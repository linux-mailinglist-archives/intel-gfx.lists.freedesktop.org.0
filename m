Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 69650E49A8
	for <lists+intel-gfx@lfdr.de>; Fri, 25 Oct 2019 13:16:24 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 76F3D6E988;
	Fri, 25 Oct 2019 11:16:22 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga09.intel.com (mga09.intel.com [134.134.136.24])
 by gabe.freedesktop.org (Postfix) with ESMTPS id F413F6E988
 for <intel-gfx@lists.freedesktop.org>; Fri, 25 Oct 2019 11:16:20 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from fmsmga002.fm.intel.com ([10.253.24.26])
 by orsmga102.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 25 Oct 2019 04:16:20 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.68,228,1569308400"; d="scan'208";a="228866993"
Received: from irsmsx151.ger.corp.intel.com ([163.33.192.59])
 by fmsmga002.fm.intel.com with ESMTP; 25 Oct 2019 04:16:19 -0700
Received: from irsmsx155.ger.corp.intel.com (163.33.192.3) by
 IRSMSX151.ger.corp.intel.com (163.33.192.59) with Microsoft SMTP Server (TLS)
 id 14.3.439.0; Fri, 25 Oct 2019 12:16:18 +0100
Received: from irsmsx106.ger.corp.intel.com ([169.254.8.185]) by
 irsmsx155.ger.corp.intel.com ([169.254.14.193]) with mapi id 14.03.0439.000;
 Fri, 25 Oct 2019 12:16:18 +0100
From: "Lisovskiy, Stanislav" <stanislav.lisovskiy@intel.com>
To: "ville.syrjala@linux.intel.com" <ville.syrjala@linux.intel.com>
Thread-Topic: [Intel-gfx] [PATCH v8 1/2] drm/i915: Refactor
 intel_can_enable_sagv
Thread-Index: AQHVixp2tiat/OxzAE6Xq8l/+In8RqdrFboAgAAE5gCAAAj6AA==
Date: Fri, 25 Oct 2019 11:16:17 +0000
Message-ID: <5cdaa38e1cb6e71243330e24877bae0fc9f08fb4.camel@intel.com>
References: <20191025095352.3891-1-stanislav.lisovskiy@intel.com>
 <20191025095352.3891-2-stanislav.lisovskiy@intel.com>
 <20191025102414.GF1208@intel.com>
 <7995e7afd0c0d6e59e62e3abac500380ba79e87b.camel@intel.com>
In-Reply-To: <7995e7afd0c0d6e59e62e3abac500380ba79e87b.camel@intel.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-originating-ip: [10.237.72.89]
Content-ID: <3AB981F9DEF6BA4B877430B5DFE4B5D7@intel.com>
MIME-Version: 1.0
Subject: Re: [Intel-gfx] [PATCH v8 1/2] drm/i915: Refactor
 intel_can_enable_sagv
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: "intel-gfx@lists.freedesktop.org" <intel-gfx@lists.freedesktop.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

T24gRnJpLCAyMDE5LTEwLTI1IGF0IDEwOjQ0ICswMDAwLCBMaXNvdnNraXksIFN0YW5pc2xhdiB3
cm90ZToNCj4gT24gRnJpLCAyMDE5LTEwLTI1IGF0IDEzOjI0ICswMzAwLCBWaWxsZSBTeXJqw6Rs
w6Qgd3JvdGU6DQo+ID4gT24gRnJpLCBPY3QgMjUsIDIwMTkgYXQgMTI6NTM6NTFQTSArMDMwMCwg
U3RhbmlzbGF2IExpc292c2tpeQ0KPiA+IHdyb3RlOg0KPiA+ID4gQ3VycmVudGx5IGludGVsX2Nh
bl9lbmFibGVfc2FndiBmdW5jdGlvbiBjb250YWlucw0KPiA+ID4gYSBtaXggb2Ygd29ya2Fyb3Vu
ZHMgZm9yIGRpZmZlcmVudCBwbGF0Zm9ybXMNCj4gPiA+IHNvbWUgb2YgdGhlbSBhcmUgbm90IHZh
bGlkIGZvciBnZW5zID49IDExIGFscmVhZHksDQo+ID4gPiBzbyBsZXRzIHNwbGl0IGl0IGludG8g
c2VwYXJhdGUgZnVuY3Rpb25zLg0KPiA+ID4gDQo+ID4gPiB2MjoNCj4gPiA+ICAgICAtIFJld29y
ayB3YXRlcm1hcmsgY2FsY3VsYXRpb24gYWxnb3JpdGhtIHRvDQo+ID4gPiAgICAgICBhdHRlbXB0
IHRvIGNhbGN1bGF0ZSBMZXZlbCAwIHdhdGVybWFyaw0KPiA+ID4gICAgICAgd2l0aCBhZGRlZCBz
YWd2IGJsb2NrIHRpbWUgbGF0ZW5jeSBhbmQNCj4gPiA+ICAgICAgIGNoZWNrIGlmIGl0IGZpdHMg
aW4gREJ1ZiBpbiBvcmRlciB0bw0KPiA+ID4gICAgICAgZGV0ZXJtaW5lIGlmIFNBR1YgY2FuIGJl
IGVuYWJsZWQgYWxyZWFkeQ0KPiA+ID4gICAgICAgYXQgdGhpcyBzdGFnZSwganVzdCBhcyBCU3Bl
YyA0OTMyNSBzdGF0ZXMuDQo+ID4gPiAgICAgICBpZiB0aGF0IGZhaWxzIHJvbGxiYWNrIHRvIHVz
dWFsIExldmVsIDANCj4gPiA+ICAgICAgIGxhdGVuY3kgYW5kIGRpc2FibGUgU0FHVi4NCj4gPiA+
ICAgICAtIFJlbW92ZSB1bm5lZWRlZCB0YWJzKEphbWVzIEF1c211cykNCj4gPiA+IA0KPiA+ID4g
djM6IFJlYmFzZWQgdGhlIHBhdGNoDQo+ID4gPiANCj4gPiA+IHY0OiAtIEFkZGVkIGJhY2sgaW50
ZXJsYWNlZCBjaGVjayBmb3IgR2VuMTIgYW5kDQo+ID4gPiAgICAgICBhZGRlZCBzZXBhcmF0ZSBm
dW5jdGlvbiBmb3IgVEdMIFNBR1YgY2hlY2sNCj4gPiA+ICAgICAgICh0aGFua3MgdG8gSmFtZXMg
QXVzbXVzIGZvciBzcG90dGluZykNCj4gPiA+ICAgICAtIFJlbW92ZWQgdW5uZWVkZWQgZ2VuIGNo
ZWNrDQo+ID4gPiAgICAgLSBFeHRyYWN0ZWQgR2VuMTIgU0FHViBkZWNpc2lvbiBtYWtpbmcgY29k
ZQ0KPiA+ID4gICAgICAgdG8gYSBzZXBhcmF0ZSBmdW5jdGlvbiBmcm9tIHNrbF9jb21wdXRlX3dt
DQo+ID4gPiANCj4gPiA+IFNpZ25lZC1vZmYtYnk6IFN0YW5pc2xhdiBMaXNvdnNraXkgPHN0YW5p
c2xhdi5saXNvdnNraXlAaW50ZWwuY29tDQo+ID4gPiA+DQo+ID4gPiBDYzogVmlsbGUgU3lyasOk
bMOkIDx2aWxsZS5zeXJqYWxhQGludGVsLmNvbT4NCj4gPiA+IENjOiBKYW1lcyBBdXNtdXMgPGph
bWVzLmF1c211c0BpbnRlbC5jb20+DQo+ID4gPiAtLS0NCj4gPiA+ICAuLi4vZHJtL2k5MTUvZGlz
cGxheS9pbnRlbF9kaXNwbGF5X3R5cGVzLmggICAgfCAgIDggKw0KPiA+ID4gIGRyaXZlcnMvZ3B1
L2RybS9pOTE1L2ludGVsX3BtLmMgICAgICAgICAgICAgICB8IDI1NA0KPiA+ID4gKysrKysrKysr
KysrKysrKystDQo+ID4gPiAgMiBmaWxlcyBjaGFuZ2VkLCAyNTQgaW5zZXJ0aW9ucygrKSwgOCBk
ZWxldGlvbnMoLSkNCj4gPiA+IA0KPiA+ID4gDQo+ID4gDQo+ID4gPiANCj4gPiA+ICAJDQo+ID4g
PiArCS8qDQo+ID4gPiArCSAqIExldHMgYXNzdW1lIHdlIGNhbiB0b2xlcmF0ZSBTQUdWIGZvciBu
b3csDQo+ID4gPiArCSAqIHVudGlsIHdhdGVybWFyayBjYWxjdWxhdGlvbnMgcHJvdmUgdGhlIG9w
cG9zaXRlDQo+ID4gPiArCSAqIGlmIGFueSBvZiB0aGUgcGlwZSBwbGFuZXMgaW4gdGhlIHN0YXRl
IHdpbGwNCj4gPiA+ICsJICogZmFpbCB0aGUgcmVxdWlyZW1lbnRzIGl0IHdpbGwgYmUgYXNzaWdu
ZWQgdG8gZmFsc2UNCj4gPiA+ICsJICogaW4gc2tsX2NvbXB1dGVfZGRiLg0KPiA+ID4gKwkgKi8N
Cj4gPiA+ICsJc3RhdGUtPmdlbjEyX2Nhbl9zYWd2ID0gdHJ1ZTsNCj4gPiA+ICsNCj4gPiA+ICsJ
Zm9yX2VhY2hfb2xkbmV3X2ludGVsX2NydGNfaW5fc3RhdGUoc3RhdGUsIGNydGMsDQo+ID4gPiBv
bGRfY3J0Y19zdGF0ZSwNCj4gPiA+ICsJCQkJCSAgICBuZXdfY3J0Y19zdGF0ZSwgaSkgew0KPiA+
ID4gKwkJcmV0ID0gdGdsX2NoZWNrX3BpcGVfZml0c19zYWd2X3dtKG5ld19jcnRjX3N0YXRlLCBk
ZGIpOw0KPiA+ID4gKwkJaWYgKHJldCkgew0KPiA+ID4gKwkJCXN0YXRlLT5nZW4xMl9jYW5fc2Fn
diA9IGZhbHNlOw0KPiA+ID4gKwkJCWJyZWFrOw0KPiA+IA0KPiA+ICsJCX0NCj4gPiANCj4gPiBU
aGlzIGlzIG5vdCBnb2luZyB0byB3b3JrLiBXZSBuZWVkIHRoZSBpbmZyb21hdGlvbiBmcm9tIF9h
bGxfDQo+ID4gcGlwZXMsDQo+ID4gbm90DQo+ID4ganVzdCB0aGUgb25lcyBpbiB0aGUgc3RhdGUu
IFdlIHByb2JhYmx5IHdhbnQgdG8gbWFrZSB0aGF0IGNhbl9zYWd2DQo+ID4gdGhpbmcNCj4gPiBh
IGJpdG1hc2sgb2YgcGlwZXMgc28gdGhhdCB3ZSBkb24ndCBoYXZlIHRvIGhhdmUgYWxsIHBpcGVz
IGluIHRoZQ0KPiA+IHN0YXRlLg0KPiANCj4gQnV0IGlzbid0IGl0IHNvIHRoYXQgZXZlbiBpZiBh
dCBsZWFzdCBvbmUgcGxhbmUvcGlwZSBjYW4ndCB0b2xlcmF0ZQ0KPiBTQUdWLCB3ZSBjYW4ndCBl
bmFibGUgaXQgYWxyZWFkeT8gU28gd2hhdCBpcyB0aGUgcG9pbnQgb2YgY2hlY2tpbmcNCj4gb3Ro
ZXIgcGxhbmVzL3BpcGVzIHRoZW4/DQo+IE9yIG1heSBiZSBJJ20gbWlzc2luZyBzb21ldGhpbmcg
aGVyZS4NCg0KT2ssIEkgdGhpbmsgSSBnZXQgeW91ciBwb2ludCBhY3R1YWxseS4gQXMgd2UgZG9u
J3QgaGF2ZSBhbGwgcGlwZXMgaW4NCnRoZSBzdGF0ZSB3ZSBtaWdodCB3cm9uZ2x5IGNvbWUgdG8g
Y29uY2x1c2lvbiB0aGF0IHdlIGNhbiBlbmFibGUgU0FHVg0KaGVyZS4gQWxzbyBwcm9iYWJseSBp
dCByZWFsbHkgbWVhbnMgdGhhdCBJIHdpbGwgaGF2ZSB0byBtb3ZlDQpnZW4xMl9jYW5fc2FndiBm
cm9tIGludGVsX2F0b21pY19zdGF0ZSB0byBvdXIgZmF2b3VyaXRlIGRldl9wcml2IHN0cnVjdA0K
YXMgd2Ugd2lsbCBoYXZlIHRvIHRyYWNrIGFsbCBvZiB0aGUgcGlwZXMgaW4gZ2xvYmFsIHN0YXRl
Lg0KDQpSZWdhcmRpbmcgMyBkaWZmZXJlbnQgY29kZSBwYXRocyBmcm9tIGNhbl9lbmFibGVfc2Fn
diBwcm9ibGVtIGlzIHRoYXQNCmluIHJlYWxpdHkgYXMgSSB1bmRlcnN0YW5kIHRob3NlIGFyZSBk
aWZmZXJlbnQsIGZvciBleGFtcGxlIHdlIGRpc2FibGUNClNBR1YgZm9yIFNLTCBpZiB0aGVyZSBt
dWx0aXBsZSBhY3RpdmUgcGlwZXMsIHdoaWxlIGZvciBJQ0wgd2UgZG9uJ3QuDQoNCkFsc28gYXMg
d2UgZGlzY3Vzc2VkIElDTCBhbmQgVEdMIGhhdmUgY29tcGxldGVseSBkaWZmZXJlbnQgd2F5cyBv
Zg0KdHJlYXRpbmcgc2Fndl9ibG9ja190aW1lKGF0IGxlYXN0IGFjY29yZGluZyB0byBjdXJyZW50
IEJTcGVjKSBJIGNvdWxkDQp1bml0ZSBhbGwgb2YgdGhvc2UgZnVuY3Rpb25zIHRvIG9uZSBob3dl
dmVyIGl0DQp3b3VsZCB0aGVuIGNvbnRhaW5zIG11bHRpcGxlIHBsYXRmb3JtIGNoZWNrcyBhbmQg
c3R1ZmYgbGlrZSB0aGF0Lg0KDQo+IA0KPiA+IA0KPiA+ID4gKwl9DQo+ID4gPiArDQo+ID4gPiAr
CWlmIChzdGF0ZS0+Z2VuMTJfY2FuX3NhZ3YpIHsNCj4gPiA+ICsJCS8qDQo+ID4gPiArCQkgKiBJ
ZiB3ZSBkZXRlcm1pbmVkIHRoYXQgd2UgY2FuIGFjdHVhbGx5IGVuYWJsZSBTQUdWLA0KPiA+ID4g
dGhlbg0KPiA+ID4gKwkJICogYWN0dWFsbHkgdXNlIHRob3NlIGxldmVscw0KPiA+ID4gdGdsX2No
ZWNrX3BpcGVfZml0c19zYWd2X3dtDQo+ID4gPiArCQkgKiBoYXMgYWxyZWFkeSB0YWtlbiBjYXJl
IG9mIGNoZWNraW5nIGlmIEwwICsgc2Fndg0KPiA+ID4gYmxvY2sgdGltZQ0KPiA+ID4gKwkJICog
Zml0cyBpbnRvIGRkYi4NCj4gPiA+ICsJCSAqLw0KPiA+ID4gKwkJZm9yX2VhY2hfb2xkbmV3X2lu
dGVsX2NydGNfaW5fc3RhdGUoc3RhdGUsIGNydGMsDQo+ID4gPiBvbGRfY3J0Y19zdGF0ZSwNCj4g
PiA+ICsJCQkJCSAgICBuZXdfY3J0Y19zdGF0ZSwgaSkgew0KPiA+ID4gKwkJCXN0cnVjdCBpbnRl
bF9wbGFuZSAqcGxhbmU7DQo+ID4gPiArCQkJZm9yX2VhY2hfaW50ZWxfcGxhbmVfb25fY3J0Yygm
ZGV2X3ByaXYtPmRybSwNCj4gPiA+IGNydGMsIHBsYW5lKSB7DQo+ID4gPiArCQkJCWVudW0gcGxh
bmVfaWQgcGxhbmVfaWQgPSBwbGFuZS0+aWQ7DQo+ID4gPiArCQkJCXN0cnVjdCBza2xfcGxhbmVf
d20gKnBsYW5lX3dtID0gXA0KPiA+ID4gKwkJCQkgICAgJm5ld19jcnRjX3N0YXRlLQ0KPiA+ID4g
PiB3bS5za2wub3B0aW1hbC5wbGFuZXNbcGxhbmVfaWRdOw0KPiA+ID4gDQo+ID4gPiArCQkJCXN0
cnVjdCBza2xfd21fbGV2ZWwgKnNhZ3Zfd20wID0NCj4gPiA+ICZwbGFuZV93bS0+c2Fndl93bV9s
MDsNCj4gPiA+ICsJCQkJc3RydWN0IHNrbF93bV9sZXZlbCAqbDBfd20wID0NCj4gPiA+ICZwbGFu
ZV93bS0+d21bMF07DQo+ID4gPiArDQo+ID4gPiArCQkJCW1lbWNweShsMF93bTAsIHNhZ3Zfd20w
LCBzaXplb2Yoc3RydWN0DQo+ID4gPiBza2xfd21fbGV2ZWwpKTsNCj4gPiA+ICsJCQl9DQo+ID4g
PiArCQl9DQo+ID4gPiArCX0NCj4gPiA+ICt9DQo+ID4gPiArDQo+ID4gPiAgc3RhdGljIGludA0K
PiA+ID4gIHNrbF9jb21wdXRlX3dtKHN0cnVjdCBpbnRlbF9hdG9taWNfc3RhdGUgKnN0YXRlKQ0K
PiA+ID4gIHsNCj4gPiA+ICsJc3RydWN0IGRybV9kZXZpY2UgKmRldiA9IHN0YXRlLT5iYXNlLmRl
djsNCj4gPiA+ICsJY29uc3Qgc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2ID0gdG9f
aTkxNShkZXYpOw0KPiA+ID4gIAlzdHJ1Y3QgaW50ZWxfY3J0YyAqY3J0YzsNCj4gPiA+ICAJc3Ry
dWN0IGludGVsX2NydGNfc3RhdGUgKm5ld19jcnRjX3N0YXRlOw0KPiA+ID4gIAlzdHJ1Y3QgaW50
ZWxfY3J0Y19zdGF0ZSAqb2xkX2NydGNfc3RhdGU7DQo+ID4gPiBAQCAtNTU1Myw2ICs1Nzg1LDkg
QEAgc2tsX2NvbXB1dGVfd20oc3RydWN0IGludGVsX2F0b21pY19zdGF0ZQ0KPiA+ID4gKnN0YXRl
KQ0KPiA+ID4gIAkvKiBDbGVhciBhbGwgZGlydHkgZmxhZ3MgKi8NCj4gPiA+ICAJcmVzdWx0cy0+
ZGlydHlfcGlwZXMgPSAwOw0KPiA+ID4gIA0KPiA+ID4gKwkvKiBJZiB3ZSBleGl0IGJlZm9yZSBj
aGVjayBpcyBkb25lICovDQo+ID4gPiArCXN0YXRlLT5nZW4xMl9jYW5fc2FndiA9IGZhbHNlOw0K
PiA+ID4gKw0KPiA+ID4gIAlyZXQgPSBza2xfZGRiX2FkZF9hZmZlY3RlZF9waXBlcyhzdGF0ZSk7
DQo+ID4gPiAgCWlmIChyZXQpDQo+ID4gPiAgCQlyZXR1cm4gcmV0Ow0KPiA+ID4gQEAgLTU1Nzks
NiArNTgxNCw5IEBAIHNrbF9jb21wdXRlX3dtKHN0cnVjdCBpbnRlbF9hdG9taWNfc3RhdGUNCj4g
PiA+ICpzdGF0ZSkNCj4gPiA+ICAJCQlyZXN1bHRzLT5kaXJ0eV9waXBlcyB8PSBCSVQoY3J0Yy0+
cGlwZSk7DQo+ID4gPiAgCX0NCj4gPiA+ICANCj4gPiA+ICsJaWYgKElOVEVMX0dFTihkZXZfcHJp
dikgPj0gMTIpDQo+ID4gPiArCQl0Z2xfY2hlY2tfYW5kX3NldF9zYWd2KHN0YXRlKTsNCj4gPiA+
ICsNCj4gPiA+ICAJcmV0ID0gc2tsX2NvbXB1dGVfZGRiKHN0YXRlKTsNCj4gPiA+ICAJaWYgKHJl
dCkNCj4gPiA+ICAJCXJldHVybiByZXQ7DQo+ID4gPiAtLSANCj4gPiA+IDIuMTcuMQ0KPiA+IA0K
PiA+IA0KPiANCj4gX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X18NCj4gSW50ZWwtZ2Z4IG1haWxpbmcgbGlzdA0KPiBJbnRlbC1nZnhAbGlzdHMuZnJlZWRlc2t0
b3Aub3JnDQo+IGh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8v
aW50ZWwtZ2Z4DQpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
XwpJbnRlbC1nZnggbWFpbGluZyBsaXN0CkludGVsLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcK
aHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9pbnRlbC1nZng=

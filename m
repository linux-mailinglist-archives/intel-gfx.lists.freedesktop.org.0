Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 538471406F5
	for <lists+intel-gfx@lfdr.de>; Fri, 17 Jan 2020 10:52:48 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 061316F4BF;
	Fri, 17 Jan 2020 09:52:46 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga01.intel.com (mga01.intel.com [192.55.52.88])
 by gabe.freedesktop.org (Postfix) with ESMTPS id CE47D6F4BF
 for <intel-gfx@lists.freedesktop.org>; Fri, 17 Jan 2020 09:52:44 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from fmsmga005.fm.intel.com ([10.253.24.32])
 by fmsmga101.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 17 Jan 2020 01:52:44 -0800
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.70,329,1574150400"; d="scan'208";a="424412507"
Received: from slisovsk-lenovo-ideapad-720s-13ikb.fi.intel.com ([10.237.72.89])
 by fmsmga005.fm.intel.com with ESMTP; 17 Jan 2020 01:52:43 -0800
From: Stanislav Lisovskiy <stanislav.lisovskiy@intel.com>
To: intel-gfx@lists.freedesktop.org
Date: Fri, 17 Jan 2020 11:50:24 +0200
Message-Id: <20200117095026.1113-4-stanislav.lisovskiy@intel.com>
X-Mailer: git-send-email 2.24.1.485.gad05a3d8e5
In-Reply-To: <20200117095026.1113-1-stanislav.lisovskiy@intel.com>
References: <20200117095026.1113-1-stanislav.lisovskiy@intel.com>
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH v13 3/5] drm/i915: Introduce parameterized
 DBUF_CTL
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

Tm93IHN0YXJ0IHVzaW5nIHBhcmFtZXRlcml6ZWQgREJVRl9DVEwgaW5zdGVhZApvZiBoYXJkY29k
ZWQsIHRoaXMgd291bGQgYWxsb3cgc2hvcnRlciBhY2Nlc3MKZnVuY3Rpb25zIHdoZW4gcmVhZGlu
ZyBvciBzdG9yaW5nIGVudGlyZSBzdGF0ZS4KClRyaWVkIHRvIGltcGxlbWVudCBpdCBpbiBhIE1N
SU9fUElQRSBtYW5uZXIsIGhvd2V2ZXIKREJVRl9DVEwxIGFkZHJlc3MgaXMgaGlnaGVyIHRoYW4g
REJVRl9DVEwyLCB3aGljaAppbXBsaWVzIHRoYXQgd2UgaGF2ZSB0byBub3cgc3VidHJhY3QgZnJv
bSBiYXNlCnJhdGhlciB0aGFuIGFkZC4KCnYyOiAtIFJlbW92ZWQgdW5uZWVkZWQgREJVRl9DVExf
RElTVCBhbmQgREJVRl9DVExfQUREUgogICAgICBtYWNyb3MuIFN0YXJ0ZWQgdG8gdXNlIF9QSUNL
IGNvbnN0cnVjdCBhcyBzdWdnZXN0ZWQKICAgICAgYnkgTWF0dCBSb3Blci4KCnYzOiAtIERCVUZf
Q1RMX1MqIHRvIF9EQlVGX0NUTF9TKiwgY2hhbmdlZCBYIHRvICJzbGljZSIKICAgICAgaW4gbWFj
cm8oVmlsbGUgU3lyasOkbMOkKQogICAgLSBfUElDSyB0byBfUElDS19FVkVOKFZpbGxlIFN5cmrD
pGzDpCkKICAgIC0gSW50cm9kdWNlZCBlbnVtIGZvciBlbnVtZXJhdGluZyBEQlVGIHNsaWNlcyhW
aWxsZSBTeXJqw6Rsw6QpCgpSZXZpZXdlZC1ieTogVmlsbGUgU3lyasOkbMOkIDx2aWxsZS5zeXJq
YWxhQGxpbnV4LmludGVsLmNvbT4KUmV2aWV3ZWQtYnk6IE1hdHQgUm9wZXIgPG1hdHRoZXcuZC5y
b3BlckBpbnRlbC5jb20+ClNpZ25lZC1vZmYtYnk6IFN0YW5pc2xhdiBMaXNvdnNraXkgPHN0YW5p
c2xhdi5saXNvdnNraXlAaW50ZWwuY29tPgotLS0KIC4uLi9kcm0vaTkxNS9kaXNwbGF5L2ludGVs
X2Rpc3BsYXlfcG93ZXIuYyAgICB8IDMwICsrKysrKysrKysrLS0tLS0tLS0KIC4uLi9kcm0vaTkx
NS9kaXNwbGF5L2ludGVsX2Rpc3BsYXlfcG93ZXIuaCAgICB8ICA1ICsrKysKIGRyaXZlcnMvZ3B1
L2RybS9pOTE1L2k5MTVfcmVnLmggICAgICAgICAgICAgICB8ICA3ICsrKy0tCiBkcml2ZXJzL2dw
dS9kcm0vaTkxNS9pbnRlbF9wbS5jICAgICAgICAgICAgICAgfCAgMiArLQogNCBmaWxlcyBjaGFu
Z2VkLCAyOCBpbnNlcnRpb25zKCspLCAxNiBkZWxldGlvbnMoLSkKCmRpZmYgLS1naXQgYS9kcml2
ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXlfcG93ZXIuYyBiL2RyaXZlcnMv
Z3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheV9wb3dlci5jCmluZGV4IDVlMWM2MDFm
MGY5OS4uMDgwNjU3MjAzOTFmIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNw
bGF5L2ludGVsX2Rpc3BsYXlfcG93ZXIuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNw
bGF5L2ludGVsX2Rpc3BsYXlfcG93ZXIuYwpAQCAtNDQxOCw5ICs0NDE4LDExIEBAIHZvaWQgaWNs
X2RidWZfc2xpY2VzX3VwZGF0ZShzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYsCiAJ
CXJldHVybjsKIAogCWlmIChyZXFfc2xpY2VzID4gaHdfZW5hYmxlZF9zbGljZXMpCi0JCXJldCA9
IGludGVsX2RidWZfc2xpY2Vfc2V0KGRldl9wcml2LCBEQlVGX0NUTF9TMiwgdHJ1ZSk7CisJCXJl
dCA9IGludGVsX2RidWZfc2xpY2Vfc2V0KGRldl9wcml2LAorCQkJCQkgICBEQlVGX0NUTF9TKERC
VUZfUzIpLCB0cnVlKTsKIAllbHNlCi0JCXJldCA9IGludGVsX2RidWZfc2xpY2Vfc2V0KGRldl9w
cml2LCBEQlVGX0NUTF9TMiwgZmFsc2UpOworCQlyZXQgPSBpbnRlbF9kYnVmX3NsaWNlX3NldChk
ZXZfcHJpdiwKKwkJCQkJICAgREJVRl9DVExfUyhEQlVGX1MyKSwgZmFsc2UpOwogCiAJaWYgKHJl
dCkKIAkJZGV2X3ByaXYtPmVuYWJsZWRfZGJ1Zl9zbGljZXNfbnVtID0gcmVxX3NsaWNlczsKQEAg
LTQ0MjgsMTQgKzQ0MzAsMTYgQEAgdm9pZCBpY2xfZGJ1Zl9zbGljZXNfdXBkYXRlKHN0cnVjdCBk
cm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiwKIAogc3RhdGljIHZvaWQgaWNsX2RidWZfZW5hYmxl
KHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdikKIHsKLQlJOTE1X1dSSVRFKERCVUZf
Q1RMX1MxLCBJOTE1X1JFQUQoREJVRl9DVExfUzEpIHwgREJVRl9QT1dFUl9SRVFVRVNUKTsKLQlJ
OTE1X1dSSVRFKERCVUZfQ1RMX1MyLCBJOTE1X1JFQUQoREJVRl9DVExfUzIpIHwgREJVRl9QT1dF
Ul9SRVFVRVNUKTsKLQlQT1NUSU5HX1JFQUQoREJVRl9DVExfUzIpOworCUk5MTVfV1JJVEUoREJV
Rl9DVExfUyhEQlVGX1MxKSwKKwkJICAgSTkxNV9SRUFEKERCVUZfQ1RMX1MoREJVRl9TMSkpIHwg
REJVRl9QT1dFUl9SRVFVRVNUKTsKKwlJOTE1X1dSSVRFKERCVUZfQ1RMX1MoREJVRl9TMiksCisJ
CSAgIEk5MTVfUkVBRChEQlVGX0NUTF9TKERCVUZfUzIpKSB8IERCVUZfUE9XRVJfUkVRVUVTVCk7
CisJUE9TVElOR19SRUFEKERCVUZfQ1RMX1MoREJVRl9TMikpOwogCiAJdWRlbGF5KDEwKTsKIAot
CWlmICghKEk5MTVfUkVBRChEQlVGX0NUTF9TMSkgJiBEQlVGX1BPV0VSX1NUQVRFKSB8fAotCSAg
ICAhKEk5MTVfUkVBRChEQlVGX0NUTF9TMikgJiBEQlVGX1BPV0VSX1NUQVRFKSkKKwlpZiAoIShJ
OTE1X1JFQUQoREJVRl9DVExfUyhEQlVGX1MxKSkgJiBEQlVGX1BPV0VSX1NUQVRFKSB8fAorCSAg
ICAhKEk5MTVfUkVBRChEQlVGX0NUTF9TKERCVUZfUzIpKSAmIERCVUZfUE9XRVJfU1RBVEUpKQog
CQlEUk1fRVJST1IoIkRCdWYgcG93ZXIgZW5hYmxlIHRpbWVvdXRcbiIpOwogCWVsc2UKIAkJLyoK
QEAgLTQ0NDcsMTQgKzQ0NTEsMTYgQEAgc3RhdGljIHZvaWQgaWNsX2RidWZfZW5hYmxlKHN0cnVj
dCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdikKIAogc3RhdGljIHZvaWQgaWNsX2RidWZfZGlz
YWJsZShzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYpCiB7Ci0JSTkxNV9XUklURShE
QlVGX0NUTF9TMSwgSTkxNV9SRUFEKERCVUZfQ1RMX1MxKSAmIH5EQlVGX1BPV0VSX1JFUVVFU1Qp
OwotCUk5MTVfV1JJVEUoREJVRl9DVExfUzIsIEk5MTVfUkVBRChEQlVGX0NUTF9TMikgJiB+REJV
Rl9QT1dFUl9SRVFVRVNUKTsKLQlQT1NUSU5HX1JFQUQoREJVRl9DVExfUzIpOworCUk5MTVfV1JJ
VEUoREJVRl9DVExfUyhEQlVGX1MxKSwKKwkJICAgSTkxNV9SRUFEKERCVUZfQ1RMX1MoREJVRl9T
MSkpICYgfkRCVUZfUE9XRVJfUkVRVUVTVCk7CisJSTkxNV9XUklURShEQlVGX0NUTF9TKERCVUZf
UzIpLAorCQkgICBJOTE1X1JFQUQoREJVRl9DVExfUyhEQlVGX1MyKSkgJiB+REJVRl9QT1dFUl9S
RVFVRVNUKTsKKwlQT1NUSU5HX1JFQUQoREJVRl9DVExfUyhEQlVGX1MyKSk7CiAKIAl1ZGVsYXko
MTApOwogCi0JaWYgKChJOTE1X1JFQUQoREJVRl9DVExfUzEpICYgREJVRl9QT1dFUl9TVEFURSkg
fHwKLQkgICAgKEk5MTVfUkVBRChEQlVGX0NUTF9TMikgJiBEQlVGX1BPV0VSX1NUQVRFKSkKKwlp
ZiAoKEk5MTVfUkVBRChEQlVGX0NUTF9TKERCVUZfUzEpKSAmIERCVUZfUE9XRVJfU1RBVEUpIHx8
CisJICAgIChJOTE1X1JFQUQoREJVRl9DVExfUyhEQlVGX1MyKSkgJiBEQlVGX1BPV0VSX1NUQVRF
KSkKIAkJRFJNX0VSUk9SKCJEQnVmIHBvd2VyIGRpc2FibGUgdGltZW91dCFcbiIpOwogCWVsc2UK
IAkJLyoKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlz
cGxheV9wb3dlci5oIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5
X3Bvd2VyLmgKaW5kZXggMjYwOGE2NWFmN2ZhLi42MDFlMDAwZmZkMGQgMTAwNjQ0Ci0tLSBhL2Ry
aXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheV9wb3dlci5oCisrKyBiL2Ry
aXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheV9wb3dlci5oCkBAIC0zMDcs
NiArMzA3LDExIEBAIGludGVsX2Rpc3BsYXlfcG93ZXJfcHV0X2FzeW5jKHN0cnVjdCBkcm1faTkx
NV9wcml2YXRlICppOTE1LAogfQogI2VuZGlmCiAKK2VudW0gZGJ1Zl9zbGljZSB7CisJREJVRl9T
MSwKKwlEQlVGX1MyLAorfTsKKwogI2RlZmluZSB3aXRoX2ludGVsX2Rpc3BsYXlfcG93ZXIoaTkx
NSwgZG9tYWluLCB3ZikgXAogCWZvciAoKHdmKSA9IGludGVsX2Rpc3BsYXlfcG93ZXJfZ2V0KChp
OTE1KSwgKGRvbWFpbikpOyAod2YpOyBcCiAJICAgICBpbnRlbF9kaXNwbGF5X3Bvd2VyX3B1dF9h
c3luYygoaTkxNSksIChkb21haW4pLCAod2YpKSwgKHdmKSA9IDApCmRpZmYgLS1naXQgYS9kcml2
ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3JlZy5oIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9y
ZWcuaAppbmRleCBlNTA3MWFmNGEzYjMuLmIzZGU2OWEwZWE1MCAxMDA2NDQKLS0tIGEvZHJpdmVy
cy9ncHUvZHJtL2k5MTUvaTkxNV9yZWcuaAorKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1
X3JlZy5oCkBAIC03NzQ1LDkgKzc3NDUsMTAgQEAgZW51bSB7CiAjZGVmaW5lIERJU1BfQVJCX0NU
TDIJX01NSU8oMHg0NTAwNCkKICNkZWZpbmUgIERJU1BfREFUQV9QQVJUSVRJT05fNV82CSgxIDw8
IDYpCiAjZGVmaW5lICBESVNQX0lQQ19FTkFCTEUJCSgxIDw8IDMpCi0jZGVmaW5lIERCVUZfQ1RM
CV9NTUlPKDB4NDUwMDgpCi0jZGVmaW5lIERCVUZfQ1RMX1MxCV9NTUlPKDB4NDUwMDgpCi0jZGVm
aW5lIERCVUZfQ1RMX1MyCV9NTUlPKDB4NDRGRTgpCisjZGVmaW5lIERCVUZfQ1RMX0FERFIxCQkJ
MHg0NTAwOAorI2RlZmluZSBEQlVGX0NUTF9BRERSMgkJCTB4NDRGRTgKKyNkZWZpbmUgREJVRl9D
VExfUyhYKQkJCV9NTUlPKF9QSUNLKFgsIERCVUZfQ1RMX0FERFIxLCBEQlVGX0NUTF9BRERSMikp
CisjZGVmaW5lIERCVUZfQ1RMCQkJREJVRl9DVExfUygwKQogI2RlZmluZSAgREJVRl9QT1dFUl9S
RVFVRVNUCQkoMSA8PCAzMSkKICNkZWZpbmUgIERCVUZfUE9XRVJfU1RBVEUJCSgxIDw8IDMwKQog
I2RlZmluZSBHRU43X01TR19DVEwJX01NSU8oMHg0NTAxMCkKZGlmZiAtLWdpdCBhL2RyaXZlcnMv
Z3B1L2RybS9pOTE1L2ludGVsX3BtLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9wbS5j
CmluZGV4IDhmNmY2NDcyNjI2YS4uZjIyNTA5ZjhhYzI4IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dw
dS9kcm0vaTkxNS9pbnRlbF9wbS5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX3Bt
LmMKQEAgLTM2NjAsNyArMzY2MCw3IEBAIHU4IGludGVsX2VuYWJsZWRfZGJ1Zl9zbGljZXNfbnVt
KHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdikKIAkgKiBvbmx5IHRoYXQgMSBzbGlj
ZSBlbmFibGVkIHVudGlsIHdlIGhhdmUgYSBwcm9wZXIgd2F5IGZvciBvbi1kZW1hbmQKIAkgKiB0
b2dnbGluZyBvZiB0aGUgc2Vjb25kIHNsaWNlLgogCSAqLwotCWlmICgwICYmIEk5MTVfUkVBRChE
QlVGX0NUTF9TMikgJiBEQlVGX1BPV0VSX1NUQVRFKQorCWlmICgwICYmIEk5MTVfUkVBRChEQlVG
X0NUTF9TKERCVUZfUzIpKSAmIERCVUZfUE9XRVJfU1RBVEUpCiAJCWVuYWJsZWRfZGJ1Zl9zbGlj
ZXNfbnVtKys7CiAKIAlyZXR1cm4gZW5hYmxlZF9kYnVmX3NsaWNlc19udW07Ci0tIAoyLjI0LjEu
NDg1LmdhZDA1YTNkOGU1CgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fXwpJbnRlbC1nZnggbWFpbGluZyBsaXN0CkludGVsLWdmeEBsaXN0cy5mcmVlZGVza3Rv
cC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9pbnRl
bC1nZngK

Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 97B581887C
	for <lists+intel-gfx@lfdr.de>; Thu,  9 May 2019 12:47:17 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 7F827892D2;
	Thu,  9 May 2019 10:47:15 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga17.intel.com (mga17.intel.com [192.55.52.151])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 0F5BB892D2
 for <intel-gfx@lists.freedesktop.org>; Thu,  9 May 2019 10:47:14 +0000 (UTC)
X-Amp-Result: UNKNOWN
X-Amp-Original-Verdict: FILE UNKNOWN
X-Amp-File-Uploaded: False
Received: from fmsmga002.fm.intel.com ([10.253.24.26])
 by fmsmga107.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 09 May 2019 03:47:13 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.60,449,1549958400"; d="scan'208";a="169931725"
Received: from ideak-desk.fi.intel.com ([10.237.72.204])
 by fmsmga002.fm.intel.com with ESMTP; 09 May 2019 03:47:12 -0700
Date: Thu, 9 May 2019 13:46:53 +0300
From: Imre Deak <imre.deak@intel.com>
To: Chris Wilson <chris@chris-wilson.co.uk>
Message-ID: <20190509104653.GB11264@ideak-desk.fi.intel.com>
References: <20190509061954.10379-1-imre.deak@intel.com>
 <20190509061954.10379-5-imre.deak@intel.com>
 <155738987437.28545.4020311833128765194@skylake-alporthouse-com>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <155738987437.28545.4020311833128765194@skylake-alporthouse-com>
User-Agent: Mutt/1.9.4 (2018-02-28)
Subject: Re: [Intel-gfx] [PATCH v2 04/11] drm/i915: Add support for
 asynchronous display power disabling
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Reply-To: imre.deak@intel.com
Cc: intel-gfx@lists.freedesktop.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

T24gVGh1LCBNYXkgMDksIDIwMTkgYXQgMDk6MTc6NTRBTSArMDEwMCwgQ2hyaXMgV2lsc29uIHdy
b3RlOgo+IFF1b3RpbmcgSW1yZSBEZWFrICgyMDE5LTA1LTA5IDA3OjE5OjQ3KQo+ID4gQnkgZGlz
YWJsaW5nIGEgcG93ZXIgZG9tYWluIGFzeW5jaHJvbm91c2x5IHdlIGNhbiByZXN0cmljdCBob2xk
aW5nIGEKPiA+IHJlZmVyZW5jZSBvbiB0aGF0IHBvd2VyIGRvbWFpbiB0byB0aGUgYWN0dWFsIGNv
ZGUgc2VxdWVuY2UgdGhhdAo+ID4gcmVxdWlyZXMgdGhlIHBvd2VyIHRvIGJlIG9uIGZvciB0aGUg
SFcgYWNjZXNzIGl0J3MgZG9pbmcsIGJ5IGFsc28KPiA+IGF2b2lkaW5nIHVubmVlZGVkIG9uLW9m
Zi1vbiB0b2dnbGluZ3Mgb2YgdGhlIHBvd2VyIGRvbWFpbiAoc2luY2UgdGhlCj4gPiBkaXNhYmxp
bmcgaGFwcGVucyB3aXRoIGEgZGVsYXkpLgo+ID4gCj4gPiBPbmUgYmVuZWZpdCBpcyBwb3RlbnRp
YWwgcG93ZXIgc2F2aW5nIGR1ZSB0byB0aGUgZm9sbG93aW5nIHR3byByZWFzb25zOgo+ID4gMS4g
VGhlIGZhY3QgdGhhdCB3ZSB3aWxsIG5vdyBiZSBob2xkaW5nIHRoZSByZWZlcmVuY2Ugb25seSBm
b3IgdGhlCj4gPiAgICBuZWNlc3NhcnkgZHVyYXRpb24gYnkgdGhlIGVuZCBvZiB0aGUgcGF0Y2hz
ZXQuIFdoaWxlIHNpbXBseSBub3QKPiA+ICAgIGRlbGF5aW5nIHRoZSBkaXNhYmxpbmcgaGFzIHRo
ZSBzYW1lIGJlbmVmaXQsIGl0IGhhcyB0aGUgcHJvYmxlbSB0aGF0Cj4gPiAgICBmcmVxdWVudCBv
bi1vZmYtb24gcG93ZXIgc3dpdGNoaW5nIGhhcyBpdHMgb3duIHBvd2VyIGNvc3QgKHNlZSB0aGUg
Mi4KPiA+ICAgIHBvaW50IGJlbG93KSBhbmQgdGhlIGRlYnVnIHRyYWNlIGZvciBwb3dlciB3ZWxs
IG9uL29mZiBldmVudHMgd2lsbAo+ID4gICAgY2F1c2UgYSBsb3Qgb2YgZG1lc2cgc3BhbSAoc2Vl
IGRldGFpbHMgYWJvdXQgdGhpcyBmdXJ0aGVyIGJlbG93KS4KPiA+IDIuIEF2b2lkaW5nIHRoZSBw
b3dlciBjb3N0IG9mIGZyZXVxZW50IG9uLW9mZi1vbiBwb3dlciBzd2l0Y2hpbmcuIFRoaXMKPiA+
ICAgIHJlcXVpcmVzIHVzIHRvIGZpbmQgdGhlIG9wdGltYWwgZGlzYWJsaW5nIGRlbGF5IGJhc2Vk
IG9uIHRoZSBtZWFzdXJlZAo+ID4gICAgcG93ZXIgY29zdCBvZiBvbi0+b2ZmIGFuZCBvZmYtPm9u
IHN3aXRjaGluZyBvZiBlYWNoIHBvd2VyIHdlbGwgdnMuCj4gPiAgICB0aGUgcG93ZXIgb2Yga2Vl
cGluZyB0aGUgZ2l2ZW4gcG93ZXIgd2VsbCBvbi4KPiA+IAo+ID4gICAgSW4gdGhpcyBwYXRjaHNl
dCBJJ20gbm90IHByb3ZpZGluZyB0aGlzIG9wdGltYWwgZGVsYXkgZm9yIHR3bwo+ID4gICAgcmVh
c29uczoKPiA+ICAgIGEpIEkgZG9uJ3QgaGF2ZSB0aGUgbWVhbnMgeWV0IHRvIHBlcmZvcm0gdGhl
IG1lYXN1cmVtZW50ICh3aXRoIGhpZ2gKPiA+ICAgICAgIGVub3VnaCBzaWduYWwtdG8tbm9pc2Ug
cmF0aW8sIG9yIHdpdGggdGhlIGhlbHAgb2YgYW4gZW5lcmd5Cj4gPiAgICAgICBjb3VudGVyIHRo
YXQgdGFrZXMgc3dpdGNoaW5nIGludG8gYWNjb3VudCkuIEknbSBjdXJyZW50bHkgbG9va2luZwo+
ID4gICAgICAgZm9yIGEgd2F5IHRvIG1lYXN1cmUgdGhpcy4KPiA+IAo+ID4gICAgYikgQmVmb3Jl
IHJlZHVjaW5nIHRoZSBkaXNhYmxpbmcgZGVsYXkgd2UgbmVlZCBhbiBhbHRlcm5hdGl2ZSB3YXkg
Zm9yCj4gPiAgICAgICBkZWJ1ZyB0cmFjaW5nIHBvd2Vyd2VsbCBvbi9vZmYgZXZlbnRzLiBTaW1w
bHkgYXZvaWRpbmcvdGhyb3R0bGluZwo+ID4gICAgICAgdGhlIGRlYnVnIG1lc3NhZ2VzIGlzIG5v
dCBhIHNvbHV0aW9uLCBzZWUgZnVydGhlciBiZWxvdy4KPiA+IAo+ID4gICAgTm90ZSB0aGF0IGV2
ZW4gaW4gdGhlIGNhc2Ugd2hlcmUgd2UgY2FuJ3QgbWVhc3VyZSBhbnkgY29uc2lkZXJhYmxlCj4g
PiAgICBwb3dlciBjb3N0IG9mIGZyZXF1ZW50IG9uLW9mZiBzd2l0Y2hpbmcgb2YgcG93ZXJ3ZWxs
cywgaXQgc3RpbGwgd291bGQKPiA+ICAgIG1ha2Ugc2Vuc2UgdG8gZG8gdGhlIGRpc2FibGluZyBh
c3luY2hyb25vdXNseSAod2l0aCAwIGRlbGF5KSB0byBhdm9pZAo+ID4gICAgYmxvY2tpbmcgb24g
dGhlIGRpc2FibGluZy4gT24gVkxWIEkgbWVhc3VyZWQgdGhpcyBkaXNhYmxpbmcgdGltZQo+ID4g
ICAgb3ZlcmhlYWQgdG8gYmUgMW1zIG9uIGF2ZXJhZ2Ugd2l0aCBhIHdvcnN0IGNhc2Ugb2YgNG1z
Lgo+IAo+IEdvb2QgcG9pbnQuIEFnYWluLCB0aGF0IHdvdWxkIGJlIG5pY2UgdG8gc2hvdyBpbiBh
IG1pY3JvYmVuY2htYXJrIC0tIHRoZQo+IGxhdGVuY3kgd2lsbCBzdGlsbCBpbXBhY3QgdGhlIHdh
a2V1cCBwYXRoIChJIGV4cGVjdCksCgpJIHRob3VnaHQgaW50ZWxfZGlzcGxheV9wb3dlcl9ncmFi
X2FzeW5jX3B1dF9yZWYoKSB3b3VsZCBhbGxldmlhdGUgdGhhdC4KCj4gdGhlIGNoYWxsZW5nZSBp
cwo+IGlkZW50aWZ5aW5nIHVzZXJzcGFjZSBwYXRoIGltcGFjdGVkIGFuZCByZWxhdGluZyB0aGF0
IHRvIHdvcmtsb2Fkcy4gVGhlCj4gZnVydGhlciBjaGFsbGVuZ2UgaXMgdGhhdCBzaW5jZSB0aGlz
IGlzIHBvd2VyIGNlbnRyaWMsIHdlIG5lZWQgdG8KPiBtZWFzdXJlIHRoZSBwb3dlciB2cyBsYXRl
bmN5IC8gdGhyb3VnaHB1dCBvZiBzdWNoIHdvcmtsb2Fkcy4KCk9rLiBJIGNhbiBvbmx5IHByb21p
c2UgdG8gZG8gdGhlc2UgYXMgYSBmb2xsb3ctdXAuIFdlJ2QgbmVlZCBtb3N0IG9mIGFsbApzb21l
IHdheSBmb3IgdGhlIHBvd2VyIG1lYXN1cmVtZW50LCBJIGFza2VkIGFib3V0IGl0IGZyb20gQXJ0
IGV0IGFsLCBidXQKaWRlYXMgYXJlIHdlbGNvbWUuIFRoZSB0aW1lIG1lYXN1cmVtZW50IGlzIGVh
c2llciwgSSB3aWxsIHB1dCB0b2dldGhlcgpzb21lIHJlcG9ydCBhYm91dCBpdCBhY3Jvc3MgYWxs
IHBsYXRmb3Jtcy4KCj4gCj4gPiBJbiB0aGUgY2FzZSBvZiB0aGUgQVVYIHBvd2VyIGRvbWFpbnMg
b24gSUNMIHdlIHdvdWxkIGFsc28gbmVlZCB0byBrZWVwCj4gPiB0aGUgc2VxdWVuY2Ugd2hlcmUg
d2UgaG9sZCB0aGUgcG93ZXIgcmVmZXJlbmNlIHNob3J0LCB0aGUgd2F5IGl0IHdvdWxkCj4gPiBi
ZSBieSB0aGUgZW5kIG9mIHRoaXMgcGF0Y2hzZXQgd2hlcmUgd2UgaG9sZCBpdCBvbmx5IGZvciB0
aGUgYWN0dWFsIEFVWAo+ID4gdHJhbnNmZXIuIEFueXRoaW5nIGVsc2Ugd291bGQgbWFrZSB0aGUg
bG9ja2luZyB3ZSBuZWVkIGZvciBJQ0wgVHlwZUMKPiA+IHBvcnRzICh3aGVuZXZlciB3ZSBob2xk
IGEgcmVmZXJlbmNlIG9uIGFueSBBVVggcG93ZXIgZG9tYWluKSByYXRoZXIKPiA+IHByb2JsZW1h
dGljLCBhZGRpbmcgZm9yIGluc3RhbmNlIHVubmVjZXNzYXJ5IGxvY2tkZXAgZGVwZW5kZW5jaWVz
IHRvCj4gPiB0aGUgcmVxdWlyZWQgVHlwZUMgcG9ydCBsb2NrLgo+ID4gCj4gPiBJIGNob3NlIHRo
ZSBkaXNhYmxpbmcgZGVsYXkgdG8gYmUgMTAwbXNlYyBmb3Igbm93IHRvIGF2b2lkIHRoZSB1bm5l
ZWRlZAo+ID4gdG9nZ2xpbmcgKGFuZCBzbyBub3QgdG8gaW50cm9kdWNlIGRtZXNnIHNwYW1taW5n
KSBpbiB0aGUgRFAgTVNUIHNpZGViYW5kCj4gPiBzaWduYWxpbmcgY29kZS4gV2UgY291bGQgb3B0
aW1pemUgdGhpcyBkZWxheSBsYXRlciwgb25jZSB3ZSBoYXZlIHRoZQo+ID4gbWVhbnMgdG8gbWVh
c3VyZSB0aGUgc3dpdGNoaW5nIHBvd2VyIGNvc3QgKHNlZSBhYm92ZSkuCj4gPiAKPiA+IE5vdGUg
dGhhdCBzaW1wbHkgcmVtb3ZpbmcvdGhyb3R0bGluZyB0aGUgZGVidWcgdHJhY2luZyBmb3IgcG93
ZXIgd2VsbAo+ID4gb24vb2ZmIGV2ZW50cyBpcyBub3QgYSBzb2x1dGlvbi4gV2UgbmVlZCB0byBr
bm93IHRoZSBleGFjdCBzcG90cyBvZgo+ID4gdGhlc2UgZXZlbnRzIGFuZCBjYW5ub3QgcmVseSBv
bmx5IG9uIGluY29ycmVjdCByZWdpc3RlciBhY2Nlc3NlcyBjYXVnaHQKPiA+IChkdWUgdG8gbm90
IGhvbGRpbmcgYSB3YWtlcmVmIGF0IHRoZSB0aW1lIG9mIGFjY2VzcykuIEluY29ycmVjdAo+ID4g
cG93ZXJ3ZWxsIGVuYWJsaW5nL2Rpc2FibGluZyBjb3VsZCBsZWFkIHRvIG90aGVyIHByb2JsZW1z
LCBmb3IgaW5zdGFuY2UKPiA+IHdlIG5lZWQgdG8ga2VlcCBjZXJ0YWluIHBvd2Vyd2VsbHMgZW5h
YmxlZCBmb3IgdGhlIGR1cmF0aW9uIG9mIG1vZGVzZXRzCj4gPiBhbmQgQVVYIHRyYW5zZmVycy4K
PiA+IAo+ID4gdjI6Cj4gPiAtIENsYXJpZnkgdGhlIGNvbW1pdCBsb2cgcGFydHMgYWJvdXQgcG93
ZXIgY29zdCBtZWFzdXJlbWVudCBhbmQgdGhlCj4gPiAgIHByb2JsZW0gb2Ygc2ltcGx5IHJlbW92
aW5nL3Rocm90dGxpbmcgZGVidWcgdHJhY2luZy4gKENocmlzKQo+ID4gLSBPcHRpbWl6ZSBvdXQg
bG9jYWwgd2FrZXJlZiB2YXJzIGF0IGludGVsX3J1bnRpbWVfcG1fcHV0X3JhdygpIGFuZAo+ID4g
ICBpbnRlbF9kaXNwbGF5X3Bvd2VyX3B1dF9hc3luYygpIGNhbGwgc2l0ZXMgaWYKPiA+ICAgQ09O
RklHX0RSTV9JOTE1X0RFQlVHX1JVTlRJTUVfUE09bi4gKENocmlzKQo+ID4gLSBSZWJhc2VkIG9u
IHYyIG9mIHRoZSB3YWtlcmVmIHcvbyBwb3dlci1vbiBndWFyYW50ZWUgcGF0Y2guCj4gPiAtIEFk
ZCBtaXNzaW5nIGRvY2Jvb2sgaGVhZGVycy4KPiA+IAo+ID4gQ2M6IENocmlzIFdpbHNvbiA8Y2hy
aXNAY2hyaXMtd2lsc29uLmNvLnVrPgo+ID4gQ2M6IFZpbGxlIFN5cmphbGEgPHZpbGxlLnN5cmph
bGFAbGludXguaW50ZWwuY29tPgo+ID4gU2lnbmVkLW9mZi1ieTogSW1yZSBEZWFrIDxpbXJlLmRl
YWtAaW50ZWwuY29tPgo+ID4gLS0tCj4gPiAgZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kcnYu
aCAgICAgICAgIHwgICA1ICsKPiA+ICBkcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9ydW50aW1l
X3BtLmMgfCAzNjIgKysrKysrKysrKysrKysrKysrKysrKystCj4gPiAgZHJpdmVycy9ncHUvZHJt
L2k5MTUvaW50ZWxfcnVudGltZV9wbS5oIHwgICA4ICsKPiA+ICAzIGZpbGVzIGNoYW5nZWQsIDM2
OCBpbnNlcnRpb25zKCspLCA3IGRlbGV0aW9ucygtKQo+ID4gCj4gPiBkaWZmIC0tZ2l0IGEvZHJp
dmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kcnYuaCBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVf
ZHJ2LmgKPiA+IGluZGV4IGQwMjU3ODA4NzM0Yy4uNTgwMWY1NDA3NTg5IDEwMDY0NAo+ID4gLS0t
IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kcnYuaAo+ID4gKysrIGIvZHJpdmVycy9ncHUv
ZHJtL2k5MTUvaTkxNV9kcnYuaAo+ID4gQEAgLTgzNCw2ICs4MzQsMTEgQEAgc3RydWN0IGk5MTVf
cG93ZXJfZG9tYWlucyB7Cj4gPiAgCj4gPiAgICAgICAgIHN0cnVjdCBtdXRleCBsb2NrOwo+ID4g
ICAgICAgICBpbnQgZG9tYWluX3VzZV9jb3VudFtQT1dFUl9ET01BSU5fTlVNXTsKPiA+ICsKPiA+
ICsgICAgICAgc3RydWN0IGRlbGF5ZWRfd29yayBhc3luY19wdXRfd29yazsKPiA+ICsgICAgICAg
aW50ZWxfd2FrZXJlZl90IGFzeW5jX3B1dF93YWtlcmVmOwo+ID4gKyAgICAgICB1NjQgYXN5bmNf
cHV0X2RvbWFpbnNbMl07Cj4gCj4gRndpdywgaW4gdGhlIGZvcmNld2FrZSBjb2RlIHdlIHVzZWQg
dGhlIHRlcm0gJ2F1dG8nIGZvciB0aGUgZXh0cmEKPiByZWZlcmVuY2UgaGVsZCBieSB0aGUgdGlt
ZXIgZm9yIHRoZSBkZWxheWVkIHJlbGVhc2VkLgoKWWVwLCBJIHJlbWVtYmVyIG5vdyB0aGF0IEFQ
SSBhbmQgSSBqdXN0IHJlYWxpemVkIG5vdyBpbiB3aGF0IGl0IGRpZmZlcnMKZnJvbSB0aGlzIG9u
ZTogaXQgd2lsbCBwdXQgdGhlIHJlZiBhdXRvbWF0aWNhbGx5IGFmdGVyIHVzZTopIFRoZSBwb3dl
cgpkb21haW4gdXNlcnMgaGF2ZSB0byBkbyBpdCBtYW51YWxseS4uIFNvIG5vdCBzdXJlIHdoaWNo
IHRlcm0gaXMgYmV0dGVyCmhlcmUsIEkgY2FuIGFsc28gZ28gd2l0aCBzL2FzeW5jX3B1dC9hdXRv
X3B1dC8sIGJ1dCB0aGVuIGRvIGl0IGZvciB0aGUKd2hvbGUgQVBJIGZvciBjb25zaXN0ZW5jeS4K
Cj4gCj4gVGhlcmUgd2UgdXNlZCBhIHRpbWVyIHBlciBmd19kb21haW4sIHdoaWNoIGFyZSBtdWNo
IGZld2VyIGluIG51bWJlciB0aGFuCj4gcG93ZXJfZG9tYWlucyEsIGJ1dCB0aGF0IGhhcyB0aGUg
YWR2YW50YWdlIG9mIGF2b2lkaW5nIGEgY2xvY2sKPiBhbGdvcml0aG0uCgpZZXAsIDggdnMuIDQw
IHNvbWV0aGluZywgYW5kIG1vcmUgc2VlbSB0byBiZSBjb21pbmc6LwoKPiAKPiA+ICsKPiA+ICAg
ICAgICAgc3RydWN0IGk5MTVfcG93ZXJfd2VsbCAqcG93ZXJfd2VsbHM7Cj4gCj4gV291bGQgc3R1
ZmZpbmcgYSB0aW1lciBpbnRvIGVhY2ggcG93ZXIgd2VsbCBiZSBzaW1wbGVyPwoKSSBjb25zaWRl
cmVkIGl0LCBpdCB3b3VsZCBiZSBhIGJpdCBzaW1wbGVyLCBidXQgd2UnZCBzdGlsbCBuZWVkIG1v
c3Qgb2YKdGhlIGxvZ2ljIChncmFiIHRoZSByZWYgZnJvbSBhIHBlbmRpbmcgYXN5bmMgcHV0LCBm
bHVzaCBsb2dpYykuIFdlIGNvdWxkCmRvIGF3YXkgd2l0aCB0aGUgcmVxdWV1aW5nIGFuZCBhc3lu
Y19wdXRfZG9tYWluc1swLzFdIHNlbGVjdGlvbiwgYnV0CnRoYXQncyBub3QgdG9vIG11Y2ggaW1v
LgoKSSBjaG9zZSB0aGlzIHdheSwgc2luY2UgSSBkaWRuJ3QgbGlrZSB0aGUgaWRlYSBvZiBtdWx0
aXBsZSB3b3JrIGl0ZW1zCmluLWZsaWdodCAoYW5kIHRoZW4gdGhvc2UgY29udGVuZGluZyBmb3Ig
dGhlIG11dGV4KS4KCj4gSnVzdCB3b25kZXJpbmcuICBBbHNvIHdvbmRlcmluZyBob3cgbXVjaCBh
bGlrZSB3ZSBjb3VsZCBtYWtlIHRoZSBhc3luYwo+IHJlbGVhc2VkIGFuZCBpZiB3ZSBjYW4gbWFr
ZSBhIHNtYWxsIGxpYnJhcnkuCgpPbmUgZGlmZmVyZW5jZSBpcyB0aGF0IHdlIG5lZWQgYSBtdXRl
eCBhbmQgc28gYSB3b3JrIGR1ZSB0byBWTFYvQ0hWLAp3aGVyZWFzIHRoZSBmb3JjZXdha2UgY29k
ZSBjYW4gZG8gb25seSB3aXRoIGEgdGltZXIuIEJ1dCBtYXliZSBWTFYvQ0hWCmNvdWxkIGJlIHNw
ZWNpYWwgY2FzZWQuIFNoYXJpbmcgdGhpbmdzIG1vcmUgd291bGQgYmUgYSBnb29kIHRoaW5nIGlu
IGFueQpjYXNlLgoKPiAKPiA+ICAKPiA+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkx
NS9pbnRlbF9ydW50aW1lX3BtLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9ydW50aW1l
X3BtLmMKPiA+IGluZGV4IDg5ZDYzMDliYjFmNy4uODI5ZDQ4M2QyN2U5IDEwMDY0NAo+ID4gLS0t
IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfcnVudGltZV9wbS5jCj4gPiArKysgYi9kcml2
ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9ydW50aW1lX3BtLmMKPiA+IEBAIC02MCw2ICs2MCwxOSBA
QAo+ID4gICAqIHByZXNlbnQgZm9yIGEgZ2l2ZW4gcGxhdGZvcm0uCj4gPiAgICovCj4gPiAgCj4g
PiArc3RhdGljIGludGVsX3dha2VyZWZfdCBpbnRlbF9ydW50aW1lX3BtX2dldF9yYXcoc3RydWN0
IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUpOwo+ID4gK3N0YXRpYyB2b2lkCj4gPiArX19pbnRlbF9y
dW50aW1lX3BtX3B1dChzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSwgaW50ZWxfd2FrZXJl
Zl90IHdyZWYsCj4gPiArICAgICAgICAgICAgICAgICAgICAgIGJvb2wgd2FrZWxvY2spOwo+ID4g
Kwo+ID4gKyNpZiBJU19FTkFCTEVEKENPTkZJR19EUk1fSTkxNV9ERUJVR19SVU5USU1FX1BNKQo+
ID4gK3N0YXRpYyB2b2lkCj4gPiAraW50ZWxfcnVudGltZV9wbV9wdXRfcmF3KHN0cnVjdCBkcm1f
aTkxNV9wcml2YXRlICppOTE1LCBpbnRlbF93YWtlcmVmX3Qgd3JlZik7Cj4gPiArI2Vsc2UKPiA+
ICsjZGVmaW5lIGludGVsX3J1bnRpbWVfcG1fcHV0X3JhdyhpOTE1LCB3cmVmKSBcCj4gPiArICAg
ICAgIF9faW50ZWxfcnVudGltZV9wbV9wdXQoaTkxNSwgLTEsIGZhbHNlKQo+ID4gKyNlbmRpZgo+
ID4gKwo+ID4gICNpZiBJU19FTkFCTEVEKENPTkZJR19EUk1fSTkxNV9ERUJVR19SVU5USU1FX1BN
KQo+ID4gIAo+ID4gICNpbmNsdWRlIDxsaW51eC9zb3J0Lmg+Cj4gPiBAQCAtMTkwMyw2ICsxOTE2
LDEyNSBAQCBzdGF0aWMgdm9pZCBjaHZfcGlwZV9wb3dlcl93ZWxsX2Rpc2FibGUoc3RydWN0IGRy
bV9pOTE1X3ByaXZhdGUgKmRldl9wcml2LAo+ID4gICAgICAgICBjaHZfc2V0X3BpcGVfcG93ZXJf
d2VsbChkZXZfcHJpdiwgcG93ZXJfd2VsbCwgZmFsc2UpOwo+ID4gIH0KPiA+ICAKPiA+ICtzdGF0
aWMgdTY0IF9fYXN5bmNfcHV0X2RvbWFpbnNfbWFzayhzdHJ1Y3QgaTkxNV9wb3dlcl9kb21haW5z
ICpwb3dlcl9kb21haW5zKQo+ID4gK3sKPiA+ICsgICAgICAgcmV0dXJuIHBvd2VyX2RvbWFpbnMt
PmFzeW5jX3B1dF9kb21haW5zWzBdIHwKPiA+ICsgICAgICAgICAgICAgIHBvd2VyX2RvbWFpbnMt
PmFzeW5jX3B1dF9kb21haW5zWzFdOwo+ID4gK30KPiA+ICsKPiA+ICsjaWYgSVNfRU5BQkxFRChD
T05GSUdfRFJNX0k5MTVfREVCVUdfUlVOVElNRV9QTSkKPiA+ICsKPiA+ICtzdGF0aWMgYm9vbAo+
ID4gK2Fzc2VydF9hc3luY19wdXRfZG9tYWluX21hc2tzX2Rpc2pvaW50KHN0cnVjdCBpOTE1X3Bv
d2VyX2RvbWFpbnMgKnBvd2VyX2RvbWFpbnMpCj4gPiArewo+ID4gKyAgICAgICByZXR1cm4gIVdB
Uk5fT04ocG93ZXJfZG9tYWlucy0+YXN5bmNfcHV0X2RvbWFpbnNbMF0gJgo+ID4gKyAgICAgICAg
ICAgICAgICAgICAgICAgcG93ZXJfZG9tYWlucy0+YXN5bmNfcHV0X2RvbWFpbnNbMV0pOwo+ID4g
K30KPiA+ICsKPiA+ICtzdGF0aWMgYm9vbAo+ID4gK19fYXN5bmNfcHV0X2RvbWFpbnNfc3RhdGVf
b2soc3RydWN0IGk5MTVfcG93ZXJfZG9tYWlucyAqcG93ZXJfZG9tYWlucykKPiA+ICt7Cj4gPiAr
ICAgICAgIGVudW0gaW50ZWxfZGlzcGxheV9wb3dlcl9kb21haW4gZG9tYWluOwo+ID4gKyAgICAg
ICBib29sIGVyciA9IGZhbHNlOwo+ID4gKwo+ID4gKyAgICAgICBlcnIgfD0gIWFzc2VydF9hc3lu
Y19wdXRfZG9tYWluX21hc2tzX2Rpc2pvaW50KHBvd2VyX2RvbWFpbnMpOwo+ID4gKyAgICAgICBl
cnIgfD0gV0FSTl9PTighIXBvd2VyX2RvbWFpbnMtPmFzeW5jX3B1dF93YWtlcmVmICE9Cj4gPiAr
ICAgICAgICAgICAgICAgICAgICAgICEhX19hc3luY19wdXRfZG9tYWluc19tYXNrKHBvd2VyX2Rv
bWFpbnMpKTsKPiA+ICsKPiA+ICsgICAgICAgZm9yX2VhY2hfcG93ZXJfZG9tYWluKGRvbWFpbiwg
X19hc3luY19wdXRfZG9tYWluc19tYXNrKHBvd2VyX2RvbWFpbnMpKQo+ID4gKyAgICAgICAgICAg
ICAgIGVyciB8PSBXQVJOX09OKHBvd2VyX2RvbWFpbnMtPmRvbWFpbl91c2VfY291bnRbZG9tYWlu
XSAhPSAxKTsKPiA+ICsKPiA+ICsgICAgICAgcmV0dXJuICFlcnI7Cj4gPiArfQo+ID4gKwo+ID4g
K3N0YXRpYyB2b2lkIHByaW50X3Bvd2VyX2RvbWFpbnMoc3RydWN0IGk5MTVfcG93ZXJfZG9tYWlu
cyAqcG93ZXJfZG9tYWlucywKPiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29u
c3QgY2hhciAqcHJlZml4LCB1NjQgbWFzaykKPiA+ICt7Cj4gPiArICAgICAgIGVudW0gaW50ZWxf
ZGlzcGxheV9wb3dlcl9kb21haW4gZG9tYWluOwo+ID4gKwo+ID4gKyAgICAgICBEUk1fREVCVUdf
RFJJVkVSKCIlcyAoJWx1KTpcbiIsIHByZWZpeCwgaHdlaWdodDY0KG1hc2spKTsKPiA+ICsgICAg
ICAgZm9yX2VhY2hfcG93ZXJfZG9tYWluKGRvbWFpbiwgbWFzaykKPiA+ICsgICAgICAgICAgICAg
ICBEUk1fREVCVUdfRFJJVkVSKCIlcyB1c2VfY291bnQgJWRcbiIsCj4gPiArICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICBpbnRlbF9kaXNwbGF5X3Bvd2VyX2RvbWFpbl9zdHIoZG9tYWlu
KSwKPiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvd2VyX2RvbWFpbnMtPmRv
bWFpbl91c2VfY291bnRbZG9tYWluXSk7Cj4gPiArfQo+ID4gKwo+ID4gK3N0YXRpYyB2b2lkCj4g
PiArcHJpbnRfYXN5bmNfcHV0X2RvbWFpbnNfc3RhdGUoc3RydWN0IGk5MTVfcG93ZXJfZG9tYWlu
cyAqcG93ZXJfZG9tYWlucykKPiA+ICt7Cj4gPiArICAgICAgIERSTV9ERUJVR19EUklWRVIoImFz
eW5jX3B1dF93YWtlcmVmICV1XG4iLAo+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgIHBvd2Vy
X2RvbWFpbnMtPmFzeW5jX3B1dF93YWtlcmVmKTsKPiA+ICsKPiA+ICsgICAgICAgcHJpbnRfcG93
ZXJfZG9tYWlucyhwb3dlcl9kb21haW5zLCAiYXN5bmNfcHV0X2RvbWFpbnNbMF0iLAo+ID4gKyAg
ICAgICAgICAgICAgICAgICAgICAgICAgIHBvd2VyX2RvbWFpbnMtPmFzeW5jX3B1dF9kb21haW5z
WzBdKTsKPiA+ICsgICAgICAgcHJpbnRfcG93ZXJfZG9tYWlucyhwb3dlcl9kb21haW5zLCAiYXN5
bmNfcHV0X2RvbWFpbnNbMV0iLAo+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvd2Vy
X2RvbWFpbnMtPmFzeW5jX3B1dF9kb21haW5zWzFdKTsKPiA+ICt9Cj4gPiArCj4gPiArc3RhdGlj
IHZvaWQKPiA+ICt2ZXJpZnlfYXN5bmNfcHV0X2RvbWFpbnNfc3RhdGUoc3RydWN0IGk5MTVfcG93
ZXJfZG9tYWlucyAqcG93ZXJfZG9tYWlucykKPiA+ICt7Cj4gPiArICAgICAgIGlmICghX19hc3lu
Y19wdXRfZG9tYWluc19zdGF0ZV9vayhwb3dlcl9kb21haW5zKSkKPiA+ICsgICAgICAgICAgICAg
ICBwcmludF9hc3luY19wdXRfZG9tYWluc19zdGF0ZShwb3dlcl9kb21haW5zKTsKPiA+ICt9Cj4g
PiArCj4gPiArI2Vsc2UKPiA+ICsKPiA+ICtzdGF0aWMgdm9pZAo+ID4gK2Fzc2VydF9hc3luY19w
dXRfZG9tYWluX21hc2tzX2Rpc2pvaW50KHN0cnVjdCBpOTE1X3Bvd2VyX2RvbWFpbnMgKnBvd2Vy
X2RvbWFpbnMpCj4gPiArewo+ID4gK30KPiA+ICsKPiA+ICtzdGF0aWMgdm9pZAo+ID4gK3Zlcmlm
eV9hc3luY19wdXRfZG9tYWluc19zdGF0ZShzdHJ1Y3QgaTkxNV9wb3dlcl9kb21haW5zICpwb3dl
cl9kb21haW5zKQo+ID4gK3sKPiA+ICt9Cj4gPiArCj4gPiArI2VuZGlmIC8qIENPTkZJR19EUk1f
STkxNV9ERUJVR19SVU5USU1FX1BNICovCj4gPiArCj4gPiArc3RhdGljIHU2NCBhc3luY19wdXRf
ZG9tYWluc19tYXNrKHN0cnVjdCBpOTE1X3Bvd2VyX2RvbWFpbnMgKnBvd2VyX2RvbWFpbnMpCj4g
PiArewo+ID4gKyAgICAgICBhc3NlcnRfYXN5bmNfcHV0X2RvbWFpbl9tYXNrc19kaXNqb2ludChw
b3dlcl9kb21haW5zKTsKPiA+ICsKPiA+ICsgICAgICAgcmV0dXJuIF9fYXN5bmNfcHV0X2RvbWFp
bnNfbWFzayhwb3dlcl9kb21haW5zKTsKPiA+ICt9Cj4gPiArCj4gPiArc3RhdGljIHZvaWQKPiA+
ICthc3luY19wdXRfZG9tYWluc19jbGVhcl9kb21haW4oc3RydWN0IGk5MTVfcG93ZXJfZG9tYWlu
cyAqcG93ZXJfZG9tYWlucywKPiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnVt
IGludGVsX2Rpc3BsYXlfcG93ZXJfZG9tYWluIGRvbWFpbikKPiA+ICt7Cj4gPiArICAgICAgIGFz
c2VydF9hc3luY19wdXRfZG9tYWluX21hc2tzX2Rpc2pvaW50KHBvd2VyX2RvbWFpbnMpOwo+ID4g
Kwo+ID4gKyAgICAgICBwb3dlcl9kb21haW5zLT5hc3luY19wdXRfZG9tYWluc1swXSAmPSB+QklU
X1VMTChkb21haW4pOwo+ID4gKyAgICAgICBwb3dlcl9kb21haW5zLT5hc3luY19wdXRfZG9tYWlu
c1sxXSAmPSB+QklUX1VMTChkb21haW4pOwo+ID4gK30KPiA+ICsKPiA+ICtzdGF0aWMgYm9vbAo+
ID4gK2ludGVsX2Rpc3BsYXlfcG93ZXJfZ3JhYl9hc3luY19wdXRfcmVmKHN0cnVjdCBkcm1faTkx
NV9wcml2YXRlICpkZXZfcHJpdiwKPiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgIGVudW0gaW50ZWxfZGlzcGxheV9wb3dlcl9kb21haW4gZG9tYWluKQo+ID4gK3sKPiA+
ICsgICAgICAgc3RydWN0IGk5MTVfcG93ZXJfZG9tYWlucyAqcG93ZXJfZG9tYWlucyA9ICZkZXZf
cHJpdi0+cG93ZXJfZG9tYWluczsKPiA+ICsgICAgICAgYm9vbCByZXQgPSBmYWxzZTsKPiA+ICsK
PiA+ICsgICAgICAgaWYgKCEoYXN5bmNfcHV0X2RvbWFpbnNfbWFzayhwb3dlcl9kb21haW5zKSAm
IEJJVF9VTEwoZG9tYWluKSkpCj4gPiArICAgICAgICAgICAgICAgZ290byBvdXRfdmVyaWZ5Owo+
ID4gKwo+ID4gKyAgICAgICBhc3luY19wdXRfZG9tYWluc19jbGVhcl9kb21haW4ocG93ZXJfZG9t
YWlucywgZG9tYWluKTsKPiA+ICsKPiA+ICsgICAgICAgcmV0ID0gdHJ1ZTsKPiA+ICsKPiA+ICsg
ICAgICAgaWYgKGFzeW5jX3B1dF9kb21haW5zX21hc2socG93ZXJfZG9tYWlucykpCj4gPiArICAg
ICAgICAgICAgICAgZ290byBvdXRfdmVyaWZ5Owo+ID4gKwo+ID4gKyAgICAgICBjYW5jZWxfZGVs
YXllZF93b3JrKCZwb3dlcl9kb21haW5zLT5hc3luY19wdXRfd29yayk7Cj4gPiArICAgICAgIGlu
dGVsX3J1bnRpbWVfcG1fcHV0X3JhdyhkZXZfcHJpdiwKPiA+ICsgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgIGZldGNoX2FuZF96ZXJvKCZwb3dlcl9kb21haW5zLT5hc3luY19wdXRfd2Fr
ZXJlZikpOwo+ID4gK291dF92ZXJpZnk6Cj4gPiArICAgICAgIHZlcmlmeV9hc3luY19wdXRfZG9t
YWluc19zdGF0ZShwb3dlcl9kb21haW5zKTsKPiA+ICsKPiA+ICsgICAgICAgcmV0dXJuIHJldDsK
PiA+ICt9Cj4gPiArCj4gPiAgc3RhdGljIHZvaWQKPiA+ICBfX2ludGVsX2Rpc3BsYXlfcG93ZXJf
Z2V0X2RvbWFpbihzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYsCj4gPiAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICBlbnVtIGludGVsX2Rpc3BsYXlfcG93ZXJfZG9tYWlu
IGRvbWFpbikKPiA+IEBAIC0xOTEwLDYgKzIwNDIsOSBAQCBfX2ludGVsX2Rpc3BsYXlfcG93ZXJf
Z2V0X2RvbWFpbihzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYsCj4gPiAgICAgICAg
IHN0cnVjdCBpOTE1X3Bvd2VyX2RvbWFpbnMgKnBvd2VyX2RvbWFpbnMgPSAmZGV2X3ByaXYtPnBv
d2VyX2RvbWFpbnM7Cj4gPiAgICAgICAgIHN0cnVjdCBpOTE1X3Bvd2VyX3dlbGwgKnBvd2VyX3dl
bGw7Cj4gPiAgCj4gPiArICAgICAgIGlmIChpbnRlbF9kaXNwbGF5X3Bvd2VyX2dyYWJfYXN5bmNf
cHV0X3JlZihkZXZfcHJpdiwgZG9tYWluKSkKPiA+ICsgICAgICAgICAgICAgICByZXR1cm47Cj4g
PiArCj4gPiAgICAgICAgIGZvcl9lYWNoX3Bvd2VyX2RvbWFpbl93ZWxsKGRldl9wcml2LCBwb3dl
cl93ZWxsLCBCSVRfVUxMKGRvbWFpbikpCj4gPiAgICAgICAgICAgICAgICAgaW50ZWxfcG93ZXJf
d2VsbF9nZXQoZGV2X3ByaXYsIHBvd2VyX3dlbGwpOwo+ID4gIAo+ID4gQEAgLTE5MzUsOSArMjA3
MCw3IEBAIGludGVsX3dha2VyZWZfdCBpbnRlbF9kaXNwbGF5X3Bvd2VyX2dldChzdHJ1Y3QgZHJt
X2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYsCj4gPiAgICAgICAgIGludGVsX3dha2VyZWZfdCB3YWtl
cmVmID0gaW50ZWxfcnVudGltZV9wbV9nZXQoZGV2X3ByaXYpOwo+ID4gIAo+ID4gICAgICAgICBt
dXRleF9sb2NrKCZwb3dlcl9kb21haW5zLT5sb2NrKTsKPiA+IC0KPiA+ICAgICAgICAgX19pbnRl
bF9kaXNwbGF5X3Bvd2VyX2dldF9kb21haW4oZGV2X3ByaXYsIGRvbWFpbik7Cj4gPiAtCj4gPiAg
ICAgICAgIG11dGV4X3VubG9jaygmcG93ZXJfZG9tYWlucy0+bG9jayk7Cj4gPiAgCj4gPiAgICAg
ICAgIHJldHVybiB3YWtlcmVmOwo+ID4gQEAgLTE5ODYsMjQgKzIxMTksMzYgQEAgaW50ZWxfZGlz
cGxheV9wb3dlcl9nZXRfaWZfZW5hYmxlZChzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3By
aXYsCj4gPiAgICAgICAgIHJldHVybiB3YWtlcmVmOwo+ID4gIH0KPiA+ICAKPiA+IC1zdGF0aWMg
dm9pZCBfX2ludGVsX2Rpc3BsYXlfcG93ZXJfcHV0KHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpk
ZXZfcHJpdiwKPiA+IC0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW51bSBp
bnRlbF9kaXNwbGF5X3Bvd2VyX2RvbWFpbiBkb21haW4pCj4gPiArc3RhdGljIHZvaWQKPiA+ICtf
X2ludGVsX2Rpc3BsYXlfcG93ZXJfcHV0X2RvbWFpbihzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAq
ZGV2X3ByaXYsCj4gPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnVtIGludGVs
X2Rpc3BsYXlfcG93ZXJfZG9tYWluIGRvbWFpbikKPiA+ICB7Cj4gPiAgICAgICAgIHN0cnVjdCBp
OTE1X3Bvd2VyX2RvbWFpbnMgKnBvd2VyX2RvbWFpbnM7Cj4gPiAgICAgICAgIHN0cnVjdCBpOTE1
X3Bvd2VyX3dlbGwgKnBvd2VyX3dlbGw7Cj4gPiArICAgICAgIGNvbnN0IGNoYXIgKm5hbWUgPSBp
bnRlbF9kaXNwbGF5X3Bvd2VyX2RvbWFpbl9zdHIoZG9tYWluKTsKPiA+ICAKPiA+ICAgICAgICAg
cG93ZXJfZG9tYWlucyA9ICZkZXZfcHJpdi0+cG93ZXJfZG9tYWluczsKPiA+ICAKPiA+IC0gICAg
ICAgbXV0ZXhfbG9jaygmcG93ZXJfZG9tYWlucy0+bG9jayk7Cj4gPiAtCj4gPiAgICAgICAgIFdB
Uk4oIXBvd2VyX2RvbWFpbnMtPmRvbWFpbl91c2VfY291bnRbZG9tYWluXSwKPiA+ICAgICAgICAg
ICAgICAiVXNlIGNvdW50IG9uIGRvbWFpbiAlcyBpcyBhbHJlYWR5IHplcm9cbiIsCj4gPiAtICAg
ICAgICAgICAgaW50ZWxfZGlzcGxheV9wb3dlcl9kb21haW5fc3RyKGRvbWFpbikpOwo+ID4gKyAg
ICAgICAgICAgIG5hbWUpOwo+ID4gKyAgICAgICBXQVJOKGFzeW5jX3B1dF9kb21haW5zX21hc2so
cG93ZXJfZG9tYWlucykgJiBCSVRfVUxMKGRvbWFpbiksCj4gPiArICAgICAgICAgICAgIkFzeW5j
IGRpc2FibGluZyBvZiBkb21haW4gJXMgaXMgcGVuZGluZ1xuIiwKPiA+ICsgICAgICAgICAgICBu
YW1lKTsKPiA+ICsKPiA+ICAgICAgICAgcG93ZXJfZG9tYWlucy0+ZG9tYWluX3VzZV9jb3VudFtk
b21haW5dLS07Cj4gPiAgCj4gPiAgICAgICAgIGZvcl9lYWNoX3Bvd2VyX2RvbWFpbl93ZWxsX3Jl
dmVyc2UoZGV2X3ByaXYsIHBvd2VyX3dlbGwsIEJJVF9VTEwoZG9tYWluKSkKPiA+ICAgICAgICAg
ICAgICAgICBpbnRlbF9wb3dlcl93ZWxsX3B1dChkZXZfcHJpdiwgcG93ZXJfd2VsbCk7Cj4gPiAr
fQo+ID4gIAo+ID4gK3N0YXRpYyB2b2lkIF9faW50ZWxfZGlzcGxheV9wb3dlcl9wdXQoc3RydWN0
IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2LAo+ID4gKyAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICBlbnVtIGludGVsX2Rpc3BsYXlfcG93ZXJfZG9tYWluIGRvbWFpbikKPiA+
ICt7Cj4gPiArICAgICAgIHN0cnVjdCBpOTE1X3Bvd2VyX2RvbWFpbnMgKnBvd2VyX2RvbWFpbnMg
PSAmZGV2X3ByaXYtPnBvd2VyX2RvbWFpbnM7Cj4gPiArCj4gPiArICAgICAgIG11dGV4X2xvY2so
JnBvd2VyX2RvbWFpbnMtPmxvY2spOwo+ID4gKyAgICAgICBfX2ludGVsX2Rpc3BsYXlfcG93ZXJf
cHV0X2RvbWFpbihkZXZfcHJpdiwgZG9tYWluKTsKPiA+ICAgICAgICAgbXV0ZXhfdW5sb2NrKCZw
b3dlcl9kb21haW5zLT5sb2NrKTsKPiA+ICB9Cj4gPiAgCj4gPiBAQCAtMjAyNyw2ICsyMTcyLDE4
NyBAQCB2b2lkIGludGVsX2Rpc3BsYXlfcG93ZXJfcHV0X3VuY2hlY2tlZChzdHJ1Y3QgZHJtX2k5
MTVfcHJpdmF0ZSAqZGV2X3ByaXYsCj4gPiAgICAgICAgIGludGVsX3J1bnRpbWVfcG1fcHV0X3Vu
Y2hlY2tlZChkZXZfcHJpdik7Cj4gPiAgfQo+ID4gIAo+ID4gK3N0YXRpYyB2b2lkCj4gPiArcXVl
dWVfYXN5bmNfcHV0X2RvbWFpbnNfd29yayhzdHJ1Y3QgaTkxNV9wb3dlcl9kb21haW5zICpwb3dl
cl9kb21haW5zLAo+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnRlbF93YWtlcmVm
X3Qgd2FrZXJlZikKPiA+ICt7Cj4gPiArICAgICAgIFdBUk5fT04ocG93ZXJfZG9tYWlucy0+YXN5
bmNfcHV0X3dha2VyZWYpOwo+ID4gKyAgICAgICBwb3dlcl9kb21haW5zLT5hc3luY19wdXRfd2Fr
ZXJlZiA9IHdha2VyZWY7Cj4gPiArICAgICAgIFdBUk5fT04oIXF1ZXVlX2RlbGF5ZWRfd29yayhz
eXN0ZW1fdW5ib3VuZF93cSwKPiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICZwb3dlcl9kb21haW5zLT5hc3luY19wdXRfd29yaywKPiA+ICsgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgIG1zZWNzX3RvX2ppZmZpZXMoMTAwKSkpOwo+ID4gK30KPiA+ICsKPiA+
ICtzdGF0aWMgdm9pZAo+ID4gK3JlbGVhc2VfYXN5bmNfcHV0X2RvbWFpbnMoc3RydWN0IGk5MTVf
cG93ZXJfZG9tYWlucyAqcG93ZXJfZG9tYWlucywgdTY0IG1hc2spCj4gPiArewo+ID4gKyAgICAg
ICBzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYgPQo+ID4gKyAgICAgICAgICAgICAg
IGNvbnRhaW5lcl9vZihwb3dlcl9kb21haW5zLCBzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSwKPiA+
ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG93ZXJfZG9tYWlucyk7Cj4gPiArICAgICAg
IGVudW0gaW50ZWxfZGlzcGxheV9wb3dlcl9kb21haW4gZG9tYWluOwo+ID4gKyAgICAgICBpbnRl
bF93YWtlcmVmX3Qgd2FrZXJlZjsKPiA+ICsKPiA+ICsgICAgICAgLyoKPiA+ICsgICAgICAgICog
VGhlIGNhbGxlciBtdXN0IGhvbGQgYWxyZWFkeSByYXcgd2FrZXJlZiwgdXBncmFkZSB0aGF0IHRv
IGEgcHJvcGVyCj4gPiArICAgICAgICAqIHdha2VyZWYgdG8gbWFrZSB0aGUgc3RhdGUgY2hlY2tl
ciBoYXBweSBhYm91dCB0aGUgSFcgYWNjZXNzIGR1cmluZwo+ID4gKyAgICAgICAgKiBwb3dlciB3
ZWxsIGRpc2FibGluZy4KPiA+ICsgICAgICAgICovCj4gPiArICAgICAgIGFzc2VydF9ycG1fcmF3
X3dha2VyZWZfaGVsZChkZXZfcHJpdik7Cj4gPiArICAgICAgIHdha2VyZWYgPSBpbnRlbF9ydW50
aW1lX3BtX2dldChkZXZfcHJpdik7Cj4gPiArCj4gPiArICAgICAgIGZvcl9lYWNoX3Bvd2VyX2Rv
bWFpbihkb21haW4sIG1hc2spIHsKPiA+ICsgICAgICAgICAgICAgICAvKiBDbGVhciBiZWZvcmUg
cHV0LCBzbyBwdXQncyBzYW5pdHkgY2hlY2sgaXMgaGFwcHkuICovCj4gPiArICAgICAgICAgICAg
ICAgYXN5bmNfcHV0X2RvbWFpbnNfY2xlYXJfZG9tYWluKHBvd2VyX2RvbWFpbnMsIGRvbWFpbik7
Cj4gPiArICAgICAgICAgICAgICAgX19pbnRlbF9kaXNwbGF5X3Bvd2VyX3B1dF9kb21haW4oZGV2
X3ByaXYsIGRvbWFpbik7Cj4gPiArICAgICAgIH0KPiA+ICsKPiA+ICsgICAgICAgaW50ZWxfcnVu
dGltZV9wbV9wdXQoZGV2X3ByaXYsIHdha2VyZWYpOwo+ID4gK30KPiA+ICsKPiA+ICtzdGF0aWMg
dm9pZAo+ID4gK2ludGVsX2Rpc3BsYXlfcG93ZXJfcHV0X2FzeW5jX3dvcmsoc3RydWN0IHdvcmtf
c3RydWN0ICp3b3JrKQo+ID4gK3sKPiA+ICsgICAgICAgc3RydWN0IGRybV9pOTE1X3ByaXZhdGUg
KmRldl9wcml2ID0KPiA+ICsgICAgICAgICAgICAgICBjb250YWluZXJfb2Yod29yaywgc3RydWN0
IGRybV9pOTE1X3ByaXZhdGUsCj4gPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvd2Vy
X2RvbWFpbnMuYXN5bmNfcHV0X3dvcmsud29yayk7Cj4gPiArICAgICAgIHN0cnVjdCBpOTE1X3Bv
d2VyX2RvbWFpbnMgKnBvd2VyX2RvbWFpbnMgPSAmZGV2X3ByaXYtPnBvd2VyX2RvbWFpbnM7Cj4g
PiArICAgICAgIGludGVsX3dha2VyZWZfdCBuZXdfd29ya193YWtlcmVmID0gaW50ZWxfcnVudGlt
ZV9wbV9nZXRfcmF3KGRldl9wcml2KTsKPiA+ICsgICAgICAgaW50ZWxfd2FrZXJlZl90IG9sZF93
b3JrX3dha2VyZWYgPSAwOwo+ID4gKwo+ID4gKyAgICAgICBtdXRleF9sb2NrKCZwb3dlcl9kb21h
aW5zLT5sb2NrKTsKPiA+ICsKPiA+ICsgICAgICAgLyoKPiA+ICsgICAgICAgICogQmFpbCBvdXQg
aWYgYWxsIHRoZSBkb21haW4gcmVmcyBwZW5kaW5nIHRvIGJlIHJlbGVhc2VkIHdlcmUgZ3JhYmJl
ZAo+ID4gKyAgICAgICAgKiBieSBzdWJzZXF1ZW50IGdldHMgb3IgYSBmbHVzaF93b3JrLgo+ID4g
KyAgICAgICAgKi8KPiA+ICsgICAgICAgb2xkX3dvcmtfd2FrZXJlZiA9IGZldGNoX2FuZF96ZXJv
KCZwb3dlcl9kb21haW5zLT5hc3luY19wdXRfd2FrZXJlZik7Cj4gPiArICAgICAgIGlmICghb2xk
X3dvcmtfd2FrZXJlZikKPiA+ICsgICAgICAgICAgICAgICBnb3RvIG91dF92ZXJpZnk7Cj4gPiAr
Cj4gPiArICAgICAgIHJlbGVhc2VfYXN5bmNfcHV0X2RvbWFpbnMocG93ZXJfZG9tYWlucywKPiA+
ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3dlcl9kb21haW5zLT5hc3luY19w
dXRfZG9tYWluc1swXSk7Cj4gPiArCj4gPiArICAgICAgIC8qIFJlcXVldWUgdGhlIHdvcmsgaWYg
bW9yZSBkb21haW5zIHdlcmUgYXN5bmMgcHV0IG1lYW53aGlsZS4gKi8KPiA+ICsgICAgICAgaWYg
KHBvd2VyX2RvbWFpbnMtPmFzeW5jX3B1dF9kb21haW5zWzFdKSB7Cj4gPiArICAgICAgICAgICAg
ICAgcG93ZXJfZG9tYWlucy0+YXN5bmNfcHV0X2RvbWFpbnNbMF0gPQo+ID4gKyAgICAgICAgICAg
ICAgICAgICAgICAgZmV0Y2hfYW5kX3plcm8oJnBvd2VyX2RvbWFpbnMtPmFzeW5jX3B1dF9kb21h
aW5zWzFdKTsKPiA+ICsgICAgICAgICAgICAgICBxdWV1ZV9hc3luY19wdXRfZG9tYWluc193b3Jr
KHBvd2VyX2RvbWFpbnMsCj4gPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICBmZXRjaF9hbmRfemVybygmbmV3X3dvcmtfd2FrZXJlZikpOwo+ID4gKyAgICAgICB9
Cj4gPiArCj4gPiArb3V0X3ZlcmlmeToKPiA+ICsgICAgICAgdmVyaWZ5X2FzeW5jX3B1dF9kb21h
aW5zX3N0YXRlKHBvd2VyX2RvbWFpbnMpOwo+ID4gKwo+ID4gKyAgICAgICBtdXRleF91bmxvY2so
JnBvd2VyX2RvbWFpbnMtPmxvY2spOwo+ID4gKwo+ID4gKyAgICAgICBpZiAob2xkX3dvcmtfd2Fr
ZXJlZikKPiA+ICsgICAgICAgICAgICAgICBpbnRlbF9ydW50aW1lX3BtX3B1dF9yYXcoZGV2X3By
aXYsIG9sZF93b3JrX3dha2VyZWYpOwo+ID4gKyAgICAgICBpZiAobmV3X3dvcmtfd2FrZXJlZikK
PiA+ICsgICAgICAgICAgICAgICBpbnRlbF9ydW50aW1lX3BtX3B1dF9yYXcoZGV2X3ByaXYsIG5l
d193b3JrX3dha2VyZWYpOwo+ID4gK30KPiA+ICsvKioKPiA+ICsgKiBpbnRlbF9kaXNwbGF5X3Bv
d2VyX3B1dF9hc3luYyAtIHJlbGVhc2UgYSBwb3dlciBkb21haW4gcmVmZXJlbmNlIGFzeW5jaHJv
bm91c2x5Cj4gPiArICogQGk5MTU6IGk5MTUgZGV2aWNlIGluc3RhbmNlCj4gPiArICogQGRvbWFp
bjogcG93ZXIgZG9tYWluIHRvIHJlZmVyZW5jZQo+ID4gKyAqIEB3YWtlcmVmOiB3YWtlcmVmIGFj
cXVpcmVkIGZvciB0aGUgcmVmZXJlbmNlIHRoYXQgaXMgYmVpbmcgcmVsZWFzZWQKPiA+ICsgKgo+
ID4gKyAqIFRoaXMgZnVuY3Rpb24gZHJvcHMgdGhlIHBvd2VyIGRvbWFpbiByZWZlcmVuY2Ugb2J0
YWluZWQgYnkKPiA+ICsgKiBpbnRlbF9kaXNwbGF5X3Bvd2VyX2dldCooKSBhbmQgc2NoZWR1bGVz
IGEgd29yayB0byBwb3dlciBkb3duIHRoZQo+ID4gKyAqIGNvcnJlc3BvbmRpbmcgaGFyZHdhcmUg
YmxvY2sgaWYgdGhpcyBpcyB0aGUgbGFzdCByZWZlcmVuY2UuCj4gPiArICovCj4gPiArdm9pZCBf
X2ludGVsX2Rpc3BsYXlfcG93ZXJfcHV0X2FzeW5jKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpp
OTE1LAo+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVudW0gaW50ZWxf
ZGlzcGxheV9wb3dlcl9kb21haW4gZG9tYWluLAo+ID4gKyAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgIGludGVsX3dha2VyZWZfdCB3YWtlcmVmKQo+ID4gK3sKPiA+ICsgICAgICAg
c3RydWN0IGk5MTVfcG93ZXJfZG9tYWlucyAqcG93ZXJfZG9tYWlucyA9ICZpOTE1LT5wb3dlcl9k
b21haW5zOwo+ID4gKyAgICAgICBpbnRlbF93YWtlcmVmX3Qgd29ya193YWtlcmVmID0gaW50ZWxf
cnVudGltZV9wbV9nZXRfcmF3KGk5MTUpOwo+ID4gKwo+ID4gKyAgICAgICBtdXRleF9sb2NrKCZw
b3dlcl9kb21haW5zLT5sb2NrKTsKPiA+ICsKPiA+ICsgICAgICAgaWYgKHBvd2VyX2RvbWFpbnMt
PmRvbWFpbl91c2VfY291bnRbZG9tYWluXSA+IDEpIHsKPiA+ICsgICAgICAgICAgICAgICBfX2lu
dGVsX2Rpc3BsYXlfcG93ZXJfcHV0X2RvbWFpbihpOTE1LCBkb21haW4pOwo+ID4gKwo+ID4gKyAg
ICAgICAgICAgICAgIGdvdG8gb3V0X3ZlcmlmeTsKPiA+ICsgICAgICAgfQo+ID4gKwo+ID4gKyAg
ICAgICBXQVJOX09OKHBvd2VyX2RvbWFpbnMtPmRvbWFpbl91c2VfY291bnRbZG9tYWluXSAhPSAx
KTsKPiA+ICsKPiA+ICsgICAgICAgLyogTGV0IGEgcGVuZGluZyB3b3JrIHJlcXVldWUgaXRzZWxm
IG9yIHF1ZXVlIGEgbmV3IG9uZS4gKi8KPiA+ICsgICAgICAgaWYgKHBvd2VyX2RvbWFpbnMtPmFz
eW5jX3B1dF93YWtlcmVmKSB7Cj4gPiArICAgICAgICAgICAgICAgcG93ZXJfZG9tYWlucy0+YXN5
bmNfcHV0X2RvbWFpbnNbMV0gfD0gQklUX1VMTChkb21haW4pOwo+ID4gKyAgICAgICB9IGVsc2Ug
ewo+ID4gKyAgICAgICAgICAgICAgIHBvd2VyX2RvbWFpbnMtPmFzeW5jX3B1dF9kb21haW5zWzBd
IHw9IEJJVF9VTEwoZG9tYWluKTsKPiA+ICsgICAgICAgICAgICAgICBxdWV1ZV9hc3luY19wdXRf
ZG9tYWluc193b3JrKHBvd2VyX2RvbWFpbnMsCj4gPiArICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICBmZXRjaF9hbmRfemVybygmd29ya193YWtlcmVmKSk7Cj4gPiAr
ICAgICAgIH0KPiA+ICsKPiA+ICtvdXRfdmVyaWZ5Ogo+ID4gKyAgICAgICB2ZXJpZnlfYXN5bmNf
cHV0X2RvbWFpbnNfc3RhdGUocG93ZXJfZG9tYWlucyk7Cj4gPiArCj4gPiArICAgICAgIG11dGV4
X3VubG9jaygmcG93ZXJfZG9tYWlucy0+bG9jayk7Cj4gPiArCj4gPiArICAgICAgIGlmICh3b3Jr
X3dha2VyZWYpCj4gPiArICAgICAgICAgICAgICAgaW50ZWxfcnVudGltZV9wbV9wdXRfcmF3KGk5
MTUsIHdvcmtfd2FrZXJlZik7Cj4gPiArCj4gPiArICAgICAgIGludGVsX3J1bnRpbWVfcG1fcHV0
KGk5MTUsIHdha2VyZWYpOwo+ID4gK30KPiA+ICsKPiA+ICsvKioKPiA+ICsgKiBpbnRlbF9kaXNw
bGF5X3Bvd2VyX2ZsdXNoX3dvcmsgLSBmbHVzaGVzIHRoZSBhc3luYyBkaXNwbGF5IHBvd2VyIGRp
c2FibGluZyB3b3JrCj4gPiArICogQGk5MTU6IGk5MTUgZGV2aWNlIGluc3RhbmNlCj4gPiArICoK
PiA+ICsgKiBGbHVzaGVzIGFueSBwZW5kaW5nIHdvcmsgdGhhdCB3YXMgc2NoZWR1bGVkIGJ5IGEg
cHJlY2VlZGluZwo+ID4gKyAqIGludGVsX2Rpc3BsYXlfcG93ZXJfcHV0X2FzeW5jKCkgY2FsbCwg
Y29tcGxldGluZyB0aGUgZGlzYWJsaW5nIG9mIHRoZQo+ID4gKyAqIGNvcnJlc3BvbmRpbmcgcG93
ZXIgZG9tYWlucy4KPiA+ICsgKgo+ID4gKyAqIE5vdGUgdGhhdCB0aGUgd29yayBoYW5kbGVyIGZ1
bmN0aW9uIG1heSBzdGlsbCBiZSBydW5uaW5nIGFmdGVyIHRoaXMKPiA+ICsgKiBmdW5jdGlvbiBy
ZXR1cm5zOyB0byBlbnN1cmUgdGhhdCB0aGUgd29yayBoYW5kbGVyIGlzbid0IHJ1bm5pbmcgdXNl
Cj4gPiArICogaW50ZWxfZGlzcGxheV9wb3dlcl9mbHVzaF93b3JrX3N5bmMoKSBpbnN0ZWFkLgo+
ID4gKyAqLwo+ID4gK3ZvaWQgaW50ZWxfZGlzcGxheV9wb3dlcl9mbHVzaF93b3JrKHN0cnVjdCBk
cm1faTkxNV9wcml2YXRlICppOTE1KQo+ID4gK3sKPiA+ICsgICAgICAgc3RydWN0IGk5MTVfcG93
ZXJfZG9tYWlucyAqcG93ZXJfZG9tYWlucyA9ICZpOTE1LT5wb3dlcl9kb21haW5zOwo+ID4gKyAg
ICAgICBpbnRlbF93YWtlcmVmX3Qgd29ya193YWtlcmVmOwo+ID4gKwo+ID4gKyAgICAgICBtdXRl
eF9sb2NrKCZwb3dlcl9kb21haW5zLT5sb2NrKTsKPiA+ICsKPiA+ICsgICAgICAgd29ya193YWtl
cmVmID0gZmV0Y2hfYW5kX3plcm8oJnBvd2VyX2RvbWFpbnMtPmFzeW5jX3B1dF93YWtlcmVmKTsK
PiA+ICsgICAgICAgaWYgKCF3b3JrX3dha2VyZWYpCj4gPiArICAgICAgICAgICAgICAgZ290byBv
dXRfdmVyaWZ5Owo+ID4gKwo+ID4gKyAgICAgICByZWxlYXNlX2FzeW5jX3B1dF9kb21haW5zKHBv
d2VyX2RvbWFpbnMsCj4gPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXN5bmNf
cHV0X2RvbWFpbnNfbWFzayhwb3dlcl9kb21haW5zKSk7Cj4gPiArICAgICAgIGNhbmNlbF9kZWxh
eWVkX3dvcmsoJnBvd2VyX2RvbWFpbnMtPmFzeW5jX3B1dF93b3JrKTsKPiA+ICsKPiA+ICtvdXRf
dmVyaWZ5Ogo+ID4gKyAgICAgICB2ZXJpZnlfYXN5bmNfcHV0X2RvbWFpbnNfc3RhdGUocG93ZXJf
ZG9tYWlucyk7Cj4gPiArCj4gPiArICAgICAgIG11dGV4X3VubG9jaygmcG93ZXJfZG9tYWlucy0+
bG9jayk7Cj4gPiArCj4gPiArICAgICAgIGlmICh3b3JrX3dha2VyZWYpCj4gPiArICAgICAgICAg
ICAgICAgaW50ZWxfcnVudGltZV9wbV9wdXRfcmF3KGk5MTUsIHdvcmtfd2FrZXJlZik7Cj4gPiAr
fQo+ID4gKwo+ID4gKy8qKgo+ID4gKyAqIGludGVsX2Rpc3BsYXlfcG93ZXJfZmx1c2hfd29ya19z
eW5jIC0gZmx1c2hlcyBhbmQgc3luY3MgdGhlIGFzeW5jIGRpc3BsYXkgcG93ZXIgZGlzYWJsaW5n
IHdvcmsKPiA+ICsgKiBAaTkxNTogaTkxNSBkZXZpY2UgaW5zdGFuY2UKPiA+ICsgKgo+ID4gKyAq
IExpa2UgaW50ZWxfZGlzcGxheV9wb3dlcl9mbHVzaF93b3JrKCksIGJ1dCBhbHNvIGVuc3VyZSB0
aGF0IHRoZSB3b3JrCj4gPiArICogaGFuZGxlciBmdW5jdGlvbiBpcyBub3QgcnVubmluZyBhbnkg
bW9yZSB3aGVuIHRoaXMgZnVuY3Rpb24gcmV0dXJucy4KPiA+ICsgKi8KPiA+ICtzdGF0aWMgdm9p
ZAo+ID4gK2ludGVsX2Rpc3BsYXlfcG93ZXJfZmx1c2hfd29ya19zeW5jKHN0cnVjdCBkcm1faTkx
NV9wcml2YXRlICpkZXZfcHJpdikKPiA+ICt7Cj4gPiArICAgICAgIHN0cnVjdCBpOTE1X3Bvd2Vy
X2RvbWFpbnMgKnBvd2VyX2RvbWFpbnMgPSAmZGV2X3ByaXYtPnBvd2VyX2RvbWFpbnM7Cj4gPiAr
Cj4gPiArICAgICAgIGludGVsX2Rpc3BsYXlfcG93ZXJfZmx1c2hfd29yayhkZXZfcHJpdik7Cj4g
PiArICAgICAgIGNhbmNlbF9kZWxheWVkX3dvcmtfc3luYygmcG93ZXJfZG9tYWlucy0+YXN5bmNf
cHV0X3dvcmspOwo+ID4gKwo+ID4gKyAgICAgICB2ZXJpZnlfYXN5bmNfcHV0X2RvbWFpbnNfc3Rh
dGUocG93ZXJfZG9tYWlucyk7Cj4gPiArCj4gPiArICAgICAgIFdBUk5fT04ocG93ZXJfZG9tYWlu
cy0+YXN5bmNfcHV0X3dha2VyZWYpOwo+ID4gK30KPiA+ICsKPiA+ICAjaWYgSVNfRU5BQkxFRChD
T05GSUdfRFJNX0k5MTVfREVCVUdfUlVOVElNRV9QTSkKPiA+ICAvKioKPiA+ICAgKiBpbnRlbF9k
aXNwbGF5X3Bvd2VyX3B1dCAtIHJlbGVhc2UgYSBwb3dlciBkb21haW4gcmVmZXJlbmNlCj4gPiBA
QCAtMzUyNSw2ICszODUxLDkgQEAgaW50IGludGVsX3Bvd2VyX2RvbWFpbnNfaW5pdChzdHJ1Y3Qg
ZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYpCj4gPiAgCj4gPiAgICAgICAgIG11dGV4X2luaXQo
JnBvd2VyX2RvbWFpbnMtPmxvY2spOwo+ID4gIAo+ID4gKyAgICAgICBJTklUX0RFTEFZRURfV09S
SygmcG93ZXJfZG9tYWlucy0+YXN5bmNfcHV0X3dvcmssCj4gPiArICAgICAgICAgICAgICAgICAg
ICAgICAgIGludGVsX2Rpc3BsYXlfcG93ZXJfcHV0X2FzeW5jX3dvcmspOwo+ID4gKwo+ID4gICAg
ICAgICAvKgo+ID4gICAgICAgICAgKiBUaGUgZW5hYmxpbmcgb3JkZXIgd2lsbCBiZSBmcm9tIGxv
d2VyIHRvIGhpZ2hlciBpbmRleGVkIHdlbGxzLAo+ID4gICAgICAgICAgKiB0aGUgZGlzYWJsaW5n
IG9yZGVyIGlzIHJldmVyc2VkLgo+ID4gQEAgLTQ0NDUsNiArNDc3NCw4IEBAIHZvaWQgaW50ZWxf
cG93ZXJfZG9tYWluc19maW5pX2h3KHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICppOTE1KQo+ID4g
ICAgICAgICBpZiAoIWk5MTVfbW9kcGFyYW1zLmRpc2FibGVfcG93ZXJfd2VsbCkKPiA+ICAgICAg
ICAgICAgICAgICBpbnRlbF9kaXNwbGF5X3Bvd2VyX3B1dF91bmNoZWNrZWQoaTkxNSwgUE9XRVJf
RE9NQUlOX0lOSVQpOwo+ID4gIAo+ID4gKyAgICAgICBpbnRlbF9kaXNwbGF5X3Bvd2VyX2ZsdXNo
X3dvcmtfc3luYyhpOTE1KTsKPiA+ICsKPiA+ICAgICAgICAgaW50ZWxfcG93ZXJfZG9tYWluc192
ZXJpZnlfc3RhdGUoaTkxNSk7Cj4gPiAgCj4gPiAgICAgICAgIC8qIEtlZXAgdGhlIHBvd2VyIHdl
bGwgZW5hYmxlZCwgYnV0IGNhbmNlbCBpdHMgcnBtIHdha2VyZWYuICovCj4gPiBAQCAtNDUyMCw2
ICs0ODUxLDcgQEAgdm9pZCBpbnRlbF9wb3dlcl9kb21haW5zX3N1c3BlbmQoc3RydWN0IGRybV9p
OTE1X3ByaXZhdGUgKmk5MTUsCj4gPiAgICAgICAgIGlmICghKGk5MTUtPmNzci5hbGxvd2VkX2Rj
X21hc2sgJiBEQ19TVEFURV9FTl9EQzkpICYmCj4gPiAgICAgICAgICAgICBzdXNwZW5kX21vZGUg
PT0gSTkxNV9EUk1fU1VTUEVORF9JRExFICYmCj4gPiAgICAgICAgICAgICBpOTE1LT5jc3IuZG1j
X3BheWxvYWQpIHsKPiA+ICsgICAgICAgICAgICAgICBpbnRlbF9kaXNwbGF5X3Bvd2VyX2ZsdXNo
X3dvcmsoaTkxNSk7Cj4gPiAgICAgICAgICAgICAgICAgaW50ZWxfcG93ZXJfZG9tYWluc192ZXJp
Znlfc3RhdGUoaTkxNSk7Cj4gPiAgICAgICAgICAgICAgICAgcmV0dXJuOwo+ID4gICAgICAgICB9
Cj4gPiBAQCAtNDUzMSw2ICs0ODYzLDcgQEAgdm9pZCBpbnRlbF9wb3dlcl9kb21haW5zX3N1c3Bl
bmQoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUsCj4gPiAgICAgICAgIGlmICghaTkxNV9t
b2RwYXJhbXMuZGlzYWJsZV9wb3dlcl93ZWxsKQo+ID4gICAgICAgICAgICAgICAgIGludGVsX2Rp
c3BsYXlfcG93ZXJfcHV0X3VuY2hlY2tlZChpOTE1LCBQT1dFUl9ET01BSU5fSU5JVCk7Cj4gPiAg
Cj4gPiArICAgICAgIGludGVsX2Rpc3BsYXlfcG93ZXJfZmx1c2hfd29yayhpOTE1KTsKPiA+ICAg
ICAgICAgaW50ZWxfcG93ZXJfZG9tYWluc192ZXJpZnlfc3RhdGUoaTkxNSk7Cj4gPiAgCj4gPiAg
ICAgICAgIGlmIChJTlRFTF9HRU4oaTkxNSkgPj0gMTEpCj4gPiBAQCAtNDYwOSw2ICs0OTQyLDgg
QEAgc3RhdGljIHZvaWQgaW50ZWxfcG93ZXJfZG9tYWluc192ZXJpZnlfc3RhdGUoc3RydWN0IGRy
bV9pOTE1X3ByaXZhdGUgKmk5MTUpCj4gPiAgCj4gPiAgICAgICAgIG11dGV4X2xvY2soJnBvd2Vy
X2RvbWFpbnMtPmxvY2spOwo+ID4gIAo+ID4gKyAgICAgICB2ZXJpZnlfYXN5bmNfcHV0X2RvbWFp
bnNfc3RhdGUocG93ZXJfZG9tYWlucyk7Cj4gPiArCj4gPiAgICAgICAgIGR1bXBfZG9tYWluX2lu
Zm8gPSBmYWxzZTsKPiA+ICAgICAgICAgZm9yX2VhY2hfcG93ZXJfd2VsbChpOTE1LCBwb3dlcl93
ZWxsKSB7Cj4gPiAgICAgICAgICAgICAgICAgZW51bSBpbnRlbF9kaXNwbGF5X3Bvd2VyX2RvbWFp
biBkb21haW47Cj4gPiBAQCAtNDY3MCw2ICs1MDA1LDExIEBAIHN0YXRpYyBpbnRlbF93YWtlcmVm
X3QgX19pbnRlbF9ydW50aW1lX3BtX2dldChzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSwK
PiA+ICAgICAgICAgcmV0dXJuIHRyYWNrX2ludGVsX3J1bnRpbWVfcG1fd2FrZXJlZihpOTE1KTsK
PiA+ICB9Cj4gPiAgCj4gPiArc3RhdGljIGludGVsX3dha2VyZWZfdCBpbnRlbF9ydW50aW1lX3Bt
X2dldF9yYXcoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUpCj4gPiArewo+ID4gKyAgICAg
ICByZXR1cm4gX19pbnRlbF9ydW50aW1lX3BtX2dldChpOTE1LCBmYWxzZSk7Cj4gPiArfQo+ID4g
Kwo+ID4gIC8qKgo+ID4gICAqIGludGVsX3J1bnRpbWVfcG1fZ2V0IC0gZ3JhYiBhIHJ1bnRpbWUg
cG0gcmVmZXJlbmNlCj4gPiAgICogQGk5MTU6IGk5MTUgZGV2aWNlIGluc3RhbmNlCj4gPiBAQCAt
NDc2OSw2ICs1MTA5LDE0IEBAIHN0YXRpYyB2b2lkIF9faW50ZWxfcnVudGltZV9wbV9wdXQoc3Ry
dWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUsCj4gPiAgICAgICAgIHBtX3J1bnRpbWVfcHV0X2F1
dG9zdXNwZW5kKGtkZXYpOwo+ID4gIH0KPiA+ICAKPiA+ICsjaWYgSVNfRU5BQkxFRChDT05GSUdf
RFJNX0k5MTVfREVCVUdfUlVOVElNRV9QTSkKPiA+ICtzdGF0aWMgdm9pZAo+ID4gK2ludGVsX3J1
bnRpbWVfcG1fcHV0X3JhdyhzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSwgaW50ZWxfd2Fr
ZXJlZl90IHdyZWYpCj4gPiArewo+ID4gKyAgICAgICBfX2ludGVsX3J1bnRpbWVfcG1fcHV0KGk5
MTUsIHdyZWYsIGZhbHNlKTsKPiA+ICt9Cj4gPiArI2VuZGlmCj4gPiArCj4gPiAgLyoqCj4gPiAg
ICogaW50ZWxfcnVudGltZV9wbV9wdXRfdW5jaGVja2VkIC0gcmVsZWFzZSBhbiB1bmNoZWNrZWQg
cnVudGltZSBwbSByZWZlcmVuY2UKPiA+ICAgKiBAaTkxNTogaTkxNSBkZXZpY2UgaW5zdGFuY2UK
PiA+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9ydW50aW1lX3BtLmgg
Yi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9ydW50aW1lX3BtLmgKPiA+IGluZGV4IGUzMGIz
ODYzMmJkMi4uYTdhM2Q5Mjk1NDZmIDEwMDY0NAo+ID4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5
MTUvaW50ZWxfcnVudGltZV9wbS5oCj4gPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRl
bF9ydW50aW1lX3BtLmgKPiA+IEBAIC01OSwxMyArNTksMjEgQEAgaW50ZWxfZGlzcGxheV9wb3dl
cl9nZXRfaWZfZW5hYmxlZChzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYsCj4gPiAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVudW0gaW50ZWxfZGlzcGxheV9wb3dl
cl9kb21haW4gZG9tYWluKTsKPiA+ICB2b2lkIGludGVsX2Rpc3BsYXlfcG93ZXJfcHV0X3VuY2hl
Y2tlZChzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYsCj4gPiAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICBlbnVtIGludGVsX2Rpc3BsYXlfcG93ZXJfZG9tYWlu
IGRvbWFpbik7Cj4gPiArdm9pZCBfX2ludGVsX2Rpc3BsYXlfcG93ZXJfcHV0X2FzeW5jKHN0cnVj
dCBkcm1faTkxNV9wcml2YXRlICppOTE1LAo+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgIGVudW0gaW50ZWxfZGlzcGxheV9wb3dlcl9kb21haW4gZG9tYWluLAo+ID4gKyAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludGVsX3dha2VyZWZfdCB3YWtlcmVm
KTsKPiA+ICt2b2lkIGludGVsX2Rpc3BsYXlfcG93ZXJfZmx1c2hfd29yayhzdHJ1Y3QgZHJtX2k5
MTVfcHJpdmF0ZSAqaTkxNSk7Cj4gPiAgI2lmIElTX0VOQUJMRUQoQ09ORklHX0RSTV9JOTE1X0RF
QlVHX1JVTlRJTUVfUE0pCj4gPiAgdm9pZCBpbnRlbF9kaXNwbGF5X3Bvd2VyX3B1dChzdHJ1Y3Qg
ZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYsCj4gPiAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgIGVudW0gaW50ZWxfZGlzcGxheV9wb3dlcl9kb21haW4gZG9tYWluLAo+ID4gICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICBpbnRlbF93YWtlcmVmX3Qgd2FrZXJlZik7Cj4gPiArI2RlZmlu
ZSBpbnRlbF9kaXNwbGF5X3Bvd2VyX3B1dF9hc3luYyhpOTE1LCBkb21haW4sIHdha2VyZWYpIFwK
PiA+ICsgICAgICAgX19pbnRlbF9kaXNwbGF5X3Bvd2VyX3B1dF9hc3luYyhpOTE1LCBkb21haW4s
IHdha2VyZWYpCj4gPiAgI2Vsc2UKPiA+ICAjZGVmaW5lIGludGVsX2Rpc3BsYXlfcG93ZXJfcHV0
KGk5MTUsIGRvbWFpbiwgd2FrZXJlZikgXAo+ID4gICAgICAgICBpbnRlbF9kaXNwbGF5X3Bvd2Vy
X3B1dF91bmNoZWNrZWQoaTkxNSwgZG9tYWluKQo+ID4gKyNkZWZpbmUgaW50ZWxfZGlzcGxheV9w
b3dlcl9wdXRfYXN5bmMoaTkxNSwgZG9tYWluLCB3YWtlcmVmKSBcCj4gPiArICAgICAgIF9faW50
ZWxfZGlzcGxheV9wb3dlcl9wdXRfYXN5bmMoaTkxNSwgZG9tYWluLCAtMSkKPiA+ICAjZW5kaWYK
PiA+ICB2b2lkIGljbF9kYnVmX3NsaWNlc191cGRhdGUoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUg
KmRldl9wcml2LAo+ID4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHU4IHJlcV9zbGljZXMp
Owo+IAo+IFNlZW1zIGxpa2UgaXQgc2VydmVzIGEgcHVycG9zZSBhbmQgZG9lcyBpdCB3ZWxsLCB3
aXRoIHRoZSBvbmx5IHF1ZXN0aW9uCj4gb24gaG93IHdlIGNhbiBzaGFyZSBzaW1pbGFyIGNvZGUs
Cj4gCj4gUmV2aWV3ZWQtYnk6IENocmlzIFdpbHNvbiA8Y2hyaXNAY2hyaXMtd2lsc29uLmNvLnVr
PgoKVGhhbmtzIQoKPiAtQ2hyaXMKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX18KSW50ZWwtZ2Z4IG1haWxpbmcgbGlzdApJbnRlbC1nZnhAbGlzdHMuZnJlZWRl
c2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8v
aW50ZWwtZ2Z4

Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id D88475518A
	for <lists+intel-gfx@lfdr.de>; Tue, 25 Jun 2019 16:22:49 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 1963B6E11E;
	Tue, 25 Jun 2019 14:22:48 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga12.intel.com (mga12.intel.com [192.55.52.136])
 by gabe.freedesktop.org (Postfix) with ESMTPS id C46486E11E
 for <intel-gfx@lists.freedesktop.org>; Tue, 25 Jun 2019 14:22:46 +0000 (UTC)
X-Amp-Result: UNKNOWN
X-Amp-Original-Verdict: FILE UNKNOWN
X-Amp-File-Uploaded: False
Received: from fmsmga002.fm.intel.com ([10.253.24.26])
 by fmsmga106.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 25 Jun 2019 07:22:46 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.63,416,1557212400"; d="scan'208";a="188306955"
Received: from ideak-desk.fi.intel.com ([10.237.68.142])
 by fmsmga002.fm.intel.com with ESMTP; 25 Jun 2019 07:22:44 -0700
Date: Tue, 25 Jun 2019 17:22:44 +0300
From: Imre Deak <imre.deak@intel.com>
To: Ville =?iso-8859-1?Q?Syrj=E4l=E4?= <ville.syrjala@linux.intel.com>
Message-ID: <20190625142244.GB23579@ideak-desk.fi.intel.com>
References: <20190620140600.11357-1-imre.deak@intel.com>
 <20190620140600.11357-12-imre.deak@intel.com>
 <20190625131735.GB5942@intel.com>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <20190625131735.GB5942@intel.com>
User-Agent: Mutt/1.9.4 (2018-02-28)
Subject: Re: [Intel-gfx] [PATCH v2 11/23] drm/i915: Handle the TCCOLD
 power-down event
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Reply-To: imre.deak@intel.com
Cc: intel-gfx@lists.freedesktop.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

T24gVHVlLCBKdW4gMjUsIDIwMTkgYXQgMDQ6MTc6MzVQTSArMDMwMCwgVmlsbGUgU3lyasOkbMOk
IHdyb3RlOgo+IE9uIFRodSwgSnVuIDIwLCAyMDE5IGF0IDA1OjA1OjQ4UE0gKzAzMDAsIEltcmUg
RGVhayB3cm90ZToKPiA+IEJhc2VkIG9uIGEgcmVjZW50IEJTcGVjIHVwZGF0ZSAoSW5kZXgvMjE3
NTApIHdlIG11c3QgaGFuZGxlIHRoZSBUQ0NPTEQKPiA+IGV2ZW50IGFzc29jaWF0ZWQgd2l0aCB0
aGUgRFAtYWx0IG1vZGUuIFdlIGNhbiBkZXRlY3QgdGhpcyBldmVudCBieQo+ID4gcmVhZGluZyBh
biBpbnZhbGlkIGFsbC0xcyB2YWx1ZSBmcm9tIEZJQSByZWdpc3RlcnMuCj4gPiAKPiA+IEFmdGVy
IGRldGVjdGluZyBUQ0NPTEQgd2Ugd2lsbDoKPiA+IC0gZmFsbCBiYWNrIHRvIFRCVC1hbHQgbW9k
ZSB3aGVuIGF0dGVtcHRpbmcgdG8gc3dpdGNoIHRvIERQLWFsdCBtb2RlCj4gPiAtIGNvbmNsdWRl
IHRoYXQgbm90aGluZyBpcyBjb25uZWN0ZWQgZHVyaW5nIGxpdmUgc3RhdHVzIGRldGVjdGlvbgo+
ID4gLSBXQVJOIHdoZW4gYWxyZWFkeSBpbiB1bnNhZmUgbW9kZSwgc2luY2UgdGhlbiBUQ0NPTEQg
aXMgdW5leHBlY3RlZAo+ID4gCj4gPiB2MjoKPiA+IC0gVXNlIERSTV9ERUJVR19LTVMgaW5zdGVh
ZCBvZiBEUk1fREVCVUdfRFJJVkVSLiAoSm9zw6kpCj4gCj4gV2UgZG9uJ3Qgc2VlbSB0byBjYXJl
IGFib3V0IHRoZSBhbGwgMXMgaW4gaWNsX3RjX3BoeV9zdGF0dXNfY29tcGxldGUoKQo+IGFuZCBp
Y2xfdGNfcGh5X2lzX2luX3NhZmVfbW9kZSgpLiBJcyB0aGF0IE9LPwoKRXJyLCBwcm9iYWJseSBu
b3Qgb2ssIHRoYW5rcyBmb3Igc3BvdHRpbmcgaXQuCgpUaGUgY2lydW1zdGFuY2VzIHdoZW4gYW5k
IHdoeSAiVENDT0xEIiB3b3VsZCBiZSBlbnRlcmVkIGlzIGJhZGx5CnNwZWNpZmllZCBhbmQgaW1v
IGEgYmFkIEhXIGludGVyZmFjZSAodGhlIGRyaXZlciBkb2Vzbid0IHNlZW0gdG8gaGF2ZQphbnkg
Y29udHJvbCBvZiBpdCwgdGhlIHN0YXRlIHdpbGwgYmUganVzdCBlbnRlcmVkKS4KCk15IGJlc3Qg
Z3Vlc3MgaXMgdGhhdCBvbmx5IHRoZSBEUC1hbHQgbW9kZSBzcGVjaWZpYyBwYXJ0cyBwb3dlciBk
b3duIGluCnRoZSBUQ0NPTEQgc3RhdGUgYW5kIHdoZW4gdGhhdCBoYXBwZW5zIHRoZSBUQlQtYWx0
IG1vZGUgaXMgc3RpbGwKb3BlcmF0aW9uYWwuCgpCYXNlZCBvbiB0aGUgYWJvdmUgYXNzdW1wdGlv
biAoYW5kIHRoYXQgc2FmZS1tb2RlPVRCVC1hbHQKdW5zYWZlLW1vZGU9RFAtYWx0L2xlZ2FjeSks
IEkgY2FuIGNoYW5nZSBpY2xfdGNfcGh5X3N0YXRlX2NvbXBsZXRlKCkgdG8KcmV0dXJuIGZhbHNl
IGFuZCBpY2xfdGNfcGh5X2lzX2luX3NhZmVfbW9kZSgpIHRvIHJldHVybiB0cnVlIGlmIHRoZXkK
ZGV0ZWN0IHRoZSBUQ0NPTEQgc3RhdGUsIGFsc28gYWRkaW5nIGEgZGVidWcgbG9nIGFib3V0IHRo
ZXNlIGV2ZW50cy4KCj4gCj4gPiAKPiA+IENjOiBKb3PDqSBSb2JlcnRvIGRlIFNvdXphIDxqb3Nl
LnNvdXphQGludGVsLmNvbT4KPiA+IENjOiBSb2RyaWdvIFZpdmkgPHJvZHJpZ28udml2aUBpbnRl
bC5jb20+Cj4gPiBDYzogVmlsbGUgU3lyasOkbMOkIDx2aWxsZS5zeXJqYWxhQGxpbnV4LmludGVs
LmNvbT4KPiA+IFNpZ25lZC1vZmYtYnk6IEltcmUgRGVhayA8aW1yZS5kZWFrQGludGVsLmNvbT4K
PiA+IC0tLQo+ID4gIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfdGMuYyB8IDIz
ICsrKysrKysrKysrKysrKysrKysrKy0tCj4gPiAgMSBmaWxlIGNoYW5nZWQsIDIxIGluc2VydGlv
bnMoKyksIDIgZGVsZXRpb25zKC0pCj4gPiAKPiA+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9k
cm0vaTkxNS9kaXNwbGF5L2ludGVsX3RjLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5
L2ludGVsX3RjLmMKPiA+IGluZGV4IGEwMjUxMzgxNDM5Mi4uZmZmZTRjNGE2NjAyIDEwMDY0NAo+
ID4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF90Yy5jCj4gPiArKysg
Yi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX3RjLmMKPiA+IEBAIC0yOSw2ICsy
OSw4IEBAIHUzMiBpbnRlbF90Y19wb3J0X2dldF9sYW5lX21hc2soc3RydWN0IGludGVsX2RpZ2l0
YWxfcG9ydCAqZGlnX3BvcnQpCj4gPiAgCj4gPiAgCWxhbmVfbWFzayA9IEk5MTVfUkVBRChQT1JU
X1RYX0RGTEVYRFBTUCk7Cj4gPiAgCj4gPiArCVdBUk5fT04obGFuZV9tYXNrID09IC0xKTsKPiA+
ICsKPiA+ICAJcmV0dXJuIChsYW5lX21hc2sgJiBEUF9MQU5FX0FTU0lHTk1FTlRfTUFTSyh0Y19w
b3J0KSkgPj4KPiA+ICAJICAgICAgIERQX0xBTkVfQVNTSUdOTUVOVF9TSElGVCh0Y19wb3J0KTsK
PiA+ICB9Cj4gPiBAQCAtODksNiArOTEsMTIgQEAgc3RhdGljIHUzMiB0Y19wb3J0X2xpdmVfc3Rh
dHVzX21hc2soc3RydWN0IGludGVsX2RpZ2l0YWxfcG9ydCAqZGlnX3BvcnQpCj4gPiAgCj4gPiAg
CXZhbCA9IEk5MTVfUkVBRChQT1JUX1RYX0RGTEVYRFBTUCk7Cj4gPiAgCj4gPiArCWlmICh2YWwg
PT0gLTEpIHsKPiAKPiBOb3Qgc3VyZSBJIGxpa2UgdGhpcyAtMSB1c2UuIEkgZG9uJ3QgdGhpbmsg
d2UgdHlwaWNhbGx5IHVzZSBpdCBlbHNld2hlcmUKPiBpbiBzaW1pbGFyIGNvbnRleHQuCgpIZWgs
IHdhcyBhbHNvIHZvdGVkIGRvd24gYnkgSm9zw6kuIEkgd2lsbCB1c2UgdGhlbiAodmFsID09IDB4
RkZGRkZGRkYpLgoKPiAKPiA+ICsJCURSTV9ERUJVR19LTVMoIlBvcnQgJXM6IFBIWSBpbiBUQ0NP
TEQsIG5vdGhpbmcgY29ubmVjdGVkXG4iLAo+ID4gKwkJCSAgICAgIGRpZ19wb3J0LT50Y19wb3J0
X25hbWUpOwo+ID4gKwkJcmV0dXJuIG1hc2s7Cj4gPiArCX0KPiA+ICsKPiA+ICAJaWYgKHZhbCAm
IFRDX0xJVkVfU1RBVEVfVEJUKHRjX3BvcnQpKQo+ID4gIAkJbWFzayB8PSBCSVQoVENfUE9SVF9U
QlRfQUxUKTsKPiA+ICAJaWYgKHZhbCAmIFRDX0xJVkVfU1RBVEVfVEModGNfcG9ydCkpCj4gPiBA
QCAtMTEzLDcgKzEyMSw3IEBAIHN0YXRpYyBib29sIGljbF90Y19waHlfc3RhdHVzX2NvbXBsZXRl
KHN0cnVjdCBpbnRlbF9kaWdpdGFsX3BvcnQgKmRpZ19wb3J0KQo+ID4gIAkgICAgICAgRFBfUEhZ
X01PREVfU1RBVFVTX0NPTVBMRVRFRCh0Y19wb3J0KTsKPiA+ICB9Cj4gPiAgCj4gPiAtc3RhdGlj
IHZvaWQgaWNsX3RjX3BoeV9zZXRfc2FmZV9tb2RlKHN0cnVjdCBpbnRlbF9kaWdpdGFsX3BvcnQg
KmRpZ19wb3J0LAo+ID4gK3N0YXRpYyBib29sIGljbF90Y19waHlfc2V0X3NhZmVfbW9kZShzdHJ1
Y3QgaW50ZWxfZGlnaXRhbF9wb3J0ICpkaWdfcG9ydCwKPiA+ICAJCQkJICAgICBib29sIGVuYWJs
ZSkKPiA+ICB7Cj4gPiAgCXN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiA9IHRvX2k5
MTUoZGlnX3BvcnQtPmJhc2UuYmFzZS5kZXYpOwo+ID4gQEAgLTEyMiw2ICsxMzAsMTQgQEAgc3Rh
dGljIHZvaWQgaWNsX3RjX3BoeV9zZXRfc2FmZV9tb2RlKHN0cnVjdCBpbnRlbF9kaWdpdGFsX3Bv
cnQgKmRpZ19wb3J0LAo+ID4gIAo+ID4gIAl2YWwgPSBJOTE1X1JFQUQoUE9SVF9UWF9ERkxFWERQ
Q1NTUyk7Cj4gPiAgCj4gPiArCWlmICh2YWwgPT0gLTEpIHsKPiA+ICsJCURSTV9ERUJVR19LTVMo
IlBvcnQgJXM6IFBIWSBpbiBUQ0NPTEQsIGNhbid0IHNldCBzYWZlLW1vZGUgdG8gJXNcbiIsCj4g
PiArCQkJICAgICAgZGlnX3BvcnQtPnRjX3BvcnRfbmFtZSwKPiA+ICsJCQkgICAgICBlbmFibGVk
ZGlzYWJsZWQoZW5hYmxlKSk7Cj4gPiArCj4gPiArCQlyZXR1cm4gZmFsc2U7Cj4gPiArCX0KPiA+
ICsKPiA+ICAJdmFsICY9IH5EUF9QSFlfTU9ERV9TVEFUVVNfTk9UX1NBRkUodGNfcG9ydCk7Cj4g
PiAgCWlmICghZW5hYmxlKQo+ID4gIAkJdmFsIHw9IERQX1BIWV9NT0RFX1NUQVRVU19OT1RfU0FG
RSh0Y19wb3J0KTsKPiA+IEBAIC0xMzEsNiArMTQ3LDggQEAgc3RhdGljIHZvaWQgaWNsX3RjX3Bo
eV9zZXRfc2FmZV9tb2RlKHN0cnVjdCBpbnRlbF9kaWdpdGFsX3BvcnQgKmRpZ19wb3J0LAo+ID4g
IAlpZiAoZW5hYmxlICYmIHdhaXRfZm9yKCFpY2xfdGNfcGh5X3N0YXR1c19jb21wbGV0ZShkaWdf
cG9ydCksIDEwKSkKPiA+ICAJCURSTV9ERUJVR19LTVMoIlBvcnQgJXM6IFBIWSBjb21wbGV0ZSBj
bGVhciB0aW1lZCBvdXRcbiIsCj4gPiAgCQkJICAgICAgZGlnX3BvcnQtPnRjX3BvcnRfbmFtZSk7
Cj4gPiArCj4gPiArCXJldHVybiB0cnVlOwo+ID4gIH0KPiA+ICAKPiA+ICAvKgo+ID4gQEAgLTE2
OSw3ICsxODcsOCBAQCBzdGF0aWMgYm9vbCBpY2xfdGNfcGh5X2Nvbm5lY3Qoc3RydWN0IGludGVs
X2RpZ2l0YWxfcG9ydCAqZGlnX3BvcnQpCj4gPiAgCQlyZXR1cm4gZmFsc2U7Cj4gPiAgCX0KPiA+
ICAKPiA+IC0JaWNsX3RjX3BoeV9zZXRfc2FmZV9tb2RlKGRpZ19wb3J0LCBmYWxzZSk7Cj4gPiAr
CWlmICghaWNsX3RjX3BoeV9zZXRfc2FmZV9tb2RlKGRpZ19wb3J0LCBmYWxzZSkpCj4gPiArCQly
ZXR1cm4gZmFsc2U7Cj4gPiAgCj4gPiAgCWlmIChkaWdfcG9ydC0+dGNfbW9kZSA9PSBUQ19QT1JU
X0xFR0FDWSkKPiA+ICAJCXJldHVybiB0cnVlOwo+ID4gLS0gCj4gPiAyLjE3LjEKPiAKPiAtLSAK
PiBWaWxsZSBTeXJqw6Rsw6QKPiBJbnRlbApfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fXwpJbnRlbC1nZnggbWFpbGluZyBsaXN0CkludGVsLWdmeEBsaXN0cy5m
cmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0
aW5mby9pbnRlbC1nZng=

Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 9C4858EDE5
	for <lists+intel-gfx@lfdr.de>; Thu, 15 Aug 2019 16:14:43 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id F16736E3F3;
	Thu, 15 Aug 2019 14:14:41 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from fireflyinternet.com (mail.fireflyinternet.com [109.228.58.192])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 3AECB6E3F3
 for <intel-gfx@lists.freedesktop.org>; Thu, 15 Aug 2019 14:14:41 +0000 (UTC)
X-Default-Received-SPF: pass (skip=forwardok (res=PASS))
 x-ip-name=78.156.65.138; 
Received: from localhost (unverified [78.156.65.138]) 
 by fireflyinternet.com (Firefly Internet (M1)) with ESMTP (TLS) id
 18152511-1500050 for multiple; Thu, 15 Aug 2019 15:14:28 +0100
MIME-Version: 1.0
To: Mika Kuoppala <mika.kuoppala@linux.intel.com>,
 intel-gfx@lists.freedesktop.org
From: Chris Wilson <chris@chris-wilson.co.uk>
In-Reply-To: <20190815135000.28658-1-mika.kuoppala@linux.intel.com>
References: <20190815135000.28658-1-mika.kuoppala@linux.intel.com>
Message-ID: <156587846595.5838.15496642378834924864@skylake-alporthouse-com>
User-Agent: alot/0.6
Date: Thu, 15 Aug 2019 15:14:25 +0100
Subject: Re: [Intel-gfx] [PATCH] drm/i915/gtt: Fold gen8 insertions into one
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

UXVvdGluZyBNaWthIEt1b3BwYWxhICgyMDE5LTA4LTE1IDE0OjUwOjAwKQo+IEFzIHdlIGdpdmUg
cGFnZSBkaXJlY3RvcnkgcG9pbnRlciAobHZsIDMpIHN0cnVjdHVyZQo+IGZvciBwdGUgaW5zZXJ0
aW9uLCB3ZSBjYW4gZm9sZCBib3RoIHZlcnNpb25zIGludG8KPiBvbmUgZnVuY3Rpb24gYnkgdGVh
Y2hpbmcgaXQgdG8gZ2V0IHBkcCByZWdhcmRsZXNzCj4gb2YgdG9wIGxldmVsLgo+IAo+IENjOiBD
aHJpcyBXaWxzb24gPGNocmlzQGNocmlzLXdpbHNvbi5jby51az4KPiBTaWduZWQtb2ZmLWJ5OiBN
aWthIEt1b3BwYWxhIDxtaWthLmt1b3BwYWxhQGxpbnV4LmludGVsLmNvbT4KPiAtLS0KPiAgZHJp
dmVycy9ncHUvZHJtL2k5MTUvaTkxNV9nZW1fZ3R0LmMgfCA4NCArKysrKysrKysrKysrKysrLS0t
LS0tLS0tLS0tLQo+ICAxIGZpbGUgY2hhbmdlZCwgNDggaW5zZXJ0aW9ucygrKSwgMzYgZGVsZXRp
b25zKC0pCj4gCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZ2VtX2d0
dC5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9nZW1fZ3R0LmMKPiBpbmRleCBlMDdjMWFl
OTcxZDcuLjg1ZmQ3ZWEwZGQ3NiAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9p
OTE1X2dlbV9ndHQuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZ2VtX2d0dC5j
Cj4gQEAgLTkxMCw2ICs5MTAsMzIgQEAgc3RhdGljIGlubGluZSB1bnNpZ25lZCBpbnQgZ2VuOF9w
ZF90b3BfY291bnQoY29uc3Qgc3RydWN0IGk5MTVfYWRkcmVzc19zcGFjZSAqdm0KPiAgICAgICAg
IHJldHVybiAodm0tPnRvdGFsICsgKDF1bGwgPDwgc2hpZnQpIC0gMSkgPj4gc2hpZnQ7Cj4gIH0K
PiAgCj4gK3N0YXRpYyBpbmxpbmUgc3RydWN0IGk5MTVfcGFnZV9kaXJlY3RvcnkgKgo+ICtnZW44
X3BkcF9mb3JfcGFnZV9pbmRleChzdHJ1Y3QgaTkxNV9hZGRyZXNzX3NwYWNlICogY29uc3Qgdm0s
IGNvbnN0IHU2NCBpZHgpCj4gK3sKPiArICAgICAgIHN0cnVjdCBpOTE1X3BwZ3R0ICogY29uc3Qg
cHBndHQgPSBpOTE1X3ZtX3RvX3BwZ3R0KHZtKTsKPiArICAgICAgIHN0cnVjdCBpOTE1X3BhZ2Vf
ZGlyZWN0b3J5ICpwZCA9IHBwZ3R0LT5wZDsKPiArCj4gKyAgICAgICBzd2l0Y2ggKHZtLT50b3Ap
IHsKPiArICAgICAgIGNhc2UgMzoKPiArICAgICAgICAgICAgICAgcGQgPSBpOTE1X3BkX2VudHJ5
KHBkLCBnZW44X3BkX2luZGV4KGlkeCwgMykpOwo+ICsgICAgICAgICAgICAgICAvKiBmYWxsIHRo
cm91Z2ggKi8KCllvdSBmZWxsIHRocm91Z2ggZm9yIGEgYnJlYWshCgpXaGF0IGNvdWxkIHlvdSBi
ZSBwbGFubmluZyBuZXh0PwoKaWYgKHZtLT50b3AgPT0gMikKCXJldHVybiBwcGd0dC0+cGQ7CmVs
c2UKCXJldHVybiBpOTE1X3BkX2VudHJ5KHBwZ3R0LT5wZCwgZ2VuOF9wZF9pbmRleChpZHgsIHZt
LT50b3ApKTsKCj4gKyAgICAgICBjYXNlIDI6Cj4gKyAgICAgICAgICAgICAgIGJyZWFrOwo+ICsK
PiArICAgICAgIGRlZmF1bHQ6Cj4gKyAgICAgICAgICAgICAgIEdFTV9CVUdfT04odm0tPnRvcCk7
Cj4gKyAgICAgICB9Cj4gKwo+ICsgICAgICAgcmV0dXJuIHBkOwo+ICt9Cj4gKwo+ICtzdGF0aWMg
aW5saW5lIHN0cnVjdCBpOTE1X3BhZ2VfZGlyZWN0b3J5ICoKPiArZ2VuOF9wZHBfZm9yX3BhZ2Vf
YWRkcmVzcyhzdHJ1Y3QgaTkxNV9hZGRyZXNzX3NwYWNlICogY29uc3Qgdm0sIGNvbnN0IHU2NCBh
ZGRyKQo+ICt7Cj4gKyAgICAgICByZXR1cm4gZ2VuOF9wZHBfZm9yX3BhZ2VfaW5kZXgodm0sIGFk
ZHIgPj4gR0VOOF9QVEVfU0hJRlQpOwo+ICt9Cj4gKwo+ICBzdGF0aWMgdm9pZCBfX2dlbjhfcHBn
dHRfY2xlYW51cChzdHJ1Y3QgaTkxNV9hZGRyZXNzX3NwYWNlICp2bSwKPiAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICBzdHJ1Y3QgaTkxNV9wYWdlX2RpcmVjdG9yeSAqcGQsCj4gICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW50IGNvdW50LCBpbnQgbHZsKQo+IEBAIC0x
MTgyLDIzICsxMjA4LDcgQEAgZ2VuOF9wcGd0dF9pbnNlcnRfcHRlX2VudHJpZXMoc3RydWN0IGk5
MTVfcHBndHQgKnBwZ3R0LAo+ICAgICAgICAgcmV0dXJuIGlkeDsKPiAgfQo+ICAKPiAtc3RhdGlj
IHZvaWQgZ2VuOF9wcGd0dF9pbnNlcnRfM2x2bChzdHJ1Y3QgaTkxNV9hZGRyZXNzX3NwYWNlICp2
bSwKPiAtICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cnVjdCBpOTE1X3ZtYSAq
dm1hLAo+IC0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW51bSBpOTE1X2NhY2hl
X2xldmVsIGNhY2hlX2xldmVsLAo+IC0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
dTMyIGZsYWdzKQo+IC17Cj4gLSAgICAgICBzdHJ1Y3QgaTkxNV9wcGd0dCAqcHBndHQgPSBpOTE1
X3ZtX3RvX3BwZ3R0KHZtKTsKPiAtICAgICAgIHN0cnVjdCBzZ3RfZG1hIGl0ZXIgPSBzZ3RfZG1h
KHZtYSk7Cj4gLQo+IC0gICAgICAgZ2VuOF9wcGd0dF9pbnNlcnRfcHRlX2VudHJpZXMocHBndHQs
IHBwZ3R0LT5wZCwgJml0ZXIsCj4gLSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICB2bWEtPm5vZGUuc3RhcnQgPj4gR0VOOF9QVEVfU0hJRlQsCj4gLSAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICBjYWNoZV9sZXZlbCwgZmxhZ3MpOwo+IC0KPiAtICAgICAgIHZt
YS0+cGFnZV9zaXplcy5ndHQgPSBJOTE1X0dUVF9QQUdFX1NJWkU7Cj4gLX0KPiAtCj4gIHN0YXRp
YyB2b2lkIGdlbjhfcHBndHRfaW5zZXJ0X2h1Z2VfZW50cmllcyhzdHJ1Y3QgaTkxNV92bWEgKnZt
YSwKPiAtICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RydWN0IGk5
MTVfcGFnZV9kaXJlY3RvcnkgKnBtbDQsCj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgIHN0cnVjdCBzZ3RfZG1hICppdGVyLAo+ICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICBlbnVtIGk5MTVfY2FjaGVfbGV2ZWwgY2FjaGVfbGV2ZWws
Cj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHUzMiBmbGFncykK
PiBAQCAtMTIwOCw5ICsxMjE4LDkgQEAgc3RhdGljIHZvaWQgZ2VuOF9wcGd0dF9pbnNlcnRfaHVn
ZV9lbnRyaWVzKHN0cnVjdCBpOTE1X3ZtYSAqdm1hLAo+ICAgICAgICAgZG1hX2FkZHJfdCByZW0g
PSBpdGVyLT5zZy0+bGVuZ3RoOwo+ICAKPiAgICAgICAgIGRvIHsKPiAtICAgICAgICAgICAgICAg
c3RydWN0IGk5MTVfcGFnZV9kaXJlY3RvcnkgKnBkcCA9Cj4gLSAgICAgICAgICAgICAgICAgICAg
ICAgaTkxNV9wZF9lbnRyeShwbWw0LCBfX2dlbjhfcHRlX2luZGV4KHN0YXJ0LCAzKSk7Cj4gLSAg
ICAgICAgICAgICAgIHN0cnVjdCBpOTE1X3BhZ2VfZGlyZWN0b3J5ICpwZCA9Cj4gKyAgICAgICAg
ICAgICAgIHN0cnVjdCBpOTE1X3BhZ2VfZGlyZWN0b3J5ICogY29uc3QgcGRwID0KPiArICAgICAg
ICAgICAgICAgICAgICAgICBnZW44X3BkcF9mb3JfcGFnZV9hZGRyZXNzKHZtYS0+dm0sIHN0YXJ0
KTsKPiArICAgICAgICAgICAgICAgc3RydWN0IGk5MTVfcGFnZV9kaXJlY3RvcnkgKiBjb25zdCBw
ZCA9Cj4gICAgICAgICAgICAgICAgICAgICAgICAgaTkxNV9wZF9lbnRyeShwZHAsIF9fZ2VuOF9w
dGVfaW5kZXgoc3RhcnQsIDIpKTsKPiAgICAgICAgICAgICAgICAgZ2VuOF9wdGVfdCBlbmNvZGUg
PSBwdGVfZW5jb2RlOwo+ICAgICAgICAgICAgICAgICB1bnNpZ25lZCBpbnQgbWF5YmVfNjRLID0g
LTE7Cj4gQEAgLTEzMTYsMjYgKzEzMjYsMzEgQEAgc3RhdGljIHZvaWQgZ2VuOF9wcGd0dF9pbnNl
cnRfaHVnZV9lbnRyaWVzKHN0cnVjdCBpOTE1X3ZtYSAqdm1hLAo+ICAgICAgICAgfSB3aGlsZSAo
aXRlci0+c2cpOwo+ICB9Cj4gIAo+IC1zdGF0aWMgdm9pZCBnZW44X3BwZ3R0X2luc2VydF80bHZs
KHN0cnVjdCBpOTE1X2FkZHJlc3Nfc3BhY2UgKnZtLAo+IC0gICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgc3RydWN0IGk5MTVfdm1hICp2bWEsCj4gLSAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICBlbnVtIGk5MTVfY2FjaGVfbGV2ZWwgY2FjaGVfbGV2ZWwsCj4gLSAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1MzIgZmxhZ3MpCj4gK3N0YXRpYyB2b2lkIGdl
bjhfcHBndHRfaW5zZXJ0KHN0cnVjdCBpOTE1X2FkZHJlc3Nfc3BhY2UgKnZtLAo+ICsgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgIHN0cnVjdCBpOTE1X3ZtYSAqdm1hLAo+ICsgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgIGVudW0gaTkxNV9jYWNoZV9sZXZlbCBjYWNoZV9sZXZlbCwKPiAr
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1MzIgZmxhZ3MpCj4gIHsKPiAtICAgICAgIHN0
cnVjdCBpOTE1X3BwZ3R0ICpwcGd0dCA9IGk5MTVfdm1fdG9fcHBndHQodm0pOwo+ICsgICAgICAg
c3RydWN0IGk5MTVfcHBndHQgKiBjb25zdCBwcGd0dCA9IGk5MTVfdm1fdG9fcHBndHQodm0pOwo+
ICAgICAgICAgc3RydWN0IHNndF9kbWEgaXRlciA9IHNndF9kbWEodm1hKTsKPiAtICAgICAgIHN0
cnVjdCBpOTE1X3BhZ2VfZGlyZWN0b3J5ICogY29uc3QgcG1sNCA9IHBwZ3R0LT5wZDsKPiAgCj4g
ICAgICAgICBpZiAodm1hLT5wYWdlX3NpemVzLnNnID4gSTkxNV9HVFRfUEFHRV9TSVpFKSB7CgpJ
dCdzIHdvcnRoIGhhdmluZyBhIEdFTV9CVUdfT04oIWk5MTVfdm1faXNfNGx2bCgpKSBoZXJlIEkg
dGhpbmsKCk9yIHdlIHVzZSAodm1hLT5wYWdlX3NpemUuc2cgJiB2bS0+cGFnZV9zaXplcykgJiB+
U1pfNEsKCj4gLSAgICAgICAgICAgICAgIGdlbjhfcHBndHRfaW5zZXJ0X2h1Z2VfZW50cmllcyh2
bWEsIHBtbDQsICZpdGVyLCBjYWNoZV9sZXZlbCwKPiArICAgICAgICAgICAgICAgZ2VuOF9wcGd0
dF9pbnNlcnRfaHVnZV9lbnRyaWVzKHZtYSwgJml0ZXIsIGNhY2hlX2xldmVsLAo+ICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmxhZ3MpOwo+ICAgICAgICAg
fSBlbHNlIHsKPiAgICAgICAgICAgICAgICAgdTY0IGlkeCA9IHZtYS0+bm9kZS5zdGFydCA+PiBH
RU44X1BURV9TSElGVDsKPiAgCj4gLSAgICAgICAgICAgICAgIHdoaWxlICgoaWR4ID0gZ2VuOF9w
cGd0dF9pbnNlcnRfcHRlX2VudHJpZXMocHBndHQsCj4gLSAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaTkxNV9wZF9lbnRyeShwbWw0LCBn
ZW44X3BkX2luZGV4KGlkeCwgMykpLAo+IC0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICZpdGVyLCBpZHgsIGNhY2hlX2xldmVsLAo+IC0g
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
IGZsYWdzKSkpCj4gLSAgICAgICAgICAgICAgICAgICAgICAgOwo+ICsgICAgICAgICAgICAgICBk
byB7Cj4gKyAgICAgICAgICAgICAgICAgICAgICAgc3RydWN0IGk5MTVfcGFnZV9kaXJlY3Rvcnkg
KiBjb25zdCBwZHAgPQo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2VuOF9wZHBf
Zm9yX3BhZ2VfaW5kZXgodm0sIGlkeCk7Cj4gKwo+ICsgICAgICAgICAgICAgICAgICAgICAgIGlk
eCA9IGdlbjhfcHBndHRfaW5zZXJ0X3B0ZV9lbnRyaWVzKHBwZ3R0LAo+ICsgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBkcCwKPiArICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAm
aXRlciwKPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICBpZHgsCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgY2FjaGVfbGV2ZWwsCj4gKyAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmxhZ3MpOwoKZ2VuOCBwcGd0
dCBpbnNlcnQgcGFnZSB0YWJsZSBlbnRyaWVzIGVudHJpZXMuCgpJZiB3ZSByZW1vdmUgdGhlIGZp
bmFsIHJlcGV0aXRpb24sIGhvcGVmdWxseSB0aGF0J3MgbGVzcyBsaWtlIGEgY2xpZmYuCgpnZW44
X3BwZ3R0X2luc2VydF9wdGUKZ2VuOF9wcGd0dF9pbnNlcnRfaHVnZQo/Ci1DaHJpcwpfX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpJbnRlbC1nZnggbWFpbGlu
ZyBsaXN0CkludGVsLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVl
ZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9pbnRlbC1nZng=

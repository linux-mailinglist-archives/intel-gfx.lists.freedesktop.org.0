Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 32A14186AA
	for <lists+intel-gfx@lfdr.de>; Thu,  9 May 2019 10:18:09 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 23889898A3;
	Thu,  9 May 2019 08:18:07 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from fireflyinternet.com (mail.fireflyinternet.com [109.228.58.192])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 451F1898A3
 for <intel-gfx@lists.freedesktop.org>; Thu,  9 May 2019 08:18:05 +0000 (UTC)
X-Default-Received-SPF: pass (skip=forwardok (res=PASS))
 x-ip-name=78.156.65.138; 
Received: from localhost (unverified [78.156.65.138]) 
 by fireflyinternet.com (Firefly Internet (M1)) with ESMTP (TLS) id
 16498842-1500050 for multiple; Thu, 09 May 2019 09:17:56 +0100
MIME-Version: 1.0
To: Imre Deak <imre.deak@intel.com>, intel-gfx@lists.freedesktop.org
From: Chris Wilson <chris@chris-wilson.co.uk>
In-Reply-To: <20190509061954.10379-5-imre.deak@intel.com>
References: <20190509061954.10379-1-imre.deak@intel.com>
 <20190509061954.10379-5-imre.deak@intel.com>
Message-ID: <155738987437.28545.4020311833128765194@skylake-alporthouse-com>
User-Agent: alot/0.6
Date: Thu, 09 May 2019 09:17:54 +0100
Subject: Re: [Intel-gfx] [PATCH v2 04/11] drm/i915: Add support for
 asynchronous display power disabling
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

UXVvdGluZyBJbXJlIERlYWsgKDIwMTktMDUtMDkgMDc6MTk6NDcpCj4gQnkgZGlzYWJsaW5nIGEg
cG93ZXIgZG9tYWluIGFzeW5jaHJvbm91c2x5IHdlIGNhbiByZXN0cmljdCBob2xkaW5nIGEKPiBy
ZWZlcmVuY2Ugb24gdGhhdCBwb3dlciBkb21haW4gdG8gdGhlIGFjdHVhbCBjb2RlIHNlcXVlbmNl
IHRoYXQKPiByZXF1aXJlcyB0aGUgcG93ZXIgdG8gYmUgb24gZm9yIHRoZSBIVyBhY2Nlc3MgaXQn
cyBkb2luZywgYnkgYWxzbwo+IGF2b2lkaW5nIHVubmVlZGVkIG9uLW9mZi1vbiB0b2dnbGluZ3Mg
b2YgdGhlIHBvd2VyIGRvbWFpbiAoc2luY2UgdGhlCj4gZGlzYWJsaW5nIGhhcHBlbnMgd2l0aCBh
IGRlbGF5KS4KPiAKPiBPbmUgYmVuZWZpdCBpcyBwb3RlbnRpYWwgcG93ZXIgc2F2aW5nIGR1ZSB0
byB0aGUgZm9sbG93aW5nIHR3byByZWFzb25zOgo+IDEuIFRoZSBmYWN0IHRoYXQgd2Ugd2lsbCBu
b3cgYmUgaG9sZGluZyB0aGUgcmVmZXJlbmNlIG9ubHkgZm9yIHRoZQo+ICAgIG5lY2Vzc2FyeSBk
dXJhdGlvbiBieSB0aGUgZW5kIG9mIHRoZSBwYXRjaHNldC4gV2hpbGUgc2ltcGx5IG5vdAo+ICAg
IGRlbGF5aW5nIHRoZSBkaXNhYmxpbmcgaGFzIHRoZSBzYW1lIGJlbmVmaXQsIGl0IGhhcyB0aGUg
cHJvYmxlbSB0aGF0Cj4gICAgZnJlcXVlbnQgb24tb2ZmLW9uIHBvd2VyIHN3aXRjaGluZyBoYXMg
aXRzIG93biBwb3dlciBjb3N0IChzZWUgdGhlIDIuCj4gICAgcG9pbnQgYmVsb3cpIGFuZCB0aGUg
ZGVidWcgdHJhY2UgZm9yIHBvd2VyIHdlbGwgb24vb2ZmIGV2ZW50cyB3aWxsCj4gICAgY2F1c2Ug
YSBsb3Qgb2YgZG1lc2cgc3BhbSAoc2VlIGRldGFpbHMgYWJvdXQgdGhpcyBmdXJ0aGVyIGJlbG93
KS4KPiAyLiBBdm9pZGluZyB0aGUgcG93ZXIgY29zdCBvZiBmcmV1cWVudCBvbi1vZmYtb24gcG93
ZXIgc3dpdGNoaW5nLiBUaGlzCj4gICAgcmVxdWlyZXMgdXMgdG8gZmluZCB0aGUgb3B0aW1hbCBk
aXNhYmxpbmcgZGVsYXkgYmFzZWQgb24gdGhlIG1lYXN1cmVkCj4gICAgcG93ZXIgY29zdCBvZiBv
bi0+b2ZmIGFuZCBvZmYtPm9uIHN3aXRjaGluZyBvZiBlYWNoIHBvd2VyIHdlbGwgdnMuCj4gICAg
dGhlIHBvd2VyIG9mIGtlZXBpbmcgdGhlIGdpdmVuIHBvd2VyIHdlbGwgb24uCj4gCj4gICAgSW4g
dGhpcyBwYXRjaHNldCBJJ20gbm90IHByb3ZpZGluZyB0aGlzIG9wdGltYWwgZGVsYXkgZm9yIHR3
bwo+ICAgIHJlYXNvbnM6Cj4gICAgYSkgSSBkb24ndCBoYXZlIHRoZSBtZWFucyB5ZXQgdG8gcGVy
Zm9ybSB0aGUgbWVhc3VyZW1lbnQgKHdpdGggaGlnaAo+ICAgICAgIGVub3VnaCBzaWduYWwtdG8t
bm9pc2UgcmF0aW8sIG9yIHdpdGggdGhlIGhlbHAgb2YgYW4gZW5lcmd5Cj4gICAgICAgY291bnRl
ciB0aGF0IHRha2VzIHN3aXRjaGluZyBpbnRvIGFjY291bnQpLiBJJ20gY3VycmVudGx5IGxvb2tp
bmcKPiAgICAgICBmb3IgYSB3YXkgdG8gbWVhc3VyZSB0aGlzLgo+IAo+ICAgIGIpIEJlZm9yZSBy
ZWR1Y2luZyB0aGUgZGlzYWJsaW5nIGRlbGF5IHdlIG5lZWQgYW4gYWx0ZXJuYXRpdmUgd2F5IGZv
cgo+ICAgICAgIGRlYnVnIHRyYWNpbmcgcG93ZXJ3ZWxsIG9uL29mZiBldmVudHMuIFNpbXBseSBh
dm9pZGluZy90aHJvdHRsaW5nCj4gICAgICAgdGhlIGRlYnVnIG1lc3NhZ2VzIGlzIG5vdCBhIHNv
bHV0aW9uLCBzZWUgZnVydGhlciBiZWxvdy4KPiAKPiAgICBOb3RlIHRoYXQgZXZlbiBpbiB0aGUg
Y2FzZSB3aGVyZSB3ZSBjYW4ndCBtZWFzdXJlIGFueSBjb25zaWRlcmFibGUKPiAgICBwb3dlciBj
b3N0IG9mIGZyZXF1ZW50IG9uLW9mZiBzd2l0Y2hpbmcgb2YgcG93ZXJ3ZWxscywgaXQgc3RpbGwg
d291bGQKPiAgICBtYWtlIHNlbnNlIHRvIGRvIHRoZSBkaXNhYmxpbmcgYXN5bmNocm9ub3VzbHkg
KHdpdGggMCBkZWxheSkgdG8gYXZvaWQKPiAgICBibG9ja2luZyBvbiB0aGUgZGlzYWJsaW5nLiBP
biBWTFYgSSBtZWFzdXJlZCB0aGlzIGRpc2FibGluZyB0aW1lCj4gICAgb3ZlcmhlYWQgdG8gYmUg
MW1zIG9uIGF2ZXJhZ2Ugd2l0aCBhIHdvcnN0IGNhc2Ugb2YgNG1zLgoKR29vZCBwb2ludC4gQWdh
aW4sIHRoYXQgd291bGQgYmUgbmljZSB0byBzaG93IGluIGEgbWljcm9iZW5jaG1hcmsgLS0gdGhl
CmxhdGVuY3kgd2lsbCBzdGlsbCBpbXBhY3QgdGhlIHdha2V1cCBwYXRoIChJIGV4cGVjdCksIHRo
ZSBjaGFsbGVuZ2UgaXMKaWRlbnRpZnlpbmcgdXNlcnNwYWNlIHBhdGggaW1wYWN0ZWQgYW5kIHJl
bGF0aW5nIHRoYXQgdG8gd29ya2xvYWRzLiBUaGUKZnVydGhlciBjaGFsbGVuZ2UgaXMgdGhhdCBz
aW5jZSB0aGlzIGlzIHBvd2VyIGNlbnRyaWMsIHdlIG5lZWQgdG8KbWVhc3VyZSB0aGUgcG93ZXIg
dnMgbGF0ZW5jeSAvIHRocm91Z2hwdXQgb2Ygc3VjaCB3b3JrbG9hZHMuCgo+IEluIHRoZSBjYXNl
IG9mIHRoZSBBVVggcG93ZXIgZG9tYWlucyBvbiBJQ0wgd2Ugd291bGQgYWxzbyBuZWVkIHRvIGtl
ZXAKPiB0aGUgc2VxdWVuY2Ugd2hlcmUgd2UgaG9sZCB0aGUgcG93ZXIgcmVmZXJlbmNlIHNob3J0
LCB0aGUgd2F5IGl0IHdvdWxkCj4gYmUgYnkgdGhlIGVuZCBvZiB0aGlzIHBhdGNoc2V0IHdoZXJl
IHdlIGhvbGQgaXQgb25seSBmb3IgdGhlIGFjdHVhbCBBVVgKPiB0cmFuc2Zlci4gQW55dGhpbmcg
ZWxzZSB3b3VsZCBtYWtlIHRoZSBsb2NraW5nIHdlIG5lZWQgZm9yIElDTCBUeXBlQwo+IHBvcnRz
ICh3aGVuZXZlciB3ZSBob2xkIGEgcmVmZXJlbmNlIG9uIGFueSBBVVggcG93ZXIgZG9tYWluKSBy
YXRoZXIKPiBwcm9ibGVtYXRpYywgYWRkaW5nIGZvciBpbnN0YW5jZSB1bm5lY2Vzc2FyeSBsb2Nr
ZGVwIGRlcGVuZGVuY2llcyB0bwo+IHRoZSByZXF1aXJlZCBUeXBlQyBwb3J0IGxvY2suCj4gCj4g
SSBjaG9zZSB0aGUgZGlzYWJsaW5nIGRlbGF5IHRvIGJlIDEwMG1zZWMgZm9yIG5vdyB0byBhdm9p
ZCB0aGUgdW5uZWVkZWQKPiB0b2dnbGluZyAoYW5kIHNvIG5vdCB0byBpbnRyb2R1Y2UgZG1lc2cg
c3BhbW1pbmcpIGluIHRoZSBEUCBNU1Qgc2lkZWJhbmQKPiBzaWduYWxpbmcgY29kZS4gV2UgY291
bGQgb3B0aW1pemUgdGhpcyBkZWxheSBsYXRlciwgb25jZSB3ZSBoYXZlIHRoZQo+IG1lYW5zIHRv
IG1lYXN1cmUgdGhlIHN3aXRjaGluZyBwb3dlciBjb3N0IChzZWUgYWJvdmUpLgo+IAo+IE5vdGUg
dGhhdCBzaW1wbHkgcmVtb3ZpbmcvdGhyb3R0bGluZyB0aGUgZGVidWcgdHJhY2luZyBmb3IgcG93
ZXIgd2VsbAo+IG9uL29mZiBldmVudHMgaXMgbm90IGEgc29sdXRpb24uIFdlIG5lZWQgdG8ga25v
dyB0aGUgZXhhY3Qgc3BvdHMgb2YKPiB0aGVzZSBldmVudHMgYW5kIGNhbm5vdCByZWx5IG9ubHkg
b24gaW5jb3JyZWN0IHJlZ2lzdGVyIGFjY2Vzc2VzIGNhdWdodAo+IChkdWUgdG8gbm90IGhvbGRp
bmcgYSB3YWtlcmVmIGF0IHRoZSB0aW1lIG9mIGFjY2VzcykuIEluY29ycmVjdAo+IHBvd2Vyd2Vs
bCBlbmFibGluZy9kaXNhYmxpbmcgY291bGQgbGVhZCB0byBvdGhlciBwcm9ibGVtcywgZm9yIGlu
c3RhbmNlCj4gd2UgbmVlZCB0byBrZWVwIGNlcnRhaW4gcG93ZXJ3ZWxscyBlbmFibGVkIGZvciB0
aGUgZHVyYXRpb24gb2YgbW9kZXNldHMKPiBhbmQgQVVYIHRyYW5zZmVycy4KPiAKPiB2MjoKPiAt
IENsYXJpZnkgdGhlIGNvbW1pdCBsb2cgcGFydHMgYWJvdXQgcG93ZXIgY29zdCBtZWFzdXJlbWVu
dCBhbmQgdGhlCj4gICBwcm9ibGVtIG9mIHNpbXBseSByZW1vdmluZy90aHJvdHRsaW5nIGRlYnVn
IHRyYWNpbmcuIChDaHJpcykKPiAtIE9wdGltaXplIG91dCBsb2NhbCB3YWtlcmVmIHZhcnMgYXQg
aW50ZWxfcnVudGltZV9wbV9wdXRfcmF3KCkgYW5kCj4gICBpbnRlbF9kaXNwbGF5X3Bvd2VyX3B1
dF9hc3luYygpIGNhbGwgc2l0ZXMgaWYKPiAgIENPTkZJR19EUk1fSTkxNV9ERUJVR19SVU5USU1F
X1BNPW4uIChDaHJpcykKPiAtIFJlYmFzZWQgb24gdjIgb2YgdGhlIHdha2VyZWYgdy9vIHBvd2Vy
LW9uIGd1YXJhbnRlZSBwYXRjaC4KPiAtIEFkZCBtaXNzaW5nIGRvY2Jvb2sgaGVhZGVycy4KPiAK
PiBDYzogQ2hyaXMgV2lsc29uIDxjaHJpc0BjaHJpcy13aWxzb24uY28udWs+Cj4gQ2M6IFZpbGxl
IFN5cmphbGEgPHZpbGxlLnN5cmphbGFAbGludXguaW50ZWwuY29tPgo+IFNpZ25lZC1vZmYtYnk6
IEltcmUgRGVhayA8aW1yZS5kZWFrQGludGVsLmNvbT4KPiAtLS0KPiAgZHJpdmVycy9ncHUvZHJt
L2k5MTUvaTkxNV9kcnYuaCAgICAgICAgIHwgICA1ICsKPiAgZHJpdmVycy9ncHUvZHJtL2k5MTUv
aW50ZWxfcnVudGltZV9wbS5jIHwgMzYyICsrKysrKysrKysrKysrKysrKysrKysrLQo+ICBkcml2
ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9ydW50aW1lX3BtLmggfCAgIDggKwo+ICAzIGZpbGVzIGNo
YW5nZWQsIDM2OCBpbnNlcnRpb25zKCspLCA3IGRlbGV0aW9ucygtKQo+IAo+IGRpZmYgLS1naXQg
YS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2Rydi5oIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUv
aTkxNV9kcnYuaAo+IGluZGV4IGQwMjU3ODA4NzM0Yy4uNTgwMWY1NDA3NTg5IDEwMDY0NAo+IC0t
LSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZHJ2LmgKPiArKysgYi9kcml2ZXJzL2dwdS9k
cm0vaTkxNS9pOTE1X2Rydi5oCj4gQEAgLTgzNCw2ICs4MzQsMTEgQEAgc3RydWN0IGk5MTVfcG93
ZXJfZG9tYWlucyB7Cj4gIAo+ICAgICAgICAgc3RydWN0IG11dGV4IGxvY2s7Cj4gICAgICAgICBp
bnQgZG9tYWluX3VzZV9jb3VudFtQT1dFUl9ET01BSU5fTlVNXTsKPiArCj4gKyAgICAgICBzdHJ1
Y3QgZGVsYXllZF93b3JrIGFzeW5jX3B1dF93b3JrOwo+ICsgICAgICAgaW50ZWxfd2FrZXJlZl90
IGFzeW5jX3B1dF93YWtlcmVmOwo+ICsgICAgICAgdTY0IGFzeW5jX3B1dF9kb21haW5zWzJdOwoK
RndpdywgaW4gdGhlIGZvcmNld2FrZSBjb2RlIHdlIHVzZWQgdGhlIHRlcm0gJ2F1dG8nIGZvciB0
aGUgZXh0cmEKcmVmZXJlbmNlIGhlbGQgYnkgdGhlIHRpbWVyIGZvciB0aGUgZGVsYXllZCByZWxl
YXNlZC4KClRoZXJlIHdlIHVzZWQgYSB0aW1lciBwZXIgZndfZG9tYWluLCB3aGljaCBhcmUgbXVj
aCBmZXdlciBpbiBudW1iZXIgdGhhbgpwb3dlcl9kb21haW5zISwgYnV0IHRoYXQgaGFzIHRoZSBh
ZHZhbnRhZ2Ugb2YgYXZvaWRpbmcgYSBjbG9jawphbGdvcml0aG0uCgo+ICsKPiAgICAgICAgIHN0
cnVjdCBpOTE1X3Bvd2VyX3dlbGwgKnBvd2VyX3dlbGxzOwoKV291bGQgc3R1ZmZpbmcgYSB0aW1l
ciBpbnRvIGVhY2ggcG93ZXIgd2VsbCBiZSBzaW1wbGVyPyBKdXN0IHdvbmRlcmluZy4KQWxzbyB3
b25kZXJpbmcgaG93IG11Y2ggYWxpa2Ugd2UgY291bGQgbWFrZSB0aGUgYXN5bmMgcmVsZWFzZWQg
YW5kIGlmIHdlCmNhbiBtYWtlIGEgc21hbGwgbGlicmFyeS4KCj4gIAo+IGRpZmYgLS1naXQgYS9k
cml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9ydW50aW1lX3BtLmMgYi9kcml2ZXJzL2dwdS9kcm0v
aTkxNS9pbnRlbF9ydW50aW1lX3BtLmMKPiBpbmRleCA4OWQ2MzA5YmIxZjcuLjgyOWQ0ODNkMjdl
OSAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9ydW50aW1lX3BtLmMK
PiArKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9ydW50aW1lX3BtLmMKPiBAQCAtNjAs
NiArNjAsMTkgQEAKPiAgICogcHJlc2VudCBmb3IgYSBnaXZlbiBwbGF0Zm9ybS4KPiAgICovCj4g
IAo+ICtzdGF0aWMgaW50ZWxfd2FrZXJlZl90IGludGVsX3J1bnRpbWVfcG1fZ2V0X3JhdyhzdHJ1
Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSk7Cj4gK3N0YXRpYyB2b2lkCj4gK19faW50ZWxfcnVu
dGltZV9wbV9wdXQoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUsIGludGVsX3dha2VyZWZf
dCB3cmVmLAo+ICsgICAgICAgICAgICAgICAgICAgICAgYm9vbCB3YWtlbG9jayk7Cj4gKwo+ICsj
aWYgSVNfRU5BQkxFRChDT05GSUdfRFJNX0k5MTVfREVCVUdfUlVOVElNRV9QTSkKPiArc3RhdGlj
IHZvaWQKPiAraW50ZWxfcnVudGltZV9wbV9wdXRfcmF3KHN0cnVjdCBkcm1faTkxNV9wcml2YXRl
ICppOTE1LCBpbnRlbF93YWtlcmVmX3Qgd3JlZik7Cj4gKyNlbHNlCj4gKyNkZWZpbmUgaW50ZWxf
cnVudGltZV9wbV9wdXRfcmF3KGk5MTUsIHdyZWYpIFwKPiArICAgICAgIF9faW50ZWxfcnVudGlt
ZV9wbV9wdXQoaTkxNSwgLTEsIGZhbHNlKQo+ICsjZW5kaWYKPiArCj4gICNpZiBJU19FTkFCTEVE
KENPTkZJR19EUk1fSTkxNV9ERUJVR19SVU5USU1FX1BNKQo+ICAKPiAgI2luY2x1ZGUgPGxpbnV4
L3NvcnQuaD4KPiBAQCAtMTkwMyw2ICsxOTE2LDEyNSBAQCBzdGF0aWMgdm9pZCBjaHZfcGlwZV9w
b3dlcl93ZWxsX2Rpc2FibGUoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2LAo+ICAg
ICAgICAgY2h2X3NldF9waXBlX3Bvd2VyX3dlbGwoZGV2X3ByaXYsIHBvd2VyX3dlbGwsIGZhbHNl
KTsKPiAgfQo+ICAKPiArc3RhdGljIHU2NCBfX2FzeW5jX3B1dF9kb21haW5zX21hc2soc3RydWN0
IGk5MTVfcG93ZXJfZG9tYWlucyAqcG93ZXJfZG9tYWlucykKPiArewo+ICsgICAgICAgcmV0dXJu
IHBvd2VyX2RvbWFpbnMtPmFzeW5jX3B1dF9kb21haW5zWzBdIHwKPiArICAgICAgICAgICAgICBw
b3dlcl9kb21haW5zLT5hc3luY19wdXRfZG9tYWluc1sxXTsKPiArfQo+ICsKPiArI2lmIElTX0VO
QUJMRUQoQ09ORklHX0RSTV9JOTE1X0RFQlVHX1JVTlRJTUVfUE0pCj4gKwo+ICtzdGF0aWMgYm9v
bAo+ICthc3NlcnRfYXN5bmNfcHV0X2RvbWFpbl9tYXNrc19kaXNqb2ludChzdHJ1Y3QgaTkxNV9w
b3dlcl9kb21haW5zICpwb3dlcl9kb21haW5zKQo+ICt7Cj4gKyAgICAgICByZXR1cm4gIVdBUk5f
T04ocG93ZXJfZG9tYWlucy0+YXN5bmNfcHV0X2RvbWFpbnNbMF0gJgo+ICsgICAgICAgICAgICAg
ICAgICAgICAgIHBvd2VyX2RvbWFpbnMtPmFzeW5jX3B1dF9kb21haW5zWzFdKTsKPiArfQo+ICsK
PiArc3RhdGljIGJvb2wKPiArX19hc3luY19wdXRfZG9tYWluc19zdGF0ZV9vayhzdHJ1Y3QgaTkx
NV9wb3dlcl9kb21haW5zICpwb3dlcl9kb21haW5zKQo+ICt7Cj4gKyAgICAgICBlbnVtIGludGVs
X2Rpc3BsYXlfcG93ZXJfZG9tYWluIGRvbWFpbjsKPiArICAgICAgIGJvb2wgZXJyID0gZmFsc2U7
Cj4gKwo+ICsgICAgICAgZXJyIHw9ICFhc3NlcnRfYXN5bmNfcHV0X2RvbWFpbl9tYXNrc19kaXNq
b2ludChwb3dlcl9kb21haW5zKTsKPiArICAgICAgIGVyciB8PSBXQVJOX09OKCEhcG93ZXJfZG9t
YWlucy0+YXN5bmNfcHV0X3dha2VyZWYgIT0KPiArICAgICAgICAgICAgICAgICAgICAgICEhX19h
c3luY19wdXRfZG9tYWluc19tYXNrKHBvd2VyX2RvbWFpbnMpKTsKPiArCj4gKyAgICAgICBmb3Jf
ZWFjaF9wb3dlcl9kb21haW4oZG9tYWluLCBfX2FzeW5jX3B1dF9kb21haW5zX21hc2socG93ZXJf
ZG9tYWlucykpCj4gKyAgICAgICAgICAgICAgIGVyciB8PSBXQVJOX09OKHBvd2VyX2RvbWFpbnMt
PmRvbWFpbl91c2VfY291bnRbZG9tYWluXSAhPSAxKTsKPiArCj4gKyAgICAgICByZXR1cm4gIWVy
cjsKPiArfQo+ICsKPiArc3RhdGljIHZvaWQgcHJpbnRfcG93ZXJfZG9tYWlucyhzdHJ1Y3QgaTkx
NV9wb3dlcl9kb21haW5zICpwb3dlcl9kb21haW5zLAo+ICsgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgY29uc3QgY2hhciAqcHJlZml4LCB1NjQgbWFzaykKPiArewo+ICsgICAgICAgZW51
bSBpbnRlbF9kaXNwbGF5X3Bvd2VyX2RvbWFpbiBkb21haW47Cj4gKwo+ICsgICAgICAgRFJNX0RF
QlVHX0RSSVZFUigiJXMgKCVsdSk6XG4iLCBwcmVmaXgsIGh3ZWlnaHQ2NChtYXNrKSk7Cj4gKyAg
ICAgICBmb3JfZWFjaF9wb3dlcl9kb21haW4oZG9tYWluLCBtYXNrKQo+ICsgICAgICAgICAgICAg
ICBEUk1fREVCVUdfRFJJVkVSKCIlcyB1c2VfY291bnQgJWRcbiIsCj4gKyAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgaW50ZWxfZGlzcGxheV9wb3dlcl9kb21haW5fc3RyKGRvbWFpbiks
Cj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG93ZXJfZG9tYWlucy0+ZG9tYWlu
X3VzZV9jb3VudFtkb21haW5dKTsKPiArfQo+ICsKPiArc3RhdGljIHZvaWQKPiArcHJpbnRfYXN5
bmNfcHV0X2RvbWFpbnNfc3RhdGUoc3RydWN0IGk5MTVfcG93ZXJfZG9tYWlucyAqcG93ZXJfZG9t
YWlucykKPiArewo+ICsgICAgICAgRFJNX0RFQlVHX0RSSVZFUigiYXN5bmNfcHV0X3dha2VyZWYg
JXVcbiIsCj4gKyAgICAgICAgICAgICAgICAgICAgICAgIHBvd2VyX2RvbWFpbnMtPmFzeW5jX3B1
dF93YWtlcmVmKTsKPiArCj4gKyAgICAgICBwcmludF9wb3dlcl9kb21haW5zKHBvd2VyX2RvbWFp
bnMsICJhc3luY19wdXRfZG9tYWluc1swXSIsCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAg
IHBvd2VyX2RvbWFpbnMtPmFzeW5jX3B1dF9kb21haW5zWzBdKTsKPiArICAgICAgIHByaW50X3Bv
d2VyX2RvbWFpbnMocG93ZXJfZG9tYWlucywgImFzeW5jX3B1dF9kb21haW5zWzFdIiwKPiArICAg
ICAgICAgICAgICAgICAgICAgICAgICAgcG93ZXJfZG9tYWlucy0+YXN5bmNfcHV0X2RvbWFpbnNb
MV0pOwo+ICt9Cj4gKwo+ICtzdGF0aWMgdm9pZAo+ICt2ZXJpZnlfYXN5bmNfcHV0X2RvbWFpbnNf
c3RhdGUoc3RydWN0IGk5MTVfcG93ZXJfZG9tYWlucyAqcG93ZXJfZG9tYWlucykKPiArewo+ICsg
ICAgICAgaWYgKCFfX2FzeW5jX3B1dF9kb21haW5zX3N0YXRlX29rKHBvd2VyX2RvbWFpbnMpKQo+
ICsgICAgICAgICAgICAgICBwcmludF9hc3luY19wdXRfZG9tYWluc19zdGF0ZShwb3dlcl9kb21h
aW5zKTsKPiArfQo+ICsKPiArI2Vsc2UKPiArCj4gK3N0YXRpYyB2b2lkCj4gK2Fzc2VydF9hc3lu
Y19wdXRfZG9tYWluX21hc2tzX2Rpc2pvaW50KHN0cnVjdCBpOTE1X3Bvd2VyX2RvbWFpbnMgKnBv
d2VyX2RvbWFpbnMpCj4gK3sKPiArfQo+ICsKPiArc3RhdGljIHZvaWQKPiArdmVyaWZ5X2FzeW5j
X3B1dF9kb21haW5zX3N0YXRlKHN0cnVjdCBpOTE1X3Bvd2VyX2RvbWFpbnMgKnBvd2VyX2RvbWFp
bnMpCj4gK3sKPiArfQo+ICsKPiArI2VuZGlmIC8qIENPTkZJR19EUk1fSTkxNV9ERUJVR19SVU5U
SU1FX1BNICovCj4gKwo+ICtzdGF0aWMgdTY0IGFzeW5jX3B1dF9kb21haW5zX21hc2soc3RydWN0
IGk5MTVfcG93ZXJfZG9tYWlucyAqcG93ZXJfZG9tYWlucykKPiArewo+ICsgICAgICAgYXNzZXJ0
X2FzeW5jX3B1dF9kb21haW5fbWFza3NfZGlzam9pbnQocG93ZXJfZG9tYWlucyk7Cj4gKwo+ICsg
ICAgICAgcmV0dXJuIF9fYXN5bmNfcHV0X2RvbWFpbnNfbWFzayhwb3dlcl9kb21haW5zKTsKPiAr
fQo+ICsKPiArc3RhdGljIHZvaWQKPiArYXN5bmNfcHV0X2RvbWFpbnNfY2xlYXJfZG9tYWluKHN0
cnVjdCBpOTE1X3Bvd2VyX2RvbWFpbnMgKnBvd2VyX2RvbWFpbnMsCj4gKyAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgIGVudW0gaW50ZWxfZGlzcGxheV9wb3dlcl9kb21haW4gZG9tYWluKQo+
ICt7Cj4gKyAgICAgICBhc3NlcnRfYXN5bmNfcHV0X2RvbWFpbl9tYXNrc19kaXNqb2ludChwb3dl
cl9kb21haW5zKTsKPiArCj4gKyAgICAgICBwb3dlcl9kb21haW5zLT5hc3luY19wdXRfZG9tYWlu
c1swXSAmPSB+QklUX1VMTChkb21haW4pOwo+ICsgICAgICAgcG93ZXJfZG9tYWlucy0+YXN5bmNf
cHV0X2RvbWFpbnNbMV0gJj0gfkJJVF9VTEwoZG9tYWluKTsKPiArfQo+ICsKPiArc3RhdGljIGJv
b2wKPiAraW50ZWxfZGlzcGxheV9wb3dlcl9ncmFiX2FzeW5jX3B1dF9yZWYoc3RydWN0IGRybV9p
OTE1X3ByaXZhdGUgKmRldl9wcml2LAo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgIGVudW0gaW50ZWxfZGlzcGxheV9wb3dlcl9kb21haW4gZG9tYWluKQo+ICt7Cj4gKyAg
ICAgICBzdHJ1Y3QgaTkxNV9wb3dlcl9kb21haW5zICpwb3dlcl9kb21haW5zID0gJmRldl9wcml2
LT5wb3dlcl9kb21haW5zOwo+ICsgICAgICAgYm9vbCByZXQgPSBmYWxzZTsKPiArCj4gKyAgICAg
ICBpZiAoIShhc3luY19wdXRfZG9tYWluc19tYXNrKHBvd2VyX2RvbWFpbnMpICYgQklUX1VMTChk
b21haW4pKSkKPiArICAgICAgICAgICAgICAgZ290byBvdXRfdmVyaWZ5Owo+ICsKPiArICAgICAg
IGFzeW5jX3B1dF9kb21haW5zX2NsZWFyX2RvbWFpbihwb3dlcl9kb21haW5zLCBkb21haW4pOwo+
ICsKPiArICAgICAgIHJldCA9IHRydWU7Cj4gKwo+ICsgICAgICAgaWYgKGFzeW5jX3B1dF9kb21h
aW5zX21hc2socG93ZXJfZG9tYWlucykpCj4gKyAgICAgICAgICAgICAgIGdvdG8gb3V0X3Zlcmlm
eTsKPiArCj4gKyAgICAgICBjYW5jZWxfZGVsYXllZF93b3JrKCZwb3dlcl9kb21haW5zLT5hc3lu
Y19wdXRfd29yayk7Cj4gKyAgICAgICBpbnRlbF9ydW50aW1lX3BtX3B1dF9yYXcoZGV2X3ByaXYs
Cj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmV0Y2hfYW5kX3plcm8oJnBvd2Vy
X2RvbWFpbnMtPmFzeW5jX3B1dF93YWtlcmVmKSk7Cj4gK291dF92ZXJpZnk6Cj4gKyAgICAgICB2
ZXJpZnlfYXN5bmNfcHV0X2RvbWFpbnNfc3RhdGUocG93ZXJfZG9tYWlucyk7Cj4gKwo+ICsgICAg
ICAgcmV0dXJuIHJldDsKPiArfQo+ICsKPiAgc3RhdGljIHZvaWQKPiAgX19pbnRlbF9kaXNwbGF5
X3Bvd2VyX2dldF9kb21haW4oc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2LAo+ICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVudW0gaW50ZWxfZGlzcGxheV9wb3dlcl9k
b21haW4gZG9tYWluKQo+IEBAIC0xOTEwLDYgKzIwNDIsOSBAQCBfX2ludGVsX2Rpc3BsYXlfcG93
ZXJfZ2V0X2RvbWFpbihzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYsCj4gICAgICAg
ICBzdHJ1Y3QgaTkxNV9wb3dlcl9kb21haW5zICpwb3dlcl9kb21haW5zID0gJmRldl9wcml2LT5w
b3dlcl9kb21haW5zOwo+ICAgICAgICAgc3RydWN0IGk5MTVfcG93ZXJfd2VsbCAqcG93ZXJfd2Vs
bDsKPiAgCj4gKyAgICAgICBpZiAoaW50ZWxfZGlzcGxheV9wb3dlcl9ncmFiX2FzeW5jX3B1dF9y
ZWYoZGV2X3ByaXYsIGRvbWFpbikpCj4gKyAgICAgICAgICAgICAgIHJldHVybjsKPiArCj4gICAg
ICAgICBmb3JfZWFjaF9wb3dlcl9kb21haW5fd2VsbChkZXZfcHJpdiwgcG93ZXJfd2VsbCwgQklU
X1VMTChkb21haW4pKQo+ICAgICAgICAgICAgICAgICBpbnRlbF9wb3dlcl93ZWxsX2dldChkZXZf
cHJpdiwgcG93ZXJfd2VsbCk7Cj4gIAo+IEBAIC0xOTM1LDkgKzIwNzAsNyBAQCBpbnRlbF93YWtl
cmVmX3QgaW50ZWxfZGlzcGxheV9wb3dlcl9nZXQoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRl
dl9wcml2LAo+ICAgICAgICAgaW50ZWxfd2FrZXJlZl90IHdha2VyZWYgPSBpbnRlbF9ydW50aW1l
X3BtX2dldChkZXZfcHJpdik7Cj4gIAo+ICAgICAgICAgbXV0ZXhfbG9jaygmcG93ZXJfZG9tYWlu
cy0+bG9jayk7Cj4gLQo+ICAgICAgICAgX19pbnRlbF9kaXNwbGF5X3Bvd2VyX2dldF9kb21haW4o
ZGV2X3ByaXYsIGRvbWFpbik7Cj4gLQo+ICAgICAgICAgbXV0ZXhfdW5sb2NrKCZwb3dlcl9kb21h
aW5zLT5sb2NrKTsKPiAgCj4gICAgICAgICByZXR1cm4gd2FrZXJlZjsKPiBAQCAtMTk4NiwyNCAr
MjExOSwzNiBAQCBpbnRlbF9kaXNwbGF5X3Bvd2VyX2dldF9pZl9lbmFibGVkKHN0cnVjdCBkcm1f
aTkxNV9wcml2YXRlICpkZXZfcHJpdiwKPiAgICAgICAgIHJldHVybiB3YWtlcmVmOwo+ICB9Cj4g
IAo+IC1zdGF0aWMgdm9pZCBfX2ludGVsX2Rpc3BsYXlfcG93ZXJfcHV0KHN0cnVjdCBkcm1faTkx
NV9wcml2YXRlICpkZXZfcHJpdiwKPiAtICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgIGVudW0gaW50ZWxfZGlzcGxheV9wb3dlcl9kb21haW4gZG9tYWluKQo+ICtzdGF0aWMgdm9p
ZAo+ICtfX2ludGVsX2Rpc3BsYXlfcG93ZXJfcHV0X2RvbWFpbihzdHJ1Y3QgZHJtX2k5MTVfcHJp
dmF0ZSAqZGV2X3ByaXYsCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW51bSBp
bnRlbF9kaXNwbGF5X3Bvd2VyX2RvbWFpbiBkb21haW4pCj4gIHsKPiAgICAgICAgIHN0cnVjdCBp
OTE1X3Bvd2VyX2RvbWFpbnMgKnBvd2VyX2RvbWFpbnM7Cj4gICAgICAgICBzdHJ1Y3QgaTkxNV9w
b3dlcl93ZWxsICpwb3dlcl93ZWxsOwo+ICsgICAgICAgY29uc3QgY2hhciAqbmFtZSA9IGludGVs
X2Rpc3BsYXlfcG93ZXJfZG9tYWluX3N0cihkb21haW4pOwo+ICAKPiAgICAgICAgIHBvd2VyX2Rv
bWFpbnMgPSAmZGV2X3ByaXYtPnBvd2VyX2RvbWFpbnM7Cj4gIAo+IC0gICAgICAgbXV0ZXhfbG9j
aygmcG93ZXJfZG9tYWlucy0+bG9jayk7Cj4gLQo+ICAgICAgICAgV0FSTighcG93ZXJfZG9tYWlu
cy0+ZG9tYWluX3VzZV9jb3VudFtkb21haW5dLAo+ICAgICAgICAgICAgICAiVXNlIGNvdW50IG9u
IGRvbWFpbiAlcyBpcyBhbHJlYWR5IHplcm9cbiIsCj4gLSAgICAgICAgICAgIGludGVsX2Rpc3Bs
YXlfcG93ZXJfZG9tYWluX3N0cihkb21haW4pKTsKPiArICAgICAgICAgICAgbmFtZSk7Cj4gKyAg
ICAgICBXQVJOKGFzeW5jX3B1dF9kb21haW5zX21hc2socG93ZXJfZG9tYWlucykgJiBCSVRfVUxM
KGRvbWFpbiksCj4gKyAgICAgICAgICAgICJBc3luYyBkaXNhYmxpbmcgb2YgZG9tYWluICVzIGlz
IHBlbmRpbmdcbiIsCj4gKyAgICAgICAgICAgIG5hbWUpOwo+ICsKPiAgICAgICAgIHBvd2VyX2Rv
bWFpbnMtPmRvbWFpbl91c2VfY291bnRbZG9tYWluXS0tOwo+ICAKPiAgICAgICAgIGZvcl9lYWNo
X3Bvd2VyX2RvbWFpbl93ZWxsX3JldmVyc2UoZGV2X3ByaXYsIHBvd2VyX3dlbGwsIEJJVF9VTEwo
ZG9tYWluKSkKPiAgICAgICAgICAgICAgICAgaW50ZWxfcG93ZXJfd2VsbF9wdXQoZGV2X3ByaXYs
IHBvd2VyX3dlbGwpOwo+ICt9Cj4gIAo+ICtzdGF0aWMgdm9pZCBfX2ludGVsX2Rpc3BsYXlfcG93
ZXJfcHV0KHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiwKPiArICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgIGVudW0gaW50ZWxfZGlzcGxheV9wb3dlcl9kb21haW4g
ZG9tYWluKQo+ICt7Cj4gKyAgICAgICBzdHJ1Y3QgaTkxNV9wb3dlcl9kb21haW5zICpwb3dlcl9k
b21haW5zID0gJmRldl9wcml2LT5wb3dlcl9kb21haW5zOwo+ICsKPiArICAgICAgIG11dGV4X2xv
Y2soJnBvd2VyX2RvbWFpbnMtPmxvY2spOwo+ICsgICAgICAgX19pbnRlbF9kaXNwbGF5X3Bvd2Vy
X3B1dF9kb21haW4oZGV2X3ByaXYsIGRvbWFpbik7Cj4gICAgICAgICBtdXRleF91bmxvY2soJnBv
d2VyX2RvbWFpbnMtPmxvY2spOwo+ICB9Cj4gIAo+IEBAIC0yMDI3LDYgKzIxNzIsMTg3IEBAIHZv
aWQgaW50ZWxfZGlzcGxheV9wb3dlcl9wdXRfdW5jaGVja2VkKHN0cnVjdCBkcm1faTkxNV9wcml2
YXRlICpkZXZfcHJpdiwKPiAgICAgICAgIGludGVsX3J1bnRpbWVfcG1fcHV0X3VuY2hlY2tlZChk
ZXZfcHJpdik7Cj4gIH0KPiAgCj4gK3N0YXRpYyB2b2lkCj4gK3F1ZXVlX2FzeW5jX3B1dF9kb21h
aW5zX3dvcmsoc3RydWN0IGk5MTVfcG93ZXJfZG9tYWlucyAqcG93ZXJfZG9tYWlucywKPiArICAg
ICAgICAgICAgICAgICAgICAgICAgICAgIGludGVsX3dha2VyZWZfdCB3YWtlcmVmKQo+ICt7Cj4g
KyAgICAgICBXQVJOX09OKHBvd2VyX2RvbWFpbnMtPmFzeW5jX3B1dF93YWtlcmVmKTsKPiArICAg
ICAgIHBvd2VyX2RvbWFpbnMtPmFzeW5jX3B1dF93YWtlcmVmID0gd2FrZXJlZjsKPiArICAgICAg
IFdBUk5fT04oIXF1ZXVlX2RlbGF5ZWRfd29yayhzeXN0ZW1fdW5ib3VuZF93cSwKPiArICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmcG93ZXJfZG9tYWlucy0+YXN5bmNfcHV0X3dv
cmssCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbXNlY3NfdG9famlmZmll
cygxMDApKSk7Cj4gK30KPiArCj4gK3N0YXRpYyB2b2lkCj4gK3JlbGVhc2VfYXN5bmNfcHV0X2Rv
bWFpbnMoc3RydWN0IGk5MTVfcG93ZXJfZG9tYWlucyAqcG93ZXJfZG9tYWlucywgdTY0IG1hc2sp
Cj4gK3sKPiArICAgICAgIHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiA9Cj4gKyAg
ICAgICAgICAgICAgIGNvbnRhaW5lcl9vZihwb3dlcl9kb21haW5zLCBzdHJ1Y3QgZHJtX2k5MTVf
cHJpdmF0ZSwKPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvd2VyX2RvbWFpbnMpOwo+
ICsgICAgICAgZW51bSBpbnRlbF9kaXNwbGF5X3Bvd2VyX2RvbWFpbiBkb21haW47Cj4gKyAgICAg
ICBpbnRlbF93YWtlcmVmX3Qgd2FrZXJlZjsKPiArCj4gKyAgICAgICAvKgo+ICsgICAgICAgICog
VGhlIGNhbGxlciBtdXN0IGhvbGQgYWxyZWFkeSByYXcgd2FrZXJlZiwgdXBncmFkZSB0aGF0IHRv
IGEgcHJvcGVyCj4gKyAgICAgICAgKiB3YWtlcmVmIHRvIG1ha2UgdGhlIHN0YXRlIGNoZWNrZXIg
aGFwcHkgYWJvdXQgdGhlIEhXIGFjY2VzcyBkdXJpbmcKPiArICAgICAgICAqIHBvd2VyIHdlbGwg
ZGlzYWJsaW5nLgo+ICsgICAgICAgICovCj4gKyAgICAgICBhc3NlcnRfcnBtX3Jhd193YWtlcmVm
X2hlbGQoZGV2X3ByaXYpOwo+ICsgICAgICAgd2FrZXJlZiA9IGludGVsX3J1bnRpbWVfcG1fZ2V0
KGRldl9wcml2KTsKPiArCj4gKyAgICAgICBmb3JfZWFjaF9wb3dlcl9kb21haW4oZG9tYWluLCBt
YXNrKSB7Cj4gKyAgICAgICAgICAgICAgIC8qIENsZWFyIGJlZm9yZSBwdXQsIHNvIHB1dCdzIHNh
bml0eSBjaGVjayBpcyBoYXBweS4gKi8KPiArICAgICAgICAgICAgICAgYXN5bmNfcHV0X2RvbWFp
bnNfY2xlYXJfZG9tYWluKHBvd2VyX2RvbWFpbnMsIGRvbWFpbik7Cj4gKyAgICAgICAgICAgICAg
IF9faW50ZWxfZGlzcGxheV9wb3dlcl9wdXRfZG9tYWluKGRldl9wcml2LCBkb21haW4pOwo+ICsg
ICAgICAgfQo+ICsKPiArICAgICAgIGludGVsX3J1bnRpbWVfcG1fcHV0KGRldl9wcml2LCB3YWtl
cmVmKTsKPiArfQo+ICsKPiArc3RhdGljIHZvaWQKPiAraW50ZWxfZGlzcGxheV9wb3dlcl9wdXRf
YXN5bmNfd29yayhzdHJ1Y3Qgd29ya19zdHJ1Y3QgKndvcmspCj4gK3sKPiArICAgICAgIHN0cnVj
dCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiA9Cj4gKyAgICAgICAgICAgICAgIGNvbnRhaW5l
cl9vZih3b3JrLCBzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSwKPiArICAgICAgICAgICAgICAgICAg
ICAgICAgICAgIHBvd2VyX2RvbWFpbnMuYXN5bmNfcHV0X3dvcmsud29yayk7Cj4gKyAgICAgICBz
dHJ1Y3QgaTkxNV9wb3dlcl9kb21haW5zICpwb3dlcl9kb21haW5zID0gJmRldl9wcml2LT5wb3dl
cl9kb21haW5zOwo+ICsgICAgICAgaW50ZWxfd2FrZXJlZl90IG5ld193b3JrX3dha2VyZWYgPSBp
bnRlbF9ydW50aW1lX3BtX2dldF9yYXcoZGV2X3ByaXYpOwo+ICsgICAgICAgaW50ZWxfd2FrZXJl
Zl90IG9sZF93b3JrX3dha2VyZWYgPSAwOwo+ICsKPiArICAgICAgIG11dGV4X2xvY2soJnBvd2Vy
X2RvbWFpbnMtPmxvY2spOwo+ICsKPiArICAgICAgIC8qCj4gKyAgICAgICAgKiBCYWlsIG91dCBp
ZiBhbGwgdGhlIGRvbWFpbiByZWZzIHBlbmRpbmcgdG8gYmUgcmVsZWFzZWQgd2VyZSBncmFiYmVk
Cj4gKyAgICAgICAgKiBieSBzdWJzZXF1ZW50IGdldHMgb3IgYSBmbHVzaF93b3JrLgo+ICsgICAg
ICAgICovCj4gKyAgICAgICBvbGRfd29ya193YWtlcmVmID0gZmV0Y2hfYW5kX3plcm8oJnBvd2Vy
X2RvbWFpbnMtPmFzeW5jX3B1dF93YWtlcmVmKTsKPiArICAgICAgIGlmICghb2xkX3dvcmtfd2Fr
ZXJlZikKPiArICAgICAgICAgICAgICAgZ290byBvdXRfdmVyaWZ5Owo+ICsKPiArICAgICAgIHJl
bGVhc2VfYXN5bmNfcHV0X2RvbWFpbnMocG93ZXJfZG9tYWlucywKPiArICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgcG93ZXJfZG9tYWlucy0+YXN5bmNfcHV0X2RvbWFpbnNbMF0pOwo+
ICsKPiArICAgICAgIC8qIFJlcXVldWUgdGhlIHdvcmsgaWYgbW9yZSBkb21haW5zIHdlcmUgYXN5
bmMgcHV0IG1lYW53aGlsZS4gKi8KPiArICAgICAgIGlmIChwb3dlcl9kb21haW5zLT5hc3luY19w
dXRfZG9tYWluc1sxXSkgewo+ICsgICAgICAgICAgICAgICBwb3dlcl9kb21haW5zLT5hc3luY19w
dXRfZG9tYWluc1swXSA9Cj4gKyAgICAgICAgICAgICAgICAgICAgICAgZmV0Y2hfYW5kX3plcm8o
JnBvd2VyX2RvbWFpbnMtPmFzeW5jX3B1dF9kb21haW5zWzFdKTsKPiArICAgICAgICAgICAgICAg
cXVldWVfYXN5bmNfcHV0X2RvbWFpbnNfd29yayhwb3dlcl9kb21haW5zLAo+ICsgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZldGNoX2FuZF96ZXJvKCZuZXdfd29y
a193YWtlcmVmKSk7Cj4gKyAgICAgICB9Cj4gKwo+ICtvdXRfdmVyaWZ5Ogo+ICsgICAgICAgdmVy
aWZ5X2FzeW5jX3B1dF9kb21haW5zX3N0YXRlKHBvd2VyX2RvbWFpbnMpOwo+ICsKPiArICAgICAg
IG11dGV4X3VubG9jaygmcG93ZXJfZG9tYWlucy0+bG9jayk7Cj4gKwo+ICsgICAgICAgaWYgKG9s
ZF93b3JrX3dha2VyZWYpCj4gKyAgICAgICAgICAgICAgIGludGVsX3J1bnRpbWVfcG1fcHV0X3Jh
dyhkZXZfcHJpdiwgb2xkX3dvcmtfd2FrZXJlZik7Cj4gKyAgICAgICBpZiAobmV3X3dvcmtfd2Fr
ZXJlZikKPiArICAgICAgICAgICAgICAgaW50ZWxfcnVudGltZV9wbV9wdXRfcmF3KGRldl9wcml2
LCBuZXdfd29ya193YWtlcmVmKTsKPiArfQo+ICsvKioKPiArICogaW50ZWxfZGlzcGxheV9wb3dl
cl9wdXRfYXN5bmMgLSByZWxlYXNlIGEgcG93ZXIgZG9tYWluIHJlZmVyZW5jZSBhc3luY2hyb25v
dXNseQo+ICsgKiBAaTkxNTogaTkxNSBkZXZpY2UgaW5zdGFuY2UKPiArICogQGRvbWFpbjogcG93
ZXIgZG9tYWluIHRvIHJlZmVyZW5jZQo+ICsgKiBAd2FrZXJlZjogd2FrZXJlZiBhY3F1aXJlZCBm
b3IgdGhlIHJlZmVyZW5jZSB0aGF0IGlzIGJlaW5nIHJlbGVhc2VkCj4gKyAqCj4gKyAqIFRoaXMg
ZnVuY3Rpb24gZHJvcHMgdGhlIHBvd2VyIGRvbWFpbiByZWZlcmVuY2Ugb2J0YWluZWQgYnkKPiAr
ICogaW50ZWxfZGlzcGxheV9wb3dlcl9nZXQqKCkgYW5kIHNjaGVkdWxlcyBhIHdvcmsgdG8gcG93
ZXIgZG93biB0aGUKPiArICogY29ycmVzcG9uZGluZyBoYXJkd2FyZSBibG9jayBpZiB0aGlzIGlz
IHRoZSBsYXN0IHJlZmVyZW5jZS4KPiArICovCj4gK3ZvaWQgX19pbnRlbF9kaXNwbGF5X3Bvd2Vy
X3B1dF9hc3luYyhzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSwKPiArICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgZW51bSBpbnRlbF9kaXNwbGF5X3Bvd2VyX2RvbWFpbiBk
b21haW4sCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludGVsX3dha2Vy
ZWZfdCB3YWtlcmVmKQo+ICt7Cj4gKyAgICAgICBzdHJ1Y3QgaTkxNV9wb3dlcl9kb21haW5zICpw
b3dlcl9kb21haW5zID0gJmk5MTUtPnBvd2VyX2RvbWFpbnM7Cj4gKyAgICAgICBpbnRlbF93YWtl
cmVmX3Qgd29ya193YWtlcmVmID0gaW50ZWxfcnVudGltZV9wbV9nZXRfcmF3KGk5MTUpOwo+ICsK
PiArICAgICAgIG11dGV4X2xvY2soJnBvd2VyX2RvbWFpbnMtPmxvY2spOwo+ICsKPiArICAgICAg
IGlmIChwb3dlcl9kb21haW5zLT5kb21haW5fdXNlX2NvdW50W2RvbWFpbl0gPiAxKSB7Cj4gKyAg
ICAgICAgICAgICAgIF9faW50ZWxfZGlzcGxheV9wb3dlcl9wdXRfZG9tYWluKGk5MTUsIGRvbWFp
bik7Cj4gKwo+ICsgICAgICAgICAgICAgICBnb3RvIG91dF92ZXJpZnk7Cj4gKyAgICAgICB9Cj4g
Kwo+ICsgICAgICAgV0FSTl9PTihwb3dlcl9kb21haW5zLT5kb21haW5fdXNlX2NvdW50W2RvbWFp
bl0gIT0gMSk7Cj4gKwo+ICsgICAgICAgLyogTGV0IGEgcGVuZGluZyB3b3JrIHJlcXVldWUgaXRz
ZWxmIG9yIHF1ZXVlIGEgbmV3IG9uZS4gKi8KPiArICAgICAgIGlmIChwb3dlcl9kb21haW5zLT5h
c3luY19wdXRfd2FrZXJlZikgewo+ICsgICAgICAgICAgICAgICBwb3dlcl9kb21haW5zLT5hc3lu
Y19wdXRfZG9tYWluc1sxXSB8PSBCSVRfVUxMKGRvbWFpbik7Cj4gKyAgICAgICB9IGVsc2Ugewo+
ICsgICAgICAgICAgICAgICBwb3dlcl9kb21haW5zLT5hc3luY19wdXRfZG9tYWluc1swXSB8PSBC
SVRfVUxMKGRvbWFpbik7Cj4gKyAgICAgICAgICAgICAgIHF1ZXVlX2FzeW5jX3B1dF9kb21haW5z
X3dvcmsocG93ZXJfZG9tYWlucywKPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICBmZXRjaF9hbmRfemVybygmd29ya193YWtlcmVmKSk7Cj4gKyAgICAgICB9Cj4g
Kwo+ICtvdXRfdmVyaWZ5Ogo+ICsgICAgICAgdmVyaWZ5X2FzeW5jX3B1dF9kb21haW5zX3N0YXRl
KHBvd2VyX2RvbWFpbnMpOwo+ICsKPiArICAgICAgIG11dGV4X3VubG9jaygmcG93ZXJfZG9tYWlu
cy0+bG9jayk7Cj4gKwo+ICsgICAgICAgaWYgKHdvcmtfd2FrZXJlZikKPiArICAgICAgICAgICAg
ICAgaW50ZWxfcnVudGltZV9wbV9wdXRfcmF3KGk5MTUsIHdvcmtfd2FrZXJlZik7Cj4gKwo+ICsg
ICAgICAgaW50ZWxfcnVudGltZV9wbV9wdXQoaTkxNSwgd2FrZXJlZik7Cj4gK30KPiArCj4gKy8q
Kgo+ICsgKiBpbnRlbF9kaXNwbGF5X3Bvd2VyX2ZsdXNoX3dvcmsgLSBmbHVzaGVzIHRoZSBhc3lu
YyBkaXNwbGF5IHBvd2VyIGRpc2FibGluZyB3b3JrCj4gKyAqIEBpOTE1OiBpOTE1IGRldmljZSBp
bnN0YW5jZQo+ICsgKgo+ICsgKiBGbHVzaGVzIGFueSBwZW5kaW5nIHdvcmsgdGhhdCB3YXMgc2No
ZWR1bGVkIGJ5IGEgcHJlY2VlZGluZwo+ICsgKiBpbnRlbF9kaXNwbGF5X3Bvd2VyX3B1dF9hc3lu
YygpIGNhbGwsIGNvbXBsZXRpbmcgdGhlIGRpc2FibGluZyBvZiB0aGUKPiArICogY29ycmVzcG9u
ZGluZyBwb3dlciBkb21haW5zLgo+ICsgKgo+ICsgKiBOb3RlIHRoYXQgdGhlIHdvcmsgaGFuZGxl
ciBmdW5jdGlvbiBtYXkgc3RpbGwgYmUgcnVubmluZyBhZnRlciB0aGlzCj4gKyAqIGZ1bmN0aW9u
IHJldHVybnM7IHRvIGVuc3VyZSB0aGF0IHRoZSB3b3JrIGhhbmRsZXIgaXNuJ3QgcnVubmluZyB1
c2UKPiArICogaW50ZWxfZGlzcGxheV9wb3dlcl9mbHVzaF93b3JrX3N5bmMoKSBpbnN0ZWFkLgo+
ICsgKi8KPiArdm9pZCBpbnRlbF9kaXNwbGF5X3Bvd2VyX2ZsdXNoX3dvcmsoc3RydWN0IGRybV9p
OTE1X3ByaXZhdGUgKmk5MTUpCj4gK3sKPiArICAgICAgIHN0cnVjdCBpOTE1X3Bvd2VyX2RvbWFp
bnMgKnBvd2VyX2RvbWFpbnMgPSAmaTkxNS0+cG93ZXJfZG9tYWluczsKPiArICAgICAgIGludGVs
X3dha2VyZWZfdCB3b3JrX3dha2VyZWY7Cj4gKwo+ICsgICAgICAgbXV0ZXhfbG9jaygmcG93ZXJf
ZG9tYWlucy0+bG9jayk7Cj4gKwo+ICsgICAgICAgd29ya193YWtlcmVmID0gZmV0Y2hfYW5kX3pl
cm8oJnBvd2VyX2RvbWFpbnMtPmFzeW5jX3B1dF93YWtlcmVmKTsKPiArICAgICAgIGlmICghd29y
a193YWtlcmVmKQo+ICsgICAgICAgICAgICAgICBnb3RvIG91dF92ZXJpZnk7Cj4gKwo+ICsgICAg
ICAgcmVsZWFzZV9hc3luY19wdXRfZG9tYWlucyhwb3dlcl9kb21haW5zLAo+ICsgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICBhc3luY19wdXRfZG9tYWluc19tYXNrKHBvd2VyX2RvbWFp
bnMpKTsKPiArICAgICAgIGNhbmNlbF9kZWxheWVkX3dvcmsoJnBvd2VyX2RvbWFpbnMtPmFzeW5j
X3B1dF93b3JrKTsKPiArCj4gK291dF92ZXJpZnk6Cj4gKyAgICAgICB2ZXJpZnlfYXN5bmNfcHV0
X2RvbWFpbnNfc3RhdGUocG93ZXJfZG9tYWlucyk7Cj4gKwo+ICsgICAgICAgbXV0ZXhfdW5sb2Nr
KCZwb3dlcl9kb21haW5zLT5sb2NrKTsKPiArCj4gKyAgICAgICBpZiAod29ya193YWtlcmVmKQo+
ICsgICAgICAgICAgICAgICBpbnRlbF9ydW50aW1lX3BtX3B1dF9yYXcoaTkxNSwgd29ya193YWtl
cmVmKTsKPiArfQo+ICsKPiArLyoqCj4gKyAqIGludGVsX2Rpc3BsYXlfcG93ZXJfZmx1c2hfd29y
a19zeW5jIC0gZmx1c2hlcyBhbmQgc3luY3MgdGhlIGFzeW5jIGRpc3BsYXkgcG93ZXIgZGlzYWJs
aW5nIHdvcmsKPiArICogQGk5MTU6IGk5MTUgZGV2aWNlIGluc3RhbmNlCj4gKyAqCj4gKyAqIExp
a2UgaW50ZWxfZGlzcGxheV9wb3dlcl9mbHVzaF93b3JrKCksIGJ1dCBhbHNvIGVuc3VyZSB0aGF0
IHRoZSB3b3JrCj4gKyAqIGhhbmRsZXIgZnVuY3Rpb24gaXMgbm90IHJ1bm5pbmcgYW55IG1vcmUg
d2hlbiB0aGlzIGZ1bmN0aW9uIHJldHVybnMuCj4gKyAqLwo+ICtzdGF0aWMgdm9pZAo+ICtpbnRl
bF9kaXNwbGF5X3Bvd2VyX2ZsdXNoX3dvcmtfc3luYyhzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAq
ZGV2X3ByaXYpCj4gK3sKPiArICAgICAgIHN0cnVjdCBpOTE1X3Bvd2VyX2RvbWFpbnMgKnBvd2Vy
X2RvbWFpbnMgPSAmZGV2X3ByaXYtPnBvd2VyX2RvbWFpbnM7Cj4gKwo+ICsgICAgICAgaW50ZWxf
ZGlzcGxheV9wb3dlcl9mbHVzaF93b3JrKGRldl9wcml2KTsKPiArICAgICAgIGNhbmNlbF9kZWxh
eWVkX3dvcmtfc3luYygmcG93ZXJfZG9tYWlucy0+YXN5bmNfcHV0X3dvcmspOwo+ICsKPiArICAg
ICAgIHZlcmlmeV9hc3luY19wdXRfZG9tYWluc19zdGF0ZShwb3dlcl9kb21haW5zKTsKPiArCj4g
KyAgICAgICBXQVJOX09OKHBvd2VyX2RvbWFpbnMtPmFzeW5jX3B1dF93YWtlcmVmKTsKPiArfQo+
ICsKPiAgI2lmIElTX0VOQUJMRUQoQ09ORklHX0RSTV9JOTE1X0RFQlVHX1JVTlRJTUVfUE0pCj4g
IC8qKgo+ICAgKiBpbnRlbF9kaXNwbGF5X3Bvd2VyX3B1dCAtIHJlbGVhc2UgYSBwb3dlciBkb21h
aW4gcmVmZXJlbmNlCj4gQEAgLTM1MjUsNiArMzg1MSw5IEBAIGludCBpbnRlbF9wb3dlcl9kb21h
aW5zX2luaXQoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2KQo+ICAKPiAgICAgICAg
IG11dGV4X2luaXQoJnBvd2VyX2RvbWFpbnMtPmxvY2spOwo+ICAKPiArICAgICAgIElOSVRfREVM
QVlFRF9XT1JLKCZwb3dlcl9kb21haW5zLT5hc3luY19wdXRfd29yaywKPiArICAgICAgICAgICAg
ICAgICAgICAgICAgIGludGVsX2Rpc3BsYXlfcG93ZXJfcHV0X2FzeW5jX3dvcmspOwo+ICsKPiAg
ICAgICAgIC8qCj4gICAgICAgICAgKiBUaGUgZW5hYmxpbmcgb3JkZXIgd2lsbCBiZSBmcm9tIGxv
d2VyIHRvIGhpZ2hlciBpbmRleGVkIHdlbGxzLAo+ICAgICAgICAgICogdGhlIGRpc2FibGluZyBv
cmRlciBpcyByZXZlcnNlZC4KPiBAQCAtNDQ0NSw2ICs0Nzc0LDggQEAgdm9pZCBpbnRlbF9wb3dl
cl9kb21haW5zX2ZpbmlfaHcoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUpCj4gICAgICAg
ICBpZiAoIWk5MTVfbW9kcGFyYW1zLmRpc2FibGVfcG93ZXJfd2VsbCkKPiAgICAgICAgICAgICAg
ICAgaW50ZWxfZGlzcGxheV9wb3dlcl9wdXRfdW5jaGVja2VkKGk5MTUsIFBPV0VSX0RPTUFJTl9J
TklUKTsKPiAgCj4gKyAgICAgICBpbnRlbF9kaXNwbGF5X3Bvd2VyX2ZsdXNoX3dvcmtfc3luYyhp
OTE1KTsKPiArCj4gICAgICAgICBpbnRlbF9wb3dlcl9kb21haW5zX3ZlcmlmeV9zdGF0ZShpOTE1
KTsKPiAgCj4gICAgICAgICAvKiBLZWVwIHRoZSBwb3dlciB3ZWxsIGVuYWJsZWQsIGJ1dCBjYW5j
ZWwgaXRzIHJwbSB3YWtlcmVmLiAqLwo+IEBAIC00NTIwLDYgKzQ4NTEsNyBAQCB2b2lkIGludGVs
X3Bvd2VyX2RvbWFpbnNfc3VzcGVuZChzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSwKPiAg
ICAgICAgIGlmICghKGk5MTUtPmNzci5hbGxvd2VkX2RjX21hc2sgJiBEQ19TVEFURV9FTl9EQzkp
ICYmCj4gICAgICAgICAgICAgc3VzcGVuZF9tb2RlID09IEk5MTVfRFJNX1NVU1BFTkRfSURMRSAm
Jgo+ICAgICAgICAgICAgIGk5MTUtPmNzci5kbWNfcGF5bG9hZCkgewo+ICsgICAgICAgICAgICAg
ICBpbnRlbF9kaXNwbGF5X3Bvd2VyX2ZsdXNoX3dvcmsoaTkxNSk7Cj4gICAgICAgICAgICAgICAg
IGludGVsX3Bvd2VyX2RvbWFpbnNfdmVyaWZ5X3N0YXRlKGk5MTUpOwo+ICAgICAgICAgICAgICAg
ICByZXR1cm47Cj4gICAgICAgICB9Cj4gQEAgLTQ1MzEsNiArNDg2Myw3IEBAIHZvaWQgaW50ZWxf
cG93ZXJfZG9tYWluc19zdXNwZW5kKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICppOTE1LAo+ICAg
ICAgICAgaWYgKCFpOTE1X21vZHBhcmFtcy5kaXNhYmxlX3Bvd2VyX3dlbGwpCj4gICAgICAgICAg
ICAgICAgIGludGVsX2Rpc3BsYXlfcG93ZXJfcHV0X3VuY2hlY2tlZChpOTE1LCBQT1dFUl9ET01B
SU5fSU5JVCk7Cj4gIAo+ICsgICAgICAgaW50ZWxfZGlzcGxheV9wb3dlcl9mbHVzaF93b3JrKGk5
MTUpOwo+ICAgICAgICAgaW50ZWxfcG93ZXJfZG9tYWluc192ZXJpZnlfc3RhdGUoaTkxNSk7Cj4g
IAo+ICAgICAgICAgaWYgKElOVEVMX0dFTihpOTE1KSA+PSAxMSkKPiBAQCAtNDYwOSw2ICs0OTQy
LDggQEAgc3RhdGljIHZvaWQgaW50ZWxfcG93ZXJfZG9tYWluc192ZXJpZnlfc3RhdGUoc3RydWN0
IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUpCj4gIAo+ICAgICAgICAgbXV0ZXhfbG9jaygmcG93ZXJf
ZG9tYWlucy0+bG9jayk7Cj4gIAo+ICsgICAgICAgdmVyaWZ5X2FzeW5jX3B1dF9kb21haW5zX3N0
YXRlKHBvd2VyX2RvbWFpbnMpOwo+ICsKPiAgICAgICAgIGR1bXBfZG9tYWluX2luZm8gPSBmYWxz
ZTsKPiAgICAgICAgIGZvcl9lYWNoX3Bvd2VyX3dlbGwoaTkxNSwgcG93ZXJfd2VsbCkgewo+ICAg
ICAgICAgICAgICAgICBlbnVtIGludGVsX2Rpc3BsYXlfcG93ZXJfZG9tYWluIGRvbWFpbjsKPiBA
QCAtNDY3MCw2ICs1MDA1LDExIEBAIHN0YXRpYyBpbnRlbF93YWtlcmVmX3QgX19pbnRlbF9ydW50
aW1lX3BtX2dldChzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSwKPiAgICAgICAgIHJldHVy
biB0cmFja19pbnRlbF9ydW50aW1lX3BtX3dha2VyZWYoaTkxNSk7Cj4gIH0KPiAgCj4gK3N0YXRp
YyBpbnRlbF93YWtlcmVmX3QgaW50ZWxfcnVudGltZV9wbV9nZXRfcmF3KHN0cnVjdCBkcm1faTkx
NV9wcml2YXRlICppOTE1KQo+ICt7Cj4gKyAgICAgICByZXR1cm4gX19pbnRlbF9ydW50aW1lX3Bt
X2dldChpOTE1LCBmYWxzZSk7Cj4gK30KPiArCj4gIC8qKgo+ICAgKiBpbnRlbF9ydW50aW1lX3Bt
X2dldCAtIGdyYWIgYSBydW50aW1lIHBtIHJlZmVyZW5jZQo+ICAgKiBAaTkxNTogaTkxNSBkZXZp
Y2UgaW5zdGFuY2UKPiBAQCAtNDc2OSw2ICs1MTA5LDE0IEBAIHN0YXRpYyB2b2lkIF9faW50ZWxf
cnVudGltZV9wbV9wdXQoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUsCj4gICAgICAgICBw
bV9ydW50aW1lX3B1dF9hdXRvc3VzcGVuZChrZGV2KTsKPiAgfQo+ICAKPiArI2lmIElTX0VOQUJM
RUQoQ09ORklHX0RSTV9JOTE1X0RFQlVHX1JVTlRJTUVfUE0pCj4gK3N0YXRpYyB2b2lkCj4gK2lu
dGVsX3J1bnRpbWVfcG1fcHV0X3JhdyhzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSwgaW50
ZWxfd2FrZXJlZl90IHdyZWYpCj4gK3sKPiArICAgICAgIF9faW50ZWxfcnVudGltZV9wbV9wdXQo
aTkxNSwgd3JlZiwgZmFsc2UpOwo+ICt9Cj4gKyNlbmRpZgo+ICsKPiAgLyoqCj4gICAqIGludGVs
X3J1bnRpbWVfcG1fcHV0X3VuY2hlY2tlZCAtIHJlbGVhc2UgYW4gdW5jaGVja2VkIHJ1bnRpbWUg
cG0gcmVmZXJlbmNlCj4gICAqIEBpOTE1OiBpOTE1IGRldmljZSBpbnN0YW5jZQo+IGRpZmYgLS1n
aXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9ydW50aW1lX3BtLmggYi9kcml2ZXJzL2dw
dS9kcm0vaTkxNS9pbnRlbF9ydW50aW1lX3BtLmgKPiBpbmRleCBlMzBiMzg2MzJiZDIuLmE3YTNk
OTI5NTQ2ZiAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9ydW50aW1l
X3BtLmgKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9ydW50aW1lX3BtLmgKPiBA
QCAtNTksMTMgKzU5LDIxIEBAIGludGVsX2Rpc3BsYXlfcG93ZXJfZ2V0X2lmX2VuYWJsZWQoc3Ry
dWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2LAo+ICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgZW51bSBpbnRlbF9kaXNwbGF5X3Bvd2VyX2RvbWFpbiBkb21haW4pOwo+ICB2
b2lkIGludGVsX2Rpc3BsYXlfcG93ZXJfcHV0X3VuY2hlY2tlZChzdHJ1Y3QgZHJtX2k5MTVfcHJp
dmF0ZSAqZGV2X3ByaXYsCj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ZW51bSBpbnRlbF9kaXNwbGF5X3Bvd2VyX2RvbWFpbiBkb21haW4pOwo+ICt2b2lkIF9faW50ZWxf
ZGlzcGxheV9wb3dlcl9wdXRfYXN5bmMoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUsCj4g
KyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVudW0gaW50ZWxfZGlzcGxheV9w
b3dlcl9kb21haW4gZG9tYWluLAo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICBpbnRlbF93YWtlcmVmX3Qgd2FrZXJlZik7Cj4gK3ZvaWQgaW50ZWxfZGlzcGxheV9wb3dlcl9m
bHVzaF93b3JrKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICppOTE1KTsKPiAgI2lmIElTX0VOQUJM
RUQoQ09ORklHX0RSTV9JOTE1X0RFQlVHX1JVTlRJTUVfUE0pCj4gIHZvaWQgaW50ZWxfZGlzcGxh
eV9wb3dlcl9wdXQoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2LAo+ICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgZW51bSBpbnRlbF9kaXNwbGF5X3Bvd2VyX2RvbWFpbiBkb21h
aW4sCj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnRlbF93YWtlcmVmX3Qgd2FrZXJl
Zik7Cj4gKyNkZWZpbmUgaW50ZWxfZGlzcGxheV9wb3dlcl9wdXRfYXN5bmMoaTkxNSwgZG9tYWlu
LCB3YWtlcmVmKSBcCj4gKyAgICAgICBfX2ludGVsX2Rpc3BsYXlfcG93ZXJfcHV0X2FzeW5jKGk5
MTUsIGRvbWFpbiwgd2FrZXJlZikKPiAgI2Vsc2UKPiAgI2RlZmluZSBpbnRlbF9kaXNwbGF5X3Bv
d2VyX3B1dChpOTE1LCBkb21haW4sIHdha2VyZWYpIFwKPiAgICAgICAgIGludGVsX2Rpc3BsYXlf
cG93ZXJfcHV0X3VuY2hlY2tlZChpOTE1LCBkb21haW4pCj4gKyNkZWZpbmUgaW50ZWxfZGlzcGxh
eV9wb3dlcl9wdXRfYXN5bmMoaTkxNSwgZG9tYWluLCB3YWtlcmVmKSBcCj4gKyAgICAgICBfX2lu
dGVsX2Rpc3BsYXlfcG93ZXJfcHV0X2FzeW5jKGk5MTUsIGRvbWFpbiwgLTEpCj4gICNlbmRpZgo+
ICB2b2lkIGljbF9kYnVmX3NsaWNlc191cGRhdGUoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRl
dl9wcml2LAo+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1OCByZXFfc2xpY2VzKTsKClNl
ZW1zIGxpa2UgaXQgc2VydmVzIGEgcHVycG9zZSBhbmQgZG9lcyBpdCB3ZWxsLCB3aXRoIHRoZSBv
bmx5IHF1ZXN0aW9uCm9uIGhvdyB3ZSBjYW4gc2hhcmUgc2ltaWxhciBjb2RlLAoKUmV2aWV3ZWQt
Ynk6IENocmlzIFdpbHNvbiA8Y2hyaXNAY2hyaXMtd2lsc29uLmNvLnVrPgotQ2hyaXMKX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KSW50ZWwtZ2Z4IG1haWxp
bmcgbGlzdApJbnRlbC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJl
ZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vaW50ZWwtZ2Z4

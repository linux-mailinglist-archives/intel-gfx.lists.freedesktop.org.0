Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 460ED8F7EF
	for <lists+intel-gfx@lfdr.de>; Fri, 16 Aug 2019 02:14:11 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 115286E180;
	Fri, 16 Aug 2019 00:14:09 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga14.intel.com (mga14.intel.com [192.55.52.115])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 54E136E180
 for <intel-gfx@lists.freedesktop.org>; Fri, 16 Aug 2019 00:14:08 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from fmsmga004.fm.intel.com ([10.253.24.48])
 by fmsmga103.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 15 Aug 2019 17:14:07 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.64,391,1559545200"; d="scan'208";a="201382559"
Received: from dceraolo-linux.fm.intel.com (HELO [10.1.27.145]) ([10.1.27.145])
 by fmsmga004.fm.intel.com with ESMTP; 15 Aug 2019 17:14:06 -0700
To: Michal Wajdeczko <michal.wajdeczko@intel.com>,
 intel-gfx@lists.freedesktop.org
References: <20190815171228.31920-1-michal.wajdeczko@intel.com>
 <20190815171228.31920-4-michal.wajdeczko@intel.com>
From: Daniele Ceraolo Spurio <daniele.ceraolospurio@intel.com>
Message-ID: <be171ac0-9be2-a0a8-d3e0-1eefb00a2a0a@intel.com>
Date: Thu, 15 Aug 2019 17:14:06 -0700
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101
 Thunderbird/60.8.0
MIME-Version: 1.0
In-Reply-To: <20190815171228.31920-4-michal.wajdeczko@intel.com>
Content-Language: en-US
Subject: Re: [Intel-gfx] [PATCH 3/5] drm/i915/wopcm: Try to use already
 locked WOPCM layout
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

CgpPbiA4LzE1LzE5IDEwOjEyIEFNLCBNaWNoYWwgV2FqZGVjemtvIHdyb3RlOgo+IElmIFdPUENN
IGxheW91dCBpcyBhbHJlYWR5IGxvY2tlZCBpbiBIVyB3ZSBzaG91bGRuJ3QgY29udGludWUKPiB3
aXRoIG91ciBvd24gcGFydGl0aW9uaW5nIGFzIGl0IGNvdWxkIGJlIGxpa2VseSBkaWZmZXJlbnQg
YW5kCj4gd2Ugd2lsbCBiZSB1bmFibGUgdG8gZW5mb3JjZSBpdCBhbmQgZmFpbC4gSW5zdGVhZCB3
ZSBzaG91bGQgdHJ5Cj4gdG8gcmV1c2Ugd2hhdCBpcyBhbHJlYWR5IHByb2dyYW1tZWQsIG1heWJl
IHRoZXJlIHdpbGwgYmUgYSBmaXQuCj4gCj4gVGhpcyBzaG91bGQgZW5hYmxlIHVzIHRvIHJlbG9h
ZCBkcml2ZXIgd2l0aCBzbGlnaHRseSBkaWZmZXJlbnQKPiBIdUMgZmlybXdhcmUgKG9yIGV2ZW4g
d2l0aG91dCBIdUMpIHdpdGhvdXQgbmVlZCB0byByZWJvb3QuCj4gCj4gdjI6IHJlb3JkZXJlZC9y
ZWJhc2VkCj4gCj4gU2lnbmVkLW9mZi1ieTogTWljaGFsIFdhamRlY3prbyA8bWljaGFsLndhamRl
Y3prb0BpbnRlbC5jb20+Cj4gQ2M6IERhbmllbGUgQ2VyYW9sbyBTcHVyaW8gPGRhbmllbGUuY2Vy
YW9sb3NwdXJpb0BpbnRlbC5jb20+Cj4gQ2M6IENocmlzIFdpbHNvbiA8Y2hyaXNAY2hyaXMtd2ls
c29uLmNvLnVrPgo+IENjOiBNaWNoYWwgV2luaWFyc2tpIDxtaWNoYWwud2luaWFyc2tpQGludGVs
LmNvbT4KClJldmlld2VkLWJ5OiBEYW5pZWxlIENlcmFvbG8gU3B1cmlvIDxkYW5pZWxlLmNlcmFv
bG9zcHVyaW9AaW50ZWwuY29tPgoKRGFuaWVsZQoKPiAtLS0KPiAgIGRyaXZlcnMvZ3B1L2RybS9p
OTE1L2ludGVsX3dvcGNtLmMgfCAyOSArKysrKysrKysrKysrKysrKysrKysrKysrKystLQo+ICAg
MSBmaWxlIGNoYW5nZWQsIDI3IGluc2VydGlvbnMoKyksIDIgZGVsZXRpb25zKC0pCj4gCj4gZGlm
ZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX3dvcGNtLmMgYi9kcml2ZXJzL2dw
dS9kcm0vaTkxNS9pbnRlbF93b3BjbS5jCj4gaW5kZXggM2FjMDUwNTViYjA4Li5lYTAyZWZiNjUz
YTcgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfd29wY20uYwo+ICsr
KyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX3dvcGNtLmMKPiBAQCAtMjEyLDYgKzIxMiwy
MSBAQCBzdGF0aWMgaW5saW5lIGJvb2wgX19jaGVja19sYXlvdXQoc3RydWN0IGRybV9pOTE1X3By
aXZhdGUgKmk5MTUsIHUzMiB3b3BjbV9zaXplLAo+ICAgCQkJCSAgICAgaHVjX2Z3X3NpemUpOwo+
ICAgfQo+ICAgCj4gK3N0YXRpYyBib29sIF9fd29wY21fcmVnc19sb2NrZWQoc3RydWN0IGludGVs
X3VuY29yZSAqdW5jb3JlLAo+ICsJCQkJdTMyICpndWNfd29wY21fYmFzZSwgdTMyICpndWNfd29w
Y21fc2l6ZSkKPiArewo+ICsJdTMyIHJlZ19iYXNlID0gaW50ZWxfdW5jb3JlX3JlYWQodW5jb3Jl
LCBETUFfR1VDX1dPUENNX09GRlNFVCk7Cj4gKwl1MzIgcmVnX3NpemUgPSBpbnRlbF91bmNvcmVf
cmVhZCh1bmNvcmUsIEdVQ19XT1BDTV9TSVpFKTsKPiArCj4gKwlpZiAoIShyZWdfc2l6ZSAmIEdV
Q19XT1BDTV9TSVpFX0xPQ0tFRCkgfHwKPiArCSAgICAhKHJlZ19iYXNlICYgR1VDX1dPUENNX09G
RlNFVF9WQUxJRCkpCj4gKwkJcmV0dXJuIGZhbHNlOwo+ICsKPiArCSpndWNfd29wY21fYmFzZSA9
IHJlZ19iYXNlICYgR1VDX1dPUENNX09GRlNFVF9NQVNLOwo+ICsJKmd1Y193b3BjbV9zaXplID0g
cmVnX3NpemUgJiBHVUNfV09QQ01fU0laRV9NQVNLOwo+ICsJcmV0dXJuIHRydWU7Cj4gK30KPiAr
Cj4gICAvKioKPiAgICAqIGludGVsX3dvcGNtX2luaXQoKSAtIEluaXRpYWxpemUgdGhlIFdPUENN
IHN0cnVjdHVyZS4KPiAgICAqIEB3b3BjbTogcG9pbnRlciB0byBpbnRlbF93b3BjbS4KPiBAQCAt
MjI1LDggKzI0MCw5IEBAIHN0YXRpYyBpbmxpbmUgYm9vbCBfX2NoZWNrX2xheW91dChzdHJ1Y3Qg
ZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSwgdTMyIHdvcGNtX3NpemUsCj4gICB2b2lkIGludGVsX3dv
cGNtX2luaXQoc3RydWN0IGludGVsX3dvcGNtICp3b3BjbSkKPiAgIHsKPiAgIAlzdHJ1Y3QgZHJt
X2k5MTVfcHJpdmF0ZSAqaTkxNSA9IHdvcGNtX3RvX2k5MTUod29wY20pOwo+IC0JdTMyIGd1Y19m
d19zaXplID0gaW50ZWxfdWNfZndfZ2V0X3VwbG9hZF9zaXplKCZpOTE1LT5ndC51Yy5ndWMuZncp
Owo+IC0JdTMyIGh1Y19md19zaXplID0gaW50ZWxfdWNfZndfZ2V0X3VwbG9hZF9zaXplKCZpOTE1
LT5ndC51Yy5odWMuZncpOwo+ICsJc3RydWN0IGludGVsX2d0ICpndCA9ICZpOTE1LT5ndDsKPiAr
CXUzMiBndWNfZndfc2l6ZSA9IGludGVsX3VjX2Z3X2dldF91cGxvYWRfc2l6ZSgmZ3QtPnVjLmd1
Yy5mdyk7Cj4gKwl1MzIgaHVjX2Z3X3NpemUgPSBpbnRlbF91Y19md19nZXRfdXBsb2FkX3NpemUo
Jmd0LT51Yy5odWMuZncpOwo+ICAgCXUzMiBjdHhfcnN2ZCA9IGNvbnRleHRfcmVzZXJ2ZWRfc2l6
ZShpOTE1KTsKPiAgIAl1MzIgZ3VjX3dvcGNtX2Jhc2U7Cj4gICAJdTMyIGd1Y193b3BjbV9zaXpl
Owo+IEBAIC0yNDQsNiArMjYwLDE0IEBAIHZvaWQgaW50ZWxfd29wY21faW5pdChzdHJ1Y3QgaW50
ZWxfd29wY20gKndvcGNtKQo+ICAgCWlmIChpOTE1X2luamVjdF9wcm9iZV9mYWlsdXJlKGk5MTUp
KQo+ICAgCQlyZXR1cm47Cj4gICAKPiArCWlmIChfX3dvcGNtX3JlZ3NfbG9ja2VkKGd0LT51bmNv
cmUsICZndWNfd29wY21fYmFzZSwgJmd1Y193b3BjbV9zaXplKSkgewo+ICsJCURSTV9ERVZfREVC
VUdfRFJJVkVSKGk5MTUtPmRybS5kZXYsCj4gKwkJCQkgICAgICJHdUMgV09QQ00gaXMgYWxyZWFk
eSBsb2NrZWQgWyV1SywgJXVLKVxuIiwKPiArCQkJCSAgICAgZ3VjX3dvcGNtX2Jhc2UgLyBTWl8x
SywKPiArCQkJCSAgICAgZ3VjX3dvcGNtX3NpemUgLyBTWl8xSyk7Cj4gKwkJZ290byBjaGVjazsK
PiArCX0KPiArCj4gICAJZ3VjX3dvcGNtX2Jhc2UgPSBBTElHTihodWNfZndfc2l6ZSArIFdPUENN
X1JFU0VSVkVEX1NJWkUsCj4gICAJCQkgICAgICAgR1VDX1dPUENNX09GRlNFVF9BTElHTk1FTlQp
Owo+ICAgCWd1Y193b3BjbV9iYXNlID0gbWF4KHdvcGNtLT5zaXplIC0gY3R4X3JzdmQsIGd1Y193
b3BjbV9iYXNlKTsKPiBAQCAtMjU0LDYgKzI3OCw3IEBAIHZvaWQgaW50ZWxfd29wY21faW5pdChz
dHJ1Y3QgaW50ZWxfd29wY20gKndvcGNtKQo+ICAgCQkJICAgICAiQ2FsY3VsYXRlZCBHdUMgV09Q
Q00gUmVnaW9uOiBbJXVLaUIsICV1S2lCKVxuIiwKPiAgIAkJCSAgICAgZ3VjX3dvcGNtX2Jhc2Ug
LyBTWl8xSywgZ3VjX3dvcGNtX3NpemUgLyBTWl8xSyk7Cj4gICAKPiArY2hlY2s6Cj4gICAJaWYg
KF9fY2hlY2tfbGF5b3V0KGk5MTUsIHdvcGNtLT5zaXplLCBndWNfd29wY21fYmFzZSwgZ3VjX3dv
cGNtX3NpemUsCj4gICAJCQkgICBndWNfZndfc2l6ZSwgaHVjX2Z3X3NpemUpKSB7Cj4gICAJCXdv
cGNtLT5ndWMuYmFzZSA9IGd1Y193b3BjbV9iYXNlOwo+IApfX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fXwpJbnRlbC1nZnggbWFpbGluZyBsaXN0CkludGVsLWdm
eEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFp
bG1hbi9saXN0aW5mby9pbnRlbC1nZng=

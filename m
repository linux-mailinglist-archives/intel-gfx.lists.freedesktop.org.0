Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id ABB76349BE6
	for <lists+intel-gfx@lfdr.de>; Thu, 25 Mar 2021 22:48:48 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 76A2E6EE65;
	Thu, 25 Mar 2021 21:48:45 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga17.intel.com (mga17.intel.com [192.55.52.151])
 by gabe.freedesktop.org (Postfix) with ESMTPS id CA4CB6EE59
 for <intel-gfx@lists.freedesktop.org>; Thu, 25 Mar 2021 21:48:37 +0000 (UTC)
IronPort-SDR: v2sYeMKgCdpSEiZpQCom9lXGd7SZ9mVqjO3Y/chA+M/bPjV965fOcPnbr71v+pZjkXr7RQNLGc
 H1U9N6735AWg==
X-IronPort-AV: E=McAfee;i="6000,8403,9934"; a="171005102"
X-IronPort-AV: E=Sophos;i="5.81,278,1610438400"; d="scan'208";a="171005102"
Received: from orsmga003.jf.intel.com ([10.7.209.27])
 by fmsmga107.fm.intel.com with ESMTP/TLS/ECDHE-RSA-AES256-GCM-SHA384;
 25 Mar 2021 14:48:37 -0700
IronPort-SDR: BlFLoG/BdMGqx5l++y28hZ+hIu1TsI+4iA3JUhL4NmeN+b6Q43CXnN/od9oWvA/Q0O0RbX03qt
 Cls5an1I20Yw==
X-IronPort-AV: E=Sophos;i="5.81,278,1610438400"; d="scan'208";a="375235723"
Received: from ideak-desk.fi.intel.com ([10.237.68.141])
 by orsmga003-auth.jf.intel.com with ESMTP/TLS/ECDHE-RSA-AES256-GCM-SHA384;
 25 Mar 2021 14:48:36 -0700
From: Imre Deak <imre.deak@intel.com>
To: intel-gfx@lists.freedesktop.org
Date: Thu, 25 Mar 2021 23:48:03 +0200
Message-Id: <20210325214808.2071517-21-imre.deak@intel.com>
X-Mailer: git-send-email 2.25.1
In-Reply-To: <20210325214808.2071517-1-imre.deak@intel.com>
References: <20210325214808.2071517-1-imre.deak@intel.com>
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH v2 20/25] drm/i915: Shrink the size of
 intel_remapped_plane_info struct
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

U2F2ZSBzb21lIHBsYWNlIGluIHRoZSBHVFQgVk1BcyBieSB1c2luZyBhIHUxNiBpbnN0ZWFkIG9m
IHVuc2lnbmVkIGludAp0byBzdG9yZSB0aGUgdmlldyBkaW1lbnNpb25zLiBUaGUgbWF4aW11bSBG
QiBzdHJpZGUgaXMgMjU2a0Igd2hpY2ggaXMKNDA5NiB0aWxlcyBpbiB0aGUgd29yc3QgY2FzZSAo
eWYtdGlsZXMpLCB0aGUgbWF4aW11bSBGQiBoZWlnaHQgaXMgMTZrCnBpeGVscywgd2hpY2ggaXMg
MTYzODQgdGlsZXMgaW4gdGhlIHdvcnN0IGNhc2UgKGxpbmVhciA0eDEgdGlsZWQgRkIpLgoKdjI6
Ci0gRml4IHdvcnN0IGNhc2UgdGlsZSBoZWlnaHQgZm9ybXVsYSBpbiBjb21taXQgbG9nLiAoVmls
bGUpCi0gQWRkIGFuIGFzc2lnbl9jaGtfb3ZmIGhlbHBlciB0byBzaW1wbGlmeSB0aGUgcmVsYXRl
ZCBhc3NpZ25tZW50cy4KClNpZ25lZC1vZmYtYnk6IEltcmUgRGVhayA8aW1yZS5kZWFrQGludGVs
LmNvbT4KUmV2aWV3ZWQtYnk6IFZpbGxlIFN5cmrDpGzDpCA8dmlsbGUuc3lyamFsYUBsaW51eC5p
bnRlbC5jb20+Ci0tLQogZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9mYi5jIHwg
MTUgKysrKysrKysrKystLS0tCiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3ZtYV90eXBlcy5o
ICAgfCAxMiArKysrKysrKy0tLS0KIDIgZmlsZXMgY2hhbmdlZCwgMTkgaW5zZXJ0aW9ucygrKSwg
OCBkZWxldGlvbnMoLSkKCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5
L2ludGVsX2ZiLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2ZiLmMKaW5k
ZXggYjU2YzQzMmUwNDE1Zi4uZTE1M2Y2YWUxMjk4YyAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUv
ZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9mYi5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rp
c3BsYXkvaW50ZWxfZmIuYwpAQCAtNjEzLDYgKzYxMywxMSBAQCBwbGFuZV92aWV3X2hlaWdodF90
aWxlcyhjb25zdCBzdHJ1Y3QgaW50ZWxfZnJhbWVidWZmZXIgKmZiLCBpbnQgY29sb3JfcGxhbmUs
CiAJcmV0dXJuIERJVl9ST1VORF9VUCh5ICsgZGltcy0+aGVpZ2h0LCBkaW1zLT50aWxlX2hlaWdo
dCk7CiB9CiAKKyNkZWZpbmUgYXNzaWduX2Noa19vdmYoaTkxNSwgdmFyLCB2YWwpICh7IFwKKwlk
cm1fV0FSTl9PTigmKGk5MTUpLT5kcm0sIG92ZXJmbG93c190eXBlKHZhbCwgdmFyKSk7IFwKKwl2
YXIgPSB2YWw7IFwKK30pCisKIHN0YXRpYyB1MzIgY2FsY19wbGFuZV9yZW1hcF9pbmZvKGNvbnN0
IHN0cnVjdCBpbnRlbF9mcmFtZWJ1ZmZlciAqZmIsIGludCBjb2xvcl9wbGFuZSwKIAkJCQkgY29u
c3Qgc3RydWN0IGZiX3BsYW5lX3ZpZXdfZGltcyAqZGltcywKIAkJCQkgdTMyIG9ial9vZmZzZXQs
IHUzMiBndHRfb2Zmc2V0LCBpbnQgeCwgaW50IHksCkBAIC02MjcsMTAgKzYzMiwxMCBAQCBzdGF0
aWMgdTMyIGNhbGNfcGxhbmVfcmVtYXBfaW5mbyhjb25zdCBzdHJ1Y3QgaW50ZWxfZnJhbWVidWZm
ZXIgKmZiLCBpbnQgY29sb3JfcAogCXVuc2lnbmVkIGludCBwaXRjaF90aWxlczsKIAlzdHJ1Y3Qg
ZHJtX3JlY3QgcjsKIAotCXJlbWFwX2luZm8tPm9mZnNldCA9IG9ial9vZmZzZXQ7Ci0JcmVtYXBf
aW5mby0+c3RyaWRlID0gcGxhbmVfdmlld19zdHJpZGVfdGlsZXMoZmIsIGNvbG9yX3BsYW5lLCBk
aW1zKTsKLQlyZW1hcF9pbmZvLT53aWR0aCA9IHBsYW5lX3ZpZXdfd2lkdGhfdGlsZXMoZmIsIGNv
bG9yX3BsYW5lLCBkaW1zLCB4KTsKLQlyZW1hcF9pbmZvLT5oZWlnaHQgPSBwbGFuZV92aWV3X2hl
aWdodF90aWxlcyhmYiwgY29sb3JfcGxhbmUsIGRpbXMsIHkpOworCWFzc2lnbl9jaGtfb3ZmKGk5
MTUsIHJlbWFwX2luZm8tPm9mZnNldCwgb2JqX29mZnNldCk7CisJYXNzaWduX2Noa19vdmYoaTkx
NSwgcmVtYXBfaW5mby0+c3RyaWRlLCBwbGFuZV92aWV3X3N0cmlkZV90aWxlcyhmYiwgY29sb3Jf
cGxhbmUsIGRpbXMpKTsKKwlhc3NpZ25fY2hrX292ZihpOTE1LCByZW1hcF9pbmZvLT53aWR0aCwg
cGxhbmVfdmlld193aWR0aF90aWxlcyhmYiwgY29sb3JfcGxhbmUsIGRpbXMsIHgpKTsKKwlhc3Np
Z25fY2hrX292ZihpOTE1LCByZW1hcF9pbmZvLT5oZWlnaHQsIHBsYW5lX3ZpZXdfaGVpZ2h0X3Rp
bGVzKGZiLCBjb2xvcl9wbGFuZSwgZGltcywgeSkpOwogCiAJaWYgKHZpZXctPmd0dC50eXBlID09
IEk5MTVfR0dUVF9WSUVXX1JPVEFURUQpIHsKIAkJY2hlY2tfYXJyYXlfYm91bmRzKGk5MTUsIHZp
ZXctPmd0dC5yb3RhdGVkLnBsYW5lLCBjb2xvcl9wbGFuZSk7CkBAIC02NzYsNiArNjgxLDggQEAg
c3RhdGljIHUzMiBjYWxjX3BsYW5lX3JlbWFwX2luZm8oY29uc3Qgc3RydWN0IGludGVsX2ZyYW1l
YnVmZmVyICpmYiwgaW50IGNvbG9yX3AKIAlyZXR1cm4gcmVtYXBfaW5mby0+d2lkdGggKiByZW1h
cF9pbmZvLT5oZWlnaHQ7CiB9CiAKKyN1bmRlZiBhc3NpZ25fY2hrX292ZgorCiAvKiBSZXR1cm4g
bnVtYmVyIG9mIHRpbGVzIEBjb2xvcl9wbGFuZSBuZWVkcy4gKi8KIHN0YXRpYyB1bnNpZ25lZCBp
bnQKIGNhbGNfcGxhbmVfbm9ybWFsX3NpemUoY29uc3Qgc3RydWN0IGludGVsX2ZyYW1lYnVmZmVy
ICpmYiwgaW50IGNvbG9yX3BsYW5lLApkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUv
aTkxNV92bWFfdHlwZXMuaCBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfdm1hX3R5cGVzLmgK
aW5kZXggZjVjYjg0OGI3YTdlYi4uMzU4YjQzMDZmYzAwMiAxMDA2NDQKLS0tIGEvZHJpdmVycy9n
cHUvZHJtL2k5MTUvaTkxNV92bWFfdHlwZXMuaAorKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9p
OTE1X3ZtYV90eXBlcy5oCkBAIC05NywxMiArOTcsMTYgQEAgZW51bSBpOTE1X2NhY2hlX2xldmVs
OwogCiBzdHJ1Y3QgaW50ZWxfcmVtYXBwZWRfcGxhbmVfaW5mbyB7CiAJLyogaW4gZ3R0IHBhZ2Vz
ICovCi0JdW5zaWduZWQgaW50IHdpZHRoLCBoZWlnaHQsIHN0cmlkZSwgb2Zmc2V0OworCXUzMiBv
ZmZzZXQ7CisJdTE2IHdpZHRoOworCXUxNiBoZWlnaHQ7CisJdTE2IHN0cmlkZTsKKwl1MTYgdW51
c2VkX21iejsKIH0gX19wYWNrZWQ7CiAKIHN0cnVjdCBpbnRlbF9yZW1hcHBlZF9pbmZvIHsKIAlz
dHJ1Y3QgaW50ZWxfcmVtYXBwZWRfcGxhbmVfaW5mbyBwbGFuZVsyXTsKLQl1bnNpZ25lZCBpbnQg
dW51c2VkX21iejsKKwl1MzIgdW51c2VkX21iejsKIH0gX19wYWNrZWQ7CiAKIHN0cnVjdCBpbnRl
bF9yb3RhdGlvbl9pbmZvIHsKQEAgLTEyMyw5ICsxMjcsOSBAQCBlbnVtIGk5MTVfZ2d0dF92aWV3
X3R5cGUgewogCiBzdGF0aWMgaW5saW5lIHZvaWQgYXNzZXJ0X2k5MTVfZ2VtX2d0dF90eXBlcyh2
b2lkKQogewotCUJVSUxEX0JVR19PTihzaXplb2Yoc3RydWN0IGludGVsX3JvdGF0aW9uX2luZm8p
ICE9IDgqc2l6ZW9mKHVuc2lnbmVkIGludCkpOworCUJVSUxEX0JVR19PTihzaXplb2Yoc3RydWN0
IGludGVsX3JvdGF0aW9uX2luZm8pICE9IDIgKiBzaXplb2YodTMyKSArIDggKiBzaXplb2YodTE2
KSk7CiAJQlVJTERfQlVHX09OKHNpemVvZihzdHJ1Y3QgaW50ZWxfcGFydGlhbF9pbmZvKSAhPSBz
aXplb2YodTY0KSArIHNpemVvZih1bnNpZ25lZCBpbnQpKTsKLQlCVUlMRF9CVUdfT04oc2l6ZW9m
KHN0cnVjdCBpbnRlbF9yZW1hcHBlZF9pbmZvKSAhPSA5KnNpemVvZih1bnNpZ25lZCBpbnQpKTsK
KwlCVUlMRF9CVUdfT04oc2l6ZW9mKHN0cnVjdCBpbnRlbF9yZW1hcHBlZF9pbmZvKSAhPSAzICog
c2l6ZW9mKHUzMikgKyA4ICogc2l6ZW9mKHUxNikpOwogCiAJLyogQ2hlY2sgdGhhdCByb3RhdGlv
bi9yZW1hcHBlZCBzaGFyZXMgb2Zmc2V0cyBmb3Igc2ltcGxpY2l0eSAqLwogCUJVSUxEX0JVR19P
TihvZmZzZXRvZihzdHJ1Y3QgaW50ZWxfcmVtYXBwZWRfaW5mbywgcGxhbmVbMF0pICE9Ci0tIAoy
LjI1LjEKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCklu
dGVsLWdmeCBtYWlsaW5nIGxpc3QKSW50ZWwtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRw
czovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2ludGVsLWdmeAo=

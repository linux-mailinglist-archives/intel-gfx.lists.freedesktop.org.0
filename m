Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 074F617A13B
	for <lists+intel-gfx@lfdr.de>; Thu,  5 Mar 2020 09:28:37 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 60DAB6EB57;
	Thu,  5 Mar 2020 08:28:35 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga07.intel.com (mga07.intel.com [134.134.136.100])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 99DAC6EB57
 for <intel-gfx@lists.freedesktop.org>; Thu,  5 Mar 2020 08:28:33 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from fmsmga008.fm.intel.com ([10.253.24.58])
 by orsmga105.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 05 Mar 2020 00:28:32 -0800
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.70,517,1574150400"; d="scan'208";a="234385251"
Received: from irsmsx104.ger.corp.intel.com ([163.33.3.159])
 by fmsmga008.fm.intel.com with ESMTP; 05 Mar 2020 00:28:31 -0800
Received: from irsmsx601.ger.corp.intel.com (163.33.146.7) by
 IRSMSX104.ger.corp.intel.com (163.33.3.159) with Microsoft SMTP Server (TLS)
 id 14.3.439.0; Thu, 5 Mar 2020 08:28:30 +0000
Received: from irsmsx604.ger.corp.intel.com (163.33.146.137) by
 irsmsx601.ger.corp.intel.com (163.33.146.7) with Microsoft SMTP Server
 (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256) id
 15.1.1713.5; Thu, 5 Mar 2020 08:28:30 +0000
Received: from irsmsx604.ger.corp.intel.com ([163.33.146.137]) by
 IRSMSX604.ger.corp.intel.com ([163.33.146.137]) with mapi id 15.01.1713.004;
 Thu, 5 Mar 2020 08:28:30 +0000
From: "Lisovskiy, Stanislav" <stanislav.lisovskiy@intel.com>
To: "ville.syrjala@linux.intel.com" <ville.syrjala@linux.intel.com>
Thread-Topic: [PATCH v2 07/20] drm/i915: Unify the low level dbuf code
Thread-Index: AQHV6/6uiGNLB8c1mE6/dzTFurMHp6g4upAzgAATToCAAOlzAA==
Date: Thu, 5 Mar 2020 08:28:30 +0000
Message-ID: <cda5db60f51d6c46b7a3a632c0f4949fc9de156d.camel@intel.com>
References: <20200225171125.28885-1-ville.syrjala@linux.intel.com>
 <20200225171125.28885-8-ville.syrjala@linux.intel.com>
 <f0907e9776be49c8ab171a0a0caf900a@intel.com>
 <20200304183007.GF13686@intel.com>
In-Reply-To: <20200304183007.GF13686@intel.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-originating-ip: [10.237.72.89]
Content-ID: <DEE7515D62C6EB409F1E7F61FE2437B4@intel.com>
MIME-Version: 1.0
Subject: Re: [Intel-gfx] [PATCH v2 07/20] drm/i915: Unify the low level dbuf
 code
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: "intel-gfx@lists.freedesktop.org" <intel-gfx@lists.freedesktop.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

T24gV2VkLCAyMDIwLTAzLTA0IGF0IDIwOjMwICswMjAwLCBWaWxsZSBTeXJqw6Rsw6Qgd3JvdGU6
DQo+IE9uIFdlZCwgTWFyIDA0LCAyMDIwIGF0IDA1OjIzOjA1UE0gKzAwMDAsIExpc292c2tpeSwg
U3RhbmlzbGF2IHdyb3RlOg0KPiA+IA0KPiA+ID4gLSAgICAgICAvKiBJZiAybmQgREJ1ZiBzbGlj
ZSByZXF1aXJlZCwgZW5hYmxlIGl0IGhlcmUgKi8NCj4gPiA+ICAgICAgICBpZiAoSU5URUxfR0VO
KGRldl9wcml2KSA+PSAxMSAmJiBzbGljZXNfdW5pb24gIT0NCj4gPiA+IGh3X2VuYWJsZWRfc2xp
Y2VzKQ0KPiA+ID4gLSAgICAgICAgICAgICAgIGljbF9kYnVmX3NsaWNlc191cGRhdGUoZGV2X3By
aXYsIHNsaWNlc191bmlvbik7DQo+ID4gPiArICAgICAgICAgICAgICAgZ2VuOV9kYnVmX3NsaWNl
c191cGRhdGUoZGV2X3ByaXYsIHNsaWNlc191bmlvbik7DQo+ID4gPiB9DQo+ID4gPiBzdGF0aWMg
dm9pZCBpY2xfZGJ1Zl9zbGljZV9wb3N0X3VwZGF0ZShzdHJ1Y3QgaW50ZWxfYXRvbWljX3N0YXRl
DQo+ID4gPiAqc3RhdGUpDQo+ID4gPiBAQCAtMTUzMDcsOSArMTUzMDYsOCBAQCBzdGF0aWMgdm9p
ZA0KPiA+ID4gaWNsX2RidWZfc2xpY2VfcG9zdF91cGRhdGUoc3RydWN0IGludGVsX2F0b21pY19z
dGF0ZSAqc3RhdGUpDQo+ID4gPiAgICAgICAgdTggaHdfZW5hYmxlZF9zbGljZXMgPSBkZXZfcHJp
di0+ZW5hYmxlZF9kYnVmX3NsaWNlc19tYXNrOw0KPiA+ID4gICAgICAgIHU4IHJlcXVpcmVkX3Ns
aWNlcyA9IHN0YXRlLT5lbmFibGVkX2RidWZfc2xpY2VzX21hc2s7DQo+ID4gPiAtICAgICAgIC8q
IElmIDJuZCBEQnVmIHNsaWNlIGlzIG5vIG1vcmUgcmVxdWlyZWQgZGlzYWJsZSBpdCAqLw0KPiA+
ID4gICAgICAgICBpZiAoSU5URUxfR0VOKGRldl9wcml2KSA+PSAxMSAmJiByZXF1aXJlZF9zbGlj
ZXMgIT0NCj4gPiA+IGh3X2VuYWJsZWRfc2xpY2VzKQ0KPiA+ID4gLSAgICAgICAgICAgICAgIGlj
bF9kYnVmX3NsaWNlc191cGRhdGUoZGV2X3ByaXYsDQo+ID4gPiByZXF1aXJlZF9zbGljZXMpOw0K
PiA+ID4gKyAgICAgICAgICAgICAgIGdlbjlfZGJ1Zl9zbGljZXNfdXBkYXRlKGRldl9wcml2LA0K
PiA+ID4gcmVxdWlyZWRfc2xpY2VzKTsNCj4gPiANCj4gPiANCj4gPiBEb2Vzbid0IG1ha2UgbXVj
aCBzZW5zZS4gSnVzdCBsb29rIC0gcHJldmlvdXNseSB3ZSB3ZXJlIGNoZWNraW5nIGlmDQo+ID4g
SU5URUxfR0VOIGlzID49IHRoYW4gMTEod2hpY2ggX2lzXyBJQ0wpDQo+ID4gDQo+ID4gYW5kIG5v
dyB3ZSBzdGlsbCBfZG9fIGNoZWNrIGlmIElOVEVMX0dFTiBpcyA+PSAxMSwgYnV0Li4uIGNhbGwg
bm93DQo+ID4gZnVuY3Rpb24gcmVuYW1lZCB0byBnZW45DQo+ID4gDQo+ID4gDQo+ID4gSSBndWVz
cyB5b3UgZWl0aGVyIG5lZWQgdG8gY2hhbmdlIElOVEVMX0dFTiBjaGVjayB0byBiZSA+PTkgdG8g
YXQNCj4gPiBsZWFzdCBsb29rIHNvbWV3aGF0IGNvbnNpc3RlbnQNCj4gPiANCj4gPiBvciBsZWF2
ZSBpdCBhcyBpcy4gT3IgYXQgbGVhc3QgcmVuYW1lIGljbF8gcHJlZml4IHRvIGdlbjExXw0KPiA+
IG90aGVyd2lzZSB0aGF0IGxvb2tzIGluY29uc2lzdGVudCwgaS5lDQo+ID4gDQo+ID4geW91IGFy
ZSBub3cgY2hlY2tpbmcgdGhhdCBnZW4gaXMgPj0gMTEgYW5kIHRoZW4gT0sgLSBub3cgbGV0J3Mg
Y2FsbA0KPiA+IGdlbiA5ISA6KQ0KPiANCj4gVGhlIHN0YW5kYXJkIHByYWN0aWNlIGlzIHRvIG5h
bWUgdGhpbmdzIGJhc2VkIG9uIHRoZSBvbGRlc3QgcGxhdGZvcm0NCj4gdGhhdCBpbnRyb2R1Y2Vk
IHRoZSB0aGluZy4NCg0KQW5kIHRoYXQgaXMgZmluZSAtIGJ1dCB0aGVuIHlvdSBuZWVkIHRvIGNo
YW5nZSB0aGUgY2hlY2sgYWJvdmUgZnJvbSANCklOVEVMX0dFTiA+PSAxMSB0byBJTlRFTF9HRU4g
Pj0gOSwgcmlnaHQgLSBpZiB5b3UgZ2VuOSBpcyB0aGUgb2xkZXN0DQpwbGF0Zm9ybS4gDQoNCi0g
ICAgICAgLyogSWYgMm5kIERCdWYgc2xpY2UgcmVxdWlyZWQsIGVuYWJsZSBpdCBoZXJlICovDQo+
ID4gPiAgICAgICAgaWYgKElOVEVMX0dFTihkZXZfcHJpdikgPj0gMTEgJiYgc2xpY2VzX3VuaW9u
ICE9DQo+ID4gPiBod19lbmFibGVkX3NsaWNlcykNCj4gPiA+IC0gICAgICAgICAgICAgICBpY2xf
ZGJ1Zl9zbGljZXNfdXBkYXRlKGRldl9wcml2LCBzbGljZXNfdW5pb24pOw0KPiA+ID4gKyAgICAg
ICAgICAgICAgIGdlbjlfZGJ1Zl9zbGljZXNfdXBkYXRlKGRldl9wcml2LCBzbGljZXNfdW5pb24p
Ow0KPiA+ID4gfQ0KDQpJIG1lYW4gcHJldmlvdXNseSB3ZSB3ZXJlIGNoZWNraW5nIElOVEVMX0dF
TiB0byBiZSBhdCBsZWFzdCAxMSBhbmQNCmNhbGxlZCBmdW5jdGlvbiBwcmVmaXhlZCB3aXRoIGlj
bF8gLSB3aGljaCB3YXMgY29uc2lzdGVudCBhbmQgbG9naWNhbC4NCg0KTm93IHlvdSBjaGFuZ2Vk
IHRoaXMgdG8gZ2VuOShvbGRlc3QgcGxhdGZvcm0gd2hpY2ggaW50cm9kdWNlZCB0aGUNCnRoaW5n
KSwgaG93ZXZlciB0aGVuIHRoZSBjaGVjayBhYm92ZSBtYWtlcyBubyBzZW5zZSAtIGl0IHNob3Vs
ZCBiZQ0KY2hhbmdlZCB0byBJTlRFTF9HRU4gPj0gOSBhcyB3ZWxsLiBPdGhlcndpc2UgdGhpcw0K
ImdlbjlfZGJ1Zl9zbGljZXNfdXBkYXRlIiBmdW5jdGlvbiB3aWxsIG5vdCBiZSBhY3R1YWxseSBl
dmVyIGNhbGxlZCBmb3INCmdlbjkuDQoNCk9yIGRvIHlvdSB3YW50IGZ1bmN0aW9uIHByZWZpeGVk
IGFzIGdlbjlfIHRvIGJlIG9ubHkgY2FsbGVkIGZvciBnZW4gMTEsDQp3aHkgd2UgdGhlbiBwcmVm
aXggaXQuLg0KDQpTdGFuDQoNCj4gDQo+ID4gDQo+ID4gDQo+ID4gU3Rhbg0KPiA+IA0KPiA+IF9f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fDQo+ID4gRnJvbTogVmlsbGUgU3lyamFsYSA8
dmlsbGUuc3lyamFsYUBsaW51eC5pbnRlbC5jb20+DQo+ID4gU2VudDogVHVlc2RheSwgRmVicnVh
cnkgMjUsIDIwMjAgNzoxMToxMiBQTQ0KPiA+IFRvOiBpbnRlbC1nZnhAbGlzdHMuZnJlZWRlc2t0
b3Aub3JnDQo+ID4gQ2M6IExpc292c2tpeSwgU3RhbmlzbGF2DQo+ID4gU3ViamVjdDogW1BBVENI
IHYyIDA3LzIwXSBkcm0vaTkxNTogVW5pZnkgdGhlIGxvdyBsZXZlbCBkYnVmIGNvZGUNCj4gPiAN
Cj4gPiBGcm9tOiBWaWxsZSBTeXJqw6Rsw6QgPHZpbGxlLnN5cmphbGFAbGludXguaW50ZWwuY29t
Pg0KPiA+IA0KPiA+IFRoZSBsb3cgbGV2ZWwgZGJ1ZiBzbGljZSBjb2RlIGlzIHJhdGhlciBpbmNv
bnNpdGVudCB3aXRoIGl0cw0KPiA+IGZ1bmN0aW9uYSBuYW1pbmcgYW5kIG9yZ2FuaXphdGlvbi4g
TWFrZSBpdCBtb3JlIGNvbnNpc3RlbnQuDQo+ID4gDQo+ID4gQWxzbyBzaGFyZSB0aGUgZW5hYmxl
L2Rpc2FibGUgZnVuY3Rpb25zIGJldHdlZW4gYWxsIHBsYXRmb3Jtcw0KPiA+IHNpbmNlIHRoZSBz
YW1lIGNvZGUgd29ya3MganVzdCBmaW5lIGZvciBhbGwgb2YgdGhlbS4NCj4gPiANCj4gPiBDYzog
U3RhbmlzbGF2IExpc292c2tpeSA8c3RhbmlzbGF2Lmxpc292c2tpeUBpbnRlbC5jb20+DQo+ID4g
U2lnbmVkLW9mZi1ieTogVmlsbGUgU3lyasOkbMOkIDx2aWxsZS5zeXJqYWxhQGxpbnV4LmludGVs
LmNvbT4NCj4gPiAtLS0NCj4gPiAgZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9k
aXNwbGF5LmMgIHwgIDYgKy0tDQo+ID4gIC4uLi9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3Bs
YXlfcG93ZXIuYyAgICB8IDQ0ICsrKysrKysrLS0tLS0tLQ0KPiA+IC0tLS0NCj4gPiAgLi4uL2Ry
bS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheV9wb3dlci5oICAgIHwgIDYgKy0tDQo+ID4gIDMg
ZmlsZXMgY2hhbmdlZCwgMjQgaW5zZXJ0aW9ucygrKSwgMzIgZGVsZXRpb25zKC0pDQo+ID4gDQo+
ID4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxh
eS5jDQo+ID4gYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXkuYw0K
PiA+IGluZGV4IDMwMzFlNjRlZTUxOC4uNjk1MmMzOThjYzQzIDEwMDY0NA0KPiA+IC0tLSBhL2Ry
aXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheS5jDQo+ID4gKysrIGIvZHJp
dmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5LmMNCj4gPiBAQCAtMTUyOTYs
OSArMTUyOTYsOCBAQCBzdGF0aWMgdm9pZA0KPiA+IGljbF9kYnVmX3NsaWNlX3ByZV91cGRhdGUo
c3RydWN0IGludGVsX2F0b21pY19zdGF0ZSAqc3RhdGUpDQo+ID4gICAgICAgICAgdTggcmVxdWly
ZWRfc2xpY2VzID0gc3RhdGUtPmVuYWJsZWRfZGJ1Zl9zbGljZXNfbWFzazsNCj4gPiAgICAgICAg
ICB1OCBzbGljZXNfdW5pb24gPSBod19lbmFibGVkX3NsaWNlcyB8IHJlcXVpcmVkX3NsaWNlczsN
Cj4gPiANCj4gPiAtICAgICAgIC8qIElmIDJuZCBEQnVmIHNsaWNlIHJlcXVpcmVkLCBlbmFibGUg
aXQgaGVyZSAqLw0KPiA+ICAgICAgICAgIGlmIChJTlRFTF9HRU4oZGV2X3ByaXYpID49IDExICYm
IHNsaWNlc191bmlvbiAhPQ0KPiA+IGh3X2VuYWJsZWRfc2xpY2VzKQ0KPiA+IC0gICAgICAgICAg
ICAgICBpY2xfZGJ1Zl9zbGljZXNfdXBkYXRlKGRldl9wcml2LCBzbGljZXNfdW5pb24pOw0KPiA+
ICsgICAgICAgICAgICAgICBnZW45X2RidWZfc2xpY2VzX3VwZGF0ZShkZXZfcHJpdiwgc2xpY2Vz
X3VuaW9uKTsNCj4gPiAgfQ0KPiA+IA0KPiA+ICBzdGF0aWMgdm9pZCBpY2xfZGJ1Zl9zbGljZV9w
b3N0X3VwZGF0ZShzdHJ1Y3QgaW50ZWxfYXRvbWljX3N0YXRlDQo+ID4gKnN0YXRlKQ0KPiA+IEBA
IC0xNTMwNyw5ICsxNTMwNiw4IEBAIHN0YXRpYyB2b2lkDQo+ID4gaWNsX2RidWZfc2xpY2VfcG9z
dF91cGRhdGUoc3RydWN0IGludGVsX2F0b21pY19zdGF0ZSAqc3RhdGUpDQo+ID4gICAgICAgICAg
dTggaHdfZW5hYmxlZF9zbGljZXMgPSBkZXZfcHJpdi0+ZW5hYmxlZF9kYnVmX3NsaWNlc19tYXNr
Ow0KPiA+ICAgICAgICAgIHU4IHJlcXVpcmVkX3NsaWNlcyA9IHN0YXRlLT5lbmFibGVkX2RidWZf
c2xpY2VzX21hc2s7DQo+ID4gDQo+ID4gLSAgICAgICAvKiBJZiAybmQgREJ1ZiBzbGljZSBpcyBu
byBtb3JlIHJlcXVpcmVkIGRpc2FibGUgaXQgKi8NCj4gPiAgICAgICAgICBpZiAoSU5URUxfR0VO
KGRldl9wcml2KSA+PSAxMSAmJiByZXF1aXJlZF9zbGljZXMgIT0NCj4gPiBod19lbmFibGVkX3Ns
aWNlcykNCj4gPiAtICAgICAgICAgICAgICAgaWNsX2RidWZfc2xpY2VzX3VwZGF0ZShkZXZfcHJp
diwgcmVxdWlyZWRfc2xpY2VzKTsNCj4gPiArICAgICAgICAgICAgICAgZ2VuOV9kYnVmX3NsaWNl
c191cGRhdGUoZGV2X3ByaXYsIHJlcXVpcmVkX3NsaWNlcyk7DQo+ID4gIH0NCj4gPiANCj4gPiAg
c3RhdGljIHZvaWQgc2tsX2NvbW1pdF9tb2Rlc2V0X2VuYWJsZXMoc3RydWN0IGludGVsX2F0b21p
Y19zdGF0ZQ0KPiA+ICpzdGF0ZSkNCj4gPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5
MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5X3Bvd2VyLmMNCj4gPiBiL2RyaXZlcnMvZ3B1L2RybS9p
OTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheV9wb3dlci5jDQo+ID4gaW5kZXggZTgxZTU2MWU4YWMw
Li5jZTNiYmM0YzdhMjcgMTAwNjQ0DQo+ID4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlz
cGxheS9pbnRlbF9kaXNwbGF5X3Bvd2VyLmMNCj4gPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkx
NS9kaXNwbGF5L2ludGVsX2Rpc3BsYXlfcG93ZXIuYw0KPiA+IEBAIC00NDMzLDE1ICs0NDMzLDE4
IEBAIHN0YXRpYyB2b2lkDQo+ID4gaW50ZWxfcG93ZXJfZG9tYWluc19zeW5jX2h3KHN0cnVjdCBk
cm1faTkxNV9wcml2YXRlICpkZXZfcHJpdikNCj4gPiAgICAgICAgICBtdXRleF91bmxvY2soJnBv
d2VyX2RvbWFpbnMtPmxvY2spOw0KPiA+ICB9DQo+ID4gDQo+ID4gLXN0YXRpYyB2b2lkIGludGVs
X2RidWZfc2xpY2Vfc2V0KHN0cnVjdCBkcm1faTkxNV9wcml2YXRlDQo+ID4gKmRldl9wcml2LA0K
PiA+IC0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVudW0gZGJ1Zl9zbGljZSBzbGlj
ZSwgYm9vbA0KPiA+IGVuYWJsZSkNCj4gPiArc3RhdGljIHZvaWQgZ2VuOV9kYnVmX3NsaWNlX3Nl
dChzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYsDQo+ID4gKyAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICBlbnVtIGRidWZfc2xpY2Ugc2xpY2UsIGJvb2wgZW5hYmxlKQ0KPiA+
ICB7DQo+ID4gICAgICAgICAgaTkxNV9yZWdfdCByZWcgPSBEQlVGX0NUTF9TKHNsaWNlKTsNCj4g
PiAgICAgICAgICBib29sIHN0YXRlOw0KPiA+ICAgICAgICAgIHUzMiB2YWw7DQo+ID4gDQo+ID4g
ICAgICAgICAgdmFsID0gaW50ZWxfZGVfcmVhZChkZXZfcHJpdiwgcmVnKTsNCj4gPiAtICAgICAg
IHZhbCA9IGVuYWJsZSA/ICh2YWwgfCBEQlVGX1BPV0VSX1JFUVVFU1QpIDogKHZhbCAmDQo+ID4g
fkRCVUZfUE9XRVJfUkVRVUVTVCk7DQo+ID4gKyAgICAgICBpZiAoZW5hYmxlKQ0KPiA+ICsgICAg
ICAgICAgICAgICB2YWwgfD0gREJVRl9QT1dFUl9SRVFVRVNUOw0KPiA+ICsgICAgICAgZWxzZQ0K
PiA+ICsgICAgICAgICAgICAgICB2YWwgJj0gfkRCVUZfUE9XRVJfUkVRVUVTVDsNCj4gPiAgICAg
ICAgICBpbnRlbF9kZV93cml0ZShkZXZfcHJpdiwgcmVnLCB2YWwpOw0KPiA+ICAgICAgICAgIGlu
dGVsX2RlX3Bvc3RpbmdfcmVhZChkZXZfcHJpdiwgcmVnKTsNCj4gPiAgICAgICAgICB1ZGVsYXko
MTApOw0KPiA+IEBAIC00NDUyLDE4ICs0NDU1LDggQEAgc3RhdGljIHZvaWQgaW50ZWxfZGJ1Zl9z
bGljZV9zZXQoc3RydWN0DQo+ID4gZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYsDQo+ID4gICAg
ICAgICAgICAgICAgICAgc2xpY2UsIGVuYWJsZSA/ICJlbmFibGUiIDogImRpc2FibGUiKTsNCj4g
PiAgfQ0KPiA+IA0KPiA+IC1zdGF0aWMgdm9pZCBnZW45X2RidWZfZW5hYmxlKHN0cnVjdCBkcm1f
aTkxNV9wcml2YXRlICpkZXZfcHJpdikNCj4gPiAtew0KPiA+IC0gICAgICAgaWNsX2RidWZfc2xp
Y2VzX3VwZGF0ZShkZXZfcHJpdiwgQklUKERCVUZfUzEpKTsNCj4gPiAtfQ0KPiA+IC0NCj4gPiAt
c3RhdGljIHZvaWQgZ2VuOV9kYnVmX2Rpc2FibGUoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRl
dl9wcml2KQ0KPiA+IC17DQo+ID4gLSAgICAgICBpY2xfZGJ1Zl9zbGljZXNfdXBkYXRlKGRldl9w
cml2LCAwKTsNCj4gPiAtfQ0KPiA+IC0NCj4gPiAtdm9pZCBpY2xfZGJ1Zl9zbGljZXNfdXBkYXRl
KHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiwNCj4gPiAtICAgICAgICAgICAgICAg
ICAgICAgICAgICAgdTggcmVxX3NsaWNlcykNCj4gPiArdm9pZCBnZW45X2RidWZfc2xpY2VzX3Vw
ZGF0ZShzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYsDQo+ID4gKyAgICAgICAgICAg
ICAgICAgICAgICAgICAgICB1OCByZXFfc2xpY2VzKQ0KPiA+ICB7DQo+ID4gICAgICAgICAgaW50
IG51bV9zbGljZXMgPSBJTlRFTF9JTkZPKGRldl9wcml2KS0NCj4gPiA+bnVtX3N1cHBvcnRlZF9k
YnVmX3NsaWNlczsNCj4gPiAgICAgICAgICBzdHJ1Y3QgaTkxNV9wb3dlcl9kb21haW5zICpwb3dl
cl9kb21haW5zID0gJmRldl9wcml2LQ0KPiA+ID5wb3dlcl9kb21haW5zOw0KPiA+IEBAIC00NDg2
LDI4ICs0NDc5LDI5IEBAIHZvaWQgaWNsX2RidWZfc2xpY2VzX3VwZGF0ZShzdHJ1Y3QNCj4gPiBk
cm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiwNCj4gPiAgICAgICAgICBtdXRleF9sb2NrKCZwb3dl
cl9kb21haW5zLT5sb2NrKTsNCj4gPiANCj4gPiAgICAgICAgICBmb3IgKHNsaWNlID0gREJVRl9T
MTsgc2xpY2UgPCBudW1fc2xpY2VzOyBzbGljZSsrKQ0KPiA+IC0gICAgICAgICAgICAgICBpbnRl
bF9kYnVmX3NsaWNlX3NldChkZXZfcHJpdiwgc2xpY2UsDQo+ID4gLSAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgIHJlcV9zbGljZXMgJiBCSVQoc2xpY2UpKTsNCj4gPiArICAgICAg
ICAgICAgICAgZ2VuOV9kYnVmX3NsaWNlX3NldChkZXZfcHJpdiwgc2xpY2UsIHJlcV9zbGljZXMg
Jg0KPiA+IEJJVChzbGljZSkpOw0KPiA+IA0KPiA+ICAgICAgICAgIGRldl9wcml2LT5lbmFibGVk
X2RidWZfc2xpY2VzX21hc2sgPSByZXFfc2xpY2VzOw0KPiA+IA0KPiA+ICAgICAgICAgIG11dGV4
X3VubG9jaygmcG93ZXJfZG9tYWlucy0+bG9jayk7DQo+ID4gIH0NCj4gPiANCj4gPiAtc3RhdGlj
IHZvaWQgaWNsX2RidWZfZW5hYmxlKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdikN
Cj4gPiArc3RhdGljIHZvaWQgZ2VuOV9kYnVmX2VuYWJsZShzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0
ZSAqZGV2X3ByaXYpDQo+ID4gIHsNCj4gPiAtICAgICAgIHNrbF9kZGJfZ2V0X2h3X3N0YXRlKGRl
dl9wcml2KTsNCj4gPiArICAgICAgIGRldl9wcml2LT5lbmFibGVkX2RidWZfc2xpY2VzX21hc2sg
PQ0KPiA+ICsgICAgICAgICAgICAgICBpbnRlbF9lbmFibGVkX2RidWZfc2xpY2VzX21hc2soZGV2
X3ByaXYpOw0KPiA+ICsNCj4gPiAgICAgICAgICAvKg0KPiA+ICAgICAgICAgICAqIEp1c3QgcG93
ZXIgdXAgYXQgbGVhc3QgMSBzbGljZSwgd2Ugd2lsbA0KPiA+ICAgICAgICAgICAqIGZpZ3VyZSBv
dXQgbGF0ZXIgd2hpY2ggc2xpY2VzIHdlIGhhdmUgYW5kIHdoYXQgd2UgbmVlZC4NCj4gPiAgICAg
ICAgICAgKi8NCj4gPiAtICAgICAgIGljbF9kYnVmX3NsaWNlc191cGRhdGUoZGV2X3ByaXYsIGRl
dl9wcml2LQ0KPiA+ID5lbmFibGVkX2RidWZfc2xpY2VzX21hc2sgfA0KPiA+IC0gICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICBCSVQoREJVRl9TMSkpOw0KPiA+ICsgICAgICAgZ2VuOV9kYnVm
X3NsaWNlc191cGRhdGUoZGV2X3ByaXYsIEJJVChEQlVGX1MxKSB8DQo+ID4gKyAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICBkZXZfcHJpdi0NCj4gPiA+ZW5hYmxlZF9kYnVmX3NsaWNlc19t
YXNrKTsNCj4gPiAgfQ0KPiA+IA0KPiA+IC1zdGF0aWMgdm9pZCBpY2xfZGJ1Zl9kaXNhYmxlKHN0
cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdikNCj4gPiArc3RhdGljIHZvaWQgZ2VuOV9k
YnVmX2Rpc2FibGUoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2KQ0KPiA+ICB7DQo+
ID4gLSAgICAgICBpY2xfZGJ1Zl9zbGljZXNfdXBkYXRlKGRldl9wcml2LCAwKTsNCj4gPiArICAg
ICAgIGdlbjlfZGJ1Zl9zbGljZXNfdXBkYXRlKGRldl9wcml2LCAwKTsNCj4gPiAgfQ0KPiA+IA0K
PiA+ICBzdGF0aWMgdm9pZCBpY2xfbWJ1c19pbml0KHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpk
ZXZfcHJpdikNCj4gPiBAQCAtNTA2Nyw3ICs1MDYxLDcgQEAgc3RhdGljIHZvaWQgaWNsX2Rpc3Bs
YXlfY29yZV9pbml0KHN0cnVjdA0KPiA+IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2LA0KPiA+
ICAgICAgICAgIGludGVsX2NkY2xrX2luaXRfaHcoZGV2X3ByaXYpOw0KPiA+IA0KPiA+ICAgICAg
ICAgIC8qIDUuIEVuYWJsZSBEQlVGLiAqLw0KPiA+IC0gICAgICAgaWNsX2RidWZfZW5hYmxlKGRl
dl9wcml2KTsNCj4gPiArICAgICAgIGdlbjlfZGJ1Zl9lbmFibGUoZGV2X3ByaXYpOw0KPiA+IA0K
PiA+ICAgICAgICAgIC8qIDYuIFNldHVwIE1CVVMuICovDQo+ID4gICAgICAgICAgaWNsX21idXNf
aW5pdChkZXZfcHJpdik7DQo+ID4gQEAgLTUwOTAsNyArNTA4NCw3IEBAIHN0YXRpYyB2b2lkIGlj
bF9kaXNwbGF5X2NvcmVfdW5pbml0KHN0cnVjdA0KPiA+IGRybV9pOTE1X3ByaXZhdGUgKmRldl9w
cml2KQ0KPiA+ICAgICAgICAgIC8qIDEuIERpc2FibGUgYWxsIGRpc3BsYXkgZW5naW5lIGZ1bmN0
aW9ucyAtPiBhcmVhZHkgZG9uZQ0KPiA+ICovDQo+ID4gDQo+ID4gICAgICAgICAgLyogMi4gRGlz
YWJsZSBEQlVGICovDQo+ID4gLSAgICAgICBpY2xfZGJ1Zl9kaXNhYmxlKGRldl9wcml2KTsNCj4g
PiArICAgICAgIGdlbjlfZGJ1Zl9kaXNhYmxlKGRldl9wcml2KTsNCj4gPiANCj4gPiAgICAgICAg
ICAvKiAzLiBEaXNhYmxlIENEIGNsb2NrICovDQo+ID4gICAgICAgICAgaW50ZWxfY2RjbGtfdW5p
bml0X2h3KGRldl9wcml2KTsNCj4gPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUv
ZGlzcGxheS9pbnRlbF9kaXNwbGF5X3Bvd2VyLmgNCj4gPiBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1
L2Rpc3BsYXkvaW50ZWxfZGlzcGxheV9wb3dlci5oDQo+ID4gaW5kZXggNjAxZTAwMGZmZDBkLi4x
YTI3NTYxMTI0MWUgMTAwNjQ0DQo+ID4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxh
eS9pbnRlbF9kaXNwbGF5X3Bvd2VyLmgNCj4gPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9k
aXNwbGF5L2ludGVsX2Rpc3BsYXlfcG93ZXIuaA0KPiA+IEBAIC0zMTIsMTMgKzMxMiwxMyBAQCBl
bnVtIGRidWZfc2xpY2Ugew0KPiA+ICAgICAgICAgIERCVUZfUzIsDQo+ID4gIH07DQo+ID4gDQo+
ID4gK3ZvaWQgZ2VuOV9kYnVmX3NsaWNlc191cGRhdGUoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUg
KmRldl9wcml2LA0KPiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgdTggcmVxX3NsaWNl
cyk7DQo+ID4gKw0KPiA+ICAjZGVmaW5lIHdpdGhfaW50ZWxfZGlzcGxheV9wb3dlcihpOTE1LCBk
b21haW4sIHdmKSBcDQo+ID4gICAgICAgICAgZm9yICgod2YpID0gaW50ZWxfZGlzcGxheV9wb3dl
cl9nZXQoKGk5MTUpLCAoZG9tYWluKSk7DQo+ID4gKHdmKTsgXA0KPiA+ICAgICAgICAgICAgICAg
aW50ZWxfZGlzcGxheV9wb3dlcl9wdXRfYXN5bmMoKGk5MTUpLCAoZG9tYWluKSwNCj4gPiAod2Yp
KSwgKHdmKSA9IDApDQo+ID4gDQo+ID4gLXZvaWQgaWNsX2RidWZfc2xpY2VzX3VwZGF0ZShzdHJ1
Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYsDQo+ID4gLSAgICAgICAgICAgICAgICAgICAg
ICAgICAgIHU4IHJlcV9zbGljZXMpOw0KPiA+IC0NCj4gPiAgdm9pZCBjaHZfcGh5X3Bvd2VyZ2F0
ZV9sYW5lcyhzdHJ1Y3QgaW50ZWxfZW5jb2RlciAqZW5jb2RlciwNCj4gPiAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICBib29sIG92ZXJyaWRlLCB1bnNpZ25lZCBpbnQgbWFzayk7DQo+ID4g
IGJvb2wgY2h2X3BoeV9wb3dlcmdhdGVfY2goc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9w
cml2LCBlbnVtDQo+ID4gZHBpb19waHkgcGh5LA0KPiA+IC0tDQo+ID4gMi4yNC4xDQo+ID4gDQo+
IA0KPiANCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCklu
dGVsLWdmeCBtYWlsaW5nIGxpc3QKSW50ZWwtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRw
czovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2ludGVsLWdmeAo=

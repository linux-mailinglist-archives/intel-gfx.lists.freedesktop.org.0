Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id D19FC3809F5
	for <lists+intel-gfx@lfdr.de>; Fri, 14 May 2021 14:58:10 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 198796EE66;
	Fri, 14 May 2021 12:58:06 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga04.intel.com (mga04.intel.com [192.55.52.120])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 1D0EF6EE5F
 for <intel-gfx@lists.freedesktop.org>; Fri, 14 May 2021 12:58:04 +0000 (UTC)
IronPort-SDR: 4nfGcqMXcMmTYenBRuB4aqrAHnAW7mEFnrDgKDdy4OQJ1a+1M34uDKgcd/ocKldz4PmixcrR/S
 6JM7+5DLvH5A==
X-IronPort-AV: E=McAfee;i="6200,9189,9983"; a="198216655"
X-IronPort-AV: E=Sophos;i="5.82,299,1613462400"; d="scan'208";a="198216655"
Received: from fmsmga002.fm.intel.com ([10.253.24.26])
 by fmsmga104.fm.intel.com with ESMTP/TLS/ECDHE-RSA-AES256-GCM-SHA384;
 14 May 2021 05:57:56 -0700
IronPort-SDR: owy09CY2l7oYO6R5jvd5TX+2kFNgdlrQZjN0Xr11PDbQHc4zmNWH3Mk5iIJcPzkwmW8YamoW4i
 TQP6Bvnay++g==
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.82,299,1613462400"; d="scan'208";a="470518260"
Received: from stinkbox.fi.intel.com (HELO stinkbox) ([10.237.72.171])
 by fmsmga002.fm.intel.com with SMTP; 14 May 2021 05:57:55 -0700
Received: by stinkbox (sSMTP sendmail emulation);
 Fri, 14 May 2021 15:57:54 +0300
From: Ville Syrjala <ville.syrjala@linux.intel.com>
To: intel-gfx@lists.freedesktop.org
Date: Fri, 14 May 2021 15:57:38 +0300
Message-Id: <20210514125751.17075-2-ville.syrjala@linux.intel.com>
X-Mailer: git-send-email 2.26.3
In-Reply-To: <20210514125751.17075-1-ville.syrjala@linux.intel.com>
References: <20210514125751.17075-1-ville.syrjala@linux.intel.com>
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH 01/14] drm/i915: s/crtc_state/new_crtc_state/
 etc.
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

RnJvbTogVmlsbGUgU3lyasOkbMOkIDx2aWxsZS5zeXJqYWxhQGxpbnV4LmludGVsLmNvbT4KCmlu
dGVsX3BsYW5lX2F0b21pY19jYWxjX2NoYW5nZXMoKSBkZWFscyB3aXRoIGJvdGggdGhlIG9sZCBh
bmQKbmV3IGNydGMvcGxhbmUgc3RhdGVzLiBNYWtlIHRoZSB2YXJpYWJsZSBuYW1lcyByZWZsZWN0
IHRoYXQKbW9yZSBjbGVhcmx5LgoKU2lnbmVkLW9mZi1ieTogVmlsbGUgU3lyasOkbMOkIDx2aWxs
ZS5zeXJqYWxhQGxpbnV4LmludGVsLmNvbT4KLS0tCiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNw
bGF5L2ludGVsX2Rpc3BsYXkuYyB8IDM4ICsrKysrKysrKystLS0tLS0tLS0tCiAxIGZpbGUgY2hh
bmdlZCwgMTkgaW5zZXJ0aW9ucygrKSwgMTkgZGVsZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEvZHJp
dmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5LmMgYi9kcml2ZXJzL2dwdS9k
cm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXkuYwppbmRleCAwYzJiMTk0MDA2ZjguLjQxNjgz
YzUyOWMzZCAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9k
aXNwbGF5LmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5
LmMKQEAgLTY4MjYsMjcgKzY4MjYsMjcgQEAgc3RhdGljIGJvb2wgbmVlZHNfc2NhbGluZyhjb25z
dCBzdHJ1Y3QgaW50ZWxfcGxhbmVfc3RhdGUgKnN0YXRlKQogfQogCiBpbnQgaW50ZWxfcGxhbmVf
YXRvbWljX2NhbGNfY2hhbmdlcyhjb25zdCBzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqb2xkX2Ny
dGNfc3RhdGUsCi0JCQkJICAgIHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpjcnRjX3N0YXRlLAor
CQkJCSAgICBzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqbmV3X2NydGNfc3RhdGUsCiAJCQkJICAg
IGNvbnN0IHN0cnVjdCBpbnRlbF9wbGFuZV9zdGF0ZSAqb2xkX3BsYW5lX3N0YXRlLAotCQkJCSAg
ICBzdHJ1Y3QgaW50ZWxfcGxhbmVfc3RhdGUgKnBsYW5lX3N0YXRlKQorCQkJCSAgICBzdHJ1Y3Qg
aW50ZWxfcGxhbmVfc3RhdGUgKm5ld19wbGFuZV9zdGF0ZSkKIHsKLQlzdHJ1Y3QgaW50ZWxfY3J0
YyAqY3J0YyA9IHRvX2ludGVsX2NydGMoY3J0Y19zdGF0ZS0+dWFwaS5jcnRjKTsKLQlzdHJ1Y3Qg
aW50ZWxfcGxhbmUgKnBsYW5lID0gdG9faW50ZWxfcGxhbmUocGxhbmVfc3RhdGUtPnVhcGkucGxh
bmUpOworCXN0cnVjdCBpbnRlbF9jcnRjICpjcnRjID0gdG9faW50ZWxfY3J0YyhuZXdfY3J0Y19z
dGF0ZS0+dWFwaS5jcnRjKTsKKwlzdHJ1Y3QgaW50ZWxfcGxhbmUgKnBsYW5lID0gdG9faW50ZWxf
cGxhbmUobmV3X3BsYW5lX3N0YXRlLT51YXBpLnBsYW5lKTsKIAlzdHJ1Y3QgZHJtX2k5MTVfcHJp
dmF0ZSAqZGV2X3ByaXYgPSB0b19pOTE1KGNydGMtPmJhc2UuZGV2KTsKLQlib29sIG1vZGVfY2hh
bmdlZCA9IGludGVsX2NydGNfbmVlZHNfbW9kZXNldChjcnRjX3N0YXRlKTsKKwlib29sIG1vZGVf
Y2hhbmdlZCA9IGludGVsX2NydGNfbmVlZHNfbW9kZXNldChuZXdfY3J0Y19zdGF0ZSk7CiAJYm9v
bCB3YXNfY3J0Y19lbmFibGVkID0gb2xkX2NydGNfc3RhdGUtPmh3LmFjdGl2ZTsKLQlib29sIGlz
X2NydGNfZW5hYmxlZCA9IGNydGNfc3RhdGUtPmh3LmFjdGl2ZTsKKwlib29sIGlzX2NydGNfZW5h
YmxlZCA9IG5ld19jcnRjX3N0YXRlLT5ody5hY3RpdmU7CiAJYm9vbCB0dXJuX29mZiwgdHVybl9v
biwgdmlzaWJsZSwgd2FzX3Zpc2libGU7CiAJaW50IHJldDsKIAogCWlmIChESVNQTEFZX1ZFUihk
ZXZfcHJpdikgPj0gOSAmJiBwbGFuZS0+aWQgIT0gUExBTkVfQ1VSU09SKSB7Ci0JCXJldCA9IHNr
bF91cGRhdGVfc2NhbGVyX3BsYW5lKGNydGNfc3RhdGUsIHBsYW5lX3N0YXRlKTsKKwkJcmV0ID0g
c2tsX3VwZGF0ZV9zY2FsZXJfcGxhbmUobmV3X2NydGNfc3RhdGUsIG5ld19wbGFuZV9zdGF0ZSk7
CiAJCWlmIChyZXQpCiAJCQlyZXR1cm4gcmV0OwogCX0KIAogCXdhc192aXNpYmxlID0gb2xkX3Bs
YW5lX3N0YXRlLT51YXBpLnZpc2libGU7Ci0JdmlzaWJsZSA9IHBsYW5lX3N0YXRlLT51YXBpLnZp
c2libGU7CisJdmlzaWJsZSA9IG5ld19wbGFuZV9zdGF0ZS0+dWFwaS52aXNpYmxlOwogCiAJaWYg
KCF3YXNfY3J0Y19lbmFibGVkICYmIGRybV9XQVJOX09OKCZkZXZfcHJpdi0+ZHJtLCB3YXNfdmlz
aWJsZSkpCiAJCXdhc192aXNpYmxlID0gZmFsc2U7CkBAIC02ODYyLDcgKzY4NjIsNyBAQCBpbnQg
aW50ZWxfcGxhbmVfYXRvbWljX2NhbGNfY2hhbmdlcyhjb25zdCBzdHJ1Y3QgaW50ZWxfY3J0Y19z
dGF0ZSAqb2xkX2NydGNfc3RhdAogCSAqIG9ubHkgY29tYmluZSB0aGUgcmVzdWx0cyBmcm9tIGFs
bCBwbGFuZXMgaW4gdGhlIGN1cnJlbnQgcGxhY2U/CiAJICovCiAJaWYgKCFpc19jcnRjX2VuYWJs
ZWQpIHsKLQkJaW50ZWxfcGxhbmVfc2V0X2ludmlzaWJsZShjcnRjX3N0YXRlLCBwbGFuZV9zdGF0
ZSk7CisJCWludGVsX3BsYW5lX3NldF9pbnZpc2libGUobmV3X2NydGNfc3RhdGUsIG5ld19wbGFu
ZV9zdGF0ZSk7CiAJCXZpc2libGUgPSBmYWxzZTsKIAl9CiAKQEAgLTY4ODEsMjggKzY4ODEsMjgg
QEAgaW50IGludGVsX3BsYW5lX2F0b21pY19jYWxjX2NoYW5nZXMoY29uc3Qgc3RydWN0IGludGVs
X2NydGNfc3RhdGUgKm9sZF9jcnRjX3N0YXQKIAogCWlmICh0dXJuX29uKSB7CiAJCWlmIChESVNQ
TEFZX1ZFUihkZXZfcHJpdikgPCA1ICYmICFJU19HNFgoZGV2X3ByaXYpKQotCQkJY3J0Y19zdGF0
ZS0+dXBkYXRlX3dtX3ByZSA9IHRydWU7CisJCQluZXdfY3J0Y19zdGF0ZS0+dXBkYXRlX3dtX3By
ZSA9IHRydWU7CiAKIAkJLyogbXVzdCBkaXNhYmxlIGN4c3IgYXJvdW5kIHBsYW5lIGVuYWJsZS9k
aXNhYmxlICovCiAJCWlmIChwbGFuZS0+aWQgIT0gUExBTkVfQ1VSU09SKQotCQkJY3J0Y19zdGF0
ZS0+ZGlzYWJsZV9jeHNyID0gdHJ1ZTsKKwkJCW5ld19jcnRjX3N0YXRlLT5kaXNhYmxlX2N4c3Ig
PSB0cnVlOwogCX0gZWxzZSBpZiAodHVybl9vZmYpIHsKIAkJaWYgKERJU1BMQVlfVkVSKGRldl9w
cml2KSA8IDUgJiYgIUlTX0c0WChkZXZfcHJpdikpCi0JCQljcnRjX3N0YXRlLT51cGRhdGVfd21f
cG9zdCA9IHRydWU7CisJCQluZXdfY3J0Y19zdGF0ZS0+dXBkYXRlX3dtX3Bvc3QgPSB0cnVlOwog
CiAJCS8qIG11c3QgZGlzYWJsZSBjeHNyIGFyb3VuZCBwbGFuZSBlbmFibGUvZGlzYWJsZSAqLwog
CQlpZiAocGxhbmUtPmlkICE9IFBMQU5FX0NVUlNPUikKLQkJCWNydGNfc3RhdGUtPmRpc2FibGVf
Y3hzciA9IHRydWU7Ci0JfSBlbHNlIGlmIChpbnRlbF93bV9uZWVkX3VwZGF0ZShvbGRfcGxhbmVf
c3RhdGUsIHBsYW5lX3N0YXRlKSkgeworCQkJbmV3X2NydGNfc3RhdGUtPmRpc2FibGVfY3hzciA9
IHRydWU7CisJfSBlbHNlIGlmIChpbnRlbF93bV9uZWVkX3VwZGF0ZShvbGRfcGxhbmVfc3RhdGUs
IG5ld19wbGFuZV9zdGF0ZSkpIHsKIAkJaWYgKERJU1BMQVlfVkVSKGRldl9wcml2KSA8IDUgJiYg
IUlTX0c0WChkZXZfcHJpdikpIHsKIAkJCS8qIEZJWE1FIGJvbGxvY2tzICovCi0JCQljcnRjX3N0
YXRlLT51cGRhdGVfd21fcHJlID0gdHJ1ZTsKLQkJCWNydGNfc3RhdGUtPnVwZGF0ZV93bV9wb3N0
ID0gdHJ1ZTsKKwkJCW5ld19jcnRjX3N0YXRlLT51cGRhdGVfd21fcHJlID0gdHJ1ZTsKKwkJCW5l
d19jcnRjX3N0YXRlLT51cGRhdGVfd21fcG9zdCA9IHRydWU7CiAJCX0KIAl9CiAKIAlpZiAodmlz
aWJsZSB8fCB3YXNfdmlzaWJsZSkKLQkJY3J0Y19zdGF0ZS0+ZmJfYml0cyB8PSBwbGFuZS0+ZnJv
bnRidWZmZXJfYml0OworCQluZXdfY3J0Y19zdGF0ZS0+ZmJfYml0cyB8PSBwbGFuZS0+ZnJvbnRi
dWZmZXJfYml0OwogCiAJLyoKIAkgKiBJTEsvU05CIERWU0FDTlRSL1Nwcml0ZSBFbmFibGUKQEAg
LTY5NDEsOCArNjk0MSw4IEBAIGludCBpbnRlbF9wbGFuZV9hdG9taWNfY2FsY19jaGFuZ2VzKGNv
bnN0IHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpvbGRfY3J0Y19zdGF0CiAJICAgIChJU19JUk9O
TEFLRShkZXZfcHJpdikgfHwgSVNfU0FORFlCUklER0UoZGV2X3ByaXYpIHx8CiAJICAgICBJU19J
VllCUklER0UoZGV2X3ByaXYpKSAmJgogCSAgICAodHVybl9vbiB8fCAoIW5lZWRzX3NjYWxpbmco
b2xkX3BsYW5lX3N0YXRlKSAmJgotCQkJIG5lZWRzX3NjYWxpbmcocGxhbmVfc3RhdGUpKSkpCi0J
CWNydGNfc3RhdGUtPmRpc2FibGVfbHBfd20gPSB0cnVlOworCQkJIG5lZWRzX3NjYWxpbmcobmV3
X3BsYW5lX3N0YXRlKSkpKQorCQluZXdfY3J0Y19zdGF0ZS0+ZGlzYWJsZV9scF93bSA9IHRydWU7
CiAKIAlyZXR1cm4gMDsKIH0KLS0gCjIuMjYuMwoKX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX18KSW50ZWwtZ2Z4IG1haWxpbmcgbGlzdApJbnRlbC1nZnhAbGlz
dHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4v
bGlzdGluZm8vaW50ZWwtZ2Z4Cg==

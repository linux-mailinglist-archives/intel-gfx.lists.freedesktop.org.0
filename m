Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 685B1B117
	for <lists+intel-gfx@lfdr.de>; Sat, 27 Apr 2019 00:58:20 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 2613389247;
	Fri, 26 Apr 2019 22:58:18 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from fireflyinternet.com (mail.fireflyinternet.com [109.228.58.192])
 by gabe.freedesktop.org (Postfix) with ESMTPS id A4B3189247
 for <intel-gfx@lists.freedesktop.org>; Fri, 26 Apr 2019 22:58:16 +0000 (UTC)
X-Default-Received-SPF: pass (skip=forwardok (res=PASS))
 x-ip-name=78.156.65.138; 
Received: from localhost (unverified [78.156.65.138]) 
 by fireflyinternet.com (Firefly Internet (M1)) with ESMTP (TLS) id
 16376112-1500050 for multiple; Fri, 26 Apr 2019 23:58:11 +0100
MIME-Version: 1.0
From: Chris Wilson <chris@chris-wilson.co.uk>
User-Agent: alot/0.6
To: Matthew Auld <matthew.auld@intel.com>, intel-gfx@lists.freedesktop.org
References: <20190426221705.14034-1-matthew.auld@intel.com>
In-Reply-To: <20190426221705.14034-1-matthew.auld@intel.com>
Message-ID: <155631948944.18583.1804727210889146678@skylake-alporthouse-com>
Date: Fri, 26 Apr 2019 23:58:09 +0100
Subject: Re: [Intel-gfx] [PATCH] drm/i915: add in-kernel blitter client
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

UXVvdGluZyBNYXR0aGV3IEF1bGQgKDIwMTktMDQtMjYgMjM6MTc6MDUpCj4gVGhlIHBsYW4gaXMg
dG8gdXNlIHRoZSBibGl0dGVyIGVuZ2luZSBmb3IgYXN5bmMgb2JqZWN0IGNsZWFyaW5nIHdoZW4K
PiB1c2luZyBsb2NhbCBtZW1vcnksIGJ1dCBiZWZvcmUgd2UgY2FuIG1vdmUgdGhlIHdvcmtlciB0
byBnZXRfcGFnZXMoKSB3ZQo+IGhhdmUgdG8gZmlyc3QgdGFtZSBzb21lIG1vcmUgb2Ygb3VyIHN0
cnVjdF9tdXRleCB1c2FnZS4gV2l0aCB0aGlzIGluCj4gbWluZCB3ZSBzaG91bGQgYmUgYWJsZSB0
byB1cHN0cmVhbSB0aGUgb2JqZWN0IGNsZWFyaW5nIGFzIHNvbWUKPiBzZWxmdGVzdHMsIHdoaWNo
IHNob3VsZCBzZXJ2ZSBhcyBhIGd1aW5lYSBwaWcgZm9yIHRoZSBvbmdvaW5nIGxvY2tpbmcKPiBy
ZXdvcmsgYW5kIHVwY29taW5nIGFzeWMgZ2V0X3BhZ2VzKCkgZnJhbWV3b3JrLgo+IAo+IFNpZ25l
ZC1vZmYtYnk6IE1hdHRoZXcgQXVsZCA8bWF0dGhldy5hdWxkQGludGVsLmNvbT4KPiAtLS0KPiAg
ZHJpdmVycy9ncHUvZHJtL2k5MTUvTWFrZWZpbGUgICAgICAgICAgICAgICAgIHwgICAyICsKPiAg
ZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZ3B1X2NvbW1hbmRzLmggIHwgICAxICsKPiAg
ZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kcnYuaCAgICAgICAgICAgICAgIHwgICAzICsKPiAg
ZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9nZW0uYyAgICAgICAgICAgICAgIHwgICAyICstCj4g
IGRyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZ2VtX2NsaWVudF9ibHQuYyAgICB8IDE4NiArKysr
KysrKysrKysrKysrKysKPiAgZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9nZW1fY2xpZW50X2Js
dC5oICAgIHwgIDIxICsrCj4gIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZ2VtX29iamVjdF9i
bHQuYyAgICB8ICA5MSArKysrKysrKysKPiAgZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9nZW1f
b2JqZWN0X2JsdC5oICAgIHwgIDIzICsrKwo+ICAuLi4vZHJtL2k5MTUvc2VsZnRlc3RzL2k5MTVf
Z2VtX2NsaWVudF9ibHQuYyAgfCAxMjMgKysrKysrKysrKysrCj4gIC4uLi9kcm0vaTkxNS9zZWxm
dGVzdHMvaTkxNV9nZW1fb2JqZWN0X2JsdC5jICB8IDExMSArKysrKysrKysrKwo+ICAuLi4vZHJt
L2k5MTUvc2VsZnRlc3RzL2k5MTVfbGl2ZV9zZWxmdGVzdHMuaCAgfCAgIDIgKwo+ICAxMSBmaWxl
cyBjaGFuZ2VkLCA1NjQgaW5zZXJ0aW9ucygrKSwgMSBkZWxldGlvbigtKQo+ICBjcmVhdGUgbW9k
ZSAxMDA2NDQgZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9nZW1fY2xpZW50X2JsdC5jCj4gIGNy
ZWF0ZSBtb2RlIDEwMDY0NCBkcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2dlbV9jbGllbnRfYmx0
LmgKPiAgY3JlYXRlIG1vZGUgMTAwNjQ0IGRyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZ2VtX29i
amVjdF9ibHQuYwo+ICBjcmVhdGUgbW9kZSAxMDA2NDQgZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkx
NV9nZW1fb2JqZWN0X2JsdC5oCj4gIGNyZWF0ZSBtb2RlIDEwMDY0NCBkcml2ZXJzL2dwdS9kcm0v
aTkxNS9zZWxmdGVzdHMvaTkxNV9nZW1fY2xpZW50X2JsdC5jCj4gIGNyZWF0ZSBtb2RlIDEwMDY0
NCBkcml2ZXJzL2dwdS9kcm0vaTkxNS9zZWxmdGVzdHMvaTkxNV9nZW1fb2JqZWN0X2JsdC5jCj4g
Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L01ha2VmaWxlIGIvZHJpdmVycy9n
cHUvZHJtL2k5MTUvTWFrZWZpbGUKPiBpbmRleCA1ODY0MzM3MzQ5NWMuLmZjMTIzMjIxMzA0ZSAx
MDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9NYWtlZmlsZQo+ICsrKyBiL2RyaXZl
cnMvZ3B1L2RybS9pOTE1L01ha2VmaWxlCj4gQEAgLTkwLDYgKzkwLDcgQEAgaTkxNS15ICs9IFwK
PiAgICAgICAgICAgaTkxNV9jbWRfcGFyc2VyLm8gXAo+ICAgICAgICAgICBpOTE1X2dlbV9iYXRj
aF9wb29sLm8gXAo+ICAgICAgICAgICBpOTE1X2dlbV9jbGZsdXNoLm8gXAo+ICsgICAgICAgICBp
OTE1X2dlbV9jbGllbnRfYmx0Lm8gXAo+ICAgICAgICAgICBpOTE1X2dlbV9jb250ZXh0Lm8gXAo+
ICAgICAgICAgICBpOTE1X2dlbV9kbWFidWYubyBcCj4gICAgICAgICAgIGk5MTVfZ2VtX2V2aWN0
Lm8gXAo+IEBAIC05OSw2ICsxMDAsNyBAQCBpOTE1LXkgKz0gXAo+ICAgICAgICAgICBpOTE1X2dl
bV9pbnRlcm5hbC5vIFwKPiAgICAgICAgICAgaTkxNV9nZW0ubyBcCj4gICAgICAgICAgIGk5MTVf
Z2VtX29iamVjdC5vIFwKPiArICAgICAgICAgaTkxNV9nZW1fb2JqZWN0X2JsdC5vIFwKPiAgICAg
ICAgICAgaTkxNV9nZW1fcG0ubyBcCj4gICAgICAgICAgIGk5MTVfZ2VtX3JlbmRlcl9zdGF0ZS5v
IFwKPiAgICAgICAgICAgaTkxNV9nZW1fc2hyaW5rZXIubyBcCj4gZGlmZiAtLWdpdCBhL2RyaXZl
cnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2dwdV9jb21tYW5kcy5oIGIvZHJpdmVycy9ncHUvZHJt
L2k5MTUvZ3QvaW50ZWxfZ3B1X2NvbW1hbmRzLmgKPiBpbmRleCBhMzRlY2U1M2E3NzEuLjdlOTU4
MjdiMDcyNiAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9ncHVf
Y29tbWFuZHMuaAo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2dwdV9jb21t
YW5kcy5oCj4gQEAgLTE4MCw2ICsxODAsNyBAQAo+ICAjZGVmaW5lIEdGWF9PUF9EUkFXUkVDVF9J
TkZPX0k5NjUgICgoMHg3OTAwPDwxNil8MHgyKQo+ICAKPiAgI2RlZmluZSBDT0xPUl9CTFRfQ01E
ICAgICAgICAgICAgICAgICAgKDI8PDI5IHwgMHg0MDw8MjIgfCAoNS0yKSkKPiArI2RlZmluZSBY
WV9DT0xPUl9CTFRfQ01EICAgICAgICAgICAgICAgKDI8PDI5IHwgMHg1MDw8MjIpCj4gICNkZWZp
bmUgU1JDX0NPUFlfQkxUX0NNRCAgICAgICAgICAgICAgICgoMjw8MjkpfCgweDQzPDwyMil8NCkK
PiAgI2RlZmluZSBYWV9TUkNfQ09QWV9CTFRfQ01EICAgICAgICAgICAgKCgyPDwyOSl8KDB4NTM8
PDIyKXw2KQo+ICAjZGVmaW5lIFhZX01PTk9fU1JDX0NPUFlfSU1NX0JMVCAgICAgICAoKDI8PDI5
KXwoMHg3MTw8MjIpfDUpCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVf
ZHJ2LmggYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2Rydi5oCj4gaW5kZXggMWNlYTk4Zjhi
ODVjLi42MWY5NTM5MWVkZjAgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkx
NV9kcnYuaAo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZHJ2LmgKPiBAQCAtMjk0
NSw2ICsyOTQ1LDkgQEAgZG1hX2FkZHJfdAo+ICBpOTE1X2dlbV9vYmplY3RfZ2V0X2RtYV9hZGRy
ZXNzKHN0cnVjdCBkcm1faTkxNV9nZW1fb2JqZWN0ICpvYmosCj4gICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICB1bnNpZ25lZCBsb25nIG4pOwo+ICAKPiArc3RydWN0IHNnX3RhYmxlICoK
PiArX19pOTE1X2dlbV9vYmplY3RfdW5zZXRfcGFnZXMoc3RydWN0IGRybV9pOTE1X2dlbV9vYmpl
Y3QgKm9iaik7Cj4gKwo+ICB2b2lkIF9faTkxNV9nZW1fb2JqZWN0X3NldF9wYWdlcyhzdHJ1Y3Qg
ZHJtX2k5MTVfZ2VtX29iamVjdCAqb2JqLAo+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgIHN0cnVjdCBzZ190YWJsZSAqcGFnZXMsCj4gICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgdW5zaWduZWQgaW50IHNnX3BhZ2Vfc2l6ZXMpOwo+IGRpZmYgLS1naXQgYS9kcml2ZXJz
L2dwdS9kcm0vaTkxNS9pOTE1X2dlbS5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9nZW0u
Ywo+IGluZGV4IDRjMTc5M2IxMDEyZS4uNjViNmQ3YjdiNjI0IDEwMDY0NAo+IC0tLSBhL2RyaXZl
cnMvZ3B1L2RybS9pOTE1L2k5MTVfZ2VtLmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9p
OTE1X2dlbS5jCj4gQEAgLTIxMjEsNyArMjEyMSw3IEBAIHN0YXRpYyB2b2lkIF9faTkxNV9nZW1f
b2JqZWN0X3Jlc2V0X3BhZ2VfaXRlcihzdHJ1Y3QgZHJtX2k5MTVfZ2VtX29iamVjdCAqb2JqKQo+
ICAgICAgICAgcmN1X3JlYWRfdW5sb2NrKCk7Cj4gIH0KPiAgCj4gLXN0YXRpYyBzdHJ1Y3Qgc2df
dGFibGUgKgo+ICtzdHJ1Y3Qgc2dfdGFibGUgKgo+ICBfX2k5MTVfZ2VtX29iamVjdF91bnNldF9w
YWdlcyhzdHJ1Y3QgZHJtX2k5MTVfZ2VtX29iamVjdCAqb2JqKQo+ICB7Cj4gICAgICAgICBzdHJ1
Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSA9IHRvX2k5MTUob2JqLT5iYXNlLmRldik7Cj4gZGlm
ZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZ2VtX2NsaWVudF9ibHQuYyBiL2Ry
aXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZ2VtX2NsaWVudF9ibHQuYwo+IG5ldyBmaWxlIG1vZGUg
MTAwNjQ0Cj4gaW5kZXggMDAwMDAwMDAwMDAwLi43ZmQ5NzdkNTRiNTcKPiAtLS0gL2Rldi9udWxs
Cj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9nZW1fY2xpZW50X2JsdC5jCj4gQEAg
LTAsMCArMSwxODYgQEAKPiArLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IE1JVAo+ICsvKgo+
ICsgKiBDb3B5cmlnaHQgwqkgMjAxOSBJbnRlbCBDb3Jwb3JhdGlvbgo+ICsgKi8KPiArI2luY2x1
ZGUgImk5MTVfZ2VtX2NsaWVudF9ibHQuaCIKPiArCj4gKyNpbmNsdWRlICJpOTE1X2dlbV9vYmpl
Y3RfYmx0LmgiCj4gKyNpbmNsdWRlICJpbnRlbF9kcnYuaCIKPiArCj4gK3N0YXRpYyBzdHJ1Y3Qg
ZHJtX2k5MTVfZ2VtX29iamVjdCAqCj4gK2NyZWF0ZV9zbGVldmUoc3RydWN0IGRybV9pOTE1X3By
aXZhdGUgKmk5MTUsCj4gKyAgICAgICAgICAgICBzdHJ1Y3Qgc2dfdGFibGUgKnBhZ2VzLAo+ICsg
ICAgICAgICAgICAgdW5zaWduZWQgaW50IHBhZ2Vfc2l6ZXMsCj4gKyAgICAgICAgICAgICB1NjQg
c2l6ZSkKPiArewo+ICsgICAgICAgc3RydWN0IGRybV9pOTE1X2dlbV9vYmplY3QgKnNsZWV2ZTsK
PiArCj4gKyAgICAgICAvKiBYWFg6IHNrZXRjaHkgYWYgKi8KPiArICAgICAgIHNsZWV2ZSA9IGk5
MTVfZ2VtX29iamVjdF9jcmVhdGVfaW50ZXJuYWwoaTkxNSwgc2l6ZSk7Cj4gKyAgICAgICBpZiAo
SVNfRVJSKHNsZWV2ZSkpCj4gKyAgICAgICAgICAgICAgIHJldHVybiBzbGVldmU7Cj4gKwo+ICsg
ICAgICAgbXV0ZXhfbG9jaygmc2xlZXZlLT5tbS5sb2NrKTsKPiArCj4gKyAgICAgICBhdG9taWNf
aW5jKCZzbGVldmUtPm1tLnBhZ2VzX3Bpbl9jb3VudCk7CgpJIGNvbmN1ciB3aXRoIHRoZSBza2V0
Y2hpbmVzcy4KCkkgdGhpbmsgdGhlIGJhc2ljIHByb2JsZW0gaGVyZSBpcyB0aGF0IHRoaXMgaXMg
b3BlcmF0aW5nIG9uIHRoZSB3aG9sZQpsZXZlbCAtLSBJIHRoaW5rIGl0IHdpbGwgd29yayBiZXR0
ZXIgYXQgdGhlIHZtYSwgYXMgd2UgY2FuIGZpbGwgaW4Kdm1hLT5wYWdlcyBob3dldmVyIHdlIHdp
c2gsIGFuZCBxdWl0ZSBuYXR1cmFsbHkgZml0cyBpbiB3aXRoIHRoZSBzZwpmbG9hdGluZyBhcm91
bmQgZ2V0X3BhZ2VzLgoKPiArICAgICAgIF9faTkxNV9nZW1fb2JqZWN0X3NldF9wYWdlcyhzbGVl
dmUsIHBhZ2VzLCBwYWdlX3NpemVzKTsKPiArCj4gKyAgICAgICBtdXRleF91bmxvY2soJnNsZWV2
ZS0+bW0ubG9jayk7Cj4gKwo+ICsgICAgICAgcmV0dXJuIHNsZWV2ZTsKPiArfQoKPiArc3RydWN0
IGNsZWFyX3BhZ2VzX3dvcmsgewo+ICsgICAgICAgc3RydWN0IGRtYV9mZW5jZSBkbWE7Cj4gKyAg
ICAgICBzdHJ1Y3QgaTkxNV9zd19mZW5jZSB3YWl0Owo+ICsgICAgICAgc3RydWN0IHdvcmtfc3Ry
dWN0IHdvcms7Cj4gKyAgICAgICBzdHJ1Y3QgZHJtX2k5MTVfZ2VtX29iamVjdCAqc2xlZXZlOwo+
ICsgICAgICAgc3RydWN0IGRybV9pOTE1X2dlbV9vYmplY3QgKm9iajsKPiArICAgICAgIHN0cnVj
dCBpbnRlbF9jb250ZXh0ICpjZTsKPiArICAgICAgIHUzMiB2YWx1ZTsKPiArfTsKPiArCj4gK3N0
YXRpYyBjb25zdCBjaGFyICpjbGVhcl9wYWdlc193b3JrX2RyaXZlcl9uYW1lKHN0cnVjdCBkbWFf
ZmVuY2UgKmZlbmNlKQo+ICt7Cj4gKyAgICAgICByZXR1cm4gRFJJVkVSX05BTUU7Cj4gK30KPiAr
Cj4gK3N0YXRpYyBjb25zdCBjaGFyICpjbGVhcl9wYWdlc193b3JrX3RpbWVsaW5lX25hbWUoc3Ry
dWN0IGRtYV9mZW5jZSAqZmVuY2UpCj4gK3sKPiArICAgICAgIHJldHVybiAiY2xlYXIiOwo+ICt9
Cj4gKwo+ICtzdGF0aWMgdm9pZCBjbGVhcl9wYWdlc193b3JrX3JlbGVhc2Uoc3RydWN0IGRtYV9m
ZW5jZSAqZmVuY2UpCj4gK3sKPiArICAgICAgIHN0cnVjdCBjbGVhcl9wYWdlc193b3JrICp3ID0g
Y29udGFpbmVyX29mKGZlbmNlLCB0eXBlb2YoKncpLCBkbWEpOwo+ICsKPiArICAgICAgIGk5MTVf
c3dfZmVuY2VfZmluaSgmdy0+d2FpdCk7Cj4gKwo+ICsgICAgICAgQlVJTERfQlVHX09OKG9mZnNl
dG9mKHR5cGVvZigqdyksIGRtYSkpOwo+ICsgICAgICAgZG1hX2ZlbmNlX2ZyZWUoJnctPmRtYSk7
Cj4gK30KPiArCj4gK3N0YXRpYyBjb25zdCBzdHJ1Y3QgZG1hX2ZlbmNlX29wcyBjbGVhcl9wYWdl
c193b3JrX29wcyA9IHsKPiArICAgICAgIC5nZXRfZHJpdmVyX25hbWUgPSBjbGVhcl9wYWdlc193
b3JrX2RyaXZlcl9uYW1lLAo+ICsgICAgICAgLmdldF90aW1lbGluZV9uYW1lID0gY2xlYXJfcGFn
ZXNfd29ya190aW1lbGluZV9uYW1lLAo+ICsgICAgICAgLnJlbGVhc2UgPSBjbGVhcl9wYWdlc193
b3JrX3JlbGVhc2UsCj4gK307Cj4gKwo+ICsvKiBYWFg6IG5lZWRzIHRvIGJlIHRha2VuIG91dCBh
bmQgc2hvdCAqLwo+ICtzdGF0aWMgdm9pZCBpOTE1X2NsZWFyX3BhZ2VzX3dvcmtlcihzdHJ1Y3Qg
d29ya19zdHJ1Y3QgKndvcmspCj4gK3sKPiArICAgICAgIHN0cnVjdCBjbGVhcl9wYWdlc193b3Jr
ICp3ID0gY29udGFpbmVyX29mKHdvcmssIHR5cGVvZigqdyksIHdvcmspOwo+ICsgICAgICAgc3Ry
dWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUgPSB3LT5jZS0+Z2VtX2NvbnRleHQtPmk5MTU7Cj4g
KyAgICAgICBpbnRlbF93YWtlcmVmX3Qgd2FrZXJlZjsKPiArICAgICAgIGludCBlcnI7Cj4gKwo+
ICsgICAgICAgbXV0ZXhfbG9jaygmaTkxNS0+ZHJtLnN0cnVjdF9tdXRleCk7Cj4gKwo+ICsgICAg
ICAgd2FrZXJlZiA9IGludGVsX3J1bnRpbWVfcG1fZ2V0KGk5MTUpOwoKV2UndmUgYWxyZWFkeSBr
aWxsZWQgdGhpcyByZXF1aXJlbWVudCB3aXRoIHRoZSBHRU0gd2FrZXJlZiByZXdvcmtpbmcsIHNv
CnlvdSBkcm9wIHRoZSB3YWtlcmVmIGhlcmUuCgo+ICsKPiArICAgICAgIGVyciA9IGk5MTVfZ2Vt
X29iamVjdF9maWxsX2JsdCh3LT5jZSwgdy0+c2xlZXZlLCB3LT52YWx1ZSk7Cj4gKyAgICAgICBp
ZiAodW5saWtlbHkoZXJyKSkKPiArICAgICAgICAgICAgICAgZG1hX2ZlbmNlX3NldF9lcnJvcigm
dy0+ZG1hLCBlcnIpOwo+ICsKPiArICAgICAgIGVyciA9IGk5MTVfZ2VtX29iamVjdF91bmJpbmQo
dy0+c2xlZXZlKTsKPiArICAgICAgIGlmICh1bmxpa2VseShlcnIpKQo+ICsgICAgICAgICAgICAg
ICBkbWFfZmVuY2Vfc2V0X2Vycm9yKCZ3LT5kbWEsIGVycik7CgpUaGlzIGlzIHVud2FudGVkIHN5
bmNocm9uaXNhdGlvbiAtLSB5b3UndmUgcHV0IHRoZSBmZW5jZSBpbnRvIHRoZQpvYmplY3QsIHN5
bmNocm9uaXNhdGlvbiB3aXRoIHN1YnNlcXVlbnQgb3BzIGFuZCBhY2Nlc3MgaXMgY29udHJvbGxl
ZAphbHJlYWR5LgoKVGhhdCBkb2VzIG1lYW4geW91IGhhdmUgdG8gaGFuZGxlIHRoZSBhY3RpdmUg
cmVmZXJlbmNlIGluc3RlYWQgKGZvciB0aGUKbmV4dCB3ZWVrIG9yIHNvIHRoYXQgcmVtYWlucyEp
Cgo+ICsKPiArICAgICAgIGludGVsX3J1bnRpbWVfcG1fcHV0KGk5MTUsIHdha2VyZWYpOwo+ICsK
PiArICAgICAgIG11dGV4X3VubG9jaygmaTkxNS0+ZHJtLnN0cnVjdF9tdXRleCk7Cj4gKwo+ICsg
ICAgICAgaTkxNV9nZW1fb2JqZWN0X3B1dCh3LT5vYmopOwo+ICsKPiArICAgICAgIGRlc3Ryb3lf
c2xlZXZlKHctPnNsZWV2ZSk7Cj4gKwo+ICsgICAgICAgZG1hX2ZlbmNlX3NpZ25hbCgmdy0+ZG1h
KTsKCkhvd2V2ZXIsIHRoZSBjYXRjaCBpcyB0aGF0IHdlIGNhbid0IHNpZ25hbCBpbW1lZGlhdGVs
eSBhbmQgaW5zdGVhZCBuZWVkCnRvIGluc3RhbGwgYSBwcm94eSBvbnRvIHRoZSBycS0+ZmVuY2Ug
dXNlZCBmb3IgZmlsbF9ibHQuCgpBdCB0aGUgbW9tZW50LCB0aGF0IGtpbmQgb2YgY2FzY2FkZXMg
YXV0b21hdGljYWxseSBieSB0aGUKdm1hLW1vdmUtdG8tYWN0aXZlLCBidXQgdGhhdCBhbG9uZSBp
cyBub3Qgc3VmZmljaWVudC4gQW55b25lIHdobyBzbm9vcGVkCm9uIHRoZSBvYmplY3QgYmVmb3Jl
IHRoZSB3b3JrZXIgZmlyZWQsIG9ubHkgaGFzIHRoaXMgdy0+ZG1hIGZlbmNlIGZvcgp0aGVpciBz
Y2hlZHVsaW5nLCB5ZXQgd2UgZG8gbm90IHdhbnQgdGhlbSB0byBleGVjdXRlIHVudGlsIGFmdGVy
IHRoZQpycS0+ZmVuY2UuCgpBdCBhIGdsYW5jZSwgdGhlIHNpbXBsZXN0IG1lYW5zIGlzIHRvIGdl
dCB0aGUgcnEgYmFjayBmcm9tIHRoZSBibHQgYW5kCnVzZSBkbWFfZmVuY2VfYWRkX2NhbGxiYWNr
KCZycS0+ZmVuY2UsICZ3LT5mZW5jZV9jYik7IGFuZCBpbiB0aGF0CmNhbGxiYWNrIGRvIHRoZSBk
bWFfZmVuY2Vfc2lnbmFsKCkuIEV4Y2VwdCBpdCBpcyBub3QgcXVpdGUgYXMgc2ltcGxlIGFzCnRo
YXQgYXMgeW91IHdpbGwgbmVlZCB0byB1c2UgYW4gaXJxX3dvcmtlciB0byBlc2NhcGUgZnJvbSBv
dXQgb2YgdGhlCnNwaW5sb2NrIHRvIGF2b2lkIGludmVyc2lvbi4KCj4gKyAgICAgICBkbWFfZmVu
Y2VfcHV0KCZ3LT5kbWEpOwo+ICt9Cj4gKwo+ICtzdGF0aWMgaW50IF9faTkxNV9zd19mZW5jZV9j
YWxsCj4gK2NsZWFyX3BhZ2VzX3dvcmtfbm90aWZ5KHN0cnVjdCBpOTE1X3N3X2ZlbmNlICpmZW5j
ZSwKPiArICAgICAgICAgICAgICAgICAgICAgICBlbnVtIGk5MTVfc3dfZmVuY2Vfbm90aWZ5IHN0
YXRlKQo+ICt7Cj4gKyAgICAgICBzdHJ1Y3QgY2xlYXJfcGFnZXNfd29yayAqdyA9IGNvbnRhaW5l
cl9vZihmZW5jZSwgdHlwZW9mKCp3KSwgd2FpdCk7Cj4gKwo+ICsgICAgICAgc3dpdGNoIChzdGF0
ZSkgewo+ICsgICAgICAgY2FzZSBGRU5DRV9DT01QTEVURToKPiArICAgICAgICAgICAgICAgc2No
ZWR1bGVfd29yaygmdy0+d29yayk7Cj4gKyAgICAgICAgICAgICAgIGJyZWFrOwo+ICsKPiArICAg
ICAgIGNhc2UgRkVOQ0VfRlJFRToKPiArICAgICAgICAgICAgICAgZG1hX2ZlbmNlX3B1dCgmdy0+
ZG1hKTsKPiArICAgICAgICAgICAgICAgYnJlYWs7Cj4gKyAgICAgICB9Cj4gKwo+ICsgICAgICAg
cmV0dXJuIE5PVElGWV9ET05FOwo+ICt9Cj4gKwo+ICtzdGF0aWMgREVGSU5FX1NQSU5MT0NLKGZl
bmNlX2xvY2spOwo+ICsKPiAraW50IGk5MTVfZ2VtX3NjaGVkdWxlX2ZpbGxfcGFnZXNfYmx0KHN0
cnVjdCBkcm1faTkxNV9nZW1fb2JqZWN0ICpvYmosCj4gKyAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgIHN0cnVjdCBpbnRlbF9jb250ZXh0ICpjZSwKPiArICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgc3RydWN0IHNnX3RhYmxlICpwYWdlcywKPiArICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5zaWduZWQgaW50IHBhZ2Vfc2l6ZXMsCj4gKyAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHU2NCBzaXplLAo+ICsgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICB1MzIgdmFsdWUpCj4gK3sKPiArICAgICAgIHN0cnVj
dCBkcm1faTkxNV9nZW1fb2JqZWN0ICpzbGVldmU7Cj4gKyAgICAgICBzdHJ1Y3QgY2xlYXJfcGFn
ZXNfd29yayAqd29yazsKPiArCj4gKyAgICAgICBzbGVldmUgPSBjcmVhdGVfc2xlZXZlKGNlLT5n
ZW1fY29udGV4dC0+aTkxNSwgcGFnZXMsIHBhZ2Vfc2l6ZXMsIHNpemUpOwo+ICsgICAgICAgaWYg
KElTX0VSUihzbGVldmUpKQo+ICsgICAgICAgICAgICAgICByZXR1cm4gUFRSX0VSUihzbGVldmUp
Owo+ICsKPiArICAgICAgIHdvcmsgPSBrbWFsbG9jKHNpemVvZigqd29yayksIEdGUF9LRVJORUwp
Owo+ICsgICAgICAgaWYgKHdvcmsgPT0gTlVMTCkgewo+ICsgICAgICAgICAgICAgICBkZXN0cm95
X3NsZWV2ZShzbGVldmUpOwo+ICsgICAgICAgICAgICAgICByZXR1cm4gLUVOT01FTTsKPiArICAg
ICAgIH0KPiArCj4gKyAgICAgICB3b3JrLT52YWx1ZSA9IHZhbHVlOwo+ICsgICAgICAgd29yay0+
c2xlZXZlID0gc2xlZXZlOwo+ICsgICAgICAgd29yay0+b2JqID0gaTkxNV9nZW1fb2JqZWN0X2dl
dChvYmopOwo+ICsgICAgICAgd29yay0+Y2UgPSBjZTsKPiArCj4gKyAgICAgICBJTklUX1dPUkso
JndvcmstPndvcmssIGk5MTVfY2xlYXJfcGFnZXNfd29ya2VyKTsKPiArCj4gKyAgICAgICBkbWFf
ZmVuY2VfaW5pdCgmd29yay0+ZG1hLAo+ICsgICAgICAgICAgICAgICAgICAgICAgJmNsZWFyX3Bh
Z2VzX3dvcmtfb3BzLAo+ICsgICAgICAgICAgICAgICAgICAgICAgJmZlbmNlX2xvY2ssCj4gKyAg
ICAgICAgICAgICAgICAgICAgICB0b19pOTE1KG9iai0+YmFzZS5kZXYpLT5tbS51bm9yZGVyZWRf
dGltZWxpbmUsCj4gKyAgICAgICAgICAgICAgICAgICAgICAwKTsKPiArICAgICAgIGk5MTVfc3df
ZmVuY2VfaW5pdCgmd29yay0+d2FpdCwgY2xlYXJfcGFnZXNfd29ya19ub3RpZnkpOwo+ICsKPiAr
ICAgICAgIGRtYV9mZW5jZV9nZXQoJndvcmstPmRtYSk7Cj4gKwo+ICsgICAgICAgaTkxNV9zd19m
ZW5jZV9hd2FpdF9yZXNlcnZhdGlvbigmd29yay0+d2FpdCwKPiArICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgb2JqLT5yZXN2LCBOVUxMLAo+ICsgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICB0cnVlLCBJOTE1X0ZFTkNFX1RJTUVPVVQsCj4gKyAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEk5MTVfRkVOQ0VfR0ZQKTsKCkZvciBj
b21wbGV0ZW5lc3MsIHByb3BhZ2F0ZSB0aGUgZXJyb3IgaGVyZS4KCj4gKwo+ICsgICAgICAgaTkx
NV9nZW1fb2JqZWN0X2xvY2sob2JqKTsKPiArICAgICAgIHJlc2VydmF0aW9uX29iamVjdF9hZGRf
ZXhjbF9mZW5jZShvYmotPnJlc3YsICZ3b3JrLT5kbWEpOwo+ICsgICAgICAgaTkxNV9nZW1fb2Jq
ZWN0X3VubG9jayhvYmopOwo+ICsKPiArICAgICAgIGk5MTVfc3dfZmVuY2VfY29tbWl0KCZ3b3Jr
LT53YWl0KTsKPiArCj4gKyAgICAgICByZXR1cm4gMDsKPiArfQo+ICsKPiArI2lmIElTX0VOQUJM
RUQoQ09ORklHX0RSTV9JOTE1X1NFTEZURVNUKQo+ICsjaW5jbHVkZSAic2VsZnRlc3RzL2k5MTVf
Z2VtX2NsaWVudF9ibHQuYyIKPiArI2VuZGlmCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2k5MTVfZ2VtX2NsaWVudF9ibHQuaCBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVf
Z2VtX2NsaWVudF9ibHQuaAo+IG5ldyBmaWxlIG1vZGUgMTAwNjQ0Cj4gaW5kZXggMDAwMDAwMDAw
MDAwLi44YTA2OTk2NDhiMDIKPiAtLS0gL2Rldi9udWxsCj4gKysrIGIvZHJpdmVycy9ncHUvZHJt
L2k5MTUvaTkxNV9nZW1fY2xpZW50X2JsdC5oCj4gQEAgLTAsMCArMSwyMSBAQAo+ICsvKiBTUERY
LUxpY2Vuc2UtSWRlbnRpZmllcjogTUlUICovCj4gKy8qCj4gKyAqIENvcHlyaWdodCDCqSAyMDE5
IEludGVsIENvcnBvcmF0aW9uCj4gKyAqLwo+ICsjaWZuZGVmIF9fSTkxNV9HRU1fQ0xJRU5UX0JM
VF9IX18KPiArI2RlZmluZSBfX0k5MTVfR0VNX0NMSUVOVF9CTFRfSF9fCj4gKwo+ICsjaW5jbHVk
ZSA8bGludXgvdHlwZXMuaD4KPiArCj4gK3N0cnVjdCBkcm1faTkxNV9nZW1fb2JqZWN0Owo+ICtz
dHJ1Y3QgaW50ZWxfY29udGV4dCAqY2U7Cj4gK3N0cnVjdCBzZ190YWJsZTsKPiArCj4gK2ludCBp
OTE1X2dlbV9zY2hlZHVsZV9maWxsX3BhZ2VzX2JsdChzdHJ1Y3QgZHJtX2k5MTVfZ2VtX29iamVj
dCAqb2JqLAo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJ1Y3QgaW50
ZWxfY29udGV4dCAqY2UsCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0
cnVjdCBzZ190YWJsZSAqcGFnZXMsCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgIHVuc2lnbmVkIGludCBwYWdlX3NpemVzLAo+ICsgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICB1NjQgc2l6ZSwKPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgdTMyIHZhbHVlKTsKPiArCj4gKyNlbmRpZgo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9k
cm0vaTkxNS9pOTE1X2dlbV9vYmplY3RfYmx0LmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1
X2dlbV9vYmplY3RfYmx0LmMKPiBuZXcgZmlsZSBtb2RlIDEwMDY0NAo+IGluZGV4IDAwMDAwMDAw
MDAwMC4uODdhNmUwZTM3MDllCj4gLS0tIC9kZXYvbnVsbAo+ICsrKyBiL2RyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2k5MTVfZ2VtX29iamVjdF9ibHQuYwo+IEBAIC0wLDAgKzEsOTEgQEAKPiArLy8gU1BE
WC1MaWNlbnNlLUlkZW50aWZpZXI6IE1JVAo+ICsvKgo+ICsgKiBDb3B5cmlnaHQgwqkgMjAxOSBJ
bnRlbCBDb3Jwb3JhdGlvbgo+ICsgKi8KPiArCj4gKyNpbmNsdWRlICJpOTE1X2dlbV9vYmplY3Rf
Ymx0LmgiCj4gKwo+ICsjaW5jbHVkZSAiaW50ZWxfZHJ2LmgiCj4gKwo+ICtpbnQgaTkxNV92bWFf
ZmlsbF9ibHQoc3RydWN0IGludGVsX2NvbnRleHQgKmNlLAo+ICsgICAgICAgICAgICAgICAgICAg
ICBzdHJ1Y3QgaTkxNV92bWEgKnZtYSwKPiArICAgICAgICAgICAgICAgICAgICAgdTMyIHZhbHVl
KQo+ICt7Cj4gKyAgICAgICBzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSA9IHZtYS0+dm0t
Pmk5MTU7Cj4gKyAgICAgICBzdHJ1Y3QgaTkxNV9yZXF1ZXN0ICpycTsKPiArICAgICAgIHUzMiAq
Y3M7Cj4gKyAgICAgICBpbnQgZXJyOwo+ICsKPiArICAgICAgIGxvY2tkZXBfYXNzZXJ0X2hlbGQo
Jmk5MTUtPmRybS5zdHJ1Y3RfbXV0ZXgpOwo+ICsKPiArICAgICAgIEdFTV9CVUdfT04oIWludGVs
X2NvbnRleHRfaXNfcGlubmVkKGNlKSk7Cj4gKwo+ICsgICAgICAgcnEgPSBpOTE1X3JlcXVlc3Rf
Y3JlYXRlKGNlKTsKPiArICAgICAgIGlmIChJU19FUlIocnEpKQo+ICsgICAgICAgICAgICAgICBy
ZXR1cm4gUFRSX0VSUihycSk7Cj4gKwo+ICsgICAgICAgY3MgPSBpbnRlbF9yaW5nX2JlZ2luKHJx
LCA4KTsKPiArCj4gKyAgICAgICBpZiAoSU5URUxfR0VOKGk5MTUpID49IDgpIHsKPiArICAgICAg
ICAgICAgICAgKmNzKysgPSBYWV9DT0xPUl9CTFRfQ01EIHwgQkxUX1dSSVRFX1JHQkEgfCAoNy0y
KTsKPiArICAgICAgICAgICAgICAgKmNzKysgPSBCTFRfREVQVEhfMzIgfCBCTFRfUk9QX0NPTE9S
X0NPUFkgfCBQQUdFX1NJWkU7Cj4gKyAgICAgICAgICAgICAgICpjcysrID0gMDsKPiArICAgICAg
ICAgICAgICAgKmNzKysgPSB2bWEtPnNpemUgPj4gUEFHRV9TSElGVCA8PCAxNiB8IFBBR0VfU0la
RSAvIDQ7Cj4gKyAgICAgICAgICAgICAgICpjcysrID0gbG93ZXJfMzJfYml0cyh2bWEtPm5vZGUu
c3RhcnQpOwo+ICsgICAgICAgICAgICAgICAqY3MrKyA9IHVwcGVyXzMyX2JpdHModm1hLT5ub2Rl
LnN0YXJ0KTsKPiArICAgICAgICAgICAgICAgKmNzKysgPSB2YWx1ZTsKPiArICAgICAgICAgICAg
ICAgKmNzKysgPSBNSV9OT09QOwo+ICsgICAgICAgfSBlbHNlIHsKPiArICAgICAgICAgICAgICAg
KmNzKysgPSBYWV9DT0xPUl9CTFRfQ01EIHwgQkxUX1dSSVRFX1JHQkEgfCAoNi0yKTsKPiArICAg
ICAgICAgICAgICAgKmNzKysgPSBCTFRfREVQVEhfMzIgfCBCTFRfUk9QX0NPTE9SX0NPUFkgfCBQ
QUdFX1NJWkU7Cj4gKyAgICAgICAgICAgICAgICpjcysrID0gMDsKPiArICAgICAgICAgICAgICAg
KmNzKysgPSB2bWEtPnNpemUgPj4gUEFHRV9TSElGVCA8PCAxNiB8IFBBR0VfU0laRSAvIDQ7Cj4g
KyAgICAgICAgICAgICAgICpjcysrID0gdm1hLT5ub2RlLnN0YXJ0Owo+ICsgICAgICAgICAgICAg
ICAqY3MrKyA9IHZhbHVlOwo+ICsgICAgICAgICAgICAgICAqY3MrKyA9IE1JX05PT1A7Cj4gKyAg
ICAgICAgICAgICAgICpjcysrID0gTUlfTk9PUDsKPiArICAgICAgIH0KPiArCj4gKyAgICAgICBp
bnRlbF9yaW5nX2FkdmFuY2UocnEsIGNzKTsKPiArCj4gKyAgICAgICBlcnIgPSBpOTE1X3ZtYV9t
b3ZlX3RvX2FjdGl2ZSh2bWEsIHJxLCBFWEVDX09CSkVDVF9XUklURSk7Cj4gKyAgICAgICBpZiAo
ZXJyKQo+ICsgICAgICAgICAgICAgICBpOTE1X3JlcXVlc3Rfc2tpcChycSwgZXJyKTsKCkhtbSwg
SSBkb24ndCB0aGluayBza2lwIHdvcmtzIHF1aXRlIHJpZ2h0IGJlZm9yZSBhbiBhZGQuIFRoYXQg
bmVlZHMgdG8KYmUgZml4ZWQgdXAuCgo+ICsKPiArICAgICAgIGk5MTVfcmVxdWVzdF9hZGQocnEp
Owo+ICsKPiArICAgICAgIHJldHVybiBlcnI7Cj4gK30KPiArCj4gK2ludCBpOTE1X2dlbV9vYmpl
Y3RfZmlsbF9ibHQoc3RydWN0IGludGVsX2NvbnRleHQgKmNlLAo+ICsgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgc3RydWN0IGRybV9pOTE1X2dlbV9vYmplY3QgKm9iaiwKCm9iamVjdCBzaG91
bGQgYmUgZmlyc3QgYXJnIGFzIGl0IGlzIHRoZSBvYmplY3Qgb2YgdGhlIGZ1bmN0aW9uLgoKPiAr
ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHUzMiB2YWx1ZSkKPiArewo+ICsgICAgICAgc3Ry
dWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUgPSB0b19pOTE1KG9iai0+YmFzZS5kZXYpOwo+ICsg
ICAgICAgc3RydWN0IGk5MTVfZ2VtX2NvbnRleHQgKmN0eCA9IGNlLT5nZW1fY29udGV4dDsKPiAr
ICAgICAgIHN0cnVjdCBpOTE1X2FkZHJlc3Nfc3BhY2UgKnZtOwo+ICsgICAgICAgc3RydWN0IGk5
MTVfdm1hICp2bWE7Cj4gKyAgICAgICBpbnQgZXJyOwo+ICsKPiArICAgICAgIGxvY2tkZXBfYXNz
ZXJ0X2hlbGQoJmk5MTUtPmRybS5zdHJ1Y3RfbXV0ZXgpOwo+ICsKPiArICAgICAgIHZtID0gY3R4
LT5wcGd0dCA/ICZjdHgtPnBwZ3R0LT52bSA6ICZpOTE1LT5nZ3R0LnZtOwo+ICsKPiArICAgICAg
IHZtYSA9IGk5MTVfdm1hX2luc3RhbmNlKG9iaiwgdm0sIE5VTEwpOwo+ICsgICAgICAgaWYgKElT
X0VSUih2bWEpKQo+ICsgICAgICAgICAgICAgICByZXR1cm4gUFRSX0VSUih2bWEpOwo+ICsKPiAr
ICAgICAgIGVyciA9IGk5MTVfdm1hX3Bpbih2bWEsIDAsIDAsIFBJTl9VU0VSKTsKPiArICAgICAg
IGlmICh1bmxpa2VseShlcnIpKQo+ICsgICAgICAgICAgICAgICByZXR1cm4gZXJyOwo+ICsKPiAr
ICAgICAgIGVyciA9IGk5MTVfdm1hX2ZpbGxfYmx0KGNlLCB2bWEsIHZhbHVlKTsKClllYWgsIGRl
ZmluaXRlbHkgdGhpbmtpbmcgdGhlIHdvcmtlciBzaG91bGQgYmUgdXNpbmcgYSB0ZW1wb3Jhcnkg
dm1hIGFuZApub3QgYSBkdW1teSBvYmouCgo+ICsgICAgICAgaTkxNV92bWFfdW5waW4odm1hKTsK
PiArCj4gKyAgICAgICByZXR1cm4gZXJyOwo+ICt9Cj4gKwo+ICsjaWYgSVNfRU5BQkxFRChDT05G
SUdfRFJNX0k5MTVfU0VMRlRFU1QpCj4gKyNpbmNsdWRlICJzZWxmdGVzdHMvaTkxNV9nZW1fb2Jq
ZWN0X2JsdC5jIgo+ICsjZW5kaWYKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUv
aTkxNV9nZW1fb2JqZWN0X2JsdC5oIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9nZW1fb2Jq
ZWN0X2JsdC5oCj4gbmV3IGZpbGUgbW9kZSAxMDA2NDQKPiBpbmRleCAwMDAwMDAwMDAwMDAuLjJi
MjVhMTY0ZDIzYgo+IC0tLSAvZGV2L251bGwKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9p
OTE1X2dlbV9vYmplY3RfYmx0LmgKPiBAQCAtMCwwICsxLDIzIEBACj4gKy8qIFNQRFgtTGljZW5z
ZS1JZGVudGlmaWVyOiBNSVQgKi8KPiArLyoKPiArICogQ29weXJpZ2h0IMKpIDIwMTkgSW50ZWwg
Q29ycG9yYXRpb24KPiArICovCj4gKwo+ICsjaWZuZGVmIF9fSTkxNV9HRU1fT0JKRUNUX0JMVF9I
X18KPiArI2RlZmluZSBfX0k5MTVfR0VNX09CSkVDVF9CTFRfSF9fCj4gKwo+ICsjaW5jbHVkZSA8
bGludXgvdHlwZXMuaD4KPiArCj4gK3N0cnVjdCBkcm1faTkxNV9nZW1fb2JqZWN0Owo+ICtzdHJ1
Y3QgaW50ZWxfY29udGV4dDsKPiArc3RydWN0IGk5MTVfdm1hOwo+ICsKPiAraW50IGk5MTVfdm1h
X2ZpbGxfYmx0KHN0cnVjdCBpbnRlbF9jb250ZXh0ICpjZSwKPiArICAgICAgICAgICAgICAgICAg
ICAgc3RydWN0IGk5MTVfdm1hICp2bWEsCj4gKyAgICAgICAgICAgICAgICAgICAgIHUzMiB2YWx1
ZSk7Cj4gKwo+ICtpbnQgaTkxNV9nZW1fb2JqZWN0X2ZpbGxfYmx0KHN0cnVjdCBpbnRlbF9jb250
ZXh0ICpjZSwKPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cnVjdCBkcm1faTkxNV9n
ZW1fb2JqZWN0ICpvYmosCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICB1MzIgdmFsdWUp
Owo+ICsKPiArI2VuZGlmCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L3NlbGZ0
ZXN0cy9pOTE1X2dlbV9jbGllbnRfYmx0LmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9zZWxmdGVz
dHMvaTkxNV9nZW1fY2xpZW50X2JsdC5jCj4gbmV3IGZpbGUgbW9kZSAxMDA2NDQKPiBpbmRleCAw
MDAwMDAwMDAwMDAuLjNjZDdkMjA4YTRhOAo+IC0tLSAvZGV2L251bGwKPiArKysgYi9kcml2ZXJz
L2dwdS9kcm0vaTkxNS9zZWxmdGVzdHMvaTkxNV9nZW1fY2xpZW50X2JsdC5jCj4gQEAgLTAsMCAr
MSwxMjMgQEAKPiArLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IE1JVAo+ICsvKgo+ICsgKiBD
b3B5cmlnaHQgwqkgMjAxOSBJbnRlbCBDb3Jwb3JhdGlvbgo+ICsgKi8KPiArCj4gKyNpbmNsdWRl
ICIuLi9pOTE1X3NlbGZ0ZXN0LmgiCj4gKwo+ICsjaW5jbHVkZSAibW9ja19kcm0uaCIKPiArI2lu
Y2x1ZGUgIm1vY2tfY29udGV4dC5oIgo+ICsKPiArc3RhdGljIGludCBpZ3RfY2xpZW50X2ZpbGwo
dm9pZCAqYXJnKQo+ICt7Cj4gKyAgICAgICBzdHJ1Y3QgaW50ZWxfY29udGV4dCAqY2UgPSBhcmc7
Cj4gKyAgICAgICBzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSA9IGNlLT5nZW1fY29udGV4
dC0+aTkxNTsKPiArICAgICAgIHN0cnVjdCBkcm1faTkxNV9nZW1fb2JqZWN0ICpvYmo7Cj4gKyAg
ICAgICBzdHJ1Y3Qgcm5kX3N0YXRlIHBybmc7Cj4gKyAgICAgICBJR1RfVElNRU9VVChlbmQpOwo+
ICsgICAgICAgdTMyICp2YWRkcjsKPiArICAgICAgIGludCBlcnIgPSAwOwo+ICsKPiArICAgICAg
IG9iaiA9IGk5MTVfZ2VtX29iamVjdF9jcmVhdGVfaW50ZXJuYWwoaTkxNSwgU1pfMk0pOwo+ICsg
ICAgICAgaWYgKElTX0VSUihvYmopKQo+ICsgICAgICAgICAgICAgICByZXR1cm4gUFRSX0VSUihv
YmopOwo+ICsKPiArICAgICAgIHZhZGRyID0gaTkxNV9nZW1fb2JqZWN0X3Bpbl9tYXAob2JqLCBJ
OTE1X01BUF9XQik7Cj4gKyAgICAgICBpZiAoSVNfRVJSKHZhZGRyKSkgewo+ICsgICAgICAgICAg
ICAgICBlcnIgPSBQVFJfRVJSKHZhZGRyKTsKPiArICAgICAgICAgICAgICAgZ290byBlcnJfcHV0
Owo+ICsgICAgICAgfQo+ICsKPiArICAgICAgIHByYW5kb21fc2VlZF9zdGF0ZSgmcHJuZywgaTkx
NV9zZWxmdGVzdC5yYW5kb21fc2VlZCk7Cj4gKwo+ICsgICAgICAgZG8gewo+ICsgICAgICAgICAg
ICAgICB1MzIgdmFsID0gcHJhbmRvbV91MzJfc3RhdGUoJnBybmcpOwo+ICsgICAgICAgICAgICAg
ICB1MzIgaTsKCkkgdGhpbmsgaXQgd291bGQgYmUgZ29vZCBpZiBpdCBjcmVhdGVzIGEgbmV3IHJh
bmRvbWx5IHNpemVkIG9iamVjdCBvbgplYWNoIHBhc3MgYXMgd2VsbC4KCj4gKyAgICAgICAgICAg
ICAgIGVyciA9IGk5MTVfZ2VtX3NjaGVkdWxlX2ZpbGxfcGFnZXNfYmx0KG9iaiwgY2UsIG9iai0+
bW0ucGFnZXMsCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgIG9iai0+bW0ucGFnZV9zaXplcy5waHlzLAo+ICsgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmotPmJhc2Uuc2l6ZSwKPiArICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsKTsK
PiArICAgICAgICAgICAgICAgaWYgKGVycikKPiArICAgICAgICAgICAgICAgICAgICAgICBicmVh
azsKPiArCj4gKyAgICAgICAgICAgICAgIC8qCj4gKyAgICAgICAgICAgICAgICAqIFhYWDogRm9y
IG5vdyBkbyB0aGUgd2FpdCB3aXRob3V0IHRoZSBCS0wgdG8gZW5zdXJlIHdlIGRvbid0Cj4gKyAg
ICAgICAgICAgICAgICAqIGRlYWRsb2NrLgo+ICsgICAgICAgICAgICAgICAgKi8KPiArICAgICAg
ICAgICAgICAgZXJyID0gaTkxNV9nZW1fb2JqZWN0X3dhaXQob2JqLAo+ICsgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBJOTE1X1dBSVRfSU5URVJSVVBUSUJMRSB8Cj4g
KyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEk5MTVfV0FJVF9BTEws
Cj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1BWF9TQ0hFRFVM
RV9USU1FT1VUKTsKPiArICAgICAgICAgICAgICAgaWYgKGVycikKPiArICAgICAgICAgICAgICAg
ICAgICAgICBicmVhazsKCkxvdHMgb2Ygd29yayB0byBiZSBkb25lIDopCgo+ICsKPiArICAgICAg
ICAgICAgICAgbXV0ZXhfbG9jaygmaTkxNS0+ZHJtLnN0cnVjdF9tdXRleCk7Cj4gKyAgICAgICAg
ICAgICAgIGVyciA9IGk5MTVfZ2VtX29iamVjdF9zZXRfdG9fY3B1X2RvbWFpbihvYmosIGZhbHNl
KTsKPiArICAgICAgICAgICAgICAgbXV0ZXhfdW5sb2NrKCZpOTE1LT5kcm0uc3RydWN0X211dGV4
KTsKClRoZSB3b3JrZXIgbmV2ZXIgY2xlYW5lZCB0aGUgY2FjaGVzIGJlZm9yZSBibHQuIFdob29w
cy4gVGhlIGNoYWxsZW5nZSBpcwp0byByZWZpbmUgdGhpcyB0ZXN0IHRvIG1ha2Ugc3VyZSBpdCBw
aWNrcyB1cCB0aGUgY3VycmVudCBmYWlsdXJlIDopCgo+ICsgICAgICAgICAgICAgICBpZiAoZXJy
KQo+ICsgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwo+ICsKPiArICAgICAgICAgICAgICAg
Zm9yIChpID0gMDsgaSA8IG9iai0+YmFzZS5zaXplIC8gc2l6ZW9mKHUzMik7ICsraSkgewo+ICsg
ICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWRkcltpXSAhPSB2YWwpIHsKPiArICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgIHByX2VycigidmFkZHJbJWRdPSV1LCBleHBlY3RlZD0ldVxu
IiwgaSwKPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWwsIHZhZGRy
W2ldKTsKPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVyciA9IC1FSU5WQUw7Cj4g
KyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKPiArICAgICAgICAgICAgICAg
ICAgICAgICB9Cj4gKyAgICAgICAgICAgICAgIH0KPiArICAgICAgIH0gd2hpbGUgKCF0aW1lX2Fm
dGVyKGppZmZpZXMsIGVuZCkpOwo+ICsKPiArICAgICAgIGk5MTVfZ2VtX29iamVjdF91bnBpbl9t
YXAob2JqKTsKPiArZXJyX3B1dDoKPiArICAgICAgIGk5MTVfZ2VtX29iamVjdF9wdXQob2JqKTsK
PiArICAgICAgIHJldHVybiBlcnI7Cj4gK30KPiArCj4gK2ludCBpOTE1X2dlbV9jbGllbnRfYmx0
X2xpdmVfc2VsZnRlc3RzKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICppOTE1KQo+ICt7Cj4gKyAg
ICAgICBzdGF0aWMgY29uc3Qgc3RydWN0IGk5MTVfc3VidGVzdCB0ZXN0c1tdID0gewo+ICsgICAg
ICAgICAgICAgICBTVUJURVNUKGlndF9jbGllbnRfZmlsbCksCj4gKyAgICAgICB9Owo+ICsgICAg
ICAgc3RydWN0IGRybV9maWxlICpmaWxlOwo+ICsgICAgICAgc3RydWN0IGk5MTVfZ2VtX2NvbnRl
eHQgKmN0eDsKPiArICAgICAgIHN0cnVjdCBpbnRlbF9jb250ZXh0ICpjZTsKPiArICAgICAgIGlu
dGVsX3dha2VyZWZfdCB3YWtlcmVmOwo+ICsgICAgICAgaW50IGVycjsKPiArCj4gKyAgICAgICBp
ZiAoaTkxNV90ZXJtaW5hbGx5X3dlZGdlZChpOTE1KSkKPiArICAgICAgICAgICAgICAgcmV0dXJu
IDA7Cj4gKwo+ICsgICAgICAgaWYgKCFIQVNfRU5HSU5FKGk5MTUsIEJDUzApKQo+ICsgICAgICAg
ICAgICAgICByZXR1cm4gMDsKPiArCj4gKyAgICAgICBmaWxlID0gbW9ja19maWxlKGk5MTUpOwo+
ICsgICAgICAgaWYgKElTX0VSUihmaWxlKSkKPiArICAgICAgICAgICAgICAgcmV0dXJuIFBUUl9F
UlIoZmlsZSk7Cj4gKwo+ICsgICAgICAgbXV0ZXhfbG9jaygmaTkxNS0+ZHJtLnN0cnVjdF9tdXRl
eCk7Cj4gKyAgICAgICBjdHggPSBsaXZlX2NvbnRleHQoaTkxNSwgZmlsZSk7Cj4gKyAgICAgICBt
dXRleF91bmxvY2soJmk5MTUtPmRybS5zdHJ1Y3RfbXV0ZXgpOwo+ICsgICAgICAgaWYgKElTX0VS
UihjdHgpKSB7Cj4gKyAgICAgICAgICAgICAgIGVyciA9IFBUUl9FUlIoY3R4KTsKPiArICAgICAg
ICAgICAgICAgZ290byBvdXRfZnJlZTsKPiArICAgICAgIH0KPiArCj4gKyAgICAgICBjZSA9IGk5
MTVfZ2VtX2NvbnRleHRfZ2V0X2VuZ2luZShjdHgsIEJDUzApOwo+ICsgICAgICAgaWYgKElTX0VS
UihjZSkpCj4gKyAgICAgICAgICAgICAgIGdvdG8gb3V0X2ZyZWU7Cj4gKwo+ICsgICAgICAgZXJy
ID0gaW50ZWxfY29udGV4dF9waW4oY2UpOwo+ICsgICAgICAgaW50ZWxfY29udGV4dF9wdXQoY2Up
Owo+ICsgICAgICAgaWYgKGVycikKPiArICAgICAgICAgICAgICAgZ290byBvdXRfZnJlZTsKCkht
bSwgeW91IHdhbnQgdG8gZW11bGF0ZSB0aGUgaW4ta2VybmVsIGJsaXR0ZXIgY2xpZW50LCBvciB1
c2Vyc3BhY2UKY2xpZW50PyBUaGlzIGxvb2tzIG1vcmUgbGlrZSB1c2Vyc3BhY2UuCgpPdGhlcndp
c2UgeW91IHdvdWxkIGp1c3QgdXNlIGk5MTUtPmVuZ2luZVtCQ1MwXS0+a2VybmVsX2NvbnRleHQu
Cgo+ICsgICAgICAgd2FrZXJlZiA9IGludGVsX3J1bnRpbWVfcG1fZ2V0KGk5MTUpOwoKRm9yIHRo
ZXNlIHRlc3RzLCB3ZSBkbyB3YW50IHRvIHZlcmlmeSB0aGUgaGFybmVzcyBpcyBoYW5kbGluZyB3
YWtlcmVmCnByb3Blcmx5IC0tIGl0IHdpbGwgbmVlZCB0byBiZSBjYWxsZWQgZnJvbSBhbnkgcmFu
ZG9tIGNvbnRleHQuCgo+ICsgICAgICAgZXJyID0gaTkxNV9zdWJ0ZXN0cyh0ZXN0cywgY2UpOwo+
ICsgICAgICAgaW50ZWxfcnVudGltZV9wbV9wdXQoaTkxNSwgd2FrZXJlZik7Cj4gKwo+ICsgICAg
ICAgaW50ZWxfY29udGV4dF91bnBpbihjZSk7Cj4gK291dF9mcmVlOgo+ICsgICAgICAgbW9ja19m
aWxlX2ZyZWUoaTkxNSwgZmlsZSk7Cj4gKyAgICAgICByZXR1cm4gZXJyOwo+ICt9Cl9fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCkludGVsLWdmeCBtYWlsaW5n
IGxpc3QKSW50ZWwtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVk
ZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2ludGVsLWdmeA==

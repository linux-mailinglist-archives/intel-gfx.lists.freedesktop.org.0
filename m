Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 22AC13373A
	for <lists+intel-gfx@lfdr.de>; Mon,  3 Jun 2019 19:49:55 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 12A1D892D2;
	Mon,  3 Jun 2019 17:49:50 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from fireflyinternet.com (mail.fireflyinternet.com [109.228.58.192])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 89655892CA
 for <intel-gfx@lists.freedesktop.org>; Mon,  3 Jun 2019 17:49:45 +0000 (UTC)
X-Default-Received-SPF: pass (skip=forwardok (res=PASS))
 x-ip-name=78.156.65.138; 
Received: from haswell.alporthouse.com (unverified [78.156.65.138]) 
 by fireflyinternet.com (Firefly Internet (M1)) with ESMTP id 16778865-1500050 
 for multiple; Mon, 03 Jun 2019 18:49:39 +0100
From: Chris Wilson <chris@chris-wilson.co.uk>
To: intel-gfx@lists.freedesktop.org
Date: Mon,  3 Jun 2019 18:49:34 +0100
Message-Id: <20190603174935.23982-6-chris@chris-wilson.co.uk>
X-Mailer: git-send-email 2.20.1
In-Reply-To: <20190603174935.23982-1-chris@chris-wilson.co.uk>
References: <20190603174935.23982-1-chris@chris-wilson.co.uk>
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH 6/7] drm/i915: Rename i915_hw_ppgtt to i915_ppgtt
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

S2VlcGluZyB0aGUgX2h3XyBpbiB0aGVyZSBkb2VzIG5vdCBoZWxwIHRvIGRpc3Rpbmd1aXNoIGl0
IGZyb20gaXRzCmJyZXRocmVuIGk5MTVfZ2d0dCwgc28gZHJvcCBpdC4KClNpZ25lZC1vZmYtYnk6
IENocmlzIFdpbHNvbiA8Y2hyaXNAY2hyaXMtd2lsc29uLmNvLnVrPgotLS0KIGRyaXZlcnMvZ3B1
L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9jb250ZXh0LmMgICB8ICA4ICstCiAuLi4vZ3B1L2RybS9p
OTE1L2dlbS9zZWxmdGVzdHMvaHVnZV9wYWdlcy5jICAgfCAxMiArLS0KIC4uLi9ncHUvZHJtL2k5
MTUvZ2VtL3NlbGZ0ZXN0cy9tb2NrX2NvbnRleHQuYyB8ICAyICstCiBkcml2ZXJzL2dwdS9kcm0v
aTkxNS9ndC9pbnRlbF9scmMuYyAgICAgICAgICAgfCAgNCArLQogZHJpdmVycy9ncHUvZHJtL2k5
MTUvZ3QvaW50ZWxfcmluZ2J1ZmZlci5jICAgIHwgIDUgKy0KIGRyaXZlcnMvZ3B1L2RybS9pOTE1
L2d2dC9zY2hlZHVsZXIuYyAgICAgICAgICB8ICA2ICstCiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9p
OTE1X2Rydi5oICAgICAgICAgICAgICAgfCAgMiArLQogZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkx
NV9nZW1fZ3R0LmMgICAgICAgICAgIHwgNzggKysrKysrKysrLS0tLS0tLS0tLQogZHJpdmVycy9n
cHUvZHJtL2k5MTUvaTkxNV9nZW1fZ3R0LmggICAgICAgICAgIHwgMjggKysrLS0tLQogZHJpdmVy
cy9ncHUvZHJtL2k5MTUvc2VsZnRlc3RzL2k5MTVfZ2VtX2d0dC5jIHwgIDYgKy0KIGRyaXZlcnMv
Z3B1L2RybS9pOTE1L3NlbGZ0ZXN0cy9tb2NrX2d0dC5jICAgICB8ICA3ICstCiBkcml2ZXJzL2dw
dS9kcm0vaTkxNS9zZWxmdGVzdHMvbW9ja19ndHQuaCAgICAgfCAgNCArLQogMTIgZmlsZXMgY2hh
bmdlZCwgNzggaW5zZXJ0aW9ucygrKSwgODQgZGVsZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEvZHJp
dmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX2NvbnRleHQuYyBiL2RyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2dlbS9pOTE1X2dlbV9jb250ZXh0LmMKaW5kZXggMmVjMzFiOTllYzgyLi5mYjlhMDli
NzhlMDIgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9jb250
ZXh0LmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX2NvbnRleHQuYwpA
QCAtNDk2LDcgKzQ5Niw3IEBAIGk5MTVfZ2VtX2NyZWF0ZV9jb250ZXh0KHN0cnVjdCBkcm1faTkx
NV9wcml2YXRlICpkZXZfcHJpdiwgdW5zaWduZWQgaW50IGZsYWdzKQogCQlyZXR1cm4gY3R4Owog
CiAJaWYgKEhBU19GVUxMX1BQR1RUKGRldl9wcml2KSkgewotCQlzdHJ1Y3QgaTkxNV9od19wcGd0
dCAqcHBndHQ7CisJCXN0cnVjdCBpOTE1X3BwZ3R0ICpwcGd0dDsKIAogCQlwcGd0dCA9IGk5MTVf
cHBndHRfY3JlYXRlKGRldl9wcml2KTsKIAkJaWYgKElTX0VSUihwcGd0dCkpIHsKQEAgLTgwNSw3
ICs4MDUsNyBAQCBpbnQgaTkxNV9nZW1fdm1fY3JlYXRlX2lvY3RsKHN0cnVjdCBkcm1fZGV2aWNl
ICpkZXYsIHZvaWQgKmRhdGEsCiAJc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUgPSB0b19p
OTE1KGRldik7CiAJc3RydWN0IGRybV9pOTE1X2dlbV92bV9jb250cm9sICphcmdzID0gZGF0YTsK
IAlzdHJ1Y3QgZHJtX2k5MTVfZmlsZV9wcml2YXRlICpmaWxlX3ByaXYgPSBmaWxlLT5kcml2ZXJf
cHJpdjsKLQlzdHJ1Y3QgaTkxNV9od19wcGd0dCAqcHBndHQ7CisJc3RydWN0IGk5MTVfcHBndHQg
KnBwZ3R0OwogCWludCBlcnI7CiAKIAlpZiAoIUhBU19GVUxMX1BQR1RUKGk5MTUpKQpAQCAtMTAy
MCw3ICsxMDIwLDcgQEAgc3RhdGljIGludCBlbWl0X3BwZ3R0X3VwZGF0ZShzdHJ1Y3QgaTkxNV9y
ZXF1ZXN0ICpycSwgdm9pZCAqZGF0YSkKIAlpbnQgaTsKIAogCWlmIChpOTE1X3ZtX2lzXzRsdmwo
dm0pKSB7Ci0JCXN0cnVjdCBpOTE1X2h3X3BwZ3R0ICpwcGd0dCA9IGk5MTVfdm1fdG9fcHBndHQo
dm0pOworCQlzdHJ1Y3QgaTkxNV9wcGd0dCAqcHBndHQgPSBpOTE1X3ZtX3RvX3BwZ3R0KHZtKTsK
IAkJY29uc3QgZG1hX2FkZHJfdCBwZF9kYWRkciA9IHB4X2RtYSgmcHBndHQtPnBtbDQpOwogCiAJ
CWNzID0gaW50ZWxfcmluZ19iZWdpbihycSwgNik7CkBAIC0xMDM3LDcgKzEwMzcsNyBAQCBzdGF0
aWMgaW50IGVtaXRfcHBndHRfdXBkYXRlKHN0cnVjdCBpOTE1X3JlcXVlc3QgKnJxLCB2b2lkICpk
YXRhKQogCQkqY3MrKyA9IE1JX05PT1A7CiAJCWludGVsX3JpbmdfYWR2YW5jZShycSwgY3MpOwog
CX0gZWxzZSBpZiAoSEFTX0xPR0lDQUxfUklOR19DT05URVhUUyhlbmdpbmUtPmk5MTUpKSB7Ci0J
CXN0cnVjdCBpOTE1X2h3X3BwZ3R0ICpwcGd0dCA9IGk5MTVfdm1fdG9fcHBndHQodm0pOworCQlz
dHJ1Y3QgaTkxNV9wcGd0dCAqcHBndHQgPSBpOTE1X3ZtX3RvX3BwZ3R0KHZtKTsKIAogCQljcyA9
IGludGVsX3JpbmdfYmVnaW4ocnEsIDQgKiBHRU44XzNMVkxfUERQRVMgKyAyKTsKIAkJaWYgKElT
X0VSUihjcykpCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vc2VsZnRlc3Rz
L2h1Z2VfcGFnZXMuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9zZWxmdGVzdHMvaHVnZV9w
YWdlcy5jCmluZGV4IDIzMmQ1Y2Y0Mzk2Yy4uNzNlNjY3YjMxY2M0IDEwMDY0NAotLS0gYS9kcml2
ZXJzL2dwdS9kcm0vaTkxNS9nZW0vc2VsZnRlc3RzL2h1Z2VfcGFnZXMuYworKysgYi9kcml2ZXJz
L2dwdS9kcm0vaTkxNS9nZW0vc2VsZnRlc3RzL2h1Z2VfcGFnZXMuYwpAQCAtMzY4LDcgKzM2OCw3
IEBAIHN0YXRpYyBpbnQgaWd0X2NoZWNrX3BhZ2Vfc2l6ZXMoc3RydWN0IGk5MTVfdm1hICp2bWEp
CiAKIHN0YXRpYyBpbnQgaWd0X21vY2tfZXhoYXVzdF9kZXZpY2Vfc3VwcG9ydGVkX3BhZ2VzKHZv
aWQgKmFyZykKIHsKLQlzdHJ1Y3QgaTkxNV9od19wcGd0dCAqcHBndHQgPSBhcmc7CisJc3RydWN0
IGk5MTVfcHBndHQgKnBwZ3R0ID0gYXJnOwogCXN0cnVjdCBkcm1faTkxNV9wcml2YXRlICppOTE1
ID0gcHBndHQtPnZtLmk5MTU7CiAJdW5zaWduZWQgaW50IHNhdmVkX21hc2sgPSBJTlRFTF9JTkZP
KGk5MTUpLT5wYWdlX3NpemVzOwogCXN0cnVjdCBkcm1faTkxNV9nZW1fb2JqZWN0ICpvYmo7CkBA
IC00NDcsNyArNDQ3LDcgQEAgc3RhdGljIGludCBpZ3RfbW9ja19leGhhdXN0X2RldmljZV9zdXBw
b3J0ZWRfcGFnZXModm9pZCAqYXJnKQogCiBzdGF0aWMgaW50IGlndF9tb2NrX3BwZ3R0X21pc2Fs
aWduZWRfZG1hKHZvaWQgKmFyZykKIHsKLQlzdHJ1Y3QgaTkxNV9od19wcGd0dCAqcHBndHQgPSBh
cmc7CisJc3RydWN0IGk5MTVfcHBndHQgKnBwZ3R0ID0gYXJnOwogCXN0cnVjdCBkcm1faTkxNV9w
cml2YXRlICppOTE1ID0gcHBndHQtPnZtLmk5MTU7CiAJdW5zaWduZWQgbG9uZyBzdXBwb3J0ZWQg
PSBJTlRFTF9JTkZPKGk5MTUpLT5wYWdlX3NpemVzOwogCXN0cnVjdCBkcm1faTkxNV9nZW1fb2Jq
ZWN0ICpvYmo7CkBAIC01NzUsNyArNTc1LDcgQEAgc3RhdGljIGludCBpZ3RfbW9ja19wcGd0dF9t
aXNhbGlnbmVkX2RtYSh2b2lkICphcmcpCiB9CiAKIHN0YXRpYyB2b2lkIGNsb3NlX29iamVjdF9s
aXN0KHN0cnVjdCBsaXN0X2hlYWQgKm9iamVjdHMsCi0JCQkgICAgICBzdHJ1Y3QgaTkxNV9od19w
cGd0dCAqcHBndHQpCisJCQkgICAgICBzdHJ1Y3QgaTkxNV9wcGd0dCAqcHBndHQpCiB7CiAJc3Ry
dWN0IGRybV9pOTE1X2dlbV9vYmplY3QgKm9iaiwgKm9uOwogCkBAIC01OTUsNyArNTk1LDcgQEAg
c3RhdGljIHZvaWQgY2xvc2Vfb2JqZWN0X2xpc3Qoc3RydWN0IGxpc3RfaGVhZCAqb2JqZWN0cywK
IAogc3RhdGljIGludCBpZ3RfbW9ja19wcGd0dF9odWdlX2ZpbGwodm9pZCAqYXJnKQogewotCXN0
cnVjdCBpOTE1X2h3X3BwZ3R0ICpwcGd0dCA9IGFyZzsKKwlzdHJ1Y3QgaTkxNV9wcGd0dCAqcHBn
dHQgPSBhcmc7CiAJc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUgPSBwcGd0dC0+dm0uaTkx
NTsKIAl1bnNpZ25lZCBsb25nIG1heF9wYWdlcyA9IHBwZ3R0LT52bS50b3RhbCA+PiBQQUdFX1NI
SUZUOwogCXVuc2lnbmVkIGxvbmcgcGFnZV9udW07CkBAIC03MTYsNyArNzE2LDcgQEAgc3RhdGlj
IGludCBpZ3RfbW9ja19wcGd0dF9odWdlX2ZpbGwodm9pZCAqYXJnKQogCiBzdGF0aWMgaW50IGln
dF9tb2NrX3BwZ3R0XzY0Syh2b2lkICphcmcpCiB7Ci0Jc3RydWN0IGk5MTVfaHdfcHBndHQgKnBw
Z3R0ID0gYXJnOworCXN0cnVjdCBpOTE1X3BwZ3R0ICpwcGd0dCA9IGFyZzsKIAlzdHJ1Y3QgZHJt
X2k5MTVfcHJpdmF0ZSAqaTkxNSA9IHBwZ3R0LT52bS5pOTE1OwogCXN0cnVjdCBkcm1faTkxNV9n
ZW1fb2JqZWN0ICpvYmo7CiAJY29uc3Qgc3RydWN0IG9iamVjdF9pbmZvIHsKQEAgLTE2ODMsNyAr
MTY4Myw3IEBAIGludCBpOTE1X2dlbV9odWdlX3BhZ2VfbW9ja19zZWxmdGVzdHModm9pZCkKIAkJ
U1VCVEVTVChpZ3RfbW9ja19wcGd0dF82NEspLAogCX07CiAJc3RydWN0IGRybV9pOTE1X3ByaXZh
dGUgKmRldl9wcml2OwotCXN0cnVjdCBpOTE1X2h3X3BwZ3R0ICpwcGd0dDsKKwlzdHJ1Y3QgaTkx
NV9wcGd0dCAqcHBndHQ7CiAJaW50IGVycjsKIAogCWRldl9wcml2ID0gbW9ja19nZW1fZGV2aWNl
KCk7CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vc2VsZnRlc3RzL21vY2tf
Y29udGV4dC5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL3NlbGZ0ZXN0cy9tb2NrX2NvbnRl
eHQuYwppbmRleCA4ZjA1NzE2N2EyNWEuLjczNDIzN2ZlMDk2NSAxMDA2NDQKLS0tIGEvZHJpdmVy
cy9ncHUvZHJtL2k5MTUvZ2VtL3NlbGZ0ZXN0cy9tb2NrX2NvbnRleHQuYworKysgYi9kcml2ZXJz
L2dwdS9kcm0vaTkxNS9nZW0vc2VsZnRlc3RzL21vY2tfY29udGV4dC5jCkBAIC0zOSw3ICszOSw3
IEBAIG1vY2tfY29udGV4dChzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSwKIAkJZ290byBl
cnJfZW5naW5lczsKIAogCWlmIChuYW1lKSB7Ci0JCXN0cnVjdCBpOTE1X2h3X3BwZ3R0ICpwcGd0
dDsKKwkJc3RydWN0IGk5MTVfcHBndHQgKnBwZ3R0OwogCiAJCWN0eC0+bmFtZSA9IGtzdHJkdXAo
bmFtZSwgR0ZQX0tFUk5FTCk7CiAJCWlmICghY3R4LT5uYW1lKQpkaWZmIC0tZ2l0IGEvZHJpdmVy
cy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfbHJjLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9p
bnRlbF9scmMuYwppbmRleCA0ODhlMDI4Y2NiNjYuLjBhNDNjMDAwZWUzNiAxMDA2NDQKLS0tIGEv
ZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfbHJjLmMKKysrIGIvZHJpdmVycy9ncHUvZHJt
L2k5MTUvZ3QvaW50ZWxfbHJjLmMKQEAgLTE2MjEsNyArMTYyMSw3IEBAIHN0YXRpYyBpbnQgZ2Vu
OF9lbWl0X2luaXRfYnJlYWRjcnVtYihzdHJ1Y3QgaTkxNV9yZXF1ZXN0ICpycSkKIHN0YXRpYyBp
bnQgZW1pdF9wZHBzKHN0cnVjdCBpOTE1X3JlcXVlc3QgKnJxKQogewogCWNvbnN0IHN0cnVjdCBp
bnRlbF9lbmdpbmVfY3MgKiBjb25zdCBlbmdpbmUgPSBycS0+ZW5naW5lOwotCXN0cnVjdCBpOTE1
X2h3X3BwZ3R0ICogY29uc3QgcHBndHQgPQorCXN0cnVjdCBpOTE1X3BwZ3R0ICogY29uc3QgcHBn
dHQgPQogCQlpOTE1X3ZtX3RvX3BwZ3R0KHJxLT5nZW1fY29udGV4dC0+dm0pOwogCWludCBlcnIs
IGk7CiAJdTMyICpjczsKQEAgLTI4MjUsNyArMjgyNSw3IEBAIHN0YXRpYyB2b2lkIGV4ZWNsaXN0
c19pbml0X3JlZ19zdGF0ZSh1MzIgKnJlZ3MsCiAJCQkJICAgICBzdHJ1Y3QgaW50ZWxfZW5naW5l
X2NzICplbmdpbmUsCiAJCQkJICAgICBzdHJ1Y3QgaW50ZWxfcmluZyAqcmluZykKIHsKLQlzdHJ1
Y3QgaTkxNV9od19wcGd0dCAqcHBndHQgPSBpOTE1X3ZtX3RvX3BwZ3R0KGNlLT5nZW1fY29udGV4
dC0+dm0pOworCXN0cnVjdCBpOTE1X3BwZ3R0ICpwcGd0dCA9IGk5MTVfdm1fdG9fcHBndHQoY2Ut
PmdlbV9jb250ZXh0LT52bSk7CiAJYm9vbCByY3MgPSBlbmdpbmUtPmNsYXNzID09IFJFTkRFUl9D
TEFTUzsKIAl1MzIgYmFzZSA9IGVuZ2luZS0+bW1pb19iYXNlOwogCmRpZmYgLS1naXQgYS9kcml2
ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9yaW5nYnVmZmVyLmMgYi9kcml2ZXJzL2dwdS9kcm0v
aTkxNS9ndC9pbnRlbF9yaW5nYnVmZmVyLmMKaW5kZXggNjM2OWNjNWUyMmI0Li5jODM0ZDAxNmM5
NjUgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX3JpbmdidWZmZXIu
YworKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9yaW5nYnVmZmVyLmMKQEAgLTE1
MDgsOCArMTUwOCw3IEBAIHN0YXRpYyBjb25zdCBzdHJ1Y3QgaW50ZWxfY29udGV4dF9vcHMgcmlu
Z19jb250ZXh0X29wcyA9IHsKIAkuZGVzdHJveSA9IHJpbmdfY29udGV4dF9kZXN0cm95LAogfTsK
IAotc3RhdGljIGludCBsb2FkX3BkX2RpcihzdHJ1Y3QgaTkxNV9yZXF1ZXN0ICpycSwKLQkJICAg
ICAgIGNvbnN0IHN0cnVjdCBpOTE1X2h3X3BwZ3R0ICpwcGd0dCkKK3N0YXRpYyBpbnQgbG9hZF9w
ZF9kaXIoc3RydWN0IGk5MTVfcmVxdWVzdCAqcnEsIGNvbnN0IHN0cnVjdCBpOTE1X3BwZ3R0ICpw
cGd0dCkKIHsKIAljb25zdCBzdHJ1Y3QgaW50ZWxfZW5naW5lX2NzICogY29uc3QgZW5naW5lID0g
cnEtPmVuZ2luZTsKIAl1MzIgKmNzOwpAQCAtMTcxMyw3ICsxNzEyLDcgQEAgc3RhdGljIGludCBz
d2l0Y2hfY29udGV4dChzdHJ1Y3QgaTkxNV9yZXF1ZXN0ICpycSkKIAlHRU1fQlVHX09OKEhBU19F
WEVDTElTVFMocnEtPmk5MTUpKTsKIAogCWlmICh2bSkgewotCQlzdHJ1Y3QgaTkxNV9od19wcGd0
dCAqcHBndHQgPSBpOTE1X3ZtX3RvX3BwZ3R0KHZtKTsKKwkJc3RydWN0IGk5MTVfcHBndHQgKnBw
Z3R0ID0gaTkxNV92bV90b19wcGd0dCh2bSk7CiAJCWludCBsb29wczsKIAogCQkvKgpkaWZmIC0t
Z2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3Z0L3NjaGVkdWxlci5jIGIvZHJpdmVycy9ncHUv
ZHJtL2k5MTUvZ3Z0L3NjaGVkdWxlci5jCmluZGV4IGNlNmQyZjA2ZThmNy4uMDgwY2I3NDBlMDI4
IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndnQvc2NoZWR1bGVyLmMKKysrIGIv
ZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3Z0L3NjaGVkdWxlci5jCkBAIC0zNjgsNyArMzY4LDcgQEAg
c3RhdGljIGludCBzZXRfY29udGV4dF9wcGd0dF9mcm9tX3NoYWRvdyhzdHJ1Y3QgaW50ZWxfdmdw
dV93b3JrbG9hZCAqd29ya2xvYWQsCiAJCQkJCSBzdHJ1Y3QgaTkxNV9nZW1fY29udGV4dCAqY3R4
KQogewogCXN0cnVjdCBpbnRlbF92Z3B1X21tICptbSA9IHdvcmtsb2FkLT5zaGFkb3dfbW07Ci0J
c3RydWN0IGk5MTVfaHdfcHBndHQgKnBwZ3R0ID0gaTkxNV92bV90b19wcGd0dChjdHgtPnZtKTsK
KwlzdHJ1Y3QgaTkxNV9wcGd0dCAqcHBndHQgPSBpOTE1X3ZtX3RvX3BwZ3R0KGN0eC0+dm0pOwog
CWludCBpID0gMDsKIAogCWlmIChtbS0+dHlwZSAhPSBJTlRFTF9HVlRfTU1fUFBHVFQgfHwgIW1t
LT5wcGd0dF9tbS5zaGFkb3dlZCkKQEAgLTExMDIsNyArMTEwMiw3IEBAIGludCBpbnRlbF9ndnRf
aW5pdF93b3JrbG9hZF9zY2hlZHVsZXIoc3RydWN0IGludGVsX2d2dCAqZ3Z0KQogCiBzdGF0aWMg
dm9pZAogaTkxNV9jb250ZXh0X3BwZ3R0X3Jvb3RfcmVzdG9yZShzdHJ1Y3QgaW50ZWxfdmdwdV9z
dWJtaXNzaW9uICpzLAotCQkJCXN0cnVjdCBpOTE1X2h3X3BwZ3R0ICpwcGd0dCkKKwkJCQlzdHJ1
Y3QgaTkxNV9wcGd0dCAqcHBndHQpCiB7CiAJaW50IGk7CiAKQEAgLTExNjAsNyArMTE2MCw3IEBA
IHZvaWQgaW50ZWxfdmdwdV9yZXNldF9zdWJtaXNzaW9uKHN0cnVjdCBpbnRlbF92Z3B1ICp2Z3B1
LAogCiBzdGF0aWMgdm9pZAogaTkxNV9jb250ZXh0X3BwZ3R0X3Jvb3Rfc2F2ZShzdHJ1Y3QgaW50
ZWxfdmdwdV9zdWJtaXNzaW9uICpzLAotCQkJICAgICBzdHJ1Y3QgaTkxNV9od19wcGd0dCAqcHBn
dHQpCisJCQkgICAgIHN0cnVjdCBpOTE1X3BwZ3R0ICpwcGd0dCkKIHsKIAlpbnQgaTsKIApkaWZm
IC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kcnYuaCBiL2RyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2k5MTVfZHJ2LmgKaW5kZXggNzc5OTA3YjVhMzcwLi5mNGJkOGZmYzJkZmYgMTAwNjQ0
Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZHJ2LmgKKysrIGIvZHJpdmVycy9ncHUv
ZHJtL2k5MTUvaTkxNV9kcnYuaApAQCAtODk2LDcgKzg5Niw3IEBAIHN0cnVjdCBpOTE1X2dlbV9t
bSB7CiAJc3RydWN0IHZmc21vdW50ICpnZW1mczsKIAogCS8qKiBQUEdUVCB1c2VkIGZvciBhbGlh
c2luZyB0aGUgUFBHVFQgd2l0aCB0aGUgR1RUICovCi0Jc3RydWN0IGk5MTVfaHdfcHBndHQgKmFs
aWFzaW5nX3BwZ3R0OworCXN0cnVjdCBpOTE1X3BwZ3R0ICphbGlhc2luZ19wcGd0dDsKIAogCXN0
cnVjdCBub3RpZmllcl9ibG9jayBvb21fbm90aWZpZXI7CiAJc3RydWN0IG5vdGlmaWVyX2Jsb2Nr
IHZtYXBfbm90aWZpZXI7CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2dl
bV9ndHQuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZ2VtX2d0dC5jCmluZGV4IDRkMTcz
NzJlMThlZC4uMjc2NWYzODQ4Y2IxIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9p
OTE1X2dlbV9ndHQuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2dlbV9ndHQuYwpA
QCAtNzk5LDcgKzc5OSw3IEBAIHN0YXRpYyB2b2lkIGdlbjhfaW5pdGlhbGl6ZV9wbWw0KHN0cnVj
dCBpOTE1X2FkZHJlc3Nfc3BhY2UgKnZtLAogICogY29udGV4dCBzd2l0Y2hpbmcvZXhlY2xpc3Qg
cXVldWluZyBjb2RlIHRha2VzIGV4dHJhIHN0ZXBzCiAgKiB0byBlbnN1cmUgdGhhdCB0bGJzIGFy
ZSBmbHVzaGVkLgogICovCi1zdGF0aWMgdm9pZCBtYXJrX3RsYnNfZGlydHkoc3RydWN0IGk5MTVf
aHdfcHBndHQgKnBwZ3R0KQorc3RhdGljIHZvaWQgbWFya190bGJzX2RpcnR5KHN0cnVjdCBpOTE1
X3BwZ3R0ICpwcGd0dCkKIHsKIAlwcGd0dC0+cGRfZGlydHlfZW5naW5lcyA9IEFMTF9FTkdJTkVT
OwogfQpAQCAtOTQwLDcgKzk0MCw3IEBAIHN0YXRpYyB2b2lkIGdlbjhfcHBndHRfc2V0X3BtbDRl
KHN0cnVjdCBpOTE1X3BtbDQgKnBtbDQsCiBzdGF0aWMgdm9pZCBnZW44X3BwZ3R0X2NsZWFyXzRs
dmwoc3RydWN0IGk5MTVfYWRkcmVzc19zcGFjZSAqdm0sCiAJCQkJICB1NjQgc3RhcnQsIHU2NCBs
ZW5ndGgpCiB7Ci0Jc3RydWN0IGk5MTVfaHdfcHBndHQgKnBwZ3R0ID0gaTkxNV92bV90b19wcGd0
dCh2bSk7CisJc3RydWN0IGk5MTVfcHBndHQgKnBwZ3R0ID0gaTkxNV92bV90b19wcGd0dCh2bSk7
CiAJc3RydWN0IGk5MTVfcG1sNCAqcG1sNCA9ICZwcGd0dC0+cG1sNDsKIAlzdHJ1Y3QgaTkxNV9w
YWdlX2RpcmVjdG9yeV9wb2ludGVyICpwZHA7CiAJdW5zaWduZWQgaW50IHBtbDRlOwpAQCAtOTkz
LDcgKzk5Myw3IEBAIHN0YXRpYyBfX2Fsd2F5c19pbmxpbmUgc3RydWN0IGdlbjhfaW5zZXJ0X3B0
ZSBnZW44X2luc2VydF9wdGUodTY0IHN0YXJ0KQogfQogCiBzdGF0aWMgX19hbHdheXNfaW5saW5l
IGJvb2wKLWdlbjhfcHBndHRfaW5zZXJ0X3B0ZV9lbnRyaWVzKHN0cnVjdCBpOTE1X2h3X3BwZ3R0
ICpwcGd0dCwKK2dlbjhfcHBndHRfaW5zZXJ0X3B0ZV9lbnRyaWVzKHN0cnVjdCBpOTE1X3BwZ3R0
ICpwcGd0dCwKIAkJCSAgICAgIHN0cnVjdCBpOTE1X3BhZ2VfZGlyZWN0b3J5X3BvaW50ZXIgKnBk
cCwKIAkJCSAgICAgIHN0cnVjdCBzZ3RfZG1hICppdGVyLAogCQkJICAgICAgc3RydWN0IGdlbjhf
aW5zZXJ0X3B0ZSAqaWR4LApAQCAtMTA1NCw3ICsxMDU0LDcgQEAgc3RhdGljIHZvaWQgZ2VuOF9w
cGd0dF9pbnNlcnRfM2x2bChzdHJ1Y3QgaTkxNV9hZGRyZXNzX3NwYWNlICp2bSwKIAkJCQkgICBl
bnVtIGk5MTVfY2FjaGVfbGV2ZWwgY2FjaGVfbGV2ZWwsCiAJCQkJICAgdTMyIGZsYWdzKQogewot
CXN0cnVjdCBpOTE1X2h3X3BwZ3R0ICpwcGd0dCA9IGk5MTVfdm1fdG9fcHBndHQodm0pOworCXN0
cnVjdCBpOTE1X3BwZ3R0ICpwcGd0dCA9IGk5MTVfdm1fdG9fcHBndHQodm0pOwogCXN0cnVjdCBz
Z3RfZG1hIGl0ZXIgPSBzZ3RfZG1hKHZtYSk7CiAJc3RydWN0IGdlbjhfaW5zZXJ0X3B0ZSBpZHgg
PSBnZW44X2luc2VydF9wdGUodm1hLT5ub2RlLnN0YXJ0KTsKIApAQCAtMTE4OCw3ICsxMTg4LDcg
QEAgc3RhdGljIHZvaWQgZ2VuOF9wcGd0dF9pbnNlcnRfNGx2bChzdHJ1Y3QgaTkxNV9hZGRyZXNz
X3NwYWNlICp2bSwKIAkJCQkgICBlbnVtIGk5MTVfY2FjaGVfbGV2ZWwgY2FjaGVfbGV2ZWwsCiAJ
CQkJICAgdTMyIGZsYWdzKQogewotCXN0cnVjdCBpOTE1X2h3X3BwZ3R0ICpwcGd0dCA9IGk5MTVf
dm1fdG9fcHBndHQodm0pOworCXN0cnVjdCBpOTE1X3BwZ3R0ICpwcGd0dCA9IGk5MTVfdm1fdG9f
cHBndHQodm0pOwogCXN0cnVjdCBzZ3RfZG1hIGl0ZXIgPSBzZ3RfZG1hKHZtYSk7CiAJc3RydWN0
IGk5MTVfcGFnZV9kaXJlY3RvcnlfcG9pbnRlciAqKnBkcHMgPSBwcGd0dC0+cG1sNC5wZHBzOwog
CkBAIC0xMjg3LDcgKzEyODcsNyBAQCBzdGF0aWMgaW50IGdlbjhfaW5pdF9zY3JhdGNoKHN0cnVj
dCBpOTE1X2FkZHJlc3Nfc3BhY2UgKnZtKQogCXJldHVybiByZXQ7CiB9CiAKLXN0YXRpYyBpbnQg
Z2VuOF9wcGd0dF9ub3RpZnlfdmd0KHN0cnVjdCBpOTE1X2h3X3BwZ3R0ICpwcGd0dCwgYm9vbCBj
cmVhdGUpCitzdGF0aWMgaW50IGdlbjhfcHBndHRfbm90aWZ5X3ZndChzdHJ1Y3QgaTkxNV9wcGd0
dCAqcHBndHQsIGJvb2wgY3JlYXRlKQogewogCXN0cnVjdCBpOTE1X2FkZHJlc3Nfc3BhY2UgKnZt
ID0gJnBwZ3R0LT52bTsKIAlzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYgPSB2bS0+
aTkxNTsKQEAgLTEzNDgsNyArMTM0OCw3IEBAIHN0YXRpYyB2b2lkIGdlbjhfcHBndHRfY2xlYW51
cF8zbHZsKHN0cnVjdCBpOTE1X2FkZHJlc3Nfc3BhY2UgKnZtLAogCWZyZWVfcGRwKHZtLCBwZHAp
OwogfQogCi1zdGF0aWMgdm9pZCBnZW44X3BwZ3R0X2NsZWFudXBfNGx2bChzdHJ1Y3QgaTkxNV9o
d19wcGd0dCAqcHBndHQpCitzdGF0aWMgdm9pZCBnZW44X3BwZ3R0X2NsZWFudXBfNGx2bChzdHJ1
Y3QgaTkxNV9wcGd0dCAqcHBndHQpCiB7CiAJaW50IGk7CiAKQEAgLTEzNjUsNyArMTM2NSw3IEBA
IHN0YXRpYyB2b2lkIGdlbjhfcHBndHRfY2xlYW51cF80bHZsKHN0cnVjdCBpOTE1X2h3X3BwZ3R0
ICpwcGd0dCkKIHN0YXRpYyB2b2lkIGdlbjhfcHBndHRfY2xlYW51cChzdHJ1Y3QgaTkxNV9hZGRy
ZXNzX3NwYWNlICp2bSkKIHsKIAlzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYgPSB2
bS0+aTkxNTsKLQlzdHJ1Y3QgaTkxNV9od19wcGd0dCAqcHBndHQgPSBpOTE1X3ZtX3RvX3BwZ3R0
KHZtKTsKKwlzdHJ1Y3QgaTkxNV9wcGd0dCAqcHBndHQgPSBpOTE1X3ZtX3RvX3BwZ3R0KHZtKTsK
IAogCWlmIChpbnRlbF92Z3B1X2FjdGl2ZShkZXZfcHJpdikpCiAJCWdlbjhfcHBndHRfbm90aWZ5
X3ZndChwcGd0dCwgZmFsc2UpOwpAQCAtMTQ5Nyw3ICsxNDk3LDcgQEAgc3RhdGljIGludCBnZW44
X3BwZ3R0X2FsbG9jXzNsdmwoc3RydWN0IGk5MTVfYWRkcmVzc19zcGFjZSAqdm0sCiBzdGF0aWMg
aW50IGdlbjhfcHBndHRfYWxsb2NfNGx2bChzdHJ1Y3QgaTkxNV9hZGRyZXNzX3NwYWNlICp2bSwK
IAkJCQkgdTY0IHN0YXJ0LCB1NjQgbGVuZ3RoKQogewotCXN0cnVjdCBpOTE1X2h3X3BwZ3R0ICpw
cGd0dCA9IGk5MTVfdm1fdG9fcHBndHQodm0pOworCXN0cnVjdCBpOTE1X3BwZ3R0ICpwcGd0dCA9
IGk5MTVfdm1fdG9fcHBndHQodm0pOwogCXN0cnVjdCBpOTE1X3BtbDQgKnBtbDQgPSAmcHBndHQt
PnBtbDQ7CiAJc3RydWN0IGk5MTVfcGFnZV9kaXJlY3RvcnlfcG9pbnRlciAqcGRwOwogCXU2NCBm
cm9tID0gc3RhcnQ7CkBAIC0xNTUzLDcgKzE1NTMsNyBAQCBzdGF0aWMgaW50IGdlbjhfcHBndHRf
YWxsb2NfNGx2bChzdHJ1Y3QgaTkxNV9hZGRyZXNzX3NwYWNlICp2bSwKIAlyZXR1cm4gLUVOT01F
TTsKIH0KIAotc3RhdGljIGludCBnZW44X3ByZWFsbG9jYXRlX3RvcF9sZXZlbF9wZHAoc3RydWN0
IGk5MTVfaHdfcHBndHQgKnBwZ3R0KQorc3RhdGljIGludCBnZW44X3ByZWFsbG9jYXRlX3RvcF9s
ZXZlbF9wZHAoc3RydWN0IGk5MTVfcHBndHQgKnBwZ3R0KQogewogCXN0cnVjdCBpOTE1X2FkZHJl
c3Nfc3BhY2UgKnZtID0gJnBwZ3R0LT52bTsKIAlzdHJ1Y3QgaTkxNV9wYWdlX2RpcmVjdG9yeV9w
b2ludGVyICpwZHAgPSAmcHBndHQtPnBkcDsKQEAgLTE1ODYsNyArMTU4Niw3IEBAIHN0YXRpYyBp
bnQgZ2VuOF9wcmVhbGxvY2F0ZV90b3BfbGV2ZWxfcGRwKHN0cnVjdCBpOTE1X2h3X3BwZ3R0ICpw
cGd0dCkKIH0KIAogc3RhdGljIHZvaWQgcHBndHRfaW5pdChzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0
ZSAqaTkxNSwKLQkJICAgICAgIHN0cnVjdCBpOTE1X2h3X3BwZ3R0ICpwcGd0dCkKKwkJICAgICAg
IHN0cnVjdCBpOTE1X3BwZ3R0ICpwcGd0dCkKIHsKIAlwcGd0dC0+dm0uaTkxNSA9IGk5MTU7CiAJ
cHBndHQtPnZtLmRtYSA9ICZpOTE1LT5kcm0ucGRldi0+ZGV2OwpAQCAtMTYwNyw5ICsxNjA3LDkg
QEAgc3RhdGljIHZvaWQgcHBndHRfaW5pdChzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSwK
ICAqIHNwYWNlLgogICoKICAqLwotc3RhdGljIHN0cnVjdCBpOTE1X2h3X3BwZ3R0ICpnZW44X3Bw
Z3R0X2NyZWF0ZShzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSkKK3N0YXRpYyBzdHJ1Y3Qg
aTkxNV9wcGd0dCAqZ2VuOF9wcGd0dF9jcmVhdGUoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5
MTUpCiB7Ci0Jc3RydWN0IGk5MTVfaHdfcHBndHQgKnBwZ3R0OworCXN0cnVjdCBpOTE1X3BwZ3R0
ICpwcGd0dDsKIAlpbnQgZXJyOwogCiAJcHBndHQgPSBremFsbG9jKHNpemVvZigqcHBndHQpLCBH
RlBfS0VSTkVMKTsKQEAgLTE2NzksNyArMTY3OSw3IEBAIHN0YXRpYyBzdHJ1Y3QgaTkxNV9od19w
cGd0dCAqZ2VuOF9wcGd0dF9jcmVhdGUoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUpCiB9
CiAKIC8qIFdyaXRlIHBkZSAoaW5kZXgpIGZyb20gdGhlIHBhZ2UgZGlyZWN0b3J5IEBwZCB0byB0
aGUgcGFnZSB0YWJsZSBAcHQgKi8KLXN0YXRpYyBpbmxpbmUgdm9pZCBnZW42X3dyaXRlX3BkZShj
b25zdCBzdHJ1Y3QgZ2VuNl9od19wcGd0dCAqcHBndHQsCitzdGF0aWMgaW5saW5lIHZvaWQgZ2Vu
Nl93cml0ZV9wZGUoY29uc3Qgc3RydWN0IGdlbjZfcHBndHQgKnBwZ3R0LAogCQkJCSAgY29uc3Qg
dW5zaWduZWQgaW50IHBkZSwKIAkJCQkgIGNvbnN0IHN0cnVjdCBpOTE1X3BhZ2VfdGFibGUgKnB0
KQogewpAQCAtMTczNSw3ICsxNzM1LDcgQEAgc3RhdGljIHZvaWQgZ2VuNl9wcGd0dF9lbmFibGUo
c3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2KQogc3RhdGljIHZvaWQgZ2VuNl9wcGd0
dF9jbGVhcl9yYW5nZShzdHJ1Y3QgaTkxNV9hZGRyZXNzX3NwYWNlICp2bSwKIAkJCQkgICB1NjQg
c3RhcnQsIHU2NCBsZW5ndGgpCiB7Ci0Jc3RydWN0IGdlbjZfaHdfcHBndHQgKnBwZ3R0ID0gdG9f
Z2VuNl9wcGd0dChpOTE1X3ZtX3RvX3BwZ3R0KHZtKSk7CisJc3RydWN0IGdlbjZfcHBndHQgKnBw
Z3R0ID0gdG9fZ2VuNl9wcGd0dChpOTE1X3ZtX3RvX3BwZ3R0KHZtKSk7CiAJdW5zaWduZWQgaW50
IGZpcnN0X2VudHJ5ID0gc3RhcnQgLyBJOTE1X0dUVF9QQUdFX1NJWkU7CiAJdW5zaWduZWQgaW50
IHBkZSA9IGZpcnN0X2VudHJ5IC8gR0VONl9QVEVTOwogCXVuc2lnbmVkIGludCBwdGUgPSBmaXJz
dF9lbnRyeSAlIEdFTjZfUFRFUzsKQEAgLTE3NzQsNyArMTc3NCw3IEBAIHN0YXRpYyB2b2lkIGdl
bjZfcHBndHRfaW5zZXJ0X2VudHJpZXMoc3RydWN0IGk5MTVfYWRkcmVzc19zcGFjZSAqdm0sCiAJ
CQkJICAgICAgZW51bSBpOTE1X2NhY2hlX2xldmVsIGNhY2hlX2xldmVsLAogCQkJCSAgICAgIHUz
MiBmbGFncykKIHsKLQlzdHJ1Y3QgaTkxNV9od19wcGd0dCAqcHBndHQgPSBpOTE1X3ZtX3RvX3Bw
Z3R0KHZtKTsKKwlzdHJ1Y3QgaTkxNV9wcGd0dCAqcHBndHQgPSBpOTE1X3ZtX3RvX3BwZ3R0KHZt
KTsKIAl1bnNpZ25lZCBmaXJzdF9lbnRyeSA9IHZtYS0+bm9kZS5zdGFydCAvIEk5MTVfR1RUX1BB
R0VfU0laRTsKIAl1bnNpZ25lZCBhY3RfcHQgPSBmaXJzdF9lbnRyeSAvIEdFTjZfUFRFUzsKIAl1
bnNpZ25lZCBhY3RfcHRlID0gZmlyc3RfZW50cnkgJSBHRU42X1BURVM7CkBAIC0xODEyLDcgKzE4
MTIsNyBAQCBzdGF0aWMgdm9pZCBnZW42X3BwZ3R0X2luc2VydF9lbnRyaWVzKHN0cnVjdCBpOTE1
X2FkZHJlc3Nfc3BhY2UgKnZtLAogc3RhdGljIGludCBnZW42X2FsbG9jX3ZhX3JhbmdlKHN0cnVj
dCBpOTE1X2FkZHJlc3Nfc3BhY2UgKnZtLAogCQkJICAgICAgIHU2NCBzdGFydCwgdTY0IGxlbmd0
aCkKIHsKLQlzdHJ1Y3QgZ2VuNl9od19wcGd0dCAqcHBndHQgPSB0b19nZW42X3BwZ3R0KGk5MTVf
dm1fdG9fcHBndHQodm0pKTsKKwlzdHJ1Y3QgZ2VuNl9wcGd0dCAqcHBndHQgPSB0b19nZW42X3Bw
Z3R0KGk5MTVfdm1fdG9fcHBndHQodm0pKTsKIAlzdHJ1Y3QgaTkxNV9wYWdlX3RhYmxlICpwdDsK
IAlpbnRlbF93YWtlcmVmX3Qgd2FrZXJlZjsKIAl1NjQgZnJvbSA9IHN0YXJ0OwpAQCAtMTg3Miw3
ICsxODcyLDcgQEAgc3RhdGljIGludCBnZW42X2FsbG9jX3ZhX3JhbmdlKHN0cnVjdCBpOTE1X2Fk
ZHJlc3Nfc3BhY2UgKnZtLAogCXJldHVybiAtRU5PTUVNOwogfQogCi1zdGF0aWMgaW50IGdlbjZf
cHBndHRfaW5pdF9zY3JhdGNoKHN0cnVjdCBnZW42X2h3X3BwZ3R0ICpwcGd0dCkKK3N0YXRpYyBp
bnQgZ2VuNl9wcGd0dF9pbml0X3NjcmF0Y2goc3RydWN0IGdlbjZfcHBndHQgKnBwZ3R0KQogewog
CXN0cnVjdCBpOTE1X2FkZHJlc3Nfc3BhY2UgKiBjb25zdCB2bSA9ICZwcGd0dC0+YmFzZS52bTsK
IAlzdHJ1Y3QgaTkxNV9wYWdlX3RhYmxlICp1bnVzZWQ7CkBAIC0xOTA3LDcgKzE5MDcsNyBAQCBz
dGF0aWMgdm9pZCBnZW42X3BwZ3R0X2ZyZWVfc2NyYXRjaChzdHJ1Y3QgaTkxNV9hZGRyZXNzX3Nw
YWNlICp2bSkKIAljbGVhbnVwX3NjcmF0Y2hfcGFnZSh2bSk7CiB9CiAKLXN0YXRpYyB2b2lkIGdl
bjZfcHBndHRfZnJlZV9wZChzdHJ1Y3QgZ2VuNl9od19wcGd0dCAqcHBndHQpCitzdGF0aWMgdm9p
ZCBnZW42X3BwZ3R0X2ZyZWVfcGQoc3RydWN0IGdlbjZfcHBndHQgKnBwZ3R0KQogewogCXN0cnVj
dCBpOTE1X3BhZ2VfdGFibGUgKnB0OwogCXUzMiBwZGU7CkBAIC0xOTY1LDcgKzE5NjUsNyBAQCBz
dGF0aWMgY29uc3Qgc3RydWN0IGk5MTVfdm1hX29wcyBub3Bfdm1hX29wcyA9IHsKIAogc3RhdGlj
IHZvaWQgZ2VuNl9wcGd0dF9jbGVhbnVwKHN0cnVjdCBpOTE1X2FkZHJlc3Nfc3BhY2UgKnZtKQog
ewotCXN0cnVjdCBnZW42X2h3X3BwZ3R0ICpwcGd0dCA9IHRvX2dlbjZfcHBndHQoaTkxNV92bV90
b19wcGd0dCh2bSkpOworCXN0cnVjdCBnZW42X3BwZ3R0ICpwcGd0dCA9IHRvX2dlbjZfcHBndHQo
aTkxNV92bV90b19wcGd0dCh2bSkpOwogCXN0cnVjdCBnZW42X3BwZ3R0X2NsZWFudXBfd29yayAq
d29yayA9IHBwZ3R0LT53b3JrOwogCiAJLyogRklYTUUgcmVtb3ZlIHRoZSBzdHJ1Y3RfbXV0ZXgg
dG8gYnJpbmcgdGhlIGxvY2tpbmcgdW5kZXIgY29udHJvbCAqLwpAQCAtMTk5Niw3ICsxOTk2LDcg
QEAgc3RhdGljIGludCBwZF92bWFfYmluZChzdHJ1Y3QgaTkxNV92bWEgKnZtYSwKIAkJICAgICAg
IHUzMiB1bnVzZWQpCiB7CiAJc3RydWN0IGk5MTVfZ2d0dCAqZ2d0dCA9IGk5MTVfdm1fdG9fZ2d0
dCh2bWEtPnZtKTsKLQlzdHJ1Y3QgZ2VuNl9od19wcGd0dCAqcHBndHQgPSB2bWEtPnByaXZhdGU7
CisJc3RydWN0IGdlbjZfcHBndHQgKnBwZ3R0ID0gdm1hLT5wcml2YXRlOwogCXUzMiBnZ3R0X29m
ZnNldCA9IGk5MTVfZ2d0dF9vZmZzZXQodm1hKSAvIEk5MTVfR1RUX1BBR0VfU0laRTsKIAlzdHJ1
Y3QgaTkxNV9wYWdlX3RhYmxlICpwdDsKIAl1bnNpZ25lZCBpbnQgcGRlOwpAQCAtMjAxNSw3ICsy
MDE1LDcgQEAgc3RhdGljIGludCBwZF92bWFfYmluZChzdHJ1Y3QgaTkxNV92bWEgKnZtYSwKIAog
c3RhdGljIHZvaWQgcGRfdm1hX3VuYmluZChzdHJ1Y3QgaTkxNV92bWEgKnZtYSkKIHsKLQlzdHJ1
Y3QgZ2VuNl9od19wcGd0dCAqcHBndHQgPSB2bWEtPnByaXZhdGU7CisJc3RydWN0IGdlbjZfcHBn
dHQgKnBwZ3R0ID0gdm1hLT5wcml2YXRlOwogCXN0cnVjdCBpOTE1X3BhZ2VfdGFibGUgKiBjb25z
dCBzY3JhdGNoX3B0ID0gcHBndHQtPmJhc2Uudm0uc2NyYXRjaF9wdDsKIAlzdHJ1Y3QgaTkxNV9w
YWdlX3RhYmxlICpwdDsKIAl1bnNpZ25lZCBpbnQgcGRlOwpAQCAtMjA0Miw3ICsyMDQyLDcgQEAg
c3RhdGljIGNvbnN0IHN0cnVjdCBpOTE1X3ZtYV9vcHMgcGRfdm1hX29wcyA9IHsKIAkudW5iaW5k
X3ZtYSA9IHBkX3ZtYV91bmJpbmQsCiB9OwogCi1zdGF0aWMgc3RydWN0IGk5MTVfdm1hICpwZF92
bWFfY3JlYXRlKHN0cnVjdCBnZW42X2h3X3BwZ3R0ICpwcGd0dCwgaW50IHNpemUpCitzdGF0aWMg
c3RydWN0IGk5MTVfdm1hICpwZF92bWFfY3JlYXRlKHN0cnVjdCBnZW42X3BwZ3R0ICpwcGd0dCwg
aW50IHNpemUpCiB7CiAJc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUgPSBwcGd0dC0+YmFz
ZS52bS5pOTE1OwogCXN0cnVjdCBpOTE1X2dndHQgKmdndHQgPSAmaTkxNS0+Z2d0dDsKQEAgLTIw
NzYsOSArMjA3Niw5IEBAIHN0YXRpYyBzdHJ1Y3QgaTkxNV92bWEgKnBkX3ZtYV9jcmVhdGUoc3Ry
dWN0IGdlbjZfaHdfcHBndHQgKnBwZ3R0LCBpbnQgc2l6ZSkKIAlyZXR1cm4gdm1hOwogfQogCi1p
bnQgZ2VuNl9wcGd0dF9waW4oc3RydWN0IGk5MTVfaHdfcHBndHQgKmJhc2UpCitpbnQgZ2VuNl9w
cGd0dF9waW4oc3RydWN0IGk5MTVfcHBndHQgKmJhc2UpCiB7Ci0Jc3RydWN0IGdlbjZfaHdfcHBn
dHQgKnBwZ3R0ID0gdG9fZ2VuNl9wcGd0dChiYXNlKTsKKwlzdHJ1Y3QgZ2VuNl9wcGd0dCAqcHBn
dHQgPSB0b19nZW42X3BwZ3R0KGJhc2UpOwogCWludCBlcnI7CiAKIAlHRU1fQlVHX09OKHBwZ3R0
LT5iYXNlLnZtLmNsb3NlZCk7CkBAIC0yMTEwLDkgKzIxMTAsOSBAQCBpbnQgZ2VuNl9wcGd0dF9w
aW4oc3RydWN0IGk5MTVfaHdfcHBndHQgKmJhc2UpCiAJcmV0dXJuIGVycjsKIH0KIAotdm9pZCBn
ZW42X3BwZ3R0X3VucGluKHN0cnVjdCBpOTE1X2h3X3BwZ3R0ICpiYXNlKQordm9pZCBnZW42X3Bw
Z3R0X3VucGluKHN0cnVjdCBpOTE1X3BwZ3R0ICpiYXNlKQogewotCXN0cnVjdCBnZW42X2h3X3Bw
Z3R0ICpwcGd0dCA9IHRvX2dlbjZfcHBndHQoYmFzZSk7CisJc3RydWN0IGdlbjZfcHBndHQgKnBw
Z3R0ID0gdG9fZ2VuNl9wcGd0dChiYXNlKTsKIAogCUdFTV9CVUdfT04oIXBwZ3R0LT5waW5fY291
bnQpOwogCWlmICgtLXBwZ3R0LT5waW5fY291bnQpCkBAIC0yMTIxLDkgKzIxMjEsOSBAQCB2b2lk
IGdlbjZfcHBndHRfdW5waW4oc3RydWN0IGk5MTVfaHdfcHBndHQgKmJhc2UpCiAJaTkxNV92bWFf
dW5waW4ocHBndHQtPnZtYSk7CiB9CiAKLXZvaWQgZ2VuNl9wcGd0dF91bnBpbl9hbGwoc3RydWN0
IGk5MTVfaHdfcHBndHQgKmJhc2UpCit2b2lkIGdlbjZfcHBndHRfdW5waW5fYWxsKHN0cnVjdCBp
OTE1X3BwZ3R0ICpiYXNlKQogewotCXN0cnVjdCBnZW42X2h3X3BwZ3R0ICpwcGd0dCA9IHRvX2dl
bjZfcHBndHQoYmFzZSk7CisJc3RydWN0IGdlbjZfcHBndHQgKnBwZ3R0ID0gdG9fZ2VuNl9wcGd0
dChiYXNlKTsKIAogCWlmICghcHBndHQtPnBpbl9jb3VudCkKIAkJcmV0dXJuOwpAQCAtMjEzMiwx
MCArMjEzMiwxMCBAQCB2b2lkIGdlbjZfcHBndHRfdW5waW5fYWxsKHN0cnVjdCBpOTE1X2h3X3Bw
Z3R0ICpiYXNlKQogCWk5MTVfdm1hX3VucGluKHBwZ3R0LT52bWEpOwogfQogCi1zdGF0aWMgc3Ry
dWN0IGk5MTVfaHdfcHBndHQgKmdlbjZfcHBndHRfY3JlYXRlKHN0cnVjdCBkcm1faTkxNV9wcml2
YXRlICppOTE1KQorc3RhdGljIHN0cnVjdCBpOTE1X3BwZ3R0ICpnZW42X3BwZ3R0X2NyZWF0ZShz
dHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSkKIHsKIAlzdHJ1Y3QgaTkxNV9nZ3R0ICogY29u
c3QgZ2d0dCA9ICZpOTE1LT5nZ3R0OwotCXN0cnVjdCBnZW42X2h3X3BwZ3R0ICpwcGd0dDsKKwlz
dHJ1Y3QgZ2VuNl9wcGd0dCAqcHBndHQ7CiAJaW50IGVycjsKIAogCXBwZ3R0ID0ga3phbGxvYyhz
aXplb2YoKnBwZ3R0KSwgR0ZQX0tFUk5FTCk7CkBAIC0yMjI0LDggKzIyMjQsOCBAQCBpbnQgaTkx
NV9wcGd0dF9pbml0X2h3KHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdikKIAlyZXR1
cm4gMDsKIH0KIAotc3RhdGljIHN0cnVjdCBpOTE1X2h3X3BwZ3R0ICoKLV9faHdfcHBndHRfY3Jl
YXRlKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICppOTE1KQorc3RhdGljIHN0cnVjdCBpOTE1X3Bw
Z3R0ICoKK19fcHBndHRfY3JlYXRlKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICppOTE1KQogewog
CWlmIChJTlRFTF9HRU4oaTkxNSkgPCA4KQogCQlyZXR1cm4gZ2VuNl9wcGd0dF9jcmVhdGUoaTkx
NSk7CkBAIC0yMjMzLDEyICsyMjMzLDEyIEBAIF9faHdfcHBndHRfY3JlYXRlKHN0cnVjdCBkcm1f
aTkxNV9wcml2YXRlICppOTE1KQogCQlyZXR1cm4gZ2VuOF9wcGd0dF9jcmVhdGUoaTkxNSk7CiB9
CiAKLXN0cnVjdCBpOTE1X2h3X3BwZ3R0ICoKK3N0cnVjdCBpOTE1X3BwZ3R0ICoKIGk5MTVfcHBn
dHRfY3JlYXRlKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICppOTE1KQogewotCXN0cnVjdCBpOTE1
X2h3X3BwZ3R0ICpwcGd0dDsKKwlzdHJ1Y3QgaTkxNV9wcGd0dCAqcHBndHQ7CiAKLQlwcGd0dCA9
IF9faHdfcHBndHRfY3JlYXRlKGk5MTUpOworCXBwZ3R0ID0gX19wcGd0dF9jcmVhdGUoaTkxNSk7
CiAJaWYgKElTX0VSUihwcGd0dCkpCiAJCXJldHVybiBwcGd0dDsKIApAQCAtMjcxMyw3ICsyNzEz
LDcgQEAgc3RhdGljIGludCBhbGlhc2luZ19ndHRfYmluZF92bWEoc3RydWN0IGk5MTVfdm1hICp2
bWEsCiAJCXB0ZV9mbGFncyB8PSBQVEVfUkVBRF9PTkxZOwogCiAJaWYgKGZsYWdzICYgSTkxNV9W
TUFfTE9DQUxfQklORCkgewotCQlzdHJ1Y3QgaTkxNV9od19wcGd0dCAqYXBwZ3R0ID0gaTkxNS0+
bW0uYWxpYXNpbmdfcHBndHQ7CisJCXN0cnVjdCBpOTE1X3BwZ3R0ICphcHBndHQgPSBpOTE1LT5t
bS5hbGlhc2luZ19wcGd0dDsKIAogCQlpZiAoISh2bWEtPmZsYWdzICYgSTkxNV9WTUFfTE9DQUxf
QklORCkpIHsKIAkJCXJldCA9IGFwcGd0dC0+dm0uYWxsb2NhdGVfdmFfcmFuZ2UoJmFwcGd0dC0+
dm0sCkBAIC0yODEyLDcgKzI4MTIsNyBAQCBzdGF0aWMgdm9pZCBpOTE1X2d0dF9jb2xvcl9hZGp1
c3QoY29uc3Qgc3RydWN0IGRybV9tbV9ub2RlICpub2RlLAogaW50IGk5MTVfZ2VtX2luaXRfYWxp
YXNpbmdfcHBndHQoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUpCiB7CiAJc3RydWN0IGk5
MTVfZ2d0dCAqZ2d0dCA9ICZpOTE1LT5nZ3R0OwotCXN0cnVjdCBpOTE1X2h3X3BwZ3R0ICpwcGd0
dDsKKwlzdHJ1Y3QgaTkxNV9wcGd0dCAqcHBndHQ7CiAJaW50IGVycjsKIAogCXBwZ3R0ID0gaTkx
NV9wcGd0dF9jcmVhdGUoaTkxNSk7CkBAIC0yODUyLDcgKzI4NTIsNyBAQCBpbnQgaTkxNV9nZW1f
aW5pdF9hbGlhc2luZ19wcGd0dChzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSkKIHZvaWQg
aTkxNV9nZW1fZmluaV9hbGlhc2luZ19wcGd0dChzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkx
NSkKIHsKIAlzdHJ1Y3QgaTkxNV9nZ3R0ICpnZ3R0ID0gJmk5MTUtPmdndHQ7Ci0Jc3RydWN0IGk5
MTVfaHdfcHBndHQgKnBwZ3R0OworCXN0cnVjdCBpOTE1X3BwZ3R0ICpwcGd0dDsKIAogCXBwZ3R0
ID0gZmV0Y2hfYW5kX3plcm8oJmk5MTUtPm1tLmFsaWFzaW5nX3BwZ3R0KTsKIAlpZiAoIXBwZ3R0
KQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9nZW1fZ3R0LmggYi9kcml2
ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2dlbV9ndHQuaAppbmRleCAyOTkyOGI1OGEzY2UuLmY0M2Zl
MThhY2Y5YiAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9nZW1fZ3R0LmgK
KysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9nZW1fZ3R0LmgKQEAgLTQxMiw3ICs0MTIs
NyBAQCBzdHJ1Y3QgaTkxNV9nZ3R0IHsKIAlzdHJ1Y3QgZHJtX21tX25vZGUgdWNfZnc7CiB9Owog
Ci1zdHJ1Y3QgaTkxNV9od19wcGd0dCB7CitzdHJ1Y3QgaTkxNV9wcGd0dCB7CiAJc3RydWN0IGk5
MTVfYWRkcmVzc19zcGFjZSB2bTsKIAogCWludGVsX2VuZ2luZV9tYXNrX3QgcGRfZGlydHlfZW5n
aW5lczsKQEAgLTQyMyw4ICs0MjMsOCBAQCBzdHJ1Y3QgaTkxNV9od19wcGd0dCB7CiAJfTsKIH07
CiAKLXN0cnVjdCBnZW42X2h3X3BwZ3R0IHsKLQlzdHJ1Y3QgaTkxNV9od19wcGd0dCBiYXNlOwor
c3RydWN0IGdlbjZfcHBndHQgeworCXN0cnVjdCBpOTE1X3BwZ3R0IGJhc2U7CiAKIAlzdHJ1Y3Qg
aTkxNV92bWEgKnZtYTsKIAlnZW42X3B0ZV90IF9faW9tZW0gKnBkX2FkZHI7CkBAIC00MzUsMTEg
KzQzNSwxMSBAQCBzdHJ1Y3QgZ2VuNl9od19wcGd0dCB7CiAJc3RydWN0IGdlbjZfcHBndHRfY2xl
YW51cF93b3JrICp3b3JrOwogfTsKIAotI2RlZmluZSBfX3RvX2dlbjZfcHBndHQoYmFzZSkgY29u
dGFpbmVyX29mKGJhc2UsIHN0cnVjdCBnZW42X2h3X3BwZ3R0LCBiYXNlKQorI2RlZmluZSBfX3Rv
X2dlbjZfcHBndHQoYmFzZSkgY29udGFpbmVyX29mKGJhc2UsIHN0cnVjdCBnZW42X3BwZ3R0LCBi
YXNlKQogCi1zdGF0aWMgaW5saW5lIHN0cnVjdCBnZW42X2h3X3BwZ3R0ICp0b19nZW42X3BwZ3R0
KHN0cnVjdCBpOTE1X2h3X3BwZ3R0ICpiYXNlKQorc3RhdGljIGlubGluZSBzdHJ1Y3QgZ2VuNl9w
cGd0dCAqdG9fZ2VuNl9wcGd0dChzdHJ1Y3QgaTkxNV9wcGd0dCAqYmFzZSkKIHsKLQlCVUlMRF9C
VUdfT04ob2Zmc2V0b2Yoc3RydWN0IGdlbjZfaHdfcHBndHQsIGJhc2UpKTsKKwlCVUlMRF9CVUdf
T04ob2Zmc2V0b2Yoc3RydWN0IGdlbjZfcHBndHQsIGJhc2UpKTsKIAlyZXR1cm4gX190b19nZW42
X3BwZ3R0KGJhc2UpOwogfQogCkBAIC01NzUsNyArNTc1LDcgQEAgc3RhdGljIGlubGluZSB1NjQg
Z2VuOF9wdGVfY291bnQodTY0IGFkZHJlc3MsIHU2NCBsZW5ndGgpCiB9CiAKIHN0YXRpYyBpbmxp
bmUgZG1hX2FkZHJfdAotaTkxNV9wYWdlX2Rpcl9kbWFfYWRkcihjb25zdCBzdHJ1Y3QgaTkxNV9o
d19wcGd0dCAqcHBndHQsIGNvbnN0IHVuc2lnbmVkIG4pCitpOTE1X3BhZ2VfZGlyX2RtYV9hZGRy
KGNvbnN0IHN0cnVjdCBpOTE1X3BwZ3R0ICpwcGd0dCwgY29uc3QgdW5zaWduZWQgaW50IG4pCiB7
CiAJcmV0dXJuIHB4X2RtYShwcGd0dC0+cGRwLnBhZ2VfZGlyZWN0b3J5W25dKTsKIH0KQEAgLTU4
OCwxMiArNTg4LDEyIEBAIGk5MTVfdm1fdG9fZ2d0dChzdHJ1Y3QgaTkxNV9hZGRyZXNzX3NwYWNl
ICp2bSkKIAlyZXR1cm4gY29udGFpbmVyX29mKHZtLCBzdHJ1Y3QgaTkxNV9nZ3R0LCB2bSk7CiB9
CiAKLXN0YXRpYyBpbmxpbmUgc3RydWN0IGk5MTVfaHdfcHBndHQgKgorc3RhdGljIGlubGluZSBz
dHJ1Y3QgaTkxNV9wcGd0dCAqCiBpOTE1X3ZtX3RvX3BwZ3R0KHN0cnVjdCBpOTE1X2FkZHJlc3Nf
c3BhY2UgKnZtKQogewotCUJVSUxEX0JVR19PTihvZmZzZXRvZihzdHJ1Y3QgaTkxNV9od19wcGd0
dCwgdm0pKTsKKwlCVUlMRF9CVUdfT04ob2Zmc2V0b2Yoc3RydWN0IGk5MTVfcHBndHQsIHZtKSk7
CiAJR0VNX0JVR19PTihpOTE1X2lzX2dndHQodm0pKTsKLQlyZXR1cm4gY29udGFpbmVyX29mKHZt
LCBzdHJ1Y3QgaTkxNV9od19wcGd0dCwgdm0pOworCXJldHVybiBjb250YWluZXJfb2Yodm0sIHN0
cnVjdCBpOTE1X3BwZ3R0LCB2bSk7CiB9CiAKICNkZWZpbmUgSU5URUxfTUFYX1BQQVRfRU5UUklF
UyA4CkBAIC02NDAsNyArNjQwLDcgQEAgdm9pZCBpOTE1X2dndHRfY2xlYW51cF9odyhzdHJ1Y3Qg
ZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYpOwogCiBpbnQgaTkxNV9wcGd0dF9pbml0X2h3KHN0
cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdik7CiAKLXN0cnVjdCBpOTE1X2h3X3BwZ3R0
ICppOTE1X3BwZ3R0X2NyZWF0ZShzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYpOwor
c3RydWN0IGk5MTVfcHBndHQgKmk5MTVfcHBndHRfY3JlYXRlKHN0cnVjdCBkcm1faTkxNV9wcml2
YXRlICpkZXZfcHJpdik7CiAKIHN0YXRpYyBpbmxpbmUgc3RydWN0IGk5MTVfYWRkcmVzc19zcGFj
ZSAqCiBpOTE1X3ZtX2dldChzdHJ1Y3QgaTkxNV9hZGRyZXNzX3NwYWNlICp2bSkKQEAgLTY1Niw5
ICs2NTYsOSBAQCBzdGF0aWMgaW5saW5lIHZvaWQgaTkxNV92bV9wdXQoc3RydWN0IGk5MTVfYWRk
cmVzc19zcGFjZSAqdm0pCiAJa3JlZl9wdXQoJnZtLT5yZWYsIGk5MTVfdm1fcmVsZWFzZSk7CiB9
CiAKLWludCBnZW42X3BwZ3R0X3BpbihzdHJ1Y3QgaTkxNV9od19wcGd0dCAqYmFzZSk7Ci12b2lk
IGdlbjZfcHBndHRfdW5waW4oc3RydWN0IGk5MTVfaHdfcHBndHQgKmJhc2UpOwotdm9pZCBnZW42
X3BwZ3R0X3VucGluX2FsbChzdHJ1Y3QgaTkxNV9od19wcGd0dCAqYmFzZSk7CitpbnQgZ2VuNl9w
cGd0dF9waW4oc3RydWN0IGk5MTVfcHBndHQgKmJhc2UpOwordm9pZCBnZW42X3BwZ3R0X3VucGlu
KHN0cnVjdCBpOTE1X3BwZ3R0ICpiYXNlKTsKK3ZvaWQgZ2VuNl9wcGd0dF91bnBpbl9hbGwoc3Ry
dWN0IGk5MTVfcHBndHQgKmJhc2UpOwogCiB2b2lkIGk5MTVfY2hlY2tfYW5kX2NsZWFyX2ZhdWx0
cyhzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYpOwogdm9pZCBpOTE1X2dlbV9zdXNw
ZW5kX2d0dF9tYXBwaW5ncyhzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYpOwpkaWZm
IC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvc2VsZnRlc3RzL2k5MTVfZ2VtX2d0dC5jIGIv
ZHJpdmVycy9ncHUvZHJtL2k5MTUvc2VsZnRlc3RzL2k5MTVfZ2VtX2d0dC5jCmluZGV4IDhlNDE1
YjgxZTY2Yi4uMjA5M2QwOGE3NTY5IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9z
ZWxmdGVzdHMvaTkxNV9nZW1fZ3R0LmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvc2VsZnRl
c3RzL2k5MTVfZ2VtX2d0dC5jCkBAIC0xNDgsNyArMTQ4LDcgQEAgZmFrZV9kbWFfb2JqZWN0KHN0
cnVjdCBkcm1faTkxNV9wcml2YXRlICppOTE1LCB1NjQgc2l6ZSkKIHN0YXRpYyBpbnQgaWd0X3Bw
Z3R0X2FsbG9jKHZvaWQgKmFyZykKIHsKIAlzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3By
aXYgPSBhcmc7Ci0Jc3RydWN0IGk5MTVfaHdfcHBndHQgKnBwZ3R0OworCXN0cnVjdCBpOTE1X3Bw
Z3R0ICpwcGd0dDsKIAl1NjQgc2l6ZSwgbGFzdCwgbGltaXQ7CiAJaW50IGVyciA9IDA7CiAKQEAg
LTE1Nyw3ICsxNTcsNyBAQCBzdGF0aWMgaW50IGlndF9wcGd0dF9hbGxvYyh2b2lkICphcmcpCiAJ
aWYgKCFIQVNfUFBHVFQoZGV2X3ByaXYpKQogCQlyZXR1cm4gMDsKIAotCXBwZ3R0ID0gX19od19w
cGd0dF9jcmVhdGUoZGV2X3ByaXYpOworCXBwZ3R0ID0gX19wcGd0dF9jcmVhdGUoZGV2X3ByaXYp
OwogCWlmIChJU19FUlIocHBndHQpKQogCQlyZXR1cm4gUFRSX0VSUihwcGd0dCk7CiAKQEAgLTk5
OSw3ICs5OTksNyBAQCBzdGF0aWMgaW50IGV4ZXJjaXNlX3BwZ3R0KHN0cnVjdCBkcm1faTkxNV9w
cml2YXRlICpkZXZfcHJpdiwKIAkJCQkgICAgICB1bnNpZ25lZCBsb25nIGVuZF90aW1lKSkKIHsK
IAlzdHJ1Y3QgZHJtX2ZpbGUgKmZpbGU7Ci0Jc3RydWN0IGk5MTVfaHdfcHBndHQgKnBwZ3R0Owor
CXN0cnVjdCBpOTE1X3BwZ3R0ICpwcGd0dDsKIAlJR1RfVElNRU9VVChlbmRfdGltZSk7CiAJaW50
IGVycjsKIApkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvc2VsZnRlc3RzL21vY2tf
Z3R0LmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9zZWxmdGVzdHMvbW9ja19ndHQuYwppbmRleCA5
ZTYxYzJmMDZjYzkuLmE1NjUzNzdkNDVkMyAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5
MTUvc2VsZnRlc3RzL21vY2tfZ3R0LmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvc2VsZnRl
c3RzL21vY2tfZ3R0LmMKQEAgLTU1LDE3ICs1NSwxNCBAQCBzdGF0aWMgdm9pZCBtb2NrX2NsZWFu
dXAoc3RydWN0IGk5MTVfYWRkcmVzc19zcGFjZSAqdm0pCiB7CiB9CiAKLXN0cnVjdCBpOTE1X2h3
X3BwZ3R0ICoKLW1vY2tfcHBndHQoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUsCi0JICAg
Y29uc3QgY2hhciAqbmFtZSkKK3N0cnVjdCBpOTE1X3BwZ3R0ICptb2NrX3BwZ3R0KHN0cnVjdCBk
cm1faTkxNV9wcml2YXRlICppOTE1LCBjb25zdCBjaGFyICpuYW1lKQogewotCXN0cnVjdCBpOTE1
X2h3X3BwZ3R0ICpwcGd0dDsKKwlzdHJ1Y3QgaTkxNV9wcGd0dCAqcHBndHQ7CiAKIAlwcGd0dCA9
IGt6YWxsb2Moc2l6ZW9mKCpwcGd0dCksIEdGUF9LRVJORUwpOwogCWlmICghcHBndHQpCiAJCXJl
dHVybiBOVUxMOwogCi0JcHBndHQtPnZtLmk5MTUgPSBpOTE1OwogCXBwZ3R0LT52bS50b3RhbCA9
IHJvdW5kX2Rvd24oVTY0X01BWCwgUEFHRV9TSVpFKTsKIAlwcGd0dC0+dm0uZmlsZSA9IEVSUl9Q
VFIoLUVOT0RFVik7CiAKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L3NlbGZ0ZXN0
cy9tb2NrX2d0dC5oIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvc2VsZnRlc3RzL21vY2tfZ3R0LmgK
aW5kZXggNDBkNTQ0YmRlMWQ1Li4zMzg3MzkzMjg2ZGUgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1
L2RybS9pOTE1L3NlbGZ0ZXN0cy9tb2NrX2d0dC5oCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1
L3NlbGZ0ZXN0cy9tb2NrX2d0dC5oCkBAIC0yOCw4ICsyOCw2IEBACiB2b2lkIG1vY2tfaW5pdF9n
Z3R0KHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICppOTE1LCBzdHJ1Y3QgaTkxNV9nZ3R0ICpnZ3R0
KTsKIHZvaWQgbW9ja19maW5pX2dndHQoc3RydWN0IGk5MTVfZ2d0dCAqZ2d0dCk7CiAKLXN0cnVj
dCBpOTE1X2h3X3BwZ3R0ICoKLW1vY2tfcHBndHQoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5
MTUsCi0JICAgY29uc3QgY2hhciAqbmFtZSk7CitzdHJ1Y3QgaTkxNV9wcGd0dCAqbW9ja19wcGd0
dChzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSwgY29uc3QgY2hhciAqbmFtZSk7CiAKICNl
bmRpZiAvKiAhX19NT0NLX0dUVF9IICovCi0tIAoyLjIwLjEKCl9fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fCkludGVsLWdmeCBtYWlsaW5nIGxpc3QKSW50ZWwt
Z2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9t
YWlsbWFuL2xpc3RpbmZvL2ludGVsLWdmeA==

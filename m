Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id DF99D1732A
	for <lists+intel-gfx@lfdr.de>; Wed,  8 May 2019 10:07:59 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id A74A5893B9;
	Wed,  8 May 2019 08:07:49 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from fireflyinternet.com (mail.fireflyinternet.com [109.228.58.192])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 75156893B9
 for <intel-gfx@lists.freedesktop.org>; Wed,  8 May 2019 08:07:47 +0000 (UTC)
X-Default-Received-SPF: pass (skip=forwardok (res=PASS))
 x-ip-name=78.156.65.138; 
Received: from haswell.alporthouse.com (unverified [78.156.65.138]) 
 by fireflyinternet.com (Firefly Internet (M1)) with ESMTP id 16485907-1500050 
 for multiple; Wed, 08 May 2019 09:07:07 +0100
From: Chris Wilson <chris@chris-wilson.co.uk>
To: intel-gfx@lists.freedesktop.org
Date: Wed,  8 May 2019 09:06:31 +0100
Message-Id: <20190508080704.24223-7-chris@chris-wilson.co.uk>
X-Mailer: git-send-email 2.20.1
In-Reply-To: <20190508080704.24223-1-chris@chris-wilson.co.uk>
References: <20190508080704.24223-1-chris@chris-wilson.co.uk>
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH 07/40] drm/i915: Seal races between async GPU
 cancellation, retirement and signaling
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

Q3VycmVudGx5IHRoZXJlIGlzIGFuIHVuZGVybHlpbmcgYXNzdW1wdGlvbiB0aGF0IGk5MTVfcmVx
dWVzdF91bnN1Ym1pdCgpCmlzIHN5bmNocm9ub3VzIHdydCB0aGUgR1BVIC0tIHRoYXQgaXMgdGhl
IHJlcXVlc3QgaXMgbm8gbG9uZ2VyIGluIGZsaWdodAphcyB3ZSByZW1vdmUgaXQuIEluIHRoZSBu
ZWFyIGZ1dHVyZSB0aGF0IG1heSBjaGFuZ2UsIGFuZCB0aGlzIG1heSB1cHNldApvdXIgc2lnbmFs
aW5nIGFzIHdlIGNhbiBwcm9jZXNzIGFuIGludGVycnVwdCBmb3IgdGhhdCByZXF1ZXN0IHdoaWxl
IGl0CmlzIG5vIGxvbmdlciBpbiBmbGlnaHQuCgpDUFUwCQkJCQlDUFUxCmludGVsX2VuZ2luZV9i
cmVhZGNydW1ic19pcnEKKHF1ZXVlIHJlcXVlc3QgY29tcGxldGlvbikKCQkJCQlpOTE1X3JlcXVl
c3RfY2FuY2VsX3NpZ25hbGluZwouLi4JCQkJCS4uLgoJCQkJCWk5MTVfcmVxdWVzdF9lbmFibGVf
c2lnbmFsaW5nCmRtYV9mZW5jZV9zaWduYWwKCkhlbmNlIGluIHRoZSB0aW1lIGl0IHRvb2sgdXMg
dG8gZHJvcCB0aGUgbG9jayB0byBzaWduYWwgdGhlIHJlcXVlc3QsIGEKcHJlZW1wdGlvbiBldmVu
dCBtYXkgaGF2ZSBvY2N1cnJlZCBhbmQgcmUtcXVldWVkIHRoZSByZXF1ZXN0LiBJbiB0aGUKcHJv
Y2VzcywgdGhhdCByZXF1ZXN0IHdvdWxkIGhhdmUgc2VlbiBJOTE1X0ZFTkNFX0ZMQUdfU0lHTkFM
IGNsZWFyIGFuZApzbyByZXVzZWQgdGhlIHJxLT5zaWduYWxfbGluayB0aGF0IHdhcyBpbiB1c2Ug
b24gQ1BVMCwgbGVhZGluZyB0byBiYWQKcG9pbnRlciBjaGFzaW5nIGluIGludGVsX2VuZ2luZV9i
cmVhZGNydW1ic19pcnEuCgpBIHJlbGF0ZWQgaXNzdWUgd2FzIHRoYXQgaWYgc29tZW9uZSBzdGFy
dGVkIGxpc3RlbmluZyBmb3IgYSBzaWduYWwgb24gYQpjb21wbGV0ZWQgYnV0IG5vIGxvbmdlciBp
bi1mbGlnaHQgcmVxdWVzdCwgd2UgbWlzc2VkIHRoZSBvcHBvcnR1bml0eSB0bwppbW1lZGlhdGVs
eSBzaWduYWwgdGhhdCByZXF1ZXN0LgoKRnVydGhlcm1vcmUsIGFzIGludGVsX2NvbnRleHRzIG1h
eSBiZSBpbW1lZGlhdGVseSByZWxlYXNlZCBkdXJpbmcKcmVxdWVzdCByZXRpcmVtZW50LCBpbiBv
cmRlciB0byBiZSBlbnRpcmVseSBzdXJlIHRoYXQKaW50ZWxfZW5naW5lX2JyZWFkY3J1bWJzX2ly
cSBtYXkgbm8gbG9uZ2VyIGRlcmVmZXJlbmNlIHRoZSBpbnRlbF9jb250ZXh0CihjZS0+c2lnbmFs
cyBhbmQgY2UtPnNpZ25hbF9saW5rKSwgd2UgbXVzdCB3YWl0IGZvciBpcnEgc3BpbmxvY2suCgpJ
biBvcmRlciB0byBwcmV2ZW50IHRoZSByYWNlLCB3ZSB1c2UgYSBiaXQgaW4gdGhlIGZlbmNlLmZs
YWdzIHRvIHNpZ25hbAp0aGUgdHJhbnNmZXIgb250byB0aGUgc2lnbmFsIGxpc3QgaW5zaWRlIGlu
dGVsX2VuZ2luZV9icmVhZGNydW1ic19pcnEuCkZvciBzaW1wbGljaXR5LCB3ZSB1c2UgdGhlIERN
QV9GRU5DRV9GTEFHX1NJR05BTEVEX0JJVCBhcyBpdCB0aGVuCnF1aWNrbHkgc2lnbmFscyB0byBh
bnkgb3V0c2lkZSBvYnNlcnZlciB0aGF0IHRoZSBmZW5jZSBpcyBpbmRlZWQgc2lnbmFsZWQuCgp2
MjogU2tldGNoIG91dCBwb3RlbnRpYWwgZG1hLWZlbmNlIEFQSSBmb3IgbWFudWFsIHNpZ25hbGlu
ZwoKRml4ZXM6IDUyYzBmZGIyNWM3YyAoImRybS9pOTE1OiBSZXBsYWNlIGdsb2JhbCBicmVhZGNy
dW1icyB3aXRoIHBlci1jb250ZXh0IGludGVycnVwdCB0cmFja2luZyIpClNpZ25lZC1vZmYtYnk6
IENocmlzIFdpbHNvbiA8Y2hyaXNAY2hyaXMtd2lsc29uLmNvLnVrPgpDYzogVHZydGtvIFVyc3Vs
aW4gPHR2cnRrby51cnN1bGluQGludGVsLmNvbT4KLS0tCiBkcml2ZXJzL2RtYS1idWYvZG1hLWZl
bmNlLmMgICAgICAgICAgICAgICAgIHwgIDEgKwogZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50
ZWxfYnJlYWRjcnVtYnMuYyB8IDcwICsrKysrKysrKysrKysrLS0tLS0tLQogZHJpdmVycy9ncHUv
ZHJtL2k5MTUvaTkxNV9yZXF1ZXN0LmMgICAgICAgICB8ICAxICsKIGRyaXZlcnMvZ3B1L2RybS9p
OTE1L2ludGVsX2d1Y19zdWJtaXNzaW9uLmMgfCAgMSAtCiA0IGZpbGVzIGNoYW5nZWQsIDUxIGlu
c2VydGlvbnMoKyksIDIyIGRlbGV0aW9ucygtKQoKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZG1hLWJ1
Zi9kbWEtZmVuY2UuYyBiL2RyaXZlcnMvZG1hLWJ1Zi9kbWEtZmVuY2UuYwppbmRleCAzYWE4NzMz
ZjgzMmEuLjliZjA2MDQyNjE5YSAxMDA2NDQKLS0tIGEvZHJpdmVycy9kbWEtYnVmL2RtYS1mZW5j
ZS5jCisrKyBiL2RyaXZlcnMvZG1hLWJ1Zi9kbWEtZmVuY2UuYwpAQCAtMjksNiArMjksNyBAQAog
CiBFWFBPUlRfVFJBQ0VQT0lOVF9TWU1CT0woZG1hX2ZlbmNlX2VtaXQpOwogRVhQT1JUX1RSQUNF
UE9JTlRfU1lNQk9MKGRtYV9mZW5jZV9lbmFibGVfc2lnbmFsKTsKK0VYUE9SVF9UUkFDRVBPSU5U
X1NZTUJPTChkbWFfZmVuY2Vfc2lnbmFsZWQpOwogCiBzdGF0aWMgREVGSU5FX1NQSU5MT0NLKGRt
YV9mZW5jZV9zdHViX2xvY2spOwogc3RhdGljIHN0cnVjdCBkbWFfZmVuY2UgZG1hX2ZlbmNlX3N0
dWI7CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9icmVhZGNydW1i
cy5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfYnJlYWRjcnVtYnMuYwppbmRleCBm
ZTQ1NWYwMWFhNjUuLjcwNTNhOTBlNWNiNSAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5
MTUvZ3QvaW50ZWxfYnJlYWRjcnVtYnMuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9p
bnRlbF9icmVhZGNydW1icy5jCkBAIC0yMyw2ICsyMyw3IEBACiAgKi8KIAogI2luY2x1ZGUgPGxp
bnV4L2t0aHJlYWQuaD4KKyNpbmNsdWRlIDx0cmFjZS9ldmVudHMvZG1hX2ZlbmNlLmg+CiAjaW5j
bHVkZSA8dWFwaS9saW51eC9zY2hlZC90eXBlcy5oPgogCiAjaW5jbHVkZSAiaTkxNV9kcnYuaCIK
QEAgLTk2LDkgKzk3LDMwIEBAIGNoZWNrX3NpZ25hbF9vcmRlcihzdHJ1Y3QgaW50ZWxfY29udGV4
dCAqY2UsIHN0cnVjdCBpOTE1X3JlcXVlc3QgKnJxKQogCXJldHVybiB0cnVlOwogfQogCitzdGF0
aWMgdm9pZAorX19kbWFfZmVuY2Vfc2lnbmFsX3RpbWVzdGFtcChzdHJ1Y3QgZG1hX2ZlbmNlICpm
ZW5jZSwga3RpbWVfdCB0aW1lc3RhbXApCit7CisJZmVuY2UtPnRpbWVzdGFtcCA9IHRpbWVzdGFt
cDsKKwlzZXRfYml0KERNQV9GRU5DRV9GTEFHX1RJTUVTVEFNUF9CSVQsICZmZW5jZS0+ZmxhZ3Mp
OworCXRyYWNlX2RtYV9mZW5jZV9zaWduYWxlZChmZW5jZSk7Cit9CisKK3N0YXRpYyB2b2lkCitf
X2RtYV9mZW5jZV9zaWduYWxfbm90aWZ5KHN0cnVjdCBkbWFfZmVuY2UgKmZlbmNlKQoreworCXN0
cnVjdCBkbWFfZmVuY2VfY2IgKmN1ciwgKnRtcDsKKworCWxpc3RfZm9yX2VhY2hfZW50cnlfc2Fm
ZShjdXIsIHRtcCwgJmZlbmNlLT5jYl9saXN0LCBub2RlKSB7CisJCUlOSVRfTElTVF9IRUFEKCZj
dXItPm5vZGUpOworCQljdXItPmZ1bmMoZmVuY2UsIGN1cik7CisJfQorCUlOSVRfTElTVF9IRUFE
KCZmZW5jZS0+Y2JfbGlzdCk7Cit9CisKIHZvaWQgaW50ZWxfZW5naW5lX2JyZWFkY3J1bWJzX2ly
cShzdHJ1Y3QgaW50ZWxfZW5naW5lX2NzICplbmdpbmUpCiB7CiAJc3RydWN0IGludGVsX2JyZWFk
Y3J1bWJzICpiID0gJmVuZ2luZS0+YnJlYWRjcnVtYnM7CisJY29uc3Qga3RpbWVfdCB0aW1lc3Rh
bXAgPSBrdGltZV9nZXQoKTsKIAlzdHJ1Y3QgaW50ZWxfY29udGV4dCAqY2UsICpjbjsKIAlzdHJ1
Y3QgbGlzdF9oZWFkICpwb3MsICpuZXh0OwogCUxJU1RfSEVBRChzaWduYWwpOwpAQCAtMTIyLDYg
KzE0NCwxMSBAQCB2b2lkIGludGVsX2VuZ2luZV9icmVhZGNydW1ic19pcnEoc3RydWN0IGludGVs
X2VuZ2luZV9jcyAqZW5naW5lKQogCiAJCQlHRU1fQlVHX09OKCF0ZXN0X2JpdChJOTE1X0ZFTkNF
X0ZMQUdfU0lHTkFMLAogCQkJCQkgICAgICZycS0+ZmVuY2UuZmxhZ3MpKTsKKwkJCWNsZWFyX2Jp
dChJOTE1X0ZFTkNFX0ZMQUdfU0lHTkFMLCAmcnEtPmZlbmNlLmZsYWdzKTsKKworCQkJaWYgKHRl
c3RfYW5kX3NldF9iaXQoRE1BX0ZFTkNFX0ZMQUdfU0lHTkFMRURfQklULAorCQkJCQkgICAgICZy
cS0+ZmVuY2UuZmxhZ3MpKQorCQkJCWNvbnRpbnVlOwogCiAJCQkvKgogCQkJICogUXVldWUgZm9y
IGV4ZWN1dGlvbiBhZnRlciBkcm9wcGluZyB0aGUgc2lnbmFsaW5nCkBAIC0xMjksMTQgKzE1Niw2
IEBAIHZvaWQgaW50ZWxfZW5naW5lX2JyZWFkY3J1bWJzX2lycShzdHJ1Y3QgaW50ZWxfZW5naW5l
X2NzICplbmdpbmUpCiAJCQkgKiBtb3JlIHNpZ25hbGVycyB0byB0aGUgc2FtZSBjb250ZXh0IG9y
IGVuZ2luZS4KIAkJCSAqLwogCQkJaTkxNV9yZXF1ZXN0X2dldChycSk7Ci0KLQkJCS8qCi0JCQkg
KiBXZSBtYXkgcmFjZSB3aXRoIGRpcmVjdCBpbnZvY2F0aW9uIG9mCi0JCQkgKiBkbWFfZmVuY2Vf
c2lnbmFsKCksIGUuZy4gaTkxNV9yZXF1ZXN0X3JldGlyZSgpLAotCQkJICogc28gd2UgbmVlZCB0
byBhY3F1aXJlIG91ciByZWZlcmVuY2UgdG8gdGhlIHJlcXVlc3QKLQkJCSAqIGJlZm9yZSB3ZSBj
YW5jZWwgdGhlIGJyZWFkY3J1bWIuCi0JCQkgKi8KLQkJCWNsZWFyX2JpdChJOTE1X0ZFTkNFX0ZM
QUdfU0lHTkFMLCAmcnEtPmZlbmNlLmZsYWdzKTsKIAkJCWxpc3RfYWRkX3RhaWwoJnJxLT5zaWdu
YWxfbGluaywgJnNpZ25hbCk7CiAJCX0KIApAQCAtMTU5LDcgKzE3OCwxMiBAQCB2b2lkIGludGVs
X2VuZ2luZV9icmVhZGNydW1ic19pcnEoc3RydWN0IGludGVsX2VuZ2luZV9jcyAqZW5naW5lKQog
CQlzdHJ1Y3QgaTkxNV9yZXF1ZXN0ICpycSA9CiAJCQlsaXN0X2VudHJ5KHBvcywgdHlwZW9mKCpy
cSksIHNpZ25hbF9saW5rKTsKIAotCQlkbWFfZmVuY2Vfc2lnbmFsKCZycS0+ZmVuY2UpOworCQlf
X2RtYV9mZW5jZV9zaWduYWxfdGltZXN0YW1wKCZycS0+ZmVuY2UsIHRpbWVzdGFtcCk7CisKKwkJ
c3Bpbl9sb2NrKCZycS0+bG9jayk7CisJCV9fZG1hX2ZlbmNlX3NpZ25hbF9ub3RpZnkoJnJxLT5m
ZW5jZSk7CisJCXNwaW5fdW5sb2NrKCZycS0+bG9jayk7CisKIAkJaTkxNV9yZXF1ZXN0X3B1dChy
cSk7CiAJfQogfQpAQCAtMjYxLDE5ICsyODUsMTcgQEAgdm9pZCBpbnRlbF9lbmdpbmVfZmluaV9i
cmVhZGNydW1icyhzdHJ1Y3QgaW50ZWxfZW5naW5lX2NzICplbmdpbmUpCiAKIGJvb2wgaTkxNV9y
ZXF1ZXN0X2VuYWJsZV9icmVhZGNydW1iKHN0cnVjdCBpOTE1X3JlcXVlc3QgKnJxKQogewotCXN0
cnVjdCBpbnRlbF9icmVhZGNydW1icyAqYiA9ICZycS0+ZW5naW5lLT5icmVhZGNydW1iczsKLQot
CUdFTV9CVUdfT04odGVzdF9iaXQoSTkxNV9GRU5DRV9GTEFHX1NJR05BTCwgJnJxLT5mZW5jZS5m
bGFncykpOwotCi0JaWYgKCF0ZXN0X2JpdChJOTE1X0ZFTkNFX0ZMQUdfQUNUSVZFLCAmcnEtPmZl
bmNlLmZsYWdzKSkKLQkJcmV0dXJuIHRydWU7CisJbG9ja2RlcF9hc3NlcnRfaGVsZCgmcnEtPmxv
Y2spOworCWxvY2tkZXBfYXNzZXJ0X2lycXNfZGlzYWJsZWQoKTsKIAotCXNwaW5fbG9jaygmYi0+
aXJxX2xvY2spOwotCWlmICh0ZXN0X2JpdChJOTE1X0ZFTkNFX0ZMQUdfQUNUSVZFLCAmcnEtPmZl
bmNlLmZsYWdzKSAmJgotCSAgICAhX19yZXF1ZXN0X2NvbXBsZXRlZChycSkpIHsKKwlpZiAodGVz
dF9iaXQoSTkxNV9GRU5DRV9GTEFHX0FDVElWRSwgJnJxLT5mZW5jZS5mbGFncykpIHsKKwkJc3Ry
dWN0IGludGVsX2JyZWFkY3J1bWJzICpiID0gJnJxLT5lbmdpbmUtPmJyZWFkY3J1bWJzOwogCQlz
dHJ1Y3QgaW50ZWxfY29udGV4dCAqY2UgPSBycS0+aHdfY29udGV4dDsKIAkJc3RydWN0IGxpc3Rf
aGVhZCAqcG9zOwogCisJCXNwaW5fbG9jaygmYi0+aXJxX2xvY2spOworCQlHRU1fQlVHX09OKHRl
c3RfYml0KEk5MTVfRkVOQ0VfRkxBR19TSUdOQUwsICZycS0+ZmVuY2UuZmxhZ3MpKTsKKwogCQlf
X2ludGVsX2JyZWFkY3J1bWJzX2FybV9pcnEoYik7CiAKIAkJLyoKQEAgLTMwMyw4ICszMjUsOCBA
QCBib29sIGk5MTVfcmVxdWVzdF9lbmFibGVfYnJlYWRjcnVtYihzdHJ1Y3QgaTkxNV9yZXF1ZXN0
ICpycSkKIAkJR0VNX0JVR19PTighY2hlY2tfc2lnbmFsX29yZGVyKGNlLCBycSkpOwogCiAJCXNl
dF9iaXQoSTkxNV9GRU5DRV9GTEFHX1NJR05BTCwgJnJxLT5mZW5jZS5mbGFncyk7CisJCXNwaW5f
dW5sb2NrKCZiLT5pcnFfbG9jayk7CiAJfQotCXNwaW5fdW5sb2NrKCZiLT5pcnFfbG9jayk7CiAK
IAlyZXR1cm4gIV9fcmVxdWVzdF9jb21wbGV0ZWQocnEpOwogfQpAQCAtMzEzLDkgKzMzNSwxNSBA
QCB2b2lkIGk5MTVfcmVxdWVzdF9jYW5jZWxfYnJlYWRjcnVtYihzdHJ1Y3QgaTkxNV9yZXF1ZXN0
ICpycSkKIHsKIAlzdHJ1Y3QgaW50ZWxfYnJlYWRjcnVtYnMgKmIgPSAmcnEtPmVuZ2luZS0+YnJl
YWRjcnVtYnM7CiAKLQlpZiAoIXRlc3RfYml0KEk5MTVfRkVOQ0VfRkxBR19TSUdOQUwsICZycS0+
ZmVuY2UuZmxhZ3MpKQotCQlyZXR1cm47CisJbG9ja2RlcF9hc3NlcnRfaGVsZCgmcnEtPmxvY2sp
OworCWxvY2tkZXBfYXNzZXJ0X2lycXNfZGlzYWJsZWQoKTsKIAorCS8qCisJICogV2UgbXVzdCB3
YWl0IGZvciBiLT5pcnFfbG9jayBzbyB0aGF0IHdlIGtub3cgdGhlIGludGVycnVwdCBoYW5kbGVy
CisJICogaGFzIHJlbGVhc2VkIGl0cyByZWZlcmVuY2UgdG8gdGhlIGludGVsX2NvbnRleHQgYW5k
IGhhcyBjb21wbGV0ZWQKKwkgKiB0aGUgRE1BX0ZFTkNFX0ZMQUdfU0lHTkFMRURfQklUL0k5MTVf
RkVOQ0VfRkxBR19TSUdOQUwgZGFuY2UgKGlmCisJICogcmVxdWlyZWQpLgorCSAqLwogCXNwaW5f
bG9jaygmYi0+aXJxX2xvY2spOwogCWlmICh0ZXN0X2JpdChJOTE1X0ZFTkNFX0ZMQUdfU0lHTkFM
LCAmcnEtPmZlbmNlLmZsYWdzKSkgewogCQlzdHJ1Y3QgaW50ZWxfY29udGV4dCAqY2UgPSBycS0+
aHdfY29udGV4dDsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfcmVxdWVz
dC5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9yZXF1ZXN0LmMKaW5kZXggOTUxMGRiNTY2
YTU4Li5jYmU0MDk4Y2Q2ZWMgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVf
cmVxdWVzdC5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfcmVxdWVzdC5jCkBAIC00
MzcsNiArNDM3LDcgQEAgdm9pZCBfX2k5MTVfcmVxdWVzdF9zdWJtaXQoc3RydWN0IGk5MTVfcmVx
dWVzdCAqcmVxdWVzdCkKIAlzZXRfYml0KEk5MTVfRkVOQ0VfRkxBR19BQ1RJVkUsICZyZXF1ZXN0
LT5mZW5jZS5mbGFncyk7CiAKIAlpZiAodGVzdF9iaXQoRE1BX0ZFTkNFX0ZMQUdfRU5BQkxFX1NJ
R05BTF9CSVQsICZyZXF1ZXN0LT5mZW5jZS5mbGFncykgJiYKKwkgICAgIXRlc3RfYml0KERNQV9G
RU5DRV9GTEFHX1NJR05BTEVEX0JJVCwgJnJlcXVlc3QtPmZlbmNlLmZsYWdzKSAmJgogCSAgICAh
aTkxNV9yZXF1ZXN0X2VuYWJsZV9icmVhZGNydW1iKHJlcXVlc3QpKQogCQlpbnRlbF9lbmdpbmVf
cXVldWVfYnJlYWRjcnVtYnMoZW5naW5lKTsKIApkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJt
L2k5MTUvaW50ZWxfZ3VjX3N1Ym1pc3Npb24uYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVs
X2d1Y19zdWJtaXNzaW9uLmMKaW5kZXggMzgwZDgzYTJiZmI2Li5lYTBlMzczNGQzN2MgMTAwNjQ0
Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX2d1Y19zdWJtaXNzaW9uLmMKKysrIGIv
ZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfZ3VjX3N1Ym1pc3Npb24uYwpAQCAtMjMsNyArMjMs
NiBAQAogICovCiAKICNpbmNsdWRlIDxsaW51eC9jaXJjX2J1Zi5oPgotI2luY2x1ZGUgPHRyYWNl
L2V2ZW50cy9kbWFfZmVuY2UuaD4KIAogI2luY2x1ZGUgImd0L2ludGVsX2VuZ2luZV9wbS5oIgog
I2luY2x1ZGUgImd0L2ludGVsX2xyY19yZWcuaCIKLS0gCjIuMjAuMQoKX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KSW50ZWwtZ2Z4IG1haWxpbmcgbGlzdApJ
bnRlbC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Au
b3JnL21haWxtYW4vbGlzdGluZm8vaW50ZWwtZ2Z4

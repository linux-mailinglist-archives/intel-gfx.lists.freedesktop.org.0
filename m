Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id E6903108B0C
	for <lists+intel-gfx@lfdr.de>; Mon, 25 Nov 2019 10:38:41 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 455436E07F;
	Mon, 25 Nov 2019 09:38:40 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga06.intel.com (mga06.intel.com [134.134.136.31])
 by gabe.freedesktop.org (Postfix) with ESMTPS id BFFBA6E07F
 for <intel-gfx@lists.freedesktop.org>; Mon, 25 Nov 2019 09:38:38 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga006.jf.intel.com ([10.7.209.51])
 by orsmga104.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 25 Nov 2019 01:38:37 -0800
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.69,241,1571727600"; d="scan'208";a="211048192"
Received: from gaia.fi.intel.com ([10.237.72.192])
 by orsmga006.jf.intel.com with ESMTP; 25 Nov 2019 01:38:34 -0800
Received: by gaia.fi.intel.com (Postfix, from userid 1000)
 id 5310A5C1DCE; Mon, 25 Nov 2019 11:38:13 +0200 (EET)
From: Mika Kuoppala <mika.kuoppala@linux.intel.com>
To: Chris Wilson <chris@chris-wilson.co.uk>, intel-gfx@lists.freedesktop.org
In-Reply-To: <157467378918.2314.12942863657256326724@skylake-alporthouse-com>
References: <20191124170524.1436498-1-chris@chris-wilson.co.uk>
 <87r21wmi35.fsf@gaia.fi.intel.com>
 <157467378918.2314.12942863657256326724@skylake-alporthouse-com>
Date: Mon, 25 Nov 2019 11:38:13 +0200
Message-ID: <87lfs4mh2y.fsf@gaia.fi.intel.com>
MIME-Version: 1.0
Subject: Re: [Intel-gfx] [CI 1/4] drm/i915/gt: Mark the execlists->active as
 the primary volatile access
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

Q2hyaXMgV2lsc29uIDxjaHJpc0BjaHJpcy13aWxzb24uY28udWs+IHdyaXRlczoKCj4gUXVvdGlu
ZyBNaWthIEt1b3BwYWxhICgyMDE5LTExLTI1IDA5OjE2OjMwKQo+PiBDaHJpcyBXaWxzb24gPGNo
cmlzQGNocmlzLXdpbHNvbi5jby51az4gd3JpdGVzOgo+PiAKPj4gPiBTaW5jZSB3ZSB3YW50IHRv
IGRvIGEgbG9ja2xlc3MgcmVhZCBvZiB0aGUgY3VycmVudCBhY3RpdmUgcmVxdWVzdCwgYW5kCj4+
ID4gdGhhdCByZXF1ZXN0IGlzIHdyaXR0ZW4gdG8gYnkgcHJvY2Vzc19jc2IgYWxzbyB3aXRob3V0
IHNlcmlhbGlzYXRpb24sIHdlCj4+ID4gbmVlZCB0byBpbnN0cnVjdCBnY2MgdG8gdGFrZSBjYXJl
IGluIHJlYWRpbmcgdGhlIHBvaW50ZXIgaXRzZWxmLgo+PiA+Cj4+ID4gT3RoZXJ3aXNlLCB3ZSBo
YXZlIG9ic2VydmVkIGV4ZWNsaXN0c19hY3RpdmUoKSB0byByZXBvcnQgMHg0MC4KPj4gPgo+PiA+
IFsgMjQwMC43NjAzODFdIGlndC9wYXJhLTQwOTggICAgMS4ucy4gMjM3NjQ3OTMwMHVzIDogcHJv
Y2Vzc19jc2I6IHJjczAgY3MtaXJxIGhlYWQ9MywgdGFpbD00Cj4+ID4gWyAyNDAwLjc2MDgyNl0g
aWd0L3BhcmEtNDA5OCAgICAxLi5zLiAyMzc2NDc5MzAzdXMgOiBwcm9jZXNzX2NzYjogcmNzMCBj
c2JbNF06IHN0YXR1cz0weDAwMDAwMDAxOjB4MDAwMDAwMDAKPj4gPiBbIDI0MDAuNzYxMjcxXSBp
Z3QvcGFyYS00MDk4ICAgIDEuLnMuIDIzNzY0NzkzMDZ1cyA6IHRyYWNlX3BvcnRzOiByY3MwOiBw
cm9tb3RlIHsgYjljNTk6MjYyMiwgYjljNTU6MjYyNCB9Cj4+ID4gWyAyNDAwLjc2MTcyNl0gaWd0
L3BhcmEtNDA5NyAgICAwZC4uLiAyMzc2NDc5MzExdXMgOiBfX2k5MTVfc2NoZWR1bGU6IHJjczA6
IC0yMTQ3NDgzNjQ4LT4zLCBpbmZsaWdodDowMDAwMDAwMDAwMDAwMDQwLCBycTpmZmZmODg4MjA4
YzFlOTQwCj4+IAo+PiBXaGVyZSBpcyB0aGlzIGV4YWN0IHRyYWNlcG9pbnQ/IE15IGdyZXAgc2tp
bGxzIGFyZSBmYWlsaW5nIG1lLgo+Cj4gSSBhZGRlZCB0byBzZWUKPiBodHRwczovL2ludGVsLWdm
eC1jaS4wMS5vcmcvdHJlZS9kcm0tdGlwL0NJX0RSTV83Mzg4L2ZpLWJzdy1uMzA1MC9pZ3RAaTkx
NV9zZWxmdGVzdEBsaXZlX2dlbV9jb250ZXh0cy5odG1sCj4KPj4gPgo+PiA+IHdoaWNoIGlzIGlt
cG9zc2libGUhCj4+ID4KPj4gPiBUaGUgYW5zd2VyIGlzIHRoYXQgYXMgd2Uga2VlcCB0aGUgZXhp
c3RpbmcgZXhlY2xpc3RzLT5hY3RpdmUgcG9pbnRpbmcKPj4gPiBpbnRvIHRoZSBhcnJheSBhcyB3
ZSBjb3B5IG92ZXIgdGhhdCBhcnJheSwgdGhlIHVuc2VyaWFsaXNlZCByZWFkIG1heSBzZWUKPj4g
PiBhIHBhcnRpYWwgcG9pbnRlciB2YWx1ZS4KPj4gCj4+IC4uLm90aGVyd2lzZSB3ZSB3aWxsIHNl
ZSA/Cj4+IAo+PiBBbHNvLCB0aGUgMHg0MCBpcyBib3RoZXJpbmcgbWUgYXMgSSBkaWRuJ3QgZmlu
ZCB0aGUgdHJhY2Vwb2ludC4gSWYgd2UKPj4gb25seSBkaXNwbGF5ZWQgcG9pbnRlciB2YWx1ZXMs
IHdoZXJlIGRpZCB0aGUgb2Zmc2V0IGFwcGVhci4gCj4KPiBCZWNhdXNlIHdlIGRpZCBhIGJ5dGUt
YnktYnl0ZSBjb3B5IG9mIHBlbmRpbmcgdG8gaW5mbGlnaHQgYXMKPiBleGVjbGlzdHNfYWN0aXZl
KCkgcmVhZHMgKmFjdGl2ZSBbcG9pbnRpbmcgaW50byBpbmZsaWdodF0KPgo+IFNvIGluZmxpZ2h0
IGlzIGEgcmFuZG9tIG1peCBvZiBOVUxMICsgcnEsIHN0YXJ0aW5nIGF0IHRoZSBMU0IuCgpTZWVt
cyBzbywgeWVhaCB3ZSBjYW4ndCByZWFsbHkgYXNzdW1lIG1lbWNweSB3b3VsZCBkbyBhbnl0aGlu
ZwpmYW5jaWVyLgoKT2ssIHB1dCBhIFdSSVRFX09OQ0UgZm9yIGNoYW5naW5nIHRoZSBhY3RpdmUg
b24KY2FuY2VsX3BvcnRfcmVxdWVzdHMoKSB0b28sIGZvciBzeW1tZXRyeS4KClJldmlld2VkLWJ5
OiBNaWthIEt1b3BwYWxhIDxtaWthLmt1b3BwYWxhQGxpbnV4LmludGVsLmNvbT4KCj4KPj4gPiBG
aXhlczogZGY0MDMwNjkwMjlkICgiZHJtL2k5MTUvZXhlY2xpc3RzOiBMaWZ0IHByb2Nlc3NfY3Ni
KCkgb3V0IG9mIHRoZSBpcnEtb2ZmIHNwaW5sb2NrIikKPj4gPiBTaWduZWQtb2ZmLWJ5OiBDaHJp
cyBXaWxzb24gPGNocmlzQGNocmlzLXdpbHNvbi5jby51az4KPj4gPiAtLS0KPj4gPiAgZHJpdmVy
cy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZW5naW5lLmggfCAgNCArLS0tCj4+ID4gIGRyaXZlcnMv
Z3B1L2RybS9pOTE1L2d0L2ludGVsX2xyYy5jICAgIHwgMjQgKysrKysrKysrKysrKystLS0tLS0t
LS0tCj4+ID4gIDIgZmlsZXMgY2hhbmdlZCwgMTUgaW5zZXJ0aW9ucygrKSwgMTMgZGVsZXRpb25z
KC0pCj4+ID4KPj4gPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxf
ZW5naW5lLmggYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9lbmdpbmUuaAo+PiA+IGlu
ZGV4IGJjM2I3MmJmYTllMy4uMDE3NjVhN2VjMThmIDEwMDY0NAo+PiA+IC0tLSBhL2RyaXZlcnMv
Z3B1L2RybS9pOTE1L2d0L2ludGVsX2VuZ2luZS5oCj4+ID4gKysrIGIvZHJpdmVycy9ncHUvZHJt
L2k5MTUvZ3QvaW50ZWxfZW5naW5lLmgKPj4gPiBAQCAtMTAwLDkgKzEwMCw3IEBAIGV4ZWNsaXN0
c19udW1fcG9ydHMoY29uc3Qgc3RydWN0IGludGVsX2VuZ2luZV9leGVjbGlzdHMgKiBjb25zdCBl
eGVjbGlzdHMpCj4+ID4gIHN0YXRpYyBpbmxpbmUgc3RydWN0IGk5MTVfcmVxdWVzdCAqCj4+ID4g
IGV4ZWNsaXN0c19hY3RpdmUoY29uc3Qgc3RydWN0IGludGVsX2VuZ2luZV9leGVjbGlzdHMgKmV4
ZWNsaXN0cykKPj4gPiAgewo+PiA+IC0gICAgIEdFTV9CVUdfT04oZXhlY2xpc3RzLT5hY3RpdmUg
LSBleGVjbGlzdHMtPmluZmxpZ2h0ID4KPj4gPiAtICAgICAgICAgICAgICAgIGV4ZWNsaXN0c19u
dW1fcG9ydHMoZXhlY2xpc3RzKSk7Cj4+ID4gLSAgICAgcmV0dXJuIFJFQURfT05DRSgqZXhlY2xp
c3RzLT5hY3RpdmUpOwo+PiA+ICsgICAgIHJldHVybiAqUkVBRF9PTkNFKGV4ZWNsaXN0cy0+YWN0
aXZlKTsKPj4gCj4+IFllcyB0aGlzIHNlZW1zIHByb3BlciBhcyB3ZSBuZWVkIGFwcmlvcmkgcmVh
ZCBiZWZvcmUgZGVmZXJlbmNpbmcuCj4+IAo+PiA+ICB9Cj4+ID4gIAo+PiA+ICBzdGF0aWMgaW5s
aW5lIHZvaWQKPj4gPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxf
bHJjLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9scmMuYwo+PiA+IGluZGV4IDBl
MjA2NWExM2YyNC4uMGQwZGNhM2Q2NzI0IDEwMDY0NAo+PiA+IC0tLSBhL2RyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2d0L2ludGVsX2xyYy5jCj4+ID4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3Qv
aW50ZWxfbHJjLmMKPj4gPiBAQCAtMjE2OSwyMyArMjE2OSwyNyBAQCBzdGF0aWMgdm9pZCBwcm9j
ZXNzX2NzYihzdHJ1Y3QgaW50ZWxfZW5naW5lX2NzICplbmdpbmUpCj4+ID4gICAgICAgICAgICAg
ICBlbHNlCj4+ID4gICAgICAgICAgICAgICAgICAgICAgIHByb21vdGUgPSBnZW44X2NzYl9wYXJz
ZShleGVjbGlzdHMsIGJ1ZiArIDIgKiBoZWFkKTsKPj4gPiAgICAgICAgICAgICAgIGlmIChwcm9t
b3RlKSB7Cj4+ID4gKyAgICAgICAgICAgICAgICAgICAgIHN0cnVjdCBpOTE1X3JlcXVlc3QgKiBj
b25zdCAqb2xkID0gZXhlY2xpc3RzLT5hY3RpdmU7Cj4+ID4gKwo+PiA+ICsgICAgICAgICAgICAg
ICAgICAgICAvKiBQb2ludCBhY3RpdmUgdG8gdGhlIG5ldyBFTFNQOyBwcmV2ZW50IG92ZXJ3cml0
aW5nICovCj4+ID4gKyAgICAgICAgICAgICAgICAgICAgIFdSSVRFX09OQ0UoZXhlY2xpc3RzLT5h
Y3RpdmUsIGV4ZWNsaXN0cy0+cGVuZGluZyk7Cj4+ID4gKyAgICAgICAgICAgICAgICAgICAgIHNl
dF90aW1lc2xpY2UoZW5naW5lKTsKPj4gCj4+IElmIHdlIHNldCB0aGUgYWN0aXZlIHRvIHBlbmRp
bmcgaGVyZS4uLgo+PiAKPj4gPiArCj4+ID4gICAgICAgICAgICAgICAgICAgICAgIGlmICghaW5q
ZWN0X3ByZWVtcHRfaGFuZyhleGVjbGlzdHMpKQo+PiA+ICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgIHJpbmdfc2V0X3BhdXNlZChlbmdpbmUsIDApOwo+PiA+ICAKPj4gPiAgICAgICAgICAg
ICAgICAgICAgICAgLyogY2FuY2VsIG9sZCBpbmZsaWdodCwgcHJlcGFyZSBmb3Igc3dpdGNoICov
Cj4+ID4gLSAgICAgICAgICAgICAgICAgICAgIHRyYWNlX3BvcnRzKGV4ZWNsaXN0cywgInByZWVt
cHRlZCIsIGV4ZWNsaXN0cy0+YWN0aXZlKTsKPj4gPiAtICAgICAgICAgICAgICAgICAgICAgd2hp
bGUgKCpleGVjbGlzdHMtPmFjdGl2ZSkKPj4gPiAtICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICBleGVjbGlzdHNfc2NoZWR1bGVfb3V0KCpleGVjbGlzdHMtPmFjdGl2ZSsrKTsKPj4gPiArICAg
ICAgICAgICAgICAgICAgICAgdHJhY2VfcG9ydHMoZXhlY2xpc3RzLCAicHJlZW1wdGVkIiwgb2xk
KTsKPj4gPiArICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKCpvbGQpCj4+ID4gKyAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgZXhlY2xpc3RzX3NjaGVkdWxlX291dCgqb2xkKyspOwo+PiA+
ICAKPj4gPiAgICAgICAgICAgICAgICAgICAgICAgLyogc3dpdGNoIHBlbmRpbmcgdG8gaW5mbGln
aHQgKi8KPj4gPiAgICAgICAgICAgICAgICAgICAgICAgR0VNX0JVR19PTighYXNzZXJ0X3BlbmRp
bmdfdmFsaWQoZXhlY2xpc3RzLCAicHJvbW90ZSIpKTsKPj4gPiAtICAgICAgICAgICAgICAgICAg
ICAgZXhlY2xpc3RzLT5hY3RpdmUgPQo+PiA+IC0gICAgICAgICAgICAgICAgICAgICAgICAgICAg
IG1lbWNweShleGVjbGlzdHMtPmluZmxpZ2h0LAo+PiA+IC0gICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICBleGVjbGlzdHMtPnBlbmRpbmcsCj4+ID4gLSAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgIGV4ZWNsaXN0c19udW1fcG9ydHMoZXhlY2xpc3RzKSAqCj4+ID4g
LSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemVvZigqZXhlY2xpc3RzLT5w
ZW5kaW5nKSk7Cj4+ID4gLQo+PiA+IC0gICAgICAgICAgICAgICAgICAgICBzZXRfdGltZXNsaWNl
KGVuZ2luZSk7Cj4+ID4gKyAgICAgICAgICAgICAgICAgICAgIFdSSVRFX09OQ0UoZXhlY2xpc3Rz
LT5hY3RpdmUsCj4+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVtY3B5KGV4
ZWNsaXN0cy0+aW5mbGlnaHQsCj4+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgIGV4ZWNsaXN0cy0+cGVuZGluZywKPj4gPiArICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgZXhlY2xpc3RzX251bV9wb3J0cyhleGVjbGlzdHMpICoKPj4gPiArICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZW9mKCpleGVjbGlzdHMtPnBl
bmRpbmcpKSk7Cj4+IAo+PiBXaHkgd2UgcmV3cml0ZSBpdCBpbiBoZXJlLCBpcyB0aGUgcGVuZGlu
ZyBtb3ZpbmcgYmVuZWF0aCB1cz8KPgo+IFllcy4gUGVuZGluZyBpcyB3aGVyZSB3ZSB0cmFjayB0
aGUgbmV4dCBzdWJtaXQsIGluZmxpZ2h0ICsgYWN0aXZlIHRoZQo+IGN1cnJlbnQuIHBlbmRpbmdb
MF0gPSBOVUxMIGlzIHRoZSBuZXh0IGxpbmUsIGFuZCBwZW5kaW5nW10gaXMgdGhlbiBzZXQKPiBp
biBkZXF1ZXVlLgo+IC1DaHJpcwpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fXwpJbnRlbC1nZnggbWFpbGluZyBsaXN0CkludGVsLWdmeEBsaXN0cy5mcmVlZGVz
a3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9p
bnRlbC1nZng=

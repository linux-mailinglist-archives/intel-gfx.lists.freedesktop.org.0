Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 335A21EA7B
	for <lists+intel-gfx@lfdr.de>; Wed, 15 May 2019 10:52:24 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 8246789623;
	Wed, 15 May 2019 08:52:22 +0000 (UTC)
X-Original-To: Intel-GFX@lists.freedesktop.org
Delivered-To: Intel-GFX@lists.freedesktop.org
Received: from mga12.intel.com (mga12.intel.com [192.55.52.136])
 by gabe.freedesktop.org (Postfix) with ESMTPS id E421D89622
 for <Intel-GFX@lists.freedesktop.org>; Wed, 15 May 2019 08:52:20 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga001.jf.intel.com ([10.7.209.18])
 by fmsmga106.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 15 May 2019 01:52:20 -0700
X-ExtLoop1: 1
Received: from kmarenda-mobl2.ger.corp.intel.com (HELO [10.252.11.159])
 ([10.252.11.159])
 by orsmga001.jf.intel.com with ESMTP; 15 May 2019 01:52:18 -0700
To: John.C.Harrison@Intel.com, Intel-GFX@Lists.FreeDesktop.Org
References: <20190513194552.6600-1-John.C.Harrison@Intel.com>
From: Tvrtko Ursulin <tvrtko.ursulin@linux.intel.com>
Organization: Intel Corporation UK Plc
Message-ID: <2f07e749-7e44-d3ae-08a7-2b45b811419c@linux.intel.com>
Date: Wed, 15 May 2019 09:52:17 +0100
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101
 Thunderbird/60.6.1
MIME-Version: 1.0
In-Reply-To: <20190513194552.6600-1-John.C.Harrison@Intel.com>
Content-Language: en-US
Subject: Re: [Intel-gfx] [PATCH] drm/i915: Engine relative MMIO
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: Chris P <chris.p.wilson@intel.com>
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

Ck9uIDEzLzA1LzIwMTkgMjA6NDUsIEpvaG4uQy5IYXJyaXNvbkBJbnRlbC5jb20gd3JvdGU6Cj4g
RnJvbTogSm9obiBIYXJyaXNvbiA8Sm9obi5DLkhhcnJpc29uQEludGVsLmNvbT4KPiAKPiBXaXRo
IHZpcnR1YWwgZW5naW5lcywgaXQgaXMgbm8gbG9uZ2VyIHBvc3NpYmxlIHRvIGtub3cgd2hpY2gg
c3BlY2lmaWMKPiBwaHlzaWNhbCBlbmdpbmUgYSBnaXZlbiByZXF1ZXN0IHdpbGwgYmUgZXhlY3V0
ZWQgb24gYXQgdGhlIHRpbWUgdGhhdAo+IHJlcXVlc3QgaXMgZ2VuZXJhdGVkLiBUaGlzIG1lYW5z
IHRoYXQgdGhlIHJlcXVlc3QgaXRzZWxmIG11c3QgYmUgZW5naW5lCj4gYWdub3N0aWMgLSBhbnkg
ZGlyZWN0IHJlZ2lzdGVyIHdyaXRlcyBtdXN0IGJlIHJlbGF0aXZlIHRvIHRoZSBlbmdpbmUKPiBh
bmQgbm90IGFic29sdXRlIGFkZHJlc3Nlcy4KPiAKPiBUaGUgTFJJIGNvbW1hbmQgaGFzIHN1cHBv
cnQgZm9yIGVuZ2luZSByZWxhdGl2ZSBhZGRyZXNzaW5nLiBIb3dldmVyLAo+IHRoZSBtZWNoYW5p
c20gaXMgbm90IHRyYW5zcGFyZW50IHRvIHRoZSBkcml2ZXIuIFRoZSBzY2hlbWUgZm9yIEdlbjEx
Cj4gKE1JX0xSSV9BRERfQ1NfTU1JT19TVEFSVCkgcmVxdWlyZXMgdGhlIExSSSBhZGRyZXNzIHRv
IGhhdmUgbm8KPiBhYnNvbHV0ZSBlbmdpbmUgYmFzZSBjb21wb25lbnQuIFRoZSBoYXJkd2FyZSB0
aGVuIGFkZHMgb24gdGhlIGNvcnJlY3QKPiBlbmdpbmUgb2Zmc2V0IGF0IGV4ZWN1dGlvbiB0aW1l
Lgo+IAo+IER1ZSB0byB0aGUgbm9uLXRyaXZpYWwgYW5kIGRpZmZlcmluZyBzY2hlbWVzIG9uIGRp
ZmZlcmVudCBoYXJkd2FyZSwgaXQKPiBpcyBub3QgcG9zc2libGUgdG8gc2ltcGx5IHVwZGF0ZSB0
aGUgY29kZSB0aGF0IGNyZWF0ZXMgdGhlIExSSQo+IGNvbW1hbmRzIHRvIHNldCBhIHJlbWFwIGZs
YWcgYW5kIGxldCB0aGUgaGFyZHdhcmUgZ2V0IG9uIHdpdGggaXQuCj4gSW5zdGVhZCwgdGhpcyBw
YXRjaCBhZGRzIGZ1bmN0aW9uIHdyYXBwZXJzIGZvciBnZW5lcmF0aW5nIHRoZSBMUkkKPiBjb21t
YW5kIGl0c2VsZiBhbmQgdGhlbiBmb3IgY29uc3RydWN0aW5nIHRoZSBjb3JyZWN0IGFkZHJlc3Mg
dG8gdXNlCj4gd2l0aCB0aGUgTFJJLgo+IAo+IHYyOiBGaXggYnVpbGQgYnJlYWsgaW4gR1ZULiBS
ZW1vdmUgZmxhZ3MgcGFyYW1ldGVyIFtyZXZpZXcgZmVlZGJhY2sKPiBmcm9tIENocmlzIFddLgo+
IAo+IHYzOiBGaXggYnVpbGQgYnJlYWsgaW4gc2VsZnRlc3QuIFJlYmFzZSB0byBuZXdlciBiYXNl
IHRyZWUgYW5kIGZpeAo+IG1lcmdlIGNvbmZsaWN0Lgo+IAo+IHY0OiBNb3JlIHJlYmFzaW5nLiBS
bW92ZWQgcmVsYXRpdmUgYWRkcmVzc2luZyBzdXBwb3J0IGZyb20gR2VuNy05IG9ubHkKPiBjb2Rl
IHBhdGhzIFtyZXZpZXcgZmVlZGJhY2sgZnJvbSBDaHJpcyBXXS4KPiAKPiB2NTogTW9yZSByZWJh
c2luZyAobmV3ICdndCcgZGlyZWN0b3J5KS4gRml4IHdoaXRlIHNwYWNlIGlzc3VlLiBVc2UKPiBD
T1BZIGNsYXNzIHJhdGhlciB0aGFuIEJDUzAgaWQgZm9yIGNoZWNraW5nIGFnYWluc3QgQkNTIGVu
Z2luZS4KPiAKPiBTaWduZWQtb2ZmLWJ5OiBKb2huIEhhcnJpc29uIDxKb2huLkMuSGFycmlzb25A
SW50ZWwuY29tPgo+IENDOiBSb2RyaWdvIFZpdmkgPHJvZHJpZ28udml2aUBpbnRlbC5jb20+Cj4g
Q0M6IFR2cnRrbyBVcnN1bGluIDx0dnJ0a28udXJzdWxpbkBsaW51eC5pbnRlbC5jb20+Cj4gQ0M6
IFdpbHNvbiwgQ2hyaXMgUCA8Y2hyaXMucC53aWxzb25AaW50ZWwuY29tPgo+IC0tLQo+ICAgZHJp
dmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZW5naW5lLmggICAgICAgIHwgIDQgKwo+ICAgZHJp
dmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZW5naW5lX2NzLmMgICAgIHwgMTEgKysrCj4gICBk
cml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9ncHVfY29tbWFuZHMuaCAgfCAgNiArLQo+ICAg
ZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfbHJjLmMgICAgICAgICAgIHwgNzkgKysrKysr
KysrKy0tLS0tLS0tLQo+ICAgZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfbHJjX3JlZy5o
ICAgICAgIHwgIDQgKy0KPiAgIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX21vY3MuYyAg
ICAgICAgICB8IDE3ICsrLS0KPiAgIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX3Jpbmdi
dWZmZXIuYyAgICB8IDQ1ICsrKysrKysrKy0tCj4gICBkcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9p
bnRlbF93b3JrYXJvdW5kcy5jICAgfCAgNCArLQo+ICAgLi4uL2dwdS9kcm0vaTkxNS9ndC9zZWxm
dGVzdF93b3JrYXJvdW5kcy5jICAgIHwgIDkgKystCj4gICBkcml2ZXJzL2dwdS9kcm0vaTkxNS9n
dnQvbW1pb19jb250ZXh0LmMgICAgICAgfCAxNiArKystCj4gICBkcml2ZXJzL2dwdS9kcm0vaTkx
NS9pOTE1X2NtZF9wYXJzZXIuYyAgICAgICAgfCAgNCArLQo+ICAgZHJpdmVycy9ncHUvZHJtL2k5
MTUvaTkxNV9nZW1fY29udGV4dC5jICAgICAgIHwgMTIgKy0tCj4gICBkcml2ZXJzL2dwdS9kcm0v
aTkxNS9pOTE1X2dlbV9leGVjYnVmZmVyLmMgICAgfCAgMyArLQo+ICAgZHJpdmVycy9ncHUvZHJt
L2k5MTUvaTkxNV9wZXJmLmMgICAgICAgICAgICAgIHwgMTkgKysrLS0KPiAgIDE0IGZpbGVzIGNo
YW5nZWQsIDE1NCBpbnNlcnRpb25zKCspLCA3OSBkZWxldGlvbnMoLSkKPiAKPiBkaWZmIC0tZ2l0
IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZW5naW5lLmggYi9kcml2ZXJzL2dwdS9k
cm0vaTkxNS9ndC9pbnRlbF9lbmdpbmUuaAo+IGluZGV4IDkzNTliM2E3YWQ5Yy4uMzUwNmM5OTIx
ODJjIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2VuZ2luZS5o
Cj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZW5naW5lLmgKPiBAQCAtNTQ2
LDQgKzU0Niw4IEBAIHN0YXRpYyBpbmxpbmUgYm9vbCBpbmplY3RfcHJlZW1wdF9oYW5nKHN0cnVj
dCBpbnRlbF9lbmdpbmVfZXhlY2xpc3RzICpleGVjbGlzdHMpCj4gICAKPiAgICNlbmRpZgo+ICAg
Cj4gK2Jvb2wgaTkxNV9lbmdpbmVfaGFzX3JlbGF0aXZlX2xyaShjb25zdCBzdHJ1Y3QgaW50ZWxf
ZW5naW5lX2NzICplbmdpbmUpOwo+ICt1MzIgaTkxNV9nZXRfbHJpX2NtZChjb25zdCBzdHJ1Y3Qg
aW50ZWxfZW5naW5lX2NzICplbmdpbmUsIHUzMiB3b3JkX2NvdW50KTsKPiArdTMyIGk5MTVfZ2V0
X2xyaV9yZWcoY29uc3Qgc3RydWN0IGludGVsX2VuZ2luZV9jcyAqZW5naW5lLCBpOTE1X3JlZ190
IHJlZyk7Cj4gKwo+ICAgI2VuZGlmIC8qIF9JTlRFTF9SSU5HQlVGRkVSX0hfICovCj4gZGlmZiAt
LWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2VuZ2luZV9jcy5jIGIvZHJpdmVy
cy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZW5naW5lX2NzLmMKPiBpbmRleCA0YzM3NTNjMWI1NzMu
LjIzMzI5NWQ2ODlkMiAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRl
bF9lbmdpbmVfY3MuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2VuZ2lu
ZV9jcy5jCj4gQEAgLTI1Myw2ICsyNTMsMTcgQEAgc3RhdGljIHUzMiBfX2VuZ2luZV9tbWlvX2Jh
c2Uoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUsCj4gICAJcmV0dXJuIGJhc2VzW2ldLmJh
c2U7Cj4gICB9Cj4gICAKPiArYm9vbCBpOTE1X2VuZ2luZV9oYXNfcmVsYXRpdmVfbHJpKGNvbnN0
IHN0cnVjdCBpbnRlbF9lbmdpbmVfY3MgKmVuZ2luZSkKPiArewo+ICsJaWYgKElOVEVMX0dFTihl
bmdpbmUtPmk5MTUpIDwgMTEpCj4gKwkJcmV0dXJuIGZhbHNlOwo+ICsKPiArCWlmIChlbmdpbmUt
PmNsYXNzID09IENPUFlfRU5HSU5FX0NMQVNTKQo+ICsJCXJldHVybiBmYWxzZTsKPiArCj4gKwly
ZXR1cm4gdHJ1ZTsKCkkgdGhpbmsgZW5naW5lLT5mbGFncyB3b3VsZCBiZSBiZXR0ZXIuIEF0IGxl
YXN0IGl0IGlzIG9uZSBjb25kaXRpb25hbCAKaW5zdGVhZCBvZiB0d28gYXQgcnVudGltZSwgZXZl
biBvbmUgdG9vIG1hbnkgZm9yIHNvbWV0aGluZyB0aGF0IGlzIAppbnZhcmlhbnQuCgo+ICt9Cj4g
Kwo+ICAgc3RhdGljIHZvaWQgX19zcHJpbnRfZW5naW5lX25hbWUoY2hhciAqbmFtZSwgY29uc3Qg
c3RydWN0IGVuZ2luZV9pbmZvICppbmZvKQo+ICAgewo+ICAgCVdBUk5fT04oc25wcmludGYobmFt
ZSwgSU5URUxfRU5HSU5FX0NTX01BWF9OQU1FLCAiJXMldSIsCj4gZGlmZiAtLWdpdCBhL2RyaXZl
cnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2dwdV9jb21tYW5kcy5oIGIvZHJpdmVycy9ncHUvZHJt
L2k5MTUvZ3QvaW50ZWxfZ3B1X2NvbW1hbmRzLmgKPiBpbmRleCBhMzRlY2U1M2E3NzEuLmU3Nzg0
YjNmYjc1OSAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9ncHVf
Y29tbWFuZHMuaAo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2dwdV9jb21t
YW5kcy5oCj4gQEAgLTEyMyw5ICsxMjMsMTMgQEAKPiAgICAqICAgc2ltcGx5IGlnbm9yZXMgdGhl
IHJlZ2lzdGVyIGxvYWQgdW5kZXIgY2VydGFpbiBjb25kaXRpb25zLgo+ICAgICogLSBPbmUgY2Fu
IGFjdHVhbGx5IGxvYWQgYXJiaXRyYXJ5IG1hbnkgYXJiaXRyYXJ5IHJlZ2lzdGVyczogU2ltcGx5
IGlzc3VlIHgKPiAgICAqICAgYWRkcmVzcy92YWx1ZSBwYWlycy4gRG9uJ3Qgb3ZlcmR1ZSBpdCwg
dGhvdWdoLCB4IDw9IDJeNCBtdXN0IGhvbGQhCj4gKyAqIC0gTmV3ZXIgaGFyZHdhcmUgc3VwcG9y
dHMgZW5naW5lIHJlbGF0aXZlIGFkZHJlc3NlcyBidXQgb2xkZXIgaGFyZHdhcmUgZG9lcwo+ICsg
KiAgIG5vdC4gU28gbmV2ZXIgY2FsbCBNSV9MUkkgZGlyZWN0bHksIGFsd2F5cyB1c2UgdGhlIGk5
MTVfZ2V0X2xyaV9jbWQoKQo+ICsgKiAgIGFuZCBpOTE1X2dldF9scmlfcmVnKCkgaGVscGVyIGZ1
bmN0aW9ucy4KPiAgICAqLwo+IC0jZGVmaW5lIE1JX0xPQURfUkVHSVNURVJfSU1NKHgpCU1JX0lO
U1RSKDB4MjIsIDIqKHgpLTEpCj4gKyNkZWZpbmUgX19NSV9MT0FEX1JFR0lTVEVSX0lNTSh4KQlN
SV9JTlNUUigweDIyLCAyKih4KS0xKQoKU28gd2UgZW5kIHVwIHdpdGggY29kZSB1c2luZyBfX01J
X0xPQURfUkVHSVNURVJfSU1NIGZvciBhYnNvbHV0ZSwgYW5kIAppOTE1X2dldF9scmlfY21kIGZv
ciByZWxhdGl2ZSBhZGRyZXNzaW5nLiBPbmUgaXMgYSBtYWNybywgYW5vdGhlciBpcyBhIApmdW5j
dGlvbiBjYWxsLCBhbmQgbmFtaW5nL2Nhc2UgaXMgZGlmZmVyZW50LgoKSG93IGFib3V0IHdlIHN0
YXRpYyBpbmxpbmUgaXQgbGlrZToKCnN0YXRpYyBpbmxpbmUgdTMyCk1JX0xPQURfUkVHSVNURVJf
SU1NKHN0cnVjdCBpbnRlbF9lbmdpbmVfY3MgKmVuZ2luZSwKCQkgICAgIHUzMiBjb3VudCwKCQkg
ICAgIHVuc2lnbmVkIGludCBmbGFncykKI2RlZmluZSBNSV9MUklfQUJTT0xVVEUgKDApCiNkZWZp
bmUgTUlfTFJJX1JFTEFUSVZFICgxKQp7Cgl1MzIgY21kID0gX19NSV9MT0FEX1JFR0lTVEVSX0lN
TShjb3VudCk7CgoJaWYgKChmbGFncyAmIE1JX0xSSV9SRUxBVElWRSkgJiYKCSAgICAoZW5naW5l
LT5mbGFncyAmIC4uLkhBU19SRUxBVElWRV9MUkkpKQoJCWNtZCB8PSAuLi47CgoJcmV0dXJuIGNt
ZDsKfQoKVGhlbiBhbGwgY2FsbCBzaXRlcyBjYW4gdXNlIGp1c3QgdGhpcyBzaW5nbGUgaGVscGVy
IGFuZCB0aGUgbmFtaW5nIApyZW1haW5zIGZhbWlsaWFyLgoKUmVnaXN0ZXIgb2Zmc2V0IGNhbiB1
c2UgdGhlIHNhbWUgYXBwcm9hY2ggLSBhZ2FpbiBpdCBpcyBhbHNvIHNtYWxsIAplbm91Z2ggdG8g
YmUgZWl0aGVyIHN0YXRpYyBpbmxpbmUgb3IgYSBtYWNyby4gRnVuY3Rpb24gY2FsbHMgZm9yIGJv
dGggCnNlZW0gZXhjZXNzaXZlLCBidXQgbWF5YmUgaXQgaXMganVzdCBtZS4KCj4gICAjZGVmaW5l
ICAgTUlfTFJJX0ZPUkNFX1BPU1RFRAkJKDE8PDEyKQo+ICsjZGVmaW5lICAgTUlfTFJJX0FERF9D
U19NTUlPX1NUQVJUX0dFTjExCSgxPDwxOSkKPiAgICNkZWZpbmUgTUlfU1RPUkVfUkVHSVNURVJf
TUVNICAgICAgICBNSV9JTlNUUigweDI0LCAxKQo+ICAgI2RlZmluZSBNSV9TVE9SRV9SRUdJU1RF
Ul9NRU1fR0VOOCAgIE1JX0lOU1RSKDB4MjQsIDIpCj4gICAjZGVmaW5lICAgTUlfU1JNX0xSTV9H
TE9CQUxfR1RUCQkoMTw8MjIpCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0
L2ludGVsX2xyYy5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfbHJjLmMKPiBpbmRl
eCBlMTg2MjNkZWYyODIuLjQ5YTlhNjY0OGI5YyAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9k
cm0vaTkxNS9ndC9pbnRlbF9scmMuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2lu
dGVsX2xyYy5jCj4gQEAgLTEzODgsMTQgKzEzODgsMTUgQEAgc3RhdGljIGludCBlbWl0X3BkcHMo
c3RydWN0IGk5MTVfcmVxdWVzdCAqcnEpCj4gICAJCXJldHVybiBQVFJfRVJSKGNzKTsKPiAgIAo+
ICAgCS8qIEVuc3VyZSB0aGUgTFJJIGhhdmUgbGFuZGVkIGJlZm9yZSB3ZSBpbnZhbGlkYXRlICYg
Y29udGludWUgKi8KPiAtCSpjcysrID0gTUlfTE9BRF9SRUdJU1RFUl9JTU0oMiAqIEdFTjhfM0xW
TF9QRFBFUykgfCBNSV9MUklfRk9SQ0VfUE9TVEVEOwo+ICsJKmNzKysgPSBpOTE1X2dldF9scmlf
Y21kKGVuZ2luZSwgMiAqIEdFTjhfM0xWTF9QRFBFUykgfAo+ICsJCQkJIE1JX0xSSV9GT1JDRV9Q
T1NURUQ7Cj4gICAJZm9yIChpID0gR0VOOF8zTFZMX1BEUEVTOyBpLS07ICkgewo+ICAgCQljb25z
dCBkbWFfYWRkcl90IHBkX2RhZGRyID0gaTkxNV9wYWdlX2Rpcl9kbWFfYWRkcihwcGd0dCwgaSk7
Cj4gICAJCXUzMiBiYXNlID0gZW5naW5lLT5tbWlvX2Jhc2U7Cj4gICAKPiAtCQkqY3MrKyA9IGk5
MTVfbW1pb19yZWdfb2Zmc2V0KEdFTjhfUklOR19QRFBfVURXKGJhc2UsIGkpKTsKPiArCQkqY3Mr
KyA9IGk5MTVfZ2V0X2xyaV9yZWcoZW5naW5lLCBHRU44X1JJTkdfUERQX1VEVyhiYXNlLCBpKSk7
Cj4gICAJCSpjcysrID0gdXBwZXJfMzJfYml0cyhwZF9kYWRkcik7Cj4gLQkJKmNzKysgPSBpOTE1
X21taW9fcmVnX29mZnNldChHRU44X1JJTkdfUERQX0xEVyhiYXNlLCBpKSk7Cj4gKwkJKmNzKysg
PSBpOTE1X2dldF9scmlfcmVnKGVuZ2luZSwgR0VOOF9SSU5HX1BEUF9MRFcoYmFzZSwgaSkpOwo+
ICAgCQkqY3MrKyA9IGxvd2VyXzMyX2JpdHMocGRfZGFkZHIpOwo+ICAgCX0KPiAgIAkqY3MrKyA9
IE1JX05PT1A7Cj4gQEAgLTE0NjksNyArMTQ3MCw4IEBAIGdlbjhfZW1pdF9mbHVzaF9jb2hlcmVu
dGwzX3dhKHN0cnVjdCBpbnRlbF9lbmdpbmVfY3MgKmVuZ2luZSwgdTMyICpiYXRjaCkKPiAgIAkq
YmF0Y2grKyA9IGk5MTVfc2NyYXRjaF9vZmZzZXQoZW5naW5lLT5pOTE1KSArIDI1NjsKPiAgIAkq
YmF0Y2grKyA9IDA7Cj4gICAKPiAtCSpiYXRjaCsrID0gTUlfTE9BRF9SRUdJU1RFUl9JTU0oMSk7
Cj4gKwkvKiBHZW44Lzkgb25seSBzbyBubyBuZWVkIHRvIHN1cHBvcnQgcmVsYXRpdmUgb2Zmc2V0
cyAqLwo+ICsJKmJhdGNoKysgPSBfX01JX0xPQURfUkVHSVNURVJfSU1NKDEpOwo+ICAgCSpiYXRj
aCsrID0gaTkxNV9tbWlvX3JlZ19vZmZzZXQoR0VOOF9MM1NRQ1JFRzQpOwo+ICAgCSpiYXRjaCsr
ID0gMHg0MDQwMDAwMCB8IEdFTjhfTFFTQ19GTFVTSF9DT0hFUkVOVF9MSU5FUzsKPiAgIAo+IEBA
IC0xNTQwLDEzICsxNTQyLDE0IEBAIHN0cnVjdCBscmkgewo+ICAgCXUzMiB2YWx1ZTsKPiAgIH07
Cj4gICAKPiAtc3RhdGljIHUzMiAqZW1pdF9scmkodTMyICpiYXRjaCwgY29uc3Qgc3RydWN0IGxy
aSAqbHJpLCB1bnNpZ25lZCBpbnQgY291bnQpCj4gK3N0YXRpYyB1MzIgKmVtaXRfbHJpKHN0cnVj
dCBpbnRlbF9lbmdpbmVfY3MgKmVuZ2luZSwgdTMyICpiYXRjaCwKPiArCQkgICAgIGNvbnN0IHN0
cnVjdCBscmkgKmxyaSwgdW5zaWduZWQgaW50IGNvdW50KQo+ICAgewo+ICAgCUdFTV9CVUdfT04o
IWNvdW50IHx8IGNvdW50ID4gNjMpOwo+ICAgCj4gLQkqYmF0Y2grKyA9IE1JX0xPQURfUkVHSVNU
RVJfSU1NKGNvdW50KTsKPiArCSpiYXRjaCsrID0gaTkxNV9nZXRfbHJpX2NtZChlbmdpbmUsIGNv
dW50KTsKPiAgIAlkbyB7Cj4gLQkJKmJhdGNoKysgPSBpOTE1X21taW9fcmVnX29mZnNldChscmkt
PnJlZyk7Cj4gKwkJKmJhdGNoKysgPSBpOTE1X2dldF9scmlfcmVnKGVuZ2luZSwgbHJpLT5yZWcp
Owo+ICAgCQkqYmF0Y2grKyA9IGxyaS0+dmFsdWU7Cj4gICAJfSB3aGlsZSAobHJpKyssIC0tY291
bnQpOwo+ICAgCSpiYXRjaCsrID0gTUlfTk9PUDsKPiBAQCAtMTU4NCw3ICsxNTg3LDcgQEAgc3Rh
dGljIHUzMiAqZ2VuOV9pbml0X2luZGlyZWN0Y3R4X2JiKHN0cnVjdCBpbnRlbF9lbmdpbmVfY3Mg
KmVuZ2luZSwgdTMyICpiYXRjaCkKPiAgIAkvKiBXYUZsdXNoQ29oZXJlbnRMM0NhY2hlTGluZXNB
dENvbnRleHRTd2l0Y2g6c2tsLGJ4dCxnbGsgKi8KPiAgIAliYXRjaCA9IGdlbjhfZW1pdF9mbHVz
aF9jb2hlcmVudGwzX3dhKGVuZ2luZSwgYmF0Y2gpOwo+ICAgCj4gLQliYXRjaCA9IGVtaXRfbHJp
KGJhdGNoLCBscmksIEFSUkFZX1NJWkUobHJpKSk7Cj4gKwliYXRjaCA9IGVtaXRfbHJpKGVuZ2lu
ZSwgYmF0Y2gsIGxyaSwgQVJSQVlfU0laRShscmkpKTsKPiAgIAo+ICAgCS8qIFdhTWVkaWFQb29s
U3RhdGVDbWRJbldBQkI6Ynh0LGdsayAqLwo+ICAgCWlmIChIQVNfUE9PTEVEX0VVKGVuZ2luZS0+
aTkxNSkpIHsKPiBAQCAtMjUzNywxMCArMjU0MCwxMCBAQCBzdGF0aWMgdm9pZCBleGVjbGlzdHNf
aW5pdF9yZWdfc3RhdGUodTMyICpyZWdzLAo+ICAgCSAqIHZhbHVlcyAoaW5jbHVkaW5nIGFsbCB0
aGUgbWlzc2luZyBNSV9MT0FEX1JFR0lTVEVSX0lNTSBjb21tYW5kcyB0aGF0Cj4gICAJICogd2Ug
YXJlIG5vdCBpbml0aWFsaXppbmcgaGVyZSkuCj4gICAJICovCj4gLQlyZWdzW0NUWF9MUklfSEVB
REVSXzBdID0gTUlfTE9BRF9SRUdJU1RFUl9JTU0ocmNzID8gMTQgOiAxMSkgfAo+IC0JCQkJIE1J
X0xSSV9GT1JDRV9QT1NURUQ7Cj4gKwlyZWdzW0NUWF9MUklfSEVBREVSXzBdID0gaTkxNV9nZXRf
bHJpX2NtZChlbmdpbmUsIHJjcyA/IDE0IDogMTEpIHwKPiArCQkJCQkJICBNSV9MUklfRk9SQ0Vf
UE9TVEVEOwo+ICAgCj4gLQlDVFhfUkVHKHJlZ3MsIENUWF9DT05URVhUX0NPTlRST0wsIFJJTkdf
Q09OVEVYVF9DT05UUk9MKGJhc2UpLAo+ICsJQ1RYX1JFRyhlbmdpbmUsIHJlZ3MsIENUWF9DT05U
RVhUX0NPTlRST0wsIFJJTkdfQ09OVEVYVF9DT05UUk9MKGJhc2UpLAo+ICAgCQlfTUFTS0VEX0JJ
VF9ESVNBQkxFKENUWF9DVFJMX0VOR0lORV9DVFhfUkVTVE9SRV9JTkhJQklUKSB8Cj4gICAJCV9N
QVNLRURfQklUX0VOQUJMRShDVFhfQ1RSTF9JTkhJQklUX1NZTl9DVFhfU1dJVENIKSk7Cj4gICAJ
aWYgKElOVEVMX0dFTihlbmdpbmUtPmk5MTUpIDwgMTEpIHsKPiBAQCAtMjU0OCwyMiArMjU1MSwy
MyBAQCBzdGF0aWMgdm9pZCBleGVjbGlzdHNfaW5pdF9yZWdfc3RhdGUodTMyICpyZWdzLAo+ICAg
CQkJX01BU0tFRF9CSVRfRElTQUJMRShDVFhfQ1RSTF9FTkdJTkVfQ1RYX1NBVkVfSU5ISUJJVCB8
Cj4gICAJCQkJCSAgICBDVFhfQ1RSTF9SU19DVFhfRU5BQkxFKTsKPiAgIAl9Cj4gLQlDVFhfUkVH
KHJlZ3MsIENUWF9SSU5HX0hFQUQsIFJJTkdfSEVBRChiYXNlKSwgMCk7Cj4gLQlDVFhfUkVHKHJl
Z3MsIENUWF9SSU5HX1RBSUwsIFJJTkdfVEFJTChiYXNlKSwgMCk7Cj4gLQlDVFhfUkVHKHJlZ3Ms
IENUWF9SSU5HX0JVRkZFUl9TVEFSVCwgUklOR19TVEFSVChiYXNlKSwgMCk7Cj4gLQlDVFhfUkVH
KHJlZ3MsIENUWF9SSU5HX0JVRkZFUl9DT05UUk9MLCBSSU5HX0NUTChiYXNlKSwKPiArCUNUWF9S
RUcoZW5naW5lLCByZWdzLCBDVFhfUklOR19IRUFELCBSSU5HX0hFQUQoYmFzZSksIDApOwo+ICsJ
Q1RYX1JFRyhlbmdpbmUsIHJlZ3MsIENUWF9SSU5HX1RBSUwsIFJJTkdfVEFJTChiYXNlKSwgMCk7
Cj4gKwlDVFhfUkVHKGVuZ2luZSwgcmVncywgQ1RYX1JJTkdfQlVGRkVSX1NUQVJULCBSSU5HX1NU
QVJUKGJhc2UpLCAwKTsKPiArCUNUWF9SRUcoZW5naW5lLCByZWdzLCBDVFhfUklOR19CVUZGRVJf
Q09OVFJPTCwgUklOR19DVEwoYmFzZSksCj4gICAJCVJJTkdfQ1RMX1NJWkUocmluZy0+c2l6ZSkg
fCBSSU5HX1ZBTElEKTsKPiAtCUNUWF9SRUcocmVncywgQ1RYX0JCX0hFQURfVSwgUklOR19CQkFE
RFJfVURXKGJhc2UpLCAwKTsKPiAtCUNUWF9SRUcocmVncywgQ1RYX0JCX0hFQURfTCwgUklOR19C
QkFERFIoYmFzZSksIDApOwo+IC0JQ1RYX1JFRyhyZWdzLCBDVFhfQkJfU1RBVEUsIFJJTkdfQkJT
VEFURShiYXNlKSwgUklOR19CQl9QUEdUVCk7Cj4gLQlDVFhfUkVHKHJlZ3MsIENUWF9TRUNPTkRf
QkJfSEVBRF9VLCBSSU5HX1NCQkFERFJfVURXKGJhc2UpLCAwKTsKPiAtCUNUWF9SRUcocmVncywg
Q1RYX1NFQ09ORF9CQl9IRUFEX0wsIFJJTkdfU0JCQUREUihiYXNlKSwgMCk7Cj4gLQlDVFhfUkVH
KHJlZ3MsIENUWF9TRUNPTkRfQkJfU1RBVEUsIFJJTkdfU0JCU1RBVEUoYmFzZSksIDApOwo+ICsJ
Q1RYX1JFRyhlbmdpbmUsIHJlZ3MsIENUWF9CQl9IRUFEX1UsIFJJTkdfQkJBRERSX1VEVyhiYXNl
KSwgMCk7Cj4gKwlDVFhfUkVHKGVuZ2luZSwgcmVncywgQ1RYX0JCX0hFQURfTCwgUklOR19CQkFE
RFIoYmFzZSksIDApOwo+ICsJQ1RYX1JFRyhlbmdpbmUsIHJlZ3MsIENUWF9CQl9TVEFURSwgUklO
R19CQlNUQVRFKGJhc2UpLCBSSU5HX0JCX1BQR1RUKTsKPiArCUNUWF9SRUcoZW5naW5lLCByZWdz
LCBDVFhfU0VDT05EX0JCX0hFQURfVSwgUklOR19TQkJBRERSX1VEVyhiYXNlKSwgMCk7Cj4gKwlD
VFhfUkVHKGVuZ2luZSwgcmVncywgQ1RYX1NFQ09ORF9CQl9IRUFEX0wsIFJJTkdfU0JCQUREUihi
YXNlKSwgMCk7Cj4gKwlDVFhfUkVHKGVuZ2luZSwgcmVncywgQ1RYX1NFQ09ORF9CQl9TVEFURSwg
UklOR19TQkJTVEFURShiYXNlKSwgMCk7Cj4gICAJaWYgKHJjcykgewo+ICAgCQlzdHJ1Y3QgaTkx
NV9jdHhfd29ya2Fyb3VuZHMgKndhX2N0eCA9ICZlbmdpbmUtPndhX2N0eDsKPiAgIAo+IC0JCUNU
WF9SRUcocmVncywgQ1RYX1JDU19JTkRJUkVDVF9DVFgsIFJJTkdfSU5ESVJFQ1RfQ1RYKGJhc2Up
LCAwKTsKPiAtCQlDVFhfUkVHKHJlZ3MsIENUWF9SQ1NfSU5ESVJFQ1RfQ1RYX09GRlNFVCwKPiAr
CQlDVFhfUkVHKGVuZ2luZSwgcmVncywgQ1RYX1JDU19JTkRJUkVDVF9DVFgsCj4gKwkJCVJJTkdf
SU5ESVJFQ1RfQ1RYKGJhc2UpLCAwKTsKPiArCQlDVFhfUkVHKGVuZ2luZSwgcmVncywgQ1RYX1JD
U19JTkRJUkVDVF9DVFhfT0ZGU0VULAo+ICAgCQkJUklOR19JTkRJUkVDVF9DVFhfT0ZGU0VUKGJh
c2UpLCAwKTsKPiAgIAkJaWYgKHdhX2N0eC0+aW5kaXJlY3RfY3R4LnNpemUpIHsKPiAgIAkJCXUz
MiBnZ3R0X29mZnNldCA9IGk5MTVfZ2d0dF9vZmZzZXQod2FfY3R4LT52bWEpOwo+IEBAIC0yNTc2
LDcgKzI1ODAsOCBAQCBzdGF0aWMgdm9pZCBleGVjbGlzdHNfaW5pdF9yZWdfc3RhdGUodTMyICpy
ZWdzLAo+ICAgCQkJCWludGVsX2xyX2luZGlyZWN0X2N0eF9vZmZzZXQoZW5naW5lKSA8PCA2Owo+
ICAgCQl9Cj4gICAKPiAtCQlDVFhfUkVHKHJlZ3MsIENUWF9CQl9QRVJfQ1RYX1BUUiwgUklOR19C
Ql9QRVJfQ1RYX1BUUihiYXNlKSwgMCk7Cj4gKwkJQ1RYX1JFRyhlbmdpbmUsIHJlZ3MsIENUWF9C
Ql9QRVJfQ1RYX1BUUiwKPiArCQkJUklOR19CQl9QRVJfQ1RYX1BUUihiYXNlKSwgMCk7Cj4gICAJ
CWlmICh3YV9jdHgtPnBlcl9jdHguc2l6ZSkgewo+ICAgCQkJdTMyIGdndHRfb2Zmc2V0ID0gaTkx
NV9nZ3R0X29mZnNldCh3YV9jdHgtPnZtYSk7Cj4gICAKPiBAQCAtMjU4NSwxOCArMjU5MCwxOSBA
QCBzdGF0aWMgdm9pZCBleGVjbGlzdHNfaW5pdF9yZWdfc3RhdGUodTMyICpyZWdzLAo+ICAgCQl9
Cj4gICAJfQo+ICAgCj4gLQlyZWdzW0NUWF9MUklfSEVBREVSXzFdID0gTUlfTE9BRF9SRUdJU1RF
Ul9JTU0oOSkgfCBNSV9MUklfRk9SQ0VfUE9TVEVEOwo+ICsJcmVnc1tDVFhfTFJJX0hFQURFUl8x
XSA9IGk5MTVfZ2V0X2xyaV9jbWQoZW5naW5lLCA5KSB8Cj4gKwkJCQkJCSAgTUlfTFJJX0ZPUkNF
X1BPU1RFRDsKPiAgIAo+IC0JQ1RYX1JFRyhyZWdzLCBDVFhfQ1RYX1RJTUVTVEFNUCwgUklOR19D
VFhfVElNRVNUQU1QKGJhc2UpLCAwKTsKPiArCUNUWF9SRUcoZW5naW5lLCByZWdzLCBDVFhfQ1RY
X1RJTUVTVEFNUCwgUklOR19DVFhfVElNRVNUQU1QKGJhc2UpLCAwKTsKPiAgIAkvKiBQRFAgdmFs
dWVzIHdlbGwgYmUgYXNzaWduZWQgbGF0ZXIgaWYgbmVlZGVkICovCj4gLQlDVFhfUkVHKHJlZ3Ms
IENUWF9QRFAzX1VEVywgR0VOOF9SSU5HX1BEUF9VRFcoYmFzZSwgMyksIDApOwo+IC0JQ1RYX1JF
RyhyZWdzLCBDVFhfUERQM19MRFcsIEdFTjhfUklOR19QRFBfTERXKGJhc2UsIDMpLCAwKTsKPiAt
CUNUWF9SRUcocmVncywgQ1RYX1BEUDJfVURXLCBHRU44X1JJTkdfUERQX1VEVyhiYXNlLCAyKSwg
MCk7Cj4gLQlDVFhfUkVHKHJlZ3MsIENUWF9QRFAyX0xEVywgR0VOOF9SSU5HX1BEUF9MRFcoYmFz
ZSwgMiksIDApOwo+IC0JQ1RYX1JFRyhyZWdzLCBDVFhfUERQMV9VRFcsIEdFTjhfUklOR19QRFBf
VURXKGJhc2UsIDEpLCAwKTsKPiAtCUNUWF9SRUcocmVncywgQ1RYX1BEUDFfTERXLCBHRU44X1JJ
TkdfUERQX0xEVyhiYXNlLCAxKSwgMCk7Cj4gLQlDVFhfUkVHKHJlZ3MsIENUWF9QRFAwX1VEVywg
R0VOOF9SSU5HX1BEUF9VRFcoYmFzZSwgMCksIDApOwo+IC0JQ1RYX1JFRyhyZWdzLCBDVFhfUERQ
MF9MRFcsIEdFTjhfUklOR19QRFBfTERXKGJhc2UsIDApLCAwKTsKPiArCUNUWF9SRUcoZW5naW5l
LCByZWdzLCBDVFhfUERQM19VRFcsIEdFTjhfUklOR19QRFBfVURXKGJhc2UsIDMpLCAwKTsKPiAr
CUNUWF9SRUcoZW5naW5lLCByZWdzLCBDVFhfUERQM19MRFcsIEdFTjhfUklOR19QRFBfTERXKGJh
c2UsIDMpLCAwKTsKPiArCUNUWF9SRUcoZW5naW5lLCByZWdzLCBDVFhfUERQMl9VRFcsIEdFTjhf
UklOR19QRFBfVURXKGJhc2UsIDIpLCAwKTsKPiArCUNUWF9SRUcoZW5naW5lLCByZWdzLCBDVFhf
UERQMl9MRFcsIEdFTjhfUklOR19QRFBfTERXKGJhc2UsIDIpLCAwKTsKPiArCUNUWF9SRUcoZW5n
aW5lLCByZWdzLCBDVFhfUERQMV9VRFcsIEdFTjhfUklOR19QRFBfVURXKGJhc2UsIDEpLCAwKTsK
PiArCUNUWF9SRUcoZW5naW5lLCByZWdzLCBDVFhfUERQMV9MRFcsIEdFTjhfUklOR19QRFBfTERX
KGJhc2UsIDEpLCAwKTsKPiArCUNUWF9SRUcoZW5naW5lLCByZWdzLCBDVFhfUERQMF9VRFcsIEdF
TjhfUklOR19QRFBfVURXKGJhc2UsIDApLCAwKTsKPiArCUNUWF9SRUcoZW5naW5lLCByZWdzLCBD
VFhfUERQMF9MRFcsIEdFTjhfUklOR19QRFBfTERXKGJhc2UsIDApLCAwKTsKPiAgIAo+ICAgCWlm
IChpOTE1X3ZtX2lzXzRsdmwoJnBwZ3R0LT52bSkpIHsKPiAgIAkJLyogNjRiIFBQR1RUICg0OGJp
dCBjYW5vbmljYWwpCj4gQEAgLTI2MTIsOCArMjYxOCw5IEBAIHN0YXRpYyB2b2lkIGV4ZWNsaXN0
c19pbml0X3JlZ19zdGF0ZSh1MzIgKnJlZ3MsCj4gICAJfQo+ICAgCj4gICAJaWYgKHJjcykgewo+
IC0JCXJlZ3NbQ1RYX0xSSV9IRUFERVJfMl0gPSBNSV9MT0FEX1JFR0lTVEVSX0lNTSgxKTsKPiAt
CQlDVFhfUkVHKHJlZ3MsIENUWF9SX1BXUl9DTEtfU1RBVEUsIEdFTjhfUl9QV1JfQ0xLX1NUQVRF
LCAwKTsKPiArCQlyZWdzW0NUWF9MUklfSEVBREVSXzJdID0gaTkxNV9nZXRfbHJpX2NtZChlbmdp
bmUsIDEpOwo+ICsJCUNUWF9SRUcoZW5naW5lLCByZWdzLCBDVFhfUl9QV1JfQ0xLX1NUQVRFLAo+
ICsJCQlHRU44X1JfUFdSX0NMS19TVEFURSwgMCk7Cj4gICAKPiAgIAkJaTkxNV9vYV9pbml0X3Jl
Z19zdGF0ZShlbmdpbmUsIGNlLCByZWdzKTsKPiAgIAl9Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMv
Z3B1L2RybS9pOTE1L2d0L2ludGVsX2xyY19yZWcuaCBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0
L2ludGVsX2xyY19yZWcuaAo+IGluZGV4IDVlZjkzMmQ4MTBhNy4uNDBiMTE0MmQwZDc0IDEwMDY0
NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2xyY19yZWcuaAo+ICsrKyBi
L2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2xyY19yZWcuaAo+IEBAIC0zOSwxMCArMzks
MTAgQEAKPiAgICNkZWZpbmUgQ1RYX1JfUFdSX0NMS19TVEFURQkJMHg0Mgo+ICAgI2RlZmluZSBD
VFhfRU5ECQkJCTB4NDQKPiAgIAo+IC0jZGVmaW5lIENUWF9SRUcocmVnX3N0YXRlLCBwb3MsIHJl
ZywgdmFsKSBkbyB7IFwKPiArI2RlZmluZSBDVFhfUkVHKGVuZ2luZSwgcmVnX3N0YXRlLCBwb3Ms
IHJlZywgdmFsKSBkbyB7IFwKPiAgIAl1MzIgKnJlZ19zdGF0ZV9fID0gKHJlZ19zdGF0ZSk7IFwK
PiAgIAljb25zdCB1MzIgcG9zX18gPSAocG9zKTsgXAo+IC0JKHJlZ19zdGF0ZV9fKVsocG9zX18p
ICsgMF0gPSBpOTE1X21taW9fcmVnX29mZnNldChyZWcpOyBcCj4gKwkocmVnX3N0YXRlX18pWyhw
b3NfXykgKyAwXSA9IGk5MTVfZ2V0X2xyaV9yZWcoKGVuZ2luZSksIChyZWcpKTsgXAo+ICAgCShy
ZWdfc3RhdGVfXylbKHBvc19fKSArIDFdID0gKHZhbCk7IFwKPiAgIH0gd2hpbGUgKDApCj4gICAK
PiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfbW9jcy5jIGIvZHJp
dmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfbW9jcy5jCj4gaW5kZXggNzlkZjY2MDIyZDNhLi41
ZGFlNjMzMzQ4MWQgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxf
bW9jcy5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfbW9jcy5jCj4gQEAg
LTMyNCw5ICszMjQsNiBAQCBzdGF0aWMgdTMyIGdldF9lbnRyeV9jb250cm9sKGNvbnN0IHN0cnVj
dCBkcm1faTkxNV9tb2NzX3RhYmxlICp0YWJsZSwKPiAgIC8qKgo+ICAgICogaW50ZWxfbW9jc19p
bml0X2VuZ2luZSgpIC0gZW1pdCB0aGUgbW9jcyBjb250cm9sIHRhYmxlCj4gICAgKiBAZW5naW5l
OglUaGUgZW5naW5lIGZvciB3aG9tIHRvIGVtaXQgdGhlIHJlZ2lzdGVycy4KPiAtICoKPiAtICog
VGhpcyBmdW5jdGlvbiBzaW1wbHkgZW1pdHMgYSBNSV9MT0FEX1JFR0lTVEVSX0lNTSBjb21tYW5k
IGZvciB0aGUKPiAtICogZ2l2ZW4gdGFibGUgc3RhcnRpbmcgYXQgdGhlIGdpdmVuIGFkZHJlc3Mu
Cj4gICAgKi8KPiAgIHZvaWQgaW50ZWxfbW9jc19pbml0X2VuZ2luZShzdHJ1Y3QgaW50ZWxfZW5n
aW5lX2NzICplbmdpbmUpCj4gICB7Cj4gQEAgLTM4MCwxOCArMzc3LDIwIEBAIHN0YXRpYyBpbnQg
ZW1pdF9tb2NzX2NvbnRyb2xfdGFibGUoc3RydWN0IGk5MTVfcmVxdWVzdCAqcnEsCj4gICAJaWYg
KElTX0VSUihjcykpCj4gICAJCXJldHVybiBQVFJfRVJSKGNzKTsKPiAgIAo+IC0JKmNzKysgPSBN
SV9MT0FEX1JFR0lTVEVSX0lNTSh0YWJsZS0+bl9lbnRyaWVzKTsKPiArCSpjcysrID0gaTkxNV9n
ZXRfbHJpX2NtZChycS0+ZW5naW5lLCB0YWJsZS0+bl9lbnRyaWVzKTsKPiAgIAo+ICAgCWZvciAo
aW5kZXggPSAwOyBpbmRleCA8IHRhYmxlLT5zaXplOyBpbmRleCsrKSB7Cj4gICAJCXUzMiB2YWx1
ZSA9IGdldF9lbnRyeV9jb250cm9sKHRhYmxlLCBpbmRleCk7Cj4gICAKPiAtCQkqY3MrKyA9IGk5
MTVfbW1pb19yZWdfb2Zmc2V0KG1vY3NfcmVnaXN0ZXIoZW5naW5lLCBpbmRleCkpOwo+ICsJCSpj
cysrID0gaTkxNV9nZXRfbHJpX3JlZyhycS0+ZW5naW5lLAo+ICsJCQkJCSBtb2NzX3JlZ2lzdGVy
KGVuZ2luZSwgaW5kZXgpKTsKPiAgIAkJKmNzKysgPSB2YWx1ZTsKPiAgIAl9Cj4gICAKPiAgIAkv
KiBBbGwgcmVtYWluaW5nIGVudHJpZXMgYXJlIGFsc28gdW51c2VkICovCj4gICAJZm9yICg7IGlu
ZGV4IDwgdGFibGUtPm5fZW50cmllczsgaW5kZXgrKykgewo+IC0JCSpjcysrID0gaTkxNV9tbWlv
X3JlZ19vZmZzZXQobW9jc19yZWdpc3RlcihlbmdpbmUsIGluZGV4KSk7Cj4gKwkJKmNzKysgPSBp
OTE1X2dldF9scmlfcmVnKHJxLT5lbmdpbmUsCj4gKwkJCQkJIG1vY3NfcmVnaXN0ZXIoZW5naW5l
LCBpbmRleCkpOwo+ICAgCQkqY3MrKyA9IHVudXNlZF92YWx1ZTsKPiAgIAl9Cj4gICAKPiBAQCAt
NDQ5LDcgKzQ0OCwxMSBAQCBzdGF0aWMgaW50IGVtaXRfbW9jc19sM2NjX3RhYmxlKHN0cnVjdCBp
OTE1X3JlcXVlc3QgKnJxLAo+ICAgCWlmIChJU19FUlIoY3MpKQo+ICAgCQlyZXR1cm4gUFRSX0VS
Uihjcyk7Cj4gICAKPiAtCSpjcysrID0gTUlfTE9BRF9SRUdJU1RFUl9JTU0odGFibGUtPm5fZW50
cmllcyAvIDIpOwo+ICsJLyoKPiArCSAqIEdFTjlfTE5DRkNNT0NTIGlzIG5vdCBlbmdpbmUgcmVs
YXRpdmUsIHRoZXJlZm9yZSB0aGVyZSBpcyBubwo+ICsJICogbmVlZCBmb3IgcmVsYXRpdmUgYWRk
cmVzc2luZz8KPiArCSAqLwo+ICsJKmNzKysgPSBfX01JX0xPQURfUkVHSVNURVJfSU1NKHRhYmxl
LT5uX2VudHJpZXMgLyAyKTsKPiAgIAo+ICAgCWZvciAoaSA9IDA7IGkgPCB0YWJsZS0+c2l6ZSAv
IDI7IGkrKykgewo+ICAgCQl1MTYgbG93ID0gZ2V0X2VudHJ5X2wzY2ModGFibGUsIDIgKiBpKTsK
PiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfcmluZ2J1ZmZlci5j
IGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfcmluZ2J1ZmZlci5jCj4gaW5kZXggZjBk
NjBhZmZkYmEzLi5lOThjMmZlNzI3YTUgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5
MTUvZ3QvaW50ZWxfcmluZ2J1ZmZlci5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3Qv
aW50ZWxfcmluZ2J1ZmZlci5jCj4gQEAgLTE1MTYsMTIgKzE1MTYsMTMgQEAgc3RhdGljIGludCBs
b2FkX3BkX2RpcihzdHJ1Y3QgaTkxNV9yZXF1ZXN0ICpycSwKPiAgIAlpZiAoSVNfRVJSKGNzKSkK
PiAgIAkJcmV0dXJuIFBUUl9FUlIoY3MpOwo+ICAgCj4gLQkqY3MrKyA9IE1JX0xPQURfUkVHSVNU
RVJfSU1NKDEpOwo+IC0JKmNzKysgPSBpOTE1X21taW9fcmVnX29mZnNldChSSU5HX1BQX0RJUl9E
Q0xWKGVuZ2luZS0+bW1pb19iYXNlKSk7Cj4gKwkvKiBDYW4gdGhlc2Ugbm90IGJlIG1lcmdlZCBp
bnRvIGEgc2luZ2xlIExSST8/PyAqLwo+ICsJKmNzKysgPSBpOTE1X2dldF9scmlfY21kKGVuZ2lu
ZSwgMSk7Cj4gKwkqY3MrKyA9IGk5MTVfZ2V0X2xyaV9yZWcoZW5naW5lLCBSSU5HX1BQX0RJUl9E
Q0xWKGVuZ2luZS0+bW1pb19iYXNlKSk7Cj4gICAJKmNzKysgPSBQUF9ESVJfRENMVl8yRzsKPiAg
IAo+IC0JKmNzKysgPSBNSV9MT0FEX1JFR0lTVEVSX0lNTSgxKTsKPiAtCSpjcysrID0gaTkxNV9t
bWlvX3JlZ19vZmZzZXQoUklOR19QUF9ESVJfQkFTRShlbmdpbmUtPm1taW9fYmFzZSkpOwo+ICsJ
KmNzKysgPSBpOTE1X2dldF9scmlfY21kKGVuZ2luZSwgMSk7Cj4gKwkqY3MrKyA9IGk5MTVfZ2V0
X2xyaV9yZWcoZW5naW5lLCBSSU5HX1BQX0RJUl9CQVNFKGVuZ2luZS0+bW1pb19iYXNlKSk7Cj4g
ICAJKmNzKysgPSBwcGd0dC0+cGQuYmFzZS5nZ3R0X29mZnNldCA8PCAxMDsKPiAgIAo+ICAgCWlu
dGVsX3JpbmdfYWR2YW5jZShycSwgY3MpOwo+IEBAIC0xNTg5LDcgKzE1OTAsMTEgQEAgc3RhdGlj
IGlubGluZSBpbnQgbWlfc2V0X2NvbnRleHQoc3RydWN0IGk5MTVfcmVxdWVzdCAqcnEsIHUzMiBm
bGFncykKPiAgIAkJaWYgKG51bV9lbmdpbmVzKSB7Cj4gICAJCQlzdHJ1Y3QgaW50ZWxfZW5naW5l
X2NzICpzaWduYWxsZXI7Cj4gICAKPiAtCQkJKmNzKysgPSBNSV9MT0FEX1JFR0lTVEVSX0lNTShu
dW1fZW5naW5lcyk7Cj4gKwkJCS8qCj4gKwkJCSAqIE11c3QgdXNlIGFic29sdXRlIGVuZ2luZSBh
ZGRyZXNzIGFzIHRoZSByZWdpc3Rlcgo+ICsJCQkgKiB3cml0ZSBpcyB0YXJnZXRpbmcgYSBkaWZm
ZXJlbnQgZW5naW5lLgo+ICsJCQkgKi8KPiArCQkJKmNzKysgPSBfX01JX0xPQURfUkVHSVNURVJf
SU1NKG51bV9lbmdpbmVzKTsKPiAgIAkJCWZvcl9lYWNoX2VuZ2luZShzaWduYWxsZXIsIGk5MTUs
IGlkKSB7Cj4gICAJCQkJaWYgKHNpZ25hbGxlciA9PSBlbmdpbmUpCj4gICAJCQkJCWNvbnRpbnVl
Owo+IEBAIC0xNjQzLDcgKzE2NDgsMTEgQEAgc3RhdGljIGlubGluZSBpbnQgbWlfc2V0X2NvbnRl
eHQoc3RydWN0IGk5MTVfcmVxdWVzdCAqcnEsIHUzMiBmbGFncykKPiAgIAkJCXN0cnVjdCBpbnRl
bF9lbmdpbmVfY3MgKnNpZ25hbGxlcjsKPiAgIAkJCWk5MTVfcmVnX3QgbGFzdF9yZWcgPSB7fTsg
Lyoga2VlcCBnY2MgcXVpZXQgKi8KPiAgIAo+IC0JCQkqY3MrKyA9IE1JX0xPQURfUkVHSVNURVJf
SU1NKG51bV9lbmdpbmVzKTsKPiArCQkJLyoKPiArCQkJICogTXVzdCB1c2UgYWJzb2x1dGUgZW5n
aW5lIGFkZHJlc3MgYXMgdGhlIHJlZ2lzdGVyCj4gKwkJCSAqIHdyaXRlIGlzIHRhcmdldGluZyBh
IGRpZmZlcmVudCBlbmdpbmUuCj4gKwkJCSAqLwo+ICsJCQkqY3MrKyA9IF9fTUlfTE9BRF9SRUdJ
U1RFUl9JTU0obnVtX2VuZ2luZXMpOwo+ICAgCQkJZm9yX2VhY2hfZW5naW5lKHNpZ25hbGxlciwg
aTkxNSwgaWQpIHsKPiAgIAkJCQlpZiAoc2lnbmFsbGVyID09IGVuZ2luZSkKPiAgIAkJCQkJY29u
dGludWU7Cj4gQEAgLTE2ODcsOSArMTY5Niw5IEBAIHN0YXRpYyBpbnQgcmVtYXBfbDMoc3RydWN0
IGk5MTVfcmVxdWVzdCAqcnEsIGludCBzbGljZSkKPiAgIAkgKiBoZXJlIGJlY2F1c2Ugbm8gb3Ro
ZXIgY29kZSBzaG91bGQgYWNjZXNzIHRoZXNlIHJlZ2lzdGVycyBvdGhlciB0aGFuCj4gICAJICog
YXQgaW5pdGlhbGl6YXRpb24gdGltZS4KPiAgIAkgKi8KPiAtCSpjcysrID0gTUlfTE9BRF9SRUdJ
U1RFUl9JTU0oR0VON19MM0xPR19TSVpFLzQpOwo+ICsJKmNzKysgPSBpOTE1X2dldF9scmlfY21k
KHJxLT5lbmdpbmUsIEdFTjdfTDNMT0dfU0laRS80KTsKPiAgIAlmb3IgKGkgPSAwOyBpIDwgR0VO
N19MM0xPR19TSVpFLzQ7IGkrKykgewo+IC0JCSpjcysrID0gaTkxNV9tbWlvX3JlZ19vZmZzZXQo
R0VON19MM0xPRyhzbGljZSwgaSkpOwo+ICsJCSpjcysrID0gaTkxNV9nZXRfbHJpX3JlZyhycS0+
ZW5naW5lLCBHRU43X0wzTE9HKHNsaWNlLCBpKSk7Cj4gICAJCSpjcysrID0gcmVtYXBfaW5mb1tp
XTsKPiAgIAl9Cj4gICAJKmNzKysgPSBNSV9OT09QOwo+IEBAIC0yMzM1LDMgKzIzNDQsMjMgQEAg
aW50IGludGVsX3Jpbmdfc3VibWlzc2lvbl9pbml0KHN0cnVjdCBpbnRlbF9lbmdpbmVfY3MgKmVu
Z2luZSkKPiAgIAlpbnRlbF9lbmdpbmVfY2xlYW51cF9jb21tb24oZW5naW5lKTsKPiAgIAlyZXR1
cm4gZXJyOwo+ICAgfQo+ICsKPiArdTMyIGk5MTVfZ2V0X2xyaV9jbWQoY29uc3Qgc3RydWN0IGlu
dGVsX2VuZ2luZV9jcyAqZW5naW5lLCB1MzIgd29yZF9jb3VudCkKPiArewo+ICsJdTMyIHdvcmQ7
Cj4gKwo+ICsJd29yZCA9IF9fTUlfTE9BRF9SRUdJU1RFUl9JTU0od29yZF9jb3VudCk7Cj4gKwo+
ICsJaWYgKGk5MTVfZW5naW5lX2hhc19yZWxhdGl2ZV9scmkoZW5naW5lKSkKPiArCQl3b3JkIHw9
IE1JX0xSSV9BRERfQ1NfTU1JT19TVEFSVF9HRU4xMTsKPiArCj4gKwlyZXR1cm4gd29yZDsKPiAr
fQo+ICsKPiArdTMyIGk5MTVfZ2V0X2xyaV9yZWcoY29uc3Qgc3RydWN0IGludGVsX2VuZ2luZV9j
cyAqZW5naW5lLCBpOTE1X3JlZ190IHJlZykKPiArewo+ICsJaWYgKCFpOTE1X2VuZ2luZV9oYXNf
cmVsYXRpdmVfbHJpKGVuZ2luZSkpCj4gKwkJcmV0dXJuIGk5MTVfbW1pb19yZWdfb2Zmc2V0KHJl
Zyk7Cj4gKwo+ICsJcmV0dXJuIGk5MTVfbW1pb19yZWdfb2Zmc2V0KHJlZykgLSBlbmdpbmUtPm1t
aW9fYmFzZTsKPiArfQo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRl
bF93b3JrYXJvdW5kcy5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfd29ya2Fyb3Vu
ZHMuYwo+IGluZGV4IDQzZTI5MDMwNjU1MS4uZDVlZGMxMGM4NjBjIDEwMDY0NAo+IC0tLSBhL2Ry
aXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX3dvcmthcm91bmRzLmMKPiArKysgYi9kcml2ZXJz
L2dwdS9kcm0vaTkxNS9ndC9pbnRlbF93b3JrYXJvdW5kcy5jCj4gQEAgLTYyNSw5ICs2MjUsOSBA
QCBpbnQgaW50ZWxfZW5naW5lX2VtaXRfY3R4X3dhKHN0cnVjdCBpOTE1X3JlcXVlc3QgKnJxKQo+
ICAgCWlmIChJU19FUlIoY3MpKQo+ICAgCQlyZXR1cm4gUFRSX0VSUihjcyk7Cj4gICAKPiAtCSpj
cysrID0gTUlfTE9BRF9SRUdJU1RFUl9JTU0od2FsLT5jb3VudCk7Cj4gKwkqY3MrKyA9IGk5MTVf
Z2V0X2xyaV9jbWQocnEtPmVuZ2luZSwgd2FsLT5jb3VudCk7Cj4gICAJZm9yIChpID0gMCwgd2Eg
PSB3YWwtPmxpc3Q7IGkgPCB3YWwtPmNvdW50OyBpKyssIHdhKyspIHsKPiAtCQkqY3MrKyA9IGk5
MTVfbW1pb19yZWdfb2Zmc2V0KHdhLT5yZWcpOwo+ICsJCSpjcysrID0gaTkxNV9nZXRfbHJpX3Jl
ZyhycS0+ZW5naW5lLCB3YS0+cmVnKTsKPiAgIAkJKmNzKysgPSB3YS0+dmFsOwo+ICAgCX0KPiAg
IAkqY3MrKyA9IE1JX05PT1A7Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0
L3NlbGZ0ZXN0X3dvcmthcm91bmRzLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9zZWxmdGVz
dF93b3JrYXJvdW5kcy5jCj4gaW5kZXggOWY3NjgwYjk5ODRiLi5iMDUxM2MxZGU1M2MgMTAwNjQ0
Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3Qvc2VsZnRlc3Rfd29ya2Fyb3VuZHMuYwo+
ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L3NlbGZ0ZXN0X3dvcmthcm91bmRzLmMKPiBA
QCAtNDQyLDYgKzQ0Miw3IEBAIHN0YXRpYyBpbnQgY2hlY2tfZGlydHlfd2hpdGVsaXN0KHN0cnVj
dCBpOTE1X2dlbV9jb250ZXh0ICpjdHgsCj4gICAKPiAgIAlmb3IgKGkgPSAwOyBpIDwgZW5naW5l
LT53aGl0ZWxpc3QuY291bnQ7IGkrKykgewo+ICAgCQl1MzIgcmVnID0gaTkxNV9tbWlvX3JlZ19v
ZmZzZXQoZW5naW5lLT53aGl0ZWxpc3QubGlzdFtpXS5yZWcpOwo+ICsJCXUzMiByZWdMUkkgPSBp
OTE1X2dldF9scmlfcmVnKGVuZ2luZSwgZW5naW5lLT53aGl0ZWxpc3QubGlzdFtpXS5yZWcpOwo+
ICAgCQl1NjQgYWRkciA9IHNjcmF0Y2gtPm5vZGUuc3RhcnQ7Cj4gICAJCXN0cnVjdCBpOTE1X3Jl
cXVlc3QgKnJxOwo+ICAgCQl1MzIgc3JtLCBscm0sIHJzdmQ7Cj4gQEAgLTQ3NCw4ICs0NzUsOCBA
QCBzdGF0aWMgaW50IGNoZWNrX2RpcnR5X3doaXRlbGlzdChzdHJ1Y3QgaTkxNV9nZW1fY29udGV4
dCAqY3R4LAo+ICAgCQlpZHggPSAxOwo+ICAgCQlmb3IgKHYgPSAwOyB2IDwgQVJSQVlfU0laRSh2
YWx1ZXMpOyB2KyspIHsKPiAgIAkJCS8qIExSSSBnYXJiYWdlICovCj4gLQkJCSpjcysrID0gTUlf
TE9BRF9SRUdJU1RFUl9JTU0oMSk7Cj4gLQkJCSpjcysrID0gcmVnOwo+ICsJCQkqY3MrKyA9IGk5
MTVfZ2V0X2xyaV9jbWQoZW5naW5lLCAxKTsKPiArCQkJKmNzKysgPSByZWdMUkk7Cj4gICAJCQkq
Y3MrKyA9IHZhbHVlc1t2XTsKPiAgIAo+ICAgCQkJLyogU1JNIHJlc3VsdCAqLwo+IEBAIC00ODcs
OCArNDg4LDggQEAgc3RhdGljIGludCBjaGVja19kaXJ0eV93aGl0ZWxpc3Qoc3RydWN0IGk5MTVf
Z2VtX2NvbnRleHQgKmN0eCwKPiAgIAkJfQo+ICAgCQlmb3IgKHYgPSAwOyB2IDwgQVJSQVlfU0la
RSh2YWx1ZXMpOyB2KyspIHsKPiAgIAkJCS8qIExSSSBnYXJiYWdlICovCj4gLQkJCSpjcysrID0g
TUlfTE9BRF9SRUdJU1RFUl9JTU0oMSk7Cj4gLQkJCSpjcysrID0gcmVnOwo+ICsJCQkqY3MrKyA9
IGk5MTVfZ2V0X2xyaV9jbWQoZW5naW5lLCAxKTsKPiArCQkJKmNzKysgPSByZWdMUkk7Cj4gICAJ
CQkqY3MrKyA9IH52YWx1ZXNbdl07Cj4gICAKPiAgIAkJCS8qIFNSTSByZXN1bHQgKi8KPiBkaWZm
IC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3Z0L21taW9fY29udGV4dC5jIGIvZHJpdmVy
cy9ncHUvZHJtL2k5MTUvZ3Z0L21taW9fY29udGV4dC5jCj4gaW5kZXggYTI3YmRkMzk1MWY2Li4z
ODA3Y2U1ZmU1NjQgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3Z0L21taW9f
Y29udGV4dC5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3Z0L21taW9fY29udGV4dC5j
Cj4gQEAgLTIwMCwxNCArMjAwLDE0IEBAIHJlc3RvcmVfY29udGV4dF9tbWlvX2Zvcl9pbmhpYml0
KHN0cnVjdCBpbnRlbF92Z3B1ICp2Z3B1LAo+ICAgCWlmIChJU19FUlIoY3MpKQo+ICAgCQlyZXR1
cm4gUFRSX0VSUihjcyk7Cj4gICAKPiAtCSpjcysrID0gTUlfTE9BRF9SRUdJU1RFUl9JTU0oY291
bnQpOwo+ICsJKmNzKysgPSBpOTE1X2dldF9scmlfY21kKHJlcS0+ZW5naW5lLCBjb3VudCk7Cj4g
ICAJZm9yIChtbWlvID0gZ3Z0LT5lbmdpbmVfbW1pb19saXN0Lm1taW87Cj4gICAJICAgICBpOTE1
X21taW9fcmVnX3ZhbGlkKG1taW8tPnJlZyk7IG1taW8rKykgewo+ICAgCQlpZiAobW1pby0+cmlu
Z19pZCAhPSByaW5nX2lkIHx8Cj4gICAJCSAgICAhbW1pby0+aW5fY29udGV4dCkKPiAgIAkJCWNv
bnRpbnVlOwo+ICAgCj4gLQkJKmNzKysgPSBpOTE1X21taW9fcmVnX29mZnNldChtbWlvLT5yZWcp
Owo+ICsJCSpjcysrID0gaTkxNV9nZXRfbHJpX3JlZyhyZXEtPmVuZ2luZSwgbW1pby0+cmVnKTsK
PiAgIAkJKmNzKysgPSB2Z3B1X3ZyZWdfdCh2Z3B1LCBtbWlvLT5yZWcpIHwKPiAgIAkJCQkobW1p
by0+bWFzayA8PCAxNik7Cj4gICAJCWd2dF9kYmdfY29yZSgiYWRkIGxyaSByZWcgcGFpciAweCV4
OjB4JXggaW4gaW5oaWJpdCBjdHgsIHZncHU6JWQsIHJpbmRfaWQ6JWRcbiIsCj4gQEAgLTIzNSw3
ICsyMzUsMTEgQEAgcmVzdG9yZV9yZW5kZXJfbW9jc19jb250cm9sX2Zvcl9pbmhpYml0KHN0cnVj
dCBpbnRlbF92Z3B1ICp2Z3B1LAo+ICAgCWlmIChJU19FUlIoY3MpKQo+ICAgCQlyZXR1cm4gUFRS
X0VSUihjcyk7Cj4gICAKPiAtCSpjcysrID0gTUlfTE9BRF9SRUdJU1RFUl9JTU0oR0VOOV9NT0NT
X1NJWkUpOwo+ICsJLyoKPiArCSAqIEdFTjlfR0ZYX01PQ1MgaXMgbm90IGVuZ2luZSByZWxhdGl2
ZSwgdGhlcmVmb3JlIHRoZXJlIGlzIG5vCj4gKwkgKiBuZWVkIGZvciByZWxhdGl2ZSBhZGRyZXNz
aW5nLgo+ICsJICovCj4gKwkqY3MrKyA9IF9fTUlfTE9BRF9SRUdJU1RFUl9JTU0oR0VOOV9NT0NT
X1NJWkUpOwo+ICAgCj4gICAJZm9yIChpbmRleCA9IDA7IGluZGV4IDwgR0VOOV9NT0NTX1NJWkU7
IGluZGV4KyspIHsKPiAgIAkJKmNzKysgPSBpOTE1X21taW9fcmVnX29mZnNldChHRU45X0dGWF9N
T0NTKGluZGV4KSk7Cj4gQEAgLTI2Miw3ICsyNjYsMTEgQEAgcmVzdG9yZV9yZW5kZXJfbW9jc19s
M2NjX2Zvcl9pbmhpYml0KHN0cnVjdCBpbnRlbF92Z3B1ICp2Z3B1LAo+ICAgCWlmIChJU19FUlIo
Y3MpKQo+ICAgCQlyZXR1cm4gUFRSX0VSUihjcyk7Cj4gICAKPiAtCSpjcysrID0gTUlfTE9BRF9S
RUdJU1RFUl9JTU0oR0VOOV9NT0NTX1NJWkUgLyAyKTsKPiArCS8qCj4gKwkgKiBHRU45X0xOQ0ZD
TU9DUyBpcyBub3QgZW5naW5lIHJlbGF0aXZlLCB0aGVyZWZvcmUgdGhlcmUgaXMgbm8KPiArCSAq
IG5lZWQgZm9yIHJlbGF0aXZlIGFkZHJlc3NpbmcuCj4gKwkgKi8KPiArCSpjcysrID0gX19NSV9M
T0FEX1JFR0lTVEVSX0lNTShHRU45X01PQ1NfU0laRSAvIDIpOwo+ICAgCj4gICAJZm9yIChpbmRl
eCA9IDA7IGluZGV4IDwgR0VOOV9NT0NTX1NJWkUgLyAyOyBpbmRleCsrKSB7Cj4gICAJCSpjcysr
ID0gaTkxNV9tbWlvX3JlZ19vZmZzZXQoR0VOOV9MTkNGQ01PQ1MoaW5kZXgpKTsKPiBkaWZmIC0t
Z2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9jbWRfcGFyc2VyLmMgYi9kcml2ZXJzL2dw
dS9kcm0vaTkxNS9pOTE1X2NtZF9wYXJzZXIuYwo+IGluZGV4IGU5ZmFkY2I0ZDU5Mi4uZmQxODNl
NzJkYWNlIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfY21kX3BhcnNl
ci5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9jbWRfcGFyc2VyLmMKPiBAQCAt
MjIxLDcgKzIyMSw3IEBAIHN0YXRpYyBjb25zdCBzdHJ1Y3QgZHJtX2k5MTVfY21kX2Rlc2NyaXB0
b3IgY29tbW9uX2NtZHNbXSA9IHsKPiAgIAlDTUQoICBNSV9TVVNQRU5EX0ZMVVNILCAgICAgICAg
ICAgICAgICAgU01JLCAgICBGLCAgMSwgICAgICBTICApLAo+ICAgCUNNRCggIE1JX1NFTUFQSE9S
RV9NQk9YLCAgICAgICAgICAgICAgICBTTUksICAgIUYsICAweEZGLCAgIFIgICksCj4gICAJQ01E
KCAgTUlfU1RPUkVfRFdPUkRfSU5ERVgsICAgICAgICAgICAgIFNNSSwgICAhRiwgIDB4RkYsICAg
UiAgKSwKPiAtCUNNRCggIE1JX0xPQURfUkVHSVNURVJfSU1NKDEpLCAgICAgICAgICBTTUksICAg
IUYsICAweEZGLCAgIFcsCj4gKwlDTUQoICBfX01JX0xPQURfUkVHSVNURVJfSU1NKDEpLCAgICAg
ICAgU01JLCAgICFGLCAgMHhGRiwgICBXLAo+ICAgCSAgICAgIC5yZWcgPSB7IC5vZmZzZXQgPSAx
LCAubWFzayA9IDB4MDA3RkZGRkMsIC5zdGVwID0gMiB9ICAgICksCj4gICAJQ01EKCAgTUlfU1RP
UkVfUkVHSVNURVJfTUVNLCAgICAgICAgICAgIFNNSSwgICAgRiwgIDMsICAgICBXIHwgQiwKPiAg
IAkgICAgICAucmVnID0geyAub2Zmc2V0ID0gMSwgLm1hc2sgPSAweDAwN0ZGRkZDIH0sCj4gQEAg
LTExODMsNyArMTE4Myw3IEBAIHN0YXRpYyBib29sIGNoZWNrX2NtZChjb25zdCBzdHJ1Y3QgaW50
ZWxfZW5naW5lX2NzICplbmdpbmUsCj4gICAJCQkJCXJldHVybiBmYWxzZTsKPiAgIAkJCQl9Cj4g
ICAKPiAtCQkJCWlmIChkZXNjLT5jbWQudmFsdWUgPT0gTUlfTE9BRF9SRUdJU1RFUl9JTU0oMSkg
JiYKPiArCQkJCWlmIChkZXNjLT5jbWQudmFsdWUgPT0gX19NSV9MT0FEX1JFR0lTVEVSX0lNTSgx
KSAmJgo+ICAgCQkJCSAgICAob2Zmc2V0ICsgMiA+IGxlbmd0aCB8fAo+ICAgCQkJCSAgICAgKGNt
ZFtvZmZzZXQgKyAxXSAmIHJlZy0+bWFzaykgIT0gcmVnLT52YWx1ZSkpIHsKPiAgIAkJCQkJRFJN
X0RFQlVHX0RSSVZFUigiQ01EOiBSZWplY3RlZCBMUkkgdG8gbWFza2VkIHJlZ2lzdGVyIDB4JTA4
WFxuIiwKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9nZW1fY29udGV4
dC5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9nZW1fY29udGV4dC5jCj4gaW5kZXggNjVj
ZWZjNTIwZTc5Li45ODI2MGQ4YTQ1YmUgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5
MTUvaTkxNV9nZW1fY29udGV4dC5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9n
ZW1fY29udGV4dC5jCj4gQEAgLTEwMjYsMTEgKzEwMjYsMTEgQEAgc3RhdGljIGludCBlbWl0X3Bw
Z3R0X3VwZGF0ZShzdHJ1Y3QgaTkxNV9yZXF1ZXN0ICpycSwgdm9pZCAqZGF0YSkKPiAgIAkJaWYg
KElTX0VSUihjcykpCj4gICAJCQlyZXR1cm4gUFRSX0VSUihjcyk7Cj4gICAKPiAtCQkqY3MrKyA9
IE1JX0xPQURfUkVHSVNURVJfSU1NKDIpOwo+ICsJCSpjcysrID0gaTkxNV9nZXRfbHJpX2NtZChl
bmdpbmUsIDIpOwo+ICAgCj4gLQkJKmNzKysgPSBpOTE1X21taW9fcmVnX29mZnNldChHRU44X1JJ
TkdfUERQX1VEVyhiYXNlLCAwKSk7Cj4gKwkJKmNzKysgPSBpOTE1X2dldF9scmlfcmVnKGVuZ2lu
ZSwgR0VOOF9SSU5HX1BEUF9VRFcoYmFzZSwgMCkpOwo+ICAgCQkqY3MrKyA9IHVwcGVyXzMyX2Jp
dHMocGRfZGFkZHIpOwo+IC0JCSpjcysrID0gaTkxNV9tbWlvX3JlZ19vZmZzZXQoR0VOOF9SSU5H
X1BEUF9MRFcoYmFzZSwgMCkpOwo+ICsJCSpjcysrID0gaTkxNV9nZXRfbHJpX3JlZyhlbmdpbmUs
IEdFTjhfUklOR19QRFBfTERXKGJhc2UsIDApKTsKPiAgIAkJKmNzKysgPSBsb3dlcl8zMl9iaXRz
KHBkX2RhZGRyKTsKPiAgIAo+ICAgCQkqY3MrKyA9IE1JX05PT1A7Cj4gQEAgLTEwNDAsMTMgKzEw
NDAsMTMgQEAgc3RhdGljIGludCBlbWl0X3BwZ3R0X3VwZGF0ZShzdHJ1Y3QgaTkxNV9yZXF1ZXN0
ICpycSwgdm9pZCAqZGF0YSkKPiAgIAkJaWYgKElTX0VSUihjcykpCj4gICAJCQlyZXR1cm4gUFRS
X0VSUihjcyk7Cj4gICAKPiAtCQkqY3MrKyA9IE1JX0xPQURfUkVHSVNURVJfSU1NKDIgKiBHRU44
XzNMVkxfUERQRVMpOwo+ICsJCSpjcysrID0gaTkxNV9nZXRfbHJpX2NtZChlbmdpbmUsIDIgKiBH
RU44XzNMVkxfUERQRVMpOwo+ICAgCQlmb3IgKGkgPSBHRU44XzNMVkxfUERQRVM7IGktLTsgKSB7
Cj4gICAJCQljb25zdCBkbWFfYWRkcl90IHBkX2RhZGRyID0gaTkxNV9wYWdlX2Rpcl9kbWFfYWRk
cihwcGd0dCwgaSk7Cj4gICAKPiAtCQkJKmNzKysgPSBpOTE1X21taW9fcmVnX29mZnNldChHRU44
X1JJTkdfUERQX1VEVyhiYXNlLCBpKSk7Cj4gKwkJCSpjcysrID0gaTkxNV9nZXRfbHJpX3JlZyhl
bmdpbmUsIEdFTjhfUklOR19QRFBfVURXKGJhc2UsIGkpKTsKPiAgIAkJCSpjcysrID0gdXBwZXJf
MzJfYml0cyhwZF9kYWRkcik7Cj4gLQkJCSpjcysrID0gaTkxNV9tbWlvX3JlZ19vZmZzZXQoR0VO
OF9SSU5HX1BEUF9MRFcoYmFzZSwgaSkpOwo+ICsJCQkqY3MrKyA9IGk5MTVfZ2V0X2xyaV9yZWco
ZW5naW5lLCBHRU44X1JJTkdfUERQX0xEVyhiYXNlLCBpKSk7Cj4gICAJCQkqY3MrKyA9IGxvd2Vy
XzMyX2JpdHMocGRfZGFkZHIpOwo+ICAgCQl9Cj4gICAJCSpjcysrID0gTUlfTk9PUDsKPiBkaWZm
IC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9nZW1fZXhlY2J1ZmZlci5jIGIvZHJp
dmVycy9ncHUvZHJtL2k5MTUvaTkxNV9nZW1fZXhlY2J1ZmZlci5jCj4gaW5kZXggNjc5ZjdjMTU2
MWJhLi5hYzViMDZkMmZmZGMgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkx
NV9nZW1fZXhlY2J1ZmZlci5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9nZW1f
ZXhlY2J1ZmZlci5jCj4gQEAgLTE5NjMsNyArMTk2Myw4IEBAIHN0YXRpYyBpbnQgaTkxNV9yZXNl
dF9nZW43X3NvbF9vZmZzZXRzKHN0cnVjdCBpOTE1X3JlcXVlc3QgKnJxKQo+ICAgCWlmIChJU19F
UlIoY3MpKQo+ICAgCQlyZXR1cm4gUFRSX0VSUihjcyk7Cj4gICAKPiAtCSpjcysrID0gTUlfTE9B
RF9SRUdJU1RFUl9JTU0oNCk7Cj4gKwkvKiBHZW43IG9ubHkgc28gbm8gbmVlZCB0byBzdXBwb3J0
IHJlbGF0aXZlIG9mZnNldHMgKi8KPiArCSpjcysrID0gX19NSV9MT0FEX1JFR0lTVEVSX0lNTSg0
KTsKPiAgIAlmb3IgKGkgPSAwOyBpIDwgNDsgaSsrKSB7Cj4gICAJCSpjcysrID0gaTkxNV9tbWlv
X3JlZ19vZmZzZXQoR0VON19TT19XUklURV9PRkZTRVQoaSkpOwo+ICAgCQkqY3MrKyA9IDA7Cj4g
ZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfcGVyZi5jIGIvZHJpdmVycy9n
cHUvZHJtL2k5MTUvaTkxNV9wZXJmLmMKPiBpbmRleCBjNDk5NWQ1YTE2ZDIuLjg2ZmFjYmNjZGIw
MiAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3BlcmYuYwo+ICsrKyBi
L2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfcGVyZi5jCj4gQEAgLTE2MzYsNyArMTYzNiw4IEBA
IHN0YXRpYyB2b2lkIGhzd19kaXNhYmxlX21ldHJpY19zZXQoc3RydWN0IGRybV9pOTE1X3ByaXZh
dGUgKmRldl9wcml2KQo+ICAgICogaW4gdGhlIGNhc2UgdGhhdCB0aGUgT0EgdW5pdCBoYXMgYmVl
biBkaXNhYmxlZC4KPiAgICAqLwo+ICAgc3RhdGljIHZvaWQKPiAtZ2VuOF91cGRhdGVfcmVnX3N0
YXRlX3VubG9ja2VkKHN0cnVjdCBpbnRlbF9jb250ZXh0ICpjZSwKPiArZ2VuOF91cGRhdGVfcmVn
X3N0YXRlX3VubG9ja2VkKHN0cnVjdCBpbnRlbF9lbmdpbmVfY3MgKmVuZ2luZSwKPiArCQkJICAg
ICAgIHN0cnVjdCBpbnRlbF9jb250ZXh0ICpjZSwKCmNlLT5lbmdpbmU/Cgo+ICAgCQkJICAgICAg
IHUzMiAqcmVnX3N0YXRlLAo+ICAgCQkJICAgICAgIGNvbnN0IHN0cnVjdCBpOTE1X29hX2NvbmZp
ZyAqb2FfY29uZmlnKQo+ICAgewo+IEBAIC0xNjU1LDcgKzE2NTYsMTIgQEAgZ2VuOF91cGRhdGVf
cmVnX3N0YXRlX3VubG9ja2VkKHN0cnVjdCBpbnRlbF9jb250ZXh0ICpjZSwKPiAgIAl9Owo+ICAg
CWludCBpOwo+ICAgCj4gLQlDVFhfUkVHKHJlZ19zdGF0ZSwgY3R4X29hY3R4Y3RybCwgR0VOOF9P
QUNUWENPTlRST0wsCj4gKwkvKgo+ICsJICogTkI6IFRoZSBMUkkgaW5zdHJ1Y3Rpb24gaXMgZ2Vu
ZXJhdGVkIGJ5IHRoZSBoYXJkd2FyZS4KPiArCSAqIFNob3VsZCB3ZSByZWFkIGl0IGluIGFuZCBh
c3NlcnQgdGhhdCB0aGUgb2Zmc2V0IGZsYWcgaXMgc2V0Pwo+ICsJICovCj4gKwo+ICsJQ1RYX1JF
RyhlbmdpbmUsIHJlZ19zdGF0ZSwgY3R4X29hY3R4Y3RybCwgR0VOOF9PQUNUWENPTlRST0wsCj4g
ICAJCShpOTE1LT5wZXJmLm9hLnBlcmlvZF9leHBvbmVudCA8PCBHRU44X09BX1RJTUVSX1BFUklP
RF9TSElGVCkgfAo+ICAgCQkoaTkxNS0+cGVyZi5vYS5wZXJpb2RpYyA/IEdFTjhfT0FfVElNRVJf
RU5BQkxFIDogMCkgfAo+ICAgCQlHRU44X09BX0NPVU5URVJfUkVTVU1FKTsKPiBAQCAtMTY4Miwx
MCArMTY4OCwxMCBAQCBnZW44X3VwZGF0ZV9yZWdfc3RhdGVfdW5sb2NrZWQoc3RydWN0IGludGVs
X2NvbnRleHQgKmNlLAo+ICAgCQkJfQo+ICAgCQl9Cj4gICAKPiAtCQlDVFhfUkVHKHJlZ19zdGF0
ZSwgc3RhdGVfb2Zmc2V0LCBmbGV4X3JlZ3NbaV0sIHZhbHVlKTsKPiArCQlDVFhfUkVHKGVuZ2lu
ZSwgcmVnX3N0YXRlLCBzdGF0ZV9vZmZzZXQsIGZsZXhfcmVnc1tpXSwgdmFsdWUpOwo+ICAgCX0K
PiAgIAo+IC0JQ1RYX1JFRyhyZWdfc3RhdGUsCj4gKwlDVFhfUkVHKGVuZ2luZSwgcmVnX3N0YXRl
LAo+ICAgCQlDVFhfUl9QV1JfQ0xLX1NUQVRFLCBHRU44X1JfUFdSX0NMS19TVEFURSwKPiAgIAkJ
aW50ZWxfc3NldV9tYWtlX3JwY3MoaTkxNSwgJmNlLT5zc2V1KSk7Cj4gICB9Cj4gQEAgLTE3NzAs
NyArMTc3Niw3IEBAIHN0YXRpYyBpbnQgZ2VuOF9jb25maWd1cmVfYWxsX2NvbnRleHRzKHN0cnVj
dCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiwKPiAgIAkJCWNlLT5zdGF0ZS0+b2JqLT5tbS5k
aXJ0eSA9IHRydWU7Cj4gICAJCQlyZWdzICs9IExSQ19TVEFURV9QTiAqIFBBR0VfU0laRSAvIHNp
emVvZigqcmVncyk7Cj4gICAKPiAtCQkJZ2VuOF91cGRhdGVfcmVnX3N0YXRlX3VubG9ja2VkKGNl
LCByZWdzLCBvYV9jb25maWcpOwo+ICsJCQlnZW44X3VwZGF0ZV9yZWdfc3RhdGVfdW5sb2NrZWQo
ZGV2X3ByaXYtPmVuZ2luZVtSQ1MwXSwgY2UsIHJlZ3MsIG9hX2NvbmZpZyk7Cj4gICAKPiAgIAkJ
CWk5MTVfZ2VtX29iamVjdF91bnBpbl9tYXAoY2UtPnN0YXRlLT5vYmopOwo+ICAgCQl9Cj4gQEAg
LTIxNjYsNyArMjE3Miw4IEBAIHZvaWQgaTkxNV9vYV9pbml0X3JlZ19zdGF0ZShzdHJ1Y3QgaW50
ZWxfZW5naW5lX2NzICplbmdpbmUsCj4gICAKPiAgIAlzdHJlYW0gPSBlbmdpbmUtPmk5MTUtPnBl
cmYub2EuZXhjbHVzaXZlX3N0cmVhbTsKPiAgIAlpZiAoc3RyZWFtKQo+IC0JCWdlbjhfdXBkYXRl
X3JlZ19zdGF0ZV91bmxvY2tlZChjZSwgcmVncywgc3RyZWFtLT5vYV9jb25maWcpOwo+ICsJCWdl
bjhfdXBkYXRlX3JlZ19zdGF0ZV91bmxvY2tlZChlbmdpbmUsIGNlLCByZWdzLAo+ICsJCQkJCSAg
ICAgICBzdHJlYW0tPm9hX2NvbmZpZyk7Cj4gICB9Cj4gICAKPiAgIC8qKgo+IAoKUmVnYXJkcywK
ClR2cnRrbwpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpJ
bnRlbC1nZnggbWFpbGluZyBsaXN0CkludGVsLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0
cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9pbnRlbC1nZng=

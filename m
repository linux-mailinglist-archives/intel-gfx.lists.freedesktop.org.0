Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 42EA21030A2
	for <lists+intel-gfx@lfdr.de>; Wed, 20 Nov 2019 01:19:53 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 7ED656E8F6;
	Wed, 20 Nov 2019 00:19:50 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga05.intel.com (mga05.intel.com [192.55.52.43])
 by gabe.freedesktop.org (Postfix) with ESMTPS id D7F0E6E8F6
 for <intel-gfx@lists.freedesktop.org>; Wed, 20 Nov 2019 00:19:46 +0000 (UTC)
X-Amp-Result: UNKNOWN
X-Amp-Original-Verdict: FILE UNKNOWN
X-Amp-File-Uploaded: False
Received: from fmsmga004.fm.intel.com ([10.253.24.48])
 by fmsmga105.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 19 Nov 2019 16:19:46 -0800
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.69,219,1571727600"; d="scan'208";a="231739422"
Received: from mdroper-desk1.fm.intel.com (HELO
 mdroper-desk1.amr.corp.intel.com) ([10.1.27.135])
 by fmsmga004.fm.intel.com with ESMTP; 19 Nov 2019 16:19:46 -0800
Date: Tue, 19 Nov 2019 16:19:46 -0800
From: Matt Roper <matthew.d.roper@intel.com>
To: Stanislav Lisovskiy <stanislav.lisovskiy@intel.com>
Message-ID: <20191120001946.GC6381@mdroper-desk1.amr.corp.intel.com>
References: <20191115145401.20709-1-stanislav.lisovskiy@intel.com>
 <20191115145401.20709-3-stanislav.lisovskiy@intel.com>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <20191115145401.20709-3-stanislav.lisovskiy@intel.com>
User-Agent: Mutt/1.12.1 (2019-06-15)
Subject: Re: [Intel-gfx] [PATCH v12 2/2] drm/i915: Restrict qgv points which
 don't have enough bandwidth.
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: intel-gfx@lists.freedesktop.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

T24gRnJpLCBOb3YgMTUsIDIwMTkgYXQgMDQ6NTQ6MDFQTSArMDIwMCwgU3RhbmlzbGF2IExpc292
c2tpeSB3cm90ZToKPiBBY2NvcmRpbmcgdG8gQlNwZWMgNTM5OTgsIHdlIHNob3VsZCB0cnkgdG8K
PiByZXN0cmljdCBxZ3YgcG9pbnRzLCB3aGljaCBjYW4ndCBwcm92aWRlCj4gZW5vdWdoIGJhbmR3
aWR0aCBmb3IgZGVzaXJlZCBkaXNwbGF5IGNvbmZpZ3VyYXRpb24uCj4gCj4gQ3VycmVudGx5IHdl
IGFyZSBqdXN0IGNvbXBhcmluZyBhZ2FpbnN0IGFsbCBvZgo+IHRob3NlIGFuZCB0YWtlIG1pbmlt
dW0od29yc3QgY2FzZSkuCj4gCj4gdjI6IEZpeGVkIHdyb25nIFBDb2RlIHJlcGx5IG1hc2ssIHJl
bW92ZWQgaGFyZGNvZGVkCj4gICAgIHZhbHVlcy4KPiAKPiB2MzogRm9yYmlkIHNpbXVsdGFuZW91
cyBsZWdhY3kgU0FHViBQQ29kZSByZXF1ZXN0cyBhbmQKPiAgICAgcmVzdHJpY3RpbmcgcWd2IHBv
aW50cy4gUHV0IHRoZSBhY3R1YWwgcmVzdHJpY3Rpb24KPiAgICAgdG8gY29tbWl0IGZ1bmN0aW9u
LCBhZGRlZCBzZXJpYWxpemF0aW9uKHRoYW5rcyB0byBWaWxsZSkKPiAgICAgdG8gcHJldmVudCBj
b21taXQgYmVpbmcgYXBwbGllZCBvdXQgb2Ygb3JkZXIgaW4gY2FzZSBvZgo+ICAgICBub25ibG9j
a2luZyBhbmQvb3Igbm9tb2Rlc2V0IGNvbW1pdHMuCj4gCj4gdjQ6Cj4gICAgIC0gTWlub3IgY29k
ZSByZWZhY3RvcmluZywgZml4ZWQgZmV3IHR5cG9zKHRoYW5rcyB0byBKYW1lcyBBdXNtdXMpCj4g
ICAgIC0gQ2hhbmdlIHRoZSBuYW1pbmcgb2YgcWd2IHBvaW50Cj4gICAgICAgbWFza2luZy91bm1h
c2tpbmcgZnVuY3Rpb25zKEphbWVzIEF1c211cykuCj4gICAgIC0gU2ltcGxpZnkgdGhlIG1hc2tp
bmcvdW5tYXNraW5nIG9wZXJhdGlvbiBpdHNlbGYsCj4gICAgICAgYXMgd2UgZG9uJ3QgbmVlZCB0
byBtYXNrIG9ubHkgc2luZ2xlIHBvaW50IHBlciByZXF1ZXN0KEphbWVzIEF1c211cykKPiAgICAg
LSBSZWplY3QgYW5kIHN0aWNrIHRvIGhpZ2hlc3QgYmFuZHdpZHRoIHBvaW50IGlmIFNBR1YKPiAg
ICAgICBjYW4ndCBiZSBlbmFibGVkKEJTcGVjKQo+IAo+IHY1Ogo+ICAgICAtIEFkZCBuZXcgbWFp
bGJveCByZXBseSBjb2Rlcywgd2hpY2ggc2VlbXMgdG8gaGFwcGVuIGR1cmluZyBib290Cj4gICAg
ICAgdGltZSBmb3IgVEdMIGFuZCBpbmRpY2F0ZSB0aGF0IFFHViBzZXR0aW5nIGlzIG5vdCB5ZXQg
YXZhaWxhYmxlLgo+IAo+IHY2Ogo+ICAgICAtIEluY3JlYXNlIG51bWJlciBvZiBzdXBwb3J0ZWQg
UUdWIHBvaW50cyB0byBiZSBpbiBzeW5jIHdpdGggQlNwZWMuCj4gCj4gdjc6IC0gUmViYXNlZCBh
bmQgcmVzb2x2ZWQgY29uZmxpY3QgdG8gZml4IGJ1aWxkIGZhaWx1cmUuCj4gICAgIC0gRml4IE5V
TV9RR1ZfUE9JTlRTIHRvIDggYW5kIG1vdmVkIHRoYXQgdG8gaGVhZGVyIGZpbGUoSmFtZXMgQXVz
bXVzKQo+IAo+IHY4OiAtIERvbid0IHJlcG9ydCBhbiBlcnJvciBpZiB3ZSBjYW4ndCByZXN0cmlj
dCBxZ3YgcG9pbnRzLCBhcyBTQUdWCj4gICAgICAgY2FuIGJlIGRpc2FibGVkIGJ5IEJJT1MsIHdo
aWNoIGlzIGNvbXBsZXRlbHkgbGVnYWwuIFNvIGRvbid0Cj4gICAgICAgbWFrZSBDSSBwYW5pYy4g
SW5zdGVhZCBpZiB3ZSBkZXRlY3QgdGhhdCB0aGVyZSBpcyBvbmx5IDEgUUdWCj4gICAgICAgcG9p
bnQgYWNjZXNzaWJsZSBqdXN0IGFuYWx5emUgaWYgd2UgY2FuIGZpdCB0aGUgcmVxdWlyZWQgYmFu
ZHdpZHRoCj4gICAgICAgcmVxdWlyZW1lbnRzLCBidXQgbm8gbmVlZCBpbiByZXN0cmljdGluZy4K
PiAKPiB2OTogLSBGaXggd3JvbmcgUUdWIHRyYW5zaXRpb24gaWYgd2UgaGF2ZSAwIHBsYW5lcyBh
bmQgbm8gU0FHVgo+ICAgICAgIHNpbXVsdGFuZW91c2x5Lgo+IAo+IHYxMDogLSBGaXggQ0RDTEsg
Y29ycnVwdGlvbiwgYmVjYXVzZSBvZiBnbG9iYWwgc3RhdGUgZ2V0dGluZyBzZXJpYWxpemVkCj4g
ICAgICAgIHdpdGhvdXQgbW9kZXNldCwgd2hpY2ggY2F1c2VkIGNvcHlpbmcgb2Ygbm9uLWNhbGN1
bGF0ZWQgY2RjbGsKPiAgICAgICAgdG8gYmUgY29waWVkIHRvIGRldl9wcml2KHRoYW5rcyB0byBW
aWxsZSBmb3IgdGhlIGhpbnQpLgo+IAo+IHYxMTogLSBSZW1vdmUgdW5uZWVkZWQgaGVhZGVycyBh
bmQgc3BhY2VzKE1hdHRoZXcgUm9wZXIpCj4gICAgICAtIFJlbW92ZSB1bm5lZWRlZCBpbnRlbF9x
Z3ZfaW5mbyBxaSBzdHJ1Y3QgZnJvbSBidyBjaGVjayBhbmQgemVybwo+ICAgICAgICBvdXQgdGhl
IG5lZWRlZCBvbmUoTWF0dGhldyBSb3BlcikKPiAgICAgIC0gQ2hhbmdlZCBRR1YgZXJyb3IgbWVz
c2FnZSB0byBoYXZlIG1vcmUgY2xlYXIgbWVhbmluZyhNYXR0aGV3IFJvcGVyKQo+ICAgICAgLSBV
c2Ugc3RhdGUtPm1vZGVzZXRfc2V0IGluc3RlYWQgb2YgYW55X21zKE1hdHRoZXcgUm9wZXIpCj4g
ICAgICAtIE1vdmVkIE5VTV9TQUdWX1BPSU5UUyBmcm9tIGk5MTVfcmVnLmggdG8gaTkxNV9kcnYu
aCB3aGVyZSBpdCdzIHVzZWQKPiAgICAgIC0gS2VlcCB1c2luZyBjcnRjX3N0YXRlLT5ody5hY3Rp
dmUgaW5zdGVhZCBvZiAuZW5hYmxlKE1hdHRoZXcgUm9wZXIpCj4gICAgICAtIE1vdmVkIHVucmVs
YXRlZCBjaGFuZ2VzIHRvIG90aGVyIHBhdGNoKHVzaW5nIGxhdGVuY3kgYXMgcGFyYW1ldGVyCj4g
ICAgICAgIGZvciBwbGFuZSB3bSBjYWxjdWxhdGlvbiwgbW92ZWQgdG8gU0FHViByZWZhY3Rvcmlu
ZyBwYXRjaCkKPiAKPiBSZXZpZXdlZC1ieTogSmFtZXMgQXVzbXVzIDxqYW1lcy5hdXNtdXNAaW50
ZWwuY29tPgo+IFNpZ25lZC1vZmYtYnk6IFN0YW5pc2xhdiBMaXNvdnNraXkgPHN0YW5pc2xhdi5s
aXNvdnNraXlAaW50ZWwuY29tPgo+IENjOiBWaWxsZSBTeXJqw6Rsw6QgPHZpbGxlLnN5cmphbGFA
aW50ZWwuY29tPgo+IENjOiBKYW1lcyBBdXNtdXMgPGphbWVzLmF1c211c0BpbnRlbC5jb20+Cj4g
LS0tCj4gIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfYXRvbWljLmggICB8ICAg
MiArCj4gIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfYncuYyAgICAgICB8IDEz
NCArKysrKysrKysrKysrKystLS0KPiAgZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRl
bF9idy5oICAgICAgIHwgICAyICsKPiAgZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRl
bF9kaXNwbGF5LmMgIHwgIDkxICsrKysrKysrKysrLQo+ICAuLi4vZHJtL2k5MTUvZGlzcGxheS9p
bnRlbF9kaXNwbGF5X3R5cGVzLmggICAgfCAgIDMgKwo+ICBkcml2ZXJzL2dwdS9kcm0vaTkxNS9p
OTE1X2Rydi5oICAgICAgICAgICAgICAgfCAgIDcgKy0KPiAgZHJpdmVycy9ncHUvZHJtL2k5MTUv
aTkxNV9yZWcuaCAgICAgICAgICAgICAgIHwgICA1ICsKPiAgZHJpdmVycy9ncHUvZHJtL2k5MTUv
aW50ZWxfc2lkZWJhbmQuYyAgICAgICAgIHwgIDI3ICsrKy0KPiAgOCBmaWxlcyBjaGFuZ2VkLCAy
NDEgaW5zZXJ0aW9ucygrKSwgMzAgZGVsZXRpb25zKC0pCj4gCj4gZGlmZiAtLWdpdCBhL2RyaXZl
cnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfYXRvbWljLmggYi9kcml2ZXJzL2dwdS9kcm0v
aTkxNS9kaXNwbGF5L2ludGVsX2F0b21pYy5oCj4gaW5kZXggN2I0OTYyMzQxOWJhLi40MWEyYTg5
YzliZGIgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9h
dG9taWMuaAo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfYXRvbWlj
LmgKPiBAQCAtNDEsNiArNDEsOCBAQCB2b2lkIGludGVsX2NydGNfY29weV9jb2xvcl9ibG9icyhz
dHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqY3J0Y19zdGF0ZSk7Cj4gIHN0cnVjdCBkcm1fYXRvbWlj
X3N0YXRlICppbnRlbF9hdG9taWNfc3RhdGVfYWxsb2Moc3RydWN0IGRybV9kZXZpY2UgKmRldik7
Cj4gIHZvaWQgaW50ZWxfYXRvbWljX3N0YXRlX2NsZWFyKHN0cnVjdCBkcm1fYXRvbWljX3N0YXRl
ICpzdGF0ZSk7Cj4gIAo+ICtpbnQgaW50ZWxfYXRvbWljX3NlcmlhbGl6ZV9nbG9iYWxfc3RhdGUo
c3RydWN0IGludGVsX2F0b21pY19zdGF0ZSAqc3RhdGUpOwo+ICsKCldlIGFwcGVhciB0byBhbHJl
YWR5IGhhdmUgdGhpcyBhIGZldyBsaW5lcyBsb3dlciBpbiB0aGUgZmlsZS4KCgo+ICBzdHJ1Y3Qg
aW50ZWxfY3J0Y19zdGF0ZSAqCj4gIGludGVsX2F0b21pY19nZXRfY3J0Y19zdGF0ZShzdHJ1Y3Qg
ZHJtX2F0b21pY19zdGF0ZSAqc3RhdGUsCj4gIAkJCSAgICBzdHJ1Y3QgaW50ZWxfY3J0YyAqY3J0
Yyk7Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfYncu
YyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfYncuYwo+IGluZGV4IDNmNmUy
OWY2MTMyMy4uODA5ZmMxYmY5OWM1IDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1
L2Rpc3BsYXkvaW50ZWxfYncuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkv
aW50ZWxfYncuYwo+IEBAIC04LDYgKzgsOSBAQAo+ICAjaW5jbHVkZSAiaW50ZWxfYncuaCIKPiAg
I2luY2x1ZGUgImludGVsX2Rpc3BsYXlfdHlwZXMuaCIKPiAgI2luY2x1ZGUgImludGVsX3NpZGVi
YW5kLmgiCj4gKyNpbmNsdWRlICJpbnRlbF9hdG9taWMuaCIKPiArI2luY2x1ZGUgImludGVsX3Bt
LmgiCj4gKwo+ICAKPiAgLyogUGFyYW1ldGVycyBmb3IgUWNsayBHZXlzZXJ2aWxsZSAoUUdWKSAq
Lwo+ICBzdHJ1Y3QgaW50ZWxfcWd2X3BvaW50IHsKPiBAQCAtMTUsNyArMTgsNyBAQCBzdHJ1Y3Qg
aW50ZWxfcWd2X3BvaW50IHsKPiAgfTsKPiAgCj4gIHN0cnVjdCBpbnRlbF9xZ3ZfaW5mbyB7Cj4g
LQlzdHJ1Y3QgaW50ZWxfcWd2X3BvaW50IHBvaW50c1szXTsKPiArCXN0cnVjdCBpbnRlbF9xZ3Zf
cG9pbnQgcG9pbnRzW05VTV9TQUdWX1BPSU5UU107Cj4gIAl1OCBudW1fcG9pbnRzOwo+ICAJdTgg
bnVtX2NoYW5uZWxzOwo+ICAJdTggdF9ibDsKPiBAQCAtMTEzLDYgKzExNiwyNiBAQCBzdGF0aWMg
aW50IGljbF9wY29kZV9yZWFkX3Fndl9wb2ludF9pbmZvKHN0cnVjdCBkcm1faTkxNV9wcml2YXRl
ICpkZXZfcHJpdiwKPiAgCXJldHVybiAwOwo+ICB9Cj4gIAo+ICtpbnQgaWNsX3Bjb2RlX3Jlc3Ry
aWN0X3Fndl9wb2ludHMoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2LAo+ICsJCQkJ
ICB1MzIgcG9pbnRzX21hc2spCj4gK3sKPiArCWludCByZXQ7Cj4gKwo+ICsJLyogYnNwZWMgc2F5
cyB0byBrZWVwIHJldHJ5aW5nIGZvciBhdCBsZWFzdCAxIG1zICovCj4gKwlyZXQgPSBza2xfcGNv
ZGVfcmVxdWVzdChkZXZfcHJpdiwgSUNMX1BDT0RFX1NBR1ZfREVfTUVNX1NTX0NPTkZJRywKPiAr
CQkJCXBvaW50c19tYXNrLAo+ICsJCQkJR0VOMTFfUENPREVfUE9JTlRTX1JFU1RSSUNURURfTUFT
SywKPiArCQkJCUdFTjExX1BDT0RFX1BPSU5UU19SRVNUUklDVEVELAo+ICsJCQkJMSk7Cj4gKwo+
ICsJaWYgKHJldCA8IDApIHsKPiArCQlEUk1fRVJST1IoIkZhaWxlZCB0byBkaXNhYmxlIHFndiBw
b2ludHMgKCVkKVxuIiwgcmV0KTsKPiArCQlyZXR1cm4gcmV0Owo+ICsJfQo+ICsKPiArCXJldHVy
biAwOwo+ICt9Cj4gKwo+ICBzdGF0aWMgaW50IGljbF9nZXRfcWd2X3BvaW50cyhzdHJ1Y3QgZHJt
X2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYsCj4gIAkJCSAgICAgIHN0cnVjdCBpbnRlbF9xZ3ZfaW5m
byAqcWkpCj4gIHsKPiBAQCAtMjcwLDIyICsyOTMsNiBAQCB2b2lkIGludGVsX2J3X2luaXRfaHco
c3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2KQo+ICAJCWljbF9nZXRfYndfaW5mbyhk
ZXZfcHJpdiwgJmljbF9zYV9pbmZvKTsKPiAgfQo+ICAKPiAtc3RhdGljIHVuc2lnbmVkIGludCBp
bnRlbF9tYXhfZGF0YV9yYXRlKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiwKPiAt
CQkJCQlpbnQgbnVtX3BsYW5lcykKPiAtewo+IC0JaWYgKElOVEVMX0dFTihkZXZfcHJpdikgPj0g
MTEpCj4gLQkJLyoKPiAtCQkgKiBGSVhNRSB3aXRoIFNBR1YgZGlzYWJsZWQgbWF5YmUgd2UgY2Fu
IGFzc3VtZQo+IC0JCSAqIHBvaW50IDEgd2lsbCBhbHdheXMgYmUgdXNlZD8gU2VlbXMgdG8gbWF0
Y2gKPiAtCQkgKiB0aGUgYmVoYXZpb3VyIG9ic2VydmVkIGluIHRoZSB3aWxkLgo+IC0JCSAqLwo+
IC0JCXJldHVybiBtaW4zKGljbF9tYXhfYncoZGV2X3ByaXYsIG51bV9wbGFuZXMsIDApLAo+IC0J
CQkgICAgaWNsX21heF9idyhkZXZfcHJpdiwgbnVtX3BsYW5lcywgMSksCj4gLQkJCSAgICBpY2xf
bWF4X2J3KGRldl9wcml2LCBudW1fcGxhbmVzLCAyKSk7Cj4gLQllbHNlCj4gLQkJcmV0dXJuIFVJ
TlRfTUFYOwo+IC19Cj4gLQo+ICBzdGF0aWMgdW5zaWduZWQgaW50IGludGVsX2J3X2NydGNfbnVt
X2FjdGl2ZV9wbGFuZXMoY29uc3Qgc3RydWN0IGludGVsX2NydGNfc3RhdGUgKmNydGNfc3RhdGUp
Cj4gIHsKPiAgCS8qCj4gQEAgLTM3Nyw3ICszODQsMTEgQEAgaW50IGludGVsX2J3X2F0b21pY19j
aGVjayhzdHJ1Y3QgaW50ZWxfYXRvbWljX3N0YXRlICpzdGF0ZSkKPiAgCXVuc2lnbmVkIGludCBk
YXRhX3JhdGUsIG1heF9kYXRhX3JhdGU7Cj4gIAl1bnNpZ25lZCBpbnQgbnVtX2FjdGl2ZV9wbGFu
ZXM7Cj4gIAlzdHJ1Y3QgaW50ZWxfY3J0YyAqY3J0YzsKPiAtCWludCBpOwo+ICsJaW50IGksIHJl
dDsKPiArCXUzMiBhbGxvd2VkX3BvaW50cyA9IDA7Cj4gKwl1bnNpZ25lZCBpbnQgbWF4X2J3X3Bv
aW50ID0gMCwgbWF4X2J3ID0gMDsKPiArCXVuc2lnbmVkIGludCBudW1fcWd2X3BvaW50cyA9IGRl
dl9wcml2LT5tYXhfYndbMF0ubnVtX3Fndl9wb2ludHM7Cj4gKwl1MzIgbWFzayA9ICgxIDw8IG51
bV9xZ3ZfcG9pbnRzKSAtIDE7Cj4gIAo+ICAJLyogRklYTUUgZWFybGllciBnZW5zIG5lZWQgc29t
ZSBjaGVja3MgdG9vICovCj4gIAlpZiAoSU5URUxfR0VOKGRldl9wcml2KSA8IDExKQo+IEBAIC00
MjEsMTYgKzQzMiw5MyBAQCBpbnQgaW50ZWxfYndfYXRvbWljX2NoZWNrKHN0cnVjdCBpbnRlbF9h
dG9taWNfc3RhdGUgKnN0YXRlKQo+ICAJZGF0YV9yYXRlID0gaW50ZWxfYndfZGF0YV9yYXRlKGRl
dl9wcml2LCBid19zdGF0ZSk7Cj4gIAludW1fYWN0aXZlX3BsYW5lcyA9IGludGVsX2J3X251bV9h
Y3RpdmVfcGxhbmVzKGRldl9wcml2LCBid19zdGF0ZSk7Cj4gIAo+IC0JbWF4X2RhdGFfcmF0ZSA9
IGludGVsX21heF9kYXRhX3JhdGUoZGV2X3ByaXYsIG51bV9hY3RpdmVfcGxhbmVzKTsKPiAtCj4g
IAlkYXRhX3JhdGUgPSBESVZfUk9VTkRfVVAoZGF0YV9yYXRlLCAxMDAwKTsKPiAgCj4gLQlpZiAo
ZGF0YV9yYXRlID4gbWF4X2RhdGFfcmF0ZSkgewo+IC0JCURSTV9ERUJVR19LTVMoIkJhbmR3aWR0
aCAldSBNQi9zIGV4Y2VlZHMgbWF4IGF2YWlsYWJsZSAlZCBNQi9zICglZCBhY3RpdmUgcGxhbmVz
KVxuIiwKPiAtCQkJICAgICAgZGF0YV9yYXRlLCBtYXhfZGF0YV9yYXRlLCBudW1fYWN0aXZlX3Bs
YW5lcyk7Cj4gKwlmb3IgKGkgPSAwOyBpIDwgbnVtX3Fndl9wb2ludHM7IGkrKykgewo+ICsJCW1h
eF9kYXRhX3JhdGUgPSBpY2xfbWF4X2J3KGRldl9wcml2LCBudW1fYWN0aXZlX3BsYW5lcywgaSk7
Cj4gKwkJLyoKPiArCQkgKiBXZSBuZWVkIHRvIGtub3cgd2hpY2ggcWd2IHBvaW50IGdpdmVzIHVz
Cj4gKwkJICogbWF4aW11bSBiYW5kd2lkdGggaW4gb3JkZXIgdG8gZGlzYWJsZSBTQUdWCj4gKwkJ
ICogaWYgd2UgZmluZCB0aGF0IHdlIGV4Y2VlZCBTQUdWIGJsb2NrIHRpbWUKPiArCQkgKiB3aXRo
IHdhdGVybWFya3MuIEJ5IHRoYXQgbW9tZW50IHdlIGFscmVhZHkKPiArCQkgKiBoYXZlIHRob3Nl
LCBhcyBpdCBpcyBjYWxjdWxhdGVkIGVhcmxpZXIgaW4KPiArCQkgKiBpbnRlbF9hdG9taWNfY2hl
Y2ssCj4gKwkJICovCj4gKwkJaWYgKG1heF9kYXRhX3JhdGUgPiBtYXhfYncpIHsKPiArCQkJbWF4
X2J3X3BvaW50ID0gaTsKPiArCQkJbWF4X2J3ID0gbWF4X2RhdGFfcmF0ZTsKPiArCQl9Cj4gKwkJ
aWYgKG1heF9kYXRhX3JhdGUgPj0gZGF0YV9yYXRlKQo+ICsJCQlhbGxvd2VkX3BvaW50cyB8PSBC
SVQoaSk7Cj4gKwkJRFJNX0RFQlVHX0tNUygiUUdWIHBvaW50ICVkOiBtYXggYncgJWQgcmVxdWly
ZWQgJWRcbiIsCj4gKwkJCSAgICAgIGksIG1heF9kYXRhX3JhdGUsIGRhdGFfcmF0ZSk7Cj4gKwl9
Cj4gKwo+ICsJLyoKPiArCSAqIEJTcGVjIHN0YXRlcyB0aGF0IHdlIGFsd2F5cyBzaG91bGQgaGF2
ZSBhdCBsZWFzdCBvbmUgYWxsb3dlZCBwb2ludAo+ICsJICogbGVmdCwgc28gaWYgd2UgY291bGRu
J3QgLSBzaW1wbHkgcmVqZWN0IHRoZSBjb25maWd1cmF0aW9uIGZvciBvYnZpb3VzCj4gKwkgKiBy
ZWFzb25zLgo+ICsJICovCj4gKwlpZiAoYWxsb3dlZF9wb2ludHMgPT0gMCkgewo+ICsJCURSTV9E
RUJVR19LTVMoIk5vIFFHViBwb2ludHMgcHJvdmlkZSBzdWZmaWNpZW50IG1lbW9yeSIKPiArCQkJ
ICAgICAgIiBiYW5kd2lkdGggZm9yIGRpc3BsYXkgY29uZmlndXJhdGlvbi5cbiIpOwo+ICAJCXJl
dHVybiAtRUlOVkFMOwo+ICAJfQo+ICAKPiArCS8qCj4gKwkgKiBJbiBjYXNlIGlmIFNBR1YgaXMg
ZGlzYWJsZWQgaW4gQklPUywgd2UgYWx3YXlzIGdldCAxCj4gKwkgKiBTQUdWIHBvaW50LCBidXQg
d2UgY2FuJ3Qgc2VuZCBQQ29kZSBjb21tYW5kcyB0byByZXN0cmljdCBpdAo+ICsJICogYXMgaXQg
d2lsbCBmYWlsIGFuZCBwb2ludGxlc3MgYW55d2F5Lgo+ICsJICovCj4gKwlpZiAobnVtX3Fndl9w
b2ludHMgPT0gMSkKPiArCQlkZXZfcHJpdi0+c2Fndl9zdGF0dXMgPSBJOTE1X1NBR1ZfTk9UX0NP
TlRST0xMRUQ7Cj4gKwllbHNlCj4gKwkJZGV2X3ByaXYtPnNhZ3Zfc3RhdHVzID0gSTkxNV9TQUdW
X0VOQUJMRUQ7CgpXZSBzaG91bGQgcHJvYmFibHkgYmUgZG9pbmcgdGhpcyBqdXN0IG9uY2UgaW4g
aWNsX2dldF9id19pbmZvKCkuCgo+ICsKPiArCS8qCj4gKwkgKiBMZWF2ZSBvbmx5IHNpbmdsZSBw
b2ludCB3aXRoIGhpZ2hlc3QgYmFuZHdpZHRoLCBpZgo+ICsJICogd2UgY2FuJ3QgZW5hYmxlIFNB
R1YgYWNjb3JkaW5nIHRvIEJTcGVjLgoKTWlub3Igbml0cGljazogIEknZCBzYXkgIi4uLmR1ZSB0
byB0aGUgaW5jcmVhc2VkIG1lbW9yeSBsYXRlbmN5IGl0IG1heQpjYXVzZSIgcmF0aGVyIHRoYW4g
Ii4uLmFjY29yZGluZyB0byBCU3BlYy4iCgo+ICsJICovCj4gKwlpZiAoIWludGVsX2Nhbl9lbmFi
bGVfc2FndihzdGF0ZSkpIHsKPiArCgpOaXRwaWNrOiB1bm5lY2Vzc2FyeSBibGFuayBsaW5lLgoK
PiArCQkvKgo+ICsJCSAqIFRoaXMgaXMgYSBib3JkZXIgbGluZSBjb25kaXRpb24gd2hlbiB3ZSBo
YXZlIDAgcGxhbmVzCj4gKwkJICogYW5kIFNBR1Ygbm90IGVuYWJsZWQgbWVhbnMgdGhhdCB3ZSBz
aG91bGQga2VlcCBRR1Ygd2l0aAo+ICsJCSAqIGhpZ2hlc3QgYmFuZHdpZHRoLCBob3dldmVyIGFs
Z29yaXRobSByZXR1cm5zIHdyb25nIHJlc3VsdAo+ICsJCSAqIGZvciAwIHBsYW5lcyBhbmQgMCBk
YXRhIHJhdGUsIHNvIGp1c3Qgc3RpY2sgdG8gbGFzdCBjb25maWcKPiArCQkgKiB0aGVuLiBPdGhl
cndpc2UgdXNlIHRoZSBRR1YgcG9pbnQgd2l0aCBoaWdoZXN0IEJXIGFjY29yZGluZwo+ICsJCSAq
IHRvIEJTcGVjLgoKSSdtIG5vdCBzdXJlIEkgZm9sbG93IHRoaXMuICAiU0FHViBub3QgZW5hYmxl
ZCIgaW4gdGhlIEJJT1Mgb3IgYmVjYXVzZQp3ZSd2ZSBleHBsaWNpdGx5IGRpc2FibGVkIGl0IG91
cnNlbHZlcz8gIElmIHRoZSBCSU9TIGhhcyBpdCB0dXJuZWQgb2ZmLAp0aGVuIHdlIHNob3VsZCBv
bmx5IGhhdmUgYSBzaW5nbGUgUUdWIHBvaW50LCByaWdodD8gIEFuZCBpZiB3ZSB0dXJuZWQKdGhl
IFNBR1Ygb2ZmLCB0aGVuIG1heWJlIGludGVsX2Nhbl9lbmFibGVfc2FndigpIHdpbGwgcmV0dXJu
IHRydWUKaW5zdGVhZCBvZiBmYWxzZSBpZiB3ZSBmbGlwIGFyb3VuZCB0aGUgc2FndiBtYXNrIGZy
b20gYWxsb3dlZC1waXBlcyB0bwpwcm9oaWJpdGVkIHBpcGVzIGxpa2UgSSBzdWdnZXN0ZWQgb24g
dGhlIHByZXZpb3VzIHBhdGNoPwoKPiArCQkgKi8KPiArCQlpZiAoIWRhdGFfcmF0ZSAmJiAhbnVt
X2FjdGl2ZV9wbGFuZXMpIHsKPiArCQkJRFJNX0RFQlVHX0tNUygiTm8gU0FHViwgdXNpbmcgb2xk
IFFHViBtYXNrXG4iKTsKPiArCQkJYWxsb3dlZF9wb2ludHMgPSAofmRldl9wcml2LT5xZ3ZfcG9p
bnRzX21hc2spICYgbWFzazsKPiArCQl9IGVsc2Ugewo+ICsJCQlhbGxvd2VkX3BvaW50cyA9IDEg
PDwgbWF4X2J3X3BvaW50Owo+ICsJCQlEUk1fREVCVUdfS01TKCJObyBTQUdWLCB1c2luZyBzaW5n
bGUgUUdWIHBvaW50ICVkXG4iLAo+ICsJCQkJICAgICAgbWF4X2J3X3BvaW50KTsKPiArCQl9Cj4g
Kwl9Cj4gKwkvKgo+ICsJICogV2Ugc3RvcmUgdGhlIG9uZXMgd2hpY2ggbmVlZCB0byBiZSBtYXNr
ZWQgYXMgdGhhdCBpcyB3aGF0IFBDb2RlCj4gKwkgKiBhY3R1YWxseSBhY2NlcHRzIGFzIGEgcGFy
YW1ldGVyLgo+ICsJICovCj4gKwlzdGF0ZS0+cWd2X3BvaW50c19tYXNrID0gKH5hbGxvd2VkX3Bv
aW50cykgJiBtYXNrOwo+ICsKPiArCURSTV9ERUJVR19LTVMoIk5ldyBzdGF0ZSAlcCBxZ3YgbWFz
ayAleFxuIiwKPiArCQkgICAgICBzdGF0ZSwgc3RhdGUtPnFndl9wb2ludHNfbWFzayk7Cj4gKwo+
ICsJLyoKPiArCSAqIElmIHRoZSBhY3R1YWwgbWFzayBoYWQgY2hhbmdlZCB3ZSBuZWVkIHRvIG1h
a2Ugc3VyZSB0aGF0Cj4gKwkgKiB0aGUgY29tbWl0cyBhcmUgc2VyaWFsaXplZChpbiBjYXNlIHRo
aXMgaXMgYSBub21vZGVzZXQsIG5vbmJsb2NraW5nKQo+ICsJICovCj4gKwlpZiAoc3RhdGUtPnFn
dl9wb2ludHNfbWFzayAhPSBkZXZfcHJpdi0+cWd2X3BvaW50c19tYXNrKSB7Cj4gKwkJcmV0ID0g
aW50ZWxfYXRvbWljX3NlcmlhbGl6ZV9nbG9iYWxfc3RhdGUoc3RhdGUpOwo+ICsJCWlmIChyZXQp
IHsKPiArCQkJRFJNX0RFQlVHX0tNUygiQ291bGQgbm90IHNlcmlhbGl6ZSBnbG9iYWwgc3RhdGVc
biIpOwo+ICsJCQlyZXR1cm4gcmV0Owo+ICsJCX0KPiArCX0KPiArCj4gIAlyZXR1cm4gMDsKPiAg
fQo+ICAKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9i
dy5oIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9idy5oCj4gaW5kZXggOWRi
MTBhZjAxMmY0Li42NmJmOWJjMTBiNzMgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5
MTUvZGlzcGxheS9pbnRlbF9idy5oCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxh
eS9pbnRlbF9idy5oCj4gQEAgLTI4LDUgKzI4LDcgQEAgaW50IGludGVsX2J3X2luaXQoc3RydWN0
IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2KTsKPiAgaW50IGludGVsX2J3X2F0b21pY19jaGVj
ayhzdHJ1Y3QgaW50ZWxfYXRvbWljX3N0YXRlICpzdGF0ZSk7Cj4gIHZvaWQgaW50ZWxfYndfY3J0
Y191cGRhdGUoc3RydWN0IGludGVsX2J3X3N0YXRlICpid19zdGF0ZSwKPiAgCQkJICBjb25zdCBz
dHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqY3J0Y19zdGF0ZSk7Cj4gK2ludCBpY2xfcGNvZGVfcmVz
dHJpY3RfcWd2X3BvaW50cyhzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYsCj4gKwkJ
CQkgIHUzMiBwb2ludHNfbWFzayk7Cj4gIAo+ICAjZW5kaWYgLyogX19JTlRFTF9CV19IX18gKi8K
PiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5
LmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXkuYwo+IGluZGV4
IDdmMzFlMzNkMGIxNi4uZmQzNWQwYjA2OTljIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheS5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5
MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5LmMKPiBAQCAtMTQ3NTUsNiArMTQ3NTUsODAgQEAgc3Rh
dGljIHZvaWQgaW50ZWxfYXRvbWljX2NsZWFudXBfd29yayhzdHJ1Y3Qgd29ya19zdHJ1Y3QgKndv
cmspCj4gIAlpbnRlbF9hdG9taWNfaGVscGVyX2ZyZWVfc3RhdGUoaTkxNSk7Cj4gIH0KPiAgCj4g
K3N0YXRpYyB2b2lkIGludGVsX3Fndl9wb2ludHNfbWFzayhzdHJ1Y3QgaW50ZWxfYXRvbWljX3N0
YXRlICpzdGF0ZSkKPiArewo+ICsJc3RydWN0IGRybV9kZXZpY2UgKmRldiA9IHN0YXRlLT5iYXNl
LmRldjsKPiArCXN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiA9IHRvX2k5MTUoZGV2
KTsKPiArCWludCByZXQ7Cj4gKwl1MzIgbmV3X21hc2sgPSBkZXZfcHJpdi0+cWd2X3BvaW50c19t
YXNrIHwgc3RhdGUtPnFndl9wb2ludHNfbWFzazsKPiArCXVuc2lnbmVkIGludCBudW1fcWd2X3Bv
aW50cyA9IGRldl9wcml2LT5tYXhfYndbMF0ubnVtX3Fndl9wb2ludHM7Cj4gKwl1bnNpZ25lZCBp
bnQgbWFzayA9ICgxIDw8IG51bV9xZ3ZfcG9pbnRzKSAtIDE7Cj4gKwo+ICsJLyoKPiArCSAqIEFz
IHdlIGRvbid0IGtub3cgaW5pdGlhbCBoYXJkd2FyZSBzdGF0ZSBkdXJpbmcgaW5pdGlhbCBjb21t
aXQKPiArCSAqIHdlIHNob3VsZCBub3QgZG8gYW55dGhpbmcsIHVudGlsIHdlIGFjdHVhbGx5IGZp
Z3VyZSBvdXQsCj4gKwkgKiB3aGF0IGFyZSB0aGUgcWd2IHBvaW50cyB0byBtYXNrLgo+ICsJICov
Cj4gKwlpZiAoIW5ld19tYXNrKQo+ICsJCXJldHVybjsKPiArCj4gKwlXQVJOX09OKG5ld19tYXNr
ID09IG1hc2spOwo+ICsKPiArCS8qCj4gKwkgKiBKdXN0IHJldHVybiBpZiB3ZSBjYW4ndCBjb250
cm9sIFNBR1Ygb3IgZG9uJ3QgaGF2ZSBpdC4KPiArCSAqLwo+ICsJaWYgKCFpbnRlbF9oYXNfc2Fn
dihkZXZfcHJpdikpCj4gKwkJcmV0dXJuOwo+ICsKPiArCS8qCj4gKwkgKiBSZXN0cmljdCByZXF1
aXJlZCBxZ3YgcG9pbnRzIGJlZm9yZSB1cGRhdGluZyB0aGUgY29uZmlndXJhdGlvbi4KPiArCSAq
IEFjY29yZGluZyB0byBCU3BlYyB3ZSBjYW4ndCBtYXNrIGFuZCB1bm1hc2sgcWd2IHBvaW50cyBh
dCB0aGUgc2FtZQo+ICsJICogdGltZS4gQWxzbyBtYXNraW5nIHNob3VsZCBiZSBkb25lIGJlZm9y
ZSB1cGRhdGluZyB0aGUgY29uZmlndXJhdGlvbgo+ICsJICogYW5kIHVubWFza2luZyBhZnRlcndh
cmRzLgo+ICsJICovCj4gKwlyZXQgPSBpY2xfcGNvZGVfcmVzdHJpY3RfcWd2X3BvaW50cyhkZXZf
cHJpdiwgbmV3X21hc2spOwo+ICsJaWYgKHJldCA8IDApCj4gKwkJRFJNX0RFQlVHX0tNUygiQ291
bGQgbm90IHJlc3RyaWN0IHJlcXVpcmVkIHFndiBwb2ludHMoJWQpXG4iLAo+ICsJCQkgICAgICBy
ZXQpOwo+ICsJZWxzZQo+ICsJCWRldl9wcml2LT5xZ3ZfcG9pbnRzX21hc2sgPSBuZXdfbWFzazsK
PiArfQo+ICsKPiArc3RhdGljIHZvaWQgaW50ZWxfcWd2X3BvaW50c191bm1hc2soc3RydWN0IGlu
dGVsX2F0b21pY19zdGF0ZSAqc3RhdGUpCj4gK3sKPiArCXN0cnVjdCBkcm1fZGV2aWNlICpkZXYg
PSBzdGF0ZS0+YmFzZS5kZXY7Cj4gKwlzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYg
PSB0b19pOTE1KGRldik7Cj4gKwlpbnQgcmV0Owo+ICsJdTMyIG5ld19tYXNrID0gZGV2X3ByaXYt
PnFndl9wb2ludHNfbWFzayAmIHN0YXRlLT5xZ3ZfcG9pbnRzX21hc2s7Cj4gKwo+ICsJLyoKPiAr
CSAqIEFzIHdlIGRvbid0IGtub3cgaW5pdGlhbCBoYXJkd2FyZSBzdGF0ZSBkdXJpbmcgaW5pdGlh
bCBjb21taXQKPiArCSAqIHdlIHNob3VsZCBub3QgZG8gYW55dGhpbmcsIHVudGlsIHdlIGFjdHVh
bGx5IGZpZ3VyZSBvdXQsCj4gKwkgKiB3aGF0IGFyZSB0aGUgcWd2IHBvaW50cyB0byBtYXNrLgo+
ICsJICovCj4gKwlpZiAoIW5ld19tYXNrKQo+ICsJCXJldHVybjsKClRoaXMgbWFrZXMgc2Vuc2Ug
b24gdGhlIG1hc2ssIGJ1dCBpdCBkb2Vzbid0IHNlZW0gbGlrZSB3ZSdkIHdhbnQgdGhpcyBvbgp0
aGUgdW5tYXNrLiAgVW5tYXNrIGhhcHBlbnMgb25jZSB3ZSd2ZSBmaW5pc2hlZCB0aGUgdHJhbnNp
dGlvbiB0byBhIG5ldwpzdGF0ZSwgcmlnaHQ/ICBBbGxvd2luZyBhZGRpdGlvbmFsIHBvaW50cyB0
byBiZSB1c2VkIHNob3VsZCBkZWZpbml0ZWx5CmJlIHNhZmUgdGhlbiwgcmlnaHQ/Cgo+ICsKPiAr
CS8qCj4gKwkgKiBKdXN0IHJldHVybiBpZiB3ZSBjYW4ndCBjb250cm9sIFNBR1Ygb3IgZG9uJ3Qg
aGF2ZSBpdC4KPiArCSAqLwo+ICsJaWYgKCFpbnRlbF9oYXNfc2FndihkZXZfcHJpdikpCj4gKwkJ
cmV0dXJuOwo+ICsKPiArCS8qCj4gKwkgKiBBbGxvdyByZXF1aXJlZCBxZ3YgcG9pbnRzIGFmdGVy
IHVwZGF0aW5nIHRoZSBjb25maWd1cmF0aW9uLgo+ICsJICogQWNjb3JkaW5nIHRvIEJTcGVjIHdl
IGNhbid0IG1hc2sgYW5kIHVubWFzayBxZ3YgcG9pbnRzIGF0IHRoZSBzYW1lCj4gKwkgKiB0aW1l
LiBBbHNvIG1hc2tpbmcgc2hvdWxkIGJlIGRvbmUgYmVmb3JlIHVwZGF0aW5nIHRoZSBjb25maWd1
cmF0aW9uCj4gKwkgKiBhbmQgdW5tYXNraW5nIGFmdGVyd2FyZHMuCj4gKwkgKi8KPiArCXJldCA9
IGljbF9wY29kZV9yZXN0cmljdF9xZ3ZfcG9pbnRzKGRldl9wcml2LCBuZXdfbWFzayk7Cj4gKwlp
ZiAocmV0IDwgMCkKPiArCQlEUk1fREVCVUdfS01TKCJDb3VsZCBub3QgcmVzdHJpY3QgcmVxdWly
ZWQgcWd2IHBvaW50cyglZClcbiIsCj4gKwkJCSAgICAgIHJldCk7CgpUaGlzIG1lc3NhZ2Ugc2Vl
bXMgYSBiaXQgbWlzbGVhZGluZzsgd2UncmUgcmVtb3ZpbmcgcmVzdHJpY3Rpb25zIGhlcmUKaW5z
dGVhZCBvZiBhZGRpbmcgdGhlbS4KCgpNYXR0Cgo+ICsJZWxzZQo+ICsJCWRldl9wcml2LT5xZ3Zf
cG9pbnRzX21hc2sgPSBuZXdfbWFzazsKPiArfQo+ICsKPiAgc3RhdGljIHZvaWQgaW50ZWxfYXRv
bWljX2NvbW1pdF90YWlsKHN0cnVjdCBpbnRlbF9hdG9taWNfc3RhdGUgKnN0YXRlKQo+ICB7Cj4g
IAlzdHJ1Y3QgZHJtX2RldmljZSAqZGV2ID0gc3RhdGUtPmJhc2UuZGV2Owo+IEBAIC0xNDc4Miw2
ICsxNDg1Niw5IEBAIHN0YXRpYyB2b2lkIGludGVsX2F0b21pY19jb21taXRfdGFpbChzdHJ1Y3Qg
aW50ZWxfYXRvbWljX3N0YXRlICpzdGF0ZSkKPiAgCQl9Cj4gIAl9Cj4gIAo+ICsJaWYgKChJTlRF
TF9HRU4oZGV2X3ByaXYpID49IDExKSkKPiArCQlpbnRlbF9xZ3ZfcG9pbnRzX21hc2soc3RhdGUp
Owo+ICsKPiAgCWludGVsX2NvbW1pdF9tb2Rlc2V0X2Rpc2FibGVzKHN0YXRlKTsKPiAgCj4gIAkv
KiBGSVhNRTogRXZlbnR1YWxseSBnZXQgcmlkIG9mIG91ciBjcnRjLT5jb25maWcgcG9pbnRlciAq
Lwo+IEBAIC0xNDgwMCw4ICsxNDg3Nyw5IEBAIHN0YXRpYyB2b2lkIGludGVsX2F0b21pY19jb21t
aXRfdGFpbChzdHJ1Y3QgaW50ZWxfYXRvbWljX3N0YXRlICpzdGF0ZSkKPiAgCQkgKiBTS0wgd29y
a2Fyb3VuZDogYnNwZWMgcmVjb21tZW5kcyB3ZSBkaXNhYmxlIHRoZSBTQUdWIHdoZW4gd2UKPiAg
CQkgKiBoYXZlIG1vcmUgdGhlbiBvbmUgcGlwZSBlbmFibGVkCj4gIAkJICovCj4gLQkJaWYgKCFp
bnRlbF9jYW5fZW5hYmxlX3NhZ3Yoc3RhdGUpKQo+IC0JCQlpbnRlbF9kaXNhYmxlX3NhZ3YoZGV2
X3ByaXYpOwo+ICsJCWlmIChJTlRFTF9HRU4oZGV2X3ByaXYpIDwgMTEpCj4gKwkJCWlmICghaW50
ZWxfY2FuX2VuYWJsZV9zYWd2KHN0YXRlKSkKPiArCQkJCWludGVsX2Rpc2FibGVfc2FndihkZXZf
cHJpdik7Cj4gIAo+ICAJCWludGVsX21vZGVzZXRfdmVyaWZ5X2Rpc2FibGVkKGRldl9wcml2LCBz
dGF0ZSk7Cj4gIAl9Cj4gQEAgLTE0ODgzLDggKzE0OTYxLDExIEBAIHN0YXRpYyB2b2lkIGludGVs
X2F0b21pY19jb21taXRfdGFpbChzdHJ1Y3QgaW50ZWxfYXRvbWljX3N0YXRlICpzdGF0ZSkKPiAg
CWlmIChzdGF0ZS0+bW9kZXNldCkKPiAgCQlpbnRlbF92ZXJpZnlfcGxhbmVzKHN0YXRlKTsKPiAg
Cj4gLQlpZiAoc3RhdGUtPm1vZGVzZXQgJiYgaW50ZWxfY2FuX2VuYWJsZV9zYWd2KHN0YXRlKSkK
PiAtCQlpbnRlbF9lbmFibGVfc2FndihkZXZfcHJpdik7Cj4gKwlpZiAoSU5URUxfR0VOKGRldl9w
cml2KSA8IDExKSB7Cj4gKwkJaWYgKHN0YXRlLT5tb2Rlc2V0ICYmIGludGVsX2Nhbl9lbmFibGVf
c2FndihzdGF0ZSkpCj4gKwkJCWludGVsX2VuYWJsZV9zYWd2KGRldl9wcml2KTsKPiArCX0gZWxz
ZQo+ICsJCWludGVsX3Fndl9wb2ludHNfdW5tYXNrKHN0YXRlKTsKPiAgCj4gIAlkcm1fYXRvbWlj
X2hlbHBlcl9jb21taXRfaHdfZG9uZSgmc3RhdGUtPmJhc2UpOwo+ICAKPiBAQCAtMTUwMzEsNyAr
MTUxMTIsNyBAQCBzdGF0aWMgaW50IGludGVsX2F0b21pY19jb21taXQoc3RydWN0IGRybV9kZXZp
Y2UgKmRldiwKPiAgCWludGVsX3NoYXJlZF9kcGxsX3N3YXBfc3RhdGUoc3RhdGUpOwo+ICAJaW50
ZWxfYXRvbWljX3RyYWNrX2ZicyhzdGF0ZSk7Cj4gIAo+IC0JaWYgKHN0YXRlLT5nbG9iYWxfc3Rh
dGVfY2hhbmdlZCkgewo+ICsJaWYgKHN0YXRlLT5nbG9iYWxfc3RhdGVfY2hhbmdlZCAmJiBzdGF0
ZS0+bW9kZXNldCkgewo+ICAJCWFzc2VydF9nbG9iYWxfc3RhdGVfbG9ja2VkKGRldl9wcml2KTsK
PiAgCj4gIAkJbWVtY3B5KGRldl9wcml2LT5taW5fY2RjbGssIHN0YXRlLT5taW5fY2RjbGssCj4g
ZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheV90
eXBlcy5oIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5X3R5cGVz
LmgKPiBpbmRleCA2YTMwMGNhYzg4M2YuLjM1MzU4NTdkZmVkMiAxMDA2NDQKPiAtLS0gYS9kcml2
ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXlfdHlwZXMuaAo+ICsrKyBiL2Ry
aXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheV90eXBlcy5oCj4gQEAgLTUz
NCw2ICs1MzQsOSBAQCBzdHJ1Y3QgaW50ZWxfYXRvbWljX3N0YXRlIHsKPiAgCXN0cnVjdCBpOTE1
X3N3X2ZlbmNlIGNvbW1pdF9yZWFkeTsKPiAgCj4gIAlzdHJ1Y3QgbGxpc3Rfbm9kZSBmcmVlZDsK
PiArCj4gKwkvKiBHZW4xMSsgb25seSAqLwo+ICsJdTMyIHFndl9wb2ludHNfbWFzazsKPiAgfTsK
PiAgCj4gIHN0cnVjdCBpbnRlbF9wbGFuZV9zdGF0ZSB7Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMv
Z3B1L2RybS9pOTE1L2k5MTVfZHJ2LmggYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2Rydi5o
Cj4gaW5kZXggMGFjOWQ3YjAwNmNhLi41NDY1N2I2ODAxMGEgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVy
cy9ncHUvZHJtL2k5MTUvaTkxNV9kcnYuaAo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5
MTVfZHJ2LmgKPiBAQCAtODUwLDYgKzg1MCw5IEBAIGVudW0gaW50ZWxfcGlwZV9jcmNfc291cmNl
IHsKPiAgCUlOVEVMX1BJUEVfQ1JDX1NPVVJDRV9NQVgsCj4gIH07Cj4gIAo+ICsvKiBCU3BlYyBw
cmVjaXNlbHkgZGVmaW5lcyB0aGlzICovCj4gKyNkZWZpbmUgTlVNX1NBR1ZfUE9JTlRTIDgKPiAr
Cj4gICNkZWZpbmUgSU5URUxfUElQRV9DUkNfRU5UUklFU19OUgkxMjgKPiAgc3RydWN0IGludGVs
X3BpcGVfY3JjIHsKPiAgCXNwaW5sb2NrX3QgbG9jazsKPiBAQCAtMTIzOCwxMSArMTI0MSwxMyBA
QCBzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSB7Cj4gIAl9IGRyYW1faW5mbzsKPiAgCj4gIAlzdHJ1
Y3QgaW50ZWxfYndfaW5mbyB7Cj4gLQkJdW5zaWduZWQgaW50IGRlcmF0ZWRid1szXTsgLyogZm9y
IGVhY2ggUUdWIHBvaW50ICovCj4gKwkJdW5zaWduZWQgaW50IGRlcmF0ZWRid1tOVU1fU0FHVl9Q
T0lOVFNdOyAvKiBmb3IgZWFjaCBRR1YgcG9pbnQgKi8KPiAgCQl1OCBudW1fcWd2X3BvaW50czsK
PiAgCQl1OCBudW1fcGxhbmVzOwo+ICAJfSBtYXhfYndbNl07Cj4gIAo+ICsJdTMyIHFndl9wb2lu
dHNfbWFzazsKPiArCj4gIAlzdHJ1Y3QgZHJtX3ByaXZhdGVfb2JqIGJ3X29iajsKPiAgCj4gIAlz
dHJ1Y3QgaW50ZWxfcnVudGltZV9wbSBydW50aW1lX3BtOwo+IGRpZmYgLS1naXQgYS9kcml2ZXJz
L2dwdS9kcm0vaTkxNS9pOTE1X3JlZy5oIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9yZWcu
aAo+IGluZGV4IGE0ZTVhNGFlMzg4NS4uMmVhODNmZjY4MWI5IDEwMDY0NAo+IC0tLSBhL2RyaXZl
cnMvZ3B1L2RybS9pOTE1L2k5MTVfcmVnLmgKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9p
OTE1X3JlZy5oCj4gQEAgLTg5ODEsNiArODk4MSw4IEBAIGVudW0gewo+ICAjZGVmaW5lICAgICBH
RU42X1BDT0RFX1VOSU1QTEVNRU5URURfQ01ECTB4RkYKPiAgI2RlZmluZSAgICAgR0VON19QQ09E
RV9USU1FT1VUCQkJMHgyCj4gICNkZWZpbmUgICAgIEdFTjdfUENPREVfSUxMRUdBTF9EQVRBCQkw
eDMKPiArI2RlZmluZSAgICAgR0VOMTFfUENPREVfTUFJTF9CT1hfTE9DS0VECQkweDYKPiArI2Rl
ZmluZSAgICAgR0VOMTFfUENPREVfUkVKRUNURUQJCTB4MTEKPiAgI2RlZmluZSAgICAgR0VON19Q
Q09ERV9NSU5fRlJFUV9UQUJMRV9HVF9SQVRJT19PVVRfT0ZfUkFOR0UgMHgxMAo+ICAjZGVmaW5l
ICAgR0VONl9QQ09ERV9XUklURV9SQzZWSURTCQkweDQKPiAgI2RlZmluZSAgIEdFTjZfUENPREVf
UkVBRF9SQzZWSURTCQkweDUKPiBAQCAtOTAwMiw2ICs5MDA0LDcgQEAgZW51bSB7Cj4gICNkZWZp
bmUgICBJQ0xfUENPREVfTUVNX1NVQlNZU1lTVEVNX0lORk8JMHhkCj4gICNkZWZpbmUgICAgIElD
TF9QQ09ERV9NRU1fU1NfUkVBRF9HTE9CQUxfSU5GTwkoMHgwIDw8IDgpCj4gICNkZWZpbmUgICAg
IElDTF9QQ09ERV9NRU1fU1NfUkVBRF9RR1ZfUE9JTlRfSU5GTyhwb2ludCkJKCgocG9pbnQpIDw8
IDE2KSB8ICgweDEgPDwgOCkpCj4gKyNkZWZpbmUgICBJQ0xfUENPREVfU0FHVl9ERV9NRU1fU1Nf
Q09ORklHCTB4ZQo+ICAjZGVmaW5lICAgR0VONl9QQ09ERV9SRUFEX0RfQ09NUAkJMHgxMAo+ICAj
ZGVmaW5lICAgR0VONl9QQ09ERV9XUklURV9EX0NPTVAJCTB4MTEKPiAgI2RlZmluZSAgIEhTV19Q
Q09ERV9ERV9XUklURV9GUkVRX1JFUQkJMHgxNwo+IEBAIC05MDE0LDYgKzkwMTcsOCBAQCBlbnVt
IHsKPiAgI2RlZmluZSAgICAgR0VOOV9TQUdWX0lTX0RJU0FCTEVECQkweDEKPiAgI2RlZmluZSAg
ICAgR0VOOV9TQUdWX0VOQUJMRQkJCTB4Mwo+ICAjZGVmaW5lIEdFTjEyX1BDT0RFX1JFQURfU0FH
Vl9CTE9DS19USU1FX1VTCTB4MjMKPiArI2RlZmluZSBHRU4xMV9QQ09ERV9QT0lOVFNfUkVTVFJJ
Q1RFRAkJMHgwCj4gKyNkZWZpbmUgR0VOMTFfUENPREVfUE9JTlRTX1JFU1RSSUNURURfTUFTSwkw
eDEKPiAgI2RlZmluZSBHRU42X1BDT0RFX0RBVEEJCQkJX01NSU8oMHgxMzgxMjgpCj4gICNkZWZp
bmUgICBHRU42X1BDT0RFX0ZSRVFfSUFfUkFUSU9fU0hJRlQJOAo+ICAjZGVmaW5lICAgR0VONl9Q
Q09ERV9GUkVRX1JJTkdfUkFUSU9fU0hJRlQJMTYKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUv
ZHJtL2k5MTUvaW50ZWxfc2lkZWJhbmQuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX3Np
ZGViYW5kLmMKPiBpbmRleCBlMDZiMzViODQ0YTAuLmZmOWRiZWQwOTRkOCAxMDA2NDQKPiAtLS0g
YS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9zaWRlYmFuZC5jCj4gKysrIGIvZHJpdmVycy9n
cHUvZHJtL2k5MTUvaW50ZWxfc2lkZWJhbmQuYwo+IEBAIC0zNzEsNiArMzcxLDI5IEBAIHN0YXRp
YyBpbmxpbmUgaW50IGdlbjdfY2hlY2tfbWFpbGJveF9zdGF0dXModTMyIG1ib3gpCj4gIAl9Cj4g
IH0KPiAgCj4gK3N0YXRpYyBpbmxpbmUgaW50IGdlbjExX2NoZWNrX21haWxib3hfc3RhdHVzKHUz
MiBtYm94KQo+ICt7Cj4gKwlzd2l0Y2ggKG1ib3ggJiBHRU42X1BDT0RFX0VSUk9SX01BU0spIHsK
PiArCWNhc2UgR0VONl9QQ09ERV9TVUNDRVNTOgo+ICsJCXJldHVybiAwOwo+ICsJY2FzZSBHRU42
X1BDT0RFX0lMTEVHQUxfQ01EOgo+ICsJCXJldHVybiAtRU5YSU87Cj4gKwljYXNlIEdFTjdfUENP
REVfVElNRU9VVDoKPiArCQlyZXR1cm4gLUVUSU1FRE9VVDsKPiArCWNhc2UgR0VON19QQ09ERV9J
TExFR0FMX0RBVEE6Cj4gKwkJcmV0dXJuIC1FSU5WQUw7Cj4gKwljYXNlIEdFTjdfUENPREVfTUlO
X0ZSRVFfVEFCTEVfR1RfUkFUSU9fT1VUX09GX1JBTkdFOgo+ICsJCXJldHVybiAtRU9WRVJGTE9X
Owo+ICsJY2FzZSBHRU4xMV9QQ09ERV9NQUlMX0JPWF9MT0NLRUQ6Cj4gKwkJcmV0dXJuIC1FQUdB
SU47Cj4gKwljYXNlIEdFTjExX1BDT0RFX1JFSkVDVEVEOgo+ICsJCXJldHVybiAtRUFDQ0VTOwo+
ICsJZGVmYXVsdDoKPiArCQlNSVNTSU5HX0NBU0UobWJveCAmIEdFTjZfUENPREVfRVJST1JfTUFT
Syk7Cj4gKwkJcmV0dXJuIDA7Cj4gKwl9Cj4gK30KPiArCj4gIHN0YXRpYyBpbnQgX19zYW5keWJy
aWRnZV9wY29kZV9ydyhzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSwKPiAgCQkJCSAgdTMy
IG1ib3gsIHUzMiAqdmFsLCB1MzIgKnZhbDEsCj4gIAkJCQkgIGludCBmYXN0X3RpbWVvdXRfdXMs
Cj4gQEAgLTQwOCw3ICs0MzEsOSBAQCBzdGF0aWMgaW50IF9fc2FuZHlicmlkZ2VfcGNvZGVfcnco
c3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUsCj4gIAlpZiAoaXNfcmVhZCAmJiB2YWwxKQo+
ICAJCSp2YWwxID0gaW50ZWxfdW5jb3JlX3JlYWRfZncodW5jb3JlLCBHRU42X1BDT0RFX0RBVEEx
KTsKPiAgCj4gLQlpZiAoSU5URUxfR0VOKGk5MTUpID4gNikKPiArCWlmIChJTlRFTF9HRU4oaTkx
NSkgPj0gMTEpCj4gKwkJcmV0dXJuIGdlbjExX2NoZWNrX21haWxib3hfc3RhdHVzKG1ib3gpOwo+
ICsJZWxzZSBpZiAoSU5URUxfR0VOKGk5MTUpID4gNikKPiAgCQlyZXR1cm4gZ2VuN19jaGVja19t
YWlsYm94X3N0YXR1cyhtYm94KTsKPiAgCWVsc2UKPiAgCQlyZXR1cm4gZ2VuNl9jaGVja19tYWls
Ym94X3N0YXR1cyhtYm94KTsKPiAtLSAKPiAyLjE3LjEKPiAKCi0tIApNYXR0IFJvcGVyCkdyYXBo
aWNzIFNvZnR3YXJlIEVuZ2luZWVyClZUVC1PU0dDIFBsYXRmb3JtIEVuYWJsZW1lbnQKSW50ZWwg
Q29ycG9yYXRpb24KKDkxNikgMzU2LTI3OTUKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX18KSW50ZWwtZ2Z4IG1haWxpbmcgbGlzdApJbnRlbC1nZnhAbGlzdHMu
ZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlz
dGluZm8vaW50ZWwtZ2Z4

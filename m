Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 81FB0263890
	for <lists+intel-gfx@lfdr.de>; Wed,  9 Sep 2020 23:38:31 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 798436F538;
	Wed,  9 Sep 2020 21:38:28 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga05.intel.com (mga05.intel.com [192.55.52.43])
 by gabe.freedesktop.org (Postfix) with ESMTPS id EC9BE6F538
 for <intel-gfx@lists.freedesktop.org>; Wed,  9 Sep 2020 21:38:27 +0000 (UTC)
IronPort-SDR: HnGwQcxj1vZ37A+BoWHs4cLU37YG5mq3Lg5HpN6BJxq1JiZClCY1/p12/2GY9RuRU8mLJiH7qt
 HCylPchJNu1w==
X-IronPort-AV: E=McAfee;i="6000,8403,9739"; a="243237482"
X-IronPort-AV: E=Sophos;i="5.76,410,1592895600"; d="scan'208";a="243237482"
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga006.jf.intel.com ([10.7.209.51])
 by fmsmga105.fm.intel.com with ESMTP/TLS/ECDHE-RSA-AES256-GCM-SHA384;
 09 Sep 2020 14:38:27 -0700
IronPort-SDR: gsbYVgXGqAhKHbAmHeGegU8xPKgFmRz2uaJFyYwEX57ISVJmHd5drGp9J+rxGu3bizPFYtd+5T
 i/Onv/N5RaIA==
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.76,410,1592895600"; d="scan'208";a="304648512"
Received: from stinkbox.fi.intel.com (HELO stinkbox) ([10.237.72.174])
 by orsmga006.jf.intel.com with SMTP; 09 Sep 2020 14:38:25 -0700
Received: by stinkbox (sSMTP sendmail emulation);
 Thu, 10 Sep 2020 00:38:24 +0300
From: Ville Syrjala <ville.syrjala@linux.intel.com>
To: intel-gfx@lists.freedesktop.org
Date: Thu, 10 Sep 2020 00:38:23 +0300
Message-Id: <20200909213824.12390-1-ville.syrjala@linux.intel.com>
X-Mailer: git-send-email 2.26.2
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH 1/2] drm/i915: Reduce INTEL_DISPLAY_ENABLED to
 just removing the outputs
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

RnJvbTogVmlsbGUgU3lyasOkbMOkIDx2aWxsZS5zeXJqYWxhQGxpbnV4LmludGVsLmNvbT4KCkhh
dmluZyBhIG1vZGUgd2hlcmUgdGhlIGRpc3BsYXkgaGFyZHdhcmUgaXMgcHJlc2VudCBidXQgd2Ug
dHJ5CnRvIHByZXRlbmQgaXQgaXNuJ3QganVzdCBsZWFkcyB0byBtYXNzaXZlIGhlYWRhY2hlcyB3
aGVuIHRyeWluZwp0byByZWFzb24gd2hhdCB0aGUgZmFsbG91dCBtaWdodCBiZSBmcm9tIHNraXBw
aW5nIHNvbWUgcmFuZG9tCmJpdHMgb2YgcHJvZ3JhbW1pbmcuCgpMZXQncyBqdXN0IG5ldXRlciBJ
TlRFTF9ESVNQTEFZX0VOQUJMRUQgc28gdGhhdCB3ZSB0cmVhdCB0aGUKaGFyZHdhcmUgYXMgZnVs
bHkgcHJlc2VudCwgZXhjZXB0IHdlIGp1c3QgZG9uJ3QgcmVnaXN0ZXIgYW55Cm91dHB1dHMuIFRo
YXQncyBzdGlsbCByYXRoZXIgc2tldGNoeSBpZiB0aGUgb3V0cHV0cyBhcmUgYWxyZWFkeQplbmFi
bGVkIHdoZW4gdGhlIGRyaXZlciBpcyBsb2FkZWQuIEkgdGhpbmsgdGhlIHNpbXBsZXN0IHNvbHV0
aW9uCndvdWxkIGJlIHRvIHByb2JlIGV2ZXJ5dGhpbmcgYXMgbm9ybWFsIGFuZCBqdXN0IHJldHVy
bgpkaXNjb25uZWN0ZWQiIGZyb20gYWxsIC5kZXRlY3QoKSBob29rcy4gVGhhdCB3b3VsZCBhdm9p
ZCBhbnl0aGluZwphdXRvbWFnaWNhbGx5IGVuYWJsaW5nIHRob3NlIG91dHB1dHMsIGJ1dCB0aGUg
ZHJpdmVyIGNvdWxkIHRoZW4Kc2h1dCB0aGluZ3MgZG93biB1c2luZyB0aGUgbm9ybWFsIGNvZGVw
YXRocy4KClNpZ25lZC1vZmYtYnk6IFZpbGxlIFN5cmrDpGzDpCA8dmlsbGUuc3lyamFsYUBsaW51
eC5pbnRlbC5jb20+Ci0tLQogZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9iaW9z
LmMgICAgfCAyICstCiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXku
YyB8IDggKysrKy0tLS0KIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZmJkZXYu
YyAgIHwgMyArLS0KIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZ21idXMuYyAg
IHwgMiArLQogZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kcnYuYyAgICAgICAgICAgICAgfCA0
ICsrLS0KIDUgZmlsZXMgY2hhbmdlZCwgOSBpbnNlcnRpb25zKCspLCAxMCBkZWxldGlvbnMoLSkK
CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Jpb3MuYyBi
L2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfYmlvcy5jCmluZGV4IGEwYTQxZWM1
YzM0MS4uYzExMGNkOWU4YTczIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNw
bGF5L2ludGVsX2Jpb3MuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVs
X2Jpb3MuYwpAQCAtMjEzMyw3ICsyMTMzLDcgQEAgdm9pZCBpbnRlbF9iaW9zX2luaXQoc3RydWN0
IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2KQogCiAJSU5JVF9MSVNUX0hFQUQoJmRldl9wcml2
LT52YnQuZGlzcGxheV9kZXZpY2VzKTsKIAotCWlmICghSEFTX0RJU1BMQVkoZGV2X3ByaXYpIHx8
ICFJTlRFTF9ESVNQTEFZX0VOQUJMRUQoZGV2X3ByaXYpKSB7CisJaWYgKCFIQVNfRElTUExBWShk
ZXZfcHJpdikpIHsKIAkJZHJtX2RiZ19rbXMoJmRldl9wcml2LT5kcm0sCiAJCQkgICAgIlNraXBw
aW5nIFZCVCBpbml0IGR1ZSB0byBkaXNhYmxlZCBkaXNwbGF5LlxuIik7CiAJCXJldHVybjsKZGlm
ZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheS5jIGIv
ZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5LmMKaW5kZXggZWMxNDhh
OGRhMmMyLi5iYWNhZjcxM2VlZDQgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rp
c3BsYXkvaW50ZWxfZGlzcGxheS5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkv
aW50ZWxfZGlzcGxheS5jCkBAIC0xNzg4Miw3ICsxNzg4Miw3IEBAIGludCBpbnRlbF9tb2Rlc2V0
X2luaXRfbm9pcnEoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUpCiAJaWYgKGk5MTVfaW5q
ZWN0X3Byb2JlX2ZhaWx1cmUoaTkxNSkpCiAJCXJldHVybiAtRU5PREVWOwogCi0JaWYgKEhBU19E
SVNQTEFZKGk5MTUpICYmIElOVEVMX0RJU1BMQVlfRU5BQkxFRChpOTE1KSkgeworCWlmIChIQVNf
RElTUExBWShpOTE1KSkgewogCQlyZXQgPSBkcm1fdmJsYW5rX2luaXQoJmk5MTUtPmRybSwKIAkJ
CQkgICAgICBJTlRFTF9OVU1fUElQRVMoaTkxNSkpOwogCQlpZiAocmV0KQpAQCAtMTc5NTYsNyAr
MTc5NTYsNyBAQCBpbnQgaW50ZWxfbW9kZXNldF9pbml0X25vZ2VtKHN0cnVjdCBkcm1faTkxNV9w
cml2YXRlICppOTE1KQogCQkgICAgSU5URUxfTlVNX1BJUEVTKGk5MTUpLAogCQkgICAgSU5URUxf
TlVNX1BJUEVTKGk5MTUpID4gMSA/ICJzIiA6ICIiKTsKIAotCWlmIChIQVNfRElTUExBWShpOTE1
KSAmJiBJTlRFTF9ESVNQTEFZX0VOQUJMRUQoaTkxNSkpIHsKKwlpZiAoSEFTX0RJU1BMQVkoaTkx
NSkpIHsKIAkJZm9yX2VhY2hfcGlwZShpOTE1LCBwaXBlKSB7CiAJCQlyZXQgPSBpbnRlbF9jcnRj
X2luaXQoaTkxNSwgcGlwZSk7CiAJCQlpZiAocmV0KSB7CkBAIC0xODA0NSw3ICsxODA0NSw3IEBA
IGludCBpbnRlbF9tb2Rlc2V0X2luaXQoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUpCiAK
IAlpbnRlbF9vdmVybGF5X3NldHVwKGk5MTUpOwogCi0JaWYgKCFIQVNfRElTUExBWShpOTE1KSB8
fCAhSU5URUxfRElTUExBWV9FTkFCTEVEKGk5MTUpKQorCWlmICghSEFTX0RJU1BMQVkoaTkxNSkp
CiAJCXJldHVybiAwOwogCiAJcmV0ID0gaW50ZWxfZmJkZXZfaW5pdCgmaTkxNS0+ZHJtKTsKQEAg
LTE5MDE4LDcgKzE5MDE4LDcgQEAgaW50ZWxfZGlzcGxheV9jYXB0dXJlX2Vycm9yX3N0YXRlKHN0
cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdikKIAogCUJVSUxEX0JVR19PTihBUlJBWV9T
SVpFKHRyYW5zY29kZXJzKSAhPSBBUlJBWV9TSVpFKGVycm9yLT50cmFuc2NvZGVyKSk7CiAKLQlp
ZiAoIUhBU19ESVNQTEFZKGRldl9wcml2KSB8fCAhSU5URUxfRElTUExBWV9FTkFCTEVEKGRldl9w
cml2KSkKKwlpZiAoIUhBU19ESVNQTEFZKGRldl9wcml2KSkKIAkJcmV0dXJuIE5VTEw7CiAKIAll
cnJvciA9IGt6YWxsb2Moc2l6ZW9mKCplcnJvciksIEdGUF9BVE9NSUMpOwpkaWZmIC0tZ2l0IGEv
ZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9mYmRldi5jIGIvZHJpdmVycy9ncHUv
ZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9mYmRldi5jCmluZGV4IGJkMzllYjZhMjFiOC4uODQyYzA0
ZTYzMjE0IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Zi
ZGV2LmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9mYmRldi5jCkBA
IC00NTEsOCArNDUxLDcgQEAgaW50IGludGVsX2ZiZGV2X2luaXQoc3RydWN0IGRybV9kZXZpY2Ug
KmRldikKIAlzdHJ1Y3QgaW50ZWxfZmJkZXYgKmlmYmRldjsKIAlpbnQgcmV0OwogCi0JaWYgKGRy
bV9XQVJOX09OKGRldiwgIUhBU19ESVNQTEFZKGRldl9wcml2KSB8fAotCQkJIUlOVEVMX0RJU1BM
QVlfRU5BQkxFRChkZXZfcHJpdikpKQorCWlmIChkcm1fV0FSTl9PTihkZXYsICFIQVNfRElTUExB
WShkZXZfcHJpdikpKQogCQlyZXR1cm4gLUVOT0RFVjsKIAogCWlmYmRldiA9IGt6YWxsb2Moc2l6
ZW9mKHN0cnVjdCBpbnRlbF9mYmRldiksIEdGUF9LRVJORUwpOwpkaWZmIC0tZ2l0IGEvZHJpdmVy
cy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9nbWJ1cy5jIGIvZHJpdmVycy9ncHUvZHJtL2k5
MTUvZGlzcGxheS9pbnRlbF9nbWJ1cy5jCmluZGV4IGE4ZDExOWI2YjQ1Yy4uZTZiOGQ2ZGZiNTk4
IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2dtYnVzLmMK
KysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9nbWJ1cy5jCkBAIC04MzQs
NyArODM0LDcgQEAgaW50IGludGVsX2dtYnVzX3NldHVwKHN0cnVjdCBkcm1faTkxNV9wcml2YXRl
ICpkZXZfcHJpdikKIAl1bnNpZ25lZCBpbnQgcGluOwogCWludCByZXQ7CiAKLQlpZiAoIUhBU19E
SVNQTEFZKGRldl9wcml2KSB8fCAhSU5URUxfRElTUExBWV9FTkFCTEVEKGRldl9wcml2KSkKKwlp
ZiAoIUhBU19ESVNQTEFZKGRldl9wcml2KSkKIAkJcmV0dXJuIDA7CiAKIAlpZiAoSVNfVkFMTEVZ
VklFVyhkZXZfcHJpdikgfHwgSVNfQ0hFUlJZVklFVyhkZXZfcHJpdikpCmRpZmYgLS1naXQgYS9k
cml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2Rydi5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkx
NV9kcnYuYwppbmRleCBkNjZmZTA5ZDMzN2UuLjliMzVhZjJjZjIyNSAxMDA2NDQKLS0tIGEvZHJp
dmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kcnYuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9p
OTE1X2Rydi5jCkBAIC02OTMsNyArNjkzLDcgQEAgc3RhdGljIHZvaWQgaTkxNV9kcml2ZXJfcmVn
aXN0ZXIoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2KQogCQlkcm1fZXJyKCZkZXZf
cHJpdi0+ZHJtLAogCQkJIkZhaWxlZCB0byByZWdpc3RlciBkcml2ZXIgZm9yIHVzZXJzcGFjZSBh
Y2Nlc3MhXG4iKTsKIAotCWlmIChIQVNfRElTUExBWShkZXZfcHJpdikgJiYgSU5URUxfRElTUExB
WV9FTkFCTEVEKGRldl9wcml2KSkgeworCWlmIChIQVNfRElTUExBWShkZXZfcHJpdikpIHsKIAkJ
LyogTXVzdCBiZSBkb25lIGFmdGVyIHByb2Jpbmcgb3V0cHV0cyAqLwogCQlpbnRlbF9vcHJlZ2lv
bl9yZWdpc3RlcihkZXZfcHJpdik7CiAJCWFjcGlfdmlkZW9fcmVnaXN0ZXIoKTsKQEAgLTcxNiw3
ICs3MTYsNyBAQCBzdGF0aWMgdm9pZCBpOTE1X2RyaXZlcl9yZWdpc3RlcihzdHJ1Y3QgZHJtX2k5
MTVfcHJpdmF0ZSAqZGV2X3ByaXYpCiAJICogV2UgbmVlZCB0byBjb29yZGluYXRlIHRoZSBob3Rw
bHVncyB3aXRoIHRoZSBhc3luY2hyb25vdXMgZmJkZXYKIAkgKiBjb25maWd1cmF0aW9uLCBmb3Ig
d2hpY2ggd2UgdXNlIHRoZSBmYmRldi0+YXN5bmNfY29va2llLgogCSAqLwotCWlmIChIQVNfRElT
UExBWShkZXZfcHJpdikgJiYgSU5URUxfRElTUExBWV9FTkFCTEVEKGRldl9wcml2KSkKKwlpZiAo
SEFTX0RJU1BMQVkoZGV2X3ByaXYpKQogCQlkcm1fa21zX2hlbHBlcl9wb2xsX2luaXQoZGV2KTsK
IAogCWludGVsX3Bvd2VyX2RvbWFpbnNfZW5hYmxlKGRldl9wcml2KTsKLS0gCjIuMjYuMgoKX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KSW50ZWwtZ2Z4IG1h
aWxpbmcgbGlzdApJbnRlbC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMu
ZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vaW50ZWwtZ2Z4Cg==

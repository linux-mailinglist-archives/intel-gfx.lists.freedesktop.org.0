Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 41159115A9A
	for <lists+intel-gfx@lfdr.de>; Sat,  7 Dec 2019 02:18:44 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 5D6C76FACD;
	Sat,  7 Dec 2019 01:18:41 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga07.intel.com (mga07.intel.com [134.134.136.100])
 by gabe.freedesktop.org (Postfix) with ESMTPS id EABE56FACB
 for <intel-gfx@lists.freedesktop.org>; Sat,  7 Dec 2019 01:18:39 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga007.jf.intel.com ([10.7.209.58])
 by orsmga105.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 06 Dec 2019 17:18:39 -0800
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.69,286,1571727600"; d="scan'208";a="202276992"
Received: from josouza-mobl.jf.intel.com (HELO josouza-MOBL.intel.com)
 ([10.24.8.230])
 by orsmga007.jf.intel.com with ESMTP; 06 Dec 2019 17:18:39 -0800
From: =?UTF-8?q?Jos=C3=A9=20Roberto=20de=20Souza?= <jose.souza@intel.com>
To: intel-gfx@lists.freedesktop.org
Date: Fri,  6 Dec 2019 17:18:31 -0800
Message-Id: <20191207011832.422566-3-jose.souza@intel.com>
X-Mailer: git-send-email 2.24.0
In-Reply-To: <20191207011832.422566-1-jose.souza@intel.com>
References: <20191207011832.422566-1-jose.souza@intel.com>
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH 3/4] drm/i915/dp: Fix MST disable sequences
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: Lucas De Marchi <lucas.demarchi@intel.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

VGhlIGRpc2FibGUgc2VxdWVuY2UgYWZ0ZXIgd2FpdCBmb3IgdHJhbnNjb2RlciBvZmYgd2FzIG5v
dCBjb3JyZWN0bHkKaW1wbGVtZW50ZWQuClRoZSBNU1QgZGlzYWJsZSBzZXF1ZW5jZSBpcyBiYXNp
Y2FsbHkgdGhlIHNhbWUgZm9yIEhTVywgU0tMLCBJQ0wgYW5kClRHTCwgd2l0aCBqdXN0IG1pbm9y
IGNoYW5nZXMgZm9yIFRHTC4KClNvIGhlcmUgY2FsbGluZyBhIG5ldyBNU1QgZnVuY3Rpb24gdG8g
ZG8gdGhlIE1TVCBzZXF1ZW5jZXMsIG1vc3Qgb2YKdGhlIHN0ZXBzIGp1c3QgbW92ZWQgZnJvbSB0
aGUgcG9zdCBkaXNhYmxlIGhvb2suCgpXaXRoIHRoaXMgbGFzdCBwYXRjaCB3ZSBmaW5hbGx5IGZp
eGVkIHRoZSBob3RwbHVncyB0cmlnZ2VyZWQgYnkgTVNUCnNpbmtzIGR1cmluZyB0aGUgZGlzYWJs
ZS9lbmFibGUgc2VxdWVuY2UsIHRob3NlIHdlcmUgY2F1c2luZyBzb3VyY2UKdG8gdHJ5IHRvIGRv
IGEgbGluayB0cmFpbmluZyB3aGlsZSBpdCB3YXMgbm90IHJlYWR5IGNhdXNpbmcgQ1BVIHBpcGUK
RklGTyB1bmRlcnJydXMgb24gVEdMLgoKQlNwZWM6IDQyMzEKQlNwZWM6IDQxNjMKQlNwZWM6IDIy
MjQzCkJTcGVjOiA0OTE5MApDYzogTHVjYXMgRGUgTWFyY2hpIDxsdWNhcy5kZW1hcmNoaUBpbnRl
bC5jb20+ClNpZ25lZC1vZmYtYnk6IEpvc8OpIFJvYmVydG8gZGUgU291emEgPGpvc2Uuc291emFA
aW50ZWwuY29tPgotLS0KIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGRpLmMg
ICAgIHwgMTcgKysrLS0KIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxh
eS5jIHwgIDIgKwogZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kcF9tc3QuYyAg
fCA3OSArKysrKysrKysrKysrKysrLS0tLQogZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9p
bnRlbF9kcF9tc3QuaCAgfCAgMSArCiA0IGZpbGVzIGNoYW5nZWQsIDc5IGluc2VydGlvbnMoKyks
IDIwIGRlbGV0aW9ucygtKQoKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3Bs
YXkvaW50ZWxfZGRpLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2RkaS5j
CmluZGV4IGJlNWJjNTA2ZDRkMy4uZjA2YzZkZmVjODg4IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dw
dS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2RkaS5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1
L2Rpc3BsYXkvaW50ZWxfZGRpLmMKQEAgLTM0LDYgKzM0LDcgQEAKICNpbmNsdWRlICJpbnRlbF9k
ZGkuaCIKICNpbmNsdWRlICJpbnRlbF9kaXNwbGF5X3R5cGVzLmgiCiAjaW5jbHVkZSAiaW50ZWxf
ZHAuaCIKKyNpbmNsdWRlICJpbnRlbF9kcF9tc3QuaCIKICNpbmNsdWRlICJpbnRlbF9kcF9saW5r
X3RyYWluaW5nLmgiCiAjaW5jbHVkZSAiaW50ZWxfZHBpb19waHkuaCIKICNpbmNsdWRlICJpbnRl
bF9kc2kuaCIKQEAgLTE5NTMsMTcgKzE5NTQsMTkgQEAgdm9pZCBpbnRlbF9kZGlfZGlzYWJsZV90
cmFuc2NvZGVyX2Z1bmMoY29uc3Qgc3RydWN0IGludGVsX2NydGNfc3RhdGUgKmNydGNfc3RhdGUK
IAlzdHJ1Y3QgaW50ZWxfY3J0YyAqY3J0YyA9IHRvX2ludGVsX2NydGMoY3J0Y19zdGF0ZS0+dWFw
aS5jcnRjKTsKIAlzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYgPSB0b19pOTE1KGNy
dGMtPmJhc2UuZGV2KTsKIAllbnVtIHRyYW5zY29kZXIgY3B1X3RyYW5zY29kZXIgPSBjcnRjX3N0
YXRlLT5jcHVfdHJhbnNjb2RlcjsKLQlpOTE1X3JlZ190IHJlZyA9IFRSQU5TX0RESV9GVU5DX0NU
TChjcHVfdHJhbnNjb2Rlcik7Ci0JdTMyIHZhbCA9IEk5MTVfUkVBRChyZWcpOworCXUzMiB2YWw7
CisKKwl2YWwgPSBJOTE1X1JFQUQoVFJBTlNfRERJX0ZVTkNfQ1RMKGNwdV90cmFuc2NvZGVyKSk7
CisJdmFsICY9IH5UUkFOU19ERElfRlVOQ19FTkFCTEU7CiAKIAlpZiAoSU5URUxfR0VOKGRldl9w
cml2KSA+PSAxMikgewotCQl2YWwgJj0gfihUUkFOU19ERElfRlVOQ19FTkFCTEUgfCBUR0xfVFJB
TlNfRERJX1BPUlRfTUFTSyB8Ci0JCQkgVFJBTlNfRERJX0RQX1ZDX1BBWUxPQURfQUxMT0MpOwor
CQlpZiAoIWludGVsX2NydGNfaGFzX3R5cGUoY3J0Y19zdGF0ZSwgSU5URUxfT1VUUFVUX0RQX01T
VCkgfHwKKwkJICAgIGludGVsX2RwX21zdF9pc19zbGF2ZV90cmFucyhjcnRjX3N0YXRlKSkKKwkJ
CXZhbCAmPSB+VEdMX1RSQU5TX0RESV9QT1JUX01BU0s7CiAJfSBlbHNlIHsKLQkJdmFsICY9IH4o
VFJBTlNfRERJX0ZVTkNfRU5BQkxFIHwgVFJBTlNfRERJX1BPUlRfTUFTSyB8Ci0JCQkgVFJBTlNf
RERJX0RQX1ZDX1BBWUxPQURfQUxMT0MpOworCQl2YWwgJj0gflRSQU5TX0RESV9QT1JUX01BU0s7
CiAJfQotCUk5MTVfV1JJVEUocmVnLCB2YWwpOworCUk5MTVfV1JJVEUoVFJBTlNfRERJX0ZVTkNf
Q1RMKGNwdV90cmFuc2NvZGVyKSwgdmFsKTsKIAogCWlmIChkZXZfcHJpdi0+cXVpcmtzICYgUVVJ
UktfSU5DUkVBU0VfRERJX0RJU0FCTEVEX1RJTUUgJiYKIAkgICAgaW50ZWxfY3J0Y19oYXNfdHlw
ZShjcnRjX3N0YXRlLCBJTlRFTF9PVVRQVVRfSERNSSkpIHsKZGlmZiAtLWdpdCBhL2RyaXZlcnMv
Z3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheS5jIGIvZHJpdmVycy9ncHUvZHJtL2k5
MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5LmMKaW5kZXggMmY3NGMwYmZiMmE4Li5kM2VlZmIyNzFm
YTQgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxh
eS5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheS5jCkBA
IC02Nzc2LDYgKzY3NzYsOCBAQCBzdGF0aWMgdm9pZCBoYXN3ZWxsX2NydGNfZGlzYWJsZShzdHJ1
Y3QgaW50ZWxfYXRvbWljX3N0YXRlICpzdGF0ZSwKIAlpZiAoIXRyYW5zY29kZXJfaXNfZHNpKGNw
dV90cmFuc2NvZGVyKSkKIAkJaW50ZWxfZGlzYWJsZV9waXBlKG9sZF9jcnRjX3N0YXRlKTsKIAor
CWludGVsX2RwX21zdF9wb3N0X3RyYW5zX2Rpc2FibGVkKG9sZF9jcnRjX3N0YXRlKTsKKwogCWlm
IChJTlRFTF9HRU4oZGV2X3ByaXYpID49IDExKQogCQlpY2xfZGlzYWJsZV90cmFuc2NvZGVyX3Bv
cnRfc3luYyhvbGRfY3J0Y19zdGF0ZSk7CiAKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9p
OTE1L2Rpc3BsYXkvaW50ZWxfZHBfbXN0LmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5
L2ludGVsX2RwX21zdC5jCmluZGV4IDQ5ZjE1MThlM2FiOS4uM2M5OGEyNWU2MzA4IDEwMDY0NAot
LS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2RwX21zdC5jCisrKyBiL2Ry
aXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZHBfbXN0LmMKQEAgLTM2NSw2ICszNjUs
NTcgQEAgc3RhdGljIHZvaWQgaW50ZWxfbXN0X2Rpc2FibGVfZHAoc3RydWN0IGludGVsX2VuY29k
ZXIgKmVuY29kZXIsCiAJCQkJCSAgb2xkX2NydGNfc3RhdGUsIG9sZF9jb25uX3N0YXRlKTsKIH0K
IAorc3RhdGljIHZvaWQKK2RwX21zdF9wb3N0X3RyYW5zX2Rpc2FibGVkKHN0cnVjdCBpbnRlbF9l
bmNvZGVyICplbmNvZGVyLAorCQkJICAgY29uc3Qgc3RydWN0IGludGVsX2NydGNfc3RhdGUgKm9s
ZF9jcnRjX3N0YXRlLAorCQkJICAgY29uc3Qgc3RydWN0IGRybV9jb25uZWN0b3Jfc3RhdGUgKm9s
ZF9jb25uX3N0YXRlKQoreworCXN0cnVjdCBpbnRlbF9kcF9tc3RfZW5jb2RlciAqaW50ZWxfbXN0
ID0gZW5jX3RvX21zdCgmZW5jb2Rlci0+YmFzZSk7CisJc3RydWN0IGludGVsX2RpZ2l0YWxfcG9y
dCAqaW50ZWxfZGlnX3BvcnQgPSBpbnRlbF9tc3QtPnByaW1hcnk7CisJc3RydWN0IGludGVsX2Rw
ICppbnRlbF9kcCA9ICZpbnRlbF9kaWdfcG9ydC0+ZHA7CisJc3RydWN0IGludGVsX2Nvbm5lY3Rv
ciAqY29ubmVjdG9yID0KKwkJdG9faW50ZWxfY29ubmVjdG9yKG9sZF9jb25uX3N0YXRlLT5jb25u
ZWN0b3IpOworCXN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiA9IHRvX2k5MTUoY29u
bmVjdG9yLT5iYXNlLmRldik7CisJdTMyIHZhbDsKKworCWRybV9kcF91cGRhdGVfcGF5bG9hZF9w
YXJ0MigmaW50ZWxfZHAtPm1zdF9tZ3IpOworCisJdmFsID0gSTkxNV9SRUFEKFRSQU5TX0RESV9G
VU5DX0NUTChvbGRfY3J0Y19zdGF0ZS0+Y3B1X3RyYW5zY29kZXIpKTsKKwl2YWwgJj0gflRSQU5T
X0RESV9EUF9WQ19QQVlMT0FEX0FMTE9DOworCUk5MTVfV1JJVEUoVFJBTlNfRERJX0ZVTkNfQ1RM
KG9sZF9jcnRjX3N0YXRlLT5jcHVfdHJhbnNjb2RlciksIHZhbCk7CisKKwlpZiAoaW50ZWxfZGVf
d2FpdF9mb3Jfc2V0KGRldl9wcml2LCBpbnRlbF9kcC0+cmVncy5kcF90cF9zdGF0dXMsCisJCQkJ
ICBEUF9UUF9TVEFUVVNfQUNUX1NFTlQsIDEpKQorCQlEUk1fRVJST1IoIlRpbWVkIG91dCB3YWl0
aW5nIGZvciBBQ1Qgc2VudCB3aGVuIGRpc2FibGluZ1xuIik7CisKKwlkcm1fZHBfY2hlY2tfYWN0
X3N0YXR1cygmaW50ZWxfZHAtPm1zdF9tZ3IpOworCisJZHJtX2RwX21zdF9kZWFsbG9jYXRlX3Zj
cGkoJmludGVsX2RwLT5tc3RfbWdyLCBjb25uZWN0b3ItPnBvcnQpOworfQorCit2b2lkCitpbnRl
bF9kcF9tc3RfcG9zdF90cmFuc19kaXNhYmxlZChjb25zdCBzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0
ZSAqb2xkX2NydGNfc3RhdGUpCit7CisJc3RydWN0IGRybV9hdG9taWNfc3RhdGUgKnN0YXRlID0g
b2xkX2NydGNfc3RhdGUtPnVhcGkuc3RhdGU7CisJc3RydWN0IGRybV9jb25uZWN0b3Jfc3RhdGUg
Km9sZF9jb25uX3N0YXRlOworCXN0cnVjdCBkcm1fY29ubmVjdG9yICpjb25uOworCWludCBpOwor
CisJaWYgKCFpbnRlbF9jcnRjX2hhc190eXBlKG9sZF9jcnRjX3N0YXRlLCBJTlRFTF9PVVRQVVRf
RFBfTVNUKSkKKwkJcmV0dXJuOworCisJZm9yX2VhY2hfb2xkX2Nvbm5lY3Rvcl9pbl9zdGF0ZShz
dGF0ZSwgY29ubiwgb2xkX2Nvbm5fc3RhdGUsIGkpIHsKKwkJc3RydWN0IGludGVsX2VuY29kZXIg
KmVuY29kZXI7CisKKwkJaWYgKG9sZF9jb25uX3N0YXRlLT5jcnRjICE9IG9sZF9jcnRjX3N0YXRl
LT51YXBpLmNydGMpCisJCQljb250aW51ZTsKKworCQllbmNvZGVyID0gdG9faW50ZWxfZW5jb2Rl
cihvbGRfY29ubl9zdGF0ZS0+YmVzdF9lbmNvZGVyKTsKKwkJZHBfbXN0X3Bvc3RfdHJhbnNfZGlz
YWJsZWQoZW5jb2Rlciwgb2xkX2NydGNfc3RhdGUsCisJCQkJCSAgIG9sZF9jb25uX3N0YXRlKTsK
Kwl9Cit9CisKIHN0YXRpYyB2b2lkIGludGVsX21zdF9wb3N0X2Rpc2FibGVfZHAoc3RydWN0IGlu
dGVsX2VuY29kZXIgKmVuY29kZXIsCiAJCQkJICAgICAgY29uc3Qgc3RydWN0IGludGVsX2NydGNf
c3RhdGUgKm9sZF9jcnRjX3N0YXRlLAogCQkJCSAgICAgIGNvbnN0IHN0cnVjdCBkcm1fY29ubmVj
dG9yX3N0YXRlICpvbGRfY29ubl9zdGF0ZSkKQEAgLTM4Myw2ICs0MzQsMTIgQEAgc3RhdGljIHZv
aWQgaW50ZWxfbXN0X3Bvc3RfZGlzYWJsZV9kcChzdHJ1Y3QgaW50ZWxfZW5jb2RlciAqZW5jb2Rl
ciwKIAlXQVJOX09OKElOVEVMX0dFTihkZXZfcHJpdikgPj0gMTIgJiYgbGFzdF9tc3Rfc3RyZWFt
ICYmCiAJCSFpbnRlbF9kcF9tc3RfaXNfbWFzdGVyX3RyYW5zKG9sZF9jcnRjX3N0YXRlKSk7CiAK
KwkvKgorCSAqIFBvd2VyIGRvd24gbXN0IHBhdGggYmVmb3JlIGRpc2FibGluZyB0aGUgcG9ydCwg
b3RoZXJ3aXNlIHdlIGVuZAorCSAqIHVwIGdldHRpbmcgaW50ZXJydXB0cyBmcm9tIHRoZSBzaW5r
IHVwb24gZGV0ZWN0aW5nIGxpbmsgbG9zcy4KKwkgKi8KKwlkcm1fZHBfc2VuZF9wb3dlcl91cGRv
d25fcGh5KCZpbnRlbF9kcC0+bXN0X21nciwgY29ubmVjdG9yLT5wb3J0LAorCQkJCSAgICAgZmFs
c2UpOwogCS8qCiAJICogRnJvbSBUR0wgc3BlYzogIklmIG11bHRpLXN0cmVhbSBzbGF2ZSB0cmFu
c2NvZGVyOiBDb25maWd1cmUKIAkgKiBUcmFuc2NvZGVyIENsb2NrIFNlbGVjdCB0byBkaXJlY3Qg
bm8gY2xvY2sgdG8gdGhlIHRyYW5zY29kZXIiCkBAIC0zOTMsMjQgKzQ1MCwyMCBAQCBzdGF0aWMg
dm9pZCBpbnRlbF9tc3RfcG9zdF9kaXNhYmxlX2RwKHN0cnVjdCBpbnRlbF9lbmNvZGVyICplbmNv
ZGVyLAogCWlmIChJTlRFTF9HRU4oZGV2X3ByaXYpIDwgMTIgfHwgIWxhc3RfbXN0X3N0cmVhbSkK
IAkJaW50ZWxfZGRpX2Rpc2FibGVfcGlwZV9jbG9jayhvbGRfY3J0Y19zdGF0ZSk7CiAKLQkvKiB0
aGlzIGNhbiBmYWlsICovCi0JZHJtX2RwX2NoZWNrX2FjdF9zdGF0dXMoJmludGVsX2RwLT5tc3Rf
bWdyKTsKLQkvKiBhbmQgdGhpcyBjYW4gYWxzbyBmYWlsICovCi0JZHJtX2RwX3VwZGF0ZV9wYXls
b2FkX3BhcnQyKCZpbnRlbF9kcC0+bXN0X21ncik7CiAKLQlkcm1fZHBfbXN0X2RlYWxsb2NhdGVf
dmNwaSgmaW50ZWxfZHAtPm1zdF9tZ3IsIGNvbm5lY3Rvci0+cG9ydCk7CisJaW50ZWxfbXN0LT5j
b25uZWN0b3IgPSBOVUxMOworCWlmIChsYXN0X21zdF9zdHJlYW0pIHsKKwkJZW51bSB0cmFuc2Nv
ZGVyIGNwdV90cmFuc2NvZGVyOworCQl1MzIgdmFsOwogCi0JLyoKLQkgKiBQb3dlciBkb3duIG1z
dCBwYXRoIGJlZm9yZSBkaXNhYmxpbmcgdGhlIHBvcnQsIG90aGVyd2lzZSB3ZSBlbmQKLQkgKiB1
cCBnZXR0aW5nIGludGVycnVwdHMgZnJvbSB0aGUgc2luayB1cG9uIGRldGVjdGluZyBsaW5rIGxv
c3MuCi0JICovCi0JZHJtX2RwX3NlbmRfcG93ZXJfdXBkb3duX3BoeSgmaW50ZWxfZHAtPm1zdF9t
Z3IsIGNvbm5lY3Rvci0+cG9ydCwKLQkJCQkgICAgIGZhbHNlKTsKKwkJY3B1X3RyYW5zY29kZXIg
PSBvbGRfY3J0Y19zdGF0ZS0+Y3B1X3RyYW5zY29kZXI7CisJCXZhbCA9IEk5MTVfUkVBRChUUkFO
U19ERElfRlVOQ19DVEwoY3B1X3RyYW5zY29kZXIpKTsKKwkJdmFsICY9IH5UR0xfVFJBTlNfRERJ
X1BPUlRfTUFTSzsKKwkJSTkxNV9XUklURShUUkFOU19ERElfRlVOQ19DVEwoY3B1X3RyYW5zY29k
ZXIpLCB2YWwpOwogCi0JaW50ZWxfbXN0LT5jb25uZWN0b3IgPSBOVUxMOwotCWlmIChsYXN0X21z
dF9zdHJlYW0pCiAJCWludGVsX2RpZ19wb3J0LT5iYXNlLnBvc3RfZGlzYWJsZSgmaW50ZWxfZGln
X3BvcnQtPmJhc2UsCiAJCQkJCQkgIG9sZF9jcnRjX3N0YXRlLCBOVUxMKTsKKwl9CiAKIAlEUk1f
REVCVUdfS01TKCJhY3RpdmUgbGlua3MgJWRcbiIsIGludGVsX2RwLT5hY3RpdmVfbXN0X2xpbmtz
KTsKIH0KZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZHBf
bXN0LmggYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2RwX21zdC5oCmluZGV4
IGU0MDc2N2Y3ODM0My4uODdmMzJmYWI5MGZjIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0v
aTkxNS9kaXNwbGF5L2ludGVsX2RwX21zdC5oCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rp
c3BsYXkvaW50ZWxfZHBfbXN0LmgKQEAgLTE2LDUgKzE2LDYgQEAgdm9pZCBpbnRlbF9kcF9tc3Rf
ZW5jb2Rlcl9jbGVhbnVwKHN0cnVjdCBpbnRlbF9kaWdpdGFsX3BvcnQgKmludGVsX2RpZ19wb3J0
KTsKIGludCBpbnRlbF9kcF9tc3RfZW5jb2Rlcl9hY3RpdmVfbGlua3Moc3RydWN0IGludGVsX2Rp
Z2l0YWxfcG9ydCAqaW50ZWxfZGlnX3BvcnQpOwogYm9vbCBpbnRlbF9kcF9tc3RfaXNfbWFzdGVy
X3RyYW5zKGNvbnN0IHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpjcnRjX3N0YXRlKTsKIGJvb2wg
aW50ZWxfZHBfbXN0X2lzX3NsYXZlX3RyYW5zKGNvbnN0IHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRl
ICpjcnRjX3N0YXRlKTsKK3ZvaWQgaW50ZWxfZHBfbXN0X3Bvc3RfdHJhbnNfZGlzYWJsZWQoY29u
c3Qgc3RydWN0IGludGVsX2NydGNfc3RhdGUgKm9sZF9jcnRjX3N0YXRlKTsKIAogI2VuZGlmIC8q
IF9fSU5URUxfRFBfTVNUX0hfXyAqLwotLSAKMi4yNC4wCgpfX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fXwpJbnRlbC1nZnggbWFpbGluZyBsaXN0CkludGVsLWdm
eEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFp
bG1hbi9saXN0aW5mby9pbnRlbC1nZng=

Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 3B07A1C0396
	for <lists+intel-gfx@lfdr.de>; Thu, 30 Apr 2020 19:06:58 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 945CC6E93B;
	Thu, 30 Apr 2020 17:06:56 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga04.intel.com (mga04.intel.com [192.55.52.120])
 by gabe.freedesktop.org (Postfix) with ESMTPS id BFBCF6E93B
 for <intel-gfx@lists.freedesktop.org>; Thu, 30 Apr 2020 17:06:55 +0000 (UTC)
IronPort-SDR: 575EZwSbEjj9Ad/E+p+UU3oYsnqGRhfe0EdnH8tyy4MjnOwW8dIQmiK8+nnzopa45OsV75wDQV
 5lqy3EYJXrYA==
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from fmsmga003.fm.intel.com ([10.253.24.29])
 by fmsmga104.fm.intel.com with ESMTP/TLS/ECDHE-RSA-AES256-GCM-SHA384;
 30 Apr 2020 10:05:03 -0700
IronPort-SDR: SYPnv1HR+qgQqkm0cTPoZFoUrmm9ZI9Avqryu4eJoe8fja/xh8M/vuzwdqa6/vCL3kd6VFfiqL
 W2UHgeQ1Enug==
X-IronPort-AV: E=Sophos;i="5.73,336,1583222400"; d="scan'208";a="303330081"
Received: from ozaidner-mobl.ger.corp.intel.com (HELO [10.255.203.238])
 ([10.255.203.238])
 by fmsmga003-auth.fm.intel.com with ESMTP/TLS/ECDHE-RSA-AES256-GCM-SHA384;
 30 Apr 2020 10:05:01 -0700
To: Chris Wilson <chris@chris-wilson.co.uk>, intel-gfx@lists.freedesktop.org
References: <20200430111819.10262-1-chris@chris-wilson.co.uk>
 <20200430111819.10262-2-chris@chris-wilson.co.uk>
From: Tvrtko Ursulin <tvrtko.ursulin@linux.intel.com>
Organization: Intel Corporation UK Plc
Message-ID: <a8525524-ce06-de55-0249-823c283071df@linux.intel.com>
Date: Thu, 30 Apr 2020 18:04:59 +0100
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:68.0) Gecko/20100101
 Thunderbird/68.7.0
MIME-Version: 1.0
In-Reply-To: <20200430111819.10262-2-chris@chris-wilson.co.uk>
Content-Language: en-US
Subject: Re: [Intel-gfx] [PATCH 2/9] drm/i915/gt: Move the batch buffer pool
 from the engine to the gt
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

Ck9uIDMwLzA0LzIwMjAgMTI6MTgsIENocmlzIFdpbHNvbiB3cm90ZToKPiBTaW5jZSB0aGUgaW50
cm9kdWN0aW9uIG9mICdzb2Z0LXJjNicsIHdlIGFpbSB0byBwYXJrIHRoZSBkZXZpY2UgcXVpY2ts
eQo+IGFuZCB0aGF0IHJlc3VsdHMgaW4gZnJlcXVlbnQgaWRsaW5nIG9mIHRoZSB3aG9sZSBkZXZp
Y2UuIEN1cnJlbnRseSB1cG9uCj4gaWRsaW5nIHdlIGZyZWUgdGhlIGJhdGNoIGJ1ZmZlciBwb29s
LCBhbmQgc28gdGhpcyByZW5kZXJzIHRoZSBjYWNoZQo+IGluZWZmZWN0aXZlIGZvciBtYW55IHdv
cmtsb2Fkcy4gSWYgd2Ugd2FudCB0byBoYXZlIGFuIGVmZmVjdGl2ZSBjYWNoZSBvZgo+IHJlY2Vu
dGx5IGFsbG9jYXRlZCBidWZmZXJzIGF2YWlsYWJsZSBmb3IgcmV1c2UsIHdlIG5lZWQgdG8gZGVj
b3VwbGUgdGhhdAo+IGNhY2hlIGZyb20gdGhlIGVuZ2luZSBwb3dlcm1hbmFnZW1lbnQgYW5kIG1h
a2UgaXQgdGltZXIgYmFzZWQuIEFzIHRoZXJlCj4gaXMgbm8gcmVhc29uIHRoZW4gdG8ga2VlcCBp
dCB3aXRoaW4gdGhlIGVuZ2luZSAod2hlcmUgaXQgb25jZSBtYWRlCj4gcmV0aXJlbWVudCBvcmRl
ciBlYXNpZXIgdG8gdHJhY2spLCB3ZSBjYW4gbW92ZSBpdCB1cCB0aGUgaGllcmFyY2h5IHRvIHRo
ZQo+IG93bmVyIG9mIHRoZSBtZW1vcnkgYWxsb2NhdGlvbnMuCj4gCj4gdjI6IEhvb2sgdXAgdG8g
ZGVidWdmcy9kcm9wX2NhY2hlcyB0byBjbGVhciB0aGUgY2FjaGUgb24gZGVtYW5kLgo+IAo+IFNp
Z25lZC1vZmYtYnk6IENocmlzIFdpbHNvbiA8Y2hyaXNAY2hyaXMtd2lsc29uLmNvLnVrPgo+IENj
OiBNYWFydGVuIExhbmtob3JzdCA8bWFhcnRlbi5sYW5raG9yc3RAbGludXguaW50ZWwuY29tPgo+
IENjOiBUdnJ0a28gVXJzdWxpbiA8dHZydGtvLnVyc3VsaW5AaW50ZWwuY29tPgo+IC0tLQo+ICAg
ZHJpdmVycy9ncHUvZHJtL2k5MTUvTWFrZWZpbGUgICAgICAgICAgICAgICAgIHwgICAyICstCj4g
ICAuLi4vZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9jbGllbnRfYmx0LmMgICAgfCAgIDEgLQo+
ICAgLi4uL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fZXhlY2J1ZmZlci5jICAgIHwgIDIwICst
LQo+ICAgLi4uL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fb2JqZWN0X2JsdC5jICAgIHwgIDE4
ICstLQo+ICAgLi4uL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fb2JqZWN0X2JsdC5oICAgIHwg
ICAxIC0KPiAgIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2VuZ2luZV9jcy5jICAgICB8
ICAgNCAtCj4gICBkcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9lbmdpbmVfcG0uYyAgICAg
fCAgIDIgLQo+ICAgZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZW5naW5lX3Bvb2wuaCAg
IHwgIDM0IC0tLS0tLQo+ICAgZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZW5naW5lX3R5
cGVzLmggIHwgICA4IC0tCj4gICBkcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9ndC5jICAg
ICAgICAgICAgfCAgIDMgKwo+ICAgLi4ubF9lbmdpbmVfcG9vbC5jID0+IGludGVsX2d0X2J1ZmZl
cl9wb29sLmN9IHwgMTE0ICsrKysrKysrKysrKy0tLS0tLQo+ICAgLi4uL2dwdS9kcm0vaTkxNS9n
dC9pbnRlbF9ndF9idWZmZXJfcG9vbC5oICAgIHwgIDM3ICsrKysrKwo+ICAgLi4ubF90eXBlcy5o
ID0+IGludGVsX2d0X2J1ZmZlcl9wb29sX3R5cGVzLmh9IHwgIDE1ICsrLQo+ICAgZHJpdmVycy9n
cHUvZHJtL2k5MTUvZ3QvaW50ZWxfZ3RfdHlwZXMuaCAgICAgIHwgIDExICsrCj4gICBkcml2ZXJz
L2dwdS9kcm0vaTkxNS9ndC9tb2NrX2VuZ2luZS5jICAgICAgICAgfCAgIDIgLQo+ICAgZHJpdmVy
cy9ncHUvZHJtL2k5MTUvaTkxNV9kZWJ1Z2ZzLmMgICAgICAgICAgIHwgICA0ICsKPiAgIDE2IGZp
bGVzIGNoYW5nZWQsIDE2MCBpbnNlcnRpb25zKCspLCAxMTYgZGVsZXRpb25zKC0pCj4gICBkZWxl
dGUgbW9kZSAxMDA2NDQgZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZW5naW5lX3Bvb2wu
aAo+ICAgcmVuYW1lIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L3tpbnRlbF9lbmdpbmVfcG9vbC5j
ID0+IGludGVsX2d0X2J1ZmZlcl9wb29sLmN9ICg1MyUpCj4gICBjcmVhdGUgbW9kZSAxMDA2NDQg
ZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZ3RfYnVmZmVyX3Bvb2wuaAo+ICAgcmVuYW1l
IGRyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L3tpbnRlbF9lbmdpbmVfcG9vbF90eXBlcy5oID0+IGlu
dGVsX2d0X2J1ZmZlcl9wb29sX3R5cGVzLmh9ICg1NCUpCj4gCj4gZGlmZiAtLWdpdCBhL2RyaXZl
cnMvZ3B1L2RybS9pOTE1L01ha2VmaWxlIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvTWFrZWZpbGUK
PiBpbmRleCBjYWYwMGQ5MmVhOWQuLjUzNTljNzM2Yzc4OSAxMDA2NDQKPiAtLS0gYS9kcml2ZXJz
L2dwdS9kcm0vaTkxNS9NYWtlZmlsZQo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L01ha2Vm
aWxlCj4gQEAgLTg3LDExICs4NywxMSBAQCBndC15ICs9IFwKPiAgIAlndC9pbnRlbF9lbmdpbmVf
Y3MubyBcCj4gICAJZ3QvaW50ZWxfZW5naW5lX2hlYXJ0YmVhdC5vIFwKPiAgIAlndC9pbnRlbF9l
bmdpbmVfcG0ubyBcCj4gLQlndC9pbnRlbF9lbmdpbmVfcG9vbC5vIFwKPiAgIAlndC9pbnRlbF9l
bmdpbmVfdXNlci5vIFwKPiAgIAlndC9pbnRlbF9nZ3R0Lm8gXAo+ICAgCWd0L2ludGVsX2dndHRf
ZmVuY2luZy5vIFwKPiAgIAlndC9pbnRlbF9ndC5vIFwKPiArCWd0L2ludGVsX2d0X2J1ZmZlcl9w
b29sLm8gXAo+ICAgCWd0L2ludGVsX2d0X2Nsb2NrX3V0aWxzLm8gXAo+ICAgCWd0L2ludGVsX2d0
X2lycS5vIFwKPiAgIAlndC9pbnRlbF9ndF9wbS5vIFwKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9n
cHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX2NsaWVudF9ibHQuYyBiL2RyaXZlcnMvZ3B1L2RybS9p
OTE1L2dlbS9pOTE1X2dlbV9jbGllbnRfYmx0LmMKPiBpbmRleCAwNTk4ZTUzODJhMWQuLjNhMTQ2
YWEyNTkzYiAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1f
Y2xpZW50X2JsdC5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX2Ns
aWVudF9ibHQuYwo+IEBAIC02LDcgKzYsNiBAQAo+ICAgI2luY2x1ZGUgImk5MTVfZHJ2LmgiCj4g
ICAjaW5jbHVkZSAiZ3QvaW50ZWxfY29udGV4dC5oIgo+ICAgI2luY2x1ZGUgImd0L2ludGVsX2Vu
Z2luZV9wbS5oIgo+IC0jaW5jbHVkZSAiZ3QvaW50ZWxfZW5naW5lX3Bvb2wuaCIKPiAgICNpbmNs
dWRlICJpOTE1X2dlbV9jbGllbnRfYmx0LmgiCj4gICAjaW5jbHVkZSAiaTkxNV9nZW1fb2JqZWN0
X2JsdC5oIgo+ICAgCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1
X2dlbV9leGVjYnVmZmVyLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fZXhl
Y2J1ZmZlci5jCj4gaW5kZXggOTY0ZjczZjA2MmMxLi40MTQ4NTlmYTI2NzMgMTAwNjQ0Cj4gLS0t
IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX2V4ZWNidWZmZXIuYwo+ICsrKyBi
L2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9leGVjYnVmZmVyLmMKPiBAQCAtMTUs
OCArMTUsOCBAQAo+ICAgCj4gICAjaW5jbHVkZSAiZ2VtL2k5MTVfZ2VtX2lvY3Rscy5oIgo+ICAg
I2luY2x1ZGUgImd0L2ludGVsX2NvbnRleHQuaCIKPiAtI2luY2x1ZGUgImd0L2ludGVsX2VuZ2lu
ZV9wb29sLmgiCj4gICAjaW5jbHVkZSAiZ3QvaW50ZWxfZ3QuaCIKPiArI2luY2x1ZGUgImd0L2lu
dGVsX2d0X2J1ZmZlcl9wb29sLmgiCj4gICAjaW5jbHVkZSAiZ3QvaW50ZWxfZ3RfcG0uaCIKPiAg
ICNpbmNsdWRlICJndC9pbnRlbF9yaW5nLmgiCj4gICAKPiBAQCAtMTE5NCwxMyArMTE5NCwxMyBA
QCBzdGF0aWMgaW50IF9fcmVsb2NfZ3B1X2FsbG9jKHN0cnVjdCBpOTE1X2V4ZWNidWZmZXIgKmVi
LAo+ICAgCQkJICAgICB1bnNpZ25lZCBpbnQgbGVuKQo+ICAgewo+ICAgCXN0cnVjdCByZWxvY19j
YWNoZSAqY2FjaGUgPSAmZWItPnJlbG9jX2NhY2hlOwo+IC0Jc3RydWN0IGludGVsX2VuZ2luZV9w
b29sX25vZGUgKnBvb2w7Cj4gKwlzdHJ1Y3QgaW50ZWxfZ3RfYnVmZmVyX3Bvb2xfbm9kZSAqcG9v
bDsKPiAgIAlzdHJ1Y3QgaTkxNV9yZXF1ZXN0ICpycTsKPiAgIAlzdHJ1Y3QgaTkxNV92bWEgKmJh
dGNoOwo+ICAgCXUzMiAqY21kOwo+ICAgCWludCBlcnI7Cj4gICAKPiAtCXBvb2wgPSBpbnRlbF9l
bmdpbmVfZ2V0X3Bvb2woZWItPmVuZ2luZSwgUEFHRV9TSVpFKTsKPiArCXBvb2wgPSBpbnRlbF9n
dF9nZXRfYnVmZmVyX3Bvb2woZWItPmVuZ2luZS0+Z3QsIFBBR0VfU0laRSk7Cj4gICAJaWYgKElT
X0VSUihwb29sKSkKPiAgIAkJcmV0dXJuIFBUUl9FUlIocG9vbCk7Cj4gICAKPiBAQCAtMTIyOSw3
ICsxMjI5LDcgQEAgc3RhdGljIGludCBfX3JlbG9jX2dwdV9hbGxvYyhzdHJ1Y3QgaTkxNV9leGVj
YnVmZmVyICplYiwKPiAgIAkJZ290byBlcnJfdW5waW47Cj4gICAJfQo+ICAgCj4gLQllcnIgPSBp
bnRlbF9lbmdpbmVfcG9vbF9tYXJrX2FjdGl2ZShwb29sLCBycSk7Cj4gKwllcnIgPSBpbnRlbF9n
dF9idWZmZXJfcG9vbF9tYXJrX2FjdGl2ZShwb29sLCBycSk7Cj4gICAJaWYgKGVycikKPiAgIAkJ
Z290byBlcnJfcmVxdWVzdDsKPiAgIAo+IEBAIC0xMjcwLDcgKzEyNzAsNyBAQCBzdGF0aWMgaW50
IF9fcmVsb2NfZ3B1X2FsbG9jKHN0cnVjdCBpOTE1X2V4ZWNidWZmZXIgKmViLAo+ICAgZXJyX3Vu
bWFwOgo+ICAgCWk5MTVfZ2VtX29iamVjdF91bnBpbl9tYXAocG9vbC0+b2JqKTsKPiAgIG91dF9w
b29sOgo+IC0JaW50ZWxfZW5naW5lX3Bvb2xfcHV0KHBvb2wpOwo+ICsJaW50ZWxfZ3RfYnVmZmVy
X3Bvb2xfcHV0KHBvb2wpOwo+ICAgCXJldHVybiBlcnI7Cj4gICB9Cj4gICAKPiBAQCAtMTg4Nyw3
ICsxODg3LDcgQEAgc3RhdGljIGludCBlYl9wYXJzZV9waXBlbGluZShzdHJ1Y3QgaTkxNV9leGVj
YnVmZmVyICplYiwKPiAgIHN0YXRpYyBpbnQgZWJfcGFyc2Uoc3RydWN0IGk5MTVfZXhlY2J1ZmZl
ciAqZWIpCj4gICB7Cj4gICAJc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUgPSBlYi0+aTkx
NTsKPiAtCXN0cnVjdCBpbnRlbF9lbmdpbmVfcG9vbF9ub2RlICpwb29sOwo+ICsJc3RydWN0IGlu
dGVsX2d0X2J1ZmZlcl9wb29sX25vZGUgKnBvb2w7Cj4gICAJc3RydWN0IGk5MTVfdm1hICpzaGFk
b3csICp0cmFtcG9saW5lOwo+ICAgCXVuc2lnbmVkIGludCBsZW47Cj4gICAJaW50IGVycjsKPiBA
QCAtMTkxMCw3ICsxOTEwLDcgQEAgc3RhdGljIGludCBlYl9wYXJzZShzdHJ1Y3QgaTkxNV9leGVj
YnVmZmVyICplYikKPiAgIAkJbGVuICs9IEk5MTVfQ01EX1BBUlNFUl9UUkFNUE9MSU5FX1NJWkU7
Cj4gICAJfQo+ICAgCj4gLQlwb29sID0gaW50ZWxfZW5naW5lX2dldF9wb29sKGViLT5lbmdpbmUs
IGxlbik7Cj4gKwlwb29sID0gaW50ZWxfZ3RfZ2V0X2J1ZmZlcl9wb29sKGViLT5lbmdpbmUtPmd0
LCBsZW4pOwo+ICAgCWlmIChJU19FUlIocG9vbCkpCj4gICAJCXJldHVybiBQVFJfRVJSKHBvb2wp
Owo+ICAgCj4gQEAgLTE5NTgsNyArMTk1OCw3IEBAIHN0YXRpYyBpbnQgZWJfcGFyc2Uoc3RydWN0
IGk5MTVfZXhlY2J1ZmZlciAqZWIpCj4gICBlcnJfc2hhZG93Ogo+ICAgCWk5MTVfdm1hX3VucGlu
KHNoYWRvdyk7Cj4gICBlcnI6Cj4gLQlpbnRlbF9lbmdpbmVfcG9vbF9wdXQocG9vbCk7Cj4gKwlp
bnRlbF9ndF9idWZmZXJfcG9vbF9wdXQocG9vbCk7Cj4gICAJcmV0dXJuIGVycjsKPiAgIH0KPiAg
IAo+IEBAIC0yNjQzLDcgKzI2NDMsNyBAQCBpOTE1X2dlbV9kb19leGVjYnVmZmVyKHN0cnVjdCBk
cm1fZGV2aWNlICpkZXYsCj4gICAJICovCj4gICAJZWIucmVxdWVzdC0+YmF0Y2ggPSBiYXRjaDsK
PiAgIAlpZiAoYmF0Y2gtPnByaXZhdGUpCj4gLQkJaW50ZWxfZW5naW5lX3Bvb2xfbWFya19hY3Rp
dmUoYmF0Y2gtPnByaXZhdGUsIGViLnJlcXVlc3QpOwo+ICsJCWludGVsX2d0X2J1ZmZlcl9wb29s
X21hcmtfYWN0aXZlKGJhdGNoLT5wcml2YXRlLCBlYi5yZXF1ZXN0KTsKPiAgIAo+ICAgCXRyYWNl
X2k5MTVfcmVxdWVzdF9xdWV1ZShlYi5yZXF1ZXN0LCBlYi5iYXRjaF9mbGFncyk7Cj4gICAJZXJy
ID0gZWJfc3VibWl0KCZlYiwgYmF0Y2gpOwo+IEBAIC0yNjcyLDcgKzI2NzIsNyBAQCBpOTE1X2dl
bV9kb19leGVjYnVmZmVyKHN0cnVjdCBkcm1fZGV2aWNlICpkZXYsCj4gICAJCWk5MTVfdm1hX3Vu
cGluKGJhdGNoKTsKPiAgIGVycl9wYXJzZToKPiAgIAlpZiAoYmF0Y2gtPnByaXZhdGUpCj4gLQkJ
aW50ZWxfZW5naW5lX3Bvb2xfcHV0KGJhdGNoLT5wcml2YXRlKTsKPiArCQlpbnRlbF9ndF9idWZm
ZXJfcG9vbF9wdXQoYmF0Y2gtPnByaXZhdGUpOwo+ICAgZXJyX3ZtYToKPiAgIAlpZiAoZWIudHJh
bXBvbGluZSkKPiAgIAkJaTkxNV92bWFfdW5waW4oZWIudHJhbXBvbGluZSk7Cj4gZGlmZiAtLWdp
dCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9vYmplY3RfYmx0LmMgYi9kcml2
ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fb2JqZWN0X2JsdC5jCj4gaW5kZXggZTAwNzky
MTU4ZjEzLi4yZmM3NzM3ZWY1ZjQgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUv
Z2VtL2k5MTVfZ2VtX29iamVjdF9ibHQuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dl
bS9pOTE1X2dlbV9vYmplY3RfYmx0LmMKPiBAQCAtNiw4ICs2LDggQEAKPiAgICNpbmNsdWRlICJp
OTE1X2Rydi5oIgo+ICAgI2luY2x1ZGUgImd0L2ludGVsX2NvbnRleHQuaCIKPiAgICNpbmNsdWRl
ICJndC9pbnRlbF9lbmdpbmVfcG0uaCIKPiAtI2luY2x1ZGUgImd0L2ludGVsX2VuZ2luZV9wb29s
LmgiCj4gICAjaW5jbHVkZSAiZ3QvaW50ZWxfZ3QuaCIKPiArI2luY2x1ZGUgImd0L2ludGVsX2d0
X2J1ZmZlcl9wb29sLmgiCj4gICAjaW5jbHVkZSAiZ3QvaW50ZWxfcmluZy5oIgo+ICAgI2luY2x1
ZGUgImk5MTVfZ2VtX2NsZmx1c2guaCIKPiAgICNpbmNsdWRlICJpOTE1X2dlbV9vYmplY3RfYmx0
LmgiCj4gQEAgLTE4LDcgKzE4LDcgQEAgc3RydWN0IGk5MTVfdm1hICppbnRlbF9lbWl0X3ZtYV9m
aWxsX2JsdChzdHJ1Y3QgaW50ZWxfY29udGV4dCAqY2UsCj4gICB7Cj4gICAJc3RydWN0IGRybV9p
OTE1X3ByaXZhdGUgKmk5MTUgPSBjZS0+dm0tPmk5MTU7Cj4gICAJY29uc3QgdTMyIGJsb2NrX3Np
emUgPSBTWl84TTsgLyogfjFtcyBhdCA4R2lCL3MgcHJlZW1wdGlvbiBkZWxheSAqLwo+IC0Jc3Ry
dWN0IGludGVsX2VuZ2luZV9wb29sX25vZGUgKnBvb2w7Cj4gKwlzdHJ1Y3QgaW50ZWxfZ3RfYnVm
ZmVyX3Bvb2xfbm9kZSAqcG9vbDsKPiAgIAlzdHJ1Y3QgaTkxNV92bWEgKmJhdGNoOwo+ICAgCXU2
NCBvZmZzZXQ7Cj4gICAJdTY0IGNvdW50Owo+IEBAIC0zMyw3ICszMyw3IEBAIHN0cnVjdCBpOTE1
X3ZtYSAqaW50ZWxfZW1pdF92bWFfZmlsbF9ibHQoc3RydWN0IGludGVsX2NvbnRleHQgKmNlLAo+
ICAgCWNvdW50ID0gZGl2X3U2NChyb3VuZF91cCh2bWEtPnNpemUsIGJsb2NrX3NpemUpLCBibG9j
a19zaXplKTsKPiAgIAlzaXplID0gKDEgKyA4ICogY291bnQpICogc2l6ZW9mKHUzMik7Cj4gICAJ
c2l6ZSA9IHJvdW5kX3VwKHNpemUsIFBBR0VfU0laRSk7Cj4gLQlwb29sID0gaW50ZWxfZW5naW5l
X2dldF9wb29sKGNlLT5lbmdpbmUsIHNpemUpOwo+ICsJcG9vbCA9IGludGVsX2d0X2dldF9idWZm
ZXJfcG9vbChjZS0+ZW5naW5lLT5ndCwgc2l6ZSk7Cj4gICAJaWYgKElTX0VSUihwb29sKSkgewo+
ICAgCQllcnIgPSBQVFJfRVJSKHBvb2wpOwo+ICAgCQlnb3RvIG91dF9wbTsKPiBAQCAtOTYsNyAr
OTYsNyBAQCBzdHJ1Y3QgaTkxNV92bWEgKmludGVsX2VtaXRfdm1hX2ZpbGxfYmx0KHN0cnVjdCBp
bnRlbF9jb250ZXh0ICpjZSwKPiAgIAlyZXR1cm4gYmF0Y2g7Cj4gICAKPiAgIG91dF9wdXQ6Cj4g
LQlpbnRlbF9lbmdpbmVfcG9vbF9wdXQocG9vbCk7Cj4gKwlpbnRlbF9ndF9idWZmZXJfcG9vbF9w
dXQocG9vbCk7Cj4gICBvdXRfcG06Cj4gICAJaW50ZWxfZW5naW5lX3BtX3B1dChjZS0+ZW5naW5l
KTsKPiAgIAlyZXR1cm4gRVJSX1BUUihlcnIpOwo+IEBAIC0xMTQsMTMgKzExNCwxMyBAQCBpbnQg
aW50ZWxfZW1pdF92bWFfbWFya19hY3RpdmUoc3RydWN0IGk5MTVfdm1hICp2bWEsIHN0cnVjdCBp
OTE1X3JlcXVlc3QgKnJxKQo+ICAgCWlmICh1bmxpa2VseShlcnIpKQo+ICAgCQlyZXR1cm4gZXJy
Owo+ICAgCj4gLQlyZXR1cm4gaW50ZWxfZW5naW5lX3Bvb2xfbWFya19hY3RpdmUodm1hLT5wcml2
YXRlLCBycSk7Cj4gKwlyZXR1cm4gaW50ZWxfZ3RfYnVmZmVyX3Bvb2xfbWFya19hY3RpdmUodm1h
LT5wcml2YXRlLCBycSk7Cj4gICB9Cj4gICAKPiAgIHZvaWQgaW50ZWxfZW1pdF92bWFfcmVsZWFz
ZShzdHJ1Y3QgaW50ZWxfY29udGV4dCAqY2UsIHN0cnVjdCBpOTE1X3ZtYSAqdm1hKQo+ICAgewo+
ICAgCWk5MTVfdm1hX3VucGluKHZtYSk7Cj4gLQlpbnRlbF9lbmdpbmVfcG9vbF9wdXQodm1hLT5w
cml2YXRlKTsKPiArCWludGVsX2d0X2J1ZmZlcl9wb29sX3B1dCh2bWEtPnByaXZhdGUpOwo+ICAg
CWludGVsX2VuZ2luZV9wbV9wdXQoY2UtPmVuZ2luZSk7Cj4gICB9Cj4gICAKPiBAQCAtMjEzLDcg
KzIxMyw3IEBAIHN0cnVjdCBpOTE1X3ZtYSAqaW50ZWxfZW1pdF92bWFfY29weV9ibHQoc3RydWN0
IGludGVsX2NvbnRleHQgKmNlLAo+ICAgewo+ICAgCXN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpp
OTE1ID0gY2UtPnZtLT5pOTE1Owo+ICAgCWNvbnN0IHUzMiBibG9ja19zaXplID0gU1pfOE07IC8q
IH4xbXMgYXQgOEdpQi9zIHByZWVtcHRpb24gZGVsYXkgKi8KPiAtCXN0cnVjdCBpbnRlbF9lbmdp
bmVfcG9vbF9ub2RlICpwb29sOwo+ICsJc3RydWN0IGludGVsX2d0X2J1ZmZlcl9wb29sX25vZGUg
KnBvb2w7Cj4gICAJc3RydWN0IGk5MTVfdm1hICpiYXRjaDsKPiAgIAl1NjQgc3JjX29mZnNldCwg
ZHN0X29mZnNldDsKPiAgIAl1NjQgY291bnQsIHJlbTsKPiBAQCAtMjI4LDcgKzIyOCw3IEBAIHN0
cnVjdCBpOTE1X3ZtYSAqaW50ZWxfZW1pdF92bWFfY29weV9ibHQoc3RydWN0IGludGVsX2NvbnRl
eHQgKmNlLAo+ICAgCWNvdW50ID0gZGl2X3U2NChyb3VuZF91cChkc3QtPnNpemUsIGJsb2NrX3Np
emUpLCBibG9ja19zaXplKTsKPiAgIAlzaXplID0gKDEgKyAxMSAqIGNvdW50KSAqIHNpemVvZih1
MzIpOwo+ICAgCXNpemUgPSByb3VuZF91cChzaXplLCBQQUdFX1NJWkUpOwo+IC0JcG9vbCA9IGlu
dGVsX2VuZ2luZV9nZXRfcG9vbChjZS0+ZW5naW5lLCBzaXplKTsKPiArCXBvb2wgPSBpbnRlbF9n
dF9nZXRfYnVmZmVyX3Bvb2woY2UtPmVuZ2luZS0+Z3QsIHNpemUpOwo+ICAgCWlmIChJU19FUlIo
cG9vbCkpIHsKPiAgIAkJZXJyID0gUFRSX0VSUihwb29sKTsKPiAgIAkJZ290byBvdXRfcG07Cj4g
QEAgLTMwNyw3ICszMDcsNyBAQCBzdHJ1Y3QgaTkxNV92bWEgKmludGVsX2VtaXRfdm1hX2NvcHlf
Ymx0KHN0cnVjdCBpbnRlbF9jb250ZXh0ICpjZSwKPiAgIAlyZXR1cm4gYmF0Y2g7Cj4gICAKPiAg
IG91dF9wdXQ6Cj4gLQlpbnRlbF9lbmdpbmVfcG9vbF9wdXQocG9vbCk7Cj4gKwlpbnRlbF9ndF9i
dWZmZXJfcG9vbF9wdXQocG9vbCk7Cj4gICBvdXRfcG06Cj4gICAJaW50ZWxfZW5naW5lX3BtX3B1
dChjZS0+ZW5naW5lKTsKPiAgIAlyZXR1cm4gRVJSX1BUUihlcnIpOwo+IGRpZmYgLS1naXQgYS9k
cml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fb2JqZWN0X2JsdC5oIGIvZHJpdmVycy9n
cHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX29iamVjdF9ibHQuaAo+IGluZGV4IDI0M2E0M2E4Nzgy
NC4uOGJjZDMzNmE5MGRjIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9p
OTE1X2dlbV9vYmplY3RfYmx0LmgKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkx
NV9nZW1fb2JqZWN0X2JsdC5oCj4gQEAgLTEwLDcgKzEwLDYgQEAKPiAgIAo+ICAgI2luY2x1ZGUg
Imd0L2ludGVsX2NvbnRleHQuaCIKPiAgICNpbmNsdWRlICJndC9pbnRlbF9lbmdpbmVfcG0uaCIK
PiAtI2luY2x1ZGUgImd0L2ludGVsX2VuZ2luZV9wb29sLmgiCj4gICAjaW5jbHVkZSAiaTkxNV92
bWEuaCIKPiAgIAo+ICAgc3RydWN0IGRybV9pOTE1X2dlbV9vYmplY3Q7Cj4gZGlmZiAtLWdpdCBh
L2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2VuZ2luZV9jcy5jIGIvZHJpdmVycy9ncHUv
ZHJtL2k5MTUvZ3QvaW50ZWxfZW5naW5lX2NzLmMKPiBpbmRleCBjOWU0NmM1Y2VkNDMuLjk4YjMy
NmExNTY4ZCAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9lbmdp
bmVfY3MuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2VuZ2luZV9jcy5j
Cj4gQEAgLTMxLDcgKzMxLDYgQEAKPiAgICNpbmNsdWRlICJpbnRlbF9jb250ZXh0LmgiCj4gICAj
aW5jbHVkZSAiaW50ZWxfZW5naW5lLmgiCj4gICAjaW5jbHVkZSAiaW50ZWxfZW5naW5lX3BtLmgi
Cj4gLSNpbmNsdWRlICJpbnRlbF9lbmdpbmVfcG9vbC5oIgo+ICAgI2luY2x1ZGUgImludGVsX2Vu
Z2luZV91c2VyLmgiCj4gICAjaW5jbHVkZSAiaW50ZWxfZ3QuaCIKPiAgICNpbmNsdWRlICJpbnRl
bF9ndF9yZXF1ZXN0cy5oIgo+IEBAIC02MzEsOCArNjMwLDYgQEAgc3RhdGljIGludCBlbmdpbmVf
c2V0dXBfY29tbW9uKHN0cnVjdCBpbnRlbF9lbmdpbmVfY3MgKmVuZ2luZSkKPiAgIAlpbnRlbF9l
bmdpbmVfaW5pdF9fcG0oZW5naW5lKTsKPiAgIAlpbnRlbF9lbmdpbmVfaW5pdF9yZXRpcmUoZW5n
aW5lKTsKPiAgIAo+IC0JaW50ZWxfZW5naW5lX3Bvb2xfaW5pdCgmZW5naW5lLT5wb29sKTsKPiAt
Cj4gICAJLyogVXNlIHRoZSB3aG9sZSBkZXZpY2UgYnkgZGVmYXVsdCAqLwo+ICAgCWVuZ2luZS0+
c3NldSA9Cj4gICAJCWludGVsX3NzZXVfZnJvbV9kZXZpY2VfaW5mbygmUlVOVElNRV9JTkZPKGVu
Z2luZS0+aTkxNSktPnNzZXUpOwo+IEBAIC04MjksNyArODI2LDYgQEAgdm9pZCBpbnRlbF9lbmdp
bmVfY2xlYW51cF9jb21tb24oc3RydWN0IGludGVsX2VuZ2luZV9jcyAqZW5naW5lKQo+ICAgCWNs
ZWFudXBfc3RhdHVzX3BhZ2UoZW5naW5lKTsKPiAgIAo+ICAgCWludGVsX2VuZ2luZV9maW5pX3Jl
dGlyZShlbmdpbmUpOwo+IC0JaW50ZWxfZW5naW5lX3Bvb2xfZmluaSgmZW5naW5lLT5wb29sKTsK
PiAgIAlpbnRlbF9lbmdpbmVfZmluaV9icmVhZGNydW1icyhlbmdpbmUpOwo+ICAgCWludGVsX2Vu
Z2luZV9jbGVhbnVwX2NtZF9wYXJzZXIoZW5naW5lKTsKPiAgIAo+IGRpZmYgLS1naXQgYS9kcml2
ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9lbmdpbmVfcG0uYyBiL2RyaXZlcnMvZ3B1L2RybS9p
OTE1L2d0L2ludGVsX2VuZ2luZV9wbS5jCj4gaW5kZXggY2Y0NjA3NmM1OWIyLi5kMGExMDc4ZWY2
MzIgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZW5naW5lX3Bt
LmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9lbmdpbmVfcG0uYwo+IEBA
IC0xMCw3ICsxMCw2IEBACj4gICAjaW5jbHVkZSAiaW50ZWxfZW5naW5lLmgiCj4gICAjaW5jbHVk
ZSAiaW50ZWxfZW5naW5lX2hlYXJ0YmVhdC5oIgo+ICAgI2luY2x1ZGUgImludGVsX2VuZ2luZV9w
bS5oIgo+IC0jaW5jbHVkZSAiaW50ZWxfZW5naW5lX3Bvb2wuaCIKPiAgICNpbmNsdWRlICJpbnRl
bF9ndC5oIgo+ICAgI2luY2x1ZGUgImludGVsX2d0X3BtLmgiCj4gICAjaW5jbHVkZSAiaW50ZWxf
cmM2LmgiCj4gQEAgLTI0OCw3ICsyNDcsNiBAQCBzdGF0aWMgaW50IF9fZW5naW5lX3Bhcmsoc3Ry
dWN0IGludGVsX3dha2VyZWYgKndmKQo+ICAgCj4gICAJaW50ZWxfZW5naW5lX3BhcmtfaGVhcnRi
ZWF0KGVuZ2luZSk7Cj4gICAJaW50ZWxfZW5naW5lX2Rpc2FybV9icmVhZGNydW1icyhlbmdpbmUp
Owo+IC0JaW50ZWxfZW5naW5lX3Bvb2xfcGFyaygmZW5naW5lLT5wb29sKTsKPiAgIAo+ICAgCS8q
IE11c3QgYmUgcmVzZXQgdXBvbiBpZGxpbmcsIG9yIHdlIG1heSBtaXNzIHRoZSBidXN5IHdha2V1
cC4gKi8KPiAgIAlHRU1fQlVHX09OKGVuZ2luZS0+ZXhlY2xpc3RzLnF1ZXVlX3ByaW9yaXR5X2hp
bnQgIT0gSU5UX01JTik7Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2lu
dGVsX2VuZ2luZV9wb29sLmggYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9lbmdpbmVf
cG9vbC5oCj4gZGVsZXRlZCBmaWxlIG1vZGUgMTAwNjQ0Cj4gaW5kZXggMWJkODljYWRjM2I3Li4w
MDAwMDAwMDAwMDAKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9lbmdpbmVf
cG9vbC5oCj4gKysrIC9kZXYvbnVsbAo+IEBAIC0xLDM0ICswLDAgQEAKPiAtLyoKPiAtICogU1BE
WC1MaWNlbnNlLUlkZW50aWZpZXI6IE1JVAo+IC0gKgo+IC0gKiBDb3B5cmlnaHQgwqkgMjAxNC0y
MDE4IEludGVsIENvcnBvcmF0aW9uCj4gLSAqLwo+IC0KPiAtI2lmbmRlZiBJTlRFTF9FTkdJTkVf
UE9PTF9ICj4gLSNkZWZpbmUgSU5URUxfRU5HSU5FX1BPT0xfSAo+IC0KPiAtI2luY2x1ZGUgImlu
dGVsX2VuZ2luZV9wb29sX3R5cGVzLmgiCj4gLSNpbmNsdWRlICJpOTE1X2FjdGl2ZS5oIgo+IC0j
aW5jbHVkZSAiaTkxNV9yZXF1ZXN0LmgiCj4gLQo+IC1zdHJ1Y3QgaW50ZWxfZW5naW5lX3Bvb2xf
bm9kZSAqCj4gLWludGVsX2VuZ2luZV9nZXRfcG9vbChzdHJ1Y3QgaW50ZWxfZW5naW5lX2NzICpl
bmdpbmUsIHNpemVfdCBzaXplKTsKPiAtCj4gLXN0YXRpYyBpbmxpbmUgaW50Cj4gLWludGVsX2Vu
Z2luZV9wb29sX21hcmtfYWN0aXZlKHN0cnVjdCBpbnRlbF9lbmdpbmVfcG9vbF9ub2RlICpub2Rl
LAo+IC0JCQkgICAgICBzdHJ1Y3QgaTkxNV9yZXF1ZXN0ICpycSkKPiAtewo+IC0JcmV0dXJuIGk5
MTVfYWN0aXZlX2FkZF9yZXF1ZXN0KCZub2RlLT5hY3RpdmUsIHJxKTsKPiAtfQo+IC0KPiAtc3Rh
dGljIGlubGluZSB2b2lkCj4gLWludGVsX2VuZ2luZV9wb29sX3B1dChzdHJ1Y3QgaW50ZWxfZW5n
aW5lX3Bvb2xfbm9kZSAqbm9kZSkKPiAtewo+IC0JaTkxNV9hY3RpdmVfcmVsZWFzZSgmbm9kZS0+
YWN0aXZlKTsKPiAtfQo+IC0KPiAtdm9pZCBpbnRlbF9lbmdpbmVfcG9vbF9pbml0KHN0cnVjdCBp
bnRlbF9lbmdpbmVfcG9vbCAqcG9vbCk7Cj4gLXZvaWQgaW50ZWxfZW5naW5lX3Bvb2xfcGFyayhz
dHJ1Y3QgaW50ZWxfZW5naW5lX3Bvb2wgKnBvb2wpOwo+IC12b2lkIGludGVsX2VuZ2luZV9wb29s
X2Zpbmkoc3RydWN0IGludGVsX2VuZ2luZV9wb29sICpwb29sKTsKPiAtCj4gLSNlbmRpZiAvKiBJ
TlRFTF9FTkdJTkVfUE9PTF9IICovCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1
L2d0L2ludGVsX2VuZ2luZV90eXBlcy5oIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxf
ZW5naW5lX3R5cGVzLmgKPiBpbmRleCA2OGEzODIyMjliNGEuLjQ4OWRlYjNiODM1OCAxMDA2NDQK
PiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9lbmdpbmVfdHlwZXMuaAo+ICsr
KyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2VuZ2luZV90eXBlcy5oCj4gQEAgLTIy
LDcgKzIyLDYgQEAKPiAgICNpbmNsdWRlICJpOTE1X3BtdS5oIgo+ICAgI2luY2x1ZGUgImk5MTVf
cHJpb2xpc3RfdHlwZXMuaCIKPiAgICNpbmNsdWRlICJpOTE1X3NlbGZ0ZXN0LmgiCj4gLSNpbmNs
dWRlICJpbnRlbF9lbmdpbmVfcG9vbF90eXBlcy5oIgo+ICAgI2luY2x1ZGUgImludGVsX3NzZXUu
aCIKPiAgICNpbmNsdWRlICJpbnRlbF90aW1lbGluZV90eXBlcy5oIgo+ICAgI2luY2x1ZGUgImlu
dGVsX3dha2VyZWYuaCIKPiBAQCAtNDA0LDEzICs0MDMsNiBAQCBzdHJ1Y3QgaW50ZWxfZW5naW5l
X2NzIHsKPiAgIAkJc3RydWN0IGk5MTVfcG11X3NhbXBsZSBzYW1wbGVbSTkxNV9FTkdJTkVfU0FN
UExFX0NPVU5UXTsKPiAgIAl9IHBtdTsKPiAgIAo+IC0JLyoKPiAtCSAqIEEgcG9vbCBvZiBvYmpl
Y3RzIHRvIHVzZSBhcyBzaGFkb3cgY29waWVzIG9mIGNsaWVudCBiYXRjaCBidWZmZXJzCj4gLQkg
KiB3aGVuIHRoZSBjb21tYW5kIHBhcnNlciBpcyBlbmFibGVkLiBQcmV2ZW50cyB0aGUgY2xpZW50
IGZyb20KPiAtCSAqIG1vZGlmeWluZyB0aGUgYmF0Y2ggY29udGVudHMgYWZ0ZXIgc29mdHdhcmUg
cGFyc2luZy4KPiAtCSAqLwo+IC0Jc3RydWN0IGludGVsX2VuZ2luZV9wb29sIHBvb2w7Cj4gLQo+
ICAgCXN0cnVjdCBpbnRlbF9od19zdGF0dXNfcGFnZSBzdGF0dXNfcGFnZTsKPiAgIAlzdHJ1Y3Qg
aTkxNV9jdHhfd29ya2Fyb3VuZHMgd2FfY3R4Owo+ICAgCXN0cnVjdCBpOTE1X3dhX2xpc3QgY3R4
X3dhX2xpc3Q7Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2d0
LmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9ndC5jCj4gaW5kZXggNTI1OTNlZGY4
YWEwLi5mMDY5NTUxZTQxMmYgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3Qv
aW50ZWxfZ3QuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2d0LmMKPiBA
QCAtNyw2ICs3LDcgQEAKPiAgICNpbmNsdWRlICJpOTE1X2Rydi5oIgo+ICAgI2luY2x1ZGUgImlu
dGVsX2NvbnRleHQuaCIKPiAgICNpbmNsdWRlICJpbnRlbF9ndC5oIgo+ICsjaW5jbHVkZSAiaW50
ZWxfZ3RfYnVmZmVyX3Bvb2wuaCIKPiAgICNpbmNsdWRlICJpbnRlbF9ndF9jbG9ja191dGlscy5o
Igo+ICAgI2luY2x1ZGUgImludGVsX2d0X3BtLmgiCj4gICAjaW5jbHVkZSAiaW50ZWxfZ3RfcmVx
dWVzdHMuaCIKPiBAQCAtMjgsNiArMjksNyBAQCB2b2lkIGludGVsX2d0X2luaXRfZWFybHkoc3Ry
dWN0IGludGVsX2d0ICpndCwgc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUpCj4gICAJSU5J
VF9MSVNUX0hFQUQoJmd0LT5jbG9zZWRfdm1hKTsKPiAgIAlzcGluX2xvY2tfaW5pdCgmZ3QtPmNs
b3NlZF9sb2NrKTsKPiAgIAo+ICsJaW50ZWxfZ3RfaW5pdF9idWZmZXJfcG9vbChndCk7Cj4gICAJ
aW50ZWxfZ3RfaW5pdF9yZXNldChndCk7Cj4gICAJaW50ZWxfZ3RfaW5pdF9yZXF1ZXN0cyhndCk7
Cj4gICAJaW50ZWxfZ3RfaW5pdF90aW1lbGluZXMoZ3QpOwo+IEBAIC02MjEsNiArNjIzLDcgQEAg
dm9pZCBpbnRlbF9ndF9kcml2ZXJfcmVsZWFzZShzdHJ1Y3QgaW50ZWxfZ3QgKmd0KQo+ICAgCj4g
ICAJaW50ZWxfZ3RfcG1fZmluaShndCk7Cj4gICAJaW50ZWxfZ3RfZmluaV9zY3JhdGNoKGd0KTsK
PiArCWludGVsX2d0X2ZpbmlfYnVmZmVyX3Bvb2woZ3QpOwo+ICAgfQo+ICAgCj4gICB2b2lkIGlu
dGVsX2d0X2RyaXZlcl9sYXRlX3JlbGVhc2Uoc3RydWN0IGludGVsX2d0ICpndCkKPiBkaWZmIC0t
Z2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZW5naW5lX3Bvb2wuYyBiL2RyaXZl
cnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2d0X2J1ZmZlcl9wb29sLmMKPiBzaW1pbGFyaXR5IGlu
ZGV4IDUzJQo+IHJlbmFtZSBmcm9tIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2VuZ2lu
ZV9wb29sLmMKPiByZW5hbWUgdG8gZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZ3RfYnVm
ZmVyX3Bvb2wuYwo+IGluZGV4IDM5NzE4NjgxODMwNS4uMTQ5NTA1NGE0MzA1IDEwMDY0NAo+IC0t
LSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2VuZ2luZV9wb29sLmMKPiArKysgYi9k
cml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9ndF9idWZmZXJfcG9vbC5jCj4gQEAgLTEsNiAr
MSw1IEBACj4gKy8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBNSVQKPiAgIC8qCj4gLSAqIFNQ
RFgtTGljZW5zZS1JZGVudGlmaWVyOiBNSVQKPiAtICoKPiAgICAqIENvcHlyaWdodCDCqSAyMDE0
LTIwMTggSW50ZWwgQ29ycG9yYXRpb24KPiAgICAqLwo+ICAgCj4gQEAgLTgsMTUgKzcsMTUgQEAK
PiAgIAo+ICAgI2luY2x1ZGUgImk5MTVfZHJ2LmgiCj4gICAjaW5jbHVkZSAiaW50ZWxfZW5naW5l
X3BtLmgiCj4gLSNpbmNsdWRlICJpbnRlbF9lbmdpbmVfcG9vbC5oIgo+ICsjaW5jbHVkZSAiaW50
ZWxfZ3RfYnVmZmVyX3Bvb2wuaCIKPiAgIAo+IC1zdGF0aWMgc3RydWN0IGludGVsX2VuZ2luZV9j
cyAqdG9fZW5naW5lKHN0cnVjdCBpbnRlbF9lbmdpbmVfcG9vbCAqcG9vbCkKPiArc3RhdGljIHN0
cnVjdCBpbnRlbF9ndCAqdG9fZ3Qoc3RydWN0IGludGVsX2d0X2J1ZmZlcl9wb29sICpwb29sKQo+
ICAgewo+IC0JcmV0dXJuIGNvbnRhaW5lcl9vZihwb29sLCBzdHJ1Y3QgaW50ZWxfZW5naW5lX2Nz
LCBwb29sKTsKPiArCXJldHVybiBjb250YWluZXJfb2YocG9vbCwgc3RydWN0IGludGVsX2d0LCBi
dWZmZXJfcG9vbCk7Cj4gICB9Cj4gICAKPiAgIHN0YXRpYyBzdHJ1Y3QgbGlzdF9oZWFkICoKPiAt
YnVja2V0X2Zvcl9zaXplKHN0cnVjdCBpbnRlbF9lbmdpbmVfcG9vbCAqcG9vbCwgc2l6ZV90IHN6
KQo+ICtidWNrZXRfZm9yX3NpemUoc3RydWN0IGludGVsX2d0X2J1ZmZlcl9wb29sICpwb29sLCBz
aXplX3Qgc3opCj4gICB7Cj4gICAJaW50IG47Cj4gICAKPiBAQCAtMzIsMTYgKzMxLDUwIEBAIGJ1
Y2tldF9mb3Jfc2l6ZShzdHJ1Y3QgaW50ZWxfZW5naW5lX3Bvb2wgKnBvb2wsIHNpemVfdCBzeikK
PiAgIAlyZXR1cm4gJnBvb2wtPmNhY2hlX2xpc3Rbbl07Cj4gICB9Cj4gICAKPiAtc3RhdGljIHZv
aWQgbm9kZV9mcmVlKHN0cnVjdCBpbnRlbF9lbmdpbmVfcG9vbF9ub2RlICpub2RlKQo+ICtzdGF0
aWMgdm9pZCBub2RlX2ZyZWUoc3RydWN0IGludGVsX2d0X2J1ZmZlcl9wb29sX25vZGUgKm5vZGUp
Cj4gICB7Cj4gICAJaTkxNV9nZW1fb2JqZWN0X3B1dChub2RlLT5vYmopOwo+ICAgCWk5MTVfYWN0
aXZlX2ZpbmkoJm5vZGUtPmFjdGl2ZSk7Cj4gICAJa2ZyZWUobm9kZSk7Cj4gICB9Cj4gICAKPiAr
c3RhdGljIHZvaWQgcG9vbF9mcmVlX3dvcmsoc3RydWN0IHdvcmtfc3RydWN0ICp3cmspCj4gK3sK
PiArCXN0cnVjdCBpbnRlbF9ndF9idWZmZXJfcG9vbCAqcG9vbCA9Cj4gKwkJY29udGFpbmVyX29m
KHdyaywgdHlwZW9mKCpwb29sKSwgd29yay53b3JrKTsKPiArCXN0cnVjdCBpbnRlbF9ndF9idWZm
ZXJfcG9vbF9ub2RlICpub2RlLCAqbmV4dDsKPiArCXVuc2lnbmVkIGxvbmcgb2xkID0gamlmZmll
cyAtIEhaOwo+ICsJYm9vbCBhY3RpdmUgPSBmYWxzZTsKPiArCUxJU1RfSEVBRChzdGFsZSk7Cj4g
KwlpbnQgbjsKPiArCj4gKwkvKiBGcmVlIGJ1ZmZlcnMgdGhhdCBoYXZlIG5vdCBiZWVuIHVzZWQg
aW4gdGhlIHBhc3Qgc2Vjb25kICovCj4gKwlzcGluX2xvY2tfaXJxKCZwb29sLT5sb2NrKTsKPiAr
CWZvciAobiA9IDA7IG4gPCBBUlJBWV9TSVpFKHBvb2wtPmNhY2hlX2xpc3QpOyBuKyspIHsKPiAr
CQlzdHJ1Y3QgbGlzdF9oZWFkICpsaXN0ID0gJnBvb2wtPmNhY2hlX2xpc3Rbbl07Cj4gKwo+ICsJ
CS8qIE1vc3QgcmVjZW50IGF0IGhlYWQ7IG9sZGVzdCBhdCB0YWlsICovCj4gKwkJbGlzdF9mb3Jf
ZWFjaF9lbnRyeV9zYWZlX3JldmVyc2Uobm9kZSwgbmV4dCwgbGlzdCwgbGluaykgewo+ICsJCQlp
ZiAodGltZV9iZWZvcmUobm9kZS0+YWdlLCBvbGQpKQo+ICsJCQkJYnJlYWs7Cj4gKwo+ICsJCQls
aXN0X21vdmUoJm5vZGUtPmxpbmssICZzdGFsZSk7Cj4gKwkJfQo+ICsJCWFjdGl2ZSB8PSAhbGlz
dF9lbXB0eShsaXN0KTsKPiArCX0KPiArCXNwaW5fdW5sb2NrX2lycSgmcG9vbC0+bG9jayk7Cj4g
Kwo+ICsJbGlzdF9mb3JfZWFjaF9lbnRyeV9zYWZlKG5vZGUsIG5leHQsICZzdGFsZSwgbGluaykK
PiArCQlub2RlX2ZyZWUobm9kZSk7Cj4gKwo+ICsJaWYgKGFjdGl2ZSkKPiArCQlzY2hlZHVsZV9k
ZWxheWVkX3dvcmsoJnBvb2wtPndvcmssCj4gKwkJCQkgICAgICByb3VuZF9qaWZmaWVzX3VwX3Jl
bGF0aXZlKEhaKSk7Cj4gK30KPiArCj4gICBzdGF0aWMgaW50IHBvb2xfYWN0aXZlKHN0cnVjdCBp
OTE1X2FjdGl2ZSAqcmVmKQo+ICAgewo+IC0Jc3RydWN0IGludGVsX2VuZ2luZV9wb29sX25vZGUg
Km5vZGUgPQo+ICsJc3RydWN0IGludGVsX2d0X2J1ZmZlcl9wb29sX25vZGUgKm5vZGUgPQo+ICAg
CQljb250YWluZXJfb2YocmVmLCB0eXBlb2YoKm5vZGUpLCBhY3RpdmUpOwo+ICAgCXN0cnVjdCBk
bWFfcmVzdiAqcmVzdiA9IG5vZGUtPm9iai0+YmFzZS5yZXN2Owo+ICAgCWludCBlcnI7Cj4gQEAg
LTY0LDI5ICs5NywzMSBAQCBzdGF0aWMgaW50IHBvb2xfYWN0aXZlKHN0cnVjdCBpOTE1X2FjdGl2
ZSAqcmVmKQo+ICAgX19pOTE1X2FjdGl2ZV9jYWxsCj4gICBzdGF0aWMgdm9pZCBwb29sX3JldGly
ZShzdHJ1Y3QgaTkxNV9hY3RpdmUgKnJlZikKPiAgIHsKPiAtCXN0cnVjdCBpbnRlbF9lbmdpbmVf
cG9vbF9ub2RlICpub2RlID0KPiArCXN0cnVjdCBpbnRlbF9ndF9idWZmZXJfcG9vbF9ub2RlICpu
b2RlID0KPiAgIAkJY29udGFpbmVyX29mKHJlZiwgdHlwZW9mKCpub2RlKSwgYWN0aXZlKTsKPiAt
CXN0cnVjdCBpbnRlbF9lbmdpbmVfcG9vbCAqcG9vbCA9IG5vZGUtPnBvb2w7Cj4gKwlzdHJ1Y3Qg
aW50ZWxfZ3RfYnVmZmVyX3Bvb2wgKnBvb2wgPSBub2RlLT5wb29sOwo+ICAgCXN0cnVjdCBsaXN0
X2hlYWQgKmxpc3QgPSBidWNrZXRfZm9yX3NpemUocG9vbCwgbm9kZS0+b2JqLT5iYXNlLnNpemUp
Owo+ICAgCXVuc2lnbmVkIGxvbmcgZmxhZ3M7Cj4gICAKPiAtCUdFTV9CVUdfT04oIWludGVsX2Vu
Z2luZV9wbV9pc19hd2FrZSh0b19lbmdpbmUocG9vbCkpKTsKPiAtCj4gICAJaTkxNV9nZW1fb2Jq
ZWN0X3VucGluX3BhZ2VzKG5vZGUtPm9iaik7Cj4gICAKPiAgIAkvKiBSZXR1cm4gdGhpcyBvYmpl
Y3QgdG8gdGhlIHNocmlua2VyIHBvb2wgKi8KPiAgIAlpOTE1X2dlbV9vYmplY3RfbWFrZV9wdXJn
ZWFibGUobm9kZS0+b2JqKTsKPiAgIAo+ICAgCXNwaW5fbG9ja19pcnFzYXZlKCZwb29sLT5sb2Nr
LCBmbGFncyk7Cj4gKwlub2RlLT5hZ2UgPSBqaWZmaWVzOwo+ICAgCWxpc3RfYWRkKCZub2RlLT5s
aW5rLCBsaXN0KTsKPiAgIAlzcGluX3VubG9ja19pcnFyZXN0b3JlKCZwb29sLT5sb2NrLCBmbGFn
cyk7Cj4gKwo+ICsJc2NoZWR1bGVfZGVsYXllZF93b3JrKCZwb29sLT53b3JrLAo+ICsJCQkgICAg
ICByb3VuZF9qaWZmaWVzX3VwX3JlbGF0aXZlKEhaKSk7Cj4gICB9Cj4gICAKPiAtc3RhdGljIHN0
cnVjdCBpbnRlbF9lbmdpbmVfcG9vbF9ub2RlICoKPiAtbm9kZV9jcmVhdGUoc3RydWN0IGludGVs
X2VuZ2luZV9wb29sICpwb29sLCBzaXplX3Qgc3opCj4gK3N0YXRpYyBzdHJ1Y3QgaW50ZWxfZ3Rf
YnVmZmVyX3Bvb2xfbm9kZSAqCj4gK25vZGVfY3JlYXRlKHN0cnVjdCBpbnRlbF9ndF9idWZmZXJf
cG9vbCAqcG9vbCwgc2l6ZV90IHN6KQo+ICAgewo+IC0Jc3RydWN0IGludGVsX2VuZ2luZV9jcyAq
ZW5naW5lID0gdG9fZW5naW5lKHBvb2wpOwo+IC0Jc3RydWN0IGludGVsX2VuZ2luZV9wb29sX25v
ZGUgKm5vZGU7Cj4gKwlzdHJ1Y3QgaW50ZWxfZ3QgKmd0ID0gdG9fZ3QocG9vbCk7Cj4gKwlzdHJ1
Y3QgaW50ZWxfZ3RfYnVmZmVyX3Bvb2xfbm9kZSAqbm9kZTsKPiAgIAlzdHJ1Y3QgZHJtX2k5MTVf
Z2VtX29iamVjdCAqb2JqOwo+ICAgCj4gICAJbm9kZSA9IGttYWxsb2Moc2l6ZW9mKCpub2RlKSwK
PiBAQCAtOTcsNyArMTMyLDcgQEAgbm9kZV9jcmVhdGUoc3RydWN0IGludGVsX2VuZ2luZV9wb29s
ICpwb29sLCBzaXplX3Qgc3opCj4gICAJbm9kZS0+cG9vbCA9IHBvb2w7Cj4gICAJaTkxNV9hY3Rp
dmVfaW5pdCgmbm9kZS0+YWN0aXZlLCBwb29sX2FjdGl2ZSwgcG9vbF9yZXRpcmUpOwo+ICAgCj4g
LQlvYmogPSBpOTE1X2dlbV9vYmplY3RfY3JlYXRlX2ludGVybmFsKGVuZ2luZS0+aTkxNSwgc3op
Owo+ICsJb2JqID0gaTkxNV9nZW1fb2JqZWN0X2NyZWF0ZV9pbnRlcm5hbChndC0+aTkxNSwgc3op
Owo+ICAgCWlmIChJU19FUlIob2JqKSkgewo+ICAgCQlpOTE1X2FjdGl2ZV9maW5pKCZub2RlLT5h
Y3RpdmUpOwo+ICAgCQlrZnJlZShub2RlKTsKPiBAQCAtMTEwLDI2ICsxNDUsMTUgQEAgbm9kZV9j
cmVhdGUoc3RydWN0IGludGVsX2VuZ2luZV9wb29sICpwb29sLCBzaXplX3Qgc3opCj4gICAJcmV0
dXJuIG5vZGU7Cj4gICB9Cj4gICAKPiAtc3RhdGljIHN0cnVjdCBpbnRlbF9lbmdpbmVfcG9vbCAq
bG9va3VwX3Bvb2woc3RydWN0IGludGVsX2VuZ2luZV9jcyAqZW5naW5lKQo+ICtzdHJ1Y3QgaW50
ZWxfZ3RfYnVmZmVyX3Bvb2xfbm9kZSAqCj4gK2ludGVsX2d0X2dldF9idWZmZXJfcG9vbChzdHJ1
Y3QgaW50ZWxfZ3QgKmd0LCBzaXplX3Qgc2l6ZSkKPiAgIHsKPiAtCWlmIChpbnRlbF9lbmdpbmVf
aXNfdmlydHVhbChlbmdpbmUpKQo+IC0JCWVuZ2luZSA9IGludGVsX3ZpcnR1YWxfZW5naW5lX2dl
dF9zaWJsaW5nKGVuZ2luZSwgMCk7Cj4gLQo+IC0JR0VNX0JVR19PTighZW5naW5lKTsKPiAtCXJl
dHVybiAmZW5naW5lLT5wb29sOwo+IC19Cj4gLQo+IC1zdHJ1Y3QgaW50ZWxfZW5naW5lX3Bvb2xf
bm9kZSAqCj4gLWludGVsX2VuZ2luZV9nZXRfcG9vbChzdHJ1Y3QgaW50ZWxfZW5naW5lX2NzICpl
bmdpbmUsIHNpemVfdCBzaXplKQo+IC17Cj4gLQlzdHJ1Y3QgaW50ZWxfZW5naW5lX3Bvb2wgKnBv
b2wgPSBsb29rdXBfcG9vbChlbmdpbmUpOwo+IC0Jc3RydWN0IGludGVsX2VuZ2luZV9wb29sX25v
ZGUgKm5vZGU7Cj4gKwlzdHJ1Y3QgaW50ZWxfZ3RfYnVmZmVyX3Bvb2wgKnBvb2wgPSAmZ3QtPmJ1
ZmZlcl9wb29sOwo+ICsJc3RydWN0IGludGVsX2d0X2J1ZmZlcl9wb29sX25vZGUgKm5vZGU7Cj4g
ICAJc3RydWN0IGxpc3RfaGVhZCAqbGlzdDsKPiAgIAl1bnNpZ25lZCBsb25nIGZsYWdzOwo+ICAg
CWludCByZXQ7Cj4gICAKPiAtCUdFTV9CVUdfT04oIWludGVsX2VuZ2luZV9wbV9pc19hd2FrZSh0
b19lbmdpbmUocG9vbCkpKTsKPiAtCj4gICAJc2l6ZSA9IFBBR0VfQUxJR04oc2l6ZSk7Cj4gICAJ
bGlzdCA9IGJ1Y2tldF9mb3Jfc2l6ZShwb29sLCBzaXplKTsKPiAgIAo+IEBAIC0xNTcsMzQgKzE4
MSw0OCBAQCBpbnRlbF9lbmdpbmVfZ2V0X3Bvb2woc3RydWN0IGludGVsX2VuZ2luZV9jcyAqZW5n
aW5lLCBzaXplX3Qgc2l6ZSkKPiAgIAlyZXR1cm4gbm9kZTsKPiAgIH0KPiAgIAo+IC12b2lkIGlu
dGVsX2VuZ2luZV9wb29sX2luaXQoc3RydWN0IGludGVsX2VuZ2luZV9wb29sICpwb29sKQo+ICt2
b2lkIGludGVsX2d0X2luaXRfYnVmZmVyX3Bvb2woc3RydWN0IGludGVsX2d0ICpndCkKPiAgIHsK
PiArCXN0cnVjdCBpbnRlbF9ndF9idWZmZXJfcG9vbCAqcG9vbCA9ICZndC0+YnVmZmVyX3Bvb2w7
Cj4gICAJaW50IG47Cj4gICAKPiAgIAlzcGluX2xvY2tfaW5pdCgmcG9vbC0+bG9jayk7Cj4gICAJ
Zm9yIChuID0gMDsgbiA8IEFSUkFZX1NJWkUocG9vbC0+Y2FjaGVfbGlzdCk7IG4rKykKPiAgIAkJ
SU5JVF9MSVNUX0hFQUQoJnBvb2wtPmNhY2hlX2xpc3Rbbl0pOwo+ICsJSU5JVF9ERUxBWUVEX1dP
UksoJnBvb2wtPndvcmssIHBvb2xfZnJlZV93b3JrKTsKPiAgIH0KPiAgIAo+IC12b2lkIGludGVs
X2VuZ2luZV9wb29sX3Bhcmsoc3RydWN0IGludGVsX2VuZ2luZV9wb29sICpwb29sKQo+ICtzdGF0
aWMgdm9pZCBwb29sX2ZyZWVfaW1tKHN0cnVjdCBpbnRlbF9ndF9idWZmZXJfcG9vbCAqcG9vbCkK
PiAgIHsKPiAgIAlpbnQgbjsKPiAgIAo+ICsJc3Bpbl9sb2NrX2lycSgmcG9vbC0+bG9jayk7Cj4g
ICAJZm9yIChuID0gMDsgbiA8IEFSUkFZX1NJWkUocG9vbC0+Y2FjaGVfbGlzdCk7IG4rKykgewo+
ICsJCXN0cnVjdCBpbnRlbF9ndF9idWZmZXJfcG9vbF9ub2RlICpub2RlLCAqbmV4dDsKPiAgIAkJ
c3RydWN0IGxpc3RfaGVhZCAqbGlzdCA9ICZwb29sLT5jYWNoZV9saXN0W25dOwo+IC0JCXN0cnVj
dCBpbnRlbF9lbmdpbmVfcG9vbF9ub2RlICpub2RlLCAqbm47Cj4gICAKPiAtCQlsaXN0X2Zvcl9l
YWNoX2VudHJ5X3NhZmUobm9kZSwgbm4sIGxpc3QsIGxpbmspCj4gKwkJbGlzdF9mb3JfZWFjaF9l
bnRyeV9zYWZlKG5vZGUsIG5leHQsIGxpc3QsIGxpbmspCj4gICAJCQlub2RlX2ZyZWUobm9kZSk7
Cj4gLQo+ICAgCQlJTklUX0xJU1RfSEVBRChsaXN0KTsKPiAgIAl9Cj4gKwlzcGluX3VubG9ja19p
cnEoJnBvb2wtPmxvY2spOwo+ICt9Cj4gKwo+ICt2b2lkIGludGVsX2d0X2ZsdXNoX2J1ZmZlcl9w
b29sKHN0cnVjdCBpbnRlbF9ndCAqZ3QpCj4gK3sKPiArCXN0cnVjdCBpbnRlbF9ndF9idWZmZXJf
cG9vbCAqcG9vbCA9ICZndC0+YnVmZmVyX3Bvb2w7Cj4gKwo+ICsJaWYgKGNhbmNlbF9kZWxheWVk
X3dvcmtfc3luYygmcG9vbC0+d29yaykpCj4gKwkJcG9vbF9mcmVlX2ltbShwb29sKTsKPiAgIH0K
PiAgIAo+IC12b2lkIGludGVsX2VuZ2luZV9wb29sX2Zpbmkoc3RydWN0IGludGVsX2VuZ2luZV9w
b29sICpwb29sKQo+ICt2b2lkIGludGVsX2d0X2ZpbmlfYnVmZmVyX3Bvb2woc3RydWN0IGludGVs
X2d0ICpndCkKPiAgIHsKPiArCXN0cnVjdCBpbnRlbF9ndF9idWZmZXJfcG9vbCAqcG9vbCA9ICZn
dC0+YnVmZmVyX3Bvb2w7Cj4gICAJaW50IG47Cj4gICAKPiArCWludGVsX2d0X2ZsdXNoX2J1ZmZl
cl9wb29sKGd0KTsKPiArCj4gICAJZm9yIChuID0gMDsgbiA8IEFSUkFZX1NJWkUocG9vbC0+Y2Fj
aGVfbGlzdCk7IG4rKykKPiAgIAkJR0VNX0JVR19PTighbGlzdF9lbXB0eSgmcG9vbC0+Y2FjaGVf
bGlzdFtuXSkpOwo+ICAgfQo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9p
bnRlbF9ndF9idWZmZXJfcG9vbC5oIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZ3Rf
YnVmZmVyX3Bvb2wuaAo+IG5ldyBmaWxlIG1vZGUgMTAwNjQ0Cj4gaW5kZXggMDAwMDAwMDAwMDAw
Li40MmNiYWMwMDNlOGEKPiAtLS0gL2Rldi9udWxsCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5
MTUvZ3QvaW50ZWxfZ3RfYnVmZmVyX3Bvb2wuaAo+IEBAIC0wLDAgKzEsMzcgQEAKPiArLyogU1BE
WC1MaWNlbnNlLUlkZW50aWZpZXI6IE1JVCAqLwo+ICsvKgo+ICsgKiBDb3B5cmlnaHQgwqkgMjAx
NC0yMDE4IEludGVsIENvcnBvcmF0aW9uCj4gKyAqLwo+ICsKPiArI2lmbmRlZiBJTlRFTF9HVF9C
VUZGRVJfUE9PTF9ICj4gKyNkZWZpbmUgSU5URUxfR1RfQlVGRkVSX1BPT0xfSAo+ICsKPiArI2lu
Y2x1ZGUgPGxpbnV4L3R5cGVzLmg+Cj4gKwo+ICsjaW5jbHVkZSAiaTkxNV9hY3RpdmUuaCIKPiAr
I2luY2x1ZGUgImludGVsX2d0X2J1ZmZlcl9wb29sX3R5cGVzLmgiCj4gKwo+ICtzdHJ1Y3QgaW50
ZWxfZ3Q7Cj4gK3N0cnVjdCBpOTE1X3JlcXVlc3Q7Cj4gKwo+ICtzdHJ1Y3QgaW50ZWxfZ3RfYnVm
ZmVyX3Bvb2xfbm9kZSAqCj4gK2ludGVsX2d0X2dldF9idWZmZXJfcG9vbChzdHJ1Y3QgaW50ZWxf
Z3QgKmd0LCBzaXplX3Qgc2l6ZSk7Cj4gKwo+ICtzdGF0aWMgaW5saW5lIGludAo+ICtpbnRlbF9n
dF9idWZmZXJfcG9vbF9tYXJrX2FjdGl2ZShzdHJ1Y3QgaW50ZWxfZ3RfYnVmZmVyX3Bvb2xfbm9k
ZSAqbm9kZSwKPiArCQkJCSBzdHJ1Y3QgaTkxNV9yZXF1ZXN0ICpycSkKPiArewo+ICsJcmV0dXJu
IGk5MTVfYWN0aXZlX2FkZF9yZXF1ZXN0KCZub2RlLT5hY3RpdmUsIHJxKTsKPiArfQo+ICsKPiAr
c3RhdGljIGlubGluZSB2b2lkCj4gK2ludGVsX2d0X2J1ZmZlcl9wb29sX3B1dChzdHJ1Y3QgaW50
ZWxfZ3RfYnVmZmVyX3Bvb2xfbm9kZSAqbm9kZSkKPiArewo+ICsJaTkxNV9hY3RpdmVfcmVsZWFz
ZSgmbm9kZS0+YWN0aXZlKTsKPiArfQo+ICsKPiArdm9pZCBpbnRlbF9ndF9pbml0X2J1ZmZlcl9w
b29sKHN0cnVjdCBpbnRlbF9ndCAqZ3QpOwo+ICt2b2lkIGludGVsX2d0X2ZsdXNoX2J1ZmZlcl9w
b29sKHN0cnVjdCBpbnRlbF9ndCAqZ3QpOwo+ICt2b2lkIGludGVsX2d0X2ZpbmlfYnVmZmVyX3Bv
b2woc3RydWN0IGludGVsX2d0ICpndCk7Cj4gKwo+ICsjZW5kaWYgLyogSU5URUxfR1RfQlVGRkVS
X1BPT0xfSCAqLwo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9l
bmdpbmVfcG9vbF90eXBlcy5oIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZ3RfYnVm
ZmVyX3Bvb2xfdHlwZXMuaAo+IHNpbWlsYXJpdHkgaW5kZXggNTQlCj4gcmVuYW1lIGZyb20gZHJp
dmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZW5naW5lX3Bvb2xfdHlwZXMuaAo+IHJlbmFtZSB0
byBkcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9ndF9idWZmZXJfcG9vbF90eXBlcy5oCj4g
aW5kZXggZTMxZWUzNjFiNzZmLi5lMjhiZGRhNzcxZWQgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9n
cHUvZHJtL2k5MTUvZ3QvaW50ZWxfZW5naW5lX3Bvb2xfdHlwZXMuaAo+ICsrKyBiL2RyaXZlcnMv
Z3B1L2RybS9pOTE1L2d0L2ludGVsX2d0X2J1ZmZlcl9wb29sX3R5cGVzLmgKPiBAQCAtNCwyNiAr
NCwyOSBAQAo+ICAgICogQ29weXJpZ2h0IMKpIDIwMTQtMjAxOCBJbnRlbCBDb3Jwb3JhdGlvbgo+
ICAgICovCj4gICAKPiAtI2lmbmRlZiBJTlRFTF9FTkdJTkVfUE9PTF9UWVBFU19ICj4gLSNkZWZp
bmUgSU5URUxfRU5HSU5FX1BPT0xfVFlQRVNfSAo+ICsjaWZuZGVmIElOVEVMX0dUX0JVRkZFUl9Q
T09MX1RZUEVTX0gKPiArI2RlZmluZSBJTlRFTF9HVF9CVUZGRVJfUE9PTF9UWVBFU19ICj4gICAK
PiAgICNpbmNsdWRlIDxsaW51eC9saXN0Lmg+Cj4gICAjaW5jbHVkZSA8bGludXgvc3BpbmxvY2su
aD4KPiArI2luY2x1ZGUgPGxpbnV4L3dvcmtxdWV1ZS5oPgo+ICAgCj4gICAjaW5jbHVkZSAiaTkx
NV9hY3RpdmVfdHlwZXMuaCIKPiAgIAo+ICAgc3RydWN0IGRybV9pOTE1X2dlbV9vYmplY3Q7Cj4g
ICAKPiAtc3RydWN0IGludGVsX2VuZ2luZV9wb29sIHsKPiArc3RydWN0IGludGVsX2d0X2J1ZmZl
cl9wb29sIHsKPiAgIAlzcGlubG9ja190IGxvY2s7Cj4gICAJc3RydWN0IGxpc3RfaGVhZCBjYWNo
ZV9saXN0WzRdOwo+ICsJc3RydWN0IGRlbGF5ZWRfd29yayB3b3JrOwo+ICAgfTsKPiAgIAo+IC1z
dHJ1Y3QgaW50ZWxfZW5naW5lX3Bvb2xfbm9kZSB7Cj4gK3N0cnVjdCBpbnRlbF9ndF9idWZmZXJf
cG9vbF9ub2RlIHsKPiAgIAlzdHJ1Y3QgaTkxNV9hY3RpdmUgYWN0aXZlOwo+ICAgCXN0cnVjdCBk
cm1faTkxNV9nZW1fb2JqZWN0ICpvYmo7Cj4gICAJc3RydWN0IGxpc3RfaGVhZCBsaW5rOwo+IC0J
c3RydWN0IGludGVsX2VuZ2luZV9wb29sICpwb29sOwo+ICsJc3RydWN0IGludGVsX2d0X2J1ZmZl
cl9wb29sICpwb29sOwo+ICsJdW5zaWduZWQgbG9uZyBhZ2U7Cj4gICB9Owo+ICAgCj4gLSNlbmRp
ZiAvKiBJTlRFTF9FTkdJTkVfUE9PTF9UWVBFU19IICovCj4gKyNlbmRpZiAvKiBJTlRFTF9HVF9C
VUZGRVJfUE9PTF9UWVBFU19IICovCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1
L2d0L2ludGVsX2d0X3R5cGVzLmggYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9ndF90
eXBlcy5oCj4gaW5kZXggZDAyY2NiNzM1ZTI0Li4wY2MxZDZiMTg1ZGMgMTAwNjQ0Cj4gLS0tIGEv
ZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZ3RfdHlwZXMuaAo+ICsrKyBiL2RyaXZlcnMv
Z3B1L2RybS9pOTE1L2d0L2ludGVsX2d0X3R5cGVzLmgKPiBAQCAtMTcsNiArMTcsNyBAQAo+ICAg
Cj4gICAjaW5jbHVkZSAiaTkxNV92bWEuaCIKPiAgICNpbmNsdWRlICJpbnRlbF9lbmdpbmVfdHlw
ZXMuaCIKPiArI2luY2x1ZGUgImludGVsX2d0X2J1ZmZlcl9wb29sX3R5cGVzLmgiCj4gICAjaW5j
bHVkZSAiaW50ZWxfbGxjX3R5cGVzLmgiCj4gICAjaW5jbHVkZSAiaW50ZWxfcmVzZXRfdHlwZXMu
aCIKPiAgICNpbmNsdWRlICJpbnRlbF9yYzZfdHlwZXMuaCIKPiBAQCAtOTcsNiArOTgsMTYgQEAg
c3RydWN0IGludGVsX2d0IHsKPiAgIAkgKi8KPiAgIAlzdHJ1Y3QgaTkxNV9hZGRyZXNzX3NwYWNl
ICp2bTsKPiAgIAo+ICsJLyoKPiArCSAqIEEgcG9vbCBvZiBvYmplY3RzIHRvIHVzZSBhcyBzaGFk
b3cgY29waWVzIG9mIGNsaWVudCBiYXRjaCBidWZmZXJzCj4gKwkgKiB3aGVuIHRoZSBjb21tYW5k
IHBhcnNlciBpcyBlbmFibGVkLiBQcmV2ZW50cyB0aGUgY2xpZW50IGZyb20KPiArCSAqIG1vZGlm
eWluZyB0aGUgYmF0Y2ggY29udGVudHMgYWZ0ZXIgc29mdHdhcmUgcGFyc2luZy4KPiArCSAqCj4g
KwkgKiBCdWZmZXJzIG9sZGVyIHRoYW4gMXMgYXJlIHBlcmlvZGljYWxseSByZWFwZWQgZnJvbSB0
aGUgcG9vbCwKPiArCSAqIG9yIG1heSBiZSByZWNsYWltZWQgYnkgdGhlIHNocmlua2VyIGJlZm9y
ZSB0aGVuLgo+ICsJICovCj4gKwlzdHJ1Y3QgaW50ZWxfZ3RfYnVmZmVyX3Bvb2wgYnVmZmVyX3Bv
b2w7Cj4gKwo+ICAgCXN0cnVjdCBpOTE1X3ZtYSAqc2NyYXRjaDsKPiAgIH07Cj4gICAKPiBkaWZm
IC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvbW9ja19lbmdpbmUuYyBiL2RyaXZlcnMv
Z3B1L2RybS9pOTE1L2d0L21vY2tfZW5naW5lLmMKPiBpbmRleCA0YTUzZGVkN2MyZGQuLmI4ZGQz
Y2JjODY5NiAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9tb2NrX2VuZ2lu
ZS5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvbW9ja19lbmdpbmUuYwo+IEBAIC0y
OCw3ICsyOCw2IEBACj4gICAjaW5jbHVkZSAiaTkxNV9kcnYuaCIKPiAgICNpbmNsdWRlICJpbnRl
bF9jb250ZXh0LmgiCj4gICAjaW5jbHVkZSAiaW50ZWxfZW5naW5lX3BtLmgiCj4gLSNpbmNsdWRl
ICJpbnRlbF9lbmdpbmVfcG9vbC5oIgo+ICAgCj4gICAjaW5jbHVkZSAibW9ja19lbmdpbmUuaCIK
PiAgICNpbmNsdWRlICJzZWxmdGVzdHMvbW9ja19yZXF1ZXN0LmgiCj4gQEAgLTMyOCw3ICszMjcs
NiBAQCBpbnQgbW9ja19lbmdpbmVfaW5pdChzdHJ1Y3QgaW50ZWxfZW5naW5lX2NzICplbmdpbmUp
Cj4gICAJaW50ZWxfZW5naW5lX2luaXRfZXhlY2xpc3RzKGVuZ2luZSk7Cj4gICAJaW50ZWxfZW5n
aW5lX2luaXRfX3BtKGVuZ2luZSk7Cj4gICAJaW50ZWxfZW5naW5lX2luaXRfcmV0aXJlKGVuZ2lu
ZSk7Cj4gLQlpbnRlbF9lbmdpbmVfcG9vbF9pbml0KCZlbmdpbmUtPnBvb2wpOwo+ICAgCj4gICAJ
Y2UgPSBjcmVhdGVfa2VybmVsX2NvbnRleHQoZW5naW5lKTsKPiAgIAlpZiAoSVNfRVJSKGNlKSkK
PiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kZWJ1Z2ZzLmMgYi9kcml2
ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2RlYnVnZnMuYwo+IGluZGV4IGMwOWUxYWZiNWY3OS4uOGU5
OGRmNmEzMDQ1IDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZGVidWdm
cy5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kZWJ1Z2ZzLmMKPiBAQCAtMzIs
NiArMzIsNyBAQAo+ICAgI2luY2x1ZGUgPGRybS9kcm1fZGVidWdmcy5oPgo+ICAgCj4gICAjaW5j
bHVkZSAiZ2VtL2k5MTVfZ2VtX2NvbnRleHQuaCIKPiArI2luY2x1ZGUgImd0L2ludGVsX2d0X2J1
ZmZlcl9wb29sLmgiCj4gICAjaW5jbHVkZSAiZ3QvaW50ZWxfZ3RfY2xvY2tfdXRpbHMuaCIKPiAg
ICNpbmNsdWRlICJndC9pbnRlbF9ndF9wbS5oIgo+ICAgI2luY2x1ZGUgImd0L2ludGVsX2d0X3Jl
cXVlc3RzLmgiCj4gQEAgLTE0ODQsNiArMTQ4NSw5IEBAIGd0X2Ryb3BfY2FjaGVzKHN0cnVjdCBp
bnRlbF9ndCAqZ3QsIHU2NCB2YWwpCj4gICAJaWYgKHZhbCAmIERST1BfUkVTRVRfQUNUSVZFICYm
IGludGVsX2d0X3Rlcm1pbmFsbHlfd2VkZ2VkKGd0KSkKPiAgIAkJaW50ZWxfZ3RfaGFuZGxlX2Vy
cm9yKGd0LCBBTExfRU5HSU5FUywgMCwgTlVMTCk7Cj4gICAKPiArCWlmICh2YWwgJiBEUk9QX0ZS
RUVEKQo+ICsJCWludGVsX2d0X2ZsdXNoX2J1ZmZlcl9wb29sKGd0KTsKPiArCj4gICAJcmV0dXJu
IDA7Cj4gICB9Cj4gICAKPiAKClJldmlld2VkLWJ5OiBUdnJ0a28gVXJzdWxpbiA8dHZydGtvLnVy
c3VsaW5AaW50ZWwuY29tPgoKUmVnYXJkcywKClR2cnRrbwpfX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fXwpJbnRlbC1nZnggbWFpbGluZyBsaXN0CkludGVsLWdm
eEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFp
bG1hbi9saXN0aW5mby9pbnRlbC1nZngK

Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 4588BAC804
	for <lists+intel-gfx@lfdr.de>; Sat,  7 Sep 2019 19:21:46 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 9D49189DB7;
	Sat,  7 Sep 2019 17:21:44 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga11.intel.com (mga11.intel.com [192.55.52.93])
 by gabe.freedesktop.org (Postfix) with ESMTPS id B723189DB7
 for <intel-gfx@lists.freedesktop.org>; Sat,  7 Sep 2019 17:21:42 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from fmsmga003.fm.intel.com ([10.253.24.29])
 by fmsmga102.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 07 Sep 2019 10:21:42 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.64,478,1559545200"; d="scan'208";a="191111447"
Received: from genxfsim-desktop.iind.intel.com ([10.223.74.120])
 by FMSMGA003.fm.intel.com with ESMTP; 07 Sep 2019 10:21:40 -0700
From: Anshuman Gupta <anshuman.gupta@intel.com>
To: intel-gfx@lists.freedesktop.org
Date: Sat,  7 Sep 2019 22:44:40 +0530
Message-Id: <20190907171443.16181-5-anshuman.gupta@intel.com>
X-Mailer: git-send-email 2.21.0
In-Reply-To: <20190907171443.16181-1-anshuman.gupta@intel.com>
References: <20190907171443.16181-1-anshuman.gupta@intel.com>
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH v7 4/7] drm/i915/tgl: Do modeset to enable and
 configure DC3CO exitline.
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: jani.nikula@intel.com
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

REMzQ08gZW5hYmxpbmcgQi5TcGVjcyBzZXF1ZW5jZSByZXF1aXJlcyB0byBlbmFibGUgZW5kIGNv
bmZpZ3VyZQpleGl0IHNjYW5saW5lcyB0byBUUkFOU19FWElUTElORSByZWdpc3RlciwgcHJvZ3Jh
bW1pbmcgdGhpcyByZWdpc3RlcgpoYXMgdG8gYmUgcGFydCBvZiBtb2Rlc2V0IHNlcXVlbmNlIGFz
IHRoaXMgY2FuJ3QgYmUgY2hhbmdlIHdoZW4KdHJhbnNjb2RlciBvciBwb3J0IGlzIGVuYWJsZWQu
CldoZW4gc3lzdGVtIGJvb3RzIHdpdGggb25seSBlRFAgcGFuZWwgdGhlcmUgbWF5IG5vdCBiZSBy
ZWFsCm1vZGVzZXQgYXMgQklPUyBoYXMgYWxyZWFkeSBwcm9ncmFtbWVkIHRoZSBuZWNlc3Nhcnkg
cmVnaXN0ZXJzLAp0aGVyZWZvcmUgaXQgbmVlZHMgdG8gZm9yY2UgYSBtb2Rlc2V0IGF0IGJvb3R1
cCB0byBlbmFibGUgYW5kIGNvbmZpZ3VyZQpEQzNDTyBleGl0bGluZS4KCkNjOiBKYW5pIE5pa3Vs
YSA8amFuaS5uaWt1bGFAaW50ZWwuY29tPgpDYzogSW1yZSBEZWFrIDxpbXJlLmRlYWtAaW50ZWwu
Y29tPgpDYzogQW5pbWVzaCBNYW5uYSA8YW5pbWVzaC5tYW5uYUBpbnRlbC5jb20+ClNpZ25lZC1v
ZmYtYnk6IEFuc2h1bWFuIEd1cHRhIDxhbnNodW1hbi5ndXB0YUBpbnRlbC5jb20+Ci0tLQogZHJp
dmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5LmMgIHwgICA1ICsKIC4uLi9k
cm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXlfcG93ZXIuYyAgICB8IDEwOCArKysrKysrKysr
KysrKysrKysKIC4uLi9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXlfcG93ZXIuaCAgICB8
ICAgNyArKwogLi4uL2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheV90eXBlcy5oICAgIHwg
ICAxICsKIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZHJ2LmggICAgICAgICAgICAgICB8ICAg
MiArCiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9wbS5jICAgICAgICAgICAgICAgfCAgIDIg
Ky0KIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX3BtLmggICAgICAgICAgICAgICB8ICAgMiAr
CiA3IGZpbGVzIGNoYW5nZWQsIDEyNiBpbnNlcnRpb25zKCspLCAxIGRlbGV0aW9uKC0pCgpkaWZm
IC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5LmMgYi9k
cml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXkuYwppbmRleCAzYjUyNzVh
YjY2Y2YuLjg0NDg4Zjg3ZDA1OCAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlz
cGxheS9pbnRlbF9kaXNwbGF5LmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9p
bnRlbF9kaXNwbGF5LmMKQEAgLTc0MDksNiArNzQwOSw4IEBAIHN0YXRpYyBpbnQgaW50ZWxfY3J0
Y19jb21wdXRlX2NvbmZpZyhzdHJ1Y3QgaW50ZWxfY3J0YyAqY3J0YywKIAljb25zdCBzdHJ1Y3Qg
ZHJtX2Rpc3BsYXlfbW9kZSAqYWRqdXN0ZWRfbW9kZSA9ICZwaXBlX2NvbmZpZy0+YmFzZS5hZGp1
c3RlZF9tb2RlOwogCWludCBjbG9ja19saW1pdCA9IGRldl9wcml2LT5tYXhfZG90Y2xrX2ZyZXE7
CiAKKwl0Z2xfZGMzY29fY3J0Y19jb21wdXRlX2NvbmZpZyhkZXZfcHJpdiwgcGlwZV9jb25maWcp
OworCiAJaWYgKElOVEVMX0dFTihkZXZfcHJpdikgPCA0KSB7CiAJCWNsb2NrX2xpbWl0ID0gZGV2
X3ByaXYtPm1heF9jZGNsa19mcmVxICogOSAvIDEwOwogCkBAIC0xMDQ3NCw2ICsxMDQ3Niw4IEBA
IHN0YXRpYyBib29sIGhhc3dlbGxfZ2V0X3BpcGVfY29uZmlnKHN0cnVjdCBpbnRlbF9jcnRjICpj
cnRjLAogCQlwaXBlX2NvbmZpZy0+cGl4ZWxfbXVsdGlwbGllciA9IDE7CiAJfQogCisJdGdsX2Rj
M2NvX2NydGNfZ2V0X2NvbmZpZyhwaXBlX2NvbmZpZyk7CisKIG91dDoKIAlmb3JfZWFjaF9wb3dl
cl9kb21haW4ocG93ZXJfZG9tYWluLCBwb3dlcl9kb21haW5fbWFzaykKIAkJaW50ZWxfZGlzcGxh
eV9wb3dlcl9wdXQoZGV2X3ByaXYsCkBAIC0xMjczOSw2ICsxMjc0Myw3IEBAIGludGVsX3BpcGVf
Y29uZmlnX2NvbXBhcmUoY29uc3Qgc3RydWN0IGludGVsX2NydGNfc3RhdGUgKmN1cnJlbnRfY29u
ZmlnLAogCiAJUElQRV9DT05GX0NIRUNLX0kocGl4ZWxfbXVsdGlwbGllcik7CiAJUElQRV9DT05G
X0NIRUNLX0kob3V0cHV0X2Zvcm1hdCk7CisJUElQRV9DT05GX0NIRUNLX0JPT0woaGFzX2RjM2Nv
X2V4aXRsaW5lKTsKIAlQSVBFX0NPTkZfQ0hFQ0tfQk9PTChoYXNfaGRtaV9zaW5rKTsKIAlpZiAo
KElOVEVMX0dFTihkZXZfcHJpdikgPCA4ICYmICFJU19IQVNXRUxMKGRldl9wcml2KSkgfHwKIAkg
ICAgSVNfVkFMTEVZVklFVyhkZXZfcHJpdikgfHwgSVNfQ0hFUlJZVklFVyhkZXZfcHJpdikpCmRp
ZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXlfcG93
ZXIuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheV9wb3dlci5j
CmluZGV4IDgzYjEwZjYxZWU0Mi4uZWNjZTExOGI1YjBlIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dw
dS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXlfcG93ZXIuYworKysgYi9kcml2ZXJzL2dw
dS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXlfcG93ZXIuYwpAQCAtMTksNiArMTksNyBA
QAogI2luY2x1ZGUgImludGVsX2hvdHBsdWcuaCIKICNpbmNsdWRlICJpbnRlbF9zaWRlYmFuZC5o
IgogI2luY2x1ZGUgImludGVsX3RjLmgiCisjaW5jbHVkZSAiaW50ZWxfcG0uaCIKIAogYm9vbCBp
bnRlbF9kaXNwbGF5X3Bvd2VyX3dlbGxfaXNfZW5hYmxlZChzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0
ZSAqZGV2X3ByaXYsCiAJCQkJCSBlbnVtIGk5MTVfcG93ZXJfd2VsbF9pZCBwb3dlcl93ZWxsX2lk
KTsKQEAgLTc3Miw2ICs3NzMsMTEzIEBAIHN0YXRpYyB2b2lkIGdlbjlfc2V0X2RjX3N0YXRlKHN0
cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiwgdTMyIHN0YXRlKQogCWRldl9wcml2LT5j
c3IuZGNfc3RhdGUgPSB2YWwgJiBtYXNrOwogfQogCit2b2lkIHRnbF9kaXNhYmxlX3BzcjJfdHJh
bnNjb2Rlcl9leGl0bGluZShjb25zdCBzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqY3N0YXRlKQor
eworCXN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiA9IHRvX2k5MTUoY3N0YXRlLT5i
YXNlLmNydGMtPmRldik7CisJdTMyIHZhbDsKKworCWlmICghSVNfVElHRVJMQUtFKGRldl9wcml2
KSkKKwkJcmV0dXJuOworCisJdmFsID0gSTkxNV9SRUFEKEVYSVRMSU5FKGNzdGF0ZS0+Y3B1X3Ry
YW5zY29kZXIpKTsKKwl2YWwgJj0gfkVYSVRMSU5FX0VOQUJMRTsKKwlJOTE1X1dSSVRFKEVYSVRM
SU5FKGNzdGF0ZS0+Y3B1X3RyYW5zY29kZXIpLCB2YWwpOworfQorCit2b2lkIHRnbF9lbmFibGVf
cHNyMl90cmFuc2NvZGVyX2V4aXRsaW5lKGNvbnN0IHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpj
c3RhdGUpCit7CisJdTMyIGxpbmV0aW1lX3VzLCB2YWwsIGV4aXRfc2NhbmxpbmVzOworCXUzMiBj
cnRjX3ZkaXNwbGF5ID0gY3N0YXRlLT5iYXNlLmFkanVzdGVkX21vZGUuY3J0Y192ZGlzcGxheTsK
KwlzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYgPSB0b19pOTE1KGNzdGF0ZS0+YmFz
ZS5jcnRjLT5kZXYpOworCisJaWYgKCFJU19USUdFUkxBS0UoZGV2X3ByaXYpKQorCQlyZXR1cm47
CisKKwlsaW5ldGltZV91cyA9IGZpeGVkMTZfdG9fdTMyX3JvdW5kX3VwKGludGVsX2dldF9saW5l
dGltZV91cyhjc3RhdGUpKTsKKwlpZiAoV0FSTl9PTighbGluZXRpbWVfdXMpKQorCQlyZXR1cm47
CisJLyoKKwkgKiBEQzNDTyBFeGl0IHRpbWUgMjAwdXMgQi5TcGVjIDQ5MTk2CisJICogUFNSMiB0
cmFuc2NvZGVyIEVhcmx5IEV4aXQgc2NhbmxpbmVzID0gUk9VTkRVUCgyMDAgLyBsaW5lIHRpbWUp
ICsgMQorCSAqIEV4aXQgbGluZSBldmVudCBuZWVkIHRvIHByb2dyYW0gYWJvdmUgY2FsY3VsYXRl
ZCBzY2FuIGxpbmVzIGJlZm9yZQorCSAqIG5leHQgVkJMQU5LLgorCSAqLworCWV4aXRfc2Nhbmxp
bmVzID0gRElWX1JPVU5EX1VQKDIwMCwgbGluZXRpbWVfdXMpICsgMTsKKwlpZiAoV0FSTl9PTihl
eGl0X3NjYW5saW5lcyA+IGNydGNfdmRpc3BsYXkpKQorCQlyZXR1cm47CisKKwlleGl0X3NjYW5s
aW5lcyA9IGNydGNfdmRpc3BsYXkgLSBleGl0X3NjYW5saW5lczsKKwlleGl0X3NjYW5saW5lcyA8
PD0gRVhJVExJTkVfU0hJRlQ7CisJdmFsID0gSTkxNV9SRUFEKEVYSVRMSU5FKGNzdGF0ZS0+Y3B1
X3RyYW5zY29kZXIpKTsKKwl2YWwgJj0gfihFWElUTElORV9NQVNLIHwgRVhJVExJTkVfRU5BQkxF
KTsKKwl2YWwgfD0gZXhpdF9zY2FubGluZXM7CisJdmFsIHw9IEVYSVRMSU5FX0VOQUJMRTsKKwlJ
OTE1X1dSSVRFKEVYSVRMSU5FKGNzdGF0ZS0+Y3B1X3RyYW5zY29kZXIpLCB2YWwpOworfQorCitz
dGF0aWMgYm9vbCB0Z2xfZGMzY29faXNfZWRwX2Nvbm5lY3RlZChzdHJ1Y3QgaW50ZWxfY3J0Y19z
dGF0ZSAgKmNydGNfc3RhdGUpCit7CisJc3RydWN0IGRybV9hdG9taWNfc3RhdGUgKnN0YXRlID0g
Y3J0Y19zdGF0ZS0+YmFzZS5zdGF0ZTsKKwlzdHJ1Y3QgZHJtX2Nvbm5lY3RvciAqY29ubmVjdG9y
OworCXN0cnVjdCBkcm1fY29ubmVjdG9yX3N0YXRlICpjb25uZWN0b3Jfc3RhdGU7CisJaW50IGk7
CisKKwlmb3JfZWFjaF9uZXdfY29ubmVjdG9yX2luX3N0YXRlKHN0YXRlLCBjb25uZWN0b3IsIGNv
bm5lY3Rvcl9zdGF0ZSwgaSkgeworCQlpZiAoY29ubmVjdG9yLT5zdGF0dXMgPT0gY29ubmVjdG9y
X3N0YXR1c19jb25uZWN0ZWQgJiYKKwkJICAgIGNvbm5lY3Rvci0+Y29ubmVjdG9yX3R5cGUgPT0g
RFJNX01PREVfQ09OTkVDVE9SX2VEUCkgeworCQkJcmV0dXJuIHRydWU7CisJCX0KKwl9CisKKwly
ZXR1cm4gZmFsc2U7Cit9CisKKy8qCisgKiBEQzNDTyByZXF1aXJlcyB0byBlbmFibGUgZXhpdGxp
bmUgYW5kIHByb2dyYW0gREMzQ08gcmVxdWlyZXMKKyAqIGV4aXQgc2NhbmxpbmVzIHRvIFRSQU5T
X0VYSVRMSU5FIHJlZ2lzdGVyLCB3aGljaCBzaG91bGQgb25seQorICogY2hhbmdlIGJlZm9yZSB0
cmFuc2NvZGVyIG9yIHBvcnQgYXJlIGVuYWJsZWQuCisgKiBUaGlzIHJlcXVpcmVzIHRvIGRpc2Fi
bGUgdGhlIGZhc3RzZXQgYXQgYm9vdCBmb3IgZURQIG91dHB1dC4KKyAqLwordm9pZCB0Z2xfZGMz
Y29fY3J0Y19jb21wdXRlX2NvbmZpZyhzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYs
CisJCQkJICAgc3RydWN0IGludGVsX2NydGNfc3RhdGUgKmNydGNfc3RhdGUpCit7CisJaWYgKCFJ
U19USUdFUkxBS0UoZGV2X3ByaXYpKQorCQlyZXR1cm47CisKKwlpZiAoIShkZXZfcHJpdi0+Y3Ny
LmFsbG93ZWRfZGNfbWFzayAmIERDX1NUQVRFX0VOX0RDM0NPKSkKKwkJcmV0dXJuOworCisJZGV2
X3ByaXYtPmNzci5kYzNjb19jcnRjID0gTlVMTDsKKworCWlmIChjcnRjX3N0YXRlLT5oYXNfcHNy
MiAmJiBjcnRjX3N0YXRlLT5iYXNlLmFjdGl2ZSkgeworCQlpZiAodGdsX2RjM2NvX2lzX2VkcF9j
b25uZWN0ZWQoY3J0Y19zdGF0ZSkpIHsKKwkJCWNydGNfc3RhdGUtPmhhc19kYzNjb19leGl0bGlu
ZSA9IHRydWU7CisJCQlkZXZfcHJpdi0+Y3NyLmRjM2NvX2NydGMgPQorCQkJdG9faW50ZWxfY3J0
YyhjcnRjX3N0YXRlLT5iYXNlLmNydGMpOworCQl9CisJfQorfQorCit2b2lkIHRnbF9kYzNjb19j
cnRjX2dldF9jb25maWcoc3RydWN0IGludGVsX2NydGNfc3RhdGUgKmNydGNfc3RhdGUpCit7CisJ
dTMyIHZhbDsKKwlzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYgPSB0b19pOTE1KGNy
dGNfc3RhdGUtPmJhc2UuY3J0Yy0+ZGV2KTsKKworCWlmICghSVNfVElHRVJMQUtFKGRldl9wcml2
KSkKKwkJcmV0dXJuOworCisJaWYgKCEoZGV2X3ByaXYtPmNzci5hbGxvd2VkX2RjX21hc2sgJiBE
Q19TVEFURV9FTl9EQzNDTykpCisJCXJldHVybjsKKworCWlmIChjcnRjX3N0YXRlLT5jcHVfdHJh
bnNjb2RlciA9PSBUUkFOU0NPREVSX0EpIHsKKwkJdmFsID0gSTkxNV9SRUFEKEVYSVRMSU5FKGNy
dGNfc3RhdGUtPmNwdV90cmFuc2NvZGVyKSk7CisJCWlmICh2YWwgJiBFWElUTElORV9FTkFCTEUp
CisJCQljcnRjX3N0YXRlLT5oYXNfZGMzY29fZXhpdGxpbmUgPSB0cnVlOworCQllbHNlCisJCQlj
cnRjX3N0YXRlLT5oYXNfZGMzY29fZXhpdGxpbmUgPSBmYWxzZTsKKwl9Cit9CisKIHN0YXRpYyB2
b2lkIHRnbF9hbGxvd19kYzNjbyhzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYpCiB7
CiAJaWYgKCFkZXZfcHJpdi0+cHNyLnNpbmtfcHNyMl9zdXBwb3J0KQpkaWZmIC0tZ2l0IGEvZHJp
dmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5X3Bvd2VyLmggYi9kcml2ZXJz
L2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXlfcG93ZXIuaAppbmRleCA2OWViZGU5
OTIzNDIuLmQ3N2E1YTUzZjU0MyAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlz
cGxheS9pbnRlbF9kaXNwbGF5X3Bvd2VyLmgKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlz
cGxheS9pbnRlbF9kaXNwbGF5X3Bvd2VyLmgKQEAgLTEyLDYgKzEyLDggQEAKIAogc3RydWN0IGRy
bV9pOTE1X3ByaXZhdGU7CiBzdHJ1Y3QgaW50ZWxfZW5jb2RlcjsKK3N0cnVjdCBpbnRlbF9jcnRj
X3N0YXRlOworc3RydWN0IGludGVsX2F0b21pY19zdGF0ZTsKIAogZW51bSBpbnRlbF9kaXNwbGF5
X3Bvd2VyX2RvbWFpbiB7CiAJUE9XRVJfRE9NQUlOX0RJU1BMQVlfQ09SRSwKQEAgLTI1OSw2ICsy
NjEsMTEgQEAgdm9pZCBpbnRlbF9kaXNwbGF5X3Bvd2VyX3N1c3BlbmQoc3RydWN0IGRybV9pOTE1
X3ByaXZhdGUgKmk5MTUpOwogdm9pZCBpbnRlbF9kaXNwbGF5X3Bvd2VyX3Jlc3VtZShzdHJ1Y3Qg
ZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSk7CiB2b2lkIHRnbF9zZXRfdGFyZ2V0X2RjX3N0YXRlKHN0
cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiwgdTMyIHN0YXRlLAogCQkJICAgICBib29s
IHBzcjJfZGVlcF9zbGVlcCk7Cit2b2lkIHRnbF9kYzNjb19jcnRjX2NvbXB1dGVfY29uZmlnKHN0
cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiwKKwkJCQkgICBzdHJ1Y3QgaW50ZWxfY3J0
Y19zdGF0ZSAqY3J0Y19zdGF0ZSk7Cit2b2lkIHRnbF9kYzNjb19jcnRjX2dldF9jb25maWcoc3Ry
dWN0IGludGVsX2NydGNfc3RhdGUgKmNydGNfc3RhdGUpOwordm9pZCB0Z2xfZGlzYWJsZV9wc3Iy
X3RyYW5zY29kZXJfZXhpdGxpbmUoY29uc3Qgc3RydWN0IGludGVsX2NydGNfc3RhdGUgKnN0YXRl
KTsKK3ZvaWQgdGdsX2VuYWJsZV9wc3IyX3RyYW5zY29kZXJfZXhpdGxpbmUoY29uc3Qgc3RydWN0
IGludGVsX2NydGNfc3RhdGUgKnN0YXRlKTsKIAogY29uc3QgY2hhciAqCiBpbnRlbF9kaXNwbGF5
X3Bvd2VyX2RvbWFpbl9zdHIoZW51bSBpbnRlbF9kaXNwbGF5X3Bvd2VyX2RvbWFpbiBkb21haW4p
OwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5
X3R5cGVzLmggYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXlfdHlw
ZXMuaAppbmRleCBkNWNjNGI4MTBkOWUuLjIyZjhmZTBhMzRkMCAxMDA2NDQKLS0tIGEvZHJpdmVy
cy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5X3R5cGVzLmgKKysrIGIvZHJpdmVy
cy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5X3R5cGVzLmgKQEAgLTg3MSw2ICs4
NzEsNyBAQCBzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSB7CiAKIAlib29sIGhhc19wc3I7CiAJYm9v
bCBoYXNfcHNyMjsKKwlib29sIGhhc19kYzNjb19leGl0bGluZTsKIAogCS8qCiAJICogRnJlcXVl
bmNlIHRoZSBkcGxsIGZvciB0aGUgcG9ydCBzaG91bGQgcnVuIGF0LiBEaWZmZXJzIGZyb20gdGhl
CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2Rydi5oIGIvZHJpdmVycy9n
cHUvZHJtL2k5MTUvaTkxNV9kcnYuaAppbmRleCA5OTlkYTVkMmRhMGIuLjMyMThiMDMxOTg1MiAx
MDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kcnYuaAorKysgYi9kcml2ZXJz
L2dwdS9kcm0vaTkxNS9pOTE1X2Rydi5oCkBAIC0zMzksNiArMzM5LDggQEAgc3RydWN0IGludGVs
X2NzciB7CiAJdTMyIG1heF9kY19zdGF0ZTsKIAl1MzIgYWxsb3dlZF9kY19tYXNrOwogCWludGVs
X3dha2VyZWZfdCB3YWtlcmVmOworCS8qIGNhY2hlIHRoZSBjcnRjIG9uIHdoaWNoIERDM0NPIHdp
bGwgYmUgYWxsb3dlZCAqLworCXN0cnVjdCBpbnRlbF9jcnRjICpkYzNjb19jcnRjOwogfTsKIAog
ZW51bSBpOTE1X2NhY2hlX2xldmVsIHsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1
L2ludGVsX3BtLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9wbS5jCmluZGV4IDUyOGU5
MGVkNWRlNC4uNzM1MmMwY2I4OGQwIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9p
bnRlbF9wbS5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX3BtLmMKQEAgLTQ1ODgs
NyArNDU4OCw3IEBAIHNrbF93bV9tZXRob2QyKHUzMiBwaXhlbF9yYXRlLCB1MzIgcGlwZV9odG90
YWwsIHUzMiBsYXRlbmN5LAogCXJldHVybiByZXQ7CiB9CiAKLXN0YXRpYyB1aW50X2ZpeGVkXzE2
XzE2X3QKK3VpbnRfZml4ZWRfMTZfMTZfdAogaW50ZWxfZ2V0X2xpbmV0aW1lX3VzKGNvbnN0IHN0
cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpjcnRjX3N0YXRlKQogewogCXUzMiBwaXhlbF9yYXRlOwpk
aWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfcG0uaCBiL2RyaXZlcnMvZ3B1
L2RybS9pOTE1L2ludGVsX3BtLmgKaW5kZXggZTM1NzNlMWUxNmUzLi40NTRlOTJjMDZkZmYgMTAw
NjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX3BtLmgKKysrIGIvZHJpdmVycy9n
cHUvZHJtL2k5MTUvaW50ZWxfcG0uaApAQCAtOCw2ICs4LDcgQEAKIAogI2luY2x1ZGUgPGxpbnV4
L3R5cGVzLmg+CiAKKyNpbmNsdWRlICJpOTE1X2Rydi5oIgogI2luY2x1ZGUgImk5MTVfcmVnLmgi
CiAKIHN0cnVjdCBkcm1fZGV2aWNlOwpAQCAtNzYsNiArNzcsNyBAQCB1NjQgaW50ZWxfcmM2X3Jl
c2lkZW5jeV9ucyhzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYsIGk5MTVfcmVnX3Qg
cmVnKTsKIHU2NCBpbnRlbF9yYzZfcmVzaWRlbmN5X3VzKHN0cnVjdCBkcm1faTkxNV9wcml2YXRl
ICpkZXZfcHJpdiwgaTkxNV9yZWdfdCByZWcpOwogCiB1MzIgaW50ZWxfZ2V0X2NhZ2Yoc3RydWN0
IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2LCB1MzIgcnBzdGF0MSk7Cit1aW50X2ZpeGVkXzE2
XzE2X3QgaW50ZWxfZ2V0X2xpbmV0aW1lX3VzKGNvbnN0IHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRl
ICpjc3RhdGUpOwogCiB1bnNpZ25lZCBsb25nIGk5MTVfY2hpcHNldF92YWwoc3RydWN0IGRybV9p
OTE1X3ByaXZhdGUgKmRldl9wcml2KTsKIHVuc2lnbmVkIGxvbmcgaTkxNV9tY2hfdmFsKHN0cnVj
dCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdik7Ci0tIAoyLjIxLjAKCl9fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCkludGVsLWdmeCBtYWlsaW5nIGxpc3QK
SW50ZWwtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9w
Lm9yZy9tYWlsbWFuL2xpc3RpbmZvL2ludGVsLWdmeA==

Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 9CCB039029F
	for <lists+intel-gfx@lfdr.de>; Tue, 25 May 2021 15:37:40 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 7DA3489C96;
	Tue, 25 May 2021 13:37:38 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga09.intel.com (mga09.intel.com [134.134.136.24])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 39E3189C96;
 Tue, 25 May 2021 13:37:37 +0000 (UTC)
IronPort-SDR: nel6YYkeB8QgMioWpFFmwBw6ig84PA3Nln+iJg9+614XeOm2xkjN4/3GqVDJp6B02ACjP7f+w9
 Ti3RyjagcxLg==
X-IronPort-AV: E=McAfee;i="6200,9189,9995"; a="202211187"
X-IronPort-AV: E=Sophos;i="5.82,328,1613462400"; d="scan'208";a="202211187"
Received: from orsmga001.jf.intel.com ([10.7.209.18])
 by orsmga102.jf.intel.com with ESMTP/TLS/ECDHE-RSA-AES256-GCM-SHA384;
 25 May 2021 06:37:32 -0700
IronPort-SDR: oeNNfTENPVKCqm0o3j/YOHMpdcM+XqG/TqNd6otZaGDXbIKwsUs/iRKp25e2WaLNp5U0aVJDXO
 DNZZ1paZhcVw==
X-IronPort-AV: E=Sophos;i="5.82,328,1613462400"; d="scan'208";a="476426302"
Received: from tmuluk-mobl.ger.corp.intel.com ([10.249.254.198])
 by orsmga001-auth.jf.intel.com with ESMTP/TLS/ECDHE-RSA-AES256-GCM-SHA384;
 25 May 2021 06:37:29 -0700
Message-ID: <30dc2d316b643a07babbb3a985b6ff2bbf533345.camel@linux.intel.com>
From: Thomas =?ISO-8859-1?Q?Hellstr=F6m?= <thomas.hellstrom@linux.intel.com>
To: Matthew Auld <matthew.william.auld@gmail.com>
Date: Tue, 25 May 2021 15:37:27 +0200
In-Reply-To: <CAM0jSHO59Kr534HC-i816yRMJ22-XNN-AHwdoSFtK5KBiD99=g@mail.gmail.com>
References: <20210521153253.518037-1-thomas.hellstrom@linux.intel.com>
 <20210521153253.518037-10-thomas.hellstrom@linux.intel.com>
 <CAM0jSHO59Kr534HC-i816yRMJ22-XNN-AHwdoSFtK5KBiD99=g@mail.gmail.com>
User-Agent: Evolution 3.38.4 (3.38.4-1.fc33) 
MIME-Version: 1.0
Subject: Re: [Intel-gfx] [PATCH v3 09/12] drm/ttm: Document and optimize
 ttm_bo_pipeline_gutting()
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: Intel Graphics Development <intel-gfx@lists.freedesktop.org>,
 Christian =?ISO-8859-1?Q?K=F6nig?= <christian.koenig@amd.com>,
 ML dri-devel <dri-devel@lists.freedesktop.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

T24gVHVlLCAyMDIxLTA1LTI1IGF0IDEyOjAwICswMTAwLCBNYXR0aGV3IEF1bGQgd3JvdGU6Cj4g
T24gRnJpLCAyMSBNYXkgMjAyMSBhdCAxNjozMywgVGhvbWFzIEhlbGxzdHLDtm0KPiA8dGhvbWFz
LmhlbGxzdHJvbUBsaW51eC5pbnRlbC5jb20+IHdyb3RlOgo+ID4gCj4gPiBJZiB0aGUgYm8gaXMg
aWRsZSB3aGVuIGNhbGxpbmcgdHRtX2JvX3BpcGVsaW5lX2d1dHRpbmcoKSwgd2UKPiA+IHVubmVj
ZXNzYXJpbHkKPiA+IGNyZWF0ZSBhIGdob3N0IG9iamVjdCBhbmQgcHVzaCBpdCBvdXQgdG8gZGVs
YXllZCBkZXN0cm95Lgo+ID4gRml4IHRoaXMgYnkgYWRkaW5nIGEgcGF0aCBmb3IgaWRsZSwgYW5k
IGRvY3VtZW50IHRoZSBmdW5jdGlvbi4KPiA+IAo+ID4gQWxzbyBhdm9pZCBoYXZpbmcgdGhlIGJv
IGVuZCB1cCBpbiBhIGJhZCBzdGF0ZSB2dWxuZXJhYmxlIHRvIHVzZXItCj4gPiBzcGFjZQo+ID4g
dHJpZ2dlcmVkIGtlcm5lbCBCVUdzIGlmIHRoZSBjYWxsIHRvIHR0bV90dF9jcmVhdGUoKSBmYWls
cy4KPiA+IAo+ID4gRmluYWxseSByZXVzZSB0dG1fYm9fcGlwZWxpbmVfZ3V0dGluZygpIGluIHR0
bV9ib19ldmljdCgpLgo+ID4gCj4gPiBDYzogQ2hyaXN0aWFuIEvDtm5pZyA8Y2hyaXN0aWFuLmtv
ZW5pZ0BhbWQuY29tPgo+ID4gU2lnbmVkLW9mZi1ieTogVGhvbWFzIEhlbGxzdHLDtm0gPHRob21h
cy5oZWxsc3Ryb21AbGludXguaW50ZWwuY29tPgo+ID4gLS0tCj4gPiDCoGRyaXZlcnMvZ3B1L2Ry
bS90dG0vdHRtX2JvLmPCoMKgwqDCoMKgIHwgMjAgKysrKysrLS0tLS0tCj4gPiDCoGRyaXZlcnMv
Z3B1L2RybS90dG0vdHRtX2JvX3V0aWwuYyB8IDUyCj4gPiArKysrKysrKysrKysrKysrKysrKysr
KysrKysrLS0tCj4gPiDCoGRyaXZlcnMvZ3B1L2RybS90dG0vdHRtX3R0LmPCoMKgwqDCoMKgIHzC
oCA1ICsrKwo+ID4gwqBpbmNsdWRlL2RybS90dG0vdHRtX3R0LmjCoMKgwqDCoMKgwqDCoMKgwqAg
fCAxMCArKysrKysKPiA+IMKgNCBmaWxlcyBjaGFuZ2VkLCA3MyBpbnNlcnRpb25zKCspLCAxNCBk
ZWxldGlvbnMoLSkKPiA+IAo+ID4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS90dG0vdHRt
X2JvLmMKPiA+IGIvZHJpdmVycy9ncHUvZHJtL3R0bS90dG1fYm8uYwo+ID4gaW5kZXggY2ExYjA5
OGI2YTU2Li5hOGZhMzM3NWI4YWEgMTAwNjQ0Cj4gPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vdHRt
L3R0bV9iby5jCj4gPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vdHRtL3R0bV9iby5jCj4gPiBAQCAt
NTAxLDEwICs1MDEsMTUgQEAgc3RhdGljIGludCB0dG1fYm9fZXZpY3Qoc3RydWN0Cj4gPiB0dG1f
YnVmZmVyX29iamVjdCAqYm8sCj4gPiDCoMKgwqDCoMKgwqDCoCBiZGV2LT5mdW5jcy0+ZXZpY3Rf
ZmxhZ3MoYm8sICZwbGFjZW1lbnQpOwo+ID4gCj4gPiDCoMKgwqDCoMKgwqDCoCBpZiAoIXBsYWNl
bWVudC5udW1fcGxhY2VtZW50ICYmCj4gPiAhcGxhY2VtZW50Lm51bV9idXN5X3BsYWNlbWVudCkg
ewo+ID4gLcKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqAgdHRtX2JvX3dhaXQoYm8sIGZhbHNl
LCBmYWxzZSk7Cj4gPiArwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoCByZXQgPSB0dG1fYm9f
d2FpdChibywgdHJ1ZSwgZmFsc2UpOwo+ID4gK8KgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqAg
aWYgKHJldCkKPiA+ICvCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDC
oCByZXR1cm4gcmV0Owo+ID4gCj4gPiAtwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoCB0dG1f
Ym9fY2xlYW51cF9tZW10eXBlX3VzZShibyk7Cj4gPiAtwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKg
wqDCoCByZXR1cm4gdHRtX3R0X2NyZWF0ZShibywgZmFsc2UpOwo+ID4gK8KgwqDCoMKgwqDCoMKg
wqDCoMKgwqDCoMKgwqAgLyoKPiA+ICvCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqAgKiBT
aW5jZSB3ZSd2ZSBhbHJlYWR5IHN5bmNlZCwgdGhpcyBmcmVlcyBiYWNraW5nCj4gPiBzdG9yZQo+
ID4gK8KgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoCAqIGltbWVkaWF0ZWx5Lgo+ID4gK8Kg
wqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoCAqLwo+ID4gK8KgwqDCoMKgwqDCoMKgwqDCoMKg
wqDCoMKgwqAgcmV0dXJuIHR0bV9ib19waXBlbGluZV9ndXR0aW5nKGJvKTsKPiA+IMKgwqDCoMKg
wqDCoMKgIH0KPiA+IAo+ID4gwqDCoMKgwqDCoMKgwqAgcmV0ID0gdHRtX2JvX21lbV9zcGFjZShi
bywgJnBsYWNlbWVudCwgJmV2aWN0X21lbSwgY3R4KTsKPiA+IEBAIC05NzQsMTMgKzk3OSw4IEBA
IGludCB0dG1fYm9fdmFsaWRhdGUoc3RydWN0IHR0bV9idWZmZXJfb2JqZWN0Cj4gPiAqYm8sCj4g
PiDCoMKgwqDCoMKgwqDCoCAvKgo+ID4gwqDCoMKgwqDCoMKgwqDCoCAqIFJlbW92ZSB0aGUgYmFj
a2luZyBzdG9yZSBpZiBubyBwbGFjZW1lbnQgaXMgZ2l2ZW4uCj4gPiDCoMKgwqDCoMKgwqDCoMKg
ICovCj4gPiAtwqDCoMKgwqDCoMKgIGlmICghcGxhY2VtZW50LT5udW1fcGxhY2VtZW50ICYmICFw
bGFjZW1lbnQtCj4gPiA+bnVtX2J1c3lfcGxhY2VtZW50KSB7Cj4gPiAtwqDCoMKgwqDCoMKgwqDC
oMKgwqDCoMKgwqDCoCByZXQgPSB0dG1fYm9fcGlwZWxpbmVfZ3V0dGluZyhibyk7Cj4gPiAtwqDC
oMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoCBpZiAocmV0KQo+ID4gLcKgwqDCoMKgwqDCoMKgwqDC
oMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgIHJldHVybiByZXQ7Cj4gPiAtCj4gPiAtwqDCoMKg
wqDCoMKgwqDCoMKgwqDCoMKgwqDCoCByZXR1cm4gdHRtX3R0X2NyZWF0ZShibywgZmFsc2UpOwo+
ID4gLcKgwqDCoMKgwqDCoCB9Cj4gPiArwqDCoMKgwqDCoMKgIGlmICghcGxhY2VtZW50LT5udW1f
cGxhY2VtZW50ICYmICFwbGFjZW1lbnQtCj4gPiA+bnVtX2J1c3lfcGxhY2VtZW50KQo+ID4gK8Kg
wqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqAgcmV0dXJuIHR0bV9ib19waXBlbGluZV9ndXR0aW5n
KGJvKTsKPiA+IAo+ID4gwqDCoMKgwqDCoMKgwqAgLyoKPiA+IMKgwqDCoMKgwqDCoMKgwqAgKiBD
aGVjayB3aGV0aGVyIHdlIG5lZWQgdG8gbW92ZSBidWZmZXIuCj4gPiBkaWZmIC0tZ2l0IGEvZHJp
dmVycy9ncHUvZHJtL3R0bS90dG1fYm9fdXRpbC5jCj4gPiBiL2RyaXZlcnMvZ3B1L2RybS90dG0v
dHRtX2JvX3V0aWwuYwo+ID4gaW5kZXggNGE3ZDNkNjcyZjlhLi43ZmE5YjNhODUyZWIgMTAwNjQ0
Cj4gPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vdHRtL3R0bV9ib191dGlsLmMKPiA+ICsrKyBiL2Ry
aXZlcnMvZ3B1L2RybS90dG0vdHRtX2JvX3V0aWwuYwo+ID4gQEAgLTU4NSwyNiArNTg1LDcwIEBA
IGludCB0dG1fYm9fbW92ZV9hY2NlbF9jbGVhbnVwKHN0cnVjdAo+ID4gdHRtX2J1ZmZlcl9vYmpl
Y3QgKmJvLAo+ID4gwqB9Cj4gPiDCoEVYUE9SVF9TWU1CT0wodHRtX2JvX21vdmVfYWNjZWxfY2xl
YW51cCk7Cj4gPiAKPiA+ICsvKioKPiA+ICsgKiB0dG1fYm9fcGlwZWxpbmVfZ3V0dGluZyAtIHB1
cmdlIHRoZSBjb250ZW50cyBvZiBhIGJvCj4gPiArICogQGJvOiBUaGUgYnVmZmVyIG9iamVjdAo+
ID4gKyAqCj4gPiArICogUHVyZ2UgdGhlIGNvbnRlbnRzIG9mIGEgYm8sIGFzeW5jIGlmIHRoZSBi
byBpcyBub3QgaWRsZS4KPiA+ICsgKiBBZnRlciBhIHN1Y2Nlc3NmdWwgY2FsbCwgdGhlIGJvIGlz
IGxlZnQgdW5wb3B1bGF0ZWQgaW4KPiA+ICsgKiBzeXN0ZW0gcGxhY2VtZW50LiBUaGUgZnVuY3Rp
b24gbWF5IHdhaXQgdW5pbnRlcnJ1cHRpYmxlCj4gPiArICogZm9yIGlkbGUgb24gT09NLgo+ID4g
KyAqCj4gPiArICogUmV0dXJuOiAwIGlmIHN1Y2Nlc3NmdWwsIG5lZ2F0aXZlIGVycm9yIGNvZGUg
b24gZmFpbHVyZS4KPiA+ICsgKi8KPiA+IMKgaW50IHR0bV9ib19waXBlbGluZV9ndXR0aW5nKHN0
cnVjdCB0dG1fYnVmZmVyX29iamVjdCAqYm8pCj4gPiDCoHsKPiA+IMKgwqDCoMKgwqDCoMKgIHN0
YXRpYyBjb25zdCBzdHJ1Y3QgdHRtX3BsYWNlIHN5c19tZW0gPSB7IC5tZW1fdHlwZSA9Cj4gPiBU
VE1fUExfU1lTVEVNIH07Cj4gPiDCoMKgwqDCoMKgwqDCoCBzdHJ1Y3QgdHRtX2J1ZmZlcl9vYmpl
Y3QgKmdob3N0Owo+ID4gK8KgwqDCoMKgwqDCoCBzdHJ1Y3QgdHRtX3R0ICp0dG07Cj4gPiDCoMKg
wqDCoMKgwqDCoCBpbnQgcmV0Owo+ID4gCj4gPiAtwqDCoMKgwqDCoMKgIHJldCA9IHR0bV9idWZm
ZXJfb2JqZWN0X3RyYW5zZmVyKGJvLCAmZ2hvc3QpOwo+ID4gK8KgwqDCoMKgwqDCoCAvKiBJZiBh
bHJlYWR5IGlkbGUsIG5vIG5lZWQgZm9yIGdob3N0IG9iamVjdCBkYW5jZS4gKi8KPiA+ICvCoMKg
wqDCoMKgwqAgcmV0ID0gdHRtX2JvX3dhaXQoYm8sIGZhbHNlLCB0cnVlKTsKPiA+ICvCoMKgwqDC
oMKgwqAgaWYgKHJldCAhPSAtRUJVU1kpIHsKPiA+ICvCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDC
oMKgIGlmICghYm8tPnR0bSkgewo+ID4gK8KgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKg
wqDCoMKgwqDCoMKgIHJldCA9IHR0bV90dF9jcmVhdGUoYm8sIHRydWUpOwo+IAo+IFdoeSBkbyB3
ZSBub3cgdW5jb25kaXRpb25hbGx5IGFkZCBjbGVhcmluZz8gQmVsb3cgYWxzby4KCkhlcmUgd2Un
dmUgZHJvcHBlZCB0aGUgYm8gY29udGVudCBhbmQgd2UgYWRkIGJ1dCBkbyBub3QgcG9wdWxhdGUg
YSBwYWdlCnZlY3Rvci4gTm93IGlmIHNvbWVvbmUgcmVzdXJyZWN0cyB0aGlzIG9iamVjdCB3ZSBv
YnRhaW4gbmV3IHBhZ2VzIGFuZAp0aG9zZSBtdXN0IGJlIGNsZWFyZWQsIGF0IGxlYXN0IHRoYXQn
cyB0aGUgaW50ZW50aW9uLgoKL1Rob21hcwoKCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fXwpJbnRlbC1nZnggbWFpbGluZyBsaXN0CkludGVsLWdmeEBsaXN0
cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9s
aXN0aW5mby9pbnRlbC1nZngK

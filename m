Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 468ED11595E
	for <lists+intel-gfx@lfdr.de>; Fri,  6 Dec 2019 23:37:41 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 68E9E6FA9D;
	Fri,  6 Dec 2019 22:37:39 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga04.intel.com (mga04.intel.com [192.55.52.120])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 2490B89D4D
 for <intel-gfx@lists.freedesktop.org>; Fri,  6 Dec 2019 22:37:38 +0000 (UTC)
X-Amp-Result: UNKNOWN
X-Amp-Original-Verdict: FILE UNKNOWN
X-Amp-File-Uploaded: False
Received: from fmsmga008.fm.intel.com ([10.253.24.58])
 by fmsmga104.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 06 Dec 2019 14:37:16 -0800
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.69,286,1571727600"; d="scan'208";a="209558501"
Received: from mdroper-desk1.amr.corp.intel.com ([10.1.27.64])
 by fmsmga008.fm.intel.com with ESMTP; 06 Dec 2019 14:37:16 -0800
Date: Fri, 6 Dec 2019 14:37:15 -0800
From: Matt Roper <matthew.d.roper@intel.com>
To: "Souza, Jose" <jose.souza@intel.com>
Message-ID: <20191206223715.GC5351@mdroper-desk1.amr.corp.intel.com>
References: <20191205210350.96795-1-jose.souza@intel.com>
 <20191205210350.96795-3-jose.souza@intel.com>
 <20191206222208.GA5351@mdroper-desk1.amr.corp.intel.com>
 <8b666978070d1add26781f144c37c737e1ca7760.camel@intel.com>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <8b666978070d1add26781f144c37c737e1ca7760.camel@intel.com>
User-Agent: Mutt/1.12.1 (2019-06-15)
Subject: Re: [Intel-gfx] [PATCH v4 3/3] drm/i915/display: Refactor
 intel_commit_modeset_disables()
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: "De Marchi, Lucas" <lucas.demarchi@intel.com>,
 "intel-gfx@lists.freedesktop.org" <intel-gfx@lists.freedesktop.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

T24gRnJpLCBEZWMgMDYsIDIwMTkgYXQgMDI6MzU6MzhQTSAtMDgwMCwgU291emEsIEpvc2Ugd3Jv
dGU6Cj4gT24gRnJpLCAyMDE5LTEyLTA2IGF0IDE0OjIyIC0wODAwLCBNYXR0IFJvcGVyIHdyb3Rl
Ogo+ID4gT24gVGh1LCBEZWMgMDUsIDIwMTkgYXQgMDE6MDM6NTBQTSAtMDgwMCwgSm9zw6kgUm9i
ZXJ0byBkZSBTb3V6YQo+ID4gd3JvdGU6Cj4gPiA+IENvbW1pdCA5YzcyMmUxN2MxYjkgKCJkcm0v
aTkxNTogRGlzYWJsZSBwaXBlcyBpbiByZXZlcnNlIG9yZGVyIikKPiA+ID4gcmV2ZXJ0ZWQgdGhl
IG9yZGVyIHRoYXQgcGlwZXMgZ2V0cyBkaXNhYmxlZCBiZWNhdXNlIG9mIFRHTAo+ID4gPiBtYXN0
ZXIvc2xhdmUgcmVsYXRpb25zaGlwIGJldHdlZW4gdHJhbnNjb2RlcnMgaW4gTVNUIG1vZGUuCj4g
PiA+IAo+ID4gPiBCdXQgYXMgc3RhdGVkIGluIGEgY29tbWVudCBpbiBza2xfY29tbWl0X21vZGVz
ZXRfZW5hYmxlcygpIHRoZQo+ID4gPiBlbmFibGluZyBvcmRlciBpcyBub3QgYWx3YXlzIGNyZXNj
ZW50LCBwb3NzaWJseSBjYXVzaW5nIHByZXZpb3VzbHkKPiA+ID4gc2VsZWN0ZWQgc2xhdmUgdHJh
bnNjb2RlciBiZWluZyBlbmFibGVkIGJlZm9yZSBtYXN0ZXIgc28gYW5vdGhlcgo+ID4gPiBhcHBy
b2FjaCB3aWxsIGJlIG5lZWRlZCB0byBzZWxlY3QgYSB0cmFuc2NvZGVyIHRvIG1hc3RlciBpbiBN
U1QKPiA+ID4gbW9kZS4KPiA+ID4gSXQgd2lsbCBiZSBzaW1pbGFyIHRvIHRoZSBhcHByb2FjaCB0
YWtlbiBpbiBwb3J0IHN5bmMuCj4gPiA+IAo+ID4gPiBCdXQgaW5zdGVhZCBvZiBpbXBsZW1lbnQg
c29tZXRoaW5nIGxpa2UKPiA+ID4gaW50ZWxfdHJhbnNfcG9ydF9zeW5jX21vZGVzZXRfZGlzYWJs
ZXMoKSB0byBNU1QgbGV0cyBzaW1wbHkgaXQgYW5kCj4gPiA+IGl0ZXJhdGUgb3ZlciBhbGwgcGlw
ZXMgMiB0aW1lcywgdGhlIGZpcnN0IG9uZSBkaXNhYmxpbmcgYW55IHNsYXZlCj4gPiA+IGFuZAo+
ID4gPiB0aGVuIGRpc2FibGluZyBldmVyeXRoaW5nIGVsc2UuCj4gPiA+IFRoZSBNU1QgYml0cyB3
aWxsIGJlIGFkZGVkIGluIGFub3RoZXIgcGF0Y2guCj4gPiA+IAo+ID4gPiB2MjoKPiA+ID4gTm90
IHVzaW5nIGNydGMtPmFjdGl2ZSBhcyBpdCBpcyBkZXByZWNhdGVkCj4gPiA+IAo+ID4gPiB2MzoK
PiA+ID4gUmVtb3ZpbmcgaXNfdHJhbnNfcG9ydF9zeW5jX21vZGUoKSBjaGVjaywganVzdCBjaGVj
ayBmb3IKPiA+ID4gaXNfdHJhbnNfcG9ydF9zeW5jX21hc3RlcigpIGlzIGVub3VnaAo+ID4gPiAK
PiA+ID4gdjQ6Cj4gPiA+IEFkZGluZyBhbmQgdXNpbmcgaXNfdHJhbnNfcG9ydF9zeW5jX3NsYXZl
KCksIG90aGVyd2lzZSBub24tcG9ydAo+ID4gPiBzeW5jCj4gPiA+IHBpcGVzIHdpbGwgYmUgZGlz
YWJsZWQgaW4gdGhlIGZpcnN0IGxvb3AsIHdoYXQgaXMgbm90IHdyb25nIGJ1dCBpcwo+ID4gPiBu
b3Qgd2hhdCBwYXRjaCBkZXNjcmlwdGlvbiBwcm9taXNlcwo+ID4gPiAKPiA+ID4gQ2M6IEx1Y2Fz
IERlIE1hcmNoaSA8bHVjYXMuZGVtYXJjaGlAaW50ZWwuY29tPgo+ID4gPiBDYzogTWFuYXNpIE5h
dmFyZSA8bWFuYXNpLmQubmF2YXJlQGludGVsLmNvbT4KPiA+ID4gQ2M6IE1hdHQgUm9wZXIgPG1h
dHRoZXcuZC5yb3BlckBpbnRlbC5jb20+Cj4gPiA+IENjOiBNYWFydGVuIExhbmtob3JzdCA8bWFh
cnRlbi5sYW5raG9yc3RAbGludXguaW50ZWwuY29tPgo+ID4gPiBDYzogVmlsbGUgU3lyasOkbMOk
IDx2aWxsZS5zeXJqYWxhQGxpbnV4LmludGVsLmNvbT4KPiA+ID4gUmV2aWV3ZWQtYnk6IFZpbGxl
IFN5cmrDpGzDpCA8dmlsbGUuc3lyamFsYUBsaW51eC5pbnRlbC5jb20+ICh2MikKPiA+ID4gU2ln
bmVkLW9mZi1ieTogSm9zw6kgUm9iZXJ0byBkZSBTb3V6YSA8am9zZS5zb3V6YUBpbnRlbC5jb20+
Cj4gPiA+IC0tLQo+ID4gPiAgZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNw
bGF5LmMgfCA4OCArKysrKysrLS0tLS0tLS0tCj4gPiA+IC0tLS0KPiA+ID4gIDEgZmlsZSBjaGFu
Z2VkLCAzMiBpbnNlcnRpb25zKCspLCA1NiBkZWxldGlvbnMoLSkKPiA+ID4gCj4gPiA+IGRpZmYg
LS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXkuYwo+ID4g
PiBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheS5jCj4gPiA+IGlu
ZGV4IDY4NTc1NDU3ZDQwZS4uODIxYmE4MDUzZjlkIDEwMDY0NAo+ID4gPiAtLS0gYS9kcml2ZXJz
L2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXkuYwo+ID4gPiArKysgYi9kcml2ZXJz
L2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXkuYwo+ID4gPiBAQCAtNTYxLDYgKzU2
MSwxMiBAQCBpc190cmFuc19wb3J0X3N5bmNfbWFzdGVyKGNvbnN0IHN0cnVjdAo+ID4gPiBpbnRl
bF9jcnRjX3N0YXRlICpjcnRjX3N0YXRlKQo+ID4gPiAgCQljcnRjX3N0YXRlLT5zeW5jX21vZGVf
c2xhdmVzX21hc2spOwo+ID4gPiAgfQo+ID4gPiAgCj4gPiA+ICtzdGF0aWMgYm9vbAo+ID4gPiAr
aXNfdHJhbnNfcG9ydF9zeW5jX3NsYXZlKGNvbnN0IHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlCj4g
PiA+ICpjcnRjX3N0YXRlKQo+ID4gPiArewo+ID4gPiArCXJldHVybiBjcnRjX3N0YXRlLT5tYXN0
ZXJfdHJhbnNjb2RlciAhPSBJTlZBTElEX1RSQU5TQ09ERVI7Cj4gPiA+ICt9Cj4gPiA+ICsKPiA+
ID4gIC8qCj4gPiA+ICAgKiBQbGF0Zm9ybSBzcGVjaWZpYyBoZWxwZXJzIHRvIGNhbGN1bGF0ZSB0
aGUgcG9ydCBQTEwgbG9vcGJhY2stCj4gPiA+IChjbG9jay5tKSwKPiA+ID4gICAqIGFuZCBwb3N0
LWRpdmlkZXIgKGNsb2NrLnApIHZhbHVlcywgcHJlLSAoY2xvY2sudmNvKSBhbmQgcG9zdC0KPiA+
ID4gZGl2aWRlZCBmYXN0Cj4gPiA+IEBAIC0xNDM5Myw3NyArMTQzOTksNDcgQEAgc3RhdGljIHZv
aWQKPiA+ID4gaW50ZWxfb2xkX2NydGNfc3RhdGVfZGlzYWJsZXMoc3RydWN0IGludGVsX2F0b21p
Y19zdGF0ZSAqc3RhdGUsCj4gPiA+ICAJCWRldl9wcml2LT5kaXNwbGF5LmluaXRpYWxfd2F0ZXJt
YXJrcyhzdGF0ZSwgY3J0Yyk7Cj4gPiA+ICB9Cj4gPiA+ICAKPiA+ID4gLXN0YXRpYyB2b2lkIGlu
dGVsX3RyYW5zX3BvcnRfc3luY19tb2Rlc2V0X2Rpc2FibGVzKHN0cnVjdAo+ID4gPiBpbnRlbF9h
dG9taWNfc3RhdGUgKnN0YXRlLAo+ID4gPiAtCQkJCQkJICAgc3RydWN0IGludGVsX2NydGMKPiA+
ID4gKmNydGMsCj4gPiA+IC0JCQkJCQkgICBzdHJ1Y3QKPiA+ID4gaW50ZWxfY3J0Y19zdGF0ZSAq
b2xkX2NydGNfc3RhdGUsCj4gPiA+IC0JCQkJCQkgICBzdHJ1Y3QKPiA+ID4gaW50ZWxfY3J0Y19z
dGF0ZSAqbmV3X2NydGNfc3RhdGUpCj4gPiA+IC17Cj4gPiA+IC0Jc3RydWN0IGludGVsX2NydGMg
KnNsYXZlX2NydGMgPQo+ID4gPiBpbnRlbF9nZXRfc2xhdmVfY3J0YyhuZXdfY3J0Y19zdGF0ZSk7
Cj4gPiA+IC0Jc3RydWN0IGludGVsX2NydGNfc3RhdGUgKm5ld19zbGF2ZV9jcnRjX3N0YXRlID0K
PiA+ID4gLQkJaW50ZWxfYXRvbWljX2dldF9uZXdfY3J0Y19zdGF0ZShzdGF0ZSwgc2xhdmVfY3J0
Yyk7Cj4gPiA+IC0Jc3RydWN0IGludGVsX2NydGNfc3RhdGUgKm9sZF9zbGF2ZV9jcnRjX3N0YXRl
ID0KPiA+ID4gLQkJaW50ZWxfYXRvbWljX2dldF9vbGRfY3J0Y19zdGF0ZShzdGF0ZSwgc2xhdmVf
Y3J0Yyk7Cj4gPiA+IC0KPiA+ID4gLQlXQVJOX09OKCFzbGF2ZV9jcnRjIHx8ICFuZXdfc2xhdmVf
Y3J0Y19zdGF0ZSB8fAo+ID4gPiAtCQkhb2xkX3NsYXZlX2NydGNfc3RhdGUpOwo+ID4gPiAtCj4g
PiA+IC0JLyogRGlzYWJsZSBTbGF2ZSBmaXJzdCAqLwo+ID4gPiAtCWludGVsX3ByZV9wbGFuZV91
cGRhdGUoc3RhdGUsIHNsYXZlX2NydGMpOwo+ID4gPiAtCWlmIChvbGRfc2xhdmVfY3J0Y19zdGF0
ZS0+aHcuYWN0aXZlKQo+ID4gPiAtCQlpbnRlbF9vbGRfY3J0Y19zdGF0ZV9kaXNhYmxlcyhzdGF0
ZSwKPiA+ID4gLQkJCQkJICAgICAgb2xkX3NsYXZlX2NydGNfc3RhdGUsCj4gPiA+IC0JCQkJCSAg
ICAgIG5ld19zbGF2ZV9jcnRjX3N0YXRlLAo+ID4gPiAtCQkJCQkgICAgICBzbGF2ZV9jcnRjKTsK
PiA+ID4gLQo+ID4gPiAtCS8qIERpc2FibGUgTWFzdGVyICovCj4gPiA+IC0JaW50ZWxfcHJlX3Bs
YW5lX3VwZGF0ZShzdGF0ZSwgY3J0Yyk7Cj4gPiA+IC0JaWYgKG9sZF9jcnRjX3N0YXRlLT5ody5h
Y3RpdmUpCj4gPiA+IC0JCWludGVsX29sZF9jcnRjX3N0YXRlX2Rpc2FibGVzKHN0YXRlLAo+ID4g
PiAtCQkJCQkgICAgICBvbGRfY3J0Y19zdGF0ZSwKPiA+ID4gLQkJCQkJICAgICAgbmV3X2NydGNf
c3RhdGUsCj4gPiA+IC0JCQkJCSAgICAgIGNydGMpOwo+ID4gPiAtfQo+ID4gPiAtCj4gPiA+ICBz
dGF0aWMgdm9pZCBpbnRlbF9jb21taXRfbW9kZXNldF9kaXNhYmxlcyhzdHJ1Y3QKPiA+ID4gaW50
ZWxfYXRvbWljX3N0YXRlICpzdGF0ZSkKPiA+ID4gIHsKPiA+ID4gIAlzdHJ1Y3QgaW50ZWxfY3J0
Y19zdGF0ZSAqbmV3X2NydGNfc3RhdGUsICpvbGRfY3J0Y19zdGF0ZTsKPiA+ID4gIAlzdHJ1Y3Qg
aW50ZWxfY3J0YyAqY3J0YzsKPiA+ID4gKwl1MzIgaGFuZGxlZCA9IDA7Cj4gPiA+ICAJaW50IGk7
Cj4gPiA+ICAKPiA+ID4gLQkvKgo+ID4gPiAtCSAqIERpc2FibGUgQ1JUQy9waXBlcyBpbiByZXZl
cnNlIG9yZGVyIGJlY2F1c2Ugc29tZQo+ID4gPiBmZWF0dXJlcyhNU1QgaW4KPiA+ID4gLQkgKiBU
R0wrKSByZXF1aXJlcyBtYXN0ZXIgYW5kIHNsYXZlIHJlbGF0aW9uc2hpcCBiZXR3ZWVuIHBpcGVz
LAo+ID4gPiBzbyBpdAo+ID4gPiAtCSAqIHNob3VsZCBhbHdheXMgcGljayB0aGUgbG93ZXN0IHBp
cGUgYXMgbWFzdGVyIGFzIGl0IHdpbGwgYmUKPiA+ID4gZW5hYmxlZAo+ID4gPiAtCSAqIGZpcnN0
IGFuZCBkaXNhYmxlIGluIHRoZSByZXZlcnNlIG9yZGVyIHNvIHRoZSBtYXN0ZXIgd2lsbCBiZQo+
ID4gPiB0aGUKPiA+ID4gLQkgKiBsYXN0IG9uZSB0byBiZSBkaXNhYmxlZC4KPiA+ID4gLQkgKi8K
PiA+ID4gLQlmb3JfZWFjaF9vbGRuZXdfaW50ZWxfY3J0Y19pbl9zdGF0ZV9yZXZlcnNlKHN0YXRl
LCBjcnRjLAo+ID4gPiBvbGRfY3J0Y19zdGF0ZSwKPiA+ID4gLQkJCQkJCSAgICBuZXdfY3J0Y19z
dGF0ZSwgaSkKPiA+ID4gewo+ID4gPiArCS8qIE9ubHkgZGlzYWJsZSBwb3J0IHN5bmMgc2xhdmVz
ICovCj4gPiA+ICsJZm9yX2VhY2hfb2xkbmV3X2ludGVsX2NydGNfaW5fc3RhdGUoc3RhdGUsIGNy
dGMsCj4gPiA+IG9sZF9jcnRjX3N0YXRlLAo+ID4gPiArCQkJCQkgICAgbmV3X2NydGNfc3RhdGUs
IGkpIHsKPiA+ID4gIAkJaWYgKCFuZWVkc19tb2Rlc2V0KG5ld19jcnRjX3N0YXRlKSkKPiA+ID4g
IAkJCWNvbnRpbnVlOwo+ID4gPiAgCj4gPiA+ICsJCWlmICghb2xkX2NydGNfc3RhdGUtPmh3LmFj
dGl2ZSkKPiA+ID4gKwkJCWNvbnRpbnVlOwo+ID4gCj4gPiBJcyBpdCBpbnRlbnRpb25hbCB0aGF0
IHdlIHNraXAgdGhlIGludGVsX3ByZV9wbGFuZV91cGRhdGUoKSBpbiB0aGlzCj4gPiBjYXNlCj4g
PiBmb3IgdGhlIHNsYXZlcywgYnV0IG5vdCB0aGUgbWFzdGVycz8gIFNob3VsZCB0aGlzIHRlc3Qg
YmUgbW92ZWQKPiA+IGZhcnRoZXIKPiA+IGRvd24gYmVsb3cgdGhlIHByZV9wbGFuZV91cGRhdGUg
Y2FsbD8KPiAKPiBJZiBpdCB3YXMgaW5hdGl2ZSBpdCBpcyBub3QgYSBwb3J0IHN5bmMgc2xhdmUs
IGZvciB0aGUgcGlwZXMgZ29pbmcgZnJvbQo+IGRpc2FibGVkIHRvIGVuYWJsZWQgaW4gcG9ydCBz
eW5jIHNsYXZlIG1vZGUgdGhlIHByZV9wbGFuZV91cGRhdGUoKSB3aWxsCj4gYmUgZXhlY3V0ZWQg
aW4gdGhlIHNlY29uZCBsb29wLgo+IAo+IFRoaXMgaXMgbW9yZSBvZiBhbiBvcHRpbWl6YXRpb24g
dG8gbm90IGV2ZW4gY2hlY2sgaWYgaXMgcG9ydCBzeW5jIHNsYXZlCj4gYW5kIGluIGZ1dHVyZSBp
ZiBpcyBNU1Qgc2xhdmUuCj4gCj4gSSBoYWQgYSBjb21tZW50IGhlcmUgYnV0IFZpbGxlIGFza2Vk
IHRvIHJlbW92ZSBpdC4gCj4gaHR0cHM6Ly9wYXRjaHdvcmsuZnJlZWRlc2t0b3Aub3JnL3BhdGNo
LzM0MzczNi8/c2VyaWVzPTcwNDYyJnJldj0yCgpNYWtlcyBzZW5zZSwgdGhhbmtzIGZvciBjbGFy
aWZ5aW5nLgoKUmV2aWV3ZWQtYnk6IE1hdHQgUm9wZXIgPG1hdHRoZXcuZC5yb3BlckBpbnRlbC5j
b20+Cgo+IAo+ID4gCj4gPiAKPiA+IE1hdHQKPiA+IAo+ID4gPiArCj4gPiA+ICAJCS8qIEluIGNh
c2Ugb2YgVHJhbnNjb2RlciBwb3J0IFN5bmMgbWFzdGVyIHNsYXZlIENSVENzCj4gPiA+IGNhbiBi
ZQo+ID4gPiAgCQkgKiBhc3NpZ25lZCBpbiBhbnkgb3JkZXIgYW5kIHdlIG5lZWQgdG8gbWFrZSBz
dXJlIHRoYXQKPiA+ID4gIAkJICogc2xhdmUgQ1JUQ3MgYXJlIGRpc2FibGVkIGZpcnN0IGFuZCB0
aGVuIG1hc3RlciBDUlRDCj4gPiA+IHNpbmNlCj4gPiA+ICAJCSAqIFNsYXZlIHZibGFua3MgYXJl
IG1hc2tlZCB0aWxsIE1hc3RlciBWYmxhbmtzLgo+ID4gPiAgCQkgKi8KPiA+ID4gLQkJaWYgKGlz
X3RyYW5zX3BvcnRfc3luY19tb2RlKG9sZF9jcnRjX3N0YXRlKSkgewo+ID4gPiAtCQkJaWYgKGlz
X3RyYW5zX3BvcnRfc3luY19tYXN0ZXIob2xkX2NydGNfc3RhdGUpKQo+ID4gPiAtCQkJCWludGVs
X3RyYW5zX3BvcnRfc3luY19tb2Rlc2V0X2Rpc2FibGVzKAo+ID4gPiBzdGF0ZSwKPiA+ID4gLQkJ
CQkJCQkJICAgICAgIAo+ID4gPiBjcnRjLAo+ID4gPiAtCQkJCQkJCQkgICAgICAgCj4gPiA+IG9s
ZF9jcnRjX3N0YXRlLAo+ID4gPiAtCQkJCQkJCQkgICAgICAgCj4gPiA+IG5ld19jcnRjX3N0YXRl
KTsKPiA+ID4gLQkJCWVsc2UKPiA+ID4gLQkJCQljb250aW51ZTsKPiA+ID4gLQkJfSBlbHNlIHsK
PiA+ID4gLQkJCWludGVsX3ByZV9wbGFuZV91cGRhdGUoc3RhdGUsIGNydGMpOwo+ID4gPiArCQlp
ZiAoIWlzX3RyYW5zX3BvcnRfc3luY19zbGF2ZShvbGRfY3J0Y19zdGF0ZSkpCj4gPiA+ICsJCQlj
b250aW51ZTsKPiA+ID4gIAo+ID4gPiAtCQkJaWYgKG9sZF9jcnRjX3N0YXRlLT5ody5hY3RpdmUp
Cj4gPiA+IC0JCQkJaW50ZWxfb2xkX2NydGNfc3RhdGVfZGlzYWJsZXMoc3RhdGUsCj4gPiA+IC0J
CQkJCQkJICAgICAgb2xkX2NydGNfCj4gPiA+IHN0YXRlLAo+ID4gPiAtCQkJCQkJCSAgICAgIG5l
d19jcnRjXwo+ID4gPiBzdGF0ZSwKPiA+ID4gLQkJCQkJCQkgICAgICBjcnRjKTsKPiA+ID4gLQkJ
fQo+ID4gPiArCQlpbnRlbF9wcmVfcGxhbmVfdXBkYXRlKHN0YXRlLCBjcnRjKTsKPiA+ID4gKwkJ
aW50ZWxfb2xkX2NydGNfc3RhdGVfZGlzYWJsZXMoc3RhdGUsIG9sZF9jcnRjX3N0YXRlLAo+ID4g
PiArCQkJCQkgICAgICBuZXdfY3J0Y19zdGF0ZSwgY3J0Yyk7Cj4gPiA+ICsJCWhhbmRsZWQgfD0g
QklUKGNydGMtPnBpcGUpOwo+ID4gPiArCX0KPiA+ID4gKwo+ID4gPiArCS8qIERpc2FibGUgZXZl
cnl0aGluZyBlbHNlIGxlZnQgb24gKi8KPiA+ID4gKwlmb3JfZWFjaF9vbGRuZXdfaW50ZWxfY3J0
Y19pbl9zdGF0ZShzdGF0ZSwgY3J0YywKPiA+ID4gb2xkX2NydGNfc3RhdGUsCj4gPiA+ICsJCQkJ
CSAgICBuZXdfY3J0Y19zdGF0ZSwgaSkgewo+ID4gPiArCQlpZiAoIW5lZWRzX21vZGVzZXQobmV3
X2NydGNfc3RhdGUpIHx8Cj4gPiA+ICsJCSAgICAoaGFuZGxlZCAmIEJJVChjcnRjLT5waXBlKSkp
Cj4gPiA+ICsJCQljb250aW51ZTsKPiA+ID4gKwo+ID4gPiArCQlpbnRlbF9wcmVfcGxhbmVfdXBk
YXRlKHN0YXRlLCBjcnRjKTsKPiA+ID4gKwkJaWYgKG9sZF9jcnRjX3N0YXRlLT5ody5hY3RpdmUp
Cj4gPiA+ICsJCQlpbnRlbF9vbGRfY3J0Y19zdGF0ZV9kaXNhYmxlcyhzdGF0ZSwKPiA+ID4gb2xk
X2NydGNfc3RhdGUsCj4gPiA+ICsJCQkJCQkgICAgICBuZXdfY3J0Y19zdGF0ZSwKPiA+ID4gY3J0
Yyk7Cj4gPiA+ICAJfQo+ID4gPiAgfQo+ID4gPiAgCj4gPiA+IC0tIAo+ID4gPiAyLjI0LjAKPiA+
ID4gCgotLSAKTWF0dCBSb3BlcgpHcmFwaGljcyBTb2Z0d2FyZSBFbmdpbmVlcgpWVFQtT1NHQyBQ
bGF0Zm9ybSBFbmFibGVtZW50CkludGVsIENvcnBvcmF0aW9uCig5MTYpIDM1Ni0yNzk1Cl9fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCkludGVsLWdmeCBtYWls
aW5nIGxpc3QKSW50ZWwtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZy
ZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2ludGVsLWdmeA==

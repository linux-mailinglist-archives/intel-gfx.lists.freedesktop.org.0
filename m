Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id CA5F166033
	for <lists+intel-gfx@lfdr.de>; Thu, 11 Jul 2019 21:48:46 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id B39456E268;
	Thu, 11 Jul 2019 19:48:44 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga03.intel.com (mga03.intel.com [134.134.136.65])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 0DA206E268
 for <intel-gfx@lists.freedesktop.org>; Thu, 11 Jul 2019 19:48:43 +0000 (UTC)
X-Amp-Result: UNKNOWN
X-Amp-Original-Verdict: FILE UNKNOWN
X-Amp-File-Uploaded: False
Received: from orsmga002.jf.intel.com ([10.7.209.21])
 by orsmga103.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 11 Jul 2019 12:48:42 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.63,479,1557212400"; d="scan'208";a="177269896"
Received: from nc-hades.jf.intel.com (HELO linux.intel.com) ([10.54.75.30])
 by orsmga002.jf.intel.com with SMTP; 11 Jul 2019 12:48:41 -0700
Received: by linux.intel.com (sSMTP sendmail emulation);
 Thu, 11 Jul 2019 12:48:47 -0700
Date: Thu, 11 Jul 2019 12:48:47 -0700
From: Nathan Ciobanu <nathan.d.ciobanu@linux.intel.com>
To: =?iso-8859-1?Q?Jos=E9?= Roberto de Souza <jose.souza@intel.com>
Message-ID: <20190711194847.GA23857@nc-hades.jf.intel.com>
References: <20190710221500.11576-1-jose.souza@intel.com>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <20190710221500.11576-1-jose.souza@intel.com>
User-Agent: Mutt/1.10.1 (2018-07-13)
Subject: Re: [Intel-gfx] [PATCH v4 1/2] drm/i915: Add support for retrying
 hotplug
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: Jani Nikula <jani.nikula@intel.com>, intel-gfx@lists.freedesktop.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

T24gV2VkLCBKdWwgMTAsIDIwMTkgYXQgMDM6MTQ6NTlQTSAtMDcwMCwgSm9zw6kgUm9iZXJ0byBk
ZSBTb3V6YSB3cm90ZToKPiBGcm9tOiBJbXJlIERlYWsgPGltcmUuZGVha0BpbnRlbC5jb20+Cj4g
Cj4gVGhlcmUgaXMgc29tZSBzY2VuYXJpb3MgdGhhdCB3ZSBhcmUgYXdhcmUgdGhhdCBzaW5rIHBy
b2JlIGNhbiBmYWlsLAo+IHNvIGxldHMgYWRkIHRoZSBpbmZyYXN0cnVjdHVyZSB0byBsZXQgaG90
cGx1ZygpIGhvb2sgdG8gcmVxdWVzdAo+IGFub3RoZXIgcHJvYmUgYWZ0ZXIgc29tZSB0aW1lLgo+
IAo+IHYyOiBIYW5kbGUgc2hhcmVkIEhQRCBwaW5zIChJbXJlKQo+IHYzOiBSZWJhc2VkCj4gdjQ6
IFJlbmFtZWQgSU5URUxfSE9UUExVR19OT0NIQU5HRSB0byBJTlRFTF9IT1RQTFVHX1VOQ0hBTkdF
RCB0byBrZWVwCj4gaXQgY29uc2lzdGVudChSb2RyaWdvKQo+IAo+IENjOiBWaWxsZSBTeXJqw6Rs
w6QgPHZpbGxlLnN5cmphbGFAbGludXguaW50ZWwuY29tPgo+IFJldmlld2VkLWJ5OiBSb2RyaWdv
IFZpdmkgPHJvZHJpZ28udml2aUBpbnRlbC5jb20+Cj4gU2lnbmVkLW9mZi1ieTogSm9zw6kgUm9i
ZXJ0byBkZSBTb3V6YSA8am9zZS5zb3V6YUBpbnRlbC5jb20+Cj4gU2lnbmVkLW9mZi1ieTogSmFu
aSBOaWt1bGEgPGphbmkubmlrdWxhQGludGVsLmNvbT4KPiBTaWduZWQtb2ZmLWJ5OiBJbXJlIERl
YWsgPGltcmUuZGVha0BpbnRlbC5jb20+Cj4gLS0tCj4gIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2Rp
c3BsYXkvaW50ZWxfZGRpLmMgICAgIHwgMTIgKystLQo+ICBkcml2ZXJzL2dwdS9kcm0vaTkxNS9k
aXNwbGF5L2ludGVsX2RwLmMgICAgICB8IDEyICsrLS0KPiAgZHJpdmVycy9ncHUvZHJtL2k5MTUv
ZGlzcGxheS9pbnRlbF9ob3RwbHVnLmMgfCA1OSArKysrKysrKysrKysrKystLS0tLQo+ICBkcml2
ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2hvdHBsdWcuaCB8ICA1ICstCj4gIGRyaXZl
cnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfc2R2by5jICAgIHwgIDggKystCj4gIGRyaXZl
cnMvZ3B1L2RybS9pOTE1L2k5MTVfZGVidWdmcy5jICAgICAgICAgIHwgIDIgKy0KPiAgZHJpdmVy
cy9ncHUvZHJtL2k5MTUvaTkxNV9kcnYuaCAgICAgICAgICAgICAgfCAgMyArLQo+ICBkcml2ZXJz
L2dwdS9kcm0vaTkxNS9pbnRlbF9kcnYuaCAgICAgICAgICAgICB8IDExICsrKy0KPiAgOCBmaWxl
cyBjaGFuZ2VkLCA4MCBpbnNlcnRpb25zKCspLCAzMiBkZWxldGlvbnMoLSkKPiAKPiBkaWZmIC0t
Z2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kZGkuYyBiL2RyaXZlcnMv
Z3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGRpLmMKPiBpbmRleCBhZDYzOGU3ZjI3YmIuLjcz
NGMwMDQ4MDBmOCAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2lu
dGVsX2RkaS5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kZGku
Ywo+IEBAIC00MDQ3LDE0ICs0MDQ3LDE2IEBAIHN0YXRpYyBpbnQgaW50ZWxfaGRtaV9yZXNldF9s
aW5rKHN0cnVjdCBpbnRlbF9lbmNvZGVyICplbmNvZGVyLAo+ICAJcmV0dXJuIG1vZGVzZXRfcGlw
ZSgmY3J0Yy0+YmFzZSwgY3R4KTsKPiAgfQo+ICAKPiAtc3RhdGljIGJvb2wgaW50ZWxfZGRpX2hv
dHBsdWcoc3RydWN0IGludGVsX2VuY29kZXIgKmVuY29kZXIsCj4gLQkJCSAgICAgIHN0cnVjdCBp
bnRlbF9jb25uZWN0b3IgKmNvbm5lY3RvcikKPiArc3RhdGljIGVudW0gaW50ZWxfaG90cGx1Z19z
dGF0ZQo+ICtpbnRlbF9kZGlfaG90cGx1ZyhzdHJ1Y3QgaW50ZWxfZW5jb2RlciAqZW5jb2RlciwK
PiArCQkgIHN0cnVjdCBpbnRlbF9jb25uZWN0b3IgKmNvbm5lY3RvciwKPiArCQkgIGJvb2wgaXJx
X3JlY2VpdmVkKQo+ICB7Cj4gIAlzdHJ1Y3QgZHJtX21vZGVzZXRfYWNxdWlyZV9jdHggY3R4Owo+
IC0JYm9vbCBjaGFuZ2VkOwo+ICsJZW51bSBpbnRlbF9ob3RwbHVnX3N0YXRlIHN0YXRlOwo+ICAJ
aW50IHJldDsKPiAgCj4gLQljaGFuZ2VkID0gaW50ZWxfZW5jb2Rlcl9ob3RwbHVnKGVuY29kZXIs
IGNvbm5lY3Rvcik7Cj4gKwlzdGF0ZSA9IGludGVsX2VuY29kZXJfaG90cGx1ZyhlbmNvZGVyLCBj
b25uZWN0b3IsIGlycV9yZWNlaXZlZCk7Cj4gIAo+ICAJZHJtX21vZGVzZXRfYWNxdWlyZV9pbml0
KCZjdHgsIDApOwo+ICAKPiBAQCAtNDA3Niw3ICs0MDc4LDcgQEAgc3RhdGljIGJvb2wgaW50ZWxf
ZGRpX2hvdHBsdWcoc3RydWN0IGludGVsX2VuY29kZXIgKmVuY29kZXIsCj4gIAlkcm1fbW9kZXNl
dF9hY3F1aXJlX2ZpbmkoJmN0eCk7Cj4gIAlXQVJOKHJldCwgIkFjcXVpcmluZyBtb2Rlc2V0IGxv
Y2tzIGZhaWxlZCB3aXRoICVpXG4iLCByZXQpOwo+ICAKPiAtCXJldHVybiBjaGFuZ2VkOwo+ICsJ
cmV0dXJuIHN0YXRlOwo+ICB9Cj4gIAo+ICBzdGF0aWMgc3RydWN0IGludGVsX2Nvbm5lY3RvciAq
Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZHAuYyBi
L2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZHAuYwo+IGluZGV4IDBiZGI3ZWNj
NWE4MS4uNDQyM2FiYmM3OTA3IDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rp
c3BsYXkvaW50ZWxfZHAuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50
ZWxfZHAuYwo+IEBAIC00ODUzLDE0ICs0ODUzLDE2IEBAIGludCBpbnRlbF9kcF9yZXRyYWluX2xp
bmsoc3RydWN0IGludGVsX2VuY29kZXIgKmVuY29kZXIsCj4gICAqIHJldHJhaW4gdGhlIGxpbmsg
dG8gZ2V0IGEgcGljdHVyZS4gVGhhdCdzIGluIGNhc2Ugbm8KPiAgICogdXNlcnNwYWNlIGNvbXBv
bmVudCByZWFjdGVkIHRvIGludGVybWl0dGVudCBIUEQgZGlwLgo+ICAgKi8KPiAtc3RhdGljIGJv
b2wgaW50ZWxfZHBfaG90cGx1ZyhzdHJ1Y3QgaW50ZWxfZW5jb2RlciAqZW5jb2RlciwKPiAtCQkJ
ICAgICBzdHJ1Y3QgaW50ZWxfY29ubmVjdG9yICpjb25uZWN0b3IpCj4gK3N0YXRpYyBlbnVtIGlu
dGVsX2hvdHBsdWdfc3RhdGUKPiAraW50ZWxfZHBfaG90cGx1ZyhzdHJ1Y3QgaW50ZWxfZW5jb2Rl
ciAqZW5jb2RlciwKPiArCQkgc3RydWN0IGludGVsX2Nvbm5lY3RvciAqY29ubmVjdG9yLAo+ICsJ
CSBib29sIGlycV9yZWNlaXZlZCkKPiAgewo+ICAJc3RydWN0IGRybV9tb2Rlc2V0X2FjcXVpcmVf
Y3R4IGN0eDsKPiAtCWJvb2wgY2hhbmdlZDsKPiArCWVudW0gaW50ZWxfaG90cGx1Z19zdGF0ZSBz
dGF0ZTsKPiAgCWludCByZXQ7Cj4gIAo+IC0JY2hhbmdlZCA9IGludGVsX2VuY29kZXJfaG90cGx1
ZyhlbmNvZGVyLCBjb25uZWN0b3IpOwo+ICsJc3RhdGUgPSBpbnRlbF9lbmNvZGVyX2hvdHBsdWco
ZW5jb2RlciwgY29ubmVjdG9yLCBpcnFfcmVjZWl2ZWQpOwo+ICAKPiAgCWRybV9tb2Rlc2V0X2Fj
cXVpcmVfaW5pdCgmY3R4LCAwKTsKPiAgCj4gQEAgLTQ4NzksNyArNDg4MSw3IEBAIHN0YXRpYyBi
b29sIGludGVsX2RwX2hvdHBsdWcoc3RydWN0IGludGVsX2VuY29kZXIgKmVuY29kZXIsCj4gIAlk
cm1fbW9kZXNldF9hY3F1aXJlX2ZpbmkoJmN0eCk7Cj4gIAlXQVJOKHJldCwgIkFjcXVpcmluZyBt
b2Rlc2V0IGxvY2tzIGZhaWxlZCB3aXRoICVpXG4iLCByZXQpOwo+ICAKPiAtCXJldHVybiBjaGFu
Z2VkOwo+ICsJcmV0dXJuIHN0YXRlOwo+ICB9Cj4gIAo+ICBzdGF0aWMgdm9pZCBpbnRlbF9kcF9j
aGVja19zZXJ2aWNlX2lycShzdHJ1Y3QgaW50ZWxfZHAgKmludGVsX2RwKQo+IGRpZmYgLS1naXQg
YS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2hvdHBsdWcuYyBiL2RyaXZlcnMv
Z3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfaG90cGx1Zy5jCj4gaW5kZXggZWEzZGU0YWNjODUw
Li4yY2E5Mjc4MGM2NTkgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxh
eS9pbnRlbF9ob3RwbHVnLmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2lu
dGVsX2hvdHBsdWcuYwo+IEBAIC0xMTIsNiArMTEyLDcgQEAgZW51bSBocGRfcGluIGludGVsX2hw
ZF9waW5fZGVmYXVsdChzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYsCj4gIAo+ICAj
ZGVmaW5lIEhQRF9TVE9STV9ERVRFQ1RfUEVSSU9ECQkxMDAwCj4gICNkZWZpbmUgSFBEX1NUT1JN
X1JFRU5BQkxFX0RFTEFZCSgyICogNjAgKiAxMDAwKQo+ICsjZGVmaW5lIEhQRF9SRVRSWV9ERUxB
WQkJCTEwMDAKPiAgCj4gIC8qKgo+ICAgKiBpbnRlbF9ocGRfaXJxX3N0b3JtX2RldGVjdCAtIGdh
dGhlciBzdGF0cyBhbmQgZGV0ZWN0IEhQRCBJUlEgc3Rvcm0gb24gYSBwaW4KPiBAQCAtMjY2LDgg
KzI2NywxMCBAQCBzdGF0aWMgdm9pZCBpbnRlbF9ocGRfaXJxX3N0b3JtX3JlZW5hYmxlX3dvcmso
c3RydWN0IHdvcmtfc3RydWN0ICp3b3JrKQo+ICAJaW50ZWxfcnVudGltZV9wbV9wdXQoJmRldl9w
cml2LT5ydW50aW1lX3BtLCB3YWtlcmVmKTsKPiAgfQo+ICAKPiAtYm9vbCBpbnRlbF9lbmNvZGVy
X2hvdHBsdWcoc3RydWN0IGludGVsX2VuY29kZXIgKmVuY29kZXIsCj4gLQkJCSAgIHN0cnVjdCBp
bnRlbF9jb25uZWN0b3IgKmNvbm5lY3RvcikKPiArZW51bSBpbnRlbF9ob3RwbHVnX3N0YXRlCj4g
K2ludGVsX2VuY29kZXJfaG90cGx1ZyhzdHJ1Y3QgaW50ZWxfZW5jb2RlciAqZW5jb2RlciwKPiAr
CQkgICAgICBzdHJ1Y3QgaW50ZWxfY29ubmVjdG9yICpjb25uZWN0b3IsCj4gKwkJICAgICAgYm9v
bCBpcnFfcmVjZWl2ZWQpCj4gIHsKPiAgCXN0cnVjdCBkcm1fZGV2aWNlICpkZXYgPSBjb25uZWN0
b3ItPmJhc2UuZGV2Owo+ICAJZW51bSBkcm1fY29ubmVjdG9yX3N0YXR1cyBvbGRfc3RhdHVzOwo+
IEBAIC0yNzksNyArMjgyLDcgQEAgYm9vbCBpbnRlbF9lbmNvZGVyX2hvdHBsdWcoc3RydWN0IGlu
dGVsX2VuY29kZXIgKmVuY29kZXIsCj4gIAkJZHJtX2hlbHBlcl9wcm9iZV9kZXRlY3QoJmNvbm5l
Y3Rvci0+YmFzZSwgTlVMTCwgZmFsc2UpOwo+ICAKPiAgCWlmIChvbGRfc3RhdHVzID09IGNvbm5l
Y3Rvci0+YmFzZS5zdGF0dXMpCj4gLQkJcmV0dXJuIGZhbHNlOwo+ICsJCXJldHVybiBJTlRFTF9I
T1RQTFVHX1VOQ0hBTkdFRDsKPiAgCj4gIAlEUk1fREVCVUdfS01TKCJbQ09OTkVDVE9SOiVkOiVz
XSBzdGF0dXMgdXBkYXRlZCBmcm9tICVzIHRvICVzXG4iLAo+ICAJCSAgICAgIGNvbm5lY3Rvci0+
YmFzZS5iYXNlLmlkLAo+IEBAIC0yODcsNyArMjkwLDcgQEAgYm9vbCBpbnRlbF9lbmNvZGVyX2hv
dHBsdWcoc3RydWN0IGludGVsX2VuY29kZXIgKmVuY29kZXIsCj4gIAkJICAgICAgZHJtX2dldF9j
b25uZWN0b3Jfc3RhdHVzX25hbWUob2xkX3N0YXR1cyksCj4gIAkJICAgICAgZHJtX2dldF9jb25u
ZWN0b3Jfc3RhdHVzX25hbWUoY29ubmVjdG9yLT5iYXNlLnN0YXR1cykpOwo+ICAKPiAtCXJldHVy
biB0cnVlOwo+ICsJcmV0dXJuIElOVEVMX0hPVFBMVUdfQ0hBTkdFRDsKPiAgfQo+ICAKPiAgc3Rh
dGljIGJvb2wgaW50ZWxfZW5jb2Rlcl9oYXNfaHBkX3B1bHNlKHN0cnVjdCBpbnRlbF9lbmNvZGVy
ICplbmNvZGVyKQo+IEBAIC0zMzksNyArMzQyLDcgQEAgc3RhdGljIHZvaWQgaTkxNV9kaWdwb3J0
X3dvcmtfZnVuYyhzdHJ1Y3Qgd29ya19zdHJ1Y3QgKndvcmspCj4gIAkJc3Bpbl9sb2NrX2lycSgm
ZGV2X3ByaXYtPmlycV9sb2NrKTsKPiAgCQlkZXZfcHJpdi0+aG90cGx1Zy5ldmVudF9iaXRzIHw9
IG9sZF9iaXRzOwo+ICAJCXNwaW5fdW5sb2NrX2lycSgmZGV2X3ByaXYtPmlycV9sb2NrKTsKPiAt
CQlzY2hlZHVsZV93b3JrKCZkZXZfcHJpdi0+aG90cGx1Zy5ob3RwbHVnX3dvcmspOwo+ICsJCXNj
aGVkdWxlX2RlbGF5ZWRfd29yaygmZGV2X3ByaXYtPmhvdHBsdWcuaG90cGx1Z193b3JrLCAwKTsK
PiAgCX0KPiAgfQo+ICAKPiBAQCAtMzQ5LDE0ICszNTIsMTYgQEAgc3RhdGljIHZvaWQgaTkxNV9k
aWdwb3J0X3dvcmtfZnVuYyhzdHJ1Y3Qgd29ya19zdHJ1Y3QgKndvcmspCj4gIHN0YXRpYyB2b2lk
IGk5MTVfaG90cGx1Z193b3JrX2Z1bmMoc3RydWN0IHdvcmtfc3RydWN0ICp3b3JrKQo+ICB7Cj4g
IAlzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYgPQo+IC0JCWNvbnRhaW5lcl9vZih3
b3JrLCBzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSwgaG90cGx1Zy5ob3RwbHVnX3dvcmspOwo+ICsJ
CWNvbnRhaW5lcl9vZih3b3JrLCBzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSwKPiArCQkJICAgICBo
b3RwbHVnLmhvdHBsdWdfd29yay53b3JrKTsKPiAgCXN0cnVjdCBkcm1fZGV2aWNlICpkZXYgPSAm
ZGV2X3ByaXYtPmRybTsKPiAgCXN0cnVjdCBpbnRlbF9jb25uZWN0b3IgKmludGVsX2Nvbm5lY3Rv
cjsKPiAgCXN0cnVjdCBpbnRlbF9lbmNvZGVyICppbnRlbF9lbmNvZGVyOwo+ICAJc3RydWN0IGRy
bV9jb25uZWN0b3IgKmNvbm5lY3RvcjsKPiAgCXN0cnVjdCBkcm1fY29ubmVjdG9yX2xpc3RfaXRl
ciBjb25uX2l0ZXI7Cj4gLQlib29sIGNoYW5nZWQgPSBmYWxzZTsKPiArCXUzMiBjaGFuZ2VkID0g
MCwgcmV0cnkgPSAwOwo+ICAJdTMyIGhwZF9ldmVudF9iaXRzOwo+ICsJdTMyIGhwZF9yZXRyeV9i
aXRzOwo+ICAKPiAgCW11dGV4X2xvY2soJmRldi0+bW9kZV9jb25maWcubXV0ZXgpOwo+ICAJRFJN
X0RFQlVHX0tNUygicnVubmluZyBlbmNvZGVyIGhvdHBsdWcgZnVuY3Rpb25zXG4iKTsKPiBAQCAt
MzY1LDYgKzM3MCw4IEBAIHN0YXRpYyB2b2lkIGk5MTVfaG90cGx1Z193b3JrX2Z1bmMoc3RydWN0
IHdvcmtfc3RydWN0ICp3b3JrKQo+ICAKPiAgCWhwZF9ldmVudF9iaXRzID0gZGV2X3ByaXYtPmhv
dHBsdWcuZXZlbnRfYml0czsKPiAgCWRldl9wcml2LT5ob3RwbHVnLmV2ZW50X2JpdHMgPSAwOwo+
ICsJaHBkX3JldHJ5X2JpdHMgPSBkZXZfcHJpdi0+aG90cGx1Zy5yZXRyeV9iaXRzOwo+ICsJZGV2
X3ByaXYtPmhvdHBsdWcucmV0cnlfYml0cyA9IDA7Cj4gIAo+ICAJLyogRW5hYmxlIHBvbGxpbmcg
Zm9yIGNvbm5lY3RvcnMgd2hpY2ggaGFkIEhQRCBJUlEgc3Rvcm1zICovCj4gIAlpbnRlbF9ocGRf
aXJxX3N0b3JtX3N3aXRjaF90b19wb2xsaW5nKGRldl9wcml2KTsKPiBAQCAtMzczLDE2ICszODAs
MjkgQEAgc3RhdGljIHZvaWQgaTkxNV9ob3RwbHVnX3dvcmtfZnVuYyhzdHJ1Y3Qgd29ya19zdHJ1
Y3QgKndvcmspCj4gIAo+ICAJZHJtX2Nvbm5lY3Rvcl9saXN0X2l0ZXJfYmVnaW4oZGV2LCAmY29u
bl9pdGVyKTsKPiAgCWRybV9mb3JfZWFjaF9jb25uZWN0b3JfaXRlcihjb25uZWN0b3IsICZjb25u
X2l0ZXIpIHsKPiArCQl1MzIgaHBkX2JpdDsKPiArCj4gIAkJaW50ZWxfY29ubmVjdG9yID0gdG9f
aW50ZWxfY29ubmVjdG9yKGNvbm5lY3Rvcik7Cj4gIAkJaWYgKCFpbnRlbF9jb25uZWN0b3ItPmVu
Y29kZXIpCj4gIAkJCWNvbnRpbnVlOwo+ICAJCWludGVsX2VuY29kZXIgPSBpbnRlbF9jb25uZWN0
b3ItPmVuY29kZXI7Cj4gLQkJaWYgKGhwZF9ldmVudF9iaXRzICYgKDEgPDwgaW50ZWxfZW5jb2Rl
ci0+aHBkX3BpbikpIHsKPiArCQlocGRfYml0ID0gQklUKGludGVsX2VuY29kZXItPmhwZF9waW4p
Owo+ICsJCWlmICgoaHBkX2V2ZW50X2JpdHMgfCBocGRfcmV0cnlfYml0cykgJiBocGRfYml0KSB7
Cj4gIAkJCURSTV9ERUJVR19LTVMoIkNvbm5lY3RvciAlcyAocGluICVpKSByZWNlaXZlZCBob3Rw
bHVnIGV2ZW50LlxuIiwKPiAgCQkJCSAgICAgIGNvbm5lY3Rvci0+bmFtZSwgaW50ZWxfZW5jb2Rl
ci0+aHBkX3Bpbik7Cj4gIAo+IC0JCQljaGFuZ2VkIHw9IGludGVsX2VuY29kZXItPmhvdHBsdWco
aW50ZWxfZW5jb2RlciwKPiAtCQkJCQkJCSAgaW50ZWxfY29ubmVjdG9yKTsKPiArCQkJc3dpdGNo
IChpbnRlbF9lbmNvZGVyLT5ob3RwbHVnKGludGVsX2VuY29kZXIsCj4gKwkJCQkJCSAgICAgICBp
bnRlbF9jb25uZWN0b3IsCj4gKwkJCQkJCSAgICAgICBocGRfZXZlbnRfYml0cyAmIGhwZF9iaXQp
KSB7Cj4gKwkJCWNhc2UgSU5URUxfSE9UUExVR19VTkNIQU5HRUQ6Cj4gKwkJCQlicmVhazsKPiAr
CQkJY2FzZSBJTlRFTF9IT1RQTFVHX0NIQU5HRUQ6Cj4gKwkJCQljaGFuZ2VkIHw9IGhwZF9iaXQ7
Cj4gKwkJCQlicmVhazsKPiArCQkJY2FzZSBJTlRFTF9IT1RQTFVHX1JFVFJZOgo+ICsJCQkJcmV0
cnkgfD0gaHBkX2JpdDsKPiArCQkJCWJyZWFrOwo+ICsJCQl9Cj4gIAkJfQo+ICAJfQo+ICAJZHJt
X2Nvbm5lY3Rvcl9saXN0X2l0ZXJfZW5kKCZjb25uX2l0ZXIpOwo+IEBAIC0zOTAsNiArNDEwLDE3
IEBAIHN0YXRpYyB2b2lkIGk5MTVfaG90cGx1Z193b3JrX2Z1bmMoc3RydWN0IHdvcmtfc3RydWN0
ICp3b3JrKQo+ICAKPiAgCWlmIChjaGFuZ2VkKQo+ICAJCWRybV9rbXNfaGVscGVyX2hvdHBsdWdf
ZXZlbnQoZGV2KTsKPiArCj4gKwkvKiBSZW1vdmUgc2hhcmVkIEhQRCBwaW5zIHRoYXQgaGF2ZSBj
aGFuZ2VkICovCj4gKwlyZXRyeSAmPSB+Y2hhbmdlZDsKPiArCWlmIChyZXRyeSkgewo+ICsJCXNw
aW5fbG9ja19pcnEoJmRldl9wcml2LT5pcnFfbG9jayk7Cj4gKwkJZGV2X3ByaXYtPmhvdHBsdWcu
cmV0cnlfYml0cyB8PSByZXRyeTsKPiArCQlzcGluX3VubG9ja19pcnEoJmRldl9wcml2LT5pcnFf
bG9jayk7Cj4gKwo+ICsJCW1vZF9kZWxheWVkX3dvcmsoc3lzdGVtX3dxLCAmZGV2X3ByaXYtPmhv
dHBsdWcuaG90cGx1Z193b3JrLAo+ICsJCQkJIG1zZWNzX3RvX2ppZmZpZXMoSFBEX1JFVFJZX0RF
TEFZKSk7Cj4gKwl9Cj4gIH0KPiAgCj4gIAo+IEBAIC01MTYsNyArNTQ3LDcgQEAgdm9pZCBpbnRl
bF9ocGRfaXJxX2hhbmRsZXIoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2LAo+ICAJ
aWYgKHF1ZXVlX2RpZykKPiAgCQlxdWV1ZV93b3JrKGRldl9wcml2LT5ob3RwbHVnLmRwX3dxLCAm
ZGV2X3ByaXYtPmhvdHBsdWcuZGlnX3BvcnRfd29yayk7Cj4gIAlpZiAocXVldWVfaHApCj4gLQkJ
c2NoZWR1bGVfd29yaygmZGV2X3ByaXYtPmhvdHBsdWcuaG90cGx1Z193b3JrKTsKPiArCQlzY2hl
ZHVsZV9kZWxheWVkX3dvcmsoJmRldl9wcml2LT5ob3RwbHVnLmhvdHBsdWdfd29yaywgMCk7Cj4g
IH0KPiAgCj4gIC8qKgo+IEBAIC02MzYsNyArNjY3LDggQEAgdm9pZCBpbnRlbF9ocGRfcG9sbF9p
bml0KHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdikKPiAgCj4gIHZvaWQgaW50ZWxf
aHBkX2luaXRfd29yayhzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYpCj4gIHsKPiAt
CUlOSVRfV09SSygmZGV2X3ByaXYtPmhvdHBsdWcuaG90cGx1Z193b3JrLCBpOTE1X2hvdHBsdWdf
d29ya19mdW5jKTsKPiArCUlOSVRfREVMQVlFRF9XT1JLKCZkZXZfcHJpdi0+aG90cGx1Zy5ob3Rw
bHVnX3dvcmssCj4gKwkJCSAgaTkxNV9ob3RwbHVnX3dvcmtfZnVuYyk7Cj4gIAlJTklUX1dPUkso
JmRldl9wcml2LT5ob3RwbHVnLmRpZ19wb3J0X3dvcmssIGk5MTVfZGlncG9ydF93b3JrX2Z1bmMp
Owo+ICAJSU5JVF9XT1JLKCZkZXZfcHJpdi0+aG90cGx1Zy5wb2xsX2luaXRfd29yaywgaTkxNV9o
cGRfcG9sbF9pbml0X3dvcmspOwo+ICAJSU5JVF9ERUxBWUVEX1dPUksoJmRldl9wcml2LT5ob3Rw
bHVnLnJlZW5hYmxlX3dvcmssCj4gQEAgLTY1MCwxMSArNjgyLDEyIEBAIHZvaWQgaW50ZWxfaHBk
X2NhbmNlbF93b3JrKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdikKPiAgCWRldl9w
cml2LT5ob3RwbHVnLmxvbmdfcG9ydF9tYXNrID0gMDsKPiAgCWRldl9wcml2LT5ob3RwbHVnLnNo
b3J0X3BvcnRfbWFzayA9IDA7Cj4gIAlkZXZfcHJpdi0+aG90cGx1Zy5ldmVudF9iaXRzID0gMDsK
PiArCWRldl9wcml2LT5ob3RwbHVnLnJldHJ5X2JpdHMgPSAwOwo+ICAKPiAgCXNwaW5fdW5sb2Nr
X2lycSgmZGV2X3ByaXYtPmlycV9sb2NrKTsKPiAgCj4gIAljYW5jZWxfd29ya19zeW5jKCZkZXZf
cHJpdi0+aG90cGx1Zy5kaWdfcG9ydF93b3JrKTsKPiAtCWNhbmNlbF93b3JrX3N5bmMoJmRldl9w
cml2LT5ob3RwbHVnLmhvdHBsdWdfd29yayk7Cj4gKwljYW5jZWxfZGVsYXllZF93b3JrX3N5bmMo
JmRldl9wcml2LT5ob3RwbHVnLmhvdHBsdWdfd29yayk7Cj4gIAljYW5jZWxfd29ya19zeW5jKCZk
ZXZfcHJpdi0+aG90cGx1Zy5wb2xsX2luaXRfd29yayk7Cj4gIAljYW5jZWxfZGVsYXllZF93b3Jr
X3N5bmMoJmRldl9wcml2LT5ob3RwbHVnLnJlZW5hYmxlX3dvcmspOwo+ICB9Cj4gZGlmZiAtLWdp
dCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfaG90cGx1Zy5oIGIvZHJpdmVy
cy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9ob3RwbHVnLmgKPiBpbmRleCA4MDVmODk3ZGJi
N2EuLmIwY2Q0NDdiN2ZiYyAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNw
bGF5L2ludGVsX2hvdHBsdWcuaAo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkv
aW50ZWxfaG90cGx1Zy5oCj4gQEAgLTE1LDggKzE1LDkgQEAgc3RydWN0IGludGVsX2Nvbm5lY3Rv
cjsKPiAgc3RydWN0IGludGVsX2VuY29kZXI7Cj4gIAo+ICB2b2lkIGludGVsX2hwZF9wb2xsX2lu
aXQoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2KTsKPiAtYm9vbCBpbnRlbF9lbmNv
ZGVyX2hvdHBsdWcoc3RydWN0IGludGVsX2VuY29kZXIgKmVuY29kZXIsCj4gLQkJCSAgIHN0cnVj
dCBpbnRlbF9jb25uZWN0b3IgKmNvbm5lY3Rvcik7Cj4gK2VudW0gaW50ZWxfaG90cGx1Z19zdGF0
ZSBpbnRlbF9lbmNvZGVyX2hvdHBsdWcoc3RydWN0IGludGVsX2VuY29kZXIgKmVuY29kZXIsCj4g
KwkJCQkJICAgICAgIHN0cnVjdCBpbnRlbF9jb25uZWN0b3IgKmNvbm5lY3RvciwKPiArCQkJCQkg
ICAgICAgYm9vbCBpcnFfcmVjZWl2ZWQpOwo+ICB2b2lkIGludGVsX2hwZF9pcnFfaGFuZGxlcihz
dHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYsCj4gIAkJCSAgIHUzMiBwaW5fbWFzaywg
dTMyIGxvbmdfbWFzayk7Cj4gIHZvaWQgaW50ZWxfaHBkX2luaXQoc3RydWN0IGRybV9pOTE1X3By
aXZhdGUgKmRldl9wcml2KTsKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlz
cGxheS9pbnRlbF9zZHZvLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX3Nk
dm8uYwo+IGluZGV4IDNmZThlYWVmNmJkOC4uNjM5MzE3Yjg0ZTUxIDEwMDY0NAo+IC0tLSBhL2Ry
aXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfc2R2by5jCj4gKysrIGIvZHJpdmVycy9n
cHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9zZHZvLmMKPiBAQCAtMTkxNSwxMiArMTkxNSwxNCBA
QCBzdGF0aWMgdm9pZCBpbnRlbF9zZHZvX2VuYWJsZV9ob3RwbHVnKHN0cnVjdCBpbnRlbF9lbmNv
ZGVyICplbmNvZGVyKQo+ICAJCQkgICAgICZpbnRlbF9zZHZvLT5ob3RwbHVnX2FjdGl2ZSwgMik7
Cj4gIH0KPiAgCj4gLXN0YXRpYyBib29sIGludGVsX3Nkdm9faG90cGx1ZyhzdHJ1Y3QgaW50ZWxf
ZW5jb2RlciAqZW5jb2RlciwKPiAtCQkJICAgICAgIHN0cnVjdCBpbnRlbF9jb25uZWN0b3IgKmNv
bm5lY3RvcikKPiArc3RhdGljIGVudW0gaW50ZWxfaG90cGx1Z19zdGF0ZQo+ICtpbnRlbF9zZHZv
X2hvdHBsdWcoc3RydWN0IGludGVsX2VuY29kZXIgKmVuY29kZXIsCj4gKwkJICAgc3RydWN0IGlu
dGVsX2Nvbm5lY3RvciAqY29ubmVjdG9yLAo+ICsJCSAgIGJvb2wgaXJxX3JlY2VpdmVkKQo+ICB7
Cj4gIAlpbnRlbF9zZHZvX2VuYWJsZV9ob3RwbHVnKGVuY29kZXIpOwo+ICAKPiAtCXJldHVybiBp
bnRlbF9lbmNvZGVyX2hvdHBsdWcoZW5jb2RlciwgY29ubmVjdG9yKTsKPiArCXJldHVybiBpbnRl
bF9lbmNvZGVyX2hvdHBsdWcoZW5jb2RlciwgY29ubmVjdG9yLCBpcnFfcmVjZWl2ZWQpOwo+ICB9
Cj4gIAo+ICBzdGF0aWMgYm9vbAo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9p
OTE1X2RlYnVnZnMuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZGVidWdmcy5jCj4gaW5k
ZXggM2U0ZjU4ZjE5MzYyLi42ZDRiYzk4MzkxNWYgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUv
ZHJtL2k5MTUvaTkxNV9kZWJ1Z2ZzLmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1
X2RlYnVnZnMuYwo+IEBAIC00MDkwLDcgKzQwOTAsNyBAQCBzdGF0aWMgaW50IGk5MTVfaHBkX3N0
b3JtX2N0bF9zaG93KHN0cnVjdCBzZXFfZmlsZSAqbSwgdm9pZCAqZGF0YSkKPiAgCSAqLwo+ICAJ
aW50ZWxfc3luY2hyb25pemVfaXJxKGRldl9wcml2KTsKPiAgCWZsdXNoX3dvcmsoJmRldl9wcml2
LT5ob3RwbHVnLmRpZ19wb3J0X3dvcmspOwo+IC0JZmx1c2hfd29yaygmZGV2X3ByaXYtPmhvdHBs
dWcuaG90cGx1Z193b3JrKTsKPiArCWZsdXNoX2RlbGF5ZWRfd29yaygmZGV2X3ByaXYtPmhvdHBs
dWcuaG90cGx1Z193b3JrKTsKPiAgCj4gIAlzZXFfcHJpbnRmKG0sICJUaHJlc2hvbGQ6ICVkXG4i
LCBob3RwbHVnLT5ocGRfc3Rvcm1fdGhyZXNob2xkKTsKPiAgCXNlcV9wcmludGYobSwgIkRldGVj
dGVkOiAlc1xuIiwKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kcnYu
aCBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZHJ2LmgKPiBpbmRleCBmOTg3OGNiZWY0ZDku
LmY0NzEzMDdhYTcwNCAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2Ry
di5oCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kcnYuaAo+IEBAIC0xNjMsNyAr
MTYzLDcgQEAgZW51bSBocGRfcGluIHsKPiAgI2RlZmluZSBIUERfU1RPUk1fREVGQVVMVF9USFJF
U0hPTEQgNTAKPiAgCj4gIHN0cnVjdCBpOTE1X2hvdHBsdWcgewo+IC0Jc3RydWN0IHdvcmtfc3Ry
dWN0IGhvdHBsdWdfd29yazsKPiArCXN0cnVjdCBkZWxheWVkX3dvcmsgaG90cGx1Z193b3JrOwo+
ICAKPiAgCXN0cnVjdCB7Cj4gIAkJdW5zaWduZWQgbG9uZyBsYXN0X2ppZmZpZXM7Cj4gQEAgLTE3
NSw2ICsxNzUsNyBAQCBzdHJ1Y3QgaTkxNV9ob3RwbHVnIHsKPiAgCQl9IHN0YXRlOwo+ICAJfSBz
dGF0c1tIUERfTlVNX1BJTlNdOwo+ICAJdTMyIGV2ZW50X2JpdHM7Cj4gKwl1MzIgcmV0cnlfYml0
czsKPiAgCXN0cnVjdCBkZWxheWVkX3dvcmsgcmVlbmFibGVfd29yazsKPiAgCj4gIAl1MzIgbG9u
Z19wb3J0X21hc2s7Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX2Ry
di5oIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfZHJ2LmgKPiBpbmRleCAyNGM2M2VkNDVj
NmYuLmU1OGQzNzUxZWQ0MyAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRl
bF9kcnYuaAo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX2Rydi5oCj4gQEAgLTEw
MSwxNCArMTAxLDIxIEBAIHN0cnVjdCBpbnRlbF9mYmRldiB7Cj4gIAlzdHJ1Y3QgbXV0ZXggaHBk
X2xvY2s7Cj4gIH07Cj4gIAo+ICtlbnVtIGludGVsX2hvdHBsdWdfc3RhdGUgewo+ICsJSU5URUxf
SE9UUExVR19VTkNIQU5HRUQsCj4gKwlJTlRFTF9IT1RQTFVHX0NIQU5HRUQsCj4gKwlJTlRFTF9I
T1RQTFVHX1JFVFJZLAo+ICt9Owo+ICsKPiAgc3RydWN0IGludGVsX2VuY29kZXIgewo+ICAJc3Ry
dWN0IGRybV9lbmNvZGVyIGJhc2U7Cj4gIAo+ICAJZW51bSBpbnRlbF9vdXRwdXRfdHlwZSB0eXBl
Owo+ICAJZW51bSBwb3J0IHBvcnQ7Cj4gIAl1bnNpZ25lZCBpbnQgY2xvbmVhYmxlOwo+IC0JYm9v
bCAoKmhvdHBsdWcpKHN0cnVjdCBpbnRlbF9lbmNvZGVyICplbmNvZGVyLAo+IC0JCQlzdHJ1Y3Qg
aW50ZWxfY29ubmVjdG9yICpjb25uZWN0b3IpOwo+ICsJZW51bSBpbnRlbF9ob3RwbHVnX3N0YXRl
ICgqaG90cGx1Zykoc3RydWN0IGludGVsX2VuY29kZXIgKmVuY29kZXIsCj4gKwkJCQkJICAgIHN0
cnVjdCBpbnRlbF9jb25uZWN0b3IgKmNvbm5lY3RvciwKPiArCQkJCQkgICAgYm9vbCBpcnFfcmVj
ZWl2ZWQpOwo+ICAJZW51bSBpbnRlbF9vdXRwdXRfdHlwZSAoKmNvbXB1dGVfb3V0cHV0X3R5cGUp
KHN0cnVjdCBpbnRlbF9lbmNvZGVyICosCj4gIAkJCQkJCSAgICAgIHN0cnVjdCBpbnRlbF9jcnRj
X3N0YXRlICosCj4gIAkJCQkJCSAgICAgIHN0cnVjdCBkcm1fY29ubmVjdG9yX3N0YXRlICopOwo+
IC0tIAo+IDIuMjIuMAo+IAo+IF9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fCj4gSW50ZWwtZ2Z4IG1haWxpbmcgbGlzdAo+IEludGVsLWdmeEBsaXN0cy5mcmVl
ZGVza3RvcC5vcmcKPiBodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3Rp
bmZvL2ludGVsLWdmeApfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fXwpJbnRlbC1nZnggbWFpbGluZyBsaXN0CkludGVsLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5v
cmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9pbnRlbC1n
Zng=

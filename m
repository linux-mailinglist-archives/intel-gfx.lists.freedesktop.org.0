Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 6BE91CE767
	for <lists+intel-gfx@lfdr.de>; Mon,  7 Oct 2019 17:27:01 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id BBA3C6E124;
	Mon,  7 Oct 2019 15:26:59 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from fireflyinternet.com (mail.fireflyinternet.com [109.228.58.192])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 171376E124
 for <intel-gfx@lists.freedesktop.org>; Mon,  7 Oct 2019 15:26:57 +0000 (UTC)
X-Default-Received-SPF: pass (skip=forwardok (res=PASS))
 x-ip-name=78.156.65.138; 
Received: from localhost (unverified [78.156.65.138]) 
 by fireflyinternet.com (Firefly Internet (M1)) with ESMTP (TLS) id
 18753663-1500050 for multiple; Mon, 07 Oct 2019 16:26:13 +0100
MIME-Version: 1.0
To: Jani Nikula <jani.nikula@intel.com>, intel-gfx@lists.freedesktop.org
From: Chris Wilson <chris@chris-wilson.co.uk>
In-Reply-To: <878e502fd84d36af5370b4592637acc1389d9e8e.1570460714.git.jani.nikula@intel.com>
References: <cover.1570460714.git.jani.nikula@intel.com>
 <878e502fd84d36af5370b4592637acc1389d9e8e.1570460714.git.jani.nikula@intel.com>
Message-ID: <157046197173.5063.15256908174445742331@skylake-alporthouse-com>
User-Agent: alot/0.6
Date: Mon, 07 Oct 2019 16:26:11 +0100
Subject: Re: [Intel-gfx] [PATCH 11/11] drm/i915: remove the now redundant
 i915_driver_modeset_* call layer
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: jani.nikula@intel.com
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

UXVvdGluZyBKYW5pIE5pa3VsYSAoMjAxOS0xMC0wNyAxNjowOTozNikKPiBUaGUgaTkxNV9kcml2
ZXJfbW9kZXNldF8qKCkgZnVuY3Rpb25zIGhhdmUgYmVjb21lIGlycmVsZXZhbnQsIGFuZCB0aGUK
PiBleHRyYSBsYXllciBjYW4gYmUgcmVtb3ZlZC4KPiAKPiBTaWduZWQtb2ZmLWJ5OiBKYW5pIE5p
a3VsYSA8amFuaS5uaWt1bGFAaW50ZWwuY29tPgo+IC0tLQo+ICBkcml2ZXJzL2dwdS9kcm0vaTkx
NS9pOTE1X2Rydi5jIHwgNzYgKysrKysrKysrLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCj4gIDEg
ZmlsZSBjaGFuZ2VkLCAxOSBpbnNlcnRpb25zKCspLCA1NyBkZWxldGlvbnMoLSkKPiAKPiBkaWZm
IC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kcnYuYyBiL2RyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2k5MTVfZHJ2LmMKPiBpbmRleCA1YTc3ODk0NGQ3YTguLjJlMTllNzBiMzk2MyAxMDA2
NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2Rydi5jCj4gKysrIGIvZHJpdmVy
cy9ncHUvZHJtL2k5MTUvaTkxNV9kcnYuYwo+IEBAIC0yNjksNTggKzI2OSw2IEBAIGludGVsX3Rl
YXJkb3duX21jaGJhcihzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYpCj4gICAgICAg
ICAgICAgICAgIHJlbGVhc2VfcmVzb3VyY2UoJmRldl9wcml2LT5tY2hfcmVzKTsKPiAgfQo+ICAK
PiAtLyogcGFydCAjMTogY2FsbCBiZWZvcmUgaXJxIGluc3RhbGwgKi8KPiAtc3RhdGljIGludCBp
OTE1X2RyaXZlcl9tb2Rlc2V0X3Byb2JlX25vaXJxKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpp
OTE1KQo+IC17Cj4gLSAgICAgICByZXR1cm4gaW50ZWxfbW9kZXNldF9pbml0X25vaXJxKGk5MTUp
Owo+IC19Cj4gLQo+IC0vKiBwYXJ0ICMyOiBjYWxsIGFmdGVyIGlycSBpbnN0YWxsICovCj4gLXN0
YXRpYyBpbnQgaTkxNV9kcml2ZXJfbW9kZXNldF9wcm9iZShzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0
ZSAqaTkxNSkKPiAtewo+IC0gICAgICAgaW50IHJldDsKPiAtCj4gLSAgICAgICAvKiBJbXBvcnRh
bnQ6IFRoZSBvdXRwdXQgc2V0dXAgZnVuY3Rpb25zIGNhbGxlZCBieSBtb2Rlc2V0X2luaXQgbmVl
ZAo+IC0gICAgICAgICogd29ya2luZyBpcnFzIGZvciBlLmcuIGdtYnVzIGFuZCBkcCBhdXggdHJh
bnNmZXJzLiAqLwo+IC0gICAgICAgcmV0ID0gaW50ZWxfbW9kZXNldF9pbml0X25vZ2VtKGk5MTUp
Owo+IC0gICAgICAgaWYgKHJldCkKPiAtICAgICAgICAgICAgICAgZ290byBvdXQ7Cj4gLQo+IC0g
ICAgICAgcmV0ID0gaTkxNV9nZW1faW5pdChpOTE1KTsKPiAtICAgICAgIGlmIChyZXQpCj4gLSAg
ICAgICAgICAgICAgIGdvdG8gY2xlYW51cF9tb2Rlc2V0Owo+IC0KPiAtICAgICAgIHJldCA9IGlu
dGVsX21vZGVzZXRfaW5pdChpOTE1KTsKPiAtICAgICAgIGlmIChyZXQpCj4gLSAgICAgICAgICAg
ICAgIGdvdG8gY2xlYW51cF9nZW07Cj4gLQo+IC0gICAgICAgcmV0dXJuIDA7Cj4gLQo+IC1jbGVh
bnVwX2dlbToKPiAtICAgICAgIGk5MTVfZ2VtX3N1c3BlbmQoaTkxNSk7Cj4gLSAgICAgICBpOTE1
X2dlbV9kcml2ZXJfcmVtb3ZlKGk5MTUpOwo+IC0gICAgICAgaTkxNV9nZW1fZHJpdmVyX3JlbGVh
c2UoaTkxNSk7Cj4gLWNsZWFudXBfbW9kZXNldDoKPiAtICAgICAgIC8qIEZJWE1FICovCj4gLSAg
ICAgICBpbnRlbF9tb2Rlc2V0X2RyaXZlcl9yZW1vdmUoaTkxNSk7Cj4gLSAgICAgICBpbnRlbF9p
cnFfdW5pbnN0YWxsKGk5MTUpOwo+IC0gICAgICAgaW50ZWxfbW9kZXNldF9kcml2ZXJfcmVtb3Zl
X25vaXJxKGk5MTUpOwo+IC1vdXQ6Cj4gLSAgICAgICByZXR1cm4gcmV0Owo+IC19Cj4gLQo+IC0v
KiBwYXJ0ICMxOiBjYWxsIGJlZm9yZSBpcnEgdW5pbnN0YWxsICovCj4gLXN0YXRpYyB2b2lkIGk5
MTVfZHJpdmVyX21vZGVzZXRfcmVtb3ZlKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICppOTE1KQo+
IC17Cj4gLSAgICAgICBpbnRlbF9tb2Rlc2V0X2RyaXZlcl9yZW1vdmUoaTkxNSk7Cj4gLX0KPiAt
Cj4gLS8qIHBhcnQgIzI6IGNhbGwgYWZ0ZXIgaXJxIHVuaW5zdGFsbCAqLwo+IC1zdGF0aWMgdm9p
ZCBpOTE1X2RyaXZlcl9tb2Rlc2V0X3JlbW92ZV9ub2lycShzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0
ZSAqaTkxNSkKPiAtewo+IC0gICAgICAgaW50ZWxfbW9kZXNldF9kcml2ZXJfcmVtb3ZlX25vaXJx
KGk5MTUpOwo+IC19Cj4gLQo+ICBzdGF0aWMgdm9pZCBpbnRlbF9pbml0X2RwaW8oc3RydWN0IGRy
bV9pOTE1X3ByaXZhdGUgKmRldl9wcml2KQo+ICB7Cj4gICAgICAgICAvKgo+IEBAIC0xNDY2LDcg
KzE0MTQsNyBAQCBpbnQgaTkxNV9kcml2ZXJfcHJvYmUoc3RydWN0IHBjaV9kZXYgKnBkZXYsIGNv
bnN0IHN0cnVjdCBwY2lfZGV2aWNlX2lkICplbnQpCj4gIAo+ICAgICAgICAgaW50ZWxfcG93ZXJf
ZG9tYWluc19pbml0X2h3KGk5MTUsIGZhbHNlKTsKPiAgCj4gLSAgICAgICByZXQgPSBpOTE1X2Ry
aXZlcl9tb2Rlc2V0X3Byb2JlX25vaXJxKGk5MTUpOwo+ICsgICAgICAgcmV0ID0gaW50ZWxfbW9k
ZXNldF9pbml0X25vaXJxKGk5MTUpOwo+ICAgICAgICAgaWYgKHJldCA8IDApCj4gICAgICAgICAg
ICAgICAgIGdvdG8gb3V0X2NsZWFudXBfaHc7Cj4gIAo+IEBAIC0xNDc0LDEwICsxNDIyLDIwIEBA
IGludCBpOTE1X2RyaXZlcl9wcm9iZShzdHJ1Y3QgcGNpX2RldiAqcGRldiwgY29uc3Qgc3RydWN0
IHBjaV9kZXZpY2VfaWQgKmVudCkKPiAgICAgICAgIGlmIChyZXQpCj4gICAgICAgICAgICAgICAg
IGdvdG8gb3V0X2NsZWFudXBfbW9kZXNldDsKPiAgCj4gLSAgICAgICByZXQgPSBpOTE1X2RyaXZl
cl9tb2Rlc2V0X3Byb2JlKGk5MTUpOwo+IC0gICAgICAgaWYgKHJldCA8IDApCj4gKyAgICAgICAv
KiBJbXBvcnRhbnQ6IFRoZSBvdXRwdXQgc2V0dXAgZnVuY3Rpb25zIGNhbGxlZCBieSBtb2Rlc2V0
X2luaXQgbmVlZAo+ICsgICAgICAgICogd29ya2luZyBpcnFzIGZvciBlLmcuIGdtYnVzIGFuZCBk
cCBhdXggdHJhbnNmZXJzLiAqLwo+ICsgICAgICAgcmV0ID0gaW50ZWxfbW9kZXNldF9pbml0X25v
Z2VtKGk5MTUpOwo+ICsgICAgICAgaWYgKHJldCkKPiAgICAgICAgICAgICAgICAgZ290byBvdXRf
Y2xlYW51cF9pcnE7Cj4gIAo+ICsgICAgICAgcmV0ID0gaTkxNV9nZW1faW5pdChpOTE1KTsKPiAr
ICAgICAgIGlmIChyZXQpCj4gKyAgICAgICAgICAgICAgIGdvdG8gb3V0X2NsZWFudXBfbW9kZXNl
dDsKPiArCj4gKyAgICAgICByZXQgPSBpbnRlbF9tb2Rlc2V0X2luaXQoaTkxNSk7Cj4gKyAgICAg
ICBpZiAocmV0KQo+ICsgICAgICAgICAgICAgICBnb3RvIG91dF9jbGVhbnVwX2dlbTsKCkZ3aXcs
IEknbSByZWFsbHkgZGlnZ2luZyB0aGUgbm9tZW5jbGF0dXJlLCBhbmQgSSB0aGluayBpdCBpcyB0
aGUgYmlnZ2VzdAphZHZhbmNlIG1hZGUgaW4gc29ydGluZyBvdXQgdGhlIGluaXQgc2VxdWVuY2Uu
Ci1DaHJpcwpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpJ
bnRlbC1nZnggbWFpbGluZyBsaXN0CkludGVsLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0
cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9pbnRlbC1nZng=

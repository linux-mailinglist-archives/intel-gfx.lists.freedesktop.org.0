Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 33A28BBC81
	for <lists+intel-gfx@lfdr.de>; Mon, 23 Sep 2019 21:55:19 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 47B476E875;
	Mon, 23 Sep 2019 19:55:17 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga05.intel.com (mga05.intel.com [192.55.52.43])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 383356E894
 for <intel-gfx@lists.freedesktop.org>; Mon, 23 Sep 2019 19:55:16 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga007.jf.intel.com ([10.7.209.58])
 by fmsmga105.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 23 Sep 2019 12:55:15 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.64,541,1559545200"; d="scan'208";a="179238321"
Received: from josouza-mobl.jf.intel.com ([10.7.200.160])
 by orsmga007.jf.intel.com with ESMTP; 23 Sep 2019 12:55:14 -0700
From: =?UTF-8?q?Jos=C3=A9=20Roberto=20de=20Souza?= <jose.souza@intel.com>
To: intel-gfx@lists.freedesktop.org
Date: Mon, 23 Sep 2019 12:55:05 -0700
Message-Id: <20190923195513.207536-2-jose.souza@intel.com>
X-Mailer: git-send-email 2.23.0
In-Reply-To: <20190923195513.207536-1-jose.souza@intel.com>
References: <20190923195513.207536-1-jose.souza@intel.com>
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH v3 1/9] drm/i915/tgl: Add initial dkl pll support
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: Lucas De Marchi <lucas.demarchi@intel.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

RnJvbTogTHVjYXMgRGUgTWFyY2hpIDxsdWNhcy5kZW1hcmNoaUBpbnRlbC5jb20+CgpUaGUgZGlz
YWJsZSBmdW5jdGlvbiBjYW4gYmUgdGhlIHNhbWUgYXMgZm9yIE1HIHBoeSBzaW5jZSB0aGUgc2Ft
ZQpyZWdpc3RlcnMgYXJlIHVzZWQuIFRoZSBvdGhlcnMgYXJlIGRpZmZlcmVudCBhcyByZWdpc3Rl
cnMgY2hhbmdlZCwKYWxzbyBhZGRpbmcgYSBlbXB0eSBka2xfcGxsX3dyaXRlKCkgdG8gYmUgaW1w
bGVtZW50ZWQgbGF0ZXIuCgp2MjoKU2V0dGluZyB0aGUgcmlnaHQgSElQX0lOREVYX1JFRyBiaXRz
IChKb3PDqSkKCkFja2VkLWJ5OiBMdWNhcyBEZSBNYXJjaGkgPGx1Y2FzLmRlbWFyY2hpQGludGVs
LmNvbT4KU2lnbmVkLW9mZi1ieTogSm9zw6kgUm9iZXJ0byBkZSBTb3V6YSA8am9zZS5zb3V6YUBp
bnRlbC5jb20+ClNpZ25lZC1vZmYtYnk6IEx1Y2FzIERlIE1hcmNoaSA8bHVjYXMuZGVtYXJjaGlA
aW50ZWwuY29tPgotLS0KIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZHBsbF9t
Z3IuYyB8IDExNSArKysrKysrKysrKysrKysrKy0KIDEgZmlsZSBjaGFuZ2VkLCAxMTQgaW5zZXJ0
aW9ucygrKSwgMSBkZWxldGlvbigtKQoKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1
L2Rpc3BsYXkvaW50ZWxfZHBsbF9tZ3IuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkv
aW50ZWxfZHBsbF9tZ3IuYwppbmRleCA4NGU3MzRkNDQ4MjguLjQ2ZGRlNjE0YmZiNSAxMDA2NDQK
LS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kcGxsX21nci5jCisrKyBi
L2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZHBsbF9tZ3IuYwpAQCAtMzA4Niw2
ICszMDg2LDc2IEBAIHN0YXRpYyBib29sIG1nX3BsbF9nZXRfaHdfc3RhdGUoc3RydWN0IGRybV9p
OTE1X3ByaXZhdGUgKmRldl9wcml2LAogCXJldHVybiByZXQ7CiB9CiAKK3N0YXRpYyBib29sIGRr
bF9wbGxfZ2V0X2h3X3N0YXRlKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiwKKwkJ
CQkgc3RydWN0IGludGVsX3NoYXJlZF9kcGxsICpwbGwsCisJCQkJIHN0cnVjdCBpbnRlbF9kcGxs
X2h3X3N0YXRlICpod19zdGF0ZSkKK3sKKwljb25zdCBlbnVtIGludGVsX2RwbGxfaWQgaWQgPSBw
bGwtPmluZm8tPmlkOworCWVudW0gdGNfcG9ydCB0Y19wb3J0ID0gaWNsX3BsbF9pZF90b190Y19w
b3J0KGlkKTsKKwlpbnRlbF93YWtlcmVmX3Qgd2FrZXJlZjsKKwlib29sIHJldCA9IGZhbHNlOwor
CXUzMiB2YWw7CisKKwl3YWtlcmVmID0gaW50ZWxfZGlzcGxheV9wb3dlcl9nZXRfaWZfZW5hYmxl
ZChkZXZfcHJpdiwKKwkJCQkJCSAgICAgUE9XRVJfRE9NQUlOX0RJU1BMQVlfQ09SRSk7CisJaWYg
KCF3YWtlcmVmKQorCQlyZXR1cm4gZmFsc2U7CisKKwl2YWwgPSBJOTE1X1JFQUQoTUdfUExMX0VO
QUJMRSh0Y19wb3J0KSk7CisJaWYgKCEodmFsICYgUExMX0VOQUJMRSkpCisJCWdvdG8gb3V0Owor
CisJLyoKKwkgKiBBbGwgcmVnaXN0ZXJzIHJlYWQgaGVyZSBoYXZlIHRoZSBzYW1lIEhJUF9JTkRF
WF9SRUcgZXZlbiB0aG91Z2gKKwkgKiB0aGV5IGFyZSBvbiBkaWZmZXJlbnQgYnVpbGRpbmcgYmxv
Y2tzCisJICovCisJSTkxNV9XUklURShISVBfSU5ERVhfUkVHKHRjX3BvcnQpLCBISVBfSU5ERVhf
VkFMKHRjX3BvcnQsIDB4MikpOworCisJaHdfc3RhdGUtPm1nX3JlZmNsa2luX2N0bCA9IEk5MTVf
UkVBRChES0xfUkVGQ0xLSU5fQ1RMKHRjX3BvcnQpKTsKKwlod19zdGF0ZS0+bWdfcmVmY2xraW5f
Y3RsICY9IE1HX1JFRkNMS0lOX0NUTF9PRF8yX01VWF9NQVNLOworCisJaHdfc3RhdGUtPm1nX2Ns
a3RvcDJfaHNjbGtjdGwgPQorCQlJOTE1X1JFQUQoREtMX0NMS1RPUDJfSFNDTEtDVEwodGNfcG9y
dCkpOworCWh3X3N0YXRlLT5tZ19jbGt0b3AyX2hzY2xrY3RsICY9CisJCU1HX0NMS1RPUDJfSFND
TEtDVExfVExJTkVEUlZfQ0xLU0VMX01BU0sgfAorCQlNR19DTEtUT1AyX0hTQ0xLQ1RMX0NPUkVf
SU5QVVRTRUxfTUFTSyB8CisJCU1HX0NMS1RPUDJfSFNDTEtDVExfSFNESVZfUkFUSU9fTUFTSyB8
CisJCU1HX0NMS1RPUDJfSFNDTEtDVExfRFNESVZfUkFUSU9fTUFTSzsKKworCWh3X3N0YXRlLT5t
Z19jbGt0b3AyX2NvcmVjbGtjdGwxID0KKwkJSTkxNV9SRUFEKERLTF9DTEtUT1AyX0NPUkVDTEtD
VEwxKHRjX3BvcnQpKTsKKwlod19zdGF0ZS0+bWdfY2xrdG9wMl9jb3JlY2xrY3RsMSAmPQorCQlN
R19DTEtUT1AyX0NPUkVDTEtDVEwxX0FfRElWUkFUSU9fTUFTSzsKKworCWh3X3N0YXRlLT5tZ19w
bGxfZGl2MCA9IEk5MTVfUkVBRChES0xfUExMX0RJVjAodGNfcG9ydCkpOworCWh3X3N0YXRlLT5t
Z19wbGxfZGl2MCAmPSAoREtMX1BMTF9ESVYwX0lOVEVHX0NPRUZGX01BU0sgfAorCQkJCSAgREtM
X1BMTF9ESVYwX1BST1BfQ09FRkZfTUFTSyB8CisJCQkJICBES0xfUExMX0RJVjBfRkJQUkVESVZf
TUFTSyB8CisJCQkJICBES0xfUExMX0RJVjBfRkJESVZfSU5UX01BU0spOworCisJaHdfc3RhdGUt
Pm1nX3BsbF9kaXYxID0gSTkxNV9SRUFEKERLTF9QTExfRElWMSh0Y19wb3J0KSk7CisJaHdfc3Rh
dGUtPm1nX3BsbF9kaXYxICY9IChES0xfUExMX0RJVjFfSVJFRl9UUklNX01BU0sgfAorCQkJCSAg
REtMX1BMTF9ESVYxX1REQ19UQVJHRVRfQ05UX01BU0spOworCisJaHdfc3RhdGUtPm1nX3BsbF9z
c2MgPSBJOTE1X1JFQUQoREtMX1BMTF9TU0ModGNfcG9ydCkpOworCWh3X3N0YXRlLT5tZ19wbGxf
c3NjICY9IChES0xfUExMX1NTQ19JUkVGX05ESVZfUkFUSU9fTUFTSyB8CisJCQkJIERLTF9QTExf
U1NDX1NURVBfTEVOX01BU0sgfAorCQkJCSBES0xfUExMX1NTQ19TVEVQX05VTV9NQVNLIHwKKwkJ
CQkgREtMX1BMTF9TU0NfRU4pOworCisJaHdfc3RhdGUtPm1nX3BsbF9iaWFzID0gSTkxNV9SRUFE
KERLTF9QTExfQklBUyh0Y19wb3J0KSk7CisJaHdfc3RhdGUtPm1nX3BsbF9iaWFzICY9IChES0xf
UExMX0JJQVNfRlJBQ19FTl9IIHwKKwkJCQkgIERLTF9QTExfQklBU19GQkRJVl9GUkFDX01BU0sp
OworCisJaHdfc3RhdGUtPm1nX3BsbF90ZGNfY29sZHN0X2JpYXMgPQorCQlJOTE1X1JFQUQoREtM
X1BMTF9URENfQ09MRFNUX0JJQVModGNfcG9ydCkpOworCisJcmV0ID0gdHJ1ZTsKK291dDoKKwlp
bnRlbF9kaXNwbGF5X3Bvd2VyX3B1dChkZXZfcHJpdiwgUE9XRVJfRE9NQUlOX0RJU1BMQVlfQ09S
RSwgd2FrZXJlZik7CisJcmV0dXJuIHJldDsKK30KKwogc3RhdGljIGJvb2wgaWNsX3BsbF9nZXRf
aHdfc3RhdGUoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2LAogCQkJCSBzdHJ1Y3Qg
aW50ZWxfc2hhcmVkX2RwbGwgKnBsbCwKIAkJCQkgc3RydWN0IGludGVsX2RwbGxfaHdfc3RhdGUg
Kmh3X3N0YXRlLApAQCAtMzIyMCw2ICszMjkwLDEyIEBAIHN0YXRpYyB2b2lkIGljbF9tZ19wbGxf
d3JpdGUoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2LAogCVBPU1RJTkdfUkVBRChN
R19QTExfVERDX0NPTERTVF9CSUFTKHRjX3BvcnQpKTsKIH0KIAorc3RhdGljIHZvaWQgZGtsX3Bs
bF93cml0ZShzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYsCisJCQkgIHN0cnVjdCBp
bnRlbF9zaGFyZWRfZHBsbCAqcGxsKQoreworCS8qIFRPRE8gKi8KK30KKwogc3RhdGljIHZvaWQg
aWNsX3BsbF9wb3dlcl9lbmFibGUoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2LAog
CQkJCSBzdHJ1Y3QgaW50ZWxfc2hhcmVkX2RwbGwgKnBsbCwKIAkJCQkgaTkxNV9yZWdfdCBlbmFi
bGVfcmVnKQpAQCAtMzMyNSw2ICszNDAxLDMyIEBAIHN0YXRpYyB2b2lkIG1nX3BsbF9lbmFibGUo
c3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2LAogCS8qIERWRlMgcG9zdCBzZXF1ZW5j
ZSB3b3VsZCBiZSBoZXJlLiBTZWUgdGhlIGNvbW1lbnQgYWJvdmUuICovCiB9CiAKK3N0YXRpYyB2
b2lkIGRrbF9wbGxfZW5hYmxlKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiwKKwkJ
CSAgIHN0cnVjdCBpbnRlbF9zaGFyZWRfZHBsbCAqcGxsKQoreworCS8qCisJICogRnJvbSBzcGVj
OiBNRyByZWdpc3RlciBpbnN0YW5jZXMgYXJlIGJlaW5nIHVzZWQgZm9yIFR5cGVDIGluIGdlbmVy
YWwuCisJICogVGhlIHNhbWUgTUcgcmVnaXN0ZXIgaW5zdGFuY2VzIHNob3VsZCBiZSBwcm9ncmFt
bWVkIGZvciBEZWtlbCBQTExzCisJICogYXMgd2VsbC4KKwkgKi8KKwlpOTE1X3JlZ190IGVuYWJs
ZV9yZWcgPQorCQlNR19QTExfRU5BQkxFKGljbF9wbGxfaWRfdG9fdGNfcG9ydChwbGwtPmluZm8t
PmlkKSk7CisKKwlpY2xfcGxsX3Bvd2VyX2VuYWJsZShkZXZfcHJpdiwgcGxsLCBlbmFibGVfcmVn
KTsKKworCWRrbF9wbGxfd3JpdGUoZGV2X3ByaXYsIHBsbCk7CisKKwkvKgorCSAqIERWRlMgcHJl
IHNlcXVlbmNlIHdvdWxkIGJlIGhlcmUsIGJ1dCBpbiBvdXIgZHJpdmVyIHRoZSBjZGNsayBjb2Rl
CisJICogcGF0aHMgc2hvdWxkIGFscmVhZHkgYmUgc2V0dGluZyB0aGUgYXBwcm9wcmlhdGUgdm9s
dGFnZSwgaGVuY2Ugd2UgZG8KKwkgKiBub3RoaW5nIGhlcmUuCisJICovCisKKwlpY2xfcGxsX2Vu
YWJsZShkZXZfcHJpdiwgcGxsLCBlbmFibGVfcmVnKTsKKworCS8qIERWRlMgcG9zdCBzZXF1ZW5j
ZSB3b3VsZCBiZSBoZXJlLiBTZWUgdGhlIGNvbW1lbnQgYWJvdmUuICovCit9CisKIHN0YXRpYyB2
b2lkIGljbF9wbGxfZGlzYWJsZShzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYsCiAJ
CQkgICAgc3RydWN0IGludGVsX3NoYXJlZF9kcGxsICpwbGwsCiAJCQkgICAgaTkxNV9yZWdfdCBl
bmFibGVfcmVnKQpAQCAtMzQ2NywxMSArMzU2OSwyMiBAQCBzdGF0aWMgY29uc3Qgc3RydWN0IGlu
dGVsX2RwbGxfbWdyIGVobF9wbGxfbWdyID0gewogCS5kdW1wX2h3X3N0YXRlID0gaWNsX2R1bXBf
aHdfc3RhdGUsCiB9OwogCitzdGF0aWMgY29uc3Qgc3RydWN0IGludGVsX3NoYXJlZF9kcGxsX2Z1
bmNzIGRrbF9wbGxfZnVuY3MgPSB7CisJLmVuYWJsZSA9IGRrbF9wbGxfZW5hYmxlLAorCS5kaXNh
YmxlID0gbWdfcGxsX2Rpc2FibGUsCisJLmdldF9od19zdGF0ZSA9IGRrbF9wbGxfZ2V0X2h3X3N0
YXRlLAorfTsKKwogc3RhdGljIGNvbnN0IHN0cnVjdCBkcGxsX2luZm8gdGdsX3BsbHNbXSA9IHsK
IAl7ICJEUExMIDAiLCAmY29tYm9fcGxsX2Z1bmNzLCBEUExMX0lEX0lDTF9EUExMMCwgIDAgfSwK
IAl7ICJEUExMIDEiLCAmY29tYm9fcGxsX2Z1bmNzLCBEUExMX0lEX0lDTF9EUExMMSwgIDAgfSwK
IAl7ICJUQlQgUExMIiwgICZ0YnRfcGxsX2Z1bmNzLCBEUExMX0lEX0lDTF9UQlRQTEwsIDAgfSwK
LQkvKiBUT0RPOiBBZGQgdHlwZUMgcGxscyAqLworCXsgIlRDIFBMTCAxIiwgJmRrbF9wbGxfZnVu
Y3MsIERQTExfSURfSUNMX01HUExMMSwgMCB9LAorCXsgIlRDIFBMTCAyIiwgJmRrbF9wbGxfZnVu
Y3MsIERQTExfSURfSUNMX01HUExMMiwgMCB9LAorCXsgIlRDIFBMTCAzIiwgJmRrbF9wbGxfZnVu
Y3MsIERQTExfSURfSUNMX01HUExMMywgMCB9LAorCXsgIlRDIFBMTCA0IiwgJmRrbF9wbGxfZnVu
Y3MsIERQTExfSURfSUNMX01HUExMNCwgMCB9LAorCXsgIlRDIFBMTCA1IiwgJmRrbF9wbGxfZnVu
Y3MsIERQTExfSURfVEdMX01HUExMNSwgMCB9LAorCXsgIlRDIFBMTCA2IiwgJmRrbF9wbGxfZnVu
Y3MsIERQTExfSURfVEdMX01HUExMNiwgMCB9LAogCXsgfSwKIH07CiAKLS0gCjIuMjMuMAoKX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KSW50ZWwtZ2Z4IG1h
aWxpbmcgbGlzdApJbnRlbC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMu
ZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vaW50ZWwtZ2Z4

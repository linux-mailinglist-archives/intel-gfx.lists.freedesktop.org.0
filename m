Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 6D15DA10C6
	for <lists+intel-gfx@lfdr.de>; Thu, 29 Aug 2019 07:26:11 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 6BEF989F55;
	Thu, 29 Aug 2019 05:26:09 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from NAM03-DM3-obe.outbound.protection.outlook.com
 (mail-eopbgr800089.outbound.protection.outlook.com [40.107.80.89])
 by gabe.freedesktop.org (Postfix) with ESMTPS id F2F8F89F55
 for <intel-gfx@lists.freedesktop.org>; Thu, 29 Aug 2019 05:26:07 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=HdcF47uF499oAH4tOo76XOPczG6UVjwV4O2AC2TK7SZRHtCD3MqZ3YXYAS2ipfQcBVH+dYtWYOWQMZ+oWu8PEjQQqa7b91LYyRLcIQqRdNR6l3uFkHoPuYQdAnNRaayX5a/8nHmUWQRzMxqhxxtd5eRy845zc1BHu0OOir2w7SzG5nAdOjVxi++pDtzXxjU5okr+sKHnucv87vCbNdL/ZoXtvyLZOvW3DZvUn4hPwU+RxI6RCWV68VJQhG3mR18q2m2cnKatvDQD7FKmvMTJgOX8XSXbeblYwos/bDhoybaZieGUWbUhFelh14A5F76I8hCSvz8kwpJfG9apvZLMSA==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=pemfz3zv6bSoxmKTZwMl5s0c0bLVonrLF76UJNuVyc0=;
 b=DN86rjKybE7bFhNxNJS25Gx1vVlIjnt5pP9xNeg38xweL5oIngpvEKeFZmxiIhjPf5+6aacFSPP/TvTym0XuOl0hdIkJ7nKNX24MXivbaXVmZOmqvjnhOUuJNigsp608wiBSc/N4WNgM5EqtgGTVAp/J4ChmFzYfekDoMSeAYo3zit6HrSdzmnH4db6lPYuvJZqKKVSZdjsyxMJ1fLHX24OKQgTEYzRaGhy+ceDPK8v8hAttXIZP5nQPHqiBQdgKviosRbdLkBfxhR/lnbhduvgBQiQTIJ8bJ9HLHR07BFAdaxd7RxxYrlPpM+kXlmARVLQtOTvext5gGA4CmJCbKA==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=amd.com; dmarc=pass action=none header.from=amd.com; dkim=pass
 header.d=amd.com; arc=none
Received: from MN2PR12MB2910.namprd12.prod.outlook.com (20.179.81.219) by
 MN2PR12MB3711.namprd12.prod.outlook.com (10.255.236.24) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.2178.18; Thu, 29 Aug 2019 05:26:06 +0000
Received: from MN2PR12MB2910.namprd12.prod.outlook.com
 ([fe80::889b:34f1:1aaa:1e67]) by MN2PR12MB2910.namprd12.prod.outlook.com
 ([fe80::889b:34f1:1aaa:1e67%7]) with mapi id 15.20.2199.021; Thu, 29 Aug 2019
 05:26:06 +0000
From: "Zhou, David(ChunMing)" <David1.Zhou@amd.com>
To: Lionel Landwerlin <lionel.g.landwerlin@intel.com>,
 "intel-gfx@lists.freedesktop.org" <intel-gfx@lists.freedesktop.org>
Thread-Topic: [PATCH v11 01/10] drm/syncobj: add sideband payload
Thread-Index: AQHVXa2Tt22qBLtqpUeRDLL1sRqiHacRmKrw
Date: Thu, 29 Aug 2019 05:26:06 +0000
Message-ID: <MN2PR12MB29105AC33D84F8EB3CCF6503B4A20@MN2PR12MB2910.namprd12.prod.outlook.com>
References: <20190828143327.7965-1-lionel.g.landwerlin@intel.com>
 <20190828143327.7965-2-lionel.g.landwerlin@intel.com>
In-Reply-To: <20190828143327.7965-2-lionel.g.landwerlin@intel.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-originating-ip: [180.167.199.189]
x-ms-publictraffictype: Email
x-ms-office365-filtering-correlation-id: 7eff6dbe-7214-4bfe-4928-08d72c416436
x-ms-office365-filtering-ht: Tenant
x-microsoft-antispam: BCL:0; PCL:0;
 RULEID:(2390118)(7020095)(4652040)(8989299)(4534185)(4627221)(201703031133081)(201702281549075)(8990200)(5600166)(711020)(4605104)(1401327)(4618075)(2017052603328)(7193020);
 SRVR:MN2PR12MB3711; 
x-ms-traffictypediagnostic: MN2PR12MB3711:
x-ms-exchange-transport-forked: True
x-microsoft-antispam-prvs: <MN2PR12MB3711AE4977F6FBDE68D023BDB4A20@MN2PR12MB3711.namprd12.prod.outlook.com>
x-ms-oob-tlc-oobclassifiers: OLM:6790;
x-forefront-prvs: 0144B30E41
x-forefront-antispam-report: SFV:NSPM;
 SFS:(10009020)(4636009)(366004)(136003)(39860400002)(376002)(346002)(396003)(13464003)(189003)(199004)(14454004)(8936002)(11346002)(446003)(2906002)(26005)(316002)(25786009)(14444005)(53546011)(6506007)(102836004)(54906003)(33656002)(110136005)(66066001)(52536014)(478600001)(476003)(486006)(7736002)(305945005)(74316002)(256004)(5660300002)(53936002)(86362001)(99286004)(186003)(229853002)(2501003)(6246003)(6116002)(55016002)(66476007)(66556008)(64756008)(66946007)(3846002)(76116006)(8676002)(6436002)(71190400001)(71200400001)(81166006)(66446008)(81156014)(7696005)(9686003)(76176011)(4326008);
 DIR:OUT; SFP:1101; SCL:1; SRVR:MN2PR12MB3711;
 H:MN2PR12MB2910.namprd12.prod.outlook.com; FPR:; SPF:None; LANG:en;
 PTR:InfoNoRecords; MX:1; A:1; 
received-spf: None (protection.outlook.com: amd.com does not designate
 permitted sender hosts)
x-ms-exchange-senderadcheck: 1
x-microsoft-antispam-message-info: HUqFJhJS0vVsXtVV4SsaRygQmqXCW3eZSVCYZREugYAkZc33xNYl4ciMWkKiF0sd8oaYu4dr+rIRlcWFzk36er1s7SExnzcmi3dSFvw8SvZNlbPYOu7mNZ2NkOG4MQ5XtGHUMdDTAzUZuuJk3Amre/jRql4Ip0okXZxQJTkafUoaPB3c54TcTAOkM0DSnL9Gul22m5TXh9EAX3lYp07kmcn4gZvRYcFKCXSb87uC84akzpSqXN3jl/c45GF3BNdHDgXo+TnBC6fhpkwJsIz02AhN9mWRRlZ5rIXcENErxzbgSpi/YLDu8IUZVRaaaiS34UmtBmkpXKR67xaNmQwjhpvHKh7E7uHnST6JexNko//jT8mYMhOWEjQ2Lnz1NvBmaNSjUdq0ATtbBDC6X6wnu62drABxwXG9JJikVVXsg0I=
MIME-Version: 1.0
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-Network-Message-Id: 7eff6dbe-7214-4bfe-4928-08d72c416436
X-MS-Exchange-CrossTenant-originalarrivaltime: 29 Aug 2019 05:26:06.1110 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: QNDyZQobrulxCcxGKEAFbxl8LHrKuaMV1aTMfCqj3hvbGJROJnNGOuRUqYTFeVQZ
X-MS-Exchange-Transport-CrossTenantHeadersStamped: MN2PR12MB3711
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=amdcloud.onmicrosoft.com; s=selector2-amdcloud-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=pemfz3zv6bSoxmKTZwMl5s0c0bLVonrLF76UJNuVyc0=;
 b=e7sQAtfAkQrO0/MCXVal6X+gEebtp8n1C3xyN5tf+rJZoCvRmAj2VhRZA8PUSk7LsiWENIFOu6R/kmI1wXnROPiVQv8ywJolunADMxK9BwfwvPXmxaRx/7RdM4YJvzkM9K3zwD0SfbXzoxy1LSvYOYFxGc+eI3kxBca11IgEvIQ=
X-Mailman-Original-Authentication-Results: spf=none (sender IP is )
 smtp.mailfrom=David1.Zhou@amd.com; 
Subject: Re: [Intel-gfx] [PATCH v11 01/10] drm/syncobj: add sideband payload
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: "Koenig, Christian" <Christian.Koenig@amd.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

djYgaXMgZmluZSB0byBtZSBhcyB3ZWxsLCBSQiBvbiBpdCB0byBnbyBhaGVhZC4KCk91dCBvZiBj
dXJpb3VzLCB3aHkgIiBbUEFUQ0ggdjExIDAxLzEwXSAiIGlzIG9uIHN1YmplY3Q/CgotRGF2aWQK
Ci0tLS0tT3JpZ2luYWwgTWVzc2FnZS0tLS0tCkZyb206IExpb25lbCBMYW5kd2VybGluIDxsaW9u
ZWwuZy5sYW5kd2VybGluQGludGVsLmNvbT4gClNlbnQ6IFdlZG5lc2RheSwgQXVndXN0IDI4LCAy
MDE5IDEwOjMzIFBNClRvOiBpbnRlbC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCkNjOiBMaW9u
ZWwgTGFuZHdlcmxpbiA8bGlvbmVsLmcubGFuZHdlcmxpbkBpbnRlbC5jb20+OyBaaG91LCBEYXZp
ZChDaHVuTWluZykgPERhdmlkMS5aaG91QGFtZC5jb20+OyBLb2VuaWcsIENocmlzdGlhbiA8Q2hy
aXN0aWFuLktvZW5pZ0BhbWQuY29tPjsgSmFzb24gRWtzdHJhbmQgPGphc29uQGpsZWtzdHJhbmQu
bmV0PgpTdWJqZWN0OiBbUEFUQ0ggdjExIDAxLzEwXSBkcm0vc3luY29iajogYWRkIHNpZGViYW5k
IHBheWxvYWQKClRoZSBWdWxrYW4gdGltZWxpbmUgc2VtYXBob3JlcyBhbGxvdyBzaWduYWxpbmcg
dG8gaGFwcGVuIG9uIHRoZSBwb2ludCBvZiB0aGUgdGltZWxpbmUgd2l0aG91dCBhbGwgb2YgdGhl
IGl0cyBkZXBlbmRlbmNpZXMgdG8gYmUgY3JlYXRlZC4KClRoZSBjdXJyZW50IDIgaW1wbGVtZW50
YXRpb25zIChBTUQvSW50ZWwpIG9mIHRoZSBWdWxrYW4gc3BlYyBvbiB0b3Agb2YgdGhlIExpbnV4
IGtlcm5lbCBhcmUgdXNpbmcgYSB0aHJlYWQgdG8gd2FpdCBvbiB0aGUgZGVwZW5kZW5jaWVzIG9m
IGEgZ2l2ZW4gcG9pbnQgdG8gbWF0ZXJpYWxpemUgYW5kIGRlbGF5IGFjdHVhbCBzdWJtaXNzaW9u
IHRvIHRoZSBrZXJuZWwgZHJpdmVyIHVudGlsIHRoZSB3YWl0IGNvbXBsZXRlcy4KCklmIGEgYmlu
YXJ5IHNlbWFwaG9yZSBpcyBzdWJtaXR0ZWQgZm9yIHNpZ25hbGluZyBhbG9uZyB0aGUgc2lkZSBv
ZiBhIHRpbWVsaW5lIHNlbWFwaG9yZSB3YWl0aW5nIGZvciBjb21wbGV0aW9uIHRoYXQgbWVhbnMg
dGhhdCB0aGUgZHJtIHN5bmNvYmogYXNzb2NpYXRlZCB3aXRoIHRoYXQgYmluYXJ5IHNlbWFwaG9y
ZSB3aWxsIG5vdCBoYXZlIGEgRE1BIGZlbmNlIGFzc29jaWF0ZWQgd2l0aCBpdCBieSB0aGUgdGlt
ZSB2a1F1ZXVlU3VibWl0KCkgcmV0dXJucy4gVGhpcyBhbmQgdGhlIGZhY3QgdGhhdCBhIGJpbmFy
eSBzZW1hcGhvcmUgY2FuIGJlIHNpZ25hbGVkIGFuZCB1bnNpZ25hbGVkIGFzIGJlZm9yZSBpdHMg
RE1BIGZlbmNlcyBtYXRlcmlhbGl6ZSBtZWFuIHRoYXQgd2UgY2Fubm90IGp1c3QgcmVseSBvbiB0
aGUgZmVuY2Ugd2l0aGluIHRoZSBzeW5jb2JqIGJ1dCB3ZSBhbHNvIG5lZWQgYSBzaWRlYmFuZCBw
YXlsb2FkIHZlcmlmeWluZyB0aGF0IHRoZSBmZW5jZSBpbiB0aGUgc3luY29iaiBtYXRjaGVzIHRo
ZSBsYXN0IHN1Ym1pc3Npb24gZnJvbSB0aGUgVnVsa2FuIEFQSSBwb2ludCBvZiB2aWV3LgoKVGhp
cyBjaGFuZ2UgYWRkcyBhIHNpZGViYW5kIHBheWxvYWQgdGhhdCBpcyBpbmNyZW1lbnRlZCB3aXRo
IHNpZ25hbGVkIHN5bmNvYmogd2hlbiB2a1F1ZXVlU3VibWl0KCkgaXMgY2FsbGVkLiBUaGUgbmV4
dCB2a1F1ZXVlU3VibWl0KCkgd2FpdGluZyBvbiBhIHRoZSBzeW5jb2JqIHdpbGwgcmVhZCB0aGUg
c2lkZWJhbmQgcGF5bG9hZCBhbmQgd2FpdCBmb3IgYSBmZW5jZSBjaGFpbiBlbGVtZW50IHdpdGgg
YSBzZXFubyBzdXBlcmlvciBvciBlcXVhbCB0byB0aGUgc2lkZWJhbmQgcGF5bG9hZCB2YWx1ZSB0
byBiZSBhZGRlZCBpbnRvIHRoZSBmZW5jZSBjaGFpbiBhbmQgdXNlIHRoYXQgZmVuY2UgdG8gdHJp
Z2dlciB0aGUgc3VibWlzc2lvbiBvbiB0aGUga2VybmVsIGRyaXZlci4KCnYyOiBVc2UgYSBzZXBh
cmF0ZSBpb2N0bCB0byBnZXQvc2V0IHRoZSBzaWRlYmFuZCB2YWx1ZSAoQ2hyaXN0aWFuKQoKdjM6
IFVzZSAyIGlvY3RscyBmb3IgZ2V0L3NldCAoQ2hyaXN0aWFuKQoKdjQ6IFVzZSBhIHNpbmdsZSBu
ZXcgaW9jdGwKCnY1OiBhIGJ1bmNoIG9mIGJsYXR0YW50IG1pc3Rha2VzCiAgICBTdG9yZSBwYXls
b2FkIGF0b21pY2FsbHkgKENocmlzKQoKdjY6IE9ubHkgdG91Y2ggYXRvbWljIHZhbHVlIG9uY2Ug
KEphc29uKQoKU2lnbmVkLW9mZi1ieTogTGlvbmVsIExhbmR3ZXJsaW4gPGxpb25lbC5nLmxhbmR3
ZXJsaW5AaW50ZWwuY29tPgpSZXZpZXdlZC1ieTogRGF2aWQgWmhvdSA8RGF2aWQxLlpob3VAYW1k
LmNvbT4gKHY1KQpDYzogQ2hyaXN0aWFuIEtvZW5pZyA8Q2hyaXN0aWFuLktvZW5pZ0BhbWQuY29t
PgpDYzogSmFzb24gRWtzdHJhbmQgPGphc29uQGpsZWtzdHJhbmQubmV0PgpDYzogRGF2aWQoQ2h1
bk1pbmcpIFpob3UgPERhdmlkMS5aaG91QGFtZC5jb20+Ci0tLQogZHJpdmVycy9ncHUvZHJtL2Ry
bV9pbnRlcm5hbC5oIHwgIDIgKysKIGRyaXZlcnMvZ3B1L2RybS9kcm1faW9jdGwuYyAgICB8ICAz
ICsrCiBkcml2ZXJzL2dwdS9kcm0vZHJtX3N5bmNvYmouYyAgfCA1OSArKysrKysrKysrKysrKysr
KysrKysrKysrKysrKysrKystCiBpbmNsdWRlL2RybS9kcm1fc3luY29iai5oICAgICAgfCAgOSAr
KysrKysKIGluY2x1ZGUvdWFwaS9kcm0vZHJtLmggICAgICAgICB8IDE3ICsrKysrKysrKysKIDUg
ZmlsZXMgY2hhbmdlZCwgODkgaW5zZXJ0aW9ucygrKSwgMSBkZWxldGlvbigtKQoKZGlmZiAtLWdp
dCBhL2RyaXZlcnMvZ3B1L2RybS9kcm1faW50ZXJuYWwuaCBiL2RyaXZlcnMvZ3B1L2RybS9kcm1f
aW50ZXJuYWwuaCBpbmRleCA1MWEyMDU1YzhmMTguLmUyOTdkZmQ4NTAxOSAxMDA2NDQKLS0tIGEv
ZHJpdmVycy9ncHUvZHJtL2RybV9pbnRlcm5hbC5oCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9kcm1f
aW50ZXJuYWwuaApAQCAtMjA4LDYgKzIwOCw4IEBAIGludCBkcm1fc3luY29ial90aW1lbGluZV9z
aWduYWxfaW9jdGwoc3RydWN0IGRybV9kZXZpY2UgKmRldiwgdm9pZCAqZGF0YSwKIAkJCQkgICAg
ICBzdHJ1Y3QgZHJtX2ZpbGUgKmZpbGVfcHJpdmF0ZSk7ICBpbnQgZHJtX3N5bmNvYmpfcXVlcnlf
aW9jdGwoc3RydWN0IGRybV9kZXZpY2UgKmRldiwgdm9pZCAqZGF0YSwKIAkJCSAgICBzdHJ1Y3Qg
ZHJtX2ZpbGUgKmZpbGVfcHJpdmF0ZSk7CitpbnQgZHJtX3N5bmNvYmpfYmluYXJ5X2lvY3RsKHN0
cnVjdCBkcm1fZGV2aWNlICpkZXYsIHZvaWQgKmRhdGEsCisJCQkgICAgIHN0cnVjdCBkcm1fZmls
ZSAqZmlsZV9wcml2YXRlKTsKIAogLyogZHJtX2ZyYW1lYnVmZmVyLmMgKi8KIHZvaWQgZHJtX2Zy
YW1lYnVmZmVyX3ByaW50X2luZm8oc3RydWN0IGRybV9wcmludGVyICpwLCB1bnNpZ25lZCBpbnQg
aW5kZW50LCBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2RybV9pb2N0bC5jIGIvZHJpdmVy
cy9ncHUvZHJtL2RybV9pb2N0bC5jIGluZGV4IGY2NzVhM2JiMmM4OC4uNjQ0ZDBiYzgwMGE0IDEw
MDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vZHJtX2lvY3RsLmMKKysrIGIvZHJpdmVycy9ncHUv
ZHJtL2RybV9pb2N0bC5jCkBAIC03MDMsNiArNzAzLDkgQEAgc3RhdGljIGNvbnN0IHN0cnVjdCBk
cm1faW9jdGxfZGVzYyBkcm1faW9jdGxzW10gPSB7CiAJCSAgICAgIERSTV9SRU5ERVJfQUxMT1cp
LAogCURSTV9JT0NUTF9ERUYoRFJNX0lPQ1RMX1NZTkNPQkpfUVVFUlksIGRybV9zeW5jb2JqX3F1
ZXJ5X2lvY3RsLAogCQkgICAgICBEUk1fUkVOREVSX0FMTE9XKSwKKwlEUk1fSU9DVExfREVGKERS
TV9JT0NUTF9TWU5DT0JKX0JJTkFSWSwgZHJtX3N5bmNvYmpfYmluYXJ5X2lvY3RsLAorCQkgICAg
ICBEUk1fUkVOREVSX0FMTE9XKSwKKwogCURSTV9JT0NUTF9ERUYoRFJNX0lPQ1RMX0NSVENfR0VU
X1NFUVVFTkNFLCBkcm1fY3J0Y19nZXRfc2VxdWVuY2VfaW9jdGwsIDApLAogCURSTV9JT0NUTF9E
RUYoRFJNX0lPQ1RMX0NSVENfUVVFVUVfU0VRVUVOQ0UsIGRybV9jcnRjX3F1ZXVlX3NlcXVlbmNl
X2lvY3RsLCAwKSwKIAlEUk1fSU9DVExfREVGKERSTV9JT0NUTF9NT0RFX0NSRUFURV9MRUFTRSwg
ZHJtX21vZGVfY3JlYXRlX2xlYXNlX2lvY3RsLCBEUk1fTUFTVEVSKSwgZGlmZiAtLWdpdCBhL2Ry
aXZlcnMvZ3B1L2RybS9kcm1fc3luY29iai5jIGIvZHJpdmVycy9ncHUvZHJtL2RybV9zeW5jb2Jq
LmMgaW5kZXggNGI1YzdiMGVkNzE0Li43MzIzMTBiMmIzNjcgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMv
Z3B1L2RybS9kcm1fc3luY29iai5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9kcm1fc3luY29iai5j
CkBAIC0xMjI0LDggKzEyMjQsMTAgQEAgZHJtX3N5bmNvYmpfcmVzZXRfaW9jdGwoc3RydWN0IGRy
bV9kZXZpY2UgKmRldiwgdm9pZCAqZGF0YSwKIAlpZiAocmV0IDwgMCkKIAkJcmV0dXJuIHJldDsK
IAotCWZvciAoaSA9IDA7IGkgPCBhcmdzLT5jb3VudF9oYW5kbGVzOyBpKyspCisJZm9yIChpID0g
MDsgaSA8IGFyZ3MtPmNvdW50X2hhbmRsZXM7IGkrKykgewogCQlkcm1fc3luY29ial9yZXBsYWNl
X2ZlbmNlKHN5bmNvYmpzW2ldLCBOVUxMKTsKKwkJYXRvbWljNjRfc2V0KCZzeW5jb2Jqc1tpXS0+
YmluYXJ5X3BheWxvYWQsIDApOworCX0KIAogCWRybV9zeW5jb2JqX2FycmF5X2ZyZWUoc3luY29i
anMsIGFyZ3MtPmNvdW50X2hhbmRsZXMpOwogCkBAIC0xMzk1LDYgKzEzOTcsNjEgQEAgaW50IGRy
bV9zeW5jb2JqX3F1ZXJ5X2lvY3RsKHN0cnVjdCBkcm1fZGV2aWNlICpkZXYsIHZvaWQgKmRhdGEs
CiAJCWlmIChyZXQpCiAJCQlicmVhazsKIAl9CisKKwlkcm1fc3luY29ial9hcnJheV9mcmVlKHN5
bmNvYmpzLCBhcmdzLT5jb3VudF9oYW5kbGVzKTsKKworCXJldHVybiByZXQ7Cit9CisKK2ludCBk
cm1fc3luY29ial9iaW5hcnlfaW9jdGwoc3RydWN0IGRybV9kZXZpY2UgKmRldiwgdm9pZCAqZGF0
YSwKKwkJCSAgICAgc3RydWN0IGRybV9maWxlICpmaWxlX3ByaXZhdGUpCit7CisJc3RydWN0IGRy
bV9zeW5jb2JqX2JpbmFyeV9hcnJheSAqYXJncyA9IGRhdGE7CisJc3RydWN0IGRybV9zeW5jb2Jq
ICoqc3luY29ianM7CisJdTMyIF9fdXNlciAqYWNjZXNzX2ZsYWdzID0gdTY0X3RvX3VzZXJfcHRy
KGFyZ3MtPmFjY2Vzc19mbGFncyk7CisJdTY0IF9fdXNlciAqdmFsdWVzID0gdTY0X3RvX3VzZXJf
cHRyKGFyZ3MtPnZhbHVlcyk7CisJdTMyIGk7CisJaW50IHJldDsKKworCWlmICghZHJtX2NvcmVf
Y2hlY2tfZmVhdHVyZShkZXYsIERSSVZFUl9TWU5DT0JKX1RJTUVMSU5FKSkKKwkJcmV0dXJuIC1F
T1BOT1RTVVBQOworCisJaWYgKGFyZ3MtPnBhZCAhPSAwKQorCQlyZXR1cm4gLUVJTlZBTDsKKwor
CWlmIChhcmdzLT5jb3VudF9oYW5kbGVzID09IDApCisJCXJldHVybiAtRUlOVkFMOworCisJcmV0
ID0gZHJtX3N5bmNvYmpfYXJyYXlfZmluZChmaWxlX3ByaXZhdGUsCisJCQkJICAgICB1NjRfdG9f
dXNlcl9wdHIoYXJncy0+aGFuZGxlcyksCisJCQkJICAgICBhcmdzLT5jb3VudF9oYW5kbGVzLAor
CQkJCSAgICAgJnN5bmNvYmpzKTsKKwlpZiAocmV0IDwgMCkKKwkJcmV0dXJuIHJldDsKKworCWZv
ciAoaSA9IDA7IGkgPCBhcmdzLT5jb3VudF9oYW5kbGVzOyBpKyspIHsKKwkJdTMyIGZsYWdzOwor
CQl1NjQgdmFsdWU7CisKKwkJaWYgKGdldF91c2VyKGZsYWdzLCAmYWNjZXNzX2ZsYWdzW2ldKSkg
eworCQkJcmV0ID0gLUVGQVVMVDsKKwkJCWJyZWFrOworCQl9CisKKwkJaWYgKGZsYWdzICYgRFJN
X1NZTkNPQkpfQklOQVJZX1ZBTFVFX0lOQykKKwkJCXZhbHVlID0gYXRvbWljNjRfaW5jX3JldHVy
bigmc3luY29ianNbaV0tPmJpbmFyeV9wYXlsb2FkKSAtIDE7CisJCWVsc2UgaWYgKGZsYWdzICYg
RFJNX1NZTkNPQkpfQklOQVJZX1ZBTFVFX1JFQUQpCisJCQl2YWx1ZSA9IGF0b21pYzY0X3JlYWQo
JnN5bmNvYmpzW2ldLT5iaW5hcnlfcGF5bG9hZCk7CisKKwkJaWYgKGZsYWdzICYgRFJNX1NZTkNP
QkpfQklOQVJZX1ZBTFVFX1JFQUQpIHsKKwkJCWlmIChwdXRfdXNlcih2YWx1ZSwgJnZhbHVlc1tp
XSkpIHsKKwkJCQlyZXQgPSAtRUZBVUxUOworCQkJCWJyZWFrOworCQkJfQorCQl9CisKKwl9CisK
IAlkcm1fc3luY29ial9hcnJheV9mcmVlKHN5bmNvYmpzLCBhcmdzLT5jb3VudF9oYW5kbGVzKTsK
IAogCXJldHVybiByZXQ7CmRpZmYgLS1naXQgYS9pbmNsdWRlL2RybS9kcm1fc3luY29iai5oIGIv
aW5jbHVkZS9kcm0vZHJtX3N5bmNvYmouaCBpbmRleCA2Y2Y3MjQzYTFkYzUuLmFhNzZjYjNmOTEw
NyAxMDA2NDQKLS0tIGEvaW5jbHVkZS9kcm0vZHJtX3N5bmNvYmouaAorKysgYi9pbmNsdWRlL2Ry
bS9kcm1fc3luY29iai5oCkBAIC02MSw2ICs2MSwxNSBAQCBzdHJ1Y3QgZHJtX3N5bmNvYmogewog
CSAqIEBmaWxlOiBBIGZpbGUgYmFja2luZyBmb3IgdGhpcyBzeW5jb2JqLgogCSAqLwogCXN0cnVj
dCBmaWxlICpmaWxlOworCS8qKgorCSAqIEBiaW5hcnlfcGF5bG9hZDogQSA2NGJpdCBwYXlsb2Fk
IGZvciBiaW5hcnkgc3luY29ianMuCisJICoKKwkgKiBXZSB1c2UgdGhlIHBheWxvYWQgdmFsdWUg
dG8gd2FpdCBvbiBiaW5hcnkgc3luY29iaiBmZW5jZXMgdG8KKwkgKiBtYXRlcmlhbGl6ZS4gSXQg
aXMgYSByZXNlcnZhdGlvbiBtZWNoYW5pc20gZm9yIHRoZSBzaWduYWxlciB0bworCSAqIGV4cHJl
c3MgdGhhdCBhdCBzb21lIHBvaW50IGluIHRoZSBmdXR1cmUgYSBkbWEgZmVuY2Ugd2l0aCB0aGUg
c2FtZQorCSAqIHNlcW5vIHdpbGwgYmUgcHV0IGludG8gdGhlIHN5bmNvYmouCisJICovCisJYXRv
bWljNjRfdCBiaW5hcnlfcGF5bG9hZDsKIH07CiAKIHZvaWQgZHJtX3N5bmNvYmpfZnJlZShzdHJ1
Y3Qga3JlZiAqa3JlZik7IGRpZmYgLS1naXQgYS9pbmNsdWRlL3VhcGkvZHJtL2RybS5oIGIvaW5j
bHVkZS91YXBpL2RybS9kcm0uaCBpbmRleCA4YTViMmY4ZjhlYjkuLjc4YTBhNDEzYjc4OCAxMDA2
NDQKLS0tIGEvaW5jbHVkZS91YXBpL2RybS9kcm0uaAorKysgYi9pbmNsdWRlL3VhcGkvZHJtL2Ry
bS5oCkBAIC03ODUsNiArNzg1LDIyIEBAIHN0cnVjdCBkcm1fc3luY29ial90aW1lbGluZV9hcnJh
eSB7CiAJX191MzIgcGFkOwogfTsKIAorc3RydWN0IGRybV9zeW5jb2JqX2JpbmFyeV9hcnJheSB7
CisJLyogQSBwb2ludGVyIHRvIGFuIGFycmF5IG9mIHUzMiBzeW5jb2JqIGhhbmRsZXMuICovCisJ
X191NjQgaGFuZGxlczsKKwkvKiBBIHBvaW50ZXIgdG8gYW4gYXJyYXkgb2YgdTMyIGFjY2VzcyBm
bGFncyBmb3IgZWFjaCBoYW5kbGUuICovCisJX191NjQgYWNjZXNzX2ZsYWdzOworCS8qIFRoZSBi
aW5hcnkgdmFsdWUgb2YgYSBzeW5jb2JqIGlzIHJlYWQgYmVmb3JlIGl0IGlzIGluY3JlbWVudGVk
LiAqLyAKKyNkZWZpbmUgRFJNX1NZTkNPQkpfQklOQVJZX1ZBTFVFX1JFQUQgKDF1IDw8IDApICNk
ZWZpbmUgCitEUk1fU1lOQ09CSl9CSU5BUllfVkFMVUVfSU5DICAoMXUgPDwgMSkKKwkvKiBBIHBv
aW50ZXIgdG8gYW4gYXJyYXkgb2YgdTY0IHZhbHVlcyB3cml0dGVuIHRvIGJ5IHRoZSBrZXJuZWwg
aWYgdGhlCisJICogaGFuZGxlIGlzIGZsYWdnZWQgZm9yIHJlYWRpbmcuCisJICovCisJX191NjQg
dmFsdWVzOworCS8qIFRoZSBsZW5ndGggb2YgdGhlIDMgYXJyYXlzIGFib3ZlLiAqLworCV9fdTMy
IGNvdW50X2hhbmRsZXM7CisJX191MzIgcGFkOworfTsKIAogLyogUXVlcnkgY3VycmVudCBzY2Fu
b3V0IHNlcXVlbmNlIG51bWJlciAqLyAgc3RydWN0IGRybV9jcnRjX2dldF9zZXF1ZW5jZSB7IEBA
IC05NDYsNiArOTYyLDcgQEAgZXh0ZXJuICJDIiB7CiAjZGVmaW5lIERSTV9JT0NUTF9TWU5DT0JK
X1FVRVJZCQlEUk1fSU9XUigweENCLCBzdHJ1Y3QgZHJtX3N5bmNvYmpfdGltZWxpbmVfYXJyYXkp
CiAjZGVmaW5lIERSTV9JT0NUTF9TWU5DT0JKX1RSQU5TRkVSCURSTV9JT1dSKDB4Q0MsIHN0cnVj
dCBkcm1fc3luY29ial90cmFuc2ZlcikKICNkZWZpbmUgRFJNX0lPQ1RMX1NZTkNPQkpfVElNRUxJ
TkVfU0lHTkFMCURSTV9JT1dSKDB4Q0QsIHN0cnVjdCBkcm1fc3luY29ial90aW1lbGluZV9hcnJh
eSkKKyNkZWZpbmUgRFJNX0lPQ1RMX1NZTkNPQkpfQklOQVJZCURSTV9JT1dSKDB4Q0UsIHN0cnVj
dCBkcm1fc3luY29ial9iaW5hcnlfYXJyYXkpCiAKIC8qKgogICogRGV2aWNlIHNwZWNpZmljIGlv
Y3RscyBzaG91bGQgb25seSBiZSBpbiB0aGVpciByZXNwZWN0aXZlIGhlYWRlcnMKLS0KMi4yMy4w
CgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpJbnRlbC1n
ZnggbWFpbGluZyBsaXN0CkludGVsLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9s
aXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9pbnRlbC1nZng=

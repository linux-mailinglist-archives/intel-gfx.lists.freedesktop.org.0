Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 0DD95A722F
	for <lists+intel-gfx@lfdr.de>; Tue,  3 Sep 2019 20:03:07 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id A13C189786;
	Tue,  3 Sep 2019 18:03:04 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga06.intel.com (mga06.intel.com [134.134.136.31])
 by gabe.freedesktop.org (Postfix) with ESMTPS id C0C218979F
 for <intel-gfx@lists.freedesktop.org>; Tue,  3 Sep 2019 18:03:01 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from fmsmga005.fm.intel.com ([10.253.24.32])
 by orsmga104.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 03 Sep 2019 11:03:01 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.64,463,1559545200"; d="scan'208";a="382213031"
Received: from genxfsim-desktop.iind.intel.com ([10.223.74.120])
 by fmsmga005.fm.intel.com with ESMTP; 03 Sep 2019 11:02:59 -0700
From: Anshuman Gupta <anshuman.gupta@intel.com>
To: intel-gfx@lists.freedesktop.org
Date: Tue,  3 Sep 2019 23:29:38 +0530
Message-Id: <20190903175939.6741-7-anshuman.gupta@intel.com>
X-Mailer: git-send-email 2.21.0
In-Reply-To: <20190903175939.6741-1-anshuman.gupta@intel.com>
References: <20190903175939.6741-1-anshuman.gupta@intel.com>
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH v6 6/7] drm/i915/tgl: switch between dc3co and
 dc5 based on display idleness
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: jani.nikula@intel.com
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

REMzQ08gaXMgdXNlZnVsIHBvd2VyIHN0YXRlLCB3aGVuIERNQyBkZXRlY3RzIFBTUjIgaWRsZSBm
cmFtZQp3aGlsZSBhbiBhY3RpdmUgdmlkZW8gcGxheWJhY2ssIHBsYXlpbmcgMzBmcHMgdmlkZW8g
b24gNjBoeiBwYW5lbAppcyB0aGUgY2xhc3NpYyBleGFtcGxlIG9mIHRoaXMgdXNlIGNhc2UuCkRD
NSBhbmQgREM2IHNhdmVzIG1vcmUgcG93ZXIsIGJ1dCBjYW4ndCBiZSBlbnRlcmVkIGR1cmluZyB2
aWRlbwpwbGF5YmFjayBiZWNhdXNlIHRoZXJlIGFyZSBub3QgZW5vdWdoIGlkbGUgZnJhbWVzIGlu
IGEgcm93IHRvIG1lZXQKbW9zdCBQU1IyIHBhbmVsIGRlZXAgc2xlZXAgZW50cnkgcmVxdWlyZW1l
bnQgdHlwaWNhbGx5IDQgZnJhbWVzLgoKSXQgd2lsbCBiZSB3b3J0aHkgdG8gZW5hYmxlIERDM0NP
IGFmdGVyIGNvbXBsZXRpb24gb2YgZWFjaCBmbGlwCmFuZCBzd2l0Y2ggYmFjayB0byBEQzUgd2hl
biBkaXNwbGF5IGlzIGlkbGUsIGFzIGRyaXZlciBkb2Vzbid0CmRpZmZlcmVudGlhdGUgYmV0d2Vl
biB2aWRlbyBwbGF5YmFjayBhbmQgYSBub3JtYWwgZmxpcC4KSXQgaXMgc2FmZXIgdG8gYWxsb3cg
REM1IGFmdGVyIDYgaWRsZSBmcmFtZSwgYXMgUFNSMiByZXF1aXJlcwptaW5pbXVtIDYgaWRsZSBm
cmFtZS4KCnYyOiBjYWxjdWxhdGVkIHMvdyBzdGF0ZSB0byBzd2l0Y2ggb3ZlciBkYzNjbyB3aGVu
IHRoZXJlIGlzIGFuCiAgICB1cGRhdGUuIFtJbXJlXQogICAgdXNlZCBjYW5jZWxfZGVsYXllZF93
b3JrX3N5bmMoKSBpbiBvcmRlciB0byBhdm9pZCBhbnkgcmFjZQogICAgd2l0aCBhbHJlYWR5IHNj
aGVkdWxlZCBkZWxheWVkIHdvcmsuIFtJbXJlXQp2MzogY2FuY2VsX2RlbGF5ZWRfd29ya19zeW5j
KCkgbWF5IGJsb2NrZWQgdGhlIGNvbW1pdCB3b3JrLgogICAgSGVuY2UgZHJvcHBpbmcgaXQsIGRj
NV9pZGxlX3RocmVhZCgpIGNoZWNrcyB0aGUgdmFsaWQgd2FrZXJlZiBiZWZvcmUKICAgIHB1dHRp
bmcgdGhlIHJlZmVyZW5jZSBjb3VudCwgd2hpY2ggYXZvaWRzIGFueSBjaGFuY2VzIG9mIGRyb3Bw
aW5nCiAgICBhIHplcm8gd2FrZXJlZi4gW0ltcmUgKElSQyldCnY0OiB1c2UgZnJvbnRidWZmZXIg
Zmx1c2ggbWVjaGFuaXNtLiBbSW1yZV0KCkNjOiBKYW5pIE5pa3VsYSA8amFuaS5uaWt1bGFAaW50
ZWwuY29tPgpDYzogSW1yZSBEZWFrIDxpbXJlLmRlYWtAaW50ZWwuY29tPgpDYzogQW5pbWVzaCBN
YW5uYSA8YW5pbWVzaC5tYW5uYUBpbnRlbC5jb20+ClNpZ25lZC1vZmYtYnk6IEFuc2h1bWFuIEd1
cHRhIDxhbnNodW1hbi5ndXB0YUBpbnRlbC5jb20+Ci0tLQogZHJpdmVycy9ncHUvZHJtL2k5MTUv
ZGlzcGxheS9pbnRlbF9kaXNwbGF5LmMgIHwgIDIgKwogLi4uL2RybS9pOTE1L2Rpc3BsYXkvaW50
ZWxfZGlzcGxheV9wb3dlci5jICAgIHwgNzUgKysrKysrKysrKysrKysrKysrKwogLi4uL2RybS9p
OTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheV9wb3dlci5oICAgIHwgIDcgKysKIC4uLi9ncHUvZHJt
L2k5MTUvZGlzcGxheS9pbnRlbF9mcm9udGJ1ZmZlci5jICB8ICAxICsKIGRyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2Rpc3BsYXkvaW50ZWxfcHNyLmMgICAgICB8ICAxICsKIGRyaXZlcnMvZ3B1L2RybS9p
OTE1L2k5MTVfZHJ2LmggICAgICAgICAgICAgICB8ICAxICsKIDYgZmlsZXMgY2hhbmdlZCwgODcg
aW5zZXJ0aW9ucygrKQoKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkv
aW50ZWxfZGlzcGxheS5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNw
bGF5LmMKaW5kZXggMDFiMjM0NDNjOTZiLi45NGVlNGZlNmNjODUgMTAwNjQ0Ci0tLSBhL2RyaXZl
cnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheS5jCisrKyBiL2RyaXZlcnMvZ3B1
L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheS5jCkBAIC0xNjE2Niw2ICsxNjE2Niw3IEBA
IGludCBpbnRlbF9tb2Rlc2V0X2luaXQoc3RydWN0IGRybV9kZXZpY2UgKmRldikKIAlpbml0X2xs
aXN0X2hlYWQoJmRldl9wcml2LT5hdG9taWNfaGVscGVyLmZyZWVfbGlzdCk7CiAJSU5JVF9XT1JL
KCZkZXZfcHJpdi0+YXRvbWljX2hlbHBlci5mcmVlX3dvcmssCiAJCSAgaW50ZWxfYXRvbWljX2hl
bHBlcl9mcmVlX3N0YXRlX3dvcmtlcik7CisJSU5JVF9ERUxBWUVEX1dPUksoJmRldl9wcml2LT5j
c3IuaWRsZV93b3JrLCB0Z2xfZGM1X2lkbGVfdGhyZWFkKTsKIAogCWludGVsX2luaXRfcXVpcmtz
KGRldl9wcml2KTsKIApAQCAtMTcxMDcsNiArMTcxMDgsNyBAQCB2b2lkIGludGVsX21vZGVzZXRf
ZHJpdmVyX3JlbW92ZShzdHJ1Y3QgZHJtX2RldmljZSAqZGV2KQogCWZsdXNoX3dvcmtxdWV1ZShk
ZXZfcHJpdi0+bW9kZXNldF93cSk7CiAKIAlmbHVzaF93b3JrKCZkZXZfcHJpdi0+YXRvbWljX2hl
bHBlci5mcmVlX3dvcmspOworCWZsdXNoX2RlbGF5ZWRfd29yaygmZGV2X3ByaXYtPmNzci5pZGxl
X3dvcmspOwogCVdBUk5fT04oIWxsaXN0X2VtcHR5KCZkZXZfcHJpdi0+YXRvbWljX2hlbHBlci5m
cmVlX2xpc3QpKTsKIAogCS8qCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNw
bGF5L2ludGVsX2Rpc3BsYXlfcG93ZXIuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkv
aW50ZWxfZGlzcGxheV9wb3dlci5jCmluZGV4IDk1ZjM1MmJmMDE3My4uNTcyNDhhMmE2YWQ3IDEw
MDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXlfcG93
ZXIuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXlfcG93
ZXIuYwpAQCAtMjAsNiArMjAsNyBAQAogI2luY2x1ZGUgImludGVsX3NpZGViYW5kLmgiCiAjaW5j
bHVkZSAiaW50ZWxfdGMuaCIKICNpbmNsdWRlICJpbnRlbF9wbS5oIgorI2luY2x1ZGUgImludGVs
X3Bzci5oIgogCiBib29sIGludGVsX2Rpc3BsYXlfcG93ZXJfd2VsbF9pc19lbmFibGVkKHN0cnVj
dCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiwKIAkJCQkJIGVudW0gaTkxNV9wb3dlcl93ZWxs
X2lkIHBvd2VyX3dlbGxfaWQpOwpAQCAtNzczLDYgKzc3NCwyNyBAQCBzdGF0aWMgdm9pZCBnZW45
X3NldF9kY19zdGF0ZShzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYsIHUzMiBzdGF0
ZSkKIAlkZXZfcHJpdi0+Y3NyLmRjX3N0YXRlID0gdmFsICYgbWFzazsKIH0KIAorc3RhdGljIHUz
MiBpbnRlbF9nZXRfZnJhbWVfdGltZV91cyhjb25zdCBzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAq
Y3N0YXRlKQoreworCXUzMiBwaXhlbF9yYXRlLCBjcnRjX2h0b3RhbCwgY3J0Y192dG90YWw7CisJ
dTMyIGZyYW1ldGltZV91czsKKworCWlmICghY3N0YXRlIHx8ICFjc3RhdGUtPmJhc2UuYWN0aXZl
KQorCQlyZXR1cm4gMDsKKworCXBpeGVsX3JhdGUgPSBjc3RhdGUtPnBpeGVsX3JhdGU7CisKKwlp
ZiAoV0FSTl9PTihwaXhlbF9yYXRlID09IDApKQorCQlyZXR1cm4gMDsKKworCWNydGNfaHRvdGFs
ID0gY3N0YXRlLT5iYXNlLmFkanVzdGVkX21vZGUuY3J0Y19odG90YWw7CisJY3J0Y192dG90YWwg
PSBjc3RhdGUtPmJhc2UuYWRqdXN0ZWRfbW9kZS5jcnRjX3Z0b3RhbDsKKwlmcmFtZXRpbWVfdXMg
PSBESVZfUk9VTkRfVVAoY3J0Y19odG90YWwgKiBjcnRjX3Z0b3RhbCAqIDEwMDBVTEwsCisJCQkJ
ICAgIHBpeGVsX3JhdGUpOworCisJcmV0dXJuIGZyYW1ldGltZV91czsKK30KKwogdm9pZCB0Z2xf
ZW5hYmxlX3BzcjJfdHJhbnNjb2Rlcl9leGl0bGluZShjb25zdCBzdHJ1Y3QgaW50ZWxfY3J0Y19z
dGF0ZSAqY3N0YXRlKQogewogCXUzMiBsaW5ldGltZV91cywgdmFsLCBleGl0X3NjYW5saW5lczsK
QEAgLTgwMSw2ICs4MjMsNTAgQEAgdm9pZCB0Z2xfZW5hYmxlX3BzcjJfdHJhbnNjb2Rlcl9leGl0
bGluZShjb25zdCBzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqY3N0YXRlKQogCUk5MTVfV1JJVEUo
RVhJVExJTkUoY3N0YXRlLT5jcHVfdHJhbnNjb2RlciksIHZhbCk7CiB9CiAKK3ZvaWQgdGdsX2Rj
M2NvX2ZsdXNoKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiwKKwkJICAgICB1bnNp
Z25lZCBpbnQgZnJvbnRidWZmZXJfYml0cywgZW51bSBmYl9vcF9vcmlnaW4gb3JpZ2luKQorewor
CXN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpjc3RhdGU7CisJdTMyIGRlbGF5OworCXVuc2lnbmVk
IGludCBidXN5X2Zyb250YnVmZmVyX2JpdHM7CisKKwlpZiAoIUlTX1RJR0VSTEFLRShkZXZfcHJp
dikpCisJCXJldHVybjsKKworCWlmIChvcmlnaW4gIT0gT1JJR0lOX0ZMSVApCisJCXJldHVybjsK
KworCWlmICghZGV2X3ByaXYtPmNzci5kYzNjb19jcnRjKQorCQlyZXR1cm47CisKKwljc3RhdGUg
PSB0b19pbnRlbF9jcnRjX3N0YXRlKGRldl9wcml2LT5jc3IuZGMzY29fY3J0Yy0+YmFzZS5zdGF0
ZSk7CisJZnJvbnRidWZmZXJfYml0cyAmPQorCQlJTlRFTF9GUk9OVEJVRkZFUl9BTExfTUFTSyhk
ZXZfcHJpdi0+Y3NyLmRjM2NvX2NydGMtPnBpcGUpOworCWJ1c3lfZnJvbnRidWZmZXJfYml0cyAm
PSB+ZnJvbnRidWZmZXJfYml0czsKKworCW11dGV4X2xvY2soJmRldl9wcml2LT5wc3IubG9jayk7
CisKKwlpZiAoIWRldl9wcml2LT5wc3IucHNyMl9lbmFibGVkIHx8ICFkZXZfcHJpdi0+cHNyLmFj
dGl2ZSkKKwkJZ290byB1bmxvY2s7CisKKwkvKgorCSAqIEF0IGV2ZXJ5IGZsaXAgZnJvbnRidWZm
ZXIgZmx1c2ggZmlyc3QgY2FuY2VsIHRoZSBkZWxheWVkIHdvcmssCisJICogd2hlbiBkZWxheWVk
IHNjaGVkdWxlcyB0aGF0IG1lYW5zIGRpc3BsYXkgaGFzIGJlZW4gaWRsZQorCSAqIGZvciB0aGUg
NiBpZGxlIGZyYW1lLgorCSAqLworCWlmICghYnVzeV9mcm9udGJ1ZmZlcl9iaXRzKSB7CisJCWNh
bmNlbF9kZWxheWVkX3dvcmsoJmRldl9wcml2LT5jc3IuaWRsZV93b3JrKTsKKwkJdGdsX3BzcjJf
ZGVlcF9zbGVlcF9kaXNhYmxlKGRldl9wcml2KTsKKwkJdGdsX3NldF90YXJnZXRfZGNfc3RhdGUo
ZGV2X3ByaXYsIERDX1NUQVRFX0VOX0RDM0NPKTsKKwkJZGVsYXkgPSBEQzVfUkVRX0lETEVfRlJB
TUVTICogaW50ZWxfZ2V0X2ZyYW1lX3RpbWVfdXMoY3N0YXRlKTsKKwkJc2NoZWR1bGVfZGVsYXll
ZF93b3JrKCZkZXZfcHJpdi0+Y3NyLmlkbGVfd29yaywKKwkJCQkgICAgICB1c2Vjc190b19qaWZm
aWVzKGRlbGF5KSk7CisJfQorCit1bmxvY2s6CisJbXV0ZXhfdW5sb2NrKCZkZXZfcHJpdi0+cHNy
LmxvY2spOworfQorCiBzdGF0aWMgYm9vbCB0Z2xfZGMzY29faXNfZWRwX2Nvbm5lY3RlZChzdHJ1
Y3QgaW50ZWxfY3J0Y19zdGF0ZSAgKmNydGNfc3RhdGUpCiB7CiAJc3RydWN0IGRybV9hdG9taWNf
c3RhdGUgKnN0YXRlID0gY3J0Y19zdGF0ZS0+YmFzZS5zdGF0ZTsKQEAgLTg2Nyw2ICs5MzMsMTUg
QEAgdm9pZCB0Z2xfY29tcHV0ZV9kYzNjb19jcnRjKHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpj
cnRjX3N0YXRlKQogCX0KIH0KIAordm9pZCB0Z2xfZGM1X2lkbGVfdGhyZWFkKHN0cnVjdCB3b3Jr
X3N0cnVjdCAqd29yaykKK3sKKwlzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYgPQor
CQljb250YWluZXJfb2Yod29yaywgdHlwZW9mKCpkZXZfcHJpdiksIGNzci5pZGxlX3dvcmsud29y
ayk7CisKKwl0Z2xfc2V0X3RhcmdldF9kY19zdGF0ZShkZXZfcHJpdiwgRENfU1RBVEVfRU5fVVBU
T19EQzYpOworCXRnbF9wc3IyX2RlZXBfc2xlZXBfZW5hYmxlKGRldl9wcml2KTsKK30KKwogc3Rh
dGljIHZvaWQgdGdsX2FsbG93X2RjM2NvKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJp
dikKIHsKIAlpZiAoIWRldl9wcml2LT5wc3Iuc2lua19wc3IyX3N1cHBvcnQpCmRpZmYgLS1naXQg
YS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXlfcG93ZXIuaCBiL2Ry
aXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheV9wb3dlci5oCmluZGV4IGMz
N2M0Y2UyNGE1Zi4uYWVmZGI3MmRiMTMxIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkx
NS9kaXNwbGF5L2ludGVsX2Rpc3BsYXlfcG93ZXIuaAorKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkx
NS9kaXNwbGF5L2ludGVsX2Rpc3BsYXlfcG93ZXIuaApAQCAtOSw2ICs5LDkgQEAKICNpbmNsdWRl
ICJpbnRlbF9kaXNwbGF5LmgiCiAjaW5jbHVkZSAiaW50ZWxfcnVudGltZV9wbS5oIgogI2luY2x1
ZGUgImk5MTVfcmVnLmgiCisjaW5jbHVkZSAiaW50ZWxfZnJvbnRidWZmZXIuaCIKKworI2RlZmlu
ZSBEQzVfUkVRX0lETEVfRlJBTUVTCTYKIAogc3RydWN0IGRybV9pOTE1X3ByaXZhdGU7CiBzdHJ1
Y3QgaW50ZWxfZW5jb2RlcjsKQEAgLTI1OSwxMSArMjYyLDE1IEBAIHZvaWQgaW50ZWxfZGlzcGxh
eV9wb3dlcl9zdXNwZW5kX2xhdGUoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUpOwogdm9p
ZCBpbnRlbF9kaXNwbGF5X3Bvd2VyX3Jlc3VtZV9lYXJseShzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0
ZSAqaTkxNSk7CiB2b2lkIGludGVsX2Rpc3BsYXlfcG93ZXJfc3VzcGVuZChzdHJ1Y3QgZHJtX2k5
MTVfcHJpdmF0ZSAqaTkxNSk7CiB2b2lkIGludGVsX2Rpc3BsYXlfcG93ZXJfcmVzdW1lKHN0cnVj
dCBkcm1faTkxNV9wcml2YXRlICppOTE1KTsKKwogdm9pZCB0Z2xfc2V0X3RhcmdldF9kY19zdGF0
ZShzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYsIHUzMiBzdGF0ZSk7CiBib29sIHRn
bF9kYzNjb19jYW5fZW5hYmxlX2Zhc3RzZXQoc3RydWN0IGludGVsX2NydGNfc3RhdGUgKmNydGNf
c3RhdGUpOwogdm9pZCB0Z2xfY29tcHV0ZV9kYzNjb19jcnRjKHN0cnVjdCBpbnRlbF9jcnRjX3N0
YXRlICpjcnRjX3N0YXRlKTsKIHZvaWQgdGdsX2RjNV9pZGxlX3RocmVhZChzdHJ1Y3Qgd29ya19z
dHJ1Y3QgKndvcmspOwogdm9pZCB0Z2xfZW5hYmxlX3BzcjJfdHJhbnNjb2Rlcl9leGl0bGluZShj
b25zdCBzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqY3N0YXRlKTsKK3ZvaWQgdGdsX2RjNV9pZGxl
X3RocmVhZChzdHJ1Y3Qgd29ya19zdHJ1Y3QgKndvcmspOwordm9pZCB0Z2xfZGMzY29fZmx1c2go
c3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2LAorCQkgICAgIHVuc2lnbmVkIGludCBm
cm9udGJ1ZmZlcl9iaXRzLCBlbnVtIGZiX29wX29yaWdpbiBvcmlnaW4pOwogCiBjb25zdCBjaGFy
ICoKIGludGVsX2Rpc3BsYXlfcG93ZXJfZG9tYWluX3N0cihlbnVtIGludGVsX2Rpc3BsYXlfcG93
ZXJfZG9tYWluIGRvbWFpbik7CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNw
bGF5L2ludGVsX2Zyb250YnVmZmVyLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2lu
dGVsX2Zyb250YnVmZmVyLmMKaW5kZXggZmM0MGRjMWZkYmNjLi5jM2IxMGY2ZTQzODIgMTAwNjQ0
Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZnJvbnRidWZmZXIuYwor
KysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Zyb250YnVmZmVyLmMKQEAg
LTkwLDYgKzkwLDcgQEAgc3RhdGljIHZvaWQgZnJvbnRidWZmZXJfZmx1c2goc3RydWN0IGRybV9p
OTE1X3ByaXZhdGUgKmk5MTUsCiAJbWlnaHRfc2xlZXAoKTsKIAlpbnRlbF9lZHBfZHJyc19mbHVz
aChpOTE1LCBmcm9udGJ1ZmZlcl9iaXRzKTsKIAlpbnRlbF9wc3JfZmx1c2goaTkxNSwgZnJvbnRi
dWZmZXJfYml0cywgb3JpZ2luKTsKKwl0Z2xfZGMzY29fZmx1c2goaTkxNSwgZnJvbnRidWZmZXJf
Yml0cywgb3JpZ2luKTsKIAlpbnRlbF9mYmNfZmx1c2goaTkxNSwgZnJvbnRidWZmZXJfYml0cywg
b3JpZ2luKTsKIH0KIApkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9p
bnRlbF9wc3IuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfcHNyLmMKaW5k
ZXggMDA5ODQ2NWVmNTczLi5jZmE0ZjMwNmFmN2UgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2Rpc3BsYXkvaW50ZWxfcHNyLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlz
cGxheS9pbnRlbF9wc3IuYwpAQCAtNTgzLDYgKzU4Myw3IEBAIHZvaWQgdGdsX3BzcjJfZGVlcF9z
bGVlcF9lbmFibGUoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2KQogCiBzdGF0aWMg
dm9pZCB0Z2xfZGlzYWxsb3dfZGMzY29fb25fcHNyMl9leGl0KHN0cnVjdCBkcm1faTkxNV9wcml2
YXRlICpkZXZfcHJpdikKIHsKKwljYW5jZWxfZGVsYXllZF93b3JrKCZkZXZfcHJpdi0+Y3NyLmlk
bGVfd29yayk7CiAJLyogQmVmb3JlIFBTUjIgZXhpdCBkaXNhbGxvdyBkYzNjbyovCiAJdGdsX3Nl
dF90YXJnZXRfZGNfc3RhdGUoZGV2X3ByaXYsIERDX1NUQVRFX0VOX1VQVE9fREM2KTsKIH0KZGlm
ZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZHJ2LmggYi9kcml2ZXJzL2dwdS9k
cm0vaTkxNS9pOTE1X2Rydi5oCmluZGV4IGQ1OTM5ODBlM2Q1MS4uYzdmMTQ1NzkxMzExIDEwMDY0
NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2Rydi5oCisrKyBiL2RyaXZlcnMvZ3B1
L2RybS9pOTE1L2k5MTVfZHJ2LmgKQEAgLTMzOCw2ICszMzgsNyBAQCBzdHJ1Y3QgaW50ZWxfY3Ny
IHsKIAl1MzIgZGNfc3RhdGU7CiAJdTMyIG1heF9kY19zdGF0ZTsKIAl1MzIgYWxsb3dlZF9kY19t
YXNrOworCXN0cnVjdCBkZWxheWVkX3dvcmsgaWRsZV93b3JrOwogCWludGVsX3dha2VyZWZfdCB3
YWtlcmVmOwogCWJvb2wgZGMzY29fYm9vdF9tb2Rlc2V0OwogCS8qIGNhY2hlIHRoZSBjcnRjIG9u
IHdoaWNoIERDM0NPIHdpbGwgYmUgYWxsb3dlZCAqLwotLSAKMi4yMS4wCgpfX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpJbnRlbC1nZnggbWFpbGluZyBsaXN0
CkludGVsLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3Rv
cC5vcmcvbWFpbG1hbi9saXN0aW5mby9pbnRlbC1nZng=

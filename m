Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 32DCB11A33
	for <lists+intel-gfx@lfdr.de>; Thu,  2 May 2019 15:31:35 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 9F171895C4;
	Thu,  2 May 2019 13:31:33 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga06.intel.com (mga06.intel.com [134.134.136.31])
 by gabe.freedesktop.org (Postfix) with ESMTPS id EA8E3895C4
 for <intel-gfx@lists.freedesktop.org>; Thu,  2 May 2019 13:31:31 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from fmsmga003.fm.intel.com ([10.253.24.29])
 by orsmga104.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 02 May 2019 06:31:31 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.60,421,1549958400"; d="scan'208";a="154144276"
Received: from vandita-desktop.iind.intel.com ([10.223.74.201])
 by FMSMGA003.fm.intel.com with ESMTP; 02 May 2019 06:31:29 -0700
From: Vandita Kulkarni <vandita.kulkarni@intel.com>
To: intel-gfx@lists.freedesktop.org
Date: Thu,  2 May 2019 18:40:40 +0530
Message-Id: <1556802643-19788-1-git-send-email-vandita.kulkarni@intel.com>
X-Mailer: git-send-email 1.9.1
Subject: [Intel-gfx] [v4 1/4] drm/i915: Fix the pipe state timing mismatch
 warnings
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: jani.nikula@intel.com, ville.syrjala@intel.com
MIME-Version: 1.0
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

QWRqdXN0IHRoZSBnZXQgdHJhbnNjb2RlciB0aW1pbmdzIGZvciBtaXBpIGRzaSBhcyBwZXIgdGhl
CnNldCB0aW1pbmcgY2FsY3VsYXRpb25zLgoKdjI6IFVzZSB0aGUgZXhpc3RpbmcgaW50ZWxfZ2V0
X3BpcGVfdGltaW5ncyBhbmQgZG8gdGhlIGRzaQogICAgc3BlY2lmaWMgYWRqdXN0bWVudHMgaW4g
dGhlIGVuY29kZXIgZ2V0X2NvbmZpZyBob29rLihWaWxsZSwgSmFuaSkKCnYzOiBFeGNsdWRlIFZC
TEFOSyBhbmQgSEJMQU5LIHJlZ2lzdGVycyBmb3IgZHNpIHRyYW5zY29kZXIuCgpTaWduZWQtb2Zm
LWJ5OiBWYW5kaXRhIEt1bGthcm5pIDx2YW5kaXRhLmt1bGthcm5pQGludGVsLmNvbT4KLS0tCiBk
cml2ZXJzL2dwdS9kcm0vaTkxNS9pY2xfZHNpLmMgICAgICAgfCAyOSArKysrKysrKysrKysrKysr
KysrKysrKysrKysrKwogZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfZGlzcGxheS5jIHwgMjAg
KysrKysrKysrKysrKystLS0tLS0KIDIgZmlsZXMgY2hhbmdlZCwgNDMgaW5zZXJ0aW9ucygrKSwg
NiBkZWxldGlvbnMoLSkKCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pY2xfZHNp
LmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pY2xfZHNpLmMKaW5kZXggYzZlY2MwMC4uNDVmZTY5
YyAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaWNsX2RzaS5jCisrKyBiL2RyaXZl
cnMvZ3B1L2RybS9pOTE1L2ljbF9kc2kuYwpAQCAtMTE5NCw2ICsxMTk0LDM0IEBAIHN0YXRpYyB2
b2lkIGdlbjExX2RzaV9kaXNhYmxlKHN0cnVjdCBpbnRlbF9lbmNvZGVyICplbmNvZGVyLAogCWdl
bjExX2RzaV9kaXNhYmxlX2lvX3Bvd2VyKGVuY29kZXIpOwogfQogCitzdGF0aWMgdm9pZCBnZW4x
MV9kc2lfZ2V0X3RpbWluZ3Moc3RydWN0IGludGVsX2VuY29kZXIgKmVuY29kZXIsCisJCQkJICBz
dHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqcGlwZV9jb25maWcpCit7CisJc3RydWN0IGludGVsX2Rz
aSAqaW50ZWxfZHNpID0gZW5jX3RvX2ludGVsX2RzaSgmZW5jb2Rlci0+YmFzZSk7CisJc3RydWN0
IGRybV9kaXNwbGF5X21vZGUgKmFkanVzdGVkX21vZGUgPQorCQkJCQkmcGlwZV9jb25maWctPmJh
c2UuYWRqdXN0ZWRfbW9kZTsKKworCWlmIChpbnRlbF9kc2ktPmR1YWxfbGluaykgeworCQlhZGp1
c3RlZF9tb2RlLT5jcnRjX2hkaXNwbGF5ICo9IDI7CisJCWlmIChpbnRlbF9kc2ktPmR1YWxfbGlu
ayA9PSBEU0lfRFVBTF9MSU5LX0ZST05UX0JBQ0spCisJCQlhZGp1c3RlZF9tb2RlLT5jcnRjX2hk
aXNwbGF5IC09CisJCQkJCQlpbnRlbF9kc2ktPnBpeGVsX292ZXJsYXA7CisJCWFkanVzdGVkX21v
ZGUtPmNydGNfaHRvdGFsICo9IDI7CisJfQorCWFkanVzdGVkX21vZGUtPmNydGNfaGJsYW5rX3N0
YXJ0ID0gYWRqdXN0ZWRfbW9kZS0+Y3J0Y19oZGlzcGxheTsKKwlhZGp1c3RlZF9tb2RlLT5jcnRj
X2hibGFua19lbmQgPSBhZGp1c3RlZF9tb2RlLT5jcnRjX2h0b3RhbDsKKworCWlmIChpbnRlbF9k
c2ktPm9wZXJhdGlvbl9tb2RlID09IElOVEVMX0RTSV9WSURFT19NT0RFKSB7CisJCWlmIChpbnRl
bF9kc2ktPmR1YWxfbGluaykgeworCQkJYWRqdXN0ZWRfbW9kZS0+Y3J0Y19oc3luY19zdGFydCAq
PSAyOworCQkJYWRqdXN0ZWRfbW9kZS0+Y3J0Y19oc3luY19lbmQgKj0gMjsKKwkJfQorCX0KKwlh
ZGp1c3RlZF9tb2RlLT5jcnRjX3ZibGFua19zdGFydCA9IGFkanVzdGVkX21vZGUtPmNydGNfdmRp
c3BsYXk7CisJYWRqdXN0ZWRfbW9kZS0+Y3J0Y192YmxhbmtfZW5kID0gYWRqdXN0ZWRfbW9kZS0+
Y3J0Y192dG90YWw7CisKK30KKwogc3RhdGljIHZvaWQgZ2VuMTFfZHNpX2dldF9jb25maWcoc3Ry
dWN0IGludGVsX2VuY29kZXIgKmVuY29kZXIsCiAJCQkJIHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRl
ICpwaXBlX2NvbmZpZykKIHsKQEAgLTEyMDQsNiArMTIzMiw3IEBAIHN0YXRpYyB2b2lkIGdlbjEx
X2RzaV9nZXRfY29uZmlnKHN0cnVjdCBpbnRlbF9lbmNvZGVyICplbmNvZGVyLAogCXBpcGVfY29u
ZmlnLT5wb3J0X2Nsb2NrID0KIAkJY25sX2NhbGNfd3JwbGxfbGluayhkZXZfcHJpdiwgJnBpcGVf
Y29uZmlnLT5kcGxsX2h3X3N0YXRlKTsKIAlwaXBlX2NvbmZpZy0+YmFzZS5hZGp1c3RlZF9tb2Rl
LmNydGNfY2xvY2sgPSBpbnRlbF9kc2ktPnBjbGs7CisJZ2VuMTFfZHNpX2dldF90aW1pbmdzKGVu
Y29kZXIsIHBpcGVfY29uZmlnKTsKIAlwaXBlX2NvbmZpZy0+b3V0cHV0X3R5cGVzIHw9IEJJVChJ
TlRFTF9PVVRQVVRfRFNJKTsKIH0KIApkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUv
aW50ZWxfZGlzcGxheS5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfZGlzcGxheS5jCmlu
ZGV4IGRkNjVkN2MuLjQwYjgxNTEgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2lu
dGVsX2Rpc3BsYXkuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9kaXNwbGF5LmMK
QEAgLTc3MzYsOSArNzczNiwxMyBAQCBzdGF0aWMgdm9pZCBpbnRlbF9nZXRfcGlwZV90aW1pbmdz
KHN0cnVjdCBpbnRlbF9jcnRjICpjcnRjLAogCXRtcCA9IEk5MTVfUkVBRChIVE9UQUwoY3B1X3Ry
YW5zY29kZXIpKTsKIAlwaXBlX2NvbmZpZy0+YmFzZS5hZGp1c3RlZF9tb2RlLmNydGNfaGRpc3Bs
YXkgPSAodG1wICYgMHhmZmZmKSArIDE7CiAJcGlwZV9jb25maWctPmJhc2UuYWRqdXN0ZWRfbW9k
ZS5jcnRjX2h0b3RhbCA9ICgodG1wID4+IDE2KSAmIDB4ZmZmZikgKyAxOwotCXRtcCA9IEk5MTVf
UkVBRChIQkxBTksoY3B1X3RyYW5zY29kZXIpKTsKLQlwaXBlX2NvbmZpZy0+YmFzZS5hZGp1c3Rl
ZF9tb2RlLmNydGNfaGJsYW5rX3N0YXJ0ID0gKHRtcCAmIDB4ZmZmZikgKyAxOwotCXBpcGVfY29u
ZmlnLT5iYXNlLmFkanVzdGVkX21vZGUuY3J0Y19oYmxhbmtfZW5kID0gKCh0bXAgPj4gMTYpICYg
MHhmZmZmKSArIDE7CisKKwlpZiAoIXRyYW5zY29kZXJfaXNfZHNpKGNwdV90cmFuc2NvZGVyKSkK
KwkJdG1wID0gSTkxNV9SRUFEKEhCTEFOSyhjcHVfdHJhbnNjb2RlcikpOworCQlwaXBlX2NvbmZp
Zy0+YmFzZS5hZGp1c3RlZF9tb2RlLmNydGNfaGJsYW5rX3N0YXJ0ID0KKwkJCQkJCQkodG1wICYg
MHhmZmZmKSArIDE7CisJCXBpcGVfY29uZmlnLT5iYXNlLmFkanVzdGVkX21vZGUuY3J0Y19oYmxh
bmtfZW5kID0KKwkJCQkJCSgodG1wID4+IDE2KSAmIDB4ZmZmZikgKyAxOwogCXRtcCA9IEk5MTVf
UkVBRChIU1lOQyhjcHVfdHJhbnNjb2RlcikpOwogCXBpcGVfY29uZmlnLT5iYXNlLmFkanVzdGVk
X21vZGUuY3J0Y19oc3luY19zdGFydCA9ICh0bXAgJiAweGZmZmYpICsgMTsKIAlwaXBlX2NvbmZp
Zy0+YmFzZS5hZGp1c3RlZF9tb2RlLmNydGNfaHN5bmNfZW5kID0gKCh0bXAgPj4gMTYpICYgMHhm
ZmZmKSArIDE7CkBAIC03NzQ2LDkgKzc3NTAsMTMgQEAgc3RhdGljIHZvaWQgaW50ZWxfZ2V0X3Bp
cGVfdGltaW5ncyhzdHJ1Y3QgaW50ZWxfY3J0YyAqY3J0YywKIAl0bXAgPSBJOTE1X1JFQUQoVlRP
VEFMKGNwdV90cmFuc2NvZGVyKSk7CiAJcGlwZV9jb25maWctPmJhc2UuYWRqdXN0ZWRfbW9kZS5j
cnRjX3ZkaXNwbGF5ID0gKHRtcCAmIDB4ZmZmZikgKyAxOwogCXBpcGVfY29uZmlnLT5iYXNlLmFk
anVzdGVkX21vZGUuY3J0Y192dG90YWwgPSAoKHRtcCA+PiAxNikgJiAweGZmZmYpICsgMTsKLQl0
bXAgPSBJOTE1X1JFQUQoVkJMQU5LKGNwdV90cmFuc2NvZGVyKSk7Ci0JcGlwZV9jb25maWctPmJh
c2UuYWRqdXN0ZWRfbW9kZS5jcnRjX3ZibGFua19zdGFydCA9ICh0bXAgJiAweGZmZmYpICsgMTsK
LQlwaXBlX2NvbmZpZy0+YmFzZS5hZGp1c3RlZF9tb2RlLmNydGNfdmJsYW5rX2VuZCA9ICgodG1w
ID4+IDE2KSAmIDB4ZmZmZikgKyAxOworCisJaWYgKCF0cmFuc2NvZGVyX2lzX2RzaShjcHVfdHJh
bnNjb2RlcikpCisJCXRtcCA9IEk5MTVfUkVBRChWQkxBTksoY3B1X3RyYW5zY29kZXIpKTsKKwkJ
cGlwZV9jb25maWctPmJhc2UuYWRqdXN0ZWRfbW9kZS5jcnRjX3ZibGFua19zdGFydCA9CisJCQkJ
CQkJKHRtcCAmIDB4ZmZmZikgKyAxOworCQlwaXBlX2NvbmZpZy0+YmFzZS5hZGp1c3RlZF9tb2Rl
LmNydGNfdmJsYW5rX2VuZCA9CisJCQkJCQkoKHRtcCA+PiAxNikgJiAweGZmZmYpICsgMTsKIAl0
bXAgPSBJOTE1X1JFQUQoVlNZTkMoY3B1X3RyYW5zY29kZXIpKTsKIAlwaXBlX2NvbmZpZy0+YmFz
ZS5hZGp1c3RlZF9tb2RlLmNydGNfdnN5bmNfc3RhcnQgPSAodG1wICYgMHhmZmZmKSArIDE7CiAJ
cGlwZV9jb25maWctPmJhc2UuYWRqdXN0ZWRfbW9kZS5jcnRjX3ZzeW5jX2VuZCA9ICgodG1wID4+
IDE2KSAmIDB4ZmZmZikgKyAxOwotLSAKMS45LjEKCl9fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fCkludGVsLWdmeCBtYWlsaW5nIGxpc3QKSW50ZWwtZ2Z4QGxp
c3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFu
L2xpc3RpbmZvL2ludGVsLWdmeA==

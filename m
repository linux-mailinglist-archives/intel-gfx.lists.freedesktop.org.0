Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 7A6A5E14E
	for <lists+intel-gfx@lfdr.de>; Mon, 29 Apr 2019 13:30:27 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 53C3F88F16;
	Mon, 29 Apr 2019 11:30:25 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga12.intel.com (mga12.intel.com [192.55.52.136])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 5504088F16
 for <intel-gfx@lists.freedesktop.org>; Mon, 29 Apr 2019 11:30:24 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from fmsmga006.fm.intel.com ([10.253.24.20])
 by fmsmga106.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 29 Apr 2019 04:30:24 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.60,409,1549958400"; d="scan'208";a="341777319"
Received: from sharmash-mobl3.gar.corp.intel.com (HELO [10.66.116.81])
 ([10.66.116.81])
 by fmsmga006.fm.intel.com with ESMTP; 29 Apr 2019 04:30:22 -0700
To: =?UTF-8?B?VmlsbGUgU3lyasOkbMOk?= <ville.syrjala@linux.intel.com>
References: <20190426180151.30036-1-shashank.sharma@intel.com>
 <20190426180151.30036-3-shashank.sharma@intel.com>
 <20190426182903.GV24299@intel.com>
From: "Sharma, Shashank" <shashank.sharma@intel.com>
Message-ID: <c6650dc5-e465-25d5-9d54-a463e283bc32@intel.com>
Date: Mon, 29 Apr 2019 17:00:21 +0530
User-Agent: Mozilla/5.0 (Windows NT 10.0; WOW64; rv:60.0) Gecko/20100101
 Thunderbird/60.6.1
MIME-Version: 1.0
In-Reply-To: <20190426182903.GV24299@intel.com>
Content-Language: en-US
Subject: Re: [Intel-gfx] [PATCH 3/3] drm/i915/icl: Add Multi-segmented gamma
 support
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: Daniel Vetter <daniel.vetter@ffwll.ch>, intel-gfx@lists.freedesktop.org
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

Ck9uIDQvMjYvMjAxOSAxMTo1OSBQTSwgVmlsbGUgU3lyasOkbMOkIHdyb3RlOgo+IE9uIEZyaSwg
QXByIDI2LCAyMDE5IGF0IDExOjMxOjUxUE0gKzA1MzAsIFNoYXNoYW5rIFNoYXJtYSB3cm90ZToK
Pj4gSUNMIGludHJvZHVjZXMgYSBuZXcgZ2FtbWEgY29ycmVjdGlvbiBtb2RlIGluIGRpc3BsYXkg
ZW5naW5lLCBjYWxsZWQKPj4gbXVsdGktc2VnbWVudGVkLWdhbW1hIG1vZGUuIFRoaXMgbW9kZSBh
bGxvd3MgdXNlcnMgdG8gcHJvZ3JhbSB0aGUKPj4gZGFya2VyIHJlZ2lvbiBvZiB0aGUgZ2FtbWEg
Y3VydmUgd2l0aCBzdWVwcmZpbmUgcHJlY2lzaW9uLiBBbgo+PiBleGFtcGxlIHVzZSBjYXNlIGZv
ciB0aGlzIGlzIEhEUiBjdXJ2ZXMgKGxpa2UgUFEgU1QtMjA4NCkuCj4+Cj4+IElmIHdlIHBsb3Qg
YSBnYW1tYSBjb3JyZWN0aW9uIGN1cnZlIGZyb20gdmFsdWUgcmFuZ2UgYmV0d2VlbiAwLjAgdG8g
MS4wLAo+PiBJQ0wncyBtdWx0aS1zZWdtZW50IGhhcyAzIGRpZmZlcmVudCBzZWN0aW9uczoKPj4g
LSBzdXBlcmZpbmUgc2VnbWVudDogOSB2YWx1ZXMsIHJhbmdlcyBiZXR3ZWVuIDAgLSAxLygxMjgg
KiAyNTYpCj4+IC0gZmluZSBzZWdtZW50OiAyNTcgdmFsdWVzLCByYW5nZXMgYmV0d2VlbiAwIC0g
MS8oMTI4KQo+PiAtIGNvcmFzZSBzZWdtZW50OiAyNTcgdmFsdWVzLCByYW5nZXMgYmV0d2VlbiAw
IC0gMQo+Pgo+PiBUaGlzIHBhdGNoOgo+PiAtIENoYW5nZXMgZ2FtbWEgTFVUcyBzaXplIGZvciBJ
Q0wvR0VOMTEgdG8gMjYyMTQ0IGVudHJpZXMgKDggKiAxMjggKiAyNTYpLAo+PiAgICBzbyB0aGF0
IHVzZXJzcGFjZSBjYW4gcHJvZ3JhbSB3aXRoIGhpZ2hlc3QgcHJlY2lzaW9uIHN1cHBvcnRlZC4K
Pj4gLSBDaGFuZ2VzIGRlZmF1bHQgZ2FtbWEgbW9kZSAobm9uLWxlZ2FjeSkgdG8gbXVsdGktc2Vn
bWVudGVkLWdhbW1hIG1vZGUuCj4+IC0gQWRkcyBmdW5jdGlvbnMgdG8gcHJvZ3JhbS9kZXRlY3Qg
bXVsdGktc2VnbWVudCBnYW1tYS4KPj4KPj4gQ2M6IFZpbGxlIFN5cmrDpGzDpCA8dmlsbGUuc3ly
amFsYUBsaW51eC5pbnRlbC5jb20+Cj4+IENjOiBNYWFydGVuIExhbmtob3JzdCA8bWFhcnRlbi5s
YW5raG9yc3RAbGludXguaW50ZWwuY29tPgo+PiBDYzogRGFuaWVsIFZldHRlciA8ZGFuaWVsLnZl
dHRlckBmZndsbC5jaD4KPj4KPj4gU3VnZ2VzdGVkLWJ5OiBWaWxsZSBTeXJqw6Rsw6QgPHZpbGxl
LnN5cmphbGFAbGludXguaW50ZWwuY29tPgo+PiBTaWduZWQtb2ZmLWJ5OiBTaGFzaGFuayBTaGFy
bWEgPHNoYXNoYW5rLnNoYXJtYUBpbnRlbC5jb20+Cj4+IFNpZ25lZC1vZmYtYnk6IFVtYSBTaGFu
a2FyIDx1bWEuc2hhbmthckBpbnRlbC5jb20+Cj4+IC0tLQo+PiAgIGRyaXZlcnMvZ3B1L2RybS9p
OTE1L2k5MTVfcGNpLmMgICAgfCAgIDMgKy0KPj4gICBkcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRl
bF9jb2xvci5jIHwgMTU1ICsrKysrKysrKysrKysrKysrKysrKysrKysrKystCj4+ICAgMiBmaWxl
cyBjaGFuZ2VkLCAxNTYgaW5zZXJ0aW9ucygrKSwgMiBkZWxldGlvbnMoLSkKPj4KPj4gZGlmZiAt
LWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfcGNpLmMgYi9kcml2ZXJzL2dwdS9kcm0v
aTkxNS9pOTE1X3BjaS5jCj4+IGluZGV4IGZmYTJlZTcwYTAzZC4uODM2OTg5NTE3NjBiIDEwMDY0
NAo+PiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3BjaS5jCj4+ICsrKyBiL2RyaXZl
cnMvZ3B1L2RybS9pOTE1L2k5MTVfcGNpLmMKPj4gQEAgLTc0OSw3ICs3NDksOCBAQCBzdGF0aWMg
Y29uc3Qgc3RydWN0IGludGVsX2RldmljZV9pbmZvIGludGVsX2Nhbm5vbmxha2VfaW5mbyA9IHsK
Pj4gICAJR0VOKDExKSwgXAo+PiAgIAkuZGRiX3NpemUgPSAyMDQ4LCBcCj4+ICAgCS5oYXNfbG9n
aWNhbF9yaW5nX2Vsc3EgPSAxLCBcCj4+IC0JLmNvbG9yID0geyAuZGVnYW1tYV9sdXRfc2l6ZSA9
IDMzLCAuZ2FtbWFfbHV0X3NpemUgPSAxMDI0IH0KPj4gKwkuY29sb3IgPSB7IC5kZWdhbW1hX2x1
dF9zaXplID0gMzMsIC5nYW1tYV9sdXRfc2l6ZSA9IDI2MjE0NCB9Cj4+ICsKPj4gICAKPj4gICBz
dGF0aWMgY29uc3Qgc3RydWN0IGludGVsX2RldmljZV9pbmZvIGludGVsX2ljZWxha2VfMTFfaW5m
byA9IHsKPj4gICAJR0VOMTFfRkVBVFVSRVMsCj4+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9k
cm0vaTkxNS9pbnRlbF9jb2xvci5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfY29sb3Iu
Ywo+PiBpbmRleCBjYTM0MWE5ZTQ3ZTYuLmQxZmI3OWE1ZDc2NCAxMDA2NDQKPj4gLS0tIGEvZHJp
dmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfY29sb3IuYwo+PiArKysgYi9kcml2ZXJzL2dwdS9kcm0v
aTkxNS9pbnRlbF9jb2xvci5jCj4+IEBAIC00MSw2ICs0MSw3IEBACj4+ICAgI2RlZmluZSBDVE1f
Q09FRkZfQUJTKGNvZWZmKQkJKChjb2VmZikgJiAoQ1RNX0NPRUZGX1NJR04gLSAxKSkKPj4gICAK
Pj4gICAjZGVmaW5lIExFR0FDWV9MVVRfTEVOR1RICQkyNTYKPj4gKyNkZWZpbmUgSUNMX01VTFRJ
U0VHX0xVVF9MRU5HVEgJCSgyNTYgKiAxMjggKiA4KQo+PiAgIC8qCj4+ICAgICogRXh0cmFjdCB0
aGUgQ1NDIGNvZWZmaWNpZW50IGZyb20gYSBDVE0gY29lZmZpY2llbnQgKGluIFUzMi4zMiBmaXhl
ZCBwb2ludAo+PiAgICAqIGZvcm1hdCkuIFRoaXMgbWFjcm8gdGFrZXMgdGhlIGNvZWZmaWNpZW50
IHdlIHdhbnQgdHJhbnNmb3JtZWQgYW5kIHRoZQo+PiBAQCAtNTgsNiArNTksMTIgQEAKPj4gICAK
Pj4gICAjZGVmaW5lIElMS19DU0NfUE9TVE9GRl9MSU1JVEVEX1JBTkdFICgxNiAqICgxIDw8IDEy
KSAvIDI1NSkKPj4gICAKPj4gK2VudW0gaWNsX21zX2dhbW1hX3NlZ21lbnRzIHsKPj4gKwlJQ0xf
TVNfR0FNTUFfU0VHX1NVUEVSRklORSwKPj4gKwlJQ0xfTVNfR0FNTUFfU0VHX0ZJTkUsCj4+ICsJ
SUNMX01TX0dBTU1BX1NFR19DT0FSU0UsCj4+ICt9Owo+PiArCj4+ICAgc3RhdGljIGNvbnN0IHUx
NiBpbGtfY3NjX29mZl96ZXJvWzNdID0ge307Cj4+ICAgCj4+ICAgc3RhdGljIGNvbnN0IHUxNiBp
bGtfY3NjX2NvZWZmX2lkZW50aXR5WzldID0gewo+PiBAQCAtNzY3LDYgKzc3NCwxNDkgQEAgc3Rh
dGljIHZvaWQgZ2xrX2xvYWRfbHV0cyhjb25zdCBzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqY3J0
Y19zdGF0ZSkKPj4gICAJfQo+PiAgIH0KPj4gICAKPj4gKy8qIGlsaysgIjEyLjQiIGludGVycG9s
YXRlZCBmb3JtYXQgKGhpZ2ggMTAgYml0cykgKi8KPj4gK3N0YXRpYyB1MzIgaWxrX2x1dF8xMnA0
X2xkdyhjb25zdCBzdHJ1Y3QgZHJtX2NvbG9yX2x1dCAqY29sb3IpCj4+ICt7Cj4+ICsJcmV0dXJu
IChjb2xvci0+cmVkID4+IDYpIDw8IDIwIHwgKGNvbG9yLT5ncmVlbiA+PiA2KSA8PCAxMCB8Cj4+
ICsJCShjb2xvci0+Ymx1ZSA+PiA2KTsKPj4gK30KPj4gKwo+PiArLyogaWxrKyAiMTIuNCIgaW50
ZXJwb2xhdGVkIGZvcm1hdCAobG93IDYgYml0cykgKi8KPj4gK3N0YXRpYyB1MzIgaWxrX2x1dF8x
MnA0X3Vkdyhjb25zdCBzdHJ1Y3QgZHJtX2NvbG9yX2x1dCAqY29sb3IpCj4+ICt7Cj4+ICsJcmV0
dXJuIChjb2xvci0+cmVkICYgMHgzZikgPDwgMjQgfCAoY29sb3ItPmdyZWVuICYgMHgzZikgPDwg
MTQgfAo+PiArCQkoY29sb3ItPmJsdWUgJiAweDNmKTsKPj4gK30KPj4gKwo+PiArc3RhdGljIHZv
aWQKPj4gK2ljbF9wcm9ncmFtX2dhbW1hX2djbWF4KGNvbnN0IHN0cnVjdCBpbnRlbF9jcnRjX3N0
YXRlICpjcnRjX3N0YXRlKQo+PiArewo+PiArCXN0cnVjdCBpbnRlbF9jcnRjICpjcnRjID0gdG9f
aW50ZWxfY3J0YyhjcnRjX3N0YXRlLT5iYXNlLmNydGMpOwo+PiArCXN0cnVjdCBkcm1faTkxNV9w
cml2YXRlICpkZXZfcHJpdiA9IHRvX2k5MTUoY3J0Yy0+YmFzZS5kZXYpOwo+PiArCWVudW0gcGlw
ZSBwaXBlID0gY3J0Yy0+cGlwZTsKPj4gKwo+PiArCS8qCj4+ICsJICogUHJvZ3JhbSB0aGUgbWF4
IHJlZ2lzdGVyIHRvIGNsYW1wIHZhbHVlcyA+IDEuMC4KPj4gKwkgKiBUb0RvOiBFeHRlbmQgdGhl
IEFCSSB0byBiZSBhYmxlIHRvIHByb2dyYW0gdmFsdWVzCj4+ICsJICogZnJvbSAxLjAKPj4gKwkg
Ki8KPj4gKwlJOTE1X1dSSVRFKFBSRUNfUEFMX0dDX01BWChwaXBlLCAwKSwgKDEgPDwgMTYpKTsK
Pj4gKwlJOTE1X1dSSVRFKFBSRUNfUEFMX0dDX01BWChwaXBlLCAxKSwgKDEgPDwgMTYpKTsKPj4g
KwlJOTE1X1dSSVRFKFBSRUNfUEFMX0dDX01BWChwaXBlLCAyKSwgKDEgPDwgMTYpKTsKPiBUaGlz
IG9uZSBJIHRoaW5rIHdlIHdhbnQgdG8gcHJvZ3JhbSBiYXNlZCBvbiB0aGUgcHJvdmlkZSBMVVQu
IEl0J3MgdGhlCj4gbGFzdCBlbnRyeSB0aGF0IHN0aWxsIGdldHMgdXNlZCBpbiBpbnRlcnBvbGF0
aW9uIGZvciA8MS4wIHZhbHVlcy4KPiBPciBhdCBsZWFzdCB0aGF0J3MgdGhlIHdheSBpdCB3b3Jr
cyB3aXRoIHRoZSAxMnA0IG1vZGUgSUlSQy4gSSBkb24ndAo+IGFjdHVhbGx5IHJlbWVtYmVyIGhv
dyBpdCBnb2VzIHdpdGggdGhlIG11bHRpIHNlZ21lbnQgbW9kZS4KSSBhbSBhIGJpdCBza2VwdGlj
YWwgaWYgaXRzIGEgZ29vZCBpZGVhIHRvIHByb2dyYW0gZnJvbSB0aGUgTFVULCBhcyB5b3UgCmtu
b3csIHRoZSBkcm1fY29sb3JfbHV0IGVsZW1lbnRzIGFyZSAxNmJpdCBwZXIgY2hhbm5lbCwgYW5k
IGluIG9yZGVyIHRvIApwcm9ncmFtIDEuMCB3ZSBuZWVkIDE3IGJpdHMuIFNvIGV2ZW4gaWYgdXNl
cnNwYWNlIHdhbnRzLCBpdCBjYW50IHNldCB0aGUgCnZhbHVlIG9mIDEuMCBhcyBvZiBub3cuIEFs
c28sIHdvdWxkbid0IGl0IHdvdWxkIGJlIGdvb2QgZm9yIHRoZSAKaW50ZXJwb2xhdGlvbiB0byBo
YXZlIHRoZSBhY2N1cmF0ZSBtYXggdmFsdWUgKDEuMCkgb2YgdGhlIGN1cnZlID8KPj4gKwo+PiAr
CS8qCj4+ICsJICogUHJvZ3JhbSB0aGUgbWF4IHJlZ2lzdGVyIHRvIGNsYW1wIHZhbHVlcyA+IDEu
MC4KPj4gKwkgKiBUb0RvOiBFeHRlbmQgdGhlIEFCSSB0byBiZSBhYmxlIHRvIHByb2dyYW0gdmFs
dWVzCj4+ICsJICogZnJvbSAxLjAgdG8gMy4wCj4+ICsJICovCj4+ICsJSTkxNV9XUklURShQUkVD
X1BBTF9FWFRfR0NfTUFYKHBpcGUsIDApLCAoMSA8PCAxNikpOwo+PiArCUk5MTVfV1JJVEUoUFJF
Q19QQUxfRVhUX0dDX01BWChwaXBlLCAxKSwgKDEgPDwgMTYpKTsKPj4gKwlJOTE1X1dSSVRFKFBS
RUNfUEFMX0VYVF9HQ19NQVgocGlwZSwgMiksICgxIDw8IDE2KSk7Cj4+ICsKPj4gKwkvKgo+PiAr
CSAqIFByb2dyYW0gdGhlIGdjIG1heCAyIHJlZ2lzdGVyIHRvIGNsYW1wIHZhbHVlcyA+IDEuMC4K
Pj4gKwkgKiBUb0RvOiBFeHRlbmQgdGhlIEFCSSB0byBiZSBhYmxlIHRvIHByb2dyYW0gdmFsdWVz
Cj4+ICsJICogZnJvbSAzLjAgdG8gNy4wCj4+ICsJICovCj4+ICsJSTkxNV9XUklURShQUkVDX1BB
TF9FWFQyX0dDX01BWChwaXBlLCAwKSwgKDEgPDwgMTYpKTsKPj4gKwlJOTE1X1dSSVRFKFBSRUNf
UEFMX0VYVDJfR0NfTUFYKHBpcGUsIDEpLCAoMSA8PCAxNikpOwo+PiArCUk5MTVfV1JJVEUoUFJF
Q19QQUxfRVhUMl9HQ19NQVgocGlwZSwgMiksICgxIDw8IDE2KSk7Cj4gQW5kIHRoZXNlIGFyZSBq
dXN0IGl2Yl9sb2FkX2x1dF8xMF9tYXgoKS4gTWlnaHQgbmVlZCB0byBqdXN0Cj4gcy8xMC9leHQv
IGluIHRoZSBuYW1lIHNpbmNlIEkgZ3Vlc3MgdGhleSBhcHBseSB0byB0aGUgMTJwNCBhbmQKPiBt
dWx0aSBzZWdtbWVudCBtb2RlcyB0b28uCkdvdCBpdCAhCj4KPj4gK30KPj4gKwo+PiArc3RhdGlj
IHZvaWQKPj4gK2ljbF9wcm9ncmFtX2dhbW1hX211bHRpX3NlZ21lbnQoY29uc3Qgc3RydWN0IGlu
dGVsX2NydGNfc3RhdGUgKmNydGNfc3RhdGUsCj4+ICsJCQkJY29uc3Qgc3RydWN0IGRybV9wcm9w
ZXJ0eV9ibG9iICpibG9iLAo+PiArCQkJCWVudW0gaWNsX21zX2dhbW1hX3NlZ21lbnRzIHNlZ21l
bnQpCj4+ICt7Cj4+ICsJc3RydWN0IGludGVsX2NydGMgKmNydGMgPSB0b19pbnRlbF9jcnRjKGNy
dGNfc3RhdGUtPmJhc2UuY3J0Yyk7Cj4+ICsJc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9w
cml2ID0gdG9faTkxNShjcnRjLT5iYXNlLmRldik7Cj4+ICsJY29uc3Qgc3RydWN0IGRybV9jb2xv
cl9sdXQgKmx1dCA9IGJsb2ItPmRhdGE7Cj4+ICsJZW51bSBwaXBlIHBpcGUgPSBjcnRjLT5waXBl
Owo+PiArCXUzMiBpLCB3b3JkLCBzZWdfc2l6ZSwgc2VnX3N0ZXAsIHNlZ19zdGFydCA9IDA7Cj4+
ICsJaTkxNV9yZWdfdCBpbmRleF9yZWcsIGRhdGFfcmVnOwo+PiArCj4+ICsJaWYgKCFsdXQgfHwg
KGRybV9jb2xvcl9sdXRfc2l6ZShibG9iKSA8IElDTF9NVUxUSVNFR19MVVRfTEVOR1RIKSkgewo+
PiArCQlEUk1fREVCVUdfS01TKCJOb3QgcHJvZ3JhbW1pbmcgZ2FtbWEgc2VnbWVudCwgaW52YWxp
ZCBpbnB1dFxuIik7Cj4+ICsJCXJldHVybjsKPj4gKwl9Cj4+ICsKPj4gKwkvKgo+PiArCSAqIEV2
ZXJ5IGVudHJ5IGluIHRoZSBtdWx0aS1zZWdtZW50IExVVCBpcyBjb3JyZXNwb25kaW5nIHRvIGEg
c3VwZXJmaW5lCj4+ICsJICogc2VnbWVudCBzdGVwIHdoaWNoIGlzIDEvKDgqMTI4KjI1NikuCj4+
ICsJICoKPj4gKwkgKiBTdXBlcmZpbmUgc2VnbWVudCBoYXMgOSBlbnRyaWVzLCBjb3JyZXNwb25k
aW5nIHRvIHZhbHVlcwo+PiArCSAqIDAsIDEvKDggKiAxMjggKiAyNTYpLCAyLyg4ICogMTI4ICog
MjU2KSAuLi4uIDgvKDggKiAxMjggKiAyNTYpLgo+PiArCSAqCj4+ICsJICogRmluZSBzZWdtZW50
J3Mgc3RlcCBpcyAxLygxMjggKiAyNTYpIGllIDEvKDEyOCAqIDI1NiksICAyLygxMjgqMjU2KQo+
PiArCSAqIC4uLiAyNTYvKDEyOCoyNTYpLiBTbyBpbiBvcmRlciB0byBwcm9ncmFtIGZpbmUgc2Vn
bWVudCBvZiBMVVQgd2UKPj4gKwkgKiBuZWVkIHRvIHBpY2sgZXZlcnkgOCd0aCBlbnRyeSBpbiBM
VVQsIGFuZCBwcm9ncmFtIDI1NiBpbmRleGVzLgo+PiArCSAqIEZpbmUgc2VnbWVudCdzIGluZGV4
IDAgaXMgcHJvZ3JhbW1lZCBpbiBIVywgYW5kIGl0IHN0YXJ0cyBmcm9tCj4+ICsJICogaW5kZXgg
MS4KPj4gKwkgKgo+PiArCSAqIENvYXJzZSBzZWdtZW50J3Mgc3RhcnRzIGZyb20gaW5kZXggMCBh
bmQgaXQncyBzdGVwIGlzIDEvMjU2IGllIDAsCj4+ICsJICogMS8yNTYsIDIvMjU2IC4uLjI1Ni8y
NTYuIEFzIHBlciB0aGUgZGVzY3JpcHRpb24gb2YgZWFjaCBlbnRyeSBpbiBMVVQKPj4gKwkgKiBh
Ym92ZSwgd2UgbmVlZCB0byBwaWNrIGV2ZXJ5IDggKiAxMjggPSAxMDI0dGggZW50cnkgaW4gTFVU
LCBhbmQKPj4gKwkgKiBwcm9ncmFtIDI1NiBvZiB0aG9zZS4KPj4gKwkgKi8KPj4gKwo+PiArCXN3
aXRjaCAoc2VnbWVudCkgewo+PiArCWNhc2UgSUNMX01TX0dBTU1BX1NFR19TVVBFUkZJTkU6Cj4+
ICsJCXNlZ19zaXplID0gOTsKPj4gKwkJc2VnX3N0ZXAgPSAxOwo+PiArCQlpbmRleF9yZWcgPSBQ
UkVDX1BBTF9NVUxUSV9TRUdfSU5ERVgocGlwZSk7Cj4+ICsJCWRhdGFfcmVnID0gUFJFQ19QQUxf
TVVMVElfU0VHX0RBVEEocGlwZSk7Cj4+ICsJCWJyZWFrOwo+PiArCj4+ICsJY2FzZSBJQ0xfTVNf
R0FNTUFfU0VHX0ZJTkU6Cj4+ICsJCXNlZ19zdGFydCA9IDE7Cj4+ICsJCXNlZ19zaXplID0gMjU2
Owo+PiArCQlzZWdfc3RlcCA9IDg7Cj4+ICsJCWluZGV4X3JlZyA9IFBSRUNfUEFMX0lOREVYKHBp
cGUpOwo+PiArCQlkYXRhX3JlZyA9IFBSRUNfUEFMX0RBVEEocGlwZSk7Cj4+ICsJCWJyZWFrOwo+
PiArCj4+ICsJY2FzZSBJQ0xfTVNfR0FNTUFfU0VHX0NPQVJTRToKPj4gKwkJc2VnX3NpemUgPSAy
NTY7Cj4+ICsJCXNlZ19zdGVwID0gMTAyNDsKPj4gKwkJaW5kZXhfcmVnID0gUFJFQ19QQUxfSU5E
RVgocGlwZSk7Cj4+ICsJCWRhdGFfcmVnID0gUFJFQ19QQUxfREFUQShwaXBlKTsKPj4gKwkJYnJl
YWs7Cj4gSSdtIG5vdCBjb252aW5jZWQgdGhpcyB0aGlzIGVudW0gaXMgYWN0dWFsbHkgaGVscGZ1
bC4gSSB3b3VsZAo+IHByb2JhYmx5IGp1c3QgdHJ5IHRvIHByb3ZpZGUgc2VwYXJhdGUgZnVuY3Rp
b25zIGZvciB0aGUgc2VnbWVudHMuCj4gTm90IHN1cmUgaWYgd2UgY291bGQgc2hhcmUgdGhlIHNh
bWUgY29kZSBmb3IgdGhlIGZpbmUvY29hcnNlCj4gc2VnbWVudHMgYW5kIGp1c3QgcGFzcyBpbiB0
aGUgZGlmZmVyZW5jZXMgYXMgcGFyYW1ldGVycy4KQWgsIEkgc3RhcnRlZCBqdXN0IGxpa2UgdGhh
dCwgaGF2aW5nIHR3byBkaWZmZXJlbnQgZnVuY3Rpb25zLCBvbmUgZm9yIApmaW5lICsgY29hcnNl
IHNlZ21lbnQsIG90aGVyIG9uZSBmb3Igc3VwZXJmaWxlIHNlZ21lbnQsIGFuZCB0aGVuIEkgc2F3
IAptdWNoIG9mIGNvZGUgZHVwbGljYXRpb24sIHNvIEkgY2hhbmdlZCBpdCB0aGlzIHdheS4gQnV0
IGlmIHlvdSB0aGluayBpdCAKd291bGQgaGF2ZSBiZWVuIGJldHRlciB0aGF0IHdheSwgSSBjYW4g
c3dpdGNoIHRvIHRoZSBwcmV2aW91cyB2ZXJzaW9uLgo+PiArCj4+ICsJZGVmYXVsdDoKPj4gKwkJ
RFJNX0VSUk9SKCJJbnZhbGlkIGdhbW1hIHNlZ21lbnQgJWQgdG8gcHJvZ3JhbVxuIiwgc2VnbWVu
dCk7Cj4+ICsJCXJldHVybjsKPj4gKwl9Cj4+ICsKPj4gKwlJOTE1X1dSSVRFKGluZGV4X3JlZywg
UEFMX1BSRUNfQVVUT19JTkNSRU1FTlQpOwo+PiArCj4+ICsJZm9yIChpID0gc2VnX3N0YXJ0OyBp
IDwgc2VnX3NpemU7IGkrKykgewo+PiArCQkvKiBFdmVuIEluZGV4ICovCj4gVGhlc2UgY29tbWVu
dHMgZG9uJ3QgcmVhbGx5IHByb3ZpZGUgYW55IHZhbHVlLgpPawo+Cj4+ICsJCXdvcmQgPSBpbGtf
bHV0XzEycDRfdWR3KCZsdXRbaSAqIHNlZ19zdGVwXSk7Cj4gYW5kIHRoZSAnd29yZCcgdmFyaWFi
bGUgaXNuJ3QgcGFydGljdWxhcmx5IHVzZWZ1bCBlaXRoZXIuCj4gV2UgbWlnaHQgd2FudCBhIGxv
Y2FsIHZhcmlhbmJsZSBmb3IgdGhlIGx1dCBlbnRyeSBsaWtlIHdlCj4gaGF2ZSBpbiB0aGUgaXZi
L2JkdyBmdW5jdGlvbnMsIGlmIG9ubHkgdG8gYXZvaWQgcmVwZWF0aW5nIHRoZQo+IGFyaXRobWV0
aWMuClN1cmUsIHdpbGwgZG8gdGhhdC4KPj4gKwkJSTkxNV9XUklURShkYXRhX3JlZywgd29yZCk7
Cj4+ICsKPj4gKwkJLyogT2RkIGluZGV4ICovCj4+ICsJCXdvcmQgPSBpbGtfbHV0XzEycDRfbGR3
KCZsdXRbaSAqIHNlZ19zdGVwXSk7Cj4+ICsJCUk5MTVfV1JJVEUoZGF0YV9yZWcsIHdvcmQpOwo+
PiArCX0KPj4gK30KPj4gKwo+PiArc3RhdGljIHZvaWQKPj4gK2ljbF9sb2FkX2dhbW1hX211bHRp
X3NlZ19sdXQoY29uc3Qgc3RydWN0IGludGVsX2NydGNfc3RhdGUgKmNydGNfc3RhdGUpCj4+ICt7
Cj4+ICsJY29uc3Qgc3RydWN0IGRybV9wcm9wZXJ0eV9ibG9iICpsdXRfYmxvYiA9IGNydGNfc3Rh
dGUtPmJhc2UuZ2FtbWFfbHV0Owo+PiArCj4+ICsJaWYgKCFsdXRfYmxvYikKPj4gKwkJcmV0dXJu
Owo+PiArCj4+ICsJaWNsX3Byb2dyYW1fZ2FtbWFfbXVsdGlfc2VnbWVudChjcnRjX3N0YXRlLCBs
dXRfYmxvYiwKPj4gKwkJCQkJSUNMX01TX0dBTU1BX1NFR19TVVBFUkZJTkUpOwo+PiArCWljbF9w
cm9ncmFtX2dhbW1hX211bHRpX3NlZ21lbnQoY3J0Y19zdGF0ZSwgbHV0X2Jsb2IsCj4+ICsJCQkJ
CUlDTF9NU19HQU1NQV9TRUdfRklORSk7Cj4+ICsJaWNsX3Byb2dyYW1fZ2FtbWFfbXVsdGlfc2Vn
bWVudChjcnRjX3N0YXRlLCBsdXRfYmxvYiwKPj4gKwkJCQkJSUNMX01TX0dBTU1BX1NFR19DT0FS
U0UpOwo+PiArCWljbF9wcm9ncmFtX2dhbW1hX2djbWF4KGNydGNfc3RhdGUpOwo+PiArfQo+IEFu
ZCB0aGlzIEkgd291bGQganVzdCBpbmxpbmUgaW50byBpY2xfbG9hZF9sdXRzKCkganVzdCBsaWtl
IHRoZSByZXN0LgpHb3QgaXQgIQo+PiArCj4+ICAgc3RhdGljIHZvaWQgaWNsX2xvYWRfbHV0cyhj
b25zdCBzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqY3J0Y19zdGF0ZSkKPj4gICB7Cj4+ICAgCWNv
bnN0IHN0cnVjdCBkcm1fcHJvcGVydHlfYmxvYiAqZ2FtbWFfbHV0ID0gY3J0Y19zdGF0ZS0+YmFz
ZS5nYW1tYV9sdXQ7Cj4+IEBAIC03NzYsNiArOTI2LDkgQEAgc3RhdGljIHZvaWQgaWNsX2xvYWRf
bHV0cyhjb25zdCBzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqY3J0Y19zdGF0ZSkKPj4gICAJCWds
a19sb2FkX2RlZ2FtbWFfbHV0KGNydGNfc3RhdGUpOwo+PiAgIAo+PiAgIAlpZiAoKGNydGNfc3Rh
dGUtPmdhbW1hX21vZGUgJiBHQU1NQV9NT0RFX01PREVfTUFTSykgPT0KPj4gKwkJR0FNTUFfTU9E
RV9NT0RFXzEyQklUX01VTFRJX1NFR01FTlRFRCkgewo+PiArCQlpY2xfbG9hZF9nYW1tYV9tdWx0
aV9zZWdfbHV0KGNydGNfc3RhdGUpOwo+IEknZCBwdXQgdGhpcyBsYXN0IHRvIGtlZXAgdGhpbmdz
IGluIGNvbnNpc3RlbnQgb3JkZXIuIEFuZCBwcm9iYWJseSB3YW50Cj4gdG8gdXNlIGEgc3dpdGNo
IHN0YXRlbWVudCBub3cgdGhhdCB3ZSBoYXZlIHRocmVlIG9wdGlvbnMuCgpTdXJlICEKCi0gU2hh
c2hhbmsKCj4+ICsJfSBlbHNlIGlmICgoY3J0Y19zdGF0ZS0+Z2FtbWFfbW9kZSAmIEdBTU1BX01P
REVfTU9ERV9NQVNLKSA9PQo+PiAgIAkgICAgR0FNTUFfTU9ERV9NT0RFXzhCSVQpIHsKPj4gICAJ
CWk5eHhfbG9hZF9sdXRzKGNydGNfc3RhdGUpOwo+PiAgIAl9IGVsc2Ugewo+PiBAQCAtMTE4Nyw3
ICsxMzQwLDcgQEAgc3RhdGljIHUzMiBpY2xfZ2FtbWFfbW9kZShjb25zdCBzdHJ1Y3QgaW50ZWxf
Y3J0Y19zdGF0ZSAqY3J0Y19zdGF0ZSkKPj4gICAJICAgIGNydGNfc3RhdGVfaXNfbGVnYWN5X2dh
bW1hKGNydGNfc3RhdGUpKQo+PiAgIAkJZ2FtbWFfbW9kZSB8PSBHQU1NQV9NT0RFX01PREVfOEJJ
VDsKPj4gICAJZWxzZQo+PiAtCQlnYW1tYV9tb2RlIHw9IEdBTU1BX01PREVfTU9ERV8xMEJJVDsK
Pj4gKwkJZ2FtbWFfbW9kZSB8PSBHQU1NQV9NT0RFX01PREVfMTJCSVRfTVVMVElfU0VHTUVOVEVE
Owo+PiAgIAo+PiAgIAlyZXR1cm4gZ2FtbWFfbW9kZTsKPj4gICB9Cj4+IC0tIAo+PiAyLjE3LjEK
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KSW50ZWwtZ2Z4
IG1haWxpbmcgbGlzdApJbnRlbC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlz
dHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vaW50ZWwtZ2Z4

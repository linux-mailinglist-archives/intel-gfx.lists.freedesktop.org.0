Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 21F2C55777
	for <lists+intel-gfx@lfdr.de>; Tue, 25 Jun 2019 20:57:45 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id ECD7A6E1DE;
	Tue, 25 Jun 2019 18:57:42 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga01.intel.com (mga01.intel.com [192.55.52.88])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 698936E1DE
 for <intel-gfx@lists.freedesktop.org>; Tue, 25 Jun 2019 18:57:41 +0000 (UTC)
X-Amp-Result: UNKNOWN
X-Amp-Original-Verdict: FILE UNKNOWN
X-Amp-File-Uploaded: False
Received: from fmsmga002.fm.intel.com ([10.253.24.26])
 by fmsmga101.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 25 Jun 2019 11:57:40 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.63,416,1557212400"; d="scan'208";a="188389839"
Received: from ideak-desk.fi.intel.com ([10.237.68.142])
 by fmsmga002.fm.intel.com with ESMTP; 25 Jun 2019 11:57:38 -0700
Date: Tue, 25 Jun 2019 21:57:38 +0300
From: Imre Deak <imre.deak@intel.com>
To: Ville =?iso-8859-1?Q?Syrj=E4l=E4?= <ville.syrjala@linux.intel.com>
Message-ID: <20190625185738.GB5455@ideak-desk.fi.intel.com>
References: <20190620140600.11357-1-imre.deak@intel.com>
 <20190620140600.11357-17-imre.deak@intel.com>
 <20190625135301.GE5942@intel.com>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <20190625135301.GE5942@intel.com>
User-Agent: Mutt/1.9.4 (2018-02-28)
Subject: Re: [Intel-gfx] [PATCH v2 16/23] drm/i915: Sanitize the shared DPLL
 reserve/release interface
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Reply-To: imre.deak@intel.com
Cc: Daniel Vetter <daniel.vetter@ffwll.ch>, intel-gfx@lists.freedesktop.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

T24gVHVlLCBKdW4gMjUsIDIwMTkgYXQgMDQ6NTM6MDFQTSArMDMwMCwgVmlsbGUgU3lyasOkbMOk
IHdyb3RlOgo+IE9uIFRodSwgSnVuIDIwLCAyMDE5IGF0IDA1OjA1OjUzUE0gKzAzMDAsIEltcmUg
RGVhayB3cm90ZToKPiA+IEZvciBjb25zaXN0ZW5jeSBzL2ludGVsX2dldF9zaGFyZWRfZHBsbCgp
L2ludGVsX3Jlc2VydmVfc2hhcmVkX2RwbGxzKCkvCj4gPiB0byBiZXR0ZXIgbWF0Y2ggaW50ZWxf
cmVsZWFzZV9zaGFyZWRfZHBsbHMoKS4gQWxzbywgcGFzcyB0byB0aGUKPiA+IHJlc2VydmUvcmVs
ZWFzZSBhbmQgZ2V0X2RwbGxzL3B1dF9kcGxscyBob29rcyB0aGUgaW50ZWxfYXRvbWljX3N0YXRl
IGFuZAo+ID4gQ1JUQyBvYmplY3QsIHRoYXQgd2F5IHRoZXNlIGZ1bmN0aW9ucyBjYW4gbG9vayB1
cCB0aGUgb2xkIG9yIG5ldyBzdGF0ZQo+ID4gYXMgbmVlZGVkLgo+ID4gCj4gPiBBbHNvIHJlbGVh
c2UgdGhlIFBMTHMgZnJvbSB0aGUgYXRvbWljIHN0YXRlIHZpYSBhIG5ldwo+ID4gcHV0X2RwbGxz
LT5pbnRlbF91bnJlZmVyZW5jZV9zaGFyZWRfZHBsbCgpIGNhbGwgY2hhaW4gZm9yIGJldHRlcgo+
ID4gc3ltbWV0cnkgd2l0aCB0aGUgcmVzZXJ2YXRpb24gdmlhIHRoZQo+ID4gZ2V0X2RwbGxzLT5p
bnRlbF9yZWZlcmVuY2Vfc2hhcmVkX2RwbGwoKSBjYWxsIGNoYWluLgo+ID4gCj4gPiBTaW5jZSBu
b3RoaW5nIHVzZXMgdGhlIFBMTCByZXR1cm5lZCBieSBpbnRlbF9yZXNlcnZlX3NoYXJlZF9kcGxs
cygpLAo+ID4gbWFrZSBpdCByZXR1cm4gb25seSBhIGJvb2wuCj4gPiAKPiA+IFdoaWxlIGF0IGl0
IGFsc28gY2xhcmlmeSB0aGUgcmVzZXJ2ZS9yZWxlYXNlIGZ1bmN0aW9uIGRvY2Jvb2sgaGVhZGVy
cwo+ID4gbWFraW5nIGl0IGNsZWFyIHRoYXQgbXVsdGlwbGUgRFBMTHMgd2lsbCBiZSByZXNlcnZl
ZC9yZWxlYXNlZCBhbmQKPiA+IHdoZXRoZXIgdGhlIG5ldyBvciBvbGQgYXRvbWljIENSVEMgc3Rh
dGUgaXMgYWZmZWN0ZWQuCj4gPiAKPiA+IFRoaXMgcmVmYWN0b3JpbmcgaXMgYWxzbyBhIHByZXBh
cmF0aW9uIGZvciBhIGZvbGxvdy11cCBjaGFuZ2UgdGhhdCBuZWVkcwo+ID4gdG8gcmVzZXJ2ZSBt
dWx0aXBsZSBEUExMcy4KPiA+IAo+ID4gS3Vkb3MgdG8gVmlsbGUgZm9yIHRoZSBpZGVhIHRvIHBh
c3MgaW50ZWxfYXRvbWljX3N0YXRlIGFyb3VuZCwgdG8gbWFrZQo+ID4gdGhpbmdzIGNsZWFyZXIg
bG9jYWxseSB3aGVyZSBhbiBvYmplY3QncyBvbGQvbmV3IGF0b21pYyBzdGF0ZSBpcwo+ID4gcmVx
dWlyZWQuCj4gPiAKPiA+IE5vIGZ1bmN0aW9uYWwgY2hhbmdlcy4KPiA+IAo+ID4gdjI6Cj4gPiAt
IEZpeCBjaGVja3BhdGNoIGlzc3VlOiB0eXBvIGluIGNvZGUgY29tbWVudC4KPiA+IAo+ID4gQ2M6
IFZpbGxlIFN5cmrDpGzDpCA8dmlsbGUuc3lyamFsYUBsaW51eC5pbnRlbC5jb20+Cj4gPiBDYzog
RGFuaWVsIFZldHRlciA8ZGFuaWVsLnZldHRlckBmZndsbC5jaD4KPiA+IENjOiBNYWFydGVuIExh
bmtob3JzdCA8bWFhcnRlbi5sYW5raG9yc3RAbGludXguaW50ZWwuY29tPgo+ID4gU2lnbmVkLW9m
Zi1ieTogSW1yZSBEZWFrIDxpbXJlLmRlYWtAaW50ZWwuY29tPgo+ID4gLS0tCj4gPiAgZHJpdmVy
cy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5LmMgIHwgIDE5ICstCj4gPiAgZHJp
dmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kcGxsX21nci5jIHwgMjIxICsrKysrKysr
KysrLS0tLS0tLQo+ID4gIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZHBsbF9t
Z3IuaCB8ICAxMyArLQo+ID4gIDMgZmlsZXMgY2hhbmdlZCwgMTUzIGluc2VydGlvbnMoKyksIDEw
MCBkZWxldGlvbnMoLSkKPiA+IAo+ID4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1
L2Rpc3BsYXkvaW50ZWxfZGlzcGxheS5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9p
bnRlbF9kaXNwbGF5LmMKPiA+IGluZGV4IDQ2OGNhNmQ4NGJkOC4uNjg4MTM3NTI0MTc5IDEwMDY0
NAo+ID4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5LmMK
PiA+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheS5jCj4g
PiBAQCAtOTUwNCw2ICs5NTA0LDggQEAgc3RhdGljIGludCBpcm9ubGFrZV9jcnRjX2NvbXB1dGVf
Y2xvY2soc3RydWN0IGludGVsX2NydGMgKmNydGMsCj4gPiAgCQkJCSAgICAgICBzdHJ1Y3QgaW50
ZWxfY3J0Y19zdGF0ZSAqY3J0Y19zdGF0ZSkKPiA+ICB7Cj4gPiAgCXN0cnVjdCBkcm1faTkxNV9w
cml2YXRlICpkZXZfcHJpdiA9IHRvX2k5MTUoY3J0Yy0+YmFzZS5kZXYpOwo+ID4gKwlzdHJ1Y3Qg
aW50ZWxfYXRvbWljX3N0YXRlICpzdGF0ZSA9Cj4gPiArCQl0b19pbnRlbF9hdG9taWNfc3RhdGUo
Y3J0Y19zdGF0ZS0+YmFzZS5zdGF0ZSk7Cj4gPiAgCWNvbnN0IHN0cnVjdCBpbnRlbF9saW1pdCAq
bGltaXQ7Cj4gPiAgCWludCByZWZjbGsgPSAxMjAwMDA7Cj4gPiAgCj4gPiBAQCAtOTU0NSw3ICs5
NTQ3LDcgQEAgc3RhdGljIGludCBpcm9ubGFrZV9jcnRjX2NvbXB1dGVfY2xvY2soc3RydWN0IGlu
dGVsX2NydGMgKmNydGMsCj4gPiAgCj4gPiAgCWlyb25sYWtlX2NvbXB1dGVfZHBsbChjcnRjLCBj
cnRjX3N0YXRlLCBOVUxMKTsKPiA+ICAKPiA+IC0JaWYgKCFpbnRlbF9nZXRfc2hhcmVkX2RwbGwo
Y3J0Y19zdGF0ZSwgTlVMTCkpIHsKPiA+ICsJaWYgKCFpbnRlbF9yZXNlcnZlX3NoYXJlZF9kcGxs
cyhzdGF0ZSwgY3J0YywgTlVMTCkpIHsKPiA+ICAJCURSTV9ERUJVR19LTVMoImZhaWxlZCB0byBm
aW5kIFBMTCBmb3IgcGlwZSAlY1xuIiwKPiA+ICAJCQkgICAgICBwaXBlX25hbWUoY3J0Yy0+cGlw
ZSkpOwo+ID4gIAkJcmV0dXJuIC1FSU5WQUw7Cj4gPiBAQCAtOTkyNiw3ICs5OTI4LDcgQEAgc3Rh
dGljIGludCBoYXN3ZWxsX2NydGNfY29tcHV0ZV9jbG9jayhzdHJ1Y3QgaW50ZWxfY3J0YyAqY3J0
YywKPiA+ICAJCXN0cnVjdCBpbnRlbF9lbmNvZGVyICplbmNvZGVyID0KPiA+ICAJCQlpbnRlbF9n
ZXRfY3J0Y19uZXdfZW5jb2RlcihzdGF0ZSwgY3J0Y19zdGF0ZSk7Cj4gPiAgCj4gPiAtCQlpZiAo
IWludGVsX2dldF9zaGFyZWRfZHBsbChjcnRjX3N0YXRlLCBlbmNvZGVyKSkgewo+ID4gKwkJaWYg
KCFpbnRlbF9yZXNlcnZlX3NoYXJlZF9kcGxscyhzdGF0ZSwgY3J0YywgZW5jb2RlcikpIHsKPiA+
ICAJCQlEUk1fREVCVUdfS01TKCJmYWlsZWQgdG8gZmluZCBQTEwgZm9yIHBpcGUgJWNcbiIsCj4g
PiAgCQkJCSAgICAgIHBpcGVfbmFtZShjcnRjLT5waXBlKSk7Cj4gPiAgCQkJcmV0dXJuIC1FSU5W
QUw7Cj4gPiBAQCAtMTMxOTUsMjcgKzEzMTk3LDIwIEBAIHN0YXRpYyB2b2lkIHVwZGF0ZV9zY2Fu
bGluZV9vZmZzZXQoY29uc3Qgc3RydWN0IGludGVsX2NydGNfc3RhdGUgKmNydGNfc3RhdGUpCj4g
PiAgc3RhdGljIHZvaWQgaW50ZWxfbW9kZXNldF9jbGVhcl9wbGxzKHN0cnVjdCBpbnRlbF9hdG9t
aWNfc3RhdGUgKnN0YXRlKQo+ID4gIHsKPiA+ICAJc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRl
dl9wcml2ID0gdG9faTkxNShzdGF0ZS0+YmFzZS5kZXYpOwo+ID4gLQlzdHJ1Y3QgaW50ZWxfY3J0
Y19zdGF0ZSAqb2xkX2NydGNfc3RhdGUsICpuZXdfY3J0Y19zdGF0ZTsKPiA+ICsJc3RydWN0IGlu
dGVsX2NydGNfc3RhdGUgKm5ld19jcnRjX3N0YXRlOwo+ID4gIAlzdHJ1Y3QgaW50ZWxfY3J0YyAq
Y3J0YzsKPiA+ICAJaW50IGk7Cj4gPiAgCj4gPiAgCWlmICghZGV2X3ByaXYtPmRpc3BsYXkuY3J0
Y19jb21wdXRlX2Nsb2NrKQo+ID4gIAkJcmV0dXJuOwo+ID4gIAo+ID4gLQlmb3JfZWFjaF9vbGRu
ZXdfaW50ZWxfY3J0Y19pbl9zdGF0ZShzdGF0ZSwgY3J0Yywgb2xkX2NydGNfc3RhdGUsCj4gPiAt
CQkJCQkgICAgbmV3X2NydGNfc3RhdGUsIGkpIHsKPiA+IC0JCXN0cnVjdCBpbnRlbF9zaGFyZWRf
ZHBsbCAqb2xkX2RwbGwgPQo+ID4gLQkJCW9sZF9jcnRjX3N0YXRlLT5zaGFyZWRfZHBsbDsKPiA+
IC0KPiA+ICsJZm9yX2VhY2hfbmV3X2ludGVsX2NydGNfaW5fc3RhdGUoc3RhdGUsIGNydGMsIG5l
d19jcnRjX3N0YXRlLCBpKSB7Cj4gPiAgCQlpZiAoIW5lZWRzX21vZGVzZXQoJm5ld19jcnRjX3N0
YXRlLT5iYXNlKSkKPiA+ICAJCQljb250aW51ZTsKPiA+ICAKPiA+ICAJCW5ld19jcnRjX3N0YXRl
LT5zaGFyZWRfZHBsbCA9IE5VTEw7Cj4gPiAgCj4gPiAtCQlpZiAoIW9sZF9kcGxsKQo+ID4gLQkJ
CWNvbnRpbnVlOwo+ID4gLQo+ID4gLQkJaW50ZWxfcmVsZWFzZV9zaGFyZWRfZHBsbChvbGRfZHBs
bCwgY3J0YywgJnN0YXRlLT5iYXNlKTsKPiA+ICsJCWludGVsX3JlbGVhc2Vfc2hhcmVkX2RwbGxz
KHN0YXRlLCBjcnRjKTsKPiA+ICAJfQo+ID4gIH0KPiA+ICAKPiA+IGRpZmYgLS1naXQgYS9kcml2
ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2RwbGxfbWdyLmMgYi9kcml2ZXJzL2dwdS9k
cm0vaTkxNS9kaXNwbGF5L2ludGVsX2RwbGxfbWdyLmMKPiA+IGluZGV4IGJmNjYyNjFjOGJmMC4u
M2ZiYzk3NTg1MWZhIDEwMDY0NAo+ID4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxh
eS9pbnRlbF9kcGxsX21nci5jCj4gPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5
L2ludGVsX2RwbGxfbWdyLmMKPiA+IEBAIC0zNiw5ICszNiwxMCBAQAo+ID4gICAqIFRoaXMgZmls
ZSBwcm92aWRlcyBhbiBhYnN0cmFjdGlvbiBvdmVyIGRpc3BsYXkgUExMcy4gVGhlIGZ1bmN0aW9u
Cj4gPiAgICogaW50ZWxfc2hhcmVkX2RwbGxfaW5pdCgpIGluaXRpYWxpemVzIHRoZSBQTExzIGZv
ciB0aGUgZ2l2ZW4gcGxhdGZvcm0uICBUaGUKPiA+ICAgKiB1c2VycyBvZiBhIFBMTCBhcmUgdHJh
Y2tlZCBhbmQgdGhhdCB0cmFja2luZyBpcyBpbnRlZ3JhdGVkIHdpdGggdGhlIGF0b21pYwo+ID4g
LSAqIG1vZGVzdCBpbnRlcmZhY2UuIER1cmluZyBhbiBhdG9taWMgb3BlcmF0aW9uLCBhIFBMTCBj
YW4gYmUgcmVxdWVzdGVkIGZvciBhCj4gPiAtICogZ2l2ZW4gQ1JUQyBhbmQgZW5jb2RlciBjb25m
aWd1cmF0aW9uIGJ5IGNhbGxpbmcgaW50ZWxfZ2V0X3NoYXJlZF9kcGxsKCkgYW5kCj4gPiAtICog
YSBwcmV2aW91c2x5IHVzZWQgUExMIGNhbiBiZSByZWxlYXNlZCB3aXRoIGludGVsX3JlbGVhc2Vf
c2hhcmVkX2RwbGwoKS4KPiA+ICsgKiBtb2RzZXQgaW50ZXJmYWNlLiBEdXJpbmcgYW4gYXRvbWlj
IG9wZXJhdGlvbiwgcmVxdWlyZWQgUExMcyBjYW4gYmUgcmVzZXJ2ZWQKPiA+ICsgKiBmb3IgYSBn
aXZlbiBDUlRDIGFuZCBlbmNvZGVyIGNvbmZpZ3VyYXRpb24gYnkgY2FsbGluZwo+ID4gKyAqIGlu
dGVsX3Jlc2VydmVfc2hhcmVkX2RwbGxzKCkgYW5kIHByZXZpb3VzbHkgcmVzZXJ2ZWQgUExMcyBj
YW4gYmUgcmVsZWFzZWQKPiA+ICsgKiB3aXRoIGludGVsX3JlbGVhc2Vfc2hhcmVkX2RwbGxzKCku
Cj4gPiAgICogQ2hhbmdlcyB0byB0aGUgdXNlcnMgYXJlIGZpcnN0IHN0YWdlZCBpbiB0aGUgYXRv
bWljIHN0YXRlLCBhbmQgdGhlbiBtYWRlCj4gPiAgICogZWZmZWN0aXZlIGJ5IGNhbGxpbmcgaW50
ZWxfc2hhcmVkX2RwbGxfc3dhcF9zdGF0ZSgpIGR1cmluZyB0aGUgYXRvbWljCj4gPiAgICogY29t
bWl0IHBoYXNlLgo+ID4gQEAgLTMwOSw2ICszMTAsMjggQEAgaW50ZWxfcmVmZXJlbmNlX3NoYXJl
ZF9kcGxsKHN0cnVjdCBpbnRlbF9zaGFyZWRfZHBsbCAqcGxsLAo+ID4gIAlzaGFyZWRfZHBsbFtp
ZF0uY3J0Y19tYXNrIHw9IDEgPDwgY3J0Yy0+cGlwZTsKPiA+ICB9Cj4gPiAgCj4gPiArc3RhdGlj
IHZvaWQgaW50ZWxfdW5yZWZlcmVuY2Vfc2hhcmVkX2RwbGwoc3RydWN0IGludGVsX2F0b21pY19z
dGF0ZSAqc3RhdGUsCj4gPiArCQkJCQkgIGNvbnN0IHN0cnVjdCBpbnRlbF9jcnRjICpjcnRjLAo+
ID4gKwkJCQkJICBjb25zdCBzdHJ1Y3QgaW50ZWxfc2hhcmVkX2RwbGwgKnBsbCkKPiA+ICt7Cj4g
PiArCXN0cnVjdCBpbnRlbF9zaGFyZWRfZHBsbF9zdGF0ZSAqc2hhcmVkX2RwbGw7Cj4gPiArCj4g
PiArCXNoYXJlZF9kcGxsID0gaW50ZWxfYXRvbWljX2dldF9zaGFyZWRfZHBsbF9zdGF0ZSgmc3Rh
dGUtPmJhc2UpOwo+ID4gKwlzaGFyZWRfZHBsbFtwbGwtPmluZm8tPmlkXS5jcnRjX21hc2sgJj0g
figxIDw8IGNydGMtPnBpcGUpOwo+ID4gK30KPiA+ICsKPiA+ICtzdGF0aWMgdm9pZCBpbnRlbF9w
dXRfZHBsbChzdHJ1Y3QgaW50ZWxfYXRvbWljX3N0YXRlICpzdGF0ZSwKPiA+ICsJCQkgICBzdHJ1
Y3QgaW50ZWxfY3J0YyAqY3J0YykKPiA+ICt7Cj4gPiArCXN0cnVjdCBpbnRlbF9jcnRjX3N0YXRl
ICpjcnRjX3N0YXRlID0KPiA+ICsJCWludGVsX2F0b21pY19nZXRfb2xkX2NydGNfc3RhdGUoc3Rh
dGUsIGNydGMpOwo+IAo+IEknbSB3b25kZXJpbmcgYSBiaXQgd2h5IHdlJ3JlIHVzaW5nIHRoZSBv
bGQgY3J0YyBzdGF0ZSBoZXJlLiBXZQo+IGR1cGxpY2F0ZWQgdGhlIHN0YXRlIHNvIHNob3VsZG4n
dCB0aGUgbmV3IGNydGMgc3RhdGUgaGF2ZSB0aGUKPiBzYW1lIGRwbGwgc3RpbGwgYXQgdGhpcyBw
b2ludD8KPiAKPiBEb2Vzbid0IHJlYWxseSBtYXR0ZXIgSSBzdXBwb3NlLiBOb3QgZXZlbiBzdXJl
IHdoaWNoIHN0YXRlIHdvdWxkCj4gYmUgbW9yZSBjb3JyZWN0IGhlcmUuCgpZb3UgYXJlIHJpZ2h0
LCB0aGUgbmV3IGNydGMgc3RhdGUgd291bGQgYmUgdGhlIGJldHRlciBjaG9pY2UgaGVyZS4gVGhl
CnR3byBzdGF0ZXMgYXJlIGVxdWFsIGhlcmUgeWVzLCBidXQgaW4gdGhlIHVwY29taW5nIGljbF9w
dXRfZHBsbHMoKSB3ZQpzaG91bGQgY2xlYXIgdGhlIG5ldyBjcnRjX3N0YXRlLT5pY2xfcG9ydF9k
cGxscy4gTm90IGNsZWFyaW5nIHRoZW0KaGFwcGVucyB0byBub3QgY2F1c2UgYSBwcm9ibGVtLCBz
aW5jZSB3ZSByZWFsbG9jYXRlIGFsbCBQTExzIGluCmljbF9nZXRfZHBsbHMoKSwgYnV0IGl0J3Mg
YmV0dGVyIHRvIGRvIHRoZSBjbGVhcmluZyBhbnl3YXkgZm9yCmNvbnNpc3RlbmN5LgoKSSdsbCBj
aGFuZ2UgdGhhdC4KCj4gCj4gQW55d2F5cywgdGhlIHBhdGNoIHNlZW1zIE9LLgo+IFJldmlld2Vk
LWJ5OiBWaWxsZSBTeXJqw6Rsw6QgPHZpbGxlLnN5cmphbGFAbGludXguaW50ZWwuY29tPgo+IAo+
ID4gKwo+ID4gKwlpZiAoIWNydGNfc3RhdGUtPnNoYXJlZF9kcGxsKQo+ID4gKwkJcmV0dXJuOwo+
ID4gKwo+ID4gKwlpbnRlbF91bnJlZmVyZW5jZV9zaGFyZWRfZHBsbChzdGF0ZSwgY3J0YywgY3J0
Y19zdGF0ZS0+c2hhcmVkX2RwbGwpOwo+ID4gK30KPiA+ICsKPiA+ICAvKioKPiA+ICAgKiBpbnRl
bF9zaGFyZWRfZHBsbF9zd2FwX3N0YXRlIC0gbWFrZSBhdG9taWMgRFBMTCBjb25maWd1cmF0aW9u
IGVmZmVjdGl2ZQo+ID4gICAqIEBzdGF0ZTogYXRvbWljIHN0YXRlCj4gPiBAQCAtNDIxLDExICs0
NDQsMTIgQEAgc3RhdGljIHZvaWQgaWJ4X3BjaF9kcGxsX2Rpc2FibGUoc3RydWN0IGRybV9pOTE1
X3ByaXZhdGUgKmRldl9wcml2LAo+ID4gIAl1ZGVsYXkoMjAwKTsKPiA+ICB9Cj4gPiAgCj4gPiAt
c3RhdGljIHN0cnVjdCBpbnRlbF9zaGFyZWRfZHBsbCAqCj4gPiAtaWJ4X2dldF9kcGxsKHN0cnVj
dCBpbnRlbF9jcnRjX3N0YXRlICpjcnRjX3N0YXRlLAo+ID4gLQkgICAgIHN0cnVjdCBpbnRlbF9l
bmNvZGVyICplbmNvZGVyKQo+ID4gK3N0YXRpYyBib29sIGlieF9nZXRfZHBsbChzdHJ1Y3QgaW50
ZWxfYXRvbWljX3N0YXRlICpzdGF0ZSwKPiA+ICsJCQkgc3RydWN0IGludGVsX2NydGMgKmNydGMs
Cj4gPiArCQkJIHN0cnVjdCBpbnRlbF9lbmNvZGVyICplbmNvZGVyKQo+ID4gIHsKPiA+IC0Jc3Ry
dWN0IGludGVsX2NydGMgKmNydGMgPSB0b19pbnRlbF9jcnRjKGNydGNfc3RhdGUtPmJhc2UuY3J0
Yyk7Cj4gPiArCXN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpjcnRjX3N0YXRlID0KPiA+ICsJCWlu
dGVsX2F0b21pY19nZXRfbmV3X2NydGNfc3RhdGUoc3RhdGUsIGNydGMpOwo+ID4gIAlzdHJ1Y3Qg
ZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYgPSB0b19pOTE1KGNydGMtPmJhc2UuZGV2KTsKPiA+
ICAJc3RydWN0IGludGVsX3NoYXJlZF9kcGxsICpwbGw7Cj4gPiAgCWVudW0gaW50ZWxfZHBsbF9p
ZCBpOwo+ID4gQEAgLTQ0NSwxMiArNDY5LDEyIEBAIGlieF9nZXRfZHBsbChzdHJ1Y3QgaW50ZWxf
Y3J0Y19zdGF0ZSAqY3J0Y19zdGF0ZSwKPiA+ICAJfQo+ID4gIAo+ID4gIAlpZiAoIXBsbCkKPiA+
IC0JCXJldHVybiBOVUxMOwo+ID4gKwkJcmV0dXJuIGZhbHNlOwo+ID4gIAo+ID4gIAkvKiByZWZl
cmVuY2UgdGhlIHBsbCAqLwo+ID4gIAlpbnRlbF9yZWZlcmVuY2Vfc2hhcmVkX2RwbGwocGxsLCBj
cnRjX3N0YXRlKTsKPiA+ICAKPiA+IC0JcmV0dXJuIHBsbDsKPiA+ICsJcmV0dXJuIHRydWU7Cj4g
PiAgfQo+ID4gIAo+ID4gIHN0YXRpYyB2b2lkIGlieF9kdW1wX2h3X3N0YXRlKHN0cnVjdCBkcm1f
aTkxNV9wcml2YXRlICpkZXZfcHJpdiwKPiA+IEBAIC04MjEsMTAgKzg0NSwxMiBAQCBoc3dfZGRp
X2RwX2dldF9kcGxsKHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpjcnRjX3N0YXRlKQo+ID4gIAly
ZXR1cm4gcGxsOwo+ID4gIH0KPiA+ICAKPiA+IC1zdGF0aWMgc3RydWN0IGludGVsX3NoYXJlZF9k
cGxsICoKPiA+IC1oc3dfZ2V0X2RwbGwoc3RydWN0IGludGVsX2NydGNfc3RhdGUgKmNydGNfc3Rh
dGUsCj4gPiAtCSAgICAgc3RydWN0IGludGVsX2VuY29kZXIgKmVuY29kZXIpCj4gPiArc3RhdGlj
IGJvb2wgaHN3X2dldF9kcGxsKHN0cnVjdCBpbnRlbF9hdG9taWNfc3RhdGUgKnN0YXRlLAo+ID4g
KwkJCSBzdHJ1Y3QgaW50ZWxfY3J0YyAqY3J0YywKPiA+ICsJCQkgc3RydWN0IGludGVsX2VuY29k
ZXIgKmVuY29kZXIpCj4gPiAgewo+ID4gKwlzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqY3J0Y19z
dGF0ZSA9Cj4gPiArCQlpbnRlbF9hdG9taWNfZ2V0X25ld19jcnRjX3N0YXRlKHN0YXRlLCBjcnRj
KTsKPiA+ICAJc3RydWN0IGludGVsX3NoYXJlZF9kcGxsICpwbGw7Cj4gPiAgCj4gPiAgCW1lbXNl
dCgmY3J0Y19zdGF0ZS0+ZHBsbF9od19zdGF0ZSwgMCwKPiA+IEBAIC04MzYsNyArODYyLDcgQEAg
aHN3X2dldF9kcGxsKHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpjcnRjX3N0YXRlLAo+ID4gIAkJ
cGxsID0gaHN3X2RkaV9kcF9nZXRfZHBsbChjcnRjX3N0YXRlKTsKPiA+ICAJfSBlbHNlIGlmIChp
bnRlbF9jcnRjX2hhc190eXBlKGNydGNfc3RhdGUsIElOVEVMX09VVFBVVF9BTkFMT0cpKSB7Cj4g
PiAgCQlpZiAoV0FSTl9PTihjcnRjX3N0YXRlLT5wb3J0X2Nsb2NrIC8gMiAhPSAxMzUwMDApKQo+
ID4gLQkJCXJldHVybiBOVUxMOwo+ID4gKwkJCXJldHVybiBmYWxzZTsKPiA+ICAKPiA+ICAJCWNy
dGNfc3RhdGUtPmRwbGxfaHdfc3RhdGUuc3BsbCA9Cj4gPiAgCQkJU1BMTF9QTExfRU5BQkxFIHwg
U1BMTF9GUkVRXzEzNTBNSHogfCBTUExMX1JFRl9NVVhFRF9TU0M7Cj4gPiBAQCAtODQ0LDE1ICs4
NzAsMTUgQEAgaHN3X2dldF9kcGxsKHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpjcnRjX3N0YXRl
LAo+ID4gIAkJcGxsID0gaW50ZWxfZmluZF9zaGFyZWRfZHBsbChjcnRjX3N0YXRlLAo+ID4gIAkJ
CQkJICAgICBEUExMX0lEX1NQTEwsIERQTExfSURfU1BMTCk7Cj4gPiAgCX0gZWxzZSB7Cj4gPiAt
CQlyZXR1cm4gTlVMTDsKPiA+ICsJCXJldHVybiBmYWxzZTsKPiA+ICAJfQo+ID4gIAo+ID4gIAlp
ZiAoIXBsbCkKPiA+IC0JCXJldHVybiBOVUxMOwo+ID4gKwkJcmV0dXJuIGZhbHNlOwo+ID4gIAo+
ID4gIAlpbnRlbF9yZWZlcmVuY2Vfc2hhcmVkX2RwbGwocGxsLCBjcnRjX3N0YXRlKTsKPiA+ICAK
PiA+IC0JcmV0dXJuIHBsbDsKPiA+ICsJcmV0dXJuIHRydWU7Cj4gPiAgfQo+ID4gIAo+ID4gIHN0
YXRpYyB2b2lkIGhzd19kdW1wX2h3X3N0YXRlKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZf
cHJpdiwKPiA+IEBAIC0xMzg1LDEwICsxNDExLDEyIEBAIHNrbF9kZGlfZHBfc2V0X2RwbGxfaHdf
c3RhdGUoc3RydWN0IGludGVsX2NydGNfc3RhdGUgKmNydGNfc3RhdGUpCj4gPiAgCXJldHVybiB0
cnVlOwo+ID4gIH0KPiA+ICAKPiA+IC1zdGF0aWMgc3RydWN0IGludGVsX3NoYXJlZF9kcGxsICoK
PiA+IC1za2xfZ2V0X2RwbGwoc3RydWN0IGludGVsX2NydGNfc3RhdGUgKmNydGNfc3RhdGUsCj4g
PiAtCSAgICAgc3RydWN0IGludGVsX2VuY29kZXIgKmVuY29kZXIpCj4gPiArc3RhdGljIGJvb2wg
c2tsX2dldF9kcGxsKHN0cnVjdCBpbnRlbF9hdG9taWNfc3RhdGUgKnN0YXRlLAo+ID4gKwkJCSBz
dHJ1Y3QgaW50ZWxfY3J0YyAqY3J0YywKPiA+ICsJCQkgc3RydWN0IGludGVsX2VuY29kZXIgKmVu
Y29kZXIpCj4gPiAgewo+ID4gKwlzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqY3J0Y19zdGF0ZSA9
Cj4gPiArCQlpbnRlbF9hdG9taWNfZ2V0X25ld19jcnRjX3N0YXRlKHN0YXRlLCBjcnRjKTsKPiA+
ICAJc3RydWN0IGludGVsX3NoYXJlZF9kcGxsICpwbGw7Cj4gPiAgCWJvb2wgYnJldDsKPiA+ICAK
PiA+IEBAIC0xMzk2LDE2ICsxNDI0LDE2IEBAIHNrbF9nZXRfZHBsbChzdHJ1Y3QgaW50ZWxfY3J0
Y19zdGF0ZSAqY3J0Y19zdGF0ZSwKPiA+ICAJCWJyZXQgPSBza2xfZGRpX2hkbWlfcGxsX2Rpdmlk
ZXJzKGNydGNfc3RhdGUpOwo+ID4gIAkJaWYgKCFicmV0KSB7Cj4gPiAgCQkJRFJNX0RFQlVHX0tN
UygiQ291bGQgbm90IGdldCBIRE1JIHBsbCBkaXZpZGVycy5cbiIpOwo+ID4gLQkJCXJldHVybiBO
VUxMOwo+ID4gKwkJCXJldHVybiBmYWxzZTsKPiA+ICAJCX0KPiA+ICAJfSBlbHNlIGlmIChpbnRl
bF9jcnRjX2hhc19kcF9lbmNvZGVyKGNydGNfc3RhdGUpKSB7Cj4gPiAgCQlicmV0ID0gc2tsX2Rk
aV9kcF9zZXRfZHBsbF9od19zdGF0ZShjcnRjX3N0YXRlKTsKPiA+ICAJCWlmICghYnJldCkgewo+
ID4gIAkJCURSTV9ERUJVR19LTVMoIkNvdWxkIG5vdCBzZXQgRFAgZHBsbCBIVyBzdGF0ZS5cbiIp
Owo+ID4gLQkJCXJldHVybiBOVUxMOwo+ID4gKwkJCXJldHVybiBmYWxzZTsKPiA+ICAJCX0KPiA+
ICAJfSBlbHNlIHsKPiA+IC0JCXJldHVybiBOVUxMOwo+ID4gKwkJcmV0dXJuIGZhbHNlOwo+ID4g
IAl9Cj4gPiAgCj4gPiAgCWlmIChpbnRlbF9jcnRjX2hhc190eXBlKGNydGNfc3RhdGUsIElOVEVM
X09VVFBVVF9FRFApKQo+ID4gQEAgLTE0MTcsMTEgKzE0NDUsMTEgQEAgc2tsX2dldF9kcGxsKHN0
cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpjcnRjX3N0YXRlLAo+ID4gIAkJCQkJICAgICBEUExMX0lE
X1NLTF9EUExMMSwKPiA+ICAJCQkJCSAgICAgRFBMTF9JRF9TS0xfRFBMTDMpOwo+ID4gIAlpZiAo
IXBsbCkKPiA+IC0JCXJldHVybiBOVUxMOwo+ID4gKwkJcmV0dXJuIGZhbHNlOwo+ID4gIAo+ID4g
IAlpbnRlbF9yZWZlcmVuY2Vfc2hhcmVkX2RwbGwocGxsLCBjcnRjX3N0YXRlKTsKPiA+ICAKPiA+
IC0JcmV0dXJuIHBsbDsKPiA+ICsJcmV0dXJuIHRydWU7Cj4gPiAgfQo+ID4gIAo+ID4gIHN0YXRp
YyB2b2lkIHNrbF9kdW1wX2h3X3N0YXRlKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJp
diwKPiA+IEBAIC0xODI3LDIyICsxODU1LDIzIEBAIGJ4dF9kZGlfaGRtaV9zZXRfZHBsbF9od19z
dGF0ZShzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqY3J0Y19zdGF0ZSkKPiA+ICAJcmV0dXJuIGJ4
dF9kZGlfc2V0X2RwbGxfaHdfc3RhdGUoY3J0Y19zdGF0ZSwgJmNsa19kaXYpOwo+ID4gIH0KPiA+
ICAKPiA+IC1zdGF0aWMgc3RydWN0IGludGVsX3NoYXJlZF9kcGxsICoKPiA+IC1ieHRfZ2V0X2Rw
bGwoc3RydWN0IGludGVsX2NydGNfc3RhdGUgKmNydGNfc3RhdGUsCj4gPiAtCSAgICAgc3RydWN0
IGludGVsX2VuY29kZXIgKmVuY29kZXIpCj4gPiArc3RhdGljIGJvb2wgYnh0X2dldF9kcGxsKHN0
cnVjdCBpbnRlbF9hdG9taWNfc3RhdGUgKnN0YXRlLAo+ID4gKwkJCSBzdHJ1Y3QgaW50ZWxfY3J0
YyAqY3J0YywKPiA+ICsJCQkgc3RydWN0IGludGVsX2VuY29kZXIgKmVuY29kZXIpCj4gPiAgewo+
ID4gLQlzdHJ1Y3QgaW50ZWxfY3J0YyAqY3J0YyA9IHRvX2ludGVsX2NydGMoY3J0Y19zdGF0ZS0+
YmFzZS5jcnRjKTsKPiA+ICsJc3RydWN0IGludGVsX2NydGNfc3RhdGUgKmNydGNfc3RhdGUgPQo+
ID4gKwkJaW50ZWxfYXRvbWljX2dldF9uZXdfY3J0Y19zdGF0ZShzdGF0ZSwgY3J0Yyk7Cj4gPiAg
CXN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiA9IHRvX2k5MTUoY3J0Yy0+YmFzZS5k
ZXYpOwo+ID4gIAlzdHJ1Y3QgaW50ZWxfc2hhcmVkX2RwbGwgKnBsbDsKPiA+ICAJZW51bSBpbnRl
bF9kcGxsX2lkIGlkOwo+ID4gIAo+ID4gIAlpZiAoaW50ZWxfY3J0Y19oYXNfdHlwZShjcnRjX3N0
YXRlLCBJTlRFTF9PVVRQVVRfSERNSSkgJiYKPiA+ICAJICAgICFieHRfZGRpX2hkbWlfc2V0X2Rw
bGxfaHdfc3RhdGUoY3J0Y19zdGF0ZSkpCj4gPiAtCQlyZXR1cm4gTlVMTDsKPiA+ICsJCXJldHVy
biBmYWxzZTsKPiA+ICAKPiA+ICAJaWYgKGludGVsX2NydGNfaGFzX2RwX2VuY29kZXIoY3J0Y19z
dGF0ZSkgJiYKPiA+ICAJICAgICFieHRfZGRpX2RwX3NldF9kcGxsX2h3X3N0YXRlKGNydGNfc3Rh
dGUpKQo+ID4gLQkJcmV0dXJuIE5VTEw7Cj4gPiArCQlyZXR1cm4gZmFsc2U7Cj4gPiAgCj4gPiAg
CS8qIDE6MSBtYXBwaW5nIGJldHdlZW4gcG9ydHMgYW5kIFBMTHMgKi8KPiA+ICAJaWQgPSAoZW51
bSBpbnRlbF9kcGxsX2lkKSBlbmNvZGVyLT5wb3J0Owo+ID4gQEAgLTE4NTMsNyArMTg4Miw3IEBA
IGJ4dF9nZXRfZHBsbChzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqY3J0Y19zdGF0ZSwKPiA+ICAK
PiA+ICAJaW50ZWxfcmVmZXJlbmNlX3NoYXJlZF9kcGxsKHBsbCwgY3J0Y19zdGF0ZSk7Cj4gPiAg
Cj4gPiAtCXJldHVybiBwbGw7Cj4gPiArCXJldHVybiB0cnVlOwo+ID4gIH0KPiA+ICAKPiA+ICBz
dGF0aWMgdm9pZCBieHRfZHVtcF9od19zdGF0ZShzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2
X3ByaXYsCj4gPiBAQCAtMTg4NCw4ICsxOTEzLDExIEBAIHN0YXRpYyBjb25zdCBzdHJ1Y3QgaW50
ZWxfc2hhcmVkX2RwbGxfZnVuY3MgYnh0X2RkaV9wbGxfZnVuY3MgPSB7Cj4gPiAgc3RydWN0IGlu
dGVsX2RwbGxfbWdyIHsKPiA+ICAJY29uc3Qgc3RydWN0IGRwbGxfaW5mbyAqZHBsbF9pbmZvOwo+
ID4gIAo+ID4gLQlzdHJ1Y3QgaW50ZWxfc2hhcmVkX2RwbGwgKigqZ2V0X2RwbGwpKHN0cnVjdCBp
bnRlbF9jcnRjX3N0YXRlICpjcnRjX3N0YXRlLAo+ID4gLQkJCQkJICAgICAgc3RydWN0IGludGVs
X2VuY29kZXIgKmVuY29kZXIpOwo+ID4gKwlib29sICgqZ2V0X2RwbGxzKShzdHJ1Y3QgaW50ZWxf
YXRvbWljX3N0YXRlICpzdGF0ZSwKPiA+ICsJCQkgIHN0cnVjdCBpbnRlbF9jcnRjICpjcnRjLAo+
ID4gKwkJCSAgc3RydWN0IGludGVsX2VuY29kZXIgKmVuY29kZXIpOwo+ID4gKwl2b2lkICgqcHV0
X2RwbGxzKShzdHJ1Y3QgaW50ZWxfYXRvbWljX3N0YXRlICpzdGF0ZSwKPiA+ICsJCQkgIHN0cnVj
dCBpbnRlbF9jcnRjICpjcnRjKTsKPiA+ICAKPiA+ICAJdm9pZCAoKmR1bXBfaHdfc3RhdGUpKHN0
cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiwKPiA+ICAJCQkgICAgICBjb25zdCBzdHJ1
Y3QgaW50ZWxfZHBsbF9od19zdGF0ZSAqaHdfc3RhdGUpOwo+ID4gQEAgLTE4OTksNyArMTkzMSw4
IEBAIHN0YXRpYyBjb25zdCBzdHJ1Y3QgZHBsbF9pbmZvIHBjaF9wbGxzW10gPSB7Cj4gPiAgCj4g
PiAgc3RhdGljIGNvbnN0IHN0cnVjdCBpbnRlbF9kcGxsX21nciBwY2hfcGxsX21nciA9IHsKPiA+
ICAJLmRwbGxfaW5mbyA9IHBjaF9wbGxzLAo+ID4gLQkuZ2V0X2RwbGwgPSBpYnhfZ2V0X2RwbGws
Cj4gPiArCS5nZXRfZHBsbHMgPSBpYnhfZ2V0X2RwbGwsCj4gPiArCS5wdXRfZHBsbHMgPSBpbnRl
bF9wdXRfZHBsbCwKPiA+ICAJLmR1bXBfaHdfc3RhdGUgPSBpYnhfZHVtcF9od19zdGF0ZSwKPiA+
ICB9Owo+ID4gIAo+ID4gQEAgLTE5MTUsNyArMTk0OCw4IEBAIHN0YXRpYyBjb25zdCBzdHJ1Y3Qg
ZHBsbF9pbmZvIGhzd19wbGxzW10gPSB7Cj4gPiAgCj4gPiAgc3RhdGljIGNvbnN0IHN0cnVjdCBp
bnRlbF9kcGxsX21nciBoc3dfcGxsX21nciA9IHsKPiA+ICAJLmRwbGxfaW5mbyA9IGhzd19wbGxz
LAo+ID4gLQkuZ2V0X2RwbGwgPSBoc3dfZ2V0X2RwbGwsCj4gPiArCS5nZXRfZHBsbHMgPSBoc3df
Z2V0X2RwbGwsCj4gPiArCS5wdXRfZHBsbHMgPSBpbnRlbF9wdXRfZHBsbCwKPiA+ICAJLmR1bXBf
aHdfc3RhdGUgPSBoc3dfZHVtcF9od19zdGF0ZSwKPiA+ICB9Owo+ID4gIAo+ID4gQEAgLTE5Mjks
NyArMTk2Myw4IEBAIHN0YXRpYyBjb25zdCBzdHJ1Y3QgZHBsbF9pbmZvIHNrbF9wbGxzW10gPSB7
Cj4gPiAgCj4gPiAgc3RhdGljIGNvbnN0IHN0cnVjdCBpbnRlbF9kcGxsX21nciBza2xfcGxsX21n
ciA9IHsKPiA+ICAJLmRwbGxfaW5mbyA9IHNrbF9wbGxzLAo+ID4gLQkuZ2V0X2RwbGwgPSBza2xf
Z2V0X2RwbGwsCj4gPiArCS5nZXRfZHBsbHMgPSBza2xfZ2V0X2RwbGwsCj4gPiArCS5wdXRfZHBs
bHMgPSBpbnRlbF9wdXRfZHBsbCwKPiA+ICAJLmR1bXBfaHdfc3RhdGUgPSBza2xfZHVtcF9od19z
dGF0ZSwKPiA+ICB9Owo+ID4gIAo+ID4gQEAgLTE5NDIsNyArMTk3Nyw4IEBAIHN0YXRpYyBjb25z
dCBzdHJ1Y3QgZHBsbF9pbmZvIGJ4dF9wbGxzW10gPSB7Cj4gPiAgCj4gPiAgc3RhdGljIGNvbnN0
IHN0cnVjdCBpbnRlbF9kcGxsX21nciBieHRfcGxsX21nciA9IHsKPiA+ICAJLmRwbGxfaW5mbyA9
IGJ4dF9wbGxzLAo+ID4gLQkuZ2V0X2RwbGwgPSBieHRfZ2V0X2RwbGwsCj4gPiArCS5nZXRfZHBs
bHMgPSBieHRfZ2V0X2RwbGwsCj4gPiArCS5wdXRfZHBsbHMgPSBpbnRlbF9wdXRfZHBsbCwKPiA+
ICAJLmR1bXBfaHdfc3RhdGUgPSBieHRfZHVtcF9od19zdGF0ZSwKPiA+ICB9Owo+ID4gIAo+ID4g
QEAgLTIzMzIsMTAgKzIzNjgsMTIgQEAgY25sX2RkaV9kcF9zZXRfZHBsbF9od19zdGF0ZShzdHJ1
Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqY3J0Y19zdGF0ZSkKPiA+ICAJcmV0dXJuIHRydWU7Cj4gPiAg
fQo+ID4gIAo+ID4gLXN0YXRpYyBzdHJ1Y3QgaW50ZWxfc2hhcmVkX2RwbGwgKgo+ID4gLWNubF9n
ZXRfZHBsbChzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqY3J0Y19zdGF0ZSwKPiA+IC0JICAgICBz
dHJ1Y3QgaW50ZWxfZW5jb2RlciAqZW5jb2RlcikKPiA+ICtzdGF0aWMgYm9vbCBjbmxfZ2V0X2Rw
bGwoc3RydWN0IGludGVsX2F0b21pY19zdGF0ZSAqc3RhdGUsCj4gPiArCQkJIHN0cnVjdCBpbnRl
bF9jcnRjICpjcnRjLAo+ID4gKwkJCSBzdHJ1Y3QgaW50ZWxfZW5jb2RlciAqZW5jb2RlcikKPiA+
ICB7Cj4gPiArCXN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpjcnRjX3N0YXRlID0KPiA+ICsJCWlu
dGVsX2F0b21pY19nZXRfbmV3X2NydGNfc3RhdGUoc3RhdGUsIGNydGMpOwo+ID4gIAlzdHJ1Y3Qg
aW50ZWxfc2hhcmVkX2RwbGwgKnBsbDsKPiA+ICAJYm9vbCBicmV0Owo+ID4gIAo+ID4gQEAgLTIz
NDMsMTggKzIzODEsMTggQEAgY25sX2dldF9kcGxsKHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpj
cnRjX3N0YXRlLAo+ID4gIAkJYnJldCA9IGNubF9kZGlfaGRtaV9wbGxfZGl2aWRlcnMoY3J0Y19z
dGF0ZSk7Cj4gPiAgCQlpZiAoIWJyZXQpIHsKPiA+ICAJCQlEUk1fREVCVUdfS01TKCJDb3VsZCBu
b3QgZ2V0IEhETUkgcGxsIGRpdmlkZXJzLlxuIik7Cj4gPiAtCQkJcmV0dXJuIE5VTEw7Cj4gPiAr
CQkJcmV0dXJuIGZhbHNlOwo+ID4gIAkJfQo+ID4gIAl9IGVsc2UgaWYgKGludGVsX2NydGNfaGFz
X2RwX2VuY29kZXIoY3J0Y19zdGF0ZSkpIHsKPiA+ICAJCWJyZXQgPSBjbmxfZGRpX2RwX3NldF9k
cGxsX2h3X3N0YXRlKGNydGNfc3RhdGUpOwo+ID4gIAkJaWYgKCFicmV0KSB7Cj4gPiAgCQkJRFJN
X0RFQlVHX0tNUygiQ291bGQgbm90IHNldCBEUCBkcGxsIEhXIHN0YXRlLlxuIik7Cj4gPiAtCQkJ
cmV0dXJuIE5VTEw7Cj4gPiArCQkJcmV0dXJuIGZhbHNlOwo+ID4gIAkJfQo+ID4gIAl9IGVsc2Ug
ewo+ID4gIAkJRFJNX0RFQlVHX0tNUygiU2tpcCBEUExMIHNldHVwIGZvciBvdXRwdXRfdHlwZXMg
MHgleFxuIiwKPiA+ICAJCQkgICAgICBjcnRjX3N0YXRlLT5vdXRwdXRfdHlwZXMpOwo+ID4gLQkJ
cmV0dXJuIE5VTEw7Cj4gPiArCQlyZXR1cm4gZmFsc2U7Cj4gPiAgCX0KPiA+ICAKPiA+ICAJcGxs
ID0gaW50ZWxfZmluZF9zaGFyZWRfZHBsbChjcnRjX3N0YXRlLAo+ID4gQEAgLTIzNjIsMTIgKzI0
MDAsMTIgQEAgY25sX2dldF9kcGxsKHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpjcnRjX3N0YXRl
LAo+ID4gIAkJCQkgICAgIERQTExfSURfU0tMX0RQTEwyKTsKPiA+ICAJaWYgKCFwbGwpIHsKPiA+
ICAJCURSTV9ERUJVR19LTVMoIk5vIFBMTCBzZWxlY3RlZFxuIik7Cj4gPiAtCQlyZXR1cm4gTlVM
TDsKPiA+ICsJCXJldHVybiBmYWxzZTsKPiA+ICAJfQo+ID4gIAo+ID4gIAlpbnRlbF9yZWZlcmVu
Y2Vfc2hhcmVkX2RwbGwocGxsLCBjcnRjX3N0YXRlKTsKPiA+ICAKPiA+IC0JcmV0dXJuIHBsbDsK
PiA+ICsJcmV0dXJuIHRydWU7Cj4gPiAgfQo+ID4gIAo+ID4gIHN0YXRpYyB2b2lkIGNubF9kdW1w
X2h3X3N0YXRlKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiwKPiA+IEBAIC0yMzk0
LDcgKzI0MzIsOCBAQCBzdGF0aWMgY29uc3Qgc3RydWN0IGRwbGxfaW5mbyBjbmxfcGxsc1tdID0g
ewo+ID4gIAo+ID4gIHN0YXRpYyBjb25zdCBzdHJ1Y3QgaW50ZWxfZHBsbF9tZ3IgY25sX3BsbF9t
Z3IgPSB7Cj4gPiAgCS5kcGxsX2luZm8gPSBjbmxfcGxscywKPiA+IC0JLmdldF9kcGxsID0gY25s
X2dldF9kcGxsLAo+ID4gKwkuZ2V0X2RwbGxzID0gY25sX2dldF9kcGxsLAo+ID4gKwkucHV0X2Rw
bGxzID0gaW50ZWxfcHV0X2RwbGwsCj4gPiAgCS5kdW1wX2h3X3N0YXRlID0gY25sX2R1bXBfaHdf
c3RhdGUsCj4gPiAgfTsKPiA+ICAKPiA+IEBAIC0yNzkyLDExICsyODMxLDEzIEBAIHN0YXRpYyBi
b29sIGljbF9jYWxjX21nX3BsbF9zdGF0ZShzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqY3J0Y19z
dGF0ZSkKPiA+ICAJcmV0dXJuIHRydWU7Cj4gPiAgfQo+ID4gIAo+ID4gLXN0YXRpYyBzdHJ1Y3Qg
aW50ZWxfc2hhcmVkX2RwbGwgKgo+ID4gLWljbF9nZXRfZHBsbChzdHJ1Y3QgaW50ZWxfY3J0Y19z
dGF0ZSAqY3J0Y19zdGF0ZSwKPiA+IC0JICAgICBzdHJ1Y3QgaW50ZWxfZW5jb2RlciAqZW5jb2Rl
cikKPiA+ICtzdGF0aWMgYm9vbCBpY2xfZ2V0X2RwbGxzKHN0cnVjdCBpbnRlbF9hdG9taWNfc3Rh
dGUgKnN0YXRlLAo+ID4gKwkJCSAgc3RydWN0IGludGVsX2NydGMgKmNydGMsCj4gPiArCQkJICBz
dHJ1Y3QgaW50ZWxfZW5jb2RlciAqZW5jb2RlcikKPiA+ICB7Cj4gPiAtCXN0cnVjdCBkcm1faTkx
NV9wcml2YXRlICpkZXZfcHJpdiA9IHRvX2k5MTUoY3J0Y19zdGF0ZS0+YmFzZS5jcnRjLT5kZXYp
Owo+ID4gKwlzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYgPSB0b19pOTE1KHN0YXRl
LT5iYXNlLmRldik7Cj4gPiArCXN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpjcnRjX3N0YXRlID0K
PiA+ICsJCWludGVsX2F0b21pY19nZXRfbmV3X2NydGNfc3RhdGUoc3RhdGUsIGNydGMpOwo+ID4g
IAlzdHJ1Y3QgaW50ZWxfZGlnaXRhbF9wb3J0ICppbnRlbF9kaWdfcG9ydDsKPiA+ICAJc3RydWN0
IGludGVsX3NoYXJlZF9kcGxsICpwbGw7Cj4gPiAgCWVudW0gcG9ydCBwb3J0ID0gZW5jb2Rlci0+
cG9ydDsKPiA+IEBAIC0yODMxLDI0ICsyODcyLDI0IEBAIGljbF9nZXRfZHBsbChzdHJ1Y3QgaW50
ZWxfY3J0Y19zdGF0ZSAqY3J0Y19zdGF0ZSwKPiA+ICAJCX0KPiA+ICAJfSBlbHNlIHsKPiA+ICAJ
CU1JU1NJTkdfQ0FTRShwb3J0KTsKPiA+IC0JCXJldHVybiBOVUxMOwo+ID4gKwkJcmV0dXJuIGZh
bHNlOwo+ID4gIAl9Cj4gPiAgCj4gPiAgCWlmICghcmV0KSB7Cj4gPiAgCQlEUk1fREVCVUdfS01T
KCJDb3VsZCBub3QgY2FsY3VsYXRlIFBMTCBzdGF0ZS5cbiIpOwo+ID4gLQkJcmV0dXJuIE5VTEw7
Cj4gPiArCQlyZXR1cm4gZmFsc2U7Cj4gPiAgCX0KPiA+ICAKPiA+ICAKPiA+ICAJcGxsID0gaW50
ZWxfZmluZF9zaGFyZWRfZHBsbChjcnRjX3N0YXRlLCBtaW4sIG1heCk7Cj4gPiAgCWlmICghcGxs
KSB7Cj4gPiAgCQlEUk1fREVCVUdfS01TKCJObyBQTEwgc2VsZWN0ZWRcbiIpOwo+ID4gLQkJcmV0
dXJuIE5VTEw7Cj4gPiArCQlyZXR1cm4gZmFsc2U7Cj4gPiAgCX0KPiA+ICAKPiA+ICAJaW50ZWxf
cmVmZXJlbmNlX3NoYXJlZF9kcGxsKHBsbCwgY3J0Y19zdGF0ZSk7Cj4gPiAgCj4gPiAtCXJldHVy
biBwbGw7Cj4gPiArCXJldHVybiB0cnVlOwo+ID4gIH0KPiA+ICAKPiA+ICBzdGF0aWMgYm9vbCBt
Z19wbGxfZ2V0X2h3X3N0YXRlKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiwKPiA+
IEBAIC0zMjIzLDcgKzMyNjQsOCBAQCBzdGF0aWMgY29uc3Qgc3RydWN0IGRwbGxfaW5mbyBpY2xf
cGxsc1tdID0gewo+ID4gIAo+ID4gIHN0YXRpYyBjb25zdCBzdHJ1Y3QgaW50ZWxfZHBsbF9tZ3Ig
aWNsX3BsbF9tZ3IgPSB7Cj4gPiAgCS5kcGxsX2luZm8gPSBpY2xfcGxscywKPiA+IC0JLmdldF9k
cGxsID0gaWNsX2dldF9kcGxsLAo+ID4gKwkuZ2V0X2RwbGxzID0gaWNsX2dldF9kcGxscywKPiA+
ICsJLnB1dF9kcGxscyA9IGludGVsX3B1dF9kcGxsLAo+ID4gIAkuZHVtcF9od19zdGF0ZSA9IGlj
bF9kdW1wX2h3X3N0YXRlLAo+ID4gIH07Cj4gPiAgCj4gPiBAQCAtMzIzNSw3ICszMjc3LDggQEAg
c3RhdGljIGNvbnN0IHN0cnVjdCBkcGxsX2luZm8gZWhsX3BsbHNbXSA9IHsKPiA+ICAKPiA+ICBz
dGF0aWMgY29uc3Qgc3RydWN0IGludGVsX2RwbGxfbWdyIGVobF9wbGxfbWdyID0gewo+ID4gIAku
ZHBsbF9pbmZvID0gZWhsX3BsbHMsCj4gPiAtCS5nZXRfZHBsbCA9IGljbF9nZXRfZHBsbCwKPiA+
ICsJLmdldF9kcGxscyA9IGljbF9nZXRfZHBsbHMsCj4gPiArCS5wdXRfZHBsbHMgPSBpbnRlbF9w
dXRfZHBsbCwKPiA+ICAJLmR1bXBfaHdfc3RhdGUgPSBpY2xfZHVtcF9od19zdGF0ZSwKPiA+ICB9
Owo+ID4gIAo+ID4gQEAgLTMyODcsNTAgKzMzMzAsNjQgQEAgdm9pZCBpbnRlbF9zaGFyZWRfZHBs
bF9pbml0KHN0cnVjdCBkcm1fZGV2aWNlICpkZXYpCj4gPiAgfQo+ID4gIAo+ID4gIC8qKgo+ID4g
LSAqIGludGVsX2dldF9zaGFyZWRfZHBsbCAtIGdldCBhIHNoYXJlZCBEUExMIGZvciBDUlRDIGFu
ZCBlbmNvZGVyIGNvbWJpbmF0aW9uCj4gPiAtICogQGNydGNfc3RhdGU6IGF0b21pYyBzdGF0ZSBm
b3IgdGhlIGNydGMKPiA+ICsgKiBpbnRlbF9yZXNlcnZlX3NoYXJlZF9kcGxscyAtIHJlc2VydmUg
RFBMTHMgZm9yIENSVEMgYW5kIGVuY29kZXIgY29tYmluYXRpb24KPiA+ICsgKiBAc3RhdGU6IGF0
b21pYyBzdGF0ZQo+ID4gKyAqIEBjcnRjOiBDUlRDIHRvIHJlc2VydmUgRFBMTHMgZm9yCj4gPiAg
ICogQGVuY29kZXI6IGVuY29kZXIKPiA+ICAgKgo+ID4gLSAqIEZpbmQgYW4gYXBwcm9wcmlhdGUg
RFBMTCBmb3IgdGhlIGdpdmVuIENSVEMgYW5kIGVuY29kZXIgY29tYmluYXRpb24uIEEKPiA+IC0g
KiByZWZlcmVuY2UgZnJvbSB0aGUgQGNydGNfc3RhdGUgdG8gdGhlIHJldHVybmVkIHBsbCBpcyBy
ZWdpc3RlcmVkIGluIHRoZQo+ID4gLSAqIGF0b21pYyBzdGF0ZS4gVGhhdCBjb25maWd1cmF0aW9u
IGlzIG1hZGUgZWZmZWN0aXZlIGJ5IGNhbGxpbmcKPiA+IC0gKiBpbnRlbF9zaGFyZWRfZHBsbF9z
d2FwX3N0YXRlKCkuIFRoZSByZWZlcmVuY2Ugc2hvdWxkIGJlIHJlbGVhc2VkIGJ5IGNhbGxpbmcK
PiA+IC0gKiBpbnRlbF9yZWxlYXNlX3NoYXJlZF9kcGxsKCkuCj4gPiArICogVGhpcyBmdW5jdGlv
biByZXNlcnZlcyBhbGwgcmVxdWlyZWQgRFBMTHMgZm9yIHRoZSBnaXZlbiBDUlRDIGFuZCBlbmNv
ZGVyCj4gPiArICogY29tYmluYXRpb24gaW4gdGhlIGN1cnJlbnQgYXRvbWljIGNvbW1pdCBAc3Rh
dGUgYW5kIHRoZSBuZXcgQGNydGMgYXRvbWljCj4gPiArICogc3RhdGUuCj4gPiArICoKPiA+ICsg
KiBUaGUgbmV3IGNvbmZpZ3VyYXRpb24gaW4gdGhlIGF0b21pYyBjb21taXQgQHN0YXRlIGlzIG1h
ZGUgZWZmZWN0aXZlIGJ5Cj4gPiArICogY2FsbGluZyBpbnRlbF9zaGFyZWRfZHBsbF9zd2FwX3N0
YXRlKCkuCj4gPiArICoKPiA+ICsgKiBUaGUgcmVzZXJ2ZWQgRFBMTHMgc2hvdWxkIGJlIHJlbGVh
c2VkIGJ5IGNhbGxpbmcKPiA+ICsgKiBpbnRlbF9yZWxlYXNlX3NoYXJlZF9kcGxscygpLgo+ID4g
ICAqCj4gPiAgICogUmV0dXJuczoKPiA+IC0gKiBBIHNoYXJlZCBEUExMIHRvIGJlIHVzZWQgYnkg
QGNydGNfc3RhdGUgYW5kIEBlbmNvZGVyLgo+ID4gKyAqIFRydWUgaWYgYWxsIHJlcXVpcmVkIERQ
TExzIHdlcmUgc3VjY2Vzc2Z1bGx5IHJlc2VydmVkLgo+ID4gICAqLwo+ID4gLXN0cnVjdCBpbnRl
bF9zaGFyZWRfZHBsbCAqCj4gPiAtaW50ZWxfZ2V0X3NoYXJlZF9kcGxsKHN0cnVjdCBpbnRlbF9j
cnRjX3N0YXRlICpjcnRjX3N0YXRlLAo+ID4gLQkJICAgICAgc3RydWN0IGludGVsX2VuY29kZXIg
KmVuY29kZXIpCj4gPiArYm9vbCBpbnRlbF9yZXNlcnZlX3NoYXJlZF9kcGxscyhzdHJ1Y3QgaW50
ZWxfYXRvbWljX3N0YXRlICpzdGF0ZSwKPiA+ICsJCQkJc3RydWN0IGludGVsX2NydGMgKmNydGMs
Cj4gPiArCQkJCXN0cnVjdCBpbnRlbF9lbmNvZGVyICplbmNvZGVyKQo+ID4gIHsKPiA+IC0Jc3Ry
dWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2ID0gdG9faTkxNShjcnRjX3N0YXRlLT5iYXNl
LmNydGMtPmRldik7Cj4gPiArCXN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiA9IHRv
X2k5MTUoc3RhdGUtPmJhc2UuZGV2KTsKPiA+ICAJY29uc3Qgc3RydWN0IGludGVsX2RwbGxfbWdy
ICpkcGxsX21nciA9IGRldl9wcml2LT5kcGxsX21ncjsKPiA+ICAKPiA+ICAJaWYgKFdBUk5fT04o
IWRwbGxfbWdyKSkKPiA+IC0JCXJldHVybiBOVUxMOwo+ID4gKwkJcmV0dXJuIGZhbHNlOwo+ID4g
IAo+ID4gLQlyZXR1cm4gZHBsbF9tZ3ItPmdldF9kcGxsKGNydGNfc3RhdGUsIGVuY29kZXIpOwo+
ID4gKwlyZXR1cm4gZHBsbF9tZ3ItPmdldF9kcGxscyhzdGF0ZSwgY3J0YywgZW5jb2Rlcik7Cj4g
PiAgfQo+ID4gIAo+ID4gIC8qKgo+ID4gLSAqIGludGVsX3JlbGVhc2Vfc2hhcmVkX2RwbGwgLSBl
bmQgdXNlIG9mIERQTEwgYnkgQ1JUQyBpbiBhdG9taWMgc3RhdGUKPiA+IC0gKiBAZHBsbDogZHBs
bCBpbiB1c2UgYnkgQGNydGMKPiA+IC0gKiBAY3J0YzogY3J0Ywo+ID4gKyAqIGludGVsX3JlbGVh
c2Vfc2hhcmVkX2RwbGxzIC0gZW5kIHVzZSBvZiBEUExMcyBieSBDUlRDIGluIGF0b21pYyBzdGF0
ZQo+ID4gICAqIEBzdGF0ZTogYXRvbWljIHN0YXRlCj4gPiArICogQGNydGM6IGNydGMgZnJvbSB3
aGljaCB0aGUgRFBMTHMgYXJlIHRvIGJlIHJlbGVhc2VkCj4gPiAgICoKPiA+IC0gKiBUaGlzIGZ1
bmN0aW9uIHJlbGVhc2VzIHRoZSByZWZlcmVuY2UgZnJvbSBAY3J0YyB0byBAZHBsbCBmcm9tIHRo
ZQo+ID4gLSAqIGF0b21pYyBAc3RhdGUuIFRoZSBuZXcgY29uZmlndXJhdGlvbiBpcyBtYWRlIGVm
ZmVjdGl2ZSBieSBjYWxsaW5nCj4gPiAtICogaW50ZWxfc2hhcmVkX2RwbGxfc3dhcF9zdGF0ZSgp
Lgo+ID4gKyAqIFRoaXMgZnVuY3Rpb24gcmVsZWFzZXMgYWxsIERQTExzIHJlc2VydmVkIGJ5IGlu
dGVsX3Jlc2VydmVfc2hhcmVkX2RwbGxzKCkKPiA+ICsgKiBmcm9tIHRoZSBjdXJyZW50IGF0b21p
YyBjb21taXQgQHN0YXRlIGFuZCB0aGUgb2xkIEBjcnRjIGF0b21pYyBzdGF0ZS4KPiA+ICsgKgo+
ID4gKyAqIFRoZSBuZXcgY29uZmlndXJhdGlvbiBpbiB0aGUgYXRvbWljIGNvbW1pdCBAc3RhdGUg
aXMgbWFkZSBlZmZlY3RpdmUgYnkKPiA+ICsgKiBjYWxsaW5nIGludGVsX3NoYXJlZF9kcGxsX3N3
YXBfc3RhdGUoKS4KPiA+ICAgKi8KPiA+IC12b2lkIGludGVsX3JlbGVhc2Vfc2hhcmVkX2RwbGwo
c3RydWN0IGludGVsX3NoYXJlZF9kcGxsICpkcGxsLAo+ID4gLQkJCSAgICAgICBzdHJ1Y3QgaW50
ZWxfY3J0YyAqY3J0YywKPiA+IC0JCQkgICAgICAgc3RydWN0IGRybV9hdG9taWNfc3RhdGUgKnN0
YXRlKQo+ID4gK3ZvaWQgaW50ZWxfcmVsZWFzZV9zaGFyZWRfZHBsbHMoc3RydWN0IGludGVsX2F0
b21pY19zdGF0ZSAqc3RhdGUsCj4gPiArCQkJCXN0cnVjdCBpbnRlbF9jcnRjICpjcnRjKQo+ID4g
IHsKPiA+IC0Jc3RydWN0IGludGVsX3NoYXJlZF9kcGxsX3N0YXRlICpzaGFyZWRfZHBsbF9zdGF0
ZTsKPiA+ICsJc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2ID0gdG9faTkxNShzdGF0
ZS0+YmFzZS5kZXYpOwo+ID4gKwljb25zdCBzdHJ1Y3QgaW50ZWxfZHBsbF9tZ3IgKmRwbGxfbWdy
ID0gZGV2X3ByaXYtPmRwbGxfbWdyOwo+ID4gKwo+ID4gKwkvKgo+ID4gKwkgKiBGSVhNRTogdGhp
cyBmdW5jdGlvbiBpcyBjYWxsZWQgZm9yIGV2ZXJ5IHBsYXRmb3JtIGhhdmluZyBhCj4gPiArCSAq
IGNvbXB1dGVfY2xvY2sgaG9vaywgZXZlbiB0aG91Z2ggdGhlIHBsYXRmb3JtIGRvZXNuJ3QgeWV0
IHN1cHBvcnQKPiA+ICsJICogdGhlIHNoYXJlZCBEUExMIGZyYW1ld29yayBhbmQgaW50ZWxfcmVz
ZXJ2ZV9zaGFyZWRfZHBsbHMoKSBpcyBub3QKPiA+ICsJICogY2FsbGVkIG9uIHRob3NlLgo+ID4g
KwkgKi8KPiA+ICsJaWYgKCFkcGxsX21ncikKPiA+ICsJCXJldHVybjsKPiA+ICAKPiA+IC0Jc2hh
cmVkX2RwbGxfc3RhdGUgPSBpbnRlbF9hdG9taWNfZ2V0X3NoYXJlZF9kcGxsX3N0YXRlKHN0YXRl
KTsKPiA+IC0Jc2hhcmVkX2RwbGxfc3RhdGVbZHBsbC0+aW5mby0+aWRdLmNydGNfbWFzayAmPSB+
KDEgPDwgY3J0Yy0+cGlwZSk7Cj4gPiArCWRwbGxfbWdyLT5wdXRfZHBsbHMoc3RhdGUsIGNydGMp
Owo+ID4gIH0KPiA+ICAKPiA+ICAvKioKPiA+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0v
aTkxNS9kaXNwbGF5L2ludGVsX2RwbGxfbWdyLmggYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNw
bGF5L2ludGVsX2RwbGxfbWdyLmgKPiA+IGluZGV4IGQwNTcwNDE0ZjNkMS4uMTZkZGFiMTM4NTc0
IDEwMDY0NAo+ID4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kcGxs
X21nci5oCj4gPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2RwbGxf
bWdyLmgKPiA+IEBAIC0zOSw2ICszOSw3IEBACj4gPiAgc3RydWN0IGRybV9hdG9taWNfc3RhdGU7
Cj4gPiAgc3RydWN0IGRybV9kZXZpY2U7Cj4gPiAgc3RydWN0IGRybV9pOTE1X3ByaXZhdGU7Cj4g
PiArc3RydWN0IGludGVsX2F0b21pY19zdGF0ZTsKPiA+ICBzdHJ1Y3QgaW50ZWxfY3J0YzsKPiA+
ICBzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZTsKPiA+ICBzdHJ1Y3QgaW50ZWxfZW5jb2RlcjsKPiA+
IEBAIC0xOTUsNyArMTk2LDcgQEAgc3RydWN0IGludGVsX2RwbGxfaHdfc3RhdGUgewo+ID4gICAq
IGZ1dHVyZSBzdGF0ZSB3aGljaCB3b3VsZCBiZSBhcHBsaWVkIGJ5IGFuIGF0b21pYyBtb2RlIHNl
dCAoc3RvcmVkIGluCj4gPiAgICogYSBzdHJ1Y3QgJmludGVsX2F0b21pY19zdGF0ZSkuCj4gPiAg
ICoKPiA+IC0gKiBTZWUgYWxzbyBpbnRlbF9nZXRfc2hhcmVkX2RwbGwoKSBhbmQgaW50ZWxfcmVs
ZWFzZV9zaGFyZWRfZHBsbCgpLgo+ID4gKyAqIFNlZSBhbHNvIGludGVsX3Jlc2VydmVfc2hhcmVk
X2RwbGxzKCkgYW5kIGludGVsX3JlbGVhc2Vfc2hhcmVkX2RwbGxzKCkuCj4gPiAgICovCj4gPiAg
c3RydWN0IGludGVsX3NoYXJlZF9kcGxsX3N0YXRlIHsKPiA+ICAJLyoqCj4gPiBAQCAtMzMxLDEx
ICszMzIsMTEgQEAgdm9pZCBhc3NlcnRfc2hhcmVkX2RwbGwoc3RydWN0IGRybV9pOTE1X3ByaXZh
dGUgKmRldl9wcml2LAo+ID4gIAkJCWJvb2wgc3RhdGUpOwo+ID4gICNkZWZpbmUgYXNzZXJ0X3No
YXJlZF9kcGxsX2VuYWJsZWQoZCwgcCkgYXNzZXJ0X3NoYXJlZF9kcGxsKGQsIHAsIHRydWUpCj4g
PiAgI2RlZmluZSBhc3NlcnRfc2hhcmVkX2RwbGxfZGlzYWJsZWQoZCwgcCkgYXNzZXJ0X3NoYXJl
ZF9kcGxsKGQsIHAsIGZhbHNlKQo+ID4gLXN0cnVjdCBpbnRlbF9zaGFyZWRfZHBsbCAqaW50ZWxf
Z2V0X3NoYXJlZF9kcGxsKHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpzdGF0ZSwKPiA+IC0JCQkJ
CQlzdHJ1Y3QgaW50ZWxfZW5jb2RlciAqZW5jb2Rlcik7Cj4gPiAtdm9pZCBpbnRlbF9yZWxlYXNl
X3NoYXJlZF9kcGxsKHN0cnVjdCBpbnRlbF9zaGFyZWRfZHBsbCAqZHBsbCwKPiA+IC0JCQkgICAg
ICAgc3RydWN0IGludGVsX2NydGMgKmNydGMsCj4gPiAtCQkJICAgICAgIHN0cnVjdCBkcm1fYXRv
bWljX3N0YXRlICpzdGF0ZSk7Cj4gPiArYm9vbCBpbnRlbF9yZXNlcnZlX3NoYXJlZF9kcGxscyhz
dHJ1Y3QgaW50ZWxfYXRvbWljX3N0YXRlICpzdGF0ZSwKPiA+ICsJCQkJc3RydWN0IGludGVsX2Ny
dGMgKmNydGMsCj4gPiArCQkJCXN0cnVjdCBpbnRlbF9lbmNvZGVyICplbmNvZGVyKTsKPiA+ICt2
b2lkIGludGVsX3JlbGVhc2Vfc2hhcmVkX2RwbGxzKHN0cnVjdCBpbnRlbF9hdG9taWNfc3RhdGUg
KnN0YXRlLAo+ID4gKwkJCQlzdHJ1Y3QgaW50ZWxfY3J0YyAqY3J0Yyk7Cj4gPiAgdm9pZCBpbnRl
bF9wcmVwYXJlX3NoYXJlZF9kcGxsKGNvbnN0IHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpjcnRj
X3N0YXRlKTsKPiA+ICB2b2lkIGludGVsX2VuYWJsZV9zaGFyZWRfZHBsbChjb25zdCBzdHJ1Y3Qg
aW50ZWxfY3J0Y19zdGF0ZSAqY3J0Y19zdGF0ZSk7Cj4gPiAgdm9pZCBpbnRlbF9kaXNhYmxlX3No
YXJlZF9kcGxsKGNvbnN0IHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpjcnRjX3N0YXRlKTsKPiA+
IC0tIAo+ID4gMi4xNy4xCj4gCj4gLS0gCj4gVmlsbGUgU3lyasOkbMOkCj4gSW50ZWwKX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KSW50ZWwtZ2Z4IG1haWxp
bmcgbGlzdApJbnRlbC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJl
ZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vaW50ZWwtZ2Z4

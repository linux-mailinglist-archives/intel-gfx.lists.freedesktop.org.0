Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id C7B9610299A
	for <lists+intel-gfx@lfdr.de>; Tue, 19 Nov 2019 17:42:36 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 1958B6E9B8;
	Tue, 19 Nov 2019 16:42:35 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from fireflyinternet.com (mail.fireflyinternet.com [109.228.58.192])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 300AD6E9A2
 for <intel-gfx@lists.freedesktop.org>; Tue, 19 Nov 2019 16:42:33 +0000 (UTC)
X-Default-Received-SPF: pass (skip=forwardok (res=PASS))
 x-ip-name=78.156.65.138; 
Received: from localhost (unverified [78.156.65.138]) 
 by fireflyinternet.com (Firefly Internet (M1)) with ESMTP (TLS) id
 19260728-1500050 for multiple; Tue, 19 Nov 2019 16:42:30 +0000
MIME-Version: 1.0
From: Chris Wilson <chris@chris-wilson.co.uk>
User-Agent: alot/0.6
To: Tvrtko Ursulin <tvrtko.ursulin@linux.intel.com>,
 intel-gfx@lists.freedesktop.org
References: <20191118230254.2615942-1-chris@chris-wilson.co.uk>
 <20191118230254.2615942-7-chris@chris-wilson.co.uk>
 <6c06a4a7-7719-c83b-0fa0-ddc47b4d91c9@linux.intel.com>
 <157418045491.12093.7455490803476182400@skylake-alporthouse-com>
 <f8d09a9a-b45a-7960-d584-3315ca0c80f3@linux.intel.com>
In-Reply-To: <f8d09a9a-b45a-7960-d584-3315ca0c80f3@linux.intel.com>
Message-ID: <157418174819.12093.10574958764232498040@skylake-alporthouse-com>
Date: Tue, 19 Nov 2019 16:42:28 +0000
Subject: Re: [Intel-gfx] [PATCH 06/19] drm/i915/gt: Schedule request
 retirement when submission idles
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

UXVvdGluZyBUdnJ0a28gVXJzdWxpbiAoMjAxOS0xMS0xOSAxNjozMzoxOCkKPiAKPiBPbiAxOS8x
MS8yMDE5IDE2OjIwLCBDaHJpcyBXaWxzb24gd3JvdGU6Cj4gPiBRdW90aW5nIFR2cnRrbyBVcnN1
bGluICgyMDE5LTExLTE5IDE1OjA0OjQ2KQo+ID4+Cj4gPj4gT24gMTgvMTEvMjAxOSAyMzowMiwg
Q2hyaXMgV2lsc29uIHdyb3RlOgo+ID4+PiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5
MTUvZ3QvaW50ZWxfbHJjLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9scmMuYwo+
ID4+PiBpbmRleCAzM2NlMjU4ZDQ4NGYuLmY3YzhmZWM0MzZhOSAxMDA2NDQKPiA+Pj4gLS0tIGEv
ZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfbHJjLmMKPiA+Pj4gKysrIGIvZHJpdmVycy9n
cHUvZHJtL2k5MTUvZ3QvaW50ZWxfbHJjLmMKPiA+Pj4gQEAgLTE0Miw2ICsxNDIsNyBAQAo+ID4+
PiAgICAjaW5jbHVkZSAiaW50ZWxfZW5naW5lX3BtLmgiCj4gPj4+ICAgICNpbmNsdWRlICJpbnRl
bF9ndC5oIgo+ID4+PiAgICAjaW5jbHVkZSAiaW50ZWxfZ3RfcG0uaCIKPiA+Pj4gKyNpbmNsdWRl
ICJpbnRlbF9ndF9yZXF1ZXN0cy5oIgo+ID4+PiAgICAjaW5jbHVkZSAiaW50ZWxfbHJjX3JlZy5o
Igo+ID4+PiAgICAjaW5jbHVkZSAiaW50ZWxfbW9jcy5oIgo+ID4+PiAgICAjaW5jbHVkZSAiaW50
ZWxfcmVzZXQuaCIKPiA+Pj4gQEAgLTIyNzgsNiArMjI3OSwxOCBAQCBzdGF0aWMgdm9pZCBleGVj
bGlzdHNfc3VibWlzc2lvbl90YXNrbGV0KHVuc2lnbmVkIGxvbmcgZGF0YSkKPiA+Pj4gICAgICAg
ICAgICAgICAgaWYgKHRpbWVvdXQgJiYgcHJlZW1wdF90aW1lb3V0KGVuZ2luZSkpCj4gPj4+ICAg
ICAgICAgICAgICAgICAgICAgICAgcHJlZW1wdF9yZXNldChlbmdpbmUpOwo+ID4+PiAgICAgICAg
fQo+ID4+PiArCj4gPj4+ICsgICAgIC8qCj4gPj4+ICsgICAgICAqIElmIHRoZSBHUFUgaXMgY3Vy
cmVudGx5IGlkbGUsIHJldGlyZSB0aGUgb3V0c3RhbmRpbmcgY29tcGxldGVkCj4gPj4+ICsgICAg
ICAqIHJlcXVlc3RzLiBUaGlzIHdpbGwgYWxsb3cgdXMgdG8gZW50ZXIgc29mdC1yYzYgYXMgc29v
biBhcyBwb3NzaWJsZSwKPiA+Pj4gKyAgICAgICogYWxiZWl0IGF0IHRoZSBjb3N0IG9mIHJ1bm5p
bmcgdGhlIHJldGlyZSB3b3JrZXIgbXVjaCBtb3JlIGZyZXF1ZW50bHkKPiA+Pj4gKyAgICAgICog
KG92ZXIgdGhlIGVudGlyZSBHVCBub3QganVzdCB0aGlzIGVuZ2luZSkgYW5kIGVtaXR0aW5nIG1v
cmUgaWRsZQo+ID4+PiArICAgICAgKiBiYXJyaWVycyAoaS5lLiBrZXJuZWwgY29udGV4dCBzd2l0
Y2hlcyB1bnBpbm5pbmcgYWxsIHRoYXQgd2VudAo+ID4+PiArICAgICAgKiBiZWZvcmUpIHdoaWNo
IG1heSBhZGQgc29tZSBleHRyYSBsYXRlbmN5Lgo+ID4+PiArICAgICAgKi8KPiA+Pj4gKyAgICAg
aWYgKGludGVsX2VuZ2luZV9wbV9pc19hd2FrZShlbmdpbmUpICYmCj4gPj4+ICsgICAgICAgICAh
ZXhlY2xpc3RzX2FjdGl2ZSgmZW5naW5lLT5leGVjbGlzdHMpKQo+ID4+PiArICAgICAgICAgICAg
IGludGVsX2d0X3NjaGVkdWxlX3JldGlyZV9yZXF1ZXN0cyhlbmdpbmUtPmd0KTsKPiA+Pgo+ID4+
IEkgYW0gc3RpbGwgbm90IGEgZmFuIG9mIGRvaW5nIHRoaXMgZm9yIGFsbCBwbGF0Zm9ybXMuCj4g
PiAKPiA+IEkgdW5kZXJzdGFuZC4gSSB0aGluayBpdCBtYWtlcyBhIGZhaXIgYW1vdW50IG9mIHNl
bnNlIHRvIGRvIGVhcmx5Cj4gPiByZXRpcmVzLCBhbmQgd2lzaCB0byBwdXJzdWUgdGhhdCBpZiBJ
IGNhbiBzaG93IHRoZXJlIGlzIG5vIGhhcm0uCj4gCj4gSXQncyBhbHNvIGEgYml0IG9mIGEgbGF5
ZXJpbmcgcHJvYmxlbS4KClRoZW0ncyBmaWdodGluZyB3b3JkcyEgOikKIAo+ID4+IEl0cyBub3Qg
anVzdCB0aGUgY29zdCBvZiByZXRpcmVtZW50IGJ1dCB0aGVyZSBpcwo+ID4+IGludGVsX2VuZ2lu
ZV9mbHVzaF9zdWJtaXNzaW9uIG9uIGFsbCBlbmdpbmVzIGluIHRoZXJlIGFzIHdlbGwgd2hpY2gg
d2UKPiA+PiBjYW5ub3QgYXZvaWQgdHJpZ2dlcmluZyBmcm9tIHRoaXMgcGF0aC4KPiA+Pgo+ID4+
IFdvdWxkIGl0IGJlIHdvcnRoIGV4cGVyaW1lbnRpbmcgd2l0aCBhZGRpdGlvbmFsIHBlci1lbmdp
bmUgcmV0aXJlCj4gPj4gd29ya2Vycz8gTW9zdCBvZiB0aGUgY29kZSBjb3VsZCBiZSBzaGFyZWQs
IGp1c3QgYSBsaXR0bGUgYml0IG9mCj4gPj4gc3BlY2lhbGl6YXRpb24gdG8gZmlsdGVyIG9uIGVu
Z2luZS4KPiA+IAo+ID4gSSBoYXZlbid0IHNrZXRjaGVkIG91dCBhbnl0aGluZyBtb3JlIHRoYW4g
cGVla2luZyBhdCB0aGUgbGFzdCByZXF1ZXN0IG9uCj4gPiB0aGUgdGltZWxpbmUgYW5kIGRvaW5n
IGEgcnEtPmVuZ2luZSA9PSBlbmdpbmUgZmlsdGVyLiBXYWxraW5nIHRoZSBnbG9iYWwKPiA+IHRp
bWVsaW5lLmFjdGl2ZV9saXN0IGluIHRoYXQgY2FzZSBpcyBhbHNvIGEgbnVpc2FuY2UuCj4gCj4g
VGhhdCB0b2dldGhlciB3aXRoOgo+IAo+ICAgICAgICAgZmx1c2hfc3VibWlzc2lvbihndCwgZW5n
aW5lID8gZW5naW5lLT5tYXNrIDogQUxMX0VOR0lORVMpOwo+IAo+IE1pZ2h0IGJlIGVub3VnaD8g
QXQgbGVhc3QgdG8gc2F0aXNmeSBteSBjb25jZXJuLgoKQXllLCBmbHVzaGluZyBhbGwgb3RoZXIg
d2hlbiB3ZSBrbm93IHdlIG9ubHkgY2FyZSBhYm91dCBiZWluZyBpZGxlIGlzCmRlZmluaXRlbHkg
YSB3ZWFrIHBvaW50IG9mIHRoZSBjdXJyZW50IHNjaGVtZS4KCj4gQXBhcnQgbGF5ZXJpbmcgaXMg
c3RpbGwgYmFkLi4gQW5kIEknZCBzdGlsbCBsaW1pdCBpdCB0byB3aGVuIFJDNiBXQSBpcyAKPiBh
Y3RpdmUgdW5sZXNzIGl0IGNhbiBiZSBzaG93biB0aGVyZSBpcyBubyBwZXJmL3Bvd2VyIGltcGFj
dCBhY3Jvc3MgCj4gR1BVL0NQVSB0byBkbyB0aGlzIGV2ZXJ5d2hlcmUuCgpCYWgsIGtlZXAgdHVu
aW5nIHVudGlsIGl0J3MgYSB3aW4gZm9yIGV2ZXJ5b25lIQogCj4gQXQgd2hpY2ggcG9pbnQgaXQg
YmVjb21lcyBlYXNpZXIgdG8ganVzdCBsaW1pdCBpdCBiZWNhdXNlIHdlIGhhdmUgdG8gCj4gaGF2
ZSBpdCB0aGVyZS4KPiAKPiBJIGFsc28gd29uZGVyIGlmIHRoZSBjdXJyZW50IGZsdXNoX3N1Ym1p
c3Npb24gd2Fzbid0IHRoZSByZWFzb24gZm9yIAo+IHBlcmZvcm1hbmNlIHJlZ3Jlc3Npb24geW91
IHdlcmUgc2VlaW5nIHdpdGggdGhpcz8gSXQgbWFrZXMgdGhpcyB0YXNrbGV0IAo+IHdhaXQgZm9y
IGFsbCBvdGhlciBlbmdpbmVzLCBpZiB0aGV5IGFyZSBidXN5LiBCdXQgbm90IHN1cmUuLiBwZXJo
YXBzIGl0IAo+IGlzIHdvcmsgd2hpY2ggd291bGQgYmUgZG9uZSBhbnl3YXkuCgpJIGhhdmVuJ3Qg
ZmluaXNoZWQgeWV0OyBidXQgdGhlIGJhc2VsaW5lIHRvb2sgYSBiaWcgbm9zZSBkaXZlIHNvIGl0
Cm1pZ2h0IGJlIGVub3VnaCB0byBoaWRlIGEgbG90IG9mIGV2aWwuCgpUb28gYmFkIEkgZG9uJ3Qg
aGF2ZSBhbiBJY2VsYWtlIHdpdGggdG8gY3Jvc3MgY2hlY2sgd2l0aCBhbiB1bmFmZmVjdGVkCnBs
YXRmb3JtLgoKPiA+IFRoZXJlJ3MgZGVmaW5pdGVseSBzY29wZSBoZXJlIGZvciB1cyB1c2luZyBz
b21lIG1vcmUgaW5mb3JtYXRpb24gZnJvbQo+ID4gcHJvY2Vzc19jc2IoKSBhYm91dCB3aGljaCBj
b250ZXh0IGNvbXBsZXRlZCBhbmQgbGltaXQgd29yayB0byB0aGF0Cj4gPiB0aW1lbGluZS4gSG1t
LCBzb21ldGhpbmcgYWxvbmcgdGhvc2UgbGluZXMgbWF5YmUuLi4KPiAKPiBCdXQgeW91IHdhbnQg
dG8gcmV0aXJlIGFsbCB0aW1lbGluZXMgd2hpY2ggaGF2ZSB3b3JrIG9uIHRoaXMgcGFydGljdWxh
ciAKPiBwaHlzaWNhbCBlbmdpbmUuIE90aGVyd2lzZSBpdCBkb2Vzbid0IGdldCBwYXJrZWQsIG5v
PwoKVGhlcmUgSSB3YXMgc3VnZ2VzdGluZyBiZWluZyBldmVuIG1vcmUgcHJvYWN0aXZlLCBhbmQg
c2F5IGtlZXBpbmcgYW4KbGxpc3Qgb2YgY29tcGxldGVkIHRpbWVsaW5lcy4gTm90aGluZyBjb25j
cmV0ZSB5ZXQsIHBsZW50eSBvZiBleGlzdGluZwpyYWNlcyBmb3VuZCBhbHJlYWR5IHRoYXQgbmVl
ZCBmaXhpbmcuCi1DaHJpcwpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fXwpJbnRlbC1nZnggbWFpbGluZyBsaXN0CkludGVsLWdmeEBsaXN0cy5mcmVlZGVza3Rv
cC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9pbnRl
bC1nZng=

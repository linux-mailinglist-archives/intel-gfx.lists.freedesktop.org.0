Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 08A281143DE
	for <lists+intel-gfx@lfdr.de>; Thu,  5 Dec 2019 16:43:55 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 602536E14A;
	Thu,  5 Dec 2019 15:43:53 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga04.intel.com (mga04.intel.com [192.55.52.120])
 by gabe.freedesktop.org (Postfix) with ESMTPS id BDF606E14A
 for <intel-gfx@lists.freedesktop.org>; Thu,  5 Dec 2019 15:43:52 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga007.jf.intel.com ([10.7.209.58])
 by fmsmga104.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 05 Dec 2019 07:43:52 -0800
X-IronPort-AV: E=Sophos;i="5.69,281,1571727600"; d="scan'208";a="201806068"
Received: from jnikula-mobl3.fi.intel.com (HELO localhost) ([10.237.66.161])
 by orsmga007-auth.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 05 Dec 2019 07:43:49 -0800
From: Jani Nikula <jani.nikula@intel.com>
To: intel-gfx@lists.freedesktop.org
Date: Thu,  5 Dec 2019 17:43:40 +0200
Message-Id: <600101c8433e7caf9303663fc85a9972fa1f05e7.1575560168.git.jani.nikula@intel.com>
X-Mailer: git-send-email 2.20.1
In-Reply-To: <cover.1575560168.git.jani.nikula@intel.com>
References: <cover.1575560168.git.jani.nikula@intel.com>
MIME-Version: 1.0
Organization: Intel Finland Oy - BIC 0357606-4 - Westendinkatu 7, 02160 Espoo
Subject: [Intel-gfx] [PATCH 1/2] drm/i915/params: add i915 parameters to
 debugfs
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: jani.nikula@intel.com
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

QWRkIGEgZGVidWdmcyBzdWJkaXJlY3RvcnkgaTkxNV9wYXJhbXMgd2l0aCBhbGwgdGhlIGk5MTUg
bW9kdWxlCnBhcmFtZXRlcnMuIFRoaXMgaXMgYSBmaXJzdCBzdGVwLCB3aXRoIGxvdHMgb2YgYm9p
bGVycGxhdGUsIGFuZCBub3QgbXVjaApiZW5lZml0IHlldC4KClRoaXMgd2lsbCByZXN1bHQgaW4g
YSBuZXcgZGV2aWNlIHNwZWNpZmljIGRlYnVnZnMgZGlyZWN0b3J5IGF0Ci9zeXMva2VybmVsL2Rl
YnVnL2RyaS88Tj4vaTkxNV9wYXJhbXMgZHVwbGljYXRpbmcgdGhlIG1vZHVsZSBzcGVjaWZpYwpz
eXNmcyBkaXJlY3RvcnkgYXQgL3N5cy9tb2R1bGUvaTkxNS9wYXJhbWV0ZXJzLy4gR29pbmcgZm9y
d2FyZCwgYWxsCnVzZXJzIG9mIHRoZSBwYXJhbWV0ZXJzIHNob3VsZCB1c2UgdGhlIGRlYnVnZnMs
IHdpdGggdGhlIG1vZHVsZQpwYXJhbWV0ZXJzIGJlaW5nIHBoYXNlZCBvdXQuCgpBZGQgZGVidWdm
cyBwZXJtaXNzaW9ucyB0byBJOTE1X1BBUkFNU19GT1JfRUFDSCgpLiBUaGlzIGR1cGxpY2F0ZXMg
dGhlCm1vZGUgd2l0aCBtb2R1bGUgcGFyYW1ldGVyIHN5c2ZzLCBidXQgdGhlIGdvYWwgaXMgdG8g
bWFrZSB0aGUgbW9kdWxlCnBhcmFtZXRlcnMgcmVhZC1vbmx5IGluaXRpYWwgdmFsdWVzIGZvciBk
ZXZpY2Ugc3BlY2lmaWMgcGFyYW1ldGVycy4KCjAgbW9kZSB3aWxsIGJ5cGFzcyBkZWJ1Z2ZzIGNy
ZWF0aW9uLiBVc2UgaXQgZm9yIHZlcmJvc2Vfc3RhdGVfY2hlY2tzCndoaWNoIHdpbGwgbmVlZCBz
cGVjaWFsIGF0dGVudGlvbiBpbiBmb2xsb3ctdXAgd29yay4KClNpZ25lZC1vZmYtYnk6IEphbmkg
TmlrdWxhIDxqYW5pLm5pa3VsYUBpbnRlbC5jb20+Ci0tLQogZHJpdmVycy9ncHUvZHJtL2k5MTUv
TWFrZWZpbGUgICAgICAgICAgICAgIHwgICA1ICstCiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1
X2RlYnVnZnMuYyAgICAgICAgfCAgIDQgKy0KIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZGVi
dWdmc19wYXJhbXMuYyB8IDIzMyArKysrKysrKysrKysrKysrKysrKysKIGRyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2k5MTVfZGVidWdmc19wYXJhbXMuaCB8ICAxNCArKwogZHJpdmVycy9ncHUvZHJtL2k5
MTUvaTkxNV9wYXJhbXMuYyAgICAgICAgIHwgICAyICstCiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9p
OTE1X3BhcmFtcy5oICAgICAgICAgfCAgNzYgKysrLS0tLQogNiBmaWxlcyBjaGFuZ2VkLCAyOTQg
aW5zZXJ0aW9ucygrKSwgNDAgZGVsZXRpb25zKC0pCiBjcmVhdGUgbW9kZSAxMDA2NDQgZHJpdmVy
cy9ncHUvZHJtL2k5MTUvaTkxNV9kZWJ1Z2ZzX3BhcmFtcy5jCiBjcmVhdGUgbW9kZSAxMDA2NDQg
ZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kZWJ1Z2ZzX3BhcmFtcy5oCgpkaWZmIC0tZ2l0IGEv
ZHJpdmVycy9ncHUvZHJtL2k5MTUvTWFrZWZpbGUgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9NYWtl
ZmlsZQppbmRleCBlMGZkMTBjMGNmYjguLmRiNGJmNmFlOTEyNyAxMDA2NDQKLS0tIGEvZHJpdmVy
cy9ncHUvZHJtL2k5MTUvTWFrZWZpbGUKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvTWFrZWZp
bGUKQEAgLTY5LDcgKzY5LDEwIEBAIGk5MTUteSArPSBcCiAJaTkxNV91c2VyX2V4dGVuc2lvbnMu
bwogCiBpOTE1LSQoQ09ORklHX0NPTVBBVCkgICArPSBpOTE1X2lvYzMyLm8KLWk5MTUtJChDT05G
SUdfREVCVUdfRlMpICs9IGk5MTVfZGVidWdmcy5vIGRpc3BsYXkvaW50ZWxfcGlwZV9jcmMubwor
aTkxNS0kKENPTkZJR19ERUJVR19GUykgKz0gXAorCWk5MTVfZGVidWdmcy5vIFwKKwlpOTE1X2Rl
YnVnZnNfcGFyYW1zLm8gXAorCWRpc3BsYXkvaW50ZWxfcGlwZV9jcmMubwogaTkxNS0kKENPTkZJ
R19QRVJGX0VWRU5UUykgKz0gaTkxNV9wbXUubwogCiAjICJHcmFwaGljcyBUZWNobm9sb2d5IiAo
YWthIHdlIHRhbGsgdG8gdGhlIGdwdSkKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1
L2k5MTVfZGVidWdmcy5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kZWJ1Z2ZzLmMKaW5k
ZXggZWI4MGEyYzRiNTViLi5iNTBhZjJmNzg2NWYgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2k5MTVfZGVidWdmcy5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZGVi
dWdmcy5jCkBAIC00OCw2ICs0OCw3IEBACiAjaW5jbHVkZSAiZ3QvdWMvaW50ZWxfZ3VjX3N1Ym1p
c3Npb24uaCIKIAogI2luY2x1ZGUgImk5MTVfZGVidWdmcy5oIgorI2luY2x1ZGUgImk5MTVfZGVi
dWdmc19wYXJhbXMuaCIKICNpbmNsdWRlICJpOTE1X2lycS5oIgogI2luY2x1ZGUgImk5MTVfdHJh
Y2UuaCIKICNpbmNsdWRlICJpbnRlbF9jc3IuaCIKQEAgLTQzNTIsOSArNDM1MywxMCBAQCBpbnQg
aTkxNV9kZWJ1Z2ZzX3JlZ2lzdGVyKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdikK
IAlzdHJ1Y3QgZHJtX21pbm9yICptaW5vciA9IGRldl9wcml2LT5kcm0ucHJpbWFyeTsKIAlpbnQg
aTsKIAorCWk5MTVfZGVidWdmc19wYXJhbXMoZGV2X3ByaXYpOworCiAJZGVidWdmc19jcmVhdGVf
ZmlsZSgiaTkxNV9mb3JjZXdha2VfdXNlciIsIFNfSVJVU1IsIG1pbm9yLT5kZWJ1Z2ZzX3Jvb3Qs
CiAJCQkgICAgdG9faTkxNShtaW5vci0+ZGV2KSwgJmk5MTVfZm9yY2V3YWtlX2ZvcHMpOwotCiAJ
Zm9yIChpID0gMDsgaSA8IEFSUkFZX1NJWkUoaTkxNV9kZWJ1Z2ZzX2ZpbGVzKTsgaSsrKSB7CiAJ
CWRlYnVnZnNfY3JlYXRlX2ZpbGUoaTkxNV9kZWJ1Z2ZzX2ZpbGVzW2ldLm5hbWUsCiAJCQkJICAg
IFNfSVJVR08gfCBTX0lXVVNSLApkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkx
NV9kZWJ1Z2ZzX3BhcmFtcy5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kZWJ1Z2ZzX3Bh
cmFtcy5jCm5ldyBmaWxlIG1vZGUgMTAwNjQ0CmluZGV4IDAwMDAwMDAwMDAwMC4uN2YxYWY1YTM1
Y2ExCi0tLSAvZGV2L251bGwKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kZWJ1Z2Zz
X3BhcmFtcy5jCkBAIC0wLDAgKzEsMjMzIEBACisvLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjog
TUlUCisvKgorICogQ29weXJpZ2h0IMKpIDIwMTkgSW50ZWwgQ29ycG9yYXRpb24KKyAqLworCisj
aW5jbHVkZSA8bGludXgva2VybmVsLmg+CisKKyNpbmNsdWRlICJpOTE1X2Rydi5oIgorI2luY2x1
ZGUgImk5MTVfcGFyYW1zLmgiCisKKy8qIGludCBwYXJhbSAqLworc3RhdGljIGludCBpOTE1X3Bh
cmFtX2ludF9zaG93KHN0cnVjdCBzZXFfZmlsZSAqbSwgdm9pZCAqZGF0YSkKK3sKKwlpbnQgKnZh
bHVlID0gbS0+cHJpdmF0ZTsKKworCXNlcV9wcmludGYobSwgIiVkXG4iLCAqdmFsdWUpOworCisJ
cmV0dXJuIDA7Cit9CisKK3N0YXRpYyBpbnQgaTkxNV9wYXJhbV9pbnRfb3BlbihzdHJ1Y3QgaW5v
ZGUgKmlub2RlLCBzdHJ1Y3QgZmlsZSAqZmlsZSkKK3sKKwlyZXR1cm4gc2luZ2xlX29wZW4oZmls
ZSwgaTkxNV9wYXJhbV9pbnRfc2hvdywgaW5vZGUtPmlfcHJpdmF0ZSk7Cit9CisKK3N0YXRpYyBz
c2l6ZV90IGk5MTVfcGFyYW1faW50X3dyaXRlKHN0cnVjdCBmaWxlICpmaWxlLAorCQkJCSAgICBj
b25zdCBjaGFyIF9fdXNlciAqdWJ1Ziwgc2l6ZV90IGxlbiwKKwkJCQkgICAgbG9mZl90ICpvZmZw
KQoreworCXN0cnVjdCBzZXFfZmlsZSAqbSA9IGZpbGUtPnByaXZhdGVfZGF0YTsKKwlpbnQgKnZh
bHVlID0gbS0+cHJpdmF0ZTsKKwlpbnQgcmV0OworCisJcmV0ID0ga3N0cnRvaW50X2Zyb21fdXNl
cih1YnVmLCBsZW4sIDAsIHZhbHVlKTsKKworCXJldHVybiByZXQgPzogbGVuOworfQorCitzdGF0
aWMgY29uc3Qgc3RydWN0IGZpbGVfb3BlcmF0aW9ucyBpOTE1X3BhcmFtX2ludF9mb3BzID0gewor
CS5vd25lciA9IFRISVNfTU9EVUxFLAorCS5vcGVuID0gaTkxNV9wYXJhbV9pbnRfb3BlbiwKKwku
cmVhZCA9IHNlcV9yZWFkLAorCS53cml0ZSA9IGk5MTVfcGFyYW1faW50X3dyaXRlLAorCS5sbHNl
ZWsgPSBkZWZhdWx0X2xsc2VlaywKKwkucmVsZWFzZSA9IHNpbmdsZV9yZWxlYXNlLAorfTsKKwor
c3RhdGljIGNvbnN0IHN0cnVjdCBmaWxlX29wZXJhdGlvbnMgaTkxNV9wYXJhbV9pbnRfZm9wc19y
byA9IHsKKwkub3duZXIgPSBUSElTX01PRFVMRSwKKwkub3BlbiA9IGk5MTVfcGFyYW1faW50X29w
ZW4sCisJLnJlYWQgPSBzZXFfcmVhZCwKKwkubGxzZWVrID0gZGVmYXVsdF9sbHNlZWssCisJLnJl
bGVhc2UgPSBzaW5nbGVfcmVsZWFzZSwKK307CisKKy8qIHVuc2lnbmVkIGludCBwYXJhbSAqLwor
c3RhdGljIGludCBpOTE1X3BhcmFtX3VpbnRfc2hvdyhzdHJ1Y3Qgc2VxX2ZpbGUgKm0sIHZvaWQg
KmRhdGEpCit7CisJdW5zaWduZWQgaW50ICp2YWx1ZSA9IG0tPnByaXZhdGU7CisKKwlzZXFfcHJp
bnRmKG0sICIldVxuIiwgKnZhbHVlKTsKKworCXJldHVybiAwOworfQorCitzdGF0aWMgaW50IGk5
MTVfcGFyYW1fdWludF9vcGVuKHN0cnVjdCBpbm9kZSAqaW5vZGUsIHN0cnVjdCBmaWxlICpmaWxl
KQoreworCXJldHVybiBzaW5nbGVfb3BlbihmaWxlLCBpOTE1X3BhcmFtX3VpbnRfc2hvdywgaW5v
ZGUtPmlfcHJpdmF0ZSk7Cit9CisKK3N0YXRpYyBzc2l6ZV90IGk5MTVfcGFyYW1fdWludF93cml0
ZShzdHJ1Y3QgZmlsZSAqZmlsZSwKKwkJCQkgICAgIGNvbnN0IGNoYXIgX191c2VyICp1YnVmLCBz
aXplX3QgbGVuLAorCQkJCSAgICAgbG9mZl90ICpvZmZwKQoreworCXN0cnVjdCBzZXFfZmlsZSAq
bSA9IGZpbGUtPnByaXZhdGVfZGF0YTsKKwl1bnNpZ25lZCBpbnQgKnZhbHVlID0gbS0+cHJpdmF0
ZTsKKwlpbnQgcmV0OworCisJcmV0ID0ga3N0cnRvdWludF9mcm9tX3VzZXIodWJ1ZiwgbGVuLCAw
LCB2YWx1ZSk7CisKKwlyZXR1cm4gcmV0ID86IGxlbjsKK30KKworc3RhdGljIGNvbnN0IHN0cnVj
dCBmaWxlX29wZXJhdGlvbnMgaTkxNV9wYXJhbV91aW50X2ZvcHMgPSB7CisJLm93bmVyID0gVEhJ
U19NT0RVTEUsCisJLm9wZW4gPSBpOTE1X3BhcmFtX3VpbnRfb3BlbiwKKwkucmVhZCA9IHNlcV9y
ZWFkLAorCS53cml0ZSA9IGk5MTVfcGFyYW1fdWludF93cml0ZSwKKwkubGxzZWVrID0gZGVmYXVs
dF9sbHNlZWssCisJLnJlbGVhc2UgPSBzaW5nbGVfcmVsZWFzZSwKK307CisKK3N0YXRpYyBjb25z
dCBzdHJ1Y3QgZmlsZV9vcGVyYXRpb25zIGk5MTVfcGFyYW1fdWludF9mb3BzX3JvID0geworCS5v
d25lciA9IFRISVNfTU9EVUxFLAorCS5vcGVuID0gaTkxNV9wYXJhbV91aW50X29wZW4sCisJLnJl
YWQgPSBzZXFfcmVhZCwKKwkubGxzZWVrID0gZGVmYXVsdF9sbHNlZWssCisJLnJlbGVhc2UgPSBz
aW5nbGVfcmVsZWFzZSwKK307CisKKy8qIGNoYXIgKiBwYXJhbSAqLworc3RhdGljIGludCBpOTE1
X3BhcmFtX2NoYXJwX3Nob3coc3RydWN0IHNlcV9maWxlICptLCB2b2lkICpkYXRhKQoreworCWNv
bnN0IGNoYXIgKipzID0gbS0+cHJpdmF0ZTsKKworCXNlcV9wcmludGYobSwgIiVzXG4iLCAqcyk7
CisKKwlyZXR1cm4gMDsKK30KKworc3RhdGljIGludCBpOTE1X3BhcmFtX2NoYXJwX29wZW4oc3Ry
dWN0IGlub2RlICppbm9kZSwgc3RydWN0IGZpbGUgKmZpbGUpCit7CisJcmV0dXJuIHNpbmdsZV9v
cGVuKGZpbGUsIGk5MTVfcGFyYW1fY2hhcnBfc2hvdywgaW5vZGUtPmlfcHJpdmF0ZSk7Cit9CisK
K3N0YXRpYyBzc2l6ZV90IGk5MTVfcGFyYW1fY2hhcnBfd3JpdGUoc3RydWN0IGZpbGUgKmZpbGUs
CisJCQkJICAgICAgY29uc3QgY2hhciBfX3VzZXIgKnVidWYsIHNpemVfdCBsZW4sCisJCQkJICAg
ICAgbG9mZl90ICpvZmZwKQoreworCXN0cnVjdCBzZXFfZmlsZSAqbSA9IGZpbGUtPnByaXZhdGVf
ZGF0YTsKKwljaGFyICoqcyA9IG0tPnByaXZhdGU7CisJY2hhciAqbmV3LCAqb2xkOworCisJLyog
RklYTUU6IHJlbW92ZSBsb2NraW5nIGFmdGVyIHBhcmFtcyBhcmVuJ3QgdGhlIG1vZHVsZSBwYXJh
bXMgKi8KKwlrZXJuZWxfcGFyYW1fbG9jayhUSElTX01PRFVMRSk7CisKKwlvbGQgPSAqczsKKwlu
ZXcgPSBzdHJuZHVwX3VzZXIodWJ1ZiwgUEFHRV9TSVpFKTsKKwlpZiAoSVNfRVJSKG5ldykpIHsK
KwkJbGVuID0gUFRSX0VSUihuZXcpOworCQlnb3RvIG91dDsKKwl9CisKKwkqcyA9IG5ldzsKKwor
CWtmcmVlKG9sZCk7CitvdXQ6CisJa2VybmVsX3BhcmFtX3VubG9jayhUSElTX01PRFVMRSk7CisK
KwlyZXR1cm4gbGVuOworfQorCitzdGF0aWMgY29uc3Qgc3RydWN0IGZpbGVfb3BlcmF0aW9ucyBp
OTE1X3BhcmFtX2NoYXJwX2ZvcHMgPSB7CisJLm93bmVyID0gVEhJU19NT0RVTEUsCisJLm9wZW4g
PSBpOTE1X3BhcmFtX2NoYXJwX29wZW4sCisJLnJlYWQgPSBzZXFfcmVhZCwKKwkud3JpdGUgPSBp
OTE1X3BhcmFtX2NoYXJwX3dyaXRlLAorCS5sbHNlZWsgPSBkZWZhdWx0X2xsc2VlaywKKwkucmVs
ZWFzZSA9IHNpbmdsZV9yZWxlYXNlLAorfTsKKworc3RhdGljIGNvbnN0IHN0cnVjdCBmaWxlX29w
ZXJhdGlvbnMgaTkxNV9wYXJhbV9jaGFycF9mb3BzX3JvID0geworCS5vd25lciA9IFRISVNfTU9E
VUxFLAorCS5vcGVuID0gaTkxNV9wYXJhbV9jaGFycF9vcGVuLAorCS5yZWFkID0gc2VxX3JlYWQs
CisJLmxsc2VlayA9IGRlZmF1bHRfbGxzZWVrLAorCS5yZWxlYXNlID0gc2luZ2xlX3JlbGVhc2Us
Cit9OworCisjZGVmaW5lIFJPKG1vZGUpICgoKG1vZGUpICYgMDIyMikgPT0gMCkKKworc3RhdGlj
IHN0cnVjdCBkZW50cnkgKgoraTkxNV9kZWJ1Z2ZzX2NyZWF0ZV9pbnQoY29uc3QgY2hhciAqbmFt
ZSwgdW1vZGVfdCBtb2RlLAorCQkJc3RydWN0IGRlbnRyeSAqcGFyZW50LCBpbnQgKnZhbHVlKQor
eworCXJldHVybiBkZWJ1Z2ZzX2NyZWF0ZV9maWxlX3Vuc2FmZShuYW1lLCBtb2RlLCBwYXJlbnQs
IHZhbHVlLAorCQkJCQkgIFJPKG1vZGUpID8gJmk5MTVfcGFyYW1faW50X2ZvcHNfcm8gOgorCQkJ
CQkgICZpOTE1X3BhcmFtX2ludF9mb3BzKTsKK30KKworc3RhdGljIHN0cnVjdCBkZW50cnkgKgor
aTkxNV9kZWJ1Z2ZzX2NyZWF0ZV91aW50KGNvbnN0IGNoYXIgKm5hbWUsIHVtb2RlX3QgbW9kZSwK
KwkJCSBzdHJ1Y3QgZGVudHJ5ICpwYXJlbnQsIHVuc2lnbmVkIGludCAqdmFsdWUpCit7CisJcmV0
dXJuIGRlYnVnZnNfY3JlYXRlX2ZpbGVfdW5zYWZlKG5hbWUsIG1vZGUsIHBhcmVudCwgdmFsdWUs
CisJCQkJCSAgUk8obW9kZSkgPyAmaTkxNV9wYXJhbV91aW50X2ZvcHNfcm8gOgorCQkJCQkgICZp
OTE1X3BhcmFtX3VpbnRfZm9wcyk7Cit9CisKK3N0YXRpYyBzdHJ1Y3QgZGVudHJ5ICoKK2k5MTVf
ZGVidWdmc19jcmVhdGVfY2hhcnAoY29uc3QgY2hhciAqbmFtZSwgdW1vZGVfdCBtb2RlLAorCQkJ
ICBzdHJ1Y3QgZGVudHJ5ICpwYXJlbnQsIGNoYXIgKip2YWx1ZSkKK3sKKwlyZXR1cm4gZGVidWdm
c19jcmVhdGVfZmlsZShuYW1lLCBtb2RlLCBwYXJlbnQsIHZhbHVlLAorCQkJCSAgIFJPKG1vZGUp
ID8gJmk5MTVfcGFyYW1fY2hhcnBfZm9wc19ybyA6CisJCQkJICAgJmk5MTVfcGFyYW1fY2hhcnBf
Zm9wcyk7Cit9CisKK3N0YXRpYyBfX2Fsd2F5c19pbmxpbmUgdm9pZAorX2k5MTVfcGFyYW1fY3Jl
YXRlX2ZpbGUoc3RydWN0IGRlbnRyeSAqcGFyZW50LCBjb25zdCBjaGFyICpuYW1lLAorCQkJY29u
c3QgY2hhciAqdHlwZSwgaW50IG1vZGUsIHZvaWQgKnZhbHVlKQoreworCWlmICghbW9kZSkKKwkJ
cmV0dXJuOworCisJaWYgKCFfX2J1aWx0aW5fc3RyY21wKHR5cGUsICJib29sIikpCisJCWRlYnVn
ZnNfY3JlYXRlX2Jvb2wobmFtZSwgbW9kZSwgcGFyZW50LCB2YWx1ZSk7CisJZWxzZSBpZiAoIV9f
YnVpbHRpbl9zdHJjbXAodHlwZSwgImludCIpKQorCQlpOTE1X2RlYnVnZnNfY3JlYXRlX2ludChu
YW1lLCBtb2RlLCBwYXJlbnQsIHZhbHVlKTsKKwllbHNlIGlmICghX19idWlsdGluX3N0cmNtcCh0
eXBlLCAidW5zaWduZWQgaW50IikpCisJCWk5MTVfZGVidWdmc19jcmVhdGVfdWludChuYW1lLCBt
b2RlLCBwYXJlbnQsIHZhbHVlKTsKKwllbHNlIGlmICghX19idWlsdGluX3N0cmNtcCh0eXBlLCAi
dW5zaWduZWQgbG9uZyIpKQorCQlkZWJ1Z2ZzX2NyZWF0ZV91bG9uZyhuYW1lLCBtb2RlLCBwYXJl
bnQsIHZhbHVlKTsKKwllbHNlIGlmICghX19idWlsdGluX3N0cmNtcCh0eXBlLCAiY2hhciAqIikp
CisJCWk5MTVfZGVidWdmc19jcmVhdGVfY2hhcnAobmFtZSwgbW9kZSwgcGFyZW50LCB2YWx1ZSk7
CisJZWxzZQorCQlXQVJOKDEsICJubyBkZWJ1Z2ZzIGZvcHMgZGVmaW5lZCBmb3IgcGFyYW0gdHlw
ZSAlcyAoaTkxNS4lcylcbiIsCisJCSAgICAgdHlwZSwgbmFtZSk7Cit9CisKKy8qIGFkZCBhIHN1
YmRpcmVjdG9yeSB3aXRoIGZpbGVzIGZvciBlYWNoIGk5MTUgcGFyYW0gKi8KK3N0cnVjdCBkZW50
cnkgKmk5MTVfZGVidWdmc19wYXJhbXMoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUpCit7
CisJc3RydWN0IGRybV9taW5vciAqbWlub3IgPSBpOTE1LT5kcm0ucHJpbWFyeTsKKwlzdHJ1Y3Qg
aTkxNV9wYXJhbXMgKnBhcmFtcyA9ICZpOTE1X21vZHBhcmFtczsKKwlzdHJ1Y3QgZGVudHJ5ICpk
aXI7CisKKwlkaXIgPSBkZWJ1Z2ZzX2NyZWF0ZV9kaXIoImk5MTVfcGFyYW1zIiwgbWlub3ItPmRl
YnVnZnNfcm9vdCk7CisJaWYgKElTX0VSUihkaXIpKQorCQlyZXR1cm4gZGlyOworCisJLyoKKwkg
KiBOb3RlOiBXZSBjb3VsZCBjcmVhdGUgZmlsZXMgZm9yIHBhcmFtcyBuZWVkaW5nIHNwZWNpYWwg
aGFuZGxpbmcKKwkgKiBoZXJlLiBTZXQgbW9kZSBpbiBwYXJhbXMgdG8gMCB0byBza2lwIHRoZSBn
ZW5lcmljIGNyZWF0ZSBmaWxlLCBvcgorCSAqIGp1c3QgbGV0IHRoZSBnZW5lcmljIGNyZWF0ZSBm
aWxlIGZhaWwgc2lsZW50bHkgd2l0aCAtRUVYSVNULgorCSAqLworCisjZGVmaW5lIFJFR0lTVEVS
KFQsIHgsIHVudXNlZCwgbW9kZSwgLi4uKSBfaTkxNV9wYXJhbV9jcmVhdGVfZmlsZShkaXIsICN4
LCAjVCwgbW9kZSwgJnBhcmFtcy0+eCk7CisJSTkxNV9QQVJBTVNfRk9SX0VBQ0goUkVHSVNURVIp
OworI3VuZGVmIFJFR0lTVEVSCisKKwlyZXR1cm4gZGlyOworfQpkaWZmIC0tZ2l0IGEvZHJpdmVy
cy9ncHUvZHJtL2k5MTUvaTkxNV9kZWJ1Z2ZzX3BhcmFtcy5oIGIvZHJpdmVycy9ncHUvZHJtL2k5
MTUvaTkxNV9kZWJ1Z2ZzX3BhcmFtcy5oCm5ldyBmaWxlIG1vZGUgMTAwNjQ0CmluZGV4IDAwMDAw
MDAwMDAwMC4uNjY1NjcwNzY1NDZiCi0tLSAvZGV2L251bGwKKysrIGIvZHJpdmVycy9ncHUvZHJt
L2k5MTUvaTkxNV9kZWJ1Z2ZzX3BhcmFtcy5oCkBAIC0wLDAgKzEsMTQgQEAKKy8qIFNQRFgtTGlj
ZW5zZS1JZGVudGlmaWVyOiBNSVQgKi8KKy8qCisgKiBDb3B5cmlnaHQgwqkgMjAxOSBJbnRlbCBD
b3Jwb3JhdGlvbgorICovCisKKyNpZm5kZWYgX19JOTE1X0RFQlVHRlNfUEFSQU1TX18KKyNkZWZp
bmUgX19JOTE1X0RFQlVHRlNfUEFSQU1TX18KKworc3RydWN0IGRlbnRyeTsKK3N0cnVjdCBkcm1f
aTkxNV9wcml2YXRlOworCitzdHJ1Y3QgZGVudHJ5ICppOTE1X2RlYnVnZnNfcGFyYW1zKHN0cnVj
dCBkcm1faTkxNV9wcml2YXRlICppOTE1KTsKKworI2VuZGlmIC8qIF9fSTkxNV9ERUJVR0ZTX1BB
UkFNU19fICovCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3BhcmFtcy5j
IGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9wYXJhbXMuYwppbmRleCAxZGQxZjM2NTI3OTUu
LjY0MDA5ZTk5MDczZCAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9wYXJh
bXMuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3BhcmFtcy5jCkBAIC0zNSw3ICsz
NSw3IEBACiAJTU9EVUxFX1BBUk1fREVTQyhuYW1lLCBkZXNjKQogCiBzdHJ1Y3QgaTkxNV9wYXJh
bXMgaTkxNV9tb2RwYXJhbXMgX19yZWFkX21vc3RseSA9IHsKLSNkZWZpbmUgTUVNQkVSKFQsIG1l
bWJlciwgdmFsdWUpIC5tZW1iZXIgPSAodmFsdWUpLAorI2RlZmluZSBNRU1CRVIoVCwgbWVtYmVy
LCB2YWx1ZSwgLi4uKSAubWVtYmVyID0gKHZhbHVlKSwKIAlJOTE1X1BBUkFNU19GT1JfRUFDSChN
RU1CRVIpCiAjdW5kZWYgTUVNQkVSCiB9OwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5
MTUvaTkxNV9wYXJhbXMuaCBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfcGFyYW1zLmgKaW5k
ZXggMzFiODhmMjk3ZmJjLi5iZTYwODllNGY5ZTYgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2k5MTVfcGFyYW1zLmgKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9wYXJh
bXMuaApAQCAtMzYsNDkgKzM2LDUxIEBAIHN0cnVjdCBkcm1fcHJpbnRlcjsKIC8qCiAgKiBJbnZv
a2UgcGFyYW0sIGEgZnVuY3Rpb24tbGlrZSBtYWNybywgZm9yIGVhY2ggaTkxNSBwYXJhbSwgd2l0
aCBhcmd1bWVudHM6CiAgKgotICogcGFyYW0odHlwZSwgbmFtZSwgdmFsdWUpCisgKiBwYXJhbSh0
eXBlLCBuYW1lLCB2YWx1ZSwgbW9kZSkKICAqCi0gKiB0eXBlOiBwYXJhbWV0ZXIgdHlwZSwgb25l
IG9mIHtib29sLCBpbnQsIHVuc2lnbmVkIGludCwgY2hhciAqfQorICogdHlwZTogcGFyYW1ldGVy
IHR5cGUsIG9uZSBvZiB7Ym9vbCwgaW50LCB1bnNpZ25lZCBpbnQsIHVuc2lnbmVkIGxvbmcsIGNo
YXIgKn0KICAqIG5hbWU6IG5hbWUgb2YgdGhlIHBhcmFtZXRlcgogICogdmFsdWU6IGluaXRpYWwv
ZGVmYXVsdCB2YWx1ZSBvZiB0aGUgcGFyYW1ldGVyCisgKiBtb2RlOiBkZWJ1Z2ZzIGZpbGUgcGVy
bWlzc2lvbnMsIG9uZSBvZiB7MDQwMCwgMDYwMCwgMH0sIHVzZSAwIHRvIG5vdCBjcmVhdGUKKyAq
ICAgICAgIGRlYnVnZnMgZmlsZQogICovCiAjZGVmaW5lIEk5MTVfUEFSQU1TX0ZPUl9FQUNIKHBh
cmFtKSBcCi0JcGFyYW0oY2hhciAqLCB2YnRfZmlybXdhcmUsIE5VTEwpIFwKLQlwYXJhbShpbnQs
IG1vZGVzZXQsIC0xKSBcCi0JcGFyYW0oaW50LCBsdmRzX2NoYW5uZWxfbW9kZSwgMCkgXAotCXBh
cmFtKGludCwgcGFuZWxfdXNlX3NzYywgLTEpIFwKLQlwYXJhbShpbnQsIHZidF9zZHZvX3BhbmVs
X3R5cGUsIC0xKSBcCi0JcGFyYW0oaW50LCBlbmFibGVfZGMsIC0xKSBcCi0JcGFyYW0oaW50LCBl
bmFibGVfZmJjLCAtMSkgXAotCXBhcmFtKGludCwgZW5hYmxlX3BzciwgLTEpIFwKLQlwYXJhbShp
bnQsIGRpc2FibGVfcG93ZXJfd2VsbCwgLTEpIFwKLQlwYXJhbShpbnQsIGVuYWJsZV9pcHMsIDEp
IFwKLQlwYXJhbShpbnQsIGludmVydF9icmlnaHRuZXNzLCAwKSBcCi0JcGFyYW0oaW50LCBlbmFi
bGVfZ3VjLCAwKSBcCi0JcGFyYW0oaW50LCBndWNfbG9nX2xldmVsLCAtMSkgXAotCXBhcmFtKGNo
YXIgKiwgZ3VjX2Zpcm13YXJlX3BhdGgsIE5VTEwpIFwKLQlwYXJhbShjaGFyICosIGh1Y19maXJt
d2FyZV9wYXRoLCBOVUxMKSBcCi0JcGFyYW0oY2hhciAqLCBkbWNfZmlybXdhcmVfcGF0aCwgTlVM
TCkgXAotCXBhcmFtKGludCwgbW1pb19kZWJ1ZywgLUlTX0VOQUJMRUQoQ09ORklHX0RSTV9JOTE1
X0RFQlVHX01NSU8pKSBcCi0JcGFyYW0oaW50LCBlZHBfdnN3aW5nLCAwKSBcCi0JcGFyYW0oaW50
LCByZXNldCwgMykgXAotCXBhcmFtKHVuc2lnbmVkIGludCwgaW5qZWN0X3Byb2JlX2ZhaWx1cmUs
IDApIFwKLQlwYXJhbShpbnQsIGZhc3Rib290LCAtMSkgXAotCXBhcmFtKGludCwgZW5hYmxlX2Rw
Y2RfYmFja2xpZ2h0LCAwKSBcCi0JcGFyYW0oY2hhciAqLCBmb3JjZV9wcm9iZSwgQ09ORklHX0RS
TV9JOTE1X0ZPUkNFX1BST0JFKSBcCi0JcGFyYW0odW5zaWduZWQgbG9uZywgZmFrZV9sbWVtX3N0
YXJ0LCAwKSBcCisJcGFyYW0oY2hhciAqLCB2YnRfZmlybXdhcmUsIE5VTEwsIDA0MDApIFwKKwlw
YXJhbShpbnQsIG1vZGVzZXQsIC0xLCAwNDAwKSBcCisJcGFyYW0oaW50LCBsdmRzX2NoYW5uZWxf
bW9kZSwgMCwgMDQwMCkgXAorCXBhcmFtKGludCwgcGFuZWxfdXNlX3NzYywgLTEsIDA2MDApIFwK
KwlwYXJhbShpbnQsIHZidF9zZHZvX3BhbmVsX3R5cGUsIC0xLCAwNDAwKSBcCisJcGFyYW0oaW50
LCBlbmFibGVfZGMsIC0xLCAwNDAwKSBcCisJcGFyYW0oaW50LCBlbmFibGVfZmJjLCAtMSwgMDYw
MCkgXAorCXBhcmFtKGludCwgZW5hYmxlX3BzciwgLTEsIDA2MDApIFwKKwlwYXJhbShpbnQsIGRp
c2FibGVfcG93ZXJfd2VsbCwgLTEsIDA0MDApIFwKKwlwYXJhbShpbnQsIGVuYWJsZV9pcHMsIDEs
IDA2MDApIFwKKwlwYXJhbShpbnQsIGludmVydF9icmlnaHRuZXNzLCAwLCAwNjAwKSBcCisJcGFy
YW0oaW50LCBlbmFibGVfZ3VjLCAwLCAwNDAwKSBcCisJcGFyYW0oaW50LCBndWNfbG9nX2xldmVs
LCAtMSwgMDQwMCkgXAorCXBhcmFtKGNoYXIgKiwgZ3VjX2Zpcm13YXJlX3BhdGgsIE5VTEwsIDA0
MDApIFwKKwlwYXJhbShjaGFyICosIGh1Y19maXJtd2FyZV9wYXRoLCBOVUxMLCAwNDAwKSBcCisJ
cGFyYW0oY2hhciAqLCBkbWNfZmlybXdhcmVfcGF0aCwgTlVMTCwgMDQwMCkgXAorCXBhcmFtKGlu
dCwgbW1pb19kZWJ1ZywgLUlTX0VOQUJMRUQoQ09ORklHX0RSTV9JOTE1X0RFQlVHX01NSU8pLCAw
NjAwKSBcCisJcGFyYW0oaW50LCBlZHBfdnN3aW5nLCAwLCAwNDAwKSBcCisJcGFyYW0oaW50LCBy
ZXNldCwgMywgMDYwMCkgXAorCXBhcmFtKHVuc2lnbmVkIGludCwgaW5qZWN0X3Byb2JlX2ZhaWx1
cmUsIDAsIDA2MDApIFwKKwlwYXJhbShpbnQsIGZhc3Rib290LCAtMSwgMDYwMCkgXAorCXBhcmFt
KGludCwgZW5hYmxlX2RwY2RfYmFja2xpZ2h0LCAwLCAwNjAwKSBcCisJcGFyYW0oY2hhciAqLCBm
b3JjZV9wcm9iZSwgQ09ORklHX0RSTV9JOTE1X0ZPUkNFX1BST0JFLCAwNDAwKSBcCisJcGFyYW0o
dW5zaWduZWQgbG9uZywgZmFrZV9sbWVtX3N0YXJ0LCAwLCAwNDAwKSBcCiAJLyogbGVhdmUgYm9v
bHMgYXQgdGhlIGVuZCB0byBub3QgY3JlYXRlIGhvbGVzICovIFwKLQlwYXJhbShib29sLCBhbHBo
YV9zdXBwb3J0LCBJU19FTkFCTEVEKENPTkZJR19EUk1fSTkxNV9BTFBIQV9TVVBQT1JUKSkgXAot
CXBhcmFtKGJvb2wsIGVuYWJsZV9oYW5nY2hlY2ssIHRydWUpIFwKLQlwYXJhbShib29sLCBwcmVm
YXVsdF9kaXNhYmxlLCBmYWxzZSkgXAotCXBhcmFtKGJvb2wsIGxvYWRfZGV0ZWN0X3Rlc3QsIGZh
bHNlKSBcCi0JcGFyYW0oYm9vbCwgZm9yY2VfcmVzZXRfbW9kZXNldF90ZXN0LCBmYWxzZSkgXAot
CXBhcmFtKGJvb2wsIGVycm9yX2NhcHR1cmUsIHRydWUpIFwKLQlwYXJhbShib29sLCBkaXNhYmxl
X2Rpc3BsYXksIGZhbHNlKSBcCi0JcGFyYW0oYm9vbCwgdmVyYm9zZV9zdGF0ZV9jaGVja3MsIHRy
dWUpIFwKLQlwYXJhbShib29sLCBudWNsZWFyX3BhZ2VmbGlwLCBmYWxzZSkgXAotCXBhcmFtKGJv
b2wsIGVuYWJsZV9kcF9tc3QsIHRydWUpIFwKLQlwYXJhbShib29sLCBlbmFibGVfZ3Z0LCBmYWxz
ZSkKKwlwYXJhbShib29sLCBhbHBoYV9zdXBwb3J0LCBJU19FTkFCTEVEKENPTkZJR19EUk1fSTkx
NV9BTFBIQV9TVVBQT1JUKSwgMDQwMCkgXAorCXBhcmFtKGJvb2wsIGVuYWJsZV9oYW5nY2hlY2ss
IHRydWUsIDA2MDApIFwKKwlwYXJhbShib29sLCBwcmVmYXVsdF9kaXNhYmxlLCBmYWxzZSwgMDYw
MCkgXAorCXBhcmFtKGJvb2wsIGxvYWRfZGV0ZWN0X3Rlc3QsIGZhbHNlLCAwNjAwKSBcCisJcGFy
YW0oYm9vbCwgZm9yY2VfcmVzZXRfbW9kZXNldF90ZXN0LCBmYWxzZSwgMDYwMCkgXAorCXBhcmFt
KGJvb2wsIGVycm9yX2NhcHR1cmUsIHRydWUsIDA2MDApIFwKKwlwYXJhbShib29sLCBkaXNhYmxl
X2Rpc3BsYXksIGZhbHNlLCAwNDAwKSBcCisJcGFyYW0oYm9vbCwgdmVyYm9zZV9zdGF0ZV9jaGVj
a3MsIHRydWUsIDApIFwKKwlwYXJhbShib29sLCBudWNsZWFyX3BhZ2VmbGlwLCBmYWxzZSwgMDQw
MCkgXAorCXBhcmFtKGJvb2wsIGVuYWJsZV9kcF9tc3QsIHRydWUsIDA2MDApIFwKKwlwYXJhbShi
b29sLCBlbmFibGVfZ3Z0LCBmYWxzZSwgMDQwMCkKIAogI2RlZmluZSBNRU1CRVIoVCwgbWVtYmVy
LCAuLi4pIFQgbWVtYmVyOwogc3RydWN0IGk5MTVfcGFyYW1zIHsKLS0gCjIuMjAuMQoKX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KSW50ZWwtZ2Z4IG1haWxp
bmcgbGlzdApJbnRlbC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJl
ZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vaW50ZWwtZ2Z4

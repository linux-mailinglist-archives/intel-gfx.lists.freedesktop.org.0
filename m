Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id BDE5F23AD4
	for <lists+intel-gfx@lfdr.de>; Mon, 20 May 2019 16:48:04 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id EC1AF8928B;
	Mon, 20 May 2019 14:47:57 +0000 (UTC)
X-Original-To: Intel-gfx@lists.freedesktop.org
Delivered-To: Intel-gfx@lists.freedesktop.org
Received: from mga04.intel.com (mga04.intel.com [192.55.52.120])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 335018925D;
 Mon, 20 May 2019 14:47:56 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from fmsmga007.fm.intel.com ([10.253.24.52])
 by fmsmga104.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 20 May 2019 07:47:56 -0700
X-ExtLoop1: 1
Received: from dmironox-mobl5.ccr.corp.intel.com (HELO localhost.localdomain)
 ([10.252.20.122])
 by fmsmga007.fm.intel.com with ESMTP; 20 May 2019 07:47:54 -0700
From: Tvrtko Ursulin <tvrtko.ursulin@linux.intel.com>
To: igt-dev@lists.freedesktop.org
Date: Mon, 20 May 2019 15:47:22 +0100
Message-Id: <20190520144739.13111-11-tvrtko.ursulin@linux.intel.com>
X-Mailer: git-send-email 2.20.1
In-Reply-To: <20190520144739.13111-1-tvrtko.ursulin@linux.intel.com>
References: <20190520144739.13111-1-tvrtko.ursulin@linux.intel.com>
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH i-g-t 10/27] gem_wsim: Submit fence support
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: Intel-gfx@lists.freedesktop.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

RnJvbTogVHZydGtvIFVyc3VsaW4gPHR2cnRrby51cnN1bGluQGludGVsLmNvbT4KCkFkZCBzdXBw
b3J0IGZvciBzdWJtaXQgZmVuY2VzIGluIGEgd2F5IHNpbWlsYXIgdG8gaG93IG5vcm1hbCBpbnB1
dCBmZW5jZXMKYXJlIGhhbmRsZWQuIEVnOgoKICAxLlJDUy41MDAtMTAwMC4wLjAKICAxLlZDUzEu
MzAwMC5zLTEuMAogIDEuVkNTMi4zMDAwLnMtMi4wCgpTdWJtaXQgZmVuY2VzIGFyZSBzaWduYWxs
ZWQgd2hlbiB0aGUgb3JpZ2luYXRpbmcgcmVxdWVzdCBlbnRlcnMgdGhlCnN1Ym1pc3Npb24gYmFj
a2VuZC4KClNpZ25lZC1vZmYtYnk6IFR2cnRrbyBVcnN1bGluIDx0dnJ0a28udXJzdWxpbkBpbnRl
bC5jb20+ClJldmlld2VkLWJ5OiBDaHJpcyBXaWxzb24gPGNocmlzQGNocmlzLXdpbHNvbi5jby51
az4KLS0tCiBiZW5jaG1hcmtzL2dlbV93c2ltLmMgIHwgMjAgKysrKysrKysrKysrKysrKy0tLS0K
IGJlbmNobWFya3Mvd3NpbS9SRUFETUUgfCAxNyArKysrKysrKysrKysrKysrKwogMiBmaWxlcyBj
aGFuZ2VkLCAzMyBpbnNlcnRpb25zKCspLCA0IGRlbGV0aW9ucygtKQoKZGlmZiAtLWdpdCBhL2Jl
bmNobWFya3MvZ2VtX3dzaW0uYyBiL2JlbmNobWFya3MvZ2VtX3dzaW0uYwppbmRleCA2YzllYjFl
MjBlZmMuLjQ2NDMxNGMwNTY5NyAxMDA2NDQKLS0tIGEvYmVuY2htYXJrcy9nZW1fd3NpbS5jCisr
KyBiL2JlbmNobWFya3MvZ2VtX3dzaW0uYwpAQCAtODcsNiArODcsNyBAQCBlbnVtIHdfdHlwZQog
c3RydWN0IGRlcHMKIHsKIAlpbnQgbnI7CisJYm9vbCBzdWJtaXRfZmVuY2U7CiAJaW50ICpsaXN0
OwogfTsKIApAQCAtMjUzLDE3ICsyNTQsMjMgQEAgcGFyc2VfZGVwZW5kZW5jaWVzKHVuc2lnbmVk
IGludCBucl9zdGVwcywgc3RydWN0IHdfc3RlcCAqdywgY2hhciAqX2Rlc2MpCiAJCSAgIHctPmRh
dGFfZGVwcy5saXN0ID09IHctPmZlbmNlX2RlcHMubGlzdCk7CiAKIAl3aGlsZSAoKHRva2VuID0g
c3RydG9rX3IodHN0YXJ0LCAiLyIsICZ0Y3R4KSkgIT0gTlVMTCkgeworCQlib29sIHN1Ym1pdF9m
ZW5jZSA9IGZhbHNlOwogCQljaGFyICpzdHIgPSB0b2tlbjsKIAkJc3RydWN0IGRlcHMgKmRlcHM7
CiAJCWludCBkZXA7CiAKIAkJdHN0YXJ0ID0gTlVMTDsKIAotCQlpZiAoc3RybGVuKHRva2VuKSA+
IDEgJiYgdG9rZW5bMF0gPT0gJ2YnKSB7CisJCWlmIChzdHJbMF0gPT0gJy0nIHx8IChzdHJbMF0g
Pj0gJzAnICYmIHN0clswXSA8PSAnOScpKSB7CisJCQlkZXBzID0gJnctPmRhdGFfZGVwczsKKwkJ
fSBlbHNlIHsKKwkJCWlmIChzdHJbMF0gPT0gJ3MnKQorCQkJCXN1Ym1pdF9mZW5jZSA9IHRydWU7
CisJCQllbHNlIGlmIChzdHJbMF0gIT0gJ2YnKQorCQkJCXJldHVybiAtMTsKKwogCQkJZGVwcyA9
ICZ3LT5mZW5jZV9kZXBzOwogCQkJc3RyKys7Ci0JCX0gZWxzZSB7Ci0JCQlkZXBzID0gJnctPmRh
dGFfZGVwczsKIAkJfQogCiAJCWRlcCA9IGF0b2koc3RyKTsKQEAgLTI4MSw2ICsyODgsNyBAQCBw
YXJzZV9kZXBlbmRlbmNpZXModW5zaWduZWQgaW50IG5yX3N0ZXBzLCBzdHJ1Y3Qgd19zdGVwICp3
LCBjaGFyICpfZGVzYykKIAkJCQkJICAgICBzaXplb2YoKmRlcHMtPmxpc3QpICogZGVwcy0+bnIp
OwogCQkJaWd0X2Fzc2VydChkZXBzLT5saXN0KTsKIAkJCWRlcHMtPmxpc3RbZGVwcy0+bnIgLSAx
XSA9IGRlcDsKKwkJCWRlcHMtPnN1Ym1pdF9mZW5jZSA9IHN1Ym1pdF9mZW5jZTsKIAkJfQogCX0K
IApAQCAtMTk0NCw3ICsxOTUyLDExIEBAIGRvX2ViKHN0cnVjdCB3b3JrbG9hZCAqd3JrLCBzdHJ1
Y3Qgd19zdGVwICp3LCBlbnVtIGludGVsX2VuZ2luZV9pZCBlbmdpbmUsCiAJCWlndF9hc3NlcnQo
dGd0ID49IDAgJiYgdGd0IDwgdy0+aWR4KTsKIAkJaWd0X2Fzc2VydCh3cmstPnN0ZXBzW3RndF0u
ZW1pdF9mZW5jZSA+IDApOwogCi0JCXctPmViLmZsYWdzIHw9IEk5MTVfRVhFQ19GRU5DRV9JTjsK
KwkJaWYgKHctPmZlbmNlX2RlcHMuc3VibWl0X2ZlbmNlKQorCQkJdy0+ZWIuZmxhZ3MgfD0gSTkx
NV9FWEVDX0ZFTkNFX1NVQk1JVDsKKwkJZWxzZQorCQkJdy0+ZWIuZmxhZ3MgfD0gSTkxNV9FWEVD
X0ZFTkNFX0lOOworCiAJCXctPmViLnJzdmQyID0gd3JrLT5zdGVwc1t0Z3RdLmVtaXRfZmVuY2U7
CiAJfQogCmRpZmYgLS1naXQgYS9iZW5jaG1hcmtzL3dzaW0vUkVBRE1FIGIvYmVuY2htYXJrcy93
c2ltL1JFQURNRQppbmRleCAyMDVjZDZjOTNhZmIuLjQ3ODZmMTE2YjRhYyAxMDA2NDQKLS0tIGEv
YmVuY2htYXJrcy93c2ltL1JFQURNRQorKysgYi9iZW5jaG1hcmtzL3dzaW0vUkVBRE1FCkBAIC0x
MTQsNiArMTE0LDIzIEBAIHJ1bm5hYmxlLiBXaGVuIHRoZSBzZWNvbmQgUkNTIGJhdGNoIGNvbXBs
ZXRlcyB0aGUgc3RhbmRhbG9uZSBmZW5jZSBpcyBzaWduYWxlZAogd2hpY2ggYWxsb3dzIHRoZSB0
d28gVkNTIGJhdGNoZXMgdG8gYmUgZXhlY3V0ZWQuIEZpbmFsbHkgd2Ugd2FpdCB1bnRpbCB0aGUg
Ym90aAogVkNTIGJhdGNoZXMgaGF2ZSBjb21wbGV0ZWQgYmVmb3JlIHN0YXJ0aW5nIHRoZSAob3B0
aW9uYWwpIG5leHQgaXRlcmF0aW9uLgogCitTdWJtaXQgZmVuY2VzCistLS0tLS0tLS0tLS0tCisK
K1N1Ym1pdCBmZW5jZXMgYXJlIGEgdHlwZSBvZiBpbnB1dCBmZW5jZSB3aGljaCBhcmUgc2lnbmFs
bGVkIHdoZW4gdGhlIG9yaWdpbmF0aW5nCitiYXRjaCBidWZmZXIgaXMgc3VibWl0dGVkIHRvIHRo
ZSBHUFUuIChJbiBjb250cmFyeSB0byBub3JtYWwgc3luYyBmZW5jZXMsIHdoaWNoCithcmUgc2ln
bmFsbGVkIHdoZW4gY29tcGxldGVkLikKKworU3VibWl0IGZlbmNlcyBoYXZlIHRoZSBpZGVudGlj
YWwgc3ludGF4IGFzIHRoZSBzeW5jIGZlbmNlcyB3aXRoIHRoZSBsb3dlci1jYXNlCisncycgYmVp
bmcgdXNlZCB0byBzZWxlY3QgdGhlbS4gRWc6CisKKyAgMS5SQ1MuNTAwLTEwMDAuMC4wCisgIDEu
VkNTMS4zMDAwLnMtMS4wCisgIDEuVkNTMi4zMDAwLnMtMi4wCisKK0hlcmUgVkNTMSBhbmQgVkNT
MiBiYXRjaGVzIHdpbGwgb25seSBiZSBzdWJtaXR0ZWQgZm9yIGV4ZWN1dGluZyBvbmNlIHRoZSBS
Q1MKK2JhdGNoIGVudGVycyB0aGUgR1BVLgorCiBDb250ZXh0IHByaW9yaXR5CiAtLS0tLS0tLS0t
LS0tLS0tCiAKLS0gCjIuMjAuMQoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX18KSW50ZWwtZ2Z4IG1haWxpbmcgbGlzdApJbnRlbC1nZnhAbGlzdHMuZnJlZWRl
c2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8v
aW50ZWwtZ2Z4

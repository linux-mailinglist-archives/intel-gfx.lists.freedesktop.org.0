Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 5A7DA4A3C1
	for <lists+intel-gfx@lfdr.de>; Tue, 18 Jun 2019 16:21:18 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id B1CC46E1CF;
	Tue, 18 Jun 2019 14:21:16 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga02.intel.com (mga02.intel.com [134.134.136.20])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 069006E1CF
 for <intel-gfx@lists.freedesktop.org>; Tue, 18 Jun 2019 14:21:14 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga008.jf.intel.com ([10.7.209.65])
 by orsmga101.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 18 Jun 2019 07:21:14 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.63,389,1557212400"; d="scan'208";a="153488747"
Received: from stinkbox.fi.intel.com (HELO stinkbox) ([10.237.72.174])
 by orsmga008.jf.intel.com with SMTP; 18 Jun 2019 07:21:12 -0700
Received: by stinkbox (sSMTP sendmail emulation);
 Tue, 18 Jun 2019 17:21:11 +0300
From: Ville Syrjala <ville.syrjala@linux.intel.com>
To: intel-gfx@lists.freedesktop.org
Date: Tue, 18 Jun 2019 17:21:06 +0300
Message-Id: <20190618142108.9978-2-ville.syrjala@linux.intel.com>
X-Mailer: git-send-email 2.21.0
In-Reply-To: <20190618142108.9978-1-ville.syrjala@linux.intel.com>
References: <20190618142108.9978-1-ville.syrjala@linux.intel.com>
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH 1/3] drm/i915: Fix various tracepoints for gen2
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: Daniel Vetter <daniel.vetter@ffwll.ch>, Shawn Guo <shawn.guo@linaro.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

RnJvbTogVmlsbGUgU3lyasOkbMOkIDx2aWxsZS5zeXJqYWxhQGxpbnV4LmludGVsLmNvbT4KCkdl
bjIgZG9lc24ndCBoYXZlIGEgZnJhbWUgY291bnRlciBhbmQgYXBwYXJlbnRseSB3ZSBubyBsb25n
ZXIgcHJvdmlkZQphIGZha2UgLmdldF92YmxhbmtfY291bnRlcigpIGhvb2sgZm9yIGl0LiBUaGF0
IG1lYW5zIGFsbCB0cmFjZXBvaW50cwpjYWxsaW5nIHRoYXQgaG9vayB3aWxsIG9vcHMuIFVwZGF0
ZSB0aGUgdHJhY2Vwb2ludHMgdG8gdXNlCmludGVsX2NydGNfZ2V0X3ZibGFua19jb3VudGVyKCkg
d2hpY2ggd2lsbCBncmFjZWZ1bGx5IGZhbGwgYmFjayB0bwp1c2luZyB0aGUgc29mdHdhcmUgY291
bnRlci4gVGhpcyBpcyBhY3R1YWxseSBhIGJldHRlciBhcHByb2FjaCBzaW5jZQp3ZSBub3cgZ2V0
IChob3BlZnVsbHkgYWNjdXJhdGUpIGZyYW1lIG51bWJlcnMgaW4gdGhlIHRyYWNlcy4KClRoaXMg
YWxzbyBnZXRzIHJpZCBvZiB0aGUgcmF3IGRyaXZlci0+Z2V0X3ZibGFua19jb3VudGVyKCkgY2Fs
bHMsIHdoaWNoCndlIG5lZWQgdG8gZG8gaW4gb3JkZXIgdG8gc3dpdGNoIHRvIHRoZSBwZXItY3J0
YyB2YmxhbmsgdmZ1bmNzLgoKdjI6IERlYWwgd2l0aCBuZXcgdHJhY2Vwb2ludHMKCkNjOiBTaGF3
biBHdW8gPHNoYXduLmd1b0BsaW5hcm8ub3JnPgpDYzogRGFuaWVsIFZldHRlciA8ZGFuaWVsLnZl
dHRlckBmZndsbC5jaD4KRml4ZXM6IDk2N2RkNDg0MTc4NyAoImRybTogcmVtb3ZlIGRybV92Ymxh
bmtfbm9faHdfY291bnRlciBhc3NpZ25tZW50IGZyb20gZHJpdmVyIGNvZGUiKQpTaWduZWQtb2Zm
LWJ5OiBWaWxsZSBTeXJqw6Rsw6QgPHZpbGxlLnN5cmphbGFAbGludXguaW50ZWwuY29tPgotLS0K
IGRyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheS5jIHwgIDQgKy0KIGRy
aXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfdHJhY2UuaCAgICAgICAgICAgIHwgNzYgKysrKysrKysr
LS0tLS0tLS0tLS0KIDIgZmlsZXMgY2hhbmdlZCwgMzUgaW5zZXJ0aW9ucygrKSwgNDUgZGVsZXRp
b25zKC0pCgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9k
aXNwbGF5LmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXkuYwpp
bmRleCBkYzYwMmE4YTUyZmUuLmZjZjk5ZGMxNzEyNyAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUv
ZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5LmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5
MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5LmMKQEAgLTE4MzksNyArMTgzOSw3IEBAIHN0YXRpYyB2
b2lkIGludGVsX2VuYWJsZV9waXBlKGNvbnN0IHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpuZXdf
Y3J0Y19zdGF0ZSkKIAkJLyogRklYTUU6IGFzc2VydCBDUFUgcG9ydCBjb25kaXRpb25zIGZvciBT
TkIrICovCiAJfQogCi0JdHJhY2VfaW50ZWxfcGlwZV9lbmFibGUoZGV2X3ByaXYsIHBpcGUpOwor
CXRyYWNlX2ludGVsX3BpcGVfZW5hYmxlKGNydGMpOwogCiAJcmVnID0gUElQRUNPTkYoY3B1X3Ry
YW5zY29kZXIpOwogCXZhbCA9IEk5MTVfUkVBRChyZWcpOwpAQCAtMTg4MCw3ICsxODgwLDcgQEAg
c3RhdGljIHZvaWQgaW50ZWxfZGlzYWJsZV9waXBlKGNvbnN0IHN0cnVjdCBpbnRlbF9jcnRjX3N0
YXRlICpvbGRfY3J0Y19zdGF0ZSkKIAkgKi8KIAlhc3NlcnRfcGxhbmVzX2Rpc2FibGVkKGNydGMp
OwogCi0JdHJhY2VfaW50ZWxfcGlwZV9kaXNhYmxlKGRldl9wcml2LCBwaXBlKTsKKwl0cmFjZV9p
bnRlbF9waXBlX2Rpc2FibGUoY3J0Yyk7CiAKIAlyZWcgPSBQSVBFQ09ORihjcHVfdHJhbnNjb2Rl
cik7CiAJdmFsID0gSTkxNV9SRUFEKHJlZyk7CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0v
aTkxNS9pOTE1X3RyYWNlLmggYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3RyYWNlLmgKaW5k
ZXggNWM4Y2ZhYTcwZDcyLi5iNWFhMjViODlkZTAgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2k5MTVfdHJhY2UuaAorKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3RyYWNl
LmgKQEAgLTIxLDI0ICsyMSwyMiBAQAogLyogd2F0ZXJtYXJrL2ZpZm8gdXBkYXRlcyAqLwogCiBU
UkFDRV9FVkVOVChpbnRlbF9waXBlX2VuYWJsZSwKLQkgICAgVFBfUFJPVE8oc3RydWN0IGRybV9p
OTE1X3ByaXZhdGUgKmRldl9wcml2LCBlbnVtIHBpcGUgcGlwZSksCi0JICAgIFRQX0FSR1MoZGV2
X3ByaXYsIHBpcGUpLAorCSAgICBUUF9QUk9UTyhzdHJ1Y3QgaW50ZWxfY3J0YyAqY3J0YyksCisJ
ICAgIFRQX0FSR1MoY3J0YyksCiAKIAkgICAgVFBfU1RSVUNUX19lbnRyeSgKIAkJCSAgICAgX19h
cnJheSh1MzIsIGZyYW1lLCAzKQogCQkJICAgICBfX2FycmF5KHUzMiwgc2NhbmxpbmUsIDMpCiAJ
CQkgICAgIF9fZmllbGQoZW51bSBwaXBlLCBwaXBlKQogCQkJICAgICApLAotCiAJICAgIFRQX2Zh
c3RfYXNzaWduKAotCQkJICAgZW51bSBwaXBlIF9waXBlOwotCQkJICAgZm9yX2VhY2hfcGlwZShk
ZXZfcHJpdiwgX3BpcGUpIHsKLQkJCQkgICBfX2VudHJ5LT5mcmFtZVtfcGlwZV0gPQotCQkJCQkg
ICBkZXZfcHJpdi0+ZHJtLmRyaXZlci0+Z2V0X3ZibGFua19jb3VudGVyKCZkZXZfcHJpdi0+ZHJt
LCBfcGlwZSk7Ci0JCQkJICAgX19lbnRyeS0+c2NhbmxpbmVbX3BpcGVdID0KLQkJCQkJICAgaW50
ZWxfZ2V0X2NydGNfc2NhbmxpbmUoaW50ZWxfZ2V0X2NydGNfZm9yX3BpcGUoZGV2X3ByaXYsIF9w
aXBlKSk7CisJCQkgICBzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYgPSB0b19pOTE1
KGNydGMtPmJhc2UuZGV2KTsKKwkJCSAgIHN0cnVjdCBpbnRlbF9jcnRjICpfY3J0YzsKKwkJCSAg
IGZvcl9lYWNoX2ludGVsX2NydGMoJmRldl9wcml2LT5kcm0sIF9jcnRjKSB7CisJCQkJICAgX19l
bnRyeS0+ZnJhbWVbX2NydGMtPnBpcGVdID0gaW50ZWxfY3J0Y19nZXRfdmJsYW5rX2NvdW50ZXIo
X2NydGMpOworCQkJCSAgIF9fZW50cnktPnNjYW5saW5lW19jcnRjLT5waXBlXSA9IGludGVsX2dl
dF9jcnRjX3NjYW5saW5lKF9jcnRjKTsKIAkJCSAgIH0KLQkJCSAgIF9fZW50cnktPnBpcGUgPSBw
aXBlOworCQkJICAgX19lbnRyeS0+cGlwZSA9IGNydGMtPnBpcGU7CiAJCQkgICApLAogCiAJICAg
IFRQX3ByaW50aygicGlwZSAlYyBlbmFibGUsIHBpcGUgQTogZnJhbWU9JXUsIHNjYW5saW5lPSV1
LCBwaXBlIEI6IGZyYW1lPSV1LCBzY2FubGluZT0ldSwgcGlwZSBDOiBmcmFtZT0ldSwgc2Nhbmxp
bmU9JXUiLApAQCAtNDksOCArNDcsOCBAQCBUUkFDRV9FVkVOVChpbnRlbF9waXBlX2VuYWJsZSwK
ICk7CiAKIFRSQUNFX0VWRU5UKGludGVsX3BpcGVfZGlzYWJsZSwKLQkgICAgVFBfUFJPVE8oc3Ry
dWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2LCBlbnVtIHBpcGUgcGlwZSksCi0JICAgIFRQ
X0FSR1MoZGV2X3ByaXYsIHBpcGUpLAorCSAgICBUUF9QUk9UTyhzdHJ1Y3QgaW50ZWxfY3J0YyAq
Y3J0YyksCisJICAgIFRQX0FSR1MoY3J0YyksCiAKIAkgICAgVFBfU1RSVUNUX19lbnRyeSgKIAkJ
CSAgICAgX19hcnJheSh1MzIsIGZyYW1lLCAzKQpAQCAtNTksMTQgKzU3LDEzIEBAIFRSQUNFX0VW
RU5UKGludGVsX3BpcGVfZGlzYWJsZSwKIAkJCSAgICAgKSwKIAogCSAgICBUUF9mYXN0X2Fzc2ln
bigKLQkJCSAgIGVudW0gcGlwZSBfcGlwZTsKLQkJCSAgIGZvcl9lYWNoX3BpcGUoZGV2X3ByaXYs
IF9waXBlKSB7Ci0JCQkJICAgX19lbnRyeS0+ZnJhbWVbX3BpcGVdID0KLQkJCQkJICAgZGV2X3By
aXYtPmRybS5kcml2ZXItPmdldF92YmxhbmtfY291bnRlcigmZGV2X3ByaXYtPmRybSwgX3BpcGUp
OwotCQkJCSAgIF9fZW50cnktPnNjYW5saW5lW19waXBlXSA9Ci0JCQkJCSAgIGludGVsX2dldF9j
cnRjX3NjYW5saW5lKGludGVsX2dldF9jcnRjX2Zvcl9waXBlKGRldl9wcml2LCBfcGlwZSkpOwor
CQkJICAgc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2ID0gdG9faTkxNShjcnRjLT5i
YXNlLmRldik7CisJCQkgICBzdHJ1Y3QgaW50ZWxfY3J0YyAqX2NydGM7CisJCQkgICBmb3JfZWFj
aF9pbnRlbF9jcnRjKCZkZXZfcHJpdi0+ZHJtLCBfY3J0YykgeworCQkJCSAgIF9fZW50cnktPmZy
YW1lW19jcnRjLT5waXBlXSA9IGludGVsX2NydGNfZ2V0X3ZibGFua19jb3VudGVyKF9jcnRjKTsK
KwkJCQkgICBfX2VudHJ5LT5zY2FubGluZVtfY3J0Yy0+cGlwZV0gPSBpbnRlbF9nZXRfY3J0Y19z
Y2FubGluZShfY3J0Yyk7CiAJCQkgICB9Ci0JCQkgICBfX2VudHJ5LT5waXBlID0gcGlwZTsKKwkJ
CSAgIF9fZW50cnktPnBpcGUgPSBjcnRjLT5waXBlOwogCQkJICAgKSwKIAogCSAgICBUUF9wcmlu
dGsoInBpcGUgJWMgZGlzYWJsZSwgcGlwZSBBOiBmcmFtZT0ldSwgc2NhbmxpbmU9JXUsIHBpcGUg
QjogZnJhbWU9JXUsIHNjYW5saW5lPSV1LCBwaXBlIEM6IGZyYW1lPSV1LCBzY2FubGluZT0ldSIs
CkBAIC04OSw4ICs4Niw3IEBAIFRSQUNFX0VWRU5UKGludGVsX3BpcGVfY3JjLAogCiAJICAgIFRQ
X2Zhc3RfYXNzaWduKAogCQkJICAgX19lbnRyeS0+cGlwZSA9IGNydGMtPnBpcGU7Ci0JCQkgICBf
X2VudHJ5LT5mcmFtZSA9IGNydGMtPmJhc2UuZGV2LT5kcml2ZXItPmdldF92YmxhbmtfY291bnRl
cihjcnRjLT5iYXNlLmRldiwKLQkJCQkJCQkJCQkgICAgICAgY3J0Yy0+cGlwZSk7CisJCQkgICBf
X2VudHJ5LT5mcmFtZSA9IGludGVsX2NydGNfZ2V0X3ZibGFua19jb3VudGVyKGNydGMpOwogCQkJ
ICAgX19lbnRyeS0+c2NhbmxpbmUgPSBpbnRlbF9nZXRfY3J0Y19zY2FubGluZShjcnRjKTsKIAkJ
CSAgIG1lbWNweShfX2VudHJ5LT5jcmNzLCBjcmNzLCBzaXplb2YoX19lbnRyeS0+Y3JjcykpOwog
CQkJICAgKSwKQEAgLTExMiw5ICsxMDgsMTAgQEAgVFJBQ0VfRVZFTlQoaW50ZWxfY3B1X2ZpZm9f
dW5kZXJydW4sCiAJCQkgICAgICksCiAKIAkgICAgVFBfZmFzdF9hc3NpZ24oCisJCQkgICAgc3Ry
dWN0IGludGVsX2NydGMgKmNydGMgPSBpbnRlbF9nZXRfY3J0Y19mb3JfcGlwZShkZXZfcHJpdiwg
cGlwZSk7CiAJCQkgICBfX2VudHJ5LT5waXBlID0gcGlwZTsKLQkJCSAgIF9fZW50cnktPmZyYW1l
ID0gZGV2X3ByaXYtPmRybS5kcml2ZXItPmdldF92YmxhbmtfY291bnRlcigmZGV2X3ByaXYtPmRy
bSwgcGlwZSk7Ci0JCQkgICBfX2VudHJ5LT5zY2FubGluZSA9IGludGVsX2dldF9jcnRjX3NjYW5s
aW5lKGludGVsX2dldF9jcnRjX2Zvcl9waXBlKGRldl9wcml2LCBwaXBlKSk7CisJCQkgICBfX2Vu
dHJ5LT5mcmFtZSA9IGludGVsX2NydGNfZ2V0X3ZibGFua19jb3VudGVyKGNydGMpOworCQkJICAg
X19lbnRyeS0+c2NhbmxpbmUgPSBpbnRlbF9nZXRfY3J0Y19zY2FubGluZShjcnRjKTsKIAkJCSAg
ICksCiAKIAkgICAgVFBfcHJpbnRrKCJwaXBlICVjLCBmcmFtZT0ldSwgc2NhbmxpbmU9JXUiLApA
QCAtMTM0LDkgKzEzMSwxMCBAQCBUUkFDRV9FVkVOVChpbnRlbF9wY2hfZmlmb191bmRlcnJ1biwK
IAogCSAgICBUUF9mYXN0X2Fzc2lnbigKIAkJCSAgIGVudW0gcGlwZSBwaXBlID0gcGNoX3RyYW5z
Y29kZXI7CisJCQkgICBzdHJ1Y3QgaW50ZWxfY3J0YyAqY3J0YyA9IGludGVsX2dldF9jcnRjX2Zv
cl9waXBlKGRldl9wcml2LCBwaXBlKTsKIAkJCSAgIF9fZW50cnktPnBpcGUgPSBwaXBlOwotCQkJ
ICAgX19lbnRyeS0+ZnJhbWUgPSBkZXZfcHJpdi0+ZHJtLmRyaXZlci0+Z2V0X3ZibGFua19jb3Vu
dGVyKCZkZXZfcHJpdi0+ZHJtLCBwaXBlKTsKLQkJCSAgIF9fZW50cnktPnNjYW5saW5lID0gaW50
ZWxfZ2V0X2NydGNfc2NhbmxpbmUoaW50ZWxfZ2V0X2NydGNfZm9yX3BpcGUoZGV2X3ByaXYsIHBp
cGUpKTsKKwkJCSAgIF9fZW50cnktPmZyYW1lID0gaW50ZWxfY3J0Y19nZXRfdmJsYW5rX2NvdW50
ZXIoY3J0Yyk7CisJCQkgICBfX2VudHJ5LT5zY2FubGluZSA9IGludGVsX2dldF9jcnRjX3NjYW5s
aW5lKGNydGMpOwogCQkJICAgKSwKIAogCSAgICBUUF9wcmludGsoInBjaCB0cmFuc2NvZGVyICVj
LCBmcmFtZT0ldSwgc2NhbmxpbmU9JXUiLApAQCAtMTU2LDEyICsxNTQsMTAgQEAgVFJBQ0VfRVZF
TlQoaW50ZWxfbWVtb3J5X2N4c3IsCiAJCQkgICAgICksCiAKIAkgICAgVFBfZmFzdF9hc3NpZ24o
Ci0JCQkgICBlbnVtIHBpcGUgcGlwZTsKLQkJCSAgIGZvcl9lYWNoX3BpcGUoZGV2X3ByaXYsIHBp
cGUpIHsKLQkJCQkgICBfX2VudHJ5LT5mcmFtZVtwaXBlXSA9Ci0JCQkJCSAgIGRldl9wcml2LT5k
cm0uZHJpdmVyLT5nZXRfdmJsYW5rX2NvdW50ZXIoJmRldl9wcml2LT5kcm0sIHBpcGUpOwotCQkJ
CSAgIF9fZW50cnktPnNjYW5saW5lW3BpcGVdID0KLQkJCQkJICAgaW50ZWxfZ2V0X2NydGNfc2Nh
bmxpbmUoaW50ZWxfZ2V0X2NydGNfZm9yX3BpcGUoZGV2X3ByaXYsIHBpcGUpKTsKKwkJCSAgIHN0
cnVjdCBpbnRlbF9jcnRjICpjcnRjOworCQkJICAgZm9yX2VhY2hfaW50ZWxfY3J0YygmZGV2X3By
aXYtPmRybSwgY3J0YykgeworCQkJCSAgIF9fZW50cnktPmZyYW1lW2NydGMtPnBpcGVdID0gaW50
ZWxfY3J0Y19nZXRfdmJsYW5rX2NvdW50ZXIoY3J0Yyk7CisJCQkJICAgX19lbnRyeS0+c2Nhbmxp
bmVbY3J0Yy0+cGlwZV0gPSBpbnRlbF9nZXRfY3J0Y19zY2FubGluZShjcnRjKTsKIAkJCSAgIH0K
IAkJCSAgIF9fZW50cnktPm9sZCA9IG9sZDsKIAkJCSAgIF9fZW50cnktPm5ldyA9IG5ldzsKQEAg
LTE5OCw4ICsxOTQsNyBAQCBUUkFDRV9FVkVOVChnNHhfd20sCiAKIAkgICAgVFBfZmFzdF9hc3Np
Z24oCiAJCQkgICBfX2VudHJ5LT5waXBlID0gY3J0Yy0+cGlwZTsKLQkJCSAgIF9fZW50cnktPmZy
YW1lID0gY3J0Yy0+YmFzZS5kZXYtPmRyaXZlci0+Z2V0X3ZibGFua19jb3VudGVyKGNydGMtPmJh
c2UuZGV2LAotCQkJCQkJCQkJCSAgICAgICBjcnRjLT5waXBlKTsKKwkJCSAgIF9fZW50cnktPmZy
YW1lID0gaW50ZWxfY3J0Y19nZXRfdmJsYW5rX2NvdW50ZXIoY3J0Yyk7CiAJCQkgICBfX2VudHJ5
LT5zY2FubGluZSA9IGludGVsX2dldF9jcnRjX3NjYW5saW5lKGNydGMpOwogCQkJICAgX19lbnRy
eS0+cHJpbWFyeSA9IHdtLT5waXBlW2NydGMtPnBpcGVdLnBsYW5lW1BMQU5FX1BSSU1BUlldOwog
CQkJICAgX19lbnRyeS0+c3ByaXRlID0gd20tPnBpcGVbY3J0Yy0+cGlwZV0ucGxhbmVbUExBTkVf
U1BSSVRFMF07CkBAIC0yNDMsOCArMjM4LDcgQEAgVFJBQ0VfRVZFTlQodmx2X3dtLAogCiAJICAg
IFRQX2Zhc3RfYXNzaWduKAogCQkJICAgX19lbnRyeS0+cGlwZSA9IGNydGMtPnBpcGU7Ci0JCQkg
ICBfX2VudHJ5LT5mcmFtZSA9IGNydGMtPmJhc2UuZGV2LT5kcml2ZXItPmdldF92YmxhbmtfY291
bnRlcihjcnRjLT5iYXNlLmRldiwKLQkJCQkJCQkJCQkgICAgICAgY3J0Yy0+cGlwZSk7CisJCQkg
ICBfX2VudHJ5LT5mcmFtZSA9IGludGVsX2NydGNfZ2V0X3ZibGFua19jb3VudGVyKGNydGMpOwog
CQkJICAgX19lbnRyeS0+c2NhbmxpbmUgPSBpbnRlbF9nZXRfY3J0Y19zY2FubGluZShjcnRjKTsK
IAkJCSAgIF9fZW50cnktPmxldmVsID0gd20tPmxldmVsOwogCQkJICAgX19lbnRyeS0+Y3hzciA9
IHdtLT5jeHNyOwpAQCAtMjc4LDggKzI3Miw3IEBAIFRSQUNFX0VWRU5UKHZsdl9maWZvX3NpemUs
CiAKIAkgICAgVFBfZmFzdF9hc3NpZ24oCiAJCQkgICBfX2VudHJ5LT5waXBlID0gY3J0Yy0+cGlw
ZTsKLQkJCSAgIF9fZW50cnktPmZyYW1lID0gY3J0Yy0+YmFzZS5kZXYtPmRyaXZlci0+Z2V0X3Zi
bGFua19jb3VudGVyKGNydGMtPmJhc2UuZGV2LAotCQkJCQkJCQkJCSAgICAgICBjcnRjLT5waXBl
KTsKKwkJCSAgIF9fZW50cnktPmZyYW1lID0gaW50ZWxfY3J0Y19nZXRfdmJsYW5rX2NvdW50ZXIo
Y3J0Yyk7CiAJCQkgICBfX2VudHJ5LT5zY2FubGluZSA9IGludGVsX2dldF9jcnRjX3NjYW5saW5l
KGNydGMpOwogCQkJICAgX19lbnRyeS0+c3ByaXRlMF9zdGFydCA9IHNwcml0ZTBfc3RhcnQ7CiAJ
CQkgICBfX2VudHJ5LT5zcHJpdGUxX3N0YXJ0ID0gc3ByaXRlMV9zdGFydDsKQEAgLTMxMCw4ICsz
MDMsNyBAQCBUUkFDRV9FVkVOVChpbnRlbF91cGRhdGVfcGxhbmUsCiAJICAgIFRQX2Zhc3RfYXNz
aWduKAogCQkJICAgX19lbnRyeS0+cGlwZSA9IGNydGMtPnBpcGU7CiAJCQkgICBfX2VudHJ5LT5u
YW1lID0gcGxhbmUtPm5hbWU7Ci0JCQkgICBfX2VudHJ5LT5mcmFtZSA9IGNydGMtPmJhc2UuZGV2
LT5kcml2ZXItPmdldF92YmxhbmtfY291bnRlcihjcnRjLT5iYXNlLmRldiwKLQkJCQkJCQkJCQkg
ICAgICAgY3J0Yy0+cGlwZSk7CisJCQkgICBfX2VudHJ5LT5mcmFtZSA9IGludGVsX2NydGNfZ2V0
X3ZibGFua19jb3VudGVyKGNydGMpOwogCQkJICAgX19lbnRyeS0+c2NhbmxpbmUgPSBpbnRlbF9n
ZXRfY3J0Y19zY2FubGluZShjcnRjKTsKIAkJCSAgIG1lbWNweShfX2VudHJ5LT5zcmMsICZwbGFu
ZS0+c3RhdGUtPnNyYywgc2l6ZW9mKF9fZW50cnktPnNyYykpOwogCQkJICAgbWVtY3B5KF9fZW50
cnktPmRzdCwgJnBsYW5lLT5zdGF0ZS0+ZHN0LCBzaXplb2YoX19lbnRyeS0+ZHN0KSk7CkBAIC0z
MzgsOCArMzMwLDcgQEAgVFJBQ0VfRVZFTlQoaW50ZWxfZGlzYWJsZV9wbGFuZSwKIAkgICAgVFBf
ZmFzdF9hc3NpZ24oCiAJCQkgICBfX2VudHJ5LT5waXBlID0gY3J0Yy0+cGlwZTsKIAkJCSAgIF9f
ZW50cnktPm5hbWUgPSBwbGFuZS0+bmFtZTsKLQkJCSAgIF9fZW50cnktPmZyYW1lID0gY3J0Yy0+
YmFzZS5kZXYtPmRyaXZlci0+Z2V0X3ZibGFua19jb3VudGVyKGNydGMtPmJhc2UuZGV2LAotCQkJ
CQkJCQkJCSAgICAgICBjcnRjLT5waXBlKTsKKwkJCSAgIF9fZW50cnktPmZyYW1lID0gaW50ZWxf
Y3J0Y19nZXRfdmJsYW5rX2NvdW50ZXIoY3J0Yyk7CiAJCQkgICBfX2VudHJ5LT5zY2FubGluZSA9
IGludGVsX2dldF9jcnRjX3NjYW5saW5lKGNydGMpOwogCQkJICAgKSwKIApAQCAtMzY0LDggKzM1
NSw3IEBAIFRSQUNFX0VWRU5UKGk5MTVfcGlwZV91cGRhdGVfc3RhcnQsCiAKIAkgICAgVFBfZmFz
dF9hc3NpZ24oCiAJCQkgICBfX2VudHJ5LT5waXBlID0gY3J0Yy0+cGlwZTsKLQkJCSAgIF9fZW50
cnktPmZyYW1lID0gY3J0Yy0+YmFzZS5kZXYtPmRyaXZlci0+Z2V0X3ZibGFua19jb3VudGVyKGNy
dGMtPmJhc2UuZGV2LAotCQkJCQkJCQkJCSAgICAgICBjcnRjLT5waXBlKTsKKwkJCSAgIF9fZW50
cnktPmZyYW1lID0gaW50ZWxfY3J0Y19nZXRfdmJsYW5rX2NvdW50ZXIoY3J0Yyk7CiAJCQkgICBf
X2VudHJ5LT5zY2FubGluZSA9IGludGVsX2dldF9jcnRjX3NjYW5saW5lKGNydGMpOwogCQkJICAg
X19lbnRyeS0+bWluID0gY3J0Yy0+ZGVidWcubWluX3ZibDsKIAkJCSAgIF9fZW50cnktPm1heCA9
IGNydGMtPmRlYnVnLm1heF92Ymw7Ci0tIAoyLjIxLjAKCl9fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fCkludGVsLWdmeCBtYWlsaW5nIGxpc3QKSW50ZWwtZ2Z4
QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWls
bWFuL2xpc3RpbmZvL2ludGVsLWdmeA==

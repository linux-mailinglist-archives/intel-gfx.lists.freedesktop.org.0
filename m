Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 565C31FA4E
	for <lists+intel-gfx@lfdr.de>; Wed, 15 May 2019 21:05:51 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id B063C891AA;
	Wed, 15 May 2019 19:05:49 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from fireflyinternet.com (mail.fireflyinternet.com [109.228.58.192])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 7DA5D89155;
 Wed, 15 May 2019 19:05:47 +0000 (UTC)
X-Default-Received-SPF: pass (skip=forwardok (res=PASS))
 x-ip-name=78.156.65.138; 
Received: from localhost (unverified [78.156.65.138]) 
 by fireflyinternet.com (Firefly Internet (M1)) with ESMTP (TLS) id
 16568875-1500050 for multiple; Wed, 15 May 2019 20:05:42 +0100
MIME-Version: 1.0
To: Tvrtko Ursulin <tvrtko.ursulin@linux.intel.com>,
 intel-gfx@lists.freedesktop.org
From: Chris Wilson <chris@chris-wilson.co.uk>
In-Reply-To: <434f6c78-7ff3-04f5-096c-461a0409680b@linux.intel.com>
References: <20190508100958.32637-1-chris@chris-wilson.co.uk>
 <20190508100958.32637-5-chris@chris-wilson.co.uk>
 <434f6c78-7ff3-04f5-096c-461a0409680b@linux.intel.com>
Message-ID: <155794714226.32666.10694962642072980885@skylake-alporthouse-com>
User-Agent: alot/0.6
Date: Wed, 15 May 2019 20:05:42 +0100
Subject: Re: [Intel-gfx] [PATCH i-g-t 05/16] i915/gem_ctx_create: Basic
 checks for constructor properties
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: igt-dev@lists.freedesktop.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

UXVvdGluZyBUdnJ0a28gVXJzdWxpbiAoMjAxOS0wNS0xNCAxMToxNToxMikKPiAKPiBPbiAwOC8w
NS8yMDE5IDExOjA5LCBDaHJpcyBXaWxzb24gd3JvdGU6Cj4gPiBDaGVjayB0aGF0IHRoZSBleHRl
bmRlZCBjcmVhdGUgaW50ZXJmYWNlIGFjY2VwdHMgc2V0cGFyYW0uCj4gPiAKPiA+IFNpZ25lZC1v
ZmYtYnk6IENocmlzIFdpbHNvbiA8Y2hyaXNAY2hyaXMtd2lsc29uLmNvLnVrPgo+ID4gLS0tCj4g
PiAgIHRlc3RzL2k5MTUvZ2VtX2N0eF9jcmVhdGUuYyB8IDIyNSArKysrKysrKysrKysrKysrKysr
KysrKysrKysrKysrKysrLS0KPiA+ICAgMSBmaWxlIGNoYW5nZWQsIDIxMyBpbnNlcnRpb25zKCsp
LCAxMiBkZWxldGlvbnMoLSkKPiA+IAo+ID4gZGlmZiAtLWdpdCBhL3Rlc3RzL2k5MTUvZ2VtX2N0
eF9jcmVhdGUuYyBiL3Rlc3RzL2k5MTUvZ2VtX2N0eF9jcmVhdGUuYwo+ID4gaW5kZXggYTY2NDA3
MGRiLi45YjRmZGRiZTcgMTAwNjQ0Cj4gPiAtLS0gYS90ZXN0cy9pOTE1L2dlbV9jdHhfY3JlYXRl
LmMKPiA+ICsrKyBiL3Rlc3RzL2k5MTUvZ2VtX2N0eF9jcmVhdGUuYwo+ID4gQEAgLTMzLDYgKzMz
LDcgQEAKPiA+ICAgI2luY2x1ZGUgPHRpbWUuaD4KPiA+ICAgCj4gPiAgICNpbmNsdWRlICJpZ3Rf
cmFuZC5oIgo+ID4gKyNpbmNsdWRlICJzd19zeW5jLmgiCj4gPiAgIAo+ID4gICAjZGVmaW5lIExP
Q0FMX0k5MTVfRVhFQ19CU0RfU0hJRlQgICAgICAoMTMpCj4gPiAgICNkZWZpbmUgTE9DQUxfSTkx
NV9FWEVDX0JTRF9NQVNLICAgICAgICgzIDw8IExPQ0FMX0k5MTVfRVhFQ19CU0RfU0hJRlQpCj4g
PiBAQCAtNDUsMTIgKzQ2LDMzIEBAIHN0YXRpYyB1bnNpZ25lZCBhbGxfbmVuZ2luZTsKPiA+ICAg
c3RhdGljIHVuc2lnbmVkIHBwZ3R0X2VuZ2luZXNbMTZdOwo+ID4gICBzdGF0aWMgdW5zaWduZWQg
cHBndHRfbmVuZ2luZTsKPiA+ICAgCj4gPiAtc3RhdGljIGludCBfX2dlbV9jb250ZXh0X2NyZWF0
ZV9sb2NhbChpbnQgZmQsIHN0cnVjdCBkcm1faTkxNV9nZW1fY29udGV4dF9jcmVhdGUgKmFyZykK
PiA+ICtzdGF0aWMgaW50IGNyZWF0ZV9pb2N0bChpbnQgZmQsIHN0cnVjdCBkcm1faTkxNV9nZW1f
Y29udGV4dF9jcmVhdGUgKmFyZykKPiA+ICAgewo+ID4gLSAgICAgaW50IHJldCA9IDA7Cj4gPiAt
ICAgICBpZiAoZHJtSW9jdGwoZmQsIERSTV9JT0NUTF9JOTE1X0dFTV9DT05URVhUX0NSRUFURSwg
YXJnKSkKPiA+IC0gICAgICAgICAgICAgcmV0ID0gLWVycm5vOwo+ID4gLSAgICAgcmV0dXJuIHJl
dDsKPiA+ICsgICAgIGludCBlcnI7Cj4gPiArCj4gPiArICAgICBlcnIgPSAwOwo+ID4gKyAgICAg
aWYgKGlndF9pb2N0bChmZCwgRFJNX0lPQ1RMX0k5MTVfR0VNX0NPTlRFWFRfQ1JFQVRFLCBhcmcp
KSB7Cj4gPiArICAgICAgICAgICAgIGVyciA9IC1lcnJubzsKPiA+ICsgICAgICAgICAgICAgaWd0
X2Fzc2VydChlcnIpOwo+ID4gKyAgICAgfQo+ID4gKwo+ID4gKyAgICAgZXJybm8gPSAwOwo+ID4g
KyAgICAgcmV0dXJuIGVycjsKPiA+ICt9Cj4gPiArCj4gPiArc3RhdGljIGludCBjcmVhdGVfZXh0
X2lvY3RsKGludCBpOTE1LAo+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgICBzdHJ1Y3QgZHJt
X2k5MTVfZ2VtX2NvbnRleHRfY3JlYXRlX2V4dCAqYXJnKQo+ID4gK3sKPiA+ICsgICAgIGludCBl
cnI7Cj4gPiArCj4gPiArICAgICBlcnIgPSAwOwo+ID4gKyAgICAgaWYgKGlndF9pb2N0bChpOTE1
LCBEUk1fSU9DVExfSTkxNV9HRU1fQ09OVEVYVF9DUkVBVEVfRVhULCBhcmcpKSB7Cj4gPiArICAg
ICAgICAgICAgIGVyciA9IC1lcnJubzsKPiA+ICsgICAgICAgICAgICAgaWd0X2Fzc3VtZShlcnIp
Owo+ID4gKyAgICAgfQo+ID4gKwo+ID4gKyAgICAgZXJybm8gPSAwOwo+ID4gKyAgICAgcmV0dXJu
IGVycjsKPiA+ICAgfQo+ID4gICAKPiA+ICAgc3RhdGljIGRvdWJsZSBlbGFwc2VkKGNvbnN0IHN0
cnVjdCB0aW1lc3BlYyAqc3RhcnQsCj4gPiBAQCAtMzA4LDYgKzMzMCwxODcgQEAgc3RhdGljIHZv
aWQgbWF4aW11bShpbnQgZmQsIGludCBuY3B1cywgdW5zaWduZWQgbW9kZSkKPiA+ICAgICAgIGZy
ZWUoY29udGV4dHMpOwo+ID4gICB9Cj4gPiAgIAo+ID4gK3N0YXRpYyB2b2lkIGJhc2ljX2V4dF9w
YXJhbShpbnQgaTkxNSkKPiA+ICt7Cj4gPiArICAgICBzdHJ1Y3QgZHJtX2k5MTVfZ2VtX2NvbnRl
eHRfY3JlYXRlX2V4dF9zZXRwYXJhbSBleHQgPSB7Cj4gPiArICAgICAgICAgICAgIHsgLm5hbWUg
PSBJOTE1X0NPTlRFWFRfQ1JFQVRFX0VYVF9TRVRQQVJBTSB9LAo+ID4gKyAgICAgfTsKPiA+ICsg
ICAgIHN0cnVjdCBkcm1faTkxNV9nZW1fY29udGV4dF9jcmVhdGVfZXh0IGNyZWF0ZSA9IHsKPiA+
ICsgICAgICAgICAgICAgLmZsYWdzID0gSTkxNV9DT05URVhUX0NSRUFURV9GTEFHU19VU0VfRVhU
RU5TSU9OUwo+ID4gKyAgICAgfTsKPiA+ICsgICAgIHN0cnVjdCBkcm1faTkxNV9nZW1fY29udGV4
dF9wYXJhbSBnZXQ7Cj4gPiArCj4gPiArICAgICBpZ3RfcmVxdWlyZShjcmVhdGVfZXh0X2lvY3Rs
KGk5MTUsICZjcmVhdGUpID09IDApOwo+ID4gKyAgICAgZ2VtX2NvbnRleHRfZGVzdHJveShpOTE1
LCBjcmVhdGUuY3R4X2lkKTsKPiA+ICsKPiA+ICsgICAgIGNyZWF0ZS5leHRlbnNpb25zID0gLTF1
bGw7Cj4gPiArICAgICBpZ3RfYXNzZXJ0X2VxKGNyZWF0ZV9leHRfaW9jdGwoaTkxNSwgJmNyZWF0
ZSksIC1FRkFVTFQpOwo+ID4gKwo+ID4gKyAgICAgY3JlYXRlLmV4dGVuc2lvbnMgPSB0b191c2Vy
X3BvaW50ZXIoJmV4dCk7Cj4gPiArICAgICBpZ3RfYXNzZXJ0X2VxKGNyZWF0ZV9leHRfaW9jdGwo
aTkxNSwgJmNyZWF0ZSksIC1FSU5WQUwpOwo+ID4gKwo+ID4gKyAgICAgZXh0LnBhcmFtLnBhcmFt
ID0gSTkxNV9DT05URVhUX1BBUkFNX1BSSU9SSVRZOwo+ID4gKyAgICAgaWYgKGNyZWF0ZV9leHRf
aW9jdGwoaTkxNSwgJmNyZWF0ZSkgIT0gLUVOT0RFVikgewo+ID4gKyAgICAgICAgICAgICBnZW1f
Y29udGV4dF9kZXN0cm95KGk5MTUsIGNyZWF0ZS5jdHhfaWQpOwo+ID4gKwo+ID4gKyAgICAgICAg
ICAgICBleHQuYmFzZS5uZXh0X2V4dGVuc2lvbiA9IC0xdWxsOwo+ID4gKyAgICAgICAgICAgICBp
Z3RfYXNzZXJ0X2VxKGNyZWF0ZV9leHRfaW9jdGwoaTkxNSwgJmNyZWF0ZSksIC1FRkFVTFQpOwo+
ID4gKyAgICAgICAgICAgICBleHQuYmFzZS5uZXh0X2V4dGVuc2lvbiA9IHRvX3VzZXJfcG9pbnRl
cigmZXh0KTsKPiA+ICsgICAgICAgICAgICAgaWd0X2Fzc2VydF9lcShjcmVhdGVfZXh0X2lvY3Rs
KGk5MTUsICZjcmVhdGUpLCAtRTJCSUcpOwo+ID4gKyAgICAgICAgICAgICBleHQuYmFzZS5uZXh0
X2V4dGVuc2lvbiA9IDA7Cj4gPiArCj4gPiArICAgICAgICAgICAgIGV4dC5wYXJhbS52YWx1ZSA9
IDMyOwo+ID4gKyAgICAgICAgICAgICBpZ3RfYXNzZXJ0X2VxKGNyZWF0ZV9leHRfaW9jdGwoaTkx
NSwgJmNyZWF0ZSksIDApOwo+ID4gKwo+ID4gKyAgICAgICAgICAgICBtZW1zZXQoJmdldCwgMCwg
c2l6ZW9mKGdldCkpOwo+ID4gKyAgICAgICAgICAgICBnZXQuY3R4X2lkID0gY3JlYXRlLmN0eF9p
ZDsKPiA+ICsgICAgICAgICAgICAgZ2V0LnBhcmFtID0gSTkxNV9DT05URVhUX1BBUkFNX1BSSU9S
SVRZOwo+ID4gKyAgICAgICAgICAgICBnZW1fY29udGV4dF9nZXRfcGFyYW0oaTkxNSwgJmdldCk7
Cj4gPiArICAgICAgICAgICAgIGlndF9hc3NlcnRfZXEoZ2V0LnZhbHVlLCBleHQucGFyYW0udmFs
dWUpOwo+ID4gKwo+ID4gKyAgICAgICAgICAgICBnZW1fY29udGV4dF9kZXN0cm95KGk5MTUsIGNy
ZWF0ZS5jdHhfaWQpOwo+ID4gKyAgICAgfQo+ID4gK30KPiA+ICsKPiA+ICtzdGF0aWMgdm9pZCBj
aGVja19zaW5nbGVfdGltZWxpbmUoaW50IGk5MTUsIHVpbnQzMl90IGN0eCwgaW50IG51bV9lbmdp
bmVzKQo+ID4gK3sKPiA+ICsjZGVmaW5lIFJDU19USU1FU1RBTVAgKDB4MjAwMCArIDB4MzU4KQo+
ID4gKyAgICAgY29uc3QgaW50IGdlbiA9IGludGVsX2dlbihpbnRlbF9nZXRfZHJtX2RldmlkKGk5
MTUpKTsKPiA+ICsgICAgIGNvbnN0IGludCBoYXNfNjRiaXRfcmVsb2MgPSBnZW4gPj0gODsKPiA+
ICsgICAgIHN0cnVjdCBkcm1faTkxNV9nZW1fZXhlY19vYmplY3QyIHJlc3VsdHMgPSB7IC5oYW5k
bGUgPSBnZW1fY3JlYXRlKGk5MTUsIDQwOTYpIH07Cj4gPiArICAgICBjb25zdCB1aW50MzJfdCBi
YmUgPSBNSV9CQVRDSF9CVUZGRVJfRU5EOwo+ID4gKyAgICAgaW50IHRpbWVsaW5lID0gc3dfc3lu
Y190aW1lbGluZV9jcmVhdGUoKTsKPiA+ICsgICAgIHVpbnQzMl90IGxhc3QsICptYXA7Cj4gPiAr
Cj4gPiArICAgICB7Cj4gPiArICAgICAgICAgICAgIHN0cnVjdCBkcm1faTkxNV9nZW1fZXhlY2J1
ZmZlcjIgZXhlY2J1ZiA9IHsKPiA+ICsgICAgICAgICAgICAgICAgICAgICAuYnVmZmVyc19wdHIg
PSB0b191c2VyX3BvaW50ZXIoJnJlc3VsdHMpLAo+ID4gKyAgICAgICAgICAgICAgICAgICAgIC5i
dWZmZXJfY291bnQgPSAxLAo+ID4gKyAgICAgICAgICAgICAgICAgICAgIC5yc3ZkMSA9IGN0eCwK
PiA+ICsgICAgICAgICAgICAgfTsKPiA+ICsgICAgICAgICAgICAgZ2VtX3dyaXRlKGk5MTUsIHJl
c3VsdHMuaGFuZGxlLCAwLCAmYmJlLCBzaXplb2YoYmJlKSk7Cj4gPiArICAgICAgICAgICAgIGdl
bV9leGVjYnVmKGk5MTUsICZleGVjYnVmKTsKPiA+ICsgICAgICAgICAgICAgcmVzdWx0cy5mbGFn
cyA9IEVYRUNfT0JKRUNUX1BJTk5FRDsKPiA+ICsgICAgIH0KPiA+ICsKPiA+ICsgICAgIGZvciAo
aW50IGkgPSAwOyBpIDwgbnVtX2VuZ2luZXM7IGkrKykgewo+ID4gKyAgICAgICAgICAgICBzdHJ1
Y3QgZHJtX2k5MTVfZ2VtX2V4ZWNfb2JqZWN0MiBvYmpbMl0gPSB7Cj4gPiArICAgICAgICAgICAg
ICAgICAgICAgcmVzdWx0cywgLyogd3JpdGUgaGF6YXJkIGxpZXMhICovCj4gPiArICAgICAgICAg
ICAgICAgICAgICAgeyAuaGFuZGxlID0gZ2VtX2NyZWF0ZShpOTE1LCA0MDk2KSB9LAo+ID4gKyAg
ICAgICAgICAgICB9Owo+ID4gKyAgICAgICAgICAgICBzdHJ1Y3QgZHJtX2k5MTVfZ2VtX2V4ZWNi
dWZmZXIyIGV4ZWNidWYgPSB7Cj4gPiArICAgICAgICAgICAgICAgICAgICAgLmJ1ZmZlcnNfcHRy
ID0gdG9fdXNlcl9wb2ludGVyKG9iaiksCj4gPiArICAgICAgICAgICAgICAgICAgICAgLmJ1ZmZl
cl9jb3VudCA9IDIsCj4gPiArICAgICAgICAgICAgICAgICAgICAgLnJzdmQxID0gY3R4LAo+ID4g
KyAgICAgICAgICAgICAgICAgICAgIC5yc3ZkMiA9IHN3X3N5bmNfdGltZWxpbmVfY3JlYXRlX2Zl
bmNlKHRpbWVsaW5lLCBudW1fZW5naW5lcyAtIGkpLAo+ID4gKyAgICAgICAgICAgICAgICAgICAg
IC5mbGFncyA9IGkgfCBJOTE1X0VYRUNfRkVOQ0VfSU4sCj4gPiArICAgICAgICAgICAgIH07Cj4g
PiArICAgICAgICAgICAgIHVpbnQ2NF90IG9mZnNldCA9IHJlc3VsdHMub2Zmc2V0ICsgNCAqIGk7
Cj4gPiArICAgICAgICAgICAgIHVpbnQzMl90ICpjczsKPiA+ICsgICAgICAgICAgICAgaW50IGog
PSAwOwo+ID4gKwo+ID4gKyAgICAgICAgICAgICBjcyA9IGdlbV9tbWFwX19jcHUoaTkxNSwgb2Jq
WzFdLmhhbmRsZSwgMCwgNDA5NiwgUFJPVF9XUklURSk7Cj4gPiArCj4gPiArICAgICAgICAgICAg
IGNzW2pdID0gMHgyNCA8PCAyMyB8IDE7IC8qIFNSTSAqLwo+ID4gKyAgICAgICAgICAgICBpZiAo
aGFzXzY0Yml0X3JlbG9jKQo+ID4gKyAgICAgICAgICAgICAgICAgICAgIGNzW2pdKys7Cj4gPiAr
ICAgICAgICAgICAgIGorKzsKPiA+ICsgICAgICAgICAgICAgY3NbaisrXSA9IFJDU19USU1FU1RB
TVA7Cj4gPiArICAgICAgICAgICAgIGNzW2orK10gPSBvZmZzZXQ7Cj4gPiArICAgICAgICAgICAg
IGlmIChoYXNfNjRiaXRfcmVsb2MpCj4gPiArICAgICAgICAgICAgICAgICAgICAgY3NbaisrXSA9
IG9mZnNldCA+PiAzMjsKPiA+ICsgICAgICAgICAgICAgY3NbaisrXSA9IE1JX0JBVENIX0JVRkZF
Ul9FTkQ7Cj4gPiArCj4gPiArICAgICAgICAgICAgIG11bm1hcChjcywgNDA5Nik7Cj4gPiArCj4g
PiArICAgICAgICAgICAgIGdlbV9leGVjYnVmKGk5MTUsICZleGVjYnVmKTsKPiA+ICsgICAgICAg
ICAgICAgZ2VtX2Nsb3NlKGk5MTUsIG9ialsxXS5oYW5kbGUpOwo+ID4gKyAgICAgICAgICAgICBj
bG9zZShleGVjYnVmLnJzdmQyKTsKPiA+ICsgICAgIH0KPiA+ICsgICAgIGNsb3NlKHRpbWVsaW5l
KTsKPiA+ICsgICAgIGdlbV9zeW5jKGk5MTUsIHJlc3VsdHMuaGFuZGxlKTsKPiA+ICsKPiA+ICsg
ICAgIG1hcCA9IGdlbV9tbWFwX19jcHUoaTkxNSwgcmVzdWx0cy5oYW5kbGUsIDAsIDQwOTYsIFBS
T1RfUkVBRCk7Cj4gPiArICAgICBnZW1fc2V0X2RvbWFpbihpOTE1LCByZXN1bHRzLmhhbmRsZSwg
STkxNV9HRU1fRE9NQUlOX0NQVSwgMCk7Cj4gPiArICAgICBnZW1fY2xvc2UoaTkxNSwgcmVzdWx0
cy5oYW5kbGUpOwo+ID4gKwo+ID4gKyAgICAgbGFzdCA9IG1hcFswXTsKPiA+ICsgICAgIGZvciAo
aW50IGkgPSAxOyBpIDwgbnVtX2VuZ2luZXM7IGkrKykgewo+ID4gKyAgICAgICAgICAgICBpZ3Rf
YXNzZXJ0X2YoKG1hcFtpXSAtIGxhc3QpID4gMCwKPiA+ICsgICAgICAgICAgICAgICAgICAgICAg
ICAgICJFbmdpbmUgaW5zdGFuY2UgWyVkXSBleGVjdXRlZCB0b28gZWFybHk6IHRoaXM6JXgsIGxh
c3Q6JXhcbiIsCj4gPiArICAgICAgICAgICAgICAgICAgICAgICAgICBpLCBtYXBbaV0sIGxhc3Qp
Owo+ID4gKyAgICAgICAgICAgICBsYXN0ID0gbWFwW2ldOwo+ID4gKyAgICAgfQo+IAo+IEhtLi4g
YXJlbid0IHR3byBzdyBmZW5jZXMgKHR3byBzZXFub3MpIGp1c3QgYSBuZWVkbGVzcyBjb21wbGlj
YXRpb24gLSAKPiBzaW5jZSB0aGUgZXhlY3V0aW9uIG9yZGVyIGluIHRoZSBzaW5nbGUgdGltZWxp
bmUgaXMgY29udHJvbGxlZCBieSAKPiBzdWJtaXNzaW9uIG9yZGVyLiBUaGUgc3RhdGVtZW50IGlz
IHRydWUgb25seSB3aGVuIGNvbXBvdW5kZWQgd2l0aCB0aGUgCj4gZmFjdCB0aGF0IHlvdSBzaWdu
YWwgYm90aCBmZW5jZXMgYXQgdGhlIHNhbWUgdGltZS4gSSBhbSB0aGlua2luZyB0aGF0IGlmIAo+
IGl0IHdhc24ndCBhIHNpbmdsZSB0aW1lbGluZSBjb250ZXh0IHdoYXQgd291bGQgaGFwcGVuLiBG
ZW5jZXMgd291bGQgYmUgCj4gc2lnbmFsZWQgaW4gb3JkZXIsIGJ1dCBleGVjdXRpb24gZG9lcyBu
b3QgaGF2ZSB0byBoYXBwZW4gaW4gb3JkZXIuIFRoYXQgCj4gaXQgZG9lcyBpcyBhIHByb3BlcnR5
IG9mIHNpbmdsZSB0aW1lbGluZSBhbmQgbm90IGZlbmNlIG9yZGVyaW5nLiBTbyB0d28gCj4gaW5w
dXQgZmVuY2VzIHdpdGggdHdvIHNlcW5vcyBpcyBtaXNsZWFkaW5nLiBTaW5nbGUgcGx1ZyB3b3Vs
ZCBkbyBJIHRoaW5rCgpCdXQgdGhhdCB3b3VsZCBub3QgZGV0ZWN0IHRoZSBjYXNlIHdoZW4gaXQg
d2FzIG11bHRpcGxlIHRpbWVsaW5lcy4uLgogCj4gT3IgeW91IGFyZSB0aGlua2luZyB0byBudWRn
ZSB0aGUgZHJpdmVyIHRvIGRvIHRoZSByaWdodCB0aGluZz8gQnV0IGluIAo+IHRoYXQgY2FzZSBJ
IHRoaW5rIHlvdSdkIG5lZWQgdG8gbWFudWFsbHkgYWR2YW5jZSB0aGUgZmlyc3Qgc2Vxbm8gKDJu
ZCAKPiBiYXRjaCkgZmlyc3QgYW5kIHdhaXQgYSBiaXQgdG8gY2hlY2sgaXQgaGFzbid0IGJlZW4g
ZXhlY3V0ZS4gVGhlbiBzaWduYWwgCj4gdGhlIHNlY29uZCBzZXFubyAoZmlyc3QgYmF0Y2gpIGFu
ZCBydW4gdGhlIGFib3ZlIGNoZWNrIHRvIHNlZSB0aGV5IGhhdmUgCj4gYmVlbiBleGVjdXRlZCBp
biBvcmRlci4KClRoZSBjaGFsbGVuZ2UgaXMgdGhhdCB3ZSBkZXRlY3QgaWYgdGhlIGRyaXZlciB1
c2VzIDIgdGltZWxpbmVzIGluc3RlYWQKb2Ygb25lLiBTbyB0aGF0IGlzIHdoYXQgd2Ugc2V0dXAg
dG8gZGV0ZWN0LgoKPiA+ICsgICAgIG11bm1hcChtYXAsIDQwOTYpOwo+ID4gK30KPiA+ICsKPiA+
ICtzdGF0aWMgdm9pZCBpcmlzX3BpcGVsaW5lKGludCBpOTE1KQo+ID4gK3sKPiA+ICsjaWZkZWYg
STkxNV9ERUZJTkVfQ09OVEVYVF9QQVJBTV9FTkdJTkVTCj4gCj4gUmVtb3ZlIHRoaXMgSSBleHBl
Y3Q/CgpEZXBlbmRzIG9uIGxhdGVyIGhlYWRlci4gRWFybHkgcGxhbiB3YXMgdG8gaGF2ZSB0aGUg
Yml0cyBhbmQgcGllY2VzCmFkZGVkIHBpZWNlbWVhbCwgYnV0IHRoZW4gSSBkZWNpZGVkIHRvIGFk
ZCBhIGZ1bGwgZmVhdHVyZSB0ZXN0LgoKPiA+ICsjZGVmaW5lIFJDUzAgezAsIDB9Cj4gPiArICAg
ICBJOTE1X0RFRklORV9DT05URVhUX1BBUkFNX0VOR0lORVMoZW5naW5lcywgMikgPSB7Cj4gPiAr
ICAgICAgICAgICAgIC5lbmdpbmVzID0geyBSQ1MwLCBSQ1MwIH0KPiA+ICsgICAgIH07Cj4gPiAr
ICAgICBzdHJ1Y3QgZHJtX2k5MTVfZ2VtX2NvbnRleHRfY3JlYXRlX2V4dF9zZXRwYXJhbSBwX2Vu
Z2luZXMgPSB7Cj4gPiArICAgICAgICAgICAgIC5iYXNlID0gewo+ID4gKyAgICAgICAgICAgICAg
ICAgICAgIC5uYW1lID0gSTkxNV9DT05URVhUX0NSRUFURV9FWFRfU0VUUEFSQU0sCj4gPiArICAg
ICAgICAgICAgICAgICAgICAgLm5leHRfZXh0ZW5zaW9uID0gMCwgLyogZW5kIG9mIGNoYWluICov
Cj4gPiArICAgICAgICAgICAgIH0sCj4gPiArICAgICAgICAgICAgIC5wYXJhbSA9IHsKPiA+ICsg
ICAgICAgICAgICAgICAgICAgICAucGFyYW0gPSBJOTE1X0NPTlRFWFRfUEFSQU1fRU5HSU5FUywK
PiA+ICsgICAgICAgICAgICAgICAgICAgICAudmFsdWUgPSB0b191c2VyX3BvaW50ZXIoJmVuZ2lu
ZXMpLAo+ID4gKyAgICAgICAgICAgICAgICAgICAgIC5zaXplID0gc2l6ZW9mKGVuZ2luZXMpLAo+
ID4gKyAgICAgICAgICAgICB9LAo+ID4gKyAgICAgfTsKPiA+ICsgICAgIHN0cnVjdCBkcm1faTkx
NV9nZW1fY29udGV4dF9jcmVhdGVfZXh0X3NldHBhcmFtIHBfcmVjb3ZlciA9IHsKPiA+ICsgICAg
ICAgICAgICAgLmJhc2UgPSB7Cj4gPiArICAgICAgICAgICAgICAgICAgICAgLm5hbWUgPUk5MTVf
Q09OVEVYVF9DUkVBVEVfRVhUX1NFVFBBUkFNLAo+ID4gKyAgICAgICAgICAgICAgICAgICAgIC5u
ZXh0X2V4dGVuc2lvbiA9IHRvX3VzZXJfcG9pbnRlcigmcF9lbmdpbmVzKSwKPiA+ICsgICAgICAg
ICAgICAgfSwKPiA+ICsgICAgICAgICAgICAgLnBhcmFtID0gewo+ID4gKyAgICAgICAgICAgICAg
ICAgICAgIC5wYXJhbSA9IEk5MTVfQ09OVEVYVF9QQVJBTV9SRUNPVkVSQUJMRSwKPiA+ICsgICAg
ICAgICAgICAgICAgICAgICAudmFsdWUgPSAwLAo+ID4gKyAgICAgICAgICAgICB9LAo+ID4gKyAg
ICAgfTsKPiA+ICsgICAgIHN0cnVjdCBkcm1faTkxNV9nZW1fY29udGV4dF9jcmVhdGVfZXh0X3Nl
dHBhcmFtIHBfcHJpbyA9IHsKPiA+ICsgICAgICAgICAgICAgLmJhc2UgPSB7Cj4gPiArICAgICAg
ICAgICAgICAgICAgICAgLm5hbWUgPUk5MTVfQ09OVEVYVF9DUkVBVEVfRVhUX1NFVFBBUkFNLAo+
ID4gKyAgICAgICAgICAgICAgICAgICAgIC5uZXh0X2V4dGVuc2lvbiA9IHRvX3VzZXJfcG9pbnRl
cigmcF9yZWNvdmVyKSwKPiA+ICsgICAgICAgICAgICAgfSwKPiA+ICsgICAgICAgICAgICAgLnBh
cmFtID0gewo+ID4gKyAgICAgICAgICAgICAgICAgICAgIC5wYXJhbSA9IEk5MTVfQ09OVEVYVF9Q
QVJBTV9QUklPUklUWSwKPiA+ICsgICAgICAgICAgICAgICAgICAgICAudmFsdWUgPSA3NjgsCj4g
PiArICAgICAgICAgICAgIH0sCj4gPiArICAgICB9Owo+ID4gKyAgICAgc3RydWN0IGRybV9pOTE1
X2dlbV9jb250ZXh0X2NyZWF0ZV9leHQgY3JlYXRlID0gewo+ID4gKyAgICAgICAgICAgICAuZmxh
Z3MgPSAoSTkxNV9DT05URVhUX0NSRUFURV9GTEFHU19TSU5HTEVfVElNRUxJTkUgfAo+ID4gKyAg
ICAgICAgICAgICAgICAgICAgICAgSTkxNV9DT05URVhUX0NSRUFURV9GTEFHU19VU0VfRVhURU5T
SU9OUyksCj4gPiArICAgICB9Owo+ID4gKyAgICAgc3RydWN0IGRybV9pOTE1X2dlbV9jb250ZXh0
X3BhcmFtIGdldDsKPiA+ICsKPiA+ICsgICAgIGlndF9yZXF1aXJlKGNyZWF0ZV9leHRfaW9jdGwo
aTkxNSwgJmNyZWF0ZSkgPT0gMCk7Cj4gCj4gQ29udGV4dCBkZXN0cm95IGhlcmUgSSB0aGluay4K
PiAKPiA+ICsKPiA+ICsgICAgIGNyZWF0ZS5leHRlbnNpb25zID0gdG9fdXNlcl9wb2ludGVyKCZw
X3ByaW8pOwo+ID4gKyAgICAgaWd0X2Fzc2VydF9lcShjcmVhdGVfZXh0X2lvY3RsKGk5MTUsICZj
cmVhdGUpLCAwKTsKPiA+ICsKPiA+ICsgICAgIG1lbXNldCgmZ2V0LCAwLCBzaXplb2YoZ2V0KSk7
Cj4gPiArICAgICBnZXQuY3R4X2lkID0gY3JlYXRlLmN0eF9pZDsKPiA+ICsgICAgIGdldC5wYXJh
bSA9IEk5MTVfQ09OVEVYVF9QQVJBTV9QUklPUklUWTsKPiA+ICsgICAgIGdlbV9jb250ZXh0X2dl
dF9wYXJhbShpOTE1LCAmZ2V0KTsKPiA+ICsgICAgIGlndF9hc3NlcnRfZXEoZ2V0LnZhbHVlLCBw
X3ByaW8ucGFyYW0udmFsdWUpOwo+ID4gKwo+ID4gKyAgICAgbWVtc2V0KCZnZXQsIDAsIHNpemVv
ZihnZXQpKTsKPiA+ICsgICAgIGdldC5jdHhfaWQgPSBjcmVhdGUuY3R4X2lkOwo+ID4gKyAgICAg
Z2V0LnBhcmFtID0gSTkxNV9DT05URVhUX1BBUkFNX1JFQ09WRVJBQkxFOwo+ID4gKyAgICAgZ2Vt
X2NvbnRleHRfZ2V0X3BhcmFtKGk5MTUsICZnZXQpOwo+ID4gKyAgICAgaWd0X2Fzc2VydF9lcShn
ZXQudmFsdWUsIDApOwo+ID4gKwo+ID4gKyAgICAgY2hlY2tfc2luZ2xlX3RpbWVsaW5lKGk5MTUs
IGNyZWF0ZS5jdHhfaWQsIDIpOwo+ID4gKwo+ID4gKyAgICAgZ2VtX2NvbnRleHRfZGVzdHJveShp
OTE1LCBjcmVhdGUuY3R4X2lkKTsKPiA+ICsjZW5kaWYgLyogSTkxNV9ERUZJTkVfQ09OVEVYVF9Q
QVJBTV9FTkdJTkVTICovCj4gPiArfQo+ID4gKwo+ID4gICBpZ3RfbWFpbgo+ID4gICB7Cj4gPiAg
ICAgICBjb25zdCBpbnQgbmNwdXMgPSBzeXNjb25mKF9TQ19OUFJPQ0VTU09SU19PTkxOKTsKPiA+
IEBAIC0zNDAsMTcgKzU0MywxNSBAQCBpZ3RfbWFpbgo+ID4gICAgICAgICAgICAgICBtZW1zZXQo
JmNyZWF0ZSwgMCwgc2l6ZW9mKGNyZWF0ZSkpOwo+ID4gICAgICAgICAgICAgICBjcmVhdGUuY3R4
X2lkID0gcmFuZCgpOwo+ID4gICAgICAgICAgICAgICBjcmVhdGUucGFkID0gMDsKPiA+IC0gICAg
ICAgICAgICAgaWd0X2Fzc2VydF9lcShfX2dlbV9jb250ZXh0X2NyZWF0ZV9sb2NhbChmZCwgJmNy
ZWF0ZSksIDApOwo+ID4gKyAgICAgICAgICAgICBpZ3RfYXNzZXJ0X2VxKGNyZWF0ZV9pb2N0bChm
ZCwgJmNyZWF0ZSksIDApOwo+ID4gICAgICAgICAgICAgICBpZ3RfYXNzZXJ0KGNyZWF0ZS5jdHhf
aWQgIT0gMCk7Cj4gPiAgICAgICAgICAgICAgIGdlbV9jb250ZXh0X2Rlc3Ryb3koZmQsIGNyZWF0
ZS5jdHhfaWQpOwo+ID4gICAgICAgfQo+ID4gICAKPiA+IC0gICAgIGlndF9zdWJ0ZXN0KCJpbnZh
bGlkLXBhZCIpIHsKPiA+IC0gICAgICAgICAgICAgbWVtc2V0KCZjcmVhdGUsIDAsIHNpemVvZihj
cmVhdGUpKTsKPiA+IC0gICAgICAgICAgICAgY3JlYXRlLmN0eF9pZCA9IHJhbmQoKTsKPiA+IC0g
ICAgICAgICAgICAgY3JlYXRlLnBhZCA9IDE7Cj4gPiAtICAgICAgICAgICAgIGlndF9hc3NlcnRf
ZXEoX19nZW1fY29udGV4dF9jcmVhdGVfbG9jYWwoZmQsICZjcmVhdGUpLCAtRUlOVkFMKTsKPiA+
IC0gICAgIH0KPiA+ICsgICAgIGlndF9zdWJ0ZXN0KCJleHQtcGFyYW0iKQo+ID4gKyAgICAgICAg
ICAgICBiYXNpY19leHRfcGFyYW0oZmQpOwo+IAo+IGJhc2ljLWV4dC1wYXJhbT8gRG8gd2UgZXZl
biByZWx5IG9uIGJhc2ljIHByZWZpeCB0aGVzZSBkYXlzPwoKYmFzaWMgdGVzdCBwcmVmaXggaXMg
ZGVhZC4KLUNocmlzCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fCkludGVsLWdmeCBtYWlsaW5nIGxpc3QKSW50ZWwtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9y
ZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2ludGVsLWdm
eA==

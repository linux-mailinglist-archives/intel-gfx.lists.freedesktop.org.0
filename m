Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 24EFCBEF3B
	for <lists+intel-gfx@lfdr.de>; Thu, 26 Sep 2019 12:06:55 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 500926ED60;
	Thu, 26 Sep 2019 10:06:53 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga11.intel.com (mga11.intel.com [192.55.52.93])
 by gabe.freedesktop.org (Postfix) with ESMTPS id B03366ED60
 for <intel-gfx@lists.freedesktop.org>; Thu, 26 Sep 2019 10:06:51 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from fmsmga001.fm.intel.com ([10.253.24.23])
 by fmsmga102.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 26 Sep 2019 03:06:51 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.64,551,1559545200"; d="scan'208";a="203825613"
Received: from irsmsx102.ger.corp.intel.com ([163.33.3.155])
 by fmsmga001.fm.intel.com with ESMTP; 26 Sep 2019 03:06:50 -0700
Received: from localhost (172.28.172.64) by IRSMSX102.ger.corp.intel.com
 (163.33.3.155) with Microsoft SMTP Server (TLS) id 14.3.439.0; Thu, 26 Sep
 2019 11:06:49 +0100
From: =?UTF-8?q?Micha=C5=82=20Winiarski?= <michal.winiarski@intel.com>
To: <intel-gfx@lists.freedesktop.org>
Date: Thu, 26 Sep 2019 12:06:31 +0200
Message-ID: <20190926100635.9416-2-michal.winiarski@intel.com>
X-Mailer: git-send-email 2.21.0
In-Reply-To: <20190926100635.9416-1-michal.winiarski@intel.com>
References: <20190926100635.9416-1-michal.winiarski@intel.com>
MIME-Version: 1.0
X-Originating-IP: [172.28.172.64]
Subject: [Intel-gfx] [PATCH 2/6] drm/i915/execlists: Use per-process HWSP as
 scratch
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

U29tZSBvZiBvdXIgY29tbWFuZHMgKE1JX0ZMVVNIX0RXIC8gUElQRV9DT05UUk9MKSByZXF1aXJl
IGEgcG9zdC1zeW5jIHdyaXRlCm9wZXJhdGlvbiB0byBiZSBwZXJmb3JtZWQuIEN1cnJlbnRseSB3
ZSdyZSB1c2luZyBkZWRpY2F0ZWQgVk1BIGZvcgpQSVBFX0NPTlRST0wgYW5kIGdsb2JhbCBIV1NQ
IGZvciBNSV9GTFVTSF9EVy4KT24gZXhlY2xpc3RzIHBsYXRmb3JtcywgZWFjaCBvZiBvdXIgY29u
dGV4dHMgaGFzIGFuIGFyZWEgdGhhdCBjYW4gYmUKdXNlZCBhcyBzY3JhdGNoIHNwYWNlLiBMZXQn
cyB1c2UgdGhhdCBpbnN0ZWFkLgoKU2lnbmVkLW9mZi1ieTogTWljaGHFgiBXaW5pYXJza2kgPG1p
Y2hhbC53aW5pYXJza2lAaW50ZWwuY29tPgpDYzogQ2hyaXMgV2lsc29uIDxjaHJpc0BjaHJpcy13
aWxzb24uY28udWs+CkNjOiBEYW5pZWxlIENlcmFvbG8gU3B1cmlvIDxkYW5pZWxlLmNlcmFvbG9z
cHVyaW9AaW50ZWwuY29tPgotLS0KIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2d0X3R5
cGVzLmggfCAgMyAtLQogZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfbHJjLmMgICAgICB8
IDQ1ICsrKysrKystLS0tLS0tLS0tLS0tLS0tLQogZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50
ZWxfbHJjLmggICAgICB8ICA0ICsrKwogMyBmaWxlcyBjaGFuZ2VkLCAxNyBpbnNlcnRpb25zKCsp
LCAzNSBkZWxldGlvbnMoLSkKCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9p
bnRlbF9ndF90eXBlcy5oIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZ3RfdHlwZXMu
aAppbmRleCAzMDM5Y2VmNjRiMTEuLmU2NGRiNGMxM2RmNiAxMDA2NDQKLS0tIGEvZHJpdmVycy9n
cHUvZHJtL2k5MTUvZ3QvaW50ZWxfZ3RfdHlwZXMuaAorKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkx
NS9ndC9pbnRlbF9ndF90eXBlcy5oCkBAIC04OSw5ICs4OSw2IEBAIGVudW0gaW50ZWxfZ3Rfc2Ny
YXRjaF9maWVsZCB7CiAJLyogOCBieXRlcyAqLwogCUlOVEVMX0dUX1NDUkFUQ0hfRklFTERfREVG
QVVMVCA9IDAsCiAKLQkvKiA4IGJ5dGVzICovCi0JSU5URUxfR1RfU0NSQVRDSF9GSUVMRF9DTEVB
Ul9TTE1fV0EgPSAxMjgsCi0KIAkvKiA4IGJ5dGVzICovCiAJSU5URUxfR1RfU0NSQVRDSF9GSUVM
RF9SRU5ERVJfRkxVU0ggPSAxMjgsCiAKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1
L2d0L2ludGVsX2xyYy5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfbHJjLmMKaW5k
ZXggYWI3MjVhNmNhMGFjLi5mYTM4NTIxOGNlOTIgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2d0L2ludGVsX2xyYy5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVs
X2xyYy5jCkBAIC0yMzA4LDEyICsyMzA4LDYgQEAgZ2VuOF9lbWl0X2ZsdXNoX2NvaGVyZW50bDNf
d2Eoc3RydWN0IGludGVsX2VuZ2luZV9jcyAqZW5naW5lLCB1MzIgKmJhdGNoKQogCXJldHVybiBi
YXRjaDsKIH0KIAotc3RhdGljIHUzMiBzbG1fb2Zmc2V0KHN0cnVjdCBpbnRlbF9lbmdpbmVfY3Mg
KmVuZ2luZSkKLXsKLQlyZXR1cm4gaW50ZWxfZ3Rfc2NyYXRjaF9vZmZzZXQoZW5naW5lLT5ndCwK
LQkJCQkgICAgICAgSU5URUxfR1RfU0NSQVRDSF9GSUVMRF9DTEVBUl9TTE1fV0EpOwotfQotCiAv
KgogICogVHlwaWNhbGx5IHdlIG9ubHkgaGF2ZSBvbmUgaW5kaXJlY3RfY3R4IGFuZCBwZXJfY3R4
IGJhdGNoIGJ1ZmZlciB3aGljaCBhcmUKICAqIGluaXRpYWxpemVkIGF0IHRoZSBiZWdpbm5pbmcg
YW5kIHNoYXJlZCBhY3Jvc3MgYWxsIGNvbnRleHRzIGJ1dCB0aGlzIGZpZWxkCkBAIC0yMzQyLDEw
ICsyMzM2LDEwIEBAIHN0YXRpYyB1MzIgKmdlbjhfaW5pdF9pbmRpcmVjdGN0eF9iYihzdHJ1Y3Qg
aW50ZWxfZW5naW5lX2NzICplbmdpbmUsIHUzMiAqYmF0Y2gpCiAJLyogQWN0dWFsIHNjcmF0Y2gg
bG9jYXRpb24gaXMgYXQgMTI4IGJ5dGVzIG9mZnNldCAqLwogCWJhdGNoID0gZ2VuOF9lbWl0X3Bp
cGVfY29udHJvbChiYXRjaCwKIAkJCQkgICAgICAgUElQRV9DT05UUk9MX0ZMVVNIX0wzIHwKLQkJ
CQkgICAgICAgUElQRV9DT05UUk9MX0dMT0JBTF9HVFRfSVZCIHwKKwkJCQkgICAgICAgUElQRV9D
T05UUk9MX1NUT1JFX0RBVEFfSU5ERVggfAogCQkJCSAgICAgICBQSVBFX0NPTlRST0xfQ1NfU1RB
TEwgfAogCQkJCSAgICAgICBQSVBFX0NPTlRST0xfUVdfV1JJVEUsCi0JCQkJICAgICAgIHNsbV9v
ZmZzZXQoZW5naW5lKSk7CisJCQkJICAgICAgIExSQ19QUEhXU1BfU0NSQVRDSF9BRERSKTsKIAog
CSpiYXRjaCsrID0gTUlfQVJCX09OX09GRiB8IE1JX0FSQl9FTkFCTEU7CiAKQEAgLTMwNTIsNyAr
MzA0Niw3IEBAIHN0YXRpYyBpbnQgZ2VuOF9lbWl0X2ZsdXNoKHN0cnVjdCBpOTE1X3JlcXVlc3Qg
KnJlcXVlc3QsIHUzMiBtb2RlKQogCX0KIAogCSpjcysrID0gY21kOwotCSpjcysrID0gSTkxNV9H
RU1fSFdTX1NDUkFUQ0hfQUREUiB8IE1JX0ZMVVNIX0RXX1VTRV9HVFQ7CisJKmNzKysgPSBMUkNf
UFBIV1NQX1NDUkFUQ0hfQUREUjsKIAkqY3MrKyA9IDA7IC8qIHVwcGVyIGFkZHIgKi8KIAkqY3Mr
KyA9IDA7IC8qIHZhbHVlICovCiAJaW50ZWxfcmluZ19hZHZhbmNlKHJlcXVlc3QsIGNzKTsKQEAg
LTMwNjMsMTAgKzMwNTcsNiBAQCBzdGF0aWMgaW50IGdlbjhfZW1pdF9mbHVzaChzdHJ1Y3QgaTkx
NV9yZXF1ZXN0ICpyZXF1ZXN0LCB1MzIgbW9kZSkKIHN0YXRpYyBpbnQgZ2VuOF9lbWl0X2ZsdXNo
X3JlbmRlcihzdHJ1Y3QgaTkxNV9yZXF1ZXN0ICpyZXF1ZXN0LAogCQkJCSAgdTMyIG1vZGUpCiB7
Ci0Jc3RydWN0IGludGVsX2VuZ2luZV9jcyAqZW5naW5lID0gcmVxdWVzdC0+ZW5naW5lOwotCXUz
MiBzY3JhdGNoX2FkZHIgPQotCQlpbnRlbF9ndF9zY3JhdGNoX29mZnNldChlbmdpbmUtPmd0LAot
CQkJCQlJTlRFTF9HVF9TQ1JBVENIX0ZJRUxEX1JFTkRFUl9GTFVTSCk7CiAJYm9vbCB2Zl9mbHVz
aF93YSA9IGZhbHNlLCBkY19mbHVzaF93YSA9IGZhbHNlOwogCXUzMiAqY3MsIGZsYWdzID0gMDsK
IAlpbnQgbGVuOwpAQCAtMzA4OCw3ICszMDc4LDcgQEAgc3RhdGljIGludCBnZW44X2VtaXRfZmx1
c2hfcmVuZGVyKHN0cnVjdCBpOTE1X3JlcXVlc3QgKnJlcXVlc3QsCiAJCWZsYWdzIHw9IFBJUEVf
Q09OVFJPTF9DT05TVF9DQUNIRV9JTlZBTElEQVRFOwogCQlmbGFncyB8PSBQSVBFX0NPTlRST0xf
U1RBVEVfQ0FDSEVfSU5WQUxJREFURTsKIAkJZmxhZ3MgfD0gUElQRV9DT05UUk9MX1FXX1dSSVRF
OwotCQlmbGFncyB8PSBQSVBFX0NPTlRST0xfR0xPQkFMX0dUVF9JVkI7CisJCWZsYWdzIHw9IFBJ
UEVfQ09OVFJPTF9TVE9SRV9EQVRBX0lOREVYOwogCiAJCS8qCiAJCSAqIE9uIEdFTjk6IGJlZm9y
ZSBWRl9DQUNIRV9JTlZBTElEQVRFIHdlIG5lZWQgdG8gZW1pdCBhIE5VTEwKQEAgLTMxMjEsNyAr
MzExMSw3IEBAIHN0YXRpYyBpbnQgZ2VuOF9lbWl0X2ZsdXNoX3JlbmRlcihzdHJ1Y3QgaTkxNV9y
ZXF1ZXN0ICpyZXF1ZXN0LAogCQljcyA9IGdlbjhfZW1pdF9waXBlX2NvbnRyb2woY3MsIFBJUEVf
Q09OVFJPTF9EQ19GTFVTSF9FTkFCTEUsCiAJCQkJCSAgICAwKTsKIAotCWNzID0gZ2VuOF9lbWl0
X3BpcGVfY29udHJvbChjcywgZmxhZ3MsIHNjcmF0Y2hfYWRkcik7CisJY3MgPSBnZW44X2VtaXRf
cGlwZV9jb250cm9sKGNzLCBmbGFncywgTFJDX1BQSFdTUF9TQ1JBVENIX0FERFIpOwogCiAJaWYg
KGRjX2ZsdXNoX3dhKQogCQljcyA9IGdlbjhfZW1pdF9waXBlX2NvbnRyb2woY3MsIFBJUEVfQ09O
VFJPTF9DU19TVEFMTCwgMCk7CkBAIC0zMTM0LDExICszMTI0LDYgQEAgc3RhdGljIGludCBnZW44
X2VtaXRfZmx1c2hfcmVuZGVyKHN0cnVjdCBpOTE1X3JlcXVlc3QgKnJlcXVlc3QsCiBzdGF0aWMg
aW50IGdlbjExX2VtaXRfZmx1c2hfcmVuZGVyKHN0cnVjdCBpOTE1X3JlcXVlc3QgKnJlcXVlc3Qs
CiAJCQkJICAgdTMyIG1vZGUpCiB7Ci0Jc3RydWN0IGludGVsX2VuZ2luZV9jcyAqZW5naW5lID0g
cmVxdWVzdC0+ZW5naW5lOwotCWNvbnN0IHUzMiBzY3JhdGNoX2FkZHIgPQotCQlpbnRlbF9ndF9z
Y3JhdGNoX29mZnNldChlbmdpbmUtPmd0LAotCQkJCQlJTlRFTF9HVF9TQ1JBVENIX0ZJRUxEX1JF
TkRFUl9GTFVTSCk7Ci0KIAlpZiAobW9kZSAmIEVNSVRfRkxVU0gpIHsKIAkJdTMyICpjczsKIAkJ
dTMyIGZsYWdzID0gMDsKQEAgLTMxNTEsMTMgKzMxMzYsMTMgQEAgc3RhdGljIGludCBnZW4xMV9l
bWl0X2ZsdXNoX3JlbmRlcihzdHJ1Y3QgaTkxNV9yZXF1ZXN0ICpyZXF1ZXN0LAogCQlmbGFncyB8
PSBQSVBFX0NPTlRST0xfRENfRkxVU0hfRU5BQkxFOwogCQlmbGFncyB8PSBQSVBFX0NPTlRST0xf
RkxVU0hfRU5BQkxFOwogCQlmbGFncyB8PSBQSVBFX0NPTlRST0xfUVdfV1JJVEU7Ci0JCWZsYWdz
IHw9IFBJUEVfQ09OVFJPTF9HTE9CQUxfR1RUX0lWQjsKKwkJZmxhZ3MgfD0gUElQRV9DT05UUk9M
X1NUT1JFX0RBVEFfSU5ERVg7CiAKIAkJY3MgPSBpbnRlbF9yaW5nX2JlZ2luKHJlcXVlc3QsIDYp
OwogCQlpZiAoSVNfRVJSKGNzKSkKIAkJCXJldHVybiBQVFJfRVJSKGNzKTsKIAotCQljcyA9IGdl
bjhfZW1pdF9waXBlX2NvbnRyb2woY3MsIGZsYWdzLCBzY3JhdGNoX2FkZHIpOworCQljcyA9IGdl
bjhfZW1pdF9waXBlX2NvbnRyb2woY3MsIGZsYWdzLCBMUkNfUFBIV1NQX1NDUkFUQ0hfQUREUik7
CiAJCWludGVsX3JpbmdfYWR2YW5jZShyZXF1ZXN0LCBjcyk7CiAJfQogCkBAIC0zMTc1LDEzICsz
MTYwLDEzIEBAIHN0YXRpYyBpbnQgZ2VuMTFfZW1pdF9mbHVzaF9yZW5kZXIoc3RydWN0IGk5MTVf
cmVxdWVzdCAqcmVxdWVzdCwKIAkJZmxhZ3MgfD0gUElQRV9DT05UUk9MX0NPTlNUX0NBQ0hFX0lO
VkFMSURBVEU7CiAJCWZsYWdzIHw9IFBJUEVfQ09OVFJPTF9TVEFURV9DQUNIRV9JTlZBTElEQVRF
OwogCQlmbGFncyB8PSBQSVBFX0NPTlRST0xfUVdfV1JJVEU7Ci0JCWZsYWdzIHw9IFBJUEVfQ09O
VFJPTF9HTE9CQUxfR1RUX0lWQjsKKwkJZmxhZ3MgfD0gUElQRV9DT05UUk9MX1NUT1JFX0RBVEFf
SU5ERVg7CiAKIAkJY3MgPSBpbnRlbF9yaW5nX2JlZ2luKHJlcXVlc3QsIDYpOwogCQlpZiAoSVNf
RVJSKGNzKSkKIAkJCXJldHVybiBQVFJfRVJSKGNzKTsKIAotCQljcyA9IGdlbjhfZW1pdF9waXBl
X2NvbnRyb2woY3MsIGZsYWdzLCBzY3JhdGNoX2FkZHIpOworCQljcyA9IGdlbjhfZW1pdF9waXBl
X2NvbnRyb2woY3MsIGZsYWdzLCBMUkNfUFBIV1NQX1NDUkFUQ0hfQUREUik7CiAJCWludGVsX3Jp
bmdfYWR2YW5jZShyZXF1ZXN0LCBjcyk7CiAJfQogCkBAIC0zMTk2LDEwICszMTgxLDYgQEAgc3Rh
dGljIHUzMiBwcmVwYXJzZXJfZGlzYWJsZShib29sIHN0YXRlKQogc3RhdGljIGludCBnZW4xMl9l
bWl0X2ZsdXNoX3JlbmRlcihzdHJ1Y3QgaTkxNV9yZXF1ZXN0ICpyZXF1ZXN0LAogCQkJCSAgIHUz
MiBtb2RlKQogewotCWNvbnN0IHUzMiBzY3JhdGNoX2FkZHIgPQotCQlpbnRlbF9ndF9zY3JhdGNo
X29mZnNldChyZXF1ZXN0LT5lbmdpbmUtPmd0LAotCQkJCQlJTlRFTF9HVF9TQ1JBVENIX0ZJRUxE
X1JFTkRFUl9GTFVTSCk7Ci0KIAlpZiAobW9kZSAmIEVNSVRfRkxVU0gpIHsKIAkJdTMyIGZsYWdz
ID0gMDsKIAkJdTMyICpjczsKQEAgLTMyMTAsNyArMzE5MSw3IEBAIHN0YXRpYyBpbnQgZ2VuMTJf
ZW1pdF9mbHVzaF9yZW5kZXIoc3RydWN0IGk5MTVfcmVxdWVzdCAqcmVxdWVzdCwKIAkJZmxhZ3Mg
fD0gUElQRV9DT05UUk9MX0RDX0ZMVVNIX0VOQUJMRTsKIAkJZmxhZ3MgfD0gUElQRV9DT05UUk9M
X0ZMVVNIX0VOQUJMRTsKIAotCQlmbGFncyB8PSBQSVBFX0NPTlRST0xfR0xPQkFMX0dUVF9JVkI7
CisJCWZsYWdzIHw9IFBJUEVfQ09OVFJPTF9TVE9SRV9EQVRBX0lOREVYOwogCQlmbGFncyB8PSBQ
SVBFX0NPTlRST0xfUVdfV1JJVEU7CiAKIAkJZmxhZ3MgfD0gUElQRV9DT05UUk9MX0NTX1NUQUxM
OwpAQCAtMzIxOSw3ICszMjAwLDcgQEAgc3RhdGljIGludCBnZW4xMl9lbWl0X2ZsdXNoX3JlbmRl
cihzdHJ1Y3QgaTkxNV9yZXF1ZXN0ICpyZXF1ZXN0LAogCQlpZiAoSVNfRVJSKGNzKSkKIAkJCXJl
dHVybiBQVFJfRVJSKGNzKTsKIAotCQljcyA9IGdlbjhfZW1pdF9waXBlX2NvbnRyb2woY3MsIGZs
YWdzLCBzY3JhdGNoX2FkZHIpOworCQljcyA9IGdlbjhfZW1pdF9waXBlX2NvbnRyb2woY3MsIGZs
YWdzLCBMUkNfUFBIV1NQX1NDUkFUQ0hfQUREUik7CiAJCWludGVsX3JpbmdfYWR2YW5jZShyZXF1
ZXN0LCBjcyk7CiAJfQogCkBAIC0zMjM1LDcgKzMyMTYsNyBAQCBzdGF0aWMgaW50IGdlbjEyX2Vt
aXRfZmx1c2hfcmVuZGVyKHN0cnVjdCBpOTE1X3JlcXVlc3QgKnJlcXVlc3QsCiAJCWZsYWdzIHw9
IFBJUEVfQ09OVFJPTF9DT05TVF9DQUNIRV9JTlZBTElEQVRFOwogCQlmbGFncyB8PSBQSVBFX0NP
TlRST0xfU1RBVEVfQ0FDSEVfSU5WQUxJREFURTsKIAotCQlmbGFncyB8PSBQSVBFX0NPTlRST0xf
R0xPQkFMX0dUVF9JVkI7CisJCWZsYWdzIHw9IFBJUEVfQ09OVFJPTF9TVE9SRV9EQVRBX0lOREVY
OwogCQlmbGFncyB8PSBQSVBFX0NPTlRST0xfUVdfV1JJVEU7CiAKIAkJZmxhZ3MgfD0gUElQRV9D
T05UUk9MX0NTX1NUQUxMOwpAQCAtMzI1MSw3ICszMjMyLDcgQEAgc3RhdGljIGludCBnZW4xMl9l
bWl0X2ZsdXNoX3JlbmRlcihzdHJ1Y3QgaTkxNV9yZXF1ZXN0ICpyZXF1ZXN0LAogCQkgKi8KIAkJ
KmNzKysgPSBwcmVwYXJzZXJfZGlzYWJsZSh0cnVlKTsKIAotCQljcyA9IGdlbjhfZW1pdF9waXBl
X2NvbnRyb2woY3MsIGZsYWdzLCBzY3JhdGNoX2FkZHIpOworCQljcyA9IGdlbjhfZW1pdF9waXBl
X2NvbnRyb2woY3MsIGZsYWdzLCBMUkNfUFBIV1NQX1NDUkFUQ0hfQUREUik7CiAKIAkJKmNzKysg
PSBwcmVwYXJzZXJfZGlzYWJsZShmYWxzZSk7CiAJCWludGVsX3JpbmdfYWR2YW5jZShyZXF1ZXN0
LCBjcyk7CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9scmMuaCBi
L2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2xyYy5oCmluZGV4IGRjMDI1MmUwNTg5ZS4u
NjZhYzYxNjM2MWMxIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9s
cmMuaAorKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9scmMuaApAQCAtMTA0LDYg
KzEwNCwxMCBAQCBpbnQgaW50ZWxfZXhlY2xpc3RzX3N1Ym1pc3Npb25faW5pdChzdHJ1Y3QgaW50
ZWxfZW5naW5lX2NzICplbmdpbmUpOwogICovCiAjZGVmaW5lIExSQ19IRUFERVJfUEFHRVMgTFJD
X1BQSFdTUF9QTgogCisvKiBTcGFjZSB3aXRoaW4gUFBIV1NQIHJlc2VydmVkIHRvIGJlIHVzZWQg
YXMgc2NyYXRjaCAqLworI2RlZmluZSBMUkNfUFBIV1NQX1NDUkFUQ0gJCTB4MzQKKyNkZWZpbmUg
TFJDX1BQSFdTUF9TQ1JBVENIX0FERFIJCShMUkNfUFBIV1NQX1NDUkFUQ0ggKiBzaXplb2YodTMy
KSkKKwogdm9pZCBpbnRlbF9leGVjbGlzdHNfc2V0X2RlZmF1bHRfc3VibWlzc2lvbihzdHJ1Y3Qg
aW50ZWxfZW5naW5lX2NzICplbmdpbmUpOwogCiB2b2lkIGludGVsX2xyX2NvbnRleHRfcmVzZXQo
c3RydWN0IGludGVsX2VuZ2luZV9jcyAqZW5naW5lLAotLSAKMi4yMS4wCgpfX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpJbnRlbC1nZnggbWFpbGluZyBsaXN0
CkludGVsLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3Rv
cC5vcmcvbWFpbG1hbi9saXN0aW5mby9pbnRlbC1nZng=

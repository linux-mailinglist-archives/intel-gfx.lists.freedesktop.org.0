Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 374D63D8840
	for <lists+intel-gfx@lfdr.de>; Wed, 28 Jul 2021 08:50:35 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id A57296E3F9;
	Wed, 28 Jul 2021 06:50:33 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mail-ot1-x32a.google.com (mail-ot1-x32a.google.com
 [IPv6:2607:f8b0:4864:20::32a])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 8E2836E133
 for <intel-gfx@lists.freedesktop.org>; Wed, 28 Jul 2021 06:50:32 +0000 (UTC)
Received: by mail-ot1-x32a.google.com with SMTP id
 c2-20020a0568303482b029048bcf4c6bd9so1079519otu.8
 for <intel-gfx@lists.freedesktop.org>; Tue, 27 Jul 2021 23:50:32 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=ffwll.ch; s=google;
 h=mime-version:references:in-reply-to:from:date:message-id:subject:to
 :cc:content-transfer-encoding;
 bh=/U89GLovu07Bvd6oTU3TWszf+rEG7XCNYOKO0J8e3nQ=;
 b=gdcGJunxGtdBgAh+r8iG+1CUbQuivCXluMjyqbmYvqUG8Q21PLLbgdHCxb2Tnk8tBL
 ShugYWeXirhHXDyr99Z9EKdvVHDyPFdne+kZwHlFYgqv+6hC0u4kV58GJhUttXzBbHof
 38kkzUfcvYCbupoJwv6Gm3bfHLan2KAG/bP6M=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:mime-version:references:in-reply-to:from:date
 :message-id:subject:to:cc:content-transfer-encoding;
 bh=/U89GLovu07Bvd6oTU3TWszf+rEG7XCNYOKO0J8e3nQ=;
 b=qbPFFvOw72gme8t1xcjCKYtL9Du+VD8kDusYQCVXdNUiINUyK8h4IdcL/xxaGMegby
 EKiFdKrOtfZC8+xKd1bh3E7Elz0Ws8rTBg6jCiIHY4TrAvwUax/l1olzrlreOJZb8rmI
 dApFfAJblITEdI2C6u99PPki7JRR97HbEswplzy9bJ/WMoAmehkn15Zde2C8W9yOVp6+
 OJ6iz82wa17Mg7L2uyFyyGcwyZ51QOgq7sh9qUyT2GRB/44cyDYev15kqTY3Z9QoQ9mK
 2iHe/HGxSkHP8iDg2QFZ8riux0/oTDtb0tHE1sd4mo1ActrJDiQsqu/NUPX5Rd1GYq+N
 3O4w==
X-Gm-Message-State: AOAM533Dkzr5bxiEztNLqE/Tb9nEmU1m+paKyhY5+lUAa35o/zOP/ff4
 OfigVRtjDKoUp6IQg5JASczvXaVJz7hNDCuwV62R/g==
X-Google-Smtp-Source: ABdhPJxc4QLPJJ1LLR1FDZyI6/wOiHOkCU6p8DuCqMc8yOunmH2Obb0DYpGRAwnvRFskjE72rmf/yP5twFOC23m9Y/E=
X-Received: by 2002:a9d:6d86:: with SMTP id x6mr18024815otp.188.1627455031748; 
 Tue, 27 Jul 2021 23:50:31 -0700 (PDT)
MIME-Version: 1.0
References: <20210506161930.309688-1-imre.deak@intel.com>
 <20210506161930.309688-5-imre.deak@intel.com>
In-Reply-To: <20210506161930.309688-5-imre.deak@intel.com>
From: Daniel Vetter <daniel@ffwll.ch>
Date: Wed, 28 Jul 2021 08:50:20 +0200
Message-ID: <CAKMK7uHWTF0hUWAhMeoLBD6t-HFkLx8qxzaDXJOb2fpt1cfUBQ@mail.gmail.com>
To: Imre Deak <imre.deak@intel.com>, "Syrjala,
 Ville" <ville.syrjala@linux.intel.com>, 
 Rodrigo Vivi <rodrigo.vivi@intel.com>, "Nikula,
 Jani" <jani.nikula@linux.intel.com>
Subject: Re: [Intel-gfx] [PATCH v2 04/10] drm/i915/xelpd: First stab at DPT
 support
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: Bommu Krishnaiah <krishnaiah.bommu@intel.com>,
 intel-gfx <intel-gfx@lists.freedesktop.org>,
 Auld Matthew <matthew.auld@intel.com>,
 Wilson Chris P <Chris.P.Wilson@intel.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

T24gVGh1LCBNYXkgNiwgMjAyMSBhdCA2OjE5IFBNIEltcmUgRGVhayA8aW1yZS5kZWFrQGludGVs
LmNvbT4gd3JvdGU6Cj4KPiBGcm9tOiBWaWxsZSBTeXJqw6Rsw6QgPHZpbGxlLnN5cmphbGFAbGlu
dXguaW50ZWwuY29tPgo+Cj4gQWRkIHN1cHBvcnQgZm9yIERQVCAoZGlzcGxheSBwYWdlIHRhYmxl
KS4gRFBUIGlzIGEKPiBzbGlnaHRseSBwZWN1bGlhciB0d28gbGV2ZWwgcGFnZSB0YWJsZSBzY2hl
bWUgdXNlZCBmb3IKPiB0aWxlZCBzY2Fub3V0IGJ1ZmZlcnMgKGxpbmVhciB1c2VzIGRpcmVjdCBn
Z3R0IG1hcHBpbmcKPiBzdGlsbCkuIFRoZSBwbGFuZSBzdXJmYWNlIGFkZHJlc3Mgd2lsbCBwb2lu
dCBhdCBhIHBhZ2UKPiBpbiB0aGUgRFBUIHdoaWNoIGhvbGRzIHRoZSBQVEVzIGZvciA1MTIgYWN0
dWFsIHBhZ2VzLgo+IFRodXMgd2UgcmVxdWlyZSAxLzUxMiBvZiB0aGUgZ2d0dHQgYWRkcmVzcyBz
cGFjZQo+IGNvbXBhcmVkIHRvIGEgZGlyZWN0IGdndHQgbWFwcGluZy4KPgo+IFdlIGNyZWF0ZSBh
IG5ldyBEUFQgYWRkcmVzcyBzcGFjZSBmb3IgZWFjaCBmcmFtZWJ1ZmZlciBhbmQKPiB0cmFjayB0
d28gdm1hcyAob25lIGZvciB0aGUgRFBULCBhbm90aGVyIGZvciB0aGUgZ2d0dCkuCj4KPiBUT0RP
Ogo+IC0gSXMgdGhlIGk5MTVfYWRkcmVzc19zcGFjZSBhcHByb2FhY2ggc2FuZT8KPiAtIE1heWJl
IGRvbid0IG1hcCB0aGUgd2hvbGUgRFBUIHRvIHdyaXRlIHRoZSBQVEVzPwo+IC0gRGVhbCB3aXRo
IHJlbWFwcGluZy9yb3RhdGlvbj8gTmVlZCB0byBjcmVhdGUgYQo+ICAgc2VwYXJhdGUgRFBUIGZv
ciBlYWNoIHJlbWFwcGVkL3JvdGF0ZWQgcGxhbmUgSQo+ICAgZ3Vlc3MuIE9yIGVsc2Ugd2UnZCBu
ZWVkIHRvIG1ha2UgdGhlIHBlci1mYiBEUFQKPiAgIGxhcmdlIGVub3VnaCB0byBzdXBwb3J0IHBv
dGVudGlhbGx5IHNldmVyYWwKPiAgIHJlbWFwcGVkL3JvdGF0ZWQgdm1hcy4gSG93IGxhcmdlIHNo
b3VsZCB0aGF0IGJlPwoKSSBrbm93IHRoaXMgY29kZSBwcmVkYXRlcyBlZmZvcnRzIHRvIHNwbGl0
IHVwIGludGVsX2Rpc3BsYXkuYywgYnV0CmFkZGluZyBlbnRpcmVseSBuZXcgZmVhdHVyZSB0byBp
bnRlbF9kaXNwbGF5LmMgbGlrZSB0aGlzIGlzbid0IGNvb2wuClBsZWFzZSBtb3ZlIHRoaXMgdG8g
aW50ZWxfZGlzcGxheV9wdC5jIG9yIHNvbWV0aGluZyBsaWtlIHRoYXQgYW5kIGdpdmUKaXQgYSBy
ZWFzb25hYmxlIGludGVyZmFjZS4gTWluaW1hbCBrZXJuZWxkb2MgYXMgYm9udXMgd291bGQgYmUg
Z3JlYXQKdG9vLgoKSSdtIGZlZWxpbmcgbGlrZSBkaW0gc2hvdWxkIHJlamVjdCBhbnkgcGF0Y2gg
d2hpY2ggaGFzIGEgcG9zaXRpdmUKZGlmZnN0YXQgb24gaW50ZWxfZGlzcGxheS5jIHVudGlsIHRo
aXMgZmlsZSBpcyBpbiBiZXR0ZXIgc2hhcGUuIFdvdWxkCmJlIGhhcnNoLCBidXQgd2Ugc2VlbSB0
byBiZSBzdHVjayBpbiBvbmUgc3RlcCBmb3J3YXJkLCBvbmUgc3RlcCBiYWNrCm1vZGUuCi1EYW5p
ZWwKCj4KPiBTaWduZWQtb2ZmLWJ5OiBWaWxsZSBTeXJqw6Rsw6QgPHZpbGxlLnN5cmphbGFAbGlu
dXguaW50ZWwuY29tPgo+IFNpZ25lZC1vZmYtYnk6IEJvbW11IEtyaXNobmFpYWggPGtyaXNobmFp
YWguYm9tbXVAaW50ZWwuY29tPgo+IENjOiBXaWxzb24gQ2hyaXMgUCA8Q2hyaXMuUC5XaWxzb25A
aW50ZWwuY29tPgo+IENjOiBUYW5nIENRIDxjcS50YW5nQGludGVsLmNvbT4KPiBDYzogQXVsZCBN
YXR0aGV3IDxtYXR0aGV3LmF1bGRAaW50ZWwuY29tPgo+IFJldmlld2VkLWJ5OiBVbWEgU2hhbmth
ciA8dW1hLnNoYW5rYXJAaW50ZWwuY29tPgo+IFJldmlld2VkLWJ5OiBXaWxzb24gQ2hyaXMgUCA8
Q2hyaXMuUC5XaWxzb25AaW50ZWwuY29tPgo+IFNpZ25lZC1vZmYtYnk6IEltcmUgRGVhayA8aW1y
ZS5kZWFrQGludGVsLmNvbT4KPiAtLS0KPiAgLi4uL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVs
X2F0b21pY19wbGFuZS5jIHwgICA3ICstCj4gIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkv
aW50ZWxfZGlzcGxheS5jICB8IDM1MiArKysrKysrKysrKysrKysrKy0KPiAgZHJpdmVycy9ncHUv
ZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5LmggIHwgICAxICsKPiAgLi4uL2RybS9pOTE1
L2Rpc3BsYXkvaW50ZWxfZGlzcGxheV90eXBlcy5oICAgIHwgIDE1ICstCj4gIGRyaXZlcnMvZ3B1
L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZmJjLmMgICAgICB8ICAgNiArLQo+ICAuLi4vZHJtL2k5
MTUvZGlzcGxheS9za2xfdW5pdmVyc2FsX3BsYW5lLmMgICAgfCAgMTkgKy0KPiAgZHJpdmVycy9n
cHUvZHJtL2k5MTUvZ3QvZ2VuOF9wcGd0dC5oICAgICAgICAgIHwgICA3ICsKPiAgZHJpdmVycy9n
cHUvZHJtL2k5MTUvZ3QvaW50ZWxfZ2d0dC5jICAgICAgICAgIHwgICA3ICstCj4gIGRyaXZlcnMv
Z3B1L2RybS9pOTE1L2d0L2ludGVsX2d0dC5oICAgICAgICAgICB8ICAgNSArCj4gIDkgZmlsZXMg
Y2hhbmdlZCwgMzkyIGluc2VydGlvbnMoKyksIDI3IGRlbGV0aW9ucygtKQo+Cj4gZGlmZiAtLWdp
dCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfYXRvbWljX3BsYW5lLmMgYi9k
cml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2F0b21pY19wbGFuZS5jCj4gaW5kZXgg
N2JmYjI2Y2EwYmQwNy4uMzZmNTJhMWQ3NTUyZiAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9k
cm0vaTkxNS9kaXNwbGF5L2ludGVsX2F0b21pY19wbGFuZS5jCj4gKysrIGIvZHJpdmVycy9ncHUv
ZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9hdG9taWNfcGxhbmUuYwo+IEBAIC0xMDIsNyArMTAyLDgg
QEAgaW50ZWxfcGxhbmVfZHVwbGljYXRlX3N0YXRlKHN0cnVjdCBkcm1fcGxhbmUgKnBsYW5lKQo+
Cj4gICAgICAgICBfX2RybV9hdG9taWNfaGVscGVyX3BsYW5lX2R1cGxpY2F0ZV9zdGF0ZShwbGFu
ZSwgJmludGVsX3N0YXRlLT51YXBpKTsKPgo+IC0gICAgICAgaW50ZWxfc3RhdGUtPnZtYSA9IE5V
TEw7Cj4gKyAgICAgICBpbnRlbF9zdGF0ZS0+Z2d0dF92bWEgPSBOVUxMOwo+ICsgICAgICAgaW50
ZWxfc3RhdGUtPmRwdF92bWEgPSBOVUxMOwo+ICAgICAgICAgaW50ZWxfc3RhdGUtPmZsYWdzID0g
MDsKPgo+ICAgICAgICAgLyogYWRkIHJlZmVyZW5jZSB0byBmYiAqLwo+IEBAIC0xMjUsNyArMTI2
LDkgQEAgaW50ZWxfcGxhbmVfZGVzdHJveV9zdGF0ZShzdHJ1Y3QgZHJtX3BsYW5lICpwbGFuZSwK
PiAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cnVjdCBkcm1fcGxhbmVfc3RhdGUgKnN0YXRl
KQo+ICB7Cj4gICAgICAgICBzdHJ1Y3QgaW50ZWxfcGxhbmVfc3RhdGUgKnBsYW5lX3N0YXRlID0g
dG9faW50ZWxfcGxhbmVfc3RhdGUoc3RhdGUpOwo+IC0gICAgICAgZHJtX1dBUk5fT04ocGxhbmUt
PmRldiwgcGxhbmVfc3RhdGUtPnZtYSk7Cj4gKwo+ICsgICAgICAgZHJtX1dBUk5fT04ocGxhbmUt
PmRldiwgcGxhbmVfc3RhdGUtPmdndHRfdm1hKTsKPiArICAgICAgIGRybV9XQVJOX09OKHBsYW5l
LT5kZXYsIHBsYW5lX3N0YXRlLT5kcHRfdm1hKTsKPgo+ICAgICAgICAgX19kcm1fYXRvbWljX2hl
bHBlcl9wbGFuZV9kZXN0cm95X3N0YXRlKCZwbGFuZV9zdGF0ZS0+dWFwaSk7Cj4gICAgICAgICBp
ZiAocGxhbmVfc3RhdGUtPmh3LmZiKQo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkx
NS9kaXNwbGF5L2ludGVsX2Rpc3BsYXkuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkv
aW50ZWxfZGlzcGxheS5jCj4gaW5kZXggNWQ1M2VlNGM1OGY1Yi4uOTlhOTIxZWEyZTgxYiAxMDA2
NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXkuYwo+
ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheS5jCj4gQEAg
LTY3LDYgKzY3LDcgQEAKPiAgI2luY2x1ZGUgImdlbS9pOTE1X2dlbV9vYmplY3QuaCIKPgo+ICAj
aW5jbHVkZSAiZ3QvaW50ZWxfcnBzLmgiCj4gKyNpbmNsdWRlICJndC9nZW44X3BwZ3R0LmgiCj4K
PiAgI2luY2x1ZGUgImc0eF9kcC5oIgo+ICAjaW5jbHVkZSAiZzR4X2hkbWkuaCIKPiBAQCAtMTI0
LDYgKzEyNSwxNzYgQEAgc3RhdGljIHZvaWQgaWxrX3BmaXRfZW5hYmxlKGNvbnN0IHN0cnVjdCBp
bnRlbF9jcnRjX3N0YXRlICpjcnRjX3N0YXRlKTsKPiAgc3RhdGljIHZvaWQgaW50ZWxfbW9kZXNl
dF9zZXR1cF9od19zdGF0ZShzdHJ1Y3QgZHJtX2RldmljZSAqZGV2LAo+ICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RydWN0IGRybV9tb2Rlc2V0X2FjcXVpcmVfY3R4
ICpjdHgpOwo+Cj4gK3N0cnVjdCBpOTE1X2RwdCB7Cj4gKyAgICAgICBzdHJ1Y3QgaTkxNV9hZGRy
ZXNzX3NwYWNlIHZtOwo+ICsKPiArICAgICAgIHN0cnVjdCBkcm1faTkxNV9nZW1fb2JqZWN0ICpv
Ymo7Cj4gKyAgICAgICBzdHJ1Y3QgaTkxNV92bWEgKnZtYTsKPiArICAgICAgIHZvaWQgX19pb21l
bSAqaW9tZW07Cj4gK307Cj4gKwo+ICsjZGVmaW5lIGk5MTVfaXNfZHB0KHZtKSAoKHZtKS0+aXNf
ZHB0KQo+ICsKPiArc3RhdGljIGlubGluZSBzdHJ1Y3QgaTkxNV9kcHQgKgo+ICtpOTE1X3ZtX3Rv
X2RwdChzdHJ1Y3QgaTkxNV9hZGRyZXNzX3NwYWNlICp2bSkKPiArewo+ICsgICAgICAgQlVJTERf
QlVHX09OKG9mZnNldG9mKHN0cnVjdCBpOTE1X2RwdCwgdm0pKTsKPiArICAgICAgIEdFTV9CVUdf
T04oIWk5MTVfaXNfZHB0KHZtKSk7Cj4gKyAgICAgICByZXR1cm4gY29udGFpbmVyX29mKHZtLCBz
dHJ1Y3QgaTkxNV9kcHQsIHZtKTsKPiArfQo+ICsKPiArI2RlZmluZSBkcHRfdG90YWxfZW50cmll
cyhkcHQpICgoZHB0KS0+dm0udG90YWwgPj4gUEFHRV9TSElGVCkKPiArCj4gK3N0YXRpYyB2b2lk
IGdlbjhfc2V0X3B0ZSh2b2lkIF9faW9tZW0gKmFkZHIsIGdlbjhfcHRlX3QgcHRlKQo+ICt7Cj4g
KyAgICAgICB3cml0ZXEocHRlLCBhZGRyKTsKPiArfQo+ICsKPiArc3RhdGljIHZvaWQgZHB0X2lu
c2VydF9wYWdlKHN0cnVjdCBpOTE1X2FkZHJlc3Nfc3BhY2UgKnZtLAo+ICsgICAgICAgICAgICAg
ICAgICAgICAgICAgICBkbWFfYWRkcl90IGFkZHIsCj4gKyAgICAgICAgICAgICAgICAgICAgICAg
ICAgIHU2NCBvZmZzZXQsCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgIGVudW0gaTkxNV9j
YWNoZV9sZXZlbCBsZXZlbCwKPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgdTMyIGZsYWdz
KQo+ICt7Cj4gKyAgICAgICBzdHJ1Y3QgaTkxNV9kcHQgKmRwdCA9IGk5MTVfdm1fdG9fZHB0KHZt
KTsKPiArICAgICAgIGdlbjhfcHRlX3QgX19pb21lbSAqYmFzZSA9IGRwdC0+aW9tZW07Cj4gKwo+
ICsgICAgICAgZ2VuOF9zZXRfcHRlKGJhc2UgKyBvZmZzZXQgLyBJOTE1X0dUVF9QQUdFX1NJWkUs
Cj4gKyAgICAgICAgICAgICAgICAgICAgdm0tPnB0ZV9lbmNvZGUoYWRkciwgbGV2ZWwsIGZsYWdz
KSk7Cj4gK30KPiArCj4gK3N0YXRpYyB2b2lkIGRwdF9pbnNlcnRfZW50cmllcyhzdHJ1Y3QgaTkx
NV9hZGRyZXNzX3NwYWNlICp2bSwKPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Ry
dWN0IGk5MTVfdm1hICp2bWEsCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVudW0g
aTkxNV9jYWNoZV9sZXZlbCBsZXZlbCwKPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
dTMyIGZsYWdzKQo+ICt7Cj4gKyAgICAgICBzdHJ1Y3QgaTkxNV9kcHQgKmRwdCA9IGk5MTVfdm1f
dG9fZHB0KHZtKTsKPiArICAgICAgIGdlbjhfcHRlX3QgX19pb21lbSAqYmFzZSA9IGRwdC0+aW9t
ZW07Cj4gKyAgICAgICBjb25zdCBnZW44X3B0ZV90IHB0ZV9lbmNvZGUgPSB2bS0+cHRlX2VuY29k
ZSgwLCBsZXZlbCwgZmxhZ3MpOwo+ICsgICAgICAgc3RydWN0IHNndF9pdGVyIHNndF9pdGVyOwo+
ICsgICAgICAgZG1hX2FkZHJfdCBhZGRyOwo+ICsgICAgICAgaW50IGk7Cj4gKwo+ICsgICAgICAg
LyoKPiArICAgICAgICAqIE5vdGUgdGhhdCB3ZSBpZ25vcmUgUFRFX1JFQURfT05MWSBoZXJlLiBU
aGUgY2FsbGVyIG11c3QgYmUgY2FyZWZ1bAo+ICsgICAgICAgICogbm90IHRvIGFsbG93IHRoZSB1
c2VyIHRvIG92ZXJyaWRlIGFjY2VzcyB0byBhIHJlYWQgb25seSBwYWdlLgo+ICsgICAgICAgICov
Cj4gKwo+ICsgICAgICAgaSA9IHZtYS0+bm9kZS5zdGFydCAvIEk5MTVfR1RUX1BBR0VfU0laRTsK
PiArICAgICAgIGZvcl9lYWNoX3NndF9kYWRkcihhZGRyLCBzZ3RfaXRlciwgdm1hLT5wYWdlcykK
PiArICAgICAgICAgICAgICAgZ2VuOF9zZXRfcHRlKCZiYXNlW2krK10sIHB0ZV9lbmNvZGUgfCBh
ZGRyKTsKPiArfQo+ICsKPiArc3RhdGljIHZvaWQgZHB0X2NsZWFyX3JhbmdlKHN0cnVjdCBpOTE1
X2FkZHJlc3Nfc3BhY2UgKnZtLAo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICB1NjQgc3Rh
cnQsIHU2NCBsZW5ndGgpCj4gK3sKPiArfQo+ICsKPiArc3RhdGljIHZvaWQgZHB0X2JpbmRfdm1h
KHN0cnVjdCBpOTE1X2FkZHJlc3Nfc3BhY2UgKnZtLAo+ICsgICAgICAgICAgICAgICAgICAgICAg
ICBzdHJ1Y3QgaTkxNV92bV9wdF9zdGFzaCAqc3Rhc2gsCj4gKyAgICAgICAgICAgICAgICAgICAg
ICAgIHN0cnVjdCBpOTE1X3ZtYSAqdm1hLAo+ICsgICAgICAgICAgICAgICAgICAgICAgICBlbnVt
IGk5MTVfY2FjaGVfbGV2ZWwgY2FjaGVfbGV2ZWwsCj4gKyAgICAgICAgICAgICAgICAgICAgICAg
IHUzMiBmbGFncykKPiArewo+ICsgICAgICAgc3RydWN0IGRybV9pOTE1X2dlbV9vYmplY3QgKm9i
aiA9IHZtYS0+b2JqOwo+ICsgICAgICAgdTMyIHB0ZV9mbGFnczsKPiArCj4gKyAgICAgICAvKiBB
cHBsaWNhYmxlIHRvIFZMViAoZ2VuOCsgZG8gbm90IHN1cHBvcnQgUk8gaW4gdGhlIEdHVFQpICov
Cj4gKyAgICAgICBwdGVfZmxhZ3MgPSAwOwo+ICsgICAgICAgaWYgKHZtYS0+dm0tPmhhc19yZWFk
X29ubHkgJiYgaTkxNV9nZW1fb2JqZWN0X2lzX3JlYWRvbmx5KG9iaikpCj4gKyAgICAgICAgICAg
ICAgIHB0ZV9mbGFncyB8PSBQVEVfUkVBRF9PTkxZOwo+ICsgICAgICAgaWYgKGk5MTVfZ2VtX29i
amVjdF9pc19sbWVtKG9iaikpCj4gKyAgICAgICAgICAgICAgIHB0ZV9mbGFncyB8PSBQVEVfTE07
Cj4gKwo+ICsgICAgICAgdm1hLT52bS0+aW5zZXJ0X2VudHJpZXModm1hLT52bSwgdm1hLCBjYWNo
ZV9sZXZlbCwgcHRlX2ZsYWdzKTsKPiArCj4gKyAgICAgICB2bWEtPnBhZ2Vfc2l6ZXMuZ3R0ID0g
STkxNV9HVFRfUEFHRV9TSVpFOwo+ICsKPiArICAgICAgIC8qCj4gKyAgICAgICAgKiBXaXRob3V0
IGFsaWFzaW5nIFBQR1RUIHRoZXJlJ3Mgbm8gZGlmZmVyZW5jZSBiZXR3ZWVuCj4gKyAgICAgICAg
KiBHTE9CQUwvTE9DQUxfQklORCwgaXQncyBhbGwgdGhlIHNhbWUgcHRlcy4gSGVuY2UgdW5jb25k
aXRpb25hbGx5Cj4gKyAgICAgICAgKiB1cGdyYWRlIHRvIGJvdGggYm91bmQgaWYgd2UgYmluZCBl
aXRoZXIgdG8gYXZvaWQgZG91YmxlLWJpbmRpbmcuCj4gKyAgICAgICAgKi8KPiArICAgICAgIGF0
b21pY19vcihJOTE1X1ZNQV9HTE9CQUxfQklORCB8IEk5MTVfVk1BX0xPQ0FMX0JJTkQsICZ2bWEt
PmZsYWdzKTsKPiArfQo+ICsKPiArc3RhdGljIHZvaWQgZHB0X3VuYmluZF92bWEoc3RydWN0IGk5
MTVfYWRkcmVzc19zcGFjZSAqdm0sIHN0cnVjdCBpOTE1X3ZtYSAqdm1hKQo+ICt7Cj4gKyAgICAg
ICB2bS0+Y2xlYXJfcmFuZ2Uodm0sIHZtYS0+bm9kZS5zdGFydCwgdm1hLT5zaXplKTsKPiArfQo+
ICsKPiArc3RhdGljIHZvaWQgZHB0X2NsZWFudXAoc3RydWN0IGk5MTVfYWRkcmVzc19zcGFjZSAq
dm0pCj4gK3sKPiArICAgICAgIHN0cnVjdCBpOTE1X2RwdCAqZHB0ID0gaTkxNV92bV90b19kcHQo
dm0pOwo+ICsKPiArICAgICAgIGk5MTVfZ2VtX29iamVjdF9wdXQoZHB0LT5vYmopOwo+ICt9Cj4g
Kwo+ICtzdGF0aWMgc3RydWN0IGk5MTVfYWRkcmVzc19zcGFjZSAqCj4gK2ludGVsX2RwdF9jcmVh
dGUoc3RydWN0IGRybV9nZW1fb2JqZWN0ICpvYmopCj4gK3sKPiArICAgICAgIHN0cnVjdCBkcm1f
aTkxNV9wcml2YXRlICppOTE1ID0gdG9faTkxNShvYmotPmRldik7Cj4gKyAgICAgICBzaXplX3Qg
c2l6ZSA9IERJVl9ST1VORF9VUF9VTEwob2JqLT5zaXplLCA1MTIpOwo+ICsgICAgICAgc3RydWN0
IGRybV9pOTE1X2dlbV9vYmplY3QgKmRwdF9vYmo7Cj4gKyAgICAgICBzdHJ1Y3QgaTkxNV9hZGRy
ZXNzX3NwYWNlICp2bTsKPiArICAgICAgIHN0cnVjdCBpOTE1X2RwdCAqZHB0Owo+ICsgICAgICAg
aW50IHJldDsKPiArCj4gKyAgICAgICBzaXplID0gcm91bmRfdXAoc2l6ZSwgNDA5Nik7Cj4gKwo+
ICsgICAgICAgaWYgKEhBU19MTUVNKGk5MTUpKQo+ICsgICAgICAgICAgICAgICBkcHRfb2JqID0g
aTkxNV9nZW1fb2JqZWN0X2NyZWF0ZV9sbWVtKGk5MTUsIHNpemUsIDApOwo+ICsgICAgICAgZWxz
ZQo+ICsgICAgICAgICAgICAgICBkcHRfb2JqID0gaTkxNV9nZW1fb2JqZWN0X2NyZWF0ZV9zdG9s
ZW4oaTkxNSwgc2l6ZSk7Cj4gKyAgICAgICBpZiAoSVNfRVJSKGRwdF9vYmopKQo+ICsgICAgICAg
ICAgICAgICByZXR1cm4gRVJSX0NBU1QoZHB0X29iaik7Cj4gKwo+ICsgICAgICAgcmV0ID0gaTkx
NV9nZW1fb2JqZWN0X3NldF9jYWNoZV9sZXZlbChkcHRfb2JqLCBJOTE1X0NBQ0hFX05PTkUpOwo+
ICsgICAgICAgaWYgKHJldCkgewo+ICsgICAgICAgICAgICAgICBpOTE1X2dlbV9vYmplY3RfcHV0
KGRwdF9vYmopOwo+ICsgICAgICAgICAgICAgICByZXR1cm4gRVJSX1BUUihyZXQpOwo+ICsgICAg
ICAgfQo+ICsKPiArICAgICAgIGRwdCA9IGt6YWxsb2Moc2l6ZW9mKCpkcHQpLCBHRlBfS0VSTkVM
KTsKPiArICAgICAgIGlmICghZHB0KSB7Cj4gKyAgICAgICAgICAgICAgIGk5MTVfZ2VtX29iamVj
dF9wdXQoZHB0X29iaik7Cj4gKyAgICAgICAgICAgICAgIHJldHVybiBFUlJfUFRSKC1FTk9NRU0p
Owo+ICsgICAgICAgfQo+ICsKPiArICAgICAgIHZtID0gJmRwdC0+dm07Cj4gKwo+ICsgICAgICAg
dm0tPmd0ID0gJmk5MTUtPmd0Owo+ICsgICAgICAgdm0tPmk5MTUgPSBpOTE1Owo+ICsgICAgICAg
dm0tPmRtYSA9IGk5MTUtPmRybS5kZXY7Cj4gKyAgICAgICB2bS0+dG90YWwgPSAoc2l6ZSAvIHNp
emVvZihnZW44X3B0ZV90KSkgKiBJOTE1X0dUVF9QQUdFX1NJWkU7Cj4gKyAgICAgICB2bS0+aXNf
ZHB0ID0gdHJ1ZTsKPiArCj4gKyAgICAgICBpOTE1X2FkZHJlc3Nfc3BhY2VfaW5pdCh2bSwgVk1f
Q0xBU1NfRFBUKTsKPiArCj4gKyAgICAgICB2bS0+aW5zZXJ0X3BhZ2UgPSBkcHRfaW5zZXJ0X3Bh
Z2U7Cj4gKyAgICAgICB2bS0+Y2xlYXJfcmFuZ2UgPSBkcHRfY2xlYXJfcmFuZ2U7Cj4gKyAgICAg
ICB2bS0+aW5zZXJ0X2VudHJpZXMgPSBkcHRfaW5zZXJ0X2VudHJpZXM7Cj4gKyAgICAgICB2bS0+
Y2xlYW51cCA9IGRwdF9jbGVhbnVwOwo+ICsKPiArICAgICAgIHZtLT52bWFfb3BzLmJpbmRfdm1h
ICAgID0gZHB0X2JpbmRfdm1hOwo+ICsgICAgICAgdm0tPnZtYV9vcHMudW5iaW5kX3ZtYSAgPSBk
cHRfdW5iaW5kX3ZtYTsKPiArICAgICAgIHZtLT52bWFfb3BzLnNldF9wYWdlcyAgID0gZ2d0dF9z
ZXRfcGFnZXM7Cj4gKyAgICAgICB2bS0+dm1hX29wcy5jbGVhcl9wYWdlcyA9IGNsZWFyX3BhZ2Vz
Owo+ICsKPiArICAgICAgIHZtLT5wdGVfZW5jb2RlID0gZ2VuOF9nZ3R0X3B0ZV9lbmNvZGU7Cj4g
Kwo+ICsgICAgICAgZHB0LT5vYmogPSBkcHRfb2JqOwo+ICsKPiArICAgICAgIHJldHVybiAmZHB0
LT52bTsKPiArfQo+ICsKPiArc3RhdGljIHZvaWQgaW50ZWxfZHB0X2Rlc3Ryb3koc3RydWN0IGk5
MTVfYWRkcmVzc19zcGFjZSAqdm0pCj4gK3sKPiArICAgICAgIHN0cnVjdCBpOTE1X2RwdCAqZHB0
ID0gaTkxNV92bV90b19kcHQodm0pOwo+ICsKPiArICAgICAgIGk5MTVfdm1fY2xvc2UoJmRwdC0+
dm0pOwo+ICt9Cj4gKwo+ICAvKiByZXR1cm5zIEhQTEwgZnJlcXVlbmN5IGluIGtIeiAqLwo+ICBp
bnQgdmx2X2dldF9ocGxsX3ZjbyhzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYpCj4g
IHsKPiBAQCAtOTc0LDYgKzExNDUsOSBAQCB1bnNpZ25lZCBpbnQgaW50ZWxfc3VyZl9hbGlnbm1l
bnQoY29uc3Qgc3RydWN0IGRybV9mcmFtZWJ1ZmZlciAqZmIsCj4gIHsKPiAgICAgICAgIHN0cnVj
dCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiA9IHRvX2k5MTUoZmItPmRldik7Cj4KPiArICAg
ICAgIGlmIChpbnRlbF9mYl91c2VzX2RwdChmYikpCj4gKyAgICAgICAgICAgICAgIHJldHVybiA1
MTIgKiA0MDk2Owo+ICsKPiAgICAgICAgIC8qIEFVWF9ESVNUIG5lZWRzIG9ubHkgNEsgYWxpZ25t
ZW50ICovCj4gICAgICAgICBpZiAoaXNfY2NzX3BsYW5lKGZiLCBjb2xvcl9wbGFuZSkpCj4gICAg
ICAgICAgICAgICAgIHJldHVybiA0MDk2Owo+IEBAIC0xMDI3LDYgKzEyMDEsNjIgQEAgc3RhdGlj
IGJvb2wgaW50ZWxfcGxhbmVfdXNlc19mZW5jZShjb25zdCBzdHJ1Y3QgaW50ZWxfcGxhbmVfc3Rh
dGUgKnBsYW5lX3N0YXRlKQo+ICAgICAgICAgICAgICAgICAgcGxhbmVfc3RhdGUtPnZpZXcuZ3R0
LnR5cGUgPT0gSTkxNV9HR1RUX1ZJRVdfTk9STUFMKTsKPiAgfQo+Cj4gK3N0YXRpYyBzdHJ1Y3Qg
aTkxNV92bWEgKgo+ICtpbnRlbF9waW5fZmJfb2JqX2RwdChzdHJ1Y3QgZHJtX2ZyYW1lYnVmZmVy
ICpmYiwKPiArICAgICAgICAgICAgICAgICAgICBjb25zdCBzdHJ1Y3QgaTkxNV9nZ3R0X3ZpZXcg
KnZpZXcsCj4gKyAgICAgICAgICAgICAgICAgICAgYm9vbCB1c2VzX2ZlbmNlLAo+ICsgICAgICAg
ICAgICAgICAgICAgIHVuc2lnbmVkIGxvbmcgKm91dF9mbGFncywKPiArICAgICAgICAgICAgICAg
ICAgICBzdHJ1Y3QgaTkxNV9hZGRyZXNzX3NwYWNlICp2bSkKPiArewo+ICsgICAgICAgc3RydWN0
IGRybV9kZXZpY2UgKmRldiA9IGZiLT5kZXY7Cj4gKyAgICAgICBzdHJ1Y3QgZHJtX2k5MTVfcHJp
dmF0ZSAqZGV2X3ByaXYgPSB0b19pOTE1KGRldik7Cj4gKyAgICAgICBzdHJ1Y3QgZHJtX2k5MTVf
Z2VtX29iamVjdCAqb2JqID0gaW50ZWxfZmJfb2JqKGZiKTsKPiArICAgICAgIHN0cnVjdCBpOTE1
X3ZtYSAqdm1hOwo+ICsgICAgICAgdTMyIGFsaWdubWVudDsKPiArICAgICAgIGludCByZXQ7Cj4g
Kwo+ICsgICAgICAgaWYgKFdBUk5fT04oIWk5MTVfZ2VtX29iamVjdF9pc19mcmFtZWJ1ZmZlcihv
YmopKSkKPiArICAgICAgICAgICAgICAgcmV0dXJuIEVSUl9QVFIoLUVJTlZBTCk7Cj4gKwo+ICsg
ICAgICAgYWxpZ25tZW50ID0gNDA5NiAqIDUxMjsKPiArCj4gKyAgICAgICBhdG9taWNfaW5jKCZk
ZXZfcHJpdi0+Z3B1X2Vycm9yLnBlbmRpbmdfZmJfcGluKTsKPiArCj4gKyAgICAgICByZXQgPSBp
OTE1X2dlbV9vYmplY3Rfc2V0X2NhY2hlX2xldmVsKG9iaiwgSTkxNV9DQUNIRV9OT05FKTsKPiAr
ICAgICAgIGlmIChyZXQpIHsKPiArICAgICAgICAgICAgICAgdm1hID0gRVJSX1BUUihyZXQpOwo+
ICsgICAgICAgICAgICAgICBnb3RvIGVycjsKPiArICAgICAgIH0KPiArCj4gKyAgICAgICB2bWEg
PSBpOTE1X3ZtYV9pbnN0YW5jZShvYmosIHZtLCB2aWV3KTsKPiArICAgICAgIGlmIChJU19FUlIo
dm1hKSkKPiArICAgICAgICAgICAgICAgZ290byBlcnI7Cj4gKwo+ICsgICAgICAgaWYgKGk5MTVf
dm1hX21pc3BsYWNlZCh2bWEsIDAsIGFsaWdubWVudCwgMCkpIHsKPiArICAgICAgICAgICAgICAg
cmV0ID0gaTkxNV92bWFfdW5iaW5kKHZtYSk7Cj4gKyAgICAgICAgICAgICAgIGlmIChyZXQpIHsK
PiArICAgICAgICAgICAgICAgICAgICAgICB2bWEgPSBFUlJfUFRSKHJldCk7Cj4gKyAgICAgICAg
ICAgICAgICAgICAgICAgZ290byBlcnI7Cj4gKyAgICAgICAgICAgICAgIH0KPiArICAgICAgIH0K
PiArCj4gKyAgICAgICByZXQgPSBpOTE1X3ZtYV9waW4odm1hLCAwLCBhbGlnbm1lbnQsIFBJTl9H
TE9CQUwpOwo+ICsgICAgICAgaWYgKHJldCkgewo+ICsgICAgICAgICAgICAgICB2bWEgPSBFUlJf
UFRSKHJldCk7Cj4gKyAgICAgICAgICAgICAgIGdvdG8gZXJyOwo+ICsgICAgICAgfQo+ICsKPiAr
ICAgICAgIHZtYS0+ZGlzcGxheV9hbGlnbm1lbnQgPSBtYXhfdCh1NjQsIHZtYS0+ZGlzcGxheV9h
bGlnbm1lbnQsIGFsaWdubWVudCk7Cj4gKwo+ICsgICAgICAgaTkxNV9nZW1fb2JqZWN0X2ZsdXNo
X2lmX2Rpc3BsYXkob2JqKTsKPiArCj4gKyAgICAgICBpOTE1X3ZtYV9nZXQodm1hKTsKPiArZXJy
Ogo+ICsgICAgICAgYXRvbWljX2RlYygmZGV2X3ByaXYtPmdwdV9lcnJvci5wZW5kaW5nX2ZiX3Bp
bik7Cj4gKwo+ICsgICAgICAgcmV0dXJuIHZtYTsKPiArfQo+ICsKPiAgc3RydWN0IGk5MTVfdm1h
ICoKPiAgaW50ZWxfcGluX2FuZF9mZW5jZV9mYl9vYmooc3RydWN0IGRybV9mcmFtZWJ1ZmZlciAq
ZmIsCj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9vbCBwaHlzX2N1cnNvciwKPiBAQCAt
MTYzMCw2ICsxODYwLDQ5IEBAIHN0YXRpYyB2b2lkIGludGVsX3BsYW5lX2Rpc2FibGVfbm9hdG9t
aWMoc3RydWN0IGludGVsX2NydGMgKmNydGMsCj4gICAgICAgICBpbnRlbF93YWl0X2Zvcl92Ymxh
bmsoZGV2X3ByaXYsIGNydGMtPnBpcGUpOwo+ICB9Cj4KPiArc3RhdGljIHN0cnVjdCBpOTE1X3Zt
YSAqaW50ZWxfZHB0X3BpbihzdHJ1Y3QgaTkxNV9hZGRyZXNzX3NwYWNlICp2bSkKPiArewo+ICsg
ICAgICAgc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUgPSB2bS0+aTkxNTsKPiArICAgICAg
IHN0cnVjdCBpOTE1X2RwdCAqZHB0ID0gaTkxNV92bV90b19kcHQodm0pOwo+ICsgICAgICAgaW50
ZWxfd2FrZXJlZl90IHdha2VyZWY7Cj4gKyAgICAgICBzdHJ1Y3QgaTkxNV92bWEgKnZtYTsKPiAr
ICAgICAgIHZvaWQgX19pb21lbSAqaW9tZW07Cj4gKwo+ICsgICAgICAgd2FrZXJlZiA9IGludGVs
X3J1bnRpbWVfcG1fZ2V0KCZpOTE1LT5ydW50aW1lX3BtKTsKPiArICAgICAgIGF0b21pY19pbmMo
Jmk5MTUtPmdwdV9lcnJvci5wZW5kaW5nX2ZiX3Bpbik7Cj4gKwo+ICsgICAgICAgdm1hID0gaTkx
NV9nZW1fb2JqZWN0X2dndHRfcGluKGRwdC0+b2JqLCBOVUxMLCAwLCA0MDk2LAo+ICsgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEhBU19MTUVNKGk5MTUpID8gMCA6IFBJTl9N
QVBQQUJMRSk7Cj4gKyAgICAgICBpZiAoSVNfRVJSKHZtYSkpCj4gKyAgICAgICAgICAgICAgIGdv
dG8gZXJyOwo+ICsKPiArICAgICAgIGlvbWVtID0gaTkxNV92bWFfcGluX2lvbWFwKHZtYSk7Cj4g
KyAgICAgICBpOTE1X3ZtYV91bnBpbih2bWEpOwo+ICsgICAgICAgaWYgKElTX0VSUihpb21lbSkp
IHsKPiArICAgICAgICAgICAgICAgdm1hID0gaW9tZW07Cj4gKyAgICAgICAgICAgICAgIGdvdG8g
ZXJyOwo+ICsgICAgICAgfQo+ICsKPiArICAgICAgIGRwdC0+dm1hID0gdm1hOwo+ICsgICAgICAg
ZHB0LT5pb21lbSA9IGlvbWVtOwo+ICsKPiArICAgICAgIGk5MTVfdm1hX2dldCh2bWEpOwo+ICsK
PiArZXJyOgo+ICsgICAgICAgYXRvbWljX2RlYygmaTkxNS0+Z3B1X2Vycm9yLnBlbmRpbmdfZmJf
cGluKTsKPiArICAgICAgIGludGVsX3J1bnRpbWVfcG1fcHV0KCZpOTE1LT5ydW50aW1lX3BtLCB3
YWtlcmVmKTsKPiArCj4gKyAgICAgICByZXR1cm4gdm1hOwo+ICt9Cj4gKwo+ICtzdGF0aWMgdm9p
ZCBpbnRlbF9kcHRfdW5waW4oc3RydWN0IGk5MTVfYWRkcmVzc19zcGFjZSAqdm0pCj4gK3sKPiAr
ICAgICAgIHN0cnVjdCBpOTE1X2RwdCAqZHB0ID0gaTkxNV92bV90b19kcHQodm0pOwo+ICsKPiAr
ICAgICAgIGk5MTVfdm1hX3VucGluX2lvbWFwKGRwdC0+dm1hKTsKPiArICAgICAgIGk5MTVfdm1h
X3B1dChkcHQtPnZtYSk7Cj4gK30KPiArCj4gIHN0YXRpYyB2b2lkCj4gIGludGVsX2ZpbmRfaW5p
dGlhbF9wbGFuZV9vYmooc3RydWN0IGludGVsX2NydGMgKmludGVsX2NydGMsCj4gICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICBzdHJ1Y3QgaW50ZWxfaW5pdGlhbF9wbGFuZV9jb25maWcgKnBs
YW5lX2NvbmZpZykKPiBAQCAtMTY3NSwxMiArMTk0OCwxMiBAQCBpbnRlbF9maW5kX2luaXRpYWxf
cGxhbmVfb2JqKHN0cnVjdCBpbnRlbF9jcnRjICppbnRlbF9jcnRjLAo+ICAgICAgICAgICAgICAg
ICAgICAgICAgIGNvbnRpbnVlOwo+Cj4gICAgICAgICAgICAgICAgIHN0YXRlID0gdG9faW50ZWxf
cGxhbmVfc3RhdGUoYy0+cHJpbWFyeS0+c3RhdGUpOwo+IC0gICAgICAgICAgICAgICBpZiAoIXN0
YXRlLT52bWEpCj4gKyAgICAgICAgICAgICAgIGlmICghc3RhdGUtPmdndHRfdm1hKQo+ICAgICAg
ICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOwo+Cj4gICAgICAgICAgICAgICAgIGlmIChpbnRl
bF9wbGFuZV9nZ3R0X29mZnNldChzdGF0ZSkgPT0gcGxhbmVfY29uZmlnLT5iYXNlKSB7Cj4gICAg
ICAgICAgICAgICAgICAgICAgICAgZmIgPSBzdGF0ZS0+aHcuZmI7Cj4gLSAgICAgICAgICAgICAg
ICAgICAgICAgdm1hID0gc3RhdGUtPnZtYTsKPiArICAgICAgICAgICAgICAgICAgICAgICB2bWEg
PSBzdGF0ZS0+Z2d0dF92bWE7Cj4gICAgICAgICAgICAgICAgICAgICAgICAgZ290byB2YWxpZF9m
YjsKPiAgICAgICAgICAgICAgICAgfQo+ICAgICAgICAgfQo+IEBAIC0xNzA3LDcgKzE5ODAsNyBA
QCBpbnRlbF9maW5kX2luaXRpYWxfcGxhbmVfb2JqKHN0cnVjdCBpbnRlbF9jcnRjICppbnRlbF9j
cnRjLAo+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICZpbnRlbF9zdGF0ZS0+dmlldyk7Cj4K
PiAgICAgICAgIF9faTkxNV92bWFfcGluKHZtYSk7Cj4gLSAgICAgICBpbnRlbF9zdGF0ZS0+dm1h
ID0gaTkxNV92bWFfZ2V0KHZtYSk7Cj4gKyAgICAgICBpbnRlbF9zdGF0ZS0+Z2d0dF92bWEgPSBp
OTE1X3ZtYV9nZXQodm1hKTsKPiAgICAgICAgIGlmIChpbnRlbF9wbGFuZV91c2VzX2ZlbmNlKGlu
dGVsX3N0YXRlKSAmJiBpOTE1X3ZtYV9waW5fZmVuY2Uodm1hKSA9PSAwKQo+ICAgICAgICAgICAg
ICAgICBpZiAodm1hLT5mZW5jZSkKPiAgICAgICAgICAgICAgICAgICAgICAgICBpbnRlbF9zdGF0
ZS0+ZmxhZ3MgfD0gUExBTkVfSEFTX0ZFTkNFOwo+IEBAIC0xMDU1MSwyNSArMTA4MjQsNjAgQEAg
aW50IGludGVsX3BsYW5lX3Bpbl9mYihzdHJ1Y3QgaW50ZWxfcGxhbmVfc3RhdGUgKnBsYW5lX3N0
YXRlKQo+ICAgICAgICAgICAgICAgICBwbGFuZS0+aWQgPT0gUExBTkVfQ1VSU09SICYmCj4gICAg
ICAgICAgICAgICAgIElOVEVMX0lORk8oZGV2X3ByaXYpLT5kaXNwbGF5LmN1cnNvcl9uZWVkc19w
aHlzaWNhbDsKPgo+IC0gICAgICAgdm1hID0gaW50ZWxfcGluX2FuZF9mZW5jZV9mYl9vYmooZmIs
IHBoeXNfY3Vyc29yLAo+IC0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
JnBsYW5lX3N0YXRlLT52aWV3Lmd0dCwKPiAtICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgIGludGVsX3BsYW5lX3VzZXNfZmVuY2UocGxhbmVfc3RhdGUpLAo+IC0gICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJnBsYW5lX3N0YXRlLT5mbGFncyk7Cj4g
LSAgICAgICBpZiAoSVNfRVJSKHZtYSkpCj4gLSAgICAgICAgICAgICAgIHJldHVybiBQVFJfRVJS
KHZtYSk7Cj4gLQo+IC0gICAgICAgcGxhbmVfc3RhdGUtPnZtYSA9IHZtYTsKPiArICAgICAgIGlm
ICghaW50ZWxfZmJfdXNlc19kcHQoZmIpKSB7Cj4gKyAgICAgICAgICAgICAgIHZtYSA9IGludGVs
X3Bpbl9hbmRfZmVuY2VfZmJfb2JqKGZiLCBwaHlzX2N1cnNvciwKPiArICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJnBsYW5lX3N0YXRlLT52aWV3Lmd0dCwK
PiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW50ZWxf
cGxhbmVfdXNlc19mZW5jZShwbGFuZV9zdGF0ZSksCj4gKyAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICZwbGFuZV9zdGF0ZS0+ZmxhZ3MpOwo+ICsgICAgICAg
ICAgICAgICBpZiAoSVNfRVJSKHZtYSkpCj4gKyAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJu
IFBUUl9FUlIodm1hKTsKPiArCj4gKyAgICAgICAgICAgICAgIHBsYW5lX3N0YXRlLT5nZ3R0X3Zt
YSA9IHZtYTsKPiArICAgICAgIH0gZWxzZSB7Cj4gKyAgICAgICAgICAgICAgIHN0cnVjdCBpbnRl
bF9mcmFtZWJ1ZmZlciAqaW50ZWxfZmIgPSB0b19pbnRlbF9mcmFtZWJ1ZmZlcihmYik7Cj4gKwo+
ICsgICAgICAgICAgICAgICB2bWEgPSBpbnRlbF9kcHRfcGluKGludGVsX2ZiLT5kcHRfdm0pOwo+
ICsgICAgICAgICAgICAgICBpZiAoSVNfRVJSKHZtYSkpCj4gKyAgICAgICAgICAgICAgICAgICAg
ICAgcmV0dXJuIFBUUl9FUlIodm1hKTsKPiArCj4gKyAgICAgICAgICAgICAgIHBsYW5lX3N0YXRl
LT5nZ3R0X3ZtYSA9IHZtYTsKPiArCj4gKyAgICAgICAgICAgICAgIHZtYSA9IGludGVsX3Bpbl9m
Yl9vYmpfZHB0KGZiLCAmcGxhbmVfc3RhdGUtPnZpZXcuZ3R0LCBmYWxzZSwKPiArICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJnBsYW5lX3N0YXRlLT5mbGFncywgaW50
ZWxfZmItPmRwdF92bSk7Cj4gKyAgICAgICAgICAgICAgIGlmIChJU19FUlIodm1hKSkgewo+ICsg
ICAgICAgICAgICAgICAgICAgICAgIGludGVsX2RwdF91bnBpbihpbnRlbF9mYi0+ZHB0X3ZtKTsK
PiArICAgICAgICAgICAgICAgICAgICAgICBwbGFuZV9zdGF0ZS0+Z2d0dF92bWEgPSBOVUxMOwo+
ICsgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBQVFJfRVJSKHZtYSk7Cj4gKyAgICAgICAg
ICAgICAgIH0KPiArCj4gKyAgICAgICAgICAgICAgIHBsYW5lX3N0YXRlLT5kcHRfdm1hID0gdm1h
Owo+ICsKPiArICAgICAgICAgICAgICAgV0FSTl9PTihwbGFuZV9zdGF0ZS0+Z2d0dF92bWEgPT0g
cGxhbmVfc3RhdGUtPmRwdF92bWEpOwo+ICsgICAgICAgfQo+Cj4gICAgICAgICByZXR1cm4gMDsK
PiAgfQo+Cj4gIHZvaWQgaW50ZWxfcGxhbmVfdW5waW5fZmIoc3RydWN0IGludGVsX3BsYW5lX3N0
YXRlICpvbGRfcGxhbmVfc3RhdGUpCj4gIHsKPiArICAgICAgIHN0cnVjdCBkcm1fZnJhbWVidWZm
ZXIgKmZiID0gb2xkX3BsYW5lX3N0YXRlLT5ody5mYjsKPiAgICAgICAgIHN0cnVjdCBpOTE1X3Zt
YSAqdm1hOwo+Cj4gLSAgICAgICB2bWEgPSBmZXRjaF9hbmRfemVybygmb2xkX3BsYW5lX3N0YXRl
LT52bWEpOwo+IC0gICAgICAgaWYgKHZtYSkKPiAtICAgICAgICAgICAgICAgaW50ZWxfdW5waW5f
ZmJfdm1hKHZtYSwgb2xkX3BsYW5lX3N0YXRlLT5mbGFncyk7Cj4gKyAgICAgICBpZiAoIWludGVs
X2ZiX3VzZXNfZHB0KGZiKSkgewo+ICsgICAgICAgICAgICAgICB2bWEgPSBmZXRjaF9hbmRfemVy
bygmb2xkX3BsYW5lX3N0YXRlLT5nZ3R0X3ZtYSk7Cj4gKyAgICAgICAgICAgICAgIGlmICh2bWEp
Cj4gKyAgICAgICAgICAgICAgICAgICAgICAgaW50ZWxfdW5waW5fZmJfdm1hKHZtYSwgb2xkX3Bs
YW5lX3N0YXRlLT5mbGFncyk7Cj4gKyAgICAgICB9IGVsc2Ugewo+ICsgICAgICAgICAgICAgICBz
dHJ1Y3QgaW50ZWxfZnJhbWVidWZmZXIgKmludGVsX2ZiID0gdG9faW50ZWxfZnJhbWVidWZmZXIo
ZmIpOwo+ICsKPiArICAgICAgICAgICAgICAgdm1hID0gZmV0Y2hfYW5kX3plcm8oJm9sZF9wbGFu
ZV9zdGF0ZS0+ZHB0X3ZtYSk7Cj4gKyAgICAgICAgICAgICAgIGlmICh2bWEpCj4gKyAgICAgICAg
ICAgICAgICAgICAgICAgaW50ZWxfdW5waW5fZmJfdm1hKHZtYSwgb2xkX3BsYW5lX3N0YXRlLT5m
bGFncyk7Cj4gKwo+ICsgICAgICAgICAgICAgICB2bWEgPSBmZXRjaF9hbmRfemVybygmb2xkX3Bs
YW5lX3N0YXRlLT5nZ3R0X3ZtYSk7Cj4gKyAgICAgICAgICAgICAgIGlmICh2bWEpCj4gKyAgICAg
ICAgICAgICAgICAgICAgICAgaW50ZWxfZHB0X3VucGluKGludGVsX2ZiLT5kcHRfdm0pOwo+ICsg
ICAgICAgfQo+ICB9Cj4KPiAgLyoqCj4gQEAgLTExMDkyLDYgKzExNDAwLDEwIEBAIHN0YXRpYyB2
b2lkIGludGVsX3VzZXJfZnJhbWVidWZmZXJfZGVzdHJveShzdHJ1Y3QgZHJtX2ZyYW1lYnVmZmVy
ICpmYikKPiAgICAgICAgIHN0cnVjdCBpbnRlbF9mcmFtZWJ1ZmZlciAqaW50ZWxfZmIgPSB0b19p
bnRlbF9mcmFtZWJ1ZmZlcihmYik7Cj4KPiAgICAgICAgIGRybV9mcmFtZWJ1ZmZlcl9jbGVhbnVw
KGZiKTsKPiArCj4gKyAgICAgICBpZiAoaW50ZWxfZmJfdXNlc19kcHQoZmIpKQo+ICsgICAgICAg
ICAgICAgICBpbnRlbF9kcHRfZGVzdHJveShpbnRlbF9mYi0+ZHB0X3ZtKTsKPiArCj4gICAgICAg
ICBpbnRlbF9mcm9udGJ1ZmZlcl9wdXQoaW50ZWxfZmItPmZyb250YnVmZmVyKTsKPgo+ICAgICAg
ICAga2ZyZWUoaW50ZWxfZmIpOwo+IEBAIC0xMTI2Miw2ICsxMTU3NCwxOCBAQCBzdGF0aWMgaW50
IGludGVsX2ZyYW1lYnVmZmVyX2luaXQoc3RydWN0IGludGVsX2ZyYW1lYnVmZmVyICppbnRlbF9m
YiwKPiAgICAgICAgIGlmIChyZXQpCj4gICAgICAgICAgICAgICAgIGdvdG8gZXJyOwo+Cj4gKyAg
ICAgICBpZiAoaW50ZWxfZmJfdXNlc19kcHQoZmIpKSB7Cj4gKyAgICAgICAgICAgICAgIHN0cnVj
dCBpOTE1X2FkZHJlc3Nfc3BhY2UgKnZtOwo+ICsKPiArICAgICAgICAgICAgICAgdm0gPSBpbnRl
bF9kcHRfY3JlYXRlKCZvYmotPmJhc2UpOwo+ICsgICAgICAgICAgICAgICBpZiAoSVNfRVJSKHZt
KSkgewo+ICsgICAgICAgICAgICAgICAgICAgICAgIHJldCA9IFBUUl9FUlIodm0pOwo+ICsgICAg
ICAgICAgICAgICAgICAgICAgIGdvdG8gZXJyOwo+ICsgICAgICAgICAgICAgICB9Cj4gKwo+ICsg
ICAgICAgICAgICAgICBpbnRlbF9mYi0+ZHB0X3ZtID0gdm07Cj4gKyAgICAgICB9Cj4gKwo+ICAg
ICAgICAgcmV0ID0gZHJtX2ZyYW1lYnVmZmVyX2luaXQoJmRldl9wcml2LT5kcm0sIGZiLCAmaW50
ZWxfZmJfZnVuY3MpOwo+ICAgICAgICAgaWYgKHJldCkgewo+ICAgICAgICAgICAgICAgICBkcm1f
ZXJyKCZkZXZfcHJpdi0+ZHJtLCAiZnJhbWVidWZmZXIgaW5pdCBmYWlsZWQgJWRcbiIsIHJldCk7
Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxh
eS5oIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5LmgKPiBpbmRl
eCBmYzBkZjRjNjNlOGRlLi5iZjEyZTc3YmNkMTc1IDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1
L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheS5oCj4gKysrIGIvZHJpdmVycy9ncHUvZHJt
L2k5MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5LmgKPiBAQCAtNDQsNiArNDQsNyBAQCBzdHJ1Y3Qg
ZHJtX21vZGVfZmJfY21kMjsKPiAgc3RydWN0IGRybV9tb2Rlc2V0X2FjcXVpcmVfY3R4Owo+ICBz
dHJ1Y3QgZHJtX3BsYW5lOwo+ICBzdHJ1Y3QgZHJtX3BsYW5lX3N0YXRlOwo+ICtzdHJ1Y3QgaTkx
NV9hZGRyZXNzX3NwYWNlOwo+ICBzdHJ1Y3QgaTkxNV9nZ3R0X3ZpZXc7Cj4gIHN0cnVjdCBpbnRl
bF9hdG9taWNfc3RhdGU7Cj4gIHN0cnVjdCBpbnRlbF9jcnRjOwo+IGRpZmYgLS1naXQgYS9kcml2
ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXlfdHlwZXMuaCBiL2RyaXZlcnMv
Z3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheV90eXBlcy5oCj4gaW5kZXggNmQ4Y2Rh
YTM2NzQ4NS4uN2ZlOTY3NzdkYzY3MSAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkx
NS9kaXNwbGF5L2ludGVsX2Rpc3BsYXlfdHlwZXMuaAo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9p
OTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheV90eXBlcy5oCj4gQEAgLTEyOCw2ICsxMjgsOCBAQCBz
dHJ1Y3QgaW50ZWxfZnJhbWVidWZmZXIgewo+ICAgICAgICAgc3RydWN0IGludGVsX2ZiX3ZpZXcg
bm9ybWFsX3ZpZXc7Cj4gICAgICAgICBzdHJ1Y3QgaW50ZWxfZmJfdmlldyByb3RhdGVkX3ZpZXc7
Cj4gICAgICAgICBzdHJ1Y3QgaW50ZWxfZmJfdmlldyByZW1hcHBlZF92aWV3Owo+ICsKPiArICAg
ICAgIHN0cnVjdCBpOTE1X2FkZHJlc3Nfc3BhY2UgKmRwdF92bTsKPiAgfTsKPgo+ICBzdHJ1Y3Qg
aW50ZWxfZmJkZXYgewo+IEBAIC02MTAsNyArNjEyLDggQEAgc3RydWN0IGludGVsX3BsYW5lX3N0
YXRlIHsKPiAgICAgICAgICAgICAgICAgZW51bSBkcm1fc2NhbGluZ19maWx0ZXIgc2NhbGluZ19m
aWx0ZXI7Cj4gICAgICAgICB9IGh3Owo+Cj4gLSAgICAgICBzdHJ1Y3QgaTkxNV92bWEgKnZtYTsK
PiArICAgICAgIHN0cnVjdCBpOTE1X3ZtYSAqZ2d0dF92bWE7Cj4gKyAgICAgICBzdHJ1Y3QgaTkx
NV92bWEgKmRwdF92bWE7Cj4gICAgICAgICB1bnNpZ25lZCBsb25nIGZsYWdzOwo+ICAjZGVmaW5l
IFBMQU5FX0hBU19GRU5DRSBCSVQoMCkKPgo+IEBAIC0xOTcyLDkgKzE5NzUsMTUgQEAgaW50ZWxf
d2FpdF9mb3JfdmJsYW5rX2lmX2FjdGl2ZShzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3By
aXYsIGVudW0gcGlwZSBwaXAKPiAgICAgICAgICAgICAgICAgaW50ZWxfd2FpdF9mb3JfdmJsYW5r
KGRldl9wcml2LCBwaXBlKTsKPiAgfQo+Cj4gLXN0YXRpYyBpbmxpbmUgdTMyIGludGVsX3BsYW5l
X2dndHRfb2Zmc2V0KGNvbnN0IHN0cnVjdCBpbnRlbF9wbGFuZV9zdGF0ZSAqc3RhdGUpCj4gK3N0
YXRpYyBpbmxpbmUgYm9vbCBpbnRlbF9mYl91c2VzX2RwdChjb25zdCBzdHJ1Y3QgZHJtX2ZyYW1l
YnVmZmVyICpmYikKPiAgewo+IC0gICAgICAgcmV0dXJuIGk5MTVfZ2d0dF9vZmZzZXQoc3RhdGUt
PnZtYSk7Cj4gKyAgICAgICByZXR1cm4gZmIgJiYgRElTUExBWV9WRVIodG9faTkxNShmYi0+ZGV2
KSkgPj0gMTMgJiYKPiArICAgICAgICAgICAgICAgZmItPm1vZGlmaWVyICE9IERSTV9GT1JNQVRf
TU9EX0xJTkVBUjsKPiArfQo+ICsKPiArc3RhdGljIGlubGluZSB1MzIgaW50ZWxfcGxhbmVfZ2d0
dF9vZmZzZXQoY29uc3Qgc3RydWN0IGludGVsX3BsYW5lX3N0YXRlICpwbGFuZV9zdGF0ZSkKPiAr
ewo+ICsgICAgICAgcmV0dXJuIGk5MTVfZ2d0dF9vZmZzZXQocGxhbmVfc3RhdGUtPmdndHRfdm1h
KTsKPiAgfQo+Cj4gIHN0YXRpYyBpbmxpbmUgc3RydWN0IGludGVsX2Zyb250YnVmZmVyICoKPiBk
aWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9mYmMuYyBiL2Ry
aXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZmJjLmMKPiBpbmRleCBiMmYzYWM4NDZm
NWI2Li4xODQ3YTE2MWNiMzc0IDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rp
c3BsYXkvaW50ZWxfZmJjLmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2lu
dGVsX2ZiYy5jCj4gQEAgLTczNywxMSArNzM3LDExIEBAIHN0YXRpYyB2b2lkIGludGVsX2ZiY191
cGRhdGVfc3RhdGVfY2FjaGUoc3RydWN0IGludGVsX2NydGMgKmNydGMsCj4gICAgICAgICBjYWNo
ZS0+ZmVuY2VfeV9vZmZzZXQgPSBpbnRlbF9wbGFuZV9mZW5jZV95X29mZnNldChwbGFuZV9zdGF0
ZSk7Cj4KPiAgICAgICAgIGRybV9XQVJOX09OKCZkZXZfcHJpdi0+ZHJtLCBwbGFuZV9zdGF0ZS0+
ZmxhZ3MgJiBQTEFORV9IQVNfRkVOQ0UgJiYKPiAtICAgICAgICAgICAgICAgICAgICFwbGFuZV9z
dGF0ZS0+dm1hLT5mZW5jZSk7Cj4gKyAgICAgICAgICAgICAgICAgICAhcGxhbmVfc3RhdGUtPmdn
dHRfdm1hLT5mZW5jZSk7Cj4KPiAgICAgICAgIGlmIChwbGFuZV9zdGF0ZS0+ZmxhZ3MgJiBQTEFO
RV9IQVNfRkVOQ0UgJiYKPiAtICAgICAgICAgICBwbGFuZV9zdGF0ZS0+dm1hLT5mZW5jZSkKPiAt
ICAgICAgICAgICAgICAgY2FjaGUtPmZlbmNlX2lkID0gcGxhbmVfc3RhdGUtPnZtYS0+ZmVuY2Ut
PmlkOwo+ICsgICAgICAgICAgIHBsYW5lX3N0YXRlLT5nZ3R0X3ZtYS0+ZmVuY2UpCj4gKyAgICAg
ICAgICAgICAgIGNhY2hlLT5mZW5jZV9pZCA9IHBsYW5lX3N0YXRlLT5nZ3R0X3ZtYS0+ZmVuY2Ut
PmlkOwo+ICAgICAgICAgZWxzZQo+ICAgICAgICAgICAgICAgICBjYWNoZS0+ZmVuY2VfaWQgPSAt
MTsKPgo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L3NrbF91bml2
ZXJzYWxfcGxhbmUuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvc2tsX3VuaXZlcnNh
bF9wbGFuZS5jCj4gaW5kZXggMGQzNGE1YWQ0ZTJiOS4uNmRmM2U3NDVmODMwZCAxMDA2NDQKPiAt
LS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L3NrbF91bml2ZXJzYWxfcGxhbmUuYwo+
ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvc2tsX3VuaXZlcnNhbF9wbGFuZS5j
Cj4gQEAgLTkzNCw2ICs5MzQsMjEgQEAgc3RhdGljIHUzMiBnbGtfcGxhbmVfY29sb3JfY3RsKGNv
bnN0IHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpjcnRjX3N0YXRlLAo+ICAgICAgICAgcmV0dXJu
IHBsYW5lX2NvbG9yX2N0bDsKPiAgfQo+Cj4gK3N0YXRpYyB1MzIgc2tsX3N1cmZfYWRkcmVzcyhj
b25zdCBzdHJ1Y3QgaW50ZWxfcGxhbmVfc3RhdGUgKnBsYW5lX3N0YXRlLAo+ICsgICAgICAgICAg
ICAgICAgICAgICAgICAgICBpbnQgY29sb3JfcGxhbmUpCj4gK3sKPiArICAgICAgIGNvbnN0IHN0
cnVjdCBkcm1fZnJhbWVidWZmZXIgKmZiID0gcGxhbmVfc3RhdGUtPmh3LmZiOwo+ICsgICAgICAg
dTMyIG9mZnNldCA9IHBsYW5lX3N0YXRlLT52aWV3LmNvbG9yX3BsYW5lW2NvbG9yX3BsYW5lXS5v
ZmZzZXQ7Cj4gKwo+ICsgICAgICAgaWYgKGludGVsX2ZiX3VzZXNfZHB0KGZiKSkgewo+ICsgICAg
ICAgICAgICAgICBXQVJOX09OKG9mZnNldCAmIDB4MWZmZmZmKTsKPiArICAgICAgICAgICAgICAg
cmV0dXJuIG9mZnNldCA+PiA5Owo+ICsgICAgICAgfSBlbHNlIHsKPiArICAgICAgICAgICAgICAg
V0FSTl9PTihvZmZzZXQgJiAweGZmZik7Cj4gKyAgICAgICAgICAgICAgIHJldHVybiBvZmZzZXQ7
Cj4gKyAgICAgICB9Cj4gK30KPiArCj4gIHN0YXRpYyB2b2lkCj4gIHNrbF9wcm9ncmFtX3BsYW5l
KHN0cnVjdCBpbnRlbF9wbGFuZSAqcGxhbmUsCj4gICAgICAgICAgICAgICAgICAgY29uc3Qgc3Ry
dWN0IGludGVsX2NydGNfc3RhdGUgKmNydGNfc3RhdGUsCj4gQEAgLTk0NCw3ICs5NTksNyBAQCBz
a2xfcHJvZ3JhbV9wbGFuZShzdHJ1Y3QgaW50ZWxfcGxhbmUgKnBsYW5lLAo+ICAgICAgICAgZW51
bSBwbGFuZV9pZCBwbGFuZV9pZCA9IHBsYW5lLT5pZDsKPiAgICAgICAgIGVudW0gcGlwZSBwaXBl
ID0gcGxhbmUtPnBpcGU7Cj4gICAgICAgICBjb25zdCBzdHJ1Y3QgZHJtX2ludGVsX3Nwcml0ZV9j
b2xvcmtleSAqa2V5ID0gJnBsYW5lX3N0YXRlLT5ja2V5Owo+IC0gICAgICAgdTMyIHN1cmZfYWRk
ciA9IHBsYW5lX3N0YXRlLT52aWV3LmNvbG9yX3BsYW5lW2NvbG9yX3BsYW5lXS5vZmZzZXQ7Cj4g
KyAgICAgICB1MzIgc3VyZl9hZGRyID0gc2tsX3N1cmZfYWRkcmVzcyhwbGFuZV9zdGF0ZSwgY29s
b3JfcGxhbmUpOwo+ICAgICAgICAgdTMyIHN0cmlkZSA9IHNrbF9wbGFuZV9zdHJpZGUocGxhbmVf
c3RhdGUsIGNvbG9yX3BsYW5lKTsKPiAgICAgICAgIGNvbnN0IHN0cnVjdCBkcm1fZnJhbWVidWZm
ZXIgKmZiID0gcGxhbmVfc3RhdGUtPmh3LmZiOwo+ICAgICAgICAgaW50IGF1eF9wbGFuZSA9IHNr
bF9tYWluX3RvX2F1eF9wbGFuZShmYiwgY29sb3JfcGxhbmUpOwo+IEBAIC05ODMsNyArOTk4LDcg
QEAgc2tsX3Byb2dyYW1fcGxhbmUoc3RydWN0IGludGVsX3BsYW5lICpwbGFuZSwKPiAgICAgICAg
IH0KPgo+ICAgICAgICAgaWYgKGF1eF9wbGFuZSkgewo+IC0gICAgICAgICAgICAgICBhdXhfZGlz
dCA9IHBsYW5lX3N0YXRlLT52aWV3LmNvbG9yX3BsYW5lW2F1eF9wbGFuZV0ub2Zmc2V0IC0gc3Vy
Zl9hZGRyOwo+ICsgICAgICAgICAgICAgICBhdXhfZGlzdCA9IHNrbF9zdXJmX2FkZHJlc3MocGxh
bmVfc3RhdGUsIGF1eF9wbGFuZSkgLSBzdXJmX2FkZHI7Cj4KPiAgICAgICAgICAgICAgICAgaWYg
KERJU1BMQVlfVkVSKGRldl9wcml2KSA8IDEyKQo+ICAgICAgICAgICAgICAgICAgICAgICAgIGF1
eF9kaXN0IHw9IHNrbF9wbGFuZV9zdHJpZGUocGxhbmVfc3RhdGUsIGF1eF9wbGFuZSk7Cj4gZGlm
ZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2dlbjhfcHBndHQuaCBiL2RyaXZlcnMv
Z3B1L2RybS9pOTE1L2d0L2dlbjhfcHBndHQuaAo+IGluZGV4IDc2YTA4YjljMWY1YzguLmI5MDI4
YzJhZDNjN2QgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvZ2VuOF9wcGd0
dC5oCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvZ2VuOF9wcGd0dC5oCj4gQEAgLTYs
OCArNiwxNSBAQAo+ICAjaWZuZGVmIF9fR0VOOF9QUEdUVF9IX18KPiAgI2RlZmluZSBfX0dFTjhf
UFBHVFRfSF9fCj4KPiArI2luY2x1ZGUgPGxpbnV4L2tlcm5lbC5oPgo+ICsKPiArc3RydWN0IGk5
MTVfYWRkcmVzc19zcGFjZTsKPiAgc3RydWN0IGludGVsX2d0Owo+ICtlbnVtIGk5MTVfY2FjaGVf
bGV2ZWw7Cj4KPiAgc3RydWN0IGk5MTVfcHBndHQgKmdlbjhfcHBndHRfY3JlYXRlKHN0cnVjdCBp
bnRlbF9ndCAqZ3QpOwo+ICt1NjQgZ2VuOF9nZ3R0X3B0ZV9lbmNvZGUoZG1hX2FkZHJfdCBhZGRy
LAo+ICsgICAgICAgICAgICAgICAgICAgICAgICBlbnVtIGk5MTVfY2FjaGVfbGV2ZWwgbGV2ZWws
Cj4gKyAgICAgICAgICAgICAgICAgICAgICAgIHUzMiBmbGFncyk7Cj4KPiAgI2VuZGlmCj4gZGlm
ZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2dndHQuYyBiL2RyaXZlcnMv
Z3B1L2RybS9pOTE1L2d0L2ludGVsX2dndHQuYwo+IGluZGV4IGRjYjNiMjk5Y2Y0YWEuLjM1MDY5
Y2E1ZDdkZWIgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZ2d0
dC5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZ2d0dC5jCj4gQEAgLTE4
LDYgKzE4LDcgQEAKPiAgI2luY2x1ZGUgImk5MTVfdmdwdS5oIgo+Cj4gICNpbmNsdWRlICJpbnRl
bF9ndHQuaCIKPiArI2luY2x1ZGUgImdlbjhfcHBndHQuaCIKPgo+ICBzdGF0aWMgaW50Cj4gIGk5
MTVfZ2V0X2dndHRfdm1hX3BhZ2VzKHN0cnVjdCBpOTE1X3ZtYSAqdm1hKTsKPiBAQCAtMTg3LDkg
KzE4OCw5IEBAIHN0YXRpYyB2b2lkIGdtY2hfZ2d0dF9pbnZhbGlkYXRlKHN0cnVjdCBpOTE1X2dn
dHQgKmdndHQpCj4gICAgICAgICBpbnRlbF9ndHRfY2hpcHNldF9mbHVzaCgpOwo+ICB9Cj4KPiAt
c3RhdGljIHU2NCBnZW44X2dndHRfcHRlX2VuY29kZShkbWFfYWRkcl90IGFkZHIsCj4gLSAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICBlbnVtIGk5MTVfY2FjaGVfbGV2ZWwgbGV2ZWwsCj4g
LSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1MzIgZmxhZ3MpCj4gK3U2NCBnZW44X2dn
dHRfcHRlX2VuY29kZShkbWFfYWRkcl90IGFkZHIsCj4gKyAgICAgICAgICAgICAgICAgICAgICAg
IGVudW0gaTkxNV9jYWNoZV9sZXZlbCBsZXZlbCwKPiArICAgICAgICAgICAgICAgICAgICAgICAg
dTMyIGZsYWdzKQo+ICB7Cj4gICAgICAgICBnZW44X3B0ZV90IHB0ZSA9IGFkZHIgfCBfUEFHRV9Q
UkVTRU5UOwo+Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2d0
dC5oIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZ3R0LmgKPiBpbmRleCA0NGNlMjdj
NTE2MzE5Li5jYTAwYjQ1ODI3Yjc0IDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1
L2d0L2ludGVsX2d0dC5oCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZ3R0
LmgKPiBAQCAtMjQ4LDYgKzI0OCw3IEBAIHN0cnVjdCBpOTE1X2FkZHJlc3Nfc3BhY2Ugewo+ICAg
ICAgICAgc3RydWN0IGRtYV9yZXN2IHJlc3Y7IC8qIHJlc2VydmF0aW9uIGxvY2sgZm9yIGFsbCBw
ZCBvYmplY3RzLCBhbmQgYnVmZmVyIHBvb2wgKi8KPiAgI2RlZmluZSBWTV9DTEFTU19HR1RUIDAK
PiAgI2RlZmluZSBWTV9DTEFTU19QUEdUVCAxCj4gKyNkZWZpbmUgVk1fQ0xBU1NfRFBUIDIKPgo+
ICAgICAgICAgc3RydWN0IGRybV9pOTE1X2dlbV9vYmplY3QgKnNjcmF0Y2hbNF07Cj4gICAgICAg
ICAvKioKPiBAQCAtMjU4LDYgKzI1OSw5IEBAIHN0cnVjdCBpOTE1X2FkZHJlc3Nfc3BhY2Ugewo+
ICAgICAgICAgLyogR2xvYmFsIEdUVCAqLwo+ICAgICAgICAgYm9vbCBpc19nZ3R0OjE7Cj4KPiAr
ICAgICAgIC8qIERpc3BsYXkgcGFnZSB0YWJsZSAqLwo+ICsgICAgICAgYm9vbCBpc19kcHQ6MTsK
PiArCj4gICAgICAgICAvKiBTb21lIHN5c3RlbXMgc3VwcG9ydCByZWFkLW9ubHkgbWFwcGluZ3Mg
Zm9yIEdHVFQgYW5kL29yIFBQR1RUICovCj4gICAgICAgICBib29sIGhhc19yZWFkX29ubHk6MTsK
Pgo+IEBAIC0zNTQsNiArMzU4LDcgQEAgc3RydWN0IGk5MTVfcHBndHQgewo+ICB9Owo+Cj4gICNk
ZWZpbmUgaTkxNV9pc19nZ3R0KHZtKSAoKHZtKS0+aXNfZ2d0dCkKPiArI2RlZmluZSBpOTE1X2lz
X2RwdCh2bSkgKCh2bSktPmlzX2RwdCkKPgo+ICBpbnQgX19tdXN0X2NoZWNrCj4gIGk5MTVfdm1f
bG9ja19vYmplY3RzKHN0cnVjdCBpOTE1X2FkZHJlc3Nfc3BhY2UgKnZtLCBzdHJ1Y3QgaTkxNV9n
ZW1fd3dfY3R4ICp3dyk7Cj4gLS0KPiAyLjI3LjAKPgo+IF9fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fCj4gSW50ZWwtZ2Z4IG1haWxpbmcgbGlzdAo+IEludGVs
LWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKPiBodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9y
Zy9tYWlsbWFuL2xpc3RpbmZvL2ludGVsLWdmeAoKCgotLSAKRGFuaWVsIFZldHRlcgpTb2Z0d2Fy
ZSBFbmdpbmVlciwgSW50ZWwgQ29ycG9yYXRpb24KaHR0cDovL2Jsb2cuZmZ3bGwuY2gKX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KSW50ZWwtZ2Z4IG1haWxp
bmcgbGlzdApJbnRlbC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJl
ZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vaW50ZWwtZ2Z4Cg==

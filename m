Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 81F3B9D47D
	for <lists+intel-gfx@lfdr.de>; Mon, 26 Aug 2019 18:51:10 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 597DE6E271;
	Mon, 26 Aug 2019 16:51:08 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from fireflyinternet.com (mail.fireflyinternet.com [109.228.58.192])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 71BAD6E271
 for <intel-gfx@lists.freedesktop.org>; Mon, 26 Aug 2019 16:51:06 +0000 (UTC)
X-Default-Received-SPF: pass (skip=forwardok (res=PASS))
 x-ip-name=78.156.65.138; 
Received: from localhost (unverified [78.156.65.138]) 
 by fireflyinternet.com (Firefly Internet (M1)) with ESMTP (TLS) id
 18268424-1500050 for multiple; Mon, 26 Aug 2019 17:50:46 +0100
MIME-Version: 1.0
To: "Bloomfield, Jon" <jon.bloomfield@intel.com>,
 "intel-gfx@lists.freedesktop.org" <intel-gfx@lists.freedesktop.org>
From: Chris Wilson <chris@chris-wilson.co.uk>
In-Reply-To: <AD48BB7FB99B174FBCC69E228F58B3B68B3D915D@fmsmsx120.amr.corp.intel.com>
References: <20190826072149.9447-1-chris@chris-wilson.co.uk>
 <20190826072149.9447-27-chris@chris-wilson.co.uk>
 <AD48BB7FB99B174FBCC69E228F58B3B68B3D915D@fmsmsx120.amr.corp.intel.com>
Message-ID: <156683824400.14306.4683824251346708197@skylake-alporthouse-com>
User-Agent: alot/0.6
Date: Mon, 26 Aug 2019 17:50:44 +0100
Subject: Re: [Intel-gfx] [PATCH 27/28] drm/i915: Cancel non-persistent
 contexts on close
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

UXVvdGluZyBCbG9vbWZpZWxkLCBKb24gKDIwMTktMDgtMjYgMTQ6Mzk6NTUpCj4gPiAtLS0tLU9y
aWdpbmFsIE1lc3NhZ2UtLS0tLQo+ID4gRnJvbTogQ2hyaXMgV2lsc29uIDxjaHJpc0BjaHJpcy13
aWxzb24uY28udWs+Cj4gPiArICAgICAvKgo+ID4gKyAgICAgICogU2VuZCBhICJoaWdoIHByaW9y
aXR5IHB1bHNlIiBkb3duIHRoZSBlbmdpbmUgdG8gY2F1c2UgdGhlCj4gPiArICAgICAgKiBjdXJy
ZW50IHJlcXVlc3QgdG8gYmUgbW9tZW50YXJpbHkgcHJlZW1wdGVkLiAoSWYgaXQgZmFpbHMgdG8K
PiA+ICsgICAgICAqIGJlIHByZWVtcHRlZCwgaXQgd2lsbCBiZSByZXNldCkuIEFzIHdlIGhhdmUg
bWFya2VkIG91ciBjb250ZXh0Cj4gPiArICAgICAgKiBhcyBiYW5uZWQsIGFueSBpbmNvbXBsZXRl
IHJlcXVlc3QsIGluY2x1ZGluZyBhbnkgcnVubmluZywgd2lsbAo+ID4gKyAgICAgICogYmUgc2tp
cHBlZCBmb2xsb3dpbmcgdGhlIHByZWVtcHRpb24uCj4gPiArICAgICAgKi8KPiA+ICsgICAgIHJl
c2V0ID0gMDsKPiA+ICsgICAgIGZvcl9lYWNoX2VuZ2luZV9tYXNrZWQoZW5naW5lLCBndC0+aTkx
NSwgYWN0aXZlLCB0bXApCj4gPiArICAgICAgICAgICAgIGlmIChpbnRlbF9lbmdpbmVfcHVsc2Uo
ZW5naW5lKSkKPiA+ICsgICAgICAgICAgICAgICAgICAgICByZXNldCB8PSBlbmdpbmUtPm1hc2s7
Cj4gPiArCj4gPiArICAgICAvKgo+ID4gKyAgICAgICogSWYgd2UgYXJlIHVuYWJsZSB0byBzZW5k
IGEgcHJlZW1wdGl2ZSBwdWxzZSB0byBidW1wCj4gPiArICAgICAgKiB0aGUgY29udGV4dCBmcm9t
IHRoZSBHUFUsIHdlIGhhdmUgdG8gcmVzb3J0IHRvIGEgZnVsbAo+ID4gKyAgICAgICogcmVzZXQu
IFdlIGhvcGUgdGhlIGNvbGxhdGVyYWwgZGFtYWdlIGlzIHdvcnRoIGl0Lgo+ID4gKyAgICAgICov
Cj4gPiArICAgICBpZiAocmVzZXQpCj4gPiArICAgICAgICAgICAgIGludGVsX2d0X2hhbmRsZV9l
cnJvcihndCwgcmVzZXQsIDAsCj4gPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAiY29udGV4dCBjbG9zdXJlIGluICVzIiwgY3R4LT5uYW1lKTsKPiAKPiBUaGlzIHNlZW1zIGlu
Y29uc2lzdGVudCB3aXRoIHRoZSBwb2xpY3kgbm90IHRvIGFsbG93IG5vbi1wZXJzaXN0ZW5jZSB3
aXRob3V0IHByZS1lbXB0aW9uLCBzaW5jZSBpZiB3ZSBjYW4ndCBwcmUtZW1wdCB3ZSBudWtlIGFu
eXdheS4KClNvLCB0aGUgb25seSB3YXkgdG8gZ2V0IGhlcmUgaXMgaWYgaTkxNS5lbmFibGVfaGFu
Z2NoZWNrPTAgb24gb2xkZXIKaGFyZHdhcmU7IHRoZSB1c2VyIGhhcyBmb3JjZWQgb3Vyc2VsdmVz
IGludG8gYSBzaXR1YXRpb24gd2UgZG8gbm90IGxpa2UuCgpIYXZpbmcgcmVjb2duaXNlZCB0aGF0
IGk5MTUuZW5hYmxlX2hhbmdjaGVjaz0wIGlzIGEgdHJpdmlhbCB3YXkgdG8KYWNjaWRlbnRhbGx5
IGRvcyAoYXMgb3Bwb3NlZCB0byB0aGUgZGVsaWJlcmF0ZSBkb3MgdGhhdCBpcyB0aGUgZXhwZWN0
ZWQKYmVoYXZpb3VyKSwgdGhpcyBpcyBvdXIgbWl0aWdhdGlvbi4KIAo+IEJ1dCB0aGlzIGZlZWxz
IHVuc2FmZSB0byBtZSAtIEhvdyBkb2VzIGludGVsX2d0X2hhbmRsZV9lcnJvciBwcmV2ZW50IHVz
IGZyb20gbnVraW5nIGEgZm9sbG93aW5nIGNvbnRleHQsIGluc3RlYWQgb2YgdGhlIHRhcmdldD8g
SWRlYWxseSB3ZSB3b3VsZDoKPiAgICAgICAgIDEpIFVucXVldWUgYW55IGNvbnRleHQgY3VycmVu
dGx5IGJlaGluZCB0aGUgdGFyZ2V0IGNvbnRleHQKPiAgICAgICAgIDIpIFJlc2V0IGVuZ2luZSBv
bmx5IGlmIHRoZSB0YXJnZXQgY29udGV4dCBpcyBydW5uaW5nIChpdCBjb3VsZCBjb21wbGV0ZSBk
dXJpbmcgMSkKPiAgICAgICAgIDMpIFJlcXVldWUgb3RoZXIgY29udGV4dHMKPiAKPiBJZiB0aGUg
YWJvdmUgaXMgdmlhYmxlICg/KSB3ZSBkb24ndCBldmVuIG5lZWQgdG8gYXR0ZW1wdCBwcmUtZW1w
dGlvbi4KClRoYXQncyBleGFjdGx5IHdoYXQgdGhlIHNhZmUgc3RyYXRlZ3kgYXR0ZW1wdHMgYmVm
b3JlIHdlIGZhbGxiYWNrCnRvIHRoZSByZXNldCBwYXRoLiAoV2l0aCBhIGJpdCBvZiBoYW5kd2F2
aW5nIG92ZXIgZ2VuOCwgaXQgY291bGQgZG8gd2l0aAphIGJpdCBvZiByZWZpbmVtZW50IGFzIGl0
IGhhcyBrZXJuZWwgcHJlZW1wdGlvbiwgYnV0IG5vdCB1c2VyCnByZWVtcHRpb24uKQoKPiA+ICtz
dGF0aWMgaW50Cj4gPiArc2V0X3BlcnNpc3RlbmNlKHN0cnVjdCBpOTE1X2dlbV9jb250ZXh0ICpj
dHgsCj4gPiArICAgICAgICAgICAgIGNvbnN0IHN0cnVjdCBkcm1faTkxNV9nZW1fY29udGV4dF9w
YXJhbSAqYXJncykKPiA+ICt7Cj4gPiArICAgICBpZiAoYXJncy0+c2l6ZSkKPiA+ICsgICAgICAg
ICAgICAgcmV0dXJuIC1FSU5WQUw7Cj4gPiArCj4gPiArICAgICBpZiAoYXJncy0+dmFsdWUpIHsK
PiA+ICsgICAgICAgICAgICAgaTkxNV9nZW1fY29udGV4dF9zZXRfcGVyc2lzdGVuY2UoY3R4KTsK
PiA+ICsgICAgICAgICAgICAgcmV0dXJuIDA7Cj4gPiArICAgICB9Cj4gPiArCj4gPiArICAgICAv
KiBUbyBjYW5jZWwgYSBjb250ZXh0IHdlIHVzZSAicHJlZW1wdC10by1pZGxlIiAqLwo+ID4gKyAg
ICAgaWYgKCEoY3R4LT5pOTE1LT5jYXBzLnNjaGVkdWxlciAmCj4gCj4gV2h5IGRvIHdlIG5lZWQg
dG8gZ2l2ZSB1cCBvbiBvbGRlciBkZXZpY2VzPyBJZiB5b3UgZmFpbCB0byBwcmVlbXB0IHlvdSBy
ZXNldCB0aGUgY29udGV4dCBhbnl3YXksIHNvIGNhbid0IHdlIGp1c3QgdXNlIHRoZSByZXNldCBm
YWxsYmFjayBwYXRoPwoKVGhlIGZhbGxiYWNrIHBhdGggaXMgdG8gcmVzZXQgdGhlIGVudGlyZSBn
cHUgd2l0aCBubyByZWdhcmQgYXMgdG8gd2hhdAppcyBhY3R1YWxseSBydW5uaW5nLiBTbyB3ZSBv
bmx5IGFsbG93IHRoZSBjb250ZXh0IHBhcmFtZXRlciBpZiB3ZSBjYW4Kc2FmZWx5IGtpbGwgdGhl
IGNvbnRleHQgb24gY2xvc3VyZS4KLUNocmlzCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fCkludGVsLWdmeCBtYWlsaW5nIGxpc3QKSW50ZWwtZ2Z4QGxpc3Rz
LmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xp
c3RpbmZvL2ludGVsLWdmeA==

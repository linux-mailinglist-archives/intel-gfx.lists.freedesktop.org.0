Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 6C04E28D6B4
	for <lists+intel-gfx@lfdr.de>; Wed, 14 Oct 2020 00:58:07 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 2D1A66E13A;
	Tue, 13 Oct 2020 22:58:04 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga12.intel.com (mga12.intel.com [192.55.52.136])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 0166D6E13A
 for <intel-gfx@lists.freedesktop.org>; Tue, 13 Oct 2020 22:58:02 +0000 (UTC)
IronPort-SDR: dQlpx1tZPyBomFIRCZxswzrUnGGf0xEDox/8Dsm/sfdHU5BjdDPo4HASBrYYXiaNxPFpkfNyxj
 TyOb0E5+hPrA==
X-IronPort-AV: E=McAfee;i="6000,8403,9773"; a="145315610"
X-IronPort-AV: E=Sophos;i="5.77,372,1596524400"; d="scan'208";a="145315610"
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga003.jf.intel.com ([10.7.209.27])
 by fmsmga106.fm.intel.com with ESMTP/TLS/ECDHE-RSA-AES256-GCM-SHA384;
 13 Oct 2020 15:58:02 -0700
IronPort-SDR: egybVm0Qs1mspSaZy3NsCnVdiyDHVZPST36DEysO4Tu8KCqJl3MgA80vpYnWm5w8JZByGt2WSX
 bFEyQ6d/VOAQ==
X-IronPort-AV: E=Sophos;i="5.77,372,1596524400"; d="scan'208";a="313976707"
Received: from josouza-mobl2.jf.intel.com (HELO josouza-MOBL2.intel.com)
 ([10.24.14.55])
 by orsmga003-auth.jf.intel.com with ESMTP/TLS/ECDHE-RSA-AES256-GCM-SHA384;
 13 Oct 2020 15:58:01 -0700
From: =?UTF-8?q?Jos=C3=A9=20Roberto=20de=20Souza?= <jose.souza@intel.com>
To: intel-gfx@lists.freedesktop.org
Date: Tue, 13 Oct 2020 16:01:16 -0700
Message-Id: <20201013230121.331595-1-jose.souza@intel.com>
X-Mailer: git-send-email 2.28.0
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH 1/6] drm/i915/display/psr: Calculate selective
 fetch plane registers
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

QWRkIHRoZSBjYWxjdWxhdGlvbnMgdG8gc2V0IHBsYW5lIHNlbGVjdGl2ZSBmZXRjaCByZWdpc3Rl
cnMgZGVwZW5kaW5nCmluIHRoZSB2YWx1ZSBvZiB0aGUgYXJlYSBkYW1hZ2VkLgpJdCBpcyBzdGls
bCB1c2luZyB0aGUgd2hvbGUgcGxhbmUgYXJlYSBhcyBkYW1hZ2VkIGJ1dCB0aGF0IHdpbGwgY2hh
bmdlCmluIG5leHQgcGF0Y2hlcy4KCkJTcGVjOiA1NTIyOQpDYzogR3dhbi1neWVvbmcgTXVuIDxn
d2FuLWd5ZW9uZy5tdW5AaW50ZWwuY29tPgpDYzogVmlsbGUgU3lyasOkbMOkIDx2aWxsZS5zeXJq
YWxhQGxpbnV4LmludGVsLmNvbT4KU2lnbmVkLW9mZi1ieTogSm9zw6kgUm9iZXJ0byBkZSBTb3V6
YSA8am9zZS5zb3V6YUBpbnRlbC5jb20+Ci0tLQogLi4uL2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxf
ZGlzcGxheV90eXBlcy5oICAgIHwgIDIgKysKIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkv
aW50ZWxfcHNyLmMgICAgICB8IDIyICsrKysrKysrKysrKysrLS0tLS0KIDIgZmlsZXMgY2hhbmdl
ZCwgMTggaW5zZXJ0aW9ucygrKSwgNiBkZWxldGlvbnMoLSkKCmRpZmYgLS1naXQgYS9kcml2ZXJz
L2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXlfdHlwZXMuaCBiL2RyaXZlcnMvZ3B1
L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheV90eXBlcy5oCmluZGV4IDBiNWRmOGU0NDk2
Ni4uYWVjZWIzNzhiY2EzIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5
L2ludGVsX2Rpc3BsYXlfdHlwZXMuaAorKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5
L2ludGVsX2Rpc3BsYXlfdHlwZXMuaApAQCAtNjAzLDYgKzYwMyw4IEBAIHN0cnVjdCBpbnRlbF9w
bGFuZV9zdGF0ZSB7CiAJdTMyIHBsYW5hcl9zbGF2ZTsKIAogCXN0cnVjdCBkcm1faW50ZWxfc3By
aXRlX2NvbG9ya2V5IGNrZXk7CisKKwlzdHJ1Y3QgZHJtX3JlY3QgcHNyMl9zZWxfZmV0Y2hfYXJl
YTsKIH07CiAKIHN0cnVjdCBpbnRlbF9pbml0aWFsX3BsYW5lX2NvbmZpZyB7CmRpZmYgLS1naXQg
YS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX3Bzci5jIGIvZHJpdmVycy9ncHUv
ZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9wc3IuYwppbmRleCBhNTkxYTQ3NWYxNDguLjc3M2E1YjVm
YTA3OCAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9wc3Iu
YworKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX3Bzci5jCkBAIC0xMTcz
LDYgKzExNzMsNyBAQCB2b2lkIGludGVsX3BzcjJfcHJvZ3JhbV9wbGFuZV9zZWxfZmV0Y2goc3Ry
dWN0IGludGVsX3BsYW5lICpwbGFuZSwKIHsKIAlzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2
X3ByaXYgPSB0b19pOTE1KHBsYW5lLT5iYXNlLmRldik7CiAJZW51bSBwaXBlIHBpcGUgPSBwbGFu
ZS0+cGlwZTsKKwljb25zdCBzdHJ1Y3QgZHJtX3JlY3QgKmNsaXA7CiAJdTMyIHZhbDsKIAogCWlm
ICghY3J0Y19zdGF0ZS0+ZW5hYmxlX3BzcjJfc2VsX2ZldGNoKQpAQCAtMTE4NCwxNiArMTE4NSwy
MCBAQCB2b2lkIGludGVsX3BzcjJfcHJvZ3JhbV9wbGFuZV9zZWxfZmV0Y2goc3RydWN0IGludGVs
X3BsYW5lICpwbGFuZSwKIAlpZiAoIXZhbCB8fCBwbGFuZS0+aWQgPT0gUExBTkVfQ1VSU09SKQog
CQlyZXR1cm47CiAKLQl2YWwgPSBwbGFuZV9zdGF0ZS0+dWFwaS5kc3QueTEgPDwgMTYgfCBwbGFu
ZV9zdGF0ZS0+dWFwaS5kc3QueDE7CisJY2xpcCA9ICZwbGFuZV9zdGF0ZS0+cHNyMl9zZWxfZmV0
Y2hfYXJlYTsKKworCXZhbCA9IChjbGlwLT55MSArIHBsYW5lX3N0YXRlLT51YXBpLmRzdC55MSkg
PDwgMTY7CisJdmFsIHw9IHBsYW5lX3N0YXRlLT51YXBpLmRzdC54MTsKIAlpbnRlbF9kZV93cml0
ZV9mdyhkZXZfcHJpdiwgUExBTkVfU0VMX0ZFVENIX1BPUyhwaXBlLCBwbGFuZS0+aWQpLCB2YWwp
OwogCi0JdmFsID0gcGxhbmVfc3RhdGUtPmNvbG9yX3BsYW5lW2NvbG9yX3BsYW5lXS55IDw8IDE2
OworCS8qIFRPRE86IGNvbnNpZGVyIHRpbGluZyBhbmQgYXV4aWxpYXJ5IHN1cmZhY2VzICovCisJ
dmFsID0gKGNsaXAtPnkxICsgcGxhbmVfc3RhdGUtPmNvbG9yX3BsYW5lW2NvbG9yX3BsYW5lXS55
KSA8PCAxNjsKIAl2YWwgfD0gcGxhbmVfc3RhdGUtPmNvbG9yX3BsYW5lW2NvbG9yX3BsYW5lXS54
OwogCWludGVsX2RlX3dyaXRlX2Z3KGRldl9wcml2LCBQTEFORV9TRUxfRkVUQ0hfT0ZGU0VUKHBp
cGUsIHBsYW5lLT5pZCksCiAJCQkgIHZhbCk7CiAKIAkvKiBTaXplcyBhcmUgMCBiYXNlZCAqLwot
CXZhbCA9ICgoZHJtX3JlY3RfaGVpZ2h0KCZwbGFuZV9zdGF0ZS0+dWFwaS5zcmMpID4+IDE2KSAt
IDEpIDw8IDE2OworCXZhbCA9IChkcm1fcmVjdF9oZWlnaHQoY2xpcCkgLSAxKSA8PCAxNjsKIAl2
YWwgfD0gKGRybV9yZWN0X3dpZHRoKCZwbGFuZV9zdGF0ZS0+dWFwaS5zcmMpID4+IDE2KSAtIDE7
CiAJaW50ZWxfZGVfd3JpdGVfZncoZGV2X3ByaXYsIFBMQU5FX1NFTF9GRVRDSF9TSVpFKHBpcGUs
IHBsYW5lLT5pZCksIHZhbCk7CiB9CkBAIC0xMjY3LDcgKzEyNzIsNyBAQCBpbnQgaW50ZWxfcHNy
Ml9zZWxfZmV0Y2hfdXBkYXRlKHN0cnVjdCBpbnRlbF9hdG9taWNfc3RhdGUgKnN0YXRlLAogCiAJ
Zm9yX2VhY2hfb2xkbmV3X2ludGVsX3BsYW5lX2luX3N0YXRlKHN0YXRlLCBwbGFuZSwgb2xkX3Bs
YW5lX3N0YXRlLAogCQkJCQkgICAgIG5ld19wbGFuZV9zdGF0ZSwgaSkgewotCQlzdHJ1Y3QgZHJt
X3JlY3QgdGVtcDsKKwkJc3RydWN0IGRybV9yZWN0ICpzZWxfZmV0Y2hfYXJlYSwgdGVtcDsKIAog
CQlpZiAobmV3X3BsYW5lX3N0YXRlLT51YXBpLmNydGMgIT0gY3J0Y19zdGF0ZS0+dWFwaS5jcnRj
KQogCQkJY29udGludWU7CkBAIC0xMjkwLDggKzEyOTUsMTMgQEAgaW50IGludGVsX3BzcjJfc2Vs
X2ZldGNoX3VwZGF0ZShzdHJ1Y3QgaW50ZWxfYXRvbWljX3N0YXRlICpzdGF0ZSwKIAkJICogRm9y
IG5vdyBkb2luZyBhIHNlbGVjdGl2ZSBmZXRjaCBpbiB0aGUgd2hvbGUgcGxhbmUgYXJlYSwKIAkJ
ICogb3B0aW1pemF0aW9ucyB3aWxsIGNvbWUgaW4gdGhlIGZ1dHVyZS4KIAkJICovCi0JCXRlbXAu
eTEgPSBuZXdfcGxhbmVfc3RhdGUtPnVhcGkuZHN0LnkxOwotCQl0ZW1wLnkyID0gbmV3X3BsYW5l
X3N0YXRlLT51YXBpLmRzdC55MjsKKwkJc2VsX2ZldGNoX2FyZWEgPSAmbmV3X3BsYW5lX3N0YXRl
LT5wc3IyX3NlbF9mZXRjaF9hcmVhOworCQlzZWxfZmV0Y2hfYXJlYS0+eTEgPSBuZXdfcGxhbmVf
c3RhdGUtPnVhcGkuc3JjLnkxID4+IDE2OworCQlzZWxfZmV0Y2hfYXJlYS0+eTIgPSBuZXdfcGxh
bmVfc3RhdGUtPnVhcGkuc3JjLnkyID4+IDE2OworCisJCXRlbXAgPSAqc2VsX2ZldGNoX2FyZWE7
CisJCXRlbXAueTEgKz0gbmV3X3BsYW5lX3N0YXRlLT51YXBpLmRzdC55MSA+PiAxNjsKKwkJdGVt
cC55MiArPSBuZXdfcGxhbmVfc3RhdGUtPnVhcGkuZHN0LnkxID4+IDE2OwogCQljbGlwX2FyZWFf
dXBkYXRlKCZwaXBlX2NsaXAsICZ0ZW1wKTsKIAl9CiAKLS0gCjIuMjguMAoKX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KSW50ZWwtZ2Z4IG1haWxpbmcgbGlz
dApJbnRlbC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0
b3Aub3JnL21haWxtYW4vbGlzdGluZm8vaW50ZWwtZ2Z4Cg==

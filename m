Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 3E1FFC3049
	for <lists+intel-gfx@lfdr.de>; Tue,  1 Oct 2019 11:33:33 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id A526C6E0D6;
	Tue,  1 Oct 2019 09:33:31 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga17.intel.com (mga17.intel.com [192.55.52.151])
 by gabe.freedesktop.org (Postfix) with ESMTPS id AFFEB6E0D6
 for <intel-gfx@lists.freedesktop.org>; Tue,  1 Oct 2019 09:33:30 +0000 (UTC)
X-Amp-Result: UNKNOWN
X-Amp-Original-Verdict: FILE UNKNOWN
X-Amp-File-Uploaded: False
Received: from fmsmga007.fm.intel.com ([10.253.24.52])
 by fmsmga107.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 01 Oct 2019 02:33:30 -0700
X-IronPort-AV: E=Sophos;i="5.64,570,1559545200"; d="scan'208";a="191407429"
Received: from ideak-desk.fi.intel.com ([10.237.68.142])
 by fmsmga007-auth.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 01 Oct 2019 02:33:27 -0700
Date: Tue, 1 Oct 2019 12:32:22 +0300
From: Imre Deak <imre.deak@intel.com>
To: Anshuman Gupta <anshuman.gupta@intel.com>
Message-ID: <20191001093222.GB21284@ideak-desk.fi.intel.com>
References: <20190930174137.15233-1-anshuman.gupta@intel.com>
 <20190930174137.15233-6-anshuman.gupta@intel.com>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <20190930174137.15233-6-anshuman.gupta@intel.com>
User-Agent: Mutt/1.9.4 (2018-02-28)
Subject: Re: [Intel-gfx] [PATCH v10 5/6] drm/i915/tgl: Switch between dc3co
 and dc5 based on display idleness
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Reply-To: imre.deak@intel.com
Cc: jani.nikula@intel.com, intel-gfx@lists.freedesktop.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

T24gTW9uLCBTZXAgMzAsIDIwMTkgYXQgMTE6MTE6MzZQTSArMDUzMCwgQW5zaHVtYW4gR3VwdGEg
d3JvdGU6Cj4gREMzQ08gaXMgdXNlZnVsIHBvd2VyIHN0YXRlLCB3aGVuIERNQyBkZXRlY3RzIFBT
UjIgaWRsZSBmcmFtZQo+IHdoaWxlIGFuIGFjdGl2ZSB2aWRlbyBwbGF5YmFjaywgcGxheWluZyAz
MGZwcyB2aWRlbyBvbiA2MGh6IHBhbmVsCj4gaXMgdGhlIGNsYXNzaWMgZXhhbXBsZSBvZiB0aGlz
IHVzZSBjYXNlLgo+IAo+IEIuU3BlY3M6NDkxOTYgaGFzIGEgcmVzdHJpY3Rpb24gdG8gZW5hYmxl
IERDM0NPIG9ubHkgZm9yIFZpZGVvIFBsYXliYWNrLgo+IEl0IHdpbGwgYmUgd29ydGh5IHRvIGVu
YWJsZSBEQzNDTyBhZnRlciBjb21wbGV0aW9uIG9mIGVhY2ggcGFnZWZsaXAKPiBhbmQgc3dpdGNo
IGJhY2sgdG8gREM1IHdoZW4gZGlzcGxheSBpcyBpZGxlIGJlY2F1c2UgZHJpdmVyIGRvZXNuJ3QK
PiBkaWZmZXJlbnRpYXRlIGJldHdlZW4gdmlkZW8gcGxheWJhY2sgYW5kIGEgbm9ybWFsIHBhZ2Vm
bGlwLgo+IFdlIHdpbGwgdXNlIEZyb250YnVmZmVyIGZsdXNoIGNhbGwgdGdsX2RjM2NvX2ZsdXNo
KCkgdG8gZW5hYmxlIERDM0NPCj4gc3RhdGUgb25seSBmb3IgT1JJR0lOX0ZMSVAgZmx1c2ggY2Fs
bCwgYmVjYXVzZSBEQzNDTyBzdGF0ZSBoYXMgcHJpbWFyaWx5Cj4gdGFyZ2V0ZWQgZm9yIFZQQiB1
c2UgY2FzZS4gV2UgYXJlIG5vdCBpbnRlcmVzdGVkIGhlcmUgZm9yIGZyb250YnVmZmVyCj4gaW52
YWxpZGF0ZXMgY2FsbHMgYmVjYXVzZSB0aGF0IHRyaWdnZXJzIFBTUjIgZXhpdCwgd2hpY2ggd2ls
bAo+IGV4cGxpY2l0bHkgZGlzYWJsZSBEQzNDTy4KPiAKPiBEQzUgYW5kIERDNiBzYXZlcyBtb3Jl
IHBvd2VyLCBidXQgY2FuJ3QgYmUgZW50ZXJlZCBkdXJpbmcgdmlkZW8KPiBwbGF5YmFjayBiZWNh
dXNlIHRoZXJlIGFyZSBub3QgZW5vdWdoIGlkbGUgZnJhbWVzIGluIGEgcm93IHRvIG1lZXQKPiBt
b3N0IFBTUjIgcGFuZWwgZGVlcCBzbGVlcCBlbnRyeSByZXF1aXJlbWVudCB0eXBpY2FsbHkgNCBm
cmFtZXMuCj4gQXMgUFNSMiBleGlzdGluZyBpbXBsZW1lbnRhdGlvbiBpcyB1c2luZyBtaW5pbXVt
IDYgaWRsZSBmcmFtZXMgZm9yCj4gZGVlcCBzbGVlcCwgaXQgaXMgc2FmZXIgdG8gZW5hYmxlIERD
NS82IGFmdGVyIDYgaWRsZSBmcmFtZXMKPiAoQnkgc2NoZWR1bGluZyBhIGRlbGF5ZWQgd29yayBv
ZiA2IGlkbGUgZnJhbWVzLCBvbmNlIERDM0NPIGhhcyBiZWVuCj4gZW5hYmxlZCBhZnRlciBhIHBh
Z2VmbGlwKS4KPiAKPiBBZnRlciBtYW51YWxseSB3YWl0aW5nIGZvciA2IGlkbGUgZnJhbWVzIERD
NS82IHdpbGwgYmUgZW5hYmxlZCBhbmQKPiBQU1IyIGRlZXAgc2xlZXAgaWRsZSBmcmFtZXMgd2ls
bCBiZSByZXN0b3JlZCB0byA2IGlkbGUgZnJhbWVzLCBhdCB0aGlzCj4gcG9pbnQgRE1DIHdpbGwg
dHJpZ2dlcnMgREM1LzYgb25jZSBQU1IyIGVudGVycyB0byBkZWVwIHNsZWVwIGFmdGVyCj4gNiBp
ZGxlIGZyYW1lcy4KPiBJbiBmdXR1cmUgd2hlbiB3ZSB3aWxsIGVuYWJsZSBTL1cgUFNSMiB0cmFj
a2luZywgd2UgY2FuIGNoYW5nZSB0aGUKPiBQU1IyIHJlcXVpcmVkIGRlZXAgc2xlZXAgaWRsZSBm
cmFtZXMgdG8gMSBzbyBETUMgY2FuIHRyaWdnZXIgdGhlCj4gREM1LzYgaW1tZWRpYXRlbHkgYWZ0
ZXIgUy9XIG1hbnVhbCB3YWl0aW5nIG9mIDYgaWRsZSBmcmFtZXMgZ2V0Cj4gY29tcGxldGUuCj4g
Cj4gdjI6IGNhbGN1bGF0ZWQgcy93IHN0YXRlIHRvIHN3aXRjaCBvdmVyIGRjM2NvIHdoZW4gdGhl
cmUgaXMgYW4KPiAgICAgdXBkYXRlLiBbSW1yZV0KPiAgICAgVXNlZCBjYW5jZWxfZGVsYXllZF93
b3JrX3N5bmMoKSBpbiBvcmRlciB0byBhdm9pZCBhbnkgcmFjZQo+ICAgICB3aXRoIGFscmVhZHkg
c2NoZWR1bGVkIGRlbGF5ZWQgd29yay4gW0ltcmVdCj4gdjM6IENhbmNlbF9kZWxheWVkX3dvcmtf
c3luYygpIG1heSBibG9ja2VkIHRoZSBjb21taXQgd29yay4KPiAgICAgaGVuY2UgZHJvcHBpbmcg
aXQsIGRjNV9pZGxlX3RocmVhZCgpIGNoZWNrcyB0aGUgdmFsaWQgd2FrZXJlZiBiZWZvcmUKPiAg
ICAgcHV0dGluZyB0aGUgcmVmZXJlbmNlIGNvdW50LCB3aGljaCBhdm9pZHMgYW55IGNoYW5jZXMg
b2YgZHJvcHBpbmcKPiAgICAgYSB6ZXJvIHdha2VyZWYuIFtJbXJlIChJUkMpXQo+IHY0OiBVc2Vk
IGZyb250YnVmZmVyIGZsdXNoIG1lY2hhbmlzbS4gW0ltcmVdCj4gdjU6IFVzZWQgcHNyLnBpcGUg
dG8gZXh0cmFjdCBmcm9udGJ1ZmZlciBidXN5IGJpdHMuIFtJbXJlXQo+ICAgICBVc2VkIGNhbmNl
bF9kZWxheWVkX3dvcmtfc3luYygpIGluIGVuY29kZXIgZGlzYWJsZSBwYXRoLiBbSW1yZV0KPiAg
ICAgVXNlZCBtb2RfZGVsYXllZF93b3JrKCkgaW5zdGVhZCBvZiBjYW5jZWxsaW5nIGFuZCBzY2hl
ZHVsaW5nIGEKPiAgICAgZGVsYXllZCB3b3JrLiBbSW1yZV0KPiAgICAgVXNlZCBwc3IubG9jayBp
biB0Z2xfZGM1X2lkbGVfdGhyZWFkKCkgdG8gZW5hYmxlIHBzcjIgZGVlcAo+ICAgICBzbGVlcC4g
W0ltcmVdCj4gICAgIFJlbW92ZWQgREM1X1JFUV9JRExFX0ZSQU1FUyBtYWNyby4gW0ltcmVdCj4g
djY6IFVzZWQgZGMzY29fZXhpdGxpbmUgY2hlY2sgaW5zdGVhZCBvZiBUR0wgYW5kIGRjM2NvIGFs
bG93ZWRfZGNfbWFzawo+ICAgICBjaGVja3MsIHVzZWQgZGVsYXllZF93b3JrX3BlbmRpbmcgd2l0
aCB0aGUgcHNyIGxvY2sgYW5kIHJlbW92ZWQgdGhlCj4gICAgIHBzcjJfZGVlcF9zbHBfZGlzYWJs
ZWQgZmxhZy4gW0ltcmVdCj4gdjc6IENvZGUgcmVmYWN0b3JpbmcgbW92ZWQgdGhlIG1vc3Qgb2Yg
ZnVuY3Rpb25hbCBjb2RlIHRvIGludGVfcHNyLmMgW0ltcmVdCj4gICAgIFVzaW5nIGZyb250YnVm
ZmVyX2JpdHMgb24gcHNyLnBpcGUgY2hlY2sgaW5zdGVhZCBvZgo+ICAgICBidXN5X2Zyb250YnVm
ZmVyX2JpdHMuIFtJbXJlXQo+IAo+IENjOiBKYW5pIE5pa3VsYSA8amFuaS5uaWt1bGFAaW50ZWwu
Y29tPgo+IENjOiBJbXJlIERlYWsgPGltcmUuZGVha0BpbnRlbC5jb20+Cj4gQ2M6IEFuaW1lc2gg
TWFubmEgPGFuaW1lc2gubWFubmFAaW50ZWwuY29tPgo+IFNpZ25lZC1vZmYtYnk6IEFuc2h1bWFu
IEd1cHRhIDxhbnNodW1hbi5ndXB0YUBpbnRlbC5jb20+Cj4gLS0tCj4gIC4uLi9kcm0vaTkxNS9k
aXNwbGF5L2ludGVsX2Rpc3BsYXlfcG93ZXIuYyAgICB8ICA0NSArKysrKysrKwo+ICAuLi4vZHJt
L2k5MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5X3Bvd2VyLmggICAgfCAgIDIgKwo+ICBkcml2ZXJz
L2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX3Bzci5jICAgICAgfCAxMDkgKysrKysrKysrKysr
KysrKystCj4gIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZHJ2LmggICAgICAgICAgICAgICB8
ICAgMiArCj4gIDQgZmlsZXMgY2hhbmdlZCwgMTU3IGluc2VydGlvbnMoKyksIDEgZGVsZXRpb24o
LSkKPiAKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9k
aXNwbGF5X3Bvd2VyLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3Bs
YXlfcG93ZXIuYwo+IGluZGV4IDY3YmE5MmRkODM2Ni4uOWZkZGViZmRhMTY5IDEwMDY0NAo+IC0t
LSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheV9wb3dlci5jCj4g
KysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5X3Bvd2VyLmMK
PiBAQCAtODg2LDYgKzg4Niw1MSBAQCBsb29rdXBfcG93ZXJfd2VsbChzdHJ1Y3QgZHJtX2k5MTVf
cHJpdmF0ZSAqZGV2X3ByaXYsCj4gIAlyZXR1cm4gJmRldl9wcml2LT5wb3dlcl9kb21haW5zLnBv
d2VyX3dlbGxzWzBdOwo+ICB9Cj4gIAo+ICsvKioKPiArICogaW50ZWxfZGlzcGxheV9wb3dlcl9z
ZXRfdGFyZ2V0X2RjX3N0YXRlIC0gU2V0IHRhcmdldCBkYyBzdGF0ZS4KPiArICogQGRldl9wcml2
OiBpOTE1IGRldmljZQo+ICsgKiBAc3RhdGU6IHN0YXRlIHdoaWNoIG5lZWRzIHRvIGJlIHNldCBh
cyB0YXJnZXRfZGNfc3RhdGUuCj4gKyAqCj4gKyAqIFRoaXMgZnVuY3Rpb24gc2V0IHRoZSAiREMg
b2ZmIiBwb3dlciB3ZWxsIHRhcmdldF9kY19zdGF0ZSwKPiArICogYmFzZWQgdXBvbiB0aGlzIHRh
cmdldF9kY19zdHN0ZSwgIkRDIG9mZiIgcG93ZXIgd2VsbCB3aWxsCj4gKyAqIGVuYWJsZSBkZXNp
cmVkIERDIHN0YXRlLgo+ICsgKi8KPiArdm9pZCBpbnRlbF9kaXNwbGF5X3Bvd2VyX3NldF90YXJn
ZXRfZGNfc3RhdGUoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2LAo+ICsJCQkJCSAg
ICAgdTMyIHN0YXRlKQo+ICt7Cj4gKwlzdHJ1Y3QgaTkxNV9wb3dlcl93ZWxsICpwb3dlcl93ZWxs
Owo+ICsJYm9vbCBkY19vZmZfZW5hYmxlZDsKPiArCXN0cnVjdCBpOTE1X3Bvd2VyX2RvbWFpbnMg
KnBvd2VyX2RvbWFpbnMgPSAmZGV2X3ByaXYtPnBvd2VyX2RvbWFpbnM7Cj4gKwo+ICsJbXV0ZXhf
bG9jaygmcG93ZXJfZG9tYWlucy0+bG9jayk7Cj4gKwlwb3dlcl93ZWxsID0gbG9va3VwX3Bvd2Vy
X3dlbGwoZGV2X3ByaXYsIFNLTF9ESVNQX0RDX09GRik7Cj4gKwo+ICsJaWYgKFdBUk5fT04oIXBv
d2VyX3dlbGwpKQo+ICsJCWdvdG8gdW5sb2NrOwo+ICsKPiArCXN0YXRlID0gc2FuaXRpemVfdGFy
Z2V0X2RjX3N0YXRlKGRldl9wcml2LCBzdGF0ZSk7Cj4gKwo+ICsJaWYgKHN0YXRlID09IGRldl9w
cml2LT5jc3IudGFyZ2V0X2RjX3N0YXRlKQo+ICsJCWdvdG8gdW5sb2NrOwo+ICsKPiArCWRjX29m
Zl9lbmFibGVkID0gcG93ZXJfd2VsbC0+ZGVzYy0+b3BzLT5pc19lbmFibGVkKGRldl9wcml2LAo+
ICsJCQkJCQkJICAgcG93ZXJfd2VsbCk7Cj4gKwkvKgo+ICsJICogSWYgREMgb2ZmIHBvd2VyIHdl
bGwgaXMgZGlzYWJsZWQsIG5lZWQgdG8gZW5hYmxlIGFuZCBkaXNhYmxlIHRoZQo+ICsJICogREMg
b2ZmIHBvd2VyIHdlbGwgdG8gZWZmZWN0IHRhcmdldCBEQyBzdGF0ZS4KPiArCSAqLwo+ICsJaWYg
KCFkY19vZmZfZW5hYmxlZCkKPiArCQlwb3dlcl93ZWxsLT5kZXNjLT5vcHMtPmVuYWJsZShkZXZf
cHJpdiwgcG93ZXJfd2VsbCk7Cj4gKwo+ICsJZGV2X3ByaXYtPmNzci50YXJnZXRfZGNfc3RhdGUg
PSBzdGF0ZTsKPiArCj4gKwlpZiAoIWRjX29mZl9lbmFibGVkKQo+ICsJCXBvd2VyX3dlbGwtPmRl
c2MtPm9wcy0+ZGlzYWJsZShkZXZfcHJpdiwgcG93ZXJfd2VsbCk7Cj4gKwo+ICt1bmxvY2s6Cj4g
KwltdXRleF91bmxvY2soJnBvd2VyX2RvbWFpbnMtPmxvY2spOwo+ICt9Cj4gKwo+ICBzdGF0aWMg
dm9pZCBhc3NlcnRfY2FuX2VuYWJsZV9kYzUoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9w
cml2KQo+ICB7Cj4gIAlib29sIHBnMl9lbmFibGVkID0gaW50ZWxfZGlzcGxheV9wb3dlcl93ZWxs
X2lzX2VuYWJsZWQoZGV2X3ByaXYsCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1
L2Rpc3BsYXkvaW50ZWxfZGlzcGxheV9wb3dlci5oIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlz
cGxheS9pbnRlbF9kaXNwbGF5X3Bvd2VyLmgKPiBpbmRleCA3ZDcyZmFmNDc0YjIuLjFkYTA0ZjNl
MGZiMyAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rp
c3BsYXlfcG93ZXIuaAo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxf
ZGlzcGxheV9wb3dlci5oCj4gQEAgLTI1Nyw2ICsyNTcsOCBAQCB2b2lkIGludGVsX2Rpc3BsYXlf
cG93ZXJfc3VzcGVuZF9sYXRlKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICppOTE1KTsKPiAgdm9p
ZCBpbnRlbF9kaXNwbGF5X3Bvd2VyX3Jlc3VtZV9lYXJseShzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0
ZSAqaTkxNSk7Cj4gIHZvaWQgaW50ZWxfZGlzcGxheV9wb3dlcl9zdXNwZW5kKHN0cnVjdCBkcm1f
aTkxNV9wcml2YXRlICppOTE1KTsKPiAgdm9pZCBpbnRlbF9kaXNwbGF5X3Bvd2VyX3Jlc3VtZShz
dHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSk7Cj4gK3ZvaWQgaW50ZWxfZGlzcGxheV9wb3dl
cl9zZXRfdGFyZ2V0X2RjX3N0YXRlKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiwK
PiArCQkJCQkgICAgIHUzMiBzdGF0ZSk7Cj4gIAo+ICBjb25zdCBjaGFyICoKPiAgaW50ZWxfZGlz
cGxheV9wb3dlcl9kb21haW5fc3RyKGVudW0gaW50ZWxfZGlzcGxheV9wb3dlcl9kb21haW4gZG9t
YWluKTsKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9w
c3IuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfcHNyLmMKPiBpbmRleCBi
M2M3ZWVmNTNiZjMuLjZhNmYxMDMxZDI5YiAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0v
aTkxNS9kaXNwbGF5L2ludGVsX3Bzci5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlz
cGxheS9pbnRlbF9wc3IuYwo+IEBAIC01MzQsNiArNTM0LDY4IEBAIHRyYW5zY29kZXJfaGFzX3Bz
cjIoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2LCBlbnVtIHRyYW5zY29kZXIgdHJh
bnMpCj4gIAkJcmV0dXJuIHRyYW5zID09IFRSQU5TQ09ERVJfRURQOwo+ICB9Cj4gIAo+ICtzdGF0
aWMgdm9pZCBwc3IyX3Byb2dyYW1faWRsZV9mcmFtZXMoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUg
KmRldl9wcml2LAo+ICsJCQkJICAgICB1MzIgaWRsZV9mcmFtZXMpCj4gK3sKPiArCXUzMiB2YWw7
Cj4gKwo+ICsJaWRsZV9mcmFtZXMgPDw9ICBFRFBfUFNSMl9JRExFX0ZSQU1FX1NISUZUOwo+ICsJ
dmFsID0gSTkxNV9SRUFEKEVEUF9QU1IyX0NUTChkZXZfcHJpdi0+cHNyLnRyYW5zY29kZXIpKTsK
PiArCXZhbCAmPSB+RURQX1BTUjJfSURMRV9GUkFNRV9NQVNLOwo+ICsJdmFsIHw9IGlkbGVfZnJh
bWVzOwo+ICsJSTkxNV9XUklURShFRFBfUFNSMl9DVEwoZGV2X3ByaXYtPnBzci50cmFuc2NvZGVy
KSwgdmFsKTsKPiArfQo+ICsKPiArc3RhdGljIHZvaWQgdGdsX3BzcjJfZGVlcF9zbGVlcF9kaXNh
YmxlKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdikKPiArewo+ICsJcHNyMl9wcm9n
cmFtX2lkbGVfZnJhbWVzKGRldl9wcml2LCAwKTsKPiArfQo+ICsKPiArc3RhdGljIHZvaWQgdGds
X3BzcjJfZGVlcF9zbGVlcF9lbmFibGUoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2
KQo+ICt7Cj4gKwlpbnQgaWRsZV9mcmFtZXM7Cj4gKwo+ICsJLyoKPiArCSAqIExldCdzIHVzZSA2
IGFzIHRoZSBtaW5pbXVtIHRvIGNvdmVyIGFsbCBrbm93biBjYXNlcyBpbmNsdWRpbmcgdGhlCj4g
KwkgKiBvZmYtYnktb25lIGlzc3VlIHRoYXQgSFcgaGFzIGluIHNvbWUgY2FzZXMuCj4gKwkgKi8K
PiArCWlkbGVfZnJhbWVzID0gbWF4KDYsIGRldl9wcml2LT52YnQucHNyLmlkbGVfZnJhbWVzKTsK
PiArCWlkbGVfZnJhbWVzID0gbWF4KGlkbGVfZnJhbWVzLCBkZXZfcHJpdi0+cHNyLnNpbmtfc3lu
Y19sYXRlbmN5ICsgMSk7Cj4gKwlwc3IyX3Byb2dyYW1faWRsZV9mcmFtZXMoZGV2X3ByaXYsIGlk
bGVfZnJhbWVzKTsKPiArfQo+ICsKPiArc3RhdGljIHZvaWQgdGdsX2VuYWJsZV9wc3IyX2RlZXBf
c2xlZXBfZGM2KHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdikKPiArewo+ICsJaW50
ZWxfZGlzcGxheV9wb3dlcl9zZXRfdGFyZ2V0X2RjX3N0YXRlKGRldl9wcml2LCBEQ19TVEFURV9F
Tl9VUFRPX0RDNik7Cj4gKwl0Z2xfcHNyMl9kZWVwX3NsZWVwX2VuYWJsZShkZXZfcHJpdik7Cj4g
K30KPiArCj4gK3N0YXRpYyB2b2lkIHRnbF9kYzVfaWRsZV90aHJlYWQoc3RydWN0IHdvcmtfc3Ry
dWN0ICp3b3JrKQo+ICt7Cj4gKwlzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYgPQo+
ICsJCWNvbnRhaW5lcl9vZih3b3JrLCB0eXBlb2YoKmRldl9wcml2KSwgcHNyLmlkbGVfd29yay53
b3JrKTsKPiArCj4gKwltdXRleF9sb2NrKCZkZXZfcHJpdi0+cHNyLmxvY2spOwo+ICsJLyogSWYg
ZGVsYXllZCB3b3JrIGlzIHBlbmRpbmcsIGl0IGlzIG5vdCBpZGxlICovCj4gKwlpZiAoZGVsYXll
ZF93b3JrX3BlbmRpbmcoJmRldl9wcml2LT5wc3IuaWRsZV93b3JrKSkKPiArCQlnb3RvIHVubG9j
azsKPiArCj4gKwlEUk1fREVCVUdfS01TKCJEQzUvNiBpZGxlIHRocmVhZFxuIik7Cj4gKwl0Z2xf
ZW5hYmxlX3BzcjJfZGVlcF9zbGVlcF9kYzYoZGV2X3ByaXYpOwo+ICt1bmxvY2s6Cj4gKwltdXRl
eF91bmxvY2soJmRldl9wcml2LT5wc3IubG9jayk7Cj4gK30KPiArCj4gK3N0YXRpYyB2b2lkIHRn
bF9kaXNhbGxvd19kYzNjb19vbl9wc3IyX2V4aXQoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRl
dl9wcml2KQo+ICt7Cj4gKwlpZiAoIWRldl9wcml2LT5wc3IuZGMzY29fZXhpdGxpbmUpCj4gKwkJ
cmV0dXJuOwo+ICsKPiArCWNhbmNlbF9kZWxheWVkX3dvcmsoJmRldl9wcml2LT5wc3IuaWRsZV93
b3JrKTsKPiArCS8qIEJlZm9yZSBQU1IyIGV4aXQgZGlzYWxsb3cgZGMzY28qLwo+ICsJdGdsX2Vu
YWJsZV9wc3IyX2RlZXBfc2xlZXBfZGM2KGRldl9wcml2KTsKPiArfQo+ICsKPiAgc3RhdGljIGJv
b2wgaW50ZWxfcHNyMl9jb25maWdfdmFsaWQoc3RydWN0IGludGVsX2RwICppbnRlbF9kcCwKPiAg
CQkJCSAgICBzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqY3J0Y19zdGF0ZSkKPiAgewo+IEBAIC03
NDYsNiArODA4LDcgQEAgc3RhdGljIHZvaWQgaW50ZWxfcHNyX2VuYWJsZV9sb2NrZWQoc3RydWN0
IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2LAo+ICAJZGV2X3ByaXYtPnBzci5wc3IyX2VuYWJs
ZWQgPSBpbnRlbF9wc3IyX2VuYWJsZWQoZGV2X3ByaXYsIGNydGNfc3RhdGUpOwo+ICAJZGV2X3By
aXYtPnBzci5idXN5X2Zyb250YnVmZmVyX2JpdHMgPSAwOwo+ICAJZGV2X3ByaXYtPnBzci5waXBl
ID0gdG9faW50ZWxfY3J0YyhjcnRjX3N0YXRlLT5iYXNlLmNydGMpLT5waXBlOwo+ICsJZGV2X3By
aXYtPnBzci5kYzNjb19leGl0bGluZSA9IGNydGNfc3RhdGUtPmRjM2NvX2V4aXRsaW5lOwoKSGVy
ZSB3ZSBvbmx5IG5lZWQgdG8ga25vdyBpZiBEQzNjbyBpcyBlbmFibGVkIHNvIGZvciBjbGFyaXR5
IHlvdSBjb3VsZAp0cmFjayB0aGF0IHdpdGggYSBwc3IuZGMzY29fZW5hYmxlZCBib29sIGluc3Rl
YWQgb2YgcHNyLmRjM2NvX2V4aXRsaW5lLgoKV2l0aCBtb3ZpbmcgdGhlIGRjM2NvX2V4aXRfZGVs
YXkgY2FsY3VsYXRpb24gdG8gaGVyZSB0aGUgcGF0Y2hzZXQgaXM6ClJldmlld2VkLWJ5OiBJbXJl
IERlYWsgPGltcmUuZGVha0BpbnRlbC5jb20+Cgo+ICAJZGV2X3ByaXYtPnBzci50cmFuc2NvZGVy
ID0gY3J0Y19zdGF0ZS0+Y3B1X3RyYW5zY29kZXI7Cj4gIAo+ICAJLyoKPiBAQCAtODI5LDYgKzg5
Miw3IEBAIHN0YXRpYyB2b2lkIGludGVsX3Bzcl9leGl0KHN0cnVjdCBkcm1faTkxNV9wcml2YXRl
ICpkZXZfcHJpdikKPiAgCX0KPiAgCj4gIAlpZiAoZGV2X3ByaXYtPnBzci5wc3IyX2VuYWJsZWQp
IHsKPiArCQl0Z2xfZGlzYWxsb3dfZGMzY29fb25fcHNyMl9leGl0KGRldl9wcml2KTsKPiAgCQl2
YWwgPSBJOTE1X1JFQUQoRURQX1BTUjJfQ1RMKGRldl9wcml2LT5wc3IudHJhbnNjb2RlcikpOwo+
ICAJCVdBUk5fT04oISh2YWwgJiBFRFBfUFNSMl9FTkFCTEUpKTsKPiAgCQl2YWwgJj0gfkVEUF9Q
U1IyX0VOQUJMRTsKPiBAQCAtOTAxLDYgKzk2NSw3IEBAIHZvaWQgaW50ZWxfcHNyX2Rpc2FibGUo
c3RydWN0IGludGVsX2RwICppbnRlbF9kcCwKPiAgCj4gIAltdXRleF91bmxvY2soJmRldl9wcml2
LT5wc3IubG9jayk7Cj4gIAljYW5jZWxfd29ya19zeW5jKCZkZXZfcHJpdi0+cHNyLndvcmspOwo+
ICsJY2FuY2VsX2RlbGF5ZWRfd29ya19zeW5jKCZkZXZfcHJpdi0+cHNyLmlkbGVfd29yayk7Cj4g
IH0KPiAgCj4gIHN0YXRpYyB2b2lkIHBzcl9mb3JjZV9od190cmFja2luZ19leGl0KHN0cnVjdCBk
cm1faTkxNV9wcml2YXRlICpkZXZfcHJpdikKPiBAQCAtMTIwOCw2ICsxMjczLDQ1IEBAIHZvaWQg
aW50ZWxfcHNyX2ludmFsaWRhdGUoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2LAo+
ICAJbXV0ZXhfdW5sb2NrKCZkZXZfcHJpdi0+cHNyLmxvY2spOwo+ICB9Cj4gIAo+ICsvKgo+ICsg
KiBXaGVuIHdlIHdpbGwgYmUgY29tcGxldGVseSByZWx5IG9uIFBTUjIgUy9XIHRyYWNraW5nIGlu
IGZ1dHVyZSwKPiArICogaW50ZWxfcHNyX2ZsdXNoKCkgd2lsbCBpbnZhbGlkYXRlIGFuZCBmbHVz
aCB0aGUgUFNSIGZvciBPUklHSU5fRkxJUAo+ICsgKiBldmVudCBhbHNvIHRoZXJlZm9yZSB0Z2xf
ZGMzY29fZmx1c2goKSByZXF1aXJlIHRvIGJlIGNoYW5nZWQKPiArICogYWNjcm9kaW5nbHkgaW4g
ZnV0dXJlLgo+ICsgKi8KPiArc3RhdGljIHZvaWQKPiArdGdsX2RjM2NvX2ZsdXNoKHN0cnVjdCBk
cm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiwKPiArCQl1bnNpZ25lZCBpbnQgZnJvbnRidWZmZXJf
Yml0cywgZW51bSBmYl9vcF9vcmlnaW4gb3JpZ2luKQo+ICt7Cj4gKwl1MzIgZGVsYXk7Cj4gKwo+
ICsJbXV0ZXhfbG9jaygmZGV2X3ByaXYtPnBzci5sb2NrKTsKPiArCj4gKwlpZiAoIWRldl9wcml2
LT5wc3IuZGMzY29fZXhpdGxpbmUpCj4gKwkJZ290byB1bmxvY2s7Cj4gKwo+ICsJaWYgKCFkZXZf
cHJpdi0+cHNyLnBzcjJfZW5hYmxlZCB8fCAhZGV2X3ByaXYtPnBzci5hY3RpdmUpCj4gKwkJZ290
byB1bmxvY2s7Cj4gKwo+ICsJLyoKPiArCSAqIEF0IGV2ZXJ5IGZyb250YnVmZmVyIGZsdXNoIGZs
aXAgZXZlbnQgbW9kaWZpZWQgZGVsYXkgb2YgZGVsYXllZCB3b3JrLAo+ICsJICogd2hlbiBkZWxh
eWVkIHdvcmsgc2NoZWR1bGVzIHRoYXQgbWVhbnMgZGlzcGxheSBoYXMgYmVlbiBpZGxlLgo+ICsJ
ICovCj4gKwlpZiAoIShmcm9udGJ1ZmZlcl9iaXRzICYKPiArCSAgICBJTlRFTF9GUk9OVEJVRkZF
Ul9BTExfTUFTSyhkZXZfcHJpdi0+cHNyLnBpcGUpKSkKPiArCQlnb3RvIHVubG9jazsKPiArCj4g
Kwl0Z2xfcHNyMl9kZWVwX3NsZWVwX2Rpc2FibGUoZGV2X3ByaXYpOwo+ICsJaW50ZWxfZGlzcGxh
eV9wb3dlcl9zZXRfdGFyZ2V0X2RjX3N0YXRlKGRldl9wcml2LCBEQ19TVEFURV9FTl9EQzNDTyk7
Cj4gKwkvKiBEQzUvREM2IHJlcXVpcmVkIGlkbGUgZnJhbWVzID0gNiAqLwo+ICsJZGVsYXkgPSA2
ICogZGV2X3ByaXYtPnBzci5kYzNjb19mcmFtZV90aW1lX3VzOwo+ICsJbW9kX2RlbGF5ZWRfd29y
ayhzeXN0ZW1fd3EsICZkZXZfcHJpdi0+cHNyLmlkbGVfd29yaywKPiArCQkJIHVzZWNzX3RvX2pp
ZmZpZXMoZGVsYXkpKTsKPiArCj4gK3VubG9jazoKPiArCW11dGV4X3VubG9jaygmZGV2X3ByaXYt
PnBzci5sb2NrKTsKPiArfQo+ICsKPiAgLyoqCj4gICAqIGludGVsX3Bzcl9mbHVzaCAtIEZsdXNo
IFBTUgo+ICAgKiBAZGV2X3ByaXY6IGk5MTUgZGV2aWNlCj4gQEAgLTEyMjcsOCArMTMzMSwxMCBA
QCB2b2lkIGludGVsX3Bzcl9mbHVzaChzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYs
Cj4gIAlpZiAoIUNBTl9QU1IoZGV2X3ByaXYpKQo+ICAJCXJldHVybjsKPiAgCj4gLQlpZiAob3Jp
Z2luID09IE9SSUdJTl9GTElQKQo+ICsJaWYgKG9yaWdpbiA9PSBPUklHSU5fRkxJUCkgewo+ICsJ
CXRnbF9kYzNjb19mbHVzaChkZXZfcHJpdiwgZnJvbnRidWZmZXJfYml0cywgb3JpZ2luKTsKPiAg
CQlyZXR1cm47Cj4gKwl9Cj4gIAo+ICAJbXV0ZXhfbG9jaygmZGV2X3ByaXYtPnBzci5sb2NrKTsK
PiAgCWlmICghZGV2X3ByaXYtPnBzci5lbmFibGVkKSB7Cj4gQEAgLTEyODQsNiArMTM5MCw3IEBA
IHZvaWQgaW50ZWxfcHNyX2luaXQoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2KQo+
ICAJCWRldl9wcml2LT5wc3IubGlua19zdGFuZGJ5ID0gZGV2X3ByaXYtPnZidC5wc3IuZnVsbF9s
aW5rOwo+ICAKPiAgCUlOSVRfV09SSygmZGV2X3ByaXYtPnBzci53b3JrLCBpbnRlbF9wc3Jfd29y
ayk7Cj4gKwlJTklUX0RFTEFZRURfV09SSygmZGV2X3ByaXYtPnBzci5pZGxlX3dvcmssIHRnbF9k
YzVfaWRsZV90aHJlYWQpOwo+ICAJbXV0ZXhfaW5pdCgmZGV2X3ByaXYtPnBzci5sb2NrKTsKPiAg
fQo+ICAKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kcnYuaCBiL2Ry
aXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZHJ2LmgKPiBpbmRleCA3YjIzMThjNWM3YTAuLjk4MGFm
MDZhMDYwNyAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2Rydi5oCj4g
KysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kcnYuaAo+IEBAIC01MDIsNiArNTAyLDgg
QEAgc3RydWN0IGk5MTVfcHNyIHsKPiAgCWJvb2wgc2lua19ub3RfcmVsaWFibGU7Cj4gIAlib29s
IGlycV9hdXhfZXJyb3I7Cj4gIAl1MTYgc3VfeF9ncmFudWxhcml0eTsKPiArCXUzMiBkYzNjb19l
eGl0bGluZTsKPiArCXN0cnVjdCBkZWxheWVkX3dvcmsgaWRsZV93b3JrOwo+ICB9Owo+ICAKPiAg
I2RlZmluZSBRVUlSS19MVkRTX1NTQ19ESVNBQkxFICgxPDwxKQo+IC0tIAo+IDIuMjEuMAo+IApf
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpJbnRlbC1nZngg
bWFpbGluZyBsaXN0CkludGVsLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0
cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9pbnRlbC1nZng=

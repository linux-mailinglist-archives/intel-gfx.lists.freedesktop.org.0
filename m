Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 54C713C6392
	for <lists+intel-gfx@lfdr.de>; Mon, 12 Jul 2021 21:20:05 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 4054189128;
	Mon, 12 Jul 2021 19:20:03 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga06.intel.com (mga06.intel.com [134.134.136.31])
 by gabe.freedesktop.org (Postfix) with ESMTPS id B2D2089128;
 Mon, 12 Jul 2021 19:20:01 +0000 (UTC)
X-IronPort-AV: E=McAfee;i="6200,9189,10043"; a="271153775"
X-IronPort-AV: E=Sophos;i="5.84,234,1620716400"; d="scan'208";a="271153775"
Received: from orsmga003.jf.intel.com ([10.7.209.27])
 by orsmga104.jf.intel.com with ESMTP/TLS/ECDHE-RSA-AES256-GCM-SHA384;
 12 Jul 2021 12:19:59 -0700
X-IronPort-AV: E=Sophos;i="5.84,234,1620716400"; d="scan'208";a="412685700"
Received: from johnharr-mobl1.amr.corp.intel.com (HELO [10.209.125.18])
 ([10.209.125.18])
 by orsmga003-auth.jf.intel.com with ESMTP/TLS/ECDHE-RSA-AES256-GCM-SHA384;
 12 Jul 2021 12:19:59 -0700
To: Matthew Brost <matthew.brost@intel.com>, intel-gfx@lists.freedesktop.org, 
 dri-devel@lists.freedesktop.org
References: <20210624070516.21893-1-matthew.brost@intel.com>
 <20210624070516.21893-31-matthew.brost@intel.com>
From: John Harrison <john.c.harrison@intel.com>
Message-ID: <7b74afc3-58a9-54cd-9966-48f1d1e0998d@intel.com>
Date: Mon, 12 Jul 2021 12:19:58 -0700
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:78.0) Gecko/20100101
 Thunderbird/78.11.0
MIME-Version: 1.0
In-Reply-To: <20210624070516.21893-31-matthew.brost@intel.com>
Content-Language: en-GB
Subject: Re: [Intel-gfx] [PATCH 30/47] drm/i915/guc: Direct all breadcrumbs
 for a class to single breadcrumbs
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

T24gNi8yNC8yMDIxIDAwOjA0LCBNYXR0aGV3IEJyb3N0IHdyb3RlOgo+IFdpdGggR3VDIHZpcnR1
YWwgZW5naW5lcyB0aGUgcGh5c2ljYWwgZW5naW5lIHdoaWNoIGEgcmVxdWVzdCBleGVjdXRlcwo+
IGFuZCBjb21wbGV0ZXMgb24gaXNuJ3Qga25vd24gdG8gdGhlIGk5MTUuIFRoZXJlZm9yZSB3ZSBj
YW4ndCBhdHRhY2ggYQo+IHJlcXVlc3QgdG8gYSBwaHlzaWNhbCBlbmdpbmVzIGJyZWFkY3J1bWJz
LiBUbyB3b3JrIGFyb3VuZCB0aGlzIHdlIGNyZWF0ZQo+IGEgc2luZ2xlIGJyZWFkY3J1bWJzIHBl
ciBlbmdpbmUgY2xhc3Mgd2hlbiB1c2luZyBHdUMgc3VibWlzc2lvbiBhbmQKPiBkaXJlY3QgYWxs
IHBoeXNpY2FsIGVuZ2luZSBpbnRlcnJ1cHRzIHRvIHRoaXMgYnJlYWRjcnVtYnMuCj4KPiBTaWdu
ZWQtb2ZmLWJ5OiBNYXR0aGV3IEJyb3N0IDxtYXR0aGV3LmJyb3N0QGludGVsLmNvbT4KPiBDQzog
Sm9obiBIYXJyaXNvbiA8Sm9obi5DLkhhcnJpc29uQEludGVsLmNvbT4KPiAtLS0KPiAgIGRyaXZl
cnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2JyZWFkY3J1bWJzLmMgICB8IDQxICsrKysrLS0tLS0t
LQo+ICAgZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfYnJlYWRjcnVtYnMuaCAgIHwgMTQg
KysrLQo+ICAgLi4uL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9icmVhZGNydW1ic190eXBlcy5oIHwg
IDcgKysKPiAgIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2VuZ2luZS5oICAgICAgICB8
ICAzICsKPiAgIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2VuZ2luZV9jcy5jICAgICB8
IDI4ICsrKysrKystCj4gICBkcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9lbmdpbmVfdHlw
ZXMuaCAgfCAgMSAtCj4gICAuLi4vZHJtL2k5MTUvZ3QvaW50ZWxfZXhlY2xpc3RzX3N1Ym1pc3Np
b24uYyAgfCAgMiArLQo+ICAgZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvbW9ja19lbmdpbmUuYyAg
ICAgICAgIHwgIDQgKy0KPiAgIC4uLi9ncHUvZHJtL2k5MTUvZ3QvdWMvaW50ZWxfZ3VjX3N1Ym1p
c3Npb24uYyB8IDY3ICsrKysrKysrKysrKysrKysrLS0KPiAgIDkgZmlsZXMgY2hhbmdlZCwgMTMx
IGluc2VydGlvbnMoKyksIDM2IGRlbGV0aW9ucygtKQo+Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMv
Z3B1L2RybS9pOTE1L2d0L2ludGVsX2JyZWFkY3J1bWJzLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkx
NS9ndC9pbnRlbF9icmVhZGNydW1icy5jCj4gaW5kZXggMzhjYzQyNzgzZGZiLi4yMDA3ZGM2ZjZi
OTkgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfYnJlYWRjcnVt
YnMuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2JyZWFkY3J1bWJzLmMK
PiBAQCAtMTUsMjggKzE1LDE0IEBACj4gICAjaW5jbHVkZSAiaW50ZWxfZ3RfcG0uaCIKPiAgICNp
bmNsdWRlICJpbnRlbF9ndF9yZXF1ZXN0cy5oIgo+ICAgCj4gLXN0YXRpYyBib29sIGlycV9lbmFi
bGUoc3RydWN0IGludGVsX2VuZ2luZV9jcyAqZW5naW5lKQo+ICtzdGF0aWMgYm9vbCBpcnFfZW5h
YmxlKHN0cnVjdCBpbnRlbF9icmVhZGNydW1icyAqYikKPiAgIHsKPiAtCWlmICghZW5naW5lLT5p
cnFfZW5hYmxlKQo+IC0JCXJldHVybiBmYWxzZTsKPiAtCj4gLQkvKiBDYWxsZXIgZGlzYWJsZXMg
aW50ZXJydXB0cyAqLwo+IC0Jc3Bpbl9sb2NrKCZlbmdpbmUtPmd0LT5pcnFfbG9jayk7Cj4gLQll
bmdpbmUtPmlycV9lbmFibGUoZW5naW5lKTsKPiAtCXNwaW5fdW5sb2NrKCZlbmdpbmUtPmd0LT5p
cnFfbG9jayk7Cj4gLQo+IC0JcmV0dXJuIHRydWU7Cj4gKwlyZXR1cm4gaW50ZWxfZW5naW5lX2ly
cV9lbmFibGUoYi0+aXJxX2VuZ2luZSk7Cj4gICB9Cj4gICAKPiAtc3RhdGljIHZvaWQgaXJxX2Rp
c2FibGUoc3RydWN0IGludGVsX2VuZ2luZV9jcyAqZW5naW5lKQo+ICtzdGF0aWMgdm9pZCBpcnFf
ZGlzYWJsZShzdHJ1Y3QgaW50ZWxfYnJlYWRjcnVtYnMgKmIpCj4gICB7Cj4gLQlpZiAoIWVuZ2lu
ZS0+aXJxX2Rpc2FibGUpCj4gLQkJcmV0dXJuOwo+IC0KPiAtCS8qIENhbGxlciBkaXNhYmxlcyBp
bnRlcnJ1cHRzICovCj4gLQlzcGluX2xvY2soJmVuZ2luZS0+Z3QtPmlycV9sb2NrKTsKPiAtCWVu
Z2luZS0+aXJxX2Rpc2FibGUoZW5naW5lKTsKPiAtCXNwaW5fdW5sb2NrKCZlbmdpbmUtPmd0LT5p
cnFfbG9jayk7Cj4gKwlpbnRlbF9lbmdpbmVfaXJxX2Rpc2FibGUoYi0+aXJxX2VuZ2luZSk7Cj4g
ICB9Cj4gICAKPiAgIHN0YXRpYyB2b2lkIF9faW50ZWxfYnJlYWRjcnVtYnNfYXJtX2lycShzdHJ1
Y3QgaW50ZWxfYnJlYWRjcnVtYnMgKmIpCj4gQEAgLTU3LDcgKzQzLDcgQEAgc3RhdGljIHZvaWQg
X19pbnRlbF9icmVhZGNydW1ic19hcm1faXJxKHN0cnVjdCBpbnRlbF9icmVhZGNydW1icyAqYikK
PiAgIAlXUklURV9PTkNFKGItPmlycV9hcm1lZCwgdHJ1ZSk7Cj4gICAKPiAgIAkvKiBSZXF1ZXN0
cyBtYXkgaGF2ZSBjb21wbGV0ZWQgYmVmb3JlIHdlIGNvdWxkIGVuYWJsZSB0aGUgaW50ZXJydXB0
LiAqLwo+IC0JaWYgKCFiLT5pcnFfZW5hYmxlZCsrICYmIGlycV9lbmFibGUoYi0+aXJxX2VuZ2lu
ZSkpCj4gKwlpZiAoIWItPmlycV9lbmFibGVkKysgJiYgYi0+aXJxX2VuYWJsZShiKSkKPiAgIAkJ
aXJxX3dvcmtfcXVldWUoJmItPmlycV93b3JrKTsKPiAgIH0KPiAgIAo+IEBAIC03Niw3ICs2Miw3
IEBAIHN0YXRpYyB2b2lkIF9faW50ZWxfYnJlYWRjcnVtYnNfZGlzYXJtX2lycShzdHJ1Y3QgaW50
ZWxfYnJlYWRjcnVtYnMgKmIpCj4gICB7Cj4gICAJR0VNX0JVR19PTighYi0+aXJxX2VuYWJsZWQp
Owo+ICAgCWlmICghLS1iLT5pcnFfZW5hYmxlZCkKPiAtCQlpcnFfZGlzYWJsZShiLT5pcnFfZW5n
aW5lKTsKPiArCQliLT5pcnFfZGlzYWJsZShiKTsKPiAgIAo+ICAgCVdSSVRFX09OQ0UoYi0+aXJx
X2FybWVkLCBmYWxzZSk7Cj4gICAJaW50ZWxfZ3RfcG1fcHV0X2FzeW5jKGItPmlycV9lbmdpbmUt
Pmd0KTsKPiBAQCAtMjgxLDcgKzI2Nyw3IEBAIGludGVsX2JyZWFkY3J1bWJzX2NyZWF0ZShzdHJ1
Y3QgaW50ZWxfZW5naW5lX2NzICppcnFfZW5naW5lKQo+ICAgCWlmICghYikKPiAgIAkJcmV0dXJu
IE5VTEw7Cj4gICAKPiAtCWItPmlycV9lbmdpbmUgPSBpcnFfZW5naW5lOwo+ICsJa3JlZl9pbml0
KCZiLT5yZWYpOwo+ICAgCj4gICAJc3Bpbl9sb2NrX2luaXQoJmItPnNpZ25hbGVyc19sb2NrKTsK
PiAgIAlJTklUX0xJU1RfSEVBRCgmYi0+c2lnbmFsZXJzKTsKPiBAQCAtMjkwLDYgKzI3NiwxMCBA
QCBpbnRlbF9icmVhZGNydW1ic19jcmVhdGUoc3RydWN0IGludGVsX2VuZ2luZV9jcyAqaXJxX2Vu
Z2luZSkKPiAgIAlzcGluX2xvY2tfaW5pdCgmYi0+aXJxX2xvY2spOwo+ICAgCWluaXRfaXJxX3dv
cmsoJmItPmlycV93b3JrLCBzaWduYWxfaXJxX3dvcmspOwo+ICAgCj4gKwliLT5pcnFfZW5naW5l
ID0gaXJxX2VuZ2luZTsKPiArCWItPmlycV9lbmFibGUgPSBpcnFfZW5hYmxlOwo+ICsJYi0+aXJx
X2Rpc2FibGUgPSBpcnFfZGlzYWJsZTsKPiArCj4gICAJcmV0dXJuIGI7Cj4gICB9Cj4gICAKPiBA
QCAtMzAzLDkgKzI5Myw5IEBAIHZvaWQgaW50ZWxfYnJlYWRjcnVtYnNfcmVzZXQoc3RydWN0IGlu
dGVsX2JyZWFkY3J1bWJzICpiKQo+ICAgCXNwaW5fbG9ja19pcnFzYXZlKCZiLT5pcnFfbG9jaywg
ZmxhZ3MpOwo+ICAgCj4gICAJaWYgKGItPmlycV9lbmFibGVkKQo+IC0JCWlycV9lbmFibGUoYi0+
aXJxX2VuZ2luZSk7Cj4gKwkJYi0+aXJxX2VuYWJsZShiKTsKPiAgIAllbHNlCj4gLQkJaXJxX2Rp
c2FibGUoYi0+aXJxX2VuZ2luZSk7Cj4gKwkJYi0+aXJxX2Rpc2FibGUoYik7Cj4gICAKPiAgIAlz
cGluX3VubG9ja19pcnFyZXN0b3JlKCZiLT5pcnFfbG9jaywgZmxhZ3MpOwo+ICAgfQo+IEBAIC0z
MjUsMTEgKzMxNSwxNCBAQCB2b2lkIF9faW50ZWxfYnJlYWRjcnVtYnNfcGFyayhzdHJ1Y3QgaW50
ZWxfYnJlYWRjcnVtYnMgKmIpCj4gICAJfQo+ICAgfQo+ICAgCj4gLXZvaWQgaW50ZWxfYnJlYWRj
cnVtYnNfZnJlZShzdHJ1Y3QgaW50ZWxfYnJlYWRjcnVtYnMgKmIpCj4gK3ZvaWQgaW50ZWxfYnJl
YWRjcnVtYnNfZnJlZShzdHJ1Y3Qga3JlZiAqa3JlZikKPiAgIHsKPiArCXN0cnVjdCBpbnRlbF9i
cmVhZGNydW1icyAqYiA9IGNvbnRhaW5lcl9vZihrcmVmLCB0eXBlb2YoKmIpLCByZWYpOwo+ICsK
PiAgIAlpcnFfd29ya19zeW5jKCZiLT5pcnFfd29yayk7Cj4gICAJR0VNX0JVR19PTighbGlzdF9l
bXB0eSgmYi0+c2lnbmFsZXJzKSk7Cj4gICAJR0VNX0JVR19PTihiLT5pcnFfYXJtZWQpOwo+ICsK
PiAgIAlrZnJlZShiKTsKPiAgIH0KPiAgIAo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0v
aTkxNS9ndC9pbnRlbF9icmVhZGNydW1icy5oIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50
ZWxfYnJlYWRjcnVtYnMuaAo+IGluZGV4IDNjZTVjZTI3MGIwNC4uNzIxMDViNzQ2NjNkIDEwMDY0
NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2JyZWFkY3J1bWJzLmgKPiAr
KysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9icmVhZGNydW1icy5oCj4gQEAgLTE3
LDcgKzE3LDcgQEAgc3RydWN0IGludGVsX2JyZWFkY3J1bWJzOwo+ICAgCj4gICBzdHJ1Y3QgaW50
ZWxfYnJlYWRjcnVtYnMgKgo+ICAgaW50ZWxfYnJlYWRjcnVtYnNfY3JlYXRlKHN0cnVjdCBpbnRl
bF9lbmdpbmVfY3MgKmlycV9lbmdpbmUpOwo+IC12b2lkIGludGVsX2JyZWFkY3J1bWJzX2ZyZWUo
c3RydWN0IGludGVsX2JyZWFkY3J1bWJzICpiKTsKPiArdm9pZCBpbnRlbF9icmVhZGNydW1ic19m
cmVlKHN0cnVjdCBrcmVmICprcmVmKTsKPiAgIAo+ICAgdm9pZCBpbnRlbF9icmVhZGNydW1ic19y
ZXNldChzdHJ1Y3QgaW50ZWxfYnJlYWRjcnVtYnMgKmIpOwo+ICAgdm9pZCBfX2ludGVsX2JyZWFk
Y3J1bWJzX3Bhcmsoc3RydWN0IGludGVsX2JyZWFkY3J1bWJzICpiKTsKPiBAQCAtNDgsNCArNDgs
MTYgQEAgdm9pZCBpOTE1X3JlcXVlc3RfY2FuY2VsX2JyZWFkY3J1bWIoc3RydWN0IGk5MTVfcmVx
dWVzdCAqcmVxdWVzdCk7Cj4gICB2b2lkIGludGVsX2NvbnRleHRfcmVtb3ZlX2JyZWFkY3J1bWJz
KHN0cnVjdCBpbnRlbF9jb250ZXh0ICpjZSwKPiAgIAkJCQkgICAgICBzdHJ1Y3QgaW50ZWxfYnJl
YWRjcnVtYnMgKmIpOwo+ICAgCj4gK3N0YXRpYyBpbmxpbmUgc3RydWN0IGludGVsX2JyZWFkY3J1
bWJzICoKPiAraW50ZWxfYnJlYWRjcnVtYnNfZ2V0KHN0cnVjdCBpbnRlbF9icmVhZGNydW1icyAq
YikKPiArewo+ICsJa3JlZl9nZXQoJmItPnJlZik7Cj4gKwlyZXR1cm4gYjsKPiArfQo+ICsKPiAr
c3RhdGljIGlubGluZSB2b2lkIGludGVsX2JyZWFkY3J1bWJzX3B1dChzdHJ1Y3QgaW50ZWxfYnJl
YWRjcnVtYnMgKmIpCj4gK3sKPiArCWtyZWZfcHV0KCZiLT5yZWYsIGludGVsX2JyZWFkY3J1bWJz
X2ZyZWUpOwo+ICt9Cj4gKwo+ICAgI2VuZGlmIC8qIF9fSU5URUxfQlJFQURDUlVNQlNfXyAqLwo+
IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9icmVhZGNydW1ic190
eXBlcy5oIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfYnJlYWRjcnVtYnNfdHlwZXMu
aAo+IGluZGV4IDNhMDg0Y2U4ZmY1ZS4uYTRlMTQ2Njg0YmU4IDEwMDY0NAo+IC0tLSBhL2RyaXZl
cnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2JyZWFkY3J1bWJzX3R5cGVzLmgKPiArKysgYi9kcml2
ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9icmVhZGNydW1ic190eXBlcy5oCj4gQEAgLTcsMTAg
KzcsMTMgQEAKPiAgICNkZWZpbmUgX19JTlRFTF9CUkVBRENSVU1CU19UWVBFU19fCj4gICAKPiAg
ICNpbmNsdWRlIDxsaW51eC9pcnFfd29yay5oPgo+ICsjaW5jbHVkZSA8bGludXgva3JlZi5oPgo+
ICAgI2luY2x1ZGUgPGxpbnV4L2xpc3QuaD4KPiAgICNpbmNsdWRlIDxsaW51eC9zcGlubG9jay5o
Pgo+ICAgI2luY2x1ZGUgPGxpbnV4L3R5cGVzLmg+Cj4gICAKPiArdHlwZWRlZiB1OCBpbnRlbF9l
bmdpbmVfbWFza190OwpTZWVtcyBsaWtlIHRoZSB3cm9uZyBwbGFjZSBmb3IgdGhpcy4gQ2FuIGl0
IGJlIG1vdmVkIHRvIApndC9pbnRlbF9lbmdpbmVfdHlwZXMuaCBpbnN0ZWFkPwoKPiArCj4gICAv
Kgo+ICAgICogUmF0aGVyIHRoYW4gaGF2ZSBldmVyeSBjbGllbnQgd2FpdCB1cG9uIGFsbCB1c2Vy
IGludGVycnVwdHMsCj4gICAgKiB3aXRoIHRoZSBoZXJkIHdha2luZyBhZnRlciBldmVyeSBpbnRl
cnJ1cHQgYW5kIGVhY2ggZG9pbmcgdGhlCj4gQEAgLTI5LDYgKzMyLDcgQEAKPiAgICAqIHRoZSBv
dmVyaGVhZCBvZiB3YWtpbmcgdGhhdCBjbGllbnQgaXMgbXVjaCBwcmVmZXJyZWQuCj4gICAgKi8K
PiAgIHN0cnVjdCBpbnRlbF9icmVhZGNydW1icyB7Cj4gKwlzdHJ1Y3Qga3JlZiByZWY7Cj4gICAJ
YXRvbWljX3QgYWN0aXZlOwo+ICAgCj4gICAJc3BpbmxvY2tfdCBzaWduYWxlcnNfbG9jazsgLyog
cHJvdGVjdHMgdGhlIGxpc3Qgb2Ygc2lnbmFsZXJzICovCj4gQEAgLTQyLDcgKzQ2LDEwIEBAIHN0
cnVjdCBpbnRlbF9icmVhZGNydW1icyB7Cj4gICAJYm9vbCBpcnFfYXJtZWQ7Cj4gICAKPiAgIAkv
KiBOb3QgYWxsIGJyZWFkY3J1bWJzIGFyZSBhdHRhY2hlZCB0byBwaHlzaWNhbCBIVyAqLwo+ICsJ
aW50ZWxfZW5naW5lX21hc2tfdAllbmdpbmVfbWFzazsKPiAgIAlzdHJ1Y3QgaW50ZWxfZW5naW5l
X2NzICppcnFfZW5naW5lOwo+ICsJYm9vbAkoKmlycV9lbmFibGUpKHN0cnVjdCBpbnRlbF9icmVh
ZGNydW1icyAqYik7Cj4gKwl2b2lkCSgqaXJxX2Rpc2FibGUpKHN0cnVjdCBpbnRlbF9icmVhZGNy
dW1icyAqYik7Cj4gICB9Owo+ICAgCj4gICAjZW5kaWYgLyogX19JTlRFTF9CUkVBRENSVU1CU19U
WVBFU19fICovCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2Vu
Z2luZS5oIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZW5naW5lLmgKPiBpbmRleCA5
MjNlYWVlNjI3YjMuLmU5ZTA2NTdmODQ3YSAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0v
aTkxNS9ndC9pbnRlbF9lbmdpbmUuaAo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2lu
dGVsX2VuZ2luZS5oCj4gQEAgLTIxMiw2ICsyMTIsOSBAQCB2b2lkIGludGVsX2VuZ2luZV9nZXRf
aW5zdGRvbmUoY29uc3Qgc3RydWN0IGludGVsX2VuZ2luZV9jcyAqZW5naW5lLAo+ICAgCj4gICB2
b2lkIGludGVsX2VuZ2luZV9pbml0X2V4ZWNsaXN0cyhzdHJ1Y3QgaW50ZWxfZW5naW5lX2NzICpl
bmdpbmUpOwo+ICAgCj4gK2Jvb2wgaW50ZWxfZW5naW5lX2lycV9lbmFibGUoc3RydWN0IGludGVs
X2VuZ2luZV9jcyAqZW5naW5lKTsKPiArdm9pZCBpbnRlbF9lbmdpbmVfaXJxX2Rpc2FibGUoc3Ry
dWN0IGludGVsX2VuZ2luZV9jcyAqZW5naW5lKTsKPiArCj4gICBzdGF0aWMgaW5saW5lIHZvaWQg
X19pbnRlbF9lbmdpbmVfcmVzZXQoc3RydWN0IGludGVsX2VuZ2luZV9jcyAqZW5naW5lLAo+ICAg
CQkJCQlib29sIHN0YWxsZWQpCj4gICB7Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9p
OTE1L2d0L2ludGVsX2VuZ2luZV9jcy5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxf
ZW5naW5lX2NzLmMKPiBpbmRleCBkMTNiMTcxNmMyOWUuLjY5MjQ1NjcwYjhiMCAxMDA2NDQKPiAt
LS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9lbmdpbmVfY3MuYwo+ICsrKyBiL2Ry
aXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2VuZ2luZV9jcy5jCj4gQEAgLTczOSw3ICs3Mzks
NyBAQCBzdGF0aWMgaW50IGVuZ2luZV9zZXR1cF9jb21tb24oc3RydWN0IGludGVsX2VuZ2luZV9j
cyAqZW5naW5lKQo+ICAgZXJyX2NtZF9wYXJzZXI6Cj4gICAJaTkxNV9zY2hlZF9lbmdpbmVfcHV0
KGVuZ2luZS0+c2NoZWRfZW5naW5lKTsKPiAgIGVycl9zY2hlZF9lbmdpbmU6Cj4gLQlpbnRlbF9i
cmVhZGNydW1ic19mcmVlKGVuZ2luZS0+YnJlYWRjcnVtYnMpOwo+ICsJaW50ZWxfYnJlYWRjcnVt
YnNfcHV0KGVuZ2luZS0+YnJlYWRjcnVtYnMpOwo+ICAgZXJyX3N0YXR1czoKPiAgIAljbGVhbnVw
X3N0YXR1c19wYWdlKGVuZ2luZSk7Cj4gICAJcmV0dXJuIGVycjsKPiBAQCAtOTQ3LDcgKzk0Nyw3
IEBAIHZvaWQgaW50ZWxfZW5naW5lX2NsZWFudXBfY29tbW9uKHN0cnVjdCBpbnRlbF9lbmdpbmVf
Y3MgKmVuZ2luZSkKPiAgIAlHRU1fQlVHX09OKCFsaXN0X2VtcHR5KCZlbmdpbmUtPnNjaGVkX2Vu
Z2luZS0+cmVxdWVzdHMpKTsKPiAgIAo+ICAgCWk5MTVfc2NoZWRfZW5naW5lX3B1dChlbmdpbmUt
PnNjaGVkX2VuZ2luZSk7Cj4gLQlpbnRlbF9icmVhZGNydW1ic19mcmVlKGVuZ2luZS0+YnJlYWRj
cnVtYnMpOwo+ICsJaW50ZWxfYnJlYWRjcnVtYnNfcHV0KGVuZ2luZS0+YnJlYWRjcnVtYnMpOwo+
ICAgCj4gICAJaW50ZWxfZW5naW5lX2ZpbmlfcmV0aXJlKGVuZ2luZSk7Cj4gICAJaW50ZWxfZW5n
aW5lX2NsZWFudXBfY21kX3BhcnNlcihlbmdpbmUpOwo+IEBAIC0xMjY0LDYgKzEyNjQsMzAgQEAg
Ym9vbCBpbnRlbF9lbmdpbmVzX2FyZV9pZGxlKHN0cnVjdCBpbnRlbF9ndCAqZ3QpCj4gICAJcmV0
dXJuIHRydWU7Cj4gICB9Cj4gICAKPiArYm9vbCBpbnRlbF9lbmdpbmVfaXJxX2VuYWJsZShzdHJ1
Y3QgaW50ZWxfZW5naW5lX2NzICplbmdpbmUpCj4gK3sKPiArCWlmICghZW5naW5lLT5pcnFfZW5h
YmxlKQo+ICsJCXJldHVybiBmYWxzZTsKPiArCj4gKwkvKiBDYWxsZXIgZGlzYWJsZXMgaW50ZXJy
dXB0cyAqLwo+ICsJc3Bpbl9sb2NrKCZlbmdpbmUtPmd0LT5pcnFfbG9jayk7Cj4gKwllbmdpbmUt
PmlycV9lbmFibGUoZW5naW5lKTsKPiArCXNwaW5fdW5sb2NrKCZlbmdpbmUtPmd0LT5pcnFfbG9j
ayk7Cj4gKwo+ICsJcmV0dXJuIHRydWU7Cj4gK30KPiArCj4gK3ZvaWQgaW50ZWxfZW5naW5lX2ly
cV9kaXNhYmxlKHN0cnVjdCBpbnRlbF9lbmdpbmVfY3MgKmVuZ2luZSkKPiArewo+ICsJaWYgKCFl
bmdpbmUtPmlycV9kaXNhYmxlKQo+ICsJCXJldHVybjsKPiArCj4gKwkvKiBDYWxsZXIgZGlzYWJs
ZXMgaW50ZXJydXB0cyAqLwo+ICsJc3Bpbl9sb2NrKCZlbmdpbmUtPmd0LT5pcnFfbG9jayk7Cj4g
KwllbmdpbmUtPmlycV9kaXNhYmxlKGVuZ2luZSk7Cj4gKwlzcGluX3VubG9jaygmZW5naW5lLT5n
dC0+aXJxX2xvY2spOwo+ICt9Cj4gKwo+ICAgdm9pZCBpbnRlbF9lbmdpbmVzX3Jlc2V0X2RlZmF1
bHRfc3VibWlzc2lvbihzdHJ1Y3QgaW50ZWxfZ3QgKmd0KQo+ICAgewo+ICAgCXN0cnVjdCBpbnRl
bF9lbmdpbmVfY3MgKmVuZ2luZTsKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUv
Z3QvaW50ZWxfZW5naW5lX3R5cGVzLmggYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9l
bmdpbmVfdHlwZXMuaAo+IGluZGV4IDFkYzU5ZTZjOWE5Mi4uZTdjYjZhMDZkYjlkIDEwMDY0NAo+
IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2VuZ2luZV90eXBlcy5oCj4gKysr
IGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZW5naW5lX3R5cGVzLmgKPiBAQCAtNjQs
NyArNjQsNiBAQCBzdHJ1Y3QgaW50ZWxfZ3Q7Cj4gICBzdHJ1Y3QgaW50ZWxfcmluZzsKPiAgIHN0
cnVjdCBpbnRlbF91bmNvcmU7Cj4gICAKPiAtdHlwZWRlZiB1OCBpbnRlbF9lbmdpbmVfbWFza190
OwpPaC4KClRoZSBmb2xsb3dpbmcgZml4ZXMgdGhpcyBmb3IgbWU6CmRpZmYgLS1naXQgYS9kcml2
ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9icmVhZGNydW1icy5oIApiL2RyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2d0L2ludGVsX2JyZWFkY3J1bWJzLmgKaW5kZXggM2NlNWNlMjcwYjA0Li5hYzVjZGQ2
ZmYzZjQgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2JyZWFkY3J1
bWJzLmgKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfYnJlYWRjcnVtYnMuaApA
QCAtMTAsNiArMTAsNyBAQAogwqAjaW5jbHVkZSA8bGludXgvaXJxX3dvcmsuaD4KCiDCoCNpbmNs
dWRlICJpbnRlbF9lbmdpbmVfdHlwZXMuaCIKKyNpbmNsdWRlICJndC9pbnRlbF9icmVhZGNydW1i
c190eXBlcy5oIgoKIMKgc3RydWN0IGRybV9wcmludGVyOwogwqBzdHJ1Y3QgaTkxNV9yZXF1ZXN0
OwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfYnJlYWRjcnVtYnNf
dHlwZXMuaCAKYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9icmVhZGNydW1ic190eXBl
cy5oCmluZGV4IDNhMDg0Y2U4ZmY1ZS4uMjYwY2NkNWMxNTczIDEwMDY0NAotLS0gYS9kcml2ZXJz
L2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9icmVhZGNydW1ic190eXBlcy5oCisrKyBiL2RyaXZlcnMv
Z3B1L2RybS9pOTE1L2d0L2ludGVsX2JyZWFkY3J1bWJzX3R5cGVzLmgKQEAgLTExLDYgKzExLDgg
QEAKIMKgI2luY2x1ZGUgPGxpbnV4L3NwaW5sb2NrLmg+CiDCoCNpbmNsdWRlIDxsaW51eC90eXBl
cy5oPgoKKyNpbmNsdWRlICJndC9pbnRlbF9lbmdpbmVfdHlwZXMuaCIKKwogwqAvKgogwqAgKiBS
YXRoZXIgdGhhbiBoYXZlIGV2ZXJ5IGNsaWVudCB3YWl0IHVwb24gYWxsIHVzZXIgaW50ZXJydXB0
cywKIMKgICogd2l0aCB0aGUgaGVyZCB3YWtpbmcgYWZ0ZXIgZXZlcnkgaW50ZXJydXB0IGFuZCBl
YWNoIGRvaW5nIHRoZQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxf
ZW5naW5lX3R5cGVzLmggCmIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZW5naW5lX3R5
cGVzLmgKaW5kZXggMWNiOWMzYjcwYjI5Li5kYTE1YjhiM2MxZjcgMTAwNjQ0Ci0tLSBhL2RyaXZl
cnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2VuZ2luZV90eXBlcy5oCisrKyBiL2RyaXZlcnMvZ3B1
L2RybS9pOTE1L2d0L2ludGVsX2VuZ2luZV90eXBlcy5oCkBAIC0yMSw3ICsyMSw2IEBACiDCoCNp
bmNsdWRlICJpOTE1X3BtdS5oIgogwqAjaW5jbHVkZSAiaTkxNV9wcmlvbGlzdF90eXBlcy5oIgog
wqAjaW5jbHVkZSAiaTkxNV9zZWxmdGVzdC5oIgotI2luY2x1ZGUgImludGVsX2JyZWFkY3J1bWJz
X3R5cGVzLmgiCiDCoCNpbmNsdWRlICJpbnRlbF9zc2V1LmgiCiDCoCNpbmNsdWRlICJpbnRlbF90
aW1lbGluZV90eXBlcy5oIgogwqAjaW5jbHVkZSAiaW50ZWxfdW5jb3JlLmgiCgpKb2huLgoKCj4g
ICAjZGVmaW5lIEFMTF9FTkdJTkVTICgoaW50ZWxfZW5naW5lX21hc2tfdCl+MHVsKQo+ICAgCj4g
ICBzdHJ1Y3QgaW50ZWxfaHdfc3RhdHVzX3BhZ2Ugewo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dw
dS9kcm0vaTkxNS9ndC9pbnRlbF9leGVjbGlzdHNfc3VibWlzc2lvbi5jIGIvZHJpdmVycy9ncHUv
ZHJtL2k5MTUvZ3QvaW50ZWxfZXhlY2xpc3RzX3N1Ym1pc3Npb24uYwo+IGluZGV4IDljZmI4ODAw
YTBlNi4uYzEwZWE2MDgwNzUyIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0
L2ludGVsX2V4ZWNsaXN0c19zdWJtaXNzaW9uLmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkx
NS9ndC9pbnRlbF9leGVjbGlzdHNfc3VibWlzc2lvbi5jCj4gQEAgLTM0MTksNyArMzQxOSw3IEBA
IHN0YXRpYyB2b2lkIHJjdV92aXJ0dWFsX2NvbnRleHRfZGVzdHJveShzdHJ1Y3Qgd29ya19zdHJ1
Y3QgKndyaykKPiAgIAlpbnRlbF9jb250ZXh0X2ZpbmkoJnZlLT5jb250ZXh0KTsKPiAgIAo+ICAg
CWlmICh2ZS0+YmFzZS5icmVhZGNydW1icykKPiAtCQlpbnRlbF9icmVhZGNydW1ic19mcmVlKHZl
LT5iYXNlLmJyZWFkY3J1bWJzKTsKPiArCQlpbnRlbF9icmVhZGNydW1ic19wdXQodmUtPmJhc2Uu
YnJlYWRjcnVtYnMpOwo+ICAgCWlmICh2ZS0+YmFzZS5zY2hlZF9lbmdpbmUpCj4gICAJCWk5MTVf
c2NoZWRfZW5naW5lX3B1dCh2ZS0+YmFzZS5zY2hlZF9lbmdpbmUpOwo+ICAgCWludGVsX2VuZ2lu
ZV9mcmVlX3JlcXVlc3RfcG9vbCgmdmUtPmJhc2UpOwo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dw
dS9kcm0vaTkxNS9ndC9tb2NrX2VuZ2luZS5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvbW9j
a19lbmdpbmUuYwo+IGluZGV4IDkyMDNjNzY2ZGI4MC4uZmM1YTY1YWIxOTM3IDEwMDY0NAo+IC0t
LSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L21vY2tfZW5naW5lLmMKPiArKysgYi9kcml2ZXJz
L2dwdS9kcm0vaTkxNS9ndC9tb2NrX2VuZ2luZS5jCj4gQEAgLTI4NCw3ICsyODQsNyBAQCBzdGF0
aWMgdm9pZCBtb2NrX2VuZ2luZV9yZWxlYXNlKHN0cnVjdCBpbnRlbF9lbmdpbmVfY3MgKmVuZ2lu
ZSkKPiAgIAlHRU1fQlVHX09OKHRpbWVyX3BlbmRpbmcoJm1vY2stPmh3X2RlbGF5KSk7Cj4gICAK
PiAgIAlpOTE1X3NjaGVkX2VuZ2luZV9wdXQoZW5naW5lLT5zY2hlZF9lbmdpbmUpOwo+IC0JaW50
ZWxfYnJlYWRjcnVtYnNfZnJlZShlbmdpbmUtPmJyZWFkY3J1bWJzKTsKPiArCWludGVsX2JyZWFk
Y3J1bWJzX3B1dChlbmdpbmUtPmJyZWFkY3J1bWJzKTsKPiAgIAo+ICAgCWludGVsX2NvbnRleHRf
dW5waW4oZW5naW5lLT5rZXJuZWxfY29udGV4dCk7Cj4gICAJaW50ZWxfY29udGV4dF9wdXQoZW5n
aW5lLT5rZXJuZWxfY29udGV4dCk7Cj4gQEAgLTM3Niw3ICszNzYsNyBAQCBpbnQgbW9ja19lbmdp
bmVfaW5pdChzdHJ1Y3QgaW50ZWxfZW5naW5lX2NzICplbmdpbmUpCj4gICAJcmV0dXJuIDA7Cj4g
ICAKPiAgIGVycl9icmVhZGNydW1iczoKPiAtCWludGVsX2JyZWFkY3J1bWJzX2ZyZWUoZW5naW5l
LT5icmVhZGNydW1icyk7Cj4gKwlpbnRlbF9icmVhZGNydW1ic19wdXQoZW5naW5lLT5icmVhZGNy
dW1icyk7Cj4gICBlcnJfc2NoZWR1bGU6Cj4gICAJaTkxNV9zY2hlZF9lbmdpbmVfcHV0KGVuZ2lu
ZS0+c2NoZWRfZW5naW5lKTsKPiAgIAlyZXR1cm4gLUVOT01FTTsKPiBkaWZmIC0tZ2l0IGEvZHJp
dmVycy9ncHUvZHJtL2k5MTUvZ3QvdWMvaW50ZWxfZ3VjX3N1Ym1pc3Npb24uYyBiL2RyaXZlcnMv
Z3B1L2RybS9pOTE1L2d0L3VjL2ludGVsX2d1Y19zdWJtaXNzaW9uLmMKPiBpbmRleCBkMWJhZGQ3
MTM3YjcuLjgzMDU4ZGY1YmEwMSAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9n
dC91Yy9pbnRlbF9ndWNfc3VibWlzc2lvbi5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUv
Z3QvdWMvaW50ZWxfZ3VjX3N1Ym1pc3Npb24uYwo+IEBAIC0xMDc0LDYgKzEwNzQsOSBAQCBzdGF0
aWMgdm9pZCBfX2d1Y19jb250ZXh0X2Rlc3Ryb3koc3RydWN0IGludGVsX2NvbnRleHQgKmNlKQo+
ICAgCQlzdHJ1Y3QgZ3VjX3ZpcnR1YWxfZW5naW5lICp2ZSA9Cj4gICAJCQljb250YWluZXJfb2Yo
Y2UsIHR5cGVvZigqdmUpLCBjb250ZXh0KTsKPiAgIAo+ICsJCWlmICh2ZS0+YmFzZS5icmVhZGNy
dW1icykKPiArCQkJaW50ZWxfYnJlYWRjcnVtYnNfcHV0KHZlLT5iYXNlLmJyZWFkY3J1bWJzKTsK
PiArCj4gICAJCWtmcmVlKHZlKTsKPiAgIAl9IGVsc2Ugewo+ICAgCQlpbnRlbF9jb250ZXh0X2Zy
ZWUoY2UpOwo+IEBAIC0xMzc3LDYgKzEzODAsNjIgQEAgc3RhdGljIGNvbnN0IHN0cnVjdCBpbnRl
bF9jb250ZXh0X29wcyB2aXJ0dWFsX2d1Y19jb250ZXh0X29wcyA9IHsKPiAgIAkuZ2V0X3NpYmxp
bmcgPSBndWNfdmlydHVhbF9nZXRfc2libGluZywKPiAgIH07Cj4gICAKPiArc3RhdGljIGJvb2wK
PiArZ3VjX2lycV9lbmFibGVfYnJlYWRjcnVtYnMoc3RydWN0IGludGVsX2JyZWFkY3J1bWJzICpi
KQo+ICt7Cj4gKwlzdHJ1Y3QgaW50ZWxfZW5naW5lX2NzICpzaWJsaW5nOwo+ICsJaW50ZWxfZW5n
aW5lX21hc2tfdCB0bXAsIG1hc2sgPSBiLT5lbmdpbmVfbWFzazsKPiArCWJvb2wgcmVzdWx0ID0g
ZmFsc2U7Cj4gKwo+ICsJZm9yX2VhY2hfZW5naW5lX21hc2tlZChzaWJsaW5nLCBiLT5pcnFfZW5n
aW5lLT5ndCwgbWFzaywgdG1wKQo+ICsJCXJlc3VsdCB8PSBpbnRlbF9lbmdpbmVfaXJxX2VuYWJs
ZShzaWJsaW5nKTsKPiArCj4gKwlyZXR1cm4gcmVzdWx0Owo+ICt9Cj4gKwo+ICtzdGF0aWMgdm9p
ZAo+ICtndWNfaXJxX2Rpc2FibGVfYnJlYWRjcnVtYnMoc3RydWN0IGludGVsX2JyZWFkY3J1bWJz
ICpiKQo+ICt7Cj4gKwlzdHJ1Y3QgaW50ZWxfZW5naW5lX2NzICpzaWJsaW5nOwo+ICsJaW50ZWxf
ZW5naW5lX21hc2tfdCB0bXAsIG1hc2sgPSBiLT5lbmdpbmVfbWFzazsKPiArCj4gKwlmb3JfZWFj
aF9lbmdpbmVfbWFza2VkKHNpYmxpbmcsIGItPmlycV9lbmdpbmUtPmd0LCBtYXNrLCB0bXApCj4g
KwkJaW50ZWxfZW5naW5lX2lycV9kaXNhYmxlKHNpYmxpbmcpOwo+ICt9Cj4gKwo+ICtzdGF0aWMg
dm9pZCBndWNfaW5pdF9icmVhZGNydW1icyhzdHJ1Y3QgaW50ZWxfZW5naW5lX2NzICplbmdpbmUp
Cj4gK3sKPiArCWludCBpOwo+ICsKPiArICAgICAgIC8qCj4gKyAgICAgICAgKiBJbiBHdUMgc3Vi
bWlzc2lvbiBtb2RlIHdlIGRvIG5vdCBrbm93IHdoaWNoIHBoeXNpY2FsIGVuZ2luZSBhIHJlcXVl
c3QKPiArICAgICAgICAqIHdpbGwgYmUgc2NoZWR1bGVkIG9uLCB0aGlzIGNyZWF0ZXMgYSBwcm9i
bGVtIGJlY2F1c2UgdGhlIGJyZWFkY3J1bWIKPiArICAgICAgICAqIGludGVycnVwdCBpcyBwZXIg
cGh5c2ljYWwgZW5naW5lLiBUbyB3b3JrIGFyb3VuZCB0aGlzIHdlIGF0dGFjaAo+ICsgICAgICAg
ICogcmVxdWVzdHMgYW5kIGRpcmVjdCBhbGwgYnJlYWRjcnVtYiBpbnRlcnJ1cHRzIHRvIHRoZSBm
aXJzdCBpbnN0YW5jZQo+ICsgICAgICAgICogb2YgYW4gZW5naW5lIHBlciBjbGFzcy4gSW4gYWRk
aXRpb24gYWxsIGJyZWFkY3J1bWIgaW50ZXJydXB0cyBhcmUKPiArCSogZW5hYmxlZCAvIGRpc2Fi
bGVkIGFjcm9zcyBhbiBlbmdpbmUgY2xhc3MgaW4gdW5pc29uLgo+ICsgICAgICAgICovCj4gKwlm
b3IgKGkgPSAwOyBpIDwgTUFYX0VOR0lORV9JTlNUQU5DRTsgKytpKSB7Cj4gKwkJc3RydWN0IGlu
dGVsX2VuZ2luZV9jcyAqc2libGluZyA9Cj4gKwkJCWVuZ2luZS0+Z3QtPmVuZ2luZV9jbGFzc1tl
bmdpbmUtPmNsYXNzXVtpXTsKPiArCj4gKwkJaWYgKHNpYmxpbmcpIHsKPiArCQkJaWYgKGVuZ2lu
ZS0+YnJlYWRjcnVtYnMgIT0gc2libGluZy0+YnJlYWRjcnVtYnMpIHsKPiArCQkJCWludGVsX2Jy
ZWFkY3J1bWJzX3B1dChlbmdpbmUtPmJyZWFkY3J1bWJzKTsKPiArCQkJCWVuZ2luZS0+YnJlYWRj
cnVtYnMgPQo+ICsJCQkJCWludGVsX2JyZWFkY3J1bWJzX2dldChzaWJsaW5nLT5icmVhZGNydW1i
cyk7Cj4gKwkJCX0KPiArCQkJYnJlYWs7Cj4gKwkJfQo+ICsJfQo+ICsKPiArCWlmIChlbmdpbmUt
PmJyZWFkY3J1bWJzKSB7Cj4gKwkJZW5naW5lLT5icmVhZGNydW1icy0+ZW5naW5lX21hc2sgfD0g
ZW5naW5lLT5tYXNrOwo+ICsJCWVuZ2luZS0+YnJlYWRjcnVtYnMtPmlycV9lbmFibGUgPSBndWNf
aXJxX2VuYWJsZV9icmVhZGNydW1iczsKPiArCQllbmdpbmUtPmJyZWFkY3J1bWJzLT5pcnFfZGlz
YWJsZSA9IGd1Y19pcnFfZGlzYWJsZV9icmVhZGNydW1iczsKPiArCX0KPiArfQo+ICsKPiAgIHN0
YXRpYyB2b2lkIHNhbml0aXplX2h3c3Aoc3RydWN0IGludGVsX2VuZ2luZV9jcyAqZW5naW5lKQo+
ICAgewo+ICAgCXN0cnVjdCBpbnRlbF90aW1lbGluZSAqdGw7Cj4gQEAgLTE2MDAsNiArMTY1OSw3
IEBAIGludCBpbnRlbF9ndWNfc3VibWlzc2lvbl9zZXR1cChzdHJ1Y3QgaW50ZWxfZW5naW5lX2Nz
ICplbmdpbmUpCj4gICAKPiAgIAlndWNfZGVmYXVsdF92ZnVuY3MoZW5naW5lKTsKPiAgIAlndWNf
ZGVmYXVsdF9pcnFzKGVuZ2luZSk7Cj4gKwlndWNfaW5pdF9icmVhZGNydW1icyhlbmdpbmUpOwo+
ICAgCj4gICAJaWYgKGVuZ2luZS0+Y2xhc3MgPT0gUkVOREVSX0NMQVNTKQo+ICAgCQlyY3Nfc3Vi
bWlzc2lvbl9vdmVycmlkZShlbmdpbmUpOwo+IEBAIC0xODM5LDExICsxODk5LDYgQEAgZ3VjX2Ny
ZWF0ZV92aXJ0dWFsKHN0cnVjdCBpbnRlbF9lbmdpbmVfY3MgKipzaWJsaW5ncywgdW5zaWduZWQg
aW50IGNvdW50KQo+ICAgCXZlLT5iYXNlLmluc3RhbmNlID0gSTkxNV9FTkdJTkVfQ0xBU1NfSU5W
QUxJRF9WSVJUVUFMOwo+ICAgCXZlLT5iYXNlLnVhYmlfaW5zdGFuY2UgPSBJOTE1X0VOR0lORV9D
TEFTU19JTlZBTElEX1ZJUlRVQUw7Cj4gICAJdmUtPmJhc2Uuc2F0dXJhdGVkID0gQUxMX0VOR0lO
RVM7Cj4gLQl2ZS0+YmFzZS5icmVhZGNydW1icyA9IGludGVsX2JyZWFkY3J1bWJzX2NyZWF0ZSgm
dmUtPmJhc2UpOwo+IC0JaWYgKCF2ZS0+YmFzZS5icmVhZGNydW1icykgewo+IC0JCWtmcmVlKHZl
KTsKPiAtCQlyZXR1cm4gRVJSX1BUUigtRU5PTUVNKTsKPiAtCX0KPiAgIAo+ICAgCXNucHJpbnRm
KHZlLT5iYXNlLm5hbWUsIHNpemVvZih2ZS0+YmFzZS5uYW1lKSwgInZpcnR1YWwiKTsKPiAgIAo+
IEBAIC0xODkyLDYgKzE5NDcsOCBAQCBndWNfY3JlYXRlX3ZpcnR1YWwoc3RydWN0IGludGVsX2Vu
Z2luZV9jcyAqKnNpYmxpbmdzLCB1bnNpZ25lZCBpbnQgY291bnQpCj4gICAJCQkJc2libGluZy0+
ZW1pdF9maW5pX2JyZWFkY3J1bWI7Cj4gICAJCQl2ZS0+YmFzZS5lbWl0X2ZpbmlfYnJlYWRjcnVt
Yl9kdyA9Cj4gICAJCQkJc2libGluZy0+ZW1pdF9maW5pX2JyZWFkY3J1bWJfZHc7Cj4gKwkJCXZl
LT5iYXNlLmJyZWFkY3J1bWJzID0KPiArCQkJCWludGVsX2JyZWFkY3J1bWJzX2dldChzaWJsaW5n
LT5icmVhZGNydW1icyk7Cj4gICAKPiAgIAkJCXZlLT5iYXNlLmZsYWdzIHw9IHNpYmxpbmctPmZs
YWdzOwo+ICAgCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
XwpJbnRlbC1nZnggbWFpbGluZyBsaXN0CkludGVsLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcK
aHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9pbnRlbC1nZngK

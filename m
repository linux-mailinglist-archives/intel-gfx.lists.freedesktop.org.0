Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 2E6BEE2E11
	for <lists+intel-gfx@lfdr.de>; Thu, 24 Oct 2019 12:04:08 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 8615A6E1BE;
	Thu, 24 Oct 2019 10:04:05 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from fireflyinternet.com (mail.fireflyinternet.com [109.228.58.192])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 6A62C6E1BE
 for <intel-gfx@lists.freedesktop.org>; Thu, 24 Oct 2019 10:04:03 +0000 (UTC)
X-Default-Received-SPF: pass (skip=forwardok (res=PASS))
 x-ip-name=78.156.65.138; 
Received: from haswell.alporthouse.com (unverified [78.156.65.138]) 
 by fireflyinternet.com (Firefly Internet (M1)) with ESMTP id 18947196-1500050 
 for multiple; Thu, 24 Oct 2019 11:03:46 +0100
From: Chris Wilson <chris@chris-wilson.co.uk>
To: intel-gfx@lists.freedesktop.org
Date: Thu, 24 Oct 2019 11:03:44 +0100
Message-Id: <20191024100344.5041-1-chris@chris-wilson.co.uk>
X-Mailer: git-send-email 2.24.0.rc0
In-Reply-To: <20191024080122.29960-1-chris@chris-wilson.co.uk>
References: <20191024080122.29960-1-chris@chris-wilson.co.uk>
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH] drm/i915/gt: Split intel_ring_submission
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

U3BsaXQgdGhlIGxlZ2FjeSBzdWJtaXNzaW9uIGJhY2tlbmQgZnJvbSB0aGUgY29tbW9uIENTIHJp
bmcgYnVmZmVyCmhhbmRsaW5nLgoKU2lnbmVkLW9mZi1ieTogQ2hyaXMgV2lsc29uIDxjaHJpc0Bj
aHJpcy13aWxzb24uY28udWs+ClJldmlld2VkLWJ5OiBNaWthIEt1b3BwYWxhIDxtaWthLmt1b3Bw
YWxhQGxpbnV4LmludGVsLmNvbT4KLS0tCldlbGwgdGhhdCB3YXMgdGhlIHdvcnN0IHJlYmFzZSBv
ZiB0aGUgeWVhci4gL29cCi0tLQogZHJpdmVycy9ncHUvZHJtL2k5MTUvTWFrZWZpbGUgICAgICAg
ICAgICAgICAgIHwgICA1ICstCiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX292
ZXJsYXkuYyAgfCAgIDEgKwogZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX2NvbnRl
eHQuYyAgIHwgICAzICstCiAuLi4vZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9leGVjYnVmZmVy
LmMgICAgfCAgIDEgKwogLi4uL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fb2JqZWN0X2JsdC5j
ICAgIHwgICAxICsKIC4uLi9pOTE1L2dlbS9zZWxmdGVzdHMvaTkxNV9nZW1fY29oZXJlbmN5LmMg
ICB8ICAgMSArCiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9jb250ZXh0LmMgICAgICAg
fCAgIDEgKwogZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfY29udGV4dC5oICAgICAgIHwg
ICAxICsKIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2VuZ2luZS5oICAgICAgICB8IDEx
NCAtLS0tLS0tCiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9lbmdpbmVfY3MuYyAgICAg
fCAgIDEgKwogZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZW5naW5lX3BtLmMgICAgIHwg
ICAxICsKIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2VuZ2luZV90eXBlcy5oICB8ICAy
NyArLQogZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfbHJjLmMgICAgICAgICAgIHwgICAx
ICsKIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX21vY3MuYyAgICAgICAgICB8ICAgMSAr
CiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9yZW5kZXJzdGF0ZS5jICAgfCAgIDEgKwog
ZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfcmluZy5jICAgICAgICAgIHwgMzIxICsrKysr
KysrKysrKysrKysrKwogZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfcmluZy5oICAgICAg
ICAgIHwgMTMxICsrKysrKysKIC4uLmxfcmluZ2J1ZmZlci5jID0+IGludGVsX3Jpbmdfc3VibWlz
c2lvbi5jfSB8IDMwOSArLS0tLS0tLS0tLS0tLS0tLQogZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3Qv
aW50ZWxfcmluZ190eXBlcy5oICAgIHwgIDUxICsrKwogZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3Qv
aW50ZWxfdGltZWxpbmUuYyAgICAgIHwgICA2ICstCiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9p
bnRlbF93b3JrYXJvdW5kcy5jICAgfCAgIDEgKwogZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvbW9j
a19lbmdpbmUuYyAgICAgICAgIHwgICAxICsKIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L3NlbGZ0
ZXN0X3RpbWVsaW5lLmMgICB8ICAgMSArCiAuLi4vZ3B1L2RybS9pOTE1L2d0L3VjL2ludGVsX2d1
Y19zdWJtaXNzaW9uLmMgfCAgIDMgKy0KIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2d2dC9jbWRfcGFy
c2VyLmMgICAgICAgICB8ICAgMiArCiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9ndnQvbW1pb19jb250
ZXh0LmMgICAgICAgfCAgIDEgKwogZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3Z0L3NjaGVkdWxlci5j
ICAgICAgICAgIHwgICAxICsKIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfYWN0aXZlLmMgICAg
ICAgICAgICB8ICAgMSArCiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3BlcmYuYyAgICAgICAg
ICAgICAgfCAgIDEgKwogZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9yZXF1ZXN0LmMgICAgICAg
ICAgIHwgICAxICsKIDMwIGZpbGVzIGNoYW5nZWQsIDUzNiBpbnNlcnRpb25zKCspLCA0NTUgZGVs
ZXRpb25zKC0pCiBjcmVhdGUgbW9kZSAxMDA2NDQgZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50
ZWxfcmluZy5jCiBjcmVhdGUgbW9kZSAxMDA2NDQgZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50
ZWxfcmluZy5oCiByZW5hbWUgZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3Qve2ludGVsX3JpbmdidWZm
ZXIuYyA9PiBpbnRlbF9yaW5nX3N1Ym1pc3Npb24uY30gKDg4JSkKIGNyZWF0ZSBtb2RlIDEwMDY0
NCBkcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9yaW5nX3R5cGVzLmgKCmRpZmYgLS1naXQg
YS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9NYWtlZmlsZSBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L01h
a2VmaWxlCmluZGV4IDIxNjAxYmIyN2IyMi4uOWJmMWMwYjIwMzcwIDEwMDY0NAotLS0gYS9kcml2
ZXJzL2dwdS9kcm0vaTkxNS9NYWtlZmlsZQorKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9NYWtl
ZmlsZQpAQCAtODksMTEgKzg5LDEyIEBAIGd0LXkgKz0gXAogCWd0L2ludGVsX2d0X3JlcXVlc3Rz
Lm8gXAogCWd0L2ludGVsX2xsYy5vIFwKIAlndC9pbnRlbF9scmMubyBcCisJZ3QvaW50ZWxfbW9j
cy5vIFwKIAlndC9pbnRlbF9yYzYubyBcCiAJZ3QvaW50ZWxfcmVuZGVyc3RhdGUubyBcCiAJZ3Qv
aW50ZWxfcmVzZXQubyBcCi0JZ3QvaW50ZWxfcmluZ2J1ZmZlci5vIFwKLQlndC9pbnRlbF9tb2Nz
Lm8gXAorCWd0L2ludGVsX3JpbmcubyBcCisJZ3QvaW50ZWxfcmluZ19zdWJtaXNzaW9uLm8gXAog
CWd0L2ludGVsX3NzZXUubyBcCiAJZ3QvaW50ZWxfdGltZWxpbmUubyBcCiAJZ3QvaW50ZWxfd29y
a2Fyb3VuZHMubwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRl
bF9vdmVybGF5LmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX292ZXJsYXku
YwppbmRleCAyMzYwZjE5Zjk2OTQuLjg0OGNlMDdhOGVjMiAxMDA2NDQKLS0tIGEvZHJpdmVycy9n
cHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9vdmVybGF5LmMKKysrIGIvZHJpdmVycy9ncHUvZHJt
L2k5MTUvZGlzcGxheS9pbnRlbF9vdmVybGF5LmMKQEAgLTMwLDYgKzMwLDcgQEAKICNpbmNsdWRl
IDxkcm0vaTkxNV9kcm0uaD4KIAogI2luY2x1ZGUgImdlbS9pOTE1X2dlbV9wbS5oIgorI2luY2x1
ZGUgImd0L2ludGVsX3JpbmcuaCIKIAogI2luY2x1ZGUgImk5MTVfZHJ2LmgiCiAjaW5jbHVkZSAi
aTkxNV9yZWcuaCIKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dl
bV9jb250ZXh0LmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fY29udGV4dC5j
CmluZGV4IGIyZjA0MmQ4N2JlMC4uNTVmMWY5M2MwOTI1IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dw
dS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fY29udGV4dC5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9p
OTE1L2dlbS9pOTE1X2dlbV9jb250ZXh0LmMKQEAgLTY5LDkgKzY5LDEwIEBACiAKICNpbmNsdWRl
IDxkcm0vaTkxNV9kcm0uaD4KIAotI2luY2x1ZGUgImd0L2ludGVsX2xyY19yZWcuaCIKICNpbmNs
dWRlICJndC9pbnRlbF9lbmdpbmVfaGVhcnRiZWF0LmgiCiAjaW5jbHVkZSAiZ3QvaW50ZWxfZW5n
aW5lX3VzZXIuaCIKKyNpbmNsdWRlICJndC9pbnRlbF9scmNfcmVnLmgiCisjaW5jbHVkZSAiZ3Qv
aW50ZWxfcmluZy5oIgogCiAjaW5jbHVkZSAiaTkxNV9nZW1fY29udGV4dC5oIgogI2luY2x1ZGUg
Imk5MTVfZ2xvYmFscy5oIgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5
MTVfZ2VtX2V4ZWNidWZmZXIuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9l
eGVjYnVmZmVyLmMKaW5kZXggZTk2OTAxODg4MzIzLi5lNGY1YzI2OTE1MGEgMTAwNjQ0Ci0tLSBh
L2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9leGVjYnVmZmVyLmMKKysrIGIvZHJp
dmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX2V4ZWNidWZmZXIuYwpAQCAtMTksNiArMTks
NyBAQAogI2luY2x1ZGUgImd0L2ludGVsX2VuZ2luZV9wb29sLmgiCiAjaW5jbHVkZSAiZ3QvaW50
ZWxfZ3QuaCIKICNpbmNsdWRlICJndC9pbnRlbF9ndF9wbS5oIgorI2luY2x1ZGUgImd0L2ludGVs
X3JpbmcuaCIKIAogI2luY2x1ZGUgImk5MTVfZHJ2LmgiCiAjaW5jbHVkZSAiaTkxNV9nZW1fY2xm
bHVzaC5oIgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX29i
amVjdF9ibHQuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9vYmplY3RfYmx0
LmMKaW5kZXggNWJkOGRlMTI0ZDc0Li41MTZlNjFlOTkyMTIgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMv
Z3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9vYmplY3RfYmx0LmMKKysrIGIvZHJpdmVycy9ncHUv
ZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX29iamVjdF9ibHQuYwpAQCAtOCw2ICs4LDcgQEAKICNpbmNs
dWRlICJndC9pbnRlbF9lbmdpbmVfcG0uaCIKICNpbmNsdWRlICJndC9pbnRlbF9lbmdpbmVfcG9v
bC5oIgogI2luY2x1ZGUgImd0L2ludGVsX2d0LmgiCisjaW5jbHVkZSAiZ3QvaW50ZWxfcmluZy5o
IgogI2luY2x1ZGUgImk5MTVfZ2VtX2NsZmx1c2guaCIKICNpbmNsdWRlICJpOTE1X2dlbV9vYmpl
Y3RfYmx0LmgiCiAKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9zZWxmdGVz
dHMvaTkxNV9nZW1fY29oZXJlbmN5LmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vc2VsZnRl
c3RzL2k5MTVfZ2VtX2NvaGVyZW5jeS5jCmluZGV4IDU0OTgxMGY3MGFlYi4uMDg3N2VmNGRmZjYz
IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vc2VsZnRlc3RzL2k5MTVfZ2Vt
X2NvaGVyZW5jeS5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9zZWxmdGVzdHMvaTkx
NV9nZW1fY29oZXJlbmN5LmMKQEAgLTgsNiArOCw3IEBACiAKICNpbmNsdWRlICJndC9pbnRlbF9n
dC5oIgogI2luY2x1ZGUgImd0L2ludGVsX2d0X3BtLmgiCisjaW5jbHVkZSAiZ3QvaW50ZWxfcmlu
Zy5oIgogCiAjaW5jbHVkZSAiaTkxNV9zZWxmdGVzdC5oIgogI2luY2x1ZGUgInNlbGZ0ZXN0cy9p
OTE1X3JhbmRvbS5oIgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxf
Y29udGV4dC5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfY29udGV4dC5jCmluZGV4
IDU5YzMwODNjMWVjMS4uZWU5ZDJiY2QyYzEzIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0v
aTkxNS9ndC9pbnRlbF9jb250ZXh0LmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50
ZWxfY29udGV4dC5jCkBAIC0xMyw2ICsxMyw3IEBACiAjaW5jbHVkZSAiaW50ZWxfY29udGV4dC5o
IgogI2luY2x1ZGUgImludGVsX2VuZ2luZS5oIgogI2luY2x1ZGUgImludGVsX2VuZ2luZV9wbS5o
IgorI2luY2x1ZGUgImludGVsX3JpbmcuaCIKIAogc3RhdGljIHN0cnVjdCBpOTE1X2dsb2JhbF9j
b250ZXh0IHsKIAlzdHJ1Y3QgaTkxNV9nbG9iYWwgYmFzZTsKZGlmZiAtLWdpdCBhL2RyaXZlcnMv
Z3B1L2RybS9pOTE1L2d0L2ludGVsX2NvbnRleHQuaCBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0
L2ludGVsX2NvbnRleHQuaAppbmRleCBkZDc0MmFjMmZiZGIuLjY4YjNkMzE3ZDk1OSAxMDA2NDQK
LS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfY29udGV4dC5oCisrKyBiL2RyaXZl
cnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2NvbnRleHQuaApAQCAtMTIsNiArMTIsNyBAQAogI2lu
Y2x1ZGUgImk5MTVfYWN0aXZlLmgiCiAjaW5jbHVkZSAiaW50ZWxfY29udGV4dF90eXBlcy5oIgog
I2luY2x1ZGUgImludGVsX2VuZ2luZV90eXBlcy5oIgorI2luY2x1ZGUgImludGVsX3JpbmdfdHlw
ZXMuaCIKICNpbmNsdWRlICJpbnRlbF90aW1lbGluZV90eXBlcy5oIgogCiB2b2lkIGludGVsX2Nv
bnRleHRfaW5pdChzdHJ1Y3QgaW50ZWxfY29udGV4dCAqY2UsCmRpZmYgLS1naXQgYS9kcml2ZXJz
L2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9lbmdpbmUuaCBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0
L2ludGVsX2VuZ2luZS5oCmluZGV4IGVlNDc0NDRhNmFkNC4uOTdiYmRkOTc3M2M5IDEwMDY0NAot
LS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9lbmdpbmUuaAorKysgYi9kcml2ZXJz
L2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9lbmdpbmUuaApAQCAtMTksNyArMTksNiBAQAogI2luY2x1
ZGUgImludGVsX3dvcmthcm91bmRzLmgiCiAKIHN0cnVjdCBkcm1fcHJpbnRlcjsKLQogc3RydWN0
IGludGVsX2d0OwogCiAvKiBFYXJseSBnZW4yIGRldmljZXMgaGF2ZSBhIGNhY2hlbGluZSBvZiBq
dXN0IDMyIGJ5dGVzLCB1c2luZyA2NCBpcyBvdmVya2lsbCwKQEAgLTE3NiwxMjIgKzE3NSw5IEBA
IGludGVsX3dyaXRlX3N0YXR1c19wYWdlKHN0cnVjdCBpbnRlbF9lbmdpbmVfY3MgKmVuZ2luZSwg
aW50IHJlZywgdTMyIHZhbHVlKQogI2RlZmluZSBJOTE1X0hXU19DU0JfV1JJVEVfSU5ERVgJMHgx
ZgogI2RlZmluZSBDTkxfSFdTX0NTQl9XUklURV9JTkRFWAkJMHgyZgogCi1zdHJ1Y3QgaW50ZWxf
cmluZyAqCi1pbnRlbF9lbmdpbmVfY3JlYXRlX3Jpbmcoc3RydWN0IGludGVsX2VuZ2luZV9jcyAq
ZW5naW5lLCBpbnQgc2l6ZSk7Ci1pbnQgaW50ZWxfcmluZ19waW4oc3RydWN0IGludGVsX3Jpbmcg
KnJpbmcpOwotdm9pZCBpbnRlbF9yaW5nX3Jlc2V0KHN0cnVjdCBpbnRlbF9yaW5nICpyaW5nLCB1
MzIgdGFpbCk7Ci11bnNpZ25lZCBpbnQgaW50ZWxfcmluZ191cGRhdGVfc3BhY2Uoc3RydWN0IGlu
dGVsX3JpbmcgKnJpbmcpOwotdm9pZCBpbnRlbF9yaW5nX3VucGluKHN0cnVjdCBpbnRlbF9yaW5n
ICpyaW5nKTsKLXZvaWQgaW50ZWxfcmluZ19mcmVlKHN0cnVjdCBrcmVmICpyZWYpOwotCi1zdGF0
aWMgaW5saW5lIHN0cnVjdCBpbnRlbF9yaW5nICppbnRlbF9yaW5nX2dldChzdHJ1Y3QgaW50ZWxf
cmluZyAqcmluZykKLXsKLQlrcmVmX2dldCgmcmluZy0+cmVmKTsKLQlyZXR1cm4gcmluZzsKLX0K
LQotc3RhdGljIGlubGluZSB2b2lkIGludGVsX3JpbmdfcHV0KHN0cnVjdCBpbnRlbF9yaW5nICpy
aW5nKQotewotCWtyZWZfcHV0KCZyaW5nLT5yZWYsIGludGVsX3JpbmdfZnJlZSk7Ci19Ci0KIHZv
aWQgaW50ZWxfZW5naW5lX3N0b3Aoc3RydWN0IGludGVsX2VuZ2luZV9jcyAqZW5naW5lKTsKIHZv
aWQgaW50ZWxfZW5naW5lX2NsZWFudXAoc3RydWN0IGludGVsX2VuZ2luZV9jcyAqZW5naW5lKTsK
IAotaW50IF9fbXVzdF9jaGVjayBpbnRlbF9yaW5nX2NhY2hlbGluZV9hbGlnbihzdHJ1Y3QgaTkx
NV9yZXF1ZXN0ICpycSk7Ci0KLXUzMiBfX211c3RfY2hlY2sgKmludGVsX3JpbmdfYmVnaW4oc3Ry
dWN0IGk5MTVfcmVxdWVzdCAqcnEsIHVuc2lnbmVkIGludCBuKTsKLQotc3RhdGljIGlubGluZSB2
b2lkIGludGVsX3JpbmdfYWR2YW5jZShzdHJ1Y3QgaTkxNV9yZXF1ZXN0ICpycSwgdTMyICpjcykK
LXsKLQkvKiBEdW1teSBmdW5jdGlvbi4KLQkgKgotCSAqIFRoaXMgc2VydmVzIGFzIGEgcGxhY2Vo
b2xkZXIgaW4gdGhlIGNvZGUgc28gdGhhdCB0aGUgcmVhZGVyCi0JICogY2FuIGNvbXBhcmUgYWdh
aW5zdCB0aGUgcHJlY2VkaW5nIGludGVsX3JpbmdfYmVnaW4oKSBhbmQKLQkgKiBjaGVjayB0aGF0
IHRoZSBudW1iZXIgb2YgZHdvcmRzIGVtaXR0ZWQgbWF0Y2hlcyB0aGUgc3BhY2UKLQkgKiByZXNl
cnZlZCBmb3IgdGhlIGNvbW1hbmQgcGFja2V0IChpLmUuIHRoZSB2YWx1ZSBwYXNzZWQgdG8KLQkg
KiBpbnRlbF9yaW5nX2JlZ2luKCkpLgotCSAqLwotCUdFTV9CVUdfT04oKHJxLT5yaW5nLT52YWRk
ciArIHJxLT5yaW5nLT5lbWl0KSAhPSBjcyk7Ci19Ci0KLXN0YXRpYyBpbmxpbmUgdTMyIGludGVs
X3Jpbmdfd3JhcChjb25zdCBzdHJ1Y3QgaW50ZWxfcmluZyAqcmluZywgdTMyIHBvcykKLXsKLQly
ZXR1cm4gcG9zICYgKHJpbmctPnNpemUgLSAxKTsKLX0KLQotc3RhdGljIGlubGluZSBib29sCi1p
bnRlbF9yaW5nX29mZnNldF92YWxpZChjb25zdCBzdHJ1Y3QgaW50ZWxfcmluZyAqcmluZywKLQkJ
CXVuc2lnbmVkIGludCBwb3MpCi17Ci0JaWYgKHBvcyAmIC1yaW5nLT5zaXplKSAvKiBtdXN0IGJl
IHN0cmljdGx5IHdpdGhpbiB0aGUgcmluZyAqLwotCQlyZXR1cm4gZmFsc2U7Ci0KLQlpZiAoIUlT
X0FMSUdORUQocG9zLCA4KSkgLyogbXVzdCBiZSBxd29yZCBhbGlnbmVkICovCi0JCXJldHVybiBm
YWxzZTsKLQotCXJldHVybiB0cnVlOwotfQotCi1zdGF0aWMgaW5saW5lIHUzMiBpbnRlbF9yaW5n
X29mZnNldChjb25zdCBzdHJ1Y3QgaTkxNV9yZXF1ZXN0ICpycSwgdm9pZCAqYWRkcikKLXsKLQkv
KiBEb24ndCB3cml0ZSByaW5nLT5zaXplIChlcXVpdmFsZW50IHRvIDApIGFzIHRoYXQgaGFuZ3Mg
c29tZSBHUFVzLiAqLwotCXUzMiBvZmZzZXQgPSBhZGRyIC0gcnEtPnJpbmctPnZhZGRyOwotCUdF
TV9CVUdfT04ob2Zmc2V0ID4gcnEtPnJpbmctPnNpemUpOwotCXJldHVybiBpbnRlbF9yaW5nX3dy
YXAocnEtPnJpbmcsIG9mZnNldCk7Ci19Ci0KLXN0YXRpYyBpbmxpbmUgdm9pZAotYXNzZXJ0X3Jp
bmdfdGFpbF92YWxpZChjb25zdCBzdHJ1Y3QgaW50ZWxfcmluZyAqcmluZywgdW5zaWduZWQgaW50
IHRhaWwpCi17Ci0JR0VNX0JVR19PTighaW50ZWxfcmluZ19vZmZzZXRfdmFsaWQocmluZywgdGFp
bCkpOwotCi0JLyoKLQkgKiAiUmluZyBCdWZmZXIgVXNlIgotCSAqCUdlbjIgQlNwZWMgIjEuIFBy
b2dyYW1taW5nIEVudmlyb25tZW50IiAvIDEuNC40LjYKLQkgKglHZW4zIEJTcGVjICIxYyBNZW1v
cnkgSW50ZXJmYWNlIEZ1bmN0aW9ucyIgLyAyLjMuNC41Ci0JICoJR2VuNCsgQlNwZWMgIjFjIE1l
bW9yeSBJbnRlcmZhY2UgYW5kIENvbW1hbmQgU3RyZWFtIiAvIDUuMy40LjUKLQkgKiAiSWYgdGhl
IFJpbmcgQnVmZmVyIEhlYWQgUG9pbnRlciBhbmQgdGhlIFRhaWwgUG9pbnRlciBhcmUgb24gdGhl
Ci0JICogc2FtZSBjYWNoZWxpbmUsIHRoZSBIZWFkIFBvaW50ZXIgbXVzdCBub3QgYmUgZ3JlYXRl
ciB0aGFuIHRoZSBUYWlsCi0JICogUG9pbnRlci4iCi0JICoKLQkgKiBXZSB1c2UgcmluZy0+aGVh
ZCBhcyB0aGUgbGFzdCBrbm93biBsb2NhdGlvbiBvZiB0aGUgYWN0dWFsIFJJTkdfSEVBRCwKLQkg
KiBpdCBtYXkgaGF2ZSBhZHZhbmNlZCBidXQgaW4gdGhlIHdvcnN0IGNhc2UgaXQgaXMgZXF1YWxs
eSB0aGUgc2FtZQotCSAqIGFzIHJpbmctPmhlYWQgYW5kIHNvIHdlIHNob3VsZCBuZXZlciBwcm9n
cmFtIFJJTkdfVEFJTCB0byBhZHZhbmNlCi0JICogaW50byB0aGUgc2FtZSBjYWNoZWxpbmUgYXMg
cmluZy0+aGVhZC4KLQkgKi8KLSNkZWZpbmUgY2FjaGVsaW5lKGEpIHJvdW5kX2Rvd24oYSwgQ0FD
SEVMSU5FX0JZVEVTKQotCUdFTV9CVUdfT04oY2FjaGVsaW5lKHRhaWwpID09IGNhY2hlbGluZShy
aW5nLT5oZWFkKSAmJgotCQkgICB0YWlsIDwgcmluZy0+aGVhZCk7Ci0jdW5kZWYgY2FjaGVsaW5l
Ci19Ci0KLXN0YXRpYyBpbmxpbmUgdW5zaWduZWQgaW50Ci1pbnRlbF9yaW5nX3NldF90YWlsKHN0
cnVjdCBpbnRlbF9yaW5nICpyaW5nLCB1bnNpZ25lZCBpbnQgdGFpbCkKLXsKLQkvKiBXaGlsc3Qg
d3JpdGVzIHRvIHRoZSB0YWlsIGFyZSBzdHJpY3RseSBvcmRlciwgdGhlcmUgaXMgbm8KLQkgKiBz
ZXJpYWxpc2F0aW9uIGJldHdlZW4gcmVhZGVycyBhbmQgdGhlIHdyaXRlcnMuIFRoZSB0YWlsIG1h
eSBiZQotCSAqIHJlYWQgYnkgaTkxNV9yZXF1ZXN0X3JldGlyZSgpIGp1c3QgYXMgaXQgaXMgYmVp
bmcgdXBkYXRlZAotCSAqIGJ5IGV4ZWNsaXN0cywgYXMgYWx0aG91Z2ggdGhlIGJyZWFkY3J1bWIg
aXMgY29tcGxldGUsIHRoZSBjb250ZXh0Ci0JICogc3dpdGNoIGhhc24ndCBiZWVuIHNlZW4uCi0J
ICovCi0JYXNzZXJ0X3JpbmdfdGFpbF92YWxpZChyaW5nLCB0YWlsKTsKLQlyaW5nLT50YWlsID0g
dGFpbDsKLQlyZXR1cm4gdGFpbDsKLX0KLQotc3RhdGljIGlubGluZSB1bnNpZ25lZCBpbnQKLV9f
aW50ZWxfcmluZ19zcGFjZSh1bnNpZ25lZCBpbnQgaGVhZCwgdW5zaWduZWQgaW50IHRhaWwsIHVu
c2lnbmVkIGludCBzaXplKQotewotCS8qCi0JICogIklmIHRoZSBSaW5nIEJ1ZmZlciBIZWFkIFBv
aW50ZXIgYW5kIHRoZSBUYWlsIFBvaW50ZXIgYXJlIG9uIHRoZQotCSAqIHNhbWUgY2FjaGVsaW5l
LCB0aGUgSGVhZCBQb2ludGVyIG11c3Qgbm90IGJlIGdyZWF0ZXIgdGhhbiB0aGUgVGFpbAotCSAq
IFBvaW50ZXIuIgotCSAqLwotCUdFTV9CVUdfT04oIWlzX3Bvd2VyX29mXzIoc2l6ZSkpOwotCXJl
dHVybiAoaGVhZCAtIHRhaWwgLSBDQUNIRUxJTkVfQllURVMpICYgKHNpemUgLSAxKTsKLX0KLQog
aW50IGludGVsX2VuZ2luZXNfaW5pdF9tbWlvKHN0cnVjdCBpbnRlbF9ndCAqZ3QpOwogaW50IGlu
dGVsX2VuZ2luZXNfc2V0dXAoc3RydWN0IGludGVsX2d0ICpndCk7CiBpbnQgaW50ZWxfZW5naW5l
c19pbml0KHN0cnVjdCBpbnRlbF9ndCAqZ3QpOwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJt
L2k5MTUvZ3QvaW50ZWxfZW5naW5lX2NzLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRl
bF9lbmdpbmVfY3MuYwppbmRleCA4YjUxMjllMGI0OWQuLjljYzFlYTY1MTllYyAxMDA2NDQKLS0t
IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZW5naW5lX2NzLmMKKysrIGIvZHJpdmVy
cy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZW5naW5lX2NzLmMKQEAgLTM3LDYgKzM3LDcgQEAKICNp
bmNsdWRlICJpbnRlbF9jb250ZXh0LmgiCiAjaW5jbHVkZSAiaW50ZWxfbHJjLmgiCiAjaW5jbHVk
ZSAiaW50ZWxfcmVzZXQuaCIKKyNpbmNsdWRlICJpbnRlbF9yaW5nLmgiCiAKIC8qIEhhc3dlbGwg
ZG9lcyBoYXZlIHRoZSBDWFRfU0laRSByZWdpc3RlciBob3dldmVyIGl0IGRvZXMgbm90IGFwcGVh
ciB0byBiZQogICogdmFsaWQuIE5vdywgZG9jcyBleHBsYWluIGluIGR3b3JkcyB3aGF0IGlzIGlu
IHRoZSBjb250ZXh0IG9iamVjdC4gVGhlIGZ1bGwKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2d0L2ludGVsX2VuZ2luZV9wbS5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50
ZWxfZW5naW5lX3BtLmMKaW5kZXggNmZiZmEyMTYyZTU0Li4zYzBmNDkwZmYyYzcgMTAwNjQ0Ci0t
LSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2VuZ2luZV9wbS5jCisrKyBiL2RyaXZl
cnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2VuZ2luZV9wbS5jCkBAIC0xMyw2ICsxMyw3IEBACiAj
aW5jbHVkZSAiaW50ZWxfZ3QuaCIKICNpbmNsdWRlICJpbnRlbF9ndF9wbS5oIgogI2luY2x1ZGUg
ImludGVsX3JjNi5oIgorI2luY2x1ZGUgImludGVsX3JpbmcuaCIKIAogc3RhdGljIGludCBfX2Vu
Z2luZV91bnBhcmsoc3RydWN0IGludGVsX3dha2VyZWYgKndmKQogewpkaWZmIC0tZ2l0IGEvZHJp
dmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZW5naW5lX3R5cGVzLmggYi9kcml2ZXJzL2dwdS9k
cm0vaTkxNS9ndC9pbnRlbF9lbmdpbmVfdHlwZXMuaAppbmRleCAyNjk5ODkwMWZlZmYuLmU4ZWEx
MmI5Njc1NSAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZW5naW5l
X3R5cGVzLmgKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZW5naW5lX3R5cGVz
LmgKQEAgLTU5LDYgKzU5LDcgQEAgc3RydWN0IGk5MTVfZ2VtX2NvbnRleHQ7CiBzdHJ1Y3QgaTkx
NV9yZXF1ZXN0Owogc3RydWN0IGk5MTVfc2NoZWRfYXR0cjsKIHN0cnVjdCBpbnRlbF9ndDsKK3N0
cnVjdCBpbnRlbF9yaW5nOwogc3RydWN0IGludGVsX3VuY29yZTsKIAogdHlwZWRlZiB1OCBpbnRl
bF9lbmdpbmVfbWFza190OwpAQCAtNzcsMzIgKzc4LDYgQEAgc3RydWN0IGludGVsX2luc3Rkb25l
IHsKIAl1MzIgcm93W0k5MTVfTUFYX1NMSUNFU11bSTkxNV9NQVhfU1VCU0xJQ0VTXTsKIH07CiAK
LXN0cnVjdCBpbnRlbF9yaW5nIHsKLQlzdHJ1Y3Qga3JlZiByZWY7Ci0Jc3RydWN0IGk5MTVfdm1h
ICp2bWE7Ci0Jdm9pZCAqdmFkZHI7Ci0KLQkvKgotCSAqIEFzIHdlIGhhdmUgdHdvIHR5cGVzIG9m
IHJpbmdzLCBvbmUgZ2xvYmFsIHRvIHRoZSBlbmdpbmUgdXNlZAotCSAqIGJ5IHJpbmdidWZmZXIg
c3VibWlzc2lvbiBhbmQgdGhvc2UgdGhhdCBhcmUgZXhjbHVzaXZlIHRvIGEKLQkgKiBjb250ZXh0
IHVzZWQgYnkgZXhlY2xpc3RzLCB3ZSBoYXZlIHRvIHBsYXkgc2FmZSBhbmQgYWxsb3cKLQkgKiBh
dG9taWMgdXBkYXRlcyB0byB0aGUgcGluX2NvdW50LiBIb3dldmVyLCB0aGUgYWN0dWFsIHBpbm5p
bmcKLQkgKiBvZiB0aGUgY29udGV4dCBpcyBlaXRoZXIgZG9uZSBkdXJpbmcgaW5pdGlhbGlzYXRp
b24gZm9yCi0JICogcmluZ2J1ZmZlciBzdWJtaXNzaW9uIG9yIHNlcmlhbGlzZWQgYXMgcGFydCBv
ZiB0aGUgY29udGV4dAotCSAqIHBpbm5pbmcgZm9yIGV4ZWNsaXN0cywgYW5kIHNvIHdlIGRvIG5v
dCBuZWVkIGEgbXV0ZXggb3Vyc2VsdmVzCi0JICogdG8gc2VyaWFsaXNlIGludGVsX3JpbmdfcGlu
L2ludGVsX3JpbmdfdW5waW4uCi0JICovCi0JYXRvbWljX3QgcGluX2NvdW50OwotCi0JdTMyIGhl
YWQ7Ci0JdTMyIHRhaWw7Ci0JdTMyIGVtaXQ7Ci0KLQl1MzIgc3BhY2U7Ci0JdTMyIHNpemU7Ci0J
dTMyIGVmZmVjdGl2ZV9zaXplOwotfTsKLQogLyoKICAqIHdlIHVzZSBhIHNpbmdsZSBwYWdlIHRv
IGxvYWQgY3R4IHdvcmthcm91bmRzIHNvIGFsbCBvZiB0aGVzZQogICogdmFsdWVzIGFyZSByZWZl
cnJlZCBpbiB0ZXJtcyBvZiBkd29yZHMKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1
L2d0L2ludGVsX2xyYy5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfbHJjLmMKaW5k
ZXggNjUxZDVkZDM5NDY0Li43M2VhZTg1YTJjYzkgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2d0L2ludGVsX2xyYy5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVs
X2xyYy5jCkBAIC0xNDUsNiArMTQ1LDcgQEAKICNpbmNsdWRlICJpbnRlbF9scmNfcmVnLmgiCiAj
aW5jbHVkZSAiaW50ZWxfbW9jcy5oIgogI2luY2x1ZGUgImludGVsX3Jlc2V0LmgiCisjaW5jbHVk
ZSAiaW50ZWxfcmluZy5oIgogI2luY2x1ZGUgImludGVsX3dvcmthcm91bmRzLmgiCiAKICNkZWZp
bmUgUklOR19FWEVDTElTVF9RRlVMTAkJKDEgPDwgMHgyKQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9n
cHUvZHJtL2k5MTUvZ3QvaW50ZWxfbW9jcy5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50
ZWxfbW9jcy5jCmluZGV4IDViYWMzOTY2OTA2Yi4uOTMyODMzZTViNzEyIDEwMDY0NAotLS0gYS9k
cml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9tb2NzLmMKKysrIGIvZHJpdmVycy9ncHUvZHJt
L2k5MTUvZ3QvaW50ZWxfbW9jcy5jCkBAIC0yNiw2ICsyNiw3IEBACiAjaW5jbHVkZSAiaW50ZWxf
Z3QuaCIKICNpbmNsdWRlICJpbnRlbF9tb2NzLmgiCiAjaW5jbHVkZSAiaW50ZWxfbHJjLmgiCisj
aW5jbHVkZSAiaW50ZWxfcmluZy5oIgogCiAvKiBzdHJ1Y3R1cmVzIHJlcXVpcmVkICovCiBzdHJ1
Y3QgZHJtX2k5MTVfbW9jc19lbnRyeSB7CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkx
NS9ndC9pbnRlbF9yZW5kZXJzdGF0ZS5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxf
cmVuZGVyc3RhdGUuYwppbmRleCA2ZDA1ZjljNjQxNzguLmM0ZWRjMzVlN2Q4OSAxMDA2NDQKLS0t
IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfcmVuZGVyc3RhdGUuYworKysgYi9kcml2
ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9yZW5kZXJzdGF0ZS5jCkBAIC0yNyw2ICsyNyw3IEBA
CiAKICNpbmNsdWRlICJpOTE1X2Rydi5oIgogI2luY2x1ZGUgImludGVsX3JlbmRlcnN0YXRlLmgi
CisjaW5jbHVkZSAiaW50ZWxfcmluZy5oIgogCiBzdHJ1Y3QgaW50ZWxfcmVuZGVyc3RhdGUgewog
CWNvbnN0IHN0cnVjdCBpbnRlbF9yZW5kZXJzdGF0ZV9yb2RhdGEgKnJvZGF0YTsKZGlmZiAtLWdp
dCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX3JpbmcuYyBiL2RyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2d0L2ludGVsX3JpbmcuYwpuZXcgZmlsZSBtb2RlIDEwMDY0NAppbmRleCAwMDAwMDAw
MDAwMDAuLmZhMDFjMTQwNzc2MAotLS0gL2Rldi9udWxsCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9p
OTE1L2d0L2ludGVsX3JpbmcuYwpAQCAtMCwwICsxLDMyMSBAQAorLyoKKyAqIFNQRFgtTGljZW5z
ZS1JZGVudGlmaWVyOiBNSVQKKyAqCisgKiBDb3B5cmlnaHQgwqkgMjAxOSBJbnRlbCBDb3Jwb3Jh
dGlvbgorICovCisKKyNpbmNsdWRlICJnZW0vaTkxNV9nZW1fb2JqZWN0LmgiCisjaW5jbHVkZSAi
aTkxNV9kcnYuaCIKKyNpbmNsdWRlICJpOTE1X3ZtYS5oIgorI2luY2x1ZGUgImludGVsX2VuZ2lu
ZS5oIgorI2luY2x1ZGUgImludGVsX3JpbmcuaCIKKyNpbmNsdWRlICJpbnRlbF90aW1lbGluZS5o
IgorCit1bnNpZ25lZCBpbnQgaW50ZWxfcmluZ191cGRhdGVfc3BhY2Uoc3RydWN0IGludGVsX3Jp
bmcgKnJpbmcpCit7CisJdW5zaWduZWQgaW50IHNwYWNlOworCisJc3BhY2UgPSBfX2ludGVsX3Jp
bmdfc3BhY2UocmluZy0+aGVhZCwgcmluZy0+ZW1pdCwgcmluZy0+c2l6ZSk7CisKKwlyaW5nLT5z
cGFjZSA9IHNwYWNlOworCXJldHVybiBzcGFjZTsKK30KKworaW50IGludGVsX3JpbmdfcGluKHN0
cnVjdCBpbnRlbF9yaW5nICpyaW5nKQoreworCXN0cnVjdCBpOTE1X3ZtYSAqdm1hID0gcmluZy0+
dm1hOworCXVuc2lnbmVkIGludCBmbGFnczsKKwl2b2lkICphZGRyOworCWludCByZXQ7CisKKwlp
ZiAoYXRvbWljX2ZldGNoX2luYygmcmluZy0+cGluX2NvdW50KSkKKwkJcmV0dXJuIDA7CisKKwlm
bGFncyA9IFBJTl9HTE9CQUw7CisKKwkvKiBSaW5nIHdyYXBhcm91bmQgYXQgb2Zmc2V0IDAgc29t
ZXRpbWVzIGhhbmdzLiBObyBpZGVhIHdoeS4gKi8KKwlmbGFncyB8PSBQSU5fT0ZGU0VUX0JJQVMg
fCBpOTE1X2dndHRfcGluX2JpYXModm1hKTsKKworCWlmICh2bWEtPm9iai0+c3RvbGVuKQorCQlm
bGFncyB8PSBQSU5fTUFQUEFCTEU7CisJZWxzZQorCQlmbGFncyB8PSBQSU5fSElHSDsKKworCXJl
dCA9IGk5MTVfdm1hX3Bpbih2bWEsIDAsIDAsIGZsYWdzKTsKKwlpZiAodW5saWtlbHkocmV0KSkK
KwkJZ290byBlcnJfdW5waW47CisKKwlpZiAoaTkxNV92bWFfaXNfbWFwX2FuZF9mZW5jZWFibGUo
dm1hKSkKKwkJYWRkciA9ICh2b2lkIF9fZm9yY2UgKilpOTE1X3ZtYV9waW5faW9tYXAodm1hKTsK
KwllbHNlCisJCWFkZHIgPSBpOTE1X2dlbV9vYmplY3RfcGluX21hcCh2bWEtPm9iaiwKKwkJCQkJ
ICAgICAgIGk5MTVfY29oZXJlbnRfbWFwX3R5cGUodm1hLT52bS0+aTkxNSkpOworCWlmIChJU19F
UlIoYWRkcikpIHsKKwkJcmV0ID0gUFRSX0VSUihhZGRyKTsKKwkJZ290byBlcnJfcmluZzsKKwl9
CisKKwlpOTE1X3ZtYV9tYWtlX3Vuc2hyaW5rYWJsZSh2bWEpOworCisJR0VNX0JVR19PTihyaW5n
LT52YWRkcik7CisJcmluZy0+dmFkZHIgPSBhZGRyOworCisJcmV0dXJuIDA7CisKK2Vycl9yaW5n
OgorCWk5MTVfdm1hX3VucGluKHZtYSk7CitlcnJfdW5waW46CisJYXRvbWljX2RlYygmcmluZy0+
cGluX2NvdW50KTsKKwlyZXR1cm4gcmV0OworfQorCit2b2lkIGludGVsX3JpbmdfcmVzZXQoc3Ry
dWN0IGludGVsX3JpbmcgKnJpbmcsIHUzMiB0YWlsKQoreworCXRhaWwgPSBpbnRlbF9yaW5nX3dy
YXAocmluZywgdGFpbCk7CisJcmluZy0+dGFpbCA9IHRhaWw7CisJcmluZy0+aGVhZCA9IHRhaWw7
CisJcmluZy0+ZW1pdCA9IHRhaWw7CisJaW50ZWxfcmluZ191cGRhdGVfc3BhY2UocmluZyk7Cit9
CisKK3ZvaWQgaW50ZWxfcmluZ191bnBpbihzdHJ1Y3QgaW50ZWxfcmluZyAqcmluZykKK3sKKwlz
dHJ1Y3QgaTkxNV92bWEgKnZtYSA9IHJpbmctPnZtYTsKKworCWlmICghYXRvbWljX2RlY19hbmRf
dGVzdCgmcmluZy0+cGluX2NvdW50KSkKKwkJcmV0dXJuOworCisJLyogRGlzY2FyZCBhbnkgdW51
c2VkIGJ5dGVzIGJleW9uZCB0aGF0IHN1Ym1pdHRlZCB0byBody4gKi8KKwlpbnRlbF9yaW5nX3Jl
c2V0KHJpbmcsIHJpbmctPmVtaXQpOworCisJaTkxNV92bWFfdW5zZXRfZ2d0dF93cml0ZSh2bWEp
OworCWlmIChpOTE1X3ZtYV9pc19tYXBfYW5kX2ZlbmNlYWJsZSh2bWEpKQorCQlpOTE1X3ZtYV91
bnBpbl9pb21hcCh2bWEpOworCWVsc2UKKwkJaTkxNV9nZW1fb2JqZWN0X3VucGluX21hcCh2bWEt
Pm9iaik7CisKKwlHRU1fQlVHX09OKCFyaW5nLT52YWRkcik7CisJcmluZy0+dmFkZHIgPSBOVUxM
OworCisJaTkxNV92bWFfdW5waW4odm1hKTsKKwlpOTE1X3ZtYV9tYWtlX3B1cmdlYWJsZSh2bWEp
OworfQorCitzdGF0aWMgc3RydWN0IGk5MTVfdm1hICpjcmVhdGVfcmluZ192bWEoc3RydWN0IGk5
MTVfZ2d0dCAqZ2d0dCwgaW50IHNpemUpCit7CisJc3RydWN0IGk5MTVfYWRkcmVzc19zcGFjZSAq
dm0gPSAmZ2d0dC0+dm07CisJc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUgPSB2bS0+aTkx
NTsKKwlzdHJ1Y3QgZHJtX2k5MTVfZ2VtX29iamVjdCAqb2JqOworCXN0cnVjdCBpOTE1X3ZtYSAq
dm1hOworCisJb2JqID0gaTkxNV9nZW1fb2JqZWN0X2NyZWF0ZV9zdG9sZW4oaTkxNSwgc2l6ZSk7
CisJaWYgKElTX0VSUihvYmopKQorCQlvYmogPSBpOTE1X2dlbV9vYmplY3RfY3JlYXRlX2ludGVy
bmFsKGk5MTUsIHNpemUpOworCWlmIChJU19FUlIob2JqKSkKKwkJcmV0dXJuIEVSUl9DQVNUKG9i
aik7CisKKwkvKgorCSAqIE1hcmsgcmluZyBidWZmZXJzIGFzIHJlYWQtb25seSBmcm9tIEdQVSBz
aWRlIChzbyBubyBzdHJheSBvdmVyd3JpdGVzKQorCSAqIGlmIHN1cHBvcnRlZCBieSB0aGUgcGxh
dGZvcm0ncyBHR1RULgorCSAqLworCWlmICh2bS0+aGFzX3JlYWRfb25seSkKKwkJaTkxNV9nZW1f
b2JqZWN0X3NldF9yZWFkb25seShvYmopOworCisJdm1hID0gaTkxNV92bWFfaW5zdGFuY2Uob2Jq
LCB2bSwgTlVMTCk7CisJaWYgKElTX0VSUih2bWEpKQorCQlnb3RvIGVycjsKKworCXJldHVybiB2
bWE7CisKK2VycjoKKwlpOTE1X2dlbV9vYmplY3RfcHV0KG9iaik7CisJcmV0dXJuIHZtYTsKK30K
Kworc3RydWN0IGludGVsX3JpbmcgKgoraW50ZWxfZW5naW5lX2NyZWF0ZV9yaW5nKHN0cnVjdCBp
bnRlbF9lbmdpbmVfY3MgKmVuZ2luZSwgaW50IHNpemUpCit7CisJc3RydWN0IGRybV9pOTE1X3By
aXZhdGUgKmk5MTUgPSBlbmdpbmUtPmk5MTU7CisJc3RydWN0IGludGVsX3JpbmcgKnJpbmc7CisJ
c3RydWN0IGk5MTVfdm1hICp2bWE7CisKKwlHRU1fQlVHX09OKCFpc19wb3dlcl9vZl8yKHNpemUp
KTsKKwlHRU1fQlVHX09OKFJJTkdfQ1RMX1NJWkUoc2l6ZSkgJiB+UklOR19OUl9QQUdFUyk7CisK
KwlyaW5nID0ga3phbGxvYyhzaXplb2YoKnJpbmcpLCBHRlBfS0VSTkVMKTsKKwlpZiAoIXJpbmcp
CisJCXJldHVybiBFUlJfUFRSKC1FTk9NRU0pOworCisJa3JlZl9pbml0KCZyaW5nLT5yZWYpOwor
CXJpbmctPnNpemUgPSBzaXplOworCisJLyoKKwkgKiBXb3JrYXJvdW5kIGFuIGVycmF0dW0gb24g
dGhlIGk4MzAgd2hpY2ggY2F1c2VzIGEgaGFuZyBpZgorCSAqIHRoZSBUQUlMIHBvaW50ZXIgcG9p
bnRzIHRvIHdpdGhpbiB0aGUgbGFzdCAyIGNhY2hlbGluZXMKKwkgKiBvZiB0aGUgYnVmZmVyLgor
CSAqLworCXJpbmctPmVmZmVjdGl2ZV9zaXplID0gc2l6ZTsKKwlpZiAoSVNfSTgzMChpOTE1KSB8
fCBJU19JODQ1RyhpOTE1KSkKKwkJcmluZy0+ZWZmZWN0aXZlX3NpemUgLT0gMiAqIENBQ0hFTElO
RV9CWVRFUzsKKworCWludGVsX3JpbmdfdXBkYXRlX3NwYWNlKHJpbmcpOworCisJdm1hID0gY3Jl
YXRlX3Jpbmdfdm1hKGVuZ2luZS0+Z3QtPmdndHQsIHNpemUpOworCWlmIChJU19FUlIodm1hKSkg
eworCQlrZnJlZShyaW5nKTsKKwkJcmV0dXJuIEVSUl9DQVNUKHZtYSk7CisJfQorCXJpbmctPnZt
YSA9IHZtYTsKKworCXJldHVybiByaW5nOworfQorCit2b2lkIGludGVsX3JpbmdfZnJlZShzdHJ1
Y3Qga3JlZiAqcmVmKQoreworCXN0cnVjdCBpbnRlbF9yaW5nICpyaW5nID0gY29udGFpbmVyX29m
KHJlZiwgdHlwZW9mKCpyaW5nKSwgcmVmKTsKKworCWk5MTVfdm1hX3B1dChyaW5nLT52bWEpOwor
CWtmcmVlKHJpbmcpOworfQorCitzdGF0aWMgbm9pbmxpbmUgaW50Cit3YWl0X2Zvcl9zcGFjZShz
dHJ1Y3QgaW50ZWxfcmluZyAqcmluZywKKwkgICAgICAgc3RydWN0IGludGVsX3RpbWVsaW5lICp0
bCwKKwkgICAgICAgdW5zaWduZWQgaW50IGJ5dGVzKQoreworCXN0cnVjdCBpOTE1X3JlcXVlc3Qg
KnRhcmdldDsKKwlsb25nIHRpbWVvdXQ7CisKKwlpZiAoaW50ZWxfcmluZ191cGRhdGVfc3BhY2Uo
cmluZykgPj0gYnl0ZXMpCisJCXJldHVybiAwOworCisJR0VNX0JVR19PTihsaXN0X2VtcHR5KCZ0
bC0+cmVxdWVzdHMpKTsKKwlsaXN0X2Zvcl9lYWNoX2VudHJ5KHRhcmdldCwgJnRsLT5yZXF1ZXN0
cywgbGluaykgeworCQlpZiAodGFyZ2V0LT5yaW5nICE9IHJpbmcpCisJCQljb250aW51ZTsKKwor
CQkvKiBXb3VsZCBjb21wbGV0aW9uIG9mIHRoaXMgcmVxdWVzdCBmcmVlIGVub3VnaCBzcGFjZT8g
Ki8KKwkJaWYgKGJ5dGVzIDw9IF9faW50ZWxfcmluZ19zcGFjZSh0YXJnZXQtPnBvc3RmaXgsCisJ
CQkJCQlyaW5nLT5lbWl0LCByaW5nLT5zaXplKSkKKwkJCWJyZWFrOworCX0KKworCWlmIChHRU1f
V0FSTl9PTigmdGFyZ2V0LT5saW5rID09ICZ0bC0+cmVxdWVzdHMpKQorCQlyZXR1cm4gLUVOT1NQ
QzsKKworCXRpbWVvdXQgPSBpOTE1X3JlcXVlc3Rfd2FpdCh0YXJnZXQsCisJCQkJICAgIEk5MTVf
V0FJVF9JTlRFUlJVUFRJQkxFLAorCQkJCSAgICBNQVhfU0NIRURVTEVfVElNRU9VVCk7CisJaWYg
KHRpbWVvdXQgPCAwKQorCQlyZXR1cm4gdGltZW91dDsKKworCWk5MTVfcmVxdWVzdF9yZXRpcmVf
dXB0byh0YXJnZXQpOworCisJaW50ZWxfcmluZ191cGRhdGVfc3BhY2UocmluZyk7CisJR0VNX0JV
R19PTihyaW5nLT5zcGFjZSA8IGJ5dGVzKTsKKwlyZXR1cm4gMDsKK30KKwordTMyICppbnRlbF9y
aW5nX2JlZ2luKHN0cnVjdCBpOTE1X3JlcXVlc3QgKnJxLCB1bnNpZ25lZCBpbnQgbnVtX2R3b3Jk
cykKK3sKKwlzdHJ1Y3QgaW50ZWxfcmluZyAqcmluZyA9IHJxLT5yaW5nOworCWNvbnN0IHVuc2ln
bmVkIGludCByZW1haW5fdXNhYmxlID0gcmluZy0+ZWZmZWN0aXZlX3NpemUgLSByaW5nLT5lbWl0
OworCWNvbnN0IHVuc2lnbmVkIGludCBieXRlcyA9IG51bV9kd29yZHMgKiBzaXplb2YodTMyKTsK
Kwl1bnNpZ25lZCBpbnQgbmVlZF93cmFwID0gMDsKKwl1bnNpZ25lZCBpbnQgdG90YWxfYnl0ZXM7
CisJdTMyICpjczsKKworCS8qIFBhY2tldHMgbXVzdCBiZSBxd29yZCBhbGlnbmVkLiAqLworCUdF
TV9CVUdfT04obnVtX2R3b3JkcyAmIDEpOworCisJdG90YWxfYnl0ZXMgPSBieXRlcyArIHJxLT5y
ZXNlcnZlZF9zcGFjZTsKKwlHRU1fQlVHX09OKHRvdGFsX2J5dGVzID4gcmluZy0+ZWZmZWN0aXZl
X3NpemUpOworCisJaWYgKHVubGlrZWx5KHRvdGFsX2J5dGVzID4gcmVtYWluX3VzYWJsZSkpIHsK
KwkJY29uc3QgaW50IHJlbWFpbl9hY3R1YWwgPSByaW5nLT5zaXplIC0gcmluZy0+ZW1pdDsKKwor
CQlpZiAoYnl0ZXMgPiByZW1haW5fdXNhYmxlKSB7CisJCQkvKgorCQkJICogTm90IGVub3VnaCBz
cGFjZSBmb3IgdGhlIGJhc2ljIHJlcXVlc3QuIFNvIG5lZWQgdG8KKwkJCSAqIGZsdXNoIG91dCB0
aGUgcmVtYWluZGVyIGFuZCB0aGVuIHdhaXQgZm9yCisJCQkgKiBiYXNlICsgcmVzZXJ2ZWQuCisJ
CQkgKi8KKwkJCXRvdGFsX2J5dGVzICs9IHJlbWFpbl9hY3R1YWw7CisJCQluZWVkX3dyYXAgPSBy
ZW1haW5fYWN0dWFsIHwgMTsKKwkJfSBlbHNlICB7CisJCQkvKgorCQkJICogVGhlIGJhc2UgcmVx
dWVzdCB3aWxsIGZpdCBidXQgdGhlIHJlc2VydmVkIHNwYWNlCisJCQkgKiBmYWxscyBvZmYgdGhl
IGVuZC4gU28gd2UgZG9uJ3QgbmVlZCBhbiBpbW1lZGlhdGUKKwkJCSAqIHdyYXAgYW5kIG9ubHkg
bmVlZCB0byBlZmZlY3RpdmVseSB3YWl0IGZvciB0aGUKKwkJCSAqIHJlc2VydmVkIHNpemUgZnJv
bSB0aGUgc3RhcnQgb2YgcmluZ2J1ZmZlci4KKwkJCSAqLworCQkJdG90YWxfYnl0ZXMgPSBycS0+
cmVzZXJ2ZWRfc3BhY2UgKyByZW1haW5fYWN0dWFsOworCQl9CisJfQorCisJaWYgKHVubGlrZWx5
KHRvdGFsX2J5dGVzID4gcmluZy0+c3BhY2UpKSB7CisJCWludCByZXQ7CisKKwkJLyoKKwkJICog
U3BhY2UgaXMgcmVzZXJ2ZWQgaW4gdGhlIHJpbmdidWZmZXIgZm9yIGZpbmFsaXNpbmcgdGhlCisJ
CSAqIHJlcXVlc3QsIGFzIHRoYXQgY2Fubm90IGJlIGFsbG93ZWQgdG8gZmFpbC4gRHVyaW5nIHJl
cXVlc3QKKwkJICogZmluYWxpc2F0aW9uLCByZXNlcnZlZF9zcGFjZSBpcyBzZXQgdG8gMCB0byBz
dG9wIHRoZQorCQkgKiBvdmVyYWxsb2NhdGlvbiBhbmQgdGhlIGFzc3VtcHRpb24gaXMgdGhhdCB0
aGVuIHdlIG5ldmVyIG5lZWQKKwkJICogdG8gd2FpdCAod2hpY2ggaGFzIHRoZSByaXNrIG9mIGZh
aWxpbmcgd2l0aCBFSU5UUikuCisJCSAqCisJCSAqIFNlZSBhbHNvIGk5MTVfcmVxdWVzdF9hbGxv
YygpIGFuZCBpOTE1X3JlcXVlc3RfYWRkKCkuCisJCSAqLworCQlHRU1fQlVHX09OKCFycS0+cmVz
ZXJ2ZWRfc3BhY2UpOworCisJCXJldCA9IHdhaXRfZm9yX3NwYWNlKHJpbmcsCisJCQkJICAgICBp
OTE1X3JlcXVlc3RfdGltZWxpbmUocnEpLAorCQkJCSAgICAgdG90YWxfYnl0ZXMpOworCQlpZiAo
dW5saWtlbHkocmV0KSkKKwkJCXJldHVybiBFUlJfUFRSKHJldCk7CisJfQorCisJaWYgKHVubGlr
ZWx5KG5lZWRfd3JhcCkpIHsKKwkJbmVlZF93cmFwICY9IH4xOworCQlHRU1fQlVHX09OKG5lZWRf
d3JhcCA+IHJpbmctPnNwYWNlKTsKKwkJR0VNX0JVR19PTihyaW5nLT5lbWl0ICsgbmVlZF93cmFw
ID4gcmluZy0+c2l6ZSk7CisJCUdFTV9CVUdfT04oIUlTX0FMSUdORUQobmVlZF93cmFwLCBzaXpl
b2YodTY0KSkpOworCisJCS8qIEZpbGwgdGhlIHRhaWwgd2l0aCBNSV9OT09QICovCisJCW1lbXNl
dDY0KHJpbmctPnZhZGRyICsgcmluZy0+ZW1pdCwgMCwgbmVlZF93cmFwIC8gc2l6ZW9mKHU2NCkp
OworCQlyaW5nLT5zcGFjZSAtPSBuZWVkX3dyYXA7CisJCXJpbmctPmVtaXQgPSAwOworCX0KKwor
CUdFTV9CVUdfT04ocmluZy0+ZW1pdCA+IHJpbmctPnNpemUgLSBieXRlcyk7CisJR0VNX0JVR19P
TihyaW5nLT5zcGFjZSA8IGJ5dGVzKTsKKwljcyA9IHJpbmctPnZhZGRyICsgcmluZy0+ZW1pdDsK
KwlHRU1fREVCVUdfRVhFQyhtZW1zZXQzMihjcywgUE9JU09OX0lOVVNFLCBieXRlcyAvIHNpemVv
ZigqY3MpKSk7CisJcmluZy0+ZW1pdCArPSBieXRlczsKKwlyaW5nLT5zcGFjZSAtPSBieXRlczsK
KworCXJldHVybiBjczsKK30KKworLyogQWxpZ24gdGhlIHJpbmcgdGFpbCB0byBhIGNhY2hlbGlu
ZSBib3VuZGFyeSAqLworaW50IGludGVsX3JpbmdfY2FjaGVsaW5lX2FsaWduKHN0cnVjdCBpOTE1
X3JlcXVlc3QgKnJxKQoreworCWludCBudW1fZHdvcmRzOworCXZvaWQgKmNzOworCisJbnVtX2R3
b3JkcyA9IChycS0+cmluZy0+ZW1pdCAmIChDQUNIRUxJTkVfQllURVMgLSAxKSkgLyBzaXplb2Yo
dTMyKTsKKwlpZiAobnVtX2R3b3JkcyA9PSAwKQorCQlyZXR1cm4gMDsKKworCW51bV9kd29yZHMg
PSBDQUNIRUxJTkVfRFdPUkRTIC0gbnVtX2R3b3JkczsKKwlHRU1fQlVHX09OKG51bV9kd29yZHMg
JiAxKTsKKworCWNzID0gaW50ZWxfcmluZ19iZWdpbihycSwgbnVtX2R3b3Jkcyk7CisJaWYgKElT
X0VSUihjcykpCisJCXJldHVybiBQVFJfRVJSKGNzKTsKKworCW1lbXNldDY0KGNzLCAodTY0KU1J
X05PT1AgPDwgMzIgfCBNSV9OT09QLCBudW1fZHdvcmRzIC8gMik7CisJaW50ZWxfcmluZ19hZHZh
bmNlKHJxLCBjcyArIG51bV9kd29yZHMpOworCisJR0VNX0JVR19PTihycS0+cmluZy0+ZW1pdCAm
IChDQUNIRUxJTkVfQllURVMgLSAxKSk7CisJcmV0dXJuIDA7Cit9CmRpZmYgLS1naXQgYS9kcml2
ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9yaW5nLmggYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9n
dC9pbnRlbF9yaW5nLmgKbmV3IGZpbGUgbW9kZSAxMDA2NDQKaW5kZXggMDAwMDAwMDAwMDAwLi5l
YTI4MzlkOWUwNDQKLS0tIC9kZXYvbnVsbAorKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9p
bnRlbF9yaW5nLmgKQEAgLTAsMCArMSwxMzEgQEAKKy8qCisgKiBTUERYLUxpY2Vuc2UtSWRlbnRp
ZmllcjogTUlUCisgKgorICogQ29weXJpZ2h0IMKpIDIwMTkgSW50ZWwgQ29ycG9yYXRpb24KKyAq
LworCisjaWZuZGVmIElOVEVMX1JJTkdfSAorI2RlZmluZSBJTlRFTF9SSU5HX0gKKworI2luY2x1
ZGUgImk5MTVfZ2VtLmgiIC8qIEdFTV9CVUdfT04gKi8KKyNpbmNsdWRlICJpOTE1X3JlcXVlc3Qu
aCIKKyNpbmNsdWRlICJpbnRlbF9yaW5nX3R5cGVzLmgiCisKK3N0cnVjdCBpbnRlbF9lbmdpbmVf
Y3M7CisKK3N0cnVjdCBpbnRlbF9yaW5nICoKK2ludGVsX2VuZ2luZV9jcmVhdGVfcmluZyhzdHJ1
Y3QgaW50ZWxfZW5naW5lX2NzICplbmdpbmUsIGludCBzaXplKTsKKwordTMyICppbnRlbF9yaW5n
X2JlZ2luKHN0cnVjdCBpOTE1X3JlcXVlc3QgKnJxLCB1bnNpZ25lZCBpbnQgbnVtX2R3b3Jkcyk7
CitpbnQgaW50ZWxfcmluZ19jYWNoZWxpbmVfYWxpZ24oc3RydWN0IGk5MTVfcmVxdWVzdCAqcnEp
OworCit1bnNpZ25lZCBpbnQgaW50ZWxfcmluZ191cGRhdGVfc3BhY2Uoc3RydWN0IGludGVsX3Jp
bmcgKnJpbmcpOworCitpbnQgaW50ZWxfcmluZ19waW4oc3RydWN0IGludGVsX3JpbmcgKnJpbmcp
Owordm9pZCBpbnRlbF9yaW5nX3VucGluKHN0cnVjdCBpbnRlbF9yaW5nICpyaW5nKTsKK3ZvaWQg
aW50ZWxfcmluZ19yZXNldChzdHJ1Y3QgaW50ZWxfcmluZyAqcmluZywgdTMyIHRhaWwpOworCit2
b2lkIGludGVsX3JpbmdfZnJlZShzdHJ1Y3Qga3JlZiAqcmVmKTsKKworc3RhdGljIGlubGluZSBz
dHJ1Y3QgaW50ZWxfcmluZyAqaW50ZWxfcmluZ19nZXQoc3RydWN0IGludGVsX3JpbmcgKnJpbmcp
Cit7CisJa3JlZl9nZXQoJnJpbmctPnJlZik7CisJcmV0dXJuIHJpbmc7Cit9CisKK3N0YXRpYyBp
bmxpbmUgdm9pZCBpbnRlbF9yaW5nX3B1dChzdHJ1Y3QgaW50ZWxfcmluZyAqcmluZykKK3sKKwlr
cmVmX3B1dCgmcmluZy0+cmVmLCBpbnRlbF9yaW5nX2ZyZWUpOworfQorCitzdGF0aWMgaW5saW5l
IHZvaWQgaW50ZWxfcmluZ19hZHZhbmNlKHN0cnVjdCBpOTE1X3JlcXVlc3QgKnJxLCB1MzIgKmNz
KQoreworCS8qIER1bW15IGZ1bmN0aW9uLgorCSAqCisJICogVGhpcyBzZXJ2ZXMgYXMgYSBwbGFj
ZWhvbGRlciBpbiB0aGUgY29kZSBzbyB0aGF0IHRoZSByZWFkZXIKKwkgKiBjYW4gY29tcGFyZSBh
Z2FpbnN0IHRoZSBwcmVjZWRpbmcgaW50ZWxfcmluZ19iZWdpbigpIGFuZAorCSAqIGNoZWNrIHRo
YXQgdGhlIG51bWJlciBvZiBkd29yZHMgZW1pdHRlZCBtYXRjaGVzIHRoZSBzcGFjZQorCSAqIHJl
c2VydmVkIGZvciB0aGUgY29tbWFuZCBwYWNrZXQgKGkuZS4gdGhlIHZhbHVlIHBhc3NlZCB0bwor
CSAqIGludGVsX3JpbmdfYmVnaW4oKSkuCisJICovCisJR0VNX0JVR19PTigocnEtPnJpbmctPnZh
ZGRyICsgcnEtPnJpbmctPmVtaXQpICE9IGNzKTsKK30KKworc3RhdGljIGlubGluZSB1MzIgaW50
ZWxfcmluZ193cmFwKGNvbnN0IHN0cnVjdCBpbnRlbF9yaW5nICpyaW5nLCB1MzIgcG9zKQorewor
CXJldHVybiBwb3MgJiAocmluZy0+c2l6ZSAtIDEpOworfQorCitzdGF0aWMgaW5saW5lIGJvb2wK
K2ludGVsX3Jpbmdfb2Zmc2V0X3ZhbGlkKGNvbnN0IHN0cnVjdCBpbnRlbF9yaW5nICpyaW5nLAor
CQkJdW5zaWduZWQgaW50IHBvcykKK3sKKwlpZiAocG9zICYgLXJpbmctPnNpemUpIC8qIG11c3Qg
YmUgc3RyaWN0bHkgd2l0aGluIHRoZSByaW5nICovCisJCXJldHVybiBmYWxzZTsKKworCWlmICgh
SVNfQUxJR05FRChwb3MsIDgpKSAvKiBtdXN0IGJlIHF3b3JkIGFsaWduZWQgKi8KKwkJcmV0dXJu
IGZhbHNlOworCisJcmV0dXJuIHRydWU7Cit9CisKK3N0YXRpYyBpbmxpbmUgdTMyIGludGVsX3Jp
bmdfb2Zmc2V0KGNvbnN0IHN0cnVjdCBpOTE1X3JlcXVlc3QgKnJxLCB2b2lkICphZGRyKQorewor
CS8qIERvbid0IHdyaXRlIHJpbmctPnNpemUgKGVxdWl2YWxlbnQgdG8gMCkgYXMgdGhhdCBoYW5n
cyBzb21lIEdQVXMuICovCisJdTMyIG9mZnNldCA9IGFkZHIgLSBycS0+cmluZy0+dmFkZHI7CisJ
R0VNX0JVR19PTihvZmZzZXQgPiBycS0+cmluZy0+c2l6ZSk7CisJcmV0dXJuIGludGVsX3Jpbmdf
d3JhcChycS0+cmluZywgb2Zmc2V0KTsKK30KKworc3RhdGljIGlubGluZSB2b2lkCithc3NlcnRf
cmluZ190YWlsX3ZhbGlkKGNvbnN0IHN0cnVjdCBpbnRlbF9yaW5nICpyaW5nLCB1bnNpZ25lZCBp
bnQgdGFpbCkKK3sKKwlHRU1fQlVHX09OKCFpbnRlbF9yaW5nX29mZnNldF92YWxpZChyaW5nLCB0
YWlsKSk7CisKKwkvKgorCSAqICJSaW5nIEJ1ZmZlciBVc2UiCisJICoJR2VuMiBCU3BlYyAiMS4g
UHJvZ3JhbW1pbmcgRW52aXJvbm1lbnQiIC8gMS40LjQuNgorCSAqCUdlbjMgQlNwZWMgIjFjIE1l
bW9yeSBJbnRlcmZhY2UgRnVuY3Rpb25zIiAvIDIuMy40LjUKKwkgKglHZW40KyBCU3BlYyAiMWMg
TWVtb3J5IEludGVyZmFjZSBhbmQgQ29tbWFuZCBTdHJlYW0iIC8gNS4zLjQuNQorCSAqICJJZiB0
aGUgUmluZyBCdWZmZXIgSGVhZCBQb2ludGVyIGFuZCB0aGUgVGFpbCBQb2ludGVyIGFyZSBvbiB0
aGUKKwkgKiBzYW1lIGNhY2hlbGluZSwgdGhlIEhlYWQgUG9pbnRlciBtdXN0IG5vdCBiZSBncmVh
dGVyIHRoYW4gdGhlIFRhaWwKKwkgKiBQb2ludGVyLiIKKwkgKgorCSAqIFdlIHVzZSByaW5nLT5o
ZWFkIGFzIHRoZSBsYXN0IGtub3duIGxvY2F0aW9uIG9mIHRoZSBhY3R1YWwgUklOR19IRUFELAor
CSAqIGl0IG1heSBoYXZlIGFkdmFuY2VkIGJ1dCBpbiB0aGUgd29yc3QgY2FzZSBpdCBpcyBlcXVh
bGx5IHRoZSBzYW1lCisJICogYXMgcmluZy0+aGVhZCBhbmQgc28gd2Ugc2hvdWxkIG5ldmVyIHBy
b2dyYW0gUklOR19UQUlMIHRvIGFkdmFuY2UKKwkgKiBpbnRvIHRoZSBzYW1lIGNhY2hlbGluZSBh
cyByaW5nLT5oZWFkLgorCSAqLworI2RlZmluZSBjYWNoZWxpbmUoYSkgcm91bmRfZG93bihhLCBD
QUNIRUxJTkVfQllURVMpCisJR0VNX0JVR19PTihjYWNoZWxpbmUodGFpbCkgPT0gY2FjaGVsaW5l
KHJpbmctPmhlYWQpICYmCisJCSAgIHRhaWwgPCByaW5nLT5oZWFkKTsKKyN1bmRlZiBjYWNoZWxp
bmUKK30KKworc3RhdGljIGlubGluZSB1bnNpZ25lZCBpbnQKK2ludGVsX3Jpbmdfc2V0X3RhaWwo
c3RydWN0IGludGVsX3JpbmcgKnJpbmcsIHVuc2lnbmVkIGludCB0YWlsKQoreworCS8qIFdoaWxz
dCB3cml0ZXMgdG8gdGhlIHRhaWwgYXJlIHN0cmljdGx5IG9yZGVyLCB0aGVyZSBpcyBubworCSAq
IHNlcmlhbGlzYXRpb24gYmV0d2VlbiByZWFkZXJzIGFuZCB0aGUgd3JpdGVycy4gVGhlIHRhaWwg
bWF5IGJlCisJICogcmVhZCBieSBpOTE1X3JlcXVlc3RfcmV0aXJlKCkganVzdCBhcyBpdCBpcyBi
ZWluZyB1cGRhdGVkCisJICogYnkgZXhlY2xpc3RzLCBhcyBhbHRob3VnaCB0aGUgYnJlYWRjcnVt
YiBpcyBjb21wbGV0ZSwgdGhlIGNvbnRleHQKKwkgKiBzd2l0Y2ggaGFzbid0IGJlZW4gc2Vlbi4K
KwkgKi8KKwlhc3NlcnRfcmluZ190YWlsX3ZhbGlkKHJpbmcsIHRhaWwpOworCXJpbmctPnRhaWwg
PSB0YWlsOworCXJldHVybiB0YWlsOworfQorCitzdGF0aWMgaW5saW5lIHVuc2lnbmVkIGludAor
X19pbnRlbF9yaW5nX3NwYWNlKHVuc2lnbmVkIGludCBoZWFkLCB1bnNpZ25lZCBpbnQgdGFpbCwg
dW5zaWduZWQgaW50IHNpemUpCit7CisJLyoKKwkgKiAiSWYgdGhlIFJpbmcgQnVmZmVyIEhlYWQg
UG9pbnRlciBhbmQgdGhlIFRhaWwgUG9pbnRlciBhcmUgb24gdGhlCisJICogc2FtZSBjYWNoZWxp
bmUsIHRoZSBIZWFkIFBvaW50ZXIgbXVzdCBub3QgYmUgZ3JlYXRlciB0aGFuIHRoZSBUYWlsCisJ
ICogUG9pbnRlci4iCisJICovCisJR0VNX0JVR19PTighaXNfcG93ZXJfb2ZfMihzaXplKSk7CisJ
cmV0dXJuIChoZWFkIC0gdGFpbCAtIENBQ0hFTElORV9CWVRFUykgJiAoc2l6ZSAtIDEpOworfQor
CisjZW5kaWYgLyogSU5URUxfUklOR19IICovCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0v
aTkxNS9ndC9pbnRlbF9yaW5nYnVmZmVyLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRl
bF9yaW5nX3N1Ym1pc3Npb24uYwpzaW1pbGFyaXR5IGluZGV4IDg4JQpyZW5hbWUgZnJvbSBkcml2
ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9yaW5nYnVmZmVyLmMKcmVuYW1lIHRvIGRyaXZlcnMv
Z3B1L2RybS9pOTE1L2d0L2ludGVsX3Jpbmdfc3VibWlzc2lvbi5jCmluZGV4IGJmNjMxZjE1YWE3
OC4uYTQ3ZDVhN2MzMmM5IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRl
bF9yaW5nYnVmZmVyLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfcmluZ19z
dWJtaXNzaW9uLmMKQEAgLTQwLDYgKzQwLDcgQEAKICNpbmNsdWRlICJpbnRlbF9ndF9pcnEuaCIK
ICNpbmNsdWRlICJpbnRlbF9ndF9wbV9pcnEuaCIKICNpbmNsdWRlICJpbnRlbF9yZXNldC5oIgor
I2luY2x1ZGUgImludGVsX3JpbmcuaCIKICNpbmNsdWRlICJpbnRlbF93b3JrYXJvdW5kcy5oIgog
CiAvKiBSb3VnaCBlc3RpbWF0ZSBvZiB0aGUgdHlwaWNhbCByZXF1ZXN0IHNpemUsIHBlcmZvcm1p
bmcgYSBmbHVzaCwKQEAgLTQ3LDE2ICs0OCw2IEBACiAgKi8KICNkZWZpbmUgTEVHQUNZX1JFUVVF
U1RfU0laRSAyMDAKIAotdW5zaWduZWQgaW50IGludGVsX3JpbmdfdXBkYXRlX3NwYWNlKHN0cnVj
dCBpbnRlbF9yaW5nICpyaW5nKQotewotCXVuc2lnbmVkIGludCBzcGFjZTsKLQotCXNwYWNlID0g
X19pbnRlbF9yaW5nX3NwYWNlKHJpbmctPmhlYWQsIHJpbmctPmVtaXQsIHJpbmctPnNpemUpOwot
Ci0JcmluZy0+c3BhY2UgPSBzcGFjZTsKLQlyZXR1cm4gc3BhY2U7Ci19Ci0KIHN0YXRpYyBpbnQK
IGdlbjJfcmVuZGVyX3JpbmdfZmx1c2goc3RydWN0IGk5MTVfcmVxdWVzdCAqcnEsIHUzMiBtb2Rl
KQogewpAQCAtMTE4NiwxNjIgKzExNzcsNiBAQCBpOTE1X2VtaXRfYmJfc3RhcnQoc3RydWN0IGk5
MTVfcmVxdWVzdCAqcnEsCiAJcmV0dXJuIDA7CiB9CiAKLWludCBpbnRlbF9yaW5nX3BpbihzdHJ1
Y3QgaW50ZWxfcmluZyAqcmluZykKLXsKLQlzdHJ1Y3QgaTkxNV92bWEgKnZtYSA9IHJpbmctPnZt
YTsKLQl1bnNpZ25lZCBpbnQgZmxhZ3M7Ci0Jdm9pZCAqYWRkcjsKLQlpbnQgcmV0OwotCi0JaWYg
KGF0b21pY19mZXRjaF9pbmMoJnJpbmctPnBpbl9jb3VudCkpCi0JCXJldHVybiAwOwotCi0JZmxh
Z3MgPSBQSU5fR0xPQkFMOwotCi0JLyogUmluZyB3cmFwYXJvdW5kIGF0IG9mZnNldCAwIHNvbWV0
aW1lcyBoYW5ncy4gTm8gaWRlYSB3aHkuICovCi0JZmxhZ3MgfD0gUElOX09GRlNFVF9CSUFTIHwg
aTkxNV9nZ3R0X3Bpbl9iaWFzKHZtYSk7Ci0KLQlpZiAodm1hLT5vYmotPnN0b2xlbikKLQkJZmxh
Z3MgfD0gUElOX01BUFBBQkxFOwotCWVsc2UKLQkJZmxhZ3MgfD0gUElOX0hJR0g7Ci0KLQlyZXQg
PSBpOTE1X3ZtYV9waW4odm1hLCAwLCAwLCBmbGFncyk7Ci0JaWYgKHVubGlrZWx5KHJldCkpCi0J
CWdvdG8gZXJyX3VucGluOwotCi0JaWYgKGk5MTVfdm1hX2lzX21hcF9hbmRfZmVuY2VhYmxlKHZt
YSkpCi0JCWFkZHIgPSAodm9pZCBfX2ZvcmNlICopaTkxNV92bWFfcGluX2lvbWFwKHZtYSk7Ci0J
ZWxzZQotCQlhZGRyID0gaTkxNV9nZW1fb2JqZWN0X3Bpbl9tYXAodm1hLT5vYmosCi0JCQkJCSAg
ICAgICBpOTE1X2NvaGVyZW50X21hcF90eXBlKHZtYS0+dm0tPmk5MTUpKTsKLQlpZiAoSVNfRVJS
KGFkZHIpKSB7Ci0JCXJldCA9IFBUUl9FUlIoYWRkcik7Ci0JCWdvdG8gZXJyX3Jpbmc7Ci0JfQot
Ci0JaTkxNV92bWFfbWFrZV91bnNocmlua2FibGUodm1hKTsKLQotCUdFTV9CVUdfT04ocmluZy0+
dmFkZHIpOwotCXJpbmctPnZhZGRyID0gYWRkcjsKLQotCXJldHVybiAwOwotCi1lcnJfcmluZzoK
LQlpOTE1X3ZtYV91bnBpbih2bWEpOwotZXJyX3VucGluOgotCWF0b21pY19kZWMoJnJpbmctPnBp
bl9jb3VudCk7Ci0JcmV0dXJuIHJldDsKLX0KLQotdm9pZCBpbnRlbF9yaW5nX3Jlc2V0KHN0cnVj
dCBpbnRlbF9yaW5nICpyaW5nLCB1MzIgdGFpbCkKLXsKLQl0YWlsID0gaW50ZWxfcmluZ193cmFw
KHJpbmcsIHRhaWwpOwotCXJpbmctPnRhaWwgPSB0YWlsOwotCXJpbmctPmhlYWQgPSB0YWlsOwot
CXJpbmctPmVtaXQgPSB0YWlsOwotCWludGVsX3JpbmdfdXBkYXRlX3NwYWNlKHJpbmcpOwotfQot
Ci12b2lkIGludGVsX3JpbmdfdW5waW4oc3RydWN0IGludGVsX3JpbmcgKnJpbmcpCi17Ci0Jc3Ry
dWN0IGk5MTVfdm1hICp2bWEgPSByaW5nLT52bWE7Ci0KLQlpZiAoIWF0b21pY19kZWNfYW5kX3Rl
c3QoJnJpbmctPnBpbl9jb3VudCkpCi0JCXJldHVybjsKLQotCS8qIERpc2NhcmQgYW55IHVudXNl
ZCBieXRlcyBiZXlvbmQgdGhhdCBzdWJtaXR0ZWQgdG8gaHcuICovCi0JaW50ZWxfcmluZ19yZXNl
dChyaW5nLCByaW5nLT5lbWl0KTsKLQotCWk5MTVfdm1hX3Vuc2V0X2dndHRfd3JpdGUodm1hKTsK
LQlpZiAoaTkxNV92bWFfaXNfbWFwX2FuZF9mZW5jZWFibGUodm1hKSkKLQkJaTkxNV92bWFfdW5w
aW5faW9tYXAodm1hKTsKLQllbHNlCi0JCWk5MTVfZ2VtX29iamVjdF91bnBpbl9tYXAodm1hLT5v
YmopOwotCi0JR0VNX0JVR19PTighcmluZy0+dmFkZHIpOwotCXJpbmctPnZhZGRyID0gTlVMTDsK
LQotCWk5MTVfdm1hX3VucGluKHZtYSk7Ci0JaTkxNV92bWFfbWFrZV9wdXJnZWFibGUodm1hKTsK
LX0KLQotc3RhdGljIHN0cnVjdCBpOTE1X3ZtYSAqY3JlYXRlX3Jpbmdfdm1hKHN0cnVjdCBpOTE1
X2dndHQgKmdndHQsIGludCBzaXplKQotewotCXN0cnVjdCBpOTE1X2FkZHJlc3Nfc3BhY2UgKnZt
ID0gJmdndHQtPnZtOwotCXN0cnVjdCBkcm1faTkxNV9wcml2YXRlICppOTE1ID0gdm0tPmk5MTU7
Ci0Jc3RydWN0IGRybV9pOTE1X2dlbV9vYmplY3QgKm9iajsKLQlzdHJ1Y3QgaTkxNV92bWEgKnZt
YTsKLQotCW9iaiA9IGk5MTVfZ2VtX29iamVjdF9jcmVhdGVfc3RvbGVuKGk5MTUsIHNpemUpOwot
CWlmIChJU19FUlIob2JqKSkKLQkJb2JqID0gaTkxNV9nZW1fb2JqZWN0X2NyZWF0ZV9pbnRlcm5h
bChpOTE1LCBzaXplKTsKLQlpZiAoSVNfRVJSKG9iaikpCi0JCXJldHVybiBFUlJfQ0FTVChvYmop
OwotCi0JLyoKLQkgKiBNYXJrIHJpbmcgYnVmZmVycyBhcyByZWFkLW9ubHkgZnJvbSBHUFUgc2lk
ZSAoc28gbm8gc3RyYXkgb3ZlcndyaXRlcykKLQkgKiBpZiBzdXBwb3J0ZWQgYnkgdGhlIHBsYXRm
b3JtJ3MgR0dUVC4KLQkgKi8KLQlpZiAodm0tPmhhc19yZWFkX29ubHkpCi0JCWk5MTVfZ2VtX29i
amVjdF9zZXRfcmVhZG9ubHkob2JqKTsKLQotCXZtYSA9IGk5MTVfdm1hX2luc3RhbmNlKG9iaiwg
dm0sIE5VTEwpOwotCWlmIChJU19FUlIodm1hKSkKLQkJZ290byBlcnI7Ci0KLQlyZXR1cm4gdm1h
OwotCi1lcnI6Ci0JaTkxNV9nZW1fb2JqZWN0X3B1dChvYmopOwotCXJldHVybiB2bWE7Ci19Ci0K
LXN0cnVjdCBpbnRlbF9yaW5nICoKLWludGVsX2VuZ2luZV9jcmVhdGVfcmluZyhzdHJ1Y3QgaW50
ZWxfZW5naW5lX2NzICplbmdpbmUsIGludCBzaXplKQotewotCXN0cnVjdCBkcm1faTkxNV9wcml2
YXRlICppOTE1ID0gZW5naW5lLT5pOTE1OwotCXN0cnVjdCBpbnRlbF9yaW5nICpyaW5nOwotCXN0
cnVjdCBpOTE1X3ZtYSAqdm1hOwotCi0JR0VNX0JVR19PTighaXNfcG93ZXJfb2ZfMihzaXplKSk7
Ci0JR0VNX0JVR19PTihSSU5HX0NUTF9TSVpFKHNpemUpICYgflJJTkdfTlJfUEFHRVMpOwotCi0J
cmluZyA9IGt6YWxsb2Moc2l6ZW9mKCpyaW5nKSwgR0ZQX0tFUk5FTCk7Ci0JaWYgKCFyaW5nKQot
CQlyZXR1cm4gRVJSX1BUUigtRU5PTUVNKTsKLQotCWtyZWZfaW5pdCgmcmluZy0+cmVmKTsKLQot
CXJpbmctPnNpemUgPSBzaXplOwotCS8qIFdvcmthcm91bmQgYW4gZXJyYXR1bSBvbiB0aGUgaTgz
MCB3aGljaCBjYXVzZXMgYSBoYW5nIGlmCi0JICogdGhlIFRBSUwgcG9pbnRlciBwb2ludHMgdG8g
d2l0aGluIHRoZSBsYXN0IDIgY2FjaGVsaW5lcwotCSAqIG9mIHRoZSBidWZmZXIuCi0JICovCi0J
cmluZy0+ZWZmZWN0aXZlX3NpemUgPSBzaXplOwotCWlmIChJU19JODMwKGk5MTUpIHx8IElTX0k4
NDVHKGk5MTUpKQotCQlyaW5nLT5lZmZlY3RpdmVfc2l6ZSAtPSAyICogQ0FDSEVMSU5FX0JZVEVT
OwotCi0JaW50ZWxfcmluZ191cGRhdGVfc3BhY2UocmluZyk7Ci0KLQl2bWEgPSBjcmVhdGVfcmlu
Z192bWEoZW5naW5lLT5ndC0+Z2d0dCwgc2l6ZSk7Ci0JaWYgKElTX0VSUih2bWEpKSB7Ci0JCWtm
cmVlKHJpbmcpOwotCQlyZXR1cm4gRVJSX0NBU1Qodm1hKTsKLQl9Ci0JcmluZy0+dm1hID0gdm1h
OwotCi0JcmV0dXJuIHJpbmc7Ci19Ci0KLXZvaWQgaW50ZWxfcmluZ19mcmVlKHN0cnVjdCBrcmVm
ICpyZWYpCi17Ci0Jc3RydWN0IGludGVsX3JpbmcgKnJpbmcgPSBjb250YWluZXJfb2YocmVmLCB0
eXBlb2YoKnJpbmcpLCByZWYpOwotCi0JaTkxNV92bWFfcHV0KHJpbmctPnZtYSk7Ci0Ja2ZyZWUo
cmluZyk7Ci19Ci0KIHN0YXRpYyB2b2lkIF9fcmluZ19jb250ZXh0X2Zpbmkoc3RydWN0IGludGVs
X2NvbnRleHQgKmNlKQogewogCWk5MTVfdm1hX3B1dChjZS0+c3RhdGUpOwpAQCAtMTgzNiwxNDgg
KzE2NzEsNiBAQCBzdGF0aWMgaW50IHJpbmdfcmVxdWVzdF9hbGxvYyhzdHJ1Y3QgaTkxNV9yZXF1
ZXN0ICpyZXF1ZXN0KQogCXJldHVybiAwOwogfQogCi1zdGF0aWMgbm9pbmxpbmUgaW50Ci13YWl0
X2Zvcl9zcGFjZShzdHJ1Y3QgaW50ZWxfcmluZyAqcmluZywKLQkgICAgICAgc3RydWN0IGludGVs
X3RpbWVsaW5lICp0bCwKLQkgICAgICAgdW5zaWduZWQgaW50IGJ5dGVzKQotewotCXN0cnVjdCBp
OTE1X3JlcXVlc3QgKnRhcmdldDsKLQlsb25nIHRpbWVvdXQ7Ci0KLQlpZiAoaW50ZWxfcmluZ191
cGRhdGVfc3BhY2UocmluZykgPj0gYnl0ZXMpCi0JCXJldHVybiAwOwotCi0JR0VNX0JVR19PTihs
aXN0X2VtcHR5KCZ0bC0+cmVxdWVzdHMpKTsKLQlsaXN0X2Zvcl9lYWNoX2VudHJ5KHRhcmdldCwg
JnRsLT5yZXF1ZXN0cywgbGluaykgewotCQlpZiAodGFyZ2V0LT5yaW5nICE9IHJpbmcpCi0JCQlj
b250aW51ZTsKLQotCQkvKiBXb3VsZCBjb21wbGV0aW9uIG9mIHRoaXMgcmVxdWVzdCBmcmVlIGVu
b3VnaCBzcGFjZT8gKi8KLQkJaWYgKGJ5dGVzIDw9IF9faW50ZWxfcmluZ19zcGFjZSh0YXJnZXQt
PnBvc3RmaXgsCi0JCQkJCQlyaW5nLT5lbWl0LCByaW5nLT5zaXplKSkKLQkJCWJyZWFrOwotCX0K
LQotCWlmIChHRU1fV0FSTl9PTigmdGFyZ2V0LT5saW5rID09ICZ0bC0+cmVxdWVzdHMpKQotCQly
ZXR1cm4gLUVOT1NQQzsKLQotCXRpbWVvdXQgPSBpOTE1X3JlcXVlc3Rfd2FpdCh0YXJnZXQsCi0J
CQkJICAgIEk5MTVfV0FJVF9JTlRFUlJVUFRJQkxFLAotCQkJCSAgICBNQVhfU0NIRURVTEVfVElN
RU9VVCk7Ci0JaWYgKHRpbWVvdXQgPCAwKQotCQlyZXR1cm4gdGltZW91dDsKLQotCWk5MTVfcmVx
dWVzdF9yZXRpcmVfdXB0byh0YXJnZXQpOwotCi0JaW50ZWxfcmluZ191cGRhdGVfc3BhY2Uocmlu
Zyk7Ci0JR0VNX0JVR19PTihyaW5nLT5zcGFjZSA8IGJ5dGVzKTsKLQlyZXR1cm4gMDsKLX0KLQot
dTMyICppbnRlbF9yaW5nX2JlZ2luKHN0cnVjdCBpOTE1X3JlcXVlc3QgKnJxLCB1bnNpZ25lZCBp
bnQgbnVtX2R3b3JkcykKLXsKLQlzdHJ1Y3QgaW50ZWxfcmluZyAqcmluZyA9IHJxLT5yaW5nOwot
CWNvbnN0IHVuc2lnbmVkIGludCByZW1haW5fdXNhYmxlID0gcmluZy0+ZWZmZWN0aXZlX3NpemUg
LSByaW5nLT5lbWl0OwotCWNvbnN0IHVuc2lnbmVkIGludCBieXRlcyA9IG51bV9kd29yZHMgKiBz
aXplb2YodTMyKTsKLQl1bnNpZ25lZCBpbnQgbmVlZF93cmFwID0gMDsKLQl1bnNpZ25lZCBpbnQg
dG90YWxfYnl0ZXM7Ci0JdTMyICpjczsKLQotCS8qIFBhY2tldHMgbXVzdCBiZSBxd29yZCBhbGln
bmVkLiAqLwotCUdFTV9CVUdfT04obnVtX2R3b3JkcyAmIDEpOwotCi0JdG90YWxfYnl0ZXMgPSBi
eXRlcyArIHJxLT5yZXNlcnZlZF9zcGFjZTsKLQlHRU1fQlVHX09OKHRvdGFsX2J5dGVzID4gcmlu
Zy0+ZWZmZWN0aXZlX3NpemUpOwotCi0JaWYgKHVubGlrZWx5KHRvdGFsX2J5dGVzID4gcmVtYWlu
X3VzYWJsZSkpIHsKLQkJY29uc3QgaW50IHJlbWFpbl9hY3R1YWwgPSByaW5nLT5zaXplIC0gcmlu
Zy0+ZW1pdDsKLQotCQlpZiAoYnl0ZXMgPiByZW1haW5fdXNhYmxlKSB7Ci0JCQkvKgotCQkJICog
Tm90IGVub3VnaCBzcGFjZSBmb3IgdGhlIGJhc2ljIHJlcXVlc3QuIFNvIG5lZWQgdG8KLQkJCSAq
IGZsdXNoIG91dCB0aGUgcmVtYWluZGVyIGFuZCB0aGVuIHdhaXQgZm9yCi0JCQkgKiBiYXNlICsg
cmVzZXJ2ZWQuCi0JCQkgKi8KLQkJCXRvdGFsX2J5dGVzICs9IHJlbWFpbl9hY3R1YWw7Ci0JCQlu
ZWVkX3dyYXAgPSByZW1haW5fYWN0dWFsIHwgMTsKLQkJfSBlbHNlICB7Ci0JCQkvKgotCQkJICog
VGhlIGJhc2UgcmVxdWVzdCB3aWxsIGZpdCBidXQgdGhlIHJlc2VydmVkIHNwYWNlCi0JCQkgKiBm
YWxscyBvZmYgdGhlIGVuZC4gU28gd2UgZG9uJ3QgbmVlZCBhbiBpbW1lZGlhdGUKLQkJCSAqIHdy
YXAgYW5kIG9ubHkgbmVlZCB0byBlZmZlY3RpdmVseSB3YWl0IGZvciB0aGUKLQkJCSAqIHJlc2Vy
dmVkIHNpemUgZnJvbSB0aGUgc3RhcnQgb2YgcmluZ2J1ZmZlci4KLQkJCSAqLwotCQkJdG90YWxf
Ynl0ZXMgPSBycS0+cmVzZXJ2ZWRfc3BhY2UgKyByZW1haW5fYWN0dWFsOwotCQl9Ci0JfQotCi0J
aWYgKHVubGlrZWx5KHRvdGFsX2J5dGVzID4gcmluZy0+c3BhY2UpKSB7Ci0JCWludCByZXQ7Ci0K
LQkJLyoKLQkJICogU3BhY2UgaXMgcmVzZXJ2ZWQgaW4gdGhlIHJpbmdidWZmZXIgZm9yIGZpbmFs
aXNpbmcgdGhlCi0JCSAqIHJlcXVlc3QsIGFzIHRoYXQgY2Fubm90IGJlIGFsbG93ZWQgdG8gZmFp
bC4gRHVyaW5nIHJlcXVlc3QKLQkJICogZmluYWxpc2F0aW9uLCByZXNlcnZlZF9zcGFjZSBpcyBz
ZXQgdG8gMCB0byBzdG9wIHRoZQotCQkgKiBvdmVyYWxsb2NhdGlvbiBhbmQgdGhlIGFzc3VtcHRp
b24gaXMgdGhhdCB0aGVuIHdlIG5ldmVyIG5lZWQKLQkJICogdG8gd2FpdCAod2hpY2ggaGFzIHRo
ZSByaXNrIG9mIGZhaWxpbmcgd2l0aCBFSU5UUikuCi0JCSAqCi0JCSAqIFNlZSBhbHNvIGk5MTVf
cmVxdWVzdF9hbGxvYygpIGFuZCBpOTE1X3JlcXVlc3RfYWRkKCkuCi0JCSAqLwotCQlHRU1fQlVH
X09OKCFycS0+cmVzZXJ2ZWRfc3BhY2UpOwotCi0JCXJldCA9IHdhaXRfZm9yX3NwYWNlKHJpbmcs
Ci0JCQkJICAgICBpOTE1X3JlcXVlc3RfdGltZWxpbmUocnEpLAotCQkJCSAgICAgdG90YWxfYnl0
ZXMpOwotCQlpZiAodW5saWtlbHkocmV0KSkKLQkJCXJldHVybiBFUlJfUFRSKHJldCk7Ci0JfQot
Ci0JaWYgKHVubGlrZWx5KG5lZWRfd3JhcCkpIHsKLQkJbmVlZF93cmFwICY9IH4xOwotCQlHRU1f
QlVHX09OKG5lZWRfd3JhcCA+IHJpbmctPnNwYWNlKTsKLQkJR0VNX0JVR19PTihyaW5nLT5lbWl0
ICsgbmVlZF93cmFwID4gcmluZy0+c2l6ZSk7Ci0JCUdFTV9CVUdfT04oIUlTX0FMSUdORUQobmVl
ZF93cmFwLCBzaXplb2YodTY0KSkpOwotCi0JCS8qIEZpbGwgdGhlIHRhaWwgd2l0aCBNSV9OT09Q
ICovCi0JCW1lbXNldDY0KHJpbmctPnZhZGRyICsgcmluZy0+ZW1pdCwgMCwgbmVlZF93cmFwIC8g
c2l6ZW9mKHU2NCkpOwotCQlyaW5nLT5zcGFjZSAtPSBuZWVkX3dyYXA7Ci0JCXJpbmctPmVtaXQg
PSAwOwotCX0KLQotCUdFTV9CVUdfT04ocmluZy0+ZW1pdCA+IHJpbmctPnNpemUgLSBieXRlcyk7
Ci0JR0VNX0JVR19PTihyaW5nLT5zcGFjZSA8IGJ5dGVzKTsKLQljcyA9IHJpbmctPnZhZGRyICsg
cmluZy0+ZW1pdDsKLQlHRU1fREVCVUdfRVhFQyhtZW1zZXQzMihjcywgUE9JU09OX0lOVVNFLCBi
eXRlcyAvIHNpemVvZigqY3MpKSk7Ci0JcmluZy0+ZW1pdCArPSBieXRlczsKLQlyaW5nLT5zcGFj
ZSAtPSBieXRlczsKLQotCXJldHVybiBjczsKLX0KLQotLyogQWxpZ24gdGhlIHJpbmcgdGFpbCB0
byBhIGNhY2hlbGluZSBib3VuZGFyeSAqLwotaW50IGludGVsX3JpbmdfY2FjaGVsaW5lX2FsaWdu
KHN0cnVjdCBpOTE1X3JlcXVlc3QgKnJxKQotewotCWludCBudW1fZHdvcmRzOwotCXZvaWQgKmNz
OwotCi0JbnVtX2R3b3JkcyA9IChycS0+cmluZy0+ZW1pdCAmIChDQUNIRUxJTkVfQllURVMgLSAx
KSkgLyBzaXplb2YodTMyKTsKLQlpZiAobnVtX2R3b3JkcyA9PSAwKQotCQlyZXR1cm4gMDsKLQot
CW51bV9kd29yZHMgPSBDQUNIRUxJTkVfRFdPUkRTIC0gbnVtX2R3b3JkczsKLQlHRU1fQlVHX09O
KG51bV9kd29yZHMgJiAxKTsKLQotCWNzID0gaW50ZWxfcmluZ19iZWdpbihycSwgbnVtX2R3b3Jk
cyk7Ci0JaWYgKElTX0VSUihjcykpCi0JCXJldHVybiBQVFJfRVJSKGNzKTsKLQotCW1lbXNldDY0
KGNzLCAodTY0KU1JX05PT1AgPDwgMzIgfCBNSV9OT09QLCBudW1fZHdvcmRzIC8gMik7Ci0JaW50
ZWxfcmluZ19hZHZhbmNlKHJxLCBjcyk7Ci0KLQlHRU1fQlVHX09OKHJxLT5yaW5nLT5lbWl0ICYg
KENBQ0hFTElORV9CWVRFUyAtIDEpKTsKLQlyZXR1cm4gMDsKLX0KLQogc3RhdGljIHZvaWQgZ2Vu
Nl9ic2Rfc3VibWl0X3JlcXVlc3Qoc3RydWN0IGk5MTVfcmVxdWVzdCAqcmVxdWVzdCkKIHsKIAlz
dHJ1Y3QgaW50ZWxfdW5jb3JlICp1bmNvcmUgPSByZXF1ZXN0LT5lbmdpbmUtPnVuY29yZTsKZGlm
ZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX3JpbmdfdHlwZXMuaCBiL2Ry
aXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX3JpbmdfdHlwZXMuaApuZXcgZmlsZSBtb2RlIDEw
MDY0NAppbmRleCAwMDAwMDAwMDAwMDAuLmQ5ZjE3ZjM4ZTBjYwotLS0gL2Rldi9udWxsCisrKyBi
L2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX3JpbmdfdHlwZXMuaApAQCAtMCwwICsxLDUx
IEBACisvKgorICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IE1JVAorICoKKyAqIENvcHlyaWdo
dCDCqSAyMDE5IEludGVsIENvcnBvcmF0aW9uCisgKi8KKworI2lmbmRlZiBJTlRFTF9SSU5HX1RZ
UEVTX0gKKyNkZWZpbmUgSU5URUxfUklOR19UWVBFU19ICisKKyNpbmNsdWRlIDxsaW51eC9hdG9t
aWMuaD4KKyNpbmNsdWRlIDxsaW51eC9rcmVmLmg+CisjaW5jbHVkZSA8bGludXgvdHlwZXMuaD4K
KworLyoKKyAqIEVhcmx5IGdlbjIgZGV2aWNlcyBoYXZlIGEgY2FjaGVsaW5lIG9mIGp1c3QgMzIg
Ynl0ZXMsIHVzaW5nIDY0IGlzIG92ZXJraWxsLAorICogYnV0IGtlZXBzIHRoZSBsb2dpYyBzaW1w
bGUuIEluZGVlZCwgdGhlIHdob2xlIHB1cnBvc2Ugb2YgdGhpcyBtYWNybyBpcyBqdXN0CisgKiB0
byBnaXZlIHNvbWUgaW5jbGluYXRpb24gYXMgdG8gc29tZSBvZiB0aGUgbWFnaWMgdmFsdWVzIHVz
ZWQgaW4gdGhlIHZhcmlvdXMKKyAqIHdvcmthcm91bmRzIQorICovCisjZGVmaW5lIENBQ0hFTElO
RV9CWVRFUyA2NAorI2RlZmluZSBDQUNIRUxJTkVfRFdPUkRTIChDQUNIRUxJTkVfQllURVMgLyBz
aXplb2YodTMyKSkKKworc3RydWN0IGk5MTVfdm1hOworCitzdHJ1Y3QgaW50ZWxfcmluZyB7CisJ
c3RydWN0IGtyZWYgcmVmOworCXN0cnVjdCBpOTE1X3ZtYSAqdm1hOworCXZvaWQgKnZhZGRyOwor
CisJLyoKKwkgKiBBcyB3ZSBoYXZlIHR3byB0eXBlcyBvZiByaW5ncywgb25lIGdsb2JhbCB0byB0
aGUgZW5naW5lIHVzZWQKKwkgKiBieSByaW5nYnVmZmVyIHN1Ym1pc3Npb24gYW5kIHRob3NlIHRo
YXQgYXJlIGV4Y2x1c2l2ZSB0byBhCisJICogY29udGV4dCB1c2VkIGJ5IGV4ZWNsaXN0cywgd2Ug
aGF2ZSB0byBwbGF5IHNhZmUgYW5kIGFsbG93CisJICogYXRvbWljIHVwZGF0ZXMgdG8gdGhlIHBp
bl9jb3VudC4gSG93ZXZlciwgdGhlIGFjdHVhbCBwaW5uaW5nCisJICogb2YgdGhlIGNvbnRleHQg
aXMgZWl0aGVyIGRvbmUgZHVyaW5nIGluaXRpYWxpc2F0aW9uIGZvcgorCSAqIHJpbmdidWZmZXIg
c3VibWlzc2lvbiBvciBzZXJpYWxpc2VkIGFzIHBhcnQgb2YgdGhlIGNvbnRleHQKKwkgKiBwaW5u
aW5nIGZvciBleGVjbGlzdHMsIGFuZCBzbyB3ZSBkbyBub3QgbmVlZCBhIG11dGV4IG91cnNlbHZl
cworCSAqIHRvIHNlcmlhbGlzZSBpbnRlbF9yaW5nX3Bpbi9pbnRlbF9yaW5nX3VucGluLgorCSAq
LworCWF0b21pY190IHBpbl9jb3VudDsKKworCXUzMiBoZWFkOworCXUzMiB0YWlsOworCXUzMiBl
bWl0OworCisJdTMyIHNwYWNlOworCXUzMiBzaXplOworCXUzMiBlZmZlY3RpdmVfc2l6ZTsKK307
CisKKyNlbmRpZiAvKiBJTlRFTF9SSU5HX1RZUEVTX0ggKi8KZGlmZiAtLWdpdCBhL2RyaXZlcnMv
Z3B1L2RybS9pOTE1L2d0L2ludGVsX3RpbWVsaW5lLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9n
dC9pbnRlbF90aW1lbGluZS5jCmluZGV4IDBmOTU5Njk0MzAzYy4uMTRhZDEwYWNkNTQ4IDEwMDY0
NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF90aW1lbGluZS5jCisrKyBiL2Ry
aXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX3RpbWVsaW5lLmMKQEAgLTQsMTMgKzQsMTMgQEAK
ICAqIENvcHlyaWdodCDCqSAyMDE2LTIwMTggSW50ZWwgQ29ycG9yYXRpb24KICAqLwogCi0jaW5j
bHVkZSAiZ3QvaW50ZWxfZ3RfdHlwZXMuaCIKLQogI2luY2x1ZGUgImk5MTVfZHJ2LmgiCiAKICNp
bmNsdWRlICJpOTE1X2FjdGl2ZS5oIgogI2luY2x1ZGUgImk5MTVfc3luY21hcC5oIgotI2luY2x1
ZGUgImd0L2ludGVsX3RpbWVsaW5lLmgiCisjaW5jbHVkZSAiaW50ZWxfZ3QuaCIKKyNpbmNsdWRl
ICJpbnRlbF9yaW5nLmgiCisjaW5jbHVkZSAiaW50ZWxfdGltZWxpbmUuaCIKIAogI2RlZmluZSBw
dHJfc2V0X2JpdChwdHIsIGJpdCkgKCh0eXBlb2YocHRyKSkoKHVuc2lnbmVkIGxvbmcpKHB0cikg
fCBCSVQoYml0KSkpCiAjZGVmaW5lIHB0cl90ZXN0X2JpdChwdHIsIGJpdCkgKCh1bnNpZ25lZCBs
b25nKShwdHIpICYgQklUKGJpdCkpCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9n
dC9pbnRlbF93b3JrYXJvdW5kcy5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfd29y
a2Fyb3VuZHMuYwppbmRleCBhZjhhODE4MzE1NGEuLjdjYjZkYWI0Mzk5ZCAxMDA2NDQKLS0tIGEv
ZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfd29ya2Fyb3VuZHMuYworKysgYi9kcml2ZXJz
L2dwdS9kcm0vaTkxNS9ndC9pbnRlbF93b3JrYXJvdW5kcy5jCkBAIC03LDYgKzcsNyBAQAogI2lu
Y2x1ZGUgImk5MTVfZHJ2LmgiCiAjaW5jbHVkZSAiaW50ZWxfY29udGV4dC5oIgogI2luY2x1ZGUg
ImludGVsX2d0LmgiCisjaW5jbHVkZSAiaW50ZWxfcmluZy5oIgogI2luY2x1ZGUgImludGVsX3dv
cmthcm91bmRzLmgiCiAKIC8qKgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3Qv
bW9ja19lbmdpbmUuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L21vY2tfZW5naW5lLmMKaW5k
ZXggMTIzZGIyYzNmOTU2Li44M2Y1NDlkMjAzYTAgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2d0L21vY2tfZW5naW5lLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvbW9j
a19lbmdpbmUuYwpAQCAtMjMsNiArMjMsNyBAQAogICovCiAKICNpbmNsdWRlICJnZW0vaTkxNV9n
ZW1fY29udGV4dC5oIgorI2luY2x1ZGUgImd0L2ludGVsX3JpbmcuaCIKIAogI2luY2x1ZGUgImk5
MTVfZHJ2LmgiCiAjaW5jbHVkZSAiaW50ZWxfY29udGV4dC5oIgpkaWZmIC0tZ2l0IGEvZHJpdmVy
cy9ncHUvZHJtL2k5MTUvZ3Qvc2VsZnRlc3RfdGltZWxpbmUuYyBiL2RyaXZlcnMvZ3B1L2RybS9p
OTE1L2d0L3NlbGZ0ZXN0X3RpbWVsaW5lLmMKaW5kZXggZGFjODZmNjk5YTRjLi5mMDRhNTlmZTVk
MmMgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L3NlbGZ0ZXN0X3RpbWVsaW5l
LmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3Qvc2VsZnRlc3RfdGltZWxpbmUuYwpAQCAt
OSw2ICs5LDcgQEAKICNpbmNsdWRlICJpbnRlbF9lbmdpbmVfcG0uaCIKICNpbmNsdWRlICJpbnRl
bF9ndC5oIgogI2luY2x1ZGUgImludGVsX2d0X3JlcXVlc3RzLmgiCisjaW5jbHVkZSAiaW50ZWxf
cmluZy5oIgogCiAjaW5jbHVkZSAiLi4vc2VsZnRlc3RzL2k5MTVfcmFuZG9tLmgiCiAjaW5jbHVk
ZSAiLi4vaTkxNV9zZWxmdGVzdC5oIgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUv
Z3QvdWMvaW50ZWxfZ3VjX3N1Ym1pc3Npb24uYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L3Vj
L2ludGVsX2d1Y19zdWJtaXNzaW9uLmMKaW5kZXggMDA5ZTU0YTM3NjRmLi4xYjE2OTFhYWVkMjgg
MTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L3VjL2ludGVsX2d1Y19zdWJtaXNz
aW9uLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvdWMvaW50ZWxfZ3VjX3N1Ym1pc3Np
b24uYwpAQCAtNiwxMiArNiwxMyBAQAogI2luY2x1ZGUgPGxpbnV4L2NpcmNfYnVmLmg+CiAKICNp
bmNsdWRlICJnZW0vaTkxNV9nZW1fY29udGV4dC5oIgotCiAjaW5jbHVkZSAiZ3QvaW50ZWxfY29u
dGV4dC5oIgogI2luY2x1ZGUgImd0L2ludGVsX2VuZ2luZV9wbS5oIgogI2luY2x1ZGUgImd0L2lu
dGVsX2d0LmgiCiAjaW5jbHVkZSAiZ3QvaW50ZWxfZ3RfcG0uaCIKICNpbmNsdWRlICJndC9pbnRl
bF9scmNfcmVnLmgiCisjaW5jbHVkZSAiZ3QvaW50ZWxfcmluZy5oIgorCiAjaW5jbHVkZSAiaW50
ZWxfZ3VjX3N1Ym1pc3Npb24uaCIKIAogI2luY2x1ZGUgImk5MTVfZHJ2LmgiCmRpZmYgLS1naXQg
YS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndnQvY21kX3BhcnNlci5jIGIvZHJpdmVycy9ncHUvZHJt
L2k5MTUvZ3Z0L2NtZF9wYXJzZXIuYwppbmRleCBlNzUzYjFlNzA2ZTIuLjZhM2FjOGNkZTk1ZCAx
MDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3Z0L2NtZF9wYXJzZXIuYworKysgYi9k
cml2ZXJzL2dwdS9kcm0vaTkxNS9ndnQvY21kX3BhcnNlci5jCkBAIC0zNSw3ICszNSw5IEBACiAg
Ki8KIAogI2luY2x1ZGUgPGxpbnV4L3NsYWIuaD4KKwogI2luY2x1ZGUgImk5MTVfZHJ2LmgiCisj
aW5jbHVkZSAiZ3QvaW50ZWxfcmluZy5oIgogI2luY2x1ZGUgImd2dC5oIgogI2luY2x1ZGUgImk5
MTVfcHZpbmZvLmgiCiAjaW5jbHVkZSAidHJhY2UuaCIKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1
L2RybS9pOTE1L2d2dC9tbWlvX2NvbnRleHQuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d2dC9t
bWlvX2NvbnRleHQuYwppbmRleCA0MjA4ZTQwNDQ1YjEuLmFhZjE1OTE2ZDI5YSAxMDA2NDQKLS0t
IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3Z0L21taW9fY29udGV4dC5jCisrKyBiL2RyaXZlcnMv
Z3B1L2RybS9pOTE1L2d2dC9tbWlvX2NvbnRleHQuYwpAQCAtMzUsNiArMzUsNyBAQAogCiAjaW5j
bHVkZSAiaTkxNV9kcnYuaCIKICNpbmNsdWRlICJndC9pbnRlbF9jb250ZXh0LmgiCisjaW5jbHVk
ZSAiZ3QvaW50ZWxfcmluZy5oIgogI2luY2x1ZGUgImd2dC5oIgogI2luY2x1ZGUgInRyYWNlLmgi
CiAKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d2dC9zY2hlZHVsZXIuYyBiL2Ry
aXZlcnMvZ3B1L2RybS9pOTE1L2d2dC9zY2hlZHVsZXIuYwppbmRleCBhNWI5NDJlZTNjZWIuLjM3
NzgxMWY4ODUzZiAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3Z0L3NjaGVkdWxl
ci5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d2dC9zY2hlZHVsZXIuYwpAQCAtMzgsNiAr
MzgsNyBAQAogI2luY2x1ZGUgImdlbS9pOTE1X2dlbV9jb250ZXh0LmgiCiAjaW5jbHVkZSAiZ2Vt
L2k5MTVfZ2VtX3BtLmgiCiAjaW5jbHVkZSAiZ3QvaW50ZWxfY29udGV4dC5oIgorI2luY2x1ZGUg
Imd0L2ludGVsX3JpbmcuaCIKIAogI2luY2x1ZGUgImk5MTVfZHJ2LmgiCiAjaW5jbHVkZSAiZ3Z0
LmgiCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2FjdGl2ZS5jIGIvZHJp
dmVycy9ncHUvZHJtL2k5MTUvaTkxNV9hY3RpdmUuYwppbmRleCAwN2QzOWYyMmEyYzMuLjIwNzM4
M2RkYTg0ZCAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9hY3RpdmUuYwor
KysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2FjdGl2ZS5jCkBAIC03LDYgKzcsNyBAQAog
I2luY2x1ZGUgPGxpbnV4L2RlYnVnb2JqZWN0cy5oPgogCiAjaW5jbHVkZSAiZ3QvaW50ZWxfZW5n
aW5lX3BtLmgiCisjaW5jbHVkZSAiZ3QvaW50ZWxfcmluZy5oIgogCiAjaW5jbHVkZSAiaTkxNV9k
cnYuaCIKICNpbmNsdWRlICJpOTE1X2FjdGl2ZS5oIgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUv
ZHJtL2k5MTUvaTkxNV9wZXJmLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3BlcmYuYwpp
bmRleCAzMTMwYjBjN2VkODMuLjM4ZDNkZTJkZmFhNiAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUv
ZHJtL2k5MTUvaTkxNV9wZXJmLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9wZXJm
LmMKQEAgLTIwMCw2ICsyMDAsNyBAQAogI2luY2x1ZGUgImd0L2ludGVsX2VuZ2luZV91c2VyLmgi
CiAjaW5jbHVkZSAiZ3QvaW50ZWxfZ3QuaCIKICNpbmNsdWRlICJndC9pbnRlbF9scmNfcmVnLmgi
CisjaW5jbHVkZSAiZ3QvaW50ZWxfcmluZy5oIgogCiAjaW5jbHVkZSAiaTkxNV9kcnYuaCIKICNp
bmNsdWRlICJpOTE1X3BlcmYuaCIKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5
MTVfcmVxdWVzdC5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9yZXF1ZXN0LmMKaW5kZXgg
NDU3NWYzNjg0NTVkLi45MzJjNWNmMTkwYjUgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9p
OTE1L2k5MTVfcmVxdWVzdC5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfcmVxdWVz
dC5jCkBAIC0zMSw2ICszMSw3IEBACiAKICNpbmNsdWRlICJnZW0vaTkxNV9nZW1fY29udGV4dC5o
IgogI2luY2x1ZGUgImd0L2ludGVsX2NvbnRleHQuaCIKKyNpbmNsdWRlICJndC9pbnRlbF9yaW5n
LmgiCiAKICNpbmNsdWRlICJpOTE1X2FjdGl2ZS5oIgogI2luY2x1ZGUgImk5MTVfZHJ2LmgiCi0t
IAoyLjI0LjAucmMwCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fXwpJbnRlbC1nZnggbWFpbGluZyBsaXN0CkludGVsLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5v
cmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9pbnRlbC1n
Zng=

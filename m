Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 530FCA14D6
	for <lists+intel-gfx@lfdr.de>; Thu, 29 Aug 2019 11:26:06 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id C40A16E049;
	Thu, 29 Aug 2019 09:26:03 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga17.intel.com (mga17.intel.com [192.55.52.151])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 2AB616E045
 for <intel-gfx@lists.freedesktop.org>; Thu, 29 Aug 2019 09:26:03 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga008.jf.intel.com ([10.7.209.65])
 by fmsmga107.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 29 Aug 2019 02:26:02 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.64,442,1559545200"; d="scan'208";a="175211183"
Received: from tbthomps-mobl.amr.corp.intel.com (HELO
 ldmartin-desk1.intel.com) ([10.254.111.220])
 by orsmga008.jf.intel.com with ESMTP; 29 Aug 2019 02:26:02 -0700
From: Lucas De Marchi <lucas.demarchi@intel.com>
To: intel-gfx@lists.freedesktop.org
Date: Thu, 29 Aug 2019 02:25:49 -0700
Message-Id: <20190829092554.32198-3-lucas.demarchi@intel.com>
X-Mailer: git-send-email 2.23.0
In-Reply-To: <20190829092554.32198-1-lucas.demarchi@intel.com>
References: <20190829092554.32198-1-lucas.demarchi@intel.com>
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH v3 2/7] drm/i915/tgl: Access the right register
 when handling PSR interruptions
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: Dhinakaran Pandiyan <dhinakaran.pandiyan@intel.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

RnJvbTogSm9zw6kgUm9iZXJ0byBkZSBTb3V6YSA8am9zZS5zb3V6YUBpbnRlbC5jb20+CgpGb3Ig
b2xkZXIgZ2VucyBQU1IgSUlSIGFuZCBJTVIgaGF2ZSBmaXhlZCBhZGRyZXNzZXMuIEZyb20gVEdM
IG9ud2FyZHMgdGhvc2UKcmVnaXN0ZXJzIG1vdmVkIHRvIGVhY2ggdHJhbnNjb2RlciBvZmZzZXQu
IFRoZSBiaXRzIGZvciB0aGUgcmVnaXN0ZXJzCmFyZSBkZWZpbmVkIHdpdGhvdXQgYW4gb2Zmc2V0
IHBlciB0cmFuc2NvZGVyIGFzIHJpZ2h0IG5vdyB3ZSBoYXZlIG9uZQpyZWdpc3RlciBwZXIgdHJh
bnNjb2Rlci4gU28gYWRkIGEgZmFrZSAidHJhbnNfc2hpZnQiIHdoZW4gY2FsY3VsYXRpbmcKdGhl
IGJpdHMgb2Zmc2V0czogaXQgd2lsbCBiZSAwIGZvciBnZW4xMisgYW5kIHBzci50cmFuc2NvZGVy
IG90aGVyd2lzZS4KCnYyIChMdWNhcyk6IGNoYW5nZSB0aGUgaW1wbGVtZW50YXRpb24gdG8gdXNl
IHRyYW5zX3NoaWZ0IGluc3RlYWQgb2YKZ2V0dGluZyBlYWNoIGJpdCB2YWx1ZSB3aXRoIGEgZGlm
ZmVyZW50IG1hY3JvCgpDYzogSW1yZSBEZWFrIDxpbXJlLmRlYWtAaW50ZWwuY29tPgpDYzogRGhp
bmFrYXJhbiBQYW5kaXlhbiA8ZGhpbmFrYXJhbi5wYW5kaXlhbkBpbnRlbC5jb20+CkNjOiBSb2Ry
aWdvIFZpdmkgPHJvZHJpZ28udml2aUBpbnRlbC5jb20+ClNpZ25lZC1vZmYtYnk6IEpvc8OpIFJv
YmVydG8gZGUgU291emEgPGpvc2Uuc291emFAaW50ZWwuY29tPgpTaWduZWQtb2ZmLWJ5OiBMdWNh
cyBEZSBNYXJjaGkgPGx1Y2FzLmRlbWFyY2hpQGludGVsLmNvbT4KLS0tCiBkcml2ZXJzL2dwdS9k
cm0vaTkxNS9kaXNwbGF5L2ludGVsX3Bzci5jIHwgNjAgKysrKysrKysrKysrKysrKysrLS0tLS0t
CiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2lycS5jICAgICAgICAgIHwgNTEgKysrKysrKysr
KysrKysrKystLS0KIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfcmVnLmggICAgICAgICAgfCAx
MCArKystCiAzIGZpbGVzIGNoYW5nZWQsIDk5IGluc2VydGlvbnMoKyksIDIyIGRlbGV0aW9ucygt
KQoKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfcHNyLmMg
Yi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX3Bzci5jCmluZGV4IDZmMmJmNTBi
NmQ4MC4uZTAxYzg5N2VjOWY5IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNw
bGF5L2ludGVsX3Bzci5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxf
cHNyLmMKQEAgLTkwLDE3ICs5MCwzMiBAQCBzdGF0aWMgYm9vbCBpbnRlbF9wc3IyX2VuYWJsZWQo
c3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2LAogCiBzdGF0aWMgdm9pZCBwc3JfaXJx
X2NvbnRyb2woc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2KQogewotCWVudW0gdHJh
bnNjb2RlciB0cmFucyA9IGRldl9wcml2LT5wc3IudHJhbnNjb2RlcjsKLQl1MzIgdmFsLCBtYXNr
OworCWVudW0gdHJhbnNjb2RlciB0cmFuc19zaGlmdDsKKwl1MzIgbWFzaywgdmFsOworCWk5MTVf
cmVnX3QgaW1yX3JlZzsKIAotCW1hc2sgPSBFRFBfUFNSX0VSUk9SKHRyYW5zKTsKKwkvKgorCSAq
IGdlbjEyKyBoYXMgcmVnaXN0ZXJzIHJlbGF0aXZlIHRvIHRyYW5zY29kZXIgYW5kIG9uZSBwZXIg
dHJhbnNjb2RlcgorCSAqIHVzaW5nIHRoZSBzYW1lIGJpdCBkZWZpbml0aW9uOiBoYW5kbGUgaXQg
YXMgVFJBTlNDT0RFUl9FRFAgdG8gZm9yY2UKKwkgKiAwIHNoaWZ0IGluIGJpdCBkZWZpbml0aW9u
CisJICovCisJaWYgKElOVEVMX0dFTihkZXZfcHJpdikgPj0gMTIpIHsKKwkJdHJhbnNfc2hpZnQg
PSAwOworCQlpbXJfcmVnID0gVFJBTlNfUFNSX0lNUihkZXZfcHJpdi0+cHNyLnRyYW5zY29kZXIp
OworCX0gZWxzZSB7CisJCXRyYW5zX3NoaWZ0ID0gZGV2X3ByaXYtPnBzci50cmFuc2NvZGVyOwor
CQlpbXJfcmVnID0gRURQX1BTUl9JTVI7CisJfQorCisJbWFzayA9IEVEUF9QU1JfRVJST1IodHJh
bnNfc2hpZnQpOwogCWlmIChkZXZfcHJpdi0+cHNyLmRlYnVnICYgSTkxNV9QU1JfREVCVUdfSVJR
KQotCQltYXNrIHw9IEVEUF9QU1JfUE9TVF9FWElUKHRyYW5zKSB8IEVEUF9QU1JfUFJFX0VOVFJZ
KHRyYW5zKTsKKwkJbWFzayB8PSBFRFBfUFNSX1BPU1RfRVhJVCh0cmFuc19zaGlmdCkgfAorCQkJ
RURQX1BTUl9QUkVfRU5UUlkodHJhbnNfc2hpZnQpOwogCi0JdmFsID0gSTkxNV9SRUFEKEVEUF9Q
U1JfSU1SKTsKLQl2YWwgJj0gfkVEUF9QU1JfVFJBTlNfTUFTSyh0cmFucyk7CisJdmFsID0gSTkx
NV9SRUFEKGltcl9yZWcpOworCXZhbCAmPSB+RURQX1BTUl9UUkFOU19NQVNLKHRyYW5zX3NoaWZ0
KTsKIAl2YWwgfD0gfm1hc2s7Ci0JSTkxNV9XUklURShFRFBfUFNSX0lNUiwgdmFsKTsKKwlJOTE1
X1dSSVRFKGltcl9yZWcsIHZhbCk7CiB9CiAKIHN0YXRpYyB2b2lkIHBzcl9ldmVudF9wcmludCh1
MzIgdmFsLCBib29sIHBzcjJfZW5hYmxlZCkKQEAgLTE0MywxNSArMTU4LDI1IEBAIHN0YXRpYyB2
b2lkIHBzcl9ldmVudF9wcmludCh1MzIgdmFsLCBib29sIHBzcjJfZW5hYmxlZCkKIHZvaWQgaW50
ZWxfcHNyX2lycV9oYW5kbGVyKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiwgdTMy
IHBzcl9paXIpCiB7CiAJZW51bSB0cmFuc2NvZGVyIGNwdV90cmFuc2NvZGVyID0gZGV2X3ByaXYt
PnBzci50cmFuc2NvZGVyOworCWVudW0gdHJhbnNjb2RlciB0cmFuc19zaGlmdDsKKwlpOTE1X3Jl
Z190IGltcl9yZWc7CiAJa3RpbWVfdCB0aW1lX25zID0gIGt0aW1lX2dldCgpOwogCi0JaWYgKHBz
cl9paXIgJiBFRFBfUFNSX1BSRV9FTlRSWShjcHVfdHJhbnNjb2RlcikpIHsKKwlpZiAoSU5URUxf
R0VOKGRldl9wcml2KSA+PSAxMikgeworCQl0cmFuc19zaGlmdCA9IDA7CisJCWltcl9yZWcgPSBU
UkFOU19QU1JfSU1SKGRldl9wcml2LT5wc3IudHJhbnNjb2Rlcik7CisJfSBlbHNlIHsKKwkJdHJh
bnNfc2hpZnQgPSBkZXZfcHJpdi0+cHNyLnRyYW5zY29kZXI7CisJCWltcl9yZWcgPSBFRFBfUFNS
X0lNUjsKKwl9CisKKwlpZiAocHNyX2lpciAmIEVEUF9QU1JfUFJFX0VOVFJZKHRyYW5zX3NoaWZ0
KSkgewogCQlkZXZfcHJpdi0+cHNyLmxhc3RfZW50cnlfYXR0ZW1wdCA9IHRpbWVfbnM7CiAJCURS
TV9ERUJVR19LTVMoIlt0cmFuc2NvZGVyICVzXSBQU1IgZW50cnkgYXR0ZW1wdCBpbiAyIHZibGFu
a3NcbiIsCiAJCQkgICAgICB0cmFuc2NvZGVyX25hbWUoY3B1X3RyYW5zY29kZXIpKTsKIAl9CiAK
LQlpZiAocHNyX2lpciAmIEVEUF9QU1JfUE9TVF9FWElUKGNwdV90cmFuc2NvZGVyKSkgeworCWlm
IChwc3JfaWlyICYgRURQX1BTUl9QT1NUX0VYSVQodHJhbnNfc2hpZnQpKSB7CiAJCWRldl9wcml2
LT5wc3IubGFzdF9leGl0ID0gdGltZV9uczsKIAkJRFJNX0RFQlVHX0tNUygiW3RyYW5zY29kZXIg
JXNdIFBTUiBleGl0IGNvbXBsZXRlZFxuIiwKIAkJCSAgICAgIHRyYW5zY29kZXJfbmFtZShjcHVf
dHJhbnNjb2RlcikpOwpAQCAtMTY1LDcgKzE5MCw3IEBAIHZvaWQgaW50ZWxfcHNyX2lycV9oYW5k
bGVyKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiwgdTMyIHBzcl9paXIpCiAJCX0K
IAl9CiAKLQlpZiAocHNyX2lpciAmIEVEUF9QU1JfRVJST1IoY3B1X3RyYW5zY29kZXIpKSB7CisJ
aWYgKHBzcl9paXIgJiBFRFBfUFNSX0VSUk9SKHRyYW5zX3NoaWZ0KSkgewogCQl1MzIgdmFsOwog
CiAJCURSTV9XQVJOKCJbdHJhbnNjb2RlciAlc10gUFNSIGF1eCBlcnJvclxuIiwKQEAgLTE4MSw5
ICsyMDYsOSBAQCB2b2lkIGludGVsX3Bzcl9pcnFfaGFuZGxlcihzdHJ1Y3QgZHJtX2k5MTVfcHJp
dmF0ZSAqZGV2X3ByaXYsIHUzMiBwc3JfaWlyKQogCQkgKiBhZ2FpbiBzbyB3ZSBkb24ndCBjYXJl
IGFib3V0IHVubWFzayB0aGUgaW50ZXJydXB0aW9uCiAJCSAqIG9yIHVuc2V0IGlycV9hdXhfZXJy
b3IuCiAJCSAqLwotCQl2YWwgPSBJOTE1X1JFQUQoRURQX1BTUl9JTVIpOwotCQl2YWwgfD0gRURQ
X1BTUl9FUlJPUihjcHVfdHJhbnNjb2Rlcik7Ci0JCUk5MTVfV1JJVEUoRURQX1BTUl9JTVIsIHZh
bCk7CisJCXZhbCA9IEk5MTVfUkVBRChpbXJfcmVnKTsKKwkJdmFsIHw9IEVEUF9QU1JfRVJST1Io
dHJhbnNfc2hpZnQpOworCQlJOTE1X1dSSVRFKGltcl9yZWcsIHZhbCk7CiAKIAkJc2NoZWR1bGVf
d29yaygmZGV2X3ByaXYtPnBzci53b3JrKTsKIAl9CkBAIC03MzAsOCArNzU1LDEzIEBAIHN0YXRp
YyB2b2lkIGludGVsX3Bzcl9lbmFibGVfbG9ja2VkKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpk
ZXZfcHJpdiwKIAkgKiBmaXJzdCB0aW1lIHRoYXQgUFNSIEhXIHRyaWVzIHRvIGFjdGl2YXRlIHNv
IGxldHMga2VlcCBQU1IgZGlzYWJsZWQKIAkgKiB0byBhdm9pZCBhbnkgcmVuZGVyaW5nIHByb2Js
ZW1zLgogCSAqLwotCXZhbCA9IEk5MTVfUkVBRChFRFBfUFNSX0lJUik7Ci0JdmFsICY9IEVEUF9Q
U1JfRVJST1IoZGV2X3ByaXYtPnBzci50cmFuc2NvZGVyKTsKKwlpZiAoSU5URUxfR0VOKGRldl9w
cml2KSA+PSAxMikgeworCQl2YWwgPSBJOTE1X1JFQUQoVFJBTlNfUFNSX0lJUihkZXZfcHJpdi0+
cHNyLnRyYW5zY29kZXIpKTsKKwkJdmFsICY9IEVEUF9QU1JfRVJST1IoMCk7CisJfSBlbHNlIHsK
KwkJdmFsID0gSTkxNV9SRUFEKEVEUF9QU1JfSUlSKTsKKwkJdmFsICY9IEVEUF9QU1JfRVJST1Io
ZGV2X3ByaXYtPnBzci50cmFuc2NvZGVyKTsKKwl9CiAJaWYgKHZhbCkgewogCQlkZXZfcHJpdi0+
cHNyLnNpbmtfbm90X3JlbGlhYmxlID0gdHJ1ZTsKIAkJRFJNX0RFQlVHX0tNUygiUFNSIGludGVy
cnVwdGlvbiBlcnJvciBzZXQsIG5vdCBlbmFibGluZyBQU1JcbiIpOwpkaWZmIC0tZ2l0IGEvZHJp
dmVycy9ncHUvZHJtL2k5MTUvaTkxNV9pcnEuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVf
aXJxLmMKaW5kZXggM2YxYjZlZTE1N2JhLi43M2YxYmQ2MGJjNjggMTAwNjQ0Ci0tLSBhL2RyaXZl
cnMvZ3B1L2RybS9pOTE1L2k5MTVfaXJxLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkx
NV9pcnEuYwpAQCAtMjY1NiwxMSArMjY1NiwyMSBAQCBnZW44X2RlX21pc2NfaXJxX2hhbmRsZXIo
c3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2LCB1MzIgaWlyKQogCX0KIAogCWlmIChp
aXIgJiBHRU44X0RFX0VEUF9QU1IpIHsKLQkJdTMyIHBzcl9paXIgPSBJOTE1X1JFQUQoRURQX1BT
Ul9JSVIpOworCQl1MzIgcHNyX2lpcjsKKwkJaTkxNV9yZWdfdCBpaXJfcmVnOworCisJCWlmIChJ
TlRFTF9HRU4oZGV2X3ByaXYpID49IDEyKQorCQkJaWlyX3JlZyA9IFRSQU5TX1BTUl9JSVIoZGV2
X3ByaXYtPnBzci50cmFuc2NvZGVyKTsKKwkJZWxzZQorCQkJaWlyX3JlZyA9IEVEUF9QU1JfSUlS
OworCisJCXBzcl9paXIgPSBJOTE1X1JFQUQoaWlyX3JlZyk7CisJCUk5MTVfV1JJVEUoaWlyX3Jl
ZywgcHNyX2lpcik7CisKKwkJaWYgKHBzcl9paXIpCisJCQlmb3VuZCA9IHRydWU7CiAKIAkJaW50
ZWxfcHNyX2lycV9oYW5kbGVyKGRldl9wcml2LCBwc3JfaWlyKTsKLQkJSTkxNV9XUklURShFRFBf
UFNSX0lJUiwgcHNyX2lpcik7Ci0JCWZvdW5kID0gdHJ1ZTsKIAl9CiAKIAlpZiAoIWZvdW5kKQpA
QCAtMzI4MCw4ICszMjkwLDIzIEBAIHN0YXRpYyB2b2lkIGdlbjExX2lycV9yZXNldChzdHJ1Y3Qg
ZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYpCiAKIAlpbnRlbF91bmNvcmVfd3JpdGUodW5jb3Jl
LCBHRU4xMV9ESVNQTEFZX0lOVF9DVEwsIDApOwogCi0JaW50ZWxfdW5jb3JlX3dyaXRlKHVuY29y
ZSwgRURQX1BTUl9JTVIsIDB4ZmZmZmZmZmYpOwotCWludGVsX3VuY29yZV93cml0ZSh1bmNvcmUs
IEVEUF9QU1JfSUlSLCAweGZmZmZmZmZmKTsKKwlpZiAoSU5URUxfR0VOKGRldl9wcml2KSA+PSAx
MikgeworCQllbnVtIHRyYW5zY29kZXIgdHJhbnM7CisKKwkJZm9yICh0cmFucyA9IFRSQU5TQ09E
RVJfQTsgdHJhbnMgPD0gVFJBTlNDT0RFUl9EOyB0cmFucysrKSB7CisJCQllbnVtIGludGVsX2Rp
c3BsYXlfcG93ZXJfZG9tYWluIGRvbWFpbjsKKworCQkJZG9tYWluID0gUE9XRVJfRE9NQUlOX1RS
QU5TQ09ERVIodHJhbnMpOworCQkJaWYgKCFpbnRlbF9kaXNwbGF5X3Bvd2VyX2lzX2VuYWJsZWQo
ZGV2X3ByaXYsIGRvbWFpbikpCisJCQkJY29udGludWU7CisKKwkJCWludGVsX3VuY29yZV93cml0
ZSh1bmNvcmUsIFRSQU5TX1BTUl9JTVIodHJhbnMpLCAweGZmZmZmZmZmKTsKKwkJCWludGVsX3Vu
Y29yZV93cml0ZSh1bmNvcmUsIFRSQU5TX1BTUl9JSVIodHJhbnMpLCAweGZmZmZmZmZmKTsKKwkJ
fQorCX0gZWxzZSB7CisJCWludGVsX3VuY29yZV93cml0ZSh1bmNvcmUsIEVEUF9QU1JfSU1SLCAw
eGZmZmZmZmZmKTsKKwkJaW50ZWxfdW5jb3JlX3dyaXRlKHVuY29yZSwgRURQX1BTUl9JSVIsIDB4
ZmZmZmZmZmYpOworCX0KIAogCWZvcl9lYWNoX3BpcGUoZGV2X3ByaXYsIHBpcGUpCiAJCWlmIChp
bnRlbF9kaXNwbGF5X3Bvd2VyX2lzX2VuYWJsZWQoZGV2X3ByaXYsCkBAIC0zNzk0LDcgKzM4MTks
MjEgQEAgc3RhdGljIHZvaWQgZ2VuOF9kZV9pcnFfcG9zdGluc3RhbGwoc3RydWN0IGRybV9pOTE1
X3ByaXZhdGUgKmRldl9wcml2KQogCWVsc2UgaWYgKElTX0JST0FEV0VMTChkZXZfcHJpdikpCiAJ
CWRlX3BvcnRfZW5hYmxlcyB8PSBHRU44X1BPUlRfRFBfQV9IT1RQTFVHOwogCi0JZ2VuM19hc3Nl
cnRfaWlyX2lzX3plcm8odW5jb3JlLCBFRFBfUFNSX0lJUik7CisJaWYgKElOVEVMX0dFTihkZXZf
cHJpdikgPj0gMTIpIHsKKwkJZW51bSB0cmFuc2NvZGVyIHRyYW5zOworCisJCWZvciAodHJhbnMg
PSBUUkFOU0NPREVSX0E7IHRyYW5zIDw9IFRSQU5TQ09ERVJfRDsgdHJhbnMrKykgeworCQkJZW51
bSBpbnRlbF9kaXNwbGF5X3Bvd2VyX2RvbWFpbiBkb21haW47CisKKwkJCWRvbWFpbiA9IFBPV0VS
X0RPTUFJTl9UUkFOU0NPREVSKHRyYW5zKTsKKwkJCWlmICghaW50ZWxfZGlzcGxheV9wb3dlcl9p
c19lbmFibGVkKGRldl9wcml2LCBkb21haW4pKQorCQkJCWNvbnRpbnVlOworCisJCQlnZW4zX2Fz
c2VydF9paXJfaXNfemVybyh1bmNvcmUsIFRSQU5TX1BTUl9JSVIodHJhbnMpKTsKKwkJfQorCX0g
ZWxzZSB7CisJCWdlbjNfYXNzZXJ0X2lpcl9pc196ZXJvKHVuY29yZSwgRURQX1BTUl9JSVIpOwor
CX0KIAogCWZvcl9lYWNoX3BpcGUoZGV2X3ByaXYsIHBpcGUpIHsKIAkJZGV2X3ByaXYtPmRlX2ly
cV9tYXNrW3BpcGVdID0gfmRlX3BpcGVfbWFza2VkOwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUv
ZHJtL2k5MTUvaTkxNV9yZWcuaCBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfcmVnLmgKaW5k
ZXggNmU3ZGI5YzY1OTgxLi4zM2Q5ZDE0MWVlOGYgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2k5MTVfcmVnLmgKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9yZWcuaApA
QCAtNDIyMiw5ICs0MjIyLDE3IEBAIGVudW0gewogI2RlZmluZSAgIEVEUF9QU1JfVFAxX1RJTUVf
MHVzCQkJKDMgPDwgNCkKICNkZWZpbmUgICBFRFBfUFNSX0lETEVfRlJBTUVfU0hJRlQJCTAKIAot
LyogQnNwZWMgY2xhaW1zIHRob3NlIGFyZW4ndCBzaGlmdGVkIGJ1dCBzdGF5IGF0IDB4NjQ4MDAg
Ki8KKy8qCisgKiBVbnRpbCBUR0wsIEJzcGVjIHNheXMgSU1SL0lJUiBhcmUgZml4ZWQgYXQgMHg2
NDh4eC4gT24gVEdMKyB0aG9zZSByZWdpc3RlcnMKKyAqIGFyZSByZWxhdGl2ZSB0byB0cmFuc2Nv
ZGVyIGFuZCBiaXRzIGRlZmluZWQgZm9yIGVhY2ggb25lIGFzCisgKiBpZiB1c2luZyBubyBzaGlm
dCAoaS5lLiBhcyBpZiBpdCB3YXMgZm9yIFRSQU5TQ09ERVJfRURQKQorICovCiAjZGVmaW5lIEVE
UF9QU1JfSU1SCQkJCV9NTUlPKDB4NjQ4MzQpCiAjZGVmaW5lIEVEUF9QU1JfSUlSCQkJCV9NTUlP
KDB4NjQ4MzgpCisjZGVmaW5lIF9QU1JfSU1SX0EJCQkJMHg2MDgxNAorI2RlZmluZSBfUFNSX0lJ
Ul9BCQkJCTB4NjA4MTgKKyNkZWZpbmUgVFJBTlNfUFNSX0lNUih0cmFuKQkJCV9NTUlPX1RSQU5T
Mih0cmFuLCBfUFNSX0lNUl9BKQorI2RlZmluZSBUUkFOU19QU1JfSUlSKHRyYW4pCQkJX01NSU9f
VFJBTlMyKHRyYW4sIF9QU1JfSUlSX0EpCiAjZGVmaW5lICAgX0VEUF9QU1JfVFJBTlNfU0hJRlQo
dHJhbnMpCQkoKHRyYW5zKSA9PSBUUkFOU0NPREVSX0VEUCA/IFwKIAkJCQkJCSAwIDogKCh0cmFu
cykgLSBUUkFOU0NPREVSX0EgKyAxKSAqIDgpCiAjZGVmaW5lICAgRURQX1BTUl9UUkFOU19NQVNL
KHRyYW5zKQkJKDB4NyA8PCBfRURQX1BTUl9UUkFOU19TSElGVCh0cmFucykpCi0tIAoyLjIzLjAK
Cl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCkludGVsLWdm
eCBtYWlsaW5nIGxpc3QKSW50ZWwtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xp
c3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2ludGVsLWdmeA==

Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 1D60E100BA2
	for <lists+intel-gfx@lfdr.de>; Mon, 18 Nov 2019 19:42:41 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id E124F89956;
	Mon, 18 Nov 2019 18:42:38 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga18.intel.com (mga18.intel.com [134.134.136.126])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 62F3D89949
 for <intel-gfx@lists.freedesktop.org>; Mon, 18 Nov 2019 18:42:37 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from fmsmga007.fm.intel.com ([10.253.24.52])
 by orsmga106.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 18 Nov 2019 10:42:36 -0800
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.68,321,1569308400"; d="scan'208";a="204280437"
Received: from fmsmsx108.amr.corp.intel.com ([10.18.124.206])
 by fmsmga007.fm.intel.com with ESMTP; 18 Nov 2019 10:42:36 -0800
Received: from fmsmsx117.amr.corp.intel.com ([169.254.3.27]) by
 FMSMSX108.amr.corp.intel.com ([169.254.9.125]) with mapi id 14.03.0439.000;
 Mon, 18 Nov 2019 10:42:36 -0800
From: "Souza, Jose" <jose.souza@intel.com>
To: "Gupta, Anshuman" <anshuman.gupta@intel.com>
Thread-Topic: [PATCH 3/3] drm/i915/dc3co: Avoid full modeset when EXITLINE
 needs to be changed
Thread-Index: AQHVkElXbipTJDDSjU6Z2fSCAFodo6eP8aaAgAHzxoA=
Date: Mon, 18 Nov 2019 18:42:35 +0000
Message-ID: <2e5899b9bc41c2ae5fbb4f452e7e72b0642750e5.camel@intel.com>
References: <20191101001422.209326-1-jose.souza@intel.com>
 <20191101001422.209326-3-jose.souza@intel.com>
 <20191117125348.GA22063@intel.com>
In-Reply-To: <20191117125348.GA22063@intel.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-originating-ip: [10.24.9.135]
Content-ID: <1532E3C164430447BEA56FD6B85746F5@intel.com>
MIME-Version: 1.0
Subject: Re: [Intel-gfx] [PATCH 3/3] drm/i915/dc3co: Avoid full modeset when
 EXITLINE needs to be changed
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: "intel-gfx@lists.freedesktop.org" <intel-gfx@lists.freedesktop.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

T24gU3VuLCAyMDE5LTExLTE3IGF0IDE4OjIzICswNTMwLCBBbnNodWFtbiBHdXB0YSB3cm90ZToN
Cj4gT24gMjAxOS0xMC0zMSBhdCAxNzoxNDoyMiAtMDcwMCwgSm9zw6kgUm9iZXJ0byBkZSBTb3V6
YSB3cm90ZToNCj4gPiBBIHJlY2VudCBjaGFuZ2UgaW4gQlNwZWMgYWxsb3cgdXMgdG8gY2hhbmdl
IEVYVExJTkUgd2hpbGUNCj4gPiB0cmFuc2NvZGVyDQo+ID4gaXMgZW5hYmxlZCBzbyB0aGlzIGFs
bG93IHVzIHRvIGNoYW5nZSBpdCBldmVuIHdoZW4gZG9pbmcgdGhlIGZpcnN0DQo+ID4gZmFzdHNl
dCBhZnRlciB0YWtpbmcgb3ZlciBwcmV2aW91cyBoYXJkd2FyZSBzdGF0ZSBzZXQgYnkgQklPUy4N
Cj4gPiBCSU9TIGRvbid0IGVuYWJsZSBQU1IsIHNvIGlmIHNpbmsgc3VwcG9ydHMgUFNSIGl0IHdp
bGwgYmUgZW5hYmxlZA0KPiA+IG9uDQo+ID4gdGhlIGZpcnN0IGZhc3RzZXQsIHNvIG1vdmluZyB0
aGUgRVhUTElORSBjb21wdXRlIGFuZCBzZXQgdG8gUFNSDQo+ID4gZmxvd3MNCj4gPiBhbGxvdyB1
cyB0byBzaW1wbGZ5IGEgYnVuY2ggb2YgY29kZS4NCj4gPiANCj4gPiBUaGlzIHdpbGwgc2F2ZSBh
IGxvdCBvZiB0aW1lIGluIGFsbCB0aGUgSUdUIHRlc3RzIHRoYXQgdXNlcyBDUkMsIGFzDQo+ID4g
d2hlbiBQU1IyIGlzIGVuYWJsZWQgQ1JDcyBhcmUgbm90IGdlbmVyYXRlZCwgc28gd2Ugc3dpdGNo
IHRvIFBTUjEsDQo+ID4gc28NCj4gPiB0aGUgcHJldmlvdXMgY29kZSB3b3VsZCBjb21wdXRlIGRj
M2NvX2V4aXRsaW5lPTAgY2F1c2luZyBhIGZ1bGwNCj4gPiBtb2Rlc2V0IHRoYXQgd291bGQgc2h1
dGRvd24gcGlwZSwgZW5hYmxlIGFuZCB0cmFpbiBsaW5rLg0KPiA+IA0KPiA+IEJTcGVjOiA0OTE5
Ng0KPiA+IENjOiBJbXJlIERlYWsgPGltcmUuZGVha0BpbnRlbC5jb20+DQo+ID4gQ2M6IEFuc2h1
bWFuIEd1cHRhIDxhbnNodW1hbi5ndXB0YUBpbnRlbC5jb20+DQo+ID4gU2lnbmVkLW9mZi1ieTog
Sm9zw6kgUm9iZXJ0byBkZSBTb3V6YSA8am9zZS5zb3V6YUBpbnRlbC5jb20+DQo+ID4gLS0tDQo+
ID4gIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGRpLmMgICAgIHwgODYgLS0t
LS0tLS0tLS0tLS0tLQ0KPiA+IC0tLS0NCj4gPiAgZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxh
eS9pbnRlbF9kaXNwbGF5LmMgfCAgMSAtDQo+ID4gIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3Bs
YXkvaW50ZWxfcHNyLmMgICAgIHwgNDcgKysrKysrKysrKysNCj4gPiAgMyBmaWxlcyBjaGFuZ2Vk
LCA0NyBpbnNlcnRpb25zKCspLCA4NyBkZWxldGlvbnMoLSkNCj4gPiANCj4gPiBkaWZmIC0tZ2l0
IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kZGkuYw0KPiA+IGIvZHJpdmVy
cy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kZGkuYw0KPiA+IGluZGV4IGI1MWYyNDRhZDdh
NS4uZjUyZmI3NjE5ZDQ2IDEwMDY0NA0KPiA+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rp
c3BsYXkvaW50ZWxfZGRpLmMNCj4gPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5
L2ludGVsX2RkaS5jDQo+ID4gQEAgLTMzMzksODYgKzMzMzksNiBAQCBzdGF0aWMgdm9pZA0KPiA+
IGludGVsX2RkaV9kaXNhYmxlX2ZlY19zdGF0ZShzdHJ1Y3QgaW50ZWxfZW5jb2RlciAqZW5jb2Rl
ciwNCj4gPiAgCVBPU1RJTkdfUkVBRChpbnRlbF9kcC0+cmVncy5kcF90cF9jdGwpOw0KPiA+ICB9
DQo+ID4gIA0KPiA+IC1zdGF0aWMgdm9pZA0KPiA+IC10Z2xfY2xlYXJfcHNyMl90cmFuc2NvZGVy
X2V4aXRsaW5lKGNvbnN0IHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlDQo+ID4gKmNzdGF0ZSkNCj4g
PiAtew0KPiA+IC0Jc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2ID0gdG9faTkxNShj
c3RhdGUtPmJhc2UuY3J0Yy0NCj4gPiA+ZGV2KTsNCj4gPiAtCXUzMiB2YWw7DQo+ID4gLQ0KPiA+
IC0JaWYgKCFjc3RhdGUtPmRjM2NvX2V4aXRsaW5lKQ0KPiA+IC0JCXJldHVybjsNCj4gPiAtDQo+
ID4gLQl2YWwgPSBJOTE1X1JFQUQoRVhJVExJTkUoY3N0YXRlLT5jcHVfdHJhbnNjb2RlcikpOw0K
PiA+IC0JdmFsICY9IH4oRVhJVExJTkVfTUFTSyB8IEVYSVRMSU5FX0VOQUJMRSk7DQo+ID4gLQlJ
OTE1X1dSSVRFKEVYSVRMSU5FKGNzdGF0ZS0+Y3B1X3RyYW5zY29kZXIpLCB2YWwpOw0KPiA+IC19
DQo+ID4gLQ0KPiA+IC1zdGF0aWMgdm9pZA0KPiA+IC10Z2xfc2V0X3BzcjJfdHJhbnNjb2Rlcl9l
eGl0bGluZShjb25zdCBzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZQ0KPiA+ICpjc3RhdGUpDQo+ID4g
LXsNCj4gPiAtCXUzMiB2YWwsIGV4aXRfc2NhbmxpbmVzOw0KPiA+IC0Jc3RydWN0IGRybV9pOTE1
X3ByaXZhdGUgKmRldl9wcml2ID0gdG9faTkxNShjc3RhdGUtPmJhc2UuY3J0Yy0NCj4gPiA+ZGV2
KTsNCj4gPiAtDQo+ID4gLQlpZiAoIWNzdGF0ZS0+ZGMzY29fZXhpdGxpbmUpDQo+ID4gLQkJcmV0
dXJuOw0KPiA+IC0NCj4gPiAtCWV4aXRfc2NhbmxpbmVzID0gY3N0YXRlLT5kYzNjb19leGl0bGlu
ZTsNCj4gPiAtCWV4aXRfc2NhbmxpbmVzIDw8PSBFWElUTElORV9TSElGVDsNCj4gPiAtCXZhbCA9
IEk5MTVfUkVBRChFWElUTElORShjc3RhdGUtPmNwdV90cmFuc2NvZGVyKSk7DQo+ID4gLQl2YWwg
Jj0gfihFWElUTElORV9NQVNLIHwgRVhJVExJTkVfRU5BQkxFKTsNCj4gPiAtCXZhbCB8PSBleGl0
X3NjYW5saW5lczsNCj4gPiAtCXZhbCB8PSBFWElUTElORV9FTkFCTEU7DQo+ID4gLQlJOTE1X1dS
SVRFKEVYSVRMSU5FKGNzdGF0ZS0+Y3B1X3RyYW5zY29kZXIpLCB2YWwpOw0KPiA+IC19DQo+ID4g
LQ0KPiA+IC1zdGF0aWMgdm9pZCB0Z2xfZGMzY29fZXhpdGxpbmVfY29tcHV0ZV9jb25maWcoc3Ry
dWN0IGludGVsX2VuY29kZXINCj4gPiAqZW5jb2RlciwNCj4gPiAtCQkJCQkgICAgICBzdHJ1Y3Qg
aW50ZWxfY3J0Y19zdGF0ZQ0KPiA+ICpjc3RhdGUpDQo+ID4gLXsNCj4gPiAtCXUzMiBleGl0X3Nj
YW5saW5lczsNCj4gPiAtCXN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiA9IHRvX2k5
MTUoY3N0YXRlLT5iYXNlLmNydGMtDQo+ID4gPmRldik7DQo+ID4gLQl1MzIgY3J0Y192ZGlzcGxh
eSA9IGNzdGF0ZS0+YmFzZS5hZGp1c3RlZF9tb2RlLmNydGNfdmRpc3BsYXk7DQo+ID4gLQ0KPiA+
IC0JY3N0YXRlLT5kYzNjb19leGl0bGluZSA9IDA7DQo+ID4gLQ0KPiA+IC0JaWYgKCEoZGV2X3By
aXYtPmNzci5hbGxvd2VkX2RjX21hc2sgJiBEQ19TVEFURV9FTl9EQzNDTykpDQo+ID4gLQkJcmV0
dXJuOw0KPiA+IC0NCj4gPiAtCS8qIEIuU3BlY3M6NDkxOTYgREMzQ08gb25seSB3b3JrcyB3aXRo
IHBpcGVBIGFuZCBERElBLiovDQo+ID4gLQlpZiAodG9faW50ZWxfY3J0Yyhjc3RhdGUtPmJhc2Uu
Y3J0YyktPnBpcGUgIT0gUElQRV9BIHx8DQo+ID4gLQkgICAgZW5jb2Rlci0+cG9ydCAhPSBQT1JU
X0EpDQo+ID4gLQkJcmV0dXJuOw0KPiA+IC0NCj4gPiAtCWlmICghY3N0YXRlLT5oYXNfcHNyMiB8
fCAhY3N0YXRlLT5iYXNlLmFjdGl2ZSkNCj4gPiAtCQlyZXR1cm47DQo+ID4gLQ0KPiA+IC0JLyoN
Cj4gPiAtCSAqIERDM0NPIEV4aXQgdGltZSAyMDB1cyBCLlNwZWMgNDkxOTYNCj4gPiAtCSAqIFBT
UjIgdHJhbnNjb2RlciBFYXJseSBFeGl0IHNjYW5saW5lcyA9IFJPVU5EVVAoMjAwIC8gbGluZQ0K
PiA+IHRpbWUpICsgMQ0KPiA+IC0JICovDQo+ID4gLQlleGl0X3NjYW5saW5lcyA9DQo+ID4gLQkJ
aW50ZWxfdXNlY3NfdG9fc2NhbmxpbmVzKCZjc3RhdGUtPmJhc2UuYWRqdXN0ZWRfbW9kZSwNCj4g
PiAyMDApICsgMTsNCj4gPiAtDQo+ID4gLQlpZiAoV0FSTl9PTihleGl0X3NjYW5saW5lcyA+IGNy
dGNfdmRpc3BsYXkpKQ0KPiA+IC0JCXJldHVybjsNCj4gPiAtDQo+ID4gLQljc3RhdGUtPmRjM2Nv
X2V4aXRsaW5lID0gY3J0Y192ZGlzcGxheSAtIGV4aXRfc2NhbmxpbmVzOw0KPiA+IC0JRFJNX0RF
QlVHX0tNUygiREMzQ08gZXhpdCBzY2FubGluZXMgJWRcbiIsIGNzdGF0ZS0NCj4gPiA+ZGMzY29f
ZXhpdGxpbmUpOw0KPiA+IC19DQo+ID4gLQ0KPiA+IC1zdGF0aWMgdm9pZCB0Z2xfZGMzY29fZXhp
dGxpbmVfZ2V0X2NvbmZpZyhzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZQ0KPiA+ICpjcnRjX3N0YXRl
KQ0KPiA+IC17DQo+ID4gLQl1MzIgdmFsOw0KPiA+IC0Jc3RydWN0IGRybV9pOTE1X3ByaXZhdGUg
KmRldl9wcml2ID0gdG9faTkxNShjcnRjX3N0YXRlLQ0KPiA+ID5iYXNlLmNydGMtPmRldik7DQo+
ID4gLQ0KPiA+IC0JaWYgKElOVEVMX0dFTihkZXZfcHJpdikgPCAxMikNCj4gPiAtCQlyZXR1cm47
DQo+ID4gLQ0KPiA+IC0JdmFsID0gSTkxNV9SRUFEKEVYSVRMSU5FKGNydGNfc3RhdGUtPmNwdV90
cmFuc2NvZGVyKSk7DQo+ID4gLQ0KPiA+IC0JaWYgKHZhbCAmIEVYSVRMSU5FX0VOQUJMRSkNCj4g
PiAtCQljcnRjX3N0YXRlLT5kYzNjb19leGl0bGluZSA9IHZhbCAmIEVYSVRMSU5FX01BU0s7DQo+
ID4gLX0NCj4gPiAtDQo+ID4gIHN0YXRpYyB2b2lkIHRnbF9kZGlfcHJlX2VuYWJsZV9kcChzdHJ1
Y3QgaW50ZWxfZW5jb2RlciAqZW5jb2RlciwNCj4gPiAgCQkJCSAgY29uc3Qgc3RydWN0IGludGVs
X2NydGNfc3RhdGUNCj4gPiAqY3J0Y19zdGF0ZSwNCj4gPiAgCQkJCSAgY29uc3Qgc3RydWN0IGRy
bV9jb25uZWN0b3Jfc3RhdGUNCj4gPiAqY29ubl9zdGF0ZSkNCj4gPiBAQCAtMzQzMSw3ICszMzUx
LDYgQEAgc3RhdGljIHZvaWQgdGdsX2RkaV9wcmVfZW5hYmxlX2RwKHN0cnVjdA0KPiA+IGludGVs
X2VuY29kZXIgKmVuY29kZXIsDQo+ID4gIAlpbnQgbGV2ZWwgPSBpbnRlbF9kZGlfZHBfbGV2ZWwo
aW50ZWxfZHApOw0KPiA+ICAJZW51bSB0cmFuc2NvZGVyIHRyYW5zY29kZXIgPSBjcnRjX3N0YXRl
LT5jcHVfdHJhbnNjb2RlcjsNCj4gPiAgDQo+ID4gLQl0Z2xfc2V0X3BzcjJfdHJhbnNjb2Rlcl9l
eGl0bGluZShjcnRjX3N0YXRlKTsNCj4gPiAgCWludGVsX2RwX3NldF9saW5rX3BhcmFtcyhpbnRl
bF9kcCwgY3J0Y19zdGF0ZS0+cG9ydF9jbG9jaywNCj4gPiAgCQkJCSBjcnRjX3N0YXRlLT5sYW5l
X2NvdW50LCBpc19tc3QpOw0KPiA+ICANCj4gPiBAQCAtMzc2MCw3ICszNjc5LDYgQEAgc3RhdGlj
IHZvaWQgaW50ZWxfZGRpX3Bvc3RfZGlzYWJsZV9kcChzdHJ1Y3QNCj4gPiBpbnRlbF9lbmNvZGVy
ICplbmNvZGVyLA0KPiA+ICAJCQkJCQkgIGRpZ19wb3J0LQ0KPiA+ID5kZGlfaW9fcG93ZXJfZG9t
YWluKTsNCj4gPiAgDQo+ID4gIAlpbnRlbF9kZGlfY2xrX2Rpc2FibGUoZW5jb2Rlcik7DQo+ID4g
LQl0Z2xfY2xlYXJfcHNyMl90cmFuc2NvZGVyX2V4aXRsaW5lKG9sZF9jcnRjX3N0YXRlKTsNCj4g
PiAgfQ0KPiA+ICANCj4gPiAgc3RhdGljIHZvaWQgaW50ZWxfZGRpX3Bvc3RfZGlzYWJsZV9oZG1p
KHN0cnVjdCBpbnRlbF9lbmNvZGVyDQo+ID4gKmVuY29kZXIsDQo+ID4gQEAgLTQzMDgsOSArNDIy
Niw2IEBAIHZvaWQgaW50ZWxfZGRpX2dldF9jb25maWcoc3RydWN0DQo+ID4gaW50ZWxfZW5jb2Rl
ciAqZW5jb2RlciwNCj4gPiAgCQlicmVhazsNCj4gPiAgCX0NCj4gPiAgDQo+ID4gLQlpZiAoZW5j
b2Rlci0+dHlwZSA9PSBJTlRFTF9PVVRQVVRfRURQKQ0KPiA+IC0JCXRnbF9kYzNjb19leGl0bGlu
ZV9nZXRfY29uZmlnKHBpcGVfY29uZmlnKTsNCj4gPiAtDQo+ID4gIAlwaXBlX2NvbmZpZy0+aGFz
X2F1ZGlvID0NCj4gPiAgCQlpbnRlbF9kZGlfaXNfYXVkaW9fZW5hYmxlZChkZXZfcHJpdiwgY3B1
X3RyYW5zY29kZXIpOw0KPiA+ICANCj4gPiBAQCAtNDM5Miw3ICs0MzA3LDYgQEAgc3RhdGljIGlu
dCBpbnRlbF9kZGlfY29tcHV0ZV9jb25maWcoc3RydWN0DQo+ID4gaW50ZWxfZW5jb2RlciAqZW5j
b2RlciwNCj4gPiAgCQlyZXQgPSBpbnRlbF9oZG1pX2NvbXB1dGVfY29uZmlnKGVuY29kZXIsIHBp
cGVfY29uZmlnLA0KPiA+IGNvbm5fc3RhdGUpOw0KPiA+ICAJfSBlbHNlIHsNCj4gPiAgCQlyZXQg
PSBpbnRlbF9kcF9jb21wdXRlX2NvbmZpZyhlbmNvZGVyLCBwaXBlX2NvbmZpZywNCj4gPiBjb25u
X3N0YXRlKTsNCj4gPiAtCQl0Z2xfZGMzY29fZXhpdGxpbmVfY29tcHV0ZV9jb25maWcoZW5jb2Rl
ciwNCj4gPiBwaXBlX2NvbmZpZyk7DQo+ID4gIAl9DQo+ID4gIA0KPiA+ICAJaWYgKHJldCkNCj4g
PiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5
LmMNCj4gPiBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheS5jDQo+
ID4gaW5kZXggMzQ4Y2UwNDU2Njk2Li42YzFjOTNiMmE4MWYgMTAwNjQ0DQo+ID4gLS0tIGEvZHJp
dmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5LmMNCj4gPiArKysgYi9kcml2
ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXkuYw0KPiA+IEBAIC0xMzA5MSw3
ICsxMzA5MSw2IEBAIGludGVsX3BpcGVfY29uZmlnX2NvbXBhcmUoY29uc3Qgc3RydWN0DQo+ID4g
aW50ZWxfY3J0Y19zdGF0ZSAqY3VycmVudF9jb25maWcsDQo+ID4gIA0KPiA+ICAJUElQRV9DT05G
X0NIRUNLX0kocGl4ZWxfbXVsdGlwbGllcik7DQo+ID4gIAlQSVBFX0NPTkZfQ0hFQ0tfSShvdXRw
dXRfZm9ybWF0KTsNCj4gPiAtCVBJUEVfQ09ORl9DSEVDS19JKGRjM2NvX2V4aXRsaW5lKTsNCj4g
PiAgCVBJUEVfQ09ORl9DSEVDS19CT09MKGhhc19oZG1pX3NpbmspOw0KPiA+ICAJaWYgKChJTlRF
TF9HRU4oZGV2X3ByaXYpIDwgOCAmJiAhSVNfSEFTV0VMTChkZXZfcHJpdikpIHx8DQo+ID4gIAkg
ICAgSVNfVkFMTEVZVklFVyhkZXZfcHJpdikgfHwgSVNfQ0hFUlJZVklFVyhkZXZfcHJpdikpDQo+
ID4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfcHNyLmMN
Cj4gPiBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfcHNyLmMNCj4gPiBpbmRl
eCBiYjliNTM0OWI3MmEuLjA2YTBhMWM5NjIxZSAxMDA2NDQNCj4gPiAtLS0gYS9kcml2ZXJzL2dw
dS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX3Bzci5jDQo+ID4gKysrIGIvZHJpdmVycy9ncHUvZHJt
L2k5MTUvZGlzcGxheS9pbnRlbF9wc3IuYw0KPiA+IEBAIC01OTYsNiArNTk2LDM3IEBAIHN0YXRp
YyB2b2lkDQo+ID4gdGdsX2Rpc2FsbG93X2RjM2NvX29uX3BzcjJfZXhpdChzdHJ1Y3QgZHJtX2k5
MTVfcHJpdmF0ZSAqZGV2X3ByaXYpDQo+ID4gIAl0Z2xfcHNyMl9kaXNhYmxlX2RjM2NvKGRldl9w
cml2KTsNCj4gPiAgfQ0KPiA+ICANCj4gPiArc3RhdGljIHZvaWQNCj4gPiArdGdsX2RjM2NvX2V4
aXRsaW5lX2NvbXB1dGVfY29uZmlnKHN0cnVjdCBpbnRlbF9kcCAqaW50ZWxfZHAsDQo+ID4gKwkJ
CQkgIHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpjcnRjX3N0YXRlKQ0KPiA+ICt7DQo+ID4gKwlj
b25zdCB1MzIgY3J0Y192ZGlzcGxheSA9IGNydGNfc3RhdGUtDQo+ID4gPmJhc2UuYWRqdXN0ZWRf
bW9kZS5jcnRjX3ZkaXNwbGF5Ow0KPiA+ICsJc3RydWN0IGludGVsX2RpZ2l0YWxfcG9ydCAqZGln
X3BvcnQgPSBkcF90b19kaWdfcG9ydChpbnRlbF9kcCk7DQo+ID4gKwlzdHJ1Y3QgZHJtX2k5MTVf
cHJpdmF0ZSAqZGV2X3ByaXYgPSBkcF90b19pOTE1KGludGVsX2RwKTsNCj4gPiArCXUzMiBleGl0
X3NjYW5saW5lczsNCj4gV2Ugd2FudGVkIHRvIGV4cGxpY2l0bHkgY2xlYXIgZGMzY29fZXhpdGxp
bmUgaW4gY2FzZSBpdCBpcyBub3QNCj4gc3VwcG9ydGVkLg0KDQoNClRoZSB3aG9sZSBpbnRlbF9j
cnRjX3N0YXRlIGlzIHplcm9lZCBiZWZvcmUgdGhlIGNvbXB1dGUgZnVuY3Rpb25zIGFyZQ0KY2Fs
bGVkIHNvIG5vIG5lZWQgdG8gc2V0IGRjM2NvX2V4aXRsaW5lIHRvIHplcm8uDQoNCj4gPiArDQo+
ID4gKwlpZiAoIShkZXZfcHJpdi0+Y3NyLmFsbG93ZWRfZGNfbWFzayAmIERDX1NUQVRFX0VOX0RD
M0NPKSkNCj4gPiArCQlyZXR1cm47DQo+ID4gKw0KPiA+ICsJLyogQi5TcGVjczo0OTE5NiBEQzND
TyBvbmx5IHdvcmtzIHdpdGggcGlwZUEgYW5kIERESUEuKi8NCj4gPiArCWlmICh0b19pbnRlbF9j
cnRjKGNydGNfc3RhdGUtPmJhc2UuY3J0YyktPnBpcGUgIT0gUElQRV9BIHx8DQo+ID4gKwkgICAg
ZGlnX3BvcnQtPmJhc2UucG9ydCAhPSBQT1JUX0EpDQo+ID4gKwkJcmV0dXJuOw0KPiA+ICsNCj4g
PiArCS8qDQo+ID4gKwkgKiBEQzNDTyBFeGl0IHRpbWUgMjAwdXMgQi5TcGVjIDQ5MTk2DQo+ID4g
KwkgKiBQU1IyIHRyYW5zY29kZXIgRWFybHkgRXhpdCBzY2FubGluZXMgPSBST1VORFVQKDIwMCAv
IGxpbmUNCj4gPiB0aW1lKSArIDENCj4gPiArCSAqLw0KPiA+ICsJZXhpdF9zY2FubGluZXMgPQ0K
PiA+ICsJCWludGVsX3VzZWNzX3RvX3NjYW5saW5lcygmY3J0Y19zdGF0ZS0NCj4gPiA+YmFzZS5h
ZGp1c3RlZF9tb2RlLCAyMDApICsgMTsNCj4gPiArDQo+ID4gKwlpZiAoV0FSTl9PTihleGl0X3Nj
YW5saW5lcyA+IGNydGNfdmRpc3BsYXkpKQ0KPiA+ICsJCXJldHVybjsNCj4gPiArDQo+ID4gKwlj
cnRjX3N0YXRlLT5kYzNjb19leGl0bGluZSA9IGNydGNfdmRpc3BsYXkgLSBleGl0X3NjYW5saW5l
czsNCj4gPiArCURSTV9ERUJVR19LTVMoIkRDM0NPIGV4aXQgc2NhbmxpbmVzICVkXG4iLCBjcnRj
X3N0YXRlLQ0KPiA+ID5kYzNjb19leGl0bGluZSk7DQo+ID4gK30NCj4gPiArDQo+ID4gIHN0YXRp
YyBib29sIGludGVsX3BzcjJfY29uZmlnX3ZhbGlkKHN0cnVjdCBpbnRlbF9kcCAqaW50ZWxfZHAs
DQo+ID4gIAkJCQkgICAgc3RydWN0IGludGVsX2NydGNfc3RhdGUNCj4gPiAqY3J0Y19zdGF0ZSkN
Cj4gPiAgew0KPiA+IEBAIC02NTgsNiArNjg5LDcgQEAgc3RhdGljIGJvb2wgaW50ZWxfcHNyMl9j
b25maWdfdmFsaWQoc3RydWN0DQo+ID4gaW50ZWxfZHAgKmludGVsX2RwLA0KPiA+ICAJCXJldHVy
biBmYWxzZTsNCj4gPiAgCX0NCj4gPiAgDQo+ID4gKwl0Z2xfZGMzY29fZXhpdGxpbmVfY29tcHV0
ZV9jb25maWcoaW50ZWxfZHAsIGNydGNfc3RhdGUpOw0KPiA+ICAJcmV0dXJuIHRydWU7DQo+ID4g
IH0NCj4gPiAgDQo+ID4gQEAgLTc3NSw2ICs4MDcsMjEgQEAgc3RhdGljIHZvaWQgaW50ZWxfcHNy
X2VuYWJsZV9zb3VyY2Uoc3RydWN0DQo+ID4gaW50ZWxfZHAgKmludGVsX2RwLA0KPiA+ICAJSTkx
NV9XUklURShFRFBfUFNSX0RFQlVHKGRldl9wcml2LT5wc3IudHJhbnNjb2RlciksIG1hc2spOw0K
PiA+ICANCj4gPiAgCXBzcl9pcnFfY29udHJvbChkZXZfcHJpdik7DQo+ID4gKw0KPiA+ICsJaWYg
KElOVEVMX0dFTihkZXZfcHJpdikgPj0gMTIgJiYgZGV2X3ByaXYtPnBzci5wc3IyX2VuYWJsZWQp
IHsNCj4gSU1ITyB3ZSBjYW4gdXNlIGRjM2NvX2VuYWJsZWQgZmxhZyBoZXJlIGluc3RlYWQgb2Yg
cHNyMl9lbmFibGVkLCBhbmQNCj4gaXQgd291bGQgYmUgDQo+IG5pY2UgdG8gaGF2ZSBhIHNlcGVy
YXRlIGZ1bmN0aW9uIHRvIHNldCB0aGUgZXhpdGxpbmUgaGVyZS4NCj4gVGhhbmtzLA0KPiBBbnNo
dW1hbiBHdXB0YS4NCg0KSGVyZSBpdCBpcyBjaGVja2luZyBmb3IgUFNSMiBiZWNhdXNlIGluIGNh
c2UgREMzQ08gaXMgZGlzYWJsZWQgaXQgd2lsbA0Kc2V0IEVYSVRMSU5FIHRvIDAgYnV0IHdlIGNv
dWxkIGtlZXAgaXQgc2V0IHRvbyB3aXRob3V0IGFueSBkcmF3YmFja3MuDQpUaG91Z2h0cyBJbXJl
Pw0KDQpJIGRvbid0IHRoaW5rIHdlIG5lZWQgYSBzZXBhcmF0ZWQgZnVuY3Rpb24gaXQgaXMganVz
dCBSTVcgaW50byBvbmUNCnJlZ2lzdGVycy4NCg0KPiA+ICsJCXUzMiB2YWw7DQo+ID4gKw0KPiA+
ICsJCS8qDQo+ID4gKwkJICogVE9ETzogaWYgZnV0dXJlIHBsYXRmb3JtcyBzdXBwb3J0cyBEQzND
TyBpbiBtb3JlDQo+ID4gdGhhbiBvbmUNCj4gPiArCQkgKiB0cmFuc2NvZGVyLCBFWElUTElORSB3
aWxsIG5lZWQgdG8gYmUgdW5zZXQgd2hlbg0KPiA+IGRpc2FibGluZyBQU1INCj4gPiArCQkgKi8N
Cj4gPiArCQl2YWwgPSBJOTE1X1JFQUQoRVhJVExJTkUoY3B1X3RyYW5zY29kZXIpKTsNCj4gPiAr
CQl2YWwgJj0gfihFWElUTElORV9NQVNLIHwgRVhJVExJTkVfRU5BQkxFKTsNCj4gPiArCQl2YWwg
fD0gY3J0Y19zdGF0ZS0+ZGMzY29fZXhpdGxpbmUgPDwgRVhJVExJTkVfU0hJRlQ7DQo+ID4gKwkJ
aWYgKGNydGNfc3RhdGUtPmRjM2NvX2V4aXRsaW5lKQ0KPiA+ICsJCQl2YWwgfD0gRVhJVExJTkVf
RU5BQkxFOw0KPiA+ICsJCUk5MTVfV1JJVEUoRVhJVExJTkUoY3B1X3RyYW5zY29kZXIpLCB2YWwp
Ow0KPiA+ICsJfQ0KPiA+ICB9DQo+ID4gIA0KPiA+ICBzdGF0aWMgdm9pZCBpbnRlbF9wc3JfZW5h
YmxlX2xvY2tlZChzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZQ0KPiA+ICpkZXZfcHJpdiwNCj4gPiAt
LSANCj4gPiAyLjIzLjANCj4gPiANCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fCkludGVsLWdmeCBtYWlsaW5nIGxpc3QKSW50ZWwtZ2Z4QGxpc3RzLmZyZWVk
ZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZv
L2ludGVsLWdmeA==

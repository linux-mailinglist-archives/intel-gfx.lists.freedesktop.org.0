Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 164EE2FD3A9
	for <lists+intel-gfx@lfdr.de>; Wed, 20 Jan 2021 16:15:16 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id C404589A61;
	Wed, 20 Jan 2021 15:15:13 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga05.intel.com (mga05.intel.com [192.55.52.43])
 by gabe.freedesktop.org (Postfix) with ESMTPS id A82D189A4B
 for <intel-gfx@lists.freedesktop.org>; Wed, 20 Jan 2021 15:15:12 +0000 (UTC)
IronPort-SDR: i4ofhvBUBA86V0zv4uFQdzmwmr/WooiGPik8hVEd9GsOpw+jGTqCII8eeZ2EJuhv5QSlfQENgx
 fNObDvZ4U7pA==
X-IronPort-AV: E=McAfee;i="6000,8403,9870"; a="263931244"
X-IronPort-AV: E=Sophos;i="5.79,361,1602572400"; d="scan'208";a="263931244"
Received: from orsmga002.jf.intel.com ([10.7.209.21])
 by fmsmga105.fm.intel.com with ESMTP/TLS/ECDHE-RSA-AES256-GCM-SHA384;
 20 Jan 2021 07:15:11 -0800
IronPort-SDR: WzIIPfRYZg/ipZwVSb3wZLQjXKwRXgTZ24KVyI9jxV/qhCbQ9G6bKOtlLpT9tIhM6ah6g/Fp/L
 JXD3l/JC4hIA==
X-IronPort-AV: E=Sophos;i="5.79,361,1602572400"; d="scan'208";a="366274406"
Received: from kuhongje-mobl5.amr.corp.intel.com (HELO
 josouza-mobl2.intel.com) ([10.251.145.99])
 by orsmga002-auth.jf.intel.com with ESMTP/TLS/ECDHE-RSA-AES256-GCM-SHA384;
 20 Jan 2021 07:15:09 -0800
From: =?UTF-8?q?Jos=C3=A9=20Roberto=20de=20Souza?= <jose.souza@intel.com>
To: intel-gfx@lists.freedesktop.org
Date: Wed, 20 Jan 2021 07:16:08 -0800
Message-Id: <20210120151611.132591-1-jose.souza@intel.com>
X-Mailer: git-send-email 2.30.0
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH 1/4] drm/i915: Nuke not needed members of
 dram_info
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

VmFsaWQsIHJhbmtzIGFuZCBiYW5kd2lkdGhfa2JwcyBhcmUgc2V0IGludG8gZHJhbV9pbmZvIGJ1
dCBhcmUgbm90CnVzZWQgYW55d2hlcmUgZWxzZSBzbyBudWtpbmcgaXQuCgpTaWduZWQtb2ZmLWJ5
OiBKb3PDqSBSb2JlcnRvIGRlIFNvdXphIDxqb3NlLnNvdXphQGludGVsLmNvbT4KLS0tCiBkcml2
ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2Rydi5jICAgfCAgNCArLS0KIGRyaXZlcnMvZ3B1L2RybS9p
OTE1L2k5MTVfZHJ2LmggICB8ICAzIC0tCiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9kcmFt
LmMgfCA0NyArKysrKysrLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAzIGZpbGVzIGNoYW5nZWQs
IDEyIGluc2VydGlvbnMoKyksIDQyIGRlbGV0aW9ucygtKQoKZGlmZiAtLWdpdCBhL2RyaXZlcnMv
Z3B1L2RybS9pOTE1L2k5MTVfZHJ2LmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2Rydi5j
CmluZGV4IGY1NjY2YjQ0ZWE5ZC4uYTFjYzYwZGU5OWYwIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dw
dS9kcm0vaTkxNS9pOTE1X2Rydi5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZHJ2
LmMKQEAgLTYwOSw4ICs2MDksOCBAQCBzdGF0aWMgaW50IGk5MTVfZHJpdmVyX2h3X3Byb2JlKHN0
cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdikKIAogCWludGVsX29wcmVnaW9uX3NldHVw
KGRldl9wcml2KTsKIAkvKgotCSAqIEZpbGwgdGhlIGRyYW0gc3RydWN0dXJlIHRvIGdldCB0aGUg
c3lzdGVtIHJhdyBiYW5kd2lkdGggYW5kCi0JICogZHJhbSBpbmZvLiBUaGlzIHdpbGwgYmUgdXNl
ZCBmb3IgbWVtb3J5IGxhdGVuY3kgY2FsY3VsYXRpb24uCisJICogRmlsbCB0aGUgZHJhbSBzdHJ1
Y3R1cmUgdG8gZ2V0IHRoZSBzeXN0ZW0gZHJhbSBpbmZvLiBUaGlzIHdpbGwgYmUKKwkgKiB1c2Vk
IGZvciBtZW1vcnkgbGF0ZW5jeSBjYWxjdWxhdGlvbi4KIAkgKi8KIAlpbnRlbF9kcmFtX2RldGVj
dChkZXZfcHJpdik7CiAKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZHJ2
LmggYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2Rydi5oCmluZGV4IDgzNzZjZmY1YmE4Ni4u
MjUwZTkyOTEwZmExIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2Rydi5o
CisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZHJ2LmgKQEAgLTExMzQsMTEgKzExMzQs
OCBAQCBzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSB7CiAJfSB3bTsKIAogCXN0cnVjdCBkcmFtX2lu
Zm8gewotCQlib29sIHZhbGlkOwogCQlib29sIGlzXzE2Z2JfZGltbTsKIAkJdTggbnVtX2NoYW5u
ZWxzOwotCQl1OCByYW5rczsKLQkJdTMyIGJhbmR3aWR0aF9rYnBzOwogCQlib29sIHN5bW1ldHJp
Y19tZW1vcnk7CiAJCWVudW0gaW50ZWxfZHJhbV90eXBlIHsKIAkJCUlOVEVMX0RSQU1fVU5LTk9X
TiwKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX2RyYW0uYyBiL2RyaXZl
cnMvZ3B1L2RybS9pOTE1L2ludGVsX2RyYW0uYwppbmRleCA0NzU0Mjk2YTI1MGUuLjY5NGZiZDhj
OWNkNCAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfZHJhbS5jCisrKyBi
L2RyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX2RyYW0uYwpAQCAtMjAxLDE3ICsyMDEsNyBAQCBz
a2xfZHJhbV9nZXRfY2hhbm5lbHNfaW5mbyhzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSkK
IAkJcmV0dXJuIC1FSU5WQUw7CiAJfQogCi0JLyoKLQkgKiBJZiBhbnkgb2YgdGhlIGNoYW5uZWwg
aXMgc2luZ2xlIHJhbmsgY2hhbm5lbCwgd29yc3QgY2FzZSBvdXRwdXQKLQkgKiB3aWxsIGJlIHNh
bWUgYXMgaWYgc2luZ2xlIHJhbmsgbWVtb3J5LCBzbyBjb25zaWRlciBzaW5nbGUgcmFuawotCSAq
IG1lbW9yeS4KLQkgKi8KLQlpZiAoY2gwLnJhbmtzID09IDEgfHwgY2gxLnJhbmtzID09IDEpCi0J
CWRyYW1faW5mby0+cmFua3MgPSAxOwotCWVsc2UKLQkJZHJhbV9pbmZvLT5yYW5rcyA9IG1heChj
aDAucmFua3MsIGNoMS5yYW5rcyk7Ci0KLQlpZiAoZHJhbV9pbmZvLT5yYW5rcyA9PSAwKSB7CisJ
aWYgKGNoMC5yYW5rcyA9PSAwICYmIGNoMS5yYW5rcyA9PSAwKSB7CiAJCWRybV9pbmZvKCZpOTE1
LT5kcm0sICJjb3VsZG4ndCBnZXQgbWVtb3J5IHJhbmsgaW5mb3JtYXRpb25cbiIpOwogCQlyZXR1
cm4gLUVJTlZBTDsKIAl9CkBAIC0yNjksMTYgKzI1OSwxMiBAQCBza2xfZ2V0X2RyYW1faW5mbyhz
dHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSkKIAltZW1fZnJlcV9raHogPSBESVZfUk9VTkRf
VVAoKHZhbCAmIFNLTF9SRVFfREFUQV9NQVNLKSAqCiAJCQkJICAgIFNLTF9NRU1PUllfRlJFUV9N
VUxUSVBMSUVSX0haLCAxMDAwKTsKIAotCWRyYW1faW5mby0+YmFuZHdpZHRoX2ticHMgPSBkcmFt
X2luZm8tPm51bV9jaGFubmVscyAqCi0JCW1lbV9mcmVxX2toeiAqIDg7Ci0KLQlpZiAoZHJhbV9p
bmZvLT5iYW5kd2lkdGhfa2JwcyA9PSAwKSB7CisJaWYgKGRyYW1faW5mby0+bnVtX2NoYW5uZWxz
ICogbWVtX2ZyZXFfa2h6ID09IDApIHsKIAkJZHJtX2luZm8oJmk5MTUtPmRybSwKIAkJCSAiQ291
bGRuJ3QgZ2V0IHN5c3RlbSBtZW1vcnkgYmFuZHdpZHRoXG4iKTsKIAkJcmV0dXJuIC1FSU5WQUw7
CiAJfQogCi0JZHJhbV9pbmZvLT52YWxpZCA9IHRydWU7CiAJcmV0dXJuIDA7CiB9CiAKQEAgLTM2
NSw3ICszNTEsNyBAQCBzdGF0aWMgaW50IGJ4dF9nZXRfZHJhbV9pbmZvKHN0cnVjdCBkcm1faTkx
NV9wcml2YXRlICppOTE1KQogCXN0cnVjdCBkcmFtX2luZm8gKmRyYW1faW5mbyA9ICZpOTE1LT5k
cmFtX2luZm87CiAJdTMyIGRyYW1fY2hhbm5lbHM7CiAJdTMyIG1lbV9mcmVxX2toeiwgdmFsOwot
CXU4IG51bV9hY3RpdmVfY2hhbm5lbHM7CisJdTggbnVtX2FjdGl2ZV9jaGFubmVscywgdmFsaWRf
cmFua3MgPSAwOwogCWludCBpOwogCiAJdmFsID0gaW50ZWxfdW5jb3JlX3JlYWQoJmk5MTUtPnVu
Y29yZSwgQlhUX1BfQ1JfTUNfQklPU19SRVFfMF8wXzApOwpAQCAtMzc1LDEwICszNjEsNyBAQCBz
dGF0aWMgaW50IGJ4dF9nZXRfZHJhbV9pbmZvKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICppOTE1
KQogCWRyYW1fY2hhbm5lbHMgPSB2YWwgJiBCWFRfRFJBTV9DSEFOTkVMX0FDVElWRV9NQVNLOwog
CW51bV9hY3RpdmVfY2hhbm5lbHMgPSBod2VpZ2h0MzIoZHJhbV9jaGFubmVscyk7CiAKLQkvKiBF
YWNoIGFjdGl2ZSBiaXQgcmVwcmVzZW50cyA0LWJ5dGUgY2hhbm5lbCAqLwotCWRyYW1faW5mby0+
YmFuZHdpZHRoX2ticHMgPSAobWVtX2ZyZXFfa2h6ICogbnVtX2FjdGl2ZV9jaGFubmVscyAqIDQp
OwotCi0JaWYgKGRyYW1faW5mby0+YmFuZHdpZHRoX2ticHMgPT0gMCkgeworCWlmIChtZW1fZnJl
cV9raHogKiBudW1fYWN0aXZlX2NoYW5uZWxzID09IDApIHsKIAkJZHJtX2luZm8oJmk5MTUtPmRy
bSwKIAkJCSAiQ291bGRuJ3QgZ2V0IHN5c3RlbSBtZW1vcnkgYmFuZHdpZHRoXG4iKTsKIAkJcmV0
dXJuIC1FSU5WQUw7CkBAIC00MTAsMjcgKzM5MywxOCBAQCBzdGF0aWMgaW50IGJ4dF9nZXRfZHJh
bV9pbmZvKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICppOTE1KQogCQkJICAgIGRpbW0uc2l6ZSwg
ZGltbS53aWR0aCwgZGltbS5yYW5rcywKIAkJCSAgICBpbnRlbF9kcmFtX3R5cGVfc3RyKHR5cGUp
KTsKIAotCQkvKgotCQkgKiBJZiBhbnkgb2YgdGhlIGNoYW5uZWwgaXMgc2luZ2xlIHJhbmsgY2hh
bm5lbCwKLQkJICogd29yc3QgY2FzZSBvdXRwdXQgd2lsbCBiZSBzYW1lIGFzIGlmIHNpbmdsZSBy
YW5rCi0JCSAqIG1lbW9yeSwgc28gY29uc2lkZXIgc2luZ2xlIHJhbmsgbWVtb3J5LgotCQkgKi8K
LQkJaWYgKGRyYW1faW5mby0+cmFua3MgPT0gMCkKLQkJCWRyYW1faW5mby0+cmFua3MgPSBkaW1t
LnJhbmtzOwotCQllbHNlIGlmIChkaW1tLnJhbmtzID09IDEpCi0JCQlkcmFtX2luZm8tPnJhbmtz
ID0gMTsKKwkJaWYgKHZhbGlkX3JhbmtzID09IDApCisJCQl2YWxpZF9yYW5rcyA9IGRpbW0ucmFu
a3M7CiAKIAkJaWYgKHR5cGUgIT0gSU5URUxfRFJBTV9VTktOT1dOKQogCQkJZHJhbV9pbmZvLT50
eXBlID0gdHlwZTsKIAl9CiAKLQlpZiAoZHJhbV9pbmZvLT50eXBlID09IElOVEVMX0RSQU1fVU5L
Tk9XTiB8fCBkcmFtX2luZm8tPnJhbmtzID09IDApIHsKKwlpZiAoZHJhbV9pbmZvLT50eXBlID09
IElOVEVMX0RSQU1fVU5LTk9XTiB8fCB2YWxpZF9yYW5rcyA9PSAwKSB7CiAJCWRybV9pbmZvKCZp
OTE1LT5kcm0sICJjb3VsZG4ndCBnZXQgbWVtb3J5IGluZm9ybWF0aW9uXG4iKTsKIAkJcmV0dXJu
IC1FSU5WQUw7CiAJfQogCi0JZHJhbV9pbmZvLT52YWxpZCA9IHRydWU7Ci0KIAlyZXR1cm4gMDsK
IH0KIApAQCAtNDU2LDExICs0MzAsMTAgQEAgdm9pZCBpbnRlbF9kcmFtX2RldGVjdChzdHJ1Y3Qg
ZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSkKIAlpZiAocmV0KQogCQlyZXR1cm47CiAKLQlkcm1fZGJn
X2ttcygmaTkxNS0+ZHJtLCAiRFJBTSBiYW5kd2lkdGg6ICV1IGtCcHMsIGNoYW5uZWxzOiAldVxu
IiwKLQkJICAgIGRyYW1faW5mby0+YmFuZHdpZHRoX2ticHMsIGRyYW1faW5mby0+bnVtX2NoYW5u
ZWxzKTsKKwlkcm1fZGJnX2ttcygmaTkxNS0+ZHJtLCAiRFJBTSBjaGFubmVsczogJXVcbiIsIGRy
YW1faW5mby0+bnVtX2NoYW5uZWxzKTsKIAotCWRybV9kYmdfa21zKCZpOTE1LT5kcm0sICJEUkFN
IHJhbmtzOiAldSwgMTZHYiBESU1NczogJXNcbiIsCi0JCSAgICBkcmFtX2luZm8tPnJhbmtzLCB5
ZXNubyhkcmFtX2luZm8tPmlzXzE2Z2JfZGltbSkpOworCWRybV9kYmdfa21zKCZpOTE1LT5kcm0s
ICJEUkFNIDE2R2IgRElNTXM6ICVzXG4iLAorCQkgICAgeWVzbm8oZHJhbV9pbmZvLT5pc18xNmdi
X2RpbW0pKTsKIH0KIAogc3RhdGljIHUzMiBnZW45X2VkcmFtX3NpemVfbWIoc3RydWN0IGRybV9p
OTE1X3ByaXZhdGUgKmk5MTUsIHUzMiBjYXApCi0tIAoyLjMwLjAKCl9fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCkludGVsLWdmeCBtYWlsaW5nIGxpc3QKSW50
ZWwtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9y
Zy9tYWlsbWFuL2xpc3RpbmZvL2ludGVsLWdmeAo=

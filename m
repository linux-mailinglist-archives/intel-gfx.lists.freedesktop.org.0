Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id EECD4B6FE0
	for <lists+intel-gfx@lfdr.de>; Thu, 19 Sep 2019 02:07:40 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 0BAFF73FB7;
	Thu, 19 Sep 2019 00:07:39 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga09.intel.com (mga09.intel.com [134.134.136.24])
 by gabe.freedesktop.org (Postfix) with ESMTPS id B6A8973FB7
 for <intel-gfx@lists.freedesktop.org>; Thu, 19 Sep 2019 00:07:33 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga003.jf.intel.com ([10.7.209.27])
 by orsmga102.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 18 Sep 2019 17:07:32 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.64,522,1559545200"; d="scan'208";a="189426732"
Received: from josouza-mobl.jf.intel.com (HELO josouza-MOBL.intel.com)
 ([10.24.9.135])
 by orsmga003.jf.intel.com with ESMTP; 18 Sep 2019 17:07:32 -0700
From: =?UTF-8?q?Jos=C3=A9=20Roberto=20de=20Souza?= <jose.souza@intel.com>
To: intel-gfx@lists.freedesktop.org
Date: Wed, 18 Sep 2019 17:07:15 -0700
Message-Id: <20190919000726.267988-3-jose.souza@intel.com>
X-Mailer: git-send-email 2.23.0
In-Reply-To: <20190919000726.267988-1-jose.souza@intel.com>
References: <20190919000726.267988-1-jose.souza@intel.com>
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH v2 02/13] drm/i915/tgl: Finish modular FIA
 support on registers
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: Lucas De Marchi <lucas.demarchi@intel.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

SWYgcGxhdGZvcm0gc3VwcG9ydHMgYW5kIGhhcyBtb2R1bGFyIEZJQSBpcyBlbmFibGVkLCB0aGUg
cmVnaXN0ZXJzCmJpdHMgYWxzbyBjaGFuZ2UsIGV4YW1wbGU6IHJlYWRpbmcgVEMzIHJlZ2lzdGVy
cyB3aXRoIG1vZHVsYXIgRklBCmVuYWJsZWQsIGRyaXZlciBzaG91bGQgcmVhZCBmcm9tIEZJQTIg
YnV0IHdpdGggVEMxIGJpdHMgb2Zmc2V0cy4KCkl0IGlzIGRlc2NyaWJlZCBpbiBCU3BlYyA1MDIz
MSBmb3IgREZMRVhEUFNQLCBvdGhlciByZWdpc3RlcnMgZG9uJ3QKaGF2ZSB0aGUgQlNwZWMgZGVz
Y3JpcHRpb24gYnV0IHRlc3RpbmcgaW4gcmVhbCBoYXJkd2FyZSBoYXZlIHByb3Zlbgp0aGF0IGl0
IGhhZCBtb3ZlZCBmb3IgYWxsIG90aGVyIHJlZ2lzdGVycyB0b28uCgp2MjoKLSBDYWNoaW5nIGlu
ZGV4IGluIHRjX3BoeV9maWFfaWR4LCBpbnN0ZWFkIG9mIGNhbGN1bGF0ZSBpdCBlYWNoIHRpbWUK
CkNjOiBMdWNhcyBEZSBNYXJjaGkgPGx1Y2FzLmRlbWFyY2hpQGludGVsLmNvbT4KU2lnbmVkLW9m
Zi1ieTogSm9zw6kgUm9iZXJ0byBkZSBTb3V6YSA8am9zZS5zb3V6YUBpbnRlbC5jb20+Ci0tLQog
Li4uL2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheV90eXBlcy5oICAgIHwgIDEgKwogZHJp
dmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF90Yy5jICAgICAgIHwgNDYgKysrKysrKysr
KystLS0tLS0tLQogZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF90Yy5oICAgICAg
IHwgIDEgKwogZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9yZWcuaCAgICAgICAgICAgICAgIHwg
MjggKysrKystLS0tLS0KIDQgZmlsZXMgY2hhbmdlZCwgNDMgaW5zZXJ0aW9ucygrKSwgMzMgZGVs
ZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRl
bF9kaXNwbGF5X3R5cGVzLmggYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rp
c3BsYXlfdHlwZXMuaAppbmRleCBkNWNjNGI4MTBkOWUuLmQyNThhNDhmNzdkMyAxMDA2NDQKLS0t
IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5X3R5cGVzLmgKKysr
IGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5X3R5cGVzLmgKQEAg
LTEyODUsNiArMTI4NSw3IEBAIHN0cnVjdCBpbnRlbF9kaWdpdGFsX3BvcnQgewogCWNoYXIgdGNf
cG9ydF9uYW1lWzhdOwogCWVudW0gdGNfcG9ydF9tb2RlIHRjX21vZGU7CiAJZW51bSBwaHlfZmlh
IHRjX3BoeV9maWE7CisJdTggdGNfcGh5X2ZpYV9pZHg7CiAKIAl2b2lkICgqd3JpdGVfaW5mb2Zy
YW1lKShzdHJ1Y3QgaW50ZWxfZW5jb2RlciAqZW5jb2RlciwKIAkJCQljb25zdCBzdHJ1Y3QgaW50
ZWxfY3J0Y19zdGF0ZSAqY3J0Y19zdGF0ZSwKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9p
OTE1L2Rpc3BsYXkvaW50ZWxfdGMuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50
ZWxfdGMuYwppbmRleCA4NTc0M2E0M2JlZTIuLjIwZmJiMDg0ODMwZSAxMDA2NDQKLS0tIGEvZHJp
dmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF90Yy5jCisrKyBiL2RyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2Rpc3BsYXkvaW50ZWxfdGMuYwpAQCAtNDUsMTAgKzQ1LDE5IEBAIHN0YXRpYyBlbnVt
IHBoeV9maWEgdGNfcG9ydF90b19maWEoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUsCiAJ
cmV0dXJuIHRjX3BvcnQgLyAyOwogfQogCitzdGF0aWMgdTgKK3RjX3BvcnRfdG9fZmlhX2lkeChz
dHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSwgZW51bSB0Y19wb3J0IHRjX3BvcnQpCit7CisJ
aWYgKCFoYXNfbW9kdWxhcl9maWEoaTkxNSkpCisJCXJldHVybiB0Y19wb3J0OworCisJLyogU2Vl
IHRjX3BvcnRfdG9fZmlhKCkgY29tbWVudCAqLworCXJldHVybiB0Y19wb3J0ICUgMjsKK30KKwog
dTMyIGludGVsX3RjX3BvcnRfZ2V0X2xhbmVfbWFzayhzdHJ1Y3QgaW50ZWxfZGlnaXRhbF9wb3J0
ICpkaWdfcG9ydCkKIHsKIAlzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSA9IHRvX2k5MTUo
ZGlnX3BvcnQtPmJhc2UuYmFzZS5kZXYpOwotCWVudW0gdGNfcG9ydCB0Y19wb3J0ID0gaW50ZWxf
cG9ydF90b190YyhpOTE1LCBkaWdfcG9ydC0+YmFzZS5wb3J0KTsKIAlzdHJ1Y3QgaW50ZWxfdW5j
b3JlICp1bmNvcmUgPSAmaTkxNS0+dW5jb3JlOwogCXUzMiBsYW5lX21hc2s7CiAKQEAgLTU3LDgg
KzY2LDggQEAgdTMyIGludGVsX3RjX3BvcnRfZ2V0X2xhbmVfbWFzayhzdHJ1Y3QgaW50ZWxfZGln
aXRhbF9wb3J0ICpkaWdfcG9ydCkKIAogCVdBUk5fT04obGFuZV9tYXNrID09IDB4ZmZmZmZmZmYp
OwogCi0JcmV0dXJuIChsYW5lX21hc2sgJiBEUF9MQU5FX0FTU0lHTk1FTlRfTUFTSyh0Y19wb3J0
KSkgPj4KLQkgICAgICAgRFBfTEFORV9BU1NJR05NRU5UX1NISUZUKHRjX3BvcnQpOworCXJldHVy
biAobGFuZV9tYXNrICYgRFBfTEFORV9BU1NJR05NRU5UX01BU0soZGlnX3BvcnQtPnRjX3BoeV9m
aWFfaWR4KSkgPj4KKwkgICAgICAgRFBfTEFORV9BU1NJR05NRU5UX1NISUZUKGRpZ19wb3J0LT50
Y19waHlfZmlhX2lkeCk7CiB9CiAKIGludCBpbnRlbF90Y19wb3J0X2ZpYV9tYXhfbGFuZV9jb3Vu
dChzdHJ1Y3QgaW50ZWxfZGlnaXRhbF9wb3J0ICpkaWdfcG9ydCkKQEAgLTk1LDcgKzEwNCw2IEBA
IHZvaWQgaW50ZWxfdGNfcG9ydF9zZXRfZmlhX2xhbmVfY291bnQoc3RydWN0IGludGVsX2RpZ2l0
YWxfcG9ydCAqZGlnX3BvcnQsCiAJCQkJICAgICAgaW50IHJlcXVpcmVkX2xhbmVzKQogewogCXN0
cnVjdCBkcm1faTkxNV9wcml2YXRlICppOTE1ID0gdG9faTkxNShkaWdfcG9ydC0+YmFzZS5iYXNl
LmRldik7Ci0JZW51bSB0Y19wb3J0IHRjX3BvcnQgPSBpbnRlbF9wb3J0X3RvX3RjKGk5MTUsIGRp
Z19wb3J0LT5iYXNlLnBvcnQpOwogCWJvb2wgbGFuZV9yZXZlcnNhbCA9IGRpZ19wb3J0LT5zYXZl
ZF9wb3J0X2JpdHMgJiBERElfQlVGX1BPUlRfUkVWRVJTQUw7CiAJc3RydWN0IGludGVsX3VuY29y
ZSAqdW5jb3JlID0gJmk5MTUtPnVuY29yZTsKIAl1MzIgdmFsOwpAQCAtMTA0LDE5ICsxMTIsMjEg
QEAgdm9pZCBpbnRlbF90Y19wb3J0X3NldF9maWFfbGFuZV9jb3VudChzdHJ1Y3QgaW50ZWxfZGln
aXRhbF9wb3J0ICpkaWdfcG9ydCwKIAogCXZhbCA9IGludGVsX3VuY29yZV9yZWFkKHVuY29yZSwK
IAkJCQlQT1JUX1RYX0RGTEVYRFBNTEUxKGRpZ19wb3J0LT50Y19waHlfZmlhKSk7Ci0JdmFsICY9
IH5ERkxFWERQTUxFMV9EUE1MRVRDX01BU0sodGNfcG9ydCk7CisJdmFsICY9IH5ERkxFWERQTUxF
MV9EUE1MRVRDX01BU0soZGlnX3BvcnQtPnRjX3BoeV9maWFfaWR4KTsKIAogCXN3aXRjaCAocmVx
dWlyZWRfbGFuZXMpIHsKIAljYXNlIDE6Ci0JCXZhbCB8PSBsYW5lX3JldmVyc2FsID8gREZMRVhE
UE1MRTFfRFBNTEVUQ19NTDModGNfcG9ydCkgOgotCQkJREZMRVhEUE1MRTFfRFBNTEVUQ19NTDAo
dGNfcG9ydCk7CisJCXZhbCB8PSBsYW5lX3JldmVyc2FsID8KKwkJCURGTEVYRFBNTEUxX0RQTUxF
VENfTUwzKGRpZ19wb3J0LT50Y19waHlfZmlhX2lkeCkgOgorCQkJREZMRVhEUE1MRTFfRFBNTEVU
Q19NTDAoZGlnX3BvcnQtPnRjX3BoeV9maWFfaWR4KTsKIAkJYnJlYWs7CiAJY2FzZSAyOgotCQl2
YWwgfD0gbGFuZV9yZXZlcnNhbCA/IERGTEVYRFBNTEUxX0RQTUxFVENfTUwzXzIodGNfcG9ydCkg
OgotCQkJREZMRVhEUE1MRTFfRFBNTEVUQ19NTDFfMCh0Y19wb3J0KTsKKwkJdmFsIHw9IGxhbmVf
cmV2ZXJzYWwgPworCQkJREZMRVhEUE1MRTFfRFBNTEVUQ19NTDNfMihkaWdfcG9ydC0+dGNfcGh5
X2ZpYV9pZHgpIDoKKwkJCURGTEVYRFBNTEUxX0RQTUxFVENfTUwxXzAoZGlnX3BvcnQtPnRjX3Bo
eV9maWFfaWR4KTsKIAkJYnJlYWs7CiAJY2FzZSA0OgotCQl2YWwgfD0gREZMRVhEUE1MRTFfRFBN
TEVUQ19NTDNfMCh0Y19wb3J0KTsKKwkJdmFsIHw9IERGTEVYRFBNTEUxX0RQTUxFVENfTUwzXzAo
ZGlnX3BvcnQtPnRjX3BoeV9maWFfaWR4KTsKIAkJYnJlYWs7CiAJZGVmYXVsdDoKIAkJTUlTU0lO
R19DQVNFKHJlcXVpcmVkX2xhbmVzKTsKQEAgLTE2NCw5ICsxNzQsOSBAQCBzdGF0aWMgdTMyIHRj
X3BvcnRfbGl2ZV9zdGF0dXNfbWFzayhzdHJ1Y3QgaW50ZWxfZGlnaXRhbF9wb3J0ICpkaWdfcG9y
dCkKIAkJcmV0dXJuIG1hc2s7CiAJfQogCi0JaWYgKHZhbCAmIFRDX0xJVkVfU1RBVEVfVEJUKHRj
X3BvcnQpKQorCWlmICh2YWwgJiBUQ19MSVZFX1NUQVRFX1RCVChkaWdfcG9ydC0+dGNfcGh5X2Zp
YV9pZHgpKQogCQltYXNrIHw9IEJJVChUQ19QT1JUX1RCVF9BTFQpOwotCWlmICh2YWwgJiBUQ19M
SVZFX1NUQVRFX1RDKHRjX3BvcnQpKQorCWlmICh2YWwgJiBUQ19MSVZFX1NUQVRFX1RDKGRpZ19w
b3J0LT50Y19waHlfZmlhX2lkeCkpCiAJCW1hc2sgfD0gQklUKFRDX1BPUlRfRFBfQUxUKTsKIAog
CWlmIChpbnRlbF91bmNvcmVfcmVhZCh1bmNvcmUsIFNERUlTUikgJiBTREVfVENfSE9UUExVR19J
Q1AodGNfcG9ydCkpCkBAIC0xODIsNyArMTkyLDYgQEAgc3RhdGljIHUzMiB0Y19wb3J0X2xpdmVf
c3RhdHVzX21hc2soc3RydWN0IGludGVsX2RpZ2l0YWxfcG9ydCAqZGlnX3BvcnQpCiBzdGF0aWMg
Ym9vbCBpY2xfdGNfcGh5X3N0YXR1c19jb21wbGV0ZShzdHJ1Y3QgaW50ZWxfZGlnaXRhbF9wb3J0
ICpkaWdfcG9ydCkKIHsKIAlzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSA9IHRvX2k5MTUo
ZGlnX3BvcnQtPmJhc2UuYmFzZS5kZXYpOwotCWVudW0gdGNfcG9ydCB0Y19wb3J0ID0gaW50ZWxf
cG9ydF90b190YyhpOTE1LCBkaWdfcG9ydC0+YmFzZS5wb3J0KTsKIAlzdHJ1Y3QgaW50ZWxfdW5j
b3JlICp1bmNvcmUgPSAmaTkxNS0+dW5jb3JlOwogCXUzMiB2YWw7CiAKQEAgLTE5NCwxNCArMjAz
LDEzIEBAIHN0YXRpYyBib29sIGljbF90Y19waHlfc3RhdHVzX2NvbXBsZXRlKHN0cnVjdCBpbnRl
bF9kaWdpdGFsX3BvcnQgKmRpZ19wb3J0KQogCQlyZXR1cm4gZmFsc2U7CiAJfQogCi0JcmV0dXJu
IHZhbCAmIERQX1BIWV9NT0RFX1NUQVRVU19DT01QTEVURUQodGNfcG9ydCk7CisJcmV0dXJuIHZh
bCAmIERQX1BIWV9NT0RFX1NUQVRVU19DT01QTEVURUQoZGlnX3BvcnQtPnRjX3BoeV9maWFfaWR4
KTsKIH0KIAogc3RhdGljIGJvb2wgaWNsX3RjX3BoeV9zZXRfc2FmZV9tb2RlKHN0cnVjdCBpbnRl
bF9kaWdpdGFsX3BvcnQgKmRpZ19wb3J0LAogCQkJCSAgICAgYm9vbCBlbmFibGUpCiB7CiAJc3Ry
dWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUgPSB0b19pOTE1KGRpZ19wb3J0LT5iYXNlLmJhc2Uu
ZGV2KTsKLQllbnVtIHRjX3BvcnQgdGNfcG9ydCA9IGludGVsX3BvcnRfdG9fdGMoaTkxNSwgZGln
X3BvcnQtPmJhc2UucG9ydCk7CiAJc3RydWN0IGludGVsX3VuY29yZSAqdW5jb3JlID0gJmk5MTUt
PnVuY29yZTsKIAl1MzIgdmFsOwogCkBAIC0yMTUsOSArMjIzLDkgQEAgc3RhdGljIGJvb2wgaWNs
X3RjX3BoeV9zZXRfc2FmZV9tb2RlKHN0cnVjdCBpbnRlbF9kaWdpdGFsX3BvcnQgKmRpZ19wb3J0
LAogCQlyZXR1cm4gZmFsc2U7CiAJfQogCi0JdmFsICY9IH5EUF9QSFlfTU9ERV9TVEFUVVNfTk9U
X1NBRkUodGNfcG9ydCk7CisJdmFsICY9IH5EUF9QSFlfTU9ERV9TVEFUVVNfTk9UX1NBRkUoZGln
X3BvcnQtPnRjX3BoeV9maWFfaWR4KTsKIAlpZiAoIWVuYWJsZSkKLQkJdmFsIHw9IERQX1BIWV9N
T0RFX1NUQVRVU19OT1RfU0FGRSh0Y19wb3J0KTsKKwkJdmFsIHw9IERQX1BIWV9NT0RFX1NUQVRV
U19OT1RfU0FGRShkaWdfcG9ydC0+dGNfcGh5X2ZpYV9pZHgpOwogCiAJaW50ZWxfdW5jb3JlX3dy
aXRlKHVuY29yZSwKIAkJCSAgIFBPUlRfVFhfREZMRVhEUENTU1MoZGlnX3BvcnQtPnRjX3BoeV9m
aWEpLCB2YWwpOwpAQCAtMjMyLDcgKzI0MCw2IEBAIHN0YXRpYyBib29sIGljbF90Y19waHlfc2V0
X3NhZmVfbW9kZShzdHJ1Y3QgaW50ZWxfZGlnaXRhbF9wb3J0ICpkaWdfcG9ydCwKIHN0YXRpYyBi
b29sIGljbF90Y19waHlfaXNfaW5fc2FmZV9tb2RlKHN0cnVjdCBpbnRlbF9kaWdpdGFsX3BvcnQg
KmRpZ19wb3J0KQogewogCXN0cnVjdCBkcm1faTkxNV9wcml2YXRlICppOTE1ID0gdG9faTkxNShk
aWdfcG9ydC0+YmFzZS5iYXNlLmRldik7Ci0JZW51bSB0Y19wb3J0IHRjX3BvcnQgPSBpbnRlbF9w
b3J0X3RvX3RjKGk5MTUsIGRpZ19wb3J0LT5iYXNlLnBvcnQpOwogCXN0cnVjdCBpbnRlbF91bmNv
cmUgKnVuY29yZSA9ICZpOTE1LT51bmNvcmU7CiAJdTMyIHZhbDsKIApAQCAtMjQ0LDcgKzI1MSw3
IEBAIHN0YXRpYyBib29sIGljbF90Y19waHlfaXNfaW5fc2FmZV9tb2RlKHN0cnVjdCBpbnRlbF9k
aWdpdGFsX3BvcnQgKmRpZ19wb3J0KQogCQlyZXR1cm4gdHJ1ZTsKIAl9CiAKLQlyZXR1cm4gISh2
YWwgJiBEUF9QSFlfTU9ERV9TVEFUVVNfTk9UX1NBRkUodGNfcG9ydCkpOworCXJldHVybiAhKHZh
bCAmIERQX1BIWV9NT0RFX1NUQVRVU19OT1RfU0FGRShkaWdfcG9ydC0+dGNfcGh5X2ZpYV9pZHgp
KTsKIH0KIAogLyoKQEAgLTU0MSw0ICs1NDgsNSBAQCB2b2lkIGludGVsX3RjX3BvcnRfaW5pdChz
dHJ1Y3QgaW50ZWxfZGlnaXRhbF9wb3J0ICpkaWdfcG9ydCwgYm9vbCBpc19sZWdhY3kpCiAJZGln
X3BvcnQtPnRjX2xlZ2FjeV9wb3J0ID0gaXNfbGVnYWN5OwogCWRpZ19wb3J0LT50Y19saW5rX3Jl
ZmNvdW50ID0gMDsKIAlkaWdfcG9ydC0+dGNfcGh5X2ZpYSA9IHRjX3BvcnRfdG9fZmlhKGk5MTUs
IHRjX3BvcnQpOworCWRpZ19wb3J0LT50Y19waHlfZmlhX2lkeCA9IHRjX3BvcnRfdG9fZmlhX2lk
eChpOTE1LCB0Y19wb3J0KTsKIH0KZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rp
c3BsYXkvaW50ZWxfdGMuaCBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfdGMu
aAppbmRleCA3ODNkNzU1MzE0MzUuLjk0NGQ4NGM4Y2NlMSAxMDA2NDQKLS0tIGEvZHJpdmVycy9n
cHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF90Yy5oCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1
L2Rpc3BsYXkvaW50ZWxfdGMuaApAQCAtMTAsNiArMTAsNyBAQAogI2luY2x1ZGUgPGxpbnV4L3R5
cGVzLmg+CiAKIHN0cnVjdCBpbnRlbF9kaWdpdGFsX3BvcnQ7CitzdHJ1Y3QgZHJtX2k5MTVfcHJp
dmF0ZTsKIAogYm9vbCBpbnRlbF90Y19wb3J0X2Nvbm5lY3RlZChzdHJ1Y3QgaW50ZWxfZGlnaXRh
bF9wb3J0ICpkaWdfcG9ydCk7CiB1MzIgaW50ZWxfdGNfcG9ydF9nZXRfbGFuZV9tYXNrKHN0cnVj
dCBpbnRlbF9kaWdpdGFsX3BvcnQgKmRpZ19wb3J0KTsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1
L2RybS9pOTE1L2k5MTVfcmVnLmggYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3JlZy5oCmlu
ZGV4IGJmMzdlY2ViYzgyZi4uZWU1NjI2NTc5MjYzIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9k
cm0vaTkxNS9pOTE1X3JlZy5oCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfcmVnLmgK
QEAgLTIxNjYsMTMgKzIxNjYsMTMgQEAgc3RhdGljIGlubGluZSBib29sIGk5MTVfbW1pb19yZWdf
dmFsaWQoaTkxNV9yZWdfdCByZWcpCiAjZGVmaW5lIF9NTUlPX0ZJQShmaWEsIG9mZikJCV9NTUlP
KF9GSUEoZmlhKSArIChvZmYpKQogCiAvKiBJQ0wgUEhZIERGTEVYIHJlZ2lzdGVycyAqLwotI2Rl
ZmluZSBQT1JUX1RYX0RGTEVYRFBNTEUxKGZpYSkJX01NSU9fRklBKChmaWEpLCAgMHgwMDhDMCkK
LSNkZWZpbmUgICBERkxFWERQTUxFMV9EUE1MRVRDX01BU0sodGNfcG9ydCkJKDB4ZiA8PCAoNCAq
ICh0Y19wb3J0KSkpCi0jZGVmaW5lICAgREZMRVhEUE1MRTFfRFBNTEVUQ19NTDAodGNfcG9ydCkJ
KDEgPDwgKDQgKiAodGNfcG9ydCkpKQotI2RlZmluZSAgIERGTEVYRFBNTEUxX0RQTUxFVENfTUwx
XzAodGNfcG9ydCkJKDMgPDwgKDQgKiAodGNfcG9ydCkpKQotI2RlZmluZSAgIERGTEVYRFBNTEUx
X0RQTUxFVENfTUwzKHRjX3BvcnQpCSg4IDw8ICg0ICogKHRjX3BvcnQpKSkKLSNkZWZpbmUgICBE
RkxFWERQTUxFMV9EUE1MRVRDX01MM18yKHRjX3BvcnQpCSgxMiA8PCAoNCAqICh0Y19wb3J0KSkp
Ci0jZGVmaW5lICAgREZMRVhEUE1MRTFfRFBNTEVUQ19NTDNfMCh0Y19wb3J0KQkoMTUgPDwgKDQg
KiAodGNfcG9ydCkpKQorI2RlZmluZSBQT1JUX1RYX0RGTEVYRFBNTEUxKGZpYSkJCV9NTUlPX0ZJ
QSgoZmlhKSwgIDB4MDA4QzApCisjZGVmaW5lICAgREZMRVhEUE1MRTFfRFBNTEVUQ19NQVNLKGlk
eCkJCSgweGYgPDwgKDQgKiAoaWR4KSkpCisjZGVmaW5lICAgREZMRVhEUE1MRTFfRFBNTEVUQ19N
TDAoaWR4KQkJKDEgPDwgKDQgKiAoaWR4KSkpCisjZGVmaW5lICAgREZMRVhEUE1MRTFfRFBNTEVU
Q19NTDFfMChpZHgpCSgzIDw8ICg0ICogKGlkeCkpKQorI2RlZmluZSAgIERGTEVYRFBNTEUxX0RQ
TUxFVENfTUwzKGlkeCkJCSg4IDw8ICg0ICogKGlkeCkpKQorI2RlZmluZSAgIERGTEVYRFBNTEUx
X0RQTUxFVENfTUwzXzIoaWR4KQkoMTIgPDwgKDQgKiAoaWR4KSkpCisjZGVmaW5lICAgREZMRVhE
UE1MRTFfRFBNTEVUQ19NTDNfMChpZHgpCSgxNSA8PCAoNCAqIChpZHgpKSkKIAogLyogQlhUIFBI
WSBSZWYgcmVnaXN0ZXJzICovCiAjZGVmaW5lIF9QT1JUX1JFRl9EVzNfQQkJCTB4MTYyMThDCkBA
IC0xMTY3MSwxNiArMTE2NzEsMTYgQEAgZW51bSBza2xfcG93ZXJfZ2F0ZSB7CiAKICNkZWZpbmUg
UE9SVF9UWF9ERkxFWERQU1AoZmlhKQkJCV9NTUlPX0ZJQSgoZmlhKSwgMHgwMDhBMCkKICNkZWZp
bmUgICBNT0RVTEFSX0ZJQV9NQVNLCQkJKDEgPDwgNCkKLSNkZWZpbmUgICBUQ19MSVZFX1NUQVRF
X1RCVCh0Y19wb3J0KQkJKDEgPDwgKCh0Y19wb3J0KSAqIDggKyA2KSkKLSNkZWZpbmUgICBUQ19M
SVZFX1NUQVRFX1RDKHRjX3BvcnQpCQkoMSA8PCAoKHRjX3BvcnQpICogOCArIDUpKQotI2RlZmlu
ZSAgIERQX0xBTkVfQVNTSUdOTUVOVF9TSElGVCh0Y19wb3J0KQkoKHRjX3BvcnQpICogOCkKLSNk
ZWZpbmUgICBEUF9MQU5FX0FTU0lHTk1FTlRfTUFTSyh0Y19wb3J0KQkoMHhmIDw8ICgodGNfcG9y
dCkgKiA4KSkKLSNkZWZpbmUgICBEUF9MQU5FX0FTU0lHTk1FTlQodGNfcG9ydCwgeCkJKCh4KSA8
PCAoKHRjX3BvcnQpICogOCkpCisjZGVmaW5lICAgVENfTElWRV9TVEFURV9UQlQoaWR4KQkJKDEg
PDwgKChpZHgpICogOCArIDYpKQorI2RlZmluZSAgIFRDX0xJVkVfU1RBVEVfVEMoaWR4KQkJCSgx
IDw8ICgoaWR4KSAqIDggKyA1KSkKKyNkZWZpbmUgICBEUF9MQU5FX0FTU0lHTk1FTlRfU0hJRlQo
aWR4KQkJKChpZHgpICogOCkKKyNkZWZpbmUgICBEUF9MQU5FX0FTU0lHTk1FTlRfTUFTSyhpZHgp
CQkoMHhmIDw8ICgoaWR4KSAqIDgpKQorI2RlZmluZSAgIERQX0xBTkVfQVNTSUdOTUVOVChpZHgs
IHgpCQkoKHgpIDw8ICgoaWR4KSAqIDgpKQogCiAjZGVmaW5lIFBPUlRfVFhfREZMRVhEUFBNUyhm
aWEpCQkJX01NSU9fRklBKChmaWEpLCAweDAwODkwKQotI2RlZmluZSAgIERQX1BIWV9NT0RFX1NU
QVRVU19DT01QTEVURUQodGNfcG9ydCkJCSgxIDw8ICh0Y19wb3J0KSkKKyNkZWZpbmUgICBEUF9Q
SFlfTU9ERV9TVEFUVVNfQ09NUExFVEVEKGlkeCkJKDEgPDwgKGlkeCkpCiAKICNkZWZpbmUgUE9S
VF9UWF9ERkxFWERQQ1NTUyhmaWEpCQlfTU1JT19GSUEoKGZpYSksIDB4MDA4OTQpCi0jZGVmaW5l
ICAgRFBfUEhZX01PREVfU1RBVFVTX05PVF9TQUZFKHRjX3BvcnQpCQkoMSA8PCAodGNfcG9ydCkp
CisjZGVmaW5lICAgRFBfUEhZX01PREVfU1RBVFVTX05PVF9TQUZFKGlkeCkJKDEgPDwgKGlkeCkp
CiAKICNlbmRpZiAvKiBfSTkxNV9SRUdfSF8gKi8KLS0gCjIuMjMuMAoKX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KSW50ZWwtZ2Z4IG1haWxpbmcgbGlzdApJ
bnRlbC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Au
b3JnL21haWxtYW4vbGlzdGluZm8vaW50ZWwtZ2Z4

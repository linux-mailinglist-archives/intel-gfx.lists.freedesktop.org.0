Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 1927DE2D0C
	for <lists+intel-gfx@lfdr.de>; Thu, 24 Oct 2019 11:20:03 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id EE80B6E1A7;
	Thu, 24 Oct 2019 09:20:00 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from fireflyinternet.com (mail.fireflyinternet.com [109.228.58.192])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 870036E1A5
 for <intel-gfx@lists.freedesktop.org>; Thu, 24 Oct 2019 09:19:59 +0000 (UTC)
X-Default-Received-SPF: pass (skip=forwardok (res=PASS))
 x-ip-name=78.156.65.138; 
Received: from haswell.alporthouse.com (unverified [78.156.65.138]) 
 by fireflyinternet.com (Firefly Internet (M1)) with ESMTP id 18946540-1500050 
 for <intel-gfx@lists.freedesktop.org>; Thu, 24 Oct 2019 10:19:55 +0100
From: Chris Wilson <chris@chris-wilson.co.uk>
To: intel-gfx@lists.freedesktop.org
Date: Thu, 24 Oct 2019 10:19:48 +0100
Message-Id: <20191024091954.18451-1-chris@chris-wilson.co.uk>
X-Mailer: git-send-email 2.24.0.rc0
MIME-Version: 1.0
Subject: [Intel-gfx] [CI 1/7] drm/i915: support creating LMEM objects
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

RnJvbTogTWF0dGhldyBBdWxkIDxtYXR0aGV3LmF1bGRAaW50ZWwuY29tPgoKV2UgY3VycmVudGx5
IGRlZmluZSBMTUVNLCBvciBsb2NhbCBtZW1vcnksIGFzIGp1c3QgYW5vdGhlciBtZW1vcnkKcmVn
aW9uLCBsaWtlIHN5c3RlbSBtZW1vcnkgb3Igc3RvbGVuLCB3aGljaCB3ZSBjYW4gZXhwb3NlIHRv
IHVzZXJzcGFjZQphbmQgY2FuIGJlIG1hcHBlZCB0byB0aGUgQ1BVIHZpYSBzb21lIEJBUi4KClNp
Z25lZC1vZmYtYnk6IE1hdHRoZXcgQXVsZCA8bWF0dGhldy5hdWxkQGludGVsLmNvbT4KQ2M6IEpv
b25hcyBMYWh0aW5lbiA8am9vbmFzLmxhaHRpbmVuQGxpbnV4LmludGVsLmNvbT4KQ2M6IEFiZGll
bCBKYW51bGd1ZSA8YWJkaWVsLmphbnVsZ3VlQGxpbnV4LmludGVsLmNvbT4KUmV2aWV3ZWQtYnk6
IENocmlzIFdpbHNvbiA8Y2hyaXNAY2hyaXMtd2lsc29uLmNvLnVrPgotLS0KIGRyaXZlcnMvZ3B1
L2RybS9pOTE1L01ha2VmaWxlICAgICAgICAgICAgICAgICB8ICAyICsKIGRyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2dlbS9pOTE1X2dlbV9sbWVtLmMgICAgICB8IDU3ICsrKysrKysrKysrKysrKysrKysK
IGRyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9sbWVtLmggICAgICB8IDI5ICsrKysr
KysrKysKIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZHJ2LmggICAgICAgICAgICAgICB8ICAz
ICsKIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX3JlZ2lvbl9sbWVtLmMgICAgICB8IDE2ICsr
KysrKwogZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfcmVnaW9uX2xtZW0uaCAgICAgIHwgMTEg
KysrKwogLi4uL2RybS9pOTE1L3NlbGZ0ZXN0cy9pOTE1X2xpdmVfc2VsZnRlc3RzLmggIHwgIDEg
KwogLi4uL2RybS9pOTE1L3NlbGZ0ZXN0cy9pbnRlbF9tZW1vcnlfcmVnaW9uLmMgIHwgNDAgKysr
KysrKysrKysrKwogOCBmaWxlcyBjaGFuZ2VkLCAxNTkgaW5zZXJ0aW9ucygrKQogY3JlYXRlIG1v
ZGUgMTAwNjQ0IGRyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9sbWVtLmMKIGNyZWF0
ZSBtb2RlIDEwMDY0NCBkcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fbG1lbS5oCiBj
cmVhdGUgbW9kZSAxMDA2NDQgZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfcmVnaW9uX2xtZW0u
YwogY3JlYXRlIG1vZGUgMTAwNjQ0IGRyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX3JlZ2lvbl9s
bWVtLmgKCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9NYWtlZmlsZSBiL2RyaXZl
cnMvZ3B1L2RybS9pOTE1L01ha2VmaWxlCmluZGV4IDIxNjAxYmIyN2IyMi4uZDRlNjRiZmMxMjAw
IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9NYWtlZmlsZQorKysgYi9kcml2ZXJz
L2dwdS9kcm0vaTkxNS9NYWtlZmlsZQpAQCAtMTE5LDYgKzExOSw3IEBAIGdlbS15ICs9IFwKIAln
ZW0vaTkxNV9nZW1faW50ZXJuYWwubyBcCiAJZ2VtL2k5MTVfZ2VtX29iamVjdC5vIFwKIAlnZW0v
aTkxNV9nZW1fb2JqZWN0X2JsdC5vIFwKKwlnZW0vaTkxNV9nZW1fbG1lbS5vIFwKIAlnZW0vaTkx
NV9nZW1fbW1hbi5vIFwKIAlnZW0vaTkxNV9nZW1fcGFnZXMubyBcCiAJZ2VtL2k5MTVfZ2VtX3Bo
eXMubyBcCkBAIC0xNDcsNiArMTQ4LDcgQEAgaTkxNS15ICs9IFwKIAkgIGk5MTVfc2NoZWR1bGVy
Lm8gXAogCSAgaTkxNV90cmFjZV9wb2ludHMubyBcCiAJICBpOTE1X3ZtYS5vIFwKKwkgIGludGVs
X3JlZ2lvbl9sbWVtLm8gXAogCSAgaW50ZWxfd29wY20ubwogCiAjIGdlbmVyYWwtcHVycG9zZSBt
aWNyb2NvbnRyb2xsZXIgKEd1Qykgc3VwcG9ydApkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJt
L2k5MTUvZ2VtL2k5MTVfZ2VtX2xtZW0uYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1
X2dlbV9sbWVtLmMKbmV3IGZpbGUgbW9kZSAxMDA2NDQKaW5kZXggMDAwMDAwMDAwMDAwLi4zYmVl
YzliMzhlODMKLS0tIC9kZXYvbnVsbAorKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkx
NV9nZW1fbG1lbS5jCkBAIC0wLDAgKzEsNTcgQEAKKy8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVy
OiBNSVQKKy8qCisgKiBDb3B5cmlnaHQgwqkgMjAxOSBJbnRlbCBDb3Jwb3JhdGlvbgorICovCisK
KyNpbmNsdWRlICJpbnRlbF9tZW1vcnlfcmVnaW9uLmgiCisjaW5jbHVkZSAiZ2VtL2k5MTVfZ2Vt
X3JlZ2lvbi5oIgorI2luY2x1ZGUgImdlbS9pOTE1X2dlbV9sbWVtLmgiCisjaW5jbHVkZSAiaTkx
NV9kcnYuaCIKKworY29uc3Qgc3RydWN0IGRybV9pOTE1X2dlbV9vYmplY3Rfb3BzIGk5MTVfZ2Vt
X2xtZW1fb2JqX29wcyA9IHsKKwkuZ2V0X3BhZ2VzID0gaTkxNV9nZW1fb2JqZWN0X2dldF9wYWdl
c19idWRkeSwKKwkucHV0X3BhZ2VzID0gaTkxNV9nZW1fb2JqZWN0X3B1dF9wYWdlc19idWRkeSwK
KwkucmVsZWFzZSA9IGk5MTVfZ2VtX29iamVjdF9yZWxlYXNlX21lbW9yeV9yZWdpb24sCit9Owor
Citib29sIGk5MTVfZ2VtX29iamVjdF9pc19sbWVtKHN0cnVjdCBkcm1faTkxNV9nZW1fb2JqZWN0
ICpvYmopCit7CisJcmV0dXJuIG9iai0+b3BzID09ICZpOTE1X2dlbV9sbWVtX29ial9vcHM7Cit9
CisKK3N0cnVjdCBkcm1faTkxNV9nZW1fb2JqZWN0ICoKK2k5MTVfZ2VtX29iamVjdF9jcmVhdGVf
bG1lbShzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSwKKwkJCSAgICByZXNvdXJjZV9zaXpl
X3Qgc2l6ZSwKKwkJCSAgICB1bnNpZ25lZCBpbnQgZmxhZ3MpCit7CisJcmV0dXJuIGk5MTVfZ2Vt
X29iamVjdF9jcmVhdGVfcmVnaW9uKGk5MTUtPm1tLnJlZ2lvbnNbSU5URUxfUkVHSU9OX0xNRU1d
LAorCQkJCQkgICAgIHNpemUsIGZsYWdzKTsKK30KKworIHN0cnVjdCBkcm1faTkxNV9nZW1fb2Jq
ZWN0ICoKK19faTkxNV9nZW1fbG1lbV9vYmplY3RfY3JlYXRlKHN0cnVjdCBpbnRlbF9tZW1vcnlf
cmVnaW9uICptZW0sCisJCQkgICAgICByZXNvdXJjZV9zaXplX3Qgc2l6ZSwKKwkJCSAgICAgIHVu
c2lnbmVkIGludCBmbGFncykKK3sKKwlzdGF0aWMgc3RydWN0IGxvY2tfY2xhc3Nfa2V5IGxvY2tf
Y2xhc3M7CisJc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUgPSBtZW0tPmk5MTU7CisJc3Ry
dWN0IGRybV9pOTE1X2dlbV9vYmplY3QgKm9iajsKKworCWlmIChzaXplID4gQklUKG1lbS0+bW0u
bWF4X29yZGVyKSAqIG1lbS0+bW0uY2h1bmtfc2l6ZSkKKwkJcmV0dXJuIEVSUl9QVFIoLUUyQklH
KTsKKworCW9iaiA9IGk5MTVfZ2VtX29iamVjdF9hbGxvYygpOworCWlmICghb2JqKQorCQlyZXR1
cm4gRVJSX1BUUigtRU5PTUVNKTsKKworCWRybV9nZW1fcHJpdmF0ZV9vYmplY3RfaW5pdCgmaTkx
NS0+ZHJtLCAmb2JqLT5iYXNlLCBzaXplKTsKKwlpOTE1X2dlbV9vYmplY3RfaW5pdChvYmosICZp
OTE1X2dlbV9sbWVtX29ial9vcHMsICZsb2NrX2NsYXNzKTsKKworCW9iai0+cmVhZF9kb21haW5z
ID0gSTkxNV9HRU1fRE9NQUlOX1dDIHwgSTkxNV9HRU1fRE9NQUlOX0dUVDsKKworCWk5MTVfZ2Vt
X29iamVjdF9zZXRfY2FjaGVfY29oZXJlbmN5KG9iaiwgSTkxNV9DQUNIRV9OT05FKTsKKworCWk5
MTVfZ2VtX29iamVjdF9pbml0X21lbW9yeV9yZWdpb24ob2JqLCBtZW0sIGZsYWdzKTsKKworCXJl
dHVybiBvYmo7Cit9CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9n
ZW1fbG1lbS5oIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX2xtZW0uaApuZXcg
ZmlsZSBtb2RlIDEwMDY0NAppbmRleCAwMDAwMDAwMDAwMDAuLmZjM2YxNTU4MGZlMwotLS0gL2Rl
di9udWxsCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9sbWVtLmgKQEAg
LTAsMCArMSwyOSBAQAorLyogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IE1JVCAqLworLyoKKyAq
IENvcHlyaWdodCDCqSAyMDE5IEludGVsIENvcnBvcmF0aW9uCisgKi8KKworI2lmbmRlZiBfX0k5
MTVfR0VNX0xNRU1fSAorI2RlZmluZSBfX0k5MTVfR0VNX0xNRU1fSAorCisjaW5jbHVkZSA8bGlu
dXgvdHlwZXMuaD4KKworc3RydWN0IGRybV9pOTE1X3ByaXZhdGU7CitzdHJ1Y3QgZHJtX2k5MTVf
Z2VtX29iamVjdDsKK3N0cnVjdCBpbnRlbF9tZW1vcnlfcmVnaW9uOworCitleHRlcm4gY29uc3Qg
c3RydWN0IGRybV9pOTE1X2dlbV9vYmplY3Rfb3BzIGk5MTVfZ2VtX2xtZW1fb2JqX29wczsKKwor
Ym9vbCBpOTE1X2dlbV9vYmplY3RfaXNfbG1lbShzdHJ1Y3QgZHJtX2k5MTVfZ2VtX29iamVjdCAq
b2JqKTsKKworc3RydWN0IGRybV9pOTE1X2dlbV9vYmplY3QgKgoraTkxNV9nZW1fb2JqZWN0X2Ny
ZWF0ZV9sbWVtKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICppOTE1LAorCQkJICAgIHJlc291cmNl
X3NpemVfdCBzaXplLAorCQkJICAgIHVuc2lnbmVkIGludCBmbGFncyk7CisKK3N0cnVjdCBkcm1f
aTkxNV9nZW1fb2JqZWN0ICoKK19faTkxNV9nZW1fbG1lbV9vYmplY3RfY3JlYXRlKHN0cnVjdCBp
bnRlbF9tZW1vcnlfcmVnaW9uICptZW0sCisJCQkgICAgICByZXNvdXJjZV9zaXplX3Qgc2l6ZSwK
KwkJCSAgICAgIHVuc2lnbmVkIGludCBmbGFncyk7CisKKyNlbmRpZiAvKiAhX19JOTE1X0dFTV9M
TUVNX0ggKi8KZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZHJ2LmggYi9k
cml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2Rydi5oCmluZGV4IDY3NGU5ZTkyMTgzOS4uNTU5M2Q0
MjQ1ZTQ2IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2Rydi5oCisrKyBi
L2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZHJ2LmgKQEAgLTEwMSw2ICsxMDEsOCBAQAogI2lu
Y2x1ZGUgImk5MTVfdm1hLmgiCiAjaW5jbHVkZSAiaTkxNV9pcnEuaCIKIAorI2luY2x1ZGUgImlu
dGVsX3JlZ2lvbl9sbWVtLmgiCisKICNpbmNsdWRlICJpbnRlbF9ndnQuaCIKIAogLyogR2VuZXJh
bCBjdXN0b21pemF0aW9uOgpAQCAtMTc4MSw2ICsxNzgzLDcgQEAgSVNfU1VCUExBVEZPUk0oY29u
c3Qgc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUsCiAjZGVmaW5lIEhBU19JUEMoZGV2X3By
aXYpCQkgKElOVEVMX0lORk8oZGV2X3ByaXYpLT5kaXNwbGF5Lmhhc19pcGMpCiAKICNkZWZpbmUg
SEFTX1JFR0lPTihpOTE1LCBpKSAoSU5URUxfSU5GTyhpOTE1KS0+bWVtb3J5X3JlZ2lvbnMgJiAo
aSkpCisjZGVmaW5lIEhBU19MTUVNKGk5MTUpIEhBU19SRUdJT04oaTkxNSwgUkVHSU9OX0xNRU0p
CiAKICNkZWZpbmUgSEFTX0dUX1VDKGRldl9wcml2KQkoSU5URUxfSU5GTyhkZXZfcHJpdiktPmhh
c19ndF91YykKIApkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfcmVnaW9u
X2xtZW0uYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX3JlZ2lvbl9sbWVtLmMKbmV3IGZp
bGUgbW9kZSAxMDA2NDQKaW5kZXggMDAwMDAwMDAwMDAwLi4xOTk1MzIwNTZlMWIKLS0tIC9kZXYv
bnVsbAorKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9yZWdpb25fbG1lbS5jCkBAIC0w
LDAgKzEsMTYgQEAKKy8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBNSVQKKy8qCisgKiBDb3B5
cmlnaHQgwqkgMjAxOSBJbnRlbCBDb3Jwb3JhdGlvbgorICovCisKKyNpbmNsdWRlICJpOTE1X2Ry
di5oIgorI2luY2x1ZGUgImludGVsX21lbW9yeV9yZWdpb24uaCIKKyNpbmNsdWRlICJnZW0vaTkx
NV9nZW1fbG1lbS5oIgorI2luY2x1ZGUgImdlbS9pOTE1X2dlbV9yZWdpb24uaCIKKyNpbmNsdWRl
ICJpbnRlbF9yZWdpb25fbG1lbS5oIgorCitjb25zdCBzdHJ1Y3QgaW50ZWxfbWVtb3J5X3JlZ2lv
bl9vcHMgaW50ZWxfcmVnaW9uX2xtZW1fb3BzID0geworCS5pbml0ID0gaW50ZWxfbWVtb3J5X3Jl
Z2lvbl9pbml0X2J1ZGR5LAorCS5yZWxlYXNlID0gaW50ZWxfbWVtb3J5X3JlZ2lvbl9yZWxlYXNl
X2J1ZGR5LAorCS5jcmVhdGVfb2JqZWN0ID0gX19pOTE1X2dlbV9sbWVtX29iamVjdF9jcmVhdGUs
Cit9OwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfcmVnaW9uX2xtZW0u
aCBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX3JlZ2lvbl9sbWVtLmgKbmV3IGZpbGUgbW9k
ZSAxMDA2NDQKaW5kZXggMDAwMDAwMDAwMDAwLi5lZDJhM2JhYjY0NDMKLS0tIC9kZXYvbnVsbAor
KysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9yZWdpb25fbG1lbS5oCkBAIC0wLDAgKzEs
MTEgQEAKKy8qIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBNSVQgKi8KKy8qCisgKiBDb3B5cmln
aHQgwqkgMjAxOSBJbnRlbCBDb3Jwb3JhdGlvbgorICovCisKKyNpZm5kZWYgX19JTlRFTF9SRUdJ
T05fTE1FTV9ICisjZGVmaW5lIF9fSU5URUxfUkVHSU9OX0xNRU1fSAorCitleHRlcm4gY29uc3Qg
c3RydWN0IGludGVsX21lbW9yeV9yZWdpb25fb3BzIGludGVsX3JlZ2lvbl9sbWVtX29wczsKKwor
I2VuZGlmIC8qICFfX0lOVEVMX1JFR0lPTl9MTUVNX0ggKi8KZGlmZiAtLWdpdCBhL2RyaXZlcnMv
Z3B1L2RybS9pOTE1L3NlbGZ0ZXN0cy9pOTE1X2xpdmVfc2VsZnRlc3RzLmggYi9kcml2ZXJzL2dw
dS9kcm0vaTkxNS9zZWxmdGVzdHMvaTkxNV9saXZlX3NlbGZ0ZXN0cy5oCmluZGV4IDAwYTA2Mzcz
MGJjMy4uNGIzY2FjNzNlMjkxIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9zZWxm
dGVzdHMvaTkxNV9saXZlX3NlbGZ0ZXN0cy5oCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L3Nl
bGZ0ZXN0cy9pOTE1X2xpdmVfc2VsZnRlc3RzLmgKQEAgLTMzLDYgKzMzLDcgQEAgc2VsZnRlc3Qo
Z2VtX2NvbnRleHRzLCBpOTE1X2dlbV9jb250ZXh0X2xpdmVfc2VsZnRlc3RzKQogc2VsZnRlc3Qo
Ymx0LCBpOTE1X2dlbV9vYmplY3RfYmx0X2xpdmVfc2VsZnRlc3RzKQogc2VsZnRlc3QoY2xpZW50
LCBpOTE1X2dlbV9jbGllbnRfYmx0X2xpdmVfc2VsZnRlc3RzKQogc2VsZnRlc3QocmVzZXQsIGlu
dGVsX3Jlc2V0X2xpdmVfc2VsZnRlc3RzKQorc2VsZnRlc3QobWVtb3J5X3JlZ2lvbiwgaW50ZWxf
bWVtb3J5X3JlZ2lvbl9saXZlX3NlbGZ0ZXN0cykKIHNlbGZ0ZXN0KGhhbmdjaGVjaywgaW50ZWxf
aGFuZ2NoZWNrX2xpdmVfc2VsZnRlc3RzKQogc2VsZnRlc3QoZXhlY2xpc3RzLCBpbnRlbF9leGVj
bGlzdHNfbGl2ZV9zZWxmdGVzdHMpCiBzZWxmdGVzdChndWMsIGludGVsX2d1Y19saXZlX3NlbGZ0
ZXN0KQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvc2VsZnRlc3RzL2ludGVsX21l
bW9yeV9yZWdpb24uYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L3NlbGZ0ZXN0cy9pbnRlbF9tZW1v
cnlfcmVnaW9uLmMKaW5kZXggNTYwOTFlN2U1OTllLi42MTdhMzVjZmFjMmYgMTAwNjQ0Ci0tLSBh
L2RyaXZlcnMvZ3B1L2RybS9pOTE1L3NlbGZ0ZXN0cy9pbnRlbF9tZW1vcnlfcmVnaW9uLmMKKysr
IGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvc2VsZnRlc3RzL2ludGVsX21lbW9yeV9yZWdpb24uYwpA
QCAtMTEsOCArMTEsMTAgQEAKICNpbmNsdWRlICJtb2NrX2dlbV9kZXZpY2UuaCIKICNpbmNsdWRl
ICJtb2NrX3JlZ2lvbi5oIgogCisjaW5jbHVkZSAiZ2VtL2k5MTVfZ2VtX2xtZW0uaCIKICNpbmNs
dWRlICJnZW0vaTkxNV9nZW1fcmVnaW9uLmgiCiAjaW5jbHVkZSAiZ2VtL3NlbGZ0ZXN0cy9tb2Nr
X2NvbnRleHQuaCIKKyNpbmNsdWRlICJndC9pbnRlbF9ndC5oIgogI2luY2x1ZGUgInNlbGZ0ZXN0
cy9pOTE1X3JhbmRvbS5oIgogCiBzdGF0aWMgdm9pZCBjbG9zZV9vYmplY3RzKHN0cnVjdCBpbnRl
bF9tZW1vcnlfcmVnaW9uICptZW0sCkBAIC0yNTIsNiArMjU0LDI3IEBAIHN0YXRpYyBpbnQgaWd0
X21vY2tfY29udGlndW91cyh2b2lkICphcmcpCiAJcmV0dXJuIGVycjsKIH0KIAorc3RhdGljIGlu
dCBpZ3RfbG1lbV9jcmVhdGUodm9pZCAqYXJnKQoreworCXN0cnVjdCBkcm1faTkxNV9wcml2YXRl
ICppOTE1ID0gYXJnOworCXN0cnVjdCBkcm1faTkxNV9nZW1fb2JqZWN0ICpvYmo7CisJaW50IGVy
ciA9IDA7CisKKwlvYmogPSBpOTE1X2dlbV9vYmplY3RfY3JlYXRlX2xtZW0oaTkxNSwgUEFHRV9T
SVpFLCAwKTsKKwlpZiAoSVNfRVJSKG9iaikpCisJCXJldHVybiBQVFJfRVJSKG9iaik7CisKKwll
cnIgPSBpOTE1X2dlbV9vYmplY3RfcGluX3BhZ2VzKG9iaik7CisJaWYgKGVycikKKwkJZ290byBv
dXRfcHV0OworCisJaTkxNV9nZW1fb2JqZWN0X3VucGluX3BhZ2VzKG9iaik7CitvdXRfcHV0Ogor
CWk5MTVfZ2VtX29iamVjdF9wdXQob2JqKTsKKworCXJldHVybiBlcnI7Cit9CisKIGludCBpbnRl
bF9tZW1vcnlfcmVnaW9uX21vY2tfc2VsZnRlc3RzKHZvaWQpCiB7CiAJc3RhdGljIGNvbnN0IHN0
cnVjdCBpOTE1X3N1YnRlc3QgdGVzdHNbXSA9IHsKQEAgLTI4MCwzICszMDMsMjAgQEAgaW50IGlu
dGVsX21lbW9yeV9yZWdpb25fbW9ja19zZWxmdGVzdHModm9pZCkKIAlkcm1fZGV2X3B1dCgmaTkx
NS0+ZHJtKTsKIAlyZXR1cm4gZXJyOwogfQorCitpbnQgaW50ZWxfbWVtb3J5X3JlZ2lvbl9saXZl
X3NlbGZ0ZXN0cyhzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSkKK3sKKwlzdGF0aWMgY29u
c3Qgc3RydWN0IGk5MTVfc3VidGVzdCB0ZXN0c1tdID0geworCQlTVUJURVNUKGlndF9sbWVtX2Ny
ZWF0ZSksCisJfTsKKworCWlmICghSEFTX0xNRU0oaTkxNSkpIHsKKwkJcHJfaW5mbygiZGV2aWNl
IGxhY2tzIExNRU0gc3VwcG9ydCwgc2tpcHBpbmdcbiIpOworCQlyZXR1cm4gMDsKKwl9CisKKwlp
ZiAoaW50ZWxfZ3RfaXNfd2VkZ2VkKCZpOTE1LT5ndCkpCisJCXJldHVybiAwOworCisJcmV0dXJu
IGk5MTVfbGl2ZV9zdWJ0ZXN0cyh0ZXN0cywgaTkxNSk7Cit9Ci0tIAoyLjI0LjAucmMwCgpfX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpJbnRlbC1nZnggbWFp
bGluZyBsaXN0CkludGVsLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5m
cmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9pbnRlbC1nZng=

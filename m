Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id EEA3010361E
	for <lists+intel-gfx@lfdr.de>; Wed, 20 Nov 2019 09:39:26 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 0A9656E056;
	Wed, 20 Nov 2019 08:39:25 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga11.intel.com (mga11.intel.com [192.55.52.93])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 39AF96E056
 for <intel-gfx@lists.freedesktop.org>; Wed, 20 Nov 2019 08:39:23 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga004.jf.intel.com ([10.7.209.38])
 by fmsmga102.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 20 Nov 2019 00:39:22 -0800
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.69,221,1571727600"; d="scan'208";a="357366779"
Received: from fmsmsx104.amr.corp.intel.com ([10.18.124.202])
 by orsmga004.jf.intel.com with ESMTP; 20 Nov 2019 00:39:22 -0800
Received: from fmsmsx608.amr.corp.intel.com (10.18.126.88) by
 fmsmsx104.amr.corp.intel.com (10.18.124.202) with Microsoft SMTP Server (TLS)
 id 14.3.439.0; Wed, 20 Nov 2019 00:39:21 -0800
Received: from fmsmsx608.amr.corp.intel.com (10.18.126.88) by
 fmsmsx608.amr.corp.intel.com (10.18.126.88) with Microsoft SMTP Server
 (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256) id
 15.1.1713.5; Wed, 20 Nov 2019 00:39:21 -0800
Received: from BGSMSX107.gar.corp.intel.com (10.223.4.191) by
 fmsmsx608.amr.corp.intel.com (10.18.126.88) with Microsoft SMTP Server
 (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256) id 15.1.1713.5
 via Frontend Transport; Wed, 20 Nov 2019 00:39:21 -0800
Received: from BGSMSX108.gar.corp.intel.com ([169.254.8.186]) by
 BGSMSX107.gar.corp.intel.com ([169.254.9.219]) with mapi id 14.03.0439.000;
 Wed, 20 Nov 2019 14:09:17 +0530
From: "Kulkarni, Vandita" <vandita.kulkarni@intel.com>
To: "Nikula, Jani" <jani.nikula@intel.com>, "intel-gfx@lists.freedesktop.org"
 <intel-gfx@lists.freedesktop.org>
Thread-Topic: [PATCH v2 10/10] drm/i915/dsi: add support for DSC
Thread-Index: AQHVm8o5DQDLMpCegEm9lnGViSr+gqeTvurw
Date: Wed, 20 Nov 2019 08:39:17 +0000
Message-ID: <57510F3E2013164E925CD03ED7512A3B809C0187@BGSMSX108.gar.corp.intel.com>
References: <cover.1573831924.git.jani.nikula@intel.com>
 <07e3cf54bf97c714019d36cee45f04e31496baf0.1573831924.git.jani.nikula@intel.com>
In-Reply-To: <07e3cf54bf97c714019d36cee45f04e31496baf0.1573831924.git.jani.nikula@intel.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-titus-metadata-40: eyJDYXRlZ29yeUxhYmVscyI6IiIsIk1ldGFkYXRhIjp7Im5zIjoiaHR0cDpcL1wvd3d3LnRpdHVzLmNvbVwvbnNcL0ludGVsMyIsImlkIjoiOWYzNjRkOWQtYTQwYi00MDc0LWFlODEtZWIzNjdiZDRlZDIxIiwicHJvcHMiOlt7Im4iOiJDVFBDbGFzc2lmaWNhdGlvbiIsInZhbHMiOlt7InZhbHVlIjoiQ1RQX05UIn1dfV19LCJTdWJqZWN0TGFiZWxzIjpbXSwiVE1DVmVyc2lvbiI6IjE3LjIuNS4xOCIsIlRydXN0ZWRMYWJlbEhhc2giOiJ3UXNkb09Md3FwNVwvNmFPMWRSVGVSemlUamdqUDlRWkl4cmZqRmNNaGZmVktCWHVoOG9tZGRXVmpSTStTdzBwciJ9
x-ctpclassification: CTP_NT
dlp-product: dlpe-windows
dlp-version: 11.2.0.6
dlp-reaction: no-action
x-originating-ip: [10.223.10.10]
MIME-Version: 1.0
Subject: Re: [Intel-gfx] [PATCH v2 10/10] drm/i915/dsi: add support for DSC
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: "Nikula, Jani" <jani.nikula@intel.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

Cj4gLS0tLS1PcmlnaW5hbCBNZXNzYWdlLS0tLS0KPiBGcm9tOiBKYW5pIE5pa3VsYSA8amFuaS5u
aWt1bGFAaW50ZWwuY29tPgo+IFNlbnQ6IEZyaWRheSwgTm92ZW1iZXIgMTUsIDIwMTkgOTowNCBQ
TQo+IFRvOiBpbnRlbC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCj4gQ2M6IE5pa3VsYSwgSmFu
aSA8amFuaS5uaWt1bGFAaW50ZWwuY29tPjsgS3Vsa2FybmksIFZhbmRpdGEKPiA8dmFuZGl0YS5r
dWxrYXJuaUBpbnRlbC5jb20+OyB2aWxsZS5zeXJqYWxhQGxpbnV4LmludGVsLmNvbQo+IFN1Ympl
Y3Q6IFtQQVRDSCB2MiAxMC8xMF0gZHJtL2k5MTUvZHNpOiBhZGQgc3VwcG9ydCBmb3IgRFNDCj4g
Cj4gRW5hYmxlIERTQyBmb3IgRFNJLCBpZiBzcGVjaWZpZWQgaW4gVkJULgo+IAo+IFRoaXMgaXMg
bm93IGV4Y2Vzc2l2ZWx5IGR5bmFtaWMsIGJlaW5nIGVuYWJsZWQgYXQgY29tcHV0ZSBjb25maWcu
IEkgZG9uJ3QKPiBleHBlY3QgdXMgdG8gbmVlZCB0byBzd2l0Y2ggYmV0d2VlbiBEU0MgYW5kIG5v
bi1EU0MgZm9yIHRoZSBzYW1lIHBhbmVsLgo+IENhcmdvIGN1bHRpbmcgdGhlIERQIERTQyBzaG93
cy4KPiAKPiBNb2RlIHZhbGlkIGxhY2tzIGEgc2Vuc2libGUgaW1wbGVtZW50YXRpb24sIGFzIGRv
ZXMgZ2V0IGNvbmZpZy4KPiAKPiB2MzogdGFrZSBjb21wcmVzc2VkIGJwcCBpbnRvIGFjY291bnQK
PiAKPiB2MjogTnVrZSBjb25uX3N0YXRlLT5tYXhfcmVxdWVzdGVkX2JwYywgaXQncyBub3QgdXNl
ZCBvbiBEU0kKPiAKPiBTaWduZWQtb2ZmLWJ5OiBKYW5pIE5pa3VsYSA8amFuaS5uaWt1bGFAaW50
ZWwuY29tPgo+IAo+IC0tLQo+IAo+IFRoZSBidXJzdCBtb2RlIHN0dWZmIHdydCBEU0MgYXJlIHN0
aWxsIHdoYXRldmVyLCBidXQgYXQgbGVhc3Qgd2Ugc2hvdWxkIGJlCj4gdGFraW5nIERTQyBiZXR0
ZXIgaW50byBhY2NvdW50IGluIHBvcnQgY2xvY2sgY2FsY3VsYXRpb25zLgo+IC0tLQo+ICBkcml2
ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ljbF9kc2kuYyB8IDExMyArKysrKysrKysrKysrKysr
KysrKy0tLS0tCj4gIDEgZmlsZSBjaGFuZ2VkLCA5NCBpbnNlcnRpb25zKCspLCAxOSBkZWxldGlv
bnMoLSkKPiAKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pY2xf
ZHNpLmMKPiBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaWNsX2RzaS5jCj4gaW5kZXgg
ZDU3NmYyOWNlZjc1Li5kYzg3MTM0ZjVjMjcgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJt
L2k5MTUvZGlzcGxheS9pY2xfZHNpLmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNw
bGF5L2ljbF9kc2kuYwo+IEBAIC0zNCw2ICszNCw3IEBACj4gICNpbmNsdWRlICJpbnRlbF9kZGku
aCIKPiAgI2luY2x1ZGUgImludGVsX2RzaS5oIgo+ICAjaW5jbHVkZSAiaW50ZWxfcGFuZWwuaCIK
PiArI2luY2x1ZGUgImludGVsX3Zkc2MuaCIKPiAKPiAgc3RhdGljIGlubGluZSBpbnQgaGVhZGVy
X2NyZWRpdHNfYXZhaWxhYmxlKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiwKPiAg
CQkJCQkgICBlbnVtIHRyYW5zY29kZXIgZHNpX3RyYW5zKQo+IEBAIC0zMDIsMTcgKzMwMywyMiBA
QCBzdGF0aWMgdm9pZCBjb25maWd1cmVfZHVhbF9saW5rX21vZGUoc3RydWN0Cj4gaW50ZWxfZW5j
b2RlciAqZW5jb2RlciwgIH0KPiAKPiAgLyogYWthIERTSSA4WCBjbG9jayAqLwo+IC1zdGF0aWMg
aW50IGFmZV9jbGsoc3RydWN0IGludGVsX2VuY29kZXIgKmVuY29kZXIpCj4gK3N0YXRpYyBpbnQg
YWZlX2NsayhzdHJ1Y3QgaW50ZWxfZW5jb2RlciAqZW5jb2RlciwKPiArCQkgICBjb25zdCBzdHJ1
Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqY3J0Y19zdGF0ZSkKPiAgewo+ICAJc3RydWN0IGludGVsX2Rz
aSAqaW50ZWxfZHNpID0gZW5jX3RvX2ludGVsX2RzaSgmZW5jb2Rlci0+YmFzZSk7Cj4gIAlpbnQg
YnBwOwo+IAo+IC0JYnBwID0gbWlwaV9kc2lfcGl4ZWxfZm9ybWF0X3RvX2JwcChpbnRlbF9kc2kt
PnBpeGVsX2Zvcm1hdCk7Cj4gKwlpZiAoY3J0Y19zdGF0ZS0+ZHNjLmNvbXByZXNzaW9uX2VuYWJs
ZSkKPiArCQlicHAgPSBjcnRjX3N0YXRlLT5kc2MuY29tcHJlc3NlZF9icHA7Cj4gKwllbHNlCj4g
KwkJYnBwID0gbWlwaV9kc2lfcGl4ZWxfZm9ybWF0X3RvX2JwcChpbnRlbF9kc2ktCj4gPnBpeGVs
X2Zvcm1hdCk7Cj4gCj4gIAlyZXR1cm4gRElWX1JPVU5EX0NMT1NFU1QoaW50ZWxfZHNpLT5wY2xr
ICogYnBwLCBpbnRlbF9kc2ktCj4gPmxhbmVfY291bnQpOyAgfQo+IAo+IC1zdGF0aWMgdm9pZCBn
ZW4xMV9kc2lfcHJvZ3JhbV9lc2NfY2xrX2RpdihzdHJ1Y3QgaW50ZWxfZW5jb2RlciAqZW5jb2Rl
cikKPiArc3RhdGljIHZvaWQgZ2VuMTFfZHNpX3Byb2dyYW1fZXNjX2Nsa19kaXYoc3RydWN0IGlu
dGVsX2VuY29kZXIgKmVuY29kZXIsCj4gKwkJCQkJICBjb25zdCBzdHJ1Y3QgaW50ZWxfY3J0Y19z
dGF0ZQo+ICpjcnRjX3N0YXRlKQo+ICB7Cj4gIAlzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2
X3ByaXYgPSB0b19pOTE1KGVuY29kZXItPmJhc2UuZGV2KTsKPiAgCXN0cnVjdCBpbnRlbF9kc2kg
KmludGVsX2RzaSA9IGVuY190b19pbnRlbF9kc2koJmVuY29kZXItPmJhc2UpOyBAQCAtCj4gMzIw
LDcgKzMyNiw3IEBAIHN0YXRpYyB2b2lkIGdlbjExX2RzaV9wcm9ncmFtX2VzY19jbGtfZGl2KHN0
cnVjdAo+IGludGVsX2VuY29kZXIgKmVuY29kZXIpCj4gIAlpbnQgYWZlX2Nsa19raHo7Cj4gIAl1
MzIgZXNjX2Nsa19kaXZfbTsKPiAKPiAtCWFmZV9jbGtfa2h6ID0gYWZlX2NsayhlbmNvZGVyKTsK
PiArCWFmZV9jbGtfa2h6ID0gYWZlX2NsayhlbmNvZGVyLCBjcnRjX3N0YXRlKTsKPiAgCWVzY19j
bGtfZGl2X20gPSBESVZfUk9VTkRfVVAoYWZlX2Nsa19raHosIERTSV9NQVhfRVNDX0NMSyk7Cj4g
Cj4gIAlmb3JfZWFjaF9kc2lfcG9ydChwb3J0LCBpbnRlbF9kc2ktPnBvcnRzKSB7IEBAIC00OTgs
NyArNTA0LDkgQEAKPiBzdGF0aWMgdm9pZCBnZW4xMV9kc2lfZW5hYmxlX2RkaV9idWZmZXIoc3Ry
dWN0IGludGVsX2VuY29kZXIgKmVuY29kZXIpCj4gIAl9Cj4gIH0KPiAKPiAtc3RhdGljIHZvaWQg
Z2VuMTFfZHNpX3NldHVwX2RwaHlfdGltaW5ncyhzdHJ1Y3QgaW50ZWxfZW5jb2RlciAqZW5jb2Rl
cikKPiArc3RhdGljIHZvaWQKPiArZ2VuMTFfZHNpX3NldHVwX2RwaHlfdGltaW5ncyhzdHJ1Y3Qg
aW50ZWxfZW5jb2RlciAqZW5jb2RlciwKPiArCQkJICAgICBjb25zdCBzdHJ1Y3QgaW50ZWxfY3J0
Y19zdGF0ZSAqY3J0Y19zdGF0ZSkKPiAgewo+ICAJc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRl
dl9wcml2ID0gdG9faTkxNShlbmNvZGVyLT5iYXNlLmRldik7Cj4gIAlzdHJ1Y3QgaW50ZWxfZHNp
ICppbnRlbF9kc2kgPSBlbmNfdG9faW50ZWxfZHNpKCZlbmNvZGVyLT5iYXNlKTsgQEAgLQo+IDUz
OSw3ICs1NDcsNyBAQCBzdGF0aWMgdm9pZCBnZW4xMV9kc2lfc2V0dXBfZHBoeV90aW1pbmdzKHN0
cnVjdAo+IGludGVsX2VuY29kZXIgKmVuY29kZXIpCj4gIAkgKiBsZWF2ZSBhbGwgZmllbGRzIGF0
IEhXIGRlZmF1bHQgdmFsdWVzLgo+ICAJICovCj4gIAlpZiAoSVNfR0VOKGRldl9wcml2LCAxMSkp
IHsKPiAtCQlpZiAoYWZlX2NsayhlbmNvZGVyKSA8PSA4MDAwMDApIHsKPiArCQlpZiAoYWZlX2Ns
ayhlbmNvZGVyLCBjcnRjX3N0YXRlKSA8PSA4MDAwMDApIHsKPiAgCQkJZm9yX2VhY2hfZHNpX3Bv
cnQocG9ydCwgaW50ZWxfZHNpLT5wb3J0cykgewo+ICAJCQkJdG1wID0KPiBJOTE1X1JFQUQoRFBI
WV9UQV9USU1JTkdfUEFSQU0ocG9ydCkpOwo+ICAJCQkJdG1wICY9IH5UQV9TVVJFX01BU0s7Cj4g
QEAgLTY0OSw3ICs2NTcsNyBAQCBnZW4xMV9kc2lfY29uZmlndXJlX3RyYW5zY29kZXIoc3RydWN0
IGludGVsX2VuY29kZXIKPiAqZW5jb2RlciwKPiAgCQkJdG1wIHw9IEVPVFBfRElTQUJMRUQ7Cj4g
Cj4gIAkJLyogZW5hYmxlIGxpbmsgY2FsaWJyYXRpb24gaWYgZnJlcSA+IDEuNUdicHMgKi8KPiAt
CQlpZiAoYWZlX2NsayhlbmNvZGVyKSA+PSAxNTAwICogMTAwMCkgewo+ICsJCWlmIChhZmVfY2xr
KGVuY29kZXIsIHBpcGVfY29uZmlnKSA+PSAxNTAwICogMTAwMCkgewo+ICAJCQl0bXAgJj0gfkxJ
TktfQ0FMSUJSQVRJT05fTUFTSzsKPiAgCQkJdG1wIHw9IENBTElCUkFUSU9OX0VOQUJMRURfSU5J
VElBTF9PTkxZOwo+ICAJCX0KPiBAQCAtOTE1LDcgKzkyMyw4IEBAIHN0YXRpYyB2b2lkIGdlbjEx
X2RzaV9lbmFibGVfdHJhbnNjb2RlcihzdHJ1Y3QKPiBpbnRlbF9lbmNvZGVyICplbmNvZGVyKQo+
ICAJfQo+ICB9Cj4gCj4gLXN0YXRpYyB2b2lkIGdlbjExX2RzaV9zZXR1cF90aW1lb3V0cyhzdHJ1
Y3QgaW50ZWxfZW5jb2RlciAqZW5jb2RlcikKPiArc3RhdGljIHZvaWQgZ2VuMTFfZHNpX3NldHVw
X3RpbWVvdXRzKHN0cnVjdCBpbnRlbF9lbmNvZGVyICplbmNvZGVyLAo+ICsJCQkJICAgICBjb25z
dCBzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqY3J0Y19zdGF0ZSkKPiAgewo+ICAJc3RydWN0IGRy
bV9pOTE1X3ByaXZhdGUgKmRldl9wcml2ID0gdG9faTkxNShlbmNvZGVyLT5iYXNlLmRldik7Cj4g
IAlzdHJ1Y3QgaW50ZWxfZHNpICppbnRlbF9kc2kgPSBlbmNfdG9faW50ZWxfZHNpKCZlbmNvZGVy
LT5iYXNlKTsgQEAgLQo+IDkzMCw3ICs5MzksNyBAQCBzdGF0aWMgdm9pZCBnZW4xMV9kc2lfc2V0
dXBfdGltZW91dHMoc3RydWN0IGludGVsX2VuY29kZXIKPiAqZW5jb2RlcikKPiAgCSAqIFRJTUVf
TlMgPSAoQllURV9DTEtfQ09VTlQgKiA4ICogMTBeNikvIEJpdHJhdGUKPiAgCSAqIEVTQ0FQRV9D
TEtfQ09VTlQgID0gVElNRV9OUy9FU0NfQ0xLX05TCj4gIAkgKi8KPiAtCWRpdmlzb3IgPSBpbnRl
bF9kc2lfdGxweF9ucyhpbnRlbF9kc2kpICogYWZlX2NsayhlbmNvZGVyKSAqIDEwMDA7Cj4gKwlk
aXZpc29yID0gaW50ZWxfZHNpX3RscHhfbnMoaW50ZWxfZHNpKSAqIGFmZV9jbGsoZW5jb2Rlciwg
Y3J0Y19zdGF0ZSkKPiArKiAxMDAwOwo+ICAJbXVsID0gOCAqIDEwMDAwMDA7Cj4gIAloc190eF90
aW1lb3V0ID0gRElWX1JPVU5EX1VQKGludGVsX2RzaS0+aHNfdHhfdGltZW91dCAqIG11bCwKPiAg
CQkJCSAgICAgZGl2aXNvcik7Cj4gQEAgLTk2Niw3ICs5NzUsNyBAQCBzdGF0aWMgdm9pZCBnZW4x
MV9kc2lfc2V0dXBfdGltZW91dHMoc3RydWN0Cj4gaW50ZWxfZW5jb2RlciAqZW5jb2RlcikKPiAK
PiAgc3RhdGljIHZvaWQKPiAgZ2VuMTFfZHNpX2VuYWJsZV9wb3J0X2FuZF9waHkoc3RydWN0IGlu
dGVsX2VuY29kZXIgKmVuY29kZXIsCj4gLQkJCSAgICAgIGNvbnN0IHN0cnVjdCBpbnRlbF9jcnRj
X3N0YXRlICpwaXBlX2NvbmZpZykKPiArCQkJICAgICAgY29uc3Qgc3RydWN0IGludGVsX2NydGNf
c3RhdGUgKmNydGNfc3RhdGUpCj4gIHsKPiAgCXN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZf
cHJpdiA9IHRvX2k5MTUoZW5jb2Rlci0+YmFzZS5kZXYpOwo+IAo+IEBAIC05ODMsMTMgKzk5Miwx
MyBAQCBnZW4xMV9kc2lfZW5hYmxlX3BvcnRfYW5kX3BoeShzdHJ1Y3QKPiBpbnRlbF9lbmNvZGVy
ICplbmNvZGVyLAo+ICAJZ2VuMTFfZHNpX2VuYWJsZV9kZGlfYnVmZmVyKGVuY29kZXIpOwo+IAo+
ICAJLyogc2V0dXAgRC1QSFkgdGltaW5ncyAqLwo+IC0JZ2VuMTFfZHNpX3NldHVwX2RwaHlfdGlt
aW5ncyhlbmNvZGVyKTsKPiArCWdlbjExX2RzaV9zZXR1cF9kcGh5X3RpbWluZ3MoZW5jb2Rlciwg
Y3J0Y19zdGF0ZSk7Cj4gCj4gIAkvKiBzdGVwIDRoOiBzZXR1cCBEU0kgcHJvdG9jb2wgdGltZW91
dHMgKi8KPiAtCWdlbjExX2RzaV9zZXR1cF90aW1lb3V0cyhlbmNvZGVyKTsKPiArCWdlbjExX2Rz
aV9zZXR1cF90aW1lb3V0cyhlbmNvZGVyLCBjcnRjX3N0YXRlKTsKPiAKPiAgCS8qIFN0ZXAgKDRo
LCA0aSwgNGosIDRrKTogQ29uZmlndXJlIHRyYW5zY29kZXIgKi8KPiAtCWdlbjExX2RzaV9jb25m
aWd1cmVfdHJhbnNjb2RlcihlbmNvZGVyLCBwaXBlX2NvbmZpZyk7Cj4gKwlnZW4xMV9kc2lfY29u
ZmlndXJlX3RyYW5zY29kZXIoZW5jb2RlciwgY3J0Y19zdGF0ZSk7Cj4gCj4gIAkvKiBTdGVwIDRs
OiBHYXRlIERESSBjbG9ja3MgKi8KPiAgCWlmIChJU19HRU4oZGV2X3ByaXYsIDExKSkKPiBAQCAt
MTAzNiwxNCArMTA0NSwxNCBAQCBzdGF0aWMgdm9pZCBnZW4xMV9kc2lfcG93ZXJ1cF9wYW5lbChz
dHJ1Y3QKPiBpbnRlbF9lbmNvZGVyICplbmNvZGVyKSAgfQo+IAo+ICBzdGF0aWMgdm9pZCBnZW4x
MV9kc2lfcHJlX3BsbF9lbmFibGUoc3RydWN0IGludGVsX2VuY29kZXIgKmVuY29kZXIsCj4gLQkJ
CQkgICAgIGNvbnN0IHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpwaXBlX2NvbmZpZywKPiArCQkJ
CSAgICAgY29uc3Qgc3RydWN0IGludGVsX2NydGNfc3RhdGUgKmNydGNfc3RhdGUsCj4gIAkJCQkg
ICAgIGNvbnN0IHN0cnVjdCBkcm1fY29ubmVjdG9yX3N0YXRlCj4gKmNvbm5fc3RhdGUpICB7Cj4g
IAkvKiBzdGVwMjogZW5hYmxlIElPIHBvd2VyICovCj4gIAlnZW4xMV9kc2lfZW5hYmxlX2lvX3Bv
d2VyKGVuY29kZXIpOwo+IAo+ICAJLyogc3RlcDM6IGVuYWJsZSBEU0kgUExMICovCj4gLQlnZW4x
MV9kc2lfcHJvZ3JhbV9lc2NfY2xrX2RpdihlbmNvZGVyKTsKPiArCWdlbjExX2RzaV9wcm9ncmFt
X2VzY19jbGtfZGl2KGVuY29kZXIsIGNydGNfc3RhdGUpOwo+ICB9Cj4gCj4gIHN0YXRpYyB2b2lk
IGdlbjExX2RzaV9wcmVfZW5hYmxlKHN0cnVjdCBpbnRlbF9lbmNvZGVyICplbmNvZGVyLCBAQCAt
Cj4gMTA2MSw2ICsxMDcwLDkgQEAgc3RhdGljIHZvaWQgZ2VuMTFfZHNpX3ByZV9lbmFibGUoc3Ry
dWN0IGludGVsX2VuY29kZXIKPiAqZW5jb2RlciwKPiAgCS8qIHN0ZXA1OiBwcm9ncmFtIGFuZCBw
b3dlcnVwIHBhbmVsICovCj4gIAlnZW4xMV9kc2lfcG93ZXJ1cF9wYW5lbChlbmNvZGVyKTsKPiAK
PiArCS8qIEZJWE1FOiBsb2NhdGlvbj8gKi8KPiArCWludGVsX2RzY19lbmFibGUoZW5jb2Rlciwg
cGlwZV9jb25maWcpOwo+ICsKPiAgCS8qIHN0ZXA2YzogY29uZmlndXJlIHRyYW5zY29kZXIgdGlt
aW5ncyAqLwo+ICAJZ2VuMTFfZHNpX3NldF90cmFuc2NvZGVyX3RpbWluZ3MoZW5jb2RlciwgcGlw
ZV9jb25maWcpOwo+IAo+IEBAIC0xMjIyLDYgKzEyMzQsMTMgQEAgc3RhdGljIHZvaWQgZ2VuMTFf
ZHNpX2Rpc2FibGUoc3RydWN0Cj4gaW50ZWxfZW5jb2RlciAqZW5jb2RlciwKPiAgCWdlbjExX2Rz
aV9kaXNhYmxlX2lvX3Bvd2VyKGVuY29kZXIpOwo+ICB9Cj4gCj4gK3N0YXRpYyBlbnVtIGRybV9t
b2RlX3N0YXR1cyBnZW4xMV9kc2lfbW9kZV92YWxpZChzdHJ1Y3QKPiBkcm1fY29ubmVjdG9yICpj
b25uZWN0b3IsCj4gKwkJCQkJCSBzdHJ1Y3QgZHJtX2Rpc3BsYXlfbW9kZQo+ICptb2RlKQo+ICt7
Cj4gKwkvKiBGSVhNRTogRFNDPyAqLwo+ICsJcmV0dXJuIGludGVsX2RzaV9tb2RlX3ZhbGlkKGNv
bm5lY3RvciwgbW9kZSk7IH0KPiArCj4gIHN0YXRpYyB2b2lkIGdlbjExX2RzaV9nZXRfdGltaW5n
cyhzdHJ1Y3QgaW50ZWxfZW5jb2RlciAqZW5jb2RlciwKPiAgCQkJCSAgc3RydWN0IGludGVsX2Ny
dGNfc3RhdGUgKnBpcGVfY29uZmlnKSAgeyBAQCAtCj4gMTI2OSw2ICsxMjg4LDUzIEBAIHN0YXRp
YyB2b2lkIGdlbjExX2RzaV9nZXRfY29uZmlnKHN0cnVjdCBpbnRlbF9lbmNvZGVyCj4gKmVuY29k
ZXIsCj4gIAlwaXBlX2NvbmZpZy0+cGlwZV9icHAgPSBiZHdfZ2V0X3BpcGVtaXNjX2JwcChjcnRj
KTsgIH0KPiAKPiArc3RhdGljIGludCBnZW4xMV9kc2lfZHNjX2NvbXB1dGVfY29uZmlnKHN0cnVj
dCBpbnRlbF9lbmNvZGVyICplbmNvZGVyLAo+ICsJCQkJCXN0cnVjdCBpbnRlbF9jcnRjX3N0YXRl
ICpwaXBlX2NvbmZpZykgewo+ICsJc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2ID0g
dG9faTkxNShlbmNvZGVyLT5iYXNlLmRldik7Cj4gKwlzdHJ1Y3QgZHJtX2RzY19jb25maWcgKnZk
c2NfY2ZnID0gJnBpcGVfY29uZmlnLT5kc2MuY29uZmlnOwo+ICsJc3RydWN0IGRybV9kaXNwbGF5
X21vZGUgKmFkanVzdGVkX21vZGUgPSAmcGlwZV9jb25maWctCj4gPmh3LmFkanVzdGVkX21vZGU7
Cj4gKwlpbnQgZHNjX21heF9icGMgPSBJTlRFTF9HRU4oZGV2X3ByaXYpID49IDEyID8gMTIgOiAx
MDsKPiArCWJvb2wgdXNlX2RzYzsKPiArCWludCByZXQ7Cj4gKwo+ICsJdXNlX2RzYyA9IGludGVs
X2Jpb3NfZ2V0X2RzY19wYXJhbXMoZW5jb2RlciwgcGlwZV9jb25maWcsCj4gZHNjX21heF9icGMp
Owo+ICsJaWYgKCF1c2VfZHNjKQo+ICsJCXJldHVybiAwOwo+ICsKPiArCWlmIChwaXBlX2NvbmZp
Zy0+cGlwZV9icHAgPCA4ICogMykKPiArCQlyZXR1cm4gLUVJTlZBTDsKPiArCj4gKwlpZiAoYWRq
dXN0ZWRfbW9kZS0+Y3J0Y19jbG9jayA+IGRldl9wcml2LT5tYXhfY2RjbGtfZnJlcSkgewo+ICsJ
CWlmIChwaXBlX2NvbmZpZy0+ZHNjLnNsaWNlX2NvdW50ID4gMSkgewo+ICsJCQlwaXBlX2NvbmZp
Zy0+ZHNjLmRzY19zcGxpdCA9IHRydWU7Cj4gKwkJfSBlbHNlIHsKPiArCQkJRFJNX0RFQlVHX0tN
UygiQ2Fubm90IHNwbGl0IHN0cmVhbSB0byB1c2UgMgo+IFZEU0MgaW5zdGFuY2VzXG4iKTsKPiAr
CQkJcmV0dXJuIC1FSU5WQUw7Cj4gKwkJfQo+ICsJfQo+ICsKPiArCXZkc2NfY2ZnLT5jb252ZXJ0
X3JnYiA9IGZhbHNlOwo+ICsKPiArCXJldCA9IGludGVsX2RzY19jb21wdXRlX3BhcmFtcyhlbmNv
ZGVyLCBwaXBlX2NvbmZpZyk7Cj4gKwlpZiAocmV0KQo+ICsJCXJldHVybiByZXQ7Cj4gKwo+ICsJ
LyogRFNJIHNwZWNpZmljIHNhbml0eSBjaGVja3Mgb24gdGhlIGNvbW1vbiBjb2RlICovCj4gKwlX
QVJOX09OKHZkc2NfY2ZnLT52YnJfZW5hYmxlKTsKPiArCVdBUk5fT04odmRzY19jZmctPnBpY193
aWR0aCAlIHZkc2NfY2ZnLT5zbGljZV93aWR0aCk7Cj4gKwlXQVJOX09OKHZkc2NfY2ZnLT5zbGlj
ZV9oZWlnaHQgPCA4KTsKPiArCVdBUk5fT04odmRzY19jZmctPnBpY19oZWlnaHQgJSB2ZHNjX2Nm
Zy0+c2xpY2VfaGVpZ2h0KTsKPiArCj4gKwlyZXQgPSBkcm1fZHNjX2NvbXB1dGVfcmNfcGFyYW1l
dGVycyh2ZHNjX2NmZyk7Cj4gKwlpZiAocmV0KQo+ICsJCXJldHVybiByZXQ7Cj4gKwo+ICsJcGlw
ZV9jb25maWctPmRzYy5jb21wcmVzc2lvbl9lbmFibGUgPSB0cnVlOwo+ICsKPiArCXJldHVybiAw
Owo+ICt9Cj4gKwo+ICBzdGF0aWMgaW50IGdlbjExX2RzaV9jb21wdXRlX2NvbmZpZyhzdHJ1Y3Qg
aW50ZWxfZW5jb2RlciAqZW5jb2RlciwKPiAgCQkJCSAgICBzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0
ZSAqcGlwZV9jb25maWcsCj4gIAkJCQkgICAgc3RydWN0IGRybV9jb25uZWN0b3Jfc3RhdGUgKmNv
bm5fc3RhdGUpCj4gQEAgLTEzMDAsNyArMTM2NiwxMSBAQCBzdGF0aWMgaW50IGdlbjExX2RzaV9j
b21wdXRlX2NvbmZpZyhzdHJ1Y3QKPiBpbnRlbF9lbmNvZGVyICplbmNvZGVyLAo+ICAJCXBpcGVf
Y29uZmlnLT5waXBlX2JwcCA9IDE4OwoKVFJBTlNfRFNJX0ZVTkNfQ09ORiByZWdpc3RlciBuZWVk
cyB0byBiZSB1cGRhdGVkIHdpdGggcGl4ZWwgZm9ybWF0IGFzIGNvbXByZXNzZWQoMHg2KQpTaG91
bGQgd2UgYmUgaGF2aW5nIHBpcGVfY29uZmlnLT5vdXRwdXRfZm9ybWF0ID0gY29tcHJlc3NlZCA/
CgpUaGFua3MsClZhbmRpdGEKPiAKPiAgCXBpcGVfY29uZmlnLT5jbG9ja19zZXQgPSB0cnVlOwo+
IC0JcGlwZV9jb25maWctPnBvcnRfY2xvY2sgPSBhZmVfY2xrKGVuY29kZXIpIC8gNTsKPiArCj4g
KwlpZiAoZ2VuMTFfZHNpX2RzY19jb21wdXRlX2NvbmZpZyhlbmNvZGVyLCBwaXBlX2NvbmZpZykp
Cj4gKwkJRFJNX0RFQlVHX0tNUygiQXR0ZW1wdGluZyB0byB1c2UgRFNDIGZhaWxlZFxuIik7Cj4g
Kwo+ICsJcGlwZV9jb25maWctPnBvcnRfY2xvY2sgPSBhZmVfY2xrKGVuY29kZXIsIHBpcGVfY29u
ZmlnKSAvIDU7Cj4gCj4gIAlyZXR1cm4gMDsKPiAgfQo+IEBAIC0xMzA4LDggKzEzNzgsMTMgQEAg
c3RhdGljIGludCBnZW4xMV9kc2lfY29tcHV0ZV9jb25maWcoc3RydWN0Cj4gaW50ZWxfZW5jb2Rl
ciAqZW5jb2RlciwgIHN0YXRpYyB2b2lkIGdlbjExX2RzaV9nZXRfcG93ZXJfZG9tYWlucyhzdHJ1
Y3QKPiBpbnRlbF9lbmNvZGVyICplbmNvZGVyLAo+ICAJCQkJCXN0cnVjdCBpbnRlbF9jcnRjX3N0
YXRlICpjcnRjX3N0YXRlKSAgewo+IC0JZ2V0X2RzaV9pb19wb3dlcl9kb21haW5zKHRvX2k5MTUo
ZW5jb2Rlci0+YmFzZS5kZXYpLAo+IC0JCQkJIGVuY190b19pbnRlbF9kc2koJmVuY29kZXItPmJh
c2UpKTsKPiArCXN0cnVjdCBkcm1faTkxNV9wcml2YXRlICppOTE1ID0gdG9faTkxNShlbmNvZGVy
LT5iYXNlLmRldik7Cj4gKwo+ICsJZ2V0X2RzaV9pb19wb3dlcl9kb21haW5zKGk5MTUsIGVuY190
b19pbnRlbF9kc2koJmVuY29kZXItCj4gPmJhc2UpKTsKPiArCj4gKwlpZiAoY3J0Y19zdGF0ZS0+
ZHNjLmNvbXByZXNzaW9uX2VuYWJsZSkKPiArCQlpbnRlbF9kaXNwbGF5X3Bvd2VyX2dldChpOTE1
LAo+ICsKPiAJaW50ZWxfZHNjX3Bvd2VyX2RvbWFpbihjcnRjX3N0YXRlKSk7Cj4gIH0KPiAKPiAg
c3RhdGljIGJvb2wgZ2VuMTFfZHNpX2dldF9od19zdGF0ZShzdHJ1Y3QgaW50ZWxfZW5jb2RlciAq
ZW5jb2RlciwgQEAgLQo+IDEzNzksNyArMTQ1NCw3IEBAIHN0YXRpYyBjb25zdCBzdHJ1Y3QgZHJt
X2Nvbm5lY3Rvcl9mdW5jcwo+IGdlbjExX2RzaV9jb25uZWN0b3JfZnVuY3MgPSB7Cj4gCj4gIHN0
YXRpYyBjb25zdCBzdHJ1Y3QgZHJtX2Nvbm5lY3Rvcl9oZWxwZXJfZnVuY3MKPiBnZW4xMV9kc2lf
Y29ubmVjdG9yX2hlbHBlcl9mdW5jcyA9IHsKPiAgCS5nZXRfbW9kZXMgPSBpbnRlbF9kc2lfZ2V0
X21vZGVzLAo+IC0JLm1vZGVfdmFsaWQgPSBpbnRlbF9kc2lfbW9kZV92YWxpZCwKPiArCS5tb2Rl
X3ZhbGlkID0gZ2VuMTFfZHNpX21vZGVfdmFsaWQsCj4gIAkuYXRvbWljX2NoZWNrID0gaW50ZWxf
ZGlnaXRhbF9jb25uZWN0b3JfYXRvbWljX2NoZWNrLAo+ICB9Owo+IAo+IC0tCj4gMi4yMC4xCgpf
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpJbnRlbC1nZngg
bWFpbGluZyBsaXN0CkludGVsLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0
cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9pbnRlbC1nZng=

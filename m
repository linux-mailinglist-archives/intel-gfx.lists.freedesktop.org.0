Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 6B31B6C192
	for <lists+intel-gfx@lfdr.de>; Wed, 17 Jul 2019 21:37:53 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id D562A6E294;
	Wed, 17 Jul 2019 19:37:51 +0000 (UTC)
X-Original-To: Intel-gfx@lists.freedesktop.org
Delivered-To: Intel-gfx@lists.freedesktop.org
Received: from fireflyinternet.com (mail.fireflyinternet.com [109.228.58.192])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 212436E294
 for <Intel-gfx@lists.freedesktop.org>; Wed, 17 Jul 2019 19:37:50 +0000 (UTC)
X-Default-Received-SPF: pass (skip=forwardok (res=PASS))
 x-ip-name=78.156.65.138; 
Received: from localhost (unverified [78.156.65.138]) 
 by fireflyinternet.com (Firefly Internet (M1)) with ESMTP (TLS) id
 17379058-1500050 for multiple; Wed, 17 Jul 2019 20:37:45 +0100
MIME-Version: 1.0
From: Chris Wilson <chris@chris-wilson.co.uk>
User-Agent: alot/0.6
To: Intel-gfx@lists.freedesktop.org,
 Tvrtko Ursulin <tvrtko.ursulin@linux.intel.com>
References: <20190717180624.20354-1-tvrtko.ursulin@linux.intel.com>
 <20190717180624.20354-5-tvrtko.ursulin@linux.intel.com>
In-Reply-To: <20190717180624.20354-5-tvrtko.ursulin@linux.intel.com>
Message-ID: <156339226356.25270.1323396457259554393@skylake-alporthouse-com>
Date: Wed, 17 Jul 2019 20:37:43 +0100
Subject: Re: [Intel-gfx] [PATCH 4/6] drm/i915: Skip CS verification of L3
 bank registers
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

UXVvdGluZyBUdnJ0a28gVXJzdWxpbiAoMjAxOS0wNy0xNyAxOTowNjoyMikKPiBGcm9tOiBUdnJ0
a28gVXJzdWxpbiA8dHZydGtvLnVyc3VsaW5AaW50ZWwuY29tPgo+IAo+IEFjY2VzcyB0byAweGIx
MDAgLSAweGIzZmYgbW1pbyByYW5nZSBpcyBjb250cm9sbGVkIGJ5IHRoZSBNQ1Igc2VsZWN0b3IK
PiB3aGljaCBvbmx5IGFmZmVjdHMgQ1BVIE1NSU8uIFRoZXJlZm9yZSB0aGVzZSByZWdpc3RlcnMg
Y2Fubm90IGJlIHJlYWxpYWJseQo+IHJlYWQgd2l0aCBNSV9TUk0gZnJvbSB0aGUgY29tbWFuZCBz
dHJlYW1lciBzbyBza2lwIHRoZWlyIHZlcmlmaWNhdGlvbi4KPiAKPiBTaWduZWQtb2ZmLWJ5OiBU
dnJ0a28gVXJzdWxpbiA8dHZydGtvLnVyc3VsaW5AaW50ZWwuY29tPgo+IC0tLQo+ICBkcml2ZXJz
L2dwdS9kcm0vaTkxNS9ndC9pbnRlbF93b3JrYXJvdW5kcy5jIHwgMzggKysrKysrKysrKysrKysr
KysrLS0tCj4gIDEgZmlsZSBjaGFuZ2VkLCAzMyBpbnNlcnRpb25zKCspLCA1IGRlbGV0aW9ucygt
KQo+IAo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF93b3JrYXJv
dW5kcy5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfd29ya2Fyb3VuZHMuYwo+IGlu
ZGV4IGMyMzI1YjdlY2Y4ZC4uNjE5ZDQyYTJiODFiIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1
L2RybS9pOTE1L2d0L2ludGVsX3dvcmthcm91bmRzLmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0v
aTkxNS9ndC9pbnRlbF93b3JrYXJvdW5kcy5jCj4gQEAgLTE0MzYsMjYgKzE0MzYsNTAgQEAgY3Jl
YXRlX3NjcmF0Y2goc3RydWN0IGk5MTVfYWRkcmVzc19zcGFjZSAqdm0sIGludCBjb3VudCkKPiAg
ICAgICAgIHJldHVybiBFUlJfUFRSKGVycik7Cj4gIH0KPiAgCj4gK3N0YXRpYyBib29sIG1jcl9y
YW5nZShzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSwgdTMyIG9mZnNldCkKPiArewo+ICsg
ICAgICAgLyoKPiArICAgICAgICAqIFJlZ2lzdGVycyBpbiB0aGlzIHJhbmdlIGFyZSBhZmZlY3Rl
ZCBieSB0aGUgTUNSIHNlbGVjdG9yCj4gKyAgICAgICAgKiB3aGljaCBvbmx5IGNvbnRyb2xzIENQ
VSBpbml0aWF0ZWQgTU1JTy4gUm91dGluZyBkb2VzIG5vdAo+ICsgICAgICAgICogd29yayBmb3Ig
Q1MgYWNjZXNzIHNvIHdlIGNhbm5vdCB2ZXJpZnkgdGhlbSBvbiB0aGlzIHBhdGguCj4gKyAgICAg
ICAgKi8KPiArICAgICAgIGlmIChJTlRFTF9HRU4oaTkxNSkgPj0gOCAmJiAob2Zmc2V0ID49IDB4
YjEwMCAmJiBvZmZzZXQgPD0gMHhiM2ZmKSkKPiArICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7
CgpCb251cyAoKS4gSSB3YXMgdGhpbmtpbmcgbWF5YmUKCWlmIChJTlRFTF9HRU4oKSA8IDgpCgkJ
cmV0dXJuIGZhbHNlOwoJcmV0dXJuIG9mZnNldCA+PSAweGIxMDAgJiYgb2Zmc2V0IDw9IDB4YjNm
ZjsKdG8gcmVtb3ZlIHRoZSBhcHBhcmVudCBuZWVkLiBCdXQgc3RydWN0dXJpbmcgdGhlIGNoZWNr
cyB3aXRoIGEKcGVyLWdlbiBpZi1sYWRkZXIgd2lsbCBwcm9iYWJseSBiZSBlYXNpZXIgdG8gZXh0
ZW5kIHNob3VsZCB0aGUgbmVlZAphcmlzZS4KCj4gKyAgICAgICByZXR1cm4gZmFsc2U7Cj4gK30K
PiArCj4gIHN0YXRpYyBpbnQKPiAgd2FfbGlzdF9zcm0oc3RydWN0IGk5MTVfcmVxdWVzdCAqcnEs
Cj4gICAgICAgICAgICAgY29uc3Qgc3RydWN0IGk5MTVfd2FfbGlzdCAqd2FsLAo+ICAgICAgICAg
ICAgIHN0cnVjdCBpOTE1X3ZtYSAqdm1hKQo+ICB7Cj4gKyAgICAgICBzdHJ1Y3QgZHJtX2k5MTVf
cHJpdmF0ZSAqaTkxNSA9IHJxLT5pOTE1Owo+ICsgICAgICAgdW5zaWduZWQgaW50IGksIGNvdW50
ID0gMDsKPiAgICAgICAgIGNvbnN0IHN0cnVjdCBpOTE1X3dhICp3YTsKPiAtICAgICAgIHVuc2ln
bmVkIGludCBpOwo+ICAgICAgICAgdTMyIHNybSwgKmNzOwo+ICAKPiAgICAgICAgIHNybSA9IE1J
X1NUT1JFX1JFR0lTVEVSX01FTSB8IE1JX1NSTV9MUk1fR0xPQkFMX0dUVDsKPiAtICAgICAgIGlm
IChJTlRFTF9HRU4ocnEtPmk5MTUpID49IDgpCj4gKyAgICAgICBpZiAoSU5URUxfR0VOKGk5MTUp
ID49IDgpCj4gICAgICAgICAgICAgICAgIHNybSsrOwo+ICAKPiAtICAgICAgIGNzID0gaW50ZWxf
cmluZ19iZWdpbihycSwgNCAqIHdhbC0+Y291bnQpOwo+ICsgICAgICAgZm9yIChpID0gMCwgd2Eg
PSB3YWwtPmxpc3Q7IGkgPCB3YWwtPmNvdW50OyBpKyssIHdhKyspIHsKPiArICAgICAgICAgICAg
ICAgaWYgKCFtY3JfcmFuZ2UoaTkxNSwgaTkxNV9tbWlvX3JlZ19vZmZzZXQod2EtPnJlZykpKQo+
ICsgICAgICAgICAgICAgICAgICAgICAgIGNvdW50Kys7Cj4gKyAgICAgICB9Cj4gKwo+ICsgICAg
ICAgY3MgPSBpbnRlbF9yaW5nX2JlZ2luKHJxLCA0ICogY291bnQpOwo+ICAgICAgICAgaWYgKElT
X0VSUihjcykpCj4gICAgICAgICAgICAgICAgIHJldHVybiBQVFJfRVJSKGNzKTsKPiAgCj4gICAg
ICAgICBmb3IgKGkgPSAwLCB3YSA9IHdhbC0+bGlzdDsgaSA8IHdhbC0+Y291bnQ7IGkrKywgd2Er
Kykgewo+ICsgICAgICAgICAgICAgICB1MzIgb2Zmc2V0ID0gaTkxNV9tbWlvX3JlZ19vZmZzZXQo
d2EtPnJlZyk7Cj4gKwo+ICsgICAgICAgICAgICAgICBpZiAobWNyX3JhbmdlKGk5MTUsIG9mZnNl
dCkpCj4gKyAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7Cj4gKwoKSSB3b3VsZCBoYXZl
IGp1c3QgZG9uZSB0aGUgcmVnIHJlYWQgYW5kIGlnbm9yZWQgdGhlIHJlc3VsdCwgcmF0aGVyIHRo
YW4KYWRkIGFub3RoZXIgbG9vcCB0byBmaXh1cCB0aGUgY291bnQuCgo+ICAgICAgICAgICAgICAg
ICAqY3MrKyA9IHNybTsKPiAtICAgICAgICAgICAgICAgKmNzKysgPSBpOTE1X21taW9fcmVnX29m
ZnNldCh3YS0+cmVnKTsKPiArICAgICAgICAgICAgICAgKmNzKysgPSBvZmZzZXQ7Cj4gICAgICAg
ICAgICAgICAgICpjcysrID0gaTkxNV9nZ3R0X29mZnNldCh2bWEpICsgc2l6ZW9mKHUzMikgKiBp
Owo+ICAgICAgICAgICAgICAgICAqY3MrKyA9IDA7Cj4gICAgICAgICB9Cj4gQEAgLTE1MDUsOSAr
MTUyOSwxMyBAQCBzdGF0aWMgaW50IGVuZ2luZV93YV9saXN0X3ZlcmlmeShzdHJ1Y3QgaW50ZWxf
Y29udGV4dCAqY2UsCj4gICAgICAgICB9Cj4gIAo+ICAgICAgICAgZXJyID0gMDsKPiAtICAgICAg
IGZvciAoaSA9IDAsIHdhID0gd2FsLT5saXN0OyBpIDwgd2FsLT5jb3VudDsgaSsrLCB3YSsrKQo+
ICsgICAgICAgZm9yIChpID0gMCwgd2EgPSB3YWwtPmxpc3Q7IGkgPCB3YWwtPmNvdW50OyBpKyss
IHdhKyspIHsKPiArICAgICAgICAgICAgICAgaWYgKG1jcl9yYW5nZShycS0+aTkxNSwgaTkxNV9t
bWlvX3JlZ19vZmZzZXQod2EtPnJlZykpKQo+ICsgICAgICAgICAgICAgICAgICAgICAgIGNvbnRp
bnVlOwo+ICsKPiAgICAgICAgICAgICAgICAgaWYgKCF3YV92ZXJpZnkod2EsIHJlc3VsdHNbaV0s
IHdhbC0+bmFtZSwgZnJvbSkpCj4gICAgICAgICAgICAgICAgICAgICAgICAgZXJyID0gLUVOWElP
Owo+ICsgICAgICAgfQoKTG9va3MgZmluZSB0aG91Z2gKUmV2aWV3ZWQtYnk6IENocmlzIFdpbHNv
biA8Y2hyaXNAY2hyaXMtd2lsc29uLmNvLnVrPgotQ2hyaXMKX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX18KSW50ZWwtZ2Z4IG1haWxpbmcgbGlzdApJbnRlbC1n
ZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21h
aWxtYW4vbGlzdGluZm8vaW50ZWwtZ2Z4

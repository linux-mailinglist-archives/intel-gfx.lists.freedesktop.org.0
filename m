Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 37DC03B8A3
	for <lists+intel-gfx@lfdr.de>; Mon, 10 Jun 2019 17:54:36 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 6FD2389189;
	Mon, 10 Jun 2019 15:54:34 +0000 (UTC)
X-Original-To: Intel-gfx@lists.freedesktop.org
Delivered-To: Intel-gfx@lists.freedesktop.org
Received: from mga02.intel.com (mga02.intel.com [134.134.136.20])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 2EFE289182
 for <Intel-gfx@lists.freedesktop.org>; Mon, 10 Jun 2019 15:54:33 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from fmsmga001.fm.intel.com ([10.253.24.23])
 by orsmga101.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 10 Jun 2019 08:54:32 -0700
X-ExtLoop1: 1
Received: from jwwillia-mobl1.amr.corp.intel.com (HELO localhost.localdomain)
 ([10.252.8.43])
 by fmsmga001.fm.intel.com with ESMTP; 10 Jun 2019 08:54:31 -0700
From: Tvrtko Ursulin <tvrtko.ursulin@linux.intel.com>
To: Intel-gfx@lists.freedesktop.org
Date: Mon, 10 Jun 2019 16:54:11 +0100
Message-Id: <20190610155419.23723-7-tvrtko.ursulin@linux.intel.com>
X-Mailer: git-send-email 2.20.1
In-Reply-To: <20190610155419.23723-1-tvrtko.ursulin@linux.intel.com>
References: <20190610155419.23723-1-tvrtko.ursulin@linux.intel.com>
MIME-Version: 1.0
Subject: [Intel-gfx] [RFC 06/14] drm/i915: Convert init_unused_rings to
 intel_gt
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

RnJvbTogVHZydGtvIFVyc3VsaW4gPHR2cnRrby51cnN1bGluQGludGVsLmNvbT4KCk1vcmUgcmVt
b3ZhbCBvZiBpbXBsaWNpdCBkZXZfcHJpdiBmcm9tIHVzaW5nIG9sZCBtbWlvIGFjY2Vzc29ycy4K
ClNpZ25lZC1vZmYtYnk6IFR2cnRrbyBVcnN1bGluIDx0dnJ0a28udXJzdWxpbkBpbnRlbC5jb20+
Ci0tLQogZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9nZW0uYyB8IDQyICsrKysrKysrKysrKysr
KysrKy0tLS0tLS0tLS0tLS0tLQogMSBmaWxlIGNoYW5nZWQsIDIzIGluc2VydGlvbnMoKyksIDE5
IGRlbGV0aW9ucygtKQoKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZ2Vt
LmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2dlbS5jCmluZGV4IDBlMGU2YmIwOGUyMy4u
Y2M4ZDI4OTgxNGNkIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2dlbS5j
CisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZ2VtLmMKQEAgLTEyMDEsMjggKzEyMDEs
MzIgQEAgdm9pZCBpOTE1X2dlbV9zYW5pdGl6ZShzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkx
NSkKIAltdXRleF91bmxvY2soJmk5MTUtPmRybS5zdHJ1Y3RfbXV0ZXgpOwogfQogCi1zdGF0aWMg
dm9pZCBpbml0X3VudXNlZF9yaW5nKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiwg
dTMyIGJhc2UpCitzdGF0aWMgdm9pZCBpbml0X3VudXNlZF9yaW5nKHN0cnVjdCBpbnRlbF9ndCAq
Z3QsIHUzMiBiYXNlKQogewotCUk5MTVfV1JJVEUoUklOR19DVEwoYmFzZSksIDApOwotCUk5MTVf
V1JJVEUoUklOR19IRUFEKGJhc2UpLCAwKTsKLQlJOTE1X1dSSVRFKFJJTkdfVEFJTChiYXNlKSwg
MCk7Ci0JSTkxNV9XUklURShSSU5HX1NUQVJUKGJhc2UpLCAwKTsKKwlzdHJ1Y3QgaW50ZWxfdW5j
b3JlICp1bmNvcmUgPSBndF90b191bmNvcmUoZ3QpOworCisJaW50ZWxfdW5jb3JlX3dyaXRlKHVu
Y29yZSwgUklOR19DVEwoYmFzZSksIDApOworCWludGVsX3VuY29yZV93cml0ZSh1bmNvcmUsIFJJ
TkdfSEVBRChiYXNlKSwgMCk7CisJaW50ZWxfdW5jb3JlX3dyaXRlKHVuY29yZSwgUklOR19UQUlM
KGJhc2UpLCAwKTsKKwlpbnRlbF91bmNvcmVfd3JpdGUodW5jb3JlLCBSSU5HX1NUQVJUKGJhc2Up
LCAwKTsKIH0KIAotc3RhdGljIHZvaWQgaW5pdF91bnVzZWRfcmluZ3Moc3RydWN0IGRybV9pOTE1
X3ByaXZhdGUgKmRldl9wcml2KQorc3RhdGljIHZvaWQgaW5pdF91bnVzZWRfcmluZ3Moc3RydWN0
IGludGVsX2d0ICpndCkKIHsKLQlpZiAoSVNfSTgzMChkZXZfcHJpdikpIHsKLQkJaW5pdF91bnVz
ZWRfcmluZyhkZXZfcHJpdiwgUFJCMV9CQVNFKTsKLQkJaW5pdF91bnVzZWRfcmluZyhkZXZfcHJp
diwgU1JCMF9CQVNFKTsKLQkJaW5pdF91bnVzZWRfcmluZyhkZXZfcHJpdiwgU1JCMV9CQVNFKTsK
LQkJaW5pdF91bnVzZWRfcmluZyhkZXZfcHJpdiwgU1JCMl9CQVNFKTsKLQkJaW5pdF91bnVzZWRf
cmluZyhkZXZfcHJpdiwgU1JCM19CQVNFKTsKLQl9IGVsc2UgaWYgKElTX0dFTihkZXZfcHJpdiwg
MikpIHsKLQkJaW5pdF91bnVzZWRfcmluZyhkZXZfcHJpdiwgU1JCMF9CQVNFKTsKLQkJaW5pdF91
bnVzZWRfcmluZyhkZXZfcHJpdiwgU1JCMV9CQVNFKTsKLQl9IGVsc2UgaWYgKElTX0dFTihkZXZf
cHJpdiwgMykpIHsKLQkJaW5pdF91bnVzZWRfcmluZyhkZXZfcHJpdiwgUFJCMV9CQVNFKTsKLQkJ
aW5pdF91bnVzZWRfcmluZyhkZXZfcHJpdiwgUFJCMl9CQVNFKTsKKwlzdHJ1Y3QgZHJtX2k5MTVf
cHJpdmF0ZSAqaTkxNSA9IGd0X3RvX2k5MTUoZ3QpOworCisJaWYgKElTX0k4MzAoaTkxNSkpIHsK
KwkJaW5pdF91bnVzZWRfcmluZyhndCwgUFJCMV9CQVNFKTsKKwkJaW5pdF91bnVzZWRfcmluZyhn
dCwgU1JCMF9CQVNFKTsKKwkJaW5pdF91bnVzZWRfcmluZyhndCwgU1JCMV9CQVNFKTsKKwkJaW5p
dF91bnVzZWRfcmluZyhndCwgU1JCMl9CQVNFKTsKKwkJaW5pdF91bnVzZWRfcmluZyhndCwgU1JC
M19CQVNFKTsKKwl9IGVsc2UgaWYgKElTX0dFTihpOTE1LCAyKSkgeworCQlpbml0X3VudXNlZF9y
aW5nKGd0LCBTUkIwX0JBU0UpOworCQlpbml0X3VudXNlZF9yaW5nKGd0LCBTUkIxX0JBU0UpOwor
CX0gZWxzZSBpZiAoSVNfR0VOKGk5MTUsIDMpKSB7CisJCWluaXRfdW51c2VkX3JpbmcoZ3QsIFBS
QjFfQkFTRSk7CisJCWluaXRfdW51c2VkX3JpbmcoZ3QsIFBSQjJfQkFTRSk7CiAJfQogfQogCkBA
IC0xMjU1LDcgKzEyNTksNyBAQCBpbnQgaTkxNV9nZW1faW5pdF9odyhzdHJ1Y3QgZHJtX2k5MTVf
cHJpdmF0ZSAqZGV2X3ByaXYpCiAJICogd2lsbCBwcmV2ZW50IGMzIGVudHJ5LiBNYWtlcyBzdXJl
IGFsbCB1bnVzZWQgcmluZ3MKIAkgKiBhcmUgdG90YWxseSBpZGxlLgogCSAqLwotCWluaXRfdW51
c2VkX3JpbmdzKGRldl9wcml2KTsKKwlpbml0X3VudXNlZF9yaW5ncygmZGV2X3ByaXYtPmd0KTsK
IAogCUJVR19PTighZGV2X3ByaXYtPmtlcm5lbF9jb250ZXh0KTsKIAlyZXQgPSBpOTE1X3Rlcm1p
bmFsbHlfd2VkZ2VkKGRldl9wcml2KTsKLS0gCjIuMjAuMQoKX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX18KSW50ZWwtZ2Z4IG1haWxpbmcgbGlzdApJbnRlbC1n
ZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21h
aWxtYW4vbGlzdGluZm8vaW50ZWwtZ2Z4

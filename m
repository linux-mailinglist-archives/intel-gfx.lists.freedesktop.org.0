Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 8EA8320A5B6
	for <lists+intel-gfx@lfdr.de>; Thu, 25 Jun 2020 21:23:24 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 9503D6E33C;
	Thu, 25 Jun 2020 19:23:21 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mail-lj1-x244.google.com (mail-lj1-x244.google.com
 [IPv6:2a00:1450:4864:20::244])
 by gabe.freedesktop.org (Postfix) with ESMTPS id F0E556E33C
 for <intel-gfx@lists.freedesktop.org>; Thu, 25 Jun 2020 19:23:20 +0000 (UTC)
Received: by mail-lj1-x244.google.com with SMTP id h22so627815lji.9
 for <intel-gfx@lists.freedesktop.org>; Thu, 25 Jun 2020 12:23:20 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=hardline-pl.20150623.gappssmtp.com; s=20150623;
 h=mime-version:content-transfer-encoding:cc:in-reply-to:references
 :from:to:subject:date:message-id:user-agent;
 bh=WtOUPbyVYdhwN4gAyA8Swodk113uSXbglNFYlVRh6aQ=;
 b=GhfioAAc668ZbNng6B1FjD4cBaX33a9m9tz3gxWkRatq97JC4eKbeY9olk6Bu5rgfP
 5U8HkPYDJgVMF1Dx5l/RysbYOk0OYYAYtKVuLXqrHyRxKNIsH3tU/vMfGzZmlWg5roZU
 7ZzPbjoSEXfFxyAraDERy76FnLoev4wlmkJ39OEg2c9+tsg/95o7QuRvCpwCeyCVvmsR
 1Ysxh62ngag74iiHY9OuJzw1PcWnckK0W+gZJi+4NGZIDIYNdyo9f/AtbU8gb/s7prSt
 g4RRASB6bsqxoF0pfiYJuSSnw/5tfdu347dLnRJeu0fLTq6lXxJYO1Zr8sMCuvcTZRSw
 iC5w==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:mime-version:content-transfer-encoding:cc
 :in-reply-to:references:from:to:subject:date:message-id:user-agent;
 bh=WtOUPbyVYdhwN4gAyA8Swodk113uSXbglNFYlVRh6aQ=;
 b=H25e7vNz6TaAOu5uZI0uzmZiC+Mt7YSnMK+oFkqMFuoUF+imt4PcvAe8q1Aumi0zEP
 M5+Po8iZk7OTZnLvCnmqSijUqKFP0nAJsOuaTz+tqFXkgCP8z6qIcyeboINz7kY54WzR
 +Nk2FngeizTJI3ynDyViFKU9VutE4RCUyRnFpN2YqbO5sZBB0RAyP0U0Fy4ngwo50snN
 V4Dm2XbKqMQtFBHjW3qGaLD6/7tkan7vMo6p+pUenS5mG2RIdLmOa04PE2A+Zf+WaLi8
 5omstE8GlYNdt1+DMb/MLnekbecfH10Nbos2WCSaImR+6NUyZBhaLJwqMHOQuVPVpOqt
 PVzA==
X-Gm-Message-State: AOAM5319ttyVh4y4ZotikwRmMChaOrtoDAXMHgPONFNUOdLNaz5PIZnt
 JPJ1AJR2MXGOUSc8WJVyV5/CdhMffJE=
X-Google-Smtp-Source: ABdhPJzlm+SdFVE8S93xdcMQZk/IN+1yU10AXvFGA+kdQwQ2XFvbc1fKqX5yObahaxzbe5M1z+Csrw==
X-Received: by 2002:a2e:3602:: with SMTP id d2mr4858056lja.152.1593112998920; 
 Thu, 25 Jun 2020 12:23:18 -0700 (PDT)
Received: from localhost (109241244009.gdansk.vectranet.pl. [109.241.244.9])
 by smtp.gmail.com with ESMTPSA id h15sm4969821ljk.24.2020.06.25.12.23.16
 (version=TLS1_3 cipher=TLS_AES_256_GCM_SHA384 bits=256/256);
 Thu, 25 Jun 2020 12:23:18 -0700 (PDT)
MIME-Version: 1.0
In-Reply-To: <20200622164415.30352-3-janusz.krzysztofik@linux.intel.com>
References: <20200622164415.30352-1-janusz.krzysztofik@linux.intel.com>
 <20200622164415.30352-3-janusz.krzysztofik@linux.intel.com>
From: =?utf-8?q?Micha=C5=82?= Winiarski <michal@hardline.pl>
To: Janusz Krzysztofik <janusz.krzysztofik@linux.intel.com>,
 igt-dev@lists.freedesktop.org
Date: Thu, 25 Jun 2020 21:23:16 +0200
Message-ID: <159311299636.202818.1800731180873353345@macragge.hardline.pl>
User-Agent: alot/0.9.1
Subject: Re: [Intel-gfx] [igt-dev] [RFC PATCH i-g-t v2 2/8]
 tests/core_hotunplug: Use PCI device sysfs entry, not DRM
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: intel-gfx@lists.freedesktop.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

UXVvdGluZyBKYW51c3ogS3J6eXN6dG9maWsgKDIwMjAtMDYtMjIgMTg6NDQ6MDkpCj4gRnV0dXJl
IHN1YnRlc3RzIG1heSB3YW50IHRvIGFjY2VzcyBQQ0kgYXR0cmlidXRlcyBvZiB0aGUgZGV2aWNl
IGFmdGVyCj4gZHJpdmVyIHVuYmluZC4gIFJlZmFjdG9yIHByZXBhcmUoKSBoZWxwZXIuCj4gCj4g
djI6IHJlYmFzZSBvbiB1cHN0cmVhbQo+IAo+IFNpZ25lZC1vZmYtYnk6IEphbnVzeiBLcnp5c3p0
b2ZpayA8amFudXN6LmtyenlzenRvZmlrQGxpbnV4LmludGVsLmNvbT4KPiAtLS0KPiAgdGVzdHMv
Y29yZV9ob3R1bnBsdWcuYyB8IDY4ICsrKysrKysrKysrKysrKysrKysrKysrKystLS0tLS0tLS0t
LS0tLS0tLQo+ICAxIGZpbGUgY2hhbmdlZCwgNDAgaW5zZXJ0aW9ucygrKSwgMjggZGVsZXRpb25z
KC0pCj4gCj4gZGlmZiAtLWdpdCBhL3Rlc3RzL2NvcmVfaG90dW5wbHVnLmMgYi90ZXN0cy9jb3Jl
X2hvdHVucGx1Zy5jCj4gaW5kZXggODI2NjQ1YjFmLi4zNWViYTliOGEgMTAwNjQ0Cj4gLS0tIGEv
dGVzdHMvY29yZV9ob3R1bnBsdWcuYwo+ICsrKyBiL3Rlc3RzL2NvcmVfaG90dW5wbHVnLmMKPiBA
QCAtNTUsNDIgKzU1LDU0IEBAIHN0cnVjdCBob3R1bnBsdWcgewo+ICAgICAgICAgaWd0X2ttc2co
S01TR19ERUJVRyAiJXM6ICVzOiAlc1xuIiwgaWd0X3Rlc3RfbmFtZSgpLCBfX2Z1bmNfXywgbXNn
KTsgXAo+ICB9KQo+ICAKPiAtc3RhdGljIHZvaWQgcHJlcGFyZV9mb3JfdW5iaW5kKHN0cnVjdCBo
b3R1bnBsdWcgKnByaXYsIGNoYXIgKmJ1ZiwgaW50IGJ1ZmxlbikKPiArc3RhdGljIGlubGluZSBp
bnQgcHJlcGFyZV9jb21tb24oc3RydWN0IGhvdHVucGx1ZyAqcHJpdikKPiAgewo+IC0gICAgICAg
aW50IGxlbjsKPiArICAgICAgIGludCBmZF9zeXNmc19kcm07Cj4gKwo+ICsgICAgICAgbG9jYWxf
ZGVidWcoIm9wZW5pbmcgZGV2aWNlIik7Cj4gKyAgICAgICBwcml2LT5mZC5kcm0gPSBfX2RybV9v
cGVuX2RyaXZlcihEUklWRVJfQU5ZKTsKPiArICAgICAgIGlndF9hc3NlcnQocHJpdi0+ZmQuZHJt
ID49IDApOwo+ICsKPiArICAgICAgIGZkX3N5c2ZzX2RybSA9IGlndF9zeXNmc19vcGVuKHByaXYt
PmZkLmRybSk7Cj4gKyAgICAgICBpZ3RfYXNzZXJ0KGZkX3N5c2ZzX2RybSA+PSAwKTsKPiArCj4g
KyAgICAgICByZXR1cm4gZmRfc3lzZnNfZHJtOwo+ICt9Cj4gKwo+ICtzdGF0aWMgaW5saW5lIHZv
aWQgcHJlcGFyZV9mb3JfcmViaW5kKHN0cnVjdCBob3R1bnBsdWcgKnByaXYsCj4gKyAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFyICpidWYsIGludCBidWZsZW4pCj4gK3sK
PiArICAgICAgIGludCBmZF9zeXNmc19kcm0sIGxlbjsKPiAgCj4gICAgICAgICBpZ3RfYXNzZXJ0
KGJ1Zmxlbik7Cj4gIAo+IC0gICAgICAgcHJpdi0+ZmQuc3lzZnNfZHJ2ID0gb3BlbmF0KHByaXYt
PmZkLnN5c2ZzX2RldiwgImRldmljZS9kcml2ZXIiLAo+IC0gICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgIE9fRElSRUNUT1JZKTsKPiAtICAgICAgIGlndF9hc3NlcnQocHJpdi0+ZmQu
c3lzZnNfZHJ2ID49IDApOwo+ICsgICAgICAgZmRfc3lzZnNfZHJtID0gcHJlcGFyZV9jb21tb24o
cHJpdik7Cj4gKwo+ICsgICAgICAgcHJpdi0+ZmQuc3lzZnNfZHJ2ID0gb3BlbmF0KGZkX3N5c2Zz
X2RybSwgImRldmljZS9kcml2ZXIiLCBPX0RJUkVDVE9SWSk7Cj4gIAo+IC0gICAgICAgbGVuID0g
cmVhZGxpbmthdChwcml2LT5mZC5zeXNmc19kZXYsICJkZXZpY2UiLCBidWYsIGJ1ZmxlbiAtIDEp
Owo+ICsgICAgICAgbGVuID0gcmVhZGxpbmthdChmZF9zeXNmc19kcm0sICJkZXZpY2UiLCBidWYs
IGJ1ZmxlbiAtIDEpOwo+ICAgICAgICAgYnVmW2xlbl0gPSAnXDAnOwo+ICAgICAgICAgcHJpdi0+
ZGV2X2J1c19hZGRyID0gc3RycmNocihidWYsICcvJyk7Cj4gLSAgICAgICBpZ3RfYXNzZXJ0KHBy
aXYtPmRldl9idXNfYWRkcisrKTsKPiAgCj4gLSAgICAgICAvKiBzeXNmc19kZXYgbm8gbG9uZ2Vy
IG5lZWRlZCAqLwo+IC0gICAgICAgY2xvc2UocHJpdi0+ZmQuc3lzZnNfZGV2KTsKPiArICAgICAg
IGNsb3NlKGZkX3N5c2ZzX2RybSk7Cj4gKwo+ICsgICAgICAgaWd0X2Fzc2VydChwcml2LT5mZC5z
eXNmc19kcnYgPj0gMCk7Cj4gKyAgICAgICBpZ3RfYXNzZXJ0KHByaXYtPmRldl9idXNfYWRkcisr
KTsKPiAgfQo+ICAKPiAtc3RhdGljIGlubGluZSB2b2lkIHByZXBhcmUoc3RydWN0IGhvdHVucGx1
ZyAqcHJpdiwgY2hhciAqYnVmLCBpbnQgYnVmbGVuKQo+ICtzdGF0aWMgaW5saW5lIHZvaWQgcHJl
cGFyZV9mb3JfcmVzY2FuKHN0cnVjdCBob3R1bnBsdWcgKnByaXYpCj4gIHsKPiAtICAgICAgIGxv
Y2FsX2RlYnVnKCJvcGVuaW5nIGRldmljZSIpOwo+IC0gICAgICAgcHJpdi0+ZmQuZHJtID0gX19k
cm1fb3Blbl9kcml2ZXIoRFJJVkVSX0FOWSk7Cj4gLSAgICAgICBpZ3RfYXNzZXJ0KHByaXYtPmZk
LmRybSA+PSAwKTsKPiArICAgICAgIGludCBmZF9zeXNmc19kcm0gPSBwcmVwYXJlX2NvbW1vbihw
cml2KTsKPiAgCj4gLSAgICAgICBwcml2LT5mZC5zeXNmc19kZXYgPSBpZ3Rfc3lzZnNfb3Blbihw
cml2LT5mZC5kcm0pOwo+IC0gICAgICAgaWd0X2Fzc2VydChwcml2LT5mZC5zeXNmc19kZXYgPj0g
MCk7Cj4gKyAgICAgICBwcml2LT5mZC5zeXNmc19kZXYgPSBvcGVuYXQoZmRfc3lzZnNfZHJtLCAi
ZGV2aWNlIiwgT19ESVJFQ1RPUlkpOwo+ICAKPiAtICAgICAgIGlmIChidWYpIHsKPiAtICAgICAg
ICAgICAgICAgcHJlcGFyZV9mb3JfdW5iaW5kKHByaXYsIGJ1ZiwgYnVmbGVuKTsKPiAtICAgICAg
IH0gZWxzZSB7Cj4gLSAgICAgICAgICAgICAgIC8qIHByZXBhcmUgZm9yIGJ1cyByZXNjYW4gKi8K
PiAtICAgICAgICAgICAgICAgcHJpdi0+ZmQuc3lzZnNfYnVzID0gb3BlbmF0KHByaXYtPmZkLnN5
c2ZzX2RldiwKPiAtICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJk
ZXZpY2Uvc3Vic3lzdGVtIiwgT19ESVJFQ1RPUlkpOwo+IC0gICAgICAgICAgICAgICBpZ3RfYXNz
ZXJ0KHByaXYtPmZkLnN5c2ZzX2J1cyA+PSAwKTsKPiAtICAgICAgIH0KPiArICAgICAgIHByaXYt
PmZkLnN5c2ZzX2J1cyA9IG9wZW5hdChmZF9zeXNmc19kcm0sICJkZXZpY2Uvc3Vic3lzdGVtIiwK
PiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBPX0RJUkVDVE9SWSk7Cj4gKwo+
ICsgICAgICAgY2xvc2UoZmRfc3lzZnNfZHJtKTsKPiArCj4gKyAgICAgICBpZ3RfYXNzZXJ0KHBy
aXYtPmZkLnN5c2ZzX2RldiA+PSAwKTsKPiArICAgICAgIGlndF9hc3NlcnQocHJpdi0+ZmQuc3lz
ZnNfYnVzID49IDApOwo+ICB9CgpJIGZpbmQgdGhlIGxpZmVjeWNsZSBvZiBob3R1bnBsdWcuZmQu
c3lzZnNfKiBkaWZmaWN1bHQgdG8gZm9sbG93IG5vdy4uLgpXb3VsZCBpdCBiZSBwb3NzaWJsZSB0
byBrZWVwIHRoZSAicHJlcGFyZSIgc3RlcCBzaW1wbGVyIGFuZCBqdXN0IG9wZW4gZXZlcnl0aGlu
ZwpldmVyeXRpbWU/IChwZXJoYXBzIGNsb3NpbmcgYW5kIG9wZW5pbmcgbmV3IG9uZXMgd2hlbiBj
YWxsZWQgbXVsdGlwbGUgdGltZXM/KQpPciBkbyB3ZSBuZWVkIHRvIGhhdmUgZHJ2IHNlcGFyYXRl
IGZyb20gYnVzL2Rldj8KCi1NaWNoYcWCCgo+ICAKPiAgc3RhdGljIGNvbnN0IGNoYXIgKmZhaWx1
cmU7Cj4gQEAgLTEyNCw3ICsxMzYsNyBAQCBzdGF0aWMgdm9pZCBkZXZpY2VfdW5wbHVnKGludCBm
ZF9zeXNmc19kZXYpCj4gIHsKPiAgICAgICAgIGZhaWx1cmUgPSAiRGV2aWNlIHVucGx1ZyB0aW1l
b3V0ISI7Cj4gICAgICAgICBpZ3Rfc2V0X3RpbWVvdXQoNjAsIGZhaWx1cmUpOwo+IC0gICAgICAg
aWd0X3N5c2ZzX3NldChmZF9zeXNmc19kZXYsICJkZXZpY2UvcmVtb3ZlIiwgIjEiKTsKPiArICAg
ICAgIGlndF9zeXNmc19zZXQoZmRfc3lzZnNfZGV2LCAicmVtb3ZlIiwgIjEiKTsKPiAgICAgICAg
IGlndF9yZXNldF90aW1lb3V0KCk7Cj4gICAgICAgICBmYWlsdXJlID0gTlVMTDsKPiAgCj4gQEAg
LTE4NSw3ICsxOTcsNyBAQCBzdGF0aWMgdm9pZCB1bmJpbmRfcmViaW5kKHZvaWQpCj4gICAgICAg
ICBzdHJ1Y3QgaG90dW5wbHVnIHByaXY7Cj4gICAgICAgICBjaGFyIGJ1ZltQQVRIX01BWF07Cj4g
IAo+IC0gICAgICAgcHJlcGFyZSgmcHJpdiwgYnVmLCBzaXplb2YoYnVmKSk7Cj4gKyAgICAgICBw
cmVwYXJlX2Zvcl9yZWJpbmQoJnByaXYsIGJ1Ziwgc2l6ZW9mKGJ1ZikpOwo+ICAKPiAgICAgICAg
IGxvY2FsX2RlYnVnKCJjbG9zaW5nIHRoZSBkZXZpY2UiKTsKPiAgICAgICAgIGNsb3NlKHByaXYu
ZmQuZHJtKTsKPiBAQCAtMjAzLDcgKzIxNSw3IEBAIHN0YXRpYyB2b2lkIHVucGx1Z19yZXNjYW4o
dm9pZCkKPiAgewo+ICAgICAgICAgc3RydWN0IGhvdHVucGx1ZyBwcml2Owo+ICAKPiAtICAgICAg
IHByZXBhcmUoJnByaXYsIE5VTEwsIDApOwo+ICsgICAgICAgcHJlcGFyZV9mb3JfcmVzY2FuKCZw
cml2KTsKPiAgCj4gICAgICAgICBsb2NhbF9kZWJ1ZygiY2xvc2luZyB0aGUgZGV2aWNlIik7Cj4g
ICAgICAgICBjbG9zZShwcml2LmZkLmRybSk7Cj4gQEAgLTIyMiw3ICsyMzQsNyBAQCBzdGF0aWMg
dm9pZCBob3R1bmJpbmRfbGF0ZWNsb3NlKHZvaWQpCj4gICAgICAgICBzdHJ1Y3QgaG90dW5wbHVn
IHByaXY7Cj4gICAgICAgICBjaGFyIGJ1ZltQQVRIX01BWF07Cj4gIAo+IC0gICAgICAgcHJlcGFy
ZSgmcHJpdiwgYnVmLCBzaXplb2YoYnVmKSk7Cj4gKyAgICAgICBwcmVwYXJlX2Zvcl9yZWJpbmQo
JnByaXYsIGJ1Ziwgc2l6ZW9mKGJ1ZikpOwo+ICAKPiAgICAgICAgIGxvY2FsX2RlYnVnKCJob3Qg
dW5iaW5kaW5nIHRoZSBkcml2ZXIgZnJvbSB0aGUgZGV2aWNlIik7Cj4gICAgICAgICBkcml2ZXJf
dW5iaW5kKHByaXYuZmQuc3lzZnNfZHJ2LCBwcml2LmRldl9idXNfYWRkcik7Cj4gQEAgLTI0MCw3
ICsyNTIsNyBAQCBzdGF0aWMgdm9pZCBob3R1bnBsdWdfbGF0ZWNsb3NlKHZvaWQpCj4gIHsKPiAg
ICAgICAgIHN0cnVjdCBob3R1bnBsdWcgcHJpdjsKPiAgCj4gLSAgICAgICBwcmVwYXJlKCZwcml2
LCBOVUxMLCAwKTsKPiArICAgICAgIHByZXBhcmVfZm9yX3Jlc2NhbigmcHJpdik7Cj4gIAo+ICAg
ICAgICAgbG9jYWxfZGVidWcoImhvdCB1bnBsdWdnaW5nIHRoZSBkZXZpY2UiKTsKPiAgICAgICAg
IGRldmljZV91bnBsdWcocHJpdi5mZC5zeXNmc19kZXYpOwo+IC0tIAo+IDIuMjEuMQo+IAo+IF9f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCj4gaWd0LWRldiBt
YWlsaW5nIGxpc3QKPiBpZ3QtZGV2QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwo+IGh0dHBzOi8vbGlz
dHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vaWd0LWRldgpfX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpJbnRlbC1nZnggbWFpbGluZyBsaXN0
CkludGVsLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3Rv
cC5vcmcvbWFpbG1hbi9saXN0aW5mby9pbnRlbC1nZngK

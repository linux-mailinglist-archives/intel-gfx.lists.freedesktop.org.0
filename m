Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 00B1C2852C
	for <lists+intel-gfx@lfdr.de>; Thu, 23 May 2019 19:43:17 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id D29B36E03A;
	Thu, 23 May 2019 17:43:14 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga02.intel.com (mga02.intel.com [134.134.136.20])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 448866E03A
 for <intel-gfx@lists.freedesktop.org>; Thu, 23 May 2019 17:43:13 +0000 (UTC)
X-Amp-Result: UNSCANNABLE
X-Amp-File-Uploaded: False
Received: from orsmga002.jf.intel.com ([10.7.209.21])
 by orsmga101.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 23 May 2019 10:43:12 -0700
X-ExtLoop1: 1
Received: from rdvivi-losangeles.jf.intel.com (HELO intel.com) ([10.7.196.65])
 by orsmga002.jf.intel.com with ESMTP; 23 May 2019 10:43:12 -0700
Date: Thu, 23 May 2019 10:43:39 -0700
From: Rodrigo Vivi <rodrigo.vivi@intel.com>
To: Lucas De Marchi <lucas.demarchi@intel.com>
Message-ID: <20190523174339.GR4441@intel.com>
References: <20190523082420.10352-1-lucas.demarchi@intel.com>
 <20190523082420.10352-3-lucas.demarchi@intel.com>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <20190523082420.10352-3-lucas.demarchi@intel.com>
User-Agent: Mutt/1.11.3 (2019-02-01)
Subject: Re: [Intel-gfx] [PATCH 03/10] drm/i915/dmc: add support for
 package_header with version 2
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: intel-gfx@lists.freedesktop.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

T24gVGh1LCBNYXkgMjMsIDIwMTkgYXQgMDE6MjQ6MTNBTSAtMDcwMCwgTHVjYXMgRGUgTWFyY2hp
IHdyb3RlOgo+IFRoZSBvbmx5IG1lYW5pbmZ1bCBjaGFuZ2UgaXMgdGhhdCBpdCBzdXBwb3J0cyB1
cCB0byAzMiBmd19pbmZvIGVudHJpZXMKPiByYXRoZXIgdGhhbiB0aGUgcHJldmlvdXMgbWF4PTIw
Lgo+IAo+IFNpZ25lZC1vZmYtYnk6IEx1Y2FzIERlIE1hcmNoaSA8bHVjYXMuZGVtYXJjaGlAaW50
ZWwuY29tPgo+IC0tLQo+ICBkcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9jc3IuYyB8IDM1ICsr
KysrKysrKysrKysrKysrKysrKystLS0tLS0tLS0tCj4gIDEgZmlsZSBjaGFuZ2VkLCAyNCBpbnNl
cnRpb25zKCspLCAxMSBkZWxldGlvbnMoLSkKPiAKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUv
ZHJtL2k5MTUvaW50ZWxfY3NyLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9jc3IuYwo+
IGluZGV4IDAxYWUzNTZlNjljYy4uYjk2NTFmYmU0YzI1IDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMv
Z3B1L2RybS9pOTE1L2ludGVsX2Nzci5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50
ZWxfY3NyLmMKPiBAQCAtNzEsNiArNzEsNyBAQCBNT0RVTEVfRklSTVdBUkUoQlhUX0NTUl9QQVRI
KTsKPiAgCj4gICNkZWZpbmUgQ1NSX0RFRkFVTFRfRldfT0ZGU0VUCQkweEZGRkZGRkZGCj4gICNk
ZWZpbmUgUEFDS0FHRV9NQVhfRldfSU5GT19FTlRSSUVTCTIwCj4gKyNkZWZpbmUgUEFDS0FHRV9W
Ml9NQVhfRldfSU5GT19FTlRSSUVTCTMyCgpMb29raW5nIHRvIHNwZWMgSSBjb3VsZCBvbmx5IGZp
bmQKIn0gRldJbmZvWzIwXTsiCgpXaGVyZSBkaWQgeW91IGdldCB0aGUgMzI/Cgo+ICAKPiAgc3Ry
dWN0IGludGVsX2Nzc19oZWFkZXIgewo+ICAJLyogMHgwOSBmb3IgRE1DICovCj4gQEAgLTEzMyw3
ICsxMzQsNyBAQCBzdHJ1Y3QgaW50ZWxfcGFja2FnZV9oZWFkZXIgewo+ICAJLyogRE1DIGNvbnRh
aW5lciBoZWFkZXIgbGVuZ3RoIGluIGR3b3JkcyAqLwo+ICAJdTggaGVhZGVyX2xlbjsKPiAgCj4g
LQkvKiBhbHdheXMgdmFsdWUgd291bGQgYmUgMHgwMSAqLwo+ICsJLyogMHgwMSwgMHgwMiAqLwo+
ICAJdTggaGVhZGVyX3ZlcjsKPiAgCj4gIAl1OCByZXNlcnZlZFsxMF07Cj4gQEAgLTMzOSw3ICsz
NDAsNyBAQCBzdGF0aWMgdTMyICpwYXJzZV9jc3JfZncoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUg
KmRldl9wcml2LAo+ICAJc3RydWN0IGludGVsX2RtY19oZWFkZXIgKmRtY19oZWFkZXI7Cj4gIAlz
dHJ1Y3QgaW50ZWxfY3NyICpjc3IgPSAmZGV2X3ByaXYtPmNzcjsKPiAgCWNvbnN0IHN0cnVjdCBz
dGVwcGluZ19pbmZvICpzaSA9IGludGVsX2dldF9zdGVwcGluZ19pbmZvKGRldl9wcml2KTsKPiAt
CXUzMiBkbWNfb2Zmc2V0LCBudW1fZW50cmllcywgcmVhZGNvdW50ID0gMCwgbmJ5dGVzOwo+ICsJ
dTMyIGRtY19vZmZzZXQsIG51bV9lbnRyaWVzLCBtYXhfZW50cmllcywgcmVhZGNvdW50ID0gMCwg
bmJ5dGVzOwo+ICAJdTMyIGk7Cj4gIAl1MzIgKmRtY19wYXlsb2FkOwo+ICAKPiBAQCAtMzc0LDE4
ICszNzUsMzAgQEAgc3RhdGljIHUzMiAqcGFyc2VfY3NyX2Z3KHN0cnVjdCBkcm1faTkxNV9wcml2
YXRlICpkZXZfcHJpdiwKPiAgCS8qIEV4dHJhY3QgUGFja2FnZSBIZWFkZXIgaW5mb3JtYXRpb24q
Lwo+ICAJcGFja2FnZV9oZWFkZXIgPSAoc3RydWN0IGludGVsX3BhY2thZ2VfaGVhZGVyICopCj4g
IAkJJmZ3LT5kYXRhW3JlYWRjb3VudF07Cj4gLQlpZiAoc2l6ZW9mKHN0cnVjdCBpbnRlbF9wYWNr
YWdlX2hlYWRlcikgIT0KPiAtCSAgICAocGFja2FnZV9oZWFkZXItPmhlYWRlcl9sZW4gKiA0KSkg
ewo+ICsKPiArCXJlYWRjb3VudCArPSBzaXplb2Yoc3RydWN0IGludGVsX3BhY2thZ2VfaGVhZGVy
KTsKPiArCj4gKwlpZiAocGFja2FnZV9oZWFkZXItPmhlYWRlcl92ZXIgPT0gMSkgewo+ICsJCW1h
eF9lbnRyaWVzID0gUEFDS0FHRV9NQVhfRldfSU5GT19FTlRSSUVTOwo+ICsJfSBlbHNlIGlmIChw
YWNrYWdlX2hlYWRlci0+aGVhZGVyX3ZlciA9PSAyKSB7Cj4gKwkJbWF4X2VudHJpZXMgPSBQQUNL
QUdFX1YyX01BWF9GV19JTkZPX0VOVFJJRVM7Cj4gKwl9IGVsc2Ugewo+ICsJCURSTV9FUlJPUigi
RE1DIGZpcm13YXJlIGhhcyB1bmtub3duIGhlYWRlciB2ZXJzaW9uICV1XG4iLAo+ICsJCQkgIHBh
Y2thZ2VfaGVhZGVyLT5oZWFkZXJfdmVyKTsKPiArCQlyZXR1cm4gTlVMTDsKPiArCX0KPiArCj4g
KwlpZiAocGFja2FnZV9oZWFkZXItPmhlYWRlcl9sZW4gKiA0ICE9Cj4gKwkgICAgc2l6ZW9mKHN0
cnVjdCBpbnRlbF9wYWNrYWdlX2hlYWRlcikgKwo+ICsJICAgIG1heF9lbnRyaWVzICogc2l6ZW9m
KHN0cnVjdCBpbnRlbF9md19pbmZvKSkgewo+ICAJCURSTV9FUlJPUigiRE1DIGZpcm13YXJlIGhh
cyB3cm9uZyBwYWNrYWdlIGhlYWRlciBsZW5ndGggIgo+IC0JCQkgICIoJXUgYnl0ZXMpXG4iLAo+
IC0JCQkgIChwYWNrYWdlX2hlYWRlci0+aGVhZGVyX2xlbiAqIDQpKTsKPiArCQkJICAiKCV1IGJ5
dGVzKVxuIiwgcGFja2FnZV9oZWFkZXItPmhlYWRlcl9sZW4gKiA0KTsKPiAgCQlyZXR1cm4gTlVM
TDsKPiAgCX0KPiAgCj4gLQlyZWFkY291bnQgKz0gc2l6ZW9mKHN0cnVjdCBpbnRlbF9wYWNrYWdl
X2hlYWRlcik7Cj4gIAludW1fZW50cmllcyA9IHBhY2thZ2VfaGVhZGVyLT5udW1fZW50cmllczsK
PiAtCWlmIChXQVJOX09OKHBhY2thZ2VfaGVhZGVyLT5udW1fZW50cmllcyA+IFBBQ0tBR0VfTUFY
X0ZXX0lORk9fRU5UUklFUykpCj4gLQkJbnVtX2VudHJpZXMgPSBQQUNLQUdFX01BWF9GV19JTkZP
X0VOVFJJRVM7Cj4gKwlpZiAoV0FSTl9PTihwYWNrYWdlX2hlYWRlci0+bnVtX2VudHJpZXMgPiBt
YXhfZW50cmllcykpCj4gKwkJbnVtX2VudHJpZXMgPSBtYXhfZW50cmllczsKPiAgCj4gIAlkbWNf
b2Zmc2V0ID0gZmluZF9kbWNfZndfb2Zmc2V0KChzdHJ1Y3QgaW50ZWxfZndfaW5mbyAqKQo+ICAJ
CQkJCSZmdy0+ZGF0YVtyZWFkY291bnRdLCBudW1fZW50cmllcywgc2kpOwo+IEBAIC0zOTQsOSAr
NDA3LDkgQEAgc3RhdGljIHUzMiAqcGFyc2VfY3NyX2Z3KHN0cnVjdCBkcm1faTkxNV9wcml2YXRl
ICpkZXZfcHJpdiwKPiAgCQkJICBzaS0+c3RlcHBpbmcpOwo+ICAJCXJldHVybiBOVUxMOwo+ICAJ
fQo+IC0JLyogd2UgYWx3YXlzIGhhdmUgc3BhY2UgZm9yIFBBQ0tBR0VfTUFYX0ZXX0lORk9fRU5U
UklFUyAqLwo+IC0JcmVhZGNvdW50ICs9IFBBQ0tBR0VfTUFYX0ZXX0lORk9fRU5UUklFUyAqIHNp
emVvZihzdHJ1Y3QgaW50ZWxfZndfaW5mbyk7Cj4gIAo+ICsJLyogd2UgYWx3YXlzIGhhdmUgc3Bh
Y2UgZm9yIG1heF9lbnRyaWVzLCBldmVuIGlmIG5vdCBhbGwgYXJlIHVzZWQgKi8KPiArCXJlYWRj
b3VudCArPSBtYXhfZW50cmllcyAqIHNpemVvZihzdHJ1Y3QgaW50ZWxfZndfaW5mbyk7Cj4gIAkv
KiBDb252ZXJ0IGRtY19vZmZzZXQgaW50byBudW1iZXIgb2YgYnl0ZXMuIEJ5IGRlZmF1bHQgaXQg
aXMgaW4gZHdvcmRzKi8KPiAgCWRtY19vZmZzZXQgKj0gNDsKPiAgCXJlYWRjb3VudCArPSBkbWNf
b2Zmc2V0Owo+IC0tIAo+IDIuMjEuMAo+IApfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fXwpJbnRlbC1nZnggbWFpbGluZyBsaXN0CkludGVsLWdmeEBsaXN0cy5m
cmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0
aW5mby9pbnRlbC1nZng=

Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 0F8A41A176D
	for <lists+intel-gfx@lfdr.de>; Tue,  7 Apr 2020 23:38:30 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 0D43D6E903;
	Tue,  7 Apr 2020 21:38:28 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga09.intel.com (mga09.intel.com [134.134.136.24])
 by gabe.freedesktop.org (Postfix) with ESMTPS id A74B16E157
 for <intel-gfx@lists.freedesktop.org>; Tue,  7 Apr 2020 21:38:26 +0000 (UTC)
IronPort-SDR: BZM5rvFIpuXKDof4E1Fd69HFf4RbivgRmECRtlZP/fs61rkeT0T1nFmRYgBqWlLadjSfKFQamu
 MxUCKu+WyBBQ==
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga007.jf.intel.com ([10.7.209.58])
 by orsmga102.jf.intel.com with ESMTP/TLS/ECDHE-RSA-AES256-GCM-SHA384;
 07 Apr 2020 14:38:24 -0700
IronPort-SDR: NAZlZT4x7ZWtl9lpJ21a6TepgNA6CHJYvkRHIjuXzQv6ID2c9AMfyQwjYAWV109z3YXZwMPxtb
 FFx5y16+uk7g==
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.72,356,1580803200"; d="scan'208";a="240081638"
Received: from mtadigot-mobl2.amr.corp.intel.com (HELO
 josouza-MOBL2.amr.corp.intel.com) ([10.135.56.68])
 by orsmga007.jf.intel.com with ESMTP; 07 Apr 2020 14:38:24 -0700
From: =?UTF-8?q?Jos=C3=A9=20Roberto=20de=20Souza?= <jose.souza@intel.com>
To: intel-gfx@lists.freedesktop.org
Date: Tue,  7 Apr 2020 14:39:53 -0700
Message-Id: <20200407214000.342933-1-jose.souza@intel.com>
X-Mailer: git-send-email 2.26.0
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH v3 1/8] drm/i915/display: Move out code to
 return the digital_port of the aux ch
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: You-Sheng Yang <vicamo@gmail.com>,
 You-Sheng Yang <vicamo.yang@canonical.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

TW92aW5nIHRoZSBjb2RlIHRvIHJldHVybiB0aGUgZGlnaXRhbCBwb3J0IG9mIHRoZSBhdXggY2hh
bm5lbCBhbHNvCnJlbW92aW5nIHRoZSBpbnRlbF9waHlfaXNfdGMoKSB0byBtYWtlIGl0IGdlbmVy
aWMuCmRpZ2l0YWxfcG9ydCB3aWxsIGJlIG5lZWRlZCBpbiBpY2xfdGNfcGh5X2F1eF9wb3dlcl93
ZWxsX2VuYWJsZSgpCnNvIGFkZGluZyBpdCBhcyBhIHBhcmFtZXRlciB0byBpY2xfdGNfcG9ydF9h
c3NlcnRfcmVmX2hlbGQoKS4KCldoaWxlIGF0IGF0IHJlbW92aW5nIHRoZSBkdXBsaWNhdGVkIGNh
bGwgdG8gaWNsX3RjX3BoeV9hdXhfY2goKSBpbgppY2xfdGNfcG9ydF9hc3NlcnRfcmVmX2hlbGQo
KS4KCnYyOgotIGZpeGVkIGJ1aWxkIHdoZW4gRFJNX0k5MTVfREVCVUdfUlVOVElNRV9QTSBpcyBu
b3Qgc2V0Ci0gbW92ZWQgdG8gYmVmb3JlIGhzd193YWl0X2Zvcl9wb3dlcl93ZWxsX2VuYWJsZSgp
IGFzIGl0IHdpbGwgYmUKbmVlZGVkIGJ5IGhzd193YWl0X2Zvcl9wb3dlcl93ZWxsX2VuYWJsZSgp
IGluIGEgZnV0dXJlIHBhdGNoCgpDYzogWW91LVNoZW5nIFlhbmcgPHZpY2Ftb0BnbWFpbC5jb20+
ClJldmlld2VkLWJ5OiBJbXJlIERlYWsgPGltcmUuZGVha0BpbnRlbC5jb20+ClRlc3RlZC1ieTog
WW91LVNoZW5nIFlhbmcgPHZpY2Ftby55YW5nQGNhbm9uaWNhbC5jb20+ClNpZ25lZC1vZmYtYnk6
IEpvc8OpIFJvYmVydG8gZGUgU291emEgPGpvc2Uuc291emFAaW50ZWwuY29tPgotLS0KIC4uLi9k
cm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXlfcG93ZXIuYyAgICB8IDY5ICsrKysrKysrKyst
LS0tLS0tLS0KIDEgZmlsZSBjaGFuZ2VkLCAzNyBpbnNlcnRpb25zKCspLCAzMiBkZWxldGlvbnMo
LSkKCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3Bs
YXlfcG93ZXIuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheV9w
b3dlci5jCmluZGV4IDQzM2U1YTgxZGQ0ZC4uNWE4Yjk0ZDlhMTBmIDEwMDY0NAotLS0gYS9kcml2
ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXlfcG93ZXIuYworKysgYi9kcml2
ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXlfcG93ZXIuYwpAQCAtMjgyLDYg
KzI4MiwzMyBAQCBzdGF0aWMgdm9pZCBoc3dfcG93ZXJfd2VsbF9wcmVfZGlzYWJsZShzdHJ1Y3Qg
ZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYsCiAJCWdlbjhfaXJxX3Bvd2VyX3dlbGxfcHJlX2Rp
c2FibGUoZGV2X3ByaXYsIGlycV9waXBlX21hc2spOwogfQogCitzdGF0aWMgc3RydWN0IGludGVs
X2RpZ2l0YWxfcG9ydCAqCithdXhfY2hfdG9fZGlnaXRhbF9wb3J0KHN0cnVjdCBkcm1faTkxNV9w
cml2YXRlICpkZXZfcHJpdiwKKwkJICAgICAgIGVudW0gYXV4X2NoIGF1eF9jaCkKK3sKKwlzdHJ1
Y3QgaW50ZWxfZGlnaXRhbF9wb3J0ICpkaWdfcG9ydCA9IE5VTEw7CisJc3RydWN0IGludGVsX2Vu
Y29kZXIgKmVuY29kZXI7CisKKwlmb3JfZWFjaF9pbnRlbF9lbmNvZGVyKCZkZXZfcHJpdi0+ZHJt
LCBlbmNvZGVyKSB7CisJCS8qIFdlJ2xsIGNoZWNrIHRoZSBNU1QgcHJpbWFyeSBwb3J0ICovCisJ
CWlmIChlbmNvZGVyLT50eXBlID09IElOVEVMX09VVFBVVF9EUF9NU1QpCisJCQljb250aW51ZTsK
KworCQlkaWdfcG9ydCA9IGVuY190b19kaWdfcG9ydChlbmNvZGVyKTsKKwkJaWYgKCFkaWdfcG9y
dCkKKwkJCXJldHVybiBOVUxMOworCisJCWlmIChkaWdfcG9ydC0+YXV4X2NoICE9IGF1eF9jaCkg
eworCQkJZGlnX3BvcnQgPSBOVUxMOworCQkJY29udGludWU7CisJCX0KKworCQlicmVhazsKKwl9
CisKKwlyZXR1cm4gZGlnX3BvcnQ7Cit9CisKIHN0YXRpYyB2b2lkIGhzd193YWl0X2Zvcl9wb3dl
cl93ZWxsX2VuYWJsZShzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYsCiAJCQkJCSAg
IHN0cnVjdCBpOTE1X3Bvd2VyX3dlbGwgKnBvd2VyX3dlbGwpCiB7CkBAIC01MDEsNDEgKzUyOCwx
NCBAQCBzdGF0aWMgaW50IHBvd2VyX3dlbGxfYXN5bmNfcmVmX2NvdW50KHN0cnVjdCBkcm1faTkx
NV9wcml2YXRlICpkZXZfcHJpdiwKIH0KIAogc3RhdGljIHZvaWQgaWNsX3RjX3BvcnRfYXNzZXJ0
X3JlZl9oZWxkKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiwKLQkJCQkJc3RydWN0
IGk5MTVfcG93ZXJfd2VsbCAqcG93ZXJfd2VsbCkKKwkJCQkJc3RydWN0IGk5MTVfcG93ZXJfd2Vs
bCAqcG93ZXJfd2VsbCwKKwkJCQkJc3RydWN0IGludGVsX2RpZ2l0YWxfcG9ydCAqZGlnX3BvcnQp
CiB7Ci0JZW51bSBhdXhfY2ggYXV4X2NoID0gaWNsX3RjX3BoeV9hdXhfY2goZGV2X3ByaXYsIHBv
d2VyX3dlbGwpOwotCXN0cnVjdCBpbnRlbF9kaWdpdGFsX3BvcnQgKmRpZ19wb3J0ID0gTlVMTDsK
LQlzdHJ1Y3QgaW50ZWxfZW5jb2RlciAqZW5jb2RlcjsKLQogCS8qIEJ5cGFzcyB0aGUgY2hlY2sg
aWYgYWxsIHJlZmVyZW5jZXMgYXJlIHJlbGVhc2VkIGFzeW5jaHJvbm91c2x5ICovCiAJaWYgKHBv
d2VyX3dlbGxfYXN5bmNfcmVmX2NvdW50KGRldl9wcml2LCBwb3dlcl93ZWxsKSA9PQogCSAgICBw
b3dlcl93ZWxsLT5jb3VudCkKIAkJcmV0dXJuOwogCi0JYXV4X2NoID0gaWNsX3RjX3BoeV9hdXhf
Y2goZGV2X3ByaXYsIHBvd2VyX3dlbGwpOwotCi0JZm9yX2VhY2hfaW50ZWxfZW5jb2RlcigmZGV2
X3ByaXYtPmRybSwgZW5jb2RlcikgewotCQllbnVtIHBoeSBwaHkgPSBpbnRlbF9wb3J0X3RvX3Bo
eShkZXZfcHJpdiwgZW5jb2Rlci0+cG9ydCk7Ci0KLQkJaWYgKCFpbnRlbF9waHlfaXNfdGMoZGV2
X3ByaXYsIHBoeSkpCi0JCQljb250aW51ZTsKLQotCQkvKiBXZSdsbCBjaGVjayB0aGUgTVNUIHBy
aW1hcnkgcG9ydCAqLwotCQlpZiAoZW5jb2Rlci0+dHlwZSA9PSBJTlRFTF9PVVRQVVRfRFBfTVNU
KQotCQkJY29udGludWU7Ci0KLQkJZGlnX3BvcnQgPSBlbmNfdG9fZGlnX3BvcnQoZW5jb2Rlcik7
Ci0JCWlmIChkcm1fV0FSTl9PTigmZGV2X3ByaXYtPmRybSwgIWRpZ19wb3J0KSkKLQkJCWNvbnRp
bnVlOwotCi0JCWlmIChkaWdfcG9ydC0+YXV4X2NoICE9IGF1eF9jaCkgewotCQkJZGlnX3BvcnQg
PSBOVUxMOwotCQkJY29udGludWU7Ci0JCX0KLQotCQlicmVhazsKLQl9Ci0KIAlpZiAoZHJtX1dB
Uk5fT04oJmRldl9wcml2LT5kcm0sICFkaWdfcG9ydCkpCiAJCXJldHVybjsKIApAQCAtNTQ1LDcg
KzU0NSw4IEBAIHN0YXRpYyB2b2lkIGljbF90Y19wb3J0X2Fzc2VydF9yZWZfaGVsZChzdHJ1Y3Qg
ZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYsCiAjZWxzZQogCiBzdGF0aWMgdm9pZCBpY2xfdGNf
cG9ydF9hc3NlcnRfcmVmX2hlbGQoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2LAot
CQkJCQlzdHJ1Y3QgaTkxNV9wb3dlcl93ZWxsICpwb3dlcl93ZWxsKQorCQkJCQlzdHJ1Y3QgaTkx
NV9wb3dlcl93ZWxsICpwb3dlcl93ZWxsLAorCQkJCQlzdHJ1Y3QgaW50ZWxfZGlnaXRhbF9wb3J0
ICpkaWdfcG9ydCkKIHsKIH0KIApAQCAtNTU4LDkgKzU1OSwxMCBAQCBpY2xfdGNfcGh5X2F1eF9w
b3dlcl93ZWxsX2VuYWJsZShzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYsCiAJCQkJ
IHN0cnVjdCBpOTE1X3Bvd2VyX3dlbGwgKnBvd2VyX3dlbGwpCiB7CiAJZW51bSBhdXhfY2ggYXV4
X2NoID0gaWNsX3RjX3BoeV9hdXhfY2goZGV2X3ByaXYsIHBvd2VyX3dlbGwpOworCXN0cnVjdCBp
bnRlbF9kaWdpdGFsX3BvcnQgKmRpZ19wb3J0ID0gYXV4X2NoX3RvX2RpZ2l0YWxfcG9ydChkZXZf
cHJpdiwgYXV4X2NoKTsKIAl1MzIgdmFsOwogCi0JaWNsX3RjX3BvcnRfYXNzZXJ0X3JlZl9oZWxk
KGRldl9wcml2LCBwb3dlcl93ZWxsKTsKKwlpY2xfdGNfcG9ydF9hc3NlcnRfcmVmX2hlbGQoZGV2
X3ByaXYsIHBvd2VyX3dlbGwsIGRpZ19wb3J0KTsKIAogCXZhbCA9IGludGVsX2RlX3JlYWQoZGV2
X3ByaXYsIERQX0FVWF9DSF9DVEwoYXV4X2NoKSk7CiAJdmFsICY9IH5EUF9BVVhfQ0hfQ1RMX1RC
VF9JTzsKQEAgLTU4OCw3ICs1OTAsMTAgQEAgc3RhdGljIHZvaWQKIGljbF90Y19waHlfYXV4X3Bv
d2VyX3dlbGxfZGlzYWJsZShzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYsCiAJCQkJ
ICBzdHJ1Y3QgaTkxNV9wb3dlcl93ZWxsICpwb3dlcl93ZWxsKQogewotCWljbF90Y19wb3J0X2Fz
c2VydF9yZWZfaGVsZChkZXZfcHJpdiwgcG93ZXJfd2VsbCk7CisJZW51bSBhdXhfY2ggYXV4X2No
ID0gaWNsX3RjX3BoeV9hdXhfY2goZGV2X3ByaXYsIHBvd2VyX3dlbGwpOworCXN0cnVjdCBpbnRl
bF9kaWdpdGFsX3BvcnQgKmRpZ19wb3J0ID0gYXV4X2NoX3RvX2RpZ2l0YWxfcG9ydChkZXZfcHJp
diwgYXV4X2NoKTsKKworCWljbF90Y19wb3J0X2Fzc2VydF9yZWZfaGVsZChkZXZfcHJpdiwgcG93
ZXJfd2VsbCwgZGlnX3BvcnQpOwogCiAJaHN3X3Bvd2VyX3dlbGxfZGlzYWJsZShkZXZfcHJpdiwg
cG93ZXJfd2VsbCk7CiB9Ci0tIAoyLjI2LjAKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fCkludGVsLWdmeCBtYWlsaW5nIGxpc3QKSW50ZWwtZ2Z4QGxpc3Rz
LmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xp
c3RpbmZvL2ludGVsLWdmeAo=

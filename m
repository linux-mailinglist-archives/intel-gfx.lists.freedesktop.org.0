Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id D81A1D9136
	for <lists+intel-gfx@lfdr.de>; Wed, 16 Oct 2019 14:43:17 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 39B586E966;
	Wed, 16 Oct 2019 12:43:16 +0000 (UTC)
X-Original-To: Intel-gfx@lists.freedesktop.org
Delivered-To: Intel-gfx@lists.freedesktop.org
Received: from fireflyinternet.com (mail.fireflyinternet.com [109.228.58.192])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 50DA06E966
 for <Intel-gfx@lists.freedesktop.org>; Wed, 16 Oct 2019 12:43:14 +0000 (UTC)
X-Default-Received-SPF: pass (skip=forwardok (res=PASS))
 x-ip-name=78.156.65.138; 
Received: from localhost (unverified [78.156.65.138]) 
 by fireflyinternet.com (Firefly Internet (M1)) with ESMTP (TLS) id
 18856878-1500050 for multiple; Wed, 16 Oct 2019 13:42:57 +0100
MIME-Version: 1.0
To: Intel-gfx@lists.freedesktop.org,
 Tvrtko Ursulin <tvrtko.ursulin@linux.intel.com>
From: Chris Wilson <chris@chris-wilson.co.uk>
In-Reply-To: <20191016122557.9315-1-tvrtko.ursulin@linux.intel.com>
References: <20191016122557.9315-1-tvrtko.ursulin@linux.intel.com>
Message-ID: <157122977475.22469.14720333723083228727@skylake-alporthouse-com>
User-Agent: alot/0.6
Date: Wed, 16 Oct 2019 13:42:54 +0100
Subject: Re: [Intel-gfx] [PATCH 1/3] drm/i915: Make
 i915_gem_load_power_context take struct intel_gt
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

UXVvdGluZyBUdnJ0a28gVXJzdWxpbiAoMjAxOS0xMC0xNiAxMzoyNTo1NSkKPiBGcm9tOiBUdnJ0
a28gVXJzdWxpbiA8dHZydGtvLnVyc3VsaW5AaW50ZWwuY29tPgo+IAo+IFRoZSBjb2RlIHVuZGVy
bmVhdGggd29ya3Mgb24gaW50ZWxfZ3QgYW5kIGFsc28gcmVuYW1lIHRvCj4gaTkxNV9nZW1fbG9h
ZF9ndF9wb3dlcl9jb250ZXh0IHRvIHNpZ25pZnkgaXQgaXMgb3BlcmF0aW5nIG9uIEdULgo+IAo+
IFNpZ25lZC1vZmYtYnk6IFR2cnRrbyBVcnN1bGluIDx0dnJ0a28udXJzdWxpbkBpbnRlbC5jb20+
Cj4gQ2M6IENocmlzIFdpbHNvbiA8Y2hyaXNAY2hyaXMtd2lsc29uLmNvLnVrPgo+IC0tLQo+ICBk
cml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fcG0uYyB8IDI0ICsrKysrKysrKysrKyst
LS0tLS0tLS0tLQo+ICBkcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fcG0uaCB8ICAz
ICsrLQo+ICBkcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2dlbS5jICAgICAgICB8ICAyICstCj4g
IDMgZmlsZXMgY2hhbmdlZCwgMTYgaW5zZXJ0aW9ucygrKSwgMTMgZGVsZXRpb25zKC0pCj4gCj4g
ZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9wbS5jIGIvZHJp
dmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX3BtLmMKPiBpbmRleCA3OTg3YjU0ZmIxZjUu
LmIyYzE4Njc0YzQ1NSAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkx
NV9nZW1fcG0uYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9wbS5j
Cj4gQEAgLTU2LDkgKzU2LDkgQEAgc3RhdGljIGJvb2wgc3dpdGNoX3RvX2tlcm5lbF9jb250ZXh0
X3N5bmMoc3RydWN0IGludGVsX2d0ICpndCkKPiAgICAgICAgIHJldHVybiByZXN1bHQ7Cj4gIH0K
PiAgCj4gLWJvb2wgaTkxNV9nZW1fbG9hZF9wb3dlcl9jb250ZXh0KHN0cnVjdCBkcm1faTkxNV9w
cml2YXRlICppOTE1KQo+ICtib29sIGk5MTVfZ2VtX2xvYWRfZ3RfcG93ZXJfY29udGV4dChzdHJ1
Y3QgaW50ZWxfZ3QgKmd0KQo+ICB7Cj4gLSAgICAgICByZXR1cm4gc3dpdGNoX3RvX2tlcm5lbF9j
b250ZXh0X3N5bmMoJmk5MTUtPmd0KTsKPiArICAgICAgIHJldHVybiBzd2l0Y2hfdG9fa2VybmVs
X2NvbnRleHRfc3luYyhndCk7Cj4gIH0KPiAgCj4gIHN0YXRpYyB2b2lkIHVzZXJfZm9yY2V3YWtl
KHN0cnVjdCBpbnRlbF9ndCAqZ3QsIGJvb2wgc3VzcGVuZCkKPiBAQCAtMTcyLDExICsxNzIsMTMg
QEAgdm9pZCBpOTE1X2dlbV9zdXNwZW5kX2xhdGUoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5
MTUpCj4gIAo+ICB2b2lkIGk5MTVfZ2VtX3Jlc3VtZShzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAq
aTkxNSkKPiAgewo+ICsgICAgICAgc3RydWN0IGludGVsX2d0ICpndCA9ICZpOTE1LT5ndDsKPiAr
Cj4gICAgICAgICBHRU1fVFJBQ0UoIlxuIik7Cj4gIAo+IC0gICAgICAgaW50ZWxfdW5jb3JlX2Zv
cmNld2FrZV9nZXQoJmk5MTUtPnVuY29yZSwgRk9SQ0VXQUtFX0FMTCk7Cj4gKyAgICAgICBpbnRl
bF91bmNvcmVfZm9yY2V3YWtlX2dldChndC0+dW5jb3JlLCBGT1JDRVdBS0VfQUxMKTsKPiAgCj4g
LSAgICAgICBpZiAoaW50ZWxfZ3RfaW5pdF9odygmaTkxNS0+Z3QpKQo+ICsgICAgICAgaWYgKGlu
dGVsX2d0X2luaXRfaHcoZ3QpKQo+ICAgICAgICAgICAgICAgICBnb3RvIGVycl93ZWRnZWQ7Cj4g
IAo+ICAgICAgICAgLyoKPiBAQCAtMTg0LDI2ICsxODYsMjYgQEAgdm9pZCBpOTE1X2dlbV9yZXN1
bWUoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUpCj4gICAgICAgICAgKiBndWFyYW50ZWUg
dGhhdCB0aGUgY29udGV4dCBpbWFnZSBpcyBjb21wbGV0ZS4gU28gbGV0J3MganVzdCByZXNldAo+
ICAgICAgICAgICogaXQgYW5kIHN0YXJ0IGFnYWluLgo+ICAgICAgICAgICovCj4gLSAgICAgICBp
ZiAoaW50ZWxfZ3RfcmVzdW1lKCZpOTE1LT5ndCkpCj4gKyAgICAgICBpZiAoaW50ZWxfZ3RfcmVz
dW1lKGd0KSkKPiAgICAgICAgICAgICAgICAgZ290byBlcnJfd2VkZ2VkOwo+ICAKPiAtICAgICAg
IGludGVsX3VjX3Jlc3VtZSgmaTkxNS0+Z3QudWMpOwo+ICsgICAgICAgaW50ZWxfdWNfcmVzdW1l
KCZndC0+dWMpOwo+ICAKPiAgICAgICAgIC8qIEFsd2F5cyByZWxvYWQgYSBjb250ZXh0IGZvciBw
b3dlcnNhdmluZy4gKi8KPiAtICAgICAgIGlmICghaTkxNV9nZW1fbG9hZF9wb3dlcl9jb250ZXh0
KGk5MTUpKQo+ICsgICAgICAgaWYgKCFpOTE1X2dlbV9sb2FkX2d0X3Bvd2VyX2NvbnRleHQoZ3Qp
KQo+ICAgICAgICAgICAgICAgICBnb3RvIGVycl93ZWRnZWQ7Cj4gIAo+IC0gICAgICAgdXNlcl9m
b3JjZXdha2UoJmk5MTUtPmd0LCBmYWxzZSk7Cj4gKyAgICAgICB1c2VyX2ZvcmNld2FrZShndCwg
ZmFsc2UpOwo+ICAKPiAgb3V0X3VubG9jazoKPiAtICAgICAgIGludGVsX3VuY29yZV9mb3JjZXdh
a2VfcHV0KCZpOTE1LT51bmNvcmUsIEZPUkNFV0FLRV9BTEwpOwo+ICsgICAgICAgaW50ZWxfdW5j
b3JlX2ZvcmNld2FrZV9wdXQoZ3QtPnVuY29yZSwgRk9SQ0VXQUtFX0FMTCk7Cj4gICAgICAgICBy
ZXR1cm47Cj4gIAo+ICBlcnJfd2VkZ2VkOgo+IC0gICAgICAgaWYgKCFpbnRlbF9ndF9pc193ZWRn
ZWQoJmk5MTUtPmd0KSkgewo+ICsgICAgICAgaWYgKCFpbnRlbF9ndF9pc193ZWRnZWQoZ3QpKSB7
Cj4gICAgICAgICAgICAgICAgIGRldl9lcnIoaTkxNS0+ZHJtLmRldiwKPiAgICAgICAgICAgICAg
ICAgICAgICAgICAiRmFpbGVkIHRvIHJlLWluaXRpYWxpemUgR1BVLCBkZWNsYXJpbmcgaXQgd2Vk
Z2VkIVxuIik7Cj4gLSAgICAgICAgICAgICAgIGludGVsX2d0X3NldF93ZWRnZWQoJmk5MTUtPmd0
KTsKPiArICAgICAgICAgICAgICAgaW50ZWxfZ3Rfc2V0X3dlZGdlZChndCk7Cj4gICAgICAgICB9
Cj4gICAgICAgICBnb3RvIG91dF91bmxvY2s7Cj4gIH0KPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9n
cHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX3BtLmggYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0v
aTkxNV9nZW1fcG0uaAo+IGluZGV4IDZmN2Q1ZDExYWMzYi4uMzhlYWNlNGNiNmJhIDEwMDY0NAo+
IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9wbS5oCj4gKysrIGIvZHJp
dmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX3BtLmgKPiBAQCAtMTAsMTEgKzEwLDEyIEBA
Cj4gICNpbmNsdWRlIDxsaW51eC90eXBlcy5oPgo+ICAKPiAgc3RydWN0IGRybV9pOTE1X3ByaXZh
dGU7Cj4gK3N0cnVjdCBpbnRlbF9ndDsKPiAgc3RydWN0IHdvcmtfc3RydWN0Owo+ICAKPiAgdm9p
ZCBpOTE1X2dlbV9pbml0X19wbShzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSk7Cj4gIAo+
IC1ib29sIGk5MTVfZ2VtX2xvYWRfcG93ZXJfY29udGV4dChzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0
ZSAqaTkxNSk7Cj4gK2Jvb2wgaTkxNV9nZW1fbG9hZF9ndF9wb3dlcl9jb250ZXh0KHN0cnVjdCBp
bnRlbF9ndCAqZ3QpOwo+ICB2b2lkIGk5MTVfZ2VtX3Jlc3VtZShzdHJ1Y3QgZHJtX2k5MTVfcHJp
dmF0ZSAqaTkxNSk7Cj4gIAo+ICB2b2lkIGk5MTVfZ2VtX2lkbGVfd29ya19oYW5kbGVyKHN0cnVj
dCB3b3JrX3N0cnVjdCAqd29yayk7Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1
L2k5MTVfZ2VtLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2dlbS5jCj4gaW5kZXggMGRk
YmQzYTVmYjhkLi5jNGViYzIxYzY4MjAgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5
MTUvaTkxNV9nZW0uYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZ2VtLmMKPiBA
QCAtMTEzMiw3ICsxMTMyLDcgQEAgc3RhdGljIGludCBfX2ludGVsX2VuZ2luZXNfcmVjb3JkX2Rl
ZmF1bHRzKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICppOTE1KQo+ICAgICAgICAgfQo+ICAKPiAg
ICAgICAgIC8qIEZsdXNoIHRoZSBkZWZhdWx0IGNvbnRleHQgaW1hZ2UgdG8gbWVtb3J5LCBhbmQg
ZW5hYmxlIHBvd2Vyc2F2aW5nLiAqLwo+IC0gICAgICAgaWYgKCFpOTE1X2dlbV9sb2FkX3Bvd2Vy
X2NvbnRleHQoaTkxNSkpIHsKPiArICAgICAgIGlmICghaTkxNV9nZW1fbG9hZF9ndF9wb3dlcl9j
b250ZXh0KCZpOTE1LT5ndCkpIHsKPiAgICAgICAgICAgICAgICAgZXJyID0gLUVJTzsKPiAgICAg
ICAgICAgICAgICAgZ290byBvdXQ7Cj4gICAgICAgICB9CgpOb3QgcXVpdGUsIHRoZSBwbGFuIGlz
IHRvIG1vdmUgdGhpcyBhbGwgdG8gdGhlIGd0LiBQYWdpbmcgQW5kaSwgY29tZSBpbgpBbmRpIQot
Q2hyaXMKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KSW50
ZWwtZ2Z4IG1haWxpbmcgbGlzdApJbnRlbC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBz
Oi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vaW50ZWwtZ2Z4

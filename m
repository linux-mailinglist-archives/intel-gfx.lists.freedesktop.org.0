Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id E05C2BD3F4
	for <lists+intel-gfx@lfdr.de>; Tue, 24 Sep 2019 23:00:54 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 68F196EB02;
	Tue, 24 Sep 2019 21:00:49 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga02.intel.com (mga02.intel.com [134.134.136.20])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 973BC6EAFC
 for <intel-gfx@lists.freedesktop.org>; Tue, 24 Sep 2019 21:00:47 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga004.jf.intel.com ([10.7.209.38])
 by orsmga101.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 24 Sep 2019 14:00:45 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.64,545,1559545200"; d="scan'208";a="340202060"
Received: from josouza-mobl.jf.intel.com ([10.7.200.160])
 by orsmga004.jf.intel.com with ESMTP; 24 Sep 2019 14:00:45 -0700
From: =?UTF-8?q?Jos=C3=A9=20Roberto=20de=20Souza?= <jose.souza@intel.com>
To: intel-gfx@lists.freedesktop.org
Date: Tue, 24 Sep 2019 14:00:39 -0700
Message-Id: <20190924210040.142075-5-jose.souza@intel.com>
X-Mailer: git-send-email 2.23.0
In-Reply-To: <20190924210040.142075-1-jose.souza@intel.com>
References: <20190924210040.142075-1-jose.souza@intel.com>
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH CI 5/6] drm/i915/tgl: Add dkl phy pll
 calculations
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: Lucas De Marchi <lucas.demarchi@intel.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

RXh0ZW5kaW5nIElDTCBtZyBjYWxjdWxhdGlvbnMgdG8gYWxzbyBzdXBwb3J0IGRrbCBjYWxjdWxh
dGlvbnMuCgp2MzoKRml4aW5nIGlyZWZfdHJpbSBjYWxjdWxhdGlvbiBmb3IgMzg0MDAgcmVmY2xv
Y2sKCkJTcGVjOiA0OTIwNAoKUmV2aWV3ZWQtYnk6IEx1Y2FzIERlIE1hcmNoaSA8bHVjYXMuZGVt
YXJjaGlAaW50ZWwuY29tPgpTaWduZWQtb2ZmLWJ5OiBWYW5kaXRhIEt1bGthcm5pIDx2YW5kaXRh
Lmt1bGthcm5pQGludGVsLmNvbT4KU2lnbmVkLW9mZi1ieTogSm9zw6kgUm9iZXJ0byBkZSBTb3V6
YSA8am9zZS5zb3V6YUBpbnRlbC5jb20+Ci0tLQogZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxh
eS9pbnRlbF9kZGkuYyAgICAgIHwgMjkgKysrKysrKysrLS0tCiBkcml2ZXJzL2dwdS9kcm0vaTkx
NS9kaXNwbGF5L2ludGVsX2RwbGxfbWdyLmMgfCA0NSArKysrKysrKysrKysrKysrLS0tCiAyIGZp
bGVzIGNoYW5nZWQsIDYyIGluc2VydGlvbnMoKyksIDEyIGRlbGV0aW9ucygtKQoKZGlmZiAtLWdp
dCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGRpLmMgYi9kcml2ZXJzL2dw
dS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2RkaS5jCmluZGV4IDMzY2Q3NjZmOWVlYS4uZjZhZTk5
MGYwOTdiIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rk
aS5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGRpLmMKQEAgLTE0
MTMsMTEgKzE0MTMsMzAgQEAgc3RhdGljIGludCBpY2xfY2FsY19tZ19wbGxfbGluayhzdHJ1Y3Qg
ZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYsCiAKIAlyZWZfY2xvY2sgPSBkZXZfcHJpdi0+Y2Rj
bGsuaHcucmVmOwogCi0JbTEgPSBwbGxfc3RhdGUtPm1nX3BsbF9kaXYxICYgTUdfUExMX0RJVjFf
RkJQUkVESVZfTUFTSzsKLQltMl9pbnQgPSBwbGxfc3RhdGUtPm1nX3BsbF9kaXYwICYgTUdfUExM
X0RJVjBfRkJESVZfSU5UX01BU0s7Ci0JbTJfZnJhYyA9IChwbGxfc3RhdGUtPm1nX3BsbF9kaXYw
ICYgTUdfUExMX0RJVjBfRlJBQ05FTl9IKSA/Ci0JCShwbGxfc3RhdGUtPm1nX3BsbF9kaXYwICYg
TUdfUExMX0RJVjBfRkJESVZfRlJBQ19NQVNLKSA+PgotCQlNR19QTExfRElWMF9GQkRJVl9GUkFD
X1NISUZUIDogMDsKKwlpZiAoSU5URUxfR0VOKGRldl9wcml2KSA+PSAxMikgeworCQltMSA9IHBs
bF9zdGF0ZS0+bWdfcGxsX2RpdjAgJiBES0xfUExMX0RJVjBfRkJQUkVESVZfTUFTSzsKKwkJbTEg
PSBtMSA+PiBES0xfUExMX0RJVjBfRkJQUkVESVZfU0hJRlQ7CisJCW0yX2ludCA9IHBsbF9zdGF0
ZS0+bWdfcGxsX2RpdjAgJiBES0xfUExMX0RJVjBfRkJESVZfSU5UX01BU0s7CisKKwkJaWYgKHBs
bF9zdGF0ZS0+bWdfcGxsX2JpYXMgJiBES0xfUExMX0JJQVNfRlJBQ19FTl9IKSB7CisJCQltMl9m
cmFjID0gcGxsX3N0YXRlLT5tZ19wbGxfYmlhcyAmCisJCQkJICBES0xfUExMX0JJQVNfRkJESVZf
RlJBQ19NQVNLOworCQkJbTJfZnJhYyA9IG0yX2ZyYWMgPj4gREtMX1BMTF9CSUFTX0ZCRElWX1NI
SUZUOworCQl9IGVsc2UgeworCQkJbTJfZnJhYyA9IDA7CisJCX0KKwl9IGVsc2UgeworCQltMSA9
IHBsbF9zdGF0ZS0+bWdfcGxsX2RpdjEgJiBNR19QTExfRElWMV9GQlBSRURJVl9NQVNLOworCQlt
Ml9pbnQgPSBwbGxfc3RhdGUtPm1nX3BsbF9kaXYwICYgTUdfUExMX0RJVjBfRkJESVZfSU5UX01B
U0s7CisKKwkJaWYgKHBsbF9zdGF0ZS0+bWdfcGxsX2RpdjAgJiBNR19QTExfRElWMF9GUkFDTkVO
X0gpIHsKKwkJCW0yX2ZyYWMgPSBwbGxfc3RhdGUtPm1nX3BsbF9kaXYwICYKKwkJCQkgIE1HX1BM
TF9ESVYwX0ZCRElWX0ZSQUNfTUFTSzsKKwkJCW0yX2ZyYWMgPSBtMl9mcmFjID4+IE1HX1BMTF9E
SVYwX0ZCRElWX0ZSQUNfU0hJRlQ7CisJCX0gZWxzZSB7CisJCQltMl9mcmFjID0gMDsKKwkJfQor
CX0KIAogCXN3aXRjaCAocGxsX3N0YXRlLT5tZ19jbGt0b3AyX2hzY2xrY3RsICYKIAkJTUdfQ0xL
VE9QMl9IU0NMS0NUTF9IU0RJVl9SQVRJT19NQVNLKSB7CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dw
dS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2RwbGxfbWdyLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkx
NS9kaXNwbGF5L2ludGVsX2RwbGxfbWdyLmMKaW5kZXggY2UyZGVlMzhjOTU2Li42OWFiYWZhNDVj
ZTkgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZHBsbF9t
Z3IuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2RwbGxfbWdyLmMK
QEAgLTI2MDcsNyArMjYwNyw4IEBAIGVudW0gaW50ZWxfZHBsbF9pZCBpY2xfdGNfcG9ydF90b19w
bGxfaWQoZW51bSB0Y19wb3J0IHRjX3BvcnQpCiAKIHN0YXRpYyBib29sIGljbF9tZ19wbGxfZmlu
ZF9kaXZpc29ycyhpbnQgY2xvY2tfa2h6LCBib29sIGlzX2RwLCBib29sIHVzZV9zc2MsCiAJCQkJ
ICAgICB1MzIgKnRhcmdldF9kY29fa2h6LAotCQkJCSAgICAgc3RydWN0IGludGVsX2RwbGxfaHdf
c3RhdGUgKnN0YXRlKQorCQkJCSAgICAgc3RydWN0IGludGVsX2RwbGxfaHdfc3RhdGUgKnN0YXRl
LAorCQkJCSAgICAgYm9vbCBpc19ka2wpCiB7CiAJdTMyIGRjb19taW5fZnJlcSwgZGNvX21heF9m
cmVxOwogCWludCBkaXYxX3ZhbHNbXSA9IHs3LCA1LCAzLCAyfTsKQEAgLTI2MjksOCArMjYzMCwx
MyBAQCBzdGF0aWMgYm9vbCBpY2xfbWdfcGxsX2ZpbmRfZGl2aXNvcnMoaW50IGNsb2NrX2toeiwg
Ym9vbCBpc19kcCwgYm9vbCB1c2Vfc3NjLAogCQkJCWNvbnRpbnVlOwogCiAJCQlpZiAoZGl2MiA+
PSAyKSB7Ci0JCQkJYV9kaXZyYXRpbyA9IGlzX2RwID8gMTAgOiA1OwotCQkJCXRsaW5lZHJ2ID0g
MjsKKwkJCQlpZiAoaXNfZGtsKSB7CisJCQkJCWFfZGl2cmF0aW8gPSA1OworCQkJCQl0bGluZWRy
diA9IDE7CisJCQkJfSBlbHNlIHsKKwkJCQkJYV9kaXZyYXRpbyA9IGlzX2RwID8gMTAgOiA1Owor
CQkJCQl0bGluZWRydiA9IDI7CisJCQkJfQogCQkJfSBlbHNlIHsKIAkJCQlhX2RpdnJhdGlvID0g
NTsKIAkJCQl0bGluZWRydiA9IDA7CkBAIC0yNjkzLDExICsyNjk5LDEyIEBAIHN0YXRpYyBib29s
IGljbF9jYWxjX21nX3BsbF9zdGF0ZShzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqY3J0Y19zdGF0
ZSwKIAl1NjQgdG1wOwogCWJvb2wgdXNlX3NzYyA9IGZhbHNlOwogCWJvb2wgaXNfZHAgPSAhaW50
ZWxfY3J0Y19oYXNfdHlwZShjcnRjX3N0YXRlLCBJTlRFTF9PVVRQVVRfSERNSSk7CisJYm9vbCBp
c19ka2wgPSBJTlRFTF9HRU4oZGV2X3ByaXYpID49IDEyOwogCiAJbWVtc2V0KHBsbF9zdGF0ZSwg
MCwgc2l6ZW9mKCpwbGxfc3RhdGUpKTsKIAogCWlmICghaWNsX21nX3BsbF9maW5kX2Rpdmlzb3Jz
KGNsb2NrLCBpc19kcCwgdXNlX3NzYywgJmRjb19raHosCi0JCQkJICAgICAgcGxsX3N0YXRlKSkg
eworCQkJCSAgICAgIHBsbF9zdGF0ZSwgaXNfZGtsKSkgewogCQlEUk1fREVCVUdfS01TKCJGYWls
ZWQgdG8gZmluZCBkaXZpc29ycyBmb3IgY2xvY2sgJWRcbiIsIGNsb2NrKTsKIAkJcmV0dXJuIGZh
bHNlOwogCX0KQEAgLTI3MDUsOCArMjcxMiwxMSBAQCBzdGF0aWMgYm9vbCBpY2xfY2FsY19tZ19w
bGxfc3RhdGUoc3RydWN0IGludGVsX2NydGNfc3RhdGUgKmNydGNfc3RhdGUsCiAJbTFkaXYgPSAy
OwogCW0yZGl2X2ludCA9IGRjb19raHogLyAocmVmY2xrX2toeiAqIG0xZGl2KTsKIAlpZiAobTJk
aXZfaW50ID4gMjU1KSB7Ci0JCW0xZGl2ID0gNDsKLQkJbTJkaXZfaW50ID0gZGNvX2toeiAvIChy
ZWZjbGtfa2h6ICogbTFkaXYpOworCQlpZiAoIWlzX2RrbCkgeworCQkJbTFkaXYgPSA0OworCQkJ
bTJkaXZfaW50ID0gZGNvX2toeiAvIChyZWZjbGtfa2h6ICogbTFkaXYpOworCQl9CisKIAkJaWYg
KG0yZGl2X2ludCA+IDI1NSkgewogCQkJRFJNX0RFQlVHX0tNUygiRmFpbGVkIHRvIGZpbmQgbWRp
diBmb3IgY2xvY2sgJWRcbiIsCiAJCQkJICAgICAgY2xvY2spOwpAQCAtMjc4Nyw3ICsyNzk3LDI4
IEBAIHN0YXRpYyBib29sIGljbF9jYWxjX21nX3BsbF9zdGF0ZShzdHJ1Y3QgaW50ZWxfY3J0Y19z
dGF0ZSAqY3J0Y19zdGF0ZSwKIAlzc2Nfc3RlcGxvZyA9IDQ7CiAKIAkvKiB3cml0ZSBwbGxfc3Rh
dGUgY2FsY3VsYXRpb25zICovCi0JeworCWlmIChpc19ka2wpIHsKKwkJcGxsX3N0YXRlLT5tZ19w
bGxfZGl2MCA9IERLTF9QTExfRElWMF9JTlRFR19DT0VGRihpbnRfY29lZmYpIHwKKwkJCQkJIERL
TF9QTExfRElWMF9QUk9QX0NPRUZGKHByb3BfY29lZmYpIHwKKwkJCQkJIERLTF9QTExfRElWMF9G
QlBSRURJVihtMWRpdikgfAorCQkJCQkgREtMX1BMTF9ESVYwX0ZCRElWX0lOVChtMmRpdl9pbnQp
OworCisJCXBsbF9zdGF0ZS0+bWdfcGxsX2RpdjEgPSBES0xfUExMX0RJVjFfSVJFRl9UUklNKGly
ZWZfdHJpbSkgfAorCQkJCQkgREtMX1BMTF9ESVYxX1REQ19UQVJHRVRfQ05UKHRkY190YXJnZXRj
bnQpOworCisJCXBsbF9zdGF0ZS0+bWdfcGxsX3NzYyA9IERLTF9QTExfU1NDX0lSRUZfTkRJVl9S
QVRJTyhpcmVmX25kaXYpIHwKKwkJCQkJREtMX1BMTF9TU0NfU1RFUF9MRU4oc3NjX3N0ZXBsZW4p
IHwKKwkJCQkJREtMX1BMTF9TU0NfU1RFUF9OVU0oc3NjX3N0ZXBsb2cpIHwKKwkJCQkJKHVzZV9z
c2MgPyBES0xfUExMX1NTQ19FTiA6IDApOworCisJCXBsbF9zdGF0ZS0+bWdfcGxsX2JpYXMgPSAo
bTJkaXZfZnJhYyA/IERLTF9QTExfQklBU19GUkFDX0VOX0ggOiAwKSB8CisJCQkJCSAgREtMX1BM
TF9CSUFTX0ZCRElWX0ZSQUMobTJkaXZfZnJhYyk7CisKKwkJcGxsX3N0YXRlLT5tZ19wbGxfdGRj
X2NvbGRzdF9iaWFzID0KKwkJCQlES0xfUExMX1REQ19TU0NfU1RFUF9TSVpFKHNzY19zdGVwc2l6
ZSkgfAorCQkJCURLTF9QTExfVERDX0ZFRURfRldEX0dBSU4oZmVlZGZ3Z2Fpbik7CisKKwl9IGVs
c2UgewogCQlwbGxfc3RhdGUtPm1nX3BsbF9kaXYwID0KIAkJCShtMmRpdl9yZW0gPiAwID8gTUdf
UExMX0RJVjBfRlJBQ05FTl9IIDogMCkgfAogCQkJTUdfUExMX0RJVjBfRkJESVZfRlJBQyhtMmRp
dl9mcmFjKSB8Ci0tIAoyLjIzLjAKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fCkludGVsLWdmeCBtYWlsaW5nIGxpc3QKSW50ZWwtZ2Z4QGxpc3RzLmZyZWVk
ZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZv
L2ludGVsLWdmeA==

Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 926A4B39F2
	for <lists+intel-gfx@lfdr.de>; Mon, 16 Sep 2019 14:06:15 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id E1C746E249;
	Mon, 16 Sep 2019 12:06:13 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga09.intel.com (mga09.intel.com [134.134.136.24])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 2CB586E249;
 Mon, 16 Sep 2019 12:06:07 +0000 (UTC)
X-Amp-Result: UNKNOWN
X-Amp-Original-Verdict: FILE UNKNOWN
X-Amp-File-Uploaded: False
Received: from orsmga008.jf.intel.com ([10.7.209.65])
 by orsmga102.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 16 Sep 2019 05:06:06 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.64,492,1559545200"; d="scan'208";a="180412459"
Received: from thrakatuluk.fi.intel.com (HELO thrakatuluk) ([10.237.68.154])
 by orsmga008.jf.intel.com with ESMTP; 16 Sep 2019 05:06:05 -0700
Received: from platvala by thrakatuluk with local (Exim 4.91)
 (envelope-from <petri.latvala@intel.com>)
 id 1i9plc-0002Px-O0; Mon, 16 Sep 2019 15:06:04 +0300
Date: Mon, 16 Sep 2019 15:06:04 +0300
From: Petri Latvala <petri.latvala@intel.com>
To: Chris Wilson <chris@chris-wilson.co.uk>
Message-ID: <20190916120604.GT4019@platvala-desk.ger.corp.intel.com>
Mail-Followup-To: Chris Wilson <chris@chris-wilson.co.uk>,
 intel-gfx@lists.freedesktop.org, igt-dev@lists.freedesktop.org
References: <20190915093948.2835-1-chris@chris-wilson.co.uk>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <20190915093948.2835-1-chris@chris-wilson.co.uk>
X-Patchwork-Hint: comment
User-Agent: Mutt/1.10.1 (2018-07-13)
Subject: Re: [Intel-gfx] [igt-dev] [PATCH i-g-t]
 igt/kms_frontbuffer_tracking: Skip over IGT_DRAW_BLT when there's no BLT
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: igt-dev@lists.freedesktop.org, intel-gfx@lists.freedesktop.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

T24gU3VuLCBTZXAgMTUsIDIwMTkgYXQgMTA6Mzk6NDhBTSArMDEwMCwgQ2hyaXMgV2lsc29uIHdy
b3RlOgo+IElmIHRoZSBibGl0dGVyIGlzIG5vdCBhdmFpbGFibGUsIHdlIGNhbm5vdCB1c2UgaXQg
YXMgYSBzb3VyY2UgZm9yIGRpcnR5Cj4gcmVjdGFuZ2xlcy4gV2Ugc2hhbGwgaGF2ZSB0byByZWx5
IG9uIHRoZSBvdGhlciBlbmdpbmVzIHRvIGNyZWF0ZSBHUFUKPiBkaXJ0eSBpbnN0ZWFkLgo+IAo+
IHYyOiBUcnkgdXNpbmcgbG90cyBvZiBzdWJncm91cCtmaXh0dXJlcwo+IAo+IFNpZ25lZC1vZmYt
Ynk6IENocmlzIFdpbHNvbiA8Y2hyaXNAY2hyaXMtd2lsc29uLmNvLnVrPgoKClJldmlld2VkLWJ5
OiBQZXRyaSBMYXR2YWxhIDxwZXRyaS5sYXR2YWxhQGludGVsLmNvbT4KCgo+IC0tLQo+ICB0ZXN0
cy9rbXNfZnJvbnRidWZmZXJfdHJhY2tpbmcuYyB8IDU4ICsrKysrKysrKysrKysrKysrKysrKysr
KysrKysrKy0tCj4gIDEgZmlsZSBjaGFuZ2VkLCA1NiBpbnNlcnRpb25zKCspLCAyIGRlbGV0aW9u
cygtKQo+IAo+IGRpZmYgLS1naXQgYS90ZXN0cy9rbXNfZnJvbnRidWZmZXJfdHJhY2tpbmcuYyBi
L3Rlc3RzL2ttc19mcm9udGJ1ZmZlcl90cmFja2luZy5jCj4gaW5kZXggYzc4OGI1OWVlLi5lYWE0
YjZlZjEgMTAwNjQ0Cj4gLS0tIGEvdGVzdHMva21zX2Zyb250YnVmZmVyX3RyYWNraW5nLmMKPiAr
KysgYi90ZXN0cy9rbXNfZnJvbnRidWZmZXJfdHJhY2tpbmcuYwo+IEBAIC0zMDIyLDYgKzMwMjIs
OSBAQCBzdGF0aWMgdm9pZCBiYXNpY19zdWJ0ZXN0KGNvbnN0IHN0cnVjdCB0ZXN0X21vZGUgKnQp
Cj4gIAlmYjEgPSBwYXJhbXMtPnByaW1hcnkuZmI7Cj4gIAo+ICAJZm9yIChyID0gMCwgbWV0aG9k
ID0gMDsgbWV0aG9kIDwgSUdUX0RSQVdfTUVUSE9EX0NPVU5UOyBtZXRob2QrKywgcisrKSB7Cj4g
KwkJaWYgKG1ldGhvZCA9PSBJR1RfRFJBV19CTFQgJiYgIWdlbV9oYXNfYmxpdHRlcihkcm0uZmQp
KQo+ICsJCQljb250aW51ZTsKPiArCj4gIAkJaWYgKHIgPT0gcGF0dGVybi0+bl9yZWN0cykgewo+
ICAJCQlwYXJhbXMtPnByaW1hcnkuZmIgPSAocGFyYW1zLT5wcmltYXJ5LmZiID09IGZiMSkgPyAm
ZmIyIDogZmIxOwo+ICAKPiBAQCAtMzI0OCwxMCArMzI1MSwxMSBAQCBzdGF0aWMgY29uc3QgY2hh
ciAqZmxpcF9zdHIoZW51bSBmbGlwX3R5cGUgZmxpcCkKPiAgCQkJY29udGludWU7CQkJCQkgICBc
Cj4gIAkJaWYgKCFvcHQuc2hvd19oaWRkZW4gJiYgdC5mYnMgPT0gRkJTX1NIQVJFRCAmJgkJICAg
XAo+ICAJCSAgICAodC5wbGFuZSA9PSBQTEFORV9DVVIgfHwgdC5wbGFuZSA9PSBQTEFORV9TUFIp
KQkgICBcCj4gLQkJCWNvbnRpbnVlOwo+ICsJCQljb250aW51ZTsJCQkJCSAgIFwKPiArCQlpZ3Rf
c3VidGVzdF9ncm91cCB7Cj4gIAo+ICAKPiAtI2RlZmluZSBURVNUX01PREVfSVRFUl9FTkQgfSB9
IH0gfSB9IH0KPiArI2RlZmluZSBURVNUX01PREVfSVRFUl9FTkQgfSB9IH0gfSB9IH0gfQo+ICAK
PiAgc3RydWN0IG9wdGlvbiBsb25nX29wdGlvbnNbXSA9IHsKPiAgCXsgIm5vLXN0YXR1cy1jaGVj
ayIsICAgICAgICAgIDAsIDAsICdzJ30sCj4gQEAgLTMyOTcsNiArMzMwMSwxMCBAQCBpZ3RfbWFp
bl9hcmdzKCIiLCBsb25nX29wdGlvbnMsIGhlbHBfc3RyLCBvcHRfaGFuZGxlciwgTlVMTCkKPiAg
CX0KPiAgCj4gIAlURVNUX01PREVfSVRFUl9CRUdJTih0KQo+ICsJCWlndF9maXh0dXJlIHsKPiAr
CQkJaWYgKHQubWV0aG9kID09IElHVF9EUkFXX0JMVCkKPiArCQkJCWdlbV9yZXF1aXJlX2JsaXR0
ZXIoZHJtLmZkKTsKPiArCQl9Cj4gIAkJaWd0X3N1YnRlc3RfZigiJXMtJXMtJXMtJXMtJXMtZHJh
dy0lcyIsCj4gIAkJCSAgICAgIGZlYXR1cmVfc3RyKHQuZmVhdHVyZSksCj4gIAkJCSAgICAgIHBp
cGVzX3N0cih0LnBpcGVzKSwKPiBAQCAtMzMxMyw2ICszMzIxLDExIEBAIGlndF9tYWluX2FyZ3Mo
IiIsIGxvbmdfb3B0aW9ucywgaGVscF9zdHIsIG9wdF9oYW5kbGVyLCBOVUxMKQo+ICAJCSAgICAo
IW9wdC5zaG93X2hpZGRlbiAmJiB0Lm1ldGhvZCAhPSBJR1RfRFJBV19CTFQpKQo+ICAJCQljb250
aW51ZTsKPiAgCj4gKwkJaWd0X2ZpeHR1cmUgewo+ICsJCQlpZiAodC5tZXRob2QgPT0gSUdUX0RS
QVdfQkxUKQo+ICsJCQkJZ2VtX3JlcXVpcmVfYmxpdHRlcihkcm0uZmQpOwo+ICsJCX0KPiArCj4g
IAkJZm9yICh0LmZsaXAgPSAwOyB0LmZsaXAgPCBGTElQX0NPVU5UOyB0LmZsaXArKykKPiAgCQkJ
aWd0X3N1YnRlc3RfZigiJXMtJXMtJXMtJXMtJXNmbGlwLSVzIiwKPiAgCQkJCSAgICAgIGZlYXR1
cmVfc3RyKHQuZmVhdHVyZSksCj4gQEAgLTMzMzEsNiArMzM0NCwxMSBAQCBpZ3RfbWFpbl9hcmdz
KCIiLCBsb25nX29wdGlvbnMsIGhlbHBfc3RyLCBvcHRfaGFuZGxlciwgTlVMTCkKPiAgCQkgICAg
KHQuZmVhdHVyZSAmIEZFQVRVUkVfRkJDKSA9PSAwKQo+ICAJCQljb250aW51ZTsKPiAgCj4gKwkJ
aWd0X2ZpeHR1cmUgewo+ICsJCQlpZiAodC5tZXRob2QgPT0gSUdUX0RSQVdfQkxUKQo+ICsJCQkJ
Z2VtX3JlcXVpcmVfYmxpdHRlcihkcm0uZmQpOwo+ICsJCX0KPiArCj4gIAkJaWd0X3N1YnRlc3Rf
ZigiJXMtJXMtJXMtZmxpcHRyYWNrIiwKPiAgCQkJICAgICAgZmVhdHVyZV9zdHIodC5mZWF0dXJl
KSwKPiAgCQkJICAgICAgcGlwZXNfc3RyKHQucGlwZXMpLAo+IEBAIC0zMzQ0LDYgKzMzNjIsMTEg
QEAgaWd0X21haW5fYXJncygiIiwgbG9uZ19vcHRpb25zLCBoZWxwX3N0ciwgb3B0X2hhbmRsZXIs
IE5VTEwpCj4gIAkJICAgIHQucGxhbmUgPT0gUExBTkVfUFJJKQo+ICAJCQljb250aW51ZTsKPiAg
Cj4gKwkJaWd0X2ZpeHR1cmUgewo+ICsJCQlpZiAodC5tZXRob2QgPT0gSUdUX0RSQVdfQkxUKQo+
ICsJCQkJZ2VtX3JlcXVpcmVfYmxpdHRlcihkcm0uZmQpOwo+ICsJCX0KPiArCj4gIAkJaWd0X3N1
YnRlc3RfZigiJXMtJXMtJXMtJXMtJXMtbW92ZSIsCj4gIAkJCSAgICAgIGZlYXR1cmVfc3RyKHQu
ZmVhdHVyZSksCj4gIAkJCSAgICAgIHBpcGVzX3N0cih0LnBpcGVzKSwKPiBAQCAtMzM2Nyw2ICsz
MzkwLDExIEBAIGlndF9tYWluX2FyZ3MoIiIsIGxvbmdfb3B0aW9ucywgaGVscF9zdHIsIG9wdF9o
YW5kbGVyLCBOVUxMKQo+ICAJCSAgICB0LnBsYW5lICE9IFBMQU5FX1NQUikKPiAgCQkJY29udGlu
dWU7Cj4gIAo+ICsJCWlndF9maXh0dXJlIHsKPiArCQkJaWYgKHQubWV0aG9kID09IElHVF9EUkFX
X0JMVCkKPiArCQkJCWdlbV9yZXF1aXJlX2JsaXR0ZXIoZHJtLmZkKTsKPiArCQl9Cj4gKwo+ICAJ
CWlndF9zdWJ0ZXN0X2YoIiVzLSVzLSVzLSVzLSVzLWZ1bGxzY3JlZW4iLAo+ICAJCQkgICAgICBm
ZWF0dXJlX3N0cih0LmZlYXR1cmUpLAo+ICAJCQkgICAgICBwaXBlc19zdHIodC5waXBlcyksCj4g
QEAgLTMzODMsNiArMzQxMSwxMSBAQCBpZ3RfbWFpbl9hcmdzKCIiLCBsb25nX29wdGlvbnMsIGhl
bHBfc3RyLCBvcHRfaGFuZGxlciwgTlVMTCkKPiAgCQkgICAgKCFvcHQuc2hvd19oaWRkZW4gJiYg
dC5mYnMgIT0gRkJTX0lORElWSURVQUwpKQo+ICAJCQljb250aW51ZTsKPiAgCj4gKwkJaWd0X2Zp
eHR1cmUgewo+ICsJCQlpZiAodC5tZXRob2QgPT0gSUdUX0RSQVdfQkxUKQo+ICsJCQkJZ2VtX3Jl
cXVpcmVfYmxpdHRlcihkcm0uZmQpOwo+ICsJCX0KPiArCj4gIAkJaWd0X3N1YnRlc3RfZigiJXMt
JXMtJXMtJXMtbXVsdGlkcmF3IiwKPiAgCQkJICAgICAgZmVhdHVyZV9zdHIodC5mZWF0dXJlKSwK
PiAgCQkJICAgICAgcGlwZXNfc3RyKHQucGlwZXMpLAo+IEBAIC0zMzk5LDYgKzM0MzIsMTEgQEAg
aWd0X21haW5fYXJncygiIiwgbG9uZ19vcHRpb25zLCBoZWxwX3N0ciwgb3B0X2hhbmRsZXIsIE5V
TEwpCj4gIAkJICAgIHQubWV0aG9kICE9IElHVF9EUkFXX01NQVBfR1RUKQo+ICAJCQljb250aW51
ZTsKPiAgCj4gKwkJaWd0X2ZpeHR1cmUgewo+ICsJCQlpZiAodC5tZXRob2QgPT0gSUdUX0RSQVdf
QkxUKQo+ICsJCQkJZ2VtX3JlcXVpcmVfYmxpdHRlcihkcm0uZmQpOwo+ICsJCX0KPiArCj4gIAkJ
aWd0X3N1YnRlc3RfZigiJXMtZmFyZnJvbWZlbmNlIiwgZmVhdHVyZV9zdHIodC5mZWF0dXJlKSkK
PiAgCQkJZmFyZnJvbWZlbmNlX3N1YnRlc3QoJnQpOwo+ICAJVEVTVF9NT0RFX0lURVJfRU5ECj4g
QEAgLTM0MTAsNiArMzQ0OCwxMSBAQCBpZ3RfbWFpbl9hcmdzKCIiLCBsb25nX29wdGlvbnMsIGhl
bHBfc3RyLCBvcHRfaGFuZGxlciwgTlVMTCkKPiAgCQkgICAgdC5mYnMgIT0gRkJTX0lORElWSURV
QUwpCj4gIAkJCWNvbnRpbnVlOwo+ICAKPiArCQlpZ3RfZml4dHVyZSB7Cj4gKwkJCWlmICh0Lm1l
dGhvZCA9PSBJR1RfRFJBV19CTFQpCj4gKwkJCQlnZW1fcmVxdWlyZV9ibGl0dGVyKGRybS5mZCk7
Cj4gKwkJfQo+ICsKPiAgCQlmb3IgKHQuZm9ybWF0ID0gMDsgdC5mb3JtYXQgPCBGT1JNQVRfQ09V
TlQ7IHQuZm9ybWF0KyspIHsKPiAgCQkJLyogU2tpcCB3aGF0IHdlIGFscmVhZHkgdGVzdGVkLiAq
Lwo+ICAJCQlpZiAodC5mb3JtYXQgPT0gRk9STUFUX0RFRkFVTFQpCj4gQEAgLTM0MjksNiArMzQ3
MiwxMiBAQCBpZ3RfbWFpbl9hcmdzKCIiLCBsb25nX29wdGlvbnMsIGhlbHBfc3RyLCBvcHRfaGFu
ZGxlciwgTlVMTCkKPiAgCQkgICAgdC5wbGFuZSAhPSBQTEFORV9QUkkgfHwKPiAgCQkgICAgdC5t
ZXRob2QgIT0gSUdUX0RSQVdfQkxUKQo+ICAJCQljb250aW51ZTsKPiArCj4gKwkJaWd0X2ZpeHR1
cmUgewo+ICsJCQlpZiAodC5tZXRob2QgPT0gSUdUX0RSQVdfQkxUKQo+ICsJCQkJZ2VtX3JlcXVp
cmVfYmxpdHRlcihkcm0uZmQpOwo+ICsJCX0KPiArCj4gIAkJaWd0X3N1YnRlc3RfZigiJXMtJXMt
c2NhbGVkcHJpbWFyeSIsCj4gIAkJCSAgICAgIGZlYXR1cmVfc3RyKHQuZmVhdHVyZSksCj4gIAkJ
CSAgICAgIGZic19zdHIodC5mYnMpKQo+IEBAIC0zNDQzLDYgKzM0OTIsMTEgQEAgaWd0X21haW5f
YXJncygiIiwgbG9uZ19vcHRpb25zLCBoZWxwX3N0ciwgb3B0X2hhbmRsZXIsIE5VTEwpCj4gIAkJ
ICAgIHQubWV0aG9kICE9IElHVF9EUkFXX0JMVCkKPiAgCQkJY29udGludWU7Cj4gIAo+ICsJCWln
dF9maXh0dXJlIHsKPiArCQkJaWYgKHQubWV0aG9kID09IElHVF9EUkFXX0JMVCkKPiArCQkJCWdl
bV9yZXF1aXJlX2JsaXR0ZXIoZHJtLmZkKTsKPiArCQl9Cj4gKwo+ICAJCWlndF9zdWJ0ZXN0X2Yo
IiVzLW1vZGVzZXRmcm9tYnVzeSIsIGZlYXR1cmVfc3RyKHQuZmVhdHVyZSkpCj4gIAkJCW1vZGVz
ZXRmcm9tYnVzeV9zdWJ0ZXN0KCZ0KTsKPiAgCj4gLS0gCj4gMi4yMy4wCj4gCj4gX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KPiBpZ3QtZGV2IG1haWxpbmcg
bGlzdAo+IGlndC1kZXZAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCj4gaHR0cHM6Ly9saXN0cy5mcmVl
ZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9pZ3QtZGV2Cl9fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fCkludGVsLWdmeCBtYWlsaW5nIGxpc3QKSW50ZWwt
Z2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9t
YWlsbWFuL2xpc3RpbmZvL2ludGVsLWdmeA==

Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 19627D02F6
	for <lists+intel-gfx@lfdr.de>; Tue,  8 Oct 2019 23:40:34 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id E743789A5E;
	Tue,  8 Oct 2019 21:40:29 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from fireflyinternet.com (mail.fireflyinternet.com [109.228.58.192])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 3AF1489993
 for <intel-gfx@lists.freedesktop.org>; Tue,  8 Oct 2019 21:40:27 +0000 (UTC)
X-Default-Received-SPF: pass (skip=forwardok (res=PASS))
 x-ip-name=78.156.65.138; 
Received: from haswell.alporthouse.com (unverified [78.156.65.138]) 
 by fireflyinternet.com (Firefly Internet (M1)) with ESMTP id 18770559-1500050 
 for multiple; Tue, 08 Oct 2019 22:40:23 +0100
From: Chris Wilson <chris@chris-wilson.co.uk>
To: intel-gfx@lists.freedesktop.org
Date: Tue,  8 Oct 2019 22:40:18 +0100
Message-Id: <20191008214021.5120-7-chris@chris-wilson.co.uk>
X-Mailer: git-send-email 2.23.0
In-Reply-To: <20191008214021.5120-1-chris@chris-wilson.co.uk>
References: <20191008214021.5120-1-chris@chris-wilson.co.uk>
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH 6/9] drm/i915/perf: execute OA configuration
 from command stream
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

RnJvbTogTGlvbmVsIExhbmR3ZXJsaW4gPGxpb25lbC5nLmxhbmR3ZXJsaW5AaW50ZWwuY29tPgoK
V2UgaGF2ZW4ndCBydW4gaW50byBpc3N1ZXMgd2l0aCBwcm9ncmFtbWluZyB0aGUgZ2xvYmFsIE9B
L05PQQpyZWdpc3RlcnMgY29uZmlndXJhdGlvbiBmcm9tIENQVSBzbyBmYXIsIGJ1dCBIVyBlbmdp
bmVlcnMgYWN0dWFsbHkKcmVjb21tZW5kIGRvaW5nIHRoaXMgZnJvbSB0aGUgY29tbWFuZCBzdHJl
YW1lci4gT24gVEdMIGluIHBhcnRpY3VsYXIKb25lIG9mIHRoZSBjbG9jayBkb21haW4gaW4gd2hp
Y2ggc29tZSBvZiB0aGF0IHByb2dyYW1taW5nIGdvZXMgbWlnaHQKbm90IGJlIHBvd2VyZWQgd2hl
biB3ZSBwb2tlIHRoaW5ncyBmcm9tIHRoZSBDUFUuCgpTaW5jZSB3ZSBoYXZlIGEgY29tbWFuZCBi
dWZmZXIgcHJlcGFyZWQgZm9yIHRoZSBleGVjYnVmZmVyIHNpZGUgb2YKdGhpbmdzLCB3ZSBjYW4g
cmV1c2UgdGhhdCBhcHByb2FjaCBoZXJlIHRvby4KClRoaXMgYWxzbyBhbGxvd3MgdXMgdG8gc2ln
bmlmaWNhbnRseSByZWR1Y2UgdGhlIGFtb3VudCBvZiB0aW1lIHdlIGhvbGQKdGhlIG1haW4gbG9j
ay4KCnYyOiBEcm9wIHRoZSBnbG9iYWwgbG9jayBhcyBtdWNoIGFzIHBvc3NpYmxlCgp2MzogVGFr
ZSBnbG9iYWwgbG9jayB0byBwaW4gZ2xvYmFsCgp2NDogQ3JlYXRlIGk5MTUgcmVxdWVzdCBpbiBl
bWl0X29hX2NvbmZpZygpIHRvIGF2b2lkIGRlYWRsb2NrcyAoTGlvbmVsKQoKdjU6IE1vdmUgbG9j
a2luZyB0byB0aGUgc3RyZWFtIChMaW9uZWwpCgp2NjogTW92ZSBhY3RpdmUgcmVjb25maWd1cmF0
aW9uIHJlcXVlc3QgaW50byBpOTE1X3BlcmZfc3RyZWFtIChMaW9uZWwpCgp2NzogUGluIFZNQSBv
dXRzaWRlIHJlcXVlc3QgY3JlYXRpb24gKENocmlzKQogICAgTG9jayBWTUEgYmVmb3JlIG1vdmUg
dG8gYWN0aXZlIChDaHJpcykKCnY4OiBGaXggZG91YmxlIGZyZWUgb24gc3RyZWFtLT5pbml0aWFs
X29hX2NvbmZpZ19ibyAoTGlvbmVsKQogICAgRG9uJ3QgYWxsb3cgaW50ZXJydXB0aW9uIHdoZW4g
d2FpdGluZyBvbiBhY3RpdmUgY29uZmlnIHJlcXVlc3QKICAgIChMaW9uZWwpCgpTaWduZWQtb2Zm
LWJ5OiBMaW9uZWwgTGFuZHdlcmxpbiA8bGlvbmVsLmcubGFuZHdlcmxpbkBpbnRlbC5jb20+Ci0t
LQogZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9wZXJmLmMgICAgICAgfCAxMDUgKysrKysrKysr
KysrLS0tLS0tLS0tLS0tLQogZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9wZXJmX3R5cGVzLmgg
fCAgMTQgKysrLQogMiBmaWxlcyBjaGFuZ2VkLCA2MyBpbnNlcnRpb25zKCspLCA1NiBkZWxldGlv
bnMoLSkKCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3BlcmYuYyBiL2Ry
aXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfcGVyZi5jCmluZGV4IDY1NTk4MDI3NmU5Ni4uMDVkNmUx
MGFjOWZlIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3BlcmYuYworKysg
Yi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3BlcmYuYwpAQCAtMTkwMiw1NiArMTkwMiw1NCBA
QCBzdGF0aWMgaW50IGFsbG9jX25vYV93YWl0KHN0cnVjdCBpOTE1X3BlcmZfc3RyZWFtICpzdHJl
YW0pCiAJcmV0dXJuIDA7CiAKIGVycl91bnBpbjoKLQlfX2k5MTVfdm1hX3VucGluKHZtYSk7CisJ
aTkxNV92bWFfdW5waW5fYW5kX3JlbGVhc2UoJnZtYSwgMCk7CiBlcnJfdW5yZWY6CiAJaTkxNV9n
ZW1fb2JqZWN0X3B1dChibyk7CiAJcmV0dXJuIHJldDsKIH0KIAotc3RhdGljIHZvaWQgY29uZmln
X29hX3JlZ3Moc3RydWN0IGludGVsX3VuY29yZSAqdW5jb3JlLAotCQkJICAgY29uc3Qgc3RydWN0
IGk5MTVfb2FfcmVnICpyZWdzLAotCQkJICAgdTMyIG5fcmVncykKK3N0YXRpYyBpbnQgZW1pdF9v
YV9jb25maWcoc3RydWN0IGk5MTVfcGVyZl9zdHJlYW0gKnN0cmVhbSkKIHsKLQl1MzIgaTsKKwlz
dHJ1Y3QgaTkxNV92bWEgKnZtYSA9IHN0cmVhbS0+aW5pdGlhbF9vYV92bWE7CisJc3RydWN0IGk5
MTVfcmVxdWVzdCAqcnE7CisJaW50IGVycjsKIAotCWZvciAoaSA9IDA7IGkgPCBuX3JlZ3M7IGkr
KykgewotCQljb25zdCBzdHJ1Y3QgaTkxNV9vYV9yZWcgKnJlZyA9IHJlZ3MgKyBpOworCWVyciA9
IGk5MTVfdm1hX3Bpbih2bWEsIDAsIDAsIFBJTl9HTE9CQUwgfCBQSU5fSElHSCk7CisJaWYgKGVy
cikKKwkJZ290byBlcnJfdm1hX3VucGluOwogCi0JCWludGVsX3VuY29yZV93cml0ZSh1bmNvcmUs
IHJlZy0+YWRkciwgcmVnLT52YWx1ZSk7CisJcnEgPSBpOTE1X3JlcXVlc3RfY3JlYXRlKHN0cmVh
bS0+ZW5naW5lLT5rZXJuZWxfY29udGV4dCk7CisJaWYgKElTX0VSUihycSkpIHsKKwkJZXJyID0g
UFRSX0VSUihycSk7CisJCWdvdG8gZXJyX2FkZF9yZXF1ZXN0OwogCX0KLX0KIAotc3RhdGljIHZv
aWQgZGVsYXlfYWZ0ZXJfbXV4KHZvaWQpCi17Ci0JLyoKLQkgKiBJdCBhcHBhcmVudGx5IHRha2Vz
IGEgZmFpcmx5IGxvbmcgdGltZSBmb3IgYSBuZXcgTVVYCi0JICogY29uZmlndXJhdGlvbiB0byBi
ZSBiZSBhcHBsaWVkIGFmdGVyIHRoZXNlIHJlZ2lzdGVyIHdyaXRlcy4KLQkgKiBUaGlzIGRlbGF5
IGR1cmF0aW9uIHdhcyBkZXJpdmVkIGVtcGlyaWNhbGx5IGJhc2VkIG9uIHRoZQotCSAqIHJlbmRl
cl9iYXNpYyBjb25maWcgYnV0IGhvcGVmdWxseSBpdCBjb3ZlcnMgdGhlIG1heGltdW0KLQkgKiBj
b25maWd1cmF0aW9uIGxhdGVuY3kuCi0JICoKLQkgKiBBcyBhIGZhbGxiYWNrLCB0aGUgY2hlY2tz
IGluIF9hcHBlbmRfb2FfcmVwb3J0cygpIHRvIHNraXAKLQkgKiBpbnZhbGlkIE9BIHJlcG9ydHMg
ZG8gYWxzbyBzZWVtIHRvIHdvcmsgdG8gZGlzY2FyZCByZXBvcnRzCi0JICogZ2VuZXJhdGVkIGJl
Zm9yZSB0aGlzIGNvbmZpZyBoYXMgY29tcGxldGVkIC0gYWxiZWl0IG5vdAotCSAqIHNpbGVudGx5
LgotCSAqCi0JICogVW5mb3J0dW5hdGVseSB0aGlzIGlzIGVzc2VudGlhbGx5IGEgbWFnaWMgbnVt
YmVyLCBzaW5jZSB3ZQotCSAqIGRvbid0IGN1cnJlbnRseSBrbm93IG9mIGEgcmVsaWFibGUgbWVj
aGFuaXNtIGZvciBwcmVkaWN0aW5nCi0JICogaG93IGxvbmcgdGhlIE1VWCBjb25maWcgd2lsbCB0
YWtlIHRvIGFwcGx5IGFuZCBiZXNpZGVzCi0JICogc2VlaW5nIGludmFsaWQgcmVwb3J0cyB3ZSBk
b24ndCBrbm93IG9mIGEgcmVsaWFibGUgd2F5IHRvCi0JICogZXhwbGljaXRseSBjaGVjayB0aGF0
IHRoZSBNVVggY29uZmlnIGhhcyBsYW5kZWQuCi0JICoKLQkgKiBJdCdzIGV2ZW4gcG9zc2libGUg
d2UndmUgbWlzcyBjaGFyYWN0ZXJpemVkIHRoZSB1bmRlcmx5aW5nCi0JICogcHJvYmxlbSAtIGl0
IGp1c3Qgc2VlbXMgbGlrZSB0aGUgc2ltcGxlc3QgZXhwbGFuYXRpb24gd2h5Ci0JICogYSBkZWxh
eSBhdCB0aGlzIGxvY2F0aW9uIHdvdWxkIG1pdGlnYXRlIGFueSBpbnZhbGlkIHJlcG9ydHMuCi0J
ICovCi0JdXNsZWVwX3JhbmdlKDE1MDAwLCAyMDAwMCk7CisJZXJyID0gaTkxNV9hY3RpdmVfZmVu
Y2Vfc2V0KCZzdHJlYW0tPnBlcmYtPmFjdGl2ZV9jb25maWcsIHJxKTsKKwlpZiAoZXJyKQorCQln
b3RvIGVycl9hZGRfcmVxdWVzdDsKKworCWk5MTVfdm1hX2xvY2sodm1hKTsKKwllcnIgPSBpOTE1
X3JlcXVlc3RfYXdhaXRfb2JqZWN0KHJxLCB2bWEtPm9iaiwgMCk7CisJaWYgKCFlcnIpCisJCWVy
ciA9IGk5MTVfdm1hX21vdmVfdG9fYWN0aXZlKHZtYSwgcnEsIDApOworCWk5MTVfdm1hX3VubG9j
ayh2bWEpOworCWlmIChlcnIpCisJCWdvdG8gZXJyX2FkZF9yZXF1ZXN0OworCisJZXJyID0gcnEt
PmVuZ2luZS0+ZW1pdF9iYl9zdGFydChycSwKKwkJCQkJdm1hLT5ub2RlLnN0YXJ0LCAwLAorCQkJ
CQlJOTE1X0RJU1BBVENIX1NFQ1VSRSk7CitlcnJfYWRkX3JlcXVlc3Q6CisJaTkxNV9yZXF1ZXN0
X2FkZChycSk7CitlcnJfdm1hX3VucGluOgorCWk5MTVfdm1hX3VucGluKHZtYSk7CisKKwlyZXR1
cm4gZXJyOwogfQogCiBzdGF0aWMgaW50IGhzd19lbmFibGVfbWV0cmljX3NldChzdHJ1Y3QgaTkx
NV9wZXJmX3N0cmVhbSAqc3RyZWFtKQogewogCXN0cnVjdCBpbnRlbF91bmNvcmUgKnVuY29yZSA9
IHN0cmVhbS0+Z3QtPnVuY29yZTsKLQljb25zdCBzdHJ1Y3QgaTkxNV9vYV9jb25maWcgKm9hX2Nv
bmZpZyA9IHN0cmVhbS0+b2FfY29uZmlnOwogCiAJLyoKIAkgKiBQUk06CkBAIC0xOTY4LDEzICsx
OTY2LDcgQEAgc3RhdGljIGludCBoc3dfZW5hYmxlX21ldHJpY19zZXQoc3RydWN0IGk5MTVfcGVy
Zl9zdHJlYW0gKnN0cmVhbSkKIAlpbnRlbF91bmNvcmVfcm13KHVuY29yZSwgR0VONl9VQ0dDVEwx
LAogCQkJIDAsIEdFTjZfQ1NVTklUX0NMT0NLX0dBVEVfRElTQUJMRSk7CiAKLQljb25maWdfb2Ff
cmVncyh1bmNvcmUsIG9hX2NvbmZpZy0+bXV4X3JlZ3MsIG9hX2NvbmZpZy0+bXV4X3JlZ3NfbGVu
KTsKLQlkZWxheV9hZnRlcl9tdXgoKTsKLQotCWNvbmZpZ19vYV9yZWdzKHVuY29yZSwgb2FfY29u
ZmlnLT5iX2NvdW50ZXJfcmVncywKLQkJICAgICAgIG9hX2NvbmZpZy0+Yl9jb3VudGVyX3JlZ3Nf
bGVuKTsKLQotCXJldHVybiAwOworCXJldHVybiBlbWl0X29hX2NvbmZpZyhzdHJlYW0pOwogfQog
CiBzdGF0aWMgdm9pZCBoc3dfZGlzYWJsZV9tZXRyaWNfc2V0KHN0cnVjdCBpOTE1X3BlcmZfc3Ry
ZWFtICpzdHJlYW0pCkBAIC0yMzM4LDEzICsyMzMwLDcgQEAgc3RhdGljIGludCBnZW44X2VuYWJs
ZV9tZXRyaWNfc2V0KHN0cnVjdCBpOTE1X3BlcmZfc3RyZWFtICpzdHJlYW0pCiAJaWYgKHJldCkK
IAkJcmV0dXJuIHJldDsKIAotCWNvbmZpZ19vYV9yZWdzKHVuY29yZSwgb2FfY29uZmlnLT5tdXhf
cmVncywgb2FfY29uZmlnLT5tdXhfcmVnc19sZW4pOwotCWRlbGF5X2FmdGVyX211eCgpOwotCi0J
Y29uZmlnX29hX3JlZ3ModW5jb3JlLCBvYV9jb25maWctPmJfY291bnRlcl9yZWdzLAotCQkgICAg
ICAgb2FfY29uZmlnLT5iX2NvdW50ZXJfcmVnc19sZW4pOwotCi0JcmV0dXJuIDA7CisJcmV0dXJu
IGVtaXRfb2FfY29uZmlnKHN0cmVhbSk7CiB9CiAKIHN0YXRpYyB2b2lkIGdlbjhfZGlzYWJsZV9t
ZXRyaWNfc2V0KHN0cnVjdCBpOTE1X3BlcmZfc3RyZWFtICpzdHJlYW0pCkBAIC0yNTkyLDEwICsy
NTc4LDExIEBAIHN0YXRpYyBpbnQgaTkxNV9vYV9zdHJlYW1faW5pdChzdHJ1Y3QgaTkxNV9wZXJm
X3N0cmVhbSAqc3RyZWFtLAogCQlnb3RvIGVycl9ub2Ffd2FpdF9hbGxvYzsKIAl9CiAKLQlzdHJl
YW0tPm9hX2NvbmZpZyA9IGk5MTVfcGVyZl9nZXRfb2FfY29uZmlnKHBlcmYsIHByb3BzLT5tZXRy
aWNzX3NldCk7Ci0JaWYgKCFzdHJlYW0tPm9hX2NvbmZpZykgeworCXJldCA9IGk5MTVfcGVyZl9z
dHJlYW1fZ2V0X29hX2NvbmZpZyhzdHJlYW0sIHByb3BzLT5tZXRyaWNzX3NldCwKKwkJCQkJICAg
ICAmc3RyZWFtLT5vYV9jb25maWcsCisJCQkJCSAgICAgJnN0cmVhbS0+aW5pdGlhbF9vYV92bWEp
OworCWlmIChyZXQpIHsKIAkJRFJNX0RFQlVHKCJJbnZhbGlkIE9BIGNvbmZpZyBpZD0laVxuIiwg
cHJvcHMtPm1ldHJpY3Nfc2V0KTsKLQkJcmV0ID0gLUVJTlZBTDsKIAkJZ290byBlcnJfY29uZmln
OwogCX0KIApAQCAtMjYyMywxMCArMjYxMCwxMyBAQCBzdGF0aWMgaW50IGk5MTVfb2Ffc3RyZWFt
X2luaXQoc3RydWN0IGk5MTVfcGVyZl9zdHJlYW0gKnN0cmVhbSwKIAlwZXJmLT5leGNsdXNpdmVf
c3RyZWFtID0gc3RyZWFtOwogCiAJcmV0ID0gcGVyZi0+b3BzLmVuYWJsZV9tZXRyaWNfc2V0KHN0
cmVhbSk7Ci0JaWYgKHJldCkgewotCQlEUk1fREVCVUcoIlVuYWJsZSB0byBlbmFibGUgbWV0cmlj
IHNldFxuIik7CisJaWYgKHJldCkKKwkJZ290byBlcnJfZW5hYmxlOworCisJaTkxNV92bWFfcHV0
KHN0cmVhbS0+aW5pdGlhbF9vYV92bWEpOworCXN0cmVhbS0+aW5pdGlhbF9vYV92bWEgPSBOVUxM
OworCWlmIChyZXQpCiAJCWdvdG8gZXJyX2VuYWJsZTsKLQl9CiAKIAlEUk1fREVCVUcoIm9wZW5p
bmcgc3RyZWFtIG9hIGNvbmZpZyB1dWlkPSVzXG4iLAogCQkgIHN0cmVhbS0+b2FfY29uZmlnLT51
dWlkKTsKQEAgLTI2NTEsNiArMjY0MSw5IEBAIHN0YXRpYyBpbnQgaTkxNV9vYV9zdHJlYW1faW5p
dChzdHJ1Y3QgaTkxNV9wZXJmX3N0cmVhbSAqc3RyZWFtLAogCiAJZnJlZV9vYV9jb25maWdzKHN0
cmVhbSk7CiAKKwlpZiAoc3RyZWFtLT5pbml0aWFsX29hX3ZtYSkKKwkJaTkxNV92bWFfcHV0KHN0
cmVhbS0+aW5pdGlhbF9vYV92bWEpOworCiBlcnJfY29uZmlnOgogCWZyZWVfbm9hX3dhaXQoc3Ry
ZWFtKTsKIApAQCAtNDAxNyw2ICs0MDEwLDggQEAgdm9pZCBpOTE1X3BlcmZfaW5pdChzdHJ1Y3Qg
ZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSkKIAlpZiAocGVyZi0+b3BzLmVuYWJsZV9tZXRyaWNfc2V0
KSB7CiAJCW11dGV4X2luaXQoJnBlcmYtPmxvY2spOwogCisJCUlOSVRfQUNUSVZFX0ZFTkNFKCZw
ZXJmLT5hY3RpdmVfY29uZmlnLCAmcGVyZi0+bG9jayk7CisKIAkJb2Ffc2FtcGxlX3JhdGVfaGFy
ZF9saW1pdCA9IDEwMDAgKgogCQkJKFJVTlRJTUVfSU5GTyhpOTE1KS0+Y3NfdGltZXN0YW1wX2Zy
ZXF1ZW5jeV9raHogLyAyKTsKIAkJcGVyZi0+c3lzY3RsX2hlYWRlciA9IHJlZ2lzdGVyX3N5c2N0
bF90YWJsZShkZXZfcm9vdCk7CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1
X3BlcmZfdHlwZXMuaCBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfcGVyZl90eXBlcy5oCmlu
ZGV4IGYxMjZmNzkwYzY4Yi4uMGZhZDcxNGJjMzYyIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9k
cm0vaTkxNS9pOTE1X3BlcmZfdHlwZXMuaAorKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1
X3BlcmZfdHlwZXMuaApAQCAtMTYsNiArMTYsNyBAQAogI2luY2x1ZGUgPGxpbnV4L3V1aWQuaD4K
ICNpbmNsdWRlIDxsaW51eC93YWl0Lmg+CiAKKyNpbmNsdWRlICJpOTE1X2FjdGl2ZV90eXBlcy5o
IgogI2luY2x1ZGUgImk5MTVfcmVnLmgiCiAjaW5jbHVkZSAiaW50ZWxfd2FrZXJlZi5oIgogCkBA
IC0xODMsNyArMTg0LDggQEAgc3RydWN0IGk5MTVfcGVyZl9zdHJlYW0gewogCWNvbnN0IHN0cnVj
dCBpOTE1X3BlcmZfc3RyZWFtX29wcyAqb3BzOwogCiAJLyoqCi0JICogQGFjdGl2ZV9jb25maWdf
bXV0ZXg6IFByb3RlY3RzIGFjY2VzcyB0byBAb2FfY29uZmlnICYgQG9hX2NvbmZpZ19ib3MuCisJ
ICogQGFjdGl2ZV9jb25maWdfbXV0ZXg6IFByb3RlY3RzIGFjY2VzcyB0byBAYWN0aXZlX2NvbmZp
Z19ycSwKKwkgKiBAb2FfY29uZmlnICYgQG9hX2NvbmZpZ19ib3MuCiAJICovCiAJc3RydWN0IG11
dGV4IGNvbmZpZ19tdXRleDsKIApAQCAtMTk4LDYgKzIwMCwxMSBAQCBzdHJ1Y3QgaTkxNV9wZXJm
X3N0cmVhbSB7CiAJICovCiAJc3RydWN0IGxpc3RfaGVhZCBvYV9jb25maWdfYm9zOwogCisJLyoq
CisJICogQGluaXRpYWxfb2Ffdm1hOiBGaXJzdCBPQSBjb25maWd1cmF0aW9uIEJPIHRvIGJlIHJ1
bi4KKwkgKi8KKwlzdHJ1Y3QgaTkxNV92bWEgKmluaXRpYWxfb2Ffdm1hOworCiAJLyoqCiAJICog
QHBpbm5lZF9jdHg6IFRoZSBPQSBjb250ZXh0IHNwZWNpZmljIGluZm9ybWF0aW9uLgogCSAqIFRo
ZSBPQSBjb250ZXh0IHNwZWNpZmljIGluZm9ybWF0aW9uLgpAQCAtMzgzLDYgKzM5MCwxMSBAQCBz
dHJ1Y3QgaTkxNV9wZXJmIHsKIAkgKi8KIAlzdHJ1Y3QgaTkxNV9wZXJmX3N0cmVhbSAqZXhjbHVz
aXZlX3N0cmVhbTsKIAorCS8qKgorCSAqIEBhY3RpdmVfY29uZmlnOiBMYXN0IHJlcXVlc3QgdXNp
bmcgdGhlIGFjdGl2ZSBjb25maWd1cmF0aW9uLgorCSAqLworCXN0cnVjdCBpOTE1X2FjdGl2ZV9m
ZW5jZSBhY3RpdmVfY29uZmlnOworCiAJLyoqCiAJICogRm9yIHJhdGUgbGltaXRpbmcgYW55IG5v
dGlmaWNhdGlvbnMgb2Ygc3B1cmlvdXMKIAkgKiBpbnZhbGlkIE9BIHJlcG9ydHMKLS0gCjIuMjMu
MAoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KSW50ZWwt
Z2Z4IG1haWxpbmcgbGlzdApJbnRlbC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8v
bGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vaW50ZWwtZ2Z4

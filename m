Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id D8D189B428
	for <lists+intel-gfx@lfdr.de>; Fri, 23 Aug 2019 18:02:39 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id D143B6ECDD;
	Fri, 23 Aug 2019 16:02:37 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga12.intel.com (mga12.intel.com [192.55.52.136])
 by gabe.freedesktop.org (Postfix) with ESMTPS id E69906ECE1
 for <intel-gfx@lists.freedesktop.org>; Fri, 23 Aug 2019 16:02:18 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from fmsmga004.fm.intel.com ([10.253.24.48])
 by fmsmga106.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 23 Aug 2019 09:02:15 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.64,421,1559545200"; d="scan'208";a="203807749"
Received: from jssummer-xeon.ra.intel.com ([10.23.184.90])
 by fmsmga004.fm.intel.com with ESMTP; 23 Aug 2019 09:02:15 -0700
From: Stuart Summers <stuart.summers@intel.com>
To: intel-gfx@lists.freedesktop.org
Date: Fri, 23 Aug 2019 09:03:02 -0700
Message-Id: <20190823160307.180813-7-stuart.summers@intel.com>
X-Mailer: git-send-email 2.22.0
In-Reply-To: <20190823160307.180813-1-stuart.summers@intel.com>
References: <20190823160307.180813-1-stuart.summers@intel.com>
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH 06/11] drm/i915: Add function to set subslices
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

QWRkIGEgbmV3IGZ1bmN0aW9uIHRvIHNldCBhIHNldCBvZiBzdWJzbGljZXMgZm9yIGEgZ2l2ZW4K
c2xpY2UuCgp2MjogRml4IHR5cG8gaW4gc3Vic2xpY2VfbWFzayBhc3NpZ25tZW50CgpTaWduZWQt
b2ZmLWJ5OiBTdHVhcnQgU3VtbWVycyA8c3R1YXJ0LnN1bW1lcnNAaW50ZWwuY29tPgpSZXZpZXdl
ZC1ieTogQ2hyaXMgV2lsc29uIDxjaHJpc0BjaHJpcy13aWxzb24uY28udWs+Ci0tLQogZHJpdmVy
cy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfc3NldS5jICAgICB8ICA2ICsrKysrKwogZHJpdmVycy9n
cHUvZHJtL2k5MTUvZ3QvaW50ZWxfc3NldS5oICAgICB8ICAzICsrKwogZHJpdmVycy9ncHUvZHJt
L2k5MTUvaW50ZWxfZGV2aWNlX2luZm8uYyB8IDE4ICsrKysrKysrKysrLS0tLS0tLQogMyBmaWxl
cyBjaGFuZ2VkLCAyMCBpbnNlcnRpb25zKCspLCA3IGRlbGV0aW9ucygtKQoKZGlmZiAtLWdpdCBh
L2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX3NzZXUuYyBiL2RyaXZlcnMvZ3B1L2RybS9p
OTE1L2d0L2ludGVsX3NzZXUuYwppbmRleCBkNTI2ODZhMWFmZGMuLjNhNWRiMGRiYWM3MiAxMDA2
NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfc3NldS5jCisrKyBiL2RyaXZl
cnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX3NzZXUuYwpAQCAtMzIsNiArMzIsMTIgQEAgaW50ZWxf
c3NldV9zdWJzbGljZV90b3RhbChjb25zdCBzdHJ1Y3Qgc3NldV9kZXZfaW5mbyAqc3NldSkKIAly
ZXR1cm4gdG90YWw7CiB9CiAKK3ZvaWQgaW50ZWxfc3NldV9zZXRfc3Vic2xpY2VzKHN0cnVjdCBz
c2V1X2Rldl9pbmZvICpzc2V1LCBpbnQgc2xpY2UsCisJCQkgICAgICB1OCBzc19tYXNrKQorewor
CXNzZXUtPnN1YnNsaWNlX21hc2tbc2xpY2VdID0gc3NfbWFzazsKK30KKwogdW5zaWduZWQgaW50
CiBpbnRlbF9zc2V1X3N1YnNsaWNlc19wZXJfc2xpY2UoY29uc3Qgc3RydWN0IHNzZXVfZGV2X2lu
Zm8gKnNzZXUsIHU4IHNsaWNlKQogewpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUv
Z3QvaW50ZWxfc3NldS5oIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfc3NldS5oCmlu
ZGV4IDdmMjM1NWNlOTYzZC4uN2Y2MDBmNTBkZWRiIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9k
cm0vaTkxNS9ndC9pbnRlbF9zc2V1LmgKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50
ZWxfc3NldS5oCkBAIC03OCw2ICs3OCw5IEBAIGludGVsX3NzZXVfc3Vic2xpY2VfdG90YWwoY29u
c3Qgc3RydWN0IHNzZXVfZGV2X2luZm8gKnNzZXUpOwogdW5zaWduZWQgaW50CiBpbnRlbF9zc2V1
X3N1YnNsaWNlc19wZXJfc2xpY2UoY29uc3Qgc3RydWN0IHNzZXVfZGV2X2luZm8gKnNzZXUsIHU4
IHNsaWNlKTsKIAordm9pZCBpbnRlbF9zc2V1X3NldF9zdWJzbGljZXMoc3RydWN0IHNzZXVfZGV2
X2luZm8gKnNzZXUsIGludCBzbGljZSwKKwkJCSAgICAgIHU4IHNzX21hc2spOworCiB1MzIgaW50
ZWxfc3NldV9tYWtlX3JwY3Moc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUsCiAJCQkgY29u
c3Qgc3RydWN0IGludGVsX3NzZXUgKnJlcV9zc2V1KTsKIApkaWZmIC0tZ2l0IGEvZHJpdmVycy9n
cHUvZHJtL2k5MTUvaW50ZWxfZGV2aWNlX2luZm8uYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2lu
dGVsX2RldmljZV9pbmZvLmMKaW5kZXggNTI1MTVlZmU5ZjRlLi4xYTQ1NzI4YWM3MTIgMTAwNjQ0
Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX2RldmljZV9pbmZvLmMKKysrIGIvZHJp
dmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfZGV2aWNlX2luZm8uYwpAQCAtMjA2LDcgKzIwNiwxMCBA
QCBzdGF0aWMgdm9pZCBnZW4xMV9zc2V1X2luZm9faW5pdChzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0
ZSAqZGV2X3ByaXYpCiAJCQlpbnQgc3M7CiAKIAkJCXNzZXUtPnNsaWNlX21hc2sgfD0gQklUKHMp
OwotCQkJc3NldS0+c3Vic2xpY2VfbWFza1tzXSA9IChzc19lbiA+PiBzc19pZHgpICYgc3NfZW5f
bWFzazsKKworCQkJaW50ZWxfc3NldV9zZXRfc3Vic2xpY2VzKHNzZXUsIHMsIChzc19lbiA+PiBz
c19pZHgpICYKKwkJCQkJCQkgIHNzX2VuX21hc2spOworCiAJCQlmb3IgKHNzID0gMDsgc3MgPCBz
c2V1LT5tYXhfc3Vic2xpY2VzOyBzcysrKSB7CiAJCQkJaWYgKHNzZXUtPnN1YnNsaWNlX21hc2tb
c10gJiBCSVQoc3MpKQogCQkJCQlzc2V1X3NldF9ldXMoc3NldSwgcywgc3MsIGV1X2VuKTsKQEAg
LTI3NCw4ICsyNzcsOSBAQCBzdGF0aWMgdm9pZCBnZW4xMF9zc2V1X2luZm9faW5pdChzdHJ1Y3Qg
ZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYpCiAJCSAqIFNsaWNlMCBjYW4gaGF2ZSB1cCB0byAz
IHN1YnNsaWNlcywgYnV0IHRoZXJlIGFyZSBvbmx5IDIgaW4KIAkJICogc2xpY2UxLzIuCiAJCSAq
LwotCQlzc2V1LT5zdWJzbGljZV9tYXNrW3NdID0gcyA9PSAwID8gc3Vic2xpY2VfbWFza193aXRo
X2V1cyA6Ci0JCQkJCQkgIHN1YnNsaWNlX21hc2tfd2l0aF9ldXMgJiAweDM7CisJCWludGVsX3Nz
ZXVfc2V0X3N1YnNsaWNlcyhzc2V1LCBzLCBzID09IDAgPworCQkJCQkJICBzdWJzbGljZV9tYXNr
X3dpdGhfZXVzIDoKKwkJCQkJCSAgc3Vic2xpY2VfbWFza193aXRoX2V1cyAmIDB4Myk7CiAJfQog
CiAJc3NldS0+ZXVfdG90YWwgPSBjb21wdXRlX2V1X3RvdGFsKHNzZXUpOwpAQCAtMzMwLDcgKzMz
NCw3IEBAIHN0YXRpYyB2b2lkIGNoZXJyeXZpZXdfc3NldV9pbmZvX2luaXQoc3RydWN0IGRybV9p
OTE1X3ByaXZhdGUgKmRldl9wcml2KQogCQlzc2V1X3NldF9ldXMoc3NldSwgMCwgMSwgfmRpc2Fi
bGVkX21hc2spOwogCX0KIAotCXNzZXUtPnN1YnNsaWNlX21hc2tbMF0gPSBzdWJzbGljZV9tYXNr
OworCWludGVsX3NzZXVfc2V0X3N1YnNsaWNlcyhzc2V1LCAwLCBzdWJzbGljZV9tYXNrKTsKIAog
CXNzZXUtPmV1X3RvdGFsID0gY29tcHV0ZV9ldV90b3RhbChzc2V1KTsKIApAQCAtMzg0LDcgKzM4
OCw3IEBAIHN0YXRpYyB2b2lkIGdlbjlfc3NldV9pbmZvX2luaXQoc3RydWN0IGRybV9pOTE1X3By
aXZhdGUgKmRldl9wcml2KQogCQkJLyogc2tpcCBkaXNhYmxlZCBzbGljZSAqLwogCQkJY29udGlu
dWU7CiAKLQkJc3NldS0+c3Vic2xpY2VfbWFza1tzXSA9IHN1YnNsaWNlX21hc2s7CisJCWludGVs
X3NzZXVfc2V0X3N1YnNsaWNlcyhzc2V1LCBzLCBzdWJzbGljZV9tYXNrKTsKIAogCQlldV9kaXNh
YmxlID0gSTkxNV9SRUFEKEdFTjlfRVVfRElTQUJMRShzKSk7CiAJCWZvciAoc3MgPSAwOyBzcyA8
IHNzZXUtPm1heF9zdWJzbGljZXM7IHNzKyspIHsKQEAgLTQ5MSw3ICs0OTUsNyBAQCBzdGF0aWMg
dm9pZCBicm9hZHdlbGxfc3NldV9pbmZvX2luaXQoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRl
dl9wcml2KQogCQkJLyogc2tpcCBkaXNhYmxlZCBzbGljZSAqLwogCQkJY29udGludWU7CiAKLQkJ
c3NldS0+c3Vic2xpY2VfbWFza1tzXSA9IHN1YnNsaWNlX21hc2s7CisJCWludGVsX3NzZXVfc2V0
X3N1YnNsaWNlcyhzc2V1LCBzLCBzdWJzbGljZV9tYXNrKTsKIAogCQlmb3IgKHNzID0gMDsgc3Mg
PCBzc2V1LT5tYXhfc3Vic2xpY2VzOyBzcysrKSB7CiAJCQl1OCBldV9kaXNhYmxlZF9tYXNrOwpA
QCAtNTg4LDcgKzU5Miw3IEBAIHN0YXRpYyB2b2lkIGhhc3dlbGxfc3NldV9pbmZvX2luaXQoc3Ry
dWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2KQogCQkJICAgIHNzZXUtPmV1X3Blcl9zdWJz
bGljZSk7CiAKIAlmb3IgKHMgPSAwOyBzIDwgc3NldS0+bWF4X3NsaWNlczsgcysrKSB7Ci0JCXNz
ZXUtPnN1YnNsaWNlX21hc2tbc10gPSBzdWJzbGljZV9tYXNrOworCQlpbnRlbF9zc2V1X3NldF9z
dWJzbGljZXMoc3NldSwgcywgc3Vic2xpY2VfbWFzayk7CiAKIAkJZm9yIChzcyA9IDA7IHNzIDwg
c3NldS0+bWF4X3N1YnNsaWNlczsgc3MrKykgewogCQkJc3NldV9zZXRfZXVzKHNzZXUsIHMsIHNz
LAotLSAKMi4yMi4wCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fXwpJbnRlbC1nZnggbWFpbGluZyBsaXN0CkludGVsLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5v
cmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9pbnRlbC1n
Zng=

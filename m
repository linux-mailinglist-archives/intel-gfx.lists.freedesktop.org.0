Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 97ADFB6FEA
	for <lists+intel-gfx@lfdr.de>; Thu, 19 Sep 2019 02:07:49 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 910E28BD65;
	Thu, 19 Sep 2019 00:07:41 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga09.intel.com (mga09.intel.com [134.134.136.24])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 41C917B926
 for <intel-gfx@lists.freedesktop.org>; Thu, 19 Sep 2019 00:07:34 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga003.jf.intel.com ([10.7.209.27])
 by orsmga102.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 18 Sep 2019 17:07:32 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.64,522,1559545200"; d="scan'208";a="189426763"
Received: from josouza-mobl.jf.intel.com (HELO josouza-MOBL.intel.com)
 ([10.24.9.135])
 by orsmga003.jf.intel.com with ESMTP; 18 Sep 2019 17:07:32 -0700
From: =?UTF-8?q?Jos=C3=A9=20Roberto=20de=20Souza?= <jose.souza@intel.com>
To: intel-gfx@lists.freedesktop.org
Date: Wed, 18 Sep 2019 17:07:24 -0700
Message-Id: <20190919000726.267988-12-jose.souza@intel.com>
X-Mailer: git-send-email 2.23.0
In-Reply-To: <20190919000726.267988-1-jose.souza@intel.com>
References: <20190919000726.267988-1-jose.souza@intel.com>
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH v2 11/13] drm/i915/tgl: Add dkl phy pll
 calculations
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

RXh0ZW5kaW5nIElDTCBtZyBjYWxjdWxhdGlvbnMgdG8gYWxzbyBzdXBwb3J0IGRrbCBjYWxjdWxh
dGlvbnMuCgpCU3BlYzogNDkyMDQKClNpZ25lZC1vZmYtYnk6IFZhbmRpdGEgS3Vsa2FybmkgPHZh
bmRpdGEua3Vsa2FybmlAaW50ZWwuY29tPgpTaWduZWQtb2ZmLWJ5OiBKb3PDqSBSb2JlcnRvIGRl
IFNvdXphIDxqb3NlLnNvdXphQGludGVsLmNvbT4KLS0tCiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9k
aXNwbGF5L2ludGVsX2RkaS5jICAgICAgfCAgMjkgKysrLQogZHJpdmVycy9ncHUvZHJtL2k5MTUv
ZGlzcGxheS9pbnRlbF9kcGxsX21nci5jIHwgMTQ4ICsrKysrKysrKysrLS0tLS0tLQogMiBmaWxl
cyBjaGFuZ2VkLCAxMTQgaW5zZXJ0aW9ucygrKSwgNjMgZGVsZXRpb25zKC0pCgpkaWZmIC0tZ2l0
IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kZGkuYyBiL2RyaXZlcnMvZ3B1
L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGRpLmMKaW5kZXggNzhjNjk3NGE1MmQ0Li4yNzE3ZTc1
MjJhMzggMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGRp
LmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kZGkuYwpAQCAtMTQz
NiwxMSArMTQzNiwzMCBAQCBzdGF0aWMgaW50IGljbF9jYWxjX21nX3BsbF9saW5rKHN0cnVjdCBk
cm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiwKIAogCXJlZl9jbG9jayA9IGRldl9wcml2LT5jZGNs
ay5ody5yZWY7CiAKLQltMSA9IHBsbF9zdGF0ZS0+bWdfcGxsX2RpdjEgJiBNR19QTExfRElWMV9G
QlBSRURJVl9NQVNLOwotCW0yX2ludCA9IHBsbF9zdGF0ZS0+bWdfcGxsX2RpdjAgJiBNR19QTExf
RElWMF9GQkRJVl9JTlRfTUFTSzsKLQltMl9mcmFjID0gKHBsbF9zdGF0ZS0+bWdfcGxsX2RpdjAg
JiBNR19QTExfRElWMF9GUkFDTkVOX0gpID8KLQkJKHBsbF9zdGF0ZS0+bWdfcGxsX2RpdjAgJiBN
R19QTExfRElWMF9GQkRJVl9GUkFDX01BU0spID4+Ci0JCU1HX1BMTF9ESVYwX0ZCRElWX0ZSQUNf
U0hJRlQgOiAwOworCWlmIChJTlRFTF9HRU4oZGV2X3ByaXYpID49IDEyKSB7CisJCW0xID0gcGxs
X3N0YXRlLT5tZ19wbGxfZGl2MCAmIERLTF9QTExfRElWMF9GQlBSRURJVl9NQVNLOworCQltMSA9
IG0xID4+IERLTF9QTExfRElWMF9GQlBSRURJVl9TSElGVDsKKwkJbTJfaW50ID0gcGxsX3N0YXRl
LT5tZ19wbGxfZGl2MCAmIERLTF9QTExfRElWMF9GQkRJVl9JTlRfTUFTSzsKKworCQlpZiAocGxs
X3N0YXRlLT5tZ19wbGxfYmlhcyAmIERLTF9QTExfQklBU19GUkFDX0VOX0gpIHsKKwkJCW0yX2Zy
YWMgPSBwbGxfc3RhdGUtPm1nX3BsbF9iaWFzICYKKwkJCQkgIERLTF9QTExfQklBU19GQkRJVl9G
UkFDX01BU0s7CisJCQltMl9mcmFjID0gbTJfZnJhYyA+PiBES0xfUExMX0JJQVNfRkJESVZfU0hJ
RlQ7CisJCX0gZWxzZSB7CisJCQltMl9mcmFjID0gMDsKKwkJfQorCX0gZWxzZSB7CisJCW0xID0g
cGxsX3N0YXRlLT5tZ19wbGxfZGl2MSAmIE1HX1BMTF9ESVYxX0ZCUFJFRElWX01BU0s7CisJCW0y
X2ludCA9IHBsbF9zdGF0ZS0+bWdfcGxsX2RpdjAgJiBNR19QTExfRElWMF9GQkRJVl9JTlRfTUFT
SzsKKworCQlpZiAocGxsX3N0YXRlLT5tZ19wbGxfZGl2MCAmIE1HX1BMTF9ESVYwX0ZSQUNORU5f
SCkgeworCQkJbTJfZnJhYyA9IHBsbF9zdGF0ZS0+bWdfcGxsX2RpdjAgJgorCQkJCSAgTUdfUExM
X0RJVjBfRkJESVZfRlJBQ19NQVNLOworCQkJbTJfZnJhYyA9IG0yX2ZyYWMgPj4gTUdfUExMX0RJ
VjBfRkJESVZfRlJBQ19TSElGVDsKKwkJfSBlbHNlIHsKKwkJCW0yX2ZyYWMgPSAwOworCQl9CisJ
fQogCiAJc3dpdGNoIChwbGxfc3RhdGUtPm1nX2Nsa3RvcDJfaHNjbGtjdGwgJgogCQlNR19DTEtU
T1AyX0hTQ0xLQ1RMX0hTRElWX1JBVElPX01BU0spIHsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1
L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZHBsbF9tZ3IuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1
L2Rpc3BsYXkvaW50ZWxfZHBsbF9tZ3IuYwppbmRleCAyMTI0OTk5Nzk0MGQuLmU2YTcyODBkYTQw
OCAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kcGxsX21n
ci5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZHBsbF9tZ3IuYwpA
QCAtMjYwNyw3ICsyNjA3LDggQEAgZW51bSBpbnRlbF9kcGxsX2lkIGljbF90Y19wb3J0X3RvX3Bs
bF9pZChlbnVtIHRjX3BvcnQgdGNfcG9ydCkKIAogc3RhdGljIGJvb2wgaWNsX21nX3BsbF9maW5k
X2Rpdmlzb3JzKGludCBjbG9ja19raHosIGJvb2wgaXNfZHAsIGJvb2wgdXNlX3NzYywKIAkJCQkg
ICAgIHUzMiAqdGFyZ2V0X2Rjb19raHosCi0JCQkJICAgICBzdHJ1Y3QgaW50ZWxfZHBsbF9od19z
dGF0ZSAqc3RhdGUpCisJCQkJICAgICBzdHJ1Y3QgaW50ZWxfZHBsbF9od19zdGF0ZSAqc3RhdGUs
CisJCQkJICAgICBib29sIGlzX2RrbCkKIHsKIAl1MzIgZGNvX21pbl9mcmVxLCBkY29fbWF4X2Zy
ZXE7CiAJaW50IGRpdjFfdmFsc1tdID0gezcsIDUsIDMsIDJ9OwpAQCAtMjYyNywxMCArMjYyOCwx
NCBAQCBzdGF0aWMgYm9vbCBpY2xfbWdfcGxsX2ZpbmRfZGl2aXNvcnMoaW50IGNsb2NrX2toeiwg
Ym9vbCBpc19kcCwgYm9vbCB1c2Vfc3NjLAogCiAJCQlpZiAoZGNvIDwgZGNvX21pbl9mcmVxIHx8
IGRjbyA+IGRjb19tYXhfZnJlcSkKIAkJCQljb250aW51ZTsKLQogCQkJaWYgKGRpdjIgPj0gMikg
ewotCQkJCWFfZGl2cmF0aW8gPSBpc19kcCA/IDEwIDogNTsKLQkJCQl0bGluZWRydiA9IDI7CisJ
CQkJaWYgKGlzX2RrbCkgeworCQkJCQlhX2RpdnJhdGlvID0gNTsKKwkJCQkJdGxpbmVkcnYgPSAx
OworCQkJCX0gZWxzZSB7CisJCQkJCWFfZGl2cmF0aW8gPSBpc19kcCA/IDEwIDogNTsKKwkJCQkJ
dGxpbmVkcnYgPSAyOworCQkJCX0KIAkJCX0gZWxzZSB7CiAJCQkJYV9kaXZyYXRpbyA9IDU7CiAJ
CQkJdGxpbmVkcnYgPSAwOwpAQCAtMjY5MywxMSArMjY5OCwxMiBAQCBzdGF0aWMgYm9vbCBpY2xf
Y2FsY19tZ19wbGxfc3RhdGUoc3RydWN0IGludGVsX2NydGNfc3RhdGUgKmNydGNfc3RhdGUsCiAJ
dTY0IHRtcDsKIAlib29sIHVzZV9zc2MgPSBmYWxzZTsKIAlib29sIGlzX2RwID0gIWludGVsX2Ny
dGNfaGFzX3R5cGUoY3J0Y19zdGF0ZSwgSU5URUxfT1VUUFVUX0hETUkpOworCWJvb2wgaXNfZGts
ID0gSU5URUxfR0VOKGRldl9wcml2KSA+PSAxMjsKIAogCW1lbXNldChwbGxfc3RhdGUsIDAsIHNp
emVvZigqcGxsX3N0YXRlKSk7CiAKIAlpZiAoIWljbF9tZ19wbGxfZmluZF9kaXZpc29ycyhjbG9j
aywgaXNfZHAsIHVzZV9zc2MsICZkY29fa2h6LAotCQkJCSAgICAgIHBsbF9zdGF0ZSkpIHsKKwkJ
CQkgICAgICBwbGxfc3RhdGUsIGlzX2RrbCkpIHsKIAkJRFJNX0RFQlVHX0tNUygiRmFpbGVkIHRv
IGZpbmQgZGl2aXNvcnMgZm9yIGNsb2NrICVkXG4iLCBjbG9jayk7CiAJCXJldHVybiBmYWxzZTsK
IAl9CkBAIC0yNzA1LDggKzI3MTEsMTIgQEAgc3RhdGljIGJvb2wgaWNsX2NhbGNfbWdfcGxsX3N0
YXRlKHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpjcnRjX3N0YXRlLAogCW0xZGl2ID0gMjsKIAlt
MmRpdl9pbnQgPSBkY29fa2h6IC8gKHJlZmNsa19raHogKiBtMWRpdik7CiAJaWYgKG0yZGl2X2lu
dCA+IDI1NSkgeworCQlpZiAoaXNfZGtsKQorCQkJZ290byBub19tZGl2OworCiAJCW0xZGl2ID0g
NDsKIAkJbTJkaXZfaW50ID0gZGNvX2toeiAvIChyZWZjbGtfa2h6ICogbTFkaXYpOworbm9fbWRp
djoKIAkJaWYgKG0yZGl2X2ludCA+IDI1NSkgewogCQkJRFJNX0RFQlVHX0tNUygiRmFpbGVkIHRv
IGZpbmQgbWRpdiBmb3IgY2xvY2sgJWRcbiIsCiAJCQkJICAgICAgY2xvY2spOwpAQCAtMjczMiw3
ICsyNzQyLDcgQEAgc3RhdGljIGJvb2wgaWNsX2NhbGNfbWdfcGxsX3N0YXRlKHN0cnVjdCBpbnRl
bF9jcnRjX3N0YXRlICpjcnRjX3N0YXRlLAogCQlicmVhazsKIAljYXNlIDM4NDAwOgogCQlpcmVm
X25kaXYgPSAyOwotCQlpcmVmX3RyaW0gPSAyODsKKwkJaXJlZl90cmltID0gaXNfZGtsID8gMjQg
OiAyODsKIAkJaXJlZl9wdWxzZV93ID0gMTsKIAkJYnJlYWs7CiAJZGVmYXVsdDoKQEAgLTI3ODYs
NjAgKzI3OTYsODIgQEAgc3RhdGljIGJvb2wgaWNsX2NhbGNfbWdfcGxsX3N0YXRlKHN0cnVjdCBp
bnRlbF9jcnRjX3N0YXRlICpjcnRjX3N0YXRlLAogCX0KIAlzc2Nfc3RlcGxvZyA9IDQ7CiAKLQlw
bGxfc3RhdGUtPm1nX3BsbF9kaXYwID0gKG0yZGl2X3JlbSA+IDAgPyBNR19QTExfRElWMF9GUkFD
TkVOX0ggOiAwKSB8Ci0JCQkJICBNR19QTExfRElWMF9GQkRJVl9GUkFDKG0yZGl2X2ZyYWMpIHwK
LQkJCQkgIE1HX1BMTF9ESVYwX0ZCRElWX0lOVChtMmRpdl9pbnQpOwotCi0JcGxsX3N0YXRlLT5t
Z19wbGxfZGl2MSA9IE1HX1BMTF9ESVYxX0lSRUZfTkRJVlJBVElPKGlyZWZfbmRpdikgfAotCQkJ
CSBNR19QTExfRElWMV9ESVRIRVJfRElWXzIgfAotCQkJCSBNR19QTExfRElWMV9ORElWUkFUSU8o
MSkgfAotCQkJCSBNR19QTExfRElWMV9GQlBSRURJVihtMWRpdik7Ci0KLQlwbGxfc3RhdGUtPm1n
X3BsbF9sZiA9IE1HX1BMTF9MRl9URENUQVJHRVRDTlQodGRjX3RhcmdldGNudCkgfAotCQkJICAg
ICAgIE1HX1BMTF9MRl9BRkNDTlRTRUxfNTEyIHwKLQkJCSAgICAgICBNR19QTExfTEZfR0FJTkNU
UkwoMSkgfAotCQkJICAgICAgIE1HX1BMTF9MRl9JTlRfQ09FRkYoaW50X2NvZWZmKSB8Ci0JCQkg
ICAgICAgTUdfUExMX0xGX1BST1BfQ09FRkYocHJvcF9jb2VmZik7Ci0KLQlwbGxfc3RhdGUtPm1n
X3BsbF9mcmFjX2xvY2sgPSBNR19QTExfRlJBQ19MT0NLX1RSVUVMT0NLX0NSSVRfMzIgfAotCQkJ
CSAgICAgIE1HX1BMTF9GUkFDX0xPQ0tfRUFSTFlMT0NLX0NSSVRfMzIgfAotCQkJCSAgICAgIE1H
X1BMTF9GUkFDX0xPQ0tfTE9DS1RIUkVTSCgxMCkgfAotCQkJCSAgICAgIE1HX1BMTF9GUkFDX0xP
Q0tfRENPRElUSEVSRU4gfAotCQkJCSAgICAgIE1HX1BMTF9GUkFDX0xPQ0tfRkVFREZXUkRHQUlO
KGZlZWRmd2dhaW4pOwotCWlmICh1c2Vfc3NjIHx8IG0yZGl2X3JlbSA+IDApCi0JCXBsbF9zdGF0
ZS0+bWdfcGxsX2ZyYWNfbG9jayB8PSBNR19QTExfRlJBQ19MT0NLX0ZFRURGV1JEQ0FMX0VOOwot
Ci0JcGxsX3N0YXRlLT5tZ19wbGxfc3NjID0gKHVzZV9zc2MgPyBNR19QTExfU1NDX0VOIDogMCkg
fAotCQkJCU1HX1BMTF9TU0NfVFlQRSgyKSB8Ci0JCQkJTUdfUExMX1NTQ19TVEVQTEVOR1RIKHNz
Y19zdGVwbGVuKSB8Ci0JCQkJTUdfUExMX1NTQ19TVEVQTlVNKHNzY19zdGVwbG9nKSB8Ci0JCQkJ
TUdfUExMX1NTQ19GTExFTiB8Ci0JCQkJTUdfUExMX1NTQ19TVEVQU0laRShzc2Nfc3RlcHNpemUp
OwotCi0JcGxsX3N0YXRlLT5tZ19wbGxfdGRjX2NvbGRzdF9iaWFzID0gTUdfUExMX1REQ19DT0xE
U1RfQ09MRFNUQVJUIHwKLQkJCQkJICAgIE1HX1BMTF9URENfQ09MRFNUX0lSRUZJTlRfRU4gfAot
CQkJCQkgICAgTUdfUExMX1REQ19DT0xEU1RfUkVGQklBU19TVEFSVF9QVUxTRV9XKGlyZWZfcHVs
c2VfdykgfAotCQkJCQkgICAgTUdfUExMX1REQ19URENPVkNDT1JSX0VOIHwKLQkJCQkJICAgIE1H
X1BMTF9URENfVERDU0VMKDMpOwotCi0JcGxsX3N0YXRlLT5tZ19wbGxfYmlhcyA9IE1HX1BMTF9C
SUFTX0JJQVNfR0JfU0VMKDMpIHwKLQkJCQkgTUdfUExMX0JJQVNfSU5JVF9EQ09BTVAoMHgzRikg
fAotCQkJCSBNR19QTExfQklBU19CSUFTX0JPTlVTKDEwKSB8Ci0JCQkJIE1HX1BMTF9CSUFTX0JJ
QVNDQUxfRU4gfAotCQkJCSBNR19QTExfQklBU19DVFJJTSgxMikgfAotCQkJCSBNR19QTExfQklB
U19WUkVGX1JEQUMoNCkgfAotCQkJCSBNR19QTExfQklBU19JUkVGVFJJTShpcmVmX3RyaW0pOwot
Ci0JaWYgKHJlZmNsa19raHogPT0gMzg0MDApIHsKLQkJcGxsX3N0YXRlLT5tZ19wbGxfdGRjX2Nv
bGRzdF9iaWFzX21hc2sgPSBNR19QTExfVERDX0NPTERTVF9DT0xEU1RBUlQ7Ci0JCXBsbF9zdGF0
ZS0+bWdfcGxsX2JpYXNfbWFzayA9IDA7CisJaWYgKGlzX2RrbCkgeworCQlwbGxfc3RhdGUtPm1n
X3BsbF9kaXYwID0gREtMX1BMTF9ESVYwX0lOVEVHX0NPRUZGKGludF9jb2VmZikgfAorCQkJCQkg
REtMX1BMTF9ESVYwX1BST1BfQ09FRkYocHJvcF9jb2VmZikgfAorCQkJCQkgREtMX1BMTF9ESVYw
X0ZCUFJFRElWKG0xZGl2KSB8CisJCQkJCSBES0xfUExMX0RJVjBfRkJESVZfSU5UKG0yZGl2X2lu
dCk7CisKKwkJcGxsX3N0YXRlLT5tZ19wbGxfZGl2MSA9IERLTF9QTExfRElWMV9JUkVGX1RSSU0o
aXJlZl90cmltKSB8CisJCQkJCSBES0xfUExMX0RJVjFfVERDX1RBUkdFVF9DTlQodGRjX3Rhcmdl
dGNudCk7CisKKwkJcGxsX3N0YXRlLT5tZ19wbGxfc3NjID0gREtMX1BMTF9TU0NfSVJFRl9ORElW
X1JBVElPKGlyZWZfbmRpdikgfAorCQkJCQlES0xfUExMX1NTQ19TVEVQX0xFTihzc2Nfc3RlcGxl
bikgfAorCQkJCQlES0xfUExMX1NTQ19TVEVQX05VTShzc2Nfc3RlcGxvZykgfAorCQkJCQkodXNl
X3NzYyA/IERLTF9QTExfU1NDX0VOIDogMCk7CisKKwkJcGxsX3N0YXRlLT5tZ19wbGxfYmlhcyA9
IChtMmRpdl9mcmFjID8gREtMX1BMTF9CSUFTX0ZSQUNfRU5fSCA6IDApIHwKKwkJCQkJICBES0xf
UExMX0JJQVNfRkJESVZfRlJBQyhtMmRpdl9mcmFjKTsKKworCQlwbGxfc3RhdGUtPm1nX3BsbF90
ZGNfY29sZHN0X2JpYXMgPQorCQkJCURLTF9QTExfVERDX1NTQ19TVEVQX1NJWkUoc3NjX3N0ZXBz
aXplKSB8CisJCQkJREtMX1BMTF9URENfRkVFRF9GV0RfR0FJTihmZWVkZndnYWluKTsKIAl9IGVs
c2UgewotCQlwbGxfc3RhdGUtPm1nX3BsbF90ZGNfY29sZHN0X2JpYXNfbWFzayA9IC0xVTsKLQkJ
cGxsX3N0YXRlLT5tZ19wbGxfYmlhc19tYXNrID0gLTFVOwotCX0KKwkJcGxsX3N0YXRlLT5tZ19w
bGxfZGl2MCA9IChtMmRpdl9yZW0gPiAwID8gTUdfUExMX0RJVjBfRlJBQ05FTl9IIDogMCkgfAor
CQkJCQkgIE1HX1BMTF9ESVYwX0ZCRElWX0ZSQUMobTJkaXZfZnJhYykgfAorCQkJCQkgIE1HX1BM
TF9ESVYwX0ZCRElWX0lOVChtMmRpdl9pbnQpOworCisJCXBsbF9zdGF0ZS0+bWdfcGxsX2RpdjEg
PSBNR19QTExfRElWMV9JUkVGX05ESVZSQVRJTyhpcmVmX25kaXYpIHwKKwkJCQkJIE1HX1BMTF9E
SVYxX0RJVEhFUl9ESVZfMiB8CisJCQkJCSBNR19QTExfRElWMV9ORElWUkFUSU8oMSkgfAorCQkJ
CQkgTUdfUExMX0RJVjFfRkJQUkVESVYobTFkaXYpOworCisJCXBsbF9zdGF0ZS0+bWdfcGxsX2xm
ID0gTUdfUExMX0xGX1REQ1RBUkdFVENOVCh0ZGNfdGFyZ2V0Y250KSB8CisJCQkJICAgICAgIE1H
X1BMTF9MRl9BRkNDTlRTRUxfNTEyIHwKKwkJCQkgICAgICAgTUdfUExMX0xGX0dBSU5DVFJMKDEp
IHwKKwkJCQkgICAgICAgTUdfUExMX0xGX0lOVF9DT0VGRihpbnRfY29lZmYpIHwKKwkJCQkgICAg
ICAgTUdfUExMX0xGX1BST1BfQ09FRkYocHJvcF9jb2VmZik7CisKKwkJcGxsX3N0YXRlLT5tZ19w
bGxfZnJhY19sb2NrID0gTUdfUExMX0ZSQUNfTE9DS19UUlVFTE9DS19DUklUXzMyIHwKKwkJCQkJ
ICAgICAgTUdfUExMX0ZSQUNfTE9DS19FQVJMWUxPQ0tfQ1JJVF8zMiB8CisJCQkJCSAgICAgIE1H
X1BMTF9GUkFDX0xPQ0tfTE9DS1RIUkVTSCgxMCkgfAorCQkJCQkgICAgICBNR19QTExfRlJBQ19M
T0NLX0RDT0RJVEhFUkVOIHwKKwkJCQkJICAgICAgTUdfUExMX0ZSQUNfTE9DS19GRUVERldSREdB
SU4oZmVlZGZ3Z2Fpbik7CisJCWlmICh1c2Vfc3NjIHx8IG0yZGl2X3JlbSA+IDApCisJCQlwbGxf
c3RhdGUtPm1nX3BsbF9mcmFjX2xvY2sgfD0gTUdfUExMX0ZSQUNfTE9DS19GRUVERldSRENBTF9F
TjsKKworCQlwbGxfc3RhdGUtPm1nX3BsbF9zc2MgPSAodXNlX3NzYyA/IE1HX1BMTF9TU0NfRU4g
OiAwKSB8CisJCQkJCU1HX1BMTF9TU0NfVFlQRSgyKSB8CisJCQkJCU1HX1BMTF9TU0NfU1RFUExF
TkdUSChzc2Nfc3RlcGxlbikgfAorCQkJCQlNR19QTExfU1NDX1NURVBOVU0oc3NjX3N0ZXBsb2cp
IHwKKwkJCQkJTUdfUExMX1NTQ19GTExFTiB8CisJCQkJCU1HX1BMTF9TU0NfU1RFUFNJWkUoc3Nj
X3N0ZXBzaXplKTsKKworCQlwbGxfc3RhdGUtPm1nX3BsbF90ZGNfY29sZHN0X2JpYXMgPSBNR19Q
TExfVERDX0NPTERTVF9DT0xEU1RBUlQgfAorCQkJCQkJICAgIE1HX1BMTF9URENfQ09MRFNUX0lS
RUZJTlRfRU4gfAorCQkJCQkJICAgIE1HX1BMTF9URENfQ09MRFNUX1JFRkJJQVNfU1RBUlRfUFVM
U0VfVyhpcmVmX3B1bHNlX3cpIHwKKwkJCQkJCSAgICBNR19QTExfVERDX1REQ09WQ0NPUlJfRU4g
fAorCQkJCQkJICAgIE1HX1BMTF9URENfVERDU0VMKDMpOworCisJCXBsbF9zdGF0ZS0+bWdfcGxs
X2JpYXMgPSBNR19QTExfQklBU19CSUFTX0dCX1NFTCgzKSB8CisJCQkJCSBNR19QTExfQklBU19J
TklUX0RDT0FNUCgweDNGKSB8CisJCQkJCSBNR19QTExfQklBU19CSUFTX0JPTlVTKDEwKSB8CisJ
CQkJCSBNR19QTExfQklBU19CSUFTQ0FMX0VOIHwKKwkJCQkJIE1HX1BMTF9CSUFTX0NUUklNKDEy
KSB8CisJCQkJCSBNR19QTExfQklBU19WUkVGX1JEQUMoNCkgfAorCQkJCQkgTUdfUExMX0JJQVNf
SVJFRlRSSU0oaXJlZl90cmltKTsKKworCQlpZiAocmVmY2xrX2toeiA9PSAzODQwMCkgeworCQkJ
cGxsX3N0YXRlLT5tZ19wbGxfdGRjX2NvbGRzdF9iaWFzX21hc2sgPSBNR19QTExfVERDX0NPTERT
VF9DT0xEU1RBUlQ7CisJCQlwbGxfc3RhdGUtPm1nX3BsbF9iaWFzX21hc2sgPSAwOworCQl9IGVs
c2UgeworCQkJcGxsX3N0YXRlLT5tZ19wbGxfdGRjX2NvbGRzdF9iaWFzX21hc2sgPSAtMVU7CisJ
CQlwbGxfc3RhdGUtPm1nX3BsbF9iaWFzX21hc2sgPSAtMVU7CisJCX0KIAotCXBsbF9zdGF0ZS0+
bWdfcGxsX3RkY19jb2xkc3RfYmlhcyAmPSBwbGxfc3RhdGUtPm1nX3BsbF90ZGNfY29sZHN0X2Jp
YXNfbWFzazsKLQlwbGxfc3RhdGUtPm1nX3BsbF9iaWFzICY9IHBsbF9zdGF0ZS0+bWdfcGxsX2Jp
YXNfbWFzazsKKwkJcGxsX3N0YXRlLT5tZ19wbGxfdGRjX2NvbGRzdF9iaWFzICY9IHBsbF9zdGF0
ZS0+bWdfcGxsX3RkY19jb2xkc3RfYmlhc19tYXNrOworCQlwbGxfc3RhdGUtPm1nX3BsbF9iaWFz
ICY9IHBsbF9zdGF0ZS0+bWdfcGxsX2JpYXNfbWFzazsKKwl9CiAKIAlyZXR1cm4gdHJ1ZTsKIH0K
LS0gCjIuMjMuMAoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X18KSW50ZWwtZ2Z4IG1haWxpbmcgbGlzdApJbnRlbC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3Jn
Cmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vaW50ZWwtZ2Z4

Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id F1E3F7596F
	for <lists+intel-gfx@lfdr.de>; Thu, 25 Jul 2019 23:21:52 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 6AEB16E834;
	Thu, 25 Jul 2019 21:21:50 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga12.intel.com (mga12.intel.com [192.55.52.136])
 by gabe.freedesktop.org (Postfix) with ESMTPS id C9DE66E834
 for <intel-gfx@lists.freedesktop.org>; Thu, 25 Jul 2019 21:21:48 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga007.jf.intel.com ([10.7.209.58])
 by fmsmga106.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 25 Jul 2019 14:21:48 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.64,308,1559545200"; d="scan'208";a="161101264"
Received: from dceraolo-linux.fm.intel.com (HELO [10.1.27.145]) ([10.1.27.145])
 by orsmga007.jf.intel.com with ESMTP; 25 Jul 2019 14:21:48 -0700
To: Chris Wilson <chris@chris-wilson.co.uk>, intel-gfx@lists.freedesktop.org
References: <20190723183842.20372-1-chris@chris-wilson.co.uk>
 <20190723183842.20372-7-chris@chris-wilson.co.uk>
From: Daniele Ceraolo Spurio <daniele.ceraolospurio@intel.com>
Message-ID: <acf06398-3b78-0158-6d88-b718dea9638a@intel.com>
Date: Thu, 25 Jul 2019 14:21:33 -0700
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101
 Thunderbird/60.8.0
MIME-Version: 1.0
In-Reply-To: <20190723183842.20372-7-chris@chris-wilson.co.uk>
Content-Language: en-US
Subject: Re: [Intel-gfx] [PATCH 07/23] drm/i915/gt: Move the [class][inst]
 lookup for engines onto the GT
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

CgpPbiA3LzIzLzE5IDExOjM4IEFNLCBDaHJpcyBXaWxzb24gd3JvdGU6Cj4gVG8gbWFpbnRhaW4g
YSBmYXN0IGxvb2t1cCBmcm9tIGEgR1QgY2VudHJpYyBpcnEgaGFuZGxlciwgd2Ugd2FudCB0aGUK
PiBlbmdpbmUgbG9va3VwIHRhYmxlcyBvbiB0aGUgaW50ZWxfZ3QuIFRvIGF2b2lkIGhhdmluZyBt
dWx0aXBsZSBjb3BpZXMgb2YKPiB0aGUgc2FtZSBtdWx0aS1kaW1lbnNpb24gbG9va3VwIHRhYmxl
LCBtb3ZlIHRoZSBnZW5lcmljIHVzZXIgZW5naW5lCj4gbG9va3VwIGludG8gYW4gcmJ0cmVlIChm
b3IgZmFzdCBhbmQgZmxleGlibGUgaW5kZXhpbmcpLgo+IAo+IHYyOiBTcGxpdCB1YWJpX2luc3Rh
bmNlIGNmIHVhYmlfY2xhc3MKPiAKPiBTaWduZWQtb2ZmLWJ5OiBDaHJpcyBXaWxzb24gPGNocmlz
QGNocmlzLXdpbHNvbi5jby51az4KPiBDYzogVHZydGtvIFVyc3VsaW4gPHR2cnRrby51cnN1bGlu
QGludGVsLmNvbT4KPiBDYzogRGFuaWVsZSBDZXJhb2xvIFNwdXJpbyA8ZGFuaWVsZS5jZXJhb2xv
c3B1cmlvQGludGVsLmNvbT4KClJldmlld2VkLWJ5OiBEYW5pZWxlIENlcmFvbG8gU3B1cmlvIDxk
YW5pZWxlLmNlcmFvbG9zcHVyaW9AaW50ZWwuY29tPgoKQnV0IEknZCBsaWtlIGFuIGFjayBmcm9t
IFR2cnRrbyBhcyB3ZWxsIHNpbmNlIEkga25vdyBoZSBoYXMgc29tZSBzaW1pbGFyIApwbGFubmVk
IGNoYW5nZXMgYXJvdW5kIHRoaXMgYXMgd2VsbC4KCkRhbmllbGUKCj4gLS0tCj4gICBkcml2ZXJz
L2dwdS9kcm0vaTkxNS9NYWtlZmlsZSAgICAgICAgICAgICAgICB8ICAxICsKPiAgIGRyaXZlcnMv
Z3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9jb250ZXh0LmMgIHwgIDMgKy0KPiAgIGRyaXZlcnMv
Z3B1L2RybS9pOTE1L2d0L2ludGVsX2VuZ2luZS5oICAgICAgIHwgIDMgLQo+ICAgZHJpdmVycy9n
cHUvZHJtL2k5MTUvZ3QvaW50ZWxfZW5naW5lX2NzLmMgICAgfCA1MyArKysrKy0tLS0tLS0tLS0t
Cj4gICBkcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9lbmdpbmVfdHlwZXMuaCB8ICA5ICsr
LQo+ICAgZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZW5naW5lX3VzZXIuYyAgfCA2NiAr
KysrKysrKysrKysrKysrKysrKwo+ICAgZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZW5n
aW5lX3VzZXIuaCAgfCAyMCArKysrKysKPiAgIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVs
X2d0X3R5cGVzLmggICAgIHwgIDQgKysKPiAgIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L3NlbGZ0
ZXN0X2xyYy5jICAgICAgIHwgMTUgKysrLS0KPiAgIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVf
ZHJ2LmggICAgICAgICAgICAgIHwgIDcgKystCj4gICBkcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1
X2lycS5jICAgICAgICAgICAgICB8ICAyICstCj4gICBkcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1
X3BtdS5jICAgICAgICAgICAgICB8ICAzICstCj4gICBkcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1
X3F1ZXJ5LmMgICAgICAgICAgICB8ICAyICstCj4gICBkcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1
X3RyYWNlLmggICAgICAgICAgICB8IDEwICstLQo+ICAgMTQgZmlsZXMgY2hhbmdlZCwgMTM4IGlu
c2VydGlvbnMoKyksIDYwIGRlbGV0aW9ucygtKQo+ICAgY3JlYXRlIG1vZGUgMTAwNjQ0IGRyaXZl
cnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2VuZ2luZV91c2VyLmMKPiAgIGNyZWF0ZSBtb2RlIDEw
MDY0NCBkcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9lbmdpbmVfdXNlci5oCj4gCj4gZGlm
ZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L01ha2VmaWxlIGIvZHJpdmVycy9ncHUvZHJt
L2k5MTUvTWFrZWZpbGUKPiBpbmRleCA1MjQ1MTYyNTFhNDAuLmZhZmMzNzYzZGMyZCAxMDA2NDQK
PiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9NYWtlZmlsZQo+ICsrKyBiL2RyaXZlcnMvZ3B1
L2RybS9pOTE1L01ha2VmaWxlCj4gQEAgLTc0LDYgKzc0LDcgQEAgZ3QteSArPSBcCj4gICAJZ3Qv
aW50ZWxfY29udGV4dC5vIFwKPiAgIAlndC9pbnRlbF9lbmdpbmVfY3MubyBcCj4gICAJZ3QvaW50
ZWxfZW5naW5lX3BtLm8gXAo+ICsJZ3QvaW50ZWxfZW5naW5lX3VzZXIubyBcCj4gICAJZ3QvaW50
ZWxfZ3QubyBcCj4gICAJZ3QvaW50ZWxfZ3RfcG0ubyBcCj4gICAJZ3QvaW50ZWxfaGFuZ2NoZWNr
Lm8gXAo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fY29u
dGV4dC5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX2NvbnRleHQuYwo+IGlu
ZGV4IDE4YjIyNmJjNWUzYS4uZTMxNDMxZmExNDFlIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1
L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9jb250ZXh0LmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0v
aTkxNS9nZW0vaTkxNV9nZW1fY29udGV4dC5jCj4gQEAgLTcwLDYgKzcwLDcgQEAKPiAgICNpbmNs
dWRlIDxkcm0vaTkxNV9kcm0uaD4KPiAgIAo+ICAgI2luY2x1ZGUgImd0L2ludGVsX2xyY19yZWcu
aCIKPiArI2luY2x1ZGUgImd0L2ludGVsX2VuZ2luZV91c2VyLmgiCj4gICAKPiAgICNpbmNsdWRl
ICJpOTE1X2dlbV9jb250ZXh0LmgiCj4gICAjaW5jbHVkZSAiaTkxNV9nbG9iYWxzLmgiCj4gQEAg
LTE3NDAsNyArMTc0MSw3IEBAIGdldF9lbmdpbmVzKHN0cnVjdCBpOTE1X2dlbV9jb250ZXh0ICpj
dHgsCj4gICAKPiAgIAkJaWYgKGUtPmVuZ2luZXNbbl0pIHsKPiAgIAkJCWNpLmVuZ2luZV9jbGFz
cyA9IGUtPmVuZ2luZXNbbl0tPmVuZ2luZS0+dWFiaV9jbGFzczsKPiAtCQkJY2kuZW5naW5lX2lu
c3RhbmNlID0gZS0+ZW5naW5lc1tuXS0+ZW5naW5lLT5pbnN0YW5jZTsKPiArCQkJY2kuZW5naW5l
X2luc3RhbmNlID0gZS0+ZW5naW5lc1tuXS0+ZW5naW5lLT51YWJpX2luc3RhbmNlOwo+ICAgCQl9
Cj4gICAKPiAgIAkJaWYgKGNvcHlfdG9fdXNlcigmdXNlci0+ZW5naW5lc1tuXSwgJmNpLCBzaXpl
b2YoY2kpKSkgewo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9l
bmdpbmUuaCBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2VuZ2luZS5oCj4gaW5kZXgg
ZGI1YzczY2U4NmVlLi4zMDg1NjM4M2U0YzUgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJt
L2k5MTUvZ3QvaW50ZWxfZW5naW5lLmgKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9p
bnRlbF9lbmdpbmUuaAo+IEBAIC00MzIsOSArNDMyLDYgQEAgdm9pZCBpbnRlbF9lbmdpbmVfZHVt
cChzdHJ1Y3QgaW50ZWxfZW5naW5lX2NzICplbmdpbmUsCj4gICAJCSAgICAgICBzdHJ1Y3QgZHJt
X3ByaW50ZXIgKm0sCj4gICAJCSAgICAgICBjb25zdCBjaGFyICpoZWFkZXIsIC4uLik7Cj4gICAK
PiAtc3RydWN0IGludGVsX2VuZ2luZV9jcyAqCj4gLWludGVsX2VuZ2luZV9sb29rdXBfdXNlcihz
dHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSwgdTggY2xhc3MsIHU4IGluc3RhbmNlKTsKPiAt
Cj4gICBzdGF0aWMgaW5saW5lIHZvaWQgaW50ZWxfZW5naW5lX2NvbnRleHRfaW4oc3RydWN0IGlu
dGVsX2VuZ2luZV9jcyAqZW5naW5lKQo+ICAgewo+ICAgCXVuc2lnbmVkIGxvbmcgZmxhZ3M7Cj4g
ZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2VuZ2luZV9jcy5jIGIv
ZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZW5naW5lX2NzLmMKPiBpbmRleCA2NWNiZjFk
OTExOGQuLmVkNWM0ZTE2MWU2ZSAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9n
dC9pbnRlbF9lbmdpbmVfY3MuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVs
X2VuZ2luZV9jcy5jCj4gQEAgLTMyLDYgKzMyLDcgQEAKPiAgIAo+ICAgI2luY2x1ZGUgImludGVs
X2VuZ2luZS5oIgo+ICAgI2luY2x1ZGUgImludGVsX2VuZ2luZV9wbS5oIgo+ICsjaW5jbHVkZSAi
aW50ZWxfZW5naW5lX3VzZXIuaCIKPiAgICNpbmNsdWRlICJpbnRlbF9jb250ZXh0LmgiCj4gICAj
aW5jbHVkZSAiaW50ZWxfbHJjLmgiCj4gICAjaW5jbHVkZSAiaW50ZWxfcmVzZXQuaCIKPiBAQCAt
Mjg1LDkgKzI4Niw3IEBAIHN0YXRpYyB2b2lkIGludGVsX2VuZ2luZV9zYW5pdGl6ZV9tbWlvKHN0
cnVjdCBpbnRlbF9lbmdpbmVfY3MgKmVuZ2luZSkKPiAgIAlpbnRlbF9lbmdpbmVfc2V0X2h3c3Bf
d3JpdGVtYXNrKGVuZ2luZSwgfjB1KTsKPiAgIH0KPiAgIAo+IC1zdGF0aWMgaW50Cj4gLWludGVs
X2VuZ2luZV9zZXR1cChzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYsCj4gLQkJICAg
ZW51bSBpbnRlbF9lbmdpbmVfaWQgaWQpCj4gK3N0YXRpYyBpbnQgaW50ZWxfZW5naW5lX3NldHVw
KHN0cnVjdCBpbnRlbF9ndCAqZ3QsIGVudW0gaW50ZWxfZW5naW5lX2lkIGlkKQo+ICAgewo+ICAg
CWNvbnN0IHN0cnVjdCBlbmdpbmVfaW5mbyAqaW5mbyA9ICZpbnRlbF9lbmdpbmVzW2lkXTsKPiAg
IAlzdHJ1Y3QgaW50ZWxfZW5naW5lX2NzICplbmdpbmU7Cj4gQEAgLTMwMywxMCArMzAyLDkgQEAg
aW50ZWxfZW5naW5lX3NldHVwKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiwKPiAg
IAlpZiAoR0VNX0RFQlVHX1dBUk5fT04oaW5mby0+aW5zdGFuY2UgPiBNQVhfRU5HSU5FX0lOU1RB
TkNFKSkKPiAgIAkJcmV0dXJuIC1FSU5WQUw7Cj4gICAKPiAtCWlmIChHRU1fREVCVUdfV0FSTl9P
TihkZXZfcHJpdi0+ZW5naW5lX2NsYXNzW2luZm8tPmNsYXNzXVtpbmZvLT5pbnN0YW5jZV0pKQo+
ICsJaWYgKEdFTV9ERUJVR19XQVJOX09OKGd0LT5lbmdpbmVfY2xhc3NbaW5mby0+Y2xhc3NdW2lu
Zm8tPmluc3RhbmNlXSkpCj4gICAJCXJldHVybiAtRUlOVkFMOwo+ICAgCj4gLQlHRU1fQlVHX09O
KGRldl9wcml2LT5lbmdpbmVbaWRdKTsKPiAgIAllbmdpbmUgPSBremFsbG9jKHNpemVvZigqZW5n
aW5lKSwgR0ZQX0tFUk5FTCk7Cj4gICAJaWYgKCFlbmdpbmUpCj4gICAJCXJldHVybiAtRU5PTUVN
Owo+IEBAIC0zMTUsMTIgKzMxMywxMiBAQCBpbnRlbF9lbmdpbmVfc2V0dXAoc3RydWN0IGRybV9p
OTE1X3ByaXZhdGUgKmRldl9wcml2LAo+ICAgCj4gICAJZW5naW5lLT5pZCA9IGlkOwo+ICAgCWVu
Z2luZS0+bWFzayA9IEJJVChpZCk7Cj4gLQllbmdpbmUtPmk5MTUgPSBkZXZfcHJpdjsKPiAtCWVu
Z2luZS0+Z3QgPSAmZGV2X3ByaXYtPmd0Owo+IC0JZW5naW5lLT51bmNvcmUgPSAmZGV2X3ByaXYt
PnVuY29yZTsKPiArCWVuZ2luZS0+aTkxNSA9IGd0LT5pOTE1Owo+ICsJZW5naW5lLT5ndCA9IGd0
Owo+ICsJZW5naW5lLT51bmNvcmUgPSBndC0+dW5jb3JlOwo+ICAgCV9fc3ByaW50X2VuZ2luZV9u
YW1lKGVuZ2luZS0+bmFtZSwgaW5mbyk7Cj4gICAJZW5naW5lLT5od19pZCA9IGVuZ2luZS0+Z3Vj
X2lkID0gaW5mby0+aHdfaWQ7Cj4gLQllbmdpbmUtPm1taW9fYmFzZSA9IF9fZW5naW5lX21taW9f
YmFzZShkZXZfcHJpdiwgaW5mby0+bW1pb19iYXNlcyk7Cj4gKwllbmdpbmUtPm1taW9fYmFzZSA9
IF9fZW5naW5lX21taW9fYmFzZShndC0+aTkxNSwgaW5mby0+bW1pb19iYXNlcyk7Cj4gICAJZW5n
aW5lLT5jbGFzcyA9IGluZm8tPmNsYXNzOwo+ICAgCWVuZ2luZS0+aW5zdGFuY2UgPSBpbmZvLT5p
bnN0YW5jZTsKPiAgIAo+IEBAIC0zMzEsMTMgKzMyOSwxNCBAQCBpbnRlbF9lbmdpbmVfc2V0dXAo
c3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2LAo+ICAgCWVuZ2luZS0+ZGVzdHJveSA9
ICh0eXBlb2YoZW5naW5lLT5kZXN0cm95KSlrZnJlZTsKPiAgIAo+ICAgCWVuZ2luZS0+dWFiaV9j
bGFzcyA9IGludGVsX2VuZ2luZV9jbGFzc2VzW2luZm8tPmNsYXNzXS51YWJpX2NsYXNzOwo+ICsJ
ZW5naW5lLT51YWJpX2luc3RhbmNlID0gaW5mby0+aW5zdGFuY2U7Cj4gICAKPiAtCWVuZ2luZS0+
Y29udGV4dF9zaXplID0gaW50ZWxfZW5naW5lX2NvbnRleHRfc2l6ZShkZXZfcHJpdiwKPiArCWVu
Z2luZS0+Y29udGV4dF9zaXplID0gaW50ZWxfZW5naW5lX2NvbnRleHRfc2l6ZShndC0+aTkxNSwK
PiAgIAkJCQkJCQkgZW5naW5lLT5jbGFzcyk7Cj4gICAJaWYgKFdBUk5fT04oZW5naW5lLT5jb250
ZXh0X3NpemUgPiBCSVQoMjApKSkKPiAgIAkJZW5naW5lLT5jb250ZXh0X3NpemUgPSAwOwo+ICAg
CWlmIChlbmdpbmUtPmNvbnRleHRfc2l6ZSkKPiAtCQlEUklWRVJfQ0FQUyhkZXZfcHJpdiktPmhh
c19sb2dpY2FsX2NvbnRleHRzID0gdHJ1ZTsKPiArCQlEUklWRVJfQ0FQUyhndC0+aTkxNSktPmhh
c19sb2dpY2FsX2NvbnRleHRzID0gdHJ1ZTsKPiAgIAo+ICAgCS8qIE5vdGhpbmcgdG8gZG8gaGVy
ZSwgZXhlY3V0ZSBpbiBvcmRlciBvZiBkZXBlbmRlbmNpZXMgKi8KPiAgIAllbmdpbmUtPnNjaGVk
dWxlID0gTlVMTDsKPiBAQCAtMzQ5LDggKzM0OCwxMSBAQCBpbnRlbF9lbmdpbmVfc2V0dXAoc3Ry
dWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2LAo+ICAgCS8qIFNjcnViIG1taW8gc3RhdGUg
b24gdGFrZW92ZXIgKi8KPiAgIAlpbnRlbF9lbmdpbmVfc2FuaXRpemVfbW1pbyhlbmdpbmUpOwo+
ICAgCj4gLQlkZXZfcHJpdi0+ZW5naW5lX2NsYXNzW2luZm8tPmNsYXNzXVtpbmZvLT5pbnN0YW5j
ZV0gPSBlbmdpbmU7Cj4gLQlkZXZfcHJpdi0+ZW5naW5lW2lkXSA9IGVuZ2luZTsKPiArCWVuZ2lu
ZS0+Z3QtPmVuZ2luZV9jbGFzc1tpbmZvLT5jbGFzc11baW5mby0+aW5zdGFuY2VdID0gZW5naW5l
Owo+ICsKPiArCWludGVsX2VuZ2luZV9hZGRfdXNlcihlbmdpbmUpOwo+ICsJZ3QtPmk5MTUtPmVu
Z2luZVtpZF0gPSBlbmdpbmU7Cj4gKwo+ICAgCXJldHVybiAwOwo+ICAgfQo+ICAgCj4gQEAgLTQz
Myw3ICs0MzUsNyBAQCBpbnQgaW50ZWxfZW5naW5lc19pbml0X21taW8oc3RydWN0IGRybV9pOTE1
X3ByaXZhdGUgKmk5MTUpCj4gICAJCWlmICghSEFTX0VOR0lORShpOTE1LCBpKSkKPiAgIAkJCWNv
bnRpbnVlOwo+ICAgCj4gLQkJZXJyID0gaW50ZWxfZW5naW5lX3NldHVwKGk5MTUsIGkpOwo+ICsJ
CWVyciA9IGludGVsX2VuZ2luZV9zZXR1cCgmaTkxNS0+Z3QsIGkpOwo+ICAgCQlpZiAoZXJyKQo+
ICAgCQkJZ290byBjbGVhbnVwOwo+ICAgCj4gQEAgLTE1MDEsMjkgKzE1MDMsNiBAQCB2b2lkIGlu
dGVsX2VuZ2luZV9kdW1wKHN0cnVjdCBpbnRlbF9lbmdpbmVfY3MgKmVuZ2luZSwKPiAgIAlpbnRl
bF9lbmdpbmVfcHJpbnRfYnJlYWRjcnVtYnMoZW5naW5lLCBtKTsKPiAgIH0KPiAgIAo+IC1zdGF0
aWMgdTggdXNlcl9jbGFzc19tYXBbXSA9IHsKPiAtCVtJOTE1X0VOR0lORV9DTEFTU19SRU5ERVJd
ID0gUkVOREVSX0NMQVNTLAo+IC0JW0k5MTVfRU5HSU5FX0NMQVNTX0NPUFldID0gQ09QWV9FTkdJ
TkVfQ0xBU1MsCj4gLQlbSTkxNV9FTkdJTkVfQ0xBU1NfVklERU9dID0gVklERU9fREVDT0RFX0NM
QVNTLAo+IC0JW0k5MTVfRU5HSU5FX0NMQVNTX1ZJREVPX0VOSEFOQ0VdID0gVklERU9fRU5IQU5D
RU1FTlRfQ0xBU1MsCj4gLX07Cj4gLQo+IC1zdHJ1Y3QgaW50ZWxfZW5naW5lX2NzICoKPiAtaW50
ZWxfZW5naW5lX2xvb2t1cF91c2VyKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICppOTE1LCB1OCBj
bGFzcywgdTggaW5zdGFuY2UpCj4gLXsKPiAtCWlmIChjbGFzcyA+PSBBUlJBWV9TSVpFKHVzZXJf
Y2xhc3NfbWFwKSkKPiAtCQlyZXR1cm4gTlVMTDsKPiAtCj4gLQljbGFzcyA9IHVzZXJfY2xhc3Nf
bWFwW2NsYXNzXTsKPiAtCj4gLQlHRU1fQlVHX09OKGNsYXNzID4gTUFYX0VOR0lORV9DTEFTUyk7
Cj4gLQo+IC0JaWYgKGluc3RhbmNlID4gTUFYX0VOR0lORV9JTlNUQU5DRSkKPiAtCQlyZXR1cm4g
TlVMTDsKPiAtCj4gLQlyZXR1cm4gaTkxNS0+ZW5naW5lX2NsYXNzW2NsYXNzXVtpbnN0YW5jZV07
Cj4gLX0KPiAtCj4gICAvKioKPiAgICAqIGludGVsX2VuYWJsZV9lbmdpbmVfc3RhdHMoKSAtIEVu
YWJsZSBlbmdpbmUgYnVzeSB0cmFja2luZyBvbiBlbmdpbmUKPiAgICAqIEBlbmdpbmU6IGVuZ2lu
ZSB0byBlbmFibGUgc3RhdHMgY29sbGVjdGlvbgo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9k
cm0vaTkxNS9ndC9pbnRlbF9lbmdpbmVfdHlwZXMuaCBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0
L2ludGVsX2VuZ2luZV90eXBlcy5oCj4gaW5kZXggOGJlNjMwMTlkNzA3Li45YzkyN2ZhNDA4YWEg
MTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZW5naW5lX3R5cGVz
LmgKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9lbmdpbmVfdHlwZXMuaAo+
IEBAIC0xMiw2ICsxMiw3IEBACj4gICAjaW5jbHVkZSA8bGludXgva3JlZi5oPgo+ICAgI2luY2x1
ZGUgPGxpbnV4L2xpc3QuaD4KPiAgICNpbmNsdWRlIDxsaW51eC9sbGlzdC5oPgo+ICsjaW5jbHVk
ZSA8bGludXgvcmJ0cmVlLmg+Cj4gICAjaW5jbHVkZSA8bGludXgvdGltZXIuaD4KPiAgICNpbmNs
dWRlIDxsaW51eC90eXBlcy5oPgo+ICAgCj4gQEAgLTI2NywxNSArMjY4LDE5IEBAIHN0cnVjdCBp
bnRlbF9lbmdpbmVfY3Mgewo+ICAgCXVuc2lnbmVkIGludCBndWNfaWQ7Cj4gICAJaW50ZWxfZW5n
aW5lX21hc2tfdCBtYXNrOwo+ICAgCj4gLQl1OCB1YWJpX2NsYXNzOwo+IC0KPiAgIAl1OCBjbGFz
czsKPiAgIAl1OCBpbnN0YW5jZTsKPiArCj4gKwl1OCB1YWJpX2NsYXNzOwo+ICsJdTggdWFiaV9p
bnN0YW5jZTsKPiArCj4gICAJdTMyIGNvbnRleHRfc2l6ZTsKPiAgIAl1MzIgbW1pb19iYXNlOwo+
ICAgCj4gICAJdTMyIHVhYmlfY2FwYWJpbGl0aWVzOwo+ICAgCj4gKwlzdHJ1Y3QgcmJfbm9kZSB1
YWJpX25vZGU7Cj4gKwo+ICAgCXN0cnVjdCBpbnRlbF9zc2V1IHNzZXU7Cj4gICAKPiAgIAlzdHJ1
Y3QgaW50ZWxfcmluZyAqYnVmZmVyOwo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkx
NS9ndC9pbnRlbF9lbmdpbmVfdXNlci5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxf
ZW5naW5lX3VzZXIuYwo+IG5ldyBmaWxlIG1vZGUgMTAwNjQ0Cj4gaW5kZXggMDAwMDAwMDAwMDAw
Li5mNzRmYjRkMmZhMGQKPiAtLS0gL2Rldi9udWxsCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5
MTUvZ3QvaW50ZWxfZW5naW5lX3VzZXIuYwo+IEBAIC0wLDAgKzEsNjYgQEAKPiArLyoKPiArICog
U1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IE1JVAo+ICsgKgo+ICsgKiBDb3B5cmlnaHQgwqkgMjAx
OSBJbnRlbCBDb3Jwb3JhdGlvbgo+ICsgKi8KPiArCj4gKyNpbmNsdWRlICJpOTE1X2Rydi5oIgo+
ICsjaW5jbHVkZSAiaW50ZWxfZW5naW5lLmgiCj4gKyNpbmNsdWRlICJpbnRlbF9lbmdpbmVfdXNl
ci5oIgo+ICsKPiArc3RydWN0IGludGVsX2VuZ2luZV9jcyAqCj4gK2ludGVsX2VuZ2luZV9sb29r
dXBfdXNlcihzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSwgdTggY2xhc3MsIHU4IGluc3Rh
bmNlKQo+ICt7Cj4gKwlzdHJ1Y3QgcmJfbm9kZSAqcCA9IGk5MTUtPnVhYmlfZW5naW5lcy5yYl9u
b2RlOwo+ICsKPiArCXdoaWxlIChwKSB7Cj4gKwkJc3RydWN0IGludGVsX2VuZ2luZV9jcyAqaXQg
PQo+ICsJCQlyYl9lbnRyeShwLCB0eXBlb2YoKml0KSwgdWFiaV9ub2RlKTsKPiArCj4gKwkJaWYg
KGNsYXNzIDwgaXQtPnVhYmlfY2xhc3MpCj4gKwkJCXAgPSBwLT5yYl9sZWZ0Owo+ICsJCWVsc2Ug
aWYgKGNsYXNzID4gaXQtPnVhYmlfY2xhc3MgfHwKPiArCQkJIGluc3RhbmNlID4gaXQtPnVhYmlf
aW5zdGFuY2UpCj4gKwkJCXAgPSBwLT5yYl9yaWdodDsKPiArCQllbHNlIGlmIChpbnN0YW5jZSA8
IGl0LT51YWJpX2luc3RhbmNlKQo+ICsJCQlwID0gcC0+cmJfbGVmdDsKPiArCQllbHNlCj4gKwkJ
CXJldHVybiBpdDsKPiArCX0KPiArCj4gKwlyZXR1cm4gTlVMTDsKPiArfQo+ICsKPiArdm9pZCBp
bnRlbF9lbmdpbmVfYWRkX3VzZXIoc3RydWN0IGludGVsX2VuZ2luZV9jcyAqZW5naW5lKQo+ICt7
Cj4gKwlzdHJ1Y3QgcmJfcm9vdCAqcm9vdCA9ICZlbmdpbmUtPmk5MTUtPnVhYmlfZW5naW5lczsK
PiArCXN0cnVjdCByYl9ub2RlICoqcCwgKnBhcmVudDsKPiArCj4gKwlwYXJlbnQgPSBOVUxMOwo+
ICsJcCA9ICZyb290LT5yYl9ub2RlOwo+ICsJd2hpbGUgKCpwKSB7Cj4gKwkJc3RydWN0IGludGVs
X2VuZ2luZV9jcyAqaXQ7Cj4gKwo+ICsJCXBhcmVudCA9ICpwOwo+ICsJCWl0ID0gcmJfZW50cnko
cGFyZW50LCB0eXBlb2YoKml0KSwgdWFiaV9ub2RlKTsKPiArCj4gKwkJLyogQWxsIHVzZXIgY2xh
c3M6aW5zdGFuY2UgaWRlbnRpZmllcnMgbXVzdCBiZSB1bmlxdWUgKi8KPiArCQlHRU1fQlVHX09O
KGl0LT51YWJpX2NsYXNzID09IGVuZ2luZS0+dWFiaV9jbGFzcyAmJgo+ICsJCQkgICBpdC0+dWFi
aV9pbnN0YW5jZSA9PSBlbmdpbmUtPnVhYmlfaW5zdGFuY2UpOwo+ICsKPiArCQlpZiAoZW5naW5l
LT51YWJpX2NsYXNzIDwgaXQtPnVhYmlfY2xhc3MpCj4gKwkJCXAgPSAmcGFyZW50LT5yYl9sZWZ0
Owo+ICsJCWVsc2UgaWYgKGVuZ2luZS0+dWFiaV9jbGFzcyA+IGl0LT51YWJpX2NsYXNzIHx8Cj4g
KwkJCSBlbmdpbmUtPnVhYmlfaW5zdGFuY2UgPiBpdC0+dWFiaV9pbnN0YW5jZSkKPiArCQkJcCA9
ICZwYXJlbnQtPnJiX3JpZ2h0Owo+ICsJCWVsc2UKPiArCQkJcCA9ICZwYXJlbnQtPnJiX2xlZnQ7
Cj4gKwl9Cj4gKwo+ICsJcmJfbGlua19ub2RlKCZlbmdpbmUtPnVhYmlfbm9kZSwgcGFyZW50LCBw
KTsKPiArCXJiX2luc2VydF9jb2xvcigmZW5naW5lLT51YWJpX25vZGUsIHJvb3QpOwo+ICsKPiAr
CUdFTV9CVUdfT04oaW50ZWxfZW5naW5lX2xvb2t1cF91c2VyKGVuZ2luZS0+aTkxNSwKPiArCQkJ
CQkgICAgZW5naW5lLT51YWJpX2NsYXNzLAo+ICsJCQkJCSAgICBlbmdpbmUtPnVhYmlfaW5zdGFu
Y2UpICE9IGVuZ2luZSk7Cj4gK30KPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUv
Z3QvaW50ZWxfZW5naW5lX3VzZXIuaCBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2Vu
Z2luZV91c2VyLmgKPiBuZXcgZmlsZSBtb2RlIDEwMDY0NAo+IGluZGV4IDAwMDAwMDAwMDAwMC4u
MDkxZGM4YTRhMzlmCj4gLS0tIC9kZXYvbnVsbAo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1
L2d0L2ludGVsX2VuZ2luZV91c2VyLmgKPiBAQCAtMCwwICsxLDIwIEBACj4gKy8qCj4gKyAqIFNQ
RFgtTGljZW5zZS1JZGVudGlmaWVyOiBNSVQKPiArICoKPiArICogQ29weXJpZ2h0IMKpIDIwMTkg
SW50ZWwgQ29ycG9yYXRpb24KPiArICovCj4gKwo+ICsjaWZuZGVmIElOVEVMX0VOR0lORV9VU0VS
X0gKPiArI2RlZmluZSBJTlRFTF9FTkdJTkVfVVNFUl9ICj4gKwo+ICsjaW5jbHVkZSA8bGludXgv
dHlwZXMuaD4KPiArCj4gK3N0cnVjdCBkcm1faTkxNV9wcml2YXRlOwo+ICtzdHJ1Y3QgaW50ZWxf
ZW5naW5lX2NzOwo+ICsKPiArc3RydWN0IGludGVsX2VuZ2luZV9jcyAqCj4gK2ludGVsX2VuZ2lu
ZV9sb29rdXBfdXNlcihzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSwgdTggY2xhc3MsIHU4
IGluc3RhbmNlKTsKPiArCj4gK3ZvaWQgaW50ZWxfZW5naW5lX2FkZF91c2VyKHN0cnVjdCBpbnRl
bF9lbmdpbmVfY3MgKmVuZ2luZSk7Cj4gKwo+ICsjZW5kaWYgLyogSU5URUxfRU5HSU5FX1VTRVJf
SCAqLwo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9ndF90eXBl
cy5oIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZ3RfdHlwZXMuaAo+IGluZGV4IDM0
ZDRhODY4ZTRmMS4uNWZkMTFlMzYxZDAzIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9p
OTE1L2d0L2ludGVsX2d0X3R5cGVzLmgKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9p
bnRlbF9ndF90eXBlcy5oCj4gQEAgLTIxLDYgKzIxLDcgQEAKPiAgIAo+ICAgc3RydWN0IGRybV9p
OTE1X3ByaXZhdGU7Cj4gICBzdHJ1Y3QgaTkxNV9nZ3R0Owo+ICtzdHJ1Y3QgaW50ZWxfZW5naW5l
X2NzOwo+ICAgc3RydWN0IGludGVsX3VuY29yZTsKPiAgIAo+ICAgc3RydWN0IGludGVsX2hhbmdj
aGVjayB7Cj4gQEAgLTc2LDYgKzc3LDkgQEAgc3RydWN0IGludGVsX2d0IHsKPiAgIAl1MzIgcG1f
aWVyOwo+ICAgCj4gICAJdTMyIHBtX2d1Y19ldmVudHM7Cj4gKwo+ICsJc3RydWN0IGludGVsX2Vu
Z2luZV9jcyAqZW5naW5lX2NsYXNzW01BWF9FTkdJTkVfQ0xBU1MgKyAxXQo+ICsJCQkJCSAgICBb
TUFYX0VOR0lORV9JTlNUQU5DRSArIDFdOwo+ICAgfTsKPiAgIAo+ICAgZW51bSBpbnRlbF9ndF9z
Y3JhdGNoX2ZpZWxkIHsKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3Qvc2Vs
ZnRlc3RfbHJjLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9zZWxmdGVzdF9scmMuYwo+IGlu
ZGV4IDYwZjI3ZTUyZDI2Ny4uZWI0MGE1ODY2NWJlIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1
L2RybS9pOTE1L2d0L3NlbGZ0ZXN0X2xyYy5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUv
Z3Qvc2VsZnRlc3RfbHJjLmMKPiBAQCAtMTc3Myw2ICsxNzczLDcgQEAgc3RhdGljIGludCBsaXZl
X3ZpcnR1YWxfZW5naW5lKHZvaWQgKmFyZykKPiAgIAlzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAq
aTkxNSA9IGFyZzsKPiAgIAlzdHJ1Y3QgaW50ZWxfZW5naW5lX2NzICpzaWJsaW5nc1tNQVhfRU5H
SU5FX0lOU1RBTkNFICsgMV07Cj4gICAJc3RydWN0IGludGVsX2VuZ2luZV9jcyAqZW5naW5lOwo+
ICsJc3RydWN0IGludGVsX2d0ICpndCA9ICZpOTE1LT5ndDsKPiAgIAllbnVtIGludGVsX2VuZ2lu
ZV9pZCBpZDsKPiAgIAl1bnNpZ25lZCBpbnQgY2xhc3MsIGluc3Q7Cj4gICAJaW50IGVyciA9IC1F
Tk9ERVY7Cj4gQEAgLTE3OTYsMTAgKzE3OTcsMTAgQEAgc3RhdGljIGludCBsaXZlX3ZpcnR1YWxf
ZW5naW5lKHZvaWQgKmFyZykKPiAgIAo+ICAgCQluc2libGluZyA9IDA7Cj4gICAJCWZvciAoaW5z
dCA9IDA7IGluc3QgPD0gTUFYX0VOR0lORV9JTlNUQU5DRTsgaW5zdCsrKSB7Cj4gLQkJCWlmICgh
aTkxNS0+ZW5naW5lX2NsYXNzW2NsYXNzXVtpbnN0XSkKPiArCQkJaWYgKCFndC0+ZW5naW5lX2Ns
YXNzW2NsYXNzXVtpbnN0XSkKPiAgIAkJCQljb250aW51ZTsKPiAgIAo+IC0JCQlzaWJsaW5nc1tu
c2libGluZysrXSA9IGk5MTUtPmVuZ2luZV9jbGFzc1tjbGFzc11baW5zdF07Cj4gKwkJCXNpYmxp
bmdzW25zaWJsaW5nKytdID0gZ3QtPmVuZ2luZV9jbGFzc1tjbGFzc11baW5zdF07Cj4gICAJCX0K
PiAgIAkJaWYgKG5zaWJsaW5nIDwgMikKPiAgIAkJCWNvbnRpbnVlOwo+IEBAIC0xOTIwLDYgKzE5
MjEsNyBAQCBzdGF0aWMgaW50IGxpdmVfdmlydHVhbF9tYXNrKHZvaWQgKmFyZykKPiAgIHsKPiAg
IAlzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSA9IGFyZzsKPiAgIAlzdHJ1Y3QgaW50ZWxf
ZW5naW5lX2NzICpzaWJsaW5nc1tNQVhfRU5HSU5FX0lOU1RBTkNFICsgMV07Cj4gKwlzdHJ1Y3Qg
aW50ZWxfZ3QgKmd0ID0gJmk5MTUtPmd0Owo+ICAgCXVuc2lnbmVkIGludCBjbGFzcywgaW5zdDsK
PiAgIAlpbnQgZXJyID0gMDsKPiAgIAo+IEBAIC0xOTMzLDEwICsxOTM1LDEwIEBAIHN0YXRpYyBp
bnQgbGl2ZV92aXJ0dWFsX21hc2sodm9pZCAqYXJnKQo+ICAgCj4gICAJCW5zaWJsaW5nID0gMDsK
PiAgIAkJZm9yIChpbnN0ID0gMDsgaW5zdCA8PSBNQVhfRU5HSU5FX0lOU1RBTkNFOyBpbnN0Kysp
IHsKPiAtCQkJaWYgKCFpOTE1LT5lbmdpbmVfY2xhc3NbY2xhc3NdW2luc3RdKQo+ICsJCQlpZiAo
IWd0LT5lbmdpbmVfY2xhc3NbY2xhc3NdW2luc3RdKQo+ICAgCQkJCWJyZWFrOwo+ICAgCj4gLQkJ
CXNpYmxpbmdzW25zaWJsaW5nKytdID0gaTkxNS0+ZW5naW5lX2NsYXNzW2NsYXNzXVtpbnN0XTsK
PiArCQkJc2libGluZ3NbbnNpYmxpbmcrK10gPSBndC0+ZW5naW5lX2NsYXNzW2NsYXNzXVtpbnN0
XTsKPiAgIAkJfQo+ICAgCQlpZiAobnNpYmxpbmcgPCAyKQo+ICAgCQkJY29udGludWU7Cj4gQEAg
LTIwOTcsNiArMjA5OSw3IEBAIHN0YXRpYyBpbnQgbGl2ZV92aXJ0dWFsX2JvbmQodm9pZCAqYXJn
KQo+ICAgCX07Cj4gICAJc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUgPSBhcmc7Cj4gICAJ
c3RydWN0IGludGVsX2VuZ2luZV9jcyAqc2libGluZ3NbTUFYX0VOR0lORV9JTlNUQU5DRSArIDFd
Owo+ICsJc3RydWN0IGludGVsX2d0ICpndCA9ICZpOTE1LT5ndDsKPiAgIAl1bnNpZ25lZCBpbnQg
Y2xhc3MsIGluc3Q7Cj4gICAJaW50IGVyciA9IDA7Cj4gICAKPiBAQCAtMjExMSwxMSArMjExNCwx
MSBAQCBzdGF0aWMgaW50IGxpdmVfdmlydHVhbF9ib25kKHZvaWQgKmFyZykKPiAgIAo+ICAgCQlu
c2libGluZyA9IDA7Cj4gICAJCWZvciAoaW5zdCA9IDA7IGluc3QgPD0gTUFYX0VOR0lORV9JTlNU
QU5DRTsgaW5zdCsrKSB7Cj4gLQkJCWlmICghaTkxNS0+ZW5naW5lX2NsYXNzW2NsYXNzXVtpbnN0
XSkKPiArCQkJaWYgKCFndC0+ZW5naW5lX2NsYXNzW2NsYXNzXVtpbnN0XSkKPiAgIAkJCQlicmVh
azsKPiAgIAo+ICAgCQkJR0VNX0JVR19PTihuc2libGluZyA9PSBBUlJBWV9TSVpFKHNpYmxpbmdz
KSk7Cj4gLQkJCXNpYmxpbmdzW25zaWJsaW5nKytdID0gaTkxNS0+ZW5naW5lX2NsYXNzW2NsYXNz
XVtpbnN0XTsKPiArCQkJc2libGluZ3NbbnNpYmxpbmcrK10gPSBndC0+ZW5naW5lX2NsYXNzW2Ns
YXNzXVtpbnN0XTsKPiAgIAkJfQo+ICAgCQlpZiAobnNpYmxpbmcgPCAyKQo+ICAgCQkJY29udGlu
dWU7Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZHJ2LmggYi9kcml2
ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2Rydi5oCj4gaW5kZXggMjY5YTFiMzJiNDhiLi4xMmE3ZmRh
YmMyZjAgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kcnYuaAo+ICsr
KyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZHJ2LmgKPiBAQCAtMTM3MSwxMSArMTM3MSwx
MiBAQCBzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSB7Cj4gICAJd2FpdF9xdWV1ZV9oZWFkX3QgZ21i
dXNfd2FpdF9xdWV1ZTsKPiAgIAo+ICAgCXN0cnVjdCBwY2lfZGV2ICpicmlkZ2VfZGV2Owo+IC0J
c3RydWN0IGludGVsX2VuZ2luZV9jcyAqZW5naW5lW0k5MTVfTlVNX0VOR0lORVNdOwo+ICsKPiAg
IAkvKiBDb250ZXh0IHVzZWQgaW50ZXJuYWxseSB0byBpZGxlIHRoZSBHUFUgYW5kIHNldHVwIGlu
aXRpYWwgc3RhdGUgKi8KPiAgIAlzdHJ1Y3QgaTkxNV9nZW1fY29udGV4dCAqa2VybmVsX2NvbnRl
eHQ7Cj4gLQlzdHJ1Y3QgaW50ZWxfZW5naW5lX2NzICplbmdpbmVfY2xhc3NbTUFYX0VOR0lORV9D
TEFTUyArIDFdCj4gLQkJCQkJICAgIFtNQVhfRU5HSU5FX0lOU1RBTkNFICsgMV07Cj4gKwo+ICsJ
c3RydWN0IGludGVsX2VuZ2luZV9jcyAqZW5naW5lW0k5MTVfTlVNX0VOR0lORVNdOwo+ICsJc3Ry
dWN0IHJiX3Jvb3QgdWFiaV9lbmdpbmVzOwo+ICAgCj4gICAJc3RydWN0IHJlc291cmNlIG1jaF9y
ZXM7Cj4gICAKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9pcnEuYyBi
L2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfaXJxLmMKPiBpbmRleCAxMWM3M2FmOTI1OTcuLjRk
OThlODU5NzYzNyAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2lycS5j
Cj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9pcnEuYwo+IEBAIC0zMTA5LDcgKzMx
MDksNyBAQCBnZW4xMV9lbmdpbmVfaXJxX2hhbmRsZXIoc3RydWN0IGludGVsX2d0ICpndCwgY29u
c3QgdTggY2xhc3MsCj4gICAJc3RydWN0IGludGVsX2VuZ2luZV9jcyAqZW5naW5lOwo+ICAgCj4g
ICAJaWYgKGluc3RhbmNlIDw9IE1BWF9FTkdJTkVfSU5TVEFOQ0UpCj4gLQkJZW5naW5lID0gZ3Qt
Pmk5MTUtPmVuZ2luZV9jbGFzc1tjbGFzc11baW5zdGFuY2VdOwo+ICsJCWVuZ2luZSA9IGd0LT5l
bmdpbmVfY2xhc3NbY2xhc3NdW2luc3RhbmNlXTsKPiAgIAllbHNlCj4gICAJCWVuZ2luZSA9IE5V
TEw7Cj4gICAKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9wbXUuYyBi
L2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfcG11LmMKPiBpbmRleCBlZmY4NjQ4M2JlYzAuLmJk
Zjc5NjNhMDQzYiAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3BtdS5j
Cj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9wbXUuYwo+IEBAIC04LDYgKzgsNyBA
QAo+ICAgI2luY2x1ZGUgPGxpbnV4L3BtX3J1bnRpbWUuaD4KPiAgIAo+ICAgI2luY2x1ZGUgImd0
L2ludGVsX2VuZ2luZS5oIgo+ICsjaW5jbHVkZSAiZ3QvaW50ZWxfZW5naW5lX3VzZXIuaCIKPiAg
IAo+ICAgI2luY2x1ZGUgImk5MTVfZHJ2LmgiCj4gICAjaW5jbHVkZSAiaTkxNV9wbXUuaCIKPiBA
QCAtOTI2LDcgKzkyNyw3IEBAIGNyZWF0ZV9ldmVudF9hdHRyaWJ1dGVzKHN0cnVjdCBkcm1faTkx
NV9wcml2YXRlICppOTE1KQo+ICAgCQkJaTkxNV9pdGVyID0KPiAgIAkJCQlhZGRfaTkxNV9hdHRy
KGk5MTVfaXRlciwgc3RyLAo+ICAgCQkJCQkgICAgICBfX0k5MTVfUE1VX0VOR0lORShlbmdpbmUt
PnVhYmlfY2xhc3MsCj4gLQkJCQkJCQkJZW5naW5lLT5pbnN0YW5jZSwKPiArCQkJCQkJCQllbmdp
bmUtPnVhYmlfaW5zdGFuY2UsCj4gICAJCQkJCQkJCWVuZ2luZV9ldmVudHNbaV0uc2FtcGxlKSk7
Cj4gICAKPiAgIAkJCXN0ciA9IGthc3ByaW50ZihHRlBfS0VSTkVMLCAiJXMtJXMudW5pdCIsCj4g
ZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfcXVlcnkuYyBiL2RyaXZlcnMv
Z3B1L2RybS9pOTE1L2k5MTVfcXVlcnkuYwo+IGluZGV4IDdiNzAxNjE3MTA1Ny4uNzBiMWFkMzhl
NjE1IDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfcXVlcnkuYwo+ICsr
KyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfcXVlcnkuYwo+IEBAIC0xMjcsNyArMTI3LDcg
QEAgcXVlcnlfZW5naW5lX2luZm8oc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUsCj4gICAK
PiAgIAlmb3JfZWFjaF9lbmdpbmUoZW5naW5lLCBpOTE1LCBpZCkgewo+ICAgCQlpbmZvLmVuZ2lu
ZS5lbmdpbmVfY2xhc3MgPSBlbmdpbmUtPnVhYmlfY2xhc3M7Cj4gLQkJaW5mby5lbmdpbmUuZW5n
aW5lX2luc3RhbmNlID0gZW5naW5lLT5pbnN0YW5jZTsKPiArCQlpbmZvLmVuZ2luZS5lbmdpbmVf
aW5zdGFuY2UgPSBlbmdpbmUtPnVhYmlfaW5zdGFuY2U7Cj4gICAJCWluZm8uY2FwYWJpbGl0aWVz
ID0gZW5naW5lLT51YWJpX2NhcGFiaWxpdGllczsKPiAgIAo+ICAgCQlpZiAoX19jb3B5X3RvX3Vz
ZXIoaW5mb19wdHIsICZpbmZvLCBzaXplb2YoaW5mbykpKQo+IGRpZmYgLS1naXQgYS9kcml2ZXJz
L2dwdS9kcm0vaTkxNS9pOTE1X3RyYWNlLmggYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3Ry
YWNlLmgKPiBpbmRleCBkYTE4YjhkNmI4MGMuLjFkMTEyNDVjNGM4NyAxMDA2NDQKPiAtLS0gYS9k
cml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3RyYWNlLmgKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0v
aTkxNS9pOTE1X3RyYWNlLmgKPiBAQCAtNjc3LDcgKzY3Nyw3IEBAIFRSQUNFX0VWRU5UKGk5MTVf
cmVxdWVzdF9xdWV1ZSwKPiAgIAkJCSAgIF9fZW50cnktPmRldiA9IHJxLT5pOTE1LT5kcm0ucHJp
bWFyeS0+aW5kZXg7Cj4gICAJCQkgICBfX2VudHJ5LT5od19pZCA9IHJxLT5nZW1fY29udGV4dC0+
aHdfaWQ7Cj4gICAJCQkgICBfX2VudHJ5LT5jbGFzcyA9IHJxLT5lbmdpbmUtPnVhYmlfY2xhc3M7
Cj4gLQkJCSAgIF9fZW50cnktPmluc3RhbmNlID0gcnEtPmVuZ2luZS0+aW5zdGFuY2U7Cj4gKwkJ
CSAgIF9fZW50cnktPmluc3RhbmNlID0gcnEtPmVuZ2luZS0+dWFiaV9pbnN0YW5jZTsKPiAgIAkJ
CSAgIF9fZW50cnktPmN0eCA9IHJxLT5mZW5jZS5jb250ZXh0Owo+ICAgCQkJICAgX19lbnRyeS0+
c2Vxbm8gPSBycS0+ZmVuY2Uuc2Vxbm87Cj4gICAJCQkgICBfX2VudHJ5LT5mbGFncyA9IGZsYWdz
Owo+IEBAIC03MDYsNyArNzA2LDcgQEAgREVDTEFSRV9FVkVOVF9DTEFTUyhpOTE1X3JlcXVlc3Qs
Cj4gICAJCQkgICBfX2VudHJ5LT5kZXYgPSBycS0+aTkxNS0+ZHJtLnByaW1hcnktPmluZGV4Owo+
ICAgCQkJICAgX19lbnRyeS0+aHdfaWQgPSBycS0+Z2VtX2NvbnRleHQtPmh3X2lkOwo+ICAgCQkJ
ICAgX19lbnRyeS0+Y2xhc3MgPSBycS0+ZW5naW5lLT51YWJpX2NsYXNzOwo+IC0JCQkgICBfX2Vu
dHJ5LT5pbnN0YW5jZSA9IHJxLT5lbmdpbmUtPmluc3RhbmNlOwo+ICsJCQkgICBfX2VudHJ5LT5p
bnN0YW5jZSA9IHJxLT5lbmdpbmUtPnVhYmlfaW5zdGFuY2U7Cj4gICAJCQkgICBfX2VudHJ5LT5j
dHggPSBycS0+ZmVuY2UuY29udGV4dDsKPiAgIAkJCSAgIF9fZW50cnktPnNlcW5vID0gcnEtPmZl
bmNlLnNlcW5vOwo+ICAgCQkJICAgKSwKPiBAQCAtNzUxLDcgKzc1MSw3IEBAIFRSQUNFX0VWRU5U
KGk5MTVfcmVxdWVzdF9pbiwKPiAgIAkJCSAgIF9fZW50cnktPmRldiA9IHJxLT5pOTE1LT5kcm0u
cHJpbWFyeS0+aW5kZXg7Cj4gICAJCQkgICBfX2VudHJ5LT5od19pZCA9IHJxLT5nZW1fY29udGV4
dC0+aHdfaWQ7Cj4gICAJCQkgICBfX2VudHJ5LT5jbGFzcyA9IHJxLT5lbmdpbmUtPnVhYmlfY2xh
c3M7Cj4gLQkJCSAgIF9fZW50cnktPmluc3RhbmNlID0gcnEtPmVuZ2luZS0+aW5zdGFuY2U7Cj4g
KwkJCSAgIF9fZW50cnktPmluc3RhbmNlID0gcnEtPmVuZ2luZS0+dWFiaV9pbnN0YW5jZTsKPiAg
IAkJCSAgIF9fZW50cnktPmN0eCA9IHJxLT5mZW5jZS5jb250ZXh0Owo+ICAgCQkJICAgX19lbnRy
eS0+c2Vxbm8gPSBycS0+ZmVuY2Uuc2Vxbm87Cj4gICAJCQkgICBfX2VudHJ5LT5wcmlvID0gcnEt
PnNjaGVkLmF0dHIucHJpb3JpdHk7Cj4gQEAgLTc4Miw3ICs3ODIsNyBAQCBUUkFDRV9FVkVOVChp
OTE1X3JlcXVlc3Rfb3V0LAo+ICAgCQkJICAgX19lbnRyeS0+ZGV2ID0gcnEtPmk5MTUtPmRybS5w
cmltYXJ5LT5pbmRleDsKPiAgIAkJCSAgIF9fZW50cnktPmh3X2lkID0gcnEtPmdlbV9jb250ZXh0
LT5od19pZDsKPiAgIAkJCSAgIF9fZW50cnktPmNsYXNzID0gcnEtPmVuZ2luZS0+dWFiaV9jbGFz
czsKPiAtCQkJICAgX19lbnRyeS0+aW5zdGFuY2UgPSBycS0+ZW5naW5lLT5pbnN0YW5jZTsKPiAr
CQkJICAgX19lbnRyeS0+aW5zdGFuY2UgPSBycS0+ZW5naW5lLT51YWJpX2luc3RhbmNlOwo+ICAg
CQkJICAgX19lbnRyeS0+Y3R4ID0gcnEtPmZlbmNlLmNvbnRleHQ7Cj4gICAJCQkgICBfX2VudHJ5
LT5zZXFubyA9IHJxLT5mZW5jZS5zZXFubzsKPiAgIAkJCSAgIF9fZW50cnktPmNvbXBsZXRlZCA9
IGk5MTVfcmVxdWVzdF9jb21wbGV0ZWQocnEpOwo+IEBAIC04NDcsNyArODQ3LDcgQEAgVFJBQ0Vf
RVZFTlQoaTkxNV9yZXF1ZXN0X3dhaXRfYmVnaW4sCj4gICAJCQkgICBfX2VudHJ5LT5kZXYgPSBy
cS0+aTkxNS0+ZHJtLnByaW1hcnktPmluZGV4Owo+ICAgCQkJICAgX19lbnRyeS0+aHdfaWQgPSBy
cS0+Z2VtX2NvbnRleHQtPmh3X2lkOwo+ICAgCQkJICAgX19lbnRyeS0+Y2xhc3MgPSBycS0+ZW5n
aW5lLT51YWJpX2NsYXNzOwo+IC0JCQkgICBfX2VudHJ5LT5pbnN0YW5jZSA9IHJxLT5lbmdpbmUt
Pmluc3RhbmNlOwo+ICsJCQkgICBfX2VudHJ5LT5pbnN0YW5jZSA9IHJxLT5lbmdpbmUtPnVhYmlf
aW5zdGFuY2U7Cj4gICAJCQkgICBfX2VudHJ5LT5jdHggPSBycS0+ZmVuY2UuY29udGV4dDsKPiAg
IAkJCSAgIF9fZW50cnktPnNlcW5vID0gcnEtPmZlbmNlLnNlcW5vOwo+ICAgCQkJICAgX19lbnRy
eS0+ZmxhZ3MgPSBmbGFnczsKPiAKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX18KSW50ZWwtZ2Z4IG1haWxpbmcgbGlzdApJbnRlbC1nZnhAbGlzdHMuZnJlZWRl
c2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8v
aW50ZWwtZ2Z4

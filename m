Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 544E218557
	for <lists+intel-gfx@lfdr.de>; Thu,  9 May 2019 08:20:30 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 9A50C89B3C;
	Thu,  9 May 2019 06:20:28 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga01.intel.com (mga01.intel.com [192.55.52.88])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 2F27E89B29
 for <intel-gfx@lists.freedesktop.org>; Thu,  9 May 2019 06:20:26 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga003.jf.intel.com ([10.7.209.27])
 by fmsmga101.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 08 May 2019 23:20:25 -0700
X-ExtLoop1: 1
Received: from ideak-desk.fi.intel.com ([10.237.72.204])
 by orsmga003.jf.intel.com with ESMTP; 08 May 2019 23:20:23 -0700
From: Imre Deak <imre.deak@intel.com>
To: intel-gfx@lists.freedesktop.org
Date: Thu,  9 May 2019 09:19:51 +0300
Message-Id: <20190509061954.10379-9-imre.deak@intel.com>
X-Mailer: git-send-email 2.17.1
In-Reply-To: <20190509061954.10379-1-imre.deak@intel.com>
References: <20190509061954.10379-1-imre.deak@intel.com>
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH v2 08/11] drm/i915: Remove the unneeded AUX
 power ref from intel_dp_hpd_pulse()
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

VGhlIHBvd2VyIGdldC9wdXQgd2FzIGFkZGVkIGluCgpjb21taXQgMWM3NjdiMzM5YjM5MzhiMTkw
NzZmZmRjOWQ3MGFhMWU0MjM1YTQ1YgpBdXRob3I6IEltcmUgRGVhayA8aW1yZS5kZWFrQGludGVs
LmNvbT4KRGF0ZTogICBNb24gQXVnIDE4IDE0OjQyOjQyIDIwMTQgKzAzMDAKCiAgICBkcm0vaTkx
NTogdGFrZSBkaXNwbGF5IHBvcnQgcG93ZXIgZG9tYWluIGluIERQIEhQRCBoYW5kbGUKCnRvIGFj
Y291bnQgZm9yIHRoZSBIVyBhY2Nlc3MgaW4gaWJ4X2RpZ2l0YWxfcG9ydF9jb25uZWN0ZWQoKS4g
VGhpcwpsYXR0ZXIgY2FsbCB3YXMgaW4gdHVybiByZW1vdmVkIGluCgpjb21taXQgN2QyM2UzYzM3
YmIzZmM2OTUyZGM4NDAwN2VlNjBjYjUzM2ZkMmQ1YwpBdXRob3I6IFNodWJoYW5naSBTaHJpdmFz
dGF2YSA8c2h1YmhhbmdpLnNocml2YXN0YXZhQGludGVsLmNvbT4KRGF0ZTogICBXZWQgTWFyIDMw
IDE4OjA1OjIzIDIwMTYgKzA1MzAKCiAgICBkcm0vaTkxNTogQ2xlYW5pbmcgdXAgaW50ZWxfZHBf
aHBkX3B1bHNlCgphZnRlciB3aGljaCB3ZSBkaWRuJ3QgYWN0dWFsbHkgbmVlZCB0aGUgcG93ZXIg
cmVmZXJlbmNlLgoKT25lIHdheSB3ZSBhcmUgYWNjZXNzaW5nIHRoZSBIVyBkdXJpbmcgSFBEIHB1
bHNlIGhhbmRsaW5nIGlzIHZpYSBEUCBBVVgKdHJhbnNmZXJzLCBidXQgdGhlIHRyYW5zZmVyIGZ1
bmN0aW9uIHRha2VzIGl0cyBvd24gcmVmZXJlbmNlLCBzbyBkb2Vzbid0Cm5lZWQgdGhlIHJlZmVy
ZW5jZSBpbiBpbnRlbF9kcF9ocGRfcHVsc2UoKS4KClRoZSBvdGhlciBzcG90IGlzIGluIHRoZSBQ
U1IgY29kZSBkb2luZyByZWdpc3RlciBhY2Nlc3MsIGZvciB0aGF0IHdlIGNhbgp1c2UgdGhlIERJ
U1BMQVlfQ09SRSBwb3dlciBkb21haW4gaW4gYSBzaW1pbGFyIHdheSBkb25lIGluIHRoZSBwcmV2
aW91cwpwYXRjaC4KCkNjOiBWaWxsZSBTeXJqYWxhIDx2aWxsZS5zeXJqYWxhQGxpbnV4LmludGVs
LmNvbT4KQ2M6IFJvZHJpZ28gVml2aSA8cm9kcmlnby52aXZpQGludGVsLmNvbT4KQ2M6IEpvc8Op
IFJvYmVydG8gZGUgU291emEgPGpvc2Uuc291emFAaW50ZWwuY29tPgpTaWduZWQtb2ZmLWJ5OiBJ
bXJlIERlYWsgPGltcmUuZGVha0BpbnRlbC5jb20+Ci0tLQogZHJpdmVycy9ncHUvZHJtL2k5MTUv
aW50ZWxfZHAuYyAgfCAyMCArKysrLS0tLS0tLS0tLS0tLS0tLQogZHJpdmVycy9ncHUvZHJtL2k5
MTUvaW50ZWxfcHNyLmMgfCAgNiArKysrKysKIDIgZmlsZXMgY2hhbmdlZCwgMTAgaW5zZXJ0aW9u
cygrKSwgMTYgZGVsZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUv
aW50ZWxfZHAuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX2RwLmMKaW5kZXggMjRjY2Ex
MmE5YTNlLi5kZTg4MWJmZWEwMTEgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2lu
dGVsX2RwLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfZHAuYwpAQCAtNjMwOCw5
ICs2MzA4LDYgQEAgZW51bSBpcnFyZXR1cm4KIGludGVsX2RwX2hwZF9wdWxzZShzdHJ1Y3QgaW50
ZWxfZGlnaXRhbF9wb3J0ICppbnRlbF9kaWdfcG9ydCwgYm9vbCBsb25nX2hwZCkKIHsKIAlzdHJ1
Y3QgaW50ZWxfZHAgKmludGVsX2RwID0gJmludGVsX2RpZ19wb3J0LT5kcDsKLQlzdHJ1Y3QgZHJt
X2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYgPSBkcF90b19pOTE1KGludGVsX2RwKTsKLQllbnVtIGly
cXJldHVybiByZXQgPSBJUlFfTk9ORTsKLQlpbnRlbF93YWtlcmVmX3Qgd2FrZXJlZjsKIAogCWlm
IChsb25nX2hwZCAmJiBpbnRlbF9kaWdfcG9ydC0+YmFzZS50eXBlID09IElOVEVMX09VVFBVVF9F
RFApIHsKIAkJLyoKQEAgLTYzMzMsOSArNjMzMCw2IEBAIGludGVsX2RwX2hwZF9wdWxzZShzdHJ1
Y3QgaW50ZWxfZGlnaXRhbF9wb3J0ICppbnRlbF9kaWdfcG9ydCwgYm9vbCBsb25nX2hwZCkKIAkJ
cmV0dXJuIElSUV9OT05FOwogCX0KIAotCXdha2VyZWYgPSBpbnRlbF9kaXNwbGF5X3Bvd2VyX2dl
dChkZXZfcHJpdiwKLQkJCQkJICBpbnRlbF9hdXhfcG93ZXJfZG9tYWluKGludGVsX2RpZ19wb3J0
KSk7Ci0KIAlpZiAoaW50ZWxfZHAtPmlzX21zdCkgewogCQlpZiAoaW50ZWxfZHBfY2hlY2tfbXN0
X3N0YXR1cyhpbnRlbF9kcCkgPT0gLUVJTlZBTCkgewogCQkJLyoKQEAgLTYzNDcsNyArNjM0MSw4
IEBAIGludGVsX2RwX2hwZF9wdWxzZShzdHJ1Y3QgaW50ZWxfZGlnaXRhbF9wb3J0ICppbnRlbF9k
aWdfcG9ydCwgYm9vbCBsb25nX2hwZCkKIAkJCWludGVsX2RwLT5pc19tc3QgPSBmYWxzZTsKIAkJ
CWRybV9kcF9tc3RfdG9wb2xvZ3lfbWdyX3NldF9tc3QoJmludGVsX2RwLT5tc3RfbWdyLAogCQkJ
CQkJCWludGVsX2RwLT5pc19tc3QpOwotCQkJZ290byBwdXRfcG93ZXI7CisKKwkJCXJldHVybiBJ
UlFfTk9ORTsKIAkJfQogCX0KIApAQCAtNjM1NywxNyArNjM1MiwxMCBAQCBpbnRlbF9kcF9ocGRf
cHVsc2Uoc3RydWN0IGludGVsX2RpZ2l0YWxfcG9ydCAqaW50ZWxfZGlnX3BvcnQsIGJvb2wgbG9u
Z19ocGQpCiAJCWhhbmRsZWQgPSBpbnRlbF9kcF9zaG9ydF9wdWxzZShpbnRlbF9kcCk7CiAKIAkJ
aWYgKCFoYW5kbGVkKQotCQkJZ290byBwdXRfcG93ZXI7CisJCQlyZXR1cm4gSVJRX05PTkU7CiAJ
fQogCi0JcmV0ID0gSVJRX0hBTkRMRUQ7Ci0KLXB1dF9wb3dlcjoKLQlpbnRlbF9kaXNwbGF5X3Bv
d2VyX3B1dChkZXZfcHJpdiwKLQkJCQlpbnRlbF9hdXhfcG93ZXJfZG9tYWluKGludGVsX2RpZ19w
b3J0KSwKLQkJCQl3YWtlcmVmKTsKLQotCXJldHVybiByZXQ7CisJcmV0dXJuIElSUV9IQU5ETEVE
OwogfQogCiAvKiBjaGVjayB0aGUgVkJUIHRvIHNlZSB3aGV0aGVyIHRoZSBlRFAgaXMgb24gYW5v
dGhlciBwb3J0ICovCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9wc3Iu
YyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX3Bzci5jCmluZGV4IDk2MzY2M2JhMGVkZi4u
ODU2YTM5YzdlZTc3IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9wc3Iu
YworKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9wc3IuYwpAQCAtMTI1MSwxMCArMTI1
MSwxMyBAQCB2b2lkIGludGVsX3Bzcl9zaG9ydF9wdWxzZShzdHJ1Y3QgaW50ZWxfZHAgKmludGVs
X2RwKQogCWNvbnN0IHU4IGVycm9ycyA9IERQX1BTUl9SRkJfU1RPUkFHRV9FUlJPUiB8CiAJCQkg
IERQX1BTUl9WU0NfU0RQX1VOQ09SUkVDVEFCTEVfRVJST1IgfAogCQkJICBEUF9QU1JfTElOS19D
UkNfRVJST1I7CisJaW50ZWxfd2FrZXJlZl90IHdha2VyZWY7CiAKIAlpZiAoIUNBTl9QU1IoZGV2
X3ByaXYpIHx8ICFpbnRlbF9kcF9pc19lZHAoaW50ZWxfZHApKQogCQlyZXR1cm47CiAKKwl3YWtl
cmVmID0gaW50ZWxfZGlzcGxheV9wb3dlcl9nZXQoZGV2X3ByaXYsIFBPV0VSX0RPTUFJTl9ESVNQ
TEFZX0NPUkUpOworCiAJbXV0ZXhfbG9jaygmcHNyLT5sb2NrKTsKIAogCWlmICghcHNyLT5lbmFi
bGVkIHx8IHBzci0+ZHAgIT0gaW50ZWxfZHApCkBAIC0xMjk0LDYgKzEyOTcsOSBAQCB2b2lkIGlu
dGVsX3Bzcl9zaG9ydF9wdWxzZShzdHJ1Y3QgaW50ZWxfZHAgKmludGVsX2RwKQogCWRybV9kcF9k
cGNkX3dyaXRlYigmaW50ZWxfZHAtPmF1eCwgRFBfUFNSX0VSUk9SX1NUQVRVUywgdmFsKTsKIGV4
aXQ6CiAJbXV0ZXhfdW5sb2NrKCZwc3ItPmxvY2spOworCisJaW50ZWxfZGlzcGxheV9wb3dlcl9w
dXRfYXN5bmMoZGV2X3ByaXYsIFBPV0VSX0RPTUFJTl9ESVNQTEFZX0NPUkUsCisJCQkJICAgICAg
d2FrZXJlZik7CiB9CiAKIGJvb2wgaW50ZWxfcHNyX2VuYWJsZWQoc3RydWN0IGludGVsX2RwICpp
bnRlbF9kcCkKLS0gCjIuMTcuMQoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX18KSW50ZWwtZ2Z4IG1haWxpbmcgbGlzdApJbnRlbC1nZnhAbGlzdHMuZnJlZWRl
c2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8v
aW50ZWwtZ2Z4

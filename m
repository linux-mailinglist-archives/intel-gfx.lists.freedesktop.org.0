Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 843BC90FCC
	for <lists+intel-gfx@lfdr.de>; Sat, 17 Aug 2019 11:40:13 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id E90D96E4B5;
	Sat, 17 Aug 2019 09:40:09 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga06.intel.com (mga06.intel.com [134.134.136.31])
 by gabe.freedesktop.org (Postfix) with ESMTPS id B352F6E4AB
 for <intel-gfx@lists.freedesktop.org>; Sat, 17 Aug 2019 09:40:08 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from fmsmga005.fm.intel.com ([10.253.24.32])
 by orsmga104.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 17 Aug 2019 02:40:08 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.64,396,1559545200"; d="scan'208";a="376950852"
Received: from vidyashr-mobl1.amr.corp.intel.com (HELO
 ldmartin-desk1.intel.com) ([10.251.152.227])
 by fmsmga005.fm.intel.com with ESMTP; 17 Aug 2019 02:40:06 -0700
From: Lucas De Marchi <lucas.demarchi@intel.com>
To: intel-gfx@lists.freedesktop.org
Date: Sat, 17 Aug 2019 02:38:57 -0700
Message-Id: <20190817093902.2171-36-lucas.demarchi@intel.com>
X-Mailer: git-send-email 2.21.0
In-Reply-To: <20190817093902.2171-1-lucas.demarchi@intel.com>
References: <20190817093902.2171-1-lucas.demarchi@intel.com>
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH v2 35/40] drm/i915/tgl: Add perf support on TGL
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

RnJvbTogTGlvbmVsIExhbmR3ZXJsaW4gPGxpb25lbC5nLmxhbmR3ZXJsaW5AaW50ZWwuY29tPgoK
VGhlIGRlc2lnbiBvZiB0aGUgT0EgdW5pdCBoYXMgYmVlbiBzcGxpdCBpbnRvIHNldmVyYWwgdW5p
dHMuIFdlIG5vdwpoYXZlIGEgZ2xvYmFsIHVuaXQgKE9BRykgYW5kIGEgcmVuZGVyIHNwZWNpZmlj
IHVuaXQgKE9BUikuIFRoaXMgbGVhZHMKdG8gc29tZSBjaGFuZ2VzIG9uIGhvdyB3ZSBwcm9ncmFt
IHRoaW5ncy4gU29tZSBkZXRhaWxzIDoKCk9BUjoKICAtIGhhcyBpdHMgb3duIHNldCBvZiBjb3Vu
dGVyIHJlZ2lzdGVycywgdGhleSBhcmUgcGVyLWNvbnRleHQKICAgIHNhdmVkL3Jlc3RvcmVkCiAg
LSBjb3VudGVycyBhcmUgbm90IHdyaXR0ZW4gdG8gdGhlIGNpcmN1bGFyIE9BIGJ1ZmZlcgogIC0g
YSBzbmFwc2hvdCBvZiB0aGUgY291bnRlcnMgY2FuIGJlIGFjcXVpcmVkIHdpdGgKICAgIE1JX1JF
Q09SRF9QRVJGX0NPVU5ULCBvciBhIHNpbmdsZSBjb3VudGVyIGNhbiBiZSByZWFkIHdpdGgKICAg
IE1JX1NUT1JFX1JFR0lTVEVSX01FTS4KCk9BRzoKICAtIGhhcyBnbG9iYWwgY291bnRlcnMgdGhh
dCBpbmNyZW1lbnQgYWNyb3NzIGNvbnRleHQgc3dpdGNoZXMKICAtIGNvdW50ZXJzIGFyZSB3cml0
dGVuIGludG8gdGhlIGNpcmN1bGFyIE9BIGJ1ZmZlciAoaWYgcmVxdWVzdGVkKQoKdjI6IEZpeCBj
aGVja3BhdGNoIHdhcm5pbmdzIG9uIGNvZGUgc3R5bGUgKEx1Y2FzKQoKQlNwZWM6IDI4NzI3LCAz
MDAyMQoKU2lnbmVkLW9mZi1ieTogTGlvbmVsIExhbmR3ZXJsaW4gPGxpb25lbC5nLmxhbmR3ZXJs
aW5AaW50ZWwuY29tPgpTaWduZWQtb2ZmLWJ5OiBMdWNhcyBEZSBNYXJjaGkgPGx1Y2FzLmRlbWFy
Y2hpQGludGVsLmNvbT4KLS0tCiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9NYWtlZmlsZSAgICAgICAg
IHwgICAzICstCiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3BlcmYuYyAgICAgIHwgMjM2ICsr
KysrKysrKysrKysrKysrKysrKysrKy0tCiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3JlZy5o
ICAgICAgIHwgMTAyICsrKysrKysrKysrCiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9vYS9pOTE1X29h
X3RnbC5jIHwgMTEyICsrKysrKysrKysrKwogZHJpdmVycy9ncHUvZHJtL2k5MTUvb2EvaTkxNV9v
YV90Z2wuaCB8ICAxNiArKwogNSBmaWxlcyBjaGFuZ2VkLCA0NTUgaW5zZXJ0aW9ucygrKSwgMTQg
ZGVsZXRpb25zKC0pCiBjcmVhdGUgbW9kZSAxMDA2NDQgZHJpdmVycy9ncHUvZHJtL2k5MTUvb2Ev
aTkxNV9vYV90Z2wuYwogY3JlYXRlIG1vZGUgMTAwNjQ0IGRyaXZlcnMvZ3B1L2RybS9pOTE1L29h
L2k5MTVfb2FfdGdsLmgKCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9NYWtlZmls
ZSBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L01ha2VmaWxlCmluZGV4IDQ1YWRkODEyMDQ4Yi4uNmQ5
MDQwY2RmNDMxIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9NYWtlZmlsZQorKysg
Yi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9NYWtlZmlsZQpAQCAtMjM0LDcgKzIzNCw4IEBAIGk5MTUt
eSArPSBcCiAJb2EvaTkxNV9vYV9jZmxndDIubyBcCiAJb2EvaTkxNV9vYV9jZmxndDMubyBcCiAJ
b2EvaTkxNV9vYV9jbmwubyBcCi0Jb2EvaTkxNV9vYV9pY2wubworCW9hL2k5MTVfb2FfaWNsLm8g
XAorCW9hL2k5MTVfb2FfdGdsLm8KIGk5MTUteSArPSBpOTE1X3BlcmYubwogCiAjIFBvc3QtbW9y
dGVtIGRlYnVnIGFuZCBHUFUgaGFuZyBzdGF0ZSBjYXB0dXJlCmRpZmYgLS1naXQgYS9kcml2ZXJz
L2dwdS9kcm0vaTkxNS9pOTE1X3BlcmYuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfcGVy
Zi5jCmluZGV4IDkzODZkOWM4MjkzMC4uNmFmNDIwY2FhODhhIDEwMDY0NAotLS0gYS9kcml2ZXJz
L2dwdS9kcm0vaTkxNS9pOTE1X3BlcmYuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1
X3BlcmYuYwpAQCAtMjE1LDYgKzIxNSw3IEBACiAjaW5jbHVkZSAib2EvaTkxNV9vYV9jZmxndDMu
aCIKICNpbmNsdWRlICJvYS9pOTE1X29hX2NubC5oIgogI2luY2x1ZGUgIm9hL2k5MTVfb2FfaWNs
LmgiCisjaW5jbHVkZSAib2EvaTkxNV9vYV90Z2wuaCIKIAogI2RlZmluZSBPQV9UQUtFTih0YWls
LCBoZWFkKQkoKCh0YWlsKSAtIChoZWFkKSkgJiAoc3RyZWFtLT5vYV9idWZmZXIudm1hLT5zaXpl
IC0gMSkpCiAKQEAgLTE0OTYsNiArMTQ5Nyw3MyBAQCBzdGF0aWMgdm9pZCBnZW44X2luaXRfb2Ff
YnVmZmVyKHN0cnVjdCBpOTE1X3BlcmZfc3RyZWFtICpzdHJlYW0pCiAJc3RyZWFtLT5wb2xsaW4g
PSBmYWxzZTsKIH0KIAorc3RhdGljIHZvaWQgZ2VuMTJfaW5pdF9vYV9idWZmZXIoc3RydWN0IGk5
MTVfcGVyZl9zdHJlYW0gKnN0cmVhbSkKK3sKKwlzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2
X3ByaXYgPSBzdHJlYW0tPmRldl9wcml2OworCXUzMiBndHRfb2Zmc2V0ID0gaTkxNV9nZ3R0X29m
ZnNldChzdHJlYW0tPm9hX2J1ZmZlci52bWEpOworCXVuc2lnbmVkIGxvbmcgZmxhZ3M7CisKKwlz
cGluX2xvY2tfaXJxc2F2ZSgmc3RyZWFtLT5vYV9idWZmZXIucHRyX2xvY2ssIGZsYWdzKTsKKwor
CUk5MTVfV1JJVEUoR0VOMTJfT0FHX09BU1RBVFVTLCAwKTsKKwlJOTE1X1dSSVRFKEdFTjEyX09B
R19PQUhFQURQVFIsIGd0dF9vZmZzZXQgJiBHRU4xMl9PQUdfT0FIRUFEUFRSX01BU0spOworCXN0
cmVhbS0+b2FfYnVmZmVyLmhlYWQgPSBndHRfb2Zmc2V0OworCisJLyoKKwkgKiBQUk0gc2F5czoK
KwkgKgorCSAqICAiVGhpcyBNTUlPIG11c3QgYmUgc2V0IGJlZm9yZSB0aGUgT0FUQUlMUFRSCisJ
ICogIHJlZ2lzdGVyIGFuZCBhZnRlciB0aGUgT0FIRUFEUFRSIHJlZ2lzdGVyLiBUaGlzIGlzCisJ
ICogIHRvIGVuYWJsZSBwcm9wZXIgZnVuY3Rpb25hbGl0eSBvZiB0aGUgb3ZlcmZsb3cKKwkgKiAg
Yml0LiIKKwkgKgorCSAqIE9uIGhhcmR3YXJlIHRoYXQgc3VwcG9ydHMgaXQsIE9BIGJ1ZmZlciBz
aXplIGdvZXMgdXAgdG8gMTI4TWIgYnkKKwkgKiB0b2dnbGluZyBhIGJpdCBpbiB0aGUgT0FHX09B
X0RFQlVHIHJlZ2lzdGVyIG1lYW5pbmcgbXVsdGlwbHkgYmFzZQorCSAqIHZhbHVlIGJ5IDguIE9B
IGJ1ZmZlciBzaXplIGlzIGFscmVhZHkgY2xhbXBlZCBiZXR3ZWVuIDEyOEsgYW5kIG1heAorCSAq
IHN1cHBvcnRlZCBzaXplIHdoZW4gdmFsaWRhdGluZyBwcm9wZXJ0aWVzIHBhc3NlZCBieSB0aGUg
dXNlciwgc28gbm8KKwkgKiBuZWVkIHRvIGNoZWNrIGZvciBzcGVjaWZpYyBoYXJkd2FyZSBoZXJl
LgorCSAqLworCUk5MTVfV1JJVEUoR0VOMTJfT0FHX09BQlVGRkVSLCBndHRfb2Zmc2V0IHwKKwkJ
ICAgKChzdHJlYW0tPm9hX2J1ZmZlci5zaXplX2V4cG9uZW50IC0gMTcpIDw8CisJCSAgICBHRU4x
Ml9PQUdfT0FCVUZGRVJfQlVGRkVSX1NJWkVfU0hJRlQpIHwKKwkJICAgR0VOOF9PQUJVRkZFUl9N
RU1fU0VMRUNUX0dHVFQpOworCUk5MTVfV1JJVEUoR0VOMTJfT0FHX09BVEFJTFBUUiwgZ3R0X29m
ZnNldCAmIEdFTjEyX09BR19PQVRBSUxQVFJfTUFTSyk7CisKKwkvKiBNYXJrIHRoYXQgd2UgbmVl
ZCB1cGRhdGVkIHRhaWwgcG9pbnRlcnMgdG8gcmVhZCBmcm9tLi4uICovCisJc3RyZWFtLT5vYV9i
dWZmZXIudGFpbHNbMF0ub2Zmc2V0ID0gSU5WQUxJRF9UQUlMX1BUUjsKKwlzdHJlYW0tPm9hX2J1
ZmZlci50YWlsc1sxXS5vZmZzZXQgPSBJTlZBTElEX1RBSUxfUFRSOworCisJLyoKKwkgKiBSZXNl
dCBzdGF0ZSB1c2VkIHRvIHJlY29nbmlzZSBjb250ZXh0IHN3aXRjaGVzLCBhZmZlY3Rpbmcgd2hp
Y2gKKwkgKiByZXBvcnRzIHdlIHdpbGwgZm9yd2FyZCB0byB1c2Vyc3BhY2Ugd2hpbGUgZmlsdGVy
aW5nIGZvciBhIHNpbmdsZQorCSAqIGNvbnRleHQuCisJICovCisJc3RyZWFtLT5vYV9idWZmZXIu
bGFzdF9jdHhfaWQgPSBJTlZBTElEX0NUWF9JRDsKKworCXNwaW5fdW5sb2NrX2lycXJlc3RvcmUo
JnN0cmVhbS0+b2FfYnVmZmVyLnB0cl9sb2NrLCBmbGFncyk7CisKKwkvKgorCSAqIE5COiBhbHRo
b3VnaCB0aGUgT0EgYnVmZmVyIHdpbGwgaW5pdGlhbGx5IGJlIGFsbG9jYXRlZAorCSAqIHplcm9l
ZCB2aWEgc2htZnMgKGFuZCBzbyB0aGlzIG1lbXNldCBpcyByZWR1bmRhbnQgd2hlbgorCSAqIGZp
cnN0IGFsbG9jYXRpbmcpLCB3ZSBtYXkgcmUtaW5pdCB0aGUgT0EgYnVmZmVyLCBlaXRoZXIKKwkg
KiB3aGVuIHJlLWVuYWJsaW5nIGEgc3RyZWFtIG9yIGluIGVycm9yL3Jlc2V0IHBhdGhzLgorCSAq
CisJICogVGhlIHJlYXNvbiB3ZSBjbGVhciB0aGUgYnVmZmVyIGZvciBlYWNoIHJlLWluaXQgaXMg
Zm9yIHRoZQorCSAqIHNhbml0eSBjaGVjayBpbiBnZW44X2FwcGVuZF9vYV9yZXBvcnRzKCkgdGhh
dCBsb29rcyBhdCB0aGUKKwkgKiByZWFzb24gZmllbGQgdG8gbWFrZSBzdXJlIGl0J3Mgbm9uLXpl
cm8gd2hpY2ggcmVsaWVzIG9uCisJICogdGhlIGFzc3VtcHRpb24gdGhhdCBuZXcgcmVwb3J0cyBh
cmUgYmVpbmcgd3JpdHRlbiB0byB6ZXJvZWQKKwkgKiBtZW1vcnkuLi4KKwkgKi8KKwltZW1zZXQo
c3RyZWFtLT5vYV9idWZmZXIudmFkZHIsIDAsCisJICAgICAgIHN0cmVhbS0+b2FfYnVmZmVyLnZt
YS0+c2l6ZSk7CisKKwkvKgorCSAqIE1heWJlIG1ha2UgLT5wb2xsaW4gcGVyLXN0cmVhbSBzdGF0
ZSBpZiB3ZSBzdXBwb3J0IG11bHRpcGxlCisJICogY29uY3VycmVudCBzdHJlYW1zIGluIHRoZSBm
dXR1cmUuCisJICovCisJc3RyZWFtLT5wb2xsaW4gPSBmYWxzZTsKK30KKwogc3RhdGljIGludCBh
bGxvY19vYV9idWZmZXIoc3RydWN0IGk5MTVfcGVyZl9zdHJlYW0gKnN0cmVhbSwgaW50IHNpemVf
ZXhwb25lbnQpCiB7CiAJc3RydWN0IGRybV9pOTE1X2dlbV9vYmplY3QgKmJvOwpAQCAtMTY5MSwx
MCArMTc1OSwyMSBAQCBnZW44X3VwZGF0ZV9yZWdfc3RhdGVfdW5sb2NrZWQoc3RydWN0IGk5MTVf
cGVyZl9zdHJlYW0gKnN0cmVhbSwKIAl9OwogCWludCBpOwogCi0JQ1RYX1JFRyhyZWdfc3RhdGUs
IGN0eF9vYWN0eGN0cmwsIEdFTjhfT0FDVFhDT05UUk9MLAotCQkoc3RyZWFtLT5wZXJpb2RfZXhw
b25lbnQgPDwgR0VOOF9PQV9USU1FUl9QRVJJT0RfU0hJRlQpIHwKLQkJKHN0cmVhbS0+cGVyaW9k
aWMgPyBHRU44X09BX1RJTUVSX0VOQUJMRSA6IDApIHwKLQkJR0VOOF9PQV9DT1VOVEVSX1JFU1VN
RSk7CisJaWYgKElTX0dFTihpOTE1LCAxMikpIHsKKwkJdTMyIGZvcm1hdCA9IHN0cmVhbS0+b2Ff
YnVmZmVyLmZvcm1hdDsKKworCQlDVFhfUkVHKHJlZ19zdGF0ZSwgY3R4X29hY3R4Y3RybCwgR0VO
MTJfT0FSX09BQ09OVFJPTCwKKwkJCShmb3JtYXQgPDwgR0VOMTJfT0FSX09BQ09OVFJPTF9DT1VO
VEVSX0ZPUk1BVF9TSElGVCkgfAorCQkJKG9hX2NvbmZpZyA/IEdFTjEyX09BUl9PQUNPTlRST0xf
Q09VTlRFUl9FTkFCTEUgOiAwKSk7CisJfSBlbHNlIHsKKwkJdTMyIHBlcmlvZF9leHBvbmVudCA9
IHN0cmVhbS0+cGVyaW9kX2V4cG9uZW50OworCQlib29sIHBlcmlvZGljID0gc3RyZWFtLT5wZXJp
b2RpYzsKKworCQlDVFhfUkVHKHJlZ19zdGF0ZSwgY3R4X29hY3R4Y3RybCwgR0VOOF9PQUNUWENP
TlRST0wsCisJCQkocGVyaW9kX2V4cG9uZW50IDw8IEdFTjhfT0FfVElNRVJfUEVSSU9EX1NISUZU
KSB8CisJCQkocGVyaW9kaWMgPyBHRU44X09BX1RJTUVSX0VOQUJMRSA6IDApIHwKKwkJCUdFTjhf
T0FfQ09VTlRFUl9SRVNVTUUpOworCX0KIAogCWZvciAoaSA9IDA7IGkgPCBBUlJBWV9TSVpFKGZs
ZXhfcmVncyk7IGkrKykgewogCQlDVFhfUkVHKHJlZ19zdGF0ZSwgY3R4X2ZsZXhldTAgKyBpICog
MiwgZmxleF9yZWdzW2ldLApAQCAtMTg1NSw4ICsxOTM0LDggQEAgc3RhdGljIGludCBnZW44X2Nv
bmZpZ3VyZV9jb250ZXh0KHN0cnVjdCBpOTE1X2dlbV9jb250ZXh0ICpjdHgsCiAgKgogICogTm90
ZTogaXQncyBvbmx5IHRoZSBSQ1MvUmVuZGVyIGNvbnRleHQgdGhhdCBoYXMgYW55IE9BIHN0YXRl
LgogICovCi1zdGF0aWMgaW50IGdlbjhfY29uZmlndXJlX2FsbF9jb250ZXh0cyhzdHJ1Y3QgaTkx
NV9wZXJmX3N0cmVhbSAqc3RyZWFtLAotCQkJCSAgICAgICBjb25zdCBzdHJ1Y3QgaTkxNV9vYV9j
b25maWcgKm9hX2NvbmZpZykKK3N0YXRpYyBpbnQgbHJjX2NvbmZpZ3VyZV9hbGxfY29udGV4dHMo
c3RydWN0IGk5MTVfcGVyZl9zdHJlYW0gKnN0cmVhbSwKKwkJCQkgICAgICBjb25zdCBzdHJ1Y3Qg
aTkxNV9vYV9jb25maWcgKm9hX2NvbmZpZykKIHsKIAlzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAq
aTkxNSA9IHN0cmVhbS0+ZGV2X3ByaXY7CiAJLyogVGhlIE1NSU8gb2Zmc2V0cyBmb3IgRmxleCBF
VSByZWdpc3RlcnMgYXJlbid0IGNvbnRpZ3VvdXMgKi8KQEAgLTE5ODEsNyArMjA2MCw1MCBAQCBz
dGF0aWMgaW50IGdlbjhfZW5hYmxlX21ldHJpY19zZXQoc3RydWN0IGk5MTVfcGVyZl9zdHJlYW0g
KnN0cmVhbSkKIAkgKiB0byBtYWtlIHN1cmUgYWxsIHNsaWNlcy9zdWJzbGljZXMgYXJlIE9OIGJl
Zm9yZSB3cml0aW5nIHRvIE5PQQogCSAqIHJlZ2lzdGVycy4KIAkgKi8KLQlyZXQgPSBnZW44X2Nv
bmZpZ3VyZV9hbGxfY29udGV4dHMoc3RyZWFtLCBvYV9jb25maWcpOworCXJldCA9IGxyY19jb25m
aWd1cmVfYWxsX2NvbnRleHRzKHN0cmVhbSwgb2FfY29uZmlnKTsKKwlpZiAocmV0KQorCQlyZXR1
cm4gcmV0OworCisJY29uZmlnX29hX3JlZ3MoZGV2X3ByaXYsIG9hX2NvbmZpZy0+bXV4X3JlZ3Ms
IG9hX2NvbmZpZy0+bXV4X3JlZ3NfbGVuKTsKKworCWNvbmZpZ19vYV9yZWdzKGRldl9wcml2LCBv
YV9jb25maWctPmJfY291bnRlcl9yZWdzLAorCQkgICAgICAgb2FfY29uZmlnLT5iX2NvdW50ZXJf
cmVnc19sZW4pOworCisJcmV0dXJuIDA7Cit9CisKK3N0YXRpYyBpbnQgZ2VuMTJfZW5hYmxlX21l
dHJpY19zZXQoc3RydWN0IGk5MTVfcGVyZl9zdHJlYW0gKnN0cmVhbSkKK3sKKwlzdHJ1Y3QgZHJt
X2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYgPSBzdHJlYW0tPmRldl9wcml2OworCXN0cnVjdCBpOTE1
X29hX2NvbmZpZyAqb2FfY29uZmlnID0gc3RyZWFtLT5vYV9jb25maWc7CisJYm9vbCBwZXJpb2Rp
YyA9IHN0cmVhbS0+cGVyaW9kaWM7CisJdTMyIHBlcmlvZF9leHBvbmVudCA9IHN0cmVhbS0+cGVy
aW9kX2V4cG9uZW50OworCWludCByZXQ7CisKKwlJOTE1X1dSSVRFKEdFTjEyX09BR19PQV9ERUJV
RywKKwkJICAgLyogRGlzYWJsZSBjbGsgcmF0aW8gcmVwb3J0cywgbGlrZSBwcmV2aW91cyBHZW5z
LiAqLworCQkgICBfTUFTS0VEX0JJVF9FTkFCTEUoR0VOMTJfT0FHX09BX0RFQlVHX0RJU0FCTEVf
Q0xLX1JBVElPX1JFUE9SVFMgfAorCQkJCSAgICAgIEdFTjEyX09BR19PQV9ERUJVR19JTkNMVURF
X0NMS19SQVRJTykgfAorCQkgICAvKgorCQkgICAgKiBJZiB0aGUgdXNlciBkaWRuJ3QgcmVxdWly
ZSBPQSByZXBvcnRzLCBpbnN0cnVjdCB0aGUKKwkJICAgICogaGFyZHdhcmUgbm90IHRvIGVtaXQg
Y3R4IHN3aXRjaCByZXBvcnRzLgorCQkgICAgKi8KKwkJICAgKHN0cmVhbS0+c2FtcGxlX2ZsYWdz
ICYgU0FNUExFX09BX1JFUE9SVCkgPworCQkgICBfTUFTS0VEX0JJVF9FTkFCTEUoR0VOMTJfT0FH
X09BX0RFQlVHX0RJU0FCTEVfQ1RYX1NXSVRDSF9SRVBPUlRTKSA6CisJCSAgIF9NQVNLRURfQklU
X0RJU0FCTEUoR0VOMTJfT0FHX09BX0RFQlVHX0RJU0FCTEVfQ1RYX1NXSVRDSF9SRVBPUlRTKSk7
CisKKwlJOTE1X1dSSVRFKEdFTjEyX09BR19PQUdMQkNUWENUUkwsCisJCSAgIHBlcmlvZGljID8K
KwkJICAgKEdFTjEyX09BR19PQUdMQkNUWENUUkxfVElNRVJfRU5BQkxFIHwKKwkJICAgIHBlcmlv
ZF9leHBvbmVudCA8PCBHRU4xMl9PQUdfT0FHTEJDVFhDVFJMX1RJTUVSX1BFUklPRF9TSElGVCkK
KwkJICAgOiAwKTsKKworCS8qCisJICogVXBkYXRlIGFsbCBjb250ZXh0cyBwcmlvciB3cml0aW5n
IHRoZSBtdXggY29uZmlndXJhdGlvbnMgYXMgd2UgbmVlZAorCSAqIHRvIG1ha2Ugc3VyZSBhbGwg
c2xpY2VzL3N1YnNsaWNlcyBhcmUgT04gYmVmb3JlIHdyaXRpbmcgdG8gTk9BCisJICogcmVnaXN0
ZXJzLgorCSAqLworCXJldCA9IGxyY19jb25maWd1cmVfYWxsX2NvbnRleHRzKHN0cmVhbSwgb2Ff
Y29uZmlnKTsKIAlpZiAocmV0KQogCQlyZXR1cm4gcmV0OwogCkBAIC0xOTk5LDcgKzIxMjEsNyBA
QCBzdGF0aWMgdm9pZCBnZW44X2Rpc2FibGVfbWV0cmljX3NldChzdHJ1Y3QgaTkxNV9wZXJmX3N0
cmVhbSAqc3RyZWFtKQogCXN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiA9IHN0cmVh
bS0+ZGV2X3ByaXY7CiAKIAkvKiBSZXNldCBhbGwgY29udGV4dHMnIHNsaWNlcy9zdWJzbGljZXMg
Y29uZmlndXJhdGlvbnMuICovCi0JZ2VuOF9jb25maWd1cmVfYWxsX2NvbnRleHRzKHN0cmVhbSwg
TlVMTCk7CisJbHJjX2NvbmZpZ3VyZV9hbGxfY29udGV4dHMoc3RyZWFtLCBOVUxMKTsKIAogCUk5
MTVfV1JJVEUoR0RUX0NISUNLRU5fQklUUywgKEk5MTVfUkVBRChHRFRfQ0hJQ0tFTl9CSVRTKSAm
CiAJCQkJICAgICAgfkdUX05PQV9FTkFCTEUpKTsKQEAgLTIwMTAsNyArMjEzMiwxOSBAQCBzdGF0
aWMgdm9pZCBnZW4xMF9kaXNhYmxlX21ldHJpY19zZXQoc3RydWN0IGk5MTVfcGVyZl9zdHJlYW0g
KnN0cmVhbSkKIAlzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYgPSBzdHJlYW0tPmRl
dl9wcml2OwogCiAJLyogUmVzZXQgYWxsIGNvbnRleHRzJyBzbGljZXMvc3Vic2xpY2VzIGNvbmZp
Z3VyYXRpb25zLiAqLwotCWdlbjhfY29uZmlndXJlX2FsbF9jb250ZXh0cyhzdHJlYW0sIE5VTEwp
OworCWxyY19jb25maWd1cmVfYWxsX2NvbnRleHRzKHN0cmVhbSwgTlVMTCk7CisKKwkvKiBNYWtl
IHN1cmUgd2UgZGlzYWJsZSBub2EgdG8gc2F2ZSBwb3dlci4gKi8KKwlJOTE1X1dSSVRFKFJQTV9D
T05GSUcxLAorCQkgICBJOTE1X1JFQUQoUlBNX0NPTkZJRzEpICYgfkdFTjEwX0dUX05PQV9FTkFC
TEUpOworfQorCitzdGF0aWMgdm9pZCBnZW4xMl9kaXNhYmxlX21ldHJpY19zZXQoc3RydWN0IGk5
MTVfcGVyZl9zdHJlYW0gKnN0cmVhbSkKK3sKKwlzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2
X3ByaXYgPSBzdHJlYW0tPmRldl9wcml2OworCisJLyogUmVzZXQgYWxsIGNvbnRleHRzJyBzbGlj
ZXMvc3Vic2xpY2VzIGNvbmZpZ3VyYXRpb25zLiAqLworCWxyY19jb25maWd1cmVfYWxsX2NvbnRl
eHRzKHN0cmVhbSwgTlVMTCk7CiAKIAkvKiBNYWtlIHN1cmUgd2UgZGlzYWJsZSBub2EgdG8gc2F2
ZSBwb3dlci4gKi8KIAlJOTE1X1dSSVRFKFJQTV9DT05GSUcxLApAQCAtMjA3Myw2ICsyMjA3LDI2
IEBAIHN0YXRpYyB2b2lkIGdlbjhfb2FfZW5hYmxlKHN0cnVjdCBpOTE1X3BlcmZfc3RyZWFtICpz
dHJlYW0pCiAJCQkJICAgR0VOOF9PQV9DT1VOVEVSX0VOQUJMRSk7CiB9CiAKK3N0YXRpYyB2b2lk
IGdlbjEyX29hX2VuYWJsZShzdHJ1Y3QgaTkxNV9wZXJmX3N0cmVhbSAqc3RyZWFtKQoreworCXN0
cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiA9IHN0cmVhbS0+ZGV2X3ByaXY7CisJdTMy
IHJlcG9ydF9mb3JtYXQgPSBzdHJlYW0tPm9hX2J1ZmZlci5mb3JtYXQ7CisKKwkvKgorCSAqIElm
IHdlIGRvbid0IHdhbnQgT0EgcmVwb3J0cyBmcm9tIHRoZSBPQSBidWZmZXIsIHRoZW4gd2UgZG9u
J3QgZXZlbgorCSAqIG5lZWQgdG8gcHJvZ3JhbSB0aGUgT0FHIHVuaXQuCisJICovCisJaWYgKCEo
c3RyZWFtLT5zYW1wbGVfZmxhZ3MgJiBTQU1QTEVfT0FfUkVQT1JUKSkKKwkJcmV0dXJuOworCisJ
Z2VuMTJfaW5pdF9vYV9idWZmZXIoc3RyZWFtKTsKKworCUk5MTVfV1JJVEUoR0VOMTJfT0FHX09B
Q09OVFJPTCwKKwkJICAgKHJlcG9ydF9mb3JtYXQgPDwKKwkJICAgIEdFTjEyX09BR19PQUNPTlRS
T0xfT0FfQ09VTlRFUl9GT1JNQVRfU0hJRlQpIHwKKwkJICAgR0VOMTJfT0FHX09BQ09OVFJPTF9P
QV9DT1VOVEVSX0VOQUJMRSk7Cit9CisKIC8qKgogICogaTkxNV9vYV9zdHJlYW1fZW5hYmxlIC0g
aGFuZGxlIGBJOTE1X1BFUkZfSU9DVExfRU5BQkxFYCBmb3IgT0Egc3RyZWFtCiAgKiBAc3RyZWFt
OiBBbiBpOTE1IHBlcmYgc3RyZWFtIG9wZW5lZCBmb3IgT0EgbWV0cmljcwpAQCAtMjExNiw2ICsy
MjcwLDEzIEBAIHN0YXRpYyB2b2lkIGdlbjhfb2FfZGlzYWJsZShzdHJ1Y3QgaTkxNV9wZXJmX3N0
cmVhbSAqc3RyZWFtKQogCQlEUk1fRVJST1IoIndhaXQgZm9yIE9BIHRvIGJlIGRpc2FibGVkIHRp
bWVkIG91dFxuIik7CiB9CiAKK3N0YXRpYyB2b2lkIGdlbjEyX29hX2Rpc2FibGUoc3RydWN0IGk5
MTVfcGVyZl9zdHJlYW0gKnN0cmVhbSkKK3sKKwlzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2
X3ByaXYgPSBzdHJlYW0tPmRldl9wcml2OworCisJSTkxNV9XUklURShHRU4xMl9PQUdfT0FDT05U
Uk9MLCAwKTsKK30KKwogLyoqCiAgKiBpOTE1X29hX3N0cmVhbV9kaXNhYmxlIC0gaGFuZGxlIGBJ
OTE1X1BFUkZfSU9DVExfRElTQUJMRWAgZm9yIE9BIHN0cmVhbQogICogQHN0cmVhbTogQW4gaTkx
NSBwZXJmIHN0cmVhbSBvcGVuZWQgZm9yIE9BIG1ldHJpY3MKQEAgLTI3MzMsMTYgKzI4OTQsMjQg
QEAgaTkxNV9wZXJmX29wZW5faW9jdGxfbG9ja2VkKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpk
ZXZfcHJpdiwKIAkgKiByZXN0IG9mIHRoZSBzeXN0ZW0sIHdoaWNoIHdlIGNvbnNpZGVyIGFjY2Vw
dGFibGUgZm9yIGEKIAkgKiBub24tcHJpdmlsZWdlZCBjbGllbnQuCiAJICoKLQkgKiBGb3IgR2Vu
OCsgdGhlIE9BIHVuaXQgbm8gbG9uZ2VyIHN1cHBvcnRzIGNsb2NrIGdhdGluZyBvZmYgZm9yIGEK
KwkgKiBGb3IgR2VuOC0+MTEgdGhlIE9BIHVuaXQgbm8gbG9uZ2VyIHN1cHBvcnRzIGNsb2NrIGdh
dGluZyBvZmYgZm9yIGEKIAkgKiBzcGVjaWZpYyBjb250ZXh0IGFuZCB0aGUga2VybmVsIGNhbid0
IHNlY3VyZWx5IHN0b3AgdGhlIGNvdW50ZXJzCiAJICogZnJvbSB1cGRhdGluZyBhcyBzeXN0ZW0t
d2lkZSAvIGdsb2JhbCB2YWx1ZXMuIEV2ZW4gdGhvdWdoIHdlIGNhbgogCSAqIGZpbHRlciByZXBv
cnRzIGJhc2VkIG9uIHRoZSBpbmNsdWRlZCBjb250ZXh0IElEIHdlIGNhbid0IGJsb2NrCiAJICog
Y2xpZW50cyBmcm9tIHNlZWluZyB0aGUgcmF3IC8gZ2xvYmFsIGNvdW50ZXIgdmFsdWVzIHZpYQog
CSAqIE1JX1JFUE9SVF9QRVJGX0NPVU5UIGNvbW1hbmRzIGFuZCBzbyBjb25zaWRlciBpdCBhIHBy
aXZpbGVnZWQgb3AgdG8KIAkgKiBlbmFibGUgdGhlIE9BIHVuaXQgYnkgZGVmYXVsdC4KKwkgKgor
CSAqIEZvciBHZW4xMisgd2UgZ2FpbiBhIG5ldyBPQVIgdW5pdCB0aGF0IG9ubHkgbW9uaXRvcnMg
dGhlIFJDUyBvbiBhCisJICogcGVyIGNvbnRleHQgYmFzaXMuIFNvIHdlIGNhbiByZWxheCByZXF1
aXJlbWVudHMgdGhlcmUgaWYgdGhlIHVzZXIKKwkgKiBkb2Vzbid0IHJlcXVlc3QgZ2xvYmFsIHN0
cmVhbSBhY2Nlc3MgKGkuZS4gcXVlcnkgYmFzZWQgc2FtcGxpbmcKKwkgKiB1c2luZyBNSV9SRUNP
UkRfUEVSRl9DT1VOVC4KIAkgKi8KIAlpZiAoSVNfSEFTV0VMTChkZXZfcHJpdikgJiYgc3BlY2lm
aWNfY3R4KQogCQlwcml2aWxlZ2VkX29wID0gZmFsc2U7CisJZWxzZSBpZiAoSVNfR0VOKGRldl9w
cml2LCAxMikgJiYgc3BlY2lmaWNfY3R4ICYmCisJCSAocHJvcHMtPnNhbXBsZV9mbGFncyAmIFNB
TVBMRV9PQV9SRVBPUlQpID09IDApCisJCXByaXZpbGVnZWRfb3AgPSBmYWxzZTsKIAogCS8qIFNp
bWlsYXIgdG8gcGVyZidzIGtlcm5lbC5wZXJmX3BhcmFub2lkX2NwdSBzeXNjdGwgb3B0aW9uCiAJ
ICogd2UgY2hlY2sgYSBkZXYuaTkxNS5wZXJmX3N0cmVhbV9wYXJhbm9pZCBzeXNjdGwgb3B0aW9u
CkBAIC0zMDgyLDcgKzMyNTEsOSBAQCB2b2lkIGk5MTVfcGVyZl9yZWdpc3RlcihzdHJ1Y3QgZHJt
X2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYpCiAKIAlzeXNmc19hdHRyX2luaXQoJmRldl9wcml2LT5w
ZXJmLnRlc3RfY29uZmlnLnN5c2ZzX21ldHJpY19pZC5hdHRyKTsKIAotCWlmIChJTlRFTF9HRU4o
ZGV2X3ByaXYpID49IDExKSB7CisJaWYgKElTX0dFTihkZXZfcHJpdiwgMTIpKSB7CisJCWk5MTVf
cGVyZl9sb2FkX3Rlc3RfY29uZmlnX3RnbChkZXZfcHJpdik7CisJfSBlbHNlIGlmIChJTlRFTF9H
RU4oZGV2X3ByaXYpID49IDExKSB7CiAJCWk5MTVfcGVyZl9sb2FkX3Rlc3RfY29uZmlnX2ljbChk
ZXZfcHJpdik7CiAJfSBlbHNlIGlmIChJU19DQU5OT05MQUtFKGRldl9wcml2KSkgewogCQlpOTE1
X3BlcmZfbG9hZF90ZXN0X2NvbmZpZ19jbmwoZGV2X3ByaXYpOwpAQCAtMzIyOCw2ICszMzk5LDI2
IEBAIHN0YXRpYyBib29sIGNodl9pc192YWxpZF9tdXhfYWRkcihzdHJ1Y3QgZHJtX2k5MTVfcHJp
dmF0ZSAqZGV2X3ByaXYsIHUzMiBhZGRyKQogCQkoYWRkciA+PSAweDE4MjMwMCAmJiBhZGRyIDw9
IDB4MTgyM0E0KTsKIH0KIAorc3RhdGljIGJvb2wgZ2VuMTJfaXNfdmFsaWRfYl9jb3VudGVyX2Fk
ZHIoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2LAorCQkJCQkgIHUzMiBhZGRyKQor
eworCXJldHVybiAoYWRkciA+PSBpOTE1X21taW9fcmVnX29mZnNldChHRU4xMl9PQUdfQ0VDMF8w
KSAmJgorCQlhZGRyIDw9IGk5MTVfbW1pb19yZWdfb2Zmc2V0KEdFTjEyX09BR19DRUM3XzEpKSB8
fAorCQkoYWRkciA+PSBpOTE1X21taW9fcmVnX29mZnNldChHRU4xMl9PQUdfU0NFQzBfMCkgJiYK
KwkJIGFkZHIgPD0gaTkxNV9tbWlvX3JlZ19vZmZzZXQoR0VOMTJfT0FHX1NDRUM3XzEpKSB8fAor
CQlhZGRyID09IGk5MTVfbW1pb19yZWdfb2Zmc2V0KEdFTjEyX09BQV9EQkdfUkVHKSB8fAorCQlh
ZGRyID09IGk5MTVfbW1pb19yZWdfb2Zmc2V0KEdFTjEyX09BR19PQV9QRVNTKSB8fAorCQlhZGRy
ID09IGk5MTVfbW1pb19yZWdfb2Zmc2V0KEdFTjEyX09BR19TUENUUl9DTkYpOworfQorCitzdGF0
aWMgYm9vbCBnZW4xMl9pc192YWxpZF9tdXhfYWRkcihzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAq
ZGV2X3ByaXYsCisJCQkJICAgIHUzMiBhZGRyKQoreworCXJldHVybiBhZGRyID09IGk5MTVfbW1p
b19yZWdfb2Zmc2V0KE5PQV9XUklURSkgfHwKKwkJKGFkZHIgPj0gaTkxNV9tbWlvX3JlZ19vZmZz
ZXQoTk9BX0NPTkZJRygwKSkgJiYKKwkJIGFkZHIgPD0gaTkxNV9tbWlvX3JlZ19vZmZzZXQoTk9B
X0NPTkZJRyg4KSkpOworfQorCiBzdGF0aWMgdTMyIG1hc2tfcmVnX3ZhbHVlKHUzMiByZWcsIHUz
MiB2YWwpCiB7CiAJLyogSEFMRl9TTElDRV9DSElDS0VOMiBpcyBwcm9ncmFtbWVkIHdpdGggYSB0
aGUKQEAgLTM2MTcsOCArMzgwOCw2IEBAIHZvaWQgaTkxNV9wZXJmX2luaXQoc3RydWN0IGRybV9p
OTE1X3ByaXZhdGUgKmRldl9wcml2KQogCQkgKi8KIAkJZGV2X3ByaXYtPnBlcmYub2FfZm9ybWF0
cyA9IGdlbjhfcGx1c19vYV9mb3JtYXRzOwogCi0JCWRldl9wcml2LT5wZXJmLm9wcy5vYV9lbmFi
bGUgPSBnZW44X29hX2VuYWJsZTsKLQkJZGV2X3ByaXYtPnBlcmYub3BzLm9hX2Rpc2FibGUgPSBn
ZW44X29hX2Rpc2FibGU7CiAJCWRldl9wcml2LT5wZXJmLm9wcy5yZWFkID0gZ2VuOF9vYV9yZWFk
OwogCQlkZXZfcHJpdi0+cGVyZi5vcHMub2FfaHdfdGFpbF9yZWFkID0gZ2VuOF9vYV9od190YWls
X3JlYWQ7CiAKQEAgLTM2MzUsNiArMzgyNCw4IEBAIHZvaWQgaTkxNV9wZXJmX2luaXQoc3RydWN0
IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2KQogCQkJCQljaHZfaXNfdmFsaWRfbXV4X2FkZHI7
CiAJCQl9CiAKKwkJCWRldl9wcml2LT5wZXJmLm9wcy5vYV9lbmFibGUgPSBnZW44X29hX2VuYWJs
ZTsKKwkJCWRldl9wcml2LT5wZXJmLm9wcy5vYV9kaXNhYmxlID0gZ2VuOF9vYV9kaXNhYmxlOwog
CQkJZGV2X3ByaXYtPnBlcmYub3BzLmVuYWJsZV9tZXRyaWNfc2V0ID0gZ2VuOF9lbmFibGVfbWV0
cmljX3NldDsKIAkJCWRldl9wcml2LT5wZXJmLm9wcy5kaXNhYmxlX21ldHJpY19zZXQgPSBnZW44
X2Rpc2FibGVfbWV0cmljX3NldDsKIApAQCAtMzY1Nyw2ICszODQ4LDggQEAgdm9pZCBpOTE1X3Bl
cmZfaW5pdChzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYpCiAJCQlkZXZfcHJpdi0+
cGVyZi5vcHMuaXNfdmFsaWRfZmxleF9yZWcgPQogCQkJCWdlbjhfaXNfdmFsaWRfZmxleF9hZGRy
OwogCisJCQlkZXZfcHJpdi0+cGVyZi5vcHMub2FfZW5hYmxlID0gZ2VuOF9vYV9lbmFibGU7CisJ
CQlkZXZfcHJpdi0+cGVyZi5vcHMub2FfZGlzYWJsZSA9IGdlbjhfb2FfZGlzYWJsZTsKIAkJCWRl
dl9wcml2LT5wZXJmLm9wcy5lbmFibGVfbWV0cmljX3NldCA9IGdlbjhfZW5hYmxlX21ldHJpY19z
ZXQ7CiAJCQlkZXZfcHJpdi0+cGVyZi5vcHMuZGlzYWJsZV9tZXRyaWNfc2V0ID0gZ2VuMTBfZGlz
YWJsZV9tZXRyaWNfc2V0OwogCkBAIC0zNjY4LDYgKzM4NjEsMjMgQEAgdm9pZCBpOTE1X3BlcmZf
aW5pdChzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYpCiAJCQkJZGV2X3ByaXYtPnBl
cmYuY3R4X2ZsZXhldTBfb2Zmc2V0ID0gMHg3OGU7CiAJCQl9CiAJCQlkZXZfcHJpdi0+cGVyZi5n
ZW44X3ZhbGlkX2N0eF9iaXQgPSBCSVQoMTYpOworCQl9IGVsc2UgaWYgKElTX0dFTihkZXZfcHJp
diwgMTIpKSB7CisJCQlkZXZfcHJpdi0+cGVyZi5vcHMuaXNfdmFsaWRfYl9jb3VudGVyX3JlZyA9
CisJCQkJZ2VuMTJfaXNfdmFsaWRfYl9jb3VudGVyX2FkZHI7CisJCQlkZXZfcHJpdi0+cGVyZi5v
cHMuaXNfdmFsaWRfbXV4X3JlZyA9CisJCQkJZ2VuMTJfaXNfdmFsaWRfbXV4X2FkZHI7CisJCQlk
ZXZfcHJpdi0+cGVyZi5vcHMuaXNfdmFsaWRfZmxleF9yZWcgPQorCQkJCWdlbjhfaXNfdmFsaWRf
ZmxleF9hZGRyOworCisJCQlkZXZfcHJpdi0+cGVyZi5vcHMub2FfZW5hYmxlID0gZ2VuMTJfb2Ff
ZW5hYmxlOworCQkJZGV2X3ByaXYtPnBlcmYub3BzLm9hX2Rpc2FibGUgPSBnZW4xMl9vYV9kaXNh
YmxlOworCQkJZGV2X3ByaXYtPnBlcmYub3BzLmVuYWJsZV9tZXRyaWNfc2V0ID0gZ2VuMTJfZW5h
YmxlX21ldHJpY19zZXQ7CisJCQlkZXZfcHJpdi0+cGVyZi5vcHMuZGlzYWJsZV9tZXRyaWNfc2V0
ID0gZ2VuMTJfZGlzYWJsZV9tZXRyaWNfc2V0OworCisJCQlkZXZfcHJpdi0+cGVyZi5jdHhfb2Fj
dHhjdHJsX29mZnNldCA9IDB4MTRhOyAvKiBUbyB2ZXJpZnkgKi8KKwkJCWRldl9wcml2LT5wZXJm
LmN0eF9mbGV4ZXUwX29mZnNldCA9IDB4M2RlOyAvKiBUbyB2ZXJpZnkqLworCisJCQlkZXZfcHJp
di0+cGVyZi5nZW44X3ZhbGlkX2N0eF9iaXQgPSAoMSA8PCAxNik7CiAJCX0KIAl9CiAKZGlmZiAt
LWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfcmVnLmggYi9kcml2ZXJzL2dwdS9kcm0v
aTkxNS9pOTE1X3JlZy5oCmluZGV4IDE4OWNmYTA2NmNiNi4uNGM0MDIyMzliYmE3IDEwMDY0NAot
LS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3JlZy5oCisrKyBiL2RyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2k5MTVfcmVnLmgKQEAgLTY4NCw2ICs2ODQsNDQgQEAgc3RhdGljIGlubGluZSBib29s
IGk5MTVfbW1pb19yZWdfdmFsaWQoaTkxNV9yZWdfdCByZWcpCiAjZGVmaW5lIE9BQlVGRkVSX1NJ
WkVfOE0gICAgKDYgPDwgMykKICNkZWZpbmUgT0FCVUZGRVJfU0laRV8xNk0gICAoNyA8PCAzKQog
CisvKiBHZW4xMiBPQVIgdW5pdCAqLworI2RlZmluZSBHRU4xMl9PQVJfT0FDT05UUk9MIF9NTUlP
KDB4Mjk2MCkKKyNkZWZpbmUgIEdFTjEyX09BUl9PQUNPTlRST0xfQ09VTlRFUl9GT1JNQVRfU0hJ
RlQgMgorI2RlZmluZSAgR0VOMTJfT0FSX09BQ09OVFJPTF9DT1VOVEVSX0VOQUJMRSAgICAgICAo
MSA8PCAwKQorCisjZGVmaW5lIEdFTjEyX09BUl9PQVNUQVRVUyBfTU1JTygweDI5NjgpCisKKy8q
IEdlbjEyIE9BRyB1bml0ICovCisjZGVmaW5lIEdFTjEyX09BR19PQUhFQURQVFIgX01NSU8oMHhk
YjAwKQorI2RlZmluZSAgR0VOMTJfT0FHX09BSEVBRFBUUl9NQVNLIDB4ZmZmZmZmYzAKKyNkZWZp
bmUgR0VOMTJfT0FHX09BVEFJTFBUUiBfTU1JTygweGRiMDQpCisjZGVmaW5lICBHRU4xMl9PQUdf
T0FUQUlMUFRSX01BU0sgMHhmZmZmZmZjMAorCisjZGVmaW5lIEdFTjEyX09BR19PQUJVRkZFUiAg
X01NSU8oMHhkYjA4KQorI2RlZmluZSAgR0VOMTJfT0FHX09BQlVGRkVSX0JVRkZFUl9TSVpFX01B
U0sgICgweDcpCisjZGVmaW5lICBHRU4xMl9PQUdfT0FCVUZGRVJfQlVGRkVSX1NJWkVfU0hJRlQg
KDMpCisjZGVmaW5lICBHRU4xMl9PQUdfT0FCVUZGRVJfTUVNT1JZX1NFTEVDVCAgICAgKDEgPDwg
MCkgLyogMDogUFBHVFQsIDE6IEdHVFQgKi8KKworI2RlZmluZSBHRU4xMl9PQUdfT0FHTEJDVFhD
VFJMIF9NTUlPKDB4MmIyOCkKKyNkZWZpbmUgIEdFTjEyX09BR19PQUdMQkNUWENUUkxfVElNRVJf
UEVSSU9EX1NISUZUIDIKKyNkZWZpbmUgIEdFTjEyX09BR19PQUdMQkNUWENUUkxfVElNRVJfRU5B
QkxFICAgICAgICgxIDw8IDEpCisjZGVmaW5lICBHRU4xMl9PQUdfT0FHTEJDVFhDVFJMX0NPVU5U
RVJfUkVTVU1FICAgICAoMSA8PCAwKQorCisjZGVmaW5lIEdFTjEyX09BR19PQUNPTlRST0wgX01N
SU8oMHhkYWY0KQorI2RlZmluZSAgR0VOMTJfT0FHX09BQ09OVFJPTF9PQV9DT1VOVEVSX0ZPUk1B
VF9TSElGVCAyCisjZGVmaW5lICBHRU4xMl9PQUdfT0FDT05UUk9MX09BX0NPVU5URVJfRU5BQkxF
ICAgICAgICgxIDw8IDApCisKKyNkZWZpbmUgR0VOMTJfT0FHX09BX0RFQlVHIF9NTUlPKDB4ZGFm
OCkKKyNkZWZpbmUgIEdFTjEyX09BR19PQV9ERUJVR19JTkNMVURFX0NMS19SQVRJTyAgICAgICAg
ICAoMSA8PCA2KQorI2RlZmluZSAgR0VOMTJfT0FHX09BX0RFQlVHX0RJU0FCTEVfQ0xLX1JBVElP
X1JFUE9SVFMgICgxIDw8IDUpCisjZGVmaW5lICBHRU4xMl9PQUdfT0FfREVCVUdfRElTQUJMRV9H
T18xXzBfUkVQT1JUUyAgICAgKDEgPDwgMikKKyNkZWZpbmUgIEdFTjEyX09BR19PQV9ERUJVR19E
SVNBQkxFX0NUWF9TV0lUQ0hfUkVQT1JUUyAoMSA8PCAxKQorCisjZGVmaW5lIEdFTjEyX09BR19P
QVNUQVRVUyBfTU1JTygweGRhZmMpCisjZGVmaW5lICBHRU4xMl9PQUdfT0FTVEFUVVNfQ09VTlRF
Ul9PVkVSRkxPVyAoMSA8PCAyKQorI2RlZmluZSAgR0VOMTJfT0FHX09BU1RBVFVTX0JVRkZFUl9P
VkVSRkxPVyAgKDEgPDwgMSkKKyNkZWZpbmUgIEdFTjEyX09BR19PQVNUQVRVU19SRVBPUlRfTE9T
VCAgICAgICgxIDw8IDApCisKIC8qCiAgKiBGbGV4aWJsZSwgQWdncmVnYXRlIEVVIENvdW50ZXIg
UmVnaXN0ZXJzLgogICogTm90ZTogdGhlc2UgYXJlbid0IGNvbnRpZ3VvdXMKQEAgLTkyMCw2ICs5
NTgsMjYgQEAgc3RhdGljIGlubGluZSBib29sIGk5MTVfbW1pb19yZWdfdmFsaWQoaTkxNV9yZWdf
dCByZWcpCiAjZGVmaW5lIE9BUkVQT1JUVFJJRzhfTk9BX1NFTEVDVF82X1NISUZUICAgIDI0CiAj
ZGVmaW5lIE9BUkVQT1JUVFJJRzhfTk9BX1NFTEVDVF83X1NISUZUICAgIDI4CiAKKy8qIFNhbWUg
bGF5b3V0IGFzIE9BU1RBUlRUUklHWCAqLworI2RlZmluZSBHRU4xMl9PQUdfT0FTVEFSVFRSSUcx
IF9NTUlPKDB4ZDkwMCkKKyNkZWZpbmUgR0VOMTJfT0FHX09BU1RBUlRUUklHMiBfTU1JTygweGQ5
MDQpCisjZGVmaW5lIEdFTjEyX09BR19PQVNUQVJUVFJJRzMgX01NSU8oMHhkOTA4KQorI2RlZmlu
ZSBHRU4xMl9PQUdfT0FTVEFSVFRSSUc0IF9NTUlPKDB4ZDkwYykKKyNkZWZpbmUgR0VOMTJfT0FH
X09BU1RBUlRUUklHNSBfTU1JTygweGQ5MTApCisjZGVmaW5lIEdFTjEyX09BR19PQVNUQVJUVFJJ
RzYgX01NSU8oMHhkOTE0KQorI2RlZmluZSBHRU4xMl9PQUdfT0FTVEFSVFRSSUc3IF9NTUlPKDB4
ZDkxOCkKKyNkZWZpbmUgR0VOMTJfT0FHX09BU1RBUlRUUklHOCBfTU1JTygweGQ5MWMpCisKKy8q
IFNhbWUgbGF5b3V0IGFzIE9BUkVQT1JUVFJJR1ggKi8KKyNkZWZpbmUgR0VOMTJfT0FHX09BUkVQ
T1JUVFJJRzEgX01NSU8oMHhkOTIwKQorI2RlZmluZSBHRU4xMl9PQUdfT0FSRVBPUlRUUklHMiBf
TU1JTygweGQ5MjQpCisjZGVmaW5lIEdFTjEyX09BR19PQVJFUE9SVFRSSUczIF9NTUlPKDB4ZDky
OCkKKyNkZWZpbmUgR0VOMTJfT0FHX09BUkVQT1JUVFJJRzQgX01NSU8oMHhkOTJjKQorI2RlZmlu
ZSBHRU4xMl9PQUdfT0FSRVBPUlRUUklHNSBfTU1JTygweGQ5MzApCisjZGVmaW5lIEdFTjEyX09B
R19PQVJFUE9SVFRSSUc2IF9NTUlPKDB4ZDkzNCkKKyNkZWZpbmUgR0VOMTJfT0FHX09BUkVQT1JU
VFJJRzcgX01NSU8oMHhkOTM4KQorI2RlZmluZSBHRU4xMl9PQUdfT0FSRVBPUlRUUklHOCBfTU1J
TygweGQ5M2MpCisKIC8qIENFQ1hfMCAqLwogI2RlZmluZSBPQUNFQ19DT01QQVJFX0xFU1NfT1Jf
RVFVQUwJNgogI2RlZmluZSBPQUNFQ19DT01QQVJFX05PVF9FUVVBTAkJNQpAQCAtOTM2LDYgKzk5
NCwxMCBAQCBzdGF0aWMgaW5saW5lIGJvb2wgaTkxNV9tbWlvX3JlZ192YWxpZChpOTE1X3JlZ190
IHJlZykKICNkZWZpbmUgT0FDRUNfU0VMRUNUX1BSRVYJKDEgPDwgMTkpCiAjZGVmaW5lIE9BQ0VD
X1NFTEVDVF9CT09MRUFOCSgyIDw8IDE5KQogCisvKiAxMS1iaXQgYXJyYXkgMDogcGFzcy10aHJv
dWdoLCAxOiBuZWdhdGVkICovCisjZGVmaW5lIEdFTjEyX09BU0NFQ19ORUdBVEVfTUFTSyAgMHg3
ZmYKKyNkZWZpbmUgR0VOMTJfT0FTQ0VDX05FR0FURV9TSElGVCAyMQorCiAvKiBDRUNYXzEgKi8K
ICNkZWZpbmUgT0FDRUNfTUFTS19NQVNLCQkgICAgMHhmZmZmCiAjZGVmaW5lIE9BQ0VDX0NPTlNJ
REVSQVRJT05TX01BU0sgICAweGZmZmYKQEAgLTk1OCw2ICsxMDIwLDQyIEBAIHN0YXRpYyBpbmxp
bmUgYm9vbCBpOTE1X21taW9fcmVnX3ZhbGlkKGk5MTVfcmVnX3QgcmVnKQogI2RlZmluZSBPQUNF
QzdfMCBfTU1JTygweDI3YTgpCiAjZGVmaW5lIE9BQ0VDN18xIF9NTUlPKDB4MjdhYykKIAorLyog
U2FtZSBsYXlvdXQgYXMgQ0VDWF9ZICovCisjZGVmaW5lIEdFTjEyX09BR19DRUMwXzAgX01NSU8o
MHhkOTQwKQorI2RlZmluZSBHRU4xMl9PQUdfQ0VDMF8xIF9NTUlPKDB4ZDk0NCkKKyNkZWZpbmUg
R0VOMTJfT0FHX0NFQzFfMCBfTU1JTygweGQ5NDgpCisjZGVmaW5lIEdFTjEyX09BR19DRUMxXzEg
X01NSU8oMHhkOTRjKQorI2RlZmluZSBHRU4xMl9PQUdfQ0VDMl8wIF9NTUlPKDB4ZDk1MCkKKyNk
ZWZpbmUgR0VOMTJfT0FHX0NFQzJfMSBfTU1JTygweGQ5NTQpCisjZGVmaW5lIEdFTjEyX09BR19D
RUMzXzAgX01NSU8oMHhkOTU4KQorI2RlZmluZSBHRU4xMl9PQUdfQ0VDM18xIF9NTUlPKDB4ZDk1
YykKKyNkZWZpbmUgR0VOMTJfT0FHX0NFQzRfMCBfTU1JTygweGQ5NjApCisjZGVmaW5lIEdFTjEy
X09BR19DRUM0XzEgX01NSU8oMHhkOTY0KQorI2RlZmluZSBHRU4xMl9PQUdfQ0VDNV8wIF9NTUlP
KDB4ZDk2OCkKKyNkZWZpbmUgR0VOMTJfT0FHX0NFQzVfMSBfTU1JTygweGQ5NmMpCisjZGVmaW5l
IEdFTjEyX09BR19DRUM2XzAgX01NSU8oMHhkOTcwKQorI2RlZmluZSBHRU4xMl9PQUdfQ0VDNl8x
IF9NTUlPKDB4ZDk3NCkKKyNkZWZpbmUgR0VOMTJfT0FHX0NFQzdfMCBfTU1JTygweGQ5NzgpCisj
ZGVmaW5lIEdFTjEyX09BR19DRUM3XzEgX01NSU8oMHhkOTdjKQorCisvKiBTYW1lIGxheW91dCBh
cyBDRUNYX1kgKyBuZWdhdGUgMTEtYml0IGFycmF5ICovCisjZGVmaW5lIEdFTjEyX09BR19TQ0VD
MF8wIF9NTUlPKDB4ZGMwMCkKKyNkZWZpbmUgR0VOMTJfT0FHX1NDRUMwXzEgX01NSU8oMHhkYzA0
KQorI2RlZmluZSBHRU4xMl9PQUdfU0NFQzFfMCBfTU1JTygweGRjMDgpCisjZGVmaW5lIEdFTjEy
X09BR19TQ0VDMV8xIF9NTUlPKDB4ZGMwYykKKyNkZWZpbmUgR0VOMTJfT0FHX1NDRUMyXzAgX01N
SU8oMHhkYzEwKQorI2RlZmluZSBHRU4xMl9PQUdfU0NFQzJfMSBfTU1JTygweGRjMTQpCisjZGVm
aW5lIEdFTjEyX09BR19TQ0VDM18wIF9NTUlPKDB4ZGMxOCkKKyNkZWZpbmUgR0VOMTJfT0FHX1ND
RUMzXzEgX01NSU8oMHhkYzFjKQorI2RlZmluZSBHRU4xMl9PQUdfU0NFQzRfMCBfTU1JTygweGRj
MjApCisjZGVmaW5lIEdFTjEyX09BR19TQ0VDNF8xIF9NTUlPKDB4ZGMyNCkKKyNkZWZpbmUgR0VO
MTJfT0FHX1NDRUM1XzAgX01NSU8oMHhkYzI4KQorI2RlZmluZSBHRU4xMl9PQUdfU0NFQzVfMSBf
TU1JTygweGRjMmMpCisjZGVmaW5lIEdFTjEyX09BR19TQ0VDNl8wIF9NTUlPKDB4ZGMzMCkKKyNk
ZWZpbmUgR0VOMTJfT0FHX1NDRUM2XzEgX01NSU8oMHhkYzM0KQorI2RlZmluZSBHRU4xMl9PQUdf
U0NFQzdfMCBfTU1JTygweGRjMzgpCisjZGVmaW5lIEdFTjEyX09BR19TQ0VDN18xIF9NTUlPKDB4
ZGMzYykKKwogLyogT0EgcGVyZiBjb3VudGVycyAqLwogI2RlZmluZSBPQV9QRVJGQ05UMV9MTyAg
ICAgIF9NTUlPKDB4OTFCOCkKICNkZWZpbmUgT0FfUEVSRkNOVDFfSEkgICAgICBfTU1JTygweDkx
QkMpCkBAIC0xMDM4LDYgKzExMzYsMTAgQEAgc3RhdGljIGlubGluZSBib29sIGk5MTVfbW1pb19y
ZWdfdmFsaWQoaTkxNV9yZWdfdCByZWcpCiAjZGVmaW5lIE1JQ1JPX0JQM19DT1VOVF9TVEFUVVMy
MwlfTU1JTygweDk4MzgpCiAjZGVmaW5lIE1JQ1JPX0JQX0ZJUkVEX0FSTUVECQlfTU1JTygweDk4
M0MpCiAKKyNkZWZpbmUgR0VOMTJfT0FBX0RCR19SRUcgX01NSU8oMHhkYzQ0KQorI2RlZmluZSBH
RU4xMl9PQUdfT0FfUEVTUyBfTU1JTygweDJiMmMpCisjZGVmaW5lIEdFTjEyX09BR19TUENUUl9D
TkYgX01NSU8oMHhkYzQwKQorCiAjZGVmaW5lIEdEVF9DSElDS0VOX0JJVFMgICAgX01NSU8oMHg5
ODQwKQogI2RlZmluZSAgIEdUX05PQV9FTkFCTEUJICAgIDB4MDAwMDAwODAKIApkaWZmIC0tZ2l0
IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvb2EvaTkxNV9vYV90Z2wuYyBiL2RyaXZlcnMvZ3B1L2Ry
bS9pOTE1L29hL2k5MTVfb2FfdGdsLmMKbmV3IGZpbGUgbW9kZSAxMDA2NDQKaW5kZXggMDAwMDAw
MDAwMDAwLi44ODE5ZWYwNjUwYmYKLS0tIC9kZXYvbnVsbAorKysgYi9kcml2ZXJzL2dwdS9kcm0v
aTkxNS9vYS9pOTE1X29hX3RnbC5jCkBAIC0wLDAgKzEsMTEyIEBACisvLyBTUERYLUxpY2Vuc2Ut
SWRlbnRpZmllcjogTUlUCisvKgorICogQ29weXJpZ2h0IMKpIDIwMTggSW50ZWwgQ29ycG9yYXRp
b24KKyAqCisgKiBBdXRvZ2VuZXJhdGVkIGZpbGUgYnkgR1BVIFRvcCA6IGh0dHBzOi8vZ2l0aHVi
LmNvbS9yaWIvZ3B1dG9wCisgKiBETyBOT1QgRURJVCBtYW51YWxseSEKKyAqLworCisjaW5jbHVk
ZSA8bGludXgvc3lzZnMuaD4KKworI2luY2x1ZGUgImk5MTVfZHJ2LmgiCisjaW5jbHVkZSAiaTkx
NV9vYV90Z2wuaCIKKworc3RhdGljIGNvbnN0IHN0cnVjdCBpOTE1X29hX3JlZyBiX2NvdW50ZXJf
Y29uZmlnX3Rlc3Rfb2FbXSA9IHsKKwl7IF9NTUlPKDB4ZDkyMCksIDB4MDAwMDAwMDAgfSwKKwl7
IF9NTUlPKDB4ZDkwMCksIDB4MDAwMDAwMDAgfSwKKwl7IF9NTUlPKDB4ZDkwNCksIDB4ZjA4MDAw
MDAgfSwKKwl7IF9NTUlPKDB4ZDkxMCksIDB4MDAwMDAwMDAgfSwKKwl7IF9NTUlPKDB4ZDkxNCks
IDB4ZjA4MDAwMDAgfSwKKwl7IF9NTUlPKDB4ZGM0MCksIDB4MDBmZjAwMDAgfSwKKwl7IF9NTUlP
KDB4ZDk0MCksIDB4MDAwMDAwMDQgfSwKKwl7IF9NTUlPKDB4ZDk0NCksIDB4MDAwMGZmZmYgfSwK
Kwl7IF9NTUlPKDB4ZGMwMCksIDB4MDAwMDAwMDQgfSwKKwl7IF9NTUlPKDB4ZGMwNCksIDB4MDAw
MGZmZmYgfSwKKwl7IF9NTUlPKDB4ZDk0OCksIDB4MDAwMDAwMDMgfSwKKwl7IF9NTUlPKDB4ZDk0
YyksIDB4MDAwMGZmZmYgfSwKKwl7IF9NTUlPKDB4ZGMwOCksIDB4MDAwMDAwMDMgfSwKKwl7IF9N
TUlPKDB4ZGMwYyksIDB4MDAwMGZmZmYgfSwKKwl7IF9NTUlPKDB4ZDk1MCksIDB4MDAwMDAwMDcg
fSwKKwl7IF9NTUlPKDB4ZDk1NCksIDB4MDAwMGZmZmYgfSwKKwl7IF9NTUlPKDB4ZGMxMCksIDB4
MDAwMDAwMDcgfSwKKwl7IF9NTUlPKDB4ZGMxNCksIDB4MDAwMGZmZmYgfSwKKwl7IF9NTUlPKDB4
ZDk1OCksIDB4MDAxMDAwMDIgfSwKKwl7IF9NTUlPKDB4ZDk1YyksIDB4MDAwMGZmZjcgfSwKKwl7
IF9NTUlPKDB4ZGMxOCksIDB4MDAxMDAwMDIgfSwKKwl7IF9NTUlPKDB4ZGMxYyksIDB4MDAwMGZm
ZjcgfSwKKwl7IF9NTUlPKDB4ZDk2MCksIDB4MDAxMDAwMDIgfSwKKwl7IF9NTUlPKDB4ZDk2NCks
IDB4MDAwMGZmY2YgfSwKKwl7IF9NTUlPKDB4ZGMyMCksIDB4MDAxMDAwMDIgfSwKKwl7IF9NTUlP
KDB4ZGMyNCksIDB4MDAwMGZmY2YgfSwKKwl7IF9NTUlPKDB4ZDk2OCksIDB4MDAxMDAwODIgfSwK
Kwl7IF9NTUlPKDB4ZDk2YyksIDB4MDAwMGZmZWYgfSwKKwl7IF9NTUlPKDB4ZGMyOCksIDB4MDAx
MDAwODIgfSwKKwl7IF9NTUlPKDB4ZGMyYyksIDB4MDAwMGZmZWYgfSwKKwl7IF9NTUlPKDB4ZDk3
MCksIDB4MDAxMDAwYzIgfSwKKwl7IF9NTUlPKDB4ZDk3NCksIDB4MDAwMGZmZTcgfSwKKwl7IF9N
TUlPKDB4ZGMzMCksIDB4MDAxMDAwYzIgfSwKKwl7IF9NTUlPKDB4ZGMzNCksIDB4MDAwMGZmZTcg
fSwKKwl7IF9NTUlPKDB4ZDk3OCksIDB4MDAxMDAwMDEgfSwKKwl7IF9NTUlPKDB4ZDk3YyksIDB4
MDAwMGZmZTcgfSwKKwl7IF9NTUlPKDB4ZGMzOCksIDB4MDAxMDAwMDEgfSwKKwl7IF9NTUlPKDB4
ZGMzYyksIDB4MDAwMGZmZTcgfSwKKwl7IF9NTUlPKDB4MmIyYyksIDB4MDAwMDAwMDAgfSwKKwl7
IF9NTUlPKDB4ZDkyMCksIDB4MDAwMDAwMDAgfSwKKwl7IF9NTUlPKDB4ZDkyMCksIDB4MDAwMDAw
MDAgfSwKKwl7IF9NTUlPKDB4ZDkyMCksIDB4MDAwMDAwMDAgfSwKKwl7IF9NTUlPKDB4ZDkyMCks
IDB4MDAwMDAwMDAgfSwKK307CisKK3N0YXRpYyBjb25zdCBzdHJ1Y3QgaTkxNV9vYV9yZWcgZmxl
eF9ldV9jb25maWdfdGVzdF9vYVtdID0geworfTsKKworc3RhdGljIGNvbnN0IHN0cnVjdCBpOTE1
X29hX3JlZyBtdXhfY29uZmlnX3Rlc3Rfb2FbXSA9IHsKKwl7IF9NTUlPKDB4ZDA0KSwgMHgwMDAw
MDIwMCB9LAorCXsgX01NSU8oMHg5ODQwKSwgMHgwMDAwMDAwMCB9LAorCXsgX01NSU8oMHg5ODg0
KSwgMHgwMDAwMDAwMyB9LAorCXsgX01NSU8oMHg5ODg4KSwgMHg0OTExMDAwMCB9LAorCXsgX01N
SU8oMHg5ODg4KSwgMHg1ZDEwMDQwMCB9LAorCXsgX01NSU8oMHg5ODg4KSwgMHgxZDExMDNhMyB9
LAorCXsgX01NSU8oMHg5ODg4KSwgMHgwMTExMDAwMCB9LAorCXsgX01NSU8oMHg5ODg4KSwgMHg2
MTExMDAwMCB9LAorCXsgX01NSU8oMHg5ODg4KSwgMHgxNzEwMDAwMCB9LAorCXsgX01NSU8oMHg5
ODg4KSwgMHg1NTEwMDAwMCB9LAorCXsgX01NSU8oMHg5ODg4KSwgMHgzMTEwMDAwMCB9LAorCXsg
X01NSU8oMHg5ODg0KSwgMHgwMDAwMDAwMyB9LAorCXsgX01NSU8oMHg5ODg4KSwgMHg2NTEwMDAw
MiB9LAorCXsgX01NSU8oMHg5ODg0KSwgMHgwMDAwMDAwMCB9LAorCXsgX01NSU8oMHg5ODg4KSwg
MHg0MjAwMDAwMSB9LAorfTsKKworc3RhdGljIHNzaXplX3QKK3Nob3dfdGVzdF9vYV9pZChzdHJ1
Y3QgZGV2aWNlICprZGV2LCBzdHJ1Y3QgZGV2aWNlX2F0dHJpYnV0ZSAqYXR0ciwgY2hhciAqYnVm
KQoreworCXJldHVybiBzcHJpbnRmKGJ1ZiwgIjFcbiIpOworfQorCit2b2lkCitpOTE1X3BlcmZf
bG9hZF90ZXN0X2NvbmZpZ190Z2woc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2KQor
eworCXN0cmxjcHkoZGV2X3ByaXYtPnBlcmYudGVzdF9jb25maWcudXVpZCwKKwkJIjUzMzhlMjFk
LWY3OWMtNDljMi04OGQ2LTQ3ZTViODU4OTI5MSIsCisJCXNpemVvZihkZXZfcHJpdi0+cGVyZi50
ZXN0X2NvbmZpZy51dWlkKSk7CisJZGV2X3ByaXYtPnBlcmYudGVzdF9jb25maWcuaWQgPSAxOwor
CisJZGV2X3ByaXYtPnBlcmYudGVzdF9jb25maWcubXV4X3JlZ3MgPSBtdXhfY29uZmlnX3Rlc3Rf
b2E7CisJZGV2X3ByaXYtPnBlcmYudGVzdF9jb25maWcubXV4X3JlZ3NfbGVuID0gQVJSQVlfU0la
RShtdXhfY29uZmlnX3Rlc3Rfb2EpOworCisJZGV2X3ByaXYtPnBlcmYudGVzdF9jb25maWcuYl9j
b3VudGVyX3JlZ3MgPSBiX2NvdW50ZXJfY29uZmlnX3Rlc3Rfb2E7CisJZGV2X3ByaXYtPnBlcmYu
dGVzdF9jb25maWcuYl9jb3VudGVyX3JlZ3NfbGVuID0gQVJSQVlfU0laRShiX2NvdW50ZXJfY29u
ZmlnX3Rlc3Rfb2EpOworCisJZGV2X3ByaXYtPnBlcmYudGVzdF9jb25maWcuZmxleF9yZWdzID0g
ZmxleF9ldV9jb25maWdfdGVzdF9vYTsKKwlkZXZfcHJpdi0+cGVyZi50ZXN0X2NvbmZpZy5mbGV4
X3JlZ3NfbGVuID0gQVJSQVlfU0laRShmbGV4X2V1X2NvbmZpZ190ZXN0X29hKTsKKworCWRldl9w
cml2LT5wZXJmLnRlc3RfY29uZmlnLnN5c2ZzX21ldHJpYy5uYW1lID0gIjUzMzhlMjFkLWY3OWMt
NDljMi04OGQ2LTQ3ZTViODU4OTI5MSI7CisJZGV2X3ByaXYtPnBlcmYudGVzdF9jb25maWcuc3lz
ZnNfbWV0cmljLmF0dHJzID0gZGV2X3ByaXYtPnBlcmYudGVzdF9jb25maWcuYXR0cnM7CisKKwlk
ZXZfcHJpdi0+cGVyZi50ZXN0X2NvbmZpZy5hdHRyc1swXSA9ICZkZXZfcHJpdi0+cGVyZi50ZXN0
X2NvbmZpZy5zeXNmc19tZXRyaWNfaWQuYXR0cjsKKworCWRldl9wcml2LT5wZXJmLnRlc3RfY29u
ZmlnLnN5c2ZzX21ldHJpY19pZC5hdHRyLm5hbWUgPSAiaWQiOworCWRldl9wcml2LT5wZXJmLnRl
c3RfY29uZmlnLnN5c2ZzX21ldHJpY19pZC5hdHRyLm1vZGUgPSAwNDQ0OworCWRldl9wcml2LT5w
ZXJmLnRlc3RfY29uZmlnLnN5c2ZzX21ldHJpY19pZC5zaG93ID0gc2hvd190ZXN0X29hX2lkOwor
fQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvb2EvaTkxNV9vYV90Z2wuaCBiL2Ry
aXZlcnMvZ3B1L2RybS9pOTE1L29hL2k5MTVfb2FfdGdsLmgKbmV3IGZpbGUgbW9kZSAxMDA2NDQK
aW5kZXggMDAwMDAwMDAwMDAwLi40YzI1ZjBiZTgyNWMKLS0tIC9kZXYvbnVsbAorKysgYi9kcml2
ZXJzL2dwdS9kcm0vaTkxNS9vYS9pOTE1X29hX3RnbC5oCkBAIC0wLDAgKzEsMTYgQEAKKy8qIFNQ
RFgtTGljZW5zZS1JZGVudGlmaWVyOiBNSVQgKi8KKy8qCisgKiBDb3B5cmlnaHQgwqkgMjAxOCBJ
bnRlbCBDb3Jwb3JhdGlvbgorICoKKyAqIEF1dG9nZW5lcmF0ZWQgZmlsZSBieSBHUFUgVG9wIDog
aHR0cHM6Ly9naXRodWIuY29tL3JpYi9ncHV0b3AKKyAqIERPIE5PVCBFRElUIG1hbnVhbGx5IQor
ICovCisKKyNpZm5kZWYgX19JOTE1X09BX1RHTF9IX18KKyNkZWZpbmUgX19JOTE1X09BX1RHTF9I
X18KKworc3RydWN0IGRybV9pOTE1X3ByaXZhdGU7CisKK3ZvaWQgaTkxNV9wZXJmX2xvYWRfdGVz
dF9jb25maWdfdGdsKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdik7CisKKyNlbmRp
ZgotLSAKMi4yMS4wCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fXwpJbnRlbC1nZnggbWFpbGluZyBsaXN0CkludGVsLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5v
cmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9pbnRlbC1n
Zng=

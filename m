Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id BB35690BCE
	for <lists+intel-gfx@lfdr.de>; Sat, 17 Aug 2019 02:51:10 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 07E426E3F0;
	Sat, 17 Aug 2019 00:51:09 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga03.intel.com (mga03.intel.com [134.134.136.65])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 9CB656E3F0
 for <intel-gfx@lists.freedesktop.org>; Sat, 17 Aug 2019 00:51:07 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga004.jf.intel.com ([10.7.209.38])
 by orsmga103.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 16 Aug 2019 17:51:06 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.64,395,1559545200"; d="scan'208";a="328832183"
Received: from mdroper-desk.fm.intel.com ([10.105.128.126])
 by orsmga004.jf.intel.com with ESMTP; 16 Aug 2019 17:51:06 -0700
From: Matt Roper <matthew.d.roper@intel.com>
To: intel-gfx@lists.freedesktop.org
Date: Fri, 16 Aug 2019 17:50:41 -0700
Message-Id: <20190817005041.20651-1-matthew.d.roper@intel.com>
X-Mailer: git-send-email 2.20.1
In-Reply-To: <20190815223916.12288-1-matthew.d.roper@intel.com>
References: <20190815223916.12288-1-matthew.d.roper@intel.com>
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH v3] drm/i915/gen11: Allow usage of all GPIO pins
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: Jani Nikula <jani.nikula@intel.com>,
 Lucas De Marchi <lucas.demarchi@intel.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

T3VyIHBpbiBtYXBwaW5nIHRhYmxlcyBmb3IgSUNQIGFuZCBNQ0MgY3VycmVudGx5IG9ubHkgbGlz
dCB0aGUgc3RhbmRhcmQKR1BJTyBwaW5zIHVzZWQgZm9yIHZhcmlvdXMgb3V0cHV0IHBvcnRzLiAg
RXZlbiB0aHJvdWdoIElDUCdzIHN0YW5kYXJkCnBpbiB1c2FnZSBvbmx5IHV0aWxpemVzIHBpbnMg
MSwgMiwgYW5kIDktMTIsIGFuZCBNQ0MncyBzdGFuZGFyZCBwaW4KdXNhZ2Ugb25seSB1c2VzIHBp
bnMgMSwgMiwgYW5kIDksIHRoZXNlIHBsYXRmb3JtcyBkbyBzdGlsbCBoYXZlIEdQSU8KcmVnaXN0
ZXJzIHRvIGFkZHJlc3MgcGlucyBpbiB0aGUgcmFuZ2UgMS0zIGFuZCA5LTE0LiAgT0VNJ3MgbWF5
IHJlbWFwCkdQSU8gdXNhZ2UgaW4gbm9uLXN0YW5kYXJkIHdheXMgKGFuZCBwcm92aWRlIHRoZSBh
Y3R1YWwgbWFwcGluZyB2aWEgVkJUCnNldHRpbmdzKSwgc28gd2Ugc2hvdWxkbid0IGV4Y2x1ZGUg
cGlucyBvbiB0aGVzZSBwbGF0Zm9ybXMganVzdCBiZWNhdXNlCnRoZXkgYXJlbid0IHBhcnQgb2Yg
dGhlIHN0YW5kYXJkIG1hcHBpbmdzLgoKVEdQJ3Mgc3RhbmRhcmQgcGluIHRhYmxlcyBjb250YWlu
cyBhbGwgdGhlIHBvc3NpYmxlIHBpbnMsIHNvIGxldCdzCnJlbmFtZSB0aGVtIHRvICJpY3AiIGFu
ZCB1c2UgdGhlbSBmb3IgYWxsIFBDSCA+PSBQQ0hfSUNQLiAgVGhpcyB3aWxsCnByZXZlbnQgaW50
ZWxfZ21idXNfaXNfdmFsaWRfcGluIGZyb20gcmVqZWN0aW5nIG5vbi1zdGFuZGFyZCBwaW4gdXNh
Z2UKdGhhdCBhbiBPRU0gc3BlY2lmaWVzIHZpYSB0aGUgVkJULgoKTm90ZSB0aGF0IHRoaXMgd2ls
bCBjYXVzZSBwaW4gOSB0byBiZSBsYWJlbGVkIGFzICJ0YzEiIGluc3RlYWQgb2YgImRwYyIKaW4g
ZGVidWcgbWVzc2FnZXMgb24gcGxhdGZvcm1zIHdpdGggdGhlIE1DQyBQQ0gsIGJ1dCB0aGF0IG1h
eSBhY3R1YWxseQpoZWxwIGF2b2lkIGNvbmZ1c2lvbiBzaW5jZSB0aGUgdGV4dCBzdHJpbmdzIHdp
bGwgbm93IGJlIHRoZSBzYW1lIG9uIGFsbApnZW4xMSsgcGxhdGZvcm1zIGluc3RlYWQgb2YgYmVp
bmcgZGlmZmVyZW50IG9uIGp1c3QgRUhMLgoKdjI6IERyb3Agbm93LXVudXNlZCBNQ0NfRERDX0JV
U19ERElfKiBuYW1lcy4KCnYzOiBXZSB3YW50IHRvIGNvbXBhcmUgYWdhaW5zdCBJTlRFTF9QQ0hf
VFlQRSwgbm90IElOVEVMX1BDSF9JRC4KCkJzcGVjOiA4NDE3CkNjOiBKb3PDqSBSb2JlcnRvIGRl
IFNvdXphIDxqb3NlLnNvdXphQGludGVsLmNvbT4KQ2M6IEx1Y2FzIERlIE1hcmNoaSA8bHVjYXMu
ZGVtYXJjaGlAaW50ZWwuY29tPgpDYzogVml2ZWsgS2FzaXJlZGR5IDx2aXZlay5rYXNpcmVkZHlA
aW50ZWwuY29tPgpDYzogSmFuaSBOaWt1bGEgPGphbmkubmlrdWxhQGludGVsLmNvbT4KU2lnbmVk
LW9mZi1ieTogTWF0dCBSb3BlciA8bWF0dGhldy5kLnJvcGVyQGludGVsLmNvbT4KUmV2aWV3ZWQt
Ynk6IEpvc8OpIFJvYmVydG8gZGUgU291emEgPGpvc2Uuc291emFAaW50ZWwuY29tPgotLS0KIGRy
aXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfYmlvcy5jICAgICB8IDIzICstLS0tLS0t
LS0tLS0tLS0KIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZ21idXMuYyAgICB8
IDI3ICsrLS0tLS0tLS0tLS0tLS0tLS0KIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50
ZWxfdmJ0X2RlZnMuaCB8ICAzIC0tLQogMyBmaWxlcyBjaGFuZ2VkLCAzIGluc2VydGlvbnMoKyks
IDUwIGRlbGV0aW9ucygtKQoKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3Bs
YXkvaW50ZWxfYmlvcy5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9iaW9z
LmMKaW5kZXggYjQxNmIzOTRiNjQxLi5lZmIzOWYzNTBiMTkgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMv
Z3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfYmlvcy5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9p
OTE1L2Rpc3BsYXkvaW50ZWxfYmlvcy5jCkBAIC0xMzQxLDIxICsxMzQxLDYgQEAgc3RhdGljIGNv
bnN0IHU4IGNucF9kZGNfcGluX21hcFtdID0gewogfTsKIAogc3RhdGljIGNvbnN0IHU4IGljcF9k
ZGNfcGluX21hcFtdID0gewotCVtJQ0xfRERDX0JVU19ERElfQV0gPSBHTUJVU19QSU5fMV9CWFQs
Ci0JW0lDTF9ERENfQlVTX0RESV9CXSA9IEdNQlVTX1BJTl8yX0JYVCwKLQlbSUNMX0REQ19CVVNf
UE9SVF8xXSA9IEdNQlVTX1BJTl85X1RDMV9JQ1AsCi0JW0lDTF9ERENfQlVTX1BPUlRfMl0gPSBH
TUJVU19QSU5fMTBfVEMyX0lDUCwKLQlbSUNMX0REQ19CVVNfUE9SVF8zXSA9IEdNQlVTX1BJTl8x
MV9UQzNfSUNQLAotCVtJQ0xfRERDX0JVU19QT1JUXzRdID0gR01CVVNfUElOXzEyX1RDNF9JQ1As
Ci19OwotCi1zdGF0aWMgY29uc3QgdTggbWNjX2RkY19waW5fbWFwW10gPSB7Ci0JW01DQ19ERENf
QlVTX0RESV9BXSA9IEdNQlVTX1BJTl8xX0JYVCwKLQlbTUNDX0REQ19CVVNfRERJX0JdID0gR01C
VVNfUElOXzJfQlhULAotCVtNQ0NfRERDX0JVU19ERElfQ10gPSBHTUJVU19QSU5fOV9UQzFfSUNQ
LAotfTsKLQotc3RhdGljIGNvbnN0IHU4IHRncF9kZGNfcGluX21hcFtdID0gewogCVtJQ0xfRERD
X0JVU19ERElfQV0gPSBHTUJVU19QSU5fMV9CWFQsCiAJW0lDTF9ERENfQlVTX0RESV9CXSA9IEdN
QlVTX1BJTl8yX0JYVCwKIAlbVEdMX0REQ19CVVNfRERJX0NdID0gR01CVVNfUElOXzNfQlhULApA
QCAtMTM3MiwxMyArMTM1Nyw3IEBAIHN0YXRpYyB1OCBtYXBfZGRjX3BpbihzdHJ1Y3QgZHJtX2k5
MTVfcHJpdmF0ZSAqZGV2X3ByaXYsIHU4IHZidF9waW4pCiAJY29uc3QgdTggKmRkY19waW5fbWFw
OwogCWludCBuX2VudHJpZXM7CiAKLQlpZiAoSEFTX1BDSF9UR1AoZGV2X3ByaXYpKSB7Ci0JCWRk
Y19waW5fbWFwID0gdGdwX2RkY19waW5fbWFwOwotCQluX2VudHJpZXMgPSBBUlJBWV9TSVpFKHRn
cF9kZGNfcGluX21hcCk7Ci0JfSBlbHNlIGlmIChIQVNfUENIX01DQyhkZXZfcHJpdikpIHsKLQkJ
ZGRjX3Bpbl9tYXAgPSBtY2NfZGRjX3Bpbl9tYXA7Ci0JCW5fZW50cmllcyA9IEFSUkFZX1NJWkUo
bWNjX2RkY19waW5fbWFwKTsKLQl9IGVsc2UgaWYgKEhBU19QQ0hfSUNQKGRldl9wcml2KSkgewor
CWlmIChJTlRFTF9QQ0hfVFlQRShkZXZfcHJpdikgPj0gUENIX0lDUCkgewogCQlkZGNfcGluX21h
cCA9IGljcF9kZGNfcGluX21hcDsKIAkJbl9lbnRyaWVzID0gQVJSQVlfU0laRShpY3BfZGRjX3Bp
bl9tYXApOwogCX0gZWxzZSBpZiAoSEFTX1BDSF9DTlAoZGV2X3ByaXYpKSB7CmRpZmYgLS1naXQg
YS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2dtYnVzLmMgYi9kcml2ZXJzL2dw
dS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2dtYnVzLmMKaW5kZXggMWUyN2IxOGFhM2ZjLi5kNjc3
NWEwMDU3MjYgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxf
Z21idXMuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2dtYnVzLmMK
QEAgLTgwLDIxICs4MCw2IEBAIHN0YXRpYyBjb25zdCBzdHJ1Y3QgZ21idXNfcGluIGdtYnVzX3Bp
bnNfY25wW10gPSB7CiB9OwogCiBzdGF0aWMgY29uc3Qgc3RydWN0IGdtYnVzX3BpbiBnbWJ1c19w
aW5zX2ljcFtdID0gewotCVtHTUJVU19QSU5fMV9CWFRdID0geyAiZHBhIiwgR1BJT0IgfSwKLQlb
R01CVVNfUElOXzJfQlhUXSA9IHsgImRwYiIsIEdQSU9DIH0sCi0JW0dNQlVTX1BJTl85X1RDMV9J
Q1BdID0geyAidGMxIiwgR1BJT0ogfSwKLQlbR01CVVNfUElOXzEwX1RDMl9JQ1BdID0geyAidGMy
IiwgR1BJT0sgfSwKLQlbR01CVVNfUElOXzExX1RDM19JQ1BdID0geyAidGMzIiwgR1BJT0wgfSwK
LQlbR01CVVNfUElOXzEyX1RDNF9JQ1BdID0geyAidGM0IiwgR1BJT00gfSwKLX07Ci0KLXN0YXRp
YyBjb25zdCBzdHJ1Y3QgZ21idXNfcGluIGdtYnVzX3BpbnNfbWNjW10gPSB7Ci0JW0dNQlVTX1BJ
Tl8xX0JYVF0gPSB7ICJkcGEiLCBHUElPQiB9LAotCVtHTUJVU19QSU5fMl9CWFRdID0geyAiZHBi
IiwgR1BJT0MgfSwKLQlbR01CVVNfUElOXzlfVEMxX0lDUF0gPSB7ICJkcGMiLCBHUElPSiB9LAot
fTsKLQotc3RhdGljIGNvbnN0IHN0cnVjdCBnbWJ1c19waW4gZ21idXNfcGluc190Z3BbXSA9IHsK
IAlbR01CVVNfUElOXzFfQlhUXSA9IHsgImRwYSIsIEdQSU9CIH0sCiAJW0dNQlVTX1BJTl8yX0JY
VF0gPSB7ICJkcGIiLCBHUElPQyB9LAogCVtHTUJVU19QSU5fM19CWFRdID0geyAiZHBjIiwgR1BJ
T0QgfSwKQEAgLTExMCwxMSArOTUsNyBAQCBzdGF0aWMgY29uc3Qgc3RydWN0IGdtYnVzX3BpbiBn
bWJ1c19waW5zX3RncFtdID0gewogc3RhdGljIGNvbnN0IHN0cnVjdCBnbWJ1c19waW4gKmdldF9n
bWJ1c19waW4oc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2LAogCQkJCQkgICAgIHVu
c2lnbmVkIGludCBwaW4pCiB7Ci0JaWYgKEhBU19QQ0hfVEdQKGRldl9wcml2KSkKLQkJcmV0dXJu
ICZnbWJ1c19waW5zX3RncFtwaW5dOwotCWVsc2UgaWYgKEhBU19QQ0hfTUNDKGRldl9wcml2KSkK
LQkJcmV0dXJuICZnbWJ1c19waW5zX21jY1twaW5dOwotCWVsc2UgaWYgKEhBU19QQ0hfSUNQKGRl
dl9wcml2KSkKKwlpZiAoSU5URUxfUENIX1RZUEUoZGV2X3ByaXYpID49IFBDSF9JQ1ApCiAJCXJl
dHVybiAmZ21idXNfcGluc19pY3BbcGluXTsKIAllbHNlIGlmIChIQVNfUENIX0NOUChkZXZfcHJp
dikpCiAJCXJldHVybiAmZ21idXNfcGluc19jbnBbcGluXTsKQEAgLTEzMywxMSArMTE0LDcgQEAg
Ym9vbCBpbnRlbF9nbWJ1c19pc192YWxpZF9waW4oc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRl
dl9wcml2LAogewogCXVuc2lnbmVkIGludCBzaXplOwogCi0JaWYgKEhBU19QQ0hfVEdQKGRldl9w
cml2KSkKLQkJc2l6ZSA9IEFSUkFZX1NJWkUoZ21idXNfcGluc190Z3ApOwotCWVsc2UgaWYgKEhB
U19QQ0hfTUNDKGRldl9wcml2KSkKLQkJc2l6ZSA9IEFSUkFZX1NJWkUoZ21idXNfcGluc19tY2Mp
OwotCWVsc2UgaWYgKEhBU19QQ0hfSUNQKGRldl9wcml2KSkKKwlpZiAoSU5URUxfUENIX1RZUEUo
ZGV2X3ByaXYpID49IFBDSF9JQ1ApCiAJCXNpemUgPSBBUlJBWV9TSVpFKGdtYnVzX3BpbnNfaWNw
KTsKIAllbHNlIGlmIChIQVNfUENIX0NOUChkZXZfcHJpdikpCiAJCXNpemUgPSBBUlJBWV9TSVpF
KGdtYnVzX3BpbnNfY25wKTsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3Bs
YXkvaW50ZWxfdmJ0X2RlZnMuaCBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxf
dmJ0X2RlZnMuaAppbmRleCAwOWNkMzdmYjBiMWMuLmRmY2QxNTZiNTA5NCAxMDA2NDQKLS0tIGEv
ZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF92YnRfZGVmcy5oCisrKyBiL2RyaXZl
cnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfdmJ0X2RlZnMuaApAQCAtMzE3LDkgKzMxNyw2
IEBAIGVudW0gdmJ0X2dtYnVzX2RkaSB7CiAJSUNMX0REQ19CVVNfUE9SVF80LAogCVRHTF9ERENf
QlVTX1BPUlRfNSwKIAlUR0xfRERDX0JVU19QT1JUXzYsCi0JTUNDX0REQ19CVVNfRERJX0EgPSAw
eDEsCi0JTUNDX0REQ19CVVNfRERJX0IsCi0JTUNDX0REQ19CVVNfRERJX0MgPSAweDQsCiB9Owog
CiAjZGVmaW5lIERQX0FVWF9BIDB4NDAKLS0gCjIuMjAuMQoKX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX18KSW50ZWwtZ2Z4IG1haWxpbmcgbGlzdApJbnRlbC1n
ZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21h
aWxtYW4vbGlzdGluZm8vaW50ZWwtZ2Z4

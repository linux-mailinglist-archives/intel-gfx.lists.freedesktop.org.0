Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id A5FA5CFEE8
	for <lists+intel-gfx@lfdr.de>; Tue,  8 Oct 2019 18:28:52 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 07B726E85D;
	Tue,  8 Oct 2019 16:28:51 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga14.intel.com (mga14.intel.com [192.55.52.115])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 4D6136E85D
 for <intel-gfx@lists.freedesktop.org>; Tue,  8 Oct 2019 16:28:49 +0000 (UTC)
X-Amp-Result: UNKNOWN
X-Amp-Original-Verdict: FILE UNKNOWN
X-Amp-File-Uploaded: False
Received: from orsmga006.jf.intel.com ([10.7.209.51])
 by fmsmga103.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 08 Oct 2019 09:28:48 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.67,270,1566889200"; d="scan'208";a="197741283"
Received: from stinkbox.fi.intel.com (HELO stinkbox) ([10.237.72.174])
 by orsmga006.jf.intel.com with SMTP; 08 Oct 2019 09:28:46 -0700
Received: by stinkbox (sSMTP sendmail emulation);
 Tue, 08 Oct 2019 19:28:45 +0300
Date: Tue, 8 Oct 2019 19:28:45 +0300
From: Ville =?iso-8859-1?Q?Syrj=E4l=E4?= <ville.syrjala@linux.intel.com>
To: Matt Roper <matthew.d.roper@intel.com>
Message-ID: <20191008162845.GR1208@intel.com>
References: <20191008161252.1411-1-matthew.d.roper@intel.com>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <20191008161252.1411-1-matthew.d.roper@intel.com>
User-Agent: Mutt/1.10.1 (2018-07-13)
Subject: Re: [Intel-gfx] [PATCH] drm/i915: Select DPLL's via mask
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: intel-gfx@lists.freedesktop.org, Lucas De Marchi <lucas.demarchi@intel.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

T24gVHVlLCBPY3QgMDgsIDIwMTkgYXQgMDk6MTI6NTJBTSAtMDcwMCwgTWF0dCBSb3BlciB3cm90
ZToKPiBUaGlzIHNsaWdodGx5IHNpbXBsaWZpZXMgdGhlIEVITCBEUExMNCBoYW5kbGluZyBhbmQg
YWxzbyBnaXZlcyB1cyBtb3JlCj4gZmxleGliaWxpdHkgaW4gdGhlIGZ1dHVyZSBpbiBjYXNlIHdl
IG5lZWQgdG8gc2tpcCB0aGUgdXNlIG9mIHNwZWNpZmljCj4gUExMJ3MgKGUuZy4sIGR1ZSB0byBo
YXJkd2FyZSB3b3JrYXJvdW5kcyBhbmQgc3VjaCkuCj4gCj4gQ2M6IEx1Y2FzIERlIE1hcmNoaSA8
bHVjYXMuZGVtYXJjaGlAaW50ZWwuY29tPgo+IFNpZ25lZC1vZmYtYnk6IE1hdHQgUm9wZXIgPG1h
dHRoZXcuZC5yb3BlckBpbnRlbC5jb20+Cj4gLS0tCj4gIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2Rp
c3BsYXkvaW50ZWxfZHBsbF9tZ3IuYyB8IDQyICsrKysrKysrKy0tLS0tLS0tLS0KPiAgMSBmaWxl
IGNoYW5nZWQsIDIwIGluc2VydGlvbnMoKyksIDIyIGRlbGV0aW9ucygtKQo+IAo+IGRpZmYgLS1n
aXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2RwbGxfbWdyLmMgYi9kcml2
ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2RwbGxfbWdyLmMKPiBpbmRleCA1ZTllODRj
OTRhMTUuLjE0ZTA0MDY1OGIxMiAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9k
aXNwbGF5L2ludGVsX2RwbGxfbWdyLmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNw
bGF5L2ludGVsX2RwbGxfbWdyLmMKPiBAQCAtMjQ3LDggKzI0Nyw3IEBAIHN0YXRpYyBzdHJ1Y3Qg
aW50ZWxfc2hhcmVkX2RwbGwgKgo+ICBpbnRlbF9maW5kX3NoYXJlZF9kcGxsKHN0cnVjdCBpbnRl
bF9hdG9taWNfc3RhdGUgKnN0YXRlLAo+ICAJCSAgICAgICBjb25zdCBzdHJ1Y3QgaW50ZWxfY3J0
YyAqY3J0YywKPiAgCQkgICAgICAgY29uc3Qgc3RydWN0IGludGVsX2RwbGxfaHdfc3RhdGUgKnBs
bF9zdGF0ZSwKPiAtCQkgICAgICAgZW51bSBpbnRlbF9kcGxsX2lkIHJhbmdlX21pbiwKPiAtCQkg
ICAgICAgZW51bSBpbnRlbF9kcGxsX2lkIHJhbmdlX21heCkKPiArCQkgICAgICAgdW5zaWduZWQg
bG9uZyBkcGxsX21hc2spCgpJIGRvbid0IGxpa2Ugc2VlaW5nIGxvbmUgbG9uZ3MgaGFuZ2luZyBh
cm91bmQgc2luY2UgdGhleQpjaGFuZ2UgbWVhbmluZyBiZXR3ZWVuIDMyYml0IGFuZCA2NGJpdCBi
dWlsZHMuIEFsd2F5cyBtYWtlcwptZSBzdXNwaWNpb3VzLgoKPiAgewo+ICAJc3RydWN0IGRybV9p
OTE1X3ByaXZhdGUgKmRldl9wcml2ID0gdG9faTkxNShjcnRjLT5iYXNlLmRldik7Cj4gIAlzdHJ1
Y3QgaW50ZWxfc2hhcmVkX2RwbGwgKnBsbCwgKnVudXNlZF9wbGwgPSBOVUxMOwo+IEBAIC0yNTcs
NyArMjU2LDkgQEAgaW50ZWxfZmluZF9zaGFyZWRfZHBsbChzdHJ1Y3QgaW50ZWxfYXRvbWljX3N0
YXRlICpzdGF0ZSwKPiAgCj4gIAlzaGFyZWRfZHBsbCA9IGludGVsX2F0b21pY19nZXRfc2hhcmVk
X2RwbGxfc3RhdGUoJnN0YXRlLT5iYXNlKTsKPiAgCj4gLQlmb3IgKGkgPSByYW5nZV9taW47IGkg
PD0gcmFuZ2VfbWF4OyBpKyspIHsKPiArCVdBUk5fT04oZHBsbF9tYXNrICYgfihCSVQoSTkxNV9O
VU1fUExMUykgLSAxKSk7Cj4gKwo+ICsJZm9yX2VhY2hfc2V0X2JpdChpLCAmZHBsbF9tYXNrLCBJ
OTE1X05VTV9QTExTKSB7CgpCdXQgSSBndWVzcyB0aGlzIGd1eSBkZW1hbmRzIG9uZSA6KAoKPiAg
CQlwbGwgPSAmZGV2X3ByaXYtPnNoYXJlZF9kcGxsc1tpXTsKPiAgCj4gIAkJLyogT25seSB3YW50
IHRvIGNoZWNrIGVuYWJsZWQgdGltaW5ncyBmaXJzdCAqLwo+IEBAIC00NjQsOCArNDY1LDggQEAg
c3RhdGljIGJvb2wgaWJ4X2dldF9kcGxsKHN0cnVjdCBpbnRlbF9hdG9taWNfc3RhdGUgKnN0YXRl
LAo+ICAJfSBlbHNlIHsKPiAgCQlwbGwgPSBpbnRlbF9maW5kX3NoYXJlZF9kcGxsKHN0YXRlLCBj
cnRjLAo+ICAJCQkJCSAgICAgJmNydGNfc3RhdGUtPmRwbGxfaHdfc3RhdGUsCj4gLQkJCQkJICAg
ICBEUExMX0lEX1BDSF9QTExfQSwKPiAtCQkJCQkgICAgIERQTExfSURfUENIX1BMTF9CKTsKPiAr
CQkJCQkgICAgIEdFTk1BU0soRFBMTF9JRF9QQ0hfUExMX0IsCj4gKwkJCQkJCSAgICAgRFBMTF9J
RF9QQ0hfUExMX0EpKTsKCkkgd29uZGVyIGlmIGl0IHdvdWxkbid0IGJlIGJldHRlciB0byBhbHdh
eXMgZG8gQklUKEEpfEJJVChCKS4uLgpzbyB0aGF0IHdlIHdvbid0IGdldCBiaXR0ZW4gaWYgc29t
ZW9uZSBldmVyIGluc2VydHMgbmV3IERQTEwgCklEcyBpbiB0aGUgbWlkZGxlIG9mIHRoZSBlbnVt
PwoKQW55d2F5cywgc2VlbXMgYXQgbGVhc3QgYXMgZ29vZCBhcyB0aGUgY3VycmVudCB0aGluZzoK
UmV2aWV3ZWQtYnk6IFZpbGxlIFN5cmrDpGzDpCA8dmlsbGUuc3lyamFsYUBsaW51eC5pbnRlbC5j
b20+Cgo+ICAJfQo+ICAKPiAgCWlmICghcGxsKQo+IEBAIC04MTQsNyArODE1LDcgQEAgaHN3X2Rk
aV9oZG1pX2dldF9kcGxsKHN0cnVjdCBpbnRlbF9hdG9taWNfc3RhdGUgKnN0YXRlLAo+ICAKPiAg
CXBsbCA9IGludGVsX2ZpbmRfc2hhcmVkX2RwbGwoc3RhdGUsIGNydGMsCj4gIAkJCQkgICAgICZj
cnRjX3N0YXRlLT5kcGxsX2h3X3N0YXRlLAo+IC0JCQkJICAgICBEUExMX0lEX1dSUExMMSwgRFBM
TF9JRF9XUlBMTDIpOwo+ICsJCQkJICAgICBHRU5NQVNLKERQTExfSURfV1JQTEwyLCBEUExMX0lE
X1dSUExMMSkpOwo+ICAKPiAgCWlmICghcGxsKQo+ICAJCXJldHVybiBOVUxMOwo+IEBAIC04Nzcs
NyArODc4LDcgQEAgc3RhdGljIGJvb2wgaHN3X2dldF9kcGxsKHN0cnVjdCBpbnRlbF9hdG9taWNf
c3RhdGUgKnN0YXRlLAo+ICAKPiAgCQlwbGwgPSBpbnRlbF9maW5kX3NoYXJlZF9kcGxsKHN0YXRl
LCBjcnRjLAo+ICAJCQkJCSAgICAgJmNydGNfc3RhdGUtPmRwbGxfaHdfc3RhdGUsCj4gLQkJCQkJ
ICAgICBEUExMX0lEX1NQTEwsIERQTExfSURfU1BMTCk7Cj4gKwkJCQkJICAgICBCSVQoRFBMTF9J
RF9TUExMKSk7Cj4gIAl9IGVsc2Ugewo+ICAJCXJldHVybiBmYWxzZTsKPiAgCX0KPiBAQCAtMTQ0
NywxMyArMTQ0OCwxMiBAQCBzdGF0aWMgYm9vbCBza2xfZ2V0X2RwbGwoc3RydWN0IGludGVsX2F0
b21pY19zdGF0ZSAqc3RhdGUsCj4gIAlpZiAoaW50ZWxfY3J0Y19oYXNfdHlwZShjcnRjX3N0YXRl
LCBJTlRFTF9PVVRQVVRfRURQKSkKPiAgCQlwbGwgPSBpbnRlbF9maW5kX3NoYXJlZF9kcGxsKHN0
YXRlLCBjcnRjLAo+ICAJCQkJCSAgICAgJmNydGNfc3RhdGUtPmRwbGxfaHdfc3RhdGUsCj4gLQkJ
CQkJICAgICBEUExMX0lEX1NLTF9EUExMMCwKPiAtCQkJCQkgICAgIERQTExfSURfU0tMX0RQTEww
KTsKPiArCQkJCQkgICAgIEJJVChEUExMX0lEX1NLTF9EUExMMCkpOwo+ICAJZWxzZQo+ICAJCXBs
bCA9IGludGVsX2ZpbmRfc2hhcmVkX2RwbGwoc3RhdGUsIGNydGMsCj4gIAkJCQkJICAgICAmY3J0
Y19zdGF0ZS0+ZHBsbF9od19zdGF0ZSwKPiAtCQkJCQkgICAgIERQTExfSURfU0tMX0RQTEwxLAo+
IC0JCQkJCSAgICAgRFBMTF9JRF9TS0xfRFBMTDMpOwo+ICsJCQkJCSAgICAgR0VOTUFTSyhEUExM
X0lEX1NLTF9EUExMMywKPiArCQkJCQkJICAgICAgRFBMTF9JRF9TS0xfRFBMTDEpKTsKPiAgCWlm
ICghcGxsKQo+ICAJCXJldHVybiBmYWxzZTsKPiAgCj4gQEAgLTI0MDEsOCArMjQwMSw4IEBAIHN0
YXRpYyBib29sIGNubF9nZXRfZHBsbChzdHJ1Y3QgaW50ZWxfYXRvbWljX3N0YXRlICpzdGF0ZSwK
PiAgCj4gIAlwbGwgPSBpbnRlbF9maW5kX3NoYXJlZF9kcGxsKHN0YXRlLCBjcnRjLAo+ICAJCQkJ
ICAgICAmY3J0Y19zdGF0ZS0+ZHBsbF9od19zdGF0ZSwKPiAtCQkJCSAgICAgRFBMTF9JRF9TS0xf
RFBMTDAsCj4gLQkJCQkgICAgIERQTExfSURfU0tMX0RQTEwyKTsKPiArCQkJCSAgICAgR0VOTUFT
SyhEUExMX0lEX1NLTF9EUExMMiwKPiArCQkJCQkgICAgIERQTExfSURfU0tMX0RQTEwwKSk7Cj4g
IAlpZiAoIXBsbCkgewo+ICAJCURSTV9ERUJVR19LTVMoIk5vIFBMTCBzZWxlY3RlZFxuIik7Cj4g
IAkJcmV0dXJuIGZhbHNlOwo+IEBAIC0yOTc1LDcgKzI5NzUsNyBAQCBzdGF0aWMgYm9vbCBpY2xf
Z2V0X2NvbWJvX3BoeV9kcGxsKHN0cnVjdCBpbnRlbF9hdG9taWNfc3RhdGUgKnN0YXRlLAo+ICAJ
CSZjcnRjX3N0YXRlLT5pY2xfcG9ydF9kcGxsc1tJQ0xfUE9SVF9EUExMX0RFRkFVTFRdOwo+ICAJ
c3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2ID0gdG9faTkxNShjcnRjLT5iYXNlLmRl
dik7Cj4gIAllbnVtIHBvcnQgcG9ydCA9IGVuY29kZXItPnBvcnQ7Cj4gLQlib29sIGhhc19kcGxs
NCA9IGZhbHNlOwo+ICsJdW5zaWduZWQgZHBsbF9tYXNrOwo+ICAKPiAgCWlmICghaWNsX2NhbGNf
ZHBsbF9zdGF0ZShjcnRjX3N0YXRlLCBlbmNvZGVyLCAmcG9ydF9kcGxsLT5od19zdGF0ZSkpIHsK
PiAgCQlEUk1fREVCVUdfS01TKCJDb3VsZCBub3QgY2FsY3VsYXRlIGNvbWJvIFBIWSBQTEwgc3Rh
dGUuXG4iKTsKPiBAQCAtMjk4NCwxMyArMjk4NCwxMyBAQCBzdGF0aWMgYm9vbCBpY2xfZ2V0X2Nv
bWJvX3BoeV9kcGxsKHN0cnVjdCBpbnRlbF9hdG9taWNfc3RhdGUgKnN0YXRlLAo+ICAJfQo+ICAK
PiAgCWlmIChJU19FTEtIQVJUTEFLRShkZXZfcHJpdikgJiYgcG9ydCAhPSBQT1JUX0EpCj4gLQkJ
aGFzX2RwbGw0ID0gdHJ1ZTsKPiArCQlkcGxsX21hc2sgPSBHRU5NQVNLKERQTExfSURfRUhMX0RQ
TEw0LCBEUExMX0lEX0lDTF9EUExMMCk7Cj4gKwllbHNlCj4gKwkJZHBsbF9tYXNrID0gR0VOTUFT
SyhEUExMX0lEX0lDTF9EUExMMSwgRFBMTF9JRF9JQ0xfRFBMTDApOwo+ICAKPiAgCXBvcnRfZHBs
bC0+cGxsID0gaW50ZWxfZmluZF9zaGFyZWRfZHBsbChzdGF0ZSwgY3J0YywKPiAgCQkJCQkJJnBv
cnRfZHBsbC0+aHdfc3RhdGUsCj4gLQkJCQkJCURQTExfSURfSUNMX0RQTEwwLAo+IC0JCQkJCQlo
YXNfZHBsbDQgPyBEUExMX0lEX0VITF9EUExMNAo+IC0JCQkJCQkJICA6IERQTExfSURfSUNMX0RQ
TEwxKTsKPiArCQkJCQkJZHBsbF9tYXNrKTsKPiAgCWlmICghcG9ydF9kcGxsLT5wbGwpIHsKPiAg
CQlEUk1fREVCVUdfS01TKCJObyBjb21ibyBQSFkgUExMIGZvdW5kIGZvciBbRU5DT0RFUjolZDol
c11cbiIsCj4gIAkJCSAgICAgIGVuY29kZXItPmJhc2UuYmFzZS5pZCwgZW5jb2Rlci0+YmFzZS5u
YW1lKTsKPiBAQCAtMzAyMyw4ICszMDIzLDcgQEAgc3RhdGljIGJvb2wgaWNsX2dldF90Y19waHlf
ZHBsbHMoc3RydWN0IGludGVsX2F0b21pY19zdGF0ZSAqc3RhdGUsCj4gIAo+ICAJcG9ydF9kcGxs
LT5wbGwgPSBpbnRlbF9maW5kX3NoYXJlZF9kcGxsKHN0YXRlLCBjcnRjLAo+ICAJCQkJCQkmcG9y
dF9kcGxsLT5od19zdGF0ZSwKPiAtCQkJCQkJRFBMTF9JRF9JQ0xfVEJUUExMLAo+IC0JCQkJCQlE
UExMX0lEX0lDTF9UQlRQTEwpOwo+ICsJCQkJCQlCSVQoRFBMTF9JRF9JQ0xfVEJUUExMKSk7Cj4g
IAlpZiAoIXBvcnRfZHBsbC0+cGxsKSB7Cj4gIAkJRFJNX0RFQlVHX0tNUygiTm8gVEJULUFMVCBQ
TEwgZm91bmRcbiIpOwo+ICAJCXJldHVybiBmYWxzZTsKPiBAQCAtMzA0Myw4ICszMDQyLDcgQEAg
c3RhdGljIGJvb2wgaWNsX2dldF90Y19waHlfZHBsbHMoc3RydWN0IGludGVsX2F0b21pY19zdGF0
ZSAqc3RhdGUsCj4gIAkJCQkJCQkgZW5jb2Rlci0+cG9ydCkpOwo+ICAJcG9ydF9kcGxsLT5wbGwg
PSBpbnRlbF9maW5kX3NoYXJlZF9kcGxsKHN0YXRlLCBjcnRjLAo+ICAJCQkJCQkmcG9ydF9kcGxs
LT5od19zdGF0ZSwKPiAtCQkJCQkJZHBsbF9pZCwKPiAtCQkJCQkJZHBsbF9pZCk7Cj4gKwkJCQkJ
CUJJVChkcGxsX2lkKSk7Cj4gIAlpZiAoIXBvcnRfZHBsbC0+cGxsKSB7Cj4gIAkJRFJNX0RFQlVH
X0tNUygiTm8gTUcgUEhZIFBMTCBmb3VuZFxuIik7Cj4gIAkJZ290byBlcnJfdW5yZWZlcmVuY2Vf
dGJ0X3BsbDsKPiAtLSAKPiAyLjIxLjAKPiAKPiBfX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fXwo+IEludGVsLWdmeCBtYWlsaW5nIGxpc3QKPiBJbnRlbC1nZnhA
bGlzdHMuZnJlZWRlc2t0b3Aub3JnCj4gaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFp
bG1hbi9saXN0aW5mby9pbnRlbC1nZngKCi0tIApWaWxsZSBTeXJqw6Rsw6QKSW50ZWwKX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KSW50ZWwtZ2Z4IG1haWxp
bmcgbGlzdApJbnRlbC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJl
ZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vaW50ZWwtZ2Z4

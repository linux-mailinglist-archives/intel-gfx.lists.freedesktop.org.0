Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 1B6B42B4CB2
	for <lists+intel-gfx@lfdr.de>; Mon, 16 Nov 2020 18:27:13 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 5F4DC89F49;
	Mon, 16 Nov 2020 17:27:11 +0000 (UTC)
X-Original-To: Intel-gfx@lists.freedesktop.org
Delivered-To: Intel-gfx@lists.freedesktop.org
Received: from mga04.intel.com (mga04.intel.com [192.55.52.120])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 3047B89F41;
 Mon, 16 Nov 2020 17:27:10 +0000 (UTC)
IronPort-SDR: 8+8/xlVArxpGCBfuEF2xmRBoo6O3p4ysdigVNjbwHUZ3llBFrTjYiIiCyFMketqnZYqmKhYjkY
 Pkk5+fMsRi8A==
X-IronPort-AV: E=McAfee;i="6000,8403,9807"; a="168205764"
X-IronPort-AV: E=Sophos;i="5.77,483,1596524400"; d="scan'208";a="168205764"
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga005.jf.intel.com ([10.7.209.41])
 by fmsmga104.fm.intel.com with ESMTP/TLS/ECDHE-RSA-AES256-GCM-SHA384;
 16 Nov 2020 09:27:09 -0800
IronPort-SDR: 0doPOFU4gFSNhFtInW2/Fx3la/HXi3Lr/UUS/320y918znnxhktOgJCAynnq5u+uLRR8LUtt2R
 HVyPQRupJ+yA==
X-IronPort-AV: E=Sophos;i="5.77,483,1596524400"; d="scan'208";a="543681956"
Received: from abaldovi-mobl.ger.corp.intel.com (HELO localhost.localdomain)
 ([10.252.52.236])
 by orsmga005-auth.jf.intel.com with ESMTP/TLS/ECDHE-RSA-AES256-GCM-SHA384;
 16 Nov 2020 09:27:07 -0800
From: Tvrtko Ursulin <tvrtko.ursulin@linux.intel.com>
To: igt-dev@lists.freedesktop.org
Date: Mon, 16 Nov 2020 17:26:52 +0000
Message-Id: <20201116172653.4030093-4-tvrtko.ursulin@linux.intel.com>
X-Mailer: git-send-email 2.25.1
In-Reply-To: <20201116172653.4030093-1-tvrtko.ursulin@linux.intel.com>
References: <20201116172653.4030093-1-tvrtko.ursulin@linux.intel.com>
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH i-g-t 4/5] lsgpu: Add filter type print-out
 selection
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: Intel-gfx@lists.freedesktop.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

RnJvbTogVHZydGtvIFVyc3VsaW4gPHR2cnRrby51cnN1bGluQGludGVsLmNvbT4KCkluIHRoZSBw
cmV2aW91cyBwYXRjaCB3ZSBzd2l0Y2hlZCB0aGUgbHNncHUgb3V0cHV0IHRvIGEgc2hvcnQgYW5k
IHVzZXIKZnJpZW5kbHkgZm9ybWF0IGJ1dCBzb21lIHVzZXJzIHdpbGwgbmVlZCBhIHNob3J0aGFu
ZCBmb3IgZ2V0dGluZyBvdGhlcgp0eXBlcyBvZiBkZXZpY2Ugc2VsZWN0aW9uIGZpbHRlcnMgdGhh
biB0aGUgZGVmYXV0IGRybS4KCkFkZCBzb21lIGNvbW1hbmQgbGluZSBzd2l0Y2hlcyB0byBlbmFi
bGUgdGhpczoKCiQgbHNncHUKY2FyZDAgICAgICAgICAgICAgICAgICAgODA4NjoxOTNCICAgIGRy
bTovZGV2L2RyaS9jYXJkMArilJTilIByZW5kZXJEMTI4ICAgICAgICAgICAgICAgICAgICAgICAg
IGRybTovZGV2L2RyaS9yZW5kZXJEMTI4CgokIGxzZ3B1IC0tc3lzZnMKY2FyZDAgICAgICAgICAg
ICAgICAgICAgODA4NjoxOTNCICAgIHN5czovc3lzL2RldmljZXMvcGNpMDAwMDowMC8wMDAwOjAw
OjAyLjAvZHJtL2NhcmQwCuKUlOKUgHJlbmRlckQxMjggICAgICAgICAgICAgICAgICAgICAgICAg
c3lzOi9zeXMvZGV2aWNlcy9wY2kwMDAwOjAwLzAwMDA6MDA6MDIuMC9kcm0vcmVuZGVyRDEyOAoK
JCBsc2dwdSAtLXBjaQpjYXJkMCAgICAgICAgICAgICAgICAgICA4MDg2OjE5M0IgICAgcGNpOnZl
bmRvcj04MDg2LGRldmljZT0xOTNCLGNhcmQ9MArilJTilIByZW5kZXJEMTI4Cgp2MjoKICogRml4
IHBjaSBmaWx0ZXIgZm9ybWF0LgoKU2lnbmVkLW9mZi1ieTogVHZydGtvIFVyc3VsaW4gPHR2cnRr
by51cnN1bGluQGludGVsLmNvbT4KU3VnZ2VzdGVkLWJ5OiBaYmlnbmlldyBLZW1wY3p5xYRza2kg
PHpiaWduaWV3LmtlbXBjenluc2tpQGludGVsLmNvbT4KQ2M6IFBldHJpIExhdHZhbGEgPHBldHJp
LmxhdHZhbGFAaW50ZWwuY29tPgotLS0KIGxpYi9pZ3RfZGV2aWNlX3NjYW4uYyB8IDgzICsrKysr
KysrKysrKysrKysrKysrKysrKysrKysrKysrLS0tLS0tLS0tLS0KIGxpYi9pZ3RfZGV2aWNlX3Nj
YW4uaCB8IDE1ICsrKysrKy0tCiB0b29scy9pbnRlbF9ncHVfdG9wLmMgfCAgNiArKystCiB0b29s
cy9sc2dwdS5jICAgICAgICAgfCAzMiArKysrKysrKysrKysrLS0tLQogNCBmaWxlcyBjaGFuZ2Vk
LCAxMDYgaW5zZXJ0aW9ucygrKSwgMzAgZGVsZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEvbGliL2ln
dF9kZXZpY2Vfc2Nhbi5jIGIvbGliL2lndF9kZXZpY2Vfc2Nhbi5jCmluZGV4IGVjYjhkYjI5N2Y4
Ni4uZTk3ZjcxNjNiYTcwIDEwMDY0NAotLS0gYS9saWIvaWd0X2RldmljZV9zY2FuLmMKKysrIGIv
bGliL2lndF9kZXZpY2Vfc2Nhbi5jCkBAIC03NzcsNyArNzc3LDkgQEAgc3RhdGljIGJvb2wgX19j
aGVja19lbXB0eShzdHJ1Y3QgaWd0X2xpc3RfaGVhZCAqdmlldykKIAlyZXR1cm4gZmFsc2U7CiB9
CiAKLXN0YXRpYyB2b2lkIGlndF9kZXZzX3ByaW50X3NpbXBsZShzdHJ1Y3QgaWd0X2xpc3RfaGVh
ZCAqdmlldykKK3N0YXRpYyB2b2lkCitpZ3RfZGV2c19wcmludF9zaW1wbGUoc3RydWN0IGlndF9s
aXN0X2hlYWQgKnZpZXcsCisJCSAgICAgIGNvbnN0IHN0cnVjdCBpZ3RfZGV2aWNlc19wcmludF9m
b3JtYXQgKmZtdCkKIHsKIAlzdHJ1Y3QgaWd0X2RldmljZSAqZGV2OwogCkBAIC04MjEsNyArODIz
LDM4IEBAIF9fZmluZF9wY2koc3RydWN0IGlndF9saXN0X2hlYWQgKnZpZXcsIGNvbnN0IGNoYXIg
KmRybSkKIAlyZXR1cm4gTlVMTDsKIH0KIAotc3RhdGljIHZvaWQgaWd0X2RldnNfcHJpbnRfdXNl
cihzdHJ1Y3QgaWd0X2xpc3RfaGVhZCAqdmlldykKK3N0YXRpYyB2b2lkIF9fcHJpbnRfZmlsdGVy
KGNoYXIgKmJ1ZiwgaW50IGxlbiwKKwkJCSAgIGNvbnN0IHN0cnVjdCBpZ3RfZGV2aWNlc19wcmlu
dF9mb3JtYXQgKmZtdCwKKwkJCSAgIHN0cnVjdCBpZ3RfZGV2aWNlICpkZXYsCisJCQkgICBib29s
IHJlbmRlcikKK3sKKwlpbnQgcmV0OworCisJc3dpdGNoIChmbXQtPm9wdGlvbikgeworCWNhc2Ug
SUdUX1BSSU5UX0RSTToKKwkJcmV0ID0gc25wcmludGYoYnVmLCBsZW4sICJkcm06JXMiLAorCQkJ
ICAgICAgIHJlbmRlciA/IGRldi0+ZHJtX3JlbmRlciA6IGRldi0+ZHJtX2NhcmQpOworCQlpZ3Rf
YXNzZXJ0KHJldCA8IGxlbik7CisJCWJyZWFrOworCWNhc2UgSUdUX1BSSU5UX1NZU0ZTOgorCQly
ZXQgPSBzbnByaW50ZihidWYsIGxlbiwgInN5czolcyIsIGRldi0+c3lzcGF0aCk7CisJCWlndF9h
c3NlcnQocmV0IDwgbGVuKTsKKwkJYnJlYWs7CisJY2FzZSBJR1RfUFJJTlRfUENJOgorCQlpZiAo
IXJlbmRlcikgeworCQkJcmV0ID0gc25wcmludGYoYnVmLCBsZW4sCisJCQkJICAgICAgICJwY2k6
dmVuZG9yPSVzLGRldmljZT0lcyxjYXJkPSVkIiwKKwkJCQkgICAgICAgZGV2LT52ZW5kb3IsIGRl
di0+ZGV2aWNlLAorCQkJCSAgICAgICBkZXYtPmdwdV9pbmRleCk7CisJCQlpZ3RfYXNzZXJ0KHJl
dCA8IGxlbik7CisJCX0KKwkJYnJlYWs7CisJfTsKK30KKworc3RhdGljIHZvaWQKK2lndF9kZXZz
X3ByaW50X3VzZXIoc3RydWN0IGlndF9saXN0X2hlYWQgKnZpZXcsCisJCSAgICBjb25zdCBzdHJ1
Y3QgaWd0X2RldmljZXNfcHJpbnRfZm9ybWF0ICpmbXQpCiB7CiAJc3RydWN0IGlndF9kZXZpY2Ug
KmRldjsKIApAQCAtODM0LDcgKzg2Nyw2IEBAIHN0YXRpYyB2b2lkIGlndF9kZXZzX3ByaW50X3Vz
ZXIoc3RydWN0IGlndF9saXN0X2hlYWQgKnZpZXcpCiAJCXN0cnVjdCBpZ3RfZGV2aWNlICpkZXYy
OwogCQljaGFyIGZpbHRlclsyNTZdOwogCQljaGFyICpkcm1fbmFtZTsKLQkJaW50IHJldDsKIAog
CQlpZiAoIWlzX2RybV9zdWJzeXN0ZW0oZGV2KSkKIAkJCWNvbnRpbnVlOwpAQCAtODQ1LDE2ICs4
NzcsMjEgQEAgc3RhdGljIHZvaWQgaWd0X2RldnNfcHJpbnRfdXNlcihzdHJ1Y3QgaWd0X2xpc3Rf
aGVhZCAqdmlldykKIAkJaWYgKCFkcm1fbmFtZSB8fCAhKisrZHJtX25hbWUpCiAJCQljb250aW51
ZTsKIAotCQlyZXQgPSBzbnByaW50ZihmaWx0ZXIsIHNpemVvZihmaWx0ZXIpLCAiZHJtOiVzIiwg
ZGV2LT5kcm1fY2FyZCk7Ci0JCWlndF9hc3NlcnQocmV0IDwgc2l6ZW9mKGZpbHRlcikpOwotCiAJ
CXBjaV9kZXYgPSBfX2ZpbmRfcGNpKHZpZXcsIGRldi0+ZHJtX2NhcmQpOwotCQlpZiAocGNpX2Rl
dikKKworCQlpZiAoZm10LT5vcHRpb24gPT0gSUdUX1BSSU5UX1BDSSAmJiAhcGNpX2RldikKKwkJ
CWNvbnRpbnVlOworCisJCWlmIChwY2lfZGV2KSB7CisJCQlfX3ByaW50X2ZpbHRlcihmaWx0ZXIs
IHNpemVvZihmaWx0ZXIpLCBmbXQsIHBjaV9kZXYsCisJCQkJICAgICAgIGZhbHNlKTsKIAkJCXBy
aW50ZigiJS0yNHMlNHM6JTRzICAgICVzXG4iLAogCQkJICAgICAgIGRybV9uYW1lLCBwY2lfZGV2
LT52ZW5kb3IsIHBjaV9kZXYtPmRldmljZSwKIAkJCSAgICAgICBmaWx0ZXIpOwotCQllbHNlCisJ
CX0gZWxzZSB7CisJCQlfX3ByaW50X2ZpbHRlcihmaWx0ZXIsIHNpemVvZihmaWx0ZXIpLCBmbXQs
IGRldiwgZmFsc2UpOwogCQkJcHJpbnRmKCIlLTI0cyAgICAgICAgICAgICAlc1xuIiwgZHJtX25h
bWUsIGZpbHRlcik7CisJCX0KIAogCQludW1fY2hpbGRyZW4gPSAwOwogCQlpZ3RfbGlzdF9mb3Jf
ZWFjaF9lbnRyeShkZXYyLCB2aWV3LCBsaW5rKSB7CkBAIC04NzcsMTMgKzkxNCwxNSBAQCBzdGF0
aWMgdm9pZCBpZ3RfZGV2c19wcmludF91c2VyKHN0cnVjdCBpZ3RfbGlzdF9oZWFkICp2aWV3KQog
CQkJaWYgKCFkcm1fbmFtZSB8fCAhKisrZHJtX25hbWUpCiAJCQkJY29udGludWU7CiAKLQkJCXJl
dCA9IHNucHJpbnRmKGZpbHRlciwgc2l6ZW9mKGZpbHRlciksICJkcm06JXMiLAotCQkJCSAgICAg
ICBkZXYyLT5kcm1fcmVuZGVyKTsKLQkJCWlndF9hc3NlcnQocmV0IDwgc2l6ZW9mKGZpbHRlcikp
OwotCi0JCQlwcmludGYoIiVzJS0yMnMgICAgICAgICAgICAgJXNcbiIsCi0JCQkgICAgICAgKCsr
aSA9PSBudW1fY2hpbGRyZW4pID8gIuKUlOKUgCIgOiAi4pSc4pSAIiwKLQkJCSAgICAgICBkcm1f
bmFtZSwgZmlsdGVyKTsKKwkJCXByaW50ZigiJXMlLTIycyIsCisJCQkJKCsraSA9PSBudW1fY2hp
bGRyZW4pID8gIuKUlOKUgCIgOiAi4pSc4pSAIiwgZHJtX25hbWUpOworCQkJaWYgKGZtdC0+b3B0
aW9uICE9IElHVF9QUklOVF9QQ0kpIHsKKwkJCQlfX3ByaW50X2ZpbHRlcihmaWx0ZXIsIHNpemVv
ZihmaWx0ZXIpLCBmbXQsCisJCQkJCSAgICAgICBkZXYyLCB0cnVlKTsKKwkJCQlwcmludGYoIiAg
ICAgICAgICAgICAlc1xuIiwgZmlsdGVyKTsKKwkJCX0gZWxzZSB7CisJCQkJcHJpbnRmKCJcbiIp
OworCQkJfQogCQl9CiAJfQogfQpAQCAtOTA4LDcgKzk0NywxMCBAQCBzdGF0aWMgdm9pZCBwcmlu
dF9odChHSGFzaFRhYmxlICpodCkKIAlnX2xpc3RfZnJlZShrZXlzKTsKIH0KIAotc3RhdGljIHZv
aWQgaWd0X2RldnNfcHJpbnRfZGV0YWlsKHN0cnVjdCBpZ3RfbGlzdF9oZWFkICp2aWV3KQorc3Rh
dGljIHZvaWQKK2lndF9kZXZzX3ByaW50X2RldGFpbChzdHJ1Y3QgaWd0X2xpc3RfaGVhZCAqdmll
dywKKwkJICAgICAgY29uc3Qgc3RydWN0IGlndF9kZXZpY2VzX3ByaW50X2Zvcm1hdCAqZm10KQor
CiB7CiAJc3RydWN0IGlndF9kZXZpY2UgKmRldjsKIApAQCAtOTMyLDcgKzk3NCw4IEBAIHN0YXRp
YyB2b2lkIGlndF9kZXZzX3ByaW50X2RldGFpbChzdHJ1Y3QgaWd0X2xpc3RfaGVhZCAqdmlldykK
IH0KIAogc3RhdGljIHN0cnVjdCBwcmludF9mdW5jIHsKLQl2b2lkICgqcHJuKShzdHJ1Y3QgaWd0
X2xpc3RfaGVhZCAqdmlldyk7CisJdm9pZCAoKnBybikoc3RydWN0IGlndF9saXN0X2hlYWQgKnZp
ZXcsCisJCSAgICBjb25zdCBzdHJ1Y3QgaWd0X2RldmljZXNfcHJpbnRfZm9ybWF0ICopOwogfSBw
cmludF9mdW5jdGlvbnNbXSA9IHsKIAlbSUdUX1BSSU5UX1NJTVBMRV0gPSB7IC5wcm4gPSBpZ3Rf
ZGV2c19wcmludF9zaW1wbGUgfSwKIAlbSUdUX1BSSU5UX0RFVEFJTF0gPSB7IC5wcm4gPSBpZ3Rf
ZGV2c19wcmludF9kZXRhaWwgfSwKQEAgLTk0MSwxNSArOTg0LDE1IEBAIHN0YXRpYyBzdHJ1Y3Qg
cHJpbnRfZnVuYyB7CiAKIC8qKgogICogaWd0X2RldmljZXNfcHJpbnQKLSAqIEBwcmludHR5cGU6
IElHVF9QUklOVF9TSU1QTEUgb3IgSUdUX1BSSU5UX0RFVEFJTAorICogQGZtdDogUHJpbnQgZm9y
bWF0IGFzIHNwZWNpZmllZCBieSBzdHJ1Y3QgaWd0X2RldmljZXNfcHJpbnRfZm9ybWF0CiAgKgog
ICogRnVuY3Rpb24gY2FuIGJlIHVzZWQgYnkgZXh0ZXJuYWwgdG9vbCB0byBwcmludCBkZXZpY2Ug
YXJyYXkgaW4gc2ltcGxlCiAgKiBvciBkZXRhaWxlZCBmb3JtLiBUaGlzIGZ1bmN0aW9uIGlzIGFk
ZGVkIGhlcmUgdG8gYXZvaWQgZXhwb3NpbmcKICAqIGludGVybmFsIGltcGxlbWVudGF0aW9uIGRh
dGEgc3RydWN0dXJlcy4KICAqLwotdm9pZCBpZ3RfZGV2aWNlc19wcmludChlbnVtIGlndF9kZXZp
Y2VzX3ByaW50X3R5cGUgcHJpbnR0eXBlKQordm9pZCBpZ3RfZGV2aWNlc19wcmludChjb25zdCBz
dHJ1Y3QgaWd0X2RldmljZXNfcHJpbnRfZm9ybWF0ICpmbXQpCiB7Ci0JcHJpbnRfZnVuY3Rpb25z
W3ByaW50dHlwZV0ucHJuKCZpZ3RfZGV2cy5maWx0ZXJlZCk7CisJcHJpbnRfZnVuY3Rpb25zW2Zt
dC0+dHlwZV0ucHJuKCZpZ3RfZGV2cy5maWx0ZXJlZCwgZm10KTsKIH0KIAogLyoqCmRpZmYgLS1n
aXQgYS9saWIvaWd0X2RldmljZV9zY2FuLmggYi9saWIvaWd0X2RldmljZV9zY2FuLmgKaW5kZXgg
OTgyMmMyMmNiNjljLi5iYjRiZTcyMzQ1ZmIgMTAwNjQ0Ci0tLSBhL2xpYi9pZ3RfZGV2aWNlX3Nj
YW4uaAorKysgYi9saWIvaWd0X2RldmljZV9zY2FuLmgKQEAgLTM1LDExICszNSwyMiBAQAogI2lu
Y2x1ZGUgPHVuaXN0ZC5oPgogCiBlbnVtIGlndF9kZXZpY2VzX3ByaW50X3R5cGUgewotCUlHVF9Q
UklOVF9TSU1QTEUsCisJSUdUX1BSSU5UX1NJTVBMRSA9IDAsCiAJSUdUX1BSSU5UX0RFVEFJTCwK
IAlJR1RfUFJJTlRfVVNFUiwgLyogRW5kIHVzZXIgZnJpZW5kbHkuICovCiB9OwogCitlbnVtIGln
dF9kZXZpY2VzX3ByaW50X29wdGlvbiB7CisJSUdUX1BSSU5UX0RSTSA9IDAsCisJSUdUX1BSSU5U
X1NZU0ZTLAorCUlHVF9QUklOVF9QQ0ksCit9OworCitzdHJ1Y3QgaWd0X2RldmljZXNfcHJpbnRf
Zm9ybWF0IHsKKwllbnVtIGlndF9kZXZpY2VzX3ByaW50X3R5cGUgICB0eXBlOworCWVudW0gaWd0
X2RldmljZXNfcHJpbnRfb3B0aW9uIG9wdGlvbjsKK307CisKICNkZWZpbmUgSU5URUdSQVRFRF9J
OTE1X0dQVV9QQ0lfSUQgIjAwMDA6MDA6MDIuMCIKICNkZWZpbmUgUENJX1NMT1RfTkFNRV9TSVpF
IDEyCiBzdHJ1Y3QgaWd0X2RldmljZV9jYXJkIHsKQEAgLTUxLDcgKzYyLDcgQEAgc3RydWN0IGln
dF9kZXZpY2VfY2FyZCB7CiAKIHZvaWQgaWd0X2RldmljZXNfc2Nhbihib29sIGZvcmNlKTsKIAot
dm9pZCBpZ3RfZGV2aWNlc19wcmludChlbnVtIGlndF9kZXZpY2VzX3ByaW50X3R5cGUgcHJpbnR0
eXBlKTsKK3ZvaWQgaWd0X2RldmljZXNfcHJpbnQoY29uc3Qgc3RydWN0IGlndF9kZXZpY2VzX3By
aW50X2Zvcm1hdCAqZm10KTsKIHZvaWQgaWd0X2RldmljZXNfcHJpbnRfdmVuZG9ycyh2b2lkKTsK
IHZvaWQgaWd0X2RldmljZV9wcmludF9maWx0ZXJfdHlwZXModm9pZCk7CiAKZGlmZiAtLWdpdCBh
L3Rvb2xzL2ludGVsX2dwdV90b3AuYyBiL3Rvb2xzL2ludGVsX2dwdV90b3AuYwppbmRleCA1MjMw
NDcyZDJhZjQuLjA3Zjg4ZDU1NWRjOCAxMDA2NDQKLS0tIGEvdG9vbHMvaW50ZWxfZ3B1X3RvcC5j
CisrKyBiL3Rvb2xzL2ludGVsX2dwdV90b3AuYwpAQCAtMTM4Nyw3ICsxMzg3LDExIEBAIGludCBt
YWluKGludCBhcmdjLCBjaGFyICoqYXJndikKIAlpZ3RfZGV2aWNlc19zY2FuKGZhbHNlKTsKIAog
CWlmIChsaXN0X2RldmljZSkgewotCQlpZ3RfZGV2aWNlc19wcmludChJR1RfUFJJTlRfVVNFUik7
CisJCXN0cnVjdCBpZ3RfZGV2aWNlc19wcmludF9mb3JtYXQgZm10ID0geworCQkJLnR5cGUgPSBJ
R1RfUFJJTlRfVVNFUgorCQl9OworCisJCWlndF9kZXZpY2VzX3ByaW50KCZmbXQpOwogCQlnb3Rv
IGV4aXQ7CiAJfQogCmRpZmYgLS1naXQgYS90b29scy9sc2dwdS5jIGIvdG9vbHMvbHNncHUuYwpp
bmRleCAzYjIzNGI3MzM2MWEuLjE2OWFiMGMyOWU1MCAxMDA2NDQKLS0tIGEvdG9vbHMvbHNncHUu
YworKysgYi90b29scy9sc2dwdS5jCkBAIC05MSw3ICs5MSwxMSBAQCBzdGF0aWMgY29uc3QgY2hh
ciAqdXNhZ2Vfc3RyID0KIAkiICAtdiwgLS1saXN0LXZlbmRvcnMgICAgICAgICAgTGlzdCByZWNv
Z25pemVkIHZlbmRvcnNcbiIKIAkiICAtbCwgLS1saXN0LWZpbHRlci10eXBlcyAgICAgTGlzdCBy
ZWdpc3RlcmVkIGRldmljZSBmaWx0ZXJzIHR5cGVzXG4iCiAJIiAgLWQsIC0tZGV2aWNlIGZpbHRl
ciAgICAgICAgIERldmljZSBmaWx0ZXIsIGNhbiBiZSBnaXZlbiBtdWx0aXBsZSB0aW1lc1xuIgot
CSIgIC1oLCAtLWhlbHAgICAgICAgICAgICAgICAgICBTaG93IHRoaXMgaGVscCBtZXNzYWdlIGFu
ZCBleGl0XG4iOworCSIgIC1oLCAtLWhlbHAgICAgICAgICAgICAgICAgICBTaG93IHRoaXMgaGVs
cCBtZXNzYWdlIGFuZCBleGl0XG4iCisJIlxuT3B0aW9ucyB2YWxpZCBmb3IgZGVmYXVsdCBwcmlu
dCBvdXQgbW9kZSBvbmx5OlxuIgorCSIgICAgICAtLWRybSAgICAgICAgICAgICAgICAgICBTaG93
IERSTSBmaWx0ZXJzIChkZWZhdWx0KSBmb3IgZWFjaCBkZXZpY2VcbiIKKwkiICAgICAgLS1zeXNm
cyAgICAgICAgICAgICAgICAgU2hvdyBzeXNmcyBmaWx0ZXJzIGZvciBlYWNoIGRldmljZVxuIgor
CSIgICAgICAtLXBjaSAgICAgICAgICAgICAgICAgICBTaG93IFBDSSBmaWx0ZXJzIGZvciBlYWNo
IGRldmljZVxuIjsKIAogc3RhdGljIHZvaWQgdGVzdF9kZXZpY2Vfb3BlbihzdHJ1Y3QgaWd0X2Rl
dmljZV9jYXJkICpjYXJkKQogewpAQCAtMTUzLDYgKzE1Nyw5IEBAIHN0YXRpYyBjaGFyICpnZXRf
ZGV2aWNlX2Zyb21fcmModm9pZCkKIGludCBtYWluKGludCBhcmdjLCBjaGFyICphcmd2W10pCiB7
CiAJc3RhdGljIHN0cnVjdCBvcHRpb24gbG9uZ19vcHRpb25zW10gPSB7CisJCXsiZHJtIiwgICAg
ICAgICAgICAgICBub19hcmd1bWVudCwgICAgICAgTlVMTCwgMH0sCisJCXsic3lzZnMiLCAgICAg
ICAgICAgICBub19hcmd1bWVudCwgICAgICAgTlVMTCwgMX0sCisJCXsicGNpIiwgICAgICAgICAg
ICAgICBub19hcmd1bWVudCwgICAgICAgTlVMTCwgMn0sCiAJCXsicHJpbnQtc2ltcGxlIiwgICAg
ICBub19hcmd1bWVudCwgICAgICAgTlVMTCwgT1BUX1BSSU5UX1NJTVBMRX0sCiAJCXsicHJpbnQt
ZGV0YWlsIiwgICAgICBub19hcmd1bWVudCwgICAgICAgTlVMTCwgT1BUX1BSSU5UX0RFVEFJTH0s
CiAJCXsibGlzdC12ZW5kb3JzIiwgICAgICBub19hcmd1bWVudCwgICAgICAgTlVMTCwgT1BUX0xJ
U1RfVkVORE9SU30sCkBAIC0xNjMsMTcgKzE3MCwxOSBAQCBpbnQgbWFpbihpbnQgYXJnYywgY2hh
ciAqYXJndltdKQogCX07CiAJaW50IGMsIGluZGV4ID0gMDsKIAljaGFyICplbnZfZGV2aWNlID0g
TlVMTCwgKm9wdF9kZXZpY2UgPSBOVUxMLCAqcmNfZGV2aWNlID0gTlVMTDsKLQllbnVtIGlndF9k
ZXZpY2VzX3ByaW50X3R5cGUgcHJpbnR0eXBlID0gSUdUX1BSSU5UX1VTRVI7CisJc3RydWN0IGln
dF9kZXZpY2VzX3ByaW50X2Zvcm1hdCBmbXQgPSB7CisJCQkudHlwZSA9IElHVF9QUklOVF9VU0VS
LAorCX07CiAKIAl3aGlsZSAoKGMgPSBnZXRvcHRfbG9uZyhhcmdjLCBhcmd2LCAic3B2bGQ6aCIs
CiAJCQkJbG9uZ19vcHRpb25zLCAmaW5kZXgpKSAhPSAtMSkgewogCQlzd2l0Y2goYykgewogCiAJ
CWNhc2UgT1BUX1BSSU5UX1NJTVBMRToKLQkJCXByaW50dHlwZSA9IElHVF9QUklOVF9TSU1QTEU7
CisJCQlmbXQudHlwZSA9IElHVF9QUklOVF9TSU1QTEU7CiAJCQlicmVhazsKIAkJY2FzZSBPUFRf
UFJJTlRfREVUQUlMOgotCQkJcHJpbnR0eXBlID0gSUdUX1BSSU5UX0RFVEFJTDsKKwkJCWZtdC50
eXBlID0gSUdUX1BSSU5UX0RFVEFJTDsKIAkJCWJyZWFrOwogCQljYXNlIE9QVF9MSVNUX1ZFTkRP
UlM6CiAJCQlnX3Nob3dfdmVuZG9ycyA9IHRydWU7CkBAIC0xODcsNiArMTk2LDE1IEBAIGludCBt
YWluKGludCBhcmdjLCBjaGFyICphcmd2W10pCiAJCWNhc2UgT1BUX0hFTFA6CiAJCQlnX2hlbHAg
PSB0cnVlOwogCQkJYnJlYWs7CisJCWNhc2UgMDoKKwkJCWZtdC5vcHRpb24gPSBJR1RfUFJJTlRf
RFJNOworCQkJYnJlYWs7CisJCWNhc2UgMToKKwkJCWZtdC5vcHRpb24gPSBJR1RfUFJJTlRfU1lT
RlM7CisJCQlicmVhazsKKwkJY2FzZSAyOgorCQkJZm10Lm9wdGlvbiA9IElHVF9QUklOVF9QQ0k7
CisJCQlicmVhazsKIAkJfQogCX0KIApAQCAtMjM5LDE0ICsyNTcsMTQgQEAgaW50IG1haW4oaW50
IGFyZ2MsIGNoYXIgKmFyZ3ZbXSkKIAkJcHJpbnRmKCJEZXZpY2UgZGV0YWlsOlxuIik7CiAJCXBy
aW50X2NhcmQoJmNhcmQpOwogCQl0ZXN0X2RldmljZV9vcGVuKCZjYXJkKTsKLQkJaWYgKHByaW50
dHlwZSA9PSBJR1RfUFJJTlRfREVUQUlMKSB7CisJCWlmIChmbXQudHlwZSA9PSBJR1RfUFJJTlRf
REVUQUlMKSB7CiAJCQlwcmludGYoIlxuIik7Ci0JCQlpZ3RfZGV2aWNlc19wcmludChwcmludHR5
cGUpOworCQkJaWd0X2RldmljZXNfcHJpbnQoJmZtdCk7CiAJCX0KIAkJcHJpbnRmKCItLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4iKTsKIAogCX0gZWxzZSB7Ci0J
CWlndF9kZXZpY2VzX3ByaW50KHByaW50dHlwZSk7CisJCWlndF9kZXZpY2VzX3ByaW50KCZmbXQp
OwogCX0KIAogCWZyZWUocmNfZGV2aWNlKTsKLS0gCjIuMjUuMQoKX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX18KSW50ZWwtZ2Z4IG1haWxpbmcgbGlzdApJbnRl
bC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3Jn
L21haWxtYW4vbGlzdGluZm8vaW50ZWwtZ2Z4Cg==

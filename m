Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 7E5F5819DF9
	for <lists+intel-gfx@lfdr.de>; Wed, 20 Dec 2023 12:26:36 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 7CF1410E118;
	Wed, 20 Dec 2023 11:26:34 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mgamail.intel.com (mgamail.intel.com [192.55.52.151])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 1E1AC10E118
 for <intel-gfx@lists.freedesktop.org>; Wed, 20 Dec 2023 11:26:33 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple;
 d=intel.com; i=@intel.com; q=dns/txt; s=Intel;
 t=1703071593; x=1734607593;
 h=from:to:subject:date:message-id:references:in-reply-to:
 content-transfer-encoding:mime-version;
 bh=lgwNTftc9pmvPB0WPUuVeIx1RQ/oIZqtSQbu4tmBGp0=;
 b=GyQRKKh779nXmhMUUnsuGOrHj453SHN+X0PA/OXNVZMmmQvsV3B4uNSS
 3VnEH809wDrRmmzJs2dWjgDQheeICMvf9PQ0aGV21PlYIloqgut0LOrd8
 qwxPGgRlQ4nPRYDiQqUeUrhi8Sj+1+Pw4FDEZXr4iqACayR/zG49dmYzk
 2jactlAgIQi0FbJ+BRr3uWrAbFG+CA1q2kBnJOSky25zL6ao085LJCxU+
 lcls1zO+vbhwg8taVBQVaTdVTMqCwmbXn3zoL/rrq5TRJRWQklhcV5XiS
 dsX6pO01VEbmCOgc7YlA6P3QUNVDVnfgylPsPj/GktPz06Qven5AksE4G A==;
X-IronPort-AV: E=McAfee;i="6600,9927,10929"; a="375956308"
X-IronPort-AV: E=Sophos;i="6.04,291,1695711600"; d="scan'208";a="375956308"
Received: from fmsmga005.fm.intel.com ([10.253.24.32])
 by fmsmga107.fm.intel.com with ESMTP/TLS/ECDHE-RSA-AES256-GCM-SHA384;
 20 Dec 2023 03:26:32 -0800
X-ExtLoop1: 1
X-IronPort-AV: E=McAfee;i="6600,9927,10929"; a="1107698196"
X-IronPort-AV: E=Sophos;i="6.04,291,1695711600"; d="scan'208";a="1107698196"
Received: from orsmsx603.amr.corp.intel.com ([10.22.229.16])
 by fmsmga005.fm.intel.com with ESMTP/TLS/AES256-GCM-SHA384;
 20 Dec 2023 03:26:32 -0800
Received: from orsmsx612.amr.corp.intel.com (10.22.229.25) by
 ORSMSX603.amr.corp.intel.com (10.22.229.16) with Microsoft SMTP Server
 (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256) id
 15.1.2507.35; Wed, 20 Dec 2023 03:26:31 -0800
Received: from orsmsx610.amr.corp.intel.com (10.22.229.23) by
 ORSMSX612.amr.corp.intel.com (10.22.229.25) with Microsoft SMTP Server
 (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256) id
 15.1.2507.35; Wed, 20 Dec 2023 03:26:31 -0800
Received: from orsedg603.ED.cps.intel.com (10.7.248.4) by
 orsmsx610.amr.corp.intel.com (10.22.229.23) with Microsoft SMTP Server
 (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256) id
 15.1.2507.35 via Frontend Transport; Wed, 20 Dec 2023 03:26:31 -0800
Received: from NAM11-BN8-obe.outbound.protection.outlook.com (104.47.58.169)
 by edgegateway.intel.com (134.134.137.100) with Microsoft SMTP Server
 (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.1.2507.35; Wed, 20 Dec 2023 03:26:28 -0800
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=F0Oh8CjXsZo2Yli5uGbjyeJ1TV0YzDm+bZHyfTIiONo1c278aPjFGFTJ5nsyeg3ZntdT9RwKCmbt514jwIRM/klAkkDk3kit92l+6nTAaTDHu7DY+QnAviyFHPtB/BfLPE/2KqKbWeYeca9FSwAc7UM8tOaL+JWbAeSqAv0RxSNaKl7Fri87Y9QjR4dDmIJbF0g6z6Ci59UF3jV1qm5xY/Hy+5xZLm540iVvyZUBOWpLROIAwyYizR7iSQiIHfNQehsYgdTETOZz4lkYE4WVaPK8NNbgNaHOLadEwvXPes7x/imzI/syEh49K2ZblVD+l6Yx2ZOlR8f6OIGt6Y7rGA==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-AntiSpam-MessageData-ChunkCount:X-MS-Exchange-AntiSpam-MessageData-0:X-MS-Exchange-AntiSpam-MessageData-1;
 bh=lgwNTftc9pmvPB0WPUuVeIx1RQ/oIZqtSQbu4tmBGp0=;
 b=MvKlh1sE2SfcVlRQd8Tq2aqqknB/c5lAyNKiP8oxyoQlW4vGkWtE28FYNZUwfm1qRlYF593fVGk3BsYmKrKXWSVLMJEC1BqALNUvo0t3CetK7hVUDducU0G7CCcrabd3ArQiot+p0/COoZe1n6cs9bpFcQL3uiXeq9fmmTYKkZc8rPVrp+JuYOqkmaGl3xbFttAgGH3AnxU/JJHm4SyQKuWcBa0DFaZ0axO5usDrlkur6DWZdQ3GgqEHraDlOQ4dr59wcrLsfWwM6yt/h5o2QUsHC1T7KnPFIWZlcvE+p3GhRHWJ2qjhJdzOF+W29sh2vvu2jFfdkXXgTp05sK7iGw==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=intel.com; dmarc=pass action=none header.from=intel.com;
 dkim=pass header.d=intel.com; arc=none
Received: from CY5PR11MB6344.namprd11.prod.outlook.com (2603:10b6:930:3b::6)
 by SA0PR11MB7160.namprd11.prod.outlook.com (2603:10b6:806:24b::8) with
 Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.7113.18; Wed, 20 Dec
 2023 11:26:26 +0000
Received: from CY5PR11MB6344.namprd11.prod.outlook.com
 ([fe80::d720:57b4:c6ef:ddd8]) by CY5PR11MB6344.namprd11.prod.outlook.com
 ([fe80::d720:57b4:c6ef:ddd8%4]) with mapi id 15.20.7113.016; Wed, 20 Dec 2023
 11:26:26 +0000
From: "Shankar, Uma" <uma.shankar@intel.com>
To: Ville Syrjala <ville.syrjala@linux.intel.com>,
 "intel-gfx@lists.freedesktop.org" <intel-gfx@lists.freedesktop.org>
Subject: RE: [PATCH 5/9] drm/i915: Extract intel_vblank_evade()
Thread-Topic: [PATCH 5/9] drm/i915: Extract intel_vblank_evade()
Thread-Index: AQHaLa7A0SGABZdLekuU1F4S6LY8VLCyEyKA
Date: Wed, 20 Dec 2023 11:26:26 +0000
Message-ID: <CY5PR11MB63449434766255A64E11A1A3F496A@CY5PR11MB6344.namprd11.prod.outlook.com>
References: <20231213102519.13500-1-ville.syrjala@linux.intel.com>
 <20231213102519.13500-6-ville.syrjala@linux.intel.com>
In-Reply-To: <20231213102519.13500-6-ville.syrjala@linux.intel.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
authentication-results: dkim=none (message not signed)
 header.d=none;dmarc=none action=none header.from=intel.com;
x-ms-publictraffictype: Email
x-ms-traffictypediagnostic: CY5PR11MB6344:EE_|SA0PR11MB7160:EE_
x-ms-office365-filtering-correlation-id: 78295ac3-ac6b-453e-2b06-08dc014e8145
x-ms-exchange-senderadcheck: 1
x-ms-exchange-antispam-relay: 0
x-microsoft-antispam: BCL:0;
x-microsoft-antispam-message-info: 7wKrmevgrHcfnKdXC+YzRBxJMiMDqpxLh8Tp3yiPxHUgcsuElUCpiwXhHnsvesf8IVVpXU8rZhgHqXM6gviTSg5ZCQGPoJYSHHqNBVoT5h3ldu49hReqhw51fdT94R/MxA/dAU87Z5ykY+lCy4AvgbiWSJaJFjr/ofuB6hzUkiHnnCQ19vUQDd2x1U3gjFq7IamtwFZRda7mM87b+SMlEgxrE8OuI+7zEQqUV3G4ihMhaaUQQ584FZWcI8zJlEdRrxVtdFQrsHP7ZBuELqTrPDARK3JQQqxjFZxArKocJSGa4DJWqwGN8NTg4SLH+Qy9OddG+ud09G50ctrFHH6p9Ff1bP1r8InLLvS2sBc766h5WQBSohiwcegmuFCQZXn6kRb3fjwkkDZ7RVF9gArJpLhzVhGk7uvJaDv8MtxpdbUx175j6FTacRNKLHT2YXA1pIqPI61a0xfGr8nVkwuL25tIHhRDozH60FfzsQADvjpKu5OJMANkUzwE1jfl/aBeRZf6e8NxdXHPi59q8VunJHTMIRFD0PkeEoUHoK63NIsy2s4JNpTbG+YGJ5M4b9SctIQdME00HU9LwtUTNkvhPqeO3YkI8xajibcgdrkWkY42vJHxiWK8gyjJxRgKy/va
x-forefront-antispam-report: CIP:255.255.255.255; CTRY:; LANG:en; SCL:1; SRV:;
 IPV:NLI; SFV:NSPM; H:CY5PR11MB6344.namprd11.prod.outlook.com; PTR:; CAT:NONE;
 SFS:(13230031)(39860400002)(396003)(366004)(136003)(346002)(376002)(230922051799003)(1800799012)(451199024)(64100799003)(186009)(38070700009)(55016003)(66574015)(52536014)(26005)(83380400001)(53546011)(9686003)(7696005)(5660300002)(8676002)(6506007)(66476007)(64756008)(8936002)(110136005)(66556008)(66946007)(76116006)(66446008)(478600001)(316002)(122000001)(38100700002)(33656002)(71200400001)(82960400001)(2906002)(86362001)(41300700001);
 DIR:OUT; SFP:1102; 
x-ms-exchange-antispam-messagedata-chunkcount: 1
x-ms-exchange-antispam-messagedata-0: =?utf-8?B?OG5FVWNCOXNHTDNKcEx2WWhySWh5eG4yZlhlUjdmZDc1RGR4SWZGRDZ1NkFx?=
 =?utf-8?B?OWsyVERtWUtxWUE5WFlZQkNFMk1lVDNMdFFxLzNPSlNac0JhSWJoM0ZxeG9a?=
 =?utf-8?B?cW5EUzRVVE5FK0JhQkRoYXJtUHYyalNnNTZKQmVnVFhrekV3MmdZdFFNZ2Nv?=
 =?utf-8?B?MG9pdE5WYzRhYTN5bEFhNEtaOFUyd2VzcHVmT3AzL2dyU3MwM3Avd2pPNThK?=
 =?utf-8?B?Vi9lWWNwVDhhcDJTNGx6WDVHdnRJSzY5N25Fb1prZUJUY0JhTDdKZEdlNlpE?=
 =?utf-8?B?RnhSUktZQ0RhVmZwZ056aThITkFSSnIyNS85dXQybDJJbnZreVBFVlBzVi9y?=
 =?utf-8?B?U0JVMVQ0bnUzUThQMU05aXVTb1FMZUYvZDg1UzZEK0o5L3J0RXhPQ1F4TlFF?=
 =?utf-8?B?ak5QNTllNDU4STZLVytHNDN4OUFESzhCdUZrcXhVMGNGVFlRZWNEY0p3bnlS?=
 =?utf-8?B?YlovSjhPL3hZN0t6Ukk4NXBSOHU3cHpXUzBsRWMyaTdseTQ4QXpoazhSMFFV?=
 =?utf-8?B?TWcwTlY0TTVTL0YzcFZwejVkbFNZWFpDNHFxVGNRZVRPdnUyQUlaSStPWjl0?=
 =?utf-8?B?dTlXRFlEQm1vREdRbzBaTUdoQ3pCZDZPb3NXc1N1Z25zbkRRM2gxaXF6bmJT?=
 =?utf-8?B?NnFoMWlzaFpwV2FqcXlwODFuckgyb1RNd1k4am1SZXdaVlZhM21jTFA4K0tm?=
 =?utf-8?B?RmJ1WEtzT2JTVGh3OEI5dVoyTE1HQ0NiUzUzakNvQ1JiZEREUVFUSGRWUTAz?=
 =?utf-8?B?eGl3ZkgwUUFEcUZkOUFmWGU4bFkwQTlPR2t1d3ovUFlpc09LZUp4VWk0clZl?=
 =?utf-8?B?a3VmRzZ4ZmdaQ1lFVEc5VWJhV3NqM25FMWhMUGk1cG41SUpEY0krbHRNdDhv?=
 =?utf-8?B?QzV6SmJnZ1VWMGcvazlRUFVLRFo1Z1E1YzRVLzhvQkFBRTloeXBabEhoS2RP?=
 =?utf-8?B?bUJZdVQ3VHppQVJsVEdiVU5ndkVtTzdOVkVMTVdNaFJrWjBJNzltL0tIKzRT?=
 =?utf-8?B?b2krbXovN2JNMW4ycitiOEhqWTNqUjBZdm5Ld3c1T0UxdHJ0T0NjRFRHdFNC?=
 =?utf-8?B?ZFBEUFFKZWRqK1VOd2JoL09RZDNFTE5sKzc4eEJ6dnFnNEFRU1dPZEpnRVR6?=
 =?utf-8?B?eG8xRkJGZkdPS3UrODZNaktFR2NUNk8vVkdNckh4QVhyaithOXJDRmNoSkZq?=
 =?utf-8?B?NTdZN05RL1ZncFZJS1BHdzlYaUNtdEdjKzZ3Wkk4MnQ2cDlIZmVnUDdraHA0?=
 =?utf-8?B?ZTFob2cwckV1YjhGVjlreklaaE04ZWU4NEdHQStleVJMOHo3cWdrR1VYWndo?=
 =?utf-8?B?MkdleXJ3bFg1L2RWYVdjTDJTV2R3ZURzMDVNOE11cG5aZTR2YkwyQTkwVTBr?=
 =?utf-8?B?c2lJcVdLVkE2NWdqUlBaakFoSUtIRXFlaHpVMFRBTTdKa0s4VnFKb0toRUNy?=
 =?utf-8?B?bmdwN1VhaVh0bzJyT25yUTNLZmh6ZVN4dkpnV1UwdWhDN3huNmZlSGNhcS9k?=
 =?utf-8?B?M0ppNzd6Yk5oQXZkRjRHMGhOc3g0d0RrTG4xa1dNc2lHZlo0ZVFUcjRENGJY?=
 =?utf-8?B?MDZHVW12Y3dDeGIzSlZpaUxuNDVIeE5icEZZbm1jelZXQ1Bqelo1Z3p5cFdz?=
 =?utf-8?B?cjBvUHBPcmpCZ2JGK0k1M1M3MEtna000STl6dGF0bkt0ZVE3alJ1T3pJdzVX?=
 =?utf-8?B?ZXpiZFF2QnFCR0I4bmF4RUZKWlZqSFp2SnFXenp1UEExZm9VZ3pSd1NUNmdY?=
 =?utf-8?B?dGlDSEpuVzVDMkhGeEtYZUhVZzBjYnBKOUMyQ3hRTXl1RHBNNEFEL2Z5Wjkz?=
 =?utf-8?B?eWpOOVR6TCsyZXpyeHVGSXRrYjFzM1VsSGpxQjFzUWwyRzREMDUwODRlZlFL?=
 =?utf-8?B?UWJyeTFBWVAzQnZWTDhscldtMEpZS1VYWExGZVNwMDFZMmZuUHptaWFlb3l1?=
 =?utf-8?B?SXpPdSsvc21HVHpCeVFDV2lNNlRSZzRCQlRGZzdmWEJoQk1IY2ZuTE9tVEln?=
 =?utf-8?B?U2pRSEVrc1JZM3Z2dlhVTXIxcW5DQzFzOUNFRzFpMmt1UGxya29YMlY0dTVo?=
 =?utf-8?B?Si96RUg5OHBvU0VCcDc1S2hFdUttLy9FK3NGOXNsYVZ1YVBUTmlhV01jNlgw?=
 =?utf-8?Q?qcnDpNb8/NKVXPDex3OvHzq1c?=
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0
X-MS-Exchange-CrossTenant-AuthAs: Internal
X-MS-Exchange-CrossTenant-AuthSource: CY5PR11MB6344.namprd11.prod.outlook.com
X-MS-Exchange-CrossTenant-Network-Message-Id: 78295ac3-ac6b-453e-2b06-08dc014e8145
X-MS-Exchange-CrossTenant-originalarrivaltime: 20 Dec 2023 11:26:26.7380 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 46c98d88-e344-4ed4-8496-4ed7712e255d
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: +lh3EHLTFebRwvCa/jDMdyC5+Qnj36j6RuZTLnRGojdSUknHQyNqz25zpLQtfyHVdMc8ZQi4qZvGAa02PTfmFQ==
X-MS-Exchange-Transport-CrossTenantHeadersStamped: SA0PR11MB7160
X-OriginatorOrg: intel.com
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

DQoNCj4gLS0tLS1PcmlnaW5hbCBNZXNzYWdlLS0tLS0NCj4gRnJvbTogSW50ZWwtZ2Z4IDxpbnRl
bC1nZngtYm91bmNlc0BsaXN0cy5mcmVlZGVza3RvcC5vcmc+IE9uIEJlaGFsZiBPZiBWaWxsZQ0K
PiBTeXJqYWxhDQo+IFNlbnQ6IFdlZG5lc2RheSwgRGVjZW1iZXIgMTMsIDIwMjMgMzo1NSBQTQ0K
PiBUbzogaW50ZWwtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZw0KPiBTdWJqZWN0OiBbUEFUQ0gg
NS85XSBkcm0vaTkxNTogRXh0cmFjdCBpbnRlbF92YmxhbmtfZXZhZGUoKQ0KPiANCj4gRnJvbTog
VmlsbGUgU3lyasOkbMOkIDx2aWxsZS5zeXJqYWxhQGxpbnV4LmludGVsLmNvbT4NCj4gDQo+IFB1
bGwgdGhlIGNvcmUgdmJsYW5rIGV2YXNpb24gbG9vcCBpbnRvIGl0cyBvd24gZnVuY3Rpb24sIHNv
IHRoYXQgd2UgY2FuIHJldXNlIGl0DQo+IGVsc2V3aGVyZSBsYXRlci4NCg0KTG9va3MgR29vZCB0
byBtZS4NClJldmlld2VkLWJ5OiBVbWEgU2hhbmthciA8dW1hLnNoYW5rYXJAaW50ZWwuY29tPg0K
DQo+IFNpZ25lZC1vZmYtYnk6IFZpbGxlIFN5cmrDpGzDpCA8dmlsbGUuc3lyamFsYUBsaW51eC5p
bnRlbC5jb20+DQo+IC0tLQ0KPiAgZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9j
cnRjLmMgfCAxMzUgKysrKysrKysrKysrLS0tLS0tLS0tLQ0KPiAgMSBmaWxlIGNoYW5nZWQsIDc1
IGluc2VydGlvbnMoKyksIDYwIGRlbGV0aW9ucygtKQ0KPiANCj4gZGlmZiAtLWdpdCBhL2RyaXZl
cnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfY3J0Yy5jDQo+IGIvZHJpdmVycy9ncHUvZHJt
L2k5MTUvZGlzcGxheS9pbnRlbF9jcnRjLmMNCj4gaW5kZXggOTJjZmI3YzhlYWRiLi4yNmEwN2Iy
MjE5YmYgMTAwNjQ0DQo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxf
Y3J0Yy5jDQo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfY3J0Yy5j
DQo+IEBAIC00NzIsNiArNDcyLDcgQEAgc3RhdGljIGludCBpbnRlbF9tb2RlX3ZibGFua19zdGFy
dChjb25zdCBzdHJ1Y3QNCj4gZHJtX2Rpc3BsYXlfbW9kZSAqbW9kZSkgIH0NCj4gDQo+ICBzdHJ1
Y3QgaW50ZWxfdmJsYW5rX2V2YWRlX2N0eCB7DQo+ICsJc3RydWN0IGludGVsX2NydGMgKmNydGM7
DQo+ICAJaW50IG1pbiwgbWF4LCB2Ymxhbmtfc3RhcnQ7DQo+ICAJYm9vbCBuZWVkX3Zsdl9kc2lf
d2E7DQo+ICB9Ow0KPiBAQCAtNDg1LDYgKzQ4Niw4IEBAIHN0YXRpYyB2b2lkIGludGVsX3ZibGFu
a19ldmFkZV9pbml0KGNvbnN0IHN0cnVjdA0KPiBpbnRlbF9jcnRjX3N0YXRlICpvbGRfY3J0Y19z
dGF0DQo+ICAJY29uc3Qgc3RydWN0IGludGVsX2NydGNfc3RhdGUgKmNydGNfc3RhdGU7DQo+ICAJ
Y29uc3Qgc3RydWN0IGRybV9kaXNwbGF5X21vZGUgKmFkanVzdGVkX21vZGU7DQo+IA0KPiArCWV2
YWRlLT5jcnRjID0gY3J0YzsNCj4gKw0KPiAgCWV2YWRlLT5uZWVkX3Zsdl9kc2lfd2EgPSAoSVNf
VkFMTEVZVklFVyhpOTE1KSB8fA0KPiBJU19DSEVSUllWSUVXKGk5MTUpKSAmJg0KPiAgCQlpbnRl
bF9jcnRjX2hhc190eXBlKG5ld19jcnRjX3N0YXRlLCBJTlRFTF9PVVRQVVRfRFNJKTsNCj4gDQo+
IEBAIC01MzEsNjcgKzUzNCwxNSBAQCBzdGF0aWMgdm9pZCBpbnRlbF92YmxhbmtfZXZhZGVfaW5p
dChjb25zdCBzdHJ1Y3QNCj4gaW50ZWxfY3J0Y19zdGF0ZSAqb2xkX2NydGNfc3RhdA0KPiAgCQll
dmFkZS0+bWluIC09IGFkanVzdGVkX21vZGUtPmNydGNfdmJsYW5rX3N0YXJ0IC0NCj4gYWRqdXN0
ZWRfbW9kZS0+Y3J0Y192ZGlzcGxheTsgIH0NCj4gDQo+IC0vKioNCj4gLSAqIGludGVsX3BpcGVf
dXBkYXRlX3N0YXJ0KCkgLSBzdGFydCB1cGRhdGUgb2YgYSBzZXQgb2YgZGlzcGxheSByZWdpc3Rl
cnMNCj4gLSAqIEBzdGF0ZTogdGhlIGF0b21pYyBzdGF0ZQ0KPiAtICogQGNydGM6IHRoZSBjcnRj
DQo+IC0gKg0KPiAtICogTWFyayB0aGUgc3RhcnQgb2YgYW4gdXBkYXRlIHRvIHBpcGUgcmVnaXN0
ZXJzIHRoYXQgc2hvdWxkIGJlIHVwZGF0ZWQNCj4gLSAqIGF0b21pY2FsbHkgcmVnYXJkaW5nIHZi
bGFuay4gSWYgdGhlIG5leHQgdmJsYW5rIHdpbGwgaGFwcGVucyB3aXRoaW4NCj4gLSAqIHRoZSBu
ZXh0IDEwMCB1cywgdGhpcyBmdW5jdGlvbiB3YWl0cyB1bnRpbCB0aGUgdmJsYW5rIHBhc3Nlcy4N
Cj4gLSAqDQo+IC0gKiBBZnRlciBhIHN1Y2Nlc3NmdWwgY2FsbCB0byB0aGlzIGZ1bmN0aW9uLCBp
bnRlcnJ1cHRzIHdpbGwgYmUgZGlzYWJsZWQNCj4gLSAqIHVudGlsIGEgc3Vic2VxdWVudCBjYWxs
IHRvIGludGVsX3BpcGVfdXBkYXRlX2VuZCgpLiBUaGF0IGlzIGRvbmUgdG8NCj4gLSAqIGF2b2lk
IHJhbmRvbSBkZWxheXMuDQo+IC0gKi8NCj4gLXZvaWQgaW50ZWxfcGlwZV91cGRhdGVfc3RhcnQo
c3RydWN0IGludGVsX2F0b21pY19zdGF0ZSAqc3RhdGUsDQo+IC0JCQkgICAgIHN0cnVjdCBpbnRl
bF9jcnRjICpjcnRjKQ0KPiArLyogbXVzdCBiZSBjYWxsZWQgd2l0aCB2YmxhbmsgaW50ZXJydXB0
IGFscmVhZHkgZW5hYmxlZCEgKi8gc3RhdGljIGludA0KPiAraW50ZWxfdmJsYW5rX2V2YWRlKHN0
cnVjdCBpbnRlbF92YmxhbmtfZXZhZGVfY3R4ICpldmFkZSkNCj4gIHsNCj4gLQlzdHJ1Y3QgZHJt
X2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYgPSB0b19pOTE1KGNydGMtPmJhc2UuZGV2KTsNCj4gLQlj
b25zdCBzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqb2xkX2NydGNfc3RhdGUgPQ0KPiAtCQlpbnRl
bF9hdG9taWNfZ2V0X29sZF9jcnRjX3N0YXRlKHN0YXRlLCBjcnRjKTsNCj4gLQlzdHJ1Y3QgaW50
ZWxfY3J0Y19zdGF0ZSAqbmV3X2NydGNfc3RhdGUgPQ0KPiAtCQlpbnRlbF9hdG9taWNfZ2V0X25l
d19jcnRjX3N0YXRlKHN0YXRlLCBjcnRjKTsNCj4gKwlzdHJ1Y3QgaW50ZWxfY3J0YyAqY3J0YyA9
IGV2YWRlLT5jcnRjOw0KPiArCXN0cnVjdCBkcm1faTkxNV9wcml2YXRlICppOTE1ID0gdG9faTkx
NShjcnRjLT5iYXNlLmRldik7DQo+ICAJbG9uZyB0aW1lb3V0ID0gbXNlY3NfdG9famlmZmllc190
aW1lb3V0KDEpOw0KPiAtCWludCBzY2FubGluZTsNCj4gIAl3YWl0X3F1ZXVlX2hlYWRfdCAqd3Eg
PSBkcm1fY3J0Y192Ymxhbmtfd2FpdHF1ZXVlKCZjcnRjLT5iYXNlKTsNCj4gLQlzdHJ1Y3QgaW50
ZWxfdmJsYW5rX2V2YWRlX2N0eCBldmFkZTsNCj4gIAlERUZJTkVfV0FJVCh3YWl0KTsNCj4gLQ0K
PiAtCWludGVsX3Bzcl9sb2NrKG5ld19jcnRjX3N0YXRlKTsNCj4gLQ0KPiAtCWlmIChuZXdfY3J0
Y19zdGF0ZS0+ZG9fYXN5bmNfZmxpcCkgew0KPiAtCQlzcGluX2xvY2tfaXJxKCZjcnRjLT5iYXNl
LmRldi0+ZXZlbnRfbG9jayk7DQo+IC0JCS8qIGFybSB0aGUgZXZlbnQgZm9yIHRoZSBmbGlwIGRv
bmUgaXJxIGhhbmRsZXIgKi8NCj4gLQkJY3J0Yy0+ZmxpcF9kb25lX2V2ZW50ID0gbmV3X2NydGNf
c3RhdGUtPnVhcGkuZXZlbnQ7DQo+IC0JCXNwaW5fdW5sb2NrX2lycSgmY3J0Yy0+YmFzZS5kZXYt
PmV2ZW50X2xvY2spOw0KPiAtDQo+IC0JCW5ld19jcnRjX3N0YXRlLT51YXBpLmV2ZW50ID0gTlVM
TDsNCj4gLQkJcmV0dXJuOw0KPiAtCX0NCj4gLQ0KPiAtCWlmIChpbnRlbF9jcnRjX25lZWRzX3Zi
bGFua193b3JrKG5ld19jcnRjX3N0YXRlKSkNCj4gLQkJaW50ZWxfY3J0Y192Ymxhbmtfd29ya19p
bml0KG5ld19jcnRjX3N0YXRlKTsNCj4gLQ0KPiAtCWludGVsX3ZibGFua19ldmFkZV9pbml0KG9s
ZF9jcnRjX3N0YXRlLCBuZXdfY3J0Y19zdGF0ZSwgJmV2YWRlKTsNCj4gLQlpZiAoZXZhZGUubWlu
IDw9IDAgfHwgZXZhZGUubWF4IDw9IDApDQo+IC0JCWdvdG8gaXJxX2Rpc2FibGU7DQo+IC0NCj4g
LQlpZiAoZHJtX1dBUk5fT04oJmRldl9wcml2LT5kcm0sIGRybV9jcnRjX3ZibGFua19nZXQoJmNy
dGMtDQo+ID5iYXNlKSkpDQo+IC0JCWdvdG8gaXJxX2Rpc2FibGU7DQo+IC0NCj4gLQkvKg0KPiAt
CSAqIFdhaXQgZm9yIHBzciB0byBpZGxlIG91dCBhZnRlciBlbmFibGluZyB0aGUgVkJMIGludGVy
cnVwdHMNCj4gLQkgKiBWQkwgaW50ZXJydXB0cyB3aWxsIHN0YXJ0IHRoZSBQU1IgZXhpdCBhbmQg
cHJldmVudCBhIFBTUg0KPiAtCSAqIHJlLWVudHJ5IGFzIHdlbGwuDQo+IC0JICovDQo+IC0JaW50
ZWxfcHNyX3dhaXRfZm9yX2lkbGVfbG9ja2VkKG5ld19jcnRjX3N0YXRlKTsNCj4gLQ0KPiAtCWxv
Y2FsX2lycV9kaXNhYmxlKCk7DQo+IC0NCj4gLQljcnRjLT5kZWJ1Zy5taW5fdmJsID0gZXZhZGUu
bWluOw0KPiAtCWNydGMtPmRlYnVnLm1heF92YmwgPSBldmFkZS5tYXg7DQo+IC0JdHJhY2VfaW50
ZWxfcGlwZV91cGRhdGVfc3RhcnQoY3J0Yyk7DQo+ICsJaW50IHNjYW5saW5lOw0KPiANCj4gIAlm
b3IgKDs7KSB7DQo+ICAJCS8qDQo+IEBAIC02MDIsMTEgKzU1MywxMSBAQCB2b2lkIGludGVsX3Bp
cGVfdXBkYXRlX3N0YXJ0KHN0cnVjdCBpbnRlbF9hdG9taWNfc3RhdGUNCj4gKnN0YXRlLA0KPiAg
CQlwcmVwYXJlX3RvX3dhaXQod3EsICZ3YWl0LCBUQVNLX1VOSU5URVJSVVBUSUJMRSk7DQo+IA0K
PiAgCQlzY2FubGluZSA9IGludGVsX2dldF9jcnRjX3NjYW5saW5lKGNydGMpOw0KPiAtCQlpZiAo
c2NhbmxpbmUgPCBldmFkZS5taW4gfHwgc2NhbmxpbmUgPiBldmFkZS5tYXgpDQo+ICsJCWlmIChz
Y2FubGluZSA8IGV2YWRlLT5taW4gfHwgc2NhbmxpbmUgPiBldmFkZS0+bWF4KQ0KPiAgCQkJYnJl
YWs7DQo+IA0KPiAgCQlpZiAoIXRpbWVvdXQpIHsNCj4gLQkJCWRybV9lcnIoJmRldl9wcml2LT5k
cm0sDQo+ICsJCQlkcm1fZXJyKCZpOTE1LT5kcm0sDQo+ICAJCQkJIlBvdGVudGlhbCBhdG9taWMg
dXBkYXRlIGZhaWx1cmUgb24gcGlwZSAlY1xuIiwNCj4gIAkJCQlwaXBlX25hbWUoY3J0Yy0+cGlw
ZSkpOw0KPiAgCQkJYnJlYWs7DQo+IEBAIC02MzYsOSArNTg3LDczIEBAIHZvaWQgaW50ZWxfcGlw
ZV91cGRhdGVfc3RhcnQoc3RydWN0IGludGVsX2F0b21pY19zdGF0ZQ0KPiAqc3RhdGUsDQo+ICAJ
ICoNCj4gIAkgKiBGSVhNRSBmaWd1cmUgb3V0IGlmIEJYVCsgRFNJIHN1ZmZlcnMgZnJvbSB0aGlz
IGFzIHdlbGwNCj4gIAkgKi8NCj4gLQl3aGlsZSAoZXZhZGUubmVlZF92bHZfZHNpX3dhICYmIHNj
YW5saW5lID09IGV2YWRlLnZibGFua19zdGFydCkNCj4gKwl3aGlsZSAoZXZhZGUtPm5lZWRfdmx2
X2RzaV93YSAmJiBzY2FubGluZSA9PSBldmFkZS0+dmJsYW5rX3N0YXJ0KQ0KPiAgCQlzY2FubGlu
ZSA9IGludGVsX2dldF9jcnRjX3NjYW5saW5lKGNydGMpOw0KPiANCj4gKwlyZXR1cm4gc2Nhbmxp
bmU7DQo+ICt9DQo+ICsNCj4gKy8qKg0KPiArICogaW50ZWxfcGlwZV91cGRhdGVfc3RhcnQoKSAt
IHN0YXJ0IHVwZGF0ZSBvZiBhIHNldCBvZiBkaXNwbGF5DQo+ICtyZWdpc3RlcnMNCj4gKyAqIEBz
dGF0ZTogdGhlIGF0b21pYyBzdGF0ZQ0KPiArICogQGNydGM6IHRoZSBjcnRjDQo+ICsgKg0KPiAr
ICogTWFyayB0aGUgc3RhcnQgb2YgYW4gdXBkYXRlIHRvIHBpcGUgcmVnaXN0ZXJzIHRoYXQgc2hv
dWxkIGJlIHVwZGF0ZWQNCj4gKyAqIGF0b21pY2FsbHkgcmVnYXJkaW5nIHZibGFuay4gSWYgdGhl
IG5leHQgdmJsYW5rIHdpbGwgaGFwcGVucyB3aXRoaW4NCj4gKyAqIHRoZSBuZXh0IDEwMCB1cywg
dGhpcyBmdW5jdGlvbiB3YWl0cyB1bnRpbCB0aGUgdmJsYW5rIHBhc3Nlcy4NCj4gKyAqDQo+ICsg
KiBBZnRlciBhIHN1Y2Nlc3NmdWwgY2FsbCB0byB0aGlzIGZ1bmN0aW9uLCBpbnRlcnJ1cHRzIHdp
bGwgYmUNCj4gK2Rpc2FibGVkDQo+ICsgKiB1bnRpbCBhIHN1YnNlcXVlbnQgY2FsbCB0byBpbnRl
bF9waXBlX3VwZGF0ZV9lbmQoKS4gVGhhdCBpcyBkb25lIHRvDQo+ICsgKiBhdm9pZCByYW5kb20g
ZGVsYXlzLg0KPiArICovDQo+ICt2b2lkIGludGVsX3BpcGVfdXBkYXRlX3N0YXJ0KHN0cnVjdCBp
bnRlbF9hdG9taWNfc3RhdGUgKnN0YXRlLA0KPiArCQkJICAgICBzdHJ1Y3QgaW50ZWxfY3J0YyAq
Y3J0YykNCj4gK3sNCj4gKwlzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYgPSB0b19p
OTE1KGNydGMtPmJhc2UuZGV2KTsNCj4gKwljb25zdCBzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAq
b2xkX2NydGNfc3RhdGUgPQ0KPiArCQlpbnRlbF9hdG9taWNfZ2V0X29sZF9jcnRjX3N0YXRlKHN0
YXRlLCBjcnRjKTsNCj4gKwlzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqbmV3X2NydGNfc3RhdGUg
PQ0KPiArCQlpbnRlbF9hdG9taWNfZ2V0X25ld19jcnRjX3N0YXRlKHN0YXRlLCBjcnRjKTsNCj4g
KwlzdHJ1Y3QgaW50ZWxfdmJsYW5rX2V2YWRlX2N0eCBldmFkZTsNCj4gKwlpbnQgc2NhbmxpbmU7
DQo+ICsNCj4gKwlpbnRlbF9wc3JfbG9jayhuZXdfY3J0Y19zdGF0ZSk7DQo+ICsNCj4gKwlpZiAo
bmV3X2NydGNfc3RhdGUtPmRvX2FzeW5jX2ZsaXApIHsNCj4gKwkJc3Bpbl9sb2NrX2lycSgmY3J0
Yy0+YmFzZS5kZXYtPmV2ZW50X2xvY2spOw0KPiArCQkvKiBhcm0gdGhlIGV2ZW50IGZvciB0aGUg
ZmxpcCBkb25lIGlycSBoYW5kbGVyICovDQo+ICsJCWNydGMtPmZsaXBfZG9uZV9ldmVudCA9IG5l
d19jcnRjX3N0YXRlLT51YXBpLmV2ZW50Ow0KPiArCQlzcGluX3VubG9ja19pcnEoJmNydGMtPmJh
c2UuZGV2LT5ldmVudF9sb2NrKTsNCj4gKw0KPiArCQluZXdfY3J0Y19zdGF0ZS0+dWFwaS5ldmVu
dCA9IE5VTEw7DQo+ICsJCXJldHVybjsNCj4gKwl9DQo+ICsNCj4gKwlpZiAoaW50ZWxfY3J0Y19u
ZWVkc192Ymxhbmtfd29yayhuZXdfY3J0Y19zdGF0ZSkpDQo+ICsJCWludGVsX2NydGNfdmJsYW5r
X3dvcmtfaW5pdChuZXdfY3J0Y19zdGF0ZSk7DQo+ICsNCj4gKwlpbnRlbF92YmxhbmtfZXZhZGVf
aW5pdChvbGRfY3J0Y19zdGF0ZSwgbmV3X2NydGNfc3RhdGUsICZldmFkZSk7DQo+ICsJaWYgKGV2
YWRlLm1pbiA8PSAwIHx8IGV2YWRlLm1heCA8PSAwKQ0KPiArCQlnb3RvIGlycV9kaXNhYmxlOw0K
PiArDQo+ICsJaWYgKGRybV9XQVJOX09OKCZkZXZfcHJpdi0+ZHJtLCBkcm1fY3J0Y192Ymxhbmtf
Z2V0KCZjcnRjLQ0KPiA+YmFzZSkpKQ0KPiArCQlnb3RvIGlycV9kaXNhYmxlOw0KPiArDQo+ICsJ
LyoNCj4gKwkgKiBXYWl0IGZvciBwc3IgdG8gaWRsZSBvdXQgYWZ0ZXIgZW5hYmxpbmcgdGhlIFZC
TCBpbnRlcnJ1cHRzDQo+ICsJICogVkJMIGludGVycnVwdHMgd2lsbCBzdGFydCB0aGUgUFNSIGV4
aXQgYW5kIHByZXZlbnQgYSBQU1INCj4gKwkgKiByZS1lbnRyeSBhcyB3ZWxsLg0KPiArCSAqLw0K
PiArCWludGVsX3Bzcl93YWl0X2Zvcl9pZGxlX2xvY2tlZChuZXdfY3J0Y19zdGF0ZSk7DQo+ICsN
Cj4gKwlsb2NhbF9pcnFfZGlzYWJsZSgpOw0KPiArDQo+ICsJY3J0Yy0+ZGVidWcubWluX3ZibCA9
IGV2YWRlLm1pbjsNCj4gKwljcnRjLT5kZWJ1Zy5tYXhfdmJsID0gZXZhZGUubWF4Ow0KPiArCXRy
YWNlX2ludGVsX3BpcGVfdXBkYXRlX3N0YXJ0KGNydGMpOw0KPiArDQo+ICsJc2NhbmxpbmUgPSBp
bnRlbF92YmxhbmtfZXZhZGUoJmV2YWRlKTsNCj4gKw0KPiAgCWRybV9jcnRjX3ZibGFua19wdXQo
JmNydGMtPmJhc2UpOw0KPiANCj4gIAljcnRjLT5kZWJ1Zy5zY2FubGluZV9zdGFydCA9IHNjYW5s
aW5lOw0KPiAtLQ0KPiAyLjQxLjANCg0K

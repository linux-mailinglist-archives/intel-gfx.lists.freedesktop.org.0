Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 5945810CAA7
	for <lists+intel-gfx@lfdr.de>; Thu, 28 Nov 2019 15:51:32 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 1FF916E835;
	Thu, 28 Nov 2019 14:51:30 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga04.intel.com (mga04.intel.com [192.55.52.120])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 8605A6E835
 for <intel-gfx@lists.freedesktop.org>; Thu, 28 Nov 2019 14:51:28 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga007.jf.intel.com ([10.7.209.58])
 by fmsmga104.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 28 Nov 2019 06:51:27 -0800
X-IronPort-AV: E=Sophos;i="5.69,253,1571727600"; d="scan'208";a="199545289"
Received: from jnikula-mobl3.fi.intel.com (HELO localhost) ([10.237.66.161])
 by orsmga007-auth.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 28 Nov 2019 06:51:25 -0800
From: Jani Nikula <jani.nikula@linux.intel.com>
To: =?utf-8?Q?Jos=C3=A9?= Roberto de Souza <jose.souza@intel.com>,
 intel-gfx@lists.freedesktop.org
In-Reply-To: <20191126231717.76703-1-jose.souza@intel.com>
Organization: Intel Finland Oy - BIC 0357606-4 - Westendinkatu 7, 02160 Espoo
References: <20191126231717.76703-1-jose.souza@intel.com>
Date: Thu, 28 Nov 2019 16:51:22 +0200
Message-ID: <87tv6okqad.fsf@intel.com>
MIME-Version: 1.0
Subject: Re: [Intel-gfx] [PATCH] drm/i915/display/tgl: Do not program
 clockgating
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: Lucas De Marchi <lucas.demarchi@intel.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

T24gVHVlLCAyNiBOb3YgMjAxOSwgSm9zw6kgUm9iZXJ0byBkZSBTb3V6YSA8am9zZS5zb3V6YUBp
bnRlbC5jb20+IHdyb3RlOgo+IFRhbGtlZCB3aXRoIEhXIHRlYW0gYW5kIHRoaXMgaXMgYSBsZWZ0
IG92ZXIsIGRyaXZlciBzaG91bGQgbm90Cj4gcHJvZ3JhbSBjbG9ja2dhdGluZywgZGVrZWwgZmly
bXdhcmUgd2lsbCBiZSByZXBvbnNpYmxlIGZvciBhbnkKPiBjbG9ja2dhdGluZyBwcm9ncmFtaW5n
Lgo+Cj4gQlNwZWMgaXNzdWU6IDIwODg1Cj4gQlNwZWM6IDQ5MjkyCj4KPiBDYzogTHVjYXMgRGUg
TWFyY2hpIDxsdWNhcy5kZW1hcmNoaUBpbnRlbC5jb20+Cj4gQ2M6IE1hdHQgUm9wZXIgPG1hdHRo
ZXcuZC5yb3BlckBpbnRlbC5jb20+Cj4gU2lnbmVkLW9mZi1ieTogSm9zw6kgUm9iZXJ0byBkZSBT
b3V6YSA8am9zZS5zb3V6YUBpbnRlbC5jb20+Cj4gLS0tCj4gIGRyaXZlcnMvZ3B1L2RybS9pOTE1
L2Rpc3BsYXkvaW50ZWxfZGRpLmMgfCA1NSArKysrKysrLS0tLS0tLS0tLS0tLS0tLS0KPiAgMSBm
aWxlIGNoYW5nZWQsIDE2IGluc2VydGlvbnMoKyksIDM5IGRlbGV0aW9ucygtKQo+Cj4gZGlmZiAt
LWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGRpLmMgYi9kcml2ZXJz
L2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2RkaS5jCj4gaW5kZXggYTk3NjYwNmQyMWM3Li43
NDg4ZGNiYjYzN2YgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9p
bnRlbF9kZGkuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGRp
LmMKPiBAQCAtMzE2Nyw2ICszMTY3LDExIEBAIGljbF9waHlfc2V0X2Nsb2NrX2dhdGluZyhzdHJ1
Y3QgaW50ZWxfZGlnaXRhbF9wb3J0ICpkaWdfcG9ydCwgYm9vbCBlbmFibGUpCj4gIAl1MzIgdmFs
LCBiaXRzOwo+ICAJaW50IGxuOwo+ICAKPiArCS8qCj4gKwkgKiBTaG91bGQgbm90IGJlIGNhbGxl
ZCBmb3IgR0VOMTIrLCBzZWUgIlBIWSBDbG9ja2dhdGluZyBwcm9ncmFtbWluZyIKPiArCSAqIG5v
dGUKPiArCSAqLwo+ICsKCklNSE8gdGhpcyBraW5kIG9mIGNvbW1lbnRzIGRvIHVzIG5vIGdvb2Qu
CgpJZiB5b3Ugd2FudCB0byBiZSBwYXJhbm9pZCwKCglpZiAoV0FSTl9PTihJTlRFTF9HRU4oZGV2
X3ByaXYpID49IDEyKSkKICAgICAgICAJcmV0dXJuOwoKd2hpY2ggaGFzIHRoZSBiZW5lZml0IG9m
IGJlaW5nIHNlbGYtZG9jdW1lbnRpbmcgY29kZS4gQnV0IEknbSBub3QKY29udmluY2VkIG9mIGV2
ZW4gdGhhdC4KCkJSLApKYW5pLgoKPiAgCWlmICh0Y19wb3J0ID09IFBPUlRfVENfTk9ORSkKPiAg
CQlyZXR1cm47Cj4gIAo+IEBAIC0zMTc1LDM5ICszMTgwLDI2IEBAIGljbF9waHlfc2V0X2Nsb2Nr
X2dhdGluZyhzdHJ1Y3QgaW50ZWxfZGlnaXRhbF9wb3J0ICpkaWdfcG9ydCwgYm9vbCBlbmFibGUp
Cj4gIAkgICAgICAgTUdfRFBfTU9ERV9DRkdfR0FPTlBXUl9HQVRJTkc7Cj4gIAo+ICAJZm9yIChs
biA9IDA7IGxuIDwgMjsgbG4rKykgewo+IC0JCWlmIChJTlRFTF9HRU4oZGV2X3ByaXYpID49IDEy
KSB7Cj4gLQkJCUk5MTVfV1JJVEUoSElQX0lOREVYX1JFRyh0Y19wb3J0KSwgSElQX0lOREVYX1ZB
TCh0Y19wb3J0LCBsbikpOwo+IC0JCQl2YWwgPSBJOTE1X1JFQUQoREtMX0RQX01PREUodGNfcG9y
dCkpOwo+IC0JCX0gZWxzZSB7Cj4gLQkJCXZhbCA9IEk5MTVfUkVBRChNR19EUF9NT0RFKGxuLCB0
Y19wb3J0KSk7Cj4gLQkJfQo+ICsJCXZhbCA9IEk5MTVfUkVBRChNR19EUF9NT0RFKGxuLCB0Y19w
b3J0KSk7Cj4gIAo+ICAJCWlmIChlbmFibGUpCj4gIAkJCXZhbCB8PSBiaXRzOwo+ICAJCWVsc2UK
PiAgCQkJdmFsICY9IH5iaXRzOwo+ICAKPiAtCQlpZiAoSU5URUxfR0VOKGRldl9wcml2KSA+PSAx
MikKPiAtCQkJSTkxNV9XUklURShES0xfRFBfTU9ERSh0Y19wb3J0KSwgdmFsKTsKPiAtCQllbHNl
Cj4gLQkJCUk5MTVfV1JJVEUoTUdfRFBfTU9ERShsbiwgdGNfcG9ydCksIHZhbCk7Cj4gKwkJSTkx
NV9XUklURShNR19EUF9NT0RFKGxuLCB0Y19wb3J0KSwgdmFsKTsKPiAgCX0KPiAgCj4gLQlpZiAo
SU5URUxfR0VOKGRldl9wcml2KSA9PSAxMSkgewo+IC0JCWJpdHMgPSBNR19NSVNDX1NVUzBfQ0ZH
X1RSMlBXUl9HQVRJTkcgfAo+IC0JCSAgICAgICBNR19NSVNDX1NVUzBfQ0ZHX0NMMlBXUl9HQVRJ
TkcgfAo+IC0JCSAgICAgICBNR19NSVNDX1NVUzBfQ0ZHX0dBT05QV1JfR0FUSU5HIHwKPiAtCQkg
ICAgICAgTUdfTUlTQ19TVVMwX0NGR19UUlBXUl9HQVRJTkcgfAo+IC0JCSAgICAgICBNR19NSVND
X1NVUzBfQ0ZHX0NMMVBXUl9HQVRJTkcgfAo+IC0JCSAgICAgICBNR19NSVNDX1NVUzBfQ0ZHX0RH
UFdSX0dBVElORzsKPiArCWJpdHMgPSBNR19NSVNDX1NVUzBfQ0ZHX1RSMlBXUl9HQVRJTkcgfCBN
R19NSVNDX1NVUzBfQ0ZHX0NMMlBXUl9HQVRJTkcgfAo+ICsJICAgICAgIE1HX01JU0NfU1VTMF9D
RkdfR0FPTlBXUl9HQVRJTkcgfCBNR19NSVNDX1NVUzBfQ0ZHX1RSUFdSX0dBVElORyB8Cj4gKwkg
ICAgICAgTUdfTUlTQ19TVVMwX0NGR19DTDFQV1JfR0FUSU5HIHwgTUdfTUlTQ19TVVMwX0NGR19E
R1BXUl9HQVRJTkc7Cj4gIAo+IC0JCXZhbCA9IEk5MTVfUkVBRChNR19NSVNDX1NVUzAodGNfcG9y
dCkpOwo+IC0JCWlmIChlbmFibGUpCj4gLQkJCXZhbCB8PSAoYml0cyB8IE1HX01JU0NfU1VTMF9T
VVNDTEtfRFlOQ0xLR0FURV9NT0RFKDMpKTsKPiAtCQllbHNlCj4gLQkJCXZhbCAmPSB+KGJpdHMg
fCBNR19NSVNDX1NVUzBfU1VTQ0xLX0RZTkNMS0dBVEVfTU9ERV9NQVNLKTsKPiAtCQlJOTE1X1dS
SVRFKE1HX01JU0NfU1VTMCh0Y19wb3J0KSwgdmFsKTsKPiAtCX0KPiArCXZhbCA9IEk5MTVfUkVB
RChNR19NSVNDX1NVUzAodGNfcG9ydCkpOwo+ICsJaWYgKGVuYWJsZSkKPiArCQl2YWwgfD0gKGJp
dHMgfCBNR19NSVNDX1NVUzBfU1VTQ0xLX0RZTkNMS0dBVEVfTU9ERSgzKSk7Cj4gKwllbHNlCj4g
KwkJdmFsICY9IH4oYml0cyB8IE1HX01JU0NfU1VTMF9TVVNDTEtfRFlOQ0xLR0FURV9NT0RFX01B
U0spOwo+ICsJSTkxNV9XUklURShNR19NSVNDX1NVUzAodGNfcG9ydCksIHZhbCk7Cj4gIH0KPiAg
Cj4gIHN0YXRpYyB2b2lkCj4gQEAgLTM1MDgsMTIgKzM1MDAsNiBAQCBzdGF0aWMgdm9pZCB0Z2xf
ZGRpX3ByZV9lbmFibGVfZHAoc3RydWN0IGludGVsX2VuY29kZXIgKmVuY29kZXIsCj4gIAkgKiBk
b3duIHRoaXMgZnVuY3Rpb24uCj4gIAkgKi8KPiAgCj4gLQkvKgo+IC0JICogNy5kIFR5cGUgQyB3
aXRoIERQIGFsdGVybmF0ZSBvciBmaXhlZC9sZWdhY3kvc3RhdGljIGNvbm5lY3Rpb24gLQo+IC0J
ICogRGlzYWJsZSBQSFkgY2xvY2sgZ2F0aW5nIHBlciBUeXBlLUMgRERJIEJ1ZmZlciBwYWdlCj4g
LQkgKi8KPiAtCWljbF9waHlfc2V0X2Nsb2NrX2dhdGluZyhkaWdfcG9ydCwgZmFsc2UpOwo+IC0K
PiAgCS8qIDcuZSBDb25maWd1cmUgdm9sdGFnZSBzd2luZyBhbmQgcmVsYXRlZCBJTyBzZXR0aW5n
cyAqLwo+ICAJdGdsX2RkaV92c3dpbmdfc2VxdWVuY2UoZW5jb2RlciwgY3J0Y19zdGF0ZS0+cG9y
dF9jbG9jaywgbGV2ZWwsCj4gIAkJCQllbmNvZGVyLT50eXBlKTsKPiBAQCAtMzU2NSwxNSArMzU1
MSw2IEBAIHN0YXRpYyB2b2lkIHRnbF9kZGlfcHJlX2VuYWJsZV9kcChzdHJ1Y3QgaW50ZWxfZW5j
b2RlciAqZW5jb2RlciwKPiAgCWlmICghaXNfdHJhbnNfcG9ydF9zeW5jX21vZGUoY3J0Y19zdGF0
ZSkpCj4gIAkJaW50ZWxfZHBfc3RvcF9saW5rX3RyYWluKGludGVsX2RwKTsKPiAgCj4gLQkvKgo+
IC0JICogVE9ETzogZW5hYmxlIGNsb2NrIGdhdGluZwo+IC0JICoKPiAtCSAqIEl0IGlzIG5vdCB3
cml0dGVuIGluIERQIGVuYWJsaW5nIHNlcXVlbmNlIGJ1dCAiUEhZIENsb2NrZ2F0aW5nCj4gLQkg
KiBwcm9ncmFtbWluZyIgc3RhdGVzIHRoYXQgY2xvY2sgZ2F0aW5nIHNob3VsZCBiZSBlbmFibGVk
IGFmdGVyIHRoZQo+IC0JICogbGluayB0cmFpbmluZyBidXQgZG9pbmcgc28gY2F1c2VzIGFsbCB0
aGUgZm9sbG93aW5nIHRyYWluaW5ncyB0byBmYWlsCj4gLQkgKiBzbyBub3QgZW5hYmxpbmcgaXQg
Zm9yIG5vdy4KPiAtCSAqLwo+IC0KPiAgCS8qIDcubCBDb25maWd1cmUgYW5kIGVuYWJsZSBGRUMg
aWYgbmVlZGVkICovCj4gIAlpbnRlbF9kZGlfZW5hYmxlX2ZlYyhlbmNvZGVyLCBjcnRjX3N0YXRl
KTsKPiAgCWludGVsX2RzY19lbmFibGUoZW5jb2RlciwgY3J0Y19zdGF0ZSk7CgotLSAKSmFuaSBO
aWt1bGEsIEludGVsIE9wZW4gU291cmNlIEdyYXBoaWNzIENlbnRlcgpfX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpJbnRlbC1nZnggbWFpbGluZyBsaXN0Cklu
dGVsLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5v
cmcvbWFpbG1hbi9saXN0aW5mby9pbnRlbC1nZng=

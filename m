Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id BD1D2AD4C6
	for <lists+intel-gfx@lfdr.de>; Mon,  9 Sep 2019 10:23:02 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 3100A89970;
	Mon,  9 Sep 2019 08:23:00 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga04.intel.com (mga04.intel.com [192.55.52.120])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 21A9589958
 for <intel-gfx@lists.freedesktop.org>; Mon,  9 Sep 2019 08:22:56 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga002.jf.intel.com ([10.7.209.21])
 by fmsmga104.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 09 Sep 2019 01:22:55 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.64,484,1559545200"; d="scan'208";a="196123496"
Received: from hoernig-mobl.ger.corp.intel.com (HELO delly.ger.corp.intel.com)
 ([10.249.33.104])
 by orsmga002.jf.intel.com with ESMTP; 09 Sep 2019 01:22:54 -0700
From: Lionel Landwerlin <lionel.g.landwerlin@intel.com>
To: intel-gfx@lists.freedesktop.org
Date: Mon,  9 Sep 2019 11:22:38 +0300
Message-Id: <20190909082245.27245-6-lionel.g.landwerlin@intel.com>
X-Mailer: git-send-email 2.23.0
In-Reply-To: <20190909082245.27245-1-lionel.g.landwerlin@intel.com>
References: <20190909082245.27245-1-lionel.g.landwerlin@intel.com>
MIME-Version: 1.0
Subject: [Intel-gfx] [CI 06/13] drm/i915/perf: move perf types to their own
 header
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

Rm9sbG93aW5nIGEgcGF0dGVybiB1c2VkIHRocm91Z2hvdXQgdGhlIGRyaXZlci4KClNpZ25lZC1v
ZmYtYnk6IExpb25lbCBMYW5kd2VybGluIDxsaW9uZWwuZy5sYW5kd2VybGluQGludGVsLmNvbT4K
LS0tCiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2Rydi5oICAgICAgICB8IDMwMCArLS0tLS0t
LS0tLS0tLS0tLS0tLS0tCiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3BlcmYuaCAgICAgICB8
ICAgMiArCiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3BlcmZfdHlwZXMuaCB8IDMyOCArKysr
KysrKysrKysrKysrKysrKysrKysrCiAzIGZpbGVzIGNoYW5nZWQsIDMzMSBpbnNlcnRpb25zKCsp
LCAyOTkgZGVsZXRpb25zKC0pCiBjcmVhdGUgbW9kZSAxMDA2NDQgZHJpdmVycy9ncHUvZHJtL2k5
MTUvaTkxNV9wZXJmX3R5cGVzLmgKCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9p
OTE1X2Rydi5oIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kcnYuaAppbmRleCAyNzRhMTE5
M2Q0ZjAuLmY0MTQ1YWU2YWI2ZSAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkx
NV9kcnYuaAorKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2Rydi5oCkBAIC05Miw2ICs5
Miw3IEBACiAjaW5jbHVkZSAiaTkxNV9nZW1fZmVuY2VfcmVnLmgiCiAjaW5jbHVkZSAiaTkxNV9n
ZW1fZ3R0LmgiCiAjaW5jbHVkZSAiaTkxNV9ncHVfZXJyb3IuaCIKKyNpbmNsdWRlICJpOTE1X3Bl
cmZfdHlwZXMuaCIKICNpbmNsdWRlICJpOTE1X3JlcXVlc3QuaCIKICNpbmNsdWRlICJpOTE1X3Nj
aGVkdWxlci5oIgogI2luY2x1ZGUgImd0L2ludGVsX3RpbWVsaW5lLmgiCkBAIC05NzksMzA1ICs5
ODAsNiBAQCBzdHJ1Y3QgaW50ZWxfd21fY29uZmlnIHsKIAlib29sIHNwcml0ZXNfc2NhbGVkOwog
fTsKIAotc3RydWN0IGk5MTVfb2FfZm9ybWF0IHsKLQl1MzIgZm9ybWF0OwotCWludCBzaXplOwot
fTsKLQotc3RydWN0IGk5MTVfb2FfcmVnIHsKLQlpOTE1X3JlZ190IGFkZHI7Ci0JdTMyIHZhbHVl
OwotfTsKLQotc3RydWN0IGk5MTVfb2FfY29uZmlnIHsKLQljaGFyIHV1aWRbVVVJRF9TVFJJTkdf
TEVOICsgMV07Ci0JaW50IGlkOwotCi0JY29uc3Qgc3RydWN0IGk5MTVfb2FfcmVnICptdXhfcmVn
czsKLQl1MzIgbXV4X3JlZ3NfbGVuOwotCWNvbnN0IHN0cnVjdCBpOTE1X29hX3JlZyAqYl9jb3Vu
dGVyX3JlZ3M7Ci0JdTMyIGJfY291bnRlcl9yZWdzX2xlbjsKLQljb25zdCBzdHJ1Y3QgaTkxNV9v
YV9yZWcgKmZsZXhfcmVnczsKLQl1MzIgZmxleF9yZWdzX2xlbjsKLQotCXN0cnVjdCBhdHRyaWJ1
dGVfZ3JvdXAgc3lzZnNfbWV0cmljOwotCXN0cnVjdCBhdHRyaWJ1dGUgKmF0dHJzWzJdOwotCXN0
cnVjdCBkZXZpY2VfYXR0cmlidXRlIHN5c2ZzX21ldHJpY19pZDsKLQotCWF0b21pY190IHJlZl9j
b3VudDsKLX07Ci0KLXN0cnVjdCBpOTE1X3BlcmZfc3RyZWFtOwotCi0vKioKLSAqIHN0cnVjdCBp
OTE1X3BlcmZfc3RyZWFtX29wcyAtIHRoZSBPUHMgdG8gc3VwcG9ydCBhIHNwZWNpZmljIHN0cmVh
bSB0eXBlCi0gKi8KLXN0cnVjdCBpOTE1X3BlcmZfc3RyZWFtX29wcyB7Ci0JLyoqCi0JICogQGVu
YWJsZTogRW5hYmxlcyB0aGUgY29sbGVjdGlvbiBvZiBIVyBzYW1wbGVzLCBlaXRoZXIgaW4gcmVz
cG9uc2UgdG8KLQkgKiBgSTkxNV9QRVJGX0lPQ1RMX0VOQUJMRWAgb3IgaW1wbGljaXRseSBjYWxs
ZWQgd2hlbiBzdHJlYW0gaXMgb3BlbmVkCi0JICogd2l0aG91dCBgSTkxNV9QRVJGX0ZMQUdfRElT
QUJMRURgLgotCSAqLwotCXZvaWQgKCplbmFibGUpKHN0cnVjdCBpOTE1X3BlcmZfc3RyZWFtICpz
dHJlYW0pOwotCi0JLyoqCi0JICogQGRpc2FibGU6IERpc2FibGVzIHRoZSBjb2xsZWN0aW9uIG9m
IEhXIHNhbXBsZXMsIGVpdGhlciBpbiByZXNwb25zZQotCSAqIHRvIGBJOTE1X1BFUkZfSU9DVExf
RElTQUJMRWAgb3IgaW1wbGljaXRseSBjYWxsZWQgYmVmb3JlIGRlc3Ryb3lpbmcKLQkgKiB0aGUg
c3RyZWFtLgotCSAqLwotCXZvaWQgKCpkaXNhYmxlKShzdHJ1Y3QgaTkxNV9wZXJmX3N0cmVhbSAq
c3RyZWFtKTsKLQotCS8qKgotCSAqIEBwb2xsX3dhaXQ6IENhbGwgcG9sbF93YWl0LCBwYXNzaW5n
IGEgd2FpdCBxdWV1ZSB0aGF0IHdpbGwgYmUgd29rZW4KLQkgKiBvbmNlIHRoZXJlIGlzIHNvbWV0
aGluZyByZWFkeSB0byByZWFkKCkgZm9yIHRoZSBzdHJlYW0KLQkgKi8KLQl2b2lkICgqcG9sbF93
YWl0KShzdHJ1Y3QgaTkxNV9wZXJmX3N0cmVhbSAqc3RyZWFtLAotCQkJICBzdHJ1Y3QgZmlsZSAq
ZmlsZSwKLQkJCSAgcG9sbF90YWJsZSAqd2FpdCk7Ci0KLQkvKioKLQkgKiBAd2FpdF91bmxvY2tl
ZDogRm9yIGhhbmRsaW5nIGEgYmxvY2tpbmcgcmVhZCwgd2FpdCB1bnRpbCB0aGVyZSBpcwotCSAq
IHNvbWV0aGluZyB0byByZWFkeSB0byByZWFkKCkgZm9yIHRoZSBzdHJlYW0uIEUuZy4gd2FpdCBv
biB0aGUgc2FtZQotCSAqIHdhaXQgcXVldWUgdGhhdCB3b3VsZCBiZSBwYXNzZWQgdG8gcG9sbF93
YWl0KCkuCi0JICovCi0JaW50ICgqd2FpdF91bmxvY2tlZCkoc3RydWN0IGk5MTVfcGVyZl9zdHJl
YW0gKnN0cmVhbSk7Ci0KLQkvKioKLQkgKiBAcmVhZDogQ29weSBidWZmZXJlZCBtZXRyaWNzIGFz
IHJlY29yZHMgdG8gdXNlcnNwYWNlCi0JICogKipidWYqKjogdGhlIHVzZXJzcGFjZSwgZGVzdGlu
YXRpb24gYnVmZmVyCi0JICogKipjb3VudCoqOiB0aGUgbnVtYmVyIG9mIGJ5dGVzIHRvIGNvcHks
IHJlcXVlc3RlZCBieSB1c2Vyc3BhY2UKLQkgKiAqKm9mZnNldCoqOiB6ZXJvIGF0IHRoZSBzdGFy
dCBvZiB0aGUgcmVhZCwgdXBkYXRlZCBhcyB0aGUgcmVhZAotCSAqIHByb2NlZWRzLCBpdCByZXBy
ZXNlbnRzIGhvdyBtYW55IGJ5dGVzIGhhdmUgYmVlbiBjb3BpZWQgc28gZmFyIGFuZAotCSAqIHRo
ZSBidWZmZXIgb2Zmc2V0IGZvciBjb3B5aW5nIHRoZSBuZXh0IHJlY29yZC4KLQkgKgotCSAqIENv
cHkgYXMgbWFueSBidWZmZXJlZCBpOTE1IHBlcmYgc2FtcGxlcyBhbmQgcmVjb3JkcyBmb3IgdGhp
cyBzdHJlYW0KLQkgKiB0byB1c2Vyc3BhY2UgYXMgd2lsbCBmaXQgaW4gdGhlIGdpdmVuIGJ1ZmZl
ci4KLQkgKgotCSAqIE9ubHkgd3JpdGUgY29tcGxldGUgcmVjb3JkczsgcmV0dXJuaW5nIC0lRU5P
U1BDIGlmIHRoZXJlIGlzbid0IHJvb20KLQkgKiBmb3IgYSBjb21wbGV0ZSByZWNvcmQuCi0JICoK
LQkgKiBSZXR1cm4gYW55IGVycm9yIGNvbmRpdGlvbiB0aGF0IHJlc3VsdHMgaW4gYSBzaG9ydCBy
ZWFkIHN1Y2ggYXMKLQkgKiAtJUVOT1NQQyBvciAtJUVGQVVMVCwgZXZlbiB0aG91Z2ggdGhlc2Ug
bWF5IGJlIHNxdWFzaGVkIGJlZm9yZQotCSAqIHJldHVybmluZyB0byB1c2Vyc3BhY2UuCi0JICov
Ci0JaW50ICgqcmVhZCkoc3RydWN0IGk5MTVfcGVyZl9zdHJlYW0gKnN0cmVhbSwKLQkJICAgIGNo
YXIgX191c2VyICpidWYsCi0JCSAgICBzaXplX3QgY291bnQsCi0JCSAgICBzaXplX3QgKm9mZnNl
dCk7Ci0KLQkvKioKLQkgKiBAZGVzdHJveTogQ2xlYW51cCBhbnkgc3RyZWFtIHNwZWNpZmljIHJl
c291cmNlcy4KLQkgKgotCSAqIFRoZSBzdHJlYW0gd2lsbCBhbHdheXMgYmUgZGlzYWJsZWQgYmVm
b3JlIHRoaXMgaXMgY2FsbGVkLgotCSAqLwotCXZvaWQgKCpkZXN0cm95KShzdHJ1Y3QgaTkxNV9w
ZXJmX3N0cmVhbSAqc3RyZWFtKTsKLX07Ci0KLS8qKgotICogc3RydWN0IGk5MTVfcGVyZl9zdHJl
YW0gLSBzdGF0ZSBmb3IgYSBzaW5nbGUgb3BlbiBzdHJlYW0gRkQKLSAqLwotc3RydWN0IGk5MTVf
cGVyZl9zdHJlYW0gewotCS8qKgotCSAqIEBkZXZfcHJpdjogaTkxNSBkcm0gZGV2aWNlCi0JICov
Ci0Jc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2OwotCi0JLyoqCi0JICogQHdha2Vy
ZWY6IEFzIHdlIGtlZXAgdGhlIGRldmljZSBhd2FrZSB3aGlsZSB0aGUgcGVyZiBzdHJlYW0gaXMK
LQkgKiBhY3RpdmUsIHdlIHRyYWNrIG91ciBydW50aW1lIHBtIHJlZmVyZW5jZSBmb3IgbGF0ZXIg
cmVsZWFzZS4KLQkgKi8KLQlpbnRlbF93YWtlcmVmX3Qgd2FrZXJlZjsKLQotCS8qKgotCSAqIEBl
bmdpbmU6IEVuZ2luZSBhc3NvY2lhdGVkIHdpdGggdGhpcyBwZXJmb3JtYW5jZSBzdHJlYW0uCi0J
ICovCi0Jc3RydWN0IGludGVsX2VuZ2luZV9jcyAqZW5naW5lOwotCi0JLyoqCi0JICogQHNhbXBs
ZV9mbGFnczogRmxhZ3MgcmVwcmVzZW50aW5nIHRoZSBgRFJNX0k5MTVfUEVSRl9QUk9QX1NBTVBM
RV8qYAotCSAqIHByb3BlcnRpZXMgZ2l2ZW4gd2hlbiBvcGVuaW5nIGEgc3RyZWFtLCByZXByZXNl
bnRpbmcgdGhlIGNvbnRlbnRzCi0JICogb2YgYSBzaW5nbGUgc2FtcGxlIGFzIHJlYWQoKSBieSB1
c2Vyc3BhY2UuCi0JICovCi0JdTMyIHNhbXBsZV9mbGFnczsKLQotCS8qKgotCSAqIEBzYW1wbGVf
c2l6ZTogQ29uc2lkZXJpbmcgdGhlIGNvbmZpZ3VyZWQgY29udGVudHMgb2YgYSBzYW1wbGUKLQkg
KiBjb21iaW5lZCB3aXRoIHRoZSByZXF1aXJlZCBoZWFkZXIgc2l6ZSwgdGhpcyBpcyB0aGUgdG90
YWwgc2l6ZQotCSAqIG9mIGEgc2luZ2xlIHNhbXBsZSByZWNvcmQuCi0JICovCi0JaW50IHNhbXBs
ZV9zaXplOwotCi0JLyoqCi0JICogQGN0eDogJU5VTEwgaWYgbWVhc3VyaW5nIHN5c3RlbS13aWRl
IGFjcm9zcyBhbGwgY29udGV4dHMgb3IgYQotCSAqIHNwZWNpZmljIGNvbnRleHQgdGhhdCBpcyBi
ZWluZyBtb25pdG9yZWQuCi0JICovCi0Jc3RydWN0IGk5MTVfZ2VtX2NvbnRleHQgKmN0eDsKLQot
CS8qKgotCSAqIEBlbmFibGVkOiBXaGV0aGVyIHRoZSBzdHJlYW0gaXMgY3VycmVudGx5IGVuYWJs
ZWQsIGNvbnNpZGVyaW5nCi0JICogd2hldGhlciB0aGUgc3RyZWFtIHdhcyBvcGVuZWQgaW4gYSBk
aXNhYmxlZCBzdGF0ZSBhbmQgYmFzZWQKLQkgKiBvbiBgSTkxNV9QRVJGX0lPQ1RMX0VOQUJMRWAg
YW5kIGBJOTE1X1BFUkZfSU9DVExfRElTQUJMRWAgY2FsbHMuCi0JICovCi0JYm9vbCBlbmFibGVk
OwotCi0JLyoqCi0JICogQG9wczogVGhlIGNhbGxiYWNrcyBwcm92aWRpbmcgdGhlIGltcGxlbWVu
dGF0aW9uIG9mIHRoaXMgc3BlY2lmaWMKLQkgKiB0eXBlIG9mIGNvbmZpZ3VyZWQgc3RyZWFtLgot
CSAqLwotCWNvbnN0IHN0cnVjdCBpOTE1X3BlcmZfc3RyZWFtX29wcyAqb3BzOwotCi0JLyoqCi0J
ICogQG9hX2NvbmZpZzogVGhlIE9BIGNvbmZpZ3VyYXRpb24gdXNlZCBieSB0aGUgc3RyZWFtLgot
CSAqLwotCXN0cnVjdCBpOTE1X29hX2NvbmZpZyAqb2FfY29uZmlnOwotCi0JLyoqCi0JICogVGhl
IE9BIGNvbnRleHQgc3BlY2lmaWMgaW5mb3JtYXRpb24uCi0JICovCi0Jc3RydWN0IGludGVsX2Nv
bnRleHQgKnBpbm5lZF9jdHg7Ci0JdTMyIHNwZWNpZmljX2N0eF9pZDsKLQl1MzIgc3BlY2lmaWNf
Y3R4X2lkX21hc2s7Ci0KLQlzdHJ1Y3QgaHJ0aW1lciBwb2xsX2NoZWNrX3RpbWVyOwotCXdhaXRf
cXVldWVfaGVhZF90IHBvbGxfd3E7Ci0JYm9vbCBwb2xsaW47Ci0KLQlib29sIHBlcmlvZGljOwot
CWludCBwZXJpb2RfZXhwb25lbnQ7Ci0KLQkvKioKLQkgKiBTdGF0ZSBvZiB0aGUgT0EgYnVmZmVy
LgotCSAqLwotCXN0cnVjdCB7Ci0JCXN0cnVjdCBpOTE1X3ZtYSAqdm1hOwotCQl1OCAqdmFkZHI7
Ci0JCXUzMiBsYXN0X2N0eF9pZDsKLQkJaW50IGZvcm1hdDsKLQkJaW50IGZvcm1hdF9zaXplOwot
CQlpbnQgc2l6ZV9leHBvbmVudDsKLQotCQkvKioKLQkJICogTG9ja3MgcmVhZHMgYW5kIHdyaXRl
cyB0byBhbGwgaGVhZC90YWlsIHN0YXRlCi0JCSAqCi0JCSAqIENvbnNpZGVyOiB0aGUgaGVhZCBh
bmQgdGFpbCBwb2ludGVyIHN0YXRlIG5lZWRzIHRvIGJlIHJlYWQKLQkJICogY29uc2lzdGVudGx5
IGZyb20gYSBocnRpbWVyIGNhbGxiYWNrIChhdG9taWMgY29udGV4dCkgYW5kCi0JCSAqIHJlYWQo
KSBmb3AgKHVzZXIgY29udGV4dCkgd2l0aCB0YWlsIHBvaW50ZXIgdXBkYXRlcyBoYXBwZW5pbmcK
LQkJICogaW4gYXRvbWljIGNvbnRleHQgYW5kIGhlYWQgdXBkYXRlcyBpbiB1c2VyIGNvbnRleHQg
YW5kIHRoZQotCQkgKiAodW5saWtlbHkpIHBvc3NpYmlsaXR5IG9mIHJlYWQoKSBlcnJvcnMgbmVl
ZGluZyB0byByZXNldCBhbGwKLQkJICogaGVhZC90YWlsIHN0YXRlLgotCQkgKgotCQkgKiBOb3Rl
OiBDb250ZW50aW9uL3BlcmZvcm1hbmNlIGFyZW4ndCBjdXJyZW50bHkgYSBzaWduaWZpY2FudAot
CQkgKiBjb25jZXJuIGhlcmUgY29uc2lkZXJpbmcgdGhlIHJlbGF0aXZlbHkgbG93IGZyZXF1ZW5j
eSBvZgotCQkgKiBocnRpbWVyIGNhbGxiYWNrcyAoNW1zIHBlcmlvZCkgYW5kIHRoYXQgcmVhZHMg
dHlwaWNhbGx5IG9ubHkKLQkJICogaGFwcGVuIGluIHJlc3BvbnNlIHRvIGEgaHJ0aW1lciBldmVu
dCBhbmQgbGlrZWx5IGNvbXBsZXRlCi0JCSAqIGJlZm9yZSB0aGUgbmV4dCBjYWxsYmFjay4KLQkJ
ICoKLQkJICogTm90ZTogVGhpcyBsb2NrIGlzIG5vdCBoZWxkICp3aGlsZSogcmVhZGluZyBhbmQg
Y29weWluZyBkYXRhCi0JCSAqIHRvIHVzZXJzcGFjZSBzbyB0aGUgdmFsdWUgb2YgaGVhZCBvYnNl
cnZlZCBpbiBodHJpbWVyCi0JCSAqIGNhbGxiYWNrcyB3b24ndCByZXByZXNlbnQgYW55IHBhcnRp
YWwgY29uc3VtcHRpb24gb2YgZGF0YS4KLQkJICovCi0JCXNwaW5sb2NrX3QgcHRyX2xvY2s7Ci0K
LQkJLyoqCi0JCSAqIE9uZSAnYWdpbmcnIHRhaWwgcG9pbnRlciBhbmQgb25lICdhZ2VkJyB0YWls
IHBvaW50ZXIgcmVhZHkgdG8KLQkJICogdXNlZCBmb3IgcmVhZGluZy4KLQkJICoKLQkJICogSW5p
dGlhbCB2YWx1ZXMgb2YgMHhmZmZmZmZmZiBhcmUgaW52YWxpZCBhbmQgaW1wbHkgdGhhdCBhbgot
CQkgKiB1cGRhdGUgaXMgcmVxdWlyZWQgKGFuZCBzaG91bGQgYmUgaWdub3JlZCBieSBhbiBhdHRl
bXB0ZWQKLQkJICogcmVhZCkKLQkJICovCi0JCXN0cnVjdCB7Ci0JCQl1MzIgb2Zmc2V0OwotCQl9
IHRhaWxzWzJdOwotCi0JCS8qKgotCQkgKiBJbmRleCBmb3IgdGhlIGFnZWQgdGFpbCByZWFkeSB0
byByZWFkKCkgZGF0YSB1cCB0by4KLQkJICovCi0JCXVuc2lnbmVkIGludCBhZ2VkX3RhaWxfaWR4
OwotCi0JCS8qKgotCQkgKiBBIG1vbm90b25pYyB0aW1lc3RhbXAgZm9yIHdoZW4gdGhlIGN1cnJl
bnQgYWdpbmcgdGFpbCBwb2ludGVyCi0JCSAqIHdhcyByZWFkOyB1c2VkIHRvIGRldGVybWluZSB3
aGVuIGl0IGlzIG9sZCBlbm91Z2ggdG8gdHJ1c3QuCi0JCSAqLwotCQl1NjQgYWdpbmdfdGltZXN0
YW1wOwotCi0JCS8qKgotCQkgKiBBbHRob3VnaCB3ZSBjYW4gYWx3YXlzIHJlYWQgYmFjayB0aGUg
aGVhZCBwb2ludGVyIHJlZ2lzdGVyLAotCQkgKiB3ZSBwcmVmZXIgdG8gYXZvaWQgdHJ1c3Rpbmcg
dGhlIEhXIHN0YXRlLCBqdXN0IHRvIGF2b2lkIGFueQotCQkgKiByaXNrIHRoYXQgc29tZSBoYXJk
d2FyZSBjb25kaXRpb24gY291bGQgKiBzb21laG93IGJ1bXAgdGhlCi0JCSAqIGhlYWQgcG9pbnRl
ciB1bnByZWRpY3RhYmx5IGFuZCBjYXVzZSB1cyB0byBmb3J3YXJkIHRoZSB3cm9uZwotCQkgKiBP
QSBidWZmZXIgZGF0YSB0byB1c2Vyc3BhY2UuCi0JCSAqLwotCQl1MzIgaGVhZDsKLQl9IG9hX2J1
ZmZlcjsKLX07Ci0KLS8qKgotICogc3RydWN0IGk5MTVfb2Ffb3BzIC0gR2VuIHNwZWNpZmljIGlt
cGxlbWVudGF0aW9uIG9mIGFuIE9BIHVuaXQgc3RyZWFtCi0gKi8KLXN0cnVjdCBpOTE1X29hX29w
cyB7Ci0JLyoqCi0JICogQGlzX3ZhbGlkX2JfY291bnRlcl9yZWc6IFZhbGlkYXRlcyByZWdpc3Rl
cidzIGFkZHJlc3MgZm9yCi0JICogcHJvZ3JhbW1pbmcgYm9vbGVhbiBjb3VudGVycyBmb3IgYSBw
YXJ0aWN1bGFyIHBsYXRmb3JtLgotCSAqLwotCWJvb2wgKCppc192YWxpZF9iX2NvdW50ZXJfcmVn
KShzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYsCi0JCQkJICAgICAgIHUzMiBhZGRy
KTsKLQotCS8qKgotCSAqIEBpc192YWxpZF9tdXhfcmVnOiBWYWxpZGF0ZXMgcmVnaXN0ZXIncyBh
ZGRyZXNzIGZvciBwcm9ncmFtbWluZyBtdXgKLQkgKiBmb3IgYSBwYXJ0aWN1bGFyIHBsYXRmb3Jt
LgotCSAqLwotCWJvb2wgKCppc192YWxpZF9tdXhfcmVnKShzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0
ZSAqZGV2X3ByaXYsIHUzMiBhZGRyKTsKLQotCS8qKgotCSAqIEBpc192YWxpZF9mbGV4X3JlZzog
VmFsaWRhdGVzIHJlZ2lzdGVyJ3MgYWRkcmVzcyBmb3IgcHJvZ3JhbW1pbmcKLQkgKiBmbGV4IEVV
IGZpbHRlcmluZyBmb3IgYSBwYXJ0aWN1bGFyIHBsYXRmb3JtLgotCSAqLwotCWJvb2wgKCppc192
YWxpZF9mbGV4X3JlZykoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2LCB1MzIgYWRk
cik7Ci0KLQkvKioKLQkgKiBAZW5hYmxlX21ldHJpY19zZXQ6IFNlbGVjdHMgYW5kIGFwcGxpZXMg
YW55IE1VWCBjb25maWd1cmF0aW9uIHRvIHNldAotCSAqIHVwIHRoZSBCb29sZWFuIGFuZCBDdXN0
b20gKEIvQykgY291bnRlcnMgdGhhdCBhcmUgcGFydCBvZiB0aGUKLQkgKiBjb3VudGVyIHJlcG9y
dHMgYmVpbmcgc2FtcGxlZC4gTWF5IGFwcGx5IHN5c3RlbSBjb25zdHJhaW50cyBzdWNoIGFzCi0J
ICogZGlzYWJsaW5nIEVVIGNsb2NrIGdhdGluZyBhcyByZXF1aXJlZC4KLQkgKi8KLQlpbnQgKCpl
bmFibGVfbWV0cmljX3NldCkoc3RydWN0IGk5MTVfcGVyZl9zdHJlYW0gKnN0cmVhbSk7Ci0KLQkv
KioKLQkgKiBAZGlzYWJsZV9tZXRyaWNfc2V0OiBSZW1vdmUgc3lzdGVtIGNvbnN0cmFpbnRzIGFz
c29jaWF0ZWQgd2l0aCB1c2luZwotCSAqIHRoZSBPQSB1bml0LgotCSAqLwotCXZvaWQgKCpkaXNh
YmxlX21ldHJpY19zZXQpKHN0cnVjdCBpOTE1X3BlcmZfc3RyZWFtICpzdHJlYW0pOwotCi0JLyoq
Ci0JICogQG9hX2VuYWJsZTogRW5hYmxlIHBlcmlvZGljIHNhbXBsaW5nCi0JICovCi0Jdm9pZCAo
Km9hX2VuYWJsZSkoc3RydWN0IGk5MTVfcGVyZl9zdHJlYW0gKnN0cmVhbSk7Ci0KLQkvKioKLQkg
KiBAb2FfZGlzYWJsZTogRGlzYWJsZSBwZXJpb2RpYyBzYW1wbGluZwotCSAqLwotCXZvaWQgKCpv
YV9kaXNhYmxlKShzdHJ1Y3QgaTkxNV9wZXJmX3N0cmVhbSAqc3RyZWFtKTsKLQotCS8qKgotCSAq
IEByZWFkOiBDb3B5IGRhdGEgZnJvbSB0aGUgY2lyY3VsYXIgT0EgYnVmZmVyIGludG8gYSBnaXZl
biB1c2Vyc3BhY2UKLQkgKiBidWZmZXIuCi0JICovCi0JaW50ICgqcmVhZCkoc3RydWN0IGk5MTVf
cGVyZl9zdHJlYW0gKnN0cmVhbSwKLQkJICAgIGNoYXIgX191c2VyICpidWYsCi0JCSAgICBzaXpl
X3QgY291bnQsCi0JCSAgICBzaXplX3QgKm9mZnNldCk7Ci0KLQkvKioKLQkgKiBAb2FfaHdfdGFp
bF9yZWFkOiByZWFkIHRoZSBPQSB0YWlsIHBvaW50ZXIgcmVnaXN0ZXIKLQkgKgotCSAqIEluIHBh
cnRpY3VsYXIgdGhpcyBlbmFibGVzIHVzIHRvIHNoYXJlIGFsbCB0aGUgZmlkZGx5IGNvZGUgZm9y
Ci0JICogaGFuZGxpbmcgdGhlIE9BIHVuaXQgdGFpbCBwb2ludGVyIHJhY2UgdGhhdCBhZmZlY3Rz
IG11bHRpcGxlCi0JICogZ2VuZXJhdGlvbnMuCi0JICovCi0JdTMyICgqb2FfaHdfdGFpbF9yZWFk
KShzdHJ1Y3QgaTkxNV9wZXJmX3N0cmVhbSAqc3RyZWFtKTsKLX07Ci0KIHN0cnVjdCBpbnRlbF9j
ZGNsa19zdGF0ZSB7CiAJdW5zaWduZWQgaW50IGNkY2xrLCB2Y28sIHJlZiwgYnlwYXNzOwogCXU4
IHZvbHRhZ2VfbGV2ZWw7CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3Bl
cmYuaCBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfcGVyZi5oCmluZGV4IDk1NTQ5ZGU2NTIx
Mi4uMjcwMTkzNTI2YjU2IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3Bl
cmYuaAorKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3BlcmYuaApAQCAtOCw2ICs4LDgg
QEAKIAogI2luY2x1ZGUgPGxpbnV4L3R5cGVzLmg+CiAKKyNpbmNsdWRlICJpOTE1X3BlcmZfdHlw
ZXMuaCIKKwogc3RydWN0IGRybV9kZXZpY2U7CiBzdHJ1Y3QgZHJtX2ZpbGU7CiBzdHJ1Y3QgZHJt
X2k5MTVfcHJpdmF0ZTsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfcGVy
Zl90eXBlcy5oIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9wZXJmX3R5cGVzLmgKbmV3IGZp
bGUgbW9kZSAxMDA2NDQKaW5kZXggMDAwMDAwMDAwMDAwLi4wZjcyYzgzMTQyZGQKLS0tIC9kZXYv
bnVsbAorKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3BlcmZfdHlwZXMuaApAQCAtMCww
ICsxLDMyOCBAQAorLyoKKyAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBNSVQKKyAqCisgKiBD
b3B5cmlnaHQgwqkgMjAxOSBJbnRlbCBDb3Jwb3JhdGlvbgorICovCisKKyNpZm5kZWYgX0k5MTVf
UEVSRl9UWVBFU19IXworI2RlZmluZSBfSTkxNV9QRVJGX1RZUEVTX0hfCisKKyNpbmNsdWRlIDxs
aW51eC9hdG9taWMuaD4KKyNpbmNsdWRlIDxsaW51eC9kZXZpY2UuaD4KKyNpbmNsdWRlIDxsaW51
eC9ocnRpbWVyLmg+CisjaW5jbHVkZSA8bGludXgvbGlzdC5oPgorI2luY2x1ZGUgPGxpbnV4L3Bv
bGwuaD4KKyNpbmNsdWRlIDxsaW51eC9zeXNmcy5oPgorI2luY2x1ZGUgPGxpbnV4L3V1aWQuaD4K
KyNpbmNsdWRlIDxsaW51eC93YWl0Lmg+CisKKyNpbmNsdWRlICJpOTE1X3JlZy5oIgorI2luY2x1
ZGUgImludGVsX3dha2VyZWYuaCIKKworc3RydWN0IGRybV9pOTE1X3ByaXZhdGU7CitzdHJ1Y3Qg
ZmlsZTsKK3N0cnVjdCBpOTE1X2dlbV9jb250ZXh0Oworc3RydWN0IGk5MTVfdm1hOworc3RydWN0
IGludGVsX2NvbnRleHQ7CitzdHJ1Y3QgaW50ZWxfZW5naW5lX2NzOworCitzdHJ1Y3QgaTkxNV9v
YV9mb3JtYXQgeworCXUzMiBmb3JtYXQ7CisJaW50IHNpemU7Cit9OworCitzdHJ1Y3QgaTkxNV9v
YV9yZWcgeworCWk5MTVfcmVnX3QgYWRkcjsKKwl1MzIgdmFsdWU7Cit9OworCitzdHJ1Y3QgaTkx
NV9vYV9jb25maWcgeworCWNoYXIgdXVpZFtVVUlEX1NUUklOR19MRU4gKyAxXTsKKwlpbnQgaWQ7
CisKKwljb25zdCBzdHJ1Y3QgaTkxNV9vYV9yZWcgKm11eF9yZWdzOworCXUzMiBtdXhfcmVnc19s
ZW47CisJY29uc3Qgc3RydWN0IGk5MTVfb2FfcmVnICpiX2NvdW50ZXJfcmVnczsKKwl1MzIgYl9j
b3VudGVyX3JlZ3NfbGVuOworCWNvbnN0IHN0cnVjdCBpOTE1X29hX3JlZyAqZmxleF9yZWdzOwor
CXUzMiBmbGV4X3JlZ3NfbGVuOworCisJc3RydWN0IGF0dHJpYnV0ZV9ncm91cCBzeXNmc19tZXRy
aWM7CisJc3RydWN0IGF0dHJpYnV0ZSAqYXR0cnNbMl07CisJc3RydWN0IGRldmljZV9hdHRyaWJ1
dGUgc3lzZnNfbWV0cmljX2lkOworCisJYXRvbWljX3QgcmVmX2NvdW50OworfTsKKworc3RydWN0
IGk5MTVfcGVyZl9zdHJlYW07CisKKy8qKgorICogc3RydWN0IGk5MTVfcGVyZl9zdHJlYW1fb3Bz
IC0gdGhlIE9QcyB0byBzdXBwb3J0IGEgc3BlY2lmaWMgc3RyZWFtIHR5cGUKKyAqLworc3RydWN0
IGk5MTVfcGVyZl9zdHJlYW1fb3BzIHsKKwkvKioKKwkgKiBAZW5hYmxlOiBFbmFibGVzIHRoZSBj
b2xsZWN0aW9uIG9mIEhXIHNhbXBsZXMsIGVpdGhlciBpbiByZXNwb25zZSB0bworCSAqIGBJOTE1
X1BFUkZfSU9DVExfRU5BQkxFYCBvciBpbXBsaWNpdGx5IGNhbGxlZCB3aGVuIHN0cmVhbSBpcyBv
cGVuZWQKKwkgKiB3aXRob3V0IGBJOTE1X1BFUkZfRkxBR19ESVNBQkxFRGAuCisJICovCisJdm9p
ZCAoKmVuYWJsZSkoc3RydWN0IGk5MTVfcGVyZl9zdHJlYW0gKnN0cmVhbSk7CisKKwkvKioKKwkg
KiBAZGlzYWJsZTogRGlzYWJsZXMgdGhlIGNvbGxlY3Rpb24gb2YgSFcgc2FtcGxlcywgZWl0aGVy
IGluIHJlc3BvbnNlCisJICogdG8gYEk5MTVfUEVSRl9JT0NUTF9ESVNBQkxFYCBvciBpbXBsaWNp
dGx5IGNhbGxlZCBiZWZvcmUgZGVzdHJveWluZworCSAqIHRoZSBzdHJlYW0uCisJICovCisJdm9p
ZCAoKmRpc2FibGUpKHN0cnVjdCBpOTE1X3BlcmZfc3RyZWFtICpzdHJlYW0pOworCisJLyoqCisJ
ICogQHBvbGxfd2FpdDogQ2FsbCBwb2xsX3dhaXQsIHBhc3NpbmcgYSB3YWl0IHF1ZXVlIHRoYXQg
d2lsbCBiZSB3b2tlbgorCSAqIG9uY2UgdGhlcmUgaXMgc29tZXRoaW5nIHJlYWR5IHRvIHJlYWQo
KSBmb3IgdGhlIHN0cmVhbQorCSAqLworCXZvaWQgKCpwb2xsX3dhaXQpKHN0cnVjdCBpOTE1X3Bl
cmZfc3RyZWFtICpzdHJlYW0sCisJCQkgIHN0cnVjdCBmaWxlICpmaWxlLAorCQkJICBwb2xsX3Rh
YmxlICp3YWl0KTsKKworCS8qKgorCSAqIEB3YWl0X3VubG9ja2VkOiBGb3IgaGFuZGxpbmcgYSBi
bG9ja2luZyByZWFkLCB3YWl0IHVudGlsIHRoZXJlIGlzCisJICogc29tZXRoaW5nIHRvIHJlYWR5
IHRvIHJlYWQoKSBmb3IgdGhlIHN0cmVhbS4gRS5nLiB3YWl0IG9uIHRoZSBzYW1lCisJICogd2Fp
dCBxdWV1ZSB0aGF0IHdvdWxkIGJlIHBhc3NlZCB0byBwb2xsX3dhaXQoKS4KKwkgKi8KKwlpbnQg
KCp3YWl0X3VubG9ja2VkKShzdHJ1Y3QgaTkxNV9wZXJmX3N0cmVhbSAqc3RyZWFtKTsKKworCS8q
KgorCSAqIEByZWFkOiBDb3B5IGJ1ZmZlcmVkIG1ldHJpY3MgYXMgcmVjb3JkcyB0byB1c2Vyc3Bh
Y2UKKwkgKiAqKmJ1ZioqOiB0aGUgdXNlcnNwYWNlLCBkZXN0aW5hdGlvbiBidWZmZXIKKwkgKiAq
KmNvdW50Kio6IHRoZSBudW1iZXIgb2YgYnl0ZXMgdG8gY29weSwgcmVxdWVzdGVkIGJ5IHVzZXJz
cGFjZQorCSAqICoqb2Zmc2V0Kio6IHplcm8gYXQgdGhlIHN0YXJ0IG9mIHRoZSByZWFkLCB1cGRh
dGVkIGFzIHRoZSByZWFkCisJICogcHJvY2VlZHMsIGl0IHJlcHJlc2VudHMgaG93IG1hbnkgYnl0
ZXMgaGF2ZSBiZWVuIGNvcGllZCBzbyBmYXIgYW5kCisJICogdGhlIGJ1ZmZlciBvZmZzZXQgZm9y
IGNvcHlpbmcgdGhlIG5leHQgcmVjb3JkLgorCSAqCisJICogQ29weSBhcyBtYW55IGJ1ZmZlcmVk
IGk5MTUgcGVyZiBzYW1wbGVzIGFuZCByZWNvcmRzIGZvciB0aGlzIHN0cmVhbQorCSAqIHRvIHVz
ZXJzcGFjZSBhcyB3aWxsIGZpdCBpbiB0aGUgZ2l2ZW4gYnVmZmVyLgorCSAqCisJICogT25seSB3
cml0ZSBjb21wbGV0ZSByZWNvcmRzOyByZXR1cm5pbmcgLSVFTk9TUEMgaWYgdGhlcmUgaXNuJ3Qg
cm9vbQorCSAqIGZvciBhIGNvbXBsZXRlIHJlY29yZC4KKwkgKgorCSAqIFJldHVybiBhbnkgZXJy
b3IgY29uZGl0aW9uIHRoYXQgcmVzdWx0cyBpbiBhIHNob3J0IHJlYWQgc3VjaCBhcworCSAqIC0l
RU5PU1BDIG9yIC0lRUZBVUxULCBldmVuIHRob3VnaCB0aGVzZSBtYXkgYmUgc3F1YXNoZWQgYmVm
b3JlCisJICogcmV0dXJuaW5nIHRvIHVzZXJzcGFjZS4KKwkgKi8KKwlpbnQgKCpyZWFkKShzdHJ1
Y3QgaTkxNV9wZXJmX3N0cmVhbSAqc3RyZWFtLAorCQkgICAgY2hhciBfX3VzZXIgKmJ1ZiwKKwkJ
ICAgIHNpemVfdCBjb3VudCwKKwkJICAgIHNpemVfdCAqb2Zmc2V0KTsKKworCS8qKgorCSAqIEBk
ZXN0cm95OiBDbGVhbnVwIGFueSBzdHJlYW0gc3BlY2lmaWMgcmVzb3VyY2VzLgorCSAqCisJICog
VGhlIHN0cmVhbSB3aWxsIGFsd2F5cyBiZSBkaXNhYmxlZCBiZWZvcmUgdGhpcyBpcyBjYWxsZWQu
CisJICovCisJdm9pZCAoKmRlc3Ryb3kpKHN0cnVjdCBpOTE1X3BlcmZfc3RyZWFtICpzdHJlYW0p
OworfTsKKworLyoqCisgKiBzdHJ1Y3QgaTkxNV9wZXJmX3N0cmVhbSAtIHN0YXRlIGZvciBhIHNp
bmdsZSBvcGVuIHN0cmVhbSBGRAorICovCitzdHJ1Y3QgaTkxNV9wZXJmX3N0cmVhbSB7CisJLyoq
CisJICogQGRldl9wcml2OiBpOTE1IGRybSBkZXZpY2UKKwkgKi8KKwlzdHJ1Y3QgZHJtX2k5MTVf
cHJpdmF0ZSAqZGV2X3ByaXY7CisKKwkvKioKKwkgKiBAd2FrZXJlZjogQXMgd2Uga2VlcCB0aGUg
ZGV2aWNlIGF3YWtlIHdoaWxlIHRoZSBwZXJmIHN0cmVhbSBpcworCSAqIGFjdGl2ZSwgd2UgdHJh
Y2sgb3VyIHJ1bnRpbWUgcG0gcmVmZXJlbmNlIGZvciBsYXRlciByZWxlYXNlLgorCSAqLworCWlu
dGVsX3dha2VyZWZfdCB3YWtlcmVmOworCisJLyoqCisJICogQGVuZ2luZTogRW5naW5lIGFzc29j
aWF0ZWQgd2l0aCB0aGlzIHBlcmZvcm1hbmNlIHN0cmVhbS4KKwkgKi8KKwlzdHJ1Y3QgaW50ZWxf
ZW5naW5lX2NzICplbmdpbmU7CisKKwkvKioKKwkgKiBAc2FtcGxlX2ZsYWdzOiBGbGFncyByZXBy
ZXNlbnRpbmcgdGhlIGBEUk1fSTkxNV9QRVJGX1BST1BfU0FNUExFXypgCisJICogcHJvcGVydGll
cyBnaXZlbiB3aGVuIG9wZW5pbmcgYSBzdHJlYW0sIHJlcHJlc2VudGluZyB0aGUgY29udGVudHMK
KwkgKiBvZiBhIHNpbmdsZSBzYW1wbGUgYXMgcmVhZCgpIGJ5IHVzZXJzcGFjZS4KKwkgKi8KKwl1
MzIgc2FtcGxlX2ZsYWdzOworCisJLyoqCisJICogQHNhbXBsZV9zaXplOiBDb25zaWRlcmluZyB0
aGUgY29uZmlndXJlZCBjb250ZW50cyBvZiBhIHNhbXBsZQorCSAqIGNvbWJpbmVkIHdpdGggdGhl
IHJlcXVpcmVkIGhlYWRlciBzaXplLCB0aGlzIGlzIHRoZSB0b3RhbCBzaXplCisJICogb2YgYSBz
aW5nbGUgc2FtcGxlIHJlY29yZC4KKwkgKi8KKwlpbnQgc2FtcGxlX3NpemU7CisKKwkvKioKKwkg
KiBAY3R4OiAlTlVMTCBpZiBtZWFzdXJpbmcgc3lzdGVtLXdpZGUgYWNyb3NzIGFsbCBjb250ZXh0
cyBvciBhCisJICogc3BlY2lmaWMgY29udGV4dCB0aGF0IGlzIGJlaW5nIG1vbml0b3JlZC4KKwkg
Ki8KKwlzdHJ1Y3QgaTkxNV9nZW1fY29udGV4dCAqY3R4OworCisJLyoqCisJICogQGVuYWJsZWQ6
IFdoZXRoZXIgdGhlIHN0cmVhbSBpcyBjdXJyZW50bHkgZW5hYmxlZCwgY29uc2lkZXJpbmcKKwkg
KiB3aGV0aGVyIHRoZSBzdHJlYW0gd2FzIG9wZW5lZCBpbiBhIGRpc2FibGVkIHN0YXRlIGFuZCBi
YXNlZAorCSAqIG9uIGBJOTE1X1BFUkZfSU9DVExfRU5BQkxFYCBhbmQgYEk5MTVfUEVSRl9JT0NU
TF9ESVNBQkxFYCBjYWxscy4KKwkgKi8KKwlib29sIGVuYWJsZWQ7CisKKwkvKioKKwkgKiBAb3Bz
OiBUaGUgY2FsbGJhY2tzIHByb3ZpZGluZyB0aGUgaW1wbGVtZW50YXRpb24gb2YgdGhpcyBzcGVj
aWZpYworCSAqIHR5cGUgb2YgY29uZmlndXJlZCBzdHJlYW0uCisJICovCisJY29uc3Qgc3RydWN0
IGk5MTVfcGVyZl9zdHJlYW1fb3BzICpvcHM7CisKKwkvKioKKwkgKiBAb2FfY29uZmlnOiBUaGUg
T0EgY29uZmlndXJhdGlvbiB1c2VkIGJ5IHRoZSBzdHJlYW0uCisJICovCisJc3RydWN0IGk5MTVf
b2FfY29uZmlnICpvYV9jb25maWc7CisKKwkvKioKKwkgKiBUaGUgT0EgY29udGV4dCBzcGVjaWZp
YyBpbmZvcm1hdGlvbi4KKwkgKi8KKwlzdHJ1Y3QgaW50ZWxfY29udGV4dCAqcGlubmVkX2N0eDsK
Kwl1MzIgc3BlY2lmaWNfY3R4X2lkOworCXUzMiBzcGVjaWZpY19jdHhfaWRfbWFzazsKKworCXN0
cnVjdCBocnRpbWVyIHBvbGxfY2hlY2tfdGltZXI7CisJd2FpdF9xdWV1ZV9oZWFkX3QgcG9sbF93
cTsKKwlib29sIHBvbGxpbjsKKworCWJvb2wgcGVyaW9kaWM7CisJaW50IHBlcmlvZF9leHBvbmVu
dDsKKworCS8qKgorCSAqIFN0YXRlIG9mIHRoZSBPQSBidWZmZXIuCisJICovCisJc3RydWN0IHsK
KwkJc3RydWN0IGk5MTVfdm1hICp2bWE7CisJCXU4ICp2YWRkcjsKKwkJdTMyIGxhc3RfY3R4X2lk
OworCQlpbnQgZm9ybWF0OworCQlpbnQgZm9ybWF0X3NpemU7CisJCWludCBzaXplX2V4cG9uZW50
OworCisJCS8qKgorCQkgKiBMb2NrcyByZWFkcyBhbmQgd3JpdGVzIHRvIGFsbCBoZWFkL3RhaWwg
c3RhdGUKKwkJICoKKwkJICogQ29uc2lkZXI6IHRoZSBoZWFkIGFuZCB0YWlsIHBvaW50ZXIgc3Rh
dGUgbmVlZHMgdG8gYmUgcmVhZAorCQkgKiBjb25zaXN0ZW50bHkgZnJvbSBhIGhydGltZXIgY2Fs
bGJhY2sgKGF0b21pYyBjb250ZXh0KSBhbmQKKwkJICogcmVhZCgpIGZvcCAodXNlciBjb250ZXh0
KSB3aXRoIHRhaWwgcG9pbnRlciB1cGRhdGVzIGhhcHBlbmluZworCQkgKiBpbiBhdG9taWMgY29u
dGV4dCBhbmQgaGVhZCB1cGRhdGVzIGluIHVzZXIgY29udGV4dCBhbmQgdGhlCisJCSAqICh1bmxp
a2VseSkgcG9zc2liaWxpdHkgb2YgcmVhZCgpIGVycm9ycyBuZWVkaW5nIHRvIHJlc2V0IGFsbAor
CQkgKiBoZWFkL3RhaWwgc3RhdGUuCisJCSAqCisJCSAqIE5vdGU6IENvbnRlbnRpb24vcGVyZm9y
bWFuY2UgYXJlbid0IGN1cnJlbnRseSBhIHNpZ25pZmljYW50CisJCSAqIGNvbmNlcm4gaGVyZSBj
b25zaWRlcmluZyB0aGUgcmVsYXRpdmVseSBsb3cgZnJlcXVlbmN5IG9mCisJCSAqIGhydGltZXIg
Y2FsbGJhY2tzICg1bXMgcGVyaW9kKSBhbmQgdGhhdCByZWFkcyB0eXBpY2FsbHkgb25seQorCQkg
KiBoYXBwZW4gaW4gcmVzcG9uc2UgdG8gYSBocnRpbWVyIGV2ZW50IGFuZCBsaWtlbHkgY29tcGxl
dGUKKwkJICogYmVmb3JlIHRoZSBuZXh0IGNhbGxiYWNrLgorCQkgKgorCQkgKiBOb3RlOiBUaGlz
IGxvY2sgaXMgbm90IGhlbGQgKndoaWxlKiByZWFkaW5nIGFuZCBjb3B5aW5nIGRhdGEKKwkJICog
dG8gdXNlcnNwYWNlIHNvIHRoZSB2YWx1ZSBvZiBoZWFkIG9ic2VydmVkIGluIGh0cmltZXIKKwkJ
ICogY2FsbGJhY2tzIHdvbid0IHJlcHJlc2VudCBhbnkgcGFydGlhbCBjb25zdW1wdGlvbiBvZiBk
YXRhLgorCQkgKi8KKwkJc3BpbmxvY2tfdCBwdHJfbG9jazsKKworCQkvKioKKwkJICogT25lICdh
Z2luZycgdGFpbCBwb2ludGVyIGFuZCBvbmUgJ2FnZWQnIHRhaWwgcG9pbnRlciByZWFkeSB0bwor
CQkgKiB1c2VkIGZvciByZWFkaW5nLgorCQkgKgorCQkgKiBJbml0aWFsIHZhbHVlcyBvZiAweGZm
ZmZmZmZmIGFyZSBpbnZhbGlkIGFuZCBpbXBseSB0aGF0IGFuCisJCSAqIHVwZGF0ZSBpcyByZXF1
aXJlZCAoYW5kIHNob3VsZCBiZSBpZ25vcmVkIGJ5IGFuIGF0dGVtcHRlZAorCQkgKiByZWFkKQor
CQkgKi8KKwkJc3RydWN0IHsKKwkJCXUzMiBvZmZzZXQ7CisJCX0gdGFpbHNbMl07CisKKwkJLyoq
CisJCSAqIEluZGV4IGZvciB0aGUgYWdlZCB0YWlsIHJlYWR5IHRvIHJlYWQoKSBkYXRhIHVwIHRv
LgorCQkgKi8KKwkJdW5zaWduZWQgaW50IGFnZWRfdGFpbF9pZHg7CisKKwkJLyoqCisJCSAqIEEg
bW9ub3RvbmljIHRpbWVzdGFtcCBmb3Igd2hlbiB0aGUgY3VycmVudCBhZ2luZyB0YWlsIHBvaW50
ZXIKKwkJICogd2FzIHJlYWQ7IHVzZWQgdG8gZGV0ZXJtaW5lIHdoZW4gaXQgaXMgb2xkIGVub3Vn
aCB0byB0cnVzdC4KKwkJICovCisJCXU2NCBhZ2luZ190aW1lc3RhbXA7CisKKwkJLyoqCisJCSAq
IEFsdGhvdWdoIHdlIGNhbiBhbHdheXMgcmVhZCBiYWNrIHRoZSBoZWFkIHBvaW50ZXIgcmVnaXN0
ZXIsCisJCSAqIHdlIHByZWZlciB0byBhdm9pZCB0cnVzdGluZyB0aGUgSFcgc3RhdGUsIGp1c3Qg
dG8gYXZvaWQgYW55CisJCSAqIHJpc2sgdGhhdCBzb21lIGhhcmR3YXJlIGNvbmRpdGlvbiBjb3Vs
ZCAqIHNvbWVob3cgYnVtcCB0aGUKKwkJICogaGVhZCBwb2ludGVyIHVucHJlZGljdGFibHkgYW5k
IGNhdXNlIHVzIHRvIGZvcndhcmQgdGhlIHdyb25nCisJCSAqIE9BIGJ1ZmZlciBkYXRhIHRvIHVz
ZXJzcGFjZS4KKwkJICovCisJCXUzMiBoZWFkOworCX0gb2FfYnVmZmVyOworfTsKKworLyoqCisg
KiBzdHJ1Y3QgaTkxNV9vYV9vcHMgLSBHZW4gc3BlY2lmaWMgaW1wbGVtZW50YXRpb24gb2YgYW4g
T0EgdW5pdCBzdHJlYW0KKyAqLworc3RydWN0IGk5MTVfb2Ffb3BzIHsKKwkvKioKKwkgKiBAaXNf
dmFsaWRfYl9jb3VudGVyX3JlZzogVmFsaWRhdGVzIHJlZ2lzdGVyJ3MgYWRkcmVzcyBmb3IKKwkg
KiBwcm9ncmFtbWluZyBib29sZWFuIGNvdW50ZXJzIGZvciBhIHBhcnRpY3VsYXIgcGxhdGZvcm0u
CisJICovCisJYm9vbCAoKmlzX3ZhbGlkX2JfY291bnRlcl9yZWcpKHN0cnVjdCBkcm1faTkxNV9w
cml2YXRlICpkZXZfcHJpdiwKKwkJCQkgICAgICAgdTMyIGFkZHIpOworCisJLyoqCisJICogQGlz
X3ZhbGlkX211eF9yZWc6IFZhbGlkYXRlcyByZWdpc3RlcidzIGFkZHJlc3MgZm9yIHByb2dyYW1t
aW5nIG11eAorCSAqIGZvciBhIHBhcnRpY3VsYXIgcGxhdGZvcm0uCisJICovCisJYm9vbCAoKmlz
X3ZhbGlkX211eF9yZWcpKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiwgdTMyIGFk
ZHIpOworCisJLyoqCisJICogQGlzX3ZhbGlkX2ZsZXhfcmVnOiBWYWxpZGF0ZXMgcmVnaXN0ZXIn
cyBhZGRyZXNzIGZvciBwcm9ncmFtbWluZworCSAqIGZsZXggRVUgZmlsdGVyaW5nIGZvciBhIHBh
cnRpY3VsYXIgcGxhdGZvcm0uCisJICovCisJYm9vbCAoKmlzX3ZhbGlkX2ZsZXhfcmVnKShzdHJ1
Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYsIHUzMiBhZGRyKTsKKworCS8qKgorCSAqIEBl
bmFibGVfbWV0cmljX3NldDogU2VsZWN0cyBhbmQgYXBwbGllcyBhbnkgTVVYIGNvbmZpZ3VyYXRp
b24gdG8gc2V0CisJICogdXAgdGhlIEJvb2xlYW4gYW5kIEN1c3RvbSAoQi9DKSBjb3VudGVycyB0
aGF0IGFyZSBwYXJ0IG9mIHRoZQorCSAqIGNvdW50ZXIgcmVwb3J0cyBiZWluZyBzYW1wbGVkLiBN
YXkgYXBwbHkgc3lzdGVtIGNvbnN0cmFpbnRzIHN1Y2ggYXMKKwkgKiBkaXNhYmxpbmcgRVUgY2xv
Y2sgZ2F0aW5nIGFzIHJlcXVpcmVkLgorCSAqLworCWludCAoKmVuYWJsZV9tZXRyaWNfc2V0KShz
dHJ1Y3QgaTkxNV9wZXJmX3N0cmVhbSAqc3RyZWFtKTsKKworCS8qKgorCSAqIEBkaXNhYmxlX21l
dHJpY19zZXQ6IFJlbW92ZSBzeXN0ZW0gY29uc3RyYWludHMgYXNzb2NpYXRlZCB3aXRoIHVzaW5n
CisJICogdGhlIE9BIHVuaXQuCisJICovCisJdm9pZCAoKmRpc2FibGVfbWV0cmljX3NldCkoc3Ry
dWN0IGk5MTVfcGVyZl9zdHJlYW0gKnN0cmVhbSk7CisKKwkvKioKKwkgKiBAb2FfZW5hYmxlOiBF
bmFibGUgcGVyaW9kaWMgc2FtcGxpbmcKKwkgKi8KKwl2b2lkICgqb2FfZW5hYmxlKShzdHJ1Y3Qg
aTkxNV9wZXJmX3N0cmVhbSAqc3RyZWFtKTsKKworCS8qKgorCSAqIEBvYV9kaXNhYmxlOiBEaXNh
YmxlIHBlcmlvZGljIHNhbXBsaW5nCisJICovCisJdm9pZCAoKm9hX2Rpc2FibGUpKHN0cnVjdCBp
OTE1X3BlcmZfc3RyZWFtICpzdHJlYW0pOworCisJLyoqCisJICogQHJlYWQ6IENvcHkgZGF0YSBm
cm9tIHRoZSBjaXJjdWxhciBPQSBidWZmZXIgaW50byBhIGdpdmVuIHVzZXJzcGFjZQorCSAqIGJ1
ZmZlci4KKwkgKi8KKwlpbnQgKCpyZWFkKShzdHJ1Y3QgaTkxNV9wZXJmX3N0cmVhbSAqc3RyZWFt
LAorCQkgICAgY2hhciBfX3VzZXIgKmJ1ZiwKKwkJICAgIHNpemVfdCBjb3VudCwKKwkJICAgIHNp
emVfdCAqb2Zmc2V0KTsKKworCS8qKgorCSAqIEBvYV9od190YWlsX3JlYWQ6IHJlYWQgdGhlIE9B
IHRhaWwgcG9pbnRlciByZWdpc3RlcgorCSAqCisJICogSW4gcGFydGljdWxhciB0aGlzIGVuYWJs
ZXMgdXMgdG8gc2hhcmUgYWxsIHRoZSBmaWRkbHkgY29kZSBmb3IKKwkgKiBoYW5kbGluZyB0aGUg
T0EgdW5pdCB0YWlsIHBvaW50ZXIgcmFjZSB0aGF0IGFmZmVjdHMgbXVsdGlwbGUKKwkgKiBnZW5l
cmF0aW9ucy4KKwkgKi8KKwl1MzIgKCpvYV9od190YWlsX3JlYWQpKHN0cnVjdCBpOTE1X3BlcmZf
c3RyZWFtICpzdHJlYW0pOworfTsKKworI2VuZGlmIC8qIF9JOTE1X1BFUkZfVFlQRVNfSF8gKi8K
LS0gCjIuMjMuMAoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X18KSW50ZWwtZ2Z4IG1haWxpbmcgbGlzdApJbnRlbC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3Jn
Cmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vaW50ZWwtZ2Z4

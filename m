Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 4A3BA5BAC7
	for <lists+intel-gfx@lfdr.de>; Mon,  1 Jul 2019 13:34:52 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 8749689CAC;
	Mon,  1 Jul 2019 11:34:50 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga11.intel.com (mga11.intel.com [192.55.52.93])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 20DD889CAC
 for <intel-gfx@lists.freedesktop.org>; Mon,  1 Jul 2019 11:34:49 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from fmsmga004.fm.intel.com ([10.253.24.48])
 by fmsmga102.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 01 Jul 2019 04:34:49 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.63,439,1557212400"; d="scan'208";a="186455062"
Received: from unknown (HELO delly.ger.corp.intel.com) ([10.249.141.63])
 by fmsmga004.fm.intel.com with ESMTP; 01 Jul 2019 04:34:47 -0700
From: Lionel Landwerlin <lionel.g.landwerlin@intel.com>
To: intel-gfx@lists.freedesktop.org
Date: Mon,  1 Jul 2019 14:34:30 +0300
Message-Id: <20190701113437.4043-5-lionel.g.landwerlin@intel.com>
X-Mailer: git-send-email 2.21.0.392.gf8f6787159e
In-Reply-To: <20190701113437.4043-1-lionel.g.landwerlin@intel.com>
References: <20190701113437.4043-1-lionel.g.landwerlin@intel.com>
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH v6 04/11] drm/i915: enumerate scratch fields
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

V2UgaGF2ZSBhIGJ1bmNoIG9mIG9mZnNldHMgaW4gdGhlIHNjcmF0Y2ggYnVmZmVyLiBBcyB3ZSdy
ZSBhYm91dCB0bwphZGQgc29tZSBtb3JlLCBsZXQncyBncm91cCBhbGwgb2YgdGhlIG9mZnNldHMg
aW4gYSBjb21tb24gbG9jYXRpb24uCgpTaWduZWQtb2ZmLWJ5OiBMaW9uZWwgTGFuZHdlcmxpbiA8
bGlvbmVsLmcubGFuZHdlcmxpbkBpbnRlbC5jb20+Ci0tLQogZHJpdmVycy9ncHUvZHJtL2k5MTUv
Z3QvaW50ZWxfZ3QuaCAgICAgICAgIHwgIDYgKysrLS0KIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2d0
L2ludGVsX2d0X3R5cGVzLmggICB8IDE1ICsrKysrKysrKysrCiBkcml2ZXJzL2dwdS9kcm0vaTkx
NS9ndC9pbnRlbF9scmMuYyAgICAgICAgfCAyNCArKysrKysrKysrLS0tLS0tLQogZHJpdmVycy9n
cHUvZHJtL2k5MTUvZ3QvaW50ZWxfcmluZ2J1ZmZlci5jIHwgMzEgKysrKysrKysrKysrKysrLS0t
LS0tLQogNCBmaWxlcyBjaGFuZ2VkLCA1NCBpbnNlcnRpb25zKCspLCAyMiBkZWxldGlvbnMoLSkK
CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9ndC5oIGIvZHJpdmVy
cy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZ3QuaAppbmRleCBjZjNjNmNlY2M4ZWUuLmQ5Y2UxNzc1
YmU1MyAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZ3QuaAorKysg
Yi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9ndC5oCkBAIC0yNCw5ICsyNCwxMSBAQCB2
b2lkIGludGVsX2d0X2NoaXBzZXRfZmx1c2goc3RydWN0IGludGVsX2d0ICpndCk7CiBpbnQgaW50
ZWxfZ3RfaW5pdF9zY3JhdGNoKHN0cnVjdCBpbnRlbF9ndCAqZ3QsIHVuc2lnbmVkIGludCBzaXpl
KTsKIHZvaWQgaW50ZWxfZ3RfZmluaV9zY3JhdGNoKHN0cnVjdCBpbnRlbF9ndCAqZ3QpOwogCi1z
dGF0aWMgaW5saW5lIHUzMiBpbnRlbF9ndF9zY3JhdGNoX29mZnNldChjb25zdCBzdHJ1Y3QgaW50
ZWxfZ3QgKmd0KQorc3RhdGljIGlubGluZSB1MzIgaW50ZWxfZ3Rfc2NyYXRjaF9vZmZzZXQoY29u
c3Qgc3RydWN0IGludGVsX2d0ICpndCwKKwkJCQkJICBlbnVtIGludGVsX2d0X3NjcmF0Y2hfZmll
bGQgZmllbGQpCiB7Ci0JcmV0dXJuIGk5MTVfZ2d0dF9vZmZzZXQoZ3QtPnNjcmF0Y2gpOworCisJ
cmV0dXJuIGk5MTVfZ2d0dF9vZmZzZXQoZ3QtPnNjcmF0Y2gpICsgZmllbGQ7CiB9CiAKICNlbmRp
ZiAvKiBfX0lOVEVMX0dUX0hfXyAqLwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUv
Z3QvaW50ZWxfZ3RfdHlwZXMuaCBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2d0X3R5
cGVzLmgKaW5kZXggYzAzZTU2NjI4ZWUyLi5lNjI1YTVlMzIwZDMgMTAwNjQ0Ci0tLSBhL2RyaXZl
cnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2d0X3R5cGVzLmgKKysrIGIvZHJpdmVycy9ncHUvZHJt
L2k5MTUvZ3QvaW50ZWxfZ3RfdHlwZXMuaApAQCAtNTcsNCArNTcsMTkgQEAgc3RydWN0IGludGVs
X2d0IHsKIAlzdHJ1Y3QgaTkxNV92bWEgKnNjcmF0Y2g7CiB9OwogCitlbnVtIGludGVsX2d0X3Nj
cmF0Y2hfZmllbGQgeworCS8qIDggYnl0ZXMgKi8KKwlJTlRFTF9HVF9TQ1JBVENIX0ZJRUxEX0RF
RkFVTFQgPSAwLAorCisJLyogOCBieXRlcyAqLworCUlOVEVMX0dUX1NDUkFUQ0hfRklFTERfQ0xF
QVJfU0xNX1dBID0gMTI4LAorCisJLyogOCBieXRlcyAqLworCUlOVEVMX0dUX1NDUkFUQ0hfRklF
TERfUkVOREVSX0ZMVVNIID0gMTI4LAorCisJLyogOCBieXRlcyAqLworCUlOVEVMX0dUX1NDUkFU
Q0hfRklFTERfQ09IRVJFTlRMM19XQSA9IDI1NiwKKworfTsKKwogI2VuZGlmIC8qIF9fSU5URUxf
R1RfVFlQRVNfSF9fICovCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRl
bF9scmMuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2xyYy5jCmluZGV4IDQ3MWUx
MzRkZTE4Ni4uY2NlODMzN2JkZjljIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9n
dC9pbnRlbF9scmMuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9scmMuYwpA
QCAtMTc1OCw3ICsxNzU4LDggQEAgZ2VuOF9lbWl0X2ZsdXNoX2NvaGVyZW50bDNfd2Eoc3RydWN0
IGludGVsX2VuZ2luZV9jcyAqZW5naW5lLCB1MzIgKmJhdGNoKQogCS8qIE5CIG5vIG9uZSBlbHNl
IGlzIGFsbG93ZWQgdG8gc2NyaWJibGUgb3ZlciBzY3JhdGNoICsgMjU2ISAqLwogCSpiYXRjaCsr
ID0gTUlfU1RPUkVfUkVHSVNURVJfTUVNX0dFTjggfCBNSV9TUk1fTFJNX0dMT0JBTF9HVFQ7CiAJ
KmJhdGNoKysgPSBpOTE1X21taW9fcmVnX29mZnNldChHRU44X0wzU1FDUkVHNCk7Ci0JKmJhdGNo
KysgPSBpbnRlbF9ndF9zY3JhdGNoX29mZnNldChlbmdpbmUtPmd0KSArIDI1NjsKKwkqYmF0Y2gr
KyA9IGludGVsX2d0X3NjcmF0Y2hfb2Zmc2V0KGVuZ2luZS0+Z3QsCisJCQkJCSAgIElOVEVMX0dU
X1NDUkFUQ0hfRklFTERfQ09IRVJFTlRMM19XQSk7CiAJKmJhdGNoKysgPSAwOwogCiAJKmJhdGNo
KysgPSBNSV9MT0FEX1JFR0lTVEVSX0lNTSgxKTsKQEAgLTE3NzIsNyArMTc3Myw4IEBAIGdlbjhf
ZW1pdF9mbHVzaF9jb2hlcmVudGwzX3dhKHN0cnVjdCBpbnRlbF9lbmdpbmVfY3MgKmVuZ2luZSwg
dTMyICpiYXRjaCkKIAogCSpiYXRjaCsrID0gTUlfTE9BRF9SRUdJU1RFUl9NRU1fR0VOOCB8IE1J
X1NSTV9MUk1fR0xPQkFMX0dUVDsKIAkqYmF0Y2grKyA9IGk5MTVfbW1pb19yZWdfb2Zmc2V0KEdF
TjhfTDNTUUNSRUc0KTsKLQkqYmF0Y2grKyA9IGludGVsX2d0X3NjcmF0Y2hfb2Zmc2V0KGVuZ2lu
ZS0+Z3QpICsgMjU2OworCSpiYXRjaCsrID0gaW50ZWxfZ3Rfc2NyYXRjaF9vZmZzZXQoZW5naW5l
LT5ndCwKKwkJCQkJICAgSU5URUxfR1RfU0NSQVRDSF9GSUVMRF9DT0hFUkVOVEwzX1dBKTsKIAkq
YmF0Y2grKyA9IDA7CiAKIAlyZXR1cm4gYmF0Y2g7CkBAIC0xODA0LDEzICsxODA2LDE0IEBAIHN0
YXRpYyB1MzIgKmdlbjhfaW5pdF9pbmRpcmVjdGN0eF9iYihzdHJ1Y3QgaW50ZWxfZW5naW5lX2Nz
ICplbmdpbmUsIHUzMiAqYmF0Y2gpCiAKIAkvKiBXYUNsZWFyU2xtU3BhY2VBdENvbnRleHRTd2l0
Y2g6YmR3LGNodiAqLwogCS8qIEFjdHVhbCBzY3JhdGNoIGxvY2F0aW9uIGlzIGF0IDEyOCBieXRl
cyBvZmZzZXQgKi8KLQliYXRjaCA9IGdlbjhfZW1pdF9waXBlX2NvbnRyb2woYmF0Y2gsCi0JCQkJ
ICAgICAgIFBJUEVfQ09OVFJPTF9GTFVTSF9MMyB8Ci0JCQkJICAgICAgIFBJUEVfQ09OVFJPTF9H
TE9CQUxfR1RUX0lWQiB8Ci0JCQkJICAgICAgIFBJUEVfQ09OVFJPTF9DU19TVEFMTCB8Ci0JCQkJ
ICAgICAgIFBJUEVfQ09OVFJPTF9RV19XUklURSwKLQkJCQkgICAgICAgaW50ZWxfZ3Rfc2NyYXRj
aF9vZmZzZXQoZW5naW5lLT5ndCkgKwotCQkJCSAgICAgICAyICogQ0FDSEVMSU5FX0JZVEVTKTsK
KwliYXRjaCA9IGdlbjhfZW1pdF9waXBlX2NvbnRyb2woCisJCWJhdGNoLAorCQlQSVBFX0NPTlRS
T0xfRkxVU0hfTDMgfAorCQlQSVBFX0NPTlRST0xfR0xPQkFMX0dUVF9JVkIgfAorCQlQSVBFX0NP
TlRST0xfQ1NfU1RBTEwgfAorCQlQSVBFX0NPTlRST0xfUVdfV1JJVEUsCisJCWludGVsX2d0X3Nj
cmF0Y2hfb2Zmc2V0KGVuZ2luZS0+Z3QsCisJCQkJCUlOVEVMX0dUX1NDUkFUQ0hfRklFTERfQ0xF
QVJfU0xNX1dBKSk7CiAKIAkqYmF0Y2grKyA9IE1JX0FSQl9PTl9PRkYgfCBNSV9BUkJfRU5BQkxF
OwogCkBAIC0yNTAzLDcgKzI1MDYsOCBAQCBzdGF0aWMgaW50IGdlbjhfZW1pdF9mbHVzaF9yZW5k
ZXIoc3RydWN0IGk5MTVfcmVxdWVzdCAqcmVxdWVzdCwKIHsKIAlzdHJ1Y3QgaW50ZWxfZW5naW5l
X2NzICplbmdpbmUgPSByZXF1ZXN0LT5lbmdpbmU7CiAJdTMyIHNjcmF0Y2hfYWRkciA9Ci0JCWlu
dGVsX2d0X3NjcmF0Y2hfb2Zmc2V0KGVuZ2luZS0+Z3QpICsgMiAqIENBQ0hFTElORV9CWVRFUzsK
KwkJaW50ZWxfZ3Rfc2NyYXRjaF9vZmZzZXQoZW5naW5lLT5ndCwKKwkJCQkJSU5URUxfR1RfU0NS
QVRDSF9GSUVMRF9SRU5ERVJfRkxVU0gpOwogCWJvb2wgdmZfZmx1c2hfd2EgPSBmYWxzZSwgZGNf
Zmx1c2hfd2EgPSBmYWxzZTsKIAl1MzIgKmNzLCBmbGFncyA9IDA7CiAJaW50IGxlbjsKZGlmZiAt
LWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX3JpbmdidWZmZXIuYyBiL2RyaXZl
cnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX3JpbmdidWZmZXIuYwppbmRleCA4MWY5YjA0MjJlNmEu
LjAyYTRhNTJlMjAxOSAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxf
cmluZ2J1ZmZlci5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX3JpbmdidWZm
ZXIuYwpAQCAtNzcsNyArNzcsOCBAQCBnZW4yX3JlbmRlcl9yaW5nX2ZsdXNoKHN0cnVjdCBpOTE1
X3JlcXVlc3QgKnJxLCB1MzIgbW9kZSkKIAkqY3MrKyA9IGNtZDsKIAl3aGlsZSAobnVtX3N0b3Jl
X2R3LS0pIHsKIAkJKmNzKysgPSBNSV9TVE9SRV9EV09SRF9JTU0gfCBNSV9NRU1fVklSVFVBTDsK
LQkJKmNzKysgPSBpbnRlbF9ndF9zY3JhdGNoX29mZnNldChycS0+ZW5naW5lLT5ndCk7CisJCSpj
cysrID0gaW50ZWxfZ3Rfc2NyYXRjaF9vZmZzZXQocnEtPmVuZ2luZS0+Z3QsCisJCQkJCQlJTlRF
TF9HVF9TQ1JBVENIX0ZJRUxEX0RFRkFVTFQpOwogCQkqY3MrKyA9IDA7CiAJfQogCSpjcysrID0g
TUlfRkxVU0ggfCBNSV9OT19XUklURV9GTFVTSDsKQEAgLTE1MCw3ICsxNTEsOCBAQCBnZW40X3Jl
bmRlcl9yaW5nX2ZsdXNoKHN0cnVjdCBpOTE1X3JlcXVlc3QgKnJxLCB1MzIgbW9kZSkKIAkgKi8K
IAlpZiAobW9kZSAmIEVNSVRfSU5WQUxJREFURSkgewogCQkqY3MrKyA9IEdGWF9PUF9QSVBFX0NP
TlRST0woNCkgfCBQSVBFX0NPTlRST0xfUVdfV1JJVEU7Ci0JCSpjcysrID0gaW50ZWxfZ3Rfc2Ny
YXRjaF9vZmZzZXQocnEtPmVuZ2luZS0+Z3QpIHwKKwkJKmNzKysgPSBpbnRlbF9ndF9zY3JhdGNo
X29mZnNldChycS0+ZW5naW5lLT5ndCwKKwkJCQkJCUlOVEVMX0dUX1NDUkFUQ0hfRklFTERfREVG
QVVMVCkgfAogCQkJUElQRV9DT05UUk9MX0dMT0JBTF9HVFQ7CiAJCSpjcysrID0gMDsKIAkJKmNz
KysgPSAwOwpAQCAtMTU5LDcgKzE2MSw4IEBAIGdlbjRfcmVuZGVyX3JpbmdfZmx1c2goc3RydWN0
IGk5MTVfcmVxdWVzdCAqcnEsIHUzMiBtb2RlKQogCQkJKmNzKysgPSBNSV9GTFVTSDsKIAogCQkq
Y3MrKyA9IEdGWF9PUF9QSVBFX0NPTlRST0woNCkgfCBQSVBFX0NPTlRST0xfUVdfV1JJVEU7Ci0J
CSpjcysrID0gaW50ZWxfZ3Rfc2NyYXRjaF9vZmZzZXQocnEtPmVuZ2luZS0+Z3QpIHwKKwkJKmNz
KysgPSBpbnRlbF9ndF9zY3JhdGNoX29mZnNldChycS0+ZW5naW5lLT5ndCwKKwkJCQkJCUlOVEVM
X0dUX1NDUkFUQ0hfRklFTERfREVGQVVMVCkgfAogCQkJUElQRV9DT05UUk9MX0dMT0JBTF9HVFQ7
CiAJCSpjcysrID0gMDsKIAkJKmNzKysgPSAwOwpAQCAtMjEzLDcgKzIxNiw4IEBAIHN0YXRpYyBp
bnQKIGdlbjZfZW1pdF9wb3N0X3N5bmNfbm9uemVyb19mbHVzaChzdHJ1Y3QgaTkxNV9yZXF1ZXN0
ICpycSkKIHsKIAl1MzIgc2NyYXRjaF9hZGRyID0KLQkJaW50ZWxfZ3Rfc2NyYXRjaF9vZmZzZXQo
cnEtPmVuZ2luZS0+Z3QpICsgMiAqIENBQ0hFTElORV9CWVRFUzsKKwkJaW50ZWxfZ3Rfc2NyYXRj
aF9vZmZzZXQocnEtPmVuZ2luZS0+Z3QsCisJCQkJCUlOVEVMX0dUX1NDUkFUQ0hfRklFTERfUkVO
REVSX0ZMVVNIKTsKIAl1MzIgKmNzOwogCiAJY3MgPSBpbnRlbF9yaW5nX2JlZ2luKHJxLCA2KTsK
QEAgLTI0Nyw3ICsyNTEsOCBAQCBzdGF0aWMgaW50CiBnZW42X3JlbmRlcl9yaW5nX2ZsdXNoKHN0
cnVjdCBpOTE1X3JlcXVlc3QgKnJxLCB1MzIgbW9kZSkKIHsKIAl1MzIgc2NyYXRjaF9hZGRyID0K
LQkJaW50ZWxfZ3Rfc2NyYXRjaF9vZmZzZXQocnEtPmVuZ2luZS0+Z3QpICsgMiAqIENBQ0hFTElO
RV9CWVRFUzsKKwkJaW50ZWxfZ3Rfc2NyYXRjaF9vZmZzZXQocnEtPmVuZ2luZS0+Z3QsCisJCQkJ
CUlOVEVMX0dUX1NDUkFUQ0hfRklFTERfUkVOREVSX0ZMVVNIKTsKIAl1MzIgKmNzLCBmbGFncyA9
IDA7CiAJaW50IHJldDsKIApAQCAtMzA1LDcgKzMxMCw4IEBAIHN0YXRpYyB1MzIgKmdlbjZfcmNz
X2VtaXRfYnJlYWRjcnVtYihzdHJ1Y3QgaTkxNV9yZXF1ZXN0ICpycSwgdTMyICpjcykKIAogCSpj
cysrID0gR0ZYX09QX1BJUEVfQ09OVFJPTCg0KTsKIAkqY3MrKyA9IFBJUEVfQ09OVFJPTF9RV19X
UklURTsKLQkqY3MrKyA9IGludGVsX2d0X3NjcmF0Y2hfb2Zmc2V0KHJxLT5lbmdpbmUtPmd0KSB8
CisJKmNzKysgPSBpbnRlbF9ndF9zY3JhdGNoX29mZnNldChycS0+ZW5naW5lLT5ndCwKKwkJCQkJ
SU5URUxfR1RfU0NSQVRDSF9GSUVMRF9ERUZBVUxUKSB8CiAJCVBJUEVfQ09OVFJPTF9HTE9CQUxf
R1RUOwogCSpjcysrID0gMDsKIApAQCAtMzUwLDcgKzM1Niw4IEBAIHN0YXRpYyBpbnQKIGdlbjdf
cmVuZGVyX3JpbmdfZmx1c2goc3RydWN0IGk5MTVfcmVxdWVzdCAqcnEsIHUzMiBtb2RlKQogewog
CXUzMiBzY3JhdGNoX2FkZHIgPQotCQlpbnRlbF9ndF9zY3JhdGNoX29mZnNldChycS0+ZW5naW5l
LT5ndCkgKyAyICogQ0FDSEVMSU5FX0JZVEVTOworCQlpbnRlbF9ndF9zY3JhdGNoX29mZnNldChy
cS0+ZW5naW5lLT5ndCwKKwkJCQkJSU5URUxfR1RfU0NSQVRDSF9GSUVMRF9SRU5ERVJfRkxVU0gp
OwogCXUzMiAqY3MsIGZsYWdzID0gMDsKIAogCS8qCkBAIC0xMDc5LDcgKzEwODYsOSBAQCBpODMw
X2VtaXRfYmJfc3RhcnQoc3RydWN0IGk5MTVfcmVxdWVzdCAqcnEsCiAJCSAgIHU2NCBvZmZzZXQs
IHUzMiBsZW4sCiAJCSAgIHVuc2lnbmVkIGludCBkaXNwYXRjaF9mbGFncykKIHsKLQl1MzIgKmNz
LCBjc19vZmZzZXQgPSBpbnRlbF9ndF9zY3JhdGNoX29mZnNldChycS0+ZW5naW5lLT5ndCk7CisJ
dTMyICpjcywgY3Nfb2Zmc2V0ID0KKwkJaW50ZWxfZ3Rfc2NyYXRjaF9vZmZzZXQocnEtPmVuZ2lu
ZS0+Z3QsCisJCQkJCUlOVEVMX0dUX1NDUkFUQ0hfRklFTERfREVGQVVMVCk7CiAKIAlHRU1fQlVH
X09OKHJxLT5lbmdpbmUtPmd0LT5zY3JhdGNoLT5zaXplIDwgSTgzMF9XQV9TSVpFKTsKIApAQCAt
MTUyMyw3ICsxNTMyLDggQEAgc3RhdGljIGludCBmbHVzaF9wZF9kaXIoc3RydWN0IGk5MTVfcmVx
dWVzdCAqcnEpCiAJLyogU3RhbGwgdW50aWwgdGhlIHBhZ2UgdGFibGUgbG9hZCBpcyBjb21wbGV0
ZSAqLwogCSpjcysrID0gTUlfU1RPUkVfUkVHSVNURVJfTUVNIHwgTUlfU1JNX0xSTV9HTE9CQUxf
R1RUOwogCSpjcysrID0gaTkxNV9tbWlvX3JlZ19vZmZzZXQoUklOR19QUF9ESVJfQkFTRShlbmdp
bmUtPm1taW9fYmFzZSkpOwotCSpjcysrID0gaW50ZWxfZ3Rfc2NyYXRjaF9vZmZzZXQocnEtPmVu
Z2luZS0+Z3QpOworCSpjcysrID0gaW50ZWxfZ3Rfc2NyYXRjaF9vZmZzZXQocnEtPmVuZ2luZS0+
Z3QsCisJCQkJCUlOVEVMX0dUX1NDUkFUQ0hfRklFTERfREVGQVVMVCk7CiAJKmNzKysgPSBNSV9O
T09QOwogCiAJaW50ZWxfcmluZ19hZHZhbmNlKHJxLCBjcyk7CkBAIC0xNjM5LDcgKzE2NDksOCBA
QCBzdGF0aWMgaW5saW5lIGludCBtaV9zZXRfY29udGV4dChzdHJ1Y3QgaTkxNV9yZXF1ZXN0ICpy
cSwgdTMyIGZsYWdzKQogCQkJLyogSW5zZXJ0IGEgZGVsYXkgYmVmb3JlIHRoZSBuZXh0IHN3aXRj
aCEgKi8KIAkJCSpjcysrID0gTUlfU1RPUkVfUkVHSVNURVJfTUVNIHwgTUlfU1JNX0xSTV9HTE9C
QUxfR1RUOwogCQkJKmNzKysgPSBpOTE1X21taW9fcmVnX29mZnNldChsYXN0X3JlZyk7Ci0JCQkq
Y3MrKyA9IGludGVsX2d0X3NjcmF0Y2hfb2Zmc2V0KHJxLT5lbmdpbmUtPmd0KTsKKwkJCSpjcysr
ID0gaW50ZWxfZ3Rfc2NyYXRjaF9vZmZzZXQocnEtPmVuZ2luZS0+Z3QsCisJCQkJCQkJSU5URUxf
R1RfU0NSQVRDSF9GSUVMRF9ERUZBVUxUKTsKIAkJCSpjcysrID0gTUlfTk9PUDsKIAkJfQogCQkq
Y3MrKyA9IE1JX0FSQl9PTl9PRkYgfCBNSV9BUkJfRU5BQkxFOwotLSAKMi4yMS4wLjM5Mi5nZjhm
Njc4NzE1OWUKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
CkludGVsLWdmeCBtYWlsaW5nIGxpc3QKSW50ZWwtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpo
dHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2ludGVsLWdmeA==

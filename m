Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 83C3B2970AE
	for <lists+intel-gfx@lfdr.de>; Fri, 23 Oct 2020 15:35:14 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id DFA576F882;
	Fri, 23 Oct 2020 13:35:12 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga06.intel.com (mga06.intel.com [134.134.136.31])
 by gabe.freedesktop.org (Postfix) with ESMTPS id DE38F6F882
 for <intel-gfx@lists.freedesktop.org>; Fri, 23 Oct 2020 13:35:11 +0000 (UTC)
IronPort-SDR: LXfNhurhikCw45wtyTwGz254K3Rl6Nu3WOSbeqC0Kva9s+0LWZMHFcVl/d/EerkLePJayYNvpc
 aSa0urc0GRTg==
X-IronPort-AV: E=McAfee;i="6000,8403,9782"; a="229310626"
X-IronPort-AV: E=Sophos;i="5.77,408,1596524400"; d="scan'208";a="229310626"
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from fmsmga008.fm.intel.com ([10.253.24.58])
 by orsmga104.jf.intel.com with ESMTP/TLS/ECDHE-RSA-AES256-GCM-SHA384;
 23 Oct 2020 06:35:11 -0700
IronPort-SDR: +MHuCmO6gbU4ZnB/yJIwv+T2qVStUAfD6rqLoJWnjPD+/ezgJ7xPPCuAlXNKoLdpYrkOOOxbwm
 zIR23QROBS3g==
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.77,408,1596524400"; d="scan'208";a="302671227"
Received: from stinkbox.fi.intel.com (HELO stinkbox) ([10.237.72.174])
 by fmsmga008.fm.intel.com with SMTP; 23 Oct 2020 06:35:09 -0700
Received: by stinkbox (sSMTP sendmail emulation);
 Fri, 23 Oct 2020 16:35:08 +0300
From: Ville Syrjala <ville.syrjala@linux.intel.com>
To: intel-gfx@lists.freedesktop.org
Date: Fri, 23 Oct 2020 16:34:15 +0300
Message-Id: <20201023133420.12039-15-ville.syrjala@linux.intel.com>
X-Mailer: git-send-email 2.26.2
In-Reply-To: <20201023133420.12039-1-ville.syrjala@linux.intel.com>
References: <20201023133420.12039-1-ville.syrjala@linux.intel.com>
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH v2 14/19] drm/i915: Don't enable hpd detection
 logic from irq_postinstall()
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

RnJvbTogVmlsbGUgU3lyasOkbMOkIDx2aWxsZS5zeXJqYWxhQGxpbnV4LmludGVsLmNvbT4KCk5v
IHJlYXNvbiB0aGF0IEkgY2FuIHNlZSB3aHkgd2Ugc2hvdWxkIGVuYWJsZSB0aGUgaHBkIGRldGVj
dGlvbiBsb2dpYwphbHJlYWR5IGR1cmluZyBpcnEgcG9zdGluc3RhbGwgcGhhc2UuIFdlIGRvbid0
IGV2ZW4gZG8gdGhpcyBvbiBhbGwKdGhlIHBsYXRmb3Jtcy4gV2UganVzdCBuZWVkIGl0IGJlZm9y
ZSB3ZSBhY3R1YWxseSBlbmFibGUgdGhlIGhvdHBsdWcKaW50ZXJydXB0cyBpbiAuaHBkX2lycV9z
ZXR1cCgpLCBhbmQgaW4gZmFjdCB3ZSBhbHJlYWR5IGRvIGl0IHRoZXJlIGFzCndlbGwuIExldCdz
IGp1c3QgZWxpbWluYXRlIHRoZSByZWR1bmRhbnQgZWFybHkgc2V0dXAuCgpTaWduZWQtb2ZmLWJ5
OiBWaWxsZSBTeXJqw6Rsw6QgPHZpbGxlLnN5cmphbGFAbGludXguaW50ZWwuY29tPgotLS0KIGRy
aXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfaXJxLmMgfCAzOCArKystLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0KIDEgZmlsZSBjaGFuZ2VkLCAzIGluc2VydGlvbnMoKyksIDM1IGRlbGV0aW9u
cygtKQoKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfaXJxLmMgYi9kcml2
ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2lycS5jCmluZGV4IDJjODgxM2YzNGE0NS4uYjFmMjE1MDJi
NzhiIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2lycS5jCisrKyBiL2Ry
aXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfaXJxLmMKQEAgLTMzNzcsOCArMzM3Nyw4IEBAIHN0YXRp
YyB2b2lkIGlsa19ocGRfaXJxX3NldHVwKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJp
dikKIAlpYnhfaHBkX2lycV9zZXR1cChkZXZfcHJpdik7CiB9CiAKLXN0YXRpYyB2b2lkIF9fYnh0
X2hwZF9kZXRlY3Rpb25fc2V0dXAoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2LAot
CQkJCSAgICAgIHUzMiBlbmFibGVkX2lycXMpCitzdGF0aWMgdm9pZCBieHRfaHBkX2RldGVjdGlv
bl9zZXR1cChzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYsCisJCQkJICAgIHUzMiBl
bmFibGVkX2lycXMpCiB7CiAJdTMyIGhvdHBsdWc7CiAKQEAgLTM0MDksMTEgKzM0MDksNiBAQCBz
dGF0aWMgdm9pZCBfX2J4dF9ocGRfZGV0ZWN0aW9uX3NldHVwKHN0cnVjdCBkcm1faTkxNV9wcml2
YXRlICpkZXZfcHJpdiwKIAlJOTE1X1dSSVRFKFBDSF9QT1JUX0hPVFBMVUcsIGhvdHBsdWcpOwog
fQogCi1zdGF0aWMgdm9pZCBieHRfaHBkX2RldGVjdGlvbl9zZXR1cChzdHJ1Y3QgZHJtX2k5MTVf
cHJpdmF0ZSAqZGV2X3ByaXYpCi17Ci0JX19ieHRfaHBkX2RldGVjdGlvbl9zZXR1cChkZXZfcHJp
diwgQlhUX0RFX1BPUlRfSE9UUExVR19NQVNLKTsKLX0KLQogc3RhdGljIHZvaWQgYnh0X2hwZF9p
cnFfc2V0dXAoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2KQogewogCXUzMiBob3Rw
bHVnX2lycXMsIGVuYWJsZWRfaXJxczsKQEAgLTM0MjMsNyArMzQxOCw3IEBAIHN0YXRpYyB2b2lk
IGJ4dF9ocGRfaXJxX3NldHVwKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdikKIAog
CWJkd191cGRhdGVfcG9ydF9pcnEoZGV2X3ByaXYsIGhvdHBsdWdfaXJxcywgZW5hYmxlZF9pcnFz
KTsKIAotCV9fYnh0X2hwZF9kZXRlY3Rpb25fc2V0dXAoZGV2X3ByaXYsIGVuYWJsZWRfaXJxcyk7
CisJYnh0X2hwZF9kZXRlY3Rpb25fc2V0dXAoZGV2X3ByaXYsIGVuYWJsZWRfaXJxcyk7CiB9CiAK
IHN0YXRpYyB2b2lkIGlieF9pcnFfcG9zdGluc3RhbGwoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUg
KmRldl9wcml2KQpAQCAtMzQ0MiwxMiArMzQzNyw2IEBAIHN0YXRpYyB2b2lkIGlieF9pcnFfcG9z
dGluc3RhbGwoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2KQogCiAJZ2VuM19hc3Nl
cnRfaWlyX2lzX3plcm8oJmRldl9wcml2LT51bmNvcmUsIFNERUlJUik7CiAJSTkxNV9XUklURShT
REVJTVIsIH5tYXNrKTsKLQotCWlmIChIQVNfUENIX0lCWChkZXZfcHJpdikgfHwgSEFTX1BDSF9D
UFQoZGV2X3ByaXYpIHx8Ci0JICAgIEhBU19QQ0hfTFBUKGRldl9wcml2KSkKLQkJaWJ4X2hwZF9k
ZXRlY3Rpb25fc2V0dXAoZGV2X3ByaXYpOwotCWVsc2UKLQkJc3B0X2hwZF9kZXRlY3Rpb25fc2V0
dXAoZGV2X3ByaXYpOwogfQogCiBzdGF0aWMgdm9pZCBpbGtfaXJxX3Bvc3RpbnN0YWxsKHN0cnVj
dCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdikKQEAgLTM0ODcsOCArMzQ3Niw2IEBAIHN0YXRp
YyB2b2lkIGlsa19pcnFfcG9zdGluc3RhbGwoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9w
cml2KQogCUdFTjNfSVJRX0lOSVQodW5jb3JlLCBERSwgZGV2X3ByaXYtPmlycV9tYXNrLAogCQkg
ICAgICBkaXNwbGF5X21hc2sgfCBleHRyYV9tYXNrKTsKIAotCWlsa19ocGRfZGV0ZWN0aW9uX3Nl
dHVwKGRldl9wcml2KTsKLQogCWlieF9pcnFfcG9zdGluc3RhbGwoZGV2X3ByaXYpOwogfQogCkBA
IC0zNjA5LDEyICszNTk2LDYgQEAgc3RhdGljIHZvaWQgZ2VuOF9kZV9pcnFfcG9zdGluc3RhbGwo
c3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2KQogCiAJCUdFTjNfSVJRX0lOSVQodW5j
b3JlLCBHRU4xMV9ERV9IUERfLCB+ZGVfaHBkX21hc2tlZCwKIAkJCSAgICAgIGRlX2hwZF9lbmFi
bGVzKTsKLQkJZ2VuMTFfdGNfaHBkX2RldGVjdGlvbl9zZXR1cChkZXZfcHJpdik7Ci0JCWdlbjEx
X3RidF9ocGRfZGV0ZWN0aW9uX3NldHVwKGRldl9wcml2KTsKLQl9IGVsc2UgaWYgKElTX0dFTjlf
TFAoZGV2X3ByaXYpKSB7Ci0JCWJ4dF9ocGRfZGV0ZWN0aW9uX3NldHVwKGRldl9wcml2KTsKLQl9
IGVsc2UgaWYgKElTX0JST0FEV0VMTChkZXZfcHJpdikpIHsKLQkJaWxrX2hwZF9kZXRlY3Rpb25f
c2V0dXAoZGV2X3ByaXYpOwogCX0KIH0KIApAQCAtMzY0MiwxOSArMzYyMyw2IEBAIHN0YXRpYyB2
b2lkIGljcF9pcnFfcG9zdGluc3RhbGwoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2
KQogCiAJZ2VuM19hc3NlcnRfaWlyX2lzX3plcm8oJmRldl9wcml2LT51bmNvcmUsIFNERUlJUik7
CiAJSTkxNV9XUklURShTREVJTVIsIH5tYXNrKTsKLQotCWlmIChIQVNfUENIX1RHUChkZXZfcHJp
dikpIHsKLQkJaWNwX2RkaV9ocGRfZGV0ZWN0aW9uX3NldHVwKGRldl9wcml2LCBUR1BfRERJX0hQ
RF9FTkFCTEVfTUFTSyk7Ci0JCWljcF90Y19ocGRfZGV0ZWN0aW9uX3NldHVwKGRldl9wcml2LCBU
R1BfVENfSFBEX0VOQUJMRV9NQVNLKTsKLQl9IGVsc2UgaWYgKEhBU19QQ0hfSlNQKGRldl9wcml2
KSkgewotCQlpY3BfZGRpX2hwZF9kZXRlY3Rpb25fc2V0dXAoZGV2X3ByaXYsIFRHUF9ERElfSFBE
X0VOQUJMRV9NQVNLKTsKLQl9IGVsc2UgaWYgKEhBU19QQ0hfTUNDKGRldl9wcml2KSkgewotCQlp
Y3BfZGRpX2hwZF9kZXRlY3Rpb25fc2V0dXAoZGV2X3ByaXYsIElDUF9ERElfSFBEX0VOQUJMRV9N
QVNLKTsKLQkJaWNwX3RjX2hwZF9kZXRlY3Rpb25fc2V0dXAoZGV2X3ByaXYsIElDUF9UQ19IUERf
RU5BQkxFKEhQRF9QT1JUX1RDMSkpOwotCX0gZWxzZSB7Ci0JCWljcF9kZGlfaHBkX2RldGVjdGlv
bl9zZXR1cChkZXZfcHJpdiwgSUNQX0RESV9IUERfRU5BQkxFX01BU0spOwotCQlpY3BfdGNfaHBk
X2RldGVjdGlvbl9zZXR1cChkZXZfcHJpdiwgSUNQX1RDX0hQRF9FTkFCTEVfTUFTSyk7Ci0JfQog
fQogCiBzdGF0aWMgdm9pZCBnZW4xMV9pcnFfcG9zdGluc3RhbGwoc3RydWN0IGRybV9pOTE1X3By
aXZhdGUgKmRldl9wcml2KQotLSAKMi4yNi4yCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fXwpJbnRlbC1nZnggbWFpbGluZyBsaXN0CkludGVsLWdmeEBsaXN0
cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9s
aXN0aW5mby9pbnRlbC1nZngK

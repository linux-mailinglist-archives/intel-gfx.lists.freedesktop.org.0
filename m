Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id CFBB83C64A5
	for <lists+intel-gfx@lfdr.de>; Mon, 12 Jul 2021 22:02:42 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 51DEC89E3B;
	Mon, 12 Jul 2021 20:02:18 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mail-wm1-x330.google.com (mail-wm1-x330.google.com
 [IPv6:2a00:1450:4864:20::330])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 8BC1689E2A
 for <intel-gfx@lists.freedesktop.org>; Mon, 12 Jul 2021 20:02:16 +0000 (UTC)
Received: by mail-wm1-x330.google.com with SMTP id
 y21-20020a7bc1950000b02902161fccabf1so20530wmi.2
 for <intel-gfx@lists.freedesktop.org>; Mon, 12 Jul 2021 13:02:16 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=ffwll.ch; s=google;
 h=from:to:cc:subject:date:message-id:in-reply-to:references
 :mime-version:content-transfer-encoding;
 bh=IpJxl7PuqaJ64Pg4Vc2eGgk33M7a1vhk7bxsx13009M=;
 b=QNKQEeWMo/lASAEUd3S1SKaRNS+DtZGiyM0W0h3QSgu6Pzz1asPRSqzO9Fa4xDNNZa
 zflwLn9/SkzkywKhJt/3d5XsmvtX3cC5syr6dDocilsA4gSQrAagBbFBwyvsQRRzoSRB
 ewW2QWawsKUC6dF5beFiYo3Q0iiffqaTzOFkY=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id:in-reply-to
 :references:mime-version:content-transfer-encoding;
 bh=IpJxl7PuqaJ64Pg4Vc2eGgk33M7a1vhk7bxsx13009M=;
 b=CnW6QEYOfyggM0ONsyOXOi0K0X/WZEeOaa+KNTE6wvLsKZe/51ArNjYDHrZdi67E5x
 n7StX7cZ0C9MDFR5UlvJSIGMKXCXHL+tgZ+kbE25sMoYjBAp42h43irw4v9YxsIODauB
 Vb8QXvkfc6OVoj1X1KUgTFVEKDT6tQZHapInvDn5/w8LmTw+8gAz4Q53vDUFgFMm/n7s
 doNDgeWJwrJXdQ0bo2tomiUO8etQdOkN6cdf6F1+ElALV/x/H4koPnS7zV189oOIDP37
 kHvKf/emXHIa71Xikjp5iDxEYq5yr08SAOk0/v/TjRivVk52TZ0+gq+ZHKh9rp+Buu8P
 vKdg==
X-Gm-Message-State: AOAM532f56V655sakY8LaEzL5A6nViHiJLhaXu97VHbdZJriOFS/bQ4i
 Q5v52KlSuDp0O6O6n4YhT4nVUg==
X-Google-Smtp-Source: ABdhPJxaYCjyXE7+MChbQtCeylG+snCI9ZZz6JOSo7TK8FMYYzc+fKj8UgxOcqXHS2Tk7k3hGxuPhg==
X-Received: by 2002:a7b:ca45:: with SMTP id m5mr969921wml.46.1626120135172;
 Mon, 12 Jul 2021 13:02:15 -0700 (PDT)
Received: from phenom.ffwll.local ([2a02:168:57f4:0:efd0:b9e5:5ae6:c2fa])
 by smtp.gmail.com with ESMTPSA id l14sm9858221wrs.22.2021.07.12.13.02.14
 (version=TLS1_3 cipher=TLS_AES_256_GCM_SHA384 bits=256/256);
 Mon, 12 Jul 2021 13:02:14 -0700 (PDT)
From: Daniel Vetter <daniel.vetter@ffwll.ch>
To: DRI Development <dri-devel@lists.freedesktop.org>
Date: Mon, 12 Jul 2021 19:53:52 +0200
Message-Id: <20210712175352.802687-19-daniel.vetter@ffwll.ch>
X-Mailer: git-send-email 2.32.0
In-Reply-To: <20210712175352.802687-1-daniel.vetter@ffwll.ch>
References: <20210712175352.802687-1-daniel.vetter@ffwll.ch>
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH v4 18/18] dma-resv: Give the docs a do-over
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: Daniel Vetter <daniel.vetter@ffwll.ch>,
 Intel Graphics Development <intel-gfx@lists.freedesktop.org>,
 Sumit Semwal <sumit.semwal@linaro.org>, linaro-mm-sig@lists.linaro.org,
 Matthew Auld <matthew.auld@intel.com>, Daniel Vetter <daniel.vetter@intel.com>,
 =?UTF-8?q?Christian=20K=C3=B6nig?= <christian.koenig@amd.com>,
 linux-media@vger.kernel.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

U3BlY2lmaWNhbGx5IGRvY3VtZW50IHRoZSBuZXcvY2xhcmlmaWVkIHJ1bGVzIGFyb3VuZCBob3cg
dGhlIHNoYXJlZApmZW5jZXMgZG8gbm90IGhhdmUgYW55IG9yZGVyaW5nIHJlcXVpcmVtZW50cyBh
Z2FpbnN0IHRoZSBleGNsdXNpdmUKZmVuY2UuCgpCdXQgYWxzbyBkb2N1bWVudCBhbGwgdGhlIHRo
aW5ncyBhIGJpdCBiZXR0ZXIsIGdpdmVuIGhvdyBjZW50cmFsCnN0cnVjdCBkbWFfcmVzdiB0byBk
eW5hbWljIGJ1ZmZlciBtYW5hZ2VtZW50IHRoZSBkb2NzIGhhdmUgYmVlbiB2ZXJ5CmluYWRlcXVh
dC4KCi0gTG90cyBtb3JlIGxpbmtzIHRvIG90aGVyIHBpZWNlcyBvZiB0aGUgcHV6emxlLiBVbmZv
cnR1bmF0ZWx5CiAgdHRtX2J1ZmZlcl9vYmplY3QgaGFzIG5vIGRvY3MsIHNvIG5vIGxpbmtzIDot
KAoKLSBFeHBsYWluL2NvbXBsYWluIGEgYml0IGFib3V0IGRtYV9yZXN2X2xvY2tpbmdfY3R4KCku
IEkgc3RpbGwgZG9uJ3QKICBsaWtlIHRoYXQgb25lLCBidXQgZml4aW5nIHRoZSB0dG0gY2FsbCBj
aGFpbnMgaXMgZ29pbmcgdG8gYmUKICBob3JyaWJsZS4gUGx1cyB3ZSB3YW50IHRvIHBsdWcgaW4g
cmVhbCBzbG93cGF0aCBsb2NraW5nIHdoZW4gd2UgZG8KICB0aGF0IGFueXdheS4KCi0gTWFpbiBw
YXJ0IG9mIHRoZSBwYXRjaCBpcyBzb21lIGFjdHVhbCBkb2NzIGZvciBzdHJ1Y3QgZG1hX3Jlc3Yu
CgpPdmVyYWxsIEkgdGhpbmsgd2Ugc3RpbGwgaGF2ZSBhIGxvdCBvZiBiYWQgbmFtaW5nIGluIHRo
aXMgYXJlYSAoZS5nLgpkbWFfcmVzdi5mZW5jZSBpcyBzaW5ndWxhciwgYnV0IGNvbnRhaW5zIHRo
ZSBtdWx0aXBsZSBzaGFyZWQgZmVuY2VzKSwKYnV0IEkgdGhpbmsgdGhhdCdzIG1vcmUgaW5kaWNh
dGl2ZSBvZiBob3cgdGhlIHNlbWFudGljcyBhbmQgcnVsZXMgYXJlCmp1c3Qgbm90IGdyZWF0LgoK
QW5vdGhlciB0aGluZyB0aGF0J3MgcmVhbCBhd2thcmQgaXMgaG93IGNoYWluaW5nIGV4Y2x1c2l2
ZSBmZW5jZXMKcmlnaHQgbm93IG1lYW5zIGRpcmVjdCBkbWFfcmVzdi5leGNsdXNpdmVfZmVuY2Ug
cG9pbnRlciBhY2Nlc3Mgd2l0aCBhbgpyY3VfYXNzaWduX3BvaW50ZXIuIE5vdCBzbyBncmVhdCBl
aXRoZXIuCgp2MjoKLSBGaXggYSBwaWxlIG9mIHR5cG9zIChNYXR0LCBKYXNvbikKLSBIYW1tZXIg
aXQgaW4gdGhhdCBicmVha2luZyB0aGUgcnVsZXMgbGVhZHMgdG8gdXNlLWFmdGVyLWZyZWUgaXNz
dWVzCiAgYXJvdW5kIGRtYS1idWYgc2hhcmluZyAoQ2hyaXN0aWFuKQoKUmV2aWV3ZWQtYnk6IENo
cmlzdGlhbiBLw7ZuaWcgPGNocmlzdGlhbi5rb2VuaWdAYW1kLmNvbT4KQ2M6IEphc29uIEVrc3Ry
YW5kIDxqYXNvbkBqbGVrc3RyYW5kLm5ldD4KQ2M6IE1hdHRoZXcgQXVsZCA8bWF0dGhldy5hdWxk
QGludGVsLmNvbT4KUmV2aWV3ZWQtYnk6IE1hdHRoZXcgQXVsZCA8bWF0dGhldy5hdWxkQGludGVs
LmNvbT4KU2lnbmVkLW9mZi1ieTogRGFuaWVsIFZldHRlciA8ZGFuaWVsLnZldHRlckBpbnRlbC5j
b20+CkNjOiBTdW1pdCBTZW13YWwgPHN1bWl0LnNlbXdhbEBsaW5hcm8ub3JnPgpDYzogIkNocmlz
dGlhbiBLw7ZuaWciIDxjaHJpc3RpYW4ua29lbmlnQGFtZC5jb20+CkNjOiBsaW51eC1tZWRpYUB2
Z2VyLmtlcm5lbC5vcmcKQ2M6IGxpbmFyby1tbS1zaWdAbGlzdHMubGluYXJvLm9yZwotLS0KIGRy
aXZlcnMvZG1hLWJ1Zi9kbWEtcmVzdi5jIHwgIDI0ICsrKysrKy0tLQogaW5jbHVkZS9saW51eC9k
bWEtYnVmLmggICAgfCAgIDcgKysrCiBpbmNsdWRlL2xpbnV4L2RtYS1yZXN2LmggICB8IDEwNCAr
KysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKy0tCiAzIGZpbGVzIGNoYW5nZWQsIDEy
NCBpbnNlcnRpb25zKCspLCAxMSBkZWxldGlvbnMoLSkKCmRpZmYgLS1naXQgYS9kcml2ZXJzL2Rt
YS1idWYvZG1hLXJlc3YuYyBiL2RyaXZlcnMvZG1hLWJ1Zi9kbWEtcmVzdi5jCmluZGV4IGU3NDRm
ZDg3YzYzYy4uODRmYmU2MDYyOWUzIDEwMDY0NAotLS0gYS9kcml2ZXJzL2RtYS1idWYvZG1hLXJl
c3YuYworKysgYi9kcml2ZXJzL2RtYS1idWYvZG1hLXJlc3YuYwpAQCAtNDgsNiArNDgsOCBAQAog
ICogd3JpdGUgb3BlcmF0aW9ucykgb3IgTiBzaGFyZWQgZmVuY2VzIChyZWFkIG9wZXJhdGlvbnMp
LiAgVGhlIFJDVQogICogbWVjaGFuaXNtIGlzIHVzZWQgdG8gcHJvdGVjdCByZWFkIGFjY2VzcyB0
byBmZW5jZXMgZnJvbSBsb2NrZWQKICAqIHdyaXRlLXNpZGUgdXBkYXRlcy4KKyAqCisgKiBTZWUg
c3RydWN0IGRtYV9yZXN2IGZvciBtb3JlIGRldGFpbHMuCiAgKi8KIAogREVGSU5FX1dEX0NMQVNT
KHJlc2VydmF0aW9uX3d3X2NsYXNzKTsKQEAgLTEzNyw3ICsxMzksMTEgQEAgRVhQT1JUX1NZTUJP
TChkbWFfcmVzdl9maW5pKTsKICAqIEBudW1fZmVuY2VzOiBudW1iZXIgb2YgZmVuY2VzIHdlIHdh
bnQgdG8gYWRkCiAgKgogICogU2hvdWxkIGJlIGNhbGxlZCBiZWZvcmUgZG1hX3Jlc3ZfYWRkX3No
YXJlZF9mZW5jZSgpLiAgTXVzdAotICogYmUgY2FsbGVkIHdpdGggb2JqLT5sb2NrIGhlbGQuCisg
KiBiZSBjYWxsZWQgd2l0aCBAb2JqIGxvY2tlZCB0aHJvdWdoIGRtYV9yZXN2X2xvY2soKS4KKyAq
CisgKiBOb3RlIHRoYXQgdGhlIHByZWFsbG9jYXRlZCBzbG90cyBuZWVkIHRvIGJlIHJlLXJlc2Vy
dmVkIGlmIEBvYmogaXMgdW5sb2NrZWQKKyAqIGF0IGFueSB0aW1lIGJlZm9yZSBjYWxsaW5nIGRt
YV9yZXN2X2FkZF9zaGFyZWRfZmVuY2UoKS4gVGhpcyBpcyB2YWxpZGF0ZWQKKyAqIHdoZW4gQ09O
RklHX0RFQlVHX01VVEVYRVMgaXMgZW5hYmxlZC4KICAqCiAgKiBSRVRVUk5TCiAgKiBaZXJvIGZv
ciBzdWNjZXNzLCBvciAtZXJybm8KQEAgLTIzNCw4ICsyNDAsMTAgQEAgRVhQT1JUX1NZTUJPTChk
bWFfcmVzdl9yZXNldF9zaGFyZWRfbWF4KTsKICAqIEBvYmo6IHRoZSByZXNlcnZhdGlvbiBvYmpl
Y3QKICAqIEBmZW5jZTogdGhlIHNoYXJlZCBmZW5jZSB0byBhZGQKICAqCi0gKiBBZGQgYSBmZW5j
ZSB0byBhIHNoYXJlZCBzbG90LCBvYmotPmxvY2sgbXVzdCBiZSBoZWxkLCBhbmQKKyAqIEFkZCBh
IGZlbmNlIHRvIGEgc2hhcmVkIHNsb3QsIEBvYmogbXVzdCBiZSBsb2NrZWQgd2l0aCBkbWFfcmVz
dl9sb2NrKCksIGFuZAogICogZG1hX3Jlc3ZfcmVzZXJ2ZV9zaGFyZWQoKSBoYXMgYmVlbiBjYWxs
ZWQuCisgKgorICogU2VlIGFsc28gJmRtYV9yZXN2LmZlbmNlIGZvciBhIGRpc2N1c3Npb24gb2Yg
dGhlIHNlbWFudGljcy4KICAqLwogdm9pZCBkbWFfcmVzdl9hZGRfc2hhcmVkX2ZlbmNlKHN0cnVj
dCBkbWFfcmVzdiAqb2JqLCBzdHJ1Y3QgZG1hX2ZlbmNlICpmZW5jZSkKIHsKQEAgLTI3OCw5ICsy
ODYsMTEgQEAgRVhQT1JUX1NZTUJPTChkbWFfcmVzdl9hZGRfc2hhcmVkX2ZlbmNlKTsKIC8qKgog
ICogZG1hX3Jlc3ZfYWRkX2V4Y2xfZmVuY2UgLSBBZGQgYW4gZXhjbHVzaXZlIGZlbmNlLgogICog
QG9iajogdGhlIHJlc2VydmF0aW9uIG9iamVjdAotICogQGZlbmNlOiB0aGUgc2hhcmVkIGZlbmNl
IHRvIGFkZAorICogQGZlbmNlOiB0aGUgZXhjbHVzaXZlIGZlbmNlIHRvIGFkZAogICoKLSAqIEFk
ZCBhIGZlbmNlIHRvIHRoZSBleGNsdXNpdmUgc2xvdC4gIFRoZSBvYmotPmxvY2sgbXVzdCBiZSBo
ZWxkLgorICogQWRkIGEgZmVuY2UgdG8gdGhlIGV4Y2x1c2l2ZSBzbG90LiBAb2JqIG11c3QgYmUg
bG9ja2VkIHdpdGggZG1hX3Jlc3ZfbG9jaygpLgorICogTm90ZSB0aGF0IHRoaXMgZnVuY3Rpb24g
cmVwbGFjZXMgYWxsIGZlbmNlcyBhdHRhY2hlZCB0byBAb2JqLCBzZWUgYWxzbworICogJmRtYV9y
ZXN2LmZlbmNlX2V4Y2wgZm9yIGEgZGlzY3Vzc2lvbiBvZiB0aGUgc2VtYW50aWNzLgogICovCiB2
b2lkIGRtYV9yZXN2X2FkZF9leGNsX2ZlbmNlKHN0cnVjdCBkbWFfcmVzdiAqb2JqLCBzdHJ1Y3Qg
ZG1hX2ZlbmNlICpmZW5jZSkKIHsKQEAgLTYwOSw5ICs2MTksMTEgQEAgc3RhdGljIGlubGluZSBp
bnQgZG1hX3Jlc3ZfdGVzdF9zaWduYWxlZF9zaW5nbGUoc3RydWN0IGRtYV9mZW5jZSAqcGFzc2Vk
X2ZlbmNlKQogICogZmVuY2UKICAqCiAgKiBDYWxsZXJzIGFyZSBub3QgcmVxdWlyZWQgdG8gaG9s
ZCBzcGVjaWZpYyBsb2NrcywgYnV0IG1heWJlIGhvbGQKLSAqIGRtYV9yZXN2X2xvY2soKSBhbHJl
YWR5CisgKiBkbWFfcmVzdl9sb2NrKCkgYWxyZWFkeS4KKyAqCiAgKiBSRVRVUk5TCi0gKiB0cnVl
IGlmIGFsbCBmZW5jZXMgc2lnbmFsZWQsIGVsc2UgZmFsc2UKKyAqCisgKiBUcnVlIGlmIGFsbCBm
ZW5jZXMgc2lnbmFsZWQsIGVsc2UgZmFsc2UuCiAgKi8KIGJvb2wgZG1hX3Jlc3ZfdGVzdF9zaWdu
YWxlZChzdHJ1Y3QgZG1hX3Jlc3YgKm9iaiwgYm9vbCB0ZXN0X2FsbCkKIHsKZGlmZiAtLWdpdCBh
L2luY2x1ZGUvbGludXgvZG1hLWJ1Zi5oIGIvaW5jbHVkZS9saW51eC9kbWEtYnVmLmgKaW5kZXgg
MmI4MTRmZGUwZDExLi44Y2MwYzU1ODc3YTYgMTAwNjQ0Ci0tLSBhL2luY2x1ZGUvbGludXgvZG1h
LWJ1Zi5oCisrKyBiL2luY2x1ZGUvbGludXgvZG1hLWJ1Zi5oCkBAIC00MjAsNiArNDIwLDEzIEBA
IHN0cnVjdCBkbWFfYnVmIHsKIAkgKiAtIER5bmFtaWMgaW1wb3J0ZXJzIHNob3VsZCBzZXQgZmVu
Y2VzIGZvciBhbnkgYWNjZXNzIHRoYXQgdGhleSBjYW4ndAogCSAqICAgZGlzYWJsZSBpbW1lZGlh
dGVseSBmcm9tIHRoZWlyICZkbWFfYnVmX2F0dGFjaF9vcHMubW92ZV9ub3RpZnkKIAkgKiAgIGNh
bGxiYWNrLgorCSAqCisJICogSU1QT1JUQU5UOgorCSAqCisJICogQWxsIGRyaXZlcnMgbXVzdCBv
YmV5IHRoZSBzdHJ1Y3QgZG1hX3Jlc3YgcnVsZXMsIHNwZWNpZmljYWxseSB0aGUKKwkgKiBydWxl
cyBmb3IgdXBkYXRpbmcgZmVuY2VzLCBzZWUgJmRtYV9yZXN2LmZlbmNlX2V4Y2wgYW5kCisJICog
JmRtYV9yZXN2LmZlbmNlLiBJZiB0aGVzZSBkZXBlbmRlbmN5IHJ1bGVzIGFyZSBicm9rZW4gYWNj
ZXNzIHRyYWNraW5nCisJICogY2FuIGJlIGxvc3QgcmVzdWx0aW5nIGluIHVzZSBhZnRlciBmcmVl
IGlzc3Vlcy4KIAkgKi8KIAlzdHJ1Y3QgZG1hX3Jlc3YgKnJlc3Y7CiAKZGlmZiAtLWdpdCBhL2lu
Y2x1ZGUvbGludXgvZG1hLXJlc3YuaCBiL2luY2x1ZGUvbGludXgvZG1hLXJlc3YuaAppbmRleCBl
MWNhMjA4MGExZmYuLjkxMDBkZDNkYzIxZiAxMDA2NDQKLS0tIGEvaW5jbHVkZS9saW51eC9kbWEt
cmVzdi5oCisrKyBiL2luY2x1ZGUvbGludXgvZG1hLXJlc3YuaApAQCAtNjIsMTYgKzYyLDkwIEBA
IHN0cnVjdCBkbWFfcmVzdl9saXN0IHsKIAogLyoqCiAgKiBzdHJ1Y3QgZG1hX3Jlc3YgLSBhIHJl
c2VydmF0aW9uIG9iamVjdCBtYW5hZ2VzIGZlbmNlcyBmb3IgYSBidWZmZXIKLSAqIEBsb2NrOiB1
cGRhdGUgc2lkZSBsb2NrCi0gKiBAc2VxOiBzZXF1ZW5jZSBjb3VudCBmb3IgbWFuYWdpbmcgUkNV
IHJlYWQtc2lkZSBzeW5jaHJvbml6YXRpb24KLSAqIEBmZW5jZV9leGNsOiB0aGUgZXhjbHVzaXZl
IGZlbmNlLCBpZiB0aGVyZSBpcyBvbmUgY3VycmVudGx5Ci0gKiBAZmVuY2U6IGxpc3Qgb2YgY3Vy
cmVudCBzaGFyZWQgZmVuY2VzCisgKgorICogVGhlcmUgYXJlIG11bHRpcGxlIHVzZXMgZm9yIHRo
aXMsIHdpdGggc29tZXRpbWVzIHNsaWdodGx5IGRpZmZlcmVudCBydWxlcyBpbgorICogaG93IHRo
ZSBmZW5jZSBzbG90cyBhcmUgdXNlZC4KKyAqCisgKiBPbmUgdXNlIGlzIHRvIHN5bmNocm9uaXpl
IGNyb3NzLWRyaXZlciBhY2Nlc3MgdG8gYSBzdHJ1Y3QgZG1hX2J1ZiwgZWl0aGVyIGZvcgorICog
ZHluYW1pYyBidWZmZXIgbWFuYWdlbWVudCBvciBqdXN0IHRvIGhhbmRsZSBpbXBsaWNpdCBzeW5j
aHJvbml6YXRpb24gYmV0d2VlbgorICogZGlmZmVyZW50IHVzZXJzIG9mIHRoZSBidWZmZXIgaW4g
dXNlcnNwYWNlLiBTZWUgJmRtYV9idWYucmVzdiBmb3IgYSBtb3JlCisgKiBpbi1kZXB0aCBkaXNj
dXNzaW9uLgorICoKKyAqIFRoZSBvdGhlciBtYWpvciB1c2UgaXMgdG8gbWFuYWdlIGFjY2VzcyBh
bmQgbG9ja2luZyB3aXRoaW4gYSBkcml2ZXIgaW4gYQorICogYnVmZmVyIGJhc2VkIG1lbW9yeSBt
YW5hZ2VyLiBzdHJ1Y3QgdHRtX2J1ZmZlcl9vYmplY3QgaXMgdGhlIGNhbm9uaWNhbAorICogZXhh
bXBsZSBoZXJlLCBzaW5jZSB0aGlzIGlzIHdoZXJlIHJlc2VydmF0aW9uIG9iamVjdHMgb3JpZ2lu
YXRlZCBmcm9tLiBCdXQKKyAqIHVzZSBpbiBkcml2ZXJzIGlzIHNwcmVhZGluZyBhbmQgc29tZSBk
cml2ZXJzIGFsc28gbWFuYWdlIHN0cnVjdAorICogZHJtX2dlbV9vYmplY3Qgd2l0aCB0aGUgc2Ft
ZSBzY2hlbWUuCiAgKi8KIHN0cnVjdCBkbWFfcmVzdiB7CisJLyoqCisJICogQGxvY2s6CisJICoK
KwkgKiBVcGRhdGUgc2lkZSBsb2NrLiBEb24ndCB1c2UgZGlyZWN0bHksIGluc3RlYWQgdXNlIHRo
ZSB3cmFwcGVyCisJICogZnVuY3Rpb25zIGxpa2UgZG1hX3Jlc3ZfbG9jaygpIGFuZCBkbWFfcmVz
dl91bmxvY2soKS4KKwkgKgorCSAqIERyaXZlcnMgd2hpY2ggdXNlIHRoZSByZXNlcnZhdGlvbiBv
YmplY3QgdG8gbWFuYWdlIG1lbW9yeSBkeW5hbWljYWxseQorCSAqIGFsc28gdXNlIHRoaXMgbG9j
ayB0byBwcm90ZWN0IGJ1ZmZlciBvYmplY3Qgc3RhdGUgbGlrZSBwbGFjZW1lbnQsCisJICogYWxs
b2NhdGlvbiBwb2xpY2llcyBvciB0aHJvdWdob3V0IGNvbW1hbmQgc3VibWlzc2lvbi4KKwkgKi8K
IAlzdHJ1Y3Qgd3dfbXV0ZXggbG9jazsKKworCS8qKgorCSAqIEBzZXE6CisJICoKKwkgKiBTZXF1
ZW5jZSBjb3VudCBmb3IgbWFuYWdpbmcgUkNVIHJlYWQtc2lkZSBzeW5jaHJvbml6YXRpb24sIGFs
bG93cworCSAqIHJlYWQtb25seSBhY2Nlc3MgdG8gQGZlbmNlX2V4Y2wgYW5kIEBmZW5jZSB3aGls
ZSBlbnN1cmluZyB3ZSB0YWtlIGEKKwkgKiBjb25zaXN0ZW50IHNuYXBzaG90LgorCSAqLwogCXNl
cWNvdW50X3d3X211dGV4X3Qgc2VxOwogCisJLyoqCisJICogQGZlbmNlX2V4Y2w6CisJICoKKwkg
KiBUaGUgZXhjbHVzaXZlIGZlbmNlLCBpZiB0aGVyZSBpcyBvbmUgY3VycmVudGx5LgorCSAqCisJ
ICogVGhlcmUgYXJlIHR3byB3YXlzIHRvIHVwZGF0ZSB0aGlzIGZlbmNlOgorCSAqCisJICogLSBG
aXJzdCBieSBjYWxsaW5nIGRtYV9yZXN2X2FkZF9leGNsX2ZlbmNlKCksIHdoaWNoIHJlcGxhY2Vz
IGFsbAorCSAqICAgZmVuY2VzIGF0dGFjaGVkIHRvIHRoZSByZXNlcnZhdGlvbiBvYmplY3QuIFRv
IGd1YXJhbnRlZSB0aGF0IG5vCisJICogICBmZW5jZXMgYXJlIGxvc3QsIHRoaXMgbmV3IGZlbmNl
IG11c3Qgc2lnbmFsIG9ubHkgYWZ0ZXIgYWxsIHByZXZpb3VzCisJICogICBmZW5jZXMsIGJvdGgg
c2hhcmVkIGFuZCBleGNsdXNpdmUsIGhhdmUgc2lnbmFsbGVkLiBJbiBzb21lIGNhc2VzIGl0CisJ
ICogICBpcyBjb252ZW5pZW50IHRvIGFjaGlldmUgdGhhdCBieSBhdHRhY2hpbmcgYSBzdHJ1Y3Qg
ZG1hX2ZlbmNlX2FycmF5CisJICogICB3aXRoIGFsbCB0aGUgbmV3IGFuZCBvbGQgZmVuY2VzLgor
CSAqCisJICogLSBBbHRlcm5hdGl2ZWx5IHRoZSBmZW5jZSBjYW4gYmUgc2V0IGRpcmVjdGx5LCB3
aGljaCBsZWF2ZXMgdGhlCisJICogICBzaGFyZWQgZmVuY2VzIHVuY2hhbmdlZC4gVG8gZ3VhcmFu
dGVlIHRoYXQgbm8gZmVuY2VzIGFyZSBsb3N0LCB0aGlzCisJICogICBuZXcgZmVuY2UgbXVzdCBz
aWduYWwgb25seSBhZnRlciB0aGUgcHJldmlvdXMgZXhjbHVzaXZlIGZlbmNlIGhhcworCSAqICAg
c2lnbmFsbGVkLiBTaW5jZSB0aGUgc2hhcmVkIGZlbmNlcyBhcmUgc3RheWluZyBpbnRhY3QsIGl0
IGlzIG5vdAorCSAqICAgbmVjZXNzYXJ5IHRvIG1haW50YWluIGFueSBvcmRlcmluZyBhZ2FpbnN0
IHRob3NlLiBJZiBzZW1hbnRpY2FsbHkKKwkgKiAgIG9ubHkgYSBuZXcgYWNjZXNzIGlzIGFkZGVk
IHdpdGhvdXQgYWN0dWFsbHkgdHJlYXRpbmcgdGhlIHByZXZpb3VzCisJICogICBvbmUgYXMgYSBk
ZXBlbmRlbmN5IHRoZSBleGNsdXNpdmUgZmVuY2VzIGNhbiBiZSBzdHJ1bmcgdG9nZXRoZXIKKwkg
KiAgIHVzaW5nIHN0cnVjdCBkbWFfZmVuY2VfY2hhaW4uCisJICoKKwkgKiBOb3RlIHRoYXQgYWN0
dWFsIHNlbWFudGljcyBvZiB3aGF0IGFuIGV4Y2x1c2l2ZSBvciBzaGFyZWQgZmVuY2UgbWVhbgor
CSAqIGlzIGRlZmluZWQgYnkgdGhlIHVzZXIsIGZvciByZXNlcnZhdGlvbiBvYmplY3RzIHNoYXJl
ZCBhY3Jvc3MgZHJpdmVycworCSAqIHNlZSAmZG1hX2J1Zi5yZXN2LgorCSAqLwogCXN0cnVjdCBk
bWFfZmVuY2UgX19yY3UgKmZlbmNlX2V4Y2w7CisKKwkvKioKKwkgKiBAZmVuY2U6CisJICoKKwkg
KiBMaXN0IG9mIGN1cnJlbnQgc2hhcmVkIGZlbmNlcy4KKwkgKgorCSAqIFRoZXJlIGFyZSBubyBv
cmRlcmluZyBjb25zdHJhaW50cyBvZiBzaGFyZWQgZmVuY2VzIGFnYWluc3QgdGhlCisJICogZXhj
bHVzaXZlIGZlbmNlIHNsb3QuIElmIGEgd2FpdGVyIG5lZWRzIHRvIHdhaXQgZm9yIGFsbCBhY2Nl
c3MsIGl0CisJICogaGFzIHRvIHdhaXQgZm9yIGJvdGggc2V0cyBvZiBmZW5jZXMgdG8gc2lnbmFs
LgorCSAqCisJICogQSBuZXcgZmVuY2UgaXMgYWRkZWQgYnkgY2FsbGluZyBkbWFfcmVzdl9hZGRf
c2hhcmVkX2ZlbmNlKCkuIFNpbmNlCisJICogdGhpcyBvZnRlbiBuZWVkcyB0byBiZSBkb25lIHBh
c3QgdGhlIHBvaW50IG9mIG5vIHJldHVybiBpbiBjb21tYW5kCisJICogc3VibWlzc2lvbiBpdCBj
YW5ub3QgZmFpbCwgYW5kIHRoZXJlZm9yZSBzdWZmaWNpZW50IHNsb3RzIG5lZWQgdG8gYmUKKwkg
KiByZXNlcnZlZCBieSBjYWxsaW5nIGRtYV9yZXN2X3Jlc2VydmVfc2hhcmVkKCkuCisJICoKKwkg
KiBOb3RlIHRoYXQgYWN0dWFsIHNlbWFudGljcyBvZiB3aGF0IGFuIGV4Y2x1c2l2ZSBvciBzaGFy
ZWQgZmVuY2UgbWVhbgorCSAqIGlzIGRlZmluZWQgYnkgdGhlIHVzZXIsIGZvciByZXNlcnZhdGlv
biBvYmplY3RzIHNoYXJlZCBhY3Jvc3MgZHJpdmVycworCSAqIHNlZSAmZG1hX2J1Zi5yZXN2Lgor
CSAqLwogCXN0cnVjdCBkbWFfcmVzdl9saXN0IF9fcmN1ICpmZW5jZTsKIH07CiAKQEAgLTk4LDYg
KzE3MiwxMyBAQCBzdGF0aWMgaW5saW5lIHZvaWQgZG1hX3Jlc3ZfcmVzZXRfc2hhcmVkX21heChz
dHJ1Y3QgZG1hX3Jlc3YgKm9iaikge30KICAqIHVuZGVmaW5lZCBvcmRlciwgYSAjd3dfYWNxdWly
ZV9jdHggaXMgcGFzc2VkIHRvIHVud2luZCBpZiBhIGN5Y2xlCiAgKiBpcyBkZXRlY3RlZC4gU2Vl
IHd3X211dGV4X2xvY2soKSBhbmQgd3dfYWNxdWlyZV9pbml0KCkuIEEgcmVzZXJ2YXRpb24KICAq
IG9iamVjdCBtYXkgYmUgbG9ja2VkIGJ5IGl0c2VsZiBieSBwYXNzaW5nIE5VTEwgYXMgQGN0eC4K
KyAqCisgKiBXaGVuIGEgZGllIHNpdHVhdGlvbiBpcyBpbmRpY2F0ZWQgYnkgcmV0dXJuaW5nIC1F
REVBRExLIGFsbCBsb2NrcyBoZWxkIGJ5CisgKiBAY3R4IG11c3QgYmUgdW5sb2NrZWQgYW5kIHRo
ZW4gZG1hX3Jlc3ZfbG9ja19zbG93KCkgY2FsbGVkIG9uIEBvYmouCisgKgorICogVW5sb2NrZWQg
YnkgY2FsbGluZyBkbWFfcmVzdl91bmxvY2soKS4KKyAqCisgKiBTZWUgYWxzbyBkbWFfcmVzdl9s
b2NrX2ludGVycnVwdGlibGUoKSBmb3IgdGhlIGludGVycnVwdGlibGUgdmFyaWFudC4KICAqLwog
c3RhdGljIGlubGluZSBpbnQgZG1hX3Jlc3ZfbG9jayhzdHJ1Y3QgZG1hX3Jlc3YgKm9iaiwKIAkJ
CQlzdHJ1Y3Qgd3dfYWNxdWlyZV9jdHggKmN0eCkKQEAgLTExOSw2ICsyMDAsMTIgQEAgc3RhdGlj
IGlubGluZSBpbnQgZG1hX3Jlc3ZfbG9jayhzdHJ1Y3QgZG1hX3Jlc3YgKm9iaiwKICAqIHVuZGVm
aW5lZCBvcmRlciwgYSAjd3dfYWNxdWlyZV9jdHggaXMgcGFzc2VkIHRvIHVud2luZCBpZiBhIGN5
Y2xlCiAgKiBpcyBkZXRlY3RlZC4gU2VlIHd3X211dGV4X2xvY2soKSBhbmQgd3dfYWNxdWlyZV9p
bml0KCkuIEEgcmVzZXJ2YXRpb24KICAqIG9iamVjdCBtYXkgYmUgbG9ja2VkIGJ5IGl0c2VsZiBi
eSBwYXNzaW5nIE5VTEwgYXMgQGN0eC4KKyAqCisgKiBXaGVuIGEgZGllIHNpdHVhdGlvbiBpcyBp
bmRpY2F0ZWQgYnkgcmV0dXJuaW5nIC1FREVBRExLIGFsbCBsb2NrcyBoZWxkIGJ5CisgKiBAY3R4
IG11c3QgYmUgdW5sb2NrZWQgYW5kIHRoZW4gZG1hX3Jlc3ZfbG9ja19zbG93X2ludGVycnVwdGli
bGUoKSBjYWxsZWQgb24KKyAqIEBvYmouCisgKgorICogVW5sb2NrZWQgYnkgY2FsbGluZyBkbWFf
cmVzdl91bmxvY2soKS4KICAqLwogc3RhdGljIGlubGluZSBpbnQgZG1hX3Jlc3ZfbG9ja19pbnRl
cnJ1cHRpYmxlKHN0cnVjdCBkbWFfcmVzdiAqb2JqLAogCQkJCQkgICAgICBzdHJ1Y3Qgd3dfYWNx
dWlyZV9jdHggKmN0eCkKQEAgLTEzNCw2ICsyMjEsOCBAQCBzdGF0aWMgaW5saW5lIGludCBkbWFf
cmVzdl9sb2NrX2ludGVycnVwdGlibGUoc3RydWN0IGRtYV9yZXN2ICpvYmosCiAgKiBBY3F1aXJl
cyB0aGUgcmVzZXJ2YXRpb24gb2JqZWN0IGFmdGVyIGEgZGllIGNhc2UuIFRoaXMgZnVuY3Rpb24K
ICAqIHdpbGwgc2xlZXAgdW50aWwgdGhlIGxvY2sgYmVjb21lcyBhdmFpbGFibGUuIFNlZSBkbWFf
cmVzdl9sb2NrKCkgYXMKICAqIHdlbGwuCisgKgorICogU2VlIGFsc28gZG1hX3Jlc3ZfbG9ja19z
bG93X2ludGVycnVwdGlibGUoKSBmb3IgdGhlIGludGVycnVwdGlibGUgdmFyaWFudC4KICAqLwog
c3RhdGljIGlubGluZSB2b2lkIGRtYV9yZXN2X2xvY2tfc2xvdyhzdHJ1Y3QgZG1hX3Jlc3YgKm9i
aiwKIAkJCQkgICAgICBzdHJ1Y3Qgd3dfYWNxdWlyZV9jdHggKmN0eCkKQEAgLTE2Nyw3ICsyNTYs
NyBAQCBzdGF0aWMgaW5saW5lIGludCBkbWFfcmVzdl9sb2NrX3Nsb3dfaW50ZXJydXB0aWJsZShz
dHJ1Y3QgZG1hX3Jlc3YgKm9iaiwKICAqIGlmIHRoZXkgb3ZlcmxhcCB3aXRoIGEgd3JpdGVyLgog
ICoKICAqIEFsc28gbm90ZSB0aGF0IHNpbmNlIG5vIGNvbnRleHQgaXMgcHJvdmlkZWQsIG5vIGRl
YWRsb2NrIHByb3RlY3Rpb24gaXMKLSAqIHBvc3NpYmxlLgorICogcG9zc2libGUsIHdoaWNoIGlz
IGFsc28gbm90IG5lZWRlZCBmb3IgYSB0cnlsb2NrLgogICoKICAqIFJldHVybnMgdHJ1ZSBpZiB0
aGUgbG9jayB3YXMgYWNxdWlyZWQsIGZhbHNlIG90aGVyd2lzZS4KICAqLwpAQCAtMTkzLDYgKzI4
MiwxMSBAQCBzdGF0aWMgaW5saW5lIGJvb2wgZG1hX3Jlc3ZfaXNfbG9ja2VkKHN0cnVjdCBkbWFf
cmVzdiAqb2JqKQogICoKICAqIFJldHVybnMgdGhlIGNvbnRleHQgdXNlZCB0byBsb2NrIGEgcmVz
ZXJ2YXRpb24gb2JqZWN0IG9yIE5VTEwgaWYgbm8gY29udGV4dAogICogd2FzIHVzZWQgb3IgdGhl
IG9iamVjdCBpcyBub3QgbG9ja2VkIGF0IGFsbC4KKyAqCisgKiBXQVJOSU5HOiBUaGlzIGludGVy
ZmFjZSBpcyBwcmV0dHkgaG9ycmlibGUsIGJ1dCBUVE0gbmVlZHMgaXQgYmVjYXVzZSBpdAorICog
ZG9lc24ndCBwYXNzIHRoZSBzdHJ1Y3Qgd3dfYWNxdWlyZV9jdHggYXJvdW5kIGluIHNvbWUgdmVy
eSBsb25nIGNhbGxjaGFpbnMuCisgKiBFdmVyeW9uZSBlbHNlIGp1c3QgdXNlcyBpdCB0byBjaGVj
ayB3aGV0aGVyIHRoZXkncmUgaG9sZGluZyBhIHJlc2VydmF0aW9uIG9yCisgKiBub3QuCiAgKi8K
IHN0YXRpYyBpbmxpbmUgc3RydWN0IHd3X2FjcXVpcmVfY3R4ICpkbWFfcmVzdl9sb2NraW5nX2N0
eChzdHJ1Y3QgZG1hX3Jlc3YgKm9iaikKIHsKLS0gCjIuMzIuMAoKX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX18KSW50ZWwtZ2Z4IG1haWxpbmcgbGlzdApJbnRl
bC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3Jn
L21haWxtYW4vbGlzdGluZm8vaW50ZWwtZ2Z4Cg==

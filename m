Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 2192C7C51A
	for <lists+intel-gfx@lfdr.de>; Wed, 31 Jul 2019 16:39:24 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id DD9A789F2D;
	Wed, 31 Jul 2019 14:39:21 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga07.intel.com (mga07.intel.com [134.134.136.100])
 by gabe.freedesktop.org (Postfix) with ESMTPS id DBC9189F27
 for <intel-gfx@lists.freedesktop.org>; Wed, 31 Jul 2019 14:39:19 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga006.jf.intel.com ([10.7.209.51])
 by orsmga105.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 31 Jul 2019 07:39:19 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.64,330,1559545200"; d="scan'208";a="177330369"
Received: from irvmail001.ir.intel.com ([163.33.26.43])
 by orsmga006.jf.intel.com with ESMTP; 31 Jul 2019 07:39:18 -0700
Received: from mwajdecz-MOBL1.ger.corp.intel.com
 (mwajdecz-mobl1.ger.corp.intel.com [172.28.174.50])
 by irvmail001.ir.intel.com (8.14.3/8.13.6/MailSET/Hub) with ESMTP id
 x6VEdHNQ001788; Wed, 31 Jul 2019 15:39:17 +0100
From: Michal Wajdeczko <michal.wajdeczko@intel.com>
To: intel-gfx@lists.freedesktop.org
Date: Wed, 31 Jul 2019 14:38:53 +0000
Message-Id: <20190731143856.35460-2-michal.wajdeczko@intel.com>
X-Mailer: git-send-email 2.21.0.windows.1
In-Reply-To: <20190731143856.35460-1-michal.wajdeczko@intel.com>
References: <20190731143856.35460-1-michal.wajdeczko@intel.com>
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH v2 1/4] drm/i915/uc: Rename intel_uc_is_using*
 into intel_uc_supports*
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

UmVuYW1lIGludGVsX3VjX2lzX3VzaW5nKiBpbnRvIGludGVsX3VjX3N1cHBvcnRzKiB0byBtYWtl
IGNsZWFyCmRpc3RpbmN0aW9uIGZyb20gYWN0dWFsIHN0YXRlIChjb21wYXJlIGludGVsX3VjX2Z3
X2lzX3J1bm5pbmcpCgpTdWdnZXN0ZWQtYnk6IENocmlzIFdpbHNvbiA8Y2hyaXNAY2hyaXMtd2ls
c29uLmNvLnVrPgpTaWduZWQtb2ZmLWJ5OiBNaWNoYWwgV2FqZGVjemtvIDxtaWNoYWwud2FqZGVj
emtvQGludGVsLmNvbT4KQ2M6IENocmlzIFdpbHNvbiA8Y2hyaXNAY2hyaXMtd2lsc29uLmNvLnVr
PgotLS0KIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L3VjL2ludGVsX2d1Yy5jIHwgIDggKystLS0K
IGRyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L3VjL2ludGVsX2h1Yy5jIHwgIDIgKy0KIGRyaXZlcnMv
Z3B1L2RybS9pOTE1L2d0L3VjL2ludGVsX3VjLmMgIHwgNDQgKysrKysrKysrKysrKy0tLS0tLS0t
LS0tLS0KIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L3VjL2ludGVsX3VjLmggIHwgIDYgKystLQog
ZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kcnYuaCAgICAgICAgfCAgNCArLS0KIDUgZmlsZXMg
Y2hhbmdlZCwgMzIgaW5zZXJ0aW9ucygrKSwgMzIgZGVsZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEv
ZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvdWMvaW50ZWxfZ3VjLmMgYi9kcml2ZXJzL2dwdS9kcm0v
aTkxNS9ndC91Yy9pbnRlbF9ndWMuYwppbmRleCAxM2ZiYmZmZDA1YzcuLmY4ZmMzNDgxNmUyYyAx
MDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvdWMvaW50ZWxfZ3VjLmMKKysrIGIv
ZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvdWMvaW50ZWxfZ3VjLmMKQEAgLTE0NCw3ICsxNDQsNyBA
QCBzdGF0aWMgdTMyIGd1Y19jdGxfZmVhdHVyZV9mbGFncyhzdHJ1Y3QgaW50ZWxfZ3VjICpndWMp
CiB7CiAJdTMyIGZsYWdzID0gMDsKIAotCWlmICghaW50ZWxfdWNfaXNfdXNpbmdfZ3VjX3N1Ym1p
c3Npb24oJmd1Y190b19ndChndWMpLT51YykpCisJaWYgKCFpbnRlbF91Y19zdXBwb3J0c19ndWNf
c3VibWlzc2lvbigmZ3VjX3RvX2d0KGd1YyktPnVjKSkKIAkJZmxhZ3MgfD0gR1VDX0NUTF9ESVNB
QkxFX1NDSEVEVUxFUjsKIAogCXJldHVybiBmbGFnczsKQEAgLTE1NCw3ICsxNTQsNyBAQCBzdGF0
aWMgdTMyIGd1Y19jdGxfY3R4aW5mb19mbGFncyhzdHJ1Y3QgaW50ZWxfZ3VjICpndWMpCiB7CiAJ
dTMyIGZsYWdzID0gMDsKIAotCWlmIChpbnRlbF91Y19pc191c2luZ19ndWNfc3VibWlzc2lvbigm
Z3VjX3RvX2d0KGd1YyktPnVjKSkgeworCWlmIChpbnRlbF91Y19zdXBwb3J0c19ndWNfc3VibWlz
c2lvbigmZ3VjX3RvX2d0KGd1YyktPnVjKSkgewogCQl1MzIgY3R4bnVtLCBiYXNlOwogCiAJCWJh
c2UgPSBpbnRlbF9ndWNfZ2d0dF9vZmZzZXQoZ3VjLCBndWMtPnN0YWdlX2Rlc2NfcG9vbCk7CkBA
IC0yOTAsNyArMjkwLDcgQEAgaW50IGludGVsX2d1Y19pbml0KHN0cnVjdCBpbnRlbF9ndWMgKmd1
YykKIAlpZiAocmV0KQogCQlnb3RvIGVycl9hZHM7CiAKLQlpZiAoaW50ZWxfdWNfaXNfdXNpbmdf
Z3VjX3N1Ym1pc3Npb24oJmd0LT51YykpIHsKKwlpZiAoaW50ZWxfdWNfc3VwcG9ydHNfZ3VjX3N1
Ym1pc3Npb24oJmd0LT51YykpIHsKIAkJLyoKIAkJICogVGhpcyBpcyBzdHVmZiB3ZSBuZWVkIHRv
IGhhdmUgYXZhaWxhYmxlIGF0IGZ3IGxvYWQgdGltZQogCQkgKiBpZiB3ZSBhcmUgcGxhbm5pbmcg
dG8gZW5hYmxlIHN1Ym1pc3Npb24gbGF0ZXIKQEAgLTMyOSw3ICszMjksNyBAQCB2b2lkIGludGVs
X2d1Y19maW5pKHN0cnVjdCBpbnRlbF9ndWMgKmd1YykKIAogCWk5MTVfZ2d0dF9kaXNhYmxlX2d1
YyhndC0+Z2d0dCk7CiAKLQlpZiAoaW50ZWxfdWNfaXNfdXNpbmdfZ3VjX3N1Ym1pc3Npb24oJmd0
LT51YykpCisJaWYgKGludGVsX3VjX3N1cHBvcnRzX2d1Y19zdWJtaXNzaW9uKCZndC0+dWMpKQog
CQlpbnRlbF9ndWNfc3VibWlzc2lvbl9maW5pKGd1Yyk7CiAKIAlpbnRlbF9ndWNfY3RfZmluaSgm
Z3VjLT5jdCk7CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC91Yy9pbnRlbF9o
dWMuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L3VjL2ludGVsX2h1Yy5jCmluZGV4IGM5NTM1
Y2FiYTg0NC4uZDY0MmIxNjdhMzg5IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9n
dC91Yy9pbnRlbF9odWMuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC91Yy9pbnRlbF9o
dWMuYwpAQCAtMTg1LDcgKzE4NSw3IEBAIGludCBpbnRlbF9odWNfY2hlY2tfc3RhdHVzKHN0cnVj
dCBpbnRlbF9odWMgKmh1YykKIAlpbnRlbF93YWtlcmVmX3Qgd2FrZXJlZjsKIAl1MzIgc3RhdHVz
ID0gMDsKIAotCWlmICghaW50ZWxfdWNfaXNfdXNpbmdfaHVjKCZndC0+dWMpKQorCWlmICghaW50
ZWxfdWNfc3VwcG9ydHNfaHVjKCZndC0+dWMpKQogCQlyZXR1cm4gLUVOT0RFVjsKIAogCXdpdGhf
aW50ZWxfcnVudGltZV9wbSgmZ3QtPmk5MTUtPnJ1bnRpbWVfcG0sIHdha2VyZWYpCmRpZmYgLS1n
aXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC91Yy9pbnRlbF91Yy5jIGIvZHJpdmVycy9ncHUv
ZHJtL2k5MTUvZ3QvdWMvaW50ZWxfdWMuYwppbmRleCA2NmIyMjZiZTY3NTkuLjVkNjc0ZTQxOGU1
ZSAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvdWMvaW50ZWxfdWMuYworKysg
Yi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC91Yy9pbnRlbF91Yy5jCkBAIC05NSwxMSArOTUsMTEg
QEAgc3RhdGljIHZvaWQgc2FuaXRpemVfb3B0aW9uc19lYXJseShzdHJ1Y3QgaW50ZWxfdWMgKnVj
KQogCiAJRFJNX0RFQlVHX0RSSVZFUigiZW5hYmxlX2d1Yz0lZCAoc3VibWlzc2lvbjolcyBodWM6
JXMpXG4iLAogCQkJIGk5MTVfbW9kcGFyYW1zLmVuYWJsZV9ndWMsCi0JCQkgeWVzbm8oaW50ZWxf
dWNfaXNfdXNpbmdfZ3VjX3N1Ym1pc3Npb24odWMpKSwKLQkJCSB5ZXNubyhpbnRlbF91Y19pc191
c2luZ19odWModWMpKSk7CisJCQkgeWVzbm8oaW50ZWxfdWNfc3VwcG9ydHNfZ3VjX3N1Ym1pc3Np
b24odWMpKSwKKwkJCSB5ZXNubyhpbnRlbF91Y19zdXBwb3J0c19odWModWMpKSk7CiAKIAkvKiBW
ZXJpZnkgR3VDIGZpcm13YXJlIGF2YWlsYWJpbGl0eSAqLwotCWlmIChpbnRlbF91Y19pc191c2lu
Z19ndWModWMpICYmICFpbnRlbF91Y19md19zdXBwb3J0ZWQoZ3VjX2Z3KSkgeworCWlmIChpbnRl
bF91Y19zdXBwb3J0c19ndWModWMpICYmICFpbnRlbF91Y19md19zdXBwb3J0ZWQoZ3VjX2Z3KSkg
ewogCQlEUk1fV0FSTigiSW5jb21wYXRpYmxlIG9wdGlvbiBkZXRlY3RlZDogZW5hYmxlX2d1Yz0l
ZCwgIgogCQkJICJidXQgR3VDIGlzIG5vdCBzdXBwb3J0ZWQhXG4iLAogCQkJIGk5MTVfbW9kcGFy
YW1zLmVuYWJsZV9ndWMpOwpAQCAtMTA4LDcgKzEwOCw3IEBAIHN0YXRpYyB2b2lkIHNhbml0aXpl
X29wdGlvbnNfZWFybHkoc3RydWN0IGludGVsX3VjICp1YykKIAl9CiAKIAkvKiBWZXJpZnkgSHVD
IGZpcm13YXJlIGF2YWlsYWJpbGl0eSAqLwotCWlmIChpbnRlbF91Y19pc191c2luZ19odWModWMp
ICYmICFpbnRlbF91Y19md19zdXBwb3J0ZWQoaHVjX2Z3KSkgeworCWlmIChpbnRlbF91Y19zdXBw
b3J0c19odWModWMpICYmICFpbnRlbF91Y19md19zdXBwb3J0ZWQoaHVjX2Z3KSkgewogCQlEUk1f
V0FSTigiSW5jb21wYXRpYmxlIG9wdGlvbiBkZXRlY3RlZDogZW5hYmxlX2d1Yz0lZCwgIgogCQkJ
ICJidXQgSHVDIGlzIG5vdCBzdXBwb3J0ZWQhXG4iLAogCQkJIGk5MTVfbW9kcGFyYW1zLmVuYWJs
ZV9ndWMpOwpAQCAtMTE3LDcgKzExNyw3IEBAIHN0YXRpYyB2b2lkIHNhbml0aXplX29wdGlvbnNf
ZWFybHkoc3RydWN0IGludGVsX3VjICp1YykKIAl9CiAKIAkvKiBYWFg6IEd1QyBzdWJtaXNzaW9u
IGlzIHVuYXZhaWxhYmxlIGZvciBub3cgKi8KLQlpZiAoaW50ZWxfdWNfaXNfdXNpbmdfZ3VjX3N1
Ym1pc3Npb24odWMpKSB7CisJaWYgKGludGVsX3VjX3N1cHBvcnRzX2d1Y19zdWJtaXNzaW9uKHVj
KSkgewogCQlEUk1fSU5GTygiSW5jb21wYXRpYmxlIG9wdGlvbiBkZXRlY3RlZDogZW5hYmxlX2d1
Yz0lZCwgIgogCQkJICJidXQgR3VDIHN1Ym1pc3Npb24gaXMgbm90IHN1cHBvcnRlZCFcbiIsCiAJ
CQkgaTkxNV9tb2RwYXJhbXMuZW5hYmxlX2d1Yyk7CkBAIC0zMDksMjEgKzMwOSwyMSBAQCB2b2lk
IGludGVsX3VjX2ZldGNoX2Zpcm13YXJlcyhzdHJ1Y3QgaW50ZWxfdWMgKnVjKQogewogCXN0cnVj
dCBkcm1faTkxNV9wcml2YXRlICppOTE1ID0gdWNfdG9fZ3QodWMpLT5pOTE1OwogCi0JaWYgKCFp
bnRlbF91Y19pc191c2luZ19ndWModWMpKQorCWlmICghaW50ZWxfdWNfc3VwcG9ydHNfZ3VjKHVj
KSkKIAkJcmV0dXJuOwogCiAJaW50ZWxfdWNfZndfZmV0Y2goJnVjLT5ndWMuZncsIGk5MTUpOwog
Ci0JaWYgKGludGVsX3VjX2lzX3VzaW5nX2h1Yyh1YykpCisJaWYgKGludGVsX3VjX3N1cHBvcnRz
X2h1Yyh1YykpCiAJCWludGVsX3VjX2Z3X2ZldGNoKCZ1Yy0+aHVjLmZ3LCBpOTE1KTsKIH0KIAog
dm9pZCBpbnRlbF91Y19jbGVhbnVwX2Zpcm13YXJlcyhzdHJ1Y3QgaW50ZWxfdWMgKnVjKQogewot
CWlmICghaW50ZWxfdWNfaXNfdXNpbmdfZ3VjKHVjKSkKKwlpZiAoIWludGVsX3VjX3N1cHBvcnRz
X2d1Yyh1YykpCiAJCXJldHVybjsKIAotCWlmIChpbnRlbF91Y19pc191c2luZ19odWModWMpKQor
CWlmIChpbnRlbF91Y19zdXBwb3J0c19odWModWMpKQogCQlpbnRlbF91Y19md19jbGVhbnVwX2Zl
dGNoKCZ1Yy0+aHVjLmZ3KTsKIAogCWludGVsX3VjX2Z3X2NsZWFudXBfZmV0Y2goJnVjLT5ndWMu
ZncpOwpAQCAtMzM1LDIwICszMzUsMjAgQEAgaW50IGludGVsX3VjX2luaXQoc3RydWN0IGludGVs
X3VjICp1YykKIAlzdHJ1Y3QgaW50ZWxfaHVjICpodWMgPSAmdWMtPmh1YzsKIAlpbnQgcmV0Owog
Ci0JaWYgKCFpbnRlbF91Y19pc191c2luZ19ndWModWMpKQorCWlmICghaW50ZWxfdWNfc3VwcG9y
dHNfZ3VjKHVjKSkKIAkJcmV0dXJuIDA7CiAKIAlpZiAoIWludGVsX3VjX2Z3X3N1cHBvcnRlZCgm
Z3VjLT5mdykpCiAJCXJldHVybiAtRU5PREVWOwogCiAJLyogWFhYOiBHdUMgc3VibWlzc2lvbiBp
cyB1bmF2YWlsYWJsZSBmb3Igbm93ICovCi0JR0VNX0JVR19PTihpbnRlbF91Y19pc191c2luZ19n
dWNfc3VibWlzc2lvbih1YykpOworCUdFTV9CVUdfT04oaW50ZWxfdWNfc3VwcG9ydHNfZ3VjX3N1
Ym1pc3Npb24odWMpKTsKIAogCXJldCA9IGludGVsX2d1Y19pbml0KGd1Yyk7CiAJaWYgKHJldCkK
IAkJcmV0dXJuIHJldDsKIAotCWlmIChpbnRlbF91Y19pc191c2luZ19odWModWMpKSB7CisJaWYg
KGludGVsX3VjX3N1cHBvcnRzX2h1Yyh1YykpIHsKIAkJcmV0ID0gaW50ZWxfaHVjX2luaXQoaHVj
KTsKIAkJaWYgKHJldCkKIAkJCWdvdG8gZXJyX2d1YzsKQEAgLTM2NSwxMiArMzY1LDEyIEBAIHZv
aWQgaW50ZWxfdWNfZmluaShzdHJ1Y3QgaW50ZWxfdWMgKnVjKQogewogCXN0cnVjdCBpbnRlbF9n
dWMgKmd1YyA9ICZ1Yy0+Z3VjOwogCi0JaWYgKCFpbnRlbF91Y19pc191c2luZ19ndWModWMpKQor
CWlmICghaW50ZWxfdWNfc3VwcG9ydHNfZ3VjKHVjKSkKIAkJcmV0dXJuOwogCiAJR0VNX0JVR19P
TighaW50ZWxfdWNfZndfc3VwcG9ydGVkKCZndWMtPmZ3KSk7CiAKLQlpZiAoaW50ZWxfdWNfaXNf
dXNpbmdfaHVjKHVjKSkKKwlpZiAoaW50ZWxfdWNfc3VwcG9ydHNfaHVjKHVjKSkKIAkJaW50ZWxf
aHVjX2ZpbmkoJnVjLT5odWMpOwogCiAJaW50ZWxfZ3VjX2ZpbmkoZ3VjKTsKQEAgLTM5MSw3ICsz
OTEsNyBAQCBzdGF0aWMgdm9pZCBfX3VjX3Nhbml0aXplKHN0cnVjdCBpbnRlbF91YyAqdWMpCiAK
IHZvaWQgaW50ZWxfdWNfc2FuaXRpemUoc3RydWN0IGludGVsX3VjICp1YykKIHsKLQlpZiAoIWlu
dGVsX3VjX2lzX3VzaW5nX2d1Yyh1YykpCisJaWYgKCFpbnRlbF91Y19zdXBwb3J0c19ndWModWMp
KQogCQlyZXR1cm47CiAKIAlfX3VjX3Nhbml0aXplKHVjKTsKQEAgLTQwNCwxMSArNDA0LDExIEBA
IHN0YXRpYyBpbnQgdWNfaW5pdF93b3BjbShzdHJ1Y3QgaW50ZWxfdWMgKnVjKQogCXN0cnVjdCBp
bnRlbF91bmNvcmUgKnVuY29yZSA9IGd0LT51bmNvcmU7CiAJdTMyIGJhc2UgPSBpbnRlbF93b3Bj
bV9ndWNfYmFzZSgmZ3QtPmk5MTUtPndvcGNtKTsKIAl1MzIgc2l6ZSA9IGludGVsX3dvcGNtX2d1
Y19zaXplKCZndC0+aTkxNS0+d29wY20pOwotCXUzMiBodWNfYWdlbnQgPSBpbnRlbF91Y19pc191
c2luZ19odWModWMpID8gSFVDX0xPQURJTkdfQUdFTlRfR1VDIDogMDsKKwl1MzIgaHVjX2FnZW50
ID0gaW50ZWxfdWNfc3VwcG9ydHNfaHVjKHVjKSA/IEhVQ19MT0FESU5HX0FHRU5UX0dVQyA6IDA7
CiAJdTMyIG1hc2s7CiAJaW50IGVycjsKIAotCUdFTV9CVUdfT04oIWludGVsX3VjX2lzX3VzaW5n
X2d1Yyh1YykpOworCUdFTV9CVUdfT04oIWludGVsX3VjX3N1cHBvcnRzX2d1Yyh1YykpOwogCUdF
TV9CVUdfT04oIShiYXNlICYgR1VDX1dPUENNX09GRlNFVF9NQVNLKSk7CiAJR0VNX0JVR19PTihi
YXNlICYgfkdVQ19XT1BDTV9PRkZTRVRfTUFTSyk7CiAJR0VNX0JVR19PTighKHNpemUgJiBHVUNf
V09QQ01fU0laRV9NQVNLKSk7CkBAIC00NDcsNyArNDQ3LDcgQEAgaW50IGludGVsX3VjX2luaXRf
aHcoc3RydWN0IGludGVsX3VjICp1YykKIAlzdHJ1Y3QgaW50ZWxfaHVjICpodWMgPSAmdWMtPmh1
YzsKIAlpbnQgcmV0LCBhdHRlbXB0czsKIAotCWlmICghaW50ZWxfdWNfaXNfdXNpbmdfZ3VjKHVj
KSkKKwlpZiAoIWludGVsX3VjX3N1cHBvcnRzX2d1Yyh1YykpCiAJCXJldHVybiAwOwogCiAJR0VN
X0JVR19PTighaW50ZWxfdWNfZndfc3VwcG9ydGVkKCZndWMtPmZ3KSk7CkBAIC00NzQsNyArNDc0
LDcgQEAgaW50IGludGVsX3VjX2luaXRfaHcoc3RydWN0IGludGVsX3VjICp1YykKIAkJaWYgKHJl
dCkKIAkJCWdvdG8gZXJyX291dDsKIAotCQlpZiAoaW50ZWxfdWNfaXNfdXNpbmdfaHVjKHVjKSkg
eworCQlpZiAoaW50ZWxfdWNfc3VwcG9ydHNfaHVjKHVjKSkgewogCQkJcmV0ID0gaW50ZWxfaHVj
X2Z3X3VwbG9hZChodWMpOwogCQkJaWYgKHJldCAmJiBpbnRlbF91Y19md19pc19vdmVycmlkZGVu
KCZodWMtPmZ3KSkKIAkJCQlnb3RvIGVycl9vdXQ7CkBAIC01MDgsNyArNTA4LDcgQEAgaW50IGlu
dGVsX3VjX2luaXRfaHcoc3RydWN0IGludGVsX3VjICp1YykKIAlpZiAocmV0KQogCQlnb3RvIGVy
cl9jb21tdW5pY2F0aW9uOwogCi0JaWYgKGludGVsX3VjX2lzX3VzaW5nX2d1Y19zdWJtaXNzaW9u
KHVjKSkgeworCWlmIChpbnRlbF91Y19zdXBwb3J0c19ndWNfc3VibWlzc2lvbih1YykpIHsKIAkJ
cmV0ID0gaW50ZWxfZ3VjX3N1Ym1pc3Npb25fZW5hYmxlKGd1Yyk7CiAJCWlmIChyZXQpCiAJCQln
b3RvIGVycl9jb21tdW5pY2F0aW9uOwpAQCAtNTE3LDcgKzUxNyw3IEBAIGludCBpbnRlbF91Y19p
bml0X2h3KHN0cnVjdCBpbnRlbF91YyAqdWMpCiAJZGV2X2luZm8oaTkxNS0+ZHJtLmRldiwgIkd1
QyBmaXJtd2FyZSB2ZXJzaW9uICV1LiV1XG4iLAogCQkgZ3VjLT5mdy5tYWpvcl92ZXJfZm91bmQs
IGd1Yy0+ZncubWlub3JfdmVyX2ZvdW5kKTsKIAlkZXZfaW5mbyhpOTE1LT5kcm0uZGV2LCAiR3VD
IHN1Ym1pc3Npb24gJXNcbiIsCi0JCSBlbmFibGVkZGlzYWJsZWQoaW50ZWxfdWNfaXNfdXNpbmdf
Z3VjX3N1Ym1pc3Npb24odWMpKSk7CisJCSBlbmFibGVkZGlzYWJsZWQoaW50ZWxfdWNfc3VwcG9y
dHNfZ3VjX3N1Ym1pc3Npb24odWMpKSk7CiAJZGV2X2luZm8oaTkxNS0+ZHJtLmRldiwgIkh1QyAl
c1xuIiwKIAkJIGVuYWJsZWRkaXNhYmxlZChpbnRlbF9odWNfaXNfYXV0aGVudGljYXRlZChodWMp
KSk7CiAKQEAgLTU1Myw3ICs1NTMsNyBAQCB2b2lkIGludGVsX3VjX2ZpbmlfaHcoc3RydWN0IGlu
dGVsX3VjICp1YykKIAogCUdFTV9CVUdfT04oIWludGVsX3VjX2Z3X3N1cHBvcnRlZCgmZ3VjLT5m
dykpOwogCi0JaWYgKGludGVsX3VjX2lzX3VzaW5nX2d1Y19zdWJtaXNzaW9uKHVjKSkKKwlpZiAo
aW50ZWxfdWNfc3VwcG9ydHNfZ3VjX3N1Ym1pc3Npb24odWMpKQogCQlpbnRlbF9ndWNfc3VibWlz
c2lvbl9kaXNhYmxlKGd1Yyk7CiAKIAlndWNfZGlzYWJsZV9jb21tdW5pY2F0aW9uKGd1Yyk7CmRp
ZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC91Yy9pbnRlbF91Yy5oIGIvZHJpdmVy
cy9ncHUvZHJtL2k5MTUvZ3QvdWMvaW50ZWxfdWMuaAppbmRleCAyNWRhNTFlOTU0MTcuLjY2ZDhi
MWVlNmYxZCAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvdWMvaW50ZWxfdWMu
aAorKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC91Yy9pbnRlbF91Yy5oCkBAIC00OSwxOSAr
NDksMTkgQEAgdm9pZCBpbnRlbF91Y19ydW50aW1lX3N1c3BlbmQoc3RydWN0IGludGVsX3VjICp1
Yyk7CiBpbnQgaW50ZWxfdWNfcmVzdW1lKHN0cnVjdCBpbnRlbF91YyAqdWMpOwogaW50IGludGVs
X3VjX3J1bnRpbWVfcmVzdW1lKHN0cnVjdCBpbnRlbF91YyAqdWMpOwogCi1zdGF0aWMgaW5saW5l
IGJvb2wgaW50ZWxfdWNfaXNfdXNpbmdfZ3VjKHN0cnVjdCBpbnRlbF91YyAqdWMpCitzdGF0aWMg
aW5saW5lIGJvb2wgaW50ZWxfdWNfc3VwcG9ydHNfZ3VjKHN0cnVjdCBpbnRlbF91YyAqdWMpCiB7
CiAJR0VNX0JVR19PTihpOTE1X21vZHBhcmFtcy5lbmFibGVfZ3VjIDwgMCk7CiAJcmV0dXJuIGk5
MTVfbW9kcGFyYW1zLmVuYWJsZV9ndWMgPiAwOwogfQogCi1zdGF0aWMgaW5saW5lIGJvb2wgaW50
ZWxfdWNfaXNfdXNpbmdfZ3VjX3N1Ym1pc3Npb24oc3RydWN0IGludGVsX3VjICp1YykKK3N0YXRp
YyBpbmxpbmUgYm9vbCBpbnRlbF91Y19zdXBwb3J0c19ndWNfc3VibWlzc2lvbihzdHJ1Y3QgaW50
ZWxfdWMgKnVjKQogewogCUdFTV9CVUdfT04oaTkxNV9tb2RwYXJhbXMuZW5hYmxlX2d1YyA8IDAp
OwogCXJldHVybiBpOTE1X21vZHBhcmFtcy5lbmFibGVfZ3VjICYgRU5BQkxFX0dVQ19TVUJNSVNT
SU9OOwogfQogCi1zdGF0aWMgaW5saW5lIGJvb2wgaW50ZWxfdWNfaXNfdXNpbmdfaHVjKHN0cnVj
dCBpbnRlbF91YyAqdWMpCitzdGF0aWMgaW5saW5lIGJvb2wgaW50ZWxfdWNfc3VwcG9ydHNfaHVj
KHN0cnVjdCBpbnRlbF91YyAqdWMpCiB7CiAJR0VNX0JVR19PTihpOTE1X21vZHBhcmFtcy5lbmFi
bGVfZ3VjIDwgMCk7CiAJcmV0dXJuIGk5MTVfbW9kcGFyYW1zLmVuYWJsZV9ndWMgJiBFTkFCTEVf
R1VDX0xPQURfSFVDOwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kcnYu
aCBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZHJ2LmgKaW5kZXggYmRlZGU2MzI1ZDg3Li41
NzJhODRkYTM5MjYgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZHJ2LmgK
KysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kcnYuaApAQCAtMjI3NSw4ICsyMjc1LDgg
QEAgSVNfU1VCUExBVEZPUk0oY29uc3Qgc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUsCiAj
ZGVmaW5lIEhBU19HVF9VQyhkZXZfcHJpdikJKElOVEVMX0lORk8oZGV2X3ByaXYpLT5oYXNfZ3Rf
dWMpCiAKIC8qIEhhdmluZyBHdUMgaXMgbm90IHRoZSBzYW1lIGFzIHVzaW5nIEd1QyAqLwotI2Rl
ZmluZSBVU0VTX0dVQyhkZXZfcHJpdikJCWludGVsX3VjX2lzX3VzaW5nX2d1YygmKGRldl9wcml2
KS0+Z3QudWMpCi0jZGVmaW5lIFVTRVNfR1VDX1NVQk1JU1NJT04oZGV2X3ByaXYpCWludGVsX3Vj
X2lzX3VzaW5nX2d1Y19zdWJtaXNzaW9uKCYoZGV2X3ByaXYpLT5ndC51YykKKyNkZWZpbmUgVVNF
U19HVUMoZGV2X3ByaXYpCQlpbnRlbF91Y19zdXBwb3J0c19ndWMoJihkZXZfcHJpdiktPmd0LnVj
KQorI2RlZmluZSBVU0VTX0dVQ19TVUJNSVNTSU9OKGRldl9wcml2KQlpbnRlbF91Y19zdXBwb3J0
c19ndWNfc3VibWlzc2lvbigmKGRldl9wcml2KS0+Z3QudWMpCiAKICNkZWZpbmUgSEFTX1BPT0xF
RF9FVShkZXZfcHJpdikJKElOVEVMX0lORk8oZGV2X3ByaXYpLT5oYXNfcG9vbGVkX2V1KQogCi0t
IAoyLjE5LjIKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
CkludGVsLWdmeCBtYWlsaW5nIGxpc3QKSW50ZWwtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpo
dHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2ludGVsLWdmeA==

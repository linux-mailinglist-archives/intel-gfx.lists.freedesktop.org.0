Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id BE756103AE9
	for <lists+intel-gfx@lfdr.de>; Wed, 20 Nov 2019 14:19:09 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 022F86E5D5;
	Wed, 20 Nov 2019 13:19:08 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga01.intel.com (mga01.intel.com [192.55.52.88])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 845126E5D5
 for <intel-gfx@lists.freedesktop.org>; Wed, 20 Nov 2019 13:19:07 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga008.jf.intel.com ([10.7.209.65])
 by fmsmga101.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 20 Nov 2019 05:19:07 -0800
X-IronPort-AV: E=Sophos;i="5.69,222,1571727600"; d="scan'208";a="200713205"
Received: from unknown (HELO [10.252.30.240]) ([10.252.30.240])
 by orsmga008-auth.jf.intel.com with ESMTP/TLS/AES256-SHA;
 20 Nov 2019 05:19:05 -0800
To: Chris Wilson <chris@chris-wilson.co.uk>, intel-gfx@lists.freedesktop.org
References: <20191120093302.3723715-1-chris@chris-wilson.co.uk>
 <20191120093302.3723715-3-chris@chris-wilson.co.uk>
 <c8196701-7459-5f02-ee09-d48c6216b547@linux.intel.com>
 <157425165727.13839.12483018227008886642@skylake-alporthouse-com>
 <b560217a-5e19-c43d-59b7-b6957c50e59d@linux.intel.com>
 <157425386497.13839.7732900200634257701@skylake-alporthouse-com>
From: Tvrtko Ursulin <tvrtko.ursulin@linux.intel.com>
Organization: Intel Corporation UK Plc
Message-ID: <8f9ae9a3-9a35-9eba-7f1e-20cc8b5d9d16@linux.intel.com>
Date: Wed, 20 Nov 2019 13:19:04 +0000
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101
 Thunderbird/60.9.0
MIME-Version: 1.0
In-Reply-To: <157425386497.13839.7732900200634257701@skylake-alporthouse-com>
Content-Language: en-US
Subject: Re: [Intel-gfx] [PATCH 3/9] drm/i915/gt: Unlock engine-pm after
 queuing the kernel context switch
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

NjY2Ck9uIDIwLzExLzIwMTkgMTI6NDQsIENocmlzIFdpbHNvbiB3cm90ZToKPiBRdW90aW5nIFR2
cnRrbyBVcnN1bGluICgyMDE5LTExLTIwIDEyOjQwOjEzKQo+Pgo+PiBPbiAyMC8xMS8yMDE5IDEy
OjA3LCBDaHJpcyBXaWxzb24gd3JvdGU6Cj4+PiBRdW90aW5nIFR2cnRrbyBVcnN1bGluICgyMDE5
LTExLTIwIDExOjU4OjI3KQo+Pj4+Cj4+Pj4gT24gMjAvMTEvMjAxOSAwOTozMiwgQ2hyaXMgV2ls
c29uIHdyb3RlOgo+Pj4+PiBJbiBjb21taXQgYTc5Y2E2NTZiNjQ4ICgiZHJtL2k5MTU6IFB1c2gg
dGhlIHdha2VyZWYtPmNvdW50IGRlZmVycmFsIHRvCj4+Pj4+IHRoZSBiYWNrZW5kIiksIEkgZXJy
b25lb3VzbHkgY29uY2x1ZGVkIHRoYXQgd2UgbGFzdCBtb2RpZnkgdGhlIGVuZ2luZQo+Pj4+PiBp
bnNpZGUgX19pOTE1X3JlcXVlc3RfY29tbWl0KCkgbWVhbmluZyB0aGF0IHdlIGNvdWxkIGVuYWJs
ZSBjb25jdXJyZW50Cj4+Pj4+IHN1Ym1pc3Npb24gZm9yIHVzZXJzcGFjZSBhcyB3ZSBlbnF1ZXVl
ZCB0aGlzIHJlcXVlc3QuIEhvd2V2ZXIsIHRoaXMKPj4+Pj4gZmFsbHMgaW50byBhIHRyYXAgd2l0
aCBvdGhlciB1c2VycyBvZiB0aGUgZW5naW5lLT5rZXJuZWxfY29udGV4dCB3YWtpbmcKPj4+Pj4g
dXAgYW5kIHN1Ym1pdHRpbmcgdGhlaXIgcmVxdWVzdCBiZWZvcmUgdGhlIGlkbGUtc3dpdGNoIGlz
IHF1ZXVlZCwgd2l0aAo+Pj4+PiB0aGUgcmVzdWx0IHRoYXQgdGhlIGtlcm5lbF9jb250ZXh0IGlz
IGV4ZWN1dGVkIG91dC1vZi1zZXF1ZW5jZSBtb3N0Cj4+Pj4+IGxpa2VseSB1cHNldHRpbmcgdGhl
IEdQVSBhbmQgY2VydGFpbmx5IG91cnNlbHZlcyB3aGVuIHdlIHRyeSB0byByZXRpcmUKPj4+Pj4g
dGhlIG91dC1vZi1zZXF1ZW5jZSByZXF1ZXN0cy4KPj4+Pj4KPj4+Pj4gQXMgc3VjaCB3ZSBuZWVk
IHRvIGhvbGQgb250byB0aGUgZWZmZWN0aXZlIGVuZ2luZS0+a2VybmVsX2NvbnRleHQgbXV0ZXgK
Pj4+Pj4gbG9jayAodmlhIHRoZSBlbmdpbmUgcG0gbXV0ZXggcHJveHkpIHVudGlsIHdlIGhhdmUg
ZmluaXNoIHF1ZXVpbmcgdGhlCj4+Pj4+IHJlcXVlc3QgdG8gdGhlIGVuZ2luZS4KPj4+Pj4KPj4+
Pj4gdjI6IFNlcmlhbGlzZSBhZ2FpbnN0IGNvbmN1cnJlbnQgaW50ZWxfZ3RfcmV0aXJlX3JlcXVl
c3RzKCkKPj4+Pj4gdjM6IERlc2NyaWJlIHRoZSBoYWlyeSBsb2NraW5nIHNjaGVtZSB3aXRoIGlu
dGVsX2d0X3JldGlyZV9yZXF1ZXN0cygpCj4+Pj4+IGZvciBmdXR1cmUgcmVmZXJlbmNlLgo+Pj4+
PiB2NDogQ29tYmluZSB0aW1lbGluZS0+bG9jayBhbmQgZW5naW5lIHBtIHJlbGVhc2U7IGl0J3Mg
aGFpcnkuCj4+Pj4+Cj4+Pj4+IEZpeGVzOiBhNzljYTY1NmI2NDggKCJkcm0vaTkxNTogUHVzaCB0
aGUgd2FrZXJlZi0+Y291bnQgZGVmZXJyYWwgdG8gdGhlIGJhY2tlbmQiKQo+Pj4+PiBTaWduZWQt
b2ZmLWJ5OiBDaHJpcyBXaWxzb24gPGNocmlzQGNocmlzLXdpbHNvbi5jby51az4KPj4+Pj4gQ2M6
IE1pa2EgS3VvcHBhbGEgPG1pa2Eua3VvcHBhbGFAbGludXguaW50ZWwuY29tPgo+Pj4+PiBDYzog
VHZydGtvIFVyc3VsaW4gPHR2cnRrby51cnN1bGluQGludGVsLmNvbT4KPj4+Pj4gLS0tCj4+Pj4+
ICAgICBkcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9lbmdpbmVfcG0uYyB8IDQ3ICsrKysr
KysrKysrKysrKysrKystLS0tCj4+Pj4+ICAgICAxIGZpbGUgY2hhbmdlZCwgNDAgaW5zZXJ0aW9u
cygrKSwgNyBkZWxldGlvbnMoLSkKPj4+Pj4KPj4+Pj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1
L2RybS9pOTE1L2d0L2ludGVsX2VuZ2luZV9wbS5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3Qv
aW50ZWxfZW5naW5lX3BtLmMKPj4+Pj4gaW5kZXggM2MwZjQ5MGZmMmM3Li4xZjUxNzM1N2EyNjgg
MTAwNjQ0Cj4+Pj4+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2VuZ2luZV9w
bS5jCj4+Pj4+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2VuZ2luZV9wbS5j
Cj4+Pj4+IEBAIC03Myw4ICs3MywyNSBAQCBzdGF0aWMgaW5saW5lIHZvaWQgX190aW1lbGluZV9t
YXJrX3VubG9jayhzdHJ1Y3QgaW50ZWxfY29udGV4dCAqY2UsCj4+Pj4+ICAgICAKPj4+Pj4gICAg
ICNlbmRpZiAvKiAhSVNfRU5BQkxFRChDT05GSUdfTE9DS0RFUCkgKi8KPj4+Pj4gICAgIAo+Pj4+
PiArc3RhdGljIHZvaWQKPj4+Pj4gK19faW50ZWxfdGltZWxpbmVfZW50ZXJfYW5kX3BtX3JlbGVh
c2Uoc3RydWN0IGludGVsX3RpbWVsaW5lICp0bCwKPj4+Pj4gKyAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgc3RydWN0IGludGVsX2VuZ2luZV9jcyAqZW5naW5lKQo+Pj4+PiArewo+
Pj4+PiArICAgICBzdHJ1Y3QgaW50ZWxfZ3RfdGltZWxpbmVzICp0aW1lbGluZXMgPSAmZW5naW5l
LT5ndC0+dGltZWxpbmVzOwo+Pj4+PiArCj4+Pj4+ICsgICAgIHNwaW5fbG9jaygmdGltZWxpbmVz
LT5sb2NrKTsKPj4+Pj4gKwo+Pj4+PiArICAgICBpZiAoIWF0b21pY19mZXRjaF9pbmMoJnRsLT5h
Y3RpdmVfY291bnQpKQo+Pj4+PiArICAgICAgICAgICAgIGxpc3RfYWRkX3RhaWwoJnRsLT5saW5r
LCAmdGltZWxpbmVzLT5hY3RpdmVfbGlzdCk7Cj4+Pj4KPj4+PiBIbW0gd2l0aCB0aGVzZSBuZXcg
cGFydCBpdCBtYXliZSBtYXRjaGVzL2Fuc3dlcnMgbXkgcXVlc3Rpb24gZnJvbQo+Pj4+ICJkcm0v
aTkxNS9ndDogQ2xvc2UgcmFjZSBiZXR3ZWVuIGVuZ2luZV9wYXJrIGFuZAo+Pj4+IGludGVsX2d0
X3JldGlyZV9yZXF1ZXN0cyIuIEkgdGhpbmsgYXQgbGVhc3QuIFNpbmNlIGl0IG5vdyBhZGRzIGEg
c2Vjb25kCj4+Pj4gcGxhY2UgdGltZWxpbmUgY2FuIGVudGVyIHRoZSBhY3RpdmVfbGlzdC4KPj4+
Pgo+Pj4+IEJ1dCBubywgd2hlcmUgZG9lcyB0aGUgaW50ZWxfdGltZWxpbmVfZW50ZXIgcmFjZSBj
b21lIGZyb20/IENhbid0IGJlCj4+Pj4gdXNlcnNwYWNlIHN1Ym1pc3Npb24gc2luY2UgdGhleSBh
cmUgYmxvY2tlZCBvbiB3Zi0+bG9jay4KPj4+Cj4+PiBUaGUgcmFjZSBpcyBub3QganVzdCB3aXRo
IGludGVsX3RpbWVsaW5lX2VudGVyLCBidXQgd2l0aAo+Pj4gaW50ZWxfZ3RfcmV0aXJlX3JlcXVl
c3RzLgo+Pj4KPj4+IEFzIHNvb24gYXMgd2UgYXJlIG9uIHRoYXQgbGlzdCwgd2UgbWF5IGJlIHJl
dGlyZWQuIElmIHdlIGFyZSByZXRpcmVkCj4+PiBiZWZvcmUgYWRqdXN0aW5nIHRoZSBlbmdpbmUt
Pndha2VyZWYuY291bnQsIHdlIGFyZSBiMHJrZWQuCj4+Pgo+Pj4gQXMgc29vbiBhcyB3ZSBhZGp1
c3QgdGhlIGVuZ2luZS0+d2FrZXJlZi5jb3VudCwgYW5vdGhlciBzdWJtaXNzaW9uIG1heQo+Pj4g
Y2FsbCBpbnRlbF90aW1lbGluZV9lbnRlciwgYW5kIGFnYWluIG1heSBldmVuIHJldGlyZSB0aGlz
IHJlcXVlc3QuIFRoZQo+Pj4gZW50ZXIgaXRzZWxmIGlzIHBlcmZlY3RseSBmaW5lLCBidXQgd2Ug
bmVlZCB0byBzZXJpYWxpc2UgYWdhaW5zdCB0aGUKPj4+IHJldGlyZXMuCj4+Cj4+IEkgdGhpbmsg
dGhlIHR3byBwYXRjaGVzIGNvbWJpbmVkIHdvcmssIEkgYW0ganVzdCBub3Qgc3VyZSB0d28KPj4g
YXRvbWljX2ZldGNoX2luYygpLT5saXN0X2FkZCgpIGFyZSBuZWVkZWQgbm93IHRoYXQgeW91IHJl
LW9yZGVyZWQKPj4gX19pOTE1X3JlcXVlc3RzX3F1ZXVlIGFuZCBfX2ludGVsX3dha2VyZWZfZGVm
ZXJfcGFyayAtIHRoYXQncyB0aGUgcGFydAo+PiB3aGljaCBpcyBjb25mdXNpbmcgbWUuIEJ1dCBp
dCBhbHNvIGRvZXNuJ3QgaGFybS4uLgo+IAo+IEkgdHJpZWQgdG8gZ2V0IGF3YXkgd2l0aCBub3Qs
IGJ1dCB0aGUgc2VsZnRlc3RzIGhhbW1lciB2ZXJ5IGhlYXZpbHkgb24KPiB0aGUgZW5naW5lLT5r
ZXJuZWxfY29udGV4dCBzbyB3ZSBkbyBlbmNvdW50ZXIgdGhlIHNjZW5hcmlvcyB3aGVyZSB3ZSBh
cmUKPiB1c2luZyB0aGUga2VybmVsX2NvbnRleHQgdG8gcGFyayBvbiBvbmUgY3B1IHdoaWxlIHN1
Ym1pdHRpbmcgYSBuZXcKPiByZXF1ZXN0IG9uIGFub3RoZXIuCj4gCj4gSSB3b3VsZCBoYXZlIGdv
dCBhd2F5IHdpdGggaXQgYnV0IGZvciB0aGVzZSBwZXNreSBzZWxmdGVzdHMuCgpPa2F5LCBJJ2xs
IHRydXN0IHlvdSBvbiB0aGF0OgoKUmV2aWV3ZWQtYnk6IFR2cnRrbyBVcnN1bGluIDx0dnJ0a28u
dXJzdWxpbkBpbnRlbC5jb20+CgpSZWdhcmRzLAoKVHZydGtvCl9fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fCkludGVsLWdmeCBtYWlsaW5nIGxpc3QKSW50ZWwt
Z2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9t
YWlsbWFuL2xpc3RpbmZvL2ludGVsLWdmeA==

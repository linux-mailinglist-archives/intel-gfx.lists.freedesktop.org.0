Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 6B9F6150755
	for <lists+intel-gfx@lfdr.de>; Mon,  3 Feb 2020 14:34:16 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id BF9DA6E369;
	Mon,  3 Feb 2020 13:34:13 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from fireflyinternet.com (unknown [77.68.26.236])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 6E9636E369
 for <intel-gfx@lists.freedesktop.org>; Mon,  3 Feb 2020 13:34:11 +0000 (UTC)
X-Default-Received-SPF: pass (skip=forwardok (res=PASS))
 x-ip-name=78.156.65.138; 
Received: from haswell.alporthouse.com (unverified [78.156.65.138]) 
 by fireflyinternet.com (Firefly Internet (M1)) with ESMTP id 20100207-1500050 
 for <intel-gfx@lists.freedesktop.org>; Mon, 03 Feb 2020 13:34:09 +0000
From: Chris Wilson <chris@chris-wilson.co.uk>
To: intel-gfx@lists.freedesktop.org
Date: Mon,  3 Feb 2020 13:34:08 +0000
Message-Id: <20200203133408.187493-1-chris@chris-wilson.co.uk>
X-Mailer: git-send-email 2.25.0
MIME-Version: 1.0
Subject: [Intel-gfx] [CI] drm/i915/audio: Skip the cdclk modeset if no pipes
 attached
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

SWYgdGhlIGRpc3BsYXkgaXMgbm90IGRyaXZpbmcgYW55IHBpcGVzLCB3ZSBjYW5ub3QgY2hhbmdl
IHRoZSBiY2xrIGFuZApkb2luZyBzbyByaXNrcyBjaGFzaW5nIE5VTEwgcG9pbnRlcnM6Cgo8Nj4g
WzI3OC45MDcxMDVdIHNuZF9oZGFfaW50ZWwgMDAwMDowMDowZS4wOiBEU1AgZGV0ZWN0ZWQgd2l0
aCBQQ0kgY2xhc3Mvc3ViY2xhc3MvcHJvZy1pZiBpbmZvIDB4MDQwMTAwCjw2PiBbMjc4LjkwOTkz
Nl0gc25kX2hkYV9pbnRlbCAwMDAwOjAwOjBlLjA6IGJvdW5kIDAwMDA6MDA6MDIuMCAob3BzIGk5
MTVfYXVkaW9fY29tcG9uZW50X2JpbmRfb3BzIFtpOTE1XSkKPDc+IFsyNzguOTEwMDc4XSBpOTE1
IDAwMDA6MDA6MDIuMDogW2RybTppbnRlbF9wb3dlcl93ZWxsX2VuYWJsZSBbaTkxNV1dIGVuYWJs
aW5nIHBvd2VyIHdlbGwgMgo8MT4gWzI3OC45MTAyMjhdIEJVRzoga2VybmVsIE5VTEwgcG9pbnRl
ciBkZXJlZmVyZW5jZSwgYWRkcmVzczogMDAwMDAwMDAwMDAwMDA4MAo8MT4gWzI3OC45MTAyNDNd
ICNQRjogc3VwZXJ2aXNvciByZWFkIGFjY2VzcyBpbiBrZXJuZWwgbW9kZQo8MT4gWzI3OC45MTAy
NTFdICNQRjogZXJyb3JfY29kZSgweDAwMDApIC0gbm90LXByZXNlbnQgcGFnZQo8Nj4gWzI3OC45
MTAyNjBdIFBHRCAwIFA0RCAwCjw0PiBbMjc4LjkxMDI2N10gT29wczogMDAwMCBbIzFdIFBSRUVN
UFQgU01QIFBUSQo8ND4gWzI3OC45MTAyNzZdIENQVTogMCBQSUQ6IDUgQ29tbToga3dvcmtlci8w
OjAgVGFpbnRlZDogRyAgICAgVSAgICAgICAgICAgIDUuNS4wLUNJLUNJX0RSTV83ODUzKyAjMQo8
ND4gWzI3OC45MTAyODldIEhhcmR3YXJlIG5hbWU6IEludGVsIENvcnAuIEdlbWluaWxha2UvR0xL
IFJWUDIgTFA0U0QgKDA3KSwgQklPUyBHRUxLUlZQQS5YNjQuMDA2Mi5CMzAuMTcwODIyMjE0NiAw
OC8yMi8yMDE3Cjw0PiBbMjc4LjkxMDMxMl0gV29ya3F1ZXVlOiBldmVudHMgYXp4X3Byb2JlX3dv
cmsgW3NuZF9oZGFfaW50ZWxdCjw0PiBbMjc4LjkxMDMyN10gUklQOiAwMDEwOl9fd3dfbXV0ZXhf
bG9jay5jb25zdHByb3AuMTUrMHg1ZS8weDEwOTAKPDQ+IFsyNzguOTEwMzM4XSBDb2RlOiA3NSA4
OCBiZSBhNyAwMyAwMCAwMCA2NSA0OCA4YiAwNCAyNSAyOCAwMCAwMCAwMCA0OCA4OSA0NSBjOCAz
MSBjMCA0YyA4OSBjMyBlOCA1ZSBiMyA2ZCBmZiA0NCA4YiAzZCAyZiAyNCAzNyAwMiA0NSA4NSBm
ZiA3NSAwYSA8NGQ+IDNiIDZkIDU4IDBmIDg1IDNmIDA3IDAwIDAwIDQ4IDg1IGRiIDc0IDIyIDQ5
IDhiIDk1IDgwIDAwIDAwIDAwCjw0PiBbMjc4LjkxMDM2Ml0gUlNQOiAwMDE4OmZmZmZjOTAwMDAw
OGJjMTAgRUZMQUdTOiAwMDAxMDI0Ngo8ND4gWzI3OC45MTAzNzFdIFJBWDogMDAwMDAwMDAwMDAw
MDI0NiBSQlg6IGZmZmZjOTAwMDAwOGJkMzAgUkNYOiAwMDAwMDAwMDAwMDAwMDAxCjw0PiBbMjc4
LjkxMDM4Ml0gUkRYOiAwMDAwMDAwMDAwMDAwMDAwIFJTSTogZmZmZmZmZmY4MjY0N2M2MCBSREk6
IGZmZmY4ODgxN2IyN2Q4NDgKPDQ+IFsyNzguOTEwMzkzXSBSQlA6IGZmZmZjOTAwMDAwOGJjYzAg
UjA4OiAwMDAwMDAwMDAwMDAwMDAwIFIwOTogMDAwMDAwMDAwMDAwMDAwMQo8ND4gWzI3OC45MTA0
MDRdIFIxMDogZmZmZmM5MDAwMDA4YmNlMCBSMTE6IDAwMDAwMDAwMDAwMDAwMDAgUjEyOiBmZmZm
ZmZmZjgxNjhmMGZjCjw0PiBbMjc4LjkxMDQxNF0gUjEzOiAwMDAwMDAwMDAwMDAwMDI4IFIxNDog
ZmZmZmM5MDAwMDA4YmQ2MCBSMTU6IDAwMDAwMDAwMDAwMDAwMDAKPDQ+IFsyNzguOTEwNDI1XSBG
UzogIDAwMDAwMDAwMDAwMDAwMDAoMDAwMCkgR1M6ZmZmZjg4ODE3YmMwMDAwMCgwMDAwKSBrbmxH
UzowMDAwMDAwMDAwMDAwMDAwCjw0PiBbMjc4LjkxMDQzN10gQ1M6ICAwMDEwIERTOiAwMDAwIEVT
OiAwMDAwIENSMDogMDAwMDAwMDA4MDA1MDAzMwo8ND4gWzI3OC45MTA0NDZdIENSMjogMDAwMDAw
MDAwMDAwMDA4MCBDUjM6IDAwMDAwMDAxNjUwZGEwMDAgQ1I0OiAwMDAwMDAwMDAwMzQwZWYwCjw0
PiBbMjc4LjkxMDQ1Nl0gQ2FsbCBUcmFjZToKPDQ+IFsyNzguOTEwNDY4XSAgPyBtYXJrX2hlbGRf
bG9ja3MrMHg0OS8weDcwCjw0PiBbMjc4LjkxMDQ3OV0gID8gd3dfbXV0ZXhfbG9jaysweDM5LzB4
NzAKPDQ+IFsyNzguOTEwNDg3XSAgd3dfbXV0ZXhfbG9jaysweDM5LzB4NzAKPDQ+IFsyNzguOTEw
NDk3XSAgZHJtX21vZGVzZXRfbG9jaysweDZjLzB4MTIwCjw0PiBbMjc4LjkxMDU3NV0gIGdsa19m
b3JjZV9hdWRpb19jZGNsaysweDdkLzB4MTQwIFtpOTE1XQo8ND4gWzI3OC45MTA2NTZdICBpOTE1
X2F1ZGlvX2NvbXBvbmVudF9nZXRfcG93ZXIrMHhmMi8weDExMCBbaTkxNV0KPDQ+IFsyNzguOTEw
NjczXSAgc25kX2hkYWNfZGlzcGxheV9wb3dlcisweDdkLzB4MTIwIFtzbmRfaGRhX2NvcmVdCjw0
PiBbMjc4LjkxMDY4Nl0gIGF6eF9wcm9iZV93b3JrKzB4ODgvMHg3ZTAgW3NuZF9oZGFfaW50ZWxd
Cgp2MjogUmVvcmRlciBnbGtfZm9yY2VfYXVkaW9fY2RjbGsoKSBwYXJhbWV0ZXJzIHRvIGZpdCBp
biB3aXRoIHRoZSBub3JtLgoKQ2xvc2VzOiBodHRwczovL2dpdGxhYi5mcmVlZGVza3RvcC5vcmcv
ZHJtL2ludGVsL2lzc3Vlcy8xMDk1ClNpZ25lZC1vZmYtYnk6IENocmlzIFdpbHNvbiA8Y2hyaXNA
Y2hyaXMtd2lsc29uLmNvLnVrPgpSZXZpZXdlZC1ieTogVmlsbGUgU3lyasOkbMOkIDx2aWxsZS5z
eXJqYWxhQGxpbnV4LmludGVsLmNvbT4KLS0tCiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5
L2ludGVsX2F1ZGlvLmMgfCAxMiArKysrKysrKy0tLS0KIDEgZmlsZSBjaGFuZ2VkLCA4IGluc2Vy
dGlvbnMoKyksIDQgZGVsZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5
MTUvZGlzcGxheS9pbnRlbF9hdWRpby5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9p
bnRlbF9hdWRpby5jCmluZGV4IDEzODMzYTdhOGYyNy4uMzBmYjdjODg3ZmYwIDEwMDY0NAotLS0g
YS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2F1ZGlvLmMKKysrIGIvZHJpdmVy
cy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9hdWRpby5jCkBAIC04MTEsMTUgKzgxMSwxMyBA
QCB2b2lkIGludGVsX2luaXRfYXVkaW9faG9va3Moc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRl
dl9wcml2KQogfQogCiBzdGF0aWMgaW50IGdsa19mb3JjZV9hdWRpb19jZGNsa19jb21taXQoc3Ry
dWN0IGludGVsX2F0b21pY19zdGF0ZSAqc3RhdGUsCisJCQkJCXN0cnVjdCBpbnRlbF9jcnRjICpj
cnRjLAogCQkJCQlib29sIGVuYWJsZSkKIHsKLQlzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2
X3ByaXYgPSB0b19pOTE1KHN0YXRlLT5iYXNlLmRldik7CiAJc3RydWN0IGludGVsX2NkY2xrX3N0
YXRlICpjZGNsa19zdGF0ZTsKLQlzdHJ1Y3QgaW50ZWxfY3J0YyAqY3J0YzsKIAlpbnQgcmV0Owog
CiAJLyogbmVlZCB0byBob2xkIGF0IGxlYXN0IG9uZSBjcnRjIGxvY2sgZm9yIHRoZSBnbG9iYWwg
c3RhdGUgKi8KLQljcnRjID0gaW50ZWxfZ2V0X2NydGNfZm9yX3BpcGUoZGV2X3ByaXYsIFBJUEVf
QSk7CiAJcmV0ID0gZHJtX21vZGVzZXRfbG9jaygmY3J0Yy0+YmFzZS5tdXRleCwgc3RhdGUtPmJh
c2UuYWNxdWlyZV9jdHgpOwogCWlmIChyZXQpCiAJCXJldHVybiByZXQ7CkBAIC04NDMsOCArODQx
LDEzIEBAIHN0YXRpYyB2b2lkIGdsa19mb3JjZV9hdWRpb19jZGNsayhzdHJ1Y3QgZHJtX2k5MTVf
cHJpdmF0ZSAqZGV2X3ByaXYsCiB7CiAJc3RydWN0IGRybV9tb2Rlc2V0X2FjcXVpcmVfY3R4IGN0
eDsKIAlzdHJ1Y3QgZHJtX2F0b21pY19zdGF0ZSAqc3RhdGU7CisJc3RydWN0IGludGVsX2NydGMg
KmNydGM7CiAJaW50IHJldDsKIAorCWNydGMgPSBpbnRlbF9nZXRfY3J0Y19mb3JfcGlwZShkZXZf
cHJpdiwgUElQRV9BKTsKKwlpZiAoIWNydGMpCisJCXJldHVybjsKKwogCWRybV9tb2Rlc2V0X2Fj
cXVpcmVfaW5pdCgmY3R4LCAwKTsKIAlzdGF0ZSA9IGRybV9hdG9taWNfc3RhdGVfYWxsb2MoJmRl
dl9wcml2LT5kcm0pOwogCWlmIChkcm1fV0FSTl9PTigmZGV2X3ByaXYtPmRybSwgIXN0YXRlKSkK
QEAgLTg1Myw3ICs4NTYsOCBAQCBzdGF0aWMgdm9pZCBnbGtfZm9yY2VfYXVkaW9fY2RjbGsoc3Ry
dWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2LAogCXN0YXRlLT5hY3F1aXJlX2N0eCA9ICZj
dHg7CiAKIHJldHJ5OgotCXJldCA9IGdsa19mb3JjZV9hdWRpb19jZGNsa19jb21taXQodG9faW50
ZWxfYXRvbWljX3N0YXRlKHN0YXRlKSwgZW5hYmxlKTsKKwlyZXQgPSBnbGtfZm9yY2VfYXVkaW9f
Y2RjbGtfY29tbWl0KHRvX2ludGVsX2F0b21pY19zdGF0ZShzdGF0ZSksIGNydGMsCisJCQkJCSAg
IGVuYWJsZSk7CiAJaWYgKHJldCA9PSAtRURFQURMSykgewogCQlkcm1fYXRvbWljX3N0YXRlX2Ns
ZWFyKHN0YXRlKTsKIAkJZHJtX21vZGVzZXRfYmFja29mZigmY3R4KTsKLS0gCjIuMjUuMAoKX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KSW50ZWwtZ2Z4IG1h
aWxpbmcgbGlzdApJbnRlbC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMu
ZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vaW50ZWwtZ2Z4Cg==

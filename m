Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id F23A8D31AA
	for <lists+intel-gfx@lfdr.de>; Thu, 10 Oct 2019 21:49:03 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 0D5676EB69;
	Thu, 10 Oct 2019 19:49:02 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from fireflyinternet.com (mail.fireflyinternet.com [109.228.58.192])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 0CF5C6E91E
 for <intel-gfx@lists.freedesktop.org>; Thu, 10 Oct 2019 19:48:58 +0000 (UTC)
X-Default-Received-SPF: pass (skip=forwardok (res=PASS))
 x-ip-name=78.156.65.138; 
Received: from haswell.alporthouse.com (unverified [78.156.65.138]) 
 by fireflyinternet.com (Firefly Internet (M1)) with ESMTP id 18796085-1500050 
 for <intel-gfx@lists.freedesktop.org>; Thu, 10 Oct 2019 20:48:54 +0100
From: Chris Wilson <chris@chris-wilson.co.uk>
To: intel-gfx@lists.freedesktop.org
Date: Thu, 10 Oct 2019 20:48:49 +0100
Message-Id: <20191010194851.26592-7-chris@chris-wilson.co.uk>
X-Mailer: git-send-email 2.23.0
In-Reply-To: <20191010194851.26592-1-chris@chris-wilson.co.uk>
References: <20191010194851.26592-1-chris@chris-wilson.co.uk>
MIME-Version: 1.0
Subject: [Intel-gfx] [CI 7/9] drm/i915/perf: Allow dynamic reconfiguration
 of the OA stream
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

SW50cm9kdWNlIGEgbmV3IHBlcmZfaW9jdGwgY29tbWFuZCB0byBjaGFuZ2UgdGhlIE9BIGNvbmZp
Z3VyYXRpb24gb2YgdGhlCmFjdGl2ZSBzdHJlYW0uIFRoaXMgYWxsb3dzIHRoZSBPQSBzdHJlYW0g
dG8gYmUgcmVjb25maWd1cmVkIGJldHdlZW4KYmF0Y2ggYnVmZmVycywgZ2l2aW5nIGdyZWF0ZXIg
ZmxleGliaWxpdHkgaW4gc2FtcGxpbmcuIFdlIGluamVjdCBhCnJlcXVlc3QgaW50byB0aGUgT0Eg
Y29udGV4dCB0byByZWNvbmZpZ3VyZSB0aGUgc3RyZWFtIGFzeW5jaHJvbm91c2x5IG9uCnRoZSBH
UFUgaW4gYmV0d2VlbiBhbmQgb3JkZXJlZCB3aXRoIGV4ZWNidWZmZXIgY2FsbHMuCgpPcmlnaW5h
bCBwYXRjaCBmb3IgZHluYW1pYyByZWNvbmZpZ3VyYXRpb24gYnkgTGlvbmVsIExhbmR3ZXJsaW4u
CgpTaWduZWQtb2ZmLWJ5OiBDaHJpcyBXaWxzb24gPGNocmlzQGNocmlzLXdpbHNvbi5jby51az4K
UmV2aWV3ZWQtYnk6IExpb25lbCBMYW5kd2VybGluIDxsaW9uZWwuZy5sYW5kd2VybGluQGludGVs
LmNvbT4KLS0tCiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3BlcmYuYyB8IDM0ICsrKysrKysr
KysrKysrKysrKysrKysrKysrKysrKystCiBpbmNsdWRlL3VhcGkvZHJtL2k5MTVfZHJtLmggICAg
ICB8IDEwICsrKysrKysrKysKIDIgZmlsZXMgY2hhbmdlZCwgNDMgaW5zZXJ0aW9ucygrKSwgMSBk
ZWxldGlvbigtKQoKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfcGVyZi5j
IGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9wZXJmLmMKaW5kZXggYzM3ZmUyNzVjZjMzLi4w
MDFmYjI0OWFhZWMgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfcGVyZi5j
CisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfcGVyZi5jCkBAIC0yODYwLDYgKzI4NjAs
MjggQEAgc3RhdGljIHZvaWQgaTkxNV9wZXJmX2Rpc2FibGVfbG9ja2VkKHN0cnVjdCBpOTE1X3Bl
cmZfc3RyZWFtICpzdHJlYW0pCiAJCXN0cmVhbS0+b3BzLT5kaXNhYmxlKHN0cmVhbSk7CiB9CiAK
K3N0YXRpYyBpbnQgaTkxNV9wZXJmX2NvbmZpZ19sb2NrZWQoc3RydWN0IGk5MTVfcGVyZl9zdHJl
YW0gKnN0cmVhbSwKKwkJCQkgICB1bnNpZ25lZCBsb25nIG1ldHJpY3Nfc2V0KQoreworCXN0cnVj
dCBpOTE1X29hX2NvbmZpZyAqY29uZmlnOworCWludCBlcnIgPSAwOworCisJY29uZmlnID0gaTkx
NV9wZXJmX2dldF9vYV9jb25maWcoc3RyZWFtLT5wZXJmLCBtZXRyaWNzX3NldCk7CisJaWYgKCFj
b25maWcpCisJCXJldHVybiAtRUlOVkFMOworCisJaWYgKGNvbmZpZyAhPSBzdHJlYW0tPm9hX2Nv
bmZpZykgeworCQlpZiAoc3RyZWFtLT5waW5uZWRfY3R4KQorCQkJZXJyID0gZW1pdF9vYV9jb25m
aWcoc3RyZWFtLCBzdHJlYW0tPnBpbm5lZF9jdHgpOworCQlpZiAoZXJyID09IDApCisJCQljb25m
aWcgPSB4Y2hnKCZzdHJlYW0tPm9hX2NvbmZpZywgY29uZmlnKTsKKwl9CisKKwlpOTE1X29hX2Nv
bmZpZ19wdXQoY29uZmlnKTsKKworCXJldHVybiBlcnI7Cit9CisKIC8qKgogICogaTkxNV9wZXJm
X2lvY3RsIC0gc3VwcG9ydCBpb2N0bCgpIHVzYWdlIHdpdGggaTkxNSBwZXJmIHN0cmVhbSBGRHMK
ICAqIEBzdHJlYW06IEFuIGk5MTUgcGVyZiBzdHJlYW0KQEAgLTI4ODMsNiArMjkwNSw4IEBAIHN0
YXRpYyBsb25nIGk5MTVfcGVyZl9pb2N0bF9sb2NrZWQoc3RydWN0IGk5MTVfcGVyZl9zdHJlYW0g
KnN0cmVhbSwKIAljYXNlIEk5MTVfUEVSRl9JT0NUTF9ESVNBQkxFOgogCQlpOTE1X3BlcmZfZGlz
YWJsZV9sb2NrZWQoc3RyZWFtKTsKIAkJcmV0dXJuIDA7CisJY2FzZSBJOTE1X1BFUkZfSU9DVExf
Q09ORklHOgorCQlyZXR1cm4gaTkxNV9wZXJmX2NvbmZpZ19sb2NrZWQoc3RyZWFtLCBhcmcpOwog
CX0KIAogCXJldHVybiAtRUlOVkFMOwpAQCAtNDAyMCw3ICs0MDQ0LDE1IEBAIHZvaWQgaTkxNV9w
ZXJmX2Zpbmkoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUpCiAgKi8KIGludCBpOTE1X3Bl
cmZfaW9jdGxfdmVyc2lvbih2b2lkKQogewotCXJldHVybiAxOworCS8qCisJICogMTogSW5pdGlh
bCB2ZXJzaW9uCisJICogICBJOTE1X1BFUkZfSU9DVExfRU5BQkxFCisJICogICBJOTE1X1BFUkZf
SU9DVExfRElTQUJMRQorCSAqCisJICogMjogQWRkZWQgcnVudGltZSBtb2RpZmljYXRpb24gb2Yg
T0EgY29uZmlnLgorCSAqICAgSTkxNV9QRVJGX0lPQ1RMX0NPTkZJRworCSAqLworCXJldHVybiAy
OwogfQogCiAjaWYgSVNfRU5BQkxFRChDT05GSUdfRFJNX0k5MTVfU0VMRlRFU1QpCmRpZmYgLS1n
aXQgYS9pbmNsdWRlL3VhcGkvZHJtL2k5MTVfZHJtLmggYi9pbmNsdWRlL3VhcGkvZHJtL2k5MTVf
ZHJtLmgKaW5kZXggMGM3YjI4MTVmYmYxLi41ZTY2ZjdjNjAyNjEgMTAwNjQ0Ci0tLSBhL2luY2x1
ZGUvdWFwaS9kcm0vaTkxNV9kcm0uaAorKysgYi9pbmNsdWRlL3VhcGkvZHJtL2k5MTVfZHJtLmgK
QEAgLTE5MzIsNiArMTkzMiwxNiBAQCBzdHJ1Y3QgZHJtX2k5MTVfcGVyZl9vcGVuX3BhcmFtIHsK
ICAqLwogI2RlZmluZSBJOTE1X1BFUkZfSU9DVExfRElTQUJMRQlfSU8oJ2knLCAweDEpCiAKKy8q
KgorICogQ2hhbmdlIG1ldHJpY3Nfc2V0IGNhcHR1cmVkIGJ5IGEgc3RyZWFtLgorICoKKyAqIFdp
bGwgbm90IHRha2UgZWZmZWN0IHVudGlsIHRoZSBzdHJlYW0gaXMgcmVzdGFydCwgb3IgdXBvbiB0
aGUgbmV4dAorICogZXhlY2J1ZiB3aGVuIGF0dGFjaGVkIHRvIGEgc3BlY2lmaWMgY29udGV4dC4K
KyAqCisgKiBUaGlzIGlvY3RsIGlzIGF2YWlsYWJsZSBpbiBwZXJmIHJldmlzaW9uIDIuCisgKi8K
KyNkZWZpbmUgSTkxNV9QRVJGX0lPQ1RMX0NPTkZJRwlfSU8oJ2knLCAweDIpCisKIC8qKgogICog
Q29tbW9uIHRvIGFsbCBpOTE1IHBlcmYgcmVjb3JkcwogICovCi0tIAoyLjIzLjAKCl9fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCkludGVsLWdmeCBtYWlsaW5n
IGxpc3QKSW50ZWwtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVk
ZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2ludGVsLWdmeA==

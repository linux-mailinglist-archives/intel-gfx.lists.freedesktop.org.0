Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 869953758D
	for <lists+intel-gfx@lfdr.de>; Thu,  6 Jun 2019 15:44:31 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id E40AB89220;
	Thu,  6 Jun 2019 13:44:29 +0000 (UTC)
X-Original-To: Intel-gfx@lists.freedesktop.org
Delivered-To: Intel-gfx@lists.freedesktop.org
Received: from mga14.intel.com (mga14.intel.com [192.55.52.115])
 by gabe.freedesktop.org (Postfix) with ESMTPS id CA99189220
 for <Intel-gfx@lists.freedesktop.org>; Thu,  6 Jun 2019 13:44:28 +0000 (UTC)
X-Amp-Result: UNKNOWN
X-Amp-Original-Verdict: FILE UNKNOWN
X-Amp-File-Uploaded: False
Received: from orsmga007.jf.intel.com ([10.7.209.58])
 by fmsmga103.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 06 Jun 2019 06:44:28 -0700
X-ExtLoop1: 1
Received: from rdvivi-losangeles.jf.intel.com (HELO intel.com) ([10.7.196.65])
 by orsmga007.jf.intel.com with ESMTP; 06 Jun 2019 06:44:27 -0700
Date: Thu, 6 Jun 2019 06:44:59 -0700
From: Rodrigo Vivi <rodrigo.vivi@intel.com>
To: Tvrtko Ursulin <tvrtko.ursulin@linux.intel.com>
Message-ID: <20190606134459.GD3452@intel.com>
References: <20190606093639.9372-1-tvrtko.ursulin@linux.intel.com>
 <20190606093639.9372-21-tvrtko.ursulin@linux.intel.com>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <20190606093639.9372-21-tvrtko.ursulin@linux.intel.com>
User-Agent: Mutt/1.11.3 (2019-02-01)
Subject: Re: [Intel-gfx] [PATCH 20/21] drm/i915: Make GuC GGTT reservation
 work on ggtt
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: Intel-gfx@lists.freedesktop.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

T24gVGh1LCBKdW4gMDYsIDIwMTkgYXQgMTA6MzY6MzhBTSArMDEwMCwgVHZydGtvIFVyc3VsaW4g
d3JvdGU6Cj4gRnJvbTogVHZydGtvIFVyc3VsaW4gPHR2cnRrby51cnN1bGluQGludGVsLmNvbT4K
PiAKPiBUaGVzZSBmdW5jdGlvbnMgb3BlcmF0ZSBvbiBnZ3R0IHNvIG1ha2UgdGhlbSB0YWtlIHRo
YXQgZGlyZWN0bHkgYXMKPiBwYXJhbWV0ZXIuCgpUaGlzIHBhdGNoIG1ha2VzIG1lIHdvbmRlciB3
aGVyZSB3ZSByZWFsbHkgd2FudCBhbmQgbmVlZCB0byBnby4KCldlIG5lZWQgdG8gbW92ZSBvdXQg
b2YgZGV2X3ByaXYgYW5kIGdsb2JhbCBpOTE1Li4uCmJ1dCBkbyB3ZSBuZWVkIHRvIGdvIGFuZCBy
ZWR1Y2UgdG8gYWxsIG1pbmltYWwgc3R1ZmYgdXNlZCBsaWtlCnVuY29yZSBhbmQgZ2d0dCBvciBj
b3VsZCB3ZSBmaW5kIGEgbWlkZGxlIHNvbHV0aW9uIHdoZXJlCmVhY2ggZ3JvdXAgaGFzIGl0cyBv
d24gImNsYXNzIj8KCmxpa2UgdGhpcyBndWMgc3R1ZmYgd291bGQga2VlcCB0aGUgaW50ZWxfZ3Vj
LCBidXQgdGhlIGk5MTVfZ2VtCnN0dWZmIG9yIGludGVsX2d0IHN0dWZmIHdvdWxkIGhhdmUgdGhl
aXIgb3duIHN0cnVjdHMgd2hlcmUKd2UgaGF2ZSBldmVyeXRoaW5nIG5lZWRlZCBmb3IgdGhhdCBn
cm91cD8KCj4gCj4gQXQgdGhlIHNhbWUgdGltZSBtb3ZlIHRoZSBVU0VTX0dVQyBjb25kaXRpb25h
bCBkb3duIHRvCj4gaW50ZWxfZ3VjX3Jlc2VydmVfZ2d0dF90b3AgZm9yIHN5bW1ldHJ5IHdpdGgK
PiBpbnRlbF9ndWNfcmVzZXJ2ZWRfZ3R0X3NpemUuCj4gCj4gU2lnbmVkLW9mZi1ieTogVHZydGtv
IFVyc3VsaW4gPHR2cnRrby51cnN1bGluQGludGVsLmNvbT4KPiAtLS0KPiAgZHJpdmVycy9ncHUv
ZHJtL2k5MTUvaTkxNV9nZW1fZ3R0LmMgfCAxNCArKysrKystLS0tLS0tLQo+ICBkcml2ZXJzL2dw
dS9kcm0vaTkxNS9pbnRlbF9ndWMuYyAgICB8IDE4ICsrKysrKysrLS0tLS0tLS0tLQo+ICBkcml2
ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9ndWMuaCAgICB8ICA2ICsrKy0tLQo+ICAzIGZpbGVzIGNo
YW5nZWQsIDE3IGluc2VydGlvbnMoKyksIDIxIGRlbGV0aW9ucygtKQo+IAo+IGRpZmYgLS1naXQg
YS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2dlbV9ndHQuYyBiL2RyaXZlcnMvZ3B1L2RybS9p
OTE1L2k5MTVfZ2VtX2d0dC5jCj4gaW5kZXggZDNiMzY3NmQxMGYzLi5kOTY3YTRlOWNlYjAgMTAw
NjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9nZW1fZ3R0LmMKPiArKysgYi9k
cml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2dlbV9ndHQuYwo+IEBAIC0yOTEyLDcgKzI5MTIsNyBA
QCBpbnQgaTkxNV9nZW1faW5pdF9nZ3R0KHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJp
dikKPiAgCSAqIHdoeS4KPiAgCSAqLwo+ICAJZ2d0dC0+cGluX2JpYXMgPSBtYXhfdCh1MzIsIEk5
MTVfR1RUX1BBR0VfU0laRSwKPiAtCQkJICAgICAgIGludGVsX2d1Y19yZXNlcnZlZF9ndHRfc2l6
ZSgmZGV2X3ByaXYtPmd1YykpOwo+ICsJCQkgICAgICAgaW50ZWxfZ3VjX3Jlc2VydmVkX2d0dF9z
aXplKGdndHQpKTsKPiAgCj4gIAlyZXQgPSBpbnRlbF92Z3RfYmFsbG9vbihnZ3R0KTsKPiAgCWlm
IChyZXQpCj4gQEAgLTI5MjYsMTEgKzI5MjYsOSBAQCBpbnQgaTkxNV9nZW1faW5pdF9nZ3R0KHN0
cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdikKPiAgCWlmIChyZXQpCj4gIAkJcmV0dXJu
IHJldDsKPiAgCj4gLQlpZiAoVVNFU19HVUMoZGV2X3ByaXYpKSB7Cj4gLQkJcmV0ID0gaW50ZWxf
Z3VjX3Jlc2VydmVfZ2d0dF90b3AoJmRldl9wcml2LT5ndWMpOwo+IC0JCWlmIChyZXQpCj4gLQkJ
CWdvdG8gZXJyX3Jlc2VydmU7Cj4gLQl9Cj4gKwlyZXQgPSBpbnRlbF9ndWNfcmVzZXJ2ZV9nZ3R0
X3RvcChnZ3R0KTsKPiArCWlmIChyZXQpCj4gKwkJZ290byBlcnJfcmVzZXJ2ZTsKPiAgCj4gIAkv
KiBDbGVhciBhbnkgbm9uLXByZWFsbG9jYXRlZCBibG9ja3MgKi8KPiAgCWRybV9tbV9mb3JfZWFj
aF9ob2xlKGVudHJ5LCAmZ2d0dC0+dm0ubW0sIGhvbGVfc3RhcnQsIGhvbGVfZW5kKSB7Cj4gQEAg
LTI5NTIsNyArMjk1MCw3IEBAIGludCBpOTE1X2dlbV9pbml0X2dndHQoc3RydWN0IGRybV9pOTE1
X3ByaXZhdGUgKmRldl9wcml2KQo+ICAJcmV0dXJuIDA7Cj4gIAo+ICBlcnJfYXBwZ3R0Ogo+IC0J
aW50ZWxfZ3VjX3JlbGVhc2VfZ2d0dF90b3AoJmRldl9wcml2LT5ndWMpOwo+ICsJaW50ZWxfZ3Vj
X3JlbGVhc2VfZ2d0dF90b3AoZ2d0dCk7Cj4gIGVycl9yZXNlcnZlOgo+ICAJZHJtX21tX3JlbW92
ZV9ub2RlKCZnZ3R0LT5lcnJvcl9jYXB0dXJlKTsKPiAgCXJldHVybiByZXQ7Cj4gQEAgLTI5Nzks
NyArMjk3Nyw3IEBAIHZvaWQgaTkxNV9nZ3R0X2NsZWFudXBfaHcoc3RydWN0IGRybV9pOTE1X3By
aXZhdGUgKmRldl9wcml2KQo+ICAJaWYgKGRybV9tbV9ub2RlX2FsbG9jYXRlZCgmZ2d0dC0+ZXJy
b3JfY2FwdHVyZSkpCj4gIAkJZHJtX21tX3JlbW92ZV9ub2RlKCZnZ3R0LT5lcnJvcl9jYXB0dXJl
KTsKPiAgCj4gLQlpbnRlbF9ndWNfcmVsZWFzZV9nZ3R0X3RvcCgmZGV2X3ByaXYtPmd1Yyk7Cj4g
KwlpbnRlbF9ndWNfcmVsZWFzZV9nZ3R0X3RvcChnZ3R0KTsKPiAgCj4gIAlpZiAoZHJtX21tX2lu
aXRpYWxpemVkKCZnZ3R0LT52bS5tbSkpIHsKPiAgCQlpbnRlbF92Z3RfZGViYWxsb29uKGdndHQp
Owo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9ndWMuYyBiL2RyaXZl
cnMvZ3B1L2RybS9pOTE1L2ludGVsX2d1Yy5jCj4gaW5kZXggYjg4YzM0OWM0ZmE2Li42MzMyNDhi
N2RhMjUgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfZ3VjLmMKPiAr
KysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9ndWMuYwo+IEBAIC03MTksNyArNzE5LDcg
QEAgc3RydWN0IGk5MTVfdm1hICppbnRlbF9ndWNfYWxsb2NhdGVfdm1hKHN0cnVjdCBpbnRlbF9n
dWMgKmd1YywgdTMyIHNpemUpCj4gIAo+ICAvKioKPiAgICogaW50ZWxfZ3VjX3Jlc2VydmVkX2d0
dF9zaXplKCkKPiAtICogQGd1YzoJaW50ZWxfZ3VjIHN0cnVjdHVyZQo+ICsgKiBAZ2d0dDoJUG9p
bnRlciB0byBzdHJ1Y3QgaTkxNV9nZ3R0Cj4gICAqCj4gICAqIFRoZSBHdUMgV09QQ00gbWFwcGlu
ZyBzaGFkb3dzIHRoZSBsb3dlciBwYXJ0IG9mIHRoZSBHR1RULCBzbyBpZiB3ZSBhcmUgdXNpbmcK
PiAgICogR3VDIHdlIGNhbid0IGhhdmUgYW55IG9iamVjdHMgcGlubmVkIGluIHRoYXQgcmVnaW9u
LiBUaGlzIGZ1bmN0aW9uIHJldHVybnMKPiBAQCAtNzI5LDE4ICs3MjksMTkgQEAgc3RydWN0IGk5
MTVfdm1hICppbnRlbF9ndWNfYWxsb2NhdGVfdm1hKHN0cnVjdCBpbnRlbF9ndWMgKmd1YywgdTMy
IHNpemUpCj4gICAqIDAgaWYgR3VDIGlzIG5vdCBwcmVzZW50IG9yIG5vdCBpbiB1c2UuCj4gICAq
IE90aGVyd2lzZSwgdGhlIEd1QyBXT1BDTSBzaXplLgo+ICAgKi8KPiAtdTMyIGludGVsX2d1Y19y
ZXNlcnZlZF9ndHRfc2l6ZShzdHJ1Y3QgaW50ZWxfZ3VjICpndWMpCj4gK3UzMiBpbnRlbF9ndWNf
cmVzZXJ2ZWRfZ3R0X3NpemUoc3RydWN0IGk5MTVfZ2d0dCAqZ2d0dCkKPiAgewo+IC0JcmV0dXJu
IGd1Y190b19pOTE1KGd1YyktPndvcGNtLmd1Yy5zaXplOwo+ICsJcmV0dXJuIGdndHQtPnZtLmk5
MTUtPndvcGNtLmd1Yy5zaXplOwo+ICB9Cj4gIAo+IC1pbnQgaW50ZWxfZ3VjX3Jlc2VydmVfZ2d0
dF90b3Aoc3RydWN0IGludGVsX2d1YyAqZ3VjKQo+ICtpbnQgaW50ZWxfZ3VjX3Jlc2VydmVfZ2d0
dF90b3Aoc3RydWN0IGk5MTVfZ2d0dCAqZ2d0dCkKPiAgewo+IC0Jc3RydWN0IGRybV9pOTE1X3By
aXZhdGUgKmk5MTUgPSBndWNfdG9faTkxNShndWMpOwo+IC0Jc3RydWN0IGk5MTVfZ2d0dCAqZ2d0
dCA9ICZpOTE1LT5nZ3R0Owo+ICAJdTY0IHNpemU7Cj4gIAlpbnQgcmV0Owo+ICAKPiArCWlmICgh
VVNFU19HVUMoZ2d0dC0+dm0uaTkxNSkpCj4gKwkJcmV0dXJuIDA7Cj4gKwo+ICAJc2l6ZSA9IGdn
dHQtPnZtLnRvdGFsIC0gR1VDX0dHVFRfVE9QOwo+ICAKPiAgCXJldCA9IGk5MTVfZ2VtX2d0dF9y
ZXNlcnZlKCZnZ3R0LT52bSwgJmdndHQtPnVjX2Z3LCBzaXplLAo+IEBAIC03NTIsMTEgKzc1Myw4
IEBAIGludCBpbnRlbF9ndWNfcmVzZXJ2ZV9nZ3R0X3RvcChzdHJ1Y3QgaW50ZWxfZ3VjICpndWMp
Cj4gIAlyZXR1cm4gcmV0Owo+ICB9Cj4gIAo+IC12b2lkIGludGVsX2d1Y19yZWxlYXNlX2dndHRf
dG9wKHN0cnVjdCBpbnRlbF9ndWMgKmd1YykKPiArdm9pZCBpbnRlbF9ndWNfcmVsZWFzZV9nZ3R0
X3RvcChzdHJ1Y3QgaTkxNV9nZ3R0ICpnZ3R0KQo+ICB7Cj4gLQlzdHJ1Y3QgZHJtX2k5MTVfcHJp
dmF0ZSAqaTkxNSA9IGd1Y190b19pOTE1KGd1Yyk7Cj4gLQlzdHJ1Y3QgaTkxNV9nZ3R0ICpnZ3R0
ID0gJmk5MTUtPmdndHQ7Cj4gLQo+ICAJaWYgKGRybV9tbV9ub2RlX2FsbG9jYXRlZCgmZ2d0dC0+
dWNfZncpKQo+ICAJCWRybV9tbV9yZW1vdmVfbm9kZSgmZ2d0dC0+dWNfZncpOwo+ICB9Cj4gZGlm
ZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX2d1Yy5oIGIvZHJpdmVycy9ncHUv
ZHJtL2k5MTUvaW50ZWxfZ3VjLmgKPiBpbmRleCBjYmZlZDdhNzdjOGIuLjU1ZWExNDE3NmM1ZSAx
MDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9ndWMuaAo+ICsrKyBiL2Ry
aXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX2d1Yy5oCj4gQEAgLTE3Myw5ICsxNzMsOSBAQCBpbnQg
aW50ZWxfZ3VjX2F1dGhfaHVjKHN0cnVjdCBpbnRlbF9ndWMgKmd1YywgdTMyIHJzYV9vZmZzZXQp
Owo+ICBpbnQgaW50ZWxfZ3VjX3N1c3BlbmQoc3RydWN0IGludGVsX2d1YyAqZ3VjKTsKPiAgaW50
IGludGVsX2d1Y19yZXN1bWUoc3RydWN0IGludGVsX2d1YyAqZ3VjKTsKPiAgc3RydWN0IGk5MTVf
dm1hICppbnRlbF9ndWNfYWxsb2NhdGVfdm1hKHN0cnVjdCBpbnRlbF9ndWMgKmd1YywgdTMyIHNp
emUpOwo+IC11MzIgaW50ZWxfZ3VjX3Jlc2VydmVkX2d0dF9zaXplKHN0cnVjdCBpbnRlbF9ndWMg
Kmd1Yyk7Cj4gLWludCBpbnRlbF9ndWNfcmVzZXJ2ZV9nZ3R0X3RvcChzdHJ1Y3QgaW50ZWxfZ3Vj
ICpndWMpOwo+IC12b2lkIGludGVsX2d1Y19yZWxlYXNlX2dndHRfdG9wKHN0cnVjdCBpbnRlbF9n
dWMgKmd1Yyk7Cj4gK3UzMiBpbnRlbF9ndWNfcmVzZXJ2ZWRfZ3R0X3NpemUoc3RydWN0IGk5MTVf
Z2d0dCAqZ2d0dCk7Cj4gK2ludCBpbnRlbF9ndWNfcmVzZXJ2ZV9nZ3R0X3RvcChzdHJ1Y3QgaTkx
NV9nZ3R0ICpnZ3R0KTsKPiArdm9pZCBpbnRlbF9ndWNfcmVsZWFzZV9nZ3R0X3RvcChzdHJ1Y3Qg
aTkxNV9nZ3R0ICpnZ3R0KTsKPiAgCj4gIHN0YXRpYyBpbmxpbmUgYm9vbCBpbnRlbF9ndWNfaXNf
bG9hZGVkKHN0cnVjdCBpbnRlbF9ndWMgKmd1YykKPiAgewo+IC0tIAo+IDIuMjAuMQo+IAo+IF9f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCj4gSW50ZWwtZ2Z4
IG1haWxpbmcgbGlzdAo+IEludGVsLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKPiBodHRwczov
L2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2ludGVsLWdmeApfX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpJbnRlbC1nZnggbWFpbGlu
ZyBsaXN0CkludGVsLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVl
ZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9pbnRlbC1nZng=

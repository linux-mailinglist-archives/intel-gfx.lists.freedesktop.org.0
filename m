Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id BE6A48D37A
	for <lists+intel-gfx@lfdr.de>; Wed, 14 Aug 2019 14:49:47 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 1140489467;
	Wed, 14 Aug 2019 12:49:46 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mail-ed1-x541.google.com (mail-ed1-x541.google.com
 [IPv6:2a00:1450:4864:20::541])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 377E989467
 for <intel-gfx@lists.freedesktop.org>; Wed, 14 Aug 2019 12:49:43 +0000 (UTC)
Received: by mail-ed1-x541.google.com with SMTP id m44so6959924edd.9
 for <intel-gfx@lists.freedesktop.org>; Wed, 14 Aug 2019 05:49:43 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id:in-reply-to
 :references:mime-version:content-transfer-encoding;
 bh=SGH7Pfjt30h6fuSIYXwC5F20qC6t9ar/YlRK4eYSBTQ=;
 b=HZ515FCdWJQ8TrA0uWBq4Mbcuperzhb7oKgiIM5PwgpNZKtjAc5O2smJZJjmI0A4Zv
 BDP2eFXf5NuvgR2F1qdnHft4krU/I02eLqo1CIcp3vr9bejSxdBRnYKoVIYYzjIO6aNL
 X9Rip7B3ilFLawaibpMej+dG3GaQfTFpksHPwNMdeylRRRXOufwE0ptqbgrmbFwa4g/W
 9vEcp9rYNWPNT+OYoKORObEYr47qYyU84+qM0pB7rpxFYqTS+eqDwnRVN23Y9FWWZ8+T
 J672/b5xOzDadke3gPs4sfwquzshhOT394HcHutbbIXZhT+1uHbiQltBZrtVFXsAUOu1
 cwtg==
X-Gm-Message-State: APjAAAUSdrev0Cn+Vrjg2Nv6HiKXtIa/4FEiYfs/b5vnqaIRwDr1wXDv
 Jz+CHeNDsZ7miFZ9lYUBEOeRyK8tX++RDw==
X-Google-Smtp-Source: APXvYqwMdIPTPFGsm3bVD6YEHuIPpJJDD5nCJfmDYfwq5+D1LY6dZ9Luij+vmWQdGW2hv0zW53Psag==
X-Received: by 2002:a17:906:718:: with SMTP id
 y24mr40284563ejb.71.1565786981469; 
 Wed, 14 Aug 2019 05:49:41 -0700 (PDT)
Received: from phenom.ffwll.local ([2a02:168:569e:0:3106:d637:d723:e855])
 by smtp.gmail.com with ESMTPSA id j37sm26170264ede.23.2019.08.14.05.49.40
 (version=TLS1_3 cipher=AEAD-AES256-GCM-SHA384 bits=256/256);
 Wed, 14 Aug 2019 05:49:40 -0700 (PDT)
From: Daniel Vetter <daniel.vetter@ffwll.ch>
To: Intel Graphics Development <intel-gfx@lists.freedesktop.org>
Date: Wed, 14 Aug 2019 14:49:33 +0200
Message-Id: <20190814124933.19056-2-daniel.vetter@ffwll.ch>
X-Mailer: git-send-email 2.22.0
In-Reply-To: <20190814124933.19056-1-daniel.vetter@ffwll.ch>
References: <20190814124933.19056-1-daniel.vetter@ffwll.ch>
MIME-Version: 1.0
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=ffwll.ch; s=google;
 h=from:to:cc:subject:date:message-id:in-reply-to:references
 :mime-version:content-transfer-encoding;
 bh=SGH7Pfjt30h6fuSIYXwC5F20qC6t9ar/YlRK4eYSBTQ=;
 b=QHTXYpngbiFG4AQoa8CoBs+GpPpt0ft4nJmYubMDqaSmLclUAh4yAdUQmFI7zWw14F
 Z5k6aSdajwVpnIy9SVyfknk7CUTPMNnmA2ufzVR/MWS4VwJ6s0WholZfW55de8csGe6B
 AXMuaql1J1lqSGkQrfa+MPLJ8uHqKdapDKs7c=
Subject: [Intel-gfx] [PATCH 2/2] RFC: drm/i915: Switch obj->mm.lock lockdep
 annotations on its head
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: Daniel Vetter <daniel.vetter@intel.com>,
 Daniel Vetter <daniel.vetter@ffwll.ch>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

VGhlIHRyb3VibGUgd2l0aCBoYXZpbmcgYSBwbGFpbiBuZXN0aW5nIGZsYWcgZm9yIGxvY2tzIHdo
aWNoIGRvIG5vdApuYXR1cmFsbHkgbmVzdCAodW5saWtlIGJsb2NrIGRldmljZXMgYW5kIHRoZWly
IHBhcnRpdGlvbnMsIHdoaWNoIGlzCnRoZSBvcmlnaW5hbCBtb3RpdmF0aW9uIGZvciBuZXN0aW5n
IGxldmVscykgaXMgdGhhdCBsb2NrZGVwIHdpbGwKbmV2ZXIgc3BvdCBhIHRydWUgZGVhZGxvY2sg
aWYgeW91IHNjcmV3IHVwLgoKVGhpcyBwYXRjaCBpcyBhbiBhdHRlbXB0IGF0IHRyeWluZyBiZXR0
ZXIsIGJ5IGhpZ2hsaWdodGluZyBhIGJpdCBtb3JlCnRoZSBhY3R1YWwgbmF0dXJlIG9mIHRoZSBu
ZXN0aW5nIHRoYXQncyBnb2luZyBvbi4gRXNzZW50aWFsbHkgd2UgaGF2ZQp0d28ga2luZHMgb2Yg
b2JqZWN0czoKCi0gb2JqZWN0cyB3aXRob3V0IHBhZ2VzIGFsbG9jYXRlZCwgd2hpY2ggY2Fubm90
IGJlIG9uIGFueSBscnUgYW5kIGFyZQogIGhlbmNlIGluYWNjZXNzaWJsZSB0byB0aGUgc2hyaW5r
ZXIuCgotIG9iamVjdHMgd2hpY2ggaGF2ZSBwYWdlcyBhbGxvY2F0ZWQsIHdoaWNoIGFyZSBvbiBh
biBscnUsIGFuZCB3aGljaAogIHRoZSBzaHJpbmtlciBjYW4gZGVjaWRlIHRvIHRocm93IG91dC4K
CkZvciB0aGUgZm9ybWVyIHR5cGUgb2Ygb2JqZWN0LCBtZW1vcnkgYWxsY29hdGlvbnMgd2hpbGUg
aG9sZGluZwpvYmotPm1tLmxvY2sgYXJlIHBlcm1pc3NpYmxlLiBGb3IgdGhlIGxhdHRlciB0aGV5
IGFyZSBub3QuIEFuZApnZXQvcHV0X3BhZ2VzIHRyYW5zaXRpb25zIGJldHdlZW4gdGhlIHR3byB0
eXBlcyBvZiBvYmplY3RzLgoKVGhpcyBpcyBzdGlsbCBub3QgZW50aXJlbHkgZm9vbC1wcm9vZiBz
aW5jZSB0aGUgcnVsZXMgbWlnaHQgY2hhbmNlLgpCdXQgYXMgbG9uZyBhcyB3ZSBydW4gc3VjaCBh
IGNvZGUgZXZlciBhdCBydW50aW1lIGxvY2tkZXAgc2hvdWxkIGJlCmFibGUgdG8gb2JzZXJ2ZSB0
aGUgaW5jb25zaXN0ZW5jeSBhbmQgY29tcGxhaW4gKGxpa2Ugd2l0aCBhbnkgb3RoZXIKbG9ja2Rl
cCBjbGFzcyB0aGF0IHdlJ3ZlIHNwbGl0IHVwIGluIG11bHRpcGxlIGNsYXNzZXMpLiBCdXQgdGhl
cmUgYXJlCmEgZmV3IGNsZWFyIGJlbmVmaXRzOgoKLSBXZSBjYW4gZHJvcCB0aGUgbmVzdGluZyBm
bGFnIHBhcmFtZXRlciBmcm9tCiAgX19pOTE1X2dlbV9vYmplY3RfcHV0X3BhZ2VzLCBiZWNhdXNl
IHRoYXQgZnVuY3Rpb24gYnkgZGVmaW5pdGlvbiBpcwogIG5ldmVyIGdvaW5nIGFsbG9jYXRlIG1l
bW9yeSwgYW5kIGNhbGxpbmcgaXQgb24gYW4gb2JqZWN0IHdoaWNoCiAgZG9lc24ndCBoYXZlIGl0
cyBwYWdlcyBhbGxvY2F0ZWQgd291bGQgYmUgYSBidWcuCgotIFdlIHN0cmljdGx5IGNhdGNoIG1v
cmUgYnVncywgc2luY2UgdGhlcmUncyBub3Qgb25seSBvbmUgcGxhY2UgaW4gdGhlCiAgZW50aXJl
IHRyZWUgd2hpY2ggaXMgYW5ub3RhdGVkIHdpdGggdGhlIHNwZWNpYWwgY2xhc3MuIEFsbCB0aGUK
ICBvdGhlciBwbGFjZXMgdGhhdCBoYWQgZXhwbGljaXQgbG9ja2RlcCBuZXN0aW5nIGFubm90YXRp
b25zIHdlJ3JlIG5vdwogIGdvaW5nIHRvIGxlYXZlIHVwIHRvIGxvY2tkZXAgYWdhaW4uCgotIFNw
ZWNpZmljYWxseSB0aGlzIGNhdGNoZXMgc3R1ZmYgbGlrZSBjYWxsaW5nIGdldF9wYWdlcyBmcm9t
CiAgcHV0X3BhZ2VzICh3aGljaCBpc24ndCByZWFsbHkgYSBnb29kIGlkZWEsIGlmIHdlIGNhbiBj
YWxsIHB1dF9wYWdlcwogIHNvIGNvdWxkIHRoZSBzaHJpbmtlcikuIEkndmUgc2VlbiBwYXRjaGVz
IGRvIGV4YWN0bHkgdGhhdC4KCk9mIGNvdXJzZSBJIGZ1bGx5IGV4cGVjdCBDSSB3aWxsIHNob3cg
bWUgZm9yIHRoZSBmb29sIEkgYW0gd2l0aCB0aGlzCm9uZSBoZXJlIDotKQoKQ2M6IENocmlzIFdp
bHNvbiA8Y2hyaXNAY2hyaXMtd2lsc29uLmNvLnVrPgpDYzogVHZydGtvIFVyc3VsaW4gPHR2cnRr
by51cnN1bGluQGludGVsLmNvbT4KU2lnbmVkLW9mZi1ieTogRGFuaWVsIFZldHRlciA8ZGFuaWVs
LnZldHRlckBpbnRlbC5jb20+Ci0tLQogZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2Vt
X29iamVjdC5jICAgICAgIHwgIDIgKy0KIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dl
bV9vYmplY3QuaCAgICAgICB8IDE2ICsrKysrKysrKysrKystLS0KIGRyaXZlcnMvZ3B1L2RybS9p
OTE1L2dlbS9pOTE1X2dlbV9vYmplY3RfdHlwZXMuaCB8IDEwICsrKysrKysrKy0KIGRyaXZlcnMv
Z3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9wYWdlcy5jICAgICAgICB8ICA3ICsrKy0tLS0KIGRy
aXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9zaHJpbmtlci5jICAgICB8ICAyICstCiBk
cml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fdXNlcnB0ci5jICAgICAgfCAgMiArLQog
ZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL3NlbGZ0ZXN0cy9odWdlX3BhZ2VzLmMgIHwgMTIgKysr
KysrLS0tLS0tCiA3IGZpbGVzIGNoYW5nZWQsIDM0IGluc2VydGlvbnMoKyksIDE3IGRlbGV0aW9u
cygtKQoKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9vYmpl
Y3QuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9vYmplY3QuYwppbmRleCAz
OTI5YzNhNmIyODEuLmExYTgzNTUzOWUwOSAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5
MTUvZ2VtL2k5MTVfZ2VtX29iamVjdC5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9p
OTE1X2dlbV9vYmplY3QuYwpAQCAtMTkxLDcgKzE5MSw3IEBAIHN0YXRpYyB2b2lkIF9faTkxNV9n
ZW1fZnJlZV9vYmplY3RzKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICppOTE1LAogCQlHRU1fQlVH
X09OKCFsaXN0X2VtcHR5KCZvYmotPmx1dF9saXN0KSk7CiAKIAkJYXRvbWljX3NldCgmb2JqLT5t
bS5wYWdlc19waW5fY291bnQsIDApOwotCQlfX2k5MTVfZ2VtX29iamVjdF9wdXRfcGFnZXMob2Jq
LCBJOTE1X01NX05PUk1BTCk7CisJCV9faTkxNV9nZW1fb2JqZWN0X3B1dF9wYWdlcyhvYmopOwog
CQlHRU1fQlVHX09OKGk5MTVfZ2VtX29iamVjdF9oYXNfcGFnZXMob2JqKSk7CiAJCWJpdG1hcF9m
cmVlKG9iai0+Yml0XzE3KTsKIApkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2Vt
L2k5MTVfZ2VtX29iamVjdC5oIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX29i
amVjdC5oCmluZGV4IDM3MTRjZjIzNGQ2NC4uM2JkZTlhNjAxZWNhIDEwMDY0NAotLS0gYS9kcml2
ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fb2JqZWN0LmgKKysrIGIvZHJpdmVycy9ncHUv
ZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX29iamVjdC5oCkBAIC0yODEsMTEgKzI4MSwyMSBAQCBpOTE1
X2dlbV9vYmplY3RfdW5waW5fcGFnZXMoc3RydWN0IGRybV9pOTE1X2dlbV9vYmplY3QgKm9iaikK
IAogZW51bSBpOTE1X21tX3N1YmNsYXNzIHsgLyogbG9ja2RlcCBzdWJjbGFzcyBmb3Igb2JqLT5t
bS5sb2NrL3N0cnVjdF9tdXRleCAqLwogCUk5MTVfTU1fTk9STUFMID0gMCwKLQlJOTE1X01NX1NI
UklOS0VSIC8qIGNhbGxlZCAicmVjdXJzaXZlbHkiIGZyb20gZGlyZWN0LXJlY2xhaW0tZXNxdWUg
Ki8KKwkvKgorCSAqIE9ubHkgdXNlZCBieSBzdHJ1Y3RfbXV0ZXgsIHdoZW4gY2FsbGVkICJyZWN1
cnNpdmVseSIgZnJvbQorCSAqIGRpcmVjdC1yZWNsYWltLWVzcXVlLiBTYWZlIGJlY2F1c2UgdGhl
cmUgaXMgb25seSBldmVyeSBvbmUKKwkgKiBzdHJ1Y3RfbXV0ZXggaW4gdGhlIGVudGlyZSBzeXN0
ZW0uICovCisJSTkxNV9NTV9TSFJJTktFUiwKKwkvKgorCSAqIFVzZWQgZm9yIG9iai0+bW0ubG9j
ayB3aGVuIGFsbG9jYXRpbmcgcGFnZXMuIFNhZmUgYmVjYXVzZSB0aGUgb2JqZWN0CisJICogaXNu
J3QgeWV0IG9uIGFueSBMUlUsIGFuZCB0aGVyZWZvcmUgdGhlIHNocmlua2VyIGNhbid0IGRlYWRs
b2NrIG9uCisJICogaXQuIEFzIHNvb24gYXMgdGhlIG9iamVjdCBoYXMgcGFnZXMsIG9iai0+bW0u
bG9jayBuZXN0cyB3aXRoaW4KKwkgKiBmc19yZWNsYWltLgorCSAqLworCUk5MTVfTU1fR0VUX1BB
R0VTCiB9OwogCi1pbnQgX19pOTE1X2dlbV9vYmplY3RfcHV0X3BhZ2VzKHN0cnVjdCBkcm1faTkx
NV9nZW1fb2JqZWN0ICpvYmosCi0JCQkJZW51bSBpOTE1X21tX3N1YmNsYXNzIHN1YmNsYXNzKTsK
K2ludCBfX2k5MTVfZ2VtX29iamVjdF9wdXRfcGFnZXMoc3RydWN0IGRybV9pOTE1X2dlbV9vYmpl
Y3QgKm9iaik7CiB2b2lkIGk5MTVfZ2VtX29iamVjdF90cnVuY2F0ZShzdHJ1Y3QgZHJtX2k5MTVf
Z2VtX29iamVjdCAqb2JqKTsKIHZvaWQgaTkxNV9nZW1fb2JqZWN0X3dyaXRlYmFjayhzdHJ1Y3Qg
ZHJtX2k5MTVfZ2VtX29iamVjdCAqb2JqKTsKIApkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJt
L2k5MTUvZ2VtL2k5MTVfZ2VtX29iamVjdF90eXBlcy5oIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUv
Z2VtL2k5MTVfZ2VtX29iamVjdF90eXBlcy5oCmluZGV4IGQ0NzRjNmFjNDEwMC4uMWVhM2MzYzk2
YTVhIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fb2JqZWN0
X3R5cGVzLmgKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX29iamVjdF90
eXBlcy5oCkBAIC0xNTcsNyArMTU3LDE1IEBAIHN0cnVjdCBkcm1faTkxNV9nZW1fb2JqZWN0IHsK
IAl1bnNpZ25lZCBpbnQgcGluX2dsb2JhbDsKIAogCXN0cnVjdCB7Ci0JCXN0cnVjdCBtdXRleCBs
b2NrOyAvKiBwcm90ZWN0cyB0aGUgcGFnZXMgYW5kIHRoZWlyIHVzZSAqLworCQkvKgorCQkgKiBQ
cm90ZWN0cyB0aGUgcGFnZXMgYW5kIHRoZWlyIHVzZS4KKwkJICoKKwkJICogSU1QT1JUQU5UOiBJ
dCBpcyBub3QgYWxsb3dlZCB0byBhbGxvY2F0ZSBtZW1vcnkgd2hpbGUgaG9sZGluZworCQkgKiB0
aGlzIGxvY2ssIGJlY2F1c2UgdGhlIHNocmlua2VyIG1pZ2h0IHJlY3Vyc2Ugb24gaXQsIGV4Y2Vw
dAorCQkgKiB3aGVuIHRoZXJlIGFyZSBubyBwYWdlcyBhbGxvY2F0ZWQgeWV0IGFuZCB0aGUgb2Jq
ZWN0IGlzbid0CisJCSAqIHZpc2libGUgb24gYW55IExSVS4KKwkJICovCisJCXN0cnVjdCBtdXRl
eCBsb2NrOwogCQlhdG9taWNfdCBwYWdlc19waW5fY291bnQ7CiAKIAkJc3RydWN0IHNnX3RhYmxl
ICpwYWdlczsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9w
YWdlcy5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX3BhZ2VzLmMKaW5kZXgg
MThmMGNlMDEzNWMxLi4zYjdlYzZlNmVhOGIgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9p
OTE1L2dlbS9pOTE1X2dlbV9wYWdlcy5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9p
OTE1X2dlbV9wYWdlcy5jCkBAIC0xMDEsNyArMTAxLDcgQEAgaW50IF9faTkxNV9nZW1fb2JqZWN0
X2dldF9wYWdlcyhzdHJ1Y3QgZHJtX2k5MTVfZ2VtX29iamVjdCAqb2JqKQogewogCWludCBlcnI7
CiAKLQllcnIgPSBtdXRleF9sb2NrX2ludGVycnVwdGlibGUoJm9iai0+bW0ubG9jayk7CisJZXJy
ID0gbXV0ZXhfbG9ja19pbnRlcnJ1cHRpYmxlX25lc3RlZCgmb2JqLT5tbS5sb2NrLCBJOTE1X01N
X0dFVF9QQUdFUyk7CiAJaWYgKGVycikKIAkJcmV0dXJuIGVycjsKIApAQCAtMTc5LDggKzE3OSw3
IEBAIF9faTkxNV9nZW1fb2JqZWN0X3Vuc2V0X3BhZ2VzKHN0cnVjdCBkcm1faTkxNV9nZW1fb2Jq
ZWN0ICpvYmopCiAJcmV0dXJuIHBhZ2VzOwogfQogCi1pbnQgX19pOTE1X2dlbV9vYmplY3RfcHV0
X3BhZ2VzKHN0cnVjdCBkcm1faTkxNV9nZW1fb2JqZWN0ICpvYmosCi0JCQkJZW51bSBpOTE1X21t
X3N1YmNsYXNzIHN1YmNsYXNzKQoraW50IF9faTkxNV9nZW1fb2JqZWN0X3B1dF9wYWdlcyhzdHJ1
Y3QgZHJtX2k5MTVfZ2VtX29iamVjdCAqb2JqKQogewogCXN0cnVjdCBzZ190YWJsZSAqcGFnZXM7
CiAJaW50IGVycjsKQEAgLTE5MSw3ICsxOTAsNyBAQCBpbnQgX19pOTE1X2dlbV9vYmplY3RfcHV0
X3BhZ2VzKHN0cnVjdCBkcm1faTkxNV9nZW1fb2JqZWN0ICpvYmosCiAJR0VNX0JVR19PTihhdG9t
aWNfcmVhZCgmb2JqLT5iaW5kX2NvdW50KSk7CiAKIAkvKiBNYXkgYmUgY2FsbGVkIGJ5IHNocmlu
a2VyIGZyb20gd2l0aGluIGdldF9wYWdlcygpIChvbiBhbm90aGVyIGJvKSAqLwotCW11dGV4X2xv
Y2tfbmVzdGVkKCZvYmotPm1tLmxvY2ssIHN1YmNsYXNzKTsKKwltdXRleF9sb2NrKCZvYmotPm1t
LmxvY2spOwogCWlmICh1bmxpa2VseShhdG9taWNfcmVhZCgmb2JqLT5tbS5wYWdlc19waW5fY291
bnQpKSkgewogCQllcnIgPSAtRUJVU1k7CiAJCWdvdG8gdW5sb2NrOwpkaWZmIC0tZ2l0IGEvZHJp
dmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX3Nocmlua2VyLmMgYi9kcml2ZXJzL2dwdS9k
cm0vaTkxNS9nZW0vaTkxNV9nZW1fc2hyaW5rZXIuYwppbmRleCBlZGQyMWQxNGU2NGYuLjc3M2Y4
OTI3OTI5ZCAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX3No
cmlua2VyLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX3Nocmlua2Vy
LmMKQEAgLTk4LDcgKzk4LDcgQEAgc3RhdGljIGJvb2wgdW5zYWZlX2Ryb3BfcGFnZXMoc3RydWN0
IGRybV9pOTE1X2dlbV9vYmplY3QgKm9iaiwKIAkJZmxhZ3MgPSBJOTE1X0dFTV9PQkpFQ1RfVU5C
SU5EX0FDVElWRTsKIAogCWlmIChpOTE1X2dlbV9vYmplY3RfdW5iaW5kKG9iaiwgZmxhZ3MpID09
IDApCi0JCV9faTkxNV9nZW1fb2JqZWN0X3B1dF9wYWdlcyhvYmosIEk5MTVfTU1fU0hSSU5LRVIp
OworCQlfX2k5MTVfZ2VtX29iamVjdF9wdXRfcGFnZXMob2JqKTsKIAogCXJldHVybiAhaTkxNV9n
ZW1fb2JqZWN0X2hhc19wYWdlcyhvYmopOwogfQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJt
L2k5MTUvZ2VtL2k5MTVfZ2VtX3VzZXJwdHIuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9p
OTE1X2dlbV91c2VycHRyLmMKaW5kZXggNzBkYzUwNmE1NDI2Li5mNzQ3NWYyYzg0ZDEgMTAwNjQ0
Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV91c2VycHRyLmMKKysrIGIv
ZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX3VzZXJwdHIuYwpAQCAtMTU4LDcgKzE1
OCw3IEBAIHVzZXJwdHJfbW5faW52YWxpZGF0ZV9yYW5nZV9zdGFydChzdHJ1Y3QgbW11X25vdGlm
aWVyICpfbW4sCiAJCXJldCA9IGk5MTVfZ2VtX29iamVjdF91bmJpbmQob2JqLAogCQkJCQkgICAg
IEk5MTVfR0VNX09CSkVDVF9VTkJJTkRfQUNUSVZFKTsKIAkJaWYgKHJldCA9PSAwKQotCQkJcmV0
ID0gX19pOTE1X2dlbV9vYmplY3RfcHV0X3BhZ2VzKG9iaiwgSTkxNV9NTV9TSFJJTktFUik7CisJ
CQlyZXQgPSBfX2k5MTVfZ2VtX29iamVjdF9wdXRfcGFnZXMob2JqKTsKIAkJaTkxNV9nZW1fb2Jq
ZWN0X3B1dChvYmopOwogCQlpZiAocmV0KQogCQkJZ290byB1bmxvY2s7CmRpZmYgLS1naXQgYS9k
cml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vc2VsZnRlc3RzL2h1Z2VfcGFnZXMuYyBiL2RyaXZlcnMv
Z3B1L2RybS9pOTE1L2dlbS9zZWxmdGVzdHMvaHVnZV9wYWdlcy5jCmluZGV4IDZjYmQ0YTY2OGM5
YS4uZGY1ODYwMzVjMzNlIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vc2Vs
ZnRlc3RzL2h1Z2VfcGFnZXMuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vc2VsZnRl
c3RzL2h1Z2VfcGFnZXMuYwpAQCAtNTYyLDcgKzU2Miw3IEBAIHN0YXRpYyBpbnQgaWd0X21vY2tf
cHBndHRfbWlzYWxpZ25lZF9kbWEodm9pZCAqYXJnKQogCQlpOTE1X3ZtYV9jbG9zZSh2bWEpOwog
CiAJCWk5MTVfZ2VtX29iamVjdF91bnBpbl9wYWdlcyhvYmopOwotCQlfX2k5MTVfZ2VtX29iamVj
dF9wdXRfcGFnZXMob2JqLCBJOTE1X01NX05PUk1BTCk7CisJCV9faTkxNV9nZW1fb2JqZWN0X3B1
dF9wYWdlcyhvYmopOwogCQlpOTE1X2dlbV9vYmplY3RfcHV0KG9iaik7CiAJfQogCkBAIC01OTAs
NyArNTkwLDcgQEAgc3RhdGljIHZvaWQgY2xvc2Vfb2JqZWN0X2xpc3Qoc3RydWN0IGxpc3RfaGVh
ZCAqb2JqZWN0cywKIAogCQlsaXN0X2RlbCgmb2JqLT5zdF9saW5rKTsKIAkJaTkxNV9nZW1fb2Jq
ZWN0X3VucGluX3BhZ2VzKG9iaik7Ci0JCV9faTkxNV9nZW1fb2JqZWN0X3B1dF9wYWdlcyhvYmos
IEk5MTVfTU1fTk9STUFMKTsKKwkJX19pOTE1X2dlbV9vYmplY3RfcHV0X3BhZ2VzKG9iaik7CiAJ
CWk5MTVfZ2VtX29iamVjdF9wdXQob2JqKTsKIAl9CiB9CkBAIC04NjAsNyArODYwLDcgQEAgc3Rh
dGljIGludCBpZ3RfbW9ja19wcGd0dF82NEsodm9pZCAqYXJnKQogCQkJaTkxNV92bWFfY2xvc2Uo
dm1hKTsKIAogCQkJaTkxNV9nZW1fb2JqZWN0X3VucGluX3BhZ2VzKG9iaik7Ci0JCQlfX2k5MTVf
Z2VtX29iamVjdF9wdXRfcGFnZXMob2JqLCBJOTE1X01NX05PUk1BTCk7CisJCQlfX2k5MTVfZ2Vt
X29iamVjdF9wdXRfcGFnZXMob2JqKTsKIAkJCWk5MTVfZ2VtX29iamVjdF9wdXQob2JqKTsKIAkJ
fQogCX0KQEAgLTEyNjgsNyArMTI2OCw3IEBAIHN0YXRpYyBpbnQgaWd0X3BwZ3R0X2V4aGF1c3Rf
aHVnZSh2b2lkICphcmcpCiAJCQl9CiAKIAkJCWk5MTVfZ2VtX29iamVjdF91bnBpbl9wYWdlcyhv
YmopOwotCQkJX19pOTE1X2dlbV9vYmplY3RfcHV0X3BhZ2VzKG9iaiwgSTkxNV9NTV9OT1JNQUwp
OworCQkJX19pOTE1X2dlbV9vYmplY3RfcHV0X3BhZ2VzKG9iaik7CiAJCQlpOTE1X2dlbV9vYmpl
Y3RfcHV0KG9iaik7CiAJCX0KIAl9CkBAIC0xMzMwLDcgKzEzMzAsNyBAQCBzdGF0aWMgaW50IGln
dF9wcGd0dF9pbnRlcm5hbF9odWdlKHZvaWQgKmFyZykKIAkJfQogCiAJCWk5MTVfZ2VtX29iamVj
dF91bnBpbl9wYWdlcyhvYmopOwotCQlfX2k5MTVfZ2VtX29iamVjdF9wdXRfcGFnZXMob2JqLCBJ
OTE1X01NX05PUk1BTCk7CisJCV9faTkxNV9nZW1fb2JqZWN0X3B1dF9wYWdlcyhvYmopOwogCQlp
OTE1X2dlbV9vYmplY3RfcHV0KG9iaik7CiAJfQogCkBAIC0xMzk5LDcgKzEzOTksNyBAQCBzdGF0
aWMgaW50IGlndF9wcGd0dF9nZW1mc19odWdlKHZvaWQgKmFyZykKIAkJfQogCiAJCWk5MTVfZ2Vt
X29iamVjdF91bnBpbl9wYWdlcyhvYmopOwotCQlfX2k5MTVfZ2VtX29iamVjdF9wdXRfcGFnZXMo
b2JqLCBJOTE1X01NX05PUk1BTCk7CisJCV9faTkxNV9nZW1fb2JqZWN0X3B1dF9wYWdlcyhvYmop
OwogCQlpOTE1X2dlbV9vYmplY3RfcHV0KG9iaik7CiAJfQogCi0tIAoyLjIyLjAKCl9fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCkludGVsLWdmeCBtYWlsaW5n
IGxpc3QKSW50ZWwtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVk
ZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2ludGVsLWdmeA==

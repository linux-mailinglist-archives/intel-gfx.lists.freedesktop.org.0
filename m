Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 8A66990AA9
	for <lists+intel-gfx@lfdr.de>; Sat, 17 Aug 2019 00:02:57 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id E89036E9AF;
	Fri, 16 Aug 2019 22:02:55 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mail-oi1-x244.google.com (mail-oi1-x244.google.com
 [IPv6:2607:f8b0:4864:20::244])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 058426E9AF
 for <intel-gfx@lists.freedesktop.org>; Fri, 16 Aug 2019 22:02:54 +0000 (UTC)
Received: by mail-oi1-x244.google.com with SMTP id k22so5850248oiw.11
 for <intel-gfx@lists.freedesktop.org>; Fri, 16 Aug 2019 15:02:53 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:mime-version:references:in-reply-to:from:date
 :message-id:subject:to:cc;
 bh=ozp0iUmykyLTRlhJrVMvQ2f+3GCwfuQSGqzA3MsoOQM=;
 b=HV1aSFMNeex14aTL0GvNnxN9/3B/7bzDuTmsYE2XeHs4F7g83BjLn43bS0noKG0Y12
 u/htqpiXqXjT+3wSGX1cyJuR2YR3T017Y86IvFtwQ3vayGzmFPIZpJhcFPPZYPriyeaR
 tffp9bBkVcNwv88gFW2EwbU6wZuDIsKgnwyTRQAG+GAJNABYLdyLJhCE/XTFSY/8WOim
 k2786Xot37Z7b0/XqW6/NGxarda8QR7wBtT4nz0puRizewAil4Cx++qE+e1N541VkzLW
 suulmRKE4ftYIUUW7qw9g8sFUdfiVohTFqCBugEq+wbtdKrINLju0B87x2PRN0D23Lgt
 DKBA==
X-Gm-Message-State: APjAAAWaBGRgjymiJufBBKSbDG2BCpyoK0IF1Sq4mJSBUxR8LJuoxqsA
 MEqFLwcVFykGgDd8bVJJQ9mfrpqZSjCn2XmfoDpQ0Hc/544=
X-Google-Smtp-Source: APXvYqy4iDB4N07Mr6ZY7vx1F1rDUkeNhdwtqpDY6RnuF9Hbnqm7HKuqDgpJnhVFW+eHikm2s8ov5lJ5O0IXhkg5Ooo=
X-Received: by 2002:aca:1a0b:: with SMTP id a11mr6539521oia.128.1565992973067; 
 Fri, 16 Aug 2019 15:02:53 -0700 (PDT)
MIME-Version: 1.0
References: <20190816182336.27305-1-daniel.vetter@ffwll.ch>
 <156598115091.11610.18124598988004198693@skylake-alporthouse-com>
In-Reply-To: <156598115091.11610.18124598988004198693@skylake-alporthouse-com>
From: Daniel Vetter <daniel.vetter@ffwll.ch>
Date: Sat, 17 Aug 2019 00:02:41 +0200
Message-ID: <CAKMK7uEat+J0uCC==2pESvznEhCp+fMPrUw97GiEoiV7kM8Yig@mail.gmail.com>
To: Chris Wilson <chris@chris-wilson.co.uk>
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=ffwll.ch; s=google;
 h=mime-version:references:in-reply-to:from:date:message-id:subject:to
 :cc;
 bh=ozp0iUmykyLTRlhJrVMvQ2f+3GCwfuQSGqzA3MsoOQM=;
 b=QphJk7xUWjS4mcPeJi7XV3phlZaOrW/mkOpE10jsbmg9Gl4PrQFEiRnqDQ0XDp/1s/
 diu4UEWRikeu1Fgp5EO6K89f3dpO6H8Nw91YzLWuqy8Lb1Apw82It/P0gDfhQEgSKdcg
 6T3RpW4ysjk3roWHBsZoo8K3MauwQmaI6O+iw=
Subject: Re: [Intel-gfx] [PATCH] drm/i915: Switch obj->mm.lock lockdep
 annotations on its head
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: Daniel Vetter <daniel.vetter@intel.com>,
 Intel Graphics Development <intel-gfx@lists.freedesktop.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

T24gRnJpLCBBdWcgMTYsIDIwMTkgYXQgODo0NiBQTSBDaHJpcyBXaWxzb24gPGNocmlzQGNocmlz
LXdpbHNvbi5jby51az4gd3JvdGU6Cj4KPiBRdW90aW5nIERhbmllbCBWZXR0ZXIgKDIwMTktMDgt
MTYgMTk6MjM6MzYpCj4gPiBUaGUgdHJvdWJsZSB3aXRoIGhhdmluZyBhIHBsYWluIG5lc3Rpbmcg
ZmxhZyBmb3IgbG9ja3Mgd2hpY2ggZG8gbm90Cj4gPiBuYXR1cmFsbHkgbmVzdCAodW5saWtlIGJs
b2NrIGRldmljZXMgYW5kIHRoZWlyIHBhcnRpdGlvbnMsIHdoaWNoIGlzCj4gPiB0aGUgb3JpZ2lu
YWwgbW90aXZhdGlvbiBmb3IgbmVzdGluZyBsZXZlbHMpIGlzIHRoYXQgbG9ja2RlcCB3aWxsCj4g
PiBuZXZlciBzcG90IGEgdHJ1ZSBkZWFkbG9jayBpZiB5b3Ugc2NyZXcgdXAuCj4gPgo+ID4gVGhp
cyBwYXRjaCBpcyBhbiBhdHRlbXB0IGF0IHRyeWluZyBiZXR0ZXIsIGJ5IGhpZ2hsaWdodGluZyBh
IGJpdCBtb3JlCj4gPiB0aGUgYWN0dWFsIG5hdHVyZSBvZiB0aGUgbmVzdGluZyB0aGF0J3MgZ29p
bmcgb24uIEVzc2VudGlhbGx5IHdlIGhhdmUKPiA+IHR3byBraW5kcyBvZiBvYmplY3RzOgo+ID4K
PiA+IC0gb2JqZWN0cyB3aXRob3V0IHBhZ2VzIGFsbG9jYXRlZCwgd2hpY2ggY2Fubm90IGJlIG9u
IGFueSBscnUgYW5kIGFyZQo+ID4gICBoZW5jZSBpbmFjY2Vzc2libGUgdG8gdGhlIHNocmlua2Vy
Lgo+ID4KPiA+IC0gb2JqZWN0cyB3aGljaCBoYXZlIHBhZ2VzIGFsbG9jYXRlZCwgd2hpY2ggYXJl
IG9uIGFuIGxydSwgYW5kIHdoaWNoCj4gPiAgIHRoZSBzaHJpbmtlciBjYW4gZGVjaWRlIHRvIHRo
cm93IG91dC4KPiA+Cj4gPiBGb3IgdGhlIGZvcm1lciB0eXBlIG9mIG9iamVjdCwgbWVtb3J5IGFs
bGNvYXRpb25zIHdoaWxlIGhvbGRpbmcKPiA+IG9iai0+bW0ubG9jayBhcmUgcGVybWlzc2libGUu
IEZvciB0aGUgbGF0dGVyIHRoZXkgYXJlIG5vdC4gQW5kCj4gPiBnZXQvcHV0X3BhZ2VzIHRyYW5z
aXRpb25zIGJldHdlZW4gdGhlIHR3byB0eXBlcyBvZiBvYmplY3RzLgo+ID4KPiA+IFRoaXMgaXMg
c3RpbGwgbm90IGVudGlyZWx5IGZvb2wtcHJvb2Ygc2luY2UgdGhlIHJ1bGVzIG1pZ2h0IGNoYW5j
ZS4KPiA+IEJ1dCBhcyBsb25nIGFzIHdlIHJ1biBzdWNoIGEgY29kZSBldmVyIGF0IHJ1bnRpbWUg
bG9ja2RlcCBzaG91bGQgYmUKPiA+IGFibGUgdG8gb2JzZXJ2ZSB0aGUgaW5jb25zaXN0ZW5jeSBh
bmQgY29tcGxhaW4gKGxpa2Ugd2l0aCBhbnkgb3RoZXIKPiA+IGxvY2tkZXAgY2xhc3MgdGhhdCB3
ZSd2ZSBzcGxpdCB1cCBpbiBtdWx0aXBsZSBjbGFzc2VzKS4gQnV0IHRoZXJlIGFyZQo+ID4gYSBm
ZXcgY2xlYXIgYmVuZWZpdHM6Cj4gPgo+ID4gLSBXZSBjYW4gZHJvcCB0aGUgbmVzdGluZyBmbGFn
IHBhcmFtZXRlciBmcm9tCj4gPiAgIF9faTkxNV9nZW1fb2JqZWN0X3B1dF9wYWdlcywgYmVjYXVz
ZSB0aGF0IGZ1bmN0aW9uIGJ5IGRlZmluaXRpb24gaXMKPiA+ICAgbmV2ZXIgZ29pbmcgYWxsb2Nh
dGUgbWVtb3J5LCBhbmQgY2FsbGluZyBpdCBvbiBhbiBvYmplY3Qgd2hpY2gKPiA+ICAgZG9lc24n
dCBoYXZlIGl0cyBwYWdlcyBhbGxvY2F0ZWQgd291bGQgYmUgYSBidWcuCj4gPgo+ID4gLSBXZSBz
dHJpY3RseSBjYXRjaCBtb3JlIGJ1Z3MsIHNpbmNlIHRoZXJlJ3Mgbm90IG9ubHkgb25lIHBsYWNl
IGluIHRoZQo+ID4gICBlbnRpcmUgdHJlZSB3aGljaCBpcyBhbm5vdGF0ZWQgd2l0aCB0aGUgc3Bl
Y2lhbCBjbGFzcy4gQWxsIHRoZQo+ID4gICBvdGhlciBwbGFjZXMgdGhhdCBoYWQgZXhwbGljaXQg
bG9ja2RlcCBuZXN0aW5nIGFubm90YXRpb25zIHdlJ3JlIG5vdwo+ID4gICBnb2luZyB0byBsZWF2
ZSB1cCB0byBsb2NrZGVwIGFnYWluLgo+ID4KPiA+IC0gU3BlY2lmaWNhbGx5IHRoaXMgY2F0Y2hl
cyBzdHVmZiBsaWtlIGNhbGxpbmcgZ2V0X3BhZ2VzIGZyb20KPiA+ICAgcHV0X3BhZ2VzICh3aGlj
aCBpc24ndCByZWFsbHkgYSBnb29kIGlkZWEsIGlmIHdlIGNhbiBjYWxsIHB1dF9wYWdlcwo+ID4g
ICBzbyBjb3VsZCB0aGUgc2hyaW5rZXIpLiBJJ3ZlIHNlZW4gcGF0Y2hlcyBkbyBleGFjdGx5IHRo
YXQuCj4gPgo+ID4gT2YgY291cnNlIEkgZnVsbHkgZXhwZWN0IENJIHdpbGwgc2hvdyBtZSBmb3Ig
dGhlIGZvb2wgSSBhbSB3aXRoIHRoaXMKPiA+IG9uZSBoZXJlIDotKQo+ID4KPiA+IHYyOiBUaGVy
ZSBjYW4gb25seSBiZSBvbmUgKGxvY2tkZXAgb25seSBoYXMgYSBjYWNoZSBmb3IgdGhlIGZpcnN0
Cj4gPiBzdWJjbGFzcywgbm90IGZvciBkZWVwZXIgb25lcywgYW5kIHdlIGRvbid0IHdhbnQgdG8g
bWFrZSB0aGVzZSBsb2Nrcwo+ID4gZXZlbiBzbG93ZXIpLiBTdGlsbCBzZXBhcmF0ZSBlbnVtcyBm
b3IgYmV0dGVyIGRvY3VtZW50YXRpb24uCj4gPgo+ID4gUmVhbCBmaXg6IGRvbiBmb3JnZXQgYWJv
dXQgcGh5cyBvYmpzIGFuZCBwaW5fbWFwKCksIGFuZCBmaXggdGhlCj4gPiBzaHJpbmtlciB0byBo
YXZlIHRoZSByaWdodCBhbm5vdGF0aW9ucyAuLi4gc2lsbHkgbWUuCj4gPgo+ID4gdjM6IEZvcmdv
dCB1c2VydHB0ciB0b28gLi4uCj4gPgo+ID4gdjQ6IEltcHJvdmUgY29tbWVudCBmb3IgcGFnZXNf
cGluX2NvdW50LCBkcm9wIHRoZSBJTVBPUlRBTlQgY29tbWVudAo+ID4gYW5kIGluc3RlYWQgcHJp
bWUgbG9ja2RlcCAoQ2hyaXMpLgo+ID4KPiA+IENjOiBDaHJpcyBXaWxzb24gPGNocmlzQGNocmlz
LXdpbHNvbi5jby51az4KPiA+IENjOiAiVGFuZywgQ1EiIDxjcS50YW5nQGludGVsLmNvbT4KPiA+
IENjOiBUdnJ0a28gVXJzdWxpbiA8dHZydGtvLnVyc3VsaW5AaW50ZWwuY29tPgo+ID4gQ2M6IEpv
b25hcyBMYWh0aW5lbiA8am9vbmFzLmxhaHRpbmVuQGxpbnV4LmludGVsLmNvbT4KPiA+IFNpZ25l
ZC1vZmYtYnk6IERhbmllbCBWZXR0ZXIgPGRhbmllbC52ZXR0ZXJAaW50ZWwuY29tPgo+ID4gLS0t
Cj4gPiAgZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX29iamVjdC5jICAgICAgIHwg
MTMgKysrKysrKysrKysrLQo+ID4gIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9v
YmplY3QuaCAgICAgICB8IDE2ICsrKysrKysrKysrKystLS0KPiA+ICBkcml2ZXJzL2dwdS9kcm0v
aTkxNS9nZW0vaTkxNV9nZW1fb2JqZWN0X3R5cGVzLmggfCAgNiArKysrKy0KPiA+ICBkcml2ZXJz
L2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fcGFnZXMuYyAgICAgICAgfCAgOSArKysrLS0tLS0K
PiA+ICBkcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fcGh5cy5jICAgICAgICAgfCAg
MiArLQo+ID4gIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9zaHJpbmtlci5jICAg
ICB8ICA1ICsrLS0tCj4gPiAgZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX3VzZXJw
dHIuYyAgICAgIHwgIDQgKystLQo+ID4gIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9zZWxmdGVz
dHMvaHVnZV9wYWdlcy5jICB8IDEyICsrKysrKy0tLS0tLQo+ID4gIDggZmlsZXMgY2hhbmdlZCwg
NDUgaW5zZXJ0aW9ucygrKSwgMjIgZGVsZXRpb25zKC0pCj4KPiBzdGF0aWMgaW5saW5lIGludCBf
X211c3RfY2hlY2sKPiBpOTE1X2dlbV9vYmplY3RfcGluX3BhZ2VzKHN0cnVjdCBkcm1faTkxNV9n
ZW1fb2JqZWN0ICpvYmopCj4gewo+ICAgICAgICAgbWlnaHRfbG9jaygmb2JqLT5tbS5sb2NrKTsK
Pgo+ICAgICAgICAgaWYgKGF0b21pY19pbmNfbm90X3plcm8oJm9iai0+bW0ucGFnZXNfcGluX2Nv
dW50KSkKPiAgICAgICAgICAgICAgICAgcmV0dXJuIDA7Cj4KPiAgICAgICAgIHJldHVybiBfX2k5
MTVfZ2VtX29iamVjdF9nZXRfcGFnZXMob2JqKTsKPiB9Cj4KPiBpcyBub3cgdGVzdGluZyB0aGUg
d3JvbmcgbG9jayBjbGFzcy4KClVuZm9ydHVuYXRlbHkgdGhlcmUncyBubyBtaWdodF9sb2NrX25l
c3RlZC4KCkJ1dCB0aGVuLCB0aGlzIGlzIHRoZSBiZXN0IGtpbmQgb2Ygd3JvbmcsIGJlY2F1c2Ug
b2YgdGhlIG5lc3Rpbmcgd2UgaGF2ZToKCm9iai0+bW0ubG9jayNJOTE1X01NX0dFVF9QQUdFUyAt
PiBmc19yZWNsYWltIC0+IG9iai0+bW0ubG9jawoKU28gdGhlIG1pZ2h0X2xvY2sgd2UgaGF2ZSBh
Y3R1YWxseSBjaGVja3MgZm9yIHdheSBtb3JlIHRoYW4ganVzdCB0aGUKIm1vcmUgY29ycmVjdCIg
YW5ub3RhdGlvbi4gSSB0aGluayBJJ2xsIGp1c3QgYWRkIHRoZSBhYm92ZSBhcyBhCmNvbW1lbnQg
YW5kIGxlYXZlIHRoZSBjb2RlIGFzLWlzLiBUaG91Z2h0cz8KCj4gPiBkaWZmIC0tZ2l0IGEvZHJp
dmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX29iamVjdC5jIGIvZHJpdmVycy9ncHUvZHJt
L2k5MTUvZ2VtL2k5MTVfZ2VtX29iamVjdC5jCj4gPiBpbmRleCAzOTI5YzNhNmIyODEuLmQwMTI1
OGIxNzVmNSAxMDA2NDQKPiA+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dl
bV9vYmplY3QuYwo+ID4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX29i
amVjdC5jCj4gPiBAQCAtMjIsNiArMjIsOCBAQAo+ID4gICAqCj4gPiAgICovCj4gPgo+ID4gKyNp
bmNsdWRlIDxsaW51eC9zY2hlZC9tbS5oPgo+ID4gKwo+ID4gICNpbmNsdWRlICJkaXNwbGF5L2lu
dGVsX2Zyb250YnVmZmVyLmgiCj4gPiAgI2luY2x1ZGUgImd0L2ludGVsX2d0LmgiCj4gPiAgI2lu
Y2x1ZGUgImk5MTVfZHJ2LmgiCj4gPiBAQCAtNjEsNiArNjMsMTUgQEAgdm9pZCBpOTE1X2dlbV9v
YmplY3RfaW5pdChzdHJ1Y3QgZHJtX2k5MTVfZ2VtX29iamVjdCAqb2JqLAo+ID4gIHsKPiA+ICAg
ICAgICAgbXV0ZXhfaW5pdCgmb2JqLT5tbS5sb2NrKTsKPiA+Cj4gPiArICAgICAgIGlmIChJU19F
TkFCTEVEKENPTkZJR19MT0NLREVQKSkgewo+ID4gKyAgICAgICAgICAgICAgIG11dGV4X2xvY2tf
bmVzdGVkKCZvYmotPm1tLmxvY2ssIEk5MTVfTU1fR0VUX1BBR0VTKTsKPiA+ICsgICAgICAgICAg
ICAgICBmc19yZWNsYWltX2FjcXVpcmUoR0ZQX0tFUk5FTCk7Cj4gPiArICAgICAgICAgICAgICAg
bWlnaHRfbG9jaygmb2JqLT5tbS5sb2NrKTsKPiA+ICsgICAgICAgICAgICAgICBmc19yZWNsYWlt
X3JlbGVhc2UoR0ZQX0tFUk5FTCk7Cj4gPiArICAgICAgICAgICAgICAgbXV0ZXhfdW5sb2NrKCZv
YmotPm1tLmxvY2spOwo+ID4gKyAgICAgICB9Cj4KPiBUaGlzIGlzIHZlcnkgcG93ZXJmdWwgYW5k
IHNlbGxzIGEgbG90IG9mIGNodXJuLgoKWWVhaCB0aGF0IHdhcyB0aGUgaWRlYSBoZXJlLiBQbHVz
IEkgaG9wZSBpdCdzIHRoZSBlYXNpZXIgdG8gdW5kZXJzdGFuZAp0aGUgYW5ub3RhdGlvbnMgYW5k
IGxvY2sgbmVzdGluZyBydWxlcyBmb3Igb2JqLT5tbS5sb2NrIHRoaXMgd2F5IC0gSQpmcmVha2Vk
IG91dCBxdWl0ZSBhIGJpdCBhYm91dCB0aGUgY3VycmVudCBvbmUgdW50aWwgeW91IGNvbnZpbmNl
ZCBtZQood2hpY2ggdG9vayBpdCdzIHN3ZWV0IHRpbWUpIHRoYXQgaXQncyBhbGwgZmluZS4gTWF5
YmUgZXhwbGljaXRseQphbm5vdGF0aW5nIGdldF9wYWdlcyBhbmQgaXQncyBzcGVjaWFsIHJ1bGUg
d2lsbCBoZWxwIG90aGVycyAoSSBjYW4ndApwbGF5IGd1aW5lYSBwaWcgdHdpY2UgdW5mb3J0dW5h
dGVseSwgc28gd2UgY2FuJ3QgdGVzdCB0aGF0IHRoZW9yeSkuCi1EYW5pZWwKLS0gCkRhbmllbCBW
ZXR0ZXIKU29mdHdhcmUgRW5naW5lZXIsIEludGVsIENvcnBvcmF0aW9uCis0MSAoMCkgNzkgMzY1
IDU3IDQ4IC0gaHR0cDovL2Jsb2cuZmZ3bGwuY2gKX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX18KSW50ZWwtZ2Z4IG1haWxpbmcgbGlzdApJbnRlbC1nZnhAbGlz
dHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4v
bGlzdGluZm8vaW50ZWwtZ2Z4

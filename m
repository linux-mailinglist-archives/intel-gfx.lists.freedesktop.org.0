Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id B5D8259DE3
	for <lists+intel-gfx@lfdr.de>; Fri, 28 Jun 2019 16:37:03 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id C041D6E939;
	Fri, 28 Jun 2019 14:37:00 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga02.intel.com (mga02.intel.com [134.134.136.20])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 9D72D6E938
 for <intel-gfx@lists.freedesktop.org>; Fri, 28 Jun 2019 14:36:51 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga003.jf.intel.com ([10.7.209.27])
 by orsmga101.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 28 Jun 2019 07:36:51 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.63,428,1557212400"; d="scan'208";a="165079366"
Received: from ideak-desk.fi.intel.com ([10.237.68.142])
 by orsmga003.jf.intel.com with ESMTP; 28 Jun 2019 07:36:49 -0700
From: Imre Deak <imre.deak@intel.com>
To: intel-gfx@lists.freedesktop.org
Date: Fri, 28 Jun 2019 17:36:16 +0300
Message-Id: <20190628143635.22066-5-imre.deak@intel.com>
X-Mailer: git-send-email 2.17.1
In-Reply-To: <20190628143635.22066-1-imre.deak@intel.com>
References: <20190628143635.22066-1-imre.deak@intel.com>
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH v3 04/23] drm/i915: Sanitize the terminology
 used for TypeC port modes
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: Paulo Zanoni <paulo.r.zanoni@intel.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

VGhlIFR5cGVDIHBvcnQgbW9kZSBjYW4gc3dpdGNoIGR5bmFtaWNhbGx5LCB0byByZWZsZWN0IHRo
YXQgYmV0dGVyIGNhbGwKdGhlIHBvcnQncyBtb2RlIGFzICdtb2RlJyByYXRoZXIgdGhhbiAndHlw
ZScuCgpXaGlsZSBhdCBpdDoKLSBzL1RDX1BPUlRfVEJUL1RDX1BPUlRfVEJUX0FMVC8gYW5kIHMv
VENfUE9SVF9UWVBFQy9UQ19QT1JUX0RQX0FMVC8uCiAgJ1RZUEVDJyBpcyBhbWJpZ3VvdXMsIFRC
VF9BTFQgYW5kIERQX0FMVCBiZXR0ZXIgbWF0Y2ggdGhlIHJlYWxpdHkuCgotIFJlbW92ZSB0aGUg
J3Vua25vd24nIFR5cGVDIHBvcnQgbW9kZS4gVGhlIG1vZGUgaXMgYWx3YXlzIGtub3duLCBpdCdz
CiAgdGhlIFRCVC1hbHQvc2FmZSBtb2RlIGFmdGVyIEhXIHJlc2V0IGFuZCBhZnRlciBkaXNjb25u
ZWN0aW5nIHRoZSBQSFkuCiAgU2ltcGxpZnkgdGhlIHRjX3BvcnQvdGNfdHlwZSBjaGVja3MgYWNj
b3JkaW5nbHkuCgotIERvbid0IFdBUk4gaWYgdGhlIHBvcnQgbW9kZSBjaGFuZ2VzLCB0aGF0IGNh
biBoYXBwZW4gbm9ybWFsbHkuCgpObyBmdW5jdGlvbmFsIGNoYW5nZXMuCgpDYzogQW5pbWVzaCBN
YW5uYSA8YW5pbWVzaC5tYW5uYUBpbnRlbC5jb20+CkNjOiBQYXVsbyBaYW5vbmkgPHBhdWxvLnIu
emFub25pQGludGVsLmNvbT4KQ2M6IEFudXNoYSBTcml2YXRzYSA8YW51c2hhLnNyaXZhdHNhQGlu
dGVsLmNvbT4KQ2M6IEpvc8OpIFJvYmVydG8gZGUgU291emEgPGpvc2Uuc291emFAaW50ZWwuY29t
PgpDYzogUm9kcmlnbyBWaXZpIDxyb2RyaWdvLnZpdmlAaW50ZWwuY29tPgpTaWduZWQtb2ZmLWJ5
OiBJbXJlIERlYWsgPGltcmUuZGVha0BpbnRlbC5jb20+ClJldmlld2VkLWJ5OiBMdWNhcyBEZSBN
YXJjaGkgPGx1Y2FzLmRlbWFyY2hpQGludGVsLmNvbT4KLS0tCiBkcml2ZXJzL2dwdS9kcm0vaTkx
NS9kaXNwbGF5L2ludGVsX2RkaS5jICAgICAgfCAxMSArKy0tLQogZHJpdmVycy9ncHUvZHJtL2k5
MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5LmggIHwgIDcgKystCiBkcml2ZXJzL2dwdS9kcm0vaTkx
NS9kaXNwbGF5L2ludGVsX2RwLmMgICAgICAgfCAgMiArLQogZHJpdmVycy9ncHUvZHJtL2k5MTUv
ZGlzcGxheS9pbnRlbF9kcGxsX21nci5jIHwgIDIgKy0KIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2Rp
c3BsYXkvaW50ZWxfdGMuYyAgICAgICB8IDQ4ICsrKysrKysrLS0tLS0tLS0tLS0KIGRyaXZlcnMv
Z3B1L2RybS9pOTE1L2ludGVsX2Rydi5oICAgICAgICAgICAgICB8ICAyICstCiA2IGZpbGVzIGNo
YW5nZWQsIDMxIGluc2VydGlvbnMoKyksIDQxIGRlbGV0aW9ucygtKQoKZGlmZiAtLWdpdCBhL2Ry
aXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGRpLmMgYi9kcml2ZXJzL2dwdS9kcm0v
aTkxNS9kaXNwbGF5L2ludGVsX2RkaS5jCmluZGV4IGQwNmYxMjEyODFlZi4uNDQyY2QzOTk3MTA5
IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2RkaS5jCisr
KyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGRpLmMKQEAgLTI5OTksMTQg
KzI5OTksMTQgQEAgc3RhdGljIHZvaWQgaWNsX3Byb2dyYW1fbWdfZHBfbW9kZShzdHJ1Y3QgaW50
ZWxfZGlnaXRhbF9wb3J0ICppbnRlbF9kaWdfcG9ydCkKIAllbnVtIHRjX3BvcnQgdGNfcG9ydCA9
IGludGVsX3BvcnRfdG9fdGMoZGV2X3ByaXYsIHBvcnQpOwogCXUzMiBsbjAsIGxuMSwgbGFuZV9p
bmZvOwogCi0JaWYgKHRjX3BvcnQgPT0gUE9SVF9UQ19OT05FIHx8IGludGVsX2RpZ19wb3J0LT50
Y190eXBlID09IFRDX1BPUlRfVEJUKQorCWlmIChpbnRlbF9kaWdfcG9ydC0+dGNfbW9kZSA9PSBU
Q19QT1JUX1RCVF9BTFQpCiAJCXJldHVybjsKIAogCWxuMCA9IEk5MTVfUkVBRChNR19EUF9NT0RF
KDAsIHBvcnQpKTsKIAlsbjEgPSBJOTE1X1JFQUQoTUdfRFBfTU9ERSgxLCBwb3J0KSk7CiAKLQlz
d2l0Y2ggKGludGVsX2RpZ19wb3J0LT50Y190eXBlKSB7Ci0JY2FzZSBUQ19QT1JUX1RZUEVDOgor
CXN3aXRjaCAoaW50ZWxfZGlnX3BvcnQtPnRjX21vZGUpIHsKKwljYXNlIFRDX1BPUlRfRFBfQUxU
OgogCQlsbjAgJj0gfihNR19EUF9NT0RFX0NGR19EUF9YMV9NT0RFIHwgTUdfRFBfTU9ERV9DRkdf
RFBfWDJfTU9ERSk7CiAJCWxuMSAmPSB+KE1HX0RQX01PREVfQ0ZHX0RQX1gxX01PREUgfCBNR19E
UF9NT0RFX0NGR19EUF9YMl9NT0RFKTsKIApAQCAtMzA0OSw3ICszMDQ5LDcgQEAgc3RhdGljIHZv
aWQgaWNsX3Byb2dyYW1fbWdfZHBfbW9kZShzdHJ1Y3QgaW50ZWxfZGlnaXRhbF9wb3J0ICppbnRl
bF9kaWdfcG9ydCkKIAkJYnJlYWs7CiAKIAlkZWZhdWx0OgotCQlNSVNTSU5HX0NBU0UoaW50ZWxf
ZGlnX3BvcnQtPnRjX3R5cGUpOworCQlNSVNTSU5HX0NBU0UoaW50ZWxfZGlnX3BvcnQtPnRjX21v
ZGUpOwogCQlyZXR1cm47CiAJfQogCkBAIC0zNjQzLDggKzM2NDMsNyBAQCBpbnRlbF9kZGlfcHJl
X3BsbF9lbmFibGUoc3RydWN0IGludGVsX2VuY29kZXIgKmVuY29kZXIsCiAJICogUHJvZ3JhbSB0
aGUgbGFuZSBjb3VudCBmb3Igc3RhdGljL2R5bmFtaWMgY29ubmVjdGlvbnMgb24gVHlwZS1DIHBv
cnRzLgogCSAqIFNraXAgdGhpcyBzdGVwIGZvciBUQlQuCiAJICovCi0JaWYgKGRpZ19wb3J0LT50
Y190eXBlID09IFRDX1BPUlRfVU5LTk9XTiB8fAotCSAgICBkaWdfcG9ydC0+dGNfdHlwZSA9PSBU
Q19QT1JUX1RCVCkKKwlpZiAoZGlnX3BvcnQtPnRjX21vZGUgPT0gVENfUE9SVF9UQlRfQUxUKQog
CQlyZXR1cm47CiAKIAlpbnRlbF9kZGlfc2V0X2ZpYV9sYW5lX2NvdW50KGVuY29kZXIsIGNydGNf
c3RhdGUsIHBvcnQpOwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9p
bnRlbF9kaXNwbGF5LmggYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3Bs
YXkuaAppbmRleCBlZTZiODE5NGE0NTkuLmQyOTY1NTZlZDgyZSAxMDA2NDQKLS0tIGEvZHJpdmVy
cy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5LmgKKysrIGIvZHJpdmVycy9ncHUv
ZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5LmgKQEAgLTE4OSwxMCArMTg5LDkgQEAgZW51
bSB0Y19wb3J0IHsKIAlJOTE1X01BWF9UQ19QT1JUUwogfTsKIAotZW51bSB0Y19wb3J0X3R5cGUg
ewotCVRDX1BPUlRfVU5LTk9XTiA9IDAsCi0JVENfUE9SVF9UWVBFQywKLQlUQ19QT1JUX1RCVCwK
K2VudW0gdGNfcG9ydF9tb2RlIHsKKwlUQ19QT1JUX1RCVF9BTFQsCisJVENfUE9SVF9EUF9BTFQs
CiAJVENfUE9SVF9MRUdBQ1ksCiB9OwogCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkx
NS9kaXNwbGF5L2ludGVsX2RwLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVs
X2RwLmMKaW5kZXggMzQ4YzcwYjc1NDAzLi4wYzZhZmVjNzhmOTMgMTAwNjQ0Ci0tLSBhL2RyaXZl
cnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZHAuYworKysgYi9kcml2ZXJzL2dwdS9kcm0v
aTkxNS9kaXNwbGF5L2ludGVsX2RwLmMKQEAgLTExNzYsNyArMTE3Niw3IEBAIHN0YXRpYyB1MzIg
c2tsX2dldF9hdXhfc2VuZF9jdGwoc3RydWN0IGludGVsX2RwICppbnRlbF9kcCwKIAkgICAgICBE
UF9BVVhfQ0hfQ1RMX0ZXX1NZTkNfUFVMU0VfU0tMKDMyKSB8CiAJICAgICAgRFBfQVVYX0NIX0NU
TF9TWU5DX1BVTFNFX1NLTCgzMik7CiAKLQlpZiAoaW50ZWxfZGlnX3BvcnQtPnRjX3R5cGUgPT0g
VENfUE9SVF9UQlQpCisJaWYgKGludGVsX2RpZ19wb3J0LT50Y19tb2RlID09IFRDX1BPUlRfVEJU
X0FMVCkKIAkJcmV0IHw9IERQX0FVWF9DSF9DVExfVEJUX0lPOwogCiAJcmV0dXJuIHJldDsKZGlm
ZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZHBsbF9tZ3IuYyBi
L2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZHBsbF9tZ3IuYwppbmRleCAyZDRl
N2I5YTdiOWQuLmJmNjYyNjFjOGJmMCAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUv
ZGlzcGxheS9pbnRlbF9kcGxsX21nci5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3Bs
YXkvaW50ZWxfZHBsbF9tZ3IuYwpAQCAtMjgxNyw3ICsyODE3LDcgQEAgaWNsX2dldF9kcGxsKHN0
cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpjcnRjX3N0YXRlLAogCQkJaW50ZWxfZGlnX3BvcnQgPSBl
bmNfdG9fZGlnX3BvcnQoJmVuY29kZXItPmJhc2UpOwogCQl9CiAKLQkJaWYgKGludGVsX2RpZ19w
b3J0LT50Y190eXBlID09IFRDX1BPUlRfVEJUKSB7CisJCWlmIChpbnRlbF9kaWdfcG9ydC0+dGNf
bW9kZSA9PSBUQ19QT1JUX1RCVF9BTFQpIHsKIAkJCW1pbiA9IERQTExfSURfSUNMX1RCVFBMTDsK
IAkJCW1heCA9IG1pbjsKIAkJCXJldCA9IGljbF9jYWxjX2RwbGxfc3RhdGUoY3J0Y19zdGF0ZSwg
ZW5jb2Rlcik7CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVs
X3RjLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX3RjLmMKaW5kZXggNGZh
OWVhNjk1ZDUxLi41OWFhZDNlNDlmOTMgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1
L2Rpc3BsYXkvaW50ZWxfdGMuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2lu
dGVsX3RjLmMKQEAgLTcsMTkgKzcsMTggQEAKICNpbmNsdWRlICJpOTE1X2Rydi5oIgogI2luY2x1
ZGUgImludGVsX3RjLmgiCiAKLXN0YXRpYyBjb25zdCBjaGFyICp0Y190eXBlX25hbWUoZW51bSB0
Y19wb3J0X3R5cGUgdHlwZSkKK3N0YXRpYyBjb25zdCBjaGFyICp0Y19wb3J0X21vZGVfbmFtZShl
bnVtIHRjX3BvcnRfbW9kZSBtb2RlKQogewogCXN0YXRpYyBjb25zdCBjaGFyICogY29uc3QgbmFt
ZXNbXSA9IHsKLQkJW1RDX1BPUlRfVU5LTk9XTl0gPSAidW5rbm93biIsCisJCVtUQ19QT1JUX1RC
VF9BTFRdID0gInRidC1hbHQiLAorCQlbVENfUE9SVF9EUF9BTFRdID0gImRwLWFsdCIsCiAJCVtU
Q19QT1JUX0xFR0FDWV0gPSAibGVnYWN5IiwKLQkJW1RDX1BPUlRfVFlQRUNdID0gInR5cGVjIiwK
LQkJW1RDX1BPUlRfVEJUXSA9ICJ0YnQiLAogCX07CiAKLQlpZiAoV0FSTl9PTih0eXBlID49IEFS
UkFZX1NJWkUobmFtZXMpKSkKLQkJdHlwZSA9IFRDX1BPUlRfVU5LTk9XTjsKKwlpZiAoV0FSTl9P
Tihtb2RlID49IEFSUkFZX1NJWkUobmFtZXMpKSkKKwkJbW9kZSA9IFRDX1BPUlRfVEJUX0FMVDsK
IAotCXJldHVybiBuYW1lc1t0eXBlXTsKKwlyZXR1cm4gbmFtZXNbbW9kZV07CiB9CiAKIGludCBp
bnRlbF90Y19wb3J0X2ZpYV9tYXhfbGFuZV9jb3VudChzdHJ1Y3QgaW50ZWxfZGlnaXRhbF9wb3J0
ICpkaWdfcG9ydCkKQEAgLTI5LDcgKzI4LDcgQEAgaW50IGludGVsX3RjX3BvcnRfZmlhX21heF9s
YW5lX2NvdW50KHN0cnVjdCBpbnRlbF9kaWdpdGFsX3BvcnQgKmRpZ19wb3J0KQogCWludGVsX3dh
a2VyZWZfdCB3YWtlcmVmOwogCXUzMiBsYW5lX2luZm87CiAKLQlpZiAodGNfcG9ydCA9PSBQT1JU
X1RDX05PTkUgfHwgZGlnX3BvcnQtPnRjX3R5cGUgIT0gVENfUE9SVF9UWVBFQykKKwlpZiAoZGln
X3BvcnQtPnRjX21vZGUgIT0gVENfUE9SVF9EUF9BTFQpCiAJCXJldHVybiA0OwogCiAJbGFuZV9p
bmZvID0gMDsKQEAgLTgxLDggKzgwLDggQEAgc3RhdGljIGJvb2wgaWNsX3RjX3BoeV9jb25uZWN0
KHN0cnVjdCBpbnRlbF9kaWdpdGFsX3BvcnQgKmRpZ19wb3J0KQogCWVudW0gdGNfcG9ydCB0Y19w
b3J0ID0gaW50ZWxfcG9ydF90b190YyhkZXZfcHJpdiwgZGlnX3BvcnQtPmJhc2UucG9ydCk7CiAJ
dTMyIHZhbDsKIAotCWlmIChkaWdfcG9ydC0+dGNfdHlwZSAhPSBUQ19QT1JUX0xFR0FDWSAmJgot
CSAgICBkaWdfcG9ydC0+dGNfdHlwZSAhPSBUQ19QT1JUX1RZUEVDKQorCWlmIChkaWdfcG9ydC0+
dGNfbW9kZSAhPSBUQ19QT1JUX0xFR0FDWSAmJgorCSAgICBkaWdfcG9ydC0+dGNfbW9kZSAhPSBU
Q19QT1JUX0RQX0FMVCkKIAkJcmV0dXJuIHRydWU7CiAKIAl2YWwgPSBJOTE1X1JFQUQoUE9SVF9U
WF9ERkxFWERQUE1TKTsKQEAgLTEwNiw3ICsxMDUsNyBAQCBzdGF0aWMgYm9vbCBpY2xfdGNfcGh5
X2Nvbm5lY3Qoc3RydWN0IGludGVsX2RpZ2l0YWxfcG9ydCAqZGlnX3BvcnQpCiAJICogTm93IHdl
IGhhdmUgdG8gcmUtY2hlY2sgdGhlIGxpdmUgc3RhdGUsIGluIGNhc2UgdGhlIHBvcnQgcmVjZW50
bHkKIAkgKiBiZWNhbWUgZGlzY29ubmVjdGVkLiBOb3QgbmVjZXNzYXJ5IGZvciBsZWdhY3kgbW9k
ZS4KIAkgKi8KLQlpZiAoZGlnX3BvcnQtPnRjX3R5cGUgPT0gVENfUE9SVF9UWVBFQyAmJgorCWlm
IChkaWdfcG9ydC0+dGNfbW9kZSA9PSBUQ19QT1JUX0RQX0FMVCAmJgogCSAgICAhKEk5MTVfUkVB
RChQT1JUX1RYX0RGTEVYRFBTUCkgJiBUQ19MSVZFX1NUQVRFX1RDKHRjX3BvcnQpKSkgewogCQlE
Uk1fREVCVUdfS01TKCJUQyBQSFkgJWQgc3VkZGVuIGRpc2Nvbm5lY3QuXG4iLCB0Y19wb3J0KTsK
IAkJaWNsX3RjX3BoeV9kaXNjb25uZWN0KGRpZ19wb3J0KTsKQEAgLTEyNSwxNSArMTI0LDEyIEBA
IHZvaWQgaWNsX3RjX3BoeV9kaXNjb25uZWN0KHN0cnVjdCBpbnRlbF9kaWdpdGFsX3BvcnQgKmRp
Z19wb3J0KQogCXN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiA9IHRvX2k5MTUoZGln
X3BvcnQtPmJhc2UuYmFzZS5kZXYpOwogCWVudW0gdGNfcG9ydCB0Y19wb3J0ID0gaW50ZWxfcG9y
dF90b190YyhkZXZfcHJpdiwgZGlnX3BvcnQtPmJhc2UucG9ydCk7CiAKLQlpZiAoZGlnX3BvcnQt
PnRjX3R5cGUgPT0gVENfUE9SVF9VTktOT1dOKQotCQlyZXR1cm47Ci0KIAkvKgogCSAqIFRCVCBk
aXNjb25uZWN0aW9uIGZsb3cgaXMgcmVhZCB0aGUgbGl2ZSBzdGF0dXMsIHdoYXQgd2FzIGRvbmUg
aW4KIAkgKiBjYWxsZXIuCiAJICovCi0JaWYgKGRpZ19wb3J0LT50Y190eXBlID09IFRDX1BPUlRf
VFlQRUMgfHwKLQkgICAgZGlnX3BvcnQtPnRjX3R5cGUgPT0gVENfUE9SVF9MRUdBQ1kpIHsKKwlp
ZiAoZGlnX3BvcnQtPnRjX21vZGUgPT0gVENfUE9SVF9EUF9BTFQgfHwKKwkgICAgZGlnX3BvcnQt
PnRjX21vZGUgPT0gVENfUE9SVF9MRUdBQ1kpIHsKIAkJdTMyIHZhbDsKIAogCQl2YWwgPSBJOTE1
X1JFQUQoUE9SVF9UWF9ERkxFWERQQ1NTUyk7CkBAIC0xNDMsOSArMTM5LDkgQEAgdm9pZCBpY2xf
dGNfcGh5X2Rpc2Nvbm5lY3Qoc3RydWN0IGludGVsX2RpZ2l0YWxfcG9ydCAqZGlnX3BvcnQpCiAK
IAlEUk1fREVCVUdfS01TKCJQb3J0ICVjIFRDIHR5cGUgJXMgZGlzY29ubmVjdGVkXG4iLAogCQkg
ICAgICBwb3J0X25hbWUoZGlnX3BvcnQtPmJhc2UucG9ydCksCi0JCSAgICAgIHRjX3R5cGVfbmFt
ZShkaWdfcG9ydC0+dGNfdHlwZSkpOworCQkgICAgICB0Y19wb3J0X21vZGVfbmFtZShkaWdfcG9y
dC0+dGNfbW9kZSkpOwogCi0JZGlnX3BvcnQtPnRjX3R5cGUgPSBUQ19QT1JUX1VOS05PV047CisJ
ZGlnX3BvcnQtPnRjX21vZGUgPSBUQ19QT1JUX1RCVF9BTFQ7CiB9CiAKIHN0YXRpYyB2b2lkIGlj
bF91cGRhdGVfdGNfcG9ydF90eXBlKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiwK
QEAgLTE1MywyNiArMTQ5LDIyIEBAIHN0YXRpYyB2b2lkIGljbF91cGRhdGVfdGNfcG9ydF90eXBl
KHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiwKIAkJCQkgICAgYm9vbCBpc19sZWdh
Y3ksIGJvb2wgaXNfdHlwZWMsIGJvb2wgaXNfdGJ0KQogewogCWVudW0gcG9ydCBwb3J0ID0gaW50
ZWxfZGlnX3BvcnQtPmJhc2UucG9ydDsKLQllbnVtIHRjX3BvcnRfdHlwZSBvbGRfdHlwZSA9IGlu
dGVsX2RpZ19wb3J0LT50Y190eXBlOworCWVudW0gdGNfcG9ydF9tb2RlIG9sZF9tb2RlID0gaW50
ZWxfZGlnX3BvcnQtPnRjX21vZGU7CiAKIAlXQVJOX09OKGlzX2xlZ2FjeSArIGlzX3R5cGVjICsg
aXNfdGJ0ICE9IDEpOwogCiAJaWYgKGlzX2xlZ2FjeSkKLQkJaW50ZWxfZGlnX3BvcnQtPnRjX3R5
cGUgPSBUQ19QT1JUX0xFR0FDWTsKKwkJaW50ZWxfZGlnX3BvcnQtPnRjX21vZGUgPSBUQ19QT1JU
X0xFR0FDWTsKIAllbHNlIGlmIChpc190eXBlYykKLQkJaW50ZWxfZGlnX3BvcnQtPnRjX3R5cGUg
PSBUQ19QT1JUX1RZUEVDOworCQlpbnRlbF9kaWdfcG9ydC0+dGNfbW9kZSA9IFRDX1BPUlRfRFBf
QUxUOwogCWVsc2UgaWYgKGlzX3RidCkKLQkJaW50ZWxfZGlnX3BvcnQtPnRjX3R5cGUgPSBUQ19Q
T1JUX1RCVDsKKwkJaW50ZWxfZGlnX3BvcnQtPnRjX21vZGUgPSBUQ19QT1JUX1RCVF9BTFQ7CiAJ
ZWxzZQogCQlyZXR1cm47CiAKLQkvKiBUeXBlcyBhcmUgbm90IHN1cHBvc2VkIHRvIGJlIGNoYW5n
ZWQgYXQgcnVudGltZS4gKi8KLQlXQVJOX09OKG9sZF90eXBlICE9IFRDX1BPUlRfVU5LTk9XTiAm
JgotCQlvbGRfdHlwZSAhPSBpbnRlbF9kaWdfcG9ydC0+dGNfdHlwZSk7Ci0KLQlpZiAob2xkX3R5
cGUgIT0gaW50ZWxfZGlnX3BvcnQtPnRjX3R5cGUpCisJaWYgKG9sZF9tb2RlICE9IGludGVsX2Rp
Z19wb3J0LT50Y19tb2RlKQogCQlEUk1fREVCVUdfS01TKCJQb3J0ICVjIGhhcyBUQyB0eXBlICVz
XG4iLCBwb3J0X25hbWUocG9ydCksCi0JCQkgICAgICB0Y190eXBlX25hbWUoaW50ZWxfZGlnX3Bv
cnQtPnRjX3R5cGUpKTsKKwkJCSAgICAgIHRjX3BvcnRfbW9kZV9uYW1lKGludGVsX2RpZ19wb3J0
LT50Y19tb2RlKSk7CiB9CiAKIC8qCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9p
bnRlbF9kcnYuaCBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX2Rydi5oCmluZGV4IDFkNThm
N2VjNWQ4NC4uNzE1OWY3MDlhN2YyIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9p
bnRlbF9kcnYuaAorKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9kcnYuaApAQCAtMTIy
NSw3ICsxMjI1LDcgQEAgc3RydWN0IGludGVsX2RpZ2l0YWxfcG9ydCB7CiAJZW51bSBhdXhfY2gg
YXV4X2NoOwogCWVudW0gaW50ZWxfZGlzcGxheV9wb3dlcl9kb21haW4gZGRpX2lvX3Bvd2VyX2Rv
bWFpbjsKIAlib29sIHRjX2xlZ2FjeV9wb3J0OjE7Ci0JZW51bSB0Y19wb3J0X3R5cGUgdGNfdHlw
ZTsKKwllbnVtIHRjX3BvcnRfbW9kZSB0Y19tb2RlOwogCiAJdm9pZCAoKndyaXRlX2luZm9mcmFt
ZSkoc3RydWN0IGludGVsX2VuY29kZXIgKmVuY29kZXIsCiAJCQkJY29uc3Qgc3RydWN0IGludGVs
X2NydGNfc3RhdGUgKmNydGNfc3RhdGUsCi0tIAoyLjE3LjEKCl9fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fCkludGVsLWdmeCBtYWlsaW5nIGxpc3QKSW50ZWwt
Z2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9t
YWlsbWFuL2xpc3RpbmZvL2ludGVsLWdmeA==

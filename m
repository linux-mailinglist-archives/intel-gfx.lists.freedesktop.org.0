Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 84E3B10C14D
	for <lists+intel-gfx@lfdr.de>; Thu, 28 Nov 2019 02:14:42 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 397EB6E25D;
	Thu, 28 Nov 2019 01:14:40 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga12.intel.com (mga12.intel.com [192.55.52.136])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 7F92B6E25D
 for <intel-gfx@lists.freedesktop.org>; Thu, 28 Nov 2019 01:14:39 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from fmsmga007.fm.intel.com ([10.253.24.52])
 by fmsmga106.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 27 Nov 2019 17:14:38 -0800
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.69,251,1571727600"; d="scan'208";a="207053666"
Received: from fmsmsx105.amr.corp.intel.com ([10.18.124.203])
 by fmsmga007.fm.intel.com with ESMTP; 27 Nov 2019 17:14:38 -0800
Received: from FMSMSX109.amr.corp.intel.com (10.18.116.9) by
 FMSMSX105.amr.corp.intel.com (10.18.124.203) with Microsoft SMTP Server (TLS)
 id 14.3.439.0; Wed, 27 Nov 2019 17:14:38 -0800
Received: from fmsmsx117.amr.corp.intel.com ([169.254.3.27]) by
 FMSMSX109.amr.corp.intel.com ([169.254.15.65]) with mapi id 14.03.0439.000;
 Wed, 27 Nov 2019 17:14:38 -0800
From: "Souza, Jose" <jose.souza@intel.com>
To: "ville.syrjala@linux.intel.com" <ville.syrjala@linux.intel.com>
Thread-Topic: [PATCH 3/7] drm/i915/tgl: Select master trasconder for MST stream
Thread-Index: AQHVoZin5FYdqMcxWECRBMTa77MVw6eebLqAgAAG4QCAAYm2gIAAWACA
Date: Thu, 28 Nov 2019 01:14:37 +0000
Message-ID: <72b17babbf755de61f3f6a1170c6fcd7fa646786.camel@intel.com>
References: <20191123005459.155383-1-jose.souza@intel.com>
 <20191123005459.155383-3-jose.souza@intel.com>
 <20191126200553.GG1208@intel.com>
 <a123c1a4b41c23a3dcc1caf293a85c15de27dacb.camel@intel.com>
 <20191127195939.GO1208@intel.com>
In-Reply-To: <20191127195939.GO1208@intel.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-originating-ip: [10.98.40.66]
Content-ID: <F3CC808EC4C7D0479C389F32474BA43E@intel.com>
MIME-Version: 1.0
Subject: Re: [Intel-gfx] [PATCH 3/7] drm/i915/tgl: Select master trasconder
 for MST stream
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: "intel-gfx@lists.freedesktop.org" <intel-gfx@lists.freedesktop.org>, "De
 Marchi, Lucas" <lucas.demarchi@intel.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

T24gV2VkLCAyMDE5LTExLTI3IGF0IDIxOjU5ICswMjAwLCBWaWxsZSBTeXJqw6Rsw6Qgd3JvdGU6
DQo+IE9uIFR1ZSwgTm92IDI2LCAyMDE5IGF0IDA4OjMwOjMxUE0gKzAwMDAsIFNvdXphLCBKb3Nl
IHdyb3RlOg0KPiA+IE9uIFR1ZSwgMjAxOS0xMS0yNiBhdCAyMjowNSArMDIwMCwgVmlsbGUgU3ly
asOkbMOkIHdyb3RlOg0KPiA+ID4gT24gRnJpLCBOb3YgMjIsIDIwMTkgYXQgMDQ6NTQ6NTVQTSAt
MDgwMCwgSm9zw6kgUm9iZXJ0byBkZSBTb3V6YQ0KPiA+ID4gd3JvdGU6DQo+ID4gPiA+IE9uIFRH
TCB0aGUgYmxlbmRpbmcgb2YgYWxsIHRoZSBzdHJlYW1zIGhhdmUgbW92ZWQgZnJvbSBEREkgdG8N
Cj4gPiA+ID4gdHJhbnNjb2Rlciwgc28gbm93IGV2ZXJ5IHRyYW5zY29kZXIgd29ya2luZyBvdmVy
IHRoZSBzYW1lIE1TVA0KPiA+ID4gPiBwb3J0DQo+ID4gPiA+IG11c3QNCj4gPiA+ID4gc2VuZCBp
dHMgc3RyZWFtIHRvIGEgbWFzdGVyIHRyYW5zY29kZXIgYW5kIG1hc3RlciB3aWxsIHNlbmQgdG8N
Cj4gPiA+ID4gRERJDQo+ID4gPiA+IHJlc3BlY3RpbmcgdGhlIHRpbWUgc2xvdHMuDQo+ID4gPiA+
IA0KPiA+ID4gPiBBIHByZXZpb3VzIGFwcHJvYWNoIHdhcyB1c2luZyB0aGUgbG93ZXN0IHBpcGUv
dHJhbnNjb2RlciBhcw0KPiA+ID4gPiBtYXN0ZXINCj4gPiA+ID4gdHJhbnNjb2RlciBidXQgYXMg
dGhlIGNvbW1lbnQgaW4gc2tsX2NvbW1pdF9tb2Rlc2V0X2VuYWJsZXMoKQ0KPiA+ID4gPiBzdGF0
ZXMsDQo+ID4gPiA+IHRoYXQgaXMgbm90IGFsd2F5cyB0cnVlLg0KPiA+ID4gPiANCj4gPiA+ID4g
U28gaGVyZSBwcm9tb3RpbmcgdGhlIGZpcnN0IHBpcGUvdHJhbnNjb2RlciBvZiB0aGUgc3RyZWFt
IGFzDQo+ID4gPiA+IG1hc3Rlci4NCj4gPiA+ID4gVGhhdCBjYXVzZWQgc2V2ZXJhbCBvdGhlciBw
cm9ibGVtcyBhcyBkdXJpbmcgdGhlIGNvbW1pdCBwaGFzZQ0KPiA+ID4gPiB0aGUNCj4gPiA+ID4g
c3RhdGUgY29tcHV0ZWQgc2hvdWxkIG5vdCBiZSBjaGFuZ2VkLg0KPiA+ID4gPiANCj4gPiA+ID4g
U28gdGhlIG1hc3RlciB0cmFuc2NvZGVyIGlzIHN0b3JlIGludG8gaW50ZWxfZHAgYW5kIHRoZSBt
b2Rlc2V0DQo+ID4gPiA+IGluDQo+ID4gPiA+IHNsYXZlIHBpcGVzL3RyYW5zY29kZXJzIGlzIGZv
cmNlZCB1c2luZw0KPiA+ID4gPiBtc3RfbWFzdGVyX3RyYW5zX3BlbmRpbmcuDQo+ID4gPiA+IA0K
PiA+ID4gPiB2MjoNCj4gPiA+ID4gLSBhZGRlZCBtaXNzaW5nIGNvbmZpZyBjb21wdXRlIHRvIHRy
aWdnZXIgZnVsbG1vZGVzZXQgaW4gc2xhdmUNCj4gPiA+ID4gdHJhbnNjb2RlcnMNCj4gPiA+ID4g
DQo+ID4gPiA+IEJTcGVjOiA1MDQ5Mw0KPiA+ID4gPiBCU3BlYzogNDkxOTANCj4gPiA+ID4gQ2M6
IFZpbGxlIFN5cmrDpGzDpCA8dmlsbGUuc3lyamFsYUBsaW51eC5pbnRlbC5jb20+DQo+ID4gPiA+
IENjOiBMdWNhcyBEZSBNYXJjaGkgPGx1Y2FzLmRlbWFyY2hpQGludGVsLmNvbT4NCj4gPiA+ID4g
U2lnbmVkLW9mZi1ieTogSm9zw6kgUm9iZXJ0byBkZSBTb3V6YSA8am9zZS5zb3V6YUBpbnRlbC5j
b20+DQo+ID4gPiA+IC0tLQ0KPiA+ID4gPiAgZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9p
bnRlbF9kZGkuYyAgICAgIHwgIDEwICstDQo+ID4gPiA+ICBkcml2ZXJzL2dwdS9kcm0vaTkxNS9k
aXNwbGF5L2ludGVsX2Rpc3BsYXkuYyAgfCAgNTggKysrKysrLQ0KPiA+ID4gPiAgLi4uL2RybS9p
OTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheV90eXBlcy5oICAgIHwgICAzICsNCj4gPiA+ID4gIGRy
aXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZHAuYyAgICAgICB8ICAgMSArDQo+ID4g
PiA+ICBkcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2RwX21zdC5jICAgfCAxNDkN
Cj4gPiA+ID4gKysrKysrKysrKysrKysrKystDQo+ID4gPiA+ICBkcml2ZXJzL2dwdS9kcm0vaTkx
NS9kaXNwbGF5L2ludGVsX2RwX21zdC5oICAgfCAgIDIgKw0KPiA+ID4gPiAgNiBmaWxlcyBjaGFu
Z2VkLCAyMTYgaW5zZXJ0aW9ucygrKSwgNyBkZWxldGlvbnMoLSkNCj4gPiA+ID4gDQo+ID4gPiA+
IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2RkaS5jDQo+
ID4gPiA+IGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kZGkuYw0KPiA+ID4g
PiBpbmRleCBhOTc2NjA2ZDIxYzcuLmQyZjBkMzkzZDNlZSAxMDA2NDQNCj4gPiA+ID4gLS0tIGEv
ZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kZGkuYw0KPiA+ID4gPiArKysgYi9k
cml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2RkaS5jDQo+ID4gPiA+IEBAIC0zNSw2
ICszNSw3IEBADQo+ID4gPiA+ICAjaW5jbHVkZSAiaW50ZWxfZGlzcGxheV90eXBlcy5oIg0KPiA+
ID4gPiAgI2luY2x1ZGUgImludGVsX2RwLmgiDQo+ID4gPiA+ICAjaW5jbHVkZSAiaW50ZWxfZHBf
bGlua190cmFpbmluZy5oIg0KPiA+ID4gPiArI2luY2x1ZGUgImludGVsX2RwX21zdC5oIg0KPiA+
ID4gPiAgI2luY2x1ZGUgImludGVsX2RwaW9fcGh5LmgiDQo+ID4gPiA+ICAjaW5jbHVkZSAiaW50
ZWxfZHNpLmgiDQo+ID4gPiA+ICAjaW5jbHVkZSAiaW50ZWxfZmlmb191bmRlcnJ1bi5oIg0KPiA+
ID4gPiBAQCAtMTkwMyw4ICsxOTA0LDEzIEBADQo+ID4gPiA+IGludGVsX2RkaV90cmFuc2NvZGVy
X2Z1bmNfcmVnX3ZhbF9nZXQoY29uc3QNCj4gPiA+ID4gc3RydWN0IGludGVsX2NydGNfc3RhdGUg
KmNydGNfc3RhdGUpDQo+ID4gPiA+ICAJCXRlbXAgfD0gVFJBTlNfRERJX01PREVfU0VMRUNUX0RQ
X01TVDsNCj4gPiA+ID4gIAkJdGVtcCB8PSBERElfUE9SVF9XSURUSChjcnRjX3N0YXRlLT5sYW5l
X2NvdW50KTsNCj4gPiA+ID4gIA0KPiA+ID4gPiAtCQlpZiAoSU5URUxfR0VOKGRldl9wcml2KSA+
PSAxMikNCj4gPiA+ID4gLQkJCXRlbXAgfD0NCj4gPiA+ID4gVFJBTlNfRERJX01TVF9UUkFOU1BP
UlRfU0VMRUNUKGNydGNfc3RhdGUtPmNwdV90cmFuc2NvZGVyKTsNCj4gPiA+ID4gKwkJaWYgKElO
VEVMX0dFTihkZXZfcHJpdikgPj0gMTIpIHsNCj4gPiA+ID4gKwkJCWVudW0gdHJhbnNjb2RlciBt
YXN0ZXI7DQo+ID4gPiA+ICsNCj4gPiA+ID4gKwkJCW1hc3RlciA9DQo+ID4gPiA+IGludGVsX2Rw
X21zdF9tYXN0ZXJfdHJhbnNfZ2V0KGVuY29kZXIpOw0KPiA+ID4gDQo+ID4gPiBXaHkgaXNuJ3Qg
dGhhdCBqdXN0IHN0b3JlZCBpbiB0aGUgY3J0YyBzdGF0ZSBsaWtlIGV2ZXJ5dGhpbmcNCj4gPiA+
IGVsc2U/DQo+ID4gPiANCj4gPiA+IEknbSB0aGlua2luZyB3ZSBzaG91bGQgbWF5YmUgZG8gaXQg
anVzdCBsaWtlIHBvcnQgc3luYyBhbmQgaGF2ZQ0KPiA+ID4gYm90aA0KPiA+ID4gbWFzdGVyICsg
c2xhdmVfbWFzay4gVGhhdCB3YXkgaXQgc2hvdWxkIGJlIHByZXR0eSB0cml2aWFsIHRvIGFkZA0K
PiA+ID4gYWxsDQo+ID4gPiB0aGUgcmVsZXZhbnQgY3J0Y3MgdG8gdGhlIHN0YXRlIHdoZW4gbmVl
ZGVkLg0KPiA+IA0KPiA+IEkgZ3Vlc3MgcG9ydCBzeW5jIGlzIG5vdCBkb2luZyB0aGUgcmlnaHQg
dGhpbmcgYW5kIGl0IGNvdWxkIGNhdXNlDQo+ID4gdW5kZXJydW5zLg0KPiA+IFdoZW4gaXQgaXMg
Z29pbmcgdG8gZW5hYmxlIHRoZSBtYXN0ZXIgQ1JUQyBvZiB0aGUgcG9ydCBzeW5jIGl0DQo+ID4g
Zm9yY2libHkNCj4gPiBlbmFibGVzIHRoZSBzbGF2ZSBmaXJzdCwgd2hhdCBjb3VsZCBjYXVzZSB1
bmRlcnJ1bnMgYmVjYXVzZSBvZg0KPiA+IG92ZXJsYXANCj4gPiBpbiBkZGIgYWxsb2NhdGlvbnMo
dGhhdCBpcyB3aGF0IEkgdW5kZXJzdG9vZCBmcm9tIHRoZSBjb21tZW50IGluDQo+ID4gc2tsX2Nv
bW1pdF9tb2Rlc2V0X2VuYWJsZXMoKSkuDQo+IA0KPiBOb3QgbmVjZXNzYXJpbHkganVzdCB1bmRl
cnJ1bnMgYnV0IGV2ZW4gYSBzeXN0ZW0gaGFuZy4gVGhlIGZpeCBzaG91bGQNCj4gYmUNCj4gYSB0
cml2aWFsICJjaGVjayB0aGUgc2xhdmUgZm9yIGRkYiBvdmVybGFwIGFzIHdlbGwiLCBidXQgYXBw
YXJlbnRseSBJDQo+IGZhaWxlZCBhdCBjb252aWNpbmcgcGVvcGxlIHRvIGRvIHRoYXQuDQo+IA0K
PiBJJ3ZlIGFjdHVhbGx5IGJlZW4gcG9uZGVyaW5nIGFib3V0IGRlY291cGxpbmcgdGhlIHBsYW5l
IHVwZGF0ZXMgZnJvbQ0KPiB0aGUgY3J0YyBlbmFibGUgc3R1ZmYgZW50aXJlbHkuIEF0IGxlYXN0
IHRoZW9yZXRpY2FsbHkgY3J0YyBlbmFibGUNCj4gc2hvdWxkIGJlIGFibGUgdG8gZXhjdXRlIGlu
IGFueSBvcmRlciBhcyBsb25nIHdlIGRvbid0IGVuYWJsZSBhbnkNCj4gbmV3IHBsYW5lcy4NCj4g
DQo+IEJ1dCBub25lIG9mIHRoYXQgcmVhbGx5IG1hdHRlcnMgZm9yIHRoZSBkaXNjdXNzaW9uIGF0
IGhhbmQuIFRob3VnaA0KPiB0aGVyZSBhcmUgb3RoZXIgcHJvYmxlbXMgd2l0aCB0aGUgcG9ydCBz
eW5jIHN0dWZmIHRoYXQgd291bGQgbmVlZA0KPiB0byBiZSBoYW5kbGVkIGJldHRlci4gRWcuIEkg
dGhpbmsgaXQgbm93IGFkZHMgYm90aCBjcnRjcyB0byB0aGUgc3RhdGUNCj4gYWx3YXlzIHdoaWNo
IGlzIGdvaW5nIHRvIGN1dCB0aGUgZnBzIGluIGhhbGYuIEFsc28gdGhlIHBsYWNlIHdoZXJlDQo+
IGl0IGRvZXMgdGhhdCBzdHVmZiBpcyByYXRoZXIgc3VzcGljaW91cy4gQWxsIHRoYXQgc3R1ZmYg
c2hvdWxkIGJlDQo+IHNvbWV3aGVyZSBhIGJpdCBoaWdoZXIgdXAgSU1PLg0KPiANCj4gPiBTbyBm
b3IgTVNUIHdlIG9ubHkga25vdyB3aG8gaXMgdGhlIG1hc3RlciBpbiB0aGUgY29tbWl0IHBoYXNl
IGFuZA0KPiA+IGF0DQo+ID4gdGhpcyBwb2ludCB3ZSBzaG91bGQgbm90IG1vZGlmeSB0aGUgY29t
cHV0ZWQgc3RhdGUuDQo+IA0KPiBJJ20gbm90IHN1Z2dlc3RpbmcgbW9kaWZ5aW5nIGFueXRoaW5n
IGR1cmluZyBjb21taXQgcGhhc2UuIEkgdGhpbmsNCj4geW91IGFyZSBlZmZlY3RpZWx5IGRvaW5n
IHRoYXQgcmlnaHQgbm93IGJ5IHN0dWZmaW5nIHRoYXQgbXN0IG1hc3Rlcg0KPiB0cmFuc2NvZGVy
IGludG8gaW50ZWxfZHAuDQoNClNvcnJ5LCBJIHN0aWxsIGRvbid0IGdldCB3aGF0IGFwcHJvYWNo
IGFyZSB5b3Ugc3VnZ2VzdGluZyBoZXJlLg0KDQpJZiB3ZSBjYW4ndCBtb2RpZnkgdGhlIHN0YXRl
IGluIHRoZSBjb21taXQgcGhhc2UsIGFkZGluZw0KbXN0X21hc3Rlcl90cmFuc2NvZGVyIGluIHRo
ZSBDUlRDIHN0YXRlIHdpbGwgbm90IGJlIHBvc3NpYmxlIHdoaWxlDQpyZXNwZWN0aW5nIHRoZSBv
cmRlciBpbXBvc2VkIGJ5IGRkYiBhbGxvY2F0aW9ucy4NCg0KPiANCj4gPiA+ID4gKwkJCVdBUk5f
T04obWFzdGVyID09IElOVkFMSURfVFJBTlNDT0RFUik7DQo+ID4gPiA+ICsJCQl0ZW1wIHw9DQo+
ID4gPiA+IFRSQU5TX0RESV9NU1RfVFJBTlNQT1JUX1NFTEVDVChtYXN0ZXIpOw0KPiA+ID4gPiAr
CQl9DQo+ID4gPiA+ICAJfSBlbHNlIHsNCj4gPiA+ID4gIAkJdGVtcCB8PSBUUkFOU19ERElfTU9E
RV9TRUxFQ1RfRFBfU1NUOw0KPiA+ID4gPiAgCQl0ZW1wIHw9IERESV9QT1JUX1dJRFRIKGNydGNf
c3RhdGUtPmxhbmVfY291bnQpOw0KPiA+ID4gPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJt
L2k5MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5LmMNCj4gPiA+ID4gYi9kcml2ZXJzL2dwdS9kcm0v
aTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXkuYw0KPiA+ID4gPiBpbmRleCA4MDFiOTc1YzdkMzku
LjM1YTU5MTA4MTk0ZSAxMDA2NDQNCj4gPiA+ID4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUv
ZGlzcGxheS9pbnRlbF9kaXNwbGF5LmMNCj4gPiA+ID4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5
MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5LmMNCj4gPiA+ID4gQEAgLTQ2LDYgKzQ2LDcgQEANCj4g
PiA+ID4gICNpbmNsdWRlICJkaXNwbGF5L2ludGVsX2NydC5oIg0KPiA+ID4gPiAgI2luY2x1ZGUg
ImRpc3BsYXkvaW50ZWxfZGRpLmgiDQo+ID4gPiA+ICAjaW5jbHVkZSAiZGlzcGxheS9pbnRlbF9k
cC5oIg0KPiA+ID4gPiArI2luY2x1ZGUgImRpc3BsYXkvaW50ZWxfZHBfbXN0LmgiDQo+ID4gPiA+
ICAjaW5jbHVkZSAiZGlzcGxheS9pbnRlbF9kc2kuaCINCj4gPiA+ID4gICNpbmNsdWRlICJkaXNw
bGF5L2ludGVsX2R2by5oIg0KPiA+ID4gPiAgI2luY2x1ZGUgImRpc3BsYXkvaW50ZWxfZ21idXMu
aCINCj4gPiA+ID4gQEAgLTUzNjUsNiArNTM2NiwzNiBAQCBpbnRlbF9nZXRfY3J0Y19uZXdfZW5j
b2Rlcihjb25zdCBzdHJ1Y3QNCj4gPiA+ID4gaW50ZWxfYXRvbWljX3N0YXRlICpzdGF0ZSwNCj4g
PiA+ID4gIAlyZXR1cm4gZW5jb2RlcjsNCj4gPiA+ID4gIH0NCj4gPiA+ID4gIA0KPiA+ID4gPiAr
LyoNCj4gPiA+ID4gKyAqIEZpbmRzIHRoZSBlbmNvZGVyIGFzc29jaWF0ZWQgd2l0aCB0aGUgZ2l2
ZW4gQ1JUQy4gVGhpcyBjYW4NCj4gPiA+ID4gb25seQ0KPiA+ID4gPiBiZQ0KPiA+ID4gPiArICog
dXNlZCB3aGVuIHdlIGtub3cgdGhhdCB0aGUgQ1JUQyBpc24ndCBmZWVkaW5nIG11bHRpcGxlDQo+
ID4gPiA+IGVuY29kZXJzIQ0KPiA+ID4gPiArICovDQo+ID4gPiA+ICtzdGF0aWMgc3RydWN0IGlu
dGVsX2VuY29kZXIgKg0KPiA+ID4gPiAraW50ZWxfZ2V0X2NydGNfb2xkX2VuY29kZXIoY29uc3Qg
c3RydWN0IGludGVsX2F0b21pY19zdGF0ZQ0KPiA+ID4gPiAqc3RhdGUsDQo+ID4gPiA+ICsJCQkg
ICBjb25zdCBzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZQ0KPiA+ID4gPiAqY3J0Y19zdGF0ZSkNCj4g
PiA+ID4gK3sNCj4gPiA+ID4gKwlzdHJ1Y3QgaW50ZWxfY3J0YyAqY3J0YyA9IHRvX2ludGVsX2Ny
dGMoY3J0Y19zdGF0ZS0NCj4gPiA+ID4gPnVhcGkuY3J0Yyk7DQo+ID4gPiA+ICsJY29uc3Qgc3Ry
dWN0IGRybV9jb25uZWN0b3Jfc3RhdGUgKmNvbm5lY3Rvcl9zdGF0ZTsNCj4gPiA+ID4gKwljb25z
dCBzdHJ1Y3QgZHJtX2Nvbm5lY3RvciAqY29ubmVjdG9yOw0KPiA+ID4gPiArCXN0cnVjdCBpbnRl
bF9lbmNvZGVyICplbmNvZGVyID0gTlVMTDsNCj4gPiA+ID4gKwlpbnQgbnVtX2VuY29kZXJzID0g
MDsNCj4gPiA+ID4gKwlpbnQgaTsNCj4gPiA+ID4gKw0KPiA+ID4gPiArCWZvcl9lYWNoX29sZF9j
b25uZWN0b3JfaW5fc3RhdGUoJnN0YXRlLT5iYXNlLA0KPiA+ID4gPiBjb25uZWN0b3IsDQo+ID4g
PiA+ICsJCQkJCWNvbm5lY3Rvcl9zdGF0ZSwgaSkgew0KPiA+ID4gPiArCQlpZiAoY29ubmVjdG9y
X3N0YXRlLT5jcnRjICE9ICZjcnRjLT5iYXNlKQ0KPiA+ID4gPiArCQkJY29udGludWU7DQo+ID4g
PiA+ICsNCj4gPiA+ID4gKwkJZW5jb2RlciA9IHRvX2ludGVsX2VuY29kZXIoY29ubmVjdG9yX3N0
YXRlLQ0KPiA+ID4gPiA+IGJlc3RfZW5jb2Rlcik7DQo+ID4gPiA+ICsJCW51bV9lbmNvZGVycysr
Ow0KPiA+ID4gPiArCX0NCj4gPiA+ID4gKw0KPiA+ID4gPiArCVdBUk4obnVtX2VuY29kZXJzICE9
IDEsICIlZCBlbmNvZGVycyBmb3IgcGlwZSAlY1xuIiwNCj4gPiA+ID4gKwkgICAgIG51bV9lbmNv
ZGVycywgcGlwZV9uYW1lKGNydGMtPnBpcGUpKTsNCj4gPiA+ID4gKw0KPiA+ID4gPiArCXJldHVy
biBlbmNvZGVyOw0KPiA+ID4gPiArfQ0KPiA+ID4gDQo+ID4gPiBBcmdoLiBJIHdhcyBob3Bpbmcg
dG8ga2lsbCB0aGUgb3RoZXIgb25lIG9mIHRoZXNlLiBHb3QgaXQgZG93biB0bw0KPiA+ID4gMQ0K
PiA+ID4gcmVtYWluaW5nIHVzZXIgbm93IEkgdGhpbmsuDQo+ID4gPiANCj4gPiA+ID4gKw0KPiA+
ID4gPiAgLyoNCj4gPiA+ID4gICAqIEVuYWJsZSBQQ0ggcmVzb3VyY2VzIHJlcXVpcmVkIGZvciBQ
Q0ggcG9ydHM6DQo+ID4gPiA+ICAgKiAgIC0gUENIIFBMTHMNCj4gPiA+ID4gQEAgLTEzMzY1LDYg
KzEzMzk2LDEyIEBAIGludGVsX3BpcGVfY29uZmlnX2NvbXBhcmUoY29uc3Qgc3RydWN0DQo+ID4g
PiA+IGludGVsX2NydGNfc3RhdGUgKmN1cnJlbnRfY29uZmlnLA0KPiA+ID4gPiAgI3VuZGVmIFBJ
UEVfQ09ORl9DSEVDS19DT0xPUl9MVVQNCj4gPiA+ID4gICN1bmRlZiBQSVBFX0NPTkZfUVVJUksN
Cj4gPiA+ID4gIA0KPiA+ID4gPiArCWlmIChmYXN0c2V0ICYmIHBpcGVfY29uZmlnLT5tc3RfbWFz
dGVyX3RyYW5zX3BlbmRpbmcpIHsNCj4gPiA+ID4gKwkJRFJNX0RFQlVHX0tNUygiW0NSVEM6JWQ6
JXNdIGZhc3RzZXQgbWlzbWF0Y2ggaW4NCj4gPiA+ID4gbXN0X21hc3Rlcl90cmFuc1xuIiwNCj4g
PiA+ID4gKwkJCSAgICAgIGNydGMtPmJhc2UuYmFzZS5pZCwgY3J0Yy0NCj4gPiA+ID4gPmJhc2Uu
bmFtZSk7DQo+ID4gPiA+ICsJCXJldCA9IGZhbHNlOw0KPiA+ID4gPiArCX0NCj4gPiA+ID4gKw0K
PiA+ID4gPiAgCXJldHVybiByZXQ7DQo+ID4gPiA+ICB9DQo+ID4gPiA+ICANCj4gPiA+ID4gQEAg
LTE0NDQ5LDIyICsxNDQ4NiwzNSBAQCBzdGF0aWMgdm9pZA0KPiA+ID4gPiBpbnRlbF9jb21taXRf
bW9kZXNldF9kaXNhYmxlcyhzdHJ1Y3QgaW50ZWxfYXRvbWljX3N0YXRlICpzdGF0ZSkNCj4gPiA+
ID4gIAlzdHJ1Y3QgaW50ZWxfY3J0YyAqY3J0YzsNCj4gPiA+ID4gIAlpbnQgaTsNCj4gPiA+ID4g
IA0KPiA+ID4gPiAtCS8qIE9ubHkgZGlzYWJsZSBwb3J0IHN5bmMgc2xhdmVzICovDQo+ID4gPiA+
ICsJLyogT25seSBkaXNhYmxlIHBvcnQgc3luYyBhbmQgTVNUIHNsYXZlcyAqLw0KPiA+ID4gPiAg
CWZvcl9lYWNoX29sZG5ld19pbnRlbF9jcnRjX2luX3N0YXRlKHN0YXRlLCBjcnRjLA0KPiA+ID4g
PiBvbGRfY3J0Y19zdGF0ZSwNCj4gPiA+ID4gIAkJCQkJICAgIG5ld19jcnRjX3N0YXRlLCBpKQ0K
PiA+ID4gPiB7DQo+ID4gPiA+ICAJCWlmICghbmVlZHNfbW9kZXNldChuZXdfY3J0Y19zdGF0ZSkg
fHwgIWNydGMtDQo+ID4gPiA+ID5hY3RpdmUpDQo+ID4gPiA+ICAJCQljb250aW51ZTsNCj4gPiA+
ID4gIA0KPiA+ID4gPiArCQlpZiAoIWlzX3RyYW5zX3BvcnRfc3luY19tb2RlKG5ld19jcnRjX3N0
YXRlKSAmJg0KPiA+ID4gPiArCQkgICAgIWludGVsX2NydGNfaGFzX3R5cGUob2xkX2NydGNfc3Rh
dGUsDQo+ID4gPiA+IElOVEVMX09VVFBVVF9EUF9NU1QpKQ0KPiA+ID4gPiArCQkJY29udGludWU7
DQo+ID4gPiA+ICsNCj4gPiA+ID4gIAkJLyogSW4gY2FzZSBvZiBUcmFuc2NvZGVyIHBvcnQgU3lu
YyBtYXN0ZXIgc2xhdmUNCj4gPiA+ID4gQ1JUQ3MNCj4gPiA+ID4gY2FuIGJlDQo+ID4gPiA+ICAJ
CSAqIGFzc2lnbmVkIGluIGFueSBvcmRlciBhbmQgd2UgbmVlZCB0byBtYWtlDQo+ID4gPiA+IHN1
cmUgdGhhdA0KPiA+ID4gPiAgCQkgKiBzbGF2ZSBDUlRDcyBhcmUgZGlzYWJsZWQgZmlyc3QgYW5k
IHRoZW4NCj4gPiA+ID4gbWFzdGVyIENSVEMNCj4gPiA+ID4gc2luY2UNCj4gPiA+ID4gIAkJICog
U2xhdmUgdmJsYW5rcyBhcmUgbWFza2VkIHRpbGwgTWFzdGVyDQo+ID4gPiA+IFZibGFua3MuDQo+
ID4gPiA+ICAJCSAqLw0KPiA+ID4gPiAtCQlpZiAoIWlzX3RyYW5zX3BvcnRfc3luY19tb2RlKG9s
ZF9jcnRjX3N0YXRlKSkNCj4gPiA+ID4gLQkJCWNvbnRpbnVlOw0KPiA+ID4gPiAtCQlpZiAoaXNf
dHJhbnNfcG9ydF9zeW5jX21hc3RlcihvbGRfY3J0Y19zdGF0ZSkpDQo+ID4gPiA+ICsJCWlmIChp
c190cmFuc19wb3J0X3N5bmNfbW9kZShuZXdfY3J0Y19zdGF0ZSkgJiYNCj4gPiA+ID4gKwkJICAg
IGlzX3RyYW5zX3BvcnRfc3luY19tYXN0ZXIobmV3X2NydGNfc3RhdGUpKQ0KPiA+ID4gPiAgCQkJ
Y29udGludWU7DQo+ID4gPiA+ICANCj4gPiA+ID4gKwkJaWYgKGludGVsX2NydGNfaGFzX3R5cGUo
b2xkX2NydGNfc3RhdGUsDQo+ID4gPiA+IElOVEVMX09VVFBVVF9EUF9NU1QpKSB7DQo+ID4gPiA+
ICsJCQlzdHJ1Y3QgaW50ZWxfZW5jb2RlciAqZW5jb2RlcjsNCj4gPiA+ID4gKw0KPiA+ID4gPiAr
CQkJZW5jb2RlciA9DQo+ID4gPiA+IGludGVsX2dldF9jcnRjX29sZF9lbmNvZGVyKHN0YXRlLA0K
PiA+ID4gPiArCQkJCQkJCSAgICAgb2wNCj4gPiA+ID4gZF9jcnRjX3MNCj4gPiA+ID4gdGF0ZSk7
DQo+ID4gPiA+ICsJCQlpZg0KPiA+ID4gPiAoaW50ZWxfZHBfbXN0X21hc3Rlcl90cmFuc19nZXQo
ZW5jb2RlcikgPT0NCj4gPiA+ID4gKwkJCSAgICBvbGRfY3J0Y19zdGF0ZS0+Y3B1X3RyYW5zY29k
ZXIpDQo+ID4gPiA+ICsJCQkJY29udGludWU7DQo+ID4gPiA+ICsJCX0NCj4gPiA+ID4gKw0KPiA+
ID4gPiAgCQlpbnRlbF9wcmVfcGxhbmVfdXBkYXRlKG9sZF9jcnRjX3N0YXRlLA0KPiA+ID4gPiBu
ZXdfY3J0Y19zdGF0ZSk7DQo+ID4gPiA+ICAJCWludGVsX29sZF9jcnRjX3N0YXRlX2Rpc2FibGVz
KHN0YXRlLA0KPiA+ID4gPiBvbGRfY3J0Y19zdGF0ZSwNCj4gPiA+ID4gIAkJCQkJICAgICAgbmV3
X2NydGNfc3RhdGUsDQo+ID4gPiA+IGNydGMpOw0KPiA+ID4gPiBkaWZmIC0tZ2l0IGEvZHJpdmVy
cy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5X3R5cGVzLmgNCj4gPiA+ID4gYi9k
cml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXlfdHlwZXMuaA0KPiA+ID4g
PiBpbmRleCA4M2VhMDQxNDliNzcuLjIzZDc0N2NkY2E2NCAxMDA2NDQNCj4gPiA+ID4gLS0tIGEv
ZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5X3R5cGVzLmgNCj4gPiA+
ID4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5X3R5cGVz
LmgNCj4gPiA+ID4gQEAgLTEwNTIsNiArMTA1Miw4IEBAIHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRl
IHsNCj4gPiA+ID4gIAkvKiBQb2ludGVyIHRvIG1hc3RlciB0cmFuc2NvZGVyIGluIGNhc2Ugb2Yg
dGlsZWQNCj4gPiA+ID4gZGlzcGxheXMgKi8NCj4gPiA+ID4gIAllbnVtIHRyYW5zY29kZXIgbWFz
dGVyX3RyYW5zY29kZXI7DQo+ID4gPiA+ICANCj4gPiA+ID4gKwlib29sIG1zdF9tYXN0ZXJfdHJh
bnNfcGVuZGluZzsNCj4gPiA+ID4gKw0KPiA+ID4gPiAgCS8qIEJpdG1hc2sgdG8gaW5kaWNhdGUg
c2xhdmVzIGF0dGFjaGVkICovDQo+ID4gPiA+ICAJdTggc3luY19tb2RlX3NsYXZlc19tYXNrOw0K
PiA+ID4gPiAgfTsNCj4gPiA+ID4gQEAgLTEyODQsNiArMTI4Niw3IEBAIHN0cnVjdCBpbnRlbF9k
cCB7DQo+ID4gPiA+ICAJYm9vbCBjYW5fbXN0OyAvKiB0aGlzIHBvcnQgc3VwcG9ydHMgbXN0ICov
DQo+ID4gPiA+ICAJYm9vbCBpc19tc3Q7DQo+ID4gPiA+ICAJaW50IGFjdGl2ZV9tc3RfbGlua3M7
DQo+ID4gPiA+ICsJZW51bSB0cmFuc2NvZGVyIG1zdF9tYXN0ZXJfdHJhbnNjb2RlcjsgLyogT25s
eSB1c2VkIGluDQo+ID4gPiA+IFRHTCsgKi8NCj4gPiA+ID4gIA0KPiA+ID4gPiAgCS8qDQo+ID4g
PiA+ICAJICogRFBfVFBfKiByZWdpc3RlcnMgbWF5IGJlIGVpdGhlciBvbiBwb3J0IG9yDQo+ID4g
PiA+IHRyYW5zY29kZXINCj4gPiA+ID4gcmVnaXN0ZXIgc3BhY2UuDQo+ID4gPiA+IGRpZmYgLS1n
aXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2RwLmMNCj4gPiA+ID4gYi9k
cml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2RwLmMNCj4gPiA+ID4gaW5kZXggMzEy
Mzk1OGUyMDgxLi5jZWZmNjkwMTQ1MWEgMTAwNjQ0DQo+ID4gPiA+IC0tLSBhL2RyaXZlcnMvZ3B1
L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZHAuYw0KPiA+ID4gPiArKysgYi9kcml2ZXJzL2dwdS9k
cm0vaTkxNS9kaXNwbGF5L2ludGVsX2RwLmMNCj4gPiA+ID4gQEAgLTc0MjQsNiArNzQyNCw3IEBA
IGludGVsX2RwX2luaXRfY29ubmVjdG9yKHN0cnVjdA0KPiA+ID4gPiBpbnRlbF9kaWdpdGFsX3Bv
cnQgKmludGVsX2RpZ19wb3J0LA0KPiA+ID4gPiAgCWludGVsX2RwLT5yZXNldF9saW5rX3BhcmFt
cyA9IHRydWU7DQo+ID4gPiA+ICAJaW50ZWxfZHAtPnBwc19waXBlID0gSU5WQUxJRF9QSVBFOw0K
PiA+ID4gPiAgCWludGVsX2RwLT5hY3RpdmVfcGlwZSA9IElOVkFMSURfUElQRTsNCj4gPiA+ID4g
KwlpbnRlbF9kcC0+bXN0X21hc3Rlcl90cmFuc2NvZGVyID0gSU5WQUxJRF9UUkFOU0NPREVSOw0K
PiA+ID4gPiAgDQo+ID4gPiA+ICAJLyogUHJlc2VydmUgdGhlIGN1cnJlbnQgaHcgc3RhdGUuICov
DQo+ID4gPiA+ICAJaW50ZWxfZHAtPkRQID0gSTkxNV9SRUFEKGludGVsX2RwLT5vdXRwdXRfcmVn
KTsNCj4gPiA+ID4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50
ZWxfZHBfbXN0LmMNCj4gPiA+ID4gYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVs
X2RwX21zdC5jDQo+ID4gPiA+IGluZGV4IGY4YTM1MDM1OTM0Ni4uOTczMWMzYzFkM2YyIDEwMDY0
NA0KPiA+ID4gPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2RwX21z
dC5jDQo+ID4gPiA+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZHBf
bXN0LmMNCj4gPiA+ID4gQEAgLTg3LDYgKzg3LDQ3IEBAIHN0YXRpYyBpbnQNCj4gPiA+ID4gaW50
ZWxfZHBfbXN0X2NvbXB1dGVfbGlua19jb25maWcoc3RydWN0IGludGVsX2VuY29kZXIgKmVuY29k
ZXIsDQo+ID4gPiA+ICAJcmV0dXJuIDA7DQo+ID4gPiA+ICB9DQo+ID4gPiA+ICANCj4gPiA+ID4g
K3N0YXRpYyBpbnQNCj4gPiA+ID4gK2ludGVsX2RwX21zdF9tYXN0ZXJfdHJhbnNfY29tcHV0ZShz
dHJ1Y3QgaW50ZWxfZW5jb2Rlcg0KPiA+ID4gPiAqZW5jb2RlciwNCj4gPiA+ID4gKwkJCQkgIHN0
cnVjdCBpbnRlbF9jcnRjX3N0YXRlDQo+ID4gPiA+ICpwaXBlX2NvbmZpZywNCj4gPiA+ID4gKwkJ
CQkgIHN0cnVjdCBkcm1fY29ubmVjdG9yX3N0YXRlDQo+ID4gPiA+ICpjb25uX3N0YXRlKQ0KPiA+
ID4gPiArew0KPiA+ID4gPiArCXN0cnVjdCBpbnRlbF9hdG9taWNfc3RhdGUgKnN0YXRlID0NCj4g
PiA+ID4gdG9faW50ZWxfYXRvbWljX3N0YXRlKHBpcGVfY29uZmlnLT51YXBpLnN0YXRlKTsNCj4g
PiA+ID4gKwlzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYgPSB0b19pOTE1KGVuY29k
ZXItDQo+ID4gPiA+ID5iYXNlLmRldik7DQo+ID4gPiA+ICsJc3RydWN0IGludGVsX2NydGNfc3Rh
dGUgKm5ld19jcnRjX3N0YXRlOw0KPiA+ID4gPiArCXN0cnVjdCBpbnRlbF9jcnRjICpjcnRjOw0K
PiA+ID4gPiArCWVudW0gdHJhbnNjb2RlciBtYXN0ZXI7DQo+ID4gPiA+ICsJaW50IGk7DQo+ID4g
PiA+ICsNCj4gPiA+ID4gKwlpZiAoSU5URUxfR0VOKGRldl9wcml2KSA8IDEyKQ0KPiA+ID4gPiAr
CQlyZXR1cm4gMDsNCj4gPiA+ID4gKw0KPiA+ID4gPiArCWlmICghY29ubl9zdGF0ZS0+Y3J0YykN
Cj4gPiA+ID4gKwkJcmV0dXJuIDA7DQo+ID4gPiA+ICsNCj4gPiA+ID4gKwltYXN0ZXIgPSBpbnRl
bF9kcF9tc3RfbWFzdGVyX3RyYW5zX2dldChlbmNvZGVyKTsNCj4gPiA+ID4gKwlpZiAobWFzdGVy
ID09IElOVkFMSURfVFJBTlNDT0RFUikNCj4gPiA+ID4gKwkJcmV0dXJuIDA7DQo+ID4gPiA+ICsN
Cj4gPiA+ID4gKwlmb3JfZWFjaF9uZXdfaW50ZWxfY3J0Y19pbl9zdGF0ZShzdGF0ZSwgY3J0YywN
Cj4gPiA+ID4gbmV3X2NydGNfc3RhdGUsDQo+ID4gPiA+IGkpIHsNCj4gPiA+ID4gKwkJLyoNCj4g
PiA+ID4gKwkJICogY3B1X3RyYW5zY29kZXIgaXMgc2V0IHdoZW4gY29tcHV0aW5nIENSVEMNCj4g
PiA+ID4gc3RhdGUgaWYNCj4gPiA+ID4gaXQgd2lsbA0KPiA+ID4gPiArCQkgKiBiZSBkaXNhYmxl
ZCBpdCB3aWxsIG5vdCBoYXBwZW4sIHNvIGNoZWNraW5nDQo+ID4gPiA+IHBpcGUNCj4gPiA+ID4g
aW5zdGVhZA0KPiA+ID4gPiArCQkgKi8NCj4gPiA+ID4gKwkJaWYgKGNydGMtPnBpcGUgIT0gKGVu
dW0gcGlwZSltYXN0ZXIpDQo+ID4gPiA+ICsJCQljb250aW51ZTsNCj4gPiA+ID4gKw0KPiA+ID4g
PiArCQlpZg0KPiA+ID4gPiAoIWRybV9hdG9taWNfY3J0Y19uZWVkc19tb2Rlc2V0KCZuZXdfY3J0
Y19zdGF0ZS0NCj4gPiA+ID4gPiB1YXBpKSAmJg0KPiA+ID4gPiArCQkgICAgbmV3X2NydGNfc3Rh
dGUtPnVhcGkuZW5hYmxlKQ0KPiA+ID4gPiArCQkJY29udGludWU7DQo+ID4gPiA+ICsNCj4gPiA+
ID4gKwkJcGlwZV9jb25maWctPm1zdF9tYXN0ZXJfdHJhbnNfcGVuZGluZyA9IHRydWU7DQo+ID4g
PiA+ICsJCWJyZWFrOw0KPiA+ID4gPiArCX0NCj4gPiA+ID4gKw0KPiA+ID4gPiArCXJldHVybiAw
Ow0KPiA+ID4gPiArfQ0KPiA+ID4gPiArDQo+ID4gPiA+ICBzdGF0aWMgaW50IGludGVsX2RwX21z
dF9jb21wdXRlX2NvbmZpZyhzdHJ1Y3QgaW50ZWxfZW5jb2Rlcg0KPiA+ID4gPiAqZW5jb2RlciwN
Cj4gPiA+ID4gIAkJCQkgICAgICAgc3RydWN0IGludGVsX2NydGNfc3RhdGUNCj4gPiA+ID4gKnBp
cGVfY29uZmlnLA0KPiA+ID4gPiAgCQkJCSAgICAgICBzdHJ1Y3QNCj4gPiA+ID4gZHJtX2Nvbm5l
Y3Rvcl9zdGF0ZQ0KPiA+ID4gPiAqY29ubl9zdGF0ZSkNCj4gPiA+ID4gQEAgLTE1NCw2ICsxOTUs
OTUgQEAgc3RhdGljIGludA0KPiA+ID4gPiBpbnRlbF9kcF9tc3RfY29tcHV0ZV9jb25maWcoc3Ry
dWN0DQo+ID4gPiA+IGludGVsX2VuY29kZXIgKmVuY29kZXIsDQo+ID4gPiA+ICANCj4gPiA+ID4g
IAlpbnRlbF9kZGlfY29tcHV0ZV9taW5fdm9sdGFnZV9sZXZlbChkZXZfcHJpdiwNCj4gPiA+ID4g
cGlwZV9jb25maWcpOw0KPiA+ID4gPiAgDQo+ID4gPiA+ICsJcmV0ID0gaW50ZWxfZHBfbXN0X21h
c3Rlcl90cmFuc19jb21wdXRlKGVuY29kZXIsDQo+ID4gPiA+IHBpcGVfY29uZmlnLA0KPiA+ID4g
PiArCQkJCQkJY29ubl9zdGF0ZSk7DQo+ID4gPiA+ICsJaWYgKHJldCkNCj4gPiA+ID4gKwkJcmV0
dXJuIHJldDsNCj4gPiA+ID4gKw0KPiA+ID4gPiArCXJldHVybiAwOw0KPiA+ID4gPiArfQ0KPiA+
ID4gPiArDQo+ID4gPiA+ICtzdGF0aWMgaW50DQo+ID4gPiA+ICtpbnRlbF9kcF9tc3RfYXRvbWlj
X21hc3Rlcl90cmFuc19jaGVjayhzdHJ1Y3QgZHJtX2Nvbm5lY3Rvcg0KPiA+ID4gPiAqY29ubmVj
dG9yLA0KPiA+ID4gPiArCQkJCSAgICAgICBzdHJ1Y3QgZHJtX2F0b21pY19zdGF0ZQ0KPiA+ID4g
PiAqc3RhdGUpDQo+ID4gPiA+ICt7DQo+ID4gPiA+ICsJc3RydWN0IGRybV9pOTE1X3ByaXZhdGUg
KmRldl9wcml2ID0gdG9faTkxNShjb25uZWN0b3ItDQo+ID4gPiA+ID5kZXYpOw0KPiA+ID4gPiAr
CXN0cnVjdCBpbnRlbF9jb25uZWN0b3IgKmludGVsX2Nvbm4gPQ0KPiA+ID4gPiB0b19pbnRlbF9j
b25uZWN0b3IoY29ubmVjdG9yKTsNCj4gPiA+ID4gKwlzdHJ1Y3QgZHJtX2Nvbm5lY3Rvcl9zdGF0
ZSAqbmV3X2Nvbm5fc3RhdGUsDQo+ID4gPiA+ICpvbGRfY29ubl9zdGF0ZTsNCj4gPiA+ID4gKwlz
dHJ1Y3QgZHJtX2Nvbm5lY3Rvcl9saXN0X2l0ZXIgY29ubl9saXN0X2l0ZXI7DQo+ID4gPiA+ICsJ
c3RydWN0IGludGVsX2NydGNfc3RhdGUgKmludGVsX2NydGNfc3RhdGU7DQo+ID4gPiA+ICsJc3Ry
dWN0IGRybV9jcnRjX3N0YXRlICpjcnRjX3N0YXRlOw0KPiA+ID4gPiArCXN0cnVjdCBkcm1fY29u
bmVjdG9yICpjb25uX2l0ZXI7DQo+ID4gPiA+ICsNCj4gPiA+ID4gKwlpZiAoSU5URUxfR0VOKGRl
dl9wcml2KSA8IDEyKQ0KPiA+ID4gPiArCQlyZXR1cm4gMDsNCj4gPiA+ID4gKw0KPiA+ID4gPiAr
CW5ld19jb25uX3N0YXRlID0NCj4gPiA+ID4gZHJtX2F0b21pY19nZXRfbmV3X2Nvbm5lY3Rvcl9z
dGF0ZShzdGF0ZSwNCj4gPiA+ID4gY29ubmVjdG9yKTsNCj4gPiA+ID4gKwlvbGRfY29ubl9zdGF0
ZSA9DQo+ID4gPiA+IGRybV9hdG9taWNfZ2V0X29sZF9jb25uZWN0b3Jfc3RhdGUoc3RhdGUsDQo+
ID4gPiA+IGNvbm5lY3Rvcik7DQo+ID4gPiA+ICsNCj4gPiA+ID4gKwlpZiAoIW9sZF9jb25uX3N0
YXRlLT5jcnRjICYmICFuZXdfY29ubl9zdGF0ZS0+Y3J0YykNCj4gPiA+ID4gKwkJcmV0dXJuIDA7
DQo+ID4gPiA+ICsNCj4gPiA+ID4gKwkvKg0KPiA+ID4gPiArCSAqIDMgY2FzZXMgdGhhdCBuZWVk
cyBiZSBoYW5kbGVkIGhlcmU6DQo+ID4gPiA+ICsJICogLSBjb25uZWN0b3IgZ29pbmcgZnJvbSBk
aXNhYmxlZCB0byBlbmFibGVkDQo+ID4gPiA+ICsJICogLSBjb25uZWN0b3IgZ29pbmcgZnJvbSBl
bmFibGVkIHRvIGRpc2FibGVkOg0KPiA+ID4gPiArCSAqIGlmIHRoaXMgdHJhbnNjb2RlciB3YXMg
dGhlIG1hc3RlciwgYWxsIHNsYXZlcyBuZWVkcw0KPiA+ID4gPiBhDQo+ID4gPiA+IG1vZGVzZXQN
Cj4gPiA+ID4gKwkgKiAtIGNvbm5lY3RvciBnb2luZyBmcm9tIGVuYWJsZWQgdG8gZW5hYmxlZCBi
dXQgaXQNCj4gPiA+ID4gbmVlZHMgYQ0KPiA+ID4gPiBtb2Rlc2V0Og0KPiA+ID4gPiArCSAqIGlm
IHRoaXMgdHJhbnNjb2RlciB3YXMgdGhlIG1hc3RlciwgYWxsIHNsYXZlcyBhbHNvDQo+ID4gPiA+
IG5lZWRzIGENCj4gPiA+ID4gbW9kZXNldA0KPiA+ID4gPiArCSAqLw0KPiA+ID4gPiArDQo+ID4g
PiA+ICsJLyogZGlzYWJsZWQgLT4gZW5hYmxlZCAqLw0KPiA+ID4gPiArCWlmICghb2xkX2Nvbm5f
c3RhdGUtPmNydGMgJiYgbmV3X2Nvbm5fc3RhdGUtPmNydGMpDQo+ID4gPiA+ICsJCXJldHVybiAw
Ow0KPiA+ID4gPiArDQo+ID4gPiA+ICsJLyogZW5hYmxlZCAtPiBlbmFibGVkKG1vZGVzZXQpPyAq
Lw0KPiA+ID4gPiArCWlmIChuZXdfY29ubl9zdGF0ZS0+Y3J0Yykgew0KPiA+ID4gPiArCQljcnRj
X3N0YXRlID0NCj4gPiA+ID4gZHJtX2F0b21pY19nZXRfbmV3X2NydGNfc3RhdGUoc3RhdGUsDQo+
ID4gPiA+IG5ld19jb25uX3N0YXRlLT5jcnRjKTsNCj4gPiA+ID4gKwkJaWYgKCFkcm1fYXRvbWlj
X2NydGNfbmVlZHNfbW9kZXNldChjcnRjX3N0YXRlKSkNCj4gPiA+ID4gKwkJCXJldHVybiAwOw0K
PiA+ID4gPiArCX0NCj4gPiA+ID4gKw0KPiA+ID4gPiArCS8qIGhhbmRsaW5nIGVuYWJsZWQgLT4g
ZW5hYmxlZChtb2Rlc2V0KSBhbmQgZW5hYmxlZCAtPg0KPiA+ID4gPiBkaXNhYmxlZA0KPiA+ID4g
PiAqLw0KPiA+ID4gPiArCWNydGNfc3RhdGUgPSBkcm1fYXRvbWljX2dldF9vbGRfY3J0Y19zdGF0
ZShzdGF0ZSwNCj4gPiA+ID4gb2xkX2Nvbm5fc3RhdGUtPmNydGMpOw0KPiA+ID4gPiArCWludGVs
X2NydGNfc3RhdGUgPSB0b19pbnRlbF9jcnRjX3N0YXRlKGNydGNfc3RhdGUpOw0KPiA+ID4gPiAr
DQo+ID4gPiA+ICsJLyogSWYgbm90IG1hc3Rlciwgbm90aGluZyBlbHNlIG5lZWRzIHRvIGJlIGhh
bmRsZWQgKi8NCj4gPiA+ID4gKwlpZiAoaW50ZWxfY29ubi0+bXN0X3BvcnQtPm1zdF9tYXN0ZXJf
dHJhbnNjb2RlciAhPQ0KPiA+ID4gPiArCSAgICBpbnRlbF9jcnRjX3N0YXRlLT5jcHVfdHJhbnNj
b2RlcikNCj4gPiA+ID4gKwkJcmV0dXJuIDA7DQo+ID4gPiA+ICsNCj4gPiA+ID4gKwkvKiBJcyBt
YXN0ZXIsIG1hcmsgYWxsIG90aGVyIENSVENzIGFzIG5lZWRpbmcgYSBtb2Rlc2V0DQo+ID4gPiA+
ICovDQo+ID4gPiA+ICsJZHJtX2Nvbm5lY3Rvcl9saXN0X2l0ZXJfYmVnaW4oc3RhdGUtPmRldiwN
Cj4gPiA+ID4gJmNvbm5fbGlzdF9pdGVyKTsNCj4gPiA+ID4gKwlkcm1fZm9yX2VhY2hfY29ubmVj
dG9yX2l0ZXIoY29ubl9pdGVyLCAmY29ubl9saXN0X2l0ZXIpDQo+ID4gPiA+IHsNCj4gPiA+ID4g
KwkJc3RydWN0IGludGVsX2Nvbm5lY3RvciAqaW50ZWxfY29ubl9pdGVyOw0KPiA+ID4gPiArCQlz
dHJ1Y3QgZHJtX2Nvbm5lY3Rvcl9zdGF0ZSAqY29ubl9pdGVyX3N0YXRlOw0KPiA+ID4gPiArDQo+
ID4gPiA+ICsJCWludGVsX2Nvbm5faXRlciA9DQo+ID4gPiA+IHRvX2ludGVsX2Nvbm5lY3Rvcihj
b25uX2l0ZXIpOw0KPiA+ID4gPiArCQlpZiAoaW50ZWxfY29ubl9pdGVyLT5tc3RfcG9ydCAhPSBp
bnRlbF9jb25uLQ0KPiA+ID4gPiA+bXN0X3BvcnQpDQo+ID4gPiA+ICsJCQljb250aW51ZTsNCj4g
PiA+ID4gKw0KPiA+ID4gPiArCQljb25uX2l0ZXJfc3RhdGUgPQ0KPiA+ID4gPiBkcm1fYXRvbWlj
X2dldF9jb25uZWN0b3Jfc3RhdGUoc3RhdGUsDQo+ID4gPiA+ICsJCQkJCQkJCQ0KPiA+ID4gPiAg
Y29ubl9pDQo+ID4gPiA+IHRlcik7DQo+ID4gPiA+ICsJCWlmIChJU19FUlIoY29ubl9pdGVyX3N0
YXRlKSkgew0KPiA+ID4gPiArCQkJZHJtX2Nvbm5lY3Rvcl9saXN0X2l0ZXJfZW5kKCZjb25uX2xp
c3RfDQo+ID4gPiA+IGl0ZXIpOw0KPiA+ID4gPiArCQkJcmV0dXJuIFBUUl9FUlIoY29ubl9pdGVy
X3N0YXRlKTsNCj4gPiA+ID4gKwkJfQ0KPiA+ID4gPiArDQo+ID4gPiA+ICsJCWlmICghY29ubl9p
dGVyX3N0YXRlLT5jcnRjKQ0KPiA+ID4gPiArCQkJY29udGludWU7DQo+ID4gPiA+ICsNCj4gPiA+
ID4gKwkJY3J0Y19zdGF0ZSA9IGRybV9hdG9taWNfZ2V0X2NydGNfc3RhdGUoc3RhdGUsDQo+ID4g
PiA+IGNvbm5faXRlcl9zdGF0ZS0+Y3J0Yyk7DQo+ID4gPiA+ICsJCWlmIChJU19FUlIoY3J0Y19z
dGF0ZSkpIHsNCj4gPiA+ID4gKwkJCWRybV9jb25uZWN0b3JfbGlzdF9pdGVyX2VuZCgmY29ubl9s
aXN0Xw0KPiA+ID4gPiBpdGVyKTsNCj4gPiA+ID4gKwkJCXJldHVybiBQVFJfRVJSKGNvbm5faXRl
cl9zdGF0ZSk7DQo+ID4gPiA+ICsJCX0NCj4gPiA+ID4gKw0KPiA+ID4gPiArCQlpbnRlbF9jcnRj
X3N0YXRlID0NCj4gPiA+ID4gdG9faW50ZWxfY3J0Y19zdGF0ZShjcnRjX3N0YXRlKTsNCj4gPiA+
ID4gKwkJY3J0Y19zdGF0ZS0+bW9kZV9jaGFuZ2VkID0gdHJ1ZTsNCj4gPiA+ID4gKwl9DQo+ID4g
PiA+ICsJZHJtX2Nvbm5lY3Rvcl9saXN0X2l0ZXJfZW5kKCZjb25uX2xpc3RfaXRlcik7DQo+ID4g
PiA+ICsNCj4gPiA+ID4gIAlyZXR1cm4gMDsNCj4gPiA+ID4gIH0NCj4gPiA+ID4gIA0KPiA+ID4g
PiBAQCAtMTc1LDYgKzMwNSwxMCBAQCBpbnRlbF9kcF9tc3RfYXRvbWljX2NoZWNrKHN0cnVjdA0K
PiA+ID4gPiBkcm1fY29ubmVjdG9yDQo+ID4gPiA+ICpjb25uZWN0b3IsDQo+ID4gPiA+ICAJaWYg
KHJldCkNCj4gPiA+ID4gIAkJcmV0dXJuIHJldDsNCj4gPiA+ID4gIA0KPiA+ID4gPiArCXJldCA9
IGludGVsX2RwX21zdF9hdG9taWNfbWFzdGVyX3RyYW5zX2NoZWNrKGNvbm5lY3RvciwNCj4gPiA+
ID4gc3RhdGUpOw0KPiA+ID4gPiArCWlmIChyZXQpDQo+ID4gPiA+ICsJCXJldHVybiByZXQ7DQo+
ID4gPiA+ICsNCj4gPiA+ID4gIAlpZiAoIW9sZF9jb25uX3N0YXRlLT5jcnRjKQ0KPiA+ID4gPiAg
CQlyZXR1cm4gMDsNCj4gPiA+ID4gIA0KPiA+ID4gPiBAQCAtMjU5LDYgKzM5Myw3IEBAIHN0YXRp
YyB2b2lkDQo+ID4gPiA+IGludGVsX21zdF9wb3N0X2Rpc2FibGVfZHAoc3RydWN0DQo+ID4gPiA+
IGludGVsX2VuY29kZXIgKmVuY29kZXIsDQo+ID4gPiA+ICAJCWludGVsX2RwX3NpbmtfZHBtcyhp
bnRlbF9kcCwNCj4gPiA+ID4gRFJNX01PREVfRFBNU19PRkYpOw0KPiA+ID4gPiAgCQlpbnRlbF9k
aWdfcG9ydC0NCj4gPiA+ID4gPmJhc2UucG9zdF9kaXNhYmxlKCZpbnRlbF9kaWdfcG9ydC0NCj4g
PiA+ID4gPiBiYXNlLA0KPiA+ID4gPiAgCQkJCQkJICBvbGRfY3J0Y19zdGF0DQo+ID4gPiA+IGUs
DQo+ID4gPiA+IE5VTEwpOw0KPiA+ID4gPiArCQlpbnRlbF9kcC0+bXN0X21hc3Rlcl90cmFuc2Nv
ZGVyID0NCj4gPiA+ID4gSU5WQUxJRF9UUkFOU0NPREVSOw0KPiA+ID4gPiAgCX0NCj4gPiA+ID4g
IA0KPiA+ID4gPiAgCURSTV9ERUJVR19LTVMoImFjdGl2ZSBsaW5rcyAlZFxuIiwgaW50ZWxfZHAt
DQo+ID4gPiA+ID5hY3RpdmVfbXN0X2xpbmtzKTsNCj4gPiA+ID4gQEAgLTMxNCw4ICs0NDksMTEg
QEAgc3RhdGljIHZvaWQgaW50ZWxfbXN0X3ByZV9lbmFibGVfZHAoc3RydWN0DQo+ID4gPiA+IGlu
dGVsX2VuY29kZXIgKmVuY29kZXIsDQo+ID4gPiA+ICANCj4gPiA+ID4gIAlEUk1fREVCVUdfS01T
KCJhY3RpdmUgbGlua3MgJWRcbiIsIGludGVsX2RwLQ0KPiA+ID4gPiA+YWN0aXZlX21zdF9saW5r
cyk7DQo+ID4gPiA+ICANCj4gPiA+ID4gLQlpZiAoZmlyc3RfbXN0X3N0cmVhbSkNCj4gPiA+ID4g
KwlpZiAoZmlyc3RfbXN0X3N0cmVhbSkgew0KPiA+ID4gPiArCQlXQVJOX09OKGludGVsX2RwLT5t
c3RfbWFzdGVyX3RyYW5zY29kZXIgIT0NCj4gPiA+ID4gSU5WQUxJRF9UUkFOU0NPREVSKTsNCj4g
PiA+ID4gKwkJaW50ZWxfZHAtPm1zdF9tYXN0ZXJfdHJhbnNjb2RlciA9IHBpcGVfY29uZmlnLQ0K
PiA+ID4gPiA+IGNwdV90cmFuc2NvZGVyOw0KPiA+ID4gPiAgCQlpbnRlbF9kcF9zaW5rX2RwbXMo
aW50ZWxfZHAsIERSTV9NT0RFX0RQTVNfT04pOw0KPiA+ID4gPiArCX0NCj4gPiA+ID4gIA0KPiA+
ID4gPiAgCWRybV9kcF9zZW5kX3Bvd2VyX3VwZG93bl9waHkoJmludGVsX2RwLT5tc3RfbWdyLA0K
PiA+ID4gPiBjb25uZWN0b3ItDQo+ID4gPiA+ID4gcG9ydCwgdHJ1ZSk7DQo+ID4gPiA+ICANCj4g
PiA+ID4gQEAgLTcxNywzICs4NTUsMTIgQEAgaW50ZWxfZHBfbXN0X2VuY29kZXJfY2xlYW51cChz
dHJ1Y3QNCj4gPiA+ID4gaW50ZWxfZGlnaXRhbF9wb3J0ICppbnRlbF9kaWdfcG9ydCkNCj4gPiA+
ID4gIAlkcm1fZHBfbXN0X3RvcG9sb2d5X21ncl9kZXN0cm95KCZpbnRlbF9kcC0+bXN0X21ncik7
DQo+ID4gPiA+ICAJLyogZW5jb2RlcnMgd2lsbCBnZXQga2lsbGVkIGJ5IG5vcm1hbCBjbGVhbnVw
ICovDQo+ID4gPiA+ICB9DQo+ID4gPiA+ICsNCj4gPiA+ID4gK2VudW0gdHJhbnNjb2Rlcg0KPiA+
ID4gPiAraW50ZWxfZHBfbXN0X21hc3Rlcl90cmFuc19nZXQoc3RydWN0IGludGVsX2VuY29kZXIg
KmVuY29kZXIpDQo+ID4gPiA+ICt7DQo+ID4gPiA+ICsJc3RydWN0IGludGVsX2RwX21zdF9lbmNv
ZGVyICppbnRlbF9tc3QgPQ0KPiA+ID4gPiBlbmNfdG9fbXN0KCZlbmNvZGVyLQ0KPiA+ID4gPiA+
IGJhc2UpOw0KPiA+ID4gPiArCXN0cnVjdCBpbnRlbF9kcCAqaW50ZWxfZHAgPSAmaW50ZWxfbXN0
LT5wcmltYXJ5LT5kcDsNCj4gPiA+ID4gKw0KPiA+ID4gPiArCXJldHVybiBpbnRlbF9kcC0+bXN0
X21hc3Rlcl90cmFuc2NvZGVyOw0KPiA+ID4gPiArfQ0KPiA+ID4gPiBkaWZmIC0tZ2l0IGEvZHJp
dmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kcF9tc3QuaA0KPiA+ID4gPiBiL2RyaXZl
cnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZHBfbXN0LmgNCj4gPiA+ID4gaW5kZXggZjY2
MGFkODBkYjA0Li5lNmYyOGE1MTcxODIgMTAwNjQ0DQo+ID4gPiA+IC0tLSBhL2RyaXZlcnMvZ3B1
L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZHBfbXN0LmgNCj4gPiA+ID4gKysrIGIvZHJpdmVycy9n
cHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kcF9tc3QuaA0KPiA+ID4gPiBAQCAtNyw5ICs3LDEx
IEBADQo+ID4gPiA+ICAjZGVmaW5lIF9fSU5URUxfRFBfTVNUX0hfXw0KPiA+ID4gPiAgDQo+ID4g
PiA+ICBzdHJ1Y3QgaW50ZWxfZGlnaXRhbF9wb3J0Ow0KPiA+ID4gPiArc3RydWN0IGludGVsX2Vu
Y29kZXI7DQo+ID4gPiA+ICANCj4gPiA+ID4gIGludCBpbnRlbF9kcF9tc3RfZW5jb2Rlcl9pbml0
KHN0cnVjdCBpbnRlbF9kaWdpdGFsX3BvcnQNCj4gPiA+ID4gKmludGVsX2RpZ19wb3J0LCBpbnQg
Y29ubl9pZCk7DQo+ID4gPiA+ICB2b2lkIGludGVsX2RwX21zdF9lbmNvZGVyX2NsZWFudXAoc3Ry
dWN0IGludGVsX2RpZ2l0YWxfcG9ydA0KPiA+ID4gPiAqaW50ZWxfZGlnX3BvcnQpOw0KPiA+ID4g
PiAgaW50IGludGVsX2RwX21zdF9lbmNvZGVyX2FjdGl2ZV9saW5rcyhzdHJ1Y3QNCj4gPiA+ID4g
aW50ZWxfZGlnaXRhbF9wb3J0DQo+ID4gPiA+ICppbnRlbF9kaWdfcG9ydCk7DQo+ID4gPiA+ICtl
bnVtIHRyYW5zY29kZXIgaW50ZWxfZHBfbXN0X21hc3Rlcl90cmFuc19nZXQoc3RydWN0DQo+ID4g
PiA+IGludGVsX2VuY29kZXINCj4gPiA+ID4gKmVuY29kZXIpOw0KPiA+ID4gPiAgDQo+ID4gPiA+
ICAjZW5kaWYgLyogX19JTlRFTF9EUF9NU1RfSF9fICovDQo+ID4gPiA+IC0tIA0KPiA+ID4gPiAy
LjI0LjANCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCklu
dGVsLWdmeCBtYWlsaW5nIGxpc3QKSW50ZWwtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRw
czovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2ludGVsLWdmeA==

Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id C20FE7D99D
	for <lists+intel-gfx@lfdr.de>; Thu,  1 Aug 2019 12:46:13 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id CCD546E48D;
	Thu,  1 Aug 2019 10:46:11 +0000 (UTC)
X-Original-To: Intel-gfx@lists.freedesktop.org
Delivered-To: Intel-gfx@lists.freedesktop.org
Received: from mga14.intel.com (mga14.intel.com [192.55.52.115])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 2FF896E48D
 for <Intel-gfx@lists.freedesktop.org>; Thu,  1 Aug 2019 10:46:10 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from fmsmga002.fm.intel.com ([10.253.24.26])
 by fmsmga103.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 01 Aug 2019 03:46:09 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.64,333,1559545200"; d="scan'208";a="201254908"
Received: from irvmail001.ir.intel.com ([163.33.26.43])
 by fmsmga002.fm.intel.com with ESMTP; 01 Aug 2019 03:46:08 -0700
Received: from mwajdecz-mobl1.ger.corp.intel.com
 (mwajdecz-mobl1.ger.corp.intel.com [172.28.174.50])
 by irvmail001.ir.intel.com (8.14.3/8.13.6/MailSET/Hub) with ESMTP id
 x71Ak7wD002045; Thu, 1 Aug 2019 11:46:07 +0100
To: Intel-gfx@lists.freedesktop.org, "Tvrtko Ursulin"
 <tvrtko.ursulin@linux.intel.com>
References: <20190801101825.2784-1-tvrtko.ursulin@linux.intel.com>
 <20190801101825.2784-2-tvrtko.ursulin@linux.intel.com>
Date: Thu, 01 Aug 2019 12:46:06 +0200
MIME-Version: 1.0
From: "Michal Wajdeczko" <michal.wajdeczko@intel.com>
Message-ID: <op.z5uau4hpxaggs7@mwajdecz-mobl1.ger.corp.intel.com>
In-Reply-To: <20190801101825.2784-2-tvrtko.ursulin@linux.intel.com>
User-Agent: Opera Mail/1.0 (Win32)
Subject: Re: [Intel-gfx] [RFC 1/4] drm/i915/pmu: Make more struct i915_pmu
 centric
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"; DelSp="yes"
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

T24gVGh1LCAwMSBBdWcgMjAxOSAxMjoxODoyMiArMDIwMCwgVHZydGtvIFVyc3VsaW4gIAo8dHZy
dGtvLnVyc3VsaW5AbGludXguaW50ZWwuY29tPiB3cm90ZToKCj4gRnJvbTogVHZydGtvIFVyc3Vs
aW4gPHR2cnRrby51cnN1bGluQGludGVsLmNvbT4KPgo+IEp1c3QgdGlkeSB0aGUgY29kZSBhIGJp
dCBieSByZW1vdmluZyBhIHNlYSBvZiBvdmVybHkgdmVyYm9zZSBpOTE1LT5wbXUuKi4KPgo+IFNp
Z25lZC1vZmYtYnk6IFR2cnRrbyBVcnN1bGluIDx0dnJ0a28udXJzdWxpbkBpbnRlbC5jb20+Cj4g
LS0tCj4gIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfcG11LmMgfCAxOTQgKysrKysrKysrKysr
KysrKystLS0tLS0tLS0tLS0tLS0KPiAgMSBmaWxlIGNoYW5nZWQsIDEwNCBpbnNlcnRpb25zKCsp
LCA5MCBkZWxldGlvbnMoLSkKPgo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9p
OTE1X3BtdS5jICAKPiBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfcG11LmMKPiBpbmRleCBl
ZmY4NjQ4M2JlYzAuLjEyMDA4OTY2YjAwZSAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0v
aTkxNS9pOTE1X3BtdS5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9wbXUuYwo+
IEBAIC03NCw4ICs3NCw5IEBAIHN0YXRpYyB1bnNpZ25lZCBpbnQgZXZlbnRfZW5hYmxlZF9iaXQo
c3RydWN0ICAKPiBwZXJmX2V2ZW50ICpldmVudCkKPiAgCXJldHVybiBjb25maWdfZW5hYmxlZF9i
aXQoZXZlbnQtPmF0dHIuY29uZmlnKTsKPiAgfQo+IC1zdGF0aWMgYm9vbCBwbXVfbmVlZHNfdGlt
ZXIoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUsIGJvb2wgIAo+IGdwdV9hY3RpdmUpCj4g
K3N0YXRpYyBib29sIHBtdV9uZWVkc190aW1lcihzdHJ1Y3QgaTkxNV9wbXUgKnBtdSwgYm9vbCBn
cHVfYWN0aXZlKQo+ICB7Cj4gKwlzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSA9IGNvbnRh
aW5lcl9vZihwbXUsIHR5cGVvZigqaTkxNSksIHBtdSk7CgptYXliZSB0aGlzIGNhbiBiZSBwcm9t
b3RlZCB0byBwbXVfdG9faTkxNSgpID8KCj4gIAl1NjQgZW5hYmxlOwo+IAkvKgo+IEBAIC04Myw3
ICs4NCw3IEBAIHN0YXRpYyBib29sIHBtdV9uZWVkc190aW1lcihzdHJ1Y3QgZHJtX2k5MTVfcHJp
dmF0ZSAgCj4gKmk5MTUsIGJvb2wgZ3B1X2FjdGl2ZSkKPiAgCSAqCj4gIAkgKiBXZSBzdGFydCB3
aXRoIGEgYml0bWFzayBvZiBhbGwgY3VycmVudGx5IGVuYWJsZWQgZXZlbnRzLgo+ICAJICovCj4g
LQllbmFibGUgPSBpOTE1LT5wbXUuZW5hYmxlOwo+ICsJZW5hYmxlID0gcG11LT5lbmFibGU7Cj4g
CS8qCj4gIAkgKiBNYXNrIG91dCBhbGwgdGhlIG9uZXMgd2hpY2ggZG8gbm90IG5lZWQgdGhlIHRp
bWVyLCBvciBpbgo+IEBAIC0xMTQsMjQgKzExNSwyNiBAQCBzdGF0aWMgYm9vbCBwbXVfbmVlZHNf
dGltZXIoc3RydWN0ICAKPiBkcm1faTkxNV9wcml2YXRlICppOTE1LCBib29sIGdwdV9hY3RpdmUp
Cj4gdm9pZCBpOTE1X3BtdV9ndF9wYXJrZWQoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUp
Cgp5b3Ugc2hvdWxkIGJlIG1vcmUgY29uc2lzdGVudCBhbmQgY2hhbmdlIHRoaXMgb25lIHRvbwoK
PiAgewo+IC0JaWYgKCFpOTE1LT5wbXUuYmFzZS5ldmVudF9pbml0KQo+ICsJc3RydWN0IGk5MTVf
cG11ICpwbXUgPSAmaTkxNS0+cG11Owo+ICsKPiArCWlmICghcG11LT5iYXNlLmV2ZW50X2luaXQp
Cj4gIAkJcmV0dXJuOwo+IC0Jc3Bpbl9sb2NrX2lycSgmaTkxNS0+cG11LmxvY2spOwo+ICsJc3Bp
bl9sb2NrX2lycSgmcG11LT5sb2NrKTsKPiAgCS8qCj4gIAkgKiBTaWduYWwgc2FtcGxpbmcgdGlt
ZXIgdG8gc3RvcCBpZiBvbmx5IGVuZ2luZSBldmVudHMgYXJlIGVuYWJsZWQgYW5kCj4gIAkgKiBH
UFUgd2VudCBpZGxlLgo+ICAJICovCj4gLQlpOTE1LT5wbXUudGltZXJfZW5hYmxlZCA9IHBtdV9u
ZWVkc190aW1lcihpOTE1LCBmYWxzZSk7Cj4gLQlzcGluX3VubG9ja19pcnEoJmk5MTUtPnBtdS5s
b2NrKTsKPiArCXBtdS0+dGltZXJfZW5hYmxlZCA9IHBtdV9uZWVkc190aW1lcihwbXUsIGZhbHNl
KTsKPiArCXNwaW5fdW5sb2NrX2lycSgmcG11LT5sb2NrKTsKPiAgfQo+IC1zdGF0aWMgdm9pZCBf
X2k5MTVfcG11X21heWJlX3N0YXJ0X3RpbWVyKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICppOTE1
KQo+ICtzdGF0aWMgdm9pZCBfX2k5MTVfcG11X21heWJlX3N0YXJ0X3RpbWVyKHN0cnVjdCBpOTE1
X3BtdSAqcG11KQo+ICB7Cj4gLQlpZiAoIWk5MTUtPnBtdS50aW1lcl9lbmFibGVkICYmIHBtdV9u
ZWVkc190aW1lcihpOTE1LCB0cnVlKSkgewo+IC0JCWk5MTUtPnBtdS50aW1lcl9lbmFibGVkID0g
dHJ1ZTsKPiAtCQlpOTE1LT5wbXUudGltZXJfbGFzdCA9IGt0aW1lX2dldCgpOwo+IC0JCWhydGlt
ZXJfc3RhcnRfcmFuZ2VfbnMoJmk5MTUtPnBtdS50aW1lciwKPiArCWlmICghcG11LT50aW1lcl9l
bmFibGVkICYmIHBtdV9uZWVkc190aW1lcihwbXUsIHRydWUpKSB7Cj4gKwkJcG11LT50aW1lcl9l
bmFibGVkID0gdHJ1ZTsKPiArCQlwbXUtPnRpbWVyX2xhc3QgPSBrdGltZV9nZXQoKTsKPiArCQlo
cnRpbWVyX3N0YXJ0X3JhbmdlX25zKCZwbXUtPnRpbWVyLAo+ICAJCQkJICAgICAgIG5zX3RvX2t0
aW1lKFBFUklPRCksIDAsCj4gIAkJCQkgICAgICAgSFJUSU1FUl9NT0RFX1JFTF9QSU5ORUQpOwo+
ICAJfQo+IEBAIC0xMzksMTUgKzE0MiwxNyBAQCBzdGF0aWMgdm9pZCBfX2k5MTVfcG11X21heWJl
X3N0YXJ0X3RpbWVyKHN0cnVjdCAgCj4gZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSkKPiB2b2lkIGk5
MTVfcG11X2d0X3VucGFya2VkKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICppOTE1KQoKYW5kIGhl
cmUgKGFuZCBldmVuIHNvbWUgbW9yZSBpbiB3aG9sZSAuYyBmaWxlKQoKPiAgewo+IC0JaWYgKCFp
OTE1LT5wbXUuYmFzZS5ldmVudF9pbml0KQo+ICsJc3RydWN0IGk5MTVfcG11ICpwbXUgPSAmaTkx
NS0+cG11Owo+ICsKPiArCWlmICghcG11LT5iYXNlLmV2ZW50X2luaXQpCj4gIAkJcmV0dXJuOwo+
IC0Jc3Bpbl9sb2NrX2lycSgmaTkxNS0+cG11LmxvY2spOwo+ICsJc3Bpbl9sb2NrX2lycSgmcG11
LT5sb2NrKTsKPiAgCS8qCj4gIAkgKiBSZS1lbmFibGUgc2FtcGxpbmcgdGltZXIgd2hlbiBHUFUg
Z29lcyBhY3RpdmUuCj4gIAkgKi8KPiAtCV9faTkxNV9wbXVfbWF5YmVfc3RhcnRfdGltZXIoaTkx
NSk7Cj4gLQlzcGluX3VubG9ja19pcnEoJmk5MTUtPnBtdS5sb2NrKTsKPiArCV9faTkxNV9wbXVf
bWF5YmVfc3RhcnRfdGltZXIocG11KTsKPiArCXNwaW5fdW5sb2NrX2lycSgmcG11LT5sb2NrKTsK
PiAgfQo+IHN0YXRpYyB2b2lkCj4gQEAgLTI1MSwxNSArMjU2LDE2IEBAIHN0YXRpYyBlbnVtIGhy
dGltZXJfcmVzdGFydCBpOTE1X3NhbXBsZShzdHJ1Y3QgIAo+IGhydGltZXIgKmhydGltZXIpCj4g
IHsKPiAgCXN0cnVjdCBkcm1faTkxNV9wcml2YXRlICppOTE1ID0KPiAgCQljb250YWluZXJfb2Yo
aHJ0aW1lciwgc3RydWN0IGRybV9pOTE1X3ByaXZhdGUsIHBtdS50aW1lcik7Cj4gKwlzdHJ1Y3Qg
aTkxNV9wbXUgKnBtdSA9ICZpOTE1LT5wbXU7Cj4gIAl1bnNpZ25lZCBpbnQgcGVyaW9kX25zOwo+
ICAJa3RpbWVfdCBub3c7Cj4gLQlpZiAoIVJFQURfT05DRShpOTE1LT5wbXUudGltZXJfZW5hYmxl
ZCkpCj4gKwlpZiAoIVJFQURfT05DRShwbXUtPnRpbWVyX2VuYWJsZWQpKQo+ICAJCXJldHVybiBI
UlRJTUVSX05PUkVTVEFSVDsKPiAJbm93ID0ga3RpbWVfZ2V0KCk7Cj4gLQlwZXJpb2RfbnMgPSBr
dGltZV90b19ucyhrdGltZV9zdWIobm93LCBpOTE1LT5wbXUudGltZXJfbGFzdCkpOwo+IC0JaTkx
NS0+cG11LnRpbWVyX2xhc3QgPSBub3c7Cj4gKwlwZXJpb2RfbnMgPSBrdGltZV90b19ucyhrdGlt
ZV9zdWIobm93LCBwbXUtPnRpbWVyX2xhc3QpKTsKPiArCXBtdS0+dGltZXJfbGFzdCA9IG5vdzsK
PiAJLyoKPiAgCSAqIFN0cmljdGx5IHNwZWFraW5nIHRoZSBwYXNzZWQgaW4gcGVyaW9kIG1heSBu
b3QgYmUgMTAwJSBhY2N1cmF0ZSBmb3IKPiBAQCAtNDQzLDYgKzQ0OSw3IEBAIHN0YXRpYyB1NjQg
Z2V0X3JjNihzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSkKCnRoaXMgY2FuIGFsc28gdGFr
ZSAqcG11IGluc3RlYWQgb2YgKmk5MTUKCj4gIHsKPiAgI2lmIElTX0VOQUJMRUQoQ09ORklHX1BN
KQo+ICAJc3RydWN0IGludGVsX3J1bnRpbWVfcG0gKnJwbSA9ICZpOTE1LT5ydW50aW1lX3BtOwo+
ICsJc3RydWN0IGk5MTVfcG11ICpwbXUgPSAmaTkxNS0+cG11Owo+ICAJaW50ZWxfd2FrZXJlZl90
IHdha2VyZWY7Cj4gIAl1bnNpZ25lZCBsb25nIGZsYWdzOwo+ICAJdTY0IHZhbDsKPiBAQCAtNDU4
LDE2ICs0NjUsMTYgQEAgc3RhdGljIHU2NCBnZXRfcmM2KHN0cnVjdCBkcm1faTkxNV9wcml2YXRl
ICppOTE1KQo+ICAJCSAqIHByZXZpb3VzbHkuCj4gIAkJICovCj4gLQkJc3Bpbl9sb2NrX2lycXNh
dmUoJmk5MTUtPnBtdS5sb2NrLCBmbGFncyk7Cj4gKwkJc3Bpbl9sb2NrX2lycXNhdmUoJnBtdS0+
bG9jaywgZmxhZ3MpOwo+IC0JCWlmICh2YWwgPj0gaTkxNS0+cG11LnNhbXBsZVtfX0k5MTVfU0FN
UExFX1JDNl9FU1RJTUFURURdLmN1cikgewo+IC0JCQlpOTE1LT5wbXUuc2FtcGxlW19fSTkxNV9T
QU1QTEVfUkM2X0VTVElNQVRFRF0uY3VyID0gMDsKPiAtCQkJaTkxNS0+cG11LnNhbXBsZVtfX0k5
MTVfU0FNUExFX1JDNl0uY3VyID0gdmFsOwo+ICsJCWlmICh2YWwgPj0gcG11LT5zYW1wbGVbX19J
OTE1X1NBTVBMRV9SQzZfRVNUSU1BVEVEXS5jdXIpIHsKPiArCQkJcG11LT5zYW1wbGVbX19JOTE1
X1NBTVBMRV9SQzZfRVNUSU1BVEVEXS5jdXIgPSAwOwo+ICsJCQlwbXUtPnNhbXBsZVtfX0k5MTVf
U0FNUExFX1JDNl0uY3VyID0gdmFsOwo+ICAJCX0gZWxzZSB7Cj4gLQkJCXZhbCA9IGk5MTUtPnBt
dS5zYW1wbGVbX19JOTE1X1NBTVBMRV9SQzZfRVNUSU1BVEVEXS5jdXI7Cj4gKwkJCXZhbCA9IHBt
dS0+c2FtcGxlW19fSTkxNV9TQU1QTEVfUkM2X0VTVElNQVRFRF0uY3VyOwo+ICAJCX0KPiAtCQlz
cGluX3VubG9ja19pcnFyZXN0b3JlKCZpOTE1LT5wbXUubG9jaywgZmxhZ3MpOwo+ICsJCXNwaW5f
dW5sb2NrX2lycXJlc3RvcmUoJnBtdS0+bG9jaywgZmxhZ3MpOwo+ICAJfSBlbHNlIHsKPiAgCQlz
dHJ1Y3QgZGV2aWNlICprZGV2ID0gcnBtLT5rZGV2Owo+IEBAIC00NzgsNyArNDg1LDcgQEAgc3Rh
dGljIHU2NCBnZXRfcmM2KHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICppOTE1KQo+ICAJCSAqIG9u
IHRvcCBvZiB0aGUgbGFzdCBrbm93biByZWFsIHZhbHVlLCBhcyB0aGUgYXBwcm94aW1hdGVkIFJD
Ngo+ICAJCSAqIGNvdW50ZXIgdmFsdWUuCj4gIAkJICovCj4gLQkJc3Bpbl9sb2NrX2lycXNhdmUo
Jmk5MTUtPnBtdS5sb2NrLCBmbGFncyk7Cj4gKwkJc3Bpbl9sb2NrX2lycXNhdmUoJnBtdS0+bG9j
aywgZmxhZ3MpOwo+IAkJLyoKPiAgCQkgKiBBZnRlciB0aGUgYWJvdmUgYnJhbmNoIGludGVsX3J1
bnRpbWVfcG1fZ2V0X2lmX2luX3VzZSBmYWlsZWQKPiBAQCAtNDk0LDIwICs1MDEsMjAgQEAgc3Rh
dGljIHU2NCBnZXRfcmM2KHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICppOTE1KQo+ICAJCWlmIChw
bV9ydW50aW1lX3N0YXR1c19zdXNwZW5kZWQoa2RldikpIHsKPiAgCQkJdmFsID0gcG1fcnVudGlt
ZV9zdXNwZW5kZWRfdGltZShrZGV2KTsKPiAtCQkJaWYgKCFpOTE1LT5wbXUuc2FtcGxlW19fSTkx
NV9TQU1QTEVfUkM2X0VTVElNQVRFRF0uY3VyKQo+IC0JCQkJaTkxNS0+cG11LnN1c3BlbmRlZF90
aW1lX2xhc3QgPSB2YWw7Cj4gKwkJCWlmICghcG11LT5zYW1wbGVbX19JOTE1X1NBTVBMRV9SQzZf
RVNUSU1BVEVEXS5jdXIpCj4gKwkJCQlwbXUtPnN1c3BlbmRlZF90aW1lX2xhc3QgPSB2YWw7Cj4g
LQkJCXZhbCAtPSBpOTE1LT5wbXUuc3VzcGVuZGVkX3RpbWVfbGFzdDsKPiAtCQkJdmFsICs9IGk5
MTUtPnBtdS5zYW1wbGVbX19JOTE1X1NBTVBMRV9SQzZdLmN1cjsKPiArCQkJdmFsIC09IHBtdS0+
c3VzcGVuZGVkX3RpbWVfbGFzdDsKPiArCQkJdmFsICs9IHBtdS0+c2FtcGxlW19fSTkxNV9TQU1Q
TEVfUkM2XS5jdXI7Cj4gLQkJCWk5MTUtPnBtdS5zYW1wbGVbX19JOTE1X1NBTVBMRV9SQzZfRVNU
SU1BVEVEXS5jdXIgPSB2YWw7Cj4gLQkJfSBlbHNlIGlmIChpOTE1LT5wbXUuc2FtcGxlW19fSTkx
NV9TQU1QTEVfUkM2X0VTVElNQVRFRF0uY3VyKSB7Cj4gLQkJCXZhbCA9IGk5MTUtPnBtdS5zYW1w
bGVbX19JOTE1X1NBTVBMRV9SQzZfRVNUSU1BVEVEXS5jdXI7Cj4gKwkJCXBtdS0+c2FtcGxlW19f
STkxNV9TQU1QTEVfUkM2X0VTVElNQVRFRF0uY3VyID0gdmFsOwo+ICsJCX0gZWxzZSBpZiAocG11
LT5zYW1wbGVbX19JOTE1X1NBTVBMRV9SQzZfRVNUSU1BVEVEXS5jdXIpIHsKPiArCQkJdmFsID0g
cG11LT5zYW1wbGVbX19JOTE1X1NBTVBMRV9SQzZfRVNUSU1BVEVEXS5jdXI7Cj4gIAkJfSBlbHNl
IHsKPiAtCQkJdmFsID0gaTkxNS0+cG11LnNhbXBsZVtfX0k5MTVfU0FNUExFX1JDNl0uY3VyOwo+
ICsJCQl2YWwgPSBwbXUtPnNhbXBsZVtfX0k5MTVfU0FNUExFX1JDNl0uY3VyOwo+ICAJCX0KPiAt
CQlzcGluX3VubG9ja19pcnFyZXN0b3JlKCZpOTE1LT5wbXUubG9jaywgZmxhZ3MpOwo+ICsJCXNw
aW5fdW5sb2NrX2lycXJlc3RvcmUoJnBtdS0+bG9jaywgZmxhZ3MpOwo+ICAJfQo+IAlyZXR1cm4g
dmFsOwo+IEBAIC01MjAsNiArNTI3LDcgQEAgc3RhdGljIHU2NCBfX2k5MTVfcG11X2V2ZW50X3Jl
YWQoc3RydWN0IHBlcmZfZXZlbnQgIAo+ICpldmVudCkKPiAgewo+ICAJc3RydWN0IGRybV9pOTE1
X3ByaXZhdGUgKmk5MTUgPQo+ICAJCWNvbnRhaW5lcl9vZihldmVudC0+cG11LCB0eXBlb2YoKmk5
MTUpLCBwbXUuYmFzZSk7Cj4gKwlzdHJ1Y3QgaTkxNV9wbXUgKnBtdSA9ICZpOTE1LT5wbXU7Cj4g
IAl1NjQgdmFsID0gMDsKPiAJaWYgKGlzX2VuZ2luZV9ldmVudChldmVudCkpIHsKPiBAQCAtNTQy
LDEyICs1NTAsMTIgQEAgc3RhdGljIHU2NCBfX2k5MTVfcG11X2V2ZW50X3JlYWQoc3RydWN0IHBl
cmZfZXZlbnQgIAo+ICpldmVudCkKPiAgCQlzd2l0Y2ggKGV2ZW50LT5hdHRyLmNvbmZpZykgewo+
ICAJCWNhc2UgSTkxNV9QTVVfQUNUVUFMX0ZSRVFVRU5DWToKPiAgCQkJdmFsID0KPiAtCQkJICAg
ZGl2X3U2NChpOTE1LT5wbXUuc2FtcGxlW19fSTkxNV9TQU1QTEVfRlJFUV9BQ1RdLmN1ciwKPiAr
CQkJICAgZGl2X3U2NChwbXUtPnNhbXBsZVtfX0k5MTVfU0FNUExFX0ZSRVFfQUNUXS5jdXIsCj4g
IAkJCQkgICBVU0VDX1BFUl9TRUMgLyogdG8gTUh6ICovKTsKPiAgCQkJYnJlYWs7Cj4gIAkJY2Fz
ZSBJOTE1X1BNVV9SRVFVRVNURURfRlJFUVVFTkNZOgo+ICAJCQl2YWwgPQo+IC0JCQkgICBkaXZf
dTY0KGk5MTUtPnBtdS5zYW1wbGVbX19JOTE1X1NBTVBMRV9GUkVRX1JFUV0uY3VyLAo+ICsJCQkg
ICBkaXZfdTY0KHBtdS0+c2FtcGxlW19fSTkxNV9TQU1QTEVfRlJFUV9SRVFdLmN1ciwKPiAgCQkJ
CSAgIFVTRUNfUEVSX1NFQyAvKiB0byBNSHogKi8pOwo+ICAJCQlicmVhazsKPiAgCQljYXNlIEk5
MTVfUE1VX0lOVEVSUlVQVFM6Cj4gQEAgLTU4MiwyNCArNTkwLDI1IEBAIHN0YXRpYyB2b2lkIGk5
MTVfcG11X2VuYWJsZShzdHJ1Y3QgcGVyZl9ldmVudCAgCj4gKmV2ZW50KQo+ICAJc3RydWN0IGRy
bV9pOTE1X3ByaXZhdGUgKmk5MTUgPQo+ICAJCWNvbnRhaW5lcl9vZihldmVudC0+cG11LCB0eXBl
b2YoKmk5MTUpLCBwbXUuYmFzZSk7Cj4gIAl1bnNpZ25lZCBpbnQgYml0ID0gZXZlbnRfZW5hYmxl
ZF9iaXQoZXZlbnQpOwo+ICsJc3RydWN0IGk5MTVfcG11ICpwbXUgPSAmaTkxNS0+cG11Owo+ICAJ
dW5zaWduZWQgbG9uZyBmbGFnczsKPiAtCXNwaW5fbG9ja19pcnFzYXZlKCZpOTE1LT5wbXUubG9j
aywgZmxhZ3MpOwo+ICsJc3Bpbl9sb2NrX2lycXNhdmUoJnBtdS0+bG9jaywgZmxhZ3MpOwo+IAkv
Kgo+ICAJICogVXBkYXRlIHRoZSBiaXRtYXNrIG9mIGVuYWJsZWQgZXZlbnRzIGFuZCBpbmNyZW1l
bnQKPiAgCSAqIHRoZSBldmVudCByZWZlcmVuY2UgY291bnRlci4KPiAgCSAqLwo+IC0JQlVJTERf
QlVHX09OKEFSUkFZX1NJWkUoaTkxNS0+cG11LmVuYWJsZV9jb3VudCkgIT0gSTkxNV9QTVVfTUFT
S19CSVRTKTsKPiAtCUdFTV9CVUdfT04oYml0ID49IEFSUkFZX1NJWkUoaTkxNS0+cG11LmVuYWJs
ZV9jb3VudCkpOwo+IC0JR0VNX0JVR19PTihpOTE1LT5wbXUuZW5hYmxlX2NvdW50W2JpdF0gPT0g
fjApOwo+IC0JaTkxNS0+cG11LmVuYWJsZSB8PSBCSVRfVUxMKGJpdCk7Cj4gLQlpOTE1LT5wbXUu
ZW5hYmxlX2NvdW50W2JpdF0rKzsKPiArCUJVSUxEX0JVR19PTihBUlJBWV9TSVpFKHBtdS0+ZW5h
YmxlX2NvdW50KSAhPSBJOTE1X1BNVV9NQVNLX0JJVFMpOwo+ICsJR0VNX0JVR19PTihiaXQgPj0g
QVJSQVlfU0laRShwbXUtPmVuYWJsZV9jb3VudCkpOwo+ICsJR0VNX0JVR19PTihwbXUtPmVuYWJs
ZV9jb3VudFtiaXRdID09IH4wKTsKPiArCXBtdS0+ZW5hYmxlIHw9IEJJVF9VTEwoYml0KTsKPiAr
CXBtdS0+ZW5hYmxlX2NvdW50W2JpdF0rKzsKPiAJLyoKPiAgCSAqIFN0YXJ0IHRoZSBzYW1wbGlu
ZyB0aW1lciBpZiBuZWVkZWQgYW5kIG5vdCBhbHJlYWR5IGVuYWJsZWQuCj4gIAkgKi8KPiAtCV9f
aTkxNV9wbXVfbWF5YmVfc3RhcnRfdGltZXIoaTkxNSk7Cj4gKwlfX2k5MTVfcG11X21heWJlX3N0
YXJ0X3RpbWVyKHBtdSk7Cj4gCS8qCj4gIAkgKiBGb3IgcGVyLWVuZ2luZSBldmVudHMgdGhlIGJp
dG1hc2sgYW5kIHJlZmVyZW5jZSBjb3VudGluZwo+IEBAIC02MjUsNyArNjM0LDcgQEAgc3RhdGlj
IHZvaWQgaTkxNV9wbXVfZW5hYmxlKHN0cnVjdCBwZXJmX2V2ZW50ICpldmVudCkKPiAgCQllbmdp
bmUtPnBtdS5lbmFibGVfY291bnRbc2FtcGxlXSsrOwo+ICAJfQo+IC0Jc3Bpbl91bmxvY2tfaXJx
cmVzdG9yZSgmaTkxNS0+cG11LmxvY2ssIGZsYWdzKTsKPiArCXNwaW5fdW5sb2NrX2lycXJlc3Rv
cmUoJnBtdS0+bG9jaywgZmxhZ3MpOwo+IAkvKgo+ICAJICogU3RvcmUgdGhlIGN1cnJlbnQgY291
bnRlciB2YWx1ZSBzbyB3ZSBjYW4gcmVwb3J0IHRoZSBjb3JyZWN0IGRlbHRhCj4gQEAgLTY0MCw5
ICs2NDksMTAgQEAgc3RhdGljIHZvaWQgaTkxNV9wbXVfZGlzYWJsZShzdHJ1Y3QgcGVyZl9ldmVu
dCAgCj4gKmV2ZW50KQo+ICAJc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUgPQo+ICAJCWNv
bnRhaW5lcl9vZihldmVudC0+cG11LCB0eXBlb2YoKmk5MTUpLCBwbXUuYmFzZSk7Cj4gIAl1bnNp
Z25lZCBpbnQgYml0ID0gZXZlbnRfZW5hYmxlZF9iaXQoZXZlbnQpOwo+ICsJc3RydWN0IGk5MTVf
cG11ICpwbXUgPSAmaTkxNS0+cG11Owo+ICAJdW5zaWduZWQgbG9uZyBmbGFnczsKPiAtCXNwaW5f
bG9ja19pcnFzYXZlKCZpOTE1LT5wbXUubG9jaywgZmxhZ3MpOwo+ICsJc3Bpbl9sb2NrX2lycXNh
dmUoJnBtdS0+bG9jaywgZmxhZ3MpOwo+IAlpZiAoaXNfZW5naW5lX2V2ZW50KGV2ZW50KSkgewo+
ICAJCXU4IHNhbXBsZSA9IGVuZ2luZV9ldmVudF9zYW1wbGUoZXZlbnQpOwo+IEBAIC02NjQsMTgg
KzY3NCwxOCBAQCBzdGF0aWMgdm9pZCBpOTE1X3BtdV9kaXNhYmxlKHN0cnVjdCBwZXJmX2V2ZW50
ICAKPiAqZXZlbnQpCj4gIAkJCWVuZ2luZS0+cG11LmVuYWJsZSAmPSB+QklUKHNhbXBsZSk7Cj4g
IAl9Cj4gLQlHRU1fQlVHX09OKGJpdCA+PSBBUlJBWV9TSVpFKGk5MTUtPnBtdS5lbmFibGVfY291
bnQpKTsKPiAtCUdFTV9CVUdfT04oaTkxNS0+cG11LmVuYWJsZV9jb3VudFtiaXRdID09IDApOwo+
ICsJR0VNX0JVR19PTihiaXQgPj0gQVJSQVlfU0laRShwbXUtPmVuYWJsZV9jb3VudCkpOwo+ICsJ
R0VNX0JVR19PTihwbXUtPmVuYWJsZV9jb3VudFtiaXRdID09IDApOwo+ICAJLyoKPiAgCSAqIERl
Y3JlbWVudCB0aGUgcmVmZXJlbmNlIGNvdW50IGFuZCBjbGVhciB0aGUgZW5hYmxlZAo+ICAJICog
Yml0bWFzayB3aGVuIHRoZSBsYXN0IGxpc3RlbmVyIG9uIGFuIGV2ZW50IGdvZXMgYXdheS4KPiAg
CSAqLwo+IC0JaWYgKC0taTkxNS0+cG11LmVuYWJsZV9jb3VudFtiaXRdID09IDApIHsKPiAtCQlp
OTE1LT5wbXUuZW5hYmxlICY9IH5CSVRfVUxMKGJpdCk7Cj4gLQkJaTkxNS0+cG11LnRpbWVyX2Vu
YWJsZWQgJj0gcG11X25lZWRzX3RpbWVyKGk5MTUsIHRydWUpOwo+ICsJaWYgKC0tcG11LT5lbmFi
bGVfY291bnRbYml0XSA9PSAwKSB7Cj4gKwkJcG11LT5lbmFibGUgJj0gfkJJVF9VTEwoYml0KTsK
PiArCQlwbXUtPnRpbWVyX2VuYWJsZWQgJj0gcG11X25lZWRzX3RpbWVyKHBtdSwgdHJ1ZSk7Cj4g
IAl9Cj4gLQlzcGluX3VubG9ja19pcnFyZXN0b3JlKCZpOTE1LT5wbXUubG9jaywgZmxhZ3MpOwo+
ICsJc3Bpbl91bmxvY2tfaXJxcmVzdG9yZSgmcG11LT5sb2NrLCBmbGFncyk7Cj4gIH0KPiBzdGF0
aWMgdm9pZCBpOTE1X3BtdV9ldmVudF9zdGFydChzdHJ1Y3QgcGVyZl9ldmVudCAqZXZlbnQsIGlu
dCBmbGFncykKPiBAQCAtODI0LDggKzgzNCw5IEBAIGFkZF9wbXVfYXR0cihzdHJ1Y3QgcGVyZl9w
bXVfZXZlbnRzX2F0dHIgKmF0dHIsICAKPiBjb25zdCBjaGFyICpuYW1lLAo+ICB9Cj4gc3RhdGlj
IHN0cnVjdCBhdHRyaWJ1dGUgKioKPiAtY3JlYXRlX2V2ZW50X2F0dHJpYnV0ZXMoc3RydWN0IGRy
bV9pOTE1X3ByaXZhdGUgKmk5MTUpCj4gK2NyZWF0ZV9ldmVudF9hdHRyaWJ1dGVzKHN0cnVjdCBp
OTE1X3BtdSAqcG11KQo+ICB7Cj4gKwlzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSA9IGNv
bnRhaW5lcl9vZihwbXUsIHR5cGVvZigqaTkxNSksIHBtdSk7Cj4gIAlzdGF0aWMgY29uc3Qgc3Ry
dWN0IHsKPiAgCQl1NjQgY29uZmlnOwo+ICAJCWNvbnN0IGNoYXIgKm5hbWU7Cj4gQEAgLTkzOSw4
ICs5NTAsOCBAQCBjcmVhdGVfZXZlbnRfYXR0cmlidXRlcyhzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0
ZSAgCj4gKmk5MTUpCj4gIAkJfQo+ICAJfQo+IC0JaTkxNS0+cG11Lmk5MTVfYXR0ciA9IGk5MTVf
YXR0cjsKPiAtCWk5MTUtPnBtdS5wbXVfYXR0ciA9IHBtdV9hdHRyOwo+ICsJcG11LT5pOTE1X2F0
dHIgPSBpOTE1X2F0dHI7Cj4gKwlwbXUtPnBtdV9hdHRyID0gcG11X2F0dHI7Cj4gCXJldHVybiBh
dHRyOwo+IEBAIC05NTYsNyArOTY3LDcgQEAgZXJyOjsKPiAgCXJldHVybiBOVUxMOwo+ICB9Cj4g
LXN0YXRpYyB2b2lkIGZyZWVfZXZlbnRfYXR0cmlidXRlcyhzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0
ZSAqaTkxNSkKPiArc3RhdGljIHZvaWQgZnJlZV9ldmVudF9hdHRyaWJ1dGVzKHN0cnVjdCBpOTE1
X3BtdSAqcG11KQo+ICB7Cj4gIAlzdHJ1Y3QgYXR0cmlidXRlICoqYXR0cl9pdGVyID0gaTkxNV9w
bXVfZXZlbnRzX2F0dHJfZ3JvdXAuYXR0cnM7Cj4gQEAgLTk2NCwxMiArOTc1LDEyIEBAIHN0YXRp
YyB2b2lkIGZyZWVfZXZlbnRfYXR0cmlidXRlcyhzdHJ1Y3QgIAo+IGRybV9pOTE1X3ByaXZhdGUg
Kmk5MTUpCj4gIAkJa2ZyZWUoKCphdHRyX2l0ZXIpLT5uYW1lKTsKPiAJa2ZyZWUoaTkxNV9wbXVf
ZXZlbnRzX2F0dHJfZ3JvdXAuYXR0cnMpOwo+IC0Ja2ZyZWUoaTkxNS0+cG11Lmk5MTVfYXR0cik7
Cj4gLQlrZnJlZShpOTE1LT5wbXUucG11X2F0dHIpOwo+ICsJa2ZyZWUocG11LT5pOTE1X2F0dHIp
Owo+ICsJa2ZyZWUocG11LT5wbXVfYXR0cik7Cj4gCWk5MTVfcG11X2V2ZW50c19hdHRyX2dyb3Vw
LmF0dHJzID0gTlVMTDsKPiAtCWk5MTUtPnBtdS5pOTE1X2F0dHIgPSBOVUxMOwo+IC0JaTkxNS0+
cG11LnBtdV9hdHRyID0gTlVMTDsKPiArCXBtdS0+aTkxNV9hdHRyID0gTlVMTDsKPiArCXBtdS0+
cG11X2F0dHIgPSBOVUxMOwo+ICB9Cj4gc3RhdGljIGludCBpOTE1X3BtdV9jcHVfb25saW5lKHVu
c2lnbmVkIGludCBjcHUsIHN0cnVjdCBobGlzdF9ub2RlICpub2RlKQo+IEBAIC0xMDA2LDcgKzEw
MTcsNyBAQCBzdGF0aWMgaW50IGk5MTVfcG11X2NwdV9vZmZsaW5lKHVuc2lnbmVkIGludCBjcHUs
ICAKPiBzdHJ1Y3QgaGxpc3Rfbm9kZSAqbm9kZSkKPiBzdGF0aWMgZW51bSBjcHVocF9zdGF0ZSBj
cHVocF9zbG90ID0gQ1BVSFBfSU5WQUxJRDsKPiAtc3RhdGljIGludCBpOTE1X3BtdV9yZWdpc3Rl
cl9jcHVocF9zdGF0ZShzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSkKPiArc3RhdGljIGlu
dCBpOTE1X3BtdV9yZWdpc3Rlcl9jcHVocF9zdGF0ZShzdHJ1Y3QgaTkxNV9wbXUgKnBtdSkKPiAg
ewo+ICAJZW51bSBjcHVocF9zdGF0ZSBzbG90Owo+ICAJaW50IHJldDsKPiBAQCAtMTAxOSw3ICsx
MDMwLDcgQEAgc3RhdGljIGludCBpOTE1X3BtdV9yZWdpc3Rlcl9jcHVocF9zdGF0ZShzdHJ1Y3Qg
IAo+IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUpCj4gIAkJcmV0dXJuIHJldDsKPiAJc2xvdCA9IHJl
dDsKPiAtCXJldCA9IGNwdWhwX3N0YXRlX2FkZF9pbnN0YW5jZShzbG90LCAmaTkxNS0+cG11Lm5v
ZGUpOwo+ICsJcmV0ID0gY3B1aHBfc3RhdGVfYWRkX2luc3RhbmNlKHNsb3QsICZwbXUtPm5vZGUp
Owo+ICAJaWYgKHJldCkgewo+ICAJCWNwdWhwX3JlbW92ZV9tdWx0aV9zdGF0ZShzbG90KTsKPiAg
CQlyZXR1cm4gcmV0Owo+IEBAIC0xMDI5LDE1ICsxMDQwLDE2IEBAIHN0YXRpYyBpbnQgaTkxNV9w
bXVfcmVnaXN0ZXJfY3B1aHBfc3RhdGUoc3RydWN0ICAKPiBkcm1faTkxNV9wcml2YXRlICppOTE1
KQo+ICAJcmV0dXJuIDA7Cj4gIH0KPiAtc3RhdGljIHZvaWQgaTkxNV9wbXVfdW5yZWdpc3Rlcl9j
cHVocF9zdGF0ZShzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAgCj4gKmk5MTUpCj4gK3N0YXRpYyB2
b2lkIGk5MTVfcG11X3VucmVnaXN0ZXJfY3B1aHBfc3RhdGUoc3RydWN0IGk5MTVfcG11ICpwbXUp
Cj4gIHsKPiAgCVdBUk5fT04oY3B1aHBfc2xvdCA9PSBDUFVIUF9JTlZBTElEKTsKPiAtCVdBUk5f
T04oY3B1aHBfc3RhdGVfcmVtb3ZlX2luc3RhbmNlKGNwdWhwX3Nsb3QsICZpOTE1LT5wbXUubm9k
ZSkpOwo+ICsJV0FSTl9PTihjcHVocF9zdGF0ZV9yZW1vdmVfaW5zdGFuY2UoY3B1aHBfc2xvdCwg
JnBtdS0+bm9kZSkpOwo+ICAJY3B1aHBfcmVtb3ZlX211bHRpX3N0YXRlKGNwdWhwX3Nsb3QpOwo+
ICB9Cj4gdm9pZCBpOTE1X3BtdV9yZWdpc3RlcihzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkx
NSkKCmFnYWluCgo+ICB7Cj4gKwlzdHJ1Y3QgaTkxNV9wbXUgKnBtdSA9ICZpOTE1LT5wbXU7Cj4g
IAlpbnQgcmV0Owo+IAlpZiAoSU5URUxfR0VOKGk5MTUpIDw9IDIpIHsKPiBAQCAtMTA0NSw1NiAr
MTA1Nyw1OCBAQCB2b2lkIGk5MTVfcG11X3JlZ2lzdGVyKHN0cnVjdCBkcm1faTkxNV9wcml2YXRl
ICAKPiAqaTkxNSkKPiAgCQlyZXR1cm47Cj4gIAl9Cj4gLQlpOTE1X3BtdV9ldmVudHNfYXR0cl9n
cm91cC5hdHRycyA9IGNyZWF0ZV9ldmVudF9hdHRyaWJ1dGVzKGk5MTUpOwo+ICsJaTkxNV9wbXVf
ZXZlbnRzX2F0dHJfZ3JvdXAuYXR0cnMgPSBjcmVhdGVfZXZlbnRfYXR0cmlidXRlcyhwbXUpOwo+
ICAJaWYgKCFpOTE1X3BtdV9ldmVudHNfYXR0cl9ncm91cC5hdHRycykgewo+ICAJCXJldCA9IC1F
Tk9NRU07Cj4gIAkJZ290byBlcnI7Cj4gIAl9Cj4gLQlpOTE1LT5wbXUuYmFzZS5hdHRyX2dyb3Vw
cwk9IGk5MTVfcG11X2F0dHJfZ3JvdXBzOwo+IC0JaTkxNS0+cG11LmJhc2UudGFza19jdHhfbnIJ
PSBwZXJmX2ludmFsaWRfY29udGV4dDsKPiAtCWk5MTUtPnBtdS5iYXNlLmV2ZW50X2luaXQJPSBp
OTE1X3BtdV9ldmVudF9pbml0Owo+IC0JaTkxNS0+cG11LmJhc2UuYWRkCQk9IGk5MTVfcG11X2V2
ZW50X2FkZDsKPiAtCWk5MTUtPnBtdS5iYXNlLmRlbAkJPSBpOTE1X3BtdV9ldmVudF9kZWw7Cj4g
LQlpOTE1LT5wbXUuYmFzZS5zdGFydAkJPSBpOTE1X3BtdV9ldmVudF9zdGFydDsKPiAtCWk5MTUt
PnBtdS5iYXNlLnN0b3AJCT0gaTkxNV9wbXVfZXZlbnRfc3RvcDsKPiAtCWk5MTUtPnBtdS5iYXNl
LnJlYWQJCT0gaTkxNV9wbXVfZXZlbnRfcmVhZDsKPiAtCWk5MTUtPnBtdS5iYXNlLmV2ZW50X2lk
eAk9IGk5MTVfcG11X2V2ZW50X2V2ZW50X2lkeDsKPiAtCj4gLQlzcGluX2xvY2tfaW5pdCgmaTkx
NS0+cG11LmxvY2spOwo+IC0JaHJ0aW1lcl9pbml0KCZpOTE1LT5wbXUudGltZXIsIENMT0NLX01P
Tk9UT05JQywgSFJUSU1FUl9NT0RFX1JFTCk7Cj4gLQlpOTE1LT5wbXUudGltZXIuZnVuY3Rpb24g
PSBpOTE1X3NhbXBsZTsKPiAtCj4gLQlyZXQgPSBwZXJmX3BtdV9yZWdpc3RlcigmaTkxNS0+cG11
LmJhc2UsICJpOTE1IiwgLTEpOwo+ICsJcG11LT5iYXNlLmF0dHJfZ3JvdXBzCT0gaTkxNV9wbXVf
YXR0cl9ncm91cHM7Cj4gKwlwbXUtPmJhc2UudGFza19jdHhfbnIJPSBwZXJmX2ludmFsaWRfY29u
dGV4dDsKPiArCXBtdS0+YmFzZS5ldmVudF9pbml0CT0gaTkxNV9wbXVfZXZlbnRfaW5pdDsKPiAr
CXBtdS0+YmFzZS5hZGQJCT0gaTkxNV9wbXVfZXZlbnRfYWRkOwo+ICsJcG11LT5iYXNlLmRlbAkJ
PSBpOTE1X3BtdV9ldmVudF9kZWw7Cj4gKwlwbXUtPmJhc2Uuc3RhcnQJCT0gaTkxNV9wbXVfZXZl
bnRfc3RhcnQ7Cj4gKwlwbXUtPmJhc2Uuc3RvcAkJPSBpOTE1X3BtdV9ldmVudF9zdG9wOwo+ICsJ
cG11LT5iYXNlLnJlYWQJCT0gaTkxNV9wbXVfZXZlbnRfcmVhZDsKPiArCXBtdS0+YmFzZS5ldmVu
dF9pZHgJPSBpOTE1X3BtdV9ldmVudF9ldmVudF9pZHg7Cj4gKwo+ICsJc3Bpbl9sb2NrX2luaXQo
JnBtdS0+bG9jayk7Cj4gKwlocnRpbWVyX2luaXQoJnBtdS0+dGltZXIsIENMT0NLX01PTk9UT05J
QywgSFJUSU1FUl9NT0RFX1JFTCk7Cj4gKwlwbXUtPnRpbWVyLmZ1bmN0aW9uID0gaTkxNV9zYW1w
bGU7Cj4gKwo+ICsJcmV0ID0gcGVyZl9wbXVfcmVnaXN0ZXIoJnBtdS0+YmFzZSwgImk5MTUiLCAt
MSk7Cj4gIAlpZiAocmV0KQo+ICAJCWdvdG8gZXJyOwo+IC0JcmV0ID0gaTkxNV9wbXVfcmVnaXN0
ZXJfY3B1aHBfc3RhdGUoaTkxNSk7Cj4gKwlyZXQgPSBpOTE1X3BtdV9yZWdpc3Rlcl9jcHVocF9z
dGF0ZShwbXUpOwo+ICAJaWYgKHJldCkKPiAgCQlnb3RvIGVycl91bnJlZzsKPiAJcmV0dXJuOwo+
IGVycl91bnJlZzoKPiAtCXBlcmZfcG11X3VucmVnaXN0ZXIoJmk5MTUtPnBtdS5iYXNlKTsKPiAr
CXBlcmZfcG11X3VucmVnaXN0ZXIoJnBtdS0+YmFzZSk7Cj4gIGVycjoKPiAtCWk5MTUtPnBtdS5i
YXNlLmV2ZW50X2luaXQgPSBOVUxMOwo+IC0JZnJlZV9ldmVudF9hdHRyaWJ1dGVzKGk5MTUpOwo+
ICsJcG11LT5iYXNlLmV2ZW50X2luaXQgPSBOVUxMOwo+ICsJZnJlZV9ldmVudF9hdHRyaWJ1dGVz
KHBtdSk7Cj4gIAlEUk1fTk9URSgiRmFpbGVkIHRvIHJlZ2lzdGVyIFBNVSEgKGVycj0lZClcbiIs
IHJldCk7Cj4gIH0KPiB2b2lkIGk5MTVfcG11X3VucmVnaXN0ZXIoc3RydWN0IGRybV9pOTE1X3By
aXZhdGUgKmk5MTUpCgphbmQgYWdhaW4KCj4gIHsKPiAtCWlmICghaTkxNS0+cG11LmJhc2UuZXZl
bnRfaW5pdCkKPiArCXN0cnVjdCBpOTE1X3BtdSAqcG11ID0gJmk5MTUtPnBtdTsKPiArCj4gKwlp
ZiAoIXBtdS0+YmFzZS5ldmVudF9pbml0KQo+ICAJCXJldHVybjsKPiAtCVdBUk5fT04oaTkxNS0+
cG11LmVuYWJsZSk7Cj4gKwlXQVJOX09OKHBtdS0+ZW5hYmxlKTsKPiAtCWhydGltZXJfY2FuY2Vs
KCZpOTE1LT5wbXUudGltZXIpOwo+ICsJaHJ0aW1lcl9jYW5jZWwoJnBtdS0+dGltZXIpOwo+IC0J
aTkxNV9wbXVfdW5yZWdpc3Rlcl9jcHVocF9zdGF0ZShpOTE1KTsKPiArCWk5MTVfcG11X3VucmVn
aXN0ZXJfY3B1aHBfc3RhdGUocG11KTsKPiAtCXBlcmZfcG11X3VucmVnaXN0ZXIoJmk5MTUtPnBt
dS5iYXNlKTsKPiAtCWk5MTUtPnBtdS5iYXNlLmV2ZW50X2luaXQgPSBOVUxMOwo+IC0JZnJlZV9l
dmVudF9hdHRyaWJ1dGVzKGk5MTUpOwo+ICsJcGVyZl9wbXVfdW5yZWdpc3RlcigmcG11LT5iYXNl
KTsKPiArCXBtdS0+YmFzZS5ldmVudF9pbml0ID0gTlVMTDsKPiArCWZyZWVfZXZlbnRfYXR0cmli
dXRlcyhwbXUpOwo+ICB9Cgp3aXRoIGFsbCBwb3NzaWJsZSByZXBsYWNlbWVudHMsCgpSZXZpZXdl
ZC1ieTogTWljaGFsIFdhamRlY3prbyA8bWljaGFsLndhamRlY3prb0BpbnRlbC5jb20+Cl9fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCkludGVsLWdmeCBtYWls
aW5nIGxpc3QKSW50ZWwtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZy
ZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2ludGVsLWdmeA==

Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 92D846BDD4
	for <lists+intel-gfx@lfdr.de>; Wed, 17 Jul 2019 16:07:06 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 5784889D42;
	Wed, 17 Jul 2019 14:07:04 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from fireflyinternet.com (mail.fireflyinternet.com [109.228.58.192])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 43D2089CE0
 for <intel-gfx@lists.freedesktop.org>; Wed, 17 Jul 2019 14:07:02 +0000 (UTC)
X-Default-Received-SPF: pass (skip=forwardok (res=PASS))
 x-ip-name=78.156.65.138; 
Received: from localhost (unverified [78.156.65.138]) 
 by fireflyinternet.com (Firefly Internet (M1)) with ESMTP (TLS) id
 17372229-1500050 for multiple; Wed, 17 Jul 2019 15:06:55 +0100
MIME-Version: 1.0
To: Tvrtko Ursulin <tvrtko.ursulin@linux.intel.com>,
 intel-gfx@lists.freedesktop.org
From: Chris Wilson <chris@chris-wilson.co.uk>
In-Reply-To: <951e2751-15d7-9ca8-ef6f-299ba59c47a6@linux.intel.com>
References: <20190716124931.5870-1-chris@chris-wilson.co.uk>
 <bb43c2b5-3513-ef4f-1bc9-887fc2b2e523@linux.intel.com>
 <156329142200.9436.8651620549785965913@skylake-alporthouse-com>
 <d76bdb93-b90b-afe3-841b-95a8de27902d@linux.intel.com>
 <156336944635.4375.7269371478914847980@skylake-alporthouse-com>
 <6038b21f-c052-36c5-2d56-72ddeb069097@linux.intel.com>
 <156337053617.4375.13675276970408492219@skylake-alporthouse-com>
 <951e2751-15d7-9ca8-ef6f-299ba59c47a6@linux.intel.com>
Message-ID: <156337241401.4375.2377981562987470090@skylake-alporthouse-com>
User-Agent: alot/0.6
Date: Wed, 17 Jul 2019 15:06:54 +0100
Subject: Re: [Intel-gfx] [PATCH 1/5] drm/i915/userptr: Beware recursive
 lock_page()
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: stable@vger.kernel.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

UXVvdGluZyBUdnJ0a28gVXJzdWxpbiAoMjAxOS0wNy0xNyAxNDo0NjoxNSkKPiAKPiBPbiAxNy8w
Ny8yMDE5IDE0OjM1LCBDaHJpcyBXaWxzb24gd3JvdGU6Cj4gPiBRdW90aW5nIFR2cnRrbyBVcnN1
bGluICgyMDE5LTA3LTE3IDE0OjIzOjU1KQo+ID4+Cj4gPj4gT24gMTcvMDcvMjAxOSAxNDoxNywg
Q2hyaXMgV2lsc29uIHdyb3RlOgo+ID4+PiBRdW90aW5nIFR2cnRrbyBVcnN1bGluICgyMDE5LTA3
LTE3IDE0OjA5OjAwKQo+ID4+Pj4KPiA+Pj4+IE9uIDE2LzA3LzIwMTkgMTY6MzcsIENocmlzIFdp
bHNvbiB3cm90ZToKPiA+Pj4+PiBRdW90aW5nIFR2cnRrbyBVcnN1bGluICgyMDE5LTA3LTE2IDE2
OjI1OjIyKQo+ID4+Pj4+Pgo+ID4+Pj4+PiBPbiAxNi8wNy8yMDE5IDEzOjQ5LCBDaHJpcyBXaWxz
b24gd3JvdGU6Cj4gPj4+Pj4+PiBGb2xsb3dpbmcgYSB0cnlfdG9fdW5tYXAoKSB3ZSBtYXkgd2Fu
dCB0byByZW1vdmUgdGhlIHVzZXJwdHIgYW5kIHNvIGNhbGwKPiA+Pj4+Pj4+IHB1dF9wYWdlcygp
LiBIb3dldmVyLCB0cnlfdG9fdW5tYXAoKSBhY3F1aXJlcyB0aGUgcGFnZSBsb2NrIGFuZCBzbyB3
ZQo+ID4+Pj4+Pj4gbXVzdCBhdm9pZCByZWN1cnNpdmVseSBsb2NraW5nIHRoZSBwYWdlcyBvdXJz
ZWx2ZXMgLS0gd2hpY2ggbWVhbnMgdGhhdAo+ID4+Pj4+Pj4gd2UgY2Fubm90IHNhZmVseSBhY3F1
aXJlIHRoZSBsb2NrIGFyb3VuZCBzZXRfcGFnZV9kaXJ0eSgpLiBTaW5jZSB3ZQo+ID4+Pj4+Pj4g
Y2FuJ3QgYmUgc3VyZSBvZiB0aGUgbG9jaywgd2UgaGF2ZSB0byByaXNrIHNraXAgZGlydHlpbmcg
dGhlIHBhZ2UsIG9yCj4gPj4+Pj4+PiBlbHNlIHJpc2sgY2FsbGluZyBzZXRfcGFnZV9kaXJ0eSgp
IHdpdGhvdXQgYSBsb2NrIGFuZCBzbyByaXNrIGZzCj4gPj4+Pj4+PiBjb3JydXB0aW9uLgo+ID4+
Pj4+Pgo+ID4+Pj4+PiBTbyBpZiB0cnlsb2NrIHJhbmRvbWx5IGZhaWwgd2UgZ2V0IGRhdGEgY29y
cnVwdGlvbiBpbiB3aGF0ZXZlciBkYXRhIHNldAo+ID4+Pj4+PiBhcHBsaWNhdGlvbiBpcyB3b3Jr
aW5nIG9uLCB3aGljaCBpcyB3aGF0IHRoZSBvcmlnaW5hbCBwYXRjaCB3YXMgdHJ5aW5nCj4gPj4+
Pj4+IHRvIGF2b2lkPyBBcmUgd2UgYWJsZSB0byBkZXRlY3QgdGhlIGJhY2tpbmcgc3RvcmUgdHlw
ZSBzbyBhdCBsZWFzdCB3ZQo+ID4+Pj4+PiBkb24ndCByaXNrIHNraXBwaW5nIHNldF9wYWdlX2Rp
cnR5IHdpdGggYW5vbnltb3VzL3NobWVtZnM/Cj4gPj4+Pj4KPiA+Pj4+PiBwYWdlLT5tYXBwaW5n
Pz8/Cj4gPj4+Pgo+ID4+Pj4gV291bGQgcGFnZS0+bWFwcGluZyB3b3JrPyBXaGF0IGlzIGl0IHRl
bGxpbmcgdXM/Cj4gPj4+Cj4gPj4+IEl0IGJhc2ljYWxseSB0ZWxscyB1cyBpZiB0aGVyZSBpcyBh
IGZzIGFyb3VuZDsgYW55dGhpbmcgdGhhdCBpcyB0aGUgbW9zdAo+ID4+PiBiYXNpYyBvZiBtYWxs
b2MgKGV2ZW4gdG1wZnMvc2htZW1mcyBoYXMgcGFnZS0+bWFwcGluZykuCj4gPj4KPiA+PiBOb3Jt
YWwgbWFsbG9jIHNvIGFub255bW91cyBwYWdlcz8gT3IgeW91IG1lYW50IGV2ZXJ5dGhpbmcgX2Fw
YXJ0XyBmcm9tCj4gPj4gdGhlIG1vc3QgYmFzaWMgbWFsbG9jPwo+ID4gCj4gPiBBeWUgbWlzc2Vk
IHRoZSBub3QuCj4gPiAKPiA+Pj4+PiBXZSBzdGlsbCBoYXZlIHRoZSBpc3N1ZSB0aGF0IGlmIHRo
ZXJlIGlzIGEgbWFwcGluZyB3ZSBzaG91bGQgYmUgdGFraW5nCj4gPj4+Pj4gdGhlIGxvY2ssIGFu
ZCB3ZSBtYXkgaGF2ZSBib3RoIGEgbWFwcGluZyBhbmQgYmUgaW5zaWRlIHRyeV90b191bm1hcCgp
Lgo+ID4+Pj4KPiA+Pj4+IElzIHRoaXMgYSBwcm9ibGVtPyBPbiBhIHBhdGggd2l0aCBtYXBwaW5n
cyB3ZSB0cnlsb2NrIGFuZCBzbyBzb2x2ZSB0aGUKPiA+Pj4+IHNldF9kaXJ0eV9sb2NrZWQgYW5k
IHJlY3Vyc2l2ZSBkZWFkbG9jayBpc3N1ZXMsIGFuZCB3aXRoIG5vIG1hcHBpbmdzCj4gPj4+PiB3
aXRoIGFsd2F5cyBkaXJ0eSB0aGUgcGFnZSBhbmQgYXZvaWQgZGF0YSBjb3JydXB0aW9uLgo+ID4+
Pgo+ID4+PiBUaGUgcHJvYmxlbSBhcyBJIHNlZSBpdCBpcyAhcGFnZS0+bWFwcGluZyBhcmUgbGlr
ZWx5IGFuIGluc2lnbmlmaWNhbnQKPiA+Pj4gbWlub3JpdHkgb2YgdXNlcnB0cjsgYXMgSSB0aGlu
ayBldmVuIG1lbWZkIGFyZSBlc3NlbnRpYWxseSBzaG1lbWZzIChvcgo+ID4+PiBodWdldGxiZnMp
IGFuZCBzbyBoYXZlIG1hcHBpbmdzLgo+ID4+Cj4gPj4gQmV0dGVyIHRoZW4gbm90aGluZywgbm8/
IElmIGVhc3kgdG8gZG8uLgo+ID4gCj4gPiBBY3R1YWxseSwgSSBlcnJpbmcgb24gdGhlIG9wcG9z
aXRlIHNpZGUuIFBlZWtpbmcgYXQgbW0vIGludGVybmFscyBkb2VzCj4gPiBub3QgYm9kZSBjb25m
aWRlbmNlIGFuZCBmZWVscyBpbmRlZmVuc2libGUuIEknZCBtdWNoIHJhdGhlciB0aHJvdyBteQo+
ID4gaGFuZHMgdXAgYW5kIHNheSAidGhpcyBpcyB0aGUgYmVzdCB3ZSBjYW4gZG8gd2l0aCB0aGUg
QVBJIHByb3ZpZGVkLAo+ID4gcGxlYXNlIHRlbGwgdXMgd2hhdCB3ZSBzaG91bGQgaGF2ZSBkb25l
LiIgVG8gd2hpY2ggdGhlIGFuc3dlciBpcwo+ID4gcHJvYmFibHkgdG8gbm90IGhhdmUgdXNlZCBn
dXAgaW4gdGhlIGZpcnN0IHBsYWNlIDp8Cj4gCj4gIiIiCj4gLyoKPiAgKiBzZXRfcGFnZV9kaXJ0
eSgpIGlzIHJhY3kgaWYgdGhlIGNhbGxlciBoYXMgbm8gcmVmZXJlbmNlIGFnYWluc3QKPiAgKiBw
YWdlLT5tYXBwaW5nLT5ob3N0LCBhbmQgaWYgdGhlIHBhZ2UgaXMgdW5sb2NrZWQuICBUaGlzIGlz
IGJlY2F1c2UgYW5vdGhlcgo+ICAqIENQVSBjb3VsZCB0cnVuY2F0ZSB0aGUgcGFnZSBvZmYgdGhl
IG1hcHBpbmcgYW5kIHRoZW4gZnJlZSB0aGUgbWFwcGluZy4KPiAgKgo+ICAqIFVzdWFsbHksIHRo
ZSBwYWdlIF9pc18gbG9ja2VkLCBvciB0aGUgY2FsbGVyIGlzIGEgdXNlci1zcGFjZSBwcm9jZXNz
IHdoaWNoCj4gICogaG9sZHMgYSByZWZlcmVuY2Ugb24gdGhlIGlub2RlIGJ5IGhhdmluZyBhbiBv
cGVuIGZpbGUuCj4gICoKPiAgKiBJbiBvdGhlciBjYXNlcywgdGhlIHBhZ2Ugc2hvdWxkIGJlIGxv
Y2tlZCBiZWZvcmUgcnVubmluZyBzZXRfcGFnZV9kaXJ0eSgpLgo+ICAqLwo+IGludCBzZXRfcGFn
ZV9kaXJ0eV9sb2NrKHN0cnVjdCBwYWdlICpwYWdlKQo+ICIiIgo+IAo+IENvdWxkIHdlIGhvbGQg
YSByZWZlcmVuY2UgdG8gcGFnZS0+bWFwcGluZy0+aG9zdCB3aGlsZSBoYXZpbmcgcGFnZXMgYW5k
IHRoZW4gd291bGQgYmUgb2theSB0byBjYWxsIHBsYWluIHNldF9wYWdlX2RpcnR5PwoKV2Ugd291
bGQgdGhlbiBiZSBoaXR0aW5nIHRoZSB3YXJuaW5ncyBpbiBleHQ0IGZvciB1bmxvY2tlZCBwYWdl
cyBhZ2Fpbi4KRXNzZW50aWFsbHkgdGhlIGFyZ3VtZW50IGlzIHdoZXRoZXIgb3Igbm90IHRoYXQg
d2FybiBpcyB2YWxpZCwgdG8gd2hpY2ggSQp0aGluayByZXF1aXJlcyBpbm5lciBrbm93bGVkZ2Ug
b2YgdmZzICsgZXh0NC4gVG8gaG9sZCBhIHJlZmVyZW5jZSBvbiB0aGUKaG9zdCB3b3VsZCByZXF1
aXJlIHVzIHRyYWNraW5nIHBhZ2UtPm1hcHBpbmcgKHJlYXNvbmFibGUgc2luY2Ugd2UKYWxyZWFk
eSBob29rZWQgaW50byBtbXUgYW5kIHNvIHdpbGwgZ2V0IGFuIGludmFsaWRhdGUgKyBmcmVzaCBn
dXAgb24KYW55IGNoYW5nZXMpLCBwbHVzIGl0ZXJhdGluZyBvdmVyIGFsbCB0byBhY3F1aXJlIHRo
ZSBleHRyYSByZWZlcmVuY2UgaWYKYXBwbGljYWJsZSAtLSBhbmQgSSBoYXZlIG5vIGlkZWEgd2hh
dCB0aGUgc2lkZS1lZmZlY3RzIG9mIHRoYXQgd291bGQgYmUuCkNvdWxkIHdlbGwgYmUgcG9zaXRp
dmUgc2lkZS1lZmZlY3RzLiBKdXN0IGZlZWxzIGxpa2Ugd2FuZGVyaW5nIGV2ZW4KZnVydGhlciBv
ZmYgdGhlIGJlYXRlbiBwYXRoIHdpdGhvdXQgYSBtYXAuIEdvb2QgbmV3cyBobW0gaXMganVzdCBh
cm91bmQKdGhlIGNvcm5lciAod2hpY2ggd2lsbCBwcm9iYWJseSBwcm9oaWJpdCB0aGlzIHVzZS1j
YXNlKSA6fAotQ2hyaXMKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX18KSW50ZWwtZ2Z4IG1haWxpbmcgbGlzdApJbnRlbC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Au
b3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vaW50ZWwt
Z2Z4

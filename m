Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id B4331EF7AD
	for <lists+intel-gfx@lfdr.de>; Tue,  5 Nov 2019 10:01:59 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 670206E930;
	Tue,  5 Nov 2019 09:01:57 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mail-wr1-x42e.google.com (mail-wr1-x42e.google.com
 [IPv6:2a00:1450:4864:20::42e])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 04A786E930
 for <intel-gfx@lists.freedesktop.org>; Tue,  5 Nov 2019 09:01:56 +0000 (UTC)
Received: by mail-wr1-x42e.google.com with SMTP id q13so20352599wrs.12
 for <intel-gfx@lists.freedesktop.org>; Tue, 05 Nov 2019 01:01:55 -0800 (PST)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id:in-reply-to
 :references:mime-version:content-transfer-encoding;
 bh=Guo5/ZhMnjeA/bH2wCTHb67jQJ1/syRZQeHCXbBuDvk=;
 b=S1m3FryWmwKzhV2ix8yUfpiNj9tUJVp4QhRLMCNZxOXLSRYLlKza77LrWEUTZHaAxV
 wSqQJvBAZi7eXzSflQ+GmLbZYg/wFYbN5iWZJWFpV8AK/j8b3XjVZSDTV3KbyEioK3AW
 UEjQy1y15JjvcOEXHByOoKASbqpvd7A8zYhEnXaXfqis4bVujzWZQ7SQ7lXCnR04rJMx
 4pQh/YglJNKXjCXhGkCbinGR+RnOKiRZPzWo5+NvmLjvme7zXt/Zq4Uz/sA0TdSEvtiG
 +XxODF1K8ia7jqGbeKtsLaBcR0ZhlM7U2mP954qYIhpbOHu5JrgR2Cw2VfE3aiWoJMsA
 tQZA==
X-Gm-Message-State: APjAAAX4gQeOkiw2oJ88nK5SM/vhRYNgsT0DIM3sspsVypJlduptW+Za
 xxdqY1Ks/CBut7cBvqUB/pFsEY0srps=
X-Google-Smtp-Source: APXvYqwygFNPitzJI20n2q2ZXYf8CJEie560lsz5CnsZWdlmmNe58PTLaT1uUS0Ozzs/HxPOsfHKEA==
X-Received: by 2002:adf:dc06:: with SMTP id t6mr9816425wri.378.1572944514125; 
 Tue, 05 Nov 2019 01:01:54 -0800 (PST)
Received: from phenom.ffwll.local (212-51-149-96.fiber7.init7.net.
 [212.51.149.96])
 by smtp.gmail.com with ESMTPSA id i3sm19830041wrw.69.2019.11.05.01.01.52
 (version=TLS1_3 cipher=TLS_AES_256_GCM_SHA384 bits=256/256);
 Tue, 05 Nov 2019 01:01:53 -0800 (PST)
From: Daniel Vetter <daniel.vetter@ffwll.ch>
To: Intel Graphics Development <intel-gfx@lists.freedesktop.org>
Date: Tue,  5 Nov 2019 10:01:48 +0100
Message-Id: <20191105090148.30269-1-daniel.vetter@ffwll.ch>
X-Mailer: git-send-email 2.24.0.rc2
In-Reply-To: <20191104173720.2696-1-daniel.vetter@ffwll.ch>
References: <20191104173720.2696-1-daniel.vetter@ffwll.ch>
MIME-Version: 1.0
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=ffwll.ch; s=google;
 h=from:to:cc:subject:date:message-id:in-reply-to:references
 :mime-version:content-transfer-encoding;
 bh=Guo5/ZhMnjeA/bH2wCTHb67jQJ1/syRZQeHCXbBuDvk=;
 b=TiEQhaIo1a4dxWn+Rrk4QdWBz8UlubPsBoCK1ZkOTVOr5Ubm3RrDcIO/OBXnZNcqz/
 InNKJbPiZrCL6ki3DK6ApYkjNHVPkRAe0usM+YuUZPQOq2xjKJ1cqSaIfq/UIfbrgc3q
 Sl1PDiJoX4p2EOjvWRO4nfyaWGAgeM3snlpA4=
Subject: [Intel-gfx] [PATCH] drm/i915: Switch obj->mm.lock lockdep
 annotations on its head
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: Daniel Vetter <daniel.vetter@ffwll.ch>,
 Matthew Auld <matthew.auld@intel.com>, Daniel Vetter <daniel.vetter@intel.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

VGhlIHRyb3VibGUgd2l0aCBoYXZpbmcgYSBwbGFpbiBuZXN0aW5nIGZsYWcgZm9yIGxvY2tzIHdo
aWNoIGRvIG5vdApuYXR1cmFsbHkgbmVzdCAodW5saWtlIGJsb2NrIGRldmljZXMgYW5kIHRoZWly
IHBhcnRpdGlvbnMsIHdoaWNoIGlzCnRoZSBvcmlnaW5hbCBtb3RpdmF0aW9uIGZvciBuZXN0aW5n
IGxldmVscykgaXMgdGhhdCBsb2NrZGVwIHdpbGwKbmV2ZXIgc3BvdCBhIHRydWUgZGVhZGxvY2sg
aWYgeW91IHNjcmV3IHVwLgoKVGhpcyBwYXRjaCBpcyBhbiBhdHRlbXB0IGF0IHRyeWluZyBiZXR0
ZXIsIGJ5IGhpZ2hsaWdodGluZyBhIGJpdCBtb3JlCnRoZSBhY3R1YWwgbmF0dXJlIG9mIHRoZSBu
ZXN0aW5nIHRoYXQncyBnb2luZyBvbi4gRXNzZW50aWFsbHkgd2UgaGF2ZQp0d28ga2luZHMgb2Yg
b2JqZWN0czoKCi0gb2JqZWN0cyB3aXRob3V0IHBhZ2VzIGFsbG9jYXRlZCwgd2hpY2ggY2Fubm90
IGJlIG9uIGFueSBscnUgYW5kIGFyZQogIGhlbmNlIGluYWNjZXNzaWJsZSB0byB0aGUgc2hyaW5r
ZXIuCgotIG9iamVjdHMgd2hpY2ggaGF2ZSBwYWdlcyBhbGxvY2F0ZWQsIHdoaWNoIGFyZSBvbiBh
biBscnUsIGFuZCB3aGljaAogIHRoZSBzaHJpbmtlciBjYW4gZGVjaWRlIHRvIHRocm93IG91dC4K
CkZvciB0aGUgZm9ybWVyIHR5cGUgb2Ygb2JqZWN0LCBtZW1vcnkgYWxsY29hdGlvbnMgd2hpbGUg
aG9sZGluZwpvYmotPm1tLmxvY2sgYXJlIHBlcm1pc3NpYmxlLiBGb3IgdGhlIGxhdHRlciB0aGV5
IGFyZSBub3QuIEFuZApnZXQvcHV0X3BhZ2VzIHRyYW5zaXRpb25zIGJldHdlZW4gdGhlIHR3byB0
eXBlcyBvZiBvYmplY3RzLgoKVGhpcyBpcyBzdGlsbCBub3QgZW50aXJlbHkgZm9vbC1wcm9vZiBz
aW5jZSB0aGUgcnVsZXMgbWlnaHQgY2hhbmNlLgpCdXQgYXMgbG9uZyBhcyB3ZSBydW4gc3VjaCBh
IGNvZGUgZXZlciBhdCBydW50aW1lIGxvY2tkZXAgc2hvdWxkIGJlCmFibGUgdG8gb2JzZXJ2ZSB0
aGUgaW5jb25zaXN0ZW5jeSBhbmQgY29tcGxhaW4gKGxpa2Ugd2l0aCBhbnkgb3RoZXIKbG9ja2Rl
cCBjbGFzcyB0aGF0IHdlJ3ZlIHNwbGl0IHVwIGluIG11bHRpcGxlIGNsYXNzZXMpLiBCdXQgdGhl
cmUgYXJlCmEgZmV3IGNsZWFyIGJlbmVmaXRzOgoKLSBXZSBjYW4gZHJvcCB0aGUgbmVzdGluZyBm
bGFnIHBhcmFtZXRlciBmcm9tCiAgX19pOTE1X2dlbV9vYmplY3RfcHV0X3BhZ2VzLCBiZWNhdXNl
IHRoYXQgZnVuY3Rpb24gYnkgZGVmaW5pdGlvbiBpcwogIG5ldmVyIGdvaW5nIGFsbG9jYXRlIG1l
bW9yeSwgYW5kIGNhbGxpbmcgaXQgb24gYW4gb2JqZWN0IHdoaWNoCiAgZG9lc24ndCBoYXZlIGl0
cyBwYWdlcyBhbGxvY2F0ZWQgd291bGQgYmUgYSBidWcuCgotIFdlIHN0cmljdGx5IGNhdGNoIG1v
cmUgYnVncywgc2luY2UgdGhlcmUncyBub3Qgb25seSBvbmUgcGxhY2UgaW4gdGhlCiAgZW50aXJl
IHRyZWUgd2hpY2ggaXMgYW5ub3RhdGVkIHdpdGggdGhlIHNwZWNpYWwgY2xhc3MuIEFsbCB0aGUK
ICBvdGhlciBwbGFjZXMgdGhhdCBoYWQgZXhwbGljaXQgbG9ja2RlcCBuZXN0aW5nIGFubm90YXRp
b25zIHdlJ3JlIG5vdwogIGdvaW5nIHRvIGxlYXZlIHVwIHRvIGxvY2tkZXAgYWdhaW4uCgotIFNw
ZWNpZmljYWxseSB0aGlzIGNhdGNoZXMgc3R1ZmYgbGlrZSBjYWxsaW5nIGdldF9wYWdlcyBmcm9t
CiAgcHV0X3BhZ2VzICh3aGljaCBpc24ndCByZWFsbHkgYSBnb29kIGlkZWEsIGlmIHdlIGNhbiBj
YWxsIGdldF9wYWdlcwogIHNvIGNvdWxkIHRoZSBzaHJpbmtlcikuIEkndmUgc2VlbiBwYXRjaGVz
IGRvIGV4YWN0bHkgdGhhdC4KCk9mIGNvdXJzZSBJIGZ1bGx5IGV4cGVjdCBDSSB3aWxsIHNob3cg
bWUgZm9yIHRoZSBmb29sIEkgYW0gd2l0aCB0aGlzCm9uZSBoZXJlIDotKQoKdjI6IFRoZXJlIGNh
biBvbmx5IGJlIG9uZSAobG9ja2RlcCBvbmx5IGhhcyBhIGNhY2hlIGZvciB0aGUgZmlyc3QKc3Vi
Y2xhc3MsIG5vdCBmb3IgZGVlcGVyIG9uZXMsIGFuZCB3ZSBkb24ndCB3YW50IHRvIG1ha2UgdGhl
c2UgbG9ja3MKZXZlbiBzbG93ZXIpLiBTdGlsbCBzZXBhcmF0ZSBlbnVtcyBmb3IgYmV0dGVyIGRv
Y3VtZW50YXRpb24uCgpSZWFsIGZpeDogZG9uIGZvcmdldCBhYm91dCBwaHlzIG9ianMgYW5kIHBp
bl9tYXAoKSwgYW5kIGZpeCB0aGUKc2hyaW5rZXIgdG8gaGF2ZSB0aGUgcmlnaHQgYW5ub3RhdGlv
bnMgLi4uIHNpbGx5IG1lLgoKdjM6IEZvcmdvdCB1c2VydHB0ciB0b28gLi4uCgp2NDogSW1wcm92
ZSBjb21tZW50IGZvciBwYWdlc19waW5fY291bnQsIGRyb3AgdGhlIElNUE9SVEFOVCBjb21tZW50
CmFuZCBpbnN0ZWFkIHByaW1lIGxvY2tkZXAgKENocmlzKS4KCnY1OiBBcHBlYXNlIGNoZWNrcGF0
Y2gsIG5vIGRvdWJsZSBlbXB0eSBsaW5lcyAoQ2hyaXMpCgp2NjogTW9yZSByZWJhc2luZyBvdmVy
IHNlbGZ0ZXN0IGNoYW5nZXMuIEFsc28gc29tZWhvdyBJIGZvcmdvdCB0bwpwdXNoIHRoaXMgcGF0
Y2ggOi0vCgpBbHNvIGZvcm1hdCBjb21tZW50cyBjb25zaXN0ZW50bHkgd2hpbGUgYXQgaXQuCgp2
NzogRml4IHR5cG8gaW4gY29tbWl0IG1lc3NhZ2UgKEpvb25hcykKCkFsc28gZHJvcCB0aGUgcHJp
bWluZywgd2l0aCB0aGUgbG1lbSBtZXJnZSB3ZSBub3cgaGF2ZSBhbGxvY2F0aW9ucwp3aGlsZSBo
b2xkaW5nIHRoZSBsbWVtIGxvY2ssIHdoaWNoIHdyZWFrcyB0aGUgZ2VuZXJpYyBwcmltaW5nIEkn
dmUKZG9uZSBpbiBlYXJsaWVyIHBhdGNoZXMuIFNob3VsZCBwcm9iYWJseSBiZSByZXN1cnJlY3Rl
ZCB3aGVuIGxtZW0gaXMKZml4ZWQuIFNlZQoKY29tbWl0IDIzMmE2ZWJhZTQxOTE5M2Y1YjhkYTRm
YTg2OWFlNTA4OWFiMTA1YzIKQXV0aG9yOiBNYXR0aGV3IEF1bGQgPG1hdHRoZXcuYXVsZEBpbnRl
bC5jb20+CkRhdGU6ICAgVHVlIE9jdCA4IDE3OjAxOjE0IDIwMTkgKzAxMDAKCiAgICBkcm0vaTkx
NTogaW50cm9kdWNlIGludGVsX21lbW9yeV9yZWdpb24KCkknbSBrZWVwaW5nIHRoZSBwcmltaW5n
IHBhdGNoIGxvY2FsbHkgc28gaXQgd29udCBnZXQgbG9zdC4KCkNjOiBNYXR0aGV3IEF1bGQgPG1h
dHRoZXcuYXVsZEBpbnRlbC5jb20+CkNjOiBDaHJpcyBXaWxzb24gPGNocmlzQGNocmlzLXdpbHNv
bi5jby51az4KQ2M6ICJUYW5nLCBDUSIgPGNxLnRhbmdAaW50ZWwuY29tPgpDYzogVHZydGtvIFVy
c3VsaW4gPHR2cnRrby51cnN1bGluQGludGVsLmNvbT4KQ2M6IEpvb25hcyBMYWh0aW5lbiA8am9v
bmFzLmxhaHRpbmVuQGxpbnV4LmludGVsLmNvbT4KUmV2aWV3ZWQtYnk6IENocmlzIFdpbHNvbiA8
Y2hyaXNAY2hyaXMtd2lsc29uLmNvLnVrPiAodjUpClJldmlld2VkLWJ5OiBKb29uYXMgTGFodGlu
ZW4gPGpvb25hcy5sYWh0aW5lbkBsaW51eC5pbnRlbC5jb20+ICh2NikKU2lnbmVkLW9mZi1ieTog
RGFuaWVsIFZldHRlciA8ZGFuaWVsLnZldHRlckBpbnRlbC5jb20+Ci0tLQogZHJpdmVycy9ncHUv
ZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX29iamVjdC5jICAgICAgfCAgNCArKystCiBkcml2ZXJzL2dw
dS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fb2JqZWN0LmggICAgICB8IDE3ICsrKysrKysrKysrKysr
LS0tCiAuLi4vZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9vYmplY3RfdHlwZXMuaCAgICB8ICA2
ICsrKysrLQogZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX3BhZ2VzLmMgICAgICAg
fCAgOSArKysrLS0tLS0KIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9waHlzLmMg
ICAgICAgIHwgIDIgKy0KIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9zaHJpbmtl
ci5jICAgIHwgIDUgKystLS0KIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV91c2Vy
cHRyLmMgICAgIHwgIDQgKystLQogZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL3NlbGZ0ZXN0cy9o
dWdlX3BhZ2VzLmMgfCAxNCArKysrKysrLS0tLS0tLQogLi4uL2RybS9pOTE1L3NlbGZ0ZXN0cy9p
bnRlbF9tZW1vcnlfcmVnaW9uLmMgICAgfCAgNCArKy0tCiA5IGZpbGVzIGNoYW5nZWQsIDQwIGlu
c2VydGlvbnMoKyksIDI1IGRlbGV0aW9ucygtKQoKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2dlbS9pOTE1X2dlbV9vYmplY3QuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9p
OTE1X2dlbV9vYmplY3QuYwppbmRleCBhNTAyOTZjY2UwZDguLmRiMTAzZDNjODc2MCAxMDA2NDQK
LS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX29iamVjdC5jCisrKyBiL2Ry
aXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9vYmplY3QuYwpAQCAtMjIsNiArMjIsOCBA
QAogICoKICAqLwogCisjaW5jbHVkZSA8bGludXgvc2NoZWQvbW0uaD4KKwogI2luY2x1ZGUgImRp
c3BsYXkvaW50ZWxfZnJvbnRidWZmZXIuaCIKICNpbmNsdWRlICJndC9pbnRlbF9ndC5oIgogI2lu
Y2x1ZGUgImk5MTVfZHJ2LmgiCkBAIC0xODYsNyArMTg4LDcgQEAgc3RhdGljIHZvaWQgX19pOTE1
X2dlbV9mcmVlX29iamVjdHMoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUsCiAJCUdFTV9C
VUdfT04oIWxpc3RfZW1wdHkoJm9iai0+bHV0X2xpc3QpKTsKIAogCQlhdG9taWNfc2V0KCZvYmot
Pm1tLnBhZ2VzX3Bpbl9jb3VudCwgMCk7Ci0JCV9faTkxNV9nZW1fb2JqZWN0X3B1dF9wYWdlcyhv
YmosIEk5MTVfTU1fTk9STUFMKTsKKwkJX19pOTE1X2dlbV9vYmplY3RfcHV0X3BhZ2VzKG9iaik7
CiAJCUdFTV9CVUdfT04oaTkxNV9nZW1fb2JqZWN0X2hhc19wYWdlcyhvYmopKTsKIAkJYml0bWFw
X2ZyZWUob2JqLT5iaXRfMTcpOwogCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9n
ZW0vaTkxNV9nZW1fb2JqZWN0LmggYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1f
b2JqZWN0LmgKaW5kZXggNDU4Y2Q1MTMzMWYxLi5lZGFmNzEyNmE4NGQgMTAwNjQ0Ci0tLSBhL2Ry
aXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9vYmplY3QuaAorKysgYi9kcml2ZXJzL2dw
dS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fb2JqZWN0LmgKQEAgLTMxOSwxMSArMzE5LDIyIEBAIGk5
MTVfZ2VtX29iamVjdF91bnBpbl9wYWdlcyhzdHJ1Y3QgZHJtX2k5MTVfZ2VtX29iamVjdCAqb2Jq
KQogCiBlbnVtIGk5MTVfbW1fc3ViY2xhc3MgeyAvKiBsb2NrZGVwIHN1YmNsYXNzIGZvciBvYmot
Pm1tLmxvY2svc3RydWN0X211dGV4ICovCiAJSTkxNV9NTV9OT1JNQUwgPSAwLAotCUk5MTVfTU1f
U0hSSU5LRVIgLyogY2FsbGVkICJyZWN1cnNpdmVseSIgZnJvbSBkaXJlY3QtcmVjbGFpbS1lc3F1
ZSAqLworCS8qCisJICogT25seSB1c2VkIGJ5IHN0cnVjdF9tdXRleCwgd2hlbiBjYWxsZWQgInJl
Y3Vyc2l2ZWx5IiBmcm9tCisJICogZGlyZWN0LXJlY2xhaW0tZXNxdWUuIFNhZmUgYmVjYXVzZSB0
aGVyZSBpcyBvbmx5IGV2ZXJ5IG9uZQorCSAqIHN0cnVjdF9tdXRleCBpbiB0aGUgZW50aXJlIHN5
c3RlbS4KKwkgKi8KKwlJOTE1X01NX1NIUklOS0VSID0gMSwKKwkvKgorCSAqIFVzZWQgZm9yIG9i
ai0+bW0ubG9jayB3aGVuIGFsbG9jYXRpbmcgcGFnZXMuIFNhZmUgYmVjYXVzZSB0aGUgb2JqZWN0
CisJICogaXNuJ3QgeWV0IG9uIGFueSBMUlUsIGFuZCB0aGVyZWZvcmUgdGhlIHNocmlua2VyIGNh
bid0IGRlYWRsb2NrIG9uCisJICogaXQuIEFzIHNvb24gYXMgdGhlIG9iamVjdCBoYXMgcGFnZXMs
IG9iai0+bW0ubG9jayBuZXN0cyB3aXRoaW4KKwkgKiBmc19yZWNsYWltLgorCSAqLworCUk5MTVf
TU1fR0VUX1BBR0VTID0gMSwKIH07CiAKLWludCBfX2k5MTVfZ2VtX29iamVjdF9wdXRfcGFnZXMo
c3RydWN0IGRybV9pOTE1X2dlbV9vYmplY3QgKm9iaiwKLQkJCQllbnVtIGk5MTVfbW1fc3ViY2xh
c3Mgc3ViY2xhc3MpOworaW50IF9faTkxNV9nZW1fb2JqZWN0X3B1dF9wYWdlcyhzdHJ1Y3QgZHJt
X2k5MTVfZ2VtX29iamVjdCAqb2JqKTsKIHZvaWQgaTkxNV9nZW1fb2JqZWN0X3RydW5jYXRlKHN0
cnVjdCBkcm1faTkxNV9nZW1fb2JqZWN0ICpvYmopOwogdm9pZCBpOTE1X2dlbV9vYmplY3Rfd3Jp
dGViYWNrKHN0cnVjdCBkcm1faTkxNV9nZW1fb2JqZWN0ICpvYmopOwogCmRpZmYgLS1naXQgYS9k
cml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fb2JqZWN0X3R5cGVzLmggYi9kcml2ZXJz
L2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fb2JqZWN0X3R5cGVzLmgKaW5kZXggOTYwMDgzNzRh
NDEyLi4xNWY4Mjk3ZGMzNGUgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9p
OTE1X2dlbV9vYmplY3RfdHlwZXMuaAorKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkx
NV9nZW1fb2JqZWN0X3R5cGVzLmgKQEAgLTE2Miw3ICsxNjIsMTEgQEAgc3RydWN0IGRybV9pOTE1
X2dlbV9vYmplY3QgewogCWF0b21pY190IGJpbmRfY291bnQ7CiAKIAlzdHJ1Y3QgewotCQlzdHJ1
Y3QgbXV0ZXggbG9jazsgLyogcHJvdGVjdHMgdGhlIHBhZ2VzIGFuZCB0aGVpciB1c2UgKi8KKwkJ
LyoKKwkJICogUHJvdGVjdHMgdGhlIHBhZ2VzIGFuZCB0aGVpciB1c2UuIERvIG5vdCB1c2UgZGly
ZWN0bHksIGJ1dAorCQkgKiBpbnN0ZWFkIGdvIHRocm91Z2ggdGhlIHBpbi91bnBpbiBpbnRlcmZh
Y2VzLgorCQkgKi8KKwkJc3RydWN0IG11dGV4IGxvY2s7CiAJCWF0b21pY190IHBhZ2VzX3Bpbl9j
b3VudDsKIAkJYXRvbWljX3Qgc2hyaW5rX3BpbjsKIApkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUv
ZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX3BhZ2VzLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0v
aTkxNV9nZW1fcGFnZXMuYwppbmRleCAyOWY0YzI4NTA3NDUuLmY0MDJjMmM0MTVjMiAxMDA2NDQK
LS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX3BhZ2VzLmMKKysrIGIvZHJp
dmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX3BhZ2VzLmMKQEAgLTEwNiw3ICsxMDYsNyBA
QCBpbnQgX19pOTE1X2dlbV9vYmplY3RfZ2V0X3BhZ2VzKHN0cnVjdCBkcm1faTkxNV9nZW1fb2Jq
ZWN0ICpvYmopCiB7CiAJaW50IGVycjsKIAotCWVyciA9IG11dGV4X2xvY2tfaW50ZXJydXB0aWJs
ZSgmb2JqLT5tbS5sb2NrKTsKKwllcnIgPSBtdXRleF9sb2NrX2ludGVycnVwdGlibGVfbmVzdGVk
KCZvYmotPm1tLmxvY2ssIEk5MTVfTU1fR0VUX1BBR0VTKTsKIAlpZiAoZXJyKQogCQlyZXR1cm4g
ZXJyOwogCkBAIC0xOTAsOCArMTkwLDcgQEAgX19pOTE1X2dlbV9vYmplY3RfdW5zZXRfcGFnZXMo
c3RydWN0IGRybV9pOTE1X2dlbV9vYmplY3QgKm9iaikKIAlyZXR1cm4gcGFnZXM7CiB9CiAKLWlu
dCBfX2k5MTVfZ2VtX29iamVjdF9wdXRfcGFnZXMoc3RydWN0IGRybV9pOTE1X2dlbV9vYmplY3Qg
Km9iaiwKLQkJCQllbnVtIGk5MTVfbW1fc3ViY2xhc3Mgc3ViY2xhc3MpCitpbnQgX19pOTE1X2dl
bV9vYmplY3RfcHV0X3BhZ2VzKHN0cnVjdCBkcm1faTkxNV9nZW1fb2JqZWN0ICpvYmopCiB7CiAJ
c3RydWN0IHNnX3RhYmxlICpwYWdlczsKIAlpbnQgZXJyOwpAQCAtMjAyLDcgKzIwMSw3IEBAIGlu
dCBfX2k5MTVfZ2VtX29iamVjdF9wdXRfcGFnZXMoc3RydWN0IGRybV9pOTE1X2dlbV9vYmplY3Qg
Km9iaiwKIAlHRU1fQlVHX09OKGF0b21pY19yZWFkKCZvYmotPmJpbmRfY291bnQpKTsKIAogCS8q
IE1heSBiZSBjYWxsZWQgYnkgc2hyaW5rZXIgZnJvbSB3aXRoaW4gZ2V0X3BhZ2VzKCkgKG9uIGFu
b3RoZXIgYm8pICovCi0JbXV0ZXhfbG9ja19uZXN0ZWQoJm9iai0+bW0ubG9jaywgc3ViY2xhc3Mp
OworCW11dGV4X2xvY2soJm9iai0+bW0ubG9jayk7CiAJaWYgKHVubGlrZWx5KGF0b21pY19yZWFk
KCZvYmotPm1tLnBhZ2VzX3Bpbl9jb3VudCkpKSB7CiAJCWVyciA9IC1FQlVTWTsKIAkJZ290byB1
bmxvY2s7CkBAIC0zMDgsNyArMzA3LDcgQEAgdm9pZCAqaTkxNV9nZW1fb2JqZWN0X3Bpbl9tYXAo
c3RydWN0IGRybV9pOTE1X2dlbV9vYmplY3QgKm9iaiwKIAlpZiAoIWk5MTVfZ2VtX29iamVjdF90
eXBlX2hhcyhvYmosIGZsYWdzKSkKIAkJcmV0dXJuIEVSUl9QVFIoLUVOWElPKTsKIAotCWVyciA9
IG11dGV4X2xvY2tfaW50ZXJydXB0aWJsZSgmb2JqLT5tbS5sb2NrKTsKKwllcnIgPSBtdXRleF9s
b2NrX2ludGVycnVwdGlibGVfbmVzdGVkKCZvYmotPm1tLmxvY2ssIEk5MTVfTU1fR0VUX1BBR0VT
KTsKIAlpZiAoZXJyKQogCQlyZXR1cm4gRVJSX1BUUihlcnIpOwogCmRpZmYgLS1naXQgYS9kcml2
ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fcGh5cy5jIGIvZHJpdmVycy9ncHUvZHJtL2k5
MTUvZ2VtL2k5MTVfZ2VtX3BoeXMuYwppbmRleCA4MDQzZmY2M2Q3M2YuLmIxYjdjMWIzMDM4YSAx
MDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX3BoeXMuYworKysg
Yi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fcGh5cy5jCkBAIC0xNjQsNyArMTY0
LDcgQEAgaW50IGk5MTVfZ2VtX29iamVjdF9hdHRhY2hfcGh5cyhzdHJ1Y3QgZHJtX2k5MTVfZ2Vt
X29iamVjdCAqb2JqLCBpbnQgYWxpZ24pCiAJaWYgKGVycikKIAkJcmV0dXJuIGVycjsKIAotCW11
dGV4X2xvY2soJm9iai0+bW0ubG9jayk7CisJbXV0ZXhfbG9ja19uZXN0ZWQoJm9iai0+bW0ubG9j
aywgSTkxNV9NTV9HRVRfUEFHRVMpOwogCiAJaWYgKG9iai0+bW0ubWFkdiAhPSBJOTE1X01BRFZf
V0lMTE5FRUQpIHsKIAkJZXJyID0gLUVGQVVMVDsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2dlbS9pOTE1X2dlbV9zaHJpbmtlci5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2Vt
L2k5MTVfZ2VtX3Nocmlua2VyLmMKaW5kZXggZmQzY2U2ZGE4NDk3Li4wNjZiM2RmNjc3ZTggMTAw
NjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9zaHJpbmtlci5jCisr
KyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9zaHJpbmtlci5jCkBAIC01Nyw3
ICs1Nyw3IEBAIHN0YXRpYyBib29sIHVuc2FmZV9kcm9wX3BhZ2VzKHN0cnVjdCBkcm1faTkxNV9n
ZW1fb2JqZWN0ICpvYmosCiAJCWZsYWdzID0gSTkxNV9HRU1fT0JKRUNUX1VOQklORF9BQ1RJVkU7
CiAKIAlpZiAoaTkxNV9nZW1fb2JqZWN0X3VuYmluZChvYmosIGZsYWdzKSA9PSAwKQotCQlfX2k5
MTVfZ2VtX29iamVjdF9wdXRfcGFnZXMob2JqLCBJOTE1X01NX1NIUklOS0VSKTsKKwkJX19pOTE1
X2dlbV9vYmplY3RfcHV0X3BhZ2VzKG9iaik7CiAKIAlyZXR1cm4gIWk5MTVfZ2VtX29iamVjdF9o
YXNfcGFnZXMob2JqKTsKIH0KQEAgLTIwOSw4ICsyMDksNyBAQCBpOTE1X2dlbV9zaHJpbmsoc3Ry
dWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUsCiAKIAkJCWlmICh1bnNhZmVfZHJvcF9wYWdlcyhv
YmosIHNocmluaykpIHsKIAkJCQkvKiBNYXkgYXJyaXZlIGZyb20gZ2V0X3BhZ2VzIG9uIGFub3Ro
ZXIgYm8gKi8KLQkJCQltdXRleF9sb2NrX25lc3RlZCgmb2JqLT5tbS5sb2NrLAotCQkJCQkJICBJ
OTE1X01NX1NIUklOS0VSKTsKKwkJCQltdXRleF9sb2NrKCZvYmotPm1tLmxvY2spOwogCQkJCWlm
ICghaTkxNV9nZW1fb2JqZWN0X2hhc19wYWdlcyhvYmopKSB7CiAJCQkJCXRyeV90b193cml0ZWJh
Y2sob2JqLCBzaHJpbmspOwogCQkJCQljb3VudCArPSBvYmotPmJhc2Uuc2l6ZSA+PiBQQUdFX1NI
SUZUOwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX3VzZXJw
dHIuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV91c2VycHRyLmMKaW5kZXgg
MWUwNDVjMzM3MDQ0Li5lZTY1YzZhY2YwZTIgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9p
OTE1L2dlbS9pOTE1X2dlbV91c2VycHRyLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2Vt
L2k5MTVfZ2VtX3VzZXJwdHIuYwpAQCAtMTMxLDcgKzEzMSw3IEBAIHVzZXJwdHJfbW5faW52YWxp
ZGF0ZV9yYW5nZV9zdGFydChzdHJ1Y3QgbW11X25vdGlmaWVyICpfbW4sCiAJCXJldCA9IGk5MTVf
Z2VtX29iamVjdF91bmJpbmQob2JqLAogCQkJCQkgICAgIEk5MTVfR0VNX09CSkVDVF9VTkJJTkRf
QUNUSVZFKTsKIAkJaWYgKHJldCA9PSAwKQotCQkJcmV0ID0gX19pOTE1X2dlbV9vYmplY3RfcHV0
X3BhZ2VzKG9iaiwgSTkxNV9NTV9TSFJJTktFUik7CisJCQlyZXQgPSBfX2k5MTVfZ2VtX29iamVj
dF9wdXRfcGFnZXMob2JqKTsKIAkJaTkxNV9nZW1fb2JqZWN0X3B1dChvYmopOwogCQlpZiAocmV0
KQogCQkJcmV0dXJuIHJldDsKQEAgLTQ4Myw3ICs0ODMsNyBAQCBfX2k5MTVfZ2VtX3VzZXJwdHJf
Z2V0X3BhZ2VzX3dvcmtlcihzdHJ1Y3Qgd29ya19zdHJ1Y3QgKl93b3JrKQogCQl9CiAJfQogCi0J
bXV0ZXhfbG9jaygmb2JqLT5tbS5sb2NrKTsKKwltdXRleF9sb2NrX25lc3RlZCgmb2JqLT5tbS5s
b2NrLCBJOTE1X01NX0dFVF9QQUdFUyk7CiAJaWYgKG9iai0+dXNlcnB0ci53b3JrID09ICZ3b3Jr
LT53b3JrKSB7CiAJCXN0cnVjdCBzZ190YWJsZSAqcGFnZXMgPSBFUlJfUFRSKHJldCk7CiAKZGlm
ZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9zZWxmdGVzdHMvaHVnZV9wYWdlcy5j
IGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL3NlbGZ0ZXN0cy9odWdlX3BhZ2VzLmMKaW5kZXgg
Njg4YzQ5YTI0ZjMyLi41Yzk1ODMzNDkwNzcgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9p
OTE1L2dlbS9zZWxmdGVzdHMvaHVnZV9wYWdlcy5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1
L2dlbS9zZWxmdGVzdHMvaHVnZV9wYWdlcy5jCkBAIC01MTcsNyArNTE3LDcgQEAgc3RhdGljIGlu
dCBpZ3RfbW9ja19tZW1vcnlfcmVnaW9uX2h1Z2VfcGFnZXModm9pZCAqYXJnKQogCQkJaTkxNV92
bWFfdW5waW4odm1hKTsKIAkJCWk5MTVfdm1hX2Nsb3NlKHZtYSk7CiAKLQkJCV9faTkxNV9nZW1f
b2JqZWN0X3B1dF9wYWdlcyhvYmosIEk5MTVfTU1fTk9STUFMKTsKKwkJCV9faTkxNV9nZW1fb2Jq
ZWN0X3B1dF9wYWdlcyhvYmopOwogCQkJaTkxNV9nZW1fb2JqZWN0X3B1dChvYmopOwogCQl9CiAJ
fQpAQCAtNjUwLDcgKzY1MCw3IEBAIHN0YXRpYyBpbnQgaWd0X21vY2tfcHBndHRfbWlzYWxpZ25l
ZF9kbWEodm9pZCAqYXJnKQogCQlpOTE1X3ZtYV9jbG9zZSh2bWEpOwogCiAJCWk5MTVfZ2VtX29i
amVjdF91bnBpbl9wYWdlcyhvYmopOwotCQlfX2k5MTVfZ2VtX29iamVjdF9wdXRfcGFnZXMob2Jq
LCBJOTE1X01NX05PUk1BTCk7CisJCV9faTkxNV9nZW1fb2JqZWN0X3B1dF9wYWdlcyhvYmopOwog
CQlpOTE1X2dlbV9vYmplY3RfcHV0KG9iaik7CiAJfQogCkBAIC02NzgsNyArNjc4LDcgQEAgc3Rh
dGljIHZvaWQgY2xvc2Vfb2JqZWN0X2xpc3Qoc3RydWN0IGxpc3RfaGVhZCAqb2JqZWN0cywKIAog
CQlsaXN0X2RlbCgmb2JqLT5zdF9saW5rKTsKIAkJaTkxNV9nZW1fb2JqZWN0X3VucGluX3BhZ2Vz
KG9iaik7Ci0JCV9faTkxNV9nZW1fb2JqZWN0X3B1dF9wYWdlcyhvYmosIEk5MTVfTU1fTk9STUFM
KTsKKwkJX19pOTE1X2dlbV9vYmplY3RfcHV0X3BhZ2VzKG9iaik7CiAJCWk5MTVfZ2VtX29iamVj
dF9wdXQob2JqKTsKIAl9CiB9CkBAIC05NDgsNyArOTQ4LDcgQEAgc3RhdGljIGludCBpZ3RfbW9j
a19wcGd0dF82NEsodm9pZCAqYXJnKQogCQkJaTkxNV92bWFfY2xvc2Uodm1hKTsKIAogCQkJaTkx
NV9nZW1fb2JqZWN0X3VucGluX3BhZ2VzKG9iaik7Ci0JCQlfX2k5MTVfZ2VtX29iamVjdF9wdXRf
cGFnZXMob2JqLCBJOTE1X01NX05PUk1BTCk7CisJCQlfX2k5MTVfZ2VtX29iamVjdF9wdXRfcGFn
ZXMob2JqKTsKIAkJCWk5MTVfZ2VtX29iamVjdF9wdXQob2JqKTsKIAkJfQogCX0KQEAgLTEzMDEs
NyArMTMwMSw3IEBAIHN0YXRpYyBpbnQgaWd0X3BwZ3R0X2V4aGF1c3RfaHVnZSh2b2lkICphcmcp
CiAJCQl9CiAKIAkJCWk5MTVfZ2VtX29iamVjdF91bnBpbl9wYWdlcyhvYmopOwotCQkJX19pOTE1
X2dlbV9vYmplY3RfcHV0X3BhZ2VzKG9iaiwgSTkxNV9NTV9OT1JNQUwpOworCQkJX19pOTE1X2dl
bV9vYmplY3RfcHV0X3BhZ2VzKG9iaik7CiAJCQlpOTE1X2dlbV9vYmplY3RfcHV0KG9iaik7CiAJ
CX0KIAl9CkBAIC0xNDQyLDcgKzE0NDIsNyBAQCBzdGF0aWMgaW50IGlndF9wcGd0dF9zbW9rZV9o
dWdlKHZvaWQgKmFyZykKIAkJfQogb3V0X3VucGluOgogCQlpOTE1X2dlbV9vYmplY3RfdW5waW5f
cGFnZXMob2JqKTsKLQkJX19pOTE1X2dlbV9vYmplY3RfcHV0X3BhZ2VzKG9iaiwgSTkxNV9NTV9O
T1JNQUwpOworCQlfX2k5MTVfZ2VtX29iamVjdF9wdXRfcGFnZXMob2JqKTsKIG91dF9wdXQ6CiAJ
CWk5MTVfZ2VtX29iamVjdF9wdXQob2JqKTsKIApAQCAtMTUzMCw3ICsxNTMwLDcgQEAgc3RhdGlj
IGludCBpZ3RfcHBndHRfc2FuaXR5X2NoZWNrKHZvaWQgKmFyZykKIAkJCWVyciA9IGlndF93cml0
ZV9odWdlKGN0eCwgb2JqKTsKIAogCQkJaTkxNV9nZW1fb2JqZWN0X3VucGluX3BhZ2VzKG9iaik7
Ci0JCQlfX2k5MTVfZ2VtX29iamVjdF9wdXRfcGFnZXMob2JqLCBJOTE1X01NX05PUk1BTCk7CisJ
CQlfX2k5MTVfZ2VtX29iamVjdF9wdXRfcGFnZXMob2JqKTsKIAkJCWk5MTVfZ2VtX29iamVjdF9w
dXQob2JqKTsKIAogCQkJaWYgKGVycikgewpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5
MTUvc2VsZnRlc3RzL2ludGVsX21lbW9yeV9yZWdpb24uYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1
L3NlbGZ0ZXN0cy9pbnRlbF9tZW1vcnlfcmVnaW9uLmMKaW5kZXggMTllMWNjYThmMTQzLi45NWQ2
MDlhYmQzOWIgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L3NlbGZ0ZXN0cy9pbnRl
bF9tZW1vcnlfcmVnaW9uLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvc2VsZnRlc3RzL2lu
dGVsX21lbW9yeV9yZWdpb24uYwpAQCAtMzIsNyArMzIsNyBAQCBzdGF0aWMgdm9pZCBjbG9zZV9v
YmplY3RzKHN0cnVjdCBpbnRlbF9tZW1vcnlfcmVnaW9uICptZW0sCiAJCWlmIChpOTE1X2dlbV9v
YmplY3RfaGFzX3Bpbm5lZF9wYWdlcyhvYmopKQogCQkJaTkxNV9nZW1fb2JqZWN0X3VucGluX3Bh
Z2VzKG9iaik7CiAJCS8qIE5vIHBvbGx1dGluZyB0aGUgbWVtb3J5IHJlZ2lvbiBiZXR3ZWVuIHRl
c3RzICovCi0JCV9faTkxNV9nZW1fb2JqZWN0X3B1dF9wYWdlcyhvYmosIEk5MTVfTU1fTk9STUFM
KTsKKwkJX19pOTE1X2dlbV9vYmplY3RfcHV0X3BhZ2VzKG9iaik7CiAJCWxpc3RfZGVsKCZvYmot
PnN0X2xpbmspOwogCQlpOTE1X2dlbV9vYmplY3RfcHV0KG9iaik7CiAJfQpAQCAtMTIyLDcgKzEy
Miw3IEBAIGlndF9vYmplY3RfY3JlYXRlKHN0cnVjdCBpbnRlbF9tZW1vcnlfcmVnaW9uICptZW0s
CiBzdGF0aWMgdm9pZCBpZ3Rfb2JqZWN0X3JlbGVhc2Uoc3RydWN0IGRybV9pOTE1X2dlbV9vYmpl
Y3QgKm9iaikKIHsKIAlpOTE1X2dlbV9vYmplY3RfdW5waW5fcGFnZXMob2JqKTsKLQlfX2k5MTVf
Z2VtX29iamVjdF9wdXRfcGFnZXMob2JqLCBJOTE1X01NX05PUk1BTCk7CisJX19pOTE1X2dlbV9v
YmplY3RfcHV0X3BhZ2VzKG9iaik7CiAJbGlzdF9kZWwoJm9iai0+c3RfbGluayk7CiAJaTkxNV9n
ZW1fb2JqZWN0X3B1dChvYmopOwogfQotLSAKMi4yNC4wLnJjMgoKX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX18KSW50ZWwtZ2Z4IG1haWxpbmcgbGlzdApJbnRl
bC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3Jn
L21haWxtYW4vbGlzdGluZm8vaW50ZWwtZ2Z4

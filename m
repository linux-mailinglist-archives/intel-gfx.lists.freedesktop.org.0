Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id BB5D7F4FF7
	for <lists+intel-gfx@lfdr.de>; Fri,  8 Nov 2019 16:40:38 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id DC0C36F9D8;
	Fri,  8 Nov 2019 15:40:36 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga14.intel.com (mga14.intel.com [192.55.52.115])
 by gabe.freedesktop.org (Postfix) with ESMTPS id C7F326F9D8
 for <intel-gfx@lists.freedesktop.org>; Fri,  8 Nov 2019 15:40:35 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga005.jf.intel.com ([10.7.209.41])
 by fmsmga103.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 08 Nov 2019 07:40:35 -0800
X-IronPort-AV: E=Sophos;i="5.68,281,1569308400"; d="scan'208";a="377793560"
Received: from jnikula-mobl3.fi.intel.com (HELO localhost) ([10.237.66.161])
 by orsmga005-auth.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 08 Nov 2019 07:40:32 -0800
From: Jani Nikula <jani.nikula@intel.com>
To: intel-gfx@lists.freedesktop.org
Date: Fri,  8 Nov 2019 17:39:53 +0200
Message-Id: <ba0427008bb75c032b225cc8a0cf87c1da0205e6.1573227240.git.jani.nikula@intel.com>
X-Mailer: git-send-email 2.20.1
In-Reply-To: <cover.1573227240.git.jani.nikula@intel.com>
References: <cover.1573227240.git.jani.nikula@intel.com>
MIME-Version: 1.0
Organization: Intel Finland Oy - BIC 0357606-4 - Westendinkatu 7, 02160 Espoo
Subject: [Intel-gfx] [PATCH 6/9] drm/i915/dsc: move DP specific compute
 params to intel_dp.c
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: jani.nikula@intel.com
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

VHVybnMgb3V0IGZ1dHVyZSBEU0kgc3BlY2lmaWMgcGFyYW1ldGVycyBhcmVuJ3Qgd29ya2FibGUg
d2l0aCB0aGUKYXBwcm9hY2ggb2YgaGF2aW5nIHRoZSBlbmNvZGVyIHNwZWNpZmljIGZ1bmN0aW9u
cyBpbiBpbnRlbF92ZHNjLmMuIE1ha2UKaW50ZWxfZHNjX2NvbXB1dGVfcGFyYW1zKCkgYSBoZWxw
ZXIgdGhhdCBkb2VzIHRoZSBlbmNvZGVyIGluZGVwZW5kZW50CnBhcnRzLCBhbmQgaGF2ZSBlbmNv
ZGVyIGNvZGUgY2FsbCBpdC4gTW92ZSBpbnRlbF9kc2NfZHBfY29tcHV0ZV9wYXJhbXMoKQp0byBp
bnRlbF9kcC5jIGFzIGludGVsX2RwX2RzY19jb21wdXRlX3BhcmFtcygpLgoKQ2M6IE1hbmFzaSBO
YXZhcmUgPG1hbmFzaS5kLm5hdmFyZUBpbnRlbC5jb20+ClNpZ25lZC1vZmYtYnk6IEphbmkgTmlr
dWxhIDxqYW5pLm5pa3VsYUBpbnRlbC5jb20+Ci0tLQogZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlz
cGxheS9pbnRlbF9kcC5jICAgfCA0NyArKysrKysrKysrKysrKysrKysrKystCiBkcml2ZXJzL2dw
dS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX3Zkc2MuYyB8IDQ4ICstLS0tLS0tLS0tLS0tLS0tLS0t
LS0tCiAyIGZpbGVzIGNoYW5nZWQsIDQ3IGluc2VydGlvbnMoKyksIDQ4IGRlbGV0aW9ucygtKQoK
ZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZHAuYyBiL2Ry
aXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZHAuYwppbmRleCA5ZTk1OTM5NjVhOWEu
LmIzOGE0OWRiODBlMyAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9p
bnRlbF9kcC5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZHAuYwpA
QCAtMjA0Niw2ICsyMDQ2LDUxIEBAIHN0YXRpYyBpbnQgaW50ZWxfZHBfZHNjX2NvbXB1dGVfYnBw
KHN0cnVjdCBpbnRlbF9kcCAqaW50ZWxfZHAsIHU4IGRzY19tYXhfYnBjKQogCXJldHVybiAwOwog
fQogCisjZGVmaW5lIERTQ19TVVBQT1JURURfVkVSU0lPTl9NSU4JCTEKKworc3RhdGljIGludCBp
bnRlbF9kcF9kc2NfY29tcHV0ZV9wYXJhbXMoc3RydWN0IGludGVsX2VuY29kZXIgKmVuY29kZXIs
CisJCQkJICAgICAgIHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpwaXBlX2NvbmZpZykKK3sKKwlz
dHJ1Y3QgaW50ZWxfZHAgKmludGVsX2RwID0gZW5jX3RvX2ludGVsX2RwKCZlbmNvZGVyLT5iYXNl
KTsKKwlzdHJ1Y3QgZHJtX2RzY19jb25maWcgKnZkc2NfY2ZnID0gJnBpcGVfY29uZmlnLT5kc2Mu
Y29uZmlnOworCXU4IGxpbmVfYnVmX2RlcHRoOworCWludCByZXQ7CisKKwlyZXQgPSBpbnRlbF9k
c2NfY29tcHV0ZV9wYXJhbXMoZW5jb2RlciwgcGlwZV9jb25maWcpOworCWlmIChyZXQpCisJCXJl
dHVybiByZXQ7CisKKwl2ZHNjX2NmZy0+ZHNjX3ZlcnNpb25fbWFqb3IgPQorCQkoaW50ZWxfZHAt
PmRzY19kcGNkW0RQX0RTQ19SRVYgLSBEUF9EU0NfU1VQUE9SVF0gJgorCQkgRFBfRFNDX01BSk9S
X01BU0spID4+IERQX0RTQ19NQUpPUl9TSElGVDsKKwl2ZHNjX2NmZy0+ZHNjX3ZlcnNpb25fbWlu
b3IgPQorCQltaW4oRFNDX1NVUFBPUlRFRF9WRVJTSU9OX01JTiwKKwkJICAgIChpbnRlbF9kcC0+
ZHNjX2RwY2RbRFBfRFNDX1JFViAtIERQX0RTQ19TVVBQT1JUXSAmCisJCSAgICAgRFBfRFNDX01J
Tk9SX01BU0spID4+IERQX0RTQ19NSU5PUl9TSElGVCk7CisKKwl2ZHNjX2NmZy0+Y29udmVydF9y
Z2IgPSBpbnRlbF9kcC0+ZHNjX2RwY2RbRFBfRFNDX0RFQ19DT0xPUl9GT1JNQVRfQ0FQIC0gRFBf
RFNDX1NVUFBPUlRdICYKKwkJRFBfRFNDX1JHQjsKKworCWxpbmVfYnVmX2RlcHRoID0gZHJtX2Rw
X2RzY19zaW5rX2xpbmVfYnVmX2RlcHRoKGludGVsX2RwLT5kc2NfZHBjZCk7CisJaWYgKCFsaW5l
X2J1Zl9kZXB0aCkgeworCQlEUk1fREVCVUdfS01TKCJEU0MgU2luayBMaW5lIEJ1ZmZlciBEZXB0
aCBpbnZhbGlkXG4iKTsKKwkJcmV0dXJuIC1FSU5WQUw7CisJfQorCisJaWYgKHZkc2NfY2ZnLT5k
c2NfdmVyc2lvbl9taW5vciA9PSAyKQorCQl2ZHNjX2NmZy0+bGluZV9idWZfZGVwdGggPSAobGlu
ZV9idWZfZGVwdGggPT0gRFNDXzFfMl9NQVhfTElORUJVRl9ERVBUSF9CSVRTKSA/CisJCQlEU0Nf
MV8yX01BWF9MSU5FQlVGX0RFUFRIX1ZBTCA6IGxpbmVfYnVmX2RlcHRoOworCWVsc2UKKwkJdmRz
Y19jZmctPmxpbmVfYnVmX2RlcHRoID0gKGxpbmVfYnVmX2RlcHRoID4gRFNDXzFfMV9NQVhfTElO
RUJVRl9ERVBUSF9CSVRTKSA/CisJCQlEU0NfMV8xX01BWF9MSU5FQlVGX0RFUFRIX0JJVFMgOiBs
aW5lX2J1Zl9kZXB0aDsKKworCXZkc2NfY2ZnLT5ibG9ja19wcmVkX2VuYWJsZSA9CisJCQlpbnRl
bF9kcC0+ZHNjX2RwY2RbRFBfRFNDX0JMS19QUkVESUNUSU9OX1NVUFBPUlQgLSBEUF9EU0NfU1VQ
UE9SVF0gJgorCQlEUF9EU0NfQkxLX1BSRURJQ1RJT05fSVNfU1VQUE9SVEVEOworCisJcmV0dXJu
IGRybV9kc2NfY29tcHV0ZV9yY19wYXJhbWV0ZXJzKHZkc2NfY2ZnKTsKK30KKwogc3RhdGljIGlu
dCBpbnRlbF9kcF9kc2NfY29tcHV0ZV9jb25maWcoc3RydWN0IGludGVsX2RwICppbnRlbF9kcCwK
IAkJCQkgICAgICAgc3RydWN0IGludGVsX2NydGNfc3RhdGUgKnBpcGVfY29uZmlnLAogCQkJCSAg
ICAgICBzdHJ1Y3QgZHJtX2Nvbm5lY3Rvcl9zdGF0ZSAqY29ubl9zdGF0ZSwKQEAgLTIxMzIsNyAr
MjE3Nyw3IEBAIHN0YXRpYyBpbnQgaW50ZWxfZHBfZHNjX2NvbXB1dGVfY29uZmlnKHN0cnVjdCBp
bnRlbF9kcCAqaW50ZWxfZHAsCiAJCX0KIAl9CiAKLQlyZXQgPSBpbnRlbF9kc2NfY29tcHV0ZV9w
YXJhbXMoJmRpZ19wb3J0LT5iYXNlLCBwaXBlX2NvbmZpZyk7CisJcmV0ID0gaW50ZWxfZHBfZHNj
X2NvbXB1dGVfcGFyYW1zKCZkaWdfcG9ydC0+YmFzZSwgcGlwZV9jb25maWcpOwogCWlmIChyZXQg
PCAwKSB7CiAJCURSTV9ERUJVR19LTVMoIkNhbm5vdCBjb21wdXRlIHZhbGlkIERTQyBwYXJhbWV0
ZXJzIGZvciBJbnB1dCBCcHAgPSAlZCAiCiAJCQkgICAgICAiQ29tcHJlc3NlZCBCUFAgPSAlZFxu
IiwKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfdmRzYy5j
IGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF92ZHNjLmMKaW5kZXggYjIzYmE4
ZDEwOGRiLi44MzRkNjY1YTQ3ZDIgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rp
c3BsYXkvaW50ZWxfdmRzYy5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50
ZWxfdmRzYy5jCkBAIC0zMCw4ICszMCw2IEBAIGVudW0gQ09MVU1OX0lOREVYX0JQQyB7CiAJTUFY
X0NPTFVNTl9JTkRFWAogfTsKIAotI2RlZmluZSBEU0NfU1VQUE9SVEVEX1ZFUlNJT05fTUlOCQkx
Ci0KIC8qIEZyb20gRFNDX3YxLjExIHNwZWMsIHJjX3BhcmFtZXRlcl9TZXQgc3ludGF4IGVsZW1l
bnQgdHlwaWNhbGx5IGNvbnN0YW50ICovCiBzdGF0aWMgY29uc3QgdTE2IHJjX2J1Zl90aHJlc2hb
XSA9IHsKIAk4OTYsIDE3OTIsIDI2ODgsIDM1ODQsIDQ0ODAsIDUzNzYsIDYyNzIsIDY3MjAsIDcx
NjgsIDc2MTYsCkBAIC0zMzUsNDUgKzMzMyw2IEBAIHN0YXRpYyBjb25zdCBzdHJ1Y3QgcmNfcGFy
YW1ldGVycyAqZ2V0X3JjX3BhcmFtcyh1MTYgY29tcHJlc3NlZF9icHAsCiAJcmV0dXJuICZyY19w
YXJhbWV0ZXJzW3Jvd19pbmRleF1bY29sdW1uX2luZGV4XTsKIH0KIAotLyogVmFsdWVzIGZpbGxl
ZCBmcm9tIERTQyBTaW5rIERQQ0QgKi8KLXN0YXRpYyBpbnQgaW50ZWxfZHNjX2RwX2NvbXB1dGVf
cGFyYW1zKHN0cnVjdCBpbnRlbF9lbmNvZGVyICplbmNvZGVyLAotCQkJCSAgICAgICBzdHJ1Y3Qg
aW50ZWxfY3J0Y19zdGF0ZSAqcGlwZV9jb25maWcpCi17Ci0Jc3RydWN0IGludGVsX2RwICppbnRl
bF9kcCA9IGVuY190b19pbnRlbF9kcCgmZW5jb2Rlci0+YmFzZSk7Ci0Jc3RydWN0IGRybV9kc2Nf
Y29uZmlnICp2ZHNjX2NmZyA9ICZwaXBlX2NvbmZpZy0+ZHNjLmNvbmZpZzsKLQl1OCBsaW5lX2J1
Zl9kZXB0aDsKLQotCXZkc2NfY2ZnLT5kc2NfdmVyc2lvbl9tYWpvciA9Ci0JCShpbnRlbF9kcC0+
ZHNjX2RwY2RbRFBfRFNDX1JFViAtIERQX0RTQ19TVVBQT1JUXSAmCi0JCSBEUF9EU0NfTUFKT1Jf
TUFTSykgPj4gRFBfRFNDX01BSk9SX1NISUZUOwotCXZkc2NfY2ZnLT5kc2NfdmVyc2lvbl9taW5v
ciA9Ci0JCW1pbihEU0NfU1VQUE9SVEVEX1ZFUlNJT05fTUlOLAotCQkgICAgKGludGVsX2RwLT5k
c2NfZHBjZFtEUF9EU0NfUkVWIC0gRFBfRFNDX1NVUFBPUlRdICYKLQkJICAgICBEUF9EU0NfTUlO
T1JfTUFTSykgPj4gRFBfRFNDX01JTk9SX1NISUZUKTsKLQotCXZkc2NfY2ZnLT5jb252ZXJ0X3Jn
YiA9IGludGVsX2RwLT5kc2NfZHBjZFtEUF9EU0NfREVDX0NPTE9SX0ZPUk1BVF9DQVAgLSBEUF9E
U0NfU1VQUE9SVF0gJgotCQlEUF9EU0NfUkdCOwotCi0JbGluZV9idWZfZGVwdGggPSBkcm1fZHBf
ZHNjX3NpbmtfbGluZV9idWZfZGVwdGgoaW50ZWxfZHAtPmRzY19kcGNkKTsKLQlpZiAoIWxpbmVf
YnVmX2RlcHRoKSB7Ci0JCURSTV9ERUJVR19LTVMoIkRTQyBTaW5rIExpbmUgQnVmZmVyIERlcHRo
IGludmFsaWRcbiIpOwotCQlyZXR1cm4gLUVJTlZBTDsKLQl9Ci0KLQlpZiAodmRzY19jZmctPmRz
Y192ZXJzaW9uX21pbm9yID09IDIpCi0JCXZkc2NfY2ZnLT5saW5lX2J1Zl9kZXB0aCA9IChsaW5l
X2J1Zl9kZXB0aCA9PSBEU0NfMV8yX01BWF9MSU5FQlVGX0RFUFRIX0JJVFMpID8KLQkJCURTQ18x
XzJfTUFYX0xJTkVCVUZfREVQVEhfVkFMIDogbGluZV9idWZfZGVwdGg7Ci0JZWxzZQotCQl2ZHNj
X2NmZy0+bGluZV9idWZfZGVwdGggPSAobGluZV9idWZfZGVwdGggPiBEU0NfMV8xX01BWF9MSU5F
QlVGX0RFUFRIX0JJVFMpID8KLQkJCURTQ18xXzFfTUFYX0xJTkVCVUZfREVQVEhfQklUUyA6IGxp
bmVfYnVmX2RlcHRoOwotCi0JdmRzY19jZmctPmJsb2NrX3ByZWRfZW5hYmxlID0KLQkJCWludGVs
X2RwLT5kc2NfZHBjZFtEUF9EU0NfQkxLX1BSRURJQ1RJT05fU1VQUE9SVCAtIERQX0RTQ19TVVBQ
T1JUXSAmCi0JCURQX0RTQ19CTEtfUFJFRElDVElPTl9JU19TVVBQT1JURUQ7Ci0KLQlyZXR1cm4g
MDsKLX0KLQogaW50IGludGVsX2RzY19jb21wdXRlX3BhcmFtcyhzdHJ1Y3QgaW50ZWxfZW5jb2Rl
ciAqZW5jb2RlciwKIAkJCSAgICAgc3RydWN0IGludGVsX2NydGNfc3RhdGUgKnBpcGVfY29uZmln
KQogewpAQCAtMzgxLDcgKzM0MCw2IEBAIGludCBpbnRlbF9kc2NfY29tcHV0ZV9wYXJhbXMoc3Ry
dWN0IGludGVsX2VuY29kZXIgKmVuY29kZXIsCiAJdTE2IGNvbXByZXNzZWRfYnBwID0gcGlwZV9j
b25maWctPmRzYy5jb21wcmVzc2VkX2JwcDsKIAljb25zdCBzdHJ1Y3QgcmNfcGFyYW1ldGVycyAq
cmNfcGFyYW1zOwogCXU4IGkgPSAwOwotCWludCByZXQ7CiAKIAl2ZHNjX2NmZy0+cGljX3dpZHRo
ID0gcGlwZV9jb25maWctPmh3LmFkanVzdGVkX21vZGUuY3J0Y19oZGlzcGxheTsKIAl2ZHNjX2Nm
Zy0+cGljX2hlaWdodCA9IHBpcGVfY29uZmlnLT5ody5hZGp1c3RlZF9tb2RlLmNydGNfdmRpc3Bs
YXk7CkBAIC00NzAsMTEgKzQyOCw3IEBAIGludCBpbnRlbF9kc2NfY29tcHV0ZV9wYXJhbXMoc3Ry
dWN0IGludGVsX2VuY29kZXIgKmVuY29kZXIsCiAJdmRzY19jZmctPmluaXRpYWxfc2NhbGVfdmFs
dWUgPSAodmRzY19jZmctPnJjX21vZGVsX3NpemUgPDwgMykgLwogCQkodmRzY19jZmctPnJjX21v
ZGVsX3NpemUgLSB2ZHNjX2NmZy0+aW5pdGlhbF9vZmZzZXQpOwogCi0JcmV0ID0gaW50ZWxfZHNj
X2RwX2NvbXB1dGVfcGFyYW1zKGVuY29kZXIsIHBpcGVfY29uZmlnKTsKLQlpZiAocmV0KQotCQly
ZXR1cm4gcmV0OwotCi0JcmV0dXJuIGRybV9kc2NfY29tcHV0ZV9yY19wYXJhbWV0ZXJzKHZkc2Nf
Y2ZnKTsKKwlyZXR1cm4gMDsKIH0KIAogZW51bSBpbnRlbF9kaXNwbGF5X3Bvd2VyX2RvbWFpbgot
LSAKMi4yMC4xCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
XwpJbnRlbC1nZnggbWFpbGluZyBsaXN0CkludGVsLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcK
aHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9pbnRlbC1nZng=

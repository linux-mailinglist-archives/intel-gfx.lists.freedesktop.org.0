Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 4109E7DC87
	for <lists+intel-gfx@lfdr.de>; Thu,  1 Aug 2019 15:28:46 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 448396E5E3;
	Thu,  1 Aug 2019 13:28:44 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga04.intel.com (mga04.intel.com [192.55.52.120])
 by gabe.freedesktop.org (Postfix) with ESMTPS id B87336E5E3
 for <intel-gfx@lists.freedesktop.org>; Thu,  1 Aug 2019 13:28:42 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga005.jf.intel.com ([10.7.209.41])
 by fmsmga104.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 01 Aug 2019 06:28:42 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.64,334,1559545200"; d="scan'208";a="348082565"
Received: from irvmail001.ir.intel.com ([163.33.26.43])
 by orsmga005.jf.intel.com with ESMTP; 01 Aug 2019 06:28:41 -0700
Received: from mwajdecz-MOBL1.ger.corp.intel.com
 (mwajdecz-mobl1.ger.corp.intel.com [172.28.174.50])
 by irvmail001.ir.intel.com (8.14.3/8.13.6/MailSET/Hub) with ESMTP id
 x71DSeb1010757
 for <intel-gfx@lists.freedesktop.org>; Thu, 1 Aug 2019 14:28:40 +0100
From: Michal Wajdeczko <michal.wajdeczko@intel.com>
To: intel-gfx@lists.freedesktop.org
Date: Thu,  1 Aug 2019 13:28:40 +0000
Message-Id: <20190801132840.33176-1-michal.wajdeczko@intel.com>
X-Mailer: git-send-email 2.21.0.windows.1
In-Reply-To: <156464306539.2512.13874180281743403073@skylake-alporthouse-com>
References: <156464306539.2512.13874180281743403073@skylake-alporthouse-com>
MIME-Version: 1.0
Subject: [Intel-gfx] [CI v2 4/4] drm/i915/uc: Stop sanitizing enable_guc
 modparam
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

QXMgd2UgYWxyZWFkeSB0cmFjayBHdUMvSHVDIHVzZXMgYnkgb3RoZXIgbWVhbnMgdGhhbiBtb2Rw
YXJhbQp0aGVyZSBpcyBubyBwb2ludCBpbiBzYW5pdGl6aW5nIGl0LiBKdXN0IHNjYW4gbW9kcGFy
YW0gZm9yCm1ham9yIGRpc2NyZXBhbmNpZXMgYmV0d2VlbiB3aGF0IHdhcyByZXF1ZXN0ZWQgdnMg
YWN0dWFsLgoKdjI6IHJlYmFzZWQsIHJld29yZGVkIGluZm8gbWVzc2FnZXMKdjM6IG9vcHMKClNp
Z25lZC1vZmYtYnk6IE1pY2hhbCBXYWpkZWN6a28gPG1pY2hhbC53YWpkZWN6a29AaW50ZWwuY29t
PgpDYzogRGFuaWVsZSBDZXJhb2xvIFNwdXJpbyA8ZGFuaWVsZS5jZXJhb2xvc3B1cmlvQGludGVs
LmNvbT4KQ2M6IENocmlzIFdpbHNvbiA8Y2hyaXNAY2hyaXMtd2lsc29uLmNvLnVrPgpSZXZpZXdl
ZC1ieTogQ2hyaXMgV2lsc29uIDxjaHJpc0BjaHJpcy13aWxzb24uY28udWs+Ci0tLQogZHJpdmVy
cy9ncHUvZHJtL2k5MTUvZ3QvdWMvaW50ZWxfdWMuYyB8IDkyICsrKysrKysrLS0tLS0tLS0tLS0t
LS0tLS0tLQogMSBmaWxlIGNoYW5nZWQsIDI4IGluc2VydGlvbnMoKyksIDY0IGRlbGV0aW9ucygt
KQoKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L3VjL2ludGVsX3VjLmMgYi9k
cml2ZXJzL2dwdS9kcm0vaTkxNS9ndC91Yy9pbnRlbF91Yy5jCmluZGV4IDVkNjc0ZTQxOGU1ZS4u
YmRlYzIxZjk3NTg5IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC91Yy9pbnRl
bF91Yy5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L3VjL2ludGVsX3VjLmMKQEAgLTU1
LDc4ICs1NSw0MiBAQCBzdGF0aWMgaW50IF9faW50ZWxfdWNfcmVzZXRfaHcoc3RydWN0IGludGVs
X3VjICp1YykKIAlyZXR1cm4gcmV0OwogfQogCi1zdGF0aWMgaW50IF9fZ2V0X3BsYXRmb3JtX2Vu
YWJsZV9ndWMoc3RydWN0IGludGVsX3VjICp1YykKK3N0YXRpYyB2b2lkIF9fY29uZmlybV9vcHRp
b25zKHN0cnVjdCBpbnRlbF91YyAqdWMpCiB7Ci0Jc3RydWN0IGludGVsX3VjX2Z3ICpndWNfZncg
PSAmdWMtPmd1Yy5mdzsKLQlzdHJ1Y3QgaW50ZWxfdWNfZncgKmh1Y19mdyA9ICZ1Yy0+aHVjLmZ3
OwotCWludCBlbmFibGVfZ3VjID0gMDsKLQotCWlmICghSEFTX0dUX1VDKHVjX3RvX2d0KHVjKS0+
aTkxNSkpCi0JCXJldHVybiAwOwotCi0JLyogV2UgZG9uJ3Qgd2FudCB0byBlbmFibGUgR3VDL0h1
QyBvbiBwcmUtR2VuMTEgYnkgZGVmYXVsdCAqLwotCWlmIChJTlRFTF9HRU4odWNfdG9fZ3QodWMp
LT5pOTE1KSA8IDExKQotCQlyZXR1cm4gMDsKLQotCWlmIChpbnRlbF91Y19md19zdXBwb3J0ZWQo
Z3VjX2Z3KSAmJiBpbnRlbF91Y19md19zdXBwb3J0ZWQoaHVjX2Z3KSkKLQkJZW5hYmxlX2d1YyB8
PSBFTkFCTEVfR1VDX0xPQURfSFVDOwotCi0JcmV0dXJuIGVuYWJsZV9ndWM7Ci19Ci0KLS8qKgot
ICogc2FuaXRpemVfb3B0aW9uc19lYXJseSAtIHNhbml0aXplIHVDIHJlbGF0ZWQgbW9kcGFyYW0g
b3B0aW9ucwotICogQHVjOiB0aGUgaW50ZWxfdWMgc3RydWN0dXJlCi0gKgotICogSW4gY2FzZSBv
ZiAiZW5hYmxlX2d1YyIgb3B0aW9uIHRoaXMgZnVuY3Rpb24gd2lsbCBhdHRlbXB0IHRvIG1vZGlm
eQotICogaXQgb25seSBpZiBpdCB3YXMgaW5pdGlhbGx5IHNldCB0byAiYXV0bygtMSkiLiBEZWZh
dWx0IHZhbHVlIGZvciB0aGlzCi0gKiBtb2RwYXJhbSB2YXJpZXMgYmV0d2VlbiBwbGF0Zm9ybXMg
YW5kIGl0IGlzIGhhcmRjb2RlZCBpbiBkcml2ZXIgY29kZS4KLSAqIEFueSBvdGhlciBtb2RwYXJh
bSB2YWx1ZSBpcyBvbmx5IG1vbml0b3JlZCBhZ2FpbnN0IGF2YWlsYWJpbGl0eSBvZiB0aGUKLSAq
IHJlbGF0ZWQgaGFyZHdhcmUgb3IgZmlybXdhcmUgZGVmaW5pdGlvbnMuCi0gKi8KLXN0YXRpYyB2
b2lkIHNhbml0aXplX29wdGlvbnNfZWFybHkoc3RydWN0IGludGVsX3VjICp1YykKLXsKLQlzdHJ1
Y3QgaW50ZWxfdWNfZncgKmd1Y19mdyA9ICZ1Yy0+Z3VjLmZ3OwotCXN0cnVjdCBpbnRlbF91Y19m
dyAqaHVjX2Z3ID0gJnVjLT5odWMuZnc7Ci0KLQkvKiBBIG5lZ2F0aXZlIHZhbHVlIG1lYW5zICJ1
c2UgcGxhdGZvcm0gZGVmYXVsdCIgKi8KLQlpZiAoaTkxNV9tb2RwYXJhbXMuZW5hYmxlX2d1YyA8
IDApCi0JCWk5MTVfbW9kcGFyYW1zLmVuYWJsZV9ndWMgPSBfX2dldF9wbGF0Zm9ybV9lbmFibGVf
Z3VjKHVjKTsKLQotCURSTV9ERUJVR19EUklWRVIoImVuYWJsZV9ndWM9JWQgKHN1Ym1pc3Npb246
JXMgaHVjOiVzKVxuIiwKKwlEUk1fREVCVUdfRFJJVkVSKCJlbmFibGVfZ3VjPSVkIChndWM6JXMg
c3VibWlzc2lvbjolcyBodWM6JXMpXG4iLAogCQkJIGk5MTVfbW9kcGFyYW1zLmVuYWJsZV9ndWMs
CisJCQkgeWVzbm8oaW50ZWxfdWNfc3VwcG9ydHNfZ3VjKHVjKSksCiAJCQkgeWVzbm8oaW50ZWxf
dWNfc3VwcG9ydHNfZ3VjX3N1Ym1pc3Npb24odWMpKSwKIAkJCSB5ZXNubyhpbnRlbF91Y19zdXBw
b3J0c19odWModWMpKSk7CiAKLQkvKiBWZXJpZnkgR3VDIGZpcm13YXJlIGF2YWlsYWJpbGl0eSAq
LwotCWlmIChpbnRlbF91Y19zdXBwb3J0c19ndWModWMpICYmICFpbnRlbF91Y19md19zdXBwb3J0
ZWQoZ3VjX2Z3KSkgewotCQlEUk1fV0FSTigiSW5jb21wYXRpYmxlIG9wdGlvbiBkZXRlY3RlZDog
ZW5hYmxlX2d1Yz0lZCwgIgotCQkJICJidXQgR3VDIGlzIG5vdCBzdXBwb3J0ZWQhXG4iLAotCQkJ
IGk5MTVfbW9kcGFyYW1zLmVuYWJsZV9ndWMpOwotCQlEUk1fSU5GTygiRGlzYWJsaW5nIEd1Qy9I
dUMgbG9hZGluZyFcbiIpOwotCQlpOTE1X21vZHBhcmFtcy5lbmFibGVfZ3VjID0gMDsKLQl9CisJ
aWYgKGk5MTVfbW9kcGFyYW1zLmVuYWJsZV9ndWMgPT0gLTEpCisJCXJldHVybjsKIAotCS8qIFZl
cmlmeSBIdUMgZmlybXdhcmUgYXZhaWxhYmlsaXR5ICovCi0JaWYgKGludGVsX3VjX3N1cHBvcnRz
X2h1Yyh1YykgJiYgIWludGVsX3VjX2Z3X3N1cHBvcnRlZChodWNfZncpKSB7Ci0JCURSTV9XQVJO
KCJJbmNvbXBhdGlibGUgb3B0aW9uIGRldGVjdGVkOiBlbmFibGVfZ3VjPSVkLCAiCi0JCQkgImJ1
dCBIdUMgaXMgbm90IHN1cHBvcnRlZCFcbiIsCi0JCQkgaTkxNV9tb2RwYXJhbXMuZW5hYmxlX2d1
Yyk7Ci0JCURSTV9JTkZPKCJEaXNhYmxpbmcgSHVDIGxvYWRpbmchXG4iKTsKLQkJaTkxNV9tb2Rw
YXJhbXMuZW5hYmxlX2d1YyAmPSB+RU5BQkxFX0dVQ19MT0FEX0hVQzsKKwlpZiAoaTkxNV9tb2Rw
YXJhbXMuZW5hYmxlX2d1YyA9PSAwKSB7CisJCUdFTV9CVUdfT04oaW50ZWxfdWNfc3VwcG9ydHNf
Z3VjKHVjKSk7CisJCUdFTV9CVUdfT04oaW50ZWxfdWNfc3VwcG9ydHNfZ3VjX3N1Ym1pc3Npb24o
dWMpKTsKKwkJR0VNX0JVR19PTihpbnRlbF91Y19zdXBwb3J0c19odWModWMpKTsKKwkJcmV0dXJu
OwogCX0KIAotCS8qIFhYWDogR3VDIHN1Ym1pc3Npb24gaXMgdW5hdmFpbGFibGUgZm9yIG5vdyAq
LwotCWlmIChpbnRlbF91Y19zdXBwb3J0c19ndWNfc3VibWlzc2lvbih1YykpIHsKLQkJRFJNX0lO
Rk8oIkluY29tcGF0aWJsZSBvcHRpb24gZGV0ZWN0ZWQ6IGVuYWJsZV9ndWM9JWQsICIKLQkJCSAi
YnV0IEd1QyBzdWJtaXNzaW9uIGlzIG5vdCBzdXBwb3J0ZWQhXG4iLAotCQkJIGk5MTVfbW9kcGFy
YW1zLmVuYWJsZV9ndWMpOwotCQlEUk1fSU5GTygiU3dpdGNoaW5nIHRvIG5vbi1HdUMgc3VibWlz
c2lvbiBtb2RlIVxuIik7Ci0JCWk5MTVfbW9kcGFyYW1zLmVuYWJsZV9ndWMgJj0gfkVOQUJMRV9H
VUNfU1VCTUlTU0lPTjsKLQl9CisJaWYgKCFpbnRlbF91Y19zdXBwb3J0c19ndWModWMpKQorCQlE
Uk1fSU5GTygiSW5jb21wYXRpYmxlIG9wdGlvbiBlbmFibGVfZ3VjPSVkIC0gJXNcbiIsCisJCQkg
aTkxNV9tb2RwYXJhbXMuZW5hYmxlX2d1YywgIkd1QyBpcyBub3Qgc3VwcG9ydGVkISIpOworCisJ
aWYgKGk5MTVfbW9kcGFyYW1zLmVuYWJsZV9ndWMgJiBFTkFCTEVfR1VDX0xPQURfSFVDICYmCisJ
ICAgICFpbnRlbF91Y19zdXBwb3J0c19odWModWMpKQorCQlEUk1fSU5GTygiSW5jb21wYXRpYmxl
IG9wdGlvbiBlbmFibGVfZ3VjPSVkIC0gJXNcbiIsCisJCQkgaTkxNV9tb2RwYXJhbXMuZW5hYmxl
X2d1YywgIkh1QyBpcyBub3Qgc3VwcG9ydGVkISIpOworCisJaWYgKGk5MTVfbW9kcGFyYW1zLmVu
YWJsZV9ndWMgJiBFTkFCTEVfR1VDX1NVQk1JU1NJT04gJiYKKwkgICAgIWludGVsX3VjX3N1cHBv
cnRzX2d1Y19zdWJtaXNzaW9uKHVjKSkKKwkJRFJNX0lORk8oIkluY29tcGF0aWJsZSBvcHRpb24g
ZW5hYmxlX2d1Yz0lZCAtICVzXG4iLAorCQkJIGk5MTVfbW9kcGFyYW1zLmVuYWJsZV9ndWMsICJH
dUMgc3VibWlzc2lvbiBpcyBOL0EiKTsKIAotCS8qIE1ha2Ugc3VyZSB0aGF0IHNhbml0aXphdGlv
biB3YXMgZG9uZSAqLwotCUdFTV9CVUdfT04oaTkxNV9tb2RwYXJhbXMuZW5hYmxlX2d1YyA8IDAp
OworCWlmIChpOTE1X21vZHBhcmFtcy5lbmFibGVfZ3VjICYgfihFTkFCTEVfR1VDX1NVQk1JU1NJ
T04gfAorCQkJCQkgIEVOQUJMRV9HVUNfTE9BRF9IVUMpKQorCQlEUk1fSU5GTygiSW5jb21wYXRp
YmxlIG9wdGlvbiBlbmFibGVfZ3VjPSVkIC0gJXNcbiIsCisJCQkgaTkxNV9tb2RwYXJhbXMuZW5h
YmxlX2d1YywgInVuZG9jdW1lbnRlZCBmbGFnIik7CiB9CiAKIHZvaWQgaW50ZWxfdWNfaW5pdF9l
YXJseShzdHJ1Y3QgaW50ZWxfdWMgKnVjKQpAQCAtMTM0LDcgKzk4LDcgQEAgdm9pZCBpbnRlbF91
Y19pbml0X2Vhcmx5KHN0cnVjdCBpbnRlbF91YyAqdWMpCiAJaW50ZWxfZ3VjX2luaXRfZWFybHko
JnVjLT5ndWMpOwogCWludGVsX2h1Y19pbml0X2Vhcmx5KCZ1Yy0+aHVjKTsKIAotCXNhbml0aXpl
X29wdGlvbnNfZWFybHkodWMpOworCV9fY29uZmlybV9vcHRpb25zKHVjKTsKIH0KIAogdm9pZCBp
bnRlbF91Y19jbGVhbnVwX2Vhcmx5KHN0cnVjdCBpbnRlbF91YyAqdWMpCi0tIAoyLjE5LjIKCl9f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCkludGVsLWdmeCBt
YWlsaW5nIGxpc3QKSW50ZWwtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3Rz
LmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2ludGVsLWdmeA==

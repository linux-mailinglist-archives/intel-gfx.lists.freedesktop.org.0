Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 7A9E818D79
	for <lists+intel-gfx@lfdr.de>; Thu,  9 May 2019 17:58:03 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 815F989C84;
	Thu,  9 May 2019 15:58:01 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga07.intel.com (mga07.intel.com [134.134.136.100])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 0000A89C84
 for <intel-gfx@lists.freedesktop.org>; Thu,  9 May 2019 15:57:59 +0000 (UTC)
X-Amp-Result: UNSCANNABLE
X-Amp-File-Uploaded: False
Received: from fmsmga008.fm.intel.com ([10.253.24.58])
 by orsmga105.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 09 May 2019 08:57:59 -0700
X-ExtLoop1: 1
Received: from stinkbox.fi.intel.com (HELO stinkbox) ([10.237.72.174])
 by fmsmga008.fm.intel.com with SMTP; 09 May 2019 08:57:57 -0700
Received: by stinkbox (sSMTP sendmail emulation);
 Thu, 09 May 2019 18:57:56 +0300
Date: Thu, 9 May 2019 18:57:56 +0300
From: Ville =?iso-8859-1?Q?Syrj=E4l=E4?= <ville.syrjala@linux.intel.com>
To: Imre Deak <imre.deak@intel.com>
Message-ID: <20190509155756.GH24299@intel.com>
References: <20190509061954.10379-1-imre.deak@intel.com>
 <20190509061954.10379-8-imre.deak@intel.com>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <20190509061954.10379-8-imre.deak@intel.com>
User-Agent: Mutt/1.10.1 (2018-07-13)
Subject: Re: [Intel-gfx] [PATCH v2 07/11] drm/i915: Remove the unneeded AUX
 power ref from intel_dp_detect()
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: intel-gfx@lists.freedesktop.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

T24gVGh1LCBNYXkgMDksIDIwMTkgYXQgMDk6MTk6NTBBTSArMDMwMCwgSW1yZSBEZWFrIHdyb3Rl
Ogo+IFdlIGRvbid0IG5lZWQgdGhlIEFVWCBwb3dlciBmb3IgdGhlIHdob2xlIGR1cmF0aW9uIG9m
IHRoZSBkZXRlY3QsIG9ubHkKPiB3aGVuIHdlJ3JlIGRvaW5nIEFVWCB0cmFuc2ZlcnMuIFRoZSBB
VVggdHJhbnNmZXIgZnVuY3Rpb24gdGFrZXMgaXRzIG93bgo+IHJlZmVyZW5jZSBvbiB0aGUgQVVY
IHBvd2VyIGRvbWFpbiBhbHJlYWR5LiBUaGUgdHdvIHBsYWNlcyBkdXJpbmcgZGV0ZWN0Cj4gd2hp
Y2ggYWNjZXNzIGRpc3BsYXkgY29yZSByZWdpc3RlcnMgKG5vdCBzcGVjaWZpYyB0byBhCj4gcGlw
ZS9wb3J0L3RyYW5zY29kZXIpIG9ubHkgbmVlZCB0aGUgcG93ZXIgZG9tYWluIHRoYXQgaXMgcmVx
dWlyZWQgZm9yCj4gdGhhdCBhY2Nlc3MuIFRoYXQgcG93ZXIgZG9tYWluIGlzIGVxdWl2YWxlbnQg
dG8gdGhlIGRldmljZSBnbG9iYWwgcG93ZXIKPiBkb21haW4gb24gbW9zdCBwbGF0Zm9ybXMgKGVu
YWJsZWQgd2hlbmV2ZXIgd2UgaG9sZCBhIHJ1bnRpbWUgUE0KPiByZWZlcmVuY2UpIGV4Y2VwdCBv
biBDSFYvVkxWIHdoZXJlIGl0J3MgZXF1aXZhbGVudCB0byB0aGUgZGlzcGxheSBwb3dlcgo+IHdl
bGwuCj4gCj4gQWRkIGEgbmV3IHBvd2VyIGRvbWFpbiB0aGF0IHJlZmxlY3RzIHRoZSBhYm92ZSwg
YW5kIHVzZSB0aGlzIGF0IHRoZSB0d28KPiBzcG90cyBhY2Nlc3NpbmcgcmVnaXN0ZXJzLiBXaXRo
IHRoYXQgd2UgY2FuIGF2b2lkIHRha2luZyB0aGUgQVVYCj4gcmVmZXJlbmNlIGZvciB0aGUgd2hv
bGUgZHVyYXRpb24gb2YgdGhlIGRldGVjdCBmdW5jdGlvbi4KPiAKPiBQdXQgdGhlIGRvbWFpbnMg
YXN5bmNocm9ub3VzbHkgdG8gYXZvaWQgdGhlIHVubmVlZGVkIG9uLW9mZi1vbiB0b2dnbGluZy4K
PiAKPiBDYzogVmlsbGUgU3lyamFsYSA8dmlsbGUuc3lyamFsYUBsaW51eC5pbnRlbC5jb20+Cj4g
U2lnbmVkLW9mZi1ieTogSW1yZSBEZWFrIDxpbXJlLmRlYWtAaW50ZWwuY29tPgo+IC0tLQo+ICBk
cml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9kaXNwbGF5LmggICAgfCAgMSArCj4gIGRyaXZlcnMv
Z3B1L2RybS9pOTE1L2ludGVsX2RwLmMgICAgICAgICB8IDMyICsrKysrKysrKysrKysrKysrLS0t
LS0tLS0KPiAgZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfcnVudGltZV9wbS5jIHwgIDQgKysr
Kwo+ICAzIGZpbGVzIGNoYW5nZWQsIDI3IGluc2VydGlvbnMoKyksIDEwIGRlbGV0aW9ucygtKQo+
IAo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9kaXNwbGF5LmggYi9k
cml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9kaXNwbGF5LmgKPiBpbmRleCAxYjZmNWE3MTE4NGQu
LjdmM2ZhZmRmYmQ1ZiAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9k
aXNwbGF5LmgKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9kaXNwbGF5LmgKPiBA
QCAtMjIwLDYgKzIyMCw3IEBAIGVudW0gYXV4X2NoIHsKPiAgI2RlZmluZSBhdXhfY2hfbmFtZShh
KSAoKGEpICsgJ0EnKQo+ICAKPiAgZW51bSBpbnRlbF9kaXNwbGF5X3Bvd2VyX2RvbWFpbiB7Cj4g
KwlQT1dFUl9ET01BSU5fRElTUExBWV9DT1JFLAo+ICAJUE9XRVJfRE9NQUlOX1BJUEVfQSwKPiAg
CVBPV0VSX0RPTUFJTl9QSVBFX0IsCj4gIAlQT1dFUl9ET01BSU5fUElQRV9DLAo+IGRpZmYgLS1n
aXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9kcC5jIGIvZHJpdmVycy9ncHUvZHJtL2k5
MTUvaW50ZWxfZHAuYwo+IGluZGV4IDFlMDExOTk4ZTlkNS4uMjRjY2ExMmE5YTNlIDEwMDY0NAo+
IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX2RwLmMKPiArKysgYi9kcml2ZXJzL2dw
dS9kcm0vaTkxNS9pbnRlbF9kcC5jCj4gQEAgLTIxNiwxNSArMjE2LDIxIEBAIHN0YXRpYyBpbnQg
aW50ZWxfZHBfZ2V0X2ZpYV9zdXBwb3J0ZWRfbGFuZV9jb3VudChzdHJ1Y3QgaW50ZWxfZHAgKmlu
dGVsX2RwKQo+ICAJc3RydWN0IGludGVsX2RpZ2l0YWxfcG9ydCAqZGlnX3BvcnQgPSBkcF90b19k
aWdfcG9ydChpbnRlbF9kcCk7Cj4gIAlzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYg
PSB0b19pOTE1KGRpZ19wb3J0LT5iYXNlLmJhc2UuZGV2KTsKPiAgCWVudW0gdGNfcG9ydCB0Y19w
b3J0ID0gaW50ZWxfcG9ydF90b190YyhkZXZfcHJpdiwgZGlnX3BvcnQtPmJhc2UucG9ydCk7Cj4g
KwlpbnRlbF93YWtlcmVmX3Qgd2FrZXJlZjsKPiAgCXUzMiBsYW5lX2luZm87Cj4gIAo+ICAJaWYg
KHRjX3BvcnQgPT0gUE9SVF9UQ19OT05FIHx8IGRpZ19wb3J0LT50Y190eXBlICE9IFRDX1BPUlRf
VFlQRUMpCj4gIAkJcmV0dXJuIDQ7Cj4gIAo+ICsJd2FrZXJlZiA9IGludGVsX2Rpc3BsYXlfcG93
ZXJfZ2V0KGRldl9wcml2LCBQT1dFUl9ET01BSU5fRElTUExBWV9DT1JFKTsKPiArCj4gIAlsYW5l
X2luZm8gPSAoSTkxNV9SRUFEKFBPUlRfVFhfREZMRVhEUFNQKSAmCj4gIAkJICAgICBEUF9MQU5F
X0FTU0lHTk1FTlRfTUFTSyh0Y19wb3J0KSkgPj4KPiAgCQkgICAgRFBfTEFORV9BU1NJR05NRU5U
X1NISUZUKHRjX3BvcnQpOwo+ICAKPiArCWludGVsX2Rpc3BsYXlfcG93ZXJfcHV0X2FzeW5jKGRl
dl9wcml2LCBQT1dFUl9ET01BSU5fRElTUExBWV9DT1JFLAo+ICsJCQkJICAgICAgd2FrZXJlZik7
Cj4gKwoKRnV0dXJlIGlkZWE6IG1heWJlIHdlIHdhbnQgYSB3aXRoX3NvbWV0aGluZygpIHt9IGZv
ciB0aGlzIHNvcnQgb2YgdGhpbmc/Cgo+ICAJc3dpdGNoIChsYW5lX2luZm8pIHsKPiAgCWRlZmF1
bHQ6Cj4gIAkJTUlTU0lOR19DQVNFKGxhbmVfaW5mbyk7CgpVbnJlbGF0ZWQgYnV0IHRoaXMgdGhp
bmcgaGVyZSBsb29rcyBsaWtlIGEgaGFuZCByb2xsZWQgaHdlaWdodCgpLiBBbmQKZm9yIHNvbWUg
cmVhc29uIGl0J3MgdXNpbmcgZGVjaW1hbCBmb3IgYml0bWFza3MuCgo+IEBAIC01Mjk0LDcgKzUz
MDAsNyBAQCBzdGF0aWMgYm9vbCBpY2xfZGlnaXRhbF9wb3J0X2Nvbm5lY3RlZChzdHJ1Y3QgaW50
ZWxfZW5jb2RlciAqZW5jb2RlcikKPiAgICoKPiAgICogUmV0dXJuICV0cnVlIGlmIHBvcnQgaXMg
Y29ubmVjdGVkLCAlZmFsc2Ugb3RoZXJ3aXNlLgo+ICAgKi8KPiAtYm9vbCBpbnRlbF9kaWdpdGFs
X3BvcnRfY29ubmVjdGVkKHN0cnVjdCBpbnRlbF9lbmNvZGVyICplbmNvZGVyKQo+ICtzdGF0aWMg
Ym9vbCBfX2ludGVsX2RpZ2l0YWxfcG9ydF9jb25uZWN0ZWQoc3RydWN0IGludGVsX2VuY29kZXIg
KmVuY29kZXIpCj4gIHsKPiAgCXN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiA9IHRv
X2k5MTUoZW5jb2Rlci0+YmFzZS5kZXYpOwo+ICAKPiBAQCAtNTMyNCw2ICs1MzMwLDIwIEBAIGJv
b2wgaW50ZWxfZGlnaXRhbF9wb3J0X2Nvbm5lY3RlZChzdHJ1Y3QgaW50ZWxfZW5jb2RlciAqZW5j
b2RlcikKPiAgCXJldHVybiBmYWxzZTsKPiAgfQo+ICAKPiArYm9vbCBpbnRlbF9kaWdpdGFsX3Bv
cnRfY29ubmVjdGVkKHN0cnVjdCBpbnRlbF9lbmNvZGVyICplbmNvZGVyKQo+ICt7Cj4gKwlzdHJ1
Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYgPSB0b19pOTE1KGVuY29kZXItPmJhc2UuZGV2
KTsKPiArCWludGVsX3dha2VyZWZfdCB3YWtlcmVmOwo+ICsJYm9vbCByZXM7Cgpib29sIGlzX2Nv
bm5lY3RlZCBwZXJoYXBzPwoKPiArCj4gKwl3YWtlcmVmID0gaW50ZWxfZGlzcGxheV9wb3dlcl9n
ZXQoZGV2X3ByaXYsIFBPV0VSX0RPTUFJTl9ESVNQTEFZX0NPUkUpOwo+ICsJcmVzID0gX19pbnRl
bF9kaWdpdGFsX3BvcnRfY29ubmVjdGVkKGVuY29kZXIpOwo+ICsJaW50ZWxfZGlzcGxheV9wb3dl
cl9wdXRfYXN5bmMoZGV2X3ByaXYsIFBPV0VSX0RPTUFJTl9ESVNQTEFZX0NPUkUsCj4gKwkJCQkg
ICAgICB3YWtlcmVmKTsKPiArCj4gKwlyZXR1cm4gcmVzOwo+ICt9Cj4gKwo+ICBzdGF0aWMgc3Ry
dWN0IGVkaWQgKgo+ICBpbnRlbF9kcF9nZXRfZWRpZChzdHJ1Y3QgaW50ZWxfZHAgKmludGVsX2Rw
KQo+ICB7Cj4gQEAgLTUzNzcsMTYgKzUzOTcsMTEgQEAgaW50ZWxfZHBfZGV0ZWN0KHN0cnVjdCBk
cm1fY29ubmVjdG9yICpjb25uZWN0b3IsCj4gIAlzdHJ1Y3QgaW50ZWxfZGlnaXRhbF9wb3J0ICpk
aWdfcG9ydCA9IGRwX3RvX2RpZ19wb3J0KGludGVsX2RwKTsKPiAgCXN0cnVjdCBpbnRlbF9lbmNv
ZGVyICplbmNvZGVyID0gJmRpZ19wb3J0LT5iYXNlOwo+ICAJZW51bSBkcm1fY29ubmVjdG9yX3N0
YXR1cyBzdGF0dXM7Cj4gLQllbnVtIGludGVsX2Rpc3BsYXlfcG93ZXJfZG9tYWluIGF1eF9kb21h
aW4gPQo+IC0JCWludGVsX2F1eF9wb3dlcl9kb21haW4oZGlnX3BvcnQpOwo+IC0JaW50ZWxfd2Fr
ZXJlZl90IHdha2VyZWY7Cj4gIAo+ICAJRFJNX0RFQlVHX0tNUygiW0NPTk5FQ1RPUjolZDolc11c
biIsCj4gIAkJICAgICAgY29ubmVjdG9yLT5iYXNlLmlkLCBjb25uZWN0b3ItPm5hbWUpOwo+ICAJ
V0FSTl9PTighZHJtX21vZGVzZXRfaXNfbG9ja2VkKCZkZXZfcHJpdi0+ZHJtLm1vZGVfY29uZmln
LmNvbm5lY3Rpb25fbXV0ZXgpKTsKPiAgCj4gLQl3YWtlcmVmID0gaW50ZWxfZGlzcGxheV9wb3dl
cl9nZXQoZGV2X3ByaXYsIGF1eF9kb21haW4pOwo+IC0KPiAgCS8qIENhbid0IGRpc2Nvbm5lY3Qg
ZURQICovCj4gIAlpZiAoaW50ZWxfZHBfaXNfZWRwKGludGVsX2RwKSkKPiAgCQlzdGF0dXMgPSBl
ZHBfZGV0ZWN0KGludGVsX2RwKTsKPiBAQCAtNTQ1MCwxMCArNTQ2NSw4IEBAIGludGVsX2RwX2Rl
dGVjdChzdHJ1Y3QgZHJtX2Nvbm5lY3RvciAqY29ubmVjdG9yLAo+ICAJCWludCByZXQ7Cj4gIAo+
ICAJCXJldCA9IGludGVsX2RwX3JldHJhaW5fbGluayhlbmNvZGVyLCBjdHgpOwo+IC0JCWlmIChy
ZXQpIHsKPiAtCQkJaW50ZWxfZGlzcGxheV9wb3dlcl9wdXQoZGV2X3ByaXYsIGF1eF9kb21haW4s
IHdha2VyZWYpOwo+ICsJCWlmIChyZXQpCj4gIAkJCXJldHVybiByZXQ7Cj4gLQkJfQo+ICAJfQo+
ICAKPiAgCS8qCj4gQEAgLTU0NzUsNyArNTQ4OCw2IEBAIGludGVsX2RwX2RldGVjdChzdHJ1Y3Qg
ZHJtX2Nvbm5lY3RvciAqY29ubmVjdG9yLAo+ICAJaWYgKHN0YXR1cyAhPSBjb25uZWN0b3Jfc3Rh
dHVzX2Nvbm5lY3RlZCAmJiAhaW50ZWxfZHAtPmlzX21zdCkKPiAgCQlpbnRlbF9kcF91bnNldF9l
ZGlkKGludGVsX2RwKTsKPiAgCj4gLQlpbnRlbF9kaXNwbGF5X3Bvd2VyX3B1dChkZXZfcHJpdiwg
YXV4X2RvbWFpbiwgd2FrZXJlZik7Cj4gIAlyZXR1cm4gc3RhdHVzOwo+ICB9Cj4gIAo+IGRpZmYg
LS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9ydW50aW1lX3BtLmMgYi9kcml2ZXJz
L2dwdS9kcm0vaTkxNS9pbnRlbF9ydW50aW1lX3BtLmMKPiBpbmRleCA4MjlkNDgzZDI3ZTkuLjYx
OGRkNDJmMWIyZCAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9ydW50
aW1lX3BtLmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9ydW50aW1lX3BtLmMK
PiBAQCAtNDA2LDYgKzQwNiw4IEBAIGNvbnN0IGNoYXIgKgo+ICBpbnRlbF9kaXNwbGF5X3Bvd2Vy
X2RvbWFpbl9zdHIoZW51bSBpbnRlbF9kaXNwbGF5X3Bvd2VyX2RvbWFpbiBkb21haW4pCj4gIHsK
PiAgCXN3aXRjaCAoZG9tYWluKSB7Cj4gKwljYXNlIFBPV0VSX0RPTUFJTl9ESVNQTEFZX0NPUkU6
Cj4gKwkJcmV0dXJuICJESVNQTEFZX0NPUkUiOwo+ICAJY2FzZSBQT1dFUl9ET01BSU5fUElQRV9B
Ogo+ICAJCXJldHVybiAiUElQRV9BIjsKPiAgCWNhc2UgUE9XRVJfRE9NQUlOX1BJUEVfQjoKPiBA
QCAtMjM4Myw2ICsyMzg1LDcgQEAgdm9pZCBpbnRlbF9kaXNwbGF5X3Bvd2VyX3B1dChzdHJ1Y3Qg
ZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYsCj4gIAlCSVRfVUxMKFBPV0VSX0RPTUFJTl9JTklU
KSkKPiAgCj4gICNkZWZpbmUgVkxWX0RJU1BMQVlfUE9XRVJfRE9NQUlOUyAoCQlcCj4gKwlCSVRf
VUxMKFBPV0VSX0RPTUFJTl9ESVNQTEFZX0NPUkUpIHwJXAo+ICAJQklUX1VMTChQT1dFUl9ET01B
SU5fUElQRV9BKSB8CQlcCj4gIAlCSVRfVUxMKFBPV0VSX0RPTUFJTl9QSVBFX0IpIHwJCVwKPiAg
CUJJVF9VTEwoUE9XRVJfRE9NQUlOX1BJUEVfQV9QQU5FTF9GSVRURVIpIHwJXAo+IEBAIC0yNDI5
LDYgKzI0MzIsNyBAQCB2b2lkIGludGVsX2Rpc3BsYXlfcG93ZXJfcHV0KHN0cnVjdCBkcm1faTkx
NV9wcml2YXRlICpkZXZfcHJpdiwKPiAgCUJJVF9VTEwoUE9XRVJfRE9NQUlOX0lOSVQpKQo+ICAK
PiAgI2RlZmluZSBDSFZfRElTUExBWV9QT1dFUl9ET01BSU5TICgJCVwKPiArCUJJVF9VTEwoUE9X
RVJfRE9NQUlOX0RJU1BMQVlfQ09SRSkgfAlcCj4gIAlCSVRfVUxMKFBPV0VSX0RPTUFJTl9QSVBF
X0EpIHwJCVwKPiAgCUJJVF9VTEwoUE9XRVJfRE9NQUlOX1BJUEVfQikgfAkJXAo+ICAJQklUX1VM
TChQT1dFUl9ET01BSU5fUElQRV9DKSB8CQlcCj4gLS0gCj4gMi4xNy4xCgotLSAKVmlsbGUgU3ly
asOkbMOkCkludGVsCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fCkludGVsLWdmeCBtYWlsaW5nIGxpc3QKSW50ZWwtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9y
ZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2ludGVsLWdm
eA==

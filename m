Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id BEA4598766
	for <lists+intel-gfx@lfdr.de>; Thu, 22 Aug 2019 00:31:42 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id B9A226E3C1;
	Wed, 21 Aug 2019 22:31:40 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from fireflyinternet.com (mail.fireflyinternet.com [109.228.58.192])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 0A03C6E3C1
 for <intel-gfx@lists.freedesktop.org>; Wed, 21 Aug 2019 22:31:38 +0000 (UTC)
X-Default-Received-SPF: pass (skip=forwardok (res=PASS))
 x-ip-name=78.156.65.138; 
Received: from localhost (unverified [78.156.65.138]) 
 by fireflyinternet.com (Firefly Internet (M1)) with ESMTP (TLS) id
 18219961-1500050 for multiple; Wed, 21 Aug 2019 23:31:30 +0100
MIME-Version: 1.0
To: Stuart Summers <stuart.summers@intel.com>, intel-gfx@lists.freedesktop.org
From: Chris Wilson <chris@chris-wilson.co.uk>
In-Reply-To: <20190820230544.170010-6-stuart.summers@intel.com>
References: <20190820230544.170010-1-stuart.summers@intel.com>
 <20190820230544.170010-6-stuart.summers@intel.com>
Message-ID: <156642668792.20466.14572440769675868949@skylake-alporthouse-com>
User-Agent: alot/0.6
Date: Wed, 21 Aug 2019 23:31:27 +0100
Subject: Re: [Intel-gfx] [PATCH 05/11] drm/i915: Use local variables for
 subslice_mask for device info
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

UXVvdGluZyBTdHVhcnQgU3VtbWVycyAoMjAxOS0wOC0yMSAwMDowNTozOCkKPiBXaGVuIHNldHRp
bmcgdXAgc3Vic2xpY2VfbWFzaywgaW5zdGVhZCBvZiBvcGVyYXRpbmcgb24gdGhlIHNsaWNlCj4g
YXJyYXkgZGlyZWN0bHksIHVzZSBhIGxvY2FsIHZhcmlhYmxlIHRvIHN0YXJ0IGJpdHMgcGVyIHNs
aWNlLCB0aGVuCj4gdXNlIHRoaXMgdG8gc2V0IHRoZSBwZXIgc2xpY2UgYXJyYXkgaW4gb25lIHN0
ZXAuCj4gCj4gU2lnbmVkLW9mZi1ieTogU3R1YXJ0IFN1bW1lcnMgPHN0dWFydC5zdW1tZXJzQGlu
dGVsLmNvbT4KPiAtLS0KPiAgZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfZGV2aWNlX2luZm8u
YyB8IDQ5ICsrKysrKysrKysrKystLS0tLS0tLS0tLQo+ICAxIGZpbGUgY2hhbmdlZCwgMjYgaW5z
ZXJ0aW9ucygrKSwgMjMgZGVsZXRpb25zKC0pCj4gCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1
L2RybS9pOTE1L2ludGVsX2RldmljZV9pbmZvLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRl
bF9kZXZpY2VfaW5mby5jCj4gaW5kZXggYjFhNzllZDQwOGViLi41MjUxNWVmZTlmNGUgMTAwNjQ0
Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfZGV2aWNlX2luZm8uYwo+ICsrKyBi
L2RyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX2RldmljZV9pbmZvLmMKPiBAQCAtMjM1LDE4ICsy
MzUsNiBAQCBzdGF0aWMgdm9pZCBnZW4xMF9zc2V1X2luZm9faW5pdChzdHJ1Y3QgZHJtX2k5MTVf
cHJpdmF0ZSAqZGV2X3ByaXYpCj4gICAgICAgICBzc2V1LT5zbGljZV9tYXNrID0gKGZ1c2UyICYg
R0VOMTBfRjJfU19FTkFfTUFTSykgPj4KPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgR0VO
MTBfRjJfU19FTkFfU0hJRlQ7Cj4gIAo+IC0gICAgICAgc3Vic2xpY2VfbWFzayA9ICgxIDw8IDQp
IC0gMTsKPiAtICAgICAgIHN1YnNsaWNlX21hc2sgJj0gfigoZnVzZTIgJiBHRU4xMF9GMl9TU19E
SVNfTUFTSykgPj4KPiAtICAgICAgICAgICAgICAgICAgICAgICAgICBHRU4xMF9GMl9TU19ESVNf
U0hJRlQpOwo+IC0KPiAtICAgICAgIC8qCj4gLSAgICAgICAgKiBTbGljZTAgY2FuIGhhdmUgdXAg
dG8gMyBzdWJzbGljZXMsIGJ1dCB0aGVyZSBhcmUgb25seSAyIGluCj4gLSAgICAgICAgKiBzbGlj
ZTEvMi4KPiAtICAgICAgICAqLwo+IC0gICAgICAgc3NldS0+c3Vic2xpY2VfbWFza1swXSA9IHN1
YnNsaWNlX21hc2s7Cj4gLSAgICAgICBmb3IgKHMgPSAxOyBzIDwgc3NldS0+bWF4X3NsaWNlczsg
cysrKQo+IC0gICAgICAgICAgICAgICBzc2V1LT5zdWJzbGljZV9tYXNrW3NdID0gc3Vic2xpY2Vf
bWFzayAmIDB4MzsKPiAtCj4gICAgICAgICAvKiBTbGljZTAgKi8KPiAgICAgICAgIGV1X2VuID0g
fkk5MTVfUkVBRChHRU44X0VVX0RJU0FCTEUwKTsKPiAgICAgICAgIGZvciAoc3MgPSAwOyBzcyA8
IHNzZXUtPm1heF9zdWJzbGljZXM7IHNzKyspCj4gQEAgLTI3MCwxNCArMjU4LDI0IEBAIHN0YXRp
YyB2b2lkIGdlbjEwX3NzZXVfaW5mb19pbml0KHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZf
cHJpdikKPiAgICAgICAgIGV1X2VuID0gfkk5MTVfUkVBRChHRU4xMF9FVV9ESVNBQkxFMyk7Cj4g
ICAgICAgICBzc2V1X3NldF9ldXMoc3NldSwgNSwgMSwgZXVfZW4gJiBldV9tYXNrKTsKPiAgCj4g
LSAgICAgICAvKiBEbyBhIHNlY29uZCBwYXNzIHdoZXJlIHdlIG1hcmsgdGhlIHN1YnNsaWNlcyBk
aXNhYmxlZCBpZiBhbGwgdGhlaXIKPiAtICAgICAgICAqIGV1cyBhcmUgb2ZmLgo+IC0gICAgICAg
ICovCj4gKyAgICAgICBzdWJzbGljZV9tYXNrID0gKDEgPDwgNCkgLSAxOwo+ICsgICAgICAgc3Vi
c2xpY2VfbWFzayAmPSB+KChmdXNlMiAmIEdFTjEwX0YyX1NTX0RJU19NQVNLKSA+Pgo+ICsgICAg
ICAgICAgICAgICAgICAgICAgICAgIEdFTjEwX0YyX1NTX0RJU19TSElGVCk7Cj4gKwo+ICAgICAg
ICAgZm9yIChzID0gMDsgcyA8IHNzZXUtPm1heF9zbGljZXM7IHMrKykgewo+ICsgICAgICAgICAg
ICAgICB1MzIgc3Vic2xpY2VfbWFza193aXRoX2V1cyA9IHN1YnNsaWNlX21hc2s7Cj4gKwo+ICAg
ICAgICAgICAgICAgICBmb3IgKHNzID0gMDsgc3MgPCBzc2V1LT5tYXhfc3Vic2xpY2VzOyBzcysr
KSB7Cj4gICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNzZXVfZ2V0X2V1cyhzc2V1LCBzLCBz
cykgPT0gMCkKPiAtICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNzZXUtPnN1YnNsaWNl
X21hc2tbc10gJj0gfkJJVChzcyk7Cj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBz
dWJzbGljZV9tYXNrX3dpdGhfZXVzICY9IH5CSVQoc3MpOwo+ICAgICAgICAgICAgICAgICB9Cj4g
Kwo+ICsgICAgICAgICAgICAgICAvKgo+ICsgICAgICAgICAgICAgICAgKiBTbGljZTAgY2FuIGhh
dmUgdXAgdG8gMyBzdWJzbGljZXMsIGJ1dCB0aGVyZSBhcmUgb25seSAyIGluCj4gKyAgICAgICAg
ICAgICAgICAqIHNsaWNlMS8yLgo+ICsgICAgICAgICAgICAgICAgKi8KPiArICAgICAgICAgICAg
ICAgc3NldS0+c3Vic2xpY2VfbWFza1tzXSA9IHMgPT0gMCA/IHN1YnNsaWNlX21hc2tfd2l0aF9l
dXMgOgo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
c3Vic2xpY2VfbWFza193aXRoX2V1cyAmIDB4MzsKCk9rLiBJIGhhdmUgbm8gaWRlYSB3aGF0IHRo
ZSB0b3BvbG9neSBpcyBvciB3aHksIGJ1dCBJIGZvbGxvd2VkIHRoZSBjb2RlCmFuZCBpdCBzaG91
bGQgbm90IGJlIGFueSBsb2dpYyBjaGFuZ2VzLgoKPiAgICAgICAgIH0KPiAgCj4gICAgICAgICBz
c2V1LT5ldV90b3RhbCA9IGNvbXB1dGVfZXVfdG90YWwoc3NldSk7Cj4gQEAgLTMwMyw2ICszMDEs
NyBAQCBzdGF0aWMgdm9pZCBjaGVycnl2aWV3X3NzZXVfaW5mb19pbml0KHN0cnVjdCBkcm1faTkx
NV9wcml2YXRlICpkZXZfcHJpdikKPiAgewo+ICAgICAgICAgc3RydWN0IHNzZXVfZGV2X2luZm8g
KnNzZXUgPSAmUlVOVElNRV9JTkZPKGRldl9wcml2KS0+c3NldTsKPiAgICAgICAgIHUzMiBmdXNl
Owo+ICsgICAgICAgdTggc3Vic2xpY2VfbWFzayA9IDA7Cj4gIAo+ICAgICAgICAgZnVzZSA9IEk5
MTVfUkVBRChDSFZfRlVTRV9HVCk7Cj4gIAo+IEBAIC0zMTYsNyArMzE1LDcgQEAgc3RhdGljIHZv
aWQgY2hlcnJ5dmlld19zc2V1X2luZm9faW5pdChzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2
X3ByaXYpCj4gICAgICAgICAgICAgICAgICAgICAgICAgKCgoZnVzZSAmIENIVl9GR1RfRVVfRElT
X1NTMF9SMV9NQVNLKSA+Pgo+ICAgICAgICAgICAgICAgICAgICAgICAgICAgQ0hWX0ZHVF9FVV9E
SVNfU1MwX1IxX1NISUZUKSA8PCA0KTsKPiAgCj4gLSAgICAgICAgICAgICAgIHNzZXUtPnN1YnNs
aWNlX21hc2tbMF0gfD0gQklUKDApOwo+ICsgICAgICAgICAgICAgICBzdWJzbGljZV9tYXNrIHw9
IEJJVCgwKTsKPiAgICAgICAgICAgICAgICAgc3NldV9zZXRfZXVzKHNzZXUsIDAsIDAsIH5kaXNh
YmxlZF9tYXNrKTsKPiAgICAgICAgIH0KPiAgCj4gQEAgLTMyNywxMCArMzI2LDEyIEBAIHN0YXRp
YyB2b2lkIGNoZXJyeXZpZXdfc3NldV9pbmZvX2luaXQoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUg
KmRldl9wcml2KQo+ICAgICAgICAgICAgICAgICAgICAgICAgICgoKGZ1c2UgJiBDSFZfRkdUX0VV
X0RJU19TUzFfUjFfTUFTSykgPj4KPiAgICAgICAgICAgICAgICAgICAgICAgICAgIENIVl9GR1Rf
RVVfRElTX1NTMV9SMV9TSElGVCkgPDwgNCk7Cj4gIAo+IC0gICAgICAgICAgICAgICBzc2V1LT5z
dWJzbGljZV9tYXNrWzBdIHw9IEJJVCgxKTsKPiArICAgICAgICAgICAgICAgc3Vic2xpY2VfbWFz
ayB8PSBCSVQoMSk7Cj4gICAgICAgICAgICAgICAgIHNzZXVfc2V0X2V1cyhzc2V1LCAwLCAxLCB+
ZGlzYWJsZWRfbWFzayk7Cj4gICAgICAgICB9Cj4gIAo+ICsgICAgICAgc3NldS0+c3Vic2xpY2Vf
bWFza1swXSA9IHN1YnNsaWNlX21hc2s7Cj4gKwo+ICAgICAgICAgc3NldS0+ZXVfdG90YWwgPSBj
b21wdXRlX2V1X3RvdGFsKHNzZXUpOwoKT2suCgo+ICAKPiAgICAgICAgIC8qCj4gQEAgLTU0MCw2
ICs1NDEsNyBAQCBzdGF0aWMgdm9pZCBoYXN3ZWxsX3NzZXVfaW5mb19pbml0KHN0cnVjdCBkcm1f
aTkxNV9wcml2YXRlICpkZXZfcHJpdikKPiAgewo+ICAgICAgICAgc3RydWN0IHNzZXVfZGV2X2lu
Zm8gKnNzZXUgPSAmUlVOVElNRV9JTkZPKGRldl9wcml2KS0+c3NldTsKPiAgICAgICAgIHUzMiBm
dXNlMTsKPiArICAgICAgIHU4IHN1YnNsaWNlX21hc2sgPSAwOwo+ICAgICAgICAgaW50IHMsIHNz
Owo+ICAKPiAgICAgICAgIC8qCj4gQEAgLTU1MiwxNiArNTU0LDE1IEBAIHN0YXRpYyB2b2lkIGhh
c3dlbGxfc3NldV9pbmZvX2luaXQoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2KQo+
ICAgICAgICAgICAgICAgICAvKiBmYWxsIHRocm91Z2ggKi8KPiAgICAgICAgIGNhc2UgMToKPiAg
ICAgICAgICAgICAgICAgc3NldS0+c2xpY2VfbWFzayA9IEJJVCgwKTsKPiAtICAgICAgICAgICAg
ICAgc3NldS0+c3Vic2xpY2VfbWFza1swXSA9IEJJVCgwKTsKPiArICAgICAgICAgICAgICAgc3Vi
c2xpY2VfbWFzayA9IEJJVCgwKTsKPiAgICAgICAgICAgICAgICAgYnJlYWs7Cj4gICAgICAgICBj
YXNlIDI6Cj4gICAgICAgICAgICAgICAgIHNzZXUtPnNsaWNlX21hc2sgPSBCSVQoMCk7Cj4gLSAg
ICAgICAgICAgICAgIHNzZXUtPnN1YnNsaWNlX21hc2tbMF0gPSBCSVQoMCkgfCBCSVQoMSk7Cj4g
KyAgICAgICAgICAgICAgIHN1YnNsaWNlX21hc2sgPSBCSVQoMCkgfCBCSVQoMSk7Cj4gICAgICAg
ICAgICAgICAgIGJyZWFrOwo+ICAgICAgICAgY2FzZSAzOgo+ICAgICAgICAgICAgICAgICBzc2V1
LT5zbGljZV9tYXNrID0gQklUKDApIHwgQklUKDEpOwo+IC0gICAgICAgICAgICAgICBzc2V1LT5z
dWJzbGljZV9tYXNrWzBdID0gQklUKDApIHwgQklUKDEpOwo+IC0gICAgICAgICAgICAgICBzc2V1
LT5zdWJzbGljZV9tYXNrWzFdID0gQklUKDApIHwgQklUKDEpOwo+ICsgICAgICAgICAgICAgICBz
dWJzbGljZV9tYXNrID0gQklUKDApIHwgQklUKDEpOwo+ICAgICAgICAgICAgICAgICBicmVhazsK
PiAgICAgICAgIH0KPiAgCj4gQEAgLTU4MywxMCArNTg0LDEyIEBAIHN0YXRpYyB2b2lkIGhhc3dl
bGxfc3NldV9pbmZvX2luaXQoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2KQo+ICAg
ICAgICAgfQo+ICAKPiAgICAgICAgIGludGVsX3NzZXVfc2V0X2luZm8oc3NldSwgaHdlaWdodDgo
c3NldS0+c2xpY2VfbWFzayksCj4gLSAgICAgICAgICAgICAgICAgICAgICAgICAgIGh3ZWlnaHQ4
KHNzZXUtPnN1YnNsaWNlX21hc2tbMF0pLAo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICBo
d2VpZ2h0OChzdWJzbGljZV9tYXNrKSwKPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Nl
dS0+ZXVfcGVyX3N1YnNsaWNlKTsKPiAgCj4gICAgICAgICBmb3IgKHMgPSAwOyBzIDwgc3NldS0+
bWF4X3NsaWNlczsgcysrKSB7Cj4gKyAgICAgICAgICAgICAgIHNzZXUtPnN1YnNsaWNlX21hc2tb
c10gPSBzdWJzbGljZV9tYXNrOwo+ICsKPiAgICAgICAgICAgICAgICAgZm9yIChzcyA9IDA7IHNz
IDwgc3NldS0+bWF4X3N1YnNsaWNlczsgc3MrKykgewo+ICAgICAgICAgICAgICAgICAgICAgICAg
IHNzZXVfc2V0X2V1cyhzc2V1LCBzLCBzcywKPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgKDFVTCA8PCBzc2V1LT5ldV9wZXJfc3Vic2xpY2UpIC0gMSk7CgpPay4KClJldmll
d2VkLWJ5OiBDaHJpcyBXaWxzb24gPGNocmlzQGNocmlzLXdpbHNvbi5jby51az4KLUNocmlzCl9f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCkludGVsLWdmeCBt
YWlsaW5nIGxpc3QKSW50ZWwtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3Rz
LmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2ludGVsLWdmeA==

Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id BD55135C19
	for <lists+intel-gfx@lfdr.de>; Wed,  5 Jun 2019 13:55:29 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 9C02C898BC;
	Wed,  5 Jun 2019 11:55:27 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mail-vs1-xe41.google.com (mail-vs1-xe41.google.com
 [IPv6:2607:f8b0:4864:20::e41])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 2A8AE898BC
 for <intel-gfx@lists.freedesktop.org>; Wed,  5 Jun 2019 11:55:26 +0000 (UTC)
Received: by mail-vs1-xe41.google.com with SMTP id d128so15474407vsc.10
 for <intel-gfx@lists.freedesktop.org>; Wed, 05 Jun 2019 04:55:26 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:mime-version:references:in-reply-to:from:date
 :message-id:subject:to:cc;
 bh=8G88oZUjn7w8znBnu6ir4JcnIY5kNS4rqugRjUGYfxY=;
 b=qbf+FODlO8SWijHdhx2ahatUztbXGB0dreEmOju6hMKkMisp7A7mxn730MV22L1k5S
 yEWpS/tenP8KIB4ylyLP4+cc2f6XHpkadfiuXE+e7kOyhpF63tgpHE8C3HYIMjImhRWX
 /TCIs3g5ZgwVGrbLZNJ4C9I/w7o2PAVxNM6fHjbl7FDS6KlZHoaIpHhPdDmVWoHfKl6c
 lGXXwAns4swSINw1xwKBpRcJ7N29PXMwRtP0orLpbvj25x+4Ki8WLa9zbu2LGAsqsi6M
 M2e4IbMwclcJgje2VLEIaMxvZCW6taSC2J0KK+fsJETcbQlhwwkHmdi4g9zg4ZDE5y3Z
 cvSg==
X-Gm-Message-State: APjAAAV4pD30ote3Q3aAC+F9WtncehfzE66jwJom7IyIhsNeq7WzGTtA
 9PVMKq2Px26k0VMsMDWiB18DcPxLY0vswi0Y18c=
X-Google-Smtp-Source: APXvYqwVAa1BuDeiO5k4/3HDR39KPltYOAZTfW9n1list+NHbnLTPUeqbdAB6uH4gBeykVTa0V4q6OToF1WOlFUQg9I=
X-Received: by 2002:a67:6904:: with SMTP id e4mr9950431vsc.119.1559735725173; 
 Wed, 05 Jun 2019 04:55:25 -0700 (PDT)
MIME-Version: 1.0
References: <20190603135910.15979-1-chris@chris-wilson.co.uk>
 <20190603135910.15979-7-chris@chris-wilson.co.uk>
In-Reply-To: <20190603135910.15979-7-chris@chris-wilson.co.uk>
From: Matthew Auld <matthew.william.auld@gmail.com>
Date: Wed, 5 Jun 2019 12:54:59 +0100
Message-ID: <CAM0jSHNor=5z-0oyNxsGLPCcgy=37O6=eKJN2HwL1NgDWhzYDg@mail.gmail.com>
To: Chris Wilson <chris@chris-wilson.co.uk>
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=gmail.com; s=20161025;
 h=mime-version:references:in-reply-to:from:date:message-id:subject:to
 :cc;
 bh=8G88oZUjn7w8znBnu6ir4JcnIY5kNS4rqugRjUGYfxY=;
 b=IcABriGIqKdGqgZVtWh/v37+77SFYAymPSCtLJ4dlB9wdZBDAkEbjKN8Ai1cE1thkE
 78i/ZB3LI7a/dguY1MFDcS9MkMXceBrTRJjPWnDI/1Oech0+WU6rpLBVDxX8kh0W3XOU
 A1OGMSfq0vFkucU+Aeamt4kkcAEohqkh3JAoYtT6ZHLtcYGshJu3V7C3/b0KVi8cZ92g
 42/9NkTGQ8ju2EL/R/359ZtMBLH4uALnpSk7/5dqEkXLnCeeFYuPm+5shCoJAWJ6hqhd
 I8s0lka8CiY/8LTbww721EuMoSszBl7Mklrw/5O7aIFIxFcjGaIUYDCVR3mDXDnuNUuK
 TKzg==
Subject: Re: [Intel-gfx] [PATCH 07/15] drm/i915: Move object close under its
 own lock
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: Intel Graphics Development <intel-gfx@lists.freedesktop.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

T24gTW9uLCAzIEp1biAyMDE5IGF0IDE1OjAwLCBDaHJpcyBXaWxzb24gPGNocmlzQGNocmlzLXdp
bHNvbi5jby51az4gd3JvdGU6Cj4KPiBVc2UgaTkxNV9nZW1fb2JqZWN0X2xvY2soKSB0byBndWFy
ZCB0aGUgTFVUIGFuZCBhY3RpdmUgcmVmZXJlbmNlIHRvCj4gYWxsb3cgdXMgdG8gYnJlYWsgZnJl
ZSBvZiBzdHJ1Y3RfbXV0ZXggZm9yIGhhbmRsaW5nIEdFTV9DTE9TRS4KPgo+IFRlc3RjYXNlOiBp
Z3QvZ2VtX2Nsb3NlX3JhY2UKPiBUZXN0Y2FzZTogaWd0L2dlbV9leGVjX3BhcmFsbGVsCj4gU2ln
bmVkLW9mZi1ieTogQ2hyaXMgV2lsc29uIDxjaHJpc0BjaHJpcy13aWxzb24uY28udWs+Cj4gLS0t
Cj4gIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9jb250ZXh0LmMgICB8IDc1ICsr
KysrKysrKystLS0tLS0tLS0KPiAgLi4uL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fY29udGV4
dF90eXBlcy5oIHwgMTIgKy0tCj4gIC4uLi9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX2V4ZWNi
dWZmZXIuYyAgICB8IDI1ICsrKysrLS0KPiAgZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVf
Z2VtX29iamVjdC5jICAgIHwgMzggKysrKysrLS0tLQo+ICAuLi4vZ3B1L2RybS9pOTE1L2dlbS9p
OTE1X2dlbV9vYmplY3RfdHlwZXMuaCAgfCAgMSAtCj4gIC4uLi9ncHUvZHJtL2k5MTUvZ2VtL3Nl
bGZ0ZXN0cy9tb2NrX2NvbnRleHQuYyB8ICAxIC0KPiAgZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkx
NV9kcnYuaCAgICAgICAgICAgICAgIHwgIDQgKy0KPiAgZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkx
NV9nZW0uYyAgICAgICAgICAgICAgIHwgIDEgKwo+ICBkcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1
X2dlbV9ndHQuYyAgICAgICAgICAgfCAgMSArCj4gIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVf
dGltZWxpbmUuYyAgICAgICAgICB8IDEzICsrLS0KPiAgZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkx
NV92bWEuYyAgICAgICAgICAgICAgIHwgNDIgKysrKysrKy0tLS0KPiAgZHJpdmVycy9ncHUvZHJt
L2k5MTUvaTkxNV92bWEuaCAgICAgICAgICAgICAgIHwgMTcgKystLS0KPiAgLi4uL2dwdS9kcm0v
aTkxNS9zZWxmdGVzdHMvbW9ja19nZW1fZGV2aWNlLmMgIHwgIDEgKwo+ICAxMyBmaWxlcyBjaGFu
Z2VkLCAxMzEgaW5zZXJ0aW9ucygrKSwgMTAwIGRlbGV0aW9ucygtKQo+Cj4gZGlmZiAtLWdpdCBh
L2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9jb250ZXh0LmMgYi9kcml2ZXJzL2dw
dS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fY29udGV4dC5jCj4gaW5kZXggMDg3MjFlZjYyZTRlLi5m
YjAzYTE5OTMyY2YgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVf
Z2VtX2NvbnRleHQuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9j
b250ZXh0LmMKPiBAQCAtOTUsMjQgKzk1LDQwIEBAIHZvaWQgaTkxNV9sdXRfaGFuZGxlX2ZyZWUo
c3RydWN0IGk5MTVfbHV0X2hhbmRsZSAqbHV0KQo+Cj4gIHN0YXRpYyB2b2lkIGx1dF9jbG9zZShz
dHJ1Y3QgaTkxNV9nZW1fY29udGV4dCAqY3R4KQo+ICB7Cj4gLSAgICAgICBzdHJ1Y3QgaTkxNV9s
dXRfaGFuZGxlICpsdXQsICpsbjsKPiAgICAgICAgIHN0cnVjdCByYWRpeF90cmVlX2l0ZXIgaXRl
cjsKPiAgICAgICAgIHZvaWQgX19yY3UgKipzbG90Owo+Cj4gLSAgICAgICBsaXN0X2Zvcl9lYWNo
X2VudHJ5X3NhZmUobHV0LCBsbiwgJmN0eC0+aGFuZGxlc19saXN0LCBjdHhfbGluaykgewo+IC0g
ICAgICAgICAgICAgICBsaXN0X2RlbCgmbHV0LT5vYmpfbGluayk7Cj4gLSAgICAgICAgICAgICAg
IGk5MTVfbHV0X2hhbmRsZV9mcmVlKGx1dCk7Cj4gLSAgICAgICB9Cj4gLSAgICAgICBJTklUX0xJ
U1RfSEVBRCgmY3R4LT5oYW5kbGVzX2xpc3QpOwo+ICsgICAgICAgbG9ja2RlcF9hc3NlcnRfaGVs
ZCgmY3R4LT5tdXRleCk7Cj4KPiAgICAgICAgIHJjdV9yZWFkX2xvY2soKTsKPiAgICAgICAgIHJh
ZGl4X3RyZWVfZm9yX2VhY2hfc2xvdChzbG90LCAmY3R4LT5oYW5kbGVzX3ZtYSwgJml0ZXIsIDAp
IHsKPiAgICAgICAgICAgICAgICAgc3RydWN0IGk5MTVfdm1hICp2bWEgPSByY3VfZGVyZWZlcmVu
Y2VfcmF3KCpzbG90KTsKPiArICAgICAgICAgICAgICAgc3RydWN0IGRybV9pOTE1X2dlbV9vYmpl
Y3QgKm9iaiA9IHZtYS0+b2JqOwo+ICsgICAgICAgICAgICAgICBzdHJ1Y3QgaTkxNV9sdXRfaGFu
ZGxlICpsdXQ7Cj4gKwo+ICsgICAgICAgICAgICAgICByY3VfcmVhZF91bmxvY2soKTsKPiArICAg
ICAgICAgICAgICAgaTkxNV9nZW1fb2JqZWN0X2xvY2sob2JqKTsKPiArICAgICAgICAgICAgICAg
bGlzdF9mb3JfZWFjaF9lbnRyeShsdXQsICZvYmotPmx1dF9saXN0LCBvYmpfbGluaykgewo+ICsg
ICAgICAgICAgICAgICAgICAgICAgIGlmIChsdXQtPmN0eCAhPSBjdHgpCj4gKyAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICBjb250aW51ZTsKPgo+IC0gICAgICAgICAgICAgICByYWRpeF90
cmVlX2l0ZXJfZGVsZXRlKCZjdHgtPmhhbmRsZXNfdm1hLCAmaXRlciwgc2xvdCk7Cj4gKyAgICAg
ICAgICAgICAgICAgICAgICAgaWYgKGx1dC0+aGFuZGxlICE9IGl0ZXIuaW5kZXgpCj4gKyAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTsKPgo+IC0gICAgICAgICAgICAgICB2
bWEtPm9wZW5fY291bnQtLTsKPiAtICAgICAgICAgICAgICAgaTkxNV92bWFfcHV0KHZtYSk7Cj4g
KyAgICAgICAgICAgICAgICAgICAgICAgbGlzdF9kZWwoJmx1dC0+b2JqX2xpbmspOwo+ICsgICAg
ICAgICAgICAgICAgICAgICAgIGJyZWFrOwo+ICsgICAgICAgICAgICAgICB9Cj4gKyAgICAgICAg
ICAgICAgIGk5MTVfZ2VtX29iamVjdF91bmxvY2sob2JqKTsKPiArICAgICAgICAgICAgICAgcmN1
X3JlYWRfbG9jaygpOwo+ICsKPiArICAgICAgICAgICAgICAgaWYgKCZsdXQtPm9ial9saW5rICE9
ICZvYmotPmx1dF9saXN0KSB7CgpTbyBtZWFuLgoKRndpdywKUmV2aWV3ZWQtYnk6IE1hdHRoZXcg
QXVsZCA8bWF0dGhldy5hdWxkQGludGVsLmNvbT4KX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX18KSW50ZWwtZ2Z4IG1haWxpbmcgbGlzdApJbnRlbC1nZnhAbGlz
dHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4v
bGlzdGluZm8vaW50ZWwtZ2Z4

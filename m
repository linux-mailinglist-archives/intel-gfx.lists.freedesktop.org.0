Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id E1CF366776
	for <lists+intel-gfx@lfdr.de>; Fri, 12 Jul 2019 09:07:53 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 3F7306E2DF;
	Fri, 12 Jul 2019 07:07:48 +0000 (UTC)
X-Original-To: Intel-GFX@lists.freedesktop.org
Delivered-To: Intel-GFX@lists.freedesktop.org
Received: from mga14.intel.com (mga14.intel.com [192.55.52.115])
 by gabe.freedesktop.org (Postfix) with ESMTPS id AF3736E2DD
 for <Intel-GFX@lists.freedesktop.org>; Fri, 12 Jul 2019 07:07:46 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga008.jf.intel.com ([10.7.209.65])
 by fmsmga103.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 12 Jul 2019 00:07:46 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.63,481,1557212400"; d="scan'208";a="160310742"
Received: from relo-linux-5.ra.intel.com ([10.54.133.84])
 by orsmga008.jf.intel.com with ESMTP; 12 Jul 2019 00:07:45 -0700
From: John.C.Harrison@Intel.com
To: Intel-GFX@Lists.FreeDesktop.Org
Date: Fri, 12 Jul 2019 00:07:43 -0700
Message-Id: <20190712070745.35239-2-John.C.Harrison@Intel.com>
X-Mailer: git-send-email 2.21.0.5.gaeb582a983
In-Reply-To: <20190712070745.35239-1-John.C.Harrison@Intel.com>
References: <20190712070745.35239-1-John.C.Harrison@Intel.com>
MIME-Version: 1.0
Organization: Intel Corporation (UK) Ltd. - Co. Reg. #1134945 - Pipers Way,
 Swindon SN3 1RJ
Subject: [Intel-gfx] [PATCH v2 1/3] drm/i915: Add test for invalid flag bits
 in whitelist entries
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

RnJvbTogSm9obiBIYXJyaXNvbiA8Sm9obi5DLkhhcnJpc29uQEludGVsLmNvbT4KCkFzIHBlciBy
ZXZpZXcgZmVlZGJhY2sgYnkgVHZydGtvLCBhZGRlZCBhIGNoZWNrIHRoYXQgbm8gaW52YWxpZCBi
aXRzCmFyZSBiZWluZyBzZXQgaW4gdGhlIHdoaXRlbGlzdCBmbGFncyBmaWVsZHMuCgpBbHNvIHVw
ZGF0ZWQgdGhlIHJlYWQvd3JpdGUgYWNjZXNzIGRlZmluaXRpb25zIHRvIG1ha2UgaXQgY2xlYXJl
ciB0aGF0CnRoZXkgYXJlIGFuIGVudW0gZmllbGQgbm90IGEgc2V0IG9mIHNpbmdsZSBiaXQgZmxh
Z3MuCgpTaWduZWQtb2ZmLWJ5OiBKb2huIEhhcnJpc29uIDxKb2huLkMuSGFycmlzb25ASW50ZWwu
Y29tPgpDQzogVHZydGtvIFVyc3VsaW4gPHR2cnRrby51cnN1bGluQGludGVsLmNvbT4KLS0tCiBk
cml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF93b3JrYXJvdW5kcy5jICAgfCAyOSArKysrKysr
KysrKysrKystLS0tCiAuLi4vZ3B1L2RybS9pOTE1L2d0L3NlbGZ0ZXN0X3dvcmthcm91bmRzLmMg
ICAgfCAxNCArKysrKystLS0KIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfcmVnLmggICAgICAg
ICAgICAgICB8IDEyICsrKysrKy0tCiAzIGZpbGVzIGNoYW5nZWQsIDQyIGluc2VydGlvbnMoKyks
IDEzIGRlbGV0aW9ucygtKQoKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2lu
dGVsX3dvcmthcm91bmRzLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF93b3JrYXJv
dW5kcy5jCmluZGV4IDllMDY5Mjg2ZDNjZS4uOTViZTBmMTA4ZjI2IDEwMDY0NAotLS0gYS9kcml2
ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF93b3JrYXJvdW5kcy5jCisrKyBiL2RyaXZlcnMvZ3B1
L2RybS9pOTE1L2d0L2ludGVsX3dvcmthcm91bmRzLmMKQEAgLTEwMTEsNiArMTAxMSwyMCBAQCBi
b29sIGludGVsX2d0X3ZlcmlmeV93b3JrYXJvdW5kcyhzdHJ1Y3QgaW50ZWxfZ3QgKmd0LCBjb25z
dCBjaGFyICpmcm9tKQogCXJldHVybiB3YV9saXN0X3ZlcmlmeShndC0+dW5jb3JlLCAmZ3QtPmk5
MTUtPmd0X3dhX2xpc3QsIGZyb20pOwogfQogCitzdGF0aWMgaW5saW5lIGJvb2wgaXNfbm9ucHJp
dl9mbGFnc192YWxpZCh1MzIgZmxhZ3MpCit7CisJLyogQ2hlY2sgb25seSB2YWxpZCBmbGFnIGJp
dHMgYXJlIHNldCAqLworCWlmIChmbGFncyAmIH5SSU5HX0ZPUkNFX1RPX05PTlBSSVZfTUFTS19W
QUxJRCkKKwkJcmV0dXJuIGZhbHNlOworCisJLyogTkI6IE9ubHkgMyBvdXQgb2YgNCBlbnVtIHZh
bHVlcyBhcmUgdmFsaWQgZm9yIGFjY2VzcyBmaWVsZCAqLworCWlmICgoZmxhZ3MgJiBSSU5HX0ZP
UkNFX1RPX05PTlBSSVZfQUNDRVNTX01BU0spID09CisJICAgIFJJTkdfRk9SQ0VfVE9fTk9OUFJJ
Vl9BQ0NFU1NfSU5WQUxJRCkKKwkJcmV0dXJuIGZhbHNlOworCisJcmV0dXJuIHRydWU7Cit9CisK
IHN0YXRpYyB2b2lkCiB3aGl0ZWxpc3RfcmVnX2V4dChzdHJ1Y3QgaTkxNV93YV9saXN0ICp3YWws
IGk5MTVfcmVnX3QgcmVnLCB1MzIgZmxhZ3MpCiB7CkBAIC0xMDIxLDYgKzEwMzUsOSBAQCB3aGl0
ZWxpc3RfcmVnX2V4dChzdHJ1Y3QgaTkxNV93YV9saXN0ICp3YWwsIGk5MTVfcmVnX3QgcmVnLCB1
MzIgZmxhZ3MpCiAJaWYgKEdFTV9ERUJVR19XQVJOX09OKHdhbC0+Y291bnQgPj0gUklOR19NQVhf
Tk9OUFJJVl9TTE9UUykpCiAJCXJldHVybjsKIAorCWlmIChHRU1fREVCVUdfV0FSTl9PTighaXNf
bm9ucHJpdl9mbGFnc192YWxpZChmbGFncykpKQorCQlyZXR1cm47CisKIAl3YS5yZWcucmVnIHw9
IGZsYWdzOwogCV93YV9hZGQod2FsLCAmd2EpOwogfQpAQCAtMTAyOCw3ICsxMDQ1LDcgQEAgd2hp
dGVsaXN0X3JlZ19leHQoc3RydWN0IGk5MTVfd2FfbGlzdCAqd2FsLCBpOTE1X3JlZ190IHJlZywg
dTMyIGZsYWdzKQogc3RhdGljIHZvaWQKIHdoaXRlbGlzdF9yZWcoc3RydWN0IGk5MTVfd2FfbGlz
dCAqd2FsLCBpOTE1X3JlZ190IHJlZykKIHsKLQl3aGl0ZWxpc3RfcmVnX2V4dCh3YWwsIHJlZywg
UklOR19GT1JDRV9UT19OT05QUklWX1JXKTsKKwl3aGl0ZWxpc3RfcmVnX2V4dCh3YWwsIHJlZywg
UklOR19GT1JDRV9UT19OT05QUklWX0FDQ0VTU19SVyk7CiB9CiAKIHN0YXRpYyB2b2lkIGdlbjlf
d2hpdGVsaXN0X2J1aWxkKHN0cnVjdCBpOTE1X3dhX2xpc3QgKncpCkBAIC0xMTA5LDcgKzExMjYs
NyBAQCBzdGF0aWMgdm9pZCBjZmxfd2hpdGVsaXN0X2J1aWxkKHN0cnVjdCBpbnRlbF9lbmdpbmVf
Y3MgKmVuZ2luZSkKIAkgKiAgIC0gUFNfREVQVEhfQ09VTlRfVURXCiAJICovCiAJd2hpdGVsaXN0
X3JlZ19leHQodywgUFNfSU5WT0NBVElPTl9DT1VOVCwKLQkJCSAgUklOR19GT1JDRV9UT19OT05Q
UklWX1JEIHwKKwkJCSAgUklOR19GT1JDRV9UT19OT05QUklWX0FDQ0VTU19SRCB8CiAJCQkgIFJJ
TkdfRk9SQ0VfVE9fTk9OUFJJVl9SQU5HRV80KTsKIH0KIApAQCAtMTE0OSwyMCArMTE2NiwyMCBA
QCBzdGF0aWMgdm9pZCBpY2xfd2hpdGVsaXN0X2J1aWxkKHN0cnVjdCBpbnRlbF9lbmdpbmVfY3Mg
KmVuZ2luZSkKIAkJICogICAtIFBTX0RFUFRIX0NPVU5UX1VEVwogCQkgKi8KIAkJd2hpdGVsaXN0
X3JlZ19leHQodywgUFNfSU5WT0NBVElPTl9DT1VOVCwKLQkJCQkgIFJJTkdfRk9SQ0VfVE9fTk9O
UFJJVl9SRCB8CisJCQkJICBSSU5HX0ZPUkNFX1RPX05PTlBSSVZfQUNDRVNTX1JEIHwKIAkJCQkg
IFJJTkdfRk9SQ0VfVE9fTk9OUFJJVl9SQU5HRV80KTsKIAkJYnJlYWs7CiAKIAljYXNlIFZJREVP
X0RFQ09ERV9DTEFTUzoKIAkJLyogaHVjU3RhdHVzUmVnT2Zmc2V0ICovCiAJCXdoaXRlbGlzdF9y
ZWdfZXh0KHcsIF9NTUlPKDB4MjAwMCArIGVuZ2luZS0+bW1pb19iYXNlKSwKLQkJCQkgIFJJTkdf
Rk9SQ0VfVE9fTk9OUFJJVl9SRCk7CisJCQkJICBSSU5HX0ZPUkNFX1RPX05PTlBSSVZfQUNDRVNT
X1JEKTsKIAkJLyogaHVjVUtlcm5lbEhkckluZm9SZWdPZmZzZXQgKi8KIAkJd2hpdGVsaXN0X3Jl
Z19leHQodywgX01NSU8oMHgyMDE0ICsgZW5naW5lLT5tbWlvX2Jhc2UpLAotCQkJCSAgUklOR19G
T1JDRV9UT19OT05QUklWX1JEKTsKKwkJCQkgIFJJTkdfRk9SQ0VfVE9fTk9OUFJJVl9BQ0NFU1Nf
UkQpOwogCQkvKiBodWNTdGF0dXMyUmVnT2Zmc2V0ICovCiAJCXdoaXRlbGlzdF9yZWdfZXh0KHcs
IF9NTUlPKDB4MjNCMCArIGVuZ2luZS0+bW1pb19iYXNlKSwKLQkJCQkgIFJJTkdfRk9SQ0VfVE9f
Tk9OUFJJVl9SRCk7CisJCQkJICBSSU5HX0ZPUkNFX1RPX05PTlBSSVZfQUNDRVNTX1JEKTsKIAkJ
YnJlYWs7CiAKIAlkZWZhdWx0OgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3Qv
c2VsZnRlc3Rfd29ya2Fyb3VuZHMuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L3NlbGZ0ZXN0
X3dvcmthcm91bmRzLmMKaW5kZXggZmEwMWVhNzg1NWRlLi40NjZkY2M4MjE0YzMgMTAwNjQ0Ci0t
LSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L3NlbGZ0ZXN0X3dvcmthcm91bmRzLmMKKysrIGIv
ZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3Qvc2VsZnRlc3Rfd29ya2Fyb3VuZHMuYwpAQCAtMzk3LDYg
KzM5NywxMCBAQCBzdGF0aWMgYm9vbCB3b19yZWdpc3RlcihzdHJ1Y3QgaW50ZWxfZW5naW5lX2Nz
ICplbmdpbmUsIHUzMiByZWcpCiAJZW51bSBpbnRlbF9wbGF0Zm9ybSBwbGF0Zm9ybSA9IElOVEVM
X0lORk8oZW5naW5lLT5pOTE1KS0+cGxhdGZvcm07CiAJaW50IGk7CiAKKwlpZiAoKHJlZyAmIFJJ
TkdfRk9SQ0VfVE9fTk9OUFJJVl9BQ0NFU1NfTUFTSykgPT0KKwkgICAgIFJJTkdfRk9SQ0VfVE9f
Tk9OUFJJVl9BQ0NFU1NfV1IpCisJCXJldHVybiB0cnVlOworCiAJZm9yIChpID0gMDsgaSA8IEFS
UkFZX1NJWkUod29fcmVnaXN0ZXJzKTsgaSsrKSB7CiAJCWlmICh3b19yZWdpc3RlcnNbaV0ucGxh
dGZvcm0gPT0gcGxhdGZvcm0gJiYKIAkJICAgIHdvX3JlZ2lzdGVyc1tpXS5yZWcgPT0gcmVnKQpA
QCAtNDA4LDcgKzQxMiw4IEBAIHN0YXRpYyBib29sIHdvX3JlZ2lzdGVyKHN0cnVjdCBpbnRlbF9l
bmdpbmVfY3MgKmVuZ2luZSwgdTMyIHJlZykKIAogc3RhdGljIGJvb2wgcm9fcmVnaXN0ZXIodTMy
IHJlZykKIHsKLQlpZiAocmVnICYgUklOR19GT1JDRV9UT19OT05QUklWX1JEKQorCWlmICgocmVn
ICYgUklOR19GT1JDRV9UT19OT05QUklWX0FDQ0VTU19NQVNLKSA9PQorCSAgICAgUklOR19GT1JD
RV9UT19OT05QUklWX0FDQ0VTU19SRCkKIAkJcmV0dXJuIHRydWU7CiAKIAlyZXR1cm4gZmFsc2U7
CkBAIC03NjAsOCArNzY1LDggQEAgc3RhdGljIGludCByZWFkX3doaXRlbGlzdGVkX3JlZ2lzdGVy
cyhzdHJ1Y3QgaTkxNV9nZW1fY29udGV4dCAqY3R4LAogCQl1NjQgb2Zmc2V0ID0gcmVzdWx0cy0+
bm9kZS5zdGFydCArIHNpemVvZih1MzIpICogaTsKIAkJdTMyIHJlZyA9IGk5MTVfbW1pb19yZWdf
b2Zmc2V0KGVuZ2luZS0+d2hpdGVsaXN0Lmxpc3RbaV0ucmVnKTsKIAotCQkvKiBDbGVhciBSRCBv
bmx5IGFuZCBXUiBvbmx5IGZsYWdzICovCi0JCXJlZyAmPSB+KFJJTkdfRk9SQ0VfVE9fTk9OUFJJ
Vl9SRCB8IFJJTkdfRk9SQ0VfVE9fTk9OUFJJVl9XUik7CisJCS8qIENsZWFyIGFjY2VzcyBwZXJt
aXNzaW9uIGZpZWxkICovCisJCXJlZyAmPSB+UklOR19GT1JDRV9UT19OT05QUklWX0FDQ0VTU19N
QVNLOwogCiAJCSpjcysrID0gc3JtOwogCQkqY3MrKyA9IHJlZzsKQEAgLTkzMSw3ICs5MzYsOCBA
QCBjaGVja193aGl0ZWxpc3RlZF9yZWdpc3RlcnMoc3RydWN0IGludGVsX2VuZ2luZV9jcyAqZW5n
aW5lLAogCWZvciAoaSA9IDA7IGkgPCBlbmdpbmUtPndoaXRlbGlzdC5jb3VudDsgaSsrKSB7CiAJ
CWNvbnN0IHN0cnVjdCBpOTE1X3dhICp3YSA9ICZlbmdpbmUtPndoaXRlbGlzdC5saXN0W2ldOwog
Ci0JCWlmIChpOTE1X21taW9fcmVnX29mZnNldCh3YS0+cmVnKSAmIFJJTkdfRk9SQ0VfVE9fTk9O
UFJJVl9SRCkKKwkJaWYgKGk5MTVfbW1pb19yZWdfb2Zmc2V0KHdhLT5yZWcpICYKKwkJICAgIFJJ
TkdfRk9SQ0VfVE9fTk9OUFJJVl9BQ0NFU1NfUkQpCiAJCQljb250aW51ZTsKIAogCQlpZiAoIWZu
KGVuZ2luZSwgYVtpXSwgYltpXSwgd2EtPnJlZykpCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9k
cm0vaTkxNS9pOTE1X3JlZy5oIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9yZWcuaAppbmRl
eCAzZmY2NTlhMTgwZTYuLmUxNGM5Yjc2YzJkMCAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJt
L2k5MTUvaTkxNV9yZWcuaAorKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3JlZy5oCkBA
IC0yNTIyLDEzICsyNTIyLDE5IEBAIGVudW0gaTkxNV9wb3dlcl93ZWxsX2lkIHsKICNkZWZpbmUg
ICBSSU5HX1dBSVRfU0VNQVBIT1JFCSgxIDw8IDEwKSAvKiBnZW42KyAqLwogCiAjZGVmaW5lIFJJ
TkdfRk9SQ0VfVE9fTk9OUFJJVihiYXNlLCBpKSBfTU1JTygoKGJhc2UpICsgMHg0RDApICsgKGkp
ICogNCkKLSNkZWZpbmUgICBSSU5HX0ZPUkNFX1RPX05PTlBSSVZfUlcJCSgwIDw8IDI4KSAgICAv
KiBDRkwrICYgR2VuMTErICovCi0jZGVmaW5lICAgUklOR19GT1JDRV9UT19OT05QUklWX1JECQko
MSA8PCAyOCkKLSNkZWZpbmUgICBSSU5HX0ZPUkNFX1RPX05PTlBSSVZfV1IJCSgyIDw8IDI4KQor
I2RlZmluZSAgIFJJTkdfRk9SQ0VfVE9fTk9OUFJJVl9BQ0NFU1NfUlcJKDAgPDwgMjgpICAgIC8q
IENGTCsgJiBHZW4xMSsgKi8KKyNkZWZpbmUgICBSSU5HX0ZPUkNFX1RPX05PTlBSSVZfQUNDRVNT
X1JECSgxIDw8IDI4KQorI2RlZmluZSAgIFJJTkdfRk9SQ0VfVE9fTk9OUFJJVl9BQ0NFU1NfV1IJ
KDIgPDwgMjgpCisjZGVmaW5lICAgUklOR19GT1JDRV9UT19OT05QUklWX0FDQ0VTU19JTlZBTElE
CSgzIDw8IDI4KQorI2RlZmluZSAgIFJJTkdfRk9SQ0VfVE9fTk9OUFJJVl9BQ0NFU1NfTUFTSwko
MyA8PCAyOCkKICNkZWZpbmUgICBSSU5HX0ZPUkNFX1RPX05PTlBSSVZfUkFOR0VfMQkJKDAgPDwg
MCkgICAgIC8qIENGTCsgJiBHZW4xMSsgKi8KICNkZWZpbmUgICBSSU5HX0ZPUkNFX1RPX05PTlBS
SVZfUkFOR0VfNAkJKDEgPDwgMCkKICNkZWZpbmUgICBSSU5HX0ZPUkNFX1RPX05PTlBSSVZfUkFO
R0VfMTYJKDIgPDwgMCkKICNkZWZpbmUgICBSSU5HX0ZPUkNFX1RPX05PTlBSSVZfUkFOR0VfNjQJ
KDMgPDwgMCkKKyNkZWZpbmUgICBSSU5HX0ZPUkNFX1RPX05PTlBSSVZfUkFOR0VfTUFTSwkoMyA8
PCAwKQorI2RlZmluZSAgIFJJTkdfRk9SQ0VfVE9fTk9OUFJJVl9NQVNLX1ZBTElECVwKKwkJCQkJ
KFJJTkdfRk9SQ0VfVE9fTk9OUFJJVl9SQU5HRV9NQVNLIFwKKwkJCQkJfCBSSU5HX0ZPUkNFX1RP
X05PTlBSSVZfQUNDRVNTX01BU0spCiAjZGVmaW5lICAgUklOR19NQVhfTk9OUFJJVl9TTE9UUyAg
MTIKIAogI2RlZmluZSBHRU43X1RMQl9SRF9BRERSCV9NTUlPKDB4NDcwMCkKLS0gCjIuMjEuMC41
LmdhZWI1ODJhOTgzCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fXwpJbnRlbC1nZnggbWFpbGluZyBsaXN0CkludGVsLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5v
cmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9pbnRlbC1n
Zng=

Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id CCAC5B7F21
	for <lists+intel-gfx@lfdr.de>; Thu, 19 Sep 2019 18:31:36 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 1EDBF6F681;
	Thu, 19 Sep 2019 16:31:35 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga01.intel.com (mga01.intel.com [192.55.52.88])
 by gabe.freedesktop.org (Postfix) with ESMTPS id BC5436F53D
 for <intel-gfx@lists.freedesktop.org>; Thu, 19 Sep 2019 16:31:33 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga002.jf.intel.com ([10.7.209.21])
 by fmsmga101.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 19 Sep 2019 09:31:33 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.64,524,1559545200"; d="scan'208";a="199451847"
Received: from stinkbox.fi.intel.com (HELO stinkbox) ([10.237.72.174])
 by orsmga002.jf.intel.com with SMTP; 19 Sep 2019 09:31:31 -0700
Received: by stinkbox (sSMTP sendmail emulation);
 Thu, 19 Sep 2019 19:31:30 +0300
From: Ville Syrjala <ville.syrjala@linux.intel.com>
To: intel-gfx@lists.freedesktop.org
Date: Thu, 19 Sep 2019 19:30:58 +0300
Message-Id: <20190919163113.17402-7-ville.syrjala@linux.intel.com>
X-Mailer: git-send-email 2.21.0
In-Reply-To: <20190919163113.17402-1-ville.syrjala@linux.intel.com>
References: <20190919163113.17402-1-ville.syrjala@linux.intel.com>
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH xf86-video-intel 06/21] sna: Add
 sna_br13_color_depth()
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

RnJvbTogVmlsbGUgU3lyasOkbMOkIDx2aWxsZS5zeXJqYWxhQGxpbnV4LmludGVsLmNvbT4KClJl
ZmFjdG9yIHRoZSBCUjEzIGNvbG9yIGRlcHRoIHNldHVwIHRvIGNvbW1vbiBoZWxwZXIuIFRoaXMK
ZWxpbWluYXRlcyBhIGJ1bmNoIG9mIGltcGxpY2l0IGZhbGwgdGhyb3VnaCB3YXJucy4KClNpZ25l
ZC1vZmYtYnk6IFZpbGxlIFN5cmrDpGzDpCA8dmlsbGUuc3lyamFsYUBsaW51eC5pbnRlbC5jb20+
Ci0tLQogc3JjL3NuYS9rZ2VtLmMgICAgfCAxMCArKystLS0tLS0KIHNyYy9zbmEvc25hLmggICAg
IHwgMTkgKysrKysrKysrKysrKysrKwogc3JjL3NuYS9zbmFfYmx0LmMgfCA1NiArKysrKysrKysr
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogc3JjL3NuYS9zbmFfaW8uYyAg
fCAzMCArKysrKysrKy0tLS0tLS0tLS0tLS0tLS0tCiA0IGZpbGVzIGNoYW5nZWQsIDQzIGluc2Vy
dGlvbnMoKyksIDcyIGRlbGV0aW9ucygtKQoKZGlmZiAtLWdpdCBhL3NyYy9zbmEva2dlbS5jIGIv
c3JjL3NuYS9rZ2VtLmMKaW5kZXggZDM5NmYxYjQwZGJjLi45YzA3MDhhNjM1ZmIgMTAwNjQ0Ci0t
LSBhL3NyYy9zbmEva2dlbS5jCisrKyBiL3NyYy9zbmEva2dlbS5jCkBAIC04MTQ4LDEzICs4MTQ4
LDkgQEAga2dlbV9yZXBsYWNlX2JvKHN0cnVjdCBrZ2VtICprZ2VtLAogCX0KIAogCWJyMTMgfD0g
MHhjYyA8PCAxNjsKLQlzd2l0Y2ggKGJwcCkgewotCWRlZmF1bHQ6Ci0JY2FzZSAzMjogYnIwMCB8
PSBCTFRfV1JJVEVfQUxQSEEgfCBCTFRfV1JJVEVfUkdCOwotCQkgYnIxMyB8PSAxIDw8IDI1OyAv
KiBSR0I4ODg4ICovCi0JY2FzZSAxNjogYnIxMyB8PSAxIDw8IDI0OyAvKiBSR0I1NjUgKi8KLQlj
YXNlIDg6IGJyZWFrOwotCX0KKwlicjEzIHw9IHNuYV9icjEzX2NvbG9yX2RlcHRoKGJwcCk7CisJ
aWYgKGJwcCA9PSAzMikKKwkJYnIwMCB8PSBCTFRfV1JJVEVfQUxQSEEgfCBCTFRfV1JJVEVfUkdC
OwogCiAJYiA9IGtnZW0tPmJhdGNoICsga2dlbS0+bmJhdGNoOwogCWlmIChrZ2VtLT5nZW4gPj0g
MDEwMCkgewpkaWZmIC0tZ2l0IGEvc3JjL3NuYS9zbmEuaCBiL3NyYy9zbmEvc25hLmgKaW5kZXgg
Y2YyYTdhNTE5ZjI5Li5mMmJjMTg5NjI0YTUgMTAwNjQ0Ci0tLSBhL3NyYy9zbmEvc25hLmgKKysr
IGIvc3JjL3NuYS9zbmEuaApAQCAtMTM5Nyw0ICsxMzk3LDIzIEBAIHN0YXRpYyBpbmxpbmUgdm9p
ZCBhZGRfc2htX2ZsdXNoKHN0cnVjdCBzbmEgKnNuYSwgc3RydWN0IHNuYV9waXhtYXAgKnByaXYp
CiAJc25hLT5uZWVkc19zaG1fZmx1c2ggPSB0cnVlOwogfQogCitzdGF0aWMgaW5saW5lIHVpbnQz
Ml90IHNuYV9icjEzX2NvbG9yX2RlcHRoKGludCBicHApCit7CisJdWludDMyX3QgYnIxMyA9IDA7
CisKKwlzd2l0Y2ggKGJwcCkgeworCWRlZmF1bHQ6CisJCWFzc2VydCgwKTsKKwkJLyogZmFsbCB0
aHJvdWdoICovCisJY2FzZSAzMjoKKwkJYnIxMyB8PSAxIDw8IDI1OyAvKiBSR0I4ODg4ICovCisJ
CS8qIGZhbGwgdGhyb3VnaCAqLworCWNhc2UgMTY6CisJCWJyMTMgfD0gMSA8PCAyNDsgLyogUkdC
NTY1ICovCisJCS8qIGZhbGwgdGhyb3VnaCAqLworCWNhc2UgODoKKwkJcmV0dXJuIGJyMTM7CisJ
fQorfQorCiAjZW5kaWYgLyogX1NOQV9IICovCmRpZmYgLS1naXQgYS9zcmMvc25hL3NuYV9ibHQu
YyBiL3NyYy9zbmEvc25hX2JsdC5jCmluZGV4IDYxZTJiMGZlYWYzNS4uMDA1MjI0MzYzYjljIDEw
MDY0NAotLS0gYS9zcmMvc25hL3NuYV9ibHQuYworKysgYi9zcmMvc25hL3NuYV9ibHQuYwpAQCAt
MTU0LDEyICsxNTQsNyBAQCBzdGF0aWMgYm9vbCBzbmFfYmx0X2ZpbGxfaW5pdChzdHJ1Y3Qgc25h
ICpzbmEsCiAJfQogCiAJYmx0LT5icjEzIHw9IDE8PDMxIHwgKGZpbGxfUk9QW2FsdV0gPDwgMTYp
OwotCXN3aXRjaCAoYnBwKSB7Ci0JZGVmYXVsdDogYXNzZXJ0KDApOwotCWNhc2UgMzI6IGJsdC0+
YnIxMyB8PSAxIDw8IDI1OyAvKiBSR0I4ODg4ICovCi0JY2FzZSAxNjogYmx0LT5icjEzIHw9IDEg
PDwgMjQ7IC8qIFJHQjU2NSAqLwotCWNhc2UgODogYnJlYWs7Ci0JfQorCWJsdC0+YnIxMyB8PSBz
bmFfYnIxM19jb2xvcl9kZXB0aChicHApOwogCiAJYmx0LT5waXhlbCA9IHBpeGVsOwogCWJsdC0+
YnBwID0gYnBwOwpAQCAtMzcyLDEyICszNjcsNyBAQCBzdGF0aWMgYm9vbCBzbmFfYmx0X2NvcHlf
aW5pdChzdHJ1Y3Qgc25hICpzbmEsCiAKIAlibHQtPm92ZXJ3cml0ZXMgPSBhbHUgPT0gR1hjb3B5
IHx8IGFsdSA9PSBHWGNsZWFyIHx8IGFsdSA9PSBHWHNldDsKIAlibHQtPmJyMTMgPSAoY29weV9S
T1BbYWx1XSA8PCAxNikgfCBibHQtPnBpdGNoWzFdOwotCXN3aXRjaCAoYnBwKSB7Ci0JZGVmYXVs
dDogYXNzZXJ0KDApOwotCWNhc2UgMzI6IGJsdC0+YnIxMyB8PSAxIDw8IDI1OyAvKiBSR0I4ODg4
ICovCi0JY2FzZSAxNjogYmx0LT5icjEzIHw9IDEgPDwgMjQ7IC8qIFJHQjU2NSAqLwotCWNhc2Ug
ODogYnJlYWs7Ci0JfQorCWJsdC0+YnIxMyB8PSBzbmFfYnIxM19jb2xvcl9kZXB0aChicHApOwog
CiAJa2dlbV9zZXRfbW9kZShrZ2VtLCBLR0VNX0JMVCwgZHN0KTsKIAlpZiAoIWtnZW1fY2hlY2tf
bWFueV9ib19mZW5jZWQoa2dlbSwgc3JjLCBkc3QsIE5VTEwpKSB7CkBAIC00MjUsMTMgKzQxNSwx
MCBAQCBzdGF0aWMgYm9vbCBzbmFfYmx0X2FscGhhX2ZpeHVwX2luaXQoc3RydWN0IHNuYSAqc25h
LAogCiAJYmx0LT5vdmVyd3JpdGVzID0gMTsKIAlibHQtPmJyMTMgPSAoMHhmYyA8PCAxNikgfCBi
bHQtPnBpdGNoWzFdOwotCXN3aXRjaCAoYnBwKSB7Ci0JZGVmYXVsdDogYXNzZXJ0KDApOwotCWNh
c2UgMzI6IGJsdC0+Y21kIHw9IEJMVF9XUklURV9BTFBIQSB8IEJMVF9XUklURV9SR0I7Ci0JCSBi
bHQtPmJyMTMgfD0gMSA8PCAyNTsgLyogUkdCODg4OCAqLwotCWNhc2UgMTY6IGJsdC0+YnIxMyB8
PSAxIDw8IDI0OyAvKiBSR0I1NjUgKi8KLQljYXNlIDg6IGJyZWFrOwotCX0KKwlibHQtPmJyMTMg
fD0gc25hX2JyMTNfY29sb3JfZGVwdGgoYnBwKTsKKwlpZiAoYnBwID09IDMyKQorCQlibHQtPmNt
ZCB8PSBCTFRfV1JJVEVfQUxQSEEgfCBCTFRfV1JJVEVfUkdCOworCiAJYmx0LT5waXhlbCA9IGFs
cGhhOwogCiAJa2dlbV9zZXRfbW9kZShrZ2VtLCBLR0VNX0JMVCwgZHN0KTsKQEAgLTMzNTYsMTMg
KzMzNDMsOSBAQCBzdGF0aWMgYm9vbCBzbmFfYmx0X2ZpbGxfYm94KHN0cnVjdCBzbmEgKnNuYSwg
dWludDhfdCBhbHUsCiAJYXNzZXJ0KGJyMTMgPD0gTUFYU0hPUlQpOwogCiAJYnIxMyB8PSBmaWxs
X1JPUFthbHVdIDw8IDE2OwotCXN3aXRjaCAoYnBwKSB7Ci0JZGVmYXVsdDogYXNzZXJ0KDApOwot
CWNhc2UgMzI6IGNtZCB8PSBCTFRfV1JJVEVfQUxQSEEgfCBCTFRfV1JJVEVfUkdCOwotCQkgYnIx
MyB8PSAxIDw8IDI1OyAvKiBSR0I4ODg4ICovCi0JY2FzZSAxNjogYnIxMyB8PSAxIDw8IDI0OyAv
KiBSR0I1NjUgKi8KLQljYXNlIDg6IGJyZWFrOwotCX0KKwlicjEzIHw9IHNuYV9icjEzX2NvbG9y
X2RlcHRoKGJwcCk7CisJaWYgKGJwcCA9PSAzMikKKwkJY21kIHw9IEJMVF9XUklURV9BTFBIQSB8
IEJMVF9XUklURV9SR0I7CiAKIAkvKiBBbGwgdG9vIGZyZXF1ZW50bHkgb25lIGJsdCBjb21wbGV0
ZWx5IG92ZXJ3cml0ZXMgdGhlIHByZXZpb3VzICovCiAJb3ZlcndyaXRlcyA9IGFsdSA9PSBHWGNv
cHkgfHwgYWx1ID09IEdYY2xlYXIgfHwgYWx1ID09IEdYc2V0OwpAQCAtMzUxNywxMiArMzUwMCw3
IEBAIGJvb2wgc25hX2JsdF9maWxsX2JveGVzKHN0cnVjdCBzbmEgKnNuYSwgdWludDhfdCBhbHUs
CiAJYXNzZXJ0KGJyMTMgPD0gTUFYU0hPUlQpOwogCiAJYnIxMyB8PSAxPDwzMSB8IGZpbGxfUk9Q
W2FsdV0gPDwgMTY7Ci0Jc3dpdGNoIChicHApIHsKLQlkZWZhdWx0OiBhc3NlcnQoMCk7Ci0JY2Fz
ZSAzMjogYnIxMyB8PSAxIDw8IDI1OyAvKiBSR0I4ODg4ICovCi0JY2FzZSAxNjogYnIxMyB8PSAx
IDw8IDI0OyAvKiBSR0I1NjUgKi8KLQljYXNlIDg6IGJyZWFrOwotCX0KKwlicjEzIHw9IHNuYV9i
cjEzX2NvbG9yX2RlcHRoKGJwcCk7CiAKIAlrZ2VtX3NldF9tb2RlKGtnZW0sIEtHRU1fQkxULCBi
byk7CiAJaWYgKCFrZ2VtX2NoZWNrX2JhdGNoKGtnZW0sIDE0KSB8fApAQCAtMzczOSwxMiArMzcx
Nyw3IEBAIGJvb2wgc25hX2JsdF9jb3B5X2JveGVzKHN0cnVjdCBzbmEgKnNuYSwgdWludDhfdCBh
bHUsCiAJYXNzZXJ0KGJyMTMgPD0gTUFYU0hPUlQpOwogCiAJYnIxMyB8PSBjb3B5X1JPUFthbHVd
IDw8IDE2OwotCXN3aXRjaCAoYnBwKSB7Ci0JZGVmYXVsdDogYXNzZXJ0KDApOwotCWNhc2UgMzI6
IGJyMTMgfD0gMSA8PCAyNTsgLyogUkdCODg4OCAqLwotCWNhc2UgMTY6IGJyMTMgfD0gMSA8PCAy
NDsgLyogUkdCNTY1ICovCi0JY2FzZSA4OiBicmVhazsKLQl9CisJYnIxMyB8PSBzbmFfYnIxM19j
b2xvcl9kZXB0aChicHApOwogCiAJLyogQ29tcGFyZSBmaXJzdCBib3ggYWdhaW5zdCBhIHByZXZp
b3VzIGZpbGwgKi8KIAlpZiAoKGFsdSA9PSBHWGNvcHkgfHwgYWx1ID09IEdYY2xlYXIgfHwgYWx1
ID09IEdYc2V0KSAmJgpAQCAtNDA4NiwxMiArNDA1OSw3IEBAIGJvb2wgc25hX2JsdF9jb3B5X2Jv
eGVzX193aXRoX2FscGhhKHN0cnVjdCBzbmEgKnNuYSwgdWludDhfdCBhbHUsCiAJYXNzZXJ0KGJy
MTMgPD0gTUFYU0hPUlQpOwogCiAJYnIxMyB8PSBjb3B5X1JPUFthbHVdIDw8IDE2OwotCXN3aXRj
aCAoYnBwKSB7Ci0JZGVmYXVsdDogYXNzZXJ0KDApOwotCWNhc2UgMzI6IGJyMTMgfD0gMSA8PCAy
NTsgLyogUkdCODg4OCAqLwotCWNhc2UgMTY6IGJyMTMgfD0gMSA8PCAyNDsgLyogUkdCNTY1ICov
Ci0JY2FzZSA4OiBicmVhazsKLQl9CisJYnIxMyB8PSBzbmFfYnIxM19jb2xvcl9kZXB0aChicHAp
OwogCiAJa2dlbV9zZXRfbW9kZShrZ2VtLCBLR0VNX0JMVCwgZHN0X2JvKTsKIAlpZiAoIWtnZW1f
Y2hlY2tfbWFueV9ib19mZW5jZWQoa2dlbSwgZHN0X2JvLCBzcmNfYm8sIE5VTEwpKSB7CmRpZmYg
LS1naXQgYS9zcmMvc25hL3NuYV9pby5jIGIvc3JjL3NuYS9zbmFfaW8uYwppbmRleCBkMzJiZDU4
M2ZjNDIuLmQwMzI4MGVkYjdhNyAxMDA2NDQKLS0tIGEvc3JjL3NuYS9zbmFfaW8uYworKysgYi9z
cmMvc25hL3NuYV9pby5jCkBAIC00NjUsMTMgKzQ2NSw5IEBAIGZhbGxiYWNrOgogCX0KIAogCWJy
MTMgPSAweGNjIDw8IDE2OwotCXN3aXRjaCAoY3BwKSB7Ci0JZGVmYXVsdDoKLQljYXNlIDQ6IGNt
ZCB8PSBCTFRfV1JJVEVfQUxQSEEgfCBCTFRfV1JJVEVfUkdCOwotCQlicjEzIHw9IDEgPDwgMjU7
IC8qIFJHQjg4ODggKi8KLQljYXNlIDI6IGJyMTMgfD0gMSA8PCAyNDsgLyogUkdCNTY1ICovCi0J
Y2FzZSAxOiBicmVhazsKLQl9CisJYnIxMyB8PSBzbmFfYnIxM19jb2xvcl9kZXB0aChjcHAgKiA0
KTsKKwlpZiAoY3BwID09IDQpCisJCWNtZCB8PSBCTFRfV1JJVEVfQUxQSEEgfCBCTFRfV1JJVEVf
UkdCOwogCiAJa2dlbV9zZXRfbW9kZShrZ2VtLCBLR0VNX0JMVCwgZHN0X2JvKTsKIAlpZiAoIWtn
ZW1fY2hlY2tfYmF0Y2goa2dlbSwgMTApIHx8CkBAIC0xMDQyLDEzICsxMDM4LDkgQEAgdGlsZToK
IAkJYnIxMyA+Pj0gMjsKIAl9CiAJYnIxMyB8PSAweGNjIDw8IDE2OwotCXN3aXRjaCAoZHN0LT5k
cmF3YWJsZS5iaXRzUGVyUGl4ZWwpIHsKLQlkZWZhdWx0OgotCWNhc2UgMzI6IGNtZCB8PSBCTFRf
V1JJVEVfQUxQSEEgfCBCTFRfV1JJVEVfUkdCOwotCQkgYnIxMyB8PSAxIDw8IDI1OyAvKiBSR0I4
ODg4ICovCi0JY2FzZSAxNjogYnIxMyB8PSAxIDw8IDI0OyAvKiBSR0I1NjUgKi8KLQljYXNlIDg6
IGJyZWFrOwotCX0KKwlicjEzIHw9IHNuYV9icjEzX2NvbG9yX2RlcHRoKGRzdC0+ZHJhd2FibGUu
Yml0c1BlclBpeGVsKTsKKwlpZiAoZHN0LT5kcmF3YWJsZS5iaXRzUGVyUGl4ZWwgPT0gMzIpCisJ
CWNtZCB8PSBCTFRfV1JJVEVfQUxQSEEgfCBCTFRfV1JJVEVfUkdCOwogCiAJa2dlbV9zZXRfbW9k
ZShrZ2VtLCBLR0VNX0JMVCwgZHN0X2JvKTsKIAlpZiAoIWtnZW1fY2hlY2tfYmF0Y2goa2dlbSwg
MTApIHx8CkBAIC0xNTQ4LDEzICsxNTQwLDkgQEAgdGlsZToKIAkJYnIxMyA+Pj0gMjsKIAl9CiAJ
YnIxMyB8PSAweGNjIDw8IDE2OwotCXN3aXRjaCAoZHN0LT5kcmF3YWJsZS5iaXRzUGVyUGl4ZWwp
IHsKLQlkZWZhdWx0OgotCWNhc2UgMzI6IGNtZCB8PSBCTFRfV1JJVEVfQUxQSEEgfCBCTFRfV1JJ
VEVfUkdCOwotCQkgYnIxMyB8PSAxIDw8IDI1OyAvKiBSR0I4ODg4ICovCi0JY2FzZSAxNjogYnIx
MyB8PSAxIDw8IDI0OyAvKiBSR0I1NjUgKi8KLQljYXNlIDg6IGJyZWFrOwotCX0KKwlicjEzIHw9
IHNuYV9icjEzX2NvbG9yX2RlcHRoKGRzdC0+ZHJhd2FibGUuYml0c1BlclBpeGVsKTsKKwlpZiAo
ZHN0LT5kcmF3YWJsZS5iaXRzUGVyUGl4ZWwgPT0gMzIpCisJCWNtZCB8PSBCTFRfV1JJVEVfQUxQ
SEEgfCBCTFRfV1JJVEVfUkdCOwogCiAJa2dlbV9zZXRfbW9kZShrZ2VtLCBLR0VNX0JMVCwgZHN0
X2JvKTsKIAlpZiAoIWtnZW1fY2hlY2tfYmF0Y2goa2dlbSwgMTApIHx8Ci0tIAoyLjIxLjAKCl9f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCkludGVsLWdmeCBt
YWlsaW5nIGxpc3QKSW50ZWwtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3Rz
LmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2ludGVsLWdmeA==

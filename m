Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id A0E2B2AC920
	for <lists+intel-gfx@lfdr.de>; Tue, 10 Nov 2020 00:12:53 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 9BB9589789;
	Mon,  9 Nov 2020 23:12:51 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga04.intel.com (mga04.intel.com [192.55.52.120])
 by gabe.freedesktop.org (Postfix) with ESMTPS id E8DA289798
 for <intel-gfx@lists.freedesktop.org>; Mon,  9 Nov 2020 23:12:50 +0000 (UTC)
IronPort-SDR: i6EKiCBZbRTc4Kp15TMZjkqz2r2q2FJR/rpTvL7oKxOahRNKWWRN0hMTfA92vvVn5qrweNmdsl
 HhHBdDXT9jCw==
X-IronPort-AV: E=McAfee;i="6000,8403,9800"; a="167300882"
X-IronPort-AV: E=Sophos;i="5.77,464,1596524400"; d="scan'208";a="167300882"
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from fmsmga003.fm.intel.com ([10.253.24.29])
 by fmsmga104.fm.intel.com with ESMTP/TLS/ECDHE-RSA-AES256-GCM-SHA384;
 09 Nov 2020 15:12:50 -0800
IronPort-SDR: TM31CrUzff3uK91Es5kdxjkC0rp5eYbWnBri35CWzaevcI6c5DjmQ3+hkSQqJyoETJjDwoz1Q1
 LNTXHqufTCaQ==
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.77,464,1596524400"; d="scan'208";a="365250572"
Received: from stinkbox.fi.intel.com (HELO stinkbox) ([10.237.72.174])
 by FMSMGA003.fm.intel.com with SMTP; 09 Nov 2020 15:12:48 -0800
Received: by stinkbox (sSMTP sendmail emulation);
 Tue, 10 Nov 2020 01:12:48 +0200
From: Ville Syrjala <ville.syrjala@linux.intel.com>
To: intel-gfx@lists.freedesktop.org
Date: Tue, 10 Nov 2020 01:12:39 +0200
Message-Id: <20201109231239.17002-4-ville.syrjala@linux.intel.com>
X-Mailer: git-send-email 2.26.2
In-Reply-To: <20201109231239.17002-1-ville.syrjala@linux.intel.com>
References: <20201109231239.17002-1-ville.syrjala@linux.intel.com>
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH 4/4] drm/i915: Relocate cnl_get_ddi_pll()
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

RnJvbTogVmlsbGUgU3lyasOkbMOkIDx2aWxsZS5zeXJqYWxhQGxpbnV4LmludGVsLmNvbT4KCk1v
dmUgY25sX2dldF9kZGlfcGxsKCkgaW50byBhIGJldHRlciBzcG90IGZyb20gYmV0d2VlbgppY2xf
Z2V0X2RkaV9wbGwoKSBhbmQgZGcxX2dldF9kZGlfcGxsKCkuIEFsc28gcmVvcmRlcgp0aGUgY2Fs
bHMgdG8gdGhlIHNrbCBhbmQgYnh0IGZ1bmN0aW9ucyBiZWNhdXNlIG9jZC4KClNpZ25lZC1vZmYt
Ynk6IFZpbGxlIFN5cmrDpGzDpCA8dmlsbGUuc3lyamFsYUBsaW51eC5pbnRlbC5jb20+Ci0tLQog
ZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5LmMgfCA0OCArKysrKysr
KysrLS0tLS0tLS0tLQogMSBmaWxlIGNoYW5nZWQsIDI0IGluc2VydGlvbnMoKyksIDI0IGRlbGV0
aW9ucygtKQoKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxf
ZGlzcGxheS5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5LmMK
aW5kZXggOGFiNjIyYzAxODZlLi4zMjJkYjBmM2JiYzYgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1
L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheS5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9p
OTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheS5jCkBAIC0xMTAzMywyOCArMTEwMzMsNiBAQCBzdGF0
aWMgdm9pZCBkZzFfZ2V0X2RkaV9wbGwoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2
LCBlbnVtIHBvcnQgcG9ydCwKIAlpY2xfc2V0X2FjdGl2ZV9wb3J0X2RwbGwocGlwZV9jb25maWcs
IHBvcnRfZHBsbF9pZCk7CiB9CiAKLXN0YXRpYyB2b2lkIGNubF9nZXRfZGRpX3BsbChzdHJ1Y3Qg
ZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYsIGVudW0gcG9ydCBwb3J0LAotCQkJICAgIHN0cnVj
dCBpbnRlbF9jcnRjX3N0YXRlICpwaXBlX2NvbmZpZykKLXsKLQlzdHJ1Y3QgaW50ZWxfc2hhcmVk
X2RwbGwgKnBsbDsKLQllbnVtIGludGVsX2RwbGxfaWQgaWQ7Ci0JYm9vbCBwbGxfYWN0aXZlOwot
CXUzMiB0ZW1wOwotCi0JdGVtcCA9IGludGVsX2RlX3JlYWQoZGV2X3ByaXYsIERQQ0xLQV9DRkdD
UjApICYgRFBDTEtBX0NGR0NSMF9ERElfQ0xLX1NFTF9NQVNLKHBvcnQpOwotCWlkID0gdGVtcCA+
PiBEUENMS0FfQ0ZHQ1IwX0RESV9DTEtfU0VMX1NISUZUKHBvcnQpOwotCi0JaWYgKGRybV9XQVJO
X09OKCZkZXZfcHJpdi0+ZHJtLCBpZCA8IFNLTF9EUExMMCB8fCBpZCA+IFNLTF9EUExMMikpCi0J
CXJldHVybjsKLQotCXBsbCA9IGludGVsX2dldF9zaGFyZWRfZHBsbF9ieV9pZChkZXZfcHJpdiwg
aWQpOwotCi0JcGlwZV9jb25maWctPnNoYXJlZF9kcGxsID0gcGxsOwotCXBsbF9hY3RpdmUgPSBp
bnRlbF9kcGxsX2dldF9od19zdGF0ZShkZXZfcHJpdiwgcGxsLAotCQkJCQkgICAgICZwaXBlX2Nv
bmZpZy0+ZHBsbF9od19zdGF0ZSk7Ci0JZHJtX1dBUk5fT04oJmRldl9wcml2LT5kcm0sICFwbGxf
YWN0aXZlKTsKLX0KLQogc3RhdGljIHZvaWQgaWNsX2dldF9kZGlfcGxsKHN0cnVjdCBkcm1faTkx
NV9wcml2YXRlICpkZXZfcHJpdiwgZW51bSBwb3J0IHBvcnQsCiAJCQkgICAgc3RydWN0IGludGVs
X2NydGNfc3RhdGUgKnBpcGVfY29uZmlnKQogewpAQCAtMTExMDksNiArMTEwODcsMjggQEAgc3Rh
dGljIHZvaWQgaWNsX2dldF9kZGlfcGxsKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJp
diwgZW51bSBwb3J0IHBvcnQsCiAJaWNsX3NldF9hY3RpdmVfcG9ydF9kcGxsKHBpcGVfY29uZmln
LCBwb3J0X2RwbGxfaWQpOwogfQogCitzdGF0aWMgdm9pZCBjbmxfZ2V0X2RkaV9wbGwoc3RydWN0
IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2LCBlbnVtIHBvcnQgcG9ydCwKKwkJCSAgICBzdHJ1
Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqcGlwZV9jb25maWcpCit7CisJc3RydWN0IGludGVsX3NoYXJl
ZF9kcGxsICpwbGw7CisJZW51bSBpbnRlbF9kcGxsX2lkIGlkOworCWJvb2wgcGxsX2FjdGl2ZTsK
Kwl1MzIgdGVtcDsKKworCXRlbXAgPSBpbnRlbF9kZV9yZWFkKGRldl9wcml2LCBEUENMS0FfQ0ZH
Q1IwKSAmIERQQ0xLQV9DRkdDUjBfRERJX0NMS19TRUxfTUFTSyhwb3J0KTsKKwlpZCA9IHRlbXAg
Pj4gRFBDTEtBX0NGR0NSMF9ERElfQ0xLX1NFTF9TSElGVChwb3J0KTsKKworCWlmIChkcm1fV0FS
Tl9PTigmZGV2X3ByaXYtPmRybSwgaWQgPCBTS0xfRFBMTDAgfHwgaWQgPiBTS0xfRFBMTDIpKQor
CQlyZXR1cm47CisKKwlwbGwgPSBpbnRlbF9nZXRfc2hhcmVkX2RwbGxfYnlfaWQoZGV2X3ByaXYs
IGlkKTsKKworCXBpcGVfY29uZmlnLT5zaGFyZWRfZHBsbCA9IHBsbDsKKwlwbGxfYWN0aXZlID0g
aW50ZWxfZHBsbF9nZXRfaHdfc3RhdGUoZGV2X3ByaXYsIHBsbCwKKwkJCQkJICAgICAmcGlwZV9j
b25maWctPmRwbGxfaHdfc3RhdGUpOworCWRybV9XQVJOX09OKCZkZXZfcHJpdi0+ZHJtLCAhcGxs
X2FjdGl2ZSk7Cit9CisKIHN0YXRpYyB2b2lkIGJ4dF9nZXRfZGRpX3BsbChzdHJ1Y3QgZHJtX2k5
MTVfcHJpdmF0ZSAqZGV2X3ByaXYsCiAJCQkJZW51bSBwb3J0IHBvcnQsCiAJCQkJc3RydWN0IGlu
dGVsX2NydGNfc3RhdGUgKnBpcGVfY29uZmlnKQpAQCAtMTEzODIsMTAgKzExMzgyLDEwIEBAIHN0
YXRpYyB2b2lkIGhzd19nZXRfZGRpX3BvcnRfc3RhdGUoc3RydWN0IGludGVsX2NydGMgKmNydGMs
CiAJCWljbF9nZXRfZGRpX3BsbChkZXZfcHJpdiwgcG9ydCwgcGlwZV9jb25maWcpOwogCWVsc2Ug
aWYgKElTX0NBTk5PTkxBS0UoZGV2X3ByaXYpKQogCQljbmxfZ2V0X2RkaV9wbGwoZGV2X3ByaXYs
IHBvcnQsIHBpcGVfY29uZmlnKTsKLQllbHNlIGlmIChJU19HRU45X0JDKGRldl9wcml2KSkKLQkJ
c2tsX2dldF9kZGlfcGxsKGRldl9wcml2LCBwb3J0LCBwaXBlX2NvbmZpZyk7CiAJZWxzZSBpZiAo
SVNfR0VOOV9MUChkZXZfcHJpdikpCiAJCWJ4dF9nZXRfZGRpX3BsbChkZXZfcHJpdiwgcG9ydCwg
cGlwZV9jb25maWcpOworCWVsc2UgaWYgKElTX0dFTjlfQkMoZGV2X3ByaXYpKQorCQlza2xfZ2V0
X2RkaV9wbGwoZGV2X3ByaXYsIHBvcnQsIHBpcGVfY29uZmlnKTsKIAllbHNlCiAJCWhzd19nZXRf
ZGRpX3BsbChkZXZfcHJpdiwgcG9ydCwgcGlwZV9jb25maWcpOwogCi0tIAoyLjI2LjIKCl9fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCkludGVsLWdmeCBtYWls
aW5nIGxpc3QKSW50ZWwtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZy
ZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2ludGVsLWdmeAo=

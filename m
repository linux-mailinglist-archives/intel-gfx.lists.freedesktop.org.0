Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id EB25F33F5AF
	for <lists+intel-gfx@lfdr.de>; Wed, 17 Mar 2021 17:38:10 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 38EE06E843;
	Wed, 17 Mar 2021 16:38:09 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga18.intel.com (mga18.intel.com [134.134.136.126])
 by gabe.freedesktop.org (Postfix) with ESMTPS id AAD926E843
 for <intel-gfx@lists.freedesktop.org>; Wed, 17 Mar 2021 16:38:07 +0000 (UTC)
IronPort-SDR: 79latJ8ZwVzfHvipJVUMe1tbLpKixVbjeaZXib5GeAQoCV2m/2Xqut6AL7F1eq3EwOleST4nCb
 l7uBi3qhtjlA==
X-IronPort-AV: E=McAfee;i="6000,8403,9926"; a="177097126"
X-IronPort-AV: E=Sophos;i="5.81,256,1610438400"; d="scan'208";a="177097126"
Received: from orsmga001.jf.intel.com ([10.7.209.18])
 by orsmga106.jf.intel.com with ESMTP/TLS/ECDHE-RSA-AES256-GCM-SHA384;
 17 Mar 2021 09:38:06 -0700
IronPort-SDR: J/TGNuGCYTcu607Q296yxVE//Dhi93LUXTaNXoY4M+kBn0/EXv2+xaXRgaT81qdJghvCE1msm/
 XQp7COedV4Dg==
X-IronPort-AV: E=Sophos;i="5.81,256,1610438400"; d="scan'208";a="450161598"
Received: from jpferrer-mobl1.ger.corp.intel.com (HELO localhost)
 ([10.249.46.99])
 by orsmga001-auth.jf.intel.com with ESMTP/TLS/ECDHE-RSA-AES256-GCM-SHA384;
 17 Mar 2021 09:38:03 -0700
From: Jani Nikula <jani.nikula@intel.com>
To: intel-gfx@lists.freedesktop.org
Date: Wed, 17 Mar 2021 18:36:50 +0200
Message-Id: <89717516e99afccfecf1a7c6c938b8349f65e985.1615998927.git.jani.nikula@intel.com>
X-Mailer: git-send-email 2.20.1
In-Reply-To: <cover.1615998927.git.jani.nikula@intel.com>
References: <cover.1615998927.git.jani.nikula@intel.com>
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH v2 11/14] drm/i915/bios: save a higher level
 pointer in ddi_vbt_port_info[]
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: jani.nikula@intel.com, lucas.demarchi@intel.com
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

V2UnbGwgYmUgbmVlZGluZyB0aGUgaW50ZWxfYmlvc19lbmNvZGVyX2RhdGEgcG9pbnRlciBnb2lu
ZyBmb3J3YXJkLCBhbmQKaXQncyBqdXN0IGVhc2llciB0byBzdG9yZSB0aGUgaGlnaGVyIGxldmVs
IHBvaW50ZXIgaW4gdGhlCmRkaV92YnRfcG9ydF9pbmZvW10gYXJyYXkuCgpDYzogTHVjYXMgRGUg
TWFyY2hpIDxsdWNhcy5kZW1hcmNoaUBpbnRlbC5jb20+CkNjOiBWaWxsZSBTeXJqw6Rsw6QgPHZp
bGxlLnN5cmphbGFAbGludXguaW50ZWwuY29tPgpSZXZpZXdlZC1ieTogTHVjYXMgRGUgTWFyY2hp
IDxsdWNhcy5kZW1hcmNoaUBpbnRlbC5jb20+ClNpZ25lZC1vZmYtYnk6IEphbmkgTmlrdWxhIDxq
YW5pLm5pa3VsYUBpbnRlbC5jb20+Ci0tLQogZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9p
bnRlbF9iaW9zLmMgfCAyOCArKysrKysrKysrKy0tLS0tLS0tLS0tLQogZHJpdmVycy9ncHUvZHJt
L2k5MTUvZGlzcGxheS9pbnRlbF9iaW9zLmggfCAgMSArCiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9p
OTE1X2Rydi5oICAgICAgICAgICB8ICAyICstCiAzIGZpbGVzIGNoYW5nZWQsIDE2IGluc2VydGlv
bnMoKyksIDE1IGRlbGV0aW9ucygtKQoKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1
L2Rpc3BsYXkvaW50ZWxfYmlvcy5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRl
bF9iaW9zLmMKaW5kZXggNDNjYjUwNDhhYjlhLi5kYjEzNjM3ZDBhYjkgMTAwNjQ0Ci0tLSBhL2Ry
aXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfYmlvcy5jCisrKyBiL2RyaXZlcnMvZ3B1
L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfYmlvcy5jCkBAIC0xNTEzLDcgKzE1MTMsNyBAQCBzdGF0
aWMgZW51bSBwb3J0IGdldF9wb3J0X2J5X2RkY19waW4oc3RydWN0IGRybV9pOTE1X3ByaXZhdGUg
Kmk5MTUsIHU4IGRkY19waW4pCiAJZm9yX2VhY2hfcG9ydChwb3J0KSB7CiAJCWluZm8gPSAmaTkx
NS0+dmJ0LmRkaV9wb3J0X2luZm9bcG9ydF07CiAKLQkJaWYgKGluZm8tPmNoaWxkICYmIGRkY19w
aW4gPT0gaW5mby0+YWx0ZXJuYXRlX2RkY19waW4pCisJCWlmIChpbmZvLT5kZXZkYXRhICYmIGRk
Y19waW4gPT0gaW5mby0+YWx0ZXJuYXRlX2RkY19waW4pCiAJCQlyZXR1cm4gcG9ydDsKIAl9CiAK
QEAgLTE1NjMsNyArMTU2Myw3IEBAIHN0YXRpYyBlbnVtIHBvcnQgZ2V0X3BvcnRfYnlfYXV4X2No
KHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICppOTE1LCB1OCBhdXhfY2gpCiAJZm9yX2VhY2hfcG9y
dChwb3J0KSB7CiAJCWluZm8gPSAmaTkxNS0+dmJ0LmRkaV9wb3J0X2luZm9bcG9ydF07CiAKLQkJ
aWYgKGluZm8tPmNoaWxkICYmIGF1eF9jaCA9PSBpbmZvLT5hbHRlcm5hdGVfYXV4X2NoYW5uZWwp
CisJCWlmIChpbmZvLT5kZXZkYXRhICYmIGF1eF9jaCA9PSBpbmZvLT5hbHRlcm5hdGVfYXV4X2No
YW5uZWwpCiAJCQlyZXR1cm4gcG9ydDsKIAl9CiAKQEAgLTE4NjIsNyArMTg2Miw3IEBAIHN0YXRp
YyB2b2lkIHBhcnNlX2RkaV9wb3J0KHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICppOTE1LAogCiAJ
aW5mbyA9ICZpOTE1LT52YnQuZGRpX3BvcnRfaW5mb1twb3J0XTsKIAotCWlmIChpbmZvLT5jaGls
ZCkgeworCWlmIChpbmZvLT5kZXZkYXRhKSB7CiAJCWRybV9kYmdfa21zKCZpOTE1LT5kcm0sCiAJ
CQkgICAgIk1vcmUgdGhhbiBvbmUgY2hpbGQgZGV2aWNlIGZvciBwb3J0ICVjIGluIFZCVCwgdXNp
bmcgdGhlIGZpcnN0LlxuIiwKIAkJCSAgICBwb3J0X25hbWUocG9ydCkpOwpAQCAtMTk3Niw3ICsx
OTc2LDcgQEAgc3RhdGljIHZvaWQgcGFyc2VfZGRpX3BvcnQoc3RydWN0IGRybV9pOTE1X3ByaXZh
dGUgKmk5MTUsCiAJCQkgICAgcG9ydF9uYW1lKHBvcnQpLCBpbmZvLT5kcF9tYXhfbGlua19yYXRl
KTsKIAl9CiAKLQlpbmZvLT5jaGlsZCA9IGNoaWxkOworCWluZm8tPmRldmRhdGEgPSBkZXZkYXRh
OwogfQogCiBzdGF0aWMgdm9pZCBwYXJzZV9kZGlfcG9ydHMoc3RydWN0IGRybV9pOTE1X3ByaXZh
dGUgKmk5MTUpCkBAIC0yNTE3LDcgKzI1MTcsNyBAQCBib29sIGludGVsX2Jpb3NfaXNfcG9ydF9w
cmVzZW50KHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICppOTE1LCBlbnVtIHBvcnQgcG9ydCkKIAkJ
Y29uc3Qgc3RydWN0IGRkaV92YnRfcG9ydF9pbmZvICpwb3J0X2luZm8gPQogCQkJJmk5MTUtPnZi
dC5kZGlfcG9ydF9pbmZvW3BvcnRdOwogCi0JCXJldHVybiBwb3J0X2luZm8tPmNoaWxkOworCQly
ZXR1cm4gcG9ydF9pbmZvLT5kZXZkYXRhOwogCX0KIAogCS8qIEZJWE1FIG1heWJlIGRlYWwgd2l0
aCBwb3J0IEEgYXMgd2VsbD8gKi8KQEAgLTI3NjQsMTMgKzI3NjQsMTMgQEAgYm9vbAogaW50ZWxf
Ymlvc19pc19wb3J0X2hwZF9pbnZlcnRlZChjb25zdCBzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAq
aTkxNSwKIAkJCQllbnVtIHBvcnQgcG9ydCkKIHsKLQljb25zdCBzdHJ1Y3QgY2hpbGRfZGV2aWNl
X2NvbmZpZyAqY2hpbGQgPQotCQlpOTE1LT52YnQuZGRpX3BvcnRfaW5mb1twb3J0XS5jaGlsZDsK
Kwljb25zdCBzdHJ1Y3QgaW50ZWxfYmlvc19lbmNvZGVyX2RhdGEgKmRldmRhdGEgPQorCQlpOTE1
LT52YnQuZGRpX3BvcnRfaW5mb1twb3J0XS5kZXZkYXRhOwogCiAJaWYgKGRybV9XQVJOX09OX09O
Q0UoJmk5MTUtPmRybSwgIUlTX0dFTjlfTFAoaTkxNSkpKQogCQlyZXR1cm4gZmFsc2U7CiAKLQly
ZXR1cm4gY2hpbGQgJiYgY2hpbGQtPmhwZF9pbnZlcnQ7CisJcmV0dXJuIGRldmRhdGEgJiYgZGV2
ZGF0YS0+Y2hpbGQuaHBkX2ludmVydDsKIH0KIAogLyoqCkBAIC0yNzg0LDEwICsyNzg0LDEwIEBA
IGJvb2wKIGludGVsX2Jpb3NfaXNfbHNwY29uX3ByZXNlbnQoY29uc3Qgc3RydWN0IGRybV9pOTE1
X3ByaXZhdGUgKmk5MTUsCiAJCQkgICAgIGVudW0gcG9ydCBwb3J0KQogewotCWNvbnN0IHN0cnVj
dCBjaGlsZF9kZXZpY2VfY29uZmlnICpjaGlsZCA9Ci0JCWk5MTUtPnZidC5kZGlfcG9ydF9pbmZv
W3BvcnRdLmNoaWxkOworCWNvbnN0IHN0cnVjdCBpbnRlbF9iaW9zX2VuY29kZXJfZGF0YSAqZGV2
ZGF0YSA9CisJCWk5MTUtPnZidC5kZGlfcG9ydF9pbmZvW3BvcnRdLmRldmRhdGE7CiAKLQlyZXR1
cm4gSEFTX0xTUENPTihpOTE1KSAmJiBjaGlsZCAmJiBjaGlsZC0+bHNwY29uOworCXJldHVybiBI
QVNfTFNQQ09OKGk5MTUpICYmIGRldmRhdGEgJiYgZGV2ZGF0YS0+Y2hpbGQubHNwY29uOwogfQog
CiAvKioKQEAgLTI4MDEsMTAgKzI4MDEsMTAgQEAgYm9vbAogaW50ZWxfYmlvc19pc19sYW5lX3Jl
dmVyc2FsX25lZWRlZChjb25zdCBzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSwKIAkJCQkg
ICBlbnVtIHBvcnQgcG9ydCkKIHsKLQljb25zdCBzdHJ1Y3QgY2hpbGRfZGV2aWNlX2NvbmZpZyAq
Y2hpbGQgPQotCQlpOTE1LT52YnQuZGRpX3BvcnRfaW5mb1twb3J0XS5jaGlsZDsKKwljb25zdCBz
dHJ1Y3QgaW50ZWxfYmlvc19lbmNvZGVyX2RhdGEgKmRldmRhdGEgPQorCQlpOTE1LT52YnQuZGRp
X3BvcnRfaW5mb1twb3J0XS5kZXZkYXRhOwogCi0JcmV0dXJuIGNoaWxkICYmIGNoaWxkLT5sYW5l
X3JldmVyc2FsOworCXJldHVybiBkZXZkYXRhICYmIGRldmRhdGEtPmNoaWxkLmxhbmVfcmV2ZXJz
YWw7CiB9CiAKIGVudW0gYXV4X2NoIGludGVsX2Jpb3NfcG9ydF9hdXhfY2goc3RydWN0IGRybV9p
OTE1X3ByaXZhdGUgKmk5MTUsCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNw
bGF5L2ludGVsX2Jpb3MuaCBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfYmlv
cy5oCmluZGV4IGYyNTE5MGVjZmU5Ny4uNjU5MWNmNzc1OGYyIDEwMDY0NAotLS0gYS9kcml2ZXJz
L2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Jpb3MuaAorKysgYi9kcml2ZXJzL2dwdS9kcm0v
aTkxNS9kaXNwbGF5L2ludGVsX2Jpb3MuaApAQCAtMzMsNiArMzMsNyBAQAogI2luY2x1ZGUgPGxp
bnV4L3R5cGVzLmg+CiAKIHN0cnVjdCBkcm1faTkxNV9wcml2YXRlOworc3RydWN0IGludGVsX2Jp
b3NfZW5jb2Rlcl9kYXRhOwogc3RydWN0IGludGVsX2NydGNfc3RhdGU7CiBzdHJ1Y3QgaW50ZWxf
ZW5jb2RlcjsKIGVudW0gcG9ydDsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5
MTVfZHJ2LmggYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2Rydi5oCmluZGV4IDI2ZjdkYzcx
YWJmZC4uNDEyYzNkOTczMjc5IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1
X2Rydi5oCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZHJ2LmgKQEAgLTU4NCw3ICs1
ODQsNyBAQCBpOTE1X2ZlbmNlX3RpbWVvdXQoY29uc3Qgc3RydWN0IGRybV9pOTE1X3ByaXZhdGUg
Kmk5MTUpCiAKIHN0cnVjdCBkZGlfdmJ0X3BvcnRfaW5mbyB7CiAJLyogTm9uLU5VTEwgaWYgcG9y
dCBwcmVzZW50LiAqLwotCWNvbnN0IHN0cnVjdCBjaGlsZF9kZXZpY2VfY29uZmlnICpjaGlsZDsK
Kwljb25zdCBzdHJ1Y3QgaW50ZWxfYmlvc19lbmNvZGVyX2RhdGEgKmRldmRhdGE7CiAKIAlpbnQg
bWF4X3RtZHNfY2xvY2s7CiAKLS0gCjIuMjAuMQoKX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX18KSW50ZWwtZ2Z4IG1haWxpbmcgbGlzdApJbnRlbC1nZnhAbGlz
dHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4v
bGlzdGluZm8vaW50ZWwtZ2Z4Cg==

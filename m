Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id CAB0C6D4F3
	for <lists+intel-gfx@lfdr.de>; Thu, 18 Jul 2019 21:47:16 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 9135C6E462;
	Thu, 18 Jul 2019 19:47:14 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from asavdk3.altibox.net (asavdk3.altibox.net [109.247.116.14])
 by gabe.freedesktop.org (Postfix) with ESMTPS id D7A8A6E462
 for <intel-gfx@lists.freedesktop.org>; Thu, 18 Jul 2019 19:47:12 +0000 (UTC)
Received: from ravnborg.org (unknown [158.248.194.18])
 (using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
 (No client certificate requested)
 by asavdk3.altibox.net (Postfix) with ESMTPS id 4405220024
 for <intel-gfx@lists.freedesktop.org>; Thu, 18 Jul 2019 21:47:11 +0200 (CEST)
Date: Thu, 18 Jul 2019 21:47:09 +0200
From: Sam Ravnborg <sam@ravnborg.org>
To: Intel Graphics Development <intel-gfx@lists.freedesktop.org>
Message-ID: <20190718194709.GA11103@ravnborg.org>
MIME-Version: 1.0
Content-Disposition: inline
User-Agent: Mutt/1.10.1 (2018-07-13)
X-CMAE-Score: 0
X-CMAE-Analysis: v=2.3 cv=dqr19Wo4 c=1 sm=1 tr=0
 a=UWs3HLbX/2nnQ3s7vZ42gw==:117 a=UWs3HLbX/2nnQ3s7vZ42gw==:17
 a=kj9zAlcOel0A:10 a=7gkXJVJtAAAA:8 a=QyXUC8HyAAAA:8 a=P-IC7800AAAA:8
 a=YEINtQZRul9hlDdZYYIA:9 a=CjuIK1q_8ugA:10 a=E9Po1WZjFZOl8hwRPBS3:22
 a=d3PnA9EDa4IxuAV0gXij:22
Subject: [Intel-gfx] [PATCH 1/1] drm/vblank: drop use of DRM_WAIT_ON()
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

RnJvbSBlNmY3MGNiOTBlMGMzYzkwZDQ1MDE3YTgyNTczNTM2NTJiN2UwZGNjIE1vbiBTZXAgMTcg
MDA6MDA6MDAgMjAwMQpGcm9tOiBTYW0gUmF2bmJvcmcgPHNhbUByYXZuYm9yZy5vcmc+CkRhdGU6
IFRodSwgMzAgTWF5IDIwMTkgMDk6Mzg6NDcgKzAyMDAKU3ViamVjdDogW1BBVENIXSBkcm0vdmJs
YW5rOiBkcm9wIHVzZSBvZiBEUk1fV0FJVF9PTigpCgpEUk1fV0FJVF9PTigpIGlzIGZyb20gdGhl
IGRlcHJlY2F0ZWQgZHJtX29zX2xpbnV4IGhlYWRlciBhbmQKdGhlIG1vZGVybiByZXBsYWNlbWVu
dCBpcyB0aGUgd2FpdF9ldmVudF8qLgoKVGhlIHJldHVybiB2YWx1ZXMgZGlmZmVyLCBzbyBhIGNv
bnZlcnNpb24gaXMgbmVlZGVkIHRvCmtlZXAgdGhlIG9yaWdpbmFsIGludGVyZmFjZSB0b3dhcmRz
IHVzZXJzcGFjZS4KSW50cm9kdWNlZCBhIHN3aXRjaC9jYXNlIHRvIG1ha2UgY29kZSBvYnZpb3Vz
IGFuZCB0byBhbGxvdwpkaWZmZXJlbnQgZGVidWcgcHJpbnRzIGRlcGVuZGluZyBvbiB0aGUgcmVz
dWx0LgoKU2lnbmVkLW9mZi1ieTogU2FtIFJhdm5ib3JnIDxzYW1AcmF2bmJvcmcub3JnPgpSZXZp
ZXdlZC1ieTogU2VhbiBQYXVsIDxzZWFuQHBvb3JseS5ydW4+CkNjOiBNYWFydGVuIExhbmtob3Jz
dCA8bWFhcnRlbi5sYW5raG9yc3RAbGludXguaW50ZWwuY29tPgpDYzogTWF4aW1lIFJpcGFyZCA8
bWF4aW1lLnJpcGFyZEBib290bGluLmNvbT4KQ2M6IERhdmlkIEFpcmxpZSA8YWlybGllZEBsaW51
eC5pZT4KQ2M6IERhbmllbCBWZXR0ZXIgPGRhbmllbEBmZndsbC5jaD4KLS0tCgpUbyB2ZXJpZnkg
aWYgaXQgd29ya3Mgd2l0aCB0aGUgZml4LgooQWRkZWQgd2F0IHZhcmlhYmxlIHRvIGhhbmRsZSB0
aGUgc2l0dWF0aW9uIHdoZXJlIHdlIG5ldmVyIHdhaXQpCgoJU2FtCgogZHJpdmVycy9ncHUvZHJt
L2RybV92YmxhbmsuYyB8IDMyICsrKysrKysrKysrKysrKysrKysrKystLS0tLS0tLS0tCiAxIGZp
bGUgY2hhbmdlZCwgMjIgaW5zZXJ0aW9ucygrKSwgMTAgZGVsZXRpb25zKC0pCgpkaWZmIC0tZ2l0
IGEvZHJpdmVycy9ncHUvZHJtL2RybV92YmxhbmsuYyBiL2RyaXZlcnMvZ3B1L2RybS9kcm1fdmJs
YW5rLmMKaW5kZXggNjAzYWIxMDUxMjVkLi40ZTgzZjFkZmQ0NDYgMTAwNjQ0Ci0tLSBhL2RyaXZl
cnMvZ3B1L2RybS9kcm1fdmJsYW5rLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2RybV92Ymxhbmsu
YwpAQCAtMzEsNyArMzEsNiBAQAogI2luY2x1ZGUgPGRybS9kcm1fZHJ2Lmg+CiAjaW5jbHVkZSA8
ZHJtL2RybV9mcmFtZWJ1ZmZlci5oPgogI2luY2x1ZGUgPGRybS9kcm1fcHJpbnQuaD4KLSNpbmNs
dWRlIDxkcm0vZHJtX29zX2xpbnV4Lmg+CiAjaW5jbHVkZSA8ZHJtL2RybV92YmxhbmsuaD4KIAog
I2luY2x1ZGUgImRybV9pbnRlcm5hbC5oIgpAQCAtMTU3Niw3ICsxNTc1LDcgQEAgaW50IGRybV93
YWl0X3ZibGFua19pb2N0bChzdHJ1Y3QgZHJtX2RldmljZSAqZGV2LCB2b2lkICpkYXRhLAogCXN0
cnVjdCBkcm1fY3J0YyAqY3J0YzsKIAlzdHJ1Y3QgZHJtX3ZibGFua19jcnRjICp2Ymxhbms7CiAJ
dW5pb24gZHJtX3dhaXRfdmJsYW5rICp2Ymx3YWl0ID0gZGF0YTsKLQlpbnQgcmV0OworCWludCBy
ZXQsIHdhaXQ7CiAJdTY0IHJlcV9zZXEsIHNlcTsKIAl1bnNpZ25lZCBpbnQgcGlwZV9pbmRleDsK
IAl1bnNpZ25lZCBpbnQgZmxhZ3MsIHBpcGUsIGhpZ2hfcGlwZTsKQEAgLTE2NjksMjIgKzE2Njgs
MzUgQEAgaW50IGRybV93YWl0X3ZibGFua19pb2N0bChzdHJ1Y3QgZHJtX2RldmljZSAqZGV2LCB2
b2lkICpkYXRhLAogCQlyZXR1cm4gZHJtX3F1ZXVlX3ZibGFua19ldmVudChkZXYsIHBpcGUsIHJl
cV9zZXEsIHZibHdhaXQsIGZpbGVfcHJpdik7CiAJfQogCisJd2FpdCA9IDE7CiAJaWYgKHJlcV9z
ZXEgIT0gc2VxKSB7CiAJCURSTV9ERUJVRygid2FpdGluZyBvbiB2YmxhbmsgY291bnQgJWxsdSwg
Y3J0YyAldVxuIiwKIAkJCSAgcmVxX3NlcSwgcGlwZSk7Ci0JCURSTV9XQUlUX09OKHJldCwgdmJs
YW5rLT5xdWV1ZSwgMyAqIEhaLAotCQkJICAgIHZibGFua19wYXNzZWQoZHJtX3ZibGFua19jb3Vu
dChkZXYsIHBpcGUpLAotCQkJCQkgIHJlcV9zZXEpIHx8Ci0JCQkgICAgIVJFQURfT05DRSh2Ymxh
bmstPmVuYWJsZWQpKTsKKwkJd2FpdCA9IHdhaXRfZXZlbnRfaW50ZXJydXB0aWJsZV90aW1lb3V0
KHZibGFuay0+cXVldWUsCisJCQl2YmxhbmtfcGFzc2VkKGRybV92YmxhbmtfY291bnQoZGV2LCBw
aXBlKSwgcmVxX3NlcSkgfHwKKwkJCQkgICAgICAhUkVBRF9PTkNFKHZibGFuay0+ZW5hYmxlZCks
CisJCQltc2Vjc190b19qaWZmaWVzKDMwMDApKTsKIAl9CiAKLQlpZiAocmV0ICE9IC1FSU5UUikg
eworCXN3aXRjaCAod2FpdCkgeworCWNhc2UgMDoKKwkJLyogdGltZW91dCAqLworCQlyZXQgPSAt
RUJVU1k7CiAJCWRybV93YWl0X3ZibGFua19yZXBseShkZXYsIHBpcGUsICZ2Ymx3YWl0LT5yZXBs
eSk7Ci0KLQkJRFJNX0RFQlVHKCJjcnRjICVkIHJldHVybmluZyAldSB0byBjbGllbnRcbiIsCisJ
CURSTV9ERUJVRygidGltZW91dCB3YWl0aW5nIGZvciB2YmxhbmsuIGNydGMgJWQgcmV0dXJuaW5n
ICV1IHRvIGNsaWVudFxuIiwKIAkJCSAgcGlwZSwgdmJsd2FpdC0+cmVwbHkuc2VxdWVuY2UpOwot
CX0gZWxzZSB7CisJCWJyZWFrOworCWNhc2UgLUVSRVNUQVJUU1lTOgorCQkvKiBpbnRlcnJ1cHRl
ZCBieSBzaWduYWwgKi8KKwkJcmV0ID0gLUVJTlRSOwogCQlEUk1fREVCVUcoImNydGMgJWQgdmJs
YW5rIHdhaXQgaW50ZXJydXB0ZWQgYnkgc2lnbmFsXG4iLCBwaXBlKTsKKwkJYnJlYWs7CisJZGVm
YXVsdDoKKwkJcmV0ID0gMDsKKwkJZHJtX3dhaXRfdmJsYW5rX3JlcGx5KGRldiwgcGlwZSwgJnZi
bHdhaXQtPnJlcGx5KTsKKwkJRFJNX0RFQlVHKCJjcnRjICVkIHJldHVybmluZyAldSB0byBjbGll
bnRcbiIsCisJCQkgIHBpcGUsIHZibHdhaXQtPnJlcGx5LnNlcXVlbmNlKTsKKwkJYnJlYWs7CiAJ
fQogCiBkb25lOgotLSAKMi4yMC4xCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fXwpJbnRlbC1nZnggbWFpbGluZyBsaXN0CkludGVsLWdmeEBsaXN0cy5mcmVl
ZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5m
by9pbnRlbC1nZng=

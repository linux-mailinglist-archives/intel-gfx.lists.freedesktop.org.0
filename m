Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 5503043BB14
	for <lists+intel-gfx@lfdr.de>; Tue, 26 Oct 2021 21:39:34 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id D524D6E865;
	Tue, 26 Oct 2021 19:39:30 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga12.intel.com (mga12.intel.com [192.55.52.136])
 by gabe.freedesktop.org (Postfix) with ESMTPS id B21C089D5F
 for <intel-gfx@lists.freedesktop.org>; Tue, 26 Oct 2021 19:39:29 +0000 (UTC)
X-IronPort-AV: E=McAfee;i="6200,9189,10149"; a="210081006"
X-IronPort-AV: E=Sophos;i="5.87,184,1631602800"; d="scan'208";a="210081006"
Received: from orsmga003.jf.intel.com ([10.7.209.27])
 by fmsmga106.fm.intel.com with ESMTP/TLS/ECDHE-RSA-AES256-GCM-SHA384;
 26 Oct 2021 12:39:29 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.87,184,1631602800"; d="scan'208";a="447244097"
Received: from orsmsx603.amr.corp.intel.com ([10.22.229.16])
 by orsmga003.jf.intel.com with ESMTP; 26 Oct 2021 12:39:28 -0700
Received: from orsmsx611.amr.corp.intel.com (10.22.229.24) by
 ORSMSX603.amr.corp.intel.com (10.22.229.16) with Microsoft SMTP Server
 (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256) id
 15.1.2242.12; Tue, 26 Oct 2021 12:39:28 -0700
Received: from orsmsx610.amr.corp.intel.com (10.22.229.23) by
 ORSMSX611.amr.corp.intel.com (10.22.229.24) with Microsoft SMTP Server
 (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256) id
 15.1.2242.12; Tue, 26 Oct 2021 12:39:28 -0700
Received: from orsmsx610.amr.corp.intel.com ([10.22.229.23]) by
 ORSMSX610.amr.corp.intel.com ([10.22.229.23]) with mapi id 15.01.2242.012;
 Tue, 26 Oct 2021 12:39:27 -0700
From: "Souza, Jose" <jose.souza@intel.com>
To: "ville.syrjala@linux.intel.com" <ville.syrjala@linux.intel.com>,
 "intel-gfx@lists.freedesktop.org" <intel-gfx@lists.freedesktop.org>
Thread-Topic: [PATCH v2 2/9] Revert "drm/i915/display: Disable audio, DRRS and
 PSR before planes"
Thread-Index: AQHXxzA3rdgoOPviBEKzB3Qid8hkm6vmKx0A
Date: Tue, 26 Oct 2021 19:39:27 +0000
Message-ID: <2e2e91157104791c5c209b4123084f1a4c6608bd.camel@intel.com>
References: <20211022103304.24164-1-ville.syrjala@linux.intel.com>
 <20211022103304.24164-3-ville.syrjala@linux.intel.com>
In-Reply-To: <20211022103304.24164-3-ville.syrjala@linux.intel.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-originating-ip: [10.22.254.132]
Content-Type: text/plain; charset="utf-8"
Content-ID: <BECAAF11AB0274428F9CBA05BAABE0B2@intel.com>
Content-Transfer-Encoding: base64
MIME-Version: 1.0
Subject: Re: [Intel-gfx] [PATCH v2 2/9] Revert "drm/i915/display: Disable
 audio, DRRS and PSR before planes"
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

T24gRnJpLCAyMDIxLTEwLTIyIGF0IDEzOjMyICswMzAwLCBWaWxsZSBTeXJqYWxhIHdyb3RlOg0K
PiBGcm9tOiBWaWxsZSBTeXJqw6Rsw6QgPHZpbGxlLnN5cmphbGFAbGludXguaW50ZWwuY29tPg0K
PiANCj4gRGlzYWJsaW5nIHBsYW5lcyBpbiB0aGUgbWlkZGxlIG9mIHRoZSBtb2Rlc2V0IHNldXFu
ZWNlIGRvZXMgbm90IG1ha2UNCj4gc2Vuc2Ugc2luY2UgdXNlcnNwYWNlIGNhbiBhbnl3YXkgZGlz
YWJsZSBwbGFuZXMgYmVmb3JlIHRoZSBtb2Rlc2V0DQo+IGV2ZW4gc3RhcnRzLiBTbyB3aGVuIHRo
ZSBtb2Rlc2V0IHNldXFlbmNlIHN0YXJ0cyB0aGUgc2V0IG9mIGVuYWJsZWQNCj4gcGxhbmVzIGlz
IGVudGlyZWx5IGFyYml0cmFyeS4gVHJ5aW5nIHRvIHNwcmlua2xlIHRoZSBwbGFuZSBkaXNhYmxp
bmcNCj4gaW50byB0aGUgbW9kZXNldCBzZXF1ZW5jZSBqdXN0IG1lYW5zIG1vcmUgcmFuZG9tbmVz
cyBhbmQgcG90ZW50aWFsDQo+IGZvciBoYXJkIHRvIHJlcHJvZHVjZSBidWdzLg0KPiANCj4gU28g
aXQgbWFrZXMgbW9zdCBzZW5zZSB0byBqdXN0IGRpc2FibGUgYWxsIHBsYW5lcyBmaXJzdCBzbyB0
aGF0IHRoZQ0KPiByZXN0IG9mIHRoZSBtb2Rlc2V0IHNlcXVlbmNlIHJlbWFpbnMgaWRlbnRpY2Fs
IHJlZ2FyZGxlc3Mgb2Ygd2hpY2gNCj4gcGxhbmVzIGhhcHBlbiB0byBiZSBlbmFibGVkIGJ5IHVz
ZXJzcGFjZSBhdCB0aGUgdGltZS4NCj4gDQo+IFRoaXMgcmV2ZXJ0cyBjb21taXQgODQwMzBhZGI5
ZTI3ZDIwMmE2NjAyMjQ4OGJmMDM0OWE4YmQ0NTIxMy4NCg0KV2l0aCB0aGUgJ2RybS9pOTE1L3Bz
cjogRGlzYWJsZSBQU1IgYmVmb3JlIG1vZGVzZXRzIHR1cm4gb2ZmIGFsbCBwbGFuZXMnIGl0IGlz
IG5vdyBva2F5IHRvIHJldmVydCB0aGlzLg0KDQpSZXZpZXdlZC1ieTogSm9zw6kgUm9iZXJ0byBk
ZSBTb3V6YSA8am9zZS5zb3V6YUBpbnRlbC5jb20+DQoNCj4gDQo+IENjOiBKb3PDqSBSb2JlcnRv
IGRlIFNvdXphIDxqb3NlLnNvdXphQGludGVsLmNvbT4NCj4gU2lnbmVkLW9mZi1ieTogVmlsbGUg
U3lyasOkbMOkIDx2aWxsZS5zeXJqYWxhQGxpbnV4LmludGVsLmNvbT4NCj4gLS0tDQo+ICBkcml2
ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2RkaS5jICAgICAgfCAzMCArKysrKysrLS0t
LS0tLS0tLS0tDQo+ICBkcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXku
YyAgfCAyNCAtLS0tLS0tLS0tLS0tLS0NCj4gIC4uLi9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rp
c3BsYXlfdHlwZXMuaCAgICB8ICA0IC0tLQ0KPiAgZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxh
eS9pbnRlbF9kcF9tc3QuYyAgIHwgMTQgKystLS0tLS0tDQo+ICA0IGZpbGVzIGNoYW5nZWQsIDEz
IGluc2VydGlvbnMoKyksIDU5IGRlbGV0aW9ucygtKQ0KPiANCj4gZGlmZiAtLWdpdCBhL2RyaXZl
cnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGRpLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkx
NS9kaXNwbGF5L2ludGVsX2RkaS5jDQo+IGluZGV4IGFiNTJlYWIzNDZmZS4uNmMxMTk5MjQ5NmYy
IDEwMDY0NA0KPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2RkaS5j
DQo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGRpLmMNCj4gQEAg
LTMwNjEsNiArMzA2MSwxMiBAQCBzdGF0aWMgdm9pZCBpbnRlbF9kaXNhYmxlX2RkaV9kcChzdHJ1
Y3QgaW50ZWxfYXRvbWljX3N0YXRlICpzdGF0ZSwNCj4gIA0KPiAgCWludGVsX2RwLT5saW5rX3Ry
YWluZWQgPSBmYWxzZTsNCj4gIA0KPiArCWlmIChvbGRfY3J0Y19zdGF0ZS0+aGFzX2F1ZGlvKQ0K
PiArCQlpbnRlbF9hdWRpb19jb2RlY19kaXNhYmxlKGVuY29kZXIsDQo+ICsJCQkJCSAgb2xkX2Ny
dGNfc3RhdGUsIG9sZF9jb25uX3N0YXRlKTsNCj4gKw0KPiArCWludGVsX2RycnNfZGlzYWJsZShp
bnRlbF9kcCwgb2xkX2NydGNfc3RhdGUpOw0KPiArCWludGVsX3Bzcl9kaXNhYmxlKGludGVsX2Rw
LCBvbGRfY3J0Y19zdGF0ZSk7DQo+ICAJaW50ZWxfZWRwX2JhY2tsaWdodF9vZmYob2xkX2Nvbm5f
c3RhdGUpOw0KPiAgCS8qIERpc2FibGUgdGhlIGRlY29tcHJlc3Npb24gaW4gRFAgU2luayAqLw0K
PiAgCWludGVsX2RwX3Npbmtfc2V0X2RlY29tcHJlc3Npb25fc3RhdGUoaW50ZWxfZHAsIG9sZF9j
cnRjX3N0YXRlLA0KPiBAQCAtMzA3OCw2ICszMDg0LDEwIEBAIHN0YXRpYyB2b2lkIGludGVsX2Rp
c2FibGVfZGRpX2hkbWkoc3RydWN0IGludGVsX2F0b21pY19zdGF0ZSAqc3RhdGUsDQo+ICAJc3Ry
dWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUgPSB0b19pOTE1KGVuY29kZXItPmJhc2UuZGV2KTsN
Cj4gIAlzdHJ1Y3QgZHJtX2Nvbm5lY3RvciAqY29ubmVjdG9yID0gb2xkX2Nvbm5fc3RhdGUtPmNv
bm5lY3RvcjsNCj4gIA0KPiArCWlmIChvbGRfY3J0Y19zdGF0ZS0+aGFzX2F1ZGlvKQ0KPiArCQlp
bnRlbF9hdWRpb19jb2RlY19kaXNhYmxlKGVuY29kZXIsDQo+ICsJCQkJCSAgb2xkX2NydGNfc3Rh
dGUsIG9sZF9jb25uX3N0YXRlKTsNCj4gKw0KPiAgCWlmICghaW50ZWxfaGRtaV9oYW5kbGVfc2lu
a19zY3JhbWJsaW5nKGVuY29kZXIsIGNvbm5lY3RvciwNCj4gIAkJCQkJICAgICAgIGZhbHNlLCBm
YWxzZSkpDQo+ICAJCWRybV9kYmdfa21zKCZpOTE1LT5kcm0sDQo+IEBAIC0zMDg1LDI1ICszMDk1
LDYgQEAgc3RhdGljIHZvaWQgaW50ZWxfZGlzYWJsZV9kZGlfaGRtaShzdHJ1Y3QgaW50ZWxfYXRv
bWljX3N0YXRlICpzdGF0ZSwNCj4gIAkJCSAgICBjb25uZWN0b3ItPmJhc2UuaWQsIGNvbm5lY3Rv
ci0+bmFtZSk7DQo+ICB9DQo+ICANCj4gLXN0YXRpYyB2b2lkIGludGVsX3ByZV9kaXNhYmxlX2Rk
aShzdHJ1Y3QgaW50ZWxfYXRvbWljX3N0YXRlICpzdGF0ZSwNCj4gLQkJCQkgIHN0cnVjdCBpbnRl
bF9lbmNvZGVyICplbmNvZGVyLA0KPiAtCQkJCSAgY29uc3Qgc3RydWN0IGludGVsX2NydGNfc3Rh
dGUgKm9sZF9jcnRjX3N0YXRlLA0KPiAtCQkJCSAgY29uc3Qgc3RydWN0IGRybV9jb25uZWN0b3Jf
c3RhdGUgKm9sZF9jb25uX3N0YXRlKQ0KPiAtew0KPiAtCXN0cnVjdCBpbnRlbF9kcCAqaW50ZWxf
ZHA7DQo+IC0NCj4gLQlpZiAob2xkX2NydGNfc3RhdGUtPmhhc19hdWRpbykNCj4gLQkJaW50ZWxf
YXVkaW9fY29kZWNfZGlzYWJsZShlbmNvZGVyLCBvbGRfY3J0Y19zdGF0ZSwNCj4gLQkJCQkJICBv
bGRfY29ubl9zdGF0ZSk7DQo+IC0NCj4gLQlpZiAoaW50ZWxfY3J0Y19oYXNfdHlwZShvbGRfY3J0
Y19zdGF0ZSwgSU5URUxfT1VUUFVUX0hETUkpKQ0KPiAtCQlyZXR1cm47DQo+IC0NCj4gLQlpbnRl
bF9kcCA9IGVuY190b19pbnRlbF9kcChlbmNvZGVyKTsNCj4gLQlpbnRlbF9kcnJzX2Rpc2FibGUo
aW50ZWxfZHAsIG9sZF9jcnRjX3N0YXRlKTsNCj4gLQlpbnRlbF9wc3JfZGlzYWJsZShpbnRlbF9k
cCwgb2xkX2NydGNfc3RhdGUpOw0KPiAtfQ0KPiAtDQo+ICBzdGF0aWMgdm9pZCBpbnRlbF9kaXNh
YmxlX2RkaShzdHJ1Y3QgaW50ZWxfYXRvbWljX3N0YXRlICpzdGF0ZSwNCj4gIAkJCSAgICAgIHN0
cnVjdCBpbnRlbF9lbmNvZGVyICplbmNvZGVyLA0KPiAgCQkJICAgICAgY29uc3Qgc3RydWN0IGlu
dGVsX2NydGNfc3RhdGUgKm9sZF9jcnRjX3N0YXRlLA0KPiBAQCAtNDQzNyw3ICs0NDI4LDYgQEAg
dm9pZCBpbnRlbF9kZGlfaW5pdChzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYsIGVu
dW0gcG9ydCBwb3J0KQ0KPiAgCWVuY29kZXItPmVuYWJsZSA9IGludGVsX2VuYWJsZV9kZGk7DQo+
ICAJZW5jb2Rlci0+cHJlX3BsbF9lbmFibGUgPSBpbnRlbF9kZGlfcHJlX3BsbF9lbmFibGU7DQo+
ICAJZW5jb2Rlci0+cHJlX2VuYWJsZSA9IGludGVsX2RkaV9wcmVfZW5hYmxlOw0KPiAtCWVuY29k
ZXItPnByZV9kaXNhYmxlID0gaW50ZWxfcHJlX2Rpc2FibGVfZGRpOw0KPiAgCWVuY29kZXItPmRp
c2FibGUgPSBpbnRlbF9kaXNhYmxlX2RkaTsNCj4gIAllbmNvZGVyLT5wb3N0X2Rpc2FibGUgPSBp
bnRlbF9kZGlfcG9zdF9kaXNhYmxlOw0KPiAgCWVuY29kZXItPnVwZGF0ZV9waXBlID0gaW50ZWxf
ZGRpX3VwZGF0ZV9waXBlOw0KPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlz
cGxheS9pbnRlbF9kaXNwbGF5LmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVs
X2Rpc3BsYXkuYw0KPiBpbmRleCA1MjAxZDZjZGQ1ZGIuLjNkMmExY2JhNzhjMSAxMDA2NDQNCj4g
LS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5LmMNCj4gKysr
IGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5LmMNCj4gQEAgLTE2
OTMsMjggKzE2OTMsNiBAQCBzdGF0aWMgdm9pZCBpbnRlbF9lbmNvZGVyc19lbmFibGUoc3RydWN0
IGludGVsX2F0b21pY19zdGF0ZSAqc3RhdGUsDQo+ICAJfQ0KPiAgfQ0KPiAgDQo+IC1zdGF0aWMg
dm9pZCBpbnRlbF9lbmNvZGVyc19wcmVfZGlzYWJsZShzdHJ1Y3QgaW50ZWxfYXRvbWljX3N0YXRl
ICpzdGF0ZSwNCj4gLQkJCQkgICAgICAgc3RydWN0IGludGVsX2NydGMgKmNydGMpDQo+IC17DQo+
IC0JY29uc3Qgc3RydWN0IGludGVsX2NydGNfc3RhdGUgKm9sZF9jcnRjX3N0YXRlID0NCj4gLQkJ
aW50ZWxfYXRvbWljX2dldF9vbGRfY3J0Y19zdGF0ZShzdGF0ZSwgY3J0Yyk7DQo+IC0JY29uc3Qg
c3RydWN0IGRybV9jb25uZWN0b3Jfc3RhdGUgKm9sZF9jb25uX3N0YXRlOw0KPiAtCXN0cnVjdCBk
cm1fY29ubmVjdG9yICpjb25uOw0KPiAtCWludCBpOw0KPiAtDQo+IC0JZm9yX2VhY2hfb2xkX2Nv
bm5lY3Rvcl9pbl9zdGF0ZSgmc3RhdGUtPmJhc2UsIGNvbm4sIG9sZF9jb25uX3N0YXRlLCBpKSB7
DQo+IC0JCXN0cnVjdCBpbnRlbF9lbmNvZGVyICplbmNvZGVyID0NCj4gLQkJCXRvX2ludGVsX2Vu
Y29kZXIob2xkX2Nvbm5fc3RhdGUtPmJlc3RfZW5jb2Rlcik7DQo+IC0NCj4gLQkJaWYgKG9sZF9j
b25uX3N0YXRlLT5jcnRjICE9ICZjcnRjLT5iYXNlKQ0KPiAtCQkJY29udGludWU7DQo+IC0NCj4g
LQkJaWYgKGVuY29kZXItPnByZV9kaXNhYmxlKQ0KPiAtCQkJZW5jb2Rlci0+cHJlX2Rpc2FibGUo
c3RhdGUsIGVuY29kZXIsIG9sZF9jcnRjX3N0YXRlLA0KPiAtCQkJCQkgICAgIG9sZF9jb25uX3N0
YXRlKTsNCj4gLQl9DQo+IC19DQo+IC0NCj4gIHN0YXRpYyB2b2lkIGludGVsX2VuY29kZXJzX2Rp
c2FibGUoc3RydWN0IGludGVsX2F0b21pY19zdGF0ZSAqc3RhdGUsDQo+ICAJCQkJICAgc3RydWN0
IGludGVsX2NydGMgKmNydGMpDQo+ICB7DQo+IEBAIC04MjczLDggKzgyNTEsNiBAQCBzdGF0aWMg
dm9pZCBpbnRlbF9vbGRfY3J0Y19zdGF0ZV9kaXNhYmxlcyhzdHJ1Y3QgaW50ZWxfYXRvbWljX3N0
YXRlICpzdGF0ZSwNCj4gIA0KPiAgCWRybV9XQVJOX09OKCZkZXZfcHJpdi0+ZHJtLCBvbGRfY3J0
Y19zdGF0ZS0+Ymlnam9pbmVyX3NsYXZlKTsNCj4gIA0KPiAtCWludGVsX2VuY29kZXJzX3ByZV9k
aXNhYmxlKHN0YXRlLCBjcnRjKTsNCj4gLQ0KPiAgCWludGVsX2NydGNfZGlzYWJsZV9wbGFuZXMo
c3RhdGUsIGNydGMpOw0KPiAgDQo+ICAJLyoNCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheV90eXBlcy5oIGIvZHJpdmVycy9ncHUvZHJtL2k5
MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5X3R5cGVzLmgNCj4gaW5kZXggODVjYjU1MDM0YmIwLi4z
NTY4ZDMzYmUwOTYgMTAwNjQ0DQo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkv
aW50ZWxfZGlzcGxheV90eXBlcy5oDQo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3Bs
YXkvaW50ZWxfZGlzcGxheV90eXBlcy5oDQo+IEBAIC0xOTQsMTAgKzE5NCw2IEBAIHN0cnVjdCBp
bnRlbF9lbmNvZGVyIHsNCj4gIAl2b2lkICgqdXBkYXRlX2NvbXBsZXRlKShzdHJ1Y3QgaW50ZWxf
YXRvbWljX3N0YXRlICosDQo+ICAJCQkJc3RydWN0IGludGVsX2VuY29kZXIgKiwNCj4gIAkJCQlz
dHJ1Y3QgaW50ZWxfY3J0YyAqKTsNCj4gLQl2b2lkICgqcHJlX2Rpc2FibGUpKHN0cnVjdCBpbnRl
bF9hdG9taWNfc3RhdGUgKiwNCj4gLQkJCSAgICBzdHJ1Y3QgaW50ZWxfZW5jb2RlciAqLA0KPiAt
CQkJICAgIGNvbnN0IHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlICosDQo+IC0JCQkgICAgY29uc3Qg
c3RydWN0IGRybV9jb25uZWN0b3Jfc3RhdGUgKik7DQo+ICAJdm9pZCAoKmRpc2FibGUpKHN0cnVj
dCBpbnRlbF9hdG9taWNfc3RhdGUgKiwNCj4gIAkJCXN0cnVjdCBpbnRlbF9lbmNvZGVyICosDQo+
ICAJCQljb25zdCBzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqLA0KPiBkaWZmIC0tZ2l0IGEvZHJp
dmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kcF9tc3QuYyBiL2RyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2Rpc3BsYXkvaW50ZWxfZHBfbXN0LmMNCj4gaW5kZXggMGRlMGI0ZmY0ZDczLi4yODlh
OGEwYTNhMDEgMTAwNjQ0DQo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50
ZWxfZHBfbXN0LmMNCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9k
cF9tc3QuYw0KPiBAQCAtMzQ4LDE2ICszNDgsNiBAQCBzdGF0aWMgdm9pZCB3YWl0X2Zvcl9hY3Rf
c2VudChzdHJ1Y3QgaW50ZWxfZW5jb2RlciAqZW5jb2RlciwNCj4gIAlkcm1fZHBfY2hlY2tfYWN0
X3N0YXR1cygmaW50ZWxfZHAtPm1zdF9tZ3IpOw0KPiAgfQ0KPiAgDQo+IC1zdGF0aWMgdm9pZCBp
bnRlbF9tc3RfcHJlX2Rpc2FibGVfZHAoc3RydWN0IGludGVsX2F0b21pY19zdGF0ZSAqc3RhdGUs
DQo+IC0JCQkJICAgICBzdHJ1Y3QgaW50ZWxfZW5jb2RlciAqZW5jb2RlciwNCj4gLQkJCQkgICAg
IGNvbnN0IHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpvbGRfY3J0Y19zdGF0ZSwNCj4gLQkJCQkg
ICAgIGNvbnN0IHN0cnVjdCBkcm1fY29ubmVjdG9yX3N0YXRlICpvbGRfY29ubl9zdGF0ZSkNCj4g
LXsNCj4gLQlpZiAob2xkX2NydGNfc3RhdGUtPmhhc19hdWRpbykNCj4gLQkJaW50ZWxfYXVkaW9f
Y29kZWNfZGlzYWJsZShlbmNvZGVyLCBvbGRfY3J0Y19zdGF0ZSwNCj4gLQkJCQkJICBvbGRfY29u
bl9zdGF0ZSk7DQo+IC19DQo+IC0NCj4gIHN0YXRpYyB2b2lkIGludGVsX21zdF9kaXNhYmxlX2Rw
KHN0cnVjdCBpbnRlbF9hdG9taWNfc3RhdGUgKnN0YXRlLA0KPiAgCQkJCSBzdHJ1Y3QgaW50ZWxf
ZW5jb2RlciAqZW5jb2RlciwNCj4gIAkJCQkgY29uc3Qgc3RydWN0IGludGVsX2NydGNfc3RhdGUg
Km9sZF9jcnRjX3N0YXRlLA0KPiBAQCAtMzgyLDYgKzM3Miw5IEBAIHN0YXRpYyB2b2lkIGludGVs
X21zdF9kaXNhYmxlX2RwKHN0cnVjdCBpbnRlbF9hdG9taWNfc3RhdGUgKnN0YXRlLA0KPiAgCWlm
IChyZXQpIHsNCj4gIAkJZHJtX2RiZ19rbXMoJmk5MTUtPmRybSwgImZhaWxlZCB0byB1cGRhdGUg
cGF5bG9hZCAlZFxuIiwgcmV0KTsNCj4gIAl9DQo+ICsJaWYgKG9sZF9jcnRjX3N0YXRlLT5oYXNf
YXVkaW8pDQo+ICsJCWludGVsX2F1ZGlvX2NvZGVjX2Rpc2FibGUoZW5jb2RlciwNCj4gKwkJCQkJ
ICBvbGRfY3J0Y19zdGF0ZSwgb2xkX2Nvbm5fc3RhdGUpOw0KPiAgfQ0KPiAgDQo+ICBzdGF0aWMg
dm9pZCBpbnRlbF9tc3RfcG9zdF9kaXNhYmxlX2RwKHN0cnVjdCBpbnRlbF9hdG9taWNfc3RhdGUg
KnN0YXRlLA0KPiBAQCAtOTE2LDcgKzkwOSw2IEBAIGludGVsX2RwX2NyZWF0ZV9mYWtlX21zdF9l
bmNvZGVyKHN0cnVjdCBpbnRlbF9kaWdpdGFsX3BvcnQgKmRpZ19wb3J0LCBlbnVtIHBpcGUNCj4g
IA0KPiAgCWludGVsX2VuY29kZXItPmNvbXB1dGVfY29uZmlnID0gaW50ZWxfZHBfbXN0X2NvbXB1
dGVfY29uZmlnOw0KPiAgCWludGVsX2VuY29kZXItPmNvbXB1dGVfY29uZmlnX2xhdGUgPSBpbnRl
bF9kcF9tc3RfY29tcHV0ZV9jb25maWdfbGF0ZTsNCj4gLQlpbnRlbF9lbmNvZGVyLT5wcmVfZGlz
YWJsZSA9IGludGVsX21zdF9wcmVfZGlzYWJsZV9kcDsNCj4gIAlpbnRlbF9lbmNvZGVyLT5kaXNh
YmxlID0gaW50ZWxfbXN0X2Rpc2FibGVfZHA7DQo+ICAJaW50ZWxfZW5jb2Rlci0+cG9zdF9kaXNh
YmxlID0gaW50ZWxfbXN0X3Bvc3RfZGlzYWJsZV9kcDsNCj4gIAlpbnRlbF9lbmNvZGVyLT51cGRh
dGVfcGlwZSA9IGludGVsX2RkaV91cGRhdGVfcGlwZTsNCg0K

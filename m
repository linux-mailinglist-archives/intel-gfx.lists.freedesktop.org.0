Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 451FB10EC3E
	for <lists+intel-gfx@lfdr.de>; Mon,  2 Dec 2019 16:24:10 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 8E97C89D8A;
	Mon,  2 Dec 2019 15:24:08 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga17.intel.com (mga17.intel.com [192.55.52.151])
 by gabe.freedesktop.org (Postfix) with ESMTPS id BE03189D8A
 for <intel-gfx@lists.freedesktop.org>; Mon,  2 Dec 2019 15:24:07 +0000 (UTC)
X-Amp-Result: UNKNOWN
X-Amp-Original-Verdict: FILE UNKNOWN
X-Amp-File-Uploaded: False
Received: from orsmga008.jf.intel.com ([10.7.209.65])
 by fmsmga107.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 02 Dec 2019 07:24:07 -0800
X-IronPort-AV: E=Sophos;i="5.69,268,1571727600"; d="scan'208";a="204594793"
Received: from vkadiya1-mobl.amr.corp.intel.com (HELO ldmartin-desk1)
 ([10.252.134.100])
 by orsmga008-auth.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 02 Dec 2019 07:24:06 -0800
Date: Mon, 2 Dec 2019 07:24:00 -0800
From: Lucas De Marchi <lucas.demarchi@intel.com>
To: Ville Syrjala <ville.syrjala@linux.intel.com>
Message-ID: <20191202152400.qbkgsibmecu5hgal@ldmartin-desk1>
References: <20191105171447.22111-1-ville.syrjala@linux.intel.com>
 <20191105171447.22111-2-ville.syrjala@linux.intel.com>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <20191105171447.22111-2-ville.syrjala@linux.intel.com>
Subject: Re: [Intel-gfx] [PATCH 2/2] drm/i915: Switch
 intel_crtc_disable_noatomic() to intel_ types
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: intel-gfx@lists.freedesktop.org
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

T24gVHVlLCBOb3YgMDUsIDIwMTkgYXQgMDc6MTQ6NDdQTSArMDIwMCwgVmlsbGUgU3lyasOkbMOk
IHdyb3RlOgo+RnJvbTogVmlsbGUgU3lyasOkbMOkIDx2aWxsZS5zeXJqYWxhQGxpbnV4LmludGVs
LmNvbT4KPgo+SXQncyBoYXJkIHRvIHNlZSB3aGF0IGlzIGdvaW5nIG9uIHdoZW4gdGhlIGZ1bmN0
aW9uIG1peGVzIGRybV8KPmFuZCBpbnRlbF8gdHlwZXMuIFN3aXRjaCB0byBpbnRlbF8gdHlwZXMu
Cj4KPlNpZ25lZC1vZmYtYnk6IFZpbGxlIFN5cmrDpGzDpCA8dmlsbGUuc3lyamFsYUBsaW51eC5p
bnRlbC5jb20+CgoKUmV2aWV3ZWQtYnk6IEx1Y2FzIERlIE1hcmNoaSA8bHVjYXMuZGVtYXJjaGlA
aW50ZWwuY29tPgoKTHVjYXMgRGUgTWFyY2hpCgo+LS0tCj4gZHJpdmVycy9ncHUvZHJtL2k5MTUv
ZGlzcGxheS9pbnRlbF9kaXNwbGF5LmMgfCA2NSArKysrKysrKysrLS0tLS0tLS0tLQo+IDEgZmls
ZSBjaGFuZ2VkLCAzMyBpbnNlcnRpb25zKCspLCAzMiBkZWxldGlvbnMoLSkKPgo+ZGlmZiAtLWdp
dCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheS5jIGIvZHJpdmVy
cy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5LmMKPmluZGV4IDFmOTM4NjBmYjg5
Ny4uOGU3NWU3MDI4NDAzIDEwMDY0NAo+LS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxh
eS9pbnRlbF9kaXNwbGF5LmMKPisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50
ZWxfZGlzcGxheS5jCj5AQCAtNzE4Myw0NiArNzE4Myw0NiBAQCBzdGF0aWMgdm9pZCBpOXh4X2Ny
dGNfZGlzYWJsZShzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqb2xkX2NydGNfc3RhdGUsCj4gCQlp
ODMwX2VuYWJsZV9waXBlKGRldl9wcml2LCBwaXBlKTsKPiB9Cj4KPi1zdGF0aWMgdm9pZCBpbnRl
bF9jcnRjX2Rpc2FibGVfbm9hdG9taWMoc3RydWN0IGRybV9jcnRjICpjcnRjLAo+K3N0YXRpYyB2
b2lkIGludGVsX2NydGNfZGlzYWJsZV9ub2F0b21pYyhzdHJ1Y3QgaW50ZWxfY3J0YyAqY3J0YywK
PiAJCQkJCXN0cnVjdCBkcm1fbW9kZXNldF9hY3F1aXJlX2N0eCAqY3R4KQo+IHsKPiAJc3RydWN0
IGludGVsX2VuY29kZXIgKmVuY29kZXI7Cj4tCXN0cnVjdCBpbnRlbF9jcnRjICppbnRlbF9jcnRj
ID0gdG9faW50ZWxfY3J0YyhjcnRjKTsKPi0Jc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9w
cml2ID0gdG9faTkxNShjcnRjLT5kZXYpOwo+KwlzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2
X3ByaXYgPSB0b19pOTE1KGNydGMtPmJhc2UuZGV2KTsKPiAJc3RydWN0IGludGVsX2J3X3N0YXRl
ICpid19zdGF0ZSA9Cj4gCQl0b19pbnRlbF9id19zdGF0ZShkZXZfcHJpdi0+Yndfb2JqLnN0YXRl
KTsKPiAJc3RydWN0IGludGVsX2NydGNfc3RhdGUgKmNydGNfc3RhdGUgPQo+LQkJdG9faW50ZWxf
Y3J0Y19zdGF0ZShjcnRjLT5zdGF0ZSk7Cj4rCQl0b19pbnRlbF9jcnRjX3N0YXRlKGNydGMtPmJh
c2Uuc3RhdGUpOwo+IAllbnVtIGludGVsX2Rpc3BsYXlfcG93ZXJfZG9tYWluIGRvbWFpbjsKPiAJ
c3RydWN0IGludGVsX3BsYW5lICpwbGFuZTsKPi0JdTY0IGRvbWFpbnM7Cj4gCXN0cnVjdCBkcm1f
YXRvbWljX3N0YXRlICpzdGF0ZTsKPiAJc3RydWN0IGludGVsX2NydGNfc3RhdGUgKnRlbXBfY3J0
Y19zdGF0ZTsKPisJZW51bSBwaXBlIHBpcGUgPSBjcnRjLT5waXBlOwo+Kwl1NjQgZG9tYWluczsK
PiAJaW50IHJldDsKPgo+LQlpZiAoIWludGVsX2NydGMtPmFjdGl2ZSkKPisJaWYgKCFjcnRjX3N0
YXRlLT5ody5hY3RpdmUpCj4gCQlyZXR1cm47Cj4KPi0JZm9yX2VhY2hfaW50ZWxfcGxhbmVfb25f
Y3J0YygmZGV2X3ByaXYtPmRybSwgaW50ZWxfY3J0YywgcGxhbmUpIHsKPisJZm9yX2VhY2hfaW50
ZWxfcGxhbmVfb25fY3J0YygmZGV2X3ByaXYtPmRybSwgY3J0YywgcGxhbmUpIHsKPiAJCWNvbnN0
IHN0cnVjdCBpbnRlbF9wbGFuZV9zdGF0ZSAqcGxhbmVfc3RhdGUgPQo+IAkJCXRvX2ludGVsX3Bs
YW5lX3N0YXRlKHBsYW5lLT5iYXNlLnN0YXRlKTsKPgo+IAkJaWYgKHBsYW5lX3N0YXRlLT51YXBp
LnZpc2libGUpCj4tCQkJaW50ZWxfcGxhbmVfZGlzYWJsZV9ub2F0b21pYyhpbnRlbF9jcnRjLCBw
bGFuZSk7Cj4rCQkJaW50ZWxfcGxhbmVfZGlzYWJsZV9ub2F0b21pYyhjcnRjLCBwbGFuZSk7Cj4g
CX0KPgo+LQlzdGF0ZSA9IGRybV9hdG9taWNfc3RhdGVfYWxsb2MoY3J0Yy0+ZGV2KTsKPisJc3Rh
dGUgPSBkcm1fYXRvbWljX3N0YXRlX2FsbG9jKCZkZXZfcHJpdi0+ZHJtKTsKPiAJaWYgKCFzdGF0
ZSkgewo+IAkJRFJNX0RFQlVHX0tNUygiZmFpbGVkIHRvIGRpc2FibGUgW0NSVEM6JWQ6JXNdLCBv
dXQgb2YgbWVtb3J5IiwKPi0JCQkgICAgICBjcnRjLT5iYXNlLmlkLCBjcnRjLT5uYW1lKTsKPisJ
CQkgICAgICBjcnRjLT5iYXNlLmJhc2UuaWQsIGNydGMtPmJhc2UubmFtZSk7Cj4gCQlyZXR1cm47
Cj4gCX0KPgo+IAlzdGF0ZS0+YWNxdWlyZV9jdHggPSBjdHg7Cj4KPiAJLyogRXZlcnl0aGluZydz
IGFscmVhZHkgbG9ja2VkLCAtRURFQURMSyBjYW4ndCBoYXBwZW4uICovCj4tCXRlbXBfY3J0Y19z
dGF0ZSA9IGludGVsX2F0b21pY19nZXRfY3J0Y19zdGF0ZShzdGF0ZSwgaW50ZWxfY3J0Yyk7Cj4t
CXJldCA9IGRybV9hdG9taWNfYWRkX2FmZmVjdGVkX2Nvbm5lY3RvcnMoc3RhdGUsIGNydGMpOwo+
Kwl0ZW1wX2NydGNfc3RhdGUgPSBpbnRlbF9hdG9taWNfZ2V0X2NydGNfc3RhdGUoc3RhdGUsIGNy
dGMpOwo+KwlyZXQgPSBkcm1fYXRvbWljX2FkZF9hZmZlY3RlZF9jb25uZWN0b3JzKHN0YXRlLCAm
Y3J0Yy0+YmFzZSk7Cj4KPiAJV0FSTl9PTihJU19FUlIodGVtcF9jcnRjX3N0YXRlKSB8fCByZXQp
Owo+Cj5AQCAtNzIzMSwzNSArNzIzMSwzNiBAQCBzdGF0aWMgdm9pZCBpbnRlbF9jcnRjX2Rpc2Fi
bGVfbm9hdG9taWMoc3RydWN0IGRybV9jcnRjICpjcnRjLAo+IAlkcm1fYXRvbWljX3N0YXRlX3B1
dChzdGF0ZSk7Cj4KPiAJRFJNX0RFQlVHX0tNUygiW0NSVEM6JWQ6JXNdIGh3IHN0YXRlIGFkanVz
dGVkLCB3YXMgZW5hYmxlZCwgbm93IGRpc2FibGVkXG4iLAo+LQkJICAgICAgY3J0Yy0+YmFzZS5p
ZCwgY3J0Yy0+bmFtZSk7Cj4tCj4tCVdBUk5fT04oZHJtX2F0b21pY19zZXRfbW9kZV9mb3JfY3J0
YyhjcnRjLT5zdGF0ZSwgTlVMTCkgPCAwKTsKPi0JY3J0Yy0+c3RhdGUtPmFjdGl2ZSA9IGZhbHNl
Owo+LQlpbnRlbF9jcnRjLT5hY3RpdmUgPSBmYWxzZTsKPi0JY3J0Yy0+ZW5hYmxlZCA9IGZhbHNl
Owo+LQljcnRjLT5zdGF0ZS0+Y29ubmVjdG9yX21hc2sgPSAwOwo+LQljcnRjLT5zdGF0ZS0+ZW5j
b2Rlcl9tYXNrID0gMDsKPisJCSAgICAgIGNydGMtPmJhc2UuYmFzZS5pZCwgY3J0Yy0+YmFzZS5u
YW1lKTsKPisKPisJY3J0Yy0+YWN0aXZlID0gZmFsc2U7Cj4rCWNydGMtPmJhc2UuZW5hYmxlZCA9
IGZhbHNlOwo+Kwo+KwlXQVJOX09OKGRybV9hdG9taWNfc2V0X21vZGVfZm9yX2NydGMoJmNydGNf
c3RhdGUtPnVhcGksIE5VTEwpIDwgMCk7Cj4rCWNydGNfc3RhdGUtPnVhcGkuYWN0aXZlID0gZmFs
c2U7Cj4rCWNydGNfc3RhdGUtPnVhcGkuY29ubmVjdG9yX21hc2sgPSAwOwo+KwljcnRjX3N0YXRl
LT51YXBpLmVuY29kZXJfbWFzayA9IDA7Cj4gCWludGVsX2NydGNfZnJlZV9od19zdGF0ZShjcnRj
X3N0YXRlKTsKPiAJbWVtc2V0KCZjcnRjX3N0YXRlLT5odywgMCwgc2l6ZW9mKGNydGNfc3RhdGUt
Pmh3KSk7Cj4KPi0JZm9yX2VhY2hfZW5jb2Rlcl9vbl9jcnRjKGNydGMtPmRldiwgY3J0YywgZW5j
b2RlcikKPisJZm9yX2VhY2hfZW5jb2Rlcl9vbl9jcnRjKCZkZXZfcHJpdi0+ZHJtLCAmY3J0Yy0+
YmFzZSwgZW5jb2RlcikKPiAJCWVuY29kZXItPmJhc2UuY3J0YyA9IE5VTEw7Cj4KPi0JaW50ZWxf
ZmJjX2Rpc2FibGUoaW50ZWxfY3J0Yyk7Cj4tCWludGVsX3VwZGF0ZV93YXRlcm1hcmtzKGludGVs
X2NydGMpOwo+LQlpbnRlbF9kaXNhYmxlX3NoYXJlZF9kcGxsKHRvX2ludGVsX2NydGNfc3RhdGUo
Y3J0Yy0+c3RhdGUpKTsKPisJaW50ZWxfZmJjX2Rpc2FibGUoY3J0Yyk7Cj4rCWludGVsX3VwZGF0
ZV93YXRlcm1hcmtzKGNydGMpOwo+KwlpbnRlbF9kaXNhYmxlX3NoYXJlZF9kcGxsKGNydGNfc3Rh
dGUpOwo+Cj4tCWRvbWFpbnMgPSBpbnRlbF9jcnRjLT5lbmFibGVkX3Bvd2VyX2RvbWFpbnM7Cj4r
CWRvbWFpbnMgPSBjcnRjLT5lbmFibGVkX3Bvd2VyX2RvbWFpbnM7Cj4gCWZvcl9lYWNoX3Bvd2Vy
X2RvbWFpbihkb21haW4sIGRvbWFpbnMpCj4gCQlpbnRlbF9kaXNwbGF5X3Bvd2VyX3B1dF91bmNo
ZWNrZWQoZGV2X3ByaXYsIGRvbWFpbik7Cj4tCWludGVsX2NydGMtPmVuYWJsZWRfcG93ZXJfZG9t
YWlucyA9IDA7Cj4rCWNydGMtPmVuYWJsZWRfcG93ZXJfZG9tYWlucyA9IDA7Cj4KPi0JZGV2X3By
aXYtPmFjdGl2ZV9waXBlcyAmPSB+QklUKGludGVsX2NydGMtPnBpcGUpOwo+LQlkZXZfcHJpdi0+
bWluX2NkY2xrW2ludGVsX2NydGMtPnBpcGVdID0gMDsKPi0JZGV2X3ByaXYtPm1pbl92b2x0YWdl
X2xldmVsW2ludGVsX2NydGMtPnBpcGVdID0gMDsKPisJZGV2X3ByaXYtPmFjdGl2ZV9waXBlcyAm
PSB+QklUKHBpcGUpOwo+KwlkZXZfcHJpdi0+bWluX2NkY2xrW3BpcGVdID0gMDsKPisJZGV2X3By
aXYtPm1pbl92b2x0YWdlX2xldmVsW3BpcGVdID0gMDsKPgo+LQlid19zdGF0ZS0+ZGF0YV9yYXRl
W2ludGVsX2NydGMtPnBpcGVdID0gMDsKPi0JYndfc3RhdGUtPm51bV9hY3RpdmVfcGxhbmVzW2lu
dGVsX2NydGMtPnBpcGVdID0gMDsKPisJYndfc3RhdGUtPmRhdGFfcmF0ZVtwaXBlXSA9IDA7Cj4r
CWJ3X3N0YXRlLT5udW1fYWN0aXZlX3BsYW5lc1twaXBlXSA9IDA7Cj4gfQo+Cj4gLyoKPkBAIC0x
NzI0MCw3ICsxNzI0MSw3IEBAIHN0YXRpYyB2b2lkIGludGVsX3Nhbml0aXplX2NydGMoc3RydWN0
IGludGVsX2NydGMgKmNydGMsCj4gCS8qIEFkanVzdCB0aGUgc3RhdGUgb2YgdGhlIG91dHB1dCBw
aXBlIGFjY29yZGluZyB0byB3aGV0aGVyIHdlCj4gCSAqIGhhdmUgYWN0aXZlIGNvbm5lY3RvcnMv
ZW5jb2RlcnMuICovCj4gCWlmIChjcnRjX3N0YXRlLT5ody5hY3RpdmUgJiYgIWludGVsX2NydGNf
aGFzX2VuY29kZXJzKGNydGMpKQo+LQkJaW50ZWxfY3J0Y19kaXNhYmxlX25vYXRvbWljKCZjcnRj
LT5iYXNlLCBjdHgpOwo+KwkJaW50ZWxfY3J0Y19kaXNhYmxlX25vYXRvbWljKGNydGMsIGN0eCk7
Cj4KPiAJaWYgKGNydGNfc3RhdGUtPmh3LmFjdGl2ZSB8fCBIQVNfR01DSChkZXZfcHJpdikpIHsK
PiAJCS8qCj4tLSAKPjIuMjMuMAo+Cj5fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fXwo+SW50ZWwtZ2Z4IG1haWxpbmcgbGlzdAo+SW50ZWwtZ2Z4QGxpc3RzLmZy
ZWVkZXNrdG9wLm9yZwo+aHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0
aW5mby9pbnRlbC1nZngKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX18KSW50ZWwtZ2Z4IG1haWxpbmcgbGlzdApJbnRlbC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Au
b3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vaW50ZWwt
Z2Z4

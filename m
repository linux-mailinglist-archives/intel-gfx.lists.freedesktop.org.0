Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id D6FB8BBE3D
	for <lists+intel-gfx@lfdr.de>; Tue, 24 Sep 2019 00:03:13 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id B1BF889F89;
	Mon, 23 Sep 2019 22:03:11 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mail-wr1-x441.google.com (mail-wr1-x441.google.com
 [IPv6:2a00:1450:4864:20::441])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 9967F89F89
 for <intel-gfx@lists.freedesktop.org>; Mon, 23 Sep 2019 22:03:10 +0000 (UTC)
Received: by mail-wr1-x441.google.com with SMTP id v8so15660307wrt.2
 for <intel-gfx@lists.freedesktop.org>; Mon, 23 Sep 2019 15:03:10 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:mime-version:references:in-reply-to:from:date
 :message-id:subject:to:cc:content-transfer-encoding;
 bh=UH/jNN5zMWztU01jHMet/6ulU9BsVHT1mdOE/OvET0s=;
 b=rDAGmFy5ZJX4zHPXkg8znQQYPreVsDWWRK375BYd0FrShehfVDsdKUFywan6K551YM
 CM1jJpsfjBA8m0hzdH7qUqV7Rp12gf4pSn/CkcbD7MrK/UEuAB4y8vA48zd2WsOAISt6
 uLcY6Ec2oObMQK+vANBJkxk1UIhtf3AsRFQ3ObpiCRcTRA+U3zKOznqo/u0OuV9lsE55
 +bJbfcIlOBRi3pofWy1G/1HfQ/psmVdJ+dggzctMT5pBzSvlMKMyxTcSvxj3wPEYk3re
 UnWoSLq4gpclo0wiK9NjmVbJaSk1zIZFYq/Nypj+rQGdYbap2NMYwvdTI93EL8gFbybM
 t/Bg==
X-Gm-Message-State: APjAAAUlSghyIDBrRLB1XYteN97dc+0f89VSyBoFrb+Nu5g/+wibUpNT
 M5wOy2juvbmUNDsmnD69bSRrzrN3NOpx7kREvrI=
X-Google-Smtp-Source: APXvYqw4Z5mwJpZwrxYvuv8nx4HR8PI3PPnpDar4Dcdqo8tACr4tn2j17Yvk1vFdbAf44DcKZ7qxiBIHLafPzV2vLJk=
X-Received: by 2002:a5d:4590:: with SMTP id p16mr1176300wrq.82.1569276189084; 
 Mon, 23 Sep 2019 15:03:09 -0700 (PDT)
MIME-Version: 1.0
References: <20190923195513.207536-1-jose.souza@intel.com>
 <20190923195513.207536-5-jose.souza@intel.com>
In-Reply-To: <20190923195513.207536-5-jose.souza@intel.com>
From: Lucas De Marchi <lucas.de.marchi@gmail.com>
Date: Mon, 23 Sep 2019 15:02:54 -0700
Message-ID: <CAKi4VAKnqo3W9AZVQzdQHjeyeYqE69_zptq9xpkchR2hSK3mnw@mail.gmail.com>
To: =?UTF-8?Q?Jos=C3=A9_Roberto_de_Souza?= <jose.souza@intel.com>, 
 Imre Deak <imre.deak@intel.com>
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=gmail.com; s=20161025;
 h=mime-version:references:in-reply-to:from:date:message-id:subject:to
 :cc:content-transfer-encoding;
 bh=UH/jNN5zMWztU01jHMet/6ulU9BsVHT1mdOE/OvET0s=;
 b=Lr4bSpceMFivHhmJ4ESgd7TzKoDdl7ONvKJ4O2En9w/yXxCrAxCIPiSoE15vzf2JIp
 DJubAY7rfri/DwPQBAKc9OybZ9ZFvMkS9znalc3scDv1PuRkJ6HREU5/7V2LA7DmZnG5
 5ZKJTTl895TBr7glgLLaxlo3Dh4B7TQe34RLuoJzGWA7Q3UiziwKY8CWVDqXYAqfiwMu
 v0369i9hyDYxgD4nK3inQjDfv3h5wLV649h3o1N2eNQiEhfeghOlFuWpk5SJjTdW4J+s
 KpXP8Icyh5AijpcGmaI/Eo3CtWG+yhyC+UTMN7itXNUHxp87iEufyiGKKTLd3qlHsMo0
 nDhw==
Subject: Re: [Intel-gfx] [PATCH v3 4/9] drm/i915/tgl: Add dkl phy
 programming sequences
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: Intel Graphics <intel-gfx@lists.freedesktop.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

T24gTW9uLCBTZXAgMjMsIDIwMTkgYXQgMTI6NTUgUE0gSm9zw6kgUm9iZXJ0byBkZSBTb3V6YQo8
am9zZS5zb3V6YUBpbnRlbC5jb20+IHdyb3RlOgo+Cj4gRnJvbTogQ2xpbnRvbiBBIFRheWxvciA8
Y2xpbnRvbi5hLnRheWxvckBpbnRlbC5jb20+Cj4KPiBBZGRlZCBES0wgUGh5IHNlcXVlbmNlcyBh
bmQgaGVscGVycyBmdW5jdGlvbnMgdG8gcHJvZ3JhbSB2b2x0YWdlCj4gc3dpbmcsIGNsb2NrIGdh
dGluZyBhbmQgZHAgbW9kZS4KPgo+IEl0IGlzIG5vdCB3cml0dGVuIGluIERQIGVuYWJsaW5nIHNl
cXVlbmNlIGJ1dCAiUEhZIENsb2NrZ2F0aW5nCj4gcHJvZ3JhbW1pbmciIHN0YXRlcyB0aGF0IGNs
b2NrIGdhdGluZyBzaG91bGQgYmUgZW5hYmxlZCBhZnRlciB0aGUKPiBsaW5rIHRyYWluaW5nIGJ1
dCBkb2luZyBzbyBjYXVzZXMgYWxsIHRoZSBmb2xsb3dpbmcgdHJhaW5pbmdzIHRvIGZhaWwKPiBz
byBub3QgZW5hYmxpbmcgaXQgZm9yLgo+Cj4gdjI6Cj4gU2V0dGluZyB0aGUgcmlnaHQgSElQX0lO
REVYX1JFRyBiaXRzIChKb3PDqSkKPgo+IHYzOgo+IEFkZGluZyB0aGUgbWVhbmluZyBvZiBlYWNo
IGNvbHVtbiBvZiB0Z2xfZGtsX3BoeV9kZGlfdHJhbnNsYXRpb25zCj4gQWRkaW5nIGlmIGdlbiA+
PSAxMiBvbiBpbnRlbF9kZGlfaGRtaV9sZXZlbCgpIGFuZAo+IGludGVsX2RkaV9wcmVfZW5hYmxl
X2hkbWkoKSBpbnN0ZWFkIG9mIHJldXNlIHBhcnQgb2YgZ2VuID49IDExIGlmCgp3ZSBzaG91bGQg
dHJlYXQgdGhlc2UgcGF0Y2ggdmVyc2lvbmluZyB0aGUgc2FtZSB3YXkgb2YgdGhlIGNvbW1pdCBt
ZXNzYWdlcywKYXZvaWRpbmcgdGhlIGdlcnVuZC4KCj4KPiBCU3BlYzogNDkyOTIKPiBCU3BlYzog
NDkxOTAKPgo+IFNpZ25lZC1vZmYtYnk6IEpvc8OpIFJvYmVydG8gZGUgU291emEgPGpvc2Uuc291
emFAaW50ZWwuY29tPgo+IFNpZ25lZC1vZmYtYnk6IENsaW50b24gQSBUYXlsb3IgPGNsaW50b24u
YS50YXlsb3JAaW50ZWwuY29tPgo+IC0tLQo+ICBkcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5
L2ludGVsX2RkaS5jIHwgMjQ5ICsrKysrKysrKysrKysrKysrKysrKystCj4gIDEgZmlsZSBjaGFu
Z2VkLCAyNDAgaW5zZXJ0aW9ucygrKSwgOSBkZWxldGlvbnMoLSkKPgo+IGRpZmYgLS1naXQgYS9k
cml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2RkaS5jIGIvZHJpdmVycy9ncHUvZHJt
L2k5MTUvZGlzcGxheS9pbnRlbF9kZGkuYwo+IGluZGV4IDMzY2Q3NjZmOWVlYS4uMWFiM2UwYzRj
MGExIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGRp
LmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2RkaS5jCj4gQEAg
LTU4Niw2ICs1ODYsMjYgQEAgc3RhdGljIGNvbnN0IHN0cnVjdCBpY2xfbWdfcGh5X2RkaV9idWZf
dHJhbnMgaWNsX21nX3BoeV9kZGlfdHJhbnNsYXRpb25zW10gPSB7Cj4gICAgICAgICB7IDB4MCwg
MHgwMCwgMHgwMCB9LCAgICAvKiAzICAgICAgICAgICAgICAwICAgKi8KPiAgfTsKPgo+ICtzdHJ1
Y3QgdGdsX2RrbF9waHlfZGRpX2J1Zl90cmFucyB7Cj4gKyAgICAgICB1MzIgZGtsX3Zzd2luZ19j
b250cm9sOwo+ICsgICAgICAgdTMyIGRrbF9wcmVzaG9vdF9jb250cm9sOwo+ICsgICAgICAgdTMy
IGRrbF9kZV9lbXBoYXNpc19jb250cm9sOwo+ICt9Owo+ICsKPiArc3RhdGljIGNvbnN0IHN0cnVj
dCB0Z2xfZGtsX3BoeV9kZGlfYnVmX3RyYW5zIHRnbF9ka2xfcGh5X2RkaV90cmFuc2xhdGlvbnNb
XSA9IHsKPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qIFZTICAgcHJlLWVtcCBO
b24tdHJhbnMgbVYgICAgUHJlLWVtcGggZEIgKi8KPiArICAgICAgIHsgMHg3LCAweDAsIDB4MDAg
fSwgICAgIC8qIDAgICAgMCAgICAgICA0MDBtViAgICAgICAgICAgMCBkQiAqLwo+ICsgICAgICAg
eyAweDUsIDB4MCwgMHgwMyB9LCAgICAgLyogMCAgICAxICAgICAgIDQwMG1WICAgICAgICAgICAz
LjUgZEIgKi8KPiArICAgICAgIHsgMHgyLCAweDAsIDB4MGIgfSwgICAgIC8qIDAgICAgMiAgICAg
ICA0MDBtViAgICAgICAgICAgNiBkQiAqLwo+ICsgICAgICAgeyAweDAsIDB4MCwgMHgxOSB9LCAg
ICAgLyogMCAgICAzICAgICAgIDQwMG1WICAgICAgICAgICA5LjUgZEIgKi8KPiArICAgICAgIHsg
MHg1LCAweDAsIDB4MDAgfSwgICAgIC8qIDEgICAgMCAgICAgICA2MDBtViAgICAgICAgICAgMCBk
QiAqLwo+ICsgICAgICAgeyAweDIsIDB4MCwgMHgwMyB9LCAgICAgLyogMSAgICAxICAgICAgIDYw
MG1WICAgICAgICAgICAzLjUgZEIgKi8KPiArICAgICAgIHsgMHgwLCAweDAsIDB4MTQgfSwgICAg
IC8qIDEgICAgMiAgICAgICA2MDBtViAgICAgICAgICAgNiBkQiAqLwo+ICsgICAgICAgeyAweDIs
IDB4MCwgMHgwMCB9LCAgICAgLyogMiAgICAwICAgICAgIDgwMG1WICAgICAgICAgICAwIGRCICov
Cj4gKyAgICAgICB7IDB4MCwgMHgwLCAweDBCIH0sICAgICAvKiAyICAgIDEgICAgICAgODAwbVYg
ICAgICAgICAgIDMuNSBkQiAqLwo+ICsgICAgICAgeyAweDAsIDB4MCwgMHgwMCB9LCAgICAgLyog
MyAgICAwICAgICAgIDEyMDBtViAgICAgICAgICAwIGRCIEhETUkgZGVmYXVsdCAqLwo+ICt9Owo+
ICsKPiAgc3RhdGljIGNvbnN0IHN0cnVjdCBkZGlfYnVmX3RyYW5zICoKPiAgYmR3X2dldF9idWZf
dHJhbnNfZWRwKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiwgaW50ICpuX2VudHJp
ZXMpCj4gIHsKPiBAQCAtODcyLDcgKzg5MiwxNCBAQCBzdGF0aWMgaW50IGludGVsX2RkaV9oZG1p
X2xldmVsKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiwgZW51bSBwb3J0IHBvcgo+
Cj4gICAgICAgICBsZXZlbCA9IGRldl9wcml2LT52YnQuZGRpX3BvcnRfaW5mb1twb3J0XS5oZG1p
X2xldmVsX3NoaWZ0Owo+Cj4gLSAgICAgICBpZiAoSU5URUxfR0VOKGRldl9wcml2KSA+PSAxMSkg
ewo+ICsgICAgICAgaWYgKElOVEVMX0dFTihkZXZfcHJpdikgPj0gMTIpIHsKPiArICAgICAgICAg
ICAgICAgaWYgKGludGVsX3BoeV9pc19jb21ibyhkZXZfcHJpdiwgcGh5KSkKPiArICAgICAgICAg
ICAgICAgICAgICAgICBpY2xfZ2V0X2NvbWJvX2J1Zl90cmFucyhkZXZfcHJpdiwgSU5URUxfT1VU
UFVUX0hETUksCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgMCwgJm5fZW50cmllcyk7Cj4gKyAgICAgICAgICAgICAgIGVsc2UKPiArICAgICAgICAgICAg
ICAgICAgICAgICBuX2VudHJpZXMgPSBBUlJBWV9TSVpFKHRnbF9ka2xfcGh5X2RkaV90cmFuc2xh
dGlvbnMpOwo+ICsgICAgICAgICAgICAgICBkZWZhdWx0X2VudHJ5ID0gbl9lbnRyaWVzIC0gMTsK
PiArICAgICAgIH0gZWxzZSBpZiAoSU5URUxfR0VOKGRldl9wcml2KSA9PSAxMSkgewo+ICAgICAg
ICAgICAgICAgICBpZiAoaW50ZWxfcGh5X2lzX2NvbWJvKGRldl9wcml2LCBwaHkpKQo+ICAgICAg
ICAgICAgICAgICAgICAgICAgIGljbF9nZXRfY29tYm9fYnVmX3RyYW5zKGRldl9wcml2LCBJTlRF
TF9PVVRQVVRfSERNSSwKPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAwLCAmbl9lbnRyaWVzKTsKPiBAQCAtMjMxMyw3ICsyMzQwLDEzIEBAIHU4IGludGVs
X2RkaV9kcF92b2x0YWdlX21heChzdHJ1Y3QgaW50ZWxfZW5jb2RlciAqZW5jb2RlcikKPiAgICAg
ICAgIGVudW0gcGh5IHBoeSA9IGludGVsX3BvcnRfdG9fcGh5KGRldl9wcml2LCBwb3J0KTsKPiAg
ICAgICAgIGludCBuX2VudHJpZXM7Cj4KPiAtICAgICAgIGlmIChJTlRFTF9HRU4oZGV2X3ByaXYp
ID49IDExKSB7Cj4gKyAgICAgICBpZiAoSU5URUxfR0VOKGRldl9wcml2KSA+PSAxMikgewo+ICsg
ICAgICAgICAgICAgICBpZiAoaW50ZWxfcGh5X2lzX2NvbWJvKGRldl9wcml2LCBwaHkpKQo+ICsg
ICAgICAgICAgICAgICAgICAgICAgIGljbF9nZXRfY29tYm9fYnVmX3RyYW5zKGRldl9wcml2LCBl
bmNvZGVyLT50eXBlLAo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgIGludGVsX2RwLT5saW5rX3JhdGUsICZuX2VudHJpZXMpOwo+ICsgICAgICAgICAgICAg
ICBlbHNlCj4gKyAgICAgICAgICAgICAgICAgICAgICAgbl9lbnRyaWVzID0gQVJSQVlfU0laRSh0
Z2xfZGtsX3BoeV9kZGlfdHJhbnNsYXRpb25zKTsKPiArICAgICAgIH0gZWxzZSBpZiAoSU5URUxf
R0VOKGRldl9wcml2KSA9PSAxMSkgewo+ICAgICAgICAgICAgICAgICBpZiAoaW50ZWxfcGh5X2lz
X2NvbWJvKGRldl9wcml2LCBwaHkpKQo+ICAgICAgICAgICAgICAgICAgICAgICAgIGljbF9nZXRf
Y29tYm9fYnVmX3RyYW5zKGRldl9wcml2LCBlbmNvZGVyLT50eXBlLAo+ICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludGVsX2RwLT5saW5rX3JhdGUsICZu
X2VudHJpZXMpOwo+IEBAIC0yNzU1LDYgKzI3ODgsNjYgQEAgc3RhdGljIHZvaWQgaWNsX2RkaV92
c3dpbmdfc2VxdWVuY2Uoc3RydWN0IGludGVsX2VuY29kZXIgKmVuY29kZXIsCj4gICAgICAgICAg
ICAgICAgIGljbF9tZ19waHlfZGRpX3Zzd2luZ19zZXF1ZW5jZShlbmNvZGVyLCBsaW5rX2Nsb2Nr
LCBsZXZlbCk7Cj4gIH0KPgo+ICtzdGF0aWMgdm9pZAo+ICt0Z2xfZGtsX3BoeV9kZGlfdnN3aW5n
X3NlcXVlbmNlKHN0cnVjdCBpbnRlbF9lbmNvZGVyICplbmNvZGVyLCBpbnQgbGlua19jbG9jaywK
PiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHUzMiBsZXZlbCkKPiArewo+ICsgICAg
ICAgc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2ID0gdG9faTkxNShlbmNvZGVyLT5i
YXNlLmRldik7Cj4gKyAgICAgICBlbnVtIHRjX3BvcnQgdGNfcG9ydCA9IGludGVsX3BvcnRfdG9f
dGMoZGV2X3ByaXYsIGVuY29kZXItPnBvcnQpOwo+ICsgICAgICAgY29uc3Qgc3RydWN0IHRnbF9k
a2xfcGh5X2RkaV9idWZfdHJhbnMgKmRkaV90cmFuc2xhdGlvbnM7Cj4gKyAgICAgICB1MzIgbl9l
bnRyaWVzLCB2YWwsIGxuOwo+ICsKPiArICAgICAgIG5fZW50cmllcyA9IEFSUkFZX1NJWkUodGds
X2RrbF9waHlfZGRpX3RyYW5zbGF0aW9ucyk7Cj4gKyAgICAgICBkZGlfdHJhbnNsYXRpb25zID0g
dGdsX2RrbF9waHlfZGRpX3RyYW5zbGF0aW9uczsKPiArCj4gKyAgICAgICBpZiAobGV2ZWwgPj0g
bl9lbnRyaWVzKQo+ICsgICAgICAgICAgICAgICBsZXZlbCA9IG5fZW50cmllcyAtIDE7Cj4gKwo+
ICsgICAgICAgLyoKPiArICAgICAgICAqIEFsbCByZWdpc3RlcnMgcHJvZ3JhbW1lZCBoZXJlIHVz
ZSBISVBfSU5ERVhfUkVHIDAgb3IgMQo+ICsgICAgICAgICovCgp0aGlzIGNvbW1lbnQgaXMgYm9n
dXMgYXMgaXQncyBhY3R1YWxseSBISVBfSU5ERVhfVkFMIHdlIGFyZSB0YWxraW5nIGFib3V0LAph
bmQgdGhhdCdzIHByZXR0eSBjbGVhciBieSB0aGUgbG9vcC4KCj4gKyAgICAgICBmb3IgKGxuID0g
MDsgbG4gPCAyOyBsbisrKSB7Cj4gKyAgICAgICAgICAgICAgIEk5MTVfV1JJVEUoSElQX0lOREVY
X1JFRyh0Y19wb3J0KSwgSElQX0lOREVYX1ZBTCh0Y19wb3J0LCBsbikpOwo+ICsKPiArICAgICAg
ICAgICAgICAgLyogQWxsIHRoZSByZWdpc3RlcnMgYXJlIFJNVyAqLwo+ICsgICAgICAgICAgICAg
ICB2YWwgPSBJOTE1X1JFQUQoREtMX1RYX0RQQ05UTDAodGNfcG9ydCkpOwo+ICsgICAgICAgICAg
ICAgICB2YWwgJj0gfihES0xfVFhfUFJFU0hPT1RfQ09FRkZfTUFTSyB8Cj4gKyAgICAgICAgICAg
ICAgICAgICAgICAgIERLTF9UWF9ERV9FTVBBSFNJU19DT0VGRl9NQVNLIHwKPiArICAgICAgICAg
ICAgICAgICAgICAgICAgREtMX1RYX1ZTV0lOR19DT05UUk9MX01BU0spOwo+ICsgICAgICAgICAg
ICAgICB2YWwgfD0gREtMX1RYX1ZTV0lOR19DT05UUk9MKGRkaV90cmFuc2xhdGlvbnNbbGV2ZWxd
LmRrbF92c3dpbmdfY29udHJvbCk7Cj4gKyAgICAgICAgICAgICAgIHZhbCB8PSBES0xfVFhfREVf
RU1QSEFTSVNfQ09FRkYoZGRpX3RyYW5zbGF0aW9uc1tsZXZlbF0uZGtsX2RlX2VtcGhhc2lzX2Nv
bnRyb2wpOwo+ICsgICAgICAgICAgICAgICB2YWwgfD0gREtMX1RYX1BSRVNIT09UX0NPRUZGKGRk
aV90cmFuc2xhdGlvbnNbbGV2ZWxdLmRrbF9wcmVzaG9vdF9jb250cm9sKTsKPiArICAgICAgICAg
ICAgICAgSTkxNV9XUklURShES0xfVFhfRFBDTlRMMCh0Y19wb3J0KSwgdmFsKTsKPiArCj4gKyAg
ICAgICAgICAgICAgIHZhbCA9IEk5MTVfUkVBRChES0xfVFhfRFBDTlRMMSh0Y19wb3J0KSk7Cj4g
KyAgICAgICAgICAgICAgIHZhbCAmPSB+KERLTF9UWF9QUkVTSE9PVF9DT0VGRl9NQVNLIHwKPiAr
ICAgICAgICAgICAgICAgICAgICAgICAgREtMX1RYX0RFX0VNUEFIU0lTX0NPRUZGX01BU0sgfAo+
ICsgICAgICAgICAgICAgICAgICAgICAgICBES0xfVFhfVlNXSU5HX0NPTlRST0xfTUFTSyk7Cj4g
KyAgICAgICAgICAgICAgIHZhbCB8PSBES0xfVFhfVlNXSU5HX0NPTlRST0woZGRpX3RyYW5zbGF0
aW9uc1tsZXZlbF0uZGtsX3Zzd2luZ19jb250cm9sKTsKPiArICAgICAgICAgICAgICAgdmFsIHw9
IERLTF9UWF9ERV9FTVBIQVNJU19DT0VGRihkZGlfdHJhbnNsYXRpb25zW2xldmVsXS5ka2xfZGVf
ZW1waGFzaXNfY29udHJvbCk7Cj4gKyAgICAgICAgICAgICAgIHZhbCB8PSBES0xfVFhfUFJFU0hP
T1RfQ09FRkYoZGRpX3RyYW5zbGF0aW9uc1tsZXZlbF0uZGtsX3ByZXNob290X2NvbnRyb2wpOwo+
ICsgICAgICAgICAgICAgICBJOTE1X1dSSVRFKERLTF9UWF9EUENOVEwxKHRjX3BvcnQpLCB2YWwp
Owo+ICsKPiArICAgICAgICAgICAgICAgdmFsID0gSTkxNV9SRUFEKERLTF9UWF9EUENOVEwyKHRj
X3BvcnQpKTsKPiArICAgICAgICAgICAgICAgdmFsICY9IH5ES0xfVFhfRFAyMEJJVE1PREU7Cj4g
KyAgICAgICAgICAgICAgIEk5MTVfV1JJVEUoREtMX1RYX0RQQ05UTDIodGNfcG9ydCksIHZhbCk7
Cj4gKyAgICAgICB9Cj4gK30KPiArCj4gK3N0YXRpYyB2b2lkIHRnbF9kZGlfdnN3aW5nX3NlcXVl
bmNlKHN0cnVjdCBpbnRlbF9lbmNvZGVyICplbmNvZGVyLAo+ICsgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgIGludCBsaW5rX2Nsb2NrLAo+ICsgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgIHUzMiBsZXZlbCwKPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICBlbnVtIGludGVsX291dHB1dF90eXBlIHR5cGUpCj4gK3sKPiArICAgICAgIHN0cnVjdCBk
cm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiA9IHRvX2k5MTUoZW5jb2Rlci0+YmFzZS5kZXYpOwo+
ICsgICAgICAgZW51bSBwaHkgcGh5ID0gaW50ZWxfcG9ydF90b19waHkoZGV2X3ByaXYsIGVuY29k
ZXItPnBvcnQpOwo+ICsKPiArICAgICAgIGlmIChpbnRlbF9waHlfaXNfY29tYm8oZGV2X3ByaXYs
IHBoeSkpCj4gKyAgICAgICAgICAgICAgIGljbF9jb21ib19waHlfZGRpX3Zzd2luZ19zZXF1ZW5j
ZShlbmNvZGVyLCBsZXZlbCwgdHlwZSk7Cj4gKyAgICAgICBlbHNlCj4gKyAgICAgICAgICAgICAg
IHRnbF9ka2xfcGh5X2RkaV92c3dpbmdfc2VxdWVuY2UoZW5jb2RlciwgbGlua19jbG9jaywgbGV2
ZWwpOwo+ICt9Cj4gKwo+ICBzdGF0aWMgdTMyIHRyYW5zbGF0ZV9zaWduYWxfbGV2ZWwoaW50IHNp
Z25hbF9sZXZlbHMpCj4gIHsKPiAgICAgICAgIGludCBpOwo+IEBAIC0yNzg2LDcgKzI4NzksMTAg
QEAgdTMyIGJ4dF9zaWduYWxfbGV2ZWxzKHN0cnVjdCBpbnRlbF9kcCAqaW50ZWxfZHApCj4gICAg
ICAgICBzdHJ1Y3QgaW50ZWxfZW5jb2RlciAqZW5jb2RlciA9ICZkcG9ydC0+YmFzZTsKPiAgICAg
ICAgIGludCBsZXZlbCA9IGludGVsX2RkaV9kcF9sZXZlbChpbnRlbF9kcCk7Cj4KPiAtICAgICAg
IGlmIChJTlRFTF9HRU4oZGV2X3ByaXYpID49IDExKQo+ICsgICAgICAgaWYgKElOVEVMX0dFTihk
ZXZfcHJpdikgPj0gMTIpCj4gKyAgICAgICAgICAgICAgIHRnbF9kZGlfdnN3aW5nX3NlcXVlbmNl
KGVuY29kZXIsIGludGVsX2RwLT5saW5rX3JhdGUsCj4gKyAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgIGxldmVsLCBlbmNvZGVyLT50eXBlKTsKPiArICAgICAgIGVsc2UgaWYg
KElOVEVMX0dFTihkZXZfcHJpdikgPj0gMTEpCj4gICAgICAgICAgICAgICAgIGljbF9kZGlfdnN3
aW5nX3NlcXVlbmNlKGVuY29kZXIsIGludGVsX2RwLT5saW5rX3JhdGUsCj4gICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldmVsLCBlbmNvZGVyLT50eXBlKTsKPiAgICAg
ICAgIGVsc2UgaWYgKElTX0NBTk5PTkxBS0UoZGV2X3ByaXYpKQo+IEBAIC0zMDMzLDYgKzMxMjks
MzQgQEAgc3RhdGljIHZvaWQgaW50ZWxfZGRpX2Nsa19kaXNhYmxlKHN0cnVjdCBpbnRlbF9lbmNv
ZGVyICplbmNvZGVyKQo+ICAgICAgICAgfQo+ICB9Cj4KPiArc3RhdGljIHZvaWQKPiArdGdsX3Bo
eV9zZXRfY2xvY2tfZ2F0aW5nKHN0cnVjdCBpbnRlbF9kaWdpdGFsX3BvcnQgKmRpZ19wb3J0LCBi
b29sIGVuYWJsZSkKPiArewo+ICsgICAgICAgc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9w
cml2ID0gdG9faTkxNShkaWdfcG9ydC0+YmFzZS5iYXNlLmRldik7Cj4gKyAgICAgICBlbnVtIHBv
cnQgcG9ydCA9IGRpZ19wb3J0LT5iYXNlLnBvcnQ7Cj4gKyAgICAgICBlbnVtIHRjX3BvcnQgdGNf
cG9ydCA9IGludGVsX3BvcnRfdG9fdGMoZGV2X3ByaXYsIHBvcnQpOwo+ICsgICAgICAgdTMyIHZh
bCwgYml0czsKPiArICAgICAgIGludCBsbjsKPiArCj4gKyAgICAgICBpZiAodGNfcG9ydCA9PSBQ
T1JUX1RDX05PTkUpCj4gKyAgICAgICAgICAgICAgIHJldHVybjsKPiArCj4gKyAgICAgICBiaXRz
ID0gREtMX0RQX01PREVfQ0ZHX1RSMlBXUl9HQVRJTkcgfCBES0xfRFBfTU9ERV9DRkdfVFJQV1Jf
R0FUSU5HIHwKPiArICAgICAgICAgICAgICBES0xfRFBfTU9ERV9DRkdfQ0xOUFdSX0dBVElORyB8
IERLTF9EUF9NT0RFX0NGR19ESUdQV1JfR0FUSU5HIHwKPiArICAgICAgICAgICAgICBES0xfRFBf
TU9ERV9DRkdfR0FPTlBXUl9HQVRJTkc7Cj4gKwo+ICsgICAgICAgZm9yIChsbiA9IDA7IGxuIDwg
MjsgbG4rKykgewo+ICsgICAgICAgICAgICAgICBJOTE1X1dSSVRFKEhJUF9JTkRFWF9SRUcodGNf
cG9ydCksIEhJUF9JTkRFWF9WQUwodGNfcG9ydCwgbG4pKTsKPiArCj4gKyAgICAgICAgICAgICAg
IHZhbCA9IEk5MTVfUkVBRChES0xfRFBfTU9ERSh0Y19wb3J0KSk7Cj4gKyAgICAgICAgICAgICAg
IGlmIChlbmFibGUpCj4gKyAgICAgICAgICAgICAgICAgICAgICAgdmFsIHw9IGJpdHM7Cj4gKyAg
ICAgICAgICAgICAgIGVsc2UKPiArICAgICAgICAgICAgICAgICAgICAgICB2YWwgJj0gfmJpdHM7
Cj4gKyAgICAgICAgICAgICAgIEk5MTVfV1JJVEUoREtMX0RQX01PREUodGNfcG9ydCksIHZhbCk7
Cj4gKyAgICAgICB9Cj4gK30KPiArCj4gIHN0YXRpYyB2b2lkCj4gIGljbF9waHlfc2V0X2Nsb2Nr
X2dhdGluZyhzdHJ1Y3QgaW50ZWxfZGlnaXRhbF9wb3J0ICpkaWdfcG9ydCwgYm9vbCBlbmFibGUp
Cj4gIHsKPiBAQCAtMzEzMiw2ICszMjU2LDk1IEBAIHN0YXRpYyB2b2lkIGljbF9wcm9ncmFtX21n
X2RwX21vZGUoc3RydWN0IGludGVsX2RpZ2l0YWxfcG9ydCAqaW50ZWxfZGlnX3BvcnQpCj4gICAg
ICAgICBJOTE1X1dSSVRFKE1HX0RQX01PREUoMSwgcG9ydCksIGxuMSk7Cj4gIH0KPgo+ICtzdGF0
aWMgdm9pZCB0Z2xfcHJvZ3JhbV9ka2xfZHBfbW9kZShzdHJ1Y3QgaW50ZWxfZGlnaXRhbF9wb3J0
ICppbnRlbF9kaWdfcG9ydCkKPiArewo+ICsgICAgICAgc3RydWN0IGRybV9pOTE1X3ByaXZhdGUg
KmRldl9wcml2ID0gdG9faTkxNShpbnRlbF9kaWdfcG9ydC0+YmFzZS5iYXNlLmRldik7Cj4gKyAg
ICAgICBlbnVtIHBvcnQgcG9ydCA9IGludGVsX2RpZ19wb3J0LT5iYXNlLnBvcnQ7Cj4gKyAgICAg
ICBlbnVtIHRjX3BvcnQgdGNfcG9ydCA9IGludGVsX3BvcnRfdG9fdGMoZGV2X3ByaXYsIHBvcnQp
Owo+ICsgICAgICAgdTMyIGxuMCwgbG4xLCBsYW5lX21hc2ssIHBpbl9tYXNrOwo+ICsgICAgICAg
aW50IG51bV9sYW5lczsKPiArCj4gKyAgICAgICBpZiAodGNfcG9ydCA9PSBQT1JUX1RDX05PTkUg
fHwKPiArICAgICAgICAgICBpbnRlbF9kaWdfcG9ydC0+dGNfbW9kZSA9PSBUQ19QT1JUX1RCVF9B
TFQpCj4gKyAgICAgICAgICAgICAgIHJldHVybjsKCkluIGljbF9wcm9ncmFtX21nX2RwX21vZGUo
KSB0aGlzIGlzCgogICAgICAgIGlmIChpbnRlbF9kaWdfcG9ydC0+dGNfbW9kZSA9PSBUQ19QT1JU
X1RCVF9BTFQpCgppZiBpbnRlbF9kaWdfcG9ydCBpcyBub3QgYmFja2VkIGJ5IGEgVEMgcGh5LCB0
Y19tb2RlIHNob3VsZCBiZQpUQ19QT1JUX1RCVF9BTFQgc2luY2UgdGhhdCdzIDAuCgo+ICsKPiAr
ICAgICAgIEk5MTVfV1JJVEUoSElQX0lOREVYX1JFRyh0Y19wb3J0KSwgSElQX0lOREVYX1ZBTCh0
Y19wb3J0LCAweDApKTsKPiArICAgICAgIGxuMCA9IEk5MTVfUkVBRChES0xfRFBfTU9ERSh0Y19w
b3J0KSk7Cj4gKyAgICAgICBJOTE1X1dSSVRFKEhJUF9JTkRFWF9SRUcodGNfcG9ydCksIEhJUF9J
TkRFWF9WQUwodGNfcG9ydCwgMHgxKSk7Cj4gKyAgICAgICBsbjEgPSBJOTE1X1JFQUQoREtMX0RQ
X01PREUodGNfcG9ydCkpOwo+ICsKPiArICAgICAgIG51bV9sYW5lcyA9IGludGVsX2RpZ19wb3J0
LT5kcC5sYW5lX2NvdW50OwoKaW4gdGhpcyBmaWxlIHRoaXMgaXMgb2Z0ZW4gY2FsbGVkIHdpZHRo
Cgo+ICsKPiArICAgICAgIHN3aXRjaCAoaW50ZWxfZGlnX3BvcnQtPnRjX21vZGUpIHsKPiArICAg
ICAgIGNhc2UgVENfUE9SVF9EUF9BTFQ6Cj4gKyAgICAgICAgICAgICAgIGxuMCAmPSB+KERLTF9E
UF9NT0RFX0NGR19EUF9YMV9NT0RFIHwgREtMX0RQX01PREVfQ0ZHX0RQX1gxX01PREUpOwoKdHlw
bzogdGhlIHNlY29uZCBvbmUgc2hvdWxkIGJlIERLTF9EUF9NT0RFX0NGR19EUF9YMl9NT0RFCgpi
dXQuLi4uIGZvciBES0wgd2UgaGF2ZSB0aGUgZXhhY3Qgc2FtZSB0YWJsZSBhcyBmb3IgTUcuIFdo
eSBkbyB3ZSBuZWVkCnRoZXNlIGNoYW5nZXMgaGVyZSB3aGlsZQp3ZSBkb24ndCBmb3IgSUNMPwoK
PiArICAgICAgICAgICAgICAgbG4xICY9IH4oREtMX0RQX01PREVfQ0ZHX0RQX1gxX01PREUgfCBE
S0xfRFBfTU9ERV9DRkdfRFBfWDJfTU9ERSk7Cj4gKwo+ICsgICAgICAgICAgICAgICBsYW5lX21h
c2sgPSBpbnRlbF90Y19wb3J0X2dldF9sYW5lX21hc2soaW50ZWxfZGlnX3BvcnQpOyAvKiBEUFg0
VFhMQVRDICovCj4gKyAgICAgICAgICAgICAgIHBpbl9tYXNrID0gaW50ZWxfdGNfcG9ydF9nZXRf
cGluX2Fzc2lnbm1lbnRfbWFzayhpbnRlbF9kaWdfcG9ydCk7IC8qIERQUEFUQyAqLwo+ICsKPiAr
ICAgICAgICAgICAgICAgc3dpdGNoIChwaW5fbWFzaykgewoKRnJvbSBhIHF1aWNrIGxvb2sgdG8g
dGhlIHRhYmxlLCB3ZSBkb24ndCBjaGFuZ2UgYmFzZWQgb24gcGluX21hc2ssIGJ1dApyYXRoZXIg
YmFzZWQgb24gbGFuZV9tYXNrLCBqdXN0IGxpa2UgZm9yIE1HLgpCdHcsIGxhbmVfbWFzayBpcyB1
bnVzZWQgaW4gdGhpcyBmdW5jdGlvbiBub3cgYW5kIHdlIGRvbid0IGdldCBhCndhcm5pbmcganVz
dCBiZWNhdXNlIGl0J3MgbWlzdXNlZCBpbiBhCk1JU1NJTkdfQ0FTRSgpIGJlbG93LgoKVGhlIHZh
bHVlcyBkbyBjaGFuZ2UgYmFzZWQgb24gd2lkdGgsIGJ1dCBJJ20gbm90IHN1cmUgd2h5IE1HIGRv
ZXNuJ3QKbmVlZCB0byB0YWtlIHRoYXQgaW50byBhY2NvdW50LgorSW1yZSBEZWFrCgpMdWNhcyBE
ZSBNYXJjaGkKCj4gKyAgICAgICAgICAgICAgIGNhc2UgMHgwOgo+ICsgICAgICAgICAgICAgICAg
ICAgICAgIGlmIChudW1fbGFuZXMgPT0gMSkgewo+ICsgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgbG4xIHw9IERLTF9EUF9NT0RFX0NGR19EUF9YMV9NT0RFOwo+ICsgICAgICAgICAgICAg
ICAgICAgICAgIH0gZWxzZSB7Cj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsbjAg
fD0gREtMX0RQX01PREVfQ0ZHX0RQX1gyX01PREU7Cj4gKyAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICBsbjEgfD0gREtMX0RQX01PREVfQ0ZHX0RQX1gyX01PREU7Cj4gKyAgICAgICAgICAg
ICAgICAgICAgICAgfQo+ICsgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwo+ICsgICAgICAg
ICAgICAgICBjYXNlIDB4MToKPiArICAgICAgICAgICAgICAgICAgICAgICBpZiAobnVtX2xhbmVz
ID09IDQpIHsKPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxuMCB8PSBES0xfRFBf
TU9ERV9DRkdfRFBfWDJfTU9ERTsKPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxu
MSB8PSBES0xfRFBfTU9ERV9DRkdfRFBfWDJfTU9ERTsKPiArICAgICAgICAgICAgICAgICAgICAg
ICB9Cj4gKyAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7Cj4gKyAgICAgICAgICAgICAgIGNh
c2UgMHgyOgo+ICsgICAgICAgICAgICAgICAgICAgICAgIGlmIChudW1fbGFuZXMgPT0gMikgewo+
ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG4wIHw9IERLTF9EUF9NT0RFX0NGR19E
UF9YMl9NT0RFOwo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG4xIHw9IERLTF9E
UF9NT0RFX0NGR19EUF9YMl9NT0RFOwo+ICsgICAgICAgICAgICAgICAgICAgICAgIH0KPiArICAg
ICAgICAgICAgICAgICAgICAgICBicmVhazsKPiArICAgICAgICAgICAgICAgY2FzZSAweDM6Cj4g
KyAgICAgICAgICAgICAgIGNhc2UgMHg1Ogo+ICsgICAgICAgICAgICAgICAgICAgICAgIGlmIChu
dW1fbGFuZXMgPT0gMSkgewo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG4wIHw9
IERLTF9EUF9NT0RFX0NGR19EUF9YMV9NT0RFOwo+ICsgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgbG4xIHw9IERLTF9EUF9NT0RFX0NGR19EUF9YMV9NT0RFOwo+ICsgICAgICAgICAgICAg
ICAgICAgICAgIH0gZWxzZSB7Cj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsbjAg
fD0gREtMX0RQX01PREVfQ0ZHX0RQX1gyX01PREU7Cj4gKyAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICBsbjEgfD0gREtMX0RQX01PREVfQ0ZHX0RQX1gyX01PREU7Cj4gKyAgICAgICAgICAg
ICAgICAgICAgICAgfQo+ICsgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwo+ICsgICAgICAg
ICAgICAgICBjYXNlIDB4NDoKPiArICAgICAgICAgICAgICAgY2FzZSAweDY6Cj4gKyAgICAgICAg
ICAgICAgICAgICAgICAgaWYgKG51bV9sYW5lcyA9PSAxKSB7Cj4gKyAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICBsbjAgfD0gREtMX0RQX01PREVfQ0ZHX0RQX1gxX01PREU7Cj4gKyAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICBsbjEgfD0gREtMX0RQX01PREVfQ0ZHX0RQX1gxX01P
REU7Cj4gKyAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKPiArICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgIGxuMCB8PSBES0xfRFBfTU9ERV9DRkdfRFBfWDJfTU9ERTsKPiArICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxuMSB8PSBES0xfRFBfTU9ERV9DRkdfRFBfWDJf
TU9ERTsKPiArICAgICAgICAgICAgICAgICAgICAgICB9Cj4gKyAgICAgICAgICAgICAgICAgICAg
ICAgYnJlYWs7Cj4gKyAgICAgICAgICAgICAgIGRlZmF1bHQ6Cj4gKyAgICAgICAgICAgICAgICAg
ICAgICAgTUlTU0lOR19DQVNFKGxhbmVfbWFzayk7Cj4gKyAgICAgICAgICAgICAgIH0KPiArICAg
ICAgICAgICAgICAgYnJlYWs7Cj4gKwo+ICsgICAgICAgY2FzZSBUQ19QT1JUX0xFR0FDWToKPiAr
ICAgICAgICAgICAgICAgbG4wIHw9IERLTF9EUF9NT0RFX0NGR19EUF9YMV9NT0RFIHwgREtMX0RQ
X01PREVfQ0ZHX0RQX1gyX01PREU7Cj4gKyAgICAgICAgICAgICAgIGxuMSB8PSBES0xfRFBfTU9E
RV9DRkdfRFBfWDFfTU9ERSB8IERLTF9EUF9NT0RFX0NGR19EUF9YMl9NT0RFOwo+ICsgICAgICAg
ICAgICAgICBicmVhazsKPiArCj4gKyAgICAgICBkZWZhdWx0Ogo+ICsgICAgICAgICAgICAgICBN
SVNTSU5HX0NBU0UoaW50ZWxfZGlnX3BvcnQtPnRjX21vZGUpOwo+ICsgICAgICAgICAgICAgICBy
ZXR1cm47Cj4gKyAgICAgICB9Cj4gKwo+ICsgICAgICAgSTkxNV9XUklURShISVBfSU5ERVhfUkVH
KHRjX3BvcnQpLCBISVBfSU5ERVhfVkFMKHRjX3BvcnQsIDB4MCkpOwo+ICsgICAgICAgSTkxNV9X
UklURShES0xfRFBfTU9ERSh0Y19wb3J0KSwgbG4wKTsKPiArICAgICAgIEk5MTVfV1JJVEUoSElQ
X0lOREVYX1JFRyh0Y19wb3J0KSwgSElQX0lOREVYX1ZBTCh0Y19wb3J0LCAweDEpKTsKPiArICAg
ICAgIEk5MTVfV1JJVEUoREtMX0RQX01PREUodGNfcG9ydCksIGxuMSk7Cj4gK30KPiArCj4gIHN0
YXRpYyB2b2lkIGludGVsX2RwX3Npbmtfc2V0X2ZlY19yZWFkeShzdHJ1Y3QgaW50ZWxfZHAgKmlu
dGVsX2RwLAo+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBz
dHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqY3J0Y19zdGF0ZSkKPiAgewo+IEBAIC0zMjE4LDcgKzM0
MzEsNyBAQCBzdGF0aWMgdm9pZCB0Z2xfZGRpX3ByZV9lbmFibGVfZHAoc3RydWN0IGludGVsX2Vu
Y29kZXIgKmVuY29kZXIsCj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
IGRpZ19wb3J0LT5kZGlfaW9fcG93ZXJfZG9tYWluKTsKPgo+ICAgICAgICAgLyogNi4gKi8KPiAt
ICAgICAgIGljbF9wcm9ncmFtX21nX2RwX21vZGUoZGlnX3BvcnQpOwo+ICsgICAgICAgdGdsX3By
b2dyYW1fZGtsX2RwX21vZGUoZGlnX3BvcnQpOwo+Cj4gICAgICAgICAvKgo+ICAgICAgICAgICog
Ny5hIC0gU3RlcHMgaW4gdGhpcyBmdW5jdGlvbiBzaG91bGQgb25seSBiZSBleGVjdXRlZCBvdsK0
ZXIgTVNUCj4gQEAgLTMyMzEsMTAgKzM0NDQsMTAgQEAgc3RhdGljIHZvaWQgdGdsX2RkaV9wcmVf
ZW5hYmxlX2RwKHN0cnVjdCBpbnRlbF9lbmNvZGVyICplbmNvZGVyLAo+ICAgICAgICAgaW50ZWxf
ZGRpX2NvbmZpZ190cmFuc2NvZGVyX2Z1bmMoY3J0Y19zdGF0ZSk7Cj4KPiAgICAgICAgIC8qIDcu
ZCAqLwo+IC0gICAgICAgaWNsX3BoeV9zZXRfY2xvY2tfZ2F0aW5nKGRpZ19wb3J0LCBmYWxzZSk7
Cj4gKyAgICAgICB0Z2xfcGh5X3NldF9jbG9ja19nYXRpbmcoZGlnX3BvcnQsIGZhbHNlKTsKPgo+
ICAgICAgICAgLyogNy5lICovCj4gLSAgICAgICBpY2xfZGRpX3Zzd2luZ19zZXF1ZW5jZShlbmNv
ZGVyLCBjcnRjX3N0YXRlLT5wb3J0X2Nsb2NrLCBsZXZlbCwKPiArICAgICAgIHRnbF9kZGlfdnN3
aW5nX3NlcXVlbmNlKGVuY29kZXIsIGNydGNfc3RhdGUtPnBvcnRfY2xvY2ssIGxldmVsLAo+ICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5jb2Rlci0+dHlwZSk7Cj4KPiAgICAgICAg
IC8qIDcuZiAqLwo+IEBAIC0zMjY2LDYgKzM0NzksMTUgQEAgc3RhdGljIHZvaWQgdGdsX2RkaV9w
cmVfZW5hYmxlX2RwKHN0cnVjdCBpbnRlbF9lbmNvZGVyICplbmNvZGVyLAo+ICAgICAgICAgLyog
Ny5rICovCj4gICAgICAgICBpbnRlbF9kcF9zdG9wX2xpbmtfdHJhaW4oaW50ZWxfZHApOwo+Cj4g
KyAgICAgICAvKgo+ICsgICAgICAgICogVE9ETzogZW5hYmxlIGNsb2NrIGdhdGluZwo+ICsgICAg
ICAgICoKPiArICAgICAgICAqIEl0IGlzIG5vdCB3cml0dGVuIGluIERQIGVuYWJsaW5nIHNlcXVl
bmNlIGJ1dCAiUEhZIENsb2NrZ2F0aW5nCj4gKyAgICAgICAgKiBwcm9ncmFtbWluZyIgc3RhdGVz
IHRoYXQgY2xvY2sgZ2F0aW5nIHNob3VsZCBiZSBlbmFibGVkIGFmdGVyIHRoZQo+ICsgICAgICAg
ICogbGluayB0cmFpbmluZyBidXQgZG9pbmcgc28gY2F1c2VzIGFsbCB0aGUgZm9sbG93aW5nIHRy
YWluaW5ncyB0byBmYWlsCj4gKyAgICAgICAgKiBzbyBub3QgZW5hYmxpbmcgaXQgZm9yIG5vdy4K
PiArICAgICAgICAqLwo+ICsKPiAgICAgICAgIC8qIDcubCAqLwo+ICAgICAgICAgaW50ZWxfZGRp
X2VuYWJsZV9mZWMoZW5jb2RlciwgY3J0Y19zdGF0ZSk7Cj4gICAgICAgICBpbnRlbF9kc2NfZW5h
YmxlKGVuY29kZXIsIGNydGNfc3RhdGUpOwo+IEBAIC0zMzcxLDkgKzM1OTMsMTUgQEAgc3RhdGlj
IHZvaWQgaW50ZWxfZGRpX3ByZV9lbmFibGVfaGRtaShzdHJ1Y3QgaW50ZWxfZW5jb2RlciAqZW5j
b2RlciwKPiAgICAgICAgIGludGVsX2Rpc3BsYXlfcG93ZXJfZ2V0KGRldl9wcml2LCBkaWdfcG9y
dC0+ZGRpX2lvX3Bvd2VyX2RvbWFpbik7Cj4KPiAgICAgICAgIGljbF9wcm9ncmFtX21nX2RwX21v
ZGUoZGlnX3BvcnQpOwo+IC0gICAgICAgaWNsX3BoeV9zZXRfY2xvY2tfZ2F0aW5nKGRpZ19wb3J0
LCBmYWxzZSk7Cj4gKyAgICAgICBpZiAoSU5URUxfR0VOKGRldl9wcml2KSA+PSAxMikKPiArICAg
ICAgICAgICAgICAgdGdsX3BoeV9zZXRfY2xvY2tfZ2F0aW5nKGRpZ19wb3J0LCBmYWxzZSk7Cj4g
KyAgICAgICBlbHNlCj4gKyAgICAgICAgICAgICAgIGljbF9waHlfc2V0X2Nsb2NrX2dhdGluZyhk
aWdfcG9ydCwgZmFsc2UpOwo+Cj4gLSAgICAgICBpZiAoSU5URUxfR0VOKGRldl9wcml2KSA+PSAx
MSkKPiArICAgICAgIGlmIChJTlRFTF9HRU4oZGV2X3ByaXYpID49IDEyKQo+ICsgICAgICAgICAg
ICAgICB0Z2xfZGRpX3Zzd2luZ19zZXF1ZW5jZShlbmNvZGVyLCBjcnRjX3N0YXRlLT5wb3J0X2Ns
b2NrLAo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXZlbCwgSU5U
RUxfT1VUUFVUX0hETUkpOwo+ICsgICAgICAgZWxzZSBpZiAoSU5URUxfR0VOKGRldl9wcml2KSA9
PSAxMSkKPiAgICAgICAgICAgICAgICAgaWNsX2RkaV92c3dpbmdfc2VxdWVuY2UoZW5jb2Rlciwg
Y3J0Y19zdGF0ZS0+cG9ydF9jbG9jaywKPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgbGV2ZWwsIElOVEVMX09VVFBVVF9IRE1JKTsKPiAgICAgICAgIGVsc2UgaWYgKElT
X0NBTk5PTkxBS0UoZGV2X3ByaXYpKQo+IEBAIC0zMzgzLDcgKzM2MTEsMTAgQEAgc3RhdGljIHZv
aWQgaW50ZWxfZGRpX3ByZV9lbmFibGVfaGRtaShzdHJ1Y3QgaW50ZWxfZW5jb2RlciAqZW5jb2Rl
ciwKPiAgICAgICAgIGVsc2UKPiAgICAgICAgICAgICAgICAgaW50ZWxfcHJlcGFyZV9oZG1pX2Rk
aV9idWZmZXJzKGVuY29kZXIsIGxldmVsKTsKPgo+IC0gICAgICAgaWNsX3BoeV9zZXRfY2xvY2tf
Z2F0aW5nKGRpZ19wb3J0LCB0cnVlKTsKPiArICAgICAgIGlmIChJTlRFTF9HRU4oZGV2X3ByaXYp
ID49IDEyKQo+ICsgICAgICAgICAgICAgICB0Z2xfcGh5X3NldF9jbG9ja19nYXRpbmcoZGlnX3Bv
cnQsIHRydWUpOwo+ICsgICAgICAgZWxzZQo+ICsgICAgICAgICAgICAgICBpY2xfcGh5X3NldF9j
bG9ja19nYXRpbmcoZGlnX3BvcnQsIHRydWUpOwo+Cj4gICAgICAgICBpZiAoSVNfR0VOOV9CQyhk
ZXZfcHJpdikpCj4gICAgICAgICAgICAgICAgIHNrbF9kZGlfc2V0X2lib29zdChlbmNvZGVyLCBs
ZXZlbCwgSU5URUxfT1VUUFVUX0hETUkpOwo+IC0tCj4gMi4yMy4wCj4KPiBfX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwo+IEludGVsLWdmeCBtYWlsaW5nIGxp
c3QKPiBJbnRlbC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCj4gaHR0cHM6Ly9saXN0cy5mcmVl
ZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9pbnRlbC1nZngKCgoKLS0gCkx1Y2FzIERlIE1h
cmNoaQpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpJbnRl
bC1nZnggbWFpbGluZyBsaXN0CkludGVsLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6
Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9pbnRlbC1nZng=

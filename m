Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 17CB877408
	for <lists+intel-gfx@lfdr.de>; Sat, 27 Jul 2019 00:29:24 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id F06546EE6E;
	Fri, 26 Jul 2019 22:29:20 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from fireflyinternet.com (mail.fireflyinternet.com [109.228.58.192])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 2DCEB6EE6E
 for <intel-gfx@lists.freedesktop.org>; Fri, 26 Jul 2019 22:29:19 +0000 (UTC)
X-Default-Received-SPF: pass (skip=forwardok (res=PASS))
 x-ip-name=78.156.65.138; 
Received: from haswell.alporthouse.com (unverified [78.156.65.138]) 
 by fireflyinternet.com (Firefly Internet (M1)) with ESMTP id 17641809-1500050 
 for multiple; Fri, 26 Jul 2019 23:29:09 +0100
From: Chris Wilson <chris@chris-wilson.co.uk>
To: intel-gfx@lists.freedesktop.org
Date: Fri, 26 Jul 2019 23:29:08 +0100
Message-Id: <20190726222908.24841-1-chris@chris-wilson.co.uk>
X-Mailer: git-send-email 2.22.0
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH] drm/i915: Allow sharing the idle-barrier from
 other kernel requests
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

QnkgcGxhY2luZyBvdXIgaWRsZS1iYXJyaWVycyBpbiB0aGUgaTkxNV9hY3RpdmUgZmVuY2UgdHJl
ZSwgd2UgZXhwb3NlCnRob3NlIGZvciByZXVzZSBieSBvdGhlciBjb21wb25lbnRzIHRoYXQgYXJl
IGlzc3VpbmcgcmVxdWVzdHMgYWxvbmcgdGhlCmtlcm5lbF9jb250ZXh0LiBSZXVzaW5nIHRoZSBw
cm90by1iYXJyaWVyIGFjdGl2ZV9ub2RlIGlzIHBlcmZlY3RseSBmaW5lCmFzIHRoZSBuZXcgcmVx
dWVzdCBpbXBsaWVzIGEgY29udGV4dC1zd2l0Y2gsIGFuZCBzbyBhbiBvcHBvcnR1bmUgcG9pbnQK
dG8gcnVuIHRoZSBpZGxlLWJhcnJpZXIuIEhvd2V2ZXIsIHRoZSBwcm90by1iYXJyaWVyIGlzIG5v
dCBlcXVpdmFsZW50CnRvIGEgbm9ybWFsIGFjdGl2ZV9ub2RlIGFuZCBjYXJlIG11c3QgYmUgdGFr
ZW4gdG8gYXZvaWQgZGVyZWZlcmVuY2luZyB0aGUKRVJSX1BUUiB1c2VkIGFzIGl0cyByZXF1ZXN0
IG1hcmtlci4KClJlcG9ydGVkLWJ5OiBMaW9uZWwgTGFuZHdlcmxpbiA8bGlvbmVsLmcubGFuZHdl
cmxpbkBpbnRlbC5jb20+CkZpeGVzOiBjZTQ3NmM4MGI4YmYgKCJkcm0vaTkxNTogS2VlcCBjb250
ZXh0cyBwaW5uZWQgdW50aWwgYWZ0ZXIgdGhlIG5leHQga2VybmVsIGNvbnRleHQgc3dpdGNoIikK
Rml4ZXM6IGE5ODc3ZGEyZDYyOSAoImRybS9pOTE1L29hOiBSZWNvbmZpZ3VyZSBjb250ZXh0cyBv
biB0aGUgZmx5IikKU2lnbmVkLW9mZi1ieTogQ2hyaXMgV2lsc29uIDxjaHJpc0BjaHJpcy13aWxz
b24uY28udWs+CkNjOiBMaW9uZWwgTGFuZHdlcmxpbiA8bGlvbmVsLmcubGFuZHdlcmxpbkBpbnRl
bC5jb20+CkNjOiBUdnJ0a28gVXJzdWxpbiA8dHZydGtvLnVyc3VsaW5AaW50ZWwuY29tPgotLS0K
UGhldywgZ29vZCBqb2Igd2UgaGl0IHRoZSBjYWNoZSBvbiB0aGUgbGVnYWN5IHN1Ym1pc3Npb24g
c2VsZnRlc3RzLgotLS0KIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2NvbnRleHQuYyAg
ICAgICB8ICA0MCArKy0KIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2NvbnRleHQuaCAg
ICAgICB8ICAxMyArLQogZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZW5naW5lX3BtLmMg
ICAgIHwgICAyICstCiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9zZWxmdGVzdF9jb250ZXh0LmMg
ICAgfCAzMTAgKysrKysrKysrKysrKysrKysrCiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2Fj
dGl2ZS5jICAgICAgICAgICAgfCAyMzkgKysrKysrKysrKystLS0KIGRyaXZlcnMvZ3B1L2RybS9p
OTE1L2k5MTVfYWN0aXZlLmggICAgICAgICAgICB8ICAgMiArLQogZHJpdmVycy9ncHUvZHJtL2k5
MTUvaTkxNV9hY3RpdmVfdHlwZXMuaCAgICAgIHwgICAyICstCiAuLi4vZHJtL2k5MTUvc2VsZnRl
c3RzL2k5MTVfbGl2ZV9zZWxmdGVzdHMuaCAgfCAgIDMgKy0KIDggZmlsZXMgY2hhbmdlZCwgNTQ4
IGluc2VydGlvbnMoKyksIDYzIGRlbGV0aW9ucygtKQogY3JlYXRlIG1vZGUgMTAwNjQ0IGRyaXZl
cnMvZ3B1L2RybS9pOTE1L2d0L3NlbGZ0ZXN0X2NvbnRleHQuYwoKZGlmZiAtLWdpdCBhL2RyaXZl
cnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2NvbnRleHQuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1
L2d0L2ludGVsX2NvbnRleHQuYwppbmRleCBkNjRiNDVmN2VjNmQuLjIxMWFjNjU2OGE1ZCAxMDA2
NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfY29udGV4dC5jCisrKyBiL2Ry
aXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2NvbnRleHQuYwpAQCAtMTYyLDIzICsxNjIsNDEg
QEAgc3RhdGljIGludCBfX2ludGVsX2NvbnRleHRfYWN0aXZlKHN0cnVjdCBpOTE1X2FjdGl2ZSAq
YWN0aXZlKQogCWlmIChlcnIpCiAJCWdvdG8gZXJyX3Jpbmc7CiAKKwlyZXR1cm4gMDsKKworZXJy
X3Jpbmc6CisJaW50ZWxfcmluZ191bnBpbihjZS0+cmluZyk7CitlcnJfcHV0OgorCWludGVsX2Nv
bnRleHRfcHV0KGNlKTsKKwlyZXR1cm4gZXJyOworfQorCitpbnQgaW50ZWxfY29udGV4dF9hY3Rp
dmVfYWNxdWlyZShzdHJ1Y3QgaW50ZWxfY29udGV4dCAqY2UpCit7CisJaW50IGVycjsKKworCWVy
ciA9IGk5MTVfYWN0aXZlX2FjcXVpcmUoJmNlLT5hY3RpdmUpOworCWlmIChlcnIpCisJCXJldHVy
biBlcnI7CisKIAkvKiBQcmVhbGxvY2F0ZSB0cmFja2luZyBub2RlcyAqLwogCWlmICghaTkxNV9n
ZW1fY29udGV4dF9pc19rZXJuZWwoY2UtPmdlbV9jb250ZXh0KSkgewogCQllcnIgPSBpOTE1X2Fj
dGl2ZV9hY3F1aXJlX3ByZWFsbG9jYXRlX2JhcnJpZXIoJmNlLT5hY3RpdmUsCiAJCQkJCQkJICAg
ICAgY2UtPmVuZ2luZSk7Ci0JCWlmIChlcnIpCi0JCQlnb3RvIGVycl9zdGF0ZTsKKwkJaWYgKGVy
cikgeworCQkJaTkxNV9hY3RpdmVfcmVsZWFzZSgmY2UtPmFjdGl2ZSk7CisJCQlyZXR1cm4gZXJy
OworCQl9CiAJfQogCiAJcmV0dXJuIDA7Cit9CiAKLWVycl9zdGF0ZToKLQlfX2NvbnRleHRfdW5w
aW5fc3RhdGUoY2UtPnN0YXRlKTsKLWVycl9yaW5nOgotCWludGVsX3JpbmdfdW5waW4oY2UtPnJp
bmcpOwotZXJyX3B1dDoKLQlpbnRlbF9jb250ZXh0X3B1dChjZSk7Ci0JcmV0dXJuIGVycjsKK3Zv
aWQgaW50ZWxfY29udGV4dF9hY3RpdmVfcmVsZWFzZShzdHJ1Y3QgaW50ZWxfY29udGV4dCAqY2Up
Cit7CisJLyogTm9kZXMgcHJlYWxsb2NhdGVkIGluIGludGVsX2NvbnRleHRfYWN0aXZlKCkgKi8K
KwlpOTE1X2FjdGl2ZV9hY3F1aXJlX2JhcnJpZXIoJmNlLT5hY3RpdmUpOworCWk5MTVfYWN0aXZl
X3JlbGVhc2UoJmNlLT5hY3RpdmUpOwogfQogCiB2b2lkCkBAIC0yOTcsMyArMzE1LDcgQEAgc3Ry
dWN0IGk5MTVfcmVxdWVzdCAqaW50ZWxfY29udGV4dF9jcmVhdGVfcmVxdWVzdChzdHJ1Y3QgaW50
ZWxfY29udGV4dCAqY2UpCiAKIAlyZXR1cm4gcnE7CiB9CisKKyNpZiBJU19FTkFCTEVEKENPTkZJ
R19EUk1fSTkxNV9TRUxGVEVTVCkKKyNpbmNsdWRlICJzZWxmdGVzdF9jb250ZXh0LmMiCisjZW5k
aWYKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2NvbnRleHQuaCBi
L2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2NvbnRleHQuaAppbmRleCAyM2M3ZTRjMGNl
N2MuLjA3Zjk5MjRkZTQ4ZiAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50
ZWxfY29udGV4dC5oCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2NvbnRleHQu
aApAQCAtMTA0LDE3ICsxMDQsOCBAQCBzdGF0aWMgaW5saW5lIHZvaWQgaW50ZWxfY29udGV4dF9l
eGl0KHN0cnVjdCBpbnRlbF9jb250ZXh0ICpjZSkKIAkJY2UtPm9wcy0+ZXhpdChjZSk7CiB9CiAK
LXN0YXRpYyBpbmxpbmUgaW50IGludGVsX2NvbnRleHRfYWN0aXZlX2FjcXVpcmUoc3RydWN0IGlu
dGVsX2NvbnRleHQgKmNlKQotewotCXJldHVybiBpOTE1X2FjdGl2ZV9hY3F1aXJlKCZjZS0+YWN0
aXZlKTsKLX0KLQotc3RhdGljIGlubGluZSB2b2lkIGludGVsX2NvbnRleHRfYWN0aXZlX3JlbGVh
c2Uoc3RydWN0IGludGVsX2NvbnRleHQgKmNlKQotewotCS8qIE5vZGVzIHByZWFsbG9jYXRlZCBp
biBpbnRlbF9jb250ZXh0X2FjdGl2ZSgpICovCi0JaTkxNV9hY3RpdmVfYWNxdWlyZV9iYXJyaWVy
KCZjZS0+YWN0aXZlKTsKLQlpOTE1X2FjdGl2ZV9yZWxlYXNlKCZjZS0+YWN0aXZlKTsKLX0KK2lu
dCBpbnRlbF9jb250ZXh0X2FjdGl2ZV9hY3F1aXJlKHN0cnVjdCBpbnRlbF9jb250ZXh0ICpjZSk7
Cit2b2lkIGludGVsX2NvbnRleHRfYWN0aXZlX3JlbGVhc2Uoc3RydWN0IGludGVsX2NvbnRleHQg
KmNlKTsKIAogc3RhdGljIGlubGluZSBzdHJ1Y3QgaW50ZWxfY29udGV4dCAqaW50ZWxfY29udGV4
dF9nZXQoc3RydWN0IGludGVsX2NvbnRleHQgKmNlKQogewpkaWZmIC0tZ2l0IGEvZHJpdmVycy9n
cHUvZHJtL2k5MTUvZ3QvaW50ZWxfZW5naW5lX3BtLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9n
dC9pbnRlbF9lbmdpbmVfcG0uYwppbmRleCBlNzRmYmYwNGE2OGQuLmNlNTQwOTI0NzVkYSAxMDA2
NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZW5naW5lX3BtLmMKKysrIGIv
ZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZW5naW5lX3BtLmMKQEAgLTkwLDcgKzkwLDcg
QEAgc3RhdGljIGJvb2wgc3dpdGNoX3RvX2tlcm5lbF9jb250ZXh0KHN0cnVjdCBpbnRlbF9lbmdp
bmVfY3MgKmVuZ2luZSkKIAkvKiBDaGVjayBhZ2FpbiBvbiB0aGUgbmV4dCByZXRpcmVtZW50LiAq
LwogCWVuZ2luZS0+d2FrZXJlZl9zZXJpYWwgPSBlbmdpbmUtPnNlcmlhbCArIDE7CiAKLQlpOTE1
X3JlcXVlc3RfYWRkX2JhcnJpZXJzKHJxKTsKKwlpOTE1X3JlcXVlc3RfYWRkX2FjdGl2ZV9iYXJy
aWVycyhycSk7CiAJX19pOTE1X3JlcXVlc3RfY29tbWl0KHJxKTsKIAogCXJldHVybiBmYWxzZTsK
ZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L3NlbGZ0ZXN0X2NvbnRleHQuYyBi
L2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L3NlbGZ0ZXN0X2NvbnRleHQuYwpuZXcgZmlsZSBtb2Rl
IDEwMDY0NAppbmRleCAwMDAwMDAwMDAwMDAuLmUzYjQ1ZmU3NDdhZQotLS0gL2Rldi9udWxsCisr
KyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L3NlbGZ0ZXN0X2NvbnRleHQuYwpAQCAtMCwwICsx
LDMxMCBAQAorLyoKKyAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBHUEwtMi4wCisgKgorICog
Q29weXJpZ2h0IMKpIDIwMTkgSW50ZWwgQ29ycG9yYXRpb24KKyAqLworCisjaW5jbHVkZSAiaTkx
NV9zZWxmdGVzdC5oIgorI2luY2x1ZGUgImludGVsX2d0LmgiCisKKyNpbmNsdWRlICJnZW0vc2Vs
ZnRlc3RzL21vY2tfY29udGV4dC5oIgorI2luY2x1ZGUgInNlbGZ0ZXN0cy9pZ3RfZmx1c2hfdGVz
dC5oIgorI2luY2x1ZGUgInNlbGZ0ZXN0cy9tb2NrX2RybS5oIgorCitzdGF0aWMgaW50IHJlcXVl
c3Rfc3luYyhzdHJ1Y3QgaTkxNV9yZXF1ZXN0ICpycSkKK3sKKwlsb25nIHRpbWVvdXQ7CisJaW50
IGVyciA9IDA7CisKKwlpOTE1X3JlcXVlc3RfZ2V0KHJxKTsKKworCWk5MTVfcmVxdWVzdF9hZGQo
cnEpOworCXRpbWVvdXQgPSBpOTE1X3JlcXVlc3Rfd2FpdChycSwgMCwgSFogLyAxMCk7CisJaWYg
KHRpbWVvdXQgPCAwKQorCQllcnIgPSB0aW1lb3V0OworCWVsc2UKKwkJaTkxNV9yZXF1ZXN0X3Jl
dGlyZV91cHRvKHJxKTsKKworCWk5MTVfcmVxdWVzdF9wdXQocnEpOworCisJcmV0dXJuIGVycjsK
K30KKworc3RhdGljIGludCBjb250ZXh0X3N5bmMoc3RydWN0IGludGVsX2NvbnRleHQgKmNlKQor
eworCXN0cnVjdCBpbnRlbF90aW1lbGluZSAqdGwgPSBjZS0+cmluZy0+dGltZWxpbmU7CisJaW50
IGVyciA9IDA7CisKKwlkbyB7CisJCXN0cnVjdCBpOTE1X3JlcXVlc3QgKnJxOworCQlsb25nIHRp
bWVvdXQ7CisKKwkJcmN1X3JlYWRfbG9jaygpOworCQlycSA9IHJjdV9kZXJlZmVyZW5jZSh0bC0+
bGFzdF9yZXF1ZXN0LnJlcXVlc3QpOworCQlpZiAocnEpCisJCQlycSA9IGk5MTVfcmVxdWVzdF9n
ZXRfcmN1KHJxKTsKKwkJcmN1X3JlYWRfdW5sb2NrKCk7CisJCWlmICghcnEpCisJCQlicmVhazsK
KworCQl0aW1lb3V0ID0gaTkxNV9yZXF1ZXN0X3dhaXQocnEsIDAsIEhaIC8gMTApOworCQlpZiAo
dGltZW91dCA8IDApCisJCQllcnIgPSB0aW1lb3V0OworCQllbHNlCisJCQlpOTE1X3JlcXVlc3Rf
cmV0aXJlX3VwdG8ocnEpOworCisJCWk5MTVfcmVxdWVzdF9wdXQocnEpOworCX0gd2hpbGUgKCFl
cnIpOworCisJcmV0dXJuIGVycjsKK30KKworc3RhdGljIGludCBfX2xpdmVfYWN0aXZlX2NvbnRl
eHQoc3RydWN0IGludGVsX2VuZ2luZV9jcyAqZW5naW5lLAorCQkJCSBzdHJ1Y3QgaTkxNV9nZW1f
Y29udGV4dCAqZml4bWUpCit7CisJc3RydWN0IGludGVsX2NvbnRleHQgKmNlOworCWludCBwYXNz
OworCWludCBlcnI7CisKKwkvKgorCSAqIFdlIGtlZXAgYWN0aXZlIGNvbnRleHRzIGFsaXZlIHVu
dGlsIGFmdGVyIGEgc3Vic2VxdWVudCBjb250ZXh0CisJICogc3dpdGNoIGFzIHRoZSBmaW5hbCB3
cml0ZSBmcm9tIHRoZSBjb250ZXh0LXNhdmUgd2lsbCBiZSBhZnRlcgorCSAqIHdlIHJldGlyZSB0
aGUgZmluYWwgcmVxdWVzdC4gV2UgdHJhY2sgd2hlbiB3ZSB1bnBpbiB0aGUgY29udGV4dCwKKwkg
KiB1bmRlciB0aGUgcHJlc3VtcHRpb24gdGhhdCB0aGUgZmluYWwgcGluIGlzIGZyb20gdGhlIGxh
c3QgcmVxdWVzdCwKKwkgKiBhbmQgaW5zdGVhZCBvZiBpbW1lZGlhdGVseSB1bnBpbm5pbmcgdGhl
IGNvbnRleHQsIHdlIGFkZCBhIHRhc2sKKwkgKiB0byB1bnBpbiB0aGUgY29udGV4dCBmcm9tIHRo
ZSBuZXh0IGlkbGUtYmFycmllci4KKwkgKgorCSAqIFRoaXMgdGVzdCBtYWtlcyBzdXJlIHRoYXQg
dGhlIGNvbnRleHQgaXMga2VwdCBhbGl2ZSB1bnRpbCBhCisJICogc3Vic2VxdWVudCBpZGxlLWJh
cnJpZXIgKGVtaXR0ZWQgd2hlbiB0aGUgZW5naW5lIHdha2VyZWYgaGl0cyAwCisJICogd2l0aCBu
byBtb3JlIG91dHN0YW5kaW5nIHJlcXVlc3RzKS4KKwkgKi8KKworCWlmIChpbnRlbF9lbmdpbmVf
cG1faXNfYXdha2UoZW5naW5lKSkgeworCQlwcl9lcnIoIiVzIGlzIGF3YWtlIGJlZm9yZSBzdGFy
dGluZyAlcyFcbiIsCisJCSAgICAgICBlbmdpbmUtPm5hbWUsIF9fZnVuY19fKTsKKwkJcmV0dXJu
IC1FSU5WQUw7CisJfQorCisJY2UgPSBpbnRlbF9jb250ZXh0X2NyZWF0ZShmaXhtZSwgZW5naW5l
KTsKKwlpZiAoIWNlKQorCQlyZXR1cm4gLUVOT01FTTsKKworCWZvciAocGFzcyA9IDA7IHBhc3Mg
PD0gMjsgcGFzcysrKSB7CisJCXN0cnVjdCBpOTE1X3JlcXVlc3QgKnJxOworCisJCXJxID0gaW50
ZWxfY29udGV4dF9jcmVhdGVfcmVxdWVzdChjZSk7CisJCWlmIChJU19FUlIocnEpKSB7CisJCQll
cnIgPSBQVFJfRVJSKHJxKTsKKwkJCWdvdG8gZXJyOworCQl9CisKKwkJZXJyID0gcmVxdWVzdF9z
eW5jKHJxKTsKKwkJaWYgKGVycikKKwkJCWdvdG8gZXJyOworCisJCS8qIENvbnRleHQgd2lsbCBi
ZSBrZXB0IGFjdGl2ZSB1bnRpbCBhZnRlciBhbiBpZGxlLWJhcnJpZXIuICovCisJCWlmIChpOTE1
X2FjdGl2ZV9pc19pZGxlKCZjZS0+YWN0aXZlKSkgeworCQkJcHJfZXJyKCJjb250ZXh0IGlzIG5v
dCBhY3RpdmU7IGV4cGVjdGVkIGlkbGUtYmFycmllciAoJXMgcGFzcyAlZClcbiIsCisJCQkgICAg
ICAgZW5naW5lLT5uYW1lLCBwYXNzKTsKKwkJCWVyciA9IC1FSU5WQUw7CisJCQlnb3RvIGVycjsK
KwkJfQorCisJCWlmICghaW50ZWxfZW5naW5lX3BtX2lzX2F3YWtlKGVuZ2luZSkpIHsKKwkJCXBy
X2VycigiJXMgaXMgYXNsZWVwIGJlZm9yZSBpZGxlLWJhcnJpZXJcbiIsCisJCQkgICAgICAgZW5n
aW5lLT5uYW1lKTsKKwkJCWVyciA9IC1FSU5WQUw7CisJCQlnb3RvIGVycjsKKwkJfQorCX0KKwor
CS8qIE5vdyBtYWtlIHN1cmUgb3VyIGlkbGUtYmFycmllcnMgYXJlIGZsdXNoZWQgKi8KKwllcnIg
PSBjb250ZXh0X3N5bmMoZW5naW5lLT5rZXJuZWxfY29udGV4dCk7CisJaWYgKGVycikKKwkJZ290
byBlcnI7CisKKwlpZiAoIWk5MTVfYWN0aXZlX2lzX2lkbGUoJmNlLT5hY3RpdmUpKSB7CisJCXBy
X2VycigiY29udGV4dCBpcyBzdGlsbCBhY3RpdmUhIik7CisJCWVyciA9IC1FSU5WQUw7CisJfQor
CisJaWYgKGludGVsX2VuZ2luZV9wbV9pc19hd2FrZShlbmdpbmUpKSB7CisJCXN0cnVjdCBkcm1f
cHJpbnRlciBwID0gZHJtX2RlYnVnX3ByaW50ZXIoX19mdW5jX18pOworCisJCWludGVsX2VuZ2lu
ZV9kdW1wKGVuZ2luZSwgJnAsCisJCQkJICAiJXMgaXMgc3RpbGwgYXdha2UgYWZ0ZXIgaWRsZS1i
YXJyaWVyc1xuIiwKKwkJCQkgIGVuZ2luZS0+bmFtZSk7CisJCUdFTV9UUkFDRV9EVU1QKCk7CisK
KwkJZXJyID0gLUVJTlZBTDsKKwkJZ290byBlcnI7CisJfQorCitlcnI6CisJaW50ZWxfY29udGV4
dF9wdXQoY2UpOworCXJldHVybiBlcnI7Cit9CisKK3N0YXRpYyBpbnQgbGl2ZV9hY3RpdmVfY29u
dGV4dCh2b2lkICphcmcpCit7CisJc3RydWN0IGludGVsX2d0ICpndCA9IGFyZzsKKwlzdHJ1Y3Qg
aW50ZWxfZW5naW5lX2NzICplbmdpbmU7CisJc3RydWN0IGk5MTVfZ2VtX2NvbnRleHQgKmZpeG1l
OworCWVudW0gaW50ZWxfZW5naW5lX2lkIGlkOworCXN0cnVjdCBkcm1fZmlsZSAqZmlsZTsKKwlp
bnQgZXJyID0gMDsKKworCWZpbGUgPSBtb2NrX2ZpbGUoZ3QtPmk5MTUpOworCWlmIChJU19FUlIo
ZmlsZSkpCisJCXJldHVybiBQVFJfRVJSKGZpbGUpOworCisJbXV0ZXhfbG9jaygmZ3QtPmk5MTUt
PmRybS5zdHJ1Y3RfbXV0ZXgpOworCisJZml4bWUgPSBsaXZlX2NvbnRleHQoZ3QtPmk5MTUsIGZp
bGUpOworCWlmICghZml4bWUpIHsKKwkJZXJyID0gLUVOT01FTTsKKwkJZ290byB1bmxvY2s7CisJ
fQorCisJZm9yX2VhY2hfZW5naW5lKGVuZ2luZSwgZ3QtPmk5MTUsIGlkKSB7CisJCWVyciA9IF9f
bGl2ZV9hY3RpdmVfY29udGV4dChlbmdpbmUsIGZpeG1lKTsKKwkJaWYgKGVycikKKwkJCWJyZWFr
OworCisJCWVyciA9IGlndF9mbHVzaF90ZXN0KGd0LT5pOTE1LCBJOTE1X1dBSVRfTE9DS0VEKTsK
KwkJaWYgKGVycikKKwkJCWJyZWFrOworCX0KKwordW5sb2NrOgorCW11dGV4X3VubG9jaygmZ3Qt
Pmk5MTUtPmRybS5zdHJ1Y3RfbXV0ZXgpOworCW1vY2tfZmlsZV9mcmVlKGd0LT5pOTE1LCBmaWxl
KTsKKwlyZXR1cm4gZXJyOworfQorCitzdGF0aWMgaW50IF9fcmVtb3RlX3N5bmMoc3RydWN0IGlu
dGVsX2NvbnRleHQgKmNlLCBzdHJ1Y3QgaW50ZWxfY29udGV4dCAqcmVtb3RlKQoreworCXN0cnVj
dCBpOTE1X3JlcXVlc3QgKnJxOworCWludCBlcnI7CisKKwllcnIgPSBpbnRlbF9jb250ZXh0X3Bp
bihyZW1vdGUpOworCWlmIChlcnIpCisJCXJldHVybiBlcnI7CisKKwlycSA9IGludGVsX2NvbnRl
eHRfY3JlYXRlX3JlcXVlc3QoY2UpOworCWlmIChJU19FUlIocnEpKSB7CisJCWVyciA9IFBUUl9F
UlIocnEpOworCQlnb3RvIHVucGluOworCX0KKworCWVyciA9IGludGVsX2NvbnRleHRfcHJlcGFy
ZV9yZW1vdGVfcmVxdWVzdChyZW1vdGUsIHJxKTsKKwlpZiAoZXJyKSB7CisJCWk5MTVfcmVxdWVz
dF9hZGQocnEpOworCQlnb3RvIHVucGluOworCX0KKworCWVyciA9IHJlcXVlc3Rfc3luYyhycSk7
CisKK3VucGluOgorCWludGVsX2NvbnRleHRfdW5waW4ocmVtb3RlKTsKKwlyZXR1cm4gZXJyOwor
fQorCitzdGF0aWMgaW50IF9fbGl2ZV9yZW1vdGVfY29udGV4dChzdHJ1Y3QgaW50ZWxfZW5naW5l
X2NzICplbmdpbmUsCisJCQkJIHN0cnVjdCBpOTE1X2dlbV9jb250ZXh0ICpmaXhtZSkKK3sKKwlz
dHJ1Y3QgaW50ZWxfY29udGV4dCAqbG9jYWwsICpyZW1vdGU7CisJaW50IHBhc3M7CisJaW50IGVy
cjsKKworCS8qCisJICogQ2hlY2sgdGhhdCBvdXIgaWRsZSBiYXJyaWVycyBkbyBub3QgaW50ZXJm
ZXJlIHdpdGggbm9ybWFsCisJICogYWN0aXZpdHkgdHJhY2tpbmcuIEluIHBhcnRpY3VsYXIsIGNo
ZWNrIHRoYXQgb3BlcmF0aW5nCisJICogb24gdGhlIGNvbnRleHQgaW1hZ2UgcmVtb3RlbHkgKGlu
dGVsX2NvbnRleHRfcHJlcGFyZV9yZW1vdGVfcmVxdWVzdCkKKwkgKiB3aGljaCBpbnNlcnRzIGZv
cmllZ24gZmVuY2VzIGludG8gaW50ZWxfY29udGV4dC5hY3RpdmUgYXJlIG5vdAorCSAqIGNsb2Ji
ZXJlZC4KKwkgKi8KKworCXJlbW90ZSA9IGludGVsX2NvbnRleHRfY3JlYXRlKGZpeG1lLCBlbmdp
bmUpOworCWlmICghcmVtb3RlKQorCQlyZXR1cm4gLUVOT01FTTsKKworCWxvY2FsID0gaW50ZWxf
Y29udGV4dF9jcmVhdGUoZml4bWUsIGVuZ2luZSk7CisJaWYgKCFsb2NhbCkgeworCQllcnIgPSAt
RU5PTUVNOworCQlnb3RvIGVycl9yZW1vdGU7CisJfQorCisJZm9yIChwYXNzID0gMDsgcGFzcyA8
PSAyOyBwYXNzKyspIHsKKwkJZXJyID0gX19yZW1vdGVfc3luYyhsb2NhbCwgcmVtb3RlKTsKKwkJ
aWYgKGVycikKKwkJCWJyZWFrOworCisJCWVyciA9IF9fcmVtb3RlX3N5bmMoZW5naW5lLT5rZXJu
ZWxfY29udGV4dCwgcmVtb3RlKTsKKwkJaWYgKGVycikKKwkJCWJyZWFrOworCisJCWlmIChpOTE1
X2FjdGl2ZV9pc19pZGxlKCZyZW1vdGUtPmFjdGl2ZSkpIHsKKwkJCXByX2VycigicmVtb3RlIGNv
bnRleHQgaXMgbm90IGFjdGl2ZTsgZXhwZWN0ZWQgaWRsZS1iYXJyaWVyICglcyBwYXNzICVkKVxu
IiwKKwkJCSAgICAgICBlbmdpbmUtPm5hbWUsIHBhc3MpOworCQkJZXJyID0gLUVJTlZBTDsKKwkJ
CWJyZWFrOworCQl9CisJfQorCisJaW50ZWxfY29udGV4dF9wdXQobG9jYWwpOworZXJyX3JlbW90
ZToKKwlpbnRlbF9jb250ZXh0X3B1dChyZW1vdGUpOworCXJldHVybiBlcnI7Cit9CisKK3N0YXRp
YyBpbnQgbGl2ZV9yZW1vdGVfY29udGV4dCh2b2lkICphcmcpCit7CisJc3RydWN0IGludGVsX2d0
ICpndCA9IGFyZzsKKwlzdHJ1Y3QgaW50ZWxfZW5naW5lX2NzICplbmdpbmU7CisJc3RydWN0IGk5
MTVfZ2VtX2NvbnRleHQgKmZpeG1lOworCWVudW0gaW50ZWxfZW5naW5lX2lkIGlkOworCXN0cnVj
dCBkcm1fZmlsZSAqZmlsZTsKKwlpbnQgZXJyID0gMDsKKworCWZpbGUgPSBtb2NrX2ZpbGUoZ3Qt
Pmk5MTUpOworCWlmIChJU19FUlIoZmlsZSkpCisJCXJldHVybiBQVFJfRVJSKGZpbGUpOworCisJ
bXV0ZXhfbG9jaygmZ3QtPmk5MTUtPmRybS5zdHJ1Y3RfbXV0ZXgpOworCisJZml4bWUgPSBsaXZl
X2NvbnRleHQoZ3QtPmk5MTUsIGZpbGUpOworCWlmICghZml4bWUpIHsKKwkJZXJyID0gLUVOT01F
TTsKKwkJZ290byB1bmxvY2s7CisJfQorCisJZm9yX2VhY2hfZW5naW5lKGVuZ2luZSwgZ3QtPmk5
MTUsIGlkKSB7CisJCWVyciA9IF9fbGl2ZV9yZW1vdGVfY29udGV4dChlbmdpbmUsIGZpeG1lKTsK
KwkJaWYgKGVycikKKwkJCWJyZWFrOworCisJCWVyciA9IGlndF9mbHVzaF90ZXN0KGd0LT5pOTE1
LCBJOTE1X1dBSVRfTE9DS0VEKTsKKwkJaWYgKGVycikKKwkJCWJyZWFrOworCX0KKwordW5sb2Nr
OgorCW11dGV4X3VubG9jaygmZ3QtPmk5MTUtPmRybS5zdHJ1Y3RfbXV0ZXgpOworCW1vY2tfZmls
ZV9mcmVlKGd0LT5pOTE1LCBmaWxlKTsKKwlyZXR1cm4gZXJyOworfQorCitpbnQgaW50ZWxfY29u
dGV4dF9saXZlX3NlbGZ0ZXN0cyhzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSkKK3sKKwlz
dGF0aWMgY29uc3Qgc3RydWN0IGk5MTVfc3VidGVzdCB0ZXN0c1tdID0geworCQlTVUJURVNUKGxp
dmVfYWN0aXZlX2NvbnRleHQpLAorCQlTVUJURVNUKGxpdmVfcmVtb3RlX2NvbnRleHQpLAorCX07
CisJc3RydWN0IGludGVsX2d0ICpndCA9ICZpOTE1LT5ndDsKKworCWlmIChpbnRlbF9ndF9pc193
ZWRnZWQoZ3QpKQorCQlyZXR1cm4gMDsKKworCXJldHVybiBpbnRlbF9ndF9saXZlX3N1YnRlc3Rz
KHRlc3RzLCBndCk7Cit9CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2Fj
dGl2ZS5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9hY3RpdmUuYwppbmRleCBkMzJkYjhh
NGRiNWMuLmQwNDc3NTJiYWNjYiAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkx
NV9hY3RpdmUuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2FjdGl2ZS5jCkBAIC0z
Myw2ICszMywzOCBAQCBzdHJ1Y3QgYWN0aXZlX25vZGUgewogCXU2NCB0aW1lbGluZTsKIH07CiAK
K3N0YXRpYyBpbmxpbmUgc3RydWN0IGFjdGl2ZV9ub2RlICoKK25vZGVfZnJvbV9hY3RpdmUoc3Ry
dWN0IGk5MTVfYWN0aXZlX3JlcXVlc3QgKmFjdGl2ZSkKK3sKKwlyZXR1cm4gY29udGFpbmVyX29m
KGFjdGl2ZSwgc3RydWN0IGFjdGl2ZV9ub2RlLCBiYXNlKTsKK30KKworI2RlZmluZSBnZXRfcHJl
YWxsb2NhdGVkX2JhcnJpZXJzKHgpIGxsaXN0X2RlbF9hbGwoJih4KS0+cHJlYWxsb2NhdGVkX2Jh
cnJpZXJzKQorCitzdGF0aWMgaW5saW5lIGJvb2wgaXNfYmFycmllcihjb25zdCBzdHJ1Y3QgaTkx
NV9hY3RpdmVfcmVxdWVzdCAqYWN0aXZlKQoreworCXJldHVybiBJU19FUlIocmN1X2FjY2Vzc19w
b2ludGVyKGFjdGl2ZS0+cmVxdWVzdCkpOworfQorCitzdGF0aWMgaW5saW5lIHN0cnVjdCBsbGlz
dF9ub2RlICpiYXJyaWVyX3RvX2xsKHN0cnVjdCBhY3RpdmVfbm9kZSAqbm9kZSkKK3sKKwlHRU1f
QlVHX09OKCFpc19iYXJyaWVyKCZub2RlLT5iYXNlKSk7CisJcmV0dXJuIChzdHJ1Y3QgbGxpc3Rf
bm9kZSAqKSZub2RlLT5iYXNlLmxpbms7Cit9CisKK3N0YXRpYyBpbmxpbmUgc3RydWN0IGludGVs
X2VuZ2luZV9jcyAqCitiYXJyaWVyX3RvX2VuZ2luZShzdHJ1Y3QgYWN0aXZlX25vZGUgKm5vZGUp
Cit7CisJR0VNX0JVR19PTighaXNfYmFycmllcigmbm9kZS0+YmFzZSkpOworCXJldHVybiAoc3Ry
dWN0IGludGVsX2VuZ2luZV9jcyAqKW5vZGUtPmJhc2UubGluay5wcmV2OworfQorCitzdGF0aWMg
aW5saW5lIHN0cnVjdCBhY3RpdmVfbm9kZSAqYmFycmllcl9mcm9tX2xsKHN0cnVjdCBsbGlzdF9u
b2RlICp4KQoreworCXJldHVybiBjb250YWluZXJfb2YoKHN0cnVjdCBsaXN0X2hlYWQgKil4LAor
CQkJICAgIHN0cnVjdCBhY3RpdmVfbm9kZSwgYmFzZS5saW5rKTsKK30KKwogI2lmIElTX0VOQUJM
RUQoQ09ORklHX0RSTV9JOTE1X0RFQlVHX0dFTSkgJiYgSVNfRU5BQkxFRChDT05GSUdfREVCVUdf
T0JKRUNUUykKIAogc3RhdGljIHZvaWQgKmFjdGl2ZV9kZWJ1Z19oaW50KHZvaWQgKmFkZHIpCkBA
IC0xMjcsNyArMTU5LDcgQEAgYWN0aXZlX3JldGlyZShzdHJ1Y3QgaTkxNV9hY3RpdmUgKnJlZikK
IHN0YXRpYyB2b2lkCiBub2RlX3JldGlyZShzdHJ1Y3QgaTkxNV9hY3RpdmVfcmVxdWVzdCAqYmFz
ZSwgc3RydWN0IGk5MTVfcmVxdWVzdCAqcnEpCiB7Ci0JYWN0aXZlX3JldGlyZShjb250YWluZXJf
b2YoYmFzZSwgc3RydWN0IGFjdGl2ZV9ub2RlLCBiYXNlKS0+cmVmKTsKKwlhY3RpdmVfcmV0aXJl
KG5vZGVfZnJvbV9hY3RpdmUoYmFzZSktPnJlZik7CiB9CiAKIHN0YXRpYyBzdHJ1Y3QgaTkxNV9h
Y3RpdmVfcmVxdWVzdCAqCkBAIC0xODQsNiArMjE2LDcgQEAgYWN0aXZlX2luc3RhbmNlKHN0cnVj
dCBpOTE1X2FjdGl2ZSAqcmVmLCB1NjQgaWR4KQogCXJlZi0+Y2FjaGUgPSBub2RlOwogCW11dGV4
X3VubG9jaygmcmVmLT5tdXRleCk7CiAKKwlCVUlMRF9CVUdfT04ob2Zmc2V0b2YodHlwZW9mKCpu
b2RlKSwgYmFzZSkpOwogCXJldHVybiAmbm9kZS0+YmFzZTsKIH0KIApAQCAtMjAxLDExICsyMzQs
MzcgQEAgdm9pZCBfX2k5MTVfYWN0aXZlX2luaXQoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5
MTUsCiAJcmVmLT5yZXRpcmUgPSByZXRpcmU7CiAJcmVmLT50cmVlID0gUkJfUk9PVDsKIAlyZWYt
PmNhY2hlID0gTlVMTDsKLQlpbml0X2xsaXN0X2hlYWQoJnJlZi0+YmFycmllcnMpOworCWluaXRf
bGxpc3RfaGVhZCgmcmVmLT5wcmVhbGxvY2F0ZWRfYmFycmllcnMpOwogCWF0b21pY19zZXQoJnJl
Zi0+Y291bnQsIDApOwogCV9fbXV0ZXhfaW5pdCgmcmVmLT5tdXRleCwgImk5MTVfYWN0aXZlIiwg
a2V5KTsKIH0KIAorc3RhdGljIGJvb2wgX19hY3RpdmVfZGVsX2JhcnJpZXIoc3RydWN0IGk5MTVf
YWN0aXZlICpyZWYsCisJCQkJIHN0cnVjdCBhY3RpdmVfbm9kZSAqbm9kZSkKK3sKKwlzdHJ1Y3Qg
aW50ZWxfZW5naW5lX2NzICplbmdpbmUgPSBiYXJyaWVyX3RvX2VuZ2luZShub2RlKTsKKwlzdHJ1
Y3QgbGxpc3Rfbm9kZSAqaGVhZCA9IE5VTEwsICp0YWlsID0gTlVMTDsKKwlzdHJ1Y3QgbGxpc3Rf
bm9kZSAqcG9zLCAqbmV4dDsKKworCUdFTV9CVUdfT04obm9kZS0+dGltZWxpbmUgIT0gZW5naW5l
LT5rZXJuZWxfY29udGV4dC0+cmluZy0+dGltZWxpbmUtPmZlbmNlX2NvbnRleHQpOworCisJbGxp
c3RfZm9yX2VhY2hfc2FmZShwb3MsIG5leHQsIGxsaXN0X2RlbF9hbGwoJmVuZ2luZS0+YmFycmll
cl90YXNrcykpIHsKKwkJaWYgKG5vZGUgPT0gYmFycmllcl9mcm9tX2xsKHBvcykpIHsKKwkJCW5v
ZGUgPSBOVUxMOworCQkJY29udGludWU7CisJCX0KKworCQlwb3MtPm5leHQgPSBoZWFkOworCQlo
ZWFkID0gcG9zOworCQlpZiAoIXRhaWwpCisJCQl0YWlsID0gcG9zOworCX0KKwlpZiAoaGVhZCkK
KwkJbGxpc3RfYWRkX2JhdGNoKGhlYWQsIHRhaWwsICZlbmdpbmUtPmJhcnJpZXJfdGFza3MpOwor
CisJcmV0dXJuICFub2RlOworfQorCiBpbnQgaTkxNV9hY3RpdmVfcmVmKHN0cnVjdCBpOTE1X2Fj
dGl2ZSAqcmVmLAogCQkgICAgdTY0IHRpbWVsaW5lLAogCQkgICAgc3RydWN0IGk5MTVfcmVxdWVz
dCAqcnEpCkBAIC0yMjQsOCArMjgzLDE1IEBAIGludCBpOTE1X2FjdGl2ZV9yZWYoc3RydWN0IGk5
MTVfYWN0aXZlICpyZWYsCiAJCWdvdG8gb3V0OwogCX0KIAotCWlmICghaTkxNV9hY3RpdmVfcmVx
dWVzdF9pc3NldChhY3RpdmUpKQotCQlhdG9taWNfaW5jKCZyZWYtPmNvdW50KTsKKwlpZiAoaXNf
YmFycmllcihhY3RpdmUpKSB7IC8qIHByb3RvLW5vZGUgdXNlZCBieSBvdXIgaWRsZSBiYXJyaWVy
ICovCisJCV9fYWN0aXZlX2RlbF9iYXJyaWVyKHJlZiwgbm9kZV9mcm9tX2FjdGl2ZShhY3RpdmUp
KTsKKwkJUkNVX0lOSVRfUE9JTlRFUihhY3RpdmUtPnJlcXVlc3QsIE5VTEwpOworCQlJTklUX0xJ
U1RfSEVBRCgmYWN0aXZlLT5saW5rKTsKKwl9IGVsc2UgeworCQlpZiAoIWk5MTVfYWN0aXZlX3Jl
cXVlc3RfaXNzZXQoYWN0aXZlKSkKKwkJCWF0b21pY19pbmMoJnJlZi0+Y291bnQpOworCX0KKwlH
RU1fQlVHX09OKCFhdG9taWNfcmVhZCgmcmVmLT5jb3VudCkpOwogCV9faTkxNV9hY3RpdmVfcmVx
dWVzdF9zZXQoYWN0aXZlLCBycSk7CiAKIG91dDoKQEAgLTMxMiw2ICszNzgsMTEgQEAgaW50IGk5
MTVfYWN0aXZlX3dhaXQoc3RydWN0IGk5MTVfYWN0aXZlICpyZWYpCiAJfQogCiAJcmJ0cmVlX3Bv
c3RvcmRlcl9mb3JfZWFjaF9lbnRyeV9zYWZlKGl0LCBuLCAmcmVmLT50cmVlLCBub2RlKSB7CisJ
CWlmIChpc19iYXJyaWVyKCZpdC0+YmFzZSkpIHsgLyogdW5jb25uZWN0ZWQgaWRsZS1iYXJyaWVy
ICovCisJCQllcnIgPSAtRUJVU1k7CisJCQlicmVhazsKKwkJfQorCiAJCWVyciA9IGk5MTVfYWN0
aXZlX3JlcXVlc3RfcmV0aXJlKCZpdC0+YmFzZSwgQktMKHJlZikpOwogCQlpZiAoZXJyKQogCQkJ
YnJlYWs7CkBAIC0zNzQsNiArNDQ1LDcyIEBAIHZvaWQgaTkxNV9hY3RpdmVfZmluaShzdHJ1Y3Qg
aTkxNV9hY3RpdmUgKnJlZikKIH0KICNlbmRpZgogCitzdGF0aWMgaW5saW5lIGJvb2wgaXNfaWRs
ZV9iYXJyaWVyKHN0cnVjdCBhY3RpdmVfbm9kZSAqbm9kZSwgdTY0IGlkeCkKK3sKKwlyZXR1cm4g
bm9kZS0+dGltZWxpbmUgPT0gaWR4ICYmICFpOTE1X2FjdGl2ZV9yZXF1ZXN0X2lzc2V0KCZub2Rl
LT5iYXNlKTsKK30KKworc3RhdGljIHN0cnVjdCBhY3RpdmVfbm9kZSAqaWRsZV9iYXJyaWVyKHN0
cnVjdCBpOTE1X2FjdGl2ZSAqcmVmLCB1NjQgaWR4KQoreworCXN0cnVjdCByYl9ub2RlICpwcmV2
LCAqcDsKKworCWlmIChSQl9FTVBUWV9ST09UKCZyZWYtPnRyZWUpKQorCQlyZXR1cm4gTlVMTDsK
KworCW11dGV4X2xvY2soJnJlZi0+bXV0ZXgpOworCUdFTV9CVUdfT04oaTkxNV9hY3RpdmVfaXNf
aWRsZShyZWYpKTsKKworCWlmIChyZWYtPmNhY2hlICYmIGlzX2lkbGVfYmFycmllcihyZWYtPmNh
Y2hlLCBpZHgpKSB7CisJCXAgPSAmcmVmLT5jYWNoZS0+bm9kZTsKKwkJZ290byBtYXRjaDsKKwl9
CisKKwlwcmV2ID0gTlVMTDsKKwlwID0gcmVmLT50cmVlLnJiX25vZGU7CisJd2hpbGUgKHApIHsK
KwkJc3RydWN0IGFjdGl2ZV9ub2RlICpub2RlID0KKwkJCXJiX2VudHJ5KHAsIHN0cnVjdCBhY3Rp
dmVfbm9kZSwgbm9kZSk7CisKKwkJaWYgKGlzX2lkbGVfYmFycmllcihub2RlLCBpZHgpKQorCQkJ
Z290byBtYXRjaDsKKworCQlwcmV2ID0gcDsKKwkJaWYgKG5vZGUtPnRpbWVsaW5lIDwgaWR4KQor
CQkJcCA9IHAtPnJiX3JpZ2h0OworCQllbHNlCisJCQlwID0gcC0+cmJfbGVmdDsKKwl9CisKKwlm
b3IgKHAgPSBwcmV2OyBwOyBwID0gcmJfbmV4dChwKSkgeworCQlzdHJ1Y3QgYWN0aXZlX25vZGUg
Km5vZGUgPQorCQkJcmJfZW50cnkocCwgc3RydWN0IGFjdGl2ZV9ub2RlLCBub2RlKTsKKworCQlp
ZiAobm9kZS0+dGltZWxpbmUgPiBpZHgpCisJCQlicmVhazsKKworCQlpZiAobm9kZS0+dGltZWxp
bmUgPCBpZHgpCisJCQljb250aW51ZTsKKworCQlpZiAoIWk5MTVfYWN0aXZlX3JlcXVlc3RfaXNz
ZXQoJm5vZGUtPmJhc2UpKQorCQkJZ290byBtYXRjaDsKKworCQlpZiAoaXNfYmFycmllcigmbm9k
ZS0+YmFzZSkgJiYgX19hY3RpdmVfZGVsX2JhcnJpZXIocmVmLCBub2RlKSkKKwkJCWdvdG8gbWF0
Y2g7CisJfQorCisJbXV0ZXhfdW5sb2NrKCZyZWYtPm11dGV4KTsKKworCXJldHVybiBOVUxMOwor
CittYXRjaDoKKwlyYl9lcmFzZShwLCAmcmVmLT50cmVlKTsKKwlpZiAocCA9PSAmcmVmLT5jYWNo
ZS0+bm9kZSkKKwkJcmVmLT5jYWNoZSA9IE5VTEw7CisJbXV0ZXhfdW5sb2NrKCZyZWYtPm11dGV4
KTsKKworCXJldHVybiByYl9lbnRyeShwLCBzdHJ1Y3QgYWN0aXZlX25vZGUsIG5vZGUpOworfQor
CiBpbnQgaTkxNV9hY3RpdmVfYWNxdWlyZV9wcmVhbGxvY2F0ZV9iYXJyaWVyKHN0cnVjdCBpOTE1
X2FjdGl2ZSAqcmVmLAogCQkJCQkgICAgc3RydWN0IGludGVsX2VuZ2luZV9jcyAqZW5naW5lKQog
ewpAQCAtMzgyLDM5ICs1MTksNTIgQEAgaW50IGk5MTVfYWN0aXZlX2FjcXVpcmVfcHJlYWxsb2Nh
dGVfYmFycmllcihzdHJ1Y3QgaTkxNV9hY3RpdmUgKnJlZiwKIAlzdHJ1Y3QgbGxpc3Rfbm9kZSAq
cG9zLCAqbmV4dDsKIAlpbnQgZXJyOwogCi0JR0VNX0JVR19PTighbWFzayk7CisJR0VNX0JVR19P
TighbGxpc3RfZW1wdHkoJnJlZi0+cHJlYWxsb2NhdGVkX2JhcnJpZXJzKSk7CisKKwkvKgorCSAq
IFByZWFsbG9jYXRlIGEgbm9kZSBmb3IgZWFjaCBwaHlzaWNhbCBlbmdpbmUgc3VwcG9ydGluZyB0
aGUgdGFyZ2V0CisJICogZW5naW5lIChyZW1lbWJlciB2aXJ0dWFsIGVuZ2luZXMgaGF2ZSBtb3Jl
IHRoYW4gb25lIHNpYmxpbmcpLgorCSAqIFdlIGNhbiB0aGVuIHVzZSB0aGUgcHJlYWxsb2NhdGVk
IG5vZGVzIGluCisJICogaTkxNV9hY3RpdmVfYWNxdWlyZV9iYXJyaWVyKCkKKwkgKi8KIAlmb3Jf
ZWFjaF9lbmdpbmVfbWFza2VkKGVuZ2luZSwgaTkxNSwgbWFzaywgdG1wKSB7Ci0JCXN0cnVjdCBp
bnRlbF9jb250ZXh0ICprY3R4ID0gZW5naW5lLT5rZXJuZWxfY29udGV4dDsKKwkJdTY0IGlkeCA9
IGVuZ2luZS0+a2VybmVsX2NvbnRleHQtPnJpbmctPnRpbWVsaW5lLT5mZW5jZV9jb250ZXh0Owog
CQlzdHJ1Y3QgYWN0aXZlX25vZGUgKm5vZGU7CiAKLQkJbm9kZSA9IGttZW1fY2FjaGVfYWxsb2Mo
Z2xvYmFsLnNsYWJfY2FjaGUsIEdGUF9LRVJORUwpOwotCQlpZiAodW5saWtlbHkoIW5vZGUpKSB7
Ci0JCQllcnIgPSAtRU5PTUVNOwotCQkJZ290byB1bndpbmQ7CisJCW5vZGUgPSBpZGxlX2JhcnJp
ZXIocmVmLCBpZHgpOworCQlpZiAoIW5vZGUpIHsKKwkJCW5vZGUgPSBrbWVtX2NhY2hlX2FsbG9j
KGdsb2JhbC5zbGFiX2NhY2hlLCBHRlBfS0VSTkVMKTsKKwkJCWlmICghbm9kZSkgeworCQkJCWVy
ciA9IEVOT01FTTsKKwkJCQlnb3RvIHVud2luZDsKKwkJCX0KKworCQkJUkNVX0lOSVRfUE9JTlRF
Uihub2RlLT5iYXNlLnJlcXVlc3QsIE5VTEwpOworCQkJbm9kZS0+YmFzZS5yZXRpcmUgPSBub2Rl
X3JldGlyZTsKKwkJCW5vZGUtPnRpbWVsaW5lID0gaWR4OworCQkJbm9kZS0+cmVmID0gcmVmOwog
CQl9CiAKLQkJaTkxNV9hY3RpdmVfcmVxdWVzdF9pbml0KCZub2RlLT5iYXNlLAotCQkJCQkgKHZv
aWQgKillbmdpbmUsIG5vZGVfcmV0aXJlKTsKLQkJbm9kZS0+dGltZWxpbmUgPSBrY3R4LT5yaW5n
LT50aW1lbGluZS0+ZmVuY2VfY29udGV4dDsKLQkJbm9kZS0+cmVmID0gcmVmOwotCQlhdG9taWNf
aW5jKCZyZWYtPmNvdW50KTsKKwkJaWYgKCFpOTE1X2FjdGl2ZV9yZXF1ZXN0X2lzc2V0KCZub2Rl
LT5iYXNlKSkgeworCQkJUkNVX0lOSVRfUE9JTlRFUihub2RlLT5iYXNlLnJlcXVlc3QsIEVSUl9Q
VFIoLUVBR0FJTikpOworCQkJbm9kZS0+YmFzZS5saW5rLnByZXYgPSAodm9pZCAqKWVuZ2luZTsK
KwkJCWF0b21pY19pbmMoJnJlZi0+Y291bnQpOworCQl9CiAKKwkJR0VNX0JVR19PTihiYXJyaWVy
X3RvX2VuZ2luZShub2RlKSAhPSBlbmdpbmUpOworCQlsbGlzdF9hZGQoYmFycmllcl90b19sbChu
b2RlKSwgJnJlZi0+cHJlYWxsb2NhdGVkX2JhcnJpZXJzKTsKIAkJaW50ZWxfZW5naW5lX3BtX2dl
dChlbmdpbmUpOwotCQlsbGlzdF9hZGQoKHN0cnVjdCBsbGlzdF9ub2RlICopJm5vZGUtPmJhc2Uu
bGluaywKLQkJCSAgJnJlZi0+YmFycmllcnMpOwogCX0KIAogCXJldHVybiAwOwogCiB1bndpbmQ6
Ci0JbGxpc3RfZm9yX2VhY2hfc2FmZShwb3MsIG5leHQsIGxsaXN0X2RlbF9hbGwoJnJlZi0+YmFy
cmllcnMpKSB7Ci0JCXN0cnVjdCBhY3RpdmVfbm9kZSAqbm9kZTsKKwlsbGlzdF9mb3JfZWFjaF9z
YWZlKHBvcywgbmV4dCwgZ2V0X3ByZWFsbG9jYXRlZF9iYXJyaWVycyhyZWYpKSB7CisJCXN0cnVj
dCBhY3RpdmVfbm9kZSAqbm9kZSA9IGJhcnJpZXJfZnJvbV9sbChwb3MpOwogCi0JCW5vZGUgPSBj
b250YWluZXJfb2YoKHN0cnVjdCBsaXN0X2hlYWQgKilwb3MsCi0JCQkJICAgIHR5cGVvZigqbm9k
ZSksIGJhc2UubGluayk7Ci0JCWVuZ2luZSA9ICh2b2lkICopcmN1X2FjY2Vzc19wb2ludGVyKG5v
ZGUtPmJhc2UucmVxdWVzdCk7CisJCWF0b21pY19kZWMoJnJlZi0+Y291bnQpOworCQlpbnRlbF9l
bmdpbmVfcG1fcHV0KGJhcnJpZXJfdG9fZW5naW5lKG5vZGUpKTsKIAotCQlpbnRlbF9lbmdpbmVf
cG1fcHV0KGVuZ2luZSk7CiAJCWttZW1fY2FjaGVfZnJlZShnbG9iYWwuc2xhYl9jYWNoZSwgbm9k
ZSk7CiAJfQogCXJldHVybiBlcnI7CkBAIC00MjYsMjUgKzU3NiwyNyBAQCB2b2lkIGk5MTVfYWN0
aXZlX2FjcXVpcmVfYmFycmllcihzdHJ1Y3QgaTkxNV9hY3RpdmUgKnJlZikKIAogCUdFTV9CVUdf
T04oaTkxNV9hY3RpdmVfaXNfaWRsZShyZWYpKTsKIAorCS8qCisJICogVHJhbnNmZXIgdGhlIGxp
c3Qgb2YgcHJlYWxsb2NhdGVkIGJhcnJpZXJzIGludG8gdGhlCisJICogaTkxNV9hY3RpdmUgcmJ0
cmVlLCBidXQgb25seSBhcyBwcm90by1ub2Rlcy4gVGhleSB3aWxsIGJlCisJICogcG9wdWxhdGVk
IGJ5IGk5MTVfcmVxdWVzdF9hZGRfYWN0aXZlX2JhcnJpZXIoKSB0byBwb2ludCB0byB0aGUKKwkg
KiByZXF1ZXN0IHRoYXQgd2lsbCBldmVudHVhbGx5IHJlbGVhc2UgdGhlbS4KKwkgKi8KIAltdXRl
eF9sb2NrX25lc3RlZCgmcmVmLT5tdXRleCwgU0lOR0xFX0RFUFRIX05FU1RJTkcpOwotCWxsaXN0
X2Zvcl9lYWNoX3NhZmUocG9zLCBuZXh0LCBsbGlzdF9kZWxfYWxsKCZyZWYtPmJhcnJpZXJzKSkg
ewotCQlzdHJ1Y3QgaW50ZWxfZW5naW5lX2NzICplbmdpbmU7Ci0JCXN0cnVjdCBhY3RpdmVfbm9k
ZSAqbm9kZTsKKwlsbGlzdF9mb3JfZWFjaF9zYWZlKHBvcywgbmV4dCwgZ2V0X3ByZWFsbG9jYXRl
ZF9iYXJyaWVycyhyZWYpKSB7CisJCXN0cnVjdCBhY3RpdmVfbm9kZSAqbm9kZSA9IGJhcnJpZXJf
ZnJvbV9sbChwb3MpOworCQlzdHJ1Y3QgaW50ZWxfZW5naW5lX2NzICplbmdpbmUgPSBiYXJyaWVy
X3RvX2VuZ2luZShub2RlKTsKIAkJc3RydWN0IHJiX25vZGUgKipwLCAqcGFyZW50OwogCi0JCW5v
ZGUgPSBjb250YWluZXJfb2YoKHN0cnVjdCBsaXN0X2hlYWQgKilwb3MsCi0JCQkJICAgIHR5cGVv
Zigqbm9kZSksIGJhc2UubGluayk7Ci0KLQkJZW5naW5lID0gKHZvaWQgKilyY3VfYWNjZXNzX3Bv
aW50ZXIobm9kZS0+YmFzZS5yZXF1ZXN0KTsKLQkJUkNVX0lOSVRfUE9JTlRFUihub2RlLT5iYXNl
LnJlcXVlc3QsIEVSUl9QVFIoLUVBR0FJTikpOwotCiAJCXBhcmVudCA9IE5VTEw7CiAJCXAgPSAm
cmVmLT50cmVlLnJiX25vZGU7CiAJCXdoaWxlICgqcCkgeworCQkJc3RydWN0IGFjdGl2ZV9ub2Rl
ICppdDsKKwogCQkJcGFyZW50ID0gKnA7Ci0JCQlpZiAocmJfZW50cnkocGFyZW50LAotCQkJCSAg
ICAgc3RydWN0IGFjdGl2ZV9ub2RlLAotCQkJCSAgICAgbm9kZSktPnRpbWVsaW5lIDwgbm9kZS0+
dGltZWxpbmUpCisKKwkJCWl0ID0gcmJfZW50cnkocGFyZW50LCBzdHJ1Y3QgYWN0aXZlX25vZGUs
IG5vZGUpOworCQkJaWYgKGl0LT50aW1lbGluZSA8IG5vZGUtPnRpbWVsaW5lKQogCQkJCXAgPSAm
cGFyZW50LT5yYl9yaWdodDsKIAkJCWVsc2UKIAkJCQlwID0gJnBhcmVudC0+cmJfbGVmdDsKQEAg
LTQ1MiwyMCArNjA0LDI5IEBAIHZvaWQgaTkxNV9hY3RpdmVfYWNxdWlyZV9iYXJyaWVyKHN0cnVj
dCBpOTE1X2FjdGl2ZSAqcmVmKQogCQlyYl9saW5rX25vZGUoJm5vZGUtPm5vZGUsIHBhcmVudCwg
cCk7CiAJCXJiX2luc2VydF9jb2xvcigmbm9kZS0+bm9kZSwgJnJlZi0+dHJlZSk7CiAKLQkJbGxp
c3RfYWRkKChzdHJ1Y3QgbGxpc3Rfbm9kZSAqKSZub2RlLT5iYXNlLmxpbmssCi0JCQkgICZlbmdp
bmUtPmJhcnJpZXJfdGFza3MpOworCQlsbGlzdF9hZGQoYmFycmllcl90b19sbChub2RlKSwgJmVu
Z2luZS0+YmFycmllcl90YXNrcyk7CiAJCWludGVsX2VuZ2luZV9wbV9wdXQoZW5naW5lKTsKIAl9
CiAJbXV0ZXhfdW5sb2NrKCZyZWYtPm11dGV4KTsKIH0KIAotdm9pZCBpOTE1X3JlcXVlc3RfYWRk
X2JhcnJpZXJzKHN0cnVjdCBpOTE1X3JlcXVlc3QgKnJxKQordm9pZCBpOTE1X3JlcXVlc3RfYWRk
X2FjdGl2ZV9iYXJyaWVycyhzdHJ1Y3QgaTkxNV9yZXF1ZXN0ICpycSkKIHsKIAlzdHJ1Y3QgaW50
ZWxfZW5naW5lX2NzICplbmdpbmUgPSBycS0+ZW5naW5lOwogCXN0cnVjdCBsbGlzdF9ub2RlICpu
b2RlLCAqbmV4dDsKIAotCWxsaXN0X2Zvcl9lYWNoX3NhZmUobm9kZSwgbmV4dCwgbGxpc3RfZGVs
X2FsbCgmZW5naW5lLT5iYXJyaWVyX3Rhc2tzKSkKKwlHRU1fQlVHX09OKGludGVsX2VuZ2luZV9p
c192aXJ0dWFsKGVuZ2luZSkpOworCUdFTV9CVUdfT04ocnEtPnRpbWVsaW5lICE9IGVuZ2luZS0+
a2VybmVsX2NvbnRleHQtPnJpbmctPnRpbWVsaW5lKTsKKworCS8qCisJICogQXR0YWNoIHRoZSBs
aXN0IG9mIHByb3RvLWZlbmNlcyB0byB0aGUgaW4tZmxpZ2h0IHJlcXVlc3Qgc3VjaAorCSAqIHRo
YXQgdGhlIHBhcmVudCBpOTE1X2FjdGl2ZSB3aWxsIGJlIHJlbGVhc2VkIHdoZW4gdGhpcyByZXF1
ZXN0CisJICogaXMgcmV0aXJlZC4KKwkgKi8KKwlsbGlzdF9mb3JfZWFjaF9zYWZlKG5vZGUsIG5l
eHQsIGxsaXN0X2RlbF9hbGwoJmVuZ2luZS0+YmFycmllcl90YXNrcykpIHsKKwkJUkNVX0lOSVRf
UE9JTlRFUihiYXJyaWVyX2Zyb21fbGwobm9kZSktPmJhc2UucmVxdWVzdCwgcnEpOwogCQlsaXN0
X2FkZF90YWlsKChzdHJ1Y3QgbGlzdF9oZWFkICopbm9kZSwgJnJxLT5hY3RpdmVfbGlzdCk7CisJ
fQogfQogCiBpbnQgaTkxNV9hY3RpdmVfcmVxdWVzdF9zZXQoc3RydWN0IGk5MTVfYWN0aXZlX3Jl
cXVlc3QgKmFjdGl2ZSwKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfYWN0
aXZlLmggYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2FjdGl2ZS5oCmluZGV4IGJhNjhiMDc3
ZWM2Yy4uNTY2MzM2Yzk5ZWQ3IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1
X2FjdGl2ZS5oCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfYWN0aXZlLmgKQEAgLTQx
Myw2ICs0MTMsNiBAQCBzdGF0aWMgaW5saW5lIHZvaWQgaTkxNV9hY3RpdmVfZmluaShzdHJ1Y3Qg
aTkxNV9hY3RpdmUgKnJlZikgeyB9CiBpbnQgaTkxNV9hY3RpdmVfYWNxdWlyZV9wcmVhbGxvY2F0
ZV9iYXJyaWVyKHN0cnVjdCBpOTE1X2FjdGl2ZSAqcmVmLAogCQkJCQkgICAgc3RydWN0IGludGVs
X2VuZ2luZV9jcyAqZW5naW5lKTsKIHZvaWQgaTkxNV9hY3RpdmVfYWNxdWlyZV9iYXJyaWVyKHN0
cnVjdCBpOTE1X2FjdGl2ZSAqcmVmKTsKLXZvaWQgaTkxNV9yZXF1ZXN0X2FkZF9iYXJyaWVycyhz
dHJ1Y3QgaTkxNV9yZXF1ZXN0ICpycSk7Cit2b2lkIGk5MTVfcmVxdWVzdF9hZGRfYWN0aXZlX2Jh
cnJpZXJzKHN0cnVjdCBpOTE1X3JlcXVlc3QgKnJxKTsKIAogI2VuZGlmIC8qIF9JOTE1X0FDVElW
RV9IXyAqLwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9hY3RpdmVfdHlw
ZXMuaCBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfYWN0aXZlX3R5cGVzLmgKaW5kZXggNzQ3
NDNkZDBkNWYwLi5hZTNlZTQ0MWMxMTQgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1
L2k5MTVfYWN0aXZlX3R5cGVzLmgKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9hY3Rp
dmVfdHlwZXMuaApAQCAtNDIsNyArNDIsNyBAQCBzdHJ1Y3QgaTkxNV9hY3RpdmUgewogCWludCAo
KmFjdGl2ZSkoc3RydWN0IGk5MTVfYWN0aXZlICpyZWYpOwogCXZvaWQgKCpyZXRpcmUpKHN0cnVj
dCBpOTE1X2FjdGl2ZSAqcmVmKTsKIAotCXN0cnVjdCBsbGlzdF9oZWFkIGJhcnJpZXJzOworCXN0
cnVjdCBsbGlzdF9oZWFkIHByZWFsbG9jYXRlZF9iYXJyaWVyczsKIH07CiAKICNlbmRpZiAvKiBf
STkxNV9BQ1RJVkVfVFlQRVNfSF8gKi8KZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1
L3NlbGZ0ZXN0cy9pOTE1X2xpdmVfc2VsZnRlc3RzLmggYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9z
ZWxmdGVzdHMvaTkxNV9saXZlX3NlbGZ0ZXN0cy5oCmluZGV4IDJiMzFhNGVlMGI0Yy4uYTg0MWQz
ZjliZWRjIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9zZWxmdGVzdHMvaTkxNV9s
aXZlX3NlbGZ0ZXN0cy5oCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L3NlbGZ0ZXN0cy9pOTE1
X2xpdmVfc2VsZnRlc3RzLmgKQEAgLTE1LDYgKzE1LDcgQEAgc2VsZnRlc3Qod29ya2Fyb3VuZHMs
IGludGVsX3dvcmthcm91bmRzX2xpdmVfc2VsZnRlc3RzKQogc2VsZnRlc3QodGltZWxpbmVzLCBp
bnRlbF90aW1lbGluZV9saXZlX3NlbGZ0ZXN0cykKIHNlbGZ0ZXN0KHJlcXVlc3RzLCBpOTE1X3Jl
cXVlc3RfbGl2ZV9zZWxmdGVzdHMpCiBzZWxmdGVzdChhY3RpdmUsIGk5MTVfYWN0aXZlX2xpdmVf
c2VsZnRlc3RzKQorc2VsZnRlc3QoZ3RfY29udGV4dHMsIGludGVsX2NvbnRleHRfbGl2ZV9zZWxm
dGVzdHMpCiBzZWxmdGVzdChvYmplY3RzLCBpOTE1X2dlbV9vYmplY3RfbGl2ZV9zZWxmdGVzdHMp
CiBzZWxmdGVzdChtbWFuLCBpOTE1X2dlbV9tbWFuX2xpdmVfc2VsZnRlc3RzKQogc2VsZnRlc3Qo
ZG1hYnVmLCBpOTE1X2dlbV9kbWFidWZfbGl2ZV9zZWxmdGVzdHMpCkBAIC0yNCw3ICsyNSw3IEBA
IHNlbGZ0ZXN0KGd0dCwgaTkxNV9nZW1fZ3R0X2xpdmVfc2VsZnRlc3RzKQogc2VsZnRlc3QoZ2Vt
LCBpOTE1X2dlbV9saXZlX3NlbGZ0ZXN0cykKIHNlbGZ0ZXN0KGV2aWN0LCBpOTE1X2dlbV9ldmlj
dF9saXZlX3NlbGZ0ZXN0cykKIHNlbGZ0ZXN0KGh1Z2VwYWdlcywgaTkxNV9nZW1faHVnZV9wYWdl
X2xpdmVfc2VsZnRlc3RzKQotc2VsZnRlc3QoY29udGV4dHMsIGk5MTVfZ2VtX2NvbnRleHRfbGl2
ZV9zZWxmdGVzdHMpCitzZWxmdGVzdChnZW1fY29udGV4dHMsIGk5MTVfZ2VtX2NvbnRleHRfbGl2
ZV9zZWxmdGVzdHMpCiBzZWxmdGVzdChibHQsIGk5MTVfZ2VtX29iamVjdF9ibHRfbGl2ZV9zZWxm
dGVzdHMpCiBzZWxmdGVzdChjbGllbnQsIGk5MTVfZ2VtX2NsaWVudF9ibHRfbGl2ZV9zZWxmdGVz
dHMpCiBzZWxmdGVzdChyZXNldCwgaW50ZWxfcmVzZXRfbGl2ZV9zZWxmdGVzdHMpCi0tIAoyLjIy
LjAKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCkludGVs
LWdmeCBtYWlsaW5nIGxpc3QKSW50ZWwtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczov
L2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2ludGVsLWdmeA==

Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 679EE3D68B6
	for <lists+intel-gfx@lfdr.de>; Mon, 26 Jul 2021 23:34:15 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 21CA16E878;
	Mon, 26 Jul 2021 21:34:13 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga02.intel.com (mga02.intel.com [134.134.136.20])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 9B94C6E878
 for <intel-gfx@lists.freedesktop.org>; Mon, 26 Jul 2021 21:34:12 +0000 (UTC)
X-IronPort-AV: E=McAfee;i="6200,9189,10057"; a="199505333"
X-IronPort-AV: E=Sophos;i="5.84,272,1620716400"; d="scan'208";a="199505333"
Received: from fmsmga003.fm.intel.com ([10.253.24.29])
 by orsmga101.jf.intel.com with ESMTP/TLS/ECDHE-RSA-AES256-GCM-SHA384;
 26 Jul 2021 14:34:11 -0700
X-IronPort-AV: E=Sophos;i="5.84,272,1620716400"; d="scan'208";a="505186461"
Received: from jfogerty-mobl1.amr.corp.intel.com (HELO msatwood-mobl)
 ([10.212.220.141])
 by fmsmga003-auth.fm.intel.com with ESMTP/TLS/ECDHE-RSA-AES256-GCM-SHA384;
 26 Jul 2021 14:34:07 -0700
Date: Mon, 26 Jul 2021 14:33:53 -0700
From: Matt Atwood <matthew.s.atwood@intel.com>
To: =?utf-8?B?Sm9zw6k=?= Roberto de Souza <jose.souza@intel.com>;,
 intel-gfx@lists.freedesktop.org
Message-ID: <20210726213353.GB22643@msatwood-mobl>
References: <20210722054338.12891-1-jose.souza@intel.com>
 <20210722054338.12891-2-jose.souza@intel.com>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <20210722054338.12891-2-jose.souza@intel.com>
Subject: Re: [Intel-gfx] [PATCH 02/10] drm/i915/bios: Start to support two
 integrated panels
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

T24gV2VkLCBKdWwgMjEsIDIwMjEgYXQgMTA6NDM6MzBQTSAtMDcwMCwgSm9zw6kgUm9iZXJ0byBk
ZSBTb3V6YSB3cm90ZToKPiBWQlQgaGFzIHN1cHBvcnQgZm9yIHVwIHR3byBpbnRlZ3JhdGVkIHBh
bmVscyBidXQgaTkxNSBvbmx5IHN1cHBvcnRzIG9uZS4KPiAKPiBTbyBoZXJlIHN0YXRpbmcgdG8g
YWRkIHRoZSBiYXNpYyBzdXBwb3J0IGZvciB0d28gaW50ZWdyYXRlZCBwYW5lbHMKPiBhbmQgbW92
aW5nIHRoZSBEUlJTIHRvIGRkaV92YnRfcG9ydF9pbmZvIGluc3RlYWQgb2Yga2VlcGluZyBhIGds
b2JhbAo+IG9uZS4KPiBPdGhlciBWQlQgYmxvY2tzIHdpbGwgYmUgY29udmVydGVkIGluIGZvbGxv
d2luZyBwYXRjaGVzLgo+IAo+IFdoaWxlIGF0IGlzIGFsc28gbnVja2luZyBsdmRzX2RpdGhlciBh
cyBpdCBpcyBub3QgdXNlZC4KPiAKPiBDYzogVmlsbGUgU3lyasOkbMOkIDx2aWxsZS5zeXJqYWxh
QGxpbnV4LmludGVsLmNvbT4KPiBDYzogSmFuaSBOaWt1bGEgPGphbmkubmlrdWxhQGludGVsLmNv
bT4KPiBTaWduZWQtb2ZmLWJ5OiBKb3PDqSBSb2JlcnRvIGRlIFNvdXphIDxqb3NlLnNvdXphQGlu
dGVsLmNvbT4KUmV2aWV3ZWQtYnk6IE1hdHQgQXR3b29kIDxtYXR0aGV3LnMuYXR3b29kQGludGVs
LmNvbT4KPiAtLS0KPiAgZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9iaW9zLmMg
ICAgIHwgMTg1ICsrKysrKysrKysrKystLS0tLQo+ICBkcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNw
bGF5L2ludGVsX2Jpb3MuaCAgICAgfCAgIDIgKwo+ICBkcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNw
bGF5L2ludGVsX2RwLmMgICAgICAgfCAgIDUgKy0KPiAgZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlz
cGxheS9pbnRlbF92YnRfZGVmcy5oIHwgICAzICsKPiAgZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkx
NV9kcnYuaCAgICAgICAgICAgICAgIHwgICA1ICstCj4gIDUgZmlsZXMgY2hhbmdlZCwgMTUwIGlu
c2VydGlvbnMoKyksIDUwIGRlbGV0aW9ucygtKQo+IAo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dw
dS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Jpb3MuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rp
c3BsYXkvaW50ZWxfYmlvcy5jCj4gaW5kZXggNWJjMmM5NDRkOTliNC4uMmI5MGVmYjQxZWNjZSAx
MDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Jpb3MuYwo+
ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfYmlvcy5jCj4gQEAgLTIx
MSwyMiArMjExLDIwIEBAIGdldF9sdmRzX2ZwX3RpbWluZyhjb25zdCBzdHJ1Y3QgYmRiX2hlYWRl
ciAqYmRiLAo+ICAJcmV0dXJuIChjb25zdCBzdHJ1Y3QgbHZkc19mcF90aW1pbmcgKikoKGNvbnN0
IHU4ICopYmRiICsgb2ZzKTsKPiAgfQo+ICAKPiAtLyogUGFyc2UgZ2VuZXJhbCBwYW5lbCBvcHRp
b25zICovCj4gLXN0YXRpYyB2b2lkCj4gLXBhcnNlX3BhbmVsX29wdGlvbnMoc3RydWN0IGRybV9p
OTE1X3ByaXZhdGUgKmk5MTUsCj4gLQkJICAgIGNvbnN0IHN0cnVjdCBiZGJfaGVhZGVyICpiZGIp
Cj4gKy8qCj4gKyAqIFBhcnNlIGFuZCBzZXQgdmJ0LnBhbmVsX3R5cGUsIGl0IHdpbGwgYmUgdXNl
ZCBieSB0aGUgVkJUIGJsb2NrcyB0aGF0IGFyZQo+ICsgKiBub3QgYmVpbmcgY2FsbGVkIGZyb20g
cGFyc2VfaW50ZWdyYXRlZF9wYW5lbCgpIHlldC4KPiArICovCj4gK3N0YXRpYyB2b2lkIHBhcnNl
X3BhbmVsX3R5cGUoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUsCj4gKwkJCSAgICAgY29u
c3Qgc3RydWN0IGJkYl9oZWFkZXIgKmJkYikKPiAgewo+ICAJY29uc3Qgc3RydWN0IGJkYl9sdmRz
X29wdGlvbnMgKmx2ZHNfb3B0aW9uczsKPiAtCWludCBwYW5lbF90eXBlOwo+IC0JaW50IGRycnNf
bW9kZTsKPiAtCWludCByZXQ7Cj4gKwlpbnQgcmV0LCBwYW5lbF90eXBlOwo+ICAKPiAgCWx2ZHNf
b3B0aW9ucyA9IGZpbmRfc2VjdGlvbihiZGIsIEJEQl9MVkRTX09QVElPTlMpOwo+ICAJaWYgKCFs
dmRzX29wdGlvbnMpCj4gIAkJcmV0dXJuOwo+ICAKPiAtCWk5MTUtPnZidC5sdmRzX2RpdGhlciA9
IGx2ZHNfb3B0aW9ucy0+cGl4ZWxfZGl0aGVyOwo+IC0KPiAgCXJldCA9IGludGVsX29wcmVnaW9u
X2dldF9wYW5lbF90eXBlKGk5MTUpOwo+ICAJaWYgKHJldCA+PSAwKSB7Cj4gIAkJZHJtX1dBUk5f
T04oJmk5MTUtPmRybSwgcmV0ID4gMHhmKTsKPiBAQCAtMjQ2LDkgKzI0NCwyNSBAQCBwYXJzZV9w
YW5lbF9vcHRpb25zKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICppOTE1LAo+ICAJfQo+ICAKPiAg
CWk5MTUtPnZidC5wYW5lbF90eXBlID0gcGFuZWxfdHlwZTsKPiArfQo+ICsKPiArLyogUGFyc2Ug
Z2VuZXJhbCBwYW5lbCBvcHRpb25zICovCj4gK3N0YXRpYyB2b2lkCj4gK3BhcnNlX3BhbmVsX29w
dGlvbnMoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUsCj4gKwkJICAgIGNvbnN0IHN0cnVj
dCBiZGJfaGVhZGVyICpiZGIsCj4gKwkJICAgIHN0cnVjdCBkZGlfdmJ0X3BvcnRfaW5mbyAqaW5m
bywKPiArCQkgICAgaW50IHBhbmVsX2luZGV4KQo+ICt7Cj4gKwljb25zdCBzdHJ1Y3QgYmRiX2x2
ZHNfb3B0aW9ucyAqbHZkc19vcHRpb25zOwo+ICsJaW50IGRycnNfbW9kZTsKPiArCj4gKwlsdmRz
X29wdGlvbnMgPSBmaW5kX3NlY3Rpb24oYmRiLCBCREJfTFZEU19PUFRJT05TKTsKPiArCWlmICgh
bHZkc19vcHRpb25zKQo+ICsJCXJldHVybjsKPiArCj4gKwlkcnJzX21vZGUgPSBsdmRzX29wdGlv
bnMtPmRwc19wYW5lbF90eXBlX2JpdHMgPj4gKHBhbmVsX2luZGV4ICogMik7Cj4gKwlkcnJzX21v
ZGUgJj0gTU9ERV9NQVNLOwo+ICAKPiAtCWRycnNfbW9kZSA9IChsdmRzX29wdGlvbnMtPmRwc19w
YW5lbF90eXBlX2JpdHMKPiAtCQkJCT4+IChwYW5lbF90eXBlICogMikpICYgTU9ERV9NQVNLOwo+
ICAJLyoKPiAgCSAqIFZCVCBoYXMgc3RhdGljIERSUlMgPSAwIGFuZCBzZWFtbGVzcyBEUlJTID0g
Mi4KPiAgCSAqIFRoZSBiZWxvdyBwaWVjZSBvZiBjb2RlIGlzIHJlcXVpcmVkIHRvIGFkanVzdCB2
YnQuZHJyc190eXBlCj4gQEAgLTI1NiwxNiArMjcwLDE2IEBAIHBhcnNlX3BhbmVsX29wdGlvbnMo
c3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUsCj4gIAkgKi8KPiAgCXN3aXRjaCAoZHJyc19t
b2RlKSB7Cj4gIAljYXNlIDA6Cj4gLQkJaTkxNS0+dmJ0LmRycnNfdHlwZSA9IFNUQVRJQ19EUlJT
X1NVUFBPUlQ7Cj4gKwkJaW5mby0+ZHJyc190eXBlID0gU1RBVElDX0RSUlNfU1VQUE9SVDsKPiAg
CQlkcm1fZGJnX2ttcygmaTkxNS0+ZHJtLCAiRFJSUyBzdXBwb3J0ZWQgbW9kZSBpcyBzdGF0aWNc
biIpOwo+ICAJCWJyZWFrOwo+ICAJY2FzZSAyOgo+IC0JCWk5MTUtPnZidC5kcnJzX3R5cGUgPSBT
RUFNTEVTU19EUlJTX1NVUFBPUlQ7Cj4gKwkJaW5mby0+ZHJyc190eXBlID0gU0VBTUxFU1NfRFJS
U19TVVBQT1JUOwo+ICAJCWRybV9kYmdfa21zKCZpOTE1LT5kcm0sCj4gIAkJCSAgICAiRFJSUyBz
dXBwb3J0ZWQgbW9kZSBpcyBzZWFtbGVzc1xuIik7Cj4gIAkJYnJlYWs7Cj4gIAlkZWZhdWx0Ogo+
IC0JCWk5MTUtPnZidC5kcnJzX3R5cGUgPSBEUlJTX05PVF9TVVBQT1JURUQ7Cj4gKwkJaW5mby0+
ZHJyc190eXBlID0gRFJSU19OT1RfU1VQUE9SVEVEOwo+ICAJCWRybV9kYmdfa21zKCZpOTE1LT5k
cm0sCj4gIAkJCSAgICAiRFJSUyBub3Qgc3VwcG9ydGVkIChWQlQgaW5wdXQpXG4iKTsKPiAgCQli
cmVhazsKPiBAQCAtNzEwLDI4ICs3MjQsNDIgQEAgcGFyc2VfZHJpdmVyX2ZlYXR1cmVzKHN0cnVj
dCBkcm1faTkxNV9wcml2YXRlICppOTE1LAo+ICAJCQlpOTE1LT52YnQuaW50X2x2ZHNfc3VwcG9y
dCA9IDA7Cj4gIAl9Cj4gIAo+IC0JaWYgKGJkYi0+dmVyc2lvbiA8IDIyOCkgewo+IC0JCWRybV9k
Ymdfa21zKCZpOTE1LT5kcm0sICJEUlJTIFN0YXRlIEVuYWJsZWQ6JWRcbiIsCj4gLQkJCSAgICBk
cml2ZXItPmRycnNfZW5hYmxlZCk7Cj4gLQkJLyoKPiAtCQkgKiBJZiBEUlJTIGlzIG5vdCBzdXBw
b3J0ZWQsIGRycnNfdHlwZSBoYXMgdG8gYmUgc2V0IHRvIDAuCj4gLQkJICogVGhpcyBpcyBiZWNh
dXNlLCBWQlQgaXMgY29uZmlndXJlZCBpbiBzdWNoIGEgd2F5IHRoYXQKPiAtCQkgKiBzdGF0aWMg
RFJSUyBpcyAwIGFuZCBEUlJTIG5vdCBzdXBwb3J0ZWQgaXMgcmVwcmVzZW50ZWQgYnkKPiAtCQkg
KiBkcml2ZXItPmRycnNfZW5hYmxlZD1mYWxzZQo+IC0JCSAqLwo+IC0JCWlmICghZHJpdmVyLT5k
cnJzX2VuYWJsZWQpCj4gLQkJCWk5MTUtPnZidC5kcnJzX3R5cGUgPSBEUlJTX05PVF9TVVBQT1JU
RUQ7Cj4gLQo+ICsJaWYgKGJkYi0+dmVyc2lvbiA8IDIyOCkKPiAgCQlpOTE1LT52YnQucHNyLmVu
YWJsZSA9IGRyaXZlci0+cHNyX2VuYWJsZWQ7Cj4gLQl9Cj4gK30KPiArCj4gK3N0YXRpYyB2b2lk
Cj4gK3BhcnNlX2RyaXZlcl9mZWF0dXJlc19kcnJzX29ubHkoc3RydWN0IGRybV9pOTE1X3ByaXZh
dGUgKmk5MTUsCj4gKwkJCQljb25zdCBzdHJ1Y3QgYmRiX2hlYWRlciAqYmRiLAo+ICsJCQkJc3Ry
dWN0IGRkaV92YnRfcG9ydF9pbmZvICppbmZvKQo+ICt7Cj4gKwljb25zdCBzdHJ1Y3QgYmRiX2Ry
aXZlcl9mZWF0dXJlcyAqZHJpdmVyOwo+ICsKPiArCWlmIChiZGItPnZlcnNpb24gPj0gMjI4KQo+
ICsJCXJldHVybjsKPiArCj4gKwlkcml2ZXIgPSBmaW5kX3NlY3Rpb24oYmRiLCBCREJfRFJJVkVS
X0ZFQVRVUkVTKTsKPiArCWlmICghZHJpdmVyKQo+ICsJCXJldHVybjsKPiArCj4gKwlkcm1fZGJn
X2ttcygmaTkxNS0+ZHJtLCAiRFJSUyBTdGF0ZSBFbmFibGVkOiVkXG4iLCBkcml2ZXItPmRycnNf
ZW5hYmxlZCk7Cj4gKwkvKgo+ICsJICogSWYgRFJSUyBpcyBub3Qgc3VwcG9ydGVkLCBkcnJzX3R5
cGUgaGFzIHRvIGJlIHNldCB0byAwLgo+ICsJICogVGhpcyBpcyBiZWNhdXNlLCBWQlQgaXMgY29u
ZmlndXJlZCBpbiBzdWNoIGEgd2F5IHRoYXQKPiArCSAqIHN0YXRpYyBEUlJTIGlzIDAgYW5kIERS
UlMgbm90IHN1cHBvcnRlZCBpcyByZXByZXNlbnRlZCBieQo+ICsJICogZHJpdmVyLT5kcnJzX2Vu
YWJsZWQ9ZmFsc2UKPiArCSAqLwo+ICsJaWYgKCFkcml2ZXItPmRycnNfZW5hYmxlZCkKPiArCQlp
bmZvLT5kcnJzX3R5cGUgPSBEUlJTX05PVF9TVVBQT1JURUQ7Cj4gIH0KPiAgCj4gIHN0YXRpYyB2
b2lkCj4gIHBhcnNlX3Bvd2VyX2NvbnNlcnZhdGlvbl9mZWF0dXJlcyhzdHJ1Y3QgZHJtX2k5MTVf
cHJpdmF0ZSAqaTkxNSwKPiAtCQkJCSAgY29uc3Qgc3RydWN0IGJkYl9oZWFkZXIgKmJkYikKPiAr
CQkJCSAgY29uc3Qgc3RydWN0IGJkYl9oZWFkZXIgKmJkYiwKPiArCQkJCSAgc3RydWN0IGRkaV92
YnRfcG9ydF9pbmZvICppbmZvLAo+ICsJCQkJICBpbnQgcGFuZWxfaW5kZXgpCj4gIHsKPiAgCWNv
bnN0IHN0cnVjdCBiZGJfbGZwX3Bvd2VyICpwb3dlcjsKPiAtCXU4IHBhbmVsX3R5cGUgPSBpOTE1
LT52YnQucGFuZWxfdHlwZTsKPiAgCj4gIAlpZiAoYmRiLT52ZXJzaW9uIDwgMjI4KQo+ICAJCXJl
dHVybjsKPiBAQCAtNzQwLDcgKzc2OCw3IEBAIHBhcnNlX3Bvd2VyX2NvbnNlcnZhdGlvbl9mZWF0
dXJlcyhzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSwKPiAgCWlmICghcG93ZXIpCj4gIAkJ
cmV0dXJuOwo+ICAKPiAtCWk5MTUtPnZidC5wc3IuZW5hYmxlID0gcG93ZXItPnBzciAmIEJJVChw
YW5lbF90eXBlKTsKPiArCWk5MTUtPnZidC5wc3IuZW5hYmxlID0gcG93ZXItPnBzciAmIEJJVChw
YW5lbF9pbmRleCk7Cj4gIAo+ICAJLyoKPiAgCSAqIElmIERSUlMgaXMgbm90IHN1cHBvcnRlZCwg
ZHJyc190eXBlIGhhcyB0byBiZSBzZXQgdG8gMC4KPiBAQCAtNzQ4LDExICs3NzYsMTEgQEAgcGFy
c2VfcG93ZXJfY29uc2VydmF0aW9uX2ZlYXR1cmVzKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpp
OTE1LAo+ICAJICogc3RhdGljIERSUlMgaXMgMCBhbmQgRFJSUyBub3Qgc3VwcG9ydGVkIGlzIHJl
cHJlc2VudGVkIGJ5Cj4gIAkgKiBwb3dlci0+ZHJycyAmIEJJVChwYW5lbF90eXBlKT1mYWxzZQo+
ICAJICovCj4gLQlpZiAoIShwb3dlci0+ZHJycyAmIEJJVChwYW5lbF90eXBlKSkpCj4gLQkJaTkx
NS0+dmJ0LmRycnNfdHlwZSA9IERSUlNfTk9UX1NVUFBPUlRFRDsKPiArCWlmICghKHBvd2VyLT5k
cnJzICYgQklUKHBhbmVsX2luZGV4KSkpCj4gKwkJaW5mby0+ZHJyc190eXBlID0gRFJSU19OT1Rf
U1VQUE9SVEVEOwo+ICAKPiAgCWlmIChiZGItPnZlcnNpb24gPj0gMjMyKQo+IC0JCWk5MTUtPnZi
dC5lZHAuaG9ibCA9IHBvd2VyLT5ob2JsICYgQklUKHBhbmVsX3R5cGUpOwo+ICsJCWk5MTUtPnZi
dC5lZHAuaG9ibCA9IHBvd2VyLT5ob2JsICYgQklUKHBhbmVsX2luZGV4KTsKPiAgfQo+ICAKPiAg
c3RhdGljIHZvaWQKPiBAQCAtMTg4Nyw2ICsxOTE1LDc0IEBAIHN0YXRpYyBib29sIGlzX3BvcnRf
dmFsaWQoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUsIGVudW0gcG9ydCBwb3J0KQo+ICAJ
cmV0dXJuIHRydWU7Cj4gIH0KPiAgCj4gK3N0YXRpYyBjb25zdCBzdHJ1Y3QgYmRiX2hlYWRlciAq
Z2V0X2JkYl9oZWFkZXIoY29uc3Qgc3RydWN0IHZidF9oZWFkZXIgKnZidCkKPiArewo+ICsJY29u
c3Qgdm9pZCAqX3ZidCA9IHZidDsKPiArCj4gKwlyZXR1cm4gX3ZidCArIHZidC0+YmRiX29mZnNl
dDsKPiArfQo+ICsKPiArc3RhdGljIGludAo+ICtnZXRfbGZwX3BhbmVsX2luZGV4KHN0cnVjdCBk
cm1faTkxNV9wcml2YXRlICppOTE1LAo+ICsJCSAgICBjb25zdCBzdHJ1Y3QgYmRiX2hlYWRlciAq
YmRiLCBpbnQgbGZwX3BhbmVsX2luc3RhbmNlKQo+ICt7Cj4gKwljb25zdCBzdHJ1Y3QgYmRiX2x2
ZHNfb3B0aW9ucyAqbHZkc19vcHRpb25zOwo+ICsKPiArCWx2ZHNfb3B0aW9ucyA9IGZpbmRfc2Vj
dGlvbihiZGIsIEJEQl9MVkRTX09QVElPTlMpOwo+ICsJaWYgKCFsdmRzX29wdGlvbnMpCj4gKwkJ
cmV0dXJuIC0xOwo+ICsKPiArCXN3aXRjaCAobGZwX3BhbmVsX2luc3RhbmNlKSB7Cj4gKwljYXNl
IDE6Cj4gKwkJcmV0dXJuIGx2ZHNfb3B0aW9ucy0+cGFuZWxfdHlwZTsKPiArCWNhc2UgMjoKPiAr
CQlyZXR1cm4gbHZkc19vcHRpb25zLT5wYW5lbF90eXBlMjsKPiArCWRlZmF1bHQ6Cj4gKwkJYnJl
YWs7Cj4gKwl9Cj4gKwo+ICsJcmV0dXJuIC0xOwo+ICt9Cj4gKwo+ICtzdGF0aWMgdm9pZCBwYXJz
ZV9pbnRlZ3JhdGVkX3BhbmVsKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICppOTE1LAo+ICsJCQkJ
ICAgc3RydWN0IGludGVsX2Jpb3NfZW5jb2Rlcl9kYXRhICpkZXZkYXRhLAo+ICsJCQkJICAgc3Ry
dWN0IGRkaV92YnRfcG9ydF9pbmZvICppbmZvKQo+ICt7Cj4gKwljb25zdCBzdHJ1Y3QgdmJ0X2hl
YWRlciAqdmJ0ID0gaTkxNS0+b3ByZWdpb24udmJ0Owo+ICsJY29uc3Qgc3RydWN0IGJkYl9oZWFk
ZXIgKmJkYjsKPiArCWludCBsZnBfaW5zdCA9IDAsIHBhbmVsX2luZGV4LCBvcHJlZ2lvbl9wYW5l
bF9pbmRleDsKPiArCj4gKwlpZiAoZGV2ZGF0YS0+Y2hpbGQuaGFuZGxlID09IEhBTkRMRV9MRlBf
MSkKPiArCQlsZnBfaW5zdCA9IDE7Cj4gKwllbHNlIGlmIChkZXZkYXRhLT5jaGlsZC5oYW5kbGUg
PT0gSEFORExFX0xGUF8yKQo+ICsJCWxmcF9pbnN0ID0gMjsKPiArCj4gKwlpZiAobGZwX2luc3Qg
PT0gMCkKPiArCQlyZXR1cm47Cj4gKwo+ICsJYmRiID0gZ2V0X2JkYl9oZWFkZXIodmJ0KTsKPiAr
CXBhbmVsX2luZGV4ID0gZ2V0X2xmcF9wYW5lbF9pbmRleChpOTE1LCBiZGIsIGxmcF9pbnN0KTsK
PiArCj4gKwlvcHJlZ2lvbl9wYW5lbF9pbmRleCA9IGludGVsX29wcmVnaW9uX2dldF9wYW5lbF90
eXBlKGk5MTUpOwo+ICsJLyoKPiArCSAqIFRPRE86IHRoZSBjdXJyZW50IGltcGxlbWVudGF0aW9u
IGFsd2F5cyB1c2UgdGhlIHBhbmVsIGluZGV4IGZyb20KPiArCSAqIG9wcmVnaW9uIGlmIGF2YWls
YWJsZSBkdWUgdG8gaXNzdWVzIHdpdGggb2xkIHBsYXRmb3Jtcy4KPiArCSAqIEJ1dCB0aGlzIGRv
IG5vdCBzdXBwb3J0cyB0d28gcGFuZWxzIGFuZCBpbiBTS0wgb3IgbmV3ZXIgSSBuZXZlciBzYXcg
YQo+ICsJICogc3lzdGVtIHdlcmUgdGhpcyBjYWxsIHJldHVybnMgYSB2YWxpZCB2YWx1ZS4KPiAr
CSAqIFNvIHdpbGwgY2hhbmdlIHRoaXMgdG8gb25seSB1c2Ugb3ByZWdpb24gdXAgdG8gQkRXIGlu
IGEgc2VwYXJhdGVkCj4gKwkgKiBjb21taXQuCj4gKwkgKi8KPiArCWlmIChvcHJlZ2lvbl9wYW5l
bF9pbmRleCA+PSAwKQo+ICsJCXBhbmVsX2luZGV4ID0gb3ByZWdpb25fcGFuZWxfaW5kZXg7Cj4g
Kwo+ICsJaWYgKHBhbmVsX2luZGV4ID09IC0xKQo+ICsJCXJldHVybjsKPiArCj4gKwlwYXJzZV9w
YW5lbF9vcHRpb25zKGk5MTUsIGJkYiwgaW5mbywgcGFuZWxfaW5kZXgpOwo+ICsJcGFyc2VfcG93
ZXJfY29uc2VydmF0aW9uX2ZlYXR1cmVzKGk5MTUsIGJkYiwgaW5mbywgcGFuZWxfaW5kZXgpOwo+
ICsJcGFyc2VfZHJpdmVyX2ZlYXR1cmVzX2RycnNfb25seShpOTE1LCBiZGIsIGluZm8pOwo+ICt9
Cj4gKwo+ICBzdGF0aWMgdm9pZCBwYXJzZV9kZGlfcG9ydChzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0
ZSAqaTkxNSwKPiAgCQkJICAgc3RydWN0IGludGVsX2Jpb3NfZW5jb2Rlcl9kYXRhICpkZXZkYXRh
KQo+ICB7Cj4gQEAgLTIwMTgsNiArMjExNCw4IEBAIHN0YXRpYyB2b2lkIHBhcnNlX2RkaV9wb3J0
KHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICppOTE1LAo+ICAJCQkgICAgcG9ydF9uYW1lKHBvcnQp
LCBpbmZvLT5kcF9tYXhfbGlua19yYXRlKTsKPiAgCX0KPiAgCj4gKwlwYXJzZV9pbnRlZ3JhdGVk
X3BhbmVsKGk5MTUsIGRldmRhdGEsIGluZm8pOwo+ICsKPiAgCWluZm8tPmRldmRhdGEgPSBkZXZk
YXRhOwo+ICB9Cj4gIAo+IEBAIC0yMTQ0LDkgKzIyNDIsNiBAQCBpbml0X3ZidF9kZWZhdWx0cyhz
dHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSkKPiAgCS8qIERlZmF1bHQgdG8gaGF2aW5nIGJh
Y2tsaWdodCAqLwo+ICAJaTkxNS0+dmJ0LmJhY2tsaWdodC5wcmVzZW50ID0gdHJ1ZTsKPiAgCj4g
LQkvKiBMRlAgcGFuZWwgZGF0YSAqLwo+IC0JaTkxNS0+dmJ0Lmx2ZHNfZGl0aGVyID0gMTsKPiAt
Cj4gIAkvKiBTRFZPIHBhbmVsIGRhdGEgKi8KPiAgCWk5MTUtPnZidC5zZHZvX2x2ZHNfdmJ0X21v
ZGUgPSBOVUxMOwo+ICAKPiBAQCAtMjIyNiwxMyArMjMyMSw2IEBAIGluaXRfdmJ0X21pc3Npbmdf
ZGVmYXVsdHMoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUpCj4gIAlpOTE1LT52YnQudmVy
c2lvbiA9IDE1NTsKPiAgfQo+ICAKPiAtc3RhdGljIGNvbnN0IHN0cnVjdCBiZGJfaGVhZGVyICpn
ZXRfYmRiX2hlYWRlcihjb25zdCBzdHJ1Y3QgdmJ0X2hlYWRlciAqdmJ0KQo+IC17Cj4gLQljb25z
dCB2b2lkICpfdmJ0ID0gdmJ0Owo+IC0KPiAtCXJldHVybiBfdmJ0ICsgdmJ0LT5iZGJfb2Zmc2V0
Owo+IC19Cj4gLQo+ICAvKioKPiAgICogaW50ZWxfYmlvc19pc192YWxpZF92YnQgLSBkb2VzIHRo
ZSBnaXZlbiBidWZmZXIgY29udGFpbiBhIHZhbGlkIFZCVAo+ICAgKiBAYnVmOglwb2ludGVyIHRv
IGEgYnVmZmVyIHRvIHZhbGlkYXRlCj4gQEAgLTIzODYsMTIgKzI0NzQsMTEgQEAgdm9pZCBpbnRl
bF9iaW9zX2luaXQoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUpCj4gIAkvKiBHcmFiIHVz
ZWZ1bCBnZW5lcmFsIGRlZmluaXRpb25zICovCj4gIAlwYXJzZV9nZW5lcmFsX2ZlYXR1cmVzKGk5
MTUsIGJkYik7Cj4gIAlwYXJzZV9nZW5lcmFsX2RlZmluaXRpb25zKGk5MTUsIGJkYik7Cj4gLQlw
YXJzZV9wYW5lbF9vcHRpb25zKGk5MTUsIGJkYik7Cj4gKwlwYXJzZV9wYW5lbF90eXBlKGk5MTUs
IGJkYik7Cj4gIAlwYXJzZV9wYW5lbF9kdGQoaTkxNSwgYmRiKTsKPiAgCXBhcnNlX2xmcF9iYWNr
bGlnaHQoaTkxNSwgYmRiKTsKPiAgCXBhcnNlX3Nkdm9fcGFuZWxfZGF0YShpOTE1LCBiZGIpOwo+
ICAJcGFyc2VfZHJpdmVyX2ZlYXR1cmVzKGk5MTUsIGJkYik7Cj4gLQlwYXJzZV9wb3dlcl9jb25z
ZXJ2YXRpb25fZmVhdHVyZXMoaTkxNSwgYmRiKTsKPiAgCXBhcnNlX2VkcChpOTE1LCBiZGIpOwo+
ICAJcGFyc2VfcHNyKGk5MTUsIGJkYik7Cj4gIAlwYXJzZV9taXBpX2NvbmZpZyhpOTE1LCBiZGIp
Owo+IEBAIC0zMDExLDMgKzMwOTgsMTEgQEAgaW50ZWxfYmlvc19lbmNvZGVyX2RhdGFfbG9va3Vw
KHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICppOTE1LCBlbnVtIHBvcnQgcG9ydCkKPiAgewo+ICAJ
cmV0dXJuIGk5MTUtPnZidC5kZGlfcG9ydF9pbmZvW3BvcnRdLmRldmRhdGE7Cj4gIH0KPiArCj4g
K2VudW0gZHJyc19zdXBwb3J0X3R5cGUKPiAraW50ZWxfYmlvc19kcnJzX3R5cGUoc3RydWN0IGlu
dGVsX2VuY29kZXIgKmVuY29kZXIpCj4gK3sKPiArCXN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpp
OTE1ID0gdG9faTkxNShlbmNvZGVyLT5iYXNlLmRldik7Cj4gKwo+ICsJcmV0dXJuIGk5MTUtPnZi
dC5kZGlfcG9ydF9pbmZvW2VuY29kZXItPnBvcnRdLmRycnNfdHlwZTsKPiArfQo+IGRpZmYgLS1n
aXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Jpb3MuaCBiL2RyaXZlcnMv
Z3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfYmlvcy5oCj4gaW5kZXggNDcwOWM0ZDI5ODA1OS4u
YmFkMjgyYjY0YzVlNiAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5
L2ludGVsX2Jpb3MuaAo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxf
Ymlvcy5oCj4gQEAgLTI2Niw0ICsyNjYsNiBAQCBib29sIGludGVsX2Jpb3NfZW5jb2Rlcl9zdXBw
b3J0c190YnQoY29uc3Qgc3RydWN0IGludGVsX2Jpb3NfZW5jb2Rlcl9kYXRhICpkZXZkYQo+ICBp
bnQgaW50ZWxfYmlvc19lbmNvZGVyX2RwX2Jvb3N0X2xldmVsKGNvbnN0IHN0cnVjdCBpbnRlbF9i
aW9zX2VuY29kZXJfZGF0YSAqZGV2ZGF0YSk7Cj4gIGludCBpbnRlbF9iaW9zX2VuY29kZXJfaGRt
aV9ib29zdF9sZXZlbChjb25zdCBzdHJ1Y3QgaW50ZWxfYmlvc19lbmNvZGVyX2RhdGEgKmRldmRh
dGEpOwo+ICAKPiArZW51bSBkcnJzX3N1cHBvcnRfdHlwZSBpbnRlbF9iaW9zX2RycnNfdHlwZShz
dHJ1Y3QgaW50ZWxfZW5jb2RlciAqZW5jb2Rlcik7Cj4gKwo+ICAjZW5kaWYgLyogX0lOVEVMX0JJ
T1NfSF8gKi8KPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRl
bF9kcC5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kcC5jCj4gaW5kZXgg
YzM4NmVmOGViMjAwNi4uNzlkNGUzZWRiMmVlZiAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9k
cm0vaTkxNS9kaXNwbGF5L2ludGVsX2RwLmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9k
aXNwbGF5L2ludGVsX2RwLmMKPiBAQCAtNTEzMyw2ICs1MTMzLDcgQEAgaW50ZWxfZHBfZHJyc19p
bml0KHN0cnVjdCBpbnRlbF9jb25uZWN0b3IgKmNvbm5lY3RvciwKPiAgewo+ICAJc3RydWN0IGRy
bV9pOTE1X3ByaXZhdGUgKmRldl9wcml2ID0gdG9faTkxNShjb25uZWN0b3ItPmJhc2UuZGV2KTsK
PiAgCXN0cnVjdCBkcm1fZGlzcGxheV9tb2RlICpkb3duY2xvY2tfbW9kZSA9IE5VTEw7Cj4gKwll
bnVtIGRycnNfc3VwcG9ydF90eXBlIGRycnNfdHlwZSA9IGludGVsX2Jpb3NfZHJyc190eXBlKGNv
bm5lY3Rvci0+ZW5jb2Rlcik7Cj4gIAo+ICAJSU5JVF9ERUxBWUVEX1dPUksoJmRldl9wcml2LT5k
cnJzLndvcmssIGludGVsX2VkcF9kcnJzX2Rvd25jbG9ja193b3JrKTsKPiAgCW11dGV4X2luaXQo
JmRldl9wcml2LT5kcnJzLm11dGV4KTsKPiBAQCAtNTE0Myw3ICs1MTQ0LDcgQEAgaW50ZWxfZHBf
ZHJyc19pbml0KHN0cnVjdCBpbnRlbF9jb25uZWN0b3IgKmNvbm5lY3RvciwKPiAgCQlyZXR1cm4g
TlVMTDsKPiAgCX0KPiAgCj4gLQlpZiAoZGV2X3ByaXYtPnZidC5kcnJzX3R5cGUgIT0gU0VBTUxF
U1NfRFJSU19TVVBQT1JUKSB7Cj4gKwlpZiAoZHJyc190eXBlICE9IFNFQU1MRVNTX0RSUlNfU1VQ
UE9SVCkgewo+ICAJCWRybV9kYmdfa21zKCZkZXZfcHJpdi0+ZHJtLCAiVkJUIGRvZXNuJ3Qgc3Vw
cG9ydCBEUlJTXG4iKTsKPiAgCQlyZXR1cm4gTlVMTDsKPiAgCX0KPiBAQCAtNTE1NSw3ICs1MTU2
LDcgQEAgaW50ZWxfZHBfZHJyc19pbml0KHN0cnVjdCBpbnRlbF9jb25uZWN0b3IgKmNvbm5lY3Rv
ciwKPiAgCQlyZXR1cm4gTlVMTDsKPiAgCX0KPiAgCj4gLQlkZXZfcHJpdi0+ZHJycy50eXBlID0g
ZGV2X3ByaXYtPnZidC5kcnJzX3R5cGU7Cj4gKwlkZXZfcHJpdi0+ZHJycy50eXBlID0gZHJyc190
eXBlOwo+ICAKPiAgCWRldl9wcml2LT5kcnJzLnJlZnJlc2hfcmF0ZV90eXBlID0gRFJSU19ISUdI
X1JSOwo+ICAJZHJtX2RiZ19rbXMoJmRldl9wcml2LT5kcm0sCj4gZGlmZiAtLWdpdCBhL2RyaXZl
cnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfdmJ0X2RlZnMuaCBiL2RyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2Rpc3BsYXkvaW50ZWxfdmJ0X2RlZnMuaAo+IGluZGV4IGRiZTI0ZDdlNzM3NTkuLmNk
OTI3ZDEzMjUwZjEgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9p
bnRlbF92YnRfZGVmcy5oCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRl
bF92YnRfZGVmcy5oCj4gQEAgLTM1OSw2ICszNTksOSBAQCBlbnVtIHZidF9nbWJ1c19kZGkgewo+
ICAjZGVmaW5lIEJEQl8yMzBfVkJUX0RQX01BWF9MSU5LX1JBVEVfVUhCUjEzUDUJNgo+ICAjZGVm
aW5lIEJEQl8yMzBfVkJUX0RQX01BWF9MSU5LX1JBVEVfVUhCUjIwCTcKPiAgCj4gKyNkZWZpbmUg
SEFORExFX0xGUF8xIDB4MDAwOAo+ICsjZGVmaW5lIEhBTkRMRV9MRlBfMiAweDAwODAKPiArCj4g
IC8qCj4gICAqIFRoZSBjaGlsZCBkZXZpY2UgY29uZmlnLCBha2EgdGhlIGRpc3BsYXkgZGV2aWNl
IGRhdGEgc3RydWN0dXJlLCBwcm92aWRlcyBhCj4gICAqIGRlc2NyaXB0aW9uIG9mIGEgcG9ydCBh
bmQgaXRzIGNvbmZpZ3VyYXRpb24gb24gdGhlIHBsYXRmb3JtLgo+IGRpZmYgLS1naXQgYS9kcml2
ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2Rydi5oIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9k
cnYuaAo+IGluZGV4IDAzMjFhMWY5NzM4ZDYuLmQ5OTBjZWIyM2M4NWUgMTAwNjQ0Cj4gLS0tIGEv
ZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kcnYuaAo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9p
OTE1L2k5MTVfZHJ2LmgKPiBAQCAtNjU2LDYgKzY1Niw4IEBAIHN0cnVjdCBkZGlfdmJ0X3BvcnRf
aW5mbyB7Cj4gIAl1OCBhbHRlcm5hdGVfZGRjX3BpbjsKPiAgCj4gIAlpbnQgZHBfbWF4X2xpbmtf
cmF0ZTsJCS8qIDAgZm9yIG5vdCBsaW1pdGVkIGJ5IFZCVCAqLwo+ICsKPiArCWVudW0gZHJyc19z
dXBwb3J0X3R5cGUgZHJyc190eXBlOwo+ICB9Owo+ICAKPiAgZW51bSBwc3JfbGluZXNfdG9fd2Fp
dCB7Cj4gQEAgLTY3NCw3ICs2NzYsNiBAQCBzdHJ1Y3QgaW50ZWxfdmJ0X2RhdGEgewo+ICAKPiAg
CS8qIEZlYXR1cmUgYml0cyAqLwo+ICAJdW5zaWduZWQgaW50IGludF90dl9zdXBwb3J0OjE7Cj4g
LQl1bnNpZ25lZCBpbnQgbHZkc19kaXRoZXI6MTsKPiAgCXVuc2lnbmVkIGludCBpbnRfY3J0X3N1
cHBvcnQ6MTsKPiAgCXVuc2lnbmVkIGludCBsdmRzX3VzZV9zc2M6MTsKPiAgCXVuc2lnbmVkIGlu
dCBpbnRfbHZkc19zdXBwb3J0OjE7Cj4gQEAgLTY4NSw4ICs2ODYsNiBAQCBzdHJ1Y3QgaW50ZWxf
dmJ0X2RhdGEgewo+ICAJdW5zaWduZWQgaW50IGJpb3NfbHZkc192YWw7IC8qIGluaXRpYWwgW1BD
SF9dTFZEUyByZWcgdmFsIGluIFZCSU9TICovCj4gIAllbnVtIGRybV9wYW5lbF9vcmllbnRhdGlv
biBvcmllbnRhdGlvbjsKPiAgCj4gLQllbnVtIGRycnNfc3VwcG9ydF90eXBlIGRycnNfdHlwZTsK
PiAtCj4gIAlzdHJ1Y3Qgewo+ICAJCWludCByYXRlOwo+ICAJCWludCBsYW5lczsKPiAtLSAKPiAy
LjMyLjAKPiAKPiBfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
Xwo+IEludGVsLWdmeCBtYWlsaW5nIGxpc3QKPiBJbnRlbC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Au
b3JnCj4gaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9pbnRl
bC1nZngKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KSW50
ZWwtZ2Z4IG1haWxpbmcgbGlzdApJbnRlbC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBz
Oi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vaW50ZWwtZ2Z4Cg==

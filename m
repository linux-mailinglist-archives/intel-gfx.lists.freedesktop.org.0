Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id D2AE94D01B
	for <lists+intel-gfx@lfdr.de>; Thu, 20 Jun 2019 16:13:58 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 3D7E66E5A0;
	Thu, 20 Jun 2019 14:13:57 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga03.intel.com (mga03.intel.com [134.134.136.65])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 1EE7E6E5A0
 for <intel-gfx@lists.freedesktop.org>; Thu, 20 Jun 2019 14:13:56 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from fmsmga002.fm.intel.com ([10.253.24.26])
 by orsmga103.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 20 Jun 2019 07:13:55 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.63,397,1557212400"; d="scan'208";a="186816985"
Received: from gaia.fi.intel.com ([10.237.72.169])
 by fmsmga002.fm.intel.com with ESMTP; 20 Jun 2019 07:13:52 -0700
Received: by gaia.fi.intel.com (Postfix, from userid 1000)
 id 704FB5C1EC2; Thu, 20 Jun 2019 17:13:45 +0300 (EEST)
From: Mika Kuoppala <mika.kuoppala@linux.intel.com>
To: Chris Wilson <chris@chris-wilson.co.uk>, intel-gfx@lists.freedesktop.org
In-Reply-To: <156103905257.664.16152371364660528902@skylake-alporthouse-com>
References: <20190620070559.30076-1-chris@chris-wilson.co.uk>
 <20190620070559.30076-2-chris@chris-wilson.co.uk>
 <87y31w5pr7.fsf@gaia.fi.intel.com>
 <156103905257.664.16152371364660528902@skylake-alporthouse-com>
Date: Thu, 20 Jun 2019 17:13:45 +0300
Message-ID: <87sgs45opy.fsf@gaia.fi.intel.com>
MIME-Version: 1.0
Subject: Re: [Intel-gfx] [PATCH 2/3] drm/i915/execlists: Minimalistic
 timeslicing
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

Q2hyaXMgV2lsc29uIDxjaHJpc0BjaHJpcy13aWxzb24uY28udWs+IHdyaXRlczoKCj4gUXVvdGlu
ZyBNaWthIEt1b3BwYWxhICgyMDE5LTA2LTIwIDE0OjUxOjI0KQo+PiA+ICtzdGF0aWMgdm9pZAo+
PiA+ICtkZWZlcl9yZXF1ZXN0KHN0cnVjdCBpOTE1X3JlcXVlc3QgKiBjb25zdCBycSwgc3RydWN0
IGxpc3RfaGVhZCAqIGNvbnN0IHBsKQo+PiA+ICt7Cj4+ID4gKyAgICAgc3RydWN0IGk5MTVfZGVw
ZW5kZW5jeSAqcDsKPj4gPiArCj4+ID4gKyAgICAgLyoKPj4gPiArICAgICAgKiBXZSB3YW50IHRv
IG1vdmUgdGhlIGludGVycnVwdGVkIHJlcXVlc3QgdG8gdGhlIGJhY2sgb2YKPj4gPiArICAgICAg
KiB0aGUgcm91bmQtcm9iaW4gbGlzdCAoaS5lLiBpdHMgcHJpb3JpdHkgbGV2ZWwpLCBidXQKPj4g
PiArICAgICAgKiBpbiBkb2luZyBzbywgd2UgbXVzdCB0aGVuIG1vdmUgYWxsIHJlcXVlc3RzIHRo
YXQgd2VyZSBpbgo+PiA+ICsgICAgICAqIGZsaWdodCBhbmQgd2VyZSB3YWl0aW5nIGZvciB0aGUg
aW50ZXJydXB0ZWQgcmVxdWVzdCB0bwo+PiA+ICsgICAgICAqIGJlIHJ1biBhZnRlciBpdCBhZ2Fp
bi4KPj4gPiArICAgICAgKi8KPj4gPiArICAgICBsaXN0X21vdmVfdGFpbCgmcnEtPnNjaGVkLmxp
bmssIHBsKTsKPj4gPiArCj4+ID4gKyAgICAgbGlzdF9mb3JfZWFjaF9lbnRyeShwLCAmcnEtPnNj
aGVkLndhaXRlcnNfbGlzdCwgd2FpdF9saW5rKSB7Cj4+ID4gKyAgICAgICAgICAgICBzdHJ1Y3Qg
aTkxNV9yZXF1ZXN0ICp3ID0KPj4gPiArICAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyX29m
KHAtPndhaXRlciwgdHlwZW9mKCp3KSwgc2NoZWQpOwo+PiA+ICsKPj4gPiArICAgICAgICAgICAg
IC8qIExlYXZlIHNlbWFwaG9yZXMgc3Bpbm5pbmcgb24gdGhlIG90aGVyIGVuZ2luZXMgKi8KPj4g
PiArICAgICAgICAgICAgIGlmICh3LT5lbmdpbmUgIT0gcnEtPmVuZ2luZSkKPj4gPiArICAgICAg
ICAgICAgICAgICAgICAgY29udGludWU7Cj4+ID4gKwo+PiA+ICsgICAgICAgICAgICAgLyogTm8g
d2FpdGVyIHNob3VsZCBzdGFydCBiZWZvcmUgdGhlIGFjdGl2ZSByZXF1ZXN0IGNvbXBsZXRlZCAq
Lwo+PiA+ICsgICAgICAgICAgICAgR0VNX0JVR19PTihpOTE1X3JlcXVlc3Rfc3RhcnRlZCh3KSk7
Cj4+ID4gKwo+PiA+ICsgICAgICAgICAgICAgR0VNX0JVR19PTihycV9wcmlvKHcpID4gcnFfcHJp
byhycSkpOwo+PiA+ICsgICAgICAgICAgICAgaWYgKHJxX3ByaW8odykgPCBycV9wcmlvKHJxKSkK
Pj4gPiArICAgICAgICAgICAgICAgICAgICAgY29udGludWU7Cj4+ID4gKwo+PiA+ICsgICAgICAg
ICAgICAgaWYgKGxpc3RfZW1wdHkoJnctPnNjaGVkLmxpbmspKQo+PiA+ICsgICAgICAgICAgICAg
ICAgICAgICBjb250aW51ZTsgLyogTm90IHlldCBzdWJtaXR0ZWQ7IHVucmVhZHkgKi8KPj4gPiAr
Cj4+ID4gKyAgICAgICAgICAgICAvKgo+PiA+ICsgICAgICAgICAgICAgICogVGhpcyBzaG91bGQg
YmUgdmVyeSBzaGFsbG93IGFzIGl0IGlzIGxpbWl0ZWQgYnkgdGhlCj4+ID4gKyAgICAgICAgICAg
ICAgKiBudW1iZXIgb2YgcmVxdWVzdHMgdGhhdCBjYW4gZml0IGluIGEgcmluZyAoPDY0KSBhbmQK
Pj4gCj4+IHMvYW5kL29yID8KPgo+IEkgdGhpbmsgImFuZCIgd29ya3MgYmV0dGVyIGFzIGVhY2gg
Y29udGV4dCBoYXMgdGhlaXIgb3duIHJpbmcsIHNvIGl0J3MgYQo+IG11bHRpcGxpY2F0aXZlIGVm
ZmVjdC4KPgoKSSBqdW1wZWQuIEJ1dCBnb3QgY2xhcml0eSBvbiBpcmMgdGhhdCB0aGlzIGFyZSB0
aGUgY29udGV4dHMgaW4gZmxpZ2h0LgoKPj4gPiArICAgICAgICAgICAgICAqIHRoZSBudW1iZXIg
b2YgY29udGV4dHMgdGhhdCBjYW4gYmUgaW4gZmxpZ2h0IG9uIHRoaXMKPj4gPiArICAgICAgICAg
ICAgICAqIGVuZ2luZS4KPj4gPiArICAgICAgICAgICAgICAqLwo+PiA+ICsgICAgICAgICAgICAg
ZGVmZXJfcmVxdWVzdCh3LCBwbCk7Cj4+IAo+PiBTbyB0aGUgc3RhY2sgZnJhbWUgd2lsbCBiZSA2
NCooMyo4ICsgcHJlYW1wbGUvcmV0dXJuKSBhdCB3b3JzdCBjYXNlPwo+PiBjYW4gYmUgb3ZlciAy
awo+Cj4gT2ssIHRoYXQgbWFrZXMgaXQgc291bmQgc2NhcnkgLS0gYnV0IHdlIGFyZSB3ZWxsIHdp
dGhpbiB0aGUgOGsgaXJxCj4gbGltaXQuIChFdmVuIGludGVycnVwdHMgbm93IGhhdmUgMiBwYWdl
cyBpaXJjLCBidXQgZXZlbiBhdCA0ayB3ZSBhcmUKPiB3ZWxsIHdpdGhpbiBib3VuZHMuKQo+CgpT
aG91bGQgYmUgc2FmZS4KCj4+ID4gQEAgLTkwNiw2ICs5ODIsMjcgQEAgc3RhdGljIHZvaWQgZXhl
Y2xpc3RzX2RlcXVldWUoc3RydWN0IGludGVsX2VuZ2luZV9jcyAqZW5naW5lKQo+PiA+ICAgICAg
ICAgICAgICAgICAgICAgICAgKi8KPj4gPiAgICAgICAgICAgICAgICAgICAgICAgbGFzdC0+aHdf
Y29udGV4dC0+bHJjX2Rlc2MgfD0gQ1RYX0RFU0NfRk9SQ0VfUkVTVE9SRTsKPj4gPiAgICAgICAg
ICAgICAgICAgICAgICAgbGFzdCA9IE5VTEw7Cj4+ID4gKyAgICAgICAgICAgICB9IGVsc2UgaWYg
KG5lZWRfdGltZXNsaWNlKGVuZ2luZSwgbGFzdCkgJiYKPj4gPiArICAgICAgICAgICAgICAgICAg
ICAgICAgIXRpbWVyX3BlbmRpbmcoJmVuZ2luZS0+ZXhlY2xpc3RzLnRpbWVyKSkgewo+PiA+ICsg
ICAgICAgICAgICAgICAgICAgICBHRU1fVFJBQ0UoIiVzOiBleHBpcmVkIGxhc3Q9JWxseDolbGxk
LCBwcmlvPSVkLCBoaW50PSVkXG4iLAo+PiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgZW5naW5lLT5uYW1lLAo+PiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFz
dC0+ZmVuY2UuY29udGV4dCwKPj4gPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxh
c3QtPmZlbmNlLnNlcW5vLAo+PiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFz
dC0+c2NoZWQuYXR0ci5wcmlvcml0eSwKPj4gPiArICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgIGV4ZWNsaXN0cy0+cXVldWVfcHJpb3JpdHlfaGludCk7Cj4+ID4gKwo+PiA+ICsgICAgICAg
ICAgICAgICAgICAgICByaW5nX3BhdXNlKGVuZ2luZSkgPSAxOwo+PiA+ICsgICAgICAgICAgICAg
ICAgICAgICBkZWZlcl9hY3RpdmUoZW5naW5lKTsKPj4gPiArCj4+ID4gKyAgICAgICAgICAgICAg
ICAgICAgIC8qCj4+ID4gKyAgICAgICAgICAgICAgICAgICAgICAqIFVubGlrZSBmb3IgcHJlZW1w
dGlvbiwgaWYgd2UgcmV3aW5kIGFuZCBjb250aW51ZQo+PiA+ICsgICAgICAgICAgICAgICAgICAg
ICAgKiBleGVjdXRpbmcgdGhlIHNhbWUgY29udGV4dCBhcyBwcmV2aW91c2x5IGFjdGl2ZSwKPj4g
PiArICAgICAgICAgICAgICAgICAgICAgICogdGhlIG9yZGVyIG9mIGV4ZWN1dGlvbiB3aWxsIHJl
bWFpbiB0aGUgc2FtZSBhbmQKPj4gPiArICAgICAgICAgICAgICAgICAgICAgICogdGhlIHRhaWwg
d2lsbCBvbmx5IGFkdmFuY2UuIFdlIGRvIG5vdCBuZWVkIHRvCj4+ID4gKyAgICAgICAgICAgICAg
ICAgICAgICAqIGZvcmNlIGEgZnVsbCBjb250ZXh0IHJlc3RvcmUsIGFzIGEgbGl0ZS1yZXN0b3Jl
Cj4+ID4gKyAgICAgICAgICAgICAgICAgICAgICAqIGlzIHN1ZmZpY2llbnQgdG8gcmVzYW1wbGUg
dGhlIG1vbm90b25pYyBUQUlMLgo+PiA+ICsgICAgICAgICAgICAgICAgICAgICAgKi8KPj4gCj4+
IEkgd291bGQgaGF2ZSBhc2tlZCBhYm91dCB0aGUgZm9yY2UgcHJlZW1wdGlvbiB3aXRob3V0IHRo
aXMgZmluZSBjb21tZW50Lgo+PiAKPj4gQnV0IHRoaXMgaXMgYSBzaW1pbGFyIGFzIHRoZSBvdGhl
ciBraW5kIG9mIHByZWVtcHRpb24uIFNvIHdoYXQgaGFwcGVucwo+PiB3aGVuIHRoZSBjb250ZXh0
cyBhcmUgbm90IHRoZSBzYW1lPwo+Cj4gSXQncyBqdXN0IGEgbm9ybWFsIHByZWVtcHRpb24gZXZl
bnQuIFRoZSBvbGQgcmluZyByZWdzIGFyZSBzYXZlZCBhbmQgd2UKPiBkb24ndCB0cnkgYW5kIHNj
cmliYmxlIG92ZXIgdGhlbS4gQW55IGZ1dHVyZSB1c2Ugb2YgdGhlIG9sZCBjb250ZXh0IHdpbGwK
PiBoYXZlIHRoZSBzYW1lIFJJTkdfVEFJTCBhcyBiZWZvcmUgb3IgbGF0ZXIgKG5ldyByZXF1ZXN0
KSBzbyB3ZSB3aWxsCj4gbmV2ZXIgdHJ5IHRvIHByb2dyYW0gYSBiYWNrd2FyZHMgc3RlcC4KCk9r
LAoKUmV2aWV3ZWQtYnk6IE1pa2EgS3VvcHBhbGEgPG1pa2Eua3VvcHBhbGFAbGludXguaW50ZWwu
Y29tPgoKPiAtQ2hyaXMKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX18KSW50ZWwtZ2Z4IG1haWxpbmcgbGlzdApJbnRlbC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Au
b3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vaW50ZWwt
Z2Z4

Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 28A92851C8
	for <lists+intel-gfx@lfdr.de>; Wed,  7 Aug 2019 19:12:15 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 03EE86E746;
	Wed,  7 Aug 2019 17:12:05 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga02.intel.com (mga02.intel.com [134.134.136.20])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 602F86E745
 for <intel-gfx@lists.freedesktop.org>; Wed,  7 Aug 2019 17:12:04 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga003.jf.intel.com ([10.7.209.27])
 by orsmga101.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 07 Aug 2019 09:58:32 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.64,358,1559545200"; d="scan'208";a="177020460"
Received: from jssummer-desk.jf.intel.com ([10.165.21.197])
 by orsmga003.jf.intel.com with ESMTP; 07 Aug 2019 09:58:32 -0700
From: Stuart Summers <stuart.summers@intel.com>
To: intel-gfx@lists.freedesktop.org
Date: Wed,  7 Aug 2019 09:58:27 -0700
Message-Id: <20190807165832.26324-5-stuart.summers@intel.com>
X-Mailer: git-send-email 2.21.0.5.gaeb582a983
In-Reply-To: <20190807165832.26324-1-stuart.summers@intel.com>
References: <20190807165832.26324-1-stuart.summers@intel.com>
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH 4/9] drm/i915: Add EU stride runtime parameter
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

QWRkIGEgbmV3IFNTRVUgcnVudGltZSBwYXJhbWV0ZXIsIGV1X3N0cmlkZSwgd2hpY2ggaXMKdXNl
ZCB0byBtaXJyb3IgdGhlIHVzZXJzcGFjZSBjb25jZXB0IG9mIGEgcmFuZ2Ugb2YgRVVzCnBlciBz
dWJzbGljZS4KClRoaXMgcGF0Y2ggc2ltcGx5IGFkZHMgdGhlIHBhcmFtZXRlciBhbmQgdXBkYXRl
cyB1c2FnZQppbiB0aGUgUVVFUllfVE9QT0xPR1lfSU5GTyBoYW5kbGVyLgoKU2lnbmVkLW9mZi1i
eTogU3R1YXJ0IFN1bW1lcnMgPHN0dWFydC5zdW1tZXJzQGludGVsLmNvbT4KLS0tCiBkcml2ZXJz
L2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9zc2V1LmMgICAgIHwgMSArCiBkcml2ZXJzL2dwdS9kcm0v
aTkxNS9ndC9pbnRlbF9zc2V1LmggICAgIHwgMSArCiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1
X3F1ZXJ5LmMgICAgICAgIHwgNSArKy0tLQogZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfZGV2
aWNlX2luZm8uYyB8IDkgKysrKy0tLS0tCiA0IGZpbGVzIGNoYW5nZWQsIDggaW5zZXJ0aW9ucygr
KSwgOCBkZWxldGlvbnMoLSkKCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9p
bnRlbF9zc2V1LmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9zc2V1LmMKaW5kZXgg
MmQ5ZTZmYTRlZTQ2Li43MWFiZjBjOWE0NmIgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9p
OTE1L2d0L2ludGVsX3NzZXUuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9z
c2V1LmMKQEAgLTE2LDYgKzE2LDcgQEAgdm9pZCBpbnRlbF9zc2V1X3NldF9pbmZvKHN0cnVjdCBz
c2V1X2Rldl9pbmZvICpzc2V1LCB1OCBtYXhfc2xpY2VzLAogCXNzZXUtPm1heF9ldXNfcGVyX3N1
YnNsaWNlID0gbWF4X2V1c19wZXJfc3Vic2xpY2U7CiAKIAlzc2V1LT5zc19zdHJpZGUgPSBHRU5f
U1NFVV9TVFJJREUoc3NldS0+bWF4X3N1YnNsaWNlcyk7CisJc3NldS0+ZXVfc3RyaWRlID0gR0VO
X1NTRVVfU1RSSURFKHNzZXUtPm1heF9ldXNfcGVyX3N1YnNsaWNlKTsKIH0KIAogdW5zaWduZWQg
aW50CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9zc2V1LmggYi9k
cml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9zc2V1LmgKaW5kZXggYjAxMDFlMWM2OWJkLi5m
ZTIyZDViMThlNjcgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX3Nz
ZXUuaAorKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9zc2V1LmgKQEAgLTM0LDYg
KzM0LDcgQEAgc3RydWN0IHNzZXVfZGV2X2luZm8gewogCXU4IG1heF9ldXNfcGVyX3N1YnNsaWNl
OwogCiAJdTggc3Nfc3RyaWRlOworCXU4IGV1X3N0cmlkZTsKIAogCS8qIFdlIGRvbid0IGhhdmUg
bW9yZSB0aGFuIDggZXVzIHBlciBzdWJzbGljZSBhdCB0aGUgbW9tZW50IGFuZCBhcyB3ZQogCSAq
IHN0b3JlIGV1cyBlbmFibGVkIHVzaW5nIGJpdHMsIG5vIG5lZWQgdG8gbXVsdGlwbHkgYnkgZXVz
IHBlcgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9xdWVyeS5jIGIvZHJp
dmVycy9ncHUvZHJtL2k5MTUvaTkxNV9xdWVyeS5jCmluZGV4IGQ4ZTI1ZGNmNWYwYi4uYWJhYzUw
NDJkYTJiIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3F1ZXJ5LmMKKysr
IGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9xdWVyeS5jCkBAIC0zNyw3ICszNyw2IEBAIHN0
YXRpYyBpbnQgcXVlcnlfdG9wb2xvZ3lfaW5mbyhzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2
X3ByaXYsCiAJY29uc3Qgc3RydWN0IHNzZXVfZGV2X2luZm8gKnNzZXUgPSAmUlVOVElNRV9JTkZP
KGRldl9wcml2KS0+c3NldTsKIAlzdHJ1Y3QgZHJtX2k5MTVfcXVlcnlfdG9wb2xvZ3lfaW5mbyB0
b3BvOwogCXUzMiBzbGljZV9sZW5ndGgsIHN1YnNsaWNlX2xlbmd0aCwgZXVfbGVuZ3RoLCB0b3Rh
bF9sZW5ndGg7Ci0JdTggZXVfc3RyaWRlID0gR0VOX1NTRVVfU1RSSURFKHNzZXUtPm1heF9ldXNf
cGVyX3N1YnNsaWNlKTsKIAlpbnQgcmV0OwogCiAJaWYgKHF1ZXJ5X2l0ZW0tPmZsYWdzICE9IDAp
CkBAIC01MCw3ICs0OSw3IEBAIHN0YXRpYyBpbnQgcXVlcnlfdG9wb2xvZ3lfaW5mbyhzdHJ1Y3Qg
ZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYsCiAKIAlzbGljZV9sZW5ndGggPSBzaXplb2Yoc3Nl
dS0+c2xpY2VfbWFzayk7CiAJc3Vic2xpY2VfbGVuZ3RoID0gc3NldS0+bWF4X3NsaWNlcyAqIHNz
ZXUtPnNzX3N0cmlkZTsKLQlldV9sZW5ndGggPSBzc2V1LT5tYXhfc2xpY2VzICogc3NldS0+bWF4
X3N1YnNsaWNlcyAqIGV1X3N0cmlkZTsKKwlldV9sZW5ndGggPSBzc2V1LT5tYXhfc2xpY2VzICog
c3NldS0+bWF4X3N1YnNsaWNlcyAqIHNzZXUtPmV1X3N0cmlkZTsKIAl0b3RhbF9sZW5ndGggPSBz
aXplb2YodG9wbykgKyBzbGljZV9sZW5ndGggKyBzdWJzbGljZV9sZW5ndGggKwogCQkgICAgICAg
ZXVfbGVuZ3RoOwogCkBAIC03MCw3ICs2OSw3IEBAIHN0YXRpYyBpbnQgcXVlcnlfdG9wb2xvZ3lf
aW5mbyhzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYsCiAJdG9wby5zdWJzbGljZV9v
ZmZzZXQgPSBzbGljZV9sZW5ndGg7CiAJdG9wby5zdWJzbGljZV9zdHJpZGUgPSBzc2V1LT5zc19z
dHJpZGU7CiAJdG9wby5ldV9vZmZzZXQgPSBzbGljZV9sZW5ndGggKyBzdWJzbGljZV9sZW5ndGg7
Ci0JdG9wby5ldV9zdHJpZGUgPSBldV9zdHJpZGU7CisJdG9wby5ldV9zdHJpZGUgPSBzc2V1LT5l
dV9zdHJpZGU7CiAKIAlpZiAoX19jb3B5X3RvX3VzZXIodTY0X3RvX3VzZXJfcHRyKHF1ZXJ5X2l0
ZW0tPmRhdGFfcHRyKSwKIAkJCSAgICZ0b3BvLCBzaXplb2YodG9wbykpKQpkaWZmIC0tZ2l0IGEv
ZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfZGV2aWNlX2luZm8uYyBiL2RyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2ludGVsX2RldmljZV9pbmZvLmMKaW5kZXggOWE3OWQ5ZDU0N2M1Li43ZGU3YjdiNTQw
Y2IgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX2RldmljZV9pbmZvLmMK
KysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfZGV2aWNlX2luZm8uYwpAQCAtMTE4LDEw
ICsxMTgsOSBAQCB2b2lkIGludGVsX2RldmljZV9pbmZvX2R1bXBfcnVudGltZShjb25zdCBzdHJ1
Y3QgaW50ZWxfcnVudGltZV9pbmZvICppbmZvLAogc3RhdGljIGludCBzc2V1X2V1X2lkeChjb25z
dCBzdHJ1Y3Qgc3NldV9kZXZfaW5mbyAqc3NldSwgaW50IHNsaWNlLAogCQkgICAgICAgaW50IHN1
YnNsaWNlKQogewotCWludCBzdWJzbGljZV9zdHJpZGUgPSBHRU5fU1NFVV9TVFJJREUoc3NldS0+
bWF4X2V1c19wZXJfc3Vic2xpY2UpOwotCWludCBzbGljZV9zdHJpZGUgPSBzc2V1LT5tYXhfc3Vi
c2xpY2VzICogc3Vic2xpY2Vfc3RyaWRlOworCWludCBzbGljZV9zdHJpZGUgPSBzc2V1LT5tYXhf
c3Vic2xpY2VzICogc3NldS0+ZXVfc3RyaWRlOwogCi0JcmV0dXJuIHNsaWNlICogc2xpY2Vfc3Ry
aWRlICsgc3Vic2xpY2UgKiBzdWJzbGljZV9zdHJpZGU7CisJcmV0dXJuIHNsaWNlICogc2xpY2Vf
c3RyaWRlICsgc3Vic2xpY2UgKiBzc2V1LT5ldV9zdHJpZGU7CiB9CiAKIHN0YXRpYyB1MTYgc3Nl
dV9nZXRfZXVzKGNvbnN0IHN0cnVjdCBzc2V1X2Rldl9pbmZvICpzc2V1LCBpbnQgc2xpY2UsCkBA
IC0xMzAsNyArMTI5LDcgQEAgc3RhdGljIHUxNiBzc2V1X2dldF9ldXMoY29uc3Qgc3RydWN0IHNz
ZXVfZGV2X2luZm8gKnNzZXUsIGludCBzbGljZSwKIAlpbnQgaSwgb2Zmc2V0ID0gc3NldV9ldV9p
ZHgoc3NldSwgc2xpY2UsIHN1YnNsaWNlKTsKIAl1MTYgZXVfbWFzayA9IDA7CiAKLQlmb3IgKGkg
PSAwOyBpIDwgR0VOX1NTRVVfU1RSSURFKHNzZXUtPm1heF9ldXNfcGVyX3N1YnNsaWNlKTsgaSsr
KSB7CisJZm9yIChpID0gMDsgaSA8IHNzZXUtPmV1X3N0cmlkZTsgaSsrKSB7CiAJCWV1X21hc2sg
fD0gKCh1MTYpc3NldS0+ZXVfbWFza1tvZmZzZXQgKyBpXSkgPDwKIAkJCShpICogQklUU19QRVJf
QllURSk7CiAJfQpAQCAtMTQzLDcgKzE0Miw3IEBAIHN0YXRpYyB2b2lkIHNzZXVfc2V0X2V1cyhz
dHJ1Y3Qgc3NldV9kZXZfaW5mbyAqc3NldSwgaW50IHNsaWNlLCBpbnQgc3Vic2xpY2UsCiB7CiAJ
aW50IGksIG9mZnNldCA9IHNzZXVfZXVfaWR4KHNzZXUsIHNsaWNlLCBzdWJzbGljZSk7CiAKLQlm
b3IgKGkgPSAwOyBpIDwgR0VOX1NTRVVfU1RSSURFKHNzZXUtPm1heF9ldXNfcGVyX3N1YnNsaWNl
KTsgaSsrKSB7CisJZm9yIChpID0gMDsgaSA8IHNzZXUtPmV1X3N0cmlkZTsgaSsrKSB7CiAJCXNz
ZXUtPmV1X21hc2tbb2Zmc2V0ICsgaV0gPQogCQkJKGV1X21hc2sgPj4gKEJJVFNfUEVSX0JZVEUg
KiBpKSkgJiAweGZmOwogCX0KLS0gCjIuMjEuMC41LmdhZWI1ODJhOTgzCgpfX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpJbnRlbC1nZnggbWFpbGluZyBsaXN0
CkludGVsLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3Rv
cC5vcmcvbWFpbG1hbi9saXN0aW5mby9pbnRlbC1nZng=

Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 6DE07BC48D
	for <lists+intel-gfx@lfdr.de>; Tue, 24 Sep 2019 11:12:24 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 208D489E5F;
	Tue, 24 Sep 2019 09:12:22 +0000 (UTC)
X-Original-To: Intel-GFX@lists.freedesktop.org
Delivered-To: Intel-GFX@lists.freedesktop.org
Received: from mga09.intel.com (mga09.intel.com [134.134.136.24])
 by gabe.freedesktop.org (Postfix) with ESMTPS id AC00289E3E
 for <Intel-GFX@lists.freedesktop.org>; Tue, 24 Sep 2019 09:12:20 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga005.jf.intel.com ([10.7.209.41])
 by orsmga102.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 24 Sep 2019 02:12:20 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.64,543,1559545200"; d="scan'208";a="363924211"
Received: from kgalazka-mobl.ger.corp.intel.com (HELO [10.252.3.235])
 ([10.252.3.235])
 by orsmga005.jf.intel.com with ESMTP; 24 Sep 2019 02:12:18 -0700
To: John.C.Harrison@Intel.com, Intel-GFX@Lists.FreeDesktop.Org
References: <20190923235152.35979-1-John.C.Harrison@Intel.com>
 <20190923235152.35979-3-John.C.Harrison@Intel.com>
From: Tvrtko Ursulin <tvrtko.ursulin@linux.intel.com>
Organization: Intel Corporation UK Plc
Message-ID: <a0e23c5f-3976-f79e-4c43-da8bb2d45bd8@linux.intel.com>
Date: Tue, 24 Sep 2019 10:12:17 +0100
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101
 Thunderbird/60.8.0
MIME-Version: 1.0
In-Reply-To: <20190923235152.35979-3-John.C.Harrison@Intel.com>
Content-Language: en-US
Subject: Re: [Intel-gfx] [PATCH 2/2] drm/i915: Engine relative MMIO for Gen12
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

Ck9uIDI0LzA5LzIwMTkgMDA6NTEsIEpvaG4uQy5IYXJyaXNvbkBJbnRlbC5jb20gd3JvdGU6Cj4g
RnJvbTogSm9obiBIYXJyaXNvbiA8Sm9obi5DLkhhcnJpc29uQEludGVsLmNvbT4KPiAKPiBHZW4x
MiBpbnRyb2R1Y2VzIGEgY29tcGxldGVseSBuZXcgYW5kIGRpZmZlcmVudCBzY2hlbWUgZm9yCj4g
aW1wbGVtZW50aW5nIGVuZ2luZSByZWxhdGl2ZSBNTUlPIGFjY2Vzc2VzIC0gTUlfTFJJX01NSU9f
UkVNQVAuIFRoaXMKPiByZXF1aXJlcyB1c2luZyB0aGUgYmFzZSBhZGRyZXNzIG9mIGluc3RhbmNl
IHplcm8gb2YgdGhlIHJlbGV2YW50Cj4gZW5naW5lIGNsYXNzLiBBbmQgdGhlbiwgaXQgaXMgb25s
eSB2YWxpZCBpZiB0aGUgcmVnaXN0ZXIgaW4KPiBxdWVzdGlvbiBmYWxscyB3aXRoaW4gYSBjZXJ0
YWluIHJhbmdlIGFzIHNwZWNpZmllZCBieSBhIHRhYmxlLgo+IAo+IHYyOiBBZGQgc3VwcG9ydCBm
b3IgZnVzZWQgcGFydHMgd2hlcmUgaW5zdGFuY2UgemVybyBvZiBhIGdpdmVuIGVuZ2luZQo+IGNs
YXNzIG1heSBiZSBtaXNzaW5nLiBNYWtlIGF1eF90YWJsZXMgcHJlc2VuY2UgYSBkZXZpY2UgZmxh
ZyByYXRoZXIKPiB0aGFuIGp1c3QgaGFyZCBjb2RlZC4gUHJlLWNhbGN1bGF0ZSB0aGUgY29ycmVj
dCBMUkkgYmFzZSBhZGRyZXNzCj4gcmF0aGVyIHRoYW4gdXNpbmcgYSBwZXItaW5zdGFuY2UgYmFz
ZSBhbmQgdGhlbiBhZGRpbmcgb24gYSBkZWx0YSB0bwo+IHRoZSBjb3JyZWN0IGJhc2UgbGF0ZXIu
IE1ha2UgYWxsIHRoZSB0YWJsZSByYW5nZSBjaGVja2luZyBhIGRlYnVnIG9ubHkKPiBmZWF0dXJl
IC0gdGhlIHRoZW9yeSBpcyB0aGF0IGFsbCBkcml2ZXIgYWNjZXNzIHNob3VsZCBiZSB3aXRoaW4g
dGhlCj4gcmVtYXAgcmFuZ2VzLiBbRGFuaWVsZV0KPiAKPiB2MzogUmUtYmFzZSBvbiBNaWthJ3Mg
Y2hhbmdlcy4gVGhpcyByZW1vdmVzIGFsbCB0aGUgYWJzdHJhY3Rpb24gbGF5ZXIuCj4gV2hpY2gg
YWxzbyBtZWFucyB0aGVyZSBpcyBubyBjb21tb24gY29kZSBwYXRoIHRoYXQgYWxsIExSSSBhY2Nl
c3NlcyBnbwo+IHZpYS4gVGh1cyBpdCBpcyBub3QgcG9zc2libGUgdG8gaW1wbGVtZW50IHRoZSBy
YW5nZSBjaGVjay4gSG93ZXZlciwgYXMKPiBub3RlZCBpbiB2MiwgdGhlIHJhbmdlIGNoZWNrIHNo
b3VsZCBub3QgYmUgbmVjZXNzYXJ5IGFueXdheS4KPiAKPiBTaWduZWQtb2ZmLWJ5OiBKb2huIEhh
cnJpc29uIDxKb2huLkMuSGFycmlzb25ASW50ZWwuY29tPgo+IENDOiBEYW5pZWxlIENlcmFvbG8g
U3B1cmlvIDxkYW5pZWxlLmNlcmFvbG9zcHVyaW9AaW50ZWwuY29tPgo+IC0tLQo+ICAgZHJpdmVy
cy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZW5naW5lX2NzLmMgICAgfCAyNyArKysrKysrKysrKysr
KysrKy0tLQo+ICAgZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZW5naW5lX3R5cGVzLmgg
fCAgMSArCj4gICBkcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9ncHVfY29tbWFuZHMuaCB8
ICA5ICsrKystLS0KPiAgIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX21vY3MuYyAgICAg
ICAgIHwgIDYgKystLS0KPiAgIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfcGVyZi5jICAgICAg
ICAgICAgIHwgIDMgKystCj4gICBkcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9kZXZpY2VfaW5m
by5jICAgICB8IDE0ICsrKysrKysrKysKPiAgIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX2Rl
dmljZV9pbmZvLmggICAgIHwgIDEgKwo+ICAgNyBmaWxlcyBjaGFuZ2VkLCA0OSBpbnNlcnRpb25z
KCspLCAxMiBkZWxldGlvbnMoLSkKPiAKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5
MTUvZ3QvaW50ZWxfZW5naW5lX2NzLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9l
bmdpbmVfY3MuYwo+IGluZGV4IDVhYTU4ZTA2OTgwNi4uMDlmYmJmZmNlNDE5IDEwMDY0NAo+IC0t
LSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2VuZ2luZV9jcy5jCj4gKysrIGIvZHJp
dmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZW5naW5lX2NzLmMKPiBAQCAtMjQ3LDE0ICsyNDcs
MzIgQEAgc3RhdGljIGJvb2wgaTkxNV9lbmdpbmVfaGFzX3JlbGF0aXZlX2xyaShjb25zdCBzdHJ1
Y3QgaW50ZWxfZW5naW5lX2NzICplbmdpbmUpCj4gICAJcmV0dXJuIHRydWU7Cj4gICB9Cj4gICAK
PiAtc3RhdGljIHZvaWQgbHJpX2luaXQoc3RydWN0IGludGVsX2VuZ2luZV9jcyAqZW5naW5lKQo+
ICtzdGF0aWMgdm9pZCBscmlfaW5pdChzdHJ1Y3QgaW50ZWxfZW5naW5lX2NzICplbmdpbmUsIHUz
MiBmaXJzdF9pbnN0YW5jZSkKPiAgIHsKPiAgIAlpZiAoaTkxNV9lbmdpbmVfaGFzX3JlbGF0aXZl
X2xyaShlbmdpbmUpKSB7Cj4gLQkJZW5naW5lLT5scmlfY21kX21vZGUgPSBNSV9MUklfQUREX0NT
X01NSU9fU1RBUlRfR0VOMTE7Cj4gLQkJZW5naW5lLT5scmlfbW1pb19iYXNlID0gMDsKPiArCQlp
ZiAoSU5URUxfR0VOKGVuZ2luZS0+aTkxNSkgPCAxMikgewo+ICsJCQllbmdpbmUtPmxyaV9jbWRf
bW9kZSA9IE1JX0xSSV9BRERfQ1NfTU1JT19TVEFSVF9HRU4xMTsKPiArCQkJZW5naW5lLT5scmlf
bW1pb19iYXNlID0gMDsvL2VuZ2luZS0+bW1pb19iYXNlOwoKTm8gQysrIHN0eWxlIGNvbW1lbnRz
IHBsZWFzZS4KCj4gKwkJCWVuZ2luZS0+bHJpX2VuZ2luZSA9IGVuZ2luZTsKPiArCQl9IGVsc2Ug
ewo+ICsJCQllbmdpbmUtPmxyaV9jbWRfbW9kZSA9IE1JX0xSSV9NTUlPX1JFTUFQX0dFTjEyOwo+
ICsKPiArCQkJZW5naW5lLT5scmlfZW5naW5lID0gZW5naW5lLT5ndC0+ZW5naW5lX2NsYXNzCj4g
KwkJCQkJCVtlbmdpbmUtPmNsYXNzXVtmaXJzdF9pbnN0YW5jZV07Cj4gKwkJCUdFTV9CVUdfT04o
IWVuZ2luZS0+bHJpX2VuZ2luZSk7Cj4gKwkJCWVuZ2luZS0+bHJpX21taW9fYmFzZSA9IGVuZ2lu
ZS0+bHJpX2VuZ2luZS0+bW1pb19iYXNlOwo+ICsKPiArCQkJLyogQWNjb3JkaW5nIHRvIHRoZSBi
c3BlYywgYWNjZXNzZXMgc2hvdWxkIGJlIGNvbXBhcmVkCgpQcmVmZXJyZWQgc3R5bGU6CgovKgog
ICogQmxhaAogICovCgoKPiArCQkJICogYWdhaW5zdCB0aGUgcmVtYXAgdGFibGUgYW5kIHJlbWFw
cGluZyBvbmx5IGVuYWJsZWQKPiArCQkJICogaWYgZm91bmQuIEluIHByYWN0aWNlLCBhbGwgZHJp
dmVyIGFjY2Vzc2VzIHNob3VsZCBiZQo+ICsJCQkgKiB0byByZW1hcCByZWdpc3RlcnMuIFNvLCBu
byBuZWVkIGZvciB0aGUgY29tcGxpY2F0aW9uCj4gKwkJCSAqIG9mIGNoZWNraW5nIGFnYWluc3Qg
YW55IGRldmljZSBzcGVjaWZpYyB0YWJsZXMuCj4gKwkJCSAqLwo+ICsJCX0KPiAgIAl9IGVsc2Ug
ewo+ICAgCQllbmdpbmUtPmxyaV9jbWRfbW9kZSA9IDA7Cj4gICAJCWVuZ2luZS0+bHJpX21taW9f
YmFzZSA9IGVuZ2luZS0+bW1pb19iYXNlOwo+ICsJCWVuZ2luZS0+bHJpX2VuZ2luZSA9IGVuZ2lu
ZTsKPiAgIAl9CgpJZiBpdCBoZWxwcyBhdCBhbGwgeW91IGNvdWxkIHNhdmUgb25lIGluZGVudGF0
aW9uIGxldmVsIGJ5IGRvaW5nOgoKaWYgKCFzdXBwb3J0c19scmkpIHsKCn0gZWxzZSBpZiAoR0VO
ID09IDExKSB7Cgp9IGVsc2UgewoKfQoKPiAgIH0KPiAgIAo+IEBAIC0zNDIsNyArMzYwLDggQEAg
c3RhdGljIGludCBpbnRlbF9lbmdpbmVfc2V0dXAoc3RydWN0IGludGVsX2d0ICpndCwgZW51bSBp
bnRlbF9lbmdpbmVfaWQgaWQpCj4gICAJLyogTm90aGluZyB0byBkbyBoZXJlLCBleGVjdXRlIGlu
IG9yZGVyIG9mIGRlcGVuZGVuY2llcyAqLwo+ICAgCWVuZ2luZS0+c2NoZWR1bGUgPSBOVUxMOwo+
ICAgCj4gLQlscmlfaW5pdChlbmdpbmUpOwo+ICsJbHJpX2luaXQoZW5naW5lLAo+ICsJCSBJTlRF
TF9JTkZPKGVuZ2luZS0+aTkxNSktPmZpcnN0X2luc3RhbmNlW2VuZ2luZS0+Y2xhc3NdKTsKPiAg
IAo+ICAgCXNlcWxvY2tfaW5pdCgmZW5naW5lLT5zdGF0cy5sb2NrKTsKPiAgIAo+IGRpZmYgLS1n
aXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9lbmdpbmVfdHlwZXMuaCBiL2RyaXZl
cnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2VuZ2luZV90eXBlcy5oCj4gaW5kZXggMzhmNDg2Zjdm
N2UzLi42MmNhYTc0ZTg1NTggMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3Qv
aW50ZWxfZW5naW5lX3R5cGVzLmgKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRl
bF9lbmdpbmVfdHlwZXMuaAo+IEBAIC0zMDgsNiArMzA4LDcgQEAgc3RydWN0IGludGVsX2VuZ2lu
ZV9jcyB7Cj4gICAKPiAgIAl1MzIgbHJpX21taW9fYmFzZTsKPiAgIAl1MzIgbHJpX2NtZF9tb2Rl
Owo+ICsJc3RydWN0IGludGVsX2VuZ2luZV9jcyAqbHJpX2VuZ2luZTsKPiAgIAo+ICAgCXUzMiB1
YWJpX2NhcGFiaWxpdGllczsKPiAgIAo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkx
NS9ndC9pbnRlbF9ncHVfY29tbWFuZHMuaCBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVs
X2dwdV9jb21tYW5kcy5oCj4gaW5kZXggYmZiNTFkOGQ3Y2UyLi45YzViZTM4NDAyNmYgMTAwNjQ0
Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZ3B1X2NvbW1hbmRzLmgKPiAr
KysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9ncHVfY29tbWFuZHMuaAo+IEBAIC0x
MzMsMTUgKzEzMywxNiBAQAo+ICAgICogICBzaW1wbHkgaWdub3JlcyB0aGUgcmVnaXN0ZXIgbG9h
ZCB1bmRlciBjZXJ0YWluIGNvbmRpdGlvbnMuCj4gICAgKiAtIE9uZSBjYW4gYWN0dWFsbHkgbG9h
ZCBhcmJpdHJhcnkgbWFueSBhcmJpdHJhcnkgcmVnaXN0ZXJzOiBTaW1wbHkgaXNzdWUgeAo+ICAg
ICogICBhZGRyZXNzL3ZhbHVlIHBhaXJzLiBEb24ndCBvdmVyZHVlIGl0LCB0aG91Z2gsIHggPD0g
Ml40IG11c3QgaG9sZCEKPiAtICogLSBOZXdlciBoYXJkd2FyZSBzdXBwb3J0cyBlbmdpbmUgcmVs
YXRpdmUgYWRkcmVzc2luZyBidXQgb2xkZXIgaGFyZHdhcmUgZG9lcwo+IC0gKiAgIG5vdC4gVGhp
cyBpcyByZXF1aXJlZCBmb3IgaHcgZW5naW5lIGxvYWQgYmFsYW5jaW5nLiBIZW5jZSB0aGUgTUlf
TFJJCj4gLSAqICAgaW5zdHJ1Y3Rpb24gaXRzZWxmIGlzIHByZWZpeGVkIHdpdGggJ19fJyBhbmQg
c2hvdWxkIG9ubHkgYmUgdXNlZCBvbgo+IC0gKiAgIGxlZ2FjeSBoYXJkd2FyZSBjb2RlIHBhdGhz
LiBHZW5lcmljIGNvZGUgbXVzdCBhbHdheXMgdXNlIHRoZSBNSV9MUkkKPiArICogLSBOZXdlciBo
YXJkd2FyZSBzdXBwb3J0cyBlbmdpbmUgcmVsYXRpdmUgYWRkcmVzc2luZyBidXQgdXNpbmcgbXVs
dGlwbGUKPiArICogICBpbmNvbXBhdGlibGUgc2NoZW1lcy4gVGhpcyBpcyByZXF1aXJlZCBmb3Ig
aHcgZW5naW5lIGxvYWQgYmFsYW5jaW5nLiBIZW5jZQo+ICsgKiAgIHRoZSBNSV9MUkkgaW5zdHJ1
Y3Rpb24gaXRzZWxmIGlzIHByZWZpeGVkIHdpdGggJ19fJyBhbmQgc2hvdWxkIG9ubHkgYmUKCklz
IHRoZSBkb3VibGUgdW5kZXJzY29yZSByZWZlcmVuY2Ugb3V0IG9mIGRhdGUgbm93PwoKPiArICog
ICB1c2VkIG9uIGxlZ2FjeSBoYXJkd2FyZSBjb2RlIHBhdGhzLiBHZW5lcmljIGNvZGUgbXVzdCBh
bHdheXMgdXNlIHRoZSBNSV9MUkkKPiAgICAqICAgYW5kIGk5MTVfZ2V0X2xyaV9yZWcoKSBoZWxw
ZXIgZnVuY3Rpb25zIGluc3RlYWQuCj4gICAgKi8KPiAgICNkZWZpbmUgTUlfTE9BRF9SRUdJU1RF
Ul9JTU0oeCkJTUlfSU5TVFIoMHgyMiwgMiooeCktMSkKPiAgIC8qIEdlbjExKy4gYWRkciA9IGJh
c2UgKyAoY3R4X3Jlc3RvcmUgPyBvZmZzZXQgJiBHRU5NQVNLKDEyLDIpIDogb2Zmc2V0KSAqLwo+
ICAgI2RlZmluZSAgIE1JX0xSSV9GT1JDRV9QT1NURUQJCSgxPDwxMikKPiArI2RlZmluZSAgIE1J
X0xSSV9NTUlPX1JFTUFQX0dFTjEyCQlCSVQoMTcpCj4gICAjZGVmaW5lICAgTUlfTFJJX0FERF9D
U19NTUlPX1NUQVJUX0dFTjExCUJJVCgxOSkKPiAgICNkZWZpbmUgTUlfU1RPUkVfUkVHSVNURVJf
TUVNICAgICAgICBNSV9JTlNUUigweDI0LCAxKQo+ICAgI2RlZmluZSBNSV9TVE9SRV9SRUdJU1RF
Ul9NRU1fR0VOOCAgIE1JX0lOU1RSKDB4MjQsIDIpCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1
L2RybS9pOTE1L2d0L2ludGVsX21vY3MuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVs
X21vY3MuYwo+IGluZGV4IDhlOGZlM2RlYjk1Yy4uZTEyMWZlYTViMzNjIDEwMDY0NAo+IC0tLSBh
L2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX21vY3MuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1
L2RybS9pOTE1L2d0L2ludGVsX21vY3MuYwo+IEBAIC00MzgsNyArNDM4LDcgQEAgc3RhdGljIHZv
aWQgaW50ZWxfbW9jc19pbml0X2dsb2JhbChzdHJ1Y3QgaW50ZWxfZ3QgKmd0KQo+ICAgc3RhdGlj
IGludCBlbWl0X21vY3NfY29udHJvbF90YWJsZShzdHJ1Y3QgaTkxNV9yZXF1ZXN0ICpycSwKPiAg
IAkJCQkgICBjb25zdCBzdHJ1Y3QgZHJtX2k5MTVfbW9jc190YWJsZSAqdGFibGUpCj4gICB7Cj4g
LQllbnVtIGludGVsX2VuZ2luZV9pZCBlbmdpbmUgPSBycS0+ZW5naW5lLT5pZDsKPiArCWVudW0g
aW50ZWxfZW5naW5lX2lkIGVuZ2luZV9pZCA9IHJxLT5lbmdpbmUtPmxyaV9lbmdpbmUtPmlkOwoK
T2JzZXJ2YXRpb246IElmIHlvdSBkb24ndCByZW5hbWUgdGhlIGxvY2FsIGRpZmYgaXMgc21hbGxl
ci4KCj4gICAJdW5zaWduZWQgaW50IGluZGV4Owo+ICAgCXUzMiB1bnVzZWRfdmFsdWU7Cj4gICAJ
dTMyICpjczsKPiBAQCAtNDU5LDEzICs0NTksMTMgQEAgc3RhdGljIGludCBlbWl0X21vY3NfY29u
dHJvbF90YWJsZShzdHJ1Y3QgaTkxNV9yZXF1ZXN0ICpycSwKPiAgIAlmb3IgKGluZGV4ID0gMDsg
aW5kZXggPCB0YWJsZS0+c2l6ZTsgaW5kZXgrKykgewo+ICAgCQl1MzIgdmFsdWUgPSBnZXRfZW50
cnlfY29udHJvbCh0YWJsZSwgaW5kZXgpOwo+ICAgCj4gLQkJKmNzKysgPSBpOTE1X21taW9fcmVn
X29mZnNldChtb2NzX3JlZ2lzdGVyKGVuZ2luZSwgaW5kZXgpKTsKPiArCQkqY3MrKyA9IGk5MTVf
bW1pb19yZWdfb2Zmc2V0KG1vY3NfcmVnaXN0ZXIoZW5naW5lX2lkLCBpbmRleCkpOwo+ICAgCQkq
Y3MrKyA9IHZhbHVlOwo+ICAgCX0KPiAgIAo+ICAgCS8qIEFsbCByZW1haW5pbmcgZW50cmllcyBh
cmUgYWxzbyB1bnVzZWQgKi8KPiAgIAlmb3IgKDsgaW5kZXggPCB0YWJsZS0+bl9lbnRyaWVzOyBp
bmRleCsrKSB7Cj4gLQkJKmNzKysgPSBpOTE1X21taW9fcmVnX29mZnNldChtb2NzX3JlZ2lzdGVy
KGVuZ2luZSwgaW5kZXgpKTsKPiArCQkqY3MrKyA9IGk5MTVfbW1pb19yZWdfb2Zmc2V0KG1vY3Nf
cmVnaXN0ZXIoZW5naW5lX2lkLCBpbmRleCkpOwo+ICAgCQkqY3MrKyA9IHVudXNlZF92YWx1ZTsK
PiAgIAl9Cj4gICAKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9wZXJm
LmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3BlcmYuYwo+IGluZGV4IDhiODVjZGZhZGEy
MS4uZmQ2MjhhZTEyMzQzIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVf
cGVyZi5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9wZXJmLmMKPiBAQCAtMTY5
NSw3ICsxNjk1LDggQEAgZ2VuOF91cGRhdGVfcmVnX3N0YXRlX3VubG9ja2VkKHN0cnVjdCBpOTE1
X3BlcmZfc3RyZWFtICpzdHJlYW0sCj4gICAKPiAgIAkvKgo+ICAgCSAqIE5COiBUaGUgTFJJIGlu
c3RydWN0aW9uIGlzIGdlbmVyYXRlZCBieSB0aGUgaGFyZHdhcmUuCj4gLQkgKiBTaG91bGQgd2Ug
cmVhZCBpdCBpbiBhbmQgYXNzZXJ0IHRoYXQgdGhlIG9mZnNldCBmbGFnIGlzIHNldD8KPiArCSAq
IFNob3VsZCB3ZSByZWFkIGl0IGluIGFuZCBhc3NlcnQgdGhhdCB0aGUgYXBwcm9wcmlhdGUKPiAr
CSAqIG9mZnNldCBmbGFnIGlzIHNldD8KPiAgIAkgKi8KPiAgIAo+ICAgCUNUWF9SRUcocmVnX3N0
YXRlLCBjdHhfb2FjdHhjdHJsLCBHRU44X09BQ1RYQ09OVFJPTCwKPiBkaWZmIC0tZ2l0IGEvZHJp
dmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfZGV2aWNlX2luZm8uYyBiL2RyaXZlcnMvZ3B1L2RybS9p
OTE1L2ludGVsX2RldmljZV9pbmZvLmMKPiBpbmRleCA4NWU0ODBiZGM2NzMuLmRlY2UwMTJkM2Fk
NCAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9kZXZpY2VfaW5mby5j
Cj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfZGV2aWNlX2luZm8uYwo+IEBAIC0x
MDMwLDYgKzEwMzAsNyBAQCB2b2lkIGludGVsX2RldmljZV9pbmZvX2luaXRfbW1pbyhzdHJ1Y3Qg
ZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYpCj4gICAJdTMyIG1lZGlhX2Z1c2U7Cj4gICAJdTE2
IHZkYm94X21hc2s7Cj4gICAJdTE2IHZlYm94X21hc2s7Cj4gKwlib29sIGZvdW5kOwo+ICAgCj4g
ICAJaWYgKElOVEVMX0dFTihkZXZfcHJpdikgPCAxMSkKPiAgIAkJcmV0dXJuOwo+IEBAIC0xMDQw
LDYgKzEwNDEsNyBAQCB2b2lkIGludGVsX2RldmljZV9pbmZvX2luaXRfbW1pbyhzdHJ1Y3QgZHJt
X2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYpCj4gICAJdmVib3hfbWFzayA9IChtZWRpYV9mdXNlICYg
R0VOMTFfR1RfVkVCT1hfRElTQUJMRV9NQVNLKSA+Pgo+ICAgCQkgICAgICBHRU4xMV9HVF9WRUJP
WF9ESVNBQkxFX1NISUZUOwo+ICAgCj4gKwlmb3VuZCA9IGZhbHNlOwo+ICAgCWZvciAoaSA9IDA7
IGkgPCBJOTE1X01BWF9WQ1M7IGkrKykgewo+ICAgCQlpZiAoIUhBU19FTkdJTkUoZGV2X3ByaXYs
IF9WQ1MoaSkpKSB7Cj4gICAJCQl2ZGJveF9tYXNrICY9IH5CSVQoaSk7Cj4gQEAgLTEwNTksMTEg
KzEwNjEsMTcgQEAgdm9pZCBpbnRlbF9kZXZpY2VfaW5mb19pbml0X21taW8oc3RydWN0IGRybV9p
OTE1X3ByaXZhdGUgKmRldl9wcml2KQo+ICAgCQkgKi8KPiAgIAkJaWYgKElTX1RJR0VSTEFLRShk
ZXZfcHJpdikgfHwgbG9naWNhbF92ZGJveCsrICUgMiA9PSAwKQo+ICAgCQkJUlVOVElNRV9JTkZP
KGRldl9wcml2KS0+dmRib3hfc2ZjX2FjY2VzcyB8PSBCSVQoaSk7Cj4gKwo+ICsJCWlmICghZm91
bmQpIHsKPiArCQkJZm91bmQgPSB0cnVlOwo+ICsJCQlpbmZvLT5maXJzdF9pbnN0YW5jZVtWSURF
T19ERUNPREVfQ0xBU1NdID0gaTsKPiArCQl9Cj4gICAJfQo+ICAgCURSTV9ERUJVR19EUklWRVIo
InZkYm94IGVuYWJsZTogJTA0eCwgaW5zdGFuY2VzOiAlMDRseFxuIiwKPiAgIAkJCSB2ZGJveF9t
YXNrLCBWREJPWF9NQVNLKGRldl9wcml2KSk7Cj4gICAJR0VNX0JVR19PTih2ZGJveF9tYXNrICE9
IFZEQk9YX01BU0soZGV2X3ByaXYpKTsKPiAgIAo+ICsJZm91bmQgPSBmYWxzZTsKPiAgIAlmb3Ig
KGkgPSAwOyBpIDwgSTkxNV9NQVhfVkVDUzsgaSsrKSB7Cj4gICAJCWlmICghSEFTX0VOR0lORShk
ZXZfcHJpdiwgX1ZFQ1MoaSkpKSB7Cj4gICAJCQl2ZWJveF9tYXNrICY9IH5CSVQoaSk7Cj4gQEAg
LTEwNzMsNiArMTA4MSwxMiBAQCB2b2lkIGludGVsX2RldmljZV9pbmZvX2luaXRfbW1pbyhzdHJ1
Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYpCj4gICAJCWlmICghKEJJVChpKSAmIHZlYm94
X21hc2spKSB7Cj4gICAJCQlpbmZvLT5lbmdpbmVfbWFzayAmPSB+QklUKF9WRUNTKGkpKTsKPiAg
IAkJCURSTV9ERUJVR19EUklWRVIoInZlY3MldSBmdXNlZCBvZmZcbiIsIGkpOwo+ICsJCQljb250
aW51ZTsKPiArCQl9Cj4gKwo+ICsJCWlmICghZm91bmQpIHsKPiArCQkJZm91bmQgPSB0cnVlOwo+
ICsJCQlpbmZvLT5maXJzdF9pbnN0YW5jZVtWSURFT19FTkhBTkNFTUVOVF9DTEFTU10gPSBpOwo+
ICAgCQl9Cj4gICAJfQo+ICAgCURSTV9ERUJVR19EUklWRVIoInZlYm94IGVuYWJsZTogJTA0eCwg
aW5zdGFuY2VzOiAlMDRseFxuIiwKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUv
aW50ZWxfZGV2aWNlX2luZm8uaCBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX2RldmljZV9p
bmZvLmgKPiBpbmRleCAwY2RjMjQ2NTUzNGIuLjc1YTk5NTA5NjlmYiAxMDA2NDQKPiAtLS0gYS9k
cml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9kZXZpY2VfaW5mby5oCj4gKysrIGIvZHJpdmVycy9n
cHUvZHJtL2k5MTUvaW50ZWxfZGV2aWNlX2luZm8uaAo+IEBAIC0xNTIsNiArMTUyLDcgQEAgc3Ry
dWN0IGludGVsX2RldmljZV9pbmZvIHsKPiAgIAl1OCBnZW47Cj4gICAJdTggZ3Q7IC8qIEdUIG51
bWJlciwgMCBpZiB1bmRlZmluZWQgKi8KPiAgIAlpbnRlbF9lbmdpbmVfbWFza190IGVuZ2luZV9t
YXNrOyAvKiBFbmdpbmVzIHN1cHBvcnRlZCBieSB0aGUgSFcgKi8KPiArCXUzMiBmaXJzdF9pbnN0
YW5jZVtNQVhfRU5HSU5FX0NMQVNTXTsgLyogaW5zdGFuY2UgMCBtaWdodCBiZSBmdXNlZCAqLwoK
dTMyIGlzIG92ZXJraWxsIGhvd2V2ZXIgZG8geW91IGV2ZW4gbmVlZCB0byBzdG9yZSB0aGlzIHBl
cnNpc3RlbnRseT8gCkxvb2tzIGxpa2UgYWxsIHRoYXQgaXMgbmVlZGVkIGF0IHJ1bnRpbWUgaXMg
ZW5naW5lLT5scmlfZW5naW5lPyBTbyB5b3UgCmNvdWxkIGxvb2t1cCB0aGUgZmlyc3QgaW5zdGFu
Y2UgZnJvbSBpbnRlbF9lbmdpbmVfc2V0dXAuIE9yIGlmIEkgbWlzc2VkIApzb21ldGhpbmcgYW5k
IHlvdSBkbyBuZWVkIGl0IGF0IHJ1bnRpbWUsIHRoZW4gc2hvdWxkIGdvIHRvIHJ1bnRpbWUgaW5m
byAKc2luY2Ugd2Ugd2FudCB0byBhdm9pZCBkZXBlbmRlbmNpZXMgb24gbWt3cml0ZV9kZXZpY2Vf
aW5mbyB3aGVyZSBwb3NzaWJsZS4KCj4gICAKPiAgIAllbnVtIGludGVsX3BsYXRmb3JtIHBsYXRm
b3JtOwo+ICAgCj4gCgpSZWdhcmRzLAoKVHZydGtvCgpQLlMuIEp1c3QgYSBzdXBlcmZpY2lhbCBz
Y2FuLCBub3QgYSBub3JtYWwgcmV2aWV3LgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fXwpJbnRlbC1nZnggbWFpbGluZyBsaXN0CkludGVsLWdmeEBsaXN0cy5m
cmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0
aW5mby9pbnRlbC1nZng=

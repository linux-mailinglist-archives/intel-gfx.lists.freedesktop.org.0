Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 59CE310FF99
	for <lists+intel-gfx@lfdr.de>; Tue,  3 Dec 2019 15:06:58 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id AA7AB6E5BF;
	Tue,  3 Dec 2019 14:06:56 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga05.intel.com (mga05.intel.com [192.55.52.43])
 by gabe.freedesktop.org (Postfix) with ESMTPS id E7EE76E5BF
 for <intel-gfx@lists.freedesktop.org>; Tue,  3 Dec 2019 14:06:55 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga008.jf.intel.com ([10.7.209.65])
 by fmsmga105.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 03 Dec 2019 06:06:55 -0800
X-IronPort-AV: E=Sophos;i="5.69,273,1571727600"; d="scan'208";a="204985547"
Received: from shaywa1-mobl.ger.corp.intel.com (HELO [10.252.9.203])
 ([10.252.9.203])
 by orsmga008-auth.jf.intel.com with ESMTP/TLS/AES256-SHA;
 03 Dec 2019 06:06:54 -0800
To: Chris Wilson <chris@chris-wilson.co.uk>, intel-gfx@lists.freedesktop.org
References: <20191202110812.2334138-1-chris@chris-wilson.co.uk>
From: Tvrtko Ursulin <tvrtko.ursulin@linux.intel.com>
Organization: Intel Corporation UK Plc
Message-ID: <12198495-921a-4e69-9a4e-b2570a4d3648@linux.intel.com>
Date: Tue, 3 Dec 2019 14:06:51 +0000
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101
 Thunderbird/60.9.0
MIME-Version: 1.0
In-Reply-To: <20191202110812.2334138-1-chris@chris-wilson.co.uk>
Content-Language: en-US
Subject: Re: [Intel-gfx] [PATCH] drm/i915/gt: Remove direct invocation of
 breadcrumb signaling
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

Ck9uIDAyLzEyLzIwMTkgMTE6MDgsIENocmlzIFdpbHNvbiB3cm90ZToKPiBPbmx5IHNpZ25hbCB0
aGUgYnJlYWRjcnVtYnMgZnJvbSBpbnNpZGUgdGhlIGlycV93b3JrLCBzaW1wbGlmeWluZyBvdXIK
PiBpbnRlcmZhY2UgYW5kIGNhbGxpbmcgY29udmVudGlvbnMuCgpNYWtpbmcgSWNlbGFrZSBzaWdu
YWxpbmcgbGF0ZW5jeSBsb29rIGJldHRlcj8gOikgQSBmZXcgbW9yZSB3b3JkcyBhYm91dCAKbW90
aXZhdGlvbiB3b3VsZCBiZSBnb29kLgoKUmVnYXJkcywKClR2cnRrbwoKPiAKPiBTaWduZWQtb2Zm
LWJ5OiBDaHJpcyBXaWxzb24gPGNocmlzQGNocmlzLXdpbHNvbi5jby51az4KPiAtLS0KPiAgIGRy
aXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2JyZWFkY3J1bWJzLmMgICB8IDI3ICsrKysrKyst
LS0tLS0tLS0tLS0KPiAgIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2VuZ2luZS5oICAg
ICAgICB8ICA0ICstLQo+ICAgZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZ3RfaXJxLmMg
ICAgICAgIHwgMTIgKysrKy0tLS0tCj4gICBkcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9s
cmMuYyAgICAgICAgICAgfCAgMiArLQo+ICAgZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxf
cmVzZXQuYyAgICAgICAgIHwgIDQgKy0tCj4gICAuLi4vZ3B1L2RybS9pOTE1L2d0L2ludGVsX3Jp
bmdfc3VibWlzc2lvbi5jICAgfCAgMiArLQo+ICAgZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50
ZWxfcnBzLmMgICAgICAgICAgIHwgIDIgKy0KPiAgIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L21v
Y2tfZW5naW5lLmMgICAgICAgICB8ICAyICstCj4gICBkcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1
X2lycS5jICAgICAgICAgICAgICAgfCAgOCArKystLS0KPiAgIGRyaXZlcnMvZ3B1L2RybS9pOTE1
L2k5MTVfcmVxdWVzdC5jICAgICAgICAgICB8ICAyICstCj4gICAxMCBmaWxlcyBjaGFuZ2VkLCAy
NyBpbnNlcnRpb25zKCspLCAzOCBkZWxldGlvbnMoLSkKPiAKPiBkaWZmIC0tZ2l0IGEvZHJpdmVy
cy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfYnJlYWRjcnVtYnMuYyBiL2RyaXZlcnMvZ3B1L2RybS9p
OTE1L2d0L2ludGVsX2JyZWFkY3J1bWJzLmMKPiBpbmRleCA1NTMxNzA4MWQ0OGIuLjZhY2Y4MjA4
YmE3OSAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9icmVhZGNy
dW1icy5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfYnJlYWRjcnVtYnMu
Ywo+IEBAIC0xMjcsMTYgKzEyNywxNSBAQCBfX2RtYV9mZW5jZV9zaWduYWxfX25vdGlmeShzdHJ1
Y3QgZG1hX2ZlbmNlICpmZW5jZSwKPiAgIAl9Cj4gICB9Cj4gICAKPiAtdm9pZCBpbnRlbF9lbmdp
bmVfYnJlYWRjcnVtYnNfaXJxKHN0cnVjdCBpbnRlbF9lbmdpbmVfY3MgKmVuZ2luZSkKPiArc3Rh
dGljIHZvaWQgc2lnbmFsX2lycV93b3JrKHN0cnVjdCBpcnFfd29yayAqd29yaykKPiAgIHsKPiAt
CXN0cnVjdCBpbnRlbF9icmVhZGNydW1icyAqYiA9ICZlbmdpbmUtPmJyZWFkY3J1bWJzOwo+ICsJ
c3RydWN0IGludGVsX2JyZWFkY3J1bWJzICpiID0gY29udGFpbmVyX29mKHdvcmssIHR5cGVvZigq
YiksIGlycV93b3JrKTsKPiAgIAljb25zdCBrdGltZV90IHRpbWVzdGFtcCA9IGt0aW1lX2dldCgp
Owo+ICAgCXN0cnVjdCBpbnRlbF9jb250ZXh0ICpjZSwgKmNuOwo+ICAgCXN0cnVjdCBsaXN0X2hl
YWQgKnBvcywgKm5leHQ7Cj4gLQl1bnNpZ25lZCBsb25nIGZsYWdzOwo+ICAgCUxJU1RfSEVBRChz
aWduYWwpOwo+ICAgCj4gLQlzcGluX2xvY2tfaXJxc2F2ZSgmYi0+aXJxX2xvY2ssIGZsYWdzKTsK
PiArCXNwaW5fbG9jaygmYi0+aXJxX2xvY2spOwo+ICAgCj4gICAJaWYgKGItPmlycV9hcm1lZCAm
JiBsaXN0X2VtcHR5KCZiLT5zaWduYWxlcnMpKQo+ICAgCQlfX2ludGVsX2JyZWFkY3J1bWJzX2Rp
c2FybV9pcnEoYik7Cj4gQEAgLTE4MiwzMSArMTgxLDIzIEBAIHZvaWQgaW50ZWxfZW5naW5lX2Jy
ZWFkY3J1bWJzX2lycShzdHJ1Y3QgaW50ZWxfZW5naW5lX2NzICplbmdpbmUpCj4gICAJCX0KPiAg
IAl9Cj4gICAKPiAtCXNwaW5fdW5sb2NrX2lycXJlc3RvcmUoJmItPmlycV9sb2NrLCBmbGFncyk7
Cj4gKwlzcGluX3VubG9jaygmYi0+aXJxX2xvY2spOwo+ICAgCj4gICAJbGlzdF9mb3JfZWFjaF9z
YWZlKHBvcywgbmV4dCwgJnNpZ25hbCkgewo+ICAgCQlzdHJ1Y3QgaTkxNV9yZXF1ZXN0ICpycSA9
Cj4gICAJCQlsaXN0X2VudHJ5KHBvcywgdHlwZW9mKCpycSksIHNpZ25hbF9saW5rKTsKPiAgIAkJ
c3RydWN0IGxpc3RfaGVhZCBjYl9saXN0Owo+ICAgCj4gLQkJc3Bpbl9sb2NrX2lycXNhdmUoJnJx
LT5sb2NrLCBmbGFncyk7Cj4gKwkJc3Bpbl9sb2NrKCZycS0+bG9jayk7Cj4gICAJCWxpc3RfcmVw
bGFjZSgmcnEtPmZlbmNlLmNiX2xpc3QsICZjYl9saXN0KTsKPiAgIAkJX19kbWFfZmVuY2Vfc2ln
bmFsX190aW1lc3RhbXAoJnJxLT5mZW5jZSwgdGltZXN0YW1wKTsKPiAgIAkJX19kbWFfZmVuY2Vf
c2lnbmFsX19ub3RpZnkoJnJxLT5mZW5jZSwgJmNiX2xpc3QpOwo+IC0JCXNwaW5fdW5sb2NrX2ly
cXJlc3RvcmUoJnJxLT5sb2NrLCBmbGFncyk7Cj4gKwkJc3Bpbl91bmxvY2soJnJxLT5sb2NrKTsK
PiAgIAo+ICAgCQlpOTE1X3JlcXVlc3RfcHV0KHJxKTsKPiAgIAl9Cj4gICB9Cj4gICAKPiAtc3Rh
dGljIHZvaWQgc2lnbmFsX2lycV93b3JrKHN0cnVjdCBpcnFfd29yayAqd29yaykKPiAtewo+IC0J
c3RydWN0IGludGVsX2VuZ2luZV9jcyAqZW5naW5lID0KPiAtCQljb250YWluZXJfb2Yod29yaywg
dHlwZW9mKCplbmdpbmUpLCBicmVhZGNydW1icy5pcnFfd29yayk7Cj4gLQo+IC0JaW50ZWxfZW5n
aW5lX2JyZWFkY3J1bWJzX2lycShlbmdpbmUpOwo+IC19Cj4gLQo+ICAgc3RhdGljIHZvaWQgX19p
bnRlbF9icmVhZGNydW1ic19hcm1faXJxKHN0cnVjdCBpbnRlbF9icmVhZGNydW1icyAqYikKPiAg
IHsKPiAgIAlzdHJ1Y3QgaW50ZWxfZW5naW5lX2NzICplbmdpbmUgPQo+IEBAIC0yODEsOSArMjcy
LDkgQEAgYm9vbCBpOTE1X3JlcXVlc3RfZW5hYmxlX2JyZWFkY3J1bWIoc3RydWN0IGk5MTVfcmVx
dWVzdCAqcnEpCj4gICAKPiAgIAkJLyoKPiAgIAkJICogV2Uga2VlcCB0aGUgc2Vxbm8gaW4gcmV0
aXJlbWVudCBvcmRlciwgc28gd2UgY2FuIGJyZWFrCj4gLQkJICogaW5zaWRlIGludGVsX2VuZ2lu
ZV9icmVhZGNydW1ic19pcnEgYXMgc29vbiBhcyB3ZSd2ZSBwYXNzZWQKPiAtCQkgKiB0aGUgbGFz
dCBjb21wbGV0ZWQgcmVxdWVzdCAob3Igc2VlbiBhIHJlcXVlc3QgdGhhdCBoYXNuJ3QKPiAtCQkg
KiBldmVudCBzdGFydGVkKS4gV2UgY291bGQgaXRlcmF0ZSB0aGUgdGltZWxpbmUtPnJlcXVlc3Rz
IGxpc3QsCj4gKwkJICogaW5zaWRlIGludGVsX2VuZ2luZV9zaWduYWxfYnJlYWRjcnVtYnMgYXMg
c29vbiBhcyB3ZSd2ZQo+ICsJCSAqIHBhc3NlZCB0aGUgbGFzdCBjb21wbGV0ZWQgcmVxdWVzdCAo
b3Igc2VlbiBhIHJlcXVlc3QgdGhhdAo+ICsJCSAqIGhhc24ndCBldmVudCBzdGFydGVkKS4gV2Ug
Y291bGQgd2FsayB0aGUgdGltZWxpbmUtPnJlcXVlc3RzLAo+ICAgCQkgKiBidXQga2VlcGluZyBh
IHNlcGFyYXRlIHNpZ25hbGVyc19saXN0IGhhcyB0aGUgYWR2YW50YWdlIG9mCj4gICAJCSAqIGhv
cGVmdWxseSBiZWluZyBtdWNoIHNtYWxsZXIgdGhhbiB0aGUgZnVsbCBsaXN0IGFuZCBzbwo+ICAg
CQkgKiBwcm92aWRlcyBmYXN0ZXIgaXRlcmF0aW9uIGFuZCBkZXRlY3Rpb24gd2hlbiB0aGVyZSBh
cmUgbm8KPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZW5naW5l
LmggYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9lbmdpbmUuaAo+IGluZGV4IDAxNzY1
YTdlYzE4Zi4uZTE3NTBkMDgzYzkwIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1
L2d0L2ludGVsX2VuZ2luZS5oCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxf
ZW5naW5lLmgKPiBAQCAtMjA2LDEzICsyMDYsMTEgQEAgdm9pZCBpbnRlbF9lbmdpbmVfZmluaV9i
cmVhZGNydW1icyhzdHJ1Y3QgaW50ZWxfZW5naW5lX2NzICplbmdpbmUpOwo+ICAgdm9pZCBpbnRl
bF9lbmdpbmVfZGlzYXJtX2JyZWFkY3J1bWJzKHN0cnVjdCBpbnRlbF9lbmdpbmVfY3MgKmVuZ2lu
ZSk7Cj4gICAKPiAgIHN0YXRpYyBpbmxpbmUgdm9pZAo+IC1pbnRlbF9lbmdpbmVfcXVldWVfYnJl
YWRjcnVtYnMoc3RydWN0IGludGVsX2VuZ2luZV9jcyAqZW5naW5lKQo+ICtpbnRlbF9lbmdpbmVf
c2lnbmFsX2JyZWFkY3J1bWJzKHN0cnVjdCBpbnRlbF9lbmdpbmVfY3MgKmVuZ2luZSkKPiAgIHsK
PiAgIAlpcnFfd29ya19xdWV1ZSgmZW5naW5lLT5icmVhZGNydW1icy5pcnFfd29yayk7Cj4gICB9
Cj4gICAKPiAtdm9pZCBpbnRlbF9lbmdpbmVfYnJlYWRjcnVtYnNfaXJxKHN0cnVjdCBpbnRlbF9l
bmdpbmVfY3MgKmVuZ2luZSk7Cj4gLQo+ICAgdm9pZCBpbnRlbF9lbmdpbmVfcmVzZXRfYnJlYWRj
cnVtYnMoc3RydWN0IGludGVsX2VuZ2luZV9jcyAqZW5naW5lKTsKPiAgIHZvaWQgaW50ZWxfZW5n
aW5lX2ZpbmlfYnJlYWRjcnVtYnMoc3RydWN0IGludGVsX2VuZ2luZV9jcyAqZW5naW5lKTsKPiAg
IAo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9ndF9pcnEuYyBi
L2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2d0X2lycS5jCj4gaW5kZXggMzMyYjEyYTU3
NGZiLi5mNzk2YmRmMWVkMzAgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3Qv
aW50ZWxfZ3RfaXJxLmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9ndF9p
cnEuYwo+IEBAIC0yOCw3ICsyOCw3IEBAIGNzX2lycV9oYW5kbGVyKHN0cnVjdCBpbnRlbF9lbmdp
bmVfY3MgKmVuZ2luZSwgdTMyIGlpcikKPiAgIAkJdGFza2xldCA9IHRydWU7Cj4gICAKPiAgIAlp
ZiAoaWlyICYgR1RfUkVOREVSX1VTRVJfSU5URVJSVVBUKSB7Cj4gLQkJaW50ZWxfZW5naW5lX3F1
ZXVlX2JyZWFkY3J1bWJzKGVuZ2luZSk7Cj4gKwkJaW50ZWxfZW5naW5lX3NpZ25hbF9icmVhZGNy
dW1icyhlbmdpbmUpOwo+ICAgCQl0YXNrbGV0IHw9IGludGVsX2VuZ2luZV9uZWVkc19icmVhZGNy
dW1iX3Rhc2tsZXQoZW5naW5lKTsKPiAgIAl9Cj4gICAKPiBAQCAtMjQ1LDkgKzI0NSw5IEBAIHZv
aWQgZ2VuMTFfZ3RfaXJxX3Bvc3RpbnN0YWxsKHN0cnVjdCBpbnRlbF9ndCAqZ3QpCj4gICB2b2lk
IGdlbjVfZ3RfaXJxX2hhbmRsZXIoc3RydWN0IGludGVsX2d0ICpndCwgdTMyIGd0X2lpcikKPiAg
IHsKPiAgIAlpZiAoZ3RfaWlyICYgR1RfUkVOREVSX1VTRVJfSU5URVJSVVBUKQo+IC0JCWludGVs
X2VuZ2luZV9icmVhZGNydW1ic19pcnEoZ3QtPmVuZ2luZV9jbGFzc1tSRU5ERVJfQ0xBU1NdWzBd
KTsKPiArCQlpbnRlbF9lbmdpbmVfc2lnbmFsX2JyZWFkY3J1bWJzKGd0LT5lbmdpbmVfY2xhc3Nb
UkVOREVSX0NMQVNTXVswXSk7Cj4gICAJaWYgKGd0X2lpciAmIElMS19CU0RfVVNFUl9JTlRFUlJV
UFQpCj4gLQkJaW50ZWxfZW5naW5lX2JyZWFkY3J1bWJzX2lycShndC0+ZW5naW5lX2NsYXNzW1ZJ
REVPX0RFQ09ERV9DTEFTU11bMF0pOwo+ICsJCWludGVsX2VuZ2luZV9zaWduYWxfYnJlYWRjcnVt
YnMoZ3QtPmVuZ2luZV9jbGFzc1tWSURFT19ERUNPREVfQ0xBU1NdWzBdKTsKPiAgIH0KPiAgIAo+
ICAgc3RhdGljIHZvaWQgZ2VuN19wYXJpdHlfZXJyb3JfaXJxX2hhbmRsZXIoc3RydWN0IGludGVs
X2d0ICpndCwgdTMyIGlpcikKPiBAQCAtMjcxLDExICsyNzEsMTEgQEAgc3RhdGljIHZvaWQgZ2Vu
N19wYXJpdHlfZXJyb3JfaXJxX2hhbmRsZXIoc3RydWN0IGludGVsX2d0ICpndCwgdTMyIGlpcikK
PiAgIHZvaWQgZ2VuNl9ndF9pcnFfaGFuZGxlcihzdHJ1Y3QgaW50ZWxfZ3QgKmd0LCB1MzIgZ3Rf
aWlyKQo+ICAgewo+ICAgCWlmIChndF9paXIgJiBHVF9SRU5ERVJfVVNFUl9JTlRFUlJVUFQpCj4g
LQkJaW50ZWxfZW5naW5lX2JyZWFkY3J1bWJzX2lycShndC0+ZW5naW5lX2NsYXNzW1JFTkRFUl9D
TEFTU11bMF0pOwo+ICsJCWludGVsX2VuZ2luZV9zaWduYWxfYnJlYWRjcnVtYnMoZ3QtPmVuZ2lu
ZV9jbGFzc1tSRU5ERVJfQ0xBU1NdWzBdKTsKPiAgIAlpZiAoZ3RfaWlyICYgR1RfQlNEX1VTRVJf
SU5URVJSVVBUKQo+IC0JCWludGVsX2VuZ2luZV9icmVhZGNydW1ic19pcnEoZ3QtPmVuZ2luZV9j
bGFzc1tWSURFT19ERUNPREVfQ0xBU1NdWzBdKTsKPiArCQlpbnRlbF9lbmdpbmVfc2lnbmFsX2Jy
ZWFkY3J1bWJzKGd0LT5lbmdpbmVfY2xhc3NbVklERU9fREVDT0RFX0NMQVNTXVswXSk7Cj4gICAJ
aWYgKGd0X2lpciAmIEdUX0JMVF9VU0VSX0lOVEVSUlVQVCkKPiAtCQlpbnRlbF9lbmdpbmVfYnJl
YWRjcnVtYnNfaXJxKGd0LT5lbmdpbmVfY2xhc3NbQ09QWV9FTkdJTkVfQ0xBU1NdWzBdKTsKPiAr
CQlpbnRlbF9lbmdpbmVfc2lnbmFsX2JyZWFkY3J1bWJzKGd0LT5lbmdpbmVfY2xhc3NbQ09QWV9F
TkdJTkVfQ0xBU1NdWzBdKTsKPiAgIAo+ICAgCWlmIChndF9paXIgJiAoR1RfQkxUX0NTX0VSUk9S
X0lOVEVSUlVQVCB8Cj4gICAJCSAgICAgIEdUX0JTRF9DU19FUlJPUl9JTlRFUlJVUFQgfAo+IGRp
ZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9scmMuYyBiL2RyaXZlcnMv
Z3B1L2RybS9pOTE1L2d0L2ludGVsX2xyYy5jCj4gaW5kZXggZmVmNGI3ZTgyM2Y1Li5hYjZmMjE3
MWU3YWMgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfbHJjLmMK
PiArKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9scmMuYwo+IEBAIC0xNDc1LDcg
KzE0NzUsNyBAQCBzdGF0aWMgdm9pZCB2aXJ0dWFsX3hmZXJfYnJlYWRjcnVtYnMoc3RydWN0IHZp
cnR1YWxfZW5naW5lICp2ZSwKPiAgIAlpZiAoIWxpc3RfZW1wdHkoJnZlLT5jb250ZXh0LnNpZ25h
bF9saW5rKSkgewo+ICAgCQlsaXN0X21vdmVfdGFpbCgmdmUtPmNvbnRleHQuc2lnbmFsX2xpbmss
Cj4gICAJCQkgICAgICAgJmVuZ2luZS0+YnJlYWRjcnVtYnMuc2lnbmFsZXJzKTsKPiAtCQlpbnRl
bF9lbmdpbmVfcXVldWVfYnJlYWRjcnVtYnMoZW5naW5lKTsKPiArCQlpbnRlbF9lbmdpbmVfc2ln
bmFsX2JyZWFkY3J1bWJzKGVuZ2luZSk7Cj4gICAJfQo+ICAgCXNwaW5fdW5sb2NrKCZvbGQtPmJy
ZWFkY3J1bWJzLmlycV9sb2NrKTsKPiAgIH0KPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJt
L2k5MTUvZ3QvaW50ZWxfcmVzZXQuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX3Jl
c2V0LmMKPiBpbmRleCAzNjE4OTIzOGUxM2MuLjdkNjVhYWY3ZjgxNCAxMDA2NDQKPiAtLS0gYS9k
cml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9yZXNldC5jCj4gKysrIGIvZHJpdmVycy9ncHUv
ZHJtL2k5MTUvZ3QvaW50ZWxfcmVzZXQuYwo+IEBAIC03MzYsNyArNzM2LDcgQEAgc3RhdGljIHZv
aWQgcmVzZXRfZmluaXNoX2VuZ2luZShzdHJ1Y3QgaW50ZWxfZW5naW5lX2NzICplbmdpbmUpCj4g
ICAJZW5naW5lLT5yZXNldC5maW5pc2goZW5naW5lKTsKPiAgIAlpbnRlbF91bmNvcmVfZm9yY2V3
YWtlX3B1dChlbmdpbmUtPnVuY29yZSwgRk9SQ0VXQUtFX0FMTCk7Cj4gICAKPiAtCWludGVsX2Vu
Z2luZV9icmVhZGNydW1ic19pcnEoZW5naW5lKTsKPiArCWludGVsX2VuZ2luZV9zaWduYWxfYnJl
YWRjcnVtYnMoZW5naW5lKTsKPiAgIH0KPiAgIAo+ICAgc3RhdGljIHZvaWQgcmVzZXRfZmluaXNo
KHN0cnVjdCBpbnRlbF9ndCAqZ3QsIGludGVsX2VuZ2luZV9tYXNrX3QgYXdha2UpCj4gQEAgLTc2
NSw3ICs3NjUsNyBAQCBzdGF0aWMgdm9pZCBub3Bfc3VibWl0X3JlcXVlc3Qoc3RydWN0IGk5MTVf
cmVxdWVzdCAqcmVxdWVzdCkKPiAgIAlpOTE1X3JlcXVlc3RfbWFya19jb21wbGV0ZShyZXF1ZXN0
KTsKPiAgIAlzcGluX3VubG9ja19pcnFyZXN0b3JlKCZlbmdpbmUtPmFjdGl2ZS5sb2NrLCBmbGFn
cyk7Cj4gICAKPiAtCWludGVsX2VuZ2luZV9xdWV1ZV9icmVhZGNydW1icyhlbmdpbmUpOwo+ICsJ
aW50ZWxfZW5naW5lX3NpZ25hbF9icmVhZGNydW1icyhlbmdpbmUpOwo+ICAgfQo+ICAgCj4gICBz
dGF0aWMgdm9pZCBfX2ludGVsX2d0X3NldF93ZWRnZWQoc3RydWN0IGludGVsX2d0ICpndCkKPiBk
aWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfcmluZ19zdWJtaXNzaW9u
LmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9yaW5nX3N1Ym1pc3Npb24uYwo+IGlu
ZGV4IGRjZGVlZjBhNzc2Zi4uMGMxODk4MDdmZTM2IDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1
L2RybS9pOTE1L2d0L2ludGVsX3Jpbmdfc3VibWlzc2lvbi5jCj4gKysrIGIvZHJpdmVycy9ncHUv
ZHJtL2k5MTUvZ3QvaW50ZWxfcmluZ19zdWJtaXNzaW9uLmMKPiBAQCAtNzIyLDcgKzcyMiw3IEBA
IHN0YXRpYyBpbnQgeGNzX3Jlc3VtZShzdHJ1Y3QgaW50ZWxfZW5naW5lX2NzICplbmdpbmUpCj4g
ICAJfQo+ICAgCj4gICAJLyogUGFwZXJpbmcgb3ZlciBsb3N0IF9pbnRlcnJ1cHRzXyBpbW1lZGlh
dGVseSBmb2xsb3dpbmcgdGhlIHJlc3RhcnQgKi8KPiAtCWludGVsX2VuZ2luZV9xdWV1ZV9icmVh
ZGNydW1icyhlbmdpbmUpOwo+ICsJaW50ZWxfZW5naW5lX3NpZ25hbF9icmVhZGNydW1icyhlbmdp
bmUpOwo+ICAgb3V0Ogo+ICAgCWludGVsX3VuY29yZV9mb3JjZXdha2VfcHV0KGVuZ2luZS0+dW5j
b3JlLCBGT1JDRVdBS0VfQUxMKTsKPiAgIAo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0v
aTkxNS9ndC9pbnRlbF9ycHMuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX3Jwcy5j
Cj4gaW5kZXggMDhhMzhhM2I5MGIwLi44MzZiYmMyOTYxNTggMTAwNjQ0Cj4gLS0tIGEvZHJpdmVy
cy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfcnBzLmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkx
NS9ndC9pbnRlbF9ycHMuYwo+IEBAIC0xNTY2LDcgKzE1NjYsNyBAQCB2b2lkIGdlbjZfcnBzX2ly
cV9oYW5kbGVyKHN0cnVjdCBpbnRlbF9ycHMgKnJwcywgdTMyIHBtX2lpcikKPiAgIAkJcmV0dXJu
Owo+ICAgCj4gICAJaWYgKHBtX2lpciAmIFBNX1ZFQk9YX1VTRVJfSU5URVJSVVBUKQo+IC0JCWlu
dGVsX2VuZ2luZV9icmVhZGNydW1ic19pcnEoZ3QtPmVuZ2luZVtWRUNTMF0pOwo+ICsJCWludGVs
X2VuZ2luZV9zaWduYWxfYnJlYWRjcnVtYnMoZ3QtPmVuZ2luZVtWRUNTMF0pOwo+ICAgCj4gICAJ
aWYgKHBtX2lpciAmIFBNX1ZFQk9YX0NTX0VSUk9SX0lOVEVSUlVQVCkKPiAgIAkJRFJNX0RFQlVH
KCJDb21tYW5kIHBhcnNlciBlcnJvciwgcG1faWlyIDB4JTA4eFxuIiwgcG1faWlyKTsKPiBkaWZm
IC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvbW9ja19lbmdpbmUuYyBiL2RyaXZlcnMv
Z3B1L2RybS9pOTE1L2d0L21vY2tfZW5naW5lLmMKPiBpbmRleCA4M2Y1NDlkMjAzYTAuLjM5ZGY5
ZDQ5YTEzNCAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9tb2NrX2VuZ2lu
ZS5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvbW9ja19lbmdpbmUuYwo+IEBAIC03
Nyw3ICs3Nyw3IEBAIHN0YXRpYyB2b2lkIGFkdmFuY2Uoc3RydWN0IGk5MTVfcmVxdWVzdCAqcmVx
dWVzdCkKPiAgIAlpOTE1X3JlcXVlc3RfbWFya19jb21wbGV0ZShyZXF1ZXN0KTsKPiAgIAlHRU1f
QlVHX09OKCFpOTE1X3JlcXVlc3RfY29tcGxldGVkKHJlcXVlc3QpKTsKPiAgIAo+IC0JaW50ZWxf
ZW5naW5lX3F1ZXVlX2JyZWFkY3J1bWJzKHJlcXVlc3QtPmVuZ2luZSk7Cj4gKwlpbnRlbF9lbmdp
bmVfc2lnbmFsX2JyZWFkY3J1bWJzKHJlcXVlc3QtPmVuZ2luZSk7Cj4gICB9Cj4gICAKPiAgIHN0
YXRpYyB2b2lkIGh3X2RlbGF5X2NvbXBsZXRlKHN0cnVjdCB0aW1lcl9saXN0ICp0KQo+IGRpZmYg
LS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2lycS5jIGIvZHJpdmVycy9ncHUvZHJt
L2k5MTUvaTkxNV9pcnEuYwo+IGluZGV4IDhiMzM4NzQ0ZWRkZi4uODg2ODlmZjUwZDYxIDEwMDY0
NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfaXJxLmMKPiArKysgYi9kcml2ZXJz
L2dwdS9kcm0vaTkxNS9pOTE1X2lycS5jCj4gQEAgLTM2MDEsNyArMzYwMSw3IEBAIHN0YXRpYyBp
cnFyZXR1cm5fdCBpOHh4X2lycV9oYW5kbGVyKGludCBpcnEsIHZvaWQgKmFyZykKPiAgIAkJaW50
ZWxfdW5jb3JlX3dyaXRlMTYoJmRldl9wcml2LT51bmNvcmUsIEdFTjJfSUlSLCBpaXIpOwo+ICAg
Cj4gICAJCWlmIChpaXIgJiBJOTE1X1VTRVJfSU5URVJSVVBUKQo+IC0JCQlpbnRlbF9lbmdpbmVf
YnJlYWRjcnVtYnNfaXJxKGRldl9wcml2LT5lbmdpbmVbUkNTMF0pOwo+ICsJCQlpbnRlbF9lbmdp
bmVfc2lnbmFsX2JyZWFkY3J1bWJzKGRldl9wcml2LT5lbmdpbmVbUkNTMF0pOwo+ICAgCj4gICAJ
CWlmIChpaXIgJiBJOTE1X01BU1RFUl9FUlJPUl9JTlRFUlJVUFQpCj4gICAJCQlpOHh4X2Vycm9y
X2lycV9oYW5kbGVyKGRldl9wcml2LCBlaXIsIGVpcl9zdHVjayk7Cj4gQEAgLTM3MDYsNyArMzcw
Niw3IEBAIHN0YXRpYyBpcnFyZXR1cm5fdCBpOTE1X2lycV9oYW5kbGVyKGludCBpcnEsIHZvaWQg
KmFyZykKPiAgIAkJSTkxNV9XUklURShHRU4yX0lJUiwgaWlyKTsKPiAgIAo+ICAgCQlpZiAoaWly
ICYgSTkxNV9VU0VSX0lOVEVSUlVQVCkKPiAtCQkJaW50ZWxfZW5naW5lX2JyZWFkY3J1bWJzX2ly
cShkZXZfcHJpdi0+ZW5naW5lW1JDUzBdKTsKPiArCQkJaW50ZWxfZW5naW5lX3NpZ25hbF9icmVh
ZGNydW1icyhkZXZfcHJpdi0+ZW5naW5lW1JDUzBdKTsKPiAgIAo+ICAgCQlpZiAoaWlyICYgSTkx
NV9NQVNURVJfRVJST1JfSU5URVJSVVBUKQo+ICAgCQkJaTl4eF9lcnJvcl9pcnFfaGFuZGxlcihk
ZXZfcHJpdiwgZWlyLCBlaXJfc3R1Y2spOwo+IEBAIC0zODQ4LDEwICszODQ4LDEwIEBAIHN0YXRp
YyBpcnFyZXR1cm5fdCBpOTY1X2lycV9oYW5kbGVyKGludCBpcnEsIHZvaWQgKmFyZykKPiAgIAkJ
STkxNV9XUklURShHRU4yX0lJUiwgaWlyKTsKPiAgIAo+ICAgCQlpZiAoaWlyICYgSTkxNV9VU0VS
X0lOVEVSUlVQVCkKPiAtCQkJaW50ZWxfZW5naW5lX2JyZWFkY3J1bWJzX2lycShkZXZfcHJpdi0+
ZW5naW5lW1JDUzBdKTsKPiArCQkJaW50ZWxfZW5naW5lX3NpZ25hbF9icmVhZGNydW1icyhkZXZf
cHJpdi0+ZW5naW5lW1JDUzBdKTsKPiAgIAo+ICAgCQlpZiAoaWlyICYgSTkxNV9CU0RfVVNFUl9J
TlRFUlJVUFQpCj4gLQkJCWludGVsX2VuZ2luZV9icmVhZGNydW1ic19pcnEoZGV2X3ByaXYtPmVu
Z2luZVtWQ1MwXSk7Cj4gKwkJCWludGVsX2VuZ2luZV9zaWduYWxfYnJlYWRjcnVtYnMoZGV2X3By
aXYtPmVuZ2luZVtWQ1MwXSk7Cj4gICAKPiAgIAkJaWYgKGlpciAmIEk5MTVfTUFTVEVSX0VSUk9S
X0lOVEVSUlVQVCkKPiAgIAkJCWk5eHhfZXJyb3JfaXJxX2hhbmRsZXIoZGV2X3ByaXYsIGVpciwg
ZWlyX3N0dWNrKTsKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9yZXF1
ZXN0LmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3JlcXVlc3QuYwo+IGluZGV4IGE1NThm
NjQxODZmYS4uMzEwOWI4YTc5YjlmIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1
L2k5MTVfcmVxdWVzdC5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9yZXF1ZXN0
LmMKPiBAQCAtNDE1LDcgKzQxNSw3IEBAIGJvb2wgX19pOTE1X3JlcXVlc3Rfc3VibWl0KHN0cnVj
dCBpOTE1X3JlcXVlc3QgKnJlcXVlc3QpCj4gICAJaWYgKHRlc3RfYml0KERNQV9GRU5DRV9GTEFH
X0VOQUJMRV9TSUdOQUxfQklULCAmcmVxdWVzdC0+ZmVuY2UuZmxhZ3MpICYmCj4gICAJICAgICF0
ZXN0X2JpdChETUFfRkVOQ0VfRkxBR19TSUdOQUxFRF9CSVQsICZyZXF1ZXN0LT5mZW5jZS5mbGFn
cykgJiYKPiAgIAkgICAgIWk5MTVfcmVxdWVzdF9lbmFibGVfYnJlYWRjcnVtYihyZXF1ZXN0KSkK
PiAtCQlpbnRlbF9lbmdpbmVfcXVldWVfYnJlYWRjcnVtYnMoZW5naW5lKTsKPiArCQlpbnRlbF9l
bmdpbmVfc2lnbmFsX2JyZWFkY3J1bWJzKGVuZ2luZSk7Cj4gICAKPiAgIAlfX25vdGlmeV9leGVj
dXRlX2NiKHJlcXVlc3QpOwo+ICAgCj4gCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fCkludGVsLWdmeCBtYWlsaW5nIGxpc3QKSW50ZWwtZ2Z4QGxpc3RzLmZy
ZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3Rp
bmZvL2ludGVsLWdmeA==

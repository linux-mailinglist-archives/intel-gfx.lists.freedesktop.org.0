Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 1E299175D6C
	for <lists+intel-gfx@lfdr.de>; Mon,  2 Mar 2020 15:40:03 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 59B716E462;
	Mon,  2 Mar 2020 14:40:01 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga05.intel.com (mga05.intel.com [192.55.52.43])
 by gabe.freedesktop.org (Postfix) with ESMTPS id A37366E462
 for <intel-gfx@lists.freedesktop.org>; Mon,  2 Mar 2020 14:39:59 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga006.jf.intel.com ([10.7.209.51])
 by fmsmga105.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 02 Mar 2020 06:39:59 -0800
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.70,507,1574150400"; d="scan'208";a="243213913"
Received: from stinkbox.fi.intel.com (HELO stinkbox) ([10.237.72.174])
 by orsmga006.jf.intel.com with SMTP; 02 Mar 2020 06:39:56 -0800
Received: by stinkbox (sSMTP sendmail emulation);
 Mon, 02 Mar 2020 16:39:56 +0200
From: Ville Syrjala <ville.syrjala@linux.intel.com>
To: intel-gfx@lists.freedesktop.org
Date: Mon,  2 Mar 2020 16:39:42 +0200
Message-Id: <20200302143943.32676-5-ville.syrjala@linux.intel.com>
X-Mailer: git-send-email 2.24.1
In-Reply-To: <20200302143943.32676-1-ville.syrjala@linux.intel.com>
References: <20200302143943.32676-1-ville.syrjala@linux.intel.com>
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH 5/6] drm/i915: Extract
 i915_cs_timestamp_{ns_to_ticks, tick_to_ns}()
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

RnJvbTogVmlsbGUgU3lyasOkbMOkIDx2aWxsZS5zeXJqYWxhQGxpbnV4LmludGVsLmNvbT4KClB1
bGwgdGhlIGNvZGUgdG8gZG8gdGhlIENTIHRpbWVzdGFtcCBuczwtPnRpY2tzIGNvbnZlcnNpb24g
aW50bwpoZWxwZXJzIGFuZCB1c2UgdGhlbSBhbGwgb3Zlci4KClRoZSBjaGVjayBpbiBpOTE1X3Bl
cmZfbm9hX2RlbGF5X3NldCgpIHNlZW1zIGEgYml0IGR1YmlvdXMsCnNvIHdlIHN3aXRjaCBpdCB0
byBkbyB3aGF0IEkgYXNzdW1lIGl0IHdhbnRlZCB0byBkbyBhbGwgYWxvbmcKKGllLiBtYWtlIHN1
cmUgdGhlIHJlc3VsdGluZyBkZWxheSBpbiBDUyB0aW1lc3RhbXAgdGlja3MKZG9lc24ndCBleGNl
ZWQgMzJiaXRzKT8KCkNjOiBMaW9uZWwgTGFuZHdlcmxpbiA8bGlvbmVsLmcubGFuZHdlcmxpbkBp
bnRlbC5jb20+ClNpZ25lZC1vZmYtYnk6IFZpbGxlIFN5cmrDpGzDpCA8dmlsbGUuc3lyamFsYUBs
aW51eC5pbnRlbC5jb20+Ci0tLQogZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kZWJ1Z2ZzLmMg
ICAgICAgIHwgIDMgKy0tCiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2Rydi5oICAgICAgICAg
ICAgfCAxMiArKysrKysrKysrKysKIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfcGVyZi5jICAg
ICAgICAgICB8ICA3ICsrLS0tLS0KIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX2RldmljZV9p
bmZvLmMgICB8ICAyICstCiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9zZWxmdGVzdHMvaTkxNV9wZXJm
LmMgfCAgMyArLS0KIDUgZmlsZXMgY2hhbmdlZCwgMTcgaW5zZXJ0aW9ucygrKSwgMTAgZGVsZXRp
b25zKC0pCgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kZWJ1Z2ZzLmMg
Yi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2RlYnVnZnMuYwppbmRleCBjMGU1NGM1MDAwMTcu
LjRiZmE3MGI5NGU4ZiAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kZWJ1
Z2ZzLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kZWJ1Z2ZzLmMKQEAgLTE4OTAs
MTMgKzE4OTAsMTIgQEAgc3RhdGljIGludAogaTkxNV9wZXJmX25vYV9kZWxheV9zZXQodm9pZCAq
ZGF0YSwgdTY0IHZhbCkKIHsKIAlzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSA9IGRhdGE7
Ci0JY29uc3QgdTMyIGNsayA9IFJVTlRJTUVfSU5GTyhpOTE1KS0+Y3NfdGltZXN0YW1wX2ZyZXF1
ZW5jeV9oeiAvIDEwMDA7CiAKIAkvKgogCSAqIFRoaXMgd291bGQgbGVhZCB0byBpbmZpbml0ZSB3
YWl0cyBhcyB3ZSdyZSBkb2luZyB0aW1lc3RhbXAKIAkgKiBkaWZmZXJlbmNlIG9uIHRoZSBDUyB3
aXRoIG9ubHkgMzJiaXRzLgogCSAqLwotCWlmICh2YWwgPiBtdWxfdTMyX3UzMihVMzJfTUFYLCBj
bGspKQorCWlmIChpOTE1X2NzX3RpbWVzdGFtcF9uc190b190aWNrcyhpOTE1LCB2YWwpID4gVTMy
X01BWCkKIAkJcmV0dXJuIC1FSU5WQUw7CiAKIAlhdG9taWM2NF9zZXQoJmk5MTUtPnBlcmYubm9h
X3Byb2dyYW1taW5nX2RlbGF5LCB2YWwpOwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5
MTUvaTkxNV9kcnYuaCBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZHJ2LmgKaW5kZXggMWY1
ZGRhMzhlN2I0Li43NjQwZWNjZGM0NmMgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1
L2k5MTVfZHJ2LmgKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kcnYuaApAQCAtMTk1
NSw0ICsxOTU1LDE2IEBAIGk5MTVfY29oZXJlbnRfbWFwX3R5cGUoc3RydWN0IGRybV9pOTE1X3By
aXZhdGUgKmk5MTUpCiAJcmV0dXJuIEhBU19MTEMoaTkxNSkgPyBJOTE1X01BUF9XQiA6IEk5MTVf
TUFQX1dDOwogfQogCitzdGF0aWMgaW5saW5lIHU2NCBpOTE1X2NzX3RpbWVzdGFtcF9uc190b190
aWNrcyhzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSwgdTY0IHZhbCkKK3sKKwlyZXR1cm4g
RElWX1JPVU5EX1VQX1VMTCh2YWwgKiBSVU5USU1FX0lORk8oaTkxNSktPmNzX3RpbWVzdGFtcF9m
cmVxdWVuY3lfaHosCisJCQkJMTAwMDAwMDAwMCk7Cit9CisKK3N0YXRpYyBpbmxpbmUgdTY0IGk5
MTVfY3NfdGltZXN0YW1wX3RpY2tzX3RvX25zKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICppOTE1
LCB1NjQgdmFsKQoreworCXJldHVybiBkaXZfdTY0KHZhbCAqIDEwMDAwMDAwMDAsCisJCSAgICAg
ICBSVU5USU1FX0lORk8oaTkxNSktPmNzX3RpbWVzdGFtcF9mcmVxdWVuY3lfaHopOworfQorCiAj
ZW5kaWYKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfcGVyZi5jIGIvZHJp
dmVycy9ncHUvZHJtL2k5MTUvaTkxNV9wZXJmLmMKaW5kZXggYTJmOThmYjA4YmYxLi5mNTNlMmM3
MmFlOTcgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfcGVyZi5jCisrKyBi
L2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfcGVyZi5jCkBAIC0xNjY3LDkgKzE2NjcsNyBAQCBz
dGF0aWMgaW50IGFsbG9jX25vYV93YWl0KHN0cnVjdCBpOTE1X3BlcmZfc3RyZWFtICpzdHJlYW0p
CiAJc3RydWN0IGRybV9pOTE1X2dlbV9vYmplY3QgKmJvOwogCXN0cnVjdCBpOTE1X3ZtYSAqdm1h
OwogCWNvbnN0IHU2NCBkZWxheV90aWNrcyA9IDB4ZmZmZmZmZmZmZmZmZmZmZiAtCi0JCURJVl9S
T1VORF9VUF9VTEwoYXRvbWljNjRfcmVhZCgmc3RyZWFtLT5wZXJmLT5ub2FfcHJvZ3JhbW1pbmdf
ZGVsYXkpICoKLQkJCQkgUlVOVElNRV9JTkZPKGk5MTUpLT5jc190aW1lc3RhbXBfZnJlcXVlbmN5
X2h6LAotCQkJCSAxMDAwMDAwMDAwKTsKKwkJaTkxNV9jc190aW1lc3RhbXBfbnNfdG9fdGlja3Mo
aTkxNSwgYXRvbWljNjRfcmVhZCgmc3RyZWFtLT5wZXJmLT5ub2FfcHJvZ3JhbW1pbmdfZGVsYXkp
KTsKIAljb25zdCB1MzIgYmFzZSA9IHN0cmVhbS0+ZW5naW5lLT5tbWlvX2Jhc2U7CiAjZGVmaW5l
IENTX0dQUih4KSBHRU44X1JJTkdfQ1NfR1BSKGJhc2UsIHgpCiAJdTMyICpiYXRjaCwgKnRzMCwg
KmNzLCAqanVtcDsKQEAgLTM0NjYsOCArMzQ2NCw3IEBAIGk5MTVfcGVyZl9vcGVuX2lvY3RsX2xv
Y2tlZChzdHJ1Y3QgaTkxNV9wZXJmICpwZXJmLAogCiBzdGF0aWMgdTY0IG9hX2V4cG9uZW50X3Rv
X25zKHN0cnVjdCBpOTE1X3BlcmYgKnBlcmYsIGludCBleHBvbmVudCkKIHsKLQlyZXR1cm4gZGl2
X3U2NCgxMDAwMDAwMDAwICogKDJVTEwgPDwgZXhwb25lbnQpLAotCQkgICAgICAgUlVOVElNRV9J
TkZPKHBlcmYtPmk5MTUpLT5jc190aW1lc3RhbXBfZnJlcXVlbmN5X2h6KTsKKwlyZXR1cm4gaTkx
NV9jc190aW1lc3RhbXBfdGlja3NfdG9fbnMocGVyZi0+aTkxNSwgMlVMTCA8PCBleHBvbmVudCk7
CiB9CiAKIC8qKgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfZGV2aWNl
X2luZm8uYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX2RldmljZV9pbmZvLmMKaW5kZXgg
YmU4OGViNDEwMzVhLi5kOTdhMGUwOWI2YjIgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9p
OTE1L2ludGVsX2RldmljZV9pbmZvLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxf
ZGV2aWNlX2luZm8uYwpAQCAtMTA3Myw3ICsxMDczLDcgQEAgdm9pZCBpbnRlbF9kZXZpY2VfaW5m
b19ydW50aW1lX2luaXQoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2KQogCQlyZWFk
X3RpbWVzdGFtcF9mcmVxdWVuY3koZGV2X3ByaXYpOwogCWlmIChydW50aW1lLT5jc190aW1lc3Rh
bXBfZnJlcXVlbmN5X2h6KSB7CiAJCXJ1bnRpbWUtPmNzX3RpbWVzdGFtcF9wZXJpb2RfbnMgPQot
CQkJZGl2X3U2NCgxZTksIHJ1bnRpbWUtPmNzX3RpbWVzdGFtcF9mcmVxdWVuY3lfaHopOworCQkJ
aTkxNV9jc190aW1lc3RhbXBfdGlja3NfdG9fbnMoZGV2X3ByaXYsIDEpOwogCQlkcm1fZGJnKCZk
ZXZfcHJpdi0+ZHJtLAogCQkJIkNTIHRpbWVzdGFtcCB3cmFwYXJvdW5kIGluICVsbGRtc1xuIiwK
IAkJCWRpdl91NjQobXVsX3UzMl91MzIocnVudGltZS0+Y3NfdGltZXN0YW1wX3BlcmlvZF9ucywK
ZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L3NlbGZ0ZXN0cy9pOTE1X3BlcmYuYyBi
L2RyaXZlcnMvZ3B1L2RybS9pOTE1L3NlbGZ0ZXN0cy9pOTE1X3BlcmYuYwppbmRleCBkZWEwYzVk
ZDI3MzkuLmM2ZjMzNzQwNjJjNSAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvc2Vs
ZnRlc3RzL2k5MTVfcGVyZi5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L3NlbGZ0ZXN0cy9p
OTE1X3BlcmYuYwpAQCAtMTgwLDggKzE4MCw3IEBAIHN0YXRpYyBpbnQgbGl2ZV9ub2FfZGVsYXko
dm9pZCAqYXJnKQogCiAJZGVsYXkgPSBpbnRlbF9yZWFkX3N0YXR1c19wYWdlKHN0cmVhbS0+ZW5n
aW5lLCAweDEwMik7CiAJZGVsYXkgLT0gaW50ZWxfcmVhZF9zdGF0dXNfcGFnZShzdHJlYW0tPmVu
Z2luZSwgMHgxMDApOwotCWRlbGF5ID0gZGl2X3U2NChtdWxfdTMyX3UzMihkZWxheSwgMTAwMDAw
MDAwMCksCi0JCQlSVU5USU1FX0lORk8oaTkxNSktPmNzX3RpbWVzdGFtcF9mcmVxdWVuY3lfaHop
OworCWRlbGF5ID0gaTkxNV9jc190aW1lc3RhbXBfdGlja3NfdG9fbnMoaTkxNSwgZGVsYXkpOwog
CXByX2luZm8oIkdQVSBkZWxheTogJXVucywgZXhwZWN0ZWQgJWxsdW5zXG4iLAogCQlkZWxheSwg
ZXhwZWN0ZWQpOwogCi0tIAoyLjI0LjEKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fCkludGVsLWdmeCBtYWlsaW5nIGxpc3QKSW50ZWwtZ2Z4QGxpc3RzLmZy
ZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3Rp
bmZvL2ludGVsLWdmeAo=

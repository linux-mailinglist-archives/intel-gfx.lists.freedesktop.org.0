Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id EB1A56D2EB
	for <lists+intel-gfx@lfdr.de>; Thu, 18 Jul 2019 19:41:07 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 984726E44C;
	Thu, 18 Jul 2019 17:41:04 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga09.intel.com (mga09.intel.com [134.134.136.24])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 2BC106E447
 for <intel-gfx@lists.freedesktop.org>; Thu, 18 Jul 2019 17:41:03 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga004.jf.intel.com ([10.7.209.38])
 by orsmga102.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 18 Jul 2019 10:41:02 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.64,279,1559545200"; d="scan'208";a="319713491"
Received: from dceraolo-linux.fm.intel.com (HELO [10.1.27.145]) ([10.1.27.145])
 by orsmga004.jf.intel.com with ESMTP; 18 Jul 2019 10:41:01 -0700
To: Lucas De Marchi <lucas.demarchi@intel.com>, intel-gfx@lists.freedesktop.org
References: <20190713010940.17711-1-lucas.demarchi@intel.com>
 <20190713010940.17711-20-lucas.demarchi@intel.com>
From: Daniele Ceraolo Spurio <daniele.ceraolospurio@intel.com>
Message-ID: <6e890335-607f-4d98-15de-4bae71267cda@intel.com>
Date: Thu, 18 Jul 2019 10:40:43 -0700
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101
 Thunderbird/60.8.0
MIME-Version: 1.0
In-Reply-To: <20190713010940.17711-20-lucas.demarchi@intel.com>
Content-Language: en-US
Subject: Re: [Intel-gfx] [PATCH 19/22] drm/i915/tgl: Tigerlake only has
 global MOCS registers
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: Michel Thierry <michel.thierry@intel.com>
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

CgpPbiA3LzEyLzE5IDY6MDkgUE0sIEx1Y2FzIERlIE1hcmNoaSB3cm90ZToKPiBGcm9tOiBNaWNo
ZWwgVGhpZXJyeSA8bWljaGVsLnRoaWVycnlAaW50ZWwuY29tPgo+IAo+IFVudGlsIEljZWxha2Us
IGVhY2ggZW5naW5lIGhhZCBpdHMgb3duIHNldCBvZiA2NCBNT0NTIHJlZ2lzdGVycy4gSW4KPiBv
cmRlciB0byBzaW1wbGlmeSwgVGlnZXJsYWtlIG1vdmVzIHRvIG9ubHkgNjQgR2xvYmFsIE1PQ1Mg
cmVnaXN0ZXJzLAo+IHdoaWNoIGFyZSBubyBsb25nZXIgcGFydCBvZiB0aGUgZW5naW5lIGNvbnRl
eHQuIFNpbmNlIHRoZXNlIHJlZ2lzdGVycwo+IGFyZSBub3cgZ2xvYmFsLCB0aGV5IGFsc28gb25s
eSBuZWVkIHRvIGJlIGluaXRpYWxpemVkIG9uY2UuCj4gCj4gVGhlc2UgbmV3IGdsb2JhbCBNT0NT
IHJlZ2lzdGVycyBhcmUgbG9jYXRlZCBpbiB0aGUgc2FtZSBvZmZzZXQgb2YgdGhlCj4gcmVuZGVy
IE1PQ1MgcmVnaXN0ZXIgZnJvbSBwcmV2aW91cyBwbGF0Zm9ybXMuCgpObywgdGhleSdyZSBub3Qg
OikuIFRoZXkncmUgbG9jYXRlZCBpbiBhIG5ldyByYW5nZSwgd2hpY2ggb3ZlcmxhcHMgd2l0aCAK
dGhlIGxvY2F0aW9uIHdoZXJlIHRoZSBmYXVsdCByZWdpc3RlciB3YXMgcHJldmlvdXNseSBsb2Nh
dGVkIGFuZCB0aGF0J3MgCndoeSB0aGUgb2Zmc2V0IG9mIHRoYXQgb25lIGhhcyBiZWVuIGNoYW5n
ZWQgYXMgd2VsbC4gVGhlIGNvZGUgZG9lcyB0aGUgCnJpZ2h0IHRoaW5nLCBzbyBvbmx5IHRoaXMg
c2VudGVuY2UgbmVlZHMgZml4aW5nLgoKdGhlIEZBVUxUX1RMQl9EQVRBKiByZWdpc3RlcnMgaGF2
ZSBiZWVuIG1vdmVkIGFzIHdlbGwgYXMgcGFydCBvZiB0aGUgCnJlLW9yZywgc28gbWF5YmUgd2Ug
Y2FuIGhhdmUgYSBwYXRjaCB0aGF0IGp1c3QgbW92ZXMgYWxsIHRoZSBvZmZzZXRzIGFuZCAKdGhl
biBhZGQgdGhlIGdsb2JhbCBtb2NzIG9uIHRvcD8KCj4gCj4gIEZyb20gR2VuMTIgb253YXJkcywg
TU9DUyBtdXN0IHNwZWNpZnkgdGhlIHRhcmdldCBjYWNoZSAoMzoyKSBhbmQgTFJVCj4gbWFuYWdl
bWVudCAoNTo0KSBmaWVsZHMgYW5kIGNhbm5vdCBiZSBwcm9ncmFtbWVkIHRvICd1c2UgdGhlIHZh
bHVlIGZyb20KPiBQcml2YXRlIFBBVCcsIGJlY2F1c2UgdGhlc2UgZmllbGRzIGFyZSBubyBsb25n
ZXIgcGFydCBvZiB0aGUgUFBBVC4gQWxzbwo+IGNhY2hlYWJpbGl0eSBjb250cm9sICgxOjApIGZp
ZWxkIGhhcyBjaGFuZ2VkLCAwMCBubyBsb25nZXIgbWVhbnMgJ3VzZQo+IGNvbnRyb2xzIGZyb20g
cGFnZSB0YWJsZScsIGJ1dCB1bmNhY2hlYWJsZSAoVUMpLgoKU2hvdWxkIHdlIHB1dCB0aGlzIGFz
IGEgY29tbWVudCBpbiB0aGUgY29kZSBzb21ld2hlcmU/IEFsdGhvdWdoIEknbSBub3QgCnN1cmUg
d2UgaGF2ZSBhbnkgdXNlIGZvciB0aGlzIGluZm8gc2luY2Ugd2UgY29weSB0aGUgdGFibGUgc3Ry
YWlnaHQgZnJvbSAKdGhlIHNwZWNzIGFuZCB3ZSBzaG91bGQgcHJvYmFibHkgdHJ1c3QgaXQgaXMg
Y29ycmVjdC4KCkRhbmllbGUKCj4gCj4gQ2M6IERhbmllbGUgQ2VyYW9sbyBTcHVyaW8gPGRhbmll
bGUuY2VyYW9sb3NwdXJpb0BpbnRlbC5jb20+Cj4gQ2M6IFRvbWFzeiBMaXMgPHRvbWFzei5saXNA
aW50ZWwuY29tPgo+IFNpZ25lZC1vZmYtYnk6IE1pY2hlbCBUaGllcnJ5IDxtaWNoZWwudGhpZXJy
eUBpbnRlbC5jb20+Cj4gU2lnbmVkLW9mZi1ieTogVHZydGtvIFVyc3VsaW4gPHR2cnRrby51cnN1
bGluQGludGVsLmNvbT4KPiBTaWduZWQtb2ZmLWJ5OiBMdWNhcyBEZSBNYXJjaGkgPGx1Y2FzLmRl
bWFyY2hpQGludGVsLmNvbT4KPiAtLS0KPiAgIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVs
X2d0LmMgICAgICAgfCAxMiArKysrLS0KPiAgIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVs
X21vY3MuYyAgICAgfCA0NyArKysrKysrKysrKysrKysrKysrKysrKysKPiAgIGRyaXZlcnMvZ3B1
L2RybS9pOTE1L2d0L2ludGVsX21vY3MuaCAgICAgfCAgMSArCj4gICBkcml2ZXJzL2dwdS9kcm0v
aTkxNS9pOTE1X2Rydi5oICAgICAgICAgIHwgIDIgKwo+ICAgZHJpdmVycy9ncHUvZHJtL2k5MTUv
aTkxNV9nZW0uYyAgICAgICAgICB8ICAxICsKPiAgIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVf
Z3B1X2Vycm9yLmMgICAgfCAxMSArKysrLS0KPiAgIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVf
cGNpLmMgICAgICAgICAgfCAgMyArLQo+ICAgZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9yZWcu
aCAgICAgICAgICB8ICAzICsrCj4gICBkcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9kZXZpY2Vf
aW5mby5oIHwgIDEgKwo+ICAgOSBmaWxlcyBjaGFuZ2VkLCA3NCBpbnNlcnRpb25zKCspLCA3IGRl
bGV0aW9ucygtKQo+IAo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRl
bF9ndC5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZ3QuYwo+IGluZGV4IGY3ZTY5
ZGI0MDE5ZC4uOTU4ZWRmZGEyYmEyIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1
L2d0L2ludGVsX2d0LmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9ndC5j
Cj4gQEAgLTgwLDggKzgwLDExIEBAIGludGVsX2d0X2NsZWFyX2Vycm9yX3JlZ2lzdGVycyhzdHJ1
Y3QgaW50ZWxfZ3QgKmd0LAo+ICAgCX0KPiAgIAo+ICAgCWlmIChJTlRFTF9HRU4oaTkxNSkgPj0g
OCkgewo+IC0JCXJtd19jbGVhcih1bmNvcmUsIEdFTjhfUklOR19GQVVMVF9SRUcsIFJJTkdfRkFV
TFRfVkFMSUQpOwo+IC0JCWludGVsX3VuY29yZV9wb3N0aW5nX3JlYWQodW5jb3JlLCBHRU44X1JJ
TkdfRkFVTFRfUkVHKTsKPiArCQlpOTE1X3JlZ190IGZhdWx0X3JlZyA9IChJTlRFTF9HRU4oaTkx
NSkgPj0gMTIpID8KPiArCQkJCQlHRU4xMl9SSU5HX0ZBVUxUX1JFRyA6Cj4gKwkJCQkJR0VOOF9S
SU5HX0ZBVUxUX1JFRzsKPiArCQlybXdfY2xlYXIodW5jb3JlLCBmYXVsdF9yZWcsIFJJTkdfRkFV
TFRfVkFMSUQpOwo+ICsJCWludGVsX3VuY29yZV9wb3N0aW5nX3JlYWQodW5jb3JlLCBmYXVsdF9y
ZWcpOwo+ICAgCX0gZWxzZSBpZiAoSU5URUxfR0VOKGk5MTUpID49IDYpIHsKPiAgIAkJc3RydWN0
IGludGVsX2VuZ2luZV9jcyAqZW5naW5lOwo+ICAgCQllbnVtIGludGVsX2VuZ2luZV9pZCBpZDsK
PiBAQCAtMTE3LDcgKzEyMCwxMCBAQCBzdGF0aWMgdm9pZCBnZW42X2NoZWNrX2ZhdWx0cyhzdHJ1
Y3QgaW50ZWxfZ3QgKmd0KQo+ICAgc3RhdGljIHZvaWQgZ2VuOF9jaGVja19mYXVsdHMoc3RydWN0
IGludGVsX2d0ICpndCkKPiAgIHsKPiAgIAlzdHJ1Y3QgaW50ZWxfdW5jb3JlICp1bmNvcmUgPSBn
dC0+dW5jb3JlOwo+IC0JdTMyIGZhdWx0ID0gaW50ZWxfdW5jb3JlX3JlYWQodW5jb3JlLCBHRU44
X1JJTkdfRkFVTFRfUkVHKTsKPiArCWk5MTVfcmVnX3QgZmF1bHRfcmVnID0KPiArCQkoSU5URUxf
R0VOKGd0LT5pOTE1KSA+PSAxMikgPwo+ICsJCUdFTjEyX1JJTkdfRkFVTFRfUkVHIDogR0VOOF9S
SU5HX0ZBVUxUX1JFRzsKPiArCXUzMiBmYXVsdCA9IGludGVsX3VuY29yZV9yZWFkKHVuY29yZSwg
ZmF1bHRfcmVnKTsKPiAgIAo+ICAgCWlmIChmYXVsdCAmIFJJTkdfRkFVTFRfVkFMSUQpIHsKPiAg
IAkJdTMyIGZhdWx0X2RhdGEwLCBmYXVsdF9kYXRhMTsKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9n
cHUvZHJtL2k5MTUvZ3QvaW50ZWxfbW9jcy5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50
ZWxfbW9jcy5jCj4gaW5kZXggMjU5ZTdiZWMwYTYzLi4zNjVkOGZmMTFmMjMgMTAwNjQ0Cj4gLS0t
IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfbW9jcy5jCj4gKysrIGIvZHJpdmVycy9n
cHUvZHJtL2k5MTUvZ3QvaW50ZWxfbW9jcy5jCj4gQEAgLTM2NSw2ICszNjUsMTAgQEAgdm9pZCBp
bnRlbF9tb2NzX2luaXRfZW5naW5lKHN0cnVjdCBpbnRlbF9lbmdpbmVfY3MgKmVuZ2luZSkKPiAg
IAl1bnNpZ25lZCBpbnQgaW5kZXg7Cj4gICAJdTMyIHVudXNlZF92YWx1ZTsKPiAgIAo+ICsJLyog
UGxhdGZvcm1zIHdpdGggZ2xvYmFsIE1PQ1MgZG8gbm90IG5lZWQgcGVyLWVuZ2luZSBpbml0aWFs
aXphdGlvbi4gKi8KPiArCWlmIChIQVNfR0xPQkFMX01PQ1NfUkVHSVNURVJTKGd0LT5pOTE1KSkK
PiArCQlyZXR1cm47Cj4gKwo+ICAgCS8qIENhbGxlZCB1bmRlciBhIGJsYW5rZXQgZm9yY2V3YWtl
ICovCj4gICAJYXNzZXJ0X2ZvcmNld2FrZXNfYWN0aXZlKHVuY29yZSwgRk9SQ0VXQUtFX0FMTCk7
Cj4gICAKPiBAQCAtMzg5LDYgKzM5Myw0NiBAQCB2b2lkIGludGVsX21vY3NfaW5pdF9lbmdpbmUo
c3RydWN0IGludGVsX2VuZ2luZV9jcyAqZW5naW5lKQo+ICAgCQkJCSAgICAgIHVudXNlZF92YWx1
ZSk7Cj4gICB9Cj4gICAKPiArLyoqCj4gKyAqIGludGVsX21vY3NfaW5pdF9nbG9iYWwoKSAtIHBy
b2dyYW0gdGhlIGdsb2JhbCBtb2NzIHJlZ2lzdGVycwo+ICsgKiBndDogICAgICBwb2ludGVyIHRv
IHN0cnVjdCBpbnRlbF9ndAo+ICsgKgo+ICsgKiBUaGlzIGZ1bmN0aW9uIGluaXRpYWxpemVzIHRo
ZSBNT0NTIGdsb2JhbCByZWdpc3RlcnMuCj4gKyAqLwo+ICt2b2lkIGludGVsX21vY3NfaW5pdF9n
bG9iYWwoc3RydWN0IGludGVsX2d0ICpndCkKPiArewo+ICsJc3RydWN0IGludGVsX3VuY29yZSAq
dW5jb3JlID0gZ3QtPnVuY29yZTsKPiArCXN0cnVjdCBkcm1faTkxNV9tb2NzX3RhYmxlIHRhYmxl
Owo+ICsJdW5zaWduZWQgaW50IGluZGV4Owo+ICsKPiArCWlmICghSEFTX0dMT0JBTF9NT0NTX1JF
R0lTVEVSUyhndC0+aTkxNSkpCj4gKwkJcmV0dXJuOwo+ICsKPiArCWlmICghZ2V0X21vY3Nfc2V0
dGluZ3MoZ3QsICZ0YWJsZSkpCj4gKwkJcmV0dXJuOwo+ICsKPiArCWlmIChHRU1fREVCVUdfV0FS
Tl9PTih0YWJsZS5zaXplID4gdGFibGUubl9lbnRyaWVzKSkKPiArCQlyZXR1cm47Cj4gKwo+ICsJ
Zm9yIChpbmRleCA9IDA7IGluZGV4IDwgdGFibGUuc2l6ZTsgaW5kZXgrKykKPiArCQlpbnRlbF91
bmNvcmVfd3JpdGUodW5jb3JlLAo+ICsJCQkJICAgR0VOMTJfR0xPQkFMX01PQ1MoaW5kZXgpLAo+
ICsJCQkJICAgdGFibGUudGFibGVbaW5kZXhdLmNvbnRyb2xfdmFsdWUpOwo+ICsKPiArCS8qCj4g
KwkgKiBPaywgbm93IHNldCB0aGUgdW51c2VkIGVudHJpZXMgdG8gdW5jYWNoZWQuIFRoZXNlIGVu
dHJpZXMKPiArCSAqIGFyZSBvZmZpY2lhbGx5IHVuZGVmaW5lZCBhbmQgbm8gY29udHJhY3QgZm9y
IHRoZSBjb250ZW50cwo+ICsJICogYW5kIHNldHRpbmdzIGlzIGdpdmVuIGZvciB0aGVzZSBlbnRy
aWVzLgo+ICsJICoKPiArCSAqIEVudHJ5IDAgaW4gdGhlIHRhYmxlIGlzIHVuY2FjaGVkIC0gc28g
d2UgYXJlIGp1c3Qgd3JpdGluZwo+ICsJICogdGhhdCB2YWx1ZSB0byBhbGwgdGhlIHVzZWQgZW50
cmllcy4KPiArCSAqLwo+ICsJZm9yICg7IGluZGV4IDwgdGFibGUubl9lbnRyaWVzOyBpbmRleCsr
KQo+ICsJCWludGVsX3VuY29yZV93cml0ZSh1bmNvcmUsCj4gKwkJCQkgICBHRU4xMl9HTE9CQUxf
TU9DUyhpbmRleCksCj4gKwkJCQkgICB0YWJsZS50YWJsZVswXS5jb250cm9sX3ZhbHVlKTsKPiAr
fQo+ICsKPiAgIC8qKgo+ICAgICogZW1pdF9tb2NzX2NvbnRyb2xfdGFibGUoKSAtIGVtaXQgdGhl
IG1vY3MgY29udHJvbCB0YWJsZQo+ICAgICogQHJxOglSZXF1ZXN0IHRvIHNldCB1cCB0aGUgTU9D
UyB0YWJsZSBmb3IuCj4gQEAgLTU5Miw2ICs2MzYsOSBAQCBpbnQgaW50ZWxfcmNzX2NvbnRleHRf
aW5pdF9tb2NzKHN0cnVjdCBpOTE1X3JlcXVlc3QgKnJxKQo+ICAgCXN0cnVjdCBkcm1faTkxNV9t
b2NzX3RhYmxlIHQ7Cj4gICAJaW50IHJldDsKPiAgIAo+ICsJaWYgKEhBU19HTE9CQUxfTU9DU19S
RUdJU1RFUlMocnEtPmk5MTUpKQo+ICsJCXJldHVybiAwOwo+ICsKPiAgIAlpZiAoZ2V0X21vY3Nf
c2V0dGluZ3MocnEtPmVuZ2luZS0+Z3QsICZ0KSkgewo+ICAgCQkvKiBQcm9ncmFtIHRoZSBSQ1Mg
Y29udHJvbCByZWdpc3RlcnMgKi8KPiAgIAkJcmV0ID0gZW1pdF9tb2NzX2NvbnRyb2xfdGFibGUo
cnEsICZ0KTsKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfbW9j
cy5oIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfbW9jcy5oCj4gaW5kZXggOGI5ODEz
ZTZmOWFjLi5hYTNhMmRmMDdjODIgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUv
Z3QvaW50ZWxfbW9jcy5oCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfbW9j
cy5oCj4gQEAgLTU2LDYgKzU2LDcgQEAgc3RydWN0IGludGVsX2d0Owo+ICAgCj4gICBpbnQgaW50
ZWxfcmNzX2NvbnRleHRfaW5pdF9tb2NzKHN0cnVjdCBpOTE1X3JlcXVlc3QgKnJxKTsKPiAgIHZv
aWQgaW50ZWxfbW9jc19pbml0X2wzY2NfdGFibGUoc3RydWN0IGludGVsX2d0ICpndCk7Cj4gK3Zv
aWQgaW50ZWxfbW9jc19pbml0X2dsb2JhbChzdHJ1Y3QgaW50ZWxfZ3QgKmd0KTsKPiAgIHZvaWQg
aW50ZWxfbW9jc19pbml0X2VuZ2luZShzdHJ1Y3QgaW50ZWxfZW5naW5lX2NzICplbmdpbmUpOwo+
ICAgCj4gICAjZW5kaWYKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9k
cnYuaCBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZHJ2LmgKPiBpbmRleCAwNjkzMzdmMTE4
NzIuLjU3YzA1NjUwZDNiMyAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1
X2Rydi5oCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kcnYuaAo+IEBAIC0yMzA4
LDYgKzIzMDgsOCBAQCBJU19TVUJQTEFURk9STShjb25zdCBzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0
ZSAqaTkxNSwKPiAgIAo+ICAgI2RlZmluZSBIQVNfUE9PTEVEX0VVKGRldl9wcml2KQkoSU5URUxf
SU5GTyhkZXZfcHJpdiktPmhhc19wb29sZWRfZXUpCj4gICAKPiArI2RlZmluZSBIQVNfR0xPQkFM
X01PQ1NfUkVHSVNURVJTKGRldl9wcml2KQkoSU5URUxfSU5GTyhkZXZfcHJpdiktPmhhc19nbG9i
YWxfbW9jcykKPiArCj4gICAjZGVmaW5lIElOVEVMX1BDSF9ERVZJQ0VfSURfTUFTSwkJMHhmZjgw
Cj4gICAjZGVmaW5lIElOVEVMX1BDSF9JQlhfREVWSUNFX0lEX1RZUEUJCTB4M2IwMAo+ICAgI2Rl
ZmluZSBJTlRFTF9QQ0hfQ1BUX0RFVklDRV9JRF9UWVBFCQkweDFjMDAKPiBkaWZmIC0tZ2l0IGEv
ZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9nZW0uYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5
MTVfZ2VtLmMKPiBpbmRleCBlMjQ5NTViNWViYzIuLmQyM2UxNTZmNjY1OSAxMDA2NDQKPiAtLS0g
YS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2dlbS5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJt
L2k5MTUvaTkxNV9nZW0uYwo+IEBAIC0xMjU0LDYgKzEyNTQsNyBAQCBpbnQgaTkxNV9nZW1faW5p
dF9odyhzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSkKPiAgIAkJZ290byBvdXQ7Cj4gICAJ
fQo+ICAgCj4gKwlpbnRlbF9tb2NzX2luaXRfZ2xvYmFsKGd0KTsKPiAgIAlpbnRlbF9tb2NzX2lu
aXRfbDNjY190YWJsZShndCk7Cj4gICAKPiAgIAlpbnRlbF9lbmdpbmVzX3NldF9zY2hlZHVsZXJf
Y2FwcyhpOTE1KTsKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9ncHVf
ZXJyb3IuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZ3B1X2Vycm9yLmMKPiBpbmRleCA1
NDg5Y2Q4NzkzMTUuLmVlNDBjMTRjYWE2NCAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0v
aTkxNS9pOTE1X2dwdV9lcnJvci5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9n
cHVfZXJyb3IuYwo+IEBAIC0xMTUzLDcgKzExNTMsMTAgQEAgc3RhdGljIHZvaWQgZXJyb3JfcmVj
b3JkX2VuZ2luZV9yZWdpc3RlcnMoc3RydWN0IGk5MTVfZ3B1X3N0YXRlICplcnJvciwKPiAgIAo+
ICAgCWlmIChJTlRFTF9HRU4oZGV2X3ByaXYpID49IDYpIHsKPiAgIAkJZWUtPnJjX3BzbWkgPSBF
TkdJTkVfUkVBRChlbmdpbmUsIFJJTkdfUFNNSV9DVEwpOwo+IC0JCWlmIChJTlRFTF9HRU4oZGV2
X3ByaXYpID49IDgpCj4gKwo+ICsJCWlmIChJTlRFTF9HRU4oZGV2X3ByaXYpID49IDEyKQo+ICsJ
CQllZS0+ZmF1bHRfcmVnID0gSTkxNV9SRUFEKEdFTjEyX1JJTkdfRkFVTFRfUkVHKTsKPiArCQll
bHNlIGlmIChJTlRFTF9HRU4oZGV2X3ByaXYpID49IDgpCj4gICAJCQllZS0+ZmF1bHRfcmVnID0g
STkxNV9SRUFEKEdFTjhfUklOR19GQVVMVF9SRUcpOwo+ICAgCQllbHNlCj4gICAJCQllZS0+ZmF1
bHRfcmVnID0gR0VONl9SSU5HX0ZBVUxUX1JFR19SRUFEKGVuZ2luZSk7Cj4gQEAgLTE2MTMsOCAr
MTYxNiwxMCBAQCBzdGF0aWMgdm9pZCBjYXB0dXJlX3JlZ19zdGF0ZShzdHJ1Y3QgaTkxNV9ncHVf
c3RhdGUgKmVycm9yKQo+ICAgCj4gICAJaWYgKElOVEVMX0dFTihpOTE1KSA+PSA2KSB7Cj4gICAJ
CWVycm9yLT5kZXJybXIgPSBpbnRlbF91bmNvcmVfcmVhZCh1bmNvcmUsIERFUlJNUik7Cj4gLQkJ
ZXJyb3ItPmVycm9yID0gaW50ZWxfdW5jb3JlX3JlYWQodW5jb3JlLCBFUlJPUl9HRU42KTsKPiAt
CQllcnJvci0+ZG9uZV9yZWcgPSBpbnRlbF91bmNvcmVfcmVhZCh1bmNvcmUsIERPTkVfUkVHKTsK
PiArCQlpZiAoSU5URUxfR0VOKGk5MTUpIDwgMTIpIHsKPiArCQkJZXJyb3ItPmVycm9yID0gaW50
ZWxfdW5jb3JlX3JlYWQodW5jb3JlLCBFUlJPUl9HRU42KTsKPiArCQkJZXJyb3ItPmRvbmVfcmVn
ID0gaW50ZWxfdW5jb3JlX3JlYWQodW5jb3JlLCBET05FX1JFRyk7Cj4gKwkJfQo+ICAgCX0KPiAg
IAo+ICAgCWlmIChJTlRFTF9HRU4oaTkxNSkgPj0gNSkKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9n
cHUvZHJtL2k5MTUvaTkxNV9wY2kuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfcGNpLmMK
PiBpbmRleCA0MDA3NmJhNDMxZDQuLmYwZTE5ZWYyZTcxYSAxMDA2NDQKPiAtLS0gYS9kcml2ZXJz
L2dwdS9kcm0vaTkxNS9pOTE1X3BjaS5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkx
NV9wY2kuYwo+IEBAIC03ODMsNyArNzgzLDggQEAgc3RhdGljIGNvbnN0IHN0cnVjdCBpbnRlbF9k
ZXZpY2VfaW5mbyBpbnRlbF9lbGtoYXJ0bGFrZV9pbmZvID0gewo+ICAgCQlbVFJBTlNDT0RFUl9E
XSA9IFRSQU5TQ09ERVJfRF9PRkZTRVQsIFwKPiAgIAkJW1RSQU5TQ09ERVJfRFNJXzBdID0gVFJB
TlNDT0RFUl9EU0kwX09GRlNFVCwgXAo+ICAgCQlbVFJBTlNDT0RFUl9EU0lfMV0gPSBUUkFOU0NP
REVSX0RTSTFfT0ZGU0VULCBcCj4gLQl9Cj4gKwl9LCBcCj4gKwkuaGFzX2dsb2JhbF9tb2NzID0g
MQo+ICAgCj4gICBzdGF0aWMgY29uc3Qgc3RydWN0IGludGVsX2RldmljZV9pbmZvIGludGVsX3Rp
Z2VybGFrZV8xMl9pbmZvID0gewo+ICAgCUdFTjEyX0ZFQVRVUkVTLAo+IGRpZmYgLS1naXQgYS9k
cml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3JlZy5oIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkx
NV9yZWcuaAo+IGluZGV4IDcxMjYxNmZjZDZiMy4uNmNmY2RmNmJiMWJiIDEwMDY0NAo+IC0tLSBh
L2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfcmVnLmgKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0v
aTkxNS9pOTE1X3JlZy5oCj4gQEAgLTI0OTAsNiArMjQ5MCw3IEBAIGVudW0gaTkxNV9wb3dlcl93
ZWxsX2lkIHsKPiAgICNkZWZpbmUgUkVOREVSX0hXU19QR0FfR0VONwlfTU1JTygweDA0MDgwKQo+
ICAgI2RlZmluZSBSSU5HX0ZBVUxUX1JFRyhlbmdpbmUpCV9NTUlPKDB4NDA5NCArIDB4MTAwICog
KGVuZ2luZSktPmh3X2lkKQo+ICAgI2RlZmluZSBHRU44X1JJTkdfRkFVTFRfUkVHCV9NTUlPKDB4
NDA5NCkKPiArI2RlZmluZSBHRU4xMl9SSU5HX0ZBVUxUX1JFRwlfTU1JTygweGNlYzQpCj4gICAj
ZGVmaW5lICAgR0VOOF9SSU5HX0ZBVUxUX0VOR0lORV9JRCh4KQkoKCh4KSA+PiAxMikgJiAweDcp
Cj4gICAjZGVmaW5lICAgUklOR19GQVVMVF9HVFRTRUxfTUFTSyAoMSA8PCAxMSkKPiAgICNkZWZp
bmUgICBSSU5HX0ZBVUxUX1NSQ0lEKHgpCSgoKHgpID4+IDMpICYgMHhmZikKPiBAQCAtMTEzNjIs
NiArMTEzNjMsOCBAQCBlbnVtIHNrbF9wb3dlcl9nYXRlIHsKPiAgICNkZWZpbmUgICBQTUZMVVNI
X0dBUEwzVU5CTE9DSwkJKDEgPDwgMjEpCj4gICAjZGVmaW5lICAgUE1GTFVTSERPTkVfTE5FQkxL
CQkoMSA8PCAyMikKPiAgIAo+ICsjZGVmaW5lIEdFTjEyX0dMT0JBTF9NT0NTKGkpCV9NTUlPKDB4
NDAwMCArIChpKSAqIDQpIC8qIEdsb2JhbCBNT0NTIHJlZ3MgKi8KPiArCj4gICAvKiBnYW10IHJl
Z3MgKi8KPiAgICNkZWZpbmUgR0VOOF9MM19MUkFfMV9HUEdQVSBfTU1JTygweDRkZDQpCj4gICAj
ZGVmaW5lICAgR0VOOF9MM19MUkFfMV9HUEdQVV9ERUZBVUxUX1ZBTFVFX0JEVyAgMHg2N0YxNDI3
RiAvKiBtYXgvbWluIGZvciBMUkExLzIgKi8KPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJt
L2k5MTUvaW50ZWxfZGV2aWNlX2luZm8uaCBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX2Rl
dmljZV9pbmZvLmgKPiBpbmRleCA0NWE5YmFkYzliOGUuLmFlYTdkMTQzZWM0NyAxMDA2NDQKPiAt
LS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9kZXZpY2VfaW5mby5oCj4gKysrIGIvZHJp
dmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfZGV2aWNlX2luZm8uaAo+IEBAIC0xMTIsNiArMTEyLDcg
QEAgZW51bSBpbnRlbF9wcGd0dF90eXBlIHsKPiAgIAlmdW5jKGdwdV9yZXNldF9jbG9iYmVyc19k
aXNwbGF5KTsgXAo+ICAgCWZ1bmMoaGFzX3Jlc2V0X2VuZ2luZSk7IFwKPiAgIAlmdW5jKGhhc19m
cGdhX2RiZyk7IFwKPiArCWZ1bmMoaGFzX2dsb2JhbF9tb2NzKTsgXAo+ICAgCWZ1bmMoaGFzX2d1
Yyk7IFwKPiAgIAlmdW5jKGhhc19sM19kcGYpOyBcCj4gICAJZnVuYyhoYXNfbGxjKTsgXAo+IApf
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpJbnRlbC1nZngg
bWFpbGluZyBsaXN0CkludGVsLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0
cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9pbnRlbC1nZng=

Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 0AADCBD9F4
	for <lists+intel-gfx@lfdr.de>; Wed, 25 Sep 2019 10:36:17 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 41A9F89E05;
	Wed, 25 Sep 2019 08:36:15 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga06.intel.com (mga06.intel.com [134.134.136.31])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 34F4789E05;
 Wed, 25 Sep 2019 08:36:14 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga007.jf.intel.com ([10.7.209.58])
 by orsmga104.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 25 Sep 2019 01:36:13 -0700
X-IronPort-AV: E=Sophos;i="5.64,547,1559545200"; d="scan'208";a="179751255"
Received: from kgalazka-mobl.ger.corp.intel.com (HELO [10.252.3.235])
 ([10.252.3.235])
 by orsmga007-auth.jf.intel.com with ESMTP/TLS/AES256-SHA;
 25 Sep 2019 01:36:12 -0700
To: Chris Wilson <chris@chris-wilson.co.uk>, intel-gfx@lists.freedesktop.org
References: <20190924220137.20627-1-chris@chris-wilson.co.uk>
From: Tvrtko Ursulin <tvrtko.ursulin@linux.intel.com>
Organization: Intel Corporation UK Plc
Message-ID: <0b60996d-dd89-55db-c6b0-45b6c0473a4e@linux.intel.com>
Date: Wed, 25 Sep 2019 09:36:10 +0100
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101
 Thunderbird/60.8.0
MIME-Version: 1.0
In-Reply-To: <20190924220137.20627-1-chris@chris-wilson.co.uk>
Content-Language: en-US
Subject: Re: [Intel-gfx] [PATCH i-g-t] i915/perf_pmu: Compare semaphore and
 busy measurements
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: igt-dev@lists.freedesktop.org
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

Ck9uIDI0LzA5LzIwMTkgMjM6MDEsIENocmlzIFdpbHNvbiB3cm90ZToKPiBPdXIgc2VtYXBob3Jl
IHRpbWUgaXMgbWVhc3VyZWQgYnkgc2FtcGxpbmcgYSByaW5nIHJlZ2lzdGVyLCB3aGVyZWFzIG91
cgo+IGJ1c3kgdGltZSBpcyBtZWFzdXJlZCBleGFjdGx5LiBUaGlzIGxlYXZlcyBhIHdpbmRvdyBv
ZiBkaXNjcmVwYW5jeSB0aGF0Cj4gd2Ugd2lzaCB0byBrZWVwIHNtYWxsIChhdCBsZWFzdCB3aXRo
aW4gc2FtcGxlIHRvbGVyYW5jZSkuCj4gCj4gUmVmZXJlbmNlczogaHR0cHM6Ly9idWdzLmZyZWVk
ZXNrdG9wLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTExNzg4Cj4gU2lnbmVkLW9mZi1ieTogQ2hyaXMg
V2lsc29uIDxjaHJpc0BjaHJpcy13aWxzb24uY28udWs+Cj4gQ2M6IFR2cnRrbyBVcnN1bGluIDx0
dnJ0a28udXJzdWxpbkBpbnRlbC5jb20+Cj4gLS0tCj4gICB0ZXN0cy9wZXJmX3BtdS5jIHwgNzMg
KysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKystCj4gICAxIGZp
bGUgY2hhbmdlZCwgNzIgaW5zZXJ0aW9ucygrKSwgMSBkZWxldGlvbigtKQo+IAo+IGRpZmYgLS1n
aXQgYS90ZXN0cy9wZXJmX3BtdS5jIGIvdGVzdHMvcGVyZl9wbXUuYwo+IGluZGV4IDhhMDZlNWQ0
NC4uMmZjYWY4OGRlIDEwMDY0NAo+IC0tLSBhL3Rlc3RzL3BlcmZfcG11LmMKPiArKysgYi90ZXN0
cy9wZXJmX3BtdS5jCj4gQEAgLTEzMCw3ICsxMzAsNyBAQCBzdGF0aWMgdWludDY0X3QgcG11X3Jl
YWRfbXVsdGkoaW50IGZkLCB1bnNpZ25lZCBpbnQgbnVtLCB1aW50NjRfdCAqdmFsKQo+ICAgI2Rl
ZmluZSBfX2Fzc2VydF93aXRoaW5fZXBzaWxvbih4LCByZWYsIHRvbF91cCwgdG9sX2Rvd24pIFwK
PiAgIAlpZ3RfYXNzZXJ0X2YoKGRvdWJsZSkoeCkgPD0gKDEuMCArICh0b2xfdXApKSAqIChkb3Vi
bGUpKHJlZikgJiYgXAo+ICAgCQkgICAgIChkb3VibGUpKHgpID49ICgxLjAgLSAodG9sX2Rvd24p
KSAqIChkb3VibGUpKHJlZiksIFwKPiAtCQkgICAgICInJXMnICE9ICclcycgKCVmIG5vdCB3aXRo
aW4gKyVmJSUvLSVmJSUgdG9sZXJhbmNlIG9mICVmKVxuIixcCj4gKwkJICAgICAiJyVzJyAhPSAn
JXMnICglZiBub3Qgd2l0aGluICslLjFmJSUvLSUuMWYlJSB0b2xlcmFuY2Ugb2YgJWYpXG4iLFwK
PiAgIAkJICAgICAjeCwgI3JlZiwgKGRvdWJsZSkoeCksIFwKPiAgIAkJICAgICAodG9sX3VwKSAq
IDEwMC4wLCAodG9sX2Rvd24pICogMTAwLjAsIFwKPiAgIAkJICAgICAoZG91YmxlKShyZWYpKQo+
IEBAIC03NDQsNiArNzQ0LDc0IEBAIHNlbWFfd2FpdChpbnQgZ2VtX2ZkLCBjb25zdCBzdHJ1Y3Qg
aW50ZWxfZXhlY3V0aW9uX2VuZ2luZTIgKmUsCj4gICAJYXNzZXJ0X3dpdGhpbl9lcHNpbG9uKHZh
bFsxXSAtIHZhbFswXSwgc2xlcHQsIHRvbGVyYW5jZSk7Cj4gICB9Cj4gICAKPiArc3RhdGljIHZv
aWQKPiArX19zZW1hX2J1c3koaW50IGdlbV9mZCwgaW50IHBtdSwKPiArCSAgICBjb25zdCBzdHJ1
Y3QgaW50ZWxfZXhlY3V0aW9uX2VuZ2luZTIgKmUsCj4gKwkgICAgY29uc3Qgc3RydWN0IGludGVs
X2V4ZWN1dGlvbl9lbmdpbmUyICpzaWduYWwsCj4gKwkgICAgaW50IHNlbWFfcGN0LAo+ICsJICAg
IGludCBidXN5X3BjdCkKPiArewo+ICsJdWludDY0X3QgdG90YWwsIHNlbWEsIGJ1c3k7Cj4gKwl1
aW50NjRfdCBzdGFydFsyXSwgZW5kWzJdOwo+ICsJaWd0X3NwaW5fdCAqc3BpblsyXTsKPiArCj4g
KwlzcGluWzBdID0gaWd0X3NwaW5fbmV3KGdlbV9mZCwKPiArCQkJICAgICAgIC5lbmdpbmUgPSBz
aWduYWwtPmZsYWdzLAo+ICsJCQkgICAgICAgLmZsYWdzID0gSUdUX1NQSU5fRkVOQ0VfT1VUKTsK
PiArCXNwaW5bMV0gPSBpZ3Rfc3Bpbl9uZXcoZ2VtX2ZkLAo+ICsJCQkgICAgICAgLmVuZ2luZSA9
IGUtPmZsYWdzLAo+ICsJCQkgICAgICAgLmZlbmNlID0gc3BpblswXS0+b3V0X2ZlbmNlLAo+ICsJ
CQkgICAgICAgLmZsYWdzID0gSUdUX1NQSU5fRkVOQ0VfSU4pOwo+ICsKPiArCXRvdGFsID0gcG11
X3JlYWRfbXVsdGkocG11LCAyLCBzdGFydCk7CgpNaWdodCBiZSB3b3J0aCBmb3IgcmVzdWx0IHN0
YWJpbGl0eSBmb3IgaGF2ZSBzaWduYWxlciB3aXRoIApJR1RfU1BJTl9QT0xMX1JVTiBhbmQgd2Fp
dCBmb3IgaXQgdG8gcnVuIGhlcmUgYmVmb3JlIHByb2NlZWRpbmcgd2l0aCBzbGVlcHMuCgo+ICsK
PiArCXNlbWEgPSBtZWFzdXJlZF91c2xlZXAoYmF0Y2hfZHVyYXRpb25fbnMgKiBzZW1hX3BjdCAv
IDEwMCAvIDEwMDApOwo+ICsJaWd0X3NwaW5fZW5kKHNwaW5bMF0pOwo+ICsJYnVzeSA9IG1lYXN1
cmVkX3VzbGVlcChiYXRjaF9kdXJhdGlvbl9ucyAqIChidXN5X3BjdCAtIHNlbWFfcGN0KSAvIDEw
MCAvIDEwMDApOwoKYnVzeSBpcyBvbmx5IGV2ZXIgdXNlZCB0b2dldGhlciB3aXRoIHNlbWEgc28g
aXQgbWF5IG1ha2Ugc2Vuc2UgZm9yIApjbGFyaXR5IHRvIGFkZCBzZW1hIHRvIGl0IHN0cmFpZ2h0
IGF3YXkgYW5kIHRoZW4gaXQgd291bGQgZGlyZWN0bHkgCmNvcnJlc3BvbmQgd2l0aCB0aGUgbWV0
cmljIHNlbWFudGljcy4KCj4gKwlpZ3Rfc3Bpbl9lbmQoc3BpblsxXSk7Cj4gKwltZWFzdXJlZF91
c2xlZXAoYmF0Y2hfZHVyYXRpb25fbnMgKiAoMTAwIC0gYnVzeV9wY3QpIC8gMTAwIC8gMTAwMCk7
CgpSZXF1aXJlZCByZWxhdGlvbnNoaXAgYmV0d2VlbiBpbnB1dCBzZW1hX3BjdCBhbmQgYnVzeV9w
Y3QgaXMgYSBiaXQgCm5vbi1vYnZpb3VzLgoKaWd0X2Fzc2VydChidXN5X3BjdCA+PSBzZW1hX3Bj
dCk/Cgo+ICsKPiArCXRvdGFsID0gcG11X3JlYWRfbXVsdGkocG11LCAyLCBlbmQpIC0gdG90YWw7
Cj4gKwo+ICsJaWd0X2luZm8oIiVzPC0lcywgdGFyZ2V0OiB7JS4xZiUlIFslZF0sICUuMWYlJSBb
JWRdfSwgbWVhc3VyZWQgeyUuMWYlJSwgJS4xZiUlfVxuIiwKPiArCQkgZS0+bmFtZSwgc2lnbmFs
LT5uYW1lLAo+ICsJCSBzZW1hICogMTAwLiAvIHRvdGFsLCBzZW1hX3BjdCwKPiArCQkgKHNlbWEg
KyBidXN5KSAqIDEwMC4gLyB0b3RhbCwgYnVzeV9wY3QsCj4gKwkJIChlbmRbMF0gLSBzdGFydFsw
XSkgKiAxMDAuIC8gdG90YWwsCj4gKwkJIChlbmRbMV0gLSBzdGFydFsxXSkgKiAxMDAuIC8gdG90
YWwpOwo+ICsKPiArCWFzc2VydF93aXRoaW5fZXBzaWxvbihlbmRbMF0gLSBzdGFydFswXSwgc2Vt
YSwgdG9sZXJhbmNlKTsKPiArCWFzc2VydF93aXRoaW5fZXBzaWxvbihlbmRbMV0gLSBzdGFydFsx
XSwgc2VtYSArIGJ1c3ksIHRvbGVyYW5jZSk7Cj4gKwlpZ3RfYXNzZXJ0KChlbmRbMF0gLSBzdGFy
dFswXSkgPCAoZW5kWzFdIC0gc3RhcnRbMV0pICogKDEgKyB0b2xlcmFuY2UpKTsKCl9fYXNzZXJ0
X3dpdGhpbl9lcHNpbG9uIHdpdGggb25lIG9mIHRoZSB0b2xlcmFuY2VzIHplcm8/Cgo+ICsKPiAr
CWlndF9zcGluX2ZyZWUoZ2VtX2ZkLCBzcGluWzFdKTsKPiArCWlndF9zcGluX2ZyZWUoZ2VtX2Zk
LCBzcGluWzBdKTsKPiArfQo+ICsKPiArc3RhdGljIHZvaWQKPiArc2VtYV9idXN5KGludCBnZW1f
ZmQsCj4gKwkgIGNvbnN0IHN0cnVjdCBpbnRlbF9leGVjdXRpb25fZW5naW5lMiAqZSwKPiArCSAg
dW5zaWduZWQgaW50IGZsYWdzKQo+ICt7Cj4gKwljb25zdCBzdHJ1Y3QgaW50ZWxfZXhlY3V0aW9u
X2VuZ2luZTIgKnNpZ25hbDsKPiArCWludCBmZDsKPiArCj4gKwlmZCA9IG9wZW5fZ3JvdXAoSTkx
NV9QTVVfRU5HSU5FX1NFTUEoZS0+Y2xhc3MsIGUtPmluc3RhbmNlKSwgLTEpOwo+ICsJb3Blbl9n
cm91cChJOTE1X1BNVV9FTkdJTkVfQlVTWShlLT5jbGFzcywgZS0+aW5zdGFuY2UpLCBmZCk7Cj4g
Kwo+ICsJX19mb3JfZWFjaF9waHlzaWNhbF9lbmdpbmUoZ2VtX2ZkLCBzaWduYWwpIHsKPiArCQlp
ZiAoZS0+Y2xhc3MgPT0gc2lnbmFsLT5jbGFzcyAmJgo+ICsJCSAgICBlLT5pbnN0YW5jZSA9PSBz
aWduYWwtPmluc3RhbmNlKQo+ICsJCQljb250aW51ZTsKPiArCj4gKwkJX19zZW1hX2J1c3koZ2Vt
X2ZkLCBmZCwgZSwgc2lnbmFsLCA1MCwgMTAwKTsKPiArCQlfX3NlbWFfYnVzeShnZW1fZmQsIGZk
LCBlLCBzaWduYWwsIDI1LCA1MCk7Cj4gKwkJX19zZW1hX2J1c3koZ2VtX2ZkLCBmZCwgZSwgc2ln
bmFsLCA3NSwgNzUpOwo+ICsJfQo+ICsKPiArCWNsb3NlKGZkKTsKPiArfQo+ICsKPiAgICNkZWZp
bmUgICBNSV9XQUlUX0ZPUl9QSVBFX0NfVkJMQU5LICgxPDwyMSkKPiAgICNkZWZpbmUgICBNSV9X
QUlUX0ZPUl9QSVBFX0JfVkJMQU5LICgxPDwxMSkKPiAgICNkZWZpbmUgICBNSV9XQUlUX0ZPUl9Q
SVBFX0FfVkJMQU5LICgxPDwzKQo+IEBAIC0xNzc0LDYgKzE4NDIsOSBAQCBpZ3RfbWFpbgo+ICAg
CQkJc2VtYV93YWl0KGZkLCBlLAo+ICAgCQkJCSAgVEVTVF9CVVNZIHwgVEVTVF9UUkFJTElOR19J
RExFKTsKPiAgIAo+ICsJCWlndF9zdWJ0ZXN0X2YoInNlbWFwaG9yZS1idXN5LSVzIiwgZS0+bmFt
ZSkKPiArCQkJc2VtYV9idXN5KGZkLCBlLCAwKTsKPiArCj4gICAJCS8qKgo+ICAgCQkgKiBDaGVj
ayB0aGF0IHR3byBwZXJmIGNsaWVudHMgZG8gbm90IGluZmx1ZW5jZSBlYWNoCj4gICAJCSAqIG90
aGVycyBvYnNlcnZhdGlvbnMuCj4gCgpMb29raW5nIGZvcndhcmQgdG8gcmVzdWx0cyEKClJlZ2Fy
ZHMsCgpUdnJ0a28KX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X18KSW50ZWwtZ2Z4IG1haWxpbmcgbGlzdApJbnRlbC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3Jn
Cmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vaW50ZWwtZ2Z4

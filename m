Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 7D8AD92400
	for <lists+intel-gfx@lfdr.de>; Mon, 19 Aug 2019 14:57:56 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 452166E117;
	Mon, 19 Aug 2019 12:57:54 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga01.intel.com (mga01.intel.com [192.55.52.88])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 3D9746E115
 for <intel-gfx@lists.freedesktop.org>; Mon, 19 Aug 2019 12:57:52 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga004.jf.intel.com ([10.7.209.38])
 by fmsmga101.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 19 Aug 2019 05:57:51 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.64,403,1559545200"; d="scan'208";a="329367739"
Received: from anshuma1-mobl1.gar.corp.intel.com (HELO [10.66.98.100])
 ([10.66.98.100])
 by orsmga004.jf.intel.com with ESMTP; 19 Aug 2019 05:57:49 -0700
To: imre.deak@intel.com, =?UTF-8?B?VmlsbGUgU3lyasOkbMOk?=
 <ville.syrjala@linux.intel.com>
References: <20190809183223.12031-1-anshuman.gupta@intel.com>
 <20190809183223.12031-6-anshuman.gupta@intel.com>
 <20190813154705.GC21986@ideak-desk.fi.intel.com>
From: "Gupta, Anshuman" <anshuman.gupta@intel.com>
Message-ID: <d3fe80a5-d151-ec15-5ea4-2389639573ef@intel.com>
Date: Mon, 19 Aug 2019 18:27:48 +0530
User-Agent: Mozilla/5.0 (Windows NT 10.0; WOW64; rv:60.0) Gecko/20100101
 Thunderbird/60.8.0
MIME-Version: 1.0
In-Reply-To: <20190813154705.GC21986@ideak-desk.fi.intel.com>
Content-Language: en-US
Subject: Re: [Intel-gfx] [PATCH v5 5/9] drm/i915/tgl: Add helper function to
 prefer dc3co over dc5
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: jani.nikula@intel.com, intel-gfx@lists.freedesktop.org
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

CgpPbiA4LzEzLzIwMTkgOToxNyBQTSwgSW1yZSBEZWFrIHdyb3RlOgo+IE9uIFNhdCwgQXVnIDEw
LCAyMDE5IGF0IDEyOjAyOjE5QU0gKzA1MzAsIEFuc2h1bWFuIEd1cHRhIHdyb3RlOgo+PiBXZSBu
ZWVkIHRvIGhhdmUgYSBTL1cgZmxhZyBiYXNlZCB1cG9uIHdoaWNoIGRyaXZlciBjYW4gc3dpdGNo
IHRvIERDM0NPLgo+PiBJZiBpdCBpcyBvbmx5IGVkcCBkaXNwbGF5IGNvbm5lY3RlZCBhbmQgaXQg
aGFzIHBzcjIgY2FwYWJpbGl0eSwKPj4gdGhlbiBzZXQgYSBwcmVmZXJfZGMzY28gZmxhZyB0byB0
cnVlLCB3aGljaCB3aWxsIGJlIHVzZWQgdG8KPj4gc3dpdGNoIHRvIGRjM2NvIGFzIHdlbGwgYXMg
dG8gcHJvZ3JhbSBEQzNDTyBQU1IyIHRyYW5zY29kZXIKPj4gZWFybHkgZXhpdGxpbmUgZXZlbnQu
Cj4+Cj4+IENjOiBKYW5pIE5pa3VsYSA8amFuaS5uaWt1bGFAaW50ZWwuY29tPgo+PiBDYzogSW1y
ZSBEZWFrIDxpbXJlLmRlYWtAaW50ZWwuY29tPgo+PiBDYzogQW5pbWVzaCBNYW5uYSA8YW5pbWVz
aC5tYW5uYUBpbnRlbC5jb20+Cj4+IFNpZ25lZC1vZmYtYnk6IEFuc2h1bWFuIEd1cHRhIDxhbnNo
dW1hbi5ndXB0YUBpbnRlbC5jb20+Cj4+IC0tLQo+PiAgIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2Rp
c3BsYXkvaW50ZWxfZGlzcGxheS5jICB8ICAgNSArCj4+ICAgLi4uL2RybS9pOTE1L2Rpc3BsYXkv
aW50ZWxfZGlzcGxheV9wb3dlci5jICAgIHwgMTA1ICsrKysrKysrKysrKysrKysrKwo+PiAgIC4u
Li9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXlfcG93ZXIuaCAgICB8ICAgNSArCj4+ICAg
ZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kcnYuaCAgICAgICAgICAgICAgIHwgICAxICsKPj4g
ICBkcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9wbS5jICAgICAgICAgICAgICAgfCAgIDIgKy0K
Pj4gICBkcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9wbS5oICAgICAgICAgICAgICAgfCAgIDIg
Kwo+PiAgIDYgZmlsZXMgY2hhbmdlZCwgMTE5IGluc2VydGlvbnMoKyksIDEgZGVsZXRpb24oLSkK
Pj4KPj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlz
cGxheS5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5LmMKPj4g
aW5kZXggNjQ3ZjQ5Y2E4NmZmLi4xZWMyMDRjMTRhMTAgMTAwNjQ0Cj4+IC0tLSBhL2RyaXZlcnMv
Z3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheS5jCj4+ICsrKyBiL2RyaXZlcnMvZ3B1
L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheS5jCj4+IEBAIC02NDQ4LDYgKzY0NDgsOSBA
QCBzdGF0aWMgdm9pZCBoYXN3ZWxsX2NydGNfZW5hYmxlKHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRl
ICpwaXBlX2NvbmZpZywKPj4gICAKPj4gICAJaWYgKFdBUk5fT04oaW50ZWxfY3J0Yy0+YWN0aXZl
KSkKPj4gICAJCXJldHVybjsKPj4gKwkvKiBFbmFibGUgUFNSMiB0cmFuc2NvZGVyIGV4aXQgbGlu
ZSAqLwo+PiArCWlmIChwaXBlX2NvbmZpZy0+aGFzX3BzcjIgJiYgZGV2X3ByaXYtPmNzci5wcmVm
ZXJfZGMzY28pCj4+ICsJCXRnbF9lbmFibGVfcHNyMl90cmFuc2NvZGVyX2V4aXRsaW5lKHBpcGVf
Y29uZmlnKTsKPiAKPiBUaGlzIGlzIHBhcnQgb2YgUFNSMiBwcm9ncmFtbWluZywgc28gc2hvdWxk
IGJlIGRvbmUgc29tZXdoZXJlIGJlbG93Cj4gaW50ZWxfcHNyX2VuYWJsZSgpIGltby4KPiAKPj4g
ICAKPj4gICAJaW50ZWxfZW5jb2RlcnNfcHJlX3BsbF9lbmFibGUoaW50ZWxfY3J0YywgcGlwZV9j
b25maWcsIHN0YXRlKTsKPj4gICAKPj4gQEAgLTEzNjg1LDYgKzEzNjg4LDggQEAgc3RhdGljIGlu
dCBpbnRlbF9hdG9taWNfY2hlY2soc3RydWN0IGRybV9kZXZpY2UgKmRldiwKPj4gICAJCQkJICAg
ICAgICJbbW9kZXNldF0iIDogIltmYXN0c2V0XSIpOwo+PiAgIAl9Cj4+ICAgCj4+ICsJdGdsX3By
ZWZlcl9kYzNjb19vdmVyX2RjNV9jaGVjayhkZXZfcHJpdiwgc3RhdGUpOwo+IAo+IEkgdGhpbmsg
dGhpcyBiZWxvbmdzIHRvIGludGVsX21vZGVzZXRfY2hlY2tzKCksIHdoZXJlIHdlIGNvdWxkIGFs
c28gZG8KPiBhbGwgbmVjZXNzYXJ5IHBpcGUgbG9ja2luZyAoc2luY2Ugbm93IEkgY2FuJ3Qgc2Vl
IGhvdyB3ZSB3b3VsZCBwcmV2ZW50Cj4gYWxsb3dpbmcgREMzQ08gd2hlbiBhbiBleHRlcm5hbCBv
dXRwdXQgaXMgZW5hYmxlZCBhc3luY2hyb25vdXNseSkuIFRoaXMKPiB3b3VsZCBiZSBha2luIHRv
IENEQ0xLIHJhdGUgY2hhbmdlLCBidXQgSSBkZWZlciBvbiB0aGlzIHRvIFZpbGxlLgpIaSBWaWxs
ZSwKQ291bGQgeW91IHBsZWFzZSBwcm92aWRlIHlvdXIgaW5wdXRzIG9uIERDM0NPIGRlc2lnbiBw
ZXJzcGVjdGl2ZSwKd2hldGhlciB3ZSBzaG91bGQgaGF2ZSBwaXBlIGxvY2tpbmcgaW4gb3JkZXIg
dG8gbWFpbnRhaW4gY29uc2lzdGVudCAKc3RhdGUgZm9yIGRjM2NvLgoKSSBmZWVsIHRoZXJlIGNh
biBiZSB0d28gd2F5IHRvIG1haW50YWluIGNvbnNpc3RlbnQgc3RhdGUuCgoxLiBFbnN1cmUgbmVj
ZXNzYXJ5IGxvY2tpbmcgb24gY3VycmVudCBjcnRjIGJlZm9yZSBjYWxjdWxhdGluZyAKcHJlZmVy
X2RjM2NvIHN0YXRlLCB0aGlzIHdpbGwgYmxvY2sgdGhlIGFzeW5jaHJvbm91cyBjb21taXQuCgoy
LiBXZSBjYW4gbWFrZSB0aGUgcHJlZmVyX2RjM2NvIHN0YXRlIHRvIGZhbHNlIGZyb20gZW5hYmxl
IHBvd2Vyd2VsbApjYWxsYmFjayB3aGljaCB3aWxsIHRyaWdnZXIgYnkgZ2V0dGluZyBhIHJlZmVy
ZW5jZSBjb3VudCBmb3IgUEcyIHBvd2VyIApkb21haW5zIGlmIGFueSBleHRlcm5hbCBvdXRwdXQg
aXMgZW5hYmxlZC4KCihEQzNDTyB3aWxsIGJlIGRpc2FsbG93ZWQgZnJvbSBwb3dlciB3ZWxsIGVu
YWJsZSBjYWxsYmFjayBpZiBhbnkgCmV4dGVybmFsIG91dHB1dCBpcyBlbmFibGVkIGFraW4gdG8g
REM1L0RDNiwgaGVyZSB3ZSB3YW50IHRvIG1ha2UgCnByZWZlcl9kYzNjbyBhdG9taWMgc3RhdGUg
Y29uc2lzdGVudCkuCgpUaGFua3MgLApBbnNodW1hbiBHdXB0YS4KPiAKPj4gKwo+PiAgIAlyZXR1
cm4gMDsKPj4gICAKPj4gICAgZmFpbDoKPj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9p
OTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheV9wb3dlci5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUv
ZGlzcGxheS9pbnRlbF9kaXNwbGF5X3Bvd2VyLmMKPj4gaW5kZXggMTY3ODM5MDYwMTU0Li4wNGEw
MmM4OGZmOTMgMTAwNjQ0Cj4+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50
ZWxfZGlzcGxheV9wb3dlci5jCj4+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkv
aW50ZWxfZGlzcGxheV9wb3dlci5jCj4+IEBAIC0xOCw2ICsxOCw3IEBACj4+ICAgI2luY2x1ZGUg
ImludGVsX2hvdHBsdWcuaCIKPj4gICAjaW5jbHVkZSAiaW50ZWxfc2lkZWJhbmQuaCIKPj4gICAj
aW5jbHVkZSAiaW50ZWxfdGMuaCIKPj4gKyNpbmNsdWRlICJpbnRlbF9wbS5oIgo+PiAgIAo+PiAg
IGJvb2wgaW50ZWxfZGlzcGxheV9wb3dlcl93ZWxsX2lzX2VuYWJsZWQoc3RydWN0IGRybV9pOTE1
X3ByaXZhdGUgKmRldl9wcml2LAo+PiAgIAkJCQkJIGVudW0gaTkxNV9wb3dlcl93ZWxsX2lkIHBv
d2VyX3dlbGxfaWQpOwo+PiBAQCAtNzkxLDYgKzc5MiwxMTAgQEAgc3RhdGljIHZvaWQgZ2VuOV9z
ZXRfZGNfc3RhdGUoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2LCB1MzIgc3RhdGUp
Cj4+ICAgCWRldl9wcml2LT5jc3IuZGNfc3RhdGUgPSB2YWwgJiBtYXNrOwo+PiAgIH0KPj4gICAK
Pj4gK3ZvaWQgdGdsX2VuYWJsZV9wc3IyX3RyYW5zY29kZXJfZXhpdGxpbmUoc3RydWN0IGludGVs
X2NydGNfc3RhdGUgICpjc3RhdGUpCj4+ICt7Cj4+ICsJdTMyIGxpbmV0aW1lX3VzLCB2YWwsIGV4
aXRfc2NhbmxpbmVzOwo+PiArCXUzMiBjcnRjX3ZkaXNwbGF5ID0gY3N0YXRlLT5iYXNlLmFkanVz
dGVkX21vZGUuY3J0Y192ZGlzcGxheTsKPj4gKwlzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2
X3ByaXYgPSB0b19pOTE1KGNzdGF0ZS0+YmFzZS5jcnRjLT5kZXYpOwo+PiArCj4+ICsJaWYgKFdB
Uk5fT04oY3N0YXRlLT5jcHVfdHJhbnNjb2RlciAhPSBUUkFOU0NPREVSX0EpKQo+PiArCQlyZXR1
cm47Cj4gCj4gV2hlcmUncyB0aGUgVFJBTlNDT0RFUi1BIHJlc3RyaWN0aW9uIGNvbWluZyBmcm9t
Pwo+IAo+PiArCj4+ICsJbGluZXRpbWVfdXMgPSBmaXhlZDE2X3RvX3UzMl9yb3VuZF91cChpbnRl
bF9nZXRfbGluZXRpbWVfdXMoY3N0YXRlKSk7Cj4+ICsJaWYgKFdBUk5fT04oIWxpbmV0aW1lX3Vz
KSkKPj4gKwkJcmV0dXJuOwo+PiArCS8qCj4+ICsJICogREMzQ08gRXhpdCB0aW1lIDIwMHVzIEIu
U3BlYyA0OTE5Ngo+PiArCSAqIFBTUjIgdHJhbnNjb2RlciBFYXJseSBFeGl0IHNjYW5saW5lcyA9
IFJPVU5EVVAoMjAwIC8gbGluZSB0aW1lKSArIDEKPj4gKwkgKiBFeGl0IGxpbmUgZXZlbnQgbmVl
ZCB0byBwcm9ncmFtIGFib3ZlIGNhbGN1bGF0ZWQgc2NhbiBsaW5lcyBiZWZvcmUKPj4gKwkgKiBu
ZXh0IFZCTEFOSy4KPj4gKwkgKi8KPj4gKwlleGl0X3NjYW5saW5lcyA9IERJVl9ST1VORF9VUCgy
MDAsIGxpbmV0aW1lX3VzKSArIDE7Cj4+ICsJaWYgKFdBUk5fT04oZXhpdF9zY2FubGluZXMgPiBj
cnRjX3ZkaXNwbGF5KSkKPj4gKwkJcmV0dXJuOwo+PiArCj4+ICsJZXhpdF9zY2FubGluZXMgPSBj
cnRjX3ZkaXNwbGF5IC0gZXhpdF9zY2FubGluZXM7Cj4+ICsJZXhpdF9zY2FubGluZXMgPDw9IEVY
SVRMSU5FX1NISUZUOwo+PiArCXZhbCA9IEk5MTVfUkVBRChFWElUTElORShjc3RhdGUtPmNwdV90
cmFuc2NvZGVyKSk7Cj4+ICsJdmFsICY9IH4oRVhJVExJTkVfTUFTSyB8IEVYSVRMSU5FX0VOQUJM
RSk7Cj4+ICsJdmFsIHw9IGV4aXRfc2NhbmxpbmVzOwo+PiArCXZhbCB8PSBFWElUTElORV9FTkFC
TEU7Cj4+ICsJSTkxNV9XUklURShFWElUTElORShjc3RhdGUtPmNwdV90cmFuc2NvZGVyKSwgdmFs
KTsKPj4gK30KPj4gKwo+PiArc3RhdGljIGJvb2wgdGdsX2lzX29ubHlfZWRwX2Nvbm5lY3RlZChz
dHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAgKmNydGNfc3RhdGUpCj4+ICt7Cj4+ICsJc3RydWN0IGRy
bV9hdG9taWNfc3RhdGUgKnN0YXRlID0gY3J0Y19zdGF0ZS0+YmFzZS5zdGF0ZTsKPj4gKwlzdHJ1
Y3QgaW50ZWxfY3J0YyAqY3J0YyA9IHRvX2ludGVsX2NydGMoY3J0Y19zdGF0ZS0+YmFzZS5jcnRj
KTsKPj4gKwlzdHJ1Y3QgZHJtX2Nvbm5lY3RvciAqY29ubmVjdG9yLCAqZWRwX2Nvbm5lY3RvciA9
IE5VTEw7Cj4+ICsJc3RydWN0IGRybV9jb25uZWN0b3Jfc3RhdGUgKmNvbm5lY3Rvcl9zdGF0ZTsK
Pj4gKwlpbnQgaTsKPj4gKwo+PiArCWZvcl9lYWNoX25ld19jb25uZWN0b3JfaW5fc3RhdGUoc3Rh
dGUsIGNvbm5lY3RvciwgY29ubmVjdG9yX3N0YXRlLCBpKSB7Cj4+ICsJCWlmIChjb25uZWN0b3Jf
c3RhdGUtPmNydGMgIT0gJmNydGMtPmJhc2UpCj4+ICsJCQljb250aW51ZTsKPj4gKwo+PiArCQlp
ZiAoY29ubmVjdG9yLT5zdGF0dXMgPT0gY29ubmVjdG9yX3N0YXR1c19jb25uZWN0ZWQgJiYKPj4g
KwkJICAgIGNvbm5lY3Rvci0+Y29ubmVjdG9yX3R5cGUgIT0gRFJNX01PREVfQ09OTkVDVE9SX2VE
UCkKPj4gKwkJCXJldHVybiBmYWxzZTsKPj4gKwkJZWxzZSBpZiAoY29ubmVjdG9yLT5jb25uZWN0
b3JfdHlwZSA9PSBEUk1fTU9ERV9DT05ORUNUT1JfZURQICYmCj4+ICsJCQkgY29ubmVjdG9yLT5z
dGF0dXMgPT0gY29ubmVjdG9yX3N0YXR1c19jb25uZWN0ZWQpCj4+ICsJCQllZHBfY29ubmVjdG9y
ID0gY29ubmVjdG9yOwo+PiArCX0KPj4gKwo+PiArCWlmIChlZHBfY29ubmVjdG9yKQo+PiArCQly
ZXR1cm4gdHJ1ZTsKPj4gKwo+PiArCXJldHVybiBmYWxzZTsKPj4gK30KPj4gKwo+PiArLyoKPj4g
KyAqIHRnbF9wcmVmZXJfZGMzY29fb3Zlcl9kYzVfY2hlY2sgY2hlY2sgd2hldGhlciBpdCBpcyB3
b3J0aCB0byBjaG9vc2UKPj4gKyAqIERDM0NPIG92ZXIgREM1LiBDdXJyZW50bHkgaXQganVzdCBj
aGVjayBjcnRjIHBzcjIgY2FwZWJpbHR5IGFuZCBvbmx5Cj4+ICsgKiBlZHAgZGlzcGxheSBzaG91
bGQgYmUgY29ubmVjdGVkLgo+PiArICogVE9ETzogUHJlZmVyIERDM0NPIG92ZXIgREM1IG9ubHkg
aW4gdmlkZW8gcGxheWJhY2suCj4+ICsgKi8KPj4gK3ZvaWQgdGdsX3ByZWZlcl9kYzNjb19vdmVy
X2RjNV9jaGVjayhzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYsCj4+ICsJCQkJICAg
ICBzdHJ1Y3QgaW50ZWxfYXRvbWljX3N0YXRlICpzdGF0ZSkKPj4gK3sKPj4gKwlzdHJ1Y3QgaW50
ZWxfY3J0Y19zdGF0ZSAqY3J0Y19zdGF0ZSwgKm1vZGVfY2hhbmdlZF9jc3RhdGU7Cj4+ICsJc3Ry
dWN0IGludGVsX2NydGMgKmNydGM7Cj4+ICsJaW50IGk7Cj4+ICsJdTMyIHZhbDsKPj4gKwo+PiAr
CWRldl9wcml2LT5jc3IucHJlZmVyX2RjM2NvID0gZmFsc2U7Cj4+ICsKPj4gKwlpZiAoIUlTX1RJ
R0VSTEFLRShkZXZfcHJpdikpCj4+ICsJCXJldHVybjsKPj4gKwo+PiArCWlmICghKGRldl9wcml2
LT5jc3IuYWxsb3dlZF9kY19tYXNrICYgRENfU1RBVEVfRU5fREMzQ08pKQo+PiArCQlyZXR1cm47
Cj4+ICsKPj4gKwlmb3JfZWFjaF9uZXdfaW50ZWxfY3J0Y19pbl9zdGF0ZShzdGF0ZSwgY3J0Yywg
Y3J0Y19zdGF0ZSwgaSkgewo+PiArCQlpZiAoY3J0Yy0+cGlwZSA9PSBQSVBFX0EpCj4+ICsJCQlt
b2RlX2NoYW5nZWRfY3N0YXRlID0gY3J0Y19zdGF0ZTsKPiAKPiBXaGVyZSBpcyB0aGUgUElQRS1B
IHJlc3RyaWN0aW9uIGNvbWluZyBmcm9tPyBDb3VsZG4ndCB3ZSBzaW1wbHkgcGljayB0aGUKPiBj
cnRjIHN0YXRlIHRoYXQgaGFzIHRoZSBQU1IyIHNpbms/Cj4gCj4+ICsJCWlmICghY3J0Y19zdGF0
ZS0+aGFzX3BzcjIgJiYgY3J0Y19zdGF0ZS0+YmFzZS5hY3RpdmUpIHsKPj4gKwkJCWRldl9wcml2
LT5jc3IucHJlZmVyX2RjM2NvID0gZmFsc2U7Cj4+ICsJCQlyZXR1cm47Cj4+ICsJCX0gZWxzZSBp
ZiAoY3J0Y19zdGF0ZS0+aGFzX3BzcjIpIHsKPj4gKwkJCWlmICh0Z2xfaXNfb25seV9lZHBfY29u
bmVjdGVkKGNydGNfc3RhdGUpICYmCj4+ICsJCQkgICAgY3J0Y19zdGF0ZS0+YmFzZS5hY3RpdmUp
IHsKPj4gKwkJCQlkZXZfcHJpdi0+Y3NyLnByZWZlcl9kYzNjbyA9IHRydWU7Cj4+ICsJCQkJY29u
dGludWU7Cj4+ICsJCQl9IGVsc2Ugewo+PiArCQkJCWRldl9wcml2LT5jc3IucHJlZmVyX2RjM2Nv
ID0gZmFsc2U7Cj4+ICsJCQkJcmV0dXJuOwo+PiArCQkJfQo+PiArCQl9Cj4+ICsJfQo+PiArCj4+
ICsJaWYgKGRldl9wcml2LT5jc3IucHJlZmVyX2RjM2NvKSB7Cj4+ICsJCXZhbCA9IEk5MTVfUkVB
RChFWElUTElORShtb2RlX2NoYW5nZWRfY3N0YXRlLT5jcHVfdHJhbnNjb2RlcikpOwo+IAo+IE5v
IEhXIGFjY2VzcyBkdXJpbmcgdGhlIG1vZGVzZXQgY2hlY2sgcGhhc2UgaXMgdGhlIHJ1bGUuIFlv
dSBjb3VsZCBqdXN0Cj4gdXNlIHRoZSBvbGQgcHJlZmVyX2RjM2NvIHZhbHVlLCBubz8KPiAKPj4g
KwkJaWYgKCEodmFsICYgRVhJVExJTkVfRU5BQkxFKSkKPj4gKwkJCW1vZGVfY2hhbmdlZF9jc3Rh
dGUtPmJhc2UubW9kZV9jaGFuZ2VkID0gdHJ1ZTsKPj4gKwl9Cj4+ICt9Cj4+ICsKPj4gICBzdGF0
aWMgdm9pZCB0Z2xfYWxsb3dfZGMzY28oc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2
KQo+PiAgIHsKPj4gICAJZ2VuOV9zZXRfZGNfc3RhdGUoZGV2X3ByaXYsIERDX1NUQVRFX0VOX0RD
M0NPKTsKPj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxf
ZGlzcGxheV9wb3dlci5oIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNw
bGF5X3Bvd2VyLmgKPj4gaW5kZXggOTdmMjU2MmZjNWQzLi40NmUxYmNmYTQ5MGEgMTAwNjQ0Cj4+
IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheV9wb3dlci5o
Cj4+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheV9wb3dl
ci5oCj4+IEBAIC0xMiw2ICsxMiw4IEBACj4+ICAgCj4+ICAgc3RydWN0IGRybV9pOTE1X3ByaXZh
dGU7Cj4+ICAgc3RydWN0IGludGVsX2VuY29kZXI7Cj4+ICtzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0
ZTsKPj4gK3N0cnVjdCBpbnRlbF9hdG9taWNfc3RhdGU7Cj4+ICAgCj4+ICAgZW51bSBpbnRlbF9k
aXNwbGF5X3Bvd2VyX2RvbWFpbiB7Cj4+ICAgCVBPV0VSX0RPTUFJTl9ESVNQTEFZX0NPUkUsCj4+
IEBAIC0yNDYsNiArMjQ4LDkgQEAgdm9pZCBpbnRlbF9kaXNwbGF5X3Bvd2VyX3N1c3BlbmRfbGF0
ZShzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSk7Cj4+ICAgdm9pZCBpbnRlbF9kaXNwbGF5
X3Bvd2VyX3Jlc3VtZV9lYXJseShzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSk7Cj4+ICAg
dm9pZCBpbnRlbF9kaXNwbGF5X3Bvd2VyX3N1c3BlbmQoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUg
Kmk5MTUpOwo+PiAgIHZvaWQgaW50ZWxfZGlzcGxheV9wb3dlcl9yZXN1bWUoc3RydWN0IGRybV9p
OTE1X3ByaXZhdGUgKmk5MTUpOwo+PiArdm9pZCB0Z2xfcHJlZmVyX2RjM2NvX292ZXJfZGM1X2No
ZWNrKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiwKPj4gKwkJCQkgICAgIHN0cnVj
dCBpbnRlbF9hdG9taWNfc3RhdGUgKnN0YXRlKTsKPj4gK3ZvaWQgdGdsX2VuYWJsZV9wc3IyX3Ry
YW5zY29kZXJfZXhpdGxpbmUoc3RydWN0IGludGVsX2NydGNfc3RhdGUgICpjc3RhdGUpOwo+PiAg
IAo+PiAgIGNvbnN0IGNoYXIgKgo+PiAgIGludGVsX2Rpc3BsYXlfcG93ZXJfZG9tYWluX3N0cihz
dHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSwKPj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1
L2RybS9pOTE1L2k5MTVfZHJ2LmggYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2Rydi5oCj4+
IGluZGV4IDNjZGI1YmY0ODlmMi4uN2NhMDcwMzIwOWE0IDEwMDY0NAo+PiAtLS0gYS9kcml2ZXJz
L2dwdS9kcm0vaTkxNS9pOTE1X2Rydi5oCj4+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5
MTVfZHJ2LmgKPj4gQEAgLTMzMiw2ICszMzIsNyBAQCBzdHJ1Y3QgaW50ZWxfY3NyIHsKPj4gICAJ
dTMyIGRjX3N0YXRlOwo+PiAgIAl1MzIgYWxsb3dlZF9kY19tYXNrOwo+PiAgIAlpbnRlbF93YWtl
cmVmX3Qgd2FrZXJlZjsKPj4gKwlib29sIHByZWZlcl9kYzNjbzsKPj4gICB9Owo+PiAgIAo+PiAg
IGVudW0gaTkxNV9jYWNoZV9sZXZlbCB7Cj4+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0v
aTkxNS9pbnRlbF9wbS5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfcG0uYwo+PiBpbmRl
eCA3ODBkZjhkYjJlYmEuLjYzNGU0MzIxOTE2NCAxMDA2NDQKPj4gLS0tIGEvZHJpdmVycy9ncHUv
ZHJtL2k5MTUvaW50ZWxfcG0uYwo+PiArKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9w
bS5jCj4+IEBAIC00NTg0LDcgKzQ1ODQsNyBAQCBza2xfd21fbWV0aG9kMih1MzIgcGl4ZWxfcmF0
ZSwgdTMyIHBpcGVfaHRvdGFsLCB1MzIgbGF0ZW5jeSwKPj4gICAJcmV0dXJuIHJldDsKPj4gICB9
Cj4+ICAgCj4+IC1zdGF0aWMgdWludF9maXhlZF8xNl8xNl90Cj4+ICt1aW50X2ZpeGVkXzE2XzE2
X3QKPj4gICBpbnRlbF9nZXRfbGluZXRpbWVfdXMoY29uc3Qgc3RydWN0IGludGVsX2NydGNfc3Rh
dGUgKmNydGNfc3RhdGUpCj4+ICAgewo+PiAgIAl1MzIgcGl4ZWxfcmF0ZTsKPj4gZGlmZiAtLWdp
dCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX3BtLmggYi9kcml2ZXJzL2dwdS9kcm0vaTkx
NS9pbnRlbF9wbS5oCj4+IGluZGV4IGUzNTczZTFlMTZlMy4uNDU0ZTkyYzA2ZGZmIDEwMDY0NAo+
PiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9wbS5oCj4+ICsrKyBiL2RyaXZlcnMv
Z3B1L2RybS9pOTE1L2ludGVsX3BtLmgKPj4gQEAgLTgsNiArOCw3IEBACj4+ICAgCj4+ICAgI2lu
Y2x1ZGUgPGxpbnV4L3R5cGVzLmg+Cj4+ICAgCj4+ICsjaW5jbHVkZSAiaTkxNV9kcnYuaCIKPj4g
ICAjaW5jbHVkZSAiaTkxNV9yZWcuaCIKPj4gICAKPj4gICBzdHJ1Y3QgZHJtX2RldmljZTsKPj4g
QEAgLTc2LDYgKzc3LDcgQEAgdTY0IGludGVsX3JjNl9yZXNpZGVuY3lfbnMoc3RydWN0IGRybV9p
OTE1X3ByaXZhdGUgKmRldl9wcml2LCBpOTE1X3JlZ190IHJlZyk7Cj4+ICAgdTY0IGludGVsX3Jj
Nl9yZXNpZGVuY3lfdXMoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2LCBpOTE1X3Jl
Z190IHJlZyk7Cj4+ICAgCj4+ICAgdTMyIGludGVsX2dldF9jYWdmKHN0cnVjdCBkcm1faTkxNV9w
cml2YXRlICpkZXZfcHJpdiwgdTMyIHJwc3RhdDEpOwo+PiArdWludF9maXhlZF8xNl8xNl90IGlu
dGVsX2dldF9saW5ldGltZV91cyhjb25zdCBzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqY3N0YXRl
KTsKPj4gICAKPj4gICB1bnNpZ25lZCBsb25nIGk5MTVfY2hpcHNldF92YWwoc3RydWN0IGRybV9p
OTE1X3ByaXZhdGUgKmRldl9wcml2KTsKPj4gICB1bnNpZ25lZCBsb25nIGk5MTVfbWNoX3ZhbChz
dHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYpOwo+PiAtLSAKPj4gMi4yMS4wCj4+Cl9f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCkludGVsLWdmeCBt
YWlsaW5nIGxpc3QKSW50ZWwtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3Rz
LmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2ludGVsLWdmeA==

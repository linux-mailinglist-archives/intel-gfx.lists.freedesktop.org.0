Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id F2701109F66
	for <lists+intel-gfx@lfdr.de>; Tue, 26 Nov 2019 14:43:23 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 3A9D46E3C6;
	Tue, 26 Nov 2019 13:43:22 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga18.intel.com (mga18.intel.com [134.134.136.126])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 7CC7A6E3C4
 for <intel-gfx@lists.freedesktop.org>; Tue, 26 Nov 2019 13:43:20 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga004.jf.intel.com ([10.7.209.38])
 by orsmga106.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 26 Nov 2019 05:43:19 -0800
X-IronPort-AV: E=Sophos;i="5.69,245,1571727600"; d="scan'208";a="359168361"
Received: from jnikula-mobl3.fi.intel.com (HELO localhost) ([10.237.66.161])
 by orsmga004-auth.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 26 Nov 2019 05:43:17 -0800
From: Jani Nikula <jani.nikula@intel.com>
To: intel-gfx@lists.freedesktop.org
Date: Tue, 26 Nov 2019 15:42:39 +0200
Message-Id: <d383533108a65816bd139c48647dc950319a6265.1574775655.git.jani.nikula@intel.com>
X-Mailer: git-send-email 2.20.1
In-Reply-To: <cover.1574775655.git.jani.nikula@intel.com>
References: <cover.1574775655.git.jani.nikula@intel.com>
MIME-Version: 1.0
Organization: Intel Finland Oy - BIC 0357606-4 - Westendinkatu 7, 02160 Espoo
Subject: [Intel-gfx] [PATCH v3 04/13] drm/i915/dsc: move DP specific compute
 params to intel_dp.c
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: jani.nikula@intel.com
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

VHVybnMgb3V0IGZ1dHVyZSBEU0kgc3BlY2lmaWMgcGFyYW1ldGVycyBhcmVuJ3Qgd29ya2FibGUg
d2l0aCB0aGUKYXBwcm9hY2ggb2YgaGF2aW5nIHRoZSBlbmNvZGVyIHNwZWNpZmljIGZ1bmN0aW9u
cyBpbiBpbnRlbF92ZHNjLmMuIE1ha2UKaW50ZWxfZHNjX2NvbXB1dGVfcGFyYW1zKCkgYSBoZWxw
ZXIgdGhhdCBkb2VzIHRoZSBlbmNvZGVyIGluZGVwZW5kZW50CnBhcnRzLCBhbmQgaGF2ZSBlbmNv
ZGVyIGNvZGUgY2FsbCBpdC4gTW92ZSBpbnRlbF9kc2NfZHBfY29tcHV0ZV9wYXJhbXMoKQp0byBp
bnRlbF9kcC5jIGFzIGludGVsX2RwX2RzY19jb21wdXRlX3BhcmFtcygpLgoKTm8gZnVuY3Rpb25h
bCBjaGFuZ2VzLgoKdjI6IFJlbmFtZSBwaXBlX2NvbmZpZyB0byBjcnRjX3N0YXRlIHdoaWxlIGF0
IGl0LgoKQ2M6IE1hbmFzaSBOYXZhcmUgPG1hbmFzaS5kLm5hdmFyZUBpbnRlbC5jb20+CkNjOiBW
YW5kaXRhIEt1bGthcm5pIDx2YW5kaXRhLmt1bGthcm5pQGludGVsLmNvbT4KQ2M6IFZpbGxlIFN5
cmrDpGzDpCA8dmlsbGUuc3lyamFsYUBsaW51eC5pbnRlbC5jb20+ClNpZ25lZC1vZmYtYnk6IEph
bmkgTmlrdWxhIDxqYW5pLm5pa3VsYUBpbnRlbC5jb20+Ci0tLQogZHJpdmVycy9ncHUvZHJtL2k5
MTUvZGlzcGxheS9pbnRlbF9kcC5jICAgfCA0NyArKysrKysrKysrKysrKysrKysrKystCiBkcml2
ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX3Zkc2MuYyB8IDQ4ICstLS0tLS0tLS0tLS0t
LS0tLS0tLS0tCiAyIGZpbGVzIGNoYW5nZWQsIDQ3IGluc2VydGlvbnMoKyksIDQ4IGRlbGV0aW9u
cygtKQoKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZHAu
YyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZHAuYwppbmRleCAzMTIzOTU4
ZTIwODEuLjUwNmM3ZDE5OTY4YiAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlz
cGxheS9pbnRlbF9kcC5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxf
ZHAuYwpAQCAtMjA0Niw2ICsyMDQ2LDUxIEBAIHN0YXRpYyBpbnQgaW50ZWxfZHBfZHNjX2NvbXB1
dGVfYnBwKHN0cnVjdCBpbnRlbF9kcCAqaW50ZWxfZHAsIHU4IGRzY19tYXhfYnBjKQogCXJldHVy
biAwOwogfQogCisjZGVmaW5lIERTQ19TVVBQT1JURURfVkVSU0lPTl9NSU4JCTEKKworc3RhdGlj
IGludCBpbnRlbF9kcF9kc2NfY29tcHV0ZV9wYXJhbXMoc3RydWN0IGludGVsX2VuY29kZXIgKmVu
Y29kZXIsCisJCQkJICAgICAgIHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpjcnRjX3N0YXRlKQor
eworCXN0cnVjdCBpbnRlbF9kcCAqaW50ZWxfZHAgPSBlbmNfdG9faW50ZWxfZHAoJmVuY29kZXIt
PmJhc2UpOworCXN0cnVjdCBkcm1fZHNjX2NvbmZpZyAqdmRzY19jZmcgPSAmY3J0Y19zdGF0ZS0+
ZHNjLmNvbmZpZzsKKwl1OCBsaW5lX2J1Zl9kZXB0aDsKKwlpbnQgcmV0OworCisJcmV0ID0gaW50
ZWxfZHNjX2NvbXB1dGVfcGFyYW1zKGVuY29kZXIsIGNydGNfc3RhdGUpOworCWlmIChyZXQpCisJ
CXJldHVybiByZXQ7CisKKwl2ZHNjX2NmZy0+ZHNjX3ZlcnNpb25fbWFqb3IgPQorCQkoaW50ZWxf
ZHAtPmRzY19kcGNkW0RQX0RTQ19SRVYgLSBEUF9EU0NfU1VQUE9SVF0gJgorCQkgRFBfRFNDX01B
Sk9SX01BU0spID4+IERQX0RTQ19NQUpPUl9TSElGVDsKKwl2ZHNjX2NmZy0+ZHNjX3ZlcnNpb25f
bWlub3IgPQorCQltaW4oRFNDX1NVUFBPUlRFRF9WRVJTSU9OX01JTiwKKwkJICAgIChpbnRlbF9k
cC0+ZHNjX2RwY2RbRFBfRFNDX1JFViAtIERQX0RTQ19TVVBQT1JUXSAmCisJCSAgICAgRFBfRFND
X01JTk9SX01BU0spID4+IERQX0RTQ19NSU5PUl9TSElGVCk7CisKKwl2ZHNjX2NmZy0+Y29udmVy
dF9yZ2IgPSBpbnRlbF9kcC0+ZHNjX2RwY2RbRFBfRFNDX0RFQ19DT0xPUl9GT1JNQVRfQ0FQIC0g
RFBfRFNDX1NVUFBPUlRdICYKKwkJRFBfRFNDX1JHQjsKKworCWxpbmVfYnVmX2RlcHRoID0gZHJt
X2RwX2RzY19zaW5rX2xpbmVfYnVmX2RlcHRoKGludGVsX2RwLT5kc2NfZHBjZCk7CisJaWYgKCFs
aW5lX2J1Zl9kZXB0aCkgeworCQlEUk1fREVCVUdfS01TKCJEU0MgU2luayBMaW5lIEJ1ZmZlciBE
ZXB0aCBpbnZhbGlkXG4iKTsKKwkJcmV0dXJuIC1FSU5WQUw7CisJfQorCisJaWYgKHZkc2NfY2Zn
LT5kc2NfdmVyc2lvbl9taW5vciA9PSAyKQorCQl2ZHNjX2NmZy0+bGluZV9idWZfZGVwdGggPSAo
bGluZV9idWZfZGVwdGggPT0gRFNDXzFfMl9NQVhfTElORUJVRl9ERVBUSF9CSVRTKSA/CisJCQlE
U0NfMV8yX01BWF9MSU5FQlVGX0RFUFRIX1ZBTCA6IGxpbmVfYnVmX2RlcHRoOworCWVsc2UKKwkJ
dmRzY19jZmctPmxpbmVfYnVmX2RlcHRoID0gKGxpbmVfYnVmX2RlcHRoID4gRFNDXzFfMV9NQVhf
TElORUJVRl9ERVBUSF9CSVRTKSA/CisJCQlEU0NfMV8xX01BWF9MSU5FQlVGX0RFUFRIX0JJVFMg
OiBsaW5lX2J1Zl9kZXB0aDsKKworCXZkc2NfY2ZnLT5ibG9ja19wcmVkX2VuYWJsZSA9CisJCWlu
dGVsX2RwLT5kc2NfZHBjZFtEUF9EU0NfQkxLX1BSRURJQ1RJT05fU1VQUE9SVCAtIERQX0RTQ19T
VVBQT1JUXSAmCisJCURQX0RTQ19CTEtfUFJFRElDVElPTl9JU19TVVBQT1JURUQ7CisKKwlyZXR1
cm4gZHJtX2RzY19jb21wdXRlX3JjX3BhcmFtZXRlcnModmRzY19jZmcpOworfQorCiBzdGF0aWMg
aW50IGludGVsX2RwX2RzY19jb21wdXRlX2NvbmZpZyhzdHJ1Y3QgaW50ZWxfZHAgKmludGVsX2Rw
LAogCQkJCSAgICAgICBzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqcGlwZV9jb25maWcsCiAJCQkJ
ICAgICAgIHN0cnVjdCBkcm1fY29ubmVjdG9yX3N0YXRlICpjb25uX3N0YXRlLApAQCAtMjEzMiw3
ICsyMTc3LDcgQEAgc3RhdGljIGludCBpbnRlbF9kcF9kc2NfY29tcHV0ZV9jb25maWcoc3RydWN0
IGludGVsX2RwICppbnRlbF9kcCwKIAkJfQogCX0KIAotCXJldCA9IGludGVsX2RzY19jb21wdXRl
X3BhcmFtcygmZGlnX3BvcnQtPmJhc2UsIHBpcGVfY29uZmlnKTsKKwlyZXQgPSBpbnRlbF9kcF9k
c2NfY29tcHV0ZV9wYXJhbXMoJmRpZ19wb3J0LT5iYXNlLCBwaXBlX2NvbmZpZyk7CiAJaWYgKHJl
dCA8IDApIHsKIAkJRFJNX0RFQlVHX0tNUygiQ2Fubm90IGNvbXB1dGUgdmFsaWQgRFNDIHBhcmFt
ZXRlcnMgZm9yIElucHV0IEJwcCA9ICVkICIKIAkJCSAgICAgICJDb21wcmVzc2VkIEJQUCA9ICVk
XG4iLApkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF92ZHNj
LmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX3Zkc2MuYwppbmRleCBiMjNi
YThkMTA4ZGIuLjgzNGQ2NjVhNDdkMiAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUv
ZGlzcGxheS9pbnRlbF92ZHNjLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9p
bnRlbF92ZHNjLmMKQEAgLTMwLDggKzMwLDYgQEAgZW51bSBDT0xVTU5fSU5ERVhfQlBDIHsKIAlN
QVhfQ09MVU1OX0lOREVYCiB9OwogCi0jZGVmaW5lIERTQ19TVVBQT1JURURfVkVSU0lPTl9NSU4J
CTEKLQogLyogRnJvbSBEU0NfdjEuMTEgc3BlYywgcmNfcGFyYW1ldGVyX1NldCBzeW50YXggZWxl
bWVudCB0eXBpY2FsbHkgY29uc3RhbnQgKi8KIHN0YXRpYyBjb25zdCB1MTYgcmNfYnVmX3RocmVz
aFtdID0gewogCTg5NiwgMTc5MiwgMjY4OCwgMzU4NCwgNDQ4MCwgNTM3NiwgNjI3MiwgNjcyMCwg
NzE2OCwgNzYxNiwKQEAgLTMzNSw0NSArMzMzLDYgQEAgc3RhdGljIGNvbnN0IHN0cnVjdCByY19w
YXJhbWV0ZXJzICpnZXRfcmNfcGFyYW1zKHUxNiBjb21wcmVzc2VkX2JwcCwKIAlyZXR1cm4gJnJj
X3BhcmFtZXRlcnNbcm93X2luZGV4XVtjb2x1bW5faW5kZXhdOwogfQogCi0vKiBWYWx1ZXMgZmls
bGVkIGZyb20gRFNDIFNpbmsgRFBDRCAqLwotc3RhdGljIGludCBpbnRlbF9kc2NfZHBfY29tcHV0
ZV9wYXJhbXMoc3RydWN0IGludGVsX2VuY29kZXIgKmVuY29kZXIsCi0JCQkJICAgICAgIHN0cnVj
dCBpbnRlbF9jcnRjX3N0YXRlICpwaXBlX2NvbmZpZykKLXsKLQlzdHJ1Y3QgaW50ZWxfZHAgKmlu
dGVsX2RwID0gZW5jX3RvX2ludGVsX2RwKCZlbmNvZGVyLT5iYXNlKTsKLQlzdHJ1Y3QgZHJtX2Rz
Y19jb25maWcgKnZkc2NfY2ZnID0gJnBpcGVfY29uZmlnLT5kc2MuY29uZmlnOwotCXU4IGxpbmVf
YnVmX2RlcHRoOwotCi0JdmRzY19jZmctPmRzY192ZXJzaW9uX21ham9yID0KLQkJKGludGVsX2Rw
LT5kc2NfZHBjZFtEUF9EU0NfUkVWIC0gRFBfRFNDX1NVUFBPUlRdICYKLQkJIERQX0RTQ19NQUpP
Ul9NQVNLKSA+PiBEUF9EU0NfTUFKT1JfU0hJRlQ7Ci0JdmRzY19jZmctPmRzY192ZXJzaW9uX21p
bm9yID0KLQkJbWluKERTQ19TVVBQT1JURURfVkVSU0lPTl9NSU4sCi0JCSAgICAoaW50ZWxfZHAt
PmRzY19kcGNkW0RQX0RTQ19SRVYgLSBEUF9EU0NfU1VQUE9SVF0gJgotCQkgICAgIERQX0RTQ19N
SU5PUl9NQVNLKSA+PiBEUF9EU0NfTUlOT1JfU0hJRlQpOwotCi0JdmRzY19jZmctPmNvbnZlcnRf
cmdiID0gaW50ZWxfZHAtPmRzY19kcGNkW0RQX0RTQ19ERUNfQ09MT1JfRk9STUFUX0NBUCAtIERQ
X0RTQ19TVVBQT1JUXSAmCi0JCURQX0RTQ19SR0I7Ci0KLQlsaW5lX2J1Zl9kZXB0aCA9IGRybV9k
cF9kc2Nfc2lua19saW5lX2J1Zl9kZXB0aChpbnRlbF9kcC0+ZHNjX2RwY2QpOwotCWlmICghbGlu
ZV9idWZfZGVwdGgpIHsKLQkJRFJNX0RFQlVHX0tNUygiRFNDIFNpbmsgTGluZSBCdWZmZXIgRGVw
dGggaW52YWxpZFxuIik7Ci0JCXJldHVybiAtRUlOVkFMOwotCX0KLQotCWlmICh2ZHNjX2NmZy0+
ZHNjX3ZlcnNpb25fbWlub3IgPT0gMikKLQkJdmRzY19jZmctPmxpbmVfYnVmX2RlcHRoID0gKGxp
bmVfYnVmX2RlcHRoID09IERTQ18xXzJfTUFYX0xJTkVCVUZfREVQVEhfQklUUykgPwotCQkJRFND
XzFfMl9NQVhfTElORUJVRl9ERVBUSF9WQUwgOiBsaW5lX2J1Zl9kZXB0aDsKLQllbHNlCi0JCXZk
c2NfY2ZnLT5saW5lX2J1Zl9kZXB0aCA9IChsaW5lX2J1Zl9kZXB0aCA+IERTQ18xXzFfTUFYX0xJ
TkVCVUZfREVQVEhfQklUUykgPwotCQkJRFNDXzFfMV9NQVhfTElORUJVRl9ERVBUSF9CSVRTIDog
bGluZV9idWZfZGVwdGg7Ci0KLQl2ZHNjX2NmZy0+YmxvY2tfcHJlZF9lbmFibGUgPQotCQkJaW50
ZWxfZHAtPmRzY19kcGNkW0RQX0RTQ19CTEtfUFJFRElDVElPTl9TVVBQT1JUIC0gRFBfRFNDX1NV
UFBPUlRdICYKLQkJRFBfRFNDX0JMS19QUkVESUNUSU9OX0lTX1NVUFBPUlRFRDsKLQotCXJldHVy
biAwOwotfQotCiBpbnQgaW50ZWxfZHNjX2NvbXB1dGVfcGFyYW1zKHN0cnVjdCBpbnRlbF9lbmNv
ZGVyICplbmNvZGVyLAogCQkJICAgICBzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqcGlwZV9jb25m
aWcpCiB7CkBAIC0zODEsNyArMzQwLDYgQEAgaW50IGludGVsX2RzY19jb21wdXRlX3BhcmFtcyhz
dHJ1Y3QgaW50ZWxfZW5jb2RlciAqZW5jb2RlciwKIAl1MTYgY29tcHJlc3NlZF9icHAgPSBwaXBl
X2NvbmZpZy0+ZHNjLmNvbXByZXNzZWRfYnBwOwogCWNvbnN0IHN0cnVjdCByY19wYXJhbWV0ZXJz
ICpyY19wYXJhbXM7CiAJdTggaSA9IDA7Ci0JaW50IHJldDsKIAogCXZkc2NfY2ZnLT5waWNfd2lk
dGggPSBwaXBlX2NvbmZpZy0+aHcuYWRqdXN0ZWRfbW9kZS5jcnRjX2hkaXNwbGF5OwogCXZkc2Nf
Y2ZnLT5waWNfaGVpZ2h0ID0gcGlwZV9jb25maWctPmh3LmFkanVzdGVkX21vZGUuY3J0Y192ZGlz
cGxheTsKQEAgLTQ3MCwxMSArNDI4LDcgQEAgaW50IGludGVsX2RzY19jb21wdXRlX3BhcmFtcyhz
dHJ1Y3QgaW50ZWxfZW5jb2RlciAqZW5jb2RlciwKIAl2ZHNjX2NmZy0+aW5pdGlhbF9zY2FsZV92
YWx1ZSA9ICh2ZHNjX2NmZy0+cmNfbW9kZWxfc2l6ZSA8PCAzKSAvCiAJCSh2ZHNjX2NmZy0+cmNf
bW9kZWxfc2l6ZSAtIHZkc2NfY2ZnLT5pbml0aWFsX29mZnNldCk7CiAKLQlyZXQgPSBpbnRlbF9k
c2NfZHBfY29tcHV0ZV9wYXJhbXMoZW5jb2RlciwgcGlwZV9jb25maWcpOwotCWlmIChyZXQpCi0J
CXJldHVybiByZXQ7Ci0KLQlyZXR1cm4gZHJtX2RzY19jb21wdXRlX3JjX3BhcmFtZXRlcnModmRz
Y19jZmcpOworCXJldHVybiAwOwogfQogCiBlbnVtIGludGVsX2Rpc3BsYXlfcG93ZXJfZG9tYWlu
Ci0tIAoyLjIwLjEKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fCkludGVsLWdmeCBtYWlsaW5nIGxpc3QKSW50ZWwtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9y
ZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2ludGVsLWdm
eA==

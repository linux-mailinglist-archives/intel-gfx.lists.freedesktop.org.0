Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 3508310EBAB
	for <lists+intel-gfx@lfdr.de>; Mon,  2 Dec 2019 15:43:10 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 2733589F82;
	Mon,  2 Dec 2019 14:43:08 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga17.intel.com (mga17.intel.com [192.55.52.151])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 07B0E89F35;
 Mon,  2 Dec 2019 14:43:05 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga006.jf.intel.com ([10.7.209.51])
 by fmsmga107.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 02 Dec 2019 06:43:05 -0800
X-IronPort-AV: E=Sophos;i="5.69,268,1571727600"; d="scan'208";a="213052176"
Received: from jkrzyszt-desk.igk.intel.com (HELO
 jkrzyszt-desk.ger.corp.intel.com) ([172.22.244.17])
 by orsmga006-auth.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 02 Dec 2019 06:43:03 -0800
From: Janusz Krzysztofik <janusz.krzysztofik@linux.intel.com>
To: igt-dev@lists.freedesktop.org
Date: Mon, 02 Dec 2019 15:42:58 +0100
Message-ID: <8042207.s0vteSJg9S@jkrzyszt-desk.ger.corp.intel.com>
Organization: Intel Technology Poland sp. z o.o. - ul. Slowackiego 173,
 80-298 Gdansk - KRS 101882 - NIP 957-07-52-316
In-Reply-To: <20191113125240.3781-9-chris@chris-wilson.co.uk>
References: <20191113125240.3781-1-chris@chris-wilson.co.uk>
 <20191113125240.3781-9-chris@chris-wilson.co.uk>
MIME-Version: 1.0
Subject: Re: [Intel-gfx] [igt-dev] [PATCH i-g-t 9/9] i915: Exercise
 I915_CONTEXT_PARAM_RINGSIZE
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: intel-gfx@lists.freedesktop.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

SGkgQ2hyaXMsCgpJIGhhdmUgYSBmZXcgcXVlc3Rpb25zIHJhdGhlciB0aGFuIGNvbW1lbnRzLiAg
SSBob3BlIHRoZXkgYXJlIHdvcnRoIHNwZW5kaW5nIAp5b3VyIHRpbWUuCgpPbiBXZWRuZXNkYXks
IE5vdmVtYmVyIDEzLCAyMDE5IDE6NTI6NDAgUE0gQ0VUIENocmlzIFdpbHNvbiB3cm90ZToKPiBJ
OTE1X0NPTlRFWFRfUEFSQU1fUklOR1NJWkUgc3BlY2lmaWVzIGhvdyBsYXJnZSB0byBjcmVhdGUg
dGhlIGNvbW1hbmQKPiByaW5nYnVmZmVyIGZvciBsb2dpY2FsIHJpbmcgY29udGVjdHMuIFRoaXMg
ZGlyZWN0bHkgYWZmZWN0cyB0aGUgbnVtYmVyCgpzL2NvbnRlY3RzL2NvbnRleHRzLwoKPiBvZiBi
YXRjaGVzIHVzZXJzcGFjZSBjYW4gc3VibWl0IGJlZm9yZSBibG9ja2luZyB3YWl0aW5nIGZvciBz
cGFjZS4KPiAKPiBTaWduZWQtb2ZmLWJ5OiBDaHJpcyBXaWxzb24gPGNocmlzQGNocmlzLXdpbHNv
bi5jby51az4KPiAtLS0KPiAgdGVzdHMvTWFrZWZpbGUuc291cmNlcyAgICAgICAgfCAgIDMgKwo+
ICB0ZXN0cy9pOTE1L2dlbV9jdHhfcmluZ3NpemUuYyB8IDI5NiArKysrKysrKysrKysrKysrKysr
KysrKysrKysrKysrKysrCj4gIHRlc3RzL21lc29uLmJ1aWxkICAgICAgICAgICAgIHwgICAxICsK
PiAgMyBmaWxlcyBjaGFuZ2VkLCAzMDAgaW5zZXJ0aW9ucygrKQo+ICBjcmVhdGUgbW9kZSAxMDA2
NDQgdGVzdHMvaTkxNS9nZW1fY3R4X3JpbmdzaXplLmMKPiAKPiBkaWZmIC0tZ2l0IGEvdGVzdHMv
TWFrZWZpbGUuc291cmNlcyBiL3Rlc3RzL01ha2VmaWxlLnNvdXJjZXMKPiBpbmRleCBlMTdkNDMx
NTUuLjgwMWZjNTJmMyAxMDA2NDQKPiAtLS0gYS90ZXN0cy9NYWtlZmlsZS5zb3VyY2VzCj4gKysr
IGIvdGVzdHMvTWFrZWZpbGUuc291cmNlcwo+IEBAIC0xNjMsNiArMTYzLDkgQEAgZ2VtX2N0eF9w
YXJhbV9TT1VSQ0VTID0gaTkxNS9nZW1fY3R4X3BhcmFtLmMKPiAgVEVTVFNfcHJvZ3MgKz0gZ2Vt
X2N0eF9wZXJzaXN0ZW5jZQo+ICBnZW1fY3R4X3BlcnNpc3RlbmNlX1NPVVJDRVMgPSBpOTE1L2dl
bV9jdHhfcGVyc2lzdGVuY2UuYwo+ICAKPiArVEVTVFNfcHJvZ3MgKz0gZ2VtX2N0eF9yaW5nc2l6
ZQo+ICtnZW1fY3R4X3JpbmdzaXplX1NPVVJDRVMgPSBpOTE1L2dlbV9jdHhfcmluZ3NpemUuYwo+
ICsKPiAgVEVTVFNfcHJvZ3MgKz0gZ2VtX2N0eF9zaGFyZWQKPiAgZ2VtX2N0eF9zaGFyZWRfU09V
UkNFUyA9IGk5MTUvZ2VtX2N0eF9zaGFyZWQuYwo+ICAKPiBkaWZmIC0tZ2l0IGEvdGVzdHMvaTkx
NS9nZW1fY3R4X3JpbmdzaXplLmMgYi90ZXN0cy9pOTE1L2dlbV9jdHhfcmluZ3NpemUuYwo+IG5l
dyBmaWxlIG1vZGUgMTAwNjQ0Cj4gaW5kZXggMDAwMDAwMDAwLi4xNDUwZThmMGQKPiAtLS0gL2Rl
di9udWxsCj4gKysrIGIvdGVzdHMvaTkxNS9nZW1fY3R4X3JpbmdzaXplLmMKPiBAQCAtMCwwICsx
LDI5NiBAQAo+ICsvKgo+ICsgKiBDb3B5cmlnaHQgwqkgMjAxOSBJbnRlbCBDb3Jwb3JhdGlvbgo+
ICsgKgo+ICsgKiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwg
dG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYQo+ICsgKiBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5k
IGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlICJTb2Z0d2FyZSIpLAo+ICsgKiB0
byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0
aG91dCBsaW1pdGF0aW9uCj4gKyAqIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1l
cmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLAo+ICsgKiBhbmQvb3Igc2VsbCBj
b3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUK
PiArICogU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xs
b3dpbmcgY29uZGl0aW9uczoKPiArICoKPiArICogVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2Ug
YW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2UgKGluY2x1ZGluZyB0aGUgbmV4dAo+ICsgKiBwYXJh
Z3JhcGgpIHNoYWxsIGJlIGluY2x1ZGVkIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9y
dGlvbnMgb2YgdGhlCj4gKyAqIFNvZnR3YXJlLgo+ICsgKgo+ICsgKiBUSEUgU09GVFdBUkUgSVMg
UFJPVklERUQgIkFTIElTIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBP
Ugo+ICsgKiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5U
SUVTIE9GIE1FUkNIQU5UQUJJTElUWSwKPiArICogRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBV
UlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gIElOIE5PIEVWRU5UIFNIQUxMCj4gKyAqIFRIRSBB
VVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1B
R0VTIE9SIE9USEVSCj4gKyAqIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09O
VFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HCj4gKyAqIEZST00sIE9VVCBPRiBPUiBJ
TiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElO
R1MKPiArICogSU4gVEhFIFNPRlRXQVJFLgo+ICsgKi8KPiArCj4gKyNpbmNsdWRlIDxlcnJuby5o
Pgo+ICsjaW5jbHVkZSA8ZmNudGwuaD4KPiArI2luY2x1ZGUgPGludHR5cGVzLmg+Cj4gKyNpbmNs
dWRlIDxzeXMvaW9jdGwuaD4KPiArI2luY2x1ZGUgPHN5cy90eXBlcy5oPgo+ICsjaW5jbHVkZSA8
dW5pc3RkLmg+Cj4gKwo+ICsjaW5jbHVkZSAiZHJtdGVzdC5oIiAvKiBnZW1fcXVpZXNjZW50X2dw
dSgpISAqLwo+ICsjaW5jbHVkZSAiaTkxNS9nZW1fY29udGV4dC5oIgo+ICsjaW5jbHVkZSAiaTkx
NS9nZW1fZW5naW5lX3RvcG9sb2d5LmgiCj4gKyNpbmNsdWRlICJpb2N0bF93cmFwcGVycy5oIiAv
KiBnZW1fd2FpdCgpISAqLwo+ICsjaW5jbHVkZSAic3dfc3luYy5oIgo+ICsKPiArI2RlZmluZSBJ
OTE1X0NPTlRFWFRfUEFSQU1fUklOR1NJWkUgMHhjCgpIb3cgYXJlIHdlIGdvaW5nIHRvIGhhbmRs
ZSBzeW1ib2wgcmVkZWZpbml0aW9uIGNvbmZsaWN0IHdoaWNoIGFyaXNlcyBhcyBzb29uIAphcyB0
aGlzIHN5bWJvbCBpcyBhbHNvIGluY2x1ZGVkIGZyb20ga2VybmVsIGhlYWRlcnMgKGUuZy4gdmlh
IAoiaTkxNS9nZW1fZW5naW5lX3RvcG9sb2d5LmgiKT8KCj4gKwo+ICtzdGF0aWMgYm9vbCBoYXNf
cmluZ3NpemUoaW50IGk5MTUpCj4gK3sKPiArCXN0cnVjdCBkcm1faTkxNV9nZW1fY29udGV4dF9w
YXJhbSBwID0gewo+ICsJCS5wYXJhbSA9IEk5MTVfQ09OVEVYVF9QQVJBTV9SSU5HU0laRSwKPiAr
CX07Cj4gKwo+ICsJcmV0dXJuIF9fZ2VtX2NvbnRleHRfZ2V0X3BhcmFtKGk5MTUsICZwKSA9PSAw
Owo+ICt9Cj4gKwo+ICtzdGF0aWMgdm9pZCB0ZXN0X2lkZW1wb3RlbnQoaW50IGk5MTUpCj4gK3sK
PiArCXN0cnVjdCBkcm1faTkxNV9nZW1fY29udGV4dF9wYXJhbSBwID0gewo+ICsJCS5wYXJhbSA9
IEk5MTVfQ09OVEVYVF9QQVJBTV9SSU5HU0laRSwKPiArCX07Cj4gKwl1aW50MzJfdCBzYXZlZDsK
PiArCj4gKwkvKgo+ICsJICogU2ltcGxlIHRlc3QgdG8gdmVyaWZ5IHRoYXQgd2UgYXJlIGFibGUg
dG8gcmVhZCBiYWNrIHRoZSBzYW1lCj4gKwkgKiB2YWx1ZSBhcyB3ZSBzZXQuCj4gKwkgKi8KPiAr
Cj4gKwlnZW1fY29udGV4dF9nZXRfcGFyYW0oaTkxNSwgJnApOwo+ICsJc2F2ZWQgPSBwLnZhbHVl
Owo+ICsKPiArCWZvciAodWludDMyX3QgeCA9IDEgPDwgMTI7IHggPD0gMTI4IDw8IDEyOyB4IDw8
PSAxKSB7CgpJJ3ZlIG5vdGljZWQgeW91IGFyZSB1c2luZyB0d28gZGlmZmVyZW50IG5vdGF0aW9u
cyBmb3IgdGhvc2UgbWluaW11bS9tYXhpbXVtIApjb25zdGFudHMuICBJIHRoaW5rIHRoYXQgbWF5
IGJlIGNvbmZ1c2luZy4gIEhvdyBhYm91dCBkZWZpbmluZyBhbmQgdXNpbmcgCm1hY3Jvcz8gIAoK
PiArCQlwLnZhbHVlID0geDsKPiArCQlnZW1fY29udGV4dF9zZXRfcGFyYW0oaTkxNSwgJnApOwo+
ICsJCWdlbV9jb250ZXh0X2dldF9wYXJhbShpOTE1LCAmcCk7Cj4gKwkJaWd0X2Fzc2VydF9lcV91
MzIocC52YWx1ZSwgeCk7Cj4gKwl9Cj4gKwo+ICsJcC52YWx1ZSA9IHNhdmVkOwo+ICsJZ2VtX2Nv
bnRleHRfc2V0X3BhcmFtKGk5MTUsICZwKTsKPiArfQo+ICsKPiArc3RhdGljIHZvaWQgdGVzdF9p
bnZhbGlkKGludCBpOTE1KQo+ICt7Cj4gKwlzdHJ1Y3QgZHJtX2k5MTVfZ2VtX2NvbnRleHRfcGFy
YW0gcCA9IHsKPiArCQkucGFyYW0gPSBJOTE1X0NPTlRFWFRfUEFSQU1fUklOR1NJWkUsCj4gKwl9
Owo+ICsJdWludDY0X3QgaW52YWxpZFtdID0gewo+ICsJCTAsIDEsIDQwOTUsIDQwOTcsIDgxOTEs
IDgxOTMsCj4gKwkJLyogdXBwZXIgbGltaXQgbWF5IGJlIEhXIGRlcGVuZGVudCwgYXRtIGl0IGlz
IDUxMktpQiAqLwo+ICsJCSg1MTIgPDwgMTApIC0gMSwgKDUxMiA8PCAxMCkgKyAxLAoKSGVyZSBp
cyBhbiBleGFtcGxlIG9mIHRoYXQgZGlmZmVyZW50IG5vdGF0aW9uIG1lbnRpb25lZCBhYm92ZS4K
Cj4gKwkJLTEsIC0xdQo+ICsJfTsKPiArCXVpbnQzMl90IHNhdmVkOwo+ICsKPiArCWdlbV9jb250
ZXh0X2dldF9wYXJhbShpOTE1LCAmcCk7Cj4gKwlzYXZlZCA9IHAudmFsdWU7Cj4gKwo+ICsJZm9y
IChpbnQgaSA9IDA7IGkgPCBBUlJBWV9TSVpFKGludmFsaWQpOyBpKyspIHsKPiArCQlwLnZhbHVl
ID0gaW52YWxpZFtpXTsKPiArCQlpZ3RfYXNzZXJ0X2VxKF9fZ2VtX2NvbnRleHRfc2V0X3BhcmFt
KGk5MTUsICZwKSwgLUVJTlZBTCk7Cj4gKwkJZ2VtX2NvbnRleHRfZ2V0X3BhcmFtKGk5MTUsICZw
KTsKPiArCQlpZ3RfYXNzZXJ0X2VxX3U2NChwLnZhbHVlLCBzYXZlZCk7Cj4gKwl9Cj4gK30KPiAr
Cj4gK3N0YXRpYyBpbnQgY3JlYXRlX2V4dF9pb2N0bChpbnQgaTkxNSwKPiArCQkJICAgIHN0cnVj
dCBkcm1faTkxNV9nZW1fY29udGV4dF9jcmVhdGVfZXh0ICphcmcpCj4gK3sKPiArCWludCBlcnI7
Cj4gKwo+ICsJZXJyID0gMDsKPiArCWlmIChpZ3RfaW9jdGwoaTkxNSwgRFJNX0lPQ1RMX0k5MTVf
R0VNX0NPTlRFWFRfQ1JFQVRFX0VYVCwgYXJnKSkgewo+ICsJCWVyciA9IC1lcnJubzsKPiArCQlp
Z3RfYXNzdW1lKGVycik7Cj4gKwl9Cj4gKwo+ICsJZXJybm8gPSAwOwo+ICsJcmV0dXJuIGVycjsK
PiArfQoKVGhpcyBoZWxwZXIgbG9va3MgbGlrZSBwcmV0dHkgc3RhbmRhcmQgZm9yIG1lLiAgV2h5
IHRoZXJlIGFyZSBubyBsaWJyYXJ5IApmdW5jdGlvbnMgZm9yIHN1Y2ggZ2VuZXJpYyBvcGVyYXRp
b25zPwoKPiArCj4gK3N0YXRpYyB2b2lkIHRlc3RfY3JlYXRlKGludCBpOTE1KQo+ICt7Cj4gKwlz
dHJ1Y3QgZHJtX2k5MTVfZ2VtX2NvbnRleHRfY3JlYXRlX2V4dF9zZXRwYXJhbSBwID0gewo+ICsJ
CS5iYXNlID0gewo+ICsJCQkubmFtZSA9IEk5MTVfQ09OVEVYVF9DUkVBVEVfRVhUX1NFVFBBUkFN
LAo+ICsJCQkubmV4dF9leHRlbnNpb24gPSAwLCAvKiBlbmQgb2YgY2hhaW4gKi8KPiArCQl9LAo+
ICsJCS5wYXJhbSA9IHsKPiArCQkJLnBhcmFtID0gSTkxNV9DT05URVhUX1BBUkFNX1JJTkdTSVpF
LAo+ICsJCQkudmFsdWUgPSA1MTIgPDwgMTAsCj4gKwkJfQo+ICsJfTsKPiArCXN0cnVjdCBkcm1f
aTkxNV9nZW1fY29udGV4dF9jcmVhdGVfZXh0IGNyZWF0ZSA9IHsKPiArCQkuZmxhZ3MgPSBJOTE1
X0NPTlRFWFRfQ1JFQVRFX0ZMQUdTX1VTRV9FWFRFTlNJT05TLAo+ICsJCS5leHRlbnNpb25zID0g
dG9fdXNlcl9wb2ludGVyKCZwKSwKPiArCX07Cj4gKwo+ICsJaWd0X2Fzc2VydF9lcShjcmVhdGVf
ZXh0X2lvY3RsKGk5MTUsICZjcmVhdGUpLCAgMCk7Cj4gKwo+ICsJcC5wYXJhbS5jdHhfaWQgPSBj
cmVhdGUuY3R4X2lkOwo+ICsJcC5wYXJhbS52YWx1ZSA9IDA7Cj4gKwlnZW1fY29udGV4dF9nZXRf
cGFyYW0oaTkxNSwgJnAucGFyYW0pOwo+ICsJaWd0X2Fzc2VydF9lcShwLnBhcmFtLnZhbHVlLCA1
MTIgPDwgMTApOwo+ICsKPiArCWdlbV9jb250ZXh0X2Rlc3Ryb3koaTkxNSwgY3JlYXRlLmN0eF9p
ZCk7Cj4gK30KPiArCj4gK3N0YXRpYyB2b2lkIHRlc3RfY2xvbmUoaW50IGk5MTUpCj4gK3sKPiAr
CXN0cnVjdCBkcm1faTkxNV9nZW1fY29udGV4dF9jcmVhdGVfZXh0X3NldHBhcmFtIHAgPSB7Cj4g
KwkJLmJhc2UgPSB7Cj4gKwkJCS5uYW1lID0gSTkxNV9DT05URVhUX0NSRUFURV9FWFRfU0VUUEFS
QU0sCj4gKwkJCS5uZXh0X2V4dGVuc2lvbiA9IDAsIC8qIGVuZCBvZiBjaGFpbiAqLwo+ICsJCX0s
Cj4gKwkJLnBhcmFtID0gewo+ICsJCQkucGFyYW0gPSBJOTE1X0NPTlRFWFRfUEFSQU1fUklOR1NJ
WkUsCj4gKwkJCS52YWx1ZSA9IDUxMiA8PCAxMCwKPiArCQl9Cj4gKwl9Owo+ICsJc3RydWN0IGRy
bV9pOTE1X2dlbV9jb250ZXh0X2NyZWF0ZV9leHQgY3JlYXRlID0gewo+ICsJCS5mbGFncyA9IEk5
MTVfQ09OVEVYVF9DUkVBVEVfRkxBR1NfVVNFX0VYVEVOU0lPTlMsCj4gKwkJLmV4dGVuc2lvbnMg
PSB0b191c2VyX3BvaW50ZXIoJnApLAo+ICsJfTsKPiArCj4gKwlpZ3RfYXNzZXJ0X2VxKGNyZWF0
ZV9leHRfaW9jdGwoaTkxNSwgJmNyZWF0ZSksICAwKTsKPiArCj4gKwlwLnBhcmFtLmN0eF9pZCA9
IGdlbV9jb250ZXh0X2Nsb25lKGk5MTUsIGNyZWF0ZS5jdHhfaWQsCj4gKwkJCQkJICAgSTkxNV9D
T05URVhUX0NMT05FX0VOR0lORVMsIDApOwo+ICsJaWd0X2Fzc2VydF9uZXEocC5wYXJhbS5jdHhf
aWQsIGNyZWF0ZS5jdHhfaWQpOwo+ICsJZ2VtX2NvbnRleHRfZGVzdHJveShpOTE1LCBjcmVhdGUu
Y3R4X2lkKTsKPiArCj4gKwlwLnBhcmFtLnZhbHVlID0gMDsKPiArCWdlbV9jb250ZXh0X2dldF9w
YXJhbShpOTE1LCAmcC5wYXJhbSk7Cj4gKwlpZ3RfYXNzZXJ0X2VxKHAucGFyYW0udmFsdWUsIDUx
MiA8PCAxMCk7Cj4gKwo+ICsJZ2VtX2NvbnRleHRfZGVzdHJveShpOTE1LCBwLnBhcmFtLmN0eF9p
ZCk7Cj4gK30KPiArCj4gK3N0YXRpYyBpbnQgX19leGVjYnVmKGludCBpOTE1LCBzdHJ1Y3QgZHJt
X2k5MTVfZ2VtX2V4ZWNidWZmZXIyICpleGVjYnVmKQo+ICt7Cj4gKwlpbnQgZXJyOwo+ICsKPiAr
CWVyciA9IDA7Cj4gKwlpZiAoaW9jdGwoaTkxNSwgRFJNX0lPQ1RMX0k5MTVfR0VNX0VYRUNCVUZG
RVIyLCBleGVjYnVmKSkKPiArCQllcnIgPSAtZXJybm87Cj4gKwo+ICsJZXJybm8gPSAwOwo+ICsJ
cmV0dXJuIGVycjsKPiArfQoKVGhlIGFib3ZlIGhlbHBlciBsb29rcyBwcmV0dHkgdGhlIHNhbWUg
YXMgbGliL2lvY3Rsd3JhcHBlcnMuYzpfX2dlbV9leGVjYnVmKCkuICAKRG9lcyBpZ3RfYXNzdW1l
KGVycikgZm91bmQgaW4gdGhlIGxhdHRlciBtYXR0ZXIgc28gbXVjaCB0aGF0IHlvdSB1c2UgeW91
ciBvd24gCnZlcnNpb24/Cgo+ICsKPiArc3RhdGljIHVpbnQzMl90IF9fYmF0Y2hfY3JlYXRlKGlu
dCBpOTE1LCB1aW50MzJfdCBvZmZzZXQpCgpUaGlzIGlzIGFsd2F5cyBjYWxsZWQgd2l0aCBvZmZz
ZXQgPSAwLCBkbyB3ZSBleHBlY3Qgb3RoZXIgdmFsdWVzIHRvIGJlIHVzZWQgCmxhdGVyPwoKPiAr
ewo+ICsJY29uc3QgdWludDMyX3QgYmJlID0gMHhhIDw8IDIzOwo+ICsJdWludDMyX3QgaGFuZGxl
Owo+ICsKPiArCWhhbmRsZSA9IGdlbV9jcmVhdGUoaTkxNSwgQUxJR04ob2Zmc2V0ICsgc2l6ZW9m
KGJiZSksIDQwOTYpKTsKCldoeSBkb24ndCB3ZSByZWx5IG9uIHRoZSBkcml2ZXIgbWFraW5nIHRo
ZSBhbGlnbm1lbnQgZm9yIHVzPwoKPiArCWdlbV93cml0ZShpOTE1LCBoYW5kbGUsIG9mZnNldCwg
JmJiZSwgc2l6ZW9mKGJiZSkpOwo+ICsKPiArCXJldHVybiBoYW5kbGU7Cj4gK30KPiArCj4gK3N0
YXRpYyB1aW50MzJfdCBiYXRjaF9jcmVhdGUoaW50IGk5MTUpCj4gK3sKPiArCXJldHVybiBfX2Jh
dGNoX2NyZWF0ZShpOTE1LCAwKTsKPiArfQo+ICsKPiArc3RhdGljIHVuc2lnbmVkIGludCBtZWFz
dXJlX2luZmxpZ2h0KGludCBpOTE1LCB1bnNpZ25lZCBpbnQgZW5naW5lKQo+ICt7Cj4gKwlJR1Rf
Q09SS19GRU5DRShjb3JrKTsKPiArCXN0cnVjdCBkcm1faTkxNV9nZW1fZXhlY19vYmplY3QyIG9i
aiA9IHsKPiArCQkuaGFuZGxlID0gYmF0Y2hfY3JlYXRlKGk5MTUpCj4gKwl9Owo+ICsJc3RydWN0
IGRybV9pOTE1X2dlbV9leGVjYnVmZmVyMiBleGVjYnVmID0gewo+ICsJCS5idWZmZXJzX3B0ciA9
IHRvX3VzZXJfcG9pbnRlcigmb2JqKSwKPiArCQkuYnVmZmVyX2NvdW50ID0gMSwKPiArCQkuZmxh
Z3MgPSBlbmdpbmUgfCBJOTE1X0VYRUNfRkVOQ0VfSU4sCj4gKwkJLnJzdmQyID0gaWd0X2Nvcmtf
cGx1ZygmY29yaywgaTkxNSksCj4gKwl9Owo+ICsJdW5zaWduZWQgaW50IGNvdW50Owo+ICsKPiAr
CWZjbnRsKGk5MTUsIEZfU0VURkwsIGZjbnRsKGk5MTUsIEZfR0VURkwpIHwgT19OT05CTE9DSyk7
Cj4gKwo+ICsJZ2VtX2V4ZWNidWYoaTkxNSwgJmV4ZWNidWYpOwo+ICsJZm9yIChjb3VudCA9IDE7
IF9fZXhlY2J1ZihpOTE1LCAmZXhlY2J1ZikgPT0gMDsgY291bnQrKykKPiArCQk7CgpTaG91bGRu
J3Qgd2UgY2hlY2sgaWYgdGhlIHJlYXNvbiBmb3IgdGhlIGZhaWx1cmUgaXMgd2hhdCB3ZSBleHBl
Y3QsIGkuZS4sIAotRVdPVUxEQkxPQ0sgKG9yIC1FSU5UUik/ICBBbmQgd2h5IGRvbid0IHdlIHB1
dCBhIHRpbWUgY29uc3RyYWludCBvbiB0aGF0IGxvb3AgCmluIGNhc2UgT19OT05CTE9DSyBoYW5k
bGluZyBpcyBub3Qgc3VwcG9ydGVkICh5ZXQpPwoKPiArCWNsb3NlKGV4ZWNidWYucnN2ZDIpOwo+
ICsKPiArCWZjbnRsKGk5MTUsIEZfU0VURkwsIGZjbnRsKGk5MTUsIEZfR0VURkwpICYgfk9fTk9O
QkxPQ0spOwo+ICsKPiArCWlndF9jb3JrX3VucGx1ZygmY29yayk7Cj4gKwlnZW1fY2xvc2UoaTkx
NSwgb2JqLmhhbmRsZSk7Cj4gKwo+ICsJcmV0dXJuIGNvdW50Owo+ICt9Cj4gKwo+ICtzdGF0aWMg
dm9pZCB0ZXN0X3Jlc2l6ZShpbnQgaTkxNSwKPiArCQkJY29uc3Qgc3RydWN0IGludGVsX2V4ZWN1
dGlvbl9lbmdpbmUyICplLAo+ICsJCQl1bnNpZ25lZCBpbnQgZmxhZ3MpCj4gKyNkZWZpbmUgSURM
RSAoMSA8PCAwKQo+ICt7Cj4gKwlzdHJ1Y3QgZHJtX2k5MTVfZ2VtX2NvbnRleHRfcGFyYW0gcCA9
IHsKPiArCQkucGFyYW0gPSBJOTE1X0NPTlRFWFRfUEFSQU1fUklOR1NJWkUsCj4gKwl9Owo+ICsJ
dW5zaWduZWQgaW50IHByZXZbMl0gPSB7fTsKPiArCXVpbnQzMl90IHNhdmVkOwo+ICsKPiArCWdl
bV9jb250ZXh0X2dldF9wYXJhbShpOTE1LCAmcCk7Cj4gKwlzYXZlZCA9IHAudmFsdWU7Cj4gKwo+
ICsJZ2VtX3F1aWVzY2VudF9ncHUoaTkxNSk7Cj4gKwlmb3IgKHAudmFsdWUgPSAxIDw8IDEyOyBw
LnZhbHVlIDw9IDEyOCA8PCAxMjsgcC52YWx1ZSA8PD0gMSkgewo+ICsJCXVuc2lnbmVkIGludCBj
b3VudDsKPiArCj4gKwkJZ2VtX2NvbnRleHRfc2V0X3BhcmFtKGk5MTUsICZwKTsKPiArCj4gKwkJ
Y291bnQgPSBtZWFzdXJlX2luZmxpZ2h0KGk5MTUsIGUtPmZsYWdzKTsKPiArCQlpZ3RfaW5mbygi
JXM6ICVsbHggLT4gJWRcbiIsIGUtPm5hbWUsIHAudmFsdWUsIGNvdW50KTsKPiArCQlpZ3RfYXNz
ZXJ0KGNvdW50ID4gMyAqIChwcmV2WzFdIC0gcHJldlswXSkgLyA0ICsgcHJldlsxXSk7CgpXaGVy
ZSBkb2VzIHRoaXMgZm9ybXVsYSBjb21lIGZyb20/ICBXaHkgbm90IGp1c3QgY291bnQgPT0gMiAq
IHByZXZbMV0gPwpXaGF0IHJlc3VsdHMgc2hvdWxkIHdlIGV4cGVjdCBpbiAiYWN0aXZlIiB2cy4g
ImlkbGUiIG1vZGU/CgpUaGFua3MsCkphbnVzegoKCj4gKwkJaWYgKGZsYWdzICYgSURMRSkKPiAr
CQkJZ2VtX3F1aWVzY2VudF9ncHUoaTkxNSk7Cj4gKwo+ICsJCXByZXZbMF0gPSBwcmV2WzFdOwo+
ICsJCXByZXZbMV0gPSBjb3VudDsKPiArCX0KPiArCWdlbV9xdWllc2NlbnRfZ3B1KGk5MTUpOwo+
ICsKPiArCXAudmFsdWUgPSBzYXZlZDsKPiArCWdlbV9jb250ZXh0X3NldF9wYXJhbShpOTE1LCAm
cCk7Cj4gK30KPiArCj4gK2lndF9tYWluCj4gK3sKPiArCWNvbnN0IHN0cnVjdCBpbnRlbF9leGVj
dXRpb25fZW5naW5lMiAqZTsKPiArCWludCBpOTE1Owo+ICsKPiArCWlndF9maXh0dXJlIHsKPiAr
CQlpOTE1ID0gZHJtX29wZW5fZHJpdmVyKERSSVZFUl9JTlRFTCk7Cj4gKwkJaWd0X3JlcXVpcmVf
Z2VtKGk5MTUpOwo+ICsKPiArCQlpZ3RfcmVxdWlyZShoYXNfcmluZ3NpemUoaTkxNSkpOwo+ICsJ
fQo+ICsKPiArCWlndF9zdWJ0ZXN0KCJpZGVtcG90ZW50IikKPiArCQl0ZXN0X2lkZW1wb3RlbnQo
aTkxNSk7Cj4gKwo+ICsJaWd0X3N1YnRlc3QoImludmFsaWQiKQo+ICsJCXRlc3RfaW52YWxpZChp
OTE1KTsKPiArCj4gKwlpZ3Rfc3VidGVzdCgiY3JlYXRlIikKPiArCQl0ZXN0X2NyZWF0ZShpOTE1
KTsKPiArCWlndF9zdWJ0ZXN0KCJjbG9uZSIpCj4gKwkJdGVzdF9jbG9uZShpOTE1KTsKPiArCj4g
KwlfX2Zvcl9lYWNoX3BoeXNpY2FsX2VuZ2luZShpOTE1LCBlKSB7Cj4gKwkJaWd0X3N1YnRlc3Rf
ZigiJXMtaWRsZSIsIGUtPm5hbWUpCj4gKwkJCXRlc3RfcmVzaXplKGk5MTUsIGUsIElETEUpOwo+
ICsJCWlndF9zdWJ0ZXN0X2YoIiVzLWFjdGl2ZSIsIGUtPm5hbWUpCj4gKwkJCXRlc3RfcmVzaXpl
KGk5MTUsIGUsIDApOwo+ICsJfQo+ICsKPiArCWlndF9maXh0dXJlIHsKPiArCQljbG9zZShpOTE1
KTsKPiArCX0KPiArfQo+IGRpZmYgLS1naXQgYS90ZXN0cy9tZXNvbi5idWlsZCBiL3Rlc3RzL21l
c29uLmJ1aWxkCj4gaW5kZXggYjBjNTY3NTk0Li45YjdjYTI0MjMgMTAwNjQ0Cj4gLS0tIGEvdGVz
dHMvbWVzb24uYnVpbGQKPiArKysgYi90ZXN0cy9tZXNvbi5idWlsZAo+IEBAIC0xMjMsNiArMTIz
LDcgQEAgaTkxNV9wcm9ncyA9IFsKPiAgCSdnZW1fY3R4X2lzb2xhdGlvbicsCj4gIAknZ2VtX2N0
eF9wYXJhbScsCj4gIAknZ2VtX2N0eF9wZXJzaXN0ZW5jZScsCj4gKwknZ2VtX2N0eF9yaW5nc2l6
ZScsCj4gIAknZ2VtX2N0eF9zaGFyZWQnLAo+ICAJJ2dlbV9jdHhfc3dpdGNoJywKPiAgCSdnZW1f
Y3R4X3RocmFzaCcsCj4gCgoKCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fXwpJbnRlbC1nZnggbWFpbGluZyBsaXN0CkludGVsLWdmeEBsaXN0cy5mcmVlZGVz
a3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9p
bnRlbC1nZng=

Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 928C9B6702
	for <lists+intel-gfx@lfdr.de>; Wed, 18 Sep 2019 17:24:15 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 78E336F3CD;
	Wed, 18 Sep 2019 15:24:13 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mail-yw1-xc42.google.com (mail-yw1-xc42.google.com
 [IPv6:2607:f8b0:4864:20::c42])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 518216F3CD
 for <intel-gfx@lists.freedesktop.org>; Wed, 18 Sep 2019 15:24:11 +0000 (UTC)
Received: by mail-yw1-xc42.google.com with SMTP id j128so96580ywf.0
 for <intel-gfx@lists.freedesktop.org>; Wed, 18 Sep 2019 08:24:11 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:date:from:to:cc:subject:message-id:references
 :mime-version:content-disposition:content-transfer-encoding
 :in-reply-to:user-agent;
 bh=MCz1Q7ciZJsGIzy45bme2XOPcOelM0DmqP1naC1gq7c=;
 b=alrgYcjGM5RijeZmYlD+cTonu7w3GxHYSgeHI+okA8RvwusngSfK5vNr7OlxZ9Yab/
 MIqGv3l8//LELaKxmJxuMEaNb7VbEbUOD0Zx6spGC5rHEBMmHnnR4jth5IS/vvwShYWa
 LMvr/duftDxn7qbI8YCWUUln7nHkq+8fqYuLhc7CYYP/3YbDE5cN+9WzVNgISF/kQ+Kj
 5xHAuXlyNTFDRqye5x18w1XDOIOIwuggAediR1aZcHlnzZ6+OtVLAwECp/gulGFoFdPj
 Lw7JTW/yjVLK3a7nwMZbtDTS9ls2o7QGWL8bOJ9bbEHqRf7UAPZaW1C0we3sgIe65wf8
 XZJg==
X-Gm-Message-State: APjAAAVhNKtE0iwqHzwB9KAcBhrn92xOti1XSgLVM0n08B2CnDoQ4E2P
 S8ouV7YzLVW26F31D6Jv3zPM1Q==
X-Google-Smtp-Source: APXvYqx+yp+0OYr6uoaCEx5KAfE1Mg1idNAFtIn7Bg3i8SQ2AyLwWEZKnDwrF5bREgVYzL6pHUrIOA==
X-Received: by 2002:a81:8205:: with SMTP id s5mr3741005ywf.218.1568820250270; 
 Wed, 18 Sep 2019 08:24:10 -0700 (PDT)
Received: from localhost ([2620:0:1013:11:89c6:2139:5435:371d])
 by smtp.gmail.com with ESMTPSA id i62sm1290073ywi.102.2019.09.18.08.24.09
 (version=TLS1_3 cipher=TLS_AES_256_GCM_SHA384 bits=256/256);
 Wed, 18 Sep 2019 08:24:09 -0700 (PDT)
Date: Wed, 18 Sep 2019 11:24:09 -0400
From: Sean Paul <sean@poorly.run>
To: Ville Syrjala <ville.syrjala@linux.intel.com>
Message-ID: <20190918152409.GQ218215@art_vandelay>
References: <20190905135044.2001-2-ville.syrjala@linux.intel.com>
 <20190918150707.32420-1-ville.syrjala@linux.intel.com>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <20190918150707.32420-1-ville.syrjala@linux.intel.com>
User-Agent: Mutt/1.10.1 (2018-07-13)
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=poorly.run; s=google;
 h=date:from:to:cc:subject:message-id:references:mime-version
 :content-disposition:content-transfer-encoding:in-reply-to
 :user-agent;
 bh=MCz1Q7ciZJsGIzy45bme2XOPcOelM0DmqP1naC1gq7c=;
 b=Bcd9nPCRaFQVjRu90tQkas3QT2xCDRfvWWZhgynqGJtxNcGjeSWgcMTAMVL11UOqSy
 QdoJf8sQPI+eaR7JxduqPsJ9AiB7B/9lV9MbOnIGYASBkwS0q0dKbv4YMMEsSAo44f5k
 QWICHwsXqKgIO5dZdZFleD4Hh0I5SeHSyd9MWcZQwffK5jeJYic7OvoUHrJeDZ+KVtoa
 cr6VxGEZkSRzFURJ5yTEzhaxcMP9H0PEtxuGdjBjgAum+kemVU0foKqf1q9CThSdArxj
 bocHX+8JBj5/FtG5bzwyJRSuhofXa5gSLQZ9L18By47NeY+Qg+6u+YjBjoRnnIpiMt+K
 1pBQ==
Subject: Re: [Intel-gfx] [PATCH v2 2/2] drm/i915: Don't advertise modes that
 exceed the max plane size
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: Leho Kraav <leho@kraav.com>, intel-gfx@lists.freedesktop.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

T24gV2VkLCBTZXAgMTgsIDIwMTkgYXQgMDY6MDc6MDdQTSArMDMwMCwgVmlsbGUgU3lyamFsYSB3
cm90ZToKPiBGcm9tOiBWaWxsZSBTeXJqw6Rsw6QgPHZpbGxlLnN5cmphbGFAbGludXguaW50ZWwu
Y29tPgo+IAo+IE1vZGVybiBwbGF0Zm9ybXMgYWxsb3cgdGhlIHRyYW5zY29kZXJzIGhkaXNwbGF5
L3ZkaXNwbGF5IHRvIGV4Y2VlZCB0aGUKPiBwbGFuZXMnIG1heCByZXNvbHV0aW9uLiBUaGlzIGhh
cyB0aGUgbmFzdHkgaW1wbGljYXRpb24gdGhhdCBtb2RlcyBvbiB0aGUKPiBjb25uZWN0b3JzJyBt
b2RlIGxpc3QgbWF5IG5vdCBiZSB1c2FibGUgd2hlbiB0aGUgdXNlciBhc2tzIGZvciBhCj4gZnVs
bHNjcmVlbiBwbGFuZS4gU2VlaW5nIGFzIHRoYXQgaXMgdGhlIG1vc3QgY29tbW9uIHVzZSBjYXNl
IGl0IHNlZW1zCj4gcHJ1ZGVudCB0byBmaWx0ZXIgb3V0IG1vZGVzIHRoYXQgZG9uJ3QgYWxsb3cg
Zm9yIGZ1bGxzY3JlZW4gcGxhbmVzIHRvCj4gYmUgZW5hYmxlZC4KPiAKPiBMZXQncyBkbyB0aGF0
IGluIHRoZSBjb25uZXRvciAubW9kZV92YWxpZCgpIGhvb2sgc28gdGhhdCBub3JtYWxseQo+IHN1
Y2ggbW9kZXMgYXJlIGtlcHQgaGlkZGVuIGJ1dCB0aGUgdXNlciBpcyBzdGlsbCBhYmxlIHRvIGZv
cmNpYmx5Cj4gc3BlY2lmeSBzdWNoIGEgbW9kZSBpZiB0aGV5IGtub3cgdGhleSBkb24ndCBuZWVk
IGZ1bGxzY3JlZW4gcGxhbmVzLgo+IAo+IFRoaXMgaXMgaW4gbGluZSB3aXRoIGVhbGllciBwb2xp
Y2llcyByZWdhcmRpbmcgY2VydGFpbiBjbG9jayBsaW1pdHMuCj4gVGhlIGlkZWEgaXMgdG8gcHJl
dmVudCB0aGUgY2FzdWFsIHVzZXIgZnJvbSBlbmNvdW50ZXJpbmcgYSBtb2RlIHRoYXQKPiB3b3Vs
ZCBmYWlsIHVuZGVyIHR5cGljYWwgY29uZGl0aW9ucywgYnV0IGFsbG93IHRoZSBleHBlcnQgdXNl
ciB0bwo+IGZvcmNlIHRoaW5ncyBpZiB0aGV5IHNvIHdpc2guCgpJc24ndCB0aGlzIGV4YWN0bHkg
d2hhdCBhdG9taWNfY2hlY2sgaXMgZm9yPyBXaHkgbm90IGp1c3QgYWRkIGEgZGVidWcgbWVzc2Fn
ZSBpbgpnZXRfbWF4X3BsYW5lX3NpemUgdG8gbGVhdmUgYSBicmVhZGNydW1iPwoKU2VhbgoKPiAK
PiBNYXliZSBpbiB0aGUgZnV0dXJlIHdlIHNob3VsZCBjb25zaWRlciBhdXRvbWFnaWNhbGx5IHVz
aW5nIHR3bwo+IHBsYW5lcyB3aGVuIG9uZSBjYW4ndCBjb3ZlciB0aGUgZW50aXJlIHNjcmVlbj8g
V291bGRuJ3QgYmUgYQo+IGdyZWF0IG1hdGNoIGZvciB0aGUgY3VycmVudCB1YXBpIHdpdGggZXhw
bGljaXQgcGxhbmVzIHRob3VnaCwKPiBidXQgSSBndWVzcyBubyB3b3JzZSB0aGFuIHVzaW5nIHR3
byBwaXBlcyAod2hpY2ggd2UgYXBwYXJlbnRseQo+IGhhdmUgdG8gaW4gdGhlIGZ1dHVyZSBhbnl3
YXkpLiBFaXRoZXIgdGhhdCBvciB3ZSdkIGhhdmUgdG8KPiB0ZWFjaCB1c2Vyc3BhY2UgdG8gZG8g
aXQgZm9yIHVzLgo+IAo+IHYyOiBGaXggaWNsKyBtYXggcGxhbmUgaGVpZ3RoIChNYW5hc2kpCj4g
Cj4gQ2M6IE1hbmFzaSBOYXZhcmUgPG1hbmFzaS5kLm5hdmFyZUBpbnRlbC5jb20+Cj4gQ2M6IExl
aG8gS3JhYXYgPGxlaG9Aa3JhYXYuY29tPgo+IENjOiBTZWFuIFBhdWwgPHNlYW5AcG9vcmx5LnJ1
bj4KPiBDYzogSm9zw6kgUm9iZXJ0byBkZSBTb3V6YSA8am9zZS5zb3V6YUBpbnRlbC5jb20+Cj4g
UmV2aWV3ZWQtYnk6IE1hYXJ0ZW4gTGFua2hvcnN0IDxtYWFydGVuLmxhbmtob3JzdEBsaW51eC5p
bnRlbC5jb20+Cj4gU2lnbmVkLW9mZi1ieTogVmlsbGUgU3lyasOkbMOkIDx2aWxsZS5zeXJqYWxh
QGxpbnV4LmludGVsLmNvbT4KPiAtLS0KPiAgZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9p
bnRlbF9kaXNwbGF5LmMgfCAzNiArKysrKysrKysrKysrKysrKysrKwo+ICBkcml2ZXJzL2dwdS9k
cm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXkuaCB8ICA0ICsrKwo+ICBkcml2ZXJzL2dwdS9k
cm0vaTkxNS9kaXNwbGF5L2ludGVsX2RwLmMgICAgICB8ICAyICstCj4gIGRyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2Rpc3BsYXkvaW50ZWxfZHNpLmMgICAgIHwgIDMgKy0KPiAgZHJpdmVycy9ncHUvZHJt
L2k5MTUvZGlzcGxheS9pbnRlbF9oZG1pLmMgICAgfCAgNCArKy0KPiAgNSBmaWxlcyBjaGFuZ2Vk
LCA0NiBpbnNlcnRpb25zKCspLCAzIGRlbGV0aW9ucygtKQo+IAo+IGRpZmYgLS1naXQgYS9kcml2
ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXkuYyBiL2RyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheS5jCj4gaW5kZXggZjVlNjVlMDUyZDkxLi4wMTQ3
ZTRhZTM2MjIgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRl
bF9kaXNwbGF5LmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rp
c3BsYXkuYwo+IEBAIC0xNTc1Myw2ICsxNTc1Myw3IEBAIGludGVsX21vZGVfdmFsaWQoc3RydWN0
IGRybV9kZXZpY2UgKmRldiwKPiAgCQkJICAgRFJNX01PREVfRkxBR19DTEtESVYyKSkKPiAgCQly
ZXR1cm4gTU9ERV9CQUQ7Cj4gIAo+ICsJLyogVHJhbnNjb2RlciB0aW1pbmcgbGltaXRzICovCj4g
IAlpZiAoSU5URUxfR0VOKGRldl9wcml2KSA+PSAxMSkgewo+ICAJCWhkaXNwbGF5X21heCA9IDE2
Mzg0Owo+ICAJCXZkaXNwbGF5X21heCA9IDgxOTI7Cj4gQEAgLTE1NzkxLDYgKzE1NzkyLDQxIEBA
IGludGVsX21vZGVfdmFsaWQoc3RydWN0IGRybV9kZXZpY2UgKmRldiwKPiAgCXJldHVybiBNT0RF
X09LOwo+ICB9Cj4gIAo+ICtlbnVtIGRybV9tb2RlX3N0YXR1cwo+ICtpbnRlbF9tb2RlX3ZhbGlk
X21heF9wbGFuZV9zaXplKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiwKPiArCQkJ
CWNvbnN0IHN0cnVjdCBkcm1fZGlzcGxheV9tb2RlICptb2RlKQo+ICt7Cj4gKwlpbnQgcGxhbmVf
d2lkdGhfbWF4LCBwbGFuZV9oZWlnaHRfbWF4Owo+ICsKPiArCS8qCj4gKwkgKiBpbnRlbF9tb2Rl
X3ZhbGlkKCkgc2hvdWxkIGJlCj4gKwkgKiBzdWZmaWNpZW50IG9uIG9sZGVyIHBsYXRmb3Jtcy4K
PiArCSAqLwo+ICsJaWYgKElOVEVMX0dFTihkZXZfcHJpdikgPCA5KQo+ICsJCXJldHVybiBNT0RF
X09LOwo+ICsKPiArCS8qCj4gKwkgKiBNb3N0IHBlb3BsZSB3aWxsIHByb2JhYmx5IHdhbnQgYSBm
dWxsc2NyZWVuCj4gKwkgKiBwbGFuZSBzbyBsZXQncyBub3QgYWR2ZXJ0aXplIG1vZGVzIHRoYXQg
YXJlCj4gKwkgKiB0b28gYmlnIGZvciB0aGF0Lgo+ICsJICovCj4gKwlpZiAoSU5URUxfR0VOKGRl
dl9wcml2KSA+PSAxMSkgewo+ICsJCXBsYW5lX3dpZHRoX21heCA9IDUxMjA7Cj4gKwkJcGxhbmVf
aGVpZ2h0X21heCA9IDQzMjA7Cj4gKwl9IGVsc2Ugewo+ICsJCXBsYW5lX3dpZHRoX21heCA9IDUx
MjA7Cj4gKwkJcGxhbmVfaGVpZ2h0X21heCA9IDQwOTY7Cj4gKwl9Cj4gKwo+ICsJaWYgKG1vZGUt
PmhkaXNwbGF5ID4gcGxhbmVfd2lkdGhfbWF4KQo+ICsJCXJldHVybiBNT0RFX0hfSUxMRUdBTDsK
PiArCj4gKwlpZiAobW9kZS0+dmRpc3BsYXkgPiBwbGFuZV9oZWlnaHRfbWF4KQo+ICsJCXJldHVy
biBNT0RFX1ZfSUxMRUdBTDsKPiArCj4gKwlyZXR1cm4gTU9ERV9PSzsKPiArfQo+ICsKPiAgc3Rh
dGljIGNvbnN0IHN0cnVjdCBkcm1fbW9kZV9jb25maWdfZnVuY3MgaW50ZWxfbW9kZV9mdW5jcyA9
IHsKPiAgCS5mYl9jcmVhdGUgPSBpbnRlbF91c2VyX2ZyYW1lYnVmZmVyX2NyZWF0ZSwKPiAgCS5n
ZXRfZm9ybWF0X2luZm8gPSBpbnRlbF9nZXRfZm9ybWF0X2luZm8sCj4gZGlmZiAtLWdpdCBhL2Ry
aXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheS5oIGIvZHJpdmVycy9ncHUv
ZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5LmgKPiBpbmRleCA2NjMzMGZjYjEwZDQuLmIx
YWUwZTU5YzcxNSAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2lu
dGVsX2Rpc3BsYXkuaAo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxf
ZGlzcGxheS5oCj4gQEAgLTMyLDYgKzMyLDcgQEAgZW51bSBsaW5rX21fbl9zZXQ7Cj4gIHN0cnVj
dCBkcGxsOwo+ICBzdHJ1Y3QgZHJtX2Nvbm5lY3RvcjsKPiAgc3RydWN0IGRybV9kZXZpY2U7Cj4g
K3N0cnVjdCBkcm1fZGlzcGxheV9tb2RlOwo+ICBzdHJ1Y3QgZHJtX2VuY29kZXI7Cj4gIHN0cnVj
dCBkcm1fZmlsZTsKPiAgc3RydWN0IGRybV9mb3JtYXRfaW5mbzsKPiBAQCAtNDQ4LDYgKzQ0OSw5
IEBAIHZvaWQgbHB0X2Rpc2FibGVfY2xrb3V0X2RwKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpk
ZXZfcHJpdik7Cj4gIHUzMiBpbnRlbF9wbGFuZV9mYl9tYXhfc3RyaWRlKHN0cnVjdCBkcm1faTkx
NV9wcml2YXRlICpkZXZfcHJpdiwKPiAgCQkJICAgICAgdTMyIHBpeGVsX2Zvcm1hdCwgdTY0IG1v
ZGlmaWVyKTsKPiAgYm9vbCBpbnRlbF9wbGFuZV9jYW5fcmVtYXAoY29uc3Qgc3RydWN0IGludGVs
X3BsYW5lX3N0YXRlICpwbGFuZV9zdGF0ZSk7Cj4gK2VudW0gZHJtX21vZGVfc3RhdHVzCj4gK2lu
dGVsX21vZGVfdmFsaWRfbWF4X3BsYW5lX3NpemUoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRl
dl9wcml2LAo+ICsJCQkJY29uc3Qgc3RydWN0IGRybV9kaXNwbGF5X21vZGUgKm1vZGUpOwo+ICBl
bnVtIHBoeSBpbnRlbF9wb3J0X3RvX3BoeShzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSwg
ZW51bSBwb3J0IHBvcnQpOwo+ICAKPiAgdm9pZCBpbnRlbF9wbGFuZV9kZXN0cm95KHN0cnVjdCBk
cm1fcGxhbmUgKnBsYW5lKTsKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlz
cGxheS9pbnRlbF9kcC5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kcC5j
Cj4gaW5kZXggZDA5MTMzYTk1OGUxLi5jY2FmOWYwMGI3NDcgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVy
cy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kcC5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJt
L2k5MTUvZGlzcGxheS9pbnRlbF9kcC5jCj4gQEAgLTU2Miw3ICs1NjIsNyBAQCBpbnRlbF9kcF9t
b2RlX3ZhbGlkKHN0cnVjdCBkcm1fY29ubmVjdG9yICpjb25uZWN0b3IsCj4gIAlpZiAobW9kZS0+
ZmxhZ3MgJiBEUk1fTU9ERV9GTEFHX0RCTENMSykKPiAgCQlyZXR1cm4gTU9ERV9IX0lMTEVHQUw7
Cj4gIAo+IC0JcmV0dXJuIE1PREVfT0s7Cj4gKwlyZXR1cm4gaW50ZWxfbW9kZV92YWxpZF9tYXhf
cGxhbmVfc2l6ZShkZXZfcHJpdiwgbW9kZSk7Cj4gIH0KPiAgCj4gIHUzMiBpbnRlbF9kcF9wYWNr
X2F1eChjb25zdCB1OCAqc3JjLCBpbnQgc3JjX2J5dGVzKQo+IGRpZmYgLS1naXQgYS9kcml2ZXJz
L2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2RzaS5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUv
ZGlzcGxheS9pbnRlbF9kc2kuYwo+IGluZGV4IDVmZWMwMmFjZWFlZC4uYTJhOTM3MTA5YTVhIDEw
MDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZHNpLmMKPiAr
KysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2RzaS5jCj4gQEAgLTU1LDYg
KzU1LDcgQEAgaW50IGludGVsX2RzaV9nZXRfbW9kZXMoc3RydWN0IGRybV9jb25uZWN0b3IgKmNv
bm5lY3RvcikKPiAgZW51bSBkcm1fbW9kZV9zdGF0dXMgaW50ZWxfZHNpX21vZGVfdmFsaWQoc3Ry
dWN0IGRybV9jb25uZWN0b3IgKmNvbm5lY3RvciwKPiAgCQkJCQkgIHN0cnVjdCBkcm1fZGlzcGxh
eV9tb2RlICptb2RlKQo+ICB7Cj4gKwlzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYg
PSB0b19pOTE1KGNvbm5lY3Rvci0+ZGV2KTsKPiAgCXN0cnVjdCBpbnRlbF9jb25uZWN0b3IgKmlu
dGVsX2Nvbm5lY3RvciA9IHRvX2ludGVsX2Nvbm5lY3Rvcihjb25uZWN0b3IpOwo+ICAJY29uc3Qg
c3RydWN0IGRybV9kaXNwbGF5X21vZGUgKmZpeGVkX21vZGUgPSBpbnRlbF9jb25uZWN0b3ItPnBh
bmVsLmZpeGVkX21vZGU7Cj4gIAlpbnQgbWF4X2RvdGNsayA9IHRvX2k5MTUoY29ubmVjdG9yLT5k
ZXYpLT5tYXhfZG90Y2xrX2ZyZXE7Cj4gQEAgLTczLDcgKzc0LDcgQEAgZW51bSBkcm1fbW9kZV9z
dGF0dXMgaW50ZWxfZHNpX21vZGVfdmFsaWQoc3RydWN0IGRybV9jb25uZWN0b3IgKmNvbm5lY3Rv
ciwKPiAgCQkJcmV0dXJuIE1PREVfQ0xPQ0tfSElHSDsKPiAgCX0KPiAgCj4gLQlyZXR1cm4gTU9E
RV9PSzsKPiArCXJldHVybiBpbnRlbF9tb2RlX3ZhbGlkX21heF9wbGFuZV9zaXplKGRldl9wcml2
LCBtb2RlKTsKPiAgfQo+ICAKPiAgc3RydWN0IGludGVsX2RzaV9ob3N0ICppbnRlbF9kc2lfaG9z
dF9pbml0KHN0cnVjdCBpbnRlbF9kc2kgKmludGVsX2RzaSwKPiBkaWZmIC0tZ2l0IGEvZHJpdmVy
cy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9oZG1pLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkx
NS9kaXNwbGF5L2ludGVsX2hkbWkuYwo+IGluZGV4IGM1MDBmYzkxNTRjOC4uZGJjNjg2NTE1ZGNl
IDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfaGRtaS5j
Cj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9oZG1pLmMKPiBAQCAt
MjE4OCw4ICsyMTg4LDEwIEBAIGludGVsX2hkbWlfbW9kZV92YWxpZChzdHJ1Y3QgZHJtX2Nvbm5l
Y3RvciAqY29ubmVjdG9yLAo+ICAJCQlzdGF0dXMgPSBoZG1pX3BvcnRfY2xvY2tfdmFsaWQoaGRt
aSwgY2xvY2sgKiA1IC8gNCwKPiAgCQkJCQkJICAgICAgIHRydWUsIGZvcmNlX2R2aSk7Cj4gIAl9
Cj4gKwlpZiAoc3RhdHVzICE9IE1PREVfT0spCj4gKwkJcmV0dXJuIHN0YXR1czsKPiAgCj4gLQly
ZXR1cm4gc3RhdHVzOwo+ICsJcmV0dXJuIGludGVsX21vZGVfdmFsaWRfbWF4X3BsYW5lX3NpemUo
ZGV2X3ByaXYsIG1vZGUpOwo+ICB9Cj4gIAo+ICBzdGF0aWMgYm9vbCBoZG1pX2RlZXBfY29sb3Jf
cG9zc2libGUoY29uc3Qgc3RydWN0IGludGVsX2NydGNfc3RhdGUgKmNydGNfc3RhdGUsCj4gLS0g
Cj4gMi4yMS4wCj4gCgotLSAKU2VhbiBQYXVsLCBTb2Z0d2FyZSBFbmdpbmVlciwgR29vZ2xlIC8g
Q2hyb21pdW0gT1MKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X18KSW50ZWwtZ2Z4IG1haWxpbmcgbGlzdApJbnRlbC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3Jn
Cmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vaW50ZWwtZ2Z4

Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id D4C1C1430FB
	for <lists+intel-gfx@lfdr.de>; Mon, 20 Jan 2020 18:47:50 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 7503F6EA5C;
	Mon, 20 Jan 2020 17:47:48 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga09.intel.com (mga09.intel.com [134.134.136.24])
 by gabe.freedesktop.org (Postfix) with ESMTPS id A06416EA5A
 for <intel-gfx@lists.freedesktop.org>; Mon, 20 Jan 2020 17:47:47 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from fmsmga001.fm.intel.com ([10.253.24.23])
 by orsmga102.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 20 Jan 2020 09:47:46 -0800
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.70,342,1574150400"; d="scan'208";a="276007746"
Received: from stinkbox.fi.intel.com (HELO stinkbox) ([10.237.72.174])
 by fmsmga001.fm.intel.com with SMTP; 20 Jan 2020 09:47:44 -0800
Received: by stinkbox (sSMTP sendmail emulation);
 Mon, 20 Jan 2020 19:47:43 +0200
From: Ville Syrjala <ville.syrjala@linux.intel.com>
To: intel-gfx@lists.freedesktop.org
Date: Mon, 20 Jan 2020 19:47:15 +0200
Message-Id: <20200120174728.21095-6-ville.syrjala@linux.intel.com>
X-Mailer: git-send-email 2.24.1
In-Reply-To: <20200120174728.21095-1-ville.syrjala@linux.intel.com>
References: <20200120174728.21095-1-ville.syrjala@linux.intel.com>
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH 05/17] drm/i915: Collect more cdclk state under
 the same roof
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

RnJvbTogVmlsbGUgU3lyasOkbMOkIDx2aWxsZS5zeXJqYWxhQGxpbnV4LmludGVsLmNvbT4KCk1v
dmUgdGhlIG1pbl9jZGNsa1tdIGFuZCBtaW5fdm9sdGFnZV9sZXZlbFtdIGFycmF5cyB1bmRlciB0
aGUKcmVzdCBvZiB0aGUgY2RjbGsgc3RhdGUuIEFuZCB3aGlsZSBhdCBpdCBwcm92aWRlIGEgc2lt
cGxlCmhlbHBlciAoaW50ZWxfY2RjbGtfY2xlYXJfc3RhdGUoKSkgdG8gY2xlYXIgdGhlIHN0YXRl
IGR1cmluZwp0aGUgd3dfbXV0ZXggYmFja29mZiBkYW5jZS4KClNpZ25lZC1vZmYtYnk6IFZpbGxl
IFN5cmrDpGzDpCA8dmlsbGUuc3lyamFsYUBsaW51eC5pbnRlbC5jb20+Ci0tLQogZHJpdmVycy9n
cHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9hdG9taWMuYyAgIHwgIDkgKystLS0KIGRyaXZlcnMv
Z3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfY2RjbGsuYyAgICB8IDQwICsrKysrKysrKysrKy0t
LS0tLS0KIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfY2RjbGsuaCAgICB8ICAx
ICsKIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheS5jICB8ICA4ICsr
LS0KIC4uLi9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXlfdHlwZXMuaCAgICB8IDEwICsr
Ky0tCiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2Rydi5oICAgICAgICAgICAgICAgfCAgOSAr
KystLQogNiBmaWxlcyBjaGFuZ2VkLCA0NiBpbnNlcnRpb25zKCspLCAzMSBkZWxldGlvbnMoLSkK
CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2F0b21pYy5j
IGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9hdG9taWMuYwppbmRleCBjMzYy
ZWVjZGQ0MTQuLjEyNjlmNjNlYTAwNiAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUv
ZGlzcGxheS9pbnRlbF9hdG9taWMuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5
L2ludGVsX2F0b21pYy5jCkBAIC0zNSw2ICszNSw3IEBACiAjaW5jbHVkZSA8ZHJtL2RybV9wbGFu
ZV9oZWxwZXIuaD4KIAogI2luY2x1ZGUgImludGVsX2F0b21pYy5oIgorI2luY2x1ZGUgImludGVs
X2NkY2xrLmgiCiAjaW5jbHVkZSAiaW50ZWxfZGlzcGxheV90eXBlcy5oIgogI2luY2x1ZGUgImlu
dGVsX2hkY3AuaCIKICNpbmNsdWRlICJpbnRlbF9wc3IuaCIKQEAgLTQ5NywxNSArNDk4LDEzIEBA
IGludGVsX2F0b21pY19zdGF0ZV9hbGxvYyhzdHJ1Y3QgZHJtX2RldmljZSAqZGV2KQogdm9pZCBp
bnRlbF9hdG9taWNfc3RhdGVfY2xlYXIoc3RydWN0IGRybV9hdG9taWNfc3RhdGUgKnMpCiB7CiAJ
c3RydWN0IGludGVsX2F0b21pY19zdGF0ZSAqc3RhdGUgPSB0b19pbnRlbF9hdG9taWNfc3RhdGUo
cyk7CisKIAlkcm1fYXRvbWljX3N0YXRlX2RlZmF1bHRfY2xlYXIoJnN0YXRlLT5iYXNlKTsKKwog
CXN0YXRlLT5kcGxsX3NldCA9IHN0YXRlLT5tb2Rlc2V0ID0gZmFsc2U7CiAJc3RhdGUtPmdsb2Jh
bF9zdGF0ZV9jaGFuZ2VkID0gZmFsc2U7CiAJc3RhdGUtPmFjdGl2ZV9waXBlcyA9IDA7Ci0JbWVt
c2V0KCZzdGF0ZS0+bWluX2NkY2xrLCAwLCBzaXplb2Yoc3RhdGUtPm1pbl9jZGNsaykpOwotCW1l
bXNldCgmc3RhdGUtPm1pbl92b2x0YWdlX2xldmVsLCAwLCBzaXplb2Yoc3RhdGUtPm1pbl92b2x0
YWdlX2xldmVsKSk7Ci0JbWVtc2V0KCZzdGF0ZS0+Y2RjbGsubG9naWNhbCwgMCwgc2l6ZW9mKHN0
YXRlLT5jZGNsay5sb2dpY2FsKSk7Ci0JbWVtc2V0KCZzdGF0ZS0+Y2RjbGsuYWN0dWFsLCAwLCBz
aXplb2Yoc3RhdGUtPmNkY2xrLmFjdHVhbCkpOwotCXN0YXRlLT5jZGNsay5waXBlID0gSU5WQUxJ
RF9QSVBFOworCWludGVsX2NkY2xrX2NsZWFyX3N0YXRlKHN0YXRlKTsKIH0KIAogc3RydWN0IGlu
dGVsX2NydGNfc3RhdGUgKgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxh
eS9pbnRlbF9jZGNsay5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9jZGNs
ay5jCmluZGV4IDA1ZjZjNjQ1NmRkZi4uZjdmODg2ZGNkNmFlIDEwMDY0NAotLS0gYS9kcml2ZXJz
L2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2NkY2xrLmMKKysrIGIvZHJpdmVycy9ncHUvZHJt
L2k5MTUvZGlzcGxheS9pbnRlbF9jZGNsay5jCkBAIC0xODAzLDYgKzE4MDMsMTggQEAgc3RhdGlj
IGJvb2wgaW50ZWxfY2RjbGtfY2hhbmdlZChjb25zdCBzdHJ1Y3QgaW50ZWxfY2RjbGtfc3RhdGUg
KmEsCiAJCWEtPnZvbHRhZ2VfbGV2ZWwgIT0gYi0+dm9sdGFnZV9sZXZlbDsKIH0KIAorLyoqCisg
KiBpbnRlbF9jZGNsa19jbGVhcl9zdGF0ZSAtIGNsZWFyIHRoZSBjZGNsayBzdGF0ZQorICogQHN0
YXRlOiBhdG9taWMgc3RhdGUKKyAqCisgKiBDbGVhciB0aGUgY2RjbGsgc3RhdGUgZm9yIHd3X211
dGV4IGJhY2tvZmYuCisgKi8KK3ZvaWQgaW50ZWxfY2RjbGtfY2xlYXJfc3RhdGUoc3RydWN0IGlu
dGVsX2F0b21pY19zdGF0ZSAqc3RhdGUpCit7CisJbWVtc2V0KCZzdGF0ZS0+Y2RjbGssIDAsIHNp
emVvZihzdGF0ZS0+Y2RjbGspKTsKKwlzdGF0ZS0+Y2RjbGsucGlwZSA9IElOVkFMSURfUElQRTsK
K30KKwogLyoqCiAgKiBpbnRlbF9jZGNsa19zd2FwX3N0YXRlIC0gbWFrZSBhdG9taWMgQ0RDTEsg
Y29uZmlndXJhdGlvbiBlZmZlY3RpdmUKICAqIEBzdGF0ZTogYXRvbWljIHN0YXRlCkBAIC0xODIw
LDEwICsxODMyLDEwIEBAIHZvaWQgaW50ZWxfY2RjbGtfc3dhcF9zdGF0ZShzdHJ1Y3QgaW50ZWxf
YXRvbWljX3N0YXRlICpzdGF0ZSkKIAlzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYg
PSB0b19pOTE1KHN0YXRlLT5iYXNlLmRldik7CiAKIAkvKiBGSVhNRSBtYXliZSBzd2FwKCkgdGhl
c2UgdG9vICovCi0JbWVtY3B5KGRldl9wcml2LT5taW5fY2RjbGssIHN0YXRlLT5taW5fY2RjbGss
Ci0JICAgICAgIHNpemVvZihzdGF0ZS0+bWluX2NkY2xrKSk7Ci0JbWVtY3B5KGRldl9wcml2LT5t
aW5fdm9sdGFnZV9sZXZlbCwgc3RhdGUtPm1pbl92b2x0YWdlX2xldmVsLAotCSAgICAgICBzaXpl
b2Yoc3RhdGUtPm1pbl92b2x0YWdlX2xldmVsKSk7CisJbWVtY3B5KGRldl9wcml2LT5jZGNsay5t
aW5fY2RjbGssIHN0YXRlLT5jZGNsay5taW5fY2RjbGssCisJICAgICAgIHNpemVvZihzdGF0ZS0+
Y2RjbGsubWluX2NkY2xrKSk7CisJbWVtY3B5KGRldl9wcml2LT5jZGNsay5taW5fdm9sdGFnZV9s
ZXZlbCwgc3RhdGUtPmNkY2xrLm1pbl92b2x0YWdlX2xldmVsLAorCSAgICAgICBzaXplb2Yoc3Rh
dGUtPmNkY2xrLm1pbl92b2x0YWdlX2xldmVsKSk7CiAKIAlkZXZfcHJpdi0+Y2RjbGsuZm9yY2Vf
bWluX2NkY2xrID0gc3RhdGUtPmNkY2xrLmZvcmNlX21pbl9jZGNsazsKIApAQCAtMjA0OCwxMCAr
MjA2MCwxMCBAQCBzdGF0aWMgaW50IGludGVsX2NvbXB1dGVfbWluX2NkY2xrKHN0cnVjdCBpbnRl
bF9hdG9taWNfc3RhdGUgKnN0YXRlKQogCQlpZiAobWluX2NkY2xrIDwgMCkKIAkJCXJldHVybiBt
aW5fY2RjbGs7CiAKLQkJaWYgKHN0YXRlLT5taW5fY2RjbGtbaV0gPT0gbWluX2NkY2xrKQorCQlp
ZiAoc3RhdGUtPmNkY2xrLm1pbl9jZGNsa1tpXSA9PSBtaW5fY2RjbGspCiAJCQljb250aW51ZTsK
IAotCQlzdGF0ZS0+bWluX2NkY2xrW2ldID0gbWluX2NkY2xrOworCQlzdGF0ZS0+Y2RjbGsubWlu
X2NkY2xrW2ldID0gbWluX2NkY2xrOwogCiAJCXJldCA9IGludGVsX2F0b21pY19sb2NrX2dsb2Jh
bF9zdGF0ZShzdGF0ZSk7CiAJCWlmIChyZXQpCkBAIC0yMDYwLDcgKzIwNzIsNyBAQCBzdGF0aWMg
aW50IGludGVsX2NvbXB1dGVfbWluX2NkY2xrKHN0cnVjdCBpbnRlbF9hdG9taWNfc3RhdGUgKnN0
YXRlKQogCiAJbWluX2NkY2xrID0gc3RhdGUtPmNkY2xrLmZvcmNlX21pbl9jZGNsazsKIAlmb3Jf
ZWFjaF9waXBlKGRldl9wcml2LCBwaXBlKQotCQltaW5fY2RjbGsgPSBtYXgoc3RhdGUtPm1pbl9j
ZGNsa1twaXBlXSwgbWluX2NkY2xrKTsKKwkJbWluX2NkY2xrID0gbWF4KHN0YXRlLT5jZGNsay5t
aW5fY2RjbGtbcGlwZV0sIG1pbl9jZGNsayk7CiAKIAlyZXR1cm4gbWluX2NkY2xrOwogfQpAQCAt
MjA5NSwxMCArMjEwNywxMCBAQCBzdGF0aWMgaW50IGJ4dF9jb21wdXRlX21pbl92b2x0YWdlX2xl
dmVsKHN0cnVjdCBpbnRlbF9hdG9taWNfc3RhdGUgKnN0YXRlKQogCQllbHNlCiAJCQltaW5fdm9s
dGFnZV9sZXZlbCA9IDA7CiAKLQkJaWYgKHN0YXRlLT5taW5fdm9sdGFnZV9sZXZlbFtpXSA9PSBt
aW5fdm9sdGFnZV9sZXZlbCkKKwkJaWYgKHN0YXRlLT5jZGNsay5taW5fdm9sdGFnZV9sZXZlbFtp
XSA9PSBtaW5fdm9sdGFnZV9sZXZlbCkKIAkJCWNvbnRpbnVlOwogCi0JCXN0YXRlLT5taW5fdm9s
dGFnZV9sZXZlbFtpXSA9IG1pbl92b2x0YWdlX2xldmVsOworCQlzdGF0ZS0+Y2RjbGsubWluX3Zv
bHRhZ2VfbGV2ZWxbaV0gPSBtaW5fdm9sdGFnZV9sZXZlbDsKIAogCQlyZXQgPSBpbnRlbF9hdG9t
aWNfbG9ja19nbG9iYWxfc3RhdGUoc3RhdGUpOwogCQlpZiAocmV0KQpAQCAtMjEwNyw3ICsyMTE5
LDcgQEAgc3RhdGljIGludCBieHRfY29tcHV0ZV9taW5fdm9sdGFnZV9sZXZlbChzdHJ1Y3QgaW50
ZWxfYXRvbWljX3N0YXRlICpzdGF0ZSkKIAogCW1pbl92b2x0YWdlX2xldmVsID0gMDsKIAlmb3Jf
ZWFjaF9waXBlKGRldl9wcml2LCBwaXBlKQotCQltaW5fdm9sdGFnZV9sZXZlbCA9IG1heChzdGF0
ZS0+bWluX3ZvbHRhZ2VfbGV2ZWxbcGlwZV0sCisJCW1pbl92b2x0YWdlX2xldmVsID0gbWF4KHN0
YXRlLT5jZGNsay5taW5fdm9sdGFnZV9sZXZlbFtwaXBlXSwKIAkJCQkJbWluX3ZvbHRhZ2VfbGV2
ZWwpOwogCiAJcmV0dXJuIG1pbl92b2x0YWdlX2xldmVsOwpAQCAtMjM0MSwxMCArMjM1MywxMCBA
QCBpbnQgaW50ZWxfbW9kZXNldF9jYWxjX2NkY2xrKHN0cnVjdCBpbnRlbF9hdG9taWNfc3RhdGUg
KnN0YXRlKQogCWVudW0gcGlwZSBwaXBlOwogCWludCByZXQ7CiAKLQltZW1jcHkoc3RhdGUtPm1p
bl9jZGNsaywgZGV2X3ByaXYtPm1pbl9jZGNsaywKLQkgICAgICAgc2l6ZW9mKHN0YXRlLT5taW5f
Y2RjbGspKTsKLQltZW1jcHkoc3RhdGUtPm1pbl92b2x0YWdlX2xldmVsLCBkZXZfcHJpdi0+bWlu
X3ZvbHRhZ2VfbGV2ZWwsCi0JICAgICAgIHNpemVvZihzdGF0ZS0+bWluX3ZvbHRhZ2VfbGV2ZWwp
KTsKKwltZW1jcHkoc3RhdGUtPmNkY2xrLm1pbl9jZGNsaywgZGV2X3ByaXYtPmNkY2xrLm1pbl9j
ZGNsaywKKwkgICAgICAgc2l6ZW9mKHN0YXRlLT5jZGNsay5taW5fY2RjbGspKTsKKwltZW1jcHko
c3RhdGUtPmNkY2xrLm1pbl92b2x0YWdlX2xldmVsLCBkZXZfcHJpdi0+Y2RjbGsubWluX3ZvbHRh
Z2VfbGV2ZWwsCisJICAgICAgIHNpemVvZihzdGF0ZS0+Y2RjbGsubWluX3ZvbHRhZ2VfbGV2ZWwp
KTsKIAogCS8qIGtlZXAgdGhlIGN1cnJlbnQgc2V0dGluZyAqLwogCWlmICghc3RhdGUtPmNkY2xr
LmZvcmNlX21pbl9jZGNsa19jaGFuZ2VkKQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5
MTUvZGlzcGxheS9pbnRlbF9jZGNsay5oIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9p
bnRlbF9jZGNsay5oCmluZGV4IGNmNzEzOTRjYzc5Yy4uM2YzNzczYzU4MmFlIDEwMDY0NAotLS0g
YS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2NkY2xrLmgKKysrIGIvZHJpdmVy
cy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9jZGNsay5oCkBAIC0zMSw2ICszMSw3IEBAIHZv
aWQgaW50ZWxfdXBkYXRlX2NkY2xrKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdik7
CiB2b2lkIGludGVsX3VwZGF0ZV9yYXdjbGsoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9w
cml2KTsKIGJvb2wgaW50ZWxfY2RjbGtfbmVlZHNfbW9kZXNldChjb25zdCBzdHJ1Y3QgaW50ZWxf
Y2RjbGtfc3RhdGUgKmEsCiAJCQkgICAgICAgY29uc3Qgc3RydWN0IGludGVsX2NkY2xrX3N0YXRl
ICpiKTsKK3ZvaWQgaW50ZWxfY2RjbGtfY2xlYXJfc3RhdGUoc3RydWN0IGludGVsX2F0b21pY19z
dGF0ZSAqc3RhdGUpOwogdm9pZCBpbnRlbF9jZGNsa19zd2FwX3N0YXRlKHN0cnVjdCBpbnRlbF9h
dG9taWNfc3RhdGUgKnN0YXRlKTsKIHZvaWQKIGludGVsX3NldF9jZGNsa19wcmVfcGxhbmVfdXBk
YXRlKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiwKZGlmZiAtLWdpdCBhL2RyaXZl
cnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheS5jIGIvZHJpdmVycy9ncHUvZHJt
L2k5MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5LmMKaW5kZXggOTMwZTkyNTY1OTZjLi5mM2Y5ZmU5
NGVkNDEgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlz
cGxheS5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheS5j
CkBAIC03NTQ3LDggKzc1NDcsOCBAQCBzdGF0aWMgdm9pZCBpbnRlbF9jcnRjX2Rpc2FibGVfbm9h
dG9taWMoc3RydWN0IGludGVsX2NydGMgKmNydGMsCiAJY3J0Yy0+ZW5hYmxlZF9wb3dlcl9kb21h
aW5zID0gMDsKIAogCWRldl9wcml2LT5hY3RpdmVfcGlwZXMgJj0gfkJJVChwaXBlKTsKLQlkZXZf
cHJpdi0+bWluX2NkY2xrW3BpcGVdID0gMDsKLQlkZXZfcHJpdi0+bWluX3ZvbHRhZ2VfbGV2ZWxb
cGlwZV0gPSAwOworCWRldl9wcml2LT5jZGNsay5taW5fY2RjbGtbcGlwZV0gPSAwOworCWRldl9w
cml2LT5jZGNsay5taW5fdm9sdGFnZV9sZXZlbFtwaXBlXSA9IDA7CiAKIAlid19zdGF0ZS0+ZGF0
YV9yYXRlW3BpcGVdID0gMDsKIAlid19zdGF0ZS0+bnVtX2FjdGl2ZV9wbGFuZXNbcGlwZV0gPSAw
OwpAQCAtMTgyNTEsOCArMTgyNTEsOCBAQCBzdGF0aWMgdm9pZCBpbnRlbF9tb2Rlc2V0X3JlYWRv
dXRfaHdfc3RhdGUoc3RydWN0IGRybV9kZXZpY2UgKmRldikKIAkJCQltaW5fY2RjbGsgPSAwOwog
CQl9CiAKLQkJZGV2X3ByaXYtPm1pbl9jZGNsa1tjcnRjLT5waXBlXSA9IG1pbl9jZGNsazsKLQkJ
ZGV2X3ByaXYtPm1pbl92b2x0YWdlX2xldmVsW2NydGMtPnBpcGVdID0KKwkJZGV2X3ByaXYtPmNk
Y2xrLm1pbl9jZGNsa1tjcnRjLT5waXBlXSA9IG1pbl9jZGNsazsKKwkJZGV2X3ByaXYtPmNkY2xr
Lm1pbl92b2x0YWdlX2xldmVsW2NydGMtPnBpcGVdID0KIAkJCWNydGNfc3RhdGUtPm1pbl92b2x0
YWdlX2xldmVsOwogCiAJCWludGVsX2J3X2NydGNfdXBkYXRlKGJ3X3N0YXRlLCBjcnRjX3N0YXRl
KTsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxh
eV90eXBlcy5oIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5X3R5
cGVzLmgKaW5kZXggMmQ4NDkxNTkwNTAxLi5hNmI5NWE4YWIzMjMgMTAwNjQ0Ci0tLSBhL2RyaXZl
cnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheV90eXBlcy5oCisrKyBiL2RyaXZl
cnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheV90eXBlcy5oCkBAIC00NzcsNiAr
NDc3LDEyIEBAIHN0cnVjdCBpbnRlbF9hdG9taWNfc3RhdGUgewogCiAJCWludCBmb3JjZV9taW5f
Y2RjbGs7CiAJCWJvb2wgZm9yY2VfbWluX2NkY2xrX2NoYW5nZWQ7CisKKwkJLyogbWluaW11bSBh
Y2NlcHRhYmxlIGNkY2xrIGZvciBlYWNoIHBpcGUgKi8KKwkJaW50IG1pbl9jZGNsa1tJOTE1X01B
WF9QSVBFU107CisJCS8qIG1pbmltdW0gYWNjZXB0YWJsZSB2b2x0YWdlIGxldmVsIGZvciBlYWNo
IHBpcGUgKi8KKwkJdTggbWluX3ZvbHRhZ2VfbGV2ZWxbSTkxNV9NQVhfUElQRVNdOworCiAJCS8q
IHBpcGUgdG8gd2hpY2ggY2QyeCB1cGRhdGUgaXMgc3luY2hyb25pemVkICovCiAJCWVudW0gcGlw
ZSBwaXBlOwogCX0gY2RjbGs7CkBAIC00OTQsMTAgKzUwMCw2IEBAIHN0cnVjdCBpbnRlbF9hdG9t
aWNfc3RhdGUgewogCXU4IGFjdGl2ZV9waXBlX2NoYW5nZXM7CiAKIAl1OCBhY3RpdmVfcGlwZXM7
Ci0JLyogbWluaW11bSBhY2NlcHRhYmxlIGNkY2xrIGZvciBlYWNoIHBpcGUgKi8KLQlpbnQgbWlu
X2NkY2xrW0k5MTVfTUFYX1BJUEVTXTsKLQkvKiBtaW5pbXVtIGFjY2VwdGFibGUgdm9sdGFnZSBs
ZXZlbCBmb3IgZWFjaCBwaXBlICovCi0JdTggbWluX3ZvbHRhZ2VfbGV2ZWxbSTkxNV9NQVhfUElQ
RVNdOwogCiAJc3RydWN0IGludGVsX3NoYXJlZF9kcGxsX3N0YXRlIHNoYXJlZF9kcGxsW0k5MTVf
TlVNX1BMTFNdOwogCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2Rydi5o
IGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kcnYuaAppbmRleCBhN2Y2Mjc1YTc5ZTYuLjY1
MGY0MmJkOWNmYiAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kcnYuaAor
KysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2Rydi5oCkBAIC0xMDI3LDYgKzEwMjcsMTEg
QEAgc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgewogCQljb25zdCBzdHJ1Y3QgaW50ZWxfY2RjbGtf
dmFscyAqdGFibGU7CiAKIAkJaW50IGZvcmNlX21pbl9jZGNsazsKKworCQkvKiBtaW5pbXVtIGFj
Y2VwdGFibGUgY2RjbGsgZm9yIGVhY2ggcGlwZSAqLworCQlpbnQgbWluX2NkY2xrW0k5MTVfTUFY
X1BJUEVTXTsKKwkJLyogbWluaW11bSBhY2NlcHRhYmxlIHZvbHRhZ2UgbGV2ZWwgZm9yIGVhY2gg
cGlwZSAqLworCQl1OCBtaW5fdm9sdGFnZV9sZXZlbFtJOTE1X01BWF9QSVBFU107CiAJfSBjZGNs
azsKIAogCS8qKgpAQCAtMTA4NywxMCArMTA5Miw2IEBAIHN0cnVjdCBkcm1faTkxNV9wcml2YXRl
IHsKIAkgKiBhbnkgY3J0YyBsb2NrIGlzIHN1ZmZpY2llbnQsIGZvciB3cml0aW5nIG11c3QgaG9s
ZCBhbGwgb2YgdGhlbS4KIAkgKi8KIAl1OCBhY3RpdmVfcGlwZXM7Ci0JLyogbWluaW11bSBhY2Nl
cHRhYmxlIGNkY2xrIGZvciBlYWNoIHBpcGUgKi8KLQlpbnQgbWluX2NkY2xrW0k5MTVfTUFYX1BJ
UEVTXTsKLQkvKiBtaW5pbXVtIGFjY2VwdGFibGUgdm9sdGFnZSBsZXZlbCBmb3IgZWFjaCBwaXBl
ICovCi0JdTggbWluX3ZvbHRhZ2VfbGV2ZWxbSTkxNV9NQVhfUElQRVNdOwogCiAJaW50IGRwaW9f
cGh5X2lvc2ZfcG9ydFtJOTE1X05VTV9QSFlTX1ZMVl07CiAKLS0gCjIuMjQuMQoKX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KSW50ZWwtZ2Z4IG1haWxpbmcg
bGlzdApJbnRlbC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRl
c2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vaW50ZWwtZ2Z4Cg==

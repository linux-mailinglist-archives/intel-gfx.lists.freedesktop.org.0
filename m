Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 299B1366D6E
	for <lists+intel-gfx@lfdr.de>; Wed, 21 Apr 2021 16:00:06 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 4814D6E9A8;
	Wed, 21 Apr 2021 14:00:04 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga01.intel.com (mga01.intel.com [192.55.52.88])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 8DBD66E9A8
 for <intel-gfx@lists.freedesktop.org>; Wed, 21 Apr 2021 14:00:02 +0000 (UTC)
IronPort-SDR: 5NoZyHIF56s1nEtKPGfkSLAItafNVbF9cjiuSWjkWw78HddAosdc/r5nyT948ciRt2OxQEG1sO
 DHQwmKRUFqZw==
X-IronPort-AV: E=McAfee;i="6200,9189,9961"; a="216341219"
X-IronPort-AV: E=Sophos;i="5.82,240,1613462400"; d="scan'208";a="216341219"
Received: from orsmga008.jf.intel.com ([10.7.209.65])
 by fmsmga101.fm.intel.com with ESMTP/TLS/ECDHE-RSA-AES256-GCM-SHA384;
 21 Apr 2021 07:00:01 -0700
IronPort-SDR: Oo0RSj1RGKuER+dBROEqQXM6x4x4BYvc7BTkrRAG8cNHbD7wtgwxWKY0ReFF+OKObQ2zU4yWh+
 kzW4eQh2clCg==
X-IronPort-AV: E=Sophos;i="5.82,240,1613462400"; d="scan'208";a="427525280"
Received: from uchalilx-mobl1.ger.corp.intel.com (HELO localhost)
 ([10.252.36.64])
 by orsmga008-auth.jf.intel.com with ESMTP/TLS/ECDHE-RSA-AES256-GCM-SHA384;
 21 Apr 2021 07:00:00 -0700
From: Jani Nikula <jani.nikula@linux.intel.com>
To: Ville Syrjala <ville.syrjala@linux.intel.com>,
 intel-gfx@lists.freedesktop.org
In-Reply-To: <20210414022309.30898-9-ville.syrjala@linux.intel.com>
Organization: Intel Finland Oy - BIC 0357606-4 - Westendinkatu 7, 02160 Espoo
References: <20210414022309.30898-1-ville.syrjala@linux.intel.com>
 <20210414022309.30898-9-ville.syrjala@linux.intel.com>
Date: Wed, 21 Apr 2021 16:59:57 +0300
Message-ID: <875z0f91r6.fsf@intel.com>
MIME-Version: 1.0
Subject: Re: [Intel-gfx] [PATCH 8/8] drm/i915: Pimp the FBC debugfs output
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

T24gV2VkLCAxNCBBcHIgMjAyMSwgVmlsbGUgU3lyamFsYSA8dmlsbGUuc3lyamFsYUBsaW51eC5p
bnRlbC5jb20+IHdyb3RlOgo+IEZyb206IFZpbGxlIFN5cmrDpGzDpCA8dmlsbGUuc3lyamFsYUBs
aW51eC5pbnRlbC5jb20+Cj4KPiBOb3cgdGhhdCBlYWNoIHBpcGUgdHJhY2tzIGl0cyBvd24gbm9f
ZmJjX3JlYXNvbiB3ZSBjYW4gcHJpbnQgdGhhdAo+IG91dCBpbiBkZWJ1Z2ZzLCBhbmQgd2UgY2Fu
IGFsc28gc2hvdyB3aGljaCBwaXBlIGlzIGN1cnJlbnRseQo+IHNlbGVjdGVkIGZvciBGQkMgZHV0
eS4KPgo+IFNpZ25lZC1vZmYtYnk6IFZpbGxlIFN5cmrDpGzDpCA8dmlsbGUuc3lyamFsYUBsaW51
eC5pbnRlbC5jb20+Cj4gLS0tCj4gIC4uLi9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXlf
ZGVidWdmcy5jICB8IDUwICsrKysrKysrKysrKystLS0tLS0KPiAgMSBmaWxlIGNoYW5nZWQsIDM2
IGluc2VydGlvbnMoKyksIDE0IGRlbGV0aW9ucygtKQo+Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMv
Z3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheV9kZWJ1Z2ZzLmMgYi9kcml2ZXJzL2dw
dS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXlfZGVidWdmcy5jCj4gaW5kZXggMTgzYzQx
NGQ1NTRhLi4yNjMxN2U2NmNiOTUgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUv
ZGlzcGxheS9pbnRlbF9kaXNwbGF5X2RlYnVnZnMuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9p
OTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheV9kZWJ1Z2ZzLmMKPiBAQCAtMzgsMTUgKzM4LDM2IEBA
IHN0YXRpYyBpbnQgaTkxNV9mcm9udGJ1ZmZlcl90cmFja2luZyhzdHJ1Y3Qgc2VxX2ZpbGUgKm0s
IHZvaWQgKnVudXNlZCkKPiAgCXJldHVybiAwOwo+ICB9Cj4gIAo+ICtzdGF0aWMgYm9vbCBpOTE1
X2ZiY19pc19jb21wcmVzc2luZyhzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYpCj4g
K3sKPiArCWlmICghaW50ZWxfZmJjX2lzX2FjdGl2ZShkZXZfcHJpdikpCj4gKwkJcmV0dXJuIGZh
bHNlOwo+ICsKPiArCWlmIChESVNQTEFZX1ZFUihkZXZfcHJpdikgPj0gOCkKPiArCQlyZXR1cm4g
aW50ZWxfZGVfcmVhZChkZXZfcHJpdiwgSVZCX0ZCQ19TVEFUVVMyKSAmIEJEV19GQkNfQ09NUF9T
RUdfTUFTSzsKPiArCWVsc2UgaWYgKERJU1BMQVlfVkVSKGRldl9wcml2KSA+PSA3KQo+ICsJCXJl
dHVybiBpbnRlbF9kZV9yZWFkKGRldl9wcml2LCBJVkJfRkJDX1NUQVRVUzIpICYgSVZCX0ZCQ19D
T01QX1NFR19NQVNLOwo+ICsJZWxzZSBpZiAoRElTUExBWV9WRVIoZGV2X3ByaXYpID49IDUpCj4g
KwkJcmV0dXJuIGludGVsX2RlX3JlYWQoZGV2X3ByaXYsIElMS19EUEZDX1NUQVRVUykgJiBJTEtf
RFBGQ19DT01QX1NFR19NQVNLOwo+ICsJZWxzZSBpZiAoSVNfRzRYKGRldl9wcml2KSkKPiArCQly
ZXR1cm4gaW50ZWxfZGVfcmVhZChkZXZfcHJpdiwgRFBGQ19TVEFUVVMpICYgRFBGQ19DT01QX1NF
R19NQVNLOwo+ICsJZWxzZQo+ICsJCXJldHVybiBpbnRlbF9kZV9yZWFkKGRldl9wcml2LCBGQkNf
U1RBVFVTKSAmCj4gKwkJCShGQkNfU1RBVF9DT01QUkVTU0lORyB8IEZCQ19TVEFUX0NPTVBSRVNT
RUQpOwo+ICt9CgpJIHdvdWxkbid0IG1pbmQgbW92aW5nIGRlYnVnZnMgaGVscGVycyBsaWtlIHRo
aXMgdG8gZmlsZXMgYnkgZmVhdHVyZSwKZS5nLiBpbnRlbF9mYmMuW2NoXSBpbiB0aGlzIGNhc2Uu
IFRoaXMgb25lIGNvdWxkIGp1c3QgcmV0dXJuIGJvb2wgbGlrZQpoZXJlOyBpbiBzb21lIGNhc2Vz
IEknbSBzdGFydGluZyB0byB0aGluayBwYXNzaW5nIHN0cnVjdCBzZXFfZmlsZSAqIGFuZApoYXZp
bmcgdGhlIGhlbHBlciBwcmludCB0aGVyZSB3b3VsZCBtYWtlIHNlbnNlLgoKQlIsCkphbmkuCgoK
PiArCj4gIHN0YXRpYyBpbnQgaTkxNV9mYmNfc3RhdHVzKHN0cnVjdCBzZXFfZmlsZSAqbSwgdm9p
ZCAqdW51c2VkKQo+ICB7Cj4gIAlzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYgPSBu
b2RlX3RvX2k5MTUobS0+cHJpdmF0ZSk7Cj4gIAlzdHJ1Y3QgaW50ZWxfZmJjICpmYmMgPSAmZGV2
X3ByaXYtPmZiYzsKPiArCXN0cnVjdCBpbnRlbF9jcnRjICpjcnRjOwo+ICAJaW50ZWxfd2FrZXJl
Zl90IHdha2VyZWY7Cj4gIAo+ICAJaWYgKCFIQVNfRkJDKGRldl9wcml2KSkKPiAgCQlyZXR1cm4g
LUVOT0RFVjsKPiAgCj4gKwlkcm1fbW9kZXNldF9sb2NrX2FsbCgmZGV2X3ByaXYtPmRybSk7Cj4g
Kwo+ICAJd2FrZXJlZiA9IGludGVsX3J1bnRpbWVfcG1fZ2V0KCZkZXZfcHJpdi0+cnVudGltZV9w
bSk7Cj4gIAltdXRleF9sb2NrKCZmYmMtPmxvY2spOwo+ICAKPiBAQCAtNTUsMjcgKzc2LDI4IEBA
IHN0YXRpYyBpbnQgaTkxNV9mYmNfc3RhdHVzKHN0cnVjdCBzZXFfZmlsZSAqbSwgdm9pZCAqdW51
c2VkKQo+ICAJZWxzZQo+ICAJCXNlcV9wcmludGYobSwgIkZCQyBkaXNhYmxlZDogJXNcbiIsIGZi
Yy0+bm9fZmJjX3JlYXNvbik7Cj4gIAo+IC0JaWYgKGludGVsX2ZiY19pc19hY3RpdmUoZGV2X3By
aXYpKSB7Cj4gLQkJdTMyIG1hc2s7Cj4gKwlzZXFfcHJpbnRmKG0sICJDb21wcmVzc2luZzogJXNc
biIsIHllc25vKGk5MTVfZmJjX2lzX2NvbXByZXNzaW5nKGRldl9wcml2KSkpOwo+ICAKPiAtCQlp
ZiAoRElTUExBWV9WRVIoZGV2X3ByaXYpID49IDgpCj4gLQkJCW1hc2sgPSBpbnRlbF9kZV9yZWFk
KGRldl9wcml2LCBJVkJfRkJDX1NUQVRVUzIpICYgQkRXX0ZCQ19DT01QX1NFR19NQVNLOwo+IC0J
CWVsc2UgaWYgKERJU1BMQVlfVkVSKGRldl9wcml2KSA+PSA3KQo+IC0JCQltYXNrID0gaW50ZWxf
ZGVfcmVhZChkZXZfcHJpdiwgSVZCX0ZCQ19TVEFUVVMyKSAmIElWQl9GQkNfQ09NUF9TRUdfTUFT
SzsKPiAtCQllbHNlIGlmIChESVNQTEFZX1ZFUihkZXZfcHJpdikgPj0gNSkKPiAtCQkJbWFzayA9
IGludGVsX2RlX3JlYWQoZGV2X3ByaXYsIElMS19EUEZDX1NUQVRVUykgJiBJTEtfRFBGQ19DT01Q
X1NFR19NQVNLOwo+IC0JCWVsc2UgaWYgKElTX0c0WChkZXZfcHJpdikpCj4gLQkJCW1hc2sgPSBp
bnRlbF9kZV9yZWFkKGRldl9wcml2LCBEUEZDX1NUQVRVUykgJiBEUEZDX0NPTVBfU0VHX01BU0s7
Cj4gLQkJZWxzZQo+IC0JCQltYXNrID0gaW50ZWxfZGVfcmVhZChkZXZfcHJpdiwgRkJDX1NUQVRV
UykgJgo+IC0JCQkJKEZCQ19TVEFUX0NPTVBSRVNTSU5HIHwgRkJDX1NUQVRfQ09NUFJFU1NFRCk7
Cj4gKwlmb3JfZWFjaF9pbnRlbF9jcnRjKCZkZXZfcHJpdi0+ZHJtLCBjcnRjKSB7Cj4gKwkJc3Ry
dWN0IGludGVsX3BsYW5lICpwbGFuZSA9IHRvX2ludGVsX3BsYW5lKGNydGMtPmJhc2UucHJpbWFy
eSk7Cj4gKwkJY29uc3Qgc3RydWN0IGludGVsX2NydGNfc3RhdGUgKmNydGNfc3RhdGUgPQo+ICsJ
CQl0b19pbnRlbF9jcnRjX3N0YXRlKGNydGMtPmJhc2Uuc3RhdGUpOwo+ICAKPiAtCQlzZXFfcHJp
bnRmKG0sICJDb21wcmVzc2luZzogJXNcbiIsIHllc25vKG1hc2spKTsKPiArCQlpZiAoIXBsYW5l
LT5oYXNfZmJjKQo+ICsJCQljb250aW51ZTsKPiArCj4gKwkJc2VxX3ByaW50ZihtLCAiJWMgW0NS
VEM6JWQ6JXNdL1tQTEFORTolZDolc106ICVzXG4iLAo+ICsJCQkgICBmYmMtPmNydGMgPT0gY3J0
YyA/ICcqJyA6ICcgJywKPiArCQkJICAgY3J0Yy0+YmFzZS5iYXNlLmlkLCBjcnRjLT5iYXNlLm5h
bWUsCj4gKwkJCSAgIHBsYW5lLT5iYXNlLmJhc2UuaWQsIHBsYW5lLT5iYXNlLm5hbWUsCj4gKwkJ
CSAgIGNydGNfc3RhdGUtPm5vX2ZiY19yZWFzb24gPzogIkZCQyBwb3NzaWJsZSIpOwo+ICAJfQo+
ICAKPiAgCW11dGV4X3VubG9jaygmZmJjLT5sb2NrKTsKPiAgCWludGVsX3J1bnRpbWVfcG1fcHV0
KCZkZXZfcHJpdi0+cnVudGltZV9wbSwgd2FrZXJlZik7Cj4gIAo+ICsJZHJtX21vZGVzZXRfdW5s
b2NrX2FsbCgmZGV2X3ByaXYtPmRybSk7Cj4gKwo+ICAJcmV0dXJuIDA7Cj4gIH0KCi0tIApKYW5p
IE5pa3VsYSwgSW50ZWwgT3BlbiBTb3VyY2UgR3JhcGhpY3MgQ2VudGVyCl9fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCkludGVsLWdmeCBtYWlsaW5nIGxpc3QK
SW50ZWwtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9w
Lm9yZy9tYWlsbWFuL2xpc3RpbmZvL2ludGVsLWdmeAo=

Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 617A1CE8B2
	for <lists+intel-gfx@lfdr.de>; Mon,  7 Oct 2019 18:09:41 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id AA8E26E209;
	Mon,  7 Oct 2019 16:09:39 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga06.intel.com (mga06.intel.com [134.134.136.31])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 75D8C6E200
 for <intel-gfx@lists.freedesktop.org>; Mon,  7 Oct 2019 16:09:36 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga004.jf.intel.com ([10.7.209.38])
 by orsmga104.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 07 Oct 2019 09:09:35 -0700
X-IronPort-AV: E=Sophos;i="5.67,268,1566889200"; d="scan'208";a="344774504"
Received: from hemavenk-mobl1.ger.corp.intel.com (HELO [10.251.81.25])
 ([10.251.81.25])
 by orsmga004-auth.jf.intel.com with ESMTP/TLS/AES256-SHA;
 07 Oct 2019 09:09:34 -0700
To: Chris Wilson <chris@chris-wilson.co.uk>, intel-gfx@lists.freedesktop.org
References: <20191007154531.1750-1-chris@chris-wilson.co.uk>
From: Tvrtko Ursulin <tvrtko.ursulin@linux.intel.com>
Organization: Intel Corporation UK Plc
Message-ID: <eb6d69bf-daa6-c485-a866-894d68a21fbf@linux.intel.com>
Date: Mon, 7 Oct 2019 17:09:32 +0100
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101
 Thunderbird/60.8.0
MIME-Version: 1.0
In-Reply-To: <20191007154531.1750-1-chris@chris-wilson.co.uk>
Content-Language: en-US
Subject: Re: [Intel-gfx] [PATCH] drm/i915/gt: Prefer local path to runtime
 powermanagement
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

Ck9uIDA3LzEwLzIwMTkgMTY6NDUsIENocmlzIFdpbHNvbiB3cm90ZToKPiBBdm9pZCBnb2luZyB0
byB0aGUgYmFzZSBpOTE1IGRldmljZSB3aGVuIHdlIGFscmVhZHkgaGF2ZSBhIHBhdGggZnJvbSBn
dAo+IHRvIHRoZSBydW50aW1lIHBvd2VybWFuYWdlbWVudCBpbnRlcmZhY2UuIFRoZSBiZW5lZml0
IGlzIHRoYXQgaXQgbG9va3MgYQo+IGJpdCBtb3JlIHNlbGYtY29uc2lzdGVudCB0byBhbHdheXMg
YmUgYWNxdWlyaW5nIHRoZSBndC0+dW5jb3JlLT5ycG0gZm9yCj4gdXNlIHdpdGggdGhlIGd0LT51
bmNvcmUuCj4gCj4gU2lnbmVkLW9mZi1ieTogQ2hyaXMgV2lsc29uIDxjaHJpc0BjaHJpcy13aWxz
b24uY28udWs+Cj4gQ2M6IERhbmllbGUgQ2VyYW9sbyBTcHVyaW8gPGRhbmllbGUuY2VyYW9sb3Nw
dXJpb0BpbnRlbC5jb20+Cj4gQ2M6IFR2cnRrbyBVcnN1bGluIDx0dnJ0a28udXJzdWxpbkBpbnRl
bC5jb20+Cj4gLS0tCj4gICBkcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9jb250ZXh0LmMg
ICAgICAgIHwgMiArLQo+ICAgZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZW5naW5lX2Nz
LmMgICAgICB8IDQgKystLQo+ICAgZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZW5naW5l
X3BtLmMgICAgICB8IDIgKy0KPiAgIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2d0LmMg
ICAgICAgICAgICAgfCA3ICsrKy0tLS0KPiAgIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVs
X2d0X3BtLmMgICAgICAgICAgfCA0ICsrLS0KPiAgIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2lu
dGVsX2hhbmdjaGVjay5jICAgICAgfCA0ICsrLS0KPiAgIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2d0
L2ludGVsX3Jlc2V0LmMgICAgICAgICAgfCA2ICsrKy0tLQo+ICAgZHJpdmVycy9ncHUvZHJtL2k5
MTUvZ3Qvc2VsZnRlc3RfaGFuZ2NoZWNrLmMgICB8IDQgKystLQo+ICAgZHJpdmVycy9ncHUvZHJt
L2k5MTUvZ3Qvc2VsZnRlc3RfcmVzZXQuYyAgICAgICB8IDggKysrKy0tLS0KPiAgIGRyaXZlcnMv
Z3B1L2RybS9pOTE1L2d0L3NlbGZ0ZXN0X3dvcmthcm91bmRzLmMgfCA0ICsrLS0KPiAgIGRyaXZl
cnMvZ3B1L2RybS9pOTE1L2d0L3VjL2ludGVsX2d1Y19sb2cuYyAgICAgfCAzICstLQo+ICAgZHJp
dmVycy9ncHUvZHJtL2k5MTUvZ3QvdWMvaW50ZWxfaHVjLmMgICAgICAgICB8IDIgKy0KPiAgIGRy
aXZlcnMvZ3B1L2RybS9pOTE1L2d0L3VjL2ludGVsX3VjLmMgICAgICAgICAgfCAyICstCj4gICBk
cml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2lycS5jICAgICAgICAgICAgICAgIHwgNiArKystLS0K
PiAgIDE0IGZpbGVzIGNoYW5nZWQsIDI4IGluc2VydGlvbnMoKyksIDMwIGRlbGV0aW9ucygtKQo+
IAo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9jb250ZXh0LmMg
Yi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9jb250ZXh0LmMKPiBpbmRleCBiZTM0ZDk3
YWMxOGYuLjEyMjVjNGI4ZTlhYSAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9n
dC9pbnRlbF9jb250ZXh0LmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9j
b250ZXh0LmMKPiBAQCAtNjIsNyArNjIsNyBAQCBpbnQgX19pbnRlbF9jb250ZXh0X2RvX3Bpbihz
dHJ1Y3QgaW50ZWxfY29udGV4dCAqY2UpCj4gICAJCX0KPiAgIAo+ICAgCQllcnIgPSAwOwo+IC0J
CXdpdGhfaW50ZWxfcnVudGltZV9wbSgmY2UtPmVuZ2luZS0+aTkxNS0+cnVudGltZV9wbSwgd2Fr
ZXJlZikKPiArCQl3aXRoX2ludGVsX3J1bnRpbWVfcG0oY2UtPmVuZ2luZS0+Z3QtPnVuY29yZS0+
cnBtLCB3YWtlcmVmKQo+ICAgCQkJZXJyID0gY2UtPm9wcy0+cGluKGNlKTsKPiAgIAkJaWYgKGVy
cikKPiAgIAkJCWdvdG8gZXJyOwo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9n
dC9pbnRlbF9lbmdpbmVfY3MuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2VuZ2lu
ZV9jcy5jCj4gaW5kZXggODBmZDA3MmFjNzE5Li5kMTBkMTNkMDI4MmYgMTAwNjQ0Cj4gLS0tIGEv
ZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZW5naW5lX2NzLmMKPiArKysgYi9kcml2ZXJz
L2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9lbmdpbmVfY3MuYwo+IEBAIC0xNDU4LDEwICsxNDU4LDEw
IEBAIHZvaWQgaW50ZWxfZW5naW5lX2R1bXAoc3RydWN0IGludGVsX2VuZ2luZV9jcyAqZW5naW5l
LAo+ICAgCXNwaW5fdW5sb2NrX2lycXJlc3RvcmUoJmVuZ2luZS0+YWN0aXZlLmxvY2ssIGZsYWdz
KTsKPiAgIAo+ICAgCWRybV9wcmludGYobSwgIlx0TU1JTyBiYXNlOiAgMHglMDh4XG4iLCBlbmdp
bmUtPm1taW9fYmFzZSk7Cj4gLQl3YWtlcmVmID0gaW50ZWxfcnVudGltZV9wbV9nZXRfaWZfaW5f
dXNlKCZlbmdpbmUtPmk5MTUtPnJ1bnRpbWVfcG0pOwo+ICsJd2FrZXJlZiA9IGludGVsX3J1bnRp
bWVfcG1fZ2V0X2lmX2luX3VzZShlbmdpbmUtPmd0LT51bmNvcmUtPnJwbSk7Cj4gICAJaWYgKHdh
a2VyZWYpIHsKPiAgIAkJaW50ZWxfZW5naW5lX3ByaW50X3JlZ2lzdGVycyhlbmdpbmUsIG0pOwo+
IC0JCWludGVsX3J1bnRpbWVfcG1fcHV0KCZlbmdpbmUtPmk5MTUtPnJ1bnRpbWVfcG0sIHdha2Vy
ZWYpOwo+ICsJCWludGVsX3J1bnRpbWVfcG1fcHV0KGVuZ2luZS0+Z3QtPnVuY29yZS0+cnBtLCB3
YWtlcmVmKTsKPiAgIAl9IGVsc2Ugewo+ICAgCQlkcm1fcHJpbnRmKG0sICJcdERldmljZSBpcyBh
c2xlZXA7IHNraXBwaW5nIHJlZ2lzdGVyIGR1bXBcbiIpOwo+ICAgCX0KPiBkaWZmIC0tZ2l0IGEv
ZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZW5naW5lX3BtLmMgYi9kcml2ZXJzL2dwdS9k
cm0vaTkxNS9ndC9pbnRlbF9lbmdpbmVfcG0uYwo+IGluZGV4IDhlNWU1MTNlZGRjOS4uNDNmYzdj
ZTNmNTRlIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2VuZ2lu
ZV9wbS5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZW5naW5lX3BtLmMK
PiBAQCAtMTg1LDcgKzE4NSw3IEBAIHN0YXRpYyBjb25zdCBzdHJ1Y3QgaW50ZWxfd2FrZXJlZl9v
cHMgd2Zfb3BzID0gewo+ICAgCj4gICB2b2lkIGludGVsX2VuZ2luZV9pbml0X19wbShzdHJ1Y3Qg
aW50ZWxfZW5naW5lX2NzICplbmdpbmUpCj4gICB7Cj4gLQlzdHJ1Y3QgaW50ZWxfcnVudGltZV9w
bSAqcnBtID0gJmVuZ2luZS0+aTkxNS0+cnVudGltZV9wbTsKPiArCXN0cnVjdCBpbnRlbF9ydW50
aW1lX3BtICpycG0gPSBlbmdpbmUtPmd0LT51bmNvcmUtPnJwbTsKPiAgIAo+ICAgCWludGVsX3dh
a2VyZWZfaW5pdCgmZW5naW5lLT53YWtlcmVmLCBycG0sICZ3Zl9vcHMpOwo+ICAgfQo+IGRpZmYg
LS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9ndC5jIGIvZHJpdmVycy9ncHUv
ZHJtL2k5MTUvZ3QvaW50ZWxfZ3QuYwo+IGluZGV4IDhmNDRjZjhjNzliMi4uYjM2MTlhMmE1ZDBl
IDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2d0LmMKPiArKysg
Yi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9ndC5jCj4gQEAgLTI3Myw3ICsyNzMsNyBA
QCB2b2lkIGludGVsX2d0X2NoZWNrX2FuZF9jbGVhcl9mYXVsdHMoc3RydWN0IGludGVsX2d0ICpn
dCkKPiAgIAo+ICAgdm9pZCBpbnRlbF9ndF9mbHVzaF9nZ3R0X3dyaXRlcyhzdHJ1Y3QgaW50ZWxf
Z3QgKmd0KQo+ICAgewo+IC0Jc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUgPSBndC0+aTkx
NTsKPiArCXN0cnVjdCBpbnRlbF91bmNvcmUgKnVuY29yZSA9IGd0LT51bmNvcmU7Cj4gICAJaW50
ZWxfd2FrZXJlZl90IHdha2VyZWY7Cj4gICAKPiAgIAkvKgo+IEBAIC0yOTcsMTMgKzI5NywxMiBA
QCB2b2lkIGludGVsX2d0X2ZsdXNoX2dndHRfd3JpdGVzKHN0cnVjdCBpbnRlbF9ndCAqZ3QpCj4g
ICAKPiAgIAl3bWIoKTsKPiAgIAo+IC0JaWYgKElOVEVMX0lORk8oaTkxNSktPmhhc19jb2hlcmVu
dF9nZ3R0KQo+ICsJaWYgKElOVEVMX0lORk8oZ3QtPmk5MTUpLT5oYXNfY29oZXJlbnRfZ2d0dCkK
PiAgIAkJcmV0dXJuOwo+ICAgCj4gICAJaW50ZWxfZ3RfY2hpcHNldF9mbHVzaChndCk7Cj4gICAK
PiAtCXdpdGhfaW50ZWxfcnVudGltZV9wbSgmaTkxNS0+cnVudGltZV9wbSwgd2FrZXJlZikgewo+
IC0JCXN0cnVjdCBpbnRlbF91bmNvcmUgKnVuY29yZSA9IGd0LT51bmNvcmU7Cj4gKwl3aXRoX2lu
dGVsX3J1bnRpbWVfcG0odW5jb3JlLT5ycG0sIHdha2VyZWYpIHsKPiAgIAkJdW5zaWduZWQgbG9u
ZyBmbGFnczsKPiAgIAo+ICAgCQlzcGluX2xvY2tfaXJxc2F2ZSgmdW5jb3JlLT5sb2NrLCBmbGFn
cyk7Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2d0X3BtLmMg
Yi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9ndF9wbS5jCj4gaW5kZXggYjUyZTJiYTNk
MDkyLi44N2UzNGUwYjY0MjcgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3Qv
aW50ZWxfZ3RfcG0uYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2d0X3Bt
LmMKPiBAQCAtOTQsNyArOTQsNyBAQCBzdGF0aWMgY29uc3Qgc3RydWN0IGludGVsX3dha2VyZWZf
b3BzIHdmX29wcyA9IHsKPiAgIAo+ICAgdm9pZCBpbnRlbF9ndF9wbV9pbml0X2Vhcmx5KHN0cnVj
dCBpbnRlbF9ndCAqZ3QpCj4gICB7Cj4gLQlpbnRlbF93YWtlcmVmX2luaXQoJmd0LT53YWtlcmVm
LCAmZ3QtPmk5MTUtPnJ1bnRpbWVfcG0sICZ3Zl9vcHMpOwo+ICsJaW50ZWxfd2FrZXJlZl9pbml0
KCZndC0+d2FrZXJlZiwgZ3QtPnVuY29yZS0+cnBtLCAmd2Zfb3BzKTsKPiAgIAo+ICAgCUJMT0NL
SU5HX0lOSVRfTk9USUZJRVJfSEVBRCgmZ3QtPnBtX25vdGlmaWNhdGlvbnMpOwo+ICAgfQo+IEBA
IC0yMjIsNyArMjIyLDcgQEAgdm9pZCBpbnRlbF9ndF9zdXNwZW5kKHN0cnVjdCBpbnRlbF9ndCAq
Z3QpCj4gICAJLyogV2UgZXhwZWN0IHRvIGJlIGlkbGUgYWxyZWFkeTsgYnV0IGFsc28gd2FudCB0
byBiZSBpbmRlcGVuZGVudCAqLwo+ICAgCXdhaXRfZm9yX2lkbGUoZ3QpOwo+ICAgCj4gLQl3aXRo
X2ludGVsX3J1bnRpbWVfcG0oJmd0LT5pOTE1LT5ydW50aW1lX3BtLCB3YWtlcmVmKQo+ICsJd2l0
aF9pbnRlbF9ydW50aW1lX3BtKGd0LT51bmNvcmUtPnJwbSwgd2FrZXJlZikKPiAgIAkJaW50ZWxf
cmM2X2Rpc2FibGUoJmd0LT5yYzYpOwo+ICAgfQo+ICAgCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMv
Z3B1L2RybS9pOTE1L2d0L2ludGVsX2hhbmdjaGVjay5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUv
Z3QvaW50ZWxfaGFuZ2NoZWNrLmMKPiBpbmRleCA5ODE0YjE4YjMyYWQuLmMxNGRiZWIzY2NjMyAx
MDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9oYW5nY2hlY2suYwo+
ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2hhbmdjaGVjay5jCj4gQEAgLTI3
MSw3ICsyNzEsNyBAQCBzdGF0aWMgdm9pZCBoYW5nY2hlY2tfZWxhcHNlZChzdHJ1Y3Qgd29ya19z
dHJ1Y3QgKndvcmspCj4gICAJaWYgKGludGVsX2d0X2lzX3dlZGdlZChndCkpCj4gICAJCXJldHVy
bjsKPiAgIAo+IC0Jd2FrZXJlZiA9IGludGVsX3J1bnRpbWVfcG1fZ2V0X2lmX2luX3VzZSgmZ3Qt
Pmk5MTUtPnJ1bnRpbWVfcG0pOwo+ICsJd2FrZXJlZiA9IGludGVsX3J1bnRpbWVfcG1fZ2V0X2lm
X2luX3VzZShndC0+dW5jb3JlLT5ycG0pOwo+ICAgCWlmICghd2FrZXJlZikKPiAgIAkJcmV0dXJu
Owo+ICAgCj4gQEAgLTMyMiw3ICszMjIsNyBAQCBzdGF0aWMgdm9pZCBoYW5nY2hlY2tfZWxhcHNl
ZChzdHJ1Y3Qgd29ya19zdHJ1Y3QgKndvcmspCj4gICAJaWYgKGh1bmcpCj4gICAJCWhhbmdjaGVj
a19kZWNsYXJlX2hhbmcoZ3QsIGh1bmcsIHN0dWNrKTsKPiAgIAo+IC0JaW50ZWxfcnVudGltZV9w
bV9wdXQoJmd0LT5pOTE1LT5ydW50aW1lX3BtLCB3YWtlcmVmKTsKPiArCWludGVsX3J1bnRpbWVf
cG1fcHV0KGd0LT51bmNvcmUtPnJwbSwgd2FrZXJlZik7Cj4gICAKPiAgIAkvKiBSZXNldCB0aW1l
ciBpbiBjYXNlIEdQVSBoYW5ncyB3aXRob3V0IGFub3RoZXIgcmVxdWVzdCBiZWluZyBhZGRlZCAq
Lwo+ICAgCWludGVsX2d0X3F1ZXVlX2hhbmdjaGVjayhndCk7Cj4gZGlmZiAtLWdpdCBhL2RyaXZl
cnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX3Jlc2V0LmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9n
dC9pbnRlbF9yZXNldC5jCj4gaW5kZXggN2IzZDlkNDUxN2EwLi45ZTM5ODI5YTZjNGQgMTAwNjQ0
Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfcmVzZXQuYwo+ICsrKyBiL2Ry
aXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX3Jlc2V0LmMKPiBAQCAtODExLDcgKzgxMSw3IEBA
IHZvaWQgaW50ZWxfZ3Rfc2V0X3dlZGdlZChzdHJ1Y3QgaW50ZWxfZ3QgKmd0KQo+ICAgCWludGVs
X3dha2VyZWZfdCB3YWtlcmVmOwo+ICAgCj4gICAJbXV0ZXhfbG9jaygmZ3QtPnJlc2V0Lm11dGV4
KTsKPiAtCXdpdGhfaW50ZWxfcnVudGltZV9wbSgmZ3QtPmk5MTUtPnJ1bnRpbWVfcG0sIHdha2Vy
ZWYpCj4gKwl3aXRoX2ludGVsX3J1bnRpbWVfcG0oZ3QtPnVuY29yZS0+cnBtLCB3YWtlcmVmKQo+
ICAgCQlfX2ludGVsX2d0X3NldF93ZWRnZWQoZ3QpOwo+ICAgCW11dGV4X3VubG9jaygmZ3QtPnJl
c2V0Lm11dGV4KTsKPiAgIH0KPiBAQCAtMTE4Niw3ICsxMTg2LDcgQEAgdm9pZCBpbnRlbF9ndF9o
YW5kbGVfZXJyb3Ioc3RydWN0IGludGVsX2d0ICpndCwKPiAgIAkgKiBpc24ndCB0aGUgY2FzZSBh
dCBsZWFzdCB3aGVuIHdlIGdldCBoZXJlIGJ5IGRvaW5nIGEKPiAgIAkgKiBzaW11bGF0ZWQgcmVz
ZXQgdmlhIGRlYnVnZnMsIHNvIGdldCBhbiBSUE0gcmVmZXJlbmNlLgo+ICAgCSAqLwo+IC0Jd2Fr
ZXJlZiA9IGludGVsX3J1bnRpbWVfcG1fZ2V0KCZndC0+aTkxNS0+cnVudGltZV9wbSk7Cj4gKwl3
YWtlcmVmID0gaW50ZWxfcnVudGltZV9wbV9nZXQoZ3QtPnVuY29yZS0+cnBtKTsKPiAgIAo+ICAg
CWVuZ2luZV9tYXNrICY9IElOVEVMX0lORk8oZ3QtPmk5MTUpLT5lbmdpbmVfbWFzazsKPiAgIAo+
IEBAIC0xMjQ2LDcgKzEyNDYsNyBAQCB2b2lkIGludGVsX2d0X2hhbmRsZV9lcnJvcihzdHJ1Y3Qg
aW50ZWxfZ3QgKmd0LAo+ICAgCXdha2VfdXBfYWxsKCZndC0+cmVzZXQucXVldWUpOwo+ICAgCj4g
ICBvdXQ6Cj4gLQlpbnRlbF9ydW50aW1lX3BtX3B1dCgmZ3QtPmk5MTUtPnJ1bnRpbWVfcG0sIHdh
a2VyZWYpOwo+ICsJaW50ZWxfcnVudGltZV9wbV9wdXQoZ3QtPnVuY29yZS0+cnBtLCB3YWtlcmVm
KTsKPiAgIH0KPiAgIAo+ICAgaW50IGludGVsX2d0X3Jlc2V0X3RyeWxvY2soc3RydWN0IGludGVs
X2d0ICpndCwgaW50ICpzcmN1KQo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9n
dC9zZWxmdGVzdF9oYW5nY2hlY2suYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L3NlbGZ0ZXN0
X2hhbmdjaGVjay5jCj4gaW5kZXggZThhNDBkZjc5YmQwLi41NjlhNDEwNWQ0OWUgMTAwNjQ0Cj4g
LS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3Qvc2VsZnRlc3RfaGFuZ2NoZWNrLmMKPiArKysg
Yi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9zZWxmdGVzdF9oYW5nY2hlY2suYwo+IEBAIC0xNjk1
LDE0ICsxNjk1LDE0IEBAIGludCBpbnRlbF9oYW5nY2hlY2tfbGl2ZV9zZWxmdGVzdHMoc3RydWN0
IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUpCj4gICAJaWYgKGludGVsX2d0X2lzX3dlZGdlZChndCkp
Cj4gICAJCXJldHVybiAtRUlPOyAvKiB3ZSdyZSBsb25nIHBhc3QgaG9wZSBvZiBhIHN1Y2Nlc3Nm
dWwgcmVzZXQgKi8KPiAgIAo+IC0Jd2FrZXJlZiA9IGludGVsX3J1bnRpbWVfcG1fZ2V0KCZndC0+
aTkxNS0+cnVudGltZV9wbSk7Cj4gKwl3YWtlcmVmID0gaW50ZWxfcnVudGltZV9wbV9nZXQoZ3Qt
PnVuY29yZS0+cnBtKTsKPiAgIAlzYXZlZF9oYW5nY2hlY2sgPSBmZXRjaF9hbmRfemVybygmaTkx
NV9tb2RwYXJhbXMuZW5hYmxlX2hhbmdjaGVjayk7Cj4gICAJZHJhaW5fZGVsYXllZF93b3JrKCZn
dC0+aGFuZ2NoZWNrLndvcmspOyAvKiBmbHVzaCBwYXJhbSAqLwo+ICAgCj4gICAJZXJyID0gaW50
ZWxfZ3RfbGl2ZV9zdWJ0ZXN0cyh0ZXN0cywgZ3QpOwo+ICAgCj4gICAJaTkxNV9tb2RwYXJhbXMu
ZW5hYmxlX2hhbmdjaGVjayA9IHNhdmVkX2hhbmdjaGVjazsKPiAtCWludGVsX3J1bnRpbWVfcG1f
cHV0KCZndC0+aTkxNS0+cnVudGltZV9wbSwgd2FrZXJlZik7Cj4gKwlpbnRlbF9ydW50aW1lX3Bt
X3B1dChndC0+dW5jb3JlLT5ycG0sIHdha2VyZWYpOwo+ICAgCj4gICAJcmV0dXJuIGVycjsKPiAg
IH0KPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3Qvc2VsZnRlc3RfcmVzZXQu
YyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L3NlbGZ0ZXN0X3Jlc2V0LmMKPiBpbmRleCBkNzk0
ODJkYjdmZTguLjQxOWIzOGZhNzgyOCAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkx
NS9ndC9zZWxmdGVzdF9yZXNldC5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3Qvc2Vs
ZnRlc3RfcmVzZXQuYwo+IEBAIC0xNyw3ICsxNyw3IEBAIHN0YXRpYyBpbnQgaWd0X2dsb2JhbF9y
ZXNldCh2b2lkICphcmcpCj4gICAJLyogQ2hlY2sgdGhhdCB3ZSBjYW4gaXNzdWUgYSBnbG9iYWwg
R1BVIHJlc2V0ICovCj4gICAKPiAgIAlpZ3RfZ2xvYmFsX3Jlc2V0X2xvY2soZ3QpOwo+IC0Jd2Fr
ZXJlZiA9IGludGVsX3J1bnRpbWVfcG1fZ2V0KCZndC0+aTkxNS0+cnVudGltZV9wbSk7Cj4gKwl3
YWtlcmVmID0gaW50ZWxfcnVudGltZV9wbV9nZXQoZ3QtPnVuY29yZS0+cnBtKTsKPiAgIAo+ICAg
CXJlc2V0X2NvdW50ID0gaTkxNV9yZXNldF9jb3VudCgmZ3QtPmk5MTUtPmdwdV9lcnJvcik7Cj4g
ICAKPiBAQCAtMjgsNyArMjgsNyBAQCBzdGF0aWMgaW50IGlndF9nbG9iYWxfcmVzZXQodm9pZCAq
YXJnKQo+ICAgCQllcnIgPSAtRUlOVkFMOwo+ICAgCX0KPiAgIAo+IC0JaW50ZWxfcnVudGltZV9w
bV9wdXQoJmd0LT5pOTE1LT5ydW50aW1lX3BtLCB3YWtlcmVmKTsKPiArCWludGVsX3J1bnRpbWVf
cG1fcHV0KGd0LT51bmNvcmUtPnJwbSwgd2FrZXJlZik7Cj4gICAJaWd0X2dsb2JhbF9yZXNldF91
bmxvY2soZ3QpOwo+ICAgCj4gICAJaWYgKGludGVsX2d0X2lzX3dlZGdlZChndCkpCj4gQEAgLTQ1
LDE0ICs0NSwxNCBAQCBzdGF0aWMgaW50IGlndF93ZWRnZWRfcmVzZXQodm9pZCAqYXJnKQo+ICAg
CS8qIENoZWNrIHRoYXQgd2UgY2FuIHJlY292ZXIgYSB3ZWRnZWQgZGV2aWNlIHdpdGggYSBHUFUg
cmVzZXQgKi8KPiAgIAo+ICAgCWlndF9nbG9iYWxfcmVzZXRfbG9jayhndCk7Cj4gLQl3YWtlcmVm
ID0gaW50ZWxfcnVudGltZV9wbV9nZXQoJmd0LT5pOTE1LT5ydW50aW1lX3BtKTsKPiArCXdha2Vy
ZWYgPSBpbnRlbF9ydW50aW1lX3BtX2dldChndC0+dW5jb3JlLT5ycG0pOwo+ICAgCj4gICAJaW50
ZWxfZ3Rfc2V0X3dlZGdlZChndCk7Cj4gICAKPiAgIAlHRU1fQlVHX09OKCFpbnRlbF9ndF9pc193
ZWRnZWQoZ3QpKTsKPiAgIAlpbnRlbF9ndF9yZXNldChndCwgQUxMX0VOR0lORVMsIE5VTEwpOwo+
ICAgCj4gLQlpbnRlbF9ydW50aW1lX3BtX3B1dCgmZ3QtPmk5MTUtPnJ1bnRpbWVfcG0sIHdha2Vy
ZWYpOwo+ICsJaW50ZWxfcnVudGltZV9wbV9wdXQoZ3QtPnVuY29yZS0+cnBtLCB3YWtlcmVmKTsK
PiAgIAlpZ3RfZ2xvYmFsX3Jlc2V0X3VubG9jayhndCk7Cj4gICAKPiAgIAlyZXR1cm4gaW50ZWxf
Z3RfaXNfd2VkZ2VkKGd0KSA/IC1FSU8gOiAwOwo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9k
cm0vaTkxNS9ndC9zZWxmdGVzdF93b3JrYXJvdW5kcy5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUv
Z3Qvc2VsZnRlc3Rfd29ya2Fyb3VuZHMuYwo+IGluZGV4IDk1NjI3ZTgwZjI0Ni4uZDM3YjBkNjc1
NDlkIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L3NlbGZ0ZXN0X3dvcmth
cm91bmRzLmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9zZWxmdGVzdF93b3JrYXJv
dW5kcy5jCj4gQEAgLTI1Niw3ICsyNTYsNyBAQCBzd2l0Y2hfdG9fc2NyYXRjaF9jb250ZXh0KHN0
cnVjdCBpbnRlbF9lbmdpbmVfY3MgKmVuZ2luZSwKPiAgIAlHRU1fQlVHX09OKElTX0VSUihjZSkp
Owo+ICAgCj4gICAJcnEgPSBFUlJfUFRSKC1FTk9ERVYpOwo+IC0Jd2l0aF9pbnRlbF9ydW50aW1l
X3BtKCZlbmdpbmUtPmk5MTUtPnJ1bnRpbWVfcG0sIHdha2VyZWYpCj4gKwl3aXRoX2ludGVsX3J1
bnRpbWVfcG0oZW5naW5lLT5ndC0+dW5jb3JlLT5ycG0sIHdha2VyZWYpCj4gICAJCXJxID0gaWd0
X3NwaW5uZXJfY3JlYXRlX3JlcXVlc3Qoc3BpbiwgY2UsIE1JX05PT1ApOwo+ICAgCj4gICAJaW50
ZWxfY29udGV4dF9wdXQoY2UpOwo+IEBAIC0zMTMsNyArMzEzLDcgQEAgc3RhdGljIGludCBjaGVj
a193aGl0ZWxpc3RfYWNyb3NzX3Jlc2V0KHN0cnVjdCBpbnRlbF9lbmdpbmVfY3MgKmVuZ2luZSwK
PiAgIAlpZiAoZXJyKQo+ICAgCQlnb3RvIG91dF9zcGluOwo+ICAgCj4gLQl3aXRoX2ludGVsX3J1
bnRpbWVfcG0oJmk5MTUtPnJ1bnRpbWVfcG0sIHdha2VyZWYpCj4gKwl3aXRoX2ludGVsX3J1bnRp
bWVfcG0oZW5naW5lLT5ndC0+dW5jb3JlLT5ycG0sIHdha2VyZWYpCj4gICAJCWVyciA9IHJlc2V0
KGVuZ2luZSk7Cj4gICAKPiAgIAlpZ3Rfc3Bpbm5lcl9lbmQoJnNwaW4pOwo+IGRpZmYgLS1naXQg
YS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC91Yy9pbnRlbF9ndWNfbG9nLmMgYi9kcml2ZXJzL2dw
dS9kcm0vaTkxNS9ndC91Yy9pbnRlbF9ndWNfbG9nLmMKPiBpbmRleCAzNjMzMjA2NGRlOWMuLjJj
ZjJkMzMxNGY2MiAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC91Yy9pbnRl
bF9ndWNfbG9nLmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC91Yy9pbnRlbF9ndWNf
bG9nLmMKPiBAQCAtNjA3LDcgKzYwNyw2IEBAIGludCBpbnRlbF9ndWNfbG9nX3JlbGF5X29wZW4o
c3RydWN0IGludGVsX2d1Y19sb2cgKmxvZykKPiAgIHZvaWQgaW50ZWxfZ3VjX2xvZ19yZWxheV9m
bHVzaChzdHJ1Y3QgaW50ZWxfZ3VjX2xvZyAqbG9nKQo+ICAgewo+ICAgCXN0cnVjdCBpbnRlbF9n
dWMgKmd1YyA9IGxvZ190b19ndWMobG9nKTsKPiAtCXN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpp
OTE1ID0gZ3VjX3RvX2d0KGd1YyktPmk5MTU7Cj4gICAJaW50ZWxfd2FrZXJlZl90IHdha2VyZWY7
Cj4gICAKPiAgIAkvKgo+IEBAIC02MTYsNyArNjE1LDcgQEAgdm9pZCBpbnRlbF9ndWNfbG9nX3Jl
bGF5X2ZsdXNoKHN0cnVjdCBpbnRlbF9ndWNfbG9nICpsb2cpCj4gICAJICovCj4gICAJZmx1c2hf
d29yaygmbG9nLT5yZWxheS5mbHVzaF93b3JrKTsKPiAgIAo+IC0Jd2l0aF9pbnRlbF9ydW50aW1l
X3BtKCZpOTE1LT5ydW50aW1lX3BtLCB3YWtlcmVmKQo+ICsJd2l0aF9pbnRlbF9ydW50aW1lX3Bt
KGd1Y190b19ndChndWMpLT51bmNvcmUtPnJwbSwgd2FrZXJlZikKPiAgIAkJZ3VjX2FjdGlvbl9m
bHVzaF9sb2coZ3VjKTsKPiAgIAo+ICAgCS8qIEd1QyB3b3VsZCBoYXZlIHVwZGF0ZWQgbG9nIGJ1
ZmZlciBieSBub3csIHNvIGNhcHR1cmUgaXQgKi8KPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUv
ZHJtL2k5MTUvZ3QvdWMvaW50ZWxfaHVjLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC91Yy9p
bnRlbF9odWMuYwo+IGluZGV4IGQ0NjI1Yzk3YjRmOS4uMzM2MDhhMTE0ZDRlIDEwMDY0NAo+IC0t
LSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L3VjL2ludGVsX2h1Yy5jCj4gKysrIGIvZHJpdmVy
cy9ncHUvZHJtL2k5MTUvZ3QvdWMvaW50ZWxfaHVjLmMKPiBAQCAtMTg1LDcgKzE4NSw3IEBAIGlu
dCBpbnRlbF9odWNfY2hlY2tfc3RhdHVzKHN0cnVjdCBpbnRlbF9odWMgKmh1YykKPiAgIAlpZiAo
IWludGVsX2h1Y19pc19zdXBwb3J0ZWQoaHVjKSkKPiAgIAkJcmV0dXJuIC1FTk9ERVY7Cj4gICAK
PiAtCXdpdGhfaW50ZWxfcnVudGltZV9wbSgmZ3QtPmk5MTUtPnJ1bnRpbWVfcG0sIHdha2VyZWYp
Cj4gKwl3aXRoX2ludGVsX3J1bnRpbWVfcG0oZ3QtPnVuY29yZS0+cnBtLCB3YWtlcmVmKQo+ICAg
CQlzdGF0dXMgPSBpbnRlbF91bmNvcmVfcmVhZChndC0+dW5jb3JlLCBodWMtPnN0YXR1cy5yZWcp
Owo+ICAgCj4gICAJcmV0dXJuIChzdGF0dXMgJiBodWMtPnN0YXR1cy5tYXNrKSA9PSBodWMtPnN0
YXR1cy52YWx1ZTsKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvdWMvaW50
ZWxfdWMuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L3VjL2ludGVsX3VjLmMKPiBpbmRleCAy
OWE5ZWVjNjBkMmUuLjNmZGJjOTM1ZDE1NSAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0v
aTkxNS9ndC91Yy9pbnRlbF91Yy5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvdWMv
aW50ZWxfdWMuYwo+IEBAIC01ODcsNyArNTg3LDcgQEAgdm9pZCBpbnRlbF91Y19zdXNwZW5kKHN0
cnVjdCBpbnRlbF91YyAqdWMpCj4gICAJaWYgKCFpbnRlbF9ndWNfaXNfcnVubmluZyhndWMpKQo+
ICAgCQlyZXR1cm47Cj4gICAKPiAtCXdpdGhfaW50ZWxfcnVudGltZV9wbSgmdWNfdG9fZ3QodWMp
LT5pOTE1LT5ydW50aW1lX3BtLCB3YWtlcmVmKQo+ICsJd2l0aF9pbnRlbF9ydW50aW1lX3BtKHVj
X3RvX2d0KHVjKS0+dW5jb3JlLT5ycG0sIHdha2VyZWYpCj4gICAJCWludGVsX3VjX3J1bnRpbWVf
c3VzcGVuZCh1Yyk7Cj4gICB9Cj4gICAKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5
MTUvaTkxNV9pcnEuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfaXJxLmMKPiBpbmRleCBm
MjM3MWI2MDgzYzYuLjNhZjdmNzkxNGM0MCAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0v
aTkxNS9pOTE1X2lycS5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9pcnEuYwo+
IEBAIC00MTIsNyArNDEyLDcgQEAgdm9pZCBnZW45X3Jlc2V0X2d1Y19pbnRlcnJ1cHRzKHN0cnVj
dCBpbnRlbF9ndWMgKmd1YykKPiAgIHsKPiAgIAlzdHJ1Y3QgaW50ZWxfZ3QgKmd0ID0gZ3VjX3Rv
X2d0KGd1Yyk7Cj4gICAKPiAtCWFzc2VydF9ycG1fd2FrZWxvY2tfaGVsZCgmZ3QtPmk5MTUtPnJ1
bnRpbWVfcG0pOwo+ICsJYXNzZXJ0X3JwbV93YWtlbG9ja19oZWxkKGd0LT51bmNvcmUtPnJwbSk7
Cj4gICAKPiAgIAlzcGluX2xvY2tfaXJxKCZndC0+aXJxX2xvY2spOwo+ICAgCWdlbjZfZ3RfcG1f
cmVzZXRfaWlyKGd0LCBndC0+cG1fZ3VjX2V2ZW50cyk7Cj4gQEAgLTQyMyw3ICs0MjMsNyBAQCB2
b2lkIGdlbjlfZW5hYmxlX2d1Y19pbnRlcnJ1cHRzKHN0cnVjdCBpbnRlbF9ndWMgKmd1YykKPiAg
IHsKPiAgIAlzdHJ1Y3QgaW50ZWxfZ3QgKmd0ID0gZ3VjX3RvX2d0KGd1Yyk7Cj4gICAKPiAtCWFz
c2VydF9ycG1fd2FrZWxvY2tfaGVsZCgmZ3QtPmk5MTUtPnJ1bnRpbWVfcG0pOwo+ICsJYXNzZXJ0
X3JwbV93YWtlbG9ja19oZWxkKGd0LT51bmNvcmUtPnJwbSk7Cj4gICAKPiAgIAlzcGluX2xvY2tf
aXJxKCZndC0+aXJxX2xvY2spOwo+ICAgCWlmICghZ3VjLT5pbnRlcnJ1cHRzLmVuYWJsZWQpIHsK
PiBAQCAtNDQwLDcgKzQ0MCw3IEBAIHZvaWQgZ2VuOV9kaXNhYmxlX2d1Y19pbnRlcnJ1cHRzKHN0
cnVjdCBpbnRlbF9ndWMgKmd1YykKPiAgIHsKPiAgIAlzdHJ1Y3QgaW50ZWxfZ3QgKmd0ID0gZ3Vj
X3RvX2d0KGd1Yyk7Cj4gICAKPiAtCWFzc2VydF9ycG1fd2FrZWxvY2tfaGVsZCgmZ3QtPmk5MTUt
PnJ1bnRpbWVfcG0pOwo+ICsJYXNzZXJ0X3JwbV93YWtlbG9ja19oZWxkKGd0LT51bmNvcmUtPnJw
bSk7Cj4gICAKPiAgIAlzcGluX2xvY2tfaXJxKCZndC0+aXJxX2xvY2spOwo+ICAgCWd1Yy0+aW50
ZXJydXB0cy5lbmFibGVkID0gZmFsc2U7Cj4gCgpSZXZpZXdlZC1ieTogVHZydGtvIFVyc3VsaW4g
PHR2cnRrby51cnN1bGluQGludGVsLmNvbT4KClJlZ2FyZHMsCgpUdnJ0a28KX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KSW50ZWwtZ2Z4IG1haWxpbmcgbGlz
dApJbnRlbC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0
b3Aub3JnL21haWxtYW4vbGlzdGluZm8vaW50ZWwtZ2Z4

Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 041EBF78D1
	for <lists+intel-gfx@lfdr.de>; Mon, 11 Nov 2019 17:31:17 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 9A24B6E94C;
	Mon, 11 Nov 2019 16:31:14 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga11.intel.com (mga11.intel.com [192.55.52.93])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 6940D6E94B
 for <intel-gfx@lists.freedesktop.org>; Mon, 11 Nov 2019 16:31:13 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga008.jf.intel.com ([10.7.209.65])
 by fmsmga102.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 11 Nov 2019 08:31:12 -0800
X-IronPort-AV: E=Sophos;i="5.68,293,1569308400"; d="scan'208";a="197717072"
Received: from mpotanix-mobl2.ccr.corp.intel.com (HELO [10.252.20.183])
 ([10.252.20.183])
 by orsmga008-auth.jf.intel.com with ESMTP/TLS/AES256-SHA;
 11 Nov 2019 08:31:11 -0800
To: Chris Wilson <chris@chris-wilson.co.uk>, intel-gfx@lists.freedesktop.org
References: <20191111133205.11590-1-chris@chris-wilson.co.uk>
 <20191111133205.11590-3-chris@chris-wilson.co.uk>
From: Tvrtko Ursulin <tvrtko.ursulin@linux.intel.com>
Organization: Intel Corporation UK Plc
Message-ID: <3261ff60-d953-d13b-bb42-5bf0972c6d2e@linux.intel.com>
Date: Mon, 11 Nov 2019 16:31:09 +0000
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101
 Thunderbird/60.9.0
MIME-Version: 1.0
In-Reply-To: <20191111133205.11590-3-chris@chris-wilson.co.uk>
Content-Language: en-US
Subject: Re: [Intel-gfx] [FIXES 3/3] drm/i915/execlists: Move reset_active()
 from schedule-out to schedule-in
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

Ck9uIDExLzExLzIwMTkgMTM6MzIsIENocmlzIFdpbHNvbiB3cm90ZToKPiBUaGUgZ2VtX2N0eF9w
ZXJzaXN0ZW5jZS9zbW9rZXRlc3Qgd2FzIGRldGVjdGluZyBhbiBvZGQgY29oZXJlbmN5IGlzc3Vl
Cj4gaW5zaWRlIHRoZSBMUkMgY29udGV4dCBpbWFnZTsgdGhhdCB0aGUgYWRkcmVzcyBvZiB0aGUg
cmluZyBidWZmZXIgZGlkCj4gbm90IG1hdGNoIG91ciBhc3NvY2lhdGVkIHN0cnVjdCBpbnRlbF9y
aW5nLiBBcyB3ZSBzZXQgdGhlIGFkZHJlc3MgaW50bwo+IHRoZSBjb250ZXh0IGltYWdlIHdoZW4g
d2UgcGluIHRoZSByaW5nIGJ1ZmZlciBpbnRvIHBsYWNlIGJlZm9yZSB0aGUKPiBjb250ZXh0IGlz
IGFjdGl2ZSwgdGhhdCBsZWF2ZXMgdGhlIHF1ZXN0aW9uIG9mIHdoZXJlIGRpZCBpdCBnZXQKPiBv
dmVyd3JpdHRlbi4gRWl0aGVyIHRoZSBIVyBjb250ZXh0IHNhdmUgb2NjdXJyZWQgYWZ0ZXIgb3Vy
IHBpbiB3aGljaAo+IHdvdWxkIGltcGx5IHRoYXQgb3VyIGlkbGUgYmFycmllcnMgYXJlIGJyb2tl
biwgb3Igd2Ugb3Zlcndyb3RlIHRoZQo+IGNvbnRleHQgaW1hZ2Ugb3Vyc2VsdmVzLiBJdCBpcyBv
bmx5IGluIHJlc2V0X2FjdGl2ZSgpIHdoZXJlIHdlIGRhYmJsZQo+IGluc2lkZSB0aGUgY29udGV4
dCBpbWFnZSBvdXRzaWRlIG9mIGEgc2VyaWFsaXNlZCBwYXRoIGZyb20gc2NoZWR1bGUtb3V0Owo+
IGJ1dCB3ZSBjb3VsZCBlcXVhbGx5IHBlcmZvcm0gdGhlIG9wZXJhdGlvbiBpbnNpZGUgc2NoZWR1
bGUtaW4gd2hpY2ggaXMKPiB0aGVuIGZ1bGx5IHNlcmlhbGlzZWQgd2l0aCB0aGUgY29udGV4dCBw
aW4gLS0gYW5kIHJlbWFpbnMgc2VyaWFsaXNlZCBieQo+IHRoZSBlbmdpbmUgcHVsc2Ugd2l0aCBr
aWxsX2NvbnRleHQoKS4gKFRoZSBvbmx5IGRvd25zaWRlLCBhc2lkZSBmcm9tCj4gZG9pbmcgbW9y
ZSB3b3JrIGluc2lkZSB0aGUgZW5naW5lLT5hY3RpdmUubG9jaywgd2FzIHRoZSBwbGFuIHRvIG1l
cmdlCj4gYWxsIHRoZSByZXNldCBwYXRocyBpbnRvIGRvaW5nIHRoZWlyIGNvbnRleHQgc2NydWJi
aW5nIG9uIHNjaGVkdWxlLW91dAo+IG5lZWRzIG1vcmUgdGhvdWdodC4pCgpTbyBwcm9jZXNzX2Nz
YiBpcyBub3QgdW5kZXIgdGhlIGVuZ2luZSBsb2NrIGFuZCBoZW5jZSBzY2hlZHVsZV9vdXQgY2Fu
IApyYWNlIHdpdGggc2NoZWR1bGVfaW4gbWVhbmluZyBzY2hlZHVsZV9vdXQgc2hvdWxkIHJlZnJh
aW4gZnJvbSBkb2luZyAKbm9uLXRyaXZpYWwgd29yay4KClJldmlld2VkLWJ5OiBUdnJ0a28gVXJz
dWxpbiA8dHZydGtvLnVyc3VsaW5AaW50ZWwuY29tPgoKUmVnYXJkcywKClR2cnRrbwoKPiAKPiBG
aXhlczogZDEyYWNlZTg0ZmZiICgiZHJtL2k5MTUvZXhlY2xpc3RzOiBDYW5jZWwgYmFubmVkIGNv
bnRleHRzIG9uIHNjaGVkdWxlLW91dCIpCj4gVGVzdGNhc2U6IGlndC9nZW1fY3R4X3BlcnNpc3Rl
bmNlL3Ntb2tldGVzdAo+IFNpZ25lZC1vZmYtYnk6IENocmlzIFdpbHNvbiA8Y2hyaXNAY2hyaXMt
d2lsc29uLmNvLnVrPgo+IENjOiBUdnJ0a28gVXJzdWxpbiA8dHZydGtvLnVyc3VsaW5AbGludXgu
aW50ZWwuY29tPgo+IC0tLQo+ICAgZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfbHJjLmMg
fCAxMTQgKysrKysrKysrKysrKystLS0tLS0tLS0tLS0tLQo+ICAgMSBmaWxlIGNoYW5nZWQsIDU3
IGluc2VydGlvbnMoKyksIDU3IGRlbGV0aW9ucygtKQo+IAo+IGRpZmYgLS1naXQgYS9kcml2ZXJz
L2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9scmMuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2lu
dGVsX2xyYy5jCj4gaW5kZXggZTU3MzQ1Nzk1YzA4Li40YjZkOWU2YjFiZmQgMTAwNjQ0Cj4gLS0t
IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfbHJjLmMKPiArKysgYi9kcml2ZXJzL2dw
dS9kcm0vaTkxNS9ndC9pbnRlbF9scmMuYwo+IEBAIC0xMDQyLDYgKzEwNDIsNTkgQEAgZXhlY2xp
c3RzX2NoZWNrX2NvbnRleHQoY29uc3Qgc3RydWN0IGludGVsX2NvbnRleHQgKmNlLAo+ICAgCVdB
Uk5fT05DRSghdmFsaWQsICJJbnZhbGlkIGxyYyBzdGF0ZSBmb3VuZCBiZWZvcmUgc3VibWlzc2lv
blxuIik7Cj4gICB9Cj4gICAKPiArc3RhdGljIHZvaWQgcmVzdG9yZV9kZWZhdWx0X3N0YXRlKHN0
cnVjdCBpbnRlbF9jb250ZXh0ICpjZSwKPiArCQkJCSAgc3RydWN0IGludGVsX2VuZ2luZV9jcyAq
ZW5naW5lKQo+ICt7Cj4gKwl1MzIgKnJlZ3MgPSBjZS0+bHJjX3JlZ19zdGF0ZTsKPiArCj4gKwlp
ZiAoZW5naW5lLT5waW5uZWRfZGVmYXVsdF9zdGF0ZSkKPiArCQltZW1jcHkocmVncywgLyogc2tp
cCByZXN0b3JpbmcgdGhlIHZhbmlsbGEgUFBIV1NQICovCj4gKwkJICAgICAgIGVuZ2luZS0+cGlu
bmVkX2RlZmF1bHRfc3RhdGUgKyBMUkNfU1RBVEVfUE4gKiBQQUdFX1NJWkUsCj4gKwkJICAgICAg
IGVuZ2luZS0+Y29udGV4dF9zaXplIC0gUEFHRV9TSVpFKTsKPiArCj4gKwlleGVjbGlzdHNfaW5p
dF9yZWdfc3RhdGUocmVncywgY2UsIGVuZ2luZSwgY2UtPnJpbmcsIGZhbHNlKTsKPiArfQo+ICsK
PiArc3RhdGljIHZvaWQgcmVzZXRfYWN0aXZlKHN0cnVjdCBpOTE1X3JlcXVlc3QgKnJxLAo+ICsJ
CQkgc3RydWN0IGludGVsX2VuZ2luZV9jcyAqZW5naW5lKQo+ICt7Cj4gKwlzdHJ1Y3QgaW50ZWxf
Y29udGV4dCAqIGNvbnN0IGNlID0gcnEtPmh3X2NvbnRleHQ7Cj4gKwl1MzIgaGVhZDsKPiArCj4g
KwkvKgo+ICsJICogVGhlIGV4ZWN1dGluZyBjb250ZXh0IGhhcyBiZWVuIGNhbmNlbGxlZC4gV2Ug
d2FudCB0byBwcmV2ZW50Cj4gKwkgKiBmdXJ0aGVyIGV4ZWN1dGlvbiBhbG9uZyB0aGlzIGNvbnRl
eHQgYW5kIHByb3BhZ2F0ZSB0aGUgZXJyb3Igb24KPiArCSAqIHRvIGFueXRoaW5nIGRlcGVuZGlu
ZyBvbiBpdHMgcmVzdWx0cy4KPiArCSAqCj4gKwkgKiBJbiBfX2k5MTVfcmVxdWVzdF9zdWJtaXQo
KSwgd2UgYXBwbHkgdGhlIC1FSU8gYW5kIHJlbW92ZSB0aGUKPiArCSAqIHJlcXVlc3RzJyBwYXls
b2FkcyBmb3IgYW55IGJhbm5lZCByZXF1ZXN0cy4gQnV0IGZpcnN0LCB3ZSBtdXN0Cj4gKwkgKiBy
ZXdpbmQgdGhlIGNvbnRleHQgYmFjayB0byB0aGUgc3RhcnQgb2YgdGhlIGluY29tcGxldGUgcmVx
dWVzdCBzbwo+ICsJICogdGhhdCB3ZSBkbyBub3QganVtcCBiYWNrIGludG8gdGhlIG1pZGRsZSBv
ZiB0aGUgYmF0Y2guCj4gKwkgKgo+ICsJICogV2UgcHJlc2VydmUgdGhlIGJyZWFkY3J1bWJzIGFu
ZCBzZW1hcGhvcmVzIG9mIHRoZSBpbmNvbXBsZXRlCj4gKwkgKiByZXF1ZXN0cyBzbyB0aGF0IGlu
dGVyLXRpbWVsaW5lIGRlcGVuZGVuY2llcyAoaS5lIG90aGVyIHRpbWVsaW5lcykKPiArCSAqIHJl
bWFpbiBjb3JyZWN0bHkgb3JkZXJlZC4gQW5kIHdlIGRlZmVyIHRvIF9faTkxNV9yZXF1ZXN0X3N1
Ym1pdCgpCj4gKwkgKiBzbyB0aGF0IGFsbCBhc3luY2hyb25vdXMgd2FpdHMgYXJlIGNvcnJlY3Rs
eSBoYW5kbGVkLgo+ICsJICovCj4gKwlHRU1fVFJBQ0UoIiVzKCVzKTogeyBycT0lbGx4OiVsbGQg
fVxuIiwKPiArCQkgIF9fZnVuY19fLCBlbmdpbmUtPm5hbWUsIHJxLT5mZW5jZS5jb250ZXh0LCBy
cS0+ZmVuY2Uuc2Vxbm8pOwo+ICsKPiArCS8qIE9uIHJlc3VibWlzc2lvbiBvZiB0aGUgYWN0aXZl
IHJlcXVlc3QsIHBheWxvYWQgd2lsbCBiZSBzY3J1YmJlZCAqLwo+ICsJaWYgKGk5MTVfcmVxdWVz
dF9jb21wbGV0ZWQocnEpKQo+ICsJCWhlYWQgPSBycS0+dGFpbDsKPiArCWVsc2UKPiArCQloZWFk
ID0gYWN0aXZlX3JlcXVlc3QoY2UtPnRpbWVsaW5lLCBycSktPmhlYWQ7Cj4gKwljZS0+cmluZy0+
aGVhZCA9IGludGVsX3Jpbmdfd3JhcChjZS0+cmluZywgaGVhZCk7Cj4gKwlpbnRlbF9yaW5nX3Vw
ZGF0ZV9zcGFjZShjZS0+cmluZyk7Cj4gKwo+ICsJLyogU2NydWIgdGhlIGNvbnRleHQgaW1hZ2Ug
dG8gcHJldmVudCByZXBsYXlpbmcgdGhlIHByZXZpb3VzIGJhdGNoICovCj4gKwlyZXN0b3JlX2Rl
ZmF1bHRfc3RhdGUoY2UsIGVuZ2luZSk7Cj4gKwlfX2V4ZWNsaXN0c191cGRhdGVfcmVnX3N0YXRl
KGNlLCBlbmdpbmUpOwo+ICsKPiArCS8qIFdlJ3ZlIHN3aXRjaGVkIGF3YXksIHNvIHRoaXMgc2hv
dWxkIGJlIGEgbm8tb3AsIGJ1dCBpbnRlbnQgbWF0dGVycyAqLwo+ICsJY2UtPmxyY19kZXNjIHw9
IENUWF9ERVNDX0ZPUkNFX1JFU1RPUkU7Cj4gK30KPiArCj4gICBzdGF0aWMgaW5saW5lIHN0cnVj
dCBpbnRlbF9lbmdpbmVfY3MgKgo+ICAgX19leGVjbGlzdHNfc2NoZWR1bGVfaW4oc3RydWN0IGk5
MTVfcmVxdWVzdCAqcnEpCj4gICB7Cj4gQEAgLTEwNTAsOCArMTEwMywxMSBAQCBfX2V4ZWNsaXN0
c19zY2hlZHVsZV9pbihzdHJ1Y3QgaTkxNV9yZXF1ZXN0ICpycSkKPiAgIAo+ICAgCWludGVsX2Nv
bnRleHRfZ2V0KGNlKTsKPiAgIAo+ICsJaWYgKHVubGlrZWx5KGk5MTVfZ2VtX2NvbnRleHRfaXNf
YmFubmVkKGNlLT5nZW1fY29udGV4dCkpKQo+ICsJCXJlc2V0X2FjdGl2ZShycSwgZW5naW5lKTsK
PiArCj4gICAJaWYgKElTX0VOQUJMRUQoQ09ORklHX0RSTV9JOTE1X0RFQlVHX0dFTSkpCj4gLQkJ
ZXhlY2xpc3RzX2NoZWNrX2NvbnRleHQoY2UsIHJxLT5lbmdpbmUpOwo+ICsJCWV4ZWNsaXN0c19j
aGVja19jb250ZXh0KGNlLCBlbmdpbmUpOwo+ICAgCj4gICAJaWYgKGNlLT50YWcpIHsKPiAgIAkJ
LyogVXNlIGEgZml4ZWQgdGFnIGZvciBPQSBhbmQgZnJpZW5kcyAqLwo+IEBAIC0xMTAyLDU5ICsx
MTU4LDYgQEAgc3RhdGljIHZvaWQga2lja19zaWJsaW5ncyhzdHJ1Y3QgaTkxNV9yZXF1ZXN0ICpy
cSwgc3RydWN0IGludGVsX2NvbnRleHQgKmNlKQo+ICAgCQl0YXNrbGV0X3NjaGVkdWxlKCZ2ZS0+
YmFzZS5leGVjbGlzdHMudGFza2xldCk7Cj4gICB9Cj4gICAKPiAtc3RhdGljIHZvaWQgcmVzdG9y
ZV9kZWZhdWx0X3N0YXRlKHN0cnVjdCBpbnRlbF9jb250ZXh0ICpjZSwKPiAtCQkJCSAgc3RydWN0
IGludGVsX2VuZ2luZV9jcyAqZW5naW5lKQo+IC17Cj4gLQl1MzIgKnJlZ3MgPSBjZS0+bHJjX3Jl
Z19zdGF0ZTsKPiAtCj4gLQlpZiAoZW5naW5lLT5waW5uZWRfZGVmYXVsdF9zdGF0ZSkKPiAtCQlt
ZW1jcHkocmVncywgLyogc2tpcCByZXN0b3JpbmcgdGhlIHZhbmlsbGEgUFBIV1NQICovCj4gLQkJ
ICAgICAgIGVuZ2luZS0+cGlubmVkX2RlZmF1bHRfc3RhdGUgKyBMUkNfU1RBVEVfUE4gKiBQQUdF
X1NJWkUsCj4gLQkJICAgICAgIGVuZ2luZS0+Y29udGV4dF9zaXplIC0gUEFHRV9TSVpFKTsKPiAt
Cj4gLQlleGVjbGlzdHNfaW5pdF9yZWdfc3RhdGUocmVncywgY2UsIGVuZ2luZSwgY2UtPnJpbmcs
IGZhbHNlKTsKPiAtfQo+IC0KPiAtc3RhdGljIHZvaWQgcmVzZXRfYWN0aXZlKHN0cnVjdCBpOTE1
X3JlcXVlc3QgKnJxLAo+IC0JCQkgc3RydWN0IGludGVsX2VuZ2luZV9jcyAqZW5naW5lKQo+IC17
Cj4gLQlzdHJ1Y3QgaW50ZWxfY29udGV4dCAqIGNvbnN0IGNlID0gcnEtPmh3X2NvbnRleHQ7Cj4g
LQl1MzIgaGVhZDsKPiAtCj4gLQkvKgo+IC0JICogVGhlIGV4ZWN1dGluZyBjb250ZXh0IGhhcyBi
ZWVuIGNhbmNlbGxlZC4gV2Ugd2FudCB0byBwcmV2ZW50Cj4gLQkgKiBmdXJ0aGVyIGV4ZWN1dGlv
biBhbG9uZyB0aGlzIGNvbnRleHQgYW5kIHByb3BhZ2F0ZSB0aGUgZXJyb3Igb24KPiAtCSAqIHRv
IGFueXRoaW5nIGRlcGVuZGluZyBvbiBpdHMgcmVzdWx0cy4KPiAtCSAqCj4gLQkgKiBJbiBfX2k5
MTVfcmVxdWVzdF9zdWJtaXQoKSwgd2UgYXBwbHkgdGhlIC1FSU8gYW5kIHJlbW92ZSB0aGUKPiAt
CSAqIHJlcXVlc3RzJyBwYXlsb2FkcyBmb3IgYW55IGJhbm5lZCByZXF1ZXN0cy4gQnV0IGZpcnN0
LCB3ZSBtdXN0Cj4gLQkgKiByZXdpbmQgdGhlIGNvbnRleHQgYmFjayB0byB0aGUgc3RhcnQgb2Yg
dGhlIGluY29tcGxldGUgcmVxdWVzdCBzbwo+IC0JICogdGhhdCB3ZSBkbyBub3QganVtcCBiYWNr
IGludG8gdGhlIG1pZGRsZSBvZiB0aGUgYmF0Y2guCj4gLQkgKgo+IC0JICogV2UgcHJlc2VydmUg
dGhlIGJyZWFkY3J1bWJzIGFuZCBzZW1hcGhvcmVzIG9mIHRoZSBpbmNvbXBsZXRlCj4gLQkgKiBy
ZXF1ZXN0cyBzbyB0aGF0IGludGVyLXRpbWVsaW5lIGRlcGVuZGVuY2llcyAoaS5lIG90aGVyIHRp
bWVsaW5lcykKPiAtCSAqIHJlbWFpbiBjb3JyZWN0bHkgb3JkZXJlZC4gQW5kIHdlIGRlZmVyIHRv
IF9faTkxNV9yZXF1ZXN0X3N1Ym1pdCgpCj4gLQkgKiBzbyB0aGF0IGFsbCBhc3luY2hyb25vdXMg
d2FpdHMgYXJlIGNvcnJlY3RseSBoYW5kbGVkLgo+IC0JICovCj4gLQlHRU1fVFJBQ0UoIiVzKCVz
KTogeyBycT0lbGx4OiVsbGQgfVxuIiwKPiAtCQkgIF9fZnVuY19fLCBlbmdpbmUtPm5hbWUsIHJx
LT5mZW5jZS5jb250ZXh0LCBycS0+ZmVuY2Uuc2Vxbm8pOwo+IC0KPiAtCS8qIE9uIHJlc3VibWlz
c2lvbiBvZiB0aGUgYWN0aXZlIHJlcXVlc3QsIHBheWxvYWQgd2lsbCBiZSBzY3J1YmJlZCAqLwo+
IC0JaWYgKGk5MTVfcmVxdWVzdF9jb21wbGV0ZWQocnEpKQo+IC0JCWhlYWQgPSBycS0+dGFpbDsK
PiAtCWVsc2UKPiAtCQloZWFkID0gYWN0aXZlX3JlcXVlc3QoY2UtPnRpbWVsaW5lLCBycSktPmhl
YWQ7Cj4gLQljZS0+cmluZy0+aGVhZCA9IGludGVsX3Jpbmdfd3JhcChjZS0+cmluZywgaGVhZCk7
Cj4gLQlpbnRlbF9yaW5nX3VwZGF0ZV9zcGFjZShjZS0+cmluZyk7Cj4gLQo+IC0JLyogU2NydWIg
dGhlIGNvbnRleHQgaW1hZ2UgdG8gcHJldmVudCByZXBsYXlpbmcgdGhlIHByZXZpb3VzIGJhdGNo
ICovCj4gLQlyZXN0b3JlX2RlZmF1bHRfc3RhdGUoY2UsIGVuZ2luZSk7Cj4gLQlfX2V4ZWNsaXN0
c191cGRhdGVfcmVnX3N0YXRlKGNlLCBlbmdpbmUpOwo+IC0KPiAtCS8qIFdlJ3ZlIHN3aXRjaGVk
IGF3YXksIHNvIHRoaXMgc2hvdWxkIGJlIGEgbm8tb3AsIGJ1dCBpbnRlbnQgbWF0dGVycyAqLwo+
IC0JY2UtPmxyY19kZXNjIHw9IENUWF9ERVNDX0ZPUkNFX1JFU1RPUkU7Cj4gLX0KPiAtCj4gICBz
dGF0aWMgaW5saW5lIHZvaWQKPiAgIF9fZXhlY2xpc3RzX3NjaGVkdWxlX291dChzdHJ1Y3QgaTkx
NV9yZXF1ZXN0ICpycSwKPiAgIAkJCSBzdHJ1Y3QgaW50ZWxfZW5naW5lX2NzICogY29uc3QgZW5n
aW5lKQo+IEBAIC0xMTY1LDkgKzExNjgsNiBAQCBfX2V4ZWNsaXN0c19zY2hlZHVsZV9vdXQoc3Ry
dWN0IGk5MTVfcmVxdWVzdCAqcnEsCj4gICAJZXhlY2xpc3RzX2NvbnRleHRfc3RhdHVzX2NoYW5n
ZShycSwgSU5URUxfQ09OVEVYVF9TQ0hFRFVMRV9PVVQpOwo+ICAgCWludGVsX2d0X3BtX3B1dChl
bmdpbmUtPmd0KTsKPiAgIAo+IC0JaWYgKHVubGlrZWx5KGk5MTVfZ2VtX2NvbnRleHRfaXNfYmFu
bmVkKGNlLT5nZW1fY29udGV4dCkpKQo+IC0JCXJlc2V0X2FjdGl2ZShycSwgZW5naW5lKTsKPiAt
Cj4gICAJLyoKPiAgIAkgKiBJZiB0aGlzIGlzIHBhcnQgb2YgYSB2aXJ0dWFsIGVuZ2luZSwgaXRz
IG5leHQgcmVxdWVzdCBtYXkKPiAgIAkgKiBoYXZlIGJlZW4gYmxvY2tlZCB3YWl0aW5nIGZvciBh
Y2Nlc3MgdG8gdGhlIGFjdGl2ZSBjb250ZXh0Lgo+IApfX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fXwpJbnRlbC1nZnggbWFpbGluZyBsaXN0CkludGVsLWdmeEBs
aXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1h
bi9saXN0aW5mby9pbnRlbC1nZng=

Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 77ACB1EEE87
	for <lists+intel-gfx@lfdr.de>; Fri,  5 Jun 2020 01:53:27 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 5B0266E7DB;
	Thu,  4 Jun 2020 23:53:25 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga06.intel.com (mga06.intel.com [134.134.136.31])
 by gabe.freedesktop.org (Postfix) with ESMTPS id F3D1E6E7DB
 for <intel-gfx@lists.freedesktop.org>; Thu,  4 Jun 2020 23:53:23 +0000 (UTC)
IronPort-SDR: NoRL1XzVk0kAu0O3jBW6L8zehFfjL+lZBsD9GwInpHHVmhHSU0PNs2SEkYJJautCTSBzrgtvR1
 ALz4b22pCiqg==
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga004.jf.intel.com ([10.7.209.38])
 by orsmga104.jf.intel.com with ESMTP/TLS/ECDHE-RSA-AES256-GCM-SHA384;
 04 Jun 2020 16:53:22 -0700
IronPort-SDR: IyoINnCm728JoJTMozovQWvztxfbnhYT2GGVXgbc9/AP6H3kMAwYPCU7zlQYjUl/XHcWV0HBX8
 krjbu8w1Du9Q==
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.73,474,1583222400"; d="scan'208";a="417091133"
Received: from mdroper-desk1.fm.intel.com ([10.1.27.168])
 by orsmga004.jf.intel.com with ESMTP; 04 Jun 2020 16:53:22 -0700
From: Matt Roper <matthew.d.roper@intel.com>
To: intel-gfx@lists.freedesktop.org
Date: Thu,  4 Jun 2020 16:53:20 -0700
Message-Id: <20200604235321.3190817-1-matthew.d.roper@intel.com>
X-Mailer: git-send-email 2.24.1
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH 1/2] drm/i915/rkl: Program BW_BUDDY0 registers
 instead of BW_BUDDY1/2
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

UktMIHVzZXMgdGhlIHNhbWUgQldfQlVERFkgcHJvZ3JhbW1pbmcgdGFibGUgYXMgVEdMLCBidXQg
cHJvZ3JhbXMgdGhlCnZhbHVlcyBpbnRvIGEgc2luZ2xlIHNldCBCVUREWTAgc2V0IG9mIHJlZ2lz
dGVycyByYXRoZXIgdGhhbiB0aGUKQlVERFkxL0JVRERZMiBzZXRzIHVzZWQgYnkgVEdMIGFuZCBE
RzEuCgp2MjoKIC0gU3RvcmUgdGhlIG1hc2sgb2YgcGxhdGZvcm0tc3BlY2lmaWMgYnVkZHkgcmVn
aXN0ZXJzIGluIHRoZSBkZXZpY2UKICAgaW5mbyBzdHJ1Y3R1cmUuCiAtIEFkZCBhIFRMQl9SRVFf
VElNRVIoKSBoZWxwZXIgbWFjcm8uICAoQWRpdHlhKQoKQnNwZWM6IDQ5MjE4CkNjOiBWaWxsZSBT
eXJqw6Rsw6QgPHZpbGxlLnN5cmphbGFAbGludXguaW50ZWwuY29tPgpDYzogQWRpdHlhIFN3YXJ1
cCA8YWRpdHlhLnN3YXJ1cEBpbnRlbC5jb20+ClNpZ25lZC1vZmYtYnk6IE1hdHQgUm9wZXIgPG1h
dHRoZXcuZC5yb3BlckBpbnRlbC5jb20+Ci0tLQogLi4uL2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxf
ZGlzcGxheV9wb3dlci5jICAgIHwgNDMgKysrKysrKysrKy0tLS0tLS0tLQogZHJpdmVycy9ncHUv
ZHJtL2k5MTUvaTkxNV9wY2kuYyAgICAgICAgICAgICAgIHwgIDIgKwogZHJpdmVycy9ncHUvZHJt
L2k5MTUvaTkxNV9yZWcuaCAgICAgICAgICAgICAgIHwgMTUgKysrKystLQogZHJpdmVycy9ncHUv
ZHJtL2k5MTUvaW50ZWxfZGV2aWNlX2luZm8uaCAgICAgIHwgIDIgKwogNCBmaWxlcyBjaGFuZ2Vk
LCAzNyBpbnNlcnRpb25zKCspLCAyNSBkZWxldGlvbnMoLSkKCmRpZmYgLS1naXQgYS9kcml2ZXJz
L2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXlfcG93ZXIuYyBiL2RyaXZlcnMvZ3B1
L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheV9wb3dlci5jCmluZGV4IDcyMzEyYjY3YjU3
YS4uNWEzMjRkNWM5ZmU0IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5
L2ludGVsX2Rpc3BsYXlfcG93ZXIuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5
L2ludGVsX2Rpc3BsYXlfcG93ZXIuYwpAQCAtNTI1NCw3ICs1MjU0LDExIEBAIHN0YXRpYyB2b2lk
IHRnbF9id19idWRkeV9pbml0KHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdikKIAll
bnVtIGludGVsX2RyYW1fdHlwZSB0eXBlID0gZGV2X3ByaXYtPmRyYW1faW5mby50eXBlOwogCXU4
IG51bV9jaGFubmVscyA9IGRldl9wcml2LT5kcmFtX2luZm8ubnVtX2NoYW5uZWxzOwogCWNvbnN0
IHN0cnVjdCBidWRkeV9wYWdlX21hc2sgKnRhYmxlOwotCWludCBpOworCXVuc2lnbmVkIGxvbmcg
YnVkZHlfcmVncyA9IElOVEVMX0lORk8oZGV2X3ByaXYpLT5id19idWRkeV9tYXNrOworCWludCBj
b25maWcsIGk7CisKKwlpZiAoIWJ1ZGR5X3JlZ3MpCisJCXJldHVybjsKIAogCWlmIChJU19UR0xf
UkVWSUQoZGV2X3ByaXYsIFRHTF9SRVZJRF9BMCwgVEdMX1JFVklEX0IwKSkKIAkJLyogV2FfMTQw
OTc2NzEwODogdGdsICovCkBAIC01MjYyLDI5ICs1MjY2LDI3IEBAIHN0YXRpYyB2b2lkIHRnbF9i
d19idWRkeV9pbml0KHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdikKIAllbHNlCiAJ
CXRhYmxlID0gdGdsX2J1ZGR5X3BhZ2VfbWFza3M7CiAKLQlmb3IgKGkgPSAwOyB0YWJsZVtpXS5w
YWdlX21hc2sgIT0gMDsgaSsrKQotCQlpZiAodGFibGVbaV0ubnVtX2NoYW5uZWxzID09IG51bV9j
aGFubmVscyAmJgotCQkgICAgdGFibGVbaV0udHlwZSA9PSB0eXBlKQorCWZvciAoY29uZmlnID0g
MDsgdGFibGVbY29uZmlnXS5wYWdlX21hc2sgIT0gMDsgY29uZmlnKyspCisJCWlmICh0YWJsZVtj
b25maWddLm51bV9jaGFubmVscyA9PSBudW1fY2hhbm5lbHMgJiYKKwkJICAgIHRhYmxlW2NvbmZp
Z10udHlwZSA9PSB0eXBlKQogCQkJYnJlYWs7CiAKLQlpZiAodGFibGVbaV0ucGFnZV9tYXNrID09
IDApIHsKKwlpZiAodGFibGVbY29uZmlnXS5wYWdlX21hc2sgPT0gMCkgewogCQlkcm1fZGJnKCZk
ZXZfcHJpdi0+ZHJtLAogCQkJIlVua25vd24gbWVtb3J5IGNvbmZpZ3VyYXRpb247IGRpc2FibGlu
ZyBhZGRyZXNzIGJ1ZGR5IGxvZ2ljLlxuIik7Ci0JCWludGVsX2RlX3dyaXRlKGRldl9wcml2LCBC
V19CVUREWTFfQ1RMLCBCV19CVUREWV9ESVNBQkxFKTsKLQkJaW50ZWxfZGVfd3JpdGUoZGV2X3By
aXYsIEJXX0JVRERZMl9DVEwsIEJXX0JVRERZX0RJU0FCTEUpOworCQlmb3JfZWFjaF9zZXRfYml0
KGksICZidWRkeV9yZWdzLCBzaXplb2YoYnVkZHlfcmVncykpCisJCQlpbnRlbF9kZV93cml0ZShk
ZXZfcHJpdiwgQldfQlVERFlfQ1RMKGkpLAorCQkJCSAgICAgICBCV19CVUREWV9ESVNBQkxFKTsK
IAl9IGVsc2UgewotCQlpbnRlbF9kZV93cml0ZShkZXZfcHJpdiwgQldfQlVERFkxX1BBR0VfTUFT
SywKLQkJCSAgICAgICB0YWJsZVtpXS5wYWdlX21hc2spOwotCQlpbnRlbF9kZV93cml0ZShkZXZf
cHJpdiwgQldfQlVERFkyX1BBR0VfTUFTSywKLQkJCSAgICAgICB0YWJsZVtpXS5wYWdlX21hc2sp
OwotCi0JCS8qIFdhXzIyMDEwMTc4MjU5OnRnbCAqLwotCQlpbnRlbF9kZV9ybXcoZGV2X3ByaXYs
IEJXX0JVRERZMV9DVEwsCi0JCQkgICAgIEJXX0JVRERZX1RMQl9SRVFfVElNRVJfTUFTSywKLQkJ
CSAgICAgUkVHX0ZJRUxEX1BSRVAoQldfQlVERFlfVExCX1JFUV9USU1FUl9NQVNLLCAweDgpKTsK
LQkJaW50ZWxfZGVfcm13KGRldl9wcml2LCBCV19CVUREWTJfQ1RMLAotCQkJICAgICBCV19CVURE
WV9UTEJfUkVRX1RJTUVSX01BU0ssCi0JCQkgICAgIFJFR19GSUVMRF9QUkVQKEJXX0JVRERZX1RM
Ql9SRVFfVElNRVJfTUFTSywgMHg4KSk7CisJCWZvcl9lYWNoX3NldF9iaXQoaSwgJmJ1ZGR5X3Jl
Z3MsIHNpemVvZihidWRkeV9yZWdzKSkgeworCQkJaW50ZWxfZGVfd3JpdGUoZGV2X3ByaXYsIEJX
X0JVRERZX1BBR0VfTUFTSyhpKSwKKwkJCQkgICAgICAgdGFibGVbY29uZmlnXS5wYWdlX21hc2sp
OworCisJCQkvKiBXYV8yMjAxMDE3ODI1OTp0Z2wscmtsICovCisJCQlpbnRlbF9kZV9ybXcoZGV2
X3ByaXYsIEJXX0JVRERZX0NUTChpKSwKKwkJCQkgICAgIEJXX0JVRERZX1RMQl9SRVFfVElNRVJf
TUFTSywKKwkJCQkgICAgIEJXX0JVRERZX1RMQl9SRVFfVElNRVIoMHg4KSk7CisJCX0KIAl9CiB9
CiAKQEAgLTUzMjEsOCArNTMyMyw3IEBAIHN0YXRpYyB2b2lkIGljbF9kaXNwbGF5X2NvcmVfaW5p
dChzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYsCiAJaWNsX21idXNfaW5pdChkZXZf
cHJpdik7CiAKIAkvKiA3LiBQcm9ncmFtIGFyYml0ZXIgQldfQlVERFkgcmVnaXN0ZXJzICovCi0J
aWYgKElOVEVMX0dFTihkZXZfcHJpdikgPj0gMTIpCi0JCXRnbF9id19idWRkeV9pbml0KGRldl9w
cml2KTsKKwl0Z2xfYndfYnVkZHlfaW5pdChkZXZfcHJpdik7CiAKIAlpZiAocmVzdW1lICYmIGRl
dl9wcml2LT5jc3IuZG1jX3BheWxvYWQpCiAJCWludGVsX2Nzcl9sb2FkX3Byb2dyYW0oZGV2X3By
aXYpOwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9wY2kuYyBiL2RyaXZl
cnMvZ3B1L2RybS9pOTE1L2k5MTVfcGNpLmMKaW5kZXggMTkyZjFjZDE3MmI4Li4zZjFjY2Q4OTlm
NGIgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfcGNpLmMKKysrIGIvZHJp
dmVycy9ncHUvZHJtL2k5MTUvaTkxNV9wY2kuYwpAQCAtODQ3LDYgKzg0Nyw3IEBAIHN0YXRpYyBj
b25zdCBzdHJ1Y3QgaW50ZWxfZGV2aWNlX2luZm8gZWhsX2luZm8gPSB7CiAjZGVmaW5lIEdFTjEy
X0ZFQVRVUkVTIFwKIAlHRU4xMV9GRUFUVVJFUywgXAogCUdFTigxMiksIFwKKwkuYndfYnVkZHlf
bWFzayA9IEdFTk1BU0soMiwgMSksIFwKIAkucGlwZV9tYXNrID0gQklUKFBJUEVfQSkgfCBCSVQo
UElQRV9CKSB8IEJJVChQSVBFX0MpIHwgQklUKFBJUEVfRCksIFwKIAkuY3B1X3RyYW5zY29kZXJf
bWFzayA9IEJJVChUUkFOU0NPREVSX0EpIHwgQklUKFRSQU5TQ09ERVJfQikgfCBcCiAJCUJJVChU
UkFOU0NPREVSX0MpIHwgQklUKFRSQU5TQ09ERVJfRCkgfCBcCkBAIC04ODIsNiArODgzLDcgQEAg
c3RhdGljIGNvbnN0IHN0cnVjdCBpbnRlbF9kZXZpY2VfaW5mbyB0Z2xfaW5mbyA9IHsKIHN0YXRp
YyBjb25zdCBzdHJ1Y3QgaW50ZWxfZGV2aWNlX2luZm8gcmtsX2luZm8gPSB7CiAJR0VOMTJfRkVB
VFVSRVMsCiAJUExBVEZPUk0oSU5URUxfUk9DS0VUTEFLRSksCisJLmJ3X2J1ZGR5X21hc2sgPSBC
SVQoMCksCiAJLnBpcGVfbWFzayA9IEJJVChQSVBFX0EpIHwgQklUKFBJUEVfQikgfCBCSVQoUElQ
RV9DKSwKIAkuY3B1X3RyYW5zY29kZXJfbWFzayA9IEJJVChUUkFOU0NPREVSX0EpIHwgQklUKFRS
QU5TQ09ERVJfQikgfAogCQlCSVQoVFJBTlNDT0RFUl9DKSwKZGlmZiAtLWdpdCBhL2RyaXZlcnMv
Z3B1L2RybS9pOTE1L2k5MTVfcmVnLmggYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3JlZy5o
CmluZGV4IDgxNGE3MDk0NTQ2OC4uZmUyYWVmYzEyMTQxIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dw
dS9kcm0vaTkxNS9pOTE1X3JlZy5oCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfcmVn
LmgKQEAgLTc4MzksMTMgKzc4MzksMjAgQEAgZW51bSB7CiAjZGVmaW5lICBXQUlUX0ZPUl9QQ0hf
UkVTRVRfQUNLCQkoMSA8PCAxKQogI2RlZmluZSAgV0FJVF9GT1JfUENIX0ZMUl9BQ0sJCSgxIDw8
IDApCiAKLSNkZWZpbmUgQldfQlVERFkxX0NUTAkJCV9NTUlPKDB4NDUxNDApCi0jZGVmaW5lIEJX
X0JVRERZMl9DVEwJCQlfTU1JTygweDQ1MTUwKQorI2RlZmluZSBfQldfQlVERFkwX0NUTAkJCTB4
NDUxMzAKKyNkZWZpbmUgX0JXX0JVRERZMV9DVEwJCQkweDQ1MTQwCisjZGVmaW5lIEJXX0JVRERZ
X0NUTCh4KQkJCV9NTUlPKF9QSUNLX0VWRU4oeCwgXAorCQkJCQkJCSBfQldfQlVERFkwX0NUTCwg
XAorCQkJCQkJCSBfQldfQlVERFkxX0NUTCkpCiAjZGVmaW5lICAgQldfQlVERFlfRElTQUJMRQkJ
UkVHX0JJVCgzMSkKICNkZWZpbmUgICBCV19CVUREWV9UTEJfUkVRX1RJTUVSX01BU0sJUkVHX0dF
Tk1BU0soMjEsIDE2KQorI2RlZmluZSAgIEJXX0JVRERZX1RMQl9SRVFfVElNRVIoeCkJUkVHX0ZJ
RUxEX1BSRVAoQldfQlVERFlfVExCX1JFUV9USU1FUl9NQVNLLCB4KQogCi0jZGVmaW5lIEJXX0JV
RERZMV9QQUdFX01BU0sJCV9NTUlPKDB4NDUxNDQpCi0jZGVmaW5lIEJXX0JVRERZMl9QQUdFX01B
U0sJCV9NTUlPKDB4NDUxNTQpCisjZGVmaW5lIF9CV19CVUREWTBfUEFHRV9NQVNLCQkweDQ1MTM0
CisjZGVmaW5lIF9CV19CVUREWTFfUEFHRV9NQVNLCQkweDQ1MTQ0CisjZGVmaW5lIEJXX0JVRERZ
X1BBR0VfTUFTSyh4KQkJX01NSU8oX1BJQ0tfRVZFTih4LCBcCisJCQkJCQkJIF9CV19CVUREWTBf
UEFHRV9NQVNLLCBcCisJCQkJCQkJIF9CV19CVUREWTFfUEFHRV9NQVNLKSkKIAogI2RlZmluZSBI
U1dfTkRFX1JTVFdSTl9PUFQJX01NSU8oMHg0NjQwOCkKICNkZWZpbmUgIFJFU0VUX1BDSF9IQU5E
U0hBS0VfRU5BQkxFCSgxIDw8IDQpCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9p
bnRlbF9kZXZpY2VfaW5mby5oIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfZGV2aWNlX2lu
Zm8uaAppbmRleCAzNGRiZmZkNjViYWQuLjczZGE0ZjFiOGUyZSAxMDA2NDQKLS0tIGEvZHJpdmVy
cy9ncHUvZHJtL2k5MTUvaW50ZWxfZGV2aWNlX2luZm8uaAorKysgYi9kcml2ZXJzL2dwdS9kcm0v
aTkxNS9pbnRlbF9kZXZpY2VfaW5mby5oCkBAIC0xNzUsNiArMTc1LDggQEAgc3RydWN0IGludGVs
X2RldmljZV9pbmZvIHsKIAl1OCBwaXBlX21hc2s7CiAJdTggY3B1X3RyYW5zY29kZXJfbWFzazsK
IAorCXU4IGJ3X2J1ZGR5X21hc2s7CisKICNkZWZpbmUgREVGSU5FX0ZMQUcobmFtZSkgdTggbmFt
ZToxCiAJREVWX0lORk9fRk9SX0VBQ0hfRkxBRyhERUZJTkVfRkxBRyk7CiAjdW5kZWYgREVGSU5F
X0ZMQUcKLS0gCjIuMjQuMQoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX18KSW50ZWwtZ2Z4IG1haWxpbmcgbGlzdApJbnRlbC1nZnhAbGlzdHMuZnJlZWRlc2t0
b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vaW50
ZWwtZ2Z4Cg==

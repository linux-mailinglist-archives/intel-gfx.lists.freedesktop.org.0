Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id C9A101FA5C
	for <lists+intel-gfx@lfdr.de>; Wed, 15 May 2019 21:14:30 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 52B4F8925F;
	Wed, 15 May 2019 19:14:28 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from fireflyinternet.com (mail.fireflyinternet.com [109.228.58.192])
 by gabe.freedesktop.org (Postfix) with ESMTPS id ACCEA89258;
 Wed, 15 May 2019 19:14:26 +0000 (UTC)
X-Default-Received-SPF: pass (skip=forwardok (res=PASS))
 x-ip-name=78.156.65.138; 
Received: from localhost (unverified [78.156.65.138]) 
 by fireflyinternet.com (Firefly Internet (M1)) with ESMTP (TLS) id
 16568937-1500050 for multiple; Wed, 15 May 2019 20:14:21 +0100
MIME-Version: 1.0
To: Tvrtko Ursulin <tvrtko.ursulin@linux.intel.com>,
 intel-gfx@lists.freedesktop.org
From: Chris Wilson <chris@chris-wilson.co.uk>
In-Reply-To: <13e9421f-7f34-aaa8-4ecb-5e3a693e5900@linux.intel.com>
References: <20190508100958.32637-1-chris@chris-wilson.co.uk>
 <20190508100958.32637-7-chris@chris-wilson.co.uk>
 <13e9421f-7f34-aaa8-4ecb-5e3a693e5900@linux.intel.com>
Message-ID: <155794766174.12244.18072325118623917943@skylake-alporthouse-com>
User-Agent: alot/0.6
Date: Wed, 15 May 2019 20:14:21 +0100
Subject: Re: [Intel-gfx] [PATCH i-g-t 07/16] i915: Add gem_ctx_clone
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: igt-dev@lists.freedesktop.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

UXVvdGluZyBUdnJ0a28gVXJzdWxpbiAoMjAxOS0wNS0xNCAxMzo0MToxMykKPiAKPiBPbiAwOC8w
NS8yMDE5IDExOjA5LCBDaHJpcyBXaWxzb24gd3JvdGU6Cj4gPiBFeGVyY2lzZSBjbG9uaW5nIGNv
bnRleHRzLCBhbiBleHRlbnNpb24gb2YgbWVyZWx5IGNyZWF0aW5nIG9uZS4KPiA+IAo+ID4gU2ln
bmVkLW9mZi1ieTogQ2hyaXMgV2lsc29uIDxjaHJpc0BjaHJpcy13aWxzb24uY28udWs+Cj4gPiAt
LS0KPiA+ICAgdGVzdHMvTWFrZWZpbGUuc291cmNlcyAgICAgfCAgIDEgKwo+ID4gICB0ZXN0cy9p
OTE1L2dlbV9jdHhfY2xvbmUuYyB8IDQ2MCArKysrKysrKysrKysrKysrKysrKysrKysrKysrKysr
KysrKysrCj4gPiAgIHRlc3RzL21lc29uLmJ1aWxkICAgICAgICAgIHwgICAxICsKPiA+ICAgMyBm
aWxlcyBjaGFuZ2VkLCA0NjIgaW5zZXJ0aW9ucygrKQo+ID4gICBjcmVhdGUgbW9kZSAxMDA2NDQg
dGVzdHMvaTkxNS9nZW1fY3R4X2Nsb25lLmMKPiA+IAo+ID4gZGlmZiAtLWdpdCBhL3Rlc3RzL01h
a2VmaWxlLnNvdXJjZXMgYi90ZXN0cy9NYWtlZmlsZS5zb3VyY2VzCj4gPiBpbmRleCAxYTU0MWQy
MDYuLmUxYjdmZWViMiAxMDA2NDQKPiA+IC0tLSBhL3Rlc3RzL01ha2VmaWxlLnNvdXJjZXMKPiA+
ICsrKyBiL3Rlc3RzL01ha2VmaWxlLnNvdXJjZXMKPiA+IEBAIC0yMSw2ICsyMSw3IEBAIFRFU1RT
X3Byb2dzID0gXAo+ID4gICAgICAgZHJtX2ltcG9ydF9leHBvcnQgXAo+ID4gICAgICAgZHJtX21t
IFwKPiA+ICAgICAgIGRybV9yZWFkIFwKPiA+ICsgICAgIGk5MTUvZ2VtX2N0eF9jbG9uZSBcCj4g
PiAgICAgICBpOTE1L2dlbV92bV9jcmVhdGUgXAo+ID4gICAgICAga21zXzNkIFwKPiA+ICAgICAg
IGttc19hZGRmYl9iYXNpYyBcCj4gPiBkaWZmIC0tZ2l0IGEvdGVzdHMvaTkxNS9nZW1fY3R4X2Ns
b25lLmMgYi90ZXN0cy9pOTE1L2dlbV9jdHhfY2xvbmUuYwo+ID4gbmV3IGZpbGUgbW9kZSAxMDA2
NDQKPiA+IGluZGV4IDAwMDAwMDAwMC4uY2RjNWJmNDEzCj4gPiAtLS0gL2Rldi9udWxsCj4gPiAr
KysgYi90ZXN0cy9pOTE1L2dlbV9jdHhfY2xvbmUuYwo+ID4gQEAgLTAsMCArMSw0NjAgQEAKPiA+
ICsvKgo+ID4gKyAqIENvcHlyaWdodCDCqSAyMDE5IEludGVsIENvcnBvcmF0aW9uCj4gPiArICoK
PiA+ICsgKiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8g
YW55IHBlcnNvbiBvYnRhaW5pbmcgYQo+ID4gKyAqIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQg
YXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgIlNvZnR3YXJlIiksCj4gPiArICog
dG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdp
dGhvdXQgbGltaXRhdGlvbgo+ID4gKyAqIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnks
IG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLAo+ID4gKyAqIGFuZC9vciBz
ZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9t
IHRoZQo+ID4gKyAqIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0
aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6Cj4gPiArICoKPiA+ICsgKiBUaGUgYWJvdmUgY29weXJp
Z2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSAoaW5jbHVkaW5nIHRoZSBuZXh0
Cj4gPiArICogcGFyYWdyYXBoKSBzaGFsbCBiZSBpbmNsdWRlZCBpbiBhbGwgY29waWVzIG9yIHN1
YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZQo+ID4gKyAqIFNvZnR3YXJlLgo+ID4gKyAqCj4gPiAr
ICogVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEICJBUyBJUyIsIFdJVEhPVVQgV0FSUkFOVFkgT0Yg
QU5ZIEtJTkQsIEVYUFJFU1MgT1IKPiA+ICsgKiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBM
SU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSwKPiA+ICsgKiBGSVRO
RVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiAgSU4gTk8g
RVZFTlQgU0hBTEwKPiA+ICsgKiBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBM
SUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUgo+ID4gKyAqIExJQUJJTElUWSwg
V0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklT
SU5HCj4gPiArICogRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdB
UkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUwo+ID4gKyAqIElOIFRIRSBTT0ZUV0FSRS4K
PiA+ICsgKi8KPiA+ICsKPiA+ICsjaW5jbHVkZSAiaWd0LmgiCj4gPiArI2luY2x1ZGUgImlndF9n
dC5oIgo+ID4gKyNpbmNsdWRlICJpOTE1L2dlbV92bS5oIgo+ID4gKyNpbmNsdWRlICJpOTE1X2Ry
bS5oIgo+ID4gKwo+ID4gK3N0YXRpYyBpbnQgY3R4X2NyZWF0ZV9pb2N0bChpbnQgaTkxNSwgc3Ry
dWN0IGRybV9pOTE1X2dlbV9jb250ZXh0X2NyZWF0ZV9leHQgKmFyZykKPiA+ICt7Cj4gPiArICAg
ICBpbnQgZXJyOwo+ID4gKwo+ID4gKyAgICAgZXJyID0gMDsKPiA+ICsgICAgIGlmIChpZ3RfaW9j
dGwoaTkxNSwgRFJNX0lPQ1RMX0k5MTVfR0VNX0NPTlRFWFRfQ1JFQVRFX0VYVCwgYXJnKSkgewo+
ID4gKyAgICAgICAgICAgICBlcnIgPSAtZXJybm87Cj4gPiArICAgICAgICAgICAgIGlndF9hc3N1
bWUoZXJyKTsKPiA+ICsgICAgIH0KPiA+ICsKPiA+ICsgICAgIGVycm5vID0gMDsKPiA+ICsgICAg
IHJldHVybiBlcnI7Cj4gPiArfQo+ID4gKwo+ID4gK3N0YXRpYyBib29sIGhhc19jdHhfY2xvbmUo
aW50IGk5MTUpCj4gPiArewo+ID4gKyAgICAgc3RydWN0IGRybV9pOTE1X2dlbV9jb250ZXh0X2Ny
ZWF0ZV9leHRfY2xvbmUgZXh0ID0gewo+ID4gKyAgICAgICAgICAgICB7IC5uYW1lID0gSTkxNV9D
T05URVhUX0NSRUFURV9FWFRfQ0xPTkUgfSwKPiA+ICsgICAgICAgICAgICAgLmNsb25lX2lkID0g
LTEsCj4gPiArICAgICB9Owo+ID4gKyAgICAgc3RydWN0IGRybV9pOTE1X2dlbV9jb250ZXh0X2Ny
ZWF0ZV9leHQgY3JlYXRlID0gewo+ID4gKyAgICAgICAgICAgICAuZmxhZ3MgPSBJOTE1X0NPTlRF
WFRfQ1JFQVRFX0ZMQUdTX1VTRV9FWFRFTlNJT05TLAo+ID4gKyAgICAgICAgICAgICAuZXh0ZW5z
aW9ucyA9IHRvX3VzZXJfcG9pbnRlcigmZXh0KSwKPiA+ICsgICAgIH07Cj4gPiArICAgICByZXR1
cm4gY3R4X2NyZWF0ZV9pb2N0bChpOTE1LCAmY3JlYXRlKSA9PSAtRU5PRU5UOwo+ID4gK30KPiA+
ICsKPiA+ICtzdGF0aWMgdm9pZCBpbnZhbGlkX2Nsb25lKGludCBpOTE1KQo+ID4gK3sKPiA+ICsg
ICAgIHN0cnVjdCBkcm1faTkxNV9nZW1fY29udGV4dF9jcmVhdGVfZXh0X2Nsb25lIGV4dCA9IHsK
PiA+ICsgICAgICAgICAgICAgeyAubmFtZSA9IEk5MTVfQ09OVEVYVF9DUkVBVEVfRVhUX0NMT05F
IH0sCj4gPiArICAgICB9Owo+ID4gKyAgICAgc3RydWN0IGRybV9pOTE1X2dlbV9jb250ZXh0X2Ny
ZWF0ZV9leHQgY3JlYXRlID0gewo+ID4gKyAgICAgICAgICAgICAuZmxhZ3MgPSBJOTE1X0NPTlRF
WFRfQ1JFQVRFX0ZMQUdTX1VTRV9FWFRFTlNJT05TLAo+ID4gKyAgICAgICAgICAgICAuZXh0ZW5z
aW9ucyA9IHRvX3VzZXJfcG9pbnRlcigmZXh0KSwKPiA+ICsgICAgIH07Cj4gPiArCj4gPiArICAg
ICBpZ3RfYXNzZXJ0X2VxKGN0eF9jcmVhdGVfaW9jdGwoaTkxNSwgJmNyZWF0ZSksIDApOwo+ID4g
KyAgICAgZ2VtX2NvbnRleHRfZGVzdHJveShpOTE1LCBjcmVhdGUuY3R4X2lkKTsKPiA+ICsKPiA+
ICsgICAgIGV4dC5mbGFncyA9IC0xOyAvKiBIb3BlZnVsbHkgd2Ugd29uJ3QgcnVuIG91dCBvZiBm
bGFncyAqLwo+ID4gKyAgICAgaWd0X2Fzc2VydF9lcShjdHhfY3JlYXRlX2lvY3RsKGk5MTUsICZj
cmVhdGUpLCAtRUlOVkFMKTsKPiA+ICsgICAgIGV4dC5mbGFncyA9IDA7Cj4gPiArCj4gPiArICAg
ICBleHQuYmFzZS5uZXh0X2V4dGVuc2lvbiA9IC0xOwo+ID4gKyAgICAgaWd0X2Fzc2VydF9lcShj
dHhfY3JlYXRlX2lvY3RsKGk5MTUsICZjcmVhdGUpLCAtRUZBVUxUKTsKPiA+ICsgICAgIGV4dC5i
YXNlLm5leHRfZXh0ZW5zaW9uID0gdG9fdXNlcl9wb2ludGVyKCZleHQpOwo+ID4gKyAgICAgaWd0
X2Fzc2VydF9lcShjdHhfY3JlYXRlX2lvY3RsKGk5MTUsICZjcmVhdGUpLCAtRTJCSUcpOwo+ID4g
KyAgICAgZXh0LmJhc2UubmV4dF9leHRlbnNpb24gPSAwOwo+ID4gKwo+ID4gKyAgICAgZXh0LmNs
b25lX2lkID0gLTE7Cj4gPiArICAgICBpZ3RfYXNzZXJ0X2VxKGN0eF9jcmVhdGVfaW9jdGwoaTkx
NSwgJmNyZWF0ZSksIC1FTk9FTlQpOwo+ID4gKyAgICAgZXh0LmNsb25lX2lkID0gMDsKPiA+ICt9
Cj4gPiArCj4gPiArc3RhdGljIHZvaWQgY2xvbmVfZmxhZ3MoaW50IGk5MTUpCj4gPiArewo+ID4g
KyAgICAgc3RydWN0IGRybV9pOTE1X2dlbV9jb250ZXh0X2NyZWF0ZV9leHRfc2V0cGFyYW0gc2V0
ID0gewo+ID4gKyAgICAgICAgICAgICB7IC5uYW1lID0gSTkxNV9DT05URVhUX0NSRUFURV9FWFRf
U0VUUEFSQU0gfSwKPiA+ICsgICAgICAgICAgICAgeyAucGFyYW0gPSBJOTE1X0NPTlRFWFRfUEFS
QU1fUkVDT1ZFUkFCTEUgfSwKPiA+ICsgICAgIH07Cj4gPiArICAgICBzdHJ1Y3QgZHJtX2k5MTVf
Z2VtX2NvbnRleHRfY3JlYXRlX2V4dF9jbG9uZSBleHQgPSB7Cj4gPiArICAgICAgICAgICAgIHsg
Lm5hbWUgPSBJOTE1X0NPTlRFWFRfQ1JFQVRFX0VYVF9DTE9ORSB9LAo+ID4gKyAgICAgICAgICAg
ICAuZmxhZ3MgPSBJOTE1X0NPTlRFWFRfQ0xPTkVfRkxBR1MsCj4gPiArICAgICB9Owo+ID4gKyAg
ICAgc3RydWN0IGRybV9pOTE1X2dlbV9jb250ZXh0X2NyZWF0ZV9leHQgY3JlYXRlID0gewo+ID4g
KyAgICAgICAgICAgICAuZmxhZ3MgPSBJOTE1X0NPTlRFWFRfQ1JFQVRFX0ZMQUdTX1VTRV9FWFRF
TlNJT05TLAo+ID4gKyAgICAgICAgICAgICAuZXh0ZW5zaW9ucyA9IHRvX3VzZXJfcG9pbnRlcigm
ZXh0KSwKPiA+ICsgICAgIH07Cj4gPiArICAgICBpbnQgZXhwZWN0ZWQ7Cj4gPiArCj4gPiArICAg
ICBzZXQucGFyYW0udmFsdWUgPSAxOyAvKiBkZWZhdWx0IGlzIHJlY292ZXJhYmxlICovCj4gPiAr
ICAgICBpZ3RfcmVxdWlyZShfX2dlbV9jb250ZXh0X3NldF9wYXJhbShpOTE1LCAmc2V0LnBhcmFt
KSA9PSAwKTsKPiA+ICsKPiA+ICsgICAgIGZvciAoaW50IHBhc3MgPSAwOyBwYXNzIDwgMjsgcGFz
cysrKSB7IC8qIGNsb25pbmcgZGVmYXVsdCwgdGhlbiBjaGlsZCAqLwo+ID4gKyAgICAgICAgICAg
ICBpZ3RfZGVidWcoIkNsb25pbmcgJWRcbiIsIGV4dC5jbG9uZV9pZCk7Cj4gPiArICAgICAgICAg
ICAgIGlndF9hc3NlcnRfZXEoY3R4X2NyZWF0ZV9pb2N0bChpOTE1LCAmY3JlYXRlKSwgMCk7Cj4g
PiArCj4gPiArICAgICAgICAgICAgIHNldC5wYXJhbS5jdHhfaWQgPSBleHQuY2xvbmVfaWQ7Cj4g
PiArICAgICAgICAgICAgIGdlbV9jb250ZXh0X2dldF9wYXJhbShpOTE1LCAmc2V0LnBhcmFtKTsg
PiArICAgICAgICAgICAgZXhwZWN0ZWQgPSBzZXQucGFyYW0udmFsdWU7Cj4gPiArCj4gPiArICAg
ICAgICAgICAgIHNldC5wYXJhbS5jdHhfaWQgPSBjcmVhdGUuY3R4X2lkOwo+ID4gKyAgICAgICAg
ICAgICBnZW1fY29udGV4dF9nZXRfcGFyYW0oaTkxNSwgJnNldC5wYXJhbSk7Cj4gPiArCj4gPiAr
ICAgICAgICAgICAgIGlndF9hc3NlcnRfZXFfdTY0KHNldC5wYXJhbS5wYXJhbSwKPiA+ICsgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgSTkxNV9DT05URVhUX1BBUkFNX1JFQ09WRVJBQkxF
KTsKPiA+ICsgICAgICAgICAgICAgaWd0X2Fzc2VydF9lcSgoaW50KXNldC5wYXJhbS52YWx1ZSwg
ZXhwZWN0ZWQpOwo+ID4gKwo+ID4gKyAgICAgICAgICAgICBnZW1fY29udGV4dF9kZXN0cm95KGk5
MTUsIGNyZWF0ZS5jdHhfaWQpOwo+ID4gKwo+ID4gKyAgICAgICAgICAgICBleHBlY3RlZCA9IHNl
dC5wYXJhbS52YWx1ZSA9IDA7Cj4gPiArICAgICAgICAgICAgIHNldC5wYXJhbS5jdHhfaWQgPSBl
eHQuY2xvbmVfaWQ7Cj4gPiArICAgICAgICAgICAgIGdlbV9jb250ZXh0X3NldF9wYXJhbShpOTE1
LCAmc2V0LnBhcmFtKTsKPiA+ICsKPiA+ICsgICAgICAgICAgICAgaWd0X2Fzc2VydF9lcShjdHhf
Y3JlYXRlX2lvY3RsKGk5MTUsICZjcmVhdGUpLCAwKTsKPiA+ICsKPiA+ICsgICAgICAgICAgICAg
c2V0LnBhcmFtLmN0eF9pZCA9IGNyZWF0ZS5jdHhfaWQ7Cj4gPiArICAgICAgICAgICAgIGdlbV9j
b250ZXh0X2dldF9wYXJhbShpOTE1LCAmc2V0LnBhcmFtKTsKPiA+ICsKPiA+ICsgICAgICAgICAg
ICAgaWd0X2Fzc2VydF9lcV91NjQoc2V0LnBhcmFtLnBhcmFtLAo+ID4gKyAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICBJOTE1X0NPTlRFWFRfUEFSQU1fUkVDT1ZFUkFCTEUpOwo+ID4gKyAg
ICAgICAgICAgICBpZ3RfYXNzZXJ0X2VxKChpbnQpc2V0LnBhcmFtLnZhbHVlLCBleHBlY3RlZCk7
Cj4gPiArCj4gPiArICAgICAgICAgICAgIGdlbV9jb250ZXh0X2Rlc3Ryb3koaTkxNSwgY3JlYXRl
LmN0eF9pZCk7Cj4gPiArCj4gPiArICAgICAgICAgICAgIC8qIGNsb25lIGJ1dCB0aGVuIHJlc2V0
IHByaW9yaXR5IHRvIGRlZmF1bHQuLi4gKi8KPiAKPiBKdXN0IGNvcnJlY3QgcHJpb3JpdHkvcHJp
byBoZXJlIGFuZCBiZWxvdy4KPiAKPiA+ICsgICAgICAgICAgICAgc2V0LnBhcmFtLmN0eF9pZCA9
IDA7Cj4gPiArICAgICAgICAgICAgIHNldC5wYXJhbS52YWx1ZSA9IDE7Cj4gPiArICAgICAgICAg
ICAgIGV4dC5iYXNlLm5leHRfZXh0ZW5zaW9uID0gdG9fdXNlcl9wb2ludGVyKCZzZXQpOwo+ID4g
KyAgICAgICAgICAgICBpZ3RfYXNzZXJ0X2VxKGN0eF9jcmVhdGVfaW9jdGwoaTkxNSwgJmNyZWF0
ZSksIDApOwo+ID4gKyAgICAgICAgICAgICBleHQuYmFzZS5uZXh0X2V4dGVuc2lvbiA9IDA7Cj4g
PiArCj4gPiArICAgICAgICAgICAgIC8qIG5ldyBjb250ZXh0IHNob3VsZCBoYXZlIHVwZGF0ZWQg
cHJpby4uLiAqLwo+ID4gKyAgICAgICAgICAgICBzZXQucGFyYW0uY3R4X2lkID0gY3JlYXRlLmN0
eF9pZDsKPiA+ICsgICAgICAgICAgICAgZ2VtX2NvbnRleHRfZ2V0X3BhcmFtKGk5MTUsICZzZXQu
cGFyYW0pOwo+ID4gKyAgICAgICAgICAgICBpZ3RfYXNzZXJ0X2VxX3U2NChzZXQucGFyYW0udmFs
dWUsIDEpOwo+ID4gKwo+ID4gKyAgICAgICAgICAgICAvKiBidXQgb3JpZ2luYWwgY29udGV4dCBz
aG91bGQgaGF2ZSBkZWZhdWx0IHByaW8gKi8KPiA+ICsgICAgICAgICAgICAgc2V0LnBhcmFtLmN0
eF9pZCA9IGV4dC5jbG9uZV9pZDsKPiA+ICsgICAgICAgICAgICAgZ2VtX2NvbnRleHRfZ2V0X3Bh
cmFtKGk5MTUsICZzZXQucGFyYW0pOwo+ID4gKyAgICAgICAgICAgICBpZ3RfYXNzZXJ0X2VxX3U2
NChzZXQucGFyYW0udmFsdWUsIDApOwo+ID4gKwo+ID4gKyAgICAgICAgICAgICBnZW1fY29udGV4
dF9kZXN0cm95KGk5MTUsIGNyZWF0ZS5jdHhfaWQpOwo+ID4gKyAgICAgICAgICAgICBleHQuY2xv
bmVfaWQgPSBnZW1fY29udGV4dF9jcmVhdGUoaTkxNSk7Cj4gPiArICAgICB9Cj4gPiArCj4gPiAr
ICAgICBnZW1fY29udGV4dF9kZXN0cm95KGk5MTUsIGV4dC5jbG9uZV9pZCk7Cj4gPiArfQo+ID4g
Kwo+ID4gK3N0YXRpYyB2b2lkIGNsb25lX2VuZ2luZXMoaW50IGk5MTUpCj4gPiArewo+ID4gKyAg
ICAgc3RydWN0IGRybV9pOTE1X2dlbV9jb250ZXh0X2NyZWF0ZV9leHRfc2V0cGFyYW0gc2V0ID0g
ewo+ID4gKyAgICAgICAgICAgICB7IC5uYW1lID0gSTkxNV9DT05URVhUX0NSRUFURV9FWFRfU0VU
UEFSQU0gfSwKPiA+ICsgICAgICAgICAgICAgeyAucGFyYW0gPSBJOTE1X0NPTlRFWFRfUEFSQU1f
RU5HSU5FUyB9LAo+ID4gKyAgICAgfTsKPiA+ICsgICAgIHN0cnVjdCBkcm1faTkxNV9nZW1fY29u
dGV4dF9jcmVhdGVfZXh0X2Nsb25lIGV4dCA9IHsKPiA+ICsgICAgICAgICAgICAgeyAubmFtZSA9
IEk5MTVfQ09OVEVYVF9DUkVBVEVfRVhUX0NMT05FIH0sCj4gPiArICAgICAgICAgICAgIC5mbGFn
cyA9IEk5MTVfQ09OVEVYVF9DTE9ORV9FTkdJTkVTLAo+ID4gKyAgICAgfTsKPiA+ICsgICAgIHN0
cnVjdCBkcm1faTkxNV9nZW1fY29udGV4dF9jcmVhdGVfZXh0IGNyZWF0ZSA9IHsKPiA+ICsgICAg
ICAgICAgICAgLmZsYWdzID0gSTkxNV9DT05URVhUX0NSRUFURV9GTEFHU19VU0VfRVhURU5TSU9O
UywKPiA+ICsgICAgICAgICAgICAgLmV4dGVuc2lvbnMgPSB0b191c2VyX3BvaW50ZXIoJmV4dCks
Cj4gPiArICAgICB9Owo+ID4gKyAgICAgSTkxNV9ERUZJTkVfQ09OVEVYVF9QQVJBTV9FTkdJTkVT
KGV4cGVjdGVkLCA2NCk7Cj4gPiArICAgICBJOTE1X0RFRklORV9DT05URVhUX1BBUkFNX0VOR0lO
RVMoZW5naW5lcywgNjQpOwo+ID4gKyAgICAgdWludDY0X3QgZXhfc2l6ZTsKPiA+ICsKPiA+ICsg
ICAgIG1lbXNldCgmZXhwZWN0ZWQsIDAsIHNpemVvZihleHBlY3RlZCkpOwo+ID4gKyAgICAgbWVt
c2V0KCZlbmdpbmVzLCAwLCBzaXplb2YoZW5naW5lcykpOwo+ID4gKwo+ID4gKyAgICAgaWd0X3Jl
cXVpcmUoX19nZW1fY29udGV4dF9zZXRfcGFyYW0oaTkxNSwgJnNldC5wYXJhbSkgPT0gMCk7Cj4g
PiArCj4gPiArICAgICBmb3IgKGludCBwYXNzID0gMDsgcGFzcyA8IDI7IHBhc3MrKykgeyAvKiBj
bG9uaW5nIGRlZmF1bHQsIHRoZW4gY2hpbGQgKi8KPiA+ICsgICAgICAgICAgICAgaWd0X2RlYnVn
KCJDbG9uaW5nICVkXG4iLCBleHQuY2xvbmVfaWQpOwo+ID4gKyAgICAgICAgICAgICBpZ3RfYXNz
ZXJ0X2VxKGN0eF9jcmVhdGVfaW9jdGwoaTkxNSwgJmNyZWF0ZSksIDApOwo+ID4gKwo+ID4gKyAg
ICAgICAgICAgICBzZXQucGFyYW0uY3R4X2lkID0gZXh0LmNsb25lX2lkOwo+ID4gKyAgICAgICAg
ICAgICBzZXQucGFyYW0uc2l6ZSA9IHNpemVvZihleHBlY3RlZCk7Cj4gPiArICAgICAgICAgICAg
IHNldC5wYXJhbS52YWx1ZSA9IHRvX3VzZXJfcG9pbnRlcigmZXhwZWN0ZWQpOwo+ID4gKyAgICAg
ICAgICAgICBnZW1fY29udGV4dF9nZXRfcGFyYW0oaTkxNSwgJnNldC5wYXJhbSk7Cj4gPiArICAg
ICAgICAgICAgIGV4X3NpemUgPSBzZXQucGFyYW0uc2l6ZTsKPiA+ICsKPiA+ICsgICAgICAgICAg
ICAgc2V0LnBhcmFtLmN0eF9pZCA9IGNyZWF0ZS5jdHhfaWQ7Cj4gPiArICAgICAgICAgICAgIHNl
dC5wYXJhbS5zaXplID0gc2l6ZW9mKGVuZ2luZXMpOwo+ID4gKyAgICAgICAgICAgICBzZXQucGFy
YW0udmFsdWUgPSB0b191c2VyX3BvaW50ZXIoJmVuZ2luZXMpOwo+ID4gKyAgICAgICAgICAgICBn
ZW1fY29udGV4dF9nZXRfcGFyYW0oaTkxNSwgJnNldC5wYXJhbSk7Cj4gPiArCj4gPiArICAgICAg
ICAgICAgIGlndF9hc3NlcnRfZXFfdTY0KHNldC5wYXJhbS5wYXJhbSwgSTkxNV9DT05URVhUX1BB
UkFNX0VOR0lORVMpOwo+ID4gKyAgICAgICAgICAgICBpZ3RfYXNzZXJ0X2VxX3U2NChzZXQucGFy
YW0uc2l6ZSwgZXhfc2l6ZSk7Cj4gPiArICAgICAgICAgICAgIGlndF9hc3NlcnQoIW1lbWNtcCgm
ZW5naW5lcywgJmV4cGVjdGVkLCBleF9zaXplKSk7Cj4gPiArCj4gPiArICAgICAgICAgICAgIGdl
bV9jb250ZXh0X2Rlc3Ryb3koaTkxNSwgY3JlYXRlLmN0eF9pZCk7Cj4gPiArCj4gPiArICAgICAg
ICAgICAgIGV4cGVjdGVkLmVuZ2luZXNbMF0uZW5naW5lX2NsYXNzID0KPiA+ICsgICAgICAgICAg
ICAgICAgICAgICBJOTE1X0VOR0lORV9DTEFTU19JTlZBTElEOwo+ID4gKyAgICAgICAgICAgICBl
eHBlY3RlZC5lbmdpbmVzWzBdLmVuZ2luZV9pbnN0YW5jZSA9Cj4gPiArICAgICAgICAgICAgICAg
ICAgICAgSTkxNV9FTkdJTkVfQ0xBU1NfSU5WQUxJRF9OT05FOwo+ID4gKyAgICAgICAgICAgICBl
eF9zaXplID0gKHNpemVvZihzdHJ1Y3QgaTkxNV9jb250ZXh0X3BhcmFtX2VuZ2luZXMpICsKPiA+
ICsgICAgICAgICAgICAgICAgICAgICAgICBzaXplb2YoZXhwZWN0ZWQuZW5naW5lc1swXSkpOwo+
ID4gKwo+ID4gKyAgICAgICAgICAgICBzZXQucGFyYW0uY3R4X2lkID0gZXh0LmNsb25lX2lkOwo+
ID4gKyAgICAgICAgICAgICBzZXQucGFyYW0uc2l6ZSA9IGV4X3NpemU7Cj4gPiArICAgICAgICAg
ICAgIHNldC5wYXJhbS52YWx1ZSA9IHRvX3VzZXJfcG9pbnRlcigmZXhwZWN0ZWQpOwo+ID4gKyAg
ICAgICAgICAgICBnZW1fY29udGV4dF9zZXRfcGFyYW0oaTkxNSwgJnNldC5wYXJhbSk7Cj4gPiAr
Cj4gPiArICAgICAgICAgICAgIGlndF9hc3NlcnRfZXEoY3R4X2NyZWF0ZV9pb2N0bChpOTE1LCAm
Y3JlYXRlKSwgMCk7Cj4gPiArCj4gPiArICAgICAgICAgICAgIHNldC5wYXJhbS5jdHhfaWQgPSBj
cmVhdGUuY3R4X2lkOwo+ID4gKyAgICAgICAgICAgICBzZXQucGFyYW0uc2l6ZSA9IHNpemVvZihl
bmdpbmVzKTsKPiA+ICsgICAgICAgICAgICAgc2V0LnBhcmFtLnZhbHVlID0gdG9fdXNlcl9wb2lu
dGVyKCZlbmdpbmVzKTsKPiA+ICsgICAgICAgICAgICAgZ2VtX2NvbnRleHRfZ2V0X3BhcmFtKGk5
MTUsICZzZXQucGFyYW0pOwo+ID4gKwo+ID4gKyAgICAgICAgICAgICBpZ3RfYXNzZXJ0X2VxX3U2
NChzZXQucGFyYW0uc2l6ZSwgZXhfc2l6ZSk7Cj4gPiArICAgICAgICAgICAgIGlndF9hc3NlcnQo
IW1lbWNtcCgmZW5naW5lcywgJmV4cGVjdGVkLCBleF9zaXplKSk7Cj4gPiArCj4gPiArICAgICAg
ICAgICAgIGdlbV9jb250ZXh0X2Rlc3Ryb3koaTkxNSwgY3JlYXRlLmN0eF9pZCk7Cj4gPiArCj4g
PiArICAgICAgICAgICAgIC8qIGNsb25lIGJ1dCB0aGVuIHJlc2V0IGVuZ2luZXMgdG8gZGVmYXVs
dCAqLwo+ID4gKyAgICAgICAgICAgICBzZXQucGFyYW0uY3R4X2lkID0gMDsKPiA+ICsgICAgICAg
ICAgICAgc2V0LnBhcmFtLnNpemUgPSAwOwo+ID4gKyAgICAgICAgICAgICBzZXQucGFyYW0udmFs
dWUgPSAwOwo+ID4gKyAgICAgICAgICAgICBleHQuYmFzZS5uZXh0X2V4dGVuc2lvbiA9IHRvX3Vz
ZXJfcG9pbnRlcigmc2V0KTsKPiA+ICsKPiA+ICsgICAgICAgICAgICAgaWd0X2Fzc2VydF9lcShj
dHhfY3JlYXRlX2lvY3RsKGk5MTUsICZjcmVhdGUpLCAwKTsKPiA+ICsgICAgICAgICAgICAgZXh0
LmJhc2UubmV4dF9leHRlbnNpb24gPSAwOwo+ID4gKwo+ID4gKyAgICAgICAgICAgICBzZXQucGFy
YW0uY3R4X2lkID0gY3JlYXRlLmN0eF9pZDsKPiA+ICsgICAgICAgICAgICAgc2V0LnBhcmFtLnNp
emUgPSBzaXplb2YoZW5naW5lcyk7Cj4gPiArICAgICAgICAgICAgIHNldC5wYXJhbS52YWx1ZSA9
IHRvX3VzZXJfcG9pbnRlcigmZW5naW5lcyk7Cj4gPiArICAgICAgICAgICAgIGdlbV9jb250ZXh0
X2dldF9wYXJhbShpOTE1LCAmc2V0LnBhcmFtKTsKPiA+ICsgICAgICAgICAgICAgaWd0X2Fzc2Vy
dF9lcV91NjQoc2V0LnBhcmFtLnNpemUsIDApOwo+ID4gKwo+ID4gKyAgICAgICAgICAgICBnZW1f
Y29udGV4dF9kZXN0cm95KGk5MTUsIGNyZWF0ZS5jdHhfaWQpOwo+ID4gKwo+ID4gKyAgICAgICAg
ICAgICAvKiBBbmQgY2hlY2sgd2UgaWdub3JlIHRoZSBmbGFnICovCj4gPiArICAgICAgICAgICAg
IGV4dC5mbGFncyA9IDA7Cj4gPiArICAgICAgICAgICAgIGlndF9hc3NlcnRfZXEoY3R4X2NyZWF0
ZV9pb2N0bChpOTE1LCAmY3JlYXRlKSwgMCk7Cj4gPiArICAgICAgICAgICAgIGV4dC5mbGFncyA9
IEk5MTVfQ09OVEVYVF9DTE9ORV9FTkdJTkVTOwo+ID4gKwo+ID4gKyAgICAgICAgICAgICBzZXQu
cGFyYW0uY3R4X2lkID0gY3JlYXRlLmN0eF9pZDsKPiA+ICsgICAgICAgICAgICAgc2V0LnBhcmFt
LnNpemUgPSBzaXplb2YoZW5naW5lcyk7Cj4gPiArICAgICAgICAgICAgIHNldC5wYXJhbS52YWx1
ZSA9IHRvX3VzZXJfcG9pbnRlcigmZW5naW5lcyk7Cj4gPiArICAgICAgICAgICAgIGdlbV9jb250
ZXh0X2dldF9wYXJhbShpOTE1LCAmc2V0LnBhcmFtKTsKPiA+ICsgICAgICAgICAgICAgaWd0X2Fz
c2VydF9lcV91NjQoc2V0LnBhcmFtLnNpemUsIDApOwo+IAo+IEl0IGlzIHF1aXRlIGhhcmQgdG8g
cmV2aWV3L2ZvbGxvdyBhbGwgdGhlc2UgdGVzdHMgKGFuZCBzbyBnYXVnZSB0aGUgCj4gY292ZXJh
Z2UpLiBJdCBpcyBhIHZlcnkgc3RhdGVmdWwgZmxvdyBhbmQgZm9yIGVhY2ggc3RlcCBvbmUgaGFz
IHRvIAo+IHJlbWVtYmVyL2JhY2stcmVmZXJlbmNlIHdoYXQgaXMgdGhlIGN1cnJlbnRseSBhY3Rp
dmUgY2hhaW4gb2YgCj4gZXh0ZW5zaW9ucywgYW5kIHdoYXQgaXMgdGhlIGFjdGl2ZSBzdGF0ZSBv
ZiBjb250ZXh0cyBhbmQgdXNlZCBjb250ZXh0IGlkcy4KPiAKPiBBbm5veWluZ2x5IEkgZG9uJ3Qg
aGF2ZSBhbnkgZ29vZCBpZGVhcyBvbiBob3cgdG8gZWFzaWx5IGFuZCByZWFzb25hYmx5IAo+IGV4
cHJlc3MgdGhpcy4gUGVyaGFwcyBsZXNzIHJldXNlIG9mIHRoZSBzYW1lIHN0YWNrIG9iamVjdHMg
aW4gZmF2b3VyIG9mIAo+IGRlZGljYXRlZCBoZWxwZXJzIGZvciBxdWVyeWluZyB3b3VsZCByZWR1
Y2UgdGhlIG1lc3M/IEhhcmQgdG8gc2F5IAo+IHdpdGhvdXQgdHJ5aW5nIGl0IG91dC4KPiAKPiBC
dXQgSSB0aGluayBzb21ldGhpbmcgbmVlZHMgdG8gYmUgZG9uZSBzaW5jZSBwZW9wbGUgd2lsbCBz
dHJ1Z2dsZSB0byAKPiBmb2xsb3cgdGhpcyBpZiB0aGVyZSBpcyBhIGJ1ZyBvbmUgZGF5LgoKW3Nu
aXBdCgo+IEl0IGxvb2tzIGZpbmUgaW4gcHJpbmNpcGxlIHNvIEkgbGVhdmUgdG8geW91ciBjb25z
Y2llbmNlIGlmIHlvdSdsbCB0cnkgCj4gdG8gaW1wcm92ZSB0aGUgcmVhZGFiaWxpdHkuIDopIFdp
dGggdGhlIHByaW9yaXR5IHJlbmFtZWQgdG8gcmVjb3ZlcmFibGU6CgpZb3Uga25vdyBJIGNhcmUg
dmVyeSBsaXR0bGUgZm9yIG5lZ2F0aXZlIHRlc3RpbmcgdGhhdCBpcyBiZXR0ZXIgbGVmdCB0bwpm
dXp6aW5nLiBDb3ZlcmFnZSwgdXRpbGl0eSBhbmQgdmVyc2F0aWxpdHkgb2YgdGhlc2UgaGFuZHdy
aXR0ZW4gdGVzdHMKYmFyZWx5IGp1c3RpZmllcyB0aGUgZWZmb3J0LiBBIGxvdCBvZiB3b3JrIHRv
IHNjcmF0Y2ggdGhlIHN1cmZhY2UsIHRoYXQKZmFpbHMgdG8gcHJvYmUgYW55dGhpbmcgaW50ZXJl
c3RpbmcuCi1DaHJpcwpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fXwpJbnRlbC1nZnggbWFpbGluZyBsaXN0CkludGVsLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5v
cmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9pbnRlbC1n
Zng=

Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 3103B6252E
	for <lists+intel-gfx@lfdr.de>; Mon,  8 Jul 2019 17:49:21 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 71559894DE;
	Mon,  8 Jul 2019 15:49:19 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from fireflyinternet.com (mail.fireflyinternet.com [109.228.58.192])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 8827C88C49
 for <intel-gfx@lists.freedesktop.org>; Mon,  8 Jul 2019 15:49:17 +0000 (UTC)
X-Default-Received-SPF: pass (skip=forwardok (res=PASS))
 x-ip-name=78.156.65.138; 
Received: from haswell.alporthouse.com (unverified [78.156.65.138]) 
 by fireflyinternet.com (Firefly Internet (M1)) with ESMTP id 17172027-1500050 
 for <intel-gfx@lists.freedesktop.org>; Mon, 08 Jul 2019 16:49:15 +0100
From: Chris Wilson <chris@chris-wilson.co.uk>
To: intel-gfx@lists.freedesktop.org
Date: Mon,  8 Jul 2019 16:49:14 +0100
Message-Id: <20190708154914.26850-1-chris@chris-wilson.co.uk>
X-Mailer: git-send-email 2.20.1
MIME-Version: 1.0
Subject: [Intel-gfx] [CI] drm/i915: Explicitly track active fw_domain timers
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

U3RvcCBndWVzc2luZyBvdmVyIHdoZXRoZXIgd2UgaGF2ZSBhbiBleHRyYSB3YWtlcmVmIGhlbGQg
YnkgdGhlIGRlbGF5ZWQKZncgcHV0LCBhbmQgdHJhY2sgaXQgZXhwbGljaXRseSBmb3IgdGhlIHNh
a2Ugb2YgZGVidWcuCgpTaWduZWQtb2ZmLWJ5OiBDaHJpcyBXaWxzb24gPGNocmlzQGNocmlzLXdp
bHNvbi5jby51az4KQ2M6IFR2cnRrbyBVcnN1bGluIDx0dnJ0a28udXJzdWxpbkBpbnRlbC5jb20+
ClJldmlld2VkLWJ5OiBNaWthIEt1b3BwYWxhIDxtaWthLmt1b3BwYWxhQGxpbnV4LmludGVsLmNv
bT4KLS0tCiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF91bmNvcmUuYyB8IDE1ICsrKysrKysr
LS0tLS0tLQogZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfdW5jb3JlLmggfCAgMSArCiAyIGZp
bGVzIGNoYW5nZWQsIDkgaW5zZXJ0aW9ucygrKSwgNyBkZWxldGlvbnMoLSkKCmRpZmYgLS1naXQg
YS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF91bmNvcmUuYyBiL2RyaXZlcnMvZ3B1L2RybS9p
OTE1L2ludGVsX3VuY29yZS5jCmluZGV4IDVmMDM2N2ZkMzIwMC4uNDAxNWU5NjRjNmZjIDEwMDY0
NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF91bmNvcmUuYworKysgYi9kcml2ZXJz
L2dwdS9kcm0vaTkxNS9pbnRlbF91bmNvcmUuYwpAQCAtNzgsNiArNzgsOCBAQCBmd19kb21haW5f
cmVzZXQoY29uc3Qgc3RydWN0IGludGVsX3VuY29yZV9mb3JjZXdha2VfZG9tYWluICpkKQogc3Rh
dGljIGlubGluZSB2b2lkCiBmd19kb21haW5fYXJtX3RpbWVyKHN0cnVjdCBpbnRlbF91bmNvcmVf
Zm9yY2V3YWtlX2RvbWFpbiAqZCkKIHsKKwlHRU1fQlVHX09OKGQtPnVuY29yZS0+ZndfZG9tYWlu
c190aW1lciAmIGQtPm1hc2spOworCWQtPnVuY29yZS0+ZndfZG9tYWluc190aW1lciB8PSBkLT5t
YXNrOwogCWQtPndha2VfY291bnQrKzsKIAlocnRpbWVyX3N0YXJ0X3JhbmdlX25zKCZkLT50aW1l
ciwKIAkJCSAgICAgICBOU0VDX1BFUl9NU0VDLApAQCAtMzUzLDkgKzM1NSwxMCBAQCBpbnRlbF91
bmNvcmVfZndfcmVsZWFzZV90aW1lcihzdHJ1Y3QgaHJ0aW1lciAqdGltZXIpCiAJCXJldHVybiBI
UlRJTUVSX1JFU1RBUlQ7CiAKIAlzcGluX2xvY2tfaXJxc2F2ZSgmdW5jb3JlLT5sb2NrLCBpcnFm
bGFncyk7Ci0JaWYgKFdBUk5fT04oZG9tYWluLT53YWtlX2NvdW50ID09IDApKQotCQlkb21haW4t
Pndha2VfY291bnQrKzsKIAorCXVuY29yZS0+ZndfZG9tYWluc190aW1lciAmPSB+ZG9tYWluLT5t
YXNrOworCisJR0VNX0JVR19PTighZG9tYWluLT53YWtlX2NvdW50KTsKIAlpZiAoLS1kb21haW4t
Pndha2VfY291bnQgPT0gMCkKIAkJdW5jb3JlLT5mdW5jcy5mb3JjZV93YWtlX3B1dCh1bmNvcmUs
IGRvbWFpbi0+bWFzayk7CiAKQEAgLTY3Myw4ICs2NzYsNyBAQCBzdGF0aWMgdm9pZCBfX2ludGVs
X3VuY29yZV9mb3JjZXdha2VfcHV0KHN0cnVjdCBpbnRlbF91bmNvcmUgKnVuY29yZSwKIAlmd19k
b21haW5zICY9IHVuY29yZS0+ZndfZG9tYWluczsKIAogCWZvcl9lYWNoX2Z3X2RvbWFpbl9tYXNr
ZWQoZG9tYWluLCBmd19kb21haW5zLCB1bmNvcmUsIHRtcCkgewotCQlpZiAoV0FSTl9PTihkb21h
aW4tPndha2VfY291bnQgPT0gMCkpCi0JCQljb250aW51ZTsKKwkJR0VNX0JVR19PTighZG9tYWlu
LT53YWtlX2NvdW50KTsKIAogCQlpZiAoLS1kb21haW4tPndha2VfY291bnQpIHsKIAkJCWRvbWFp
bi0+YWN0aXZlID0gdHJ1ZTsKQEAgLTc2NCw3ICs3NjYsNyBAQCB2b2lkIGFzc2VydF9mb3JjZXdh
a2VzX2FjdGl2ZShzdHJ1Y3QgaW50ZWxfdW5jb3JlICp1bmNvcmUsCiAJCXVuc2lnbmVkIGludCBh
Y3R1YWwgPSBSRUFEX09OQ0UoZG9tYWluLT53YWtlX2NvdW50KTsKIAkJdW5zaWduZWQgaW50IGV4
cGVjdCA9IDE7CiAKLQkJaWYgKGhydGltZXJfYWN0aXZlKCZkb21haW4tPnRpbWVyKSAmJiBSRUFE
X09OQ0UoZG9tYWluLT5hY3RpdmUpKQorCQlpZiAodW5jb3JlLT5md19kb21haW5zX3RpbWVyICYg
ZG9tYWluLT5tYXNrKQogCQkJZXhwZWN0Kys7IC8qIHBlbmRpbmcgYXV0b21hdGljIHJlbGVhc2Ug
Ki8KIAogCQlpZiAoV0FSTihhY3R1YWwgPCBleHBlY3QsCkBAIC0xMTYwLDggKzExNjIsNyBAQCBz
dGF0aWMgbm9pbmxpbmUgdm9pZCBfX19mb3JjZV93YWtlX2F1dG8oc3RydWN0IGludGVsX3VuY29y
ZSAqdW5jb3JlLAogc3RhdGljIGlubGluZSB2b2lkIF9fZm9yY2Vfd2FrZV9hdXRvKHN0cnVjdCBp
bnRlbF91bmNvcmUgKnVuY29yZSwKIAkJCQkgICAgIGVudW0gZm9yY2V3YWtlX2RvbWFpbnMgZndf
ZG9tYWlucykKIHsKLQlpZiAoV0FSTl9PTighZndfZG9tYWlucykpCi0JCXJldHVybjsKKwlHRU1f
QlVHX09OKCFmd19kb21haW5zKTsKIAogCS8qIFR1cm4gb24gYWxsIHJlcXVlc3RlZCBidXQgaW5h
Y3RpdmUgc3VwcG9ydGVkIGZvcmNld2FrZSBkb21haW5zLiAqLwogCWZ3X2RvbWFpbnMgJj0gdW5j
b3JlLT5md19kb21haW5zOwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxf
dW5jb3JlLmggYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF91bmNvcmUuaAppbmRleCA3MTA4
NDc1ZDliMjQuLjJmNmZmYTMwOTY2OSAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUv
aW50ZWxfdW5jb3JlLmgKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfdW5jb3JlLmgK
QEAgLTEyMyw2ICsxMjMsNyBAQCBzdHJ1Y3QgaW50ZWxfdW5jb3JlIHsKIAogCWVudW0gZm9yY2V3
YWtlX2RvbWFpbnMgZndfZG9tYWluczsKIAllbnVtIGZvcmNld2FrZV9kb21haW5zIGZ3X2RvbWFp
bnNfYWN0aXZlOworCWVudW0gZm9yY2V3YWtlX2RvbWFpbnMgZndfZG9tYWluc190aW1lcjsKIAll
bnVtIGZvcmNld2FrZV9kb21haW5zIGZ3X2RvbWFpbnNfc2F2ZWQ7IC8qIHVzZXIgZG9tYWlucyBz
YXZlZCBmb3IgUzMgKi8KIAogCXN0cnVjdCBpbnRlbF91bmNvcmVfZm9yY2V3YWtlX2RvbWFpbiB7
Ci0tIAoyLjIwLjEKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fCkludGVsLWdmeCBtYWlsaW5nIGxpc3QKSW50ZWwtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9y
ZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2ludGVsLWdm
eA==

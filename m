Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id A993B175B63
	for <lists+intel-gfx@lfdr.de>; Mon,  2 Mar 2020 14:15:51 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 10DE56E2F3;
	Mon,  2 Mar 2020 13:15:50 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga03.intel.com (mga03.intel.com [134.134.136.65])
 by gabe.freedesktop.org (Postfix) with ESMTPS id EED876E2F3
 for <intel-gfx@lists.freedesktop.org>; Mon,  2 Mar 2020 13:15:48 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from fmsmga008.fm.intel.com ([10.253.24.58])
 by orsmga103.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 02 Mar 2020 05:15:48 -0800
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.70,507,1574150400"; d="scan'208";a="233367222"
Received: from irsmsx153.ger.corp.intel.com ([163.33.192.75])
 by fmsmga008.fm.intel.com with ESMTP; 02 Mar 2020 05:15:46 -0800
Received: from irsmsx604.ger.corp.intel.com (163.33.146.137) by
 IRSMSX153.ger.corp.intel.com (163.33.192.75) with Microsoft SMTP Server (TLS)
 id 14.3.439.0; Mon, 2 Mar 2020 13:15:46 +0000
Received: from irsmsx604.ger.corp.intel.com (163.33.146.137) by
 IRSMSX604.ger.corp.intel.com (163.33.146.137) with Microsoft SMTP Server
 (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256) id
 15.1.1713.5; Mon, 2 Mar 2020 13:15:45 +0000
Received: from irsmsx604.ger.corp.intel.com ([163.33.146.137]) by
 IRSMSX604.ger.corp.intel.com ([163.33.146.137]) with mapi id 15.01.1713.004;
 Mon, 2 Mar 2020 13:15:45 +0000
From: "Lisovskiy, Stanislav" <stanislav.lisovskiy@intel.com>
To: "ville.syrjala@linux.intel.com" <ville.syrjala@linux.intel.com>
Thread-Topic: [PATCH v18 7/8] drm/i915: Restrict qgv points which don't have
 enough bandwidth.
Thread-Index: AQHV6ygfH66dZ/mKgEKTXKXq/SNOXKgsAmOAgAM64QCABhT1AA==
Date: Mon, 2 Mar 2020 13:15:45 +0000
Message-ID: <44736ad6c2b436f77d032fd30f9cd4f3c4c2d39c.camel@intel.com>
References: <20200224153240.9047-8-stanislav.lisovskiy@intel.com>
 <20200225150043.32475-1-stanislav.lisovskiy@intel.com>
 <20200227162014.GS13686@intel.com>
In-Reply-To: <20200227162014.GS13686@intel.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-originating-ip: [10.237.72.89]
Content-ID: <DDDDD9356BBC764F9423667D77B9755C@intel.com>
MIME-Version: 1.0
Subject: Re: [Intel-gfx] [PATCH v18 7/8] drm/i915: Restrict qgv points which
 don't have enough bandwidth.
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: "intel-gfx@lists.freedesktop.org" <intel-gfx@lists.freedesktop.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

T24gVGh1LCAyMDIwLTAyLTI3IGF0IDE4OjIwICswMjAwLCBWaWxsZSBTeXJqw6Rsw6Qgd3JvdGU6
DQo+IE9uIFR1ZSwgRmViIDI1LCAyMDIwIGF0IDA1OjAwOjQzUE0gKzAyMDAsIFN0YW5pc2xhdiBM
aXNvdnNraXkgd3JvdGU6DQo+ID4gQWNjb3JkaW5nIHRvIEJTcGVjIDUzOTk4LCB3ZSBzaG91bGQg
dHJ5IHRvDQo+ID4gcmVzdHJpY3QgcWd2IHBvaW50cywgd2hpY2ggY2FuJ3QgcHJvdmlkZQ0KPiA+
IGVub3VnaCBiYW5kd2lkdGggZm9yIGRlc2lyZWQgZGlzcGxheSBjb25maWd1cmF0aW9uLg0KPiA+
IA0KPiA+IEN1cnJlbnRseSB3ZSBhcmUganVzdCBjb21wYXJpbmcgYWdhaW5zdCBhbGwgb2YNCj4g
PiB0aG9zZSBhbmQgdGFrZSBtaW5pbXVtKHdvcnN0IGNhc2UpLg0KPiA+IA0KPiA+IHYyOiBGaXhl
ZCB3cm9uZyBQQ29kZSByZXBseSBtYXNrLCByZW1vdmVkIGhhcmRjb2RlZA0KPiA+ICAgICB2YWx1
ZXMuDQo+ID4gDQo+ID4gdjM6IEZvcmJpZCBzaW11bHRhbmVvdXMgbGVnYWN5IFNBR1YgUENvZGUg
cmVxdWVzdHMgYW5kDQo+ID4gICAgIHJlc3RyaWN0aW5nIHFndiBwb2ludHMuIFB1dCB0aGUgYWN0
dWFsIHJlc3RyaWN0aW9uDQo+ID4gICAgIHRvIGNvbW1pdCBmdW5jdGlvbiwgYWRkZWQgc2VyaWFs
aXphdGlvbih0aGFua3MgdG8gVmlsbGUpDQo+ID4gICAgIHRvIHByZXZlbnQgY29tbWl0IGJlaW5n
IGFwcGxpZWQgb3V0IG9mIG9yZGVyIGluIGNhc2Ugb2YNCj4gPiAgICAgbm9uYmxvY2tpbmcgYW5k
L29yIG5vbW9kZXNldCBjb21taXRzLg0KPiA+IA0KPiA+IHY0Og0KPiA+ICAgICAtIE1pbm9yIGNv
ZGUgcmVmYWN0b3JpbmcsIGZpeGVkIGZldyB0eXBvcyh0aGFua3MgdG8gSmFtZXMNCj4gPiBBdXNt
dXMpDQo+ID4gICAgIC0gQ2hhbmdlIHRoZSBuYW1pbmcgb2YgcWd2IHBvaW50DQo+ID4gICAgICAg
bWFza2luZy91bm1hc2tpbmcgZnVuY3Rpb25zKEphbWVzIEF1c211cykuDQo+ID4gICAgIC0gU2lt
cGxpZnkgdGhlIG1hc2tpbmcvdW5tYXNraW5nIG9wZXJhdGlvbiBpdHNlbGYsDQo+ID4gICAgICAg
YXMgd2UgZG9uJ3QgbmVlZCB0byBtYXNrIG9ubHkgc2luZ2xlIHBvaW50IHBlciByZXF1ZXN0KEph
bWVzDQo+ID4gQXVzbXVzKQ0KPiA+ICAgICAtIFJlamVjdCBhbmQgc3RpY2sgdG8gaGlnaGVzdCBi
YW5kd2lkdGggcG9pbnQgaWYgU0FHVg0KPiA+ICAgICAgIGNhbid0IGJlIGVuYWJsZWQoQlNwZWMp
DQo+ID4gDQo+ID4gdjU6DQo+ID4gICAgIC0gQWRkIG5ldyBtYWlsYm94IHJlcGx5IGNvZGVzLCB3
aGljaCBzZWVtcyB0byBoYXBwZW4gZHVyaW5nDQo+ID4gYm9vdA0KPiA+ICAgICAgIHRpbWUgZm9y
IFRHTCBhbmQgaW5kaWNhdGUgdGhhdCBRR1Ygc2V0dGluZyBpcyBub3QgeWV0DQo+ID4gYXZhaWxh
YmxlLg0KPiA+IA0KPiA+IHY2Og0KPiA+ICAgICAtIEluY3JlYXNlIG51bWJlciBvZiBzdXBwb3J0
ZWQgUUdWIHBvaW50cyB0byBiZSBpbiBzeW5jIHdpdGgNCj4gPiBCU3BlYy4NCj4gPiANCj4gPiB2
NzogLSBSZWJhc2VkIGFuZCByZXNvbHZlZCBjb25mbGljdCB0byBmaXggYnVpbGQgZmFpbHVyZS4N
Cj4gPiAgICAgLSBGaXggTlVNX1FHVl9QT0lOVFMgdG8gOCBhbmQgbW92ZWQgdGhhdCB0byBoZWFk
ZXIgZmlsZShKYW1lcw0KPiA+IEF1c211cykNCj4gPiANCj4gPiB2ODogLSBEb24ndCByZXBvcnQg
YW4gZXJyb3IgaWYgd2UgY2FuJ3QgcmVzdHJpY3QgcWd2IHBvaW50cywgYXMNCj4gPiBTQUdWDQo+
ID4gICAgICAgY2FuIGJlIGRpc2FibGVkIGJ5IEJJT1MsIHdoaWNoIGlzIGNvbXBsZXRlbHkgbGVn
YWwuIFNvIGRvbid0DQo+ID4gICAgICAgbWFrZSBDSSBwYW5pYy4gSW5zdGVhZCBpZiB3ZSBkZXRl
Y3QgdGhhdCB0aGVyZSBpcyBvbmx5IDEgUUdWDQo+ID4gICAgICAgcG9pbnQgYWNjZXNzaWJsZSBq
dXN0IGFuYWx5emUgaWYgd2UgY2FuIGZpdCB0aGUgcmVxdWlyZWQNCj4gPiBiYW5kd2lkdGgNCj4g
PiAgICAgICByZXF1aXJlbWVudHMsIGJ1dCBubyBuZWVkIGluIHJlc3RyaWN0aW5nLg0KPiA+IA0K
PiA+IHY5OiAtIEZpeCB3cm9uZyBRR1YgdHJhbnNpdGlvbiBpZiB3ZSBoYXZlIDAgcGxhbmVzIGFu
ZCBubyBTQUdWDQo+ID4gICAgICAgc2ltdWx0YW5lb3VzbHkuDQo+ID4gDQo+ID4gdjEwOiAtIEZp
eCBDRENMSyBjb3JydXB0aW9uLCBiZWNhdXNlIG9mIGdsb2JhbCBzdGF0ZSBnZXR0aW5nDQo+ID4g
c2VyaWFsaXplZA0KPiA+ICAgICAgICB3aXRob3V0IG1vZGVzZXQsIHdoaWNoIGNhdXNlZCBjb3B5
aW5nIG9mIG5vbi1jYWxjdWxhdGVkDQo+ID4gY2RjbGsNCj4gPiAgICAgICAgdG8gYmUgY29waWVk
IHRvIGRldl9wcml2KHRoYW5rcyB0byBWaWxsZSBmb3IgdGhlIGhpbnQpLg0KPiA+IA0KPiA+IHYx
MTogLSBSZW1vdmUgdW5uZWVkZWQgaGVhZGVycyBhbmQgc3BhY2VzKE1hdHRoZXcgUm9wZXIpDQo+
ID4gICAgICAtIFJlbW92ZSB1bm5lZWRlZCBpbnRlbF9xZ3ZfaW5mbyBxaSBzdHJ1Y3QgZnJvbSBi
dyBjaGVjayBhbmQNCj4gPiB6ZXJvDQo+ID4gICAgICAgIG91dCB0aGUgbmVlZGVkIG9uZShNYXR0
aGV3IFJvcGVyKQ0KPiA+ICAgICAgLSBDaGFuZ2VkIFFHViBlcnJvciBtZXNzYWdlIHRvIGhhdmUg
bW9yZSBjbGVhciBtZWFuaW5nKE1hdHRoZXcNCj4gPiBSb3BlcikNCj4gPiAgICAgIC0gVXNlIHN0
YXRlLT5tb2Rlc2V0X3NldCBpbnN0ZWFkIG9mIGFueV9tcyhNYXR0aGV3IFJvcGVyKQ0KPiA+ICAg
ICAgLSBNb3ZlZCBOVU1fU0FHVl9QT0lOVFMgZnJvbSBpOTE1X3JlZy5oIHRvIGk5MTVfZHJ2Lmgg
d2hlcmUNCj4gPiBpdCdzIHVzZWQNCj4gPiAgICAgIC0gS2VlcCB1c2luZyBjcnRjX3N0YXRlLT5o
dy5hY3RpdmUgaW5zdGVhZCBvZiAuZW5hYmxlKE1hdHRoZXcNCj4gPiBSb3BlcikNCj4gPiAgICAg
IC0gTW92ZWQgdW5yZWxhdGVkIGNoYW5nZXMgdG8gb3RoZXIgcGF0Y2godXNpbmcgbGF0ZW5jeSBh
cw0KPiA+IHBhcmFtZXRlcg0KPiA+ICAgICAgICBmb3IgcGxhbmUgd20gY2FsY3VsYXRpb24sIG1v
dmVkIHRvIFNBR1YgcmVmYWN0b3JpbmcgcGF0Y2gpDQo+ID4gDQo+ID4gdjEyOiAtIEZpeCByZWJh
c2UgY29uZmxpY3Qgd2l0aCBvd24gdGVtcG9yYXJ5IFNBR1YvUUdWIGZpeC4NCj4gPiAgICAgIC0g
UmVtb3ZlIHVubmVjZXNzYXJ5IG1hc2sgYmVpbmcgemVybyBjaGVjayB3aGVuIHVubWFza2luZw0K
PiA+ICAgICAgICBxZ3YgcG9pbnRzIGFzIHRoaXMgaXMgY29tcGxldGVseSBsZWdhbChNYXR0IFJv
cGVyKQ0KPiA+ICAgICAgLSBDaGVjayBpZiB3ZSBhcmUgc2V0dGluZyB0aGUgc2FtZSBtYXNrIGFz
IGFscmVhZHkgYmVpbmcgc2V0DQo+ID4gICAgICAgIGluIGhhcmR3YXJlIHRvIHByZXZlbnQgZXJy
b3IgZnJvbSBQQ29kZS4NCj4gPiAgICAgIC0gRml4IGVycm9yIG1lc3NhZ2Ugd2hlbiByZXN0cmlj
dGluZy91bnJlc3RyaWN0aW5nIHFndiBwb2ludHMNCj4gPiAgICAgICAgdG8gIm1hc2svdW5tYXNr
IiB3aGljaCBzb3VuZHMgbW9yZSBhY2N1cmF0ZShNYXR0IFJvcGVyKQ0KPiA+ICAgICAgLSBNb3Zl
IHNhZ3Ygc3RhdHVzIHNldHRpbmcgdG8gaWNsX2dldF9id19pbmZvIGZyb20gYXRvbWljDQo+ID4g
Y2hlY2sNCj4gPiAgICAgICAgYXMgdGhpcyBzaG91bGQgYmUgY2FsY3VsYXRlZCBvbmx5IG9uY2Uu
KE1hdHQgUm9wZXIpDQo+ID4gICAgICAtIEVkaXRlZCBjb21tZW50cyBmb3IgdGhlIGNhc2Ugd2hl
biB3ZSBjYW4ndCBlbmFibGUgU0FHViBhbmQNCj4gPiAgICAgICAgdXNlIG9ubHkgMSBRR1YgcG9p
bnQgd2l0aCBoaWdoZXN0IGJhbmR3aWR0aCB0byBiZSBtb3JlDQo+ID4gICAgICAgIHVuZGVyc3Rh
bmRhYmxlLihNYXR0IFJvcGVyKQ0KPiA+IA0KPiA+IHYxMzogLSBNb3ZlZCBtYXhfZGF0YV9yYXRl
IGluIGJ3IGNoZWNrIHRvIGNsb3NlciBzY29wZShWaWxsZQ0KPiA+IFN5cmrDpGzDpCkNCj4gPiAg
ICAgIC0gQ2hhbmdlZCBjb21tZW50IGZvciB6ZXJvIG5ld19tYXNrIGluIHFndiBwb2ludHMgbWFz
a2luZw0KPiA+IGZ1bmN0aW9uDQo+ID4gICAgICAgIHRvIGJldHRlciByZWZsZWN0IHJlYWxpdHko
VmlsbGUgU3lyasOkbMOkKQ0KPiA+ICAgICAgLSBTaW1wbGlmaWVkIGJpdCBtYXNrIG9wZXJhdGlv
biBpbiBxZ3YgcG9pbnRzIG1hc2tpbmcgZnVuY3Rpb24NCj4gPiAgICAgICAgKFZpbGxlIFN5cmrD
pGzDpCkNCj4gPiAgICAgIC0gTW92ZWQgaW50ZWxfcWd2X3BvaW50c19tYXNrIGNsb3NlciB0byBn
ZW4xMSBTQUdWIGRpc2FibGluZywNCj4gPiAgICAgICAgaG93ZXZlciB0aGlzIHN0aWxsIGNhbid0
IGJlIHVuZGVyIG1vZGVzZXQgY29uZGl0aW9uKFZpbGxlDQo+ID4gU3lyasOkbMOkKQ0KPiA+ICAg
ICAgLSBQYWNrZWQgcWd2X3BvaW50c19tYXNrIGFzIHU4IGFuZCBtb3ZlZCBjbG9zZXIgdG8NCj4g
PiBwaXBlX3NhZ3ZfbWFzaw0KPiA+ICAgICAgICAoVmlsbGUgU3lyasOkbMOkKQ0KPiA+ICAgICAg
LSBFeHRyYWN0ZWQgUENvZGUgY2hhbmdlcyB0byBzZXBhcmF0ZSBwYXRjaC4oVmlsbGUgU3lyasOk
bMOkKQ0KPiA+ICAgICAgLSBOb3cgdHJlYXQgbnVtX3BsYW5lcyAwIHNhbWUgYXMgMSB0byBhdm9p
ZCBjb25mdXNpb24gYW5kDQo+ID4gICAgICAgIHJldHVybmluZyBtYXhfYncgYXMgMCwgd2hpY2gg
d291bGQgcHJldmVudCBjaG9vc2luZyBRR1YNCj4gPiAgICAgICAgcG9pbnQgaGF2aW5nIG1heCBi
YW5kd2lkdGggaW4gY2FzZSBpZiBTQUdWIGlzIG5vdCBhbGxvd2VkLA0KPiA+ICAgICAgICBhcyBw
ZXIgQlNwZWMoVmlsbGUgU3lyasOkbMOkKQ0KPiA+ICAgICAgLSBEbyB0aGUgYWN0dWFsIHFndl9w
b2ludHNfbWFzayBzd2FwIGluIHRoZSBzYW1lIHBsYWNlIGFzDQo+ID4gICAgICAgIGFsbCBvdGhl
ciBnbG9iYWwgc3RhdGUgcGFydHMgbGlrZSBjZGNsayBhcmUgc3dhcHBlZC4NCj4gPiAgICAgICAg
SW4gdGhlIG5leHQgcGF0Y2gsIHRoaXMgYWxsIHdpbGwgYmUgbW92ZWQgdG8gYncgc3RhdGUgYXMN
Cj4gPiAgICAgICAgZ2xvYmFsIHN0YXRlLCBvbmNlIG5ldyBnbG9iYWwgc3RhdGUgcGF0Y2ggc2Vy
aWVzIGZyb20gVmlsbGUNCj4gPiAgICAgICAgbGFuZHMNCj4gPiANCj4gPiB2MTQ6IC0gTm93IHVz
aW5nIGdsb2JhbCBzdGF0ZSB0byBzZXJpYWxpemUgYWNjZXNzIHRvIHFndiBwb2ludHMNCj4gPiAg
ICAgIC0gQWRkZWQgZ2xvYmFsIHN0YXRlIGxvY2tpbmcgYmFjaywgb3RoZXJ3aXNlIHdlIHNlZW0g
dG8gcmVhZA0KPiA+ICAgICAgICBidyBzdGF0ZSBpbiBhIHdyb25nIHdheS4NCj4gPiANCj4gPiB2
MTU6IC0gQWRkZWQgVE9ETyBjb21tZW50IGZvciBuZWFyIGF0b21pYyBnbG9iYWwgc3RhdGUgbG9j
a2luZyBpbg0KPiA+ICAgICAgICBidyBjb2RlLg0KPiA+IA0KPiA+IHYxNjogLSBGaXhlZCBpbnRl
bF9hdG9taWNfYndfKiBmdW5jdGlvbnMgdG8gYmUgaW50ZWxfYndfKiBhcw0KPiA+IGRpc2N1c3Nl
ZA0KPiA+ICAgICAgICB3aXRoIEphbmkgTmlrdWxhLg0KPiA+ICAgICAgLSBUYWtlIGJ3X3N0YXRl
X2NoYW5nZWQgZmxhZyBpbnRvIHVzZS4NCj4gPiANCj4gPiBTaWduZWQtb2ZmLWJ5OiBTdGFuaXNs
YXYgTGlzb3Zza2l5IDxzdGFuaXNsYXYubGlzb3Zza2l5QGludGVsLmNvbT4NCj4gPiBDYzogVmls
bGUgU3lyasOkbMOkIDx2aWxsZS5zeXJqYWxhQGludGVsLmNvbT4NCj4gPiBDYzogSmFtZXMgQXVz
bXVzIDxqYW1lcy5hdXNtdXNAaW50ZWwuY29tPg0KPiA+IC0tLQ0KPiA+ICBkcml2ZXJzL2dwdS9k
cm0vaTkxNS9kaXNwbGF5L2ludGVsX2J3LmMgICAgICB8IDE4NCArKysrKysrKysrKysrDQo+ID4g
LS0tLS0tDQo+ID4gIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfYncuaCAgICAg
IHwgICA5ICsNCj4gPiAgZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5
LmMgfCAxMjUgKysrKysrKysrKysrLQ0KPiA+ICBkcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2Ry
di5oICAgICAgICAgICAgICB8ICAgMyArDQo+ID4gIDQgZmlsZXMgY2hhbmdlZCwgMjU1IGluc2Vy
dGlvbnMoKyksIDY2IGRlbGV0aW9ucygtKQ0KPiA+IA0KPiA+IGRpZmYgLS1naXQgYS9kcml2ZXJz
L2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2J3LmMNCj4gPiBiL2RyaXZlcnMvZ3B1L2RybS9p
OTE1L2Rpc3BsYXkvaW50ZWxfYncuYw0KPiA+IGluZGV4IGQ1YmU2MDNiOGIwMy4uNDk4NmE1NDY0
NzAwIDEwMDY0NA0KPiA+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxf
YncuYw0KPiA+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfYncuYw0K
PiA+IEBAIC04LDYgKzgsOSBAQA0KPiA+ICAjaW5jbHVkZSAiaW50ZWxfYncuaCINCj4gPiAgI2lu
Y2x1ZGUgImludGVsX2Rpc3BsYXlfdHlwZXMuaCINCj4gPiAgI2luY2x1ZGUgImludGVsX3NpZGVi
YW5kLmgiDQo+ID4gKyNpbmNsdWRlICJpbnRlbF9hdG9taWMuaCINCj4gPiArI2luY2x1ZGUgImlu
dGVsX3BtLmgiDQo+ID4gKw0KPiA+ICANCj4gPiAgLyogUGFyYW1ldGVycyBmb3IgUWNsayBHZXlz
ZXJ2aWxsZSAoUUdWKSAqLw0KPiA+ICBzdHJ1Y3QgaW50ZWxfcWd2X3BvaW50IHsNCj4gPiBAQCAt
MTEzLDYgKzExNiwyNiBAQCBzdGF0aWMgaW50DQo+ID4gaWNsX3Bjb2RlX3JlYWRfcWd2X3BvaW50
X2luZm8oc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2LA0KPiA+ICAJcmV0dXJuIDA7
DQo+ID4gIH0NCj4gPiAgDQo+ID4gK2ludCBpY2xfcGNvZGVfcmVzdHJpY3RfcWd2X3BvaW50cyhz
dHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZQ0KPiA+ICpkZXZfcHJpdiwNCj4gPiArCQkJCSAgdTMyIHBv
aW50c19tYXNrKQ0KPiA+ICt7DQo+ID4gKwlpbnQgcmV0Ow0KPiA+ICsNCj4gPiArCS8qIGJzcGVj
IHNheXMgdG8ga2VlcCByZXRyeWluZyBmb3IgYXQgbGVhc3QgMSBtcyAqLw0KPiA+ICsJcmV0ID0g
c2tsX3Bjb2RlX3JlcXVlc3QoZGV2X3ByaXYsDQo+ID4gSUNMX1BDT0RFX1NBR1ZfREVfTUVNX1NT
X0NPTkZJRywNCj4gPiArCQkJCXBvaW50c19tYXNrLA0KPiA+ICsJCQkJR0VOMTFfUENPREVfUE9J
TlRTX1JFU1RSSUNURURfTUFTSywNCj4gPiArCQkJCUdFTjExX1BDT0RFX1BPSU5UU19SRVNUUklD
VEVELA0KPiA+ICsJCQkJMSk7DQo+ID4gKw0KPiA+ICsJaWYgKHJldCA8IDApIHsNCj4gPiArCQlE
Uk1fRVJST1IoIkZhaWxlZCB0byBkaXNhYmxlIHFndiBwb2ludHMgKCVkKVxuIiwgcmV0KTsNCj4g
PiArCQlyZXR1cm4gcmV0Ow0KPiA+ICsJfQ0KPiA+ICsNCj4gPiArCXJldHVybiAwOw0KPiA+ICt9
DQo+ID4gKw0KPiA+ICBzdGF0aWMgaW50IGljbF9nZXRfcWd2X3BvaW50cyhzdHJ1Y3QgZHJtX2k5
MTVfcHJpdmF0ZSAqZGV2X3ByaXYsDQo+ID4gIAkJCSAgICAgIHN0cnVjdCBpbnRlbF9xZ3ZfaW5m
byAqcWkpDQo+ID4gIHsNCj4gPiBAQCAtMjQwLDYgKzI2MywxNiBAQCBzdGF0aWMgaW50IGljbF9n
ZXRfYndfaW5mbyhzdHJ1Y3QNCj4gPiBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiwgY29uc3Qg
c3RydWN0IGludGVsDQo+ID4gIAkJCWJyZWFrOw0KPiA+ICAJfQ0KPiA+ICANCj4gPiArCS8qDQo+
ID4gKwkgKiBJbiBjYXNlIGlmIFNBR1YgaXMgZGlzYWJsZWQgaW4gQklPUywgd2UgYWx3YXlzIGdl
dCAxDQo+ID4gKwkgKiBTQUdWIHBvaW50LCBidXQgd2UgY2FuJ3Qgc2VuZCBQQ29kZSBjb21tYW5k
cyB0byByZXN0cmljdCBpdA0KPiA+ICsJICogYXMgaXQgd2lsbCBmYWlsIGFuZCBwb2ludGxlc3Mg
YW55d2F5Lg0KPiA+ICsJICovDQo+ID4gKwlpZiAocWkubnVtX3BvaW50cyA9PSAxKQ0KPiA+ICsJ
CWRldl9wcml2LT5zYWd2X3N0YXR1cyA9IEk5MTVfU0FHVl9OT1RfQ09OVFJPTExFRDsNCj4gPiAr
CWVsc2UNCj4gPiArCQlkZXZfcHJpdi0+c2Fndl9zdGF0dXMgPSBJOTE1X1NBR1ZfRU5BQkxFRDsN
Cj4gPiArDQo+ID4gIAlyZXR1cm4gMDsNCj4gPiAgfQ0KPiA+ICANCj4gPiBAQCAtMjU5LDcgKzI5
Miw3IEBAIHN0YXRpYyB1bnNpZ25lZCBpbnQgaWNsX21heF9idyhzdHJ1Y3QNCj4gPiBkcm1faTkx
NV9wcml2YXRlICpkZXZfcHJpdiwNCj4gPiAgCQlpZiAocWd2X3BvaW50ID49IGJpLT5udW1fcWd2
X3BvaW50cykNCj4gPiAgCQkJcmV0dXJuIFVJTlRfTUFYOw0KPiA+ICANCj4gPiAtCQlpZiAobnVt
X3BsYW5lcyA+PSBiaS0+bnVtX3BsYW5lcykNCj4gPiArCQlpZiAobnVtX3BsYW5lcyA+PSBiaS0+
bnVtX3BsYW5lcyB8fCAhbnVtX3BsYW5lcykNCj4gPiAgCQkJcmV0dXJuIGJpLT5kZXJhdGVkYndb
cWd2X3BvaW50XTsNCj4gPiAgCX0NCj4gPiAgDQo+ID4gQEAgLTI3NywzNCArMzEwLDYgQEAgdm9p
ZCBpbnRlbF9id19pbml0X2h3KHN0cnVjdCBkcm1faTkxNV9wcml2YXRlDQo+ID4gKmRldl9wcml2
KQ0KPiA+ICAJCWljbF9nZXRfYndfaW5mbyhkZXZfcHJpdiwgJmljbF9zYV9pbmZvKTsNCj4gPiAg
fQ0KPiA+ICANCj4gPiAtc3RhdGljIHVuc2lnbmVkIGludCBpbnRlbF9tYXhfZGF0YV9yYXRlKHN0
cnVjdCBkcm1faTkxNV9wcml2YXRlDQo+ID4gKmRldl9wcml2LA0KPiA+IC0JCQkJCWludCBudW1f
cGxhbmVzKQ0KPiA+IC17DQo+ID4gLQlpZiAoSU5URUxfR0VOKGRldl9wcml2KSA+PSAxMSkgew0K
PiA+IC0JCS8qDQo+ID4gLQkJICogQW55IGJ3IGdyb3VwIGhhcyBzYW1lIGFtb3VudCBvZiBRR1Yg
cG9pbnRzDQo+ID4gLQkJICovDQo+ID4gLQkJY29uc3Qgc3RydWN0IGludGVsX2J3X2luZm8gKmJp
ID0NCj4gPiAtCQkJJmRldl9wcml2LT5tYXhfYndbMF07DQo+ID4gLQkJdW5zaWduZWQgaW50IG1p
bl9idyA9IFVJTlRfTUFYOw0KPiA+IC0JCWludCBpOw0KPiA+IC0NCj4gPiAtCQkvKg0KPiA+IC0J
CSAqIEZJWE1FIHdpdGggU0FHViBkaXNhYmxlZCBtYXliZSB3ZSBjYW4gYXNzdW1lDQo+ID4gLQkJ
ICogcG9pbnQgMSB3aWxsIGFsd2F5cyBiZSB1c2VkPyBTZWVtcyB0byBtYXRjaA0KPiA+IC0JCSAq
IHRoZSBiZWhhdmlvdXIgb2JzZXJ2ZWQgaW4gdGhlIHdpbGQuDQo+ID4gLQkJICovDQo+ID4gLQkJ
Zm9yIChpID0gMDsgaSA8IGJpLT5udW1fcWd2X3BvaW50czsgaSsrKSB7DQo+ID4gLQkJCXVuc2ln
bmVkIGludCBidyA9IGljbF9tYXhfYncoZGV2X3ByaXYsDQo+ID4gbnVtX3BsYW5lcywgaSk7DQo+
ID4gLQ0KPiA+IC0JCQltaW5fYncgPSBtaW4oYncsIG1pbl9idyk7DQo+ID4gLQkJfQ0KPiA+IC0J
CXJldHVybiBtaW5fYnc7DQo+ID4gLQl9IGVsc2Ugew0KPiA+IC0JCXJldHVybiBVSU5UX01BWDsN
Cj4gPiAtCX0NCj4gPiAtfQ0KPiA+IC0NCj4gPiAgc3RhdGljIHVuc2lnbmVkIGludCBpbnRlbF9i
d19jcnRjX251bV9hY3RpdmVfcGxhbmVzKGNvbnN0IHN0cnVjdA0KPiA+IGludGVsX2NydGNfc3Rh
dGUgKmNydGNfc3RhdGUpDQo+ID4gIHsNCj4gPiAgCS8qDQo+ID4gQEAgLTQxOCwxMSArNDIzLDE2
IEBAIGludCBpbnRlbF9id19hdG9taWNfY2hlY2soc3RydWN0DQo+ID4gaW50ZWxfYXRvbWljX3N0
YXRlICpzdGF0ZSkNCj4gPiAgew0KPiA+ICAJc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9w
cml2ID0gdG9faTkxNShzdGF0ZS0+YmFzZS5kZXYpOw0KPiA+ICAJc3RydWN0IGludGVsX2NydGNf
c3RhdGUgKm5ld19jcnRjX3N0YXRlLCAqb2xkX2NydGNfc3RhdGU7DQo+ID4gLQlzdHJ1Y3QgaW50
ZWxfYndfc3RhdGUgKmJ3X3N0YXRlID0gTlVMTDsNCj4gPiAtCXVuc2lnbmVkIGludCBkYXRhX3Jh
dGUsIG1heF9kYXRhX3JhdGU7DQo+ID4gKwlzdHJ1Y3QgaW50ZWxfYndfc3RhdGUgKm5ld19id19z
dGF0ZSA9IE5VTEw7DQo+ID4gKwlzdHJ1Y3QgaW50ZWxfYndfc3RhdGUgKm9sZF9id19zdGF0ZSA9
IE5VTEw7DQo+ID4gKwl1bnNpZ25lZCBpbnQgZGF0YV9yYXRlOw0KPiA+ICAJdW5zaWduZWQgaW50
IG51bV9hY3RpdmVfcGxhbmVzOw0KPiA+ICAJc3RydWN0IGludGVsX2NydGMgKmNydGM7DQo+ID4g
IAlpbnQgaSwgcmV0Ow0KPiA+ICsJdTMyIGFsbG93ZWRfcG9pbnRzID0gMDsNCj4gPiArCXVuc2ln
bmVkIGludCBtYXhfYndfcG9pbnQgPSAwLCBtYXhfYncgPSAwOw0KPiA+ICsJdW5zaWduZWQgaW50
IG51bV9xZ3ZfcG9pbnRzID0gZGV2X3ByaXYtDQo+ID4gPm1heF9id1swXS5udW1fcWd2X3BvaW50
czsNCj4gPiArCXUzMiBtYXNrID0gKDEgPDwgbnVtX3Fndl9wb2ludHMpIC0gMTsNCj4gPiAgDQo+
ID4gIAkvKg0KPiA+ICAJICogRm9yIGVhcmxpZXIgR2VucyBsZXQncyBjb25zaWRlciBiYW5kd2lk
dGggY2hhbmdlZCBpZiBkZGINCj4gPiByZXF1aXJlbWVudHMsDQo+ID4gQEAgLTQzMCwxMSArNDQw
LDExIEBAIGludCBpbnRlbF9id19hdG9taWNfY2hlY2soc3RydWN0DQo+ID4gaW50ZWxfYXRvbWlj
X3N0YXRlICpzdGF0ZSkNCj4gPiAgCSAqLw0KPiA+ICAJaWYgKElOVEVMX0dFTihkZXZfcHJpdikg
PCAxMSkgew0KPiA+ICAJCWlmIChzdGF0ZS0+ZGRiX3N0YXRlX2NoYW5nZWQpIHsNCj4gPiAtCQkJ
Yndfc3RhdGUgPSBpbnRlbF9id19nZXRfc3RhdGUoc3RhdGUpOw0KPiA+IC0JCQlpZiAoSVNfRVJS
KGJ3X3N0YXRlKSkNCj4gPiAtCQkJCXJldHVybiBQVFJfRVJSKGJ3X3N0YXRlKTsNCj4gPiArCQkJ
bmV3X2J3X3N0YXRlID0gaW50ZWxfYndfZ2V0X3N0YXRlKHN0YXRlKTsNCj4gPiArCQkJaWYgKElT
X0VSUihuZXdfYndfc3RhdGUpKQ0KPiA+ICsJCQkJcmV0dXJuIFBUUl9FUlIobmV3X2J3X3N0YXRl
KTsNCj4gDQo+IExvdCdzIG9mIHJlbmFtZSBub2lzZSBpbiB0aGUgcGF0Y2guIENhbid0IHJlYWxs
eSBzZWUgd2hhdCdzIGdvaW5nIG9uDQo+IHVubGVzcyB0aG9zZSBhcmUgc3BsaXQgb3V0Lg0KPiAN
Cj4gPiAgDQo+ID4gLQkJCXJldCA9IGludGVsX2F0b21pY19sb2NrX2dsb2JhbF9zdGF0ZSgmYndf
c3RhdGUtDQo+ID4gPmJhc2UpOw0KPiA+ICsJCQlyZXQgPQ0KPiA+IGludGVsX2F0b21pY19sb2Nr
X2dsb2JhbF9zdGF0ZSgmbmV3X2J3X3N0YXRlLT5iYXNlKTsNCj4gPiAgCQkJaWYgKHJldCkNCj4g
PiAgCQkJCXJldHVybiByZXQ7DQo+ID4gIA0KPiA+IEBAIC00NjUsNDUgKzQ3NSwxMDcgQEAgaW50
IGludGVsX2J3X2F0b21pY19jaGVjayhzdHJ1Y3QNCj4gPiBpbnRlbF9hdG9taWNfc3RhdGUgKnN0
YXRlKQ0KPiA+ICAJCSAgICBvbGRfYWN0aXZlX3BsYW5lcyA9PSBuZXdfYWN0aXZlX3BsYW5lcykN
Cj4gPiAgCQkJY29udGludWU7DQo+ID4gIA0KPiA+IC0JCWJ3X3N0YXRlID0gaW50ZWxfYndfZ2V0
X3N0YXRlKHN0YXRlKTsNCj4gPiAtCQlpZiAoSVNfRVJSKGJ3X3N0YXRlKSkNCj4gPiAtCQkJcmV0
dXJuIFBUUl9FUlIoYndfc3RhdGUpOw0KPiA+ICsJCW5ld19id19zdGF0ZSA9IGludGVsX2J3X2dl
dF9zdGF0ZShzdGF0ZSk7DQo+ID4gKwkJaWYgKElTX0VSUihuZXdfYndfc3RhdGUpKQ0KPiA+ICsJ
CQlyZXR1cm4gUFRSX0VSUihuZXdfYndfc3RhdGUpOw0KPiA+ICANCj4gPiAtCQlid19zdGF0ZS0+
ZGF0YV9yYXRlW2NydGMtPnBpcGVdID0gbmV3X2RhdGFfcmF0ZTsNCj4gPiAtCQlid19zdGF0ZS0+
bnVtX2FjdGl2ZV9wbGFuZXNbY3J0Yy0+cGlwZV0gPQ0KPiA+IG5ld19hY3RpdmVfcGxhbmVzOw0K
PiA+ICsJCW5ld19id19zdGF0ZS0+ZGF0YV9yYXRlW2NydGMtPnBpcGVdID0gbmV3X2RhdGFfcmF0
ZTsNCj4gPiArCQluZXdfYndfc3RhdGUtPm51bV9hY3RpdmVfcGxhbmVzW2NydGMtPnBpcGVdID0N
Cj4gPiBuZXdfYWN0aXZlX3BsYW5lczsNCj4gPiAgDQo+ID4gIAkJZHJtX2RiZ19rbXMoJmRldl9w
cml2LT5kcm0sDQo+ID4gIAkJCSAgICAicGlwZSAlYyBkYXRhIHJhdGUgJXUgbnVtIGFjdGl2ZSBw
bGFuZXMNCj4gPiAldVxuIiwNCj4gPiAgCQkJICAgIHBpcGVfbmFtZShjcnRjLT5waXBlKSwNCj4g
PiAtCQkJICAgIGJ3X3N0YXRlLT5kYXRhX3JhdGVbY3J0Yy0+cGlwZV0sDQo+ID4gLQkJCSAgICBi
d19zdGF0ZS0+bnVtX2FjdGl2ZV9wbGFuZXNbY3J0Yy0+cGlwZV0pOw0KPiA+ICsJCQkgICAgbmV3
X2J3X3N0YXRlLT5kYXRhX3JhdGVbY3J0Yy0+cGlwZV0sDQo+ID4gKwkJCSAgICBuZXdfYndfc3Rh
dGUtPm51bV9hY3RpdmVfcGxhbmVzW2NydGMtDQo+ID4gPnBpcGVdKTsNCj4gPiAgCX0NCj4gPiAg
DQo+ID4gLQlpZiAoIWJ3X3N0YXRlKQ0KPiA+ICsJaWYgKCFuZXdfYndfc3RhdGUpDQo+ID4gIAkJ
cmV0dXJuIDA7DQo+ID4gIA0KPiA+IC0JcmV0ID0gaW50ZWxfYXRvbWljX2xvY2tfZ2xvYmFsX3N0
YXRlKCZid19zdGF0ZS0+YmFzZSk7DQo+ID4gLQlpZiAocmV0KQ0KPiA+ICsJcmV0ID0gaW50ZWxf
YXRvbWljX2xvY2tfZ2xvYmFsX3N0YXRlKCZuZXdfYndfc3RhdGUtPmJhc2UpOw0KPiA+ICsJaWYg
KHJldCkgew0KPiA+ICsJCURSTV9ERUJVR19LTVMoIkNvdWxkIG5vdCBsb2NrIGdsb2JhbCBzdGF0
ZVxuIik7DQo+ID4gIAkJcmV0dXJuIHJldDsNCj4gPiArCX0NCj4gPiAgDQo+ID4gLQlEUk1fREVC
VUdfS01TKCJNYXJraW5nIGJ3IHN0YXRlIGNoYW5nZWQgZm9yIGF0b21pYyBzdGF0ZSAlcFxuIiwN
Cj4gPiBzdGF0ZSk7DQo+ID4gLQ0KPiA+IC0Jc3RhdGUtPmJ3X3N0YXRlX2NoYW5nZWQgPSB0cnVl
Ow0KPiA+ICsJZGF0YV9yYXRlID0gaW50ZWxfYndfZGF0YV9yYXRlKGRldl9wcml2LCBuZXdfYndf
c3RhdGUpOw0KPiA+ICsJZGF0YV9yYXRlID0gRElWX1JPVU5EX1VQKGRhdGFfcmF0ZSwgMTAwMCk7
DQo+ID4gIA0KPiA+IC0JZGF0YV9yYXRlID0gaW50ZWxfYndfZGF0YV9yYXRlKGRldl9wcml2LCBi
d19zdGF0ZSk7DQo+ID4gLQludW1fYWN0aXZlX3BsYW5lcyA9IGludGVsX2J3X251bV9hY3RpdmVf
cGxhbmVzKGRldl9wcml2LA0KPiA+IGJ3X3N0YXRlKTsNCj4gPiArCW51bV9hY3RpdmVfcGxhbmVz
ID0gaW50ZWxfYndfbnVtX2FjdGl2ZV9wbGFuZXMoZGV2X3ByaXYsDQo+ID4gbmV3X2J3X3N0YXRl
KTsNCj4gPiAgDQo+ID4gLQltYXhfZGF0YV9yYXRlID0gaW50ZWxfbWF4X2RhdGFfcmF0ZShkZXZf
cHJpdiwNCj4gPiBudW1fYWN0aXZlX3BsYW5lcyk7DQo+ID4gKwlmb3IgKGkgPSAwOyBpIDwgbnVt
X3Fndl9wb2ludHM7IGkrKykgew0KPiA+ICsJCXVuc2lnbmVkIGludCBtYXhfZGF0YV9yYXRlOw0K
PiA+ICANCj4gPiAtCWRhdGFfcmF0ZSA9IERJVl9ST1VORF9VUChkYXRhX3JhdGUsIDEwMDApOw0K
PiA+ICsJCW1heF9kYXRhX3JhdGUgPSBpY2xfbWF4X2J3KGRldl9wcml2LCBudW1fYWN0aXZlX3Bs
YW5lcywNCj4gPiBpKTsNCj4gPiArCQkvKg0KPiA+ICsJCSAqIFdlIG5lZWQgdG8ga25vdyB3aGlj
aCBxZ3YgcG9pbnQgZ2l2ZXMgdXMNCj4gPiArCQkgKiBtYXhpbXVtIGJhbmR3aWR0aCBpbiBvcmRl
ciB0byBkaXNhYmxlIFNBR1YNCj4gPiArCQkgKiBpZiB3ZSBmaW5kIHRoYXQgd2UgZXhjZWVkIFNB
R1YgYmxvY2sgdGltZQ0KPiA+ICsJCSAqIHdpdGggd2F0ZXJtYXJrcy4gQnkgdGhhdCBtb21lbnQg
d2UgYWxyZWFkeQ0KPiA+ICsJCSAqIGhhdmUgdGhvc2UsIGFzIGl0IGlzIGNhbGN1bGF0ZWQgZWFy
bGllciBpbg0KPiA+ICsJCSAqIGludGVsX2F0b21pY19jaGVjaywNCj4gPiArCQkgKi8NCj4gPiAr
CQlpZiAobWF4X2RhdGFfcmF0ZSA+IG1heF9idykgew0KPiA+ICsJCQltYXhfYndfcG9pbnQgPSBp
Ow0KPiA+ICsJCQltYXhfYncgPSBtYXhfZGF0YV9yYXRlOw0KPiA+ICsJCX0NCj4gPiArCQlpZiAo
bWF4X2RhdGFfcmF0ZSA+PSBkYXRhX3JhdGUpDQo+ID4gKwkJCWFsbG93ZWRfcG9pbnRzIHw9IEJJ
VChpKTsNCj4gPiArCQlEUk1fREVCVUdfS01TKCJRR1YgcG9pbnQgJWQ6IG1heCBidyAlZCByZXF1
aXJlZCAlZFxuIiwNCj4gPiArCQkJICAgICAgaSwgbWF4X2RhdGFfcmF0ZSwgZGF0YV9yYXRlKTsN
Cj4gPiArCX0NCj4gPiAgDQo+ID4gLQlpZiAoZGF0YV9yYXRlID4gbWF4X2RhdGFfcmF0ZSkgew0K
PiA+IC0JCWRybV9kYmdfa21zKCZkZXZfcHJpdi0+ZHJtLA0KPiA+IC0JCQkgICAgIkJhbmR3aWR0
aCAldSBNQi9zIGV4Y2VlZHMgbWF4IGF2YWlsYWJsZSAlZA0KPiA+IE1CL3MgKCVkIGFjdGl2ZSBw
bGFuZXMpXG4iLA0KPiA+IC0JCQkgICAgZGF0YV9yYXRlLCBtYXhfZGF0YV9yYXRlLA0KPiA+IG51
bV9hY3RpdmVfcGxhbmVzKTsNCj4gPiArCS8qDQo+ID4gKwkgKiBCU3BlYyBzdGF0ZXMgdGhhdCB3
ZSBhbHdheXMgc2hvdWxkIGhhdmUgYXQgbGVhc3Qgb25lIGFsbG93ZWQNCj4gPiBwb2ludA0KPiA+
ICsJICogbGVmdCwgc28gaWYgd2UgY291bGRuJ3QgLSBzaW1wbHkgcmVqZWN0IHRoZSBjb25maWd1
cmF0aW9uDQo+ID4gZm9yIG9idmlvdXMNCj4gPiArCSAqIHJlYXNvbnMuDQo+ID4gKwkgKi8NCj4g
PiArCWlmIChhbGxvd2VkX3BvaW50cyA9PSAwKSB7DQo+ID4gKwkJRFJNX0RFQlVHX0tNUygiTm8g
UUdWIHBvaW50cyBwcm92aWRlIHN1ZmZpY2llbnQgbWVtb3J5Ig0KPiA+ICsJCQkgICAgICAiIGJh
bmR3aWR0aCBmb3IgZGlzcGxheQ0KPiA+IGNvbmZpZ3VyYXRpb24uXG4iKTsNCj4gPiAgCQlyZXR1
cm4gLUVJTlZBTDsNCj4gPiAgCX0NCj4gPiAgDQo+ID4gKwkvKg0KPiA+ICsJICogTGVhdmUgb25s
eSBzaW5nbGUgcG9pbnQgd2l0aCBoaWdoZXN0IGJhbmR3aWR0aCwgaWYNCj4gPiArCSAqIHdlIGNh
bid0IGVuYWJsZSBTQUdWIGR1ZSB0byB0aGUgaW5jcmVhc2VkIG1lbW9yeSBsYXRlbmN5IGl0DQo+
ID4gbWF5DQo+ID4gKwkgKiBjYXVzZS4NCj4gPiArCSAqLw0KPiA+ICsJaWYgKCFpbnRlbF9jYW5f
ZW5hYmxlX3NhZ3ZfZm9yX3N0YXRlKHN0YXRlKSkgew0KPiA+ICsJCWFsbG93ZWRfcG9pbnRzID0g
MSA8PCBtYXhfYndfcG9pbnQ7DQo+ID4gKwkJRFJNX0RFQlVHX0tNUygiTm8gU0FHViwgdXNpbmcg
c2luZ2xlIFFHViBwb2ludCAlZFxuIiwNCj4gPiArCQkJICAgICAgbWF4X2J3X3BvaW50KTsNCj4g
PiArCX0NCj4gPiArCS8qDQo+ID4gKwkgKiBXZSBzdG9yZSB0aGUgb25lcyB3aGljaCBuZWVkIHRv
IGJlIG1hc2tlZCBhcyB0aGF0IGlzIHdoYXQNCj4gPiBQQ29kZQ0KPiA+ICsJICogYWN0dWFsbHkg
YWNjZXB0cyBhcyBhIHBhcmFtZXRlci4NCj4gPiArCSAqLw0KPiA+ICsJbmV3X2J3X3N0YXRlLT5x
Z3ZfcG9pbnRzX21hc2sgPSAofmFsbG93ZWRfcG9pbnRzKSAmIG1hc2s7DQo+ID4gKw0KPiA+ICsJ
RFJNX0RFQlVHX0tNUygiTmV3IHN0YXRlICVwIHFndiBtYXNrICV4XG4iLA0KPiA+ICsJCSAgICAg
IHN0YXRlLCBuZXdfYndfc3RhdGUtPnFndl9wb2ludHNfbWFzayk7DQo+ID4gKw0KPiA+ICsJb2xk
X2J3X3N0YXRlID0gaW50ZWxfYndfZ2V0X29sZF9zdGF0ZShzdGF0ZSk7DQo+ID4gKwlpZiAoSVNf
RVJSKG9sZF9id19zdGF0ZSkpIHsNCj4gPiArCQlEUk1fREVCVUdfS01TKCJDb3VsZCBub3QgZ2V0
IG9sZCBidyBzdGF0ZSFcbiIpOw0KPiA+ICsJCXJldHVybiBQVFJfRVJSKG9sZF9id19zdGF0ZSk7
DQo+ID4gKwl9DQo+ID4gKw0KPiA+ICsJLyoNCj4gPiArCSAqIElmIHRoZSBhY3R1YWwgbWFzayBo
YWQgY2hhbmdlZCB3ZSBuZWVkIHRvIG1ha2Ugc3VyZSB0aGF0DQo+ID4gKwkgKiB0aGUgY29tbWl0
cyBhcmUgc2VyaWFsaXplZChpbiBjYXNlIHRoaXMgaXMgYSBub21vZGVzZXQsDQo+ID4gbm9uYmxv
Y2tpbmcpDQo+ID4gKwkgKi8NCj4gPiArCWlmIChuZXdfYndfc3RhdGUtPnFndl9wb2ludHNfbWFz
ayAhPSBvbGRfYndfc3RhdGUtDQo+ID4gPnFndl9wb2ludHNfbWFzaykgew0KPiA+ICsJCXJldCA9
DQo+ID4gaW50ZWxfYXRvbWljX3NlcmlhbGl6ZV9nbG9iYWxfc3RhdGUoJm5ld19id19zdGF0ZS0+
YmFzZSk7DQo+ID4gKwkJaWYgKHJldCkgew0KPiA+ICsJCQlEUk1fREVCVUdfS01TKCJDb3VsZCBu
b3Qgc2VyaWFsaXplIGdsb2JhbA0KPiA+IHN0YXRlXG4iKTsNCj4gPiArCQkJcmV0dXJuIHJldDsN
Cj4gPiArCQl9DQo+ID4gKw0KPiA+ICsJCURSTV9ERUJVR19LTVMoIk1hcmtpbmcgYncgc3RhdGUg
Y2hhbmdlZCBmb3IgYXRvbWljDQo+ID4gc3RhdGUgJXBcbiIsIHN0YXRlKTsNCj4gPiArCQlzdGF0
ZS0+Yndfc3RhdGVfY2hhbmdlZCA9IHRydWU7DQo+ID4gKwl9DQo+ID4gKw0KPiA+ICAJcmV0dXJu
IDA7DQo+ID4gIH0NCj4gPiAgDQo+ID4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1
L2Rpc3BsYXkvaW50ZWxfYncuaA0KPiA+IGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9p
bnRlbF9idy5oDQo+ID4gaW5kZXggYzMyYjUyODVjMTJmLi5iMzUyMjM4OWExODEgMTAwNjQ0DQo+
ID4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9idy5oDQo+ID4gKysr
IGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9idy5oDQo+ID4gQEAgLTM2LDYg
KzM2LDEzIEBAIHN0cnVjdCBpbnRlbF9id19zdGF0ZSB7DQo+ID4gIAkgKi8NCj4gPiAgCWJvb2wg
Y2FuX3NhZ3Y7DQo+ID4gIA0KPiA+ICsJLyoNCj4gPiArCSAqIEN1cnJlbnQgUUdWIHBvaW50cyBt
YXNrLCB3aGljaCByZXN0cmljdHMNCj4gPiArCSAqIHNvbWUgcGFydGljdWxhciBTQUdWIHN0YXRl
cywgbm90IHRvIGNvbmZ1c2UNCj4gPiArCSAqIHdpdGggcGlwZV9zYWd2X21hc2suDQo+ID4gKwkg
Ki8NCj4gPiArCXU4IHFndl9wb2ludHNfbWFzazsNCj4gPiArDQo+ID4gIAl1bnNpZ25lZCBpbnQg
ZGF0YV9yYXRlW0k5MTVfTUFYX1BJUEVTXTsNCj4gPiAgCXU4IG51bV9hY3RpdmVfcGxhbmVzW0k5
MTVfTUFYX1BJUEVTXTsNCj4gPiAgfTsNCj4gPiBAQCAtNTYsNSArNjMsNyBAQCBpbnQgaW50ZWxf
YndfaW5pdChzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZQ0KPiA+ICpkZXZfcHJpdik7DQo+ID4gIGlu
dCBpbnRlbF9id19hdG9taWNfY2hlY2soc3RydWN0IGludGVsX2F0b21pY19zdGF0ZSAqc3RhdGUp
Ow0KPiA+ICB2b2lkIGludGVsX2J3X2NydGNfdXBkYXRlKHN0cnVjdCBpbnRlbF9id19zdGF0ZSAq
Yndfc3RhdGUsDQo+ID4gIAkJCSAgY29uc3Qgc3RydWN0IGludGVsX2NydGNfc3RhdGUgKmNydGNf
c3RhdGUpOw0KPiA+ICtpbnQgaWNsX3Bjb2RlX3Jlc3RyaWN0X3Fndl9wb2ludHMoc3RydWN0IGRy
bV9pOTE1X3ByaXZhdGUNCj4gPiAqZGV2X3ByaXYsDQo+ID4gKwkJCQkgIHUzMiBwb2ludHNfbWFz
ayk7DQo+ID4gIA0KPiA+ICAjZW5kaWYgLyogX19JTlRFTF9CV19IX18gKi8NCj4gPiBkaWZmIC0t
Z2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5LmMNCj4gPiBi
L2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheS5jDQo+ID4gaW5kZXgg
NmRmODM2Y2JlMGNkLi5jYjFkMTBhZjg4Y2UgMTAwNjQ0DQo+ID4gLS0tIGEvZHJpdmVycy9ncHUv
ZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5LmMNCj4gPiArKysgYi9kcml2ZXJzL2dwdS9k
cm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXkuYw0KPiA+IEBAIC0xNTUwNCw2ICsxNTUwNCwx
MDUgQEAgc3RhdGljIHZvaWQNCj4gPiBpbnRlbF9hdG9taWNfY2xlYW51cF93b3JrKHN0cnVjdCB3
b3JrX3N0cnVjdCAqd29yaykNCj4gPiAgCWludGVsX2F0b21pY19oZWxwZXJfZnJlZV9zdGF0ZShp
OTE1KTsNCj4gPiAgfQ0KPiA+ICANCj4gPiArc3RhdGljIHZvaWQgaW50ZWxfcWd2X3BvaW50c19t
YXNrKHN0cnVjdCBpbnRlbF9hdG9taWNfc3RhdGUNCj4gPiAqc3RhdGUpDQo+IA0KPiBJIHRoaW5r
IHdlIHNob3VsZCBtb3ZlIHRoZXNlIG5leHQgdG8gdGhlIG90aGVyIHNhZ3YgY29kZSBhbmQganVz
dA0KPiBjYWxsIHRoZW0gc29tZWh0aW5nIGxpa2UgaW50ZWxfc2Fndl97cHJlLHBvc3R9X3BsYW5l
X3VwZGF0ZSgpICB0bw0KPiBhKSBhdm9pZCB0aGUgY2FsbGVyIGhhdmluZyB0byBrbm93IGFueXRo
aW5nIGFib3V0IHRoZW0sIGIpIG1hdGNoDQo+IHRoZSBwYXR0ZXJuIHVzZWQgZm9yIG90aGVyIHNp
bWlsYXIgdGhpbmdzLg0KPiANCj4gQW5kIEkgdGhpbmsgdGhlIGludGVybmFscyBzaG91bGQganVz
dCBiZSBzb21ldGhpbmcgbGlrZToNCj4gaW50ZWxfc2Fndl9wcmUvcG9zdF9wbGFuZV91cGRhdGUo
KQ0KPiB7DQo+IAluZXdfYndfc3RhdGUgPSBnZXRfbmV3X2J3X3N0YXRlKCk7DQo+IAlvbGRfYndf
c3RhdGUgPSBnZXRfb2xkX2J3X3N0YXRlKCk7DQo+IA0KPiAJaWYgKCFuZXdfYndfc3RhdGUgfHwN
Cj4gCSAgICAgbmV3X2J3X3N0YXRlLT5zYWd2X21hc2sgPT0gb2xkX2J3X3N0YXRlLT5zYWd2X21h
c2spDQo+IAkgICAgIHJldHVybjsNCj4gDQo+IAlkbyB0aGUgcGNvZGUgZGFuY2UNCj4gfQ0KPiAN
Cj4gSSBkb24ndCBzZWUgYSBuZWVkIGZvciBhbnkgbW9yZSBjaGVja3MgdGhhbiB0aGFuIGJlY2F1
c2UgdGhhdA0KPiB3b3VsZCBqdXN0IG1lYW4gdGhhdCBid19jaGVjaygpIGlzIGJyb2tlbiBhbmQg
bmVlZHMgdG8gYmUgZml4ZWQuDQoNClRob3NlIGFyZSBhY3R1YWxseSBxZ3YgcG9pbnRzIG1hc2ss
IGFsc28geW91IF9oYXZlIHRvXyBkbyBzb21lDQpvdGhlciBjaGVja3MgLSBmb3IgZXhhbXBsZSB3
aGVuIHdlIGFyZSBtYXNraW5nIHFndiBwb2ludHMgLSBpdCBtZWFucw0Kd2UgY2FuIG9ubHkgbWFz
ayB0aG9zZSBob3dldmVyIGZvciBleGFtcGxlIHRyYW5zaXRpb24gMHgwMDEgKHFndiBwb2ludA0K
MCBtYXNrZWQpIHRvIDB4MDAwKG5ldyBtYXNrKSwgbWVhbnMgdGhhdCB0aGVyZSBpcyBub3RoaW5n
IHRvIG1hc2sgaGVyZQ0KYW5kIG1vcmVvdmVyIGl0IHdpbGwgYmUgd3JvbmcgdG8gY2FsbCBQQ29k
ZSBhdCB0aGlzIHBvaW50Lg0KDQpTdGFuDQoNCj4gDQo+IA0KPiA+ICt7DQo+ID4gKwlzdHJ1Y3Qg
ZHJtX2RldmljZSAqZGV2ID0gc3RhdGUtPmJhc2UuZGV2Ow0KPiA+ICsJc3RydWN0IGRybV9pOTE1
X3ByaXZhdGUgKmRldl9wcml2ID0gdG9faTkxNShkZXYpOw0KPiA+ICsJaW50IHJldDsNCj4gPiAr
CXN0cnVjdCBpbnRlbF9id19zdGF0ZSAqbmV3X2J3X3N0YXRlID0gTlVMTDsNCj4gPiArCXN0cnVj
dCBpbnRlbF9id19zdGF0ZSAqb2xkX2J3X3N0YXRlID0gTlVMTDsNCj4gPiArCXUzMiBuZXdfbWFz
ayA9IDA7DQo+ID4gKwl1bnNpZ25lZCBpbnQgbnVtX3Fndl9wb2ludHMgPSBkZXZfcHJpdi0NCj4g
PiA+bWF4X2J3WzBdLm51bV9xZ3ZfcG9pbnRzOw0KPiA+ICsJdW5zaWduZWQgaW50IG1hc2sgPSAo
MSA8PCBudW1fcWd2X3BvaW50cykgLSAxOw0KPiA+ICsNCj4gPiArCW5ld19id19zdGF0ZSA9IGlu
dGVsX2J3X2dldF9zdGF0ZShzdGF0ZSk7DQo+ID4gKwlpZiAoSVNfRVJSKG5ld19id19zdGF0ZSkp
IHsNCj4gPiArCQlXQVJOKDEsICJDb3VsZCBub3QgZ2V0IG5ldyBid19zdGF0ZSFcbiIpOw0KPiA+
ICsJCXJldHVybjsNCj4gPiArCX0NCj4gPiArDQo+ID4gKwlvbGRfYndfc3RhdGUgPSBpbnRlbF9i
d19nZXRfb2xkX3N0YXRlKHN0YXRlKTsNCj4gPiArCWlmIChJU19FUlIob2xkX2J3X3N0YXRlKSkg
ew0KPiA+ICsJCVdBUk4oMSwgIkNvdWxkIG5vdCBnZXQgb2xkIGJ3X3N0YXRlIVxuIik7DQo+ID4g
KwkJcmV0dXJuOw0KPiA+ICsJfQ0KPiA+ICsNCj4gPiArCW5ld19tYXNrID0gb2xkX2J3X3N0YXRl
LT5xZ3ZfcG9pbnRzX21hc2sgfCBuZXdfYndfc3RhdGUtDQo+ID4gPnFndl9wb2ludHNfbWFzazsN
Cj4gPiArDQo+ID4gKwkvKg0KPiA+ICsJICogSWYgbmV3IG1hc2sgaXMgemVybyAtIG1lYW5zIHRo
ZXJlIGlzIG5vdGhpbmcgdG8gbWFzaywNCj4gPiArCSAqIHdlIGNhbiBvbmx5IHVubWFzaywgd2hp
Y2ggc2hvdWxkIGJlIGRvbmUgaW4gdW5tYXNrLg0KPiA+ICsJICovDQo+ID4gKwlpZiAoIW5ld19t
YXNrKQ0KPiA+ICsJCXJldHVybjsNCj4gPiArDQo+ID4gKwlXQVJOX09OKG5ld19tYXNrID09IG1h
c2spOw0KPiA+ICsNCj4gPiArCS8qDQo+ID4gKwkgKiBKdXN0IHJldHVybiBpZiB3ZSBjYW4ndCBj
b250cm9sIFNBR1Ygb3IgZG9uJ3QgaGF2ZSBpdC4NCj4gPiArCSAqLw0KPiA+ICsJaWYgKCFpbnRl
bF9oYXNfc2FndihkZXZfcHJpdikpDQo+ID4gKwkJcmV0dXJuOw0KPiA+ICsNCj4gPiArCS8qDQo+
ID4gKwkgKiBSZXN0cmljdCByZXF1aXJlZCBxZ3YgcG9pbnRzIGJlZm9yZSB1cGRhdGluZyB0aGUN
Cj4gPiBjb25maWd1cmF0aW9uLg0KPiA+ICsJICogQWNjb3JkaW5nIHRvIEJTcGVjIHdlIGNhbid0
IG1hc2sgYW5kIHVubWFzayBxZ3YgcG9pbnRzIGF0DQo+ID4gdGhlIHNhbWUNCj4gPiArCSAqIHRp
bWUuIEFsc28gbWFza2luZyBzaG91bGQgYmUgZG9uZSBiZWZvcmUgdXBkYXRpbmcgdGhlDQo+ID4g
Y29uZmlndXJhdGlvbg0KPiA+ICsJICogYW5kIHVubWFza2luZyBhZnRlcndhcmRzLg0KPiA+ICsJ
ICovDQo+ID4gKwlyZXQgPSBpY2xfcGNvZGVfcmVzdHJpY3RfcWd2X3BvaW50cyhkZXZfcHJpdiwg
bmV3X21hc2spOw0KPiA+ICsJaWYgKHJldCA8IDApDQo+ID4gKwkJRFJNX0RFQlVHX0tNUygiQ291
bGQgbm90IG1hc2sgcmVxdWlyZWQgcWd2DQo+ID4gcG9pbnRzKCVkKVxuIiwNCj4gPiArCQkJICAg
ICAgcmV0KTsNCj4gPiArfQ0KPiA+ICsNCj4gPiArc3RhdGljIHZvaWQgaW50ZWxfcWd2X3BvaW50
c191bm1hc2soc3RydWN0IGludGVsX2F0b21pY19zdGF0ZQ0KPiA+ICpzdGF0ZSkNCj4gPiArew0K
PiA+ICsJc3RydWN0IGRybV9kZXZpY2UgKmRldiA9IHN0YXRlLT5iYXNlLmRldjsNCj4gPiArCXN0
cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiA9IHRvX2k5MTUoZGV2KTsNCj4gPiArCWlu
dCByZXQ7DQo+ID4gKwlzdHJ1Y3QgaW50ZWxfYndfc3RhdGUgKm5ld19id19zdGF0ZSA9IE5VTEw7
DQo+ID4gKwlzdHJ1Y3QgaW50ZWxfYndfc3RhdGUgKm9sZF9id19zdGF0ZSA9IE5VTEw7DQo+ID4g
Kwl1MzIgbmV3X21hc2sgPSAwOw0KPiA+ICsNCj4gPiArCW5ld19id19zdGF0ZSA9IGludGVsX2J3
X2dldF9zdGF0ZShzdGF0ZSk7DQo+ID4gKwlpZiAoSVNfRVJSKG5ld19id19zdGF0ZSkpIHsNCj4g
PiArCQlXQVJOKDEsICJDb3VsZCBub3QgZ2V0IG5ldyBid19zdGF0ZSFcbiIpOw0KPiA+ICsJCXJl
dHVybjsNCj4gPiArCX0NCj4gPiArDQo+ID4gKwlvbGRfYndfc3RhdGUgPSBpbnRlbF9id19nZXRf
b2xkX3N0YXRlKHN0YXRlKTsNCj4gPiArCWlmIChJU19FUlIob2xkX2J3X3N0YXRlKSkgew0KPiA+
ICsJCVdBUk4oMSwgIkNvdWxkIG5vdCBnZXQgbmV3IGJ3X3N0YXRlIVxuIik7DQo+ID4gKwkJcmV0
dXJuOw0KPiA+ICsJfQ0KPiA+ICsNCj4gPiArCW5ld19tYXNrID0gbmV3X2J3X3N0YXRlLT5xZ3Zf
cG9pbnRzX21hc2s7DQo+ID4gKw0KPiA+ICsJLyoNCj4gPiArCSAqIEp1c3QgcmV0dXJuIGlmIHdl
IGNhbid0IGNvbnRyb2wgU0FHViBvciBkb24ndCBoYXZlIGl0Lg0KPiA+ICsJICovDQo+ID4gKwlp
ZiAoIWludGVsX2hhc19zYWd2KGRldl9wcml2KSkNCj4gPiArCQlyZXR1cm47DQo+ID4gKw0KPiA+
ICsJLyoNCj4gPiArCSAqIE5vdGhpbmcgdG8gdW5tYXNrDQo+ID4gKwkgKi8NCj4gPiArCWlmIChu
ZXdfbWFzayA9PSBvbGRfYndfc3RhdGUtPnFndl9wb2ludHNfbWFzaykNCj4gPiArCQlyZXR1cm47
DQo+ID4gKw0KPiA+ICsJLyoNCj4gPiArCSAqIEFsbG93IHJlcXVpcmVkIHFndiBwb2ludHMgYWZ0
ZXIgdXBkYXRpbmcgdGhlIGNvbmZpZ3VyYXRpb24uDQo+ID4gKwkgKiBBY2NvcmRpbmcgdG8gQlNw
ZWMgd2UgY2FuJ3QgbWFzayBhbmQgdW5tYXNrIHFndiBwb2ludHMgYXQNCj4gPiB0aGUgc2FtZQ0K
PiA+ICsJICogdGltZS4gQWxzbyBtYXNraW5nIHNob3VsZCBiZSBkb25lIGJlZm9yZSB1cGRhdGlu
ZyB0aGUNCj4gPiBjb25maWd1cmF0aW9uDQo+ID4gKwkgKiBhbmQgdW5tYXNraW5nIGFmdGVyd2Fy
ZHMuDQo+ID4gKwkgKi8NCj4gPiArCXJldCA9IGljbF9wY29kZV9yZXN0cmljdF9xZ3ZfcG9pbnRz
KGRldl9wcml2LCBuZXdfbWFzayk7DQo+ID4gKwlpZiAocmV0IDwgMCkNCj4gPiArCQlEUk1fREVC
VUdfS01TKCJDb3VsZCBub3QgdW5tYXNrIHJlcXVpcmVkIHFndg0KPiA+IHBvaW50cyglZClcbiIs
DQo+ID4gKwkJCSAgICAgIHJldCk7DQo+ID4gK30NCj4gPiArDQo+ID4gIHN0YXRpYyB2b2lkIGlu
dGVsX2F0b21pY19jb21taXRfdGFpbChzdHJ1Y3QgaW50ZWxfYXRvbWljX3N0YXRlDQo+ID4gKnN0
YXRlKQ0KPiA+ICB7DQo+ID4gIAlzdHJ1Y3QgZHJtX2RldmljZSAqZGV2ID0gc3RhdGUtPmJhc2Uu
ZGV2Ow0KPiA+IEBAIC0xNTUzNyw2ICsxNTYzNiwxNSBAQCBzdGF0aWMgdm9pZA0KPiA+IGludGVs
X2F0b21pY19jb21taXRfdGFpbChzdHJ1Y3QgaW50ZWxfYXRvbWljX3N0YXRlICpzdGF0ZSkNCj4g
PiAgCWZvcl9lYWNoX25ld19pbnRlbF9jcnRjX2luX3N0YXRlKHN0YXRlLCBjcnRjLCBuZXdfY3J0
Y19zdGF0ZSwNCj4gPiBpKQ0KPiA+ICAJCWNydGMtPmNvbmZpZyA9IG5ld19jcnRjX3N0YXRlOw0K
PiA+ICANCj4gPiArCS8qDQo+ID4gKwkgKiBOb3cgd2UgbmVlZCB0byBjaGVjayBpZiBTQUdWIG5l
ZWRzIHRvIGJlIGRpc2FibGVkKGkuZSBRR1YNCj4gPiBwb2ludHMNCj4gPiArCSAqIG1vZGlmaWVk
IGV2ZW4sIHdoZW4gbm8gbW9kZXNldCBpcyBkb25lKGZvciBleGFtcGxlIHBsYW5lDQo+ID4gdXBk
YXRlcw0KPiA+ICsJICogY2FuIG5vdyB0cmlnZ2VyIHRoYXQpLg0KPiA+ICsJICovDQo+ID4gKwlp
ZiAoKElOVEVMX0dFTihkZXZfcHJpdikgPj0gMTEpKQ0KPiA+ICsJCWlmIChzdGF0ZS0+Yndfc3Rh
dGVfY2hhbmdlZCkNCj4gPiArCQkJaW50ZWxfcWd2X3BvaW50c19tYXNrKHN0YXRlKTsNCj4gPiAr
DQo+ID4gIAlpZiAoc3RhdGUtPm1vZGVzZXQpIHsNCj4gPiAgCQlkcm1fYXRvbWljX2hlbHBlcl91
cGRhdGVfbGVnYWN5X21vZGVzZXRfc3RhdGUoZGV2LA0KPiA+ICZzdGF0ZS0+YmFzZSk7DQo+ID4g
IA0KPiA+IEBAIC0xNTU0NiwxMiArMTU2NTQsOSBAQCBzdGF0aWMgdm9pZA0KPiA+IGludGVsX2F0
b21pY19jb21taXRfdGFpbChzdHJ1Y3QgaW50ZWxfYXRvbWljX3N0YXRlICpzdGF0ZSkNCj4gPiAg
CQkgKiBTS0wgd29ya2Fyb3VuZDogYnNwZWMgcmVjb21tZW5kcyB3ZSBkaXNhYmxlIHRoZSBTQUdW
DQo+ID4gd2hlbiB3ZQ0KPiA+ICAJCSAqIGhhdmUgbW9yZSB0aGVuIG9uZSBwaXBlIGVuYWJsZWQN
Cj4gPiAgCQkgKi8NCj4gPiAtCQlpZiAoSU5URUxfR0VOKGRldl9wcml2KSA8IDExKSB7DQo+ID4g
LQkJCWlmIChzdGF0ZS0+Yndfc3RhdGVfY2hhbmdlZCkgew0KPiA+IC0JCQkJaWYgKCFpbnRlbF9j
YW5fZW5hYmxlX3NhZ3YoZGV2X3ByaXYpKQ0KPiA+IC0JCQkJCWludGVsX2Rpc2FibGVfc2Fndihk
ZXZfcHJpdik7DQo+ID4gLQkJCX0NCj4gPiAtCQl9DQo+ID4gKwkJaWYgKChJTlRFTF9HRU4oZGV2
X3ByaXYpIDwgMTEpKQ0KPiA+ICsJCQlpZiAoIWludGVsX2Nhbl9lbmFibGVfc2FndihkZXZfcHJp
dikpDQo+ID4gKwkJCQlpbnRlbF9kaXNhYmxlX3NhZ3YoZGV2X3ByaXYpOw0KPiA+ICANCj4gPiAg
CQlpbnRlbF9tb2Rlc2V0X3ZlcmlmeV9kaXNhYmxlZChkZXZfcHJpdiwgc3RhdGUpOw0KPiA+ICAJ
fQ0KPiA+IEBAIC0xNTY1MiwxMCArMTU3NTcsMTAgQEAgc3RhdGljIHZvaWQNCj4gPiBpbnRlbF9h
dG9taWNfY29tbWl0X3RhaWwoc3RydWN0IGludGVsX2F0b21pY19zdGF0ZSAqc3RhdGUpDQo+ID4g
IAkJaW50ZWxfdmVyaWZ5X3BsYW5lcyhzdGF0ZSk7DQo+ID4gIA0KPiA+ICAJaWYgKElOVEVMX0dF
TihkZXZfcHJpdikgPCAxMSkgew0KPiA+IC0JCWlmIChzdGF0ZS0+Yndfc3RhdGVfY2hhbmdlZCkg
ew0KPiA+IC0JCQlpZiAoaW50ZWxfY2FuX2VuYWJsZV9zYWd2KGRldl9wcml2KSkNCj4gPiAtCQkJ
CWludGVsX2VuYWJsZV9zYWd2KGRldl9wcml2KTsNCj4gPiAtCQl9DQo+ID4gKwkJaWYgKGludGVs
X2Nhbl9lbmFibGVfc2FndihkZXZfcHJpdikpDQo+ID4gKwkJCWludGVsX2VuYWJsZV9zYWd2KGRl
dl9wcml2KTsNCj4gPiArCX0gZWxzZSBpZiAoc3RhdGUtPmJ3X3N0YXRlX2NoYW5nZWQpIHsNCj4g
PiArCQlpbnRlbF9xZ3ZfcG9pbnRzX3VubWFzayhzdGF0ZSk7DQo+ID4gIAl9DQo+ID4gIA0KPiA+
ICAJZHJtX2F0b21pY19oZWxwZXJfY29tbWl0X2h3X2RvbmUoJnN0YXRlLT5iYXNlKTsNCj4gPiBk
aWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kcnYuaA0KPiA+IGIvZHJpdmVy
cy9ncHUvZHJtL2k5MTUvaTkxNV9kcnYuaA0KPiA+IGluZGV4IDQzMDVjY2M0YzY4My4uMGE1ODk3
MDBhMDcxIDEwMDY0NA0KPiA+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZHJ2LmgN
Cj4gPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2Rydi5oDQo+ID4gQEAgLTg0MSw2
ICs4NDEsOSBAQCBlbnVtIGludGVsX3BpcGVfY3JjX3NvdXJjZSB7DQo+ID4gIAlJTlRFTF9QSVBF
X0NSQ19TT1VSQ0VfTUFYLA0KPiA+ICB9Ow0KPiA+ICANCj4gPiArLyogQlNwZWMgcHJlY2lzZWx5
IGRlZmluZXMgdGhpcyAqLw0KPiA+ICsjZGVmaW5lIE5VTV9TQUdWX1BPSU5UUyA4DQo+ID4gKw0K
PiA+ICAjZGVmaW5lIElOVEVMX1BJUEVfQ1JDX0VOVFJJRVNfTlIJMTI4DQo+ID4gIHN0cnVjdCBp
bnRlbF9waXBlX2NyYyB7DQo+ID4gIAlzcGlubG9ja190IGxvY2s7DQo+ID4gLS0gDQo+ID4gMi4y
NC4xLjQ4NS5nYWQwNWEzZDhlNQ0KPiANCj4gDQpfX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fXwpJbnRlbC1nZnggbWFpbGluZyBsaXN0CkludGVsLWdmeEBsaXN0
cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9s
aXN0aW5mby9pbnRlbC1nZngK

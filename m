Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 2105219A302
	for <lists+intel-gfx@lfdr.de>; Wed,  1 Apr 2020 02:40:06 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 3612C6E8B5;
	Wed,  1 Apr 2020 00:39:59 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga09.intel.com (mga09.intel.com [134.134.136.24])
 by gabe.freedesktop.org (Postfix) with ESMTPS id CB1576E8AF
 for <intel-gfx@lists.freedesktop.org>; Wed,  1 Apr 2020 00:39:55 +0000 (UTC)
IronPort-SDR: tFMM0cIrVIK5OArS+IqZGCSrg3Ik6OVyCTeFJjqYMTa6yXLI4Z1H2Xolm7C+rC11/BtYors01V
 hUwUAghcPhRw==
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from fmsmga003.fm.intel.com ([10.253.24.29])
 by orsmga102.jf.intel.com with ESMTP/TLS/ECDHE-RSA-AES256-GCM-SHA384;
 31 Mar 2020 17:39:54 -0700
IronPort-SDR: qu9vAtwishrNXoyf+TnDp/yaoeu3nYaPE/UQadF5oK8zHpd2rYp7LqqbwAkVk+aFw44GD7lHnx
 Scucln2K2VrA==
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.72,329,1580803200"; d="scan'208";a="295169808"
Received: from akahan1-mobl3.amr.corp.intel.com (HELO
 josouza-MOBL2.amr.corp.intel.com) ([10.252.143.47])
 by FMSMGA003.fm.intel.com with ESMTP; 31 Mar 2020 17:39:54 -0700
From: =?UTF-8?q?Jos=C3=A9=20Roberto=20de=20Souza?= <jose.souza@intel.com>
To: intel-gfx@lists.freedesktop.org
Date: Tue, 31 Mar 2020 17:41:18 -0700
Message-Id: <20200401004120.408586-4-jose.souza@intel.com>
X-Mailer: git-send-email 2.26.0
In-Reply-To: <20200401004120.408586-1-jose.souza@intel.com>
References: <20200401004120.408586-1-jose.souza@intel.com>
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH 4/6] drm/i915/display: Split
 hsw_power_well_enable() into two
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

VGhpcyBpcyBhIHByZXBhcmF0aW9uIGZvciBJQ0wgVEMgY29sZCBleGl0IHNlcXVlbmNlcy4KClNp
Z25lZC1vZmYtYnk6IEpvc8OpIFJvYmVydG8gZGUgU291emEgPGpvc2Uuc291emFAaW50ZWwuY29t
PgotLS0KIC4uLi9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXlfcG93ZXIuYyAgICB8IDM5
ICsrKysrKysrKysrKysrKy0tLS0KIDEgZmlsZSBjaGFuZ2VkLCAzMiBpbnNlcnRpb25zKCspLCA3
IGRlbGV0aW9ucygtKQoKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkv
aW50ZWxfZGlzcGxheV9wb3dlci5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRl
bF9kaXNwbGF5X3Bvd2VyLmMKaW5kZXggMDJhMDdhYTcxMGU0Li5kYmQ2MTUxN2JhNjMgMTAwNjQ0
Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheV9wb3dlci5j
CisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheV9wb3dlci5j
CkBAIC0zNTMsMTYgKzM1MywxNiBAQCBzdGF0aWMgdm9pZCBnZW45X3dhaXRfZm9yX3Bvd2VyX3dl
bGxfZnVzZXMoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2LAogCQkJCQkgIFNLTF9G
VVNFX1BHX0RJU1RfU1RBVFVTKHBnKSwgMSkpOwogfQogCi1zdGF0aWMgdm9pZCBoc3dfcG93ZXJf
d2VsbF9lbmFibGUoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2LAotCQkJCSAgc3Ry
dWN0IGk5MTVfcG93ZXJfd2VsbCAqcG93ZXJfd2VsbCkKK3N0YXRpYyB2b2lkIF9oc3dfcG93ZXJf
d2VsbF9lbmFibGUoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2LAorCQkJCSAgIHN0
cnVjdCBpOTE1X3Bvd2VyX3dlbGwgKnBvd2VyX3dlbGwpCiB7CiAJY29uc3Qgc3RydWN0IGk5MTVf
cG93ZXJfd2VsbF9yZWdzICpyZWdzID0gcG93ZXJfd2VsbC0+ZGVzYy0+aHN3LnJlZ3M7CiAJaW50
IHB3X2lkeCA9IHBvd2VyX3dlbGwtPmRlc2MtPmhzdy5pZHg7Ci0JYm9vbCB3YWl0X2Z1c2VzID0g
cG93ZXJfd2VsbC0+ZGVzYy0+aHN3Lmhhc19mdXNlczsKLQllbnVtIHNrbF9wb3dlcl9nYXRlIHVu
aW5pdGlhbGl6ZWRfdmFyKHBnKTsKIAl1MzIgdmFsOwogCi0JaWYgKHdhaXRfZnVzZXMpIHsKKwlp
ZiAocG93ZXJfd2VsbC0+ZGVzYy0+aHN3Lmhhc19mdXNlcykgeworCQllbnVtIHNrbF9wb3dlcl9n
YXRlIHBnOworCiAJCXBnID0gSU5URUxfR0VOKGRldl9wcml2KSA+PSAxMSA/IElDTF9QV19DVExf
SURYX1RPX1BHKHB3X2lkeCkgOgogCQkJCQkJIFNLTF9QV19DVExfSURYX1RPX1BHKHB3X2lkeCk7
CiAJCS8qCkBAIC0zNzksMjUgKzM3OSw0NiBAQCBzdGF0aWMgdm9pZCBoc3dfcG93ZXJfd2VsbF9l
bmFibGUoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2LAogCXZhbCA9IGludGVsX2Rl
X3JlYWQoZGV2X3ByaXYsIHJlZ3MtPmRyaXZlcik7CiAJaW50ZWxfZGVfd3JpdGUoZGV2X3ByaXYs
IHJlZ3MtPmRyaXZlciwKIAkJICAgICAgIHZhbCB8IEhTV19QV1JfV0VMTF9DVExfUkVRKHB3X2lk
eCkpOworfQorCitzdGF0aWMgdm9pZCBfaHN3X3Bvd2VyX3dlbGxfY29udGludWVfZW5hYmxlKHN0
cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiwKKwkJCQkJICAgIHN0cnVjdCBpOTE1X3Bv
d2VyX3dlbGwgKnBvd2VyX3dlbGwpCit7CisJaW50IHB3X2lkeCA9IHBvd2VyX3dlbGwtPmRlc2Mt
Pmhzdy5pZHg7CisKIAloc3dfd2FpdF9mb3JfcG93ZXJfd2VsbF9lbmFibGUoZGV2X3ByaXYsIHBv
d2VyX3dlbGwpOwogCiAJLyogRGlzcGxheSBXQSAjMTE3ODogY25sICovCiAJaWYgKElTX0NBTk5P
TkxBS0UoZGV2X3ByaXYpICYmCiAJICAgIHB3X2lkeCA+PSBHTEtfUFdfQ1RMX0lEWF9BVVhfQiAm
JgogCSAgICBwd19pZHggPD0gQ05MX1BXX0NUTF9JRFhfQVVYX0YpIHsKKwkJdTMyIHZhbDsKKwog
CQl2YWwgPSBpbnRlbF9kZV9yZWFkKGRldl9wcml2LCBDTkxfQVVYX0FOQU9WUkQxKHB3X2lkeCkp
OwogCQl2YWwgfD0gQ05MX0FVWF9BTkFPVlJEMV9FTkFCTEUgfCBDTkxfQVVYX0FOQU9WUkQxX0xE
T19CWVBBU1M7CiAJCWludGVsX2RlX3dyaXRlKGRldl9wcml2LCBDTkxfQVVYX0FOQU9WUkQxKHB3
X2lkeCksIHZhbCk7CiAJfQogCi0JaWYgKHdhaXRfZnVzZXMpCisJaWYgKHBvd2VyX3dlbGwtPmRl
c2MtPmhzdy5oYXNfZnVzZXMpIHsKKwkJZW51bSBza2xfcG93ZXJfZ2F0ZSBwZzsKKworCQlwZyA9
IElOVEVMX0dFTihkZXZfcHJpdikgPj0gMTEgPyBJQ0xfUFdfQ1RMX0lEWF9UT19QRyhwd19pZHgp
IDoKKwkJCQkJCSBTS0xfUFdfQ1RMX0lEWF9UT19QRyhwd19pZHgpOwogCQlnZW45X3dhaXRfZm9y
X3Bvd2VyX3dlbGxfZnVzZXMoZGV2X3ByaXYsIHBnKTsKKwl9CiAKIAloc3dfcG93ZXJfd2VsbF9w
b3N0X2VuYWJsZShkZXZfcHJpdiwKIAkJCQkgICBwb3dlcl93ZWxsLT5kZXNjLT5oc3cuaXJxX3Bp
cGVfbWFzaywKIAkJCQkgICBwb3dlcl93ZWxsLT5kZXNjLT5oc3cuaGFzX3ZnYSk7CiB9CiAKK3N0
YXRpYyB2b2lkIGhzd19wb3dlcl93ZWxsX2VuYWJsZShzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAq
ZGV2X3ByaXYsCisJCQkJICBzdHJ1Y3QgaTkxNV9wb3dlcl93ZWxsICpwb3dlcl93ZWxsKQorewor
CV9oc3dfcG93ZXJfd2VsbF9lbmFibGUoZGV2X3ByaXYsIHBvd2VyX3dlbGwpOworCV9oc3dfcG93
ZXJfd2VsbF9jb250aW51ZV9lbmFibGUoZGV2X3ByaXYsIHBvd2VyX3dlbGwpOworfQorCiBzdGF0
aWMgdm9pZCBoc3dfcG93ZXJfd2VsbF9kaXNhYmxlKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpk
ZXZfcHJpdiwKIAkJCQkgICBzdHJ1Y3QgaTkxNV9wb3dlcl93ZWxsICpwb3dlcl93ZWxsKQogewpA
QCAtNTY5LDcgKzU5MCwxMSBAQCBpY2xfdGNfcGh5X2F1eF9wb3dlcl93ZWxsX2VuYWJsZShzdHJ1
Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYsCiAJCXZhbCB8PSBEUF9BVVhfQ0hfQ1RMX1RC
VF9JTzsKIAlpbnRlbF9kZV93cml0ZShkZXZfcHJpdiwgRFBfQVVYX0NIX0NUTChhdXhfY2gpLCB2
YWwpOwogCi0JaHN3X3Bvd2VyX3dlbGxfZW5hYmxlKGRldl9wcml2LCBwb3dlcl93ZWxsKTsKKwlf
aHN3X3Bvd2VyX3dlbGxfZW5hYmxlKGRldl9wcml2LCBwb3dlcl93ZWxsKTsKKworCS8qIFRPRE8g
SUNMIFRDIGNvbGQgaGFuZGxpbmcgKi8KKworCV9oc3dfcG93ZXJfd2VsbF9jb250aW51ZV9lbmFi
bGUoZGV2X3ByaXYsIHBvd2VyX3dlbGwpOwogCiAJaWYgKElOVEVMX0dFTihkZXZfcHJpdikgPj0g
MTIgJiYgIXBvd2VyX3dlbGwtPmRlc2MtPmhzdy5pc190Y190YnQpIHsKIAkJZW51bSB0Y19wb3J0
IHRjX3BvcnQ7Ci0tIAoyLjI2LjAKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fCkludGVsLWdmeCBtYWlsaW5nIGxpc3QKSW50ZWwtZ2Z4QGxpc3RzLmZyZWVk
ZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZv
L2ludGVsLWdmeAo=

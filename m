Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 35C351211AF
	for <lists+intel-gfx@lfdr.de>; Mon, 16 Dec 2019 18:24:03 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 6894F6E849;
	Mon, 16 Dec 2019 17:24:01 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga12.intel.com (mga12.intel.com [192.55.52.136])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 938096E848
 for <intel-gfx@lists.freedesktop.org>; Mon, 16 Dec 2019 17:23:59 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga005.jf.intel.com ([10.7.209.41])
 by fmsmga106.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 16 Dec 2019 09:23:58 -0800
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.69,322,1571727600"; d="scan'208";a="389525483"
Received: from fmsmsx106.amr.corp.intel.com ([10.18.124.204])
 by orsmga005.jf.intel.com with ESMTP; 16 Dec 2019 09:23:58 -0800
Received: from fmsmsx113.amr.corp.intel.com (10.18.116.7) by
 FMSMSX106.amr.corp.intel.com (10.18.124.204) with Microsoft SMTP Server (TLS)
 id 14.3.439.0; Mon, 16 Dec 2019 09:23:58 -0800
Received: from fmsmsx117.amr.corp.intel.com ([169.254.3.123]) by
 FMSMSX113.amr.corp.intel.com ([169.254.13.86]) with mapi id 14.03.0439.000;
 Mon, 16 Dec 2019 09:23:57 -0800
From: "Souza, Jose" <jose.souza@intel.com>
To: "ville.syrjala@linux.intel.com" <ville.syrjala@linux.intel.com>
Thread-Topic: [PATCH v2 rebased 07/11] drm/i915/tgl: Select master
 transcoder for MST stream
Thread-Index: AQHVsFMunUXv68fiYUq3u3YJceSuA6e3f1uAgAGVn4CABHurgA==
Date: Mon, 16 Dec 2019 17:23:56 +0000
Message-ID: <1c28dd0726dc881192a9f684e1681e2ede515d25.camel@intel.com>
References: <20191211184526.142413-1-jose.souza@intel.com>
 <20191211184526.142413-7-jose.souza@intel.com>
 <20191212204429.GT1208@intel.com> <20191213205615.GI1208@intel.com>
In-Reply-To: <20191213205615.GI1208@intel.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-originating-ip: [10.254.102.104]
Content-ID: <6A5C0E94A54F9C45A1FE8D3E920E8124@intel.com>
MIME-Version: 1.0
Subject: Re: [Intel-gfx] [PATCH v2 rebased 07/11] drm/i915/tgl: Select
 master transcoder for MST stream
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: "intel-gfx@lists.freedesktop.org" <intel-gfx@lists.freedesktop.org>, "De
 Marchi, Lucas" <lucas.demarchi@intel.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

T24gRnJpLCAyMDE5LTEyLTEzIGF0IDIyOjU2ICswMjAwLCBWaWxsZSBTeXJqw6Rsw6Qgd3JvdGU6
DQo+IE9uIFRodSwgRGVjIDEyLCAyMDE5IGF0IDEwOjQ0OjI5UE0gKzAyMDAsIFZpbGxlIFN5cmrD
pGzDpCB3cm90ZToNCj4gPiBPbiBXZWQsIERlYyAxMSwgMjAxOSBhdCAxMDo0NToyMkFNIC0wODAw
LCBKb3PDqSBSb2JlcnRvIGRlIFNvdXphDQo+ID4gd3JvdGU6DQo+ID4gPiBPbiBUR0wgdGhlIGJs
ZW5kaW5nIG9mIGFsbCB0aGUgc3RyZWFtcyBoYXZlIG1vdmVkIGZyb20gRERJIHRvDQo+ID4gPiB0
cmFuc2NvZGVyLCBzbyBub3cgZXZlcnkgdHJhbnNjb2RlciB3b3JraW5nIG92ZXIgdGhlIHNhbWUg
TVNUDQo+ID4gPiBwb3J0IG11c3QNCj4gPiA+IHNlbmQgaXRzIHN0cmVhbSB0byBhIG1hc3RlciB0
cmFuc2NvZGVyIGFuZCBtYXN0ZXIgd2lsbCBzZW5kIHRvDQo+ID4gPiBEREkNCj4gPiA+IHJlc3Bl
Y3RpbmcgdGhlIHRpbWUgc2xvdHMuDQo+ID4gPiANCj4gPiA+IFNvIGhlcmUgYWRkaW5nIGFsbCB0
aGUgQ1JUQ3MgdGhhdCBzaGFyZXMgdGhlIHNhbWUgTVNUIHN0cmVhbSBpZg0KPiA+ID4gbmVlZGVk
IGFuZCBjb21wdXRpbmcgdGhlaXIgc3RhdGUgYWdhaW4sIGl0IHdpbGwgcGljayB0aGUgbG93ZXN0
DQo+ID4gPiBwaXBlL3RyYW5zY29kZXIgYW1vbmcgdGhlIG9uZXMgaW4gdGhlIHNhbWUgc3RyZWFt
IHRvIGJlIG1hc3Rlci4NCj4gPiA+IA0KPiA+ID4gTW9zdCBvZiB0aGUgdGltZSBza2xfY29tbWl0
X21vZGVzZXRfZW5hYmxlcygpIGVuYWJsZXMgcGlwZXMgaW4gYQ0KPiA+ID4gY3Jlc2NlbnQgb3Jk
ZXIgYnV0IGR1ZSBEREIgb3ZlcmxhcHBpbmcgaXQgbWlnaHQgbm90IGhhcHBlbiwgdGhpcw0KPiA+
ID4gc2NlbmFyaW9zIHdpbGwgYmUgaGFuZGxlZCBpbiB0aGUgbmV4dCBwYXRjaC4NCj4gPiA+IA0K
PiA+ID4gdjI6DQo+ID4gPiAtIFVzaW5nIHJlY2VudGx5IGFkZGVkIGludGVsX2NydGNfc3RhdGVf
cmVzZXQoKSB0byBzZXQNCj4gPiA+IG1zdF9tYXN0ZXJfdHJhbnNjb2RlciB0byBpbnZhbGlkIHRy
YW5zY29kZXIgZm9yIGFsbCBub24gZ2VuMTIgJg0KPiA+ID4gTVNUDQo+ID4gPiBjb2RlIHBhdGhz
DQo+ID4gPiAtIFNldHRpbmcgbG93ZXN0IHBpcGUvdHJhbnNjb2RlciBhcyBtYXN0ZXIsIHByZXZp
b3VzbHkgaXQgd2FzIHRoZQ0KPiA+ID4gZmlyc3Qgb25lIGJ1dCBzZXR0aW5nIGEgcHJlZGljdGFi
bGUgb25lIHdpbGwgaGVscCBpbiBmdXR1cmUgTVNUIGUNCj4gPiA+IHBvcnQgc3luYyBpbnRlZ3Jh
dGlvbg0KPiA+ID4gLSBNb3ZpbmcgdG8gaW50ZWwgdHlwZSBhcyBtdWNoIGFzIHdlIGNhbg0KPiA+
ID4gDQo+ID4gPiBCU3BlYzogNTA0OTMNCj4gPiA+IEJTcGVjOiA0OTE5MA0KPiA+ID4gQ2M6IFZp
bGxlIFN5cmrDpGzDpCA8dmlsbGUuc3lyamFsYUBsaW51eC5pbnRlbC5jb20+DQo+ID4gPiBDYzog
THVjYXMgRGUgTWFyY2hpIDxsdWNhcy5kZW1hcmNoaUBpbnRlbC5jb20+DQo+ID4gPiBTaWduZWQt
b2ZmLWJ5OiBKb3PDqSBSb2JlcnRvIGRlIFNvdXphIDxqb3NlLnNvdXphQGludGVsLmNvbT4NCj4g
PiA+IC0tLQ0KPiA+ID4gIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfYXRvbWlj
LmMgICB8ICAxNCArKw0KPiA+ID4gIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxf
YXRvbWljLmggICB8ICAgMyArDQo+ID4gPiAgZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9p
bnRlbF9kZGkuYyAgICAgIHwgIDE0ICstDQo+ID4gPiAgZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlz
cGxheS9pbnRlbF9kaXNwbGF5LmMgIHwgIDEzICstDQo+ID4gPiAgLi4uL2RybS9pOTE1L2Rpc3Bs
YXkvaW50ZWxfZGlzcGxheV90eXBlcy5oICAgIHwgICAzICsNCj4gPiA+ICBkcml2ZXJzL2dwdS9k
cm0vaTkxNS9kaXNwbGF5L2ludGVsX2RwX21zdC5jICAgfCAxMzkNCj4gPiA+ICsrKysrKysrKysr
KysrKystLQ0KPiA+ID4gIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZHBfbXN0
LmggICB8ICAgNSArDQo+ID4gPiAgNyBmaWxlcyBjaGFuZ2VkLCAxNzggaW5zZXJ0aW9ucygrKSwg
MTMgZGVsZXRpb25zKC0pDQo+ID4gPiANCj4gPiA+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9k
cm0vaTkxNS9kaXNwbGF5L2ludGVsX2F0b21pYy5jDQo+ID4gPiBiL2RyaXZlcnMvZ3B1L2RybS9p
OTE1L2Rpc3BsYXkvaW50ZWxfYXRvbWljLmMNCj4gPiA+IGluZGV4IDZlOTNhMzlhNmZlYy4uNjlh
MDQzMGM0NjM4IDEwMDY0NA0KPiA+ID4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxh
eS9pbnRlbF9hdG9taWMuYw0KPiA+ID4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxh
eS9pbnRlbF9hdG9taWMuYw0KPiA+ID4gQEAgLTIwNiw2ICsyMDYsMjAgQEAgaW50ZWxfZGlnaXRh
bF9jb25uZWN0b3JfbmVlZHNfbW9kZXNldChzdHJ1Y3QNCj4gPiA+IGludGVsX2F0b21pY19zdGF0
ZSAqc3RhdGUsDQo+ID4gPiAgCSAgICAgICAobmV3X2NydGMgJiYNCj4gPiA+IGRybV9hdG9taWNf
Y3J0Y19uZWVkc19tb2Rlc2V0KCZuZXdfY3J0Y19zdGF0ZS0+dWFwaSkpOw0KPiA+ID4gIH0NCj4g
PiA+ICANCj4gPiA+ICtzdHJ1Y3QgaW50ZWxfZGlnaXRhbF9jb25uZWN0b3Jfc3RhdGUgKg0KPiA+
ID4gK2ludGVsX2F0b21pY19nZXRfZGlnaXRhbF9jb25uZWN0b3Jfc3RhdGUoc3RydWN0DQo+ID4g
PiBpbnRlbF9hdG9taWNfc3RhdGUgKnN0YXRlLA0KPiA+ID4gKwkJCQkJIHN0cnVjdCBpbnRlbF9j
b25uZWN0b3INCj4gPiA+ICpjb25uZWN0b3IpDQo+ID4gPiArew0KPiA+ID4gKwlzdHJ1Y3QgZHJt
X2Nvbm5lY3Rvcl9zdGF0ZSAqY29ubmVjdG9yX3N0YXRlOw0KPiA+ID4gKw0KPiA+ID4gKwljb25u
ZWN0b3Jfc3RhdGUgPSBkcm1fYXRvbWljX2dldF9jb25uZWN0b3Jfc3RhdGUoJnN0YXRlLT5iYXNl
LA0KPiA+ID4gKwkJCQkJCQkgJmNvbm5lY3Rvci0NCj4gPiA+ID5iYXNlKTsNCj4gPiA+ICsJaWYg
KElTX0VSUihjb25uZWN0b3Jfc3RhdGUpKQ0KPiA+ID4gKwkJcmV0dXJuIEVSUl9DQVNUKGNvbm5l
Y3Rvcl9zdGF0ZSk7DQo+ID4gPiArDQo+ID4gPiArCXJldHVybiB0b19pbnRlbF9kaWdpdGFsX2Nv
bm5lY3Rvcl9zdGF0ZShjb25uZWN0b3Jfc3RhdGUpOw0KPiA+ID4gK30NCj4gPiA+ICsNCj4gPiA+
ICAvKioNCj4gPiA+ICAgKiBpbnRlbF9jcnRjX2R1cGxpY2F0ZV9zdGF0ZSAtIGR1cGxpY2F0ZSBj
cnRjIHN0YXRlDQo+ID4gPiAgICogQGNydGM6IGRybSBjcnRjDQo+ID4gPiBkaWZmIC0tZ2l0IGEv
ZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9hdG9taWMuaA0KPiA+ID4gYi9kcml2
ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2F0b21pYy5oDQo+ID4gPiBpbmRleCBiYTlj
YzI5YTU4NjUuLjZlODYzOGQ4M2QyOCAxMDA2NDQNCj4gPiA+IC0tLSBhL2RyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2Rpc3BsYXkvaW50ZWxfYXRvbWljLmgNCj4gPiA+ICsrKyBiL2RyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2Rpc3BsYXkvaW50ZWxfYXRvbWljLmgNCj4gPiA+IEBAIC0zNSw2ICszNSw5IEBAIHN0
cnVjdCBkcm1fY29ubmVjdG9yX3N0YXRlICoNCj4gPiA+ICBpbnRlbF9kaWdpdGFsX2Nvbm5lY3Rv
cl9kdXBsaWNhdGVfc3RhdGUoc3RydWN0IGRybV9jb25uZWN0b3INCj4gPiA+ICpjb25uZWN0b3Ip
Ow0KPiA+ID4gIGJvb2wgaW50ZWxfZGlnaXRhbF9jb25uZWN0b3JfbmVlZHNfbW9kZXNldChzdHJ1
Y3QNCj4gPiA+IGludGVsX2F0b21pY19zdGF0ZSAqc3RhdGUsDQo+ID4gPiAgCQkJCQkgICBzdHJ1
Y3QgaW50ZWxfY29ubmVjdG9yDQo+ID4gPiAqY29ubmVjdG9yKTsNCj4gPiA+ICtzdHJ1Y3QgaW50
ZWxfZGlnaXRhbF9jb25uZWN0b3Jfc3RhdGUgKg0KPiA+ID4gK2ludGVsX2F0b21pY19nZXRfZGln
aXRhbF9jb25uZWN0b3Jfc3RhdGUoc3RydWN0DQo+ID4gPiBpbnRlbF9hdG9taWNfc3RhdGUgKnN0
YXRlLA0KPiA+ID4gKwkJCQkJIHN0cnVjdCBpbnRlbF9jb25uZWN0b3INCj4gPiA+ICpjb25uZWN0
b3IpOw0KPiA+ID4gIA0KPiA+ID4gIHN0cnVjdCBkcm1fY3J0Y19zdGF0ZSAqaW50ZWxfY3J0Y19k
dXBsaWNhdGVfc3RhdGUoc3RydWN0DQo+ID4gPiBkcm1fY3J0YyAqY3J0Yyk7DQo+ID4gPiAgdm9p
ZCBpbnRlbF9jcnRjX2Rlc3Ryb3lfc3RhdGUoc3RydWN0IGRybV9jcnRjICpjcnRjLA0KPiA+ID4g
ZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGRpLmMNCj4g
PiA+IGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kZGkuYw0KPiA+ID4gaW5k
ZXggNWI2ZjMyNTE3Yzc1Li42ZWU1MjMwMDQ1ZWIgMTAwNjQ0DQo+ID4gPiAtLS0gYS9kcml2ZXJz
L2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2RkaS5jDQo+ID4gPiArKysgYi9kcml2ZXJzL2dw
dS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2RkaS5jDQo+ID4gPiBAQCAtMTkwMyw4ICsxOTAzLDEz
IEBADQo+ID4gPiBpbnRlbF9kZGlfdHJhbnNjb2Rlcl9mdW5jX3JlZ192YWxfZ2V0KGNvbnN0IHN0
cnVjdA0KPiA+ID4gaW50ZWxfY3J0Y19zdGF0ZSAqY3J0Y19zdGF0ZSkNCj4gPiA+ICAJCXRlbXAg
fD0gVFJBTlNfRERJX01PREVfU0VMRUNUX0RQX01TVDsNCj4gPiA+ICAJCXRlbXAgfD0gRERJX1BP
UlRfV0lEVEgoY3J0Y19zdGF0ZS0+bGFuZV9jb3VudCk7DQo+ID4gPiAgDQo+ID4gPiAtCQlpZiAo
SU5URUxfR0VOKGRldl9wcml2KSA+PSAxMikNCj4gPiA+IC0JCQl0ZW1wIHw9DQo+ID4gPiBUUkFO
U19ERElfTVNUX1RSQU5TUE9SVF9TRUxFQ1QoY3J0Y19zdGF0ZS0+Y3B1X3RyYW5zY29kZXIpOw0K
PiA+ID4gKwkJaWYgKElOVEVMX0dFTihkZXZfcHJpdikgPj0gMTIpIHsNCj4gPiA+ICsJCQllbnVt
IHRyYW5zY29kZXIgbWFzdGVyOw0KPiA+ID4gKw0KPiA+ID4gKwkJCW1hc3RlciA9IGNydGNfc3Rh
dGUtPm1zdF9tYXN0ZXJfdHJhbnNjb2RlcjsNCj4gPiA+ICsJCQlXQVJOX09OKG1hc3RlciA9PSBJ
TlZBTElEX1RSQU5TQ09ERVIpOw0KPiA+ID4gKwkJCXRlbXAgfD0gVFJBTlNfRERJX01TVF9UUkFO
U1BPUlRfU0VMRUNUKG1hc3Rlcik7DQo+ID4gPiArCQl9DQo+ID4gPiAgCX0gZWxzZSB7DQo+ID4g
PiAgCQl0ZW1wIHw9IFRSQU5TX0RESV9NT0RFX1NFTEVDVF9EUF9TU1Q7DQo+ID4gPiAgCQl0ZW1w
IHw9IERESV9QT1JUX1dJRFRIKGNydGNfc3RhdGUtPmxhbmVfY291bnQpOw0KPiA+ID4gQEAgLTQz
NzcsNiArNDM4MiwxMSBAQCB2b2lkIGludGVsX2RkaV9nZXRfY29uZmlnKHN0cnVjdA0KPiA+ID4g
aW50ZWxfZW5jb2RlciAqZW5jb2RlciwNCj4gPiA+ICAJCXBpcGVfY29uZmlnLT5vdXRwdXRfdHlw
ZXMgfD0gQklUKElOVEVMX09VVFBVVF9EUF9NU1QpOw0KPiA+ID4gIAkJcGlwZV9jb25maWctPmxh
bmVfY291bnQgPQ0KPiA+ID4gIAkJCSgodGVtcCAmIERESV9QT1JUX1dJRFRIX01BU0spID4+DQo+
ID4gPiBERElfUE9SVF9XSURUSF9TSElGVCkgKyAxOw0KPiA+ID4gKw0KPiA+ID4gKwkJaWYgKElO
VEVMX0dFTihkZXZfcHJpdikgPj0gMTIpDQo+ID4gPiArCQkJcGlwZV9jb25maWctPm1zdF9tYXN0
ZXJfdHJhbnNjb2RlciA9DQo+ID4gPiArCQkJCQlSRUdfRklFTERfR0VUKFRSQU5TX0RESV9NU1Rf
VFJBDQo+ID4gPiBOU1BPUlRfU0VMRUNUX01BU0ssIHRlbXApOw0KPiA+ID4gKw0KPiA+ID4gIAkJ
aW50ZWxfZHBfZ2V0X21fbihpbnRlbF9jcnRjLCBwaXBlX2NvbmZpZyk7DQo+ID4gPiAgCQlicmVh
azsNCj4gPiA+ICAJZGVmYXVsdDoNCj4gPiA+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0v
aTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXkuYw0KPiA+ID4gYi9kcml2ZXJzL2dwdS9kcm0vaTkx
NS9kaXNwbGF5L2ludGVsX2Rpc3BsYXkuYw0KPiA+ID4gaW5kZXggMzliMDBhMTlkNzUyLi4xY2Vj
Y2UyZjU0ZjggMTAwNjQ0DQo+ID4gPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5
L2ludGVsX2Rpc3BsYXkuYw0KPiA+ID4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxh
eS9pbnRlbF9kaXNwbGF5LmMNCj4gPiA+IEBAIC00Niw2ICs0Niw3IEBADQo+ID4gPiAgI2luY2x1
ZGUgImRpc3BsYXkvaW50ZWxfY3J0LmgiDQo+ID4gPiAgI2luY2x1ZGUgImRpc3BsYXkvaW50ZWxf
ZGRpLmgiDQo+ID4gPiAgI2luY2x1ZGUgImRpc3BsYXkvaW50ZWxfZHAuaCINCj4gPiA+ICsjaW5j
bHVkZSAiZGlzcGxheS9pbnRlbF9kcF9tc3QuaCINCj4gPiA+ICAjaW5jbHVkZSAiZGlzcGxheS9p
bnRlbF9kc2kuaCINCj4gPiA+ICAjaW5jbHVkZSAiZGlzcGxheS9pbnRlbF9kdm8uaCINCj4gPiA+
ICAjaW5jbHVkZSAiZGlzcGxheS9pbnRlbF9nbWJ1cy5oIg0KPiA+ID4gQEAgLTExNjYzLDYgKzEx
NjY0LDcgQEAgc3RhdGljIHZvaWQgaW50ZWxfY3J0Y19zdGF0ZV9yZXNldChzdHJ1Y3QNCj4gPiA+
IGludGVsX2NydGNfc3RhdGUgKmNydGNfc3RhdGUsDQo+ID4gPiAgCWNydGNfc3RhdGUtPmhzd193
b3JrYXJvdW5kX3BpcGUgPSBJTlZBTElEX1BJUEU7DQo+ID4gPiAgCWNydGNfc3RhdGUtPm91dHB1
dF9mb3JtYXQgPSBJTlRFTF9PVVRQVVRfRk9STUFUX0lOVkFMSUQ7DQo+ID4gPiAgCWNydGNfc3Rh
dGUtPnNjYWxlcl9zdGF0ZS5zY2FsZXJfaWQgPSAtMTsNCj4gPiA+ICsJY3J0Y19zdGF0ZS0+bXN0
X21hc3Rlcl90cmFuc2NvZGVyID0gSU5WQUxJRF9UUkFOU0NPREVSOw0KPiA+ID4gIH0NCj4gPiA+
ICANCj4gPiA+ICAvKiBSZXR1cm5zIHRoZSBjdXJyZW50bHkgcHJvZ3JhbW1lZCBtb2RlIG9mIHRo
ZSBnaXZlbiBlbmNvZGVyLg0KPiA+ID4gKi8NCj4gPiA+IEBAIC0xMjUxMCw2ICsxMjUxMiw5IEBA
IHN0YXRpYyB2b2lkIGludGVsX2R1bXBfcGlwZV9jb25maWcoY29uc3QNCj4gPiA+IHN0cnVjdCBp
bnRlbF9jcnRjX3N0YXRlICpwaXBlX2NvbmZpZywNCj4gPiA+ICAJCQkgICAgICBwaXBlX2NvbmZp
Zy0+Y3NjX21vZGUsIHBpcGVfY29uZmlnLQ0KPiA+ID4gPmdhbW1hX21vZGUsDQo+ID4gPiAgCQkJ
ICAgICAgcGlwZV9jb25maWctPmdhbW1hX2VuYWJsZSwgcGlwZV9jb25maWctDQo+ID4gPiA+Y3Nj
X2VuYWJsZSk7DQo+ID4gPiAgDQo+ID4gPiArCURSTV9ERUJVR19LTVMoIk1TVCBtYXN0ZXIgdHJh
bnNjb2RlcjogJXNcbiIsDQo+ID4gPiArCQkgICAgICB0cmFuc2NvZGVyX25hbWUocGlwZV9jb25m
aWctDQo+ID4gPiA+bXN0X21hc3Rlcl90cmFuc2NvZGVyKSk7DQo+ID4gPiArDQo+ID4gPiAgZHVt
cF9wbGFuZXM6DQo+ID4gPiAgCWlmICghc3RhdGUpDQo+ID4gPiAgCQlyZXR1cm47DQo+ID4gPiBA
QCAtMTI2NTEsNiArMTI2NTYsNyBAQCBpbnRlbF9jcnRjX3ByZXBhcmVfY2xlYXJlZF9zdGF0ZShz
dHJ1Y3QNCj4gPiA+IGludGVsX2NydGNfc3RhdGUgKmNydGNfc3RhdGUpDQo+ID4gPiAgCW1lbWNw
eShzYXZlZF9zdGF0ZS0+aWNsX3BvcnRfZHBsbHMsIGNydGNfc3RhdGUtPmljbF9wb3J0X2RwbGxz
LA0KPiA+ID4gIAkgICAgICAgc2l6ZW9mKHNhdmVkX3N0YXRlLT5pY2xfcG9ydF9kcGxscykpOw0K
PiA+ID4gIAlzYXZlZF9zdGF0ZS0+Y3JjX2VuYWJsZWQgPSBjcnRjX3N0YXRlLT5jcmNfZW5hYmxl
ZDsNCj4gPiA+ICsJc2F2ZWRfc3RhdGUtPm1zdF9tYXN0ZXJfdHJhbnNjb2RlciA9IElOVkFMSURf
VFJBTlNDT0RFUjsNCj4gPiA+ICAJaWYgKElTX0c0WChkZXZfcHJpdikgfHwNCj4gPiA+ICAJICAg
IElTX1ZBTExFWVZJRVcoZGV2X3ByaXYpIHx8IElTX0NIRVJSWVZJRVcoZGV2X3ByaXYpKQ0KPiA+
ID4gIAkJc2F2ZWRfc3RhdGUtPndtID0gY3J0Y19zdGF0ZS0+d207DQo+ID4gPiBAQCAtMTMyOTAs
NiArMTMyOTYsOCBAQCBpbnRlbF9waXBlX2NvbmZpZ19jb21wYXJlKGNvbnN0IHN0cnVjdA0KPiA+
ID4gaW50ZWxfY3J0Y19zdGF0ZSAqY3VycmVudF9jb25maWcsDQo+ID4gPiAgCVBJUEVfQ09ORl9D
SEVDS19JKGRzYy5kc2Nfc3BsaXQpOw0KPiA+ID4gIAlQSVBFX0NPTkZfQ0hFQ0tfSShkc2MuY29t
cHJlc3NlZF9icHApOw0KPiA+ID4gIA0KPiA+ID4gKwlQSVBFX0NPTkZfQ0hFQ0tfSShtc3RfbWFz
dGVyX3RyYW5zY29kZXIpOw0KPiA+ID4gKw0KPiA+ID4gICN1bmRlZiBQSVBFX0NPTkZfQ0hFQ0tf
WA0KPiA+ID4gICN1bmRlZiBQSVBFX0NPTkZfQ0hFQ0tfSQ0KPiA+ID4gICN1bmRlZiBQSVBFX0NP
TkZfQ0hFQ0tfQk9PTA0KPiA+ID4gQEAgLTE0Mzc0LDcgKzE0MzgyLDcgQEAgc3RhdGljIHZvaWQN
Cj4gPiA+IGludGVsX2NvbW1pdF9tb2Rlc2V0X2Rpc2FibGVzKHN0cnVjdCBpbnRlbF9hdG9taWNf
c3RhdGUgKnN0YXRlKQ0KPiA+ID4gIAl1MzIgaGFuZGxlZCA9IDA7DQo+ID4gPiAgCWludCBpOw0K
PiA+ID4gIA0KPiA+ID4gLQkvKiBPbmx5IGRpc2FibGUgcG9ydCBzeW5jIHNsYXZlcyAqLw0KPiA+
ID4gKwkvKiBPbmx5IGRpc2FibGUgcG9ydCBzeW5jIGFuZCBNU1Qgc2xhdmVzICovDQo+ID4gPiAg
CWZvcl9lYWNoX29sZG5ld19pbnRlbF9jcnRjX2luX3N0YXRlKHN0YXRlLCBjcnRjLA0KPiA+ID4g
b2xkX2NydGNfc3RhdGUsDQo+ID4gPiAgCQkJCQkgICAgbmV3X2NydGNfc3RhdGUsIGkpIHsNCj4g
PiA+ICAJCWlmICghbmVlZHNfbW9kZXNldChuZXdfY3J0Y19zdGF0ZSkpDQo+ID4gPiBAQCAtMTQz
ODgsNyArMTQzOTYsOCBAQCBzdGF0aWMgdm9pZA0KPiA+ID4gaW50ZWxfY29tbWl0X21vZGVzZXRf
ZGlzYWJsZXMoc3RydWN0IGludGVsX2F0b21pY19zdGF0ZSAqc3RhdGUpDQo+ID4gPiAgCQkgKiBz
bGF2ZSBDUlRDcyBhcmUgZGlzYWJsZWQgZmlyc3QgYW5kIHRoZW4gbWFzdGVyIENSVEMNCj4gPiA+
IHNpbmNlDQo+ID4gPiAgCQkgKiBTbGF2ZSB2YmxhbmtzIGFyZSBtYXNrZWQgdGlsbCBNYXN0ZXIg
VmJsYW5rcy4NCj4gPiA+ICAJCSAqLw0KPiA+ID4gLQkJaWYgKCFpc190cmFuc19wb3J0X3N5bmNf
c2xhdmUob2xkX2NydGNfc3RhdGUpKQ0KPiA+ID4gKwkJaWYgKCFpc190cmFuc19wb3J0X3N5bmNf
c2xhdmUob2xkX2NydGNfc3RhdGUpICYmDQo+ID4gPiArCQkgICAgIWludGVsX2RwX21zdF9pc19z
bGF2ZV90cmFucyhvbGRfY3J0Y19zdGF0ZSkpDQo+ID4gPiAgCQkJY29udGludWU7DQo+ID4gPiAg
DQo+ID4gPiAgCQlpbnRlbF9wcmVfcGxhbmVfdXBkYXRlKHN0YXRlLCBjcnRjKTsNCj4gPiA+IGRp
ZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXlfdHlw
ZXMuaA0KPiA+ID4gYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXlf
dHlwZXMuaA0KPiA+ID4gaW5kZXggODNlYTA0MTQ5Yjc3Li42MzBhOTQ4OTJiN2IgMTAwNjQ0DQo+
ID4gPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXlfdHlw
ZXMuaA0KPiA+ID4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNw
bGF5X3R5cGVzLmgNCj4gPiA+IEBAIC0xMDU0LDYgKzEwNTQsOSBAQCBzdHJ1Y3QgaW50ZWxfY3J0
Y19zdGF0ZSB7DQo+ID4gPiAgDQo+ID4gPiAgCS8qIEJpdG1hc2sgdG8gaW5kaWNhdGUgc2xhdmVz
IGF0dGFjaGVkICovDQo+ID4gPiAgCXU4IHN5bmNfbW9kZV9zbGF2ZXNfbWFzazsNCj4gPiA+ICsN
Cj4gPiA+ICsJLyogT25seSB2YWxpZCBvbiBUR0wrICovDQo+ID4gPiArCWVudW0gdHJhbnNjb2Rl
ciBtc3RfbWFzdGVyX3RyYW5zY29kZXI7DQo+ID4gPiAgfTsNCj4gPiA+ICANCj4gPiA+ICBzdHJ1
Y3QgaW50ZWxfY3J0YyB7DQo+ID4gPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUv
ZGlzcGxheS9pbnRlbF9kcF9tc3QuYw0KPiA+ID4gYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNw
bGF5L2ludGVsX2RwX21zdC5jDQo+ID4gPiBpbmRleCA5MjZlNDlmNDQ5YTYuLjEyZjVlNzk5ZDkx
ZiAxMDA2NDQNCj4gPiA+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxf
ZHBfbXN0LmMNCj4gPiA+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxf
ZHBfbXN0LmMNCj4gPiA+IEBAIC04Nyw2ICs4Nyw0OSBAQCBzdGF0aWMgaW50DQo+ID4gPiBpbnRl
bF9kcF9tc3RfY29tcHV0ZV9saW5rX2NvbmZpZyhzdHJ1Y3QgaW50ZWxfZW5jb2RlciAqZW5jb2Rl
ciwNCj4gPiA+ICAJcmV0dXJuIDA7DQo+ID4gPiAgfQ0KPiA+ID4gIA0KPiA+ID4gKy8qDQo+ID4g
PiArICogSXRlcmF0ZSBvdmVyIGFsbCBjb25uZWN0b3JzIGFuZCBzZXQgbXN0X21hc3Rlcl90cmFu
c2NvZGVyIHRvDQo+ID4gPiB0aGUgc21hbGxlc3QNCj4gPiA+ICsgKiB0cmFuc2NvZGVyIGlkIHRo
YXQgc2hhcmVzIHRoZSBzYW1lIE1TVCBjb25uZWN0b3IuDQo+ID4gPiArICovDQo+ID4gPiArc3Rh
dGljIGludA0KPiA+ID4gK2ludGVsX2RwX21zdF9tYXN0ZXJfdHJhbnNfY29tcHV0ZShzdHJ1Y3Qg
aW50ZWxfZW5jb2RlciAqZW5jb2RlciwNCj4gPiA+ICsJCQkJICBzdHJ1Y3QgaW50ZWxfY3J0Y19z
dGF0ZSAqY3J0Y19zdGF0ZSwNCj4gPiA+ICsJCQkJICBzdHJ1Y3QgZHJtX2Nvbm5lY3Rvcl9zdGF0
ZQ0KPiA+ID4gKmNvbm5lY3Rvcl9zdGF0ZSkNCj4gPiA+ICt7DQo+ID4gPiArCXN0cnVjdCBpbnRl
bF9hdG9taWNfc3RhdGUgKnN0YXRlID0NCj4gPiA+IHRvX2ludGVsX2F0b21pY19zdGF0ZShjcnRj
X3N0YXRlLT51YXBpLnN0YXRlKTsNCj4gPiA+ICsJc3RydWN0IGludGVsX2Nvbm5lY3RvciAqY29u
bmVjdG9yID0NCj4gPiA+IHRvX2ludGVsX2Nvbm5lY3Rvcihjb25uZWN0b3Jfc3RhdGUtPmNvbm5l
Y3Rvcik7DQo+ID4gPiArCXN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiA9IHRvX2k5
MTUoZW5jb2Rlci0+YmFzZS5kZXYpOw0KPiA+ID4gKwlzdHJ1Y3QgaW50ZWxfZGlnaXRhbF9jb25u
ZWN0b3Jfc3RhdGUgKml0ZXJfY29ubmVjdG9yX3N0YXRlOw0KPiA+ID4gKwlzdHJ1Y3QgaW50ZWxf
Y29ubmVjdG9yICppdGVyX2Nvbm5lY3RvcjsNCj4gPiA+ICsJaW50IGk7DQo+ID4gPiArDQo+ID4g
PiArCWlmIChJTlRFTF9HRU4oZGV2X3ByaXYpIDwgMTIpDQo+ID4gPiArCQlyZXR1cm4gMDsNCj4g
PiA+ICsNCj4gPiA+ICsJY3J0Y19zdGF0ZS0+bXN0X21hc3Rlcl90cmFuc2NvZGVyID0gSTkxNV9N
QVhfVFJBTlNDT0RFUlM7DQo+ID4gPiArDQo+ID4gPiArCWZvcl9lYWNoX25ld19pbnRlbF9jb25u
ZWN0b3JfaW5fc3RhdGUoc3RhdGUsIGl0ZXJfY29ubmVjdG9yLA0KPiA+ID4gKwkJCQkJICAgICAg
aXRlcl9jb25uZWN0b3Jfc3RhdGUsIGkpDQo+ID4gPiB7DQo+ID4gPiArCQlzdHJ1Y3QgaW50ZWxf
Y3J0Y19zdGF0ZSAqaXRlcl9jcnRjX3N0YXRlOw0KPiA+ID4gKwkJc3RydWN0IGludGVsX2NydGMg
Kml0ZXJfY3J0YzsNCj4gPiA+ICsNCj4gPiA+ICsJCWlmIChjb25uZWN0b3ItPm1zdF9wb3J0ICE9
IGl0ZXJfY29ubmVjdG9yLT5tc3RfcG9ydCB8fA0KPiA+ID4gKwkJICAgICFpdGVyX2Nvbm5lY3Rv
cl9zdGF0ZS0+YmFzZS5jcnRjKQ0KPiA+ID4gKwkJCWNvbnRpbnVlOw0KPiA+ID4gKw0KPiA+ID4g
KwkJaXRlcl9jcnRjID0gdG9faW50ZWxfY3J0YyhpdGVyX2Nvbm5lY3Rvcl9zdGF0ZS0NCj4gPiA+
ID5iYXNlLmNydGMpOw0KPiA+ID4gKwkJaXRlcl9jcnRjX3N0YXRlID0NCj4gPiA+IGludGVsX2F0
b21pY19nZXRfbmV3X2NydGNfc3RhdGUoc3RhdGUsDQo+ID4gPiArCQkJCQkJCQkgIGl0ZXJfDQo+
ID4gPiBjcnRjKTsNCj4gPiA+ICsJCWlmICghaXRlcl9jcnRjX3N0YXRlLT51YXBpLmFjdGl2ZSkN
Cj4gPiA+ICsJCQljb250aW51ZTsNCj4gPiA+ICsNCj4gPiA+ICsJCWlmIChpdGVyX2NydGNfc3Rh
dGUtPmNwdV90cmFuc2NvZGVyIDwgY3J0Y19zdGF0ZS0NCj4gPiA+ID5tc3RfbWFzdGVyX3RyYW5z
Y29kZXIpDQo+ID4gPiArCQkJY3J0Y19zdGF0ZS0+bXN0X21hc3Rlcl90cmFuc2NvZGVyID0NCj4g
PiA+IGl0ZXJfY3J0Y19zdGF0ZS0+Y3B1X3RyYW5zY29kZXI7DQo+IA0KPiBXYXMganVzdCByZWFk
aW5nIE1hbmFzaSdzIHBvcnQgc3luYyBzdHVmZiB3aGVuIEkgcmVhbGl6ZWQgdGhpcyB3b24ndA0K
PiB3b3JrLiBXZSBoYXZlbid0IG5lY2Vzc2FyaWx5IGNvbXB1dGUgY3B1X3RyYW5zY29kZXIgZm9y
IHRoZSBvdGhlcg0KPiBwaXBlcyB5ZXQuIFNvIEkgc3VnZ2VzdCB3ZSBleHRyYWN0IHRoZSBjb2Rl
IHRvIGNvbXB1dGUgdGhlDQo+IGNwdV90cmFuc2NvZGVyDQo+IGZyb20gaW50ZWxfZGRpX2Nvbm5l
Y3Rvcl9nZXRfaHdfc3RhdGUoKSBhbmQgdXNlIGl0IGV2ZXJ5d2hlcmUsDQo+IGluY2x1ZGluZw0K
PiBoZXJlLg0KDQpva2F5DQoNCj4gDQo+ID4gPiArCX0NCj4gPiA+ICsNCj4gPiA+ICsJcmV0dXJu
IDA7DQo+ID4gPiArfQ0KPiA+IA0KPiA+IFRoaXMgbG9va3MgbGlrZSBpdCBjYW4gYmUgYSBwdXJl
IGZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0aGUNCj4gPiBtYXN0ZXIgdHJhbnNjb2Rlci4NCj4gPiAN
Cj4gPiA+ICsNCj4gPiA+ICBzdGF0aWMgaW50IGludGVsX2RwX21zdF9jb21wdXRlX2NvbmZpZyhz
dHJ1Y3QgaW50ZWxfZW5jb2Rlcg0KPiA+ID4gKmVuY29kZXIsDQo+ID4gPiAgCQkJCSAgICAgICBz
dHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZQ0KPiA+ID4gKnBpcGVfY29uZmlnLA0KPiA+ID4gIAkJCQkg
ICAgICAgc3RydWN0IGRybV9jb25uZWN0b3Jfc3RhdGUNCj4gPiA+ICpjb25uX3N0YXRlKQ0KPiA+
ID4gQEAgLTE1NCwyNCArMTk3LDg4IEBAIHN0YXRpYyBpbnQNCj4gPiA+IGludGVsX2RwX21zdF9j
b21wdXRlX2NvbmZpZyhzdHJ1Y3QgaW50ZWxfZW5jb2RlciAqZW5jb2RlciwNCj4gPiA+ICANCj4g
PiA+ICAJaW50ZWxfZGRpX2NvbXB1dGVfbWluX3ZvbHRhZ2VfbGV2ZWwoZGV2X3ByaXYsIHBpcGVf
Y29uZmlnKTsNCj4gPiA+ICANCj4gPiA+ICsJcmV0ID0gaW50ZWxfZHBfbXN0X21hc3Rlcl90cmFu
c19jb21wdXRlKGVuY29kZXIsIHBpcGVfY29uZmlnLA0KPiA+ID4gKwkJCQkJCWNvbm5fc3RhdGUp
Ow0KPiA+ID4gKwlpZiAocmV0KQ0KPiA+ID4gKwkJcmV0dXJuIHJldDsNCj4gPiA+ICsNCj4gPiA+
ICsJcmV0dXJuIDA7DQo+ID4gPiArfQ0KPiA+ID4gKw0KPiA+ID4gKy8qDQo+ID4gPiArICogSWYg
b25lIG9mIHRoZSBjb25uZWN0b3JzIGluIGEgTVNUIHN0cmVhbSBuZWVkcyBhIG1vZGVzZXQsDQo+
ID4gPiBtYXJrIGFsbCBDUlRDcw0KPiA+ID4gKyAqIHRoYXQgaGF2ZSBhIGNvbm5lY3RvciBpbiB0
aGUgc2FtZSBNU1Qgc3RyZWFtIGFzIG1vZGUgY2hhbmdlZCwNCj4gPiA+ICsgKiBpbnRlbF9tb2Rl
c2V0X3BpcGVfY29uZmlnKCkraW50ZWxfY3J0Y19jaGVja19mYXN0c2V0KCkgd2lsbA0KPiA+ID4g
dGFrZSB0byBkbyBhDQo+ID4gPiArICogZmFzdHNldCB3aGVuIHBvc3NpYmxlLg0KPiA+ID4gKyAq
Lw0KPiA+ID4gK3N0YXRpYyBpbnQNCj4gPiA+ICtpbnRlbF9kcF9tc3RfYXRvbWljX21hc3Rlcl90
cmFuc19jaGVjayhzdHJ1Y3QgaW50ZWxfY29ubmVjdG9yDQo+ID4gPiAqY29ubmVjdG9yLA0KPiA+
ID4gKwkJCQkgICAgICAgc3RydWN0IGludGVsX2F0b21pY19zdGF0ZQ0KPiA+ID4gKnN0YXRlKQ0K
PiA+ID4gK3sNCj4gPiA+ICsJc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2ID0gdG9f
aTkxNShzdGF0ZS0+YmFzZS5kZXYpOw0KPiA+ID4gKwlzdHJ1Y3QgZHJtX2Nvbm5lY3Rvcl9saXN0
X2l0ZXIgY29ubmVjdG9yX2xpc3RfaXRlcjsNCj4gPiA+ICsJc3RydWN0IGludGVsX2Nvbm5lY3Rv
ciAqY29ubmVjdG9yX2l0ZXI7DQo+ID4gPiArDQo+ID4gPiArCWlmIChJTlRFTF9HRU4oZGV2X3By
aXYpIDwgMTIpDQo+ID4gPiArCQlyZXR1cm4gIDA7DQo+ID4gPiArDQo+ID4gPiArCWlmICghaW50
ZWxfZGlnaXRhbF9jb25uZWN0b3JfbmVlZHNfbW9kZXNldChzdGF0ZSwgY29ubmVjdG9yKSkNCj4g
PiA+ICsJCXJldHVybiAwOw0KPiA+ID4gKw0KPiA+ID4gKwlkcm1fY29ubmVjdG9yX2xpc3RfaXRl
cl9iZWdpbigmZGV2X3ByaXYtPmRybSwNCj4gPiA+ICZjb25uZWN0b3JfbGlzdF9pdGVyKTsNCj4g
PiA+ICsJZm9yX2VhY2hfaW50ZWxfY29ubmVjdG9yX2l0ZXIoY29ubmVjdG9yX2l0ZXIsDQo+ID4g
PiAmY29ubmVjdG9yX2xpc3RfaXRlcikgew0KPiA+ID4gKwkJc3RydWN0IGludGVsX2RpZ2l0YWxf
Y29ubmVjdG9yX3N0YXRlDQo+ID4gPiAqY29ubmVjdG9yX2l0ZXJfc3RhdGU7DQo+ID4gPiArCQlz
dHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqY3J0Y19zdGF0ZTsNCj4gPiA+ICsJCXN0cnVjdCBpbnRl
bF9jcnRjICpjcnRjOw0KPiA+ID4gKw0KPiA+ID4gKwkJaWYgKGNvbm5lY3Rvcl9pdGVyLT5tc3Rf
cG9ydCAhPSBjb25uZWN0b3ItPm1zdF9wb3J0KQ0KPiA+ID4gKwkJCWNvbnRpbnVlOw0KPiA+IA0K
PiA+IERvIHdlIG5lZWQgdG8gZXhjbHVkZSB0aGUgY29ubmVjdG9yIGl0c2VsZj8gSSBndWVzcyBu
b3QgcmVhbGx5Pw0KPiA+IA0KPiA+ID4gKw0KPiA+ID4gKwkJY29ubmVjdG9yX2l0ZXJfc3RhdGUg
PQ0KPiA+ID4gKwkJCWludGVsX2F0b21pY19nZXRfZGlnaXRhbF9jb25uZWN0b3Jfc3RhdGUoc3Rh
dGUsDQo+ID4gPiArCQkJCQkJCQkgY29ubmVjDQo+ID4gPiB0b3JfaXRlcik7DQo+ID4gPiArCQlp
ZiAoSVNfRVJSKGNvbm5lY3Rvcl9pdGVyX3N0YXRlKSkgew0KPiA+ID4gKwkJCWRybV9jb25uZWN0
b3JfbGlzdF9pdGVyX2VuZCgmY29ubmVjdG9yX2xpc3RfaXRlDQo+ID4gPiByKTsNCj4gPiA+ICsJ
CQlyZXR1cm4gUFRSX0VSUihjb25uZWN0b3JfaXRlcl9zdGF0ZSk7DQo+ID4gPiArCQl9DQo+ID4g
PiArDQo+ID4gPiArCQlpZiAoIWNvbm5lY3Rvcl9pdGVyX3N0YXRlLT5iYXNlLmNydGMpDQo+ID4g
PiArCQkJY29udGludWU7DQo+ID4gPiArDQo+ID4gPiArCQljcnRjID0gdG9faW50ZWxfY3J0Yyhj
b25uZWN0b3JfaXRlcl9zdGF0ZS0+YmFzZS5jcnRjKTsNCj4gPiA+ICsJCWNydGNfc3RhdGUgPSBp
bnRlbF9hdG9taWNfZ2V0X2NydGNfc3RhdGUoJnN0YXRlLT5iYXNlLA0KPiA+ID4gY3J0Yyk7DQo+
ID4gPiArCQlpZiAoSVNfRVJSKGNydGNfc3RhdGUpKSB7DQo+ID4gPiArCQkJZHJtX2Nvbm5lY3Rv
cl9saXN0X2l0ZXJfZW5kKCZjb25uZWN0b3JfbGlzdF9pdGUNCj4gPiA+IHIpOw0KPiA+ID4gKwkJ
CXJldHVybiBQVFJfRVJSKGNydGNfc3RhdGUpOw0KPiA+ID4gKwkJfQ0KPiA+ID4gKw0KPiA+ID4g
KwkJY3J0Y19zdGF0ZS0+dWFwaS5tb2RlX2NoYW5nZWQgPSB0cnVlOw0KPiA+ID4gKwl9DQo+ID4g
PiArCWRybV9jb25uZWN0b3JfbGlzdF9pdGVyX2VuZCgmY29ubmVjdG9yX2xpc3RfaXRlcik7DQo+
ID4gPiArDQo+ID4gPiAgCXJldHVybiAwOw0KPiA+ID4gIH0NCj4gPiA+ICANCj4gPiA+ICBzdGF0
aWMgaW50DQo+ID4gPiAgaW50ZWxfZHBfbXN0X2F0b21pY19jaGVjayhzdHJ1Y3QgZHJtX2Nvbm5l
Y3RvciAqY29ubmVjdG9yLA0KPiA+ID4gLQkJCSAgc3RydWN0IGRybV9hdG9taWNfc3RhdGUgKnN0
YXRlKQ0KPiA+ID4gKwkJCSAgc3RydWN0IGRybV9hdG9taWNfc3RhdGUgKl9zdGF0ZSkNCj4gPiA+
ICB7DQo+ID4gPiArCXN0cnVjdCBpbnRlbF9hdG9taWNfc3RhdGUgKnN0YXRlID0NCj4gPiA+IHRv
X2ludGVsX2F0b21pY19zdGF0ZShfc3RhdGUpOw0KPiA+ID4gIAlzdHJ1Y3QgZHJtX2Nvbm5lY3Rv
cl9zdGF0ZSAqbmV3X2Nvbm5fc3RhdGUgPQ0KPiA+ID4gLQkJZHJtX2F0b21pY19nZXRfbmV3X2Nv
bm5lY3Rvcl9zdGF0ZShzdGF0ZSwgY29ubmVjdG9yKTsNCj4gPiA+ICsJCWRybV9hdG9taWNfZ2V0
X25ld19jb25uZWN0b3Jfc3RhdGUoJnN0YXRlLT5iYXNlLA0KPiA+ID4gY29ubmVjdG9yKTsNCj4g
PiA+ICAJc3RydWN0IGRybV9jb25uZWN0b3Jfc3RhdGUgKm9sZF9jb25uX3N0YXRlID0NCj4gPiA+
IC0JCWRybV9hdG9taWNfZ2V0X29sZF9jb25uZWN0b3Jfc3RhdGUoc3RhdGUsIGNvbm5lY3Rvcik7
DQo+ID4gPiArCQlkcm1fYXRvbWljX2dldF9vbGRfY29ubmVjdG9yX3N0YXRlKCZzdGF0ZS0+YmFz
ZSwNCj4gPiA+IGNvbm5lY3Rvcik7DQo+ID4gPiAgCXN0cnVjdCBpbnRlbF9jb25uZWN0b3IgKmlu
dGVsX2Nvbm5lY3RvciA9DQo+ID4gPiAgCQl0b19pbnRlbF9jb25uZWN0b3IoY29ubmVjdG9yKTsN
Cj4gPiA+ICAJc3RydWN0IGRybV9jcnRjICpuZXdfY3J0YyA9IG5ld19jb25uX3N0YXRlLT5jcnRj
Ow0KPiA+ID4gIAlzdHJ1Y3QgZHJtX2RwX21zdF90b3BvbG9neV9tZ3IgKm1ncjsNCj4gPiA+ICAJ
aW50IHJldDsNCj4gPiA+ICANCj4gPiA+IC0JcmV0ID0gaW50ZWxfZGlnaXRhbF9jb25uZWN0b3Jf
YXRvbWljX2NoZWNrKGNvbm5lY3Rvciwgc3RhdGUpOw0KPiA+ID4gKwlyZXQgPSBpbnRlbF9kaWdp
dGFsX2Nvbm5lY3Rvcl9hdG9taWNfY2hlY2soY29ubmVjdG9yLCAmc3RhdGUtDQo+ID4gPiA+YmFz
ZSk7DQo+ID4gPiArCWlmIChyZXQpDQo+ID4gPiArCQlyZXR1cm4gcmV0Ow0KPiA+ID4gKw0KPiA+
ID4gKwlyZXQgPSBpbnRlbF9kcF9tc3RfYXRvbWljX21hc3Rlcl90cmFuc19jaGVjayhpbnRlbF9j
b25uZWN0b3IsDQo+ID4gPiBzdGF0ZSk7DQo+ID4gPiAgCWlmIChyZXQpDQo+ID4gPiAgCQlyZXR1
cm4gcmV0Ow0KPiA+ID4gIA0KPiA+ID4gQEAgLTE4MiwxMiArMjg5LDkgQEAgaW50ZWxfZHBfbXN0
X2F0b21pY19jaGVjayhzdHJ1Y3QNCj4gPiA+IGRybV9jb25uZWN0b3IgKmNvbm5lY3RvciwNCj4g
PiA+ICAJICogY29ubmVjdG9yDQo+ID4gPiAgCSAqLw0KPiA+ID4gIAlpZiAobmV3X2NydGMpIHsN
Cj4gPiA+IC0JCXN0cnVjdCBpbnRlbF9hdG9taWNfc3RhdGUgKmludGVsX3N0YXRlID0NCj4gPiA+
IC0JCQl0b19pbnRlbF9hdG9taWNfc3RhdGUoc3RhdGUpOw0KPiA+ID4gIAkJc3RydWN0IGludGVs
X2NydGMgKmludGVsX2NydGMgPQ0KPiA+ID4gdG9faW50ZWxfY3J0YyhuZXdfY3J0Yyk7DQo+ID4g
PiAgCQlzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqY3J0Y19zdGF0ZSA9DQo+ID4gPiAtCQkJaW50
ZWxfYXRvbWljX2dldF9uZXdfY3J0Y19zdGF0ZShpbnRlbF9zdGF0ZSwNCj4gPiA+IC0JCQkJCQkJ
aW50ZWxfY3J0Yyk7DQo+ID4gPiArCQkJaW50ZWxfYXRvbWljX2dldF9uZXdfY3J0Y19zdGF0ZShz
dGF0ZSwNCj4gPiA+IGludGVsX2NydGMpOw0KPiA+ID4gIA0KPiA+ID4gIAkJaWYgKCFjcnRjX3N0
YXRlIHx8DQo+ID4gPiAgCQkgICAgIWRybV9hdG9taWNfY3J0Y19uZWVkc19tb2Rlc2V0KCZjcnRj
X3N0YXRlLT51YXBpKQ0KPiA+ID4gfHwNCj4gPiA+IEBAIC0xOTYsNyArMzAwLDcgQEAgaW50ZWxf
ZHBfbXN0X2F0b21pY19jaGVjayhzdHJ1Y3QNCj4gPiA+IGRybV9jb25uZWN0b3IgKmNvbm5lY3Rv
ciwNCj4gPiA+ICAJfQ0KPiA+ID4gIA0KPiA+ID4gIAltZ3IgPSAmZW5jX3RvX21zdChvbGRfY29u
bl9zdGF0ZS0+YmVzdF9lbmNvZGVyKS0+cHJpbWFyeS0NCj4gPiA+ID5kcC5tc3RfbWdyOw0KPiA+
ID4gLQlyZXQgPSBkcm1fZHBfYXRvbWljX3JlbGVhc2VfdmNwaV9zbG90cyhzdGF0ZSwgbWdyLA0K
PiA+ID4gKwlyZXQgPSBkcm1fZHBfYXRvbWljX3JlbGVhc2VfdmNwaV9zbG90cygmc3RhdGUtPmJh
c2UsIG1nciwNCj4gPiA+ICAJCQkJCSAgICAgICBpbnRlbF9jb25uZWN0b3ItPnBvcnQpOw0KPiA+
ID4gIA0KPiA+ID4gIAlyZXR1cm4gcmV0Ow0KPiA+ID4gQEAgLTI0MSw2ICszNDUsOSBAQCBzdGF0
aWMgdm9pZCBpbnRlbF9tc3RfcG9zdF9kaXNhYmxlX2RwKHN0cnVjdA0KPiA+ID4gaW50ZWxfZW5j
b2RlciAqZW5jb2RlciwNCj4gPiA+ICAJaW50ZWxfZHAtPmFjdGl2ZV9tc3RfbGlua3MtLTsNCj4g
PiA+ICAJbGFzdF9tc3Rfc3RyZWFtID0gaW50ZWxfZHAtPmFjdGl2ZV9tc3RfbGlua3MgPT0gMDsN
Cj4gPiA+ICANCj4gPiA+ICsJV0FSTl9PTihJTlRFTF9HRU4oZGV2X3ByaXYpID49IDEyICYmIGxh
c3RfbXN0X3N0cmVhbSAmJg0KPiA+ID4gKwkJIWludGVsX2RwX21zdF9pc19tYXN0ZXJfdHJhbnMo
b2xkX2NydGNfc3RhdGUpKTsNCj4gPiA+ICsNCj4gPiA+ICAJLyoNCj4gPiA+ICAJICogRnJvbSBU
R0wgc3BlYzogIklmIG11bHRpLXN0cmVhbSBzbGF2ZSB0cmFuc2NvZGVyOiBDb25maWd1cmUNCj4g
PiA+ICAJICogVHJhbnNjb2RlciBDbG9jayBTZWxlY3QgdG8gZGlyZWN0IG5vIGNsb2NrIHRvIHRo
ZQ0KPiA+ID4gdHJhbnNjb2RlciINCj4gPiA+IEBAIC0zMjEsNiArNDI4LDkgQEAgc3RhdGljIHZv
aWQgaW50ZWxfbXN0X3ByZV9lbmFibGVfZHAoc3RydWN0DQo+ID4gPiBpbnRlbF9lbmNvZGVyICpl
bmNvZGVyLA0KPiA+ID4gIAlpbnRlbF9tc3QtPmNvbm5lY3RvciA9IGNvbm5lY3RvcjsNCj4gPiA+
ICAJZmlyc3RfbXN0X3N0cmVhbSA9IGludGVsX2RwLT5hY3RpdmVfbXN0X2xpbmtzID09IDA7DQo+
ID4gPiAgDQo+ID4gPiArCVdBUk5fT04oSU5URUxfR0VOKGRldl9wcml2KSA+PSAxMiAmJiBmaXJz
dF9tc3Rfc3RyZWFtICYmDQo+ID4gPiArCQkhaW50ZWxfZHBfbXN0X2lzX21hc3Rlcl90cmFucyhw
aXBlX2NvbmZpZykpOw0KPiA+ID4gKw0KPiA+ID4gIAlEUk1fREVCVUdfS01TKCJhY3RpdmUgbGlu
a3MgJWRcbiIsIGludGVsX2RwLT5hY3RpdmVfbXN0X2xpbmtzKTsNCj4gPiA+ICANCj4gPiA+ICAJ
aWYgKGZpcnN0X21zdF9zdHJlYW0pDQo+ID4gPiBAQCAtNzI2LDMgKzgzNiwxNCBAQCBpbnRlbF9k
cF9tc3RfZW5jb2Rlcl9jbGVhbnVwKHN0cnVjdA0KPiA+ID4gaW50ZWxfZGlnaXRhbF9wb3J0ICpp
bnRlbF9kaWdfcG9ydCkNCj4gPiA+ICAJZHJtX2RwX21zdF90b3BvbG9neV9tZ3JfZGVzdHJveSgm
aW50ZWxfZHAtPm1zdF9tZ3IpOw0KPiA+ID4gIAkvKiBlbmNvZGVycyB3aWxsIGdldCBraWxsZWQg
Ynkgbm9ybWFsIGNsZWFudXAgKi8NCj4gPiA+ICB9DQo+ID4gPiArDQo+ID4gPiArYm9vbCBpbnRl
bF9kcF9tc3RfaXNfbWFzdGVyX3RyYW5zKGNvbnN0IHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlDQo+
ID4gPiAqY3J0Y19zdGF0ZSkNCj4gPiA+ICt7DQo+ID4gPiArCXJldHVybiBjcnRjX3N0YXRlLT5t
c3RfbWFzdGVyX3RyYW5zY29kZXIgPT0gY3J0Y19zdGF0ZS0NCj4gPiA+ID5jcHVfdHJhbnNjb2Rl
cjsNCj4gPiA+ICt9DQo+ID4gPiArDQo+ID4gPiArYm9vbCBpbnRlbF9kcF9tc3RfaXNfc2xhdmVf
dHJhbnMoY29uc3Qgc3RydWN0IGludGVsX2NydGNfc3RhdGUNCj4gPiA+ICpjcnRjX3N0YXRlKQ0K
PiA+ID4gK3sNCj4gPiA+ICsJcmV0dXJuIGNydGNfc3RhdGUtPm1zdF9tYXN0ZXJfdHJhbnNjb2Rl
ciAhPSBJTlZBTElEX1RSQU5TQ09ERVINCj4gPiA+ICYmDQo+ID4gPiArCSAgICAgICBjcnRjX3N0
YXRlLT5tc3RfbWFzdGVyX3RyYW5zY29kZXIgIT0gY3J0Y19zdGF0ZS0NCj4gPiA+ID5jcHVfdHJh
bnNjb2RlcjsNCj4gPiA+ICt9DQo+ID4gPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5
MTUvZGlzcGxheS9pbnRlbF9kcF9tc3QuaA0KPiA+ID4gYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9k
aXNwbGF5L2ludGVsX2RwX21zdC5oDQo+ID4gPiBpbmRleCBmNjYwYWQ4MGRiMDQuLmU0MDc2N2Y3
ODM0MyAxMDA2NDQNCj4gPiA+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50
ZWxfZHBfbXN0LmgNCj4gPiA+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50
ZWxfZHBfbXN0LmgNCj4gPiA+IEBAIC02LDEwICs2LDE1IEBADQo+ID4gPiAgI2lmbmRlZiBfX0lO
VEVMX0RQX01TVF9IX18NCj4gPiA+ICAjZGVmaW5lIF9fSU5URUxfRFBfTVNUX0hfXw0KPiA+ID4g
IA0KPiA+ID4gKyNpbmNsdWRlIDxzdGRib29sLmg+DQo+ID4gDQo+ID4gVGhhdCBkb2Vzbid0IHNl
ZW0gbGlrZSBzb21ldGhpbmcgeW91IHdhbnQgdG8gaW5jbHVkZSBpbiBrZXJuZWwNCj4gPiBjb2Rl
Lg0KPiA+IA0KPiA+ID4gKw0KPiA+ID4gIHN0cnVjdCBpbnRlbF9kaWdpdGFsX3BvcnQ7DQo+ID4g
PiArc3RydWN0IGludGVsX2NydGNfc3RhdGU7DQo+ID4gPiAgDQo+ID4gPiAgaW50IGludGVsX2Rw
X21zdF9lbmNvZGVyX2luaXQoc3RydWN0IGludGVsX2RpZ2l0YWxfcG9ydA0KPiA+ID4gKmludGVs
X2RpZ19wb3J0LCBpbnQgY29ubl9pZCk7DQo+ID4gPiAgdm9pZCBpbnRlbF9kcF9tc3RfZW5jb2Rl
cl9jbGVhbnVwKHN0cnVjdCBpbnRlbF9kaWdpdGFsX3BvcnQNCj4gPiA+ICppbnRlbF9kaWdfcG9y
dCk7DQo+ID4gPiAgaW50IGludGVsX2RwX21zdF9lbmNvZGVyX2FjdGl2ZV9saW5rcyhzdHJ1Y3Qg
aW50ZWxfZGlnaXRhbF9wb3J0DQo+ID4gPiAqaW50ZWxfZGlnX3BvcnQpOw0KPiA+ID4gK2Jvb2wg
aW50ZWxfZHBfbXN0X2lzX21hc3Rlcl90cmFucyhjb25zdCBzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0
ZQ0KPiA+ID4gKmNydGNfc3RhdGUpOw0KPiA+ID4gK2Jvb2wgaW50ZWxfZHBfbXN0X2lzX3NsYXZl
X3RyYW5zKGNvbnN0IHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlDQo+ID4gPiAqY3J0Y19zdGF0ZSk7
DQo+ID4gPiAgDQo+ID4gPiAgI2VuZGlmIC8qIF9fSU5URUxfRFBfTVNUX0hfXyAqLw0KPiA+ID4g
LS0gDQo+ID4gPiAyLjI0LjENCj4gPiANCj4gPiAtLSANCj4gPiBWaWxsZSBTeXJqw6Rsw6QNCj4g
PiBJbnRlbA0KX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18K
SW50ZWwtZ2Z4IG1haWxpbmcgbGlzdApJbnRlbC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0
dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vaW50ZWwtZ2Z4Cg==

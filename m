Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 319711A8B63
	for <lists+intel-gfx@lfdr.de>; Tue, 14 Apr 2020 21:48:19 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id CC9F56E17A;
	Tue, 14 Apr 2020 19:48:14 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga09.intel.com (mga09.intel.com [134.134.136.24])
 by gabe.freedesktop.org (Postfix) with ESMTPS id C055D6E14B
 for <intel-gfx@lists.freedesktop.org>; Tue, 14 Apr 2020 19:48:13 +0000 (UTC)
IronPort-SDR: OpGKpKae6jv8id34gryTwIJEoJzhjIezJSZwP7aGX8vmNNx6mwGFgx7Wi9U5sXe9m3MWpk5Vm8
 APsQbgR8AXzw==
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga007.jf.intel.com ([10.7.209.58])
 by orsmga102.jf.intel.com with ESMTP/TLS/ECDHE-RSA-AES256-GCM-SHA384;
 14 Apr 2020 12:48:13 -0700
IronPort-SDR: FOsB9yaL0kV1x447HhvAAOMCt7LKk/hy6Vv+tRqreBzRRvpuQoNor3y4TDYjbxL2n3ndpM4QE3
 w5RxpkLbxbKw==
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.72,384,1580803200"; d="scan'208";a="242090925"
Received: from unknown (HELO josouza-MOBL2.amr.corp.intel.com) ([10.209.55.81])
 by orsmga007.jf.intel.com with ESMTP; 14 Apr 2020 12:48:12 -0700
From: =?UTF-8?q?Jos=C3=A9=20Roberto=20de=20Souza?= <jose.souza@intel.com>
To: intel-gfx@lists.freedesktop.org
Date: Tue, 14 Apr 2020 12:49:51 -0700
Message-Id: <20200414194956.164323-3-jose.souza@intel.com>
X-Mailer: git-send-email 2.26.0
In-Reply-To: <20200414194956.164323-1-jose.souza@intel.com>
References: <20200414194956.164323-1-jose.souza@intel.com>
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH v5 3/8] drm/i915/display: Split
 hsw_power_well_enable() into two
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

VGhpcyBpcyBhIHByZXBhcmF0aW9uIGZvciBJQ0wgVEMgY29sZCBleGl0IHNlcXVlbmNlcy4KCnYy
OgotIHJlbmFtZWQgbmV3IGZ1bmN0aW9ucyB0byBoc3dfcG93ZXJfd2VsbF9lbmFibGVfcHJlcGFy
ZSgpL2NvbXBsZXRlKCkKClNpZ25lZC1vZmYtYnk6IEpvc8OpIFJvYmVydG8gZGUgU291emEgPGpv
c2Uuc291emFAaW50ZWwuY29tPgpSZXZpZXdlZC1ieTogSW1yZSBEZWFrIDxpbXJlLmRlYWtAaW50
ZWwuY29tPgpUZXN0ZWQtYnk6IFlvdS1TaGVuZyBZYW5nIDx2aWNhbW8ueWFuZ0BjYW5vbmljYWwu
Y29tPgotLS0KIC4uLi9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXlfcG93ZXIuYyAgICB8
IDM5ICsrKysrKysrKysrKysrKy0tLS0KIDEgZmlsZSBjaGFuZ2VkLCAzMiBpbnNlcnRpb25zKCsp
LCA3IGRlbGV0aW9ucygtKQoKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3Bs
YXkvaW50ZWxfZGlzcGxheV9wb3dlci5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9p
bnRlbF9kaXNwbGF5X3Bvd2VyLmMKaW5kZXggODE0ZTIyMzgzNmRiLi41YmVmN2RkYTRhN2EgMTAw
NjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheV9wb3dl
ci5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheV9wb3dl
ci5jCkBAIC0zODAsMTYgKzM4MCwxNiBAQCBzdGF0aWMgdm9pZCBnZW45X3dhaXRfZm9yX3Bvd2Vy
X3dlbGxfZnVzZXMoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2LAogCQkJCQkgIFNL
TF9GVVNFX1BHX0RJU1RfU1RBVFVTKHBnKSwgMSkpOwogfQogCi1zdGF0aWMgdm9pZCBoc3dfcG93
ZXJfd2VsbF9lbmFibGUoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2LAotCQkJCSAg
c3RydWN0IGk5MTVfcG93ZXJfd2VsbCAqcG93ZXJfd2VsbCkKK3N0YXRpYyB2b2lkIGhzd19wb3dl
cl93ZWxsX2VuYWJsZV9wcmVwYXJlKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiwK
KwkJCQkJICBzdHJ1Y3QgaTkxNV9wb3dlcl93ZWxsICpwb3dlcl93ZWxsKQogewogCWNvbnN0IHN0
cnVjdCBpOTE1X3Bvd2VyX3dlbGxfcmVncyAqcmVncyA9IHBvd2VyX3dlbGwtPmRlc2MtPmhzdy5y
ZWdzOwogCWludCBwd19pZHggPSBwb3dlcl93ZWxsLT5kZXNjLT5oc3cuaWR4OwotCWJvb2wgd2Fp
dF9mdXNlcyA9IHBvd2VyX3dlbGwtPmRlc2MtPmhzdy5oYXNfZnVzZXM7Ci0JZW51bSBza2xfcG93
ZXJfZ2F0ZSB1bmluaXRpYWxpemVkX3ZhcihwZyk7CiAJdTMyIHZhbDsKIAotCWlmICh3YWl0X2Z1
c2VzKSB7CisJaWYgKHBvd2VyX3dlbGwtPmRlc2MtPmhzdy5oYXNfZnVzZXMpIHsKKwkJZW51bSBz
a2xfcG93ZXJfZ2F0ZSBwZzsKKwogCQlwZyA9IElOVEVMX0dFTihkZXZfcHJpdikgPj0gMTEgPyBJ
Q0xfUFdfQ1RMX0lEWF9UT19QRyhwd19pZHgpIDoKIAkJCQkJCSBTS0xfUFdfQ1RMX0lEWF9UT19Q
Ryhwd19pZHgpOwogCQkvKgpAQCAtNDA2LDI1ICs0MDYsNDYgQEAgc3RhdGljIHZvaWQgaHN3X3Bv
d2VyX3dlbGxfZW5hYmxlKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiwKIAl2YWwg
PSBpbnRlbF9kZV9yZWFkKGRldl9wcml2LCByZWdzLT5kcml2ZXIpOwogCWludGVsX2RlX3dyaXRl
KGRldl9wcml2LCByZWdzLT5kcml2ZXIsCiAJCSAgICAgICB2YWwgfCBIU1dfUFdSX1dFTExfQ1RM
X1JFUShwd19pZHgpKTsKK30KKworc3RhdGljIHZvaWQgaHN3X3Bvd2VyX3dlbGxfZW5hYmxlX2Nv
bXBsZXRlKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiwKKwkJCQkJICAgc3RydWN0
IGk5MTVfcG93ZXJfd2VsbCAqcG93ZXJfd2VsbCkKK3sKKwlpbnQgcHdfaWR4ID0gcG93ZXJfd2Vs
bC0+ZGVzYy0+aHN3LmlkeDsKKwogCWhzd193YWl0X2Zvcl9wb3dlcl93ZWxsX2VuYWJsZShkZXZf
cHJpdiwgcG93ZXJfd2VsbCk7CiAKIAkvKiBEaXNwbGF5IFdBICMxMTc4OiBjbmwgKi8KIAlpZiAo
SVNfQ0FOTk9OTEFLRShkZXZfcHJpdikgJiYKIAkgICAgcHdfaWR4ID49IEdMS19QV19DVExfSURY
X0FVWF9CICYmCiAJICAgIHB3X2lkeCA8PSBDTkxfUFdfQ1RMX0lEWF9BVVhfRikgeworCQl1MzIg
dmFsOworCiAJCXZhbCA9IGludGVsX2RlX3JlYWQoZGV2X3ByaXYsIENOTF9BVVhfQU5BT1ZSRDEo
cHdfaWR4KSk7CiAJCXZhbCB8PSBDTkxfQVVYX0FOQU9WUkQxX0VOQUJMRSB8IENOTF9BVVhfQU5B
T1ZSRDFfTERPX0JZUEFTUzsKIAkJaW50ZWxfZGVfd3JpdGUoZGV2X3ByaXYsIENOTF9BVVhfQU5B
T1ZSRDEocHdfaWR4KSwgdmFsKTsKIAl9CiAKLQlpZiAod2FpdF9mdXNlcykKKwlpZiAocG93ZXJf
d2VsbC0+ZGVzYy0+aHN3Lmhhc19mdXNlcykgeworCQllbnVtIHNrbF9wb3dlcl9nYXRlIHBnOwor
CisJCXBnID0gSU5URUxfR0VOKGRldl9wcml2KSA+PSAxMSA/IElDTF9QV19DVExfSURYX1RPX1BH
KHB3X2lkeCkgOgorCQkJCQkJIFNLTF9QV19DVExfSURYX1RPX1BHKHB3X2lkeCk7CiAJCWdlbjlf
d2FpdF9mb3JfcG93ZXJfd2VsbF9mdXNlcyhkZXZfcHJpdiwgcGcpOworCX0KIAogCWhzd19wb3dl
cl93ZWxsX3Bvc3RfZW5hYmxlKGRldl9wcml2LAogCQkJCSAgIHBvd2VyX3dlbGwtPmRlc2MtPmhz
dy5pcnFfcGlwZV9tYXNrLAogCQkJCSAgIHBvd2VyX3dlbGwtPmRlc2MtPmhzdy5oYXNfdmdhKTsK
IH0KIAorc3RhdGljIHZvaWQgaHN3X3Bvd2VyX3dlbGxfZW5hYmxlKHN0cnVjdCBkcm1faTkxNV9w
cml2YXRlICpkZXZfcHJpdiwKKwkJCQkgIHN0cnVjdCBpOTE1X3Bvd2VyX3dlbGwgKnBvd2VyX3dl
bGwpCit7CisJaHN3X3Bvd2VyX3dlbGxfZW5hYmxlX3ByZXBhcmUoZGV2X3ByaXYsIHBvd2VyX3dl
bGwpOworCWhzd19wb3dlcl93ZWxsX2VuYWJsZV9jb21wbGV0ZShkZXZfcHJpdiwgcG93ZXJfd2Vs
bCk7Cit9CisKIHN0YXRpYyB2b2lkIGhzd19wb3dlcl93ZWxsX2Rpc2FibGUoc3RydWN0IGRybV9p
OTE1X3ByaXZhdGUgKmRldl9wcml2LAogCQkJCSAgIHN0cnVjdCBpOTE1X3Bvd2VyX3dlbGwgKnBv
d2VyX3dlbGwpCiB7CkBAIC01NzAsNyArNTkxLDExIEBAIGljbF90Y19waHlfYXV4X3Bvd2VyX3dl
bGxfZW5hYmxlKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiwKIAkJdmFsIHw9IERQ
X0FVWF9DSF9DVExfVEJUX0lPOwogCWludGVsX2RlX3dyaXRlKGRldl9wcml2LCBEUF9BVVhfQ0hf
Q1RMKGF1eF9jaCksIHZhbCk7CiAKLQloc3dfcG93ZXJfd2VsbF9lbmFibGUoZGV2X3ByaXYsIHBv
d2VyX3dlbGwpOworCWhzd19wb3dlcl93ZWxsX2VuYWJsZV9wcmVwYXJlKGRldl9wcml2LCBwb3dl
cl93ZWxsKTsKKworCS8qIFRPRE8gSUNMIFRDIGNvbGQgaGFuZGxpbmcgKi8KKworCWhzd19wb3dl
cl93ZWxsX2VuYWJsZV9jb21wbGV0ZShkZXZfcHJpdiwgcG93ZXJfd2VsbCk7CiAKIAlpZiAoSU5U
RUxfR0VOKGRldl9wcml2KSA+PSAxMiAmJiAhcG93ZXJfd2VsbC0+ZGVzYy0+aHN3LmlzX3RjX3Ri
dCkgewogCQllbnVtIHRjX3BvcnQgdGNfcG9ydDsKLS0gCjIuMjYuMAoKX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KSW50ZWwtZ2Z4IG1haWxpbmcgbGlzdApJ
bnRlbC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Au
b3JnL21haWxtYW4vbGlzdGluZm8vaW50ZWwtZ2Z4Cg==

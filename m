Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id D4000B5547
	for <lists+intel-gfx@lfdr.de>; Tue, 17 Sep 2019 20:29:20 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id B315E6ED29;
	Tue, 17 Sep 2019 18:29:18 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga07.intel.com (mga07.intel.com [134.134.136.100])
 by gabe.freedesktop.org (Postfix) with ESMTPS id C73866ED29
 for <intel-gfx@lists.freedesktop.org>; Tue, 17 Sep 2019 18:29:16 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from fmsmga001.fm.intel.com ([10.253.24.23])
 by orsmga105.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 17 Sep 2019 11:29:16 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.64,517,1559545200"; d="scan'208";a="201883637"
Received: from dceraolo-mobl.amr.corp.intel.com (HELO [10.254.107.190])
 ([10.254.107.190])
 by fmsmga001.fm.intel.com with ESMTP; 17 Sep 2019 11:29:15 -0700
To: Tvrtko Ursulin <tvrtko.ursulin@linux.intel.com>,
 intel-gfx@lists.freedesktop.org
References: <20190916214104.27881-1-daniele.ceraolospurio@intel.com>
 <15b95e21-8bf6-0c8c-08f1-0a082936d0de@linux.intel.com>
From: Daniele Ceraolo Spurio <daniele.ceraolospurio@intel.com>
Message-ID: <5c0958f8-be9e-bfb9-fc41-223423a25d5e@intel.com>
Date: Tue, 17 Sep 2019 11:29:15 -0700
User-Agent: Mozilla/5.0 (Windows NT 10.0; WOW64; rv:60.0) Gecko/20100101
 Thunderbird/60.9.0
MIME-Version: 1.0
In-Reply-To: <15b95e21-8bf6-0c8c-08f1-0a082936d0de@linux.intel.com>
Content-Language: en-US
Subject: Re: [Intel-gfx] [PATCH] drm/i915: fix SFC reset flow
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: Owen Zhang <owen.zhang@intel.com>
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

CgpPbiA5LzE3LzIwMTkgMzoyMiBBTSwgVHZydGtvIFVyc3VsaW4gd3JvdGU6Cj4KPiBPbiAxNi8w
OS8yMDE5IDIyOjQxLCBEYW5pZWxlIENlcmFvbG8gU3B1cmlvIHdyb3RlOgo+PiBPdXIgYXNzdW1w
dGlvbiB0aGF0IHRoZSB3ZSBjYW4gYXNrIHRoZSBIVyB0byBsb2NrIHRoZSBTRkMgZXZlbiBpZiBu
b3QKPj4gY3VycmVudGx5IGluIHVzZSBkb2VzIG5vdCBtYXRjaCB0aGUgSFcgY29tbWl0bWVudC4g
VGhlIGV4cGVjdGF0aW9uIGZyb20KPj4gdGhlIEhXIGlzIHRoYXQgU1cgd2lsbCBub3QgdHJ5IHRv
IGxvY2sgdGhlIFNGQyBpZiB0aGUgZW5naW5lIGlzIG5vdAo+PiB1c2luZyBpdCBhbmQgaWYgd2Ug
ZG8gdGhhdCB0aGUgYmVoYXZpb3IgaXMgdW5kZWZpbmVkOyBvbiBJQ0wgdGhlIEhXCj4+IGVuZHMg
dXAgdG8gcmV0dXJuaW5nIHRoZSBhY2sgYW5kIGlnbm9yaW5nIG91ciBsb2NrIHJlcXVlc3QsIGJ1
dCB0aGlzIGlzCj4+IG5vdCBndWFyYW50ZWVkIGFuZCB3ZSBzaG91bGRuJ3QgZXhwZWN0IGl0IGdv
aW5nIGZvcndhcmQuCj4+Cj4+IFJlcG9ydGVkLWJ5OiBPd2VuIFpoYW5nIDxvd2VuLnpoYW5nQGlu
dGVsLmNvbT4KPj4gU2lnbmVkLW9mZi1ieTogRGFuaWVsZSBDZXJhb2xvIFNwdXJpbyA8ZGFuaWVs
ZS5jZXJhb2xvc3B1cmlvQGludGVsLmNvbT4KPj4gQ2M6IFR2cnRrbyBVcnN1bGluIDx0dnJ0a28u
dXJzdWxpbkBsaW51eC5pbnRlbC5jb20+Cj4+IC0tLQo+PiDCoCBkcml2ZXJzL2dwdS9kcm0vaTkx
NS9ndC9pbnRlbF9yZXNldC5jIHwgMjUgKysrKysrKysrKysrKysrKystLS0tLS0tLQo+PiDCoCAx
IGZpbGUgY2hhbmdlZCwgMTcgaW5zZXJ0aW9ucygrKSwgOCBkZWxldGlvbnMoLSkKPj4KPj4gZGlm
ZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX3Jlc2V0LmMgCj4+IGIvZHJp
dmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfcmVzZXQuYwo+PiBpbmRleCA4MzI3MjIwYWM1NTgu
LjkwMDk1ODgwNGJkNSAxMDA2NDQKPj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50
ZWxfcmVzZXQuYwo+PiArKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9yZXNldC5j
Cj4+IEBAIC0zNTIsMTMgKzM1MiwxNSBAQCBzdGF0aWMgdTMyIGdlbjExX2xvY2tfc2ZjKHN0cnVj
dCAKPj4gaW50ZWxfZW5naW5lX2NzICplbmdpbmUpCj4+IMKgwqDCoMKgwqAgfQo+PiDCoCDCoMKg
wqDCoMKgIC8qCj4+IC3CoMKgwqDCoCAqIFRlbGwgdGhlIGVuZ2luZSB0aGF0IGEgc29mdHdhcmUg
cmVzZXQgaXMgZ29pbmcgdG8gaGFwcGVuLiBUaGUgCj4+IGVuZ2luZQo+PiAtwqDCoMKgwqAgKiB3
aWxsIHRoZW4gdHJ5IHRvIGZvcmNlIGxvY2sgdGhlIFNGQyAoaWYgY3VycmVudGx5IGxvY2tlZCwg
aXQgCj4+IHdpbGwKPj4gLcKgwqDCoMKgICogcmVtYWluIHNvIHVudGlsIHdlIHRlbGwgdGhlIGVu
Z2luZSBpdCBpcyBzYWZlIHRvIHVubG9jazsgaWYgCj4+IGN1cnJlbnRseQo+PiAtwqDCoMKgwqAg
KiB1bmxvY2tlZCwgaXQgd2lsbCBpZ25vcmUgdGhpcyBhbmQgYWxsIG5ldyBsb2NrIHJlcXVlc3Rz
KS4gSWYgU0ZDCj4+IC3CoMKgwqDCoCAqIGVuZHMgdXAgYmVpbmcgbG9ja2VkIHRvIHRoZSBlbmdp
bmUgd2Ugd2FudCB0byByZXNldCwgd2UgaGF2ZSAKPj4gdG8gcmVzZXQKPj4gLcKgwqDCoMKgICog
aXQgYXMgd2VsbCAod2Ugd2lsbCB1bmxvY2sgaXQgb25jZSB0aGUgcmVzZXQgc2VxdWVuY2UgaXMg
Cj4+IGNvbXBsZXRlZCkuCj4+ICvCoMKgwqDCoCAqIElmIHRoZSBlbmdpbmUgaXMgdXNpbmcgYSBT
RkMsIHRlbGwgdGhlIGVuZ2luZSB0aGF0IGEgc29mdHdhcmUgCj4+IHJlc2V0Cj4+ICvCoMKgwqDC
oCAqIGlzIGdvaW5nIHRvIGhhcHBlbi4gVGhlIGVuZ2luZSB3aWxsIHRoZW4gdHJ5IHRvIGZvcmNl
IGxvY2sgCj4+IHRoZSBTRkMuCj4+ICvCoMKgwqDCoCAqIElmIFNGQyBlbmRzIHVwIGJlaW5nIGxv
Y2tlZCB0byB0aGUgZW5naW5lIHdlIHdhbnQgdG8gcmVzZXQsIAo+PiB3ZSBoYXZlCj4+ICvCoMKg
wqDCoCAqIHRvIHJlc2V0IGl0IGFzIHdlbGwgKHdlIHdpbGwgdW5sb2NrIGl0IG9uY2UgdGhlIHJl
c2V0IAo+PiBzZXF1ZW5jZSBpcwo+PiArwqDCoMKgwqAgKiBjb21wbGV0ZWQpLgo+PiDCoMKgwqDC
oMKgwqAgKi8KPj4gK8KgwqDCoCBpZiAoIShpbnRlbF91bmNvcmVfcmVhZF9mdyh1bmNvcmUsIHNm
Y191c2FnZSkgJiBzZmNfdXNhZ2VfYml0KSkKPj4gK8KgwqDCoMKgwqDCoMKgIHJldHVybiAwOwo+
PiArCj4+IMKgwqDCoMKgwqAgcm13X3NldF9mdyh1bmNvcmUsIHNmY19mb3JjZWRfbG9jaywgc2Zj
X2ZvcmNlZF9sb2NrX2JpdCk7Cj4+IMKgIMKgwqDCoMKgwqAgaWYgKF9faW50ZWxfd2FpdF9mb3Jf
cmVnaXN0ZXJfZncodW5jb3JlLAo+PiBAQCAtMzY2LDEwICszNjgsMTMgQEAgc3RhdGljIHUzMiBn
ZW4xMV9sb2NrX3NmYyhzdHJ1Y3QgCj4+IGludGVsX2VuZ2luZV9jcyAqZW5naW5lKQo+PiDCoMKg
wqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoCBzZmNfZm9yY2VkX2xvY2tf
YWNrX2JpdCwKPj4gwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqAg
c2ZjX2ZvcmNlZF9sb2NrX2Fja19iaXQsCj4+IMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDC
oMKgwqDCoMKgwqDCoMKgIDEwMDAsIDAsIE5VTEwpKSB7Cj4+IC3CoMKgwqDCoMKgwqDCoCBEUk1f
REVCVUdfRFJJVkVSKCJXYWl0IGZvciBTRkMgZm9yY2VkIGxvY2sgYWNrIGZhaWxlZFxuIik7Cj4+
ICvCoMKgwqDCoMKgwqDCoCAvKiBkaWQgd2UgcmFjZSB0aGUgdW5sb2NrPyAqLwo+Cj4gSG93IGRv
IHdlIHJhY2UgaGVyZT8gQXJlIHdlIG5vdCBpbiBjb21wbGV0ZSBjb250cm9sIG9mIHRoZSBlbmdp
bmUgYXQgCj4gdGhpcyBwb2ludCBzbyB0aGUgc3RhdHVzIG9mIHRoaXMgZW5naW5lIHVzaW5nIFNG
QyBvciBub3Qgc2hvdWxkIGJlIAo+IHN0YXRpYywgbm8/CgpUaGUgaGFuZyBkZXRlY3Rpb24gbWln
aHQgYmUgZHVlIHRvIGEgbG9uZyBub24tcHJlZW1wdGFibGUgYmF0Y2gsIGluIAp3aGljaCBjYXNl
IHRoZXJlIGlzIGluIHRoZW9yeSBhIGNoYW5jZSBmb3IgdGhlIGJhdGNoIHRvIHJlbGVhc2UgdGhl
IFNGQyAKd2hpbGUgd2UgdHJ5IHRvIGxvY2sgaXQuIFRoZSBjaGFuY2UgaXMgaW5jcmVkaWJseSBz
bWFsbCB0aG91Z2gsIHNvIGFtIEkgCmJlaW5nIHRvbyBwYXJhbm9pZD8KCj4KPj4gK8KgwqDCoMKg
wqDCoMKgIGlmIChpbnRlbF91bmNvcmVfcmVhZF9mdyh1bmNvcmUsIHNmY191c2FnZSkgJiBzZmNf
dXNhZ2VfYml0KQo+PiArwqDCoMKgwqDCoMKgwqDCoMKgwqDCoCBEUk1fRVJST1IoIldhaXQgZm9y
IFNGQyBmb3JjZWQgbG9jayBhY2sgZmFpbGVkXG4iKTsKPj4gwqDCoMKgwqDCoMKgwqDCoMKgIHJl
dHVybiAwOwo+PiDCoMKgwqDCoMKgIH0KPj4gwqAgK8KgwqDCoCAvKiBUaGUgSFcgY291bGQgcmV0
dXJuIHRoZSBhY2sgZXZlbiBpZiB0aGUgc2ZjIGlzIG5vdCBpbiB1c2UgKi8KPgo+IEJ1dCB0aGUg
ZnVuY3Rpb24gY2hlY2tlZCB3aGV0aGVyIFNGQyB3YXNuJ3QgaW4gdXNlIGFuZCBiYWlsZWQgb3V0
IAo+IGVhcmx5IC0gc28gaXMgdGhpcyBjb21tZW50IHJlbGV2YW50PyAoSSB1bmRlcnN0YW5kIGl0
IGlzIHRydWUgYWdhaW5zdCAKPiB0aGUgc3BlY3MganVzdCB3b25kZXJpbmcgYWJvdXQgb3VyIGV4
YWN0IGNvZGUuKQo+CgpTYW1lIHJhdGlvbmFsZSBhcyB0aGUgYWJvdmUsIGlmIHRoZSBlbmdpbmUg
cmVsYXNlZCB0aGUgU0ZDIHdoaWxlIHdlIHdlcmUgCmxvY2tpbmcgaXQsIHRoZSBsb2NraW5nIG1p
Z2h0IGhhdmUgYmVlbiByZWplY3RlZCwgYnV0IG9uIElDTCB3ZSBzdGlsbCAKZ2V0IHRoZSBhY2su
Cgo+PiDCoMKgwqDCoMKgIGlmIChpbnRlbF91bmNvcmVfcmVhZF9mdyh1bmNvcmUsIHNmY191c2Fn
ZSkgJiBzZmNfdXNhZ2VfYml0KQo+PiDCoMKgwqDCoMKgwqDCoMKgwqAgcmV0dXJuIHNmY19yZXNl
dF9iaXQ7Cj4+IMKgIEBAIC0zODIsNiArMzg3LDcgQEAgc3RhdGljIHZvaWQgZ2VuMTFfdW5sb2Nr
X3NmYyhzdHJ1Y3QgCj4+IGludGVsX2VuZ2luZV9jcyAqZW5naW5lKQo+PiDCoMKgwqDCoMKgIHU4
IHZkYm94X3NmY19hY2Nlc3MgPSAKPj4gUlVOVElNRV9JTkZPKGVuZ2luZS0+aTkxNSktPnZkYm94
X3NmY19hY2Nlc3M7Cj4+IMKgwqDCoMKgwqAgaTkxNV9yZWdfdCBzZmNfZm9yY2VkX2xvY2s7Cj4+
IMKgwqDCoMKgwqAgdTMyIHNmY19mb3JjZWRfbG9ja19iaXQ7Cj4+ICvCoMKgwqAgdTMyIGxvY2s7
Cj4+IMKgIMKgwqDCoMKgwqAgc3dpdGNoIChlbmdpbmUtPmNsYXNzKSB7Cj4+IMKgwqDCoMKgwqAg
Y2FzZSBWSURFT19ERUNPREVfQ0xBU1M6Cj4+IEBAIC00MDEsNyArNDA3LDEwIEBAIHN0YXRpYyB2
b2lkIGdlbjExX3VubG9ja19zZmMoc3RydWN0IAo+PiBpbnRlbF9lbmdpbmVfY3MgKmVuZ2luZSkK
Pj4gwqDCoMKgwqDCoMKgwqDCoMKgIHJldHVybjsKPj4gwqDCoMKgwqDCoCB9Cj4+IMKgIC3CoMKg
wqAgcm13X2NsZWFyX2Z3KHVuY29yZSwgc2ZjX2ZvcmNlZF9sb2NrLCBzZmNfZm9yY2VkX2xvY2tf
Yml0KTsKPj4gK8KgwqDCoCBsb2NrID0gaW50ZWxfdW5jb3JlX3JlYWRfZncodW5jb3JlLCBzZmNf
Zm9yY2VkX2xvY2spOwo+PiArwqDCoMKgIGlmIChsb2NrICYgc2ZjX2ZvcmNlZF9sb2NrX2JpdCkK
Pj4gK8KgwqDCoMKgwqDCoMKgIGludGVsX3VuY29yZV93cml0ZV9mdyh1bmNvcmUsIHNmY19mb3Jj
ZWRfbG9jaywKPj4gK8KgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoCBs
b2NrICYgfnNmY19mb3JjZWRfbG9ja19iaXQpOwo+Cj4gSGVyZSB3ZSBjYW4ndCByZWx5IG9uIHRo
ZSByZXR1cm4gY29kZSBmcm9tIGdlbjExX2xvY2tfc2ZjIGFuZCBoYXZlIHRvIAo+IHJlYWQgdGhl
IHJlZ2lzdGVyIG91cnNlbHZlcz8gSSBndWVzcyBpdCBkZXBlbmRzIG9uIG15IHF1ZXN0aW9uIGFi
b3V0IAo+IHRoZSByYWNlIGNvbW1lbnQuCj4KPiBJbiBhZGRpdGlvbiB0byB0aGlzIEkgbm93IHNl
ZSB0aGF0IGdlbjExX3Jlc2V0X2VuZ2luZXMgZG9lcyBub3QgdXNlIAo+IHRoZSByZXR1cm4gdmFs
dWUgZnJvbSBnZW4xMV9sb2NrX3NmYyB3aGVuIGRlY2lkaW5nIHdoaWNoIGVuZ2luZXMgaXQgCj4g
bmVlZHMgdG8gdW5sb2NrLiBTaG91bGQgd2UgY2hhbmdlIHRoYXQgYXMgd2VsbD8KClBhcmFub2lh
IGhlcmUgYXMgd2VsbCwgaW4gY2FzZSBzb21ldGhpbmcgd2VudCB3cm9uZyB3aXRoIHRoZSBsb2Nr
aW5nIEknZCAKbGlrZSB0byBiZSBzdXJlIHRoZSB1bmxvY2tpbmcgY2FuIHN0aWxsIGJlIHBlcmZv
cm1lZCBpbmRlcGVuZGVudGx5IHNvIHdlIApjYW4gcmVjb3Zlci4gZS5nLiB0aGUgbG9ja2luZyBt
aWdodCBoYXZlIHN1Y2NlZWRlZCBhZnRlciB3ZSBoaXQgdGhlIAp0aW1lb3V0IGluIGdlbjExX2xv
Y2tfc2ZjICwgaW4gd2hpY2ggY2FzZSB0aGUgcmV0dXJuIGZyb20gdGhhdCBmdW5jdGlvbiAKd29u
J3QgcmVmbGVjdCB0aGUgc3RhdHVzIG9mIHRoZSBIVy4KClRoYW5rcywKRGFuaWVsZQoKPgo+Cj4+
IMKgIH0KPj4gwqAgwqAgc3RhdGljIGludCBnZW4xMV9yZXNldF9lbmdpbmVzKHN0cnVjdCBpbnRl
bF9ndCAqZ3QsCj4+Cj4KPiBSZWdhcmRzLAo+Cj4gVHZydGtvCgpfX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fXwpJbnRlbC1nZnggbWFpbGluZyBsaXN0CkludGVs
LWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcv
bWFpbG1hbi9saXN0aW5mby9pbnRlbC1nZng=

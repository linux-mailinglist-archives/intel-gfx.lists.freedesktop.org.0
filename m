Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 268C940BC21
	for <lists+intel-gfx@lfdr.de>; Wed, 15 Sep 2021 01:24:38 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 871926E83B;
	Tue, 14 Sep 2021 23:24:36 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga14.intel.com (mga14.intel.com [192.55.52.115])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 000D06E83B
 for <intel-gfx@lists.freedesktop.org>; Tue, 14 Sep 2021 23:24:34 +0000 (UTC)
X-IronPort-AV: E=McAfee;i="6200,9189,10107"; a="221825009"
X-IronPort-AV: E=Sophos;i="5.85,292,1624345200"; d="scan'208";a="221825009"
Received: from orsmga004.jf.intel.com ([10.7.209.38])
 by fmsmga103.fm.intel.com with ESMTP/TLS/ECDHE-RSA-AES256-GCM-SHA384;
 14 Sep 2021 16:24:34 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.85,292,1624345200"; d="scan'208";a="583028473"
Received: from orsmsx602.amr.corp.intel.com ([10.22.229.15])
 by orsmga004.jf.intel.com with ESMTP; 14 Sep 2021 16:24:34 -0700
Received: from orsmsx612.amr.corp.intel.com (10.22.229.25) by
 ORSMSX602.amr.corp.intel.com (10.22.229.15) with Microsoft SMTP Server
 (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256) id
 15.1.2242.12; Tue, 14 Sep 2021 16:24:33 -0700
Received: from orsmsx610.amr.corp.intel.com (10.22.229.23) by
 ORSMSX612.amr.corp.intel.com (10.22.229.25) with Microsoft SMTP Server
 (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256) id
 15.1.2242.12; Tue, 14 Sep 2021 16:24:33 -0700
Received: from orsmsx610.amr.corp.intel.com ([10.22.229.23]) by
 ORSMSX610.amr.corp.intel.com ([10.22.229.23]) with mapi id 15.01.2242.012;
 Tue, 14 Sep 2021 16:24:33 -0700
From: "Souza, Jose" <jose.souza@intel.com>
To: "ville.syrjala@linux.intel.com" <ville.syrjala@linux.intel.com>
CC: "Mun, Gwan-gyeong" <gwan-gyeong.mun@intel.com>,
 "intel-gfx@lists.freedesktop.org" <intel-gfx@lists.freedesktop.org>
Thread-Topic: [PATCH 01/16] Revert "drm/i915/display: Disable audio, DRRS and
 PSR before planes"
Thread-Index: AQHXqK3m6Vsz1GIV4EG6JPWGlpnnmKuinlCAgAEIdACAAP4aAA==
Date: Tue, 14 Sep 2021 23:24:33 +0000
Message-ID: <d81c249be2ac0c427ec7ecbb74b89436f8dac955.camel@intel.com>
References: <20210913144440.23008-1-ville.syrjala@linux.intel.com>
 <20210913144440.23008-2-ville.syrjala@linux.intel.com>
 <80815922ba68991fe0a4e8609d62464457d7c822.camel@intel.com>
 <YUBbUtDCL5p/zlW9@intel.com>
In-Reply-To: <YUBbUtDCL5p/zlW9@intel.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-originating-ip: [10.22.254.132]
Content-Type: text/plain; charset="utf-8"
Content-ID: <34758AEF03718649B6D275A34053D3DF@intel.com>
Content-Transfer-Encoding: base64
MIME-Version: 1.0
Subject: Re: [Intel-gfx] [PATCH 01/16] Revert "drm/i915/display: Disable
 audio, DRRS and PSR before planes"
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

T24gVHVlLCAyMDIxLTA5LTE0IGF0IDExOjIwICswMzAwLCBWaWxsZSBTeXJqw6Rsw6Qgd3JvdGU6
DQo+IE9uIE1vbiwgU2VwIDEzLCAyMDIxIGF0IDA0OjI4OjM1UE0gKzAwMDAsIFNvdXphLCBKb3Nl
IHdyb3RlOg0KPiA+IE9uIE1vbiwgMjAyMS0wOS0xMyBhdCAxNzo0NCArMDMwMCwgVmlsbGUgU3ly
amFsYSB3cm90ZToNCj4gPiA+IEZyb206IFZpbGxlIFN5cmrDpGzDpCA8dmlsbGUuc3lyamFsYUBs
aW51eC5pbnRlbC5jb20+DQo+ID4gPiANCj4gPiA+IERpc2FibGluZyBwbGFuZXMgaW4gdGhlIG1p
ZGRsZSBvZiB0aGUgbW9kZXNldCBzZXVxbmVjZSBkb2VzIG5vdCBtYWtlDQo+ID4gPiBzZW5zZSBz
aW5jZSB1c2Vyc3BhY2UgY2FuIGFueXdheSBkaXNhYmxlIHBsYW5lcyBiZWZvcmUgdGhlIG1vZGVz
ZXQNCj4gPiA+IGV2ZW4gc3RhcnRzLiBTbyB3aGVuIHRoZSBtb2Rlc2V0IHNldXFlbmNlIHN0YXJ0
cyB0aGUgc2V0IG9mIGVuYWJsZWQNCj4gPiA+IHBsYW5lcyBpcyBlbnRpcmVseSBhcmJpdHJhcnku
IFRyeWluZyB0byBzcHJpbmtsZSB0aGUgcGxhbmUgZGlzYWJsaW5nDQo+ID4gPiBpbnRvIHRoZSBt
b2Rlc2V0IHNlcXVlbmNlIGp1c3QgbWVhbnMgbW9yZSByYW5kb21uZXNzIGFuZCBwb3RlbnRpYWwN
Cj4gPiA+IGZvciBoYXJkIHRvIHJlcHJvZHVjZSBidWdzLg0KPiA+IA0KPiA+IFRoZSBwYXRjaCBi
ZWluZyByZXZlcnRlZCBkaWQgbm90IGNoYW5nZWQgYW55dGhpbmcgYWJvdXQgcGxhbmUsIGl0IG9u
bHkgZGlzYWJsZXMgYXVkaW8gYW5kIFBTUiBiZWZvcmUgcGlwZSBpcyBkaXNhYmxlZCBpbiB0aGlz
IGNhc2UuDQo+IA0KPiBUaGUgY29tbWl0IG1lc3NhZ2Ugb25seSB0YWxrcyBhYm91dCBwbGFuZXMu
IEFsc28gd2UgYWxyZWFkeSBkaXNhYmxlDQo+IHRoZSBwaXBlIGluIHRoZSBwb3N0X2Rpc2FibGUg
aG9vaywgc28gUFNSL2F1ZGlvIHdhcyBhbHdheXMgZGlzYWJsZWQNCj4gYmVmb3JlIHRoZSBwaXBl
IElJUkMuDQoNClRoYXQgaXMgdHJ1ZSwgbXkgYmFkLg0KDQpSZXZpZXdlZC1ieTogSm9zw6kgUm9i
ZXJ0byBkZSBTb3V6YSA8am9zZS5zb3V6YUBpbnRlbC5jb20+DQoNCj4gDQo+ID4gSSBoYXZlIG90
aGVyIHBlbmRpbmcgcGF0Y2ggaGFuZGxpbmcgY2FzZXMgd2VyZSB1c2Vyc3BhY2Ugc3RpbGwgaGFz
IHBpcGUgZW5hYmxlZCBidXQgbm8gcGxhbmVzIGVuYWJsZWQuDQo+IA0KPiBTbyB3ZSBuZWVkIHRo
YXQgSSBndWVzcyByYXRoZXIgdGhhbiBoYWNraW5nIGFyb3VuZCBpdCBpbiB0aGUgbW9kZXNldA0K
PiBzZXF1ZW5jZS4NCj4gDQo+ID4gDQo+ID4gPiANCj4gPiA+IFNvIGl0IG1ha2VzIG1vc3Qgc2Vu
c2UgdG8ganVzdCBkaXNhYmxlIGFsbCBwbGFuZXMgZmlyc3Qgc28gdGhhdCB0aGUNCj4gPiA+IHJl
c3Qgb2YgdGhlIG1vZGVzZXQgc2VxdWVuY2UgcmVtYWlucyBpZGVudGljYWwgcmVnYXJkbGVzcyBv
ZiB3aGljaA0KPiA+ID4gcGxhbmVzIGhhcHBlbiB0byBiZSBlbmFibGVkIGJ5IHVzZXJzcGFjZSBh
dCB0aGUgdGltZS4NCj4gPiANCj4gPiBUaGlzIGlzIG5vdCB3aGF0IHNwZWNpZmljYXRpb24gYXNr
IHVzIHRvIGRvDQo+IA0KPiBUaGUgdGV4dCBoYXMgYWx3YXlzIGJlZW4gdGhlIHNhbWUuIEl0IGp1
c3QgbWFya3MgdGhlIGxhc3QgcG9pbnQgYXQgd2hpY2gNCj4gdGhlIHBsYW5lcyBtdXN0IGJlIGRp
c2FibGVkLg0KPiANCj4gPiBhbmQgZm9yIEFsZGVybGFrZS1QIG5vdCBmb2xsb3dpbmcgaXQgY2F1
c2VzIHVuZGVycnVucy4NCj4gDQo+IFNvdW5kcyBsaWtlIHdlIGhhdmUgc29tZSBvdGhlciBidWcg
c29tZXdoZXJlIHRoZW4sIGJlY2F1ZSBzdXBwb3NlZGx5IHlvdQ0KPiBnZXQgdGhlIHNhbWUgdW5k
ZXJydW4gaWYgeW91IGRpc2FibGUgYWxsIHRoZSBwbGFuZXMgZnJvbSB1c2Vyc3BhY2UNCj4gYmVm
b3JlIHRoZSBtb2Rlc2V0IHRoZW4/DQoNCldpbGwgY2hlY2sgdGhpcyBjYXNlIHdpdGggdGhpcyBw
YXRjaCByZXZlcnRlZCBvbiB0b3Agb2YgdGhlIHBlbmRpbmcgUFNSMiBhbGRlcmxha2UtUCBwYXRj
aGVzLg0KDQp0aGFua3MNCg0KPiANCj4gPiANCj4gPiBCU3BlYzogNDkxOTANCj4gPiANCj4gPiA+
IA0KPiA+ID4gVGhpcyByZXZlcnRzIGNvbW1pdCA4NDAzMGFkYjllMjdkMjAyYTY2MDIyNDg4YmYw
MzQ5YThiZDQ1MjEzLg0KPiA+ID4gDQo+ID4gPiBDYzogR3dhbi1neWVvbmcgTXVuIDxnd2FuLWd5
ZW9uZy5tdW5AaW50ZWwuY29tPg0KPiA+ID4gQ2M6IEpvc8OpIFJvYmVydG8gZGUgU291emEgPGpv
c2Uuc291emFAaW50ZWwuY29tPg0KPiA+ID4gU2lnbmVkLW9mZi1ieTogVmlsbGUgU3lyasOkbMOk
IDx2aWxsZS5zeXJqYWxhQGxpbnV4LmludGVsLmNvbT4NCj4gPiA+IC0tLQ0KPiA+ID4gIGRyaXZl
cnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGRpLmMgICAgICB8IDMwICsrKysrKystLS0t
LS0tLS0tLS0NCj4gPiA+ICBkcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3Bs
YXkuYyAgfCAyNCAtLS0tLS0tLS0tLS0tLS0NCj4gPiA+ICAuLi4vZHJtL2k5MTUvZGlzcGxheS9p
bnRlbF9kaXNwbGF5X3R5cGVzLmggICAgfCAgNCAtLS0NCj4gPiA+ICBkcml2ZXJzL2dwdS9kcm0v
aTkxNS9kaXNwbGF5L2ludGVsX2RwX21zdC5jICAgfCAxNCArKy0tLS0tLS0NCj4gPiA+ICA0IGZp
bGVzIGNoYW5nZWQsIDEzIGluc2VydGlvbnMoKyksIDU5IGRlbGV0aW9ucygtKQ0KPiA+ID4gDQo+
ID4gPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kZGku
YyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGRpLmMNCj4gPiA+IGluZGV4
IDIzZWYyOTFmN2IzMC4uYzFmZDdjYmI0MGUxIDEwMDY0NA0KPiA+ID4gLS0tIGEvZHJpdmVycy9n
cHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kZGkuYw0KPiA+ID4gKysrIGIvZHJpdmVycy9ncHUv
ZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kZGkuYw0KPiA+ID4gQEAgLTMxNjQsNiArMzE2NCwxMiBA
QCBzdGF0aWMgdm9pZCBpbnRlbF9kaXNhYmxlX2RkaV9kcChzdHJ1Y3QgaW50ZWxfYXRvbWljX3N0
YXRlICpzdGF0ZSwNCj4gPiA+ICANCj4gPiA+ICAJaW50ZWxfZHAtPmxpbmtfdHJhaW5lZCA9IGZh
bHNlOw0KPiA+ID4gIA0KPiA+ID4gKwlpZiAob2xkX2NydGNfc3RhdGUtPmhhc19hdWRpbykNCj4g
PiA+ICsJCWludGVsX2F1ZGlvX2NvZGVjX2Rpc2FibGUoZW5jb2RlciwNCj4gPiA+ICsJCQkJCSAg
b2xkX2NydGNfc3RhdGUsIG9sZF9jb25uX3N0YXRlKTsNCj4gPiA+ICsNCj4gPiA+ICsJaW50ZWxf
ZHJyc19kaXNhYmxlKGludGVsX2RwLCBvbGRfY3J0Y19zdGF0ZSk7DQo+ID4gPiArCWludGVsX3Bz
cl9kaXNhYmxlKGludGVsX2RwLCBvbGRfY3J0Y19zdGF0ZSk7DQo+ID4gPiAgCWludGVsX2VkcF9i
YWNrbGlnaHRfb2ZmKG9sZF9jb25uX3N0YXRlKTsNCj4gPiA+ICAJLyogRGlzYWJsZSB0aGUgZGVj
b21wcmVzc2lvbiBpbiBEUCBTaW5rICovDQo+ID4gPiAgCWludGVsX2RwX3Npbmtfc2V0X2RlY29t
cHJlc3Npb25fc3RhdGUoaW50ZWxfZHAsIG9sZF9jcnRjX3N0YXRlLA0KPiA+ID4gQEAgLTMxODEs
NiArMzE4NywxMCBAQCBzdGF0aWMgdm9pZCBpbnRlbF9kaXNhYmxlX2RkaV9oZG1pKHN0cnVjdCBp
bnRlbF9hdG9taWNfc3RhdGUgKnN0YXRlLA0KPiA+ID4gIAlzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0
ZSAqaTkxNSA9IHRvX2k5MTUoZW5jb2Rlci0+YmFzZS5kZXYpOw0KPiA+ID4gIAlzdHJ1Y3QgZHJt
X2Nvbm5lY3RvciAqY29ubmVjdG9yID0gb2xkX2Nvbm5fc3RhdGUtPmNvbm5lY3RvcjsNCj4gPiA+
ICANCj4gPiA+ICsJaWYgKG9sZF9jcnRjX3N0YXRlLT5oYXNfYXVkaW8pDQo+ID4gPiArCQlpbnRl
bF9hdWRpb19jb2RlY19kaXNhYmxlKGVuY29kZXIsDQo+ID4gPiArCQkJCQkgIG9sZF9jcnRjX3N0
YXRlLCBvbGRfY29ubl9zdGF0ZSk7DQo+ID4gPiArDQo+ID4gPiAgCWlmICghaW50ZWxfaGRtaV9o
YW5kbGVfc2lua19zY3JhbWJsaW5nKGVuY29kZXIsIGNvbm5lY3RvciwNCj4gPiA+ICAJCQkJCSAg
ICAgICBmYWxzZSwgZmFsc2UpKQ0KPiA+ID4gIAkJZHJtX2RiZ19rbXMoJmk5MTUtPmRybSwNCj4g
PiA+IEBAIC0zMTg4LDI1ICszMTk4LDYgQEAgc3RhdGljIHZvaWQgaW50ZWxfZGlzYWJsZV9kZGlf
aGRtaShzdHJ1Y3QgaW50ZWxfYXRvbWljX3N0YXRlICpzdGF0ZSwNCj4gPiA+ICAJCQkgICAgY29u
bmVjdG9yLT5iYXNlLmlkLCBjb25uZWN0b3ItPm5hbWUpOw0KPiA+ID4gIH0NCj4gPiA+ICANCj4g
PiA+IC1zdGF0aWMgdm9pZCBpbnRlbF9wcmVfZGlzYWJsZV9kZGkoc3RydWN0IGludGVsX2F0b21p
Y19zdGF0ZSAqc3RhdGUsDQo+ID4gPiAtCQkJCSAgc3RydWN0IGludGVsX2VuY29kZXIgKmVuY29k
ZXIsDQo+ID4gPiAtCQkJCSAgY29uc3Qgc3RydWN0IGludGVsX2NydGNfc3RhdGUgKm9sZF9jcnRj
X3N0YXRlLA0KPiA+ID4gLQkJCQkgIGNvbnN0IHN0cnVjdCBkcm1fY29ubmVjdG9yX3N0YXRlICpv
bGRfY29ubl9zdGF0ZSkNCj4gPiA+IC17DQo+ID4gPiAtCXN0cnVjdCBpbnRlbF9kcCAqaW50ZWxf
ZHA7DQo+ID4gPiAtDQo+ID4gPiAtCWlmIChvbGRfY3J0Y19zdGF0ZS0+aGFzX2F1ZGlvKQ0KPiA+
ID4gLQkJaW50ZWxfYXVkaW9fY29kZWNfZGlzYWJsZShlbmNvZGVyLCBvbGRfY3J0Y19zdGF0ZSwN
Cj4gPiA+IC0JCQkJCSAgb2xkX2Nvbm5fc3RhdGUpOw0KPiA+ID4gLQ0KPiA+ID4gLQlpZiAoaW50
ZWxfY3J0Y19oYXNfdHlwZShvbGRfY3J0Y19zdGF0ZSwgSU5URUxfT1VUUFVUX0hETUkpKQ0KPiA+
ID4gLQkJcmV0dXJuOw0KPiA+ID4gLQ0KPiA+ID4gLQlpbnRlbF9kcCA9IGVuY190b19pbnRlbF9k
cChlbmNvZGVyKTsNCj4gPiA+IC0JaW50ZWxfZHJyc19kaXNhYmxlKGludGVsX2RwLCBvbGRfY3J0
Y19zdGF0ZSk7DQo+ID4gPiAtCWludGVsX3Bzcl9kaXNhYmxlKGludGVsX2RwLCBvbGRfY3J0Y19z
dGF0ZSk7DQo+ID4gPiAtfQ0KPiA+ID4gLQ0KPiA+ID4gIHN0YXRpYyB2b2lkIGludGVsX2Rpc2Fi
bGVfZGRpKHN0cnVjdCBpbnRlbF9hdG9taWNfc3RhdGUgKnN0YXRlLA0KPiA+ID4gIAkJCSAgICAg
IHN0cnVjdCBpbnRlbF9lbmNvZGVyICplbmNvZGVyLA0KPiA+ID4gIAkJCSAgICAgIGNvbnN0IHN0
cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpvbGRfY3J0Y19zdGF0ZSwNCj4gPiA+IEBAIC00NTQxLDcg
KzQ1MzIsNiBAQCB2b2lkIGludGVsX2RkaV9pbml0KHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpk
ZXZfcHJpdiwgZW51bSBwb3J0IHBvcnQpDQo+ID4gPiAgCWVuY29kZXItPmVuYWJsZSA9IGludGVs
X2VuYWJsZV9kZGk7DQo+ID4gPiAgCWVuY29kZXItPnByZV9wbGxfZW5hYmxlID0gaW50ZWxfZGRp
X3ByZV9wbGxfZW5hYmxlOw0KPiA+ID4gIAllbmNvZGVyLT5wcmVfZW5hYmxlID0gaW50ZWxfZGRp
X3ByZV9lbmFibGU7DQo+ID4gPiAtCWVuY29kZXItPnByZV9kaXNhYmxlID0gaW50ZWxfcHJlX2Rp
c2FibGVfZGRpOw0KPiA+ID4gIAllbmNvZGVyLT5kaXNhYmxlID0gaW50ZWxfZGlzYWJsZV9kZGk7
DQo+ID4gPiAgCWVuY29kZXItPnBvc3RfZGlzYWJsZSA9IGludGVsX2RkaV9wb3N0X2Rpc2FibGU7
DQo+ID4gPiAgCWVuY29kZXItPnVwZGF0ZV9waXBlID0gaW50ZWxfZGRpX3VwZGF0ZV9waXBlOw0K
PiA+ID4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlz
cGxheS5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5LmMNCj4g
PiA+IGluZGV4IGE3Y2EzODYxM2Y4OS4uY2QxNTA1MTJkMjc1IDEwMDY0NA0KPiA+ID4gLS0tIGEv
ZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5LmMNCj4gPiA+ICsrKyBi
L2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheS5jDQo+ID4gPiBAQCAt
MjcyMywyOCArMjcyMyw2IEBAIHN0YXRpYyB2b2lkIGludGVsX2VuY29kZXJzX2VuYWJsZShzdHJ1
Y3QgaW50ZWxfYXRvbWljX3N0YXRlICpzdGF0ZSwNCj4gPiA+ICAJfQ0KPiA+ID4gIH0NCj4gPiA+
ICANCj4gPiA+IC1zdGF0aWMgdm9pZCBpbnRlbF9lbmNvZGVyc19wcmVfZGlzYWJsZShzdHJ1Y3Qg
aW50ZWxfYXRvbWljX3N0YXRlICpzdGF0ZSwNCj4gPiA+IC0JCQkJICAgICAgIHN0cnVjdCBpbnRl
bF9jcnRjICpjcnRjKQ0KPiA+ID4gLXsNCj4gPiA+IC0JY29uc3Qgc3RydWN0IGludGVsX2NydGNf
c3RhdGUgKm9sZF9jcnRjX3N0YXRlID0NCj4gPiA+IC0JCWludGVsX2F0b21pY19nZXRfb2xkX2Ny
dGNfc3RhdGUoc3RhdGUsIGNydGMpOw0KPiA+ID4gLQljb25zdCBzdHJ1Y3QgZHJtX2Nvbm5lY3Rv
cl9zdGF0ZSAqb2xkX2Nvbm5fc3RhdGU7DQo+ID4gPiAtCXN0cnVjdCBkcm1fY29ubmVjdG9yICpj
b25uOw0KPiA+ID4gLQlpbnQgaTsNCj4gPiA+IC0NCj4gPiA+IC0JZm9yX2VhY2hfb2xkX2Nvbm5l
Y3Rvcl9pbl9zdGF0ZSgmc3RhdGUtPmJhc2UsIGNvbm4sIG9sZF9jb25uX3N0YXRlLCBpKSB7DQo+
ID4gPiAtCQlzdHJ1Y3QgaW50ZWxfZW5jb2RlciAqZW5jb2RlciA9DQo+ID4gPiAtCQkJdG9faW50
ZWxfZW5jb2RlcihvbGRfY29ubl9zdGF0ZS0+YmVzdF9lbmNvZGVyKTsNCj4gPiA+IC0NCj4gPiA+
IC0JCWlmIChvbGRfY29ubl9zdGF0ZS0+Y3J0YyAhPSAmY3J0Yy0+YmFzZSkNCj4gPiA+IC0JCQlj
b250aW51ZTsNCj4gPiA+IC0NCj4gPiA+IC0JCWlmIChlbmNvZGVyLT5wcmVfZGlzYWJsZSkNCj4g
PiA+IC0JCQllbmNvZGVyLT5wcmVfZGlzYWJsZShzdGF0ZSwgZW5jb2Rlciwgb2xkX2NydGNfc3Rh
dGUsDQo+ID4gPiAtCQkJCQkgICAgIG9sZF9jb25uX3N0YXRlKTsNCj4gPiA+IC0JfQ0KPiA+ID4g
LX0NCj4gPiA+IC0NCj4gPiA+ICBzdGF0aWMgdm9pZCBpbnRlbF9lbmNvZGVyc19kaXNhYmxlKHN0
cnVjdCBpbnRlbF9hdG9taWNfc3RhdGUgKnN0YXRlLA0KPiA+ID4gIAkJCQkgICBzdHJ1Y3QgaW50
ZWxfY3J0YyAqY3J0YykNCj4gPiA+ICB7DQo+ID4gPiBAQCAtOTgwNyw4ICs5Nzg1LDYgQEAgc3Rh
dGljIHZvaWQgaW50ZWxfb2xkX2NydGNfc3RhdGVfZGlzYWJsZXMoc3RydWN0IGludGVsX2F0b21p
Y19zdGF0ZSAqc3RhdGUsDQo+ID4gPiAgDQo+ID4gPiAgCWRybV9XQVJOX09OKCZkZXZfcHJpdi0+
ZHJtLCBvbGRfY3J0Y19zdGF0ZS0+Ymlnam9pbmVyX3NsYXZlKTsNCj4gPiA+ICANCj4gPiA+IC0J
aW50ZWxfZW5jb2RlcnNfcHJlX2Rpc2FibGUoc3RhdGUsIGNydGMpOw0KPiA+ID4gLQ0KPiA+ID4g
IAlpbnRlbF9jcnRjX2Rpc2FibGVfcGxhbmVzKHN0YXRlLCBjcnRjKTsNCj4gPiA+ICANCj4gPiA+
ICAJLyoNCj4gPiA+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2lu
dGVsX2Rpc3BsYXlfdHlwZXMuaCBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxf
ZGlzcGxheV90eXBlcy5oDQo+ID4gPiBpbmRleCBlOWU4MDZkOTBlZWMuLjdkODUyYWZmZWFkMSAx
MDA2NDQNCj4gPiA+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlz
cGxheV90eXBlcy5oDQo+ID4gPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2lu
dGVsX2Rpc3BsYXlfdHlwZXMuaA0KPiA+ID4gQEAgLTE5NiwxMCArMTk2LDYgQEAgc3RydWN0IGlu
dGVsX2VuY29kZXIgew0KPiA+ID4gIAl2b2lkICgqdXBkYXRlX2NvbXBsZXRlKShzdHJ1Y3QgaW50
ZWxfYXRvbWljX3N0YXRlICosDQo+ID4gPiAgCQkJCXN0cnVjdCBpbnRlbF9lbmNvZGVyICosDQo+
ID4gPiAgCQkJCXN0cnVjdCBpbnRlbF9jcnRjICopOw0KPiA+ID4gLQl2b2lkICgqcHJlX2Rpc2Fi
bGUpKHN0cnVjdCBpbnRlbF9hdG9taWNfc3RhdGUgKiwNCj4gPiA+IC0JCQkgICAgc3RydWN0IGlu
dGVsX2VuY29kZXIgKiwNCj4gPiA+IC0JCQkgICAgY29uc3Qgc3RydWN0IGludGVsX2NydGNfc3Rh
dGUgKiwNCj4gPiA+IC0JCQkgICAgY29uc3Qgc3RydWN0IGRybV9jb25uZWN0b3Jfc3RhdGUgKik7
DQo+ID4gPiAgCXZvaWQgKCpkaXNhYmxlKShzdHJ1Y3QgaW50ZWxfYXRvbWljX3N0YXRlICosDQo+
ID4gPiAgCQkJc3RydWN0IGludGVsX2VuY29kZXIgKiwNCj4gPiA+ICAJCQljb25zdCBzdHJ1Y3Qg
aW50ZWxfY3J0Y19zdGF0ZSAqLA0KPiA+ID4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9p
OTE1L2Rpc3BsYXkvaW50ZWxfZHBfbXN0LmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5
L2ludGVsX2RwX21zdC5jDQo+ID4gPiBpbmRleCBkMTA0NDQxMzQ0YzAuLjkxNGJlYTk4M2EyOCAx
MDA2NDQNCj4gPiA+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZHBf
bXN0LmMNCj4gPiA+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZHBf
bXN0LmMNCj4gPiA+IEBAIC0zNDgsMTYgKzM0OCw2IEBAIHN0YXRpYyB2b2lkIHdhaXRfZm9yX2Fj
dF9zZW50KHN0cnVjdCBpbnRlbF9lbmNvZGVyICplbmNvZGVyLA0KPiA+ID4gIAlkcm1fZHBfY2hl
Y2tfYWN0X3N0YXR1cygmaW50ZWxfZHAtPm1zdF9tZ3IpOw0KPiA+ID4gIH0NCj4gPiA+ICANCj4g
PiA+IC1zdGF0aWMgdm9pZCBpbnRlbF9tc3RfcHJlX2Rpc2FibGVfZHAoc3RydWN0IGludGVsX2F0
b21pY19zdGF0ZSAqc3RhdGUsDQo+ID4gPiAtCQkJCSAgICAgc3RydWN0IGludGVsX2VuY29kZXIg
KmVuY29kZXIsDQo+ID4gPiAtCQkJCSAgICAgY29uc3Qgc3RydWN0IGludGVsX2NydGNfc3RhdGUg
Km9sZF9jcnRjX3N0YXRlLA0KPiA+ID4gLQkJCQkgICAgIGNvbnN0IHN0cnVjdCBkcm1fY29ubmVj
dG9yX3N0YXRlICpvbGRfY29ubl9zdGF0ZSkNCj4gPiA+IC17DQo+ID4gPiAtCWlmIChvbGRfY3J0
Y19zdGF0ZS0+aGFzX2F1ZGlvKQ0KPiA+ID4gLQkJaW50ZWxfYXVkaW9fY29kZWNfZGlzYWJsZShl
bmNvZGVyLCBvbGRfY3J0Y19zdGF0ZSwNCj4gPiA+IC0JCQkJCSAgb2xkX2Nvbm5fc3RhdGUpOw0K
PiA+ID4gLX0NCj4gPiA+IC0NCj4gPiA+ICBzdGF0aWMgdm9pZCBpbnRlbF9tc3RfZGlzYWJsZV9k
cChzdHJ1Y3QgaW50ZWxfYXRvbWljX3N0YXRlICpzdGF0ZSwNCj4gPiA+ICAJCQkJIHN0cnVjdCBp
bnRlbF9lbmNvZGVyICplbmNvZGVyLA0KPiA+ID4gIAkJCQkgY29uc3Qgc3RydWN0IGludGVsX2Ny
dGNfc3RhdGUgKm9sZF9jcnRjX3N0YXRlLA0KPiA+ID4gQEAgLTM4Miw2ICszNzIsOSBAQCBzdGF0
aWMgdm9pZCBpbnRlbF9tc3RfZGlzYWJsZV9kcChzdHJ1Y3QgaW50ZWxfYXRvbWljX3N0YXRlICpz
dGF0ZSwNCj4gPiA+ICAJaWYgKHJldCkgew0KPiA+ID4gIAkJZHJtX2RiZ19rbXMoJmk5MTUtPmRy
bSwgImZhaWxlZCB0byB1cGRhdGUgcGF5bG9hZCAlZFxuIiwgcmV0KTsNCj4gPiA+ICAJfQ0KPiA+
ID4gKwlpZiAob2xkX2NydGNfc3RhdGUtPmhhc19hdWRpbykNCj4gPiA+ICsJCWludGVsX2F1ZGlv
X2NvZGVjX2Rpc2FibGUoZW5jb2RlciwNCj4gPiA+ICsJCQkJCSAgb2xkX2NydGNfc3RhdGUsIG9s
ZF9jb25uX3N0YXRlKTsNCj4gPiA+ICB9DQo+ID4gPiAgDQo+ID4gPiAgc3RhdGljIHZvaWQgaW50
ZWxfbXN0X3Bvc3RfZGlzYWJsZV9kcChzdHJ1Y3QgaW50ZWxfYXRvbWljX3N0YXRlICpzdGF0ZSwN
Cj4gPiA+IEBAIC05MDUsNyArODk4LDYgQEAgaW50ZWxfZHBfY3JlYXRlX2Zha2VfbXN0X2VuY29k
ZXIoc3RydWN0IGludGVsX2RpZ2l0YWxfcG9ydCAqZGlnX3BvcnQsIGVudW0gcGlwZQ0KPiA+ID4g
IA0KPiA+ID4gIAlpbnRlbF9lbmNvZGVyLT5jb21wdXRlX2NvbmZpZyA9IGludGVsX2RwX21zdF9j
b21wdXRlX2NvbmZpZzsNCj4gPiA+ICAJaW50ZWxfZW5jb2Rlci0+Y29tcHV0ZV9jb25maWdfbGF0
ZSA9IGludGVsX2RwX21zdF9jb21wdXRlX2NvbmZpZ19sYXRlOw0KPiA+ID4gLQlpbnRlbF9lbmNv
ZGVyLT5wcmVfZGlzYWJsZSA9IGludGVsX21zdF9wcmVfZGlzYWJsZV9kcDsNCj4gPiA+ICAJaW50
ZWxfZW5jb2Rlci0+ZGlzYWJsZSA9IGludGVsX21zdF9kaXNhYmxlX2RwOw0KPiA+ID4gIAlpbnRl
bF9lbmNvZGVyLT5wb3N0X2Rpc2FibGUgPSBpbnRlbF9tc3RfcG9zdF9kaXNhYmxlX2RwOw0KPiA+
ID4gIAlpbnRlbF9lbmNvZGVyLT51cGRhdGVfcGlwZSA9IGludGVsX2RkaV91cGRhdGVfcGlwZTsN
Cj4gPiANCj4gDQoNCg==

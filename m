Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 35F334656E
	for <lists+intel-gfx@lfdr.de>; Fri, 14 Jun 2019 19:14:00 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 8F6A989B11;
	Fri, 14 Jun 2019 17:13:58 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from fireflyinternet.com (mail.fireflyinternet.com [109.228.58.192])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 9196689B11
 for <intel-gfx@lists.freedesktop.org>; Fri, 14 Jun 2019 17:13:56 +0000 (UTC)
X-Default-Received-SPF: pass (skip=forwardok (res=PASS))
 x-ip-name=78.156.65.138; 
Received: from localhost (unverified [78.156.65.138]) 
 by fireflyinternet.com (Firefly Internet (M1)) with ESMTP (TLS) id
 16905722-1500050 for multiple; Fri, 14 Jun 2019 18:13:54 +0100
MIME-Version: 1.0
From: Chris Wilson <chris@chris-wilson.co.uk>
User-Agent: alot/0.6
To: Mika Kuoppala <mika.kuoppala@linux.intel.com>,
 intel-gfx@lists.freedesktop.org
References: <20190614164350.30415-1-mika.kuoppala@linux.intel.com>
 <20190614164350.30415-4-mika.kuoppala@linux.intel.com>
In-Reply-To: <20190614164350.30415-4-mika.kuoppala@linux.intel.com>
Message-ID: <156053243193.7796.7679508926505580878@skylake-alporthouse-com>
Date: Fri, 14 Jun 2019 18:13:51 +0100
Subject: Re: [Intel-gfx] [PATCH 04/10] drm/i915/gtt: Introduce init_pd
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

UXVvdGluZyBNaWthIEt1b3BwYWxhICgyMDE5LTA2LTE0IDE3OjQzOjQ0KQo+IEFsbCBwYWdlIGRp
cmVjdG9yaWVzLCBleGNsdWRpbmcgbGFzdCBsZXZlbCwgYXJlIGluaXRpYWxpemVkIHdpdGgKPiBw
b2ludGVyIHRvIG5leHQgbGV2ZWwgcGFnZSBkaXJlY3Rvcmllcy4gTWFrZSBjb21tb24gZnVuY3Rp
b24gZm9yIGl0Lgo+IAo+IFNpZ25lZC1vZmYtYnk6IE1pa2EgS3VvcHBhbGEgPG1pa2Eua3VvcHBh
bGFAbGludXguaW50ZWwuY29tPgo+IC0tLQo+ICBkcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2dl
bV9ndHQuYyB8IDM3ICsrKysrKysrKysrLS0tLS0tLS0tLS0tLS0tLS0tCj4gIDEgZmlsZSBjaGFu
Z2VkLCAxNCBpbnNlcnRpb25zKCspLCAyMyBkZWxldGlvbnMoLSkKPiAKPiBkaWZmIC0tZ2l0IGEv
ZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9nZW1fZ3R0LmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkx
NS9pOTE1X2dlbV9ndHQuYwo+IGluZGV4IGEyYWIwYjdiYjIzNC4uMjU4MDU5NzFmNzcxIDEwMDY0
NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZ2VtX2d0dC5jCj4gKysrIGIvZHJp
dmVycy9ncHUvZHJtL2k5MTUvaTkxNV9nZW1fZ3R0LmMKPiBAQCAtNzYxLDI2ICs3NjEsMTIgQEAg
c3RhdGljIHZvaWQgZnJlZV9wZHAoc3RydWN0IGk5MTVfYWRkcmVzc19zcGFjZSAqdm0sCj4gICAg
ICAgICBrZnJlZShwZHApOwo+ICB9Cj4gIAo+IC1zdGF0aWMgdm9pZCBnZW44X2luaXRpYWxpemVf
NGx2bF9wZHAoc3RydWN0IGk5MTVfYWRkcmVzc19zcGFjZSAqdm0sCj4gLSAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgIHN0cnVjdCBpOTE1X3BhZ2VfZGlyZWN0b3J5ICpwZHApCj4g
K3N0YXRpYyB2b2lkIGluaXRfcGQoc3RydWN0IGk5MTVfYWRkcmVzc19zcGFjZSAqdm0sCj4gKyAg
ICAgICAgICAgICAgICAgICBzdHJ1Y3QgaTkxNV9wYWdlX2RpcmVjdG9yeSAqIGNvbnN0IHBkLAo+
ICsgICAgICAgICAgICAgICAgICAgc3RydWN0IGk5MTVfcGFnZV9kaXJlY3RvcnkgKiBjb25zdCB0
bykKPiAgewo+IC0gICAgICAgZmlsbF9weCh2bSwgcGRwLAo+IC0gICAgICAgICAgICAgICBnZW44
X3BkcGVfZW5jb2RlKHB4X2RtYSh2bS0+c2NyYXRjaF9wZCksIEk5MTVfQ0FDSEVfTExDKSk7Cj4g
LSAgICAgICBtZW1zZXRfcChwZHAtPmVudHJ5LCB2bS0+c2NyYXRjaF9wZCwgNTEyKTsKPiAtfQo+
IC0KPiAtc3RhdGljIHZvaWQgZ2VuOF9pbml0aWFsaXplXzNsdmxfcGRwKHN0cnVjdCBpOTE1X2Fk
ZHJlc3Nfc3BhY2UgKnZtLAo+IC0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBz
dHJ1Y3QgaTkxNV9wYWdlX2RpcmVjdG9yeSAqcGRwKQo+IC17Cj4gLSAgICAgICBtZW1zZXRfcChw
ZHAtPmVudHJ5LCB2bS0+c2NyYXRjaF9wZCwgR0VOOF8zTFZMX1BEUEVTKTsKPiAtfQo+IC0KPiAt
c3RhdGljIHZvaWQgZ2VuOF9pbml0aWFsaXplX3BtbDQoc3RydWN0IGk5MTVfYWRkcmVzc19zcGFj
ZSAqdm0sCj4gLSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RydWN0IGk5MTVfcGFn
ZV9kaXJlY3RvcnkgKnBtbDQpCj4gLXsKPiAtICAgICAgIGZpbGxfcHgodm0sIHBtbDQsCj4gLSAg
ICAgICAgICAgICAgIGdlbjhfcG1sNGVfZW5jb2RlKHB4X2RtYSh2bS0+c2NyYXRjaF9wZHApLCBJ
OTE1X0NBQ0hFX0xMQykpOwo+IC0gICAgICAgbWVtc2V0X3AocG1sNC0+ZW50cnksIHZtLT5zY3Jh
dGNoX3BkcCwgR0VOOF9QTUw0RVNfUEVSX1BNTDQpOwo+ICsgICAgICAgZmlsbF9weCh2bSwgcGQs
IGdlbjhfcGRwZV9lbmNvZGUocHhfZG1hKHRvKSwgSTkxNV9DQUNIRV9MTEMpKTsKPiArICAgICAg
IG1lbXNldF9wKHBkLT5lbnRyeSwgdG8sIDUxMik7Cj4gIH0KPiAgCj4gIC8qCj4gQEAgLTEyNjYs
NyArMTI1Miw3IEBAIHN0YXRpYyBpbnQgZ2VuOF9pbml0X3NjcmF0Y2goc3RydWN0IGk5MTVfYWRk
cmVzc19zcGFjZSAqdm0pCj4gICAgICAgICBnZW44X2luaXRpYWxpemVfcHQodm0sIHZtLT5zY3Jh
dGNoX3B0KTsKPiAgICAgICAgIGluaXRfcGRfd2l0aF9wYWdlKHZtLCB2bS0+c2NyYXRjaF9wZCwg
dm0tPnNjcmF0Y2hfcHQpOwo+ICAgICAgICAgaWYgKGk5MTVfdm1faXNfNGx2bCh2bSkpCj4gLSAg
ICAgICAgICAgICAgIGdlbjhfaW5pdGlhbGl6ZV80bHZsX3BkcCh2bSwgdm0tPnNjcmF0Y2hfcGRw
KTsKPiArICAgICAgICAgICAgICAgaW5pdF9wZCh2bSwgdm0tPnNjcmF0Y2hfcGRwLCB2bS0+c2Ny
YXRjaF9wZCk7Cj4gIAo+ICAgICAgICAgcmV0dXJuIDA7Cj4gIAo+IEBAIC0xNTExLDcgKzE0OTcs
NyBAQCBzdGF0aWMgaW50IGdlbjhfcHBndHRfYWxsb2NfNGx2bChzdHJ1Y3QgaTkxNV9hZGRyZXNz
X3NwYWNlICp2bSwKPiAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoSVNfRVJSKHBkcCkpCj4g
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnb3RvIHVud2luZDsKPiAgCj4gLSAgICAg
ICAgICAgICAgICAgICAgICAgZ2VuOF9pbml0aWFsaXplXzRsdmxfcGRwKHZtLCBwZHApOwo+ICsg
ICAgICAgICAgICAgICAgICAgICAgIGluaXRfcGQodm0sIHBkcCwgdm0tPnNjcmF0Y2hfcGQpOwo+
ICAKPiAgICAgICAgICAgICAgICAgICAgICAgICBvbGQgPSBjbXB4Y2hnKCZwbWw0LT5lbnRyeVtw
bWw0ZV0sIHZtLT5zY3JhdGNoX3BkcCwgcGRwKTsKPiAgICAgICAgICAgICAgICAgICAgICAgICBp
ZiAob2xkID09IHZtLT5zY3JhdGNoX3BkcCkgewo+IEBAIC0xNjQxLDEzICsxNjI3LDE4IEBAIHN0
YXRpYyBzdHJ1Y3QgaTkxNV9wcGd0dCAqZ2VuOF9wcGd0dF9jcmVhdGUoc3RydWN0IGRybV9pOTE1
X3ByaXZhdGUgKmk5MTUpCj4gICAgICAgICB9Cj4gIAo+ICAgICAgICAgaWYgKGk5MTVfdm1faXNf
NGx2bCgmcHBndHQtPnZtKSkgewo+IC0gICAgICAgICAgICAgICBnZW44X2luaXRpYWxpemVfcG1s
NCgmcHBndHQtPnZtLCBwcGd0dC0+cGQpOwo+ICsgICAgICAgICAgICAgICBpbml0X3BkKCZwcGd0
dC0+dm0sIHBwZ3R0LT5wZCwgcHBndHQtPnZtLnNjcmF0Y2hfcGRwKTsKPiAgCj4gICAgICAgICAg
ICAgICAgIHBwZ3R0LT52bS5hbGxvY2F0ZV92YV9yYW5nZSA9IGdlbjhfcHBndHRfYWxsb2NfNGx2
bDsKPiAgICAgICAgICAgICAgICAgcHBndHQtPnZtLmluc2VydF9lbnRyaWVzID0gZ2VuOF9wcGd0
dF9pbnNlcnRfNGx2bDsKPiAgICAgICAgICAgICAgICAgcHBndHQtPnZtLmNsZWFyX3JhbmdlID0g
Z2VuOF9wcGd0dF9jbGVhcl80bHZsOwo+ICAgICAgICAgfSBlbHNlIHsKPiAtICAgICAgICAgICAg
ICAgZ2VuOF9pbml0aWFsaXplXzNsdmxfcGRwKCZwcGd0dC0+dm0sIHBwZ3R0LT5wZCk7Cj4gKyAg
ICAgICAgICAgICAgIC8qCj4gKyAgICAgICAgICAgICAgICAqIFdlIGRvbid0IG5lZWQgdG8gc2V0
dXAgZG1hIGZvciB0b3AgbGV2ZWwgcGRwLCBvbmx5Cj4gKyAgICAgICAgICAgICAgICAqIGZvciBl
bnRyaWVzLiBTbyBwb2ludCBlbnRyaWVzIHRvIHNjcmF0Y2guCj4gKyAgICAgICAgICAgICAgICAq
Lwo+ICsgICAgICAgICAgICAgICBtZW1zZXRfcChwcGd0dC0+cGQtPmVudHJ5LCBwcGd0dC0+dm0u
c2NyYXRjaF9wZCwKPiArICAgICAgICAgICAgICAgICAgICAgICAgR0VOOF8zTFZMX1BEUEVTKTsK
CkhtbSwgSSB3YXMgdGVtcHRlZCB0byBzYXkganVzdCBkbyBpdC4KClJldmlld2VkLWJ5OiBDaHJp
cyBXaWxzb24gPGNocmlzQGNocmlzLXdpbHNvbi5jby51az4KLUNocmlzCl9fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCkludGVsLWdmeCBtYWlsaW5nIGxpc3QK
SW50ZWwtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9w
Lm9yZy9tYWlsbWFuL2xpc3RpbmZvL2ludGVsLWdmeA==

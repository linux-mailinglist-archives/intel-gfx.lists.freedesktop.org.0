Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id C4D21108ABC
	for <lists+intel-gfx@lfdr.de>; Mon, 25 Nov 2019 10:23:17 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 11AE26E05D;
	Mon, 25 Nov 2019 09:23:16 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from fireflyinternet.com (mail.fireflyinternet.com [109.228.58.192])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 413406E05D
 for <intel-gfx@lists.freedesktop.org>; Mon, 25 Nov 2019 09:23:15 +0000 (UTC)
X-Default-Received-SPF: pass (skip=forwardok (res=PASS))
 x-ip-name=78.156.65.138; 
Received: from localhost (unverified [78.156.65.138]) 
 by fireflyinternet.com (Firefly Internet (M1)) with ESMTP (TLS) id
 19326454-1500050 for multiple; Mon, 25 Nov 2019 09:23:14 +0000
MIME-Version: 1.0
From: Chris Wilson <chris@chris-wilson.co.uk>
User-Agent: alot/0.6
To: Mika Kuoppala <mika.kuoppala@linux.intel.com>,
 intel-gfx@lists.freedesktop.org
References: <20191124170524.1436498-1-chris@chris-wilson.co.uk>
 <87r21wmi35.fsf@gaia.fi.intel.com>
In-Reply-To: <87r21wmi35.fsf@gaia.fi.intel.com>
Message-ID: <157467378918.2314.12942863657256326724@skylake-alporthouse-com>
Date: Mon, 25 Nov 2019 09:23:09 +0000
Subject: Re: [Intel-gfx] [CI 1/4] drm/i915/gt: Mark the execlists->active as
 the primary volatile access
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

UXVvdGluZyBNaWthIEt1b3BwYWxhICgyMDE5LTExLTI1IDA5OjE2OjMwKQo+IENocmlzIFdpbHNv
biA8Y2hyaXNAY2hyaXMtd2lsc29uLmNvLnVrPiB3cml0ZXM6Cj4gCj4gPiBTaW5jZSB3ZSB3YW50
IHRvIGRvIGEgbG9ja2xlc3MgcmVhZCBvZiB0aGUgY3VycmVudCBhY3RpdmUgcmVxdWVzdCwgYW5k
Cj4gPiB0aGF0IHJlcXVlc3QgaXMgd3JpdHRlbiB0byBieSBwcm9jZXNzX2NzYiBhbHNvIHdpdGhv
dXQgc2VyaWFsaXNhdGlvbiwgd2UKPiA+IG5lZWQgdG8gaW5zdHJ1Y3QgZ2NjIHRvIHRha2UgY2Fy
ZSBpbiByZWFkaW5nIHRoZSBwb2ludGVyIGl0c2VsZi4KPiA+Cj4gPiBPdGhlcndpc2UsIHdlIGhh
dmUgb2JzZXJ2ZWQgZXhlY2xpc3RzX2FjdGl2ZSgpIHRvIHJlcG9ydCAweDQwLgo+ID4KPiA+IFsg
MjQwMC43NjAzODFdIGlndC9wYXJhLTQwOTggICAgMS4ucy4gMjM3NjQ3OTMwMHVzIDogcHJvY2Vz
c19jc2I6IHJjczAgY3MtaXJxIGhlYWQ9MywgdGFpbD00Cj4gPiBbIDI0MDAuNzYwODI2XSBpZ3Qv
cGFyYS00MDk4ICAgIDEuLnMuIDIzNzY0NzkzMDN1cyA6IHByb2Nlc3NfY3NiOiByY3MwIGNzYls0
XTogc3RhdHVzPTB4MDAwMDAwMDE6MHgwMDAwMDAwMAo+ID4gWyAyNDAwLjc2MTI3MV0gaWd0L3Bh
cmEtNDA5OCAgICAxLi5zLiAyMzc2NDc5MzA2dXMgOiB0cmFjZV9wb3J0czogcmNzMDogcHJvbW90
ZSB7IGI5YzU5OjI2MjIsIGI5YzU1OjI2MjQgfQo+ID4gWyAyNDAwLjc2MTcyNl0gaWd0L3BhcmEt
NDA5NyAgICAwZC4uLiAyMzc2NDc5MzExdXMgOiBfX2k5MTVfc2NoZWR1bGU6IHJjczA6IC0yMTQ3
NDgzNjQ4LT4zLCBpbmZsaWdodDowMDAwMDAwMDAwMDAwMDQwLCBycTpmZmZmODg4MjA4YzFlOTQw
Cj4gCj4gV2hlcmUgaXMgdGhpcyBleGFjdCB0cmFjZXBvaW50PyBNeSBncmVwIHNraWxscyBhcmUg
ZmFpbGluZyBtZS4KCkkgYWRkZWQgdG8gc2VlCmh0dHBzOi8vaW50ZWwtZ2Z4LWNpLjAxLm9yZy90
cmVlL2RybS10aXAvQ0lfRFJNXzczODgvZmktYnN3LW4zMDUwL2lndEBpOTE1X3NlbGZ0ZXN0QGxp
dmVfZ2VtX2NvbnRleHRzLmh0bWwKCj4gPgo+ID4gd2hpY2ggaXMgaW1wb3NzaWJsZSEKPiA+Cj4g
PiBUaGUgYW5zd2VyIGlzIHRoYXQgYXMgd2Uga2VlcCB0aGUgZXhpc3RpbmcgZXhlY2xpc3RzLT5h
Y3RpdmUgcG9pbnRpbmcKPiA+IGludG8gdGhlIGFycmF5IGFzIHdlIGNvcHkgb3ZlciB0aGF0IGFy
cmF5LCB0aGUgdW5zZXJpYWxpc2VkIHJlYWQgbWF5IHNlZQo+ID4gYSBwYXJ0aWFsIHBvaW50ZXIg
dmFsdWUuCj4gCj4gLi4ub3RoZXJ3aXNlIHdlIHdpbGwgc2VlID8KPiAKPiBBbHNvLCB0aGUgMHg0
MCBpcyBib3RoZXJpbmcgbWUgYXMgSSBkaWRuJ3QgZmluZCB0aGUgdHJhY2Vwb2ludC4gSWYgd2UK
PiBvbmx5IGRpc3BsYXllZCBwb2ludGVyIHZhbHVlcywgd2hlcmUgZGlkIHRoZSBvZmZzZXQgYXBw
ZWFyLiAKCkJlY2F1c2Ugd2UgZGlkIGEgYnl0ZS1ieS1ieXRlIGNvcHkgb2YgcGVuZGluZyB0byBp
bmZsaWdodCBhcwpleGVjbGlzdHNfYWN0aXZlKCkgcmVhZHMgKmFjdGl2ZSBbcG9pbnRpbmcgaW50
byBpbmZsaWdodF0KClNvIGluZmxpZ2h0IGlzIGEgcmFuZG9tIG1peCBvZiBOVUxMICsgcnEsIHN0
YXJ0aW5nIGF0IHRoZSBMU0IuCgo+ID4gRml4ZXM6IGRmNDAzMDY5MDI5ZCAoImRybS9pOTE1L2V4
ZWNsaXN0czogTGlmdCBwcm9jZXNzX2NzYigpIG91dCBvZiB0aGUgaXJxLW9mZiBzcGlubG9jayIp
Cj4gPiBTaWduZWQtb2ZmLWJ5OiBDaHJpcyBXaWxzb24gPGNocmlzQGNocmlzLXdpbHNvbi5jby51
az4KPiA+IC0tLQo+ID4gIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2VuZ2luZS5oIHwg
IDQgKy0tLQo+ID4gIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2xyYy5jICAgIHwgMjQg
KysrKysrKysrKysrKystLS0tLS0tLS0tCj4gPiAgMiBmaWxlcyBjaGFuZ2VkLCAxNSBpbnNlcnRp
b25zKCspLCAxMyBkZWxldGlvbnMoLSkKPiA+Cj4gPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUv
ZHJtL2k5MTUvZ3QvaW50ZWxfZW5naW5lLmggYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRl
bF9lbmdpbmUuaAo+ID4gaW5kZXggYmMzYjcyYmZhOWUzLi4wMTc2NWE3ZWMxOGYgMTAwNjQ0Cj4g
PiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9lbmdpbmUuaAo+ID4gKysrIGIv
ZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZW5naW5lLmgKPiA+IEBAIC0xMDAsOSArMTAw
LDcgQEAgZXhlY2xpc3RzX251bV9wb3J0cyhjb25zdCBzdHJ1Y3QgaW50ZWxfZW5naW5lX2V4ZWNs
aXN0cyAqIGNvbnN0IGV4ZWNsaXN0cykKPiA+ICBzdGF0aWMgaW5saW5lIHN0cnVjdCBpOTE1X3Jl
cXVlc3QgKgo+ID4gIGV4ZWNsaXN0c19hY3RpdmUoY29uc3Qgc3RydWN0IGludGVsX2VuZ2luZV9l
eGVjbGlzdHMgKmV4ZWNsaXN0cykKPiA+ICB7Cj4gPiAtICAgICBHRU1fQlVHX09OKGV4ZWNsaXN0
cy0+YWN0aXZlIC0gZXhlY2xpc3RzLT5pbmZsaWdodCA+Cj4gPiAtICAgICAgICAgICAgICAgIGV4
ZWNsaXN0c19udW1fcG9ydHMoZXhlY2xpc3RzKSk7Cj4gPiAtICAgICByZXR1cm4gUkVBRF9PTkNF
KCpleGVjbGlzdHMtPmFjdGl2ZSk7Cj4gPiArICAgICByZXR1cm4gKlJFQURfT05DRShleGVjbGlz
dHMtPmFjdGl2ZSk7Cj4gCj4gWWVzIHRoaXMgc2VlbXMgcHJvcGVyIGFzIHdlIG5lZWQgYXByaW9y
aSByZWFkIGJlZm9yZSBkZWZlcmVuY2luZy4KPiAKPiA+ICB9Cj4gPiAgCj4gPiAgc3RhdGljIGlu
bGluZSB2b2lkCj4gPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxf
bHJjLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9scmMuYwo+ID4gaW5kZXggMGUy
MDY1YTEzZjI0Li4wZDBkY2EzZDY3MjQgMTAwNjQ0Cj4gPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0v
aTkxNS9ndC9pbnRlbF9scmMuYwo+ID4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50
ZWxfbHJjLmMKPiA+IEBAIC0yMTY5LDIzICsyMTY5LDI3IEBAIHN0YXRpYyB2b2lkIHByb2Nlc3Nf
Y3NiKHN0cnVjdCBpbnRlbF9lbmdpbmVfY3MgKmVuZ2luZSkKPiA+ICAgICAgICAgICAgICAgZWxz
ZQo+ID4gICAgICAgICAgICAgICAgICAgICAgIHByb21vdGUgPSBnZW44X2NzYl9wYXJzZShleGVj
bGlzdHMsIGJ1ZiArIDIgKiBoZWFkKTsKPiA+ICAgICAgICAgICAgICAgaWYgKHByb21vdGUpIHsK
PiA+ICsgICAgICAgICAgICAgICAgICAgICBzdHJ1Y3QgaTkxNV9yZXF1ZXN0ICogY29uc3QgKm9s
ZCA9IGV4ZWNsaXN0cy0+YWN0aXZlOwo+ID4gKwo+ID4gKyAgICAgICAgICAgICAgICAgICAgIC8q
IFBvaW50IGFjdGl2ZSB0byB0aGUgbmV3IEVMU1A7IHByZXZlbnQgb3ZlcndyaXRpbmcgKi8KPiA+
ICsgICAgICAgICAgICAgICAgICAgICBXUklURV9PTkNFKGV4ZWNsaXN0cy0+YWN0aXZlLCBleGVj
bGlzdHMtPnBlbmRpbmcpOwo+ID4gKyAgICAgICAgICAgICAgICAgICAgIHNldF90aW1lc2xpY2Uo
ZW5naW5lKTsKPiAKPiBJZiB3ZSBzZXQgdGhlIGFjdGl2ZSB0byBwZW5kaW5nIGhlcmUuLi4KPiAK
PiA+ICsKPiA+ICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWluamVjdF9wcmVlbXB0X2hhbmco
ZXhlY2xpc3RzKSkKPiA+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJpbmdfc2V0X3Bh
dXNlZChlbmdpbmUsIDApOwo+ID4gIAo+ID4gICAgICAgICAgICAgICAgICAgICAgIC8qIGNhbmNl
bCBvbGQgaW5mbGlnaHQsIHByZXBhcmUgZm9yIHN3aXRjaCAqLwo+ID4gLSAgICAgICAgICAgICAg
ICAgICAgIHRyYWNlX3BvcnRzKGV4ZWNsaXN0cywgInByZWVtcHRlZCIsIGV4ZWNsaXN0cy0+YWN0
aXZlKTsKPiA+IC0gICAgICAgICAgICAgICAgICAgICB3aGlsZSAoKmV4ZWNsaXN0cy0+YWN0aXZl
KQo+ID4gLSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhlY2xpc3RzX3NjaGVkdWxlX291
dCgqZXhlY2xpc3RzLT5hY3RpdmUrKyk7Cj4gPiArICAgICAgICAgICAgICAgICAgICAgdHJhY2Vf
cG9ydHMoZXhlY2xpc3RzLCAicHJlZW1wdGVkIiwgb2xkKTsKPiA+ICsgICAgICAgICAgICAgICAg
ICAgICB3aGlsZSAoKm9sZCkKPiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4ZWNs
aXN0c19zY2hlZHVsZV9vdXQoKm9sZCsrKTsKPiA+ICAKPiA+ICAgICAgICAgICAgICAgICAgICAg
ICAvKiBzd2l0Y2ggcGVuZGluZyB0byBpbmZsaWdodCAqLwo+ID4gICAgICAgICAgICAgICAgICAg
ICAgIEdFTV9CVUdfT04oIWFzc2VydF9wZW5kaW5nX3ZhbGlkKGV4ZWNsaXN0cywgInByb21vdGUi
KSk7Cj4gPiAtICAgICAgICAgICAgICAgICAgICAgZXhlY2xpc3RzLT5hY3RpdmUgPQo+ID4gLSAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVtY3B5KGV4ZWNsaXN0cy0+aW5mbGlnaHQsCj4g
PiAtICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhlY2xpc3RzLT5wZW5kaW5n
LAo+ID4gLSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4ZWNsaXN0c19udW1f
cG9ydHMoZXhlY2xpc3RzKSAqCj4gPiAtICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgc2l6ZW9mKCpleGVjbGlzdHMtPnBlbmRpbmcpKTsKPiA+IC0KPiA+IC0gICAgICAgICAgICAg
ICAgICAgICBzZXRfdGltZXNsaWNlKGVuZ2luZSk7Cj4gPiArICAgICAgICAgICAgICAgICAgICAg
V1JJVEVfT05DRShleGVjbGlzdHMtPmFjdGl2ZSwKPiA+ICsgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgIG1lbWNweShleGVjbGlzdHMtPmluZmxpZ2h0LAo+ID4gKyAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgIGV4ZWNsaXN0cy0+cGVuZGluZywKPiA+ICsgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleGVjbGlzdHNfbnVtX3BvcnRzKGV4ZWNs
aXN0cykgKgo+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemVv
ZigqZXhlY2xpc3RzLT5wZW5kaW5nKSkpOwo+IAo+IFdoeSB3ZSByZXdyaXRlIGl0IGluIGhlcmUs
IGlzIHRoZSBwZW5kaW5nIG1vdmluZyBiZW5lYXRoIHVzPwoKWWVzLiBQZW5kaW5nIGlzIHdoZXJl
IHdlIHRyYWNrIHRoZSBuZXh0IHN1Ym1pdCwgaW5mbGlnaHQgKyBhY3RpdmUgdGhlCmN1cnJlbnQu
IHBlbmRpbmdbMF0gPSBOVUxMIGlzIHRoZSBuZXh0IGxpbmUsIGFuZCBwZW5kaW5nW10gaXMgdGhl
biBzZXQKaW4gZGVxdWV1ZS4KLUNocmlzCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fCkludGVsLWdmeCBtYWlsaW5nIGxpc3QKSW50ZWwtZ2Z4QGxpc3RzLmZy
ZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3Rp
bmZvL2ludGVsLWdmeA==

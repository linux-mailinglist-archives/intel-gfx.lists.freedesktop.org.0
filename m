Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 8F65BEE620
	for <lists+intel-gfx@lfdr.de>; Mon,  4 Nov 2019 18:37:35 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id EE1BF6E78E;
	Mon,  4 Nov 2019 17:37:33 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mail-wr1-x444.google.com (mail-wr1-x444.google.com
 [IPv6:2a00:1450:4864:20::444])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 179A66E78E
 for <intel-gfx@lists.freedesktop.org>; Mon,  4 Nov 2019 17:37:32 +0000 (UTC)
Received: by mail-wr1-x444.google.com with SMTP id q13so18103655wrs.12
 for <intel-gfx@lists.freedesktop.org>; Mon, 04 Nov 2019 09:37:32 -0800 (PST)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id:mime-version
 :content-transfer-encoding;
 bh=5lQA5athXhmBuwKd2i0ToGIc/KLSXN4L7pjEazjTndY=;
 b=Vb4Rr6pU8POwyh9+WlxsxveOHKhXq4OjGkv+i4BDqZmF3ZQT52cXlxEyYFSO7FcL/y
 CKfDuuv1KOsi8CgYsg5aXXwpD4uKYJD3NKlZ03BJVS6aHErToIHyOx1xLg94UJZJi1q7
 foestEOn20+RRVWFdqWXSp9k2y4kXp9ZDzKSxlIWHr9QmooGx+2o5HkCGz7CF2Y1eJCw
 m3p0Jl4BYrOQCmw4zOyXHNoA6H2wpcM5yMMSD6pkarIvmhU4BQMkdx66ydLxqqvY3Rs8
 APO4WGYWvn8tcIcDk3oSz3zuvI5mFkus+/ykfWtQDLZ8EGyxH8DU35fzbnjZ1iiInaIA
 TQvQ==
X-Gm-Message-State: APjAAAWfdKcinzbrndsn1SXRq/yNLXvqvrwgsyyZB9regAefA8+bkabN
 WAp9smSMPCyRjV7Ef1BZ2PfXYNWNpxQ=
X-Google-Smtp-Source: APXvYqzUWhTj/HkyxRJab9ruk7BoNQEiMu3iFE/MnVmmv++sRs3bpz5p2QVpWFyiQ+ffmiYSnVANVg==
X-Received: by 2002:a5d:4585:: with SMTP id p5mr3326029wrq.134.1572889050112; 
 Mon, 04 Nov 2019 09:37:30 -0800 (PST)
Received: from phenom.ffwll.local (212-51-149-96.fiber7.init7.net.
 [212.51.149.96])
 by smtp.gmail.com with ESMTPSA id l22sm32408863wrb.45.2019.11.04.09.37.28
 (version=TLS1_3 cipher=TLS_AES_256_GCM_SHA384 bits=256/256);
 Mon, 04 Nov 2019 09:37:28 -0800 (PST)
From: Daniel Vetter <daniel.vetter@ffwll.ch>
To: Intel Graphics Development <intel-gfx@lists.freedesktop.org>
Date: Mon,  4 Nov 2019 18:37:18 +0100
Message-Id: <20191104173720.2696-1-daniel.vetter@ffwll.ch>
X-Mailer: git-send-email 2.24.0.rc2
MIME-Version: 1.0
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=ffwll.ch; s=google;
 h=from:to:cc:subject:date:message-id:mime-version
 :content-transfer-encoding;
 bh=5lQA5athXhmBuwKd2i0ToGIc/KLSXN4L7pjEazjTndY=;
 b=Gxs4ol6sgj3Z/Wnh/dBblOHbDu/e9yL6VlmscfI63qjvWSXQI78IZZuOQLVRXz7cx1
 gei8ht79TRwZ8SOmG48Cf/TLoiATsAOIq+0NW5db+0b3Jc2tHKl/Cue6mKG1SeRrNi2x
 jDG5ebmXycCeSBV57mKJLaU0PmIcyCZJNuBWg=
Subject: [Intel-gfx] [PATCH 1/3] drm/i915: Switch obj->mm.lock lockdep
 annotations on its head
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: Daniel Vetter <daniel.vetter@ffwll.ch>,
 Daniel Vetter <daniel.vetter@intel.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

VGhlIHRyb3VibGUgd2l0aCBoYXZpbmcgYSBwbGFpbiBuZXN0aW5nIGZsYWcgZm9yIGxvY2tzIHdo
aWNoIGRvIG5vdApuYXR1cmFsbHkgbmVzdCAodW5saWtlIGJsb2NrIGRldmljZXMgYW5kIHRoZWly
IHBhcnRpdGlvbnMsIHdoaWNoIGlzCnRoZSBvcmlnaW5hbCBtb3RpdmF0aW9uIGZvciBuZXN0aW5n
IGxldmVscykgaXMgdGhhdCBsb2NrZGVwIHdpbGwKbmV2ZXIgc3BvdCBhIHRydWUgZGVhZGxvY2sg
aWYgeW91IHNjcmV3IHVwLgoKVGhpcyBwYXRjaCBpcyBhbiBhdHRlbXB0IGF0IHRyeWluZyBiZXR0
ZXIsIGJ5IGhpZ2hsaWdodGluZyBhIGJpdCBtb3JlCnRoZSBhY3R1YWwgbmF0dXJlIG9mIHRoZSBu
ZXN0aW5nIHRoYXQncyBnb2luZyBvbi4gRXNzZW50aWFsbHkgd2UgaGF2ZQp0d28ga2luZHMgb2Yg
b2JqZWN0czoKCi0gb2JqZWN0cyB3aXRob3V0IHBhZ2VzIGFsbG9jYXRlZCwgd2hpY2ggY2Fubm90
IGJlIG9uIGFueSBscnUgYW5kIGFyZQogIGhlbmNlIGluYWNjZXNzaWJsZSB0byB0aGUgc2hyaW5r
ZXIuCgotIG9iamVjdHMgd2hpY2ggaGF2ZSBwYWdlcyBhbGxvY2F0ZWQsIHdoaWNoIGFyZSBvbiBh
biBscnUsIGFuZCB3aGljaAogIHRoZSBzaHJpbmtlciBjYW4gZGVjaWRlIHRvIHRocm93IG91dC4K
CkZvciB0aGUgZm9ybWVyIHR5cGUgb2Ygb2JqZWN0LCBtZW1vcnkgYWxsY29hdGlvbnMgd2hpbGUg
aG9sZGluZwpvYmotPm1tLmxvY2sgYXJlIHBlcm1pc3NpYmxlLiBGb3IgdGhlIGxhdHRlciB0aGV5
IGFyZSBub3QuIEFuZApnZXQvcHV0X3BhZ2VzIHRyYW5zaXRpb25zIGJldHdlZW4gdGhlIHR3byB0
eXBlcyBvZiBvYmplY3RzLgoKVGhpcyBpcyBzdGlsbCBub3QgZW50aXJlbHkgZm9vbC1wcm9vZiBz
aW5jZSB0aGUgcnVsZXMgbWlnaHQgY2hhbmNlLgpCdXQgYXMgbG9uZyBhcyB3ZSBydW4gc3VjaCBh
IGNvZGUgZXZlciBhdCBydW50aW1lIGxvY2tkZXAgc2hvdWxkIGJlCmFibGUgdG8gb2JzZXJ2ZSB0
aGUgaW5jb25zaXN0ZW5jeSBhbmQgY29tcGxhaW4gKGxpa2Ugd2l0aCBhbnkgb3RoZXIKbG9ja2Rl
cCBjbGFzcyB0aGF0IHdlJ3ZlIHNwbGl0IHVwIGluIG11bHRpcGxlIGNsYXNzZXMpLiBCdXQgdGhl
cmUgYXJlCmEgZmV3IGNsZWFyIGJlbmVmaXRzOgoKLSBXZSBjYW4gZHJvcCB0aGUgbmVzdGluZyBm
bGFnIHBhcmFtZXRlciBmcm9tCiAgX19pOTE1X2dlbV9vYmplY3RfcHV0X3BhZ2VzLCBiZWNhdXNl
IHRoYXQgZnVuY3Rpb24gYnkgZGVmaW5pdGlvbiBpcwogIG5ldmVyIGdvaW5nIGFsbG9jYXRlIG1l
bW9yeSwgYW5kIGNhbGxpbmcgaXQgb24gYW4gb2JqZWN0IHdoaWNoCiAgZG9lc24ndCBoYXZlIGl0
cyBwYWdlcyBhbGxvY2F0ZWQgd291bGQgYmUgYSBidWcuCgotIFdlIHN0cmljdGx5IGNhdGNoIG1v
cmUgYnVncywgc2luY2UgdGhlcmUncyBub3Qgb25seSBvbmUgcGxhY2UgaW4gdGhlCiAgZW50aXJl
IHRyZWUgd2hpY2ggaXMgYW5ub3RhdGVkIHdpdGggdGhlIHNwZWNpYWwgY2xhc3MuIEFsbCB0aGUK
ICBvdGhlciBwbGFjZXMgdGhhdCBoYWQgZXhwbGljaXQgbG9ja2RlcCBuZXN0aW5nIGFubm90YXRp
b25zIHdlJ3JlIG5vdwogIGdvaW5nIHRvIGxlYXZlIHVwIHRvIGxvY2tkZXAgYWdhaW4uCgotIFNw
ZWNpZmljYWxseSB0aGlzIGNhdGNoZXMgc3R1ZmYgbGlrZSBjYWxsaW5nIGdldF9wYWdlcyBmcm9t
CiAgcHV0X3BhZ2VzICh3aGljaCBpc24ndCByZWFsbHkgYSBnb29kIGlkZWEsIGlmIHdlIGNhbiBj
YWxsIHB1dF9wYWdlcwogIHNvIGNvdWxkIHRoZSBzaHJpbmtlcikuIEkndmUgc2VlbiBwYXRjaGVz
IGRvIGV4YWN0bHkgdGhhdC4KCk9mIGNvdXJzZSBJIGZ1bGx5IGV4cGVjdCBDSSB3aWxsIHNob3cg
bWUgZm9yIHRoZSBmb29sIEkgYW0gd2l0aCB0aGlzCm9uZSBoZXJlIDotKQoKdjI6IFRoZXJlIGNh
biBvbmx5IGJlIG9uZSAobG9ja2RlcCBvbmx5IGhhcyBhIGNhY2hlIGZvciB0aGUgZmlyc3QKc3Vi
Y2xhc3MsIG5vdCBmb3IgZGVlcGVyIG9uZXMsIGFuZCB3ZSBkb24ndCB3YW50IHRvIG1ha2UgdGhl
c2UgbG9ja3MKZXZlbiBzbG93ZXIpLiBTdGlsbCBzZXBhcmF0ZSBlbnVtcyBmb3IgYmV0dGVyIGRv
Y3VtZW50YXRpb24uCgpSZWFsIGZpeDogZG9uIGZvcmdldCBhYm91dCBwaHlzIG9ianMgYW5kIHBp
bl9tYXAoKSwgYW5kIGZpeCB0aGUKc2hyaW5rZXIgdG8gaGF2ZSB0aGUgcmlnaHQgYW5ub3RhdGlv
bnMgLi4uIHNpbGx5IG1lLgoKdjM6IEZvcmdvdCB1c2VydHB0ciB0b28gLi4uCgp2NDogSW1wcm92
ZSBjb21tZW50IGZvciBwYWdlc19waW5fY291bnQsIGRyb3AgdGhlIElNUE9SVEFOVCBjb21tZW50
CmFuZCBpbnN0ZWFkIHByaW1lIGxvY2tkZXAgKENocmlzKS4KCnY1OiBBcHBlYXNlIGNoZWNrcGF0
Y2gsIG5vIGRvdWJsZSBlbXB0eSBsaW5lcyAoQ2hyaXMpCgp2NjogTW9yZSByZWJhc2luZyBvdmVy
IHNlbGZ0ZXN0IGNoYW5nZXMuIEFsc28gc29tZWhvdyBJIGZvcmdvdCB0bwpwdXNoIHRoaXMgcGF0
Y2ggOi0vCgpBbHNvIGZvcm1hdCBjb21tZW50cyBjb25zaXN0ZW50bHkgd2hpbGUgYXQgaXQuCgpD
YzogQ2hyaXMgV2lsc29uIDxjaHJpc0BjaHJpcy13aWxzb24uY28udWs+CkNjOiAiVGFuZywgQ1Ei
IDxjcS50YW5nQGludGVsLmNvbT4KQ2M6IFR2cnRrbyBVcnN1bGluIDx0dnJ0a28udXJzdWxpbkBp
bnRlbC5jb20+CkNjOiBKb29uYXMgTGFodGluZW4gPGpvb25hcy5sYWh0aW5lbkBsaW51eC5pbnRl
bC5jb20+ClJldmlld2VkLWJ5OiBDaHJpcyBXaWxzb24gPGNocmlzQGNocmlzLXdpbHNvbi5jby51
az4gKHY1KQpTaWduZWQtb2ZmLWJ5OiBEYW5pZWwgVmV0dGVyIDxkYW5pZWwudmV0dGVyQGludGVs
LmNvbT4KLS0tCiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fb2JqZWN0LmMgICAg
ICB8IDEyICsrKysrKysrKysrLQogZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX29i
amVjdC5oICAgICAgfCAxNyArKysrKysrKysrKysrKy0tLQogLi4uL2dwdS9kcm0vaTkxNS9nZW0v
aTkxNV9nZW1fb2JqZWN0X3R5cGVzLmggICAgfCAgNiArKysrKy0KIGRyaXZlcnMvZ3B1L2RybS9p
OTE1L2dlbS9pOTE1X2dlbV9wYWdlcy5jICAgICAgIHwgIDkgKysrKy0tLS0tCiBkcml2ZXJzL2dw
dS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fcGh5cy5jICAgICAgICB8ICAyICstCiBkcml2ZXJzL2dw
dS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fc2hyaW5rZXIuYyAgICB8ICA1ICsrLS0tCiBkcml2ZXJz
L2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fdXNlcnB0ci5jICAgICB8ICA0ICsrLS0KIGRyaXZl
cnMvZ3B1L2RybS9pOTE1L2dlbS9zZWxmdGVzdHMvaHVnZV9wYWdlcy5jIHwgMTQgKysrKysrKy0t
LS0tLS0KIC4uLi9kcm0vaTkxNS9zZWxmdGVzdHMvaW50ZWxfbWVtb3J5X3JlZ2lvbi5jICAgIHwg
IDQgKystLQogOSBmaWxlcyBjaGFuZ2VkLCA0OCBpbnNlcnRpb25zKCspLCAyNSBkZWxldGlvbnMo
LSkKCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fb2JqZWN0
LmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fb2JqZWN0LmMKaW5kZXggYTUw
Mjk2Y2NlMGQ4Li4wNzhkNTE1ZDcyYzAgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1
L2dlbS9pOTE1X2dlbV9vYmplY3QuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkx
NV9nZW1fb2JqZWN0LmMKQEAgLTIyLDYgKzIyLDggQEAKICAqCiAgKi8KIAorI2luY2x1ZGUgPGxp
bnV4L3NjaGVkL21tLmg+CisKICNpbmNsdWRlICJkaXNwbGF5L2ludGVsX2Zyb250YnVmZmVyLmgi
CiAjaW5jbHVkZSAiZ3QvaW50ZWxfZ3QuaCIKICNpbmNsdWRlICJpOTE1X2Rydi5oIgpAQCAtNTIs
NiArNTQsMTQgQEAgdm9pZCBpOTE1X2dlbV9vYmplY3RfaW5pdChzdHJ1Y3QgZHJtX2k5MTVfZ2Vt
X29iamVjdCAqb2JqLAogewogCV9fbXV0ZXhfaW5pdCgmb2JqLT5tbS5sb2NrLCAib2JqLT5tbS5s
b2NrIiwga2V5KTsKIAorCWlmIChJU19FTkFCTEVEKENPTkZJR19MT0NLREVQKSkgeworCQltdXRl
eF9sb2NrX25lc3RlZCgmb2JqLT5tbS5sb2NrLCBJOTE1X01NX0dFVF9QQUdFUyk7CisJCWZzX3Jl
Y2xhaW1fYWNxdWlyZShHRlBfS0VSTkVMKTsKKwkJbWlnaHRfbG9jaygmb2JqLT5tbS5sb2NrKTsK
KwkJZnNfcmVjbGFpbV9yZWxlYXNlKEdGUF9LRVJORUwpOworCQltdXRleF91bmxvY2soJm9iai0+
bW0ubG9jayk7CisJfQorCiAJc3Bpbl9sb2NrX2luaXQoJm9iai0+dm1hLmxvY2spOwogCUlOSVRf
TElTVF9IRUFEKCZvYmotPnZtYS5saXN0KTsKIApAQCAtMTg2LDcgKzE5Niw3IEBAIHN0YXRpYyB2
b2lkIF9faTkxNV9nZW1fZnJlZV9vYmplY3RzKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICppOTE1
LAogCQlHRU1fQlVHX09OKCFsaXN0X2VtcHR5KCZvYmotPmx1dF9saXN0KSk7CiAKIAkJYXRvbWlj
X3NldCgmb2JqLT5tbS5wYWdlc19waW5fY291bnQsIDApOwotCQlfX2k5MTVfZ2VtX29iamVjdF9w
dXRfcGFnZXMob2JqLCBJOTE1X01NX05PUk1BTCk7CisJCV9faTkxNV9nZW1fb2JqZWN0X3B1dF9w
YWdlcyhvYmopOwogCQlHRU1fQlVHX09OKGk5MTVfZ2VtX29iamVjdF9oYXNfcGFnZXMob2JqKSk7
CiAJCWJpdG1hcF9mcmVlKG9iai0+Yml0XzE3KTsKIApkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUv
ZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX29iamVjdC5oIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2Vt
L2k5MTVfZ2VtX29iamVjdC5oCmluZGV4IDQ1OGNkNTEzMzFmMS4uZWRhZjcxMjZhODRkIDEwMDY0
NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fb2JqZWN0LmgKKysrIGIv
ZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX29iamVjdC5oCkBAIC0zMTksMTEgKzMx
OSwyMiBAQCBpOTE1X2dlbV9vYmplY3RfdW5waW5fcGFnZXMoc3RydWN0IGRybV9pOTE1X2dlbV9v
YmplY3QgKm9iaikKIAogZW51bSBpOTE1X21tX3N1YmNsYXNzIHsgLyogbG9ja2RlcCBzdWJjbGFz
cyBmb3Igb2JqLT5tbS5sb2NrL3N0cnVjdF9tdXRleCAqLwogCUk5MTVfTU1fTk9STUFMID0gMCwK
LQlJOTE1X01NX1NIUklOS0VSIC8qIGNhbGxlZCAicmVjdXJzaXZlbHkiIGZyb20gZGlyZWN0LXJl
Y2xhaW0tZXNxdWUgKi8KKwkvKgorCSAqIE9ubHkgdXNlZCBieSBzdHJ1Y3RfbXV0ZXgsIHdoZW4g
Y2FsbGVkICJyZWN1cnNpdmVseSIgZnJvbQorCSAqIGRpcmVjdC1yZWNsYWltLWVzcXVlLiBTYWZl
IGJlY2F1c2UgdGhlcmUgaXMgb25seSBldmVyeSBvbmUKKwkgKiBzdHJ1Y3RfbXV0ZXggaW4gdGhl
IGVudGlyZSBzeXN0ZW0uCisJICovCisJSTkxNV9NTV9TSFJJTktFUiA9IDEsCisJLyoKKwkgKiBV
c2VkIGZvciBvYmotPm1tLmxvY2sgd2hlbiBhbGxvY2F0aW5nIHBhZ2VzLiBTYWZlIGJlY2F1c2Ug
dGhlIG9iamVjdAorCSAqIGlzbid0IHlldCBvbiBhbnkgTFJVLCBhbmQgdGhlcmVmb3JlIHRoZSBz
aHJpbmtlciBjYW4ndCBkZWFkbG9jayBvbgorCSAqIGl0LiBBcyBzb29uIGFzIHRoZSBvYmplY3Qg
aGFzIHBhZ2VzLCBvYmotPm1tLmxvY2sgbmVzdHMgd2l0aGluCisJICogZnNfcmVjbGFpbS4KKwkg
Ki8KKwlJOTE1X01NX0dFVF9QQUdFUyA9IDEsCiB9OwogCi1pbnQgX19pOTE1X2dlbV9vYmplY3Rf
cHV0X3BhZ2VzKHN0cnVjdCBkcm1faTkxNV9nZW1fb2JqZWN0ICpvYmosCi0JCQkJZW51bSBpOTE1
X21tX3N1YmNsYXNzIHN1YmNsYXNzKTsKK2ludCBfX2k5MTVfZ2VtX29iamVjdF9wdXRfcGFnZXMo
c3RydWN0IGRybV9pOTE1X2dlbV9vYmplY3QgKm9iaik7CiB2b2lkIGk5MTVfZ2VtX29iamVjdF90
cnVuY2F0ZShzdHJ1Y3QgZHJtX2k5MTVfZ2VtX29iamVjdCAqb2JqKTsKIHZvaWQgaTkxNV9nZW1f
b2JqZWN0X3dyaXRlYmFjayhzdHJ1Y3QgZHJtX2k5MTVfZ2VtX29iamVjdCAqb2JqKTsKIApkaWZm
IC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX29iamVjdF90eXBlcy5o
IGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX29iamVjdF90eXBlcy5oCmluZGV4
IDk2MDA4Mzc0YTQxMi4uMTVmODI5N2RjMzRlIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0v
aTkxNS9nZW0vaTkxNV9nZW1fb2JqZWN0X3R5cGVzLmgKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5
MTUvZ2VtL2k5MTVfZ2VtX29iamVjdF90eXBlcy5oCkBAIC0xNjIsNyArMTYyLDExIEBAIHN0cnVj
dCBkcm1faTkxNV9nZW1fb2JqZWN0IHsKIAlhdG9taWNfdCBiaW5kX2NvdW50OwogCiAJc3RydWN0
IHsKLQkJc3RydWN0IG11dGV4IGxvY2s7IC8qIHByb3RlY3RzIHRoZSBwYWdlcyBhbmQgdGhlaXIg
dXNlICovCisJCS8qCisJCSAqIFByb3RlY3RzIHRoZSBwYWdlcyBhbmQgdGhlaXIgdXNlLiBEbyBu
b3QgdXNlIGRpcmVjdGx5LCBidXQKKwkJICogaW5zdGVhZCBnbyB0aHJvdWdoIHRoZSBwaW4vdW5w
aW4gaW50ZXJmYWNlcy4KKwkJICovCisJCXN0cnVjdCBtdXRleCBsb2NrOwogCQlhdG9taWNfdCBw
YWdlc19waW5fY291bnQ7CiAJCWF0b21pY190IHNocmlua19waW47CiAKZGlmZiAtLWdpdCBhL2Ry
aXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9wYWdlcy5jIGIvZHJpdmVycy9ncHUvZHJt
L2k5MTUvZ2VtL2k5MTVfZ2VtX3BhZ2VzLmMKaW5kZXggMjlmNGMyODUwNzQ1Li5mNDAyYzJjNDE1
YzIgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9wYWdlcy5j
CisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9wYWdlcy5jCkBAIC0xMDYs
NyArMTA2LDcgQEAgaW50IF9faTkxNV9nZW1fb2JqZWN0X2dldF9wYWdlcyhzdHJ1Y3QgZHJtX2k5
MTVfZ2VtX29iamVjdCAqb2JqKQogewogCWludCBlcnI7CiAKLQllcnIgPSBtdXRleF9sb2NrX2lu
dGVycnVwdGlibGUoJm9iai0+bW0ubG9jayk7CisJZXJyID0gbXV0ZXhfbG9ja19pbnRlcnJ1cHRp
YmxlX25lc3RlZCgmb2JqLT5tbS5sb2NrLCBJOTE1X01NX0dFVF9QQUdFUyk7CiAJaWYgKGVycikK
IAkJcmV0dXJuIGVycjsKIApAQCAtMTkwLDggKzE5MCw3IEBAIF9faTkxNV9nZW1fb2JqZWN0X3Vu
c2V0X3BhZ2VzKHN0cnVjdCBkcm1faTkxNV9nZW1fb2JqZWN0ICpvYmopCiAJcmV0dXJuIHBhZ2Vz
OwogfQogCi1pbnQgX19pOTE1X2dlbV9vYmplY3RfcHV0X3BhZ2VzKHN0cnVjdCBkcm1faTkxNV9n
ZW1fb2JqZWN0ICpvYmosCi0JCQkJZW51bSBpOTE1X21tX3N1YmNsYXNzIHN1YmNsYXNzKQoraW50
IF9faTkxNV9nZW1fb2JqZWN0X3B1dF9wYWdlcyhzdHJ1Y3QgZHJtX2k5MTVfZ2VtX29iamVjdCAq
b2JqKQogewogCXN0cnVjdCBzZ190YWJsZSAqcGFnZXM7CiAJaW50IGVycjsKQEAgLTIwMiw3ICsy
MDEsNyBAQCBpbnQgX19pOTE1X2dlbV9vYmplY3RfcHV0X3BhZ2VzKHN0cnVjdCBkcm1faTkxNV9n
ZW1fb2JqZWN0ICpvYmosCiAJR0VNX0JVR19PTihhdG9taWNfcmVhZCgmb2JqLT5iaW5kX2NvdW50
KSk7CiAKIAkvKiBNYXkgYmUgY2FsbGVkIGJ5IHNocmlua2VyIGZyb20gd2l0aGluIGdldF9wYWdl
cygpIChvbiBhbm90aGVyIGJvKSAqLwotCW11dGV4X2xvY2tfbmVzdGVkKCZvYmotPm1tLmxvY2ss
IHN1YmNsYXNzKTsKKwltdXRleF9sb2NrKCZvYmotPm1tLmxvY2spOwogCWlmICh1bmxpa2VseShh
dG9taWNfcmVhZCgmb2JqLT5tbS5wYWdlc19waW5fY291bnQpKSkgewogCQllcnIgPSAtRUJVU1k7
CiAJCWdvdG8gdW5sb2NrOwpAQCAtMzA4LDcgKzMwNyw3IEBAIHZvaWQgKmk5MTVfZ2VtX29iamVj
dF9waW5fbWFwKHN0cnVjdCBkcm1faTkxNV9nZW1fb2JqZWN0ICpvYmosCiAJaWYgKCFpOTE1X2dl
bV9vYmplY3RfdHlwZV9oYXMob2JqLCBmbGFncykpCiAJCXJldHVybiBFUlJfUFRSKC1FTlhJTyk7
CiAKLQllcnIgPSBtdXRleF9sb2NrX2ludGVycnVwdGlibGUoJm9iai0+bW0ubG9jayk7CisJZXJy
ID0gbXV0ZXhfbG9ja19pbnRlcnJ1cHRpYmxlX25lc3RlZCgmb2JqLT5tbS5sb2NrLCBJOTE1X01N
X0dFVF9QQUdFUyk7CiAJaWYgKGVycikKIAkJcmV0dXJuIEVSUl9QVFIoZXJyKTsKIApkaWZmIC0t
Z2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX3BoeXMuYyBiL2RyaXZlcnMv
Z3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9waHlzLmMKaW5kZXggODA0M2ZmNjNkNzNmLi5iMWI3
YzFiMzAzOGEgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9w
aHlzLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX3BoeXMuYwpAQCAt
MTY0LDcgKzE2NCw3IEBAIGludCBpOTE1X2dlbV9vYmplY3RfYXR0YWNoX3BoeXMoc3RydWN0IGRy
bV9pOTE1X2dlbV9vYmplY3QgKm9iaiwgaW50IGFsaWduKQogCWlmIChlcnIpCiAJCXJldHVybiBl
cnI7CiAKLQltdXRleF9sb2NrKCZvYmotPm1tLmxvY2spOworCW11dGV4X2xvY2tfbmVzdGVkKCZv
YmotPm1tLmxvY2ssIEk5MTVfTU1fR0VUX1BBR0VTKTsKIAogCWlmIChvYmotPm1tLm1hZHYgIT0g
STkxNV9NQURWX1dJTExORUVEKSB7CiAJCWVyciA9IC1FRkFVTFQ7CmRpZmYgLS1naXQgYS9kcml2
ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fc2hyaW5rZXIuYyBiL2RyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2dlbS9pOTE1X2dlbV9zaHJpbmtlci5jCmluZGV4IGZkM2NlNmRhODQ5Ny4uMDY2YjNk
ZjY3N2U4IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fc2hy
aW5rZXIuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fc2hyaW5rZXIu
YwpAQCAtNTcsNyArNTcsNyBAQCBzdGF0aWMgYm9vbCB1bnNhZmVfZHJvcF9wYWdlcyhzdHJ1Y3Qg
ZHJtX2k5MTVfZ2VtX29iamVjdCAqb2JqLAogCQlmbGFncyA9IEk5MTVfR0VNX09CSkVDVF9VTkJJ
TkRfQUNUSVZFOwogCiAJaWYgKGk5MTVfZ2VtX29iamVjdF91bmJpbmQob2JqLCBmbGFncykgPT0g
MCkKLQkJX19pOTE1X2dlbV9vYmplY3RfcHV0X3BhZ2VzKG9iaiwgSTkxNV9NTV9TSFJJTktFUik7
CisJCV9faTkxNV9nZW1fb2JqZWN0X3B1dF9wYWdlcyhvYmopOwogCiAJcmV0dXJuICFpOTE1X2dl
bV9vYmplY3RfaGFzX3BhZ2VzKG9iaik7CiB9CkBAIC0yMDksOCArMjA5LDcgQEAgaTkxNV9nZW1f
c2hyaW5rKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICppOTE1LAogCiAJCQlpZiAodW5zYWZlX2Ry
b3BfcGFnZXMob2JqLCBzaHJpbmspKSB7CiAJCQkJLyogTWF5IGFycml2ZSBmcm9tIGdldF9wYWdl
cyBvbiBhbm90aGVyIGJvICovCi0JCQkJbXV0ZXhfbG9ja19uZXN0ZWQoJm9iai0+bW0ubG9jaywK
LQkJCQkJCSAgSTkxNV9NTV9TSFJJTktFUik7CisJCQkJbXV0ZXhfbG9jaygmb2JqLT5tbS5sb2Nr
KTsKIAkJCQlpZiAoIWk5MTVfZ2VtX29iamVjdF9oYXNfcGFnZXMob2JqKSkgewogCQkJCQl0cnlf
dG9fd3JpdGViYWNrKG9iaiwgc2hyaW5rKTsKIAkJCQkJY291bnQgKz0gb2JqLT5iYXNlLnNpemUg
Pj4gUEFHRV9TSElGVDsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1
X2dlbV91c2VycHRyLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fdXNlcnB0
ci5jCmluZGV4IDFlMDQ1YzMzNzA0NC4uZWU2NWM2YWNmMGUyIDEwMDY0NAotLS0gYS9kcml2ZXJz
L2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fdXNlcnB0ci5jCisrKyBiL2RyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2dlbS9pOTE1X2dlbV91c2VycHRyLmMKQEAgLTEzMSw3ICsxMzEsNyBAQCB1c2VycHRy
X21uX2ludmFsaWRhdGVfcmFuZ2Vfc3RhcnQoc3RydWN0IG1tdV9ub3RpZmllciAqX21uLAogCQly
ZXQgPSBpOTE1X2dlbV9vYmplY3RfdW5iaW5kKG9iaiwKIAkJCQkJICAgICBJOTE1X0dFTV9PQkpF
Q1RfVU5CSU5EX0FDVElWRSk7CiAJCWlmIChyZXQgPT0gMCkKLQkJCXJldCA9IF9faTkxNV9nZW1f
b2JqZWN0X3B1dF9wYWdlcyhvYmosIEk5MTVfTU1fU0hSSU5LRVIpOworCQkJcmV0ID0gX19pOTE1
X2dlbV9vYmplY3RfcHV0X3BhZ2VzKG9iaik7CiAJCWk5MTVfZ2VtX29iamVjdF9wdXQob2JqKTsK
IAkJaWYgKHJldCkKIAkJCXJldHVybiByZXQ7CkBAIC00ODMsNyArNDgzLDcgQEAgX19pOTE1X2dl
bV91c2VycHRyX2dldF9wYWdlc193b3JrZXIoc3RydWN0IHdvcmtfc3RydWN0ICpfd29yaykKIAkJ
fQogCX0KIAotCW11dGV4X2xvY2soJm9iai0+bW0ubG9jayk7CisJbXV0ZXhfbG9ja19uZXN0ZWQo
Jm9iai0+bW0ubG9jaywgSTkxNV9NTV9HRVRfUEFHRVMpOwogCWlmIChvYmotPnVzZXJwdHIud29y
ayA9PSAmd29yay0+d29yaykgewogCQlzdHJ1Y3Qgc2dfdGFibGUgKnBhZ2VzID0gRVJSX1BUUihy
ZXQpOwogCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vc2VsZnRlc3RzL2h1
Z2VfcGFnZXMuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9zZWxmdGVzdHMvaHVnZV9wYWdl
cy5jCmluZGV4IDY4OGM0OWEyNGYzMi4uNWM5NTgzMzQ5MDc3IDEwMDY0NAotLS0gYS9kcml2ZXJz
L2dwdS9kcm0vaTkxNS9nZW0vc2VsZnRlc3RzL2h1Z2VfcGFnZXMuYworKysgYi9kcml2ZXJzL2dw
dS9kcm0vaTkxNS9nZW0vc2VsZnRlc3RzL2h1Z2VfcGFnZXMuYwpAQCAtNTE3LDcgKzUxNyw3IEBA
IHN0YXRpYyBpbnQgaWd0X21vY2tfbWVtb3J5X3JlZ2lvbl9odWdlX3BhZ2VzKHZvaWQgKmFyZykK
IAkJCWk5MTVfdm1hX3VucGluKHZtYSk7CiAJCQlpOTE1X3ZtYV9jbG9zZSh2bWEpOwogCi0JCQlf
X2k5MTVfZ2VtX29iamVjdF9wdXRfcGFnZXMob2JqLCBJOTE1X01NX05PUk1BTCk7CisJCQlfX2k5
MTVfZ2VtX29iamVjdF9wdXRfcGFnZXMob2JqKTsKIAkJCWk5MTVfZ2VtX29iamVjdF9wdXQob2Jq
KTsKIAkJfQogCX0KQEAgLTY1MCw3ICs2NTAsNyBAQCBzdGF0aWMgaW50IGlndF9tb2NrX3BwZ3R0
X21pc2FsaWduZWRfZG1hKHZvaWQgKmFyZykKIAkJaTkxNV92bWFfY2xvc2Uodm1hKTsKIAogCQlp
OTE1X2dlbV9vYmplY3RfdW5waW5fcGFnZXMob2JqKTsKLQkJX19pOTE1X2dlbV9vYmplY3RfcHV0
X3BhZ2VzKG9iaiwgSTkxNV9NTV9OT1JNQUwpOworCQlfX2k5MTVfZ2VtX29iamVjdF9wdXRfcGFn
ZXMob2JqKTsKIAkJaTkxNV9nZW1fb2JqZWN0X3B1dChvYmopOwogCX0KIApAQCAtNjc4LDcgKzY3
OCw3IEBAIHN0YXRpYyB2b2lkIGNsb3NlX29iamVjdF9saXN0KHN0cnVjdCBsaXN0X2hlYWQgKm9i
amVjdHMsCiAKIAkJbGlzdF9kZWwoJm9iai0+c3RfbGluayk7CiAJCWk5MTVfZ2VtX29iamVjdF91
bnBpbl9wYWdlcyhvYmopOwotCQlfX2k5MTVfZ2VtX29iamVjdF9wdXRfcGFnZXMob2JqLCBJOTE1
X01NX05PUk1BTCk7CisJCV9faTkxNV9nZW1fb2JqZWN0X3B1dF9wYWdlcyhvYmopOwogCQlpOTE1
X2dlbV9vYmplY3RfcHV0KG9iaik7CiAJfQogfQpAQCAtOTQ4LDcgKzk0OCw3IEBAIHN0YXRpYyBp
bnQgaWd0X21vY2tfcHBndHRfNjRLKHZvaWQgKmFyZykKIAkJCWk5MTVfdm1hX2Nsb3NlKHZtYSk7
CiAKIAkJCWk5MTVfZ2VtX29iamVjdF91bnBpbl9wYWdlcyhvYmopOwotCQkJX19pOTE1X2dlbV9v
YmplY3RfcHV0X3BhZ2VzKG9iaiwgSTkxNV9NTV9OT1JNQUwpOworCQkJX19pOTE1X2dlbV9vYmpl
Y3RfcHV0X3BhZ2VzKG9iaik7CiAJCQlpOTE1X2dlbV9vYmplY3RfcHV0KG9iaik7CiAJCX0KIAl9
CkBAIC0xMzAxLDcgKzEzMDEsNyBAQCBzdGF0aWMgaW50IGlndF9wcGd0dF9leGhhdXN0X2h1Z2Uo
dm9pZCAqYXJnKQogCQkJfQogCiAJCQlpOTE1X2dlbV9vYmplY3RfdW5waW5fcGFnZXMob2JqKTsK
LQkJCV9faTkxNV9nZW1fb2JqZWN0X3B1dF9wYWdlcyhvYmosIEk5MTVfTU1fTk9STUFMKTsKKwkJ
CV9faTkxNV9nZW1fb2JqZWN0X3B1dF9wYWdlcyhvYmopOwogCQkJaTkxNV9nZW1fb2JqZWN0X3B1
dChvYmopOwogCQl9CiAJfQpAQCAtMTQ0Miw3ICsxNDQyLDcgQEAgc3RhdGljIGludCBpZ3RfcHBn
dHRfc21va2VfaHVnZSh2b2lkICphcmcpCiAJCX0KIG91dF91bnBpbjoKIAkJaTkxNV9nZW1fb2Jq
ZWN0X3VucGluX3BhZ2VzKG9iaik7Ci0JCV9faTkxNV9nZW1fb2JqZWN0X3B1dF9wYWdlcyhvYmos
IEk5MTVfTU1fTk9STUFMKTsKKwkJX19pOTE1X2dlbV9vYmplY3RfcHV0X3BhZ2VzKG9iaik7CiBv
dXRfcHV0OgogCQlpOTE1X2dlbV9vYmplY3RfcHV0KG9iaik7CiAKQEAgLTE1MzAsNyArMTUzMCw3
IEBAIHN0YXRpYyBpbnQgaWd0X3BwZ3R0X3Nhbml0eV9jaGVjayh2b2lkICphcmcpCiAJCQllcnIg
PSBpZ3Rfd3JpdGVfaHVnZShjdHgsIG9iaik7CiAKIAkJCWk5MTVfZ2VtX29iamVjdF91bnBpbl9w
YWdlcyhvYmopOwotCQkJX19pOTE1X2dlbV9vYmplY3RfcHV0X3BhZ2VzKG9iaiwgSTkxNV9NTV9O
T1JNQUwpOworCQkJX19pOTE1X2dlbV9vYmplY3RfcHV0X3BhZ2VzKG9iaik7CiAJCQlpOTE1X2dl
bV9vYmplY3RfcHV0KG9iaik7CiAKIAkJCWlmIChlcnIpIHsKZGlmZiAtLWdpdCBhL2RyaXZlcnMv
Z3B1L2RybS9pOTE1L3NlbGZ0ZXN0cy9pbnRlbF9tZW1vcnlfcmVnaW9uLmMgYi9kcml2ZXJzL2dw
dS9kcm0vaTkxNS9zZWxmdGVzdHMvaW50ZWxfbWVtb3J5X3JlZ2lvbi5jCmluZGV4IDE5ZTFjY2E4
ZjE0My4uOTVkNjA5YWJkMzliIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9zZWxm
dGVzdHMvaW50ZWxfbWVtb3J5X3JlZ2lvbi5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L3Nl
bGZ0ZXN0cy9pbnRlbF9tZW1vcnlfcmVnaW9uLmMKQEAgLTMyLDcgKzMyLDcgQEAgc3RhdGljIHZv
aWQgY2xvc2Vfb2JqZWN0cyhzdHJ1Y3QgaW50ZWxfbWVtb3J5X3JlZ2lvbiAqbWVtLAogCQlpZiAo
aTkxNV9nZW1fb2JqZWN0X2hhc19waW5uZWRfcGFnZXMob2JqKSkKIAkJCWk5MTVfZ2VtX29iamVj
dF91bnBpbl9wYWdlcyhvYmopOwogCQkvKiBObyBwb2xsdXRpbmcgdGhlIG1lbW9yeSByZWdpb24g
YmV0d2VlbiB0ZXN0cyAqLwotCQlfX2k5MTVfZ2VtX29iamVjdF9wdXRfcGFnZXMob2JqLCBJOTE1
X01NX05PUk1BTCk7CisJCV9faTkxNV9nZW1fb2JqZWN0X3B1dF9wYWdlcyhvYmopOwogCQlsaXN0
X2RlbCgmb2JqLT5zdF9saW5rKTsKIAkJaTkxNV9nZW1fb2JqZWN0X3B1dChvYmopOwogCX0KQEAg
LTEyMiw3ICsxMjIsNyBAQCBpZ3Rfb2JqZWN0X2NyZWF0ZShzdHJ1Y3QgaW50ZWxfbWVtb3J5X3Jl
Z2lvbiAqbWVtLAogc3RhdGljIHZvaWQgaWd0X29iamVjdF9yZWxlYXNlKHN0cnVjdCBkcm1faTkx
NV9nZW1fb2JqZWN0ICpvYmopCiB7CiAJaTkxNV9nZW1fb2JqZWN0X3VucGluX3BhZ2VzKG9iaik7
Ci0JX19pOTE1X2dlbV9vYmplY3RfcHV0X3BhZ2VzKG9iaiwgSTkxNV9NTV9OT1JNQUwpOworCV9f
aTkxNV9nZW1fb2JqZWN0X3B1dF9wYWdlcyhvYmopOwogCWxpc3RfZGVsKCZvYmotPnN0X2xpbmsp
OwogCWk5MTVfZ2VtX29iamVjdF9wdXQob2JqKTsKIH0KLS0gCjIuMjQuMC5yYzIKCl9fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCkludGVsLWdmeCBtYWlsaW5n
IGxpc3QKSW50ZWwtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVk
ZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2ludGVsLWdmeA==

Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 479F223AC8
	for <lists+intel-gfx@lfdr.de>; Mon, 20 May 2019 16:47:50 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id B5BE489229;
	Mon, 20 May 2019 14:47:47 +0000 (UTC)
X-Original-To: Intel-gfx@lists.freedesktop.org
Delivered-To: Intel-gfx@lists.freedesktop.org
Received: from mga04.intel.com (mga04.intel.com [192.55.52.120])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 3700089229;
 Mon, 20 May 2019 14:47:44 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from fmsmga007.fm.intel.com ([10.253.24.52])
 by fmsmga104.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 20 May 2019 07:47:44 -0700
X-ExtLoop1: 1
Received: from dmironox-mobl5.ccr.corp.intel.com (HELO localhost.localdomain)
 ([10.252.20.122])
 by fmsmga007.fm.intel.com with ESMTP; 20 May 2019 07:47:42 -0700
From: Tvrtko Ursulin <tvrtko.ursulin@linux.intel.com>
To: igt-dev@lists.freedesktop.org
Date: Mon, 20 May 2019 15:47:13 +0100
Message-Id: <20190520144739.13111-2-tvrtko.ursulin@linux.intel.com>
X-Mailer: git-send-email 2.20.1
In-Reply-To: <20190520144739.13111-1-tvrtko.ursulin@linux.intel.com>
References: <20190520144739.13111-1-tvrtko.ursulin@linux.intel.com>
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH i-g-t 01/27] scripts/trace.pl: Fix after
 intel_engine_notify removal
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: Intel-gfx@lists.freedesktop.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

RnJvbTogVHZydGtvIFVyc3VsaW4gPHR2cnRrby51cnN1bGluQGludGVsLmNvbT4KCkFmdGVyIHRo
ZSByZW1vdmFsIG9mIGVuZ2luZSBnbG9iYWwgc2Vxbm9zIGFuZCB0aGUgY29ycmVzcG9uZGluZwpp
bnRlbF9lbmdpbmVfbm90aWZ5IHRyYWNlcG9pbnRzIHRoZSBzY3JpcHQgbmVlZHMgdG8gYmUgYWRq
dXN0ZWQgdG8gY29wZQp3aXRoIHRoZSBuZXcgc3RhdGUgb2YgdGhpbmdzLgoKVG8ga2VlcCB3b3Jr
aW5nIGl0IHN3aXRjaGVzIG92ZXIgdXNpbmcgdGhlIGRtYV9mZW5jZTpkbWFfZmVuY2Vfc2lnbmFs
ZWQ6CnRyYWNlcG9pbnQgYW5kIGtlZXBzIG9uZSBleHRyYSBpbnRlcm5hbCBtYXAgdG8gY29ubmVj
dCB0aGUgY3R4LXNlcW5vIHBhaXJzCndpdGggZW5naW5lcy4KCkl0IGFsc28gbmVlZHMgdG8ga2V5
IHRoZSBjb21wbGV0aW9uIGV2ZW50cyBvbiB0aGUgZnVsbCBlbmdpbmUvY3R4L3NlcW5vCnRva2Vu
cywgYW5kIGFkanVzdCBjb3JyZXNwb25kaW5nbHkgdGhlIHRpbWVsaW5lIHNvcnRpbmcgbG9naWMu
Cgp2MjoKICogRG8gbm90IHVzZSBsYXRlIG5vdGlmaWNhdGlvbnMgKHJlY2VpdmVkIGFmdGVyIGNv
bnRleHQgY29tcGxldGUpIHdoZW4KICAgc3BsaXR0aW5nIHVwIGNvYWxlc2NlZCByZXF1ZXN0cy4g
VGhleSBhcmUgbm93IG11Y2ggbW9yZSBsaWtlbHkgYW5kIGNhbgogICBub3QgYmUgdXNlZC4KCnYz
OgogKiBQdWxsIGEgaHVuayB3aGljaCBtb3ZlZCBmb3J3YXJkIGR1cmluZyByZWJhc2VzIGJhY2sg
aGVyZS4KCnY0OgogKiBEcm9wIGN0eGVuZ2luZXMgYXBwcm9hY2ggc2luY2UgaXQgY2Fubm90IGhh
bmRsZSByZXF1ZXN0cyBtb3ZpbmcgYWNyb3NzCiAgIGVuZ2luZXMuIGN0eC9zZXFubyBwYWlyIGlz
IHVuaXF1ZSBhbnl3YXkgc28gZW5vdWdoLgoKU2lnbmVkLW9mZi1ieTogVHZydGtvIFVyc3VsaW4g
PHR2cnRrby51cnN1bGluQGludGVsLmNvbT4KUmV2aWV3ZWQtYnk6IENocmlzIFdpbHNvbiA8Y2hy
aXNAY2hyaXMtd2lsc29uLmNvLnVrPiAjIHYzCi0tLQogc2NyaXB0cy90cmFjZS5wbCB8IDY5ICsr
KysrKysrKysrKysrKysrKysrKysrLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogMSBmaWxlIGNo
YW5nZWQsIDMzIGluc2VydGlvbnMoKyksIDM2IGRlbGV0aW9ucygtKQoKZGlmZiAtLWdpdCBhL3Nj
cmlwdHMvdHJhY2UucGwgYi9zY3JpcHRzL3RyYWNlLnBsCmluZGV4IDE4ZjlmM2IxODM5Ni4uOGM4
OTZjZmRlNmIwIDEwMDc1NQotLS0gYS9zY3JpcHRzL3RyYWNlLnBsCisrKyBiL3NjcmlwdHMvdHJh
Y2UucGwKQEAgLTI3LDcgKzI3LDggQEAgdXNlIHdhcm5pbmdzOwogdXNlIDUuMDEwOwogCiBteSAk
Z2lkID0gMDsKLW15ICglZGIsICVxdWV1ZSwgJXN1Ym1pdCwgJW5vdGlmeSwgJXJpbmdzLCAlY3R4
ZGIsICVyaW5nbWFwLCAlcmVxd2FpdCwgJWN0eHRpbWVsaW5lcyk7CitteSAoJWRiLCAlcXVldWUs
ICVzdWJtaXQsICVub3RpZnksICVyaW5ncywgJWN0eGRiLCAlcmluZ21hcCwgJXJlcXdhaXQsCisg
ICAgJWN0eHRpbWVsaW5lcyk7CiBteSBAZnJlcXM7CiAKIG15ICRtYXhfaXRlbXMgPSAzMDAwOwpA
QCAtNjYsNyArNjcsNyBAQCBOb3RlczoKIAkJCSAgICAgICBpOTE1Omk5MTVfcmVxdWVzdF9zdWJt
aXQsIFwKIAkJCSAgICAgICBpOTE1Omk5MTVfcmVxdWVzdF9pbiwgXAogCQkJICAgICAgIGk5MTU6
aTkxNV9yZXF1ZXN0X291dCwgXAotCQkJICAgICAgIGk5MTU6aW50ZWxfZW5naW5lX25vdGlmeSwg
XAorCQkJICAgICAgIGRtYV9mZW5jZTpkbWFfZmVuY2Vfc2lnbmFsZWQsIFwKIAkJCSAgICAgICBp
OTE1Omk5MTVfcmVxdWVzdF93YWl0X2JlZ2luLCBcCiAJCQkgICAgICAgaTkxNTppOTE1X3JlcXVl
c3Rfd2FpdF9lbmQgXAogCQkJICAgICAgIFtjb21tYW5kLXRvLWJlLXByb2ZpbGVkXQpAQCAtMTYx
LDcgKzE2Miw3IEBAIHN1YiBhcmdfdHJhY2UKIAkJICAgICAgICdpOTE1Omk5MTVfcmVxdWVzdF9z
dWJtaXQnLAogCQkgICAgICAgJ2k5MTU6aTkxNV9yZXF1ZXN0X2luJywKIAkJICAgICAgICdpOTE1
Omk5MTVfcmVxdWVzdF9vdXQnLAotCQkgICAgICAgJ2k5MTU6aW50ZWxfZW5naW5lX25vdGlmeScs
CisJCSAgICAgICAnZG1hX2ZlbmNlOmRtYV9mZW5jZV9zaWduYWxlZCcsCiAJCSAgICAgICAnaTkx
NTppOTE1X3JlcXVlc3Rfd2FpdF9iZWdpbicsCiAJCSAgICAgICAnaTkxNTppOTE1X3JlcXVlc3Rf
d2FpdF9lbmQnICk7CiAKQEAgLTMxMiwxMSArMzEzLDExIEBAIHN1YiBkYl9rZXkKIAlyZXR1cm4g
JHJpbmcgLiAnLycgLiAkY3R4IC4gJy8nIC4gJHNlcW5vOwogfQogCi1zdWIgZ2xvYmFsX2tleQor
c3ViIG5vdGlmeV9rZXkKIHsKLQlteSAoJHJpbmcsICRzZXFubykgPSBAXzsKKwlteSAoJGN0eCwg
JHNlcW5vKSA9IEBfOwogCi0JcmV0dXJuICRyaW5nIC4gJy8nIC4gJHNlcW5vOworCXJldHVybiAk
Y3R4IC4gJy8nIC4gJHNlcW5vOwogfQogCiBzdWIgc2FuaXRpemVfY3R4CkBAIC00MjksMTggKzQz
MCwyMyBAQCB3aGlsZSAoPD4pIHsKIAkJJHJpbmdtYXB7JHJpbmdzeyRyaW5nfX0gPSAkcmluZzsK
IAkJJGRieyRrZXl9ID0gXCVyZXE7CiAJfSBlbHNpZiAoJHRwX25hbWUgZXEgJ2k5MTU6aTkxNV9y
ZXF1ZXN0X291dDonKSB7Ci0JCW15ICRna2V5ID0gZ2xvYmFsX2tleSgkcmluZywgJHRweydnbG9i
YWwnfSk7CisJCW15ICRua2V5OwogCiAJCWRpZSB1bmxlc3MgZXhpc3RzICRkYnska2V5fTsKIAkJ
ZGllIHVubGVzcyBleGlzdHMgJGRieyRrZXl9LT57J3N0YXJ0J307CiAJCWRpZSBpZiBleGlzdHMg
JGRieyRrZXl9LT57J2VuZCd9OwogCisJCSRua2V5ID0gbm90aWZ5X2tleSgkY3R4LCAkc2Vxbm8p
OworCiAJCSRkYnska2V5fS0+eydlbmQnfSA9ICR0aW1lOwotCQkkZGJ7JGtleX0tPnsnbm90aWZ5
J30gPSAkbm90aWZ5eyRna2V5fSBpZiBleGlzdHMgJG5vdGlmeXskZ2tleX07Ci0JfSBlbHNpZiAo
JHRwX25hbWUgZXEgJ2k5MTU6aW50ZWxfZW5naW5lX25vdGlmeTonKSB7Ci0JCW15ICRna2V5ID0g
Z2xvYmFsX2tleSgkcmluZywgJHNlcW5vKTsKKwkJJGRieyRrZXl9LT57J25vdGlmeSd9ID0gJG5v
dGlmeXskbmtleX0gaWYgZXhpc3RzICRub3RpZnl7JG5rZXl9OworCX0gZWxzaWYgKCR0cF9uYW1l
IGVxICdkbWFfZmVuY2U6ZG1hX2ZlbmNlX3NpZ25hbGVkOicpIHsKKwkJbXkgJG5rZXk7CisKKwkJ
JG5rZXkgPSBub3RpZnlfa2V5KCR0cHsnY29udGV4dCd9LCAkdHB7J3NlcW5vJ30pOwogCi0JCSRu
b3RpZnl7JGdrZXl9ID0gJHRpbWUgdW5sZXNzIGV4aXN0cyAkbm90aWZ5eyRna2V5fTsKKwkJZGll
IGlmIGV4aXN0cyAkbm90aWZ5eyRua2V5fTsKKwkJJG5vdGlmeXskbmtleX0gPSAkdGltZSB1bmxl
c3MgZXhpc3RzICRub3RpZnl7JG5rZXl9OwogCX0gZWxzaWYgKCR0cF9uYW1lIGVxICdpOTE1Omlu
dGVsX2dwdV9mcmVxX2NoYW5nZTonKSB7CiAJCXB1c2ggQGZyZXFzLCBbJHByZXZfZnJlcV90cywg
JHRpbWUsICRwcmV2X2ZyZXFdIGlmICRwcmV2X2ZyZXE7CiAJCSRwcmV2X2ZyZXFfdHMgPSAkdGlt
ZTsKQEAgLTQ1MiwxNSArNDU4LDE1IEBAIHdoaWxlICg8PikgewogIyBmaW5kIHRoZSBsYXJnZXN0
IHNlcW5vIHRvIGJlIHVzZWQgZm9yIHRpbWVsaW5lIHNvcnRpbmcgcHVycG9zZXMuCiBteSAkbWF4
X3NlcW5vID0gMDsKIGZvcmVhY2ggbXkgJGtleSAoa2V5cyAlZGIpIHsKLQlteSAkZ2tleSA9IGds
b2JhbF9rZXkoJGRieyRrZXl9LT57J3JpbmcnfSwgJGRieyRrZXl9LT57J2dsb2JhbCd9KTsKKwlt
eSAkbmtleSA9IG5vdGlmeV9rZXkoJGRieyRrZXl9LT57J2N0eCd9LCAkZGJ7JGtleX0tPnsnc2Vx
bm8nfSk7CiAKIAlkaWUgdW5sZXNzIGV4aXN0cyAkZGJ7JGtleX0tPnsnc3RhcnQnfTsKIAogCSRt
YXhfc2Vxbm8gPSAkZGJ7JGtleX0tPnsnc2Vxbm8nfSBpZiAkZGJ7JGtleX0tPnsnc2Vxbm8nfSA+
ICRtYXhfc2Vxbm87CiAKIAkjIE5vdGlmeSBhcnJpdmVkIGFmdGVyIGNvbnRleHQgY29tcGxldGU/
Ci0JJGRieyRrZXl9LT57J25vdGlmeSd9ID0gJG5vdGlmeXskZ2tleX0gaWYgbm90IGV4aXN0cyAk
ZGJ7JGtleX0tPnsnbm90aWZ5J30KLQkJCQkJCSAgYW5kIGV4aXN0cyAkbm90aWZ5eyRna2V5fTsK
KwkkZGJ7JGtleX0tPnsnbm90aWZ5J30gPSAkbm90aWZ5eyRua2V5fSBpZiBub3QgZXhpc3RzICRk
Ynska2V5fS0+eydub3RpZnknfQorCQkJCQkJICBhbmQgZXhpc3RzICRub3RpZnl7JG5rZXl9Owog
CiAJIyBObyBub3RpZnkgYnV0IHdlIGhhdmUgZW5kPwogCSRkYnska2V5fS0+eydub3RpZnknfSA9
ICRkYnska2V5fS0+eydlbmQnfSBpZiBleGlzdHMgJGRieyRrZXl9LT57J2VuZCd9IGFuZApAQCAt
NDc4LDE0ICs0ODQsMTMgQEAgbXkgJGtleV9jb3VudCA9IHNjYWxhcihrZXlzICVkYik7CiAKIG15
ICVlbmdpbmVfdGltZWxpbmVzOwogCi1zdWIgc29ydEVuZ2luZSB7Ci0JbXkgJGFzID0gJGRieyRh
fS0+eydnbG9iYWwnfTsKLQlteSAkYnMgPSAkZGJ7JGJ9LT57J2dsb2JhbCd9Oworc3ViIHNvcnRT
dGFydCB7CisJbXkgJGFzID0gJGRieyRhfS0+eydzdGFydCd9OworCW15ICRicyA9ICRkYnskYn0t
Pnsnc3RhcnQnfTsKIAlteSAkdmFsOwogCiAJJHZhbCA9ICRhcyA8PT4gJGJzOwotCi0JZGllIGlm
ICR2YWwgPT0gMDsKKwkkdmFsID0gJGEgY21wICRiIGlmICR2YWwgPT0gMDsKIAogCXJldHVybiAk
dmFsOwogfQpAQCAtNDk3LDkgKzUwMiw3IEBAIHN1YiBnZXRfZW5naW5lX3RpbWVsaW5lIHsKIAly
ZXR1cm4gJGVuZ2luZV90aW1lbGluZXN7JHJpbmd9IGlmIGV4aXN0cyAkZW5naW5lX3RpbWVsaW5l
c3skcmluZ307CiAKIAlAdGltZWxpbmUgPSBncmVwIHsgJGRieyRffS0+eydyaW5nJ30gZXEgJHJp
bmcgfSBrZXlzICVkYjsKLQkjIEZJWE1FIHNlcW5vIHJlc3RhcnQKLQlAdGltZWxpbmUgPSBzb3J0
IHNvcnRFbmdpbmUgQHRpbWVsaW5lOwotCisJQHRpbWVsaW5lID0gc29ydCBzb3J0U3RhcnQgQHRp
bWVsaW5lOwogCSRlbmdpbmVfdGltZWxpbmVzeyRyaW5nfSA9IFxAdGltZWxpbmU7CiAKIAlyZXR1
cm4gXEB0aW1lbGluZTsKQEAgLTU2MSwyMCArNTY0LDEwIEBAIGZvcmVhY2ggbXkgJGdpZCAoc29y
dCBrZXlzICVyaW5ncykgewogCQkJJGRieyRrZXl9LT57J25vLW5vdGlmeSd9ID0gMTsKIAkJfQog
CQkkZGJ7JGtleX0tPnsnZW5kJ30gPSAkZW5kOworCQkkZGJ7JGtleX0tPnsnbm90aWZ5J30gPSAk
ZW5kIGlmICRkYnska2V5fS0+eydub3RpZnknfSA+ICRlbmQ7CiAJfQogfQogCi1zdWIgc29ydFN0
YXJ0IHsKLQlteSAkYXMgPSAkZGJ7JGF9LT57J3N0YXJ0J307Ci0JbXkgJGJzID0gJGRieyRifS0+
eydzdGFydCd9OwotCW15ICR2YWw7Ci0KLQkkdmFsID0gJGFzIDw9PiAkYnM7Ci0JJHZhbCA9ICRh
IGNtcCAkYiBpZiAkdmFsID09IDA7Ci0KLQlyZXR1cm4gJHZhbDsKLX0KLQogbXkgJHJlX3NvcnQg
PSAxOwogbXkgQHNvcnRlZF9rZXlzOwogCkBAIC02NzAsOSArNjYzLDEzIEBAIGlmICgkY29ycmVj
dF9kdXJhdGlvbnMpIHsKIAkJCW5leHQgdW5sZXNzIGV4aXN0cyAkZGJ7JGtleX0tPnsnbm8tZW5k
J307CiAJCQlsYXN0IGlmICRwb3MgPT0gJCN7JHRpbWVsaW5lfTsKIAotCQkJIyBTaGlmdCBmb2xs
b3dpbmcgcmVxdWVzdCB0byBzdGFydCBhZnRlciB0aGUgY3VycmVudCBvbmUKKwkJCSMgU2hpZnQg
Zm9sbG93aW5nIHJlcXVlc3QgdG8gc3RhcnQgYWZ0ZXIgdGhlIGN1cnJlbnQKKwkJCSMgb25lLCBi
dXQgb25seSBpZiB0aGF0IHdvdWxkbid0IG1ha2UgaXQgemVybyBkdXJhdGlvbiwKKwkJCSMgd2hp
Y2ggd291bGQgaW5kaWNhdGUgbm90aWZ5IGFycml2ZWQgYWZ0ZXIgY29udGV4dAorCQkJIyBjb21w
bGV0ZS4KIAkJCSRuZXh0X2tleSA9ICR7JHRpbWVsaW5lfVskcG9zICsgMV07Ci0JCQlpZiAoZXhp
c3RzICRkYnska2V5fS0+eydub3RpZnknfSkgeworCQkJaWYgKGV4aXN0cyAkZGJ7JGtleX0tPnsn
bm90aWZ5J30gYW5kCisJCQkgICAgJGRieyRrZXl9LT57J25vdGlmeSd9IDwgJGRieyRrZXl9LT57
J2VuZCd9KSB7CiAJCQkJJGRieyRuZXh0X2tleX0tPnsnZW5naW5lLXN0YXJ0J30gPSAkZGJ7JG5l
eHRfa2V5fS0+eydzdGFydCd9OwogCQkJCSRkYnskbmV4dF9rZXl9LT57J3N0YXJ0J30gPSAkZGJ7
JGtleX0tPnsnbm90aWZ5J307CiAJCQkJJHJlX3NvcnQgPSAxOwpAQCAtNzUwLDkgKzc0Nyw5IEBA
IGZvcmVhY2ggbXkgJGdpZCAoc29ydCBrZXlzICVyaW5ncykgewogCSMgRXh0cmFjdCBhbGwgR1BV
IGJ1c3kgaW50ZXJ2YWxzIGFuZCBzb3J0IHRoZW0uCiAJZm9yZWFjaCBteSAka2V5IChAc29ydGVk
X2tleXMpIHsKIAkJbmV4dCB1bmxlc3MgJGRieyRrZXl9LT57J3JpbmcnfSBlcSAkcmluZzsKKwkJ
ZGllIGlmICRkYnska2V5fS0+eydzdGFydCd9ID4gJGRieyRrZXl9LT57J2VuZCd9OwogCQlwdXNo
IEBzXywgJGRieyRrZXl9LT57J3N0YXJ0J307CiAJCXB1c2ggQGVfLCAkZGJ7JGtleX0tPnsnZW5k
J307Ci0JCWRpZSBpZiAkZGJ7JGtleX0tPnsnc3RhcnQnfSA+ICRkYnska2V5fS0+eydlbmQnfTsK
IAl9CiAKIAlkaWUgdW5sZXNzICQjc18gPT0gJCNlXzsKLS0gCjIuMjAuMQoKX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KSW50ZWwtZ2Z4IG1haWxpbmcgbGlz
dApJbnRlbC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0
b3Aub3JnL21haWxtYW4vbGlzdGluZm8vaW50ZWwtZ2Z4

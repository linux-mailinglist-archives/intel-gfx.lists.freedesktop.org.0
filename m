Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 334BF649F8
	for <lists+intel-gfx@lfdr.de>; Wed, 10 Jul 2019 17:45:58 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 8D6046E10A;
	Wed, 10 Jul 2019 15:45:56 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga06.intel.com (mga06.intel.com [134.134.136.31])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 890266E10A
 for <intel-gfx@lists.freedesktop.org>; Wed, 10 Jul 2019 15:45:55 +0000 (UTC)
X-Amp-Result: UNKNOWN
X-Amp-Original-Verdict: FILE UNKNOWN
X-Amp-File-Uploaded: False
Received: from fmsmga001.fm.intel.com ([10.253.24.23])
 by orsmga104.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 10 Jul 2019 08:45:54 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.63,475,1557212400"; d="scan'208";a="186166732"
Received: from irsmsx102.ger.corp.intel.com ([163.33.3.155])
 by fmsmga001.fm.intel.com with ESMTP; 10 Jul 2019 08:45:53 -0700
Received: from localhost (172.28.172.64) by IRSMSX102.ger.corp.intel.com
 (163.33.3.155) with Microsoft SMTP Server (TLS) id 14.3.439.0; Wed, 10 Jul
 2019 16:45:52 +0100
Date: Wed, 10 Jul 2019 17:45:50 +0200
From: =?utf-8?Q?Micha=C5=82?= Winiarski <michal.winiarski@intel.com>
To: Daniele Ceraolo Spurio <daniele.ceraolospurio@intel.com>
Message-ID: <20190710154550.gqiolknlhiwgk6q6@mwiniars-main.ger.corp.intel.com>
References: <20190710005437.3496-1-daniele.ceraolospurio@intel.com>
 <20190710005437.3496-2-daniele.ceraolospurio@intel.com>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <20190710005437.3496-2-daniele.ceraolospurio@intel.com>
Organization: Intel Technology Poland sp. z o.o. - KRS 101882 - ul.
 Slowackiego 173, 80-298 Gdansk
User-Agent: NeoMutt/20180716
X-Originating-IP: [172.28.172.64]
Subject: Re: [Intel-gfx] [PATCH 01/12] drm/i915/guc: Remove preemption
 support for current fw
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: intel-gfx@lists.freedesktop.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

T24gVHVlLCBKdWwgMDksIDIwMTkgYXQgMDU6NTQ6MjZQTSAtMDcwMCwgRGFuaWVsZSBDZXJhb2xv
IFNwdXJpbyB3cm90ZToKPiBGcm9tOiBDaHJpcyBXaWxzb24gPGNocmlzQGNocmlzLXdpbHNvbi5j
by51az4KPiAKPiBQcmVlbXB0aW9uIHZpYSBHdUMgc3VibWlzc2lvbiBpcyBub3QgYmVpbmcgc3Vw
cG9ydGVkIHdpdGggaXRzIGN1cnJlbnQKPiBsZWdhY3kgaW5jYXJuYXRpb24uIFRoZSBjdXJyZW50
IEZXIGRvZXMgc3VwcG9ydCBhIHNpbWlsYXIgcHJlLWVtcHRpb24KPiBmbG93IHZpYSBIMkcsIGJ1
dCBpdCBpcyBjbGFzcy1iYXNlZCBpbnN0ZWFkIG9mIGJlaW5nIGluc3RhbmNlLWJhc2VkLAo+IHdo
aWNoIGRvZXNuJ3QgZml0IHdlbGwgd2l0aCB0aGUgaTkxNSB0cmFja2luZy4gVG8gZml4IHRoaXMs
IHRoZQo+IGZpcm13YXJlIGlzIGJlaW5nIHVwZGF0ZWQgdG8gYmV0dGVyIHN1cHBvcnQgb3VyIG5l
ZWRzIHdpdGggYSBuZXcgZmxvdywKPiBzbyB3ZSBjYW4gc2FmZWx5IHJlbW92ZSB0aGUgb2xkIGNv
ZGUuCj4gCj4gdjIgKERhbmllbGUpOiByZXN1cnJlY3QgJiByZWJhc2UsIHJld29yZCBjb21taXQg
bWVzc2FnZSwgcmVtb3ZlCj4gcHJlZW1wdF9jb250ZXh0IGFzIHdlbGwKPiAKPiBTaWduZWQtb2Zm
LWJ5OiBDaHJpcyBXaWxzb24gPGNocmlzQGNocmlzLXdpbHNvbi5jby51az4KPiBTaWduZWQtb2Zm
LWJ5OiBEYW5pZWxlIENlcmFvbG8gU3B1cmlvIDxkYW5pZWxlLmNlcmFvbG9zcHVyaW9AaW50ZWwu
Y29tPgo+IENjOiBDaHJpcyBXaWxzb24gPGNocmlzQGNocmlzLXdpbHNvbi5jby51az4KPiBDYzog
TWljaGFsIFdhamRlY3prbyA8bWljaGFsLndhamRlY3prb0BpbnRlbC5jb20+Cj4gQ2M6IE1hdHRo
ZXcgQnJvc3QgPG1hdHRoZXcuYnJvc3RAaW50ZWwuY29tPgo+IENjOiBKb2huIEhhcnJpc29uIDxK
b2huLkMuSGFycmlzb25ASW50ZWwuY29tPgo+IEFja2VkLWJ5OiBNYXR0aGV3IEJyb3N0IDxtYXR0
aGV3LmJyb3N0QGludGVsLmNvbT4KClJldmlld2VkLWJ5OiBNaWNoYcWCIFdpbmlhcnNraSA8bWlj
aGFsLndpbmlhcnNraUBpbnRlbC5jb20+CgotTWljaGHFggoKPiAtLS0KPiAgZHJpdmVycy9ncHUv
ZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX2NvbnRleHQuYyAgfCAgMTcgLS0KPiAgZHJpdmVycy9ncHUv
ZHJtL2k5MTUvZ3QvaW50ZWxfZW5naW5lX2NzLmMgICAgfCAgMTMgLS0KPiAgZHJpdmVycy9ncHUv
ZHJtL2k5MTUvZ3QvaW50ZWxfZW5naW5lX3R5cGVzLmggfCAgIDEgLQo+ICBkcml2ZXJzL2dwdS9k
cm0vaTkxNS9ndC9pbnRlbF9ndF9wbS5jICAgICAgICB8ICAgNCAtCj4gIGRyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2k5MTVfZGVidWdmcy5jICAgICAgICAgIHwgICA1IC0KPiAgZHJpdmVycy9ncHUvZHJt
L2k5MTUvaTkxNV9kcnYuaCAgICAgICAgICAgICAgfCAgIDIgLQo+ICBkcml2ZXJzL2dwdS9kcm0v
aTkxNS9pbnRlbF9ndWMuYyAgICAgICAgICAgICB8ICAzMSAtLS0KPiAgZHJpdmVycy9ncHUvZHJt
L2k5MTUvaW50ZWxfZ3VjLmggICAgICAgICAgICAgfCAgIDkgLQo+ICBkcml2ZXJzL2dwdS9kcm0v
aTkxNS9pbnRlbF9ndWNfc3VibWlzc2lvbi5jICB8IDIzMSArLS0tLS0tLS0tLS0tLS0tLS0tCj4g
IGRyaXZlcnMvZ3B1L2RybS9pOTE1L3NlbGZ0ZXN0cy9pbnRlbF9ndWMuYyAgIHwgIDMxICstLQo+
ICAxMCBmaWxlcyBjaGFuZ2VkLCAxNCBpbnNlcnRpb25zKCspLCAzMzAgZGVsZXRpb25zKC0pCj4g
Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9jb250ZXh0
LmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fY29udGV4dC5jCj4gaW5kZXgg
ZTM2N2RjZTJhNjk2Li4wNzg1OTI5MTJkOTcgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJt
L2k5MTUvZ2VtL2k5MTVfZ2VtX2NvbnRleHQuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1
L2dlbS9pOTE1X2dlbV9jb250ZXh0LmMKPiBAQCAtNjQ0LDE4ICs2NDQsMTIgQEAgc3RhdGljIHZv
aWQgaW5pdF9jb250ZXh0cyhzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSkKPiAgCWluaXRf
bGxpc3RfaGVhZCgmaTkxNS0+Y29udGV4dHMuZnJlZV9saXN0KTsKPiAgfQo+ICAKPiAtc3RhdGlj
IGJvb2wgbmVlZHNfcHJlZW1wdF9jb250ZXh0KHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICppOTE1
KQo+IC17Cj4gLQlyZXR1cm4gVVNFU19HVUNfU1VCTUlTU0lPTihpOTE1KTsKPiAtfQo+IC0KPiAg
aW50IGk5MTVfZ2VtX2NvbnRleHRzX2luaXQoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9w
cml2KQo+ICB7Cj4gIAlzdHJ1Y3QgaTkxNV9nZW1fY29udGV4dCAqY3R4Owo+ICAKPiAgCS8qIFJl
YXNzdXJlIG91cnNlbHZlcyB3ZSBhcmUgb25seSBjYWxsZWQgb25jZSAqLwo+ICAJR0VNX0JVR19P
TihkZXZfcHJpdi0+a2VybmVsX2NvbnRleHQpOwo+IC0JR0VNX0JVR19PTihkZXZfcHJpdi0+cHJl
ZW1wdF9jb250ZXh0KTsKPiAgCj4gIAlpbml0X2NvbnRleHRzKGRldl9wcml2KTsKPiAgCj4gQEAg
LTY3NiwxNSArNjcwLDYgQEAgaW50IGk5MTVfZ2VtX2NvbnRleHRzX2luaXQoc3RydWN0IGRybV9p
OTE1X3ByaXZhdGUgKmRldl9wcml2KQo+ICAJR0VNX0JVR19PTighYXRvbWljX3JlYWQoJmN0eC0+
aHdfaWRfcGluX2NvdW50KSk7Cj4gIAlkZXZfcHJpdi0+a2VybmVsX2NvbnRleHQgPSBjdHg7Cj4g
IAo+IC0JLyogaGlnaGVzdCBwcmlvcml0eTsgcHJlZW1wdGluZyB0YXNrICovCj4gLQlpZiAobmVl
ZHNfcHJlZW1wdF9jb250ZXh0KGRldl9wcml2KSkgewo+IC0JCWN0eCA9IGk5MTVfZ2VtX2NvbnRl
eHRfY3JlYXRlX2tlcm5lbChkZXZfcHJpdiwgSU5UX01BWCk7Cj4gLQkJaWYgKCFJU19FUlIoY3R4
KSkKPiAtCQkJZGV2X3ByaXYtPnByZWVtcHRfY29udGV4dCA9IGN0eDsKPiAtCQllbHNlCj4gLQkJ
CURSTV9FUlJPUigiRmFpbGVkIHRvIGNyZWF0ZSBwcmVlbXB0IGNvbnRleHQ7IGRpc2FibGluZyBw
cmVlbXB0aW9uXG4iKTsKPiAtCX0KPiAtCj4gIAlEUk1fREVCVUdfRFJJVkVSKCIlcyBjb250ZXh0
IHN1cHBvcnQgaW5pdGlhbGl6ZWRcbiIsCj4gIAkJCSBEUklWRVJfQ0FQUyhkZXZfcHJpdiktPmhh
c19sb2dpY2FsX2NvbnRleHRzID8KPiAgCQkJICJsb2dpY2FsIiA6ICJmYWtlIik7Cj4gQEAgLTY5
NSw4ICs2ODAsNiBAQCB2b2lkIGk5MTVfZ2VtX2NvbnRleHRzX2Zpbmkoc3RydWN0IGRybV9pOTE1
X3ByaXZhdGUgKmk5MTUpCj4gIHsKPiAgCWxvY2tkZXBfYXNzZXJ0X2hlbGQoJmk5MTUtPmRybS5z
dHJ1Y3RfbXV0ZXgpOwo+ICAKPiAtCWlmIChpOTE1LT5wcmVlbXB0X2NvbnRleHQpCj4gLQkJZGVz
dHJveV9rZXJuZWxfY29udGV4dCgmaTkxNS0+cHJlZW1wdF9jb250ZXh0KTsKPiAgCWRlc3Ryb3lf
a2VybmVsX2NvbnRleHQoJmk5MTUtPmtlcm5lbF9jb250ZXh0KTsKPiAgCj4gIAkvKiBNdXN0IGZy
ZWUgYWxsIGRlZmVycmVkIGNvbnRleHRzICh2aWEgZmx1c2hfd29ya3F1ZXVlKSBmaXJzdCAqLwo+
IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9lbmdpbmVfY3MuYyBi
L2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2VuZ2luZV9jcy5jCj4gaW5kZXggYmRmMjc5
ZmEzYjJlLi43NmI1YzA2OGEyNmQgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUv
Z3QvaW50ZWxfZW5naW5lX2NzLmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRl
bF9lbmdpbmVfY3MuYwo+IEBAIC04NDEsMTUgKzg0MSw2IEBAIGludCBpbnRlbF9lbmdpbmVfaW5p
dF9jb21tb24oc3RydWN0IGludGVsX2VuZ2luZV9jcyAqZW5naW5lKQo+ICAJaWYgKHJldCkKPiAg
CQlyZXR1cm4gcmV0Owo+ICAKPiAtCS8qCj4gLQkgKiBTaW1pbGFybHkgdGhlIHByZWVtcHQgY29u
dGV4dCBtdXN0IGFsd2F5cyBiZSBhdmFpbGFibGUgc28gdGhhdAo+IC0JICogd2UgY2FuIGludGVy
cnVwdCB0aGUgZW5naW5lIGF0IGFueSB0aW1lLiBIb3dldmVyLCBhcyBwcmVlbXB0aW9uCj4gLQkg
KiBpcyBvcHRpb25hbCwgd2UgYWxsb3cgaXQgdG8gZmFpbC4KPiAtCSAqLwo+IC0JaWYgKGk5MTUt
PnByZWVtcHRfY29udGV4dCkKPiAtCQlwaW5fY29udGV4dChpOTE1LT5wcmVlbXB0X2NvbnRleHQs
IGVuZ2luZSwKPiAtCQkJICAgICZlbmdpbmUtPnByZWVtcHRfY29udGV4dCk7Cj4gLQo+ICAJcmV0
ID0gbWVhc3VyZV9icmVhZGNydW1iX2R3KGVuZ2luZSk7Cj4gIAlpZiAocmV0IDwgMCkKPiAgCQln
b3RvIGVycl91bnBpbjsKPiBAQCAtODYxLDggKzg1Miw2IEBAIGludCBpbnRlbF9lbmdpbmVfaW5p
dF9jb21tb24oc3RydWN0IGludGVsX2VuZ2luZV9jcyAqZW5naW5lKQo+ICAJcmV0dXJuIDA7Cj4g
IAo+ICBlcnJfdW5waW46Cj4gLQlpZiAoZW5naW5lLT5wcmVlbXB0X2NvbnRleHQpCj4gLQkJaW50
ZWxfY29udGV4dF91bnBpbihlbmdpbmUtPnByZWVtcHRfY29udGV4dCk7Cj4gIAlpbnRlbF9jb250
ZXh0X3VucGluKGVuZ2luZS0+a2VybmVsX2NvbnRleHQpOwo+ICAJcmV0dXJuIHJldDsKPiAgfQo+
IEBAIC04ODcsOCArODc2LDYgQEAgdm9pZCBpbnRlbF9lbmdpbmVfY2xlYW51cF9jb21tb24oc3Ry
dWN0IGludGVsX2VuZ2luZV9jcyAqZW5naW5lKQo+ICAJaWYgKGVuZ2luZS0+ZGVmYXVsdF9zdGF0
ZSkKPiAgCQlpOTE1X2dlbV9vYmplY3RfcHV0KGVuZ2luZS0+ZGVmYXVsdF9zdGF0ZSk7Cj4gIAo+
IC0JaWYgKGVuZ2luZS0+cHJlZW1wdF9jb250ZXh0KQo+IC0JCWludGVsX2NvbnRleHRfdW5waW4o
ZW5naW5lLT5wcmVlbXB0X2NvbnRleHQpOwo+ICAJaW50ZWxfY29udGV4dF91bnBpbihlbmdpbmUt
Pmtlcm5lbF9jb250ZXh0KTsKPiAgCUdFTV9CVUdfT04oIWxsaXN0X2VtcHR5KCZlbmdpbmUtPmJh
cnJpZXJfdGFza3MpKTsKPiAgCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0
L2ludGVsX2VuZ2luZV90eXBlcy5oIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZW5n
aW5lX3R5cGVzLmgKPiBpbmRleCA3ZTA1NjExNDM0NGUuLjhiZTYzMDE5ZDcwNyAxMDA2NDQKPiAt
LS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9lbmdpbmVfdHlwZXMuaAo+ICsrKyBi
L2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2VuZ2luZV90eXBlcy5oCj4gQEAgLTI4OCw3
ICsyODgsNiBAQCBzdHJ1Y3QgaW50ZWxfZW5naW5lX2NzIHsKPiAgCXN0cnVjdCBsbGlzdF9oZWFk
IGJhcnJpZXJfdGFza3M7Cj4gIAo+ICAJc3RydWN0IGludGVsX2NvbnRleHQgKmtlcm5lbF9jb250
ZXh0OyAvKiBwaW5uZWQgKi8KPiAtCXN0cnVjdCBpbnRlbF9jb250ZXh0ICpwcmVlbXB0X2NvbnRl
eHQ7IC8qIHBpbm5lZDsgb3B0aW9uYWwgKi8KPiAgCj4gIAlpbnRlbF9lbmdpbmVfbWFza190IHNh
dHVyYXRlZDsgLyogc3VibWl0dGluZyBzZW1hcGhvcmVzIHRvbyBsYXRlPyAqLwo+ICAKPiBkaWZm
IC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZ3RfcG0uYyBiL2RyaXZlcnMv
Z3B1L2RybS9pOTE1L2d0L2ludGVsX2d0X3BtLmMKPiBpbmRleCAzNmJhODBlNmEwYjcuLmRhODFi
M2E5MmQxNiAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9ndF9w
bS5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZ3RfcG0uYwo+IEBAIC0x
NDUsMTAgKzE0NSw2IEBAIGludCBpbnRlbF9ndF9yZXN1bWUoc3RydWN0IGludGVsX2d0ICpndCkK
PiAgCQlpZiAoY2UpCj4gIAkJCWNlLT5vcHMtPnJlc2V0KGNlKTsKPiAgCj4gLQkJY2UgPSBlbmdp
bmUtPnByZWVtcHRfY29udGV4dDsKPiAtCQlpZiAoY2UpCj4gLQkJCWNlLT5vcHMtPnJlc2V0KGNl
KTsKPiAtCj4gIAkJZW5naW5lLT5zZXJpYWwrKzsgLyoga2VybmVsIGNvbnRleHQgbG9zdCAqLwo+
ICAJCWVyciA9IGVuZ2luZS0+cmVzdW1lKGVuZ2luZSk7Cj4gIAo+IGRpZmYgLS1naXQgYS9kcml2
ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2RlYnVnZnMuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5
MTVfZGVidWdmcy5jCj4gaW5kZXggM2U0ZjU4ZjE5MzYyLi5iNGQxOTU2Nzc4NzcgMTAwNjQ0Cj4g
LS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kZWJ1Z2ZzLmMKPiArKysgYi9kcml2ZXJz
L2dwdS9kcm0vaTkxNS9pOTE1X2RlYnVnZnMuYwo+IEBAIC0yMDEwLDExICsyMDEwLDYgQEAgc3Rh
dGljIGludCBpOTE1X2d1Y19pbmZvKHN0cnVjdCBzZXFfZmlsZSAqbSwgdm9pZCAqZGF0YSkKPiAg
Cj4gIAlzZXFfcHJpbnRmKG0sICJcbkd1QyBleGVjYnVmIGNsaWVudCBAICVwOlxuIiwgZ3VjLT5l
eGVjYnVmX2NsaWVudCk7Cj4gIAlpOTE1X2d1Y19jbGllbnRfaW5mbyhtLCBkZXZfcHJpdiwgZ3Vj
LT5leGVjYnVmX2NsaWVudCk7Cj4gLQlpZiAoZ3VjLT5wcmVlbXB0X2NsaWVudCkgewo+IC0JCXNl
cV9wcmludGYobSwgIlxuR3VDIHByZWVtcHQgY2xpZW50IEAgJXA6XG4iLAo+IC0JCQkgICBndWMt
PnByZWVtcHRfY2xpZW50KTsKPiAtCQlpOTE1X2d1Y19jbGllbnRfaW5mbyhtLCBkZXZfcHJpdiwg
Z3VjLT5wcmVlbXB0X2NsaWVudCk7Cj4gLQl9Cj4gIAo+ICAJLyogQWRkIG1vcmUgYXMgcmVxdWly
ZWQgLi4uICovCj4gIAo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2Ry
di5oIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kcnYuaAo+IGluZGV4IGY5ODc4Y2JlZjRk
OS4uNzYxMTZlNDRiN2UxIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVf
ZHJ2LmgKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2Rydi5oCj4gQEAgLTEzNzgs
OCArMTM3OCw2IEBAIHN0cnVjdCBkcm1faTkxNV9wcml2YXRlIHsKPiAgCXN0cnVjdCBpbnRlbF9l
bmdpbmVfY3MgKmVuZ2luZVtJOTE1X05VTV9FTkdJTkVTXTsKPiAgCS8qIENvbnRleHQgdXNlZCBp
bnRlcm5hbGx5IHRvIGlkbGUgdGhlIEdQVSBhbmQgc2V0dXAgaW5pdGlhbCBzdGF0ZSAqLwo+ICAJ
c3RydWN0IGk5MTVfZ2VtX2NvbnRleHQgKmtlcm5lbF9jb250ZXh0Owo+IC0JLyogQ29udGV4dCBv
bmx5IHRvIGJlIHVzZWQgZm9yIGluamVjdGluZyBwcmVlbXB0aW9uIGNvbW1hbmRzICovCj4gLQlz
dHJ1Y3QgaTkxNV9nZW1fY29udGV4dCAqcHJlZW1wdF9jb250ZXh0Owo+ICAJc3RydWN0IGludGVs
X2VuZ2luZV9jcyAqZW5naW5lX2NsYXNzW01BWF9FTkdJTkVfQ0xBU1MgKyAxXQo+ICAJCQkJCSAg
ICBbTUFYX0VOR0lORV9JTlNUQU5DRSArIDFdOwo+ICAKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9n
cHUvZHJtL2k5MTUvaW50ZWxfZ3VjLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9ndWMu
Ywo+IGluZGV4IGM0MGE2ZWZkZDMzYS4uNTAxYjc0ZjQ0Mzc0IDEwMDY0NAo+IC0tLSBhL2RyaXZl
cnMvZ3B1L2RybS9pOTE1L2ludGVsX2d1Yy5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUv
aW50ZWxfZ3VjLmMKPiBAQCAtMTAxLDggKzEwMSw2IEBAIHZvaWQgaW50ZWxfZ3VjX2luaXRfZWFy
bHkoc3RydWN0IGludGVsX2d1YyAqZ3VjKQo+ICAKPiAgc3RhdGljIGludCBndWNfaW5pdF93cShz
dHJ1Y3QgaW50ZWxfZ3VjICpndWMpCj4gIHsKPiAtCXN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpk
ZXZfcHJpdiA9IGd1Y190b19pOTE1KGd1Yyk7Cj4gLQo+ICAJLyoKPiAgCSAqIEd1QyBsb2cgYnVm
ZmVyIGZsdXNoIHdvcmsgaXRlbSBoYXMgdG8gZG8gcmVnaXN0ZXIgYWNjZXNzIHRvCj4gIAkgKiBz
ZW5kIHRoZSBhY2sgdG8gR3VDIGFuZCB0aGlzIHdvcmsgaXRlbSwgaWYgbm90IHN5bmNlZCBiZWZv
cmUKPiBAQCAtMTIyLDMxICsxMjAsNiBAQCBzdGF0aWMgaW50IGd1Y19pbml0X3dxKHN0cnVjdCBp
bnRlbF9ndWMgKmd1YykKPiAgCQlyZXR1cm4gLUVOT01FTTsKPiAgCX0KPiAgCj4gLQkvKgo+IC0J
ICogRXZlbiB0aG91Z2ggYm90aCBzZW5kaW5nIEd1QyBhY3Rpb24sIGFuZCBhZGRpbmcgYSBuZXcg
d29ya2l0ZW0gdG8KPiAtCSAqIEd1QyB3b3JrcXVldWUgYXJlIHNlcmlhbGl6ZWQgKGVhY2ggd2l0
aCBpdHMgb3duIGxvY2tpbmcpLCBzaW5jZQo+IC0JICogd2UncmUgdXNpbmcgbXV0bGlwbGUgZW5n
aW5lcywgaXQncyBwb3NzaWJsZSB0aGF0IHdlJ3JlIGdvaW5nIHRvCj4gLQkgKiBpc3N1ZSBhIHBy
ZWVtcHQgcmVxdWVzdCB3aXRoIHR3byAob3IgbW9yZSAtIGVhY2ggZm9yIGRpZmZlcmVudAo+IC0J
ICogZW5naW5lKSB3b3JraXRlbXMgaW4gR3VDIHF1ZXVlLiBJbiB0aGlzIHNpdHVhdGlvbiwgR3VD
IG1heSBzdWJtaXQKPiAtCSAqIGFsbCBvZiB0aGVtLCB3aGljaCB3aWxsIG1ha2UgdXMgdmVyeSBj
b25mdXNlZC4KPiAtCSAqIE91ciBwcmVlbXB0aW9uIGNvbnRleHRzIG1heSBldmVuIGFscmVhZHkg
YmUgY29tcGxldGUgLSBiZWZvcmUgd2UKPiAtCSAqIGV2ZW4gaGFkIHRoZSBjaGFuY2UgdG8gc2Vu
dCB0aGUgcHJlZW1wdCBhY3Rpb24gdG8gR3VDIS4gUmF0aGVyCj4gLQkgKiB0aGFuIGludHJvZHVj
aW5nIHlldCBhbm90aGVyIGxvY2ssIHdlIGNhbiBqdXN0IHVzZSBvcmRlcmVkIHdvcmtxdWV1ZQo+
IC0JICogdG8gbWFrZSBzdXJlIHdlJ3JlIGFsd2F5cyBzZW5kaW5nIGEgc2luZ2xlIHByZWVtcHRp
b24gcmVxdWVzdCB3aXRoIGEKPiAtCSAqIHNpbmdsZSB3b3JraXRlbS4KPiAtCSAqLwo+IC0JaWYg
KEhBU19MT0dJQ0FMX1JJTkdfUFJFRU1QVElPTihkZXZfcHJpdikgJiYKPiAtCSAgICBVU0VTX0dV
Q19TVUJNSVNTSU9OKGRldl9wcml2KSkgewo+IC0JCWd1Yy0+cHJlZW1wdF93cSA9IGFsbG9jX29y
ZGVyZWRfd29ya3F1ZXVlKCJpOTE1LWd1Y19wcmVlbXB0IiwKPiAtCQkJCQkJCSAgV1FfSElHSFBS
SSk7Cj4gLQkJaWYgKCFndWMtPnByZWVtcHRfd3EpIHsKPiAtCQkJZGVzdHJveV93b3JrcXVldWUo
Z3VjLT5sb2cucmVsYXkuZmx1c2hfd3EpOwo+IC0JCQlEUk1fRVJST1IoIkNvdWxkbid0IGFsbG9j
YXRlIHdvcmtxdWV1ZSBmb3IgR3VDICIKPiAtCQkJCSAgInByZWVtcHRpb25cbiIpOwo+IC0JCQly
ZXR1cm4gLUVOT01FTTsKPiAtCQl9Cj4gLQl9Cj4gLQo+ICAJcmV0dXJuIDA7Cj4gIH0KPiAgCj4g
QEAgLTE1NCwxMCArMTI3LDYgQEAgc3RhdGljIHZvaWQgZ3VjX2Zpbmlfd3Eoc3RydWN0IGludGVs
X2d1YyAqZ3VjKQo+ICB7Cj4gIAlzdHJ1Y3Qgd29ya3F1ZXVlX3N0cnVjdCAqd3E7Cj4gIAo+IC0J
d3EgPSBmZXRjaF9hbmRfemVybygmZ3VjLT5wcmVlbXB0X3dxKTsKPiAtCWlmICh3cSkKPiAtCQlk
ZXN0cm95X3dvcmtxdWV1ZSh3cSk7Cj4gLQo+ICAJd3EgPSBmZXRjaF9hbmRfemVybygmZ3VjLT5s
b2cucmVsYXkuZmx1c2hfd3EpOwo+ICAJaWYgKHdxKQo+ICAJCWRlc3Ryb3lfd29ya3F1ZXVlKHdx
KTsKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfZ3VjLmggYi9kcml2
ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9ndWMuaAo+IGluZGV4IGQ5MWM5NjY3OWRiYi4uZWMxMDM4
YzFmNTBlIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX2d1Yy5oCj4g
KysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfZ3VjLmgKPiBAQCAtMzcsMTEgKzM3LDYg
QEAKPiAgCj4gIHN0cnVjdCBfX2d1Y19hZHNfYmxvYjsKPiAgCj4gLXN0cnVjdCBndWNfcHJlZW1w
dF93b3JrIHsKPiAtCXN0cnVjdCB3b3JrX3N0cnVjdCB3b3JrOwo+IC0Jc3RydWN0IGludGVsX2Vu
Z2luZV9jcyAqZW5naW5lOwo+IC19Owo+IC0KPiAgLyoKPiAgICogVG9wIGxldmVsIHN0cnVjdHVy
ZSBvZiBHdUMuIEl0IGhhbmRsZXMgZmlybXdhcmUgbG9hZGluZyBhbmQgbWFuYWdlcyBjbGllbnQK
PiAgICogcG9vbCBhbmQgZG9vcmJlbGxzLiBpbnRlbF9ndWMgb3ducyBhIGludGVsX2d1Y19jbGll
bnQgdG8gcmVwbGFjZSB0aGUgbGVnYWN5Cj4gQEAgLTc2LDEwICs3MSw2IEBAIHN0cnVjdCBpbnRl
bF9ndWMgewo+ICAJdm9pZCAqc2hhcmVkX2RhdGFfdmFkZHI7Cj4gIAo+ICAJc3RydWN0IGludGVs
X2d1Y19jbGllbnQgKmV4ZWNidWZfY2xpZW50Owo+IC0Jc3RydWN0IGludGVsX2d1Y19jbGllbnQg
KnByZWVtcHRfY2xpZW50Owo+IC0KPiAtCXN0cnVjdCBndWNfcHJlZW1wdF93b3JrIHByZWVtcHRf
d29ya1tJOTE1X05VTV9FTkdJTkVTXTsKPiAtCXN0cnVjdCB3b3JrcXVldWVfc3RydWN0ICpwcmVl
bXB0X3dxOwo+ICAKPiAgCURFQ0xBUkVfQklUTUFQKGRvb3JiZWxsX2JpdG1hcCwgR1VDX05VTV9E
T09SQkVMTFMpOwo+ICAJLyogQ3ljbGljIGNvdW50ZXIgbW9kIHBhZ2VzaXplCSovCj4gZGlmZiAt
LWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX2d1Y19zdWJtaXNzaW9uLmMgYi9kcml2
ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9ndWNfc3VibWlzc2lvbi5jCj4gaW5kZXggZjEwNGI5NGMx
NGVmLi44NTIwYmIyMjQxNzUgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50
ZWxfZ3VjX3N1Ym1pc3Npb24uYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX2d1
Y19zdWJtaXNzaW9uLmMKPiBAQCAtNDYsMTEgKzQ2LDEwIEBAIGVudW0gewo+ICAgKgo+ICAgKiBH
dUMgY2xpZW50Ogo+ICAgKiBBIGludGVsX2d1Y19jbGllbnQgcmVmZXJzIHRvIGEgc3VibWlzc2lv
biBwYXRoIHRocm91Z2ggR3VDLiBDdXJyZW50bHksIHRoZXJlCj4gLSAqIGFyZSB0d28gY2xpZW50
cy4gT25lIG9mIHRoZW0gKHRoZSBleGVjYnVmX2NsaWVudCkgaXMgY2hhcmdlZCB3aXRoIGFsbAo+
IC0gKiBzdWJtaXNzaW9ucyB0byB0aGUgR3VDLCB0aGUgb3RoZXIgb25lIChwcmVlbXB0X2NsaWVu
dCkgaXMgcmVzcG9uc2libGUgZm9yCj4gLSAqIHByZWVtcHRpbmcgdGhlIGV4ZWNidWZfY2xpZW50
LiBUaGlzIHN0cnVjdCBpcyB0aGUgb3duZXIgb2YgYSBkb29yYmVsbCwgYQo+IC0gKiBwcm9jZXNz
IGRlc2NyaXB0b3IgYW5kIGEgd29ya3F1ZXVlIChhbGwgb2YgdGhlbSBpbnNpZGUgYSBzaW5nbGUg
Z2VtIG9iamVjdAo+IC0gKiB0aGF0IGNvbnRhaW5zIGFsbCByZXF1aXJlZCBwYWdlcyBmb3IgdGhl
c2UgZWxlbWVudHMpLgo+ICsgKiBpcyBvbmx5IG9uZSBjbGllbnQsIHdoaWNoIGlzIGNoYXJnZWQg
d2l0aCBhbGwgc3VibWlzc2lvbnMgdG8gdGhlIEd1Qy4gVGhpcwo+ICsgKiBzdHJ1Y3QgaXMgdGhl
IG93bmVyIG9mIGEgZG9vcmJlbGwsIGEgcHJvY2VzcyBkZXNjcmlwdG9yIGFuZCBhIHdvcmtxdWV1
ZSAoYWxsCj4gKyAqIG9mIHRoZW0gaW5zaWRlIGEgc2luZ2xlIGdlbSBvYmplY3QgdGhhdCBjb250
YWlucyBhbGwgcmVxdWlyZWQgcGFnZXMgZm9yIHRoZXNlCj4gKyAqIGVsZW1lbnRzKS4KPiAgICoK
PiAgICogR3VDIHN0YWdlIGRlc2NyaXB0b3I6Cj4gICAqIER1cmluZyBpbml0aWFsaXphdGlvbiwg
dGhlIGRyaXZlciBhbGxvY2F0ZXMgYSBzdGF0aWMgcG9vbCBvZiAxMDI0IHN1Y2gKPiBAQCAtODgs
MTIgKzg3LDYgQEAgZW51bSB7Cj4gICAqCj4gICAqLwo+ICAKPiAtc3RhdGljIGlubGluZSB1MzIg
aW50ZWxfaHdzX3ByZWVtcHRfZG9uZV9hZGRyZXNzKHN0cnVjdCBpbnRlbF9lbmdpbmVfY3MgKmVu
Z2luZSkKPiAtewo+IC0JcmV0dXJuIChpOTE1X2dndHRfb2Zmc2V0KGVuZ2luZS0+c3RhdHVzX3Bh
Z2Uudm1hKSArCj4gLQkJSTkxNV9HRU1fSFdTX1BSRUVNUFRfQUREUik7Cj4gLX0KPiAtCj4gIHN0
YXRpYyBpbmxpbmUgc3RydWN0IGk5MTVfcHJpb2xpc3QgKnRvX3ByaW9saXN0KHN0cnVjdCByYl9u
b2RlICpyYikKPiAgewo+ICAJcmV0dXJuIHJiX2VudHJ5KHJiLCBzdHJ1Y3QgaTkxNV9wcmlvbGlz
dCwgbm9kZSk7Cj4gQEAgLTU2MywxMjYgKzU1Niw2IEBAIHN0YXRpYyB2b2lkIGZsdXNoX2dndHRf
d3JpdGVzKHN0cnVjdCBpOTE1X3ZtYSAqdm1hKQo+ICAJCWludGVsX3VuY29yZV9wb3N0aW5nX3Jl
YWRfZncoJmk5MTUtPnVuY29yZSwgR1VDX1NUQVRVUyk7Cj4gIH0KPiAgCj4gLXN0YXRpYyB2b2lk
IGluamVjdF9wcmVlbXB0X2NvbnRleHQoc3RydWN0IHdvcmtfc3RydWN0ICp3b3JrKQo+IC17Cj4g
LQlzdHJ1Y3QgZ3VjX3ByZWVtcHRfd29yayAqcHJlZW1wdF93b3JrID0KPiAtCQljb250YWluZXJf
b2Yod29yaywgdHlwZW9mKCpwcmVlbXB0X3dvcmspLCB3b3JrKTsKPiAtCXN0cnVjdCBpbnRlbF9l
bmdpbmVfY3MgKmVuZ2luZSA9IHByZWVtcHRfd29yay0+ZW5naW5lOwo+IC0Jc3RydWN0IGludGVs
X2d1YyAqZ3VjID0gY29udGFpbmVyX29mKHByZWVtcHRfd29yaywgdHlwZW9mKCpndWMpLAo+IC0J
CQkJCSAgICAgcHJlZW1wdF93b3JrW2VuZ2luZS0+aWRdKTsKPiAtCXN0cnVjdCBpbnRlbF9ndWNf
Y2xpZW50ICpjbGllbnQgPSBndWMtPnByZWVtcHRfY2xpZW50Owo+IC0Jc3RydWN0IGd1Y19zdGFn
ZV9kZXNjICpzdGFnZV9kZXNjID0gX19nZXRfc3RhZ2VfZGVzYyhjbGllbnQpOwo+IC0Jc3RydWN0
IGludGVsX2NvbnRleHQgKmNlID0gZW5naW5lLT5wcmVlbXB0X2NvbnRleHQ7Cj4gLQl1MzIgZGF0
YVs3XTsKPiAtCj4gLQlpZiAoIWNlLT5yaW5nLT5lbWl0KSB7IC8qIHJlY3JlYXRlIHVwb24gbG9h
ZC9yZXN1bWUgKi8KPiAtCQl1MzIgYWRkciA9IGludGVsX2h3c19wcmVlbXB0X2RvbmVfYWRkcmVz
cyhlbmdpbmUpOwo+IC0JCXUzMiAqY3M7Cj4gLQo+IC0JCWNzID0gY2UtPnJpbmctPnZhZGRyOwo+
IC0JCWlmIChlbmdpbmUtPmNsYXNzID09IFJFTkRFUl9DTEFTUykgewo+IC0JCQljcyA9IGdlbjhf
ZW1pdF9nZ3R0X3dyaXRlX3JjcyhjcywKPiAtCQkJCQkJICAgICAgR1VDX1BSRUVNUFRfRklOSVNI
RUQsCj4gLQkJCQkJCSAgICAgIGFkZHIsCj4gLQkJCQkJCSAgICAgIFBJUEVfQ09OVFJPTF9DU19T
VEFMTCk7Cj4gLQkJfSBlbHNlIHsKPiAtCQkJY3MgPSBnZW44X2VtaXRfZ2d0dF93cml0ZShjcywK
PiAtCQkJCQkJICBHVUNfUFJFRU1QVF9GSU5JU0hFRCwKPiAtCQkJCQkJICBhZGRyLAo+IC0JCQkJ
CQkgIDApOwo+IC0JCQkqY3MrKyA9IE1JX05PT1A7Cj4gLQkJCSpjcysrID0gTUlfTk9PUDsKPiAt
CQl9Cj4gLQkJKmNzKysgPSBNSV9VU0VSX0lOVEVSUlVQVDsKPiAtCQkqY3MrKyA9IE1JX05PT1A7
Cj4gLQo+IC0JCWNlLT5yaW5nLT5lbWl0ID0gR1VDX1BSRUVNUFRfQlJFQURDUlVNQl9CWVRFUzsK
PiAtCQlHRU1fQlVHX09OKCh2b2lkICopY3MgLSBjZS0+cmluZy0+dmFkZHIgIT0gY2UtPnJpbmct
PmVtaXQpOwo+IC0KPiAtCQlmbHVzaF9nZ3R0X3dyaXRlcyhjZS0+cmluZy0+dm1hKTsKPiAtCX0K
PiAtCj4gLQlzcGluX2xvY2tfaXJxKCZjbGllbnQtPndxX2xvY2spOwo+IC0JZ3VjX3dxX2l0ZW1f
YXBwZW5kKGNsaWVudCwgZW5naW5lLT5ndWNfaWQsIGxvd2VyXzMyX2JpdHMoY2UtPmxyY19kZXNj
KSwKPiAtCQkJICAgR1VDX1BSRUVNUFRfQlJFQURDUlVNQl9CWVRFUyAvIHNpemVvZih1NjQpLCAw
KTsKPiAtCXNwaW5fdW5sb2NrX2lycSgmY2xpZW50LT53cV9sb2NrKTsKPiAtCj4gLQkvKgo+IC0J
ICogSWYgR3VDIGZpcm13YXJlIHBlcmZvcm1zIGFuIGVuZ2luZSByZXNldCB3aGlsZSB0aGF0IGVu
Z2luZSBoYWQKPiAtCSAqIGEgcHJlZW1wdGlvbiBwZW5kaW5nLCBpdCB3aWxsIHNldCB0aGUgdGVy
bWluYXRlZCBhdHRyaWJ1dGUgYml0Cj4gLQkgKiBvbiBvdXIgcHJlZW1wdGlvbiBzdGFnZSBkZXNj
cmlwdG9yLiBHdUMgZmlybXdhcmUgcmV0YWlucyBhbGwKPiAtCSAqIHBlbmRpbmcgd29yayBpdGVt
cyBmb3IgYSBoaWdoLXByaW9yaXR5IEd1QyBjbGllbnQsIHVubGlrZSB0aGUKPiAtCSAqIG5vcm1h
bC1wcmlvcml0eSBHdUMgY2xpZW50IHdoZXJlIHdvcmsgaXRlbXMgYXJlIGRyb3BwZWQuIEl0Cj4g
LQkgKiB3YW50cyB0byBtYWtlIHN1cmUgdGhlIHByZWVtcHQtdG8taWRsZSB3b3JrIGRvZXNuJ3Qg
cnVuIHdoZW4KPiAtCSAqIHNjaGVkdWxpbmcgcmVzdW1lcywgYW5kIHVzZXMgdGhpcyBiaXQgdG8g
aW5mb3JtIGl0cyBzY2hlZHVsZXIKPiAtCSAqIGFuZCBwcmVzdW1hYmx5IHVzIGFzIHdlbGwuIE91
ciBqb2IgaXMgdG8gY2xlYXIgaXQgZm9yIHRoZSBuZXh0Cj4gLQkgKiBwcmVlbXB0aW9uIGFmdGVy
IHJlc2V0LCBvdGhlcndpc2UgdGhhdCBhbmQgZnV0dXJlIHByZWVtcHRpb25zCj4gLQkgKiB3aWxs
IG5ldmVyIGNvbXBsZXRlLiBXZSdsbCBqdXN0IGNsZWFyIGl0IGV2ZXJ5IHRpbWUuCj4gLQkgKi8K
PiAtCXN0YWdlX2Rlc2MtPmF0dHJpYnV0ZSAmPSB+R1VDX1NUQUdFX0RFU0NfQVRUUl9URVJNSU5B
VEVEOwo+IC0KPiAtCWRhdGFbMF0gPSBJTlRFTF9HVUNfQUNUSU9OX1JFUVVFU1RfUFJFRU1QVElP
TjsKPiAtCWRhdGFbMV0gPSBjbGllbnQtPnN0YWdlX2lkOwo+IC0JZGF0YVsyXSA9IElOVEVMX0dV
Q19QUkVFTVBUX09QVElPTl9EUk9QX1dPUktfUSB8Cj4gLQkJICBJTlRFTF9HVUNfUFJFRU1QVF9P
UFRJT05fRFJPUF9TVUJNSVRfUTsKPiAtCWRhdGFbM10gPSBlbmdpbmUtPmd1Y19pZDsKPiAtCWRh
dGFbNF0gPSBndWMtPmV4ZWNidWZfY2xpZW50LT5wcmlvcml0eTsKPiAtCWRhdGFbNV0gPSBndWMt
PmV4ZWNidWZfY2xpZW50LT5zdGFnZV9pZDsKPiAtCWRhdGFbNl0gPSBpbnRlbF9ndWNfZ2d0dF9v
ZmZzZXQoZ3VjLCBndWMtPnNoYXJlZF9kYXRhKTsKPiAtCj4gLQlpZiAoV0FSTl9PTihpbnRlbF9n
dWNfc2VuZChndWMsIGRhdGEsIEFSUkFZX1NJWkUoZGF0YSkpKSkgewo+IC0JCWludGVsX3dyaXRl
X3N0YXR1c19wYWdlKGVuZ2luZSwKPiAtCQkJCQlJOTE1X0dFTV9IV1NfUFJFRU1QVCwKPiAtCQkJ
CQlHVUNfUFJFRU1QVF9OT05FKTsKPiAtCQl0YXNrbGV0X3NjaGVkdWxlKCZlbmdpbmUtPmV4ZWNs
aXN0cy50YXNrbGV0KTsKPiAtCX0KPiAtCj4gLQkodm9pZClJOTE1X1NFTEZURVNUX09OTFkoZW5n
aW5lLT5leGVjbGlzdHMucHJlZW1wdF9oYW5nLmNvdW50KyspOwo+IC19Cj4gLQo+IC0vKgo+IC0g
KiBXZSdyZSB1c2luZyB1c2VyIGludGVycnVwdCBhbmQgSFdTUCB2YWx1ZSB0byBtYXJrIHRoYXQg
cHJlZW1wdGlvbiBoYXMKPiAtICogZmluaXNoZWQgYW5kIEdQVSBpcyBpZGxlLiBOb3JtYWxseSwg
d2UgY291bGQgdW53aW5kIGFuZCBjb250aW51ZSBzaW1pbGFyIHRvCj4gLSAqIGV4ZWNsaXN0cyBz
dWJtaXNzaW9uIHBhdGguIFVuZm9ydHVuYXRlbHksIHdpdGggR3VDIHdlIGFsc28gbmVlZCB0byB3
YWl0IGZvcgo+IC0gKiBpdCB0byBmaW5pc2ggaXRzIG93biBwb3N0cHJvY2Vzc2luZywgYmVmb3Jl
IGF0dGVtcHRpbmcgdG8gc3VibWl0LiBPdGhlcndpc2UKPiAtICogR3VDIG1heSBzaWxlbnRseSBp
Z25vcmUgb3VyIHN1Ym1pc3Npb25zLCBhbmQgdGh1cyB3ZSByaXNrIGxvc2luZyByZXF1ZXN0IGF0
Cj4gLSAqIGJlc3QsIGV4ZWN1dGluZyBvdXQtb2Ytb3JkZXIgYW5kIGNhdXNpbmcga2VybmVsIHBh
bmljIGF0IHdvcnN0Lgo+IC0gKi8KPiAtI2RlZmluZSBHVUNfUFJFRU1QVF9QT1NUUFJPQ0VTU19E
RUxBWV9NUyAxMAo+IC1zdGF0aWMgdm9pZCB3YWl0X2Zvcl9ndWNfcHJlZW1wdF9yZXBvcnQoc3Ry
dWN0IGludGVsX2VuZ2luZV9jcyAqZW5naW5lKQo+IC17Cj4gLQlzdHJ1Y3QgaW50ZWxfZ3VjICpn
dWMgPSAmZW5naW5lLT5pOTE1LT5ndWM7Cj4gLQlzdHJ1Y3QgZ3VjX3NoYXJlZF9jdHhfZGF0YSAq
ZGF0YSA9IGd1Yy0+c2hhcmVkX2RhdGFfdmFkZHI7Cj4gLQlzdHJ1Y3QgZ3VjX2N0eF9yZXBvcnQg
KnJlcG9ydCA9Cj4gLQkJJmRhdGEtPnByZWVtcHRfY3R4X3JlcG9ydFtlbmdpbmUtPmd1Y19pZF07
Cj4gLQo+IC0JaWYgKHdhaXRfZm9yX2F0b21pYyhyZXBvcnQtPnJlcG9ydF9yZXR1cm5fc3RhdHVz
ID09Cj4gLQkJCSAgICBJTlRFTF9HVUNfUkVQT1JUX1NUQVRVU19DT01QTEVURSwKPiAtCQkJICAg
IEdVQ19QUkVFTVBUX1BPU1RQUk9DRVNTX0RFTEFZX01TKSkKPiAtCQlEUk1fRVJST1IoIlRpbWVk
IG91dCB3YWl0aW5nIGZvciBHdUMgcHJlZW1wdGlvbiByZXBvcnRcbiIpOwo+IC0JLyoKPiAtCSAq
IEd1QyBpcyBleHBlY3RpbmcgdGhhdCB3ZSdyZSBhbHNvIGdvaW5nIHRvIGNsZWFyIHRoZSBhZmZl
Y3RlZCBjb250ZXh0Cj4gLQkgKiBjb3VudGVyLCBsZXQncyBhbHNvIHJlc2V0IHRoZSByZXR1cm4g
c3RhdHVzIHRvIG5vdCBkZXBlbmQgb24gR3VDCj4gLQkgKiByZXNldHRpbmcgaXQgYWZ0ZXIgcmVj
aWV2aW5nIGFub3RoZXIgcHJlZW1wdCBhY3Rpb24KPiAtCSAqLwo+IC0JcmVwb3J0LT5hZmZlY3Rl
ZF9jb3VudCA9IDA7Cj4gLQlyZXBvcnQtPnJlcG9ydF9yZXR1cm5fc3RhdHVzID0gSU5URUxfR1VD
X1JFUE9SVF9TVEFUVVNfVU5LTk9XTjsKPiAtfQo+IC0KPiAtc3RhdGljIHZvaWQgY29tcGxldGVf
cHJlZW1wdF9jb250ZXh0KHN0cnVjdCBpbnRlbF9lbmdpbmVfY3MgKmVuZ2luZSkKPiAtewo+IC0J
c3RydWN0IGludGVsX2VuZ2luZV9leGVjbGlzdHMgKmV4ZWNsaXN0cyA9ICZlbmdpbmUtPmV4ZWNs
aXN0czsKPiAtCj4gLQlpZiAoaW5qZWN0X3ByZWVtcHRfaGFuZyhleGVjbGlzdHMpKQo+IC0JCXJl
dHVybjsKPiAtCj4gLQlleGVjbGlzdHNfY2FuY2VsX3BvcnRfcmVxdWVzdHMoZXhlY2xpc3RzKTsK
PiAtCWV4ZWNsaXN0c191bndpbmRfaW5jb21wbGV0ZV9yZXF1ZXN0cyhleGVjbGlzdHMpOwo+IC0K
PiAtCXdhaXRfZm9yX2d1Y19wcmVlbXB0X3JlcG9ydChlbmdpbmUpOwo+IC0JaW50ZWxfd3JpdGVf
c3RhdHVzX3BhZ2UoZW5naW5lLCBJOTE1X0dFTV9IV1NfUFJFRU1QVCwgR1VDX1BSRUVNUFRfTk9O
RSk7Cj4gLX0KPiAtCj4gIHN0YXRpYyB2b2lkIGd1Y19zdWJtaXQoc3RydWN0IGludGVsX2VuZ2lu
ZV9jcyAqZW5naW5lLAo+ICAJCSAgICAgICBzdHJ1Y3QgaTkxNV9yZXF1ZXN0ICoqb3V0LAo+ICAJ
CSAgICAgICBzdHJ1Y3QgaTkxNV9yZXF1ZXN0ICoqZW5kKQo+IEBAIC03MDcsMTYgKzU4MCw2IEBA
IHN0YXRpYyBpbmxpbmUgaW50IHJxX3ByaW8oY29uc3Qgc3RydWN0IGk5MTVfcmVxdWVzdCAqcnEp
Cj4gIAlyZXR1cm4gcnEtPnNjaGVkLmF0dHIucHJpb3JpdHkgfCBfX05PX1BSRUVNUFRJT047Cj4g
IH0KPiAgCj4gLXN0YXRpYyBpbmxpbmUgaW50IGVmZmVjdGl2ZV9wcmlvKGNvbnN0IHN0cnVjdCBp
OTE1X3JlcXVlc3QgKnJxKQo+IC17Cj4gLQlpbnQgcHJpbyA9IHJxX3ByaW8ocnEpOwo+IC0KPiAt
CWlmIChpOTE1X3JlcXVlc3RfaGFzX25vcHJlZW1wdChycSkpCj4gLQkJcHJpbyA9IEk5MTVfUFJJ
T1JJVFlfVU5QUkVFTVBUQUJMRTsKPiAtCj4gLQlyZXR1cm4gcHJpbzsKPiAtfQo+IC0KPiAgc3Rh
dGljIHN0cnVjdCBpOTE1X3JlcXVlc3QgKnNjaGVkdWxlX2luKHN0cnVjdCBpOTE1X3JlcXVlc3Qg
KnJxLCBpbnQgaWR4KQo+ICB7Cj4gIAl0cmFjZV9pOTE1X3JlcXVlc3RfaW4ocnEsIGlkeCk7Cj4g
QEAgLTc1MiwyMiArNjE1LDYgQEAgc3RhdGljIHZvaWQgX19ndWNfZGVxdWV1ZShzdHJ1Y3QgaW50
ZWxfZW5naW5lX2NzICplbmdpbmUpCj4gIAlsb2NrZGVwX2Fzc2VydF9oZWxkKCZlbmdpbmUtPmFj
dGl2ZS5sb2NrKTsKPiAgCj4gIAlpZiAobGFzdCkgewo+IC0JCWlmIChpbnRlbF9lbmdpbmVfaGFz
X3ByZWVtcHRpb24oZW5naW5lKSkgewo+IC0JCQlzdHJ1Y3QgZ3VjX3ByZWVtcHRfd29yayAqcHJl
ZW1wdF93b3JrID0KPiAtCQkJCSZlbmdpbmUtPmk5MTUtPmd1Yy5wcmVlbXB0X3dvcmtbZW5naW5l
LT5pZF07Cj4gLQkJCWludCBwcmlvID0gZXhlY2xpc3RzLT5xdWV1ZV9wcmlvcml0eV9oaW50Owo+
IC0KPiAtCQkJaWYgKGk5MTVfc2NoZWR1bGVyX25lZWRfcHJlZW1wdChwcmlvLAo+IC0JCQkJCQkJ
ZWZmZWN0aXZlX3ByaW8obGFzdCkpKSB7Cj4gLQkJCQlpbnRlbF93cml0ZV9zdGF0dXNfcGFnZShl
bmdpbmUsCj4gLQkJCQkJCQlJOTE1X0dFTV9IV1NfUFJFRU1QVCwKPiAtCQkJCQkJCUdVQ19QUkVF
TVBUX0lOUFJPR1JFU1MpOwo+IC0JCQkJcXVldWVfd29yayhlbmdpbmUtPmk5MTUtPmd1Yy5wcmVl
bXB0X3dxLAo+IC0JCQkJCSAgICZwcmVlbXB0X3dvcmstPndvcmspOwo+IC0JCQkJcmV0dXJuOwo+
IC0JCQl9Cj4gLQkJfQo+IC0KPiAgCQlpZiAoKisrZmlyc3QpCj4gIAkJCXJldHVybjsKPiAgCj4g
QEAgLTgzMSwxMiArNjc4LDcgQEAgc3RhdGljIHZvaWQgZ3VjX3N1Ym1pc3Npb25fdGFza2xldCh1
bnNpZ25lZCBsb25nIGRhdGEpCj4gIAkJbWVtbW92ZShleGVjbGlzdHMtPmluZmxpZ2h0LCBwb3J0
LCByZW0gKiBzaXplb2YoKnBvcnQpKTsKPiAgCX0KPiAgCj4gLQlpZiAoaW50ZWxfcmVhZF9zdGF0
dXNfcGFnZShlbmdpbmUsIEk5MTVfR0VNX0hXU19QUkVFTVBUKSA9PQo+IC0JICAgIEdVQ19QUkVF
TVBUX0ZJTklTSEVEKQo+IC0JCWNvbXBsZXRlX3ByZWVtcHRfY29udGV4dChlbmdpbmUpOwo+IC0K
PiAtCWlmICghaW50ZWxfcmVhZF9zdGF0dXNfcGFnZShlbmdpbmUsIEk5MTVfR0VNX0hXU19QUkVF
TVBUKSkKPiAtCQlfX2d1Y19kZXF1ZXVlKGVuZ2luZSk7Cj4gKwlfX2d1Y19kZXF1ZXVlKGVuZ2lu
ZSk7Cj4gIAo+ICAJc3Bpbl91bmxvY2tfaXJxcmVzdG9yZSgmZW5naW5lLT5hY3RpdmUubG9jaywg
ZmxhZ3MpOwo+ICB9Cj4gQEAgLTg1NywxNiArNjk5LDYgQEAgc3RhdGljIHZvaWQgZ3VjX3Jlc2V0
X3ByZXBhcmUoc3RydWN0IGludGVsX2VuZ2luZV9jcyAqZW5naW5lKQo+ICAJICogcHJldmVudHMg
dGhlIHJhY2UuCj4gIAkgKi8KPiAgCV9fdGFza2xldF9kaXNhYmxlX3N5bmNfb25jZSgmZXhlY2xp
c3RzLT50YXNrbGV0KTsKPiAtCj4gLQkvKgo+IC0JICogV2UncmUgdXNpbmcgd29ya2VyIHRvIHF1
ZXVlIHByZWVtcHRpb24gcmVxdWVzdHMgZnJvbSB0aGUgdGFza2xldCBpbgo+IC0JICogR3VDIHN1
Ym1pc3Npb24gbW9kZS4KPiAtCSAqIEV2ZW4gdGhvdWdoIHRhc2tsZXQgd2FzIGRpc2FibGVkLCB3
ZSBtYXkgc3RpbGwgaGF2ZSBhIHdvcmtlciBxdWV1ZWQuCj4gLQkgKiBMZXQncyBtYWtlIHN1cmUg
dGhhdCBhbGwgd29ya2VycyBzY2hlZHVsZWQgYmVmb3JlIGRpc2FibGluZyB0aGUKPiAtCSAqIHRh
c2tsZXQgYXJlIGNvbXBsZXRlZCBiZWZvcmUgY29udGludWluZyB3aXRoIHRoZSByZXNldC4KPiAt
CSAqLwo+IC0JaWYgKGVuZ2luZS0+aTkxNS0+Z3VjLnByZWVtcHRfd3EpCj4gLQkJZmx1c2hfd29y
a3F1ZXVlKGVuZ2luZS0+aTkxNS0+Z3VjLnByZWVtcHRfd3EpOwo+ICB9Cj4gIAo+ICBzdGF0aWMg
dm9pZCBndWNfcmVzZXQoc3RydWN0IGludGVsX2VuZ2luZV9jcyAqZW5naW5lLCBib29sIHN0YWxs
ZWQpCj4gQEAgLTExMjMsNyArOTU1LDYgQEAgc3RhdGljIGludCBndWNfY2xpZW50c19jcmVhdGUo
c3RydWN0IGludGVsX2d1YyAqZ3VjKQo+ICAJc3RydWN0IGludGVsX2d1Y19jbGllbnQgKmNsaWVu
dDsKPiAgCj4gIAlHRU1fQlVHX09OKGd1Yy0+ZXhlY2J1Zl9jbGllbnQpOwo+IC0JR0VNX0JVR19P
TihndWMtPnByZWVtcHRfY2xpZW50KTsKPiAgCj4gIAljbGllbnQgPSBndWNfY2xpZW50X2FsbG9j
KGRldl9wcml2LAo+ICAJCQkJICBJTlRFTF9JTkZPKGRldl9wcml2KS0+ZW5naW5lX21hc2ssCj4g
QEAgLTExMzUsMjAgKzk2Niw2IEBAIHN0YXRpYyBpbnQgZ3VjX2NsaWVudHNfY3JlYXRlKHN0cnVj
dCBpbnRlbF9ndWMgKmd1YykKPiAgCX0KPiAgCWd1Yy0+ZXhlY2J1Zl9jbGllbnQgPSBjbGllbnQ7
Cj4gIAo+IC0JaWYgKGRldl9wcml2LT5wcmVlbXB0X2NvbnRleHQpIHsKPiAtCQljbGllbnQgPSBn
dWNfY2xpZW50X2FsbG9jKGRldl9wcml2LAo+IC0JCQkJCSAgSU5URUxfSU5GTyhkZXZfcHJpdikt
PmVuZ2luZV9tYXNrLAo+IC0JCQkJCSAgR1VDX0NMSUVOVF9QUklPUklUWV9LTURfSElHSCwKPiAt
CQkJCQkgIGRldl9wcml2LT5wcmVlbXB0X2NvbnRleHQpOwo+IC0JCWlmIChJU19FUlIoY2xpZW50
KSkgewo+IC0JCQlEUk1fRVJST1IoIkZhaWxlZCB0byBjcmVhdGUgR3VDIGNsaWVudCBmb3IgcHJl
ZW1wdGlvbiFcbiIpOwo+IC0JCQlndWNfY2xpZW50X2ZyZWUoZ3VjLT5leGVjYnVmX2NsaWVudCk7
Cj4gLQkJCWd1Yy0+ZXhlY2J1Zl9jbGllbnQgPSBOVUxMOwo+IC0JCQlyZXR1cm4gUFRSX0VSUihj
bGllbnQpOwo+IC0JCX0KPiAtCQlndWMtPnByZWVtcHRfY2xpZW50ID0gY2xpZW50Owo+IC0JfQo+
IC0KPiAgCXJldHVybiAwOwo+ICB9Cj4gIAo+IEBAIC0xMTU2LDEwICs5NzMsNiBAQCBzdGF0aWMg
dm9pZCBndWNfY2xpZW50c19kZXN0cm95KHN0cnVjdCBpbnRlbF9ndWMgKmd1YykKPiAgewo+ICAJ
c3RydWN0IGludGVsX2d1Y19jbGllbnQgKmNsaWVudDsKPiAgCj4gLQljbGllbnQgPSBmZXRjaF9h
bmRfemVybygmZ3VjLT5wcmVlbXB0X2NsaWVudCk7Cj4gLQlpZiAoY2xpZW50KQo+IC0JCWd1Y19j
bGllbnRfZnJlZShjbGllbnQpOwo+IC0KPiAgCWNsaWVudCA9IGZldGNoX2FuZF96ZXJvKCZndWMt
PmV4ZWNidWZfY2xpZW50KTsKPiAgCWlmIChjbGllbnQpCj4gIAkJZ3VjX2NsaWVudF9mcmVlKGNs
aWVudCk7Cj4gQEAgLTEyMDIsMjggKzEwMTUsMTEgQEAgc3RhdGljIHZvaWQgX19ndWNfY2xpZW50
X2Rpc2FibGUoc3RydWN0IGludGVsX2d1Y19jbGllbnQgKmNsaWVudCkKPiAgCj4gIHN0YXRpYyBp
bnQgZ3VjX2NsaWVudHNfZW5hYmxlKHN0cnVjdCBpbnRlbF9ndWMgKmd1YykKPiAgewo+IC0JaW50
IHJldDsKPiAtCj4gLQlyZXQgPSBfX2d1Y19jbGllbnRfZW5hYmxlKGd1Yy0+ZXhlY2J1Zl9jbGll
bnQpOwo+IC0JaWYgKHJldCkKPiAtCQlyZXR1cm4gcmV0Owo+IC0KPiAtCWlmIChndWMtPnByZWVt
cHRfY2xpZW50KSB7Cj4gLQkJcmV0ID0gX19ndWNfY2xpZW50X2VuYWJsZShndWMtPnByZWVtcHRf
Y2xpZW50KTsKPiAtCQlpZiAocmV0KSB7Cj4gLQkJCV9fZ3VjX2NsaWVudF9kaXNhYmxlKGd1Yy0+
ZXhlY2J1Zl9jbGllbnQpOwo+IC0JCQlyZXR1cm4gcmV0Owo+IC0JCX0KPiAtCX0KPiAtCj4gLQly
ZXR1cm4gMDsKPiArCXJldHVybiBfX2d1Y19jbGllbnRfZW5hYmxlKGd1Yy0+ZXhlY2J1Zl9jbGll
bnQpOwo+ICB9Cj4gIAo+ICBzdGF0aWMgdm9pZCBndWNfY2xpZW50c19kaXNhYmxlKHN0cnVjdCBp
bnRlbF9ndWMgKmd1YykKPiAgewo+IC0JaWYgKGd1Yy0+cHJlZW1wdF9jbGllbnQpCj4gLQkJX19n
dWNfY2xpZW50X2Rpc2FibGUoZ3VjLT5wcmVlbXB0X2NsaWVudCk7Cj4gLQo+ICAJaWYgKGd1Yy0+
ZXhlY2J1Zl9jbGllbnQpCj4gIAkJX19ndWNfY2xpZW50X2Rpc2FibGUoZ3VjLT5leGVjYnVmX2Ns
aWVudCk7Cj4gIH0KPiBAQCAtMTIzNCw5ICsxMDMwLDYgQEAgc3RhdGljIHZvaWQgZ3VjX2NsaWVu
dHNfZGlzYWJsZShzdHJ1Y3QgaW50ZWxfZ3VjICpndWMpCj4gICAqLwo+ICBpbnQgaW50ZWxfZ3Vj
X3N1Ym1pc3Npb25faW5pdChzdHJ1Y3QgaW50ZWxfZ3VjICpndWMpCj4gIHsKPiAtCXN0cnVjdCBk
cm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiA9IGd1Y190b19pOTE1KGd1Yyk7Cj4gLQlzdHJ1Y3Qg
aW50ZWxfZW5naW5lX2NzICplbmdpbmU7Cj4gLQllbnVtIGludGVsX2VuZ2luZV9pZCBpZDsKPiAg
CWludCByZXQ7Cj4gIAo+ICAJaWYgKGd1Yy0+c3RhZ2VfZGVzY19wb29sKQo+IEBAIC0xMjU2LDEx
ICsxMDQ5LDYgQEAgaW50IGludGVsX2d1Y19zdWJtaXNzaW9uX2luaXQoc3RydWN0IGludGVsX2d1
YyAqZ3VjKQo+ICAJaWYgKHJldCkKPiAgCQlnb3RvIGVycl9wb29sOwo+ICAKPiAtCWZvcl9lYWNo
X2VuZ2luZShlbmdpbmUsIGRldl9wcml2LCBpZCkgewo+IC0JCWd1Yy0+cHJlZW1wdF93b3JrW2lk
XS5lbmdpbmUgPSBlbmdpbmU7Cj4gLQkJSU5JVF9XT1JLKCZndWMtPnByZWVtcHRfd29ya1tpZF0u
d29yaywgaW5qZWN0X3ByZWVtcHRfY29udGV4dCk7Cj4gLQl9Cj4gLQo+ICAJcmV0dXJuIDA7Cj4g
IAo+ICBlcnJfcG9vbDoKPiBAQCAtMTI3MCwxMyArMTA1OCw2IEBAIGludCBpbnRlbF9ndWNfc3Vi
bWlzc2lvbl9pbml0KHN0cnVjdCBpbnRlbF9ndWMgKmd1YykKPiAgCj4gIHZvaWQgaW50ZWxfZ3Vj
X3N1Ym1pc3Npb25fZmluaShzdHJ1Y3QgaW50ZWxfZ3VjICpndWMpCj4gIHsKPiAtCXN0cnVjdCBk
cm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiA9IGd1Y190b19pOTE1KGd1Yyk7Cj4gLQlzdHJ1Y3Qg
aW50ZWxfZW5naW5lX2NzICplbmdpbmU7Cj4gLQllbnVtIGludGVsX2VuZ2luZV9pZCBpZDsKPiAt
Cj4gLQlmb3JfZWFjaF9lbmdpbmUoZW5naW5lLCBkZXZfcHJpdiwgaWQpCj4gLQkJY2FuY2VsX3dv
cmtfc3luYygmZ3VjLT5wcmVlbXB0X3dvcmtbaWRdLndvcmspOwo+IC0KPiAgCWd1Y19jbGllbnRz
X2Rlc3Ryb3koZ3VjKTsKPiAgCVdBUk5fT04oIWd1Y192ZXJpZnlfZG9vcmJlbGxzKGd1YykpOwo+
ICAKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvc2VsZnRlc3RzL2ludGVsX2d1
Yy5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvc2VsZnRlc3RzL2ludGVsX2d1Yy5jCj4gaW5kZXgg
NmNhODU4NGNkNjRjLi4xYTE5MTVlNDRmNmIgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJt
L2k5MTUvc2VsZnRlc3RzL2ludGVsX2d1Yy5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUv
c2VsZnRlc3RzL2ludGVsX2d1Yy5jCj4gQEAgLTEwMywxMyArMTAzLDEwIEBAIHN0YXRpYyBpbnQg
cmluZ19kb29yYmVsbF9ub3Aoc3RydWN0IGludGVsX2d1Y19jbGllbnQgKmNsaWVudCkKPiAgLyoK
PiAgICogQmFzaWMgY2xpZW50IHNhbml0eSBjaGVjaywgaGFuZHkgdG8gdmFsaWRhdGUgY3JlYXRl
X2NsaWVudHMuCj4gICAqLwo+IC1zdGF0aWMgaW50IHZhbGlkYXRlX2NsaWVudChzdHJ1Y3QgaW50
ZWxfZ3VjX2NsaWVudCAqY2xpZW50LAo+IC0JCQkgICBpbnQgY2xpZW50X3ByaW9yaXR5LAo+IC0J
CQkgICBib29sIGlzX3ByZWVtcHRfY2xpZW50KQo+ICtzdGF0aWMgaW50IHZhbGlkYXRlX2NsaWVu
dChzdHJ1Y3QgaW50ZWxfZ3VjX2NsaWVudCAqY2xpZW50LCBpbnQgY2xpZW50X3ByaW9yaXR5KQo+
ICB7Cj4gIAlzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYgPSBndWNfdG9faTkxNShj
bGllbnQtPmd1Yyk7Cj4gLQlzdHJ1Y3QgaTkxNV9nZW1fY29udGV4dCAqY3R4X293bmVyID0gaXNf
cHJlZW1wdF9jbGllbnQgPwo+IC0JCQlkZXZfcHJpdi0+cHJlZW1wdF9jb250ZXh0IDogZGV2X3By
aXYtPmtlcm5lbF9jb250ZXh0Owo+ICsJc3RydWN0IGk5MTVfZ2VtX2NvbnRleHQgKmN0eF9vd25l
ciA9IGRldl9wcml2LT5rZXJuZWxfY29udGV4dDsKPiAgCj4gIAlpZiAoY2xpZW50LT5vd25lciAh
PSBjdHhfb3duZXIgfHwKPiAgCSAgICBjbGllbnQtPmVuZ2luZXMgIT0gSU5URUxfSU5GTyhkZXZf
cHJpdiktPmVuZ2luZV9tYXNrIHx8Cj4gQEAgLTE2Myw3ICsxNjAsNyBAQCBzdGF0aWMgaW50IGln
dF9ndWNfY2xpZW50cyh2b2lkICphcmdzKQo+ICAJICovCj4gIAlndWNfY2xpZW50c19kaXNhYmxl
KGd1Yyk7Cj4gIAlndWNfY2xpZW50c19kZXN0cm95KGd1Yyk7Cj4gLQlpZiAoZ3VjLT5leGVjYnVm
X2NsaWVudCB8fCBndWMtPnByZWVtcHRfY2xpZW50KSB7Cj4gKwlpZiAoZ3VjLT5leGVjYnVmX2Ns
aWVudCkgewo+ICAJCXByX2VycigiZ3VjX2NsaWVudHNfZGVzdHJveSBsaWVkIVxuIik7Cj4gIAkJ
ZXJyID0gLUVJTlZBTDsKPiAgCQlnb3RvIHVubG9jazsKPiBAQCAtMTc3LDI0ICsxNzQsMTQgQEAg
c3RhdGljIGludCBpZ3RfZ3VjX2NsaWVudHModm9pZCAqYXJncykKPiAgCUdFTV9CVUdfT04oIWd1
Yy0+ZXhlY2J1Zl9jbGllbnQpOwo+ICAKPiAgCWVyciA9IHZhbGlkYXRlX2NsaWVudChndWMtPmV4
ZWNidWZfY2xpZW50LAo+IC0JCQkgICAgICBHVUNfQ0xJRU5UX1BSSU9SSVRZX0tNRF9OT1JNQUws
IGZhbHNlKTsKPiArCQkJICAgICAgR1VDX0NMSUVOVF9QUklPUklUWV9LTURfTk9STUFMKTsKPiAg
CWlmIChlcnIpIHsKPiAgCQlwcl9lcnIoImV4ZWNidWcgY2xpZW50IHZhbGlkYXRpb24gZmFpbGVk
XG4iKTsKPiAgCQlnb3RvIG91dDsKPiAgCX0KPiAgCj4gLQlpZiAoZ3VjLT5wcmVlbXB0X2NsaWVu
dCkgewo+IC0JCWVyciA9IHZhbGlkYXRlX2NsaWVudChndWMtPnByZWVtcHRfY2xpZW50LAo+IC0J
CQkJICAgICAgR1VDX0NMSUVOVF9QUklPUklUWV9LTURfSElHSCwgdHJ1ZSk7Cj4gLQkJaWYgKGVy
cikgewo+IC0JCQlwcl9lcnIoInByZWVtcHQgY2xpZW50IHZhbGlkYXRpb24gZmFpbGVkXG4iKTsK
PiAtCQkJZ290byBvdXQ7Cj4gLQkJfQo+IC0JfQo+IC0KPiAtCS8qIGVhY2ggY2xpZW50IHNob3Vs
ZCBub3cgaGF2ZSByZXNlcnZlZCBhIGRvb3JiZWxsICovCj4gLQlpZiAoIWhhc19kb29yYmVsbChn
dWMtPmV4ZWNidWZfY2xpZW50KSB8fAo+IC0JICAgIChndWMtPnByZWVtcHRfY2xpZW50ICYmICFo
YXNfZG9vcmJlbGwoZ3VjLT5wcmVlbXB0X2NsaWVudCkpKSB7Cj4gKwkvKiB0aGUgY2xpZW50IHNo
b3VsZCBub3cgaGF2ZSByZXNlcnZlZCBhIGRvb3JiZWxsICovCj4gKwlpZiAoIWhhc19kb29yYmVs
bChndWMtPmV4ZWNidWZfY2xpZW50KSkgewo+ICAJCXByX2VycigiZ3VjX2NsaWVudHNfY3JlYXRl
IGRpZG4ndCByZXNlcnZlIGRvb3JiZWxsc1xuIik7Cj4gIAkJZXJyID0gLUVJTlZBTDsKPiAgCQln
b3RvIG91dDsKPiBAQCAtMjA0LDggKzE5MSw3IEBAIHN0YXRpYyBpbnQgaWd0X2d1Y19jbGllbnRz
KHZvaWQgKmFyZ3MpCj4gIAlndWNfY2xpZW50c19lbmFibGUoZ3VjKTsKPiAgCj4gIAkvKiBlYWNo
IGNsaWVudCBzaG91bGQgbm93IGhhdmUgcmVjZWl2ZWQgYSBkb29yYmVsbCAqLwo+IC0JaWYgKCFj
bGllbnRfZG9vcmJlbGxfaW5fc3luYyhndWMtPmV4ZWNidWZfY2xpZW50KSB8fAo+IC0JICAgICFj
bGllbnRfZG9vcmJlbGxfaW5fc3luYyhndWMtPnByZWVtcHRfY2xpZW50KSkgewo+ICsJaWYgKCFj
bGllbnRfZG9vcmJlbGxfaW5fc3luYyhndWMtPmV4ZWNidWZfY2xpZW50KSkgewo+ICAJCXByX2Vy
cigiZmFpbGVkIHRvIGluaXRpYWxpemUgdGhlIGRvb3JiZWxsc1xuIik7Cj4gIAkJZXJyID0gLUVJ
TlZBTDsKPiAgCQlnb3RvIG91dDsKPiBAQCAtMzAwLDggKzI4Niw3IEBAIHN0YXRpYyBpbnQgaWd0
X2d1Y19kb29yYmVsbHModm9pZCAqYXJnKQo+ICAJCQlnb3RvIG91dDsKPiAgCQl9Cj4gIAo+IC0J
CWVyciA9IHZhbGlkYXRlX2NsaWVudChjbGllbnRzW2ldLAo+IC0JCQkJICAgICAgaSAlIEdVQ19D
TElFTlRfUFJJT1JJVFlfTlVNLCBmYWxzZSk7Cj4gKwkJZXJyID0gdmFsaWRhdGVfY2xpZW50KGNs
aWVudHNbaV0sIGkgJSBHVUNfQ0xJRU5UX1BSSU9SSVRZX05VTSk7Cj4gIAkJaWYgKGVycikgewo+
ICAJCQlwcl9lcnIoIlslZF0gY2xpZW50X2FsbG9jIHNhbml0eSBjaGVjayBmYWlsZWQhXG4iLCBp
KTsKPiAgCQkJZXJyID0gLUVJTlZBTDsKPiAtLSAKPiAyLjIwLjEKPiAKPiBfX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwo+IEludGVsLWdmeCBtYWlsaW5nIGxp
c3QKPiBJbnRlbC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCj4gaHR0cHM6Ly9saXN0cy5mcmVl
ZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9pbnRlbC1nZngKX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX18KSW50ZWwtZ2Z4IG1haWxpbmcgbGlzdApJbnRl
bC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3Jn
L21haWxtYW4vbGlzdGluZm8vaW50ZWwtZ2Z4

Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 40E09B4ECC
	for <lists+intel-gfx@lfdr.de>; Tue, 17 Sep 2019 15:09:54 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 80C6C89DA6;
	Tue, 17 Sep 2019 13:09:52 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from fireflyinternet.com (mail.fireflyinternet.com [109.228.58.192])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 6460289DA6;
 Tue, 17 Sep 2019 13:09:50 +0000 (UTC)
X-Default-Received-SPF: pass (skip=forwardok (res=PASS))
 x-ip-name=78.156.65.138; 
Received: from haswell.alporthouse.com (unverified [78.156.65.138]) 
 by fireflyinternet.com (Firefly Internet (M1)) with ESMTP id 18519645-1500050 
 for multiple; Tue, 17 Sep 2019 14:09:16 +0100
From: Chris Wilson <chris@chris-wilson.co.uk>
To: intel-gfx@lists.freedesktop.org
Date: Tue, 17 Sep 2019 14:09:13 +0100
Message-Id: <20190917130913.31702-1-chris@chris-wilson.co.uk>
X-Mailer: git-send-email 2.23.0
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH i-g-t] i915/gem_mmap_gtt: Replace forked-mmaped
 tests with a lighter variant
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: igt-dev@lists.freedesktop.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

SW50cm9kdWNlIGEgbmV3IDItcHJvY2VzcyBmb3JrIHRlc3QgdGhhdCBpcyBib3VuZCB0byBhIHNp
bmdsZSBjcHUgdG8KZXhlcmNpc2UgY29udGVudGlvbiBkdXJpbmcgcGFnZWZhdWx0cy4gVGhpcyBp
cyBhIG11Y2ggbGlnaHRlciB2YXJpYW50IG9mCnRoZSBhbGwtY3B1cyB0ZXN0IGludGVuZGVkIHRv
IGJlIHZpYWJsZSBldmVuIG9uIHRoZSBsZWdlbmRhcnkgZnJvemVuCmxha2VzIG9mIG1vbGFzc2Vz
LgoKUmVmZXJlbmNlczogaHR0cHM6Ly9idWdzLmZyZWVkZXNrdG9wLm9yZy9zaG93X2J1Zy5jZ2k/
aWQ9MTEwODgyClNpZ25lZC1vZmYtYnk6IENocmlzIFdpbHNvbiA8Y2hyaXNAY2hyaXMtd2lsc29u
LmNvLnVrPgpDYzogTWlrYSBLdW9wcGFsYSA8bWlrYS5rdW9wcGFsYUBsaW51eC5pbnRlbC5jb20+
CkNjOiBNYXJ0aW4gUGVyZXMgPG1hcnRpbi5wZXJlc0BsaW51eC5pbnRlbC5jb20+Ci0tLQogdGVz
dHMvaTkxNS9nZW1fbW1hcF9ndHQuYyAgICB8IDM2ICsrKysrKysrKysrKysrKysrKysrKysrKyst
LS0tLS0tLS0tLQogdGVzdHMvaW50ZWwtY2kvYmxhY2tsaXN0LnR4dCB8ICAyICstCiAyIGZpbGVz
IGNoYW5nZWQsIDI2IGluc2VydGlvbnMoKyksIDEyIGRlbGV0aW9ucygtKQoKZGlmZiAtLWdpdCBh
L3Rlc3RzL2k5MTUvZ2VtX21tYXBfZ3R0LmMgYi90ZXN0cy9pOTE1L2dlbV9tbWFwX2d0dC5jCmlu
ZGV4IGFjNDM5Y2RmOC4uMDQyOGExMzcyIDEwMDY0NAotLS0gYS90ZXN0cy9pOTE1L2dlbV9tbWFw
X2d0dC5jCisrKyBiL3Rlc3RzL2k5MTUvZ2VtX21tYXBfZ3R0LmMKQEAgLTc5Miw5ICs3OTIsNiBA
QCB0ZXN0X2h1Z2VfY29weShpbnQgZmQsIGludCBodWdlLCBpbnQgdGlsaW5nX2EsIGludCB0aWxp
bmdfYiwgaW50IG5jcHVzKQogCXVpbnQ2NF90IGh1Z2Vfb2JqZWN0X3NpemUsIGk7CiAJdW5zaWdu
ZWQgbW9kZSA9IENIRUNLX1JBTTsKIAotCWlndF9mYWlsX29uX2YoaW50ZWxfZ2VuKGRldmlkKSA+
PSAxMSAmJiBuY3B1cyA+IDEsCi0JCSAgICAgICJQbGVhc2UgYWRqdXN0IHlvdXIgZXhwZWN0YXRp
b25zLCBodHRwczovL2J1Z3MuZnJlZWRlc2t0b3Aub3JnL3Nob3dfYnVnLmNnaT9pZD0xMTA4ODJc
biIpOwotCiAJc3dpdGNoIChodWdlKSB7CiAJY2FzZSAtMjoKIAkJaHVnZV9vYmplY3Rfc2l6ZSA9
IGdlbV9tYXBwYWJsZV9hcGVydHVyZV9zaXplKCkgLyA0OwpAQCAtMTEzOCwxNyArMTEzNSwzNCBA
QCBpZ3RfbWFpbgogCQkJZm9yIChjb25zdCBzdHJ1Y3QgY29weV9tb2RlICptID0gY29weV9tb2Rl
czsgbS0+c3VmZml4OyBtKyspIHsKIAkJCQlpZ3Rfc3VidGVzdF9mKCIlcy1jb3B5JXMiLCBzLT5w
cmVmaXgsIG0tPnN1ZmZpeCkKIAkJCQkJdGVzdF9odWdlX2NvcHkoZmQsCi0JCQkJCQkJcy0+c2l6
ZSwKLQkJCQkJCQltLT50aWxpbmdfeCwKLQkJCQkJCQltLT50aWxpbmdfeSwKLQkJCQkJCQkxKTsK
KwkJCQkJCSAgICAgICBzLT5zaXplLAorCQkJCQkJICAgICAgIG0tPnRpbGluZ194LAorCQkJCQkJ
ICAgICAgIG0tPnRpbGluZ195LAorCQkJCQkJICAgICAgIDEpOworCisJCQkJaWd0X3N1YnRlc3Rf
ZigiY3B1c2V0LSVzLWNvcHklcyIsIHMtPnByZWZpeCwgbS0+c3VmZml4KSB7CisJCQkJCWNwdV9z
ZXRfdCBjcHUsIG9sZDsKKworCQkJCQlzY2hlZF9nZXRhZmZpbml0eSgwLCBzaXplb2Yob2xkKSwg
Jm9sZCk7CisKKwkJCQkJQ1BVX1pFUk8oJmNwdSk7CisJCQkJCUNQVV9TRVQoMCwgJmNwdSk7CisJ
CQkJCWlndF9hc3NlcnQoc2NoZWRfc2V0YWZmaW5pdHkoMCwgc2l6ZW9mKGNwdSksICZjcHUpID09
IDApOworCQkJCQl0ZXN0X2h1Z2VfY29weShmZCwKKwkJCQkJCSAgICAgICBzLT5zaXplLAorCQkJ
CQkJICAgICAgIG0tPnRpbGluZ194LAorCQkJCQkJICAgICAgIG0tPnRpbGluZ195LAorCQkJCQkJ
ICAgICAgIDIpOworCisJCQkJCWlndF9hc3NlcnQoc2NoZWRfc2V0YWZmaW5pdHkoMCwgc2l6ZW9m
KG9sZCksICZvbGQpID09IDApOworCQkJCX0KIAogCQkJCWlndF9zdWJ0ZXN0X2YoImZvcmtlZC0l
cy1jb3B5JXMiLCBzLT5wcmVmaXgsIG0tPnN1ZmZpeCkKIAkJCQkJdGVzdF9odWdlX2NvcHkoZmQs
Ci0JCQkJCQkJcy0+c2l6ZSwKLQkJCQkJCQltLT50aWxpbmdfeCwKLQkJCQkJCQltLT50aWxpbmdf
eSwKLQkJCQkJCQluY3B1cyk7CisJCQkJCQkgICAgICAgcy0+c2l6ZSwKKwkJCQkJCSAgICAgICBt
LT50aWxpbmdfeCwKKwkJCQkJCSAgICAgICBtLT50aWxpbmdfeSwKKwkJCQkJCSAgICAgICBuY3B1
cyk7CiAJCQl9CiAJfQogCmRpZmYgLS1naXQgYS90ZXN0cy9pbnRlbC1jaS9ibGFja2xpc3QudHh0
IGIvdGVzdHMvaW50ZWwtY2kvYmxhY2tsaXN0LnR4dAppbmRleCA4ZTNkYWZhOTguLjVmYTkxMTA1
ZiAxMDA2NDQKLS0tIGEvdGVzdHMvaW50ZWwtY2kvYmxhY2tsaXN0LnR4dAorKysgYi90ZXN0cy9p
bnRlbC1jaS9ibGFja2xpc3QudHh0CkBAIC00Nyw3ICs0Nyw3IEBAIGlndEBnZW1fZ3R0X2hvZyhA
LiopPwogaWd0QGdlbV9ndHRfc3BlZWQoQC4qKT8KIGlndEBnZW1faGFuZ2NoZWNrX2ZvcmNld2Fr
ZShALiopPwogaWd0QGdlbV9sdXRfaGFuZGxlKEAuKik/Ci1pZ3RAZ2VtX21tYXBfZ3R0QC4qKGh1
Z2V8c3dhcHxjbGZsdXNoKS4qCitpZ3RAZ2VtX21tYXBfZ3R0QC4qKGh1Z2V8c3dhcHxjbGZsdXNo
fGZvcmtlZCkuKgogaWd0QGdlbV9tbWFwQC4qKHN3YXB8aHVnZSkuKgogaWd0QGdlbV9tb2NzX3Nl
dHRpbmdzQC4qKHN1c3BlbmR8aGliZXJuYXRlKS4qCiBpZ3RAZ2VtX3BpbihALiopPwotLSAKMi4y
My4wCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpJbnRl
bC1nZnggbWFpbGluZyBsaXN0CkludGVsLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6
Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9pbnRlbC1nZng=

Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 4836810A340
	for <lists+intel-gfx@lfdr.de>; Tue, 26 Nov 2019 18:19:23 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 543C66E455;
	Tue, 26 Nov 2019 17:19:21 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from fireflyinternet.com (mail.fireflyinternet.com [109.228.58.192])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 711A26E455
 for <intel-gfx@lists.freedesktop.org>; Tue, 26 Nov 2019 17:19:19 +0000 (UTC)
X-Default-Received-SPF: pass (skip=forwardok (res=PASS))
 x-ip-name=78.156.65.138; 
Received: from localhost (unverified [78.156.65.138]) 
 by fireflyinternet.com (Firefly Internet (M1)) with ESMTP (TLS) id
 19347718-1500050 for multiple; Tue, 26 Nov 2019 17:19:21 +0000
MIME-Version: 1.0
From: Chris Wilson <chris@chris-wilson.co.uk>
User-Agent: alot/0.6
To: Tvrtko Ursulin <tvrtko.ursulin@linux.intel.com>,
 intel-gfx@lists.freedesktop.org
References: <20191126164712.2802694-1-chris@chris-wilson.co.uk>
 <5fa8398b-75df-6d61-92a2-681b54308fc6@linux.intel.com>
 <157478790800.18552.17333038666230795992@skylake-alporthouse-com>
 <6f599b6e-1011-2b96-f171-a624a466dc9d@linux.intel.com>
 <b6b3cdb0-cb2b-e25c-27f2-296405e2f944@linux.intel.com>
In-Reply-To: <b6b3cdb0-cb2b-e25c-27f2-296405e2f944@linux.intel.com>
Message-ID: <157478875456.18552.818039276088620055@skylake-alporthouse-com>
Date: Tue, 26 Nov 2019 17:19:14 +0000
Subject: Re: [Intel-gfx] [PATCH] drm/i915/selftest: If reconfigure_sseu is
 busy, try again
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

UXVvdGluZyBUdnJ0a28gVXJzdWxpbiAoMjAxOS0xMS0yNiAxNzoxMTowNCkKPiAKPiBPbiAyNi8x
MS8yMDE5IDE3OjA4LCBUdnJ0a28gVXJzdWxpbiB3cm90ZToKPiA+IAo+ID4gT24gMjYvMTEvMjAx
OSAxNzowNSwgQ2hyaXMgV2lsc29uIHdyb3RlOgo+ID4+IFF1b3RpbmcgVHZydGtvIFVyc3VsaW4g
KDIwMTktMTEtMjYgMTc6MDA6NTMpCj4gPj4+Cj4gPj4+IE9uIDI2LzExLzIwMTkgMTY6NDcsIENo
cmlzIFdpbHNvbiB3cm90ZToKPiA+Pj4+IEZvbGxvd2luZyA1OGI0YzFhMDdhZGEgKCJkcm0vaTkx
NTogUmVkdWNlIG5lc3RlZCAKPiA+Pj4+IHByZXBhcmVfcmVtb3RlX2NvbnRleHQoKQo+ID4+Pj4g
dG8gYSB0cnlsb2NrIiksIHdlIHB1bnQgdG8gdGhlIGNhbGxlciBpZiB0aGUgbG9jYWwgaW50ZWxf
Y29udGV4dAo+ID4+Pj4gaGFwcGVucyB0byBiZSBidXN5IGFzIHdlIHRyeSB0byByZXdyaXRlIHRo
ZSBzc2V1IChkdWUgdG8gcmV0aXJpbmcgaW4KPiA+Pj4+IGFub3RoZXIgdGhyZWFkKS4gQXMgdGhl
IGludGVybHVkZSBzaG91bGQgYmUgc2hvcnQsIHNwaW4gdW50aWwgdGhlIGxvY2sKPiA+Pj4+IGlz
IGF2YWlsYWJsZS4KPiA+Pj4+Cj4gPj4+PiBUaGUgcmVncmV0IGZvciB1c2luZyBtdXRleF90cnls
b2NrKCkgYW5kIG5vdCBhbiBhdG9taWMgaW5zZXJ0aW9uIG9mIHRoZQo+ID4+Pj4gYmFycmllciBp
cyBncm93aW5nLi4uCj4gPj4+Pgo+ID4+Pj4gU2lnbmVkLW9mZi1ieTogQ2hyaXMgV2lsc29uIDxj
aHJpc0BjaHJpcy13aWxzb24uY28udWs+Cj4gPj4+PiBDYzogVHZydGtvIFVyc3VsaW4gPHR2cnRr
by51cnN1bGluQGludGVsLmNvbT4KPiA+Pj4+IC0tLQo+ID4+Pj4gwqDCoCBkcml2ZXJzL2dwdS9k
cm0vaTkxNS9nZW0vc2VsZnRlc3RzL2k5MTVfZ2VtX2NvbnRleHQuYyB8IDUgKysrKy0KPiA+Pj4+
IMKgwqAgMSBmaWxlIGNoYW5nZWQsIDQgaW5zZXJ0aW9ucygrKSwgMSBkZWxldGlvbigtKQo+ID4+
Pj4KPiA+Pj4+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vc2VsZnRlc3Rz
L2k5MTVfZ2VtX2NvbnRleHQuYyAKPiA+Pj4+IGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL3Nl
bGZ0ZXN0cy9pOTE1X2dlbV9jb250ZXh0LmMKPiA+Pj4+IGluZGV4IDJlYTQ3OTBmMzcyMS4uNTcx
Y2M5OTY1NzdjIDEwMDY0NAo+ID4+Pj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL3Nl
bGZ0ZXN0cy9pOTE1X2dlbV9jb250ZXh0LmMKPiA+Pj4+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9p
OTE1L2dlbS9zZWxmdGVzdHMvaTkxNV9nZW1fY29udGV4dC5jCj4gPj4+PiBAQCAtMTE5Nyw3ICsx
MTk3LDEwIEBAIF9fc3NldV90ZXN0KGNvbnN0IGNoYXIgKm5hbWUsCj4gPj4+PiDCoMKgwqDCoMKg
wqAgaWYgKHJldCkKPiA+Pj4+IMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqAgZ290byBvdXRf
cG07Cj4gPj4+PiAtwqDCoMKgwqAgcmV0ID0gaW50ZWxfY29udGV4dF9yZWNvbmZpZ3VyZV9zc2V1
KGNlLCBzc2V1KTsKPiA+Pj4+ICvCoMKgwqDCoCBkbyB7Cj4gPj4+PiArwqDCoMKgwqDCoMKgwqDC
oMKgwqDCoMKgIHJldCA9IGludGVsX2NvbnRleHRfcmVjb25maWd1cmVfc3NldShjZSwgc3NldSk7
Cj4gPj4+PiArwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgIGNvbmRfcmVzY2hlZCgpOwo+ID4+Pj4g
K8KgwqDCoMKgIH0gd2hpbGUgKHJldCA9PSAtRUFHQUlOKTsKPiA+Pj4+IMKgwqDCoMKgwqDCoCBp
ZiAocmV0KQo+ID4+Pj4gwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoCBnb3RvIG91dF9zcGlu
Owo+ID4+Pj4KPiA+Pj4KPiA+Pj4gSG0gSSBsb29rZWQgYXQgdGhlIHNlbGZ0ZXN0cywgc2F3IGVy
cm9yIGlzIGNvcnJlY3RseSBwcm9wYWdhdGVkLCBhbmQKPiA+Pj4gY29uY2x1ZGVkIGl0IHdpbGwg
YmUgZmluZS4gSSBtaXNzZWQgdGhlIHByb2JsZW0gc2VsZnRlc3RzIHdpbGwgbm90Cj4gPj4+IGFj
dHVhbGx5IHJldHJ5LiBCdXQgd2FpdCwgY2FuIHdlIGV2ZW4gY291bnQgdGhhdCB1c2Vyc3BhY2Ug
d2lsbCBpZiBhbGwKPiA+Pj4gb2YgYSBzdWRkZW4gY3R4LnNldF9wYXJhbSBzdGFydHMgcmV0dXJu
aW5nIC1FQUdBSU4gc3BvcmFkaWNhbGx5PyBGZWVscwo+ID4+PiBsaWtlIHdlIG1heSBuZWVkIHRv
IHJldmVydC4KPiA+Pgo+ID4+IFdlIGludm9rZSB0aGUgcHJpbmNpcGxlIG9mIGRybUlvY3RsKCkg
Y2F0Y2hlcyAtRUFHQUlOLgo+ID4gCj4gPiBJJ20gbm90IGNvbWZvcnRhYmxlIHdpdGggdGhhdC4g
OiggTm90IGxlYXN0IGhvdyB3ZSBhcmUgc2F5aW5nIG5vdCB0byB1c2UgCj4gPiBsaWJkcm0uIG1h
biAyIGlvY3RsIGRvZXMgbm90IG1lbnRpb24gLUVBR0FJTi4gOigKPiAKPiBPciBkdWN0IHRhcGUg
YnkgbG9vcGluZyBpbiBzZXRfc3NldSBhcyB3ZWxsPwoKQ291bGQgZG8sIHRoZSBhY3R1YWwgYXRv
bWljIGluc2VydGlvbiBkb2Vzbid0IGxvb2sgdG8gaG9ycmVuZG91cyAoYWxiZWl0CnlldCBhbm90
aGVyIGF0b21pYyBvcCBhbG9uZyB0aGF0IHBhdGgpLCBidXQgd2lsbCB0YWtlIGEgZmFpciBhbW91
bnQgb2YKcmF0aW9uYWxpc2luZy4gQ2VydGFpbmx5IGFub3RoZXIgY3VwIG9mIHRlYSB3b3J0aC4K
CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2FjdGl2ZS5jIGIvZHJpdmVy
cy9ncHUvZHJtL2k5MTUvaTkxNV9hY3RpdmUuYwppbmRleCBkY2ExNWFjZTg4ZjYuLjE4MWM2YTNh
YWFmYSAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9hY3RpdmUuYworKysg
Yi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2FjdGl2ZS5jCkBAIC03NTMsMTEgKzc1MywxMyBA
QCBfX2k5MTVfYWN0aXZlX2ZlbmNlX3NldChzdHJ1Y3QgaTkxNV9hY3RpdmVfZmVuY2UgKmFjdGl2
ZSwKICAgICAgICBzdHJ1Y3QgZG1hX2ZlbmNlICpwcmV2OwogICAgICAgIHVuc2lnbmVkIGxvbmcg
ZmxhZ3M7CgotICAgICAgIC8qIE5COiBtdXN0IGJlIHNlcmlhbGlzZWQgYnkgYW4gb3V0ZXIgdGlt
ZWxpbmUgbXV0ZXggKGFjdGl2ZS0+bG9jaykgKi8KKyAgICAgICBpZiAoZmVuY2UgPT0gcmN1X2Fj
Y2Vzc19wb2ludGVyKGFjdGl2ZS0+ZmVuY2UpKQorICAgICAgICAgICAgICAgcmV0dXJuIGZlbmNl
OworCiAgICAgICAgc3Bpbl9sb2NrX2lycXNhdmUoZmVuY2UtPmxvY2ssIGZsYWdzKTsKICAgICAg
ICBHRU1fQlVHX09OKHRlc3RfYml0KERNQV9GRU5DRV9GTEFHX1NJR05BTEVEX0JJVCwgJmZlbmNl
LT5mbGFncykpOwoKLSAgICAgICBwcmV2ID0gcmN1X2RlcmVmZXJlbmNlX3Byb3RlY3RlZChhY3Rp
dmUtPmZlbmNlLCBhY3RpdmVfaXNfaGVsZChhY3RpdmUpKTsKKyAgICAgICBwcmV2ID0geGNoZygo
c3RydWN0IGRtYV9mZW5jZSAqKiBfX2ZvcmNlKSZhY3RpdmUtPmZlbmNlLCBmZW5jZSk7CiAgICAg
ICAgaWYgKHByZXYpIHsKICAgICAgICAgICAgICAgIEdFTV9CVUdfT04ocHJldiA9PSBmZW5jZSk7
CiAgICAgICAgICAgICAgICBzcGluX2xvY2tfbmVzdGVkKHByZXYtPmxvY2ssIFNJTkdMRV9ERVBU
SF9ORVNUSU5HKTsKQEAgLTc3NSwxMiArNzc3LDEzIEBAIF9faTkxNV9hY3RpdmVfZmVuY2Vfc2V0
KHN0cnVjdCBpOTE1X2FjdGl2ZV9mZW5jZSAqYWN0aXZlLAogICAgICAgICAgICAgICAgICogb3Vy
IGxpc3RfZGVsKCkgW2RlY291cGxpbmcgcHJldiBmcm9tIHRoZSBjYWxsYmFja10gb3IKICAgICAg
ICAgICAgICAgICAqIHRoZSBjYWxsYmFjay4uLgogICAgICAgICAgICAgICAgICovCi0gICAgICAg
ICAgICAgICBwcmV2ID0gcmN1X2FjY2Vzc19wb2ludGVyKGFjdGl2ZS0+ZmVuY2UpOworICAgICAg
ICAgICAgICAgaWYgKCFyY3VfYWNjZXNzX3BvaW50ZXIoYWN0aXZlLT5mZW5jZSkpIHsKKyAgICAg
ICAgICAgICAgICAgICAgICAgUkNVX0lOSVRfUE9JTlRFUihhY3RpdmUtPmZlbmNlLCBmZW5jZSk7
CisgICAgICAgICAgICAgICAgICAgICAgIHByZXYgPSBOVUxMOworICAgICAgICAgICAgICAgfQog
ICAgICAgIH0KCi0gICAgICAgcmN1X2Fzc2lnbl9wb2ludGVyKGFjdGl2ZS0+ZmVuY2UsIGZlbmNl
KTsKICAgICAgICBsaXN0X2FkZF90YWlsKCZhY3RpdmUtPmNiLm5vZGUsICZmZW5jZS0+Y2JfbGlz
dCk7Ci0KICAgICAgICBzcGluX3VubG9ja19pcnFyZXN0b3JlKGZlbmNlLT5sb2NrLCBmbGFncyk7
CgogICAgICAgIHJldHVybiBwcmV2OwoKLUNocmlzCl9fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fCkludGVsLWdmeCBtYWlsaW5nIGxpc3QKSW50ZWwtZ2Z4QGxp
c3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFu
L2xpc3RpbmZvL2ludGVsLWdmeA==

Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id E89BA175C8
	for <lists+intel-gfx@lfdr.de>; Wed,  8 May 2019 12:15:48 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 26ED28919E;
	Wed,  8 May 2019 10:15:47 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga01.intel.com (mga01.intel.com [192.55.52.88])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 559038919E
 for <intel-gfx@lists.freedesktop.org>; Wed,  8 May 2019 10:15:45 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from fmsmga005.fm.intel.com ([10.253.24.32])
 by fmsmga101.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 08 May 2019 03:15:45 -0700
X-ExtLoop1: 1
Received: from jzapadkx-mobl1.ger.corp.intel.com (HELO [10.252.0.159])
 ([10.252.0.159])
 by fmsmga005.fm.intel.com with ESMTP; 08 May 2019 03:15:44 -0700
To: Chris Wilson <chris@chris-wilson.co.uk>, intel-gfx@lists.freedesktop.org
References: <20190508080704.24223-1-chris@chris-wilson.co.uk>
 <20190508080704.24223-3-chris@chris-wilson.co.uk>
From: Tvrtko Ursulin <tvrtko.ursulin@linux.intel.com>
Organization: Intel Corporation UK Plc
Message-ID: <f6b5d2c7-60bd-fa4a-6c3b-4a327d69b919@linux.intel.com>
Date: Wed, 8 May 2019 11:15:43 +0100
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101
 Thunderbird/60.6.1
MIME-Version: 1.0
In-Reply-To: <20190508080704.24223-3-chris@chris-wilson.co.uk>
Content-Language: en-US
Subject: Re: [Intel-gfx] [PATCH 03/40] drm/i915: Pass i915_sched_node around
 internally
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

Ck9uIDA4LzA1LzIwMTkgMDk6MDYsIENocmlzIFdpbHNvbiB3cm90ZToKPiBUbyBzaW1wbGlmeSB0
aGUgbmV4dCBwYXRjaCwgdXBkYXRlIGJ1bXBfcHJpb3JpdHkgYW5kIHNjaGVkdWxlIHRvIGFjY2Vw
dAo+IHRoZSBpbnRlcm5hbCBpOTE1X3NjaGVkX25kb2UgZGlyZWN0bHkgYW5kIG5vdCBleHBlY3Qg
YSByZXF1ZXN0IHBvaW50ZXIuCj4gCj4gYWRkL3JlbW92ZTogMC8wIGdyb3cvc2hyaW5rOiAyLzEg
dXAvZG93bjogOC8tMTUgKC03KQo+IEZ1bmN0aW9uICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgIG9sZCAgICAgbmV3ICAgZGVsdGEKPiBpOTE1X3NjaGVkdWxlX2J1bXBfcHJpb3Jp
dHkgICAgICAgICAgICAgICAgICAxMDkgICAgIDExMyAgICAgICs0Cj4gaTkxNV9zY2hlZHVsZSAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDUwICAgICAgNTQgICAgICArNAo+IF9faTkx
NV9zY2hlZHVsZSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDkyMiAgICAgOTA3ICAgICAt
MTUKPiAKPiB2MjogQWRvcHQgbm9kZSBmb3IgdGhlIG9sZCBycSBsb2NhbCwgc2luY2UgaXQgbm8g
bG9uZ2VyIGlzIGEgcmVxdWVzdCBidXQKPiB0aGUgb3JpZ2luIG5vZGUuCj4gCj4gU2lnbmVkLW9m
Zi1ieTogQ2hyaXMgV2lsc29uIDxjaHJpc0BjaHJpcy13aWxzb24uY28udWs+Cj4gLS0tCj4gICBk
cml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3NjaGVkdWxlci5jIHwgMzYgKysrKysrKysrKysrKyst
LS0tLS0tLS0tLS0tCj4gICAxIGZpbGUgY2hhbmdlZCwgMTkgaW5zZXJ0aW9ucygrKSwgMTcgZGVs
ZXRpb25zKC0pCj4gCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfc2No
ZWR1bGVyLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3NjaGVkdWxlci5jCj4gaW5kZXgg
Yjc0ODhjMzFlM2U5Li5mMzJkMGVlNmQ1OGMgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJt
L2k5MTUvaTkxNV9zY2hlZHVsZXIuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVf
c2NoZWR1bGVyLmMKPiBAQCAtMTg2LDcgKzE4Niw3IEBAIHN0YXRpYyB2b2lkIGtpY2tfc3VibWlz
c2lvbihzdHJ1Y3QgaW50ZWxfZW5naW5lX2NzICplbmdpbmUsIGludCBwcmlvKQo+ICAgCXRhc2ts
ZXRfaGlfc2NoZWR1bGUoJmVuZ2luZS0+ZXhlY2xpc3RzLnRhc2tsZXQpOwo+ICAgfQo+ICAgCj4g
LXN0YXRpYyB2b2lkIF9faTkxNV9zY2hlZHVsZShzdHJ1Y3QgaTkxNV9yZXF1ZXN0ICpycSwKPiAr
c3RhdGljIHZvaWQgX19pOTE1X3NjaGVkdWxlKHN0cnVjdCBpOTE1X3NjaGVkX25vZGUgKm5vZGUs
Cj4gICAJCQkgICAgY29uc3Qgc3RydWN0IGk5MTVfc2NoZWRfYXR0ciAqYXR0cikKPiAgIHsKPiAg
IAlzdHJ1Y3QgaW50ZWxfZW5naW5lX2NzICplbmdpbmU7Cj4gQEAgLTIwMCwxMyArMjAwLDEzIEBA
IHN0YXRpYyB2b2lkIF9faTkxNV9zY2hlZHVsZShzdHJ1Y3QgaTkxNV9yZXF1ZXN0ICpycSwKPiAg
IAlsb2NrZGVwX2Fzc2VydF9oZWxkKCZzY2hlZHVsZV9sb2NrKTsKPiAgIAlHRU1fQlVHX09OKHBy
aW8gPT0gSTkxNV9QUklPUklUWV9JTlZBTElEKTsKPiAgIAo+IC0JaWYgKGk5MTVfcmVxdWVzdF9j
b21wbGV0ZWQocnEpKQo+ICsJaWYgKG5vZGVfc2lnbmFsZWQobm9kZSkpCj4gICAJCXJldHVybjsK
PiAgIAo+IC0JaWYgKHByaW8gPD0gUkVBRF9PTkNFKHJxLT5zY2hlZC5hdHRyLnByaW9yaXR5KSkK
PiArCWlmIChwcmlvIDw9IFJFQURfT05DRShub2RlLT5hdHRyLnByaW9yaXR5KSkKPiAgIAkJcmV0
dXJuOwo+ICAgCj4gLQlzdGFjay5zaWduYWxlciA9ICZycS0+c2NoZWQ7Cj4gKwlzdGFjay5zaWdu
YWxlciA9IG5vZGU7Cj4gICAJbGlzdF9hZGQoJnN0YWNrLmRmc19saW5rLCAmZGZzKTsKPiAgIAo+
ICAgCS8qCj4gQEAgLTI1Nyw5ICsyNTcsOSBAQCBzdGF0aWMgdm9pZCBfX2k5MTVfc2NoZWR1bGUo
c3RydWN0IGk5MTVfcmVxdWVzdCAqcnEsCj4gICAJICogZXhlY2xpc3RzX3N1Ym1pdF9yZXF1ZXN0
KCkpLCB3ZSBjYW4gc2V0IG91ciBvd24gcHJpb3JpdHkgYW5kIHNraXAKPiAgIAkgKiBhY3F1aXJp
bmcgdGhlIGVuZ2luZSBsb2Nrcy4KPiAgIAkgKi8KPiAtCWlmIChycS0+c2NoZWQuYXR0ci5wcmlv
cml0eSA9PSBJOTE1X1BSSU9SSVRZX0lOVkFMSUQpIHsKPiAtCQlHRU1fQlVHX09OKCFsaXN0X2Vt
cHR5KCZycS0+c2NoZWQubGluaykpOwo+IC0JCXJxLT5zY2hlZC5hdHRyID0gKmF0dHI7Cj4gKwlp
ZiAobm9kZS0+YXR0ci5wcmlvcml0eSA9PSBJOTE1X1BSSU9SSVRZX0lOVkFMSUQpIHsKPiArCQlH
RU1fQlVHX09OKCFsaXN0X2VtcHR5KCZub2RlLT5saW5rKSk7Cj4gKwkJbm9kZS0+YXR0ciA9ICph
dHRyOwo+ICAgCj4gICAJCWlmIChzdGFjay5kZnNfbGluay5uZXh0ID09IHN0YWNrLmRmc19saW5r
LnByZXYpCj4gICAJCQlyZXR1cm47Cj4gQEAgLTI2OCwxNSArMjY4LDE0IEBAIHN0YXRpYyB2b2lk
IF9faTkxNV9zY2hlZHVsZShzdHJ1Y3QgaTkxNV9yZXF1ZXN0ICpycSwKPiAgIAl9Cj4gICAKPiAg
IAltZW1zZXQoJmNhY2hlLCAwLCBzaXplb2YoY2FjaGUpKTsKPiAtCWVuZ2luZSA9IHJxLT5lbmdp
bmU7Cj4gKwllbmdpbmUgPSBub2RlX3RvX3JlcXVlc3Qobm9kZSktPmVuZ2luZTsKPiAgIAlzcGlu
X2xvY2soJmVuZ2luZS0+dGltZWxpbmUubG9jayk7Cj4gICAKPiAgIAkvKiBGaWZvIGFuZCBkZXB0
aC1maXJzdCByZXBsYWNlbWVudCBlbnN1cmUgb3VyIGRlcHMgZXhlY3V0ZSBiZWZvcmUgdXMgKi8K
PiAgIAlsaXN0X2Zvcl9lYWNoX2VudHJ5X3NhZmVfcmV2ZXJzZShkZXAsIHAsICZkZnMsIGRmc19s
aW5rKSB7Cj4gLQkJc3RydWN0IGk5MTVfc2NoZWRfbm9kZSAqbm9kZSA9IGRlcC0+c2lnbmFsZXI7
Cj4gLQo+ICAgCQlJTklUX0xJU1RfSEVBRCgmZGVwLT5kZnNfbGluayk7Cj4gICAKPiArCQlub2Rl
ID0gZGVwLT5zaWduYWxlcjsKPiAgIAkJZW5naW5lID0gc2NoZWRfbG9ja19lbmdpbmUobm9kZSwg
ZW5naW5lLCAmY2FjaGUpOwo+ICAgCQlsb2NrZGVwX2Fzc2VydF9oZWxkKCZlbmdpbmUtPnRpbWVs
aW5lLmxvY2spOwo+ICAgCj4gQEAgLTMxOSwxMyArMzE4LDIwIEBAIHN0YXRpYyB2b2lkIF9faTkx
NV9zY2hlZHVsZShzdHJ1Y3QgaTkxNV9yZXF1ZXN0ICpycSwKPiAgIHZvaWQgaTkxNV9zY2hlZHVs
ZShzdHJ1Y3QgaTkxNV9yZXF1ZXN0ICpycSwgY29uc3Qgc3RydWN0IGk5MTVfc2NoZWRfYXR0ciAq
YXR0cikKPiAgIHsKPiAgIAlzcGluX2xvY2tfaXJxKCZzY2hlZHVsZV9sb2NrKTsKPiAtCV9faTkx
NV9zY2hlZHVsZShycSwgYXR0cik7Cj4gKwlfX2k5MTVfc2NoZWR1bGUoJnJxLT5zY2hlZCwgYXR0
cik7Cj4gICAJc3Bpbl91bmxvY2tfaXJxKCZzY2hlZHVsZV9sb2NrKTsKPiAgIH0KPiAgIAo+ICtz
dGF0aWMgdm9pZCBfX2J1bXBfcHJpb3JpdHkoc3RydWN0IGk5MTVfc2NoZWRfbm9kZSAqbm9kZSwg
dW5zaWduZWQgaW50IGJ1bXApCj4gK3sKPiArCXN0cnVjdCBpOTE1X3NjaGVkX2F0dHIgYXR0ciA9
IG5vZGUtPmF0dHI7Cj4gKwo+ICsJYXR0ci5wcmlvcml0eSB8PSBidW1wOwo+ICsJX19pOTE1X3Nj
aGVkdWxlKG5vZGUsICZhdHRyKTsKPiArfQo+ICsKPiAgIHZvaWQgaTkxNV9zY2hlZHVsZV9idW1w
X3ByaW9yaXR5KHN0cnVjdCBpOTE1X3JlcXVlc3QgKnJxLCB1bnNpZ25lZCBpbnQgYnVtcCkKPiAg
IHsKPiAtCXN0cnVjdCBpOTE1X3NjaGVkX2F0dHIgYXR0cjsKPiAgIAl1bnNpZ25lZCBsb25nIGZs
YWdzOwo+ICAgCj4gICAJR0VNX0JVR19PTihidW1wICYgfkk5MTVfUFJJT1JJVFlfTUFTSyk7Cj4g
QEAgLTMzNCwxMSArMzQwLDcgQEAgdm9pZCBpOTE1X3NjaGVkdWxlX2J1bXBfcHJpb3JpdHkoc3Ry
dWN0IGk5MTVfcmVxdWVzdCAqcnEsIHVuc2lnbmVkIGludCBidW1wKQo+ICAgCQlyZXR1cm47Cj4g
ICAKPiAgIAlzcGluX2xvY2tfaXJxc2F2ZSgmc2NoZWR1bGVfbG9jaywgZmxhZ3MpOwo+IC0KPiAt
CWF0dHIgPSBycS0+c2NoZWQuYXR0cjsKPiAtCWF0dHIucHJpb3JpdHkgfD0gYnVtcDsKPiAtCV9f
aTkxNV9zY2hlZHVsZShycSwgJmF0dHIpOwo+IC0KPiArCV9fYnVtcF9wcmlvcml0eSgmcnEtPnNj
aGVkLCBidW1wKTsKPiAgIAlzcGluX3VubG9ja19pcnFyZXN0b3JlKCZzY2hlZHVsZV9sb2NrLCBm
bGFncyk7Cj4gICB9Cj4gICAKPiAKClJldmlld2VkLWJ5OiBUdnJ0a28gVXJzdWxpbiA8dHZydGtv
LnVyc3VsaW5AaW50ZWwuY29tPgoKUmVnYXJkcywKClR2cnRrbwpfX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fXwpJbnRlbC1nZnggbWFpbGluZyBsaXN0CkludGVs
LWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcv
bWFpbG1hbi9saXN0aW5mby9pbnRlbC1nZng=

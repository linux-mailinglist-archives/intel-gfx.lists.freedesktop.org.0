Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id A6DBBA76A3
	for <lists+intel-gfx@lfdr.de>; Tue,  3 Sep 2019 23:59:52 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 8ABDB89165;
	Tue,  3 Sep 2019 21:59:50 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga05.intel.com (mga05.intel.com [192.55.52.43])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 8F04289255
 for <intel-gfx@lists.freedesktop.org>; Tue,  3 Sep 2019 21:59:49 +0000 (UTC)
X-Amp-Result: UNKNOWN
X-Amp-Original-Verdict: FILE UNKNOWN
X-Amp-File-Uploaded: False
Received: from orsmga007.jf.intel.com ([10.7.209.58])
 by fmsmga105.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 03 Sep 2019 14:59:48 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.64,464,1559545200"; d="scan'208";a="173357529"
Received: from mdroper-desk.fm.intel.com (HELO
 mdroper-desk.amr.corp.intel.com) ([10.105.128.12])
 by orsmga007.jf.intel.com with ESMTP; 03 Sep 2019 14:59:48 -0700
Date: Tue, 3 Sep 2019 14:59:48 -0700
From: Matt Roper <matthew.d.roper@intel.com>
To: "Souza, Jose" <jose.souza@intel.com>
Message-ID: <20190903215948.GL13677@mdroper-desk.amr.corp.intel.com>
References: <20190829092554.32198-1-lucas.demarchi@intel.com>
 <20190829092554.32198-2-lucas.demarchi@intel.com>
 <20190903214240.GJ13677@mdroper-desk.amr.corp.intel.com>
 <bdbe5d04725601e74a3abb8214892d8adf9e3424.camel@intel.com>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <bdbe5d04725601e74a3abb8214892d8adf9e3424.camel@intel.com>
User-Agent: Mutt/1.12.0 (2019-05-25)
Subject: Re: [Intel-gfx] [PATCH v3 1/7] drm/i915/psr: Only handle
 interruptions of the transcoder in use
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: "intel-gfx@lists.freedesktop.org" <intel-gfx@lists.freedesktop.org>,
 "De Marchi, Lucas" <lucas.demarchi@intel.com>, "Pandiyan,
 Dhinakaran" <dhinakaran.pandiyan@intel.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

T24gVHVlLCBTZXAgMDMsIDIwMTkgYXQgMDI6NTM6MDRQTSAtMDcwMCwgU291emEsIEpvc2Ugd3Jv
dGU6Cj4gT24gVHVlLCAyMDE5LTA5LTAzIGF0IDE0OjQyIC0wNzAwLCBNYXR0IFJvcGVyIHdyb3Rl
Ogo+ID4gT24gVGh1LCBBdWcgMjksIDIwMTkgYXQgMDI6MjU6NDhBTSAtMDcwMCwgTHVjYXMgRGUg
TWFyY2hpIHdyb3RlOgo+ID4gPiBGcm9tOiBKb3PDqSBSb2JlcnRvIGRlIFNvdXphIDxqb3NlLnNv
dXphQGludGVsLmNvbT4KPiA+ID4gCj4gPiA+IEl0IHdhcyBlbmFibGluZyBhbmQgY2hlY2tpbmcg
UFNSIGludGVycnVwdGlvbnMgaW4gZXZlcnkgdHJhbnNjb2Rlcgo+ID4gPiB3aGlsZSBpdCBzaG91
bGQga2VlcCB0aGUgaW50ZXJydXB0aW9ucyBvbiB0aGUgbm9uLXVzZWQgdHJhbnNjb2RlcnMKPiA+
ID4gbWFza2VkLgo+ID4gPiAKPiA+ID4gV2hpbGUgZG9pbmcgdGhpcyBpdCBnaXZlcyB1cyB0cm91
YmxlIG9uIFRpZ2VyIExha2UgaWYgd2UgYXJlCj4gPiA+IHJlYWRpbmcvd3JpdGluZyB0byByZWdp
c3RlcnMgb2YgZGlzYWJsZWQgdHJhbnNjb2RlcnMgc2luY2UgZnJvbQo+ID4gPiBnZW4xMgo+ID4g
PiBvbndhcmRzIHRoZSByZWdpc3RlcnMgYXJlIHJlbGF0aXZlIHRvIHRoZSB0cmFuc2NvZGVyLiBJ
bnN0ZWFkIG9mCj4gPiA+IGZvcmNpbmcKPiA+ID4gdGhlbSBPTiB0byBhY2Nlc3MgdGhvc2UgcmVn
aXN0ZXJzLCBqdXN0IGF2b2lkIHRoZSBhY2Nlc3NlcyBhcyB0aGV5Cj4gPiA+IGFyZQo+ID4gPiBu
b3QgbmVlZGVkLgo+ID4gPiAKPiA+ID4gdjIgKEx1Y2FzKToKPiA+ID4gICAtIEV4cGxhaW4gd2h5
IHdlIGNhbid0IGtlZXAgYWNjZXNzaW5nIGFsbCB0cmFuc2NvZGVycwo+ID4gPiAgIC0gUmVtb3Zl
IFRPRE8gYWJvdXQgZXh0ZW5kaW5nIHRoZSBpcnEgaGFuZGxpbmcgdG8gbXVsdGlwbGUKPiA+ID4g
aW5zdGFuY2VzOgo+ID4gPiAgICAgd2hlbi9pZiBpbXBsZW1lbnRpbmcgbXVsdGlwbGUgaW5zdGFu
Y2VzIGl0J3MgcHJldHR5IGNsZWFyIGJ5Cj4gPiA+IHRoZQo+ID4gPiAgICAgc2luZ2xldG9uIHBz
ciB0aGF0IGl0IG5lZWRzIHRvIGJlIGV4dGVuZGVkCj4gPiA+ICAgLSBGaXggaW50ZWxfcHNyX2Rl
YnVnX3NldCgpIGNhbGxpbmcgcHNyX2lycV9jb250cm9sKCkgd2l0aAo+ID4gPiAgICAgcHNyLnRy
YW5zY29kZXIgbm90IHNldCB5ZXQgKGZyb20gSW1yZSkuIE5vdyB3ZSBvbmx5IHNldCB0aGUKPiA+
ID4gZGVidWcKPiA+ID4gICAgIHJlZ2lzdGVyIHJpZ2h0IGF3YXkgaWYgcHNyIGlzIGFscmVhZHkg
ZW5hYmxlZC4gT3RoZXJ3aXNlIHdlCj4gPiA+IGp1c3QKPiA+ID4gICAgIHJlY29yZCB0aGUgdmFs
dWUgdG8gYmUgc2V0IHdoZW4gZW5hYmxpbmcgdGhlIHNvdXJjZS4KPiA+ID4gICAtIERvIG5vdCBk
ZXBlbmQgb24gdGhlIHZhbHVlIG9mIFRSQU5TQ09ERVJfQS4gSnVzdCBiZSByZWxhdGl2ZSB0bwo+
ID4gPiBpdAo+ID4gPiAgICAgKGZyb20gSW1yZSkKPiA+ID4gICAtIGhhbmRsZSBwc3IgZXJyb3Ig
bGFzdCBzbyB3ZSBkb24ndCBzY2hlZHVsZSB0aGUgd29yayBiZWZvcmUKPiA+ID4gaGFuZGxpbmcK
PiA+ID4gICAgIHRoZSBvdGhlciBmbGFncwo+ID4gPiAKPiA+ID4gQ2M6IEltcmUgRGVhayA8aW1y
ZS5kZWFrQGludGVsLmNvbT4KPiA+ID4gQ2M6IERoaW5ha2FyYW4gUGFuZGl5YW4gPGRoaW5ha2Fy
YW4ucGFuZGl5YW5AaW50ZWwuY29tPgo+ID4gPiBTaWduZWQtb2ZmLWJ5OiBKb3PDqSBSb2JlcnRv
IGRlIFNvdXphIDxqb3NlLnNvdXphQGludGVsLmNvbT4KPiA+ID4gU2lnbmVkLW9mZi1ieTogTHVj
YXMgRGUgTWFyY2hpIDxsdWNhcy5kZW1hcmNoaUBpbnRlbC5jb20+Cj4gPiA+IC0tLQo+ID4gPiAg
ZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9wc3IuYyB8IDEzNyArKysrKysrKyst
LS0tLS0tLQo+ID4gPiAtLS0tLS0KPiA+ID4gIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfcmVn
LmggICAgICAgICAgfCAgMTMgKy0tCj4gPiA+ICAyIGZpbGVzIGNoYW5nZWQsIDU3IGluc2VydGlv
bnMoKyksIDkzIGRlbGV0aW9ucygtKQo+ID4gPiAKPiA+ID4gZGlmZiAtLWdpdCBhL2RyaXZlcnMv
Z3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfcHNyLmMKPiA+ID4gYi9kcml2ZXJzL2dwdS9kcm0v
aTkxNS9kaXNwbGF5L2ludGVsX3Bzci5jCj4gPiA+IGluZGV4IDYyOWI4Yjk4YTk3Zi4uNmYyYmY1
MGI2ZDgwIDEwMDY0NAo+ID4gPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2lu
dGVsX3Bzci5jCj4gPiA+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxf
cHNyLmMKPiA+ID4gQEAgLTg4LDQ4ICs4OCwxOSBAQCBzdGF0aWMgYm9vbCBpbnRlbF9wc3IyX2Vu
YWJsZWQoc3RydWN0Cj4gPiA+IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2LAo+ID4gPiAgCX0K
PiA+ID4gIH0KPiA+ID4gIAo+ID4gPiAtc3RhdGljIGludCBlZHBfcHNyX3NoaWZ0KGVudW0gdHJh
bnNjb2RlciBjcHVfdHJhbnNjb2RlcikKPiA+ID4gK3N0YXRpYyB2b2lkIHBzcl9pcnFfY29udHJv
bChzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYpCj4gPiA+ICB7Cj4gPiA+IC0Jc3dp
dGNoIChjcHVfdHJhbnNjb2Rlcikgewo+ID4gPiAtCWNhc2UgVFJBTlNDT0RFUl9BOgo+ID4gPiAt
CQlyZXR1cm4gRURQX1BTUl9UUkFOU0NPREVSX0FfU0hJRlQ7Cj4gPiA+IC0JY2FzZSBUUkFOU0NP
REVSX0I6Cj4gPiA+IC0JCXJldHVybiBFRFBfUFNSX1RSQU5TQ09ERVJfQl9TSElGVDsKPiA+ID4g
LQljYXNlIFRSQU5TQ09ERVJfQzoKPiA+ID4gLQkJcmV0dXJuIEVEUF9QU1JfVFJBTlNDT0RFUl9D
X1NISUZUOwo+ID4gPiAtCWRlZmF1bHQ6Cj4gPiA+IC0JCU1JU1NJTkdfQ0FTRShjcHVfdHJhbnNj
b2Rlcik7Cj4gPiA+IC0JCS8qIGZhbGx0aHJvdWdoICovCj4gPiA+IC0JY2FzZSBUUkFOU0NPREVS
X0VEUDoKPiA+ID4gLQkJcmV0dXJuIEVEUF9QU1JfVFJBTlNDT0RFUl9FRFBfU0hJRlQ7Cj4gPiA+
IC0JfQo+ID4gPiAtfQo+ID4gPiAtCj4gPiA+IC1zdGF0aWMgdm9pZCBwc3JfaXJxX2NvbnRyb2wo
c3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2LCB1MzIKPiA+ID4gZGVidWcpCj4gPiA+
IC17Cj4gPiA+IC0JdTMyIGRlYnVnX21hc2ssIG1hc2s7Cj4gPiA+IC0JZW51bSB0cmFuc2NvZGVy
IGNwdV90cmFuc2NvZGVyOwo+ID4gPiAtCXUzMiB0cmFuc2NvZGVycyA9IEJJVChUUkFOU0NPREVS
X0VEUCk7Cj4gPiA+IC0KPiA+ID4gLQlpZiAoSU5URUxfR0VOKGRldl9wcml2KSA+PSA4KQo+ID4g
PiAtCQl0cmFuc2NvZGVycyB8PSBCSVQoVFJBTlNDT0RFUl9BKSB8Cj4gPiA+IC0JCQkgICAgICAg
QklUKFRSQU5TQ09ERVJfQikgfAo+ID4gPiAtCQkJICAgICAgIEJJVChUUkFOU0NPREVSX0MpOwo+
ID4gPiAtCj4gPiA+IC0JZGVidWdfbWFzayA9IDA7Cj4gPiA+IC0JbWFzayA9IDA7Cj4gPiA+IC0J
Zm9yX2VhY2hfY3B1X3RyYW5zY29kZXJfbWFza2VkKGRldl9wcml2LCBjcHVfdHJhbnNjb2RlciwK
PiA+ID4gdHJhbnNjb2RlcnMpIHsKPiA+ID4gLQkJaW50IHNoaWZ0ID0gZWRwX3Bzcl9zaGlmdChj
cHVfdHJhbnNjb2Rlcik7Cj4gPiA+IC0KPiA+ID4gLQkJbWFzayB8PSBFRFBfUFNSX0VSUk9SKHNo
aWZ0KTsKPiA+ID4gLQkJZGVidWdfbWFzayB8PSBFRFBfUFNSX1BPU1RfRVhJVChzaGlmdCkgfAo+
ID4gPiAtCQkJICAgICAgRURQX1BTUl9QUkVfRU5UUlkoc2hpZnQpOwo+ID4gPiAtCX0KPiA+ID4g
KwllbnVtIHRyYW5zY29kZXIgdHJhbnMgPSBkZXZfcHJpdi0+cHNyLnRyYW5zY29kZXI7Cj4gPiA+
ICsJdTMyIHZhbCwgbWFzazsKPiA+ID4gIAo+ID4gPiAtCWlmIChkZWJ1ZyAmIEk5MTVfUFNSX0RF
QlVHX0lSUSkKPiA+ID4gLQkJbWFzayB8PSBkZWJ1Z19tYXNrOwo+ID4gPiArCW1hc2sgPSBFRFBf
UFNSX0VSUk9SKHRyYW5zKTsKPiA+ID4gKwlpZiAoZGV2X3ByaXYtPnBzci5kZWJ1ZyAmIEk5MTVf
UFNSX0RFQlVHX0lSUSkKPiA+ID4gKwkJbWFzayB8PSBFRFBfUFNSX1BPU1RfRVhJVCh0cmFucykg
fAo+ID4gPiBFRFBfUFNSX1BSRV9FTlRSWSh0cmFucyk7Cj4gPiA+ICAKPiA+ID4gLQlJOTE1X1dS
SVRFKEVEUF9QU1JfSU1SLCB+bWFzayk7Cj4gPiA+ICsJdmFsID0gSTkxNV9SRUFEKEVEUF9QU1Jf
SU1SKTsKPiA+ID4gKwl2YWwgJj0gfkVEUF9QU1JfVFJBTlNfTUFTSyh0cmFucyk7Cj4gPiA+ICsJ
dmFsIHw9IH5tYXNrOwo+ID4gPiArCUk5MTVfV1JJVEUoRURQX1BTUl9JTVIsIHZhbCk7Cj4gPiAK
PiA+IEkgZ3Vlc3Mgd2UndmUgZG9uZSB0aGlzIGFsbCBhbG9uZywgYnV0IGl0IGp1bXBlZCBvdXQg
YXQgbWUgZHVyaW5nIHRoZQo+ID4gcmV2aWV3IGhlcmUgdGhhdCB3ZSdyZSBzZXR0aW5nIGEgYnVu
Y2ggb2YgYml0cyB0byAxIHRoYXQgSSBkb24ndAo+ID4gdGhpbmsKPiA+IGhhdmUgYSBkZWZpbmVk
IG1lYW5pbmcuICBJLmUuLCB0aGUgYnNwZWMgZXhwbGljaXRseSBpbmRpY2F0ZXMgdGhhdAo+ID4g
MHgwNzA3MDcwNyB3b3VsZCBiZSAiYWxsIGludGVycnVwdHMgbWFza2VkIiB3aGVyZWFzIHdlJ3Jl
IHNldHRpbmcKPiA+IHNvbWV0aGluZyBtb3JlIGFsb25nIHRoZSBsaW5lcyBvZiAweEZGRkZCRkYg
KGZvciBhbiBleGFtcGxlIHdpdGggUFNSCj4gPiBvbgo+ID4gdHJhbnNjb2RlciBBKS4gIAo+ID4g
Cj4gPiBUaGF0J3MgYXBwYXJlbnRseSBmaW5lIGZvciBjdXJyZW50IHBsYXRmb3JtcyAoc2luY2Ug
aXQncyB3aGF0IHdlJ3ZlCj4gPiBiZWVuCj4gPiBkb2luZyBhbGwgYWxvbmcpLCBidXQgaXQgbWFr
ZXMgbWUgc2xpZ2h0bHkgbW9yZSBuZXJ2b3VzIG9uIFRHTCBhbmQKPiA+IGJleW9uZCBnaXZlbiB0
aGF0IHRoZSBuZXh0IHBhdGNoIHN3aXRjaGVzIHRvIHRoZSBwZXItdHJhbnNjb2Rlcgo+ID4gUFNS
X0lNUgo+ID4gcmVnaXN0ZXJzIGFuZCB0aG9zZSBleHBsaWNpdGx5IHNheSB0aGF0IGJpdHMgMzE6
NCBhcmUgcmVzZXJ2ZWQgYW5kCj4gPiBtdXN0LWJlLXplcm8uICBNYXliZSB3ZSBzaG91bGQgYWRk
IGEgY29kZSBjb21tZW50IGFib3V0IHRoaXMganVzdCBpbgo+ID4gY2FzZSBpdCBjb21lcyBiYWNr
IHRvIGJpdGUgdXMgb24gYSBmdXR1cmUgcGxhdGZvcm0/Cj4gCj4gTGlrZSB5b3Ugc2FpZCB3ZSBk
byBpdCBmb3IgYWxsIG90aGVyIHBsYXRmb3JtcyBhbmQgZm9yIGFsbCBvdGhlcgo+IGludGVycnVw
dGlvbiByZWdpc3RlcnMgYnV0IGFueXdheXMgSSBjYW4gYWRkIGEgY29tbWVudCBvbiB0b3A6Cj4g
Cj4gLyogTWFza2luZy9zZXR0aW5nIHJlc2VydmVkIGJpdHMgdG9vICovCj4gCj4gSXQgaXMgZW5v
dWdoPyBkbyB5b3UgaGF2ZSBhbnkgb3RoZXIgc3VnZ2VzdGlvbj8KClllYWgsIEkgdGhpbmsgYSBj
b21tZW50IGxpa2UgdGhhdCBpcyBwcm9iYWJseSBnb29kIGVub3VnaCBmb3Igbm93LgoKQXNpZGUg
ZnJvbSB0aGF0IHlvdSBjYW4gY29uc2lkZXIgdGhlIHBhdGNoCgpSZXZpZXdlZC1ieTogTWF0dCBS
b3BlciA8bWF0dGhldy5kLnJvcGVyQGludGVsLmNvbT4KCj4gCj4gPiAKPiA+IAo+ID4gTWF0dAo+
ID4gCj4gPiA+ICB9Cj4gPiA+ICAKPiA+ID4gIHN0YXRpYyB2b2lkIHBzcl9ldmVudF9wcmludCh1
MzIgdmFsLCBib29sIHBzcjJfZW5hYmxlZCkKPiA+ID4gQEAgLTE3MSw2MCArMTQyLDQ4IEBAIHN0
YXRpYyB2b2lkIHBzcl9ldmVudF9wcmludCh1MzIgdmFsLCBib29sCj4gPiA+IHBzcjJfZW5hYmxl
ZCkKPiA+ID4gIAo+ID4gPiAgdm9pZCBpbnRlbF9wc3JfaXJxX2hhbmRsZXIoc3RydWN0IGRybV9p
OTE1X3ByaXZhdGUgKmRldl9wcml2LCB1MzIKPiA+ID4gcHNyX2lpcikKPiA+ID4gIHsKPiA+ID4g
LQl1MzIgdHJhbnNjb2RlcnMgPSBCSVQoVFJBTlNDT0RFUl9FRFApOwo+ID4gPiAtCWVudW0gdHJh
bnNjb2RlciBjcHVfdHJhbnNjb2RlcjsKPiA+ID4gKwllbnVtIHRyYW5zY29kZXIgY3B1X3RyYW5z
Y29kZXIgPSBkZXZfcHJpdi0+cHNyLnRyYW5zY29kZXI7Cj4gPiA+ICAJa3RpbWVfdCB0aW1lX25z
ID0gIGt0aW1lX2dldCgpOwo+ID4gPiAtCXUzMiBtYXNrID0gMDsKPiA+ID4gLQo+ID4gPiAtCWlm
IChJTlRFTF9HRU4oZGV2X3ByaXYpID49IDgpCj4gPiA+IC0JCXRyYW5zY29kZXJzIHw9IEJJVChU
UkFOU0NPREVSX0EpIHwKPiA+ID4gLQkJCSAgICAgICBCSVQoVFJBTlNDT0RFUl9CKSB8Cj4gPiA+
IC0JCQkgICAgICAgQklUKFRSQU5TQ09ERVJfQyk7Cj4gPiA+ICAKPiA+ID4gLQlmb3JfZWFjaF9j
cHVfdHJhbnNjb2Rlcl9tYXNrZWQoZGV2X3ByaXYsIGNwdV90cmFuc2NvZGVyLAo+ID4gPiB0cmFu
c2NvZGVycykgewo+ID4gPiAtCQlpbnQgc2hpZnQgPSBlZHBfcHNyX3NoaWZ0KGNwdV90cmFuc2Nv
ZGVyKTsKPiA+ID4gKwlpZiAocHNyX2lpciAmIEVEUF9QU1JfUFJFX0VOVFJZKGNwdV90cmFuc2Nv
ZGVyKSkgewo+ID4gPiArCQlkZXZfcHJpdi0+cHNyLmxhc3RfZW50cnlfYXR0ZW1wdCA9IHRpbWVf
bnM7Cj4gPiA+ICsJCURSTV9ERUJVR19LTVMoIlt0cmFuc2NvZGVyICVzXSBQU1IgZW50cnkgYXR0
ZW1wdCBpbiAyCj4gPiA+IHZibGFua3NcbiIsCj4gPiA+ICsJCQkgICAgICB0cmFuc2NvZGVyX25h
bWUoY3B1X3RyYW5zY29kZXIpKTsKPiA+ID4gKwl9Cj4gPiA+ICAKPiA+ID4gLQkJaWYgKHBzcl9p
aXIgJiBFRFBfUFNSX0VSUk9SKHNoaWZ0KSkgewo+ID4gPiAtCQkJRFJNX1dBUk4oIlt0cmFuc2Nv
ZGVyICVzXSBQU1IgYXV4IGVycm9yXG4iLAo+ID4gPiAtCQkJCSB0cmFuc2NvZGVyX25hbWUoY3B1
X3RyYW5zY29kZXIpKTsKPiA+ID4gKwlpZiAocHNyX2lpciAmIEVEUF9QU1JfUE9TVF9FWElUKGNw
dV90cmFuc2NvZGVyKSkgewo+ID4gPiArCQlkZXZfcHJpdi0+cHNyLmxhc3RfZXhpdCA9IHRpbWVf
bnM7Cj4gPiA+ICsJCURSTV9ERUJVR19LTVMoIlt0cmFuc2NvZGVyICVzXSBQU1IgZXhpdCBjb21w
bGV0ZWRcbiIsCj4gPiA+ICsJCQkgICAgICB0cmFuc2NvZGVyX25hbWUoY3B1X3RyYW5zY29kZXIp
KTsKPiA+ID4gIAo+ID4gPiAtCQkJZGV2X3ByaXYtPnBzci5pcnFfYXV4X2Vycm9yID0gdHJ1ZTsK
PiA+ID4gKwkJaWYgKElOVEVMX0dFTihkZXZfcHJpdikgPj0gOSkgewo+ID4gPiArCQkJdTMyIHZh
bCA9IEk5MTVfUkVBRChQU1JfRVZFTlQoY3B1X3RyYW5zY29kZXIpKTsKPiA+ID4gKwkJCWJvb2wg
cHNyMl9lbmFibGVkID0gZGV2X3ByaXYtPnBzci5wc3IyX2VuYWJsZWQ7Cj4gPiA+ICAKPiA+ID4g
LQkJCS8qCj4gPiA+IC0JCQkgKiBJZiB0aGlzIGludGVycnVwdGlvbiBpcyBub3QgbWFza2VkIGl0
IHdpbGwKPiA+ID4ga2VlcAo+ID4gPiAtCQkJICogaW50ZXJydXB0aW5nIHNvIGZhc3QgdGhhdCBp
dCBwcmV2ZW50cyB0aGUKPiA+ID4gc2NoZWR1bGVkCj4gPiA+IC0JCQkgKiB3b3JrIHRvIHJ1bi4K
PiA+ID4gLQkJCSAqIEFsc28gYWZ0ZXIgYSBQU1IgZXJyb3IsIHdlIGRvbid0IHdhbnQgdG8gYXJt
Cj4gPiA+IFBTUgo+ID4gPiAtCQkJICogYWdhaW4gc28gd2UgZG9uJ3QgY2FyZSBhYm91dCB1bm1h
c2sgdGhlCj4gPiA+IGludGVycnVwdGlvbgo+ID4gPiAtCQkJICogb3IgdW5zZXQgaXJxX2F1eF9l
cnJvci4KPiA+ID4gLQkJCSAqLwo+ID4gPiAtCQkJbWFzayB8PSBFRFBfUFNSX0VSUk9SKHNoaWZ0
KTsKPiA+ID4gLQkJfQo+ID4gPiAtCj4gPiA+IC0JCWlmIChwc3JfaWlyICYgRURQX1BTUl9QUkVf
RU5UUlkoc2hpZnQpKSB7Cj4gPiA+IC0JCQlkZXZfcHJpdi0+cHNyLmxhc3RfZW50cnlfYXR0ZW1w
dCA9IHRpbWVfbnM7Cj4gPiA+IC0JCQlEUk1fREVCVUdfS01TKCJbdHJhbnNjb2RlciAlc10gUFNS
IGVudHJ5Cj4gPiA+IGF0dGVtcHQgaW4gMiB2YmxhbmtzXG4iLAo+ID4gPiAtCQkJCSAgICAgIHRy
YW5zY29kZXJfbmFtZShjcHVfdHJhbnNjb2RlcikpOwo+ID4gPiArCQkJSTkxNV9XUklURShQU1Jf
RVZFTlQoY3B1X3RyYW5zY29kZXIpLCB2YWwpOwo+ID4gPiArCQkJcHNyX2V2ZW50X3ByaW50KHZh
bCwgcHNyMl9lbmFibGVkKTsKPiA+ID4gIAkJfQo+ID4gPiArCX0KPiA+ID4gIAo+ID4gPiAtCQlp
ZiAocHNyX2lpciAmIEVEUF9QU1JfUE9TVF9FWElUKHNoaWZ0KSkgewo+ID4gPiAtCQkJZGV2X3By
aXYtPnBzci5sYXN0X2V4aXQgPSB0aW1lX25zOwo+ID4gPiAtCQkJRFJNX0RFQlVHX0tNUygiW3Ry
YW5zY29kZXIgJXNdIFBTUiBleGl0Cj4gPiA+IGNvbXBsZXRlZFxuIiwKPiA+ID4gLQkJCQkgICAg
ICB0cmFuc2NvZGVyX25hbWUoY3B1X3RyYW5zY29kZXIpKTsKPiA+ID4gKwlpZiAocHNyX2lpciAm
IEVEUF9QU1JfRVJST1IoY3B1X3RyYW5zY29kZXIpKSB7Cj4gPiA+ICsJCXUzMiB2YWw7Cj4gPiA+
ICAKPiA+ID4gLQkJCWlmIChJTlRFTF9HRU4oZGV2X3ByaXYpID49IDkpIHsKPiA+ID4gLQkJCQl1
MzIgdmFsID0KPiA+ID4gSTkxNV9SRUFEKFBTUl9FVkVOVChjcHVfdHJhbnNjb2RlcikpOwo+ID4g
PiAtCQkJCWJvb2wgcHNyMl9lbmFibGVkID0gZGV2X3ByaXYtCj4gPiA+ID5wc3IucHNyMl9lbmFi
bGVkOwo+ID4gPiArCQlEUk1fV0FSTigiW3RyYW5zY29kZXIgJXNdIFBTUiBhdXggZXJyb3JcbiIs
Cj4gPiA+ICsJCQkgdHJhbnNjb2Rlcl9uYW1lKGNwdV90cmFuc2NvZGVyKSk7Cj4gPiA+ICAKPiA+
ID4gLQkJCQlJOTE1X1dSSVRFKFBTUl9FVkVOVChjcHVfdHJhbnNjb2RlciksCj4gPiA+IHZhbCk7
Cj4gPiA+IC0JCQkJcHNyX2V2ZW50X3ByaW50KHZhbCwgcHNyMl9lbmFibGVkKTsKPiA+ID4gLQkJ
CX0KPiA+ID4gLQkJfQo+ID4gPiAtCX0KPiA+ID4gKwkJZGV2X3ByaXYtPnBzci5pcnFfYXV4X2Vy
cm9yID0gdHJ1ZTsKPiA+ID4gIAo+ID4gPiAtCWlmIChtYXNrKSB7Cj4gPiA+IC0JCW1hc2sgfD0g
STkxNV9SRUFEKEVEUF9QU1JfSU1SKTsKPiA+ID4gLQkJSTkxNV9XUklURShFRFBfUFNSX0lNUiwg
bWFzayk7Cj4gPiA+ICsJCS8qCj4gPiA+ICsJCSAqIElmIHRoaXMgaW50ZXJydXB0aW9uIGlzIG5v
dCBtYXNrZWQgaXQgd2lsbCBrZWVwCj4gPiA+ICsJCSAqIGludGVycnVwdGluZyBzbyBmYXN0IHRo
YXQgaXQgcHJldmVudHMgdGhlIHNjaGVkdWxlZAo+ID4gPiArCQkgKiB3b3JrIHRvIHJ1bi4KPiA+
ID4gKwkJICogQWxzbyBhZnRlciBhIFBTUiBlcnJvciwgd2UgZG9uJ3Qgd2FudCB0byBhcm0gUFNS
Cj4gPiA+ICsJCSAqIGFnYWluIHNvIHdlIGRvbid0IGNhcmUgYWJvdXQgdW5tYXNrIHRoZSBpbnRl
cnJ1cHRpb24KPiA+ID4gKwkJICogb3IgdW5zZXQgaXJxX2F1eF9lcnJvci4KPiA+ID4gKwkJICov
Cj4gPiA+ICsJCXZhbCA9IEk5MTVfUkVBRChFRFBfUFNSX0lNUik7Cj4gPiA+ICsJCXZhbCB8PSBF
RFBfUFNSX0VSUk9SKGNwdV90cmFuc2NvZGVyKTsKPiA+ID4gKwkJSTkxNV9XUklURShFRFBfUFNS
X0lNUiwgdmFsKTsKPiA+ID4gIAo+ID4gPiAgCQlzY2hlZHVsZV93b3JrKCZkZXZfcHJpdi0+cHNy
LndvcmspOwo+ID4gPiAgCX0KPiA+ID4gQEAgLTc0Nyw3ICs3MDYsNyBAQCBzdGF0aWMgdm9pZCBp
bnRlbF9wc3JfZW5hYmxlX3NvdXJjZShzdHJ1Y3QKPiA+ID4gaW50ZWxfZHAgKmludGVsX2RwLAo+
ID4gPiAgCj4gPiA+ICAJSTkxNV9XUklURShFRFBfUFNSX0RFQlVHKGRldl9wcml2LT5wc3IudHJh
bnNjb2RlciksIG1hc2spOwo+ID4gPiAgCj4gPiA+IC0JcHNyX2lycV9jb250cm9sKGRldl9wcml2
LCBkZXZfcHJpdi0+cHNyLmRlYnVnKTsKPiA+ID4gKwlwc3JfaXJxX2NvbnRyb2woZGV2X3ByaXYp
Owo+ID4gPiAgfQo+ID4gPiAgCj4gPiA+ICBzdGF0aWMgdm9pZCBpbnRlbF9wc3JfZW5hYmxlX2xv
Y2tlZChzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZQo+ID4gPiAqZGV2X3ByaXYsCj4gPiA+IEBAIC03
NzIsNyArNzMxLDcgQEAgc3RhdGljIHZvaWQgaW50ZWxfcHNyX2VuYWJsZV9sb2NrZWQoc3RydWN0
Cj4gPiA+IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2LAo+ID4gPiAgCSAqIHRvIGF2b2lkIGFu
eSByZW5kZXJpbmcgcHJvYmxlbXMuCj4gPiA+ICAJICovCj4gPiA+ICAJdmFsID0gSTkxNV9SRUFE
KEVEUF9QU1JfSUlSKTsKPiA+ID4gLQl2YWwgJj0gRURQX1BTUl9FUlJPUihlZHBfcHNyX3NoaWZ0
KGRldl9wcml2LT5wc3IudHJhbnNjb2RlcikpOwo+ID4gPiArCXZhbCAmPSBFRFBfUFNSX0VSUk9S
KGRldl9wcml2LT5wc3IudHJhbnNjb2Rlcik7Cj4gPiA+ICAJaWYgKHZhbCkgewo+ID4gPiAgCQlk
ZXZfcHJpdi0+cHNyLnNpbmtfbm90X3JlbGlhYmxlID0gdHJ1ZTsKPiA+ID4gIAkJRFJNX0RFQlVH
X0tNUygiUFNSIGludGVycnVwdGlvbiBlcnJvciBzZXQsIG5vdCBlbmFibGluZwo+ID4gPiBQU1Jc
biIpOwo+ID4gPiBAQCAtMTEyMCw3ICsxMDc5LDEzIEBAIGludCBpbnRlbF9wc3JfZGVidWdfc2V0
KHN0cnVjdAo+ID4gPiBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiwgdTY0IHZhbCkKPiA+ID4g
IAo+ID4gPiAgCW9sZF9tb2RlID0gZGV2X3ByaXYtPnBzci5kZWJ1ZyAmIEk5MTVfUFNSX0RFQlVH
X01PREVfTUFTSzsKPiA+ID4gIAlkZXZfcHJpdi0+cHNyLmRlYnVnID0gdmFsOwo+ID4gPiAtCXBz
cl9pcnFfY29udHJvbChkZXZfcHJpdiwgZGV2X3ByaXYtPnBzci5kZWJ1Zyk7Cj4gPiA+ICsKPiA+
ID4gKwkvKgo+ID4gPiArCSAqIERvIGl0IHJpZ2h0IGF3YXkgaWYgaXQncyBhbHJlYWR5IGVuYWJs
ZWQsIG90aGVyd2lzZSBpdCB3aWxsCj4gPiA+IGJlIGRvbmUKPiA+ID4gKwkgKiB3aGVuIGVuYWJs
aW5nIHRoZSBzb3VyY2UuCj4gPiA+ICsJICovCj4gPiA+ICsJaWYgKGRldl9wcml2LT5wc3IuZW5h
YmxlZCkKPiA+ID4gKwkJcHNyX2lycV9jb250cm9sKGRldl9wcml2KTsKPiA+ID4gIAo+ID4gPiAg
CW11dGV4X3VubG9jaygmZGV2X3ByaXYtPnBzci5sb2NrKTsKPiA+ID4gIAo+ID4gPiBkaWZmIC0t
Z2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9yZWcuaAo+ID4gPiBiL2RyaXZlcnMvZ3B1
L2RybS9pOTE1L2k5MTVfcmVnLmgKPiA+ID4gaW5kZXggMDJlMWVmMTBjNDdlLi42ZTdkYjljNjU5
ODEgMTAwNjQ0Cj4gPiA+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfcmVnLmgKPiA+
ID4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9yZWcuaAo+ID4gPiBAQCAtNDIyNSwx
MyArNDIyNSwxMiBAQCBlbnVtIHsKPiA+ID4gIC8qIEJzcGVjIGNsYWltcyB0aG9zZSBhcmVuJ3Qg
c2hpZnRlZCBidXQgc3RheSBhdCAweDY0ODAwICovCj4gPiA+ICAjZGVmaW5lIEVEUF9QU1JfSU1S
CQkJCV9NTUlPKDB4NjQ4MzQpCj4gPiA+ICAjZGVmaW5lIEVEUF9QU1JfSUlSCQkJCV9NTUlPKDB4
NjQ4MzgpCj4gPiA+IC0jZGVmaW5lICAgRURQX1BTUl9FUlJPUihzaGlmdCkJCQkoMSA8PCAoKHNo
aWZ0KQo+ID4gPiArIDIpKQo+ID4gPiAtI2RlZmluZSAgIEVEUF9QU1JfUE9TVF9FWElUKHNoaWZ0
KQkJKDEgPDwgKChzaGlmdCkgKyAxKSkKPiA+ID4gLSNkZWZpbmUgICBFRFBfUFNSX1BSRV9FTlRS
WShzaGlmdCkJCSgxIDw8IChzaGlmdCkpCj4gPiA+IC0jZGVmaW5lICAgRURQX1BTUl9UUkFOU0NP
REVSX0NfU0hJRlQJCTI0Cj4gPiA+IC0jZGVmaW5lICAgRURQX1BTUl9UUkFOU0NPREVSX0JfU0hJ
RlQJCTE2Cj4gPiA+IC0jZGVmaW5lICAgRURQX1BTUl9UUkFOU0NPREVSX0FfU0hJRlQJCTgKPiA+
ID4gLSNkZWZpbmUgICBFRFBfUFNSX1RSQU5TQ09ERVJfRURQX1NISUZUCQkwCj4gPiA+ICsjZGVm
aW5lICAgX0VEUF9QU1JfVFJBTlNfU0hJRlQodHJhbnMpCQkoKHRyYW5zKSA9PQo+ID4gPiBUUkFO
U0NPREVSX0VEUCA/IFwKPiA+ID4gKwkJCQkJCSAwIDogKCh0cmFucykgLQo+ID4gPiBUUkFOU0NP
REVSX0EgKyAxKSAqIDgpCj4gPiA+ICsjZGVmaW5lICAgRURQX1BTUl9UUkFOU19NQVNLKHRyYW5z
KQkJKDB4NyA8PAo+ID4gPiBfRURQX1BTUl9UUkFOU19TSElGVCh0cmFucykpCj4gPiA+ICsjZGVm
aW5lICAgRURQX1BTUl9FUlJPUih0cmFucykJCQkoMHg0IDw8Cj4gPiA+IF9FRFBfUFNSX1RSQU5T
X1NISUZUKHRyYW5zKSkKPiA+ID4gKyNkZWZpbmUgICBFRFBfUFNSX1BPU1RfRVhJVCh0cmFucykJ
CSgweDIgPDwKPiA+ID4gX0VEUF9QU1JfVFJBTlNfU0hJRlQodHJhbnMpKQo+ID4gPiArI2RlZmlu
ZSAgIEVEUF9QU1JfUFJFX0VOVFJZKHRyYW5zKQkJKDB4MSA8PAo+ID4gPiBfRURQX1BTUl9UUkFO
U19TSElGVCh0cmFucykpCj4gPiA+ICAKPiA+ID4gICNkZWZpbmUgX1NSRF9BVVhfQ1RMX0EJCQkJ
MHg2MDgxMAo+ID4gPiAgI2RlZmluZSBfU1JEX0FVWF9DVExfRURQCQkJMHg2ZjgxMAo+ID4gPiAt
LSAKPiA+ID4gMi4yMy4wCj4gPiA+IAoKLS0gCk1hdHQgUm9wZXIKR3JhcGhpY3MgU29mdHdhcmUg
RW5naW5lZXIKVlRULU9TR0MgUGxhdGZvcm0gRW5hYmxlbWVudApJbnRlbCBDb3Jwb3JhdGlvbgoo
OTE2KSAzNTYtMjc5NQpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fXwpJbnRlbC1nZnggbWFpbGluZyBsaXN0CkludGVsLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5v
cmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9pbnRlbC1n
Zng=

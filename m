Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 32F45DD51
	for <lists+intel-gfx@lfdr.de>; Mon, 29 Apr 2019 10:02:21 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 864C789271;
	Mon, 29 Apr 2019 08:02:18 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from fireflyinternet.com (mail.fireflyinternet.com [109.228.58.192])
 by gabe.freedesktop.org (Postfix) with ESMTPS id AC75289271
 for <intel-gfx@lists.freedesktop.org>; Mon, 29 Apr 2019 08:02:16 +0000 (UTC)
X-Default-Received-SPF: pass (skip=forwardok (res=PASS))
 x-ip-name=78.156.65.138; 
Received: from haswell.alporthouse.com (unverified [78.156.65.138]) 
 by fireflyinternet.com (Firefly Internet (M1)) with ESMTP id 16392094-1500050 
 for multiple; Mon, 29 Apr 2019 09:02:06 +0100
From: Chris Wilson <chris@chris-wilson.co.uk>
To: intel-gfx@lists.freedesktop.org
Date: Mon, 29 Apr 2019 09:01:59 +0100
Message-Id: <20190429080159.12356-4-chris@chris-wilson.co.uk>
X-Mailer: git-send-email 2.20.1
In-Reply-To: <20190429080159.12356-1-chris@chris-wilson.co.uk>
References: <20190429080159.12356-1-chris@chris-wilson.co.uk>
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH 4/4] drm/i915/execlists: Don't apply priority
 boost for resets
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

RG8gbm90IHRyZWF0IHJlc2V0IGFzIGEgbm9ybWFsIHByZWVtcHRpb24gZXZlbnQgYW5kIGF2b2lk
IGdpdmluZyB0aGUKZ3VpbHR5IHJlcXVlc3QgYSBwcmlvcml0eSBib29zdCBmb3Igc2ltcGx5IGJl
aW5nIGFjdGl2ZSBhdCB0aGUgdGltZSBvZgpyZXNldC4KClNpZ25lZC1vZmYtYnk6IENocmlzIFdp
bHNvbiA8Y2hyaXNAY2hyaXMtd2lsc29uLmNvLnVrPgotLS0KIGRyaXZlcnMvZ3B1L2RybS9pOTE1
L2d0L2ludGVsX2xyYy5jIHwgMTYgKysrKysrKysrLS0tLS0tLQogMSBmaWxlIGNoYW5nZWQsIDkg
aW5zZXJ0aW9ucygrKSwgNyBkZWxldGlvbnMoLSkKCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9k
cm0vaTkxNS9ndC9pbnRlbF9scmMuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2xy
Yy5jCmluZGV4IDAxZjU4YTE1MmE5ZS4uZDdmYzIxNTM1YmUyIDEwMDY0NAotLS0gYS9kcml2ZXJz
L2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9scmMuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9n
dC9pbnRlbF9scmMuYwpAQCAtMzcwLDExICszNzAsMTEgQEAgc3RhdGljIHZvaWQgdW53aW5kX3dh
X3RhaWwoc3RydWN0IGk5MTVfcmVxdWVzdCAqcnEpCiB9CiAKIHN0YXRpYyBzdHJ1Y3QgaTkxNV9y
ZXF1ZXN0ICoKLV9fdW53aW5kX2luY29tcGxldGVfcmVxdWVzdHMoc3RydWN0IGludGVsX2VuZ2lu
ZV9jcyAqZW5naW5lKQorX191bndpbmRfaW5jb21wbGV0ZV9yZXF1ZXN0cyhzdHJ1Y3QgaW50ZWxf
ZW5naW5lX2NzICplbmdpbmUsIGludCBib29zdCkKIHsKIAlzdHJ1Y3QgaTkxNV9yZXF1ZXN0ICpy
cSwgKnJuLCAqYWN0aXZlID0gTlVMTDsKIAlzdHJ1Y3QgbGlzdF9oZWFkICp1bmluaXRpYWxpemVk
X3ZhcihwbCk7Ci0JaW50IHByaW8gPSBJOTE1X1BSSU9SSVRZX0lOVkFMSUQgfCBBQ1RJVkVfUFJJ
T1JJVFk7CisJaW50IHByaW8gPSBJOTE1X1BSSU9SSVRZX0lOVkFMSUQgfCBib29zdDsKIAogCWxv
Y2tkZXBfYXNzZXJ0X2hlbGQoJmVuZ2luZS0+dGltZWxpbmUubG9jayk7CiAKQEAgLTQxOCw4ICs0
MTgsOSBAQCBfX3Vud2luZF9pbmNvbXBsZXRlX3JlcXVlc3RzKHN0cnVjdCBpbnRlbF9lbmdpbmVf
Y3MgKmVuZ2luZSkKIAkgKiBpbiB0aGUgcHJpb3JpdHkgcXVldWUsIGJ1dCB0aGV5IHdpbGwgbm90
IGdhaW4gaW1tZWRpYXRlIGFjY2VzcyB0bwogCSAqIHRoZSBHUFUuCiAJICovCi0JaWYgKH5wcmlv
ICYgQUNUSVZFX1BSSU9SSVRZICYmIF9faTkxNV9yZXF1ZXN0X2hhc19zdGFydGVkKGFjdGl2ZSkp
IHsKLQkJcHJpbyB8PSBBQ1RJVkVfUFJJT1JJVFk7CisJaWYgKH5wcmlvICYgYm9vc3QgJiYgX19p
OTE1X3JlcXVlc3RfaGFzX3N0YXJ0ZWQoYWN0aXZlKSkgeworCQlwcmlvIHw9IGJvb3N0OworCQlH
RU1fQlVHX09OKGFjdGl2ZS0+c2NoZWQuYXR0ci5wcmlvcml0eSA+PSBwcmlvKTsKIAkJYWN0aXZl
LT5zY2hlZC5hdHRyLnByaW9yaXR5ID0gcHJpbzsKIAkJbGlzdF9tb3ZlX3RhaWwoJmFjdGl2ZS0+
c2NoZWQubGluaywKIAkJCSAgICAgICBpOTE1X3NjaGVkX2xvb2t1cF9wcmlvbGlzdChlbmdpbmUs
IHByaW8pKTsKQEAgLTQzNCw3ICs0MzUsNyBAQCBleGVjbGlzdHNfdW53aW5kX2luY29tcGxldGVf
cmVxdWVzdHMoc3RydWN0IGludGVsX2VuZ2luZV9leGVjbGlzdHMgKmV4ZWNsaXN0cykKIAlzdHJ1
Y3QgaW50ZWxfZW5naW5lX2NzICplbmdpbmUgPQogCQljb250YWluZXJfb2YoZXhlY2xpc3RzLCB0
eXBlb2YoKmVuZ2luZSksIGV4ZWNsaXN0cyk7CiAKLQlyZXR1cm4gX191bndpbmRfaW5jb21wbGV0
ZV9yZXF1ZXN0cyhlbmdpbmUpOworCXJldHVybiBfX3Vud2luZF9pbmNvbXBsZXRlX3JlcXVlc3Rz
KGVuZ2luZSwgMCk7CiB9CiAKIHN0YXRpYyBpbmxpbmUgdm9pZApAQCAtNjU1LDcgKzY1Niw4IEBA
IHN0YXRpYyB2b2lkIGNvbXBsZXRlX3ByZWVtcHRfY29udGV4dChzdHJ1Y3QgaW50ZWxfZW5naW5l
X2V4ZWNsaXN0cyAqZXhlY2xpc3RzKQogCWV4ZWNsaXN0c19jYW5jZWxfcG9ydF9yZXF1ZXN0cyhl
eGVjbGlzdHMpOwogCV9fdW53aW5kX2luY29tcGxldGVfcmVxdWVzdHMoY29udGFpbmVyX29mKGV4
ZWNsaXN0cywKIAkJCQkJCSAgc3RydWN0IGludGVsX2VuZ2luZV9jcywKLQkJCQkJCSAgZXhlY2xp
c3RzKSk7CisJCQkJCQkgIGV4ZWNsaXN0cyksCisJCQkJICAgICBBQ1RJVkVfUFJJT1JJVFkpOwog
fQogCiBzdGF0aWMgdm9pZCBleGVjbGlzdHNfZGVxdWV1ZShzdHJ1Y3QgaW50ZWxfZW5naW5lX2Nz
ICplbmdpbmUpCkBAIC0xOTA4LDcgKzE5MTAsNyBAQCBzdGF0aWMgdm9pZCBfX2V4ZWNsaXN0c19y
ZXNldChzdHJ1Y3QgaW50ZWxfZW5naW5lX2NzICplbmdpbmUsIGJvb2wgc3RhbGxlZCkKIAlleGVj
bGlzdHNfY2FuY2VsX3BvcnRfcmVxdWVzdHMoZXhlY2xpc3RzKTsKIAogCS8qIFB1c2ggYmFjayBh
bnkgaW5jb21wbGV0ZSByZXF1ZXN0cyBmb3IgcmVwbGF5IGFmdGVyIHRoZSByZXNldC4gKi8KLQly
cSA9IF9fdW53aW5kX2luY29tcGxldGVfcmVxdWVzdHMoZW5naW5lKTsKKwlycSA9IF9fdW53aW5k
X2luY29tcGxldGVfcmVxdWVzdHMoZW5naW5lLCAwKTsKIAlpZiAoIXJxKQogCQlnb3RvIG91dF9y
ZXBsYXk7CiAKLS0gCjIuMjAuMQoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX18KSW50ZWwtZ2Z4IG1haWxpbmcgbGlzdApJbnRlbC1nZnhAbGlzdHMuZnJlZWRl
c2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8v
aW50ZWwtZ2Z4

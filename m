Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 8041AB320D
	for <lists+intel-gfx@lfdr.de>; Sun, 15 Sep 2019 22:37:33 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 027BB6E0C5;
	Sun, 15 Sep 2019 20:37:32 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from fireflyinternet.com (mail.fireflyinternet.com [109.228.58.192])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 658B76E0C5
 for <intel-gfx@lists.freedesktop.org>; Sun, 15 Sep 2019 20:37:28 +0000 (UTC)
X-Default-Received-SPF: pass (skip=forwardok (res=PASS))
 x-ip-name=78.156.65.138; 
Received: from haswell.alporthouse.com (unverified [78.156.65.138]) 
 by fireflyinternet.com (Firefly Internet (M1)) with ESMTP id 18499448-1500050 
 for multiple; Sun, 15 Sep 2019 21:37:04 +0100
From: Chris Wilson <chris@chris-wilson.co.uk>
To: intel-gfx@lists.freedesktop.org
Date: Sun, 15 Sep 2019 21:37:01 +0100
Message-Id: <20190915203701.29163-2-chris@chris-wilson.co.uk>
X-Mailer: git-send-email 2.23.0
In-Reply-To: <20190915203701.29163-1-chris@chris-wilson.co.uk>
References: <20190915203701.29163-1-chris@chris-wilson.co.uk>
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH 2/2] drm/i915/selftests: Verify the LRC register
 layout between init and HW
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

QmVmb3JlIHdlIHN1Ym1pdCB0aGUgZmlyc3QgY29udGV4dCB0byBIVywgd2UgbmVlZCB0byBjb25z
dHJ1Y3QgYSB2YWxpZAppbWFnZSBvZiB0aGUgcmVnaXN0ZXIgc3RhdGUuIFRoaXMgbGF5b3V0IGlz
IGRlZmluZWQgYnkgdGhlIEhXIGFuZCBzaG91bGQKbWF0Y2ggdGhlIGxheW91dCBnZW5lcmF0ZWQg
YnkgSFcgd2hlbiBpdCBzYXZlcyB0aGUgY29udGV4dCBpbWFnZS4KQXNzZXJ0aW5nIHRoYXQgdGhp
cyBzaG91bGQgYmUgZXF1aXZhbGVudCBzaG91bGQgaGVscCBhdm9pZCBhbnkgdW5kZWZpbmVkCmJl
aGF2aW91ciBhbmQgdmVyaWZ5IHRoYXQgd2UgaGF2ZW4ndCBtaXNzZWQgYW55dGhpbmcgaW1wb3J0
YW50IQoKT2YgY291cnNlLCBoYXZpbmcgaW5zaXN0ZWQgdGhhdCB0aGUgaW5pdGlhbCByZWdpc3Rl
ciBzdGF0ZSB3aXRoaW4gdGhlCkxSQyBzaG91bGQgbWF0Y2ggdGhhdCByZXR1cm5lZCBieSBIVywg
d2UgbmVlZCB0byBlbnN1cmUgdGhhdCBpdCBkb2VzLgoKU2lnbmVkLW9mZi1ieTogQ2hyaXMgV2ls
c29uIDxjaHJpc0BjaHJpcy13aWxzb24uY28udWs+CkNjOiBNaWthIEt1b3BwYWxhIDxtaWthLmt1
b3BwYWxhQGxpbnV4LmludGVsLmNvbT4KQ2M6IERhbmllbGUgQ2VyYW9sbyBTcHVyaW8gPGRhbmll
bGUuY2VyYW9sb3NwdXJpb0BpbnRlbC5jb20+Ci0tLQogZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2Vt
L2k5MTVfZ2VtX2NvbnRleHQuYyAgIHwgICAyICstCiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9p
bnRlbF9scmMuYyAgICAgICAgICAgfCA2NjkgKysrKysrKysrKysrLS0tLS0tCiBkcml2ZXJzL2dw
dS9kcm0vaTkxNS9ndC9pbnRlbF9scmNfcmVnLmggICAgICAgfCAgNjIgKy0KIGRyaXZlcnMvZ3B1
L2RybS9pOTE1L2d0L3NlbGZ0ZXN0X2xyYy5jICAgICAgICB8IDE0MiArKysrCiBkcml2ZXJzL2dw
dS9kcm0vaTkxNS9pOTE1X3BlcmYuYyAgICAgICAgICAgICAgfCAgMzUgKy0KIGRyaXZlcnMvZ3B1
L2RybS9pOTE1L2k5MTVfcGVyZi5oICAgICAgICAgICAgICB8ICAgNSArLQogLi4uL2RybS9pOTE1
L3NlbGZ0ZXN0cy9pOTE1X2xpdmVfc2VsZnRlc3RzLmggIHwgICAxICsKIDcgZmlsZXMgY2hhbmdl
ZCwgNjQ5IGluc2VydGlvbnMoKyksIDI2NyBkZWxldGlvbnMoLSkKCmRpZmYgLS1naXQgYS9kcml2
ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fY29udGV4dC5jIGIvZHJpdmVycy9ncHUvZHJt
L2k5MTUvZ2VtL2k5MTVfZ2VtX2NvbnRleHQuYwppbmRleCBmMWMwZTVkOTU4ZjMuLjNlYjNjNGZh
YjExMCAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX2NvbnRl
eHQuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fY29udGV4dC5jCkBA
IC0xMTE1LDcgKzExMTUsNyBAQCBzdGF0aWMgaW50IGdlbjhfZW1pdF9ycGNzX2NvbmZpZyhzdHJ1
Y3QgaTkxNV9yZXF1ZXN0ICpycSwKIAogCW9mZnNldCA9IGk5MTVfZ2d0dF9vZmZzZXQoY2UtPnN0
YXRlKSArCiAJCSBMUkNfU1RBVEVfUE4gKiBQQUdFX1NJWkUgKwotCQkgKENUWF9SX1BXUl9DTEtf
U1RBVEUgKyAxKSAqIDQ7CisJCSBDVFhfUl9QV1JfQ0xLX1NUQVRFICogNDsKIAogCSpjcysrID0g
TUlfU1RPUkVfRFdPUkRfSU1NX0dFTjQgfCBNSV9VU0VfR0dUVDsKIAkqY3MrKyA9IGxvd2VyXzMy
X2JpdHMob2Zmc2V0KTsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVs
X2xyYy5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfbHJjLmMKaW5kZXggYTNmMGU0
OTk5NzQ0Li5jZGJhZjQ2YTc4NDcgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0
L2ludGVsX2xyYy5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2xyYy5jCkBA
IC0yMzAsOSArMjMwLDEwIEBAIHN0YXRpYyBpbnQgX19leGVjbGlzdHNfY29udGV4dF9hbGxvYyhz
dHJ1Y3QgaW50ZWxfY29udGV4dCAqY2UsCiAJCQkJICAgICBzdHJ1Y3QgaW50ZWxfZW5naW5lX2Nz
ICplbmdpbmUpOwogCiBzdGF0aWMgdm9pZCBleGVjbGlzdHNfaW5pdF9yZWdfc3RhdGUodTMyICpy
ZWdfc3RhdGUsCi0JCQkJICAgICBzdHJ1Y3QgaW50ZWxfY29udGV4dCAqY2UsCi0JCQkJICAgICBz
dHJ1Y3QgaW50ZWxfZW5naW5lX2NzICplbmdpbmUsCi0JCQkJICAgICBzdHJ1Y3QgaW50ZWxfcmlu
ZyAqcmluZyk7CisJCQkJICAgICBjb25zdCBzdHJ1Y3QgaW50ZWxfY29udGV4dCAqY2UsCisJCQkJ
ICAgICBjb25zdCBzdHJ1Y3QgaW50ZWxfZW5naW5lX2NzICplbmdpbmUsCisJCQkJICAgICBjb25z
dCBzdHJ1Y3QgaW50ZWxfcmluZyAqcmluZywKKwkJCQkgICAgIGJvb2wgY2xvc2UpOwogCiBzdGF0
aWMgaW5saW5lIHUzMiBpbnRlbF9od3NfcHJlZW1wdF9hZGRyZXNzKHN0cnVjdCBpbnRlbF9lbmdp
bmVfY3MgKmVuZ2luZSkKIHsKQEAgLTQ2NCw2ICs0NjUsNDExIEBAIGxyY19kZXNjcmlwdG9yKHN0
cnVjdCBpbnRlbF9jb250ZXh0ICpjZSwgc3RydWN0IGludGVsX2VuZ2luZV9jcyAqZW5naW5lKQog
CXJldHVybiBkZXNjOwogfQogCitzdGF0aWMgdTMyICpzZXRfb2Zmc2V0cyh1MzIgKnJlZ3MsCisJ
CQljb25zdCB1OCAqZGF0YSwKKwkJCWNvbnN0IHN0cnVjdCBpbnRlbF9lbmdpbmVfY3MgKmVuZ2lu
ZSkKKyNkZWZpbmUgTk9QKHgpIChCSVQoNykgfCAoeCkpCisjZGVmaW5lIExSSShjb3VudCwgZmxh
Z3MpICgoZmxhZ3MpIDw8IDYgfCAoY291bnQpKQorI2RlZmluZSBQT1NURUQgQklUKDApCisjZGVm
aW5lIFJFRyh4KSAoKCh4KSA+PiAyKSB8IEJVSUxEX0JVR19PTl9aRVJPKHggPj0gMHgyMDApKQor
I2RlZmluZSBSRUcxNih4KSBcCisJKCgoeCkgPj4gOSkgfCBCSVQoNykgfCBCVUlMRF9CVUdfT05f
WkVSTyh4ID49IDB4MTAwMDApKSwgXAorCSgoKHgpID4+IDIpICYgMHg3ZikKKyNkZWZpbmUgRU5E
KCkgMAoreworCWNvbnN0IHUzMiBiYXNlID0gZW5naW5lLT5tbWlvX2Jhc2U7CisKKwl3aGlsZSAo
KmRhdGEpIHsKKwkJdTggY291bnQsIGZsYWdzOworCisJCWlmICgqZGF0YSAmIEJJVCg3KSkgeyAv
KiBza2lwICovCisJCQlyZWdzICs9ICpkYXRhKysgJiB+QklUKDcpOworCQkJY29udGludWU7CisJ
CX0KKworCQljb3VudCA9ICpkYXRhICYgMHgzZjsKKwkJZmxhZ3MgPSAqZGF0YSA+PiA2OworCQlk
YXRhKys7CisKKwkJKnJlZ3MgPSBNSV9MT0FEX1JFR0lTVEVSX0lNTShjb3VudCk7CisJCWlmIChm
bGFncyAmIFBPU1RFRCkKKwkJCSpyZWdzIHw9IE1JX0xSSV9GT1JDRV9QT1NURUQ7CisJCWlmIChJ
TlRFTF9HRU4oZW5naW5lLT5pOTE1KSA+PSAxMSkKKwkJCSpyZWdzIHw9IE1JX0xSSV9DU19NTUlP
OworCQlyZWdzKys7CisKKwkJR0VNX0JVR19PTighY291bnQpOworCQlkbyB7CisJCQl1MzIgb2Zm
c2V0ID0gMDsKKwkJCXU4IHY7CisKKwkJCWRvIHsKKwkJCQl2ID0gKmRhdGErKzsKKwkJCQlvZmZz
ZXQgPDw9IDc7CisJCQkJb2Zmc2V0IHw9IHYgJiB+QklUKDcpOworCQkJfSB3aGlsZSAodiAmIEJJ
VCg3KSk7CisKKwkJCSpyZWdzID0gYmFzZSArIChvZmZzZXQgPDwgMik7CisJCQlyZWdzICs9IDI7
CisJCX0gd2hpbGUgKC0tY291bnQpOworCX0KKworCXJldHVybiByZWdzOworfQorCitzdGF0aWMg
Y29uc3QgdTggZ2VuOF94Y3Nfb2Zmc2V0c1tdID0geworCU5PUCgxKSwKKwlMUkkoMTEsIDApLAor
CVJFRzE2KDB4MjQ0KSwKKwlSRUcoMHgwMzQpLAorCVJFRygweDAzMCksCisJUkVHKDB4MDM4KSwK
KwlSRUcoMHgwM2MpLAorCVJFRygweDE2OCksCisJUkVHKDB4MTQwKSwKKwlSRUcoMHgxMTApLAor
CVJFRygweDExYyksCisJUkVHKDB4MTE0KSwKKwlSRUcoMHgxMTgpLAorCisJTk9QKDkpLAorCUxS
SSg5LCAwKSwKKwlSRUcxNigweDNhOCksCisJUkVHMTYoMHgyOGMpLAorCVJFRzE2KDB4Mjg4KSwK
KwlSRUcxNigweDI4NCksCisJUkVHMTYoMHgyODApLAorCVJFRzE2KDB4MjdjKSwKKwlSRUcxNigw
eDI3OCksCisJUkVHMTYoMHgyNzQpLAorCVJFRzE2KDB4MjcwKSwKKworCU5PUCgxMyksCisJTFJJ
KDIsIDApLAorCVJFRzE2KDB4MjAwKSwKKwlSRUcoMHgwMjgpLAorCisJRU5EKCksCit9OworCitz
dGF0aWMgY29uc3QgdTggZ2VuOV94Y3Nfb2Zmc2V0c1tdID0geworCU5PUCgxKSwKKwlMUkkoMTQs
IFBPU1RFRCksCisJUkVHMTYoMHgyNDQpLAorCVJFRygweDAzNCksCisJUkVHKDB4MDMwKSwKKwlS
RUcoMHgwMzgpLAorCVJFRygweDAzYyksCisJUkVHKDB4MTY4KSwKKwlSRUcoMHgxNDApLAorCVJF
RygweDExMCksCisJUkVHKDB4MTFjKSwKKwlSRUcoMHgxMTQpLAorCVJFRygweDExOCksCisJUkVH
KDB4MWMwKSwKKwlSRUcoMHgxYzQpLAorCVJFRygweDFjOCksCisKKwlOT1AoMyksCisJTFJJKDks
IFBPU1RFRCksCisJUkVHMTYoMHgzYTgpLAorCVJFRzE2KDB4MjhjKSwKKwlSRUcxNigweDI4OCks
CisJUkVHMTYoMHgyODQpLAorCVJFRzE2KDB4MjgwKSwKKwlSRUcxNigweDI3YyksCisJUkVHMTYo
MHgyNzgpLAorCVJFRzE2KDB4Mjc0KSwKKwlSRUcxNigweDI3MCksCisKKwlOT1AoMTMpLAorCUxS
SSgxLCBQT1NURUQpLAorCVJFRzE2KDB4MjAwKSwKKworCU5PUCgxMyksCisJTFJJKDQ0LCBQT1NU
RUQpLAorCVJFRygweDAyOCksCisJUkVHKDB4MDljKSwKKwlSRUcoMHgwYzApLAorCVJFRygweDE3
OCksCisJUkVHKDB4MTdjKSwKKwlSRUcxNigweDM1OCksCisJUkVHKDB4MTcwKSwKKwlSRUcoMHgx
NTApLAorCVJFRygweDE1NCksCisJUkVHKDB4MTU4KSwKKwlSRUcxNigweDQxYyksCisJUkVHMTYo
MHg2MDApLAorCVJFRzE2KDB4NjA0KSwKKwlSRUcxNigweDYwOCksCisJUkVHMTYoMHg2MGMpLAor
CVJFRzE2KDB4NjEwKSwKKwlSRUcxNigweDYxNCksCisJUkVHMTYoMHg2MTgpLAorCVJFRzE2KDB4
NjFjKSwKKwlSRUcxNigweDYyMCksCisJUkVHMTYoMHg2MjQpLAorCVJFRzE2KDB4NjI4KSwKKwlS
RUcxNigweDYyYyksCisJUkVHMTYoMHg2MzApLAorCVJFRzE2KDB4NjM0KSwKKwlSRUcxNigweDYz
OCksCisJUkVHMTYoMHg2M2MpLAorCVJFRzE2KDB4NjQwKSwKKwlSRUcxNigweDY0NCksCisJUkVH
MTYoMHg2NDgpLAorCVJFRzE2KDB4NjRjKSwKKwlSRUcxNigweDY1MCksCisJUkVHMTYoMHg2NTQp
LAorCVJFRzE2KDB4NjU4KSwKKwlSRUcxNigweDY1YyksCisJUkVHMTYoMHg2NjApLAorCVJFRzE2
KDB4NjY0KSwKKwlSRUcxNigweDY2OCksCisJUkVHMTYoMHg2NmMpLAorCVJFRzE2KDB4NjcwKSwK
KwlSRUcxNigweDY3NCksCisJUkVHMTYoMHg2NzgpLAorCVJFRzE2KDB4NjdjKSwKKwlSRUcoMHgw
NjgpLAorCisJRU5EKCksCit9OworCitzdGF0aWMgY29uc3QgdTggZ2VuMTJfeGNzX29mZnNldHNb
XSA9IHsKKwlOT1AoMSksCisJTFJJKDEzLCBQT1NURUQpLAorCVJFRzE2KDB4MjQ0KSwKKwlSRUco
MHgwMzQpLAorCVJFRygweDAzMCksCisJUkVHKDB4MDM4KSwKKwlSRUcoMHgwM2MpLAorCVJFRygw
eDE2OCksCisJUkVHKDB4MTQwKSwKKwlSRUcoMHgxMTApLAorCVJFRygweDFjMCksCisJUkVHKDB4
MWM0KSwKKwlSRUcoMHgxYzgpLAorCVJFRygweDE4MCksCisJUkVHMTYoMHgyYjQpLAorCisJTk9Q
KDUpLAorCUxSSSg5LCBQT1NURUQpLAorCVJFRzE2KDB4M2E4KSwKKwlSRUcxNigweDI4YyksCisJ
UkVHMTYoMHgyODgpLAorCVJFRzE2KDB4Mjg0KSwKKwlSRUcxNigweDI4MCksCisJUkVHMTYoMHgy
N2MpLAorCVJFRzE2KDB4Mjc4KSwKKwlSRUcxNigweDI3NCksCisJUkVHMTYoMHgyNzApLAorCisJ
Tk9QKDEzKSwKKwlMUkkoMiwgUE9TVEVEKSwKKwlSRUcxNigweDIwMCksCisJUkVHMTYoMHgyMDQp
LAorCisJTk9QKDExKSwKKwlMUkkoNTAsIFBPU1RFRCksCisJUkVHMTYoMHg1ODgpLAorCVJFRzE2
KDB4NTg4KSwKKwlSRUcxNigweDU4OCksCisJUkVHMTYoMHg1ODgpLAorCVJFRzE2KDB4NTg4KSwK
KwlSRUcxNigweDU4OCksCisJUkVHKDB4MDI4KSwKKwlSRUcoMHgwOWMpLAorCVJFRygweDBjMCks
CisJUkVHKDB4MTc4KSwKKwlSRUcoMHgxN2MpLAorCVJFRzE2KDB4MzU4KSwKKwlSRUcoMHgxNzAp
LAorCVJFRygweDE1MCksCisJUkVHKDB4MTU0KSwKKwlSRUcoMHgxNTgpLAorCVJFRzE2KDB4NDFj
KSwKKwlSRUcxNigweDYwMCksCisJUkVHMTYoMHg2MDQpLAorCVJFRzE2KDB4NjA4KSwKKwlSRUcx
NigweDYwYyksCisJUkVHMTYoMHg2MTApLAorCVJFRzE2KDB4NjE0KSwKKwlSRUcxNigweDYxOCks
CisJUkVHMTYoMHg2MWMpLAorCVJFRzE2KDB4NjIwKSwKKwlSRUcxNigweDYyNCksCisJUkVHMTYo
MHg2MjgpLAorCVJFRzE2KDB4NjJjKSwKKwlSRUcxNigweDYzMCksCisJUkVHMTYoMHg2MzQpLAor
CVJFRzE2KDB4NjM4KSwKKwlSRUcxNigweDYzYyksCisJUkVHMTYoMHg2NDApLAorCVJFRzE2KDB4
NjQ0KSwKKwlSRUcxNigweDY0OCksCisJUkVHMTYoMHg2NGMpLAorCVJFRzE2KDB4NjUwKSwKKwlS
RUcxNigweDY1NCksCisJUkVHMTYoMHg2NTgpLAorCVJFRzE2KDB4NjVjKSwKKwlSRUcxNigweDY2
MCksCisJUkVHMTYoMHg2NjQpLAorCVJFRzE2KDB4NjY4KSwKKwlSRUcxNigweDY2YyksCisJUkVH
MTYoMHg2NzApLAorCVJFRzE2KDB4Njc0KSwKKwlSRUcxNigweDY3OCksCisJUkVHMTYoMHg2N2Mp
LAorCVJFRygweDA2OCksCisKKwlFTkQoKSwKK307CisKK3N0YXRpYyBjb25zdCB1OCBnZW44X3Jj
c19vZmZzZXRzW10gPSB7CisJTk9QKDEpLAorCUxSSSgxNCwgUE9TVEVEKSwKKwlSRUcxNigweDI0
NCksCisJUkVHKDB4MDM0KSwKKwlSRUcoMHgwMzApLAorCVJFRygweDAzOCksCisJUkVHKDB4MDNj
KSwKKwlSRUcoMHgxNjgpLAorCVJFRygweDE0MCksCisJUkVHKDB4MTEwKSwKKwlSRUcoMHgxMWMp
LAorCVJFRygweDExNCksCisJUkVHKDB4MTE4KSwKKwlSRUcoMHgxYzApLAorCVJFRygweDFjNCks
CisJUkVHKDB4MWM4KSwKKworCU5PUCgzKSwKKwlMUkkoOSwgUE9TVEVEKSwKKwlSRUcxNigweDNh
OCksCisJUkVHMTYoMHgyOGMpLAorCVJFRzE2KDB4Mjg4KSwKKwlSRUcxNigweDI4NCksCisJUkVH
MTYoMHgyODApLAorCVJFRzE2KDB4MjdjKSwKKwlSRUcxNigweDI3OCksCisJUkVHMTYoMHgyNzQp
LAorCVJFRzE2KDB4MjcwKSwKKworCU5PUCgxMyksCisJTFJJKDEsIDApLAorCVJFRygweDBjOCks
CisKKwlFTkQoKSwKK307CisKK3N0YXRpYyBjb25zdCB1OCBnZW4xMV9yY3Nfb2Zmc2V0c1tdID0g
eworCU5PUCgxKSwKKwlMUkkoMTUsIFBPU1RFRCksCisJUkVHMTYoMHgyNDQpLAorCVJFRygweDAz
NCksCisJUkVHKDB4MDMwKSwKKwlSRUcoMHgwMzgpLAorCVJFRygweDAzYyksCisJUkVHKDB4MTY4
KSwKKwlSRUcoMHgxNDApLAorCVJFRygweDExMCksCisJUkVHKDB4MTFjKSwKKwlSRUcoMHgxMTQp
LAorCVJFRygweDExOCksCisJUkVHKDB4MWMwKSwKKwlSRUcoMHgxYzQpLAorCVJFRygweDFjOCks
CisJUkVHKDB4MTgwKSwKKworCU5PUCgxKSwKKwlMUkkoOSwgUE9TVEVEKSwKKwlSRUcxNigweDNh
OCksCisJUkVHMTYoMHgyOGMpLAorCVJFRzE2KDB4Mjg4KSwKKwlSRUcxNigweDI4NCksCisJUkVH
MTYoMHgyODApLAorCVJFRzE2KDB4MjdjKSwKKwlSRUcxNigweDI3OCksCisJUkVHMTYoMHgyNzQp
LAorCVJFRzE2KDB4MjcwKSwKKworCUxSSSgxLCBQT1NURUQpLAorCVJFRygweDFiMCksCisKKwlO
T1AoMTApLAorCUxSSSgxLCAwKSwKKwlSRUcoMHgwYzgpLAorCisJRU5EKCksCit9OworCitzdGF0
aWMgY29uc3QgdTggZ2VuMTJfcmNzX29mZnNldHNbXSA9IHsKKwlOT1AoMSksCisJTFJJKDEzLCBQ
T1NURUQpLAorCVJFRzE2KDB4MjQ0KSwKKwlSRUcoMHgwMzQpLAorCVJFRygweDAzMCksCisJUkVH
KDB4MDM4KSwKKwlSRUcoMHgwM2MpLAorCVJFRygweDE2OCksCisJUkVHKDB4MTQwKSwKKwlSRUco
MHgxMTApLAorCVJFRygweDFjMCksCisJUkVHKDB4MWM0KSwKKwlSRUcoMHgxYzgpLAorCVJFRygw
eDE4MCksCisJUkVHMTYoMHgyYjQpLAorCisJTk9QKDUpLAorCUxSSSg5LCBQT1NURUQpLAorCVJF
RzE2KDB4M2E4KSwKKwlSRUcxNigweDI4YyksCisJUkVHMTYoMHgyODgpLAorCVJFRzE2KDB4Mjg0
KSwKKwlSRUcxNigweDI4MCksCisJUkVHMTYoMHgyN2MpLAorCVJFRzE2KDB4Mjc4KSwKKwlSRUcx
NigweDI3NCksCisJUkVHMTYoMHgyNzApLAorCisJTFJJKDMsIFBPU1RFRCksCisJUkVHKDB4MWIw
KSwKKwlSRUcxNigweDVhOCksCisJUkVHMTYoMHg1YWMpLAorCisJTk9QKDYpLAorCUxSSSgxLCAw
KSwKKwlSRUcoMHgwYzgpLAorCisJRU5EKCksCit9OworCisjdW5kZWYgRU5ECisjdW5kZWYgUkVH
MTYKKyN1bmRlZiBSRUcKKyN1bmRlZiBMUkkKKyN1bmRlZiBOT1AKKworc3RhdGljIGNvbnN0IHU4
ICpyZWdfb2Zmc2V0cyhjb25zdCBzdHJ1Y3QgaW50ZWxfZW5naW5lX2NzICplbmdpbmUpCit7CisJ
aWYgKGVuZ2luZS0+Y2xhc3MgPT0gUkVOREVSX0NMQVNTKSB7CisJCWlmIChJTlRFTF9HRU4oZW5n
aW5lLT5pOTE1KSA+PSAxMikKKwkJCXJldHVybiBnZW4xMl9yY3Nfb2Zmc2V0czsKKwkJZWxzZSBp
ZiAoSU5URUxfR0VOKGVuZ2luZS0+aTkxNSkgPj0gMTEpCisJCQlyZXR1cm4gZ2VuMTFfcmNzX29m
ZnNldHM7CisJCWVsc2UKKwkJCXJldHVybiBnZW44X3Jjc19vZmZzZXRzOworCX0gZWxzZSB7CisJ
CWlmIChJTlRFTF9HRU4oZW5naW5lLT5pOTE1KSA+PSAxMikKKwkJCXJldHVybiBnZW4xMl94Y3Nf
b2Zmc2V0czsKKwkJZWxzZSBpZiAoSU5URUxfR0VOKGVuZ2luZS0+aTkxNSkgPj0gOSkKKwkJCXJl
dHVybiBnZW45X3hjc19vZmZzZXRzOworCQllbHNlCisJCQlyZXR1cm4gZ2VuOF94Y3Nfb2Zmc2V0
czsKKwl9Cit9CisKIHN0YXRpYyB2b2lkIHVud2luZF93YV90YWlsKHN0cnVjdCBpOTE1X3JlcXVl
c3QgKnJxKQogewogCXJxLT50YWlsID0gaW50ZWxfcmluZ193cmFwKHJxLT5yaW5nLCBycS0+d2Ff
dGFpbCAtIFdBX1RBSUxfQllURVMpOwpAQCAtNjQ3LDcgKzEwNTMsNyBAQCBzdGF0aWMgdTY0IGV4
ZWNsaXN0c191cGRhdGVfY29udGV4dChjb25zdCBzdHJ1Y3QgaTkxNV9yZXF1ZXN0ICpycSkKIAlz
dHJ1Y3QgaW50ZWxfY29udGV4dCAqY2UgPSBycS0+aHdfY29udGV4dDsKIAl1NjQgZGVzYzsKIAot
CWNlLT5scmNfcmVnX3N0YXRlW0NUWF9SSU5HX1RBSUwgKyAxXSA9CisJY2UtPmxyY19yZWdfc3Rh
dGVbQ1RYX1JJTkdfVEFJTF0gPQogCQlpbnRlbF9yaW5nX3NldF90YWlsKHJxLT5yaW5nLCBycS0+
dGFpbCk7CiAKIAkvKgpAQCAtODA4LDU0ICsxMjE0LDcgQEAgc3RhdGljIGJvb2wgY2FuX21lcmdl
X3JxKGNvbnN0IHN0cnVjdCBpOTE1X3JlcXVlc3QgKnByZXYsCiBzdGF0aWMgdm9pZCB2aXJ0dWFs
X3VwZGF0ZV9yZWdpc3Rlcl9vZmZzZXRzKHUzMiAqcmVncywKIAkJCQkJICAgIHN0cnVjdCBpbnRl
bF9lbmdpbmVfY3MgKmVuZ2luZSkKIHsKLQl1MzIgYmFzZSA9IGVuZ2luZS0+bW1pb19iYXNlOwot
Ci0JLyogUmVmYWN0b3Igc28gdGhhdCB3ZSBvbmx5IGhhdmUgb25lIHBsYWNlIHRoYXQga25vd3Mg
YWxsIHRoZSBvZmZzZXRzISAqLwotCUdFTV9XQVJOX09OKElOVEVMX0dFTihlbmdpbmUtPmk5MTUp
ID49IDEyKTsKLQotCS8qIE11c3QgbWF0Y2ggZXhlY2xpc3RzX2luaXRfcmVnX3N0YXRlKCkhICov
Ci0KLQkvKiBDb21tb24gcGFydCAqLwotCXJlZ3NbQ1RYX0NPTlRFWFRfQ09OVFJPTF0gPQotCQlp
OTE1X21taW9fcmVnX29mZnNldChSSU5HX0NPTlRFWFRfQ09OVFJPTChiYXNlKSk7Ci0JcmVnc1tD
VFhfUklOR19IRUFEXSA9IGk5MTVfbW1pb19yZWdfb2Zmc2V0KFJJTkdfSEVBRChiYXNlKSk7Ci0J
cmVnc1tDVFhfUklOR19UQUlMXSA9IGk5MTVfbW1pb19yZWdfb2Zmc2V0KFJJTkdfVEFJTChiYXNl
KSk7Ci0JcmVnc1tDVFhfUklOR19CVUZGRVJfU1RBUlRdID0gaTkxNV9tbWlvX3JlZ19vZmZzZXQo
UklOR19TVEFSVChiYXNlKSk7Ci0JcmVnc1tDVFhfUklOR19CVUZGRVJfQ09OVFJPTF0gPSBpOTE1
X21taW9fcmVnX29mZnNldChSSU5HX0NUTChiYXNlKSk7Ci0KLQlyZWdzW0NUWF9CQl9IRUFEX1Vd
ID0gaTkxNV9tbWlvX3JlZ19vZmZzZXQoUklOR19CQkFERFJfVURXKGJhc2UpKTsKLQlyZWdzW0NU
WF9CQl9IRUFEX0xdID0gaTkxNV9tbWlvX3JlZ19vZmZzZXQoUklOR19CQkFERFIoYmFzZSkpOwot
CXJlZ3NbQ1RYX0JCX1NUQVRFXSA9IGk5MTVfbW1pb19yZWdfb2Zmc2V0KFJJTkdfQkJTVEFURShi
YXNlKSk7Ci0KLQlyZWdzW0NUWF9TRUNPTkRfQkJfSEVBRF9VXSA9Ci0JCWk5MTVfbW1pb19yZWdf
b2Zmc2V0KFJJTkdfU0JCQUREUl9VRFcoYmFzZSkpOwotCXJlZ3NbQ1RYX1NFQ09ORF9CQl9IRUFE
X0xdID0gaTkxNV9tbWlvX3JlZ19vZmZzZXQoUklOR19TQkJBRERSKGJhc2UpKTsKLQlyZWdzW0NU
WF9TRUNPTkRfQkJfU1RBVEVdID0gaTkxNV9tbWlvX3JlZ19vZmZzZXQoUklOR19TQkJTVEFURShi
YXNlKSk7Ci0KLQkvKiBQUEdUVCBwYXJ0ICovCi0JcmVnc1tDVFhfQ1RYX1RJTUVTVEFNUF0gPQot
CQlpOTE1X21taW9fcmVnX29mZnNldChSSU5HX0NUWF9USU1FU1RBTVAoYmFzZSkpOwotCi0JcmVn
c1tDVFhfUERQM19VRFddID0gaTkxNV9tbWlvX3JlZ19vZmZzZXQoR0VOOF9SSU5HX1BEUF9VRFco
YmFzZSwgMykpOwotCXJlZ3NbQ1RYX1BEUDNfTERXXSA9IGk5MTVfbW1pb19yZWdfb2Zmc2V0KEdF
TjhfUklOR19QRFBfTERXKGJhc2UsIDMpKTsKLQlyZWdzW0NUWF9QRFAyX1VEV10gPSBpOTE1X21t
aW9fcmVnX29mZnNldChHRU44X1JJTkdfUERQX1VEVyhiYXNlLCAyKSk7Ci0JcmVnc1tDVFhfUERQ
Ml9MRFddID0gaTkxNV9tbWlvX3JlZ19vZmZzZXQoR0VOOF9SSU5HX1BEUF9MRFcoYmFzZSwgMikp
OwotCXJlZ3NbQ1RYX1BEUDFfVURXXSA9IGk5MTVfbW1pb19yZWdfb2Zmc2V0KEdFTjhfUklOR19Q
RFBfVURXKGJhc2UsIDEpKTsKLQlyZWdzW0NUWF9QRFAxX0xEV10gPSBpOTE1X21taW9fcmVnX29m
ZnNldChHRU44X1JJTkdfUERQX0xEVyhiYXNlLCAxKSk7Ci0JcmVnc1tDVFhfUERQMF9VRFddID0g
aTkxNV9tbWlvX3JlZ19vZmZzZXQoR0VOOF9SSU5HX1BEUF9VRFcoYmFzZSwgMCkpOwotCXJlZ3Nb
Q1RYX1BEUDBfTERXXSA9IGk5MTVfbW1pb19yZWdfb2Zmc2V0KEdFTjhfUklOR19QRFBfTERXKGJh
c2UsIDApKTsKLQotCWlmIChlbmdpbmUtPmNsYXNzID09IFJFTkRFUl9DTEFTUykgewotCQlyZWdz
W0NUWF9SQ1NfSU5ESVJFQ1RfQ1RYXSA9Ci0JCQlpOTE1X21taW9fcmVnX29mZnNldChSSU5HX0lO
RElSRUNUX0NUWChiYXNlKSk7Ci0JCXJlZ3NbQ1RYX1JDU19JTkRJUkVDVF9DVFhfT0ZGU0VUXSA9
Ci0JCQlpOTE1X21taW9fcmVnX29mZnNldChSSU5HX0lORElSRUNUX0NUWF9PRkZTRVQoYmFzZSkp
OwotCQlyZWdzW0NUWF9CQl9QRVJfQ1RYX1BUUl0gPQotCQkJaTkxNV9tbWlvX3JlZ19vZmZzZXQo
UklOR19CQl9QRVJfQ1RYX1BUUihiYXNlKSk7Ci0KLQkJcmVnc1tDVFhfUl9QV1JfQ0xLX1NUQVRF
XSA9Ci0JCQlpOTE1X21taW9fcmVnX29mZnNldChHRU44X1JfUFdSX0NMS19TVEFURSk7Ci0JfQor
CXNldF9vZmZzZXRzKHJlZ3MsIHJlZ19vZmZzZXRzKGVuZ2luZSksIGVuZ2luZSk7CiB9CiAKIHN0
YXRpYyBib29sIHZpcnR1YWxfbWF0Y2hlcyhjb25zdCBzdHJ1Y3QgdmlydHVhbF9lbmdpbmUgKnZl
LApAQCAtMTcxNCw4ICsyMDczLDggQEAgc3RhdGljIHZvaWQgZXhlY2xpc3RzX2NvbnRleHRfdW5w
aW4oc3RydWN0IGludGVsX2NvbnRleHQgKmNlKQogfQogCiBzdGF0aWMgdm9pZAotX19leGVjbGlz
dHNfdXBkYXRlX3JlZ19zdGF0ZShzdHJ1Y3QgaW50ZWxfY29udGV4dCAqY2UsCi0JCQkgICAgIHN0
cnVjdCBpbnRlbF9lbmdpbmVfY3MgKmVuZ2luZSkKK19fZXhlY2xpc3RzX3VwZGF0ZV9yZWdfc3Rh
dGUoY29uc3Qgc3RydWN0IGludGVsX2NvbnRleHQgKmNlLAorCQkJICAgICBjb25zdCBzdHJ1Y3Qg
aW50ZWxfZW5naW5lX2NzICplbmdpbmUpCiB7CiAJc3RydWN0IGludGVsX3JpbmcgKnJpbmcgPSBj
ZS0+cmluZzsKIAl1MzIgKnJlZ3MgPSBjZS0+bHJjX3JlZ19zdGF0ZTsKQEAgLTE3MjMsMTYgKzIw
ODIsMTYgQEAgX19leGVjbGlzdHNfdXBkYXRlX3JlZ19zdGF0ZShzdHJ1Y3QgaW50ZWxfY29udGV4
dCAqY2UsCiAJR0VNX0JVR19PTighaW50ZWxfcmluZ19vZmZzZXRfdmFsaWQocmluZywgcmluZy0+
aGVhZCkpOwogCUdFTV9CVUdfT04oIWludGVsX3Jpbmdfb2Zmc2V0X3ZhbGlkKHJpbmcsIHJpbmct
PnRhaWwpKTsKIAotCXJlZ3NbQ1RYX1JJTkdfQlVGRkVSX1NUQVJUICsgMV0gPSBpOTE1X2dndHRf
b2Zmc2V0KHJpbmctPnZtYSk7Ci0JcmVnc1tDVFhfUklOR19IRUFEICsgMV0gPSByaW5nLT5oZWFk
OwotCXJlZ3NbQ1RYX1JJTkdfVEFJTCArIDFdID0gcmluZy0+dGFpbDsKKwlyZWdzW0NUWF9SSU5H
X0JVRkZFUl9TVEFSVF0gPSBpOTE1X2dndHRfb2Zmc2V0KHJpbmctPnZtYSk7CisJcmVnc1tDVFhf
UklOR19IRUFEXSA9IHJpbmctPmhlYWQ7CisJcmVnc1tDVFhfUklOR19UQUlMXSA9IHJpbmctPnRh
aWw7CiAKIAkvKiBSUENTICovCiAJaWYgKGVuZ2luZS0+Y2xhc3MgPT0gUkVOREVSX0NMQVNTKSB7
Ci0JCXJlZ3NbQ1RYX1JfUFdSX0NMS19TVEFURSArIDFdID0KKwkJcmVnc1tDVFhfUl9QV1JfQ0xL
X1NUQVRFXSA9CiAJCQlpbnRlbF9zc2V1X21ha2VfcnBjcyhlbmdpbmUtPmk5MTUsICZjZS0+c3Nl
dSk7CiAKLQkJaTkxNV9vYV9pbml0X3JlZ19zdGF0ZShlbmdpbmUsIGNlLCByZWdzKTsKKwkJaTkx
NV9vYV9pbml0X3JlZ19zdGF0ZShjZSwgZW5naW5lKTsKIAl9CiB9CiAKQEAgLTI0MzcsNyArMjc5
Niw3IEBAIHN0YXRpYyB2b2lkIF9fZXhlY2xpc3RzX3Jlc2V0KHN0cnVjdCBpbnRlbF9lbmdpbmVf
Y3MgKmVuZ2luZSwgYm9vbCBzdGFsbGVkKQogCQkgICAgICAgZW5naW5lLT5waW5uZWRfZGVmYXVs
dF9zdGF0ZSArIExSQ19TVEFURV9QTiAqIFBBR0VfU0laRSwKIAkJICAgICAgIGVuZ2luZS0+Y29u
dGV4dF9zaXplIC0gUEFHRV9TSVpFKTsKIAl9Ci0JZXhlY2xpc3RzX2luaXRfcmVnX3N0YXRlKHJl
Z3MsIGNlLCBlbmdpbmUsIGNlLT5yaW5nKTsKKwlleGVjbGlzdHNfaW5pdF9yZWdfc3RhdGUocmVn
cywgY2UsIGVuZ2luZSwgY2UtPnJpbmcsIGZhbHNlKTsKIAogb3V0X3JlcGxheToKIAlHRU1fVFJB
Q0UoIiVzIHJlcGxheSB7aGVhZDolMDR4LCB0YWlsOiUwNHhcbiIsCkBAIC0yOTQyLDcgKzMzMDEs
NyBAQCB2b2lkIGludGVsX2V4ZWNsaXN0c19zZXRfZGVmYXVsdF9zdWJtaXNzaW9uKHN0cnVjdCBp
bnRlbF9lbmdpbmVfY3MgKmVuZ2luZSkKIAlpZiAoSU5URUxfR0VOKGVuZ2luZS0+aTkxNSkgPj0g
MTIpIC8qIFhYWCBkaXNhYmxlZCBmb3IgZGVidWdnaW5nICovCiAJCWVuZ2luZS0+ZmxhZ3MgJj0g
fkk5MTVfRU5HSU5FX0hBU19TRU1BUEhPUkVTOwogCi0JaWYgKGVuZ2luZS0+Y2xhc3MgIT0gQ09Q
WV9FTkdJTkVfQ0xBU1MgJiYgSU5URUxfR0VOKGVuZ2luZS0+aTkxNSkgPj0gMTIpCisJaWYgKGVu
Z2luZS0+Y2xhc3MgIT0gQ09QWV9FTkdJTkVfQ0xBU1MgJiYgSU5URUxfR0VOKGVuZ2luZS0+aTkx
NSkgPj0gMTEpCiAJCWVuZ2luZS0+ZmxhZ3MgfD0gSTkxNV9FTkdJTkVfSEFTX1JFTEFUSVZFX01N
SU87CiB9CiAKQEAgLTMwODgsNyArMzQ0Nyw3IEBAIGludCBpbnRlbF9leGVjbGlzdHNfc3VibWlz
c2lvbl9pbml0KHN0cnVjdCBpbnRlbF9lbmdpbmVfY3MgKmVuZ2luZSkKIAlyZXR1cm4gMDsKIH0K
IAotc3RhdGljIHUzMiBpbnRlbF9scl9pbmRpcmVjdF9jdHhfb2Zmc2V0KHN0cnVjdCBpbnRlbF9l
bmdpbmVfY3MgKmVuZ2luZSkKK3N0YXRpYyB1MzIgaW50ZWxfbHJfaW5kaXJlY3RfY3R4X29mZnNl
dChjb25zdCBzdHJ1Y3QgaW50ZWxfZW5naW5lX2NzICplbmdpbmUpCiB7CiAJdTMyIGluZGlyZWN0
X2N0eF9vZmZzZXQ7CiAKQEAgLTMxMjMsNzUgKzM0ODIsNDggQEAgc3RhdGljIHUzMiBpbnRlbF9s
cl9pbmRpcmVjdF9jdHhfb2Zmc2V0KHN0cnVjdCBpbnRlbF9lbmdpbmVfY3MgKmVuZ2luZSkKIAog
CiBzdGF0aWMgdm9pZCBpbml0X2NvbW1vbl9yZWdfc3RhdGUodTMyICogY29uc3QgcmVncywKLQkJ
CQkgIHN0cnVjdCBpOTE1X3BwZ3R0ICogY29uc3QgcHBndHQsCi0JCQkJICBzdHJ1Y3QgaW50ZWxf
ZW5naW5lX2NzICplbmdpbmUsCi0JCQkJICBzdHJ1Y3QgaW50ZWxfcmluZyAqcmluZykKKwkJCQkg
IGNvbnN0IHN0cnVjdCBpbnRlbF9lbmdpbmVfY3MgKmVuZ2luZSwKKwkJCQkgIGNvbnN0IHN0cnVj
dCBpbnRlbF9yaW5nICpyaW5nKQogewotCWNvbnN0IHUzMiBiYXNlID0gZW5naW5lLT5tbWlvX2Jh
c2U7Ci0KLQlDVFhfUkVHKHJlZ3MsIENUWF9DT05URVhUX0NPTlRST0wsIFJJTkdfQ09OVEVYVF9D
T05UUk9MKGJhc2UpLAorCXJlZ3NbQ1RYX0NPTlRFWFRfQ09OVFJPTF0gPQogCQlfTUFTS0VEX0JJ
VF9ESVNBQkxFKENUWF9DVFJMX0VOR0lORV9DVFhfUkVTVE9SRV9JTkhJQklUKSB8Ci0JCV9NQVNL
RURfQklUX0VOQUJMRShDVFhfQ1RSTF9JTkhJQklUX1NZTl9DVFhfU1dJVENIKSk7Ci0JaWYgKElO
VEVMX0dFTihlbmdpbmUtPmk5MTUpIDwgMTEpIHsKLQkJcmVnc1tDVFhfQ09OVEVYVF9DT05UUk9M
ICsgMV0gfD0KKwkJX01BU0tFRF9CSVRfRU5BQkxFKENUWF9DVFJMX0lOSElCSVRfU1lOX0NUWF9T
V0lUQ0gpOworCWlmIChJTlRFTF9HRU4oZW5naW5lLT5pOTE1KSA8IDExKQorCQlyZWdzW0NUWF9D
T05URVhUX0NPTlRST0xdIHw9CiAJCQlfTUFTS0VEX0JJVF9ESVNBQkxFKENUWF9DVFJMX0VOR0lO
RV9DVFhfU0FWRV9JTkhJQklUIHwKIAkJCQkJICAgIENUWF9DVFJMX1JTX0NUWF9FTkFCTEUpOwot
CX0KLQlDVFhfUkVHKHJlZ3MsIENUWF9SSU5HX0hFQUQsIFJJTkdfSEVBRChiYXNlKSwgMCk7Ci0J
Q1RYX1JFRyhyZWdzLCBDVFhfUklOR19UQUlMLCBSSU5HX1RBSUwoYmFzZSksIDApOwotCUNUWF9S
RUcocmVncywgQ1RYX1JJTkdfQlVGRkVSX1NUQVJULCBSSU5HX1NUQVJUKGJhc2UpLCAwKTsKLQlD
VFhfUkVHKHJlZ3MsIENUWF9SSU5HX0JVRkZFUl9DT05UUk9MLCBSSU5HX0NUTChiYXNlKSwKLQkJ
UklOR19DVExfU0laRShyaW5nLT5zaXplKSB8IFJJTkdfVkFMSUQpOwotCUNUWF9SRUcocmVncywg
Q1RYX0JCX0hFQURfVSwgUklOR19CQkFERFJfVURXKGJhc2UpLCAwKTsKLQlDVFhfUkVHKHJlZ3Ms
IENUWF9CQl9IRUFEX0wsIFJJTkdfQkJBRERSKGJhc2UpLCAwKTsKLQlDVFhfUkVHKHJlZ3MsIENU
WF9CQl9TVEFURSwgUklOR19CQlNUQVRFKGJhc2UpLCBSSU5HX0JCX1BQR1RUKTsKKworCXJlZ3Nb
Q1RYX1JJTkdfQlVGRkVSX0NPTlRST0xdID0gUklOR19DVExfU0laRShyaW5nLT5zaXplKSB8IFJJ
TkdfVkFMSUQ7CisJcmVnc1tDVFhfQkJfU1RBVEVdID0gUklOR19CQl9QUEdUVDsKIH0KIAogc3Rh
dGljIHZvaWQgaW5pdF93YV9iYl9yZWdfc3RhdGUodTMyICogY29uc3QgcmVncywKLQkJCQkgc3Ry
dWN0IGludGVsX2VuZ2luZV9jcyAqZW5naW5lLAorCQkJCSBjb25zdCBzdHJ1Y3QgaW50ZWxfZW5n
aW5lX2NzICplbmdpbmUsCiAJCQkJIHUzMiBwb3NfYmJfcGVyX2N0eCkKIHsKLQlzdHJ1Y3QgaTkx
NV9jdHhfd29ya2Fyb3VuZHMgKiBjb25zdCB3YV9jdHggPSAmZW5naW5lLT53YV9jdHg7Ci0JY29u
c3QgdTMyIGJhc2UgPSBlbmdpbmUtPm1taW9fYmFzZTsKLQljb25zdCB1MzIgcG9zX2luZGlyZWN0
X2N0eCA9IHBvc19iYl9wZXJfY3R4ICsgMjsKLQljb25zdCB1MzIgcG9zX2luZGlyZWN0X2N0eF9v
ZmZzZXQgPSBwb3NfaW5kaXJlY3RfY3R4ICsgMjsKKwljb25zdCBzdHJ1Y3QgaTkxNV9jdHhfd29y
a2Fyb3VuZHMgKiBjb25zdCB3YV9jdHggPSAmZW5naW5lLT53YV9jdHg7CisKKwlpZiAod2FfY3R4
LT5wZXJfY3R4LnNpemUpIHsKKwkJY29uc3QgdTMyIGdndHRfb2Zmc2V0ID0gaTkxNV9nZ3R0X29m
ZnNldCh3YV9jdHgtPnZtYSk7CisKKwkJcmVnc1twb3NfYmJfcGVyX2N0eF0gPQorCQkJKGdndHRf
b2Zmc2V0ICsgd2FfY3R4LT5wZXJfY3R4Lm9mZnNldCkgfCAweDAxOworCX0KIAotCUNUWF9SRUco
cmVncywgcG9zX2luZGlyZWN0X2N0eCwgUklOR19JTkRJUkVDVF9DVFgoYmFzZSksIDApOwotCUNU
WF9SRUcocmVncywgcG9zX2luZGlyZWN0X2N0eF9vZmZzZXQsCi0JCVJJTkdfSU5ESVJFQ1RfQ1RY
X09GRlNFVChiYXNlKSwgMCk7CiAJaWYgKHdhX2N0eC0+aW5kaXJlY3RfY3R4LnNpemUpIHsKIAkJ
Y29uc3QgdTMyIGdndHRfb2Zmc2V0ID0gaTkxNV9nZ3R0X29mZnNldCh3YV9jdHgtPnZtYSk7CiAK
LQkJcmVnc1twb3NfaW5kaXJlY3RfY3R4ICsgMV0gPQorCQlyZWdzW3Bvc19iYl9wZXJfY3R4ICsg
Ml0gPQogCQkJKGdndHRfb2Zmc2V0ICsgd2FfY3R4LT5pbmRpcmVjdF9jdHgub2Zmc2V0KSB8CiAJ
CQkod2FfY3R4LT5pbmRpcmVjdF9jdHguc2l6ZSAvIENBQ0hFTElORV9CWVRFUyk7CiAKLQkJcmVn
c1twb3NfaW5kaXJlY3RfY3R4X29mZnNldCArIDFdID0KKwkJcmVnc1twb3NfYmJfcGVyX2N0eCAr
IDRdID0KIAkJCWludGVsX2xyX2luZGlyZWN0X2N0eF9vZmZzZXQoZW5naW5lKSA8PCA2OwogCX0K
LQotCUNUWF9SRUcocmVncywgcG9zX2JiX3Blcl9jdHgsIFJJTkdfQkJfUEVSX0NUWF9QVFIoYmFz
ZSksIDApOwotCWlmICh3YV9jdHgtPnBlcl9jdHguc2l6ZSkgewotCQljb25zdCB1MzIgZ2d0dF9v
ZmZzZXQgPSBpOTE1X2dndHRfb2Zmc2V0KHdhX2N0eC0+dm1hKTsKLQotCQlyZWdzW3Bvc19iYl9w
ZXJfY3R4ICsgMV0gPQotCQkJKGdndHRfb2Zmc2V0ICsgd2FfY3R4LT5wZXJfY3R4Lm9mZnNldCkg
fCAweDAxOwotCX0KIH0KIAotc3RhdGljIHZvaWQgaW5pdF9wcGd0dF9yZWdfc3RhdGUodTMyICpy
ZWdzLCB1MzIgYmFzZSwKLQkJCQkgc3RydWN0IGk5MTVfcHBndHQgKnBwZ3R0KQorc3RhdGljIHZv
aWQgaW5pdF9wcGd0dF9yZWdfc3RhdGUodTMyICpyZWdzLCBjb25zdCBzdHJ1Y3QgaTkxNV9wcGd0
dCAqcHBndHQpCiB7Ci0JLyogUERQIHZhbHVlcyB3ZWxsIGJlIGFzc2lnbmVkIGxhdGVyIGlmIG5l
ZWRlZCAqLwotCUNUWF9SRUcocmVncywgQ1RYX1BEUDNfVURXLCBHRU44X1JJTkdfUERQX1VEVyhi
YXNlLCAzKSwgMCk7Ci0JQ1RYX1JFRyhyZWdzLCBDVFhfUERQM19MRFcsIEdFTjhfUklOR19QRFBf
TERXKGJhc2UsIDMpLCAwKTsKLQlDVFhfUkVHKHJlZ3MsIENUWF9QRFAyX1VEVywgR0VOOF9SSU5H
X1BEUF9VRFcoYmFzZSwgMiksIDApOwotCUNUWF9SRUcocmVncywgQ1RYX1BEUDJfTERXLCBHRU44
X1JJTkdfUERQX0xEVyhiYXNlLCAyKSwgMCk7Ci0JQ1RYX1JFRyhyZWdzLCBDVFhfUERQMV9VRFcs
IEdFTjhfUklOR19QRFBfVURXKGJhc2UsIDEpLCAwKTsKLQlDVFhfUkVHKHJlZ3MsIENUWF9QRFAx
X0xEVywgR0VOOF9SSU5HX1BEUF9MRFcoYmFzZSwgMSksIDApOwotCUNUWF9SRUcocmVncywgQ1RY
X1BEUDBfVURXLCBHRU44X1JJTkdfUERQX1VEVyhiYXNlLCAwKSwgMCk7Ci0JQ1RYX1JFRyhyZWdz
LCBDVFhfUERQMF9MRFcsIEdFTjhfUklOR19QRFBfTERXKGJhc2UsIDApLCAwKTsKLQogCWlmIChp
OTE1X3ZtX2lzXzRsdmwoJnBwZ3R0LT52bSkpIHsKIAkJLyogNjRiIFBQR1RUICg0OGJpdCBjYW5v
bmljYWwpCiAJCSAqIFBEUDBfREVTQ1JJUFRPUiBjb250YWlucyB0aGUgYmFzZSBhZGRyZXNzIHRv
IFBNTDQgYW5kCkBAIC0zMjE0LDkxICszNTQ2LDExIEBAIHN0YXRpYyBzdHJ1Y3QgaTkxNV9wcGd0
dCAqdm1fYWxpYXMoc3RydWN0IGk5MTVfYWRkcmVzc19zcGFjZSAqdm0pCiAJCXJldHVybiBpOTE1
X3ZtX3RvX3BwZ3R0KHZtKTsKIH0KIAotc3RhdGljIHZvaWQgZ2VuOF9pbml0X3JlZ19zdGF0ZSh1
MzIgKiBjb25zdCByZWdzLAotCQkJCXN0cnVjdCBpbnRlbF9jb250ZXh0ICpjZSwKLQkJCQlzdHJ1
Y3QgaW50ZWxfZW5naW5lX2NzICplbmdpbmUsCi0JCQkJc3RydWN0IGludGVsX3JpbmcgKnJpbmcp
Ci17Ci0Jc3RydWN0IGk5MTVfcHBndHQgKiBjb25zdCBwcGd0dCA9IHZtX2FsaWFzKGNlLT52bSk7
Ci0JY29uc3QgYm9vbCByY3MgPSBlbmdpbmUtPmNsYXNzID09IFJFTkRFUl9DTEFTUzsKLQljb25z
dCB1MzIgYmFzZSA9IGVuZ2luZS0+bW1pb19iYXNlOwotCWNvbnN0IHUzMiBscmlfYmFzZSA9Ci0J
CWludGVsX2VuZ2luZV9oYXNfcmVsYXRpdmVfbW1pbyhlbmdpbmUpID8gTUlfTFJJX0NTX01NSU8g
OiAwOwotCi0JcmVnc1tDVFhfTFJJX0hFQURFUl8wXSA9Ci0JCU1JX0xPQURfUkVHSVNURVJfSU1N
KHJjcyA/IDE0IDogMTEpIHwKLQkJTUlfTFJJX0ZPUkNFX1BPU1RFRCB8Ci0JCWxyaV9iYXNlOwot
Ci0JaW5pdF9jb21tb25fcmVnX3N0YXRlKHJlZ3MsIHBwZ3R0LCBlbmdpbmUsIHJpbmcpOwotCUNU
WF9SRUcocmVncywgQ1RYX1NFQ09ORF9CQl9IRUFEX1UsIFJJTkdfU0JCQUREUl9VRFcoYmFzZSks
IDApOwotCUNUWF9SRUcocmVncywgQ1RYX1NFQ09ORF9CQl9IRUFEX0wsIFJJTkdfU0JCQUREUihi
YXNlKSwgMCk7Ci0JQ1RYX1JFRyhyZWdzLCBDVFhfU0VDT05EX0JCX1NUQVRFLCBSSU5HX1NCQlNU
QVRFKGJhc2UpLCAwKTsKLQlpZiAocmNzKQotCQlpbml0X3dhX2JiX3JlZ19zdGF0ZShyZWdzLCBl
bmdpbmUsIENUWF9CQl9QRVJfQ1RYX1BUUik7Ci0KLQlyZWdzW0NUWF9MUklfSEVBREVSXzFdID0K
LQkJTUlfTE9BRF9SRUdJU1RFUl9JTU0oOSkgfAotCQlNSV9MUklfRk9SQ0VfUE9TVEVEIHwKLQkJ
bHJpX2Jhc2U7Ci0KLQlDVFhfUkVHKHJlZ3MsIENUWF9DVFhfVElNRVNUQU1QLCBSSU5HX0NUWF9U
SU1FU1RBTVAoYmFzZSksIDApOwotCi0JaW5pdF9wcGd0dF9yZWdfc3RhdGUocmVncywgYmFzZSwg
cHBndHQpOwotCi0JaWYgKHJjcykgewotCQlyZWdzW0NUWF9MUklfSEVBREVSXzJdID0gTUlfTE9B
RF9SRUdJU1RFUl9JTU0oMSkgfCBscmlfYmFzZTsKLQkJQ1RYX1JFRyhyZWdzLCBDVFhfUl9QV1Jf
Q0xLX1NUQVRFLCBHRU44X1JfUFdSX0NMS19TVEFURSwgMCk7Ci0JfQotCi0JcmVnc1tDVFhfRU5E
XSA9IE1JX0JBVENIX0JVRkZFUl9FTkQ7Ci0JaWYgKElOVEVMX0dFTihlbmdpbmUtPmk5MTUpID49
IDEwKQotCQlyZWdzW0NUWF9FTkRdIHw9IEJJVCgwKTsKLX0KLQotc3RhdGljIHZvaWQgZ2VuMTJf
aW5pdF9yZWdfc3RhdGUodTMyICogY29uc3QgcmVncywKLQkJCQkgc3RydWN0IGludGVsX2NvbnRl
eHQgKmNlLAotCQkJCSBzdHJ1Y3QgaW50ZWxfZW5naW5lX2NzICplbmdpbmUsCi0JCQkJIHN0cnVj
dCBpbnRlbF9yaW5nICpyaW5nKQotewotCXN0cnVjdCBpOTE1X3BwZ3R0ICogY29uc3QgcHBndHQg
PSBpOTE1X3ZtX3RvX3BwZ3R0KGNlLT52bSk7Ci0JY29uc3QgYm9vbCByY3MgPSBlbmdpbmUtPmNs
YXNzID09IFJFTkRFUl9DTEFTUzsKLQljb25zdCB1MzIgYmFzZSA9IGVuZ2luZS0+bW1pb19iYXNl
OwotCWNvbnN0IHUzMiBscmlfYmFzZSA9Ci0JCWludGVsX2VuZ2luZV9oYXNfcmVsYXRpdmVfbW1p
byhlbmdpbmUpID8gTUlfTFJJX0NTX01NSU8gOiAwOwotCi0JcmVnc1tDVFhfTFJJX0hFQURFUl8w
XSA9Ci0JCU1JX0xPQURfUkVHSVNURVJfSU1NKHJjcyA/IDExIDogOSkgfAotCQlNSV9MUklfRk9S
Q0VfUE9TVEVEIHwKLQkJbHJpX2Jhc2U7Ci0KLQlpbml0X2NvbW1vbl9yZWdfc3RhdGUocmVncywg
cHBndHQsIGVuZ2luZSwgcmluZyk7Ci0KLQkvKiBXZSB3YW50IGN0eF9wdHIgZm9yIGFsbCBlbmdp
bmVzIHRvIGJlIHNldCAqLwotCWluaXRfd2FfYmJfcmVnX3N0YXRlKHJlZ3MsIGVuZ2luZSwgR0VO
MTJfQ1RYX0JCX1BFUl9DVFhfUFRSKTsKLQotCXJlZ3NbQ1RYX0xSSV9IRUFERVJfMV0gPQotCQlN
SV9MT0FEX1JFR0lTVEVSX0lNTSg5KSB8Ci0JCU1JX0xSSV9GT1JDRV9QT1NURUQgfAotCQlscmlf
YmFzZTsKLQotCUNUWF9SRUcocmVncywgQ1RYX0NUWF9USU1FU1RBTVAsIFJJTkdfQ1RYX1RJTUVT
VEFNUChiYXNlKSwgMCk7Ci0KLQlpbml0X3BwZ3R0X3JlZ19zdGF0ZShyZWdzLCBiYXNlLCBwcGd0
dCk7Ci0KLQlpZiAocmNzKSB7Ci0JCXJlZ3NbR0VOMTJfQ1RYX0xSSV9IRUFERVJfM10gPQotCQkJ
TUlfTE9BRF9SRUdJU1RFUl9JTU0oMSkgfCBscmlfYmFzZTsKLQkJQ1RYX1JFRyhyZWdzLCBDVFhf
Ul9QV1JfQ0xLX1NUQVRFLCBHRU44X1JfUFdSX0NMS19TVEFURSwgMCk7Ci0KLQkJLyogVE9ETzog
b2FfaW5pdF9yZWdfc3RhdGUgPyAqLwotCX0KLX0KLQogc3RhdGljIHZvaWQgZXhlY2xpc3RzX2lu
aXRfcmVnX3N0YXRlKHUzMiAqcmVncywKLQkJCQkgICAgIHN0cnVjdCBpbnRlbF9jb250ZXh0ICpj
ZSwKLQkJCQkgICAgIHN0cnVjdCBpbnRlbF9lbmdpbmVfY3MgKmVuZ2luZSwKLQkJCQkgICAgIHN0
cnVjdCBpbnRlbF9yaW5nICpyaW5nKQorCQkJCSAgICAgY29uc3Qgc3RydWN0IGludGVsX2NvbnRl
eHQgKmNlLAorCQkJCSAgICAgY29uc3Qgc3RydWN0IGludGVsX2VuZ2luZV9jcyAqZW5naW5lLAor
CQkJCSAgICAgY29uc3Qgc3RydWN0IGludGVsX3JpbmcgKnJpbmcsCisJCQkJICAgICBib29sIGNs
b3NlKQogewogCS8qCiAJICogQSBjb250ZXh0IGlzIGFjdHVhbGx5IGEgYmlnIGJhdGNoIGJ1ZmZl
ciB3aXRoIHNldmVyYWwKQEAgLTMzMTAsMTAgKzM1NjIsMjEgQEAgc3RhdGljIHZvaWQgZXhlY2xp
c3RzX2luaXRfcmVnX3N0YXRlKHUzMiAqcmVncywKIAkgKgogCSAqIE11c3Qga2VlcCBjb25zaXN0
ZW50IHdpdGggdmlydHVhbF91cGRhdGVfcmVnaXN0ZXJfb2Zmc2V0cygpLgogCSAqLwotCWlmIChJ
TlRFTF9HRU4oZW5naW5lLT5pOTE1KSA+PSAxMikKLQkJZ2VuMTJfaW5pdF9yZWdfc3RhdGUocmVn
cywgY2UsIGVuZ2luZSwgcmluZyk7Ci0JZWxzZQotCQlnZW44X2luaXRfcmVnX3N0YXRlKHJlZ3Ms
IGNlLCBlbmdpbmUsIHJpbmcpOworCXUzMiAqYmJlID0gc2V0X29mZnNldHMocmVncywgcmVnX29m
ZnNldHMoZW5naW5lKSwgZW5naW5lKTsKKworCWlmIChjbG9zZSkgeyAvKiBDbG9zZSB0aGUgYmF0
Y2g7IHVzZWQgbWFpbmx5IGJ5IGxpdmVfbHJjX2xheW91dCgpICovCisJCSpiYmUgPSBNSV9CQVRD
SF9CVUZGRVJfRU5EOworCQlpZiAoSU5URUxfR0VOKGVuZ2luZS0+aTkxNSkgPj0gMTApCisJCQkq
YmJlIHw9IEJJVCgwKTsKKwl9CisKKwlpbml0X2NvbW1vbl9yZWdfc3RhdGUocmVncywgZW5naW5l
LCByaW5nKTsKKwlpbml0X3BwZ3R0X3JlZ19zdGF0ZShyZWdzLCB2bV9hbGlhcyhjZS0+dm0pKTsK
KworCWluaXRfd2FfYmJfcmVnX3N0YXRlKHJlZ3MsIGVuZ2luZSwKKwkJCSAgICAgSU5URUxfR0VO
KGVuZ2luZS0+aTkxNSkgPj0gMTIgPworCQkJICAgICBHRU4xMl9DVFhfQkJfUEVSX0NUWF9QVFIg
OgorCQkJICAgICBDVFhfQkJfUEVSX0NUWF9QVFIpOwogfQogCiBzdGF0aWMgaW50CkBAIC0zMzIy
LDYgKzM1ODUsNyBAQCBwb3B1bGF0ZV9scl9jb250ZXh0KHN0cnVjdCBpbnRlbF9jb250ZXh0ICpj
ZSwKIAkJICAgIHN0cnVjdCBpbnRlbF9lbmdpbmVfY3MgKmVuZ2luZSwKIAkJICAgIHN0cnVjdCBp
bnRlbF9yaW5nICpyaW5nKQogeworCWJvb2wgaW5oaWJpdCA9IHRydWU7CiAJdm9pZCAqdmFkZHI7
CiAJdTMyICpyZWdzOwogCWludCByZXQ7CkBAIC0zMzUzLDE0ICszNjE3LDE1IEBAIHBvcHVsYXRl
X2xyX2NvbnRleHQoc3RydWN0IGludGVsX2NvbnRleHQgKmNlLAogCiAJCW1lbWNweSh2YWRkciAr
IHN0YXJ0LCBkZWZhdWx0cyArIHN0YXJ0LCBlbmdpbmUtPmNvbnRleHRfc2l6ZSk7CiAJCWk5MTVf
Z2VtX29iamVjdF91bnBpbl9tYXAoZW5naW5lLT5kZWZhdWx0X3N0YXRlKTsKKwkJaW5oaWJpdCA9
IGZhbHNlOwogCX0KIAogCS8qIFRoZSBzZWNvbmQgcGFnZSBvZiB0aGUgY29udGV4dCBvYmplY3Qg
Y29udGFpbnMgc29tZSBmaWVsZHMgd2hpY2ggbXVzdAogCSAqIGJlIHNldCB1cCBwcmlvciB0byB0
aGUgZmlyc3QgZXhlY3V0aW9uLiAqLwogCXJlZ3MgPSB2YWRkciArIExSQ19TVEFURV9QTiAqIFBB
R0VfU0laRTsKLQlleGVjbGlzdHNfaW5pdF9yZWdfc3RhdGUocmVncywgY2UsIGVuZ2luZSwgcmlu
Zyk7Ci0JaWYgKCFlbmdpbmUtPmRlZmF1bHRfc3RhdGUpCi0JCXJlZ3NbQ1RYX0NPTlRFWFRfQ09O
VFJPTCArIDFdIHw9CisJZXhlY2xpc3RzX2luaXRfcmVnX3N0YXRlKHJlZ3MsIGNlLCBlbmdpbmUs
IHJpbmcsIGluaGliaXQpOworCWlmIChpbmhpYml0KQorCQlyZWdzW0NUWF9DT05URVhUX0NPTlRS
T0xdIHw9CiAJCQlfTUFTS0VEX0JJVF9FTkFCTEUoQ1RYX0NUUkxfRU5HSU5FX0NUWF9SRVNUT1JF
X0lOSElCSVQpOwogCiAJcmV0ID0gMDsKQEAgLTQwMzUsNyArNDMwMCw3IEBAIHZvaWQgaW50ZWxf
bHJfY29udGV4dF9yZXNldChzdHJ1Y3QgaW50ZWxfZW5naW5lX2NzICplbmdpbmUsCiAJCQkgICAg
ICAgZW5naW5lLT5waW5uZWRfZGVmYXVsdF9zdGF0ZSArIExSQ19TVEFURV9QTiAqIFBBR0VfU0la
RSwKIAkJCSAgICAgICBlbmdpbmUtPmNvbnRleHRfc2l6ZSAtIFBBR0VfU0laRSk7CiAJCX0KLQkJ
ZXhlY2xpc3RzX2luaXRfcmVnX3N0YXRlKHJlZ3MsIGNlLCBlbmdpbmUsIGNlLT5yaW5nKTsKKwkJ
ZXhlY2xpc3RzX2luaXRfcmVnX3N0YXRlKHJlZ3MsIGNlLCBlbmdpbmUsIGNlLT5yaW5nLCBmYWxz
ZSk7CiAJfQogCiAJLyogUmVydW4gdGhlIHJlcXVlc3Q7IGl0cyBwYXlsb2FkIGhhcyBiZWVuIG5l
dXRlcmVkIChpZiBndWlsdHkpLiAqLwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUv
Z3QvaW50ZWxfbHJjX3JlZy5oIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfbHJjX3Jl
Zy5oCmluZGV4IDdlNzczZTc0YTNmZS4uMDZhYjAyNzZlMTBlIDEwMDY0NAotLS0gYS9kcml2ZXJz
L2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9scmNfcmVnLmgKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5
MTUvZ3QvaW50ZWxfbHJjX3JlZy5oCkBAIC0xMCw2MCArMTAsNDAgQEAKICNpbmNsdWRlIDxsaW51
eC90eXBlcy5oPgogCiAvKiBHRU44IHRvIEdFTjExIFJlZyBTdGF0ZSBDb250ZXh0ICovCi0jZGVm
aW5lIENUWF9MUklfSEVBREVSXzAJCTB4MDEKLSNkZWZpbmUgQ1RYX0NPTlRFWFRfQ09OVFJPTAkJ
MHgwMgotI2RlZmluZSBDVFhfUklOR19IRUFECQkJMHgwNAotI2RlZmluZSBDVFhfUklOR19UQUlM
CQkJMHgwNgotI2RlZmluZSBDVFhfUklOR19CVUZGRVJfU1RBUlQJCTB4MDgKLSNkZWZpbmUgQ1RY
X1JJTkdfQlVGRkVSX0NPTlRST0wJCTB4MGEKLSNkZWZpbmUgQ1RYX0JCX0hFQURfVQkJCTB4MGMK
LSNkZWZpbmUgQ1RYX0JCX0hFQURfTAkJCTB4MGUKLSNkZWZpbmUgQ1RYX0JCX1NUQVRFCQkJMHgx
MAotI2RlZmluZSBDVFhfU0VDT05EX0JCX0hFQURfVQkJMHgxMgotI2RlZmluZSBDVFhfU0VDT05E
X0JCX0hFQURfTAkJMHgxNAotI2RlZmluZSBDVFhfU0VDT05EX0JCX1NUQVRFCQkweDE2Ci0jZGVm
aW5lIENUWF9CQl9QRVJfQ1RYX1BUUgkJMHgxOAotI2RlZmluZSBDVFhfUkNTX0lORElSRUNUX0NU
WAkJMHgxYQotI2RlZmluZSBDVFhfUkNTX0lORElSRUNUX0NUWF9PRkZTRVQJMHgxYwotI2RlZmlu
ZSBDVFhfTFJJX0hFQURFUl8xCQkweDIxCi0jZGVmaW5lIENUWF9DVFhfVElNRVNUQU1QCQkweDIy
Ci0jZGVmaW5lIENUWF9QRFAzX1VEVwkJCTB4MjQKLSNkZWZpbmUgQ1RYX1BEUDNfTERXCQkJMHgy
NgotI2RlZmluZSBDVFhfUERQMl9VRFcJCQkweDI4Ci0jZGVmaW5lIENUWF9QRFAyX0xEVwkJCTB4
MmEKLSNkZWZpbmUgQ1RYX1BEUDFfVURXCQkJMHgyYwotI2RlZmluZSBDVFhfUERQMV9MRFcJCQkw
eDJlCi0jZGVmaW5lIENUWF9QRFAwX1VEVwkJCTB4MzAKLSNkZWZpbmUgQ1RYX1BEUDBfTERXCQkJ
MHgzMgotI2RlZmluZSBDVFhfTFJJX0hFQURFUl8yCQkweDQxCi0jZGVmaW5lIENUWF9SX1BXUl9D
TEtfU1RBVEUJCTB4NDIKLSNkZWZpbmUgQ1RYX0VORAkJCQkweDQ0CisjZGVmaW5lIENUWF9DT05U
RVhUX0NPTlRST0wJCSgweDAyICsgMSkKKyNkZWZpbmUgQ1RYX1JJTkdfSEVBRAkJCSgweDA0ICsg
MSkKKyNkZWZpbmUgQ1RYX1JJTkdfVEFJTAkJCSgweDA2ICsgMSkKKyNkZWZpbmUgQ1RYX1JJTkdf
QlVGRkVSX1NUQVJUCQkoMHgwOCArIDEpCisjZGVmaW5lIENUWF9SSU5HX0JVRkZFUl9DT05UUk9M
CQkoMHgwYSArIDEpCisjZGVmaW5lIENUWF9CQl9TVEFURQkJCSgweDEwICsgMSkKKyNkZWZpbmUg
Q1RYX0JCX1BFUl9DVFhfUFRSCQkoMHgxOCArIDEpCisjZGVmaW5lIENUWF9QRFAzX1VEVwkJCSgw
eDI0ICsgMSkKKyNkZWZpbmUgQ1RYX1BEUDNfTERXCQkJKDB4MjYgKyAxKQorI2RlZmluZSBDVFhf
UERQMl9VRFcJCQkoMHgyOCArIDEpCisjZGVmaW5lIENUWF9QRFAyX0xEVwkJCSgweDJhICsgMSkK
KyNkZWZpbmUgQ1RYX1BEUDFfVURXCQkJKDB4MmMgKyAxKQorI2RlZmluZSBDVFhfUERQMV9MRFcJ
CQkoMHgyZSArIDEpCisjZGVmaW5lIENUWF9QRFAwX1VEVwkJCSgweDMwICsgMSkKKyNkZWZpbmUg
Q1RYX1BEUDBfTERXCQkJKDB4MzIgKyAxKQorI2RlZmluZSBDVFhfUl9QV1JfQ0xLX1NUQVRFCQko
MHg0MiArIDEpCiAKICNkZWZpbmUgR0VOOV9DVFhfUklOR19NSV9NT0RFCQkweDU0CiAKIC8qIEdF
TjEyKyBSZWcgU3RhdGUgQ29udGV4dCAqLwotI2RlZmluZSBHRU4xMl9DVFhfQkJfUEVSX0NUWF9Q
VFIJCTB4MTIKLSNkZWZpbmUgR0VOMTJfQ1RYX0xSSV9IRUFERVJfMwkJCTB4NDEKLQotI2RlZmlu
ZSBDVFhfUkVHKHJlZ19zdGF0ZSwgcG9zLCByZWcsIHZhbCkgZG8geyBcCi0JdTMyICpyZWdfc3Rh
dGVfXyA9IChyZWdfc3RhdGUpOyBcCi0JY29uc3QgdTMyIHBvc19fID0gKHBvcyk7IFwKLQkocmVn
X3N0YXRlX18pWyhwb3NfXykgKyAwXSA9IGk5MTVfbW1pb19yZWdfb2Zmc2V0KHJlZyk7IFwKLQko
cmVnX3N0YXRlX18pWyhwb3NfXykgKyAxXSA9ICh2YWwpOyBcCi19IHdoaWxlICgwKQorI2RlZmlu
ZSBHRU4xMl9DVFhfQkJfUEVSX0NUWF9QVFIJCSgweDEyICsgMSkKIAogI2RlZmluZSBBU1NJR05f
Q1RYX1BEUChwcGd0dCwgcmVnX3N0YXRlLCBuKSBkbyB7IFwKIAl1MzIgKnJlZ19zdGF0ZV9fID0g
KHJlZ19zdGF0ZSk7IFwKIAljb25zdCB1NjQgYWRkcl9fID0gaTkxNV9wYWdlX2Rpcl9kbWFfYWRk
cigocHBndHQpLCAobikpOyBcCi0JKHJlZ19zdGF0ZV9fKVtDVFhfUERQICMjIG4gIyMgX1VEVyAr
IDFdID0gdXBwZXJfMzJfYml0cyhhZGRyX18pOyBcCi0JKHJlZ19zdGF0ZV9fKVtDVFhfUERQICMj
IG4gIyMgX0xEVyArIDFdID0gbG93ZXJfMzJfYml0cyhhZGRyX18pOyBcCisJKHJlZ19zdGF0ZV9f
KVtDVFhfUERQICMjIG4gIyMgX1VEV10gPSB1cHBlcl8zMl9iaXRzKGFkZHJfXyk7IFwKKwkocmVn
X3N0YXRlX18pW0NUWF9QRFAgIyMgbiAjIyBfTERXXSA9IGxvd2VyXzMyX2JpdHMoYWRkcl9fKTsg
XAogfSB3aGlsZSAoMCkKIAogI2RlZmluZSBBU1NJR05fQ1RYX1BNTDQocHBndHQsIHJlZ19zdGF0
ZSkgZG8geyBcCiAJdTMyICpyZWdfc3RhdGVfXyA9IChyZWdfc3RhdGUpOyBcCiAJY29uc3QgdTY0
IGFkZHJfXyA9IHB4X2RtYShwcGd0dC0+cGQpOyBcCi0JKHJlZ19zdGF0ZV9fKVtDVFhfUERQMF9V
RFcgKyAxXSA9IHVwcGVyXzMyX2JpdHMoYWRkcl9fKTsgXAotCShyZWdfc3RhdGVfXylbQ1RYX1BE
UDBfTERXICsgMV0gPSBsb3dlcl8zMl9iaXRzKGFkZHJfXyk7IFwKKwkocmVnX3N0YXRlX18pW0NU
WF9QRFAwX1VEV10gPSB1cHBlcl8zMl9iaXRzKGFkZHJfXyk7IFwKKwkocmVnX3N0YXRlX18pW0NU
WF9QRFAwX0xEV10gPSBsb3dlcl8zMl9iaXRzKGFkZHJfXyk7IFwKIH0gd2hpbGUgKDApCiAKICNk
ZWZpbmUgR0VOOF9DVFhfUkNTX0lORElSRUNUX0NUWF9PRkZTRVRfREVGQVVMVAkweDE3CmRpZmYg
LS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9zZWxmdGVzdF9scmMuYyBiL2RyaXZlcnMv
Z3B1L2RybS9pOTE1L2d0L3NlbGZ0ZXN0X2xyYy5jCmluZGV4IDI2ZDA1YmQxYmRjOC4uOGIyOGE4
NTU0ZjNkIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9zZWxmdGVzdF9scmMu
YworKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9zZWxmdGVzdF9scmMuYwpAQCAtMjIwMSwz
ICsyMjAxLDE0NSBAQCBpbnQgaW50ZWxfZXhlY2xpc3RzX2xpdmVfc2VsZnRlc3RzKHN0cnVjdCBk
cm1faTkxNV9wcml2YXRlICppOTE1KQogCiAJcmV0dXJuIGk5MTVfbGl2ZV9zdWJ0ZXN0cyh0ZXN0
cywgaTkxNSk7CiB9CisKK3N0YXRpYyB2b2lkIGhleGR1bXAoY29uc3Qgdm9pZCAqYnVmLCBzaXpl
X3QgbGVuKQoreworCWNvbnN0IHNpemVfdCByb3dzaXplID0gOCAqIHNpemVvZih1MzIpOworCWNv
bnN0IHZvaWQgKnByZXYgPSBOVUxMOworCWJvb2wgc2tpcCA9IGZhbHNlOworCXNpemVfdCBwb3M7
CisKKwlmb3IgKHBvcyA9IDA7IHBvcyA8IGxlbjsgcG9zICs9IHJvd3NpemUpIHsKKwkJY2hhciBs
aW5lWzEyOF07CisKKwkJaWYgKHByZXYgJiYgIW1lbWNtcChwcmV2LCBidWYgKyBwb3MsIHJvd3Np
emUpKSB7CisJCQlpZiAoIXNraXApIHsKKwkJCQlwcl9pbmZvKCIqXG4iKTsKKwkJCQlza2lwID0g
dHJ1ZTsKKwkJCX0KKwkJCWNvbnRpbnVlOworCQl9CisKKwkJV0FSTl9PTl9PTkNFKGhleF9kdW1w
X3RvX2J1ZmZlcihidWYgKyBwb3MsIGxlbiAtIHBvcywKKwkJCQkJCXJvd3NpemUsIHNpemVvZih1
MzIpLAorCQkJCQkJbGluZSwgc2l6ZW9mKGxpbmUpLAorCQkJCQkJZmFsc2UpID49IHNpemVvZihs
aW5lKSk7CisJCXByX2luZm8oIlslMDR6eF0gJXNcbiIsIHBvcywgbGluZSk7CisKKwkJcHJldiA9
IGJ1ZiArIHBvczsKKwkJc2tpcCA9IGZhbHNlOworCX0KK30KKworc3RhdGljIGludCBsaXZlX2xy
Y19sYXlvdXQodm9pZCAqYXJnKQoreworCXN0cnVjdCBpbnRlbF9ndCAqZ3QgPSBhcmc7CisJc3Ry
dWN0IGludGVsX2VuZ2luZV9jcyAqZW5naW5lOworCWVudW0gaW50ZWxfZW5naW5lX2lkIGlkOwor
CXUzMiAqbWVtOworCWludCBlcnI7CisKKwkvKgorCSAqIENoZWNrIHRoZSByZWdpc3RlcnMgb2Zm
c2V0cyB3ZSB1c2UgdG8gY3JlYXRlIHRoZSBpbml0aWFsIHJlZyBzdGF0ZQorCSAqIG1hdGNoIHRo
ZSBsYXlvdXQgc2F2ZWQgYnkgSFcuCisJICovCisKKwltZW0gPSBrbWFsbG9jKFBBR0VfU0laRSwg
R0ZQX0tFUk5FTCk7CisJaWYgKCFtZW0pCisJCXJldHVybiAtRU5PTUVNOworCisJZXJyID0gMDsK
Kwlmb3JfZWFjaF9lbmdpbmUoZW5naW5lLCBndC0+aTkxNSwgaWQpIHsKKwkJdTMyICpodywgKmxy
YzsKKwkJaW50IGR3OworCisJCWlmICghZW5naW5lLT5kZWZhdWx0X3N0YXRlKQorCQkJY29udGlu
dWU7CisKKwkJaHcgPSBpOTE1X2dlbV9vYmplY3RfcGluX21hcChlbmdpbmUtPmRlZmF1bHRfc3Rh
dGUsCisJCQkJCSAgICAgSTkxNV9NQVBfV0IpOworCQlpZiAoSVNfRVJSKGh3KSkgeworCQkJZXJy
ID0gUFRSX0VSUihodyk7CisJCQlicmVhazsKKwkJfQorCQlodyArPSBMUkNfU1RBVEVfUE4gKiBQ
QUdFX1NJWkUgLyBzaXplb2YoKmh3KTsKKworCQlscmMgPSBtZW1zZXQobWVtLCAwLCBQQUdFX1NJ
WkUpOworCQlleGVjbGlzdHNfaW5pdF9yZWdfc3RhdGUobHJjLAorCQkJCQkgZW5naW5lLT5rZXJu
ZWxfY29udGV4dCwKKwkJCQkJIGVuZ2luZSwKKwkJCQkJIGVuZ2luZS0+a2VybmVsX2NvbnRleHQt
PnJpbmcsCisJCQkJCSB0cnVlKTsKKworCQlkdyA9IDA7CisJCWRvIHsKKwkJCXUzMiBscmkgPSBo
d1tkd107CisKKwkJCWlmIChscmkgPT0gMCkgeworCQkJCWR3Kys7CisJCQkJY29udGludWU7CisJ
CQl9CisKKwkJCWlmICgobHJpICYgR0VOTUFTSygzMSwgMjMpKSAhPSBNSV9JTlNUUigweDIyLCAw
KSkgeworCQkJCXByX2VycigiJXM6IEV4cGVjdGVkIExSSSBjb21tYW5kIGF0IGR3b3JkICVkLCBm
b3VuZCAlMDh4XG4iLAorCQkJCSAgICAgICBlbmdpbmUtPm5hbWUsIGR3LCBscmkpOworCQkJCWVy
ciA9IC1FSU5WQUw7CisJCQkJYnJlYWs7CisJCQl9CisKKwkJCWlmIChscmNbZHddICE9IGxyaSkg
eworCQkJCXByX2VycigiJXM6IExSSSBjb21tYW5kIG1pc21hdGNoIGF0IGR3b3JkICVkLCBleHBl
Y3RlZCAlMDh4IGZvdW5kICUwOHhcbiIsCisJCQkJICAgICAgIGVuZ2luZS0+bmFtZSwgZHcsIGxy
aSwgbHJjW2R3XSk7CisJCQkJZXJyID0gLUVJTlZBTDsKKwkJCQlicmVhazsKKwkJCX0KKworCQkJ
bHJpICY9IDB4N2Y7CisJCQlscmkrKzsKKwkJCWR3Kys7CisKKwkJCXdoaWxlIChscmkpIHsKKwkJ
CQlpZiAoaHdbZHddICE9IGxyY1tkd10pIHsKKwkJCQkJcHJfZXJyKCIlczogRGlmZmVyZW50IHJl
Z2lzdGVycyBmb3VuZCBhdCBkd29yZCAlZCwgZXhwZWN0ZWQgJXgsIGZvdW5kICV4XG4iLAorCQkJ
CQkgICAgICAgZW5naW5lLT5uYW1lLCBkdywgaHdbZHddLCBscmNbZHddKTsKKwkJCQkJZXJyID0g
LUVJTlZBTDsKKwkJCQkJYnJlYWs7CisJCQkJfQorCisJCQkJLyoKKwkJCQkgKiBTa2lwIG92ZXIg
dGhlIGFjdHVhbCByZWdpc3RlciB2YWx1ZSBhcyB3ZQorCQkJCSAqIGV4cGVjdCB0aGF0IHRvIGRp
ZmZlci4KKwkJCQkgKi8KKwkJCQlkdyArPSAyOworCQkJCWxyaSAtPSAyOworCQkJfQorCQl9IHdo
aWxlICgobHJjW2R3XSAmIH5CSVQoMCkpICE9IE1JX0JBVENIX0JVRkZFUl9FTkQpOworCisJCWlm
IChlcnIpIHsKKwkJCXByX2luZm8oIiVzOiBIVyByZWdpc3RlciBpbWFnZTpcbiIsIGVuZ2luZS0+
bmFtZSk7CisJCQloZXhkdW1wKGh3LCBQQUdFX1NJWkUpOworCisJCQlwcl9pbmZvKCIlczogU1cg
cmVnaXN0ZXIgaW1hZ2U6XG4iLCBlbmdpbmUtPm5hbWUpOworCQkJaGV4ZHVtcChscmMsIFBBR0Vf
U0laRSk7CisJCX0KKworCQlpOTE1X2dlbV9vYmplY3RfdW5waW5fbWFwKGVuZ2luZS0+ZGVmYXVs
dF9zdGF0ZSk7CisJCWlmIChlcnIpCisJCQlicmVhazsKKwl9CisKKwlrZnJlZShtZW0pOworCXJl
dHVybiBlcnI7Cit9CisKK2ludCBpbnRlbF9scmNfbGl2ZV9zZWxmdGVzdHMoc3RydWN0IGRybV9p
OTE1X3ByaXZhdGUgKmk5MTUpCit7CisJc3RhdGljIGNvbnN0IHN0cnVjdCBpOTE1X3N1YnRlc3Qg
dGVzdHNbXSA9IHsKKwkJU1VCVEVTVChsaXZlX2xyY19sYXlvdXQpLAorCX07CisKKwlpZiAoIUhB
U19MT0dJQ0FMX1JJTkdfQ09OVEVYVFMoaTkxNSkpCisJCXJldHVybiAwOworCisJcmV0dXJuIGlu
dGVsX2d0X2xpdmVfc3VidGVzdHModGVzdHMsICZpOTE1LT5ndCk7Cit9CmRpZmYgLS1naXQgYS9k
cml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3BlcmYuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5
MTVfcGVyZi5jCmluZGV4IGMxYjc2NDIzMzc2MS4uNTI0ZjY3MTBiN2FhIDEwMDY0NAotLS0gYS9k
cml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3BlcmYuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkx
NS9pOTE1X3BlcmYuYwpAQCAtMTY3MywxMCArMTY3Myw4IEBAIHN0YXRpYyB1MzIgb2FfY29uZmln
X2ZsZXhfcmVnKGNvbnN0IHN0cnVjdCBpOTE1X29hX2NvbmZpZyAqb2FfY29uZmlnLAogICogaW4g
dGhlIGNhc2UgdGhhdCB0aGUgT0EgdW5pdCBoYXMgYmVlbiBkaXNhYmxlZC4KICAqLwogc3RhdGlj
IHZvaWQKLWdlbjhfdXBkYXRlX3JlZ19zdGF0ZV91bmxvY2tlZChzdHJ1Y3QgaTkxNV9wZXJmX3N0
cmVhbSAqc3RyZWFtLAotCQkJICAgICAgIHN0cnVjdCBpbnRlbF9jb250ZXh0ICpjZSwKLQkJCSAg
ICAgICB1MzIgKnJlZ19zdGF0ZSwKLQkJCSAgICAgICBjb25zdCBzdHJ1Y3QgaTkxNV9vYV9jb25m
aWcgKm9hX2NvbmZpZykKK2dlbjhfdXBkYXRlX3JlZ19zdGF0ZV91bmxvY2tlZChjb25zdCBzdHJ1
Y3QgaW50ZWxfY29udGV4dCAqY2UsCisJCQkgICAgICAgY29uc3Qgc3RydWN0IGk5MTVfcGVyZl9z
dHJlYW0gKnN0cmVhbSkKIHsKIAlzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSA9IGNlLT5l
bmdpbmUtPmk5MTU7CiAJdTMyIGN0eF9vYWN0eGN0cmwgPSBpOTE1LT5wZXJmLmN0eF9vYWN0eGN0
cmxfb2Zmc2V0OwpAQCAtMTY5MSwyMSArMTY4OSwxOSBAQCBnZW44X3VwZGF0ZV9yZWdfc3RhdGVf
dW5sb2NrZWQoc3RydWN0IGk5MTVfcGVyZl9zdHJlYW0gKnN0cmVhbSwKIAkJRVVfUEVSRl9DTlRM
NSwKIAkJRVVfUEVSRl9DTlRMNiwKIAl9OworCXUzMiAqcmVnX3N0YXRlID0gY2UtPmxyY19yZWdf
c3RhdGU7CiAJaW50IGk7CiAKLQlDVFhfUkVHKHJlZ19zdGF0ZSwgY3R4X29hY3R4Y3RybCwgR0VO
OF9PQUNUWENPTlRST0wsCisJcmVnX3N0YXRlW2N0eF9vYWN0eGN0cmwgKyAxXSA9CiAJCShzdHJl
YW0tPnBlcmlvZF9leHBvbmVudCA8PCBHRU44X09BX1RJTUVSX1BFUklPRF9TSElGVCkgfAogCQko
c3RyZWFtLT5wZXJpb2RpYyA/IEdFTjhfT0FfVElNRVJfRU5BQkxFIDogMCkgfAotCQlHRU44X09B
X0NPVU5URVJfUkVTVU1FKTsKKwkJR0VOOF9PQV9DT1VOVEVSX1JFU1VNRTsKIAotCWZvciAoaSA9
IDA7IGkgPCBBUlJBWV9TSVpFKGZsZXhfcmVncyk7IGkrKykgewotCQlDVFhfUkVHKHJlZ19zdGF0
ZSwgY3R4X2ZsZXhldTAgKyBpICogMiwgZmxleF9yZWdzW2ldLAotCQkJb2FfY29uZmlnX2ZsZXhf
cmVnKG9hX2NvbmZpZywgZmxleF9yZWdzW2ldKSk7Ci0JfQorCWZvciAoaSA9IDA7IGkgPCBBUlJB
WV9TSVpFKGZsZXhfcmVncyk7IGkrKykKKwkJcmVnX3N0YXRlW2N0eF9mbGV4ZXUwICsgaSAqIDIg
KyAxXSA9CisJCQlvYV9jb25maWdfZmxleF9yZWcoc3RyZWFtLT5vYV9jb25maWcsIGZsZXhfcmVn
c1tpXSk7CiAKLQlDVFhfUkVHKHJlZ19zdGF0ZSwKLQkJQ1RYX1JfUFdSX0NMS19TVEFURSwgR0VO
OF9SX1BXUl9DTEtfU1RBVEUsCi0JCWludGVsX3NzZXVfbWFrZV9ycGNzKGk5MTUsICZjZS0+c3Nl
dSkpOworCXJlZ19zdGF0ZVtDVFhfUl9QV1JfQ0xLX1NUQVRFXSA9IGludGVsX3NzZXVfbWFrZV9y
cGNzKGk5MTUsICZjZS0+c3NldSk7CiB9CiAKIHN0cnVjdCBmbGV4IHsKQEAgLTE3MjksNyArMTcy
NSw3IEBAIGdlbjhfc3RvcmVfZmxleChzdHJ1Y3QgaTkxNV9yZXF1ZXN0ICpycSwKIAlvZmZzZXQg
PSBpOTE1X2dndHRfb2Zmc2V0KGNlLT5zdGF0ZSkgKyBMUkNfU1RBVEVfUE4gKiBQQUdFX1NJWkU7
CiAJZG8gewogCQkqY3MrKyA9IE1JX1NUT1JFX0RXT1JEX0lNTV9HRU40IHwgTUlfVVNFX0dHVFQ7
Ci0JCSpjcysrID0gb2Zmc2V0ICsgKGZsZXgtPm9mZnNldCArIDEpICogc2l6ZW9mKHUzMik7CisJ
CSpjcysrID0gb2Zmc2V0ICsgZmxleC0+b2Zmc2V0ICogc2l6ZW9mKHUzMik7CiAJCSpjcysrID0g
MDsKIAkJKmNzKysgPSBmbGV4LT52YWx1ZTsKIAl9IHdoaWxlIChmbGV4KyssIC0tY291bnQpOwpA
QCAtMTg2Myw3ICsxODU5LDcgQEAgc3RhdGljIGludCBnZW44X2NvbmZpZ3VyZV9hbGxfY29udGV4
dHMoc3RydWN0IGk5MTVfcGVyZl9zdHJlYW0gKnN0cmVhbSwKIAlzdHJ1Y3QgZHJtX2k5MTVfcHJp
dmF0ZSAqaTkxNSA9IHN0cmVhbS0+ZGV2X3ByaXY7CiAJLyogVGhlIE1NSU8gb2Zmc2V0cyBmb3Ig
RmxleCBFVSByZWdpc3RlcnMgYXJlbid0IGNvbnRpZ3VvdXMgKi8KIAljb25zdCB1MzIgY3R4X2Zs
ZXhldTAgPSBpOTE1LT5wZXJmLmN0eF9mbGV4ZXUwX29mZnNldDsKLSNkZWZpbmUgY3R4X2ZsZXhl
dU4oTikgKGN0eF9mbGV4ZXUwICsgMiAqIChOKSkKKyNkZWZpbmUgY3R4X2ZsZXhldU4oTikgKGN0
eF9mbGV4ZXUwICsgMiAqIChOKSArIDEpCiAJc3RydWN0IGZsZXggcmVnc1tdID0gewogCQl7CiAJ
CQlHRU44X1JfUFdSX0NMS19TVEFURSwKQEAgLTE4NzEsNyArMTg2Nyw3IEBAIHN0YXRpYyBpbnQg
Z2VuOF9jb25maWd1cmVfYWxsX2NvbnRleHRzKHN0cnVjdCBpOTE1X3BlcmZfc3RyZWFtICpzdHJl
YW0sCiAJCX0sCiAJCXsKIAkJCUdFTjhfT0FDVFhDT05UUk9MLAotCQkJaTkxNS0+cGVyZi5jdHhf
b2FjdHhjdHJsX29mZnNldCwKKwkJCWk5MTUtPnBlcmYuY3R4X29hY3R4Y3RybF9vZmZzZXQgKyAx
LAogCQkJKChzdHJlYW0tPnBlcmlvZF9leHBvbmVudCA8PCBHRU44X09BX1RJTUVSX1BFUklPRF9T
SElGVCkgfAogCQkJIChzdHJlYW0tPnBlcmlvZGljID8gR0VOOF9PQV9USU1FUl9FTkFCTEUgOiAw
KSB8CiAJCQkgR0VOOF9PQV9DT1VOVEVSX1JFU1VNRSkKQEAgLTIyOTksOSArMjI5NSw4IEBAIHN0
YXRpYyBpbnQgaTkxNV9vYV9zdHJlYW1faW5pdChzdHJ1Y3QgaTkxNV9wZXJmX3N0cmVhbSAqc3Ry
ZWFtLAogCXJldHVybiByZXQ7CiB9CiAKLXZvaWQgaTkxNV9vYV9pbml0X3JlZ19zdGF0ZShzdHJ1
Y3QgaW50ZWxfZW5naW5lX2NzICplbmdpbmUsCi0JCQkgICAgc3RydWN0IGludGVsX2NvbnRleHQg
KmNlLAotCQkJICAgIHUzMiAqcmVncykKK3ZvaWQgaTkxNV9vYV9pbml0X3JlZ19zdGF0ZShjb25z
dCBzdHJ1Y3QgaW50ZWxfY29udGV4dCAqY2UsCisJCQkgICAgY29uc3Qgc3RydWN0IGludGVsX2Vu
Z2luZV9jcyAqZW5naW5lKQogewogCXN0cnVjdCBpOTE1X3BlcmZfc3RyZWFtICpzdHJlYW07CiAK
QEAgLTIzMTMsNyArMjMwOCw3IEBAIHZvaWQgaTkxNV9vYV9pbml0X3JlZ19zdGF0ZShzdHJ1Y3Qg
aW50ZWxfZW5naW5lX2NzICplbmdpbmUsCiAKIAlzdHJlYW0gPSBlbmdpbmUtPmk5MTUtPnBlcmYu
ZXhjbHVzaXZlX3N0cmVhbTsKIAlpZiAoc3RyZWFtKQotCQlnZW44X3VwZGF0ZV9yZWdfc3RhdGVf
dW5sb2NrZWQoc3RyZWFtLCBjZSwgcmVncywgc3RyZWFtLT5vYV9jb25maWcpOworCQlnZW44X3Vw
ZGF0ZV9yZWdfc3RhdGVfdW5sb2NrZWQoY2UsIHN0cmVhbSk7CiB9CiAKIC8qKgpkaWZmIC0tZ2l0
IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9wZXJmLmggYi9kcml2ZXJzL2dwdS9kcm0vaTkx
NS9pOTE1X3BlcmYuaAppbmRleCBhNDEyYjE2ZDlmZmMuLmY0ZmIzMTExODRiMSAxMDA2NDQKLS0t
IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9wZXJmLmgKKysrIGIvZHJpdmVycy9ncHUvZHJt
L2k5MTUvaTkxNV9wZXJmLmgKQEAgLTI1LDggKzI1LDcgQEAgaW50IGk5MTVfcGVyZl9hZGRfY29u
ZmlnX2lvY3RsKHN0cnVjdCBkcm1fZGV2aWNlICpkZXYsIHZvaWQgKmRhdGEsCiAJCQkgICAgICAg
c3RydWN0IGRybV9maWxlICpmaWxlKTsKIGludCBpOTE1X3BlcmZfcmVtb3ZlX2NvbmZpZ19pb2N0
bChzdHJ1Y3QgZHJtX2RldmljZSAqZGV2LCB2b2lkICpkYXRhLAogCQkJCSAgc3RydWN0IGRybV9m
aWxlICpmaWxlKTsKLXZvaWQgaTkxNV9vYV9pbml0X3JlZ19zdGF0ZShzdHJ1Y3QgaW50ZWxfZW5n
aW5lX2NzICplbmdpbmUsCi0JCQkgICAgc3RydWN0IGludGVsX2NvbnRleHQgKmNlLAotCQkJICAg
IHUzMiAqcmVnX3N0YXRlKTsKK3ZvaWQgaTkxNV9vYV9pbml0X3JlZ19zdGF0ZShjb25zdCBzdHJ1
Y3QgaW50ZWxfY29udGV4dCAqY2UsCisJCQkgICAgY29uc3Qgc3RydWN0IGludGVsX2VuZ2luZV9j
cyAqZW5naW5lKTsKIAogI2VuZGlmIC8qIF9fSTkxNV9QRVJGX0hfXyAqLwpkaWZmIC0tZ2l0IGEv
ZHJpdmVycy9ncHUvZHJtL2k5MTUvc2VsZnRlc3RzL2k5MTVfbGl2ZV9zZWxmdGVzdHMuaCBiL2Ry
aXZlcnMvZ3B1L2RybS9pOTE1L3NlbGZ0ZXN0cy9pOTE1X2xpdmVfc2VsZnRlc3RzLmgKaW5kZXgg
MWNjZjBmNzMxYWMwLi42NmQ4M2MxMzkwYzEgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9p
OTE1L3NlbGZ0ZXN0cy9pOTE1X2xpdmVfc2VsZnRlc3RzLmgKKysrIGIvZHJpdmVycy9ncHUvZHJt
L2k5MTUvc2VsZnRlc3RzL2k5MTVfbGl2ZV9zZWxmdGVzdHMuaApAQCAtMTUsNiArMTUsNyBAQCBz
ZWxmdGVzdCh3b3JrYXJvdW5kcywgaW50ZWxfd29ya2Fyb3VuZHNfbGl2ZV9zZWxmdGVzdHMpCiBz
ZWxmdGVzdChndF9lbmdpbmVzLCBpbnRlbF9lbmdpbmVfbGl2ZV9zZWxmdGVzdHMpCiBzZWxmdGVz
dChndF90aW1lbGluZXMsIGludGVsX3RpbWVsaW5lX2xpdmVfc2VsZnRlc3RzKQogc2VsZnRlc3Qo
Z3RfY29udGV4dHMsIGludGVsX2NvbnRleHRfbGl2ZV9zZWxmdGVzdHMpCitzZWxmdGVzdChndF9s
cmMsIGludGVsX2xyY19saXZlX3NlbGZ0ZXN0cykKIHNlbGZ0ZXN0KHJlcXVlc3RzLCBpOTE1X3Jl
cXVlc3RfbGl2ZV9zZWxmdGVzdHMpCiBzZWxmdGVzdChhY3RpdmUsIGk5MTVfYWN0aXZlX2xpdmVf
c2VsZnRlc3RzKQogc2VsZnRlc3Qob2JqZWN0cywgaTkxNV9nZW1fb2JqZWN0X2xpdmVfc2VsZnRl
c3RzKQotLSAKMi4yMy4wCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fXwpJbnRlbC1nZnggbWFpbGluZyBsaXN0CkludGVsLWdmeEBsaXN0cy5mcmVlZGVza3Rv
cC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9pbnRl
bC1nZng=

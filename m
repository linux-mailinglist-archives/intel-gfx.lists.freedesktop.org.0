Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 0C1BB582A4
	for <lists+intel-gfx@lfdr.de>; Thu, 27 Jun 2019 14:32:21 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 64AC66E245;
	Thu, 27 Jun 2019 12:32:19 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga09.intel.com (mga09.intel.com [134.134.136.24])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 18BAC6E245
 for <intel-gfx@lists.freedesktop.org>; Thu, 27 Jun 2019 12:32:18 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from fmsmga002.fm.intel.com ([10.253.24.26])
 by orsmga102.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 27 Jun 2019 05:32:17 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.63,423,1557212400"; d="scan'208";a="189044848"
Received: from lswidere-mobl.ger.corp.intel.com (HELO [10.249.140.121])
 ([10.249.140.121])
 by fmsmga002.fm.intel.com with ESMTP; 27 Jun 2019 05:32:15 -0700
To: Chris Wilson <chris@chris-wilson.co.uk>, intel-gfx@lists.freedesktop.org
References: <20190627080045.8814-1-lionel.g.landwerlin@intel.com>
 <20190627080045.8814-8-lionel.g.landwerlin@intel.com>
 <156162875829.20851.6935372567348885846@skylake-alporthouse-com>
From: Lionel Landwerlin <lionel.g.landwerlin@intel.com>
Organization: Intel Corporation (UK) Ltd. - Co. Reg. #1134945 - Pipers Way,
 Swindon SN3 1RJ
Message-ID: <d123ff70-0576-d157-8627-f3e077040cde@intel.com>
Date: Thu, 27 Jun 2019 15:32:13 +0300
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101
 Thunderbird/60.7.2
MIME-Version: 1.0
In-Reply-To: <156162875829.20851.6935372567348885846@skylake-alporthouse-com>
Content-Language: en-US
Subject: Re: [Intel-gfx] [PATCH v5 07/10] drm/i915: add a new perf
 configuration execbuf parameter
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

T24gMjcvMDYvMjAxOSAxMjo0NSwgQ2hyaXMgV2lsc29uIHdyb3RlOgo+IFF1b3RpbmcgTGlvbmVs
IExhbmR3ZXJsaW4gKDIwMTktMDYtMjcgMDk6MDA6NDIpCj4+IFdlIHdhbnQgdGhlIGFiaWxpdHkg
dG8gZGlzcGF0Y2ggYSBzZXQgb2YgY29tbWFuZCBidWZmZXIgdG8gdGhlCj4+IGhhcmR3YXJlLCBl
YWNoIHdpdGggYSBkaWZmZXJlbnQgT0EgY29uZmlndXJhdGlvbi4gVG8gYWNoaWV2ZSB0aGlzLCB3
ZQo+PiByZXVzZSBhIGNvdXBsZSBvZiBmaWVsZHMgZnJvbSB0aGUgZXhlY2J1ZjIgc3RydWN0IChJ
IENBTiBIQVoKPj4gZXhlY2J1ZjM/KSB0byBub3RpZnkgd2hhdCBPQSBjb25maWd1cmF0aW9uIHNo
b3VsZCBiZSB1c2VkIGZvciBhIGJhdGNoCj4+IGJ1ZmZlci4gVGhpcyByZXF1aXJlcyB0aGUgcHJv
Y2VzcyBtYWtpbmcgdGhlIGV4ZWNidWYgd2l0aCB0aGlzIGZsYWcgdG8KPj4gYWxzbyBvd24gdGhl
IHBlcmYgZmQgYXQgdGhlIHRpbWUgb2YgZXhlY2J1Zi4KPj4KPj4gdjI6IEFkZCBhIGVtaXRfb2Ff
Y29uZmlnKCkgdmZ1bmMgaW4gdGhlIGludGVsX2VuZ2luZV9jcyAoQ2hyaXMpCj4+ICAgICAgTW92
ZSBvYV9jb25maWcgdm1hIHRvIGFjdGl2ZSAoQ2hyaXMpCj4+Cj4+IHYzOiBEb24ndCBkcm9wIHRo
ZSBsb2NrIGZvciBlbmdpbmUgbG9va3VwIChDaHJpcykKPj4gICAgICBNb3ZlIE9BIGNvbmZpZyB2
bWEgdG8gYWN0aXZlIGJlZm9yZSB3cml0aW5nIHRoZSByaW5nYnVmZmVyIChDaHJpcykKPj4KPj4g
djQ6IFJldXNlIGk5MTVfdXNlcl9leHRlbnNpb25fZm4KPj4gICAgICBTZXJpYWxpemUgcmVxdWVz
dHMgd2l0aCBPQSBjb25maWcgdXBkYXRlcwo+Pgo+PiBTaWduZWQtb2ZmLWJ5OiBMaW9uZWwgTGFu
ZHdlcmxpbiA8bGlvbmVsLmcubGFuZHdlcmxpbkBpbnRlbC5jb20+Cj4+IC0tLQo+PiAgIC4uLi9n
cHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX2V4ZWNidWZmZXIuYyAgICB8IDEzMCArKysrKysrKysr
KysrKysrKy0KPj4gICBkcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9lbmdpbmVfY3MuYyAg
ICAgfCAgIDIgKwo+PiAgIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2VuZ2luZV90eXBl
cy5oICB8ICAgOSArKwo+PiAgIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2xyYy5jICAg
ICAgICAgICB8ICAgMSArCj4+ICAgZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfcmluZ2J1
ZmZlci5jICAgIHwgICA0ICstCj4+ICAgZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kcnYuYyAg
ICAgICAgICAgICAgIHwgICA0ICsKPj4gICBkcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2Rydi5o
ICAgICAgICAgICAgICAgfCAgMTAgKy0KPj4gICBkcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3Bl
cmYuYyAgICAgICAgICAgICAgfCAgMjYgKystLQo+PiAgIGluY2x1ZGUvdWFwaS9kcm0vaTkxNV9k
cm0uaCAgICAgICAgICAgICAgICAgICB8ICAzNyArKysrKwo+PiAgIDkgZmlsZXMgY2hhbmdlZCwg
MjA4IGluc2VydGlvbnMoKyksIDE1IGRlbGV0aW9ucygtKQo+Pgo+PiBkaWZmIC0tZ2l0IGEvZHJp
dmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX2V4ZWNidWZmZXIuYyBiL2RyaXZlcnMvZ3B1
L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9leGVjYnVmZmVyLmMKPj4gaW5kZXggNDc2ZmFkZTZmY2Fi
Li4xOGFlM2U4YTRlMDIgMTAwNjQ0Cj4+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9p
OTE1X2dlbV9leGVjYnVmZmVyLmMKPj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5
MTVfZ2VtX2V4ZWNidWZmZXIuYwo+PiBAQCAtMjgzLDcgKzI4MywxMSBAQCBzdHJ1Y3QgaTkxNV9l
eGVjYnVmZmVyIHsKPj4gICAgICAgICAgc3RydWN0IHsKPj4gICAgICAgICAgICAgICAgICB1NjQg
ZmxhZ3M7IC8qKiBBdmFpbGFibGUgZXh0ZW5zaW9ucyBwYXJhbWV0ZXJzICovCj4+ICAgICAgICAg
ICAgICAgICAgc3RydWN0IGRybV9pOTE1X2dlbV9leGVjYnVmZmVyX2V4dF90aW1lbGluZV9mZW5j
ZXMgdGltZWxpbmVfZmVuY2VzOwo+PiArICAgICAgICAgICAgICAgc3RydWN0IGRybV9pOTE1X2dl
bV9leGVjYnVmZmVyX2V4dF9wZXJmIHBlcmZfY29uZmlnOwo+PiAgICAgICAgICB9IGV4dGVuc2lv
bnM7Cj4+ICsKPj4gKyAgICAgICBzdHJ1Y3QgaTkxNV9vYV9jb25maWcgKm9hX2NvbmZpZzsgLyoq
IEhXIGNvbmZpZ3VyYXRpb24gZm9yIE9BLCBOVUxMIGlzIG5vdCBuZWVkZWQuICovCj4+ICsgICAg
ICAgc3RydWN0IGRybV9pOTE1X2dlbV9vYmplY3QgKm9hX2JvOwo+PiAgIH07Cj4+ICAgCj4+ICAg
I2RlZmluZSBleGVjX2VudHJ5KEVCLCBWTUEpICgmKEVCKS0+ZXhlY1soVk1BKS0+ZXhlY19mbGFn
cyAtIChFQiktPmZsYWdzXSkKPj4gQEAgLTEyMTAsNiArMTIxNCwzNCBAQCBzdGF0aWMgaW50IHJl
bG9jX21vdmVfdG9fZ3B1KHN0cnVjdCBpOTE1X3JlcXVlc3QgKnJxLCBzdHJ1Y3QgaTkxNV92bWEg
KnZtYSkKPj4gICAgICAgICAgcmV0dXJuIGVycjsKPj4gICB9Cj4+ICAgCj4+ICsKPj4gK3N0YXRp
YyBpbnQKPj4gK2dldF9leGVjYnVmX29hX2NvbmZpZyhzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAq
ZGV2X3ByaXYsCj4+ICsgICAgICAgICAgICAgICAgICAgICBzMzIgcGVyZl9mZCwgdTY0IG9hX2Nv
bmZpZ19pZCwKPj4gKyAgICAgICAgICAgICAgICAgICAgIHN0cnVjdCBpOTE1X29hX2NvbmZpZyAq
Km91dF9vYV9jb25maWcsCj4+ICsgICAgICAgICAgICAgICAgICAgICBzdHJ1Y3QgZHJtX2k5MTVf
Z2VtX29iamVjdCAqKm91dF9vYV9vYmopCj4+ICt7Cj4+ICsgICAgICAgc3RydWN0IGZpbGUgKnBl
cmZfZmlsZTsKPj4gKyAgICAgICBpbnQgcmV0Owo+PiArCj4+ICsgICAgICAgaWYgKCFkZXZfcHJp
di0+cGVyZi5vYS5leGNsdXNpdmVfc3RyZWFtKQo+PiArICAgICAgICAgICAgICAgcmV0dXJuIC1F
SU5WQUw7Cj4+ICsKPj4gKyAgICAgICBwZXJmX2ZpbGUgPSBmZ2V0KHBlcmZfZmQpOwo+PiArICAg
ICAgIGlmICghcGVyZl9maWxlKQo+PiArICAgICAgICAgICAgICAgcmV0dXJuIC1FSU5WQUw7Cj4+
ICsKPj4gKyAgICAgICBpZiAocGVyZl9maWxlLT5wcml2YXRlX2RhdGEgIT0gZGV2X3ByaXYtPnBl
cmYub2EuZXhjbHVzaXZlX3N0cmVhbSkKPj4gKyAgICAgICAgICAgICAgIHJldHVybiAtRUlOVkFM
Owo+PiArCj4+ICsgICAgICAgZnB1dChwZXJmX2ZpbGUpOwo+PiArCj4+ICsgICAgICAgcmV0ID0g
aTkxNV9wZXJmX2dldF9vYV9jb25maWcoZGV2X3ByaXYsIG9hX2NvbmZpZ19pZCwKPj4gKyAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdXRfb2FfY29uZmlnLCBvdXRfb2Ffb2Jq
KTsKPj4gKwo+PiArICAgICAgIHJldHVybiByZXQ7Cj4+ICt9Cj4+ICsKPj4gICBzdGF0aWMgaW50
IF9fcmVsb2NfZ3B1X2FsbG9jKHN0cnVjdCBpOTE1X2V4ZWNidWZmZXIgKmViLAo+PiAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICBzdHJ1Y3QgaTkxNV92bWEgKnZtYSwKPj4gICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgdW5zaWduZWQgaW50IGxlbikKPj4gQEAgLTIwNzIsNiArMjEw
NCw2NCBAQCBhZGRfdG9fY2xpZW50KHN0cnVjdCBpOTE1X3JlcXVlc3QgKnJxLCBzdHJ1Y3QgZHJt
X2ZpbGUgKmZpbGUpCj4+ICAgICAgICAgIGxpc3RfYWRkX3RhaWwoJnJxLT5jbGllbnRfbGluaywg
JnJxLT5maWxlX3ByaXYtPm1tLnJlcXVlc3RfbGlzdCk7Cj4+ICAgfQo+PiAgIAo+PiArc3RhdGlj
IGludCBlYl9vYV9jb25maWcoc3RydWN0IGk5MTVfZXhlY2J1ZmZlciAqZWIpCj4+ICt7Cj4+ICsg
ICAgICAgc3RydWN0IGk5MTVfdm1hICpvYV92bWE7Cj4+ICsgICAgICAgaW50IGVycjsKPj4gKwo+
PiArICAgICAgIGlmICghZWItPm9hX2NvbmZpZykKPj4gKyAgICAgICAgICAgICAgIHJldHVybiAw
Owo+PiArCj4+ICsgICAgICAgZXJyID0gaTkxNV9hY3RpdmVfcmVxdWVzdF9zZXQoJmViLT5lbmdp
bmUtPmxhc3Rfb2FfY29uZmlnLAo+PiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgIGViLT5yZXF1ZXN0KTsKPj4gKyAgICAgICBpZiAoZXJyKQo+PiArICAgICAgICAgICAgICAg
cmV0dXJuIGVycjsKPj4gKwo+PiArICAgICAgIC8qCj4+ICsgICAgICAgICogSWYgdGhlIHBlcmYg
c3RyZWFtIHdhcyBvcGVuZWQgd2l0aCBob2xkIHByZWVtcHRpb24sIGZsYWcgdGhlCj4+ICsgICAg
ICAgICogcmVxdWVzdCBwcm9wZXJseSBzbyB0aGF0IHRoZSBwcmlvcml0eSBvZiB0aGUgcmVxdWVz
dCBpcyBidW1wZWQgb25jZQo+PiArICAgICAgICAqIGl0IHJlYWNoZXMgdGhlIGV4ZWNsaXN0IHBv
cnRzLgo+PiArICAgICAgICAqLwo+PiArICAgICAgIGlmIChlYi0+aTkxNS0+cGVyZi5vYS5leGNs
dXNpdmVfc3RyZWFtLT5ob2xkX3ByZWVtcHRpb24pCj4+ICsgICAgICAgICAgICAgICBlYi0+cmVx
dWVzdC0+aGFzX3BlcmYgPSB0cnVlOwo+IExlYXZlIHRoaXMgY2h1bmsgZm9yIHRoZSBuZXh0IGJh
dHRsZV5XIHBhdGNoLgoKCk9vcHMuCgoKPgo+PiArICAgICAgIC8qCj4+ICsgICAgICAgICogSWYg
dGhlIGNvbmZpZyBoYXNuJ3QgY2hhbmdlZCwgc2tpcCByZWNvbmZpZ3VyaW5nIHRoZSBIVyAodGhp
cyBpcwo+PiArICAgICAgICAqIHN1YmplY3QgdG8gYSBkZWxheSB3ZSB3YW50IHRvIGF2b2lkIGhh
cyBtdWNoIGFzIHBvc3NpYmxlKS4KPj4gKyAgICAgICAgKi8KPj4gKyAgICAgICBpZiAoZWItPm9h
X2NvbmZpZyA9PSBlYi0+aTkxNS0+cGVyZi5vYS5leGNsdXNpdmVfc3RyZWFtLT5vYV9jb25maWcp
Cj4+ICsgICAgICAgICAgICAgICByZXR1cm4gMDsKPj4gKwo+PiArICAgICAgIG9hX3ZtYSA9IGk5
MTVfdm1hX2luc3RhbmNlKGViLT5vYV9ibywKPj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAmZWItPmVuZ2luZS0+aTkxNS0+Z2d0dC52bSwgTlVMTCk7Cj4+ICsgICAgICAgaWYg
KHVubGlrZWx5KElTX0VSUihvYV92bWEpKSkKPj4gKyAgICAgICAgICAgICAgIHJldHVybiBQVFJf
RVJSKG9hX3ZtYSk7Cj4+ICsKPj4gKyAgICAgICBlcnIgPSBpOTE1X3ZtYV9waW4ob2Ffdm1hLCAw
LCAwLCBQSU5fR0xPQkFMKTsKPj4gKyAgICAgICBpZiAoZXJyKQo+PiArICAgICAgICAgICAgICAg
cmV0dXJuIGVycjsKPiBVZ2guIFdlIHNob3VsZCBub3QgYmUgcGlubmVkIGFmdGVyIGNyZWF0aW5n
IHRoZSByZXF1ZXN0LiBNaWdodCBub3QKPiBtYXR0ZXIgLS0gaXQncyBqdXN0IHJlc2VydmF0aW9u
IHVuZGVyIGl0cyBvd24gbG9jayB0aGF0IG11c3Qgbm90IGJlCj4gY3Jvc3NlZCB3aXRoIHRoZSB0
aW1lbGluZSBsb2NrIGN1cnJlbnRseSBoZWxkIGhlcmUuCgoKU2hvdWxkIEkgbW92ZSB0aGlzIGlu
dG8gZ2V0X2V4ZWNidWZfb2FfY29uZmlnKCkgPwoKPgo+PiArCj4+ICsgICAgICAgZXJyID0gaTkx
NV92bWFfbW92ZV90b19hY3RpdmUob2Ffdm1hLCBlYi0+cmVxdWVzdCwgMCk7Cj4gWW91IGNhbiB1
bnBpbiBpbW1lZGlhdGVseSBhZnRlciBtb3ZlX3RvX2FjdGl2ZSAoYXMgdGhlIGFjdGl2ZSBpcyB0
cmVhdGVkCj4gYnkgYmVpbmcgcGlubmVkKS4KPgo+IEknbSB0aGlua2luZyB0aGlzIHdpbGwgYmUg
cmVwbGFjZWQgd2l0aCBqdXN0IGk5MTVfYWN0aXZlX3JlZigpIGFzIHlvdQo+IG9ubHkgY2FyZSBh
Ym91dCB0aGUgdm1hLgo+Cj4+ICsgICAgICAgaWYgKGVycikgewo+PiArICAgICAgICAgICAgICAg
aTkxNV92bWFfdW5waW4ob2Ffdm1hKTsKPj4gKyAgICAgICAgICAgICAgIHJldHVybiBlcnI7Cj4+
ICsgICAgICAgfQo+PiArCj4+ICsgICAgICAgZXJyID0gZWItPmVuZ2luZS0+ZW1pdF9iYl9zdGFy
dChlYi0+cmVxdWVzdCwKPj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
IG9hX3ZtYS0+bm9kZS5zdGFydCwKPj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgIDAsIEk5MTVfRElTUEFUQ0hfU0VDVVJFKTsKPj4gKyAgICAgICBpZiAoZXJyKSB7Cj4+
ICsgICAgICAgICAgICAgICBpOTE1X3ZtYV91bnBpbihvYV92bWEpOwo+PiArICAgICAgICAgICAg
ICAgcmV0dXJuIGVycjsKPj4gKyAgICAgICB9Cj4+ICsKPj4gKyAgICAgICBpOTE1X3ZtYV91bnBp
bihvYV92bWEpOwo+PiArCj4+ICsgICAgICAgc3dhcChlYi0+b2FfY29uZmlnLCBlYi0+aTkxNS0+
cGVyZi5vYS5leGNsdXNpdmVfc3RyZWFtLT5vYV9jb25maWcpOwo+PiArCj4+ICsgICAgICAgcmV0
dXJuIDA7Cj4+ICt9Cj4+ICsKPj4gICBzdGF0aWMgaW50IGViX3N1Ym1pdChzdHJ1Y3QgaTkxNV9l
eGVjYnVmZmVyICplYikKPj4gICB7Cj4+ICAgICAgICAgIGludCBlcnI7Cj4+IEBAIC0yMDk4LDYg
KzIxODgsMTAgQEAgc3RhdGljIGludCBlYl9zdWJtaXQoc3RydWN0IGk5MTVfZXhlY2J1ZmZlciAq
ZWIpCj4+ICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZXJyOwo+PiAgICAgICAgICB9
Cj4+ICAgCj4+ICsgICAgICAgZXJyID0gZWJfb2FfY29uZmlnKGViKTsKPj4gKyAgICAgICBpZiAo
ZXJyKQo+PiArICAgICAgICAgICAgICAgcmV0dXJuIGVycjsKPj4gKwo+PiAgICAgICAgICBlcnIg
PSBlYi0+ZW5naW5lLT5lbWl0X2JiX3N0YXJ0KGViLT5yZXF1ZXN0LAo+PiAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGViLT5iYXRjaC0+bm9kZS5zdGFydCArCj4+ICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWItPmJhdGNoX3N0YXJ0X29m
ZnNldCwKPj4gQEAgLTI1MjAsOCArMjYxNCwyMiBAQCBzdGF0aWMgaW50IHBhcnNlX3RpbWVsaW5l
X2ZlbmNlcyhzdHJ1Y3QgaTkxNV91c2VyX2V4dGVuc2lvbiBfX3VzZXIgKmV4dCwgdm9pZCAqZAo+
PiAgICAgICAgICByZXR1cm4gMDsKPj4gICB9Cj4+ICAgCj4+ICtzdGF0aWMgaW50IHBhcnNlX3Bl
cmZfY29uZmlnKHN0cnVjdCBpOTE1X3VzZXJfZXh0ZW5zaW9uIF9fdXNlciAqZXh0LCB2b2lkICpk
YXRhKQo+PiArewo+PiArICAgICAgIHN0cnVjdCBpOTE1X2V4ZWNidWZmZXIgKmViID0gZGF0YTsK
Pj4gKwo+PiArICAgICAgIGlmIChjb3B5X2Zyb21fdXNlcigmZWItPmV4dGVuc2lvbnMucGVyZl9j
b25maWcsIGV4dCwKPj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZW9mKGViLT5leHRl
bnNpb25zLnBlcmZfY29uZmlnKSkpCj4+ICsgICAgICAgICAgICAgICByZXR1cm4gLUVGQVVMVDsK
Pj4gKwo+PiArICAgICAgIGViLT5leHRlbnNpb25zLmZsYWdzIHw9IEJJVChEUk1fSTkxNV9HRU1f
RVhFQ0JVRkZFUl9FWFRfUEVSRik7Cj4+ICsKPj4gKyAgICAgICByZXR1cm4gMDsKPj4gK30KPj4g
Kwo+PiAgIHN0YXRpYyBjb25zdCBpOTE1X3VzZXJfZXh0ZW5zaW9uX2ZuIGV4ZWNidWZfZXh0ZW5z
aW9uc1tdID0gewo+PiAgICAgICAgICAgW0RSTV9JOTE1X0dFTV9FWEVDQlVGRkVSX0VYVF9USU1F
TElORV9GRU5DRVNdID0gcGFyc2VfdGltZWxpbmVfZmVuY2VzLAo+PiArICAgICAgICBbRFJNX0k5
MTVfR0VNX0VYRUNCVUZGRVJfRVhUX1BFUkZdID0gcGFyc2VfcGVyZl9jb25maWcsCj4+ICAgfTsK
Pj4gICAKPj4gICBzdGF0aWMgaW50Cj4+IEBAIC0yNTczLDYgKzI2ODEsNyBAQCBpOTE1X2dlbV9k
b19leGVjYnVmZmVyKHN0cnVjdCBkcm1fZGV2aWNlICpkZXYsCj4+ICAgICAgICAgIGViLmJ1ZmZl
cl9jb3VudCA9IGFyZ3MtPmJ1ZmZlcl9jb3VudDsKPj4gICAgICAgICAgZWIuYmF0Y2hfc3RhcnRf
b2Zmc2V0ID0gYXJncy0+YmF0Y2hfc3RhcnRfb2Zmc2V0Owo+PiAgICAgICAgICBlYi5iYXRjaF9s
ZW4gPSBhcmdzLT5iYXRjaF9sZW47Cj4+ICsgICAgICAgZWIub2FfY29uZmlnID0gTlVMTDsKPj4g
ICAKPj4gICAgICAgICAgZWIuYmF0Y2hfZmxhZ3MgPSAwOwo+PiAgICAgICAgICBpZiAoYXJncy0+
ZmxhZ3MgJiBJOTE1X0VYRUNfU0VDVVJFKSB7Cj4+IEBAIC0yNjUxLDkgKzI3NjAsMjMgQEAgaTkx
NV9nZW1fZG9fZXhlY2J1ZmZlcihzdHJ1Y3QgZHJtX2RldmljZSAqZGV2LAo+PiAgICAgICAgICBp
ZiAodW5saWtlbHkoZXJyKSkKPj4gICAgICAgICAgICAgICAgICBnb3RvIGVycl91bmxvY2s7Cj4+
ICAgCj4+ICsgICAgICAgaWYgKGViLmV4dGVuc2lvbnMuZmxhZ3MgJiBCSVQoRFJNX0k5MTVfR0VN
X0VYRUNCVUZGRVJfRVhUX1BFUkYpKSB7Cj4+ICsgICAgICAgICAgICAgICBpZiAoIWludGVsX2Vu
Z2luZV9oYXNfb2EoZWIuZW5naW5lKSkgewo+PiArICAgICAgICAgICAgICAgICAgICAgICBlcnIg
PSAtRU5PREVWOwo+PiArICAgICAgICAgICAgICAgICAgICAgICBnb3RvIGVycl9lbmdpbmU7Cj4+
ICsgICAgICAgICAgICAgICB9Cj4+ICsKPj4gKyAgICAgICAgICAgICAgIGVyciA9IGdldF9leGVj
YnVmX29hX2NvbmZpZyhlYi5pOTE1LAo+PiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgIGViLmV4dGVuc2lvbnMucGVyZl9jb25maWcucGVyZl9mZCwKPj4gKyAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlYi5leHRlbnNpb25zLnBlcmZf
Y29uZmlnLm9hX2NvbmZpZywKPj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAmZWIub2FfY29uZmlnLCAmZWIub2FfYm8pOwo+PiArICAgICAgICAgICAgICAgaWYg
KGVycikKPj4gKyAgICAgICAgICAgICAgICAgICAgICAgZ290byBlcnJfZW5naW5lOwo+IFdoeSBp
cyB0aGlzIHVuZGVyIHRoZSBzdHJ1Y3RfbXV0ZXg/CgoKQWNjZXNzIHRvIGRldl9wcml2LT5wZXJm
Lm9hLmV4Y2x1c2l2ZV9zdHJlYW0gbXVzdCBiZSB1bmRlciBzdHJ1Y3RfbXV0ZXguCgpBbHNvIGJl
Y2F1c2Ugd2UgdmVyaWZ5IHRoYXQgdGhlIGVuZ2luZSBhY3R1YWxseSBoYXMgT0Egc3VwcG9ydC4K
CkkgY291bGQgc3BsaXQgdGhlIGdldHRpbmcgdGhlIGNvbmZpZ3VyYXRpb24gcGFydCBhd2F5LgoK
Cj4KPj4gKyAgICAgICB9Cj4+ICsKPj4gICAgICAgICAgZXJyID0gZWJfd2FpdF9mb3JfcmluZygm
ZWIpOyAvKiBtYXkgdGVtcG9yYXJpbHkgZHJvcCBzdHJ1Y3RfbXV0ZXggKi8KPj4gICAgICAgICAg
aWYgKHVubGlrZWx5KGVycikpCj4+IC0gICAgICAgICAgICAgICBnb3RvIGVycl9lbmdpbmU7Cj4+
ICsgICAgICAgICAgICAgICBnb3RvIGVycl9vYTsKPj4gICAKPj4gICAgICAgICAgZXJyID0gZWJf
cmVsb2NhdGUoJmViKTsKPj4gICAgICAgICAgaWYgKGVycikgewo+PiBAQCAtMjgwNiw2ICsyOTI5
LDExIEBAIGk5MTVfZ2VtX2RvX2V4ZWNidWZmZXIoc3RydWN0IGRybV9kZXZpY2UgKmRldiwKPj4g
ICBlcnJfdm1hOgo+PiAgICAgICAgICBpZiAoZWIuZXhlYykKPj4gICAgICAgICAgICAgICAgICBl
Yl9yZWxlYXNlX3ZtYXMoJmViKTsKPj4gK2Vycl9vYToKPj4gKyAgICAgICBpZiAoZWIub2FfY29u
ZmlnKSB7Cj4+ICsgICAgICAgICAgICAgICBpOTE1X2dlbV9vYmplY3RfcHV0KGViLm9hX2JvKTsK
Pj4gKyAgICAgICAgICAgICAgIGk5MTVfb2FfY29uZmlnX3B1dChlYi5vYV9jb25maWcpOwo+PiAr
ICAgICAgIH0KPj4gICBlcnJfZW5naW5lOgo+PiAgICAgICAgICBlYl91bnBpbl9jb250ZXh0KCZl
Yik7Cj4+ICAgZXJyX3VubG9jazoKPj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1
L2d0L2ludGVsX2VuZ2luZV9jcy5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZW5n
aW5lX2NzLmMKPj4gaW5kZXggNDk2MWY3NGZkOTAyLi5iYTRkMmMxYWJkMWEgMTAwNjQ0Cj4+IC0t
LSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2VuZ2luZV9jcy5jCj4+ICsrKyBiL2Ry
aXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2VuZ2luZV9jcy5jCj4+IEBAIC04NTksNiArODU5
LDggQEAgaW50IGludGVsX2VuZ2luZV9pbml0X2NvbW1vbihzdHJ1Y3QgaW50ZWxfZW5naW5lX2Nz
ICplbmdpbmUpCj4+ICAgCj4+ICAgICAgICAgIGVuZ2luZS0+c2V0X2RlZmF1bHRfc3VibWlzc2lv
bihlbmdpbmUpOwo+PiAgIAo+PiArICAgICAgIElOSVRfQUNUSVZFX1JFUVVFU1QoJmVuZ2luZS0+
bGFzdF9vYV9jb25maWcpOwo+PiArCj4+ICAgICAgICAgIHJldHVybiAwOwo+PiAgIAo+PiAgIGVy
cl91bnBpbjoKPj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2Vu
Z2luZV90eXBlcy5oIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZW5naW5lX3R5cGVz
LmgKPj4gaW5kZXggN2UwNTYxMTQzNDRlLi4zOWRhNDA5MzdlN2YgMTAwNjQ0Cj4+IC0tLSBhL2Ry
aXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2VuZ2luZV90eXBlcy5oCj4+ICsrKyBiL2RyaXZl
cnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2VuZ2luZV90eXBlcy5oCj4+IEBAIC0zNjMsNiArMzYz
LDggQEAgc3RydWN0IGludGVsX2VuZ2luZV9jcyB7Cj4+ICAgICAgICAgIHN0cnVjdCBpOTE1X3dh
X2xpc3Qgd2FfbGlzdDsKPj4gICAgICAgICAgc3RydWN0IGk5MTVfd2FfbGlzdCB3aGl0ZWxpc3Q7
Cj4+ICAgCj4+ICsgICAgICAgc3RydWN0IGk5MTVfYWN0aXZlX3JlcXVlc3QgbGFzdF9vYV9jb25m
aWc7Cj4+ICsKPj4gICAgICAgICAgdTMyICAgICAgICAgICAgIGlycV9rZWVwX21hc2s7IC8qIGFs
d2F5cyBrZWVwIHRoZXNlIGludGVycnVwdHMgKi8KPj4gICAgICAgICAgdTMyICAgICAgICAgICAg
IGlycV9lbmFibGVfbWFzazsgLyogYml0bWFzayB0byBlbmFibGUgcmluZyBpbnRlcnJ1cHQgKi8K
Pj4gICAgICAgICAgdm9pZCAgICAgICAgICAgICgqaXJxX2VuYWJsZSkoc3RydWN0IGludGVsX2Vu
Z2luZV9jcyAqZW5naW5lKTsKPj4gQEAgLTQ0Niw2ICs0NDgsNyBAQCBzdHJ1Y3QgaW50ZWxfZW5n
aW5lX2NzIHsKPj4gICAjZGVmaW5lIEk5MTVfRU5HSU5FX0hBU19TRU1BUEhPUkVTICAgQklUKDMp
Cj4+ICAgI2RlZmluZSBJOTE1X0VOR0lORV9ORUVEU19CUkVBRENSVU1CX1RBU0tMRVQgQklUKDQp
Cj4+ICAgI2RlZmluZSBJOTE1X0VOR0lORV9JU19WSVJUVUFMICAgICAgIEJJVCg1KQo+PiArI2Rl
ZmluZSBJOTE1X0VOR0lORV9IQVNfT0EgICAgICAgICAgIEJJVCg2KQo+PiAgICAgICAgICB1bnNp
Z25lZCBpbnQgZmxhZ3M7Cj4+ICAgCj4+ICAgICAgICAgIC8qCj4+IEBAIC01NDEsNiArNTQ0LDEy
IEBAIGludGVsX2VuZ2luZV9pc192aXJ0dWFsKGNvbnN0IHN0cnVjdCBpbnRlbF9lbmdpbmVfY3Mg
KmVuZ2luZSkKPj4gICAgICAgICAgcmV0dXJuIGVuZ2luZS0+ZmxhZ3MgJiBJOTE1X0VOR0lORV9J
U19WSVJUVUFMOwo+PiAgIH0KPj4gICAKPj4gK3N0YXRpYyBpbmxpbmUgYm9vbAo+PiAraW50ZWxf
ZW5naW5lX2hhc19vYShjb25zdCBzdHJ1Y3QgaW50ZWxfZW5naW5lX2NzICplbmdpbmUpCj4+ICt7
Cj4+ICsgICAgICAgcmV0dXJuIGVuZ2luZS0+ZmxhZ3MgJiBJOTE1X0VOR0lORV9IQVNfT0E7Cj4+
ICt9Cj4+ICsKPj4gICAjZGVmaW5lIGluc3Rkb25lX3NsaWNlX21hc2soZGV2X3ByaXZfXykgXAo+
PiAgICAgICAgICAoSVNfR0VOKGRldl9wcml2X18sIDcpID8gXAo+PiAgICAgICAgICAgMSA6IFJV
TlRJTUVfSU5GTyhkZXZfcHJpdl9fKS0+c3NldS5zbGljZV9tYXNrKQo+PiBkaWZmIC0tZ2l0IGEv
ZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfbHJjLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkx
NS9ndC9pbnRlbF9scmMuYwo+PiBpbmRleCAyODY4NWJhOTFhMmMuLmE2ZWE0Njg5ODZkMSAxMDA2
NDQKPj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfbHJjLmMKPj4gKysrIGIv
ZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfbHJjLmMKPj4gQEAgLTI3NjMsNiArMjc2Myw3
IEBAIGludCBpbnRlbF9leGVjbGlzdHNfc3VibWlzc2lvbl9zZXR1cChzdHJ1Y3QgaW50ZWxfZW5n
aW5lX2NzICplbmdpbmUpCj4+ICAgICAgICAgICAgICAgICAgZW5naW5lLT5pbml0X2NvbnRleHQg
PSBnZW44X2luaXRfcmNzX2NvbnRleHQ7Cj4+ICAgICAgICAgICAgICAgICAgZW5naW5lLT5lbWl0
X2ZsdXNoID0gZ2VuOF9lbWl0X2ZsdXNoX3JlbmRlcjsKPj4gICAgICAgICAgICAgICAgICBlbmdp
bmUtPmVtaXRfZmluaV9icmVhZGNydW1iID0gZ2VuOF9lbWl0X2ZpbmlfYnJlYWRjcnVtYl9yY3M7
Cj4+ICsgICAgICAgICAgICAgICBlbmdpbmUtPmZsYWdzIHw9IEk5MTVfRU5HSU5FX0hBU19PQTsK
Pj4gICAgICAgICAgfQo+PiAgIAo+PiAgICAgICAgICByZXR1cm4gMDsKPj4gZGlmZiAtLWdpdCBh
L2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX3JpbmdidWZmZXIuYyBiL2RyaXZlcnMvZ3B1
L2RybS9pOTE1L2d0L2ludGVsX3JpbmdidWZmZXIuYwo+PiBpbmRleCBmMDk0NDA2ZGNjNTYuLmEx
YWVlMDkyZDBhMyAxMDA2NDQKPj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxf
cmluZ2J1ZmZlci5jCj4+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX3Jpbmdi
dWZmZXIuYwo+PiBAQCAtMjE5Miw4ICsyMTkyLDEwIEBAIHN0YXRpYyB2b2lkIHNldHVwX3Jjcyhz
dHJ1Y3QgaW50ZWxfZW5naW5lX2NzICplbmdpbmUpCj4+ICAgICAgICAgICAgICAgICAgZW5naW5l
LT5pcnFfZW5hYmxlX21hc2sgPSBJOTE1X1VTRVJfSU5URVJSVVBUOwo+PiAgICAgICAgICB9Cj4+
ICAgCj4+IC0gICAgICAgaWYgKElTX0hBU1dFTEwoaTkxNSkpCj4+ICsgICAgICAgaWYgKElTX0hB
U1dFTEwoaTkxNSkpIHsKPj4gICAgICAgICAgICAgICAgICBlbmdpbmUtPmVtaXRfYmJfc3RhcnQg
PSBoc3dfZW1pdF9iYl9zdGFydDsKPj4gKyAgICAgICAgICAgICAgIGVuZ2luZS0+ZmxhZ3MgfD0g
STkxNV9FTkdJTkVfSEFTX09BOwo+PiArICAgICAgIH0KPj4gICAKPj4gICAgICAgICAgZW5naW5l
LT5yZXN1bWUgPSByY3NfcmVzdW1lOwo+PiAgIH0KPj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1
L2RybS9pOTE1L2k5MTVfZHJ2LmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2Rydi5jCj4+
IGluZGV4IDQ4ZjkwMDlhNjMxOC4uZWY1NGNmMWM1NGE1IDEwMDY0NAo+PiAtLS0gYS9kcml2ZXJz
L2dwdS9kcm0vaTkxNS9pOTE1X2Rydi5jCj4+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5
MTVfZHJ2LmMKPj4gQEAgLTQ4Niw2ICs0ODYsMTAgQEAgc3RhdGljIGludCBpOTE1X2dldHBhcmFt
X2lvY3RsKHN0cnVjdCBkcm1fZGV2aWNlICpkZXYsIHZvaWQgKmRhdGEsCj4+ICAgICAgICAgIGNh
c2UgSTkxNV9QQVJBTV9QRVJGX1JFVklTSU9OOgo+PiAgICAgICAgICAgICAgICAgIHZhbHVlID0g
MTsKPj4gICAgICAgICAgICAgICAgICBicmVhazsKPj4gKyAgICAgICBjYXNlIEk5MTVfUEFSQU1f
SEFTX0VYRUNfUEVSRl9DT05GSUc6Cj4+ICsgICAgICAgICAgICAgICAvKiBPYnZpb3VzbHkgcmVx
dWlyZXMgcGVyZiBzdXBwb3J0LiAqLwo+PiArICAgICAgICAgICAgICAgdmFsdWUgPSBkZXZfcHJp
di0+cGVyZi5pbml0aWFsaXplZDsKPj4gKyAgICAgICAgICAgICAgIGJyZWFrOwo+PiAgICAgICAg
ICBkZWZhdWx0Ogo+PiAgICAgICAgICAgICAgICAgIERSTV9ERUJVRygiVW5rbm93biBwYXJhbWV0
ZXIgJWRcbiIsIHBhcmFtLT5wYXJhbSk7Cj4+ICAgICAgICAgICAgICAgICAgcmV0dXJuIC1FSU5W
QUw7Cj4+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2Rydi5oIGIvZHJp
dmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kcnYuaAo+PiBpbmRleCAwMzIzYzgxODJhNjcuLjUxYjEw
MzQ5MzYyMyAxMDA2NDQKPj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kcnYuaAo+
PiArKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2Rydi5oCj4+IEBAIC0xMDk2LDYgKzEw
OTYsOCBAQCBzdHJ1Y3QgaTkxNV9vYV9yZWcgewo+PiAgIH07Cj4+ICAgCj4+ICAgc3RydWN0IGk5
MTVfb2FfY29uZmlnIHsKPj4gKyAgICAgICBzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNTsK
Pj4gKwo+PiAgICAgICAgICBjaGFyIHV1aWRbVVVJRF9TVFJJTkdfTEVOICsgMV07Cj4+ICAgICAg
ICAgIGludCBpZDsKPj4gICAKPj4gQEAgLTExMTQsNyArMTExNiw3IEBAIHN0cnVjdCBpOTE1X29h
X2NvbmZpZyB7Cj4+ICAgCj4+ICAgICAgICAgIHN0cnVjdCBsaXN0X2hlYWQgdm1hX2xpbms7Cj4+
ICAgCj4+IC0gICAgICAgYXRvbWljX3QgcmVmX2NvdW50Owo+PiArICAgICAgIHN0cnVjdCBrcmVm
IHJlZjsKPj4gICB9Owo+PiAgIAo+PiAgIHN0cnVjdCBpOTE1X3BlcmZfc3RyZWFtOwo+PiBAQCAt
MjYxMiw2ICsyNjE0LDEyIEBAIGludCBpOTE1X3BlcmZfZ2V0X29hX2NvbmZpZyhzdHJ1Y3QgZHJt
X2k5MTVfcHJpdmF0ZSAqaTkxNSwKPj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnQg
bWV0cmljc19zZXQsCj4+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RydWN0IGk5MTVf
b2FfY29uZmlnICoqb3V0X2NvbmZpZywKPj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBz
dHJ1Y3QgZHJtX2k5MTVfZ2VtX29iamVjdCAqKm91dF9vYmopOwo+PiArdm9pZCBpOTE1X29hX2Nv
bmZpZ19yZWxlYXNlKHN0cnVjdCBrcmVmICpyZWYpOwo+PiArCj4+ICtzdGF0aWMgaW5saW5lIHZv
aWQgaTkxNV9vYV9jb25maWdfcHV0KHN0cnVjdCBpOTE1X29hX2NvbmZpZyAqb2FfY29uZmlnKQo+
PiArewo+PiArICAgICAgIGtyZWZfcHV0KCZvYV9jb25maWctPnJlZiwgaTkxNV9vYV9jb25maWdf
cmVsZWFzZSk7Cj4+ICt9Cj4+ICAgCj4+ICAgLyogaTkxNV9nZW1fZXZpY3QuYyAqLwo+PiAgIGlu
dCBfX211c3RfY2hlY2sgaTkxNV9nZW1fZXZpY3Rfc29tZXRoaW5nKHN0cnVjdCBpOTE1X2FkZHJl
c3Nfc3BhY2UgKnZtLAo+PiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9w
ZXJmLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3BlcmYuYwo+PiBpbmRleCBiMmY1YmE4
NzkyMWMuLjM0ZDc0ZmE2NGM3NCAxMDA2NDQKPj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUv
aTkxNV9wZXJmLmMKPj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9wZXJmLmMKPj4g
QEAgLTM2NiwxMCArMzY2LDExIEBAIHN0cnVjdCBwZXJmX29wZW5fcHJvcGVydGllcyB7Cj4+ICAg
ICAgICAgIGludCBvYV9wZXJpb2RfZXhwb25lbnQ7Cj4+ICAgfTsKPj4gICAKPj4gLXN0YXRpYyB2
b2lkIHB1dF9vYV9jb25maWcoc3RydWN0IGk5MTVfb2FfY29uZmlnICpvYV9jb25maWcpCj4+ICt2
b2lkIGk5MTVfb2FfY29uZmlnX3JlbGVhc2Uoc3RydWN0IGtyZWYgKnJlZikKPj4gICB7Cj4+IC0g
ICAgICAgaWYgKCFhdG9taWNfZGVjX2FuZF90ZXN0KCZvYV9jb25maWctPnJlZl9jb3VudCkpCj4+
IC0gICAgICAgICAgICAgICByZXR1cm47Cj4+ICsgICAgICAgc3RydWN0IGk5MTVfb2FfY29uZmln
ICpvYV9jb25maWcgPSBjb250YWluZXJfb2YocmVmLCB0eXBlb2YoKm9hX2NvbmZpZyksIHJlZik7
Cj4+ICsKPj4gKyAgICAgICBsb2NrZGVwX2Fzc2VydF9oZWxkKCZvYV9jb25maWctPmk5MTUtPnBl
cmYubWV0cmljc19sb2NrKTsKPiBUaGF0J3Mgbm90IHRydWUgZm9yIHRoZSBlYiBwYXRocy4KCgpB
Y3R1YWxseSB0aGF0J3Mgbm90IHRydWUgYW55d2hlcmUuLi4KCgo+Cj4+ICAgCj4+ICAgICAgICAg
IGlmIChvYV9jb25maWctPm9iaikgewo+PiAgICAgICAgICAgICAgICAgIGxpc3RfZGVsKCZvYV9j
b25maWctPnZtYV9saW5rKTsKPj4gQEAgLTQ4NSw3ICs0ODYsNyBAQCBpbnQgaTkxNV9wZXJmX2dl
dF9vYV9jb25maWcoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUsCj4+ICAgICAgICAgIH0K
Pj4gICAKPj4gICAgICAgICAgaWYgKG91dF9jb25maWcpIHsKPj4gLSAgICAgICAgICAgICAgIGF0
b21pY19pbmMoJm9hX2NvbmZpZy0+cmVmX2NvdW50KTsKPj4gKyAgICAgICAgICAgICAgIGtyZWZf
Z2V0KCZvYV9jb25maWctPnJlZik7Cj4+ICAgICAgICAgICAgICAgICAgKm91dF9jb25maWcgPSBv
YV9jb25maWc7Cj4+ICAgICAgICAgIH0KPj4gICAKPj4gQEAgLTUwNyw3ICs1MDgsNyBAQCBpbnQg
aTkxNV9wZXJmX2dldF9vYV9jb25maWcoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUsCj4+
ICAgCj4+ICAgZXJyX2J1Zl9hbGxvYzoKPj4gICAgICAgICAgaWYgKG91dF9jb25maWcpIHsKPj4g
LSAgICAgICAgICAgICAgIHB1dF9vYV9jb25maWcob2FfY29uZmlnKTsKPj4gKyAgICAgICAgICAg
ICAgIGk5MTVfb2FfY29uZmlnX3B1dChvYV9jb25maWcpOwo+PiAgICAgICAgICAgICAgICAgICpv
dXRfY29uZmlnID0gTlVMTDsKPj4gICAgICAgICAgfQo+PiAgIHVubG9jazoKPj4gQEAgLTE0ODMs
NyArMTQ4NCw3IEBAIHN0YXRpYyB2b2lkIGk5MTVfb2Ffc3RyZWFtX2Rlc3Ryb3koc3RydWN0IGk5
MTVfcGVyZl9zdHJlYW0gKnN0cmVhbSkKPj4gICAgICAgICAgaWYgKHN0cmVhbS0+Y3R4KQo+PiAg
ICAgICAgICAgICAgICAgIG9hX3B1dF9yZW5kZXJfY3R4X2lkKHN0cmVhbSk7Cj4+ICAgCj4+IC0g
ICAgICAgcHV0X29hX2NvbmZpZyhzdHJlYW0tPm9hX2NvbmZpZyk7Cj4+ICsgICAgICAgaTkxNV9v
YV9jb25maWdfcHV0KHN0cmVhbS0+b2FfY29uZmlnKTsKPj4gICAKPj4gICAgICAgICAgaWYgKGRl
dl9wcml2LT5wZXJmLm9hLnNwdXJpb3VzX3JlcG9ydF9ycy5taXNzZWQpIHsKPj4gICAgICAgICAg
ICAgICAgICBEUk1fTk9URSgiJWQgc3B1cmlvdXMgT0EgcmVwb3J0IG5vdGljZXMgc3VwcHJlc3Nl
ZCBkdWUgdG8gcmF0ZWxpbWl0aW5nXG4iLAo+PiBAQCAtMjQzMCw3ICsyNDMxLDcgQEAgc3RhdGlj
IGludCBpOTE1X29hX3N0cmVhbV9pbml0KHN0cnVjdCBpOTE1X3BlcmZfc3RyZWFtICpzdHJlYW0s
Cj4+ICAgICAgICAgIGZyZWVfb2FfYnVmZmVyKGRldl9wcml2KTsKPj4gICAKPj4gICBlcnJfb2Ff
YnVmX2FsbG9jOgo+PiAtICAgICAgIHB1dF9vYV9jb25maWcoc3RyZWFtLT5vYV9jb25maWcpOwo+
PiArICAgICAgIGk5MTVfb2FfY29uZmlnX3B1dChzdHJlYW0tPm9hX2NvbmZpZyk7Cj4+ICAgCj4+
ICAgICAgICAgIGludGVsX3VuY29yZV9mb3JjZXdha2VfcHV0KCZkZXZfcHJpdi0+dW5jb3JlLCBG
T1JDRVdBS0VfQUxMKTsKPj4gICAgICAgICAgaW50ZWxfcnVudGltZV9wbV9wdXQoJmRldl9wcml2
LT5ydW50aW1lX3BtLCBzdHJlYW0tPndha2VyZWYpOwo+PiBAQCAtMzI0Niw3ICszMjQ3LDcgQEAg
dm9pZCBpOTE1X3BlcmZfcmVnaXN0ZXIoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2
KQo+PiAgICAgICAgICBpZiAocmV0KQo+PiAgICAgICAgICAgICAgICAgIGdvdG8gc3lzZnNfZXJy
b3I7Cj4+ICAgCj4+IC0gICAgICAgYXRvbWljX3NldCgmZGV2X3ByaXYtPnBlcmYub2EudGVzdF9j
b25maWcucmVmX2NvdW50LCAxKTsKPj4gKyAgICAgICBkZXZfcHJpdi0+cGVyZi5vYS50ZXN0X2Nv
bmZpZy5pOTE1ID0gZGV2X3ByaXY7Cj4+ICAgCj4+ICAgICAgICAgIGdvdG8gZXhpdDsKPj4gICAK
Pj4gQEAgLTM1MDIsNyArMzUwMyw4IEBAIGludCBpOTE1X3BlcmZfYWRkX2NvbmZpZ19pb2N0bChz
dHJ1Y3QgZHJtX2RldmljZSAqZGV2LCB2b2lkICpkYXRhLAo+PiAgICAgICAgICAgICAgICAgIHJl
dHVybiAtRU5PTUVNOwo+PiAgICAgICAgICB9Cj4+ICAgCj4+IC0gICAgICAgYXRvbWljX3NldCgm
b2FfY29uZmlnLT5yZWZfY291bnQsIDEpOwo+PiArICAgICAgIG9hX2NvbmZpZy0+aTkxNSA9IGRl
dl9wcml2Owo+PiArICAgICAgIGtyZWZfaW5pdCgmb2FfY29uZmlnLT5yZWYpOwo+PiAgIAo+PiAg
ICAgICAgICBpZiAoIXV1aWRfaXNfdmFsaWQoYXJncy0+dXVpZCkpIHsKPj4gICAgICAgICAgICAg
ICAgICBEUk1fREVCVUcoIkludmFsaWQgdXVpZCBmb3JtYXQgZm9yIE9BIGNvbmZpZ1xuIik7Cj4+
IEBAIC0zNjAxLDcgKzM2MDMsNyBAQCBpbnQgaTkxNV9wZXJmX2FkZF9jb25maWdfaW9jdGwoc3Ry
dWN0IGRybV9kZXZpY2UgKmRldiwgdm9pZCAqZGF0YSwKPj4gICBzeXNmc19lcnI6Cj4+ICAgICAg
ICAgIG11dGV4X3VubG9jaygmZGV2X3ByaXYtPnBlcmYubWV0cmljc19sb2NrKTsKPj4gICByZWdf
ZXJyOgo+PiAtICAgICAgIHB1dF9vYV9jb25maWcob2FfY29uZmlnKTsKPj4gKyAgICAgICBpOTE1
X29hX2NvbmZpZ19wdXQob2FfY29uZmlnKTsKPj4gICAgICAgICAgRFJNX0RFQlVHKCJGYWlsZWQg
dG8gYWRkIG5ldyBPQSBjb25maWdcbiIpOwo+PiAgICAgICAgICByZXR1cm4gZXJyOwo+PiAgIH0K
Pj4gQEAgLTM2NTUsNyArMzY1Nyw3IEBAIGludCBpOTE1X3BlcmZfcmVtb3ZlX2NvbmZpZ19pb2N0
bChzdHJ1Y3QgZHJtX2RldmljZSAqZGV2LCB2b2lkICpkYXRhLAo+PiAgIAo+PiAgICAgICAgICBE
Uk1fREVCVUcoIlJlbW92ZWQgY29uZmlnICVzIGlkPSVpXG4iLCBvYV9jb25maWctPnV1aWQsIG9h
X2NvbmZpZy0+aWQpOwo+PiAgIAo+PiAtICAgICAgIHB1dF9vYV9jb25maWcob2FfY29uZmlnKTsK
Pj4gKyAgICAgICBpOTE1X29hX2NvbmZpZ19wdXQob2FfY29uZmlnKTsKPj4gICAKPj4gICBjb25m
aWdfZXJyOgo+PiAgICAgICAgICBtdXRleF91bmxvY2soJmRldl9wcml2LT5wZXJmLm1ldHJpY3Nf
bG9jayk7Cj4+IEBAIC0zODI0LDcgKzM4MjYsNyBAQCBzdGF0aWMgaW50IGRlc3Ryb3lfY29uZmln
KGludCBpZCwgdm9pZCAqcCwgdm9pZCAqZGF0YSkKPj4gICB7Cj4+ICAgICAgICAgIHN0cnVjdCBp
OTE1X29hX2NvbmZpZyAqb2FfY29uZmlnID0gcDsKPj4gICAKPj4gLSAgICAgICBwdXRfb2FfY29u
ZmlnKG9hX2NvbmZpZyk7Cj4+ICsgICAgICAgaTkxNV9vYV9jb25maWdfcHV0KG9hX2NvbmZpZyk7
Cj4+ICAgCj4+ICAgICAgICAgIHJldHVybiAwOwo+PiAgIH0KPj4gZGlmZiAtLWdpdCBhL2luY2x1
ZGUvdWFwaS9kcm0vaTkxNV9kcm0uaCBiL2luY2x1ZGUvdWFwaS9kcm0vaTkxNV9kcm0uaAo+PiBp
bmRleCBiN2ZlMTkxNWUzNGQuLjU5MzhhNzM5NjNmZSAxMDA2NDQKPj4gLS0tIGEvaW5jbHVkZS91
YXBpL2RybS9pOTE1X2RybS5oCj4+ICsrKyBiL2luY2x1ZGUvdWFwaS9kcm0vaTkxNV9kcm0uaAo+
PiBAQCAtNjIzLDYgKzYyMywxNiBAQCB0eXBlZGVmIHN0cnVjdCBkcm1faTkxNV9pcnFfd2FpdCB7
Cj4+ICAgICovCj4+ICAgI2RlZmluZSBJOTE1X1BBUkFNX0hBU19FWEVDX1RJTUVMSU5FX0ZFTkNF
UyA1NQo+PiAgIAo+PiArLyoKPj4gKyAqIFJlcXVlc3QgYW4gaTkxNS9wZXJmIHBlcmZvcm1hbmNl
IGNvbmZpZ3VyYXRpb24gY2hhbmdlIGJlZm9yZSBydW5uaW5nIHRoZQo+PiArICogY29tbWFuZHMg
Z2l2ZW4gaW4gYW4gZXhlY2J1Zi4KPj4gKyAqCj4+ICsgKiBQZXJmb3JtYW5jZSBjb25maWd1cmF0
aW9uIElEIGFuZCB0aGUgZmlsZSBkZXNjcmlwdG9yIG9mIHRoZSBpOTE1IHBlcmYKPj4gKyAqIHN0
cmVhbSBhcmUgZ2l2ZW4gdGhyb3VnaCBkcm1faTkxNV9nZW1fZXhlY2J1ZmZlcl9leHRfcGVyZi4g
U2VlCj4+ICsgKiBJOTE1X0VYRUNfRVhULgo+PiArICovCj4+ICsjZGVmaW5lIEk5MTVfUEFSQU1f
SEFTX0VYRUNfUEVSRl9DT05GSUcgNTYKPj4gKwo+PiAgIC8qIE11c3QgYmUga2VwdCBjb21wYWN0
IC0tIG5vIGhvbGVzIGFuZCB3ZWxsIGRvY3VtZW50ZWQgKi8KPj4gICAKPj4gICB0eXBlZGVmIHN0
cnVjdCBkcm1faTkxNV9nZXRwYXJhbSB7Cj4+IEBAIC0xMDI2LDYgKzEwMzYsMTIgQEAgZW51bSBk
cm1faTkxNV9nZW1fZXhlY2J1ZmZlcl9leHQgewo+PiAgICAgICAgICAgKi8KPj4gICAgICAgICAg
RFJNX0k5MTVfR0VNX0VYRUNCVUZGRVJfRVhUX1RJTUVMSU5FX0ZFTkNFUywKPj4gICAKPj4gKyAg
ICAgICAvKioKPj4gKyAgICAgICAgKiBUaGlzIGlkZW50aWZpZXIgaXMgYXNzb2NpYXRlZCB3aXRo
Cj4+ICsgICAgICAgICogZHJtX2k5MTVfZ2VtX2V4ZWNidWZmZXJfcGVyZl9leHQuCj4+ICsgICAg
ICAgICovCj4+ICsgICAgICAgRFJNX0k5MTVfR0VNX0VYRUNCVUZGRVJfRVhUX1BFUkYsCj4+ICsK
Pj4gICAgICAgICAgRFJNX0k5MTVfR0VNX0VYRUNCVUZGRVJfRVhUX01BWCAvKiBub24tQUJJICov
Cj4+ICAgfTsKPj4gICAKPj4gQEAgLTEwNTQsNiArMTA3MCwyNyBAQCBzdHJ1Y3QgZHJtX2k5MTVf
Z2VtX2V4ZWNidWZmZXJfZXh0X3RpbWVsaW5lX2ZlbmNlcyB7Cj4+ICAgICAgICAgIF9fdTY0IHZh
bHVlc19wdHI7Cj4+ICAgfTsKPj4gICAKPj4gK3N0cnVjdCBkcm1faTkxNV9nZW1fZXhlY2J1ZmZl
cl9leHRfcGVyZiB7Cj4+ICsgICAgICAgc3RydWN0IGk5MTVfdXNlcl9leHRlbnNpb24gYmFzZTsK
Pj4gKwo+PiArICAgICAgIC8qKgo+PiArICAgICAgICAqIFBlcmZvcm1hbmNlIGZpbGUgZGVzY3Jp
cHRvciByZXR1cm5lZCBieSBEUk1fSU9DVExfSTkxNV9QRVJGX09QRU4uCj4+ICsgICAgICAgICog
VGhpcyBpcyB1c2VkIHRvIGlkZW50aWZ5IHRoYXQgdGhlIGFwcGxpY2F0aW9uCj4+ICsgICAgICAg
ICovCj4+ICsgICAgICAgX19zMzIgcGVyZl9mZDsKPj4gKwo+PiArICAgICAgIC8qKgo+PiArICAg
ICAgICAqIFVudXNlZCBmb3Igbm93LiBNdXN0IGJlIGNsZWFyZWQgdG8gemVyby4KPj4gKyAgICAg
ICAgKi8KPj4gKyAgICAgICBfX3UzMiBwYWQ7Cj4+ICsKPj4gKyAgICAgICAvKioKPj4gKyAgICAg
ICAgKiBPQSBjb25maWd1cmF0aW9uIElEIHRvIHN3aXRjaCB0byBiZWZvcmUgZXhlY3V0aW5nIHRo
ZSBjb21tYW5kcwo+PiArICAgICAgICAqIGFzc29jaWF0ZWQgdG8gdGhlIGV4ZWNidWYuCj4+ICsg
ICAgICAgICovCj4+ICsgICAgICAgX191NjQgb2FfY29uZmlnOwo+PiArfTsKPj4gKwo+PiAgIHN0
cnVjdCBkcm1faTkxNV9nZW1fZXhlY2J1ZmZlcjIgewo+PiAgICAgICAgICAvKioKPj4gICAgICAg
ICAgICogTGlzdCBvZiBnZW1fZXhlY19vYmplY3QyIHN0cnVjdHMKPj4gLS0gCj4+IDIuMjEuMC4z
OTIuZ2Y4ZjY3ODcxNTllCj4+Cj4+IF9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fCj4+IEludGVsLWdmeCBtYWlsaW5nIGxpc3QKPj4gSW50ZWwtZ2Z4QGxpc3Rz
LmZyZWVkZXNrdG9wLm9yZwo+PiBodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFu
L2xpc3RpbmZvL2ludGVsLWdmeAoKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fCkludGVsLWdmeCBtYWlsaW5nIGxpc3QKSW50ZWwtZ2Z4QGxpc3RzLmZyZWVk
ZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZv
L2ludGVsLWdmeA==

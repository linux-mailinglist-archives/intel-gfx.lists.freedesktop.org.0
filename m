Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 3D189EB9BB
	for <lists+intel-gfx@lfdr.de>; Thu, 31 Oct 2019 23:36:57 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id A17C26E160;
	Thu, 31 Oct 2019 22:36:55 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga02.intel.com (mga02.intel.com [134.134.136.20])
 by gabe.freedesktop.org (Postfix) with ESMTPS id B1E846E160
 for <intel-gfx@lists.freedesktop.org>; Thu, 31 Oct 2019 22:36:54 +0000 (UTC)
X-Amp-Result: UNKNOWN
X-Amp-Original-Verdict: FILE UNKNOWN
X-Amp-File-Uploaded: False
Received: from orsmga007.jf.intel.com ([10.7.209.58])
 by orsmga101.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 31 Oct 2019 15:36:53 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.68,253,1569308400"; d="scan'208";a="190783021"
Received: from vrkonda-desk.ra.intel.com ([134.134.244.70])
 by orsmga007.jf.intel.com with ESMTP; 31 Oct 2019 15:36:53 -0700
Date: Thu, 31 Oct 2019 15:36:53 -0700
From: Vanshidhar Konda <vanshidhar.r.konda@intel.com>
To: Chris Wilson <chris@chris-wilson.co.uk>
Message-ID: <20191031223653.wvigxadj23f6urap@vrkonda-desk.ra.intel.com>
References: <20191031211747.13892-1-chris@chris-wilson.co.uk>
 <20191031212336.14311-1-chris@chris-wilson.co.uk>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <20191031212336.14311-1-chris@chris-wilson.co.uk>
Subject: Re: [Intel-gfx] [PATCH] drm/i915/selftests: Spin on all engines
 simultaneously
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: intel-gfx@lists.freedesktop.org, Matthew Auld <matthew.auld@intel.com>
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

T24gVGh1LCBPY3QgMzEsIDIwMTkgYXQgMDk6MjM6MzZQTSArMDAwMCwgQ2hyaXMgV2lsc29uIHdy
b3RlOgo+VmFuc2hpZGhhciBLb25kYSBhc2tlZCBmb3IgdGhlIHNpbXBsZXN0IHRlc3QgInRvIHZl
cmlmeSB0aGF0IHRoZSBrZXJuZWwKPmNhbiBzdWJtaXQgYW5kIGhhcmR3YXJlIGNhbiBleGVjdXRl
IGJhdGNoIGJ1ZmZlcnMgb24gYWxsIHRoZSBjb21tYW5kCj5zdHJlYW1lcnMgaW4gcGFyYWxsZWwu
IiBXZSBoYXZlIGEgbnVtYmVyIG9mIHRlc3RzIGluIHVzZXJzcGFjZSB0aGF0Cj5zdWJtaXQgbG9h
ZCB0byBlYWNoIGVuZ2luZSBhbmQgdmVyaWZ5IHRoYXQgaXQgaXMgcHJlc2VudCwgYnV0IHN0cmlj
dGx5Cj53ZSBoYXZlIG5vIHNlbGZ0ZXN0IHRvIHByb3ZlIHRoYXQgdGhlIGtlcm5lbCBjYW4gX3Np
bXVsdGFuZW91c2x5Xwo+ZXhlY3V0ZSBvbiBhbGwga25vd24gZW5naW5lcy4gKFdlIGhhdmUgdGVz
dHMgdG8gZGVtb25zdHJhdGUgdGhhdCB3ZSBjYW4KPnN1Ym1pdCB0byBIVyBpbiBwYXJhbGxlbCwg
YnV0IHdlIGRvbid0IGluc2lzdCB0aGF0IHRoZXkgZXhlY3V0ZSBpbgo+cGFyYWxsZWwuKQo+Cj5T
dWdnZXN0ZWQtYnk6IFZhbnNoaWRoYXIgS29uZGEgPHZhbnNoaWRoYXIuci5rb25kYUBpbnRlbC5j
b20+Cj5TaWduZWQtb2ZmLWJ5OiBDaHJpcyBXaWxzb24gPGNocmlzQGNocmlzLXdpbHNvbi5jby51
az4KPkNjOiBWYW5zaGlkaGFyIEtvbmRhIDx2YW5zaGlkaGFyLnIua29uZGFAaW50ZWwuY29tPgo+
Q2M6IE1hdHRoZXcgQXVsZCA8bWF0dGhldy5hdWxkQGludGVsLmNvbT4KPi0tLQo+IGRyaXZlcnMv
Z3B1L2RybS9pOTE1L2k5MTVfZHJ2LmggICAgICAgICAgICAgICB8ICA2ICsrCj4gZHJpdmVycy9n
cHUvZHJtL2k5MTUvc2VsZnRlc3RzL2k5MTVfcmVxdWVzdC5jIHwgNjMgKysrKysrKysrKysrKysr
KysrKwo+IDIgZmlsZXMgY2hhbmdlZCwgNjkgaW5zZXJ0aW9ucygrKQo+Cj5kaWZmIC0tZ2l0IGEv
ZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kcnYuaCBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5
MTVfZHJ2LmgKPmluZGV4IGEyMmQ5NjljYjM1Mi4uMGMzYWI2MDIwYmM2IDEwMDY0NAo+LS0tIGEv
ZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kcnYuaAo+KysrIGIvZHJpdmVycy9ncHUvZHJtL2k5
MTUvaTkxNV9kcnYuaAo+QEAgLTg5MSw2ICs4OTEsMTAgQEAgc3RydWN0IGludGVsX2NkY2xrX3N0
YXRlIHsKPiAJdTggdm9sdGFnZV9sZXZlbDsKPiB9Owo+Cj4rc3RydWN0IGk5MTVfc2VsZnRlc3Rf
c3Rhc2ggewo+KwlhdG9taWNfdCBjb3VudGVyOwo+K307Cj4rCj4gc3RydWN0IGRybV9pOTE1X3By
aXZhdGUgewo+IAlzdHJ1Y3QgZHJtX2RldmljZSBkcm07Cj4KPkBAIC0xMjg2LDYgKzEyOTAsOCBA
QCBzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSB7Cj4gCS8qIE11dGV4IHRvIHByb3RlY3QgdGhlIGFi
b3ZlIGhkY3AgY29tcG9uZW50IHJlbGF0ZWQgdmFsdWVzLiAqLwo+IAlzdHJ1Y3QgbXV0ZXggaGRj
cF9jb21wX211dGV4Owo+Cj4rCUk5MTVfU0VMRlRFU1RfREVDTEFSRShzdHJ1Y3QgaTkxNV9zZWxm
dGVzdF9zdGFzaCBzZWxmdGVzdDspCj4rCj4gCS8qCj4gCSAqIE5PVEU6IFRoaXMgaXMgdGhlIGRy
aTEvdW1zIGR1bmdlb24sIGRvbid0IGFkZCBzdHVmZiBoZXJlLiBZb3VyIHBhdGNoCj4gCSAqIHdp
bGwgYmUgcmVqZWN0ZWQuIEluc3RlYWQgbG9vayBmb3IgYSBiZXR0ZXIgcGxhY2UuCj5kaWZmIC0t
Z2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvc2VsZnRlc3RzL2k5MTVfcmVxdWVzdC5jIGIvZHJp
dmVycy9ncHUvZHJtL2k5MTUvc2VsZnRlc3RzL2k5MTVfcmVxdWVzdC5jCj5pbmRleCAzMGFlMzRm
NjIxNzYuLjYxODFiMzI3YjRhYyAxMDA2NDQKPi0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L3Nl
bGZ0ZXN0cy9pOTE1X3JlcXVlc3QuYwo+KysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvc2VsZnRl
c3RzL2k5MTVfcmVxdWVzdC5jCj5AQCAtMzIsNiArMzIsNyBAQAo+ICNpbmNsdWRlICJpOTE1X3Jh
bmRvbS5oIgo+ICNpbmNsdWRlICJpOTE1X3NlbGZ0ZXN0LmgiCj4gI2luY2x1ZGUgImlndF9saXZl
X3Rlc3QuaCIKPisjaW5jbHVkZSAiaWd0X3NwaW5uZXIuaCIKPiAjaW5jbHVkZSAibGliX3N3X2Zl
bmNlLmgiCj4KPiAjaW5jbHVkZSAibW9ja19kcm0uaCIKPkBAIC0xMTE1LDEyICsxMTE2LDcyIEBA
IHN0YXRpYyBpbnQgX19saXZlX3BhcmFsbGVsX2VuZ2luZU4odm9pZCAqYXJnKQo+IAlyZXR1cm4g
MDsKPiB9Cj4KPitzdGF0aWMgaW50IHdhaXRfZm9yX2FsbChzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0
ZSAqaTkxNSkKPit7Cj4rCWlmIChhdG9taWNfZGVjX2FuZF90ZXN0KCZpOTE1LT5zZWxmdGVzdC5j
b3VudGVyKSkgewo+KwkJd2FrZV91cF92YXIoJmk5MTUtPnNlbGZ0ZXN0LmNvdW50ZXIpOwo+KwkJ
cmV0dXJuIDA7Cj4rCX0KPisKPisJaWYgKHdhaXRfdmFyX2V2ZW50X3RpbWVvdXQoJmk5MTUtPnNl
bGZ0ZXN0LmNvdW50ZXIsCj4rCQkJCSAgICFhdG9taWNfcmVhZCgmaTkxNS0+c2VsZnRlc3QuY291
bnRlciksCj4rCQkJCSAgIGk5MTVfc2VsZnRlc3QudGltZW91dF9qaWZmaWVzKSkKPisJCXJldHVy
biAwOwo+Kwo+KwlyZXR1cm4gLUVUSU1FOwo+K30KPisKPitzdGF0aWMgaW50IF9fbGl2ZV9wYXJh
bGxlbF9zcGluKHZvaWQgKmFyZykKPit7Cj4rCXN0cnVjdCBpbnRlbF9lbmdpbmVfY3MgKmVuZ2lu
ZSA9IGFyZzsKPisJc3RydWN0IGlndF9zcGlubmVyIHNwaW47Cj4rCXN0cnVjdCBpOTE1X3JlcXVl
c3QgKnJxOwo+KwlpbnQgZXJyID0gMDsKPisKPisJLyoKPisJICogQ3JlYXRlIGEgc3Bpbm5lciBy
dW5uaW5nIGZvciBldGVybml0eSBvbiBlYWNoIGVuZ2luZS4gSWYgYSBzZWNvbmQKPisJICogc3Bp
bm5lciBpcyBpbmNvcnJlY3RseSBwbGFjZWQgb24gdGhlIHNhbWUgZW5naW5lLCBpdCB3aWxsIG5v
dCBiZQo+KwkgKiBhYmxlIHRvIHN0YXJ0IGluIHRpbWUuCj4rCSAqLwo+Kwo+KwlpZiAoaWd0X3Nw
aW5uZXJfaW5pdCgmc3BpbiwgZW5naW5lLT5ndCkpCj4rCQlyZXR1cm4gLUVOT01FTTsKPisKPisJ
cnEgPSBpZ3Rfc3Bpbm5lcl9jcmVhdGVfcmVxdWVzdCgmc3BpbiwKPisJCQkJCWVuZ2luZS0+a2Vy
bmVsX2NvbnRleHQsCj4rCQkJCQlNSV9OT09QKTsgLyogbm8gcHJlZW1wdGlvbiAqLwo+KwlpZiAo
SVNfRVJSKHJxKSkgewo+KwkJZXJyID0gUFRSX0VSUihycSk7Cj4rCQlnb3RvIG91dF9zcGluOwo+
Kwl9Cj4rCj4rCWk5MTVfcmVxdWVzdF9nZXQocnEpOwo+KwlpOTE1X3JlcXVlc3RfYWRkKHJxKTsK
PisJaWYgKGlndF93YWl0X2Zvcl9zcGlubmVyKCZzcGluLCBycSkpIHsKPisJCS8qIE9jY3VweSB0
aGlzIGVuZ2luZSBmb3IgdGhlIHdob2xlIHRlc3QgKi8KPisJCWVyciA9IHdhaXRfZm9yX2FsbChl
bmdpbmUtPmk5MTUpOwo+Kwl9IGVsc2Ugewo+KwkJcHJfZXJyKCJGYWlsZWQgdG8gc3RhcnQgc3Bp
bm5lciBvbiAlc1xuIiwgZW5naW5lLT5uYW1lKTsKPisJCWVyciA9IC1FSU5WQUw7Cj4rCX0KPisJ
aWd0X3NwaW5uZXJfZW5kKCZzcGluKTsKPisKPisJaWYgKGVyciA9PSAwICYmIGk5MTVfcmVxdWVz
dF93YWl0KHJxLCAwLCBIWiAvIDUpIDwgMCkKPisJCWVyciA9IC1FSU87Cj4rCWk5MTVfcmVxdWVz
dF9wdXQocnEpOwo+Kwo+K291dF9zcGluOgo+KwlpZ3Rfc3Bpbm5lcl9maW5pKCZzcGluKTsKPisJ
cmV0dXJuIGVycjsKPit9Cj4rCj4gc3RhdGljIGludCBsaXZlX3BhcmFsbGVsX2VuZ2luZXModm9p
ZCAqYXJnKQo+IHsKPiAJc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUgPSBhcmc7Cj4gCXN0
YXRpYyBpbnQgKCogY29uc3QgZnVuY1tdKSh2b2lkICphcmcpID0gewo+IAkJX19saXZlX3BhcmFs
bGVsX2VuZ2luZTEsCj4gCQlfX2xpdmVfcGFyYWxsZWxfZW5naW5lTiwKPisJCV9fbGl2ZV9wYXJh
bGxlbF9zcGluLAo+IAkJTlVMTCwKPiAJfTsKPiAJY29uc3QgdW5zaWduZWQgaW50IG5lbmdpbmVz
ID0gbnVtX3VhYmlfZW5naW5lcyhpOTE1KTsKPkBAIC0xMTQ2LDYgKzEyMDcsOCBAQCBzdGF0aWMg
aW50IGxpdmVfcGFyYWxsZWxfZW5naW5lcyh2b2lkICphcmcpCj4gCQlpZiAoZXJyKQo+IAkJCWJy
ZWFrOwo+Cj4rCQlhdG9taWNfc2V0KCZpOTE1LT5zZWxmdGVzdC5jb3VudGVyLCBuZW5naW5lcyk7
Cj4rCj4gCQlpZHggPSAwOwo+IAkJZm9yX2VhY2hfdWFiaV9lbmdpbmUoZW5naW5lLCBpOTE1KSB7
Cj4gCQkJdHNrW2lkeF0gPSBrdGhyZWFkX3J1bigqZm4sIGVuZ2luZSwKPi0tIAo+Mi4yNC4wLnJj
Mgo+CgpSZXZpZXdlZC1ieTogVmFuc2hpZGhhciBLb25kYSA8dmFuc2hpZGhhci5yLmtvbmRhQGlu
dGVsLmNvbT4KCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
CkludGVsLWdmeCBtYWlsaW5nIGxpc3QKSW50ZWwtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpo
dHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2ludGVsLWdmeA==

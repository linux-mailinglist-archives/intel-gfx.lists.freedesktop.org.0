Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 1F94A1BEDE
	for <lists+intel-gfx@lfdr.de>; Mon, 13 May 2019 22:56:52 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 2E25089237;
	Mon, 13 May 2019 20:56:49 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga02.intel.com (mga02.intel.com [134.134.136.20])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 82A3F89232
 for <intel-gfx@lists.freedesktop.org>; Mon, 13 May 2019 20:56:45 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from fmsmga007.fm.intel.com ([10.253.24.52])
 by orsmga101.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 13 May 2019 13:56:44 -0700
X-ExtLoop1: 1
Received: from jssummer-desk.ra.intel.com ([10.54.134.159])
 by fmsmga007.fm.intel.com with ESMTP; 13 May 2019 13:56:44 -0700
From: Stuart Summers <stuart.summers@intel.com>
To: intel-gfx@lists.freedesktop.org
Date: Mon, 13 May 2019 13:56:40 -0700
Message-Id: <20190513205643.16488-3-stuart.summers@intel.com>
X-Mailer: git-send-email 2.21.0.5.gaeb582a983
In-Reply-To: <20190513205643.16488-1-stuart.summers@intel.com>
References: <20190513205643.16488-1-stuart.summers@intel.com>
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH 2/5] drm/i915: Add macro for SSEU stride
 calculation
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

U3Vic2xpY2Ugc3RyaWRlIGFuZCBFVSBzdHJpZGUgYXJlIGNhbGN1bGF0ZWQgbXVsdGlwbGUgdGlt
ZXMgaW4KaTkxNV9xdWVyeS4gTW92ZSB0aGlzIGNhbGN1bGF0aW9uIHRvIGEgbWFjcm8gdG8gcmVk
dWNlIGNvZGUgZHVwbGljYXRpb24uCgp2MjogdXBkYXRlIGhlYWRlcnMgaW4gaW50ZWxfc3NldS5o
CnYzOiB1c2UgR0VOX1NTRVVfU1RSSURFIGZvciBzdHJpZGUgY2FsY3VsYXRpb25zIGluIGludGVs
X3NzZXUuaAogICAgYXBwbHkgcy9iaXRzL21heF9lbnRyaWVzLyB0byBHRU5fU1NFVV9TVFJJREUg
cGFyYW1ldGVyCgpDYzogRGFuaWVsZSBDZXJhb2xvIFNwdXJpbyA8ZGFuaWVsZS5jZXJhb2xvc3B1
cmlvQGludGVsLmNvbT4KUmV2aWV3ZWQtYnk6IERhbmllbGUgQ2VyYW9sbyBTcHVyaW8gPGRhbmll
bGUuY2VyYW9sb3NwdXJpb0BpbnRlbC5jb20+ClNpZ25lZC1vZmYtYnk6IFN0dWFydCBTdW1tZXJz
IDxzdHVhcnQuc3VtbWVyc0BpbnRlbC5jb20+Ci0tLQogZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3Qv
aW50ZWxfc3NldS5oICAgICB8ICAyICsrCiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3F1ZXJ5
LmMgICAgICAgIHwgMTcgKysrKysrKystLS0tLS0tLS0KIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2lu
dGVsX2RldmljZV9pbmZvLmggfCAgOSArKystLS0tLS0KIDMgZmlsZXMgY2hhbmdlZCwgMTMgaW5z
ZXJ0aW9ucygrKSwgMTUgZGVsZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJt
L2k5MTUvZ3QvaW50ZWxfc3NldS5oIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfc3Nl
dS5oCmluZGV4IDczYmM4MjQwOTRlOC4uZDIwYjdmOTY5MDdkIDEwMDY0NAotLS0gYS9kcml2ZXJz
L2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9zc2V1LmgKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUv
Z3QvaW50ZWxfc3NldS5oCkBAIC04LDExICs4LDEzIEBACiAjZGVmaW5lIF9fSU5URUxfU1NFVV9I
X18KIAogI2luY2x1ZGUgPGxpbnV4L3R5cGVzLmg+CisjaW5jbHVkZSA8bGludXgva2VybmVsLmg+
CiAKIHN0cnVjdCBkcm1faTkxNV9wcml2YXRlOwogCiAjZGVmaW5lIEdFTl9NQVhfU0xJQ0VTCQko
NikgLyogQ05MIHVwcGVyIGJvdW5kICovCiAjZGVmaW5lIEdFTl9NQVhfU1VCU0xJQ0VTCSg4KSAv
KiBJQ0wgdXBwZXIgYm91bmQgKi8KKyNkZWZpbmUgR0VOX1NTRVVfU1RSSURFKG1heF9lbnRyaWVz
KSBESVZfUk9VTkRfVVAobWF4X2VudHJpZXMsIEJJVFNfUEVSX0JZVEUpCiAKIHN0cnVjdCBzc2V1
X2Rldl9pbmZvIHsKIAl1OCBzbGljZV9tYXNrOwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJt
L2k5MTUvaTkxNV9xdWVyeS5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9xdWVyeS5jCmlu
ZGV4IDc4MjE4M2I3OGY0OS4uN2MxNzA4YzIyODExIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9k
cm0vaTkxNS9pOTE1X3F1ZXJ5LmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9xdWVy
eS5jCkBAIC0zNyw2ICszNyw4IEBAIHN0YXRpYyBpbnQgcXVlcnlfdG9wb2xvZ3lfaW5mbyhzdHJ1
Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYsCiAJY29uc3Qgc3RydWN0IHNzZXVfZGV2X2lu
Zm8gKnNzZXUgPSAmUlVOVElNRV9JTkZPKGRldl9wcml2KS0+c3NldTsKIAlzdHJ1Y3QgZHJtX2k5
MTVfcXVlcnlfdG9wb2xvZ3lfaW5mbyB0b3BvOwogCXUzMiBzbGljZV9sZW5ndGgsIHN1YnNsaWNl
X2xlbmd0aCwgZXVfbGVuZ3RoLCB0b3RhbF9sZW5ndGg7CisJdTggc3Vic2xpY2Vfc3RyaWRlID0g
R0VOX1NTRVVfU1RSSURFKHNzZXUtPm1heF9zdWJzbGljZXMpOworCXU4IGV1X3N0cmlkZSA9IEdF
Tl9TU0VVX1NUUklERShzc2V1LT5tYXhfZXVzX3Blcl9zdWJzbGljZSk7CiAJaW50IHJldDsKIAog
CWlmIChxdWVyeV9pdGVtLT5mbGFncyAhPSAwKQpAQCAtNDgsMTIgKzUwLDEwIEBAIHN0YXRpYyBp
bnQgcXVlcnlfdG9wb2xvZ3lfaW5mbyhzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYs
CiAJQlVJTERfQlVHX09OKHNpemVvZih1OCkgIT0gc2l6ZW9mKHNzZXUtPnNsaWNlX21hc2spKTsK
IAogCXNsaWNlX2xlbmd0aCA9IHNpemVvZihzc2V1LT5zbGljZV9tYXNrKTsKLQlzdWJzbGljZV9s
ZW5ndGggPSBzc2V1LT5tYXhfc2xpY2VzICoKLQkJRElWX1JPVU5EX1VQKHNzZXUtPm1heF9zdWJz
bGljZXMsIEJJVFNfUEVSX0JZVEUpOwotCWV1X2xlbmd0aCA9IHNzZXUtPm1heF9zbGljZXMgKiBz
c2V1LT5tYXhfc3Vic2xpY2VzICoKLQkJRElWX1JPVU5EX1VQKHNzZXUtPm1heF9ldXNfcGVyX3N1
YnNsaWNlLCBCSVRTX1BFUl9CWVRFKTsKLQotCXRvdGFsX2xlbmd0aCA9IHNpemVvZih0b3BvKSAr
IHNsaWNlX2xlbmd0aCArIHN1YnNsaWNlX2xlbmd0aCArIGV1X2xlbmd0aDsKKwlzdWJzbGljZV9s
ZW5ndGggPSBzc2V1LT5tYXhfc2xpY2VzICogc3Vic2xpY2Vfc3RyaWRlOworCWV1X2xlbmd0aCA9
IHNzZXUtPm1heF9zbGljZXMgKiBzc2V1LT5tYXhfc3Vic2xpY2VzICogZXVfc3RyaWRlOworCXRv
dGFsX2xlbmd0aCA9IHNpemVvZih0b3BvKSArIHNsaWNlX2xlbmd0aCArIHN1YnNsaWNlX2xlbmd0
aCArCisJCSAgICAgICBldV9sZW5ndGg7CiAKIAlyZXQgPSBjb3B5X3F1ZXJ5X2l0ZW0oJnRvcG8s
IHNpemVvZih0b3BvKSwgdG90YWxfbGVuZ3RoLAogCQkJICAgICAgcXVlcnlfaXRlbSk7CkBAIC02
OSwxMCArNjksOSBAQCBzdGF0aWMgaW50IHF1ZXJ5X3RvcG9sb2d5X2luZm8oc3RydWN0IGRybV9p
OTE1X3ByaXZhdGUgKmRldl9wcml2LAogCXRvcG8ubWF4X2V1c19wZXJfc3Vic2xpY2UgPSBzc2V1
LT5tYXhfZXVzX3Blcl9zdWJzbGljZTsKIAogCXRvcG8uc3Vic2xpY2Vfb2Zmc2V0ID0gc2xpY2Vf
bGVuZ3RoOwotCXRvcG8uc3Vic2xpY2Vfc3RyaWRlID0gRElWX1JPVU5EX1VQKHNzZXUtPm1heF9z
dWJzbGljZXMsIEJJVFNfUEVSX0JZVEUpOworCXRvcG8uc3Vic2xpY2Vfc3RyaWRlID0gc3Vic2xp
Y2Vfc3RyaWRlOwogCXRvcG8uZXVfb2Zmc2V0ID0gc2xpY2VfbGVuZ3RoICsgc3Vic2xpY2VfbGVu
Z3RoOwotCXRvcG8uZXVfc3RyaWRlID0KLQkJRElWX1JPVU5EX1VQKHNzZXUtPm1heF9ldXNfcGVy
X3N1YnNsaWNlLCBCSVRTX1BFUl9CWVRFKTsKKwl0b3BvLmV1X3N0cmlkZSA9IGV1X3N0cmlkZTsK
IAogCWlmIChfX2NvcHlfdG9fdXNlcih1NjRfdG9fdXNlcl9wdHIocXVlcnlfaXRlbS0+ZGF0YV9w
dHIpLAogCQkJICAgJnRvcG8sIHNpemVvZih0b3BvKSkpCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dw
dS9kcm0vaTkxNS9pbnRlbF9kZXZpY2VfaW5mby5oIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50
ZWxfZGV2aWNlX2luZm8uaAppbmRleCA1YTJlMTdkNjE0NmIuLjlkNDNmN2VkZmQ2MyAxMDA2NDQK
LS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfZGV2aWNlX2luZm8uaAorKysgYi9kcml2
ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9kZXZpY2VfaW5mby5oCkBAIC0yMzEsOCArMjMxLDcgQEAg
c3RhdGljIGlubGluZSB1bnNpZ25lZCBpbnQgc3NldV9zdWJzbGljZV90b3RhbChjb25zdCBzdHJ1
Y3Qgc3NldV9kZXZfaW5mbyAqc3NldSkKIHN0YXRpYyBpbmxpbmUgaW50IHNzZXVfZXVfaWR4KGNv
bnN0IHN0cnVjdCBzc2V1X2Rldl9pbmZvICpzc2V1LAogCQkJICAgICAgaW50IHNsaWNlLCBpbnQg
c3Vic2xpY2UpCiB7Ci0JaW50IHN1YnNsaWNlX3N0cmlkZSA9IERJVl9ST1VORF9VUChzc2V1LT5t
YXhfZXVzX3Blcl9zdWJzbGljZSwKLQkJCQkJICAgQklUU19QRVJfQllURSk7CisJaW50IHN1YnNs
aWNlX3N0cmlkZSA9IEdFTl9TU0VVX1NUUklERShzc2V1LT5tYXhfZXVzX3Blcl9zdWJzbGljZSk7
CiAJaW50IHNsaWNlX3N0cmlkZSA9IHNzZXUtPm1heF9zdWJzbGljZXMgKiBzdWJzbGljZV9zdHJp
ZGU7CiAKIAlyZXR1cm4gc2xpY2UgKiBzbGljZV9zdHJpZGUgKyBzdWJzbGljZSAqIHN1YnNsaWNl
X3N0cmlkZTsKQEAgLTI0NCw4ICsyNDMsNyBAQCBzdGF0aWMgaW5saW5lIHUxNiBzc2V1X2dldF9l
dXMoY29uc3Qgc3RydWN0IHNzZXVfZGV2X2luZm8gKnNzZXUsCiAJaW50IGksIG9mZnNldCA9IHNz
ZXVfZXVfaWR4KHNzZXUsIHNsaWNlLCBzdWJzbGljZSk7CiAJdTE2IGV1X21hc2sgPSAwOwogCi0J
Zm9yIChpID0gMDsKLQkgICAgIGkgPCBESVZfUk9VTkRfVVAoc3NldS0+bWF4X2V1c19wZXJfc3Vi
c2xpY2UsIEJJVFNfUEVSX0JZVEUpOyBpKyspIHsKKwlmb3IgKGkgPSAwOyBpIDwgR0VOX1NTRVVf
U1RSSURFKHNzZXUtPm1heF9ldXNfcGVyX3N1YnNsaWNlKTsgaSsrKSB7CiAJCWV1X21hc2sgfD0g
KCh1MTYpIHNzZXUtPmV1X21hc2tbb2Zmc2V0ICsgaV0pIDw8CiAJCQkoaSAqIEJJVFNfUEVSX0JZ
VEUpOwogCX0KQEAgLTI1OCw4ICsyNTYsNyBAQCBzdGF0aWMgaW5saW5lIHZvaWQgc3NldV9zZXRf
ZXVzKHN0cnVjdCBzc2V1X2Rldl9pbmZvICpzc2V1LAogewogCWludCBpLCBvZmZzZXQgPSBzc2V1
X2V1X2lkeChzc2V1LCBzbGljZSwgc3Vic2xpY2UpOwogCi0JZm9yIChpID0gMDsKLQkgICAgIGkg
PCBESVZfUk9VTkRfVVAoc3NldS0+bWF4X2V1c19wZXJfc3Vic2xpY2UsIEJJVFNfUEVSX0JZVEUp
OyBpKyspIHsKKwlmb3IgKGkgPSAwOyBpIDwgR0VOX1NTRVVfU1RSSURFKHNzZXUtPm1heF9ldXNf
cGVyX3N1YnNsaWNlKTsgaSsrKSB7CiAJCXNzZXUtPmV1X21hc2tbb2Zmc2V0ICsgaV0gPQogCQkJ
KGV1X21hc2sgPj4gKEJJVFNfUEVSX0JZVEUgKiBpKSkgJiAweGZmOwogCX0KLS0gCjIuMjEuMC41
LmdhZWI1ODJhOTgzCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fXwpJbnRlbC1nZnggbWFpbGluZyBsaXN0CkludGVsLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5v
cmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9pbnRlbC1n
Zng=

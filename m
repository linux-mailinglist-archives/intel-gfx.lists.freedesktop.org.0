Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 1EFA21C8FE
	for <lists+intel-gfx@lfdr.de>; Tue, 14 May 2019 14:47:12 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 412B489295;
	Tue, 14 May 2019 12:47:10 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga17.intel.com (mga17.intel.com [192.55.52.151])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 70357890CD;
 Tue, 14 May 2019 12:47:08 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga007.jf.intel.com ([10.7.209.58])
 by fmsmga107.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 14 May 2019 05:47:07 -0700
X-ExtLoop1: 1
Received: from lstanule-mobl1.ger.corp.intel.com (HELO [10.252.8.33])
 ([10.252.8.33])
 by orsmga007.jf.intel.com with ESMTP; 14 May 2019 05:47:05 -0700
To: Chris Wilson <chris@chris-wilson.co.uk>, intel-gfx@lists.freedesktop.org
References: <20190508100958.32637-1-chris@chris-wilson.co.uk>
 <20190508100958.32637-9-chris@chris-wilson.co.uk>
From: Tvrtko Ursulin <tvrtko.ursulin@linux.intel.com>
Organization: Intel Corporation UK Plc
Message-ID: <7c22693d-cd85-e9da-8be6-732b60fda033@linux.intel.com>
Date: Tue, 14 May 2019 13:47:47 +0100
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101
 Thunderbird/60.6.1
MIME-Version: 1.0
In-Reply-To: <20190508100958.32637-9-chris@chris-wilson.co.uk>
Content-Language: en-US
Subject: Re: [Intel-gfx] [PATCH i-g-t 09/16] i915/gem_ctx_switch: Exercise
 queues
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: igt-dev@lists.freedesktop.org
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

Ck9uIDA4LzA1LzIwMTkgMTE6MDksIENocmlzIFdpbHNvbiB3cm90ZToKPiBRdWV1ZXMgYXJlIGEg
Zm9ybSBvZiBjb250ZXh0cyB0aGF0IHNoYXJlIHZtIGFuZCBlbmZvcmUgYSBzaW5nbGUgdGltZWxp
bmUKPiBhY3Jvc3MgYWxsIGVuZ2luZXMuIFRlc3Qgc3dpdGNoaW5nIGJldHdlZW4gdGhlbSwganVz
dCBsaWtlIG9yZGluYXJ5Cj4gY29udGV4dHMuCj4gCj4gU2lnbmVkLW9mZi1ieTogQ2hyaXMgV2ls
c29uIDxjaHJpc0BjaHJpcy13aWxzb24uY28udWs+Cj4gLS0tCj4gICB0ZXN0cy9pOTE1L2dlbV9j
dHhfc3dpdGNoLmMgfCA3NSArKysrKysrKysrKysrKysrKysrKysrKysrKystLS0tLS0tLS0tCj4g
ICAxIGZpbGUgY2hhbmdlZCwgNTUgaW5zZXJ0aW9ucygrKSwgMjAgZGVsZXRpb25zKC0pCj4gCj4g
ZGlmZiAtLWdpdCBhL3Rlc3RzL2k5MTUvZ2VtX2N0eF9zd2l0Y2guYyBiL3Rlc3RzL2k5MTUvZ2Vt
X2N0eF9zd2l0Y2guYwo+IGluZGV4IDg3ZTEzYjkxNS4uNjQ3OTExZDRjIDEwMDY0NAo+IC0tLSBh
L3Rlc3RzL2k5MTUvZ2VtX2N0eF9zd2l0Y2guYwo+ICsrKyBiL3Rlc3RzL2k5MTUvZ2VtX2N0eF9z
d2l0Y2guYwo+IEBAIC00NCw3ICs0NCw4IEBACj4gICAjZGVmaW5lIExPQ0FMX0k5MTVfRVhFQ19O
T19SRUxPQyAoMTw8MTEpCj4gICAjZGVmaW5lIExPQ0FMX0k5MTVfRVhFQ19IQU5ETEVfTFVUICgx
PDwxMikKPiAgIAo+IC0jZGVmaW5lIElOVEVSUlVQVElCTEUgMQo+ICsjZGVmaW5lIElOVEVSUlVQ
VElCTEUgMHgxCj4gKyNkZWZpbmUgUVVFVUUgMHgyCj4gICAKPiAgIHN0YXRpYyBkb3VibGUgZWxh
cHNlZChjb25zdCBzdHJ1Y3QgdGltZXNwZWMgKnN0YXJ0LCBjb25zdCBzdHJ1Y3QgdGltZXNwZWMg
KmVuZCkKPiAgIHsKPiBAQCAtMTI2LDggKzEyNywxMiBAQCBzdGF0aWMgdm9pZCBzaW5nbGUoaW50
IGZkLCB1aW50MzJfdCBoYW5kbGUsCj4gICAKPiAgIAlnZW1fcmVxdWlyZV9yaW5nKGZkLCBlLT5l
eGVjX2lkIHwgZS0+ZmxhZ3MpOwo+ICAgCj4gLQlmb3IgKG4gPSAwOyBuIDwgNjQ7IG4rKykKPiAt
CQljb250ZXh0c1tuXSA9IGdlbV9jb250ZXh0X2NyZWF0ZShmZCk7Cj4gKwlmb3IgKG4gPSAwOyBu
IDwgNjQ7IG4rKykgewo+ICsJCWlmIChmbGFncyAmIFFVRVVFKQo+ICsJCQljb250ZXh0c1tuXSA9
IGdlbV9xdWV1ZV9jcmVhdGUoZmQpOwo+ICsJCWVsc2UKPiArCQkJY29udGV4dHNbbl0gPSBnZW1f
Y29udGV4dF9jcmVhdGUoZmQpOwo+ICsJfQo+ICAgCj4gICAJbWVtc2V0KCZvYmosIDAsIHNpemVv
ZihvYmopKTsKPiAgIAlvYmouaGFuZGxlID0gaGFuZGxlOwo+IEBAIC0yMzIsOCArMjM3LDEyIEBA
IHN0YXRpYyB2b2lkIGFsbChpbnQgZmQsIHVpbnQzMl90IGhhbmRsZSwgdW5zaWduZWQgZmxhZ3Ms
IGludCB0aW1lb3V0KQo+ICAgCX0KPiAgIAlpZ3RfcmVxdWlyZShuZW5naW5lKTsKPiAgIAo+IC0J
Zm9yIChuID0gMDsgbiA8IEFSUkFZX1NJWkUoY29udGV4dHMpOyBuKyspCj4gLQkJY29udGV4dHNb
bl0gPSBnZW1fY29udGV4dF9jcmVhdGUoZmQpOwo+ICsJZm9yIChuID0gMDsgbiA8IEFSUkFZX1NJ
WkUoY29udGV4dHMpOyBuKyspIHsKPiArCQlpZiAoZmxhZ3MgJiBRVUVVRSkKPiArCQkJY29udGV4
dHNbbl0gPSBnZW1fcXVldWVfY3JlYXRlKGZkKTsKPiArCQllbHNlCj4gKwkJCWNvbnRleHRzW25d
ID0gZ2VtX2NvbnRleHRfY3JlYXRlKGZkKTsKPiArCX0KPiAgIAo+ICAgCW1lbXNldChvYmosIDAs
IHNpemVvZihvYmopKTsKPiAgIAlvYmpbMV0uaGFuZGxlID0gaGFuZGxlOwo+IEBAIC0yOTgsNiAr
MzA3LDE3IEBAIGlndF9tYWluCj4gICB7Cj4gICAJY29uc3QgaW50IG5jcHVzID0gc3lzY29uZihf
U0NfTlBST0NFU1NPUlNfT05MTik7Cj4gICAJY29uc3Qgc3RydWN0IGludGVsX2V4ZWN1dGlvbl9l
bmdpbmUgKmU7Cj4gKwlzdGF0aWMgY29uc3Qgc3RydWN0IHsKPiArCQljb25zdCBjaGFyICpuYW1l
Owo+ICsJCXVuc2lnbmVkIGludCBmbGFnczsKPiArCQlib29sICgqcmVxdWlyZSkoaW50IGZkKTsK
PiArCX0gcGhhc2VzW10gPSB7Cj4gKwkJeyAiIiwgMCwgTlVMTCB9LAo+ICsJCXsgIi1pbnRlcnJ1
cHRpYmxlIiwgSU5URVJSVVBUSUJMRSwgTlVMTCB9LAo+ICsJCXsgIi1xdWV1ZSIsIFFVRVVFLCBn
ZW1faGFzX3F1ZXVlcyB9LAo+ICsJCXsgIi1xdWV1ZS1pbnRlcnJ1cHRpYmxlIiwgUVVFVUUgfCBJ
TlRFUlJVUFRJQkxFLCBnZW1faGFzX3F1ZXVlcyB9LAo+ICsJCXsgfQo+ICsJfTsKPiAgIAl1aW50
MzJfdCBsaWdodCA9IDAsIGhlYXZ5Owo+ICAgCWludCBmZCA9IC0xOwo+ICAgCj4gQEAgLTMxOSwy
MSArMzM5LDI2IEBAIGlndF9tYWluCj4gICAJfQo+ICAgCj4gICAJZm9yIChlID0gaW50ZWxfZXhl
Y3V0aW9uX2VuZ2luZXM7IGUtPm5hbWU7IGUrKykgewo+IC0JCWlndF9zdWJ0ZXN0X2YoIiVzJXMi
LCBlLT5leGVjX2lkID09IDAgPyAiYmFzaWMtIiA6ICIiLCBlLT5uYW1lKQo+IC0JCQlzaW5nbGUo
ZmQsIGxpZ2h0LCBlLCAwLCAxLCA1KTsKPiAtCj4gLQkJaWd0X3NraXBfb25fc2ltdWxhdGlvbigp
Owo+IC0KPiAtCQlpZ3Rfc3VidGVzdF9mKCIlcyVzLWhlYXZ5IiwgZS0+ZXhlY19pZCA9PSAwID8g
ImJhc2ljLSIgOiAiIiwgZS0+bmFtZSkKPiAtCQkJc2luZ2xlKGZkLCBoZWF2eSwgZSwgMCwgMSwg
NSk7Cj4gLQkJaWd0X3N1YnRlc3RfZigiJXMtaW50ZXJydXB0aWJsZSIsIGUtPm5hbWUpCj4gLQkJ
CXNpbmdsZShmZCwgbGlnaHQsIGUsIElOVEVSUlVQVElCTEUsIDEsIDE1MCk7Cj4gLQkJaWd0X3N1
YnRlc3RfZigiZm9ya2VkLSVzIiwgZS0+bmFtZSkKPiAtCQkJc2luZ2xlKGZkLCBsaWdodCwgZSwg
MCwgbmNwdXMsIDE1MCk7Cj4gLQkJaWd0X3N1YnRlc3RfZigiZm9ya2VkLSVzLWhlYXZ5IiwgZS0+
bmFtZSkKPiAtCQkJc2luZ2xlKGZkLCBoZWF2eSwgZSwgMCwgbmNwdXMsIDE1MCk7Cj4gLQkJaWd0
X3N1YnRlc3RfZigiZm9ya2VkLSVzLWludGVycnVwdGlibGUiLCBlLT5uYW1lKQo+IC0JCQlzaW5n
bGUoZmQsIGxpZ2h0LCBlLCBJTlRFUlJVUFRJQkxFLCBuY3B1cywgMTUwKTsKPiArCQlmb3IgKHR5
cGVvZigqcGhhc2VzKSAqcCA9IHBoYXNlczsgcC0+bmFtZTsgcCsrKSB7Cj4gKwkJCWlndF9zdWJ0
ZXN0X2dyb3VwIHsKPiArCQkJCWlndF9maXh0dXJlIHsKPiArCQkJCQlpZiAocC0+cmVxdWlyZSkK
PiArCQkJCQkJaWd0X3JlcXVpcmUocC0+cmVxdWlyZShmZCkpOwo+ICsJCQkJfQo+ICsKPiArCQkJ
CWlndF9zdWJ0ZXN0X2YoIiVzJXMlcyIsIGUtPmV4ZWNfaWQgPT0gMCA/ICJiYXNpYy0iIDogIiIs
IGUtPm5hbWUsIHAtPm5hbWUpCj4gKwkJCQkJc2luZ2xlKGZkLCBsaWdodCwgZSwgcC0+ZmxhZ3Ms
IDEsIDUpOwo+ICsKPiArCQkJCWlndF9za2lwX29uX3NpbXVsYXRpb24oKTsKPiArCj4gKwkJCQlp
Z3Rfc3VidGVzdF9mKCIlcyVzLWhlYXZ5JXMiLCBlLT5leGVjX2lkID09IDAgPyAiYmFzaWMtIiA6
ICIiLCBlLT5uYW1lLCBwLT5uYW1lKQo+ICsJCQkJCXNpbmdsZShmZCwgaGVhdnksIGUsIHAtPmZs
YWdzLCAxLCA1KTsKPiArCQkJCWlndF9zdWJ0ZXN0X2YoImZvcmtlZC0lcyVzIiwgZS0+bmFtZSwg
cC0+bmFtZSkKPiArCQkJCQlzaW5nbGUoZmQsIGxpZ2h0LCBlLCBwLT5mbGFncywgbmNwdXMsIDE1
MCk7Cj4gKwkJCQlpZ3Rfc3VidGVzdF9mKCJmb3JrZWQtJXMtaGVhdnklcyIsIGUtPm5hbWUsIHAt
Pm5hbWUpCj4gKwkJCQkJc2luZ2xlKGZkLCBoZWF2eSwgZSwgcC0+ZmxhZ3MsIG5jcHVzLCAxNTAp
Owo+ICsJCQl9Cj4gKwkJfQo+ICAgCX0KPiAgIAo+ICAgCWlndF9zdWJ0ZXN0KCJiYXNpYy1hbGwt
bGlnaHQiKQo+IEBAIC0zNDEsNiArMzY2LDE2IEBAIGlndF9tYWluCj4gICAJaWd0X3N1YnRlc3Qo
ImJhc2ljLWFsbC1oZWF2eSIpCj4gICAJCWFsbChmZCwgaGVhdnksIDAsIDUpOwo+ICAgCj4gKwlp
Z3Rfc3VidGVzdF9ncm91cCB7Cj4gKwkJaWd0X2ZpeHR1cmUgewo+ICsJCQlpZ3RfcmVxdWlyZShn
ZW1faGFzX3F1ZXVlcyhmZCkpOwo+ICsJCX0KPiArCQlpZ3Rfc3VidGVzdCgiYmFzaWMtcXVldWUt
bGlnaHQiKQo+ICsJCQlhbGwoZmQsIGxpZ2h0LCBRVUVVRSwgNSk7Cj4gKwkJaWd0X3N1YnRlc3Qo
ImJhc2ljLXF1ZXVlLWhlYXZ5IikKPiArCQkJYWxsKGZkLCBoZWF2eSwgUVVFVUUsIDUpOwo+ICsJ
fQo+ICsKPiAgIAlpZ3RfZml4dHVyZSB7Cj4gICAJCWlndF9zdG9wX2hhbmdfZGV0ZWN0b3IoKTsK
PiAgIAkJZ2VtX2Nsb3NlKGZkLCBoZWF2eSk7Cj4gCgpSZXZpZXdlZC1ieTogVHZydGtvIFVyc3Vs
aW4gPHR2cnRrby51cnN1bGluQGludGVsLmNvbT4KClJlZ2FyZHMsCgpUdnJ0a28KX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KSW50ZWwtZ2Z4IG1haWxpbmcg
bGlzdApJbnRlbC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRl
c2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vaW50ZWwtZ2Z4

Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id C9F0387F20
	for <lists+intel-gfx@lfdr.de>; Fri,  9 Aug 2019 18:13:02 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id D93F56EE52;
	Fri,  9 Aug 2019 16:13:00 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga12.intel.com (mga12.intel.com [192.55.52.136])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 94B426EE52
 for <intel-gfx@lists.freedesktop.org>; Fri,  9 Aug 2019 16:12:59 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga005.jf.intel.com ([10.7.209.41])
 by fmsmga106.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 09 Aug 2019 09:12:59 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.64,364,1559545200"; d="scan'208";a="350532217"
Received: from gaia.fi.intel.com ([10.237.72.192])
 by orsmga005.jf.intel.com with ESMTP; 09 Aug 2019 09:12:57 -0700
Received: by gaia.fi.intel.com (Postfix, from userid 1000)
 id DD64F5C1E43; Fri,  9 Aug 2019 19:12:20 +0300 (EEST)
From: Mika Kuoppala <mika.kuoppala@linux.intel.com>
To: Chris Wilson <chris@chris-wilson.co.uk>, intel-gfx@lists.freedesktop.org
In-Reply-To: <20190809154146.16397-1-chris@chris-wilson.co.uk>
References: <20190809154146.16397-1-chris@chris-wilson.co.uk>
Date: Fri, 09 Aug 2019 19:12:20 +0300
Message-ID: <874l2q8gij.fsf@gaia.fi.intel.com>
MIME-Version: 1.0
Subject: Re: [Intel-gfx] [PATCH 1/4] drm/i915: Remove
 i915_gem_context_create_gvt()
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

Q2hyaXMgV2lsc29uIDxjaHJpc0BjaHJpcy13aWxzb24uY28udWs+IHdyaXRlczoKCj4gQXMgd2Ug
YXJlIHBoYXNpbmcgb3V0IHVzaW5nIHRoZSBHRU0gY29udGV4dCBmb3IgaW50ZXJuYWwgY2xpZW50
cyB0aGF0Cj4gbmVlZCB0byBtYW5pcHVsYXRlIGxvZ2ljYWwgY29udGV4dCBzdGF0ZSBkaXJlY3Rs
eSwgcmVtb3ZlIHRoZQo+IGNvbnN0cnVjdG9yIGZvciB0aGUgR1ZUIGNvbnRleHQuIFdlIGFyZSBu
b3QgdXNpbmcgaXQgZm9yIGFueXRoaW5nIG90aGVyCj4gdGhhbiBkZWZhdWx0IHNldHVwIGFuZCBh
bGxvY2F0aW9uIG9mIGFuIGk5MTVfcHBndHQuCj4KPiBTaWduZWQtb2ZmLWJ5OiBDaHJpcyBXaWxz
b24gPGNocmlzQGNocmlzLXdpbHNvbi5jby51az4KCk5vdCBmYW1pbGlhciB3aXRoIGd2dCBidXQg
c2VlbXMgdG8gY3JlYXRlIHNpbWlsYXIgZW5vdWdoCmNvbnRleHQuIAoKSGlnaGVyIHByaW9yaXR5
LCBub3QgY2xvc2VkIGFuZCB1c2luZyBtb3JlIHN0cmljdApsb2NrLgoKQXMgZGlzY3Vzc2VkIGlu
IGlyYywgY2xvc2VkIGlzIGZvciBleGVjYnVmIHZlcmlmaWNhdGlvbgpzbyB3ZSB3b24ndCBiZSBn
YWluaW5nIGFueSB3YXJuaW5nIGNvdmVyYWdlLgoKUmV2aWV3ZWQtYnk6IE1pa2EgS3VvcHBhbGEg
PG1pa2Eua3VvcHBhbGFAbGludXguaW50ZWwuY29tPgoKPiAtLS0KPiAgZHJpdmVycy9ncHUvZHJt
L2k5MTUvZ2VtL2k5MTVfZ2VtX2NvbnRleHQuYyB8IDQ3IC0tLS0tLS0tLS0tLS0tLS0tLS0tLQo+
ICBkcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fY29udGV4dC5oIHwgIDIgLQo+ICBk
cml2ZXJzL2dwdS9kcm0vaTkxNS9ndnQvc2NoZWR1bGVyLmMgICAgICAgIHwgMjIgKysrKysrKy0t
LQo+ICAzIGZpbGVzIGNoYW5nZWQsIDE3IGluc2VydGlvbnMoKyksIDU0IGRlbGV0aW9ucygtKQo+
Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9jb250ZXh0
LmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fY29udGV4dC5jCj4gaW5kZXgg
YjQwN2JhYWYwMDE0Li5hZmQ5OTQzOTFhZDcgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJt
L2k5MTUvZ2VtL2k5MTVfZ2VtX2NvbnRleHQuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1
L2dlbS9pOTE1X2dlbV9jb250ZXh0LmMKPiBAQCAtNTI5LDUzICs1MjksNiBAQCBpOTE1X2dlbV9j
cmVhdGVfY29udGV4dChzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYsIHVuc2lnbmVk
IGludCBmbGFncykKPiAgCXJldHVybiBjdHg7Cj4gIH0KPiAgCj4gLS8qKgo+IC0gKiBpOTE1X2dl
bV9jb250ZXh0X2NyZWF0ZV9ndnQgLSBjcmVhdGUgYSBHVlQgR0VNIGNvbnRleHQKPiAtICogQGRl
djogZHJtIGRldmljZSAqCj4gLSAqCj4gLSAqIFRoaXMgZnVuY3Rpb24gaXMgdXNlZCB0byBjcmVh
dGUgYSBHVlQgc3BlY2lmaWMgR0VNIGNvbnRleHQuCj4gLSAqCj4gLSAqIFJldHVybnM6Cj4gLSAq
IHBvaW50ZXIgdG8gaTkxNV9nZW1fY29udGV4dCBvbiBzdWNjZXNzLCBlcnJvciBwb2ludGVyIGlm
IGZhaWxlZAo+IC0gKgo+IC0gKi8KPiAtc3RydWN0IGk5MTVfZ2VtX2NvbnRleHQgKgo+IC1pOTE1
X2dlbV9jb250ZXh0X2NyZWF0ZV9ndnQoc3RydWN0IGRybV9kZXZpY2UgKmRldikKPiAtewo+IC0J
c3RydWN0IGk5MTVfZ2VtX2NvbnRleHQgKmN0eDsKPiAtCWludCByZXQ7Cj4gLQo+IC0JaWYgKCFJ
U19FTkFCTEVEKENPTkZJR19EUk1fSTkxNV9HVlQpKQo+IC0JCXJldHVybiBFUlJfUFRSKC1FTk9E
RVYpOwo+IC0KPiAtCXJldCA9IGk5MTVfbXV0ZXhfbG9ja19pbnRlcnJ1cHRpYmxlKGRldik7Cj4g
LQlpZiAocmV0KQo+IC0JCXJldHVybiBFUlJfUFRSKHJldCk7Cj4gLQo+IC0JY3R4ID0gaTkxNV9n
ZW1fY3JlYXRlX2NvbnRleHQodG9faTkxNShkZXYpLCAwKTsKPiAtCWlmIChJU19FUlIoY3R4KSkK
PiAtCQlnb3RvIG91dDsKPiAtCj4gLQlyZXQgPSBpOTE1X2dlbV9jb250ZXh0X3Bpbl9od19pZChj
dHgpOwo+IC0JaWYgKHJldCkgewo+IC0JCWNvbnRleHRfY2xvc2UoY3R4KTsKPiAtCQljdHggPSBF
UlJfUFRSKHJldCk7Cj4gLQkJZ290byBvdXQ7Cj4gLQl9Cj4gLQo+IC0JY3R4LT5maWxlX3ByaXYg
PSBFUlJfUFRSKC1FQkFERik7Cj4gLQlpOTE1X2dlbV9jb250ZXh0X3NldF9jbG9zZWQoY3R4KTsg
Lyogbm90IHVzZXIgYWNjZXNzaWJsZSAqLwo+IC0JaTkxNV9nZW1fY29udGV4dF9jbGVhcl9iYW5u
YWJsZShjdHgpOwo+IC0JaTkxNV9nZW1fY29udGV4dF9zZXRfZm9yY2Vfc2luZ2xlX3N1Ym1pc3Np
b24oY3R4KTsKPiAtCWlmICghVVNFU19HVUNfU1VCTUlTU0lPTih0b19pOTE1KGRldikpKQo+IC0J
CWN0eC0+cmluZ19zaXplID0gNTEyICogUEFHRV9TSVpFOyAvKiBNYXggcmluZyBidWZmZXIgc2l6
ZSAqLwo+IC0KPiAtCUdFTV9CVUdfT04oaTkxNV9nZW1fY29udGV4dF9pc19rZXJuZWwoY3R4KSk7
Cj4gLW91dDoKPiAtCW11dGV4X3VubG9jaygmZGV2LT5zdHJ1Y3RfbXV0ZXgpOwo+IC0JcmV0dXJu
IGN0eDsKPiAtfQo+IC0KPiAgc3RhdGljIHZvaWQKPiAgZGVzdHJveV9rZXJuZWxfY29udGV4dChz
dHJ1Y3QgaTkxNV9nZW1fY29udGV4dCAqKmN0eHApCj4gIHsKPiBkaWZmIC0tZ2l0IGEvZHJpdmVy
cy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX2NvbnRleHQuaCBiL2RyaXZlcnMvZ3B1L2RybS9p
OTE1L2dlbS9pOTE1X2dlbV9jb250ZXh0LmgKPiBpbmRleCAxMDZlMmNjZjdhNGMuLjE3Njk3ODYw
OGI2ZiAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fY29u
dGV4dC5oCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX2NvbnRleHQu
aAo+IEBAIC0xNDEsOCArMTQxLDYgQEAgaW50IGk5MTVfZ2VtX2NvbnRleHRfb3BlbihzdHJ1Y3Qg
ZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSwKPiAgdm9pZCBpOTE1X2dlbV9jb250ZXh0X2Nsb3NlKHN0
cnVjdCBkcm1fZmlsZSAqZmlsZSk7Cj4gIAo+ICB2b2lkIGk5MTVfZ2VtX2NvbnRleHRfcmVsZWFz
ZShzdHJ1Y3Qga3JlZiAqY3R4X3JlZik7Cj4gLXN0cnVjdCBpOTE1X2dlbV9jb250ZXh0ICoKPiAt
aTkxNV9nZW1fY29udGV4dF9jcmVhdGVfZ3Z0KHN0cnVjdCBkcm1fZGV2aWNlICpkZXYpOwo+ICAK
PiAgaW50IGk5MTVfZ2VtX3ZtX2NyZWF0ZV9pb2N0bChzdHJ1Y3QgZHJtX2RldmljZSAqZGV2LCB2
b2lkICpkYXRhLAo+ICAJCQkgICAgIHN0cnVjdCBkcm1fZmlsZSAqZmlsZSk7Cj4gZGlmZiAtLWdp
dCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d2dC9zY2hlZHVsZXIuYyBiL2RyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2d2dC9zY2hlZHVsZXIuYwo+IGluZGV4IDViMjlmMjJkYzc1YS4uYTM4ZGRiNTdlNzg2
IDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d2dC9zY2hlZHVsZXIuYwo+ICsr
KyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d2dC9zY2hlZHVsZXIuYwo+IEBAIC0xMjEyLDE5ICsx
MjEyLDI4IEBAIGk5MTVfY29udGV4dF9wcGd0dF9yb290X3NhdmUoc3RydWN0IGludGVsX3ZncHVf
c3VibWlzc2lvbiAqcywKPiAgICovCj4gIGludCBpbnRlbF92Z3B1X3NldHVwX3N1Ym1pc3Npb24o
c3RydWN0IGludGVsX3ZncHUgKnZncHUpCj4gIHsKPiArCXN0cnVjdCBkcm1faTkxNV9wcml2YXRl
ICppOTE1ID0gdmdwdS0+Z3Z0LT5kZXZfcHJpdjsKPiAgCXN0cnVjdCBpbnRlbF92Z3B1X3N1Ym1p
c3Npb24gKnMgPSAmdmdwdS0+c3VibWlzc2lvbjsKPiAgCXN0cnVjdCBpbnRlbF9lbmdpbmVfY3Mg
KmVuZ2luZTsKPiAgCXN0cnVjdCBpOTE1X2dlbV9jb250ZXh0ICpjdHg7Cj4gIAllbnVtIGludGVs
X2VuZ2luZV9pZCBpOwo+ICAJaW50IHJldDsKPiAgCj4gLQljdHggPSBpOTE1X2dlbV9jb250ZXh0
X2NyZWF0ZV9ndnQoJnZncHUtPmd2dC0+ZGV2X3ByaXYtPmRybSk7Cj4gLQlpZiAoSVNfRVJSKGN0
eCkpCj4gLQkJcmV0dXJuIFBUUl9FUlIoY3R4KTsKPiArCW11dGV4X2xvY2soJmk5MTUtPmRybS5z
dHJ1Y3RfbXV0ZXgpOwo+ICsKPiArCWN0eCA9IGk5MTVfZ2VtX2NvbnRleHRfY3JlYXRlX2tlcm5l
bChpOTE1LCBJOTE1X1BSSU9SSVRZX01BWCk7Cj4gKwlpZiAoSVNfRVJSKGN0eCkpIHsKPiArCQly
ZXQgPSBQVFJfRVJSKGN0eCk7Cj4gKwkJZ290byBvdXRfdW5sb2NrOwo+ICsJfQo+ICsKPiArCWk5
MTVfZ2VtX2NvbnRleHRfc2V0X2ZvcmNlX3NpbmdsZV9zdWJtaXNzaW9uKGN0eCk7Cj4gKwlpZiAo
IVVTRVNfR1VDX1NVQk1JU1NJT04oaTkxNSkpCj4gKwkJY3R4LT5yaW5nX3NpemUgPSA1MTIgKiBQ
QUdFX1NJWkU7IC8qIE1heCByaW5nIGJ1ZmZlciBzaXplICovCj4gIAo+ICAJaTkxNV9jb250ZXh0
X3BwZ3R0X3Jvb3Rfc2F2ZShzLCBpOTE1X3ZtX3RvX3BwZ3R0KGN0eC0+dm0pKTsKPiAgCj4gLQlm
b3JfZWFjaF9lbmdpbmUoZW5naW5lLCB2Z3B1LT5ndnQtPmRldl9wcml2LCBpKSB7Cj4gKwlmb3Jf
ZWFjaF9lbmdpbmUoZW5naW5lLCBpOTE1LCBpKSB7Cj4gIAkJc3RydWN0IGludGVsX2NvbnRleHQg
KmNlOwo+ICAKPiAgCQlJTklUX0xJU1RfSEVBRCgmcy0+d29ya2xvYWRfcV9oZWFkW2ldKTsKPiBA
QCAtMTI2MiwxMSArMTI3MSwxMiBAQCBpbnQgaW50ZWxfdmdwdV9zZXR1cF9zdWJtaXNzaW9uKHN0
cnVjdCBpbnRlbF92Z3B1ICp2Z3B1KQo+ICAJYml0bWFwX3plcm8ocy0+dGxiX2hhbmRsZV9wZW5k
aW5nLCBJOTE1X05VTV9FTkdJTkVTKTsKPiAgCj4gIAlpOTE1X2dlbV9jb250ZXh0X3B1dChjdHgp
Owo+ICsJbXV0ZXhfdW5sb2NrKCZpOTE1LT5kcm0uc3RydWN0X211dGV4KTsKPiAgCXJldHVybiAw
Owo+ICAKPiAgb3V0X3NoYWRvd19jdHg6Cj4gIAlpOTE1X2NvbnRleHRfcHBndHRfcm9vdF9yZXN0
b3JlKHMsIGk5MTVfdm1fdG9fcHBndHQoY3R4LT52bSkpOwo+IC0JZm9yX2VhY2hfZW5naW5lKGVu
Z2luZSwgdmdwdS0+Z3Z0LT5kZXZfcHJpdiwgaSkgewo+ICsJZm9yX2VhY2hfZW5naW5lKGVuZ2lu
ZSwgaTkxNSwgaSkgewo+ICAJCWlmIChJU19FUlIocy0+c2hhZG93W2ldKSkKPiAgCQkJYnJlYWs7
Cj4gIAo+IEBAIC0xMjc0LDYgKzEyODQsOCBAQCBpbnQgaW50ZWxfdmdwdV9zZXR1cF9zdWJtaXNz
aW9uKHN0cnVjdCBpbnRlbF92Z3B1ICp2Z3B1KQo+ICAJCWludGVsX2NvbnRleHRfcHV0KHMtPnNo
YWRvd1tpXSk7Cj4gIAl9Cj4gIAlpOTE1X2dlbV9jb250ZXh0X3B1dChjdHgpOwo+ICtvdXRfdW5s
b2NrOgo+ICsJbXV0ZXhfdW5sb2NrKCZpOTE1LT5kcm0uc3RydWN0X211dGV4KTsKPiAgCXJldHVy
biByZXQ7Cj4gIH0KPiAgCj4gLS0gCj4gMi4yMy4wLnJjMQpfX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fXwpJbnRlbC1nZnggbWFpbGluZyBsaXN0CkludGVsLWdm
eEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFp
bG1hbi9saXN0aW5mby9pbnRlbC1nZng=

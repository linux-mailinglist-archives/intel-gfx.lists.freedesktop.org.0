Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 5E92234B3C
	for <lists+intel-gfx@lfdr.de>; Tue,  4 Jun 2019 16:59:55 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id A49C4899D6;
	Tue,  4 Jun 2019 14:59:53 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga03.intel.com (mga03.intel.com [134.134.136.65])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 9FF48899EA
 for <intel-gfx@lists.freedesktop.org>; Tue,  4 Jun 2019 14:59:51 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga003.jf.intel.com ([10.7.209.27])
 by orsmga103.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 04 Jun 2019 07:59:51 -0700
X-ExtLoop1: 1
Received: from ideak-desk.fi.intel.com ([10.237.72.204])
 by orsmga003.jf.intel.com with ESMTP; 04 Jun 2019 07:59:50 -0700
From: Imre Deak <imre.deak@intel.com>
To: intel-gfx@lists.freedesktop.org
Date: Tue,  4 Jun 2019 17:58:25 +0300
Message-Id: <20190604145826.16424-23-imre.deak@intel.com>
X-Mailer: git-send-email 2.17.1
In-Reply-To: <20190604145826.16424-1-imre.deak@intel.com>
References: <20190604145826.16424-1-imre.deak@intel.com>
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH 22/23] drm/i915: Remove unneeded disconnect in
 TypeC legacy port mode
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

RGlzY29ubmVjdGluZyB0aGUgVHlwZUMgUEhZIHdoZW4gdGhlIHBvcnQgaXMgaW4gbGVnYWN5IG1v
ZGUgaXMgbm90Cm5lY2Vzc2FyeToKLSBCU3BlYyBkb2Vzbid0IHNwZWNpZnkgYSBkaXNjb25uZWN0
IHNlcXVlbmNlIGZvciBsZWdhY3kgbW9kZS4KLSBUaGUgdXNlIG9mIHRoZSBQSFkgaXMgZGVkaWNh
dGVkIGZvciB0aGUgZGlzcGxheSBpbiBsZWdhY3kgbW9kZS4KLSBXZSBrZWVwIHRoZSBQSFkgYWx3
YXlzIGNvbm5lY3RlZCBkdXJpbmcgcnVudGltZSBhcyB3ZWxsIGluIGxlZ2FjeQogIG1vZGUuCgpX
ZSBkaXNjb25uZWN0IHRoZSBQSFkgd2hlbiBuZWVkZWQgZHVyaW5nIGEgZGlzYWJsaW5nIG1vZGVz
ZXQgZm9yIHRoZQpwb3J0LCBzbyB3ZSBjYW4gYWxzbyByZW1vdmUgdGhlIGRpc2Nvbm5lY3QgY2Fs
bCBmcm9tIHRoZSBkZXN0cm95IGhvb2suCgpDYzogSm9zw6kgUm9iZXJ0byBkZSBTb3V6YSA8am9z
ZS5zb3V6YUBpbnRlbC5jb20+CkNjOiBSb2RyaWdvIFZpdmkgPHJvZHJpZ28udml2aUBpbnRlbC5j
b20+ClNpZ25lZC1vZmYtYnk6IEltcmUgRGVhayA8aW1yZS5kZWFrQGludGVsLmNvbT4KLS0tCiBk
cml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9kZGkuYyB8IDIxICstLS0tLS0tLS0tLS0tLS0tLS0t
LQogZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfdGMuYyAgfCAgNCArKystCiBkcml2ZXJzL2dw
dS9kcm0vaTkxNS9pbnRlbF90Yy5oICB8ICAyIC0tCiAzIGZpbGVzIGNoYW5nZWQsIDQgaW5zZXJ0
aW9ucygrKSwgMjMgZGVsZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5
MTUvaW50ZWxfZGRpLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9kZGkuYwppbmRleCAx
Mzg5NTA5NDEyNDYuLjljMTk4ZjFhM2E5MSAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5
MTUvaW50ZWxfZGRpLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfZGRpLmMKQEAg
LTM5NDEsMzEgKzM5NDEsMTIgQEAgc3RhdGljIGludCBpbnRlbF9kZGlfY29tcHV0ZV9jb25maWco
c3RydWN0IGludGVsX2VuY29kZXIgKmVuY29kZXIsCiAJcmV0dXJuIDA7CiB9CiAKLXN0YXRpYyB2
b2lkIGludGVsX2RkaV9lbmNvZGVyX3N1c3BlbmQoc3RydWN0IGludGVsX2VuY29kZXIgKmVuY29k
ZXIpCi17Ci0Jc3RydWN0IGludGVsX2RpZ2l0YWxfcG9ydCAqZGlnX3BvcnQgPSBlbmNfdG9fZGln
X3BvcnQoJmVuY29kZXItPmJhc2UpOwotCi0JaW50ZWxfZHBfZW5jb2Rlcl9zdXNwZW5kKGVuY29k
ZXIpOwotCi0JLyoKLQkgKiBUT0RPOiBkaXNjb25uZWN0IGFsc28gZnJvbSBVU0IgRFAgYWx0ZXJu
YXRlIG1vZGUgb25jZSB3ZSBoYXZlIGEKLQkgKiB3YXkgdG8gaGFuZGxlIHRoZSBtb2Rlc2V0IHJl
c3RvcmUgaW4gdGhhdCBtb2RlIGR1cmluZyByZXN1bWUKLQkgKiBldmVuIGlmIHRoZSBzaW5rIGhh
cyBkaXNhcHBlYXJlZCB3aGlsZSBiZWluZyBzdXNwZW5kZWQuCi0JICovCi0JaWYgKGRpZ19wb3J0
LT50Y19sZWdhY3lfcG9ydCkKLQkJaWNsX3RjX3BoeV9kaXNjb25uZWN0KGRpZ19wb3J0KTsKLX0K
LQogc3RhdGljIHZvaWQgaW50ZWxfZGRpX2VuY29kZXJfZGVzdHJveShzdHJ1Y3QgZHJtX2VuY29k
ZXIgKmVuY29kZXIpCiB7CiAJc3RydWN0IGludGVsX2RpZ2l0YWxfcG9ydCAqZGlnX3BvcnQgPSBl
bmNfdG9fZGlnX3BvcnQoZW5jb2Rlcik7Ci0Jc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUg
PSB0b19pOTE1KGVuY29kZXItPmRldik7CiAKIAlpbnRlbF9kcF9lbmNvZGVyX2ZsdXNoX3dvcmso
ZW5jb2Rlcik7CiAKLQlpZiAoaW50ZWxfcG9ydF9pc190YyhpOTE1LCBkaWdfcG9ydC0+YmFzZS5w
b3J0KSkKLQkJaWNsX3RjX3BoeV9kaXNjb25uZWN0KGRpZ19wb3J0KTsKLQogCWRybV9lbmNvZGVy
X2NsZWFudXAoZW5jb2Rlcik7CiAJa2ZyZWUoZGlnX3BvcnQpOwogfQpAQCAtNDI1NCw3ICs0MjM1
LDcgQEAgdm9pZCBpbnRlbF9kZGlfaW5pdChzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3By
aXYsIGVudW0gcG9ydCBwb3J0KQogCWludGVsX2VuY29kZXItPnVwZGF0ZV9waXBlID0gaW50ZWxf
ZGRpX3VwZGF0ZV9waXBlOwogCWludGVsX2VuY29kZXItPmdldF9od19zdGF0ZSA9IGludGVsX2Rk
aV9nZXRfaHdfc3RhdGU7CiAJaW50ZWxfZW5jb2Rlci0+Z2V0X2NvbmZpZyA9IGludGVsX2RkaV9n
ZXRfY29uZmlnOwotCWludGVsX2VuY29kZXItPnN1c3BlbmQgPSBpbnRlbF9kZGlfZW5jb2Rlcl9z
dXNwZW5kOworCWludGVsX2VuY29kZXItPnN1c3BlbmQgPSBpbnRlbF9kcF9lbmNvZGVyX3N1c3Bl
bmQ7CiAJaW50ZWxfZW5jb2Rlci0+Z2V0X3Bvd2VyX2RvbWFpbnMgPSBpbnRlbF9kZGlfZ2V0X3Bv
d2VyX2RvbWFpbnM7CiAJaW50ZWxfZW5jb2Rlci0+dHlwZSA9IElOVEVMX09VVFBVVF9EREk7CiAJ
aW50ZWxfZW5jb2Rlci0+cG93ZXJfZG9tYWluID0gaW50ZWxfcG9ydF90b19wb3dlcl9kb21haW4o
cG9ydCk7CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF90Yy5jIGIvZHJp
dmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfdGMuYwppbmRleCBkODA3MTI3YWQ1ZjEuLjI5YTU5Y2U3
ZjA3MyAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfdGMuYworKysgYi9k
cml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF90Yy5jCkBAIC0yNDUsMTAgKzI0NSwxMiBAQCBzdGF0
aWMgdm9pZCBpY2xfdGNfcGh5X2Nvbm5lY3Qoc3RydWN0IGludGVsX2RpZ2l0YWxfcG9ydCAqZGln
X3BvcnQsCiAgKiBTZWUgdGhlIGNvbW1lbnQgYXQgdGhlIGNvbm5lY3QgZnVuY3Rpb24uIFRoaXMg
aW1wbGVtZW50cyB0aGUgRGlzY29ubmVjdAogICogRmxvdy4KICAqLwotdm9pZCBpY2xfdGNfcGh5
X2Rpc2Nvbm5lY3Qoc3RydWN0IGludGVsX2RpZ2l0YWxfcG9ydCAqZGlnX3BvcnQpCitzdGF0aWMg
dm9pZCBpY2xfdGNfcGh5X2Rpc2Nvbm5lY3Qoc3RydWN0IGludGVsX2RpZ2l0YWxfcG9ydCAqZGln
X3BvcnQpCiB7CiAJc3dpdGNoIChkaWdfcG9ydC0+dGNfbW9kZSkgewogCWNhc2UgVENfUE9SVF9M
RUdBQ1k6CisJCS8qIE5vdGhpbmcgdG8gZG8sIHdlIG5ldmVyIGRpc2Nvbm5lY3QgZnJvbSBsZWdh
Y3kgbW9kZSAqLworCQlicmVhazsKIAljYXNlIFRDX1BPUlRfRFBfQUxUOgogCQlpY2xfdGNfcGh5
X3NldF9zYWZlX21vZGUoZGlnX3BvcnQsIHRydWUpOwogCQlkaWdfcG9ydC0+dGNfbW9kZSA9IFRD
X1BPUlRfVEJUX0FMVDsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX3Rj
LmggYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF90Yy5oCmluZGV4IDU2ODg0NGUxODQ2Zi4u
NmQ3ZTgxM2MwODJiIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF90Yy5o
CisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX3RjLmgKQEAgLTUsOCArNSw2IEBACiAj
aW5jbHVkZSA8bGludXgvbXV0ZXguaD4KICNpbmNsdWRlICJpbnRlbF9kcnYuaCIKIAotdm9pZCBp
Y2xfdGNfcGh5X2Rpc2Nvbm5lY3Qoc3RydWN0IGludGVsX2RpZ2l0YWxfcG9ydCAqZGlnX3BvcnQp
OwotCiBib29sIGludGVsX3RjX3BvcnRfY29ubmVjdGVkKHN0cnVjdCBpbnRlbF9kaWdpdGFsX3Bv
cnQgKmRpZ19wb3J0KTsKIHUzMiBpbnRlbF90Y19wb3J0X2dldF9sYW5lX2luZm8oc3RydWN0IGlu
dGVsX2RpZ2l0YWxfcG9ydCAqZGlnX3BvcnQpOwogaW50IGludGVsX3RjX3BvcnRfZmlhX21heF9s
YW5lX2NvdW50KHN0cnVjdCBpbnRlbF9kaWdpdGFsX3BvcnQgKmRpZ19wb3J0KTsKLS0gCjIuMTcu
MQoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KSW50ZWwt
Z2Z4IG1haWxpbmcgbGlzdApJbnRlbC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8v
bGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vaW50ZWwtZ2Z4

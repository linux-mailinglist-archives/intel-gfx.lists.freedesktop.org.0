Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id B0E6627A3D
	for <lists+intel-gfx@lfdr.de>; Thu, 23 May 2019 12:21:02 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 1B9D789D61;
	Thu, 23 May 2019 10:21:01 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga04.intel.com (mga04.intel.com [192.55.52.120])
 by gabe.freedesktop.org (Postfix) with ESMTPS id A56FD89D61
 for <intel-gfx@lists.freedesktop.org>; Thu, 23 May 2019 10:20:59 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga005.jf.intel.com ([10.7.209.41])
 by fmsmga104.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 23 May 2019 03:20:59 -0700
X-ExtLoop1: 1
Received: from dmironox-mobl5.ccr.corp.intel.com (HELO [10.252.20.122])
 ([10.252.20.122])
 by orsmga005.jf.intel.com with ESMTP; 23 May 2019 03:20:58 -0700
From: Tvrtko Ursulin <tvrtko.ursulin@linux.intel.com>
To: Chris Wilson <chris@chris-wilson.co.uk>, intel-gfx@lists.freedesktop.org
References: <20190523064933.23604-1-chris@chris-wilson.co.uk>
 <d482e1a9-a485-d513-bb7d-cb2e39f7bb24@linux.intel.com>
 <f128a09c-1d1d-bea7-1487-3b3e766da3be@linux.intel.com>
 <155860607057.28319.10417661639080544175@skylake-alporthouse-com>
 <155860646158.28319.15538918828538407611@skylake-alporthouse-com>
 <094ffecd-6b3c-d339-052c-9809e72428ba@linux.intel.com>
Organization: Intel Corporation UK Plc
Message-ID: <c26c4ea5-eb10-0c48-5628-a8ba753717cf@linux.intel.com>
Date: Thu, 23 May 2019 11:20:57 +0100
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101
 Thunderbird/60.6.1
MIME-Version: 1.0
In-Reply-To: <094ffecd-6b3c-d339-052c-9809e72428ba@linux.intel.com>
Content-Language: en-US
Subject: Re: [Intel-gfx] [PATCH] drm/i915/gtt: Always acquire struct_mutex
 for gen6_ppgtt_cleanup
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

Ck9uIDIzLzA1LzIwMTkgMTE6MTksIFR2cnRrbyBVcnN1bGluIHdyb3RlOgo+IAo+IE9uIDIzLzA1
LzIwMTkgMTE6MTQsIENocmlzIFdpbHNvbiB3cm90ZToKPj4gUXVvdGluZyBDaHJpcyBXaWxzb24g
KDIwMTktMDUtMjMgMTE6MDc6NTApCj4+PiBRdW90aW5nIFR2cnRrbyBVcnN1bGluICgyMDE5LTA1
LTIzIDExOjAxOjA5KQo+Pj4+Cj4+Pj4gT24gMjMvMDUvMjAxOSAxMDoyMSwgVHZydGtvIFVyc3Vs
aW4gd3JvdGU6Cj4+Pj4+Cj4+Pj4+IE9uIDIzLzA1LzIwMTkgMDc6NDksIENocmlzIFdpbHNvbiB3
cm90ZToKPj4+Pj4+IFdlIHJlYXJyYW5nZWQgdGhlIHZtX2Rlc3Ryb3lfaW9jdGwgdG8gYXZvaWQg
dGFraW5nIHN0cnVjdF9tdXRleCwgCj4+Pj4+PiBsaXR0bGUKPj4+Pj4+IHJlYWxpc2luZyB0aGF0
IGJ1cmllZCB1bmRlcm5lYXRoIHRoZSBnZW42IHBwZ3R0IHJlbGVhc2UgcGF0aCB3YXMgYQo+Pj4+
Pj4gc3RydWN0X211dGV4IHJlcXVpcmVtZW50ICh0byByZW1vdmUgaXRzIEdHVFQgdm1hKS4gVW50
aWwgdGhhdAo+Pj4+Pj4gc3RydWN0X211dGV4IGlzIHZhbnF1aXNoZWQsIHRha2UgYSBkZXRvdXIg
aW4gZ2VuNl9wcGd0dF9jbGVhbnVwIHRvIGRvCj4+Pj4+PiB0aGUgaTkxNV92bWFfZGVzdHJveSBm
cm9tIGluc2lkZSBhIHdvcmtlciB1bmRlciB0aGUgc3RydWN0X211dGV4Lgo+Pj4+Pj4KPj4+Pj4+
IDw0PiBbMjU3Ljc0MDE2MF0gV0FSTl9PTihkZWJ1Z19sb2NrcyAmJgo+Pj4+Pj4gIWxvY2tfaXNf
aGVsZCgmKCZ2bWEtPnZtLT5pOTE1LT5kcm0uc3RydWN0X211dGV4KS0+ZGVwX21hcCkpCj4+Pj4+
PiA8ND4gWzI1Ny43NDAyMTNdIFdBUk5JTkc6IENQVTogMyBQSUQ6IDE1MDcgYXQKPj4+Pj4+IGRy
aXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfdm1hLmM6ODQxIGk5MTVfdm1hX2Rlc3Ryb3krMHgxYWUv
MHgzYTAgCj4+Pj4+PiBbaTkxNV0KPj4+Pj4+IDw0PiBbMjU3Ljc0MDIxNF0gTW9kdWxlcyBsaW5r
ZWQgaW46IHNuZF9oZGFfY29kZWNfaGRtaSBpOTE1Cj4+Pj4+PiB4ODZfcGtnX3RlbXBfdGhlcm1h
bCBtZWlfaGRjcCBjb3JldGVtcCBjcmN0MTBkaWZfcGNsbXVsIGNyYzMyX3BjbG11bAo+Pj4+Pj4g
Z2hhc2hfY2xtdWxuaV9pbnRlbCBzbmRfaGRhX2NvZGVjX3JlYWx0ZWsgc25kX2hkYV9jb2RlY19n
ZW5lcmljCj4+Pj4+PiBzbmRfaGRhX2ludGVsIHNuZF9oZGFfY29kZWMgc25kX2h3ZGVwIHNuZF9o
ZGFfY29yZSByODE2OSByZWFsdGVrCj4+Pj4+PiBzbmRfcGNtIG1laV9tZSBtZWkgcHJpbWVfbnVt
YmVycyBscGNfaWNoCj4+Pj4+PiA8ND4gWzI1Ny43NDAyMjRdIENQVTogMyBQSUQ6IDE1MDcgQ29t
bTogZ2VtX3ZtX2NyZWF0ZSBUYWludGVkOiBHCj4+Pj4+PiBVwqDCoMKgwqDCoMKgwqDCoMKgwqDC
oCA1LjIuMC1yYzEtQ0ktQ0lfRFJNXzYxMTgrICMxCj4+Pj4+PiA8ND4gWzI1Ny43NDAyMjVdIEhh
cmR3YXJlIG5hbWU6IE1TSSBNUy03OTI0L1o5N00tRzQzKE1TLTc5MjQpLCBCSU9TCj4+Pj4+PiBW
MS4xMiAwMi8xNS8yMDE2Cj4+Pj4+PiA8ND4gWzI1Ny43NDAyNDldIFJJUDogMDAxMDppOTE1X3Zt
YV9kZXN0cm95KzB4MWFlLzB4M2EwIFtpOTE1XQo+Pj4+Pj4gPDQ+IFsyNTcuNzQwMjUwXSBDb2Rl
OiAwMCAwMCAwMCA0OCA4MSBjNyBjOCAwMCAwMCAwMCBlOCBlZCAwOCBmMCAKPj4+Pj4+IGUwIDg1
Cj4+Pj4+PiBjMCAwZiA4NSA3OCBmZSBmZiBmZiA0OCBjNyBjNiBlOCBlYyAzMCBhMCA0OCBjNyBj
NyBkYSA1NSAzMyBhMCBlOCA0Mgo+Pj4+Pj4gOGMgZTkgZTAgPDBmPiAwYiA4YiA4MyA0MCAwMSAw
MCAwMCA4NSBjMCAwZiA4NCA2MyBmZSBmZiBmZiA0OCBjNyAKPj4+Pj4+IGMxIGMxCj4+Pj4+PiA1
OCAzMwo+Pj4+Pj4gPDQ+IFsyNTcuNzQwMjUxXSBSU1A6IDAwMTg6ZmZmZmM5MDAwMGFhZmM2OCBF
RkxBR1M6IDAwMDEwMjgyCj4+Pj4+PiA8ND4gWzI1Ny43NDAyNTJdIFJBWDogMDAwMDAwMDAwMDAw
MDAwMCBSQlg6IGZmZmY4ODgzZjc5NTc4NDAgUkNYOgo+Pj4+Pj4gMDAwMDAwMDAwMDAwMDAwMwo+
Pj4+Pj4gPDQ+IFsyNTcuNzQwMjUzXSBSRFg6IDAwMDAwMDAwMDAwMDAwNDYgUlNJOiAwMDAwMDAw
MDAwMDAwMDA2IFJESToKPj4+Pj4+IGZmZmZmZmZmODIxMmQxYjkKPj4+Pj4+IDw0PiBbMjU3Ljc0
MDI1NF0gUkJQOiBmZmZmYzkwMDAwYWFmY2M4IFIwODogMDAwMDAwMDAwMDAwMDAwMCBSMDk6Cj4+
Pj4+PiAwMDAwMDAwMDAwMDAwMDAwCj4+Pj4+PiA8ND4gWzI1Ny43NDAyNTVdIFIxMDogMDAwMDAw
MDAwMDAwMDAwMCBSMTE6IDAwMDAwMDAwMDAwMDAwMDAgUjEyOgo+Pj4+Pj4gZmZmZjg4ODNmNGQ1
YzJhOAo+Pj4+Pj4gPDQ+IFsyNTcuNzQwMjU2XSBSMTM6IGZmZmY4ODgzZjRkNWQ2ODAgUjE0OiBm
ZmZmODg4M2Y0ZDVjNjY4IFIxNToKPj4+Pj4+IGZmZmY4ODgzZjRkNWMyZjAKPj4+Pj4+IDw0PiBb
MjU3Ljc0MDI1N10gRlM6wqAgMDAwMDdmNzc3ZmE4ZmU0MCgwMDAwKSAKPj4+Pj4+IEdTOmZmZmY4
ODg0MGY3ODAwMDAoMDAwMCkKPj4+Pj4+IGtubEdTOjAwMDAwMDAwMDAwMDAwMDAKPj4+Pj4+IDw0
PiBbMjU3Ljc0MDI1OF0gQ1M6wqAgMDAxMCBEUzogMDAwMCBFUzogMDAwMCBDUjA6IDAwMDAwMDAw
ODAwNTAwMzMKPj4+Pj4+IDw0PiBbMjU3Ljc0MDI1OV0gQ1IyOiAwMDAwN2Y3NzdmNjUyMmIwIENS
MzogMDAwMDAwMDNjNjEyYTAwNiBDUjQ6Cj4+Pj4+PiAwMDAwMDAwMDAwMTYwNmUwCj4+Pj4+PiA8
ND4gWzI1Ny43NDAyNjBdIENhbGwgVHJhY2U6Cj4+Pj4+PiA8ND4gWzI1Ny43NDAyODNdwqAgZ2Vu
Nl9wcGd0dF9jbGVhbnVwKzB4MjUvMHg2MCBbaTkxNV0KPj4+Pj4+IDw0PiBbMjU3Ljc0MDMwNl3C
oCBpOTE1X3BwZ3R0X3JlbGVhc2UrMHgxMDIvMHgyOTAgW2k5MTVdCj4+Pj4+PiA8ND4gWzI1Ny43
NDAzMzBdwqAgaTkxNV9nZW1fdm1fZGVzdHJveV9pb2N0bCsweDdjLzB4YTAgW2k5MTVdCj4+Pj4+
PiA8ND4gWzI1Ny43NDAzNzZdwqAgPyBpOTE1X2dlbV92bV9jcmVhdGVfaW9jdGwrMHgxNjAvMHgx
NjAgW2k5MTVdCj4+Pj4+PiA8ND4gWzI1Ny43NDAzNzldwqAgZHJtX2lvY3RsX2tlcm5lbCsweDgz
LzB4ZjAKPj4+Pj4+IDw0PiBbMjU3Ljc0MDM4Ml3CoCBkcm1faW9jdGwrMHgyZjMvMHgzYjAKPj4+
Pj4+IDw0PiBbMjU3Ljc0MDQyMl3CoCA/IGk5MTVfZ2VtX3ZtX2NyZWF0ZV9pb2N0bCsweDE2MC8w
eDE2MCBbaTkxNV0KPj4+Pj4+IDw0PiBbMjU3Ljc0MDQyNl3CoCA/IF9yYXdfc3Bpbl91bmxvY2tf
aXJxcmVzdG9yZSsweDM5LzB4NjAKPj4+Pj4+IDw0PiBbMjU3Ljc0MDQzMF3CoCBkb192ZnNfaW9j
dGwrMHhhMC8weDZlMAo+Pj4+Pj4gPDQ+IFsyNTcuNzQwNDMzXcKgID8gbG9ja19hY3F1aXJlKzB4
YTYvMHgxYzAKPj4+Pj4+IDw0PiBbMjU3Ljc0MDQzNl3CoCA/IF9fdGFza19waWRfbnJfbnMrMHhi
OS8weDFmMAo+Pj4+Pj4gPDQ+IFsyNTcuNzQwNDM5XcKgIGtzeXNfaW9jdGwrMHgzNS8weDYwCj4+
Pj4+PiA8ND4gWzI1Ny43NDA0NDFdwqAgX194NjRfc3lzX2lvY3RsKzB4MTEvMHgyMAo+Pj4+Pj4g
PDQ+IFsyNTcuNzQwNDQzXcKgIGRvX3N5c2NhbGxfNjQrMHg1NS8weDFjMAo+Pj4+Pj4gPDQ+IFsy
NTcuNzQwNDQ1XcKgIGVudHJ5X1NZU0NBTExfNjRfYWZ0ZXJfaHdmcmFtZSsweDQ5LzB4YmUKPj4+
Pj4+Cj4+Pj4+PiBSZWZlcmVuY2VzOiBlMDY5NWRiNzI5OGUgKCJkcm0vaTkxNTogQ3JlYXRlL2Rl
c3Ryb3kgVk0gKHBwR1RUKSBmb3IgCj4+Pj4+PiB1c2UKPj4+Pj4+IHdpdGggY29udGV4dHMiKQo+
Pj4+Pj4gRml4ZXM6IDdmM2YzMTdhNjZjYSAoImRybS9pOTE1OiBSZXN0b3JlIGNvbnRyb2wgb3Zl
ciBwcGd0dCBmb3IgCj4+Pj4+PiBjb250ZXh0Cj4+Pj4+PiBjcmVhdGlvbiBBQkkiKQo+Pj4+Pj4g
U2lnbmVkLW9mZi1ieTogQ2hyaXMgV2lsc29uIDxjaHJpc0BjaHJpcy13aWxzb24uY28udWs+Cj4+
Pj4+PiBDYzogVHZydGtvIFVyc3VsaW4gPHR2cnRrby51cnN1bGluQGludGVsLmNvbT4KPj4+Pj4+
IC0tLQo+Pj4+Pj4gwqDCoCBkcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2dlbV9ndHQuYyB8IDMy
IAo+Pj4+Pj4gKysrKysrKysrKysrKysrKysrKysrKysrKysrLS0KPj4+Pj4+IMKgwqAgZHJpdmVy
cy9ncHUvZHJtL2k5MTUvaTkxNV9nZW1fZ3R0LmggfMKgIDIgKysKPj4+Pj4+IMKgwqAgMiBmaWxl
cyBjaGFuZ2VkLCAzMiBpbnNlcnRpb25zKCspLCAyIGRlbGV0aW9ucygtKQo+Pj4+Pj4KPj4+Pj4+
IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2dlbV9ndHQuYwo+Pj4+Pj4g
Yi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2dlbV9ndHQuYwo+Pj4+Pj4gaW5kZXggOWVkNDFh
ZWZiNDU2Li41YTM1MDI1MTc2NmEgMTAwNjQ0Cj4+Pj4+PiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0v
aTkxNS9pOTE1X2dlbV9ndHQuYwo+Pj4+Pj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkx
NV9nZW1fZ3R0LmMKPj4+Pj4+IEBAIC0xODI4LDExICsxODI4LDMzIEBAIHN0YXRpYyB2b2lkIGdl
bjZfcHBndHRfZnJlZV9wZChzdHJ1Y3QKPj4+Pj4+IGdlbjZfaHdfcHBndHQgKnBwZ3R0KQo+Pj4+
Pj4gwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoCBmcmVlX3B0KCZwcGd0dC0+YmFzZS52bSwg
cHQpOwo+Pj4+Pj4gwqDCoCB9Cj4+Pj4+PiArc3RydWN0IGdlbjZfcHBndHRfY2xlYW51cF93b3Jr
IHsKPj4+Pj4+ICvCoMKgwqAgc3RydWN0IHdvcmtfc3RydWN0IGJhc2U7Cj4+Pj4+PiArwqDCoMKg
IHN0cnVjdCBpOTE1X3ZtYSAqdm1hOwo+Pj4+Pj4gK307Cj4+Pj4+PiArCj4+Pj4+PiArc3RhdGlj
IHZvaWQgZ2VuNl9wcGd0dF9jbGVhbnVwX3dvcmsoc3RydWN0IHdvcmtfc3RydWN0ICp3cmspCj4+
Pj4+PiArewo+Pj4+Pj4gK8KgwqDCoCBzdHJ1Y3QgZ2VuNl9wcGd0dF9jbGVhbnVwX3dvcmsgKndv
cmsgPQo+Pj4+Pj4gK8KgwqDCoMKgwqDCoMKgIGNvbnRhaW5lcl9vZih3cmssIHR5cGVvZigqd29y
ayksIGJhc2UpOwo+Pj4+Pj4gK8KgwqDCoCBzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSA9
IHdvcmstPnZtYS0+dm0tPmk5MTU7Cj4+Pj4+Cj4+Pj4+IERvZXMgdGhlIHNlcXVlbmNlIG5lZWQg
YW4gZXh0cmEgcmVmZXJlbmNlIG9uIHBwZ3R0IGZvciAKPj4+Pj4gZGVyZWZlcmVuY2luZyB0aGUK
Pj4+Pj4gdm0gaGVyZT8gQWx0ZXJuYXRpdmVseSBzdG9yaW5nIGk5MTUgaW4gdGhlIHdvcmsgc3Ry
dWN0IGNvdWxkIHdvcmsgCj4+Pj4+IGFyb3VuZAo+Pj4+PiB0aGF0Lgo+Pj4+Cj4+Pj4gTm9wZSAt
IHZtYSBoYXMgYSBwb2ludGVyIHRvIHZtIGFzIHdlbGwgd2hpY2ggaXQgd2lsbCBkZXJlZmVyZW5j
ZS4gU28gaWYKPj4+PiByZWZlcmVuY2UgaXMgbmVlZGVkIGl0J3MgbmVlZGVkIC0gaXQgbG9va3Mg
bGlrZSBpdCBpcyB0byBtZSwgc2luY2Ugb25seQo+Pj4+IGNvbnRleHRzIHRha2UgdGhlbSwgd2hp
Y2ggdm1hJ3Mgc3RpbGwgcmVseSBvbiwgcmlnaHQ/Cj4+Pgo+Pj4gTmFoLCB2bSBpcyBkZWNpZGVk
bHkgZGVhZCBhdCB0aGlzIHBvaW50LCB3ZSBqdXN0IG5lZWQgdG8gc3R1ZmYgdGhlIGk5MTUKPj4+
IHBvaW50ZXIgaW50byB0aGUgY2xlYW51cF93b3JrLgo+Pgo+PiBBcmdoLiB2bWEgaXMgaW4gZ2d0
dCwgc28gdm1hLT52bSBpcyBhbGl2ZSBhbmQga2lja2luZyAtLSBub3QgdGhlIHZtIHdlCj4+IGp1
c3QgZGVzdHJveWVkLgo+IAo+IFdoeSBpcyB0aGlzIGFuIGFyZ2g/IDopIERvZXNuJ3QgaXQgbWVh
biB5b3Ugd2VyZSByaWdodCAtIGp1c3Qgc3RvcmluZyBhIAo+IHBvaW50ZXIgdG8gaTkxNSBpbiB3
b3JrIHN0cnVjdCBzaG91bGQgd29yay4gSSBtaXNzZWQgdGhlIGZhY3QgdGhleSBhcmUgCj4gdHdv
IHNlcGFyYXRlIFZNcy4KCkFwYXJ0IGZyb20gdGhlIGxvY2FsbHkgZGVyZWZlcmVuY2VkIHZtYSBi
ZWluZyB0aGUgc2FtZSBnZ3R0IG9uZS4uLiA6KSkgCk9rYXkuLiBJcyBpdCB3b3J0aCBhIGNvbW1l
bnQ/CgpSZXZpZXdlZC1ieTogVHZydGtvIFVyc3VsaW4gPHR2cnRrby51cnN1bGluQGludGVsLmNv
bT4KClJlZ2FyZHMsCgpUdnJ0a28KX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX18KSW50ZWwtZ2Z4IG1haWxpbmcgbGlzdApJbnRlbC1nZnhAbGlzdHMuZnJlZWRl
c2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8v
aW50ZWwtZ2Z4

Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 36C00FCB28
	for <lists+intel-gfx@lfdr.de>; Thu, 14 Nov 2019 17:55:54 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 7F4496E3B7;
	Thu, 14 Nov 2019 16:55:52 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga05.intel.com (mga05.intel.com [192.55.52.43])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 450DE6E3B7
 for <intel-gfx@lists.freedesktop.org>; Thu, 14 Nov 2019 16:55:51 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga008.jf.intel.com ([10.7.209.65])
 by fmsmga105.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 14 Nov 2019 08:55:50 -0800
X-IronPort-AV: E=Sophos;i="5.68,304,1569308400"; d="scan'208";a="198879993"
Received: from mpotanix-mobl2.ccr.corp.intel.com (HELO [10.252.20.183])
 ([10.252.20.183])
 by orsmga008-auth.jf.intel.com with ESMTP/TLS/AES256-SHA;
 14 Nov 2019 08:55:49 -0800
To: Chris Wilson <chris@chris-wilson.co.uk>, intel-gfx@lists.freedesktop.org
References: <20191113111025.1769-1-chris@chris-wilson.co.uk>
 <20191113185359.11690-1-chris@chris-wilson.co.uk>
From: Tvrtko Ursulin <tvrtko.ursulin@linux.intel.com>
Organization: Intel Corporation UK Plc
Message-ID: <7caa42e1-7a61-93e7-f4db-8f5159b06afa@linux.intel.com>
Date: Thu, 14 Nov 2019 16:55:47 +0000
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101
 Thunderbird/60.9.0
MIME-Version: 1.0
In-Reply-To: <20191113185359.11690-1-chris@chris-wilson.co.uk>
Content-Language: en-US
Subject: Re: [Intel-gfx] [PATCH] drm/i915: Split i915_active.mutex into an
 irq-safe spinlock for the rbtree
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: Matthew Auld <matthew.auld@intel.com>
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

Ck9uIDEzLzExLzIwMTkgMTg6NTMsIENocmlzIFdpbHNvbiB3cm90ZToKPiBBcyB3ZSB3YW50IHRv
IGJlIGFibGUgdG8gcnVuIGluc2lkZSBhdG9taWMgY29udGV4dCBmb3IgcmV0aXJpbmcgdGhlCj4g
aTkxNV9hY3RpdmUsIGFuZCB3ZSBhcmUgbm8gbG9uZ2VyIGFsbG93ZWQgdG8gYWJ1c2UgbXV0ZXhf
dHJ5bG9jaywgc3BsaXQKPiB0aGUgdHJlZSBtYW5hZ2VtZW50IHBvcnRpb24gb2YgaTkxNV9hY3Rp
dmUubXV0ZXggaW50byBhbiBpcnEtc2FmZQo+IHNwaW5sb2NrLgo+IAo+IFJlZmVyZW5jZXM6IGEw
ODU1ZDI0ZmMyMmQgKCJsb2NraW5nL211dGV4OiBDb21wbGFpbiB1cG9uIG11dGV4IEFQSSBtaXN1
c2UgaW4gSVJRIGNvbnRleHRzIikKPiBSZWZlcmVuY2VzOiBodHRwczovL2J1Z3MuZnJlZWRlc2t0
b3Aub3JnL3Nob3dfYnVnLmNnaT9pZD0xMTE2MjYKPiBGaXhlczogMjc0Y2JmMjBmZDEwICgiZHJt
L2k5MTU6IFB1c2ggdGhlIGk5MTVfYWN0aXZlLnJldGlyZSBpbnRvIGEgd29ya2VyIikKPiBTaWdu
ZWQtb2ZmLWJ5OiBDaHJpcyBXaWxzb24gPGNocmlzQGNocmlzLXdpbHNvbi5jby51az4KPiBDYzog
VHZydGtvIFVyc3VsaW4gPHR2cnRrby51cnN1bGluQGxpbnV4LmludGVsLmNvbT4KPiBDYzogTWF0
dGhldyBBdWxkIDxtYXR0aGV3LmF1bGRAaW50ZWwuY29tPgo+IC0tLQo+ICAgZHJpdmVycy9ncHUv
ZHJtL2k5MTUvaTkxNV9hY3RpdmUuYyAgICAgICAgICAgfCA1NyArKysrKysrKysrLS0tLS0tLS0t
LQo+ICAgZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9hY3RpdmVfdHlwZXMuaCAgICAgfCAgMSAr
Cj4gICBkcml2ZXJzL2dwdS9kcm0vaTkxNS9zZWxmdGVzdHMvaTkxNV9hY3RpdmUuYyB8ICA0ICst
Cj4gICAzIGZpbGVzIGNoYW5nZWQsIDMxIGluc2VydGlvbnMoKyksIDMxIGRlbGV0aW9ucygtKQo+
IAo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2FjdGl2ZS5jIGIvZHJp
dmVycy9ncHUvZHJtL2k5MTUvaTkxNV9hY3RpdmUuYwo+IGluZGV4IDIwNzM4M2RkYTg0ZC4uNTQ0
OGYzN2M4MTAyIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfYWN0aXZl
LmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2FjdGl2ZS5jCj4gQEAgLTkxLDE0
ICs5MSwxNSBAQCBzdGF0aWMgdm9pZCBkZWJ1Z19hY3RpdmVfaW5pdChzdHJ1Y3QgaTkxNV9hY3Rp
dmUgKnJlZikKPiAgIAo+ICAgc3RhdGljIHZvaWQgZGVidWdfYWN0aXZlX2FjdGl2YXRlKHN0cnVj
dCBpOTE1X2FjdGl2ZSAqcmVmKQo+ICAgewo+IC0JbG9ja2RlcF9hc3NlcnRfaGVsZCgmcmVmLT5t
dXRleCk7Cj4gKwlzcGluX2xvY2tfaXJxKCZyZWYtPnRyZWVfbG9jayk7Cj4gICAJaWYgKCFhdG9t
aWNfcmVhZCgmcmVmLT5jb3VudCkpIC8qIGJlZm9yZSB0aGUgZmlyc3QgaW5jICovCj4gICAJCWRl
YnVnX29iamVjdF9hY3RpdmF0ZShyZWYsICZhY3RpdmVfZGVidWdfZGVzYyk7Cj4gKwlzcGluX3Vu
bG9ja19pcnEoJnJlZi0+dHJlZV9sb2NrKTsKPiAgIH0KPiAgIAo+ICAgc3RhdGljIHZvaWQgZGVi
dWdfYWN0aXZlX2RlYWN0aXZhdGUoc3RydWN0IGk5MTVfYWN0aXZlICpyZWYpCj4gICB7Cj4gLQls
b2NrZGVwX2Fzc2VydF9oZWxkKCZyZWYtPm11dGV4KTsKPiArCWxvY2tkZXBfYXNzZXJ0X2hlbGQo
JnJlZi0+dHJlZV9sb2NrKTsKPiAgIAlpZiAoIWF0b21pY19yZWFkKCZyZWYtPmNvdW50KSkgLyog
YWZ0ZXIgdGhlIGxhc3QgZGVjICovCj4gICAJCWRlYnVnX29iamVjdF9kZWFjdGl2YXRlKHJlZiwg
JmFjdGl2ZV9kZWJ1Z19kZXNjKTsKPiAgIH0KPiBAQCAtMTI4LDI5ICsxMjksMjIgQEAgX19hY3Rp
dmVfcmV0aXJlKHN0cnVjdCBpOTE1X2FjdGl2ZSAqcmVmKQo+ICAgewo+ICAgCXN0cnVjdCBhY3Rp
dmVfbm9kZSAqaXQsICpuOwo+ICAgCXN0cnVjdCByYl9yb290IHJvb3Q7Cj4gLQlib29sIHJldGly
ZSA9IGZhbHNlOwo+ICsJdW5zaWduZWQgbG9uZyBmbGFnczsKPiAgIAo+IC0JbG9ja2RlcF9hc3Nl
cnRfaGVsZCgmcmVmLT5tdXRleCk7Cj4gICAJR0VNX0JVR19PTihpOTE1X2FjdGl2ZV9pc19pZGxl
KHJlZikpOwo+ICAgCj4gICAJLyogcmV0dXJuIHRoZSB1bnVzZWQgbm9kZXMgdG8gb3VyIHNsYWJj
YWNoZSAtLSBmbHVzaGluZyB0aGUgYWxsb2NhdG9yICovCj4gLQlpZiAoYXRvbWljX2RlY19hbmRf
dGVzdCgmcmVmLT5jb3VudCkpIHsKPiAtCQlkZWJ1Z19hY3RpdmVfZGVhY3RpdmF0ZShyZWYpOwo+
IC0JCXJvb3QgPSByZWYtPnRyZWU7Cj4gLQkJcmVmLT50cmVlID0gUkJfUk9PVDsKPiAtCQlyZWYt
PmNhY2hlID0gTlVMTDsKPiAtCQlyZXRpcmUgPSB0cnVlOwo+IC0JfQo+IC0KPiAtCW11dGV4X3Vu
bG9jaygmcmVmLT5tdXRleCk7Cj4gLQlpZiAoIXJldGlyZSkKPiArCWlmICghYXRvbWljX2RlY19h
bmRfbG9ja19pcnFzYXZlKCZyZWYtPmNvdW50LCAmcmVmLT50cmVlX2xvY2ssIGZsYWdzKSkKPiAg
IAkJcmV0dXJuOwo+ICAgCj4gICAJR0VNX0JVR19PTihyY3VfYWNjZXNzX3BvaW50ZXIocmVmLT5l
eGNsLmZlbmNlKSk7Cj4gLQlyYnRyZWVfcG9zdG9yZGVyX2Zvcl9lYWNoX2VudHJ5X3NhZmUoaXQs
IG4sICZyb290LCBub2RlKSB7Cj4gLQkJR0VNX0JVR19PTihpOTE1X2FjdGl2ZV9mZW5jZV9pc3Nl
dCgmaXQtPmJhc2UpKTsKPiAtCQlrbWVtX2NhY2hlX2ZyZWUoZ2xvYmFsLnNsYWJfY2FjaGUsIGl0
KTsKPiAtCX0KPiArCWRlYnVnX2FjdGl2ZV9kZWFjdGl2YXRlKHJlZik7Cj4gKwo+ICsJcm9vdCA9
IHJlZi0+dHJlZTsKPiArCXJlZi0+dHJlZSA9IFJCX1JPT1Q7Cj4gKwlyZWYtPmNhY2hlID0gTlVM
TDsKPiArCj4gKwlzcGluX3VubG9ja19pcnFyZXN0b3JlKCZyZWYtPnRyZWVfbG9jaywgZmxhZ3Mp
Owo+ICAgCj4gICAJLyogQWZ0ZXIgdGhlIGZpbmFsIHJldGlyZSwgdGhlIGVudGlyZSBzdHJ1Y3Qg
bWF5IGJlIGZyZWVkICovCj4gICAJaWYgKHJlZi0+cmV0aXJlKQo+IEBAIC0xNTgsNiArMTUyLDEx
IEBAIF9fYWN0aXZlX3JldGlyZShzdHJ1Y3QgaTkxNV9hY3RpdmUgKnJlZikKPiAgIAo+ICAgCS8q
IC4uLiBleGNlcHQgaWYgeW91IHdhaXQgb24gaXQsIHlvdSBtdXN0IG1hbmFnZSB5b3VyIG93biBy
ZWZlcmVuY2VzISAqLwo+ICAgCXdha2VfdXBfdmFyKHJlZik7Cj4gKwo+ICsJcmJ0cmVlX3Bvc3Rv
cmRlcl9mb3JfZWFjaF9lbnRyeV9zYWZlKGl0LCBuLCAmcm9vdCwgbm9kZSkgewo+ICsJCUdFTV9C
VUdfT04oaTkxNV9hY3RpdmVfZmVuY2VfaXNzZXQoJml0LT5iYXNlKSk7Cj4gKwkJa21lbV9jYWNo
ZV9mcmVlKGdsb2JhbC5zbGFiX2NhY2hlLCBpdCk7Cj4gKwl9Cj4gICB9Cj4gICAKPiAgIHN0YXRp
YyB2b2lkCj4gQEAgLTE2OSw3ICsxNjgsNiBAQCBhY3RpdmVfd29yayhzdHJ1Y3Qgd29ya19zdHJ1
Y3QgKndyaykKPiAgIAlpZiAoYXRvbWljX2FkZF91bmxlc3MoJnJlZi0+Y291bnQsIC0xLCAxKSkK
PiAgIAkJcmV0dXJuOwo+ICAgCj4gLQltdXRleF9sb2NrKCZyZWYtPm11dGV4KTsKPiAgIAlfX2Fj
dGl2ZV9yZXRpcmUocmVmKTsKPiAgIH0KPiAgIAo+IEBAIC0xODAsOSArMTc4LDcgQEAgYWN0aXZl
X3JldGlyZShzdHJ1Y3QgaTkxNV9hY3RpdmUgKnJlZikKPiAgIAlpZiAoYXRvbWljX2FkZF91bmxl
c3MoJnJlZi0+Y291bnQsIC0xLCAxKSkKPiAgIAkJcmV0dXJuOwo+ICAgCj4gLQkvKiBJZiB3ZSBh
cmUgaW5zaWRlIGludGVycnVwdCBjb250ZXh0IChmZW5jZSBzaWduYWxpbmcpLCBkZWZlciAqLwo+
IC0JaWYgKHJlZi0+ZmxhZ3MgJiBJOTE1X0FDVElWRV9SRVRJUkVfU0xFRVBTIHx8Cj4gLQkgICAg
IW11dGV4X3RyeWxvY2soJnJlZi0+bXV0ZXgpKSB7Cj4gKwlpZiAocmVmLT5mbGFncyAmIEk5MTVf
QUNUSVZFX1JFVElSRV9TTEVFUFMpIHsKPiAgIAkJcXVldWVfd29yayhzeXN0ZW1fdW5ib3VuZF93
cSwgJnJlZi0+d29yayk7Cj4gICAJCXJldHVybjsKPiAgIAl9Cj4gQEAgLTIyNyw3ICsyMjMsNyBA
QCBhY3RpdmVfaW5zdGFuY2Uoc3RydWN0IGk5MTVfYWN0aXZlICpyZWYsIHN0cnVjdCBpbnRlbF90
aW1lbGluZSAqdGwpCj4gICAJaWYgKCFwcmVhbGxvYykKPiAgIAkJcmV0dXJuIE5VTEw7Cj4gICAK
PiAtCW11dGV4X2xvY2soJnJlZi0+bXV0ZXgpOwo+ICsJc3Bpbl9sb2NrX2lycSgmcmVmLT50cmVl
X2xvY2spOwo+ICAgCUdFTV9CVUdfT04oaTkxNV9hY3RpdmVfaXNfaWRsZShyZWYpKTsKPiAgIAo+
ICAgCXBhcmVudCA9IE5VTEw7Cj4gQEAgLTI1Nyw3ICsyNTMsNyBAQCBhY3RpdmVfaW5zdGFuY2Uo
c3RydWN0IGk5MTVfYWN0aXZlICpyZWYsIHN0cnVjdCBpbnRlbF90aW1lbGluZSAqdGwpCj4gICAK
PiAgIG91dDoKPiAgIAlyZWYtPmNhY2hlID0gbm9kZTsKPiAtCW11dGV4X3VubG9jaygmcmVmLT5t
dXRleCk7Cj4gKwlzcGluX3VubG9ja19pcnEoJnJlZi0+dHJlZV9sb2NrKTsKPiAgIAo+ICAgCUJV
SUxEX0JVR19PTihvZmZzZXRvZih0eXBlb2YoKm5vZGUpLCBiYXNlKSk7Cj4gICAJcmV0dXJuICZu
b2RlLT5iYXNlOwo+IEBAIC0yNzgsOCArMjc0LDEwIEBAIHZvaWQgX19pOTE1X2FjdGl2ZV9pbml0
KHN0cnVjdCBpOTE1X2FjdGl2ZSAqcmVmLAo+ICAgCWlmIChiaXRzICYgSTkxNV9BQ1RJVkVfTUFZ
X1NMRUVQKQo+ICAgCQlyZWYtPmZsYWdzIHw9IEk5MTVfQUNUSVZFX1JFVElSRV9TTEVFUFM7Cj4g
ICAKPiArCXNwaW5fbG9ja19pbml0KCZyZWYtPnRyZWVfbG9jayk7Cj4gICAJcmVmLT50cmVlID0g
UkJfUk9PVDsKPiAgIAlyZWYtPmNhY2hlID0gTlVMTDsKPiArCj4gICAJaW5pdF9sbGlzdF9oZWFk
KCZyZWYtPnByZWFsbG9jYXRlZF9iYXJyaWVycyk7Cj4gICAJYXRvbWljX3NldCgmcmVmLT5jb3Vu
dCwgMCk7Cj4gICAJX19tdXRleF9pbml0KCZyZWYtPm11dGV4LCAiaTkxNV9hY3RpdmUiLCBrZXkp
Owo+IEBAIC01MTAsNyArNTA4LDcgQEAgc3RhdGljIHN0cnVjdCBhY3RpdmVfbm9kZSAqcmV1c2Vf
aWRsZV9iYXJyaWVyKHN0cnVjdCBpOTE1X2FjdGl2ZSAqcmVmLCB1NjQgaWR4KQo+ICAgCWlmIChS
Ql9FTVBUWV9ST09UKCZyZWYtPnRyZWUpKQo+ICAgCQlyZXR1cm4gTlVMTDsKPiAgIAo+IC0JbXV0
ZXhfbG9jaygmcmVmLT5tdXRleCk7Cj4gKwlzcGluX2xvY2tfaXJxKCZyZWYtPnRyZWVfbG9jayk7
Cj4gICAJR0VNX0JVR19PTihpOTE1X2FjdGl2ZV9pc19pZGxlKHJlZikpOwo+ICAgCj4gICAJLyoK
PiBAQCAtNTc1LDcgKzU3Myw3IEBAIHN0YXRpYyBzdHJ1Y3QgYWN0aXZlX25vZGUgKnJldXNlX2lk
bGVfYmFycmllcihzdHJ1Y3QgaTkxNV9hY3RpdmUgKnJlZiwgdTY0IGlkeCkKPiAgIAkJCWdvdG8g
bWF0Y2g7Cj4gICAJfQo+ICAgCj4gLQltdXRleF91bmxvY2soJnJlZi0+bXV0ZXgpOwo+ICsJc3Bp
bl91bmxvY2tfaXJxKCZyZWYtPnRyZWVfbG9jayk7Cj4gICAKPiAgIAlyZXR1cm4gTlVMTDsKPiAg
IAo+IEBAIC01ODMsNyArNTgxLDcgQEAgc3RhdGljIHN0cnVjdCBhY3RpdmVfbm9kZSAqcmV1c2Vf
aWRsZV9iYXJyaWVyKHN0cnVjdCBpOTE1X2FjdGl2ZSAqcmVmLCB1NjQgaWR4KQo+ICAgCXJiX2Vy
YXNlKHAsICZyZWYtPnRyZWUpOyAvKiBIaWRlIGZyb20gd2FpdHMgYW5kIHNpYmxpbmcgYWxsb2Nh
dGlvbnMgKi8KPiAgIAlpZiAocCA9PSAmcmVmLT5jYWNoZS0+bm9kZSkKPiAgIAkJcmVmLT5jYWNo
ZSA9IE5VTEw7Cj4gLQltdXRleF91bmxvY2soJnJlZi0+bXV0ZXgpOwo+ICsJc3Bpbl91bmxvY2tf
aXJxKCZyZWYtPnRyZWVfbG9jayk7Cj4gICAKPiAgIAlyZXR1cm4gcmJfZW50cnkocCwgc3RydWN0
IGFjdGl2ZV9ub2RlLCBub2RlKTsKPiAgIH0KPiBAQCAtNjY0LDYgKzY2Miw3IEBAIGludCBpOTE1
X2FjdGl2ZV9hY3F1aXJlX3ByZWFsbG9jYXRlX2JhcnJpZXIoc3RydWN0IGk5MTVfYWN0aXZlICpy
ZWYsCj4gICB2b2lkIGk5MTVfYWN0aXZlX2FjcXVpcmVfYmFycmllcihzdHJ1Y3QgaTkxNV9hY3Rp
dmUgKnJlZikKPiAgIHsKPiAgIAlzdHJ1Y3QgbGxpc3Rfbm9kZSAqcG9zLCAqbmV4dDsKPiArCXVu
c2lnbmVkIGxvbmcgZmxhZ3M7Cj4gICAKPiAgIAlHRU1fQlVHX09OKGk5MTVfYWN0aXZlX2lzX2lk
bGUocmVmKSk7Cj4gICAKPiBAQCAtNjczLDcgKzY3Miw3IEBAIHZvaWQgaTkxNV9hY3RpdmVfYWNx
dWlyZV9iYXJyaWVyKHN0cnVjdCBpOTE1X2FjdGl2ZSAqcmVmKQo+ICAgCSAqIHBvcHVsYXRlZCBi
eSBpOTE1X3JlcXVlc3RfYWRkX2FjdGl2ZV9iYXJyaWVycygpIHRvIHBvaW50IHRvIHRoZQo+ICAg
CSAqIHJlcXVlc3QgdGhhdCB3aWxsIGV2ZW50dWFsbHkgcmVsZWFzZSB0aGVtLgo+ICAgCSAqLwo+
IC0JbXV0ZXhfbG9ja19uZXN0ZWQoJnJlZi0+bXV0ZXgsIFNJTkdMRV9ERVBUSF9ORVNUSU5HKTsK
PiArCXNwaW5fbG9ja19pcnFzYXZlX25lc3RlZCgmcmVmLT50cmVlX2xvY2ssIGZsYWdzLCBTSU5H
TEVfREVQVEhfTkVTVElORyk7Cj4gICAJbGxpc3RfZm9yX2VhY2hfc2FmZShwb3MsIG5leHQsIHRh
a2VfcHJlYWxsb2NhdGVkX2JhcnJpZXJzKHJlZikpIHsKPiAgIAkJc3RydWN0IGFjdGl2ZV9ub2Rl
ICpub2RlID0gYmFycmllcl9mcm9tX2xsKHBvcyk7Cj4gICAJCXN0cnVjdCBpbnRlbF9lbmdpbmVf
Y3MgKmVuZ2luZSA9IGJhcnJpZXJfdG9fZW5naW5lKG5vZGUpOwo+IEBAIC02OTksNyArNjk4LDcg
QEAgdm9pZCBpOTE1X2FjdGl2ZV9hY3F1aXJlX2JhcnJpZXIoc3RydWN0IGk5MTVfYWN0aXZlICpy
ZWYpCj4gICAJCWxsaXN0X2FkZChiYXJyaWVyX3RvX2xsKG5vZGUpLCAmZW5naW5lLT5iYXJyaWVy
X3Rhc2tzKTsKPiAgIAkJaW50ZWxfZW5naW5lX3BtX3B1dChlbmdpbmUpOwo+ICAgCX0KPiAtCW11
dGV4X3VubG9jaygmcmVmLT5tdXRleCk7Cj4gKwlzcGluX3VubG9ja19pcnFyZXN0b3JlKCZyZWYt
PnRyZWVfbG9jaywgZmxhZ3MpOwo+ICAgfQo+ICAgCj4gICB2b2lkIGk5MTVfcmVxdWVzdF9hZGRf
YWN0aXZlX2JhcnJpZXJzKHN0cnVjdCBpOTE1X3JlcXVlc3QgKnJxKQo+IGRpZmYgLS1naXQgYS9k
cml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2FjdGl2ZV90eXBlcy5oIGIvZHJpdmVycy9ncHUvZHJt
L2k5MTUvaTkxNV9hY3RpdmVfdHlwZXMuaAo+IGluZGV4IGQ4OWE3NGMxNDJjNi4uOTZhZWQwZWU3
MDBhIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfYWN0aXZlX3R5cGVz
LmgKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2FjdGl2ZV90eXBlcy5oCj4gQEAg
LTQ4LDYgKzQ4LDcgQEAgc3RydWN0IGk5MTVfYWN0aXZlIHsKPiAgIAlhdG9taWNfdCBjb3VudDsK
PiAgIAlzdHJ1Y3QgbXV0ZXggbXV0ZXg7Cj4gICAKPiArCXNwaW5sb2NrX3QgdHJlZV9sb2NrOwo+
ICAgCXN0cnVjdCBhY3RpdmVfbm9kZSAqY2FjaGU7Cj4gICAJc3RydWN0IHJiX3Jvb3QgdHJlZTsK
PiAgIAo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9zZWxmdGVzdHMvaTkxNV9h
Y3RpdmUuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L3NlbGZ0ZXN0cy9pOTE1X2FjdGl2ZS5jCj4g
aW5kZXggZjNmYTA1Yzc4ZDc4Li42MDI5MGY3ODc1MGQgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9n
cHUvZHJtL2k5MTUvc2VsZnRlc3RzL2k5MTVfYWN0aXZlLmMKPiArKysgYi9kcml2ZXJzL2dwdS9k
cm0vaTkxNS9zZWxmdGVzdHMvaTkxNV9hY3RpdmUuYwo+IEBAIC0yNzcsOCArMjc3LDggQEAgdm9p
ZCBpOTE1X2FjdGl2ZV91bmxvY2tfd2FpdChzdHJ1Y3QgaTkxNV9hY3RpdmUgKnJlZikKPiAgIAl9
Cj4gICAKPiAgIAkvKiBBbmQgd2FpdCBmb3IgdGhlIHJldGlyZSBjYWxsYmFjayAqLwo+IC0JbXV0
ZXhfbG9jaygmcmVmLT5tdXRleCk7Cj4gLQltdXRleF91bmxvY2soJnJlZi0+bXV0ZXgpOwo+ICsJ
c3Bpbl9sb2NrX2lycSgmcmVmLT50cmVlX2xvY2spOwo+ICsJc3Bpbl91bmxvY2tfaXJxKCZyZWYt
PnRyZWVfbG9jayk7Cj4gICAKPiAgIAkvKiAuLi4gd2hpY2ggbWF5IGhhdmUgYmVlbiBvbiBhIHRo
cmVhZCBpbnN0ZWFkICovCj4gICAJZmx1c2hfd29yaygmcmVmLT53b3JrKTsKPiAKClJldmlld2Vk
LWJ5OiBUdnJ0a28gVXJzdWxpbiA8dHZydGtvLnVyc3VsaW5AaW50ZWwuY29tPgoKUmVnYXJkcywK
ClR2cnRrbwpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpJ
bnRlbC1nZnggbWFpbGluZyBsaXN0CkludGVsLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0
cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9pbnRlbC1nZng=

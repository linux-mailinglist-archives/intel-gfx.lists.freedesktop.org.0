Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id B24CA12BE1
	for <lists+intel-gfx@lfdr.de>; Fri,  3 May 2019 12:53:36 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id B82CA89BF1;
	Fri,  3 May 2019 10:53:34 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga11.intel.com (mga11.intel.com [192.55.52.93])
 by gabe.freedesktop.org (Postfix) with ESMTPS id DFCA989BF1
 for <intel-gfx@lists.freedesktop.org>; Fri,  3 May 2019 10:53:33 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga006.jf.intel.com ([10.7.209.51])
 by fmsmga102.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 03 May 2019 03:53:33 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.60,425,1549958400"; d="scan'208";a="140943205"
Received: from jbartcza-mobl.ger.corp.intel.com (HELO [10.251.88.64])
 ([10.251.88.64])
 by orsmga006.jf.intel.com with ESMTP; 03 May 2019 03:53:32 -0700
To: Chris Wilson <chris@chris-wilson.co.uk>, intel-gfx@lists.freedesktop.org
References: <20190501114541.10077-1-chris@chris-wilson.co.uk>
 <20190501114541.10077-8-chris@chris-wilson.co.uk>
From: Tvrtko Ursulin <tvrtko.ursulin@linux.intel.com>
Organization: Intel Corporation UK Plc
Message-ID: <12c8289c-2dcc-d1f6-e370-2801f788d220@linux.intel.com>
Date: Fri, 3 May 2019 11:53:31 +0100
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101
 Thunderbird/60.6.1
MIME-Version: 1.0
In-Reply-To: <20190501114541.10077-8-chris@chris-wilson.co.uk>
Content-Language: en-US
Subject: Re: [Intel-gfx] [PATCH 08/14] drm/i915: Only reschedule the
 submission tasklet if preemption is possible
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

Ck9uIDAxLzA1LzIwMTkgMTI6NDUsIENocmlzIFdpbHNvbiB3cm90ZToKPiBJZiB3ZSBjb3VwbGUg
dGhlIHNjaGVkdWxlciBtb3JlIHRpZ2h0bHkgd2l0aCB0aGUgZXhlY2xpc3RzIHBvbGljeSwgd2UK
PiBjYW4gYXBwbHkgdGhlIHByZWVtcHRpb24gcG9saWN5IHRvIHRoZSBxdWVzdGlvbiBvZiB3aGV0
aGVyIHdlIG5lZWQgdG8KPiBraWNrIHRoZSB0YXNrbGV0IGF0IGFsbCBmb3IgdGhpcyBwcmlvcml0
eSBidW1wLgo+IAo+IHYyOiBSZXBocmFzZSBpdCBhcyBhIGNvcmUgaTkxNSBwb2xpY3kgYW5kIG5v
dCBhbiBleGVjbGlzdHMgZm9pYmxlLgo+IAo+IFNpZ25lZC1vZmYtYnk6IENocmlzIFdpbHNvbiA8
Y2hyaXNAY2hyaXMtd2lsc29uLmNvLnVrPgo+IENjOiBUdnJ0a28gVXJzdWxpbiA8dHZydGtvLnVy
c3VsaW5AaW50ZWwuY29tPgo+IC0tLQo+ICAgZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxf
ZW5naW5lLmggICAgICB8IDE4IC0tLS0tLS0tLS0tLS0tLS0tLQo+ICAgZHJpdmVycy9ncHUvZHJt
L2k5MTUvZ3QvaW50ZWxfbHJjLmMgICAgICAgICB8ICA0ICsrLS0KPiAgIGRyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2d0L3NlbGZ0ZXN0X2xyYy5jICAgICAgfCAgNyArKysrKystCj4gICBkcml2ZXJzL2dw
dS9kcm0vaTkxNS9pOTE1X3JlcXVlc3QuYyAgICAgICAgIHwgIDIgLS0KPiAgIGRyaXZlcnMvZ3B1
L2RybS9pOTE1L2k5MTVfc2NoZWR1bGVyLmMgICAgICAgfCAxOCArKysrKysrKysrKy0tLS0tLS0K
PiAgIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfc2NoZWR1bGVyLmggICAgICAgfCAxOCArKysr
KysrKysrKysrKysrKysKPiAgIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX2d1Y19zdWJtaXNz
aW9uLmMgfCAgMyArKy0KPiAgIDcgZmlsZXMgY2hhbmdlZCwgMzkgaW5zZXJ0aW9ucygrKSwgMzEg
ZGVsZXRpb25zKC0pCj4gCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2lu
dGVsX2VuZ2luZS5oIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZW5naW5lLmgKPiBp
bmRleCBmNWIwZjI3Y2VjYjYuLjA2ZDc4NTUzMzUwMiAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dw
dS9kcm0vaTkxNS9ndC9pbnRlbF9lbmdpbmUuaAo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1
L2d0L2ludGVsX2VuZ2luZS5oCj4gQEAgLTEwNiwyNCArMTA2LDYgQEAgaGFuZ2NoZWNrX2FjdGlv
bl90b19zdHIoY29uc3QgZW51bSBpbnRlbF9lbmdpbmVfaGFuZ2NoZWNrX2FjdGlvbiBhKQo+ICAg
Cj4gICB2b2lkIGludGVsX2VuZ2luZXNfc2V0X3NjaGVkdWxlcl9jYXBzKHN0cnVjdCBkcm1faTkx
NV9wcml2YXRlICppOTE1KTsKPiAgIAo+IC1zdGF0aWMgaW5saW5lIGJvb2wgX19leGVjbGlzdHNf
bmVlZF9wcmVlbXB0KGludCBwcmlvLCBpbnQgbGFzdCkKPiAtewo+IC0JLyoKPiAtCSAqIEFsbG93
IHByZWVtcHRpb24gb2YgbG93IC0+IG5vcm1hbCAtPiBoaWdoLCBidXQgd2UgZG8KPiAtCSAqIG5v
dCBhbGxvdyBsb3cgcHJpb3JpdHkgdGFza3MgdG8gcHJlZW1wdCBvdGhlciBsb3cgcHJpb3JpdHkK
PiAtCSAqIHRhc2tzIHVuZGVyIHRoZSBpbXByZXNzaW9uIHRoYXQgbGF0ZW5jeSBmb3IgbG93IHBy
aW9yaXR5Cj4gLQkgKiB0YXNrcyBkb2VzIG5vdCBtYXR0ZXIgKGFzIG11Y2ggYXMgYmFja2dyb3Vu
ZCB0aHJvdWdocHV0KSwKPiAtCSAqIHNvIGtpc3MuCj4gLQkgKgo+IC0JICogTW9yZSBuYXR1cmFs
bHkgd2Ugd291bGQgd3JpdGUKPiAtCSAqCXByaW8gPj0gbWF4KDAsIGxhc3QpOwo+IC0JICogZXhj
ZXB0IHRoYXQgd2Ugd2lzaCB0byBwcmV2ZW50IHRyaWdnZXJpbmcgcHJlZW1wdGlvbiBhdCB0aGUg
c2FtZQo+IC0JICogcHJpb3JpdHkgbGV2ZWw6IHRoZSB0YXNrIHRoYXQgaXMgcnVubmluZyBzaG91
bGQgcmVtYWluIHJ1bm5pbmcKPiAtCSAqIHRvIHByZXNlcnZlIEZJRk8gb3JkZXJpbmcgb2YgZGVw
ZW5kZW5jaWVzLgo+IC0JICovCj4gLQlyZXR1cm4gcHJpbyA+IG1heChJOTE1X1BSSU9SSVRZX05P
Uk1BTCAtIDEsIGxhc3QpOwo+IC19Cj4gLQo+ICAgc3RhdGljIGlubGluZSB2b2lkCj4gICBleGVj
bGlzdHNfc2V0X2FjdGl2ZShzdHJ1Y3QgaW50ZWxfZW5naW5lX2V4ZWNsaXN0cyAqZXhlY2xpc3Rz
LAo+ICAgCQkgICAgIHVuc2lnbmVkIGludCBiaXQpCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1
L2RybS9pOTE1L2d0L2ludGVsX2xyYy5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxf
bHJjLmMKPiBpbmRleCA3YmU1NGI4NjhkOGUuLjM1YWFlN2I1YzZiOSAxMDA2NDQKPiAtLS0gYS9k
cml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9scmMuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2d0L2ludGVsX2xyYy5jCj4gQEAgLTI1MSw4ICsyNTEsOCBAQCBzdGF0aWMgaW5saW5l
IGJvb2wgbmVlZF9wcmVlbXB0KGNvbnN0IHN0cnVjdCBpbnRlbF9lbmdpbmVfY3MgKmVuZ2luZSwK
PiAgIAkgKiBvdXJzZWx2ZXMsIGlnbm9yZSB0aGUgcmVxdWVzdC4KPiAgIAkgKi8KPiAgIAlsYXN0
X3ByaW8gPSBlZmZlY3RpdmVfcHJpbyhycSk7Cj4gLQlpZiAoIV9fZXhlY2xpc3RzX25lZWRfcHJl
ZW1wdChlbmdpbmUtPmV4ZWNsaXN0cy5xdWV1ZV9wcmlvcml0eV9oaW50LAo+IC0JCQkJICAgICAg
bGFzdF9wcmlvKSkKPiArCWlmICghaTkxNV9zY2hlZHVsZXJfbmVlZF9wcmVlbXB0KGVuZ2luZS0+
ZXhlY2xpc3RzLnF1ZXVlX3ByaW9yaXR5X2hpbnQsCj4gKwkJCQkJIGxhc3RfcHJpbykpCj4gICAJ
CXJldHVybiBmYWxzZTsKPiAgIAo+ICAgCS8qCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2d0L3NlbGZ0ZXN0X2xyYy5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3Qvc2VsZnRl
c3RfbHJjLmMKPiBpbmRleCA4NDUzOGY2OTE4NWIuLjRiMDQyODkzZGMwZSAxMDA2NDQKPiAtLS0g
YS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9zZWxmdGVzdF9scmMuYwo+ICsrKyBiL2RyaXZlcnMv
Z3B1L2RybS9pOTE1L2d0L3NlbGZ0ZXN0X2xyYy5jCj4gQEAgLTYzOCwxNCArNjM4LDE5IEBAIHN0
YXRpYyBzdHJ1Y3QgaTkxNV9yZXF1ZXN0ICpkdW1teV9yZXF1ZXN0KHN0cnVjdCBpbnRlbF9lbmdp
bmVfY3MgKmVuZ2luZSkKPiAgIAlHRU1fQlVHX09OKGk5MTVfcmVxdWVzdF9jb21wbGV0ZWQocnEp
KTsKPiAgIAo+ICAgCWk5MTVfc3dfZmVuY2VfaW5pdCgmcnEtPnN1Ym1pdCwgZHVtbXlfbm90aWZ5
KTsKPiAtCWk5MTVfc3dfZmVuY2VfY29tbWl0KCZycS0+c3VibWl0KTsKPiArCXNldF9iaXQoSTkx
NV9GRU5DRV9GTEFHX0FDVElWRSwgJnJxLT5mZW5jZS5mbGFncyk7Cj4gICAKPiAgIAlyZXR1cm4g
cnE7Cj4gICB9Cj4gICAKPiAgIHN0YXRpYyB2b2lkIGR1bW15X3JlcXVlc3RfZnJlZShzdHJ1Y3Qg
aTkxNV9yZXF1ZXN0ICpkdW1teSkKPiAgIHsKPiArCS8qIFdlIGhhdmUgdG8gZmFrZSB0aGUgQ1Mg
aW50ZXJydXB0IHRvIGtpY2sgdGhlIG5leHQgcmVxdWVzdCAqLwo+ICsJaTkxNV9zd19mZW5jZV9j
b21taXQoJmR1bW15LT5zdWJtaXQpOwo+ICsKPiAgIAlpOTE1X3JlcXVlc3RfbWFya19jb21wbGV0
ZShkdW1teSk7Cj4gKwlkbWFfZmVuY2Vfc2lnbmFsKCZkdW1teS0+ZmVuY2UpOwo+ICsKPiAgIAlp
OTE1X3NjaGVkX25vZGVfZmluaSgmZHVtbXktPnNjaGVkKTsKPiAgIAlpOTE1X3N3X2ZlbmNlX2Zp
bmkoJmR1bW15LT5zdWJtaXQpOwo+ICAgCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9p
OTE1L2k5MTVfcmVxdWVzdC5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9yZXF1ZXN0LmMK
PiBpbmRleCBhZjhjOWZhNWUwNjYuLjJlMjJkYTY2YTU2YyAxMDA2NDQKPiAtLS0gYS9kcml2ZXJz
L2dwdS9kcm0vaTkxNS9pOTE1X3JlcXVlc3QuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1
L2k5MTVfcmVxdWVzdC5jCj4gQEAgLTEzNTgsOSArMTM1OCw3IEBAIGxvbmcgaTkxNV9yZXF1ZXN0
X3dhaXQoc3RydWN0IGk5MTVfcmVxdWVzdCAqcnEsCj4gICAJaWYgKGZsYWdzICYgSTkxNV9XQUlU
X1BSSU9SSVRZKSB7Cj4gICAJCWlmICghaTkxNV9yZXF1ZXN0X3N0YXJ0ZWQocnEpICYmIElOVEVM
X0dFTihycS0+aTkxNSkgPj0gNikKPiAgIAkJCWdlbjZfcnBzX2Jvb3N0KHJxKTsKPiAtCQlsb2Nh
bF9iaF9kaXNhYmxlKCk7IC8qIHN1c3BlbmQgdGFza2xldHMgZm9yIHJlcHJpb3JpdGlzYXRpb24g
Ki8KPiAgIAkJaTkxNV9zY2hlZHVsZV9idW1wX3ByaW9yaXR5KHJxLCBJOTE1X1BSSU9SSVRZX1dB
SVQpOwo+IC0JCWxvY2FsX2JoX2VuYWJsZSgpOyAvKiBraWNrIHRhc2tsZXRzIGVuIG1hc3NlICov
Cj4gICAJfQo+ICAgCj4gICAJd2FpdC50c2sgPSBjdXJyZW50Owo+IGRpZmYgLS1naXQgYS9kcml2
ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3NjaGVkdWxlci5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUv
aTkxNV9zY2hlZHVsZXIuYwo+IGluZGV4IDM5YmM0ZjU0ZTI3Mi4uODhkMTg2MDBmNWRiIDEwMDY0
NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfc2NoZWR1bGVyLmMKPiArKysgYi9k
cml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3NjaGVkdWxlci5jCj4gQEAgLTI2MSwxNiArMjYxLDIw
IEBAIHNjaGVkX2xvY2tfZW5naW5lKGNvbnN0IHN0cnVjdCBpOTE1X3NjaGVkX25vZGUgKm5vZGUs
Cj4gICAJcmV0dXJuIGVuZ2luZTsKPiAgIH0KPiAgIAo+IC1zdGF0aWMgYm9vbCBpbmZsaWdodChj
b25zdCBzdHJ1Y3QgaTkxNV9yZXF1ZXN0ICpycSwKPiAtCQkgICAgIGNvbnN0IHN0cnVjdCBpbnRl
bF9lbmdpbmVfY3MgKmVuZ2luZSkKPiArc3RhdGljIGlubGluZSBpbnQgcnFfcHJpbyhjb25zdCBz
dHJ1Y3QgaTkxNV9yZXF1ZXN0ICpycSkKPiAgIHsKPiAtCWNvbnN0IHN0cnVjdCBpOTE1X3JlcXVl
c3QgKmFjdGl2ZTsKPiArCXJldHVybiBycS0+c2NoZWQuYXR0ci5wcmlvcml0eSB8IF9fTk9fUFJF
RU1QVElPTjsKPiArfQo+ICsKPiArc3RhdGljIGJvb2wga2lja190YXNrbGV0KGNvbnN0IHN0cnVj
dCBpbnRlbF9lbmdpbmVfY3MgKmVuZ2luZSwgaW50IHByaW8pCj4gK3sKPiArCWNvbnN0IHN0cnVj
dCBpOTE1X3JlcXVlc3QgKmluZmxpZ2h0ID0KPiArCQlwb3J0X3JlcXVlc3QoZW5naW5lLT5leGVj
bGlzdHMucG9ydCk7Cj4gICAKPiAtCWlmICghaTkxNV9yZXF1ZXN0X2lzX2FjdGl2ZShycSkpCj4g
KwlpZiAoIWluZmxpZ2h0KQo+ICAgCQlyZXR1cm4gZmFsc2U7Cj4gICAKPiAtCWFjdGl2ZSA9IHBv
cnRfcmVxdWVzdChlbmdpbmUtPmV4ZWNsaXN0cy5wb3J0KTsKPiAtCXJldHVybiBhY3RpdmUtPmh3
X2NvbnRleHQgPT0gcnEtPmh3X2NvbnRleHQ7Cj4gKwlyZXR1cm4gaTkxNV9zY2hlZHVsZXJfbmVl
ZF9wcmVlbXB0KHByaW8sIHJxX3ByaW8oaW5mbGlnaHQpKTsKPiAgIH0KPiAgIAo+ICAgc3RhdGlj
IHZvaWQgX19pOTE1X3NjaGVkdWxlKHN0cnVjdCBpOTE1X3JlcXVlc3QgKnJxLAo+IEBAIC00MDAs
NyArNDA0LDcgQEAgc3RhdGljIHZvaWQgX19pOTE1X3NjaGVkdWxlKHN0cnVjdCBpOTE1X3JlcXVl
c3QgKnJxLAo+ICAgCQkgKiBJZiB3ZSBhcmUgYWxyZWFkeSB0aGUgY3VycmVudGx5IGV4ZWN1dGlu
ZyBjb250ZXh0LCBkb24ndAo+ICAgCQkgKiBib3RoZXIgZXZhbHVhdGluZyBpZiB3ZSBzaG91bGQg
cHJlZW1wdCBvdXJzZWx2ZXMuCj4gICAJCSAqLwo+IC0JCWlmIChpbmZsaWdodChub2RlX3RvX3Jl
cXVlc3Qobm9kZSksIGVuZ2luZSkpCj4gKwkJaWYgKCFraWNrX3Rhc2tsZXQoZW5naW5lLCBwcmlv
KSkKPiAgIAkJCWNvbnRpbnVlOwoKSSBkb24ndCBzZWUgb3RoZXIgY2FsbGVycyBmb3Iga2lja190
YXNrbGV0IGluIHRoZSBzZXJpZXMgc28gSSBhbSAKdGhpbmtpbmcgd2h5IG5vdCBtYWtlIHRoZSBm
dW5jdGlvbiBjYWxsZWQga2lja190YXNrbGV0IGFjdHVhbGx5IGtpY2sgdGhlIAp0YXNrbGV0PyA7
KQoKQ291bGQgY2FsbCBpdCBtYXliZV9raWNrX3Rhc2tsZXQgYW5kIGp1c3QgZW5kIHRoZSBsb29w
IHdpdGggaXQuCgpXZSBjb3VsZCBldmVuIGFic3RyYWN0IHRvIHRoZSBlbmdpbmUgbGlrZSBlbmdp
bmUtPnNpZ25hbF9wcmVlbXB0aW9uKCkgb3IgCnNvbWV0aGluZywgdG8gaGlkZSB0aGUgdGFza2xl
dCBmcm9tIHRoZSBzY2hlZHVsZXIuIEJ1dCBwcm9iYWJseSBub3QgCndvcnRoIGl0IHJpZ2h0IG5v
dy4KClJlZ2FyZHMsCgpUdnJ0a28KCj4gICAKPiAgIAkJLyogRGVmZXIgKHRhc2tsZXQpIHN1Ym1p
c3Npb24gdW50aWwgYWZ0ZXIgYWxsIG9mIG91ciB1cGRhdGVzLiAqLwo+IGRpZmYgLS1naXQgYS9k
cml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3NjaGVkdWxlci5oIGIvZHJpdmVycy9ncHUvZHJtL2k5
MTUvaTkxNV9zY2hlZHVsZXIuaAo+IGluZGV4IDA3ZDI0M2FjZjU1My4uN2VlZmNjZmYzOWJmIDEw
MDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfc2NoZWR1bGVyLmgKPiArKysg
Yi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3NjaGVkdWxlci5oCj4gQEAgLTUyLDQgKzUyLDIy
IEBAIHN0YXRpYyBpbmxpbmUgdm9pZCBpOTE1X3ByaW9saXN0X2ZyZWUoc3RydWN0IGk5MTVfcHJp
b2xpc3QgKnApCj4gICAJCV9faTkxNV9wcmlvbGlzdF9mcmVlKHApOwo+ICAgfQo+ICAgCj4gK3N0
YXRpYyBpbmxpbmUgYm9vbCBpOTE1X3NjaGVkdWxlcl9uZWVkX3ByZWVtcHQoaW50IHByaW8sIGlu
dCBhY3RpdmUpCj4gK3sKPiArCS8qCj4gKwkgKiBBbGxvdyBwcmVlbXB0aW9uIG9mIGxvdyAtPiBu
b3JtYWwgLT4gaGlnaCwgYnV0IHdlIGRvCj4gKwkgKiBub3QgYWxsb3cgbG93IHByaW9yaXR5IHRh
c2tzIHRvIHByZWVtcHQgb3RoZXIgbG93IHByaW9yaXR5Cj4gKwkgKiB0YXNrcyB1bmRlciB0aGUg
aW1wcmVzc2lvbiB0aGF0IGxhdGVuY3kgZm9yIGxvdyBwcmlvcml0eQo+ICsJICogdGFza3MgZG9l
cyBub3QgbWF0dGVyIChhcyBtdWNoIGFzIGJhY2tncm91bmQgdGhyb3VnaHB1dCksCj4gKwkgKiBz
byBraXNzLgo+ICsJICoKPiArCSAqIE1vcmUgbmF0dXJhbGx5IHdlIHdvdWxkIHdyaXRlCj4gKwkg
KglwcmlvID49IG1heCgwLCBsYXN0KTsKPiArCSAqIGV4Y2VwdCB0aGF0IHdlIHdpc2ggdG8gcHJl
dmVudCB0cmlnZ2VyaW5nIHByZWVtcHRpb24gYXQgdGhlIHNhbWUKPiArCSAqIHByaW9yaXR5IGxl
dmVsOiB0aGUgdGFzayB0aGF0IGlzIHJ1bm5pbmcgc2hvdWxkIHJlbWFpbiBydW5uaW5nCj4gKwkg
KiB0byBwcmVzZXJ2ZSBGSUZPIG9yZGVyaW5nIG9mIGRlcGVuZGVuY2llcy4KPiArCSAqLwo+ICsJ
cmV0dXJuIHByaW8gPiBtYXgoSTkxNV9QUklPUklUWV9OT1JNQUwgLSAxLCBhY3RpdmUpOwo+ICt9
Cj4gKwo+ICAgI2VuZGlmIC8qIF9JOTE1X1NDSEVEVUxFUl9IXyAqLwo+IGRpZmYgLS1naXQgYS9k
cml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9ndWNfc3VibWlzc2lvbi5jIGIvZHJpdmVycy9ncHUv
ZHJtL2k5MTUvaW50ZWxfZ3VjX3N1Ym1pc3Npb24uYwo+IGluZGV4IGVkOTQwMDEwMjhmMi4uY2I5
OTY0YWUyMjlkIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX2d1Y19z
dWJtaXNzaW9uLmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9ndWNfc3VibWlz
c2lvbi5jCj4gQEAgLTc0Niw3ICs3NDYsOCBAQCBzdGF0aWMgYm9vbCBfX2d1Y19kZXF1ZXVlKHN0
cnVjdCBpbnRlbF9lbmdpbmVfY3MgKmVuZ2luZSkKPiAgIAkJCQkmZW5naW5lLT5pOTE1LT5ndWMu
cHJlZW1wdF93b3JrW2VuZ2luZS0+aWRdOwo+ICAgCQkJaW50IHByaW8gPSBleGVjbGlzdHMtPnF1
ZXVlX3ByaW9yaXR5X2hpbnQ7Cj4gICAKPiAtCQkJaWYgKF9fZXhlY2xpc3RzX25lZWRfcHJlZW1w
dChwcmlvLCBwb3J0X3ByaW8ocG9ydCkpKSB7Cj4gKwkJCWlmIChpOTE1X3NjaGVkdWxlcl9uZWVk
X3ByZWVtcHQocHJpbywKPiArCQkJCQkJCXBvcnRfcHJpbyhwb3J0KSkpIHsKPiAgIAkJCQlleGVj
bGlzdHNfc2V0X2FjdGl2ZShleGVjbGlzdHMsCj4gICAJCQkJCQkgICAgIEVYRUNMSVNUU19BQ1RJ
VkVfUFJFRU1QVCk7Cj4gICAJCQkJcXVldWVfd29yayhlbmdpbmUtPmk5MTUtPmd1Yy5wcmVlbXB0
X3dxLAo+IApfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpJ
bnRlbC1nZnggbWFpbGluZyBsaXN0CkludGVsLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0
cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9pbnRlbC1nZng=

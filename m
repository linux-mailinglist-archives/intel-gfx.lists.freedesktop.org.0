Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 249221631C
	for <lists+intel-gfx@lfdr.de>; Tue,  7 May 2019 13:53:24 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 9D8BD6E7B8;
	Tue,  7 May 2019 11:53:22 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga17.intel.com (mga17.intel.com [192.55.52.151])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 4EE726E7B8
 for <intel-gfx@lists.freedesktop.org>; Tue,  7 May 2019 11:53:21 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from fmsmga005.fm.intel.com ([10.253.24.32])
 by fmsmga107.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 07 May 2019 04:53:21 -0700
X-ExtLoop1: 1
Received: from jzapadkx-mobl1.ger.corp.intel.com (HELO [10.252.0.159])
 ([10.252.0.159])
 by fmsmga005.fm.intel.com with ESMTP; 07 May 2019 04:53:19 -0700
To: Chris Wilson <chris@chris-wilson.co.uk>, intel-gfx@lists.freedesktop.org
References: <20190503115225.30831-1-chris@chris-wilson.co.uk>
 <20190503115225.30831-8-chris@chris-wilson.co.uk>
From: Tvrtko Ursulin <tvrtko.ursulin@linux.intel.com>
Organization: Intel Corporation UK Plc
Message-ID: <2f4b9a7e-16d4-9617-b7fc-471706fab30a@linux.intel.com>
Date: Tue, 7 May 2019 12:53:19 +0100
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101
 Thunderbird/60.6.1
MIME-Version: 1.0
In-Reply-To: <20190503115225.30831-8-chris@chris-wilson.co.uk>
Content-Language: en-US
Subject: Re: [Intel-gfx] [PATCH 08/13] drm/i915: Only reschedule the
 submission tasklet if preemption is possible
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

Ck9uIDAzLzA1LzIwMTkgMTI6NTIsIENocmlzIFdpbHNvbiB3cm90ZToKPiBJZiB3ZSBjb3VwbGUg
dGhlIHNjaGVkdWxlciBtb3JlIHRpZ2h0bHkgd2l0aCB0aGUgZXhlY2xpc3RzIHBvbGljeSwgd2UK
PiBjYW4gYXBwbHkgdGhlIHByZWVtcHRpb24gcG9saWN5IHRvIHRoZSBxdWVzdGlvbiBvZiB3aGV0
aGVyIHdlIG5lZWQgdG8KPiBraWNrIHRoZSB0YXNrbGV0IGF0IGFsbCBmb3IgdGhpcyBwcmlvcml0
eSBidW1wLgo+IAo+IHYyOiBSZXBocmFzZSBpdCBhcyBhIGNvcmUgaTkxNSBwb2xpY3kgYW5kIG5v
dCBhbiBleGVjbGlzdHMgZm9pYmxlLgo+IHYzOiBQdWxsIHRoZSBraWNrIHRvZ2V0aGVyLgo+IAo+
IFNpZ25lZC1vZmYtYnk6IENocmlzIFdpbHNvbiA8Y2hyaXNAY2hyaXMtd2lsc29uLmNvLnVrPgo+
IENjOiBUdnJ0a28gVXJzdWxpbiA8dHZydGtvLnVyc3VsaW5AaW50ZWwuY29tPgo+IC0tLQo+ICAg
ZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZW5naW5lLmggICAgICB8IDE4IC0tLS0tLS0t
LS0KPiAgIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2xyYy5jICAgICAgICAgfCAgNCAr
LS0KPiAgIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L3NlbGZ0ZXN0X2xyYy5jICAgICAgfCAgNyAr
KystCj4gICBkcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3JlcXVlc3QuYyAgICAgICAgIHwgIDIg
LS0KPiAgIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfc2NoZWR1bGVyLmMgICAgICAgfCAzNyAr
KysrKysrKysrKystLS0tLS0tLS0KPiAgIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfc2NoZWR1
bGVyLmggICAgICAgfCAxOCArKysrKysrKysrCj4gICBkcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRl
bF9ndWNfc3VibWlzc2lvbi5jIHwgIDMgKy0KPiAgIDcgZmlsZXMgY2hhbmdlZCwgNTAgaW5zZXJ0
aW9ucygrKSwgMzkgZGVsZXRpb25zKC0pCj4gCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2d0L2ludGVsX2VuZ2luZS5oIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxf
ZW5naW5lLmgKPiBpbmRleCA5ZTJhMTgzYTM1MWMuLjkzNTliM2E3YWQ5YyAxMDA2NDQKPiAtLS0g
YS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9lbmdpbmUuaAo+ICsrKyBiL2RyaXZlcnMv
Z3B1L2RybS9pOTE1L2d0L2ludGVsX2VuZ2luZS5oCj4gQEAgLTEwNiwyNCArMTA2LDYgQEAgaGFu
Z2NoZWNrX2FjdGlvbl90b19zdHIoY29uc3QgZW51bSBpbnRlbF9lbmdpbmVfaGFuZ2NoZWNrX2Fj
dGlvbiBhKQo+ICAgCj4gICB2b2lkIGludGVsX2VuZ2luZXNfc2V0X3NjaGVkdWxlcl9jYXBzKHN0
cnVjdCBkcm1faTkxNV9wcml2YXRlICppOTE1KTsKPiAgIAo+IC1zdGF0aWMgaW5saW5lIGJvb2wg
X19leGVjbGlzdHNfbmVlZF9wcmVlbXB0KGludCBwcmlvLCBpbnQgbGFzdCkKPiAtewo+IC0JLyoK
PiAtCSAqIEFsbG93IHByZWVtcHRpb24gb2YgbG93IC0+IG5vcm1hbCAtPiBoaWdoLCBidXQgd2Ug
ZG8KPiAtCSAqIG5vdCBhbGxvdyBsb3cgcHJpb3JpdHkgdGFza3MgdG8gcHJlZW1wdCBvdGhlciBs
b3cgcHJpb3JpdHkKPiAtCSAqIHRhc2tzIHVuZGVyIHRoZSBpbXByZXNzaW9uIHRoYXQgbGF0ZW5j
eSBmb3IgbG93IHByaW9yaXR5Cj4gLQkgKiB0YXNrcyBkb2VzIG5vdCBtYXR0ZXIgKGFzIG11Y2gg
YXMgYmFja2dyb3VuZCB0aHJvdWdocHV0KSwKPiAtCSAqIHNvIGtpc3MuCj4gLQkgKgo+IC0JICog
TW9yZSBuYXR1cmFsbHkgd2Ugd291bGQgd3JpdGUKPiAtCSAqCXByaW8gPj0gbWF4KDAsIGxhc3Qp
Owo+IC0JICogZXhjZXB0IHRoYXQgd2Ugd2lzaCB0byBwcmV2ZW50IHRyaWdnZXJpbmcgcHJlZW1w
dGlvbiBhdCB0aGUgc2FtZQo+IC0JICogcHJpb3JpdHkgbGV2ZWw6IHRoZSB0YXNrIHRoYXQgaXMg
cnVubmluZyBzaG91bGQgcmVtYWluIHJ1bm5pbmcKPiAtCSAqIHRvIHByZXNlcnZlIEZJRk8gb3Jk
ZXJpbmcgb2YgZGVwZW5kZW5jaWVzLgo+IC0JICovCj4gLQlyZXR1cm4gcHJpbyA+IG1heChJOTE1
X1BSSU9SSVRZX05PUk1BTCAtIDEsIGxhc3QpOwo+IC19Cj4gLQo+ICAgc3RhdGljIGlubGluZSB2
b2lkCj4gICBleGVjbGlzdHNfc2V0X2FjdGl2ZShzdHJ1Y3QgaW50ZWxfZW5naW5lX2V4ZWNsaXN0
cyAqZXhlY2xpc3RzLAo+ICAgCQkgICAgIHVuc2lnbmVkIGludCBiaXQpCj4gZGlmZiAtLWdpdCBh
L2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2xyYy5jIGIvZHJpdmVycy9ncHUvZHJtL2k5
MTUvZ3QvaW50ZWxfbHJjLmMKPiBpbmRleCA5MDkwMGM3ZDcwNTguLmFmY2RmYzQ0MGJiZCAxMDA2
NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9scmMuYwo+ICsrKyBiL2Ry
aXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2xyYy5jCj4gQEAgLTI1Miw4ICsyNTIsOCBAQCBz
dGF0aWMgaW5saW5lIGJvb2wgbmVlZF9wcmVlbXB0KGNvbnN0IHN0cnVjdCBpbnRlbF9lbmdpbmVf
Y3MgKmVuZ2luZSwKPiAgIAkgKiBvdXJzZWx2ZXMsIGlnbm9yZSB0aGUgcmVxdWVzdC4KPiAgIAkg
Ki8KPiAgIAlsYXN0X3ByaW8gPSBlZmZlY3RpdmVfcHJpbyhycSk7Cj4gLQlpZiAoIV9fZXhlY2xp
c3RzX25lZWRfcHJlZW1wdChlbmdpbmUtPmV4ZWNsaXN0cy5xdWV1ZV9wcmlvcml0eV9oaW50LAo+
IC0JCQkJICAgICAgbGFzdF9wcmlvKSkKPiArCWlmICghaTkxNV9zY2hlZHVsZXJfbmVlZF9wcmVl
bXB0KGVuZ2luZS0+ZXhlY2xpc3RzLnF1ZXVlX3ByaW9yaXR5X2hpbnQsCj4gKwkJCQkJIGxhc3Rf
cHJpbykpCj4gICAJCXJldHVybiBmYWxzZTsKPiAgIAo+ICAgCS8qCj4gZGlmZiAtLWdpdCBhL2Ry
aXZlcnMvZ3B1L2RybS9pOTE1L2d0L3NlbGZ0ZXN0X2xyYy5jIGIvZHJpdmVycy9ncHUvZHJtL2k5
MTUvZ3Qvc2VsZnRlc3RfbHJjLmMKPiBpbmRleCA4NDUzOGY2OTE4NWIuLjRiMDQyODkzZGMwZSAx
MDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9zZWxmdGVzdF9scmMuYwo+ICsr
KyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L3NlbGZ0ZXN0X2xyYy5jCj4gQEAgLTYzOCwxNCAr
NjM4LDE5IEBAIHN0YXRpYyBzdHJ1Y3QgaTkxNV9yZXF1ZXN0ICpkdW1teV9yZXF1ZXN0KHN0cnVj
dCBpbnRlbF9lbmdpbmVfY3MgKmVuZ2luZSkKPiAgIAlHRU1fQlVHX09OKGk5MTVfcmVxdWVzdF9j
b21wbGV0ZWQocnEpKTsKPiAgIAo+ICAgCWk5MTVfc3dfZmVuY2VfaW5pdCgmcnEtPnN1Ym1pdCwg
ZHVtbXlfbm90aWZ5KTsKPiAtCWk5MTVfc3dfZmVuY2VfY29tbWl0KCZycS0+c3VibWl0KTsKPiAr
CXNldF9iaXQoSTkxNV9GRU5DRV9GTEFHX0FDVElWRSwgJnJxLT5mZW5jZS5mbGFncyk7Cj4gICAK
PiAgIAlyZXR1cm4gcnE7Cj4gICB9Cj4gICAKPiAgIHN0YXRpYyB2b2lkIGR1bW15X3JlcXVlc3Rf
ZnJlZShzdHJ1Y3QgaTkxNV9yZXF1ZXN0ICpkdW1teSkKPiAgIHsKPiArCS8qIFdlIGhhdmUgdG8g
ZmFrZSB0aGUgQ1MgaW50ZXJydXB0IHRvIGtpY2sgdGhlIG5leHQgcmVxdWVzdCAqLwo+ICsJaTkx
NV9zd19mZW5jZV9jb21taXQoJmR1bW15LT5zdWJtaXQpOwo+ICsKPiAgIAlpOTE1X3JlcXVlc3Rf
bWFya19jb21wbGV0ZShkdW1teSk7Cj4gKwlkbWFfZmVuY2Vfc2lnbmFsKCZkdW1teS0+ZmVuY2Up
Owo+ICsKPiAgIAlpOTE1X3NjaGVkX25vZGVfZmluaSgmZHVtbXktPnNjaGVkKTsKPiAgIAlpOTE1
X3N3X2ZlbmNlX2ZpbmkoJmR1bW15LT5zdWJtaXQpOwo+ICAgCj4gZGlmZiAtLWdpdCBhL2RyaXZl
cnMvZ3B1L2RybS9pOTE1L2k5MTVfcmVxdWVzdC5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkx
NV9yZXF1ZXN0LmMKPiBpbmRleCBkMDZjNDUzMDViMDMuLjhjYjNlZDU1MzFlMyAxMDA2NDQKPiAt
LS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3JlcXVlc3QuYwo+ICsrKyBiL2RyaXZlcnMv
Z3B1L2RybS9pOTE1L2k5MTVfcmVxdWVzdC5jCj4gQEAgLTEzNzcsOSArMTM3Nyw3IEBAIGxvbmcg
aTkxNV9yZXF1ZXN0X3dhaXQoc3RydWN0IGk5MTVfcmVxdWVzdCAqcnEsCj4gICAJaWYgKGZsYWdz
ICYgSTkxNV9XQUlUX1BSSU9SSVRZKSB7Cj4gICAJCWlmICghaTkxNV9yZXF1ZXN0X3N0YXJ0ZWQo
cnEpICYmIElOVEVMX0dFTihycS0+aTkxNSkgPj0gNikKPiAgIAkJCWdlbjZfcnBzX2Jvb3N0KHJx
KTsKPiAtCQlsb2NhbF9iaF9kaXNhYmxlKCk7IC8qIHN1c3BlbmQgdGFza2xldHMgZm9yIHJlcHJp
b3JpdGlzYXRpb24gKi8KPiAgIAkJaTkxNV9zY2hlZHVsZV9idW1wX3ByaW9yaXR5KHJxLCBJOTE1
X1BSSU9SSVRZX1dBSVQpOwo+IC0JCWxvY2FsX2JoX2VuYWJsZSgpOyAvKiBraWNrIHRhc2tsZXRz
IGVuIG1hc3NlICovCj4gICAJfQo+ICAgCj4gICAJd2FpdC50c2sgPSBjdXJyZW50Owo+IGRpZmYg
LS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3NjaGVkdWxlci5jIGIvZHJpdmVycy9n
cHUvZHJtL2k5MTUvaTkxNV9zY2hlZHVsZXIuYwo+IGluZGV4IDM5YmM0ZjU0ZTI3Mi4uZmFkZjBj
ZDljNzVhIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfc2NoZWR1bGVy
LmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3NjaGVkdWxlci5jCj4gQEAgLTI2
MSwxNiArMjYxLDMwIEBAIHNjaGVkX2xvY2tfZW5naW5lKGNvbnN0IHN0cnVjdCBpOTE1X3NjaGVk
X25vZGUgKm5vZGUsCj4gICAJcmV0dXJuIGVuZ2luZTsKPiAgIH0KPiAgIAo+IC1zdGF0aWMgYm9v
bCBpbmZsaWdodChjb25zdCBzdHJ1Y3QgaTkxNV9yZXF1ZXN0ICpycSwKPiAtCQkgICAgIGNvbnN0
IHN0cnVjdCBpbnRlbF9lbmdpbmVfY3MgKmVuZ2luZSkKPiArc3RhdGljIGlubGluZSBpbnQgcnFf
cHJpbyhjb25zdCBzdHJ1Y3QgaTkxNV9yZXF1ZXN0ICpycSkKPiAgIHsKPiAtCWNvbnN0IHN0cnVj
dCBpOTE1X3JlcXVlc3QgKmFjdGl2ZTsKPiArCXJldHVybiBycS0+c2NoZWQuYXR0ci5wcmlvcml0
eSB8IF9fTk9fUFJFRU1QVElPTjsKPiArfQo+ICsKPiArc3RhdGljIHZvaWQga2lja19zdWJtaXNz
aW9uKHN0cnVjdCBpbnRlbF9lbmdpbmVfY3MgKmVuZ2luZSwgaW50IHByaW8pCj4gK3sKPiArCWNv
bnN0IHN0cnVjdCBpOTE1X3JlcXVlc3QgKmluZmxpZ2h0ID0KPiArCQlwb3J0X3JlcXVlc3QoZW5n
aW5lLT5leGVjbGlzdHMucG9ydCk7Cj4gICAKPiAtCWlmICghaTkxNV9yZXF1ZXN0X2lzX2FjdGl2
ZShycSkpCj4gLQkJcmV0dXJuIGZhbHNlOwo+ICsJaWYgKCFpbmZsaWdodCkgLyogY3VycmVudGx5
IGlkbGUsIG5vdGhpbmcgdG8gZG8gKi8KPiArCQlyZXR1cm47Cj4gKwo+ICsJLyoKPiArCSAqIElm
IHdlIGFyZSBhbHJlYWR5IHRoZSBjdXJyZW50bHkgZXhlY3V0aW5nIGNvbnRleHQsIGRvbid0Cj4g
KwkgKiBib3RoZXIgZXZhbHVhdGluZyBpZiB3ZSBzaG91bGQgcHJlZW1wdCBvdXJzZWx2ZXMsIG9y
IGlmCj4gKwkgKiB3ZSBleHBlY3Qgbm90aGluZyB0byBjaGFuZ2UgYXMgYSByZXN1bHQgb2YgcnVu
bmluZyB0aGUKPiArCSAqIHRhc2tsZXQsIGkuZS4gd2UgaGF2ZSBub3QgY2hhbmdlIHRoZSBwcmlv
cml0eSBxdWV1ZQo+ICsJICogc3VmZmljaWVudGx5IHRvIG91c3QgdGhlIHJ1bm5pbmcgY29udGV4
dC4KPiArCSAqLwo+ICsJaWYgKCFpOTE1X3NjaGVkdWxlcl9uZWVkX3ByZWVtcHQocHJpbywgcnFf
cHJpbyhpbmZsaWdodCkpKQo+ICsJCXJldHVybjsKPiAgIAo+IC0JYWN0aXZlID0gcG9ydF9yZXF1
ZXN0KGVuZ2luZS0+ZXhlY2xpc3RzLnBvcnQpOwo+IC0JcmV0dXJuIGFjdGl2ZS0+aHdfY29udGV4
dCA9PSBycS0+aHdfY29udGV4dDsKPiArCXRhc2tsZXRfaGlfc2NoZWR1bGUoJmVuZ2luZS0+ZXhl
Y2xpc3RzLnRhc2tsZXQpOwo+ICAgfQo+ICAgCj4gICBzdGF0aWMgdm9pZCBfX2k5MTVfc2NoZWR1
bGUoc3RydWN0IGk5MTVfcmVxdWVzdCAqcnEsCj4gQEAgLTM5NiwxNSArNDEwLDggQEAgc3RhdGlj
IHZvaWQgX19pOTE1X3NjaGVkdWxlKHN0cnVjdCBpOTE1X3JlcXVlc3QgKnJxLAo+ICAgCj4gICAJ
CWVuZ2luZS0+ZXhlY2xpc3RzLnF1ZXVlX3ByaW9yaXR5X2hpbnQgPSBwcmlvOwo+ICAgCj4gLQkJ
LyoKPiAtCQkgKiBJZiB3ZSBhcmUgYWxyZWFkeSB0aGUgY3VycmVudGx5IGV4ZWN1dGluZyBjb250
ZXh0LCBkb24ndAo+IC0JCSAqIGJvdGhlciBldmFsdWF0aW5nIGlmIHdlIHNob3VsZCBwcmVlbXB0
IG91cnNlbHZlcy4KPiAtCQkgKi8KPiAtCQlpZiAoaW5mbGlnaHQobm9kZV90b19yZXF1ZXN0KG5v
ZGUpLCBlbmdpbmUpKQo+IC0JCQljb250aW51ZTsKPiAtCj4gICAJCS8qIERlZmVyICh0YXNrbGV0
KSBzdWJtaXNzaW9uIHVudGlsIGFmdGVyIGFsbCBvZiBvdXIgdXBkYXRlcy4gKi8KPiAtCQl0YXNr
bGV0X2hpX3NjaGVkdWxlKCZlbmdpbmUtPmV4ZWNsaXN0cy50YXNrbGV0KTsKPiArCQlraWNrX3N1
Ym1pc3Npb24oZW5naW5lLCBwcmlvKTsKPiAgIAl9Cj4gICAKPiAgIAlzcGluX3VubG9jaygmZW5n
aW5lLT50aW1lbGluZS5sb2NrKTsKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUv
aTkxNV9zY2hlZHVsZXIuaCBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfc2NoZWR1bGVyLmgK
PiBpbmRleCAwN2QyNDNhY2Y1NTMuLjdlZWZjY2ZmMzliZiAxMDA2NDQKPiAtLS0gYS9kcml2ZXJz
L2dwdS9kcm0vaTkxNS9pOTE1X3NjaGVkdWxlci5oCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5
MTUvaTkxNV9zY2hlZHVsZXIuaAo+IEBAIC01Miw0ICs1MiwyMiBAQCBzdGF0aWMgaW5saW5lIHZv
aWQgaTkxNV9wcmlvbGlzdF9mcmVlKHN0cnVjdCBpOTE1X3ByaW9saXN0ICpwKQo+ICAgCQlfX2k5
MTVfcHJpb2xpc3RfZnJlZShwKTsKPiAgIH0KPiAgIAo+ICtzdGF0aWMgaW5saW5lIGJvb2wgaTkx
NV9zY2hlZHVsZXJfbmVlZF9wcmVlbXB0KGludCBwcmlvLCBpbnQgYWN0aXZlKQo+ICt7Cj4gKwkv
Kgo+ICsJICogQWxsb3cgcHJlZW1wdGlvbiBvZiBsb3cgLT4gbm9ybWFsIC0+IGhpZ2gsIGJ1dCB3
ZSBkbwo+ICsJICogbm90IGFsbG93IGxvdyBwcmlvcml0eSB0YXNrcyB0byBwcmVlbXB0IG90aGVy
IGxvdyBwcmlvcml0eQo+ICsJICogdGFza3MgdW5kZXIgdGhlIGltcHJlc3Npb24gdGhhdCBsYXRl
bmN5IGZvciBsb3cgcHJpb3JpdHkKPiArCSAqIHRhc2tzIGRvZXMgbm90IG1hdHRlciAoYXMgbXVj
aCBhcyBiYWNrZ3JvdW5kIHRocm91Z2hwdXQpLAo+ICsJICogc28ga2lzcy4KPiArCSAqCj4gKwkg
KiBNb3JlIG5hdHVyYWxseSB3ZSB3b3VsZCB3cml0ZQo+ICsJICoJcHJpbyA+PSBtYXgoMCwgbGFz
dCk7Cj4gKwkgKiBleGNlcHQgdGhhdCB3ZSB3aXNoIHRvIHByZXZlbnQgdHJpZ2dlcmluZyBwcmVl
bXB0aW9uIGF0IHRoZSBzYW1lCj4gKwkgKiBwcmlvcml0eSBsZXZlbDogdGhlIHRhc2sgdGhhdCBp
cyBydW5uaW5nIHNob3VsZCByZW1haW4gcnVubmluZwo+ICsJICogdG8gcHJlc2VydmUgRklGTyBv
cmRlcmluZyBvZiBkZXBlbmRlbmNpZXMuCj4gKwkgKi8KPiArCXJldHVybiBwcmlvID4gbWF4KEk5
MTVfUFJJT1JJVFlfTk9STUFMIC0gMSwgYWN0aXZlKTsKPiArfQo+ICsKPiAgICNlbmRpZiAvKiBf
STkxNV9TQ0hFRFVMRVJfSF8gKi8KPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUv
aW50ZWxfZ3VjX3N1Ym1pc3Npb24uYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX2d1Y19z
dWJtaXNzaW9uLmMKPiBpbmRleCA1N2VkMWRkNGFlNDEuLjM4MGQ4M2EyYmZiNiAxMDA2NDQKPiAt
LS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9ndWNfc3VibWlzc2lvbi5jCj4gKysrIGIv
ZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfZ3VjX3N1Ym1pc3Npb24uYwo+IEBAIC03NDcsNyAr
NzQ3LDggQEAgc3RhdGljIGJvb2wgX19ndWNfZGVxdWV1ZShzdHJ1Y3QgaW50ZWxfZW5naW5lX2Nz
ICplbmdpbmUpCj4gICAJCQkJJmVuZ2luZS0+aTkxNS0+Z3VjLnByZWVtcHRfd29ya1tlbmdpbmUt
PmlkXTsKPiAgIAkJCWludCBwcmlvID0gZXhlY2xpc3RzLT5xdWV1ZV9wcmlvcml0eV9oaW50Owo+
ICAgCj4gLQkJCWlmIChfX2V4ZWNsaXN0c19uZWVkX3ByZWVtcHQocHJpbywgcG9ydF9wcmlvKHBv
cnQpKSkgewo+ICsJCQlpZiAoaTkxNV9zY2hlZHVsZXJfbmVlZF9wcmVlbXB0KHByaW8sCj4gKwkJ
CQkJCQlwb3J0X3ByaW8ocG9ydCkpKSB7Cj4gICAJCQkJZXhlY2xpc3RzX3NldF9hY3RpdmUoZXhl
Y2xpc3RzLAo+ICAgCQkJCQkJICAgICBFWEVDTElTVFNfQUNUSVZFX1BSRUVNUFQpOwo+ICAgCQkJ
CXF1ZXVlX3dvcmsoZW5naW5lLT5pOTE1LT5ndWMucHJlZW1wdF93cSwKPiAKClJldmlld2VkLWJ5
OiBUdnJ0a28gVXJzdWxpbiA8dHZydGtvLnVyc3VsaW5AaW50ZWwuY29tPgoKUmVnYXJkcywKClR2
cnRrbwpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpJbnRl
bC1nZnggbWFpbGluZyBsaXN0CkludGVsLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6
Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9pbnRlbC1nZng=

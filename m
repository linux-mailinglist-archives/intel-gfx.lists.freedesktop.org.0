Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 768B8DC301
	for <lists+intel-gfx@lfdr.de>; Fri, 18 Oct 2019 12:45:05 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id AEA596EB15;
	Fri, 18 Oct 2019 10:45:03 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga01.intel.com (mga01.intel.com [192.55.52.88])
 by gabe.freedesktop.org (Postfix) with ESMTPS id DE94E6EB15
 for <intel-gfx@lists.freedesktop.org>; Fri, 18 Oct 2019 10:45:00 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga007.jf.intel.com ([10.7.209.58])
 by fmsmga101.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 18 Oct 2019 03:45:00 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.67,311,1566889200"; d="scan'208";a="186788647"
Received: from lgrafter-mobl2.ger.corp.intel.com (HELO
 mwahaha-bdw.ger.corp.intel.com) ([10.252.29.114])
 by orsmga007.jf.intel.com with ESMTP; 18 Oct 2019 03:44:58 -0700
From: Matthew Auld <matthew.auld@intel.com>
To: intel-gfx@lists.freedesktop.org
Date: Fri, 18 Oct 2019 11:44:50 +0100
Message-Id: <20191018104450.19100-3-matthew.auld@intel.com>
X-Mailer: git-send-email 2.20.1
In-Reply-To: <20191018104450.19100-1-matthew.auld@intel.com>
References: <20191018104450.19100-1-matthew.auld@intel.com>
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH v3 3/3] drm/i915: treat stolen as a region
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

Q29udmVydCBzdG9sZW4gbWVtb3J5IG92ZXIgdG8gYSByZWdpb24gb2JqZWN0LiBTdGlsbCBsZWF2
ZXMgb3BlbiB0aGUKcXVlc3Rpb24gd2l0aCB3aGF0IHRvIGRvIHdpdGggcHJlLWFsbG9jYXRlZCBv
YmplY3RzLi4uCgpTaWduZWQtb2ZmLWJ5OiBNYXR0aGV3IEF1bGQgPG1hdHRoZXcuYXVsZEBpbnRl
bC5jb20+CkNjOiBKb29uYXMgTGFodGluZW4gPGpvb25hcy5sYWh0aW5lbkBsaW51eC5pbnRlbC5j
b20+CkNjOiBBYmRpZWwgSmFudWxndWUgPGFiZGllbC5qYW51bGd1ZUBsaW51eC5pbnRlbC5jb20+
ClJldmlld2VkLWJ5OiBDaHJpcyBXaWxzb24gPGNocmlzQGNocmlzLXdpbHNvbi5jby51az4KLS0t
CiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fc3RvbGVuLmMgfCA2NSArKysrKysr
KysrKysrKysrKysrLS0tCiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fc3RvbGVu
LmggfCAgMyArLQogZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9nZW1fZ3R0LmMgICAgICAgIHwg
MTQgKy0tLS0KIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfcGNpLmMgICAgICAgICAgICB8ICAy
ICstCiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9tZW1vcnlfcmVnaW9uLmMgfCAgMSArCiBk
cml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9tZW1vcnlfcmVnaW9uLmggfCAgMyArCiA2IGZpbGVz
IGNoYW5nZWQsIDY1IGluc2VydGlvbnMoKyksIDIzIGRlbGV0aW9ucygtKQoKZGlmZiAtLWdpdCBh
L2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9zdG9sZW4uYyBiL2RyaXZlcnMvZ3B1
L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9zdG9sZW4uYwppbmRleCBjNzYyNjBjZTEzZTMuLjU3Y2Q4
YmMyNjU3YyAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX3N0
b2xlbi5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9zdG9sZW4uYwpA
QCAtMTAsNiArMTAsNyBAQAogI2luY2x1ZGUgPGRybS9kcm1fbW0uaD4KICNpbmNsdWRlIDxkcm0v
aTkxNV9kcm0uaD4KIAorI2luY2x1ZGUgImdlbS9pOTE1X2dlbV9yZWdpb24uaCIKICNpbmNsdWRl
ICJpOTE1X2Rydi5oIgogI2luY2x1ZGUgImk5MTVfZ2VtX3N0b2xlbi5oIgogCkBAIC0xNTAsNyAr
MTUxLDcgQEAgc3RhdGljIGludCBpOTE1X2FkanVzdF9zdG9sZW4oc3RydWN0IGRybV9pOTE1X3By
aXZhdGUgKmRldl9wcml2LAogCXJldHVybiAwOwogfQogCi12b2lkIGk5MTVfZ2VtX2NsZWFudXBf
c3RvbGVuKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdikKK3N0YXRpYyB2b2lkIGk5
MTVfZ2VtX2NsZWFudXBfc3RvbGVuKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdikK
IHsKIAlpZiAoIWRybV9tbV9pbml0aWFsaXplZCgmZGV2X3ByaXYtPm1tLnN0b2xlbikpCiAJCXJl
dHVybjsKQEAgLTM1NSw3ICszNTYsNyBAQCBzdGF0aWMgdm9pZCBpY2xfZ2V0X3N0b2xlbl9yZXNl
cnZlZChzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSwKIAl9CiB9CiAKLWludCBpOTE1X2dl
bV9pbml0X3N0b2xlbihzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYpCitzdGF0aWMg
aW50IGk5MTVfZ2VtX2luaXRfc3RvbGVuKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJp
dikKIHsKIAlyZXNvdXJjZV9zaXplX3QgcmVzZXJ2ZWRfYmFzZSwgc3RvbGVuX3RvcDsKIAlyZXNv
dXJjZV9zaXplX3QgcmVzZXJ2ZWRfdG90YWwsIHJlc2VydmVkX3NpemU7CkBAIC01MzksNiArNTQw
LDkgQEAgaTkxNV9nZW1fb2JqZWN0X3JlbGVhc2Vfc3RvbGVuKHN0cnVjdCBkcm1faTkxNV9nZW1f
b2JqZWN0ICpvYmopCiAKIAlpOTE1X2dlbV9zdG9sZW5fcmVtb3ZlX25vZGUoZGV2X3ByaXYsIHN0
b2xlbik7CiAJa2ZyZWUoc3RvbGVuKTsKKworCWlmIChvYmotPm1tLnJlZ2lvbikKKwkJaTkxNV9n
ZW1fb2JqZWN0X3JlbGVhc2VfbWVtb3J5X3JlZ2lvbihvYmopOwogfQogCiBzdGF0aWMgY29uc3Qg
c3RydWN0IGRybV9pOTE1X2dlbV9vYmplY3Rfb3BzIGk5MTVfZ2VtX29iamVjdF9zdG9sZW5fb3Bz
ID0gewpAQCAtNTQ4LDggKzU1Miw5IEBAIHN0YXRpYyBjb25zdCBzdHJ1Y3QgZHJtX2k5MTVfZ2Vt
X29iamVjdF9vcHMgaTkxNV9nZW1fb2JqZWN0X3N0b2xlbl9vcHMgPSB7CiB9OwogCiBzdGF0aWMg
c3RydWN0IGRybV9pOTE1X2dlbV9vYmplY3QgKgotX2k5MTVfZ2VtX29iamVjdF9jcmVhdGVfc3Rv
bGVuKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiwKLQkJCSAgICAgICBzdHJ1Y3Qg
ZHJtX21tX25vZGUgKnN0b2xlbikKK19faTkxNV9nZW1fb2JqZWN0X2NyZWF0ZV9zdG9sZW4oc3Ry
dWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2LAorCQkJCXN0cnVjdCBkcm1fbW1fbm9kZSAq
c3RvbGVuLAorCQkJCXN0cnVjdCBpbnRlbF9tZW1vcnlfcmVnaW9uICptZW0pCiB7CiAJc3RydWN0
IGRybV9pOTE1X2dlbV9vYmplY3QgKm9iajsKIAl1bnNpZ25lZCBpbnQgY2FjaGVfbGV2ZWw7CkBA
IC01NzEsNiArNTc2LDkgQEAgX2k5MTVfZ2VtX29iamVjdF9jcmVhdGVfc3RvbGVuKHN0cnVjdCBk
cm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiwKIAlpZiAoZXJyKQogCQlnb3RvIGNsZWFudXA7CiAK
KwlpZiAobWVtKQorCQlpOTE1X2dlbV9vYmplY3RfaW5pdF9tZW1vcnlfcmVnaW9uKG9iaiwgbWVt
LCAwKTsKKwogCXJldHVybiBvYmo7CiAKIGNsZWFudXA6CkBAIC01NzksMTAgKzU4NywxMiBAQCBf
aTkxNV9nZW1fb2JqZWN0X2NyZWF0ZV9zdG9sZW4oc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRl
dl9wcml2LAogCXJldHVybiBFUlJfUFRSKGVycik7CiB9CiAKLXN0cnVjdCBkcm1faTkxNV9nZW1f
b2JqZWN0ICoKLWk5MTVfZ2VtX29iamVjdF9jcmVhdGVfc3RvbGVuKHN0cnVjdCBkcm1faTkxNV9w
cml2YXRlICpkZXZfcHJpdiwKLQkJCSAgICAgIHJlc291cmNlX3NpemVfdCBzaXplKQorc3RhdGlj
IHN0cnVjdCBkcm1faTkxNV9nZW1fb2JqZWN0ICoKK19pOTE1X2dlbV9vYmplY3RfY3JlYXRlX3N0
b2xlbihzdHJ1Y3QgaW50ZWxfbWVtb3J5X3JlZ2lvbiAqbWVtLAorCQkJICAgICAgIHJlc291cmNl
X3NpemVfdCBzaXplLAorCQkJICAgICAgIHVuc2lnbmVkIGludCBmbGFncykKIHsKKwlzdHJ1Y3Qg
ZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYgPSBtZW0tPmk5MTU7CiAJc3RydWN0IGRybV9pOTE1
X2dlbV9vYmplY3QgKm9iajsKIAlzdHJ1Y3QgZHJtX21tX25vZGUgKnN0b2xlbjsKIAlpbnQgcmV0
OwpAQCAtNjAzLDcgKzYxMyw3IEBAIGk5MTVfZ2VtX29iamVjdF9jcmVhdGVfc3RvbGVuKHN0cnVj
dCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiwKIAkJZ290byBlcnJfZnJlZTsKIAl9CiAKLQlv
YmogPSBfaTkxNV9nZW1fb2JqZWN0X2NyZWF0ZV9zdG9sZW4oZGV2X3ByaXYsIHN0b2xlbik7CisJ
b2JqID0gX19pOTE1X2dlbV9vYmplY3RfY3JlYXRlX3N0b2xlbihkZXZfcHJpdiwgc3RvbGVuLCBt
ZW0pOwogCWlmIChJU19FUlIob2JqKSkKIAkJZ290byBlcnJfcmVtb3ZlOwogCkBAIC02MTYsNiAr
NjI2LDQzIEBAIGk5MTVfZ2VtX29iamVjdF9jcmVhdGVfc3RvbGVuKHN0cnVjdCBkcm1faTkxNV9w
cml2YXRlICpkZXZfcHJpdiwKIAlyZXR1cm4gb2JqOwogfQogCitzdHJ1Y3QgZHJtX2k5MTVfZ2Vt
X29iamVjdCAqCitpOTE1X2dlbV9vYmplY3RfY3JlYXRlX3N0b2xlbihzdHJ1Y3QgZHJtX2k5MTVf
cHJpdmF0ZSAqZGV2X3ByaXYsCisJCQkgICAgICByZXNvdXJjZV9zaXplX3Qgc2l6ZSkKK3sKKwly
ZXR1cm4gaTkxNV9nZW1fb2JqZWN0X2NyZWF0ZV9yZWdpb24oZGV2X3ByaXYtPm1tLnJlZ2lvbnNb
SU5URUxfUkVHSU9OX1NUT0xFTl0sCisJCQkJCSAgICAgc2l6ZSwgSTkxNV9CT19BTExPQ19DT05U
SUdVT1VTKTsKK30KKworc3RhdGljIGludCBpbml0X3N0b2xlbihzdHJ1Y3QgaW50ZWxfbWVtb3J5
X3JlZ2lvbiAqbWVtKQoreworCS8qCisJICogSW5pdGlhbGlzZSBzdG9sZW4gZWFybHkgc28gdGhh
dCB3ZSBtYXkgcmVzZXJ2ZSBwcmVhbGxvY2F0ZWQKKwkgKiBvYmplY3RzIGZvciB0aGUgQklPUyB0
byBLTVMgdHJhbnNpdGlvbi4KKwkgKi8KKwlyZXR1cm4gaTkxNV9nZW1faW5pdF9zdG9sZW4obWVt
LT5pOTE1KTsKK30KKworc3RhdGljIHZvaWQgcmVsZWFzZV9zdG9sZW4oc3RydWN0IGludGVsX21l
bW9yeV9yZWdpb24gKm1lbSkKK3sKKwlpOTE1X2dlbV9jbGVhbnVwX3N0b2xlbihtZW0tPmk5MTUp
OworfQorCitzdGF0aWMgY29uc3Qgc3RydWN0IGludGVsX21lbW9yeV9yZWdpb25fb3BzIGk5MTVf
cmVnaW9uX3N0b2xlbl9vcHMgPSB7CisJLmluaXQgPSBpbml0X3N0b2xlbiwKKwkucmVsZWFzZSA9
IHJlbGVhc2Vfc3RvbGVuLAorCS5jcmVhdGVfb2JqZWN0ID0gX2k5MTVfZ2VtX29iamVjdF9jcmVh
dGVfc3RvbGVuLAorfTsKKworc3RydWN0IGludGVsX21lbW9yeV9yZWdpb24gKmk5MTVfZ2VtX3N0
b2xlbl9zZXR1cChzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSkKK3sKKwlyZXR1cm4gaW50
ZWxfbWVtb3J5X3JlZ2lvbl9jcmVhdGUoaTkxNSwKKwkJCQkJICBpbnRlbF9ncmFwaGljc19zdG9s
ZW5fcmVzLnN0YXJ0LAorCQkJCQkgIHJlc291cmNlX3NpemUoJmludGVsX2dyYXBoaWNzX3N0b2xl
bl9yZXMpLAorCQkJCQkgIFBBR0VfU0laRSwgMCwKKwkJCQkJICAmaTkxNV9yZWdpb25fc3RvbGVu
X29wcyk7Cit9CisKIHN0cnVjdCBkcm1faTkxNV9nZW1fb2JqZWN0ICoKIGk5MTVfZ2VtX29iamVj
dF9jcmVhdGVfc3RvbGVuX2Zvcl9wcmVhbGxvY2F0ZWQoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUg
KmRldl9wcml2LAogCQkJCQkgICAgICAgcmVzb3VyY2Vfc2l6ZV90IHN0b2xlbl9vZmZzZXQsCkBA
IC02NTUsNyArNzAyLDcgQEAgaTkxNV9nZW1fb2JqZWN0X2NyZWF0ZV9zdG9sZW5fZm9yX3ByZWFs
bG9jYXRlZChzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYKIAkJcmV0dXJuIEVSUl9Q
VFIocmV0KTsKIAl9CiAKLQlvYmogPSBfaTkxNV9nZW1fb2JqZWN0X2NyZWF0ZV9zdG9sZW4oZGV2
X3ByaXYsIHN0b2xlbik7CisJb2JqID0gX19pOTE1X2dlbV9vYmplY3RfY3JlYXRlX3N0b2xlbihk
ZXZfcHJpdiwgc3RvbGVuLCBOVUxMKTsKIAlpZiAoSVNfRVJSKG9iaikpIHsKIAkJRFJNX0RFQlVH
X0RSSVZFUigiZmFpbGVkIHRvIGFsbG9jYXRlIHN0b2xlbiBvYmplY3RcbiIpOwogCQlpOTE1X2dl
bV9zdG9sZW5fcmVtb3ZlX25vZGUoZGV2X3ByaXYsIHN0b2xlbik7CmRpZmYgLS1naXQgYS9kcml2
ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fc3RvbGVuLmggYi9kcml2ZXJzL2dwdS9kcm0v
aTkxNS9nZW0vaTkxNV9nZW1fc3RvbGVuLmgKaW5kZXggMjI4OTY0NGQ4NjA0Li5jMTA0MDYyN2Zi
ZjMgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9zdG9sZW4u
aAorKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fc3RvbGVuLmgKQEAgLTIx
LDggKzIxLDcgQEAgaW50IGk5MTVfZ2VtX3N0b2xlbl9pbnNlcnRfbm9kZV9pbl9yYW5nZShzdHJ1
Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYsCiAJCQkJCSB1NjQgZW5kKTsKIHZvaWQgaTkx
NV9nZW1fc3RvbGVuX3JlbW92ZV9ub2RlKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJp
diwKIAkJCQkgc3RydWN0IGRybV9tbV9ub2RlICpub2RlKTsKLWludCBpOTE1X2dlbV9pbml0X3N0
b2xlbihzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYpOwotdm9pZCBpOTE1X2dlbV9j
bGVhbnVwX3N0b2xlbihzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYpOworc3RydWN0
IGludGVsX21lbW9yeV9yZWdpb24gKmk5MTVfZ2VtX3N0b2xlbl9zZXR1cChzdHJ1Y3QgZHJtX2k5
MTVfcHJpdmF0ZSAqaTkxNSk7CiBzdHJ1Y3QgZHJtX2k5MTVfZ2VtX29iamVjdCAqCiBpOTE1X2dl
bV9vYmplY3RfY3JlYXRlX3N0b2xlbihzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYs
CiAJCQkgICAgICByZXNvdXJjZV9zaXplX3Qgc2l6ZSk7CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dw
dS9kcm0vaTkxNS9pOTE1X2dlbV9ndHQuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZ2Vt
X2d0dC5jCmluZGV4IDI2M2YxY2VhMGI2NC4uMGRmMDU3ODM4YTI0IDEwMDY0NAotLS0gYS9kcml2
ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2dlbV9ndHQuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkx
NS9pOTE1X2dlbV9ndHQuYwpAQCAtMjc0OCw4ICsyNzQ4LDYgQEAgdm9pZCBpOTE1X2dlbV9jbGVh
bnVwX21lbW9yeV9yZWdpb25zKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICppOTE1KQogewogCWlu
dCBpOwogCi0JaTkxNV9nZW1fY2xlYW51cF9zdG9sZW4oaTkxNSk7Ci0KIAlmb3IgKGkgPSAwOyBp
IDwgSU5URUxfUkVHSU9OX1VOS05PV047IGkrKykgewogCQlzdHJ1Y3QgaW50ZWxfbWVtb3J5X3Jl
Z2lvbiAqcmVnaW9uID0gaTkxNS0+bW0ucmVnaW9uc1tpXTsKIApAQCAtMjc2MiwxNSArMjc2MCw2
IEBAIGludCBpOTE1X2dlbV9pbml0X21lbW9yeV9yZWdpb25zKHN0cnVjdCBkcm1faTkxNV9wcml2
YXRlICppOTE1KQogewogCWludCBlcnIsIGk7CiAKLQkvKgotCSAqIEluaXRpYWxpc2Ugc3RvbGVu
IGVhcmx5IHNvIHRoYXQgd2UgbWF5IHJlc2VydmUgcHJlYWxsb2NhdGVkCi0JICogb2JqZWN0cyBm
b3IgdGhlIEJJT1MgdG8gS01TIHRyYW5zaXRpb24uCi0JICovCi0JLyogWFhYOiBzdG9sZW4gd2ls
bCBiZWNvbWUgYSByZWdpb24gYXQgc29tZSBwb2ludCAqLwotCWVyciA9IGk5MTVfZ2VtX2luaXRf
c3RvbGVuKGk5MTUpOwotCWlmIChlcnIpCi0JCXJldHVybiBlcnI7Ci0KIAlmb3IgKGkgPSAwOyBp
IDwgSU5URUxfUkVHSU9OX1VOS05PV047IGkrKykgewogCQlzdHJ1Y3QgaW50ZWxfbWVtb3J5X3Jl
Z2lvbiAqbWVtID0gRVJSX1BUUigtRU5PREVWKTsKIAkJdTMyIHR5cGU7CkBAIC0yNzgzLDYgKzI3
NzIsOSBAQCBpbnQgaTkxNV9nZW1faW5pdF9tZW1vcnlfcmVnaW9ucyhzdHJ1Y3QgZHJtX2k5MTVf
cHJpdmF0ZSAqaTkxNSkKIAkJY2FzZSBJTlRFTF9NRU1PUllfU1lTVEVNOgogCQkJbWVtID0gaTkx
NV9nZW1fc2htZW1fc2V0dXAoaTkxNSk7CiAJCQlicmVhazsKKwkJY2FzZSBJTlRFTF9NRU1PUllf
U1RPTEVOOgorCQkJbWVtID0gaTkxNV9nZW1fc3RvbGVuX3NldHVwKGk5MTUpOworCQkJYnJlYWs7
CiAJCX0KIAogCQlpZiAoSVNfRVJSKG1lbSkpIHsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2k5MTVfcGNpLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3BjaS5jCmluZGV4
IGU1NWFiMjcyNDk5Ni4uZjlhM2JmZTY4Njg5IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0v
aTkxNS9pOTE1X3BjaS5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfcGNpLmMKQEAg
LTE1Miw3ICsxNTIsNyBAQAogCS5wYWdlX3NpemVzID0gSTkxNV9HVFRfUEFHRV9TSVpFXzRLCiAK
ICNkZWZpbmUgR0VOX0RFRkFVTFRfUkVHSU9OUyBcCi0JLm1lbW9yeV9yZWdpb25zID0gUkVHSU9O
X1NNRU0KKwkubWVtb3J5X3JlZ2lvbnMgPSBSRUdJT05fU01FTSB8IFJFR0lPTl9TVE9MRU4KIAog
I2RlZmluZSBJODMwX0ZFQVRVUkVTIFwKIAlHRU4oMiksIFwKZGlmZiAtLWdpdCBhL2RyaXZlcnMv
Z3B1L2RybS9pOTE1L2ludGVsX21lbW9yeV9yZWdpb24uYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1
L2ludGVsX21lbW9yeV9yZWdpb24uYwppbmRleCAxMzJkYTg3MmIyMzIuLjNiZWQzOWM1ZmVlZiAx
MDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfbWVtb3J5X3JlZ2lvbi5jCisr
KyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX21lbW9yeV9yZWdpb24uYwpAQCAtMTIsNiAr
MTIsNyBAQAogCiBjb25zdCB1MzIgaW50ZWxfcmVnaW9uX21hcFtdID0gewogCVtJTlRFTF9SRUdJ
T05fU01FTV0gPSBSRUdJT05fTUFQKElOVEVMX01FTU9SWV9TWVNURU0sIDApLAorCVtJTlRFTF9S
RUdJT05fU1RPTEVOXSA9IFJFR0lPTl9NQVAoSU5URUxfTUVNT1JZX1NUT0xFTiwgMCksCiB9Owog
CiBzdGF0aWMgdTY0CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9tZW1v
cnlfcmVnaW9uLmggYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9tZW1vcnlfcmVnaW9uLmgK
aW5kZXggOWM1NmMwNTMyOGQ3Li5iNmEyOWZiYjc0ZTQgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1
L2RybS9pOTE1L2ludGVsX21lbW9yeV9yZWdpb24uaAorKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkx
NS9pbnRlbF9tZW1vcnlfcmVnaW9uLmgKQEAgLTIzLDE1ICsyMywxOCBAQCBzdHJ1Y3Qgc2dfdGFi
bGU7CiAgKi8KIGVudW0gaW50ZWxfbWVtb3J5X3R5cGUgewogCUlOVEVMX01FTU9SWV9TWVNURU0g
PSAwLAorCUlOVEVMX01FTU9SWV9TVE9MRU4sCiAJSU5URUxfTUVNT1JZX1VOS05PV04sCiB9Owog
CiBlbnVtIGludGVsX3JlZ2lvbl9pZCB7CiAJSU5URUxfUkVHSU9OX1NNRU0gPSAwLAorCUlOVEVM
X1JFR0lPTl9TVE9MRU4sCiAJSU5URUxfUkVHSU9OX1VOS05PV04sIC8qIFNob3VsZCBiZSBsYXN0
ICovCiB9OwogCiAjZGVmaW5lIFJFR0lPTl9TTUVNICAgICBCSVQoSU5URUxfUkVHSU9OX1NNRU0p
CisjZGVmaW5lIFJFR0lPTl9TVE9MRU4gICBCSVQoSU5URUxfUkVHSU9OX1NUT0xFTikKIAogI2Rl
ZmluZSBJTlRFTF9NRU1PUllfVFlQRV9TSElGVCAxNgogCi0tIAoyLjIwLjEKCl9fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCkludGVsLWdmeCBtYWlsaW5nIGxp
c3QKSW50ZWwtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNr
dG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2ludGVsLWdmeA==

Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 97466B76CC
	for <lists+intel-gfx@lfdr.de>; Thu, 19 Sep 2019 11:58:17 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 570A56F76B;
	Thu, 19 Sep 2019 09:58:15 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga17.intel.com (mga17.intel.com [192.55.52.151])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 416486F76B
 for <intel-gfx@lists.freedesktop.org>; Thu, 19 Sep 2019 09:58:14 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga002.jf.intel.com ([10.7.209.21])
 by fmsmga107.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 19 Sep 2019 02:58:13 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.64,523,1559545200"; d="scan'208";a="199345139"
Received: from leonidf-mobl.ger.corp.intel.com (HELO [10.252.3.171])
 ([10.252.3.171])
 by orsmga002.jf.intel.com with ESMTP; 19 Sep 2019 02:58:12 -0700
From: Tvrtko Ursulin <tvrtko.ursulin@linux.intel.com>
To: Daniele Ceraolo Spurio <daniele.ceraolospurio@intel.com>,
 intel-gfx@lists.freedesktop.org
References: <20190919015330.15435-1-daniele.ceraolospurio@intel.com>
 <88d7cc08-a621-88b5-c043-44e5487e579d@linux.intel.com>
Organization: Intel Corporation UK Plc
Message-ID: <2fa990de-e08a-be3e-8e03-24b8bad1a5f7@linux.intel.com>
Date: Thu, 19 Sep 2019 10:58:11 +0100
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101
 Thunderbird/60.8.0
MIME-Version: 1.0
In-Reply-To: <88d7cc08-a621-88b5-c043-44e5487e579d@linux.intel.com>
Content-Language: en-US
Subject: Re: [Intel-gfx] [PATCH v2] drm/i915: fix SFC reset flow
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: Owen Zhang <owen.zhang@intel.com>
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

Ck9uIDE5LzA5LzIwMTkgMTA6MzQsIFR2cnRrbyBVcnN1bGluIHdyb3RlOgo+IAo+IE9uIDE5LzA5
LzIwMTkgMDI6NTMsIERhbmllbGUgQ2VyYW9sbyBTcHVyaW8gd3JvdGU6Cj4+IE91ciBhc3N1bXB0
aW9uIHRoYXQgdGhlIHdlIGNhbiBhc2sgdGhlIEhXIHRvIGxvY2sgdGhlIFNGQyBldmVuIGlmIG5v
dAo+PiBjdXJyZW50bHkgaW4gdXNlIGRvZXMgbm90IG1hdGNoIHRoZSBIVyBjb21taXRtZW50LiBU
aGUgZXhwZWN0YXRpb24gZnJvbQo+PiB0aGUgSFcgaXMgdGhhdCBTVyB3aWxsIG5vdCB0cnkgdG8g
bG9jayB0aGUgU0ZDIGlmIHRoZSBlbmdpbmUgaXMgbm90Cj4+IHVzaW5nIGl0IGFuZCBpZiB3ZSBk
byB0aGF0IHRoZSBiZWhhdmlvciBpcyB1bmRlZmluZWQ7IG9uIElDTCB0aGUgSFcKPj4gZW5kcyB1
cCB0byByZXR1cm5pbmcgdGhlIGFjayBhbmQgaWdub3Jpbmcgb3VyIGxvY2sgcmVxdWVzdCwgYnV0
IHRoaXMgaXMKPj4gbm90IGd1YXJhbnRlZWQgYW5kIHdlIHNob3VsZG4ndCBleHBlY3QgaXQgZ29p
bmcgZm9yd2FyZC4KPj4KPj4gQWxzbywgZmFpbGluZyB0byBnZXQgdGhlIGFjayB3aGlsZSB0aGUg
U0ZDIGlzIGluIHVzZSBtZWFucyB0aGF0IHdlIGNhbid0Cj4+IGNsZWFubHkgcmVzZXQgaXQsIHNv
IGZhaWwgdGhlIGVuZ2luZSByZXNldCBpbiB0aGF0IHNjZW5hcmlvLgo+Pgo+PiB2MjogZHJvcCBy
bXcgY2hhbmdlLCBrZWVwIHRoZSBsb2cgYXMgZGVidWcgYW5kIGhhbmRsZSBmYWlsdXJlIChDaHJp
cyksCj4+IMKgwqDCoMKgIGltcHJvdmUgY29tbWVudHMgKFR2cnRrbykuCj4+Cj4+IFJlcG9ydGVk
LWJ5OiBPd2VuIFpoYW5nIDxvd2VuLnpoYW5nQGludGVsLmNvbT4KPj4gU2lnbmVkLW9mZi1ieTog
RGFuaWVsZSBDZXJhb2xvIFNwdXJpbyA8ZGFuaWVsZS5jZXJhb2xvc3B1cmlvQGludGVsLmNvbT4K
Pj4gQ2M6IFR2cnRrbyBVcnN1bGluIDx0dnJ0a28udXJzdWxpbkBsaW51eC5pbnRlbC5jb20+Cj4+
IENjOiBDaHJpcyBXaWxzb24gPGNocmlzQGNocmlzLXdpbHNvbi5jby51az4KPj4gLS0tCj4+IMKg
IGRyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX3Jlc2V0LmMgfCA1MSArKysrKysrKysrKysr
KysrKy0tLS0tLS0tLS0KPj4gwqAgMSBmaWxlIGNoYW5nZWQsIDMzIGluc2VydGlvbnMoKyksIDE4
IGRlbGV0aW9ucygtKQo+Pgo+PiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3Qv
aW50ZWxfcmVzZXQuYyAKPj4gYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9yZXNldC5j
Cj4+IGluZGV4IDgzMjcyMjBhYzU1OC4uNzk3Y2Y1MDYyNWNiIDEwMDY0NAo+PiAtLS0gYS9kcml2
ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9yZXNldC5jCj4+ICsrKyBiL2RyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2d0L2ludGVsX3Jlc2V0LmMKPj4gQEAgLTMwOSw3ICszMDksNyBAQCBzdGF0aWMgaW50
IGdlbjZfcmVzZXRfZW5naW5lcyhzdHJ1Y3QgaW50ZWxfZ3QgKmd0LAo+PiDCoMKgwqDCoMKgIHJl
dHVybiBnZW42X2h3X2RvbWFpbl9yZXNldChndCwgaHdfbWFzayk7Cj4+IMKgIH0KPj4gLXN0YXRp
YyB1MzIgZ2VuMTFfbG9ja19zZmMoc3RydWN0IGludGVsX2VuZ2luZV9jcyAqZW5naW5lKQo+PiAr
c3RhdGljIGludCBnZW4xMV9sb2NrX3NmYyhzdHJ1Y3QgaW50ZWxfZW5naW5lX2NzICplbmdpbmUs
IHUzMiAqaHdfbWFzaykKPj4gwqAgewo+PiDCoMKgwqDCoMKgIHN0cnVjdCBpbnRlbF91bmNvcmUg
KnVuY29yZSA9IGVuZ2luZS0+dW5jb3JlOwo+PiDCoMKgwqDCoMKgIHU4IHZkYm94X3NmY19hY2Nl
c3MgPSBSVU5USU1FX0lORk8oZW5naW5lLT5pOTE1KS0+dmRib3hfc2ZjX2FjY2VzczsKPj4gQEAg
LTMxOCw2ICszMTgsNyBAQCBzdGF0aWMgdTMyIGdlbjExX2xvY2tfc2ZjKHN0cnVjdCBpbnRlbF9l
bmdpbmVfY3MgCj4+ICplbmdpbmUpCj4+IMKgwqDCoMKgwqAgaTkxNV9yZWdfdCBzZmNfdXNhZ2U7
Cj4+IMKgwqDCoMKgwqAgdTMyIHNmY191c2FnZV9iaXQ7Cj4+IMKgwqDCoMKgwqAgdTMyIHNmY19y
ZXNldF9iaXQ7Cj4+ICvCoMKgwqAgaW50IHJldDsKPj4gwqDCoMKgwqDCoCBzd2l0Y2ggKGVuZ2lu
ZS0+Y2xhc3MpIHsKPj4gwqDCoMKgwqDCoCBjYXNlIFZJREVPX0RFQ09ERV9DTEFTUzoKPj4gQEAg
LTM1MiwyOCArMzUzLDMzIEBAIHN0YXRpYyB1MzIgZ2VuMTFfbG9ja19zZmMoc3RydWN0IGludGVs
X2VuZ2luZV9jcyAKPj4gKmVuZ2luZSkKPj4gwqDCoMKgwqDCoCB9Cj4+IMKgwqDCoMKgwqAgLyoK
Pj4gLcKgwqDCoMKgICogVGVsbCB0aGUgZW5naW5lIHRoYXQgYSBzb2Z0d2FyZSByZXNldCBpcyBn
b2luZyB0byBoYXBwZW4uIFRoZSAKPj4gZW5naW5lCj4+IC3CoMKgwqDCoCAqIHdpbGwgdGhlbiB0
cnkgdG8gZm9yY2UgbG9jayB0aGUgU0ZDIChpZiBjdXJyZW50bHkgbG9ja2VkLCBpdCB3aWxsCj4+
IC3CoMKgwqDCoCAqIHJlbWFpbiBzbyB1bnRpbCB3ZSB0ZWxsIHRoZSBlbmdpbmUgaXQgaXMgc2Fm
ZSB0byB1bmxvY2s7IGlmIAo+PiBjdXJyZW50bHkKPj4gLcKgwqDCoMKgICogdW5sb2NrZWQsIGl0
IHdpbGwgaWdub3JlIHRoaXMgYW5kIGFsbCBuZXcgbG9jayByZXF1ZXN0cykuIElmIFNGQwo+PiAt
wqDCoMKgwqAgKiBlbmRzIHVwIGJlaW5nIGxvY2tlZCB0byB0aGUgZW5naW5lIHdlIHdhbnQgdG8g
cmVzZXQsIHdlIGhhdmUgCj4+IHRvIHJlc2V0Cj4+IC3CoMKgwqDCoCAqIGl0IGFzIHdlbGwgKHdl
IHdpbGwgdW5sb2NrIGl0IG9uY2UgdGhlIHJlc2V0IHNlcXVlbmNlIGlzIAo+PiBjb21wbGV0ZWQp
Lgo+PiArwqDCoMKgwqAgKiBJZiB0aGUgZW5naW5lIGlzIHVzaW5nIGEgU0ZDLCB0ZWxsIHRoZSBl
bmdpbmUgdGhhdCBhIHNvZnR3YXJlIAo+PiByZXNldAo+PiArwqDCoMKgwqAgKiBpcyBnb2luZyB0
byBoYXBwZW4uIFRoZSBlbmdpbmUgd2lsbCB0aGVuIHRyeSB0byBmb3JjZSBsb2NrIHRoZSAKPj4g
U0ZDLgo+PiArwqDCoMKgwqAgKiBJZiBTRkMgZW5kcyB1cCBiZWluZyBsb2NrZWQgdG8gdGhlIGVu
Z2luZSB3ZSB3YW50IHRvIHJlc2V0LCB3ZSAKPj4gaGF2ZQo+PiArwqDCoMKgwqAgKiB0byByZXNl
dCBpdCBhcyB3ZWxsICh3ZSB3aWxsIHVubG9jayBpdCBvbmNlIHRoZSByZXNldCBzZXF1ZW5jZSBp
cwo+PiArwqDCoMKgwqAgKiBjb21wbGV0ZWQpLgo+PiDCoMKgwqDCoMKgwqAgKi8KPj4gK8KgwqDC
oCBpZiAoIShpbnRlbF91bmNvcmVfcmVhZF9mdyh1bmNvcmUsIHNmY191c2FnZSkgJiBzZmNfdXNh
Z2VfYml0KSkKPj4gK8KgwqDCoMKgwqDCoMKgIHJldHVybiAwOwo+PiArCj4+IMKgwqDCoMKgwqAg
cm13X3NldF9mdyh1bmNvcmUsIHNmY19mb3JjZWRfbG9jaywgc2ZjX2ZvcmNlZF9sb2NrX2JpdCk7
Cj4+IC3CoMKgwqAgaWYgKF9faW50ZWxfd2FpdF9mb3JfcmVnaXN0ZXJfZncodW5jb3JlLAo+PiAt
wqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoCBzZmNfZm9yY2VkX2xvY2tf
YWNrLAo+PiAtwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoCBzZmNfZm9y
Y2VkX2xvY2tfYWNrX2JpdCwKPj4gLcKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDC
oMKgwqAgc2ZjX2ZvcmNlZF9sb2NrX2Fja19iaXQsCj4+IC3CoMKgwqDCoMKgwqDCoMKgwqDCoMKg
wqDCoMKgwqDCoMKgwqDCoMKgIDEwMDAsIDAsIE5VTEwpKSB7Cj4+IC3CoMKgwqDCoMKgwqDCoCBE
Uk1fREVCVUdfRFJJVkVSKCJXYWl0IGZvciBTRkMgZm9yY2VkIGxvY2sgYWNrIGZhaWxlZFxuIik7
Cj4+ICvCoMKgwqAgcmV0ID0gX19pbnRlbF93YWl0X2Zvcl9yZWdpc3Rlcl9mdyh1bmNvcmUsCj4+
ICvCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoCBzZmNfZm9yY2Vk
X2xvY2tfYWNrLAo+PiArwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKg
wqAgc2ZjX2ZvcmNlZF9sb2NrX2Fja19iaXQsCj4+ICvCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDC
oMKgwqDCoMKgwqDCoMKgwqDCoCBzZmNfZm9yY2VkX2xvY2tfYWNrX2JpdCwKPj4gK8KgwqDCoMKg
wqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgIDEwMDAsIDAsIE5VTEwpOwo+PiAr
Cj4+ICvCoMKgwqAgLyogd2FzIHRoZSBTRkMgcmVsZWFzZWQgd2hpbGUgd2Ugd2VyZSB0cnlpbmcg
dG8gbG9jayBpdD8gKi8KPj4gK8KgwqDCoCBpZiAoIShpbnRlbF91bmNvcmVfcmVhZF9mdyh1bmNv
cmUsIHNmY191c2FnZSkgJiBzZmNfdXNhZ2VfYml0KSkKPj4gwqDCoMKgwqDCoMKgwqDCoMKgIHJl
dHVybiAwOwo+PiAtwqDCoMKgIH0KPj4gLcKgwqDCoCBpZiAoaW50ZWxfdW5jb3JlX3JlYWRfZnco
dW5jb3JlLCBzZmNfdXNhZ2UpICYgc2ZjX3VzYWdlX2JpdCkKPj4gLcKgwqDCoMKgwqDCoMKgIHJl
dHVybiBzZmNfcmVzZXRfYml0Owo+PiArwqDCoMKgIGlmIChyZXQpCj4+ICvCoMKgwqDCoMKgwqDC
oCBEUk1fREVCVUdfRFJJVkVSKCJXYWl0IGZvciBTRkMgZm9yY2VkIGxvY2sgYWNrIGZhaWxlZFxu
Iik7Cj4+ICvCoMKgwqAgZWxzZQo+PiArwqDCoMKgwqDCoMKgwqAgKmh3X21hc2sgfD0gc2ZjX3Jl
c2V0X2JpdDsKPj4gLcKgwqDCoCByZXR1cm4gMDsKPj4gK8KgwqDCoCByZXR1cm4gcmV0Owo+PiDC
oCB9Cj4+IMKgIHN0YXRpYyB2b2lkIGdlbjExX3VubG9ja19zZmMoc3RydWN0IGludGVsX2VuZ2lu
ZV9jcyAqZW5naW5lKQo+PiBAQCAtNDMwLDEyICs0MzYsMjEgQEAgc3RhdGljIGludCBnZW4xMV9y
ZXNldF9lbmdpbmVzKHN0cnVjdCBpbnRlbF9ndCAqZ3QsCj4+IMKgwqDCoMKgwqDCoMKgwqDCoCBm
b3JfZWFjaF9lbmdpbmVfbWFza2VkKGVuZ2luZSwgZ3QtPmk5MTUsIGVuZ2luZV9tYXNrLCB0bXAp
IHsKPj4gwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqAgR0VNX0JVR19PTihlbmdpbmUtPmlkID49
IEFSUkFZX1NJWkUoaHdfZW5naW5lX21hc2spKTsKPj4gwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKg
wqAgaHdfbWFzayB8PSBod19lbmdpbmVfbWFza1tlbmdpbmUtPmlkXTsKPj4gLcKgwqDCoMKgwqDC
oMKgwqDCoMKgwqAgaHdfbWFzayB8PSBnZW4xMV9sb2NrX3NmYyhlbmdpbmUpOwo+PiArwqDCoMKg
wqDCoMKgwqDCoMKgwqDCoCByZXQgPSBnZW4xMV9sb2NrX3NmYyhlbmdpbmUsICZod19tYXNrKTsK
Pj4gK8KgwqDCoMKgwqDCoMKgwqDCoMKgwqAgaWYgKHJldCkKPj4gK8KgwqDCoMKgwqDCoMKgwqDC
oMKgwqDCoMKgwqDCoCBnb3RvIHNmY191bmxvY2s7Cj4gCj4gQnJlYWsgb24gZmlyc3QgZmFpbHVy
ZSBsb29rcyB1bnNhZmUgdG8gbWUuIEkgdGhpbmsgaXQgd291bGQgYmUgbW9yZSAKPiByb2J1c3Qg
dG8gY29udGludWUsIG5vPyBMaWtlIGlmIHdlIGhhdmUgYmVlbiBhc2tlZCB0byByZXNldCBtdWx0
aXBsZSAKPiBlbmdpbmVzIGFuZCBvbmx5IG9uZSBmYWlsZWQsIHdoeSBub3QgZG8gdGhlIG9uZXMg
d2UgY2FuPwoKQ2hyaXMgY29ycmVjdGVkIG1lIG9uIElSQyBleHBsYWluaW5nIHRoYXQgYXMgbG9u
Z3MgYXMgd2UgZmFpbCB0byByZXNldCAKb25lIGVuZ2luZSBmcm9tIGVuZ2luZV9tYXNrIHdlIGZh
bGwgYmFjayB0byBmdWxsIHJlc2V0IGFueXdheS4gU28gdGhpcyAKZWFybHkgcmV0dXJuIGlzIGlt
bWF0ZXJpYWwgdG8gZW5kIGJlaGF2aW9yIGFuZCBJIGhhdmUgbm8gZnVydGhlciAKY29tcGxhaW50
cy4gOikKClJldmlld2VkLWJ5OiBUdnJ0a28gVXJzdWxpbiA8dHZydGtvLnVyc3VsaW5AaW50ZWwu
Y29tPgoKUmVnYXJkcywKClR2cnRrbwoKPiAKPj4gwqDCoMKgwqDCoMKgwqDCoMKgIH0KPj4gwqDC
oMKgwqDCoCB9Cj4+IMKgwqDCoMKgwqAgcmV0ID0gZ2VuNl9od19kb21haW5fcmVzZXQoZ3QsIGh3
X21hc2spOwo+PiArc2ZjX3VubG9jazoKPj4gK8KgwqDCoCAvKgo+PiArwqDCoMKgwqAgKiB3ZSB1
bmxvY2sgdGhlIFNGQyBiYXNlZCBvbiB0aGUgbG9jayBzdGF0dXMgYW5kIG5vdCB0aGUgcmVzdWx0
IG9mCj4+ICvCoMKgwqDCoCAqIGdlbjExX2xvY2tfc2ZjIHRvIG1ha2Ugc3VyZSB0aGF0IHdlIGNs
ZWFuIHByb3Blcmx5IGlmIHNvbWV0aGluZwo+PiArwqDCoMKgwqAgKiB3cm9uZyBoYXBwZW5lZCBk
dXJpbmcgdGhlIGxvY2sgKGUuZy4gbG9jayBhY3F1aXJlZCBhZnRlciB0aW1lb3V0Cj4+ICvCoMKg
wqDCoCAqIGV4cGlyYXRpb24pLgo+PiArwqDCoMKgwqAgKi8KPj4gwqDCoMKgwqDCoCBpZiAoZW5n
aW5lX21hc2sgIT0gQUxMX0VOR0lORVMpCj4+IMKgwqDCoMKgwqDCoMKgwqDCoCBmb3JfZWFjaF9l
bmdpbmVfbWFza2VkKGVuZ2luZSwgZ3QtPmk5MTUsIGVuZ2luZV9tYXNrLCB0bXApCj4+IMKgwqDC
oMKgwqDCoMKgwqDCoMKgwqDCoMKgIGdlbjExX3VubG9ja19zZmMoZW5naW5lKTsKPj4KPiAKPiBT
byB5b3UgZGVjaWRlZCBub3QgdG8gcmVhZCB0aGUgcmVnaXN0ZXIgYW5kIGNyb3NzIGNoZWNrPwo+
IAo+IFJlZ2FyZHMsCj4gCj4gVHZydGtvCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fCkludGVsLWdmeCBtYWlsaW5nIGxpc3QKSW50ZWwtZ2Z4QGxpc3RzLmZy
ZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3Rp
bmZvL2ludGVsLWdmeA==

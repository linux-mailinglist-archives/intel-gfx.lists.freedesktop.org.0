Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 051ECB9827
	for <lists+intel-gfx@lfdr.de>; Fri, 20 Sep 2019 21:56:09 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 554456FDBF;
	Fri, 20 Sep 2019 19:56:07 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from fireflyinternet.com (mail.fireflyinternet.com [109.228.58.192])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 3B8AD6FDC0
 for <intel-gfx@lists.freedesktop.org>; Fri, 20 Sep 2019 19:56:06 +0000 (UTC)
X-Default-Received-SPF: pass (skip=forwardok (res=PASS))
 x-ip-name=78.156.65.138; 
Received: from haswell.alporthouse.com (unverified [78.156.65.138]) 
 by fireflyinternet.com (Firefly Internet (M1)) with ESMTP id 18563999-1500050 
 for multiple; Fri, 20 Sep 2019 20:55:36 +0100
From: Chris Wilson <chris@chris-wilson.co.uk>
To: intel-gfx@lists.freedesktop.org
Date: Fri, 20 Sep 2019 20:55:34 +0100
Message-Id: <20190920195535.26411-1-chris@chris-wilson.co.uk>
X-Mailer: git-send-email 2.23.0
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH 1/2] drm/i915/selftests: Verify the LRC register
 layout between init and HW
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

QmVmb3JlIHdlIHN1Ym1pdCB0aGUgZmlyc3QgY29udGV4dCB0byBIVywgd2UgbmVlZCB0byBjb25z
dHJ1Y3QgYSB2YWxpZAppbWFnZSBvZiB0aGUgcmVnaXN0ZXIgc3RhdGUuIFRoaXMgbGF5b3V0IGlz
IGRlZmluZWQgYnkgdGhlIEhXIGFuZCBzaG91bGQKbWF0Y2ggdGhlIGxheW91dCBnZW5lcmF0ZWQg
YnkgSFcgd2hlbiBpdCBzYXZlcyB0aGUgY29udGV4dCBpbWFnZS4KQXNzZXJ0aW5nIHRoYXQgdGhp
cyBzaG91bGQgYmUgZXF1aXZhbGVudCBzaG91bGQgaGVscCBhdm9pZCBhbnkgdW5kZWZpbmVkCmJl
aGF2aW91ciBhbmQgdmVyaWZ5IHRoYXQgd2UgaGF2ZW4ndCBtaXNzZWQgYW55dGhpbmcgaW1wb3J0
YW50IQoKT2YgY291cnNlLCBoYXZpbmcgaW5zaXN0ZWQgdGhhdCB0aGUgaW5pdGlhbCByZWdpc3Rl
ciBzdGF0ZSB3aXRoaW4gdGhlCkxSQyBzaG91bGQgbWF0Y2ggdGhhdCByZXR1cm5lZCBieSBIVywg
d2UgbmVlZCB0byBlbnN1cmUgdGhhdCBpdCBkb2VzLgoKU2lnbmVkLW9mZi1ieTogQ2hyaXMgV2ls
c29uIDxjaHJpc0BjaHJpcy13aWxzb24uY28udWs+CkNjOiBNaWthIEt1b3BwYWxhIDxtaWthLmt1
b3BwYWxhQGxpbnV4LmludGVsLmNvbT4KQ2M6IERhbmllbGUgQ2VyYW9sbyBTcHVyaW8gPGRhbmll
bGUuY2VyYW9sb3NwdXJpb0BpbnRlbC5jb20+Ci0tLQogZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2Vt
L2k5MTVfZ2VtX2NvbnRleHQuYyAgIHwgICAyICstCiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9p
bnRlbF9scmMuYyAgICAgICAgICAgfCA2NjkgKysrKysrKysrKysrLS0tLS0tCiBkcml2ZXJzL2dw
dS9kcm0vaTkxNS9ndC9pbnRlbF9scmNfcmVnLmggICAgICAgfCAgNjIgKy0KIGRyaXZlcnMvZ3B1
L2RybS9pOTE1L2d0L3NlbGZ0ZXN0X2xyYy5jICAgICAgICB8IDE0MiArKysrCiBkcml2ZXJzL2dw
dS9kcm0vaTkxNS9pOTE1X3BlcmYuYyAgICAgICAgICAgICAgfCAgMzUgKy0KIGRyaXZlcnMvZ3B1
L2RybS9pOTE1L2k5MTVfcGVyZi5oICAgICAgICAgICAgICB8ICAgNSArLQogLi4uL2RybS9pOTE1
L3NlbGZ0ZXN0cy9pOTE1X2xpdmVfc2VsZnRlc3RzLmggIHwgICAxICsKIDcgZmlsZXMgY2hhbmdl
ZCwgNjQ5IGluc2VydGlvbnMoKyksIDI2NyBkZWxldGlvbnMoLSkKCmRpZmYgLS1naXQgYS9kcml2
ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fY29udGV4dC5jIGIvZHJpdmVycy9ncHUvZHJt
L2k5MTUvZ2VtL2k5MTVfZ2VtX2NvbnRleHQuYwppbmRleCA0YTM0YzRmNjIwNjUuLmY3YmEwOTM1
ZWQ2NyAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX2NvbnRl
eHQuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fY29udGV4dC5jCkBA
IC0xMTE1LDcgKzExMTUsNyBAQCBzdGF0aWMgaW50IGdlbjhfZW1pdF9ycGNzX2NvbmZpZyhzdHJ1
Y3QgaTkxNV9yZXF1ZXN0ICpycSwKIAogCW9mZnNldCA9IGk5MTVfZ2d0dF9vZmZzZXQoY2UtPnN0
YXRlKSArCiAJCSBMUkNfU1RBVEVfUE4gKiBQQUdFX1NJWkUgKwotCQkgKENUWF9SX1BXUl9DTEtf
U1RBVEUgKyAxKSAqIDQ7CisJCSBDVFhfUl9QV1JfQ0xLX1NUQVRFICogNDsKIAogCSpjcysrID0g
TUlfU1RPUkVfRFdPUkRfSU1NX0dFTjQgfCBNSV9VU0VfR0dUVDsKIAkqY3MrKyA9IGxvd2VyXzMy
X2JpdHMob2Zmc2V0KTsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVs
X2xyYy5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfbHJjLmMKaW5kZXggMWEyYjcx
MTU3ZjA4Li44NjRjZmZkOWJjZjggMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0
L2ludGVsX2xyYy5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2xyYy5jCkBA
IC0yMzAsOSArMjMwLDEwIEBAIHN0YXRpYyBpbnQgX19leGVjbGlzdHNfY29udGV4dF9hbGxvYyhz
dHJ1Y3QgaW50ZWxfY29udGV4dCAqY2UsCiAJCQkJICAgICBzdHJ1Y3QgaW50ZWxfZW5naW5lX2Nz
ICplbmdpbmUpOwogCiBzdGF0aWMgdm9pZCBleGVjbGlzdHNfaW5pdF9yZWdfc3RhdGUodTMyICpy
ZWdfc3RhdGUsCi0JCQkJICAgICBzdHJ1Y3QgaW50ZWxfY29udGV4dCAqY2UsCi0JCQkJICAgICBz
dHJ1Y3QgaW50ZWxfZW5naW5lX2NzICplbmdpbmUsCi0JCQkJICAgICBzdHJ1Y3QgaW50ZWxfcmlu
ZyAqcmluZyk7CisJCQkJICAgICBjb25zdCBzdHJ1Y3QgaW50ZWxfY29udGV4dCAqY2UsCisJCQkJ
ICAgICBjb25zdCBzdHJ1Y3QgaW50ZWxfZW5naW5lX2NzICplbmdpbmUsCisJCQkJICAgICBjb25z
dCBzdHJ1Y3QgaW50ZWxfcmluZyAqcmluZywKKwkJCQkgICAgIGJvb2wgY2xvc2UpOwogCiBzdGF0
aWMgaW5saW5lIHUzMiBpbnRlbF9od3NfcHJlZW1wdF9hZGRyZXNzKHN0cnVjdCBpbnRlbF9lbmdp
bmVfY3MgKmVuZ2luZSkKIHsKQEAgLTQ2NCw2ICs0NjUsNDExIEBAIGxyY19kZXNjcmlwdG9yKHN0
cnVjdCBpbnRlbF9jb250ZXh0ICpjZSwgc3RydWN0IGludGVsX2VuZ2luZV9jcyAqZW5naW5lKQog
CXJldHVybiBkZXNjOwogfQogCitzdGF0aWMgdTMyICpzZXRfb2Zmc2V0cyh1MzIgKnJlZ3MsCisJ
CQljb25zdCB1OCAqZGF0YSwKKwkJCWNvbnN0IHN0cnVjdCBpbnRlbF9lbmdpbmVfY3MgKmVuZ2lu
ZSkKKyNkZWZpbmUgTk9QKHgpIChCSVQoNykgfCAoeCkpCisjZGVmaW5lIExSSShjb3VudCwgZmxh
Z3MpICgoZmxhZ3MpIDw8IDYgfCAoY291bnQpKQorI2RlZmluZSBQT1NURUQgQklUKDApCisjZGVm
aW5lIFJFRyh4KSAoKCh4KSA+PiAyKSB8IEJVSUxEX0JVR19PTl9aRVJPKHggPj0gMHgyMDApKQor
I2RlZmluZSBSRUcxNih4KSBcCisJKCgoeCkgPj4gOSkgfCBCSVQoNykgfCBCVUlMRF9CVUdfT05f
WkVSTyh4ID49IDB4MTAwMDApKSwgXAorCSgoKHgpID4+IDIpICYgMHg3ZikKKyNkZWZpbmUgRU5E
KCkgMAoreworCWNvbnN0IHUzMiBiYXNlID0gZW5naW5lLT5tbWlvX2Jhc2U7CisKKwl3aGlsZSAo
KmRhdGEpIHsKKwkJdTggY291bnQsIGZsYWdzOworCisJCWlmICgqZGF0YSAmIEJJVCg3KSkgeyAv
KiBza2lwICovCisJCQlyZWdzICs9ICpkYXRhKysgJiB+QklUKDcpOworCQkJY29udGludWU7CisJ
CX0KKworCQljb3VudCA9ICpkYXRhICYgMHgzZjsKKwkJZmxhZ3MgPSAqZGF0YSA+PiA2OworCQlk
YXRhKys7CisKKwkJKnJlZ3MgPSBNSV9MT0FEX1JFR0lTVEVSX0lNTShjb3VudCk7CisJCWlmIChm
bGFncyAmIFBPU1RFRCkKKwkJCSpyZWdzIHw9IE1JX0xSSV9GT1JDRV9QT1NURUQ7CisJCWlmIChJ
TlRFTF9HRU4oZW5naW5lLT5pOTE1KSA+PSAxMSkKKwkJCSpyZWdzIHw9IE1JX0xSSV9DU19NTUlP
OworCQlyZWdzKys7CisKKwkJR0VNX0JVR19PTighY291bnQpOworCQlkbyB7CisJCQl1MzIgb2Zm
c2V0ID0gMDsKKwkJCXU4IHY7CisKKwkJCWRvIHsKKwkJCQl2ID0gKmRhdGErKzsKKwkJCQlvZmZz
ZXQgPDw9IDc7CisJCQkJb2Zmc2V0IHw9IHYgJiB+QklUKDcpOworCQkJfSB3aGlsZSAodiAmIEJJ
VCg3KSk7CisKKwkJCSpyZWdzID0gYmFzZSArIChvZmZzZXQgPDwgMik7CisJCQlyZWdzICs9IDI7
CisJCX0gd2hpbGUgKC0tY291bnQpOworCX0KKworCXJldHVybiByZWdzOworfQorCitzdGF0aWMg
Y29uc3QgdTggZ2VuOF94Y3Nfb2Zmc2V0c1tdID0geworCU5PUCgxKSwKKwlMUkkoMTEsIDApLAor
CVJFRzE2KDB4MjQ0KSwKKwlSRUcoMHgwMzQpLAorCVJFRygweDAzMCksCisJUkVHKDB4MDM4KSwK
KwlSRUcoMHgwM2MpLAorCVJFRygweDE2OCksCisJUkVHKDB4MTQwKSwKKwlSRUcoMHgxMTApLAor
CVJFRygweDExYyksCisJUkVHKDB4MTE0KSwKKwlSRUcoMHgxMTgpLAorCisJTk9QKDkpLAorCUxS
SSg5LCAwKSwKKwlSRUcxNigweDNhOCksCisJUkVHMTYoMHgyOGMpLAorCVJFRzE2KDB4Mjg4KSwK
KwlSRUcxNigweDI4NCksCisJUkVHMTYoMHgyODApLAorCVJFRzE2KDB4MjdjKSwKKwlSRUcxNigw
eDI3OCksCisJUkVHMTYoMHgyNzQpLAorCVJFRzE2KDB4MjcwKSwKKworCU5PUCgxMyksCisJTFJJ
KDIsIDApLAorCVJFRzE2KDB4MjAwKSwKKwlSRUcoMHgwMjgpLAorCisJRU5EKCksCit9OworCitz
dGF0aWMgY29uc3QgdTggZ2VuOV94Y3Nfb2Zmc2V0c1tdID0geworCU5PUCgxKSwKKwlMUkkoMTQs
IFBPU1RFRCksCisJUkVHMTYoMHgyNDQpLAorCVJFRygweDAzNCksCisJUkVHKDB4MDMwKSwKKwlS
RUcoMHgwMzgpLAorCVJFRygweDAzYyksCisJUkVHKDB4MTY4KSwKKwlSRUcoMHgxNDApLAorCVJF
RygweDExMCksCisJUkVHKDB4MTFjKSwKKwlSRUcoMHgxMTQpLAorCVJFRygweDExOCksCisJUkVH
KDB4MWMwKSwKKwlSRUcoMHgxYzQpLAorCVJFRygweDFjOCksCisKKwlOT1AoMyksCisJTFJJKDks
IFBPU1RFRCksCisJUkVHMTYoMHgzYTgpLAorCVJFRzE2KDB4MjhjKSwKKwlSRUcxNigweDI4OCks
CisJUkVHMTYoMHgyODQpLAorCVJFRzE2KDB4MjgwKSwKKwlSRUcxNigweDI3YyksCisJUkVHMTYo
MHgyNzgpLAorCVJFRzE2KDB4Mjc0KSwKKwlSRUcxNigweDI3MCksCisKKwlOT1AoMTMpLAorCUxS
SSgxLCBQT1NURUQpLAorCVJFRzE2KDB4MjAwKSwKKworCU5PUCgxMyksCisJTFJJKDQ0LCBQT1NU
RUQpLAorCVJFRygweDAyOCksCisJUkVHKDB4MDljKSwKKwlSRUcoMHgwYzApLAorCVJFRygweDE3
OCksCisJUkVHKDB4MTdjKSwKKwlSRUcxNigweDM1OCksCisJUkVHKDB4MTcwKSwKKwlSRUcoMHgx
NTApLAorCVJFRygweDE1NCksCisJUkVHKDB4MTU4KSwKKwlSRUcxNigweDQxYyksCisJUkVHMTYo
MHg2MDApLAorCVJFRzE2KDB4NjA0KSwKKwlSRUcxNigweDYwOCksCisJUkVHMTYoMHg2MGMpLAor
CVJFRzE2KDB4NjEwKSwKKwlSRUcxNigweDYxNCksCisJUkVHMTYoMHg2MTgpLAorCVJFRzE2KDB4
NjFjKSwKKwlSRUcxNigweDYyMCksCisJUkVHMTYoMHg2MjQpLAorCVJFRzE2KDB4NjI4KSwKKwlS
RUcxNigweDYyYyksCisJUkVHMTYoMHg2MzApLAorCVJFRzE2KDB4NjM0KSwKKwlSRUcxNigweDYz
OCksCisJUkVHMTYoMHg2M2MpLAorCVJFRzE2KDB4NjQwKSwKKwlSRUcxNigweDY0NCksCisJUkVH
MTYoMHg2NDgpLAorCVJFRzE2KDB4NjRjKSwKKwlSRUcxNigweDY1MCksCisJUkVHMTYoMHg2NTQp
LAorCVJFRzE2KDB4NjU4KSwKKwlSRUcxNigweDY1YyksCisJUkVHMTYoMHg2NjApLAorCVJFRzE2
KDB4NjY0KSwKKwlSRUcxNigweDY2OCksCisJUkVHMTYoMHg2NmMpLAorCVJFRzE2KDB4NjcwKSwK
KwlSRUcxNigweDY3NCksCisJUkVHMTYoMHg2NzgpLAorCVJFRzE2KDB4NjdjKSwKKwlSRUcoMHgw
NjgpLAorCisJRU5EKCksCit9OworCitzdGF0aWMgY29uc3QgdTggZ2VuMTJfeGNzX29mZnNldHNb
XSA9IHsKKwlOT1AoMSksCisJTFJJKDEzLCBQT1NURUQpLAorCVJFRzE2KDB4MjQ0KSwKKwlSRUco
MHgwMzQpLAorCVJFRygweDAzMCksCisJUkVHKDB4MDM4KSwKKwlSRUcoMHgwM2MpLAorCVJFRygw
eDE2OCksCisJUkVHKDB4MTQwKSwKKwlSRUcoMHgxMTApLAorCVJFRygweDFjMCksCisJUkVHKDB4
MWM0KSwKKwlSRUcoMHgxYzgpLAorCVJFRygweDE4MCksCisJUkVHMTYoMHgyYjQpLAorCisJTk9Q
KDUpLAorCUxSSSg5LCBQT1NURUQpLAorCVJFRzE2KDB4M2E4KSwKKwlSRUcxNigweDI4YyksCisJ
UkVHMTYoMHgyODgpLAorCVJFRzE2KDB4Mjg0KSwKKwlSRUcxNigweDI4MCksCisJUkVHMTYoMHgy
N2MpLAorCVJFRzE2KDB4Mjc4KSwKKwlSRUcxNigweDI3NCksCisJUkVHMTYoMHgyNzApLAorCisJ
Tk9QKDEzKSwKKwlMUkkoMiwgUE9TVEVEKSwKKwlSRUcxNigweDIwMCksCisJUkVHMTYoMHgyMDQp
LAorCisJTk9QKDExKSwKKwlMUkkoNTAsIFBPU1RFRCksCisJUkVHMTYoMHg1ODgpLAorCVJFRzE2
KDB4NTg4KSwKKwlSRUcxNigweDU4OCksCisJUkVHMTYoMHg1ODgpLAorCVJFRzE2KDB4NTg4KSwK
KwlSRUcxNigweDU4OCksCisJUkVHKDB4MDI4KSwKKwlSRUcoMHgwOWMpLAorCVJFRygweDBjMCks
CisJUkVHKDB4MTc4KSwKKwlSRUcoMHgxN2MpLAorCVJFRzE2KDB4MzU4KSwKKwlSRUcoMHgxNzAp
LAorCVJFRygweDE1MCksCisJUkVHKDB4MTU0KSwKKwlSRUcoMHgxNTgpLAorCVJFRzE2KDB4NDFj
KSwKKwlSRUcxNigweDYwMCksCisJUkVHMTYoMHg2MDQpLAorCVJFRzE2KDB4NjA4KSwKKwlSRUcx
NigweDYwYyksCisJUkVHMTYoMHg2MTApLAorCVJFRzE2KDB4NjE0KSwKKwlSRUcxNigweDYxOCks
CisJUkVHMTYoMHg2MWMpLAorCVJFRzE2KDB4NjIwKSwKKwlSRUcxNigweDYyNCksCisJUkVHMTYo
MHg2MjgpLAorCVJFRzE2KDB4NjJjKSwKKwlSRUcxNigweDYzMCksCisJUkVHMTYoMHg2MzQpLAor
CVJFRzE2KDB4NjM4KSwKKwlSRUcxNigweDYzYyksCisJUkVHMTYoMHg2NDApLAorCVJFRzE2KDB4
NjQ0KSwKKwlSRUcxNigweDY0OCksCisJUkVHMTYoMHg2NGMpLAorCVJFRzE2KDB4NjUwKSwKKwlS
RUcxNigweDY1NCksCisJUkVHMTYoMHg2NTgpLAorCVJFRzE2KDB4NjVjKSwKKwlSRUcxNigweDY2
MCksCisJUkVHMTYoMHg2NjQpLAorCVJFRzE2KDB4NjY4KSwKKwlSRUcxNigweDY2YyksCisJUkVH
MTYoMHg2NzApLAorCVJFRzE2KDB4Njc0KSwKKwlSRUcxNigweDY3OCksCisJUkVHMTYoMHg2N2Mp
LAorCVJFRygweDA2OCksCisKKwlFTkQoKSwKK307CisKK3N0YXRpYyBjb25zdCB1OCBnZW44X3Jj
c19vZmZzZXRzW10gPSB7CisJTk9QKDEpLAorCUxSSSgxNCwgUE9TVEVEKSwKKwlSRUcxNigweDI0
NCksCisJUkVHKDB4MDM0KSwKKwlSRUcoMHgwMzApLAorCVJFRygweDAzOCksCisJUkVHKDB4MDNj
KSwKKwlSRUcoMHgxNjgpLAorCVJFRygweDE0MCksCisJUkVHKDB4MTEwKSwKKwlSRUcoMHgxMWMp
LAorCVJFRygweDExNCksCisJUkVHKDB4MTE4KSwKKwlSRUcoMHgxYzApLAorCVJFRygweDFjNCks
CisJUkVHKDB4MWM4KSwKKworCU5PUCgzKSwKKwlMUkkoOSwgUE9TVEVEKSwKKwlSRUcxNigweDNh
OCksCisJUkVHMTYoMHgyOGMpLAorCVJFRzE2KDB4Mjg4KSwKKwlSRUcxNigweDI4NCksCisJUkVH
MTYoMHgyODApLAorCVJFRzE2KDB4MjdjKSwKKwlSRUcxNigweDI3OCksCisJUkVHMTYoMHgyNzQp
LAorCVJFRzE2KDB4MjcwKSwKKworCU5PUCgxMyksCisJTFJJKDEsIDApLAorCVJFRygweDBjOCks
CisKKwlFTkQoKSwKK307CisKK3N0YXRpYyBjb25zdCB1OCBnZW4xMV9yY3Nfb2Zmc2V0c1tdID0g
eworCU5PUCgxKSwKKwlMUkkoMTUsIFBPU1RFRCksCisJUkVHMTYoMHgyNDQpLAorCVJFRygweDAz
NCksCisJUkVHKDB4MDMwKSwKKwlSRUcoMHgwMzgpLAorCVJFRygweDAzYyksCisJUkVHKDB4MTY4
KSwKKwlSRUcoMHgxNDApLAorCVJFRygweDExMCksCisJUkVHKDB4MTFjKSwKKwlSRUcoMHgxMTQp
LAorCVJFRygweDExOCksCisJUkVHKDB4MWMwKSwKKwlSRUcoMHgxYzQpLAorCVJFRygweDFjOCks
CisJUkVHKDB4MTgwKSwKKworCU5PUCgxKSwKKwlMUkkoOSwgUE9TVEVEKSwKKwlSRUcxNigweDNh
OCksCisJUkVHMTYoMHgyOGMpLAorCVJFRzE2KDB4Mjg4KSwKKwlSRUcxNigweDI4NCksCisJUkVH
MTYoMHgyODApLAorCVJFRzE2KDB4MjdjKSwKKwlSRUcxNigweDI3OCksCisJUkVHMTYoMHgyNzQp
LAorCVJFRzE2KDB4MjcwKSwKKworCUxSSSgxLCBQT1NURUQpLAorCVJFRygweDFiMCksCisKKwlO
T1AoMTApLAorCUxSSSgxLCAwKSwKKwlSRUcoMHgwYzgpLAorCisJRU5EKCksCit9OworCitzdGF0
aWMgY29uc3QgdTggZ2VuMTJfcmNzX29mZnNldHNbXSA9IHsKKwlOT1AoMSksCisJTFJJKDEzLCBQ
T1NURUQpLAorCVJFRzE2KDB4MjQ0KSwKKwlSRUcoMHgwMzQpLAorCVJFRygweDAzMCksCisJUkVH
KDB4MDM4KSwKKwlSRUcoMHgwM2MpLAorCVJFRygweDE2OCksCisJUkVHKDB4MTQwKSwKKwlSRUco
MHgxMTApLAorCVJFRygweDFjMCksCisJUkVHKDB4MWM0KSwKKwlSRUcoMHgxYzgpLAorCVJFRygw
eDE4MCksCisJUkVHMTYoMHgyYjQpLAorCisJTk9QKDUpLAorCUxSSSg5LCBQT1NURUQpLAorCVJF
RzE2KDB4M2E4KSwKKwlSRUcxNigweDI4YyksCisJUkVHMTYoMHgyODgpLAorCVJFRzE2KDB4Mjg0
KSwKKwlSRUcxNigweDI4MCksCisJUkVHMTYoMHgyN2MpLAorCVJFRzE2KDB4Mjc4KSwKKwlSRUcx
NigweDI3NCksCisJUkVHMTYoMHgyNzApLAorCisJTFJJKDMsIFBPU1RFRCksCisJUkVHKDB4MWIw
KSwKKwlSRUcxNigweDVhOCksCisJUkVHMTYoMHg1YWMpLAorCisJTk9QKDYpLAorCUxSSSgxLCAw
KSwKKwlSRUcoMHgwYzgpLAorCisJRU5EKCksCit9OworCisjdW5kZWYgRU5ECisjdW5kZWYgUkVH
MTYKKyN1bmRlZiBSRUcKKyN1bmRlZiBMUkkKKyN1bmRlZiBOT1AKKworc3RhdGljIGNvbnN0IHU4
ICpyZWdfb2Zmc2V0cyhjb25zdCBzdHJ1Y3QgaW50ZWxfZW5naW5lX2NzICplbmdpbmUpCit7CisJ
aWYgKGVuZ2luZS0+Y2xhc3MgPT0gUkVOREVSX0NMQVNTKSB7CisJCWlmIChJTlRFTF9HRU4oZW5n
aW5lLT5pOTE1KSA+PSAxMikKKwkJCXJldHVybiBnZW4xMl9yY3Nfb2Zmc2V0czsKKwkJZWxzZSBp
ZiAoSU5URUxfR0VOKGVuZ2luZS0+aTkxNSkgPj0gMTEpCisJCQlyZXR1cm4gZ2VuMTFfcmNzX29m
ZnNldHM7CisJCWVsc2UKKwkJCXJldHVybiBnZW44X3Jjc19vZmZzZXRzOworCX0gZWxzZSB7CisJ
CWlmIChJTlRFTF9HRU4oZW5naW5lLT5pOTE1KSA+PSAxMikKKwkJCXJldHVybiBnZW4xMl94Y3Nf
b2Zmc2V0czsKKwkJZWxzZSBpZiAoSU5URUxfR0VOKGVuZ2luZS0+aTkxNSkgPj0gOSkKKwkJCXJl
dHVybiBnZW45X3hjc19vZmZzZXRzOworCQllbHNlCisJCQlyZXR1cm4gZ2VuOF94Y3Nfb2Zmc2V0
czsKKwl9Cit9CisKIHN0YXRpYyB2b2lkIHVud2luZF93YV90YWlsKHN0cnVjdCBpOTE1X3JlcXVl
c3QgKnJxKQogewogCXJxLT50YWlsID0gaW50ZWxfcmluZ193cmFwKHJxLT5yaW5nLCBycS0+d2Ff
dGFpbCAtIFdBX1RBSUxfQllURVMpOwpAQCAtNjQ3LDcgKzEwNTMsNyBAQCBzdGF0aWMgdTY0IGV4
ZWNsaXN0c191cGRhdGVfY29udGV4dChjb25zdCBzdHJ1Y3QgaTkxNV9yZXF1ZXN0ICpycSkKIAlz
dHJ1Y3QgaW50ZWxfY29udGV4dCAqY2UgPSBycS0+aHdfY29udGV4dDsKIAl1NjQgZGVzYzsKIAot
CWNlLT5scmNfcmVnX3N0YXRlW0NUWF9SSU5HX1RBSUwgKyAxXSA9CisJY2UtPmxyY19yZWdfc3Rh
dGVbQ1RYX1JJTkdfVEFJTF0gPQogCQlpbnRlbF9yaW5nX3NldF90YWlsKHJxLT5yaW5nLCBycS0+
dGFpbCk7CiAKIAkvKgpAQCAtODA4LDU0ICsxMjE0LDcgQEAgc3RhdGljIGJvb2wgY2FuX21lcmdl
X3JxKGNvbnN0IHN0cnVjdCBpOTE1X3JlcXVlc3QgKnByZXYsCiBzdGF0aWMgdm9pZCB2aXJ0dWFs
X3VwZGF0ZV9yZWdpc3Rlcl9vZmZzZXRzKHUzMiAqcmVncywKIAkJCQkJICAgIHN0cnVjdCBpbnRl
bF9lbmdpbmVfY3MgKmVuZ2luZSkKIHsKLQl1MzIgYmFzZSA9IGVuZ2luZS0+bW1pb19iYXNlOwot
Ci0JLyogUmVmYWN0b3Igc28gdGhhdCB3ZSBvbmx5IGhhdmUgb25lIHBsYWNlIHRoYXQga25vd3Mg
YWxsIHRoZSBvZmZzZXRzISAqLwotCUdFTV9XQVJOX09OKElOVEVMX0dFTihlbmdpbmUtPmk5MTUp
ID49IDEyKTsKLQotCS8qIE11c3QgbWF0Y2ggZXhlY2xpc3RzX2luaXRfcmVnX3N0YXRlKCkhICov
Ci0KLQkvKiBDb21tb24gcGFydCAqLwotCXJlZ3NbQ1RYX0NPTlRFWFRfQ09OVFJPTF0gPQotCQlp
OTE1X21taW9fcmVnX29mZnNldChSSU5HX0NPTlRFWFRfQ09OVFJPTChiYXNlKSk7Ci0JcmVnc1tD
VFhfUklOR19IRUFEXSA9IGk5MTVfbW1pb19yZWdfb2Zmc2V0KFJJTkdfSEVBRChiYXNlKSk7Ci0J
cmVnc1tDVFhfUklOR19UQUlMXSA9IGk5MTVfbW1pb19yZWdfb2Zmc2V0KFJJTkdfVEFJTChiYXNl
KSk7Ci0JcmVnc1tDVFhfUklOR19CVUZGRVJfU1RBUlRdID0gaTkxNV9tbWlvX3JlZ19vZmZzZXQo
UklOR19TVEFSVChiYXNlKSk7Ci0JcmVnc1tDVFhfUklOR19CVUZGRVJfQ09OVFJPTF0gPSBpOTE1
X21taW9fcmVnX29mZnNldChSSU5HX0NUTChiYXNlKSk7Ci0KLQlyZWdzW0NUWF9CQl9IRUFEX1Vd
ID0gaTkxNV9tbWlvX3JlZ19vZmZzZXQoUklOR19CQkFERFJfVURXKGJhc2UpKTsKLQlyZWdzW0NU
WF9CQl9IRUFEX0xdID0gaTkxNV9tbWlvX3JlZ19vZmZzZXQoUklOR19CQkFERFIoYmFzZSkpOwot
CXJlZ3NbQ1RYX0JCX1NUQVRFXSA9IGk5MTVfbW1pb19yZWdfb2Zmc2V0KFJJTkdfQkJTVEFURShi
YXNlKSk7Ci0KLQlyZWdzW0NUWF9TRUNPTkRfQkJfSEVBRF9VXSA9Ci0JCWk5MTVfbW1pb19yZWdf
b2Zmc2V0KFJJTkdfU0JCQUREUl9VRFcoYmFzZSkpOwotCXJlZ3NbQ1RYX1NFQ09ORF9CQl9IRUFE
X0xdID0gaTkxNV9tbWlvX3JlZ19vZmZzZXQoUklOR19TQkJBRERSKGJhc2UpKTsKLQlyZWdzW0NU
WF9TRUNPTkRfQkJfU1RBVEVdID0gaTkxNV9tbWlvX3JlZ19vZmZzZXQoUklOR19TQkJTVEFURShi
YXNlKSk7Ci0KLQkvKiBQUEdUVCBwYXJ0ICovCi0JcmVnc1tDVFhfQ1RYX1RJTUVTVEFNUF0gPQot
CQlpOTE1X21taW9fcmVnX29mZnNldChSSU5HX0NUWF9USU1FU1RBTVAoYmFzZSkpOwotCi0JcmVn
c1tDVFhfUERQM19VRFddID0gaTkxNV9tbWlvX3JlZ19vZmZzZXQoR0VOOF9SSU5HX1BEUF9VRFco
YmFzZSwgMykpOwotCXJlZ3NbQ1RYX1BEUDNfTERXXSA9IGk5MTVfbW1pb19yZWdfb2Zmc2V0KEdF
TjhfUklOR19QRFBfTERXKGJhc2UsIDMpKTsKLQlyZWdzW0NUWF9QRFAyX1VEV10gPSBpOTE1X21t
aW9fcmVnX29mZnNldChHRU44X1JJTkdfUERQX1VEVyhiYXNlLCAyKSk7Ci0JcmVnc1tDVFhfUERQ
Ml9MRFddID0gaTkxNV9tbWlvX3JlZ19vZmZzZXQoR0VOOF9SSU5HX1BEUF9MRFcoYmFzZSwgMikp
OwotCXJlZ3NbQ1RYX1BEUDFfVURXXSA9IGk5MTVfbW1pb19yZWdfb2Zmc2V0KEdFTjhfUklOR19Q
RFBfVURXKGJhc2UsIDEpKTsKLQlyZWdzW0NUWF9QRFAxX0xEV10gPSBpOTE1X21taW9fcmVnX29m
ZnNldChHRU44X1JJTkdfUERQX0xEVyhiYXNlLCAxKSk7Ci0JcmVnc1tDVFhfUERQMF9VRFddID0g
aTkxNV9tbWlvX3JlZ19vZmZzZXQoR0VOOF9SSU5HX1BEUF9VRFcoYmFzZSwgMCkpOwotCXJlZ3Nb
Q1RYX1BEUDBfTERXXSA9IGk5MTVfbW1pb19yZWdfb2Zmc2V0KEdFTjhfUklOR19QRFBfTERXKGJh
c2UsIDApKTsKLQotCWlmIChlbmdpbmUtPmNsYXNzID09IFJFTkRFUl9DTEFTUykgewotCQlyZWdz
W0NUWF9SQ1NfSU5ESVJFQ1RfQ1RYXSA9Ci0JCQlpOTE1X21taW9fcmVnX29mZnNldChSSU5HX0lO
RElSRUNUX0NUWChiYXNlKSk7Ci0JCXJlZ3NbQ1RYX1JDU19JTkRJUkVDVF9DVFhfT0ZGU0VUXSA9
Ci0JCQlpOTE1X21taW9fcmVnX29mZnNldChSSU5HX0lORElSRUNUX0NUWF9PRkZTRVQoYmFzZSkp
OwotCQlyZWdzW0NUWF9CQl9QRVJfQ1RYX1BUUl0gPQotCQkJaTkxNV9tbWlvX3JlZ19vZmZzZXQo
UklOR19CQl9QRVJfQ1RYX1BUUihiYXNlKSk7Ci0KLQkJcmVnc1tDVFhfUl9QV1JfQ0xLX1NUQVRF
XSA9Ci0JCQlpOTE1X21taW9fcmVnX29mZnNldChHRU44X1JfUFdSX0NMS19TVEFURSk7Ci0JfQor
CXNldF9vZmZzZXRzKHJlZ3MsIHJlZ19vZmZzZXRzKGVuZ2luZSksIGVuZ2luZSk7CiB9CiAKIHN0
YXRpYyBib29sIHZpcnR1YWxfbWF0Y2hlcyhjb25zdCBzdHJ1Y3QgdmlydHVhbF9lbmdpbmUgKnZl
LApAQCAtMTcxNCw4ICsyMDczLDggQEAgc3RhdGljIHZvaWQgZXhlY2xpc3RzX2NvbnRleHRfdW5w
aW4oc3RydWN0IGludGVsX2NvbnRleHQgKmNlKQogfQogCiBzdGF0aWMgdm9pZAotX19leGVjbGlz
dHNfdXBkYXRlX3JlZ19zdGF0ZShzdHJ1Y3QgaW50ZWxfY29udGV4dCAqY2UsCi0JCQkgICAgIHN0
cnVjdCBpbnRlbF9lbmdpbmVfY3MgKmVuZ2luZSkKK19fZXhlY2xpc3RzX3VwZGF0ZV9yZWdfc3Rh
dGUoY29uc3Qgc3RydWN0IGludGVsX2NvbnRleHQgKmNlLAorCQkJICAgICBjb25zdCBzdHJ1Y3Qg
aW50ZWxfZW5naW5lX2NzICplbmdpbmUpCiB7CiAJc3RydWN0IGludGVsX3JpbmcgKnJpbmcgPSBj
ZS0+cmluZzsKIAl1MzIgKnJlZ3MgPSBjZS0+bHJjX3JlZ19zdGF0ZTsKQEAgLTE3MjMsMTYgKzIw
ODIsMTYgQEAgX19leGVjbGlzdHNfdXBkYXRlX3JlZ19zdGF0ZShzdHJ1Y3QgaW50ZWxfY29udGV4
dCAqY2UsCiAJR0VNX0JVR19PTighaW50ZWxfcmluZ19vZmZzZXRfdmFsaWQocmluZywgcmluZy0+
aGVhZCkpOwogCUdFTV9CVUdfT04oIWludGVsX3Jpbmdfb2Zmc2V0X3ZhbGlkKHJpbmcsIHJpbmct
PnRhaWwpKTsKIAotCXJlZ3NbQ1RYX1JJTkdfQlVGRkVSX1NUQVJUICsgMV0gPSBpOTE1X2dndHRf
b2Zmc2V0KHJpbmctPnZtYSk7Ci0JcmVnc1tDVFhfUklOR19IRUFEICsgMV0gPSByaW5nLT5oZWFk
OwotCXJlZ3NbQ1RYX1JJTkdfVEFJTCArIDFdID0gcmluZy0+dGFpbDsKKwlyZWdzW0NUWF9SSU5H
X0JVRkZFUl9TVEFSVF0gPSBpOTE1X2dndHRfb2Zmc2V0KHJpbmctPnZtYSk7CisJcmVnc1tDVFhf
UklOR19IRUFEXSA9IHJpbmctPmhlYWQ7CisJcmVnc1tDVFhfUklOR19UQUlMXSA9IHJpbmctPnRh
aWw7CiAKIAkvKiBSUENTICovCiAJaWYgKGVuZ2luZS0+Y2xhc3MgPT0gUkVOREVSX0NMQVNTKSB7
Ci0JCXJlZ3NbQ1RYX1JfUFdSX0NMS19TVEFURSArIDFdID0KKwkJcmVnc1tDVFhfUl9QV1JfQ0xL
X1NUQVRFXSA9CiAJCQlpbnRlbF9zc2V1X21ha2VfcnBjcyhlbmdpbmUtPmk5MTUsICZjZS0+c3Nl
dSk7CiAKLQkJaTkxNV9vYV9pbml0X3JlZ19zdGF0ZShlbmdpbmUsIGNlLCByZWdzKTsKKwkJaTkx
NV9vYV9pbml0X3JlZ19zdGF0ZShjZSwgZW5naW5lKTsKIAl9CiB9CiAKQEAgLTI0MzgsNyArMjc5
Nyw3IEBAIHN0YXRpYyB2b2lkIF9fZXhlY2xpc3RzX3Jlc2V0KHN0cnVjdCBpbnRlbF9lbmdpbmVf
Y3MgKmVuZ2luZSwgYm9vbCBzdGFsbGVkKQogCQkgICAgICAgZW5naW5lLT5waW5uZWRfZGVmYXVs
dF9zdGF0ZSArIExSQ19TVEFURV9QTiAqIFBBR0VfU0laRSwKIAkJICAgICAgIGVuZ2luZS0+Y29u
dGV4dF9zaXplIC0gUEFHRV9TSVpFKTsKIAl9Ci0JZXhlY2xpc3RzX2luaXRfcmVnX3N0YXRlKHJl
Z3MsIGNlLCBlbmdpbmUsIGNlLT5yaW5nKTsKKwlleGVjbGlzdHNfaW5pdF9yZWdfc3RhdGUocmVn
cywgY2UsIGVuZ2luZSwgY2UtPnJpbmcsIGZhbHNlKTsKIAogb3V0X3JlcGxheToKIAlHRU1fVFJB
Q0UoIiVzIHJlcGxheSB7aGVhZDolMDR4LCB0YWlsOiUwNHhcbiIsCkBAIC0zMDY5LDcgKzM0Mjgs
NyBAQCB2b2lkIGludGVsX2V4ZWNsaXN0c19zZXRfZGVmYXVsdF9zdWJtaXNzaW9uKHN0cnVjdCBp
bnRlbF9lbmdpbmVfY3MgKmVuZ2luZSkKIAkJCWVuZ2luZS0+ZmxhZ3MgfD0gSTkxNV9FTkdJTkVf
SEFTX1BSRUVNUFRJT047CiAJfQogCi0JaWYgKGVuZ2luZS0+Y2xhc3MgIT0gQ09QWV9FTkdJTkVf
Q0xBU1MgJiYgSU5URUxfR0VOKGVuZ2luZS0+aTkxNSkgPj0gMTIpCisJaWYgKGVuZ2luZS0+Y2xh
c3MgIT0gQ09QWV9FTkdJTkVfQ0xBU1MgJiYgSU5URUxfR0VOKGVuZ2luZS0+aTkxNSkgPj0gMTEp
CiAJCWVuZ2luZS0+ZmxhZ3MgfD0gSTkxNV9FTkdJTkVfSEFTX1JFTEFUSVZFX01NSU87CiB9CiAK
QEAgLTMyMjAsNyArMzU3OSw3IEBAIGludCBpbnRlbF9leGVjbGlzdHNfc3VibWlzc2lvbl9pbml0
KHN0cnVjdCBpbnRlbF9lbmdpbmVfY3MgKmVuZ2luZSkKIAlyZXR1cm4gMDsKIH0KIAotc3RhdGlj
IHUzMiBpbnRlbF9scl9pbmRpcmVjdF9jdHhfb2Zmc2V0KHN0cnVjdCBpbnRlbF9lbmdpbmVfY3Mg
KmVuZ2luZSkKK3N0YXRpYyB1MzIgaW50ZWxfbHJfaW5kaXJlY3RfY3R4X29mZnNldChjb25zdCBz
dHJ1Y3QgaW50ZWxfZW5naW5lX2NzICplbmdpbmUpCiB7CiAJdTMyIGluZGlyZWN0X2N0eF9vZmZz
ZXQ7CiAKQEAgLTMyNTUsNzUgKzM2MTQsNDggQEAgc3RhdGljIHUzMiBpbnRlbF9scl9pbmRpcmVj
dF9jdHhfb2Zmc2V0KHN0cnVjdCBpbnRlbF9lbmdpbmVfY3MgKmVuZ2luZSkKIAogCiBzdGF0aWMg
dm9pZCBpbml0X2NvbW1vbl9yZWdfc3RhdGUodTMyICogY29uc3QgcmVncywKLQkJCQkgIHN0cnVj
dCBpOTE1X3BwZ3R0ICogY29uc3QgcHBndHQsCi0JCQkJICBzdHJ1Y3QgaW50ZWxfZW5naW5lX2Nz
ICplbmdpbmUsCi0JCQkJICBzdHJ1Y3QgaW50ZWxfcmluZyAqcmluZykKKwkJCQkgIGNvbnN0IHN0
cnVjdCBpbnRlbF9lbmdpbmVfY3MgKmVuZ2luZSwKKwkJCQkgIGNvbnN0IHN0cnVjdCBpbnRlbF9y
aW5nICpyaW5nKQogewotCWNvbnN0IHUzMiBiYXNlID0gZW5naW5lLT5tbWlvX2Jhc2U7Ci0KLQlD
VFhfUkVHKHJlZ3MsIENUWF9DT05URVhUX0NPTlRST0wsIFJJTkdfQ09OVEVYVF9DT05UUk9MKGJh
c2UpLAorCXJlZ3NbQ1RYX0NPTlRFWFRfQ09OVFJPTF0gPQogCQlfTUFTS0VEX0JJVF9ESVNBQkxF
KENUWF9DVFJMX0VOR0lORV9DVFhfUkVTVE9SRV9JTkhJQklUKSB8Ci0JCV9NQVNLRURfQklUX0VO
QUJMRShDVFhfQ1RSTF9JTkhJQklUX1NZTl9DVFhfU1dJVENIKSk7Ci0JaWYgKElOVEVMX0dFTihl
bmdpbmUtPmk5MTUpIDwgMTEpIHsKLQkJcmVnc1tDVFhfQ09OVEVYVF9DT05UUk9MICsgMV0gfD0K
KwkJX01BU0tFRF9CSVRfRU5BQkxFKENUWF9DVFJMX0lOSElCSVRfU1lOX0NUWF9TV0lUQ0gpOwor
CWlmIChJTlRFTF9HRU4oZW5naW5lLT5pOTE1KSA8IDExKQorCQlyZWdzW0NUWF9DT05URVhUX0NP
TlRST0xdIHw9CiAJCQlfTUFTS0VEX0JJVF9ESVNBQkxFKENUWF9DVFJMX0VOR0lORV9DVFhfU0FW
RV9JTkhJQklUIHwKIAkJCQkJICAgIENUWF9DVFJMX1JTX0NUWF9FTkFCTEUpOwotCX0KLQlDVFhf
UkVHKHJlZ3MsIENUWF9SSU5HX0hFQUQsIFJJTkdfSEVBRChiYXNlKSwgMCk7Ci0JQ1RYX1JFRyhy
ZWdzLCBDVFhfUklOR19UQUlMLCBSSU5HX1RBSUwoYmFzZSksIDApOwotCUNUWF9SRUcocmVncywg
Q1RYX1JJTkdfQlVGRkVSX1NUQVJULCBSSU5HX1NUQVJUKGJhc2UpLCAwKTsKLQlDVFhfUkVHKHJl
Z3MsIENUWF9SSU5HX0JVRkZFUl9DT05UUk9MLCBSSU5HX0NUTChiYXNlKSwKLQkJUklOR19DVExf
U0laRShyaW5nLT5zaXplKSB8IFJJTkdfVkFMSUQpOwotCUNUWF9SRUcocmVncywgQ1RYX0JCX0hF
QURfVSwgUklOR19CQkFERFJfVURXKGJhc2UpLCAwKTsKLQlDVFhfUkVHKHJlZ3MsIENUWF9CQl9I
RUFEX0wsIFJJTkdfQkJBRERSKGJhc2UpLCAwKTsKLQlDVFhfUkVHKHJlZ3MsIENUWF9CQl9TVEFU
RSwgUklOR19CQlNUQVRFKGJhc2UpLCBSSU5HX0JCX1BQR1RUKTsKKworCXJlZ3NbQ1RYX1JJTkdf
QlVGRkVSX0NPTlRST0xdID0gUklOR19DVExfU0laRShyaW5nLT5zaXplKSB8IFJJTkdfVkFMSUQ7
CisJcmVnc1tDVFhfQkJfU1RBVEVdID0gUklOR19CQl9QUEdUVDsKIH0KIAogc3RhdGljIHZvaWQg
aW5pdF93YV9iYl9yZWdfc3RhdGUodTMyICogY29uc3QgcmVncywKLQkJCQkgc3RydWN0IGludGVs
X2VuZ2luZV9jcyAqZW5naW5lLAorCQkJCSBjb25zdCBzdHJ1Y3QgaW50ZWxfZW5naW5lX2NzICpl
bmdpbmUsCiAJCQkJIHUzMiBwb3NfYmJfcGVyX2N0eCkKIHsKLQlzdHJ1Y3QgaTkxNV9jdHhfd29y
a2Fyb3VuZHMgKiBjb25zdCB3YV9jdHggPSAmZW5naW5lLT53YV9jdHg7Ci0JY29uc3QgdTMyIGJh
c2UgPSBlbmdpbmUtPm1taW9fYmFzZTsKLQljb25zdCB1MzIgcG9zX2luZGlyZWN0X2N0eCA9IHBv
c19iYl9wZXJfY3R4ICsgMjsKLQljb25zdCB1MzIgcG9zX2luZGlyZWN0X2N0eF9vZmZzZXQgPSBw
b3NfaW5kaXJlY3RfY3R4ICsgMjsKKwljb25zdCBzdHJ1Y3QgaTkxNV9jdHhfd29ya2Fyb3VuZHMg
KiBjb25zdCB3YV9jdHggPSAmZW5naW5lLT53YV9jdHg7CisKKwlpZiAod2FfY3R4LT5wZXJfY3R4
LnNpemUpIHsKKwkJY29uc3QgdTMyIGdndHRfb2Zmc2V0ID0gaTkxNV9nZ3R0X29mZnNldCh3YV9j
dHgtPnZtYSk7CisKKwkJcmVnc1twb3NfYmJfcGVyX2N0eF0gPQorCQkJKGdndHRfb2Zmc2V0ICsg
d2FfY3R4LT5wZXJfY3R4Lm9mZnNldCkgfCAweDAxOworCX0KIAotCUNUWF9SRUcocmVncywgcG9z
X2luZGlyZWN0X2N0eCwgUklOR19JTkRJUkVDVF9DVFgoYmFzZSksIDApOwotCUNUWF9SRUcocmVn
cywgcG9zX2luZGlyZWN0X2N0eF9vZmZzZXQsCi0JCVJJTkdfSU5ESVJFQ1RfQ1RYX09GRlNFVChi
YXNlKSwgMCk7CiAJaWYgKHdhX2N0eC0+aW5kaXJlY3RfY3R4LnNpemUpIHsKIAkJY29uc3QgdTMy
IGdndHRfb2Zmc2V0ID0gaTkxNV9nZ3R0X29mZnNldCh3YV9jdHgtPnZtYSk7CiAKLQkJcmVnc1tw
b3NfaW5kaXJlY3RfY3R4ICsgMV0gPQorCQlyZWdzW3Bvc19iYl9wZXJfY3R4ICsgMl0gPQogCQkJ
KGdndHRfb2Zmc2V0ICsgd2FfY3R4LT5pbmRpcmVjdF9jdHgub2Zmc2V0KSB8CiAJCQkod2FfY3R4
LT5pbmRpcmVjdF9jdHguc2l6ZSAvIENBQ0hFTElORV9CWVRFUyk7CiAKLQkJcmVnc1twb3NfaW5k
aXJlY3RfY3R4X29mZnNldCArIDFdID0KKwkJcmVnc1twb3NfYmJfcGVyX2N0eCArIDRdID0KIAkJ
CWludGVsX2xyX2luZGlyZWN0X2N0eF9vZmZzZXQoZW5naW5lKSA8PCA2OwogCX0KLQotCUNUWF9S
RUcocmVncywgcG9zX2JiX3Blcl9jdHgsIFJJTkdfQkJfUEVSX0NUWF9QVFIoYmFzZSksIDApOwot
CWlmICh3YV9jdHgtPnBlcl9jdHguc2l6ZSkgewotCQljb25zdCB1MzIgZ2d0dF9vZmZzZXQgPSBp
OTE1X2dndHRfb2Zmc2V0KHdhX2N0eC0+dm1hKTsKLQotCQlyZWdzW3Bvc19iYl9wZXJfY3R4ICsg
MV0gPQotCQkJKGdndHRfb2Zmc2V0ICsgd2FfY3R4LT5wZXJfY3R4Lm9mZnNldCkgfCAweDAxOwot
CX0KIH0KIAotc3RhdGljIHZvaWQgaW5pdF9wcGd0dF9yZWdfc3RhdGUodTMyICpyZWdzLCB1MzIg
YmFzZSwKLQkJCQkgc3RydWN0IGk5MTVfcHBndHQgKnBwZ3R0KQorc3RhdGljIHZvaWQgaW5pdF9w
cGd0dF9yZWdfc3RhdGUodTMyICpyZWdzLCBjb25zdCBzdHJ1Y3QgaTkxNV9wcGd0dCAqcHBndHQp
CiB7Ci0JLyogUERQIHZhbHVlcyB3ZWxsIGJlIGFzc2lnbmVkIGxhdGVyIGlmIG5lZWRlZCAqLwot
CUNUWF9SRUcocmVncywgQ1RYX1BEUDNfVURXLCBHRU44X1JJTkdfUERQX1VEVyhiYXNlLCAzKSwg
MCk7Ci0JQ1RYX1JFRyhyZWdzLCBDVFhfUERQM19MRFcsIEdFTjhfUklOR19QRFBfTERXKGJhc2Us
IDMpLCAwKTsKLQlDVFhfUkVHKHJlZ3MsIENUWF9QRFAyX1VEVywgR0VOOF9SSU5HX1BEUF9VRFco
YmFzZSwgMiksIDApOwotCUNUWF9SRUcocmVncywgQ1RYX1BEUDJfTERXLCBHRU44X1JJTkdfUERQ
X0xEVyhiYXNlLCAyKSwgMCk7Ci0JQ1RYX1JFRyhyZWdzLCBDVFhfUERQMV9VRFcsIEdFTjhfUklO
R19QRFBfVURXKGJhc2UsIDEpLCAwKTsKLQlDVFhfUkVHKHJlZ3MsIENUWF9QRFAxX0xEVywgR0VO
OF9SSU5HX1BEUF9MRFcoYmFzZSwgMSksIDApOwotCUNUWF9SRUcocmVncywgQ1RYX1BEUDBfVURX
LCBHRU44X1JJTkdfUERQX1VEVyhiYXNlLCAwKSwgMCk7Ci0JQ1RYX1JFRyhyZWdzLCBDVFhfUERQ
MF9MRFcsIEdFTjhfUklOR19QRFBfTERXKGJhc2UsIDApLCAwKTsKLQogCWlmIChpOTE1X3ZtX2lz
XzRsdmwoJnBwZ3R0LT52bSkpIHsKIAkJLyogNjRiIFBQR1RUICg0OGJpdCBjYW5vbmljYWwpCiAJ
CSAqIFBEUDBfREVTQ1JJUFRPUiBjb250YWlucyB0aGUgYmFzZSBhZGRyZXNzIHRvIFBNTDQgYW5k
CkBAIC0zMzQ2LDkxICszNjc4LDExIEBAIHN0YXRpYyBzdHJ1Y3QgaTkxNV9wcGd0dCAqdm1fYWxp
YXMoc3RydWN0IGk5MTVfYWRkcmVzc19zcGFjZSAqdm0pCiAJCXJldHVybiBpOTE1X3ZtX3RvX3Bw
Z3R0KHZtKTsKIH0KIAotc3RhdGljIHZvaWQgZ2VuOF9pbml0X3JlZ19zdGF0ZSh1MzIgKiBjb25z
dCByZWdzLAotCQkJCXN0cnVjdCBpbnRlbF9jb250ZXh0ICpjZSwKLQkJCQlzdHJ1Y3QgaW50ZWxf
ZW5naW5lX2NzICplbmdpbmUsCi0JCQkJc3RydWN0IGludGVsX3JpbmcgKnJpbmcpCi17Ci0Jc3Ry
dWN0IGk5MTVfcHBndHQgKiBjb25zdCBwcGd0dCA9IHZtX2FsaWFzKGNlLT52bSk7Ci0JY29uc3Qg
Ym9vbCByY3MgPSBlbmdpbmUtPmNsYXNzID09IFJFTkRFUl9DTEFTUzsKLQljb25zdCB1MzIgYmFz
ZSA9IGVuZ2luZS0+bW1pb19iYXNlOwotCWNvbnN0IHUzMiBscmlfYmFzZSA9Ci0JCWludGVsX2Vu
Z2luZV9oYXNfcmVsYXRpdmVfbW1pbyhlbmdpbmUpID8gTUlfTFJJX0NTX01NSU8gOiAwOwotCi0J
cmVnc1tDVFhfTFJJX0hFQURFUl8wXSA9Ci0JCU1JX0xPQURfUkVHSVNURVJfSU1NKHJjcyA/IDE0
IDogMTEpIHwKLQkJTUlfTFJJX0ZPUkNFX1BPU1RFRCB8Ci0JCWxyaV9iYXNlOwotCi0JaW5pdF9j
b21tb25fcmVnX3N0YXRlKHJlZ3MsIHBwZ3R0LCBlbmdpbmUsIHJpbmcpOwotCUNUWF9SRUcocmVn
cywgQ1RYX1NFQ09ORF9CQl9IRUFEX1UsIFJJTkdfU0JCQUREUl9VRFcoYmFzZSksIDApOwotCUNU
WF9SRUcocmVncywgQ1RYX1NFQ09ORF9CQl9IRUFEX0wsIFJJTkdfU0JCQUREUihiYXNlKSwgMCk7
Ci0JQ1RYX1JFRyhyZWdzLCBDVFhfU0VDT05EX0JCX1NUQVRFLCBSSU5HX1NCQlNUQVRFKGJhc2Up
LCAwKTsKLQlpZiAocmNzKQotCQlpbml0X3dhX2JiX3JlZ19zdGF0ZShyZWdzLCBlbmdpbmUsIENU
WF9CQl9QRVJfQ1RYX1BUUik7Ci0KLQlyZWdzW0NUWF9MUklfSEVBREVSXzFdID0KLQkJTUlfTE9B
RF9SRUdJU1RFUl9JTU0oOSkgfAotCQlNSV9MUklfRk9SQ0VfUE9TVEVEIHwKLQkJbHJpX2Jhc2U7
Ci0KLQlDVFhfUkVHKHJlZ3MsIENUWF9DVFhfVElNRVNUQU1QLCBSSU5HX0NUWF9USU1FU1RBTVAo
YmFzZSksIDApOwotCi0JaW5pdF9wcGd0dF9yZWdfc3RhdGUocmVncywgYmFzZSwgcHBndHQpOwot
Ci0JaWYgKHJjcykgewotCQlyZWdzW0NUWF9MUklfSEVBREVSXzJdID0gTUlfTE9BRF9SRUdJU1RF
Ul9JTU0oMSkgfCBscmlfYmFzZTsKLQkJQ1RYX1JFRyhyZWdzLCBDVFhfUl9QV1JfQ0xLX1NUQVRF
LCBHRU44X1JfUFdSX0NMS19TVEFURSwgMCk7Ci0JfQotCi0JcmVnc1tDVFhfRU5EXSA9IE1JX0JB
VENIX0JVRkZFUl9FTkQ7Ci0JaWYgKElOVEVMX0dFTihlbmdpbmUtPmk5MTUpID49IDEwKQotCQly
ZWdzW0NUWF9FTkRdIHw9IEJJVCgwKTsKLX0KLQotc3RhdGljIHZvaWQgZ2VuMTJfaW5pdF9yZWdf
c3RhdGUodTMyICogY29uc3QgcmVncywKLQkJCQkgc3RydWN0IGludGVsX2NvbnRleHQgKmNlLAot
CQkJCSBzdHJ1Y3QgaW50ZWxfZW5naW5lX2NzICplbmdpbmUsCi0JCQkJIHN0cnVjdCBpbnRlbF9y
aW5nICpyaW5nKQotewotCXN0cnVjdCBpOTE1X3BwZ3R0ICogY29uc3QgcHBndHQgPSBpOTE1X3Zt
X3RvX3BwZ3R0KGNlLT52bSk7Ci0JY29uc3QgYm9vbCByY3MgPSBlbmdpbmUtPmNsYXNzID09IFJF
TkRFUl9DTEFTUzsKLQljb25zdCB1MzIgYmFzZSA9IGVuZ2luZS0+bW1pb19iYXNlOwotCWNvbnN0
IHUzMiBscmlfYmFzZSA9Ci0JCWludGVsX2VuZ2luZV9oYXNfcmVsYXRpdmVfbW1pbyhlbmdpbmUp
ID8gTUlfTFJJX0NTX01NSU8gOiAwOwotCi0JcmVnc1tDVFhfTFJJX0hFQURFUl8wXSA9Ci0JCU1J
X0xPQURfUkVHSVNURVJfSU1NKHJjcyA/IDExIDogOSkgfAotCQlNSV9MUklfRk9SQ0VfUE9TVEVE
IHwKLQkJbHJpX2Jhc2U7Ci0KLQlpbml0X2NvbW1vbl9yZWdfc3RhdGUocmVncywgcHBndHQsIGVu
Z2luZSwgcmluZyk7Ci0KLQkvKiBXZSB3YW50IGN0eF9wdHIgZm9yIGFsbCBlbmdpbmVzIHRvIGJl
IHNldCAqLwotCWluaXRfd2FfYmJfcmVnX3N0YXRlKHJlZ3MsIGVuZ2luZSwgR0VOMTJfQ1RYX0JC
X1BFUl9DVFhfUFRSKTsKLQotCXJlZ3NbQ1RYX0xSSV9IRUFERVJfMV0gPQotCQlNSV9MT0FEX1JF
R0lTVEVSX0lNTSg5KSB8Ci0JCU1JX0xSSV9GT1JDRV9QT1NURUQgfAotCQlscmlfYmFzZTsKLQot
CUNUWF9SRUcocmVncywgQ1RYX0NUWF9USU1FU1RBTVAsIFJJTkdfQ1RYX1RJTUVTVEFNUChiYXNl
KSwgMCk7Ci0KLQlpbml0X3BwZ3R0X3JlZ19zdGF0ZShyZWdzLCBiYXNlLCBwcGd0dCk7Ci0KLQlp
ZiAocmNzKSB7Ci0JCXJlZ3NbR0VOMTJfQ1RYX0xSSV9IRUFERVJfM10gPQotCQkJTUlfTE9BRF9S
RUdJU1RFUl9JTU0oMSkgfCBscmlfYmFzZTsKLQkJQ1RYX1JFRyhyZWdzLCBDVFhfUl9QV1JfQ0xL
X1NUQVRFLCBHRU44X1JfUFdSX0NMS19TVEFURSwgMCk7Ci0KLQkJLyogVE9ETzogb2FfaW5pdF9y
ZWdfc3RhdGUgPyAqLwotCX0KLX0KLQogc3RhdGljIHZvaWQgZXhlY2xpc3RzX2luaXRfcmVnX3N0
YXRlKHUzMiAqcmVncywKLQkJCQkgICAgIHN0cnVjdCBpbnRlbF9jb250ZXh0ICpjZSwKLQkJCQkg
ICAgIHN0cnVjdCBpbnRlbF9lbmdpbmVfY3MgKmVuZ2luZSwKLQkJCQkgICAgIHN0cnVjdCBpbnRl
bF9yaW5nICpyaW5nKQorCQkJCSAgICAgY29uc3Qgc3RydWN0IGludGVsX2NvbnRleHQgKmNlLAor
CQkJCSAgICAgY29uc3Qgc3RydWN0IGludGVsX2VuZ2luZV9jcyAqZW5naW5lLAorCQkJCSAgICAg
Y29uc3Qgc3RydWN0IGludGVsX3JpbmcgKnJpbmcsCisJCQkJICAgICBib29sIGNsb3NlKQogewog
CS8qCiAJICogQSBjb250ZXh0IGlzIGFjdHVhbGx5IGEgYmlnIGJhdGNoIGJ1ZmZlciB3aXRoIHNl
dmVyYWwKQEAgLTM0NDIsMTAgKzM2OTQsMjEgQEAgc3RhdGljIHZvaWQgZXhlY2xpc3RzX2luaXRf
cmVnX3N0YXRlKHUzMiAqcmVncywKIAkgKgogCSAqIE11c3Qga2VlcCBjb25zaXN0ZW50IHdpdGgg
dmlydHVhbF91cGRhdGVfcmVnaXN0ZXJfb2Zmc2V0cygpLgogCSAqLwotCWlmIChJTlRFTF9HRU4o
ZW5naW5lLT5pOTE1KSA+PSAxMikKLQkJZ2VuMTJfaW5pdF9yZWdfc3RhdGUocmVncywgY2UsIGVu
Z2luZSwgcmluZyk7Ci0JZWxzZQotCQlnZW44X2luaXRfcmVnX3N0YXRlKHJlZ3MsIGNlLCBlbmdp
bmUsIHJpbmcpOworCXUzMiAqYmJlID0gc2V0X29mZnNldHMocmVncywgcmVnX29mZnNldHMoZW5n
aW5lKSwgZW5naW5lKTsKKworCWlmIChjbG9zZSkgeyAvKiBDbG9zZSB0aGUgYmF0Y2g7IHVzZWQg
bWFpbmx5IGJ5IGxpdmVfbHJjX2xheW91dCgpICovCisJCSpiYmUgPSBNSV9CQVRDSF9CVUZGRVJf
RU5EOworCQlpZiAoSU5URUxfR0VOKGVuZ2luZS0+aTkxNSkgPj0gMTApCisJCQkqYmJlIHw9IEJJ
VCgwKTsKKwl9CisKKwlpbml0X2NvbW1vbl9yZWdfc3RhdGUocmVncywgZW5naW5lLCByaW5nKTsK
Kwlpbml0X3BwZ3R0X3JlZ19zdGF0ZShyZWdzLCB2bV9hbGlhcyhjZS0+dm0pKTsKKworCWluaXRf
d2FfYmJfcmVnX3N0YXRlKHJlZ3MsIGVuZ2luZSwKKwkJCSAgICAgSU5URUxfR0VOKGVuZ2luZS0+
aTkxNSkgPj0gMTIgPworCQkJICAgICBHRU4xMl9DVFhfQkJfUEVSX0NUWF9QVFIgOgorCQkJICAg
ICBDVFhfQkJfUEVSX0NUWF9QVFIpOwogfQogCiBzdGF0aWMgaW50CkBAIC0zNDU0LDYgKzM3MTcs
NyBAQCBwb3B1bGF0ZV9scl9jb250ZXh0KHN0cnVjdCBpbnRlbF9jb250ZXh0ICpjZSwKIAkJICAg
IHN0cnVjdCBpbnRlbF9lbmdpbmVfY3MgKmVuZ2luZSwKIAkJICAgIHN0cnVjdCBpbnRlbF9yaW5n
ICpyaW5nKQogeworCWJvb2wgaW5oaWJpdCA9IHRydWU7CiAJdm9pZCAqdmFkZHI7CiAJdTMyICpy
ZWdzOwogCWludCByZXQ7CkBAIC0zNDg1LDE0ICszNzQ5LDE1IEBAIHBvcHVsYXRlX2xyX2NvbnRl
eHQoc3RydWN0IGludGVsX2NvbnRleHQgKmNlLAogCiAJCW1lbWNweSh2YWRkciArIHN0YXJ0LCBk
ZWZhdWx0cyArIHN0YXJ0LCBlbmdpbmUtPmNvbnRleHRfc2l6ZSk7CiAJCWk5MTVfZ2VtX29iamVj
dF91bnBpbl9tYXAoZW5naW5lLT5kZWZhdWx0X3N0YXRlKTsKKwkJaW5oaWJpdCA9IGZhbHNlOwog
CX0KIAogCS8qIFRoZSBzZWNvbmQgcGFnZSBvZiB0aGUgY29udGV4dCBvYmplY3QgY29udGFpbnMg
c29tZSBmaWVsZHMgd2hpY2ggbXVzdAogCSAqIGJlIHNldCB1cCBwcmlvciB0byB0aGUgZmlyc3Qg
ZXhlY3V0aW9uLiAqLwogCXJlZ3MgPSB2YWRkciArIExSQ19TVEFURV9QTiAqIFBBR0VfU0laRTsK
LQlleGVjbGlzdHNfaW5pdF9yZWdfc3RhdGUocmVncywgY2UsIGVuZ2luZSwgcmluZyk7Ci0JaWYg
KCFlbmdpbmUtPmRlZmF1bHRfc3RhdGUpCi0JCXJlZ3NbQ1RYX0NPTlRFWFRfQ09OVFJPTCArIDFd
IHw9CisJZXhlY2xpc3RzX2luaXRfcmVnX3N0YXRlKHJlZ3MsIGNlLCBlbmdpbmUsIHJpbmcsIGlu
aGliaXQpOworCWlmIChpbmhpYml0KQorCQlyZWdzW0NUWF9DT05URVhUX0NPTlRST0xdIHw9CiAJ
CQlfTUFTS0VEX0JJVF9FTkFCTEUoQ1RYX0NUUkxfRU5HSU5FX0NUWF9SRVNUT1JFX0lOSElCSVQp
OwogCiAJcmV0ID0gMDsKQEAgLTQxNjcsNyArNDQzMiw3IEBAIHZvaWQgaW50ZWxfbHJfY29udGV4
dF9yZXNldChzdHJ1Y3QgaW50ZWxfZW5naW5lX2NzICplbmdpbmUsCiAJCQkgICAgICAgZW5naW5l
LT5waW5uZWRfZGVmYXVsdF9zdGF0ZSArIExSQ19TVEFURV9QTiAqIFBBR0VfU0laRSwKIAkJCSAg
ICAgICBlbmdpbmUtPmNvbnRleHRfc2l6ZSAtIFBBR0VfU0laRSk7CiAJCX0KLQkJZXhlY2xpc3Rz
X2luaXRfcmVnX3N0YXRlKHJlZ3MsIGNlLCBlbmdpbmUsIGNlLT5yaW5nKTsKKwkJZXhlY2xpc3Rz
X2luaXRfcmVnX3N0YXRlKHJlZ3MsIGNlLCBlbmdpbmUsIGNlLT5yaW5nLCBmYWxzZSk7CiAJfQog
CiAJLyogUmVydW4gdGhlIHJlcXVlc3Q7IGl0cyBwYXlsb2FkIGhhcyBiZWVuIG5ldXRlcmVkIChp
ZiBndWlsdHkpLiAqLwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxf
bHJjX3JlZy5oIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfbHJjX3JlZy5oCmluZGV4
IDdlNzczZTc0YTNmZS4uMDZhYjAyNzZlMTBlIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0v
aTkxNS9ndC9pbnRlbF9scmNfcmVnLmgKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50
ZWxfbHJjX3JlZy5oCkBAIC0xMCw2MCArMTAsNDAgQEAKICNpbmNsdWRlIDxsaW51eC90eXBlcy5o
PgogCiAvKiBHRU44IHRvIEdFTjExIFJlZyBTdGF0ZSBDb250ZXh0ICovCi0jZGVmaW5lIENUWF9M
UklfSEVBREVSXzAJCTB4MDEKLSNkZWZpbmUgQ1RYX0NPTlRFWFRfQ09OVFJPTAkJMHgwMgotI2Rl
ZmluZSBDVFhfUklOR19IRUFECQkJMHgwNAotI2RlZmluZSBDVFhfUklOR19UQUlMCQkJMHgwNgot
I2RlZmluZSBDVFhfUklOR19CVUZGRVJfU1RBUlQJCTB4MDgKLSNkZWZpbmUgQ1RYX1JJTkdfQlVG
RkVSX0NPTlRST0wJCTB4MGEKLSNkZWZpbmUgQ1RYX0JCX0hFQURfVQkJCTB4MGMKLSNkZWZpbmUg
Q1RYX0JCX0hFQURfTAkJCTB4MGUKLSNkZWZpbmUgQ1RYX0JCX1NUQVRFCQkJMHgxMAotI2RlZmlu
ZSBDVFhfU0VDT05EX0JCX0hFQURfVQkJMHgxMgotI2RlZmluZSBDVFhfU0VDT05EX0JCX0hFQURf
TAkJMHgxNAotI2RlZmluZSBDVFhfU0VDT05EX0JCX1NUQVRFCQkweDE2Ci0jZGVmaW5lIENUWF9C
Ql9QRVJfQ1RYX1BUUgkJMHgxOAotI2RlZmluZSBDVFhfUkNTX0lORElSRUNUX0NUWAkJMHgxYQot
I2RlZmluZSBDVFhfUkNTX0lORElSRUNUX0NUWF9PRkZTRVQJMHgxYwotI2RlZmluZSBDVFhfTFJJ
X0hFQURFUl8xCQkweDIxCi0jZGVmaW5lIENUWF9DVFhfVElNRVNUQU1QCQkweDIyCi0jZGVmaW5l
IENUWF9QRFAzX1VEVwkJCTB4MjQKLSNkZWZpbmUgQ1RYX1BEUDNfTERXCQkJMHgyNgotI2RlZmlu
ZSBDVFhfUERQMl9VRFcJCQkweDI4Ci0jZGVmaW5lIENUWF9QRFAyX0xEVwkJCTB4MmEKLSNkZWZp
bmUgQ1RYX1BEUDFfVURXCQkJMHgyYwotI2RlZmluZSBDVFhfUERQMV9MRFcJCQkweDJlCi0jZGVm
aW5lIENUWF9QRFAwX1VEVwkJCTB4MzAKLSNkZWZpbmUgQ1RYX1BEUDBfTERXCQkJMHgzMgotI2Rl
ZmluZSBDVFhfTFJJX0hFQURFUl8yCQkweDQxCi0jZGVmaW5lIENUWF9SX1BXUl9DTEtfU1RBVEUJ
CTB4NDIKLSNkZWZpbmUgQ1RYX0VORAkJCQkweDQ0CisjZGVmaW5lIENUWF9DT05URVhUX0NPTlRS
T0wJCSgweDAyICsgMSkKKyNkZWZpbmUgQ1RYX1JJTkdfSEVBRAkJCSgweDA0ICsgMSkKKyNkZWZp
bmUgQ1RYX1JJTkdfVEFJTAkJCSgweDA2ICsgMSkKKyNkZWZpbmUgQ1RYX1JJTkdfQlVGRkVSX1NU
QVJUCQkoMHgwOCArIDEpCisjZGVmaW5lIENUWF9SSU5HX0JVRkZFUl9DT05UUk9MCQkoMHgwYSAr
IDEpCisjZGVmaW5lIENUWF9CQl9TVEFURQkJCSgweDEwICsgMSkKKyNkZWZpbmUgQ1RYX0JCX1BF
Ul9DVFhfUFRSCQkoMHgxOCArIDEpCisjZGVmaW5lIENUWF9QRFAzX1VEVwkJCSgweDI0ICsgMSkK
KyNkZWZpbmUgQ1RYX1BEUDNfTERXCQkJKDB4MjYgKyAxKQorI2RlZmluZSBDVFhfUERQMl9VRFcJ
CQkoMHgyOCArIDEpCisjZGVmaW5lIENUWF9QRFAyX0xEVwkJCSgweDJhICsgMSkKKyNkZWZpbmUg
Q1RYX1BEUDFfVURXCQkJKDB4MmMgKyAxKQorI2RlZmluZSBDVFhfUERQMV9MRFcJCQkoMHgyZSAr
IDEpCisjZGVmaW5lIENUWF9QRFAwX1VEVwkJCSgweDMwICsgMSkKKyNkZWZpbmUgQ1RYX1BEUDBf
TERXCQkJKDB4MzIgKyAxKQorI2RlZmluZSBDVFhfUl9QV1JfQ0xLX1NUQVRFCQkoMHg0MiArIDEp
CiAKICNkZWZpbmUgR0VOOV9DVFhfUklOR19NSV9NT0RFCQkweDU0CiAKIC8qIEdFTjEyKyBSZWcg
U3RhdGUgQ29udGV4dCAqLwotI2RlZmluZSBHRU4xMl9DVFhfQkJfUEVSX0NUWF9QVFIJCTB4MTIK
LSNkZWZpbmUgR0VOMTJfQ1RYX0xSSV9IRUFERVJfMwkJCTB4NDEKLQotI2RlZmluZSBDVFhfUkVH
KHJlZ19zdGF0ZSwgcG9zLCByZWcsIHZhbCkgZG8geyBcCi0JdTMyICpyZWdfc3RhdGVfXyA9IChy
ZWdfc3RhdGUpOyBcCi0JY29uc3QgdTMyIHBvc19fID0gKHBvcyk7IFwKLQkocmVnX3N0YXRlX18p
Wyhwb3NfXykgKyAwXSA9IGk5MTVfbW1pb19yZWdfb2Zmc2V0KHJlZyk7IFwKLQkocmVnX3N0YXRl
X18pWyhwb3NfXykgKyAxXSA9ICh2YWwpOyBcCi19IHdoaWxlICgwKQorI2RlZmluZSBHRU4xMl9D
VFhfQkJfUEVSX0NUWF9QVFIJCSgweDEyICsgMSkKIAogI2RlZmluZSBBU1NJR05fQ1RYX1BEUChw
cGd0dCwgcmVnX3N0YXRlLCBuKSBkbyB7IFwKIAl1MzIgKnJlZ19zdGF0ZV9fID0gKHJlZ19zdGF0
ZSk7IFwKIAljb25zdCB1NjQgYWRkcl9fID0gaTkxNV9wYWdlX2Rpcl9kbWFfYWRkcigocHBndHQp
LCAobikpOyBcCi0JKHJlZ19zdGF0ZV9fKVtDVFhfUERQICMjIG4gIyMgX1VEVyArIDFdID0gdXBw
ZXJfMzJfYml0cyhhZGRyX18pOyBcCi0JKHJlZ19zdGF0ZV9fKVtDVFhfUERQICMjIG4gIyMgX0xE
VyArIDFdID0gbG93ZXJfMzJfYml0cyhhZGRyX18pOyBcCisJKHJlZ19zdGF0ZV9fKVtDVFhfUERQ
ICMjIG4gIyMgX1VEV10gPSB1cHBlcl8zMl9iaXRzKGFkZHJfXyk7IFwKKwkocmVnX3N0YXRlX18p
W0NUWF9QRFAgIyMgbiAjIyBfTERXXSA9IGxvd2VyXzMyX2JpdHMoYWRkcl9fKTsgXAogfSB3aGls
ZSAoMCkKIAogI2RlZmluZSBBU1NJR05fQ1RYX1BNTDQocHBndHQsIHJlZ19zdGF0ZSkgZG8geyBc
CiAJdTMyICpyZWdfc3RhdGVfXyA9IChyZWdfc3RhdGUpOyBcCiAJY29uc3QgdTY0IGFkZHJfXyA9
IHB4X2RtYShwcGd0dC0+cGQpOyBcCi0JKHJlZ19zdGF0ZV9fKVtDVFhfUERQMF9VRFcgKyAxXSA9
IHVwcGVyXzMyX2JpdHMoYWRkcl9fKTsgXAotCShyZWdfc3RhdGVfXylbQ1RYX1BEUDBfTERXICsg
MV0gPSBsb3dlcl8zMl9iaXRzKGFkZHJfXyk7IFwKKwkocmVnX3N0YXRlX18pW0NUWF9QRFAwX1VE
V10gPSB1cHBlcl8zMl9iaXRzKGFkZHJfXyk7IFwKKwkocmVnX3N0YXRlX18pW0NUWF9QRFAwX0xE
V10gPSBsb3dlcl8zMl9iaXRzKGFkZHJfXyk7IFwKIH0gd2hpbGUgKDApCiAKICNkZWZpbmUgR0VO
OF9DVFhfUkNTX0lORElSRUNUX0NUWF9PRkZTRVRfREVGQVVMVAkweDE3CmRpZmYgLS1naXQgYS9k
cml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9zZWxmdGVzdF9scmMuYyBiL2RyaXZlcnMvZ3B1L2RybS9p
OTE1L2d0L3NlbGZ0ZXN0X2xyYy5jCmluZGV4IDkzYTg3MWJmZDk1ZC4uMjJlYTJlNzQ3MDY0IDEw
MDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9zZWxmdGVzdF9scmMuYworKysgYi9k
cml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9zZWxmdGVzdF9scmMuYwpAQCAtMjIwMSwzICsyMjAxLDE0
NSBAQCBpbnQgaW50ZWxfZXhlY2xpc3RzX2xpdmVfc2VsZnRlc3RzKHN0cnVjdCBkcm1faTkxNV9w
cml2YXRlICppOTE1KQogCiAJcmV0dXJuIGk5MTVfbGl2ZV9zdWJ0ZXN0cyh0ZXN0cywgaTkxNSk7
CiB9CisKK3N0YXRpYyB2b2lkIGhleGR1bXAoY29uc3Qgdm9pZCAqYnVmLCBzaXplX3QgbGVuKQor
eworCWNvbnN0IHNpemVfdCByb3dzaXplID0gOCAqIHNpemVvZih1MzIpOworCWNvbnN0IHZvaWQg
KnByZXYgPSBOVUxMOworCWJvb2wgc2tpcCA9IGZhbHNlOworCXNpemVfdCBwb3M7CisKKwlmb3Ig
KHBvcyA9IDA7IHBvcyA8IGxlbjsgcG9zICs9IHJvd3NpemUpIHsKKwkJY2hhciBsaW5lWzEyOF07
CisKKwkJaWYgKHByZXYgJiYgIW1lbWNtcChwcmV2LCBidWYgKyBwb3MsIHJvd3NpemUpKSB7CisJ
CQlpZiAoIXNraXApIHsKKwkJCQlwcl9pbmZvKCIqXG4iKTsKKwkJCQlza2lwID0gdHJ1ZTsKKwkJ
CX0KKwkJCWNvbnRpbnVlOworCQl9CisKKwkJV0FSTl9PTl9PTkNFKGhleF9kdW1wX3RvX2J1ZmZl
cihidWYgKyBwb3MsIGxlbiAtIHBvcywKKwkJCQkJCXJvd3NpemUsIHNpemVvZih1MzIpLAorCQkJ
CQkJbGluZSwgc2l6ZW9mKGxpbmUpLAorCQkJCQkJZmFsc2UpID49IHNpemVvZihsaW5lKSk7CisJ
CXByX2luZm8oIlslMDR6eF0gJXNcbiIsIHBvcywgbGluZSk7CisKKwkJcHJldiA9IGJ1ZiArIHBv
czsKKwkJc2tpcCA9IGZhbHNlOworCX0KK30KKworc3RhdGljIGludCBsaXZlX2xyY19sYXlvdXQo
dm9pZCAqYXJnKQoreworCXN0cnVjdCBpbnRlbF9ndCAqZ3QgPSBhcmc7CisJc3RydWN0IGludGVs
X2VuZ2luZV9jcyAqZW5naW5lOworCWVudW0gaW50ZWxfZW5naW5lX2lkIGlkOworCXUzMiAqbWVt
OworCWludCBlcnI7CisKKwkvKgorCSAqIENoZWNrIHRoZSByZWdpc3RlcnMgb2Zmc2V0cyB3ZSB1
c2UgdG8gY3JlYXRlIHRoZSBpbml0aWFsIHJlZyBzdGF0ZQorCSAqIG1hdGNoIHRoZSBsYXlvdXQg
c2F2ZWQgYnkgSFcuCisJICovCisKKwltZW0gPSBrbWFsbG9jKFBBR0VfU0laRSwgR0ZQX0tFUk5F
TCk7CisJaWYgKCFtZW0pCisJCXJldHVybiAtRU5PTUVNOworCisJZXJyID0gMDsKKwlmb3JfZWFj
aF9lbmdpbmUoZW5naW5lLCBndC0+aTkxNSwgaWQpIHsKKwkJdTMyICpodywgKmxyYzsKKwkJaW50
IGR3OworCisJCWlmICghZW5naW5lLT5kZWZhdWx0X3N0YXRlKQorCQkJY29udGludWU7CisKKwkJ
aHcgPSBpOTE1X2dlbV9vYmplY3RfcGluX21hcChlbmdpbmUtPmRlZmF1bHRfc3RhdGUsCisJCQkJ
CSAgICAgSTkxNV9NQVBfV0IpOworCQlpZiAoSVNfRVJSKGh3KSkgeworCQkJZXJyID0gUFRSX0VS
Uihodyk7CisJCQlicmVhazsKKwkJfQorCQlodyArPSBMUkNfU1RBVEVfUE4gKiBQQUdFX1NJWkUg
LyBzaXplb2YoKmh3KTsKKworCQlscmMgPSBtZW1zZXQobWVtLCAwLCBQQUdFX1NJWkUpOworCQll
eGVjbGlzdHNfaW5pdF9yZWdfc3RhdGUobHJjLAorCQkJCQkgZW5naW5lLT5rZXJuZWxfY29udGV4
dCwKKwkJCQkJIGVuZ2luZSwKKwkJCQkJIGVuZ2luZS0+a2VybmVsX2NvbnRleHQtPnJpbmcsCisJ
CQkJCSB0cnVlKTsKKworCQlkdyA9IDA7CisJCWRvIHsKKwkJCXUzMiBscmkgPSBod1tkd107CisK
KwkJCWlmIChscmkgPT0gMCkgeworCQkJCWR3Kys7CisJCQkJY29udGludWU7CisJCQl9CisKKwkJ
CWlmICgobHJpICYgR0VOTUFTSygzMSwgMjMpKSAhPSBNSV9JTlNUUigweDIyLCAwKSkgeworCQkJ
CXByX2VycigiJXM6IEV4cGVjdGVkIExSSSBjb21tYW5kIGF0IGR3b3JkICVkLCBmb3VuZCAlMDh4
XG4iLAorCQkJCSAgICAgICBlbmdpbmUtPm5hbWUsIGR3LCBscmkpOworCQkJCWVyciA9IC1FSU5W
QUw7CisJCQkJYnJlYWs7CisJCQl9CisKKwkJCWlmIChscmNbZHddICE9IGxyaSkgeworCQkJCXBy
X2VycigiJXM6IExSSSBjb21tYW5kIG1pc21hdGNoIGF0IGR3b3JkICVkLCBleHBlY3RlZCAlMDh4
IGZvdW5kICUwOHhcbiIsCisJCQkJICAgICAgIGVuZ2luZS0+bmFtZSwgZHcsIGxyaSwgbHJjW2R3
XSk7CisJCQkJZXJyID0gLUVJTlZBTDsKKwkJCQlicmVhazsKKwkJCX0KKworCQkJbHJpICY9IDB4
N2Y7CisJCQlscmkrKzsKKwkJCWR3Kys7CisKKwkJCXdoaWxlIChscmkpIHsKKwkJCQlpZiAoaHdb
ZHddICE9IGxyY1tkd10pIHsKKwkJCQkJcHJfZXJyKCIlczogRGlmZmVyZW50IHJlZ2lzdGVycyBm
b3VuZCBhdCBkd29yZCAlZCwgZXhwZWN0ZWQgJXgsIGZvdW5kICV4XG4iLAorCQkJCQkgICAgICAg
ZW5naW5lLT5uYW1lLCBkdywgaHdbZHddLCBscmNbZHddKTsKKwkJCQkJZXJyID0gLUVJTlZBTDsK
KwkJCQkJYnJlYWs7CisJCQkJfQorCisJCQkJLyoKKwkJCQkgKiBTa2lwIG92ZXIgdGhlIGFjdHVh
bCByZWdpc3RlciB2YWx1ZSBhcyB3ZQorCQkJCSAqIGV4cGVjdCB0aGF0IHRvIGRpZmZlci4KKwkJ
CQkgKi8KKwkJCQlkdyArPSAyOworCQkJCWxyaSAtPSAyOworCQkJfQorCQl9IHdoaWxlICgobHJj
W2R3XSAmIH5CSVQoMCkpICE9IE1JX0JBVENIX0JVRkZFUl9FTkQpOworCisJCWlmIChlcnIpIHsK
KwkJCXByX2luZm8oIiVzOiBIVyByZWdpc3RlciBpbWFnZTpcbiIsIGVuZ2luZS0+bmFtZSk7CisJ
CQloZXhkdW1wKGh3LCBQQUdFX1NJWkUpOworCisJCQlwcl9pbmZvKCIlczogU1cgcmVnaXN0ZXIg
aW1hZ2U6XG4iLCBlbmdpbmUtPm5hbWUpOworCQkJaGV4ZHVtcChscmMsIFBBR0VfU0laRSk7CisJ
CX0KKworCQlpOTE1X2dlbV9vYmplY3RfdW5waW5fbWFwKGVuZ2luZS0+ZGVmYXVsdF9zdGF0ZSk7
CisJCWlmIChlcnIpCisJCQlicmVhazsKKwl9CisKKwlrZnJlZShtZW0pOworCXJldHVybiBlcnI7
Cit9CisKK2ludCBpbnRlbF9scmNfbGl2ZV9zZWxmdGVzdHMoc3RydWN0IGRybV9pOTE1X3ByaXZh
dGUgKmk5MTUpCit7CisJc3RhdGljIGNvbnN0IHN0cnVjdCBpOTE1X3N1YnRlc3QgdGVzdHNbXSA9
IHsKKwkJU1VCVEVTVChsaXZlX2xyY19sYXlvdXQpLAorCX07CisKKwlpZiAoIUhBU19MT0dJQ0FM
X1JJTkdfQ09OVEVYVFMoaTkxNSkpCisJCXJldHVybiAwOworCisJcmV0dXJuIGludGVsX2d0X2xp
dmVfc3VidGVzdHModGVzdHMsICZpOTE1LT5ndCk7Cit9CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dw
dS9kcm0vaTkxNS9pOTE1X3BlcmYuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfcGVyZi5j
CmluZGV4IGMxYjc2NDIzMzc2MS4uNTI0ZjY3MTBiN2FhIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dw
dS9kcm0vaTkxNS9pOTE1X3BlcmYuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3Bl
cmYuYwpAQCAtMTY3MywxMCArMTY3Myw4IEBAIHN0YXRpYyB1MzIgb2FfY29uZmlnX2ZsZXhfcmVn
KGNvbnN0IHN0cnVjdCBpOTE1X29hX2NvbmZpZyAqb2FfY29uZmlnLAogICogaW4gdGhlIGNhc2Ug
dGhhdCB0aGUgT0EgdW5pdCBoYXMgYmVlbiBkaXNhYmxlZC4KICAqLwogc3RhdGljIHZvaWQKLWdl
bjhfdXBkYXRlX3JlZ19zdGF0ZV91bmxvY2tlZChzdHJ1Y3QgaTkxNV9wZXJmX3N0cmVhbSAqc3Ry
ZWFtLAotCQkJICAgICAgIHN0cnVjdCBpbnRlbF9jb250ZXh0ICpjZSwKLQkJCSAgICAgICB1MzIg
KnJlZ19zdGF0ZSwKLQkJCSAgICAgICBjb25zdCBzdHJ1Y3QgaTkxNV9vYV9jb25maWcgKm9hX2Nv
bmZpZykKK2dlbjhfdXBkYXRlX3JlZ19zdGF0ZV91bmxvY2tlZChjb25zdCBzdHJ1Y3QgaW50ZWxf
Y29udGV4dCAqY2UsCisJCQkgICAgICAgY29uc3Qgc3RydWN0IGk5MTVfcGVyZl9zdHJlYW0gKnN0
cmVhbSkKIHsKIAlzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSA9IGNlLT5lbmdpbmUtPmk5
MTU7CiAJdTMyIGN0eF9vYWN0eGN0cmwgPSBpOTE1LT5wZXJmLmN0eF9vYWN0eGN0cmxfb2Zmc2V0
OwpAQCAtMTY5MSwyMSArMTY4OSwxOSBAQCBnZW44X3VwZGF0ZV9yZWdfc3RhdGVfdW5sb2NrZWQo
c3RydWN0IGk5MTVfcGVyZl9zdHJlYW0gKnN0cmVhbSwKIAkJRVVfUEVSRl9DTlRMNSwKIAkJRVVf
UEVSRl9DTlRMNiwKIAl9OworCXUzMiAqcmVnX3N0YXRlID0gY2UtPmxyY19yZWdfc3RhdGU7CiAJ
aW50IGk7CiAKLQlDVFhfUkVHKHJlZ19zdGF0ZSwgY3R4X29hY3R4Y3RybCwgR0VOOF9PQUNUWENP
TlRST0wsCisJcmVnX3N0YXRlW2N0eF9vYWN0eGN0cmwgKyAxXSA9CiAJCShzdHJlYW0tPnBlcmlv
ZF9leHBvbmVudCA8PCBHRU44X09BX1RJTUVSX1BFUklPRF9TSElGVCkgfAogCQkoc3RyZWFtLT5w
ZXJpb2RpYyA/IEdFTjhfT0FfVElNRVJfRU5BQkxFIDogMCkgfAotCQlHRU44X09BX0NPVU5URVJf
UkVTVU1FKTsKKwkJR0VOOF9PQV9DT1VOVEVSX1JFU1VNRTsKIAotCWZvciAoaSA9IDA7IGkgPCBB
UlJBWV9TSVpFKGZsZXhfcmVncyk7IGkrKykgewotCQlDVFhfUkVHKHJlZ19zdGF0ZSwgY3R4X2Zs
ZXhldTAgKyBpICogMiwgZmxleF9yZWdzW2ldLAotCQkJb2FfY29uZmlnX2ZsZXhfcmVnKG9hX2Nv
bmZpZywgZmxleF9yZWdzW2ldKSk7Ci0JfQorCWZvciAoaSA9IDA7IGkgPCBBUlJBWV9TSVpFKGZs
ZXhfcmVncyk7IGkrKykKKwkJcmVnX3N0YXRlW2N0eF9mbGV4ZXUwICsgaSAqIDIgKyAxXSA9CisJ
CQlvYV9jb25maWdfZmxleF9yZWcoc3RyZWFtLT5vYV9jb25maWcsIGZsZXhfcmVnc1tpXSk7CiAK
LQlDVFhfUkVHKHJlZ19zdGF0ZSwKLQkJQ1RYX1JfUFdSX0NMS19TVEFURSwgR0VOOF9SX1BXUl9D
TEtfU1RBVEUsCi0JCWludGVsX3NzZXVfbWFrZV9ycGNzKGk5MTUsICZjZS0+c3NldSkpOworCXJl
Z19zdGF0ZVtDVFhfUl9QV1JfQ0xLX1NUQVRFXSA9IGludGVsX3NzZXVfbWFrZV9ycGNzKGk5MTUs
ICZjZS0+c3NldSk7CiB9CiAKIHN0cnVjdCBmbGV4IHsKQEAgLTE3MjksNyArMTcyNSw3IEBAIGdl
bjhfc3RvcmVfZmxleChzdHJ1Y3QgaTkxNV9yZXF1ZXN0ICpycSwKIAlvZmZzZXQgPSBpOTE1X2dn
dHRfb2Zmc2V0KGNlLT5zdGF0ZSkgKyBMUkNfU1RBVEVfUE4gKiBQQUdFX1NJWkU7CiAJZG8gewog
CQkqY3MrKyA9IE1JX1NUT1JFX0RXT1JEX0lNTV9HRU40IHwgTUlfVVNFX0dHVFQ7Ci0JCSpjcysr
ID0gb2Zmc2V0ICsgKGZsZXgtPm9mZnNldCArIDEpICogc2l6ZW9mKHUzMik7CisJCSpjcysrID0g
b2Zmc2V0ICsgZmxleC0+b2Zmc2V0ICogc2l6ZW9mKHUzMik7CiAJCSpjcysrID0gMDsKIAkJKmNz
KysgPSBmbGV4LT52YWx1ZTsKIAl9IHdoaWxlIChmbGV4KyssIC0tY291bnQpOwpAQCAtMTg2Myw3
ICsxODU5LDcgQEAgc3RhdGljIGludCBnZW44X2NvbmZpZ3VyZV9hbGxfY29udGV4dHMoc3RydWN0
IGk5MTVfcGVyZl9zdHJlYW0gKnN0cmVhbSwKIAlzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkx
NSA9IHN0cmVhbS0+ZGV2X3ByaXY7CiAJLyogVGhlIE1NSU8gb2Zmc2V0cyBmb3IgRmxleCBFVSBy
ZWdpc3RlcnMgYXJlbid0IGNvbnRpZ3VvdXMgKi8KIAljb25zdCB1MzIgY3R4X2ZsZXhldTAgPSBp
OTE1LT5wZXJmLmN0eF9mbGV4ZXUwX29mZnNldDsKLSNkZWZpbmUgY3R4X2ZsZXhldU4oTikgKGN0
eF9mbGV4ZXUwICsgMiAqIChOKSkKKyNkZWZpbmUgY3R4X2ZsZXhldU4oTikgKGN0eF9mbGV4ZXUw
ICsgMiAqIChOKSArIDEpCiAJc3RydWN0IGZsZXggcmVnc1tdID0gewogCQl7CiAJCQlHRU44X1Jf
UFdSX0NMS19TVEFURSwKQEAgLTE4NzEsNyArMTg2Nyw3IEBAIHN0YXRpYyBpbnQgZ2VuOF9jb25m
aWd1cmVfYWxsX2NvbnRleHRzKHN0cnVjdCBpOTE1X3BlcmZfc3RyZWFtICpzdHJlYW0sCiAJCX0s
CiAJCXsKIAkJCUdFTjhfT0FDVFhDT05UUk9MLAotCQkJaTkxNS0+cGVyZi5jdHhfb2FjdHhjdHJs
X29mZnNldCwKKwkJCWk5MTUtPnBlcmYuY3R4X29hY3R4Y3RybF9vZmZzZXQgKyAxLAogCQkJKChz
dHJlYW0tPnBlcmlvZF9leHBvbmVudCA8PCBHRU44X09BX1RJTUVSX1BFUklPRF9TSElGVCkgfAog
CQkJIChzdHJlYW0tPnBlcmlvZGljID8gR0VOOF9PQV9USU1FUl9FTkFCTEUgOiAwKSB8CiAJCQkg
R0VOOF9PQV9DT1VOVEVSX1JFU1VNRSkKQEAgLTIyOTksOSArMjI5NSw4IEBAIHN0YXRpYyBpbnQg
aTkxNV9vYV9zdHJlYW1faW5pdChzdHJ1Y3QgaTkxNV9wZXJmX3N0cmVhbSAqc3RyZWFtLAogCXJl
dHVybiByZXQ7CiB9CiAKLXZvaWQgaTkxNV9vYV9pbml0X3JlZ19zdGF0ZShzdHJ1Y3QgaW50ZWxf
ZW5naW5lX2NzICplbmdpbmUsCi0JCQkgICAgc3RydWN0IGludGVsX2NvbnRleHQgKmNlLAotCQkJ
ICAgIHUzMiAqcmVncykKK3ZvaWQgaTkxNV9vYV9pbml0X3JlZ19zdGF0ZShjb25zdCBzdHJ1Y3Qg
aW50ZWxfY29udGV4dCAqY2UsCisJCQkgICAgY29uc3Qgc3RydWN0IGludGVsX2VuZ2luZV9jcyAq
ZW5naW5lKQogewogCXN0cnVjdCBpOTE1X3BlcmZfc3RyZWFtICpzdHJlYW07CiAKQEAgLTIzMTMs
NyArMjMwOCw3IEBAIHZvaWQgaTkxNV9vYV9pbml0X3JlZ19zdGF0ZShzdHJ1Y3QgaW50ZWxfZW5n
aW5lX2NzICplbmdpbmUsCiAKIAlzdHJlYW0gPSBlbmdpbmUtPmk5MTUtPnBlcmYuZXhjbHVzaXZl
X3N0cmVhbTsKIAlpZiAoc3RyZWFtKQotCQlnZW44X3VwZGF0ZV9yZWdfc3RhdGVfdW5sb2NrZWQo
c3RyZWFtLCBjZSwgcmVncywgc3RyZWFtLT5vYV9jb25maWcpOworCQlnZW44X3VwZGF0ZV9yZWdf
c3RhdGVfdW5sb2NrZWQoY2UsIHN0cmVhbSk7CiB9CiAKIC8qKgpkaWZmIC0tZ2l0IGEvZHJpdmVy
cy9ncHUvZHJtL2k5MTUvaTkxNV9wZXJmLmggYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3Bl
cmYuaAppbmRleCBhNDEyYjE2ZDlmZmMuLmY0ZmIzMTExODRiMSAxMDA2NDQKLS0tIGEvZHJpdmVy
cy9ncHUvZHJtL2k5MTUvaTkxNV9wZXJmLmgKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkx
NV9wZXJmLmgKQEAgLTI1LDggKzI1LDcgQEAgaW50IGk5MTVfcGVyZl9hZGRfY29uZmlnX2lvY3Rs
KHN0cnVjdCBkcm1fZGV2aWNlICpkZXYsIHZvaWQgKmRhdGEsCiAJCQkgICAgICAgc3RydWN0IGRy
bV9maWxlICpmaWxlKTsKIGludCBpOTE1X3BlcmZfcmVtb3ZlX2NvbmZpZ19pb2N0bChzdHJ1Y3Qg
ZHJtX2RldmljZSAqZGV2LCB2b2lkICpkYXRhLAogCQkJCSAgc3RydWN0IGRybV9maWxlICpmaWxl
KTsKLXZvaWQgaTkxNV9vYV9pbml0X3JlZ19zdGF0ZShzdHJ1Y3QgaW50ZWxfZW5naW5lX2NzICpl
bmdpbmUsCi0JCQkgICAgc3RydWN0IGludGVsX2NvbnRleHQgKmNlLAotCQkJICAgIHUzMiAqcmVn
X3N0YXRlKTsKK3ZvaWQgaTkxNV9vYV9pbml0X3JlZ19zdGF0ZShjb25zdCBzdHJ1Y3QgaW50ZWxf
Y29udGV4dCAqY2UsCisJCQkgICAgY29uc3Qgc3RydWN0IGludGVsX2VuZ2luZV9jcyAqZW5naW5l
KTsKIAogI2VuZGlmIC8qIF9fSTkxNV9QRVJGX0hfXyAqLwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9n
cHUvZHJtL2k5MTUvc2VsZnRlc3RzL2k5MTVfbGl2ZV9zZWxmdGVzdHMuaCBiL2RyaXZlcnMvZ3B1
L2RybS9pOTE1L3NlbGZ0ZXN0cy9pOTE1X2xpdmVfc2VsZnRlc3RzLmgKaW5kZXggMWNjZjBmNzMx
YWMwLi42NmQ4M2MxMzkwYzEgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L3NlbGZ0
ZXN0cy9pOTE1X2xpdmVfc2VsZnRlc3RzLmgKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvc2Vs
ZnRlc3RzL2k5MTVfbGl2ZV9zZWxmdGVzdHMuaApAQCAtMTUsNiArMTUsNyBAQCBzZWxmdGVzdCh3
b3JrYXJvdW5kcywgaW50ZWxfd29ya2Fyb3VuZHNfbGl2ZV9zZWxmdGVzdHMpCiBzZWxmdGVzdChn
dF9lbmdpbmVzLCBpbnRlbF9lbmdpbmVfbGl2ZV9zZWxmdGVzdHMpCiBzZWxmdGVzdChndF90aW1l
bGluZXMsIGludGVsX3RpbWVsaW5lX2xpdmVfc2VsZnRlc3RzKQogc2VsZnRlc3QoZ3RfY29udGV4
dHMsIGludGVsX2NvbnRleHRfbGl2ZV9zZWxmdGVzdHMpCitzZWxmdGVzdChndF9scmMsIGludGVs
X2xyY19saXZlX3NlbGZ0ZXN0cykKIHNlbGZ0ZXN0KHJlcXVlc3RzLCBpOTE1X3JlcXVlc3RfbGl2
ZV9zZWxmdGVzdHMpCiBzZWxmdGVzdChhY3RpdmUsIGk5MTVfYWN0aXZlX2xpdmVfc2VsZnRlc3Rz
KQogc2VsZnRlc3Qob2JqZWN0cywgaTkxNV9nZW1fb2JqZWN0X2xpdmVfc2VsZnRlc3RzKQotLSAK
Mi4yMy4wCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpJ
bnRlbC1nZnggbWFpbGluZyBsaXN0CkludGVsLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0
cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9pbnRlbC1nZng=

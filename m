Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 02019263891
	for <lists+intel-gfx@lfdr.de>; Wed,  9 Sep 2020 23:38:34 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id BAE1B6F539;
	Wed,  9 Sep 2020 21:38:31 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga04.intel.com (mga04.intel.com [192.55.52.120])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 7FB2A6F539
 for <intel-gfx@lists.freedesktop.org>; Wed,  9 Sep 2020 21:38:30 +0000 (UTC)
IronPort-SDR: w3XeU/F1KdYWwMQcrOEQ7HieaV12I5WZ8MirBtbjVrlt28lqk+8/6RjqNvgzmu09mKi9/3WUi4
 J4OQOg2vGNyg==
X-IronPort-AV: E=McAfee;i="6000,8403,9739"; a="155821956"
X-IronPort-AV: E=Sophos;i="5.76,410,1592895600"; d="scan'208";a="155821956"
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from fmsmga003.fm.intel.com ([10.253.24.29])
 by fmsmga104.fm.intel.com with ESMTP/TLS/ECDHE-RSA-AES256-GCM-SHA384;
 09 Sep 2020 14:38:30 -0700
IronPort-SDR: LCC1egL6cghcR64P4pgXhIG2jhd2Pn6YjPzNgJjP2RIFAqahQWjKyy2Eh1CC2ZBZPFZIC5D6NE
 VH37toTgHW1w==
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.76,410,1592895600"; d="scan'208";a="341699458"
Received: from stinkbox.fi.intel.com (HELO stinkbox) ([10.237.72.174])
 by FMSMGA003.fm.intel.com with SMTP; 09 Sep 2020 14:38:28 -0700
Received: by stinkbox (sSMTP sendmail emulation);
 Thu, 10 Sep 2020 00:38:27 +0300
From: Ville Syrjala <ville.syrjala@linux.intel.com>
To: intel-gfx@lists.freedesktop.org
Date: Thu, 10 Sep 2020 00:38:24 +0300
Message-Id: <20200909213824.12390-2-ville.syrjala@linux.intel.com>
X-Mailer: git-send-email 2.26.2
In-Reply-To: <20200909213824.12390-1-ville.syrjala@linux.intel.com>
References: <20200909213824.12390-1-ville.syrjala@linux.intel.com>
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH 2/2] drm/i915: Reduce INTEL_DISPLAY_ENABLED to
 just treat outputs as disconnected
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

RnJvbTogVmlsbGUgU3lyasOkbMOkIDx2aWxsZS5zeXJqYWxhQGxpbnV4LmludGVsLmNvbT4KClNp
bmNlIHRoZSBkaXNwbGF5IGhhcmR3YXJlIGlzIGFsbCB0aGVyZSBldmVuIHdoZW4gSU5URUxfRElT
UExBWV9FTkFCTEVECnJldHVybiBmYWxzZSB3ZSBoYXZlIHRvIGJlIGNhcGFibGUgb2Ygc2h1dHRp
bmcgaXQgZG93biBjbGVhbmx5IHNvCmFzIHRvIG5vdCBhbmdlciB0aGUgaHcuIFRvIHRoYXQgZW5k
IGxldCdzIHJlZHVjZSB0aGUgZWZmZWN0IG9mCiFJTlRFTF9ESVNQTEFZX0VOQUJMRSB0byBqdXN0
IHRyZWF0aW5nIGFsbCBvdXRwdXRzIGFzIGRpc2Nvbm5lY3RlZC4KU2hvdWxkIHByZXZlbnQgYW55
b25lIGZyb20gYXV0b21hZ2ljYWxseSBlbmFibGluZyBhbnkgb2YgdGhlbSwgd2hpbGUKc3RpbGwg
YWxsb3dpbmcgdXMgdG8gY2xlYW5seSBzaHV0IHRoZW0gZG93bi4KClNpZ25lZC1vZmYtYnk6IFZp
bGxlIFN5cmrDpGzDpCA8dmlsbGUuc3lyamFsYUBsaW51eC5pbnRlbC5jb20+Ci0tLQogZHJpdmVy
cy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pY2xfZHNpLmMgICAgICAgfCAgMSArCiBkcml2ZXJzL2dw
dS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2NydC5jICAgICB8ICAzICsrKwogZHJpdmVycy9ncHUv
ZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5LmMgfCAgMiArLQogZHJpdmVycy9ncHUvZHJt
L2k5MTUvZGlzcGxheS9pbnRlbF9kcC5jICAgICAgfCAgMyArKysKIGRyaXZlcnMvZ3B1L2RybS9p
OTE1L2Rpc3BsYXkvaW50ZWxfZHBfbXN0LmMgIHwgIDQgKysrKwogZHJpdmVycy9ncHUvZHJtL2k5
MTUvZGlzcGxheS9pbnRlbF9kdm8uYyAgICAgfCAgNiArKysrKysKIGRyaXZlcnMvZ3B1L2RybS9p
OTE1L2Rpc3BsYXkvaW50ZWxfaGRtaS5jICAgIHwgIDMgKysrCiBkcml2ZXJzL2dwdS9kcm0vaTkx
NS9kaXNwbGF5L2ludGVsX2x2ZHMuYyAgICB8ICA4ICstLS0tLS0tCiBkcml2ZXJzL2dwdS9kcm0v
aTkxNS9kaXNwbGF5L2ludGVsX3BhbmVsLmMgICB8IDExICsrKysrKysrKysrCiBkcml2ZXJzL2dw
dS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX3BhbmVsLmggICB8ICAyICsrCiBkcml2ZXJzL2dwdS9k
cm0vaTkxNS9kaXNwbGF5L2ludGVsX3Nkdm8uYyAgICB8ICA2ICsrKysrLQogZHJpdmVycy9ncHUv
ZHJtL2k5MTUvZGlzcGxheS9pbnRlbF90di5jICAgICAgfCAgMyArKysKIGRyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2Rpc3BsYXkvdmx2X2RzaS5jICAgICAgIHwgIDEgKwogMTMgZmlsZXMgY2hhbmdlZCwg
NDQgaW5zZXJ0aW9ucygrKSwgOSBkZWxldGlvbnMoLSkKCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dw
dS9kcm0vaTkxNS9kaXNwbGF5L2ljbF9kc2kuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3Bs
YXkvaWNsX2RzaS5jCmluZGV4IGY0MDUzZGQ2YmRlOS4uNTIwNzE1YjdkNWI1IDEwMDY0NAotLS0g
YS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ljbF9kc2kuYworKysgYi9kcml2ZXJzL2dw
dS9kcm0vaTkxNS9kaXNwbGF5L2ljbF9kc2kuYwpAQCAtMTY0Niw2ICsxNjQ2LDcgQEAgc3RhdGlj
IGNvbnN0IHN0cnVjdCBkcm1fZW5jb2Rlcl9mdW5jcyBnZW4xMV9kc2lfZW5jb2Rlcl9mdW5jcyA9
IHsKIH07CiAKIHN0YXRpYyBjb25zdCBzdHJ1Y3QgZHJtX2Nvbm5lY3Rvcl9mdW5jcyBnZW4xMV9k
c2lfY29ubmVjdG9yX2Z1bmNzID0geworCS5kZXRlY3QgPSBpbnRlbF9wYW5lbF9kZXRlY3QsCiAJ
LmxhdGVfcmVnaXN0ZXIgPSBpbnRlbF9jb25uZWN0b3JfcmVnaXN0ZXIsCiAJLmVhcmx5X3VucmVn
aXN0ZXIgPSBpbnRlbF9jb25uZWN0b3JfdW5yZWdpc3RlciwKIAkuZGVzdHJveSA9IGludGVsX2Nv
bm5lY3Rvcl9kZXN0cm95LApkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxh
eS9pbnRlbF9jcnQuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfY3J0LmMK
aW5kZXggNWI0NTEwY2U1NjkzLi5hNGY4M2FiNjBmMjMgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1
L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfY3J0LmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUv
ZGlzcGxheS9pbnRlbF9jcnQuYwpAQCAtNTU3LDYgKzU1Nyw5IEBAIHN0YXRpYyBib29sIGludGVs
X2NydF9kZXRlY3RfaG90cGx1ZyhzdHJ1Y3QgZHJtX2Nvbm5lY3RvciAqY29ubmVjdG9yKQogCWJv
b2wgcmV0ID0gZmFsc2U7CiAJaW50IGksIHRyaWVzID0gMDsKIAorCWlmICghSU5URUxfRElTUExB
WV9FTkFCTEVEKGRldl9wcml2KSkKKwkJcmV0dXJuIGNvbm5lY3Rvcl9zdGF0dXNfZGlzY29ubmVj
dGVkOworCiAJaWYgKEhBU19QQ0hfU1BMSVQoZGV2X3ByaXYpKQogCQlyZXR1cm4gaWxrX2NydF9k
ZXRlY3RfaG90cGx1Zyhjb25uZWN0b3IpOwogCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0v
aTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXkuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3Bs
YXkvaW50ZWxfZGlzcGxheS5jCmluZGV4IGJhY2FmNzEzZWVkNC4uNTYxMWEzZDk1NTk0IDEwMDY0
NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXkuYworKysg
Yi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXkuYwpAQCAtMTY4OTMs
NyArMTY4OTMsNyBAQCBzdGF0aWMgdm9pZCBpbnRlbF9zZXR1cF9vdXRwdXRzKHN0cnVjdCBkcm1f
aTkxNV9wcml2YXRlICpkZXZfcHJpdikKIAogCWludGVsX3Bwc19pbml0KGRldl9wcml2KTsKIAot
CWlmICghSEFTX0RJU1BMQVkoZGV2X3ByaXYpIHx8ICFJTlRFTF9ESVNQTEFZX0VOQUJMRUQoZGV2
X3ByaXYpKQorCWlmICghSEFTX0RJU1BMQVkoZGV2X3ByaXYpKQogCQlyZXR1cm47CiAKIAlpZiAo
SVNfUk9DS0VUTEFLRShkZXZfcHJpdikpIHsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9p
OTE1L2Rpc3BsYXkvaW50ZWxfZHAuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50
ZWxfZHAuYwppbmRleCA4YTY3M2QwZDcwNTEuLjFhODE4NWY4ZmI4ZSAxMDA2NDQKLS0tIGEvZHJp
dmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kcC5jCisrKyBiL2RyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2Rpc3BsYXkvaW50ZWxfZHAuYwpAQCAtNjEwMyw2ICs2MTAzLDkgQEAgaW50ZWxfZHBf
ZGV0ZWN0KHN0cnVjdCBkcm1fY29ubmVjdG9yICpjb25uZWN0b3IsCiAJZHJtX1dBUk5fT04oJmRl
dl9wcml2LT5kcm0sCiAJCSAgICAhZHJtX21vZGVzZXRfaXNfbG9ja2VkKCZkZXZfcHJpdi0+ZHJt
Lm1vZGVfY29uZmlnLmNvbm5lY3Rpb25fbXV0ZXgpKTsKIAorCWlmICghSU5URUxfRElTUExBWV9F
TkFCTEVEKGRldl9wcml2KSkKKwkJcmV0dXJuIGNvbm5lY3Rvcl9zdGF0dXNfZGlzY29ubmVjdGVk
OworCiAJLyogQ2FuJ3QgZGlzY29ubmVjdCBlRFAgKi8KIAlpZiAoaW50ZWxfZHBfaXNfZWRwKGlu
dGVsX2RwKSkKIAkJc3RhdHVzID0gZWRwX2RldGVjdChpbnRlbF9kcCk7CmRpZmYgLS1naXQgYS9k
cml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2RwX21zdC5jIGIvZHJpdmVycy9ncHUv
ZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kcF9tc3QuYwppbmRleCBiNjQyNGJmNWQ1NDQuLjY0ZDg4
NTUzOWU5NCAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9k
cF9tc3QuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2RwX21zdC5j
CkBAIC03MTksOSArNzE5LDEzIEBAIHN0YXRpYyBpbnQKIGludGVsX2RwX21zdF9kZXRlY3Qoc3Ry
dWN0IGRybV9jb25uZWN0b3IgKmNvbm5lY3RvciwKIAkJICAgIHN0cnVjdCBkcm1fbW9kZXNldF9h
Y3F1aXJlX2N0eCAqY3R4LCBib29sIGZvcmNlKQogeworCXN0cnVjdCBkcm1faTkxNV9wcml2YXRl
ICppOTE1ID0gdG9faTkxNShjb25uZWN0b3ItPmRldik7CiAJc3RydWN0IGludGVsX2Nvbm5lY3Rv
ciAqaW50ZWxfY29ubmVjdG9yID0gdG9faW50ZWxfY29ubmVjdG9yKGNvbm5lY3Rvcik7CiAJc3Ry
dWN0IGludGVsX2RwICppbnRlbF9kcCA9IGludGVsX2Nvbm5lY3Rvci0+bXN0X3BvcnQ7CiAKKwlp
ZiAoIUlOVEVMX0RJU1BMQVlfRU5BQkxFRChpOTE1KSkKKwkJcmV0dXJuIGNvbm5lY3Rvcl9zdGF0
dXNfZGlzY29ubmVjdGVkOworCiAJaWYgKGRybV9jb25uZWN0b3JfaXNfdW5yZWdpc3RlcmVkKGNv
bm5lY3RvcikpCiAJCXJldHVybiBjb25uZWN0b3Jfc3RhdHVzX2Rpc2Nvbm5lY3RlZDsKIApkaWZm
IC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kdm8uYyBiL2RyaXZl
cnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZHZvLmMKaW5kZXggMzA3ZWQ4YWU5YTE5Li4y
MzdkYmIxYmEwZWUgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50
ZWxfZHZvLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kdm8uYwpA
QCAtMzEzLDkgKzMxMywxNSBAQCBzdGF0aWMgdm9pZCBpbnRlbF9kdm9fcHJlX2VuYWJsZShzdHJ1
Y3QgaW50ZWxfYXRvbWljX3N0YXRlICpzdGF0ZSwKIHN0YXRpYyBlbnVtIGRybV9jb25uZWN0b3Jf
c3RhdHVzCiBpbnRlbF9kdm9fZGV0ZWN0KHN0cnVjdCBkcm1fY29ubmVjdG9yICpjb25uZWN0b3Is
IGJvb2wgZm9yY2UpCiB7CisJc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUgPSB0b19pOTE1
KGNvbm5lY3Rvci0+ZGV2KTsKIAlzdHJ1Y3QgaW50ZWxfZHZvICppbnRlbF9kdm8gPSBpbnRlbF9h
dHRhY2hlZF9kdm8odG9faW50ZWxfY29ubmVjdG9yKGNvbm5lY3RvcikpOworCiAJRFJNX0RFQlVH
X0tNUygiW0NPTk5FQ1RPUjolZDolc11cbiIsCiAJCSAgICAgIGNvbm5lY3Rvci0+YmFzZS5pZCwg
Y29ubmVjdG9yLT5uYW1lKTsKKworCWlmICghSU5URUxfRElTUExBWV9FTkFCTEVEKGk5MTUpKQor
CQlyZXR1cm4gY29ubmVjdG9yX3N0YXR1c19kaXNjb25uZWN0ZWQ7CisKIAlyZXR1cm4gaW50ZWxf
ZHZvLT5kZXYuZGV2X29wcy0+ZGV0ZWN0KCZpbnRlbF9kdm8tPmRldik7CiB9CiAKZGlmZiAtLWdp
dCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfaGRtaS5jIGIvZHJpdmVycy9n
cHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9oZG1pLmMKaW5kZXggMDk3OGIwZDhmNGM2Li4wNGY1
OTUxNmQ1ZjMgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxf
aGRtaS5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfaGRtaS5jCkBA
IC0yNjczLDYgKzI2NzMsOSBAQCBpbnRlbF9oZG1pX2RldGVjdChzdHJ1Y3QgZHJtX2Nvbm5lY3Rv
ciAqY29ubmVjdG9yLCBib29sIGZvcmNlKQogCWRybV9kYmdfa21zKCZkZXZfcHJpdi0+ZHJtLCAi
W0NPTk5FQ1RPUjolZDolc11cbiIsCiAJCSAgICBjb25uZWN0b3ItPmJhc2UuaWQsIGNvbm5lY3Rv
ci0+bmFtZSk7CiAKKwlpZiAoIUlOVEVMX0RJU1BMQVlfRU5BQkxFRChkZXZfcHJpdikpCisJCXJl
dHVybiBjb25uZWN0b3Jfc3RhdHVzX2Rpc2Nvbm5lY3RlZDsKKwogCXdha2VyZWYgPSBpbnRlbF9k
aXNwbGF5X3Bvd2VyX2dldChkZXZfcHJpdiwgUE9XRVJfRE9NQUlOX0dNQlVTKTsKIAogCWlmIChJ
TlRFTF9HRU4oZGV2X3ByaXYpID49IDExICYmCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0v
aTkxNS9kaXNwbGF5L2ludGVsX2x2ZHMuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkv
aW50ZWxfbHZkcy5jCmluZGV4IDE4ODg2MTEyNDRkYi4uZTY1YzJkZTUyMmMzIDEwMDY0NAotLS0g
YS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2x2ZHMuYworKysgYi9kcml2ZXJz
L2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2x2ZHMuYwpAQCAtNDU2LDEyICs0NTYsNiBAQCBz
dGF0aWMgaW50IGludGVsX2x2ZHNfY29tcHV0ZV9jb25maWcoc3RydWN0IGludGVsX2VuY29kZXIg
KmludGVsX2VuY29kZXIsCiAJcmV0dXJuIDA7CiB9CiAKLXN0YXRpYyBlbnVtIGRybV9jb25uZWN0
b3Jfc3RhdHVzCi1pbnRlbF9sdmRzX2RldGVjdChzdHJ1Y3QgZHJtX2Nvbm5lY3RvciAqY29ubmVj
dG9yLCBib29sIGZvcmNlKQotewotCXJldHVybiBjb25uZWN0b3Jfc3RhdHVzX2Nvbm5lY3RlZDsK
LX0KLQogLyoKICAqIFJldHVybiB0aGUgbGlzdCBvZiBEREMgbW9kZXMgaWYgYXZhaWxhYmxlLCBv
ciB0aGUgQklPUyBmaXhlZCBtb2RlIG90aGVyd2lzZS4KICAqLwpAQCAtNDkwLDcgKzQ4NCw3IEBA
IHN0YXRpYyBjb25zdCBzdHJ1Y3QgZHJtX2Nvbm5lY3Rvcl9oZWxwZXJfZnVuY3MgaW50ZWxfbHZk
c19jb25uZWN0b3JfaGVscGVyX2Z1bmNzCiB9OwogCiBzdGF0aWMgY29uc3Qgc3RydWN0IGRybV9j
b25uZWN0b3JfZnVuY3MgaW50ZWxfbHZkc19jb25uZWN0b3JfZnVuY3MgPSB7Ci0JLmRldGVjdCA9
IGludGVsX2x2ZHNfZGV0ZWN0LAorCS5kZXRlY3QgPSBpbnRlbF9wYW5lbF9kZXRlY3QsCiAJLmZp
bGxfbW9kZXMgPSBkcm1faGVscGVyX3Byb2JlX3NpbmdsZV9jb25uZWN0b3JfbW9kZXMsCiAJLmF0
b21pY19nZXRfcHJvcGVydHkgPSBpbnRlbF9kaWdpdGFsX2Nvbm5lY3Rvcl9hdG9taWNfZ2V0X3By
b3BlcnR5LAogCS5hdG9taWNfc2V0X3Byb3BlcnR5ID0gaW50ZWxfZGlnaXRhbF9jb25uZWN0b3Jf
YXRvbWljX3NldF9wcm9wZXJ0eSwKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rp
c3BsYXkvaW50ZWxfcGFuZWwuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxf
cGFuZWwuYwppbmRleCAyZWIxYTNhOTNkZjEuLjlmMjNiYWMwZDc5MiAxMDA2NDQKLS0tIGEvZHJp
dmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9wYW5lbC5jCisrKyBiL2RyaXZlcnMvZ3B1
L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfcGFuZWwuYwpAQCAtMjA5NSw2ICsyMDk1LDE3IEBAIGlu
dGVsX3BhbmVsX2luaXRfYmFja2xpZ2h0X2Z1bmNzKHN0cnVjdCBpbnRlbF9wYW5lbCAqcGFuZWwp
CiAJfQogfQogCitlbnVtIGRybV9jb25uZWN0b3Jfc3RhdHVzCitpbnRlbF9wYW5lbF9kZXRlY3Qo
c3RydWN0IGRybV9jb25uZWN0b3IgKmNvbm5lY3RvciwgYm9vbCBmb3JjZSkKK3sKKwlzdHJ1Y3Qg
ZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSA9IHRvX2k5MTUoY29ubmVjdG9yLT5kZXYpOworCisJaWYg
KCFJTlRFTF9ESVNQTEFZX0VOQUJMRUQoaTkxNSkpCisJCXJldHVybiBjb25uZWN0b3Jfc3RhdHVz
X2Rpc2Nvbm5lY3RlZDsKKworCXJldHVybiBjb25uZWN0b3Jfc3RhdHVzX2Nvbm5lY3RlZDsKK30K
KwogaW50IGludGVsX3BhbmVsX2luaXQoc3RydWN0IGludGVsX3BhbmVsICpwYW5lbCwKIAkJICAg
ICBzdHJ1Y3QgZHJtX2Rpc3BsYXlfbW9kZSAqZml4ZWRfbW9kZSwKIAkJICAgICBzdHJ1Y3QgZHJt
X2Rpc3BsYXlfbW9kZSAqZG93bmNsb2NrX21vZGUpCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9k
cm0vaTkxNS9kaXNwbGF5L2ludGVsX3BhbmVsLmggYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNw
bGF5L2ludGVsX3BhbmVsLmgKaW5kZXggOTY4Yjk1MjgxY2I0Li41YjgxM2ZlOTA1NTcgMTAwNjQ0
Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfcGFuZWwuaAorKysgYi9k
cml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX3BhbmVsLmgKQEAgLTIzLDYgKzIzLDgg
QEAgaW50IGludGVsX3BhbmVsX2luaXQoc3RydWN0IGludGVsX3BhbmVsICpwYW5lbCwKIAkJICAg
ICBzdHJ1Y3QgZHJtX2Rpc3BsYXlfbW9kZSAqZml4ZWRfbW9kZSwKIAkJICAgICBzdHJ1Y3QgZHJt
X2Rpc3BsYXlfbW9kZSAqZG93bmNsb2NrX21vZGUpOwogdm9pZCBpbnRlbF9wYW5lbF9maW5pKHN0
cnVjdCBpbnRlbF9wYW5lbCAqcGFuZWwpOworZW51bSBkcm1fY29ubmVjdG9yX3N0YXR1cworaW50
ZWxfcGFuZWxfZGV0ZWN0KHN0cnVjdCBkcm1fY29ubmVjdG9yICpjb25uZWN0b3IsIGJvb2wgZm9y
Y2UpOwogdm9pZCBpbnRlbF9maXhlZF9wYW5lbF9tb2RlKGNvbnN0IHN0cnVjdCBkcm1fZGlzcGxh
eV9tb2RlICpmaXhlZF9tb2RlLAogCQkJICAgIHN0cnVjdCBkcm1fZGlzcGxheV9tb2RlICphZGp1
c3RlZF9tb2RlKTsKIGludCBpbnRlbF9wY2hfcGFuZWxfZml0dGluZyhzdHJ1Y3QgaW50ZWxfY3J0
Y19zdGF0ZSAqY3J0Y19zdGF0ZSwKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rp
c3BsYXkvaW50ZWxfc2R2by5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9z
ZHZvLmMKaW5kZXggNWU5ZmIzNDljODI5Li40ZWFhNGFhODZlY2QgMTAwNjQ0Ci0tLSBhL2RyaXZl
cnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfc2R2by5jCisrKyBiL2RyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2Rpc3BsYXkvaW50ZWxfc2R2by5jCkBAIC0yMDg0LDE0ICsyMDg0LDE4IEBAIGludGVs
X3Nkdm9fY29ubmVjdG9yX21hdGNoZXNfZWRpZChzdHJ1Y3QgaW50ZWxfc2R2b19jb25uZWN0b3Ig
KnNkdm8sCiBzdGF0aWMgZW51bSBkcm1fY29ubmVjdG9yX3N0YXR1cwogaW50ZWxfc2R2b19kZXRl
Y3Qoc3RydWN0IGRybV9jb25uZWN0b3IgKmNvbm5lY3RvciwgYm9vbCBmb3JjZSkKIHsKLQl1MTYg
cmVzcG9uc2U7CisJc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUgPSB0b19pOTE1KGNvbm5l
Y3Rvci0+ZGV2KTsKIAlzdHJ1Y3QgaW50ZWxfc2R2byAqaW50ZWxfc2R2byA9IGludGVsX2F0dGFj
aGVkX3Nkdm8odG9faW50ZWxfY29ubmVjdG9yKGNvbm5lY3RvcikpOwogCXN0cnVjdCBpbnRlbF9z
ZHZvX2Nvbm5lY3RvciAqaW50ZWxfc2R2b19jb25uZWN0b3IgPSB0b19pbnRlbF9zZHZvX2Nvbm5l
Y3Rvcihjb25uZWN0b3IpOwogCWVudW0gZHJtX2Nvbm5lY3Rvcl9zdGF0dXMgcmV0OworCXUxNiBy
ZXNwb25zZTsKIAogCURSTV9ERUJVR19LTVMoIltDT05ORUNUT1I6JWQ6JXNdXG4iLAogCQkgICAg
ICBjb25uZWN0b3ItPmJhc2UuaWQsIGNvbm5lY3Rvci0+bmFtZSk7CiAKKwlpZiAoIUlOVEVMX0RJ
U1BMQVlfRU5BQkxFRChpOTE1KSkKKwkJcmV0dXJuIGNvbm5lY3Rvcl9zdGF0dXNfZGlzY29ubmVj
dGVkOworCiAJaWYgKCFpbnRlbF9zZHZvX2dldF92YWx1ZShpbnRlbF9zZHZvLAogCQkJCSAgU0RW
T19DTURfR0VUX0FUVEFDSEVEX0RJU1BMQVlTLAogCQkJCSAgJnJlc3BvbnNlLCAyKSkKZGlmZiAt
LWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfdHYuYyBiL2RyaXZlcnMv
Z3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfdHYuYwppbmRleCA3NzcwMzJkOTY5N2IuLjdhN2I5
OWIwMTVhNSAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF90
di5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfdHYuYwpAQCAtMTcw
Niw2ICsxNzA2LDkgQEAgaW50ZWxfdHZfZGV0ZWN0KHN0cnVjdCBkcm1fY29ubmVjdG9yICpjb25u
ZWN0b3IsCiAJZHJtX2RiZ19rbXMoJmk5MTUtPmRybSwgIltDT05ORUNUT1I6JWQ6JXNdIGZvcmNl
PSVkXG4iLAogCQkgICAgY29ubmVjdG9yLT5iYXNlLmlkLCBjb25uZWN0b3ItPm5hbWUsIGZvcmNl
KTsKIAorCWlmICghSU5URUxfRElTUExBWV9FTkFCTEVEKGk5MTUpKQorCQlyZXR1cm4gY29ubmVj
dG9yX3N0YXR1c19kaXNjb25uZWN0ZWQ7CisKIAlpZiAoZm9yY2UpIHsKIAkJc3RydWN0IGludGVs
X2xvYWRfZGV0ZWN0X3BpcGUgdG1wOwogCQlpbnQgcmV0OwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9n
cHUvZHJtL2k5MTUvZGlzcGxheS92bHZfZHNpLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNw
bGF5L3Zsdl9kc2kuYwppbmRleCAwNTJlMGIzMWEyZGEuLjVlNTUyMjkyM2IxZSAxMDA2NDQKLS0t
IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS92bHZfZHNpLmMKKysrIGIvZHJpdmVycy9n
cHUvZHJtL2k5MTUvZGlzcGxheS92bHZfZHNpLmMKQEAgLTE1ODUsNiArMTU4NSw3IEBAIHN0YXRp
YyBjb25zdCBzdHJ1Y3QgZHJtX2Nvbm5lY3Rvcl9oZWxwZXJfZnVuY3MgaW50ZWxfZHNpX2Nvbm5l
Y3Rvcl9oZWxwZXJfZnVuY3MKIH07CiAKIHN0YXRpYyBjb25zdCBzdHJ1Y3QgZHJtX2Nvbm5lY3Rv
cl9mdW5jcyBpbnRlbF9kc2lfY29ubmVjdG9yX2Z1bmNzID0geworCS5kZXRlY3QgPSBpbnRlbF9w
YW5lbF9kZXRlY3QsCiAJLmxhdGVfcmVnaXN0ZXIgPSBpbnRlbF9jb25uZWN0b3JfcmVnaXN0ZXIs
CiAJLmVhcmx5X3VucmVnaXN0ZXIgPSBpbnRlbF9jb25uZWN0b3JfdW5yZWdpc3RlciwKIAkuZGVz
dHJveSA9IGludGVsX2Nvbm5lY3Rvcl9kZXN0cm95LAotLSAKMi4yNi4yCgpfX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpJbnRlbC1nZnggbWFpbGluZyBsaXN0
CkludGVsLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3Rv
cC5vcmcvbWFpbG1hbi9saXN0aW5mby9pbnRlbC1nZngK

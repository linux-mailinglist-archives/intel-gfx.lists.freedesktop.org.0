Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 69B107A378
	for <lists+intel-gfx@lfdr.de>; Tue, 30 Jul 2019 10:58:30 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 49A236E44A;
	Tue, 30 Jul 2019 08:58:28 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mail-ed1-x542.google.com (mail-ed1-x542.google.com
 [IPv6:2a00:1450:4864:20::542])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 2D1536E44A
 for <intel-gfx@lists.freedesktop.org>; Tue, 30 Jul 2019 08:58:27 +0000 (UTC)
Received: by mail-ed1-x542.google.com with SMTP id r12so27060978edo.5
 for <intel-gfx@lists.freedesktop.org>; Tue, 30 Jul 2019 01:58:27 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:sender:date:from:to:cc:subject:message-id
 :references:mime-version:content-disposition:in-reply-to:user-agent;
 bh=wBRbI7PxYtN96UNqmZz/dLA3RQqADMN8u6ZDk0Z6sTA=;
 b=NYKMyDPKgDP7moR9LCoL/FZnKwlV4MWDeyFKL24rw+bsGvDEsDRxV53lPNkPF53MnS
 owKeZVKnEL1oQxgzMP66wpvN9xtXrOOtbf0AR3RiSb4sKypJvHcmUPCm9Ps44GhKvzTR
 8ltZw2O/aJjUTAVSLOykAGVgacufPzMGEzkugMpI2fytz0dSRV3o01C8vAqxVxHOQz5W
 l9ysjWxQvmK9BsuJe5xrobVaqiHb205gcfmRu3P4lFuTI6PSBSqbsv//36aoASVKLH9m
 4ANumUuNcVnsTgWWWbR7uQd/D5ym1DwU1rxb+6n/fHFfX8t36BtbupoJBclXW5X2aUgt
 QROg==
X-Gm-Message-State: APjAAAUW060pp9XPwAGoQhoZVEJKiIyx2QuiLAtH+tKGZOeapGvaBkSm
 uPdSTDcsIFf5jFqrmMYqF+A=
X-Google-Smtp-Source: APXvYqywtUrqDKy32CdeOyGIPKQzxsVPXn91lnAjQGFW31pUWshFIINLYG9GfTRAj8qFiUy3LvDH8A==
X-Received: by 2002:a17:906:a952:: with SMTP id
 hh18mr89320106ejb.289.1564477105700; 
 Tue, 30 Jul 2019 01:58:25 -0700 (PDT)
Received: from phenom.ffwll.local ([2a02:168:569e:0:3106:d637:d723:e855])
 by smtp.gmail.com with ESMTPSA id a18sm9052148ejp.2.2019.07.30.01.58.24
 (version=TLS1_3 cipher=AEAD-AES256-GCM-SHA384 bits=256/256);
 Tue, 30 Jul 2019 01:58:24 -0700 (PDT)
Date: Tue, 30 Jul 2019 10:58:22 +0200
From: Daniel Vetter <daniel@ffwll.ch>
To: Matthew Auld <matthew.auld@intel.com>
Message-ID: <20190730085822.GL15868@phenom.ffwll.local>
References: <20190627205633.1143-1-matthew.auld@intel.com>
 <20190627205633.1143-17-matthew.auld@intel.com>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <20190627205633.1143-17-matthew.auld@intel.com>
X-Operating-System: Linux phenom 4.19.0-5-amd64 
User-Agent: Mutt/1.10.1 (2018-07-13)
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=ffwll.ch; s=google;
 h=sender:date:from:to:cc:subject:message-id:references:mime-version
 :content-disposition:in-reply-to:user-agent;
 bh=wBRbI7PxYtN96UNqmZz/dLA3RQqADMN8u6ZDk0Z6sTA=;
 b=WL45BO9eODYzFu8BGbiePT59YyxVlmei9TFYVKuLSBY/HCd9vil/hVhjjU+hEKP+H3
 RZn95nec28nLuwoI4AtoJZWRBDcmOauncvxBPcsJC7iu6oNwzAbwlSUBQ9N79jvhwa2x
 1ljZcv/pYTJDR2w1qS+EdbRFlgJJ1QsPOzH2A=
Subject: Re: [Intel-gfx] [PATCH v2 16/37] drm/i915/lmem: support pread
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: intel-gfx@lists.freedesktop.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

T24gVGh1LCBKdW4gMjcsIDIwMTkgYXQgMDk6NTY6MTJQTSArMDEwMCwgTWF0dGhldyBBdWxkIHdy
b3RlOgo+IFdlIG5lZWQgdG8gYWRkIHN1cHBvcnQgZm9yIHByZWFkJ2luZyBhbiBMTUVNIG9iamVj
dC4KCldoeT8gVXNhZ2Ugb3V0c2lkZSBmcm9tIGlndHMgc2VlbXMgcHJldHR5IGRlYWQsIGF0IGxl
YXN0IGxvb2tpbmcgYXQgaXJpcwphbmQgYW52LiBUaGlzIHdhcyBraW5kYSBhIG5lYXQgdGhpbmcg
Zm9yIHdoZW4gd2UgZGlkbid0IHlldCByZWFsaXplZCB0aGF0CmRvaW5nIGNsZmx1c2ggaW4gdXNl
cnNwYWNlIGlzIGJvdGggcG9zc2libGUgYW5kIG1vcmUgZWZmaWNpZW50LgoKU2FtZSBmb3IgcHdy
aXRlLCBpcmlzIGp1c3QgZHJvcHBlZCBpdCwgYW52IGRvZXNuJ3Qgc2VlbSB0byB1c2UgaXQuIEFu
ZCBJCnRob3VnaHQgbWVzYSBwbGFuIGlzIHRvIGRyb3AgdGhlIG9sZCBjbGFzc2ljIGRyaXZlciBm
b3Igd2hlbiB3ZSdsbCBuZWVkCmxtZW0uIEl0J3Mgbm90IG11Y2gsIGJ1dCB3b3VsZCBhbGxvdyB1
cyB0byBkcm9wIGEgZmV3IHRoaW5ncy4KLURhbmllbAoKPiAKPiBTaWduZWQtb2ZmLWJ5OiBNYXR0
aGV3IEF1bGQgPG1hdHRoZXcuYXVsZEBpbnRlbC5jb20+Cj4gQ2M6IEpvb25hcyBMYWh0aW5lbiA8
am9vbmFzLmxhaHRpbmVuQGxpbnV4LmludGVsLmNvbT4KPiBDYzogQWJkaWVsIEphbnVsZ3VlIDxh
YmRpZWwuamFudWxndWVAbGludXguaW50ZWwuY29tPgo+IC0tLQo+ICAuLi4vZ3B1L2RybS9pOTE1
L2dlbS9pOTE1X2dlbV9vYmplY3RfdHlwZXMuaCAgfCAgMiArCj4gIGRyaXZlcnMvZ3B1L2RybS9p
OTE1L2k5MTVfZ2VtLmMgICAgICAgICAgICAgICB8ICA2ICsrCj4gIGRyaXZlcnMvZ3B1L2RybS9p
OTE1L2ludGVsX3JlZ2lvbl9sbWVtLmMgICAgICB8IDc2ICsrKysrKysrKysrKysrKysrKysKPiAg
MyBmaWxlcyBjaGFuZ2VkLCA4NCBpbnNlcnRpb25zKCspCj4gCj4gZGlmZiAtLWdpdCBhL2RyaXZl
cnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9vYmplY3RfdHlwZXMuaCBiL2RyaXZlcnMvZ3B1
L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9vYmplY3RfdHlwZXMuaAo+IGluZGV4IDgwZmY1YWQ5YmMw
Ny4uOGNkZWUxODUyNTFhIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9p
OTE1X2dlbV9vYmplY3RfdHlwZXMuaAo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9p
OTE1X2dlbV9vYmplY3RfdHlwZXMuaAo+IEBAIC01Miw2ICs1Miw4IEBAIHN0cnVjdCBkcm1faTkx
NV9nZW1fb2JqZWN0X29wcyB7Cj4gIAl2b2lkICgqdHJ1bmNhdGUpKHN0cnVjdCBkcm1faTkxNV9n
ZW1fb2JqZWN0ICpvYmopOwo+ICAJdm9pZCAoKndyaXRlYmFjaykoc3RydWN0IGRybV9pOTE1X2dl
bV9vYmplY3QgKm9iaik7Cj4gIAo+ICsJaW50ICgqcHJlYWQpKHN0cnVjdCBkcm1faTkxNV9nZW1f
b2JqZWN0ICosCj4gKwkJICAgICBjb25zdCBzdHJ1Y3QgZHJtX2k5MTVfZ2VtX3ByZWFkICphcmcp
Owo+ICAJaW50ICgqcHdyaXRlKShzdHJ1Y3QgZHJtX2k5MTVfZ2VtX29iamVjdCAqb2JqLAo+ICAJ
CSAgICAgIGNvbnN0IHN0cnVjdCBkcm1faTkxNV9nZW1fcHdyaXRlICphcmcpOwo+ICAKPiBkaWZm
IC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9nZW0uYyBiL2RyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2k5MTVfZ2VtLmMKPiBpbmRleCA4NTY3N2FlODk4NDkuLjRiYTM4NmFiMzVlNyAxMDA2
NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2dlbS5jCj4gKysrIGIvZHJpdmVy
cy9ncHUvZHJtL2k5MTUvaTkxNV9nZW0uYwo+IEBAIC00NjMsNiArNDYzLDEyIEBAIGk5MTVfZ2Vt
X3ByZWFkX2lvY3RsKHN0cnVjdCBkcm1fZGV2aWNlICpkZXYsIHZvaWQgKmRhdGEsCj4gIAo+ICAJ
dHJhY2VfaTkxNV9nZW1fb2JqZWN0X3ByZWFkKG9iaiwgYXJncy0+b2Zmc2V0LCBhcmdzLT5zaXpl
KTsKPiAgCj4gKwlyZXQgPSAtRU5PREVWOwo+ICsJaWYgKG9iai0+b3BzLT5wcmVhZCkKPiArCQly
ZXQgPSBvYmotPm9wcy0+cHJlYWQob2JqLCBhcmdzKTsKPiArCWlmIChyZXQgIT0gLUVOT0RFVikK
PiArCQlnb3RvIG91dDsKPiArCj4gIAlyZXQgPSBpOTE1X2dlbV9vYmplY3Rfd2FpdChvYmosCj4g
IAkJCQkgICBJOTE1X1dBSVRfSU5URVJSVVBUSUJMRSwKPiAgCQkJCSAgIE1BWF9TQ0hFRFVMRV9U
SU1FT1VUKTsKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfcmVnaW9u
X2xtZW0uYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX3JlZ2lvbl9sbWVtLmMKPiBpbmRl
eCA3MDFiY2FjMzQ3OWUuLjU0YjJjN2JmMTc3ZCAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9k
cm0vaTkxNS9pbnRlbF9yZWdpb25fbG1lbS5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUv
aW50ZWxfcmVnaW9uX2xtZW0uYwo+IEBAIC03LDEwICs3LDg2IEBACj4gICNpbmNsdWRlICJpbnRl
bF9tZW1vcnlfcmVnaW9uLmgiCj4gICNpbmNsdWRlICJpbnRlbF9yZWdpb25fbG1lbS5oIgo+ICAK
PiArc3RhdGljIGludCBsbWVtX3ByZWFkKHN0cnVjdCBkcm1faTkxNV9nZW1fb2JqZWN0ICpvYmos
Cj4gKwkJICAgICAgY29uc3Qgc3RydWN0IGRybV9pOTE1X2dlbV9wcmVhZCAqYXJnKQo+ICt7Cj4g
KwlzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSA9IHRvX2k5MTUob2JqLT5iYXNlLmRldik7
Cj4gKwlzdHJ1Y3QgaW50ZWxfcnVudGltZV9wbSAqcnBtID0gJmk5MTUtPnJ1bnRpbWVfcG07Cj4g
KwlpbnRlbF93YWtlcmVmX3Qgd2FrZXJlZjsKPiArCXN0cnVjdCBkbWFfZmVuY2UgKmZlbmNlOwo+
ICsJY2hhciBfX3VzZXIgKnVzZXJfZGF0YTsKPiArCXVuc2lnbmVkIGludCBvZmZzZXQ7Cj4gKwl1
bnNpZ25lZCBsb25nIGlkeDsKPiArCXU2NCByZW1haW47Cj4gKwlpbnQgcmV0Owo+ICsKPiArCXJl
dCA9IGk5MTVfZ2VtX29iamVjdF9waW5fcGFnZXMob2JqKTsKPiArCWlmIChyZXQpCj4gKwkJcmV0
dXJuIHJldDsKPiArCj4gKwlpOTE1X2dlbV9vYmplY3RfbG9jayhvYmopOwo+ICsJcmV0ID0gaTkx
NV9nZW1fb2JqZWN0X3NldF90b193Y19kb21haW4ob2JqLCBmYWxzZSk7Cj4gKwlpZiAocmV0KSB7
Cj4gKwkJaTkxNV9nZW1fb2JqZWN0X3VubG9jayhvYmopOwo+ICsJCWdvdG8gb3V0X3VucGluOwo+
ICsJfQo+ICsKPiArCWZlbmNlID0gaTkxNV9nZW1fb2JqZWN0X2xvY2tfZmVuY2Uob2JqKTsKPiAr
CWk5MTVfZ2VtX29iamVjdF91bmxvY2sob2JqKTsKPiArCWlmICghZmVuY2UpIHsKPiArCQlyZXQg
PSAtRU5PTUVNOwo+ICsJCWdvdG8gb3V0X3VucGluOwo+ICsJfQo+ICsKPiArCXdha2VyZWYgPSBp
bnRlbF9ydW50aW1lX3BtX2dldChycG0pOwo+ICsKPiArCXJlbWFpbiA9IGFyZy0+c2l6ZTsKPiAr
CXVzZXJfZGF0YSA9IHU2NF90b191c2VyX3B0cihhcmctPmRhdGFfcHRyKTsKPiArCW9mZnNldCA9
IG9mZnNldF9pbl9wYWdlKGFyZy0+b2Zmc2V0KTsKPiArCWZvciAoaWR4ID0gYXJnLT5vZmZzZXQg
Pj4gUEFHRV9TSElGVDsgcmVtYWluOyBpZHgrKykgewo+ICsJCXVuc2lnbmVkIGxvbmcgdW53cml0
dGVuOwo+ICsJCXZvaWQgX19pb21lbSAqdmFkZHI7Cj4gKwkJaW50IGxlbmd0aDsKPiArCj4gKwkJ
bGVuZ3RoID0gcmVtYWluOwo+ICsJCWlmIChvZmZzZXQgKyBsZW5ndGggPiBQQUdFX1NJWkUpCj4g
KwkJCWxlbmd0aCA9IFBBR0VfU0laRSAtIG9mZnNldDsKPiArCj4gKwkJdmFkZHIgPSBpOTE1X2dl
bV9vYmplY3RfbG1lbV9pb19tYXBfcGFnZShvYmosIGlkeCk7Cj4gKwkJaWYgKCF2YWRkcikgewo+
ICsJCQlyZXQgPSAtRU5PTUVNOwo+ICsJCQlnb3RvIG91dF9wdXQ7Cj4gKwkJfQo+ICsKPiArCQl1
bndyaXR0ZW4gPSBjb3B5X3RvX3VzZXIodXNlcl9kYXRhLAo+ICsJCQkJCSAodm9pZCBfX2ZvcmNl
ICopdmFkZHIgKyBvZmZzZXQsCj4gKwkJCQkJIGxlbmd0aCk7Cj4gKwkJaW9fbWFwcGluZ191bm1h
cF9hdG9taWModmFkZHIpOwo+ICsJCWlmICh1bndyaXR0ZW4pIHsKPiArCQkJcmV0ID0gLUVGQVVM
VDsKPiArCQkJZ290byBvdXRfcHV0Owo+ICsJCX0KPiArCj4gKwkJcmVtYWluIC09IGxlbmd0aDsK
PiArCQl1c2VyX2RhdGEgKz0gbGVuZ3RoOwo+ICsJCW9mZnNldCA9IDA7Cj4gKwl9Cj4gKwo+ICtv
dXRfcHV0Ogo+ICsJaW50ZWxfcnVudGltZV9wbV9wdXQocnBtLCB3YWtlcmVmKTsKPiArCWk5MTVf
Z2VtX29iamVjdF91bmxvY2tfZmVuY2Uob2JqLCBmZW5jZSk7Cj4gK291dF91bnBpbjoKPiArCWk5
MTVfZ2VtX29iamVjdF91bnBpbl9wYWdlcyhvYmopOwo+ICsKPiArCXJldHVybiByZXQ7Cj4gK30K
PiArCj4gIHN0YXRpYyBjb25zdCBzdHJ1Y3QgZHJtX2k5MTVfZ2VtX29iamVjdF9vcHMgcmVnaW9u
X2xtZW1fb2JqX29wcyA9IHsKPiAgCS5nZXRfcGFnZXMgPSBpOTE1X21lbW9yeV9yZWdpb25fZ2V0
X3BhZ2VzX2J1ZGR5LAo+ICAJLnB1dF9wYWdlcyA9IGk5MTVfbWVtb3J5X3JlZ2lvbl9wdXRfcGFn
ZXNfYnVkZHksCj4gIAkucmVsZWFzZSA9IGk5MTVfZ2VtX29iamVjdF9yZWxlYXNlX21lbW9yeV9y
ZWdpb24sCj4gKwo+ICsJLnByZWFkID0gbG1lbV9wcmVhZCwKPiAgfTsKPiAgCj4gIHN0YXRpYyBz
dHJ1Y3QgZHJtX2k5MTVfZ2VtX29iamVjdCAqCj4gLS0gCj4gMi4yMC4xCj4gCj4gX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KPiBJbnRlbC1nZnggbWFpbGlu
ZyBsaXN0Cj4gSW50ZWwtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwo+IGh0dHBzOi8vbGlzdHMu
ZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vaW50ZWwtZ2Z4CgotLSAKRGFuaWVsIFZl
dHRlcgpTb2Z0d2FyZSBFbmdpbmVlciwgSW50ZWwgQ29ycG9yYXRpb24KaHR0cDovL2Jsb2cuZmZ3
bGwuY2gKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KSW50
ZWwtZ2Z4IG1haWxpbmcgbGlzdApJbnRlbC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBz
Oi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vaW50ZWwtZ2Z4

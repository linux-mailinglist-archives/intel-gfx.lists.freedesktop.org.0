Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id B29FB88A39
	for <lists+intel-gfx@lfdr.de>; Sat, 10 Aug 2019 11:17:57 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 1B8546E294;
	Sat, 10 Aug 2019 09:17:56 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from fireflyinternet.com (mail.fireflyinternet.com [109.228.58.192])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 2E7B26E27F
 for <intel-gfx@lists.freedesktop.org>; Sat, 10 Aug 2019 09:17:54 +0000 (UTC)
X-Default-Received-SPF: pass (skip=forwardok (res=PASS))
 x-ip-name=78.156.65.138; 
Received: from haswell.alporthouse.com (unverified [78.156.65.138]) 
 by fireflyinternet.com (Firefly Internet (M1)) with ESMTP id 17951345-1500050 
 for <intel-gfx@lists.freedesktop.org>; Sat, 10 Aug 2019 10:17:49 +0100
From: Chris Wilson <chris@chris-wilson.co.uk>
To: intel-gfx@lists.freedesktop.org
Date: Sat, 10 Aug 2019 10:17:48 +0100
Message-Id: <20190810091748.10972-2-chris@chris-wilson.co.uk>
X-Mailer: git-send-email 2.23.0.rc1
In-Reply-To: <20190810091748.10972-1-chris@chris-wilson.co.uk>
References: <20190810091748.10972-1-chris@chris-wilson.co.uk>
MIME-Version: 1.0
Subject: [Intel-gfx] [CI 2/2] drm/i915/blt: bump the size restriction
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

RnJvbTogTWF0dGhldyBBdWxkIDxtYXR0aGV3LmF1bGRAaW50ZWwuY29tPgoKQXMgcG9pbnRlZCBv
dXQgYnkgQ2hyaXMsIHdpdGggb3VyIGN1cnJlbnQgYXBwcm9hY2ggd2UgYXJlIGFjdHVhbGx5Cmxp
bWl0ZWQgdG8gUzE2X01BWCAqIFBBR0VfU0laRSBmb3Igb3VyIHNpemUgd2hlbiB1c2luZyB0aGUg
Ymx0IHRvIGNsZWFyCnBhZ2VzLiBLZWVwaW5nIHRoaW5ncyBzaW1wbGUgdHJ5IHRvIGZpeCB0aGlz
IGJ5IHJlZHVjaW5nIHRoZSBjb3B5IHRvIGEKc2VxdWVuY2Ugb2YgUzE2X01BWCAqIFBBR0VfU0la
RSBibG9ja3MuCgpSZXBvcnRlZC1ieTogQ2hyaXMgV2lsc29uIDxjaHJpc0BjaHJpcy13aWxzb24u
Y28udWs+ClNpZ25lZC1vZmYtYnk6IE1hdHRoZXcgQXVsZCA8bWF0dGhldy5hdWxkQGludGVsLmNv
bT4KQ2M6IENocmlzIFdpbHNvbiA8Y2hyaXNAY2hyaXMtd2lsc29uLmNvLnVrPgpSZXZpZXdlZC1i
eTogQ2hyaXMgV2lsc29uIDxjaHJpc0BjaHJpcy13aWxzb24uY28udWs+CltpY2tsZTogaGlkZSB0
aGUgZGV0YWlscyBvZiB0aGUgZW5naW5lIHBvb2wgaW5zaWRlIGVtaXRfdm1hXQpTaWduZWQtb2Zm
LWJ5OiBDaHJpcyBXaWxzb24gPGNocmlzQGNocmlzLXdpbHNvbi5jby51az4KLS0tCiAuLi4vZ3B1
L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9jbGllbnRfYmx0LmMgICAgfCAgMjggKysrLQogLi4uL2dw
dS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fb2JqZWN0X2JsdC5jICAgIHwgMTQwICsrKysrKysrKysr
KysrLS0tLQogLi4uL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fb2JqZWN0X2JsdC5oICAgIHwg
IDI3ICsrKy0KIC4uLi9pOTE1L2dlbS9zZWxmdGVzdHMvaTkxNV9nZW1fY2xpZW50X2JsdC5jICB8
ICAxNiArLQogLi4uL2k5MTUvZ2VtL3NlbGZ0ZXN0cy9pOTE1X2dlbV9vYmplY3RfYmx0LmMgIHwg
IDIyICsrLQogNSBmaWxlcyBjaGFuZ2VkLCAxODQgaW5zZXJ0aW9ucygrKSwgNDkgZGVsZXRpb25z
KC0pCgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX2NsaWVu
dF9ibHQuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9jbGllbnRfYmx0LmMK
aW5kZXggMDhhODRjOTQwZDhkLi5mYzAyZTAxNTdmYzYgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1
L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9jbGllbnRfYmx0LmMKKysrIGIvZHJpdmVycy9ncHUvZHJt
L2k5MTUvZ2VtL2k5MTVfZ2VtX2NsaWVudF9ibHQuYwpAQCAtNSw2ICs1LDggQEAKIAogI2luY2x1
ZGUgImk5MTVfZHJ2LmgiCiAjaW5jbHVkZSAiZ3QvaW50ZWxfY29udGV4dC5oIgorI2luY2x1ZGUg
Imd0L2ludGVsX2VuZ2luZV9wbS5oIgorI2luY2x1ZGUgImd0L2ludGVsX2VuZ2luZV9wb29sLmgi
CiAjaW5jbHVkZSAiaTkxNV9nZW1fY2xpZW50X2JsdC5oIgogI2luY2x1ZGUgImk5MTVfZ2VtX29i
amVjdF9ibHQuaCIKIApAQCAtMTU3LDYgKzE1OSw3IEBAIHN0YXRpYyB2b2lkIGNsZWFyX3BhZ2Vz
X3dvcmtlcihzdHJ1Y3Qgd29ya19zdHJ1Y3QgKndvcmspCiAJc3RydWN0IGRybV9pOTE1X2dlbV9v
YmplY3QgKm9iaiA9IHctPnNsZWV2ZS0+dm1hLT5vYmo7CiAJc3RydWN0IGk5MTVfdm1hICp2bWEg
PSB3LT5zbGVldmUtPnZtYTsKIAlzdHJ1Y3QgaTkxNV9yZXF1ZXN0ICpycTsKKwlzdHJ1Y3QgaTkx
NV92bWEgKmJhdGNoOwogCWludCBlcnIgPSB3LT5kbWEuZXJyb3I7CiAKIAlpZiAodW5saWtlbHko
ZXJyKSkKQEAgLTE3NiwxMCArMTc5LDE2IEBAIHN0YXRpYyB2b2lkIGNsZWFyX3BhZ2VzX3dvcmtl
cihzdHJ1Y3Qgd29ya19zdHJ1Y3QgKndvcmspCiAJaWYgKHVubGlrZWx5KGVycikpCiAJCWdvdG8g
b3V0X3VubG9jazsKIAorCWJhdGNoID0gaW50ZWxfZW1pdF92bWFfZmlsbF9ibHQody0+Y2UsIHZt
YSwgdy0+dmFsdWUpOworCWlmIChJU19FUlIoYmF0Y2gpKSB7CisJCWVyciA9IFBUUl9FUlIoYmF0
Y2gpOworCQlnb3RvIG91dF91bnBpbjsKKwl9CisKIAlycSA9IGludGVsX2NvbnRleHRfY3JlYXRl
X3JlcXVlc3Qody0+Y2UpOwogCWlmIChJU19FUlIocnEpKSB7CiAJCWVyciA9IFBUUl9FUlIocnEp
OwotCQlnb3RvIG91dF91bnBpbjsKKwkJZ290byBvdXRfYmF0Y2g7CiAJfQogCiAJLyogVGhlcmUn
cyBubyB3YXkgdGhlIGZlbmNlIGhhcyBzaWduYWxsZWQgKi8KQEAgLTE4Nyw2ICsxOTYsMTYgQEAg
c3RhdGljIHZvaWQgY2xlYXJfcGFnZXNfd29ya2VyKHN0cnVjdCB3b3JrX3N0cnVjdCAqd29yaykK
IAkJCQkgICBjbGVhcl9wYWdlc19kbWFfZmVuY2VfY2IpKQogCQlHRU1fQlVHX09OKDEpOwogCisJ
aTkxNV92bWFfbG9jayhiYXRjaCk7CisJZXJyID0gaTkxNV92bWFfbW92ZV90b19hY3RpdmUoYmF0
Y2gsIHJxLCAwKTsKKwlpOTE1X3ZtYV91bmxvY2soYmF0Y2gpOworCWlmICh1bmxpa2VseShlcnIp
KQorCQlnb3RvIG91dF9yZXF1ZXN0OworCisJZXJyID0gaW50ZWxfZW1pdF92bWFfbWFya19hY3Rp
dmUoYmF0Y2gsIHJxKTsKKwlpZiAodW5saWtlbHkoZXJyKSkKKwkJZ290byBvdXRfcmVxdWVzdDsK
KwogCWlmICh3LT5jZS0+ZW5naW5lLT5lbWl0X2luaXRfYnJlYWRjcnVtYikgewogCQllcnIgPSB3
LT5jZS0+ZW5naW5lLT5lbWl0X2luaXRfYnJlYWRjcnVtYihycSk7CiAJCWlmICh1bmxpa2VseShl
cnIpKQpAQCAtMjAyLDcgKzIyMSw5IEBAIHN0YXRpYyB2b2lkIGNsZWFyX3BhZ2VzX3dvcmtlcihz
dHJ1Y3Qgd29ya19zdHJ1Y3QgKndvcmspCiAJaWYgKGVycikKIAkJZ290byBvdXRfcmVxdWVzdDsK
IAotCWVyciA9IGludGVsX2VtaXRfdm1hX2ZpbGxfYmx0KHJxLCB2bWEsIHctPnZhbHVlKTsKKwll
cnIgPSB3LT5jZS0+ZW5naW5lLT5lbWl0X2JiX3N0YXJ0KHJxLAorCQkJCQkgICBiYXRjaC0+bm9k
ZS5zdGFydCwgYmF0Y2gtPm5vZGUuc2l6ZSwKKwkJCQkJICAgMCk7CiBvdXRfcmVxdWVzdDoKIAlp
ZiAodW5saWtlbHkoZXJyKSkgewogCQlpOTE1X3JlcXVlc3Rfc2tpcChycSwgZXJyKTsKQEAgLTIx
MCw2ICsyMzEsOSBAQCBzdGF0aWMgdm9pZCBjbGVhcl9wYWdlc193b3JrZXIoc3RydWN0IHdvcmtf
c3RydWN0ICp3b3JrKQogCX0KIAogCWk5MTVfcmVxdWVzdF9hZGQocnEpOworb3V0X2JhdGNoOgor
CWk5MTVfdm1hX3VucGluKGJhdGNoKTsKKwlpbnRlbF9lbWl0X3ZtYV9yZWxlYXNlKHctPmNlLCBi
YXRjaCk7CiBvdXRfdW5waW46CiAJaTkxNV92bWFfdW5waW4odm1hKTsKIG91dF91bmxvY2s6CmRp
ZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fb2JqZWN0X2JsdC5j
IGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX29iamVjdF9ibHQuYwppbmRleCBm
YTkwYzM4YzhiMDcuLjEwMTllNjk1MmQ0MyAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5
MTUvZ2VtL2k5MTVfZ2VtX29iamVjdF9ibHQuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9n
ZW0vaTkxNV9nZW1fb2JqZWN0X2JsdC5jCkBAIC01LDQyICs1LDk4IEBACiAKICNpbmNsdWRlICJp
OTE1X2Rydi5oIgogI2luY2x1ZGUgImd0L2ludGVsX2NvbnRleHQuaCIKKyNpbmNsdWRlICJndC9p
bnRlbF9lbmdpbmVfcG0uaCIKKyNpbmNsdWRlICJndC9pbnRlbF9lbmdpbmVfcG9vbC5oIgorI2lu
Y2x1ZGUgImd0L2ludGVsX2d0LmgiCiAjaW5jbHVkZSAiaTkxNV9nZW1fY2xmbHVzaC5oIgogI2lu
Y2x1ZGUgImk5MTVfZ2VtX29iamVjdF9ibHQuaCIKIAotaW50IGludGVsX2VtaXRfdm1hX2ZpbGxf
Ymx0KHN0cnVjdCBpOTE1X3JlcXVlc3QgKnJxLAotCQkJICAgIHN0cnVjdCBpOTE1X3ZtYSAqdm1h
LAotCQkJICAgIHUzMiB2YWx1ZSkKK3N0cnVjdCBpOTE1X3ZtYSAqaW50ZWxfZW1pdF92bWFfZmls
bF9ibHQoc3RydWN0IGludGVsX2NvbnRleHQgKmNlLAorCQkJCQkgc3RydWN0IGk5MTVfdm1hICp2
bWEsCisJCQkJCSB1MzIgdmFsdWUpCiB7Ci0JdTMyICpjczsKLQotCWNzID0gaW50ZWxfcmluZ19i
ZWdpbihycSwgOCk7Ci0JaWYgKElTX0VSUihjcykpCi0JCXJldHVybiBQVFJfRVJSKGNzKTsKLQot
CWlmIChJTlRFTF9HRU4ocnEtPmk5MTUpID49IDgpIHsKLQkJKmNzKysgPSBYWV9DT0xPUl9CTFRf
Q01EIHwgQkxUX1dSSVRFX1JHQkEgfCAoNyAtIDIpOwotCQkqY3MrKyA9IEJMVF9ERVBUSF8zMiB8
IEJMVF9ST1BfQ09MT1JfQ09QWSB8IFBBR0VfU0laRTsKLQkJKmNzKysgPSAwOwotCQkqY3MrKyA9
IHZtYS0+c2l6ZSA+PiBQQUdFX1NISUZUIDw8IDE2IHwgUEFHRV9TSVpFIC8gNDsKLQkJKmNzKysg
PSBsb3dlcl8zMl9iaXRzKHZtYS0+bm9kZS5zdGFydCk7Ci0JCSpjcysrID0gdXBwZXJfMzJfYml0
cyh2bWEtPm5vZGUuc3RhcnQpOwotCQkqY3MrKyA9IHZhbHVlOwotCQkqY3MrKyA9IE1JX05PT1A7
Ci0JfSBlbHNlIHsKLQkJKmNzKysgPSBYWV9DT0xPUl9CTFRfQ01EIHwgQkxUX1dSSVRFX1JHQkEg
fCAoNiAtIDIpOwotCQkqY3MrKyA9IEJMVF9ERVBUSF8zMiB8IEJMVF9ST1BfQ09MT1JfQ09QWSB8
IFBBR0VfU0laRTsKLQkJKmNzKysgPSAwOwotCQkqY3MrKyA9IHZtYS0+c2l6ZSA+PiBQQUdFX1NI
SUZUIDw8IDE2IHwgUEFHRV9TSVpFIC8gNDsKLQkJKmNzKysgPSB2bWEtPm5vZGUuc3RhcnQ7Ci0J
CSpjcysrID0gdmFsdWU7Ci0JCSpjcysrID0gTUlfTk9PUDsKLQkJKmNzKysgPSBNSV9OT09QOwor
CXN0cnVjdCBkcm1faTkxNV9wcml2YXRlICppOTE1ID0gY2UtPnZtLT5pOTE1OworCWNvbnN0IHUz
MiBibG9ja19zaXplID0gUzE2X01BWCAqIFBBR0VfU0laRTsKKwlzdHJ1Y3QgaW50ZWxfZW5naW5l
X3Bvb2xfbm9kZSAqcG9vbDsKKwlzdHJ1Y3QgaTkxNV92bWEgKmJhdGNoOworCXU2NCBvZmZzZXQ7
CisJdTY0IGNvdW50OworCXU2NCByZW07CisJdTMyIHNpemU7CisJdTMyICpjbWQ7CisJaW50IGVy
cjsKKworCUdFTV9CVUdfT04oaW50ZWxfZW5naW5lX2lzX3ZpcnR1YWwoY2UtPmVuZ2luZSkpOwor
CWludGVsX2VuZ2luZV9wbV9nZXQoY2UtPmVuZ2luZSk7CisKKwljb3VudCA9IGRpdl91NjQodm1h
LT5zaXplLCBibG9ja19zaXplKTsKKwlzaXplID0gKDEgKyA4ICogY291bnQpICogc2l6ZW9mKHUz
Mik7CisJc2l6ZSA9IHJvdW5kX3VwKHNpemUsIFBBR0VfU0laRSk7CisJcG9vbCA9IGludGVsX2Vu
Z2luZV9wb29sX2dldCgmY2UtPmVuZ2luZS0+cG9vbCwgc2l6ZSk7CisJaWYgKElTX0VSUihwb29s
KSkKKwkJZ290byBvdXRfcG07CisKKwljbWQgPSBpOTE1X2dlbV9vYmplY3RfcGluX21hcChwb29s
LT5vYmosIEk5MTVfTUFQX1dDKTsKKwlpZiAoSVNfRVJSKGNtZCkpIHsKKwkJZXJyID0gUFRSX0VS
UihjbWQpOworCQlnb3RvIG91dF9wdXQ7CiAJfQogCi0JaW50ZWxfcmluZ19hZHZhbmNlKHJxLCBj
cyk7CisJcmVtID0gdm1hLT5zaXplOworCW9mZnNldCA9IHZtYS0+bm9kZS5zdGFydDsKKworCWRv
IHsKKwkJdTMyIHNpemUgPSBtaW5fdCh1NjQsIHJlbSwgYmxvY2tfc2l6ZSk7CisKKwkJR0VNX0JV
R19PTihzaXplID4+IFBBR0VfU0hJRlQgPiBTMTZfTUFYKTsKKworCQlpZiAoSU5URUxfR0VOKGk5
MTUpID49IDgpIHsKKwkJCSpjbWQrKyA9IFhZX0NPTE9SX0JMVF9DTUQgfCBCTFRfV1JJVEVfUkdC
QSB8ICg3IC0gMik7CisJCQkqY21kKysgPSBCTFRfREVQVEhfMzIgfCBCTFRfUk9QX0NPTE9SX0NP
UFkgfCBQQUdFX1NJWkU7CisJCQkqY21kKysgPSAwOworCQkJKmNtZCsrID0gc2l6ZSA+PiBQQUdF
X1NISUZUIDw8IDE2IHwgUEFHRV9TSVpFIC8gNDsKKwkJCSpjbWQrKyA9IGxvd2VyXzMyX2JpdHMo
b2Zmc2V0KTsKKwkJCSpjbWQrKyA9IHVwcGVyXzMyX2JpdHMob2Zmc2V0KTsKKwkJCSpjbWQrKyA9
IHZhbHVlOworCQl9IGVsc2UgeworCQkJKmNtZCsrID0gWFlfQ09MT1JfQkxUX0NNRCB8IEJMVF9X
UklURV9SR0JBIHwgKDYgLSAyKTsKKwkJCSpjbWQrKyA9IEJMVF9ERVBUSF8zMiB8IEJMVF9ST1Bf
Q09MT1JfQ09QWSB8IFBBR0VfU0laRTsKKwkJCSpjbWQrKyA9IDA7CisJCQkqY21kKysgPSBzaXpl
ID4+IFBBR0VfU0hJRlQgPDwgMTYgfCBQQUdFX1NJWkUgLyA0OworCQkJKmNtZCsrID0gb2Zmc2V0
OworCQkJKmNtZCsrID0gdmFsdWU7CisJCX0KKworCQkvKiBBbGxvdyBvdXJzZWx2ZXMgdG8gYmUg
cHJlZW1wdGVkIGluIGJldHdlZW4gYmxvY2tzLiAqLworCQkqY21kKysgPSBNSV9BUkJfQ0hFQ0s7
CisKKwkJb2Zmc2V0ICs9IHNpemU7CisJCXJlbSAtPSBzaXplOworCX0gd2hpbGUgKHJlbSk7CisK
KwkqY21kID0gTUlfQkFUQ0hfQlVGRkVSX0VORDsKKwlpbnRlbF9ndF9jaGlwc2V0X2ZsdXNoKGNl
LT52bS0+Z3QpOworCisJaTkxNV9nZW1fb2JqZWN0X3VucGluX21hcChwb29sLT5vYmopOworCisJ
YmF0Y2ggPSBpOTE1X3ZtYV9pbnN0YW5jZShwb29sLT5vYmosIGNlLT52bSwgTlVMTCk7CisJaWYg
KElTX0VSUihiYXRjaCkpIHsKKwkJZXJyID0gUFRSX0VSUihiYXRjaCk7CisJCWdvdG8gb3V0X3B1
dDsKKwl9CiAKLQlyZXR1cm4gMDsKKwllcnIgPSBpOTE1X3ZtYV9waW4oYmF0Y2gsIDAsIDAsIFBJ
Tl9VU0VSKTsKKwlpZiAodW5saWtlbHkoZXJyKSkKKwkJZ290byBvdXRfcHV0OworCisJYmF0Y2gt
PnByaXZhdGUgPSBwb29sOworCXJldHVybiBiYXRjaDsKKworb3V0X3B1dDoKKwlpbnRlbF9lbmdp
bmVfcG9vbF9wdXQocG9vbCk7CitvdXRfcG06CisJaW50ZWxfZW5naW5lX3BtX3B1dChjZS0+ZW5n
aW5lKTsKKwlyZXR1cm4gRVJSX1BUUihlcnIpOwogfQogCiBpbnQgaTkxNV9nZW1fb2JqZWN0X2Zp
bGxfYmx0KHN0cnVjdCBkcm1faTkxNV9nZW1fb2JqZWN0ICpvYmosCkBAIC00OCw2ICsxMDQsNyBA
QCBpbnQgaTkxNV9nZW1fb2JqZWN0X2ZpbGxfYmx0KHN0cnVjdCBkcm1faTkxNV9nZW1fb2JqZWN0
ICpvYmosCiAJCQkgICAgIHUzMiB2YWx1ZSkKIHsKIAlzdHJ1Y3QgaTkxNV9yZXF1ZXN0ICpycTsK
KwlzdHJ1Y3QgaTkxNV92bWEgKmJhdGNoOwogCXN0cnVjdCBpOTE1X3ZtYSAqdm1hOwogCWludCBl
cnI7CiAKQEAgLTY1LDEyICsxMjIsMjggQEAgaW50IGk5MTVfZ2VtX29iamVjdF9maWxsX2JsdChz
dHJ1Y3QgZHJtX2k5MTVfZ2VtX29iamVjdCAqb2JqLAogCQlpOTE1X2dlbV9vYmplY3RfdW5sb2Nr
KG9iaik7CiAJfQogCisJYmF0Y2ggPSBpbnRlbF9lbWl0X3ZtYV9maWxsX2JsdChjZSwgdm1hLCB2
YWx1ZSk7CisJaWYgKElTX0VSUihiYXRjaCkpIHsKKwkJZXJyID0gUFRSX0VSUihiYXRjaCk7CisJ
CWdvdG8gb3V0X3VucGluOworCX0KKwogCXJxID0gaW50ZWxfY29udGV4dF9jcmVhdGVfcmVxdWVz
dChjZSk7CiAJaWYgKElTX0VSUihycSkpIHsKIAkJZXJyID0gUFRSX0VSUihycSk7Ci0JCWdvdG8g
b3V0X3VucGluOworCQlnb3RvIG91dF9iYXRjaDsKIAl9CiAKKwlpOTE1X3ZtYV9sb2NrKGJhdGNo
KTsKKwllcnIgPSBpOTE1X3ZtYV9tb3ZlX3RvX2FjdGl2ZShiYXRjaCwgcnEsIDApOworCWk5MTVf
dm1hX3VubG9jayhiYXRjaCk7CisJaWYgKHVubGlrZWx5KGVycikpCisJCWdvdG8gb3V0X3JlcXVl
c3Q7CisKKwllcnIgPSBpbnRlbF9lbWl0X3ZtYV9tYXJrX2FjdGl2ZShiYXRjaCwgcnEpOworCWlm
ICh1bmxpa2VseShlcnIpKQorCQlnb3RvIG91dF9yZXF1ZXN0OworCiAJZXJyID0gaTkxNV9yZXF1
ZXN0X2F3YWl0X29iamVjdChycSwgb2JqLCB0cnVlKTsKIAlpZiAodW5saWtlbHkoZXJyKSkKIAkJ
Z290byBvdXRfcmVxdWVzdDsKQEAgLTg3LDEyICsxNjAsMTcgQEAgaW50IGk5MTVfZ2VtX29iamVj
dF9maWxsX2JsdChzdHJ1Y3QgZHJtX2k5MTVfZ2VtX29iamVjdCAqb2JqLAogCWlmICh1bmxpa2Vs
eShlcnIpKQogCQlnb3RvIG91dF9yZXF1ZXN0OwogCi0JZXJyID0gaW50ZWxfZW1pdF92bWFfZmls
bF9ibHQocnEsIHZtYSwgdmFsdWUpOworCWVyciA9IGNlLT5lbmdpbmUtPmVtaXRfYmJfc3RhcnQo
cnEsCisJCQkJCWJhdGNoLT5ub2RlLnN0YXJ0LCBiYXRjaC0+bm9kZS5zaXplLAorCQkJCQkwKTsK
IG91dF9yZXF1ZXN0OgogCWlmICh1bmxpa2VseShlcnIpKQogCQlpOTE1X3JlcXVlc3Rfc2tpcChy
cSwgZXJyKTsKIAogCWk5MTVfcmVxdWVzdF9hZGQocnEpOworb3V0X2JhdGNoOgorCWk5MTVfdm1h
X3VucGluKGJhdGNoKTsKKwlpbnRlbF9lbWl0X3ZtYV9yZWxlYXNlKGNlLCBiYXRjaCk7CiBvdXRf
dW5waW46CiAJaTkxNV92bWFfdW5waW4odm1hKTsKIAlyZXR1cm4gZXJyOwpkaWZmIC0tZ2l0IGEv
ZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX29iamVjdF9ibHQuaCBiL2RyaXZlcnMv
Z3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9vYmplY3RfYmx0LmgKaW5kZXggN2VjN2RlNmFjMGMw
Li45NTg5ZTI2MTg0MDkgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1
X2dlbV9vYmplY3RfYmx0LmgKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2Vt
X29iamVjdF9ibHQuaApAQCAtOCwxNCArOCwyOSBAQAogCiAjaW5jbHVkZSA8bGludXgvdHlwZXMu
aD4KIAorI2luY2x1ZGUgImd0L2ludGVsX2NvbnRleHQuaCIKKyNpbmNsdWRlICJndC9pbnRlbF9l
bmdpbmVfcG0uaCIKKyNpbmNsdWRlICJndC9pbnRlbF9lbmdpbmVfcG9vbC5oIgorI2luY2x1ZGUg
Imk5MTVfdm1hLmgiCisKIHN0cnVjdCBkcm1faTkxNV9nZW1fb2JqZWN0Owotc3RydWN0IGludGVs
X2NvbnRleHQ7Ci1zdHJ1Y3QgaTkxNV9yZXF1ZXN0Owotc3RydWN0IGk5MTVfdm1hOwogCi1pbnQg
aW50ZWxfZW1pdF92bWFfZmlsbF9ibHQoc3RydWN0IGk5MTVfcmVxdWVzdCAqcnEsCi0JCQkgICAg
c3RydWN0IGk5MTVfdm1hICp2bWEsCi0JCQkgICAgdTMyIHZhbHVlKTsKK3N0cnVjdCBpOTE1X3Zt
YSAqaW50ZWxfZW1pdF92bWFfZmlsbF9ibHQoc3RydWN0IGludGVsX2NvbnRleHQgKmNlLAorCQkJ
CQkgc3RydWN0IGk5MTVfdm1hICp2bWEsCisJCQkJCSB1MzIgdmFsdWUpOworCitzdGF0aWMgaW5s
aW5lIGludAoraW50ZWxfZW1pdF92bWFfbWFya19hY3RpdmUoc3RydWN0IGk5MTVfdm1hICp2bWEs
IHN0cnVjdCBpOTE1X3JlcXVlc3QgKnJxKQoreworCXJldHVybiBpbnRlbF9lbmdpbmVfcG9vbF9t
YXJrX2FjdGl2ZSh2bWEtPnByaXZhdGUsIHJxKTsKK30KKworc3RhdGljIGlubGluZSB2b2lkCitp
bnRlbF9lbWl0X3ZtYV9yZWxlYXNlKHN0cnVjdCBpbnRlbF9jb250ZXh0ICpjZSwgc3RydWN0IGk5
MTVfdm1hICp2bWEpCit7CisJaW50ZWxfZW5naW5lX3Bvb2xfcHV0KHZtYS0+cHJpdmF0ZSk7CisJ
aW50ZWxfZW5naW5lX3BtX3B1dChjZS0+ZW5naW5lKTsKK30KIAogaW50IGk5MTVfZ2VtX29iamVj
dF9maWxsX2JsdChzdHJ1Y3QgZHJtX2k5MTVfZ2VtX29iamVjdCAqb2JqLAogCQkJICAgICBzdHJ1
Y3QgaW50ZWxfY29udGV4dCAqY2UsCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9n
ZW0vc2VsZnRlc3RzL2k5MTVfZ2VtX2NsaWVudF9ibHQuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1
L2dlbS9zZWxmdGVzdHMvaTkxNV9nZW1fY2xpZW50X2JsdC5jCmluZGV4IDI3NWMyODkyNjA2Ny4u
ZDg4MDRhODQ3OTQ1IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vc2VsZnRl
c3RzL2k5MTVfZ2VtX2NsaWVudF9ibHQuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0v
c2VsZnRlc3RzL2k5MTVfZ2VtX2NsaWVudF9ibHQuYwpAQCAtOSw2ICs5LDcgQEAKIAogI2luY2x1
ZGUgInNlbGZ0ZXN0cy9pZ3RfZmx1c2hfdGVzdC5oIgogI2luY2x1ZGUgInNlbGZ0ZXN0cy9tb2Nr
X2RybS5oIgorI2luY2x1ZGUgImh1Z2VfZ2VtX29iamVjdC5oIgogI2luY2x1ZGUgIm1vY2tfY29u
dGV4dC5oIgogCiBzdGF0aWMgaW50IGlndF9jbGllbnRfZmlsbCh2b2lkICphcmcpCkBAIC0yNCwx
NSArMjUsMTkgQEAgc3RhdGljIGludCBpZ3RfY2xpZW50X2ZpbGwodm9pZCAqYXJnKQogCXByYW5k
b21fc2VlZF9zdGF0ZSgmcHJuZywgaTkxNV9zZWxmdGVzdC5yYW5kb21fc2VlZCk7CiAKIAlkbyB7
Ci0JCXUzMiBzeiA9IHByYW5kb21fdTMyX3N0YXRlKCZwcm5nKSAlIFNaXzMyTTsKKwkJY29uc3Qg
dTMyIG1heF9ibG9ja19zaXplID0gUzE2X01BWCAqIFBBR0VfU0laRTsKKwkJdTMyIHN6ID0gbWlu
X3QodTY0LCBjZS0+dm0tPnRvdGFsID4+IDQsIHByYW5kb21fdTMyX3N0YXRlKCZwcm5nKSk7CisJ
CXUzMiBwaHlzX3N6ID0gc3ogJSAobWF4X2Jsb2NrX3NpemUgKyAxKTsKIAkJdTMyIHZhbCA9IHBy
YW5kb21fdTMyX3N0YXRlKCZwcm5nKTsKIAkJdTMyIGk7CiAKIAkJc3ogPSByb3VuZF91cChzeiwg
UEFHRV9TSVpFKTsKKwkJcGh5c19zeiA9IHJvdW5kX3VwKHBoeXNfc3osIFBBR0VfU0laRSk7CiAK
LQkJcHJfZGVidWcoIiVzIHdpdGggc3o9JXgsIHZhbD0leFxuIiwgX19mdW5jX18sIHN6LCB2YWwp
OworCQlwcl9kZWJ1ZygiJXMgd2l0aCBwaHlzX3N6PSAleCwgc3o9JXgsIHZhbD0leFxuIiwgX19m
dW5jX18sCisJCQkgcGh5c19zeiwgc3osIHZhbCk7CiAKLQkJb2JqID0gaTkxNV9nZW1fb2JqZWN0
X2NyZWF0ZV9pbnRlcm5hbChpOTE1LCBzeik7CisJCW9iaiA9IGh1Z2VfZ2VtX29iamVjdChpOTE1
LCBwaHlzX3N6LCBzeik7CiAJCWlmIChJU19FUlIob2JqKSkgewogCQkJZXJyID0gUFRSX0VSUihv
YmopOwogCQkJZ290byBlcnJfZmx1c2g7CkBAIC01NCw3ICs1OSw4IEBAIHN0YXRpYyBpbnQgaWd0
X2NsaWVudF9maWxsKHZvaWQgKmFyZykKIAkJICogdmFsdWVzIGFmdGVyIHdlIGRvIHRoZSBzZXRf
dG9fY3B1X2RvbWFpbiBhbmQgcGljayBpdCB1cCBhcyBhCiAJCSAqIHRlc3QgZmFpbHVyZS4KIAkJ
ICovCi0JCW1lbXNldDMyKHZhZGRyLCB2YWwgXiAweGRlYWRiZWFmLCBvYmotPmJhc2Uuc2l6ZSAv
IHNpemVvZih1MzIpKTsKKwkJbWVtc2V0MzIodmFkZHIsIHZhbCBeIDB4ZGVhZGJlYWYsCisJCQkg
aHVnZV9nZW1fb2JqZWN0X3BoeXNfc2l6ZShvYmopIC8gc2l6ZW9mKHUzMikpOwogCiAJCWlmICgh
KG9iai0+Y2FjaGVfY29oZXJlbnQgJiBJOTE1X0JPX0NBQ0hFX0NPSEVSRU5UX0ZPUl9XUklURSkp
CiAJCQlvYmotPmNhY2hlX2RpcnR5ID0gdHJ1ZTsKQEAgLTcxLDcgKzc3LDcgQEAgc3RhdGljIGlu
dCBpZ3RfY2xpZW50X2ZpbGwodm9pZCAqYXJnKQogCQlpZiAoZXJyKQogCQkJZ290byBlcnJfdW5w
aW47CiAKLQkJZm9yIChpID0gMDsgaSA8IG9iai0+YmFzZS5zaXplIC8gc2l6ZW9mKHUzMik7ICsr
aSkgeworCQlmb3IgKGkgPSAwOyBpIDwgaHVnZV9nZW1fb2JqZWN0X3BoeXNfc2l6ZShvYmopIC8g
c2l6ZW9mKHUzMik7ICsraSkgewogCQkJaWYgKHZhZGRyW2ldICE9IHZhbCkgewogCQkJCXByX2Vy
cigidmFkZHJbJXVdPSV4LCBleHBlY3RlZD0leFxuIiwgaSwKIAkJCQkgICAgICAgdmFkZHJbaV0s
IHZhbCk7CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vc2VsZnRlc3RzL2k5
MTVfZ2VtX29iamVjdF9ibHQuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9zZWxmdGVzdHMv
aTkxNV9nZW1fb2JqZWN0X2JsdC5jCmluZGV4IDE5ODQzYWNjODRkMy4uYzZlMWVlYmU1M2Y1IDEw
MDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vc2VsZnRlc3RzL2k5MTVfZ2VtX29i
amVjdF9ibHQuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vc2VsZnRlc3RzL2k5MTVf
Z2VtX29iamVjdF9ibHQuYwpAQCAtOSw2ICs5LDcgQEAKIAogI2luY2x1ZGUgInNlbGZ0ZXN0cy9p
Z3RfZmx1c2hfdGVzdC5oIgogI2luY2x1ZGUgInNlbGZ0ZXN0cy9tb2NrX2RybS5oIgorI2luY2x1
ZGUgImh1Z2VfZ2VtX29iamVjdC5oIgogI2luY2x1ZGUgIm1vY2tfY29udGV4dC5oIgogCiBzdGF0
aWMgaW50IGlndF9maWxsX2JsdCh2b2lkICphcmcpCkBAIC0yMywxNiArMjQsMjYgQEAgc3RhdGlj
IGludCBpZ3RfZmlsbF9ibHQodm9pZCAqYXJnKQogCiAJcHJhbmRvbV9zZWVkX3N0YXRlKCZwcm5n
LCBpOTE1X3NlbGZ0ZXN0LnJhbmRvbV9zZWVkKTsKIAorCS8qCisJICogWFhYOiBuZWVkcyBzb21l
IHRocmVhZHMgdG8gc2NhbGUgYWxsIHRoZXNlIHRlc3RzLCBhbHNvIG1heWJlIHRocm93CisJICog
aW4gc3VibWlzc2lvbiBmcm9tIGhpZ2hlciBwcmlvcml0eSBjb250ZXh0IHRvIHNlZSBpZiB3ZSBh
cmUKKwkgKiBwcmVlbXB0ZWQgZm9yIHZlcnkgbGFyZ2Ugb2JqZWN0cy4uLgorCSAqLworCiAJZG8g
ewotCQl1MzIgc3ogPSBwcmFuZG9tX3UzMl9zdGF0ZSgmcHJuZykgJSBTWl8zMk07CisJCWNvbnN0
IHUzMiBtYXhfYmxvY2tfc2l6ZSA9IFMxNl9NQVggKiBQQUdFX1NJWkU7CisJCXUzMiBzeiA9IG1p
bl90KHU2NCwgY2UtPnZtLT50b3RhbCA+PiA0LCBwcmFuZG9tX3UzMl9zdGF0ZSgmcHJuZykpOwor
CQl1MzIgcGh5c19zeiA9IHN6ICUgKG1heF9ibG9ja19zaXplICsgMSk7CiAJCXUzMiB2YWwgPSBw
cmFuZG9tX3UzMl9zdGF0ZSgmcHJuZyk7CiAJCXUzMiBpOwogCiAJCXN6ID0gcm91bmRfdXAoc3os
IFBBR0VfU0laRSk7CisJCXBoeXNfc3ogPSByb3VuZF91cChwaHlzX3N6LCBQQUdFX1NJWkUpOwog
Ci0JCXByX2RlYnVnKCIlcyB3aXRoIHN6PSV4LCB2YWw9JXhcbiIsIF9fZnVuY19fLCBzeiwgdmFs
KTsKKwkJcHJfZGVidWcoIiVzIHdpdGggcGh5c19zej0gJXgsIHN6PSV4LCB2YWw9JXhcbiIsIF9f
ZnVuY19fLAorCQkJIHBoeXNfc3osIHN6LCB2YWwpOwogCi0JCW9iaiA9IGk5MTVfZ2VtX29iamVj
dF9jcmVhdGVfaW50ZXJuYWwoaTkxNSwgc3opOworCQlvYmogPSBodWdlX2dlbV9vYmplY3QoaTkx
NSwgcGh5c19zeiwgc3opOwogCQlpZiAoSVNfRVJSKG9iaikpIHsKIAkJCWVyciA9IFBUUl9FUlIo
b2JqKTsKIAkJCWdvdG8gZXJyX2ZsdXNoOwpAQCAtNDgsNyArNTksOCBAQCBzdGF0aWMgaW50IGln
dF9maWxsX2JsdCh2b2lkICphcmcpCiAJCSAqIE1ha2Ugc3VyZSB0aGUgcG90ZW50aWFsbHkgYXN5
bmMgY2xmbHVzaCBkb2VzIGl0cyBqb2IsIGlmCiAJCSAqIHJlcXVpcmVkLgogCQkgKi8KLQkJbWVt
c2V0MzIodmFkZHIsIHZhbCBeIDB4ZGVhZGJlYWYsIG9iai0+YmFzZS5zaXplIC8gc2l6ZW9mKHUz
MikpOworCQltZW1zZXQzMih2YWRkciwgdmFsIF4gMHhkZWFkYmVhZiwKKwkJCSBodWdlX2dlbV9v
YmplY3RfcGh5c19zaXplKG9iaikgLyBzaXplb2YodTMyKSk7CiAKIAkJaWYgKCEob2JqLT5jYWNo
ZV9jb2hlcmVudCAmIEk5MTVfQk9fQ0FDSEVfQ09IRVJFTlRfRk9SX1dSSVRFKSkKIAkJCW9iai0+
Y2FjaGVfZGlydHkgPSB0cnVlOwpAQCAtNjUsNyArNzcsNyBAQCBzdGF0aWMgaW50IGlndF9maWxs
X2JsdCh2b2lkICphcmcpCiAJCWlmIChlcnIpCiAJCQlnb3RvIGVycl91bnBpbjsKIAotCQlmb3Ig
KGkgPSAwOyBpIDwgb2JqLT5iYXNlLnNpemUgLyBzaXplb2YodTMyKTsgKytpKSB7CisJCWZvciAo
aSA9IDA7IGkgPCBodWdlX2dlbV9vYmplY3RfcGh5c19zaXplKG9iaikgLyBzaXplb2YodTMyKTsg
KytpKSB7CiAJCQlpZiAodmFkZHJbaV0gIT0gdmFsKSB7CiAJCQkJcHJfZXJyKCJ2YWRkclsldV09
JXgsIGV4cGVjdGVkPSV4XG4iLCBpLAogCQkJCSAgICAgICB2YWRkcltpXSwgdmFsKTsKLS0gCjIu
MjMuMC5yYzEKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
CkludGVsLWdmeCBtYWlsaW5nIGxpc3QKSW50ZWwtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpo
dHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2ludGVsLWdmeA==

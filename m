Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 0B5CD283F5A
	for <lists+intel-gfx@lfdr.de>; Mon,  5 Oct 2020 21:13:08 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 1F0F589C97;
	Mon,  5 Oct 2020 19:13:06 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga18.intel.com (mga18.intel.com [134.134.136.126])
 by gabe.freedesktop.org (Postfix) with ESMTPS id E2B3189C97
 for <intel-gfx@lists.freedesktop.org>; Mon,  5 Oct 2020 19:13:04 +0000 (UTC)
IronPort-SDR: 03dMBNAJDBw93kSJzJ3opD8JgQ/MXYF81UNBRiEXbdutgIFp5tuexhpe6FtqTXufwyM/oECwzv
 VEOHO1ol0NIA==
X-IronPort-AV: E=McAfee;i="6000,8403,9765"; a="151640235"
X-IronPort-AV: E=Sophos;i="5.77,340,1596524400"; d="scan'208";a="151640235"
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga006.jf.intel.com ([10.7.209.51])
 by orsmga106.jf.intel.com with ESMTP; 05 Oct 2020 12:02:35 -0700
IronPort-SDR: l66xrtu23PElO6a4CnNliAFgn9ARRmuMcLrvdgVlJBkuZGK44ndXstEyP2/h1s7MQROc7RKIsw
 Yll6/aLeIooA==
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.77,340,1596524400"; d="scan'208";a="314576780"
Received: from stinkbox.fi.intel.com (HELO stinkbox) ([10.237.72.174])
 by orsmga006.jf.intel.com with SMTP; 05 Oct 2020 10:14:47 -0700
Received: by stinkbox (sSMTP sendmail emulation);
 Mon, 05 Oct 2020 20:14:41 +0300
From: Ville Syrjala <ville.syrjala@linux.intel.com>
To: intel-gfx@lists.freedesktop.org
Date: Mon,  5 Oct 2020 20:14:41 +0300
Message-Id: <20201005171441.26612-1-ville.syrjala@linux.intel.com>
X-Mailer: git-send-email 2.26.2
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH] drm/i915: Rename i915_{save,restore}_state()
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

RnJvbTogVmlsbGUgU3lyasOkbMOkIDx2aWxsZS5zeXJqYWxhQGxpbnV4LmludGVsLmNvbT4KCmk5
MTVfe3NhdmUscmVzdG9yZX1fc3RhdGUoKSBhcmUgYWN0dWFsbHkgYWxsIGFib3V0IHRoZSBkaXNw
bGF5LgpDdXJyZW50bHkgdGhleSBhcmUgc3BsaXQgaW50byBkaXNwbGF5IHBhcnQgKyBTV0YgcGFy
dC4gQnV0IHNpbmNlCnRoZSBTV0YgcGFydCBpcyBhbHNvIHJlbGF0ZWQgdG8gdGhlIGRpc3BsYXkg
bGV0J3MganVzdCBtb3ZlIHRoYXQKcGFydCBpbnRvIGl0cyBvd24gdGhpbmcgYW5kIGZsaXAgdGhl
IHJvbGVzIGFyb3VuZCBzbyB0aGF0IHRoZQpjdXJyZW50IGRpc3BsYXkgcGFydCBpcyB0aGUgbWFp
biBmdW5jdGlvbi4KClNpZ25lZC1vZmYtYnk6IFZpbGxlIFN5cmrDpGzDpCA8dmlsbGUuc3lyamFs
YUBsaW51eC5pbnRlbC5jb20+Ci0tLQogZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kcnYuYyAg
ICAgfCAgIDQgKy0KIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfc3VzcGVuZC5jIHwgMTE2ICsr
KysrKysrKysrKysrLS0tLS0tLS0tLS0tLS0KIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfc3Vz
cGVuZC5oIHwgICA0ICstCiAzIGZpbGVzIGNoYW5nZWQsIDYwIGluc2VydGlvbnMoKyksIDY0IGRl
bGV0aW9ucygtKQoKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZHJ2LmMg
Yi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2Rydi5jCmluZGV4IDQ1ZTcxOWM3OTE4My4uMWMx
ZjVkYmI0NjdjIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2Rydi5jCisr
KyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZHJ2LmMKQEAgLTEwODksNyArMTA4OSw3IEBA
IHN0YXRpYyBpbnQgaTkxNV9kcm1fc3VzcGVuZChzdHJ1Y3QgZHJtX2RldmljZSAqZGV2KQogCiAJ
aTkxNV9nZ3R0X3N1c3BlbmQoJmRldl9wcml2LT5nZ3R0KTsKIAotCWk5MTVfc2F2ZV9zdGF0ZShk
ZXZfcHJpdik7CisJaTkxNV9zYXZlX2Rpc3BsYXkoZGV2X3ByaXYpOwogCiAJb3ByZWdpb25fdGFy
Z2V0X3N0YXRlID0gc3VzcGVuZF90b19pZGxlKGRldl9wcml2KSA/IFBDSV9EMSA6IFBDSV9EM2Nv
bGQ7CiAJaW50ZWxfb3ByZWdpb25fc3VzcGVuZChkZXZfcHJpdiwgb3ByZWdpb25fdGFyZ2V0X3N0
YXRlKTsKQEAgLTEyMDIsNyArMTIwMiw3IEBAIHN0YXRpYyBpbnQgaTkxNV9kcm1fcmVzdW1lKHN0
cnVjdCBkcm1fZGV2aWNlICpkZXYpCiAKIAlpbnRlbF9jc3JfdWNvZGVfcmVzdW1lKGRldl9wcml2
KTsKIAotCWk5MTVfcmVzdG9yZV9zdGF0ZShkZXZfcHJpdik7CisJaTkxNV9yZXN0b3JlX2Rpc3Bs
YXkoZGV2X3ByaXYpOwogCWludGVsX3Bwc191bmxvY2tfcmVnc193YShkZXZfcHJpdik7CiAKIAlp
bnRlbF9pbml0X3BjaF9yZWZjbGsoZGV2X3ByaXYpOwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUv
ZHJtL2k5MTUvaTkxNV9zdXNwZW5kLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3N1c3Bl
bmQuYwppbmRleCA3YjY0ZTcxMzcyNzAuLmRiMjExMWZjODA5ZSAxMDA2NDQKLS0tIGEvZHJpdmVy
cy9ncHUvZHJtL2k5MTUvaTkxNV9zdXNwZW5kLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUv
aTkxNV9zdXNwZW5kLmMKQEAgLTMyLDcgKzMyLDU3IEBACiAjaW5jbHVkZSAiaTkxNV9yZWcuaCIK
ICNpbmNsdWRlICJpOTE1X3N1c3BlbmQuaCIKIAotc3RhdGljIHZvaWQgaTkxNV9zYXZlX2Rpc3Bs
YXkoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2KQorc3RhdGljIHZvaWQgaW50ZWxf
c2F2ZV9zd2Yoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2KQoreworCWludCBpOwor
CisJLyogU2NyYXRjaCBzcGFjZSAqLworCWlmIChJU19HRU4oZGV2X3ByaXYsIDIpICYmIElTX01P
QklMRShkZXZfcHJpdikpIHsKKwkJZm9yIChpID0gMDsgaSA8IDc7IGkrKykgeworCQkJZGV2X3By
aXYtPnJlZ2ZpbGUuc2F2ZVNXRjBbaV0gPSBJOTE1X1JFQUQoU1dGMChpKSk7CisJCQlkZXZfcHJp
di0+cmVnZmlsZS5zYXZlU1dGMVtpXSA9IEk5MTVfUkVBRChTV0YxKGkpKTsKKwkJfQorCQlmb3Ig
KGkgPSAwOyBpIDwgMzsgaSsrKQorCQkJZGV2X3ByaXYtPnJlZ2ZpbGUuc2F2ZVNXRjNbaV0gPSBJ
OTE1X1JFQUQoU1dGMyhpKSk7CisJfSBlbHNlIGlmIChJU19HRU4oZGV2X3ByaXYsIDIpKSB7CisJ
CWZvciAoaSA9IDA7IGkgPCA3OyBpKyspCisJCQlkZXZfcHJpdi0+cmVnZmlsZS5zYXZlU1dGMVtp
XSA9IEk5MTVfUkVBRChTV0YxKGkpKTsKKwl9IGVsc2UgaWYgKEhBU19HTUNIKGRldl9wcml2KSkg
eworCQlmb3IgKGkgPSAwOyBpIDwgMTY7IGkrKykgeworCQkJZGV2X3ByaXYtPnJlZ2ZpbGUuc2F2
ZVNXRjBbaV0gPSBJOTE1X1JFQUQoU1dGMChpKSk7CisJCQlkZXZfcHJpdi0+cmVnZmlsZS5zYXZl
U1dGMVtpXSA9IEk5MTVfUkVBRChTV0YxKGkpKTsKKwkJfQorCQlmb3IgKGkgPSAwOyBpIDwgMzsg
aSsrKQorCQkJZGV2X3ByaXYtPnJlZ2ZpbGUuc2F2ZVNXRjNbaV0gPSBJOTE1X1JFQUQoU1dGMyhp
KSk7CisJfQorfQorCitzdGF0aWMgdm9pZCBpbnRlbF9yZXN0b3JlX3N3ZihzdHJ1Y3QgZHJtX2k5
MTVfcHJpdmF0ZSAqZGV2X3ByaXYpCit7CisJaW50IGk7CisKKwkvKiBTY3JhdGNoIHNwYWNlICov
CisJaWYgKElTX0dFTihkZXZfcHJpdiwgMikgJiYgSVNfTU9CSUxFKGRldl9wcml2KSkgeworCQlm
b3IgKGkgPSAwOyBpIDwgNzsgaSsrKSB7CisJCQlJOTE1X1dSSVRFKFNXRjAoaSksIGRldl9wcml2
LT5yZWdmaWxlLnNhdmVTV0YwW2ldKTsKKwkJCUk5MTVfV1JJVEUoU1dGMShpKSwgZGV2X3ByaXYt
PnJlZ2ZpbGUuc2F2ZVNXRjFbaV0pOworCQl9CisJCWZvciAoaSA9IDA7IGkgPCAzOyBpKyspCisJ
CQlJOTE1X1dSSVRFKFNXRjMoaSksIGRldl9wcml2LT5yZWdmaWxlLnNhdmVTV0YzW2ldKTsKKwl9
IGVsc2UgaWYgKElTX0dFTihkZXZfcHJpdiwgMikpIHsKKwkJZm9yIChpID0gMDsgaSA8IDc7IGkr
KykKKwkJCUk5MTVfV1JJVEUoU1dGMShpKSwgZGV2X3ByaXYtPnJlZ2ZpbGUuc2F2ZVNXRjFbaV0p
OworCX0gZWxzZSBpZiAoSEFTX0dNQ0goZGV2X3ByaXYpKSB7CisJCWZvciAoaSA9IDA7IGkgPCAx
NjsgaSsrKSB7CisJCQlJOTE1X1dSSVRFKFNXRjAoaSksIGRldl9wcml2LT5yZWdmaWxlLnNhdmVT
V0YwW2ldKTsKKwkJCUk5MTVfV1JJVEUoU1dGMShpKSwgZGV2X3ByaXYtPnJlZ2ZpbGUuc2F2ZVNX
RjFbaV0pOworCQl9CisJCWZvciAoaSA9IDA7IGkgPCAzOyBpKyspCisJCQlJOTE1X1dSSVRFKFNX
RjMoaSksIGRldl9wcml2LT5yZWdmaWxlLnNhdmVTV0YzW2ldKTsKKwl9Cit9CisKK3ZvaWQgaTkx
NV9zYXZlX2Rpc3BsYXkoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2KQogewogCXN0
cnVjdCBwY2lfZGV2ICpwZGV2ID0gZGV2X3ByaXYtPmRybS5wZGV2OwogCkBAIC00MywxMiArOTMs
MTYgQEAgc3RhdGljIHZvaWQgaTkxNV9zYXZlX2Rpc3BsYXkoc3RydWN0IGRybV9pOTE1X3ByaXZh
dGUgKmRldl9wcml2KQogCWlmIChJU19HRU4oZGV2X3ByaXYsIDQpKQogCQlwY2lfcmVhZF9jb25m
aWdfd29yZChwZGV2LCBHQ0RHTUJVUywKIAkJCQkgICAgICZkZXZfcHJpdi0+cmVnZmlsZS5zYXZl
R0NER01CVVMpOworCisJaW50ZWxfc2F2ZV9zd2YoZGV2X3ByaXYpOwogfQogCi1zdGF0aWMgdm9p
ZCBpOTE1X3Jlc3RvcmVfZGlzcGxheShzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYp
Cit2b2lkIGk5MTVfcmVzdG9yZV9kaXNwbGF5KHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZf
cHJpdikKIHsKIAlzdHJ1Y3QgcGNpX2RldiAqcGRldiA9IGRldl9wcml2LT5kcm0ucGRldjsKIAor
CWludGVsX3Jlc3RvcmVfc3dmKGRldl9wcml2KTsKKwogCWlmIChJU19HRU4oZGV2X3ByaXYsIDQp
KQogCQlwY2lfd3JpdGVfY29uZmlnX3dvcmQocGRldiwgR0NER01CVVMsCiAJCQkJICAgICAgZGV2
X3ByaXYtPnJlZ2ZpbGUuc2F2ZUdDREdNQlVTKTsKQEAgLTY0LDYxICsxMTgsMyBAQCBzdGF0aWMg
dm9pZCBpOTE1X3Jlc3RvcmVfZGlzcGxheShzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3By
aXYpCiAKIAlpbnRlbF9nbWJ1c19yZXNldChkZXZfcHJpdik7CiB9Ci0KLWludCBpOTE1X3NhdmVf
c3RhdGUoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2KQotewotCWludCBpOwotCi0J
aTkxNV9zYXZlX2Rpc3BsYXkoZGV2X3ByaXYpOwotCi0JLyogU2NyYXRjaCBzcGFjZSAqLwotCWlm
IChJU19HRU4oZGV2X3ByaXYsIDIpICYmIElTX01PQklMRShkZXZfcHJpdikpIHsKLQkJZm9yIChp
ID0gMDsgaSA8IDc7IGkrKykgewotCQkJZGV2X3ByaXYtPnJlZ2ZpbGUuc2F2ZVNXRjBbaV0gPSBJ
OTE1X1JFQUQoU1dGMChpKSk7Ci0JCQlkZXZfcHJpdi0+cmVnZmlsZS5zYXZlU1dGMVtpXSA9IEk5
MTVfUkVBRChTV0YxKGkpKTsKLQkJfQotCQlmb3IgKGkgPSAwOyBpIDwgMzsgaSsrKQotCQkJZGV2
X3ByaXYtPnJlZ2ZpbGUuc2F2ZVNXRjNbaV0gPSBJOTE1X1JFQUQoU1dGMyhpKSk7Ci0JfSBlbHNl
IGlmIChJU19HRU4oZGV2X3ByaXYsIDIpKSB7Ci0JCWZvciAoaSA9IDA7IGkgPCA3OyBpKyspCi0J
CQlkZXZfcHJpdi0+cmVnZmlsZS5zYXZlU1dGMVtpXSA9IEk5MTVfUkVBRChTV0YxKGkpKTsKLQl9
IGVsc2UgaWYgKEhBU19HTUNIKGRldl9wcml2KSkgewotCQlmb3IgKGkgPSAwOyBpIDwgMTY7IGkr
KykgewotCQkJZGV2X3ByaXYtPnJlZ2ZpbGUuc2F2ZVNXRjBbaV0gPSBJOTE1X1JFQUQoU1dGMChp
KSk7Ci0JCQlkZXZfcHJpdi0+cmVnZmlsZS5zYXZlU1dGMVtpXSA9IEk5MTVfUkVBRChTV0YxKGkp
KTsKLQkJfQotCQlmb3IgKGkgPSAwOyBpIDwgMzsgaSsrKQotCQkJZGV2X3ByaXYtPnJlZ2ZpbGUu
c2F2ZVNXRjNbaV0gPSBJOTE1X1JFQUQoU1dGMyhpKSk7Ci0JfQotCi0JcmV0dXJuIDA7Ci19Ci0K
LWludCBpOTE1X3Jlc3RvcmVfc3RhdGUoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2
KQotewotCWludCBpOwotCi0JaTkxNV9yZXN0b3JlX2Rpc3BsYXkoZGV2X3ByaXYpOwotCi0JLyog
U2NyYXRjaCBzcGFjZSAqLwotCWlmIChJU19HRU4oZGV2X3ByaXYsIDIpICYmIElTX01PQklMRShk
ZXZfcHJpdikpIHsKLQkJZm9yIChpID0gMDsgaSA8IDc7IGkrKykgewotCQkJSTkxNV9XUklURShT
V0YwKGkpLCBkZXZfcHJpdi0+cmVnZmlsZS5zYXZlU1dGMFtpXSk7Ci0JCQlJOTE1X1dSSVRFKFNX
RjEoaSksIGRldl9wcml2LT5yZWdmaWxlLnNhdmVTV0YxW2ldKTsKLQkJfQotCQlmb3IgKGkgPSAw
OyBpIDwgMzsgaSsrKQotCQkJSTkxNV9XUklURShTV0YzKGkpLCBkZXZfcHJpdi0+cmVnZmlsZS5z
YXZlU1dGM1tpXSk7Ci0JfSBlbHNlIGlmIChJU19HRU4oZGV2X3ByaXYsIDIpKSB7Ci0JCWZvciAo
aSA9IDA7IGkgPCA3OyBpKyspCi0JCQlJOTE1X1dSSVRFKFNXRjEoaSksIGRldl9wcml2LT5yZWdm
aWxlLnNhdmVTV0YxW2ldKTsKLQl9IGVsc2UgaWYgKEhBU19HTUNIKGRldl9wcml2KSkgewotCQlm
b3IgKGkgPSAwOyBpIDwgMTY7IGkrKykgewotCQkJSTkxNV9XUklURShTV0YwKGkpLCBkZXZfcHJp
di0+cmVnZmlsZS5zYXZlU1dGMFtpXSk7Ci0JCQlJOTE1X1dSSVRFKFNXRjEoaSksIGRldl9wcml2
LT5yZWdmaWxlLnNhdmVTV0YxW2ldKTsKLQkJfQotCQlmb3IgKGkgPSAwOyBpIDwgMzsgaSsrKQot
CQkJSTkxNV9XUklURShTV0YzKGkpLCBkZXZfcHJpdi0+cmVnZmlsZS5zYXZlU1dGM1tpXSk7Ci0J
fQotCi0JcmV0dXJuIDA7Ci19CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1
X3N1c3BlbmQuaCBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfc3VzcGVuZC5oCmluZGV4IDNh
MzZmYjRlY2MwNS4uZTVhNjExZWUzZDE1IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkx
NS9pOTE1X3N1c3BlbmQuaAorKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3N1c3BlbmQu
aApAQCAtOCw3ICs4LDcgQEAKIAogc3RydWN0IGRybV9pOTE1X3ByaXZhdGU7CiAKLWludCBpOTE1
X3NhdmVfc3RhdGUoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUpOwotaW50IGk5MTVfcmVz
dG9yZV9zdGF0ZShzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSk7Cit2b2lkIGk5MTVfc2F2
ZV9kaXNwbGF5KHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICppOTE1KTsKK3ZvaWQgaTkxNV9yZXN0
b3JlX2Rpc3BsYXkoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUpOwogCiAjZW5kaWYgLyog
X19JOTE1X1NVU1BFTkRfSF9fICovCi0tIAoyLjI2LjIKCl9fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fCkludGVsLWdmeCBtYWlsaW5nIGxpc3QKSW50ZWwtZ2Z4
QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWls
bWFuL2xpc3RpbmZvL2ludGVsLWdmeAo=

Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 1745831728
	for <lists+intel-gfx@lfdr.de>; Sat,  1 Jun 2019 00:25:12 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 811E189A5D;
	Fri, 31 May 2019 22:25:10 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga01.intel.com (mga01.intel.com [192.55.52.88])
 by gabe.freedesktop.org (Postfix) with ESMTPS id ECB1089A5D
 for <intel-gfx@lists.freedesktop.org>; Fri, 31 May 2019 22:25:09 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from fmsmga001.fm.intel.com ([10.253.24.23])
 by fmsmga101.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 31 May 2019 15:25:09 -0700
X-ExtLoop1: 1
Received: from dceraolo-linux.fm.intel.com ([10.1.27.145])
 by fmsmga001.fm.intel.com with ESMTP; 31 May 2019 15:25:09 -0700
From: Daniele Ceraolo Spurio <daniele.ceraolospurio@intel.com>
To: intel-gfx@lists.freedesktop.org
Date: Fri, 31 May 2019 15:24:09 -0700
Message-Id: <20190531222409.9177-3-daniele.ceraolospurio@intel.com>
X-Mailer: git-send-email 2.20.1
In-Reply-To: <20190531222409.9177-1-daniele.ceraolospurio@intel.com>
References: <20190531222409.9177-1-daniele.ceraolospurio@intel.com>
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH 2/2] drm/i915: move more defs in
 intel_display_power.h
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

TW92ZSBvdmVyIHN0cnVjdHVyZXMsIGVudW1zIGFuZCBtYWNyb3MgZnJvbSBpbnRlbF9kaXNwbGF5
LmggYW5kCmk5MTVfZHJ2LmggdG8gaGF2ZSBhbGwgdGhlIGRpc3BsYXkgUE0gZGVmaW5lcyBpbiB0
aGUgc2FtZSBoZWFkZXIuCgpTaWduZWQtb2ZmLWJ5OiBEYW5pZWxlIENlcmFvbG8gU3B1cmlvIDxk
YW5pZWxlLmNlcmFvbG9zcHVyaW9AaW50ZWwuY29tPgpDYzogSW1yZSBEZWFrIDxpbXJlLmRlYWtA
aW50ZWwuY29tPgpDYzogVmlsbGUgU3lyasOkbMOkIDx2aWxsZS5zeXJqYWxhQGxpbnV4LmludGVs
LmNvbT4KLS0tCiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2Rydi5oICAgICAgICAgICAgfCAx
MTAgLS0tLS0tLS0tLS0tCiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9kaXNwbGF5LmggICAg
ICAgfCAgODIgLS0tLS0tLS0tCiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9kaXNwbGF5X3Bv
d2VyLmggfCAxOTIgKysrKysrKysrKysrKysrKysrKysrCiAzIGZpbGVzIGNoYW5nZWQsIDE5MiBp
bnNlcnRpb25zKCspLCAxOTIgZGVsZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUv
ZHJtL2k5MTUvaTkxNV9kcnYuaCBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZHJ2LmgKaW5k
ZXggZmQ1NDUwNTc2NzI4Li5lYjg5MTdkZjkxNDkgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2k5MTVfZHJ2LmgKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kcnYuaApA
QCAtNzI5LDExNiArNzI5LDYgQEAgc3RydWN0IGludGVsX2lsa19wb3dlcl9tZ210IHsKIAlpbnQg
cl90OwogfTsKIAotc3RydWN0IGRybV9pOTE1X3ByaXZhdGU7Ci1zdHJ1Y3QgaTkxNV9wb3dlcl93
ZWxsOwotCi1zdHJ1Y3QgaTkxNV9wb3dlcl93ZWxsX29wcyB7Ci0JLyoKLQkgKiBTeW5jaHJvbml6
ZSB0aGUgd2VsbCdzIGh3IHN0YXRlIHRvIG1hdGNoIHRoZSBjdXJyZW50IHN3IHN0YXRlLCBmb3IK
LQkgKiBleGFtcGxlIGVuYWJsZS9kaXNhYmxlIGl0IGJhc2VkIG9uIHRoZSBjdXJyZW50IHJlZmNv
dW50LiBDYWxsZWQKLQkgKiBkdXJpbmcgZHJpdmVyIGluaXQgYW5kIHJlc3VtZSB0aW1lLCBwb3Nz
aWJseSBhZnRlciBmaXJzdCBjYWxsaW5nCi0JICogdGhlIGVuYWJsZS9kaXNhYmxlIGhhbmRsZXJz
LgotCSAqLwotCXZvaWQgKCpzeW5jX2h3KShzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3By
aXYsCi0JCQlzdHJ1Y3QgaTkxNV9wb3dlcl93ZWxsICpwb3dlcl93ZWxsKTsKLQkvKgotCSAqIEVu
YWJsZSB0aGUgd2VsbCBhbmQgcmVzb3VyY2VzIHRoYXQgZGVwZW5kIG9uIGl0IChmb3IgZXhhbXBs
ZQotCSAqIGludGVycnVwdHMgbG9jYXRlZCBvbiB0aGUgd2VsbCkuIENhbGxlZCBhZnRlciB0aGUg
MC0+MSByZWZjb3VudAotCSAqIHRyYW5zaXRpb24uCi0JICovCi0Jdm9pZCAoKmVuYWJsZSkoc3Ry
dWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2LAotCQkgICAgICAgc3RydWN0IGk5MTVfcG93
ZXJfd2VsbCAqcG93ZXJfd2VsbCk7Ci0JLyoKLQkgKiBEaXNhYmxlIHRoZSB3ZWxsIGFuZCByZXNv
dXJjZXMgdGhhdCBkZXBlbmQgb24gaXQuIENhbGxlZCBhZnRlcgotCSAqIHRoZSAxLT4wIHJlZmNv
dW50IHRyYW5zaXRpb24uCi0JICovCi0Jdm9pZCAoKmRpc2FibGUpKHN0cnVjdCBkcm1faTkxNV9w
cml2YXRlICpkZXZfcHJpdiwKLQkJCXN0cnVjdCBpOTE1X3Bvd2VyX3dlbGwgKnBvd2VyX3dlbGwp
OwotCS8qIFJldHVybnMgdGhlIGh3IGVuYWJsZWQgc3RhdGUuICovCi0JYm9vbCAoKmlzX2VuYWJs
ZWQpKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiwKLQkJCSAgIHN0cnVjdCBpOTE1
X3Bvd2VyX3dlbGwgKnBvd2VyX3dlbGwpOwotfTsKLQotc3RydWN0IGk5MTVfcG93ZXJfd2VsbF9y
ZWdzIHsKLQlpOTE1X3JlZ190IGJpb3M7Ci0JaTkxNV9yZWdfdCBkcml2ZXI7Ci0JaTkxNV9yZWdf
dCBrdm1yOwotCWk5MTVfcmVnX3QgZGVidWc7Ci19OwotCi0vKiBQb3dlciB3ZWxsIHN0cnVjdHVy
ZSBmb3IgaGFzd2VsbCAqLwotc3RydWN0IGk5MTVfcG93ZXJfd2VsbF9kZXNjIHsKLQljb25zdCBj
aGFyICpuYW1lOwotCWJvb2wgYWx3YXlzX29uOwotCXU2NCBkb21haW5zOwotCS8qIHVuaXF1ZSBp
ZGVudGlmaWVyIGZvciB0aGlzIHBvd2VyIHdlbGwgKi8KLQllbnVtIGk5MTVfcG93ZXJfd2VsbF9p
ZCBpZDsKLQkvKgotCSAqIEFyYml0cmF0eSBkYXRhIGFzc29jaWF0ZWQgd2l0aCB0aGlzIHBvd2Vy
IHdlbGwuIFBsYXRmb3JtIGFuZCBwb3dlcgotCSAqIHdlbGwgc3BlY2lmaWMuCi0JICovCi0JdW5p
b24gewotCQlzdHJ1Y3QgewotCQkJLyoKLQkJCSAqIHJlcXVlc3Qvc3RhdHVzIGZsYWcgaW5kZXgg
aW4gdGhlIFBVTklUIHBvd2VyIHdlbGwKLQkJCSAqIGNvbnRyb2wvc3RhdHVzIHJlZ2lzdGVycy4K
LQkJCSAqLwotCQkJdTggaWR4OwotCQl9IHZsdjsKLQkJc3RydWN0IHsKLQkJCWVudW0gZHBpb19w
aHkgcGh5OwotCQl9IGJ4dDsKLQkJc3RydWN0IHsKLQkJCWNvbnN0IHN0cnVjdCBpOTE1X3Bvd2Vy
X3dlbGxfcmVncyAqcmVnczsKLQkJCS8qCi0JCQkgKiByZXF1ZXN0L3N0YXR1cyBmbGFnIGluZGV4
IGluIHRoZSBwb3dlciB3ZWxsCi0JCQkgKiBjb25zdHJvbC9zdGF0dXMgcmVnaXN0ZXJzLgotCQkJ
ICovCi0JCQl1OCBpZHg7Ci0JCQkvKiBNYXNrIG9mIHBpcGVzIHdob3NlIElSUSBsb2dpYyBpcyBi
YWNrZWQgYnkgdGhlIHB3ICovCi0JCQl1OCBpcnFfcGlwZV9tYXNrOwotCQkJLyogVGhlIHB3IGlz
IGJhY2tpbmcgdGhlIFZHQSBmdW5jdGlvbmFsaXR5ICovCi0JCQlib29sIGhhc192Z2E6MTsKLQkJ
CWJvb2wgaGFzX2Z1c2VzOjE7Ci0JCQkvKgotCQkJICogVGhlIHB3IGlzIGZvciBhbiBJQ0wrIFR5
cGVDIFBIWSBwb3J0IGluCi0JCQkgKiBUaHVuZGVyYm9sdCBtb2RlLgotCQkJICovCi0JCQlib29s
IGlzX3RjX3RidDoxOwotCQl9IGhzdzsKLQl9OwotCWNvbnN0IHN0cnVjdCBpOTE1X3Bvd2VyX3dl
bGxfb3BzICpvcHM7Ci19OwotCi1zdHJ1Y3QgaTkxNV9wb3dlcl93ZWxsIHsKLQljb25zdCBzdHJ1
Y3QgaTkxNV9wb3dlcl93ZWxsX2Rlc2MgKmRlc2M7Ci0JLyogcG93ZXIgd2VsbCBlbmFibGUvZGlz
YWJsZSB1c2FnZSBjb3VudCAqLwotCWludCBjb3VudDsKLQkvKiBjYWNoZWQgaHcgZW5hYmxlZCBz
dGF0ZSAqLwotCWJvb2wgaHdfZW5hYmxlZDsKLX07Ci0KLXN0cnVjdCBpOTE1X3Bvd2VyX2RvbWFp
bnMgewotCS8qCi0JICogUG93ZXIgd2VsbHMgbmVlZGVkIGZvciBpbml0aWFsaXphdGlvbiBhdCBk
cml2ZXIgaW5pdCBhbmQgc3VzcGVuZAotCSAqIHRpbWUgYXJlIG9uLiBUaGV5IGFyZSBrZXB0IG9u
IHVudGlsIGFmdGVyIHRoZSBmaXJzdCBtb2Rlc2V0LgotCSAqLwotCWJvb2wgaW5pdGlhbGl6aW5n
OwotCWJvb2wgZGlzcGxheV9jb3JlX3N1c3BlbmRlZDsKLQlpbnQgcG93ZXJfd2VsbF9jb3VudDsK
LQotCWludGVsX3dha2VyZWZfdCB3YWtlcmVmOwotCi0Jc3RydWN0IG11dGV4IGxvY2s7Ci0JaW50
IGRvbWFpbl91c2VfY291bnRbUE9XRVJfRE9NQUlOX05VTV07Ci0KLQlzdHJ1Y3QgZGVsYXllZF93
b3JrIGFzeW5jX3B1dF93b3JrOwotCWludGVsX3dha2VyZWZfdCBhc3luY19wdXRfd2FrZXJlZjsK
LQl1NjQgYXN5bmNfcHV0X2RvbWFpbnNbMl07Ci0KLQlzdHJ1Y3QgaTkxNV9wb3dlcl93ZWxsICpw
b3dlcl93ZWxsczsKLX07Ci0KICNkZWZpbmUgTUFYX0wzX1NMSUNFUyAyCiBzdHJ1Y3QgaW50ZWxf
bDNfcGFyaXR5IHsKIAl1MzIgKnJlbWFwX2luZm9bTUFYX0wzX1NMSUNFU107CmRpZmYgLS1naXQg
YS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9kaXNwbGF5LmggYi9kcml2ZXJzL2dwdS9kcm0v
aTkxNS9pbnRlbF9kaXNwbGF5LmgKaW5kZXggYTQzZDU0MDg5YmUzLi5lZTZiODE5NGE0NTkgMTAw
NjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX2Rpc3BsYXkuaAorKysgYi9kcml2
ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9kaXNwbGF5LmgKQEAgLTIyMCw2NCArMjIwLDYgQEAgZW51
bSBhdXhfY2ggewogCiAjZGVmaW5lIGF1eF9jaF9uYW1lKGEpICgoYSkgKyAnQScpCiAKLWVudW0g
aW50ZWxfZGlzcGxheV9wb3dlcl9kb21haW4gewotCVBPV0VSX0RPTUFJTl9ESVNQTEFZX0NPUkUs
Ci0JUE9XRVJfRE9NQUlOX1BJUEVfQSwKLQlQT1dFUl9ET01BSU5fUElQRV9CLAotCVBPV0VSX0RP
TUFJTl9QSVBFX0MsCi0JUE9XRVJfRE9NQUlOX1BJUEVfQV9QQU5FTF9GSVRURVIsCi0JUE9XRVJf
RE9NQUlOX1BJUEVfQl9QQU5FTF9GSVRURVIsCi0JUE9XRVJfRE9NQUlOX1BJUEVfQ19QQU5FTF9G
SVRURVIsCi0JUE9XRVJfRE9NQUlOX1RSQU5TQ09ERVJfQSwKLQlQT1dFUl9ET01BSU5fVFJBTlND
T0RFUl9CLAotCVBPV0VSX0RPTUFJTl9UUkFOU0NPREVSX0MsCi0JUE9XRVJfRE9NQUlOX1RSQU5T
Q09ERVJfRURQLAotCVBPV0VSX0RPTUFJTl9UUkFOU0NPREVSX0VEUF9WRFNDLAotCVBPV0VSX0RP
TUFJTl9UUkFOU0NPREVSX0RTSV9BLAotCVBPV0VSX0RPTUFJTl9UUkFOU0NPREVSX0RTSV9DLAot
CVBPV0VSX0RPTUFJTl9QT1JUX0RESV9BX0xBTkVTLAotCVBPV0VSX0RPTUFJTl9QT1JUX0RESV9C
X0xBTkVTLAotCVBPV0VSX0RPTUFJTl9QT1JUX0RESV9DX0xBTkVTLAotCVBPV0VSX0RPTUFJTl9Q
T1JUX0RESV9EX0xBTkVTLAotCVBPV0VSX0RPTUFJTl9QT1JUX0RESV9FX0xBTkVTLAotCVBPV0VS
X0RPTUFJTl9QT1JUX0RESV9GX0xBTkVTLAotCVBPV0VSX0RPTUFJTl9QT1JUX0RESV9BX0lPLAot
CVBPV0VSX0RPTUFJTl9QT1JUX0RESV9CX0lPLAotCVBPV0VSX0RPTUFJTl9QT1JUX0RESV9DX0lP
LAotCVBPV0VSX0RPTUFJTl9QT1JUX0RESV9EX0lPLAotCVBPV0VSX0RPTUFJTl9QT1JUX0RESV9F
X0lPLAotCVBPV0VSX0RPTUFJTl9QT1JUX0RESV9GX0lPLAotCVBPV0VSX0RPTUFJTl9QT1JUX0RT
SSwKLQlQT1dFUl9ET01BSU5fUE9SVF9DUlQsCi0JUE9XRVJfRE9NQUlOX1BPUlRfT1RIRVIsCi0J
UE9XRVJfRE9NQUlOX1ZHQSwKLQlQT1dFUl9ET01BSU5fQVVESU8sCi0JUE9XRVJfRE9NQUlOX0FV
WF9BLAotCVBPV0VSX0RPTUFJTl9BVVhfQiwKLQlQT1dFUl9ET01BSU5fQVVYX0MsCi0JUE9XRVJf
RE9NQUlOX0FVWF9ELAotCVBPV0VSX0RPTUFJTl9BVVhfRSwKLQlQT1dFUl9ET01BSU5fQVVYX0Ys
Ci0JUE9XRVJfRE9NQUlOX0FVWF9JT19BLAotCVBPV0VSX0RPTUFJTl9BVVhfVEJUMSwKLQlQT1dF
Ul9ET01BSU5fQVVYX1RCVDIsCi0JUE9XRVJfRE9NQUlOX0FVWF9UQlQzLAotCVBPV0VSX0RPTUFJ
Tl9BVVhfVEJUNCwKLQlQT1dFUl9ET01BSU5fR01CVVMsCi0JUE9XRVJfRE9NQUlOX01PREVTRVQs
Ci0JUE9XRVJfRE9NQUlOX0dUX0lSUSwKLQlQT1dFUl9ET01BSU5fSU5JVCwKLQotCVBPV0VSX0RP
TUFJTl9OVU0sCi19OwotCi0jZGVmaW5lIFBPV0VSX0RPTUFJTl9QSVBFKHBpcGUpICgocGlwZSkg
KyBQT1dFUl9ET01BSU5fUElQRV9BKQotI2RlZmluZSBQT1dFUl9ET01BSU5fUElQRV9QQU5FTF9G
SVRURVIocGlwZSkgXAotCQkoKHBpcGUpICsgUE9XRVJfRE9NQUlOX1BJUEVfQV9QQU5FTF9GSVRU
RVIpCi0jZGVmaW5lIFBPV0VSX0RPTUFJTl9UUkFOU0NPREVSKHRyYW4pIFwKLQkoKHRyYW4pID09
IFRSQU5TQ09ERVJfRURQID8gUE9XRVJfRE9NQUlOX1RSQU5TQ09ERVJfRURQIDogXAotCSAodHJh
bikgKyBQT1dFUl9ET01BSU5fVFJBTlNDT0RFUl9BKQotCiAvKiBVc2VkIGJ5IGRwIGFuZCBmZGkg
bGlua3MgKi8KIHN0cnVjdCBpbnRlbF9saW5rX21fbiB7CiAJdTMyIHR1OwpAQCAtMzY0LDMwICsz
MDYsNiBAQCBzdHJ1Y3QgaW50ZWxfbGlua19tX24gewogCWxpc3RfZm9yX2VhY2hfZW50cnkoKGlu
dGVsX2Nvbm5lY3RvciksICYoZGV2KS0+bW9kZV9jb25maWcuY29ubmVjdG9yX2xpc3QsIGJhc2Uu
aGVhZCkgXAogCQlmb3JfZWFjaF9pZigoaW50ZWxfY29ubmVjdG9yKS0+YmFzZS5lbmNvZGVyID09
IChfX2VuY29kZXIpKQogCi0jZGVmaW5lIGZvcl9lYWNoX3Bvd2VyX2RvbWFpbihkb21haW4sIG1h
c2spCQkJCVwKLQlmb3IgKChkb21haW4pID0gMDsgKGRvbWFpbikgPCBQT1dFUl9ET01BSU5fTlVN
OyAoZG9tYWluKSsrKQlcCi0JCWZvcl9lYWNoX2lmKEJJVF9VTEwoZG9tYWluKSAmIChtYXNrKSkK
LQotI2RlZmluZSBmb3JfZWFjaF9wb3dlcl93ZWxsKF9fZGV2X3ByaXYsIF9fcG93ZXJfd2VsbCkJ
CQkJXAotCWZvciAoKF9fcG93ZXJfd2VsbCkgPSAoX19kZXZfcHJpdiktPnBvd2VyX2RvbWFpbnMu
cG93ZXJfd2VsbHM7CVwKLQkgICAgIChfX3Bvd2VyX3dlbGwpIC0gKF9fZGV2X3ByaXYpLT5wb3dl
cl9kb21haW5zLnBvd2VyX3dlbGxzIDwJXAotCQkoX19kZXZfcHJpdiktPnBvd2VyX2RvbWFpbnMu
cG93ZXJfd2VsbF9jb3VudDsJCVwKLQkgICAgIChfX3Bvd2VyX3dlbGwpKyspCi0KLSNkZWZpbmUg
Zm9yX2VhY2hfcG93ZXJfd2VsbF9yZXZlcnNlKF9fZGV2X3ByaXYsIF9fcG93ZXJfd2VsbCkJCQlc
Ci0JZm9yICgoX19wb3dlcl93ZWxsKSA9IChfX2Rldl9wcml2KS0+cG93ZXJfZG9tYWlucy5wb3dl
cl93ZWxscyArCQlcCi0JCQkgICAgICAoX19kZXZfcHJpdiktPnBvd2VyX2RvbWFpbnMucG93ZXJf
d2VsbF9jb3VudCAtIDE7CVwKLQkgICAgIChfX3Bvd2VyX3dlbGwpIC0gKF9fZGV2X3ByaXYpLT5w
b3dlcl9kb21haW5zLnBvd2VyX3dlbGxzID49IDA7CVwKLQkgICAgIChfX3Bvd2VyX3dlbGwpLS0p
Ci0KLSNkZWZpbmUgZm9yX2VhY2hfcG93ZXJfZG9tYWluX3dlbGwoX19kZXZfcHJpdiwgX19wb3dl
cl93ZWxsLCBfX2RvbWFpbl9tYXNrKQlcCi0JZm9yX2VhY2hfcG93ZXJfd2VsbChfX2Rldl9wcml2
LCBfX3Bvd2VyX3dlbGwpCQkJCVwKLQkJZm9yX2VhY2hfaWYoKF9fcG93ZXJfd2VsbCktPmRlc2Mt
PmRvbWFpbnMgJiAoX19kb21haW5fbWFzaykpCi0KLSNkZWZpbmUgZm9yX2VhY2hfcG93ZXJfZG9t
YWluX3dlbGxfcmV2ZXJzZShfX2Rldl9wcml2LCBfX3Bvd2VyX3dlbGwsIF9fZG9tYWluX21hc2sp
IFwKLQlmb3JfZWFjaF9wb3dlcl93ZWxsX3JldmVyc2UoX19kZXZfcHJpdiwgX19wb3dlcl93ZWxs
KQkJICAgICAgICBcCi0JCWZvcl9lYWNoX2lmKChfX3Bvd2VyX3dlbGwpLT5kZXNjLT5kb21haW5z
ICYgKF9fZG9tYWluX21hc2spKQotCiAjZGVmaW5lIGZvcl9lYWNoX29sZF9pbnRlbF9wbGFuZV9p
bl9zdGF0ZShfX3N0YXRlLCBwbGFuZSwgb2xkX3BsYW5lX3N0YXRlLCBfX2kpIFwKIAlmb3IgKChf
X2kpID0gMDsgXAogCSAgICAgKF9faSkgPCAoX19zdGF0ZSktPmJhc2UuZGV2LT5tb2RlX2NvbmZp
Zy5udW1fdG90YWxfcGxhbmUgJiYgXApkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUv
aW50ZWxfZGlzcGxheV9wb3dlci5oIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfZGlzcGxh
eV9wb3dlci5oCmluZGV4IDNhOGI1M2JlMjQyYy4uN2RmMTZiMTZlYzFkIDEwMDY0NAotLS0gYS9k
cml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9kaXNwbGF5X3Bvd2VyLmgKKysrIGIvZHJpdmVycy9n
cHUvZHJtL2k5MTUvaW50ZWxfZGlzcGxheV9wb3dlci5oCkBAIC04LDEwICs4LDIwMiBAQAogCiAj
aW5jbHVkZSAiaW50ZWxfZGlzcGxheS5oIgogI2luY2x1ZGUgImludGVsX3J1bnRpbWVfcG0uaCIK
KyNpbmNsdWRlICJpOTE1X3JlZy5oIgogCiBzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZTsKIHN0cnVj
dCBpbnRlbF9lbmNvZGVyOwogCitlbnVtIGludGVsX2Rpc3BsYXlfcG93ZXJfZG9tYWluIHsKKwlQ
T1dFUl9ET01BSU5fRElTUExBWV9DT1JFLAorCVBPV0VSX0RPTUFJTl9QSVBFX0EsCisJUE9XRVJf
RE9NQUlOX1BJUEVfQiwKKwlQT1dFUl9ET01BSU5fUElQRV9DLAorCVBPV0VSX0RPTUFJTl9QSVBF
X0FfUEFORUxfRklUVEVSLAorCVBPV0VSX0RPTUFJTl9QSVBFX0JfUEFORUxfRklUVEVSLAorCVBP
V0VSX0RPTUFJTl9QSVBFX0NfUEFORUxfRklUVEVSLAorCVBPV0VSX0RPTUFJTl9UUkFOU0NPREVS
X0EsCisJUE9XRVJfRE9NQUlOX1RSQU5TQ09ERVJfQiwKKwlQT1dFUl9ET01BSU5fVFJBTlNDT0RF
Ul9DLAorCVBPV0VSX0RPTUFJTl9UUkFOU0NPREVSX0VEUCwKKwlQT1dFUl9ET01BSU5fVFJBTlND
T0RFUl9FRFBfVkRTQywKKwlQT1dFUl9ET01BSU5fVFJBTlNDT0RFUl9EU0lfQSwKKwlQT1dFUl9E
T01BSU5fVFJBTlNDT0RFUl9EU0lfQywKKwlQT1dFUl9ET01BSU5fUE9SVF9ERElfQV9MQU5FUywK
KwlQT1dFUl9ET01BSU5fUE9SVF9ERElfQl9MQU5FUywKKwlQT1dFUl9ET01BSU5fUE9SVF9ERElf
Q19MQU5FUywKKwlQT1dFUl9ET01BSU5fUE9SVF9ERElfRF9MQU5FUywKKwlQT1dFUl9ET01BSU5f
UE9SVF9ERElfRV9MQU5FUywKKwlQT1dFUl9ET01BSU5fUE9SVF9ERElfRl9MQU5FUywKKwlQT1dF
Ul9ET01BSU5fUE9SVF9ERElfQV9JTywKKwlQT1dFUl9ET01BSU5fUE9SVF9ERElfQl9JTywKKwlQ
T1dFUl9ET01BSU5fUE9SVF9ERElfQ19JTywKKwlQT1dFUl9ET01BSU5fUE9SVF9ERElfRF9JTywK
KwlQT1dFUl9ET01BSU5fUE9SVF9ERElfRV9JTywKKwlQT1dFUl9ET01BSU5fUE9SVF9ERElfRl9J
TywKKwlQT1dFUl9ET01BSU5fUE9SVF9EU0ksCisJUE9XRVJfRE9NQUlOX1BPUlRfQ1JULAorCVBP
V0VSX0RPTUFJTl9QT1JUX09USEVSLAorCVBPV0VSX0RPTUFJTl9WR0EsCisJUE9XRVJfRE9NQUlO
X0FVRElPLAorCVBPV0VSX0RPTUFJTl9BVVhfQSwKKwlQT1dFUl9ET01BSU5fQVVYX0IsCisJUE9X
RVJfRE9NQUlOX0FVWF9DLAorCVBPV0VSX0RPTUFJTl9BVVhfRCwKKwlQT1dFUl9ET01BSU5fQVVY
X0UsCisJUE9XRVJfRE9NQUlOX0FVWF9GLAorCVBPV0VSX0RPTUFJTl9BVVhfSU9fQSwKKwlQT1dF
Ul9ET01BSU5fQVVYX1RCVDEsCisJUE9XRVJfRE9NQUlOX0FVWF9UQlQyLAorCVBPV0VSX0RPTUFJ
Tl9BVVhfVEJUMywKKwlQT1dFUl9ET01BSU5fQVVYX1RCVDQsCisJUE9XRVJfRE9NQUlOX0dNQlVT
LAorCVBPV0VSX0RPTUFJTl9NT0RFU0VULAorCVBPV0VSX0RPTUFJTl9HVF9JUlEsCisJUE9XRVJf
RE9NQUlOX0lOSVQsCisKKwlQT1dFUl9ET01BSU5fTlVNLAorfTsKKworI2RlZmluZSBQT1dFUl9E
T01BSU5fUElQRShwaXBlKSAoKHBpcGUpICsgUE9XRVJfRE9NQUlOX1BJUEVfQSkKKyNkZWZpbmUg
UE9XRVJfRE9NQUlOX1BJUEVfUEFORUxfRklUVEVSKHBpcGUpIFwKKwkJKChwaXBlKSArIFBPV0VS
X0RPTUFJTl9QSVBFX0FfUEFORUxfRklUVEVSKQorI2RlZmluZSBQT1dFUl9ET01BSU5fVFJBTlND
T0RFUih0cmFuKSBcCisJKCh0cmFuKSA9PSBUUkFOU0NPREVSX0VEUCA/IFBPV0VSX0RPTUFJTl9U
UkFOU0NPREVSX0VEUCA6IFwKKwkgKHRyYW4pICsgUE9XRVJfRE9NQUlOX1RSQU5TQ09ERVJfQSkK
Kworc3RydWN0IGk5MTVfcG93ZXJfd2VsbDsKKworc3RydWN0IGk5MTVfcG93ZXJfd2VsbF9vcHMg
eworCS8qCisJICogU3luY2hyb25pemUgdGhlIHdlbGwncyBodyBzdGF0ZSB0byBtYXRjaCB0aGUg
Y3VycmVudCBzdyBzdGF0ZSwgZm9yCisJICogZXhhbXBsZSBlbmFibGUvZGlzYWJsZSBpdCBiYXNl
ZCBvbiB0aGUgY3VycmVudCByZWZjb3VudC4gQ2FsbGVkCisJICogZHVyaW5nIGRyaXZlciBpbml0
IGFuZCByZXN1bWUgdGltZSwgcG9zc2libHkgYWZ0ZXIgZmlyc3QgY2FsbGluZworCSAqIHRoZSBl
bmFibGUvZGlzYWJsZSBoYW5kbGVycy4KKwkgKi8KKwl2b2lkICgqc3luY19odykoc3RydWN0IGRy
bV9pOTE1X3ByaXZhdGUgKmRldl9wcml2LAorCQkJc3RydWN0IGk5MTVfcG93ZXJfd2VsbCAqcG93
ZXJfd2VsbCk7CisJLyoKKwkgKiBFbmFibGUgdGhlIHdlbGwgYW5kIHJlc291cmNlcyB0aGF0IGRl
cGVuZCBvbiBpdCAoZm9yIGV4YW1wbGUKKwkgKiBpbnRlcnJ1cHRzIGxvY2F0ZWQgb24gdGhlIHdl
bGwpLiBDYWxsZWQgYWZ0ZXIgdGhlIDAtPjEgcmVmY291bnQKKwkgKiB0cmFuc2l0aW9uLgorCSAq
LworCXZvaWQgKCplbmFibGUpKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiwKKwkJ
ICAgICAgIHN0cnVjdCBpOTE1X3Bvd2VyX3dlbGwgKnBvd2VyX3dlbGwpOworCS8qCisJICogRGlz
YWJsZSB0aGUgd2VsbCBhbmQgcmVzb3VyY2VzIHRoYXQgZGVwZW5kIG9uIGl0LiBDYWxsZWQgYWZ0
ZXIKKwkgKiB0aGUgMS0+MCByZWZjb3VudCB0cmFuc2l0aW9uLgorCSAqLworCXZvaWQgKCpkaXNh
YmxlKShzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYsCisJCQlzdHJ1Y3QgaTkxNV9w
b3dlcl93ZWxsICpwb3dlcl93ZWxsKTsKKwkvKiBSZXR1cm5zIHRoZSBodyBlbmFibGVkIHN0YXRl
LiAqLworCWJvb2wgKCppc19lbmFibGVkKShzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3By
aXYsCisJCQkgICBzdHJ1Y3QgaTkxNV9wb3dlcl93ZWxsICpwb3dlcl93ZWxsKTsKK307CisKK3N0
cnVjdCBpOTE1X3Bvd2VyX3dlbGxfcmVncyB7CisJaTkxNV9yZWdfdCBiaW9zOworCWk5MTVfcmVn
X3QgZHJpdmVyOworCWk5MTVfcmVnX3Qga3ZtcjsKKwlpOTE1X3JlZ190IGRlYnVnOworfTsKKwor
LyogUG93ZXIgd2VsbCBzdHJ1Y3R1cmUgZm9yIGhhc3dlbGwgKi8KK3N0cnVjdCBpOTE1X3Bvd2Vy
X3dlbGxfZGVzYyB7CisJY29uc3QgY2hhciAqbmFtZTsKKwlib29sIGFsd2F5c19vbjsKKwl1NjQg
ZG9tYWluczsKKwkvKiB1bmlxdWUgaWRlbnRpZmllciBmb3IgdGhpcyBwb3dlciB3ZWxsICovCisJ
ZW51bSBpOTE1X3Bvd2VyX3dlbGxfaWQgaWQ7CisJLyoKKwkgKiBBcmJpdHJhdHkgZGF0YSBhc3Nv
Y2lhdGVkIHdpdGggdGhpcyBwb3dlciB3ZWxsLiBQbGF0Zm9ybSBhbmQgcG93ZXIKKwkgKiB3ZWxs
IHNwZWNpZmljLgorCSAqLworCXVuaW9uIHsKKwkJc3RydWN0IHsKKwkJCS8qCisJCQkgKiByZXF1
ZXN0L3N0YXR1cyBmbGFnIGluZGV4IGluIHRoZSBQVU5JVCBwb3dlciB3ZWxsCisJCQkgKiBjb250
cm9sL3N0YXR1cyByZWdpc3RlcnMuCisJCQkgKi8KKwkJCXU4IGlkeDsKKwkJfSB2bHY7CisJCXN0
cnVjdCB7CisJCQllbnVtIGRwaW9fcGh5IHBoeTsKKwkJfSBieHQ7CisJCXN0cnVjdCB7CisJCQlj
b25zdCBzdHJ1Y3QgaTkxNV9wb3dlcl93ZWxsX3JlZ3MgKnJlZ3M7CisJCQkvKgorCQkJICogcmVx
dWVzdC9zdGF0dXMgZmxhZyBpbmRleCBpbiB0aGUgcG93ZXIgd2VsbAorCQkJICogY29uc3Ryb2wv
c3RhdHVzIHJlZ2lzdGVycy4KKwkJCSAqLworCQkJdTggaWR4OworCQkJLyogTWFzayBvZiBwaXBl
cyB3aG9zZSBJUlEgbG9naWMgaXMgYmFja2VkIGJ5IHRoZSBwdyAqLworCQkJdTggaXJxX3BpcGVf
bWFzazsKKwkJCS8qIFRoZSBwdyBpcyBiYWNraW5nIHRoZSBWR0EgZnVuY3Rpb25hbGl0eSAqLwor
CQkJYm9vbCBoYXNfdmdhOjE7CisJCQlib29sIGhhc19mdXNlczoxOworCQkJLyoKKwkJCSAqIFRo
ZSBwdyBpcyBmb3IgYW4gSUNMKyBUeXBlQyBQSFkgcG9ydCBpbgorCQkJICogVGh1bmRlcmJvbHQg
bW9kZS4KKwkJCSAqLworCQkJYm9vbCBpc190Y190YnQ6MTsKKwkJfSBoc3c7CisJfTsKKwljb25z
dCBzdHJ1Y3QgaTkxNV9wb3dlcl93ZWxsX29wcyAqb3BzOworfTsKKworc3RydWN0IGk5MTVfcG93
ZXJfd2VsbCB7CisJY29uc3Qgc3RydWN0IGk5MTVfcG93ZXJfd2VsbF9kZXNjICpkZXNjOworCS8q
IHBvd2VyIHdlbGwgZW5hYmxlL2Rpc2FibGUgdXNhZ2UgY291bnQgKi8KKwlpbnQgY291bnQ7CisJ
LyogY2FjaGVkIGh3IGVuYWJsZWQgc3RhdGUgKi8KKwlib29sIGh3X2VuYWJsZWQ7Cit9OworCitz
dHJ1Y3QgaTkxNV9wb3dlcl9kb21haW5zIHsKKwkvKgorCSAqIFBvd2VyIHdlbGxzIG5lZWRlZCBm
b3IgaW5pdGlhbGl6YXRpb24gYXQgZHJpdmVyIGluaXQgYW5kIHN1c3BlbmQKKwkgKiB0aW1lIGFy
ZSBvbi4gVGhleSBhcmUga2VwdCBvbiB1bnRpbCBhZnRlciB0aGUgZmlyc3QgbW9kZXNldC4KKwkg
Ki8KKwlib29sIGluaXRpYWxpemluZzsKKwlib29sIGRpc3BsYXlfY29yZV9zdXNwZW5kZWQ7CisJ
aW50IHBvd2VyX3dlbGxfY291bnQ7CisKKwlpbnRlbF93YWtlcmVmX3Qgd2FrZXJlZjsKKworCXN0
cnVjdCBtdXRleCBsb2NrOworCWludCBkb21haW5fdXNlX2NvdW50W1BPV0VSX0RPTUFJTl9OVU1d
OworCisJc3RydWN0IGRlbGF5ZWRfd29yayBhc3luY19wdXRfd29yazsKKwlpbnRlbF93YWtlcmVm
X3QgYXN5bmNfcHV0X3dha2VyZWY7CisJdTY0IGFzeW5jX3B1dF9kb21haW5zWzJdOworCisJc3Ry
dWN0IGk5MTVfcG93ZXJfd2VsbCAqcG93ZXJfd2VsbHM7Cit9OworCisjZGVmaW5lIGZvcl9lYWNo
X3Bvd2VyX2RvbWFpbihkb21haW4sIG1hc2spCQkJCVwKKwlmb3IgKChkb21haW4pID0gMDsgKGRv
bWFpbikgPCBQT1dFUl9ET01BSU5fTlVNOyAoZG9tYWluKSsrKQlcCisJCWZvcl9lYWNoX2lmKEJJ
VF9VTEwoZG9tYWluKSAmIChtYXNrKSkKKworI2RlZmluZSBmb3JfZWFjaF9wb3dlcl93ZWxsKF9f
ZGV2X3ByaXYsIF9fcG93ZXJfd2VsbCkJCQkJXAorCWZvciAoKF9fcG93ZXJfd2VsbCkgPSAoX19k
ZXZfcHJpdiktPnBvd2VyX2RvbWFpbnMucG93ZXJfd2VsbHM7CVwKKwkgICAgIChfX3Bvd2VyX3dl
bGwpIC0gKF9fZGV2X3ByaXYpLT5wb3dlcl9kb21haW5zLnBvd2VyX3dlbGxzIDwJXAorCQkoX19k
ZXZfcHJpdiktPnBvd2VyX2RvbWFpbnMucG93ZXJfd2VsbF9jb3VudDsJCVwKKwkgICAgIChfX3Bv
d2VyX3dlbGwpKyspCisKKyNkZWZpbmUgZm9yX2VhY2hfcG93ZXJfd2VsbF9yZXZlcnNlKF9fZGV2
X3ByaXYsIF9fcG93ZXJfd2VsbCkJCQlcCisJZm9yICgoX19wb3dlcl93ZWxsKSA9IChfX2Rldl9w
cml2KS0+cG93ZXJfZG9tYWlucy5wb3dlcl93ZWxscyArCQlcCisJCQkgICAgICAoX19kZXZfcHJp
diktPnBvd2VyX2RvbWFpbnMucG93ZXJfd2VsbF9jb3VudCAtIDE7CVwKKwkgICAgIChfX3Bvd2Vy
X3dlbGwpIC0gKF9fZGV2X3ByaXYpLT5wb3dlcl9kb21haW5zLnBvd2VyX3dlbGxzID49IDA7CVwK
KwkgICAgIChfX3Bvd2VyX3dlbGwpLS0pCisKKyNkZWZpbmUgZm9yX2VhY2hfcG93ZXJfZG9tYWlu
X3dlbGwoX19kZXZfcHJpdiwgX19wb3dlcl93ZWxsLCBfX2RvbWFpbl9tYXNrKQlcCisJZm9yX2Vh
Y2hfcG93ZXJfd2VsbChfX2Rldl9wcml2LCBfX3Bvd2VyX3dlbGwpCQkJCVwKKwkJZm9yX2VhY2hf
aWYoKF9fcG93ZXJfd2VsbCktPmRlc2MtPmRvbWFpbnMgJiAoX19kb21haW5fbWFzaykpCisKKyNk
ZWZpbmUgZm9yX2VhY2hfcG93ZXJfZG9tYWluX3dlbGxfcmV2ZXJzZShfX2Rldl9wcml2LCBfX3Bv
d2VyX3dlbGwsIF9fZG9tYWluX21hc2spIFwKKwlmb3JfZWFjaF9wb3dlcl93ZWxsX3JldmVyc2Uo
X19kZXZfcHJpdiwgX19wb3dlcl93ZWxsKQkJICAgICAgICBcCisJCWZvcl9lYWNoX2lmKChfX3Bv
d2VyX3dlbGwpLT5kZXNjLT5kb21haW5zICYgKF9fZG9tYWluX21hc2spKQorCiB2b2lkIHNrbF9l
bmFibGVfZGM2KHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdik7CiB2b2lkIGdlbjlf
c2FuaXRpemVfZGNfc3RhdGUoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2KTsKIHZv
aWQgYnh0X2VuYWJsZV9kYzkoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2KTsKLS0g
CjIuMjAuMQoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18K
SW50ZWwtZ2Z4IG1haWxpbmcgbGlzdApJbnRlbC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0
dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vaW50ZWwtZ2Z4

Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id A475FBB247
	for <lists+intel-gfx@lfdr.de>; Mon, 23 Sep 2019 12:32:49 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 970D86E865;
	Mon, 23 Sep 2019 10:32:47 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from fireflyinternet.com (mail.fireflyinternet.com [109.228.58.192])
 by gabe.freedesktop.org (Postfix) with ESMTPS id EBC276E865
 for <intel-gfx@lists.freedesktop.org>; Mon, 23 Sep 2019 10:32:45 +0000 (UTC)
X-Default-Received-SPF: pass (skip=forwardok (res=PASS))
 x-ip-name=78.156.65.138; 
Received: from haswell.alporthouse.com (unverified [78.156.65.138]) 
 by fireflyinternet.com (Firefly Internet (M1)) with ESMTP id 18584777-1500050 
 for multiple; Mon, 23 Sep 2019 11:32:35 +0100
From: Chris Wilson <chris@chris-wilson.co.uk>
To: intel-gfx@lists.freedesktop.org
Date: Mon, 23 Sep 2019 11:32:31 +0100
Message-Id: <20190923103231.27025-1-chris@chris-wilson.co.uk>
X-Mailer: git-send-email 2.23.0
In-Reply-To: <20190921095542.23205-2-chris@chris-wilson.co.uk>
References: <20190921095542.23205-2-chris@chris-wilson.co.uk>
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH v2] drm/i915: Only enqueue already completed
 requests
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

SWYgd2UgYXJlIGFza2VkIHRvIHN1Ym1pdCBhIGNvbXBsZXRlZCByZXF1ZXN0LCBqdXN0IG1vdmUg
aXQgb250byB0aGUKYWN0aXZlLWxpc3Qgd2l0aG91dCBtb2RpZnlpbmcgaXQncyBwYXlsb2FkLiBJ
ZiB3ZSB0cnkgdG8gZW1pdCB0aGUKbW9kaWZpZWQgcGF5bG9hZCBvZiBhIGNvbXBsZXRlZCByZXF1
ZXN0LCB3ZSByaXNrIHJhY2luZyB3aXRoIHRoZQpyaW5nLT5oZWFkIHVwZGF0ZSBkdXJpbmcgcmV0
aXJlbWVudCB3aGljaCBtYXkgYWR2YW5jZSB0aGUgaGVhZCBwYXN0IG91cgpicmVhZGNydW1iIGFu
ZCBzbyB3ZSBnZW5lcmF0ZSBhIHdhcm5pbmcgZm9yIHRoZSBlbWlzc2lvbiBiZWluZyBiZWhpbmQK
dGhlIFJJTkdfSEVBRC4KCnYyOiBDb21tZW50YXJ5IGZvciB0aGUgc25lYWt5LCBzaGFyZWQgcmVz
cG9uc2liaWxpdHkgYmV0d2VlbiBmdW5jdGlvbnMuCgpTaWduZWQtb2ZmLWJ5OiBDaHJpcyBXaWxz
b24gPGNocmlzQGNocmlzLXdpbHNvbi5jby51az4KQ2M6IFR2cnRrbyBVcnN1bGluIDx0dnJ0a28u
dXJzdWxpbkBpbnRlbC5jb20+Ci0tLQogZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfbHJj
LmMgfCA2MCArKysrKysrKysrKysrKysrKy0tLS0tLS0tLS0tLQogZHJpdmVycy9ncHUvZHJtL2k5
MTUvaTkxNV9yZXF1ZXN0LmMgfCA0NCArKysrKysrKysrKysrKystLS0tLS0KIGRyaXZlcnMvZ3B1
L2RybS9pOTE1L2k5MTVfcmVxdWVzdC5oIHwgIDIgKy0KIDMgZmlsZXMgY2hhbmdlZCwgNjggaW5z
ZXJ0aW9ucygrKSwgMzggZGVsZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJt
L2k5MTUvZ3QvaW50ZWxfbHJjLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9scmMu
YwppbmRleCAwYTQ4MTJlYmQxODQuLjhjMWVhNWMzMTVhYyAxMDA2NDQKLS0tIGEvZHJpdmVycy9n
cHUvZHJtL2k5MTUvZ3QvaW50ZWxfbHJjLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3Qv
aW50ZWxfbHJjLmMKQEAgLTc5OSw2ICs3OTksMTcgQEAgc3RhdGljIGJvb2wgY2FuX21lcmdlX3Jx
KGNvbnN0IHN0cnVjdCBpOTE1X3JlcXVlc3QgKnByZXYsCiAJR0VNX0JVR19PTihwcmV2ID09IG5l
eHQpOwogCUdFTV9CVUdfT04oIWFzc2VydF9wcmlvcml0eV9xdWV1ZShwcmV2LCBuZXh0KSk7CiAK
KwkvKgorCSAqIFdlIG5vdCBzdWJtaXQga25vd24gY29tcGxldGVkIHJlcXVlc3RzLiBUaGVyZWZv
cmUgaWYgdGhlIG5leHQKKwkgKiByZXF1ZXN0IGlzIGFscmVhZHkgY29tcGxldGVkLCB3ZSBjYW4g
cHJldGVuZCB0byBtZXJnZSBpdCBpbgorCSAqIHdpdGggdGhlIHByZXZpb3VzIGNvbnRleHQgKGFu
ZCB3ZSB3aWxsIHNraXAgdXBkYXRpbmcgdGhlIEVMU1AKKwkgKiBhbmQgdHJhY2tpbmcpLiBUaHVz
IGhvcGVmdWxseSBrZWVwaW5nIHRoZSBFTFNQIGZ1bGwgd2l0aCBhY3RpdmUKKwkgKiBjb250ZXh0
cywgZGVzcGl0ZSB0aGUgYmVzdCBlZmZvcnRzIG9mIHByZWVtcHQtdG8tYnVzeSB0byBjb25mdXNl
CisJICogdXMuCisJICovCisJaWYgKGk5MTVfcmVxdWVzdF9jb21wbGV0ZWQobmV4dCkpCisJCXJl
dHVybiB0cnVlOworCiAJaWYgKCFjYW5fbWVyZ2VfY3R4KHByZXYtPmh3X2NvbnRleHQsIG5leHQt
Pmh3X2NvbnRleHQpKQogCQlyZXR1cm4gZmFsc2U7CiAKQEAgLTExODEsMjEgKzExOTIsNiBAQCBz
dGF0aWMgdm9pZCBleGVjbGlzdHNfZGVxdWV1ZShzdHJ1Y3QgaW50ZWxfZW5naW5lX2NzICplbmdp
bmUpCiAJCQkJY29udGludWU7CiAJCQl9CiAKLQkJCWlmIChpOTE1X3JlcXVlc3RfY29tcGxldGVk
KHJxKSkgewotCQkJCXZlLT5yZXF1ZXN0ID0gTlVMTDsKLQkJCQl2ZS0+YmFzZS5leGVjbGlzdHMu
cXVldWVfcHJpb3JpdHlfaGludCA9IElOVF9NSU47Ci0JCQkJcmJfZXJhc2VfY2FjaGVkKHJiLCAm
ZXhlY2xpc3RzLT52aXJ0dWFsKTsKLQkJCQlSQl9DTEVBUl9OT0RFKHJiKTsKLQotCQkJCXJxLT5l
bmdpbmUgPSBlbmdpbmU7Ci0JCQkJX19pOTE1X3JlcXVlc3Rfc3VibWl0KHJxKTsKLQotCQkJCXNw
aW5fdW5sb2NrKCZ2ZS0+YmFzZS5hY3RpdmUubG9jayk7Ci0KLQkJCQlyYiA9IHJiX2ZpcnN0X2Nh
Y2hlZCgmZXhlY2xpc3RzLT52aXJ0dWFsKTsKLQkJCQljb250aW51ZTsKLQkJCX0KLQogCQkJaWYg
KGxhc3QgJiYgIWNhbl9tZXJnZV9ycShsYXN0LCBycSkpIHsKIAkJCQlzcGluX3VubG9jaygmdmUt
PmJhc2UuYWN0aXZlLmxvY2spOwogCQkJCXJldHVybjsgLyogbGVhdmUgdGhpcyBmb3IgYW5vdGhl
ciAqLwpAQCAtMTI0OSwxMSArMTI0NSwyMyBAQCBzdGF0aWMgdm9pZCBleGVjbGlzdHNfZGVxdWV1
ZShzdHJ1Y3QgaW50ZWxfZW5naW5lX2NzICplbmdpbmUpCiAJCQkJR0VNX0JVR19PTih2ZS0+c2li
bGluZ3NbMF0gIT0gZW5naW5lKTsKIAkJCX0KIAotCQkJX19pOTE1X3JlcXVlc3Rfc3VibWl0KHJx
KTsKLQkJCWlmICghaTkxNV9yZXF1ZXN0X2NvbXBsZXRlZChycSkpIHsKKwkJCWlmIChfX2k5MTVf
cmVxdWVzdF9zdWJtaXQocnEpKSB7CiAJCQkJc3VibWl0ID0gdHJ1ZTsKIAkJCQlsYXN0ID0gcnE7
CiAJCQl9CisKKwkJCS8qCisJCQkgKiBIbW0sIHdlIGhhdmUgYSBidW5jaCBvZiB2aXJ0dWFsIGVu
Z2luZSByZXF1ZXN0cywKKwkJCSAqIGJ1dCB0aGUgZmlyc3Qgb25lIHdhcyBhbHJlYWR5IGNvbXBs
ZXRlICh0aGFua3MKKwkJCSAqIHByZWVtcHQtdG8tYnVzeSEpLiBLZWVwIGxvb2tpbmcgYXQgdGhl
IHZlbmcgcXVldWUKKwkJCSAqIHVudGlsIHdlIGhhdmUgbm8gbW9yZSByZWxldmVudCByZXF1ZXN0
cyAoaS5lLgorCQkJICogdGhlIG5vcm1hbCBzdWJtaXQgcXVldWUgaGFzIGhpZ2hlciBwcmlvcml0
eSkuCisJCQkgKi8KKwkJCWlmICghc3VibWl0KSB7CisJCQkJc3Bpbl91bmxvY2soJnZlLT5iYXNl
LmFjdGl2ZS5sb2NrKTsKKwkJCQlyYiA9IHJiX2ZpcnN0X2NhY2hlZCgmZXhlY2xpc3RzLT52aXJ0
dWFsKTsKKwkJCQljb250aW51ZTsKKwkJCX0KIAkJfQogCiAJCXNwaW5fdW5sb2NrKCZ2ZS0+YmFz
ZS5hY3RpdmUubG9jayk7CkBAIC0xMjY2LDggKzEyNzQsNyBAQCBzdGF0aWMgdm9pZCBleGVjbGlz
dHNfZGVxdWV1ZShzdHJ1Y3QgaW50ZWxfZW5naW5lX2NzICplbmdpbmUpCiAJCWludCBpOwogCiAJ
CXByaW9saXN0X2Zvcl9lYWNoX3JlcXVlc3RfY29uc3VtZShycSwgcm4sIHAsIGkpIHsKLQkJCWlm
IChpOTE1X3JlcXVlc3RfY29tcGxldGVkKHJxKSkKLQkJCQlnb3RvIHNraXA7CisJCQlib29sIG1l
cmdlID0gdHJ1ZTsKIAogCQkJLyoKIAkJCSAqIENhbiB3ZSBjb21iaW5lIHRoaXMgcmVxdWVzdCB3
aXRoIHRoZSBjdXJyZW50IHBvcnQ/CkBAIC0xMzA4LDE0ICsxMzE1LDE3IEBAIHN0YXRpYyB2b2lk
IGV4ZWNsaXN0c19kZXF1ZXVlKHN0cnVjdCBpbnRlbF9lbmdpbmVfY3MgKmVuZ2luZSkKIAkJCQkg
ICAgY3R4X3NpbmdsZV9wb3J0X3N1Ym1pc3Npb24ocnEtPmh3X2NvbnRleHQpKQogCQkJCQlnb3Rv
IGRvbmU7CiAKLQkJCQkqcG9ydCA9IGV4ZWNsaXN0c19zY2hlZHVsZV9pbihsYXN0LCBwb3J0IC0g
ZXhlY2xpc3RzLT5wZW5kaW5nKTsKLQkJCQlwb3J0Kys7CisJCQkJbWVyZ2UgPSBmYWxzZTsKIAkJ
CX0KIAotCQkJbGFzdCA9IHJxOwotCQkJc3VibWl0ID0gdHJ1ZTsKLXNraXA6Ci0JCQlfX2k5MTVf
cmVxdWVzdF9zdWJtaXQocnEpOworCQkJaWYgKF9faTkxNV9yZXF1ZXN0X3N1Ym1pdChycSkpIHsK
KwkJCQlpZiAoIW1lcmdlKSB7CisJCQkJCSpwb3J0ID0gZXhlY2xpc3RzX3NjaGVkdWxlX2luKGxh
c3QsIHBvcnQgLSBleGVjbGlzdHMtPnBlbmRpbmcpOworCQkJCQlwb3J0Kys7CisJCQkJfQorCQkJ
CXN1Ym1pdCA9IHRydWU7CisJCQkJbGFzdCA9IHJxOworCQkJfQogCQl9CiAKIAkJcmJfZXJhc2Vf
Y2FjaGVkKCZwLT5ub2RlLCAmZXhlY2xpc3RzLT5xdWV1ZSk7CmRpZmYgLS1naXQgYS9kcml2ZXJz
L2dwdS9kcm0vaTkxNS9pOTE1X3JlcXVlc3QuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVf
cmVxdWVzdC5jCmluZGV4IDliZDg1MzhiMTkwNy4uMGNhNDNjYTE1Y2EwIDEwMDY0NAotLS0gYS9k
cml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3JlcXVlc3QuYworKysgYi9kcml2ZXJzL2dwdS9kcm0v
aTkxNS9pOTE1X3JlcXVlc3QuYwpAQCAtMzc3LDkgKzM3NywxMCBAQCBfX2k5MTVfcmVxdWVzdF9h
d2FpdF9leGVjdXRpb24oc3RydWN0IGk5MTVfcmVxdWVzdCAqcnEsCiAJcmV0dXJuIDA7CiB9CiAK
LXZvaWQgX19pOTE1X3JlcXVlc3Rfc3VibWl0KHN0cnVjdCBpOTE1X3JlcXVlc3QgKnJlcXVlc3Qp
Citib29sIF9faTkxNV9yZXF1ZXN0X3N1Ym1pdChzdHJ1Y3QgaTkxNV9yZXF1ZXN0ICpyZXF1ZXN0
KQogewogCXN0cnVjdCBpbnRlbF9lbmdpbmVfY3MgKmVuZ2luZSA9IHJlcXVlc3QtPmVuZ2luZTsK
Kwlib29sIHJlc3VsdCA9IGZhbHNlOwogCiAJR0VNX1RSQUNFKCIlcyBmZW5jZSAlbGx4OiVsbGQs
IGN1cnJlbnQgJWRcbiIsCiAJCSAgZW5naW5lLT5uYW1lLApAQCAtMzg5LDYgKzM5MCwyNSBAQCB2
b2lkIF9faTkxNV9yZXF1ZXN0X3N1Ym1pdChzdHJ1Y3QgaTkxNV9yZXF1ZXN0ICpyZXF1ZXN0KQog
CUdFTV9CVUdfT04oIWlycXNfZGlzYWJsZWQoKSk7CiAJbG9ja2RlcF9hc3NlcnRfaGVsZCgmZW5n
aW5lLT5hY3RpdmUubG9jayk7CiAKKwkvKgorCSAqIFdpdGggdGhlIGFkdmVudCBvZiBwcmVlbXB0
LXRvLWJ1c3ksIHdlIGZyZXF1ZW50bHkgZW5jb3VudGVyCisJICogcmVxdWVzdHMgdGhhdCB3ZSBo
YXZlIHVuc3VibWl0dGVkIGZyb20gSFcsIGJ1dCBsZWZ0IHJ1bm5pbmcKKwkgKiB1bnRpbCB0aGUg
bmV4dCBhY2sgYW5kIGhhdmUgY29tcGxldGVkIGluIHRoZSBtZWFudGltZS4gT24KKwkgKiByZXN1
Ym1pc3Npb24gb2YgdGhhdCBjb21wbGV0ZWQgcmVxdWVzdCwgd2UgY2FuIHNraXAKKwkgKiB1cGRh
dGluZyB0aGUgcGF5bG9hZCAoYW5kIGV4ZWNsaXN0cyBjYW4gZXZlbiBza2lwIHN1Ym1pdHRpbmcK
KwkgKiB0aGUgcmVxdWVzdCkuCisJICoKKwkgKiBXZSBtdXN0IHJlbW92ZSB0aGUgcmVxdWVzdCBm
cm9tIHRoZSBjYWxsZXIncyBwcmlvcml0eSBxdWV1ZSwKKwkgKiBhbmQgdGhlIGNhbGxlciBtdXN0
IG9ubHkgY2FsbCB1cyB3aGVuIHRoZSByZXF1ZXN0IGlzIGluIHRoZWlyCisJICogcHJpb3JpdHkg
cXVldWUsIHVuZGVyIHRoZSBhY3RpdmUubG9jay4gVGhpcyBlbnN1cmVzIHRoYXQgdGhlCisJICog
cmVxdWVzdCBoYXMgKm5vdCogeWV0IGJlZW4gcmV0aXJlZCBhbmQgd2UgY2FuIHNhZmVseSBtb3Zl
CisJICogdGhlIHJlcXVlc3QgaW50byB0aGUgZW5naW5lLT5hY3RpdmUubGlzdCB3aGVyZSBpdCB3
aWxsIGJlCisJICogZHJvcHBlZCB1cG9uIHJldGlyaW5nLiAoT3RoZXJ3aXNlIGlmIHJlc3VibWl0
IGEgKnJldGlyZWQqCisJICogcmVxdWVzdCwgdGhpcyB3b3VsZCBiZSBhIGhvcnJpYmxlIHVzZS1h
ZnRlci1mcmVlLikKKwkgKi8KKwlpZiAoaTkxNV9yZXF1ZXN0X2NvbXBsZXRlZChyZXF1ZXN0KSkK
KwkJZ290byB4ZmVyOworCiAJaWYgKGk5MTVfZ2VtX2NvbnRleHRfaXNfYmFubmVkKHJlcXVlc3Qt
PmdlbV9jb250ZXh0KSkKIAkJaTkxNV9yZXF1ZXN0X3NraXAocmVxdWVzdCwgLUVJTyk7CiAKQEAg
LTQxMiwxMyArNDMyLDE4IEBAIHZvaWQgX19pOTE1X3JlcXVlc3Rfc3VibWl0KHN0cnVjdCBpOTE1
X3JlcXVlc3QgKnJlcXVlc3QpCiAJICAgIGk5MTVfc3dfZmVuY2Vfc2lnbmFsZWQoJnJlcXVlc3Qt
PnNlbWFwaG9yZSkpCiAJCWVuZ2luZS0+c2F0dXJhdGVkIHw9IHJlcXVlc3QtPnNjaGVkLnNlbWFw
aG9yZXM7CiAKLQkvKiBXZSBtYXkgYmUgcmVjdXJzaW5nIGZyb20gdGhlIHNpZ25hbCBjYWxsYmFj
ayBvZiBhbm90aGVyIGk5MTUgZmVuY2UgKi8KLQlzcGluX2xvY2tfbmVzdGVkKCZyZXF1ZXN0LT5s
b2NrLCBTSU5HTEVfREVQVEhfTkVTVElORyk7CisJZW5naW5lLT5lbWl0X2ZpbmlfYnJlYWRjcnVt
YihyZXF1ZXN0LAorCQkJCSAgICAgcmVxdWVzdC0+cmluZy0+dmFkZHIgKyByZXF1ZXN0LT5wb3N0
Zml4KTsKKworCXRyYWNlX2k5MTVfcmVxdWVzdF9leGVjdXRlKHJlcXVlc3QpOworCWVuZ2luZS0+
c2VyaWFsKys7CisJcmVzdWx0ID0gdHJ1ZTsKIAotCWxpc3RfbW92ZV90YWlsKCZyZXF1ZXN0LT5z
Y2hlZC5saW5rLCAmZW5naW5lLT5hY3RpdmUucmVxdWVzdHMpOworeGZlcjoJLyogV2UgbWF5IGJl
IHJlY3Vyc2luZyBmcm9tIHRoZSBzaWduYWwgY2FsbGJhY2sgb2YgYW5vdGhlciBpOTE1IGZlbmNl
ICovCisJc3Bpbl9sb2NrX25lc3RlZCgmcmVxdWVzdC0+bG9jaywgU0lOR0xFX0RFUFRIX05FU1RJ
TkcpOwogCi0JR0VNX0JVR19PTih0ZXN0X2JpdChJOTE1X0ZFTkNFX0ZMQUdfQUNUSVZFLCAmcmVx
dWVzdC0+ZmVuY2UuZmxhZ3MpKTsKLQlzZXRfYml0KEk5MTVfRkVOQ0VfRkxBR19BQ1RJVkUsICZy
ZXF1ZXN0LT5mZW5jZS5mbGFncyk7CisJaWYgKCF0ZXN0X2FuZF9zZXRfYml0KEk5MTVfRkVOQ0Vf
RkxBR19BQ1RJVkUsICZyZXF1ZXN0LT5mZW5jZS5mbGFncykpCisJCWxpc3RfbW92ZV90YWlsKCZy
ZXF1ZXN0LT5zY2hlZC5saW5rLCAmZW5naW5lLT5hY3RpdmUucmVxdWVzdHMpOwogCiAJaWYgKHRl
c3RfYml0KERNQV9GRU5DRV9GTEFHX0VOQUJMRV9TSUdOQUxfQklULCAmcmVxdWVzdC0+ZmVuY2Uu
ZmxhZ3MpICYmCiAJICAgICF0ZXN0X2JpdChETUFfRkVOQ0VfRkxBR19TSUdOQUxFRF9CSVQsICZy
ZXF1ZXN0LT5mZW5jZS5mbGFncykgJiYKQEAgLTQyOSwxMiArNDU0LDcgQEAgdm9pZCBfX2k5MTVf
cmVxdWVzdF9zdWJtaXQoc3RydWN0IGk5MTVfcmVxdWVzdCAqcmVxdWVzdCkKIAogCXNwaW5fdW5s
b2NrKCZyZXF1ZXN0LT5sb2NrKTsKIAotCWVuZ2luZS0+ZW1pdF9maW5pX2JyZWFkY3J1bWIocmVx
dWVzdCwKLQkJCQkgICAgIHJlcXVlc3QtPnJpbmctPnZhZGRyICsgcmVxdWVzdC0+cG9zdGZpeCk7
Ci0KLQllbmdpbmUtPnNlcmlhbCsrOwotCi0JdHJhY2VfaTkxNV9yZXF1ZXN0X2V4ZWN1dGUocmVx
dWVzdCk7CisJcmV0dXJuIHJlc3VsdDsKIH0KIAogdm9pZCBpOTE1X3JlcXVlc3Rfc3VibWl0KHN0
cnVjdCBpOTE1X3JlcXVlc3QgKnJlcXVlc3QpCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0v
aTkxNS9pOTE1X3JlcXVlc3QuaCBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfcmVxdWVzdC5o
CmluZGV4IGIxOGY0OTUyOGRlZC4uZWM1YmI0YzJlNWFlIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dw
dS9kcm0vaTkxNS9pOTE1X3JlcXVlc3QuaAorKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1
X3JlcXVlc3QuaApAQCAtMjkyLDcgKzI5Miw3IEBAIGludCBpOTE1X3JlcXVlc3RfYXdhaXRfZXhl
Y3V0aW9uKHN0cnVjdCBpOTE1X3JlcXVlc3QgKnJxLAogCiB2b2lkIGk5MTVfcmVxdWVzdF9hZGQo
c3RydWN0IGk5MTVfcmVxdWVzdCAqcnEpOwogCi12b2lkIF9faTkxNV9yZXF1ZXN0X3N1Ym1pdChz
dHJ1Y3QgaTkxNV9yZXF1ZXN0ICpyZXF1ZXN0KTsKK2Jvb2wgX19pOTE1X3JlcXVlc3Rfc3VibWl0
KHN0cnVjdCBpOTE1X3JlcXVlc3QgKnJlcXVlc3QpOwogdm9pZCBpOTE1X3JlcXVlc3Rfc3VibWl0
KHN0cnVjdCBpOTE1X3JlcXVlc3QgKnJlcXVlc3QpOwogCiB2b2lkIGk5MTVfcmVxdWVzdF9za2lw
KHN0cnVjdCBpOTE1X3JlcXVlc3QgKnJlcXVlc3QsIGludCBlcnJvcik7Ci0tIAoyLjIzLjAKCl9f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCkludGVsLWdmeCBt
YWlsaW5nIGxpc3QKSW50ZWwtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3Rz
LmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2ludGVsLWdmeA==

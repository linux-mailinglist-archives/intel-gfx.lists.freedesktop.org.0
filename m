Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id C5AC5380358
	for <lists+intel-gfx@lfdr.de>; Fri, 14 May 2021 07:25:50 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 4CE3F8970B;
	Fri, 14 May 2021 05:25:47 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga12.intel.com (mga12.intel.com [192.55.52.136])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 1A69D8970B
 for <intel-gfx@lists.freedesktop.org>; Fri, 14 May 2021 05:25:43 +0000 (UTC)
IronPort-SDR: VT7bZghS4S83IMbxaGSkepbWRaafk+j/eXRVyQSB9ezzlUSy5VsHNDpNHrdXQG1lhTnlFEmdkf
 UaxziBdGDZZA==
X-IronPort-AV: E=McAfee;i="6200,9189,9983"; a="179714750"
X-IronPort-AV: E=Sophos;i="5.82,299,1613462400"; d="scan'208";a="179714750"
Received: from fmsmga005.fm.intel.com ([10.253.24.32])
 by fmsmga106.fm.intel.com with ESMTP/TLS/ECDHE-RSA-AES256-GCM-SHA384;
 13 May 2021 22:25:43 -0700
IronPort-SDR: prFJbIEOZ1f9ngZ+sCi+5l9tMLkra7CQtkfIILmw5/eYounZD3lnMYBwBvgqrTnDPk8QXqRg/7
 Ld6jvH3RaOSA==
X-IronPort-AV: E=Sophos;i="5.82,299,1613462400"; d="scan'208";a="626679108"
Received: from thoang1-mobl.amr.corp.intel.com (HELO josouza-mobl2.intel.com)
 ([10.254.1.122])
 by fmsmga005-auth.fm.intel.com with ESMTP/TLS/ECDHE-RSA-AES256-GCM-SHA384;
 13 May 2021 22:25:43 -0700
From: =?UTF-8?q?Jos=C3=A9=20Roberto=20de=20Souza?= <jose.souza@intel.com>
To: intel-gfx@lists.freedesktop.org
Date: Thu, 13 May 2021 22:28:40 -0700
Message-Id: <20210514052843.9456-1-jose.souza@intel.com>
X-Mailer: git-send-email 2.31.1
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH 1/4] drm/i915/display: Nuke has_infoframe
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

VGhpcyB3YXMgb25seSByZWR1bnRhbnQgaW5mb3JtYXRpb24gaGFzX2hkbWlfc2luayBjYW4gZG8g
dGhlIHNhbWUgam9iLgpzZXRfaW5mb2ZyYW1lcygpIGhvb2tzIHdpbGwgY2FsbCBpbnRlbF93cml0
ZV9pbmZvZnJhbWUoKSBmb3IgdGhlCnN1cHBvcnRlZCBpbmZvZnJhbWVzIHR5cGVzIGFuZCBpdCB3
aWxsIG9ubHkgYmUgZW5hYmxlZCBpZiBnaXZlbiB0eXBlCmlzIHNldCBpbiBjcnRjX3N0YXRlLT5p
bmZvZnJhbWVzLmVuYWJsZS4KCkNjOiBWaWxsZSBTeXJqw6Rsw6QgPHZpbGxlLnN5cmphbGFAbGlu
dXguaW50ZWwuY29tPgpTaWduZWQtb2ZmLWJ5OiBKb3PDqSBSb2JlcnRvIGRlIFNvdXphIDxqb3Nl
LnNvdXphQGludGVsLmNvbT4KLS0tCiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2c0eF9o
ZG1pLmMgICAgICAgfCAyMiArKysrKystLS0tLS0tLS0tLS0tCiBkcml2ZXJzL2dwdS9kcm0vaTkx
NS9kaXNwbGF5L2ludGVsX2RkaS5jICAgICAgfCAxNyArKysrKy0tLS0tLS0tLQogZHJpdmVycy9n
cHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5LmMgIHwgIDYgKystLS0KIC4uLi9kcm0v
aTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXlfdHlwZXMuaCAgICB8ICAzIC0tLQogZHJpdmVycy9n
cHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kcF9tc3QuYyAgIHwgIDQgKystLQogZHJpdmVycy9n
cHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9oZG1pLmMgICAgIHwgMTMgKysrKystLS0tLS0KIDYg
ZmlsZXMgY2hhbmdlZCwgMjIgaW5zZXJ0aW9ucygrKSwgNDMgZGVsZXRpb25zKC0pCgpkaWZmIC0t
Z2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9nNHhfaGRtaS5jIGIvZHJpdmVycy9n
cHUvZHJtL2k5MTUvZGlzcGxheS9nNHhfaGRtaS5jCmluZGV4IGJlMzUyZTlmMGFmYy4uZjM1ZGI5
NmU2MjM5IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2c0eF9oZG1p
LmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9nNHhfaGRtaS5jCkBAIC0xMDUs
OSArMTA1LDYgQEAgc3RhdGljIHZvaWQgaW50ZWxfaGRtaV9nZXRfY29uZmlnKHN0cnVjdCBpbnRl
bF9lbmNvZGVyICplbmNvZGVyLAogCXBpcGVfY29uZmlnLT5pbmZvZnJhbWVzLmVuYWJsZSB8PQog
CQlpbnRlbF9oZG1pX2luZm9mcmFtZXNfZW5hYmxlZChlbmNvZGVyLCBwaXBlX2NvbmZpZyk7CiAK
LQlpZiAocGlwZV9jb25maWctPmluZm9mcmFtZXMuZW5hYmxlKQotCQlwaXBlX2NvbmZpZy0+aGFz
X2luZm9mcmFtZSA9IHRydWU7Ci0KIAlpZiAodG1wICYgSERNSV9BVURJT19FTkFCTEUpCiAJCXBp
cGVfY29uZmlnLT5oYXNfYXVkaW8gPSB0cnVlOwogCkBAIC0zNDMsOSArMzQwLDcgQEAgc3RhdGlj
IHZvaWQgaW50ZWxfZGlzYWJsZV9oZG1pKHN0cnVjdCBpbnRlbF9hdG9taWNfc3RhdGUgKnN0YXRl
LAogCQlpbnRlbF9zZXRfcGNoX2ZpZm9fdW5kZXJydW5fcmVwb3J0aW5nKGRldl9wcml2LCBQSVBF
X0EsIHRydWUpOwogCX0KIAotCWRpZ19wb3J0LT5zZXRfaW5mb2ZyYW1lcyhlbmNvZGVyLAotCQkJ
CSAgICAgICBmYWxzZSwKLQkJCQkgICAgICAgb2xkX2NydGNfc3RhdGUsIG9sZF9jb25uX3N0YXRl
KTsKKwlkaWdfcG9ydC0+c2V0X2luZm9mcmFtZXMoZW5jb2RlciwgZmFsc2UsIG9sZF9jcnRjX3N0
YXRlLCBvbGRfY29ubl9zdGF0ZSk7CiAKIAlpbnRlbF9kcF9kdWFsX21vZGVfc2V0X3RtZHNfb3V0
cHV0KGludGVsX2hkbWksIGZhbHNlKTsKIH0KQEAgLTM5MCw5ICszODUsOCBAQCBzdGF0aWMgdm9p
ZCBpbnRlbF9oZG1pX3ByZV9lbmFibGUoc3RydWN0IGludGVsX2F0b21pY19zdGF0ZSAqc3RhdGUs
CiAKIAlpbnRlbF9oZG1pX3ByZXBhcmUoZW5jb2RlciwgcGlwZV9jb25maWcpOwogCi0JZGlnX3Bv
cnQtPnNldF9pbmZvZnJhbWVzKGVuY29kZXIsCi0JCQkJICAgICAgIHBpcGVfY29uZmlnLT5oYXNf
aW5mb2ZyYW1lLAotCQkJCSAgICAgICBwaXBlX2NvbmZpZywgY29ubl9zdGF0ZSk7CisJZGlnX3Bv
cnQtPnNldF9pbmZvZnJhbWVzKGVuY29kZXIsIHBpcGVfY29uZmlnLT5oYXNfaGRtaV9zaW5rLAor
CQkJCSBwaXBlX2NvbmZpZywgY29ubl9zdGF0ZSk7CiB9CiAKIHN0YXRpYyB2b2lkIHZsdl9oZG1p
X3ByZV9lbmFibGUoc3RydWN0IGludGVsX2F0b21pY19zdGF0ZSAqc3RhdGUsCkBAIC00MTAsOSAr
NDA0LDggQEAgc3RhdGljIHZvaWQgdmx2X2hkbWlfcHJlX2VuYWJsZShzdHJ1Y3QgaW50ZWxfYXRv
bWljX3N0YXRlICpzdGF0ZSwKIAkJCQkgMHgyYjI0NWY1ZiwgMHgwMDAwMjAwMCwKIAkJCQkgMHg1
NTc4YjgzYSwgMHgyYjI0Nzg3OCk7CiAKLQlkaWdfcG9ydC0+c2V0X2luZm9mcmFtZXMoZW5jb2Rl
ciwKLQkJCSAgICAgIHBpcGVfY29uZmlnLT5oYXNfaW5mb2ZyYW1lLAotCQkJICAgICAgcGlwZV9j
b25maWcsIGNvbm5fc3RhdGUpOworCWRpZ19wb3J0LT5zZXRfaW5mb2ZyYW1lcyhlbmNvZGVyLCBw
aXBlX2NvbmZpZy0+aGFzX2hkbWlfc2luaywKKwkJCQkgcGlwZV9jb25maWcsIGNvbm5fc3RhdGUp
OwogCiAJZzR4X2VuYWJsZV9oZG1pKHN0YXRlLCBlbmNvZGVyLCBwaXBlX2NvbmZpZywgY29ubl9z
dGF0ZSk7CiAKQEAgLTQ4Nyw5ICs0ODAsOCBAQCBzdGF0aWMgdm9pZCBjaHZfaGRtaV9wcmVfZW5h
YmxlKHN0cnVjdCBpbnRlbF9hdG9taWNfc3RhdGUgKnN0YXRlLAogCS8qIFVzZSA4MDBtVi0wZEIg
Ki8KIAljaHZfc2V0X3BoeV9zaWduYWxfbGV2ZWwoZW5jb2RlciwgcGlwZV9jb25maWcsIDEyOCwg
MTAyLCBmYWxzZSk7CiAKLQlkaWdfcG9ydC0+c2V0X2luZm9mcmFtZXMoZW5jb2RlciwKLQkJCSAg
ICAgIHBpcGVfY29uZmlnLT5oYXNfaW5mb2ZyYW1lLAotCQkJICAgICAgcGlwZV9jb25maWcsIGNv
bm5fc3RhdGUpOworCWRpZ19wb3J0LT5zZXRfaW5mb2ZyYW1lcyhlbmNvZGVyLCBwaXBlX2NvbmZp
Zy0+aGFzX2hkbWlfc2luaywKKwkJCQkgcGlwZV9jb25maWcsIGNvbm5fc3RhdGUpOwogCiAJZzR4
X2VuYWJsZV9oZG1pKHN0YXRlLCBlbmNvZGVyLCBwaXBlX2NvbmZpZywgY29ubl9zdGF0ZSk7CiAK
ZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGRpLmMgYi9k
cml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2RkaS5jCmluZGV4IGI3YTJmY2U2ODRj
OS4uNWJjNTUyOGYzMDkxIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5
L2ludGVsX2RkaS5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGRp
LmMKQEAgLTI3MjIsOSArMjcyMiw4IEBAIHN0YXRpYyB2b2lkIGludGVsX2RkaV9wcmVfZW5hYmxl
X2hkbWkoc3RydWN0IGludGVsX2F0b21pY19zdGF0ZSAqc3RhdGUsCiAKIAlpbnRlbF9kZGlfZW5h
YmxlX3BpcGVfY2xvY2soZW5jb2RlciwgY3J0Y19zdGF0ZSk7CiAKLQlkaWdfcG9ydC0+c2V0X2lu
Zm9mcmFtZXMoZW5jb2RlciwKLQkJCQkgY3J0Y19zdGF0ZS0+aGFzX2luZm9mcmFtZSwKLQkJCQkg
Y3J0Y19zdGF0ZSwgY29ubl9zdGF0ZSk7CisJZGlnX3BvcnQtPnNldF9pbmZvZnJhbWVzKGVuY29k
ZXIsIGNydGNfc3RhdGUtPmhhc19oZG1pX3NpbmssIGNydGNfc3RhdGUsCisJCQkJIGNvbm5fc3Rh
dGUpOwogfQogCiBzdGF0aWMgdm9pZCBpbnRlbF9kZGlfcHJlX2VuYWJsZShzdHJ1Y3QgaW50ZWxf
YXRvbWljX3N0YXRlICpzdGF0ZSwKQEAgLTI3NjUsOSArMjc2NCw4IEBAIHN0YXRpYyB2b2lkIGlu
dGVsX2RkaV9wcmVfZW5hYmxlKHN0cnVjdCBpbnRlbF9hdG9taWNfc3RhdGUgKnN0YXRlLAogCQkv
KiBGSVhNRSBwcmVjb21wdXRlIGV2ZXJ5dGhpbmcgcHJvcGVybHkgKi8KIAkJLyogRklYTUUgaG93
IGRvIHdlIHR1cm4gaW5mb2ZyYW1lcyBvZmYgYWdhaW4/ICovCiAJCWlmIChkaWdfcG9ydC0+bHNw
Y29uLmFjdGl2ZSAmJiBkaWdfcG9ydC0+ZHAuaGFzX2hkbWlfc2luaykKLQkJCWRpZ19wb3J0LT5z
ZXRfaW5mb2ZyYW1lcyhlbmNvZGVyLAotCQkJCQkJIGNydGNfc3RhdGUtPmhhc19pbmZvZnJhbWUs
Ci0JCQkJCQkgY3J0Y19zdGF0ZSwgY29ubl9zdGF0ZSk7CisJCQlkaWdfcG9ydC0+c2V0X2luZm9m
cmFtZXMoZW5jb2RlciwgdHJ1ZSwgY3J0Y19zdGF0ZSwKKwkJCQkJCSBjb25uX3N0YXRlKTsKIAl9
CiB9CiAKQEAgLTI4MTMsOCArMjgxMSw4IEBAIHN0YXRpYyB2b2lkIGludGVsX2RkaV9wb3N0X2Rp
c2FibGVfZHAoc3RydWN0IGludGVsX2F0b21pY19zdGF0ZSAqc3RhdGUsCiAJZW51bSBwaHkgcGh5
ID0gaW50ZWxfcG9ydF90b19waHkoZGV2X3ByaXYsIGVuY29kZXItPnBvcnQpOwogCiAJaWYgKCFp
c19tc3QpCi0JCWludGVsX2RwX3NldF9pbmZvZnJhbWVzKGVuY29kZXIsIGZhbHNlLAotCQkJCQlv
bGRfY3J0Y19zdGF0ZSwgb2xkX2Nvbm5fc3RhdGUpOworCQlpbnRlbF9kcF9zZXRfaW5mb2ZyYW1l
cyhlbmNvZGVyLCBmYWxzZSwgb2xkX2NydGNfc3RhdGUsCisJCQkJCW9sZF9jb25uX3N0YXRlKTsK
IAogCS8qCiAJICogUG93ZXIgZG93biBzaW5rIGJlZm9yZSBkaXNhYmxpbmcgdGhlIHBvcnQsIG90
aGVyd2lzZSB3ZSBlbmQKQEAgLTM1NjksOSArMzU2Nyw2IEBAIHN0YXRpYyB2b2lkIGludGVsX2Rk
aV9yZWFkX2Z1bmNfY3RsKHN0cnVjdCBpbnRlbF9lbmNvZGVyICplbmNvZGVyLAogCQlwaXBlX2Nv
bmZpZy0+aW5mb2ZyYW1lcy5lbmFibGUgfD0KIAkJCWludGVsX2hkbWlfaW5mb2ZyYW1lc19lbmFi
bGVkKGVuY29kZXIsIHBpcGVfY29uZmlnKTsKIAotCQlpZiAocGlwZV9jb25maWctPmluZm9mcmFt
ZXMuZW5hYmxlKQotCQkJcGlwZV9jb25maWctPmhhc19pbmZvZnJhbWUgPSB0cnVlOwotCiAJCWlm
ICh0ZW1wICYgVFJBTlNfRERJX0hETUlfU0NSQU1CTElORykKIAkJCXBpcGVfY29uZmlnLT5oZG1p
X3NjcmFtYmxpbmcgPSB0cnVlOwogCQlpZiAodGVtcCAmIFRSQU5TX0RESV9ISUdIX1RNRFNfQ0hB
Ul9SQVRFKQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9k
aXNwbGF5LmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXkuYwpp
bmRleCAwYzJiMTk0MDA2ZjguLjFiZTg4YzNhMGVlYSAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUv
ZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5LmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5
MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5LmMKQEAgLTc1OTQsOSArNzU5NCw4IEBAIHN0YXRpYyB2
b2lkIGludGVsX2R1bXBfcGlwZV9jb25maWcoY29uc3Qgc3RydWN0IGludGVsX2NydGNfc3RhdGUg
KnBpcGVfY29uZmlnLAogCX0KIAogCWRybV9kYmdfa21zKCZkZXZfcHJpdi0+ZHJtLAotCQkgICAg
ImF1ZGlvOiAlaSwgaW5mb2ZyYW1lczogJWksIGluZm9mcmFtZXMgZW5hYmxlZDogMHgleFxuIiwK
LQkJICAgIHBpcGVfY29uZmlnLT5oYXNfYXVkaW8sIHBpcGVfY29uZmlnLT5oYXNfaW5mb2ZyYW1l
LAotCQkgICAgcGlwZV9jb25maWctPmluZm9mcmFtZXMuZW5hYmxlKTsKKwkJICAgICJhdWRpbzog
JWksIGluZm9mcmFtZXMgZW5hYmxlZDogMHgleFxuIiwKKwkJICAgIHBpcGVfY29uZmlnLT5oYXNf
YXVkaW8sIHBpcGVfY29uZmlnLT5pbmZvZnJhbWVzLmVuYWJsZSk7CiAKIAlpZiAocGlwZV9jb25m
aWctPmluZm9mcmFtZXMuZW5hYmxlICYKIAkgICAgaW50ZWxfaGRtaV9pbmZvZnJhbWVfZW5hYmxl
KEhETUlfUEFDS0VUX1RZUEVfR0VORVJBTF9DT05UUk9MKSkKQEAgLTg0OTgsNyArODQ5Nyw2IEBA
IGludGVsX3BpcGVfY29uZmlnX2NvbXBhcmUoY29uc3Qgc3RydWN0IGludGVsX2NydGNfc3RhdGUg
KmN1cnJlbnRfY29uZmlnLAogCiAJUElQRV9DT05GX0NIRUNLX0JPT0woaGRtaV9zY3JhbWJsaW5n
KTsKIAlQSVBFX0NPTkZfQ0hFQ0tfQk9PTChoZG1pX2hpZ2hfdG1kc19jbG9ja19yYXRpbyk7Ci0J
UElQRV9DT05GX0NIRUNLX0JPT0woaGFzX2luZm9mcmFtZSk7CiAJLyogRklYTUUgZG8gdGhlIHJl
YWRvdXQgcHJvcGVybHkgYW5kIGdldCByaWQgb2YgdGhpcyBxdWlyayAqLwogCWlmICghUElQRV9D
T05GX1FVSVJLKFBJUEVfQ09ORklHX1FVSVJLX0JJR0pPSU5FUl9TTEFWRSkpCiAJCVBJUEVfQ09O
Rl9DSEVDS19CT09MKGZlY19lbmFibGUpOwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5
MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5X3R5cGVzLmggYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9k
aXNwbGF5L2ludGVsX2Rpc3BsYXlfdHlwZXMuaAppbmRleCA5YzBhZGZjNjBjNmYuLjY2OWM1ZDhh
MjEzMSAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNw
bGF5X3R5cGVzLmgKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNw
bGF5X3R5cGVzLmgKQEAgLTk1Miw5ICs5NTIsNiBAQCBzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSB7
CiAJICogYmV0d2VlbiBwY2ggZW5jb2RlcnMgYW5kIGNwdSBlbmNvZGVycy4gKi8KIAlib29sIGhh
c19wY2hfZW5jb2RlcjsKIAotCS8qIEFyZSB3ZSBzZW5kaW5nIGluZm9mcmFtZXMgb24gdGhlIGF0
dGFjaGVkIHBvcnQgKi8KLQlib29sIGhhc19pbmZvZnJhbWU7Ci0KIAkvKiBDUFUgVHJhbnNjb2Rl
ciBmb3IgdGhlIHBpcGUuIEN1cnJlbnRseSB0aGlzIGNhbiBvbmx5IGRpZmZlciBmcm9tIHRoZQog
CSAqIHBpcGUgb24gSGFzd2VsbCBhbmQgbGF0ZXIgKHdoZXJlIHdlIGhhdmUgYSBzcGVjaWFsIGVE
UCB0cmFuc2NvZGVyKQogCSAqIGFuZCBCcm94dG9uICh3aGVyZSB3ZSBoYXZlIHNwZWNpYWwgRFNJ
IHRyYW5zY29kZXJzKS4gKi8KZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3Bs
YXkvaW50ZWxfZHBfbXN0LmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rw
X21zdC5jCmluZGV4IDMzMmQyZjlmZGE1Yy4uMWViNTRmOGVkNTFhIDEwMDY0NAotLS0gYS9kcml2
ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2RwX21zdC5jCisrKyBiL2RyaXZlcnMvZ3B1
L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZHBfbXN0LmMKQEAgLTQzNSw4ICs0MzUsOCBAQCBzdGF0
aWMgdm9pZCBpbnRlbF9tc3RfcG9zdF9kaXNhYmxlX2RwKHN0cnVjdCBpbnRlbF9hdG9taWNfc3Rh
dGUgKnN0YXRlLAogCSAqIHRoZSB0cmFuc2NvZGVyIGNsb2NrIHNlbGVjdCBpcyBzZXQgdG8gbm9u
ZS4KIAkgKi8KIAlpZiAobGFzdF9tc3Rfc3RyZWFtKQotCQlpbnRlbF9kcF9zZXRfaW5mb2ZyYW1l
cygmZGlnX3BvcnQtPmJhc2UsIGZhbHNlLAotCQkJCQlvbGRfY3J0Y19zdGF0ZSwgTlVMTCk7CisJ
CWludGVsX2RwX3NldF9pbmZvZnJhbWVzKCZkaWdfcG9ydC0+YmFzZSwgZmFsc2UsIG9sZF9jcnRj
X3N0YXRlLAorCQkJCQlvbGRfY29ubl9zdGF0ZSk7CiAJLyoKIAkgKiBGcm9tIFRHTCBzcGVjOiAi
SWYgbXVsdGktc3RyZWFtIHNsYXZlIHRyYW5zY29kZXI6IENvbmZpZ3VyZQogCSAqIFRyYW5zY29k
ZXIgQ2xvY2sgU2VsZWN0IHRvIGRpcmVjdCBubyBjbG9jayB0byB0aGUgdHJhbnNjb2RlciIKZGlm
ZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfaGRtaS5jIGIvZHJp
dmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9oZG1pLmMKaW5kZXggNGExYjJkODYzYjBj
Li40Yjk3MDU4NzA2N2QgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkv
aW50ZWxfaGRtaS5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfaGRt
aS5jCkBAIC03MTIsNyArNzEyLDcgQEAgaW50ZWxfaGRtaV9jb21wdXRlX2F2aV9pbmZvZnJhbWUo
c3RydWN0IGludGVsX2VuY29kZXIgKmVuY29kZXIsCiAJc3RydWN0IGRybV9jb25uZWN0b3IgKmNv
bm5lY3RvciA9IGNvbm5fc3RhdGUtPmNvbm5lY3RvcjsKIAlpbnQgcmV0OwogCi0JaWYgKCFjcnRj
X3N0YXRlLT5oYXNfaW5mb2ZyYW1lKQorCWlmICghY3J0Y19zdGF0ZS0+aGFzX2hkbWlfc2luaykK
IAkJcmV0dXJuIHRydWU7CiAKIAljcnRjX3N0YXRlLT5pbmZvZnJhbWVzLmVuYWJsZSB8PQpAQCAt
NzY2LDcgKzc2Niw3IEBAIGludGVsX2hkbWlfY29tcHV0ZV9zcGRfaW5mb2ZyYW1lKHN0cnVjdCBp
bnRlbF9lbmNvZGVyICplbmNvZGVyLAogCXN0cnVjdCBoZG1pX3NwZF9pbmZvZnJhbWUgKmZyYW1l
ID0gJmNydGNfc3RhdGUtPmluZm9mcmFtZXMuc3BkLnNwZDsKIAlpbnQgcmV0OwogCi0JaWYgKCFj
cnRjX3N0YXRlLT5oYXNfaW5mb2ZyYW1lKQorCWlmICghY3J0Y19zdGF0ZS0+aGFzX2hkbWlfc2lu
aykKIAkJcmV0dXJuIHRydWU7CiAKIAljcnRjX3N0YXRlLT5pbmZvZnJhbWVzLmVuYWJsZSB8PQpA
QCAtNzk2LDcgKzc5Niw3IEBAIGludGVsX2hkbWlfY29tcHV0ZV9oZG1pX2luZm9mcmFtZShzdHJ1
Y3QgaW50ZWxfZW5jb2RlciAqZW5jb2RlciwKIAkJJmNvbm5fc3RhdGUtPmNvbm5lY3Rvci0+ZGlz
cGxheV9pbmZvOwogCWludCByZXQ7CiAKLQlpZiAoIWNydGNfc3RhdGUtPmhhc19pbmZvZnJhbWUg
fHwgIWluZm8tPmhhc19oZG1pX2luZm9mcmFtZSkKKwlpZiAoIWNydGNfc3RhdGUtPmhhc19oZG1p
X3NpbmsgfHwgIWluZm8tPmhhc19oZG1pX2luZm9mcmFtZSkKIAkJcmV0dXJuIHRydWU7CiAKIAlj
cnRjX3N0YXRlLT5pbmZvZnJhbWVzLmVuYWJsZSB8PQpAQCAtODI3LDcgKzgyNyw3IEBAIGludGVs
X2hkbWlfY29tcHV0ZV9kcm1faW5mb2ZyYW1lKHN0cnVjdCBpbnRlbF9lbmNvZGVyICplbmNvZGVy
LAogCWlmIChESVNQTEFZX1ZFUihkZXZfcHJpdikgPCAxMCkKIAkJcmV0dXJuIHRydWU7CiAKLQlp
ZiAoIWNydGNfc3RhdGUtPmhhc19pbmZvZnJhbWUpCisJaWYgKCFjcnRjX3N0YXRlLT5oYXNfaGRt
aV9zaW5rKQogCQlyZXR1cm4gdHJ1ZTsKIAogCWlmICghY29ubl9zdGF0ZS0+aGRyX291dHB1dF9t
ZXRhZGF0YSkKQEAgLTEwMTgsNyArMTAxOCw3IEBAIHN0YXRpYyB2b2lkIGludGVsX2hkbWlfY29t
cHV0ZV9nY3BfaW5mb2ZyYW1lKHN0cnVjdCBpbnRlbF9lbmNvZGVyICplbmNvZGVyLAogewogCXN0
cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiA9IHRvX2k5MTUoZW5jb2Rlci0+YmFzZS5k
ZXYpOwogCi0JaWYgKElTX0c0WChkZXZfcHJpdikgfHwgIWNydGNfc3RhdGUtPmhhc19pbmZvZnJh
bWUpCisJaWYgKElTX0c0WChkZXZfcHJpdikgfHwgIWNydGNfc3RhdGUtPmhhc19oZG1pX3Npbmsp
CiAJCXJldHVybjsKIAogCWNydGNfc3RhdGUtPmluZm9mcmFtZXMuZW5hYmxlIHw9CkBAIC0yMTcy
LDkgKzIxNzIsNiBAQCBpbnQgaW50ZWxfaGRtaV9jb21wdXRlX2NvbmZpZyhzdHJ1Y3QgaW50ZWxf
ZW5jb2RlciAqZW5jb2RlciwKIAlwaXBlX2NvbmZpZy0+aGFzX2hkbWlfc2luayA9IGludGVsX2hh
c19oZG1pX3NpbmsoaW50ZWxfaGRtaSwKIAkJCQkJCQkgY29ubl9zdGF0ZSk7CiAKLQlpZiAocGlw
ZV9jb25maWctPmhhc19oZG1pX3NpbmspCi0JCXBpcGVfY29uZmlnLT5oYXNfaW5mb2ZyYW1lID0g
dHJ1ZTsKLQogCWlmIChhZGp1c3RlZF9tb2RlLT5mbGFncyAmIERSTV9NT0RFX0ZMQUdfREJMQ0xL
KQogCQlwaXBlX2NvbmZpZy0+cGl4ZWxfbXVsdGlwbGllciA9IDI7CiAKLS0gCjIuMzEuMQoKX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KSW50ZWwtZ2Z4IG1h
aWxpbmcgbGlzdApJbnRlbC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMu
ZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vaW50ZWwtZ2Z4Cg==

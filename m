Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 4646E862A1
	for <lists+intel-gfx@lfdr.de>; Thu,  8 Aug 2019 15:08:41 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id A7EB56E82E;
	Thu,  8 Aug 2019 13:08:39 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga01.intel.com (mga01.intel.com [192.55.52.88])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 87E7C6E82E
 for <intel-gfx@lists.freedesktop.org>; Thu,  8 Aug 2019 13:08:38 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga008.jf.intel.com ([10.7.209.65])
 by fmsmga101.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 08 Aug 2019 06:08:37 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.64,361,1559545200"; d="scan'208";a="168979480"
Received: from gaia.fi.intel.com ([10.237.72.192])
 by orsmga008.jf.intel.com with ESMTP; 08 Aug 2019 06:08:36 -0700
Received: by gaia.fi.intel.com (Postfix, from userid 1000)
 id B1A175C0569; Thu,  8 Aug 2019 16:08:00 +0300 (EEST)
From: Mika Kuoppala <mika.kuoppala@linux.intel.com>
To: Daniele Ceraolo Spurio <daniele.ceraolospurio@intel.com>,
 intel-gfx@lists.freedesktop.org
In-Reply-To: <20190808014423.20377-2-daniele.ceraolospurio@intel.com>
References: <20190808014423.20377-1-daniele.ceraolospurio@intel.com>
 <20190808014423.20377-2-daniele.ceraolospurio@intel.com>
Date: Thu, 08 Aug 2019 16:08:00 +0300
Message-ID: <87lfw3hkjz.fsf@gaia.fi.intel.com>
MIME-Version: 1.0
Subject: Re: [Intel-gfx] [RFC 1/3] drm/i915: split out uncore_mmio_debug
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

RGFuaWVsZSBDZXJhb2xvIFNwdXJpbyA8ZGFuaWVsZS5jZXJhb2xvc3B1cmlvQGludGVsLmNvbT4g
d3JpdGVzOgoKPiBNdWx0aXBsZSB1bmNvcmUgc3RydWN0dXJlcyB3aWxsIHNoYXJlIHRoZSBkZWJ1
ZyBpbmZyYXN0cnVjdHVyZSwgc28KPiBtb3ZlIGl0IHRvIGEgY29tbW9uIHBsYWNlIGFuZCBhZGQg
ZXh0cmEgbG9ja2luZyBhcm91bmQgaXQuCj4gQWxzbywgc2luY2Ugd2Ugbm93IGhhdmUgYSBzZXBh
cmF0ZSBvYmplY3QsIGl0IGlzIGNsZWFuZXIgdG8gaGF2ZQo+IGRlZGljYXRlZCBmdW5jdGlvbnMg
d29ya2luZyBvbiB0aGUgb2JqZWN0IHRvIHN0b3AgYW5kIHJlc3RhcnQgdGhlCj4gbW1pbyBkZWJ1
Zy4gQXBhcnQgZnJvbSB0aGUgY29zbWV0aWMgY2hhbmdlcywgdGhpcyBwYXRjaCBpbnRyb2R1Y2Vz
Cj4gMiBmdW5jdGlvbmFsIHVwZGF0ZXM6Cj4KPiAtIEFsbCBjYWxscyB0byBjaGVja19mb3JfdW5j
bGFpbWVkX21taW8gd2lsbCBub3cgcmV0dXJuIGZhbHNlIHdoZW4KPiAgIHRoZSBkZWJ1ZyBpcyBz
dXNwZW5kZWQsIG5vdCBqdXN0IHRoZSBvbmVzIHRoYXQgYXJlIGFjdGl2ZSBvbmx5IHdoZW4KPiAg
IGk5MTVfbW9kcGFyYW1zLm1taW9fZGVidWcgaXMgc2V0LiBJZiB3ZSBkb24ndCB0cnVzdCB0aGUg
cmVzdWx0IG9mIHRoZQo+ICAgY2hlY2sgd2hpbGUgYSB1c2VyIGlzIGRvaW5nIG1taW8gYWNjZXNz
IHRoZW4gd2Ugc2hvdWxkbid0IGF0dGVtcHQgdGhlCj4gICBjaGVjayBhbnl3aGVyZS4KPgo+IC0g
aTkxNV9tb2RwYXJhbXMubW1pb19kZWJ1ZyBpcyBub3Qgc2F2ZS9yZXN0b3JlZCBhbnltb3JlIGFy
b3VuZCB1c2VyCj4gICBhY2Nlc3MuIFRoZSB2YWx1ZSBpcyBub3cgbmV2ZXIgdG91Y2hlZCBieSB0
aGUga2VybmVsIHdoaWxlIGRlYnVnIGlzCj4gICBkaXNhYmxlZCBzbyBubyBuZWVkIGZvciBzYXZl
L3Jlc3RvcmUuCj4KPiB2Mjogc3F1YXNoIG1taW9fZGVidWcgcGF0Y2hlcywgcmVzdHJpY3QgbW1p
b19kZWJ1ZyBsb2NrIHVzYWdlIChDaHJpcykKPgo+IFNpZ25lZC1vZmYtYnk6IERhbmllbGUgQ2Vy
YW9sbyBTcHVyaW8gPGRhbmllbGUuY2VyYW9sb3NwdXJpb0BpbnRlbC5jb20+Cj4gQ2M6IENocmlz
IFdpbHNvbiA8Y2hyaXNAY2hyaXMtd2lsc29uLmNvLnVrPgo+IC0tLQo+ICBkcml2ZXJzL2dwdS9k
cm0vaTkxNS9pOTE1X2RlYnVnZnMuYyB8ICAyICstCj4gIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2k5
MTVfZHJ2LmMgICAgIHwgIDMgKy0KPiAgZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kcnYuaCAg
ICAgfCAgMSArCj4gIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX3VuY29yZS5jIHwgOTEgKysr
KysrKysrKysrKysrKysrKystLS0tLS0tLS0KPiAgZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxf
dW5jb3JlLmggfCAxOCArKystLS0KPiAgNSBmaWxlcyBjaGFuZ2VkLCA3OSBpbnNlcnRpb25zKCsp
LCAzNiBkZWxldGlvbnMoLSkKPgo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9p
OTE1X2RlYnVnZnMuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZGVidWdmcy5jCj4gaW5k
ZXggM2IxNTI2NmM1NGZkLi4yMzEwNTEyMTExYWIgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUv
ZHJtL2k5MTUvaTkxNV9kZWJ1Z2ZzLmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1
X2RlYnVnZnMuYwo+IEBAIC0xMTI5LDcgKzExMjksNyBAQCBzdGF0aWMgaW50IGk5MTVfZm9yY2V3
YWtlX2RvbWFpbnMoc3RydWN0IHNlcV9maWxlICptLCB2b2lkICpkYXRhKQo+ICAJdW5zaWduZWQg
aW50IHRtcDsKPiAgCj4gIAlzZXFfcHJpbnRmKG0sICJ1c2VyLmJ5cGFzc19jb3VudCA9ICV1XG4i
LAo+IC0JCSAgIHVuY29yZS0+dXNlcl9mb3JjZXdha2UuY291bnQpOwo+ICsJCSAgIHVuY29yZS0+
dXNlcl9mb3JjZXdha2VfY291bnQpOwo+ICAKPiAgCWZvcl9lYWNoX2Z3X2RvbWFpbihmd19kb21h
aW4sIHVuY29yZSwgdG1wKQo+ICAJCXNlcV9wcmludGYobSwgIiVzLndha2VfY291bnQgPSAldVxu
IiwKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kcnYuYyBiL2RyaXZl
cnMvZ3B1L2RybS9pOTE1L2k5MTVfZHJ2LmMKPiBpbmRleCAzNDgwZGIzNmI2M2YuLmZiYmZmNGEx
MzNiYSAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2Rydi5jCj4gKysr
IGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kcnYuYwo+IEBAIC03NDQsNiArNzQ0LDcgQEAg
c3RhdGljIGludCBpOTE1X2RyaXZlcl9lYXJseV9wcm9iZShzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0
ZSAqZGV2X3ByaXYpCj4gIAo+ICAJaW50ZWxfZGV2aWNlX2luZm9fc3VicGxhdGZvcm1faW5pdChk
ZXZfcHJpdik7Cj4gIAo+ICsJaW50ZWxfdW5jb3JlX21taW9fZGVidWdfaW5pdF9lYXJseSgmZGV2
X3ByaXYtPm1taW9fZGVidWcpOwo+ICAJaW50ZWxfdW5jb3JlX2luaXRfZWFybHkoJmRldl9wcml2
LT51bmNvcmUsIGRldl9wcml2KTsKPiAgCj4gIAlzcGluX2xvY2tfaW5pdCgmZGV2X3ByaXYtPmly
cV9sb2NrKTsKPiBAQCAtMjA0NCw3ICsyMDQ1LDcgQEAgc3RhdGljIGludCBpOTE1X2RybV9zdXNw
ZW5kX2xhdGUoc3RydWN0IGRybV9kZXZpY2UgKmRldiwgYm9vbCBoaWJlcm5hdGlvbikKPiAgCj4g
IG91dDoKPiAgCWVuYWJsZV9ycG1fd2FrZXJlZl9hc3NlcnRzKHJwbSk7Cj4gLQlpZiAoIWRldl9w
cml2LT51bmNvcmUudXNlcl9mb3JjZXdha2UuY291bnQpCj4gKwlpZiAoIWRldl9wcml2LT51bmNv
cmUudXNlcl9mb3JjZXdha2VfY291bnQpCj4gIAkJaW50ZWxfcnVudGltZV9wbV9kcml2ZXJfcmVs
ZWFzZShycG0pOwo+ICAKPiAgCXJldHVybiByZXQ7Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1
L2RybS9pOTE1L2k5MTVfZHJ2LmggYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2Rydi5oCj4g
aW5kZXggYzk0NzZmMjRmNWMxLi4xM2MyN2E3NWRjYTggMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9n
cHUvZHJtL2k5MTUvaTkxNV9kcnYuaAo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVf
ZHJ2LmgKPiBAQCAtMTM0Niw2ICsxMzQ2LDcgQEAgc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgewo+
ICAJcmVzb3VyY2Vfc2l6ZV90IHN0b2xlbl91c2FibGVfc2l6ZTsJLyogVG90YWwgc2l6ZSBtaW51
cyByZXNlcnZlZCByYW5nZXMgKi8KPiAgCj4gIAlzdHJ1Y3QgaW50ZWxfdW5jb3JlIHVuY29yZTsK
PiArCXN0cnVjdCBpbnRlbF91bmNvcmVfbW1pb19kZWJ1ZyBtbWlvX2RlYnVnOwo+ICAKPiAgCXN0
cnVjdCBpOTE1X3ZpcnR1YWxfZ3B1IHZncHU7Cj4gIAo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dw
dS9kcm0vaTkxNS9pbnRlbF91bmNvcmUuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX3Vu
Y29yZS5jCj4gaW5kZXggMzllODcxMGFmZGQ5Li45ZTU4M2YxM2E5ZTQgMTAwNjQ0Cj4gLS0tIGEv
ZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfdW5jb3JlLmMKPiArKysgYi9kcml2ZXJzL2dwdS9k
cm0vaTkxNS9pbnRlbF91bmNvcmUuYwo+IEBAIC0zNCw2ICszNCwzMiBAQAo+ICAKPiAgI2RlZmlu
ZSBfX3Jhd19wb3N0aW5nX3JlYWQoLi4uKSAoKHZvaWQpX19yYXdfdW5jb3JlX3JlYWQzMihfX1ZB
X0FSR1NfXykpCj4gIAo+ICt2b2lkCj4gK2ludGVsX3VuY29yZV9tbWlvX2RlYnVnX2luaXRfZWFy
bHkoc3RydWN0IGludGVsX3VuY29yZV9tbWlvX2RlYnVnICptbWlvX2RlYnVnKQo+ICt7Cj4gKwlz
cGluX2xvY2tfaW5pdCgmbW1pb19kZWJ1Zy0+bG9jayk7Cj4gKwltbWlvX2RlYnVnLT51bmNsYWlt
ZWRfbW1pb19jaGVjayA9IDE7Cj4gK30KPiArCj4gK3N0YXRpYyB2b2lkIG1taW9fZGVidWdfc3Vz
cGVuZChzdHJ1Y3QgaW50ZWxfdW5jb3JlX21taW9fZGVidWcgKm1taW9fZGVidWcpCj4gK3sKPiAr
CWxvY2tkZXBfYXNzZXJ0X2hlbGQoJm1taW9fZGVidWctPmxvY2spOwo+ICsKPiArCS8qIFNhdmUg
YW5kIGRpc2FibGUgbW1pbyBkZWJ1Z2dpbmcgZm9yIHRoZSB1c2VyIGJ5cGFzcyAqLwo+ICsJaWYg
KCFtbWlvX2RlYnVnLT5zdXNwZW5kX2NvdW50KyspIHsKPiArCQltbWlvX2RlYnVnLT5zYXZlZF9t
bWlvX2NoZWNrID0gbW1pb19kZWJ1Zy0+dW5jbGFpbWVkX21taW9fY2hlY2s7Cj4gKwkJbW1pb19k
ZWJ1Zy0+dW5jbGFpbWVkX21taW9fY2hlY2sgPSAwOwo+ICsJfQo+ICt9Cj4gKwo+ICtzdGF0aWMg
dm9pZCBtbWlvX2RlYnVnX3Jlc3VtZShzdHJ1Y3QgaW50ZWxfdW5jb3JlX21taW9fZGVidWcgKm1t
aW9fZGVidWcpCj4gK3sKPiArCWxvY2tkZXBfYXNzZXJ0X2hlbGQoJm1taW9fZGVidWctPmxvY2sp
Owo+ICsKPiArCWlmICghLS1tbWlvX2RlYnVnLT5zdXNwZW5kX2NvdW50KQo+ICsJCW1taW9fZGVi
dWctPnVuY2xhaW1lZF9tbWlvX2NoZWNrID0gbW1pb19kZWJ1Zy0+c2F2ZWRfbW1pb19jaGVjazsK
PiArfQo+ICsKPiAgc3RhdGljIGNvbnN0IGNoYXIgKiBjb25zdCBmb3JjZXdha2VfZG9tYWluX25h
bWVzW10gPSB7Cj4gIAkicmVuZGVyIiwKPiAgCSJibGl0dGVyIiwKPiBAQCAtNDc2LDYgKzUwMiwx
MSBAQCBjaGVja19mb3JfdW5jbGFpbWVkX21taW8oc3RydWN0IGludGVsX3VuY29yZSAqdW5jb3Jl
KQo+ICB7Cj4gIAlib29sIHJldCA9IGZhbHNlOwo+ICAKPiArCWxvY2tkZXBfYXNzZXJ0X2hlbGQo
JnVuY29yZS0+ZGVidWctPmxvY2spOwo+ICsKPiArCWlmICh1bmNvcmUtPmRlYnVnLT5zdXNwZW5k
X2NvdW50KQo+ICsJCXJldHVybiBmYWxzZTsKPiArCj4gIAlpZiAoaW50ZWxfdW5jb3JlX2hhc19m
cGdhX2RiZ191bmNsYWltZWQodW5jb3JlKSkKPiAgCQlyZXQgfD0gZnBnYV9jaGVja19mb3JfdW5j
bGFpbWVkX21taW8odW5jb3JlKTsKPiAgCj4gQEAgLTYwOCwxNyArNjM5LDExIEBAIHZvaWQgaW50
ZWxfdW5jb3JlX2ZvcmNld2FrZV9nZXQoc3RydWN0IGludGVsX3VuY29yZSAqdW5jb3JlLAo+ICB2
b2lkIGludGVsX3VuY29yZV9mb3JjZXdha2VfdXNlcl9nZXQoc3RydWN0IGludGVsX3VuY29yZSAq
dW5jb3JlKQo+ICB7Cj4gIAlzcGluX2xvY2tfaXJxKCZ1bmNvcmUtPmxvY2spOwo+IC0JaWYgKCF1
bmNvcmUtPnVzZXJfZm9yY2V3YWtlLmNvdW50KyspIHsKPiArCWlmICghdW5jb3JlLT51c2VyX2Zv
cmNld2FrZV9jb3VudCsrKSB7Cj4gIAkJaW50ZWxfdW5jb3JlX2ZvcmNld2FrZV9nZXRfX2xvY2tl
ZCh1bmNvcmUsIEZPUkNFV0FLRV9BTEwpOwo+IC0KPiAtCQkvKiBTYXZlIGFuZCBkaXNhYmxlIG1t
aW8gZGVidWdnaW5nIGZvciB0aGUgdXNlciBieXBhc3MgKi8KPiAtCQl1bmNvcmUtPnVzZXJfZm9y
Y2V3YWtlLnNhdmVkX21taW9fY2hlY2sgPQo+IC0JCQl1bmNvcmUtPnVuY2xhaW1lZF9tbWlvX2No
ZWNrOwo+IC0JCXVuY29yZS0+dXNlcl9mb3JjZXdha2Uuc2F2ZWRfbW1pb19kZWJ1ZyA9Cj4gLQkJ
CWk5MTVfbW9kcGFyYW1zLm1taW9fZGVidWc7Cj4gLQo+IC0JCXVuY29yZS0+dW5jbGFpbWVkX21t
aW9fY2hlY2sgPSAwOwo+IC0JCWk5MTVfbW9kcGFyYW1zLm1taW9fZGVidWcgPSAwOwo+ICsJCXNw
aW5fbG9jaygmdW5jb3JlLT5kZWJ1Zy0+bG9jayk7CgpGb3IgbWUgaXQgbG9va3MgbGlrZSB5b3Ug
bmVlZCBzcGluX2xvY2tfaXJxIGhlcmUgYWxzbwpsaWtlIHdpdGggdGhlIHBhcmVudCBsb2NrIGFi
b3ZlLgotTWlrYQoKPiArCQltbWlvX2RlYnVnX3N1c3BlbmQodW5jb3JlLT5kZWJ1Zyk7Cj4gKwkJ
c3Bpbl91bmxvY2soJnVuY29yZS0+ZGVidWctPmxvY2spOwo+ICAJfQo+ICAJc3Bpbl91bmxvY2tf
aXJxKCZ1bmNvcmUtPmxvY2spOwo+ICB9Cj4gQEAgLTYzMywxNSArNjU4LDE0IEBAIHZvaWQgaW50
ZWxfdW5jb3JlX2ZvcmNld2FrZV91c2VyX2dldChzdHJ1Y3QgaW50ZWxfdW5jb3JlICp1bmNvcmUp
Cj4gIHZvaWQgaW50ZWxfdW5jb3JlX2ZvcmNld2FrZV91c2VyX3B1dChzdHJ1Y3QgaW50ZWxfdW5j
b3JlICp1bmNvcmUpCj4gIHsKPiAgCXNwaW5fbG9ja19pcnEoJnVuY29yZS0+bG9jayk7Cj4gLQlp
ZiAoIS0tdW5jb3JlLT51c2VyX2ZvcmNld2FrZS5jb3VudCkgewo+IC0JCWlmIChpbnRlbF91bmNv
cmVfdW5jbGFpbWVkX21taW8odW5jb3JlKSkKPiArCWlmICghLS11bmNvcmUtPnVzZXJfZm9yY2V3
YWtlX2NvdW50KSB7Cj4gKwkJc3Bpbl9sb2NrKCZ1bmNvcmUtPmRlYnVnLT5sb2NrKTsKPiArCQlt
bWlvX2RlYnVnX3Jlc3VtZSh1bmNvcmUtPmRlYnVnKTsKPiArCj4gKwkJaWYgKGNoZWNrX2Zvcl91
bmNsYWltZWRfbW1pbyh1bmNvcmUpKQo+ICAJCQlkZXZfaW5mbyh1bmNvcmUtPmk5MTUtPmRybS5k
ZXYsCj4gIAkJCQkgIkludmFsaWQgbW1pbyBkZXRlY3RlZCBkdXJpbmcgdXNlciBhY2Nlc3NcbiIp
Owo+IC0KPiAtCQl1bmNvcmUtPnVuY2xhaW1lZF9tbWlvX2NoZWNrID0KPiAtCQkJdW5jb3JlLT51
c2VyX2ZvcmNld2FrZS5zYXZlZF9tbWlvX2NoZWNrOwo+IC0JCWk5MTVfbW9kcGFyYW1zLm1taW9f
ZGVidWcgPQo+IC0JCQl1bmNvcmUtPnVzZXJfZm9yY2V3YWtlLnNhdmVkX21taW9fZGVidWc7Cj4g
KwkJc3Bpbl91bmxvY2soJnVuY29yZS0+ZGVidWctPmxvY2spOwo+ICAKPiAgCQlpbnRlbF91bmNv
cmVfZm9yY2V3YWtlX3B1dF9fbG9ja2VkKHVuY29yZSwgRk9SQ0VXQUtFX0FMTCk7Cj4gIAl9Cj4g
QEAgLTEwODgsNyArMTExMiwxNiBAQCB1bmNsYWltZWRfcmVnX2RlYnVnKHN0cnVjdCBpbnRlbF91
bmNvcmUgKnVuY29yZSwKPiAgCWlmIChsaWtlbHkoIWk5MTVfbW9kcGFyYW1zLm1taW9fZGVidWcp
KQo+ICAJCXJldHVybjsKPiAgCj4gKwkvKiBpbnRlcnJ1cHRzIGFyZSBkaXNhYmxlZCBhbmQgcmUt
ZW5hYmxlZCBhcm91bmQgdW5jb3JlLT5sb2NrIHVzYWdlICovCj4gKwlsb2NrZGVwX2Fzc2VydF9o
ZWxkKCZ1bmNvcmUtPmxvY2spOwo+ICsKPiArCWlmIChiZWZvcmUpCj4gKwkJc3Bpbl9sb2NrKCZ1
bmNvcmUtPmRlYnVnLT5sb2NrKTsKPiArCj4gIAlfX3VuY2xhaW1lZF9yZWdfZGVidWcodW5jb3Jl
LCByZWcsIHJlYWQsIGJlZm9yZSk7Cj4gKwo+ICsJaWYgKCFiZWZvcmUpCj4gKwkJc3Bpbl91bmxv
Y2soJnVuY29yZS0+ZGVidWctPmxvY2spOwo+ICB9Cj4gIAo+ICAjZGVmaW5lIEdFTjJfUkVBRF9I
RUFERVIoeCkgXAo+IEBAIC0xNjA3LDYgKzE2NDAsNyBAQCB2b2lkIGludGVsX3VuY29yZV9pbml0
X2Vhcmx5KHN0cnVjdCBpbnRlbF91bmNvcmUgKnVuY29yZSwKPiAgCXNwaW5fbG9ja19pbml0KCZ1
bmNvcmUtPmxvY2spOwo+ICAJdW5jb3JlLT5pOTE1ID0gaTkxNTsKPiAgCXVuY29yZS0+cnBtID0g
Jmk5MTUtPnJ1bnRpbWVfcG07Cj4gKwl1bmNvcmUtPmRlYnVnID0gJmk5MTUtPm1taW9fZGVidWc7
Cj4gIH0KPiAgCj4gIHN0YXRpYyB2b2lkIHVuY29yZV9yYXdfaW5pdChzdHJ1Y3QgaW50ZWxfdW5j
b3JlICp1bmNvcmUpCj4gQEAgLTE2MzIsNyArMTY2Niw2IEBAIHN0YXRpYyBpbnQgdW5jb3JlX2Zv
cmNld2FrZV9pbml0KHN0cnVjdCBpbnRlbF91bmNvcmUgKnVuY29yZSkKPiAgCXJldCA9IGludGVs
X3VuY29yZV9md19kb21haW5zX2luaXQodW5jb3JlKTsKPiAgCWlmIChyZXQpCj4gIAkJcmV0dXJu
IHJldDsKPiAtCj4gIAlmb3JjZXdha2VfZWFybHlfc2FuaXRpemUodW5jb3JlLCAwKTsKPiAgCj4g
IAlpZiAoSVNfR0VOX1JBTkdFKGk5MTUsIDYsIDcpKSB7Cj4gQEAgLTE2ODEsOCArMTcxNCw2IEBA
IGludCBpbnRlbF91bmNvcmVfaW5pdF9tbWlvKHN0cnVjdCBpbnRlbF91bmNvcmUgKnVuY29yZSkK
PiAgCWlmIChJTlRFTF9HRU4oaTkxNSkgPiA1ICYmICFpbnRlbF92Z3B1X2FjdGl2ZShpOTE1KSkK
PiAgCQl1bmNvcmUtPmZsYWdzIHw9IFVOQ09SRV9IQVNfRk9SQ0VXQUtFOwo+ICAKPiAtCXVuY29y
ZS0+dW5jbGFpbWVkX21taW9fY2hlY2sgPSAxOwo+IC0KPiAgCWlmICghaW50ZWxfdW5jb3JlX2hh
c19mb3JjZXdha2UodW5jb3JlKSkgewo+ICAJCXVuY29yZV9yYXdfaW5pdCh1bmNvcmUpOwo+ICAJ
fSBlbHNlIHsKPiBAQCAtMTcwNyw3ICsxNzM4LDcgQEAgaW50IGludGVsX3VuY29yZV9pbml0X21t
aW8oc3RydWN0IGludGVsX3VuY29yZSAqdW5jb3JlKQo+ICAJCXVuY29yZS0+ZmxhZ3MgfD0gVU5D
T1JFX0hBU19GSUZPOwo+ICAKPiAgCS8qIGNsZWFyIG91dCB1bmNsYWltZWQgcmVnIGRldGVjdGlv
biBiaXQgKi8KPiAtCWlmIChjaGVja19mb3JfdW5jbGFpbWVkX21taW8odW5jb3JlKSkKPiArCWlm
IChpbnRlbF91bmNvcmVfdW5jbGFpbWVkX21taW8odW5jb3JlKSkKPiAgCQlEUk1fREVCVUcoInVu
Y2xhaW1lZCBtbWlvIGRldGVjdGVkIG9uIHVuY29yZSBpbml0LCBjbGVhcmluZ1xuIik7Cj4gIAo+
ICAJcmV0dXJuIDA7Cj4gQEAgLTE5NTIsNyArMTk4MywxMyBAQCBpbnQgX19pbnRlbF93YWl0X2Zv
cl9yZWdpc3RlcihzdHJ1Y3QgaW50ZWxfdW5jb3JlICp1bmNvcmUsCj4gIAo+ICBib29sIGludGVs
X3VuY29yZV91bmNsYWltZWRfbW1pbyhzdHJ1Y3QgaW50ZWxfdW5jb3JlICp1bmNvcmUpCj4gIHsK
PiAtCXJldHVybiBjaGVja19mb3JfdW5jbGFpbWVkX21taW8odW5jb3JlKTsKPiArCWJvb2wgcmV0
Owo+ICsKPiArCXNwaW5fbG9ja19pcnEoJnVuY29yZS0+ZGVidWctPmxvY2spOwo+ICsJcmV0ID0g
Y2hlY2tfZm9yX3VuY2xhaW1lZF9tbWlvKHVuY29yZSk7Cj4gKwlzcGluX3VubG9ja19pcnEoJnVu
Y29yZS0+ZGVidWctPmxvY2spOwo+ICsKPiArCXJldHVybiByZXQ7Cj4gIH0KPiAgCj4gIGJvb2wK
PiBAQCAtMTk2MCwyNCArMTk5NywyNCBAQCBpbnRlbF91bmNvcmVfYXJtX3VuY2xhaW1lZF9tbWlv
X2RldGVjdGlvbihzdHJ1Y3QgaW50ZWxfdW5jb3JlICp1bmNvcmUpCj4gIHsKPiAgCWJvb2wgcmV0
ID0gZmFsc2U7Cj4gIAo+IC0Jc3Bpbl9sb2NrX2lycSgmdW5jb3JlLT5sb2NrKTsKPiArCXNwaW5f
bG9ja19pcnEoJnVuY29yZS0+ZGVidWctPmxvY2spOwo+ICAKPiAtCWlmICh1bmxpa2VseSh1bmNv
cmUtPnVuY2xhaW1lZF9tbWlvX2NoZWNrIDw9IDApKQo+ICsJaWYgKHVubGlrZWx5KHVuY29yZS0+
ZGVidWctPnVuY2xhaW1lZF9tbWlvX2NoZWNrIDw9IDApKQo+ICAJCWdvdG8gb3V0Owo+ICAKPiAt
CWlmICh1bmxpa2VseShpbnRlbF91bmNvcmVfdW5jbGFpbWVkX21taW8odW5jb3JlKSkpIHsKPiAr
CWlmICh1bmxpa2VseShjaGVja19mb3JfdW5jbGFpbWVkX21taW8odW5jb3JlKSkpIHsKPiAgCQlp
ZiAoIWk5MTVfbW9kcGFyYW1zLm1taW9fZGVidWcpIHsKPiAgCQkJRFJNX0RFQlVHKCJVbmNsYWlt
ZWQgcmVnaXN0ZXIgZGV0ZWN0ZWQsICIKPiAgCQkJCSAgImVuYWJsaW5nIG9uZXNob3QgdW5jbGFp
bWVkIHJlZ2lzdGVyIHJlcG9ydGluZy4gIgo+ICAJCQkJICAiUGxlYXNlIHVzZSBpOTE1Lm1taW9f
ZGVidWc9TiBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiIpOwo+ICAJCQlpOTE1X21vZHBhcmFtcy5t
bWlvX2RlYnVnKys7Cj4gIAkJfQo+IC0JCXVuY29yZS0+dW5jbGFpbWVkX21taW9fY2hlY2stLTsK
PiArCQl1bmNvcmUtPmRlYnVnLT51bmNsYWltZWRfbW1pb19jaGVjay0tOwo+ICAJCXJldCA9IHRy
dWU7Cj4gIAl9Cj4gIAo+ICBvdXQ6Cj4gLQlzcGluX3VubG9ja19pcnEoJnVuY29yZS0+bG9jayk7
Cj4gKwlzcGluX3VubG9ja19pcnEoJnVuY29yZS0+ZGVidWctPmxvY2spOwo+ICAKPiAgCXJldHVy
biByZXQ7Cj4gIH0KPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfdW5j
b3JlLmggYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF91bmNvcmUuaAo+IGluZGV4IGU2MDNk
MjEwYTM0ZC4uNDE0ZmMyY2IwNDU5IDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1
L2ludGVsX3VuY29yZS5oCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfdW5jb3Jl
LmgKPiBAQCAtMzYsNiArMzYsMTMgQEAgc3RydWN0IGRybV9pOTE1X3ByaXZhdGU7Cj4gIHN0cnVj
dCBpbnRlbF9ydW50aW1lX3BtOwo+ICBzdHJ1Y3QgaW50ZWxfdW5jb3JlOwo+ICAKPiArc3RydWN0
IGludGVsX3VuY29yZV9tbWlvX2RlYnVnIHsKPiArCXNwaW5sb2NrX3QgbG9jazsgLyoqIGxvY2sg
aXMgYWxzbyB0YWtlbiBpbiBpcnEgY29udGV4dHMuICovCj4gKwlpbnQgdW5jbGFpbWVkX21taW9f
Y2hlY2s7Cj4gKwlpbnQgc2F2ZWRfbW1pb19jaGVjazsKPiArCXUzMiBzdXNwZW5kX2NvdW50Owo+
ICt9Owo+ICsKPiAgZW51bSBmb3JjZXdha2VfZG9tYWluX2lkIHsKPiAgCUZXX0RPTUFJTl9JRF9S
RU5ERVIgPSAwLAo+ICAJRldfRE9NQUlOX0lEX0JMSVRURVIsCj4gQEAgLTEzNywxNCArMTQ0LDkg
QEAgc3RydWN0IGludGVsX3VuY29yZSB7Cj4gIAkJdTMyIF9faW9tZW0gKnJlZ19hY2s7Cj4gIAl9
ICpmd19kb21haW5bRldfRE9NQUlOX0lEX0NPVU5UXTsKPiAgCj4gLQlzdHJ1Y3Qgewo+IC0JCXVu
c2lnbmVkIGludCBjb3VudDsKPiAtCj4gLQkJaW50IHNhdmVkX21taW9fY2hlY2s7Cj4gLQkJaW50
IHNhdmVkX21taW9fZGVidWc7Cj4gLQl9IHVzZXJfZm9yY2V3YWtlOwo+ICsJdW5zaWduZWQgaW50
IHVzZXJfZm9yY2V3YWtlX2NvdW50Owo+ICAKPiAtCWludCB1bmNsYWltZWRfbW1pb19jaGVjazsK
PiArCXN0cnVjdCBpbnRlbF91bmNvcmVfbW1pb19kZWJ1ZyAqZGVidWc7Cj4gIH07Cj4gIAo+ICAv
KiBJdGVyYXRlIG92ZXIgaW5pdGlhbGlzZWQgZncgZG9tYWlucyAqLwo+IEBAIC0xNzksNiArMTgx
LDggQEAgaW50ZWxfdW5jb3JlX2hhc19maWZvKGNvbnN0IHN0cnVjdCBpbnRlbF91bmNvcmUgKnVu
Y29yZSkKPiAgCXJldHVybiB1bmNvcmUtPmZsYWdzICYgVU5DT1JFX0hBU19GSUZPOwo+ICB9Cj4g
IAo+ICt2b2lkCj4gK2ludGVsX3VuY29yZV9tbWlvX2RlYnVnX2luaXRfZWFybHkoc3RydWN0IGlu
dGVsX3VuY29yZV9tbWlvX2RlYnVnICptbWlvX2RlYnVnKTsKPiAgdm9pZCBpbnRlbF91bmNvcmVf
aW5pdF9lYXJseShzdHJ1Y3QgaW50ZWxfdW5jb3JlICp1bmNvcmUsCj4gIAkJCSAgICAgc3RydWN0
IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUpOwo+ICBpbnQgaW50ZWxfdW5jb3JlX2luaXRfbW1pbyhz
dHJ1Y3QgaW50ZWxfdW5jb3JlICp1bmNvcmUpOwo+IC0tIAo+IDIuMjIuMAo+Cj4gX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KPiBJbnRlbC1nZnggbWFpbGlu
ZyBsaXN0Cj4gSW50ZWwtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwo+IGh0dHBzOi8vbGlzdHMu
ZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vaW50ZWwtZ2Z4Cl9fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCkludGVsLWdmeCBtYWlsaW5nIGxpc3QK
SW50ZWwtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9w
Lm9yZy9tYWlsbWFuL2xpc3RpbmZvL2ludGVsLWdmeA==

Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 812D21440DC
	for <lists+intel-gfx@lfdr.de>; Tue, 21 Jan 2020 16:49:57 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id C55706ED70;
	Tue, 21 Jan 2020 15:49:54 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mail-wm1-x342.google.com (mail-wm1-x342.google.com
 [IPv6:2a00:1450:4864:20::342])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 1C2C26EB23
 for <intel-gfx@lists.freedesktop.org>; Tue, 21 Jan 2020 15:49:54 +0000 (UTC)
Received: by mail-wm1-x342.google.com with SMTP id p9so3463705wmc.2
 for <intel-gfx@lists.freedesktop.org>; Tue, 21 Jan 2020 07:49:54 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20161025;
 h=reply-to:subject:to:references:from:message-id:date:user-agent
 :mime-version:in-reply-to:content-language:content-transfer-encoding;
 bh=FhDMjOHc32nblhQBxlXndijhg1Ok6NRZof3cC4wjI0s=;
 b=luooFxSQ59DD44Rw8pw8/zV+vhyvn+lKUXXw2/Yd9HeA4GRvzGxOaiXUEQY7/OLMhl
 B8Ud9CSPi7gjl0xAVulTlUuYCQl5/7eRvRiauuKNJWylywdKpgUtG7JGg57Pgjmccbxn
 s62qj4SmSoxdtlG7QuJTeu/LQUAttniNCN6ZaTZ/UtiuMc6QItFh8/yM4XPLGEglWRv9
 LNxhTeCzy9WB/1YWelyQ+jOgVTEYSCJWntqsIRfm7E5Vv3UFt/5GM9z1A3qWMUiChCmV
 Esz9LazcI6ydLNDiFP1dkXi74iRv0XJu4Yy/QryOnmrmCLo7oiqLwOoNDyD1S4LcO3d6
 iPFQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:reply-to:subject:to:references:from:message-id
 :date:user-agent:mime-version:in-reply-to:content-language
 :content-transfer-encoding;
 bh=FhDMjOHc32nblhQBxlXndijhg1Ok6NRZof3cC4wjI0s=;
 b=OtBBzQQ49Dsx5VrIRzBmMSfU31PeovIFrp062Z7EfWSdCG12YbNFCu5rn7N5IxUV9A
 GVYdDfIKRBmccZUoYI+KCmTWJF/xhOmbQRnlvka3trJyHeACs7+61+1wpce7kNiyCTCM
 zSOkB8QOs/X3nuTzEoGEGcGfq9RuTHD9U63eVnWYpjzEoDukWcu/MrKbYCVgQ/tkU4vU
 /f3UYMpqSei8LV/F/uelycvsuNU5McBkz6dQcqvMyOFXpej8IdsyWGnwhbyxPWC+3Pd2
 7afc+X+K8gAHjibYea0hjT01tLDWUnK2/CooDVoie3kjGi038v5lRR55J726gCtbzuA5
 kGFg==
X-Gm-Message-State: APjAAAUGYoJ8ofk9rL0X4jofQ5Q+JwfrNgA7NQbiVsdzqL7xIl+F1Tc4
 Ka+s8aOxZjLtbwOMMLkMqN8M2dqdlsg=
X-Google-Smtp-Source: APXvYqwFKXTZiU13jFnHGK2hegE/8ZTdih7lO9T3XD4bIi1beHsLmxL0GADrib5L8vSCbfplamXJSA==
X-Received: by 2002:a7b:c450:: with SMTP id l16mr4712273wmi.166.1579621792231; 
 Tue, 21 Jan 2020 07:49:52 -0800 (PST)
Received: from [0.0.0.0] ([134.134.137.77])
 by smtp.googlemail.com with ESMTPSA id q3sm54118812wrn.33.2020.01.21.07.49.48
 (version=TLS1_2 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=128/128);
 Tue, 21 Jan 2020 07:49:51 -0800 (PST)
To: Ville Syrjala <ville.syrjala@linux.intel.com>,
 intel-gfx@lists.freedesktop.org
References: <20191204180549.1267-1-ville.syrjala@linux.intel.com>
 <20191204180549.1267-6-ville.syrjala@linux.intel.com>
From: Juha-Pekka Heikkila <juhapekka.heikkila@gmail.com>
Message-ID: <921b3d5a-7a07-9eca-1e63-9d5bec3491e2@gmail.com>
Date: Tue, 21 Jan 2020 17:49:47 +0200
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101
 Thunderbird/60.9.0
MIME-Version: 1.0
In-Reply-To: <20191204180549.1267-6-ville.syrjala@linux.intel.com>
Content-Language: en-US
Subject: Re: [Intel-gfx] [PATCH 5/9] drm/i915: Use intel_attached_encoder()
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Reply-To: juhapekka.heikkila@gmail.com
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

UmV2aWV3ZWQtYnk6IEp1aGEtUGVra2EgSGVpa2tpbGEgPGp1aGFwZWtrYS5oZWlra2lsYUBnbWFp
bC5jb20+CgpPbiA0LjEyLjIwMTkgMjAuMDUsIFZpbGxlIFN5cmphbGEgd3JvdGU6Cj4gRnJvbTog
VmlsbGUgU3lyasOkbMOkIDx2aWxsZS5zeXJqYWxhQGxpbnV4LmludGVsLmNvbT4KPiAKPiBJdCdz
IGVhc3kgdG8gY29uZnVzZSB0aGUgZHJtX2Nvbm5lY3Rvci0+ZW5jb2RlciAobGVnYWN5IHN0YXRl
Cj4gYWRqdXN0ZWQgZHVyaW5nIG1vZGVzZXQpIGFuZCBpbnRlbF9jb25uZWN0b3ItPmVuY29kZXIg
KHRoZSBzdGF0aWNhbGx5Cj4gKHNhbnMuIE1TVCkgYXR0YWNoZWQgZW5jb2RlciBvZiB0aGUgY29u
bmVjdG9yKS4gRm9yIHRoZSBsYXR0ZXIKPiBsZXQncyB1c2UgaW50ZWxfYXR0YWNoZWRfZW5jb2Rl
cigpIGNvbnNpc3RlbnRseS4KPiAKPiBAQAo+IGlkZW50aWZpZXIgRiAhfiAiXmludGVsX2F0dGFj
aGVkX2VuY29kZXIkIjsKPiBzdHJ1Y3QgaW50ZWxfY29ubmVjdG9yICpDOwo+IGV4cHJlc3Npb24g
RTsKPiBAQAo+IEYoLi4uKQo+IHsKPiA8Li4uCj4gKAo+ICAgIEMtPmVuY29kZXIgPSBFCj4gfAo+
IC0gQy0+ZW5jb2Rlcgo+ICsgaW50ZWxfYXR0YWNoZWRfZW5jb2RlcihDKQo+ICkKPiAuLi4+Cj4g
fQo+IAo+IEBACj4gaWRlbnRpZmllciBGICF+ICJeaW50ZWxfYXR0YWNoZWRfZW5jb2RlciQiOwo+
IHN0cnVjdCBkcm1fY29ubmVjdG9yICpDOwo+IGV4cHJlc3Npb24gRTsKPiBAQAo+IEYoLi4uKQo+
IHsKPiA8Li4uCj4gKAo+ICAgIHRvX2ludGVsX2Nvbm5lY3RvcihDKS0+ZW5jb2RlciA9IEUKPiB8
Cj4gLSB0b19pbnRlbF9jb25uZWN0b3IoQyktPmVuY29kZXIKPiArIGludGVsX2F0dGFjaGVkX2Vu
Y29kZXIodG9faW50ZWxfY29ubmVjdG9yKEMpKQo+ICkKPiAuLi4+Cj4gfQo+IAo+IFNpZ25lZC1v
ZmYtYnk6IFZpbGxlIFN5cmrDpGzDpCA8dmlsbGUuc3lyamFsYUBsaW51eC5pbnRlbC5jb20+Cj4g
LS0tCj4gICBkcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Nvbm5lY3Rvci5jICAg
ICAgIHwgIDIgKy0KPiAgIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGRpLmMg
ICAgICAgICAgICAgfCAgMiArLQo+ICAgZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRl
bF9kaXNwbGF5LmMgICAgICAgICB8ICA0ICsrLS0KPiAgIC4uLi9ncHUvZHJtL2k5MTUvZGlzcGxh
eS9pbnRlbF9kcF9hdXhfYmFja2xpZ2h0LmMgICAgfCAxMiArKysrKystLS0tLS0KPiAgIGRyaXZl
cnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZHBfbXN0LmMgICAgICAgICAgfCAgNCArKy0t
Cj4gICAuLi4vZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZHNpX2Rjc19iYWNrbGlnaHQuYyAg
IHwgIDQgKystLQo+ICAgZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9oZGNwLmMg
ICAgICAgICAgICB8ICA4ICsrKystLS0tCj4gICBkcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5
L2ludGVsX2hvdHBsdWcuYyAgICAgICAgIHwgMTAgKysrKystLS0tLQo+ICAgZHJpdmVycy9ncHUv
ZHJtL2k5MTUvZGlzcGxheS92bHZfZHNpLmMgICAgICAgICAgICAgICB8ICAyICstCj4gICBkcml2
ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2RlYnVnZnMuYyAgICAgICAgICAgICAgICAgIHwgIDYgKysr
LS0tCj4gICAxMCBmaWxlcyBjaGFuZ2VkLCAyNyBpbnNlcnRpb25zKCspLCAyNyBkZWxldGlvbnMo
LSkKPiAKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9j
b25uZWN0b3IuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfY29ubmVjdG9y
LmMKPiBpbmRleCAxMTMzYzRlOTdiYjQuLjU0ODkxYTRlZDJmMyAxMDA2NDQKPiAtLS0gYS9kcml2
ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Nvbm5lY3Rvci5jCj4gKysrIGIvZHJpdmVy
cy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9jb25uZWN0b3IuYwo+IEBAIC0xNTMsNyArMTUz
LDcgQEAgdm9pZCBpbnRlbF9jb25uZWN0b3JfYXR0YWNoX2VuY29kZXIoc3RydWN0IGludGVsX2Nv
bm5lY3RvciAqY29ubmVjdG9yLAo+ICAgYm9vbCBpbnRlbF9jb25uZWN0b3JfZ2V0X2h3X3N0YXRl
KHN0cnVjdCBpbnRlbF9jb25uZWN0b3IgKmNvbm5lY3RvcikKPiAgIHsKPiAgIAllbnVtIHBpcGUg
cGlwZSA9IDA7Cj4gLQlzdHJ1Y3QgaW50ZWxfZW5jb2RlciAqZW5jb2RlciA9IGNvbm5lY3Rvci0+
ZW5jb2RlcjsKPiArCXN0cnVjdCBpbnRlbF9lbmNvZGVyICplbmNvZGVyID0gaW50ZWxfYXR0YWNo
ZWRfZW5jb2Rlcihjb25uZWN0b3IpOwo+ICAgCj4gICAJcmV0dXJuIGVuY29kZXItPmdldF9od19z
dGF0ZShlbmNvZGVyLCAmcGlwZSk7Cj4gICB9Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGRpLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5
L2ludGVsX2RkaS5jCj4gaW5kZXggNTJkMTg3ZGIzMjBmLi4zZTQ2MDE3MTUwYjQgMTAwNjQ0Cj4g
LS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kZGkuYwo+ICsrKyBiL2Ry
aXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGRpLmMKPiBAQCAtMjAwMyw3ICsyMDAz
LDcgQEAgYm9vbCBpbnRlbF9kZGlfY29ubmVjdG9yX2dldF9od19zdGF0ZShzdHJ1Y3QgaW50ZWxf
Y29ubmVjdG9yICppbnRlbF9jb25uZWN0b3IpCj4gICB7Cj4gICAJc3RydWN0IGRybV9kZXZpY2Ug
KmRldiA9IGludGVsX2Nvbm5lY3Rvci0+YmFzZS5kZXY7Cj4gICAJc3RydWN0IGRybV9pOTE1X3By
aXZhdGUgKmRldl9wcml2ID0gdG9faTkxNShkZXYpOwo+IC0Jc3RydWN0IGludGVsX2VuY29kZXIg
KmVuY29kZXIgPSBpbnRlbF9jb25uZWN0b3ItPmVuY29kZXI7Cj4gKwlzdHJ1Y3QgaW50ZWxfZW5j
b2RlciAqZW5jb2RlciA9IGludGVsX2F0dGFjaGVkX2VuY29kZXIoaW50ZWxfY29ubmVjdG9yKTsK
PiAgIAlpbnQgdHlwZSA9IGludGVsX2Nvbm5lY3Rvci0+YmFzZS5jb25uZWN0b3JfdHlwZTsKPiAg
IAllbnVtIHBvcnQgcG9ydCA9IGVuY29kZXItPnBvcnQ7Cj4gICAJZW51bSB0cmFuc2NvZGVyIGNw
dV90cmFuc2NvZGVyOwo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5
L2ludGVsX2Rpc3BsYXkuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlz
cGxheS5jCj4gaW5kZXggNDU1NjhhN2M2NTc5Li5kZjFiODAzODcxMDYgMTAwNjQ0Cj4gLS0tIGEv
ZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5LmMKPiArKysgYi9kcml2
ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXkuYwo+IEBAIC03Mjc5LDcgKzcy
NzksNyBAQCBzdGF0aWMgdm9pZCBpbnRlbF9jb25uZWN0b3JfdmVyaWZ5X3N0YXRlKHN0cnVjdCBp
bnRlbF9jcnRjX3N0YXRlICpjcnRjX3N0YXRlLAo+ICAgCQkgICAgICBjb25uZWN0b3ItPmJhc2Uu
bmFtZSk7Cj4gICAKPiAgIAlpZiAoY29ubmVjdG9yLT5nZXRfaHdfc3RhdGUoY29ubmVjdG9yKSkg
ewo+IC0JCXN0cnVjdCBpbnRlbF9lbmNvZGVyICplbmNvZGVyID0gY29ubmVjdG9yLT5lbmNvZGVy
Owo+ICsJCXN0cnVjdCBpbnRlbF9lbmNvZGVyICplbmNvZGVyID0gaW50ZWxfYXR0YWNoZWRfZW5j
b2Rlcihjb25uZWN0b3IpOwo+ICAgCj4gICAJCUk5MTVfU1RBVEVfV0FSTighY3J0Y19zdGF0ZSwK
PiAgIAkJCSAiY29ubmVjdG9yIGVuYWJsZWQgd2l0aG91dCBhdHRhY2hlZCBjcnRjXG4iKTsKPiBA
QCAtMTc1MjksNyArMTc1MjksNyBAQCBzdGF0aWMgdm9pZCBpbnRlbF9tb2Rlc2V0X3JlYWRvdXRf
aHdfc3RhdGUoc3RydWN0IGRybV9kZXZpY2UgKmRldikKPiAgIAo+ICAgCQkJY29ubmVjdG9yLT5i
YXNlLmRwbXMgPSBEUk1fTU9ERV9EUE1TX09OOwo+ICAgCj4gLQkJCWVuY29kZXIgPSBjb25uZWN0
b3ItPmVuY29kZXI7Cj4gKwkJCWVuY29kZXIgPSBpbnRlbF9hdHRhY2hlZF9lbmNvZGVyKGNvbm5l
Y3Rvcik7Cj4gICAJCQljb25uZWN0b3ItPmJhc2UuZW5jb2RlciA9ICZlbmNvZGVyLT5iYXNlOwo+
ICAgCj4gICAJCQljcnRjID0gdG9faW50ZWxfY3J0YyhlbmNvZGVyLT5iYXNlLmNydGMpOwo+IGRp
ZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2RwX2F1eF9iYWNr
bGlnaHQuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZHBfYXV4X2JhY2ts
aWdodC5jCj4gaW5kZXggN2M2NTNmOGMzMDdmLi43NzFlMjJhMGIyYTQgMTAwNjQ0Cj4gLS0tIGEv
ZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kcF9hdXhfYmFja2xpZ2h0LmMKPiAr
KysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2RwX2F1eF9iYWNrbGlnaHQu
Ywo+IEBAIC01Nyw3ICs1Nyw3IEBAIHN0YXRpYyB2b2lkIHNldF9hdXhfYmFja2xpZ2h0X2VuYWJs
ZShzdHJ1Y3QgaW50ZWxfZHAgKmludGVsX2RwLCBib29sIGVuYWJsZSkKPiAgICAqLwo+ICAgc3Rh
dGljIHUzMiBpbnRlbF9kcF9hdXhfZ2V0X2JhY2tsaWdodChzdHJ1Y3QgaW50ZWxfY29ubmVjdG9y
ICpjb25uZWN0b3IpCj4gICB7Cj4gLQlzdHJ1Y3QgaW50ZWxfZHAgKmludGVsX2RwID0gZW5jX3Rv
X2ludGVsX2RwKGNvbm5lY3Rvci0+ZW5jb2Rlcik7Cj4gKwlzdHJ1Y3QgaW50ZWxfZHAgKmludGVs
X2RwID0gZW5jX3RvX2ludGVsX2RwKGludGVsX2F0dGFjaGVkX2VuY29kZXIoY29ubmVjdG9yKSk7
Cj4gICAJdTggcmVhZF92YWxbMl0gPSB7IDB4MCB9Owo+ICAgCXUxNiBsZXZlbCA9IDA7Cj4gICAK
PiBAQCAtODIsNyArODIsNyBAQCBzdGF0aWMgdm9pZAo+ICAgaW50ZWxfZHBfYXV4X3NldF9iYWNr
bGlnaHQoY29uc3Qgc3RydWN0IGRybV9jb25uZWN0b3Jfc3RhdGUgKmNvbm5fc3RhdGUsIHUzMiBs
ZXZlbCkKPiAgIHsKPiAgIAlzdHJ1Y3QgaW50ZWxfY29ubmVjdG9yICpjb25uZWN0b3IgPSB0b19p
bnRlbF9jb25uZWN0b3IoY29ubl9zdGF0ZS0+Y29ubmVjdG9yKTsKPiAtCXN0cnVjdCBpbnRlbF9k
cCAqaW50ZWxfZHAgPSBlbmNfdG9faW50ZWxfZHAoY29ubmVjdG9yLT5lbmNvZGVyKTsKPiArCXN0
cnVjdCBpbnRlbF9kcCAqaW50ZWxfZHAgPSBlbmNfdG9faW50ZWxfZHAoaW50ZWxfYXR0YWNoZWRf
ZW5jb2Rlcihjb25uZWN0b3IpKTsKPiAgIAl1OCB2YWxzWzJdID0geyAweDAgfTsKPiAgIAo+ICAg
CXZhbHNbMF0gPSBsZXZlbDsKPiBAQCAtMTEwLDcgKzExMCw3IEBAIGludGVsX2RwX2F1eF9zZXRf
YmFja2xpZ2h0KGNvbnN0IHN0cnVjdCBkcm1fY29ubmVjdG9yX3N0YXRlICpjb25uX3N0YXRlLCB1
MzIgbGV2Cj4gICBzdGF0aWMgYm9vbCBpbnRlbF9kcF9hdXhfc2V0X3B3bV9mcmVxKHN0cnVjdCBp
bnRlbF9jb25uZWN0b3IgKmNvbm5lY3RvcikKPiAgIHsKPiAgIAlzdHJ1Y3QgZHJtX2k5MTVfcHJp
dmF0ZSAqZGV2X3ByaXYgPSB0b19pOTE1KGNvbm5lY3Rvci0+YmFzZS5kZXYpOwo+IC0Jc3RydWN0
IGludGVsX2RwICppbnRlbF9kcCA9IGVuY190b19pbnRlbF9kcChjb25uZWN0b3ItPmVuY29kZXIp
Owo+ICsJc3RydWN0IGludGVsX2RwICppbnRlbF9kcCA9IGVuY190b19pbnRlbF9kcChpbnRlbF9h
dHRhY2hlZF9lbmNvZGVyKGNvbm5lY3RvcikpOwo+ICAgCWludCBmcmVxLCBmeHAsIGZ4cF9taW4s
IGZ4cF9tYXgsIGZ4cF9hY3R1YWwsIGYgPSAxOwo+ICAgCXU4IHBuLCBwbl9taW4sIHBuX21heDsK
PiAgIAo+IEBAIC0xNzgsNyArMTc4LDcgQEAgc3RhdGljIHZvaWQgaW50ZWxfZHBfYXV4X2VuYWJs
ZV9iYWNrbGlnaHQoY29uc3Qgc3RydWN0IGludGVsX2NydGNfc3RhdGUgKmNydGNfc3QKPiAgIAkJ
CQkJICBjb25zdCBzdHJ1Y3QgZHJtX2Nvbm5lY3Rvcl9zdGF0ZSAqY29ubl9zdGF0ZSkKPiAgIHsK
PiAgIAlzdHJ1Y3QgaW50ZWxfY29ubmVjdG9yICpjb25uZWN0b3IgPSB0b19pbnRlbF9jb25uZWN0
b3IoY29ubl9zdGF0ZS0+Y29ubmVjdG9yKTsKPiAtCXN0cnVjdCBpbnRlbF9kcCAqaW50ZWxfZHAg
PSBlbmNfdG9faW50ZWxfZHAoY29ubmVjdG9yLT5lbmNvZGVyKTsKPiArCXN0cnVjdCBpbnRlbF9k
cCAqaW50ZWxfZHAgPSBlbmNfdG9faW50ZWxfZHAoaW50ZWxfYXR0YWNoZWRfZW5jb2Rlcihjb25u
ZWN0b3IpKTsKPiAgIAl1OCBkcGNkX2J1ZiwgbmV3X2RwY2RfYnVmLCBlZHBfYmFja2xpZ2h0X21v
ZGU7Cj4gICAKPiAgIAlpZiAoZHJtX2RwX2RwY2RfcmVhZGIoJmludGVsX2RwLT5hdXgsCj4gQEAg
LTIyOSw3ICsyMjksNyBAQCBzdGF0aWMgdm9pZCBpbnRlbF9kcF9hdXhfZGlzYWJsZV9iYWNrbGln
aHQoY29uc3Qgc3RydWN0IGRybV9jb25uZWN0b3Jfc3RhdGUgKm9sZAo+ICAgc3RhdGljIGludCBp
bnRlbF9kcF9hdXhfc2V0dXBfYmFja2xpZ2h0KHN0cnVjdCBpbnRlbF9jb25uZWN0b3IgKmNvbm5l
Y3RvciwKPiAgIAkJCQkJZW51bSBwaXBlIHBpcGUpCj4gICB7Cj4gLQlzdHJ1Y3QgaW50ZWxfZHAg
KmludGVsX2RwID0gZW5jX3RvX2ludGVsX2RwKGNvbm5lY3Rvci0+ZW5jb2Rlcik7Cj4gKwlzdHJ1
Y3QgaW50ZWxfZHAgKmludGVsX2RwID0gZW5jX3RvX2ludGVsX2RwKGludGVsX2F0dGFjaGVkX2Vu
Y29kZXIoY29ubmVjdG9yKSk7Cj4gICAJc3RydWN0IGludGVsX3BhbmVsICpwYW5lbCA9ICZjb25u
ZWN0b3ItPnBhbmVsOwo+ICAgCj4gICAJaWYgKGludGVsX2RwLT5lZHBfZHBjZFsyXSAmIERQX0VE
UF9CQUNLTElHSFRfQlJJR0hUTkVTU19CWVRFX0NPVU5UKQo+IEBAIC0yNDgsNyArMjQ4LDcgQEAg
c3RhdGljIGludCBpbnRlbF9kcF9hdXhfc2V0dXBfYmFja2xpZ2h0KHN0cnVjdCBpbnRlbF9jb25u
ZWN0b3IgKmNvbm5lY3RvciwKPiAgIHN0YXRpYyBib29sCj4gICBpbnRlbF9kcF9hdXhfZGlzcGxh
eV9jb250cm9sX2NhcGFibGUoc3RydWN0IGludGVsX2Nvbm5lY3RvciAqY29ubmVjdG9yKQo+ICAg
ewo+IC0Jc3RydWN0IGludGVsX2RwICppbnRlbF9kcCA9IGVuY190b19pbnRlbF9kcChjb25uZWN0
b3ItPmVuY29kZXIpOwo+ICsJc3RydWN0IGludGVsX2RwICppbnRlbF9kcCA9IGVuY190b19pbnRl
bF9kcChpbnRlbF9hdHRhY2hlZF9lbmNvZGVyKGNvbm5lY3RvcikpOwo+ICAgCj4gICAJLyogQ2hl
Y2sgdGhlIGVEUCBEaXNwbGF5IGNvbnRyb2wgY2FwYWJpbGl0aWVzIHJlZ2lzdGVycyB0byBkZXRl
cm1pbmUgaWYKPiAgIAkgKiB0aGUgcGFuZWwgY2FuIHN1cHBvcnQgYmFja2xpZ2h0IGNvbnRyb2wg
b3ZlciB0aGUgYXV4IGNoYW5uZWwKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUv
ZGlzcGxheS9pbnRlbF9kcF9tc3QuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50
ZWxfZHBfbXN0LmMKPiBpbmRleCBhZjdmNmQ2NzBlMDcuLjFhN2Q2OTg0M2MxMiAxMDA2NDQKPiAt
LS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2RwX21zdC5jCj4gKysrIGIv
ZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kcF9tc3QuYwo+IEBAIC01MDMsOSAr
NTAzLDkgQEAgc3RhdGljIGNvbnN0IHN0cnVjdCBkcm1fZW5jb2Rlcl9mdW5jcyBpbnRlbF9kcF9t
c3RfZW5jX2Z1bmNzID0gewo+ICAgCj4gICBzdGF0aWMgYm9vbCBpbnRlbF9kcF9tc3RfZ2V0X2h3
X3N0YXRlKHN0cnVjdCBpbnRlbF9jb25uZWN0b3IgKmNvbm5lY3RvcikKPiAgIHsKPiAtCWlmIChj
b25uZWN0b3ItPmVuY29kZXIgJiYgY29ubmVjdG9yLT5iYXNlLnN0YXRlLT5jcnRjKSB7Cj4gKwlp
ZiAoaW50ZWxfYXR0YWNoZWRfZW5jb2Rlcihjb25uZWN0b3IpICYmIGNvbm5lY3Rvci0+YmFzZS5z
dGF0ZS0+Y3J0Yykgewo+ICAgCQllbnVtIHBpcGUgcGlwZTsKPiAtCQlpZiAoIWNvbm5lY3Rvci0+
ZW5jb2Rlci0+Z2V0X2h3X3N0YXRlKGNvbm5lY3Rvci0+ZW5jb2RlciwgJnBpcGUpKQo+ICsJCWlm
ICghaW50ZWxfYXR0YWNoZWRfZW5jb2Rlcihjb25uZWN0b3IpLT5nZXRfaHdfc3RhdGUoaW50ZWxf
YXR0YWNoZWRfZW5jb2Rlcihjb25uZWN0b3IpLCAmcGlwZSkpCj4gICAJCQlyZXR1cm4gZmFsc2U7
Cj4gICAJCXJldHVybiB0cnVlOwo+ICAgCX0KPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJt
L2k5MTUvZGlzcGxheS9pbnRlbF9kc2lfZGNzX2JhY2tsaWdodC5jIGIvZHJpdmVycy9ncHUvZHJt
L2k5MTUvZGlzcGxheS9pbnRlbF9kc2lfZGNzX2JhY2tsaWdodC5jCj4gaW5kZXggYzg3ODM4ODQz
ZDBiLi5hYzNlZmYyNmRmMTIgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlz
cGxheS9pbnRlbF9kc2lfZGNzX2JhY2tsaWdodC5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5
MTUvZGlzcGxheS9pbnRlbF9kc2lfZGNzX2JhY2tsaWdodC5jCj4gQEAgLTQ1LDcgKzQ1LDcgQEAK
PiAgIAo+ICAgc3RhdGljIHUzMiBkY3NfZ2V0X2JhY2tsaWdodChzdHJ1Y3QgaW50ZWxfY29ubmVj
dG9yICpjb25uZWN0b3IpCj4gICB7Cj4gLQlzdHJ1Y3QgaW50ZWxfZW5jb2RlciAqZW5jb2RlciA9
IGNvbm5lY3Rvci0+ZW5jb2RlcjsKPiArCXN0cnVjdCBpbnRlbF9lbmNvZGVyICplbmNvZGVyID0g
aW50ZWxfYXR0YWNoZWRfZW5jb2Rlcihjb25uZWN0b3IpOwo+ICAgCXN0cnVjdCBpbnRlbF9kc2kg
KmludGVsX2RzaSA9IGVuY190b19pbnRlbF9kc2koZW5jb2Rlcik7Cj4gICAJc3RydWN0IG1pcGlf
ZHNpX2RldmljZSAqZHNpX2RldmljZTsKPiAgIAl1OCBkYXRhID0gMDsKPiBAQCAtMTYwLDcgKzE2
MCw3IEBAIGludCBpbnRlbF9kc2lfZGNzX2luaXRfYmFja2xpZ2h0X2Z1bmNzKHN0cnVjdCBpbnRl
bF9jb25uZWN0b3IgKmludGVsX2Nvbm5lY3RvcikKPiAgIHsKPiAgIAlzdHJ1Y3QgZHJtX2Rldmlj
ZSAqZGV2ID0gaW50ZWxfY29ubmVjdG9yLT5iYXNlLmRldjsKPiAgIAlzdHJ1Y3QgZHJtX2k5MTVf
cHJpdmF0ZSAqZGV2X3ByaXYgPSB0b19pOTE1KGRldik7Cj4gLQlzdHJ1Y3QgaW50ZWxfZW5jb2Rl
ciAqZW5jb2RlciA9IGludGVsX2Nvbm5lY3Rvci0+ZW5jb2RlcjsKPiArCXN0cnVjdCBpbnRlbF9l
bmNvZGVyICplbmNvZGVyID0gaW50ZWxfYXR0YWNoZWRfZW5jb2RlcihpbnRlbF9jb25uZWN0b3Ip
Owo+ICAgCXN0cnVjdCBpbnRlbF9wYW5lbCAqcGFuZWwgPSAmaW50ZWxfY29ubmVjdG9yLT5wYW5l
bDsKPiAgIAo+ICAgCWlmIChkZXZfcHJpdi0+dmJ0LmJhY2tsaWdodC50eXBlICE9IElOVEVMX0JB
Q0tMSUdIVF9EU0lfRENTKQo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNw
bGF5L2ludGVsX2hkY3AuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfaGRj
cC5jCj4gaW5kZXggMGZkYmQzOWY2NjQxLi4yODU5MjMwNjcxYWUgMTAwNjQ0Cj4gLS0tIGEvZHJp
dmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9oZGNwLmMKPiArKysgYi9kcml2ZXJzL2dw
dS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2hkY3AuYwo+IEBAIC0xNTI3LDcgKzE1MjcsNyBAQCBz
dGF0aWMgaW50IGhkY3AyX2VuYWJsZV9lbmNyeXB0aW9uKHN0cnVjdCBpbnRlbF9jb25uZWN0b3Ig
KmNvbm5lY3RvcikKPiAgIAlzdHJ1Y3QgaW50ZWxfZGlnaXRhbF9wb3J0ICppbnRlbF9kaWdfcG9y
dCA9IGNvbm5fdG9fZGlnX3BvcnQoY29ubmVjdG9yKTsKPiAgIAlzdHJ1Y3QgZHJtX2k5MTVfcHJp
dmF0ZSAqZGV2X3ByaXYgPSB0b19pOTE1KGNvbm5lY3Rvci0+YmFzZS5kZXYpOwo+ICAgCXN0cnVj
dCBpbnRlbF9oZGNwICpoZGNwID0gJmNvbm5lY3Rvci0+aGRjcDsKPiAtCWVudW0gcG9ydCBwb3J0
ID0gY29ubmVjdG9yLT5lbmNvZGVyLT5wb3J0Owo+ICsJZW51bSBwb3J0IHBvcnQgPSBpbnRlbF9h
dHRhY2hlZF9lbmNvZGVyKGNvbm5lY3RvciktPnBvcnQ7Cj4gICAJZW51bSB0cmFuc2NvZGVyIGNw
dV90cmFuc2NvZGVyID0gaGRjcC0+Y3B1X3RyYW5zY29kZXI7Cj4gICAJaW50IHJldDsKPiAgIAo+
IEBAIC0xNTY1LDcgKzE1NjUsNyBAQCBzdGF0aWMgaW50IGhkY3AyX2Rpc2FibGVfZW5jcnlwdGlv
bihzdHJ1Y3QgaW50ZWxfY29ubmVjdG9yICpjb25uZWN0b3IpCj4gICAJc3RydWN0IGludGVsX2Rp
Z2l0YWxfcG9ydCAqaW50ZWxfZGlnX3BvcnQgPSBjb25uX3RvX2RpZ19wb3J0KGNvbm5lY3Rvcik7
Cj4gICAJc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2ID0gdG9faTkxNShjb25uZWN0
b3ItPmJhc2UuZGV2KTsKPiAgIAlzdHJ1Y3QgaW50ZWxfaGRjcCAqaGRjcCA9ICZjb25uZWN0b3It
PmhkY3A7Cj4gLQllbnVtIHBvcnQgcG9ydCA9IGNvbm5lY3Rvci0+ZW5jb2Rlci0+cG9ydDsKPiAr
CWVudW0gcG9ydCBwb3J0ID0gaW50ZWxfYXR0YWNoZWRfZW5jb2Rlcihjb25uZWN0b3IpLT5wb3J0
Owo+ICAgCWVudW0gdHJhbnNjb2RlciBjcHVfdHJhbnNjb2RlciA9IGhkY3AtPmNwdV90cmFuc2Nv
ZGVyOwo+ICAgCWludCByZXQ7Cj4gICAKPiBAQCAtMTY3Niw3ICsxNjc2LDcgQEAgc3RhdGljIGlu
dCBpbnRlbF9oZGNwMl9jaGVja19saW5rKHN0cnVjdCBpbnRlbF9jb25uZWN0b3IgKmNvbm5lY3Rv
cikKPiAgIAlzdHJ1Y3QgaW50ZWxfZGlnaXRhbF9wb3J0ICppbnRlbF9kaWdfcG9ydCA9IGNvbm5f
dG9fZGlnX3BvcnQoY29ubmVjdG9yKTsKPiAgIAlzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2
X3ByaXYgPSB0b19pOTE1KGNvbm5lY3Rvci0+YmFzZS5kZXYpOwo+ICAgCXN0cnVjdCBpbnRlbF9o
ZGNwICpoZGNwID0gJmNvbm5lY3Rvci0+aGRjcDsKPiAtCWVudW0gcG9ydCBwb3J0ID0gY29ubmVj
dG9yLT5lbmNvZGVyLT5wb3J0Owo+ICsJZW51bSBwb3J0IHBvcnQgPSBpbnRlbF9hdHRhY2hlZF9l
bmNvZGVyKGNvbm5lY3RvciktPnBvcnQ7Cj4gICAJZW51bSB0cmFuc2NvZGVyIGNwdV90cmFuc2Nv
ZGVyOwo+ICAgCWludCByZXQgPSAwOwo+ICAgCj4gQEAgLTE4MzAsNyArMTgzMCw3IEBAIHN0YXRp
YyBpbmxpbmUgaW50IGluaXRpYWxpemVfaGRjcF9wb3J0X2RhdGEoc3RydWN0IGludGVsX2Nvbm5l
Y3RvciAqY29ubmVjdG9yLAo+ICAgCj4gICAJaWYgKElOVEVMX0dFTihkZXZfcHJpdikgPCAxMikK
PiAgIAkJZGF0YS0+ZndfZGRpID0KPiAtCQkJaW50ZWxfZ2V0X21laV9md19kZGlfaW5kZXgoY29u
bmVjdG9yLT5lbmNvZGVyLT5wb3J0KTsKPiArCQkJaW50ZWxfZ2V0X21laV9md19kZGlfaW5kZXgo
aW50ZWxfYXR0YWNoZWRfZW5jb2Rlcihjb25uZWN0b3IpLT5wb3J0KTsKPiAgIAllbHNlCj4gICAJ
CS8qCj4gICAJCSAqIEFzIHBlciBNRSBGVyBBUEkgZXhwZWN0YXRpb24sIGZvciBHRU4gMTIrLCBm
d19kZGkgaXMgZmlsbGVkCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3Bs
YXkvaW50ZWxfaG90cGx1Zy5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9o
b3RwbHVnLmMKPiBpbmRleCA5OWQzYTNjNzk4OWUuLmMzYTQ4YWYzNTk5NyAxMDA2NDQKPiAtLS0g
YS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2hvdHBsdWcuYwo+ICsrKyBiL2Ry
aXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfaG90cGx1Zy5jCj4gQEAgLTIwMCw3ICsy
MDAsNyBAQCBpbnRlbF9ocGRfaXJxX3N0b3JtX3N3aXRjaF90b19wb2xsaW5nKHN0cnVjdCBkcm1f
aTkxNV9wcml2YXRlICpkZXZfcHJpdikKPiAgIAkJCWNvbnRpbnVlOwo+ICAgCj4gICAJCWludGVs
X2Nvbm5lY3RvciA9IHRvX2ludGVsX2Nvbm5lY3Rvcihjb25uZWN0b3IpOwo+IC0JCWludGVsX2Vu
Y29kZXIgPSBpbnRlbF9jb25uZWN0b3ItPmVuY29kZXI7Cj4gKwkJaW50ZWxfZW5jb2RlciA9IGlu
dGVsX2F0dGFjaGVkX2VuY29kZXIoaW50ZWxfY29ubmVjdG9yKTsKPiAgIAkJaWYgKCFpbnRlbF9l
bmNvZGVyKQo+ICAgCQkJY29udGludWU7Cj4gICAKPiBAQCAtMjU1LDcgKzI1NSw3IEBAIHN0YXRp
YyB2b2lkIGludGVsX2hwZF9pcnFfc3Rvcm1fcmVlbmFibGVfd29yayhzdHJ1Y3Qgd29ya19zdHJ1
Y3QgKndvcmspCj4gICAKPiAgIAkJCS8qIERvbid0IGNoZWNrIE1TVCBwb3J0cywgdGhleSBkb24n
dCBoYXZlIHBpbnMgKi8KPiAgIAkJCWlmICghaW50ZWxfY29ubmVjdG9yLT5tc3RfcG9ydCAmJgo+
IC0JCQkgICAgaW50ZWxfY29ubmVjdG9yLT5lbmNvZGVyLT5ocGRfcGluID09IHBpbikgewo+ICsJ
CQkgICAgaW50ZWxfYXR0YWNoZWRfZW5jb2RlcihpbnRlbF9jb25uZWN0b3IpLT5ocGRfcGluID09
IHBpbikgewo+ICAgCQkJCWlmIChjb25uZWN0b3ItPnBvbGxlZCAhPSBpbnRlbF9jb25uZWN0b3It
PnBvbGxlZCkKPiAgIAkJCQkJRFJNX0RFQlVHX0RSSVZFUigiUmVlbmFibGluZyBIUEQgb24gY29u
bmVjdG9yICVzXG4iLAo+ICAgCQkJCQkJCSBjb25uZWN0b3ItPm5hbWUpOwo+IEBAIC0zODksOSAr
Mzg5LDkgQEAgc3RhdGljIHZvaWQgaTkxNV9ob3RwbHVnX3dvcmtfZnVuYyhzdHJ1Y3Qgd29ya19z
dHJ1Y3QgKndvcmspCj4gICAJCXUzMiBocGRfYml0Owo+ICAgCj4gICAJCWludGVsX2Nvbm5lY3Rv
ciA9IHRvX2ludGVsX2Nvbm5lY3Rvcihjb25uZWN0b3IpOwo+IC0JCWlmICghaW50ZWxfY29ubmVj
dG9yLT5lbmNvZGVyKQo+ICsJCWlmICghaW50ZWxfYXR0YWNoZWRfZW5jb2RlcihpbnRlbF9jb25u
ZWN0b3IpKQo+ICAgCQkJY29udGludWU7Cj4gLQkJaW50ZWxfZW5jb2RlciA9IGludGVsX2Nvbm5l
Y3Rvci0+ZW5jb2RlcjsKPiArCQlpbnRlbF9lbmNvZGVyID0gaW50ZWxfYXR0YWNoZWRfZW5jb2Rl
cihpbnRlbF9jb25uZWN0b3IpOwo+ICAgCQlocGRfYml0ID0gQklUKGludGVsX2VuY29kZXItPmhw
ZF9waW4pOwo+ICAgCQlpZiAoKGhwZF9ldmVudF9iaXRzIHwgaHBkX3JldHJ5X2JpdHMpICYgaHBk
X2JpdCkgewo+ICAgCQkJRFJNX0RFQlVHX0tNUygiQ29ubmVjdG9yICVzIChwaW4gJWkpIHJlY2Vp
dmVkIGhvdHBsdWcgZXZlbnQuXG4iLAo+IEBAIC02MjEsNyArNjIxLDcgQEAgc3RhdGljIHZvaWQg
aTkxNV9ocGRfcG9sbF9pbml0X3dvcmsoc3RydWN0IHdvcmtfc3RydWN0ICp3b3JrKQo+ICAgCQkJ
Y29udGludWU7Cj4gICAKPiAgIAkJaWYgKCFjb25uZWN0b3ItPnBvbGxlZCAmJiBJOTE1X0hBU19I
T1RQTFVHKGRldl9wcml2KSAmJgo+IC0JCSAgICBpbnRlbF9jb25uZWN0b3ItPmVuY29kZXItPmhw
ZF9waW4gPiBIUERfTk9ORSkgewo+ICsJCSAgICBpbnRlbF9hdHRhY2hlZF9lbmNvZGVyKGludGVs
X2Nvbm5lY3RvciktPmhwZF9waW4gPiBIUERfTk9ORSkgewo+ICAgCQkJY29ubmVjdG9yLT5wb2xs
ZWQgPSBlbmFibGVkID8KPiAgIAkJCQlEUk1fQ09OTkVDVE9SX1BPTExfQ09OTkVDVCB8Cj4gICAJ
CQkJRFJNX0NPTk5FQ1RPUl9QT0xMX0RJU0NPTk5FQ1QgOgo+IGRpZmYgLS1naXQgYS9kcml2ZXJz
L2dwdS9kcm0vaTkxNS9kaXNwbGF5L3Zsdl9kc2kuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rp
c3BsYXkvdmx2X2RzaS5jCj4gaW5kZXggMGMxOTA2NGU0MmUwLi41MzViMzMyYjA2N2QgMTAwNjQ0
Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS92bHZfZHNpLmMKPiArKysgYi9k
cml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L3Zsdl9kc2kuYwo+IEBAIC0xNTY3LDcgKzE1Njcs
NyBAQCBzdGF0aWMgZW51bSBkcm1fcGFuZWxfb3JpZW50YXRpb24KPiAgIHZsdl9kc2lfZ2V0X2h3
X3BhbmVsX29yaWVudGF0aW9uKHN0cnVjdCBpbnRlbF9jb25uZWN0b3IgKmNvbm5lY3RvcikKPiAg
IHsKPiAgIAlzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYgPSB0b19pOTE1KGNvbm5l
Y3Rvci0+YmFzZS5kZXYpOwo+IC0Jc3RydWN0IGludGVsX2VuY29kZXIgKmVuY29kZXIgPSBjb25u
ZWN0b3ItPmVuY29kZXI7Cj4gKwlzdHJ1Y3QgaW50ZWxfZW5jb2RlciAqZW5jb2RlciA9IGludGVs
X2F0dGFjaGVkX2VuY29kZXIoY29ubmVjdG9yKTsKPiAgIAllbnVtIGludGVsX2Rpc3BsYXlfcG93
ZXJfZG9tYWluIHBvd2VyX2RvbWFpbjsKPiAgIAllbnVtIGRybV9wYW5lbF9vcmllbnRhdGlvbiBv
cmllbnRhdGlvbjsKPiAgIAlzdHJ1Y3QgaW50ZWxfcGxhbmUgKnBsYW5lOwo+IGRpZmYgLS1naXQg
YS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2RlYnVnZnMuYyBiL2RyaXZlcnMvZ3B1L2RybS9p
OTE1L2k5MTVfZGVidWdmcy5jCj4gaW5kZXggM2JjOGQ1YzBlODhhLi5kOGMyZmEyNjcyYjUgMTAw
NjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kZWJ1Z2ZzLmMKPiArKysgYi9k
cml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2RlYnVnZnMuYwo+IEBAIC0yNDMxLDcgKzI0MzEsNyBA
QCBzdGF0aWMgdm9pZCBpbnRlbF9oZGNwX2luZm8oc3RydWN0IHNlcV9maWxlICptLAo+ICAgc3Rh
dGljIHZvaWQgaW50ZWxfZHBfaW5mbyhzdHJ1Y3Qgc2VxX2ZpbGUgKm0sCj4gICAJCQkgIHN0cnVj
dCBpbnRlbF9jb25uZWN0b3IgKmludGVsX2Nvbm5lY3RvcikKPiAgIHsKPiAtCXN0cnVjdCBpbnRl
bF9lbmNvZGVyICppbnRlbF9lbmNvZGVyID0gaW50ZWxfY29ubmVjdG9yLT5lbmNvZGVyOwo+ICsJ
c3RydWN0IGludGVsX2VuY29kZXIgKmludGVsX2VuY29kZXIgPSBpbnRlbF9hdHRhY2hlZF9lbmNv
ZGVyKGludGVsX2Nvbm5lY3Rvcik7Cj4gICAJc3RydWN0IGludGVsX2RwICppbnRlbF9kcCA9IGVu
Y190b19pbnRlbF9kcChpbnRlbF9lbmNvZGVyKTsKPiAgIAo+ICAgCXNlcV9wcmludGYobSwgIlx0
RFBDRCByZXY6ICV4XG4iLCBpbnRlbF9kcC0+ZHBjZFtEUF9EUENEX1JFVl0pOwo+IEBAIC0yNDUw
LDcgKzI0NTAsNyBAQCBzdGF0aWMgdm9pZCBpbnRlbF9kcF9pbmZvKHN0cnVjdCBzZXFfZmlsZSAq
bSwKPiAgIHN0YXRpYyB2b2lkIGludGVsX2RwX21zdF9pbmZvKHN0cnVjdCBzZXFfZmlsZSAqbSwK
PiAgIAkJCSAgc3RydWN0IGludGVsX2Nvbm5lY3RvciAqaW50ZWxfY29ubmVjdG9yKQo+ICAgewo+
IC0Jc3RydWN0IGludGVsX2VuY29kZXIgKmludGVsX2VuY29kZXIgPSBpbnRlbF9jb25uZWN0b3It
PmVuY29kZXI7Cj4gKwlzdHJ1Y3QgaW50ZWxfZW5jb2RlciAqaW50ZWxfZW5jb2RlciA9IGludGVs
X2F0dGFjaGVkX2VuY29kZXIoaW50ZWxfY29ubmVjdG9yKTsKPiAgIAlzdHJ1Y3QgaW50ZWxfZHBf
bXN0X2VuY29kZXIgKmludGVsX21zdCA9Cj4gICAJCWVuY190b19tc3QoaW50ZWxfZW5jb2Rlcik7
Cj4gICAJc3RydWN0IGludGVsX2RpZ2l0YWxfcG9ydCAqaW50ZWxfZGlnX3BvcnQgPSBpbnRlbF9t
c3QtPnByaW1hcnk7Cj4gQEAgLTI0NjQsNyArMjQ2NCw3IEBAIHN0YXRpYyB2b2lkIGludGVsX2Rw
X21zdF9pbmZvKHN0cnVjdCBzZXFfZmlsZSAqbSwKPiAgIHN0YXRpYyB2b2lkIGludGVsX2hkbWlf
aW5mbyhzdHJ1Y3Qgc2VxX2ZpbGUgKm0sCj4gICAJCQkgICAgc3RydWN0IGludGVsX2Nvbm5lY3Rv
ciAqaW50ZWxfY29ubmVjdG9yKQo+ICAgewo+IC0Jc3RydWN0IGludGVsX2VuY29kZXIgKmludGVs
X2VuY29kZXIgPSBpbnRlbF9jb25uZWN0b3ItPmVuY29kZXI7Cj4gKwlzdHJ1Y3QgaW50ZWxfZW5j
b2RlciAqaW50ZWxfZW5jb2RlciA9IGludGVsX2F0dGFjaGVkX2VuY29kZXIoaW50ZWxfY29ubmVj
dG9yKTsKPiAgIAlzdHJ1Y3QgaW50ZWxfaGRtaSAqaW50ZWxfaGRtaSA9IGVuY190b19pbnRlbF9o
ZG1pKGludGVsX2VuY29kZXIpOwo+ICAgCj4gICAJc2VxX3ByaW50ZihtLCAiXHRhdWRpbyBzdXBw
b3J0OiAlc1xuIiwgeWVzbm8oaW50ZWxfaGRtaS0+aGFzX2F1ZGlvKSk7Cj4gCgpfX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpJbnRlbC1nZnggbWFpbGluZyBs
aXN0CkludGVsLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVz
a3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9pbnRlbC1nZngK

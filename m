Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id DAE83FDB6E
	for <lists+intel-gfx@lfdr.de>; Fri, 15 Nov 2019 11:32:35 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 0B43B6E420;
	Fri, 15 Nov 2019 10:32:34 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from fireflyinternet.com (mail.fireflyinternet.com [109.228.58.192])
 by gabe.freedesktop.org (Postfix) with ESMTPS id C307A6E420;
 Fri, 15 Nov 2019 10:32:31 +0000 (UTC)
X-Default-Received-SPF: pass (skip=forwardok (res=PASS))
 x-ip-name=78.156.65.138; 
Received: from haswell.alporthouse.com (unverified [78.156.65.138]) 
 by fireflyinternet.com (Firefly Internet (M1)) with ESMTP id 19209992-1500050 
 for multiple; Fri, 15 Nov 2019 10:32:17 +0000
From: Chris Wilson <chris@chris-wilson.co.uk>
To: intel-gfx@lists.freedesktop.org
Date: Fri, 15 Nov 2019 10:32:16 +0000
Message-Id: <20191115103216.703705-1-chris@chris-wilson.co.uk>
X-Mailer: git-send-email 2.24.0
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH i-g-t] i915: Remove gem_mocs_settings
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: igt-dev@lists.freedesktop.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

VGhpcyBpZ3QgcmVsaWVzIG9uIHVzaW5nIHByaXZpbGVnZWQgYmF0Y2hlcyB0byByZWFkIGFuZCBt
b2RpZnkgcHJvdGVjdGVkCnJlZ2lzdGVycy4gVGhpcyBpcyBubyBsb25nZXIgc3VwcG9ydGVkIGFu
ZCBzbyB0aGUgdGVzdCBpcyBlbnRpcmVseQpkZWZ1bmN0LCBhbmQgZm9yIGFzIG11Y2ggYXMgd2Ug
Y2FuIGhhcyBiZWVuIHN1YnN1bWVkIGludG8gYSBrZXJuZWwKc2VsZnRlc3QuCgpTaWduZWQtb2Zm
LWJ5OiBDaHJpcyBXaWxzb24gPGNocmlzQGNocmlzLXdpbHNvbi5jby51az4KQ2M6IEpvb25hcyBM
YWh0aW5lbiA8am9vbmFzLmxhaHRpbmVuQGxpbnV4LmludGVsLmNvbT4KQ2M6IE1hcnRpbiBQZXJl
cyA8bWFydGluLnBlcmVzQGxpbnV4LmludGVsLmNvbT4KLS0tCiB0ZXN0cy9NYWtlZmlsZS5zb3Vy
Y2VzICAgICAgICAgfCAgIDMgLQogdGVzdHMvaTkxNS9nZW1fbW9jc19zZXR0aW5ncy5jIHwgNjQx
IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogdGVzdHMvaW50ZWwtY2kvYmxhY2ts
aXN0LnR4dCAgIHwgICAxIC0KIHRlc3RzL21lc29uLmJ1aWxkICAgICAgICAgICAgICB8ICAgOCAt
CiA0IGZpbGVzIGNoYW5nZWQsIDY1MyBkZWxldGlvbnMoLSkKIGRlbGV0ZSBtb2RlIDEwMDY0NCB0
ZXN0cy9pOTE1L2dlbV9tb2NzX3NldHRpbmdzLmMKCmRpZmYgLS1naXQgYS90ZXN0cy9NYWtlZmls
ZS5zb3VyY2VzIGIvdGVzdHMvTWFrZWZpbGUuc291cmNlcwppbmRleCAyNzgwMWM4OWMuLmYyZGNj
YTZkNyAxMDA2NDQKLS0tIGEvdGVzdHMvTWFrZWZpbGUuc291cmNlcworKysgYi90ZXN0cy9NYWtl
ZmlsZS5zb3VyY2VzCkBAIC0zMjYsOSArMzI2LDYgQEAgZ2VtX21tYXBfb2Zmc2V0X2V4aGF1c3Rp
b25fU09VUkNFUyA9IGk5MTUvZ2VtX21tYXBfb2Zmc2V0X2V4aGF1c3Rpb24uYwogVEVTVFNfcHJv
Z3MgKz0gZ2VtX21tYXBfd2MKIGdlbV9tbWFwX3djX1NPVVJDRVMgPSBpOTE1L2dlbV9tbWFwX3dj
LmMKIAotVEVTVFNfcHJvZ3MgKz0gZ2VtX21vY3Nfc2V0dGluZ3MKLWdlbV9tb2NzX3NldHRpbmdz
X1NPVVJDRVMgPSBpOTE1L2dlbV9tb2NzX3NldHRpbmdzLmMKLQogVEVTVFNfcHJvZ3MgKz0gZ2Vt
X3BhcnRpYWxfcHdyaXRlX3ByZWFkCiBnZW1fcGFydGlhbF9wd3JpdGVfcHJlYWRfU09VUkNFUyA9
IGk5MTUvZ2VtX3BhcnRpYWxfcHdyaXRlX3ByZWFkLmMKIApkaWZmIC0tZ2l0IGEvdGVzdHMvaTkx
NS9nZW1fbW9jc19zZXR0aW5ncy5jIGIvdGVzdHMvaTkxNS9nZW1fbW9jc19zZXR0aW5ncy5jCmRl
bGV0ZWQgZmlsZSBtb2RlIDEwMDY0NAppbmRleCA2MGY3MDM3ZmMuLjAwMDAwMDAwMAotLS0gYS90
ZXN0cy9pOTE1L2dlbV9tb2NzX3NldHRpbmdzLmMKKysrIC9kZXYvbnVsbApAQCAtMSw2NDEgKzAs
MCBAQAotLyoKLSAqIENvcHlyaWdodCDCqSAyMDE2IEludGVsIENvcnBvcmF0aW9uCi0gKgotICog
UGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJz
b24gb2J0YWluaW5nIGEKLSAqIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBk
b2N1bWVudGF0aW9uIGZpbGVzICh0aGUgIlNvZnR3YXJlIiksCi0gKiB0byBkZWFsIGluIHRoZSBT
b2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9u
Ci0gKiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlz
dHJpYnV0ZSwgc3VibGljZW5zZSwKLSAqIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdh
cmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZQotICogU29mdHdhcmUgaXMgZnVy
bmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczoKLSAq
Ci0gKiBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGlj
ZSAoaW5jbHVkaW5nIHRoZSBuZXh0Ci0gKiBwYXJhZ3JhcGgpIHNoYWxsIGJlIGluY2x1ZGVkIGlu
IGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlCi0gKiBTb2Z0d2FyZS4K
LSAqCi0gKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgIkFTIElTIiwgV0lUSE9VVCBXQVJSQU5U
WSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUgotICogSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1Qg
TElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksCi0gKiBGSVRORVNT
IEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiAgSU4gTk8gRVZF
TlQgU0hBTEwKLSAqIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBG
T1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSCi0gKiBMSUFCSUxJVFksIFdIRVRIRVIgSU4g
QU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORwotICogRlJP
TSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBP
UiBPVEhFUiBERUFMSU5HUwotICogSU4gVEhFIFNPRlRXQVJFLgotICoKLSAqLwotCi0vKiogQGZp
bGUgZ2VtX21vY3Nfc2V0dGluZ3MuYwotICoKLSAqIENoZWNrIHRoYXQgdGhlIE1PQ3MgY2FjaGUg
c2V0dGluZ3MgYXJlIHZhbGlkLgotICovCi0KLSNpbmNsdWRlICJpZ3QuaCIKLSNpbmNsdWRlICJp
Z3RfZ3QuaCIKLSNpbmNsdWRlICJpZ3RfcGVyZi5oIgotI2luY2x1ZGUgImlndF9zeXNmcy5oIgot
Ci0jZGVmaW5lIEdFTjlfTlVNX01PQ1NfRU5UUklFUyAgIDYyICAvKiA2MiBvdXQgb2YgNjQgLSA2
MyAmIDY0IGFyZSByZXNlcnZlZC4gKi8KLSNkZWZpbmUgR0VOMTFfTlVNX01PQ1NfRU5UUklFUyAg
NjQgIC8qIDYzLTY0IGFyZSByZXNlcnZlZCwgYnV0IGNvbmZpZ3VyZWQuICovCi0KLWVudW0gewot
CU5PTkUsCi0JUkVTRVQsCi0JUkM2LAotCVNVU1BFTkQsCi0JSElCRVJOQVRFLAotCU1BWF9NT0NT
X1RFU1RfTU9ERVMKLX07Ci0KLXN0YXRpYyBjb25zdCBjaGFyICogY29uc3QgdGVzdF9tb2Rlc1td
ID0gewotCVtOT05FXSA9ICJzZXR0aW5ncyIsCi0JW1JFU0VUXSA9ICJyZXNldCIsCi0JW1JDNl0g
PSAicmM2IiwKLQlbU1VTUEVORF0gPSAic3VzcGVuZCIsCi0JW0hJQkVSTkFURV0gPSAiaGliZXJu
YXRlIgotfTsKLQotI2RlZmluZSBNT0NTX05PTl9ERUZBVUxUX0NUWAkoMTw8MCkKLSNkZWZpbmUg
TU9DU19ESVJUWV9WQUxVRVMJKDE8PDEpCi0jZGVmaW5lIEFMTF9NT0NTX0ZMQUdTCQkoTU9DU19O
T05fREVGQVVMVF9DVFggfCBcCi0JCQkJIE1PQ1NfRElSVFlfVkFMVUVTKQotCi0jZGVmaW5lIEdF
TjlfTE5DRkNNT0NTMAkJKDB4QjAyMCkJLyogTDMgQ2FjaGUgQ29udHJvbCBiYXNlICovCi0jZGVm
aW5lIEdFTjlfR0ZYX01PQ1NfMAkJKDB4YzgwMCkJLyogR3JhcGhpY3MgTU9DUyBiYXNlIHJlZ2lz
dGVyKi8KLSNkZWZpbmUgR0VOOV9NRlgwX01PQ1NfMAkoMHhjOTAwKQkvKiBNZWRpYSAwIE1PQ1Mg
YmFzZSByZWdpc3RlciovCi0jZGVmaW5lIEdFTjlfTUZYMV9NT0NTXzAJKDB4Y0EwMCkJLyogTWVk
aWEgMSBNT0NTIGJhc2UgcmVnaXN0ZXIqLwotI2RlZmluZSBHRU45X1ZFQk9YX01PQ1NfMAkoMHhj
QjAwKQkvKiBWaWRlbyBNT0NTIGJhc2UgcmVnaXN0ZXIqLwotI2RlZmluZSBHRU45X0JMVF9NT0NT
XzAJCSgweGNjMDApCS8qIEJsaXR0ZXIgTU9DUyBiYXNlIHJlZ2lzdGVyKi8KLSNkZWZpbmUgR0VO
MTJfR0xPQkFMX01PQ1MJKDB4NDAwMCkKLSNkZWZpbmUgSUNFTEFLRV9NT0NTX1BURQl7MHgwMDAw
MDAwNCwgMHgwMDMwLCAweDF9Ci0jZGVmaW5lIE1PQ1NfUFRFCQl7MHgwMDAwMDAzOCwgMHgwMDMw
LCAweDF9Ci0KLXN0cnVjdCBtb2NzX2VudHJ5IHsKLQl1aW50MzJfdAljb250cm9sX3ZhbHVlOwot
CXVpbnQxNl90CWwzY2NfdmFsdWU7Ci0JdWludDhfdCAJdXNlZDsKLX07Ci0KLXN0cnVjdCBtb2Nz
X3RhYmxlIHsKLQl1aW50MzJfdAkJc2l6ZTsKLQljb25zdCBzdHJ1Y3QgbW9jc19lbnRyeQkqdGFi
bGU7Ci19OwotCi0vKiBUaGUgZmlyc3QgZW50cmllcyBpbiB0aGUgTU9DUyB0YWJsZXMgYXJlIGRl
ZmluZWQgYnkgdUFCSSAqLwotCi1zdGF0aWMgY29uc3Qgc3RydWN0IG1vY3NfZW50cnkgdGlnZXJs
YWtlX21vY3NfdGFibGVbR0VOMTFfTlVNX01PQ1NfRU5UUklFU10gPSB7Ci0JWzJdICA9IHsgMHgw
MDAwMDAzNywgMHgwMDMwLCAweDF9LAotCVszXSAgPSB7IDB4MDAwMDAwMDUsIDB4MDAxMCwgMHgx
fSwKLQlbNF0gID0geyAweDAwMDAwMDA1LCAweDAwMzAsIDB4MX0sCi0JWzVdICA9IHsgMHgwMDAw
MDAzNywgMHgwMDEwLCAweDF9LAotCVs2XSAgPSB7IDB4MDAwMDAwMTcsIDB4MDAxMCwgMHgxfSwK
LQlbN10gID0geyAweDAwMDAwMDE3LCAweDAwMzAsIDB4MX0sCi0JWzhdICA9IHsgMHgwMDAwMDAy
NywgMHgwMDEwLCAweDF9LAotCVs5XSAgPSB7IDB4MDAwMDAwMjcsIDB4MDAzMCwgMHgxfSwKLQlb
MTBdID0geyAweDAwMDAwMDc3LCAweDAwMTAsIDB4MX0sCi0JWzExXSA9IHsgMHgwMDAwMDA3Nywg
MHgwMDMwLCAweDF9LAotCVsxMl0gPSB7IDB4MDAwMDAwNTcsIDB4MDAxMCwgMHgxfSwKLQlbMTNd
ID0geyAweDAwMDAwMDU3LCAweDAwMzAsIDB4MX0sCi0JWzE0XSA9IHsgMHgwMDAwMDA2NywgMHgw
MDEwLCAweDF9LAotCVsxNV0gPSB7IDB4MDAwMDAwNjcsIDB4MDAzMCwgMHgxfSwKLQlbMThdID0g
eyAweDAwMDYwMDM3LCAweDAwMzAsIDB4MX0sCi0JWzE5XSA9IHsgMHgwMDAwMDczNywgMHgwMDMw
LCAweDF9LAotCVsyMF0gPSB7IDB4MDAwMDAzMzcsIDB4MDAzMCwgMHgxfSwKLQlbMjFdID0geyAw
eDAwMDAwMTM3LCAweDAwMzAsIDB4MX0sCi0JWzIyXSA9IHsgMHgwMDAwMDNiNywgMHgwMDMwLCAw
eDF9LAotCVsyM10gPSB7IDB4MDAwMDA3YjcsIDB4MDAzMCwgMHgxfSwKLQlbNDhdID0geyAweDAw
MDAwMDM3LCAweDAwMzAsIDB4MX0sCi0JWzQ5XSA9IHsgMHgwMDAwMDAwNSwgMHgwMDMwLCAweDF9
LAotCVs1MF0gPSB7IDB4MDAwMDAwMzcsIDB4MDAxMCwgMHgxfSwKLQlbNTFdID0geyAweDAwMDAw
MDA1LCAweDAwMTAsIDB4MX0sCi0JWzYwXSA9IHsgMHgwMDAwMDAzNywgMHgwMDEwLCAweDF9LAot
CVs2MV0gPSB7IDB4MDAwMDAwMDUsIDB4MDAzMCwgMHgxfSwKLQlbNjJdID0geyAweDAwMDAwMDM3
LCAweDAwMTAsIDB4MX0sCi0JWzYzXSA9IHsgMHgwMDAwMDAzNywgMHgwMDEwLCAweDF9LAotfTsK
LQotc3RhdGljIGNvbnN0IHN0cnVjdCBtb2NzX2VudHJ5IGljZWxha2VfbW9jc190YWJsZVtHRU4x
MV9OVU1fTU9DU19FTlRSSUVTXSA9IHsKLQlbMF0gID0geyAweDAwMDAwMDA1LCAweDAwMTAsIDB4
MX0sCi0JWzFdICA9IElDRUxBS0VfTU9DU19QVEUsCi0JWzJdICA9IHsgMHgwMDAwMDAzNywgMHgw
MDMwLCAweDF9LAotCVszXSAgPSB7IDB4MDAwMDAwMDUsIDB4MDAxMCwgMHgxfSwKLQlbNF0gID0g
eyAweDAwMDAwMDA1LCAweDAwMzAsIDB4MX0sCi0JWzVdICA9IHsgMHgwMDAwMDAzNywgMHgwMDEw
LCAweDF9LAotCVs2XSAgPSB7IDB4MDAwMDAwMTcsIDB4MDAxMCwgMHgxfSwKLQlbN10gID0geyAw
eDAwMDAwMDE3LCAweDAwMzAsIDB4MX0sCi0JWzhdICA9IHsgMHgwMDAwMDAyNywgMHgwMDEwLCAw
eDF9LAotCVs5XSAgPSB7IDB4MDAwMDAwMjcsIDB4MDAzMCwgMHgxfSwKLQlbMTBdID0geyAweDAw
MDAwMDc3LCAweDAwMTAsIDB4MX0sCi0JWzExXSA9IHsgMHgwMDAwMDA3NywgMHgwMDMwLCAweDF9
LAotCVsxMl0gPSB7IDB4MDAwMDAwNTcsIDB4MDAxMCwgMHgxfSwKLQlbMTNdID0geyAweDAwMDAw
MDU3LCAweDAwMzAsIDB4MX0sCi0JWzE0XSA9IHsgMHgwMDAwMDA2NywgMHgwMDEwLCAweDF9LAot
CVsxNV0gPSB7IDB4MDAwMDAwNjcsIDB4MDAzMCwgMHgxfSwKLQlbMThdID0geyAweDAwMDYwMDM3
LCAweDAwMzAsIDB4MX0sCi0JWzE5XSA9IHsgMHgwMDAwMDczNywgMHgwMDMwLCAweDF9LAotCVsy
MF0gPSB7IDB4MDAwMDAzMzcsIDB4MDAzMCwgMHgxfSwKLQlbMjFdID0geyAweDAwMDAwMTM3LCAw
eDAwMzAsIDB4MX0sCi0JWzIyXSA9IHsgMHgwMDAwMDNiNywgMHgwMDMwLCAweDF9LAotCVsyM10g
PSB7IDB4MDAwMDA3YjcsIDB4MDAzMCwgMHgxfSwKLQlbNjJdID0geyAweDAwMDAwMDM3LCAweDAw
MTAsIDB4MX0sCi0JWzYzXSA9IHsgMHgwMDAwMDAzNywgMHgwMDEwLCAweDF9LAotfTsKLQotc3Rh
dGljIGNvbnN0IHN0cnVjdCBtb2NzX2VudHJ5IHNreWxha2VfbW9jc190YWJsZVtHRU45X05VTV9N
T0NTX0VOVFJJRVNdID0gewotCVswXSA9IHsgMHgwMDAwMDAwOSwgMHgwMDEwLCAweDF9LAotCVsx
XSA9IE1PQ1NfUFRFLAotCVsyXSA9IHsgMHgwMDAwMDAzYiwgMHgwMDMwLCAweDF9LAotCVszIC4u
LiBHRU45X05VTV9NT0NTX0VOVFJJRVMgLSAxXSA9IE1PQ1NfUFRFLAotfTsKLQotc3RhdGljIGNv
bnN0IHN0cnVjdCBtb2NzX2VudHJ5IGRpcnR5X3NreWxha2VfbW9jc190YWJsZVtHRU45X05VTV9N
T0NTX0VOVFJJRVNdID0gewotCVswIC4uLiBHRU45X05VTV9NT0NTX0VOVFJJRVMgLSAxXSA9IHsg
MHgwMDAwM0ZGRiwgMHgwMDNGLCAweDEgfSwKLX07Ci0KLXN0YXRpYyBjb25zdCBzdHJ1Y3QgbW9j
c19lbnRyeSBicm94dG9uX21vY3NfdGFibGVbR0VOOV9OVU1fTU9DU19FTlRSSUVTXSA9IHsKLQlb
MF0gPSB7IDB4MDAwMDAwMDksIDB4MDAxMCwgMHgxfSwKLQlbMV0gPSBNT0NTX1BURSwKLQlbMl0g
PSB7IDB4MDAwMDAwMzksIDB4MDAzMCwgMHgxfSwKLQlbMyAuLi4gR0VOOV9OVU1fTU9DU19FTlRS
SUVTIC0gMV0gPSBNT0NTX1BURSwKLX07Ci0KLXN0YXRpYyBjb25zdCBzdHJ1Y3QgbW9jc19lbnRy
eSBkaXJ0eV9icm94dG9uX21vY3NfdGFibGVbR0VOOV9OVU1fTU9DU19FTlRSSUVTXSA9IHsKLQlb
MCAuLi4gR0VOOV9OVU1fTU9DU19FTlRSSUVTIC0gMV0gPSB7IDB4MDAwMDdGRkYsIDB4MDAzRiwg
MHgxIH0sCi19OwotCi1zdGF0aWMgY29uc3QgdWludDMyX3Qgd3JpdGVfdmFsdWVzW0dFTjlfTlVN
X01PQ1NfRU5UUklFU10gPSB7Ci0JWzAgLi4uIEdFTjlfTlVNX01PQ1NfRU5UUklFUyAtIDFdID0g
MHhGRkZGRkZGRiwKLX07Ci0KLXN0YXRpYyBib29sIGhhc19nbG9iYWxfbW9jcyhpbnQgZmQpCi17
Ci0JcmV0dXJuIGludGVsX2dlbihpbnRlbF9nZXRfZHJtX2RldmlkKGZkKSkgPj0gMTI7Ci19Ci0K
LXN0YXRpYyBib29sIGdldF9tb2NzX3NldHRpbmdzKGludCBmZCwgc3RydWN0IG1vY3NfdGFibGUg
KnRhYmxlLCBib29sIGRpcnR5KQotewotCXVpbnQzMl90IGRldmlkID0gaW50ZWxfZ2V0X2RybV9k
ZXZpZChmZCk7Ci0JYm9vbCByZXN1bHQgPSBmYWxzZTsKLQotCWlmIChJU19TS1lMQUtFKGRldmlk
KSB8fCBJU19LQUJZTEFLRShkZXZpZCkgfHwgSVNfQ09NRVRMQUtFKGRldmlkKSkgewotCQlpZiAo
ZGlydHkpIHsKLQkJCXRhYmxlLT5zaXplICA9IEFSUkFZX1NJWkUoZGlydHlfc2t5bGFrZV9tb2Nz
X3RhYmxlKTsKLQkJCXRhYmxlLT50YWJsZSA9IGRpcnR5X3NreWxha2VfbW9jc190YWJsZTsKLQkJ
fSBlbHNlIHsKLQkJCXRhYmxlLT5zaXplICA9IEFSUkFZX1NJWkUoc2t5bGFrZV9tb2NzX3RhYmxl
KTsKLQkJCXRhYmxlLT50YWJsZSA9IHNreWxha2VfbW9jc190YWJsZTsKLQkJfQotCQlyZXN1bHQg
PSB0cnVlOwotCX0gZWxzZSBpZiAoSVNfQlJPWFRPTihkZXZpZCkpIHsKLQkJaWYgKGRpcnR5KSB7
Ci0JCQl0YWJsZS0+c2l6ZSAgPSBBUlJBWV9TSVpFKGRpcnR5X2Jyb3h0b25fbW9jc190YWJsZSk7
Ci0JCQl0YWJsZS0+dGFibGUgPSBkaXJ0eV9icm94dG9uX21vY3NfdGFibGU7Ci0JCX0gZWxzZSB7
Ci0JCQl0YWJsZS0+c2l6ZSAgPSBBUlJBWV9TSVpFKGJyb3h0b25fbW9jc190YWJsZSk7Ci0JCQl0
YWJsZS0+dGFibGUgPSBicm94dG9uX21vY3NfdGFibGU7Ci0JCX0KLQkJcmVzdWx0ID0gdHJ1ZTsK
LQl9IGVsc2UgaWYgKElTX0lDRUxBS0UoZGV2aWQpKSB7Ci0JCXRhYmxlLT5zaXplICA9IEFSUkFZ
X1NJWkUoaWNlbGFrZV9tb2NzX3RhYmxlKTsKLQkJdGFibGUtPnRhYmxlID0gaWNlbGFrZV9tb2Nz
X3RhYmxlOwotCQlyZXN1bHQgPSB0cnVlOwotCX0gZWxzZSBpZiAoSVNfVElHRVJMQUtFKGRldmlk
KSkgewotCQl0YWJsZS0+c2l6ZSAgPSBBUlJBWV9TSVpFKHRpZ2VybGFrZV9tb2NzX3RhYmxlKTsK
LQkJdGFibGUtPnRhYmxlID0gdGlnZXJsYWtlX21vY3NfdGFibGU7Ci0JCXJlc3VsdCA9IHRydWU7
Ci0JfQotCi0JcmV0dXJuIHJlc3VsdDsKLX0KLQotI2RlZmluZSBMT0NBTF9JOTE1X0VYRUNfQlNE
MSAoSTkxNV9FWEVDX0JTRCB8ICgxPDwxMykpCi0jZGVmaW5lIExPQ0FMX0k5MTVfRVhFQ19CU0Qy
IChJOTE1X0VYRUNfQlNEIHwgKDI8PDEzKSkKLQotc3RhdGljIHVpbnQzMl90IGdldF9lbmdpbmVf
YmFzZShpbnQgZmQsIHVpbnQzMl90IGVuZ2luZSkKLXsKLQlpZiAoaGFzX2dsb2JhbF9tb2NzKGZk
KSkKLQkJcmV0dXJuIEdFTjEyX0dMT0JBTF9NT0NTOwotCi0Jc3dpdGNoIChlbmdpbmUpIHsKLQlj
YXNlIExPQ0FMX0k5MTVfRVhFQ19CU0QxOglyZXR1cm4gR0VOOV9NRlgwX01PQ1NfMDsKLQljYXNl
IExPQ0FMX0k5MTVfRVhFQ19CU0QyOglyZXR1cm4gR0VOOV9NRlgxX01PQ1NfMDsKLQljYXNlIEk5
MTVfRVhFQ19SRU5ERVI6CQlyZXR1cm4gR0VOOV9HRlhfTU9DU18wOwotCWNhc2UgSTkxNV9FWEVD
X0JMVDoJCXJldHVybiBHRU45X0JMVF9NT0NTXzA7Ci0JY2FzZSBJOTE1X0VYRUNfVkVCT1g6CQly
ZXR1cm4gR0VOOV9WRUJPWF9NT0NTXzA7Ci0JZGVmYXVsdDoJCQlyZXR1cm4gMDsKLQl9Ci19Ci0K
LXN0YXRpYyBpbnQgaGFzX3NlY3VyZV9iYXRjaGVzKGNvbnN0IGludCBmZCkKLXsKLQlpbnQgdiA9
IC0xOwotCWRybV9pOTE1X2dldHBhcmFtX3QgZ3AgPSB7Ci0JCS5wYXJhbSA9IEk5MTVfUEFSQU1f
SEFTX1NFQ1VSRV9CQVRDSEVTLAotCQkudmFsdWUgPSAmdiwKLQl9OwotCi0JZHJtSW9jdGwoZmQs
IERSTV9JT0NUTF9JOTE1X0dFVFBBUkFNLCAmZ3ApOwotCi0JcmV0dXJuIHYgPiAwOwotfQotCi0j
ZGVmaW5lIE1JX1NUT1JFX1JFR0lTVEVSX01FTV82NF9CSVRfQUREUgkoKDB4MjQgPDwgMjMpIHwg
MikKLQotc3RhdGljIGludCBjcmVhdGVfcmVhZF9iYXRjaChzdHJ1Y3QgZHJtX2k5MTVfZ2VtX3Jl
bG9jYXRpb25fZW50cnkgKnJlbG9jLAotCQkJICAgICB1aW50MzJfdCAqYmF0Y2gsCi0JCQkgICAg
IHVpbnQzMl90IGRzdF9oYW5kbGUsCi0JCQkgICAgIHVpbnQzMl90IHNpemUsCi0JCQkgICAgIHVp
bnQzMl90IHJlZ19iYXNlKQotewotCXVuc2lnbmVkIGludCBvZmZzZXQgPSAwOwotCi0JZm9yICh1
aW50MzJfdCBpbmRleCA9IDA7IGluZGV4IDwgc2l6ZTsgaW5kZXgrKywgb2Zmc2V0ICs9IDQpIHsK
LQkJYmF0Y2hbb2Zmc2V0XSAgID0gTUlfU1RPUkVfUkVHSVNURVJfTUVNXzY0X0JJVF9BRERSOwot
CQliYXRjaFtvZmZzZXQrMV0gPSByZWdfYmFzZSArIChpbmRleCAqIHNpemVvZih1aW50MzJfdCkp
OwotCQliYXRjaFtvZmZzZXQrMl0gPSBpbmRleCAqIHNpemVvZih1aW50MzJfdCk7CS8qIHJlbG9j
ICovCi0JCWJhdGNoW29mZnNldCszXSA9IDA7Ci0KLQkJcmVsb2NbaW5kZXhdLm9mZnNldCA9IChv
ZmZzZXQgKyAyKSAqIHNpemVvZih1aW50MzJfdCk7Ci0JCXJlbG9jW2luZGV4XS5kZWx0YSA9IGlu
ZGV4ICogc2l6ZW9mKHVpbnQzMl90KTsKLQkJcmVsb2NbaW5kZXhdLnRhcmdldF9oYW5kbGUgPSBk
c3RfaGFuZGxlOwotCQlyZWxvY1tpbmRleF0ud3JpdGVfZG9tYWluID0gSTkxNV9HRU1fRE9NQUlO
X1JFTkRFUjsKLQkJcmVsb2NbaW5kZXhdLnJlYWRfZG9tYWlucyA9IEk5MTVfR0VNX0RPTUFJTl9S
RU5ERVI7Ci0JfQotCi0JYmF0Y2hbb2Zmc2V0KytdID0gTUlfQkFUQ0hfQlVGRkVSX0VORDsKLQli
YXRjaFtvZmZzZXQrK10gPSAwOwotCi0JcmV0dXJuIG9mZnNldCAqIHNpemVvZih1aW50MzJfdCk7
Ci19Ci0KLXN0YXRpYyB2b2lkIGRvX3JlYWRfcmVnaXN0ZXJzKGludCBmZCwKLQkJCSAgICAgIHVp
bnQzMl90IGN0eF9pZCwKLQkJCSAgICAgIHVpbnQzMl90IGRzdF9oYW5kbGUsCi0JCQkgICAgICB1
aW50MzJfdCByZWdfYmFzZSwKLQkJCSAgICAgIHVpbnQzMl90IHNpemUsCi0JCQkgICAgICB1aW50
MzJfdCBlbmdpbmVfaWQpCi17Ci0Jc3RydWN0IGRybV9pOTE1X2dlbV9leGVjYnVmZmVyMiBleGVj
YnVmOwotCXN0cnVjdCBkcm1faTkxNV9nZW1fZXhlY19vYmplY3QyIG9ialsyXTsKLQlzdHJ1Y3Qg
ZHJtX2k5MTVfZ2VtX3JlbG9jYXRpb25fZW50cnkgcmVsb2Nbc2l6ZV07Ci0JdWludDMyX3QgYmF0
Y2hbc2l6ZSAqIDQgKyA0XTsKLQl1aW50MzJfdCBoYW5kbGUgPSBnZW1fY3JlYXRlKGZkLCA0MDk2
KTsKLQotCW1lbXNldChyZWxvYywgMCwgc2l6ZW9mKHJlbG9jKSk7Ci0JbWVtc2V0KG9iaiwgMCwg
c2l6ZW9mKG9iaikpOwotCW1lbXNldCgmZXhlY2J1ZiwgMCwgc2l6ZW9mKGV4ZWNidWYpKTsKLQot
CW9ialswXS5oYW5kbGUgPSBkc3RfaGFuZGxlOwotCi0Jb2JqWzFdLmhhbmRsZSA9IGhhbmRsZTsK
LQlvYmpbMV0ucmVsb2NhdGlvbl9jb3VudCA9IHNpemU7Ci0Jb2JqWzFdLnJlbG9jc19wdHIgPSB0
b191c2VyX3BvaW50ZXIocmVsb2MpOwotCi0JZXhlY2J1Zi5idWZmZXJzX3B0ciA9IHRvX3VzZXJf
cG9pbnRlcihvYmopOwotCWV4ZWNidWYuYnVmZmVyX2NvdW50ID0gMjsKLQlleGVjYnVmLmJhdGNo
X2xlbiA9Ci0JCWNyZWF0ZV9yZWFkX2JhdGNoKHJlbG9jLCBiYXRjaCwgZHN0X2hhbmRsZSwgc2l6
ZSwgcmVnX2Jhc2UpOwotCWk5MTVfZXhlY2J1ZmZlcjJfc2V0X2NvbnRleHRfaWQoZXhlY2J1Ziwg
Y3R4X2lkKTsKLQlleGVjYnVmLmZsYWdzID0gSTkxNV9FWEVDX1NFQ1VSRSB8IGVuZ2luZV9pZDsK
LQotCWdlbV93cml0ZShmZCwgaGFuZGxlLCAwLCBiYXRjaCwgZXhlY2J1Zi5iYXRjaF9sZW4pOwot
CWdlbV9leGVjYnVmKGZkLCAmZXhlY2J1Zik7Ci0JZ2VtX2Nsb3NlKGZkLCBoYW5kbGUpOwotfQot
Ci0jZGVmaW5lIExPQ0FMX01JX0xPQURfUkVHSVNURVJfSU1NCSgweDIyIDw8IDIzKQotCi1zdGF0
aWMgaW50IGNyZWF0ZV93cml0ZV9iYXRjaCh1aW50MzJfdCAqYmF0Y2gsCi0JCQkgICAgICBjb25z
dCB1aW50MzJfdCAqdmFsdWVzLAotCQkJICAgICAgdWludDMyX3Qgc2l6ZSwKLQkJCSAgICAgIHVp
bnQzMl90IHJlZ19iYXNlKQotewotCXVuc2lnbmVkIGludCBpOwotCXVuc2lnbmVkIGludCBvZmZz
ZXQgPSAwOwotCi0JYmF0Y2hbb2Zmc2V0KytdID0gTE9DQUxfTUlfTE9BRF9SRUdJU1RFUl9JTU0g
fCAoc2l6ZSAqIDIgLSAxKTsKLQotCWZvciAoaSA9IDA7IGkgPCBzaXplOyBpKyspIHsKLQkJYmF0
Y2hbb2Zmc2V0KytdID0gcmVnX2Jhc2UgKyAoaSAqIDQpOwotCQliYXRjaFtvZmZzZXQrK10gPSB2
YWx1ZXNbaV07Ci0JfQotCi0JYmF0Y2hbb2Zmc2V0KytdID0gTUlfQkFUQ0hfQlVGRkVSX0VORDsK
LQotCXJldHVybiBvZmZzZXQgKiBzaXplb2YodWludDMyX3QpOwotfQotCi1zdGF0aWMgdm9pZCB3
cml0ZV9yZWdpc3RlcnMoaW50IGZkLAotCQkJICAgIHVpbnQzMl90IGN0eF9pZCwKLQkJCSAgICB1
aW50MzJfdCByZWdfYmFzZSwKLQkJCSAgICBjb25zdCB1aW50MzJfdCAqdmFsdWVzLAotCQkJICAg
IHVpbnQzMl90IHNpemUsCi0JCQkgICAgdWludDMyX3QgZW5naW5lX2lkLAotCQkJICAgIGJvb2wg
cHJpdmlsZWdlZCkKLXsKLQlzdHJ1Y3QgZHJtX2k5MTVfZ2VtX2V4ZWNfb2JqZWN0MiBvYmo7Ci0J
c3RydWN0IGRybV9pOTE1X2dlbV9leGVjYnVmZmVyMiBleGVjYnVmOwotCXVpbnQzMl90IGJhdGNo
W3NpemUgKiA0ICsgMl07Ci0JdWludDMyX3QgaGFuZGxlID0gZ2VtX2NyZWF0ZShmZCwgNDA5Nik7
Ci0KLQltZW1zZXQoJm9iaiwgMCwgc2l6ZW9mKG9iaikpOwotCW1lbXNldCgmZXhlY2J1ZiwgMCwg
c2l6ZW9mKGV4ZWNidWYpKTsKLQotCW9iai5oYW5kbGUgPSBoYW5kbGU7Ci0KLQlleGVjYnVmLmJ1
ZmZlcnNfcHRyID0gdG9fdXNlcl9wb2ludGVyKCZvYmopOwotCWV4ZWNidWYuYnVmZmVyX2NvdW50
ID0gMTsKLQlleGVjYnVmLmJhdGNoX2xlbiA9IGNyZWF0ZV93cml0ZV9iYXRjaChiYXRjaCwgdmFs
dWVzLCBzaXplLCByZWdfYmFzZSk7Ci0JaTkxNV9leGVjYnVmZmVyMl9zZXRfY29udGV4dF9pZChl
eGVjYnVmLCBjdHhfaWQpOwotCWlmIChwcml2aWxlZ2VkKQotCQlleGVjYnVmLmZsYWdzID0gSTkx
NV9FWEVDX1NFQ1VSRSB8IGVuZ2luZV9pZDsKLQllbHNlCi0JCWV4ZWNidWYuZmxhZ3MgPSBlbmdp
bmVfaWQ7Ci0KLQlnZW1fd3JpdGUoZmQsIGhhbmRsZSwgMCwgYmF0Y2gsIGV4ZWNidWYuYmF0Y2hf
bGVuKTsKLQlnZW1fZXhlY2J1ZihmZCwgJmV4ZWNidWYpOwotCWdlbV9jbG9zZShmZCwgaGFuZGxl
KTsKLX0KLQotc3RhdGljIHZvaWQgY2hlY2tfY29udHJvbF9yZWdpc3RlcnMoaW50IGZkLAotCQkJ
CSAgICB1bnNpZ25lZCBlbmdpbmUsCi0JCQkJICAgIHVpbnQzMl90IGN0eF9pZCwKLQkJCQkgICAg
Ym9vbCBkaXJ0eSkKLXsKLQljb25zdCB1aW50MzJfdCByZWdfYmFzZSA9IGdldF9lbmdpbmVfYmFz
ZShmZCwgZW5naW5lKTsKLQl1aW50MzJfdCBkc3RfaGFuZGxlID0gZ2VtX2NyZWF0ZShmZCwgNDA5
Nik7Ci0JdWludDMyX3QgKnJlYWRfcmVnczsKLQlzdHJ1Y3QgbW9jc190YWJsZSB0YWJsZTsKLQot
CWlndF9hc3NlcnQoZ2V0X21vY3Nfc2V0dGluZ3MoZmQsICZ0YWJsZSwgZGlydHkpKTsKLQotCWRv
X3JlYWRfcmVnaXN0ZXJzKGZkLAotCQkJICBjdHhfaWQsCi0JCQkgIGRzdF9oYW5kbGUsCi0JCQkg
IHJlZ19iYXNlLAotCQkJICB0YWJsZS5zaXplLAotCQkJICBlbmdpbmUpOwotCi0JcmVhZF9yZWdz
ID0gZ2VtX21tYXBfX2NwdShmZCwgZHN0X2hhbmRsZSwgMCwgNDA5NiwgUFJPVF9SRUFEKTsKLQot
CWdlbV9zZXRfZG9tYWluKGZkLCBkc3RfaGFuZGxlLCBJOTE1X0dFTV9ET01BSU5fQ1BVLCAwKTsK
LQlmb3IgKGludCBpbmRleCA9IDA7IGluZGV4IDwgdGFibGUuc2l6ZTsgaW5kZXgrKykgewotCQl1
aW50MzJfdCB2YWwsIHJlYWRfdmFsOwotCi0JCWlmICghdGFibGUudGFibGVbaW5kZXhdLnVzZWQp
Ci0JCQljb250aW51ZTsKLQotCQlyZWFkX3ZhbCA9IHJlYWRfcmVnc1tpbmRleF07Ci0JCXZhbCA9
IHRhYmxlLnRhYmxlW2luZGV4XS5jb250cm9sX3ZhbHVlOwotCQlpZ3RfYXNzZXJ0X2YocmVhZF92
YWwgPT0gdmFsLAotCQkJICAgICAiZW5naW5lPSV1IGluZGV4PSV1IHJlYWRfdmFsdWU9MHglMDh4
IHZhbHVlPTB4JTA4eFxuIiwKLQkJCSAgICAgZW5naW5lLCBpbmRleCwgcmVhZF92YWwsIHZhbCk7
Ci0JfQotCi0JbXVubWFwKHJlYWRfcmVncywgNDA5Nik7Ci0JZ2VtX2Nsb3NlKGZkLCBkc3RfaGFu
ZGxlKTsKLX0KLQotc3RhdGljIHZvaWQgY2hlY2tfbDNjY19yZWdpc3RlcnMoaW50IGZkLAotCQkJ
CSB1bnNpZ25lZCBlbmdpbmUsCi0JCQkJIHVpbnQzMl90IGN0eF9pZCwKLQkJCQkgYm9vbCBkaXJ0
eSkKLXsKLQlzdHJ1Y3QgbW9jc190YWJsZSB0YWJsZTsKLQl1aW50MzJfdCBkc3RfaGFuZGxlID0g
Z2VtX2NyZWF0ZShmZCwgNDA5Nik7Ci0JdWludDMyX3QgKnJlYWRfcmVnczsKLQlpbnQgaW5kZXg7
Ci0KLQlpZ3RfYXNzZXJ0KGdldF9tb2NzX3NldHRpbmdzKGZkLCAmdGFibGUsIGRpcnR5KSk7Ci0K
LQlkb19yZWFkX3JlZ2lzdGVycyhmZCwKLQkJCSAgY3R4X2lkLAotCQkJICBkc3RfaGFuZGxlLAot
CQkJICBHRU45X0xOQ0ZDTU9DUzAsCi0JCQkgICh0YWJsZS5zaXplICsgMSkgLyAyLAotCQkJICBl
bmdpbmUpOwotCi0JcmVhZF9yZWdzID0gZ2VtX21tYXBfX2NwdShmZCwgZHN0X2hhbmRsZSwgMCwg
NDA5NiwgUFJPVF9SRUFEKTsKLQotCWdlbV9zZXRfZG9tYWluKGZkLCBkc3RfaGFuZGxlLCBJOTE1
X0dFTV9ET01BSU5fQ1BVLCAwKTsKLQotCWZvciAoaW5kZXggPSAwOyBpbmRleCA8IHRhYmxlLnNp
emUgLyAyOyBpbmRleCsrKSB7Ci0JCWlmICh0YWJsZS50YWJsZVtpbmRleCAqIDJdLnVzZWQpIHsK
LQkJCWlndF9hc3NlcnRfZXFfdTMyKHJlYWRfcmVnc1tpbmRleF0gJiAweGZmZmYsCi0JCQkJCSAg
dGFibGUudGFibGVbaW5kZXggKiAyXS5sM2NjX3ZhbHVlKTsKLQkJfQotCQlpZiAodGFibGUudGFi
bGVbaW5kZXggKiAyICsgMV0udXNlZCkgewotCQkJaWd0X2Fzc2VydF9lcV91MzIocmVhZF9yZWdz
W2luZGV4XSA+PiAxNiwKLQkJCQkJICB0YWJsZS50YWJsZVtpbmRleCAqIDIgKyAxXS5sM2NjX3Zh
bHVlKTsKLQkJfQotCX0KLQotCWlmICh0YWJsZS5zaXplICYgMSkKLQkJaWd0X2Fzc2VydF9lcV91
MzIocmVhZF9yZWdzW2luZGV4XSAmIDB4ZmZmZiwKLQkJCQkgIHRhYmxlLnRhYmxlW2luZGV4ICog
Ml0ubDNjY192YWx1ZSk7Ci0KLQltdW5tYXAocmVhZF9yZWdzLCA0MDk2KTsKLQlnZW1fY2xvc2Uo
ZmQsIGRzdF9oYW5kbGUpOwotfQotCi1zdGF0aWMgdm9pZCByYzZfd2FpdChpbnQgaTkxNSkKLXsK
LQl1aW50NjRfdCBzdGFydFsyXSwgbm93WzJdLCBwcmV2OwotCWJvb2wgcmM2ID0gZmFsc2U7Ci0J
aW50IGZkOwotCi0JZmQgPSBwZXJmX2k5MTVfb3BlbihJOTE1X1BNVV9SQzZfUkVTSURFTkNZKTsK
LQlpZ3RfcmVxdWlyZShmZCAhPSAtMSk7Ci0KLQkvKiBGaXJzdCB3YWl0IGZvciByb3VnaGx5IGFu
IFJDNiBFdmFsdWF0aW9uIEludGVydmFsICovCi0JZ2VtX3F1aWVzY2VudF9ncHUoaTkxNSk7Ci0J
dXNsZWVwKDMyMGUzKTsKLQotCS8qIFRoZW4gcG9sbCBmb3IgUkM2IHRvIHN0YXJ0IHRpY2tpbmcg
Ki8KLQlpZ3RfYXNzZXJ0X2VxKHJlYWQoZmQsIHN0YXJ0LCBzaXplb2Yoc3RhcnQpKSwgc2l6ZW9m
KHN0YXJ0KSk7Ci0JcHJldiA9IHN0YXJ0WzFdOwotCWRvIHsKLQkJdXNsZWVwKDVlMyk7Ci0JCWln
dF9hc3NlcnRfZXEocmVhZChmZCwgbm93LCBzaXplb2Yobm93KSksIHNpemVvZihub3cpKTsKLQkJ
aWYgKG5vd1sxXSAtIHByZXYgPiAxZTYpIHsKLQkJCXJjNiA9IHRydWU7Ci0JCQlicmVhazsKLQkJ
fQotCQlwcmV2ID0gbm93WzFdOwotCX0gd2hpbGUgKG5vd1swXSAtIHN0YXJ0WzBdIDwgMWU5KTsK
LQotCWNsb3NlKGZkKTsKLQotCWlndF9kZWJ1ZygicmM2IHJlc2lkZW5jeSAlLjJmbXMgKGRlbHRh
ICUuMWZtcyBvdmVyIDVtcyksIGVsYXBzZWQgJS4yZm1zXG4iLAotCQkgIDFlLTYgKiAobm93WzFd
IC0gc3RhcnRbMV0pLAotCQkgIDFlLTYgKiAobm93WzFdIC0gcHJldiksCi0JCSAgMWUtNiAqIChu
b3dbMF0gLSBzdGFydFswXSkpOwotCWlndF9yZXF1aXJlKHJjNik7Ci19Ci0KLXN0YXRpYyB2b2lk
IGNoZWNrX21vY3NfdmFsdWVzKGludCBmZCwKLQkJCSAgICAgIHVuc2lnbmVkIGVuZ2luZSwgdWlu
dDMyX3QgY3R4X2lkLAotCQkJICAgICAgYm9vbCBkaXJ0eSkKLXsKLQljaGVja19jb250cm9sX3Jl
Z2lzdGVycyhmZCwgZW5naW5lLCBjdHhfaWQsIGRpcnR5KTsKLQotCWlmIChlbmdpbmUgPT0gSTkx
NV9FWEVDX1JFTkRFUikKLQkJY2hlY2tfbDNjY19yZWdpc3RlcnMoZmQsIGVuZ2luZSwgY3R4X2lk
LCBkaXJ0eSk7Ci19Ci0KLXN0YXRpYyB2b2lkIHdyaXRlX2RpcnR5X21vY3MoaW50IGZkLAotCQkJ
ICAgICB1bnNpZ25lZCBlbmdpbmUsIHVpbnQzMl90IGN0eF9pZCwKLQkJCSAgICAgYm9vbCBwcml2
aWxlZ2VkKQotewotCWludCBudW1fb2ZfbW9jc19lbnRyaWVzOwotCi0JaWYgKGludGVsX2dlbihp
bnRlbF9nZXRfZHJtX2RldmlkKGZkKSkgPj0gMTEpCi0JCW51bV9vZl9tb2NzX2VudHJpZXMgPSBH
RU4xMV9OVU1fTU9DU19FTlRSSUVTOwotCWVsc2UKLQkJbnVtX29mX21vY3NfZW50cmllcyA9IEdF
TjlfTlVNX01PQ1NfRU5UUklFUzsKLQotCXdyaXRlX3JlZ2lzdGVycyhmZCwgY3R4X2lkLCBnZXRf
ZW5naW5lX2Jhc2UoZmQsIGVuZ2luZSksCi0JCQl3cml0ZV92YWx1ZXMsIG51bV9vZl9tb2NzX2Vu
dHJpZXMsCi0JCQllbmdpbmUsIHByaXZpbGVnZWQpOwotCi0JaWYgKGVuZ2luZSA9PSBJOTE1X0VY
RUNfUkVOREVSKQotCQl3cml0ZV9yZWdpc3RlcnMoZmQsIGN0eF9pZCwgR0VOOV9MTkNGQ01PQ1Mw
LAotCQkJCXdyaXRlX3ZhbHVlcywgbnVtX29mX21vY3NfZW50cmllcy8yLAotCQkJCWVuZ2luZSwg
cHJpdmlsZWdlZCk7Ci19Ci0KLXN0YXRpYyB2b2lkIHJ1bl90ZXN0KGludCBmZCwgdW5zaWduZWQg
ZW5naW5lLCB1bnNpZ25lZCBmbGFncywgdW5zaWduZWQgbW9kZSkKLXsKLQl1aW50MzJfdCBjdHhf
aWQgPSAwOwotCXVpbnQzMl90IGN0eF9jbGVhbl9pZDsKLQl1aW50MzJfdCBjdHhfZGlydHlfaWQ7
Ci0KLQkvKiBBcyBtb2NzIGlzIGdsb2JhbCBmb3IgR0VOMTErLCB0cnlpbmcgcHJpdmlsZWdlZCB3
cml0ZSB0byBkaXJ0eQotCSAqIHRoZSBtb2NzIGFuZCB0ZXN0aW5nIGNvbnRleHQgc2F2ZSBhbmQg
cmVzdG9yZSBvZiBtb2NzIGJldHdlZW4KLQkgKiBjb250ZXh0cyBpcyBib3VuZCB0byBmYWlsLgot
CSAqLwotCWlmIChmbGFncyAmIE1PQ1NfRElSVFlfVkFMVUVTKQotCQlpZ3Rfc2tpcF9vbihpbnRl
bF9nZW4oaW50ZWxfZ2V0X2RybV9kZXZpZChmZCkpID49IDExKTsKLQotCWdlbV9yZXF1aXJlX3Jp
bmcoZmQsIGVuZ2luZSk7Ci0KLQkvKiBTa2lwIGlmIHdlIGRvbid0IGtub3cgd2hlcmUgdGhlIHJl
Z2lzdGVycyBhcmUgZm9yIHRoaXMgZW5naW5lICovCi0JaWd0X3JlcXVpcmUoZ2V0X2VuZ2luZV9i
YXNlKGZkLCBlbmdpbmUpKTsKLQotCWlmIChmbGFncyAmIE1PQ1NfTk9OX0RFRkFVTFRfQ1RYKQot
CQljdHhfaWQgPSBnZW1fY29udGV4dF9jcmVhdGUoZmQpOwotCi0JaWYgKGZsYWdzICYgTU9DU19E
SVJUWV9WQUxVRVMpIHsKLQkJY3R4X2RpcnR5X2lkID0gZ2VtX2NvbnRleHRfY3JlYXRlKGZkKTsK
LQkJd3JpdGVfZGlydHlfbW9jcyhmZCwgZW5naW5lLCBjdHhfZGlydHlfaWQsIHRydWUpOwotCQlj
aGVja19tb2NzX3ZhbHVlcyhmZCwgZW5naW5lLCBjdHhfZGlydHlfaWQsIHRydWUpOwotCX0KLQot
CWNoZWNrX21vY3NfdmFsdWVzKGZkLCBlbmdpbmUsIGN0eF9pZCwgZmFsc2UpOwotCi0Jc3dpdGNo
IChtb2RlKSB7Ci0JY2FzZSBOT05FOglicmVhazsKLQljYXNlIFJFU0VUOglpZ3RfZm9yY2VfZ3B1
X3Jlc2V0KGZkKTsJYnJlYWs7Ci0JY2FzZSBTVVNQRU5EOglpZ3Rfc3lzdGVtX3N1c3BlbmRfYXV0
b3Jlc3VtZShTVVNQRU5EX1NUQVRFX01FTSwKLQkJCQkJCSAgICAgIFNVU1BFTkRfVEVTVF9OT05F
KTsgYnJlYWs7Ci0JY2FzZSBISUJFUk5BVEU6CWlndF9zeXN0ZW1fc3VzcGVuZF9hdXRvcmVzdW1l
KFNVU1BFTkRfU1RBVEVfRElTSywKLQkJCQkJCSAgICAgIFNVU1BFTkRfVEVTVF9OT05FKTsgYnJl
YWs7Ci0JY2FzZSBSQzY6CXJjNl93YWl0KGZkKTsJCQlicmVhazsKLQl9Ci0KLQljaGVja19tb2Nz
X3ZhbHVlcyhmZCwgZW5naW5lLCBjdHhfaWQsIGZhbHNlKTsKLQotCWlmIChmbGFncyAmIE1PQ1Nf
RElSVFlfVkFMVUVTKSB7Ci0JCWN0eF9jbGVhbl9pZCA9IGdlbV9jb250ZXh0X2NyZWF0ZShmZCk7
Ci0JCWNoZWNrX21vY3NfdmFsdWVzKGZkLCBlbmdpbmUsIGN0eF9kaXJ0eV9pZCwgdHJ1ZSk7Ci0J
CWNoZWNrX21vY3NfdmFsdWVzKGZkLCBlbmdpbmUsIGN0eF9jbGVhbl9pZCwgZmFsc2UpOwotCQln
ZW1fY29udGV4dF9kZXN0cm95KGZkLCBjdHhfZGlydHlfaWQpOwotCQlnZW1fY29udGV4dF9kZXN0
cm95KGZkLCBjdHhfY2xlYW5faWQpOwotCX0KLQotCWlmIChjdHhfaWQpCi0JCWdlbV9jb250ZXh0
X2Rlc3Ryb3koZmQsIGN0eF9pZCk7Ci19Ci0KLXN0YXRpYyB2b2lkIGlzb2xhdGlvbl90ZXN0KGlu
dCBmZCwgdW5zaWduZWQgZW5naW5lKQotewotCXVpbnQzMl90IGN0eFsyXSA9IHsgZ2VtX2NvbnRl
eHRfY3JlYXRlKGZkKSwgZ2VtX2NvbnRleHRfY3JlYXRlKGZkKSB9OwotCi0JLyogQW55IHdyaXRl
cyBieSBvbmUgbm9ybWFsIGNsaWVudCBzaG91bGQgbm90IGFmZmVjdCBhIHNlY29uZCBjbGllbnQg
Ki8KLQl3cml0ZV9kaXJ0eV9tb2NzKGZkLCBlbmdpbmUsIGN0eFswXSwgZmFsc2UpOwotCWNoZWNr
X21vY3NfdmFsdWVzKGZkLCBlbmdpbmUsIGN0eFsxXSwgZmFsc2UpOwotCi0JZm9yIChpbnQgaSA9
IDA7IGkgPCBBUlJBWV9TSVpFKGN0eCk7IGkrKykKLQkJZ2VtX2NvbnRleHRfZGVzdHJveShmZCwg
Y3R4W2ldKTsKLX0KLQotaWd0X21haW4KLXsKLQljb25zdCBzdHJ1Y3QgaW50ZWxfZXhlY3V0aW9u
X2VuZ2luZSAqZTsKLQlzdHJ1Y3QgbW9jc190YWJsZSB0YWJsZTsKLQlpbnQgZmQgPSAtMTsKLQot
CWlndF9maXh0dXJlIHsKLQkJZmQgPSBkcm1fb3Blbl9kcml2ZXJfbWFzdGVyKERSSVZFUl9JTlRF
TCk7IC8qIGZvciBTRUNVUkUgKi8KLQkJaWd0X3JlcXVpcmVfZ2VtKGZkKTsKLQkJZ2VtX3JlcXVp
cmVfbW9jc19yZWdpc3RlcnMoZmQpOwotCQlpZ3RfcmVxdWlyZShnZXRfbW9jc19zZXR0aW5ncyhm
ZCwgJnRhYmxlLCBmYWxzZSkpOwotCQlpZ3RfcmVxdWlyZShoYXNfc2VjdXJlX2JhdGNoZXMoZmQp
KTsKLQl9Ci0KLQlmb3IgKGUgPSBpbnRlbF9leGVjdXRpb25fZW5naW5lczsgZS0+bmFtZTsgZSsr
KSB7Ci0JCS8qIFdlIGRvbid0IGtub3cgd2hpY2ggZW5naW5lIHdpbGwgYmUgYXNzaWduZWQgdG8g
dXMgaWYgd2UncmUKLQkJICogdXNpbmcgcGxhaW4gSTkxNV9FWEVDX0JTRCwgSTkxNV9FWEVDX0RF
RkFVTFQgaXMganVzdAotCQkgKiBkdXBsaWNhdGluZyByZW5kZXIKLQkJICovCi0JCWlmICgoZS0+
ZXhlY19pZCA9PSBJOTE1X0VYRUNfQlNEICYmICFlLT5mbGFncykgfHwKLQkJICAgIGUtPmV4ZWNf
aWQgPT0gSTkxNV9FWEVDX0RFRkFVTFQpCi0JCQljb250aW51ZTsKLQotCQlmb3IgKHVuc2lnbmVk
IG1vZGUgPSBOT05FOyBtb2RlIDwgTUFYX01PQ1NfVEVTVF9NT0RFUzsgbW9kZSsrKSB7Ci0JCQlp
Z3Rfc3VidGVzdF9ncm91cCB7Ci0JCQkJaWd0X2hhbmdfdCBoYW5nID0ge307Ci0KLQkJCQlpZ3Rf
Zml4dHVyZSB7Ci0JCQkJCWlmIChtb2RlID09IFJFU0VUKQotCQkJCQkJaGFuZyA9IGlndF9hbGxv
d19oYW5nKGZkLCAwLCAwKTsKLQkJCQl9Ci0KLQkJCQlmb3IgKHVuc2lnbmVkIGZsYWdzID0gMDsg
ZmxhZ3MgPCBBTExfTU9DU19GTEFHUyArIDE7IGZsYWdzKyspIHsKLQkJCQkJLyogVHJ5aW5nIHRv
IHRlc3Qgbm9uLXJlbmRlciBlbmdpbmVzIGZvciBkaXJ0eWluZyBNT0NTCi0JCQkJCSAqIHZhbHVl
cyBmcm9tIG9uZSBjb250ZXh0IGhhdmluZyBlZmZlY3Qgb24gZGlmZmVyZW50Ci0JCQkJCSAqIGNv
bnRleHQgaXMgYm91bmQgdG8gZmFpbCAtIG9ubHkgcmVuZGVyIGVuZ2luZSBpcwotCQkJCQkgKiBk
b2luZyBjb250ZXh0IHNhdmUvcmVzdG9yZSBvZiBNT0NTIHJlZ2lzdGVycy4KLQkJCQkJICogTGV0
J3MgYWxzbyBsaW1pdCB0ZXN0aW5nIHZhbHVlcyBvbiBub24tZGVmYXVsdAotCQkJCQkgKiBjb250
ZXh0cyB0byByZW5kZXItb25seS4KLQkJCQkJICovCi0JCQkJCWlmIChmbGFncyAmJiBlLT5leGVj
X2lkICE9IEk5MTVfRVhFQ19SRU5ERVIpCi0JCQkJCQljb250aW51ZTsKLQotCQkJCQlpZ3Rfc3Vi
dGVzdF9mKCJtb2NzLSVzJXMlcy0lcyIsCi0JCQkJCQkgICAgICB0ZXN0X21vZGVzW21vZGVdLAot
CQkJCQkJICAgICAgZmxhZ3MgJiBNT0NTX05PTl9ERUZBVUxUX0NUWCA/ICItY3R4IjogIiIsCi0J
CQkJCQkgICAgICBmbGFncyAmIE1PQ1NfRElSVFlfVkFMVUVTID8gIi1kaXJ0eSIgOiAiIiwKLQkJ
CQkJCSAgICAgIGUtPm5hbWUpIHsKLQkJCQkJCWlmIChmbGFncyAmIChNT0NTX05PTl9ERUZBVUxU
X0NUWCB8IE1PQ1NfRElSVFlfVkFMVUVTKSkKLQkJCQkJCQlnZW1fcmVxdWlyZV9jb250ZXh0cyhm
ZCk7Ci0KLQkJCQkJCXJ1bl90ZXN0KGZkLCBlYl9yaW5nKGUpLCBmbGFncywgbW9kZSk7Ci0JCQkJ
CX0KLQkJCQl9Ci0KLQkJCQlpZ3RfZml4dHVyZSB7Ci0JCQkJCWlmIChtb2RlID09IFJFU0VUKQot
CQkJCQkJaWd0X2Rpc2FsbG93X2hhbmcoZmQsIGhhbmcpOwotCQkJCX0KLQkJCX0KLQkJfQotCi0J
CWlndF9zdWJ0ZXN0X2YoIm1vY3MtaXNvbGF0aW9uLSVzIiwgZS0+bmFtZSkgewotCQkJZ2VtX3Jl
cXVpcmVfcmluZyhmZCwgZWJfcmluZyhlKSk7Ci0JCQlnZW1fcmVxdWlyZV9jb250ZXh0cyhmZCk7
Ci0KLQkJCWlzb2xhdGlvbl90ZXN0KGZkLCBlYl9yaW5nKGUpKTsKLQkJfQotCX0KLQotCWlndF9m
aXh0dXJlCi0JCWNsb3NlKGZkKTsKLX0KZGlmZiAtLWdpdCBhL3Rlc3RzL2ludGVsLWNpL2JsYWNr
bGlzdC50eHQgYi90ZXN0cy9pbnRlbC1jaS9ibGFja2xpc3QudHh0CmluZGV4IDRkMTgxM2U1MC4u
MDU2YWQ3MzI0IDEwMDY0NAotLS0gYS90ZXN0cy9pbnRlbC1jaS9ibGFja2xpc3QudHh0CisrKyBi
L3Rlc3RzL2ludGVsLWNpL2JsYWNrbGlzdC50eHQKQEAgLTQ5LDcgKzQ5LDYgQEAgaWd0QGdlbV9o
YW5nY2hlY2tfZm9yY2V3YWtlKEAuKik/CiBpZ3RAZ2VtX2x1dF9oYW5kbGUoQC4qKT8KIGlndEBn
ZW1fbW1hcF9ndHRALiooaHVnZXxzd2FwfGNsZmx1c2h8Zm9ya2VkKS4qCiBpZ3RAZ2VtX21tYXBA
Liooc3dhcHxodWdlKS4qCi1pZ3RAZ2VtX21vY3Nfc2V0dGluZ3NALiooc3VzcGVuZHxoaWJlcm5h
dGUpLioKIGlndEBnZW1fcGluKEAuKik/CiBpZ3RAZ2VtX3ByZWFkX2FmdGVyX2JsaXQoQC4qKT8K
IGlndEBnZW1fcHdyaXRlX3ByZWFkQC4qcGVyZm9ybWFuY2UuKgpkaWZmIC0tZ2l0IGEvdGVzdHMv
bWVzb24uYnVpbGQgYi90ZXN0cy9tZXNvbi5idWlsZAppbmRleCA3NTVmYzllNmYuLmNhMmI4YjYy
ZCAxMDA2NDQKLS0tIGEvdGVzdHMvbWVzb24uYnVpbGQKKysrIGIvdGVzdHMvbWVzb24uYnVpbGQK
QEAgLTMxNCwxNCArMzE0LDYgQEAgdGVzdF9leGVjdXRhYmxlcyArPSBleGVjdXRhYmxlKCdnZW1f
ZXhlY19iYWxhbmNlcicsICdpOTE1L2dlbV9leGVjX2JhbGFuY2VyLmMnLAogCSAgIGluc3RhbGwg
OiB0cnVlKQogdGVzdF9saXN0ICs9ICdnZW1fZXhlY19iYWxhbmNlcicKIAotdGVzdF9leGVjdXRh
YmxlcyArPSBleGVjdXRhYmxlKCdnZW1fbW9jc19zZXR0aW5ncycsCi0JICAgam9pbl9wYXRocygn
aTkxNScsICdnZW1fbW9jc19zZXR0aW5ncy5jJyksCi0JICAgZGVwZW5kZW5jaWVzIDogdGVzdF9k
ZXBzICsgWyBsaWJfaWd0X3BlcmYgXSwKLQkgICBpbnN0YWxsX2RpciA6IGxpYmV4ZWNkaXIsCi0J
ICAgaW5zdGFsbF9ycGF0aCA6IGxpYmV4ZWNkaXJfcnBhdGhkaXIsCi0JICAgaW5zdGFsbCA6IHRy
dWUpCi10ZXN0X2xpc3QgKz0gJ2dlbV9tb2NzX3NldHRpbmdzJwotCiB0ZXN0X2V4ZWN1dGFibGVz
ICs9IGV4ZWN1dGFibGUoJ3BlcmZfcG11JywgJ3BlcmZfcG11LmMnLAogCSAgIGRlcGVuZGVuY2ll
cyA6IHRlc3RfZGVwcyArIFsgbGliX2lndF9wZXJmIF0sCiAJICAgaW5zdGFsbF9kaXIgOiBsaWJl
eGVjZGlyLAotLSAKMi4yNC4wCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fXwpJbnRlbC1nZnggbWFpbGluZyBsaXN0CkludGVsLWdmeEBsaXN0cy5mcmVlZGVz
a3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9p
bnRlbC1nZng=

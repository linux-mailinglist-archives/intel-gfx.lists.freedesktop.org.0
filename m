Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 59B597C520
	for <lists+intel-gfx@lfdr.de>; Wed, 31 Jul 2019 16:39:36 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 95D54898EE;
	Wed, 31 Jul 2019 14:39:34 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga17.intel.com (mga17.intel.com [192.55.52.151])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 82C2D89F27
 for <intel-gfx@lists.freedesktop.org>; Wed, 31 Jul 2019 14:39:20 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from fmsmga002.fm.intel.com ([10.253.24.26])
 by fmsmga107.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 31 Jul 2019 07:39:20 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.64,330,1559545200"; d="scan'208";a="200772112"
Received: from irvmail001.ir.intel.com ([163.33.26.43])
 by fmsmga002.fm.intel.com with ESMTP; 31 Jul 2019 07:39:19 -0700
Received: from mwajdecz-MOBL1.ger.corp.intel.com
 (mwajdecz-mobl1.ger.corp.intel.com [172.28.174.50])
 by irvmail001.ir.intel.com (8.14.3/8.13.6/MailSET/Hub) with ESMTP id
 x6VEdHNR001788; Wed, 31 Jul 2019 15:39:18 +0100
From: Michal Wajdeczko <michal.wajdeczko@intel.com>
To: intel-gfx@lists.freedesktop.org
Date: Wed, 31 Jul 2019 14:38:54 +0000
Message-Id: <20190731143856.35460-3-michal.wajdeczko@intel.com>
X-Mailer: git-send-email 2.21.0.windows.1
In-Reply-To: <20190731143856.35460-1-michal.wajdeczko@intel.com>
References: <20190731143856.35460-1-michal.wajdeczko@intel.com>
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH v2 2/4] drm/i915/uc: Consider enable_guc
 modparam during fw selection
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

V2UgY2FuIHVzZSB2YWx1ZSBvZiBlbmFibGVfZ3VjIG1vZHBhcmFtIGR1cmluZyBmaXJtd2FyZSBw
YXRoIHNlbGVjdGlvbgphbmQgc3RhcnQgdXNpbmcgZmlybXdhcmUgc3RhdHVzIHRvIHNlZSBpZiBH
dUMvSHVDIGlzIGJlaW5nIHVzZWQuClRoaXMgaXMgZmlyc3Qgc3RlcCB0byBtYWtlIGVuYWJsZV9n
dWMgbW9kcGFyYW0gcmVhZC1vbmx5LgoKdjI6IHJlYmFzZWQsIGRvbid0IGNhcmUgYWJvdXQgPDAg
KENocmlzKQoKU2lnbmVkLW9mZi1ieTogTWljaGFsIFdhamRlY3prbyA8bWljaGFsLndhamRlY3pr
b0BpbnRlbC5jb20+CkNjOiBEYW5pZWxlIENlcmFvbG8gU3B1cmlvIDxkYW5pZWxlLmNlcmFvbG9z
cHVyaW9AaW50ZWwuY29tPgpDYzogQ2hyaXMgV2lsc29uIDxjaHJpc0BjaHJpcy13aWxzb24uY28u
dWs+ClJldmlld2VkLWJ5OiBDaHJpcyBXaWxzb24gPGNocmlzQGNocmlzLXdpbHNvbi5jby51az4g
I3YxCi0tLQogZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvdWMvaW50ZWxfZ3VjLmggICB8ICA1ICsr
KysrCiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC91Yy9pbnRlbF9odWMuaCAgIHwgIDUgKysrKysK
IGRyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L3VjL2ludGVsX3VjLmggICAgfCAgNiArKy0tLS0KIGRy
aXZlcnMvZ3B1L2RybS9pOTE1L2d0L3VjL2ludGVsX3VjX2Z3LmMgfCAyMyArKysrKysrKysrKysr
KysrKysrKystLQogNCBmaWxlcyBjaGFuZ2VkLCAzMyBpbnNlcnRpb25zKCspLCA2IGRlbGV0aW9u
cygtKQoKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L3VjL2ludGVsX2d1Yy5o
IGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvdWMvaW50ZWxfZ3VjLmgKaW5kZXggNzE0ZTk4OTJh
YWZmLi41OTAxNTA2NjcyY2QgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L3Vj
L2ludGVsX2d1Yy5oCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L3VjL2ludGVsX2d1Yy5o
CkBAIC0xNzIsNiArMTcyLDExIEBAIGludCBpbnRlbF9ndWNfc3VzcGVuZChzdHJ1Y3QgaW50ZWxf
Z3VjICpndWMpOwogaW50IGludGVsX2d1Y19yZXN1bWUoc3RydWN0IGludGVsX2d1YyAqZ3VjKTsK
IHN0cnVjdCBpOTE1X3ZtYSAqaW50ZWxfZ3VjX2FsbG9jYXRlX3ZtYShzdHJ1Y3QgaW50ZWxfZ3Vj
ICpndWMsIHUzMiBzaXplKTsKIAorc3RhdGljIGlubGluZSBib29sIGludGVsX2d1Y19pc19zdXBw
b3J0ZWQoc3RydWN0IGludGVsX2d1YyAqZ3VjKQoreworCXJldHVybiBpbnRlbF91Y19md19zdXBw
b3J0ZWQoJmd1Yy0+ZncpOworfQorCiBzdGF0aWMgaW5saW5lIGJvb2wgaW50ZWxfZ3VjX2lzX3J1
bm5pbmcoc3RydWN0IGludGVsX2d1YyAqZ3VjKQogewogCXJldHVybiBpbnRlbF91Y19md19pc19y
dW5uaW5nKCZndWMtPmZ3KTsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L3Vj
L2ludGVsX2h1Yy5oIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvdWMvaW50ZWxfaHVjLmgKaW5k
ZXggNDQ2NTIwOWNlMjMzLi5hNmFlNTliOGNiNzcgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2d0L3VjL2ludGVsX2h1Yy5oCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L3Vj
L2ludGVsX2h1Yy5oCkBAIC01NSw2ICs1NSwxMSBAQCBzdGF0aWMgaW5saW5lIGludCBpbnRlbF9o
dWNfc2FuaXRpemUoc3RydWN0IGludGVsX2h1YyAqaHVjKQogCXJldHVybiAwOwogfQogCitzdGF0
aWMgaW5saW5lIGJvb2wgaW50ZWxfaHVjX2lzX3N1cHBvcnRlZChzdHJ1Y3QgaW50ZWxfaHVjICpo
dWMpCit7CisJcmV0dXJuIGludGVsX3VjX2Z3X3N1cHBvcnRlZCgmaHVjLT5mdyk7Cit9CisKIHN0
YXRpYyBpbmxpbmUgYm9vbCBpbnRlbF9odWNfaXNfYXV0aGVudGljYXRlZChzdHJ1Y3QgaW50ZWxf
aHVjICpodWMpCiB7CiAJcmV0dXJuIGludGVsX3VjX2Z3X2lzX3J1bm5pbmcoJmh1Yy0+ZncpOwpk
aWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvdWMvaW50ZWxfdWMuaCBiL2RyaXZl
cnMvZ3B1L2RybS9pOTE1L2d0L3VjL2ludGVsX3VjLmgKaW5kZXggNjZkOGIxZWU2ZjFkLi5jZjZj
NjBjZmZkZmIgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L3VjL2ludGVsX3Vj
LmgKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvdWMvaW50ZWxfdWMuaApAQCAtNTEsOCAr
NTEsNyBAQCBpbnQgaW50ZWxfdWNfcnVudGltZV9yZXN1bWUoc3RydWN0IGludGVsX3VjICp1Yyk7
CiAKIHN0YXRpYyBpbmxpbmUgYm9vbCBpbnRlbF91Y19zdXBwb3J0c19ndWMoc3RydWN0IGludGVs
X3VjICp1YykKIHsKLQlHRU1fQlVHX09OKGk5MTVfbW9kcGFyYW1zLmVuYWJsZV9ndWMgPCAwKTsK
LQlyZXR1cm4gaTkxNV9tb2RwYXJhbXMuZW5hYmxlX2d1YyA+IDA7CisJcmV0dXJuIGludGVsX2d1
Y19pc19zdXBwb3J0ZWQoJnVjLT5ndWMpOwogfQogCiBzdGF0aWMgaW5saW5lIGJvb2wgaW50ZWxf
dWNfc3VwcG9ydHNfZ3VjX3N1Ym1pc3Npb24oc3RydWN0IGludGVsX3VjICp1YykKQEAgLTYzLDgg
KzYyLDcgQEAgc3RhdGljIGlubGluZSBib29sIGludGVsX3VjX3N1cHBvcnRzX2d1Y19zdWJtaXNz
aW9uKHN0cnVjdCBpbnRlbF91YyAqdWMpCiAKIHN0YXRpYyBpbmxpbmUgYm9vbCBpbnRlbF91Y19z
dXBwb3J0c19odWMoc3RydWN0IGludGVsX3VjICp1YykKIHsKLQlHRU1fQlVHX09OKGk5MTVfbW9k
cGFyYW1zLmVuYWJsZV9ndWMgPCAwKTsKLQlyZXR1cm4gaTkxNV9tb2RwYXJhbXMuZW5hYmxlX2d1
YyAmIEVOQUJMRV9HVUNfTE9BRF9IVUM7CisJcmV0dXJuIGludGVsX2h1Y19pc19zdXBwb3J0ZWQo
JnVjLT5odWMpOwogfQogCiAjZW5kaWYKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1
L2d0L3VjL2ludGVsX3VjX2Z3LmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC91Yy9pbnRlbF91
Y19mdy5jCmluZGV4IGFjOTFlM2VmZDAyYi4uM2JmNWNhMzVhMDA1IDEwMDY0NAotLS0gYS9kcml2
ZXJzL2dwdS9kcm0vaTkxNS9ndC91Yy9pbnRlbF91Y19mdy5jCisrKyBiL2RyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2d0L3VjL2ludGVsX3VjX2Z3LmMKQEAgLTEzMiw2ICsxMzIsMjUgQEAgX191Y19md19h
dXRvX3NlbGVjdChzdHJ1Y3QgaW50ZWxfdWNfZncgKnVjX2Z3LCBlbnVtIGludGVsX3BsYXRmb3Jt
IHAsIHU4IHJldikKIAkJCXVjX2Z3LT5wYXRoID0gTlVMTDsKIAkJfQogCX0KKworCS8qIFdlIGRv
bid0IHdhbnQgdG8gZW5hYmxlIEd1Qy9IdUMgb24gcHJlLUdlbjExIGJ5IGRlZmF1bHQgKi8KKwlp
ZiAoaTkxNV9tb2RwYXJhbXMuZW5hYmxlX2d1YyA9PSAtMSAmJiBwIDwgSU5URUxfSUNFTEFLRSkK
KwkJdWNfZnctPnBhdGggPSBOVUxMOworfQorCitzdGF0aWMgY29uc3QgY2hhciAqX19vdmVycmlk
ZV9ndWNfZmlybXdhcmVfcGF0aCh2b2lkKQoreworCWlmIChpOTE1X21vZHBhcmFtcy5lbmFibGVf
Z3VjICYgKEVOQUJMRV9HVUNfU1VCTUlTU0lPTiB8fAorCQkJCQkgRU5BQkxFX0dVQ19MT0FEX0hV
QykpCisJCXJldHVybiBpOTE1X21vZHBhcmFtcy5ndWNfZmlybXdhcmVfcGF0aDsKKwlyZXR1cm4g
IiI7Cit9CisKK3N0YXRpYyBjb25zdCBjaGFyICpfX292ZXJyaWRlX2h1Y19maXJtd2FyZV9wYXRo
KHZvaWQpCit7CisJaWYgKGk5MTVfbW9kcGFyYW1zLmVuYWJsZV9ndWMgJiBFTkFCTEVfR1VDX0xP
QURfSFVDKQorCQlyZXR1cm4gaTkxNV9tb2RwYXJhbXMuaHVjX2Zpcm13YXJlX3BhdGg7CisJcmV0
dXJuICIiOwogfQogCiBzdGF0aWMgYm9vbApAQCAtMTM5LDEwICsxNTgsMTAgQEAgX191Y19md19v
dmVycmlkZShzdHJ1Y3QgaW50ZWxfdWNfZncgKnVjX2Z3KQogewogCXN3aXRjaCAodWNfZnctPnR5
cGUpIHsKIAljYXNlIElOVEVMX1VDX0ZXX1RZUEVfR1VDOgotCQl1Y19mdy0+cGF0aCA9IGk5MTVf
bW9kcGFyYW1zLmd1Y19maXJtd2FyZV9wYXRoOworCQl1Y19mdy0+cGF0aCA9IF9fb3ZlcnJpZGVf
Z3VjX2Zpcm13YXJlX3BhdGgoKTsKIAkJYnJlYWs7CiAJY2FzZSBJTlRFTF9VQ19GV19UWVBFX0hV
QzoKLQkJdWNfZnctPnBhdGggPSBpOTE1X21vZHBhcmFtcy5odWNfZmlybXdhcmVfcGF0aDsKKwkJ
dWNfZnctPnBhdGggPSBfX292ZXJyaWRlX2h1Y19maXJtd2FyZV9wYXRoKCk7CiAJCWJyZWFrOwog
CX0KIAotLSAKMi4xOS4yCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fXwpJbnRlbC1nZnggbWFpbGluZyBsaXN0CkludGVsLWdmeEBsaXN0cy5mcmVlZGVza3Rv
cC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9pbnRl
bC1nZng=

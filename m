Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 45E85D6A9E
	for <lists+intel-gfx@lfdr.de>; Mon, 14 Oct 2019 22:14:13 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 4AF6A6E49F;
	Mon, 14 Oct 2019 20:14:10 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from fireflyinternet.com (mail.fireflyinternet.com [109.228.58.192])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 6A4466E49F
 for <intel-gfx@lists.freedesktop.org>; Mon, 14 Oct 2019 20:14:09 +0000 (UTC)
X-Default-Received-SPF: pass (skip=forwardok (res=PASS))
 x-ip-name=78.156.65.138; 
Received: from haswell.alporthouse.com (unverified [78.156.65.138]) 
 by fireflyinternet.com (Firefly Internet (M1)) with ESMTP id 18836952-1500050 
 for <intel-gfx@lists.freedesktop.org>; Mon, 14 Oct 2019 21:14:06 +0100
From: Chris Wilson <chris@chris-wilson.co.uk>
To: intel-gfx@lists.freedesktop.org
Date: Mon, 14 Oct 2019 21:14:04 +0100
Message-Id: <20191014201404.22468-4-chris@chris-wilson.co.uk>
X-Mailer: git-send-email 2.23.0
In-Reply-To: <20191014201404.22468-1-chris@chris-wilson.co.uk>
References: <20191014201404.22468-1-chris@chris-wilson.co.uk>
MIME-Version: 1.0
Subject: [Intel-gfx] [CI 4/4] drm/i915/perf: allow holding preemption on
 filtered ctx
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

RnJvbTogTGlvbmVsIExhbmR3ZXJsaW4gPGxpb25lbC5nLmxhbmR3ZXJsaW5AaW50ZWwuY29tPgoK
V2Ugd291bGQgbGlrZSB0byBtYWtlIHVzZSBvZiBwZXJmIGluIFZ1bGthbi4gVGhlIFZ1bGthbiBB
UEkgaXMgbXVjaApsb3dlciBsZXZlbCB0aGFuIE9wZW5HTCwgd2l0aCBhcHBsaWNhdGlvbnMgZGly
ZWN0bHkgZXhwb3NlZCB0byB0aGUKY29uY2VwdCBvZiBjb21tYW5kIGJ1ZmZlcnMgKHByZXR0eSBt
dWNoIGVxdWl2YWxlbnQgdG8gb3VyIGJhdGNoCmJ1ZmZlcnMpLiBJbiBWdWxrYW4sIHF1ZXJpZXMg
YXJlIGFsd2F5cyBsaW1pdGVkIGluIHNjb3BlIHRvIGEgY29tbWFuZApidWZmZXIuIEluIE9wZW5H
TCwgdGhlIGxhY2sgb2YgY29tbWFuZCBidWZmZXIgY29uY2VwdCBtZWFudCB0aGF0CnF1ZXJpZXMn
IGR1cmF0aW9uIGNvdWxkIHNwYW4gbXVsdGlwbGUgY29tbWFuZCBidWZmZXJzLgoKV2l0aCB0aGF0
IHJlc3RyaWN0aW9uIGdvbmUgaW4gVnVsa2FuLCB3ZSB3b3VsZCBsaWtlIHRvIHNpbXBsaWZ5Cm1l
YXN1cmluZyBwZXJmb3JtYW5jZSBqdXN0IGJ5IG1lYXN1cmluZyB0aGUgZGVsdGFzIGJldHdlZW4g
dGhlIGNvdW50ZXIKc25hcHNob3RzIHdyaXR0ZW4gYnkgMiBNSV9SRUNPUkRfUEVSRl9DT1VOVCBj
b21tYW5kcywgcmF0aGVyIHRoYW4gdGhlCm1vcmUgY29tcGxleCBzY2hlbWUgd2UgY3VycmVudGx5
IGhhdmUgaW4gdGhlIEdMIGRyaXZlciwgdXNpbmcgMgpNSV9SRUNPUkRfUEVSRl9DT1VOVCBjb21t
YW5kcyBhbmQgZG9pbmcgc29tZSBwb3N0IHByb2Nlc3Npbmcgb24gdGhlCnN0cmVhbSBvZiBPQSBy
ZXBvcnRzLCBjb21pbmcgZnJvbSB0aGUgZ2xvYmFsIE9BIGJ1ZmZlciwgdG8gcmVtb3ZlIGFueQp1
bnJlbGF0ZWQgZGVsdGFzIGluIGJldHdlZW4gdGhlIDIgTUlfUkVDT1JEX1BFUkZfQ09VTlQuCgpE
aXNhYmxpbmcgcHJlZW1wdGlvbiBvbmx5IGFwcGx5IHRvIGEgc2luZ2xlIGNvbnRleHQgd2l0aCB3
aGljaCB3YW50IHRvCnF1ZXJ5IHBlcmZvcm1hbmNlIGNvdW50ZXJzIGZvciBhbmQgaXMgY29uc2lk
ZXJlZCBhIHByaXZpbGVnZWQKb3BlcmF0aW9uLCBieSBkZWZhdWx0IHByb3RlY3RlZCBieSBDQVBf
U1lTX0FETUlOLiBJdCBpcyBwb3NzaWJsZSB0bwplbmFibGUgaXQgZm9yIGEgbm9ybWFsIHVzZXIg
YnkgZGlzYWJsaW5nIHRoZSBwYXJhbm9pZCBzdHJlYW0gc2V0dGluZy4KCnYyOiBTdG9yZSBwcmVl
bXB0aW9uIHNldHRpbmcgaW4gaW50ZWxfY29udGV4dCAoQ2hyaXMpCgp2MzogVXNlIHByaW9yaXRp
ZXMgdG8gYXZvaWQgcHJlZW1wdGlvbiByYXRoZXIgdGhhbiB0aGUgSFcgbWVjaGFuaXNtCgp2NDog
SnVzdCBtb2RpZnkgdGhlIHBvcnQgcHJpb3JpdHkgcmVwb3J0aW5nIGZ1bmN0aW9uCgp2NTogQWRk
IG5vcHJlZW1wdCBmbGFnIG9uIGdlbSBjb250ZXh0IGFuZCBhbHdheXMgZmxhZyByZXF1ZXN0cwog
ICAgYXBwcm9wcmlhdGVseSwgcmVnYXJsZXNzIG9mIE9BIHJlY29uZmlndXJhdGlvbi4KCkxpbms6
IGh0dHBzOi8vZ2l0bGFiLmZyZWVkZXNrdG9wLm9yZy9tZXNhL21lc2EvbWVyZ2VfcmVxdWVzdHMv
OTMyClNpZ25lZC1vZmYtYnk6IExpb25lbCBMYW5kd2VybGluIDxsaW9uZWwuZy5sYW5kd2VybGlu
QGludGVsLmNvbT4KUmV2aWV3ZWQtYnk6IENocmlzIFdpbHNvbiA8Y2hyaXNAY2hyaXMtd2lsc29u
LmNvLnVrPgpTaWduZWQtb2ZmLWJ5OiBDaHJpcyBXaWxzb24gPGNocmlzQGNocmlzLXdpbHNvbi5j
by51az4KLS0tCiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fY29udGV4dC5oICAg
fCAxOCArKysrKysrKysrCiAuLi4vZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9jb250ZXh0X3R5
cGVzLmggfCAgMSArCiAuLi4vZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9leGVjYnVmZmVyLmMg
ICAgfCAgMyArKwogZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9wZXJmLmMgICAgICAgICAgICAg
IHwgMzQgKysrKysrKysrKysrKysrKystLQogZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9wZXJm
X3R5cGVzLmggICAgICAgIHwgIDggKysrKysKIGluY2x1ZGUvdWFwaS9kcm0vaTkxNV9kcm0uaCAg
ICAgICAgICAgICAgICAgICB8IDExICsrKysrKwogNiBmaWxlcyBjaGFuZ2VkLCA3MiBpbnNlcnRp
b25zKCspLCAzIGRlbGV0aW9ucygtKQoKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1
L2dlbS9pOTE1X2dlbV9jb250ZXh0LmggYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9n
ZW1fY29udGV4dC5oCmluZGV4IDkyMzQ1ODY4MzBkMS4uY2ZlODA1OTBmMGVkIDEwMDY0NAotLS0g
YS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fY29udGV4dC5oCisrKyBiL2RyaXZl
cnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9jb250ZXh0LmgKQEAgLTExNCw2ICsxMTQsMjQg
QEAgaTkxNV9nZW1fY29udGV4dF9jbGVhcl91c2VyX2VuZ2luZXMoc3RydWN0IGk5MTVfZ2VtX2Nv
bnRleHQgKmN0eCkKIAljbGVhcl9iaXQoQ09OVEVYVF9VU0VSX0VOR0lORVMsICZjdHgtPmZsYWdz
KTsKIH0KIAorc3RhdGljIGlubGluZSBib29sCitpOTE1X2dlbV9jb250ZXh0X25vcHJlZW1wdChj
b25zdCBzdHJ1Y3QgaTkxNV9nZW1fY29udGV4dCAqY3R4KQoreworCXJldHVybiB0ZXN0X2JpdChD
T05URVhUX05PUFJFRU1QVCwgJmN0eC0+ZmxhZ3MpOworfQorCitzdGF0aWMgaW5saW5lIHZvaWQK
K2k5MTVfZ2VtX2NvbnRleHRfc2V0X25vcHJlZW1wdChzdHJ1Y3QgaTkxNV9nZW1fY29udGV4dCAq
Y3R4KQoreworCXNldF9iaXQoQ09OVEVYVF9OT1BSRUVNUFQsICZjdHgtPmZsYWdzKTsKK30KKwor
c3RhdGljIGlubGluZSB2b2lkCitpOTE1X2dlbV9jb250ZXh0X2NsZWFyX25vcHJlZW1wdChzdHJ1
Y3QgaTkxNV9nZW1fY29udGV4dCAqY3R4KQoreworCWNsZWFyX2JpdChDT05URVhUX05PUFJFRU1Q
VCwgJmN0eC0+ZmxhZ3MpOworfQorCiBzdGF0aWMgaW5saW5lIGJvb2wgaTkxNV9nZW1fY29udGV4
dF9pc19rZXJuZWwoc3RydWN0IGk5MTVfZ2VtX2NvbnRleHQgKmN0eCkKIHsKIAlyZXR1cm4gIWN0
eC0+ZmlsZV9wcml2OwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVf
Z2VtX2NvbnRleHRfdHlwZXMuaCBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9j
b250ZXh0X3R5cGVzLmgKaW5kZXggYWI4ZTEzNjdkZmM4Li5mZTk3YjhiYTRmZGEgMTAwNjQ0Ci0t
LSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9jb250ZXh0X3R5cGVzLmgKKysr
IGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX2NvbnRleHRfdHlwZXMuaApAQCAt
MTQ2LDYgKzE0Niw3IEBAIHN0cnVjdCBpOTE1X2dlbV9jb250ZXh0IHsKICNkZWZpbmUgQ09OVEVY
VF9DTE9TRUQJCQkxCiAjZGVmaW5lIENPTlRFWFRfRk9SQ0VfU0lOR0xFX1NVQk1JU1NJT04JMgog
I2RlZmluZSBDT05URVhUX1VTRVJfRU5HSU5FUwkJMworI2RlZmluZSBDT05URVhUX05PUFJFRU1Q
VAkJNAogCiAJc3RydWN0IG11dGV4IG11dGV4OwogCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9k
cm0vaTkxNS9nZW0vaTkxNV9nZW1fZXhlY2J1ZmZlci5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUv
Z2VtL2k5MTVfZ2VtX2V4ZWNidWZmZXIuYwppbmRleCA5ODgxNmMzNWZmYzMuLmU5NjkwMTg4ODMy
MyAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX2V4ZWNidWZm
ZXIuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fZXhlY2J1ZmZlci5j
CkBAIC0yMDc3LDYgKzIwNzcsOSBAQCBzdGF0aWMgaW50IGViX3N1Ym1pdChzdHJ1Y3QgaTkxNV9l
eGVjYnVmZmVyICplYikKIAlpZiAoZXJyKQogCQlyZXR1cm4gZXJyOwogCisJaWYgKGk5MTVfZ2Vt
X2NvbnRleHRfbm9wcmVlbXB0KGViLT5nZW1fY29udGV4dCkpCisJCWViLT5yZXF1ZXN0LT5mbGFn
cyB8PSBJOTE1X1JFUVVFU1RfTk9QUkVFTVBUOworCiAJcmV0dXJuIDA7CiB9CiAKZGlmZiAtLWdp
dCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfcGVyZi5jIGIvZHJpdmVycy9ncHUvZHJtL2k5
MTUvaTkxNV9wZXJmLmMKaW5kZXggMzcyYzkxZjZhMjhlLi41NGVjMWM0MTkwYWMgMTAwNjQ0Ci0t
LSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfcGVyZi5jCisrKyBiL2RyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2k5MTVfcGVyZi5jCkBAIC0zNDQsNiArMzQ0LDggQEAgc3RhdGljIGNvbnN0IHN0cnVj
dCBpOTE1X29hX2Zvcm1hdCBnZW44X3BsdXNfb2FfZm9ybWF0c1tJOTE1X09BX0ZPUk1BVF9NQVhd
ID0gewogICogc3RydWN0IHBlcmZfb3Blbl9wcm9wZXJ0aWVzIC0gZm9yIHZhbGlkYXRlZCBwcm9w
ZXJ0aWVzIGdpdmVuIHRvIG9wZW4gYSBzdHJlYW0KICAqIEBzYW1wbGVfZmxhZ3M6IGBEUk1fSTkx
NV9QRVJGX1BST1BfU0FNUExFXypgIHByb3BlcnRpZXMgYXJlIHRyYWNrZWQgYXMgZmxhZ3MKICAq
IEBzaW5nbGVfY29udGV4dDogV2hldGhlciBhIHNpbmdsZSBvciBhbGwgZ3B1IGNvbnRleHRzIHNo
b3VsZCBiZSBtb25pdG9yZWQKKyAqIEBob2xkX3ByZWVtcHRpb246IFdoZXRoZXIgdGhlIHByZWVt
cHRpb24gaXMgZGlzYWJsZWQgZm9yIHRoZSBmaWx0ZXJlZAorICogICAgICAgICAgICAgICAgICAg
Y29udGV4dAogICogQGN0eF9oYW5kbGU6IEEgZ2VtIGN0eCBoYW5kbGUgZm9yIHVzZSB3aXRoIEBz
aW5nbGVfY29udGV4dAogICogQG1ldHJpY3Nfc2V0OiBBbiBJRCBmb3IgYW4gT0EgdW5pdCBtZXRy
aWMgc2V0IGFkdmVydGlzZWQgdmlhIHN5c2ZzCiAgKiBAb2FfZm9ybWF0OiBBbiBPQSB1bml0IEhX
IHJlcG9ydCBmb3JtYXQKQEAgLTM1OSw2ICszNjEsNyBAQCBzdHJ1Y3QgcGVyZl9vcGVuX3Byb3Bl
cnRpZXMgewogCXUzMiBzYW1wbGVfZmxhZ3M7CiAKIAl1NjQgc2luZ2xlX2NvbnRleHQ6MTsKKwl1
NjQgaG9sZF9wcmVlbXB0aW9uOjE7CiAJdTY0IGN0eF9oYW5kbGU7CiAKIAkvKiBPQSBzYW1wbGlu
ZyBzdGF0ZSAqLwpAQCAtMjUxNCw2ICsyNTE3LDggQEAgc3RhdGljIGludCBpOTE1X29hX3N0cmVh
bV9pbml0KHN0cnVjdCBpOTE1X3BlcmZfc3RyZWFtICpzdHJlYW0sCiAJaWYgKFdBUk5fT04oc3Ry
ZWFtLT5vYV9idWZmZXIuZm9ybWF0X3NpemUgPT0gMCkpCiAJCXJldHVybiAtRUlOVkFMOwogCisJ
c3RyZWFtLT5ob2xkX3ByZWVtcHRpb24gPSBwcm9wcy0+aG9sZF9wcmVlbXB0aW9uOworCiAJc3Ry
ZWFtLT5vYV9idWZmZXIuZm9ybWF0ID0KIAkJcGVyZi0+b2FfZm9ybWF0c1twcm9wcy0+b2FfZm9y
bWF0XS5mb3JtYXQ7CiAKQEAgLTI4MzQsNiArMjgzOSw5IEBAIHN0YXRpYyB2b2lkIGk5MTVfcGVy
Zl9lbmFibGVfbG9ja2VkKHN0cnVjdCBpOTE1X3BlcmZfc3RyZWFtICpzdHJlYW0pCiAKIAlpZiAo
c3RyZWFtLT5vcHMtPmVuYWJsZSkKIAkJc3RyZWFtLT5vcHMtPmVuYWJsZShzdHJlYW0pOworCisJ
aWYgKHN0cmVhbS0+aG9sZF9wcmVlbXB0aW9uKQorCQlpOTE1X2dlbV9jb250ZXh0X3NldF9ub3By
ZWVtcHQoc3RyZWFtLT5jdHgpOwogfQogCiAvKioKQEAgLTI4NTgsNiArMjg2Niw5IEBAIHN0YXRp
YyB2b2lkIGk5MTVfcGVyZl9kaXNhYmxlX2xvY2tlZChzdHJ1Y3QgaTkxNV9wZXJmX3N0cmVhbSAq
c3RyZWFtKQogCS8qIEFsbG93IHN0cmVhbS0+b3BzLT5kaXNhYmxlKCkgdG8gcmVmZXIgdG8gdGhp
cyAqLwogCXN0cmVhbS0+ZW5hYmxlZCA9IGZhbHNlOwogCisJaWYgKHN0cmVhbS0+aG9sZF9wcmVl
bXB0aW9uKQorCQlpOTE1X2dlbV9jb250ZXh0X2NsZWFyX25vcHJlZW1wdChzdHJlYW0tPmN0eCk7
CisKIAlpZiAoc3RyZWFtLT5vcHMtPmRpc2FibGUpCiAJCXN0cmVhbS0+b3BzLT5kaXNhYmxlKHN0
cmVhbSk7CiB9CkBAIC0zMDY3LDYgKzMwNzgsMTUgQEAgaTkxNV9wZXJmX29wZW5faW9jdGxfbG9j
a2VkKHN0cnVjdCBpOTE1X3BlcmYgKnBlcmYsCiAJCX0KIAl9CiAKKwlpZiAocHJvcHMtPmhvbGRf
cHJlZW1wdGlvbikgeworCQlpZiAoIXByb3BzLT5zaW5nbGVfY29udGV4dCkgeworCQkJRFJNX0RF
QlVHKCJwcmVlbXB0aW9uIGRpc2FibGUgd2l0aCBubyBjb250ZXh0XG4iKTsKKwkJCXJldCA9IC1F
SU5WQUw7CisJCQlnb3RvIGVycjsKKwkJfQorCQlwcml2aWxlZ2VkX29wID0gdHJ1ZTsKKwl9CisK
IAkvKgogCSAqIE9uIEhhc3dlbGwgdGhlIE9BIHVuaXQgc3VwcG9ydHMgY2xvY2sgZ2F0aW5nIG9m
ZiBmb3IgYSBzcGVjaWZpYwogCSAqIGNvbnRleHQgYW5kIGluIHRoaXMgbW9kZSB0aGVyZSdzIG5v
IHZpc2liaWxpdHkgb2YgbWV0cmljcyBmb3IgdGhlCkBAIC0zMDgxLDcgKzMxMDEsNyBAQCBpOTE1
X3BlcmZfb3Blbl9pb2N0bF9sb2NrZWQoc3RydWN0IGk5MTVfcGVyZiAqcGVyZiwKIAkgKiBNSV9S
RVBPUlRfUEVSRl9DT1VOVCBjb21tYW5kcyBhbmQgc28gY29uc2lkZXIgaXQgYSBwcml2aWxlZ2Vk
IG9wIHRvCiAJICogZW5hYmxlIHRoZSBPQSB1bml0IGJ5IGRlZmF1bHQuCiAJICovCi0JaWYgKElT
X0hBU1dFTEwocGVyZi0+aTkxNSkgJiYgc3BlY2lmaWNfY3R4KQorCWlmIChJU19IQVNXRUxMKHBl
cmYtPmk5MTUpICYmIHNwZWNpZmljX2N0eCAmJiAhcHJvcHMtPmhvbGRfcHJlZW1wdGlvbikKIAkJ
cHJpdmlsZWdlZF9vcCA9IGZhbHNlOwogCiAJLyogU2ltaWxhciB0byBwZXJmJ3Mga2VybmVsLnBl
cmZfcGFyYW5vaWRfY3B1IHN5c2N0bCBvcHRpb24KQEAgLTMwOTEsNyArMzExMSw3IEBAIGk5MTVf
cGVyZl9vcGVuX2lvY3RsX2xvY2tlZChzdHJ1Y3QgaTkxNV9wZXJmICpwZXJmLAogCSAqLwogCWlm
IChwcml2aWxlZ2VkX29wICYmCiAJICAgIGk5MTVfcGVyZl9zdHJlYW1fcGFyYW5vaWQgJiYgIWNh
cGFibGUoQ0FQX1NZU19BRE1JTikpIHsKLQkJRFJNX0RFQlVHKCJJbnN1ZmZpY2llbnQgcHJpdmls
ZWdlcyB0byBvcGVuIHN5c3RlbS13aWRlIGk5MTUgcGVyZiBzdHJlYW1cbiIpOworCQlEUk1fREVC
VUcoIkluc3VmZmljaWVudCBwcml2aWxlZ2VzIHRvIG9wZW4gaTkxNSBwZXJmIHN0cmVhbVxuIik7
CiAJCXJldCA9IC1FQUNDRVM7CiAJCWdvdG8gZXJyX2N0eDsKIAl9CkBAIC0zMjkzLDYgKzMzMTMs
OSBAQCBzdGF0aWMgaW50IHJlYWRfcHJvcGVydGllc191bmxvY2tlZChzdHJ1Y3QgaTkxNV9wZXJm
ICpwZXJmLAogCQkJcHJvcHMtPm9hX3BlcmlvZGljID0gdHJ1ZTsKIAkJCXByb3BzLT5vYV9wZXJp
b2RfZXhwb25lbnQgPSB2YWx1ZTsKIAkJCWJyZWFrOworCQljYXNlIERSTV9JOTE1X1BFUkZfUFJP
UF9IT0xEX1BSRUVNUFRJT046CisJCQlwcm9wcy0+aG9sZF9wcmVlbXB0aW9uID0gISF2YWx1ZTsK
KwkJCWJyZWFrOwogCQljYXNlIERSTV9JOTE1X1BFUkZfUFJPUF9NQVg6CiAJCQlNSVNTSU5HX0NB
U0UoaWQpOwogCQkJcmV0dXJuIC1FSU5WQUw7CkBAIC00MDY2LDggKzQwODksMTMgQEAgaW50IGk5
MTVfcGVyZl9pb2N0bF92ZXJzaW9uKHZvaWQpCiAJICoKIAkgKiAyOiBBZGRlZCBydW50aW1lIG1v
ZGlmaWNhdGlvbiBvZiBPQSBjb25maWcuCiAJICogICBJOTE1X1BFUkZfSU9DVExfQ09ORklHCisJ
ICoKKwkgKiAzOiBBZGQgRFJNX0k5MTVfUEVSRl9QUk9QX0hPTERfUFJFRU1QVElPTiBwYXJhbWV0
ZXIgdG8gaG9sZAorCSAqICAgIHByZWVtcHRpb24gb24gYSBwYXJ0aWN1bGFyIGNvbnRleHQgc28g
dGhhdCBwZXJmb3JtYW5jZSBkYXRhIGlzCisJICogICAgYWNjZXNzaWJsZSBmcm9tIGEgZGVsdGEg
b2YgTUlfUlBDIHJlcG9ydHMgd2l0aG91dCBsb29raW5nIGF0IHRoZQorCSAqICAgIE9BIGJ1ZmZl
ci4KIAkgKi8KLQlyZXR1cm4gMjsKKwlyZXR1cm4gMzsKIH0KIAogI2lmIElTX0VOQUJMRUQoQ09O
RklHX0RSTV9JOTE1X1NFTEZURVNUKQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUv
aTkxNV9wZXJmX3R5cGVzLmggYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3BlcmZfdHlwZXMu
aAppbmRleCBkMzVhM2MxOTQ2YzMuLmExZjczM2ZjOTA1YSAxMDA2NDQKLS0tIGEvZHJpdmVycy9n
cHUvZHJtL2k5MTUvaTkxNV9wZXJmX3R5cGVzLmgKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUv
aTkxNV9wZXJmX3R5cGVzLmgKQEAgLTE3MCw2ICsxNzAsMTQgQEAgc3RydWN0IGk5MTVfcGVyZl9z
dHJlYW0gewogCSAqLwogCWJvb2wgZW5hYmxlZDsKIAorCS8qKgorCSAqIEBob2xkX3ByZWVtcHRp
b246IFdoZXRoZXIgcHJlZW1wdGlvbiBpcyBwdXQgb24gaG9sZCBmb3IgY29tbWFuZAorCSAqIHN1
Ym1pc3Npb25zIGRvbmUgb24gdGhlIEBjdHguIFRoaXMgaXMgdXNlZnVsIGZvciBzb21lIGRyaXZl
cnMgdGhhdAorCSAqIGNhbm5vdCBlYXNpbHkgcG9zdCBwcm9jZXNzIHRoZSBPQSBidWZmZXIgY29u
dGV4dCB0byBzdWJ0cmFjdCBkZWx0YQorCSAqIG9mIHBlcmZvcm1hbmNlIGNvdW50ZXJzIG5vdCBh
c3NvY2lhdGVkIHdpdGggQGN0eC4KKwkgKi8KKwlib29sIGhvbGRfcHJlZW1wdGlvbjsKKwogCS8q
KgogCSAqIEBvcHM6IFRoZSBjYWxsYmFja3MgcHJvdmlkaW5nIHRoZSBpbXBsZW1lbnRhdGlvbiBv
ZiB0aGlzIHNwZWNpZmljCiAJICogdHlwZSBvZiBjb25maWd1cmVkIHN0cmVhbS4KZGlmZiAtLWdp
dCBhL2luY2x1ZGUvdWFwaS9kcm0vaTkxNV9kcm0uaCBiL2luY2x1ZGUvdWFwaS9kcm0vaTkxNV9k
cm0uaAppbmRleCBiMDA4Y2U4YjRlNmYuLjYzZDQwY2JhOTdlMCAxMDA2NDQKLS0tIGEvaW5jbHVk
ZS91YXBpL2RybS9pOTE1X2RybS5oCisrKyBiL2luY2x1ZGUvdWFwaS9kcm0vaTkxNV9kcm0uaApA
QCAtMTg5MCw2ICsxODkwLDE3IEBAIGVudW0gZHJtX2k5MTVfcGVyZl9wcm9wZXJ0eV9pZCB7CiAJ
ICovCiAJRFJNX0k5MTVfUEVSRl9QUk9QX09BX0VYUE9ORU5ULAogCisJLyoqCisJICogU3BlY2lm
eWluZyB0aGlzIHByb3BlcnR5IGlzIG9ubHkgdmFsaWQgd2hlbiBzcGVjaWZ5IGEgY29udGV4dCB0
bworCSAqIGZpbHRlciB3aXRoIERSTV9JOTE1X1BFUkZfUFJPUF9DVFhfSEFORExFLiBTcGVjaWZ5
aW5nIHRoaXMgcHJvcGVydHkKKwkgKiB3aWxsIGhvbGQgcHJlZW1wdGlvbiBvZiB0aGUgcGFydGlj
dWxhciBjb250ZXh0IHdlIHdhbnQgdG8gZ2F0aGVyCisJICogcGVyZm9ybWFuY2UgZGF0YSBhYm91
dC4gVGhlIGV4ZWNidWYyIHN1Ym1pc3Npb25zIG11c3QgaW5jbHVkZSBhCisJICogZHJtX2k5MTVf
Z2VtX2V4ZWNidWZmZXJfZXh0X3BlcmYgcGFyYW1ldGVyIGZvciB0aGlzIHRvIGFwcGx5LgorCSAq
CisJICogVGhpcyBwcm9wZXJ0eSBpcyBhdmFpbGFibGUgaW4gcGVyZiByZXZpc2lvbiAzLgorCSAq
LworCURSTV9JOTE1X1BFUkZfUFJPUF9IT0xEX1BSRUVNUFRJT04sCisKIAlEUk1fSTkxNV9QRVJG
X1BST1BfTUFYIC8qIG5vbi1BQkkgKi8KIH07CiAKLS0gCjIuMjMuMAoKX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KSW50ZWwtZ2Z4IG1haWxpbmcgbGlzdApJ
bnRlbC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Au
b3JnL21haWxtYW4vbGlzdGluZm8vaW50ZWwtZ2Z4

Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 86E8CCAF77
	for <lists+intel-gfx@lfdr.de>; Thu,  3 Oct 2019 21:43:35 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 7C3536EA6F;
	Thu,  3 Oct 2019 19:43:33 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga14.intel.com (mga14.intel.com [192.55.52.115])
 by gabe.freedesktop.org (Postfix) with ESMTPS id F3AF66EA6F
 for <intel-gfx@lists.freedesktop.org>; Thu,  3 Oct 2019 19:43:32 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga003.jf.intel.com ([10.7.209.27])
 by fmsmga103.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 03 Oct 2019 12:43:32 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.67,253,1566889200"; d="scan'208";a="195321319"
Received: from fmsmsx106.amr.corp.intel.com ([10.18.124.204])
 by orsmga003.jf.intel.com with ESMTP; 03 Oct 2019 12:43:32 -0700
Received: from fmsmsx103.amr.corp.intel.com ([169.254.2.82]) by
 FMSMSX106.amr.corp.intel.com ([169.254.5.215]) with mapi id 14.03.0439.000;
 Thu, 3 Oct 2019 12:43:31 -0700
From: "Tang, CQ" <cq.tang@intel.com>
To: "Auld, Matthew" <matthew.auld@intel.com>,
 "intel-gfx@lists.freedesktop.org" <intel-gfx@lists.freedesktop.org>
Thread-Topic: [Intel-gfx] [PATCH v2 13/22] drm/i915: treat stolen as a region
Thread-Index: AQHVeiBRmrwx5ZiSVEGzx7BmdBlszKdJUHww
Date: Thu, 3 Oct 2019 19:43:31 +0000
Message-ID: <1D440B9B88E22A4ABEF89F9F1F81BC29E9450807@FMSMSX103.amr.corp.intel.com>
References: <20191003192444.10113-1-matthew.auld@intel.com>
 <20191003192444.10113-14-matthew.auld@intel.com>
In-Reply-To: <20191003192444.10113-14-matthew.auld@intel.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-titus-metadata-40: eyJDYXRlZ29yeUxhYmVscyI6IiIsIk1ldGFkYXRhIjp7Im5zIjoiaHR0cDpcL1wvd3d3LnRpdHVzLmNvbVwvbnNcL0ludGVsMyIsImlkIjoiZjJjZmZkODctNWY1My00NWEyLWIzMjgtOTBjMTU3NzM2NWQyIiwicHJvcHMiOlt7Im4iOiJDVFBDbGFzc2lmaWNhdGlvbiIsInZhbHMiOlt7InZhbHVlIjoiQ1RQX05UIn1dfV19LCJTdWJqZWN0TGFiZWxzIjpbXSwiVE1DVmVyc2lvbiI6IjE3LjEwLjE4MDQuNDkiLCJUcnVzdGVkTGFiZWxIYXNoIjoia0x5M1V5bEtXekJ3SGVZb2g4eis1dmlwK3BYVnhWOThuRVBFNXR4N1p4cXljekhRdUdMU1JmZ0pWTW9XWW5vMyJ9
x-ctpclassification: CTP_NT
dlp-product: dlpe-windows
dlp-version: 11.2.0.6
dlp-reaction: no-action
x-originating-ip: [10.1.200.106]
MIME-Version: 1.0
Subject: Re: [Intel-gfx] [PATCH v2 13/22] drm/i915: treat stolen as a region
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

DQoNCj4gLS0tLS1PcmlnaW5hbCBNZXNzYWdlLS0tLS0NCj4gRnJvbTogSW50ZWwtZ2Z4IDxpbnRl
bC1nZngtYm91bmNlc0BsaXN0cy5mcmVlZGVza3RvcC5vcmc+IE9uIEJlaGFsZiBPZg0KPiBNYXR0
aGV3IEF1bGQNCj4gU2VudDogVGh1cnNkYXksIE9jdG9iZXIgMywgMjAxOSAxMjoyNSBQTQ0KPiBU
bzogaW50ZWwtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZw0KPiBTdWJqZWN0OiBbSW50ZWwtZ2Z4
XSBbUEFUQ0ggdjIgMTMvMjJdIGRybS9pOTE1OiB0cmVhdCBzdG9sZW4gYXMgYSByZWdpb24NCj4g
DQo+IENvbnZlcnQgc3RvbGVuIG1lbW9yeSBvdmVyIHRvIGEgcmVnaW9uIG9iamVjdC4gU3RpbGwg
bGVhdmVzIG9wZW4gdGhlDQo+IHF1ZXN0aW9uIHdpdGggd2hhdCB0byBkbyB3aXRoIHByZS1hbGxv
Y2F0ZWQgb2JqZWN0cy4uLg0KPiANCj4gU2lnbmVkLW9mZi1ieTogTWF0dGhldyBBdWxkIDxtYXR0
aGV3LmF1bGRAaW50ZWwuY29tPg0KPiBDYzogSm9vbmFzIExhaHRpbmVuIDxqb29uYXMubGFodGlu
ZW5AbGludXguaW50ZWwuY29tPg0KPiBDYzogQWJkaWVsIEphbnVsZ3VlIDxhYmRpZWwuamFudWxn
dWVAbGludXguaW50ZWwuY29tPg0KPiAtLS0NCj4gIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9p
OTE1X2dlbV9zdG9sZW4uYyB8IDY2DQo+ICsrKysrKysrKysrKysrKysrKystLS0gIGRyaXZlcnMv
Z3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9zdG9sZW4uaA0KPiB8ICAzICstDQo+ICBkcml2ZXJz
L2dwdS9kcm0vaTkxNS9pOTE1X2dlbV9ndHQuYyAgICAgICAgfCAxNCArLS0tLQ0KPiAgZHJpdmVy
cy9ncHUvZHJtL2k5MTUvaTkxNV9wY2kuYyAgICAgICAgICAgIHwgIDIgKy0NCj4gIDQgZmlsZXMg
Y2hhbmdlZCwgNjIgaW5zZXJ0aW9ucygrKSwgMjMgZGVsZXRpb25zKC0pDQo+IA0KPiBkaWZmIC0t
Z2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX3N0b2xlbi5jDQo+IGIvZHJp
dmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX3N0b2xlbi5jDQo+IGluZGV4IDNkZDI5NWJi
NjFmNi4uYTkxZWY5ZmU5OGNkIDEwMDY0NA0KPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9n
ZW0vaTkxNV9nZW1fc3RvbGVuLmMNCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5
MTVfZ2VtX3N0b2xlbi5jDQo+IEBAIC0xMCw2ICsxMCw3IEBADQo+ICAjaW5jbHVkZSA8ZHJtL2Ry
bV9tbS5oPg0KPiAgI2luY2x1ZGUgPGRybS9pOTE1X2RybS5oPg0KPiANCj4gKyNpbmNsdWRlICJn
ZW0vaTkxNV9nZW1fcmVnaW9uLmgiDQo+ICAjaW5jbHVkZSAiaTkxNV9kcnYuaCINCj4gICNpbmNs
dWRlICJpOTE1X2dlbV9zdG9sZW4uaCINCj4gDQo+IEBAIC0xNTAsNyArMTUxLDcgQEAgc3RhdGlj
IGludCBpOTE1X2FkanVzdF9zdG9sZW4oc3RydWN0IGRybV9pOTE1X3ByaXZhdGUNCj4gKmRldl9w
cml2LA0KPiAgCXJldHVybiAwOw0KPiAgfQ0KPiANCj4gLXZvaWQgaTkxNV9nZW1fY2xlYW51cF9z
dG9sZW4oc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2KQ0KPiArc3RhdGljIHZvaWQg
aTkxNV9nZW1fY2xlYW51cF9zdG9sZW4oc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2
KQ0KPiAgew0KPiAgCWlmICghZHJtX21tX2luaXRpYWxpemVkKCZkZXZfcHJpdi0+bW0uc3RvbGVu
KSkNCj4gIAkJcmV0dXJuOw0KPiBAQCAtMzU1LDcgKzM1Niw3IEBAIHN0YXRpYyB2b2lkIGljbF9n
ZXRfc3RvbGVuX3Jlc2VydmVkKHN0cnVjdA0KPiBkcm1faTkxNV9wcml2YXRlICppOTE1LA0KPiAg
CX0NCj4gIH0NCj4gDQo+IC1pbnQgaTkxNV9nZW1faW5pdF9zdG9sZW4oc3RydWN0IGRybV9pOTE1
X3ByaXZhdGUgKmRldl9wcml2KQ0KPiArc3RhdGljIGludCBpOTE1X2dlbV9pbml0X3N0b2xlbihz
dHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYpDQo+ICB7DQo+ICAJcmVzb3VyY2Vfc2l6
ZV90IHJlc2VydmVkX2Jhc2UsIHN0b2xlbl90b3A7DQo+ICAJcmVzb3VyY2Vfc2l6ZV90IHJlc2Vy
dmVkX3RvdGFsLCByZXNlcnZlZF9zaXplOyBAQCAtNTM5LDYgKzU0MCw5DQo+IEBAIGk5MTVfZ2Vt
X29iamVjdF9yZWxlYXNlX3N0b2xlbihzdHJ1Y3QgZHJtX2k5MTVfZ2VtX29iamVjdCAqb2JqKQ0K
PiANCj4gIAlpOTE1X2dlbV9zdG9sZW5fcmVtb3ZlX25vZGUoZGV2X3ByaXYsIHN0b2xlbik7DQo+
ICAJa2ZyZWUoc3RvbGVuKTsNCj4gKw0KPiArCWlmIChvYmotPm1tLnJlZ2lvbikNCj4gKwkJaTkx
NV9nZW1fb2JqZWN0X3JlbGVhc2VfbWVtb3J5X3JlZ2lvbihvYmopOw0KDQpXZSBmdWxseSBzdXBw
b3J0IG1lbW9yeSByZWdpb24gY29uY2VwdCBmb3IgYm90aCBiaW9zIHN0b2xlbiBzeXN0ZW0gbWVt
b3J5IGFuZCBsb2NhbCBzdG9sZW4gbWVtb3J5LCB3ZSBkb24ndCBuZWVkIHN1Y2gga2luZCBvZiBj
aGVja2luZy4NClRoaXMgbG9va3MgdG8gdXBzdHJlYW0gY29kZSBiZWZvcmUgbGF0ZXN0IERHMSBj
b2RlLiBJIGFtIG5vdCBzdXJlIGlmIHdlIHdhbnQgdG8gdXBzdHJlYW0gdGhpcyBpbnRlcm1lZGlh
dGUgY29kZS4NCg0KLS1DUQ0KDQoNCj4gIH0NCj4gDQo+ICBzdGF0aWMgY29uc3Qgc3RydWN0IGRy
bV9pOTE1X2dlbV9vYmplY3Rfb3BzIGk5MTVfZ2VtX29iamVjdF9zdG9sZW5fb3BzDQo+ID0geyBA
QCAtNTQ4LDggKzU1Miw5IEBAIHN0YXRpYyBjb25zdCBzdHJ1Y3QgZHJtX2k5MTVfZ2VtX29iamVj
dF9vcHMNCj4gaTkxNV9nZW1fb2JqZWN0X3N0b2xlbl9vcHMgPSB7ICB9Ow0KPiANCj4gIHN0YXRp
YyBzdHJ1Y3QgZHJtX2k5MTVfZ2VtX29iamVjdCAqDQo+IC1faTkxNV9nZW1fb2JqZWN0X2NyZWF0
ZV9zdG9sZW4oc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2LA0KPiAtCQkJICAgICAg
IHN0cnVjdCBkcm1fbW1fbm9kZSAqc3RvbGVuKQ0KPiArX19pOTE1X2dlbV9vYmplY3RfY3JlYXRl
X3N0b2xlbihzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYsDQo+ICsJCQkJc3RydWN0
IGRybV9tbV9ub2RlICpzdG9sZW4sDQo+ICsJCQkJc3RydWN0IGludGVsX21lbW9yeV9yZWdpb24g
Km1lbSkNCj4gIHsNCj4gIAlzdHJ1Y3QgZHJtX2k5MTVfZ2VtX29iamVjdCAqb2JqOw0KPiAgCXVu
c2lnbmVkIGludCBjYWNoZV9sZXZlbDsNCj4gQEAgLTU2Niw2ICs1NzEsOSBAQCBfaTkxNV9nZW1f
b2JqZWN0X2NyZWF0ZV9zdG9sZW4oc3RydWN0DQo+IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2
LA0KPiAgCWNhY2hlX2xldmVsID0gSEFTX0xMQyhkZXZfcHJpdikgPyBJOTE1X0NBQ0hFX0xMQyA6
DQo+IEk5MTVfQ0FDSEVfTk9ORTsNCj4gIAlpOTE1X2dlbV9vYmplY3Rfc2V0X2NhY2hlX2NvaGVy
ZW5jeShvYmosIGNhY2hlX2xldmVsKTsNCj4gDQo+ICsJaWYgKG1lbSkNCj4gKwkJaTkxNV9nZW1f
b2JqZWN0X2luaXRfbWVtb3J5X3JlZ2lvbihvYmosIG1lbSwgMCk7DQo+ICsNCj4gIAlpZiAoaTkx
NV9nZW1fb2JqZWN0X3Bpbl9wYWdlcyhvYmopKQ0KPiAgCQlnb3RvIGNsZWFudXA7DQo+IA0KPiBA
QCAtNTc2LDEwICs1ODQsMTIgQEAgX2k5MTVfZ2VtX29iamVjdF9jcmVhdGVfc3RvbGVuKHN0cnVj
dA0KPiBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiwNCj4gIAlyZXR1cm4gTlVMTDsNCj4gIH0N
Cj4gDQo+IC1zdHJ1Y3QgZHJtX2k5MTVfZ2VtX29iamVjdCAqDQo+IC1pOTE1X2dlbV9vYmplY3Rf
Y3JlYXRlX3N0b2xlbihzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYsDQo+IC0JCQkg
ICAgICByZXNvdXJjZV9zaXplX3Qgc2l6ZSkNCj4gK3N0YXRpYyBzdHJ1Y3QgZHJtX2k5MTVfZ2Vt
X29iamVjdCAqDQo+ICtfaTkxNV9nZW1fb2JqZWN0X2NyZWF0ZV9zdG9sZW4oc3RydWN0IGludGVs
X21lbW9yeV9yZWdpb24gKm1lbSwNCj4gKwkJCSAgICAgICByZXNvdXJjZV9zaXplX3Qgc2l6ZSwN
Cj4gKwkJCSAgICAgICB1bnNpZ25lZCBpbnQgZmxhZ3MpDQo+ICB7DQo+ICsJc3RydWN0IGRybV9p
OTE1X3ByaXZhdGUgKmRldl9wcml2ID0gbWVtLT5pOTE1Ow0KPiAgCXN0cnVjdCBkcm1faTkxNV9n
ZW1fb2JqZWN0ICpvYmo7DQo+ICAJc3RydWN0IGRybV9tbV9ub2RlICpzdG9sZW47DQo+ICAJaW50
IHJldDsNCj4gQEAgLTU5OCw3ICs2MDgsNyBAQCBpOTE1X2dlbV9vYmplY3RfY3JlYXRlX3N0b2xl
bihzdHJ1Y3QNCj4gZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYsDQo+ICAJaWYgKHJldCkNCj4g
IAkJZ290byBlcnJfZnJlZTsNCj4gDQo+IC0Jb2JqID0gX2k5MTVfZ2VtX29iamVjdF9jcmVhdGVf
c3RvbGVuKGRldl9wcml2LCBzdG9sZW4pOw0KPiArCW9iaiA9IF9faTkxNV9nZW1fb2JqZWN0X2Ny
ZWF0ZV9zdG9sZW4oZGV2X3ByaXYsIHN0b2xlbiwgbWVtKTsNCj4gIAlpZiAob2JqID09IE5VTEwp
IHsNCj4gIAkJcmV0ID0gLUVOT01FTTsNCj4gIAkJZ290byBlcnJfcmVtb3ZlOw0KPiBAQCAtNjEz
LDYgKzYyMyw0NCBAQCBpOTE1X2dlbV9vYmplY3RfY3JlYXRlX3N0b2xlbihzdHJ1Y3QNCj4gZHJt
X2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYsDQo+ICAJcmV0dXJuIEVSUl9QVFIocmV0KTsNCj4gIH0N
Cj4gDQo+ICtzdHJ1Y3QgZHJtX2k5MTVfZ2VtX29iamVjdCAqDQo+ICtpOTE1X2dlbV9vYmplY3Rf
Y3JlYXRlX3N0b2xlbihzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYsDQo+ICsJCQkg
ICAgICByZXNvdXJjZV9zaXplX3Qgc2l6ZSkNCj4gK3sNCj4gKw0KPiArCXJldHVybiBpOTE1X2dl
bV9vYmplY3RfY3JlYXRlX3JlZ2lvbihkZXZfcHJpdi0NCj4gPm1tLnJlZ2lvbnNbSU5URUxfTUVN
T1JZX1NUT0xFTl0sDQo+ICsJCQkJCSAgICAgc2l6ZSwNCj4gSTkxNV9CT19BTExPQ19DT05USUdV
T1VTKTsgfQ0KPiArDQo+ICtzdGF0aWMgaW50IGluaXRfc3RvbGVuKHN0cnVjdCBpbnRlbF9tZW1v
cnlfcmVnaW9uICptZW0pIHsNCj4gKwkvKg0KPiArCSAqIEluaXRpYWxpc2Ugc3RvbGVuIGVhcmx5
IHNvIHRoYXQgd2UgbWF5IHJlc2VydmUgcHJlYWxsb2NhdGVkDQo+ICsJICogb2JqZWN0cyBmb3Ig
dGhlIEJJT1MgdG8gS01TIHRyYW5zaXRpb24uDQo+ICsJICovDQo+ICsJcmV0dXJuIGk5MTVfZ2Vt
X2luaXRfc3RvbGVuKG1lbS0+aTkxNSk7IH0NCj4gKw0KPiArc3RhdGljIHZvaWQgcmVsZWFzZV9z
dG9sZW4oc3RydWN0IGludGVsX21lbW9yeV9yZWdpb24gKm1lbSkgew0KPiArCWk5MTVfZ2VtX2Ns
ZWFudXBfc3RvbGVuKG1lbS0+aTkxNSk7DQo+ICt9DQo+ICsNCj4gK3N0YXRpYyBjb25zdCBzdHJ1
Y3QgaW50ZWxfbWVtb3J5X3JlZ2lvbl9vcHMgaTkxNV9yZWdpb25fc3RvbGVuX29wcyA9IHsNCj4g
KwkuaW5pdCA9IGluaXRfc3RvbGVuLA0KPiArCS5yZWxlYXNlID0gcmVsZWFzZV9zdG9sZW4sDQo+
ICsJLmNyZWF0ZV9vYmplY3QgPSBfaTkxNV9nZW1fb2JqZWN0X2NyZWF0ZV9zdG9sZW4sIH07DQo+
ICsNCj4gK3N0cnVjdCBpbnRlbF9tZW1vcnlfcmVnaW9uICppOTE1X2dlbV9zdG9sZW5fc2V0dXAo
c3RydWN0DQo+ICtkcm1faTkxNV9wcml2YXRlICppOTE1KSB7DQo+ICsJcmV0dXJuIGludGVsX21l
bW9yeV9yZWdpb25fY3JlYXRlKGk5MTUsDQo+ICsJCQkJCSAgaW50ZWxfZ3JhcGhpY3Nfc3RvbGVu
X3Jlcy5zdGFydCwNCj4gKw0KPiByZXNvdXJjZV9zaXplKCZpbnRlbF9ncmFwaGljc19zdG9sZW5f
cmVzKSwNCj4gKwkJCQkJICBJOTE1X0dUVF9QQUdFX1NJWkVfNEssIDAsDQo+ICsJCQkJCSAgJmk5
MTVfcmVnaW9uX3N0b2xlbl9vcHMpOw0KPiArfQ0KPiArDQo+ICBzdHJ1Y3QgZHJtX2k5MTVfZ2Vt
X29iamVjdCAqDQo+ICBpOTE1X2dlbV9vYmplY3RfY3JlYXRlX3N0b2xlbl9mb3JfcHJlYWxsb2Nh
dGVkKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlDQo+ICpkZXZfcHJpdiwNCj4gIAkJCQkJICAgICAg
IHJlc291cmNlX3NpemVfdCBzdG9sZW5fb2Zmc2V0LA0KPiBAQCAtNjU0LDcgKzcwMiw3IEBADQo+
IGk5MTVfZ2VtX29iamVjdF9jcmVhdGVfc3RvbGVuX2Zvcl9wcmVhbGxvY2F0ZWQoc3RydWN0IGRy
bV9pOTE1X3ByaXZhdGUNCj4gKmRldl9wcml2DQo+ICAJCXJldHVybiBFUlJfUFRSKHJldCk7DQo+
ICAJfQ0KPiANCj4gLQlvYmogPSBfaTkxNV9nZW1fb2JqZWN0X2NyZWF0ZV9zdG9sZW4oZGV2X3By
aXYsIHN0b2xlbik7DQo+ICsJb2JqID0gX19pOTE1X2dlbV9vYmplY3RfY3JlYXRlX3N0b2xlbihk
ZXZfcHJpdiwgc3RvbGVuLCBOVUxMKTsNCj4gIAlpZiAob2JqID09IE5VTEwpIHsNCj4gIAkJRFJN
X0RFQlVHX0RSSVZFUigiZmFpbGVkIHRvIGFsbG9jYXRlIHN0b2xlbiBvYmplY3RcbiIpOw0KPiAg
CQlpOTE1X2dlbV9zdG9sZW5fcmVtb3ZlX25vZGUoZGV2X3ByaXYsIHN0b2xlbik7IGRpZmYgLS1n
aXQNCj4gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fc3RvbGVuLmgNCj4gYi9k
cml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fc3RvbGVuLmgNCj4gaW5kZXggMjI4OTY0
NGQ4NjA0Li5jMTA0MDYyN2ZiZjMgMTAwNjQ0DQo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1
L2dlbS9pOTE1X2dlbV9zdG9sZW4uaA0KPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0v
aTkxNV9nZW1fc3RvbGVuLmgNCj4gQEAgLTIxLDggKzIxLDcgQEAgaW50IGk5MTVfZ2VtX3N0b2xl
bl9pbnNlcnRfbm9kZV9pbl9yYW5nZShzdHJ1Y3QNCj4gZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3By
aXYsDQo+ICAJCQkJCSB1NjQgZW5kKTsNCj4gIHZvaWQgaTkxNV9nZW1fc3RvbGVuX3JlbW92ZV9u
b2RlKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiwNCj4gIAkJCQkgc3RydWN0IGRy
bV9tbV9ub2RlICpub2RlKTsNCj4gLWludCBpOTE1X2dlbV9pbml0X3N0b2xlbihzdHJ1Y3QgZHJt
X2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYpOyAtdm9pZA0KPiBpOTE1X2dlbV9jbGVhbnVwX3N0b2xl
bihzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYpOw0KPiArc3RydWN0IGludGVsX21l
bW9yeV9yZWdpb24gKmk5MTVfZ2VtX3N0b2xlbl9zZXR1cChzdHJ1Y3QNCj4gK2RybV9pOTE1X3By
aXZhdGUgKmk5MTUpOw0KPiAgc3RydWN0IGRybV9pOTE1X2dlbV9vYmplY3QgKg0KPiAgaTkxNV9n
ZW1fb2JqZWN0X2NyZWF0ZV9zdG9sZW4oc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2
LA0KPiAgCQkJICAgICAgcmVzb3VyY2Vfc2l6ZV90IHNpemUpOw0KPiBkaWZmIC0tZ2l0IGEvZHJp
dmVycy9ncHUvZHJtL2k5MTUvaTkxNV9nZW1fZ3R0LmMNCj4gYi9kcml2ZXJzL2dwdS9kcm0vaTkx
NS9pOTE1X2dlbV9ndHQuYw0KPiBpbmRleCBkMDVhZmY3Njc3YzIuLjIwOTY4NmMyM2QyMSAxMDA2
NDQNCj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9nZW1fZ3R0LmMNCj4gKysrIGIv
ZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9nZW1fZ3R0LmMNCj4gQEAgLTI3NDgsOCArMjc0OCw2
IEBAIHZvaWQgaTkxNV9nZW1fY2xlYW51cF9tZW1vcnlfcmVnaW9ucyhzdHJ1Y3QNCj4gZHJtX2k5
MTVfcHJpdmF0ZSAqaTkxNSkgIHsNCj4gIAlpbnQgaTsNCj4gDQo+IC0JaTkxNV9nZW1fY2xlYW51
cF9zdG9sZW4oaTkxNSk7DQo+IC0NCj4gIAlmb3IgKGkgPSAwOyBpIDwgQVJSQVlfU0laRShpOTE1
LT5tbS5yZWdpb25zKTsgaSsrKSB7DQo+ICAJCXN0cnVjdCBpbnRlbF9tZW1vcnlfcmVnaW9uICpy
ZWdpb24gPSBpOTE1LT5tbS5yZWdpb25zW2ldOw0KPiANCj4gQEAgLTI3NjIsMTUgKzI3NjAsNiBA
QCBpbnQgaTkxNV9nZW1faW5pdF9tZW1vcnlfcmVnaW9ucyhzdHJ1Y3QNCj4gZHJtX2k5MTVfcHJp
dmF0ZSAqaTkxNSkgIHsNCj4gIAlpbnQgZXJyLCBpOw0KPiANCj4gLQkvKg0KPiAtCSAqIEluaXRp
YWxpc2Ugc3RvbGVuIGVhcmx5IHNvIHRoYXQgd2UgbWF5IHJlc2VydmUgcHJlYWxsb2NhdGVkDQo+
IC0JICogb2JqZWN0cyBmb3IgdGhlIEJJT1MgdG8gS01TIHRyYW5zaXRpb24uDQo+IC0JICovDQo+
IC0JLyogWFhYOiBzdG9sZW4gd2lsbCBiZWNvbWUgYSByZWdpb24gYXQgc29tZSBwb2ludCAqLw0K
PiAtCWVyciA9IGk5MTVfZ2VtX2luaXRfc3RvbGVuKGk5MTUpOw0KPiAtCWlmIChlcnIpDQo+IC0J
CXJldHVybiBlcnI7DQo+IC0NCj4gIAlmb3IgKGkgPSAwOyBpIDwgQVJSQVlfU0laRShpOTE1LT5t
bS5yZWdpb25zKTsgaSsrKSB7DQo+ICAJCXN0cnVjdCBpbnRlbF9tZW1vcnlfcmVnaW9uICptZW0g
PSBOVUxMOw0KPiAgCQl1MzIgdHlwZTsNCj4gQEAgLTI3ODMsNiArMjc3Miw5IEBAIGludCBpOTE1
X2dlbV9pbml0X21lbW9yeV9yZWdpb25zKHN0cnVjdA0KPiBkcm1faTkxNV9wcml2YXRlICppOTE1
KQ0KPiAgCQljYXNlIElOVEVMX1NNRU06DQo+ICAJCQltZW0gPSBpOTE1X2dlbV9zaG1lbV9zZXR1
cChpOTE1KTsNCj4gIAkJCWJyZWFrOw0KPiArCQljYXNlIElOVEVMX1NUT0xFTjoNCj4gKwkJCW1l
bSA9IGk5MTVfZ2VtX3N0b2xlbl9zZXR1cChpOTE1KTsNCj4gKwkJCWJyZWFrOw0KPiAgCQl9DQo+
IA0KPiAgCQlpZiAoSVNfRVJSKG1lbSkpIHsNCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2k5MTVfcGNpLmMNCj4gYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3BjaS5jIGlu
ZGV4IGU1NWFiMjcyNDk5Ni4uZjlhM2JmZTY4Njg5DQo+IDEwMDY0NA0KPiAtLS0gYS9kcml2ZXJz
L2dwdS9kcm0vaTkxNS9pOTE1X3BjaS5jDQo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5
MTVfcGNpLmMNCj4gQEAgLTE1Miw3ICsxNTIsNyBAQA0KPiAgCS5wYWdlX3NpemVzID0gSTkxNV9H
VFRfUEFHRV9TSVpFXzRLDQo+IA0KPiAgI2RlZmluZSBHRU5fREVGQVVMVF9SRUdJT05TIFwNCj4g
LQkubWVtb3J5X3JlZ2lvbnMgPSBSRUdJT05fU01FTQ0KPiArCS5tZW1vcnlfcmVnaW9ucyA9IFJF
R0lPTl9TTUVNIHwgUkVHSU9OX1NUT0xFTg0KPiANCj4gICNkZWZpbmUgSTgzMF9GRUFUVVJFUyBc
DQo+ICAJR0VOKDIpLCBcDQo+IC0tDQo+IDIuMjAuMQ0KPiANCj4gX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX18NCj4gSW50ZWwtZ2Z4IG1haWxpbmcgbGlzdA0K
PiBJbnRlbC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnDQo+IGh0dHBzOi8vbGlzdHMuZnJlZWRl
c2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vaW50ZWwtZ2Z4DQpfX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fXwpJbnRlbC1nZnggbWFpbGluZyBsaXN0CkludGVs
LWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcv
bWFpbG1hbi9saXN0aW5mby9pbnRlbC1nZng=

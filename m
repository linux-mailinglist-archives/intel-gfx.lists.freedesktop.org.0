Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 3D4618FD20
	for <lists+intel-gfx@lfdr.de>; Fri, 16 Aug 2019 10:07:24 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 098836EB2C;
	Fri, 16 Aug 2019 08:07:19 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga02.intel.com (mga02.intel.com [134.134.136.20])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 47C526EB2A
 for <intel-gfx@lists.freedesktop.org>; Fri, 16 Aug 2019 08:07:18 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from fmsmga003.fm.intel.com ([10.253.24.29])
 by orsmga101.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 16 Aug 2019 01:06:17 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.64,391,1559545200"; d="scan'208";a="184851645"
Received: from miyoungj-mobl1.amr.corp.intel.com (HELO
 ldmartin-desk1.intel.com) ([10.254.105.68])
 by FMSMGA003.fm.intel.com with ESMTP; 16 Aug 2019 01:06:15 -0700
From: Lucas De Marchi <lucas.demarchi@intel.com>
To: intel-gfx@lists.freedesktop.org
Date: Fri, 16 Aug 2019 01:04:58 -0700
Message-Id: <20190816080503.28594-35-lucas.demarchi@intel.com>
X-Mailer: git-send-email 2.21.0
In-Reply-To: <20190816080503.28594-1-lucas.demarchi@intel.com>
References: <20190816080503.28594-1-lucas.demarchi@intel.com>
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH 34/39] drm/i915/tgl: Add perf support on TGL
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

RnJvbTogTGlvbmVsIExhbmR3ZXJsaW4gPGxpb25lbC5nLmxhbmR3ZXJsaW5AaW50ZWwuY29tPgoK
VGhlIGRlc2lnbiBvZiB0aGUgT0EgdW5pdCBoYXMgYmVlbiBzcGxpdCBpbnRvIHNldmVyYWwgdW5p
dHMuIFdlIG5vdwpoYXZlIGEgZ2xvYmFsIHVuaXQgKE9BRykgYW5kIGEgcmVuZGVyIHNwZWNpZmlj
IHVuaXQgKE9BUikuIFRoaXMgbGVhZHMKdG8gc29tZSBjaGFuZ2VzIG9uIGhvdyB3ZSBwcm9ncmFt
IHRoaW5ncy4gU29tZSBkZXRhaWxzIDoKCk9BUjoKICAtIGhhcyBpdHMgb3duIHNldCBvZiBjb3Vu
dGVyIHJlZ2lzdGVycywgdGhleSBhcmUgcGVyLWNvbnRleHQKICAgIHNhdmVkL3Jlc3RvcmVkCiAg
LSBjb3VudGVycyBhcmUgbm90IHdyaXR0ZW4gdG8gdGhlIGNpcmN1bGFyIE9BIGJ1ZmZlcgogIC0g
YSBzbmFwc2hvdCBvZiB0aGUgY291bnRlcnMgY2FuIGJlIGFjcXVpcmVkIHdpdGgKICAgIE1JX1JF
Q09SRF9QRVJGX0NPVU5ULCBvciBhIHNpbmdsZSBjb3VudGVyIGNhbiBiZSByZWFkIHdpdGgKICAg
IE1JX1NUT1JFX1JFR0lTVEVSX01FTS4KCk9BRzoKICAtIGhhcyBnbG9iYWwgY291bnRlcnMgdGhh
dCBpbmNyZW1lbnQgYWNyb3NzIGNvbnRleHQgc3dpdGNoZXMKICAtIGNvdW50ZXJzIGFyZSB3cml0
dGVuIGludG8gdGhlIGNpcmN1bGFyIE9BIGJ1ZmZlciAoaWYgcmVxdWVzdGVkKQoKQlNwZWM6IDI4
NzI3LCAzMDAyMQoKU2lnbmVkLW9mZi1ieTogTGlvbmVsIExhbmR3ZXJsaW4gPGxpb25lbC5nLmxh
bmR3ZXJsaW5AaW50ZWwuY29tPgpTaWduZWQtb2ZmLWJ5OiBMdWNhcyBEZSBNYXJjaGkgPGx1Y2Fz
LmRlbWFyY2hpQGludGVsLmNvbT4KLS0tCiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9NYWtlZmlsZSAg
ICAgICAgIHwgICAzICstCiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3BlcmYuYyAgICAgIHwg
MjM2ICsrKysrKysrKysrKysrKysrKysrKysrKy0tCiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1
X3JlZy5oICAgICAgIHwgMTAzICsrKysrKysrKysrCiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9vYS9p
OTE1X29hX3RnbC5jIHwgMTEzICsrKysrKysrKysrKwogZHJpdmVycy9ncHUvZHJtL2k5MTUvb2Ev
aTkxNV9vYV90Z2wuaCB8ICAxNyArKwogNSBmaWxlcyBjaGFuZ2VkLCA0NTggaW5zZXJ0aW9ucygr
KSwgMTQgZGVsZXRpb25zKC0pCiBjcmVhdGUgbW9kZSAxMDA2NDQgZHJpdmVycy9ncHUvZHJtL2k5
MTUvb2EvaTkxNV9vYV90Z2wuYwogY3JlYXRlIG1vZGUgMTAwNjQ0IGRyaXZlcnMvZ3B1L2RybS9p
OTE1L29hL2k5MTVfb2FfdGdsLmgKCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9N
YWtlZmlsZSBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L01ha2VmaWxlCmluZGV4IDQ1YWRkODEyMDQ4
Yi4uNmQ5MDQwY2RmNDMxIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9NYWtlZmls
ZQorKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9NYWtlZmlsZQpAQCAtMjM0LDcgKzIzNCw4IEBA
IGk5MTUteSArPSBcCiAJb2EvaTkxNV9vYV9jZmxndDIubyBcCiAJb2EvaTkxNV9vYV9jZmxndDMu
byBcCiAJb2EvaTkxNV9vYV9jbmwubyBcCi0Jb2EvaTkxNV9vYV9pY2wubworCW9hL2k5MTVfb2Ff
aWNsLm8gXAorCW9hL2k5MTVfb2FfdGdsLm8KIGk5MTUteSArPSBpOTE1X3BlcmYubwogCiAjIFBv
c3QtbW9ydGVtIGRlYnVnIGFuZCBHUFUgaGFuZyBzdGF0ZSBjYXB0dXJlCmRpZmYgLS1naXQgYS9k
cml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3BlcmYuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5
MTVfcGVyZi5jCmluZGV4IDkzODZkOWM4MjkzMC4uMjUwMDYxY2RhZDVjIDEwMDY0NAotLS0gYS9k
cml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3BlcmYuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkx
NS9pOTE1X3BlcmYuYwpAQCAtMjE1LDYgKzIxNSw3IEBACiAjaW5jbHVkZSAib2EvaTkxNV9vYV9j
ZmxndDMuaCIKICNpbmNsdWRlICJvYS9pOTE1X29hX2NubC5oIgogI2luY2x1ZGUgIm9hL2k5MTVf
b2FfaWNsLmgiCisjaW5jbHVkZSAib2EvaTkxNV9vYV90Z2wuaCIKIAogI2RlZmluZSBPQV9UQUtF
Tih0YWlsLCBoZWFkKQkoKCh0YWlsKSAtIChoZWFkKSkgJiAoc3RyZWFtLT5vYV9idWZmZXIudm1h
LT5zaXplIC0gMSkpCiAKQEAgLTE0OTYsNiArMTQ5Nyw3MyBAQCBzdGF0aWMgdm9pZCBnZW44X2lu
aXRfb2FfYnVmZmVyKHN0cnVjdCBpOTE1X3BlcmZfc3RyZWFtICpzdHJlYW0pCiAJc3RyZWFtLT5w
b2xsaW4gPSBmYWxzZTsKIH0KIAorc3RhdGljIHZvaWQgZ2VuMTJfaW5pdF9vYV9idWZmZXIoc3Ry
dWN0IGk5MTVfcGVyZl9zdHJlYW0gKnN0cmVhbSkKK3sKKwlzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0
ZSAqZGV2X3ByaXYgPSBzdHJlYW0tPmRldl9wcml2OworCXUzMiBndHRfb2Zmc2V0ID0gaTkxNV9n
Z3R0X29mZnNldChzdHJlYW0tPm9hX2J1ZmZlci52bWEpOworCXVuc2lnbmVkIGxvbmcgZmxhZ3M7
CisKKwlzcGluX2xvY2tfaXJxc2F2ZSgmc3RyZWFtLT5vYV9idWZmZXIucHRyX2xvY2ssIGZsYWdz
KTsKKworCUk5MTVfV1JJVEUoR0VOMTJfT0FHX09BU1RBVFVTLCAwKTsKKwlJOTE1X1dSSVRFKEdF
TjEyX09BR19PQUhFQURQVFIsIGd0dF9vZmZzZXQgJiBHRU4xMl9PQUdfT0FIRUFEUFRSX01BU0sp
OworCXN0cmVhbS0+b2FfYnVmZmVyLmhlYWQgPSBndHRfb2Zmc2V0OworCisJLyoKKwkgKiBQUk0g
c2F5czoKKwkgKgorCSAqICAiVGhpcyBNTUlPIG11c3QgYmUgc2V0IGJlZm9yZSB0aGUgT0FUQUlM
UFRSCisJICogIHJlZ2lzdGVyIGFuZCBhZnRlciB0aGUgT0FIRUFEUFRSIHJlZ2lzdGVyLiBUaGlz
IGlzCisJICogIHRvIGVuYWJsZSBwcm9wZXIgZnVuY3Rpb25hbGl0eSBvZiB0aGUgb3ZlcmZsb3cK
KwkgKiAgYml0LiIKKwkgKgorCSAqIE9uIGhhcmR3YXJlIHRoYXQgc3VwcG9ydHMgaXQsIE9BIGJ1
ZmZlciBzaXplIGdvZXMgdXAgdG8gMTI4TWIgYnkKKwkgKiB0b2dnbGluZyBhIGJpdCBpbiB0aGUg
T0FHX09BX0RFQlVHIHJlZ2lzdGVyIG1lYW5pbmcgbXVsdGlwbHkgYmFzZQorCSAqIHZhbHVlIGJ5
IDguIE9BIGJ1ZmZlciBzaXplIGlzIGFscmVhZHkgY2xhbXBlZCBiZXR3ZWVuIDEyOEsgYW5kIG1h
eAorCSAqIHN1cHBvcnRlZCBzaXplIHdoZW4gdmFsaWRhdGluZyBwcm9wZXJ0aWVzIHBhc3NlZCBi
eSB0aGUgdXNlciwgc28gbm8KKwkgKiBuZWVkIHRvIGNoZWNrIGZvciBzcGVjaWZpYyBoYXJkd2Fy
ZSBoZXJlLgorCSAqLworCUk5MTVfV1JJVEUoR0VOMTJfT0FHX09BQlVGRkVSLCBndHRfb2Zmc2V0
IHwKKwkJICAgKChzdHJlYW0tPm9hX2J1ZmZlci5zaXplX2V4cG9uZW50IC0gMTcpIDw8CisJCSAg
ICBHRU4xMl9PQUdfT0FCVUZGRVJfQlVGRkVSX1NJWkVfU0hJRlQpIHwKKwkJICAgR0VOOF9PQUJV
RkZFUl9NRU1fU0VMRUNUX0dHVFQpOworCUk5MTVfV1JJVEUoR0VOMTJfT0FHX09BVEFJTFBUUiwg
Z3R0X29mZnNldCAmIEdFTjEyX09BR19PQVRBSUxQVFJfTUFTSyk7CisKKwkvKiBNYXJrIHRoYXQg
d2UgbmVlZCB1cGRhdGVkIHRhaWwgcG9pbnRlcnMgdG8gcmVhZCBmcm9tLi4uICovCisJc3RyZWFt
LT5vYV9idWZmZXIudGFpbHNbMF0ub2Zmc2V0ID0gSU5WQUxJRF9UQUlMX1BUUjsKKwlzdHJlYW0t
Pm9hX2J1ZmZlci50YWlsc1sxXS5vZmZzZXQgPSBJTlZBTElEX1RBSUxfUFRSOworCisJLyoKKwkg
KiBSZXNldCBzdGF0ZSB1c2VkIHRvIHJlY29nbmlzZSBjb250ZXh0IHN3aXRjaGVzLCBhZmZlY3Rp
bmcgd2hpY2gKKwkgKiByZXBvcnRzIHdlIHdpbGwgZm9yd2FyZCB0byB1c2Vyc3BhY2Ugd2hpbGUg
ZmlsdGVyaW5nIGZvciBhIHNpbmdsZQorCSAqIGNvbnRleHQuCisJICovCisJc3RyZWFtLT5vYV9i
dWZmZXIubGFzdF9jdHhfaWQgPSBJTlZBTElEX0NUWF9JRDsKKworCXNwaW5fdW5sb2NrX2lycXJl
c3RvcmUoJnN0cmVhbS0+b2FfYnVmZmVyLnB0cl9sb2NrLCBmbGFncyk7CisKKwkvKgorCSAqIE5C
OiBhbHRob3VnaCB0aGUgT0EgYnVmZmVyIHdpbGwgaW5pdGlhbGx5IGJlIGFsbG9jYXRlZAorCSAq
IHplcm9lZCB2aWEgc2htZnMgKGFuZCBzbyB0aGlzIG1lbXNldCBpcyByZWR1bmRhbnQgd2hlbgor
CSAqIGZpcnN0IGFsbG9jYXRpbmcpLCB3ZSBtYXkgcmUtaW5pdCB0aGUgT0EgYnVmZmVyLCBlaXRo
ZXIKKwkgKiB3aGVuIHJlLWVuYWJsaW5nIGEgc3RyZWFtIG9yIGluIGVycm9yL3Jlc2V0IHBhdGhz
LgorCSAqCisJICogVGhlIHJlYXNvbiB3ZSBjbGVhciB0aGUgYnVmZmVyIGZvciBlYWNoIHJlLWlu
aXQgaXMgZm9yIHRoZQorCSAqIHNhbml0eSBjaGVjayBpbiBnZW44X2FwcGVuZF9vYV9yZXBvcnRz
KCkgdGhhdCBsb29rcyBhdCB0aGUKKwkgKiByZWFzb24gZmllbGQgdG8gbWFrZSBzdXJlIGl0J3Mg
bm9uLXplcm8gd2hpY2ggcmVsaWVzIG9uCisJICogdGhlIGFzc3VtcHRpb24gdGhhdCBuZXcgcmVw
b3J0cyBhcmUgYmVpbmcgd3JpdHRlbiB0byB6ZXJvZWQKKwkgKiBtZW1vcnkuLi4KKwkgKi8KKwlt
ZW1zZXQoc3RyZWFtLT5vYV9idWZmZXIudmFkZHIsIDAsCisJICAgICAgIHN0cmVhbS0+b2FfYnVm
ZmVyLnZtYS0+c2l6ZSk7CisKKwkvKgorCSAqIE1heWJlIG1ha2UgLT5wb2xsaW4gcGVyLXN0cmVh
bSBzdGF0ZSBpZiB3ZSBzdXBwb3J0IG11bHRpcGxlCisJICogY29uY3VycmVudCBzdHJlYW1zIGlu
IHRoZSBmdXR1cmUuCisJICovCisJc3RyZWFtLT5wb2xsaW4gPSBmYWxzZTsKK30KKwogc3RhdGlj
IGludCBhbGxvY19vYV9idWZmZXIoc3RydWN0IGk5MTVfcGVyZl9zdHJlYW0gKnN0cmVhbSwgaW50
IHNpemVfZXhwb25lbnQpCiB7CiAJc3RydWN0IGRybV9pOTE1X2dlbV9vYmplY3QgKmJvOwpAQCAt
MTY5MSwxMCArMTc1OSwyMSBAQCBnZW44X3VwZGF0ZV9yZWdfc3RhdGVfdW5sb2NrZWQoc3RydWN0
IGk5MTVfcGVyZl9zdHJlYW0gKnN0cmVhbSwKIAl9OwogCWludCBpOwogCi0JQ1RYX1JFRyhyZWdf
c3RhdGUsIGN0eF9vYWN0eGN0cmwsIEdFTjhfT0FDVFhDT05UUk9MLAotCQkoc3RyZWFtLT5wZXJp
b2RfZXhwb25lbnQgPDwgR0VOOF9PQV9USU1FUl9QRVJJT0RfU0hJRlQpIHwKLQkJKHN0cmVhbS0+
cGVyaW9kaWMgPyBHRU44X09BX1RJTUVSX0VOQUJMRSA6IDApIHwKLQkJR0VOOF9PQV9DT1VOVEVS
X1JFU1VNRSk7CisJaWYgKElTX0dFTihpOTE1LCAxMikpIHsKKwkJdTMyIGZvcm1hdCA9IHN0cmVh
bS0+b2FfYnVmZmVyLmZvcm1hdDsKKworCQlDVFhfUkVHKHJlZ19zdGF0ZSwgY3R4X29hY3R4Y3Ry
bCwgR0VOMTJfT0FSX09BQ09OVFJPTCwKKwkJCShmb3JtYXQgPDwgR0VOMTJfT0FSX09BQ09OVFJP
TF9DT1VOVEVSX0ZPUk1BVF9TSElGVCkgfAorCQkJKG9hX2NvbmZpZyA/IEdFTjEyX09BUl9PQUNP
TlRST0xfQ09VTlRFUl9FTkFCTEUgOiAwKSk7CisJfSBlbHNlIHsKKwkJdTMyIHBlcmlvZF9leHBv
bmVudCA9IHN0cmVhbS0+cGVyaW9kX2V4cG9uZW50OworCQlib29sIHBlcmlvZGljID0gc3RyZWFt
LT5wZXJpb2RpYzsKKworCQlDVFhfUkVHKHJlZ19zdGF0ZSwgY3R4X29hY3R4Y3RybCwgR0VOOF9P
QUNUWENPTlRST0wsCisJCQkocGVyaW9kX2V4cG9uZW50IDw8IEdFTjhfT0FfVElNRVJfUEVSSU9E
X1NISUZUKSB8CisJCQkocGVyaW9kaWMgPyBHRU44X09BX1RJTUVSX0VOQUJMRSA6IDApIHwKKwkJ
CUdFTjhfT0FfQ09VTlRFUl9SRVNVTUUpOworCX0KIAogCWZvciAoaSA9IDA7IGkgPCBBUlJBWV9T
SVpFKGZsZXhfcmVncyk7IGkrKykgewogCQlDVFhfUkVHKHJlZ19zdGF0ZSwgY3R4X2ZsZXhldTAg
KyBpICogMiwgZmxleF9yZWdzW2ldLApAQCAtMTg1NSw4ICsxOTM0LDggQEAgc3RhdGljIGludCBn
ZW44X2NvbmZpZ3VyZV9jb250ZXh0KHN0cnVjdCBpOTE1X2dlbV9jb250ZXh0ICpjdHgsCiAgKgog
ICogTm90ZTogaXQncyBvbmx5IHRoZSBSQ1MvUmVuZGVyIGNvbnRleHQgdGhhdCBoYXMgYW55IE9B
IHN0YXRlLgogICovCi1zdGF0aWMgaW50IGdlbjhfY29uZmlndXJlX2FsbF9jb250ZXh0cyhzdHJ1
Y3QgaTkxNV9wZXJmX3N0cmVhbSAqc3RyZWFtLAotCQkJCSAgICAgICBjb25zdCBzdHJ1Y3QgaTkx
NV9vYV9jb25maWcgKm9hX2NvbmZpZykKK3N0YXRpYyBpbnQgbHJjX2NvbmZpZ3VyZV9hbGxfY29u
dGV4dHMoc3RydWN0IGk5MTVfcGVyZl9zdHJlYW0gKnN0cmVhbSwKKwkJCQkgICAgICBjb25zdCBz
dHJ1Y3QgaTkxNV9vYV9jb25maWcgKm9hX2NvbmZpZykKIHsKIAlzdHJ1Y3QgZHJtX2k5MTVfcHJp
dmF0ZSAqaTkxNSA9IHN0cmVhbS0+ZGV2X3ByaXY7CiAJLyogVGhlIE1NSU8gb2Zmc2V0cyBmb3Ig
RmxleCBFVSByZWdpc3RlcnMgYXJlbid0IGNvbnRpZ3VvdXMgKi8KQEAgLTE5ODEsNyArMjA2MCw1
MCBAQCBzdGF0aWMgaW50IGdlbjhfZW5hYmxlX21ldHJpY19zZXQoc3RydWN0IGk5MTVfcGVyZl9z
dHJlYW0gKnN0cmVhbSkKIAkgKiB0byBtYWtlIHN1cmUgYWxsIHNsaWNlcy9zdWJzbGljZXMgYXJl
IE9OIGJlZm9yZSB3cml0aW5nIHRvIE5PQQogCSAqIHJlZ2lzdGVycy4KIAkgKi8KLQlyZXQgPSBn
ZW44X2NvbmZpZ3VyZV9hbGxfY29udGV4dHMoc3RyZWFtLCBvYV9jb25maWcpOworCXJldCA9IGxy
Y19jb25maWd1cmVfYWxsX2NvbnRleHRzKHN0cmVhbSwgb2FfY29uZmlnKTsKKwlpZiAocmV0KQor
CQlyZXR1cm4gcmV0OworCisJY29uZmlnX29hX3JlZ3MoZGV2X3ByaXYsIG9hX2NvbmZpZy0+bXV4
X3JlZ3MsIG9hX2NvbmZpZy0+bXV4X3JlZ3NfbGVuKTsKKworCWNvbmZpZ19vYV9yZWdzKGRldl9w
cml2LCBvYV9jb25maWctPmJfY291bnRlcl9yZWdzLAorCQkgICAgICAgb2FfY29uZmlnLT5iX2Nv
dW50ZXJfcmVnc19sZW4pOworCisJcmV0dXJuIDA7Cit9CisKK3N0YXRpYyBpbnQgZ2VuMTJfZW5h
YmxlX21ldHJpY19zZXQoc3RydWN0IGk5MTVfcGVyZl9zdHJlYW0gKnN0cmVhbSkKK3sKKwlzdHJ1
Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYgPSBzdHJlYW0tPmRldl9wcml2OworCXN0cnVj
dCBpOTE1X29hX2NvbmZpZyAqb2FfY29uZmlnID0gc3RyZWFtLT5vYV9jb25maWc7CisJYm9vbCBw
ZXJpb2RpYyA9IHN0cmVhbS0+cGVyaW9kaWM7CisJdTMyIHBlcmlvZF9leHBvbmVudCA9IHN0cmVh
bS0+cGVyaW9kX2V4cG9uZW50OworCWludCByZXQ7CisKKwlJOTE1X1dSSVRFKEdFTjEyX09BR19P
QV9ERUJVRywKKwkJICAgLyogRGlzYWJsZSBjbGsgcmF0aW8gcmVwb3J0cywgbGlrZSBwcmV2aW91
cyBHZW5zLiAqLworCQkgICBfTUFTS0VEX0JJVF9FTkFCTEUoR0VOMTJfT0FHX09BX0RFQlVHX0RJ
U0FCTEVfQ0xLX1JBVElPX1JFUE9SVFMgfAorCQkJCSAgICAgIEdFTjEyX09BR19PQV9ERUJVR19J
TkNMVURFX0NMS19SQVRJTykgfAorCQkgICAvKgorCQkgICAgKiBJZiB0aGUgdXNlciBkaWRuJ3Qg
cmVxdWlyZSBPQSByZXBvcnRzLCBpbnN0cnVjdCB0aGUKKwkJICAgICogaGFyZHdhcmUgbm90IHRv
IGVtaXQgY3R4IHN3aXRjaCByZXBvcnRzLgorCQkgICAgKi8KKwkJICAgKHN0cmVhbS0+c2FtcGxl
X2ZsYWdzICYgU0FNUExFX09BX1JFUE9SVCkgPworCQkgICBfTUFTS0VEX0JJVF9FTkFCTEUoR0VO
MTJfT0FHX09BX0RFQlVHX0RJU0FCTEVfQ1RYX1NXSVRDSF9SRVBPUlRTKSA6CisJCSAgIF9NQVNL
RURfQklUX0RJU0FCTEUoR0VOMTJfT0FHX09BX0RFQlVHX0RJU0FCTEVfQ1RYX1NXSVRDSF9SRVBP
UlRTKSk7CisKKwlJOTE1X1dSSVRFKEdFTjEyX09BR19PQUdMQkNUWENUUkwsCisJCSAgIHBlcmlv
ZGljID8KKwkJICAgKEdFTjEyX09BR19PQUdMQkNUWENUUkxfVElNRVJfRU5BQkxFIHwKKwkJICAg
IHBlcmlvZF9leHBvbmVudCA8PCBHRU4xMl9PQUdfT0FHTEJDVFhDVFJMX1RJTUVSX1BFUklPRF9T
SElGVCkKKwkJICAgOiAwKTsKKworCS8qCisJICogVXBkYXRlIGFsbCBjb250ZXh0cyBwcmlvciB3
cml0aW5nIHRoZSBtdXggY29uZmlndXJhdGlvbnMgYXMgd2UgbmVlZAorCSAqIHRvIG1ha2Ugc3Vy
ZSBhbGwgc2xpY2VzL3N1YnNsaWNlcyBhcmUgT04gYmVmb3JlIHdyaXRpbmcgdG8gTk9BCisJICog
cmVnaXN0ZXJzLgorCSAqLworCXJldCA9IGxyY19jb25maWd1cmVfYWxsX2NvbnRleHRzKHN0cmVh
bSwgb2FfY29uZmlnKTsKIAlpZiAocmV0KQogCQlyZXR1cm4gcmV0OwogCkBAIC0xOTk5LDcgKzIx
MjEsNyBAQCBzdGF0aWMgdm9pZCBnZW44X2Rpc2FibGVfbWV0cmljX3NldChzdHJ1Y3QgaTkxNV9w
ZXJmX3N0cmVhbSAqc3RyZWFtKQogCXN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiA9
IHN0cmVhbS0+ZGV2X3ByaXY7CiAKIAkvKiBSZXNldCBhbGwgY29udGV4dHMnIHNsaWNlcy9zdWJz
bGljZXMgY29uZmlndXJhdGlvbnMuICovCi0JZ2VuOF9jb25maWd1cmVfYWxsX2NvbnRleHRzKHN0
cmVhbSwgTlVMTCk7CisJbHJjX2NvbmZpZ3VyZV9hbGxfY29udGV4dHMoc3RyZWFtLCBOVUxMKTsK
IAogCUk5MTVfV1JJVEUoR0RUX0NISUNLRU5fQklUUywgKEk5MTVfUkVBRChHRFRfQ0hJQ0tFTl9C
SVRTKSAmCiAJCQkJICAgICAgfkdUX05PQV9FTkFCTEUpKTsKQEAgLTIwMTAsNyArMjEzMiwxOSBA
QCBzdGF0aWMgdm9pZCBnZW4xMF9kaXNhYmxlX21ldHJpY19zZXQoc3RydWN0IGk5MTVfcGVyZl9z
dHJlYW0gKnN0cmVhbSkKIAlzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYgPSBzdHJl
YW0tPmRldl9wcml2OwogCiAJLyogUmVzZXQgYWxsIGNvbnRleHRzJyBzbGljZXMvc3Vic2xpY2Vz
IGNvbmZpZ3VyYXRpb25zLiAqLwotCWdlbjhfY29uZmlndXJlX2FsbF9jb250ZXh0cyhzdHJlYW0s
IE5VTEwpOworCWxyY19jb25maWd1cmVfYWxsX2NvbnRleHRzKHN0cmVhbSwgTlVMTCk7CisKKwkv
KiBNYWtlIHN1cmUgd2UgZGlzYWJsZSBub2EgdG8gc2F2ZSBwb3dlci4gKi8KKwlJOTE1X1dSSVRF
KFJQTV9DT05GSUcxLAorCQkgICBJOTE1X1JFQUQoUlBNX0NPTkZJRzEpICYgfkdFTjEwX0dUX05P
QV9FTkFCTEUpOworfQorCitzdGF0aWMgdm9pZCBnZW4xMl9kaXNhYmxlX21ldHJpY19zZXQoc3Ry
dWN0IGk5MTVfcGVyZl9zdHJlYW0gKnN0cmVhbSkKK3sKKwlzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0
ZSAqZGV2X3ByaXYgPSBzdHJlYW0tPmRldl9wcml2OworCisJLyogUmVzZXQgYWxsIGNvbnRleHRz
JyBzbGljZXMvc3Vic2xpY2VzIGNvbmZpZ3VyYXRpb25zLiAqLworCWxyY19jb25maWd1cmVfYWxs
X2NvbnRleHRzKHN0cmVhbSwgTlVMTCk7CiAKIAkvKiBNYWtlIHN1cmUgd2UgZGlzYWJsZSBub2Eg
dG8gc2F2ZSBwb3dlci4gKi8KIAlJOTE1X1dSSVRFKFJQTV9DT05GSUcxLApAQCAtMjA3Myw2ICsy
MjA3LDI2IEBAIHN0YXRpYyB2b2lkIGdlbjhfb2FfZW5hYmxlKHN0cnVjdCBpOTE1X3BlcmZfc3Ry
ZWFtICpzdHJlYW0pCiAJCQkJICAgR0VOOF9PQV9DT1VOVEVSX0VOQUJMRSk7CiB9CiAKK3N0YXRp
YyB2b2lkIGdlbjEyX29hX2VuYWJsZShzdHJ1Y3QgaTkxNV9wZXJmX3N0cmVhbSAqc3RyZWFtKQor
eworCXN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiA9IHN0cmVhbS0+ZGV2X3ByaXY7
CisJdTMyIHJlcG9ydF9mb3JtYXQgPSBzdHJlYW0tPm9hX2J1ZmZlci5mb3JtYXQ7CisKKwkvKgor
CSAqIElmIHdlIGRvbid0IHdhbnQgT0EgcmVwb3J0cyBmcm9tIHRoZSBPQSBidWZmZXIsIHRoZW4g
d2UgZG9uJ3QgZXZlbgorCSAqIG5lZWQgdG8gcHJvZ3JhbSB0aGUgT0FHIHVuaXQuCisJICovCisJ
aWYgKCEoc3RyZWFtLT5zYW1wbGVfZmxhZ3MgJiBTQU1QTEVfT0FfUkVQT1JUKSkKKwkJcmV0dXJu
OworCisJZ2VuMTJfaW5pdF9vYV9idWZmZXIoc3RyZWFtKTsKKworCUk5MTVfV1JJVEUoR0VOMTJf
T0FHX09BQ09OVFJPTCwKKwkJICAgKHJlcG9ydF9mb3JtYXQgPDwKKwkJICAgIEdFTjEyX09BR19P
QUNPTlRST0xfT0FfQ09VTlRFUl9GT1JNQVRfU0hJRlQpIHwKKwkJICAgR0VOMTJfT0FHX09BQ09O
VFJPTF9PQV9DT1VOVEVSX0VOQUJMRSk7Cit9CisKIC8qKgogICogaTkxNV9vYV9zdHJlYW1fZW5h
YmxlIC0gaGFuZGxlIGBJOTE1X1BFUkZfSU9DVExfRU5BQkxFYCBmb3IgT0Egc3RyZWFtCiAgKiBA
c3RyZWFtOiBBbiBpOTE1IHBlcmYgc3RyZWFtIG9wZW5lZCBmb3IgT0EgbWV0cmljcwpAQCAtMjEx
Niw2ICsyMjcwLDEzIEBAIHN0YXRpYyB2b2lkIGdlbjhfb2FfZGlzYWJsZShzdHJ1Y3QgaTkxNV9w
ZXJmX3N0cmVhbSAqc3RyZWFtKQogCQlEUk1fRVJST1IoIndhaXQgZm9yIE9BIHRvIGJlIGRpc2Fi
bGVkIHRpbWVkIG91dFxuIik7CiB9CiAKK3N0YXRpYyB2b2lkIGdlbjEyX29hX2Rpc2FibGUoc3Ry
dWN0IGk5MTVfcGVyZl9zdHJlYW0gKnN0cmVhbSkKK3sKKwlzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0
ZSAqZGV2X3ByaXYgPSBzdHJlYW0tPmRldl9wcml2OworCisJSTkxNV9XUklURShHRU4xMl9PQUdf
T0FDT05UUk9MLCAwKTsKK30KKwogLyoqCiAgKiBpOTE1X29hX3N0cmVhbV9kaXNhYmxlIC0gaGFu
ZGxlIGBJOTE1X1BFUkZfSU9DVExfRElTQUJMRWAgZm9yIE9BIHN0cmVhbQogICogQHN0cmVhbTog
QW4gaTkxNSBwZXJmIHN0cmVhbSBvcGVuZWQgZm9yIE9BIG1ldHJpY3MKQEAgLTI3MzMsMTYgKzI4
OTQsMjQgQEAgaTkxNV9wZXJmX29wZW5faW9jdGxfbG9ja2VkKHN0cnVjdCBkcm1faTkxNV9wcml2
YXRlICpkZXZfcHJpdiwKIAkgKiByZXN0IG9mIHRoZSBzeXN0ZW0sIHdoaWNoIHdlIGNvbnNpZGVy
IGFjY2VwdGFibGUgZm9yIGEKIAkgKiBub24tcHJpdmlsZWdlZCBjbGllbnQuCiAJICoKLQkgKiBG
b3IgR2VuOCsgdGhlIE9BIHVuaXQgbm8gbG9uZ2VyIHN1cHBvcnRzIGNsb2NrIGdhdGluZyBvZmYg
Zm9yIGEKKwkgKiBGb3IgR2VuOC0+MTEgdGhlIE9BIHVuaXQgbm8gbG9uZ2VyIHN1cHBvcnRzIGNs
b2NrIGdhdGluZyBvZmYgZm9yIGEKIAkgKiBzcGVjaWZpYyBjb250ZXh0IGFuZCB0aGUga2VybmVs
IGNhbid0IHNlY3VyZWx5IHN0b3AgdGhlIGNvdW50ZXJzCiAJICogZnJvbSB1cGRhdGluZyBhcyBz
eXN0ZW0td2lkZSAvIGdsb2JhbCB2YWx1ZXMuIEV2ZW4gdGhvdWdoIHdlIGNhbgogCSAqIGZpbHRl
ciByZXBvcnRzIGJhc2VkIG9uIHRoZSBpbmNsdWRlZCBjb250ZXh0IElEIHdlIGNhbid0IGJsb2Nr
CiAJICogY2xpZW50cyBmcm9tIHNlZWluZyB0aGUgcmF3IC8gZ2xvYmFsIGNvdW50ZXIgdmFsdWVz
IHZpYQogCSAqIE1JX1JFUE9SVF9QRVJGX0NPVU5UIGNvbW1hbmRzIGFuZCBzbyBjb25zaWRlciBp
dCBhIHByaXZpbGVnZWQgb3AgdG8KIAkgKiBlbmFibGUgdGhlIE9BIHVuaXQgYnkgZGVmYXVsdC4K
KwkgKgorCSAqIEZvciBHZW4xMisgd2UgZ2FpbiBhIG5ldyBPQVIgdW5pdCB0aGF0IG9ubHkgbW9u
aXRvcnMgdGhlIFJDUyBvbiBhCisJICogcGVyIGNvbnRleHQgYmFzaXMuIFNvIHdlIGNhbiByZWxh
eCByZXF1aXJlbWVudHMgdGhlcmUgaWYgdGhlIHVzZXIKKwkgKiBkb2Vzbid0IHJlcXVlc3QgZ2xv
YmFsIHN0cmVhbSBhY2Nlc3MgKGkuZS4gcXVlcnkgYmFzZWQgc2FtcGxpbmcKKwkgKiB1c2luZyBN
SV9SRUNPUkRfUEVSRl9DT1VOVC4KIAkgKi8KIAlpZiAoSVNfSEFTV0VMTChkZXZfcHJpdikgJiYg
c3BlY2lmaWNfY3R4KQogCQlwcml2aWxlZ2VkX29wID0gZmFsc2U7CisJZWxzZSBpZiAoSVNfR0VO
KGRldl9wcml2LCAxMikgJiYgc3BlY2lmaWNfY3R4ICYmCisJCSAocHJvcHMtPnNhbXBsZV9mbGFn
cyAmIFNBTVBMRV9PQV9SRVBPUlQpID09IDApCisJCXByaXZpbGVnZWRfb3AgPSBmYWxzZTsKIAog
CS8qIFNpbWlsYXIgdG8gcGVyZidzIGtlcm5lbC5wZXJmX3BhcmFub2lkX2NwdSBzeXNjdGwgb3B0
aW9uCiAJICogd2UgY2hlY2sgYSBkZXYuaTkxNS5wZXJmX3N0cmVhbV9wYXJhbm9pZCBzeXNjdGwg
b3B0aW9uCkBAIC0zMDgyLDcgKzMyNTEsOSBAQCB2b2lkIGk5MTVfcGVyZl9yZWdpc3RlcihzdHJ1
Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYpCiAKIAlzeXNmc19hdHRyX2luaXQoJmRldl9w
cml2LT5wZXJmLnRlc3RfY29uZmlnLnN5c2ZzX21ldHJpY19pZC5hdHRyKTsKIAotCWlmIChJTlRF
TF9HRU4oZGV2X3ByaXYpID49IDExKSB7CisJaWYgKElTX0dFTihkZXZfcHJpdiwgMTIpKSB7CisJ
CWk5MTVfcGVyZl9sb2FkX3Rlc3RfY29uZmlnX3RnbChkZXZfcHJpdik7CisJfSBlbHNlIGlmIChJ
TlRFTF9HRU4oZGV2X3ByaXYpID49IDExKSB7CiAJCWk5MTVfcGVyZl9sb2FkX3Rlc3RfY29uZmln
X2ljbChkZXZfcHJpdik7CiAJfSBlbHNlIGlmIChJU19DQU5OT05MQUtFKGRldl9wcml2KSkgewog
CQlpOTE1X3BlcmZfbG9hZF90ZXN0X2NvbmZpZ19jbmwoZGV2X3ByaXYpOwpAQCAtMzIyOCw2ICsz
Mzk5LDI2IEBAIHN0YXRpYyBib29sIGNodl9pc192YWxpZF9tdXhfYWRkcihzdHJ1Y3QgZHJtX2k5
MTVfcHJpdmF0ZSAqZGV2X3ByaXYsIHUzMiBhZGRyKQogCQkoYWRkciA+PSAweDE4MjMwMCAmJiBh
ZGRyIDw9IDB4MTgyM0E0KTsKIH0KIAorc3RhdGljIGJvb2wgZ2VuMTJfaXNfdmFsaWRfYl9jb3Vu
dGVyX2FkZHIoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2LAorCQkJCQkgIHUzMiBh
ZGRyKQoreworCXJldHVybiAoYWRkciA+PSBpOTE1X21taW9fcmVnX29mZnNldChHRU4xMl9PQUdf
Q0VDMF8wKSAmJgorCQlhZGRyIDw9IGk5MTVfbW1pb19yZWdfb2Zmc2V0KEdFTjEyX09BR19DRUM3
XzEpKSB8fAorCQkoYWRkciA+PSBpOTE1X21taW9fcmVnX29mZnNldChHRU4xMl9PQUdfU0NFQzBf
MCkgJiYKKwkJIGFkZHIgPD0gaTkxNV9tbWlvX3JlZ19vZmZzZXQoR0VOMTJfT0FHX1NDRUM3XzEp
KSB8fAorCQlhZGRyID09IGk5MTVfbW1pb19yZWdfb2Zmc2V0KEdFTjEyX09BQV9EQkdfUkVHKSB8
fAorCQlhZGRyID09IGk5MTVfbW1pb19yZWdfb2Zmc2V0KEdFTjEyX09BR19PQV9QRVNTKSB8fAor
CQlhZGRyID09IGk5MTVfbW1pb19yZWdfb2Zmc2V0KEdFTjEyX09BR19TUENUUl9DTkYpOworfQor
CitzdGF0aWMgYm9vbCBnZW4xMl9pc192YWxpZF9tdXhfYWRkcihzdHJ1Y3QgZHJtX2k5MTVfcHJp
dmF0ZSAqZGV2X3ByaXYsCisJCQkJICAgIHUzMiBhZGRyKQoreworCXJldHVybiBhZGRyID09IGk5
MTVfbW1pb19yZWdfb2Zmc2V0KE5PQV9XUklURSkgfHwKKwkJKGFkZHIgPj0gaTkxNV9tbWlvX3Jl
Z19vZmZzZXQoTk9BX0NPTkZJRygwKSkgJiYKKwkJIGFkZHIgPD0gaTkxNV9tbWlvX3JlZ19vZmZz
ZXQoTk9BX0NPTkZJRyg4KSkpOworfQorCiBzdGF0aWMgdTMyIG1hc2tfcmVnX3ZhbHVlKHUzMiBy
ZWcsIHUzMiB2YWwpCiB7CiAJLyogSEFMRl9TTElDRV9DSElDS0VOMiBpcyBwcm9ncmFtbWVkIHdp
dGggYSB0aGUKQEAgLTM2MTcsOCArMzgwOCw2IEBAIHZvaWQgaTkxNV9wZXJmX2luaXQoc3RydWN0
IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2KQogCQkgKi8KIAkJZGV2X3ByaXYtPnBlcmYub2Ff
Zm9ybWF0cyA9IGdlbjhfcGx1c19vYV9mb3JtYXRzOwogCi0JCWRldl9wcml2LT5wZXJmLm9wcy5v
YV9lbmFibGUgPSBnZW44X29hX2VuYWJsZTsKLQkJZGV2X3ByaXYtPnBlcmYub3BzLm9hX2Rpc2Fi
bGUgPSBnZW44X29hX2Rpc2FibGU7CiAJCWRldl9wcml2LT5wZXJmLm9wcy5yZWFkID0gZ2VuOF9v
YV9yZWFkOwogCQlkZXZfcHJpdi0+cGVyZi5vcHMub2FfaHdfdGFpbF9yZWFkID0gZ2VuOF9vYV9o
d190YWlsX3JlYWQ7CiAKQEAgLTM2MzUsNiArMzgyNCw4IEBAIHZvaWQgaTkxNV9wZXJmX2luaXQo
c3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2KQogCQkJCQljaHZfaXNfdmFsaWRfbXV4
X2FkZHI7CiAJCQl9CiAKKwkJCWRldl9wcml2LT5wZXJmLm9wcy5vYV9lbmFibGUgPSBnZW44X29h
X2VuYWJsZTsKKwkJCWRldl9wcml2LT5wZXJmLm9wcy5vYV9kaXNhYmxlID0gZ2VuOF9vYV9kaXNh
YmxlOwogCQkJZGV2X3ByaXYtPnBlcmYub3BzLmVuYWJsZV9tZXRyaWNfc2V0ID0gZ2VuOF9lbmFi
bGVfbWV0cmljX3NldDsKIAkJCWRldl9wcml2LT5wZXJmLm9wcy5kaXNhYmxlX21ldHJpY19zZXQg
PSBnZW44X2Rpc2FibGVfbWV0cmljX3NldDsKIApAQCAtMzY1Nyw2ICszODQ4LDggQEAgdm9pZCBp
OTE1X3BlcmZfaW5pdChzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYpCiAJCQlkZXZf
cHJpdi0+cGVyZi5vcHMuaXNfdmFsaWRfZmxleF9yZWcgPQogCQkJCWdlbjhfaXNfdmFsaWRfZmxl
eF9hZGRyOwogCisJCQlkZXZfcHJpdi0+cGVyZi5vcHMub2FfZW5hYmxlID0gZ2VuOF9vYV9lbmFi
bGU7CisJCQlkZXZfcHJpdi0+cGVyZi5vcHMub2FfZGlzYWJsZSA9IGdlbjhfb2FfZGlzYWJsZTsK
IAkJCWRldl9wcml2LT5wZXJmLm9wcy5lbmFibGVfbWV0cmljX3NldCA9IGdlbjhfZW5hYmxlX21l
dHJpY19zZXQ7CiAJCQlkZXZfcHJpdi0+cGVyZi5vcHMuZGlzYWJsZV9tZXRyaWNfc2V0ID0gZ2Vu
MTBfZGlzYWJsZV9tZXRyaWNfc2V0OwogCkBAIC0zNjY4LDYgKzM4NjEsMjMgQEAgdm9pZCBpOTE1
X3BlcmZfaW5pdChzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYpCiAJCQkJZGV2X3By
aXYtPnBlcmYuY3R4X2ZsZXhldTBfb2Zmc2V0ID0gMHg3OGU7CiAJCQl9CiAJCQlkZXZfcHJpdi0+
cGVyZi5nZW44X3ZhbGlkX2N0eF9iaXQgPSBCSVQoMTYpOworCQl9IGVsc2UgaWYgKElTX0dFTihk
ZXZfcHJpdiwgMTIpKSB7CisJCQlkZXZfcHJpdi0+cGVyZi5vcHMuaXNfdmFsaWRfYl9jb3VudGVy
X3JlZyA9CisJCQkJZ2VuMTJfaXNfdmFsaWRfYl9jb3VudGVyX2FkZHI7CisJCQlkZXZfcHJpdi0+
cGVyZi5vcHMuaXNfdmFsaWRfbXV4X3JlZyA9CisJCQkJZ2VuMTJfaXNfdmFsaWRfbXV4X2FkZHI7
CisJCQlkZXZfcHJpdi0+cGVyZi5vcHMuaXNfdmFsaWRfZmxleF9yZWcgPQorCQkJCWdlbjhfaXNf
dmFsaWRfZmxleF9hZGRyOworCisJCQlkZXZfcHJpdi0+cGVyZi5vcHMub2FfZW5hYmxlID0gZ2Vu
MTJfb2FfZW5hYmxlOworCQkJZGV2X3ByaXYtPnBlcmYub3BzLm9hX2Rpc2FibGUgPSBnZW4xMl9v
YV9kaXNhYmxlOworCQkJZGV2X3ByaXYtPnBlcmYub3BzLmVuYWJsZV9tZXRyaWNfc2V0ID0gZ2Vu
MTJfZW5hYmxlX21ldHJpY19zZXQ7CisJCQlkZXZfcHJpdi0+cGVyZi5vcHMuZGlzYWJsZV9tZXRy
aWNfc2V0ID0gZ2VuMTJfZGlzYWJsZV9tZXRyaWNfc2V0OworCisJCQlkZXZfcHJpdi0+cGVyZi5j
dHhfb2FjdHhjdHJsX29mZnNldCA9IDB4MTRhOyAvKiBUbyB2ZXJpZnkgKi8KKwkJCWRldl9wcml2
LT5wZXJmLmN0eF9mbGV4ZXUwX29mZnNldCA9IDB4M2RlOyAvKiBUbyB2ZXJpZnkqLworCisJCQlk
ZXZfcHJpdi0+cGVyZi5nZW44X3ZhbGlkX2N0eF9iaXQgPSAoMTw8MTYpOwogCQl9CiAJfQogCmRp
ZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3JlZy5oIGIvZHJpdmVycy9ncHUv
ZHJtL2k5MTUvaTkxNV9yZWcuaAppbmRleCBkMzVmMzg1ZjgyODguLmFlNDQ4NWI2MGI1MyAxMDA2
NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9yZWcuaAorKysgYi9kcml2ZXJzL2dw
dS9kcm0vaTkxNS9pOTE1X3JlZy5oCkBAIC02OTksNiArNjk5LDcgQEAgc3RhdGljIGlubGluZSBi
b29sIGk5MTVfbW1pb19yZWdfdmFsaWQoaTkxNV9yZWdfdCByZWcpCiAjZGVmaW5lIEdFTjhfT0FU
QUlMUFRSIF9NTUlPKDB4MkIxMCkKICNkZWZpbmUgR0VOOF9PQVRBSUxQVFJfTUFTSyAgICAweGZm
ZmZmZmMwCiAKKwogI2RlZmluZSBPQUJVRkZFUl9TSVpFXzEyOEsgICgwIDw8IDMpCiAjZGVmaW5l
IE9BQlVGRkVSX1NJWkVfMjU2SyAgKDEgPDwgMykKICNkZWZpbmUgT0FCVUZGRVJfU0laRV81MTJL
ICAoMiA8PCAzKQpAQCAtNzA4LDYgKzcwOSw0NCBAQCBzdGF0aWMgaW5saW5lIGJvb2wgaTkxNV9t
bWlvX3JlZ192YWxpZChpOTE1X3JlZ190IHJlZykKICNkZWZpbmUgT0FCVUZGRVJfU0laRV84TSAg
ICAoNiA8PCAzKQogI2RlZmluZSBPQUJVRkZFUl9TSVpFXzE2TSAgICg3IDw8IDMpCiAKKy8qIEdl
bjEyIE9BUiB1bml0ICovCisjZGVmaW5lIEdFTjEyX09BUl9PQUNPTlRST0wgX01NSU8oMHgyOTYw
KQorI2RlZmluZSAgR0VOMTJfT0FSX09BQ09OVFJPTF9DT1VOVEVSX0ZPUk1BVF9TSElGVCAyCisj
ZGVmaW5lICBHRU4xMl9PQVJfT0FDT05UUk9MX0NPVU5URVJfRU5BQkxFICAgICAgICgxIDw8IDAp
CisKKyNkZWZpbmUgR0VOMTJfT0FSX09BU1RBVFVTIF9NTUlPKDB4Mjk2OCkKKworLyogR2VuMTIg
T0FHIHVuaXQgKi8KKyNkZWZpbmUgR0VOMTJfT0FHX09BSEVBRFBUUiBfTU1JTygweGRiMDApCisj
ZGVmaW5lICBHRU4xMl9PQUdfT0FIRUFEUFRSX01BU0sgMHhmZmZmZmZjMAorI2RlZmluZSBHRU4x
Ml9PQUdfT0FUQUlMUFRSIF9NTUlPKDB4ZGIwNCkKKyNkZWZpbmUgIEdFTjEyX09BR19PQVRBSUxQ
VFJfTUFTSyAweGZmZmZmZmMwCisKKyNkZWZpbmUgR0VOMTJfT0FHX09BQlVGRkVSICBfTU1JTygw
eGRiMDgpCisjZGVmaW5lICBHRU4xMl9PQUdfT0FCVUZGRVJfQlVGRkVSX1NJWkVfTUFTSyAgKDB4
NykKKyNkZWZpbmUgIEdFTjEyX09BR19PQUJVRkZFUl9CVUZGRVJfU0laRV9TSElGVCAoMykKKyNk
ZWZpbmUgIEdFTjEyX09BR19PQUJVRkZFUl9NRU1PUllfU0VMRUNUICAgICAoMSA8PCAwKSAvKiAw
OiBQUEdUVCwgMTogR0dUVCAqLworCisjZGVmaW5lIEdFTjEyX09BR19PQUdMQkNUWENUUkwgX01N
SU8oMHgyYjI4KQorI2RlZmluZSAgR0VOMTJfT0FHX09BR0xCQ1RYQ1RSTF9USU1FUl9QRVJJT0Rf
U0hJRlQgMgorI2RlZmluZSAgR0VOMTJfT0FHX09BR0xCQ1RYQ1RSTF9USU1FUl9FTkFCTEUgICAg
ICAgKDEgPDwgMSkKKyNkZWZpbmUgIEdFTjEyX09BR19PQUdMQkNUWENUUkxfQ09VTlRFUl9SRVNV
TUUgICAgICgxIDw8IDApCisKKyNkZWZpbmUgR0VOMTJfT0FHX09BQ09OVFJPTCBfTU1JTygweGRh
ZjQpCisjZGVmaW5lICBHRU4xMl9PQUdfT0FDT05UUk9MX09BX0NPVU5URVJfRk9STUFUX1NISUZU
IDIKKyNkZWZpbmUgIEdFTjEyX09BR19PQUNPTlRST0xfT0FfQ09VTlRFUl9FTkFCTEUgICAgICAg
KDEgPDwgMCkKKworI2RlZmluZSBHRU4xMl9PQUdfT0FfREVCVUcgX01NSU8oMHhkYWY4KQorI2Rl
ZmluZSAgR0VOMTJfT0FHX09BX0RFQlVHX0lOQ0xVREVfQ0xLX1JBVElPICAgICAgICAgICgxIDw8
IDYpCisjZGVmaW5lICBHRU4xMl9PQUdfT0FfREVCVUdfRElTQUJMRV9DTEtfUkFUSU9fUkVQT1JU
UyAgKDEgPDwgNSkKKyNkZWZpbmUgIEdFTjEyX09BR19PQV9ERUJVR19ESVNBQkxFX0dPXzFfMF9S
RVBPUlRTICAgICAoMSA8PCAyKQorI2RlZmluZSAgR0VOMTJfT0FHX09BX0RFQlVHX0RJU0FCTEVf
Q1RYX1NXSVRDSF9SRVBPUlRTICgxIDw8IDEpCisKKyNkZWZpbmUgR0VOMTJfT0FHX09BU1RBVFVT
IF9NTUlPKDB4ZGFmYykKKyNkZWZpbmUgIEdFTjEyX09BR19PQVNUQVRVU19DT1VOVEVSX09WRVJG
TE9XICgxIDw8IDIpCisjZGVmaW5lICBHRU4xMl9PQUdfT0FTVEFUVVNfQlVGRkVSX09WRVJGTE9X
ICAoMSA8PCAxKQorI2RlZmluZSAgR0VOMTJfT0FHX09BU1RBVFVTX1JFUE9SVF9MT1NUICAgICAg
KDEgPDwgMCkKKwogLyoKICAqIEZsZXhpYmxlLCBBZ2dyZWdhdGUgRVUgQ291bnRlciBSZWdpc3Rl
cnMuCiAgKiBOb3RlOiB0aGVzZSBhcmVuJ3QgY29udGlndW91cwpAQCAtOTQ0LDYgKzk4MywyNiBA
QCBzdGF0aWMgaW5saW5lIGJvb2wgaTkxNV9tbWlvX3JlZ192YWxpZChpOTE1X3JlZ190IHJlZykK
ICNkZWZpbmUgT0FSRVBPUlRUUklHOF9OT0FfU0VMRUNUXzZfU0hJRlQgICAgMjQKICNkZWZpbmUg
T0FSRVBPUlRUUklHOF9OT0FfU0VMRUNUXzdfU0hJRlQgICAgMjgKIAorLyogU2FtZSBsYXlvdXQg
YXMgT0FTVEFSVFRSSUdYICovCisjZGVmaW5lIEdFTjEyX09BR19PQVNUQVJUVFJJRzEgX01NSU8o
MHhkOTAwKQorI2RlZmluZSBHRU4xMl9PQUdfT0FTVEFSVFRSSUcyIF9NTUlPKDB4ZDkwNCkKKyNk
ZWZpbmUgR0VOMTJfT0FHX09BU1RBUlRUUklHMyBfTU1JTygweGQ5MDgpCisjZGVmaW5lIEdFTjEy
X09BR19PQVNUQVJUVFJJRzQgX01NSU8oMHhkOTBjKQorI2RlZmluZSBHRU4xMl9PQUdfT0FTVEFS
VFRSSUc1IF9NTUlPKDB4ZDkxMCkKKyNkZWZpbmUgR0VOMTJfT0FHX09BU1RBUlRUUklHNiBfTU1J
TygweGQ5MTQpCisjZGVmaW5lIEdFTjEyX09BR19PQVNUQVJUVFJJRzcgX01NSU8oMHhkOTE4KQor
I2RlZmluZSBHRU4xMl9PQUdfT0FTVEFSVFRSSUc4IF9NTUlPKDB4ZDkxYykKKworLyogU2FtZSBs
YXlvdXQgYXMgT0FSRVBPUlRUUklHWCAqLworI2RlZmluZSBHRU4xMl9PQUdfT0FSRVBPUlRUUklH
MSBfTU1JTygweGQ5MjApCisjZGVmaW5lIEdFTjEyX09BR19PQVJFUE9SVFRSSUcyIF9NTUlPKDB4
ZDkyNCkKKyNkZWZpbmUgR0VOMTJfT0FHX09BUkVQT1JUVFJJRzMgX01NSU8oMHhkOTI4KQorI2Rl
ZmluZSBHRU4xMl9PQUdfT0FSRVBPUlRUUklHNCBfTU1JTygweGQ5MmMpCisjZGVmaW5lIEdFTjEy
X09BR19PQVJFUE9SVFRSSUc1IF9NTUlPKDB4ZDkzMCkKKyNkZWZpbmUgR0VOMTJfT0FHX09BUkVQ
T1JUVFJJRzYgX01NSU8oMHhkOTM0KQorI2RlZmluZSBHRU4xMl9PQUdfT0FSRVBPUlRUUklHNyBf
TU1JTygweGQ5MzgpCisjZGVmaW5lIEdFTjEyX09BR19PQVJFUE9SVFRSSUc4IF9NTUlPKDB4ZDkz
YykKKwogLyogQ0VDWF8wICovCiAjZGVmaW5lIE9BQ0VDX0NPTVBBUkVfTEVTU19PUl9FUVVBTAk2
CiAjZGVmaW5lIE9BQ0VDX0NPTVBBUkVfTk9UX0VRVUFMCQk1CkBAIC05NjAsNiArMTAxOSwxMCBA
QCBzdGF0aWMgaW5saW5lIGJvb2wgaTkxNV9tbWlvX3JlZ192YWxpZChpOTE1X3JlZ190IHJlZykK
ICNkZWZpbmUgT0FDRUNfU0VMRUNUX1BSRVYJKDEgPDwgMTkpCiAjZGVmaW5lIE9BQ0VDX1NFTEVD
VF9CT09MRUFOCSgyIDw8IDE5KQogCisvKiAxMS1iaXQgYXJyYXkgMDogcGFzcy10aHJvdWdoLCAx
OiBuZWdhdGVkICovCisjZGVmaW5lIEdFTjEyX09BU0NFQ19ORUdBVEVfTUFTSyAgMHg3ZmYKKyNk
ZWZpbmUgR0VOMTJfT0FTQ0VDX05FR0FURV9TSElGVCAyMQorCiAvKiBDRUNYXzEgKi8KICNkZWZp
bmUgT0FDRUNfTUFTS19NQVNLCQkgICAgMHhmZmZmCiAjZGVmaW5lIE9BQ0VDX0NPTlNJREVSQVRJ
T05TX01BU0sgICAweGZmZmYKQEAgLTk4Miw2ICsxMDQ1LDQyIEBAIHN0YXRpYyBpbmxpbmUgYm9v
bCBpOTE1X21taW9fcmVnX3ZhbGlkKGk5MTVfcmVnX3QgcmVnKQogI2RlZmluZSBPQUNFQzdfMCBf
TU1JTygweDI3YTgpCiAjZGVmaW5lIE9BQ0VDN18xIF9NTUlPKDB4MjdhYykKIAorLyogU2FtZSBs
YXlvdXQgYXMgQ0VDWF9ZICovCisjZGVmaW5lIEdFTjEyX09BR19DRUMwXzAgX01NSU8oMHhkOTQw
KQorI2RlZmluZSBHRU4xMl9PQUdfQ0VDMF8xIF9NTUlPKDB4ZDk0NCkKKyNkZWZpbmUgR0VOMTJf
T0FHX0NFQzFfMCBfTU1JTygweGQ5NDgpCisjZGVmaW5lIEdFTjEyX09BR19DRUMxXzEgX01NSU8o
MHhkOTRjKQorI2RlZmluZSBHRU4xMl9PQUdfQ0VDMl8wIF9NTUlPKDB4ZDk1MCkKKyNkZWZpbmUg
R0VOMTJfT0FHX0NFQzJfMSBfTU1JTygweGQ5NTQpCisjZGVmaW5lIEdFTjEyX09BR19DRUMzXzAg
X01NSU8oMHhkOTU4KQorI2RlZmluZSBHRU4xMl9PQUdfQ0VDM18xIF9NTUlPKDB4ZDk1YykKKyNk
ZWZpbmUgR0VOMTJfT0FHX0NFQzRfMCBfTU1JTygweGQ5NjApCisjZGVmaW5lIEdFTjEyX09BR19D
RUM0XzEgX01NSU8oMHhkOTY0KQorI2RlZmluZSBHRU4xMl9PQUdfQ0VDNV8wIF9NTUlPKDB4ZDk2
OCkKKyNkZWZpbmUgR0VOMTJfT0FHX0NFQzVfMSBfTU1JTygweGQ5NmMpCisjZGVmaW5lIEdFTjEy
X09BR19DRUM2XzAgX01NSU8oMHhkOTcwKQorI2RlZmluZSBHRU4xMl9PQUdfQ0VDNl8xIF9NTUlP
KDB4ZDk3NCkKKyNkZWZpbmUgR0VOMTJfT0FHX0NFQzdfMCBfTU1JTygweGQ5NzgpCisjZGVmaW5l
IEdFTjEyX09BR19DRUM3XzEgX01NSU8oMHhkOTdjKQorCisvKiBTYW1lIGxheW91dCBhcyBDRUNY
X1kgKyBuZWdhdGUgMTEtYml0IGFycmF5ICovCisjZGVmaW5lIEdFTjEyX09BR19TQ0VDMF8wIF9N
TUlPKDB4ZGMwMCkKKyNkZWZpbmUgR0VOMTJfT0FHX1NDRUMwXzEgX01NSU8oMHhkYzA0KQorI2Rl
ZmluZSBHRU4xMl9PQUdfU0NFQzFfMCBfTU1JTygweGRjMDgpCisjZGVmaW5lIEdFTjEyX09BR19T
Q0VDMV8xIF9NTUlPKDB4ZGMwYykKKyNkZWZpbmUgR0VOMTJfT0FHX1NDRUMyXzAgX01NSU8oMHhk
YzEwKQorI2RlZmluZSBHRU4xMl9PQUdfU0NFQzJfMSBfTU1JTygweGRjMTQpCisjZGVmaW5lIEdF
TjEyX09BR19TQ0VDM18wIF9NTUlPKDB4ZGMxOCkKKyNkZWZpbmUgR0VOMTJfT0FHX1NDRUMzXzEg
X01NSU8oMHhkYzFjKQorI2RlZmluZSBHRU4xMl9PQUdfU0NFQzRfMCBfTU1JTygweGRjMjApCisj
ZGVmaW5lIEdFTjEyX09BR19TQ0VDNF8xIF9NTUlPKDB4ZGMyNCkKKyNkZWZpbmUgR0VOMTJfT0FH
X1NDRUM1XzAgX01NSU8oMHhkYzI4KQorI2RlZmluZSBHRU4xMl9PQUdfU0NFQzVfMSBfTU1JTygw
eGRjMmMpCisjZGVmaW5lIEdFTjEyX09BR19TQ0VDNl8wIF9NTUlPKDB4ZGMzMCkKKyNkZWZpbmUg
R0VOMTJfT0FHX1NDRUM2XzEgX01NSU8oMHhkYzM0KQorI2RlZmluZSBHRU4xMl9PQUdfU0NFQzdf
MCBfTU1JTygweGRjMzgpCisjZGVmaW5lIEdFTjEyX09BR19TQ0VDN18xIF9NTUlPKDB4ZGMzYykK
KwogLyogT0EgcGVyZiBjb3VudGVycyAqLwogI2RlZmluZSBPQV9QRVJGQ05UMV9MTyAgICAgIF9N
TUlPKDB4OTFCOCkKICNkZWZpbmUgT0FfUEVSRkNOVDFfSEkgICAgICBfTU1JTygweDkxQkMpCkBA
IC0xMDYyLDYgKzExNjEsMTAgQEAgc3RhdGljIGlubGluZSBib29sIGk5MTVfbW1pb19yZWdfdmFs
aWQoaTkxNV9yZWdfdCByZWcpCiAjZGVmaW5lIE1JQ1JPX0JQM19DT1VOVF9TVEFUVVMyMwlfTU1J
TygweDk4MzgpCiAjZGVmaW5lIE1JQ1JPX0JQX0ZJUkVEX0FSTUVECQlfTU1JTygweDk4M0MpCiAK
KyNkZWZpbmUgR0VOMTJfT0FBX0RCR19SRUcgX01NSU8oMHhkYzQ0KQorI2RlZmluZSBHRU4xMl9P
QUdfT0FfUEVTUyBfTU1JTygweDJiMmMpCisjZGVmaW5lIEdFTjEyX09BR19TUENUUl9DTkYgX01N
SU8oMHhkYzQwKQorCiAjZGVmaW5lIEdEVF9DSElDS0VOX0JJVFMgICAgX01NSU8oMHg5ODQwKQog
I2RlZmluZSAgIEdUX05PQV9FTkFCTEUJICAgIDB4MDAwMDAwODAKIApkaWZmIC0tZ2l0IGEvZHJp
dmVycy9ncHUvZHJtL2k5MTUvb2EvaTkxNV9vYV90Z2wuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1
L29hL2k5MTVfb2FfdGdsLmMKbmV3IGZpbGUgbW9kZSAxMDA2NDQKaW5kZXggMDAwMDAwMDAwMDAw
Li5kODAzNDA3YTc5OWUKLS0tIC9kZXYvbnVsbAorKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9v
YS9pOTE1X29hX3RnbC5jCkBAIC0wLDAgKzEsMTEzIEBACisvKgorICogU1BEWC1MaWNlbnNlLUlk
ZW50aWZpZXI6IE1JVAorICoKKyAqIENvcHlyaWdodCDCqSAyMDE4IEludGVsIENvcnBvcmF0aW9u
CisgKgorICogQXV0b2dlbmVyYXRlZCBmaWxlIGJ5IEdQVSBUb3AgOiBodHRwczovL2dpdGh1Yi5j
b20vcmliL2dwdXRvcAorICogRE8gTk9UIEVESVQgbWFudWFsbHkhCisgKi8KKworI2luY2x1ZGUg
PGxpbnV4L3N5c2ZzLmg+CisKKyNpbmNsdWRlICJpOTE1X2Rydi5oIgorI2luY2x1ZGUgImk5MTVf
b2FfdGdsLmgiCisKK3N0YXRpYyBjb25zdCBzdHJ1Y3QgaTkxNV9vYV9yZWcgYl9jb3VudGVyX2Nv
bmZpZ190ZXN0X29hW10gPSB7CisJeyBfTU1JTygweGQ5MjApLCAweDAwMDAwMDAwIH0sCisJeyBf
TU1JTygweGQ5MDApLCAweDAwMDAwMDAwIH0sCisJeyBfTU1JTygweGQ5MDQpLCAweGYwODAwMDAw
IH0sCisJeyBfTU1JTygweGQ5MTApLCAweDAwMDAwMDAwIH0sCisJeyBfTU1JTygweGQ5MTQpLCAw
eGYwODAwMDAwIH0sCisJeyBfTU1JTygweGRjNDApLCAweDAwZmYwMDAwIH0sCisJeyBfTU1JTygw
eGQ5NDApLCAweDAwMDAwMDA0IH0sCisJeyBfTU1JTygweGQ5NDQpLCAweDAwMDBmZmZmIH0sCisJ
eyBfTU1JTygweGRjMDApLCAweDAwMDAwMDA0IH0sCisJeyBfTU1JTygweGRjMDQpLCAweDAwMDBm
ZmZmIH0sCisJeyBfTU1JTygweGQ5NDgpLCAweDAwMDAwMDAzIH0sCisJeyBfTU1JTygweGQ5NGMp
LCAweDAwMDBmZmZmIH0sCisJeyBfTU1JTygweGRjMDgpLCAweDAwMDAwMDAzIH0sCisJeyBfTU1J
TygweGRjMGMpLCAweDAwMDBmZmZmIH0sCisJeyBfTU1JTygweGQ5NTApLCAweDAwMDAwMDA3IH0s
CisJeyBfTU1JTygweGQ5NTQpLCAweDAwMDBmZmZmIH0sCisJeyBfTU1JTygweGRjMTApLCAweDAw
MDAwMDA3IH0sCisJeyBfTU1JTygweGRjMTQpLCAweDAwMDBmZmZmIH0sCisJeyBfTU1JTygweGQ5
NTgpLCAweDAwMTAwMDAyIH0sCisJeyBfTU1JTygweGQ5NWMpLCAweDAwMDBmZmY3IH0sCisJeyBf
TU1JTygweGRjMTgpLCAweDAwMTAwMDAyIH0sCisJeyBfTU1JTygweGRjMWMpLCAweDAwMDBmZmY3
IH0sCisJeyBfTU1JTygweGQ5NjApLCAweDAwMTAwMDAyIH0sCisJeyBfTU1JTygweGQ5NjQpLCAw
eDAwMDBmZmNmIH0sCisJeyBfTU1JTygweGRjMjApLCAweDAwMTAwMDAyIH0sCisJeyBfTU1JTygw
eGRjMjQpLCAweDAwMDBmZmNmIH0sCisJeyBfTU1JTygweGQ5NjgpLCAweDAwMTAwMDgyIH0sCisJ
eyBfTU1JTygweGQ5NmMpLCAweDAwMDBmZmVmIH0sCisJeyBfTU1JTygweGRjMjgpLCAweDAwMTAw
MDgyIH0sCisJeyBfTU1JTygweGRjMmMpLCAweDAwMDBmZmVmIH0sCisJeyBfTU1JTygweGQ5NzAp
LCAweDAwMTAwMGMyIH0sCisJeyBfTU1JTygweGQ5NzQpLCAweDAwMDBmZmU3IH0sCisJeyBfTU1J
TygweGRjMzApLCAweDAwMTAwMGMyIH0sCisJeyBfTU1JTygweGRjMzQpLCAweDAwMDBmZmU3IH0s
CisJeyBfTU1JTygweGQ5NzgpLCAweDAwMTAwMDAxIH0sCisJeyBfTU1JTygweGQ5N2MpLCAweDAw
MDBmZmU3IH0sCisJeyBfTU1JTygweGRjMzgpLCAweDAwMTAwMDAxIH0sCisJeyBfTU1JTygweGRj
M2MpLCAweDAwMDBmZmU3IH0sCisJeyBfTU1JTygweDJiMmMpLCAweDAwMDAwMDAwIH0sCisJeyBf
TU1JTygweGQ5MjApLCAweDAwMDAwMDAwIH0sCisJeyBfTU1JTygweGQ5MjApLCAweDAwMDAwMDAw
IH0sCisJeyBfTU1JTygweGQ5MjApLCAweDAwMDAwMDAwIH0sCisJeyBfTU1JTygweGQ5MjApLCAw
eDAwMDAwMDAwIH0sCit9OworCitzdGF0aWMgY29uc3Qgc3RydWN0IGk5MTVfb2FfcmVnIGZsZXhf
ZXVfY29uZmlnX3Rlc3Rfb2FbXSA9IHsKK307CisKK3N0YXRpYyBjb25zdCBzdHJ1Y3QgaTkxNV9v
YV9yZWcgbXV4X2NvbmZpZ190ZXN0X29hW10gPSB7CisJeyBfTU1JTygweGQwNCksIDB4MDAwMDAy
MDAgfSwKKwl7IF9NTUlPKDB4OTg0MCksIDB4MDAwMDAwMDAgfSwKKwl7IF9NTUlPKDB4OTg4NCks
IDB4MDAwMDAwMDMgfSwKKwl7IF9NTUlPKDB4OTg4OCksIDB4NDkxMTAwMDAgfSwKKwl7IF9NTUlP
KDB4OTg4OCksIDB4NWQxMDA0MDAgfSwKKwl7IF9NTUlPKDB4OTg4OCksIDB4MWQxMTAzYTMgfSwK
Kwl7IF9NTUlPKDB4OTg4OCksIDB4MDExMTAwMDAgfSwKKwl7IF9NTUlPKDB4OTg4OCksIDB4NjEx
MTAwMDAgfSwKKwl7IF9NTUlPKDB4OTg4OCksIDB4MTcxMDAwMDAgfSwKKwl7IF9NTUlPKDB4OTg4
OCksIDB4NTUxMDAwMDAgfSwKKwl7IF9NTUlPKDB4OTg4OCksIDB4MzExMDAwMDAgfSwKKwl7IF9N
TUlPKDB4OTg4NCksIDB4MDAwMDAwMDMgfSwKKwl7IF9NTUlPKDB4OTg4OCksIDB4NjUxMDAwMDIg
fSwKKwl7IF9NTUlPKDB4OTg4NCksIDB4MDAwMDAwMDAgfSwKKwl7IF9NTUlPKDB4OTg4OCksIDB4
NDIwMDAwMDEgfSwKK307CisKK3N0YXRpYyBzc2l6ZV90CitzaG93X3Rlc3Rfb2FfaWQoc3RydWN0
IGRldmljZSAqa2Rldiwgc3RydWN0IGRldmljZV9hdHRyaWJ1dGUgKmF0dHIsIGNoYXIgKmJ1ZikK
K3sKKwlyZXR1cm4gc3ByaW50ZihidWYsICIxXG4iKTsKK30KKwordm9pZAoraTkxNV9wZXJmX2xv
YWRfdGVzdF9jb25maWdfdGdsKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdikKK3sK
KwlzdHJsY3B5KGRldl9wcml2LT5wZXJmLnRlc3RfY29uZmlnLnV1aWQsCisJCSI1MzM4ZTIxZC1m
NzljLTQ5YzItODhkNi00N2U1Yjg1ODkyOTEiLAorCQlzaXplb2YoZGV2X3ByaXYtPnBlcmYudGVz
dF9jb25maWcudXVpZCkpOworCWRldl9wcml2LT5wZXJmLnRlc3RfY29uZmlnLmlkID0gMTsKKwor
CWRldl9wcml2LT5wZXJmLnRlc3RfY29uZmlnLm11eF9yZWdzID0gbXV4X2NvbmZpZ190ZXN0X29h
OworCWRldl9wcml2LT5wZXJmLnRlc3RfY29uZmlnLm11eF9yZWdzX2xlbiA9IEFSUkFZX1NJWkUo
bXV4X2NvbmZpZ190ZXN0X29hKTsKKworCWRldl9wcml2LT5wZXJmLnRlc3RfY29uZmlnLmJfY291
bnRlcl9yZWdzID0gYl9jb3VudGVyX2NvbmZpZ190ZXN0X29hOworCWRldl9wcml2LT5wZXJmLnRl
c3RfY29uZmlnLmJfY291bnRlcl9yZWdzX2xlbiA9IEFSUkFZX1NJWkUoYl9jb3VudGVyX2NvbmZp
Z190ZXN0X29hKTsKKworCWRldl9wcml2LT5wZXJmLnRlc3RfY29uZmlnLmZsZXhfcmVncyA9IGZs
ZXhfZXVfY29uZmlnX3Rlc3Rfb2E7CisJZGV2X3ByaXYtPnBlcmYudGVzdF9jb25maWcuZmxleF9y
ZWdzX2xlbiA9IEFSUkFZX1NJWkUoZmxleF9ldV9jb25maWdfdGVzdF9vYSk7CisKKwlkZXZfcHJp
di0+cGVyZi50ZXN0X2NvbmZpZy5zeXNmc19tZXRyaWMubmFtZSA9ICI1MzM4ZTIxZC1mNzljLTQ5
YzItODhkNi00N2U1Yjg1ODkyOTEiOworCWRldl9wcml2LT5wZXJmLnRlc3RfY29uZmlnLnN5c2Zz
X21ldHJpYy5hdHRycyA9IGRldl9wcml2LT5wZXJmLnRlc3RfY29uZmlnLmF0dHJzOworCisJZGV2
X3ByaXYtPnBlcmYudGVzdF9jb25maWcuYXR0cnNbMF0gPSAmZGV2X3ByaXYtPnBlcmYudGVzdF9j
b25maWcuc3lzZnNfbWV0cmljX2lkLmF0dHI7CisKKwlkZXZfcHJpdi0+cGVyZi50ZXN0X2NvbmZp
Zy5zeXNmc19tZXRyaWNfaWQuYXR0ci5uYW1lID0gImlkIjsKKwlkZXZfcHJpdi0+cGVyZi50ZXN0
X2NvbmZpZy5zeXNmc19tZXRyaWNfaWQuYXR0ci5tb2RlID0gMDQ0NDsKKwlkZXZfcHJpdi0+cGVy
Zi50ZXN0X2NvbmZpZy5zeXNmc19tZXRyaWNfaWQuc2hvdyA9IHNob3dfdGVzdF9vYV9pZDsKK30K
ZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L29hL2k5MTVfb2FfdGdsLmggYi9kcml2
ZXJzL2dwdS9kcm0vaTkxNS9vYS9pOTE1X29hX3RnbC5oCm5ldyBmaWxlIG1vZGUgMTAwNjQ0Cmlu
ZGV4IDAwMDAwMDAwMDAwMC4uNjRhYTQ3Y2UyZTU1Ci0tLSAvZGV2L251bGwKKysrIGIvZHJpdmVy
cy9ncHUvZHJtL2k5MTUvb2EvaTkxNV9vYV90Z2wuaApAQCAtMCwwICsxLDE3IEBACisvKgorICog
U1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IE1JVAorICoKKyAqIENvcHlyaWdodCDCqSAyMDE4IElu
dGVsIENvcnBvcmF0aW9uCisgKgorICogQXV0b2dlbmVyYXRlZCBmaWxlIGJ5IEdQVSBUb3AgOiBo
dHRwczovL2dpdGh1Yi5jb20vcmliL2dwdXRvcAorICogRE8gTk9UIEVESVQgbWFudWFsbHkhCisg
Ki8KKworI2lmbmRlZiBfX0k5MTVfT0FfVEdMX0hfXworI2RlZmluZSBfX0k5MTVfT0FfVEdMX0hf
XworCitzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZTsKKworZXh0ZXJuIHZvaWQgaTkxNV9wZXJmX2xv
YWRfdGVzdF9jb25maWdfdGdsKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdik7CisK
KyNlbmRpZgotLSAKMi4yMS4wCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fXwpJbnRlbC1nZnggbWFpbGluZyBsaXN0CkludGVsLWdmeEBsaXN0cy5mcmVlZGVz
a3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9p
bnRlbC1nZng=

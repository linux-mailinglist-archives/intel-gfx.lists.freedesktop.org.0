Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id D948ABF609
	for <lists+intel-gfx@lfdr.de>; Thu, 26 Sep 2019 17:37:10 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 154CA6ED8E;
	Thu, 26 Sep 2019 15:37:09 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from fireflyinternet.com (mail.fireflyinternet.com [109.228.58.192])
 by gabe.freedesktop.org (Postfix) with ESMTPS id CCD3B6ED92
 for <intel-gfx@lists.freedesktop.org>; Thu, 26 Sep 2019 15:37:05 +0000 (UTC)
X-Default-Received-SPF: pass (skip=forwardok (res=PASS))
 x-ip-name=78.156.65.138; 
Received: from haswell.alporthouse.com (unverified [78.156.65.138]) 
 by fireflyinternet.com (Firefly Internet (M1)) with ESMTP id 18629163-1500050 
 for <intel-gfx@lists.freedesktop.org>; Thu, 26 Sep 2019 16:37:02 +0100
From: Chris Wilson <chris@chris-wilson.co.uk>
To: intel-gfx@lists.freedesktop.org
Date: Thu, 26 Sep 2019 16:36:59 +0100
Message-Id: <20190926153700.19712-2-chris@chris-wilson.co.uk>
X-Mailer: git-send-email 2.23.0
In-Reply-To: <20190926153700.19712-1-chris@chris-wilson.co.uk>
References: <20190926153700.19712-1-chris@chris-wilson.co.uk>
MIME-Version: 1.0
Subject: [Intel-gfx] [CI 2/3] drm/i915: Don't disable interrupts for
 intel_engine_breadcrumbs_irq()
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

RnJvbTogU2ViYXN0aWFuIEFuZHJ6ZWogU2lld2lvciA8YmlnZWFzeUBsaW51dHJvbml4LmRlPgoK
VGhlIGZ1bmN0aW9uIGludGVsX2VuZ2luZV9icmVhZGNydW1ic19pcnEoKSBpcyBhbHdheXMgaW52
b2tlZCBmcm9tIGFuIGludGVycnVwdApoYW5kbGVyIGFuZCBmb3IgdGhhdCByZWFzb24gaXQgaW52
b2tlcyAoYXMgYW4gb3B0aW1pc2F0aW9uKSBvbmx5IHNwaW5fbG9jaygpCmZvciBsb2NraW5nIGFz
c3VtaW5nIHRoYXQgdGhlIGludGVycnVwdHMgYXJlIGFscmVhZHkgZGlzYWJsZWQuIFRoZQpmdW5j
dGlvbiBpbnRlbF9lbmdpbmVfc2lnbmFsX2JyZWFkY3J1bWJzKCkgaXMgcHJvdmlkZWQgdG8gZGlz
YWJsZQppbnRlcnJ1cHRzIHdoaWxlIHRoZSBmb3JtZXIgZnVuY3Rpb24gaXMgaW52b2tlZCBzbyB0
aGF0IGFzc3VtcHRpb24gaXMKYWxzbyB0cnVlIGZvciBjYWxsZXJzIGZyb20gcHJlZW1wdGlibGUg
Y29udGV4dC4KCk9uIFBSRUVNUFRfUlQgbG9jYWxfaXJxX2Rpc2FibGUoKSByZWFsbHkgZGlzYWJs
ZXMgaW50ZXJydXB0cyBhbmQgdGhpcwpmb3JiaWRzIHRvIGludm9rZSBzcGluX2xvY2soKSB3aGlj
aCBiZWNvbWVzIGEgc2xlZXBpbmcgc3BpbmxvY2suCgpUaGlzIGlzIGFsc28gcHJvYmxlbWF0aWMg
d2l0aCBgdGhyZWFkaXJxcycgaW4gY29uanVuY3Rpb24gd2l0aAppcnFfd29yay4gV2l0aCBmb3Jj
ZSB0aHJlYWRpbmcgdGhlIGludGVycnVwdCBoYW5kbGVyLCB0aGUgaGFuZGxlciBpcwppbnZva2Vk
IHdpdGggZGlzYWJsZWQgQkggYnV0IHdpdGggaW50ZXJydXB0cyBlbmFibGVkLiBUaGlzIGlzIG9r
YXkgYW5kCnRoZSBsb2NrIGl0c2VsZiBpcyBuZXZlciBhY3F1aXJlZCBpbiBJUlEgY29udGV4dC4g
VGhpcyBjaGFuZ2VzIHdpdGgKaXJxX3dvcmsgKHNpZ25hbF9pcnFfd29yaygpKSB3aGljaCBfc3Rp
bGxfIGludm9rZXMKaW50ZWxfZW5naW5lX2JyZWFkY3J1bWJzX2lycSgpIGZyb20gSVJRIGNvbnRl
eHQuIExvY2tkZXAgc2hvdWxkIHNlZSB0aGlzCmFuZCBjb21wbGFpbi4KCkFjcXVpcmUgdGhlIGxv
Y2tzIGluIGludGVsX2VuZ2luZV9icmVhZGNydW1ic19pcnEoKSB3aXRoIF9pcnFzYXZlKCkKc3Vm
Zml4IGFuZCBsZXQgYWxsIGNhbGxlcnMgaW52b2tlIGludGVsX2VuZ2luZV9icmVhZGNydW1ic19p
cnEoKQpkaXJlY3RseSBpbnN0ZWFkIHVzaW5nIGludGVsX2VuZ2luZV9zaWduYWxfYnJlYWRjcnVt
YnMoKS4KClJlcG9ydGVkLWJ5OiBDbGFyayBXaWxsaWFtcyA8d2lsbGlhbXNAcmVkaGF0LmNvbT4K
U2lnbmVkLW9mZi1ieTogU2ViYXN0aWFuIEFuZHJ6ZWogU2lld2lvciA8YmlnZWFzeUBsaW51dHJv
bml4LmRlPgotLS0KIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2JyZWFkY3J1bWJzLmMg
fCAxNiArKysrKy0tLS0tLS0tLS0tCiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9lbmdp
bmUuaCAgICAgIHwgIDEgLQogZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfaGFuZ2NoZWNr
LmMgICB8ICAyICstCiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9yZXNldC5jICAgICAg
IHwgIDIgKy0KIDQgZmlsZXMgY2hhbmdlZCwgNyBpbnNlcnRpb25zKCspLCAxNCBkZWxldGlvbnMo
LSkKCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9icmVhZGNydW1i
cy5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfYnJlYWRjcnVtYnMuYwppbmRleCAw
OWM2OGRkYTIwOTguLmY3NTAzNzUwNTZkZSAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5
MTUvZ3QvaW50ZWxfYnJlYWRjcnVtYnMuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9p
bnRlbF9icmVhZGNydW1icy5jCkBAIC0xMzQsOSArMTM0LDEwIEBAIHZvaWQgaW50ZWxfZW5naW5l
X2JyZWFkY3J1bWJzX2lycShzdHJ1Y3QgaW50ZWxfZW5naW5lX2NzICplbmdpbmUpCiAJY29uc3Qg
a3RpbWVfdCB0aW1lc3RhbXAgPSBrdGltZV9nZXQoKTsKIAlzdHJ1Y3QgaW50ZWxfY29udGV4dCAq
Y2UsICpjbjsKIAlzdHJ1Y3QgbGlzdF9oZWFkICpwb3MsICpuZXh0OworCXVuc2lnbmVkIGxvbmcg
ZmxhZ3M7CiAJTElTVF9IRUFEKHNpZ25hbCk7CiAKLQlzcGluX2xvY2soJmItPmlycV9sb2NrKTsK
KwlzcGluX2xvY2tfaXJxc2F2ZSgmYi0+aXJxX2xvY2ssIGZsYWdzKTsKIAogCWlmIChiLT5pcnFf
YXJtZWQgJiYgbGlzdF9lbXB0eSgmYi0+c2lnbmFsZXJzKSkKIAkJX19pbnRlbF9icmVhZGNydW1i
c19kaXNhcm1faXJxKGIpOwpAQCAtMTgyLDMwICsxODMsMjMgQEAgdm9pZCBpbnRlbF9lbmdpbmVf
YnJlYWRjcnVtYnNfaXJxKHN0cnVjdCBpbnRlbF9lbmdpbmVfY3MgKmVuZ2luZSkKIAkJfQogCX0K
IAotCXNwaW5fdW5sb2NrKCZiLT5pcnFfbG9jayk7CisJc3Bpbl91bmxvY2tfaXJxcmVzdG9yZSgm
Yi0+aXJxX2xvY2ssIGZsYWdzKTsKIAogCWxpc3RfZm9yX2VhY2hfc2FmZShwb3MsIG5leHQsICZz
aWduYWwpIHsKIAkJc3RydWN0IGk5MTVfcmVxdWVzdCAqcnEgPQogCQkJbGlzdF9lbnRyeShwb3Ms
IHR5cGVvZigqcnEpLCBzaWduYWxfbGluayk7CiAJCXN0cnVjdCBsaXN0X2hlYWQgY2JfbGlzdDsK
IAotCQlzcGluX2xvY2soJnJxLT5sb2NrKTsKKwkJc3Bpbl9sb2NrX2lycXNhdmUoJnJxLT5sb2Nr
LCBmbGFncyk7CiAJCWxpc3RfcmVwbGFjZSgmcnEtPmZlbmNlLmNiX2xpc3QsICZjYl9saXN0KTsK
IAkJX19kbWFfZmVuY2Vfc2lnbmFsX190aW1lc3RhbXAoJnJxLT5mZW5jZSwgdGltZXN0YW1wKTsK
IAkJX19kbWFfZmVuY2Vfc2lnbmFsX19ub3RpZnkoJnJxLT5mZW5jZSwgJmNiX2xpc3QpOwotCQlz
cGluX3VubG9jaygmcnEtPmxvY2spOworCQlzcGluX3VubG9ja19pcnFyZXN0b3JlKCZycS0+bG9j
aywgZmxhZ3MpOwogCiAJCWk5MTVfcmVxdWVzdF9wdXQocnEpOwogCX0KIH0KIAotdm9pZCBpbnRl
bF9lbmdpbmVfc2lnbmFsX2JyZWFkY3J1bWJzKHN0cnVjdCBpbnRlbF9lbmdpbmVfY3MgKmVuZ2lu
ZSkKLXsKLQlsb2NhbF9pcnFfZGlzYWJsZSgpOwotCWludGVsX2VuZ2luZV9icmVhZGNydW1ic19p
cnEoZW5naW5lKTsKLQlsb2NhbF9pcnFfZW5hYmxlKCk7Ci19Ci0KIHN0YXRpYyB2b2lkIHNpZ25h
bF9pcnFfd29yayhzdHJ1Y3QgaXJxX3dvcmsgKndvcmspCiB7CiAJc3RydWN0IGludGVsX2VuZ2lu
ZV9jcyAqZW5naW5lID0KZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVs
X2VuZ2luZS5oIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZW5naW5lLmgKaW5kZXgg
ZDNjNjk5M2Y0ZjQ2Li5jOWU4YzhjY2JkNDcgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9p
OTE1L2d0L2ludGVsX2VuZ2luZS5oCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVs
X2VuZ2luZS5oCkBAIC0zMzUsNyArMzM1LDYgQEAgdm9pZCBpbnRlbF9lbmdpbmVfaW5pdF9leGVj
bGlzdHMoc3RydWN0IGludGVsX2VuZ2luZV9jcyAqZW5naW5lKTsKIHZvaWQgaW50ZWxfZW5naW5l
X2luaXRfYnJlYWRjcnVtYnMoc3RydWN0IGludGVsX2VuZ2luZV9jcyAqZW5naW5lKTsKIHZvaWQg
aW50ZWxfZW5naW5lX2ZpbmlfYnJlYWRjcnVtYnMoc3RydWN0IGludGVsX2VuZ2luZV9jcyAqZW5n
aW5lKTsKIAotdm9pZCBpbnRlbF9lbmdpbmVfc2lnbmFsX2JyZWFkY3J1bWJzKHN0cnVjdCBpbnRl
bF9lbmdpbmVfY3MgKmVuZ2luZSk7CiB2b2lkIGludGVsX2VuZ2luZV9kaXNhcm1fYnJlYWRjcnVt
YnMoc3RydWN0IGludGVsX2VuZ2luZV9jcyAqZW5naW5lKTsKIAogc3RhdGljIGlubGluZSB2b2lk
CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9oYW5nY2hlY2suYyBi
L2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2hhbmdjaGVjay5jCmluZGV4IDQwZjYyZjc4
MGJlNS4uOTgxNGIxOGIzMmFkIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9p
bnRlbF9oYW5nY2hlY2suYworKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9oYW5n
Y2hlY2suYwpAQCAtMjg0LDcgKzI4NCw3IEBAIHN0YXRpYyB2b2lkIGhhbmdjaGVja19lbGFwc2Vk
KHN0cnVjdCB3b3JrX3N0cnVjdCAqd29yaykKIAlmb3JfZWFjaF9lbmdpbmUoZW5naW5lLCBndC0+
aTkxNSwgaWQpIHsKIAkJc3RydWN0IGhhbmdjaGVjayBoYzsKIAotCQlpbnRlbF9lbmdpbmVfc2ln
bmFsX2JyZWFkY3J1bWJzKGVuZ2luZSk7CisJCWludGVsX2VuZ2luZV9icmVhZGNydW1ic19pcnEo
ZW5naW5lKTsKIAogCQloYW5nY2hlY2tfbG9hZF9zYW1wbGUoZW5naW5lLCAmaGMpOwogCQloYW5n
Y2hlY2tfYWNjdW11bGF0ZV9zYW1wbGUoZW5naW5lLCAmaGMpOwpkaWZmIC0tZ2l0IGEvZHJpdmVy
cy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfcmVzZXQuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0
L2ludGVsX3Jlc2V0LmMKaW5kZXggYWU2OGMzNzg2ZjYzLi43NTRlNWIzMjFhNWYgMTAwNjQ0Ci0t
LSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX3Jlc2V0LmMKKysrIGIvZHJpdmVycy9n
cHUvZHJtL2k5MTUvZ3QvaW50ZWxfcmVzZXQuYwpAQCAtNzExLDcgKzcxMSw3IEBAIHN0YXRpYyB2
b2lkIHJlc2V0X2ZpbmlzaF9lbmdpbmUoc3RydWN0IGludGVsX2VuZ2luZV9jcyAqZW5naW5lKQog
CWVuZ2luZS0+cmVzZXQuZmluaXNoKGVuZ2luZSk7CiAJaW50ZWxfdW5jb3JlX2ZvcmNld2FrZV9w
dXQoZW5naW5lLT51bmNvcmUsIEZPUkNFV0FLRV9BTEwpOwogCi0JaW50ZWxfZW5naW5lX3NpZ25h
bF9icmVhZGNydW1icyhlbmdpbmUpOworCWludGVsX2VuZ2luZV9icmVhZGNydW1ic19pcnEoZW5n
aW5lKTsKIH0KIAogc3RhdGljIHZvaWQgcmVzZXRfZmluaXNoKHN0cnVjdCBpbnRlbF9ndCAqZ3Qs
IGludGVsX2VuZ2luZV9tYXNrX3QgYXdha2UpCi0tIAoyLjIzLjAKCl9fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCkludGVsLWdmeCBtYWlsaW5nIGxpc3QKSW50
ZWwtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9y
Zy9tYWlsbWFuL2xpc3RpbmZvL2ludGVsLWdmeA==

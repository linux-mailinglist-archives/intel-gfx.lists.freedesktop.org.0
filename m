Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 51FEB2F1B19
	for <lists+intel-gfx@lfdr.de>; Mon, 11 Jan 2021 17:37:36 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id AD82389CDF;
	Mon, 11 Jan 2021 16:37:34 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga03.intel.com (mga03.intel.com [134.134.136.65])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 8B38189CDE
 for <intel-gfx@lists.freedesktop.org>; Mon, 11 Jan 2021 16:37:32 +0000 (UTC)
IronPort-SDR: wI0zdq99JOSy6Wll8bi3E5Z27TaRuDPfskan+FLlgsnKOxJghA4625m8arRjPKWMt4vjZfEDGq
 Q/wKULFKthYA==
X-IronPort-AV: E=McAfee;i="6000,8403,9861"; a="177987700"
X-IronPort-AV: E=Sophos;i="5.79,338,1602572400"; d="scan'208";a="177987700"
Received: from orsmga002.jf.intel.com ([10.7.209.21])
 by orsmga103.jf.intel.com with ESMTP/TLS/ECDHE-RSA-AES256-GCM-SHA384;
 11 Jan 2021 08:37:31 -0800
IronPort-SDR: N6syX/YZ4hRy4c4AAaIKKJqYe4nkDViS/q8sPH09cUbE5AxiB/eh/tJ67as/RmJMnaU965irAc
 yOfvuVDC/a4A==
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.79,338,1602572400"; d="scan'208";a="363191636"
Received: from stinkbox.fi.intel.com (HELO stinkbox) ([10.237.72.174])
 by orsmga002.jf.intel.com with SMTP; 11 Jan 2021 08:37:29 -0800
Received: by stinkbox (sSMTP sendmail emulation);
 Mon, 11 Jan 2021 18:37:28 +0200
From: Ville Syrjala <ville.syrjala@linux.intel.com>
To: intel-gfx@lists.freedesktop.org
Date: Mon, 11 Jan 2021 18:37:05 +0200
Message-Id: <20210111163711.12913-6-ville.syrjala@linux.intel.com>
X-Mailer: git-send-email 2.26.2
In-Reply-To: <20210111163711.12913-1-ville.syrjala@linux.intel.com>
References: <20210111163711.12913-1-ville.syrjala@linux.intel.com>
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH v2 05/11] drm/i915: Add plane vfuncs to
 enable/disable flip_done interrupt
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

RnJvbTogVmlsbGUgU3lyasOkbMOkIDx2aWxsZS5zeXJqYWxhQGxpbnV4LmludGVsLmNvbT4KClBy
ZXBhcmUgZm9yIG1vcmUgcGxhdGZvcm1zIHdpdGggYXN5bmMgZmxpcCBzdXBwb3J0IGJ5IHR1cm5p
bmcKdGhlIGZsaXBfZG9uZSBpbnRlcnJ1cHQgZW5hYmxlL2Rpc2FibGUgaW50byBwbGFuZSB2ZnVu
Y3MuCgpDYzogS2FydGhpayBCIFMgPGthcnRoaWsuYi5zQGludGVsLmNvbT4KQ2M6IFZhbmRpdGEg
S3Vsa2FybmkgPHZhbmRpdGEua3Vsa2FybmlAaW50ZWwuY29tPgpTaWduZWQtb2ZmLWJ5OiBWaWxs
ZSBTeXJqw6Rsw6QgPHZpbGxlLnN5cmphbGFAbGludXguaW50ZWwuY29tPgotLS0KIGRyaXZlcnMv
Z3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheS5jICB8IDQyICsrKysrKysrKysrKysr
KysrLS0KIC4uLi9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXlfdHlwZXMuaCAgICB8ICAy
ICsKIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfc3ByaXRlLmMgICB8IDI3ICsr
KysrKysrKysrLQogZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9pcnEuYyAgICAgICAgICAgICAg
IHwgMjYgLS0tLS0tLS0tLS0tCiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2lycS5oICAgICAg
ICAgICAgICAgfCAgMyAtLQogNSBmaWxlcyBjaGFuZ2VkLCA2NyBpbnNlcnRpb25zKCspLCAzMyBk
ZWxldGlvbnMoLSkKCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2lu
dGVsX2Rpc3BsYXkuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxh
eS5jCmluZGV4IDFhZDkyZmNhZWU3Yi4uZjEyYjc0Y2ZlOTc0IDEwMDY0NAotLS0gYS9kcml2ZXJz
L2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXkuYworKysgYi9kcml2ZXJzL2dwdS9k
cm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXkuYwpAQCAtNjEzMyw2ICs2MTMzLDQyIEBAIHN0
YXRpYyB2b2lkIGludGVsX3Bvc3RfcGxhbmVfdXBkYXRlKHN0cnVjdCBpbnRlbF9hdG9taWNfc3Rh
dGUgKnN0YXRlLAogCQlpY2xfd2Ffc2NhbGVyY2xrZ2F0aW5nKGRldl9wcml2LCBwaXBlLCBmYWxz
ZSk7CiB9CiAKK3N0YXRpYyB2b2lkIGludGVsX2NydGNfZW5hYmxlX2ZsaXBfZG9uZShzdHJ1Y3Qg
aW50ZWxfYXRvbWljX3N0YXRlICpzdGF0ZSwKKwkJCQkJc3RydWN0IGludGVsX2NydGMgKmNydGMp
Cit7CisJY29uc3Qgc3RydWN0IGludGVsX2NydGNfc3RhdGUgKmNydGNfc3RhdGUgPQorCQlpbnRl
bF9hdG9taWNfZ2V0X25ld19jcnRjX3N0YXRlKHN0YXRlLCBjcnRjKTsKKwl1OCB1cGRhdGVfcGxh
bmVzID0gY3J0Y19zdGF0ZS0+dXBkYXRlX3BsYW5lczsKKwljb25zdCBzdHJ1Y3QgaW50ZWxfcGxh
bmVfc3RhdGUgKnBsYW5lX3N0YXRlOworCXN0cnVjdCBpbnRlbF9wbGFuZSAqcGxhbmU7CisJaW50
IGk7CisKKwlmb3JfZWFjaF9uZXdfaW50ZWxfcGxhbmVfaW5fc3RhdGUoc3RhdGUsIHBsYW5lLCBw
bGFuZV9zdGF0ZSwgaSkgeworCQlpZiAocGxhbmUtPmVuYWJsZV9mbGlwX2RvbmUgJiYKKwkJICAg
IHBsYW5lLT5waXBlID09IGNydGMtPnBpcGUgJiYKKwkJICAgIHVwZGF0ZV9wbGFuZXMgJiBCSVQo
cGxhbmUtPmlkKSkKKwkJCXBsYW5lLT5lbmFibGVfZmxpcF9kb25lKHBsYW5lKTsKKwl9Cit9CisK
K3N0YXRpYyB2b2lkIGludGVsX2NydGNfZGlzYWJsZV9mbGlwX2RvbmUoc3RydWN0IGludGVsX2F0
b21pY19zdGF0ZSAqc3RhdGUsCisJCQkJCSBzdHJ1Y3QgaW50ZWxfY3J0YyAqY3J0YykKK3sKKwlj
b25zdCBzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqY3J0Y19zdGF0ZSA9CisJCWludGVsX2F0b21p
Y19nZXRfbmV3X2NydGNfc3RhdGUoc3RhdGUsIGNydGMpOworCXU4IHVwZGF0ZV9wbGFuZXMgPSBj
cnRjX3N0YXRlLT51cGRhdGVfcGxhbmVzOworCWNvbnN0IHN0cnVjdCBpbnRlbF9wbGFuZV9zdGF0
ZSAqcGxhbmVfc3RhdGU7CisJc3RydWN0IGludGVsX3BsYW5lICpwbGFuZTsKKwlpbnQgaTsKKwor
CWZvcl9lYWNoX25ld19pbnRlbF9wbGFuZV9pbl9zdGF0ZShzdGF0ZSwgcGxhbmUsIHBsYW5lX3N0
YXRlLCBpKSB7CisJCWlmIChwbGFuZS0+ZGlzYWJsZV9mbGlwX2RvbmUgJiYKKwkJICAgIHBsYW5l
LT5waXBlID09IGNydGMtPnBpcGUgJiYKKwkJICAgIHVwZGF0ZV9wbGFuZXMgJiBCSVQocGxhbmUt
PmlkKSkKKwkJCXBsYW5lLT5kaXNhYmxlX2ZsaXBfZG9uZShwbGFuZSk7CisJfQorfQorCiBzdGF0
aWMgdm9pZCBza2xfZGlzYWJsZV9hc3luY19mbGlwX3dhKHN0cnVjdCBpbnRlbF9hdG9taWNfc3Rh
dGUgKnN0YXRlLAogCQkJCSAgICAgIHN0cnVjdCBpbnRlbF9jcnRjICpjcnRjLAogCQkJCSAgICAg
IGNvbnN0IHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpuZXdfY3J0Y19zdGF0ZSkKQEAgLTE0MzMz
LDcgKzE0MzY5LDcgQEAgc3RhdGljIHZvaWQga2lsbF9iaWdqb2luZXJfc2xhdmUoc3RydWN0IGlu
dGVsX2F0b21pY19zdGF0ZSAqc3RhdGUsCiAgKiBBc3luYyBmbGlwIGNhbiBvbmx5IGNoYW5nZSB0
aGUgcGxhbmUgc3VyZmFjZSBhZGRyZXNzLCBzbyBhbnl0aGluZyBlbHNlCiAgKiBjaGFuZ2luZyBp
cyByZWplY3RlZCBmcm9tIHRoZSBpbnRlbF9hdG9taWNfY2hlY2tfYXN5bmMoKSBmdW5jdGlvbi4K
ICAqIE9uY2UgdGhpcyBjaGVjayBpcyBjbGVhcmVkLCBmbGlwIGRvbmUgaW50ZXJydXB0IGlzIGVu
YWJsZWQgdXNpbmcKLSAqIHRoZSBza2xfZW5hYmxlX2ZsaXBfZG9uZSgpIGZ1bmN0aW9uLgorICog
dGhlIGludGVsX2NydGNfZW5hYmxlX2ZsaXBfZG9uZSgpIGZ1bmN0aW9uLgogICoKICAqIEFzIHNv
b24gYXMgdGhlIHN1cmZhY2UgYWRkcmVzcyByZWdpc3RlciBpcyB3cml0dGVuLCBmbGlwIGRvbmUg
aW50ZXJydXB0IGlzCiAgKiBnZW5lcmF0ZWQgYW5kIHRoZSByZXF1ZXN0ZWQgZXZlbnRzIGFyZSBz
ZW50IHRvIHRoZSB1c2Vyc2FwY2UgaW4gdGhlIGludGVycnVwdApAQCAtMTUyODksNyArMTUzMjUs
NyBAQCBzdGF0aWMgdm9pZCBpbnRlbF9hdG9taWNfY29tbWl0X3RhaWwoc3RydWN0IGludGVsX2F0
b21pY19zdGF0ZSAqc3RhdGUpCiAKIAlmb3JfZWFjaF9uZXdfaW50ZWxfY3J0Y19pbl9zdGF0ZShz
dGF0ZSwgY3J0YywgbmV3X2NydGNfc3RhdGUsIGkpIHsKIAkJaWYgKG5ld19jcnRjX3N0YXRlLT51
YXBpLmFzeW5jX2ZsaXApCi0JCQlza2xfZW5hYmxlX2ZsaXBfZG9uZShjcnRjKTsKKwkJCWludGVs
X2NydGNfZW5hYmxlX2ZsaXBfZG9uZShzdGF0ZSwgY3J0Yyk7CiAJfQogCiAJLyogTm93IGVuYWJs
ZSB0aGUgY2xvY2tzLCBwbGFuZSwgcGlwZSwgYW5kIGNvbm5lY3RvcnMgdGhhdCB3ZSBzZXQgdXAu
ICovCkBAIC0xNTMxNCw3ICsxNTM1MCw3IEBAIHN0YXRpYyB2b2lkIGludGVsX2F0b21pY19jb21t
aXRfdGFpbChzdHJ1Y3QgaW50ZWxfYXRvbWljX3N0YXRlICpzdGF0ZSkKIAogCWZvcl9lYWNoX25l
d19pbnRlbF9jcnRjX2luX3N0YXRlKHN0YXRlLCBjcnRjLCBuZXdfY3J0Y19zdGF0ZSwgaSkgewog
CQlpZiAobmV3X2NydGNfc3RhdGUtPnVhcGkuYXN5bmNfZmxpcCkKLQkJCXNrbF9kaXNhYmxlX2Zs
aXBfZG9uZShjcnRjKTsKKwkJCWludGVsX2NydGNfZGlzYWJsZV9mbGlwX2RvbmUoc3RhdGUsIGNy
dGMpOwogCiAJCWlmIChuZXdfY3J0Y19zdGF0ZS0+aHcuYWN0aXZlICYmCiAJCSAgICAhaW50ZWxf
Y3J0Y19uZWVkc19tb2Rlc2V0KG5ld19jcnRjX3N0YXRlKSAmJgpkaWZmIC0tZ2l0IGEvZHJpdmVy
cy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5X3R5cGVzLmggYi9kcml2ZXJzL2dw
dS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXlfdHlwZXMuaAppbmRleCAxMDY3YmQwNzNj
OTUuLjI1NTY0OGFiMGZhNyAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxh
eS9pbnRlbF9kaXNwbGF5X3R5cGVzLmgKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxh
eS9pbnRlbF9kaXNwbGF5X3R5cGVzLmgKQEAgLTEyNTgsNiArMTI1OCw4IEBAIHN0cnVjdCBpbnRl
bF9wbGFuZSB7CiAJdm9pZCAoKmFzeW5jX2ZsaXApKHN0cnVjdCBpbnRlbF9wbGFuZSAqcGxhbmUs
CiAJCQkgICBjb25zdCBzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqY3J0Y19zdGF0ZSwKIAkJCSAg
IGNvbnN0IHN0cnVjdCBpbnRlbF9wbGFuZV9zdGF0ZSAqcGxhbmVfc3RhdGUpOworCXZvaWQgKCpl
bmFibGVfZmxpcF9kb25lKShzdHJ1Y3QgaW50ZWxfcGxhbmUgKnBsYW5lKTsKKwl2b2lkICgqZGlz
YWJsZV9mbGlwX2RvbmUpKHN0cnVjdCBpbnRlbF9wbGFuZSAqcGxhbmUpOwogfTsKIAogc3RydWN0
IGludGVsX3dhdGVybWFya19wYXJhbXMgewpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5
MTUvZGlzcGxheS9pbnRlbF9zcHJpdGUuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkv
aW50ZWxfc3ByaXRlLmMKaW5kZXggMGE1NjQ4ZDVkY2Y4Li44ZTAxY2Q0ZWJlMzYgMTAwNjQ0Ci0t
LSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfc3ByaXRlLmMKKysrIGIvZHJp
dmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9zcHJpdGUuYwpAQCAtOTU4LDYgKzk1OCwy
OCBAQCBza2xfcGxhbmVfZ2V0X2h3X3N0YXRlKHN0cnVjdCBpbnRlbF9wbGFuZSAqcGxhbmUsCiAJ
cmV0dXJuIHJldDsKIH0KIAorc3RhdGljIHZvaWQKK3NrbF9wbGFuZV9lbmFibGVfZmxpcF9kb25l
KHN0cnVjdCBpbnRlbF9wbGFuZSAqcGxhbmUpCit7CisJc3RydWN0IGRybV9pOTE1X3ByaXZhdGUg
Kmk5MTUgPSB0b19pOTE1KHBsYW5lLT5iYXNlLmRldik7CisJZW51bSBwaXBlIHBpcGUgPSBwbGFu
ZS0+cGlwZTsKKworCXNwaW5fbG9ja19pcnEoJmk5MTUtPmlycV9sb2NrKTsKKwliZHdfZW5hYmxl
X3BpcGVfaXJxKGk5MTUsIHBpcGUsIEdFTjlfUElQRV9QTEFORV9GTElQX0RPTkUocGxhbmUtPmlk
KSk7CisJc3Bpbl91bmxvY2tfaXJxKCZpOTE1LT5pcnFfbG9jayk7Cit9CisKK3N0YXRpYyB2b2lk
Citza2xfcGxhbmVfZGlzYWJsZV9mbGlwX2RvbmUoc3RydWN0IGludGVsX3BsYW5lICpwbGFuZSkK
K3sKKwlzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSA9IHRvX2k5MTUocGxhbmUtPmJhc2Uu
ZGV2KTsKKwllbnVtIHBpcGUgcGlwZSA9IHBsYW5lLT5waXBlOworCisJc3Bpbl9sb2NrX2lycSgm
aTkxNS0+aXJxX2xvY2spOworCWJkd19kaXNhYmxlX3BpcGVfaXJxKGk5MTUsIHBpcGUsIEdFTjlf
UElQRV9QTEFORV9GTElQX0RPTkUocGxhbmUtPmlkKSk7CisJc3Bpbl91bmxvY2tfaXJxKCZpOTE1
LT5pcnFfbG9jayk7Cit9CisKIHN0YXRpYyB2b2lkIGk5eHhfcGxhbmVfbGluZWFyX2dhbW1hKHUx
NiBnYW1tYVs4XSkKIHsKIAkvKiBUaGUgcG9pbnRzIGFyZSBub3QgZXZlbmx5IHNwYWNlZC4gKi8K
QEAgLTMzMTAsOCArMzMzMiwxMSBAQCBza2xfdW5pdmVyc2FsX3BsYW5lX2NyZWF0ZShzdHJ1Y3Qg
ZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYsCiAJcGxhbmUtPmNoZWNrX3BsYW5lID0gc2tsX3Bs
YW5lX2NoZWNrOwogCXBsYW5lLT5taW5fY2RjbGsgPSBza2xfcGxhbmVfbWluX2NkY2xrOwogCi0J
aWYgKHBsYW5lX2lkID09IFBMQU5FX1BSSU1BUlkpCisJaWYgKHBsYW5lX2lkID09IFBMQU5FX1BS
SU1BUlkpIHsKIAkJcGxhbmUtPmFzeW5jX2ZsaXAgPSBza2xfcGxhbmVfYXN5bmNfZmxpcDsKKwkJ
cGxhbmUtPmVuYWJsZV9mbGlwX2RvbmUgPSBza2xfcGxhbmVfZW5hYmxlX2ZsaXBfZG9uZTsKKwkJ
cGxhbmUtPmRpc2FibGVfZmxpcF9kb25lID0gc2tsX3BsYW5lX2Rpc2FibGVfZmxpcF9kb25lOwor
CX0KIAogCWlmIChJTlRFTF9HRU4oZGV2X3ByaXYpID49IDExKQogCQlmb3JtYXRzID0gaWNsX2dl
dF9wbGFuZV9mb3JtYXRzKGRldl9wcml2LCBwaXBlLApkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUv
ZHJtL2k5MTUvaTkxNV9pcnEuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfaXJxLmMKaW5k
ZXggNDQ4NDYwOWQ4NzBkLi4zMzAxOWNmMGU2MzAgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2k5MTVfaXJxLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9pcnEuYwpA
QCAtMjgyMiwxOSArMjgyMiw2IEBAIGludCBiZHdfZW5hYmxlX3ZibGFuayhzdHJ1Y3QgZHJtX2Ny
dGMgKmNydGMpCiAJcmV0dXJuIDA7CiB9CiAKLXZvaWQgc2tsX2VuYWJsZV9mbGlwX2RvbmUoc3Ry
dWN0IGludGVsX2NydGMgKmNydGMpCi17Ci0Jc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUg
PSB0b19pOTE1KGNydGMtPmJhc2UuZGV2KTsKLQllbnVtIHBpcGUgcGlwZSA9IGNydGMtPnBpcGU7
Ci0JdW5zaWduZWQgbG9uZyBpcnFmbGFnczsKLQotCXNwaW5fbG9ja19pcnFzYXZlKCZpOTE1LT5p
cnFfbG9jaywgaXJxZmxhZ3MpOwotCi0JYmR3X2VuYWJsZV9waXBlX2lycShpOTE1LCBwaXBlLCBH
RU45X1BJUEVfUExBTkUxX0ZMSVBfRE9ORSk7Ci0KLQlzcGluX3VubG9ja19pcnFyZXN0b3JlKCZp
OTE1LT5pcnFfbG9jaywgaXJxZmxhZ3MpOwotfQotCiAvKiBDYWxsZWQgZnJvbSBkcm0gZ2VuZXJp
YyBjb2RlLCBwYXNzZWQgJ2NydGMnIHdoaWNoCiAgKiB3ZSB1c2UgYXMgYSBwaXBlIGluZGV4CiAg
Ki8KQEAgLTI4OTksMTkgKzI4ODYsNiBAQCB2b2lkIGJkd19kaXNhYmxlX3ZibGFuayhzdHJ1Y3Qg
ZHJtX2NydGMgKmNydGMpCiAJc3Bpbl91bmxvY2tfaXJxcmVzdG9yZSgmZGV2X3ByaXYtPmlycV9s
b2NrLCBpcnFmbGFncyk7CiB9CiAKLXZvaWQgc2tsX2Rpc2FibGVfZmxpcF9kb25lKHN0cnVjdCBp
bnRlbF9jcnRjICpjcnRjKQotewotCXN0cnVjdCBkcm1faTkxNV9wcml2YXRlICppOTE1ID0gdG9f
aTkxNShjcnRjLT5iYXNlLmRldik7Ci0JZW51bSBwaXBlIHBpcGUgPSBjcnRjLT5waXBlOwotCXVu
c2lnbmVkIGxvbmcgaXJxZmxhZ3M7Ci0KLQlzcGluX2xvY2tfaXJxc2F2ZSgmaTkxNS0+aXJxX2xv
Y2ssIGlycWZsYWdzKTsKLQotCWJkd19kaXNhYmxlX3BpcGVfaXJxKGk5MTUsIHBpcGUsIEdFTjlf
UElQRV9QTEFORTFfRkxJUF9ET05FKTsKLQotCXNwaW5fdW5sb2NrX2lycXJlc3RvcmUoJmk5MTUt
PmlycV9sb2NrLCBpcnFmbGFncyk7Ci19Ci0KIHN0YXRpYyB2b2lkIGlieF9pcnFfcmVzZXQoc3Ry
dWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2KQogewogCXN0cnVjdCBpbnRlbF91bmNvcmUg
KnVuY29yZSA9ICZkZXZfcHJpdi0+dW5jb3JlOwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJt
L2k5MTUvaTkxNV9pcnEuaCBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfaXJxLmgKaW5kZXgg
MmVmZTYwOTUxOWNhLi4yNWYyNWNkOTU4MTggMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9p
OTE1L2k5MTVfaXJxLmgKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9pcnEuaApAQCAt
MTE4LDkgKzExOCw2IEBAIHZvaWQgaTk2NV9kaXNhYmxlX3ZibGFuayhzdHJ1Y3QgZHJtX2NydGMg
KmNydGMpOwogdm9pZCBpbGtfZGlzYWJsZV92Ymxhbmsoc3RydWN0IGRybV9jcnRjICpjcnRjKTsK
IHZvaWQgYmR3X2Rpc2FibGVfdmJsYW5rKHN0cnVjdCBkcm1fY3J0YyAqY3J0Yyk7CiAKLXZvaWQg
c2tsX2VuYWJsZV9mbGlwX2RvbmUoc3RydWN0IGludGVsX2NydGMgKmNydGMpOwotdm9pZCBza2xf
ZGlzYWJsZV9mbGlwX2RvbmUoc3RydWN0IGludGVsX2NydGMgKmNydGMpOwotCiB2b2lkIGdlbjJf
aXJxX3Jlc2V0KHN0cnVjdCBpbnRlbF91bmNvcmUgKnVuY29yZSk7CiB2b2lkIGdlbjNfaXJxX3Jl
c2V0KHN0cnVjdCBpbnRlbF91bmNvcmUgKnVuY29yZSwgaTkxNV9yZWdfdCBpbXIsCiAJCSAgICBp
OTE1X3JlZ190IGlpciwgaTkxNV9yZWdfdCBpZXIpOwotLSAKMi4yNi4yCgpfX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpJbnRlbC1nZnggbWFpbGluZyBsaXN0
CkludGVsLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3Rv
cC5vcmcvbWFpbG1hbi9saXN0aW5mby9pbnRlbC1nZngK

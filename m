Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id AC8A21791E
	for <lists+intel-gfx@lfdr.de>; Wed,  8 May 2019 14:11:13 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id AC050898A4;
	Wed,  8 May 2019 12:11:10 +0000 (UTC)
X-Original-To: Intel-gfx@lists.freedesktop.org
Delivered-To: Intel-gfx@lists.freedesktop.org
Received: from mga17.intel.com (mga17.intel.com [192.55.52.151])
 by gabe.freedesktop.org (Postfix) with ESMTPS id EA2468986D;
 Wed,  8 May 2019 12:11:04 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from fmsmga008.fm.intel.com ([10.253.24.58])
 by fmsmga107.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 08 May 2019 05:11:04 -0700
X-ExtLoop1: 1
Received: from jzapadkx-mobl1.ger.corp.intel.com (HELO localhost.localdomain)
 ([10.252.0.159])
 by fmsmga008.fm.intel.com with ESMTP; 08 May 2019 05:11:03 -0700
From: Tvrtko Ursulin <tvrtko.ursulin@linux.intel.com>
To: igt-dev@lists.freedesktop.org
Date: Wed,  8 May 2019 13:10:38 +0100
Message-Id: <20190508121058.27038-2-tvrtko.ursulin@linux.intel.com>
X-Mailer: git-send-email 2.19.1
In-Reply-To: <20190508121058.27038-1-tvrtko.ursulin@linux.intel.com>
References: <20190508121058.27038-1-tvrtko.ursulin@linux.intel.com>
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH i-g-t 01/21] scripts/trace.pl: Fix after
 intel_engine_notify removal
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: Intel-gfx@lists.freedesktop.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

RnJvbTogVHZydGtvIFVyc3VsaW4gPHR2cnRrby51cnN1bGluQGludGVsLmNvbT4KCkFmdGVyIHRo
ZSByZW1vdmFsIG9mIGVuZ2luZSBnbG9iYWwgc2Vxbm9zIGFuZCB0aGUgY29ycmVzcG9uZGluZwpp
bnRlbF9lbmdpbmVfbm90aWZ5IHRyYWNlcG9pbnRzIHRoZSBzY3JpcHQgbmVlZHMgdG8gYmUgYWRq
dXN0ZWQgdG8gY29wZQp3aXRoIHRoZSBuZXcgc3RhdGUgb2YgdGhpbmdzLgoKVG8ga2VlcCB3b3Jr
aW5nIGl0IHN3aXRjaGVzIG92ZXIgdXNpbmcgdGhlIGRtYV9mZW5jZTpkbWFfZmVuY2Vfc2lnbmFs
ZWQ6CnRyYWNlcG9pbnQgYW5kIGtlZXBzIG9uZSBleHRyYSBpbnRlcm5hbCBtYXAgdG8gY29ubmVj
dCB0aGUgY3R4LXNlcW5vIHBhaXJzCndpdGggZW5naW5lcy4KCkl0IGFsc28gbmVlZHMgdG8ga2V5
IHRoZSBjb21wbGV0aW9uIGV2ZW50cyBvbiB0aGUgZnVsbCBlbmdpbmUvY3R4L3NlcW5vCnRva2Vu
cywgYW5kIGFkanVzdCBjb3JyZXNwb25kaW5nbHkgdGhlIHRpbWVsaW5lIHNvcnRpbmcgbG9naWMu
Cgp2MjoKICogRG8gbm90IHVzZSBsYXRlIG5vdGlmaWNhdGlvbnMgKHJlY2VpdmVkIGFmdGVyIGNv
bnRleHQgY29tcGxldGUpIHdoZW4KICAgc3BsaXR0aW5nIHVwIGNvYWxlc2NlZCByZXF1ZXN0cy4g
VGhleSBhcmUgbm93IG11Y2ggbW9yZSBsaWtlbHkgYW5kIGNhbgogICBub3QgYmUgdXNlZC4KClNp
Z25lZC1vZmYtYnk6IFR2cnRrbyBVcnN1bGluIDx0dnJ0a28udXJzdWxpbkBpbnRlbC5jb20+Ci0t
LQogc2NyaXB0cy90cmFjZS5wbCB8IDgyICsrKysrKysrKysrKysrKysrKysrKysrKy0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLQogMSBmaWxlIGNoYW5nZWQsIDQxIGluc2VydGlvbnMoKyksIDQxIGRl
bGV0aW9ucygtKQoKZGlmZiAtLWdpdCBhL3NjcmlwdHMvdHJhY2UucGwgYi9zY3JpcHRzL3RyYWNl
LnBsCmluZGV4IDE4ZjlmM2IxODM5Ni4uOTVkYzNhNjQ1ZThlIDEwMDc1NQotLS0gYS9zY3JpcHRz
L3RyYWNlLnBsCisrKyBiL3NjcmlwdHMvdHJhY2UucGwKQEAgLTI3LDcgKzI3LDggQEAgdXNlIHdh
cm5pbmdzOwogdXNlIDUuMDEwOwogCiBteSAkZ2lkID0gMDsKLW15ICglZGIsICVxdWV1ZSwgJXN1
Ym1pdCwgJW5vdGlmeSwgJXJpbmdzLCAlY3R4ZGIsICVyaW5nbWFwLCAlcmVxd2FpdCwgJWN0eHRp
bWVsaW5lcyk7CitteSAoJWRiLCAlcXVldWUsICVzdWJtaXQsICVub3RpZnksICVyaW5ncywgJWN0
eGRiLCAlcmluZ21hcCwgJXJlcXdhaXQsCisgICAgJWN0eHRpbWVsaW5lcywgJWN0eGVuZ2luZXMp
OwogbXkgQGZyZXFzOwogCiBteSAkbWF4X2l0ZW1zID0gMzAwMDsKQEAgLTY2LDcgKzY3LDcgQEAg
Tm90ZXM6CiAJCQkgICAgICAgaTkxNTppOTE1X3JlcXVlc3Rfc3VibWl0LCBcCiAJCQkgICAgICAg
aTkxNTppOTE1X3JlcXVlc3RfaW4sIFwKIAkJCSAgICAgICBpOTE1Omk5MTVfcmVxdWVzdF9vdXQs
IFwKLQkJCSAgICAgICBpOTE1OmludGVsX2VuZ2luZV9ub3RpZnksIFwKKwkJCSAgICAgICBkbWFf
ZmVuY2U6ZG1hX2ZlbmNlX3NpZ25hbGVkLCBcCiAJCQkgICAgICAgaTkxNTppOTE1X3JlcXVlc3Rf
d2FpdF9iZWdpbiwgXAogCQkJICAgICAgIGk5MTU6aTkxNV9yZXF1ZXN0X3dhaXRfZW5kIFwKIAkJ
CSAgICAgICBbY29tbWFuZC10by1iZS1wcm9maWxlZF0KQEAgLTE2MSw3ICsxNjIsNyBAQCBzdWIg
YXJnX3RyYWNlCiAJCSAgICAgICAnaTkxNTppOTE1X3JlcXVlc3Rfc3VibWl0JywKIAkJICAgICAg
ICdpOTE1Omk5MTVfcmVxdWVzdF9pbicsCiAJCSAgICAgICAnaTkxNTppOTE1X3JlcXVlc3Rfb3V0
JywKLQkJICAgICAgICdpOTE1OmludGVsX2VuZ2luZV9ub3RpZnknLAorCQkgICAgICAgJ2RtYV9m
ZW5jZTpkbWFfZmVuY2Vfc2lnbmFsZWQnLAogCQkgICAgICAgJ2k5MTU6aTkxNV9yZXF1ZXN0X3dh
aXRfYmVnaW4nLAogCQkgICAgICAgJ2k5MTU6aTkxNV9yZXF1ZXN0X3dhaXRfZW5kJyApOwogCkBA
IC0zMTIsMTMgKzMxMyw2IEBAIHN1YiBkYl9rZXkKIAlyZXR1cm4gJHJpbmcgLiAnLycgLiAkY3R4
IC4gJy8nIC4gJHNlcW5vOwogfQogCi1zdWIgZ2xvYmFsX2tleQotewotCW15ICgkcmluZywgJHNl
cW5vKSA9IEBfOwotCi0JcmV0dXJuICRyaW5nIC4gJy8nIC4gJHNlcW5vOwotfQotCiBzdWIgc2Fu
aXRpemVfY3R4CiB7CiAJbXkgKCRjdHgsICRyaW5nKSA9IEBfOwpAQCAtNDE5LDYgKzQxMyw4IEBA
IHdoaWxlICg8PikgewogCQkkcmVxeydyaW5nJ30gPSAkcmluZzsKIAkJJHJlcXsnc2Vxbm8nfSA9
ICRzZXFubzsKIAkJJHJlcXsnY3R4J30gPSAkY3R4OworCQlkaWUgaWYgZXhpc3RzICRjdHhlbmdp
bmVzeyRjdHh9IGFuZCAkY3R4ZW5naW5lc3skY3R4fSBuZSAkcmluZzsKKwkJJGN0eGVuZ2luZXN7
JGN0eH0gPSAkcmluZzsKIAkJJGN0eHRpbWVsaW5lc3skY3R4IC4gJy8nIC4gJHJpbmd9ID0gMTsK
IAkJJHJlcXsnbmFtZSd9ID0gJGN0eCAuICcvJyAuICRzZXFubzsKIAkJJHJlcXsnZ2xvYmFsJ30g
PSAkdHB7J2dsb2JhbCd9OwpAQCAtNDI5LDE2ICs0MjUsMjkgQEAgd2hpbGUgKDw+KSB7CiAJCSRy
aW5nbWFweyRyaW5nc3skcmluZ319ID0gJHJpbmc7CiAJCSRkYnska2V5fSA9IFwlcmVxOwogCX0g
ZWxzaWYgKCR0cF9uYW1lIGVxICdpOTE1Omk5MTVfcmVxdWVzdF9vdXQ6JykgewotCQlteSAkZ2tl
eSA9IGdsb2JhbF9rZXkoJHJpbmcsICR0cHsnZ2xvYmFsJ30pOworCQlteSAkZ2tleTsKKworCQlk
aWUgdW5sZXNzIGV4aXN0cyAkY3R4ZW5naW5lc3skY3R4fTsKKworCQkkZ2tleSA9IGRiX2tleSgk
Y3R4ZW5naW5lc3skY3R4fSwgJGN0eCwgJHNlcW5vKTsKKworCQlpZiAoJHRweydjb21wbGV0ZWQ/
J30pIHsKKwkJCWRpZSB1bmxlc3MgZXhpc3RzICRkYnska2V5fTsKKwkJCWRpZSB1bmxlc3MgZXhp
c3RzICRkYnska2V5fS0+eydzdGFydCd9OworCQkJZGllIGlmIGV4aXN0cyAkZGJ7JGtleX0tPnsn
ZW5kJ307CisKKwkJCSRkYnska2V5fS0+eydlbmQnfSA9ICR0aW1lOworCQkJJGRieyRrZXl9LT57
J25vdGlmeSd9ID0gJG5vdGlmeXskZ2tleX0KKwkJCQkJCWlmIGV4aXN0cyAkbm90aWZ5eyRna2V5
fTsKKwkJfSBlbHNlIHsKKwkJCWRlbGV0ZSAkZGJ7JGtleX07CisJCX0KKwl9IGVsc2lmICgkdHBf
bmFtZSBlcSAnZG1hX2ZlbmNlOmRtYV9mZW5jZV9zaWduYWxlZDonKSB7CisJCW15ICRna2V5Owog
Ci0JCWRpZSB1bmxlc3MgZXhpc3RzICRkYnska2V5fTsKLQkJZGllIHVubGVzcyBleGlzdHMgJGRi
eyRrZXl9LT57J3N0YXJ0J307Ci0JCWRpZSBpZiBleGlzdHMgJGRieyRrZXl9LT57J2VuZCd9Owor
CQlkaWUgdW5sZXNzIGV4aXN0cyAkY3R4ZW5naW5lc3skdHB7J2NvbnRleHQnfX07CiAKLQkJJGRi
eyRrZXl9LT57J2VuZCd9ID0gJHRpbWU7Ci0JCSRkYnska2V5fS0+eydub3RpZnknfSA9ICRub3Rp
Znl7JGdrZXl9IGlmIGV4aXN0cyAkbm90aWZ5eyRna2V5fTsKLQl9IGVsc2lmICgkdHBfbmFtZSBl
cSAnaTkxNTppbnRlbF9lbmdpbmVfbm90aWZ5OicpIHsKLQkJbXkgJGdrZXkgPSBnbG9iYWxfa2V5
KCRyaW5nLCAkc2Vxbm8pOworCQkkZ2tleSA9IGRiX2tleSgkY3R4ZW5naW5lc3skdHB7J2NvbnRl
eHQnfX0sICR0cHsnY29udGV4dCd9LCAkdHB7J3NlcW5vJ30pOwogCiAJCSRub3RpZnl7JGdrZXl9
ID0gJHRpbWUgdW5sZXNzIGV4aXN0cyAkbm90aWZ5eyRna2V5fTsKIAl9IGVsc2lmICgkdHBfbmFt
ZSBlcSAnaTkxNTppbnRlbF9ncHVfZnJlcV9jaGFuZ2U6JykgewpAQCAtNDUyLDcgKzQ2MSw3IEBA
IHdoaWxlICg8PikgewogIyBmaW5kIHRoZSBsYXJnZXN0IHNlcW5vIHRvIGJlIHVzZWQgZm9yIHRp
bWVsaW5lIHNvcnRpbmcgcHVycG9zZXMuCiBteSAkbWF4X3NlcW5vID0gMDsKIGZvcmVhY2ggbXkg
JGtleSAoa2V5cyAlZGIpIHsKLQlteSAkZ2tleSA9IGdsb2JhbF9rZXkoJGRieyRrZXl9LT57J3Jp
bmcnfSwgJGRieyRrZXl9LT57J2dsb2JhbCd9KTsKKwlteSAkZ2tleSA9IGRiX2tleSgkZGJ7JGtl
eX0tPnsncmluZyd9LCAkZGJ7JGtleX0tPnsnY3R4J30sICRkYnska2V5fS0+eydzZXFubyd9KTsK
IAogCWRpZSB1bmxlc3MgZXhpc3RzICRkYnska2V5fS0+eydzdGFydCd9OwogCkBAIC00NzgsMTQg
KzQ4NywxMyBAQCBteSAka2V5X2NvdW50ID0gc2NhbGFyKGtleXMgJWRiKTsKIAogbXkgJWVuZ2lu
ZV90aW1lbGluZXM7CiAKLXN1YiBzb3J0RW5naW5lIHsKLQlteSAkYXMgPSAkZGJ7JGF9LT57J2ds
b2JhbCd9OwotCW15ICRicyA9ICRkYnskYn0tPnsnZ2xvYmFsJ307CitzdWIgc29ydFN0YXJ0IHsK
KwlteSAkYXMgPSAkZGJ7JGF9LT57J3N0YXJ0J307CisJbXkgJGJzID0gJGRieyRifS0+eydzdGFy
dCd9OwogCW15ICR2YWw7CiAKIAkkdmFsID0gJGFzIDw9PiAkYnM7Ci0KLQlkaWUgaWYgJHZhbCA9
PSAwOworCSR2YWwgPSAkYSBjbXAgJGIgaWYgJHZhbCA9PSAwOwogCiAJcmV0dXJuICR2YWw7CiB9
CkBAIC00OTcsOSArNTA1LDcgQEAgc3ViIGdldF9lbmdpbmVfdGltZWxpbmUgewogCXJldHVybiAk
ZW5naW5lX3RpbWVsaW5lc3skcmluZ30gaWYgZXhpc3RzICRlbmdpbmVfdGltZWxpbmVzeyRyaW5n
fTsKIAogCUB0aW1lbGluZSA9IGdyZXAgeyAkZGJ7JF99LT57J3JpbmcnfSBlcSAkcmluZyB9IGtl
eXMgJWRiOwotCSMgRklYTUUgc2Vxbm8gcmVzdGFydAotCUB0aW1lbGluZSA9IHNvcnQgc29ydEVu
Z2luZSBAdGltZWxpbmU7Ci0KKwlAdGltZWxpbmUgPSBzb3J0IHNvcnRTdGFydCBAdGltZWxpbmU7
CiAJJGVuZ2luZV90aW1lbGluZXN7JHJpbmd9ID0gXEB0aW1lbGluZTsKIAogCXJldHVybiBcQHRp
bWVsaW5lOwpAQCAtNTYxLDIwICs1NjcsMTAgQEAgZm9yZWFjaCBteSAkZ2lkIChzb3J0IGtleXMg
JXJpbmdzKSB7CiAJCQkkZGJ7JGtleX0tPnsnbm8tbm90aWZ5J30gPSAxOwogCQl9CiAJCSRkYnsk
a2V5fS0+eydlbmQnfSA9ICRlbmQ7CisJCSRkYnska2V5fS0+eydub3RpZnknfSA9ICRlbmQgaWYg
JGRieyRrZXl9LT57J25vdGlmeSd9ID4gJGVuZDsKIAl9CiB9CiAKLXN1YiBzb3J0U3RhcnQgewot
CW15ICRhcyA9ICRkYnskYX0tPnsnc3RhcnQnfTsKLQlteSAkYnMgPSAkZGJ7JGJ9LT57J3N0YXJ0
J307Ci0JbXkgJHZhbDsKLQotCSR2YWwgPSAkYXMgPD0+ICRiczsKLQkkdmFsID0gJGEgY21wICRi
IGlmICR2YWwgPT0gMDsKLQotCXJldHVybiAkdmFsOwotfQotCiBteSAkcmVfc29ydCA9IDE7CiBt
eSBAc29ydGVkX2tleXM7CiAKQEAgLTY3MCw5ICs2NjYsMTMgQEAgaWYgKCRjb3JyZWN0X2R1cmF0
aW9ucykgewogCQkJbmV4dCB1bmxlc3MgZXhpc3RzICRkYnska2V5fS0+eyduby1lbmQnfTsKIAkJ
CWxhc3QgaWYgJHBvcyA9PSAkI3skdGltZWxpbmV9OwogCi0JCQkjIFNoaWZ0IGZvbGxvd2luZyBy
ZXF1ZXN0IHRvIHN0YXJ0IGFmdGVyIHRoZSBjdXJyZW50IG9uZQorCQkJIyBTaGlmdCBmb2xsb3dp
bmcgcmVxdWVzdCB0byBzdGFydCBhZnRlciB0aGUgY3VycmVudAorCQkJIyBvbmUsIGJ1dCBvbmx5
IGlmIHRoYXQgd291bGRuJ3QgbWFrZSBpdCB6ZXJvIGR1cmF0aW9uLAorCQkJIyB3aGljaCB3b3Vs
ZCBpbmRpY2F0ZSBub3RpZnkgYXJyaXZlZCBhZnRlciBjb250ZXh0CisJCQkjIGNvbXBsZXRlLgog
CQkJJG5leHRfa2V5ID0gJHskdGltZWxpbmV9WyRwb3MgKyAxXTsKLQkJCWlmIChleGlzdHMgJGRi
eyRrZXl9LT57J25vdGlmeSd9KSB7CisJCQlpZiAoZXhpc3RzICRkYnska2V5fS0+eydub3RpZnkn
fSBhbmQKKwkJCSAgICAkZGJ7JGtleX0tPnsnbm90aWZ5J30gPCAkZGJ7JGtleX0tPnsnZW5kJ30p
IHsKIAkJCQkkZGJ7JG5leHRfa2V5fS0+eydlbmdpbmUtc3RhcnQnfSA9ICRkYnskbmV4dF9rZXl9
LT57J3N0YXJ0J307CiAJCQkJJGRieyRuZXh0X2tleX0tPnsnc3RhcnQnfSA9ICRkYnska2V5fS0+
eydub3RpZnknfTsKIAkJCQkkcmVfc29ydCA9IDE7CkBAIC03NTAsOSArNzUwLDkgQEAgZm9yZWFj
aCBteSAkZ2lkIChzb3J0IGtleXMgJXJpbmdzKSB7CiAJIyBFeHRyYWN0IGFsbCBHUFUgYnVzeSBp
bnRlcnZhbHMgYW5kIHNvcnQgdGhlbS4KIAlmb3JlYWNoIG15ICRrZXkgKEBzb3J0ZWRfa2V5cykg
ewogCQluZXh0IHVubGVzcyAkZGJ7JGtleX0tPnsncmluZyd9IGVxICRyaW5nOworCQlkaWUgaWYg
JGRieyRrZXl9LT57J3N0YXJ0J30gPiAkZGJ7JGtleX0tPnsnZW5kJ307CiAJCXB1c2ggQHNfLCAk
ZGJ7JGtleX0tPnsnc3RhcnQnfTsKIAkJcHVzaCBAZV8sICRkYnska2V5fS0+eydlbmQnfTsKLQkJ
ZGllIGlmICRkYnska2V5fS0+eydzdGFydCd9ID4gJGRieyRrZXl9LT57J2VuZCd9OwogCX0KIAog
CWRpZSB1bmxlc3MgJCNzXyA9PSAkI2VfOwotLSAKMi4xOS4xCgpfX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fXwpJbnRlbC1nZnggbWFpbGluZyBsaXN0CkludGVs
LWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcv
bWFpbG1hbi9saXN0aW5mby9pbnRlbC1nZng=

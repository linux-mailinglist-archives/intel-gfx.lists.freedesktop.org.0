Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 9B039CFFDA
	for <lists+intel-gfx@lfdr.de>; Tue,  8 Oct 2019 19:29:10 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id D4EAA6E87B;
	Tue,  8 Oct 2019 17:29:08 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga09.intel.com (mga09.intel.com [134.134.136.24])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 132BA6E87B
 for <intel-gfx@lists.freedesktop.org>; Tue,  8 Oct 2019 17:29:07 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga003.jf.intel.com ([10.7.209.27])
 by orsmga102.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 08 Oct 2019 10:29:06 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.67,272,1566889200"; d="scan'208";a="196659448"
Received: from mdroper-desk1.fm.intel.com ([10.1.27.135])
 by orsmga003.jf.intel.com with ESMTP; 08 Oct 2019 10:29:06 -0700
From: Matt Roper <matthew.d.roper@intel.com>
To: intel-gfx@lists.freedesktop.org
Date: Tue,  8 Oct 2019 10:29:20 -0700
Message-Id: <20191008172920.11362-1-matthew.d.roper@intel.com>
X-Mailer: git-send-email 2.21.0
In-Reply-To: <20191008161252.1411-1-matthew.d.roper@intel.com>
References: <20191008161252.1411-1-matthew.d.roper@intel.com>
MIME-Version: 1.0
Subject: [Intel-gfx] [CI] drm/i915: Select DPLL's via mask
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: Lucas De Marchi <lucas.demarchi@intel.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

VGhpcyBzbGlnaHRseSBzaW1wbGlmaWVzIHRoZSBFSEwgRFBMTDQgaGFuZGxpbmcgYW5kIGFsc28g
Z2l2ZXMgdXMgbW9yZQpmbGV4aWJpbGl0eSBpbiB0aGUgZnV0dXJlIGluIGNhc2Ugd2UgbmVlZCB0
byBza2lwIHRoZSB1c2Ugb2Ygc3BlY2lmaWMKUExMJ3MgKGUuZy4sIGR1ZSB0byBoYXJkd2FyZSB3
b3JrYXJvdW5kcyBhbmQgc3VjaCkuCgp2MjoKIC0gUmVwbGFjZSBHRU5NQVNLKCkgd2l0aCBvcidk
IEJJVCgpJ3MgdG8gbWFrZSB0aGUgc3BlY2lmaWMgRFBMTHMgbW9yZQogICBleHBsaWNpdC4gIChW
aWxsZSkKIC0gcy91bnNpZ25lZC91bnNpZ25lZCBsb25nLy4gIChMdWNhcykKCkNjOiBMdWNhcyBE
ZSBNYXJjaGkgPGx1Y2FzLmRlbWFyY2hpQGludGVsLmNvbT4KU2lnbmVkLW9mZi1ieTogTWF0dCBS
b3BlciA8bWF0dGhldy5kLnJvcGVyQGludGVsLmNvbT4KUmV2aWV3ZWQtYnk6IEx1Y2FzIERlIE1h
cmNoaSA8bHVjYXMuZGVtYXJjaGlAaW50ZWwuY29tPgpSZXZpZXdlZC1ieTogVmlsbGUgU3lyasOk
bMOkIDx2aWxsZS5zeXJqYWxhQGxpbnV4LmludGVsLmNvbT4KLS0tCiBkcml2ZXJzL2dwdS9kcm0v
aTkxNS9kaXNwbGF5L2ludGVsX2RwbGxfbWdyLmMgfCA0OCArKysrKysrKysrLS0tLS0tLS0tCiAx
IGZpbGUgY2hhbmdlZCwgMjYgaW5zZXJ0aW9ucygrKSwgMjIgZGVsZXRpb25zKC0pCgpkaWZmIC0t
Z2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kcGxsX21nci5jIGIvZHJp
dmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kcGxsX21nci5jCmluZGV4IDVlOWU4NGM5
NGExNS4uZWMxMGZhN2QzYzY5IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNw
bGF5L2ludGVsX2RwbGxfbWdyLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9p
bnRlbF9kcGxsX21nci5jCkBAIC0yNDcsOCArMjQ3LDcgQEAgc3RhdGljIHN0cnVjdCBpbnRlbF9z
aGFyZWRfZHBsbCAqCiBpbnRlbF9maW5kX3NoYXJlZF9kcGxsKHN0cnVjdCBpbnRlbF9hdG9taWNf
c3RhdGUgKnN0YXRlLAogCQkgICAgICAgY29uc3Qgc3RydWN0IGludGVsX2NydGMgKmNydGMsCiAJ
CSAgICAgICBjb25zdCBzdHJ1Y3QgaW50ZWxfZHBsbF9od19zdGF0ZSAqcGxsX3N0YXRlLAotCQkg
ICAgICAgZW51bSBpbnRlbF9kcGxsX2lkIHJhbmdlX21pbiwKLQkJICAgICAgIGVudW0gaW50ZWxf
ZHBsbF9pZCByYW5nZV9tYXgpCisJCSAgICAgICB1bnNpZ25lZCBsb25nIGRwbGxfbWFzaykKIHsK
IAlzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYgPSB0b19pOTE1KGNydGMtPmJhc2Uu
ZGV2KTsKIAlzdHJ1Y3QgaW50ZWxfc2hhcmVkX2RwbGwgKnBsbCwgKnVudXNlZF9wbGwgPSBOVUxM
OwpAQCAtMjU3LDcgKzI1Niw5IEBAIGludGVsX2ZpbmRfc2hhcmVkX2RwbGwoc3RydWN0IGludGVs
X2F0b21pY19zdGF0ZSAqc3RhdGUsCiAKIAlzaGFyZWRfZHBsbCA9IGludGVsX2F0b21pY19nZXRf
c2hhcmVkX2RwbGxfc3RhdGUoJnN0YXRlLT5iYXNlKTsKIAotCWZvciAoaSA9IHJhbmdlX21pbjsg
aSA8PSByYW5nZV9tYXg7IGkrKykgeworCVdBUk5fT04oZHBsbF9tYXNrICYgfihCSVQoSTkxNV9O
VU1fUExMUykgLSAxKSk7CisKKwlmb3JfZWFjaF9zZXRfYml0KGksICZkcGxsX21hc2ssIEk5MTVf
TlVNX1BMTFMpIHsKIAkJcGxsID0gJmRldl9wcml2LT5zaGFyZWRfZHBsbHNbaV07CiAKIAkJLyog
T25seSB3YW50IHRvIGNoZWNrIGVuYWJsZWQgdGltaW5ncyBmaXJzdCAqLwpAQCAtNDY0LDggKzQ2
NSw4IEBAIHN0YXRpYyBib29sIGlieF9nZXRfZHBsbChzdHJ1Y3QgaW50ZWxfYXRvbWljX3N0YXRl
ICpzdGF0ZSwKIAl9IGVsc2UgewogCQlwbGwgPSBpbnRlbF9maW5kX3NoYXJlZF9kcGxsKHN0YXRl
LCBjcnRjLAogCQkJCQkgICAgICZjcnRjX3N0YXRlLT5kcGxsX2h3X3N0YXRlLAotCQkJCQkgICAg
IERQTExfSURfUENIX1BMTF9BLAotCQkJCQkgICAgIERQTExfSURfUENIX1BMTF9CKTsKKwkJCQkJ
ICAgICBCSVQoRFBMTF9JRF9QQ0hfUExMX0IpIHwKKwkJCQkJICAgICBCSVQoRFBMTF9JRF9QQ0hf
UExMX0EpKTsKIAl9CiAKIAlpZiAoIXBsbCkKQEAgLTgxNCw3ICs4MTUsOCBAQCBoc3dfZGRpX2hk
bWlfZ2V0X2RwbGwoc3RydWN0IGludGVsX2F0b21pY19zdGF0ZSAqc3RhdGUsCiAKIAlwbGwgPSBp
bnRlbF9maW5kX3NoYXJlZF9kcGxsKHN0YXRlLCBjcnRjLAogCQkJCSAgICAgJmNydGNfc3RhdGUt
PmRwbGxfaHdfc3RhdGUsCi0JCQkJICAgICBEUExMX0lEX1dSUExMMSwgRFBMTF9JRF9XUlBMTDIp
OworCQkJCSAgICAgQklUKERQTExfSURfV1JQTEwyKSB8CisJCQkJICAgICBCSVQoRFBMTF9JRF9X
UlBMTDEpKTsKIAogCWlmICghcGxsKQogCQlyZXR1cm4gTlVMTDsKQEAgLTg3Nyw3ICs4NzksNyBA
QCBzdGF0aWMgYm9vbCBoc3dfZ2V0X2RwbGwoc3RydWN0IGludGVsX2F0b21pY19zdGF0ZSAqc3Rh
dGUsCiAKIAkJcGxsID0gaW50ZWxfZmluZF9zaGFyZWRfZHBsbChzdGF0ZSwgY3J0YywKIAkJCQkJ
ICAgICAmY3J0Y19zdGF0ZS0+ZHBsbF9od19zdGF0ZSwKLQkJCQkJICAgICBEUExMX0lEX1NQTEws
IERQTExfSURfU1BMTCk7CisJCQkJCSAgICAgQklUKERQTExfSURfU1BMTCkpOwogCX0gZWxzZSB7
CiAJCXJldHVybiBmYWxzZTsKIAl9CkBAIC0xNDQ3LDEzICsxNDQ5LDEzIEBAIHN0YXRpYyBib29s
IHNrbF9nZXRfZHBsbChzdHJ1Y3QgaW50ZWxfYXRvbWljX3N0YXRlICpzdGF0ZSwKIAlpZiAoaW50
ZWxfY3J0Y19oYXNfdHlwZShjcnRjX3N0YXRlLCBJTlRFTF9PVVRQVVRfRURQKSkKIAkJcGxsID0g
aW50ZWxfZmluZF9zaGFyZWRfZHBsbChzdGF0ZSwgY3J0YywKIAkJCQkJICAgICAmY3J0Y19zdGF0
ZS0+ZHBsbF9od19zdGF0ZSwKLQkJCQkJICAgICBEUExMX0lEX1NLTF9EUExMMCwKLQkJCQkJICAg
ICBEUExMX0lEX1NLTF9EUExMMCk7CisJCQkJCSAgICAgQklUKERQTExfSURfU0tMX0RQTEwwKSk7
CiAJZWxzZQogCQlwbGwgPSBpbnRlbF9maW5kX3NoYXJlZF9kcGxsKHN0YXRlLCBjcnRjLAogCQkJ
CQkgICAgICZjcnRjX3N0YXRlLT5kcGxsX2h3X3N0YXRlLAotCQkJCQkgICAgIERQTExfSURfU0tM
X0RQTEwxLAotCQkJCQkgICAgIERQTExfSURfU0tMX0RQTEwzKTsKKwkJCQkJICAgICBCSVQoRFBM
TF9JRF9TS0xfRFBMTDMpIHwKKwkJCQkJICAgICBCSVQoRFBMTF9JRF9TS0xfRFBMTDIpIHwKKwkJ
CQkJICAgICBCSVQoRFBMTF9JRF9TS0xfRFBMTDEpKTsKIAlpZiAoIXBsbCkKIAkJcmV0dXJuIGZh
bHNlOwogCkBAIC0yNDAxLDggKzI0MDMsOSBAQCBzdGF0aWMgYm9vbCBjbmxfZ2V0X2RwbGwoc3Ry
dWN0IGludGVsX2F0b21pY19zdGF0ZSAqc3RhdGUsCiAKIAlwbGwgPSBpbnRlbF9maW5kX3NoYXJl
ZF9kcGxsKHN0YXRlLCBjcnRjLAogCQkJCSAgICAgJmNydGNfc3RhdGUtPmRwbGxfaHdfc3RhdGUs
Ci0JCQkJICAgICBEUExMX0lEX1NLTF9EUExMMCwKLQkJCQkgICAgIERQTExfSURfU0tMX0RQTEwy
KTsKKwkJCQkgICAgIEJJVChEUExMX0lEX1NLTF9EUExMMikgfAorCQkJCSAgICAgQklUKERQTExf
SURfU0tMX0RQTEwxKSB8CisJCQkJICAgICBCSVQoRFBMTF9JRF9TS0xfRFBMTDApKTsKIAlpZiAo
IXBsbCkgewogCQlEUk1fREVCVUdfS01TKCJObyBQTEwgc2VsZWN0ZWRcbiIpOwogCQlyZXR1cm4g
ZmFsc2U7CkBAIC0yOTc1LDcgKzI5NzgsNyBAQCBzdGF0aWMgYm9vbCBpY2xfZ2V0X2NvbWJvX3Bo
eV9kcGxsKHN0cnVjdCBpbnRlbF9hdG9taWNfc3RhdGUgKnN0YXRlLAogCQkmY3J0Y19zdGF0ZS0+
aWNsX3BvcnRfZHBsbHNbSUNMX1BPUlRfRFBMTF9ERUZBVUxUXTsKIAlzdHJ1Y3QgZHJtX2k5MTVf
cHJpdmF0ZSAqZGV2X3ByaXYgPSB0b19pOTE1KGNydGMtPmJhc2UuZGV2KTsKIAllbnVtIHBvcnQg
cG9ydCA9IGVuY29kZXItPnBvcnQ7Ci0JYm9vbCBoYXNfZHBsbDQgPSBmYWxzZTsKKwl1bnNpZ25l
ZCBsb25nIGRwbGxfbWFzazsKIAogCWlmICghaWNsX2NhbGNfZHBsbF9zdGF0ZShjcnRjX3N0YXRl
LCBlbmNvZGVyLCAmcG9ydF9kcGxsLT5od19zdGF0ZSkpIHsKIAkJRFJNX0RFQlVHX0tNUygiQ291
bGQgbm90IGNhbGN1bGF0ZSBjb21ibyBQSFkgUExMIHN0YXRlLlxuIik7CkBAIC0yOTg0LDEzICsy
OTg3LDE2IEBAIHN0YXRpYyBib29sIGljbF9nZXRfY29tYm9fcGh5X2RwbGwoc3RydWN0IGludGVs
X2F0b21pY19zdGF0ZSAqc3RhdGUsCiAJfQogCiAJaWYgKElTX0VMS0hBUlRMQUtFKGRldl9wcml2
KSAmJiBwb3J0ICE9IFBPUlRfQSkKLQkJaGFzX2RwbGw0ID0gdHJ1ZTsKKwkJZHBsbF9tYXNrID0K
KwkJCUJJVChEUExMX0lEX0VITF9EUExMNCkgfAorCQkJQklUKERQTExfSURfSUNMX0RQTEwxKSB8
CisJCQlCSVQoRFBMTF9JRF9JQ0xfRFBMTDApOworCWVsc2UKKwkJZHBsbF9tYXNrID0gQklUKERQ
TExfSURfSUNMX0RQTEwxKSB8IEJJVChEUExMX0lEX0lDTF9EUExMMCk7CiAKIAlwb3J0X2RwbGwt
PnBsbCA9IGludGVsX2ZpbmRfc2hhcmVkX2RwbGwoc3RhdGUsIGNydGMsCiAJCQkJCQkmcG9ydF9k
cGxsLT5od19zdGF0ZSwKLQkJCQkJCURQTExfSURfSUNMX0RQTEwwLAotCQkJCQkJaGFzX2RwbGw0
ID8gRFBMTF9JRF9FSExfRFBMTDQKLQkJCQkJCQkgIDogRFBMTF9JRF9JQ0xfRFBMTDEpOworCQkJ
CQkJZHBsbF9tYXNrKTsKIAlpZiAoIXBvcnRfZHBsbC0+cGxsKSB7CiAJCURSTV9ERUJVR19LTVMo
Ik5vIGNvbWJvIFBIWSBQTEwgZm91bmQgZm9yIFtFTkNPREVSOiVkOiVzXVxuIiwKIAkJCSAgICAg
IGVuY29kZXItPmJhc2UuYmFzZS5pZCwgZW5jb2Rlci0+YmFzZS5uYW1lKTsKQEAgLTMwMjMsOCAr
MzAyOSw3IEBAIHN0YXRpYyBib29sIGljbF9nZXRfdGNfcGh5X2RwbGxzKHN0cnVjdCBpbnRlbF9h
dG9taWNfc3RhdGUgKnN0YXRlLAogCiAJcG9ydF9kcGxsLT5wbGwgPSBpbnRlbF9maW5kX3NoYXJl
ZF9kcGxsKHN0YXRlLCBjcnRjLAogCQkJCQkJJnBvcnRfZHBsbC0+aHdfc3RhdGUsCi0JCQkJCQlE
UExMX0lEX0lDTF9UQlRQTEwsCi0JCQkJCQlEUExMX0lEX0lDTF9UQlRQTEwpOworCQkJCQkJQklU
KERQTExfSURfSUNMX1RCVFBMTCkpOwogCWlmICghcG9ydF9kcGxsLT5wbGwpIHsKIAkJRFJNX0RF
QlVHX0tNUygiTm8gVEJULUFMVCBQTEwgZm91bmRcbiIpOwogCQlyZXR1cm4gZmFsc2U7CkBAIC0z
MDQzLDggKzMwNDgsNyBAQCBzdGF0aWMgYm9vbCBpY2xfZ2V0X3RjX3BoeV9kcGxscyhzdHJ1Y3Qg
aW50ZWxfYXRvbWljX3N0YXRlICpzdGF0ZSwKIAkJCQkJCQkgZW5jb2Rlci0+cG9ydCkpOwogCXBv
cnRfZHBsbC0+cGxsID0gaW50ZWxfZmluZF9zaGFyZWRfZHBsbChzdGF0ZSwgY3J0YywKIAkJCQkJ
CSZwb3J0X2RwbGwtPmh3X3N0YXRlLAotCQkJCQkJZHBsbF9pZCwKLQkJCQkJCWRwbGxfaWQpOwor
CQkJCQkJQklUKGRwbGxfaWQpKTsKIAlpZiAoIXBvcnRfZHBsbC0+cGxsKSB7CiAJCURSTV9ERUJV
R19LTVMoIk5vIE1HIFBIWSBQTEwgZm91bmRcbiIpOwogCQlnb3RvIGVycl91bnJlZmVyZW5jZV90
YnRfcGxsOwotLSAKMi4yMS4wCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fXwpJbnRlbC1nZnggbWFpbGluZyBsaXN0CkludGVsLWdmeEBsaXN0cy5mcmVlZGVz
a3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9p
bnRlbC1nZng=

Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 006CBCC14D
	for <lists+intel-gfx@lfdr.de>; Fri,  4 Oct 2019 19:05:19 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id B9BD06EBEE;
	Fri,  4 Oct 2019 17:05:16 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga01.intel.com (mga01.intel.com [192.55.52.88])
 by gabe.freedesktop.org (Postfix) with ESMTPS id F3AEB6EBEF
 for <intel-gfx@lists.freedesktop.org>; Fri,  4 Oct 2019 17:05:13 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from fmsmga002.fm.intel.com ([10.253.24.26])
 by fmsmga101.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 04 Oct 2019 10:05:13 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.67,256,1566889200"; d="scan'208";a="222216113"
Received: from bkokkula-mobl1.ger.corp.intel.com (HELO
 mwahaha-bdw.ger.corp.intel.com) ([10.252.7.77])
 by fmsmga002.fm.intel.com with ESMTP; 04 Oct 2019 10:05:12 -0700
From: Matthew Auld <matthew.auld@intel.com>
To: intel-gfx@lists.freedesktop.org
Date: Fri,  4 Oct 2019 18:04:44 +0100
Message-Id: <20191004170452.15410-14-matthew.auld@intel.com>
X-Mailer: git-send-email 2.20.1
In-Reply-To: <20191004170452.15410-1-matthew.auld@intel.com>
References: <20191004170452.15410-1-matthew.auld@intel.com>
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH v3 13/21] drm/i915: treat stolen as a region
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

Q29udmVydCBzdG9sZW4gbWVtb3J5IG92ZXIgdG8gYSByZWdpb24gb2JqZWN0LiBTdGlsbCBsZWF2
ZXMgb3BlbiB0aGUKcXVlc3Rpb24gd2l0aCB3aGF0IHRvIGRvIHdpdGggcHJlLWFsbG9jYXRlZCBv
YmplY3RzLi4uCgpTaWduZWQtb2ZmLWJ5OiBNYXR0aGV3IEF1bGQgPG1hdHRoZXcuYXVsZEBpbnRl
bC5jb20+CkNjOiBKb29uYXMgTGFodGluZW4gPGpvb25hcy5sYWh0aW5lbkBsaW51eC5pbnRlbC5j
b20+CkNjOiBBYmRpZWwgSmFudWxndWUgPGFiZGllbC5qYW51bGd1ZUBsaW51eC5pbnRlbC5jb20+
Ci0tLQogZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX3N0b2xlbi5jIHwgNjUgKysr
KysrKysrKysrKysrKysrKy0tLQogZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX3N0
b2xlbi5oIHwgIDMgKy0KIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZ2VtX2d0dC5jICAgICAg
ICB8IDE0ICstLS0tCiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3BjaS5jICAgICAgICAgICAg
fCAgMiArLQogNCBmaWxlcyBjaGFuZ2VkLCA2MSBpbnNlcnRpb25zKCspLCAyMyBkZWxldGlvbnMo
LSkKCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fc3RvbGVu
LmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fc3RvbGVuLmMKaW5kZXggMmEz
NDM1NWI3MzhmLi5hNDUyZjk5MmU3MWMgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1
L2dlbS9pOTE1X2dlbV9zdG9sZW4uYworKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkx
NV9nZW1fc3RvbGVuLmMKQEAgLTEwLDYgKzEwLDcgQEAKICNpbmNsdWRlIDxkcm0vZHJtX21tLmg+
CiAjaW5jbHVkZSA8ZHJtL2k5MTVfZHJtLmg+CiAKKyNpbmNsdWRlICJnZW0vaTkxNV9nZW1fcmVn
aW9uLmgiCiAjaW5jbHVkZSAiaTkxNV9kcnYuaCIKICNpbmNsdWRlICJpOTE1X2dlbV9zdG9sZW4u
aCIKIApAQCAtMTUwLDcgKzE1MSw3IEBAIHN0YXRpYyBpbnQgaTkxNV9hZGp1c3Rfc3RvbGVuKHN0
cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiwKIAlyZXR1cm4gMDsKIH0KIAotdm9pZCBp
OTE1X2dlbV9jbGVhbnVwX3N0b2xlbihzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYp
CitzdGF0aWMgdm9pZCBpOTE1X2dlbV9jbGVhbnVwX3N0b2xlbihzdHJ1Y3QgZHJtX2k5MTVfcHJp
dmF0ZSAqZGV2X3ByaXYpCiB7CiAJaWYgKCFkcm1fbW1faW5pdGlhbGl6ZWQoJmRldl9wcml2LT5t
bS5zdG9sZW4pKQogCQlyZXR1cm47CkBAIC0zNTUsNyArMzU2LDcgQEAgc3RhdGljIHZvaWQgaWNs
X2dldF9zdG9sZW5fcmVzZXJ2ZWQoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUsCiAJfQog
fQogCi1pbnQgaTkxNV9nZW1faW5pdF9zdG9sZW4oc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRl
dl9wcml2KQorc3RhdGljIGludCBpOTE1X2dlbV9pbml0X3N0b2xlbihzdHJ1Y3QgZHJtX2k5MTVf
cHJpdmF0ZSAqZGV2X3ByaXYpCiB7CiAJcmVzb3VyY2Vfc2l6ZV90IHJlc2VydmVkX2Jhc2UsIHN0
b2xlbl90b3A7CiAJcmVzb3VyY2Vfc2l6ZV90IHJlc2VydmVkX3RvdGFsLCByZXNlcnZlZF9zaXpl
OwpAQCAtNTM5LDYgKzU0MCw5IEBAIGk5MTVfZ2VtX29iamVjdF9yZWxlYXNlX3N0b2xlbihzdHJ1
Y3QgZHJtX2k5MTVfZ2VtX29iamVjdCAqb2JqKQogCiAJaTkxNV9nZW1fc3RvbGVuX3JlbW92ZV9u
b2RlKGRldl9wcml2LCBzdG9sZW4pOwogCWtmcmVlKHN0b2xlbik7CisKKwlpZiAob2JqLT5tbS5y
ZWdpb24pCisJCWk5MTVfZ2VtX29iamVjdF9yZWxlYXNlX21lbW9yeV9yZWdpb24ob2JqKTsKIH0K
IAogc3RhdGljIGNvbnN0IHN0cnVjdCBkcm1faTkxNV9nZW1fb2JqZWN0X29wcyBpOTE1X2dlbV9v
YmplY3Rfc3RvbGVuX29wcyA9IHsKQEAgLTU0OCw4ICs1NTIsOSBAQCBzdGF0aWMgY29uc3Qgc3Ry
dWN0IGRybV9pOTE1X2dlbV9vYmplY3Rfb3BzIGk5MTVfZ2VtX29iamVjdF9zdG9sZW5fb3BzID0g
ewogfTsKIAogc3RhdGljIHN0cnVjdCBkcm1faTkxNV9nZW1fb2JqZWN0ICoKLV9pOTE1X2dlbV9v
YmplY3RfY3JlYXRlX3N0b2xlbihzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYsCi0J
CQkgICAgICAgc3RydWN0IGRybV9tbV9ub2RlICpzdG9sZW4pCitfX2k5MTVfZ2VtX29iamVjdF9j
cmVhdGVfc3RvbGVuKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiwKKwkJCQlzdHJ1
Y3QgZHJtX21tX25vZGUgKnN0b2xlbiwKKwkJCQlzdHJ1Y3QgaW50ZWxfbWVtb3J5X3JlZ2lvbiAq
bWVtKQogewogCXN0cnVjdCBkcm1faTkxNV9nZW1fb2JqZWN0ICpvYmo7CiAJdW5zaWduZWQgaW50
IGNhY2hlX2xldmVsOwpAQCAtNTY2LDYgKzU3MSw5IEBAIF9pOTE1X2dlbV9vYmplY3RfY3JlYXRl
X3N0b2xlbihzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYsCiAJY2FjaGVfbGV2ZWwg
PSBIQVNfTExDKGRldl9wcml2KSA/IEk5MTVfQ0FDSEVfTExDIDogSTkxNV9DQUNIRV9OT05FOwog
CWk5MTVfZ2VtX29iamVjdF9zZXRfY2FjaGVfY29oZXJlbmN5KG9iaiwgY2FjaGVfbGV2ZWwpOwog
CisJaWYgKG1lbSkKKwkJaTkxNV9nZW1fb2JqZWN0X2luaXRfbWVtb3J5X3JlZ2lvbihvYmosIG1l
bSwgMCk7CisKIAlpZiAoaTkxNV9nZW1fb2JqZWN0X3Bpbl9wYWdlcyhvYmopKQogCQlnb3RvIGNs
ZWFudXA7CiAKQEAgLTU3NiwxMCArNTg0LDEyIEBAIF9pOTE1X2dlbV9vYmplY3RfY3JlYXRlX3N0
b2xlbihzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYsCiAJcmV0dXJuIE5VTEw7CiB9
CiAKLXN0cnVjdCBkcm1faTkxNV9nZW1fb2JqZWN0ICoKLWk5MTVfZ2VtX29iamVjdF9jcmVhdGVf
c3RvbGVuKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiwKLQkJCSAgICAgIHJlc291
cmNlX3NpemVfdCBzaXplKQorc3RhdGljIHN0cnVjdCBkcm1faTkxNV9nZW1fb2JqZWN0ICoKK19p
OTE1X2dlbV9vYmplY3RfY3JlYXRlX3N0b2xlbihzdHJ1Y3QgaW50ZWxfbWVtb3J5X3JlZ2lvbiAq
bWVtLAorCQkJICAgICAgIHJlc291cmNlX3NpemVfdCBzaXplLAorCQkJICAgICAgIHVuc2lnbmVk
IGludCBmbGFncykKIHsKKwlzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYgPSBtZW0t
Pmk5MTU7CiAJc3RydWN0IGRybV9pOTE1X2dlbV9vYmplY3QgKm9iajsKIAlzdHJ1Y3QgZHJtX21t
X25vZGUgKnN0b2xlbjsKIAlpbnQgcmV0OwpAQCAtNTk4LDcgKzYwOCw3IEBAIGk5MTVfZ2VtX29i
amVjdF9jcmVhdGVfc3RvbGVuKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiwKIAlp
ZiAocmV0KQogCQlnb3RvIGVycl9mcmVlOwogCi0Jb2JqID0gX2k5MTVfZ2VtX29iamVjdF9jcmVh
dGVfc3RvbGVuKGRldl9wcml2LCBzdG9sZW4pOworCW9iaiA9IF9faTkxNV9nZW1fb2JqZWN0X2Ny
ZWF0ZV9zdG9sZW4oZGV2X3ByaXYsIHN0b2xlbiwgbWVtKTsKIAlpZiAob2JqID09IE5VTEwpIHsK
IAkJcmV0ID0gLUVOT01FTTsKIAkJZ290byBlcnJfcmVtb3ZlOwpAQCAtNjEzLDYgKzYyMyw0MyBA
QCBpOTE1X2dlbV9vYmplY3RfY3JlYXRlX3N0b2xlbihzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAq
ZGV2X3ByaXYsCiAJcmV0dXJuIEVSUl9QVFIocmV0KTsKIH0KIAorc3RydWN0IGRybV9pOTE1X2dl
bV9vYmplY3QgKgoraTkxNV9nZW1fb2JqZWN0X2NyZWF0ZV9zdG9sZW4oc3RydWN0IGRybV9pOTE1
X3ByaXZhdGUgKmRldl9wcml2LAorCQkJICAgICAgcmVzb3VyY2Vfc2l6ZV90IHNpemUpCit7CisJ
cmV0dXJuIGk5MTVfZ2VtX29iamVjdF9jcmVhdGVfcmVnaW9uKGRldl9wcml2LT5tbS5yZWdpb25z
W0lOVEVMX01FTU9SWV9TVE9MRU5dLAorCQkJCQkgICAgIHNpemUsIEk5MTVfQk9fQUxMT0NfQ09O
VElHVU9VUyk7Cit9CisKK3N0YXRpYyBpbnQgaW5pdF9zdG9sZW4oc3RydWN0IGludGVsX21lbW9y
eV9yZWdpb24gKm1lbSkKK3sKKwkvKgorCSAqIEluaXRpYWxpc2Ugc3RvbGVuIGVhcmx5IHNvIHRo
YXQgd2UgbWF5IHJlc2VydmUgcHJlYWxsb2NhdGVkCisJICogb2JqZWN0cyBmb3IgdGhlIEJJT1Mg
dG8gS01TIHRyYW5zaXRpb24uCisJICovCisJcmV0dXJuIGk5MTVfZ2VtX2luaXRfc3RvbGVuKG1l
bS0+aTkxNSk7Cit9CisKK3N0YXRpYyB2b2lkIHJlbGVhc2Vfc3RvbGVuKHN0cnVjdCBpbnRlbF9t
ZW1vcnlfcmVnaW9uICptZW0pCit7CisJaTkxNV9nZW1fY2xlYW51cF9zdG9sZW4obWVtLT5pOTE1
KTsKK30KKworc3RhdGljIGNvbnN0IHN0cnVjdCBpbnRlbF9tZW1vcnlfcmVnaW9uX29wcyBpOTE1
X3JlZ2lvbl9zdG9sZW5fb3BzID0geworCS5pbml0ID0gaW5pdF9zdG9sZW4sCisJLnJlbGVhc2Ug
PSByZWxlYXNlX3N0b2xlbiwKKwkuY3JlYXRlX29iamVjdCA9IF9pOTE1X2dlbV9vYmplY3RfY3Jl
YXRlX3N0b2xlbiwKK307CisKK3N0cnVjdCBpbnRlbF9tZW1vcnlfcmVnaW9uICppOTE1X2dlbV9z
dG9sZW5fc2V0dXAoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUpCit7CisJcmV0dXJuIGlu
dGVsX21lbW9yeV9yZWdpb25fY3JlYXRlKGk5MTUsCisJCQkJCSAgaW50ZWxfZ3JhcGhpY3Nfc3Rv
bGVuX3Jlcy5zdGFydCwKKwkJCQkJICByZXNvdXJjZV9zaXplKCZpbnRlbF9ncmFwaGljc19zdG9s
ZW5fcmVzKSwKKwkJCQkJICBJOTE1X0dUVF9QQUdFX1NJWkVfNEssIDAsCisJCQkJCSAgJmk5MTVf
cmVnaW9uX3N0b2xlbl9vcHMpOworfQorCiBzdHJ1Y3QgZHJtX2k5MTVfZ2VtX29iamVjdCAqCiBp
OTE1X2dlbV9vYmplY3RfY3JlYXRlX3N0b2xlbl9mb3JfcHJlYWxsb2NhdGVkKHN0cnVjdCBkcm1f
aTkxNV9wcml2YXRlICpkZXZfcHJpdiwKIAkJCQkJICAgICAgIHJlc291cmNlX3NpemVfdCBzdG9s
ZW5fb2Zmc2V0LApAQCAtNjUyLDcgKzY5OSw3IEBAIGk5MTVfZ2VtX29iamVjdF9jcmVhdGVfc3Rv
bGVuX2Zvcl9wcmVhbGxvY2F0ZWQoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2CiAJ
CXJldHVybiBFUlJfUFRSKHJldCk7CiAJfQogCi0Jb2JqID0gX2k5MTVfZ2VtX29iamVjdF9jcmVh
dGVfc3RvbGVuKGRldl9wcml2LCBzdG9sZW4pOworCW9iaiA9IF9faTkxNV9nZW1fb2JqZWN0X2Ny
ZWF0ZV9zdG9sZW4oZGV2X3ByaXYsIHN0b2xlbiwgTlVMTCk7CiAJaWYgKG9iaiA9PSBOVUxMKSB7
CiAJCURSTV9ERUJVR19EUklWRVIoImZhaWxlZCB0byBhbGxvY2F0ZSBzdG9sZW4gb2JqZWN0XG4i
KTsKIAkJaTkxNV9nZW1fc3RvbGVuX3JlbW92ZV9ub2RlKGRldl9wcml2LCBzdG9sZW4pOwpkaWZm
IC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX3N0b2xlbi5oIGIvZHJp
dmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX3N0b2xlbi5oCmluZGV4IDIyODk2NDRkODYw
NC4uYzEwNDA2MjdmYmYzIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkx
NV9nZW1fc3RvbGVuLmgKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX3N0
b2xlbi5oCkBAIC0yMSw4ICsyMSw3IEBAIGludCBpOTE1X2dlbV9zdG9sZW5faW5zZXJ0X25vZGVf
aW5fcmFuZ2Uoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2LAogCQkJCQkgdTY0IGVu
ZCk7CiB2b2lkIGk5MTVfZ2VtX3N0b2xlbl9yZW1vdmVfbm9kZShzdHJ1Y3QgZHJtX2k5MTVfcHJp
dmF0ZSAqZGV2X3ByaXYsCiAJCQkJIHN0cnVjdCBkcm1fbW1fbm9kZSAqbm9kZSk7Ci1pbnQgaTkx
NV9nZW1faW5pdF9zdG9sZW4oc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2KTsKLXZv
aWQgaTkxNV9nZW1fY2xlYW51cF9zdG9sZW4oc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9w
cml2KTsKK3N0cnVjdCBpbnRlbF9tZW1vcnlfcmVnaW9uICppOTE1X2dlbV9zdG9sZW5fc2V0dXAo
c3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUpOwogc3RydWN0IGRybV9pOTE1X2dlbV9vYmpl
Y3QgKgogaTkxNV9nZW1fb2JqZWN0X2NyZWF0ZV9zdG9sZW4oc3RydWN0IGRybV9pOTE1X3ByaXZh
dGUgKmRldl9wcml2LAogCQkJICAgICAgcmVzb3VyY2Vfc2l6ZV90IHNpemUpOwpkaWZmIC0tZ2l0
IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9nZW1fZ3R0LmMgYi9kcml2ZXJzL2dwdS9kcm0v
aTkxNS9pOTE1X2dlbV9ndHQuYwppbmRleCAzMmVlMjIwZDI4MzcuLjQ0OTAwNTk2ZmVjNiAxMDA2
NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9nZW1fZ3R0LmMKKysrIGIvZHJpdmVy
cy9ncHUvZHJtL2k5MTUvaTkxNV9nZW1fZ3R0LmMKQEAgLTI3NDgsOCArMjc0OCw2IEBAIHZvaWQg
aTkxNV9nZW1fY2xlYW51cF9tZW1vcnlfcmVnaW9ucyhzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAq
aTkxNSkKIHsKIAlpbnQgaTsKIAotCWk5MTVfZ2VtX2NsZWFudXBfc3RvbGVuKGk5MTUpOwotCiAJ
Zm9yIChpID0gMDsgaSA8IEFSUkFZX1NJWkUoaTkxNS0+bW0ucmVnaW9ucyk7IGkrKykgewogCQlz
dHJ1Y3QgaW50ZWxfbWVtb3J5X3JlZ2lvbiAqcmVnaW9uID0gaTkxNS0+bW0ucmVnaW9uc1tpXTsK
IApAQCAtMjc2MiwxNSArMjc2MCw2IEBAIGludCBpOTE1X2dlbV9pbml0X21lbW9yeV9yZWdpb25z
KHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICppOTE1KQogewogCWludCBlcnIsIGk7CiAKLQkvKgot
CSAqIEluaXRpYWxpc2Ugc3RvbGVuIGVhcmx5IHNvIHRoYXQgd2UgbWF5IHJlc2VydmUgcHJlYWxs
b2NhdGVkCi0JICogb2JqZWN0cyBmb3IgdGhlIEJJT1MgdG8gS01TIHRyYW5zaXRpb24uCi0JICov
Ci0JLyogWFhYOiBzdG9sZW4gd2lsbCBiZWNvbWUgYSByZWdpb24gYXQgc29tZSBwb2ludCAqLwot
CWVyciA9IGk5MTVfZ2VtX2luaXRfc3RvbGVuKGk5MTUpOwotCWlmIChlcnIpCi0JCXJldHVybiBl
cnI7Ci0KIAlmb3IgKGkgPSAwOyBpIDwgQVJSQVlfU0laRShpOTE1LT5tbS5yZWdpb25zKTsgaSsr
KSB7CiAJCXN0cnVjdCBpbnRlbF9tZW1vcnlfcmVnaW9uICptZW0gPSBOVUxMOwogCQl1MzIgdHlw
ZTsKQEAgLTI3ODMsNiArMjc3Miw5IEBAIGludCBpOTE1X2dlbV9pbml0X21lbW9yeV9yZWdpb25z
KHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICppOTE1KQogCQljYXNlIElOVEVMX1NNRU06CiAJCQlt
ZW0gPSBpOTE1X2dlbV9zaG1lbV9zZXR1cChpOTE1KTsKIAkJCWJyZWFrOworCQljYXNlIElOVEVM
X1NUT0xFTjoKKwkJCW1lbSA9IGk5MTVfZ2VtX3N0b2xlbl9zZXR1cChpOTE1KTsKKwkJCWJyZWFr
OwogCQl9CiAKIAkJaWYgKElTX0VSUihtZW0pKSB7CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9k
cm0vaTkxNS9pOTE1X3BjaS5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9wY2kuYwppbmRl
eCBlNTVhYjI3MjQ5OTYuLmY5YTNiZmU2ODY4OSAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJt
L2k5MTUvaTkxNV9wY2kuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3BjaS5jCkBA
IC0xNTIsNyArMTUyLDcgQEAKIAkucGFnZV9zaXplcyA9IEk5MTVfR1RUX1BBR0VfU0laRV80Swog
CiAjZGVmaW5lIEdFTl9ERUZBVUxUX1JFR0lPTlMgXAotCS5tZW1vcnlfcmVnaW9ucyA9IFJFR0lP
Tl9TTUVNCisJLm1lbW9yeV9yZWdpb25zID0gUkVHSU9OX1NNRU0gfCBSRUdJT05fU1RPTEVOCiAK
ICNkZWZpbmUgSTgzMF9GRUFUVVJFUyBcCiAJR0VOKDIpLCBcCi0tIAoyLjIwLjEKCl9fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCkludGVsLWdmeCBtYWlsaW5n
IGxpc3QKSW50ZWwtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVk
ZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2ludGVsLWdmeA==

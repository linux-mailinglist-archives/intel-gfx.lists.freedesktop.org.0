Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id CBC6321065
	for <lists+intel-gfx@lfdr.de>; Thu, 16 May 2019 23:57:24 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id B443C897EF;
	Thu, 16 May 2019 21:57:22 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga17.intel.com (mga17.intel.com [192.55.52.151])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 9523A897E7
 for <intel-gfx@lists.freedesktop.org>; Thu, 16 May 2019 21:57:20 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga001.jf.intel.com ([10.7.209.18])
 by fmsmga107.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 16 May 2019 14:57:20 -0700
X-ExtLoop1: 1
Received: from dceraolo-linux.fm.intel.com ([10.1.27.145])
 by orsmga001.jf.intel.com with ESMTP; 16 May 2019 14:57:20 -0700
From: Daniele Ceraolo Spurio <daniele.ceraolospurio@intel.com>
To: intel-gfx@lists.freedesktop.org
Date: Thu, 16 May 2019 14:56:31 -0700
Message-Id: <20190516215634.16675-5-daniele.ceraolospurio@intel.com>
X-Mailer: git-send-email 2.20.1
In-Reply-To: <20190516215634.16675-1-daniele.ceraolospurio@intel.com>
References: <20190516215634.16675-1-daniele.ceraolospurio@intel.com>
MIME-Version: 1.0
Subject: [Intel-gfx] [RFC 4/7] drm/i915: move and rename i915_runtime_pm
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

QXNzZXJ0cyBhc2lkZSwgYWxsIHRoZSBjb2RlIHdvcmtpbmcgb24gdGhpcyBzdHJ1Y3R1cmUgaXMg
aW4KaW50ZWxfcnVudGltZV9wbS5jIGFuZCB1c2VzIHRoZSBpbnRlbF8gcHJlZml4LCBzbyBtb3Zl
IHRoZQpzdHJ1Y3R1cmUgdG8gaW50ZWxfcnVudGltZV9wbS5oIGFuZCBhZG9wdCB0aGUgc2FtZSBw
cmVmaXguCgpTaW5jZSBhbGwgdGhlIGFzc2VydHMgYXJlIG5vdyB3b3JraW5nIG9uIHRoZSBydW50
aW1lX3BtIHN0cnVjdHVyZSwKYnJpbmcgdGhlbSBhY3Jvc3MgYXMgd2VsbC4KClNpZ25lZC1vZmYt
Ynk6IERhbmllbGUgQ2VyYW9sbyBTcHVyaW8gPGRhbmllbGUuY2VyYW9sb3NwdXJpb0BpbnRlbC5j
b20+Ci0tLQogZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kZWJ1Z2ZzLmMgICAgIHwgICA0ICst
CiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2Rydi5jICAgICAgICAgfCAgIDQgKy0KIGRyaXZl
cnMvZ3B1L2RybS9pOTE1L2k5MTVfZHJ2LmggICAgICAgICB8ICA1MiArLS0tLS0tLS0KIGRyaXZl
cnMvZ3B1L2RybS9pOTE1L2ludGVsX2Rydi5oICAgICAgICB8ICA5NyAtLS0tLS0tLS0tLS0tLS0t
CiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9ydW50aW1lX3BtLmMgfCAgNTggKysrKystLS0t
LQogZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfcnVudGltZV9wbS5oIHwgMTQ3ICsrKysrKysr
KysrKysrKysrKysrKysrKwogZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfdW5jb3JlLmggICAg
IHwgICA0ICstCiA3IGZpbGVzIGNoYW5nZWQsIDE4MyBpbnNlcnRpb25zKCspLCAxODMgZGVsZXRp
b25zKC0pCgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kZWJ1Z2ZzLmMg
Yi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2RlYnVnZnMuYwppbmRleCAwNzI0NjRhMTgwNTAu
LjIyN2ExY2RmNGYwMiAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kZWJ1
Z2ZzLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kZWJ1Z2ZzLmMKQEAgLTI2MzYs
NyArMjYzNiw3IEBAIHN0YXRpYyBpbnQgaTkxNV9lbmVyZ3lfdUooc3RydWN0IHNlcV9maWxlICpt
LCB2b2lkICpkYXRhKQogCXJldHVybiAwOwogfQogCi1zdGF0aWMgaW50IGk5MTVfcnVudGltZV9w
bV9zdGF0dXMoc3RydWN0IHNlcV9maWxlICptLCB2b2lkICp1bnVzZWQpCitzdGF0aWMgaW50IGlu
dGVsX3J1bnRpbWVfcG1fc3RhdHVzKHN0cnVjdCBzZXFfZmlsZSAqbSwgdm9pZCAqdW51c2VkKQog
ewogCXN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiA9IG5vZGVfdG9faTkxNShtLT5w
cml2YXRlKTsKIAlzdHJ1Y3QgcGNpX2RldiAqcGRldiA9IGRldl9wcml2LT5kcm0ucGRldjsKQEAg
LTQ2MDAsNyArNDYwMCw3IEBAIHN0YXRpYyBjb25zdCBzdHJ1Y3QgZHJtX2luZm9fbGlzdCBpOTE1
X2RlYnVnZnNfbGlzdFtdID0gewogCXsiaTkxNV9sbGMiLCBpOTE1X2xsYywgMH0sCiAJeyJpOTE1
X2VkcF9wc3Jfc3RhdHVzIiwgaTkxNV9lZHBfcHNyX3N0YXR1cywgMH0sCiAJeyJpOTE1X2VuZXJn
eV91SiIsIGk5MTVfZW5lcmd5X3VKLCAwfSwKLQl7Imk5MTVfcnVudGltZV9wbV9zdGF0dXMiLCBp
OTE1X3J1bnRpbWVfcG1fc3RhdHVzLCAwfSwKKwl7ImludGVsX3J1bnRpbWVfcG1fc3RhdHVzIiwg
aW50ZWxfcnVudGltZV9wbV9zdGF0dXMsIDB9LAogCXsiaTkxNV9wb3dlcl9kb21haW5faW5mbyIs
IGk5MTVfcG93ZXJfZG9tYWluX2luZm8sIDB9LAogCXsiaTkxNV9kbWNfaW5mbyIsIGk5MTVfZG1j
X2luZm8sIDB9LAogCXsiaTkxNV9kaXNwbGF5X2luZm8iLCBpOTE1X2Rpc3BsYXlfaW5mbywgMH0s
CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2Rydi5jIGIvZHJpdmVycy9n
cHUvZHJtL2k5MTUvaTkxNV9kcnYuYwppbmRleCA4YjllNWIwNDJlNzAuLjc5Mzg5MDZmNWIxZCAx
MDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kcnYuYworKysgYi9kcml2ZXJz
L2dwdS9kcm0vaTkxNS9pOTE1X2Rydi5jCkBAIC0yODczLDcgKzI4NzMsNyBAQCBzdGF0aWMgaW50
IGludGVsX3J1bnRpbWVfc3VzcGVuZChzdHJ1Y3QgZGV2aWNlICprZGV2KQogCXN0cnVjdCBwY2lf
ZGV2ICpwZGV2ID0gdG9fcGNpX2RldihrZGV2KTsKIAlzdHJ1Y3QgZHJtX2RldmljZSAqZGV2ID0g
cGNpX2dldF9kcnZkYXRhKHBkZXYpOwogCXN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJp
diA9IHRvX2k5MTUoZGV2KTsKLQlzdHJ1Y3QgaTkxNV9ydW50aW1lX3BtICpycG0gPSAmZGV2X3By
aXYtPnJ1bnRpbWVfcG07CisJc3RydWN0IGludGVsX3J1bnRpbWVfcG0gKnJwbSA9ICZkZXZfcHJp
di0+cnVudGltZV9wbTsKIAlpbnQgcmV0OwogCiAJaWYgKFdBUk5fT05fT05DRSghKGRldl9wcml2
LT5ndF9wbS5yYzYuZW5hYmxlZCAmJiBIQVNfUkM2KGRldl9wcml2KSkpKQpAQCAtMjk3Miw3ICsy
OTcyLDcgQEAgc3RhdGljIGludCBpbnRlbF9ydW50aW1lX3Jlc3VtZShzdHJ1Y3QgZGV2aWNlICpr
ZGV2KQogCXN0cnVjdCBwY2lfZGV2ICpwZGV2ID0gdG9fcGNpX2RldihrZGV2KTsKIAlzdHJ1Y3Qg
ZHJtX2RldmljZSAqZGV2ID0gcGNpX2dldF9kcnZkYXRhKHBkZXYpOwogCXN0cnVjdCBkcm1faTkx
NV9wcml2YXRlICpkZXZfcHJpdiA9IHRvX2k5MTUoZGV2KTsKLQlzdHJ1Y3QgaTkxNV9ydW50aW1l
X3BtICpycG0gPSAmZGV2X3ByaXYtPnJ1bnRpbWVfcG07CisJc3RydWN0IGludGVsX3J1bnRpbWVf
cG0gKnJwbSA9ICZkZXZfcHJpdi0+cnVudGltZV9wbTsKIAlpbnQgcmV0ID0gMDsKIAogCWlmIChX
QVJOX09OX09OQ0UoIUhBU19SVU5USU1FX1BNKGRldl9wcml2KSkpCmRpZmYgLS1naXQgYS9kcml2
ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2Rydi5oIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9k
cnYuaAppbmRleCA0NzQwNzRjN2YzOTUuLjE5NWJhNDM3ODM1ZiAxMDA2NDQKLS0tIGEvZHJpdmVy
cy9ncHUvZHJtL2k5MTUvaTkxNV9kcnYuaAorKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1
X2Rydi5oCkBAIC0xMTUyLDU2ICsxMTUyLDYgQEAgc3RydWN0IHNrbF93bV9wYXJhbXMgewogCXUz
MiBkYnVmX2Jsb2NrX3NpemU7CiB9OwogCi0vKgotICogVGhpcyBzdHJ1Y3QgaGVscHMgdHJhY2tp
bmcgdGhlIHN0YXRlIG5lZWRlZCBmb3IgcnVudGltZSBQTSwgd2hpY2ggcHV0cyB0aGUKLSAqIGRl
dmljZSBpbiBQQ0kgRDMgc3RhdGUuIE5vdGljZSB0aGF0IHdoZW4gdGhpcyBoYXBwZW5zLCBub3Ro
aW5nIG9uIHRoZQotICogZ3JhcGhpY3MgZGV2aWNlIHdvcmtzLCBldmVuIHJlZ2lzdGVyIGFjY2Vz
cywgc28gd2UgZG9uJ3QgZ2V0IGludGVycnVwdHMgbm9yCi0gKiBhbnl0aGluZyBlbHNlLgotICoK
LSAqIEV2ZXJ5IHBpZWNlIG9mIG91ciBjb2RlIHRoYXQgbmVlZHMgdG8gYWN0dWFsbHkgdG91Y2gg
dGhlIGhhcmR3YXJlIG5lZWRzIHRvCi0gKiBlaXRoZXIgY2FsbCBpbnRlbF9ydW50aW1lX3BtX2dl
dCBvciBjYWxsIGludGVsX2Rpc3BsYXlfcG93ZXJfZ2V0IHdpdGggdGhlCi0gKiBhcHByb3ByaWF0
ZSBwb3dlciBkb21haW4uCi0gKgotICogT3VyIGRyaXZlciB1c2VzIHRoZSBhdXRvc3VzcGVuZCBk
ZWxheSBmZWF0dXJlLCB3aGljaCBtZWFucyB3ZSdsbCBvbmx5IHJlYWxseQotICogc3VzcGVuZCBp
ZiB3ZSBzdGF5IHdpdGggemVybyByZWZjb3VudCBmb3IgYSBjZXJ0YWluIGFtb3VudCBvZiB0aW1l
LiBUaGUKLSAqIGRlZmF1bHQgdmFsdWUgaXMgY3VycmVudGx5IHZlcnkgY29uc2VydmF0aXZlIChz
ZWUgaW50ZWxfcnVudGltZV9wbV9lbmFibGUpLCBidXQKLSAqIGl0IGNhbiBiZSBjaGFuZ2VkIHdp
dGggdGhlIHN0YW5kYXJkIHJ1bnRpbWUgUE0gZmlsZXMgZnJvbSBzeXNmcy4KLSAqCi0gKiBUaGUg
aXJxc19kaXNhYmxlZCB2YXJpYWJsZSBiZWNvbWVzIHRydWUgZXhhY3RseSBhZnRlciB3ZSBkaXNh
YmxlIHRoZSBJUlFzIGFuZAotICogZ29lcyBiYWNrIHRvIGZhbHNlIGV4YWN0bHkgYmVmb3JlIHdl
IHJlZW5hYmxlIHRoZSBJUlFzLiBXZSB1c2UgdGhpcyB2YXJpYWJsZQotICogdG8gY2hlY2sgaWYg
c29tZW9uZSBpcyB0cnlpbmcgdG8gZW5hYmxlL2Rpc2FibGUgSVJRcyB3aGlsZSB0aGV5J3JlIHN1
cHBvc2VkCi0gKiB0byBiZSBkaXNhYmxlZC4gVGhpcyBzaG91bGRuJ3QgaGFwcGVuIGFuZCB3ZSds
bCBwcmludCBzb21lIGVycm9yIG1lc3NhZ2VzIGluCi0gKiBjYXNlIGl0IGhhcHBlbnMuCi0gKgot
ICogRm9yIG1vcmUsIHJlYWQgdGhlIERvY3VtZW50YXRpb24vcG93ZXIvcnVudGltZV9wbS50eHQu
Ci0gKi8KLXN0cnVjdCBpOTE1X3J1bnRpbWVfcG0gewotCWF0b21pY190IHdha2VyZWZfY291bnQ7
Ci0Jc3RydWN0IGRldmljZSAqa2RldjsKLQlib29sIGF2YWlsYWJsZTsKLQlib29sIHN1c3BlbmRl
ZDsKLQlib29sIGlycXNfZW5hYmxlZDsKLQotI2lmIElTX0VOQUJMRUQoQ09ORklHX0RSTV9JOTE1
X0RFQlVHX1JVTlRJTUVfUE0pCi0JLyoKLQkgKiBUbyBhaWRlIGRldGVjdGlvbiBvZiB3YWtlcmVm
IGxlYWtzIGFuZCBnZW5lcmFsIG1pc3VzZSwgd2UKLQkgKiB0cmFjayBhbGwgd2FrZXJlZiBob2xk
ZXJzLiBXaXRoIG1hbnVhbCBtYXJrdXAgKGkuZS4gcmV0dXJuaW5nCi0JICogYSBjb29raWUgdG8g
ZWFjaCBycG1fZ2V0IGNhbGxlciB3aGljaCB0aGV5IHRoZW4gc3VwcGx5IHRvIHRoZWlyCi0JICog
cGFpcmVkIHJwbV9wdXQpIHdlIGNhbiByZW1vdmUgY29ycmVzcG9uZGluZyBwYWlycyBvZiBhbmQg
a2VlcAotCSAqIHRoZSBhcnJheSB0cmltbWVkIHRvIGFjdGl2ZSB3YWtlcmVmcy4KLQkgKi8KLQlz
dHJ1Y3QgaW50ZWxfcnVudGltZV9wbV9kZWJ1ZyB7Ci0JCXNwaW5sb2NrX3QgbG9jazsKLQotCQlk
ZXBvdF9zdGFja19oYW5kbGVfdCBsYXN0X2FjcXVpcmU7Ci0JCWRlcG90X3N0YWNrX2hhbmRsZV90
IGxhc3RfcmVsZWFzZTsKLQotCQlkZXBvdF9zdGFja19oYW5kbGVfdCAqb3duZXJzOwotCQl1bnNp
Z25lZCBsb25nIGNvdW50OwotCX0gZGVidWc7Ci0jZW5kaWYKLX07Ci0KIGVudW0gaW50ZWxfcGlw
ZV9jcmNfc291cmNlIHsKIAlJTlRFTF9QSVBFX0NSQ19TT1VSQ0VfTk9ORSwKIAlJTlRFTF9QSVBF
X0NSQ19TT1VSQ0VfUExBTkUxLApAQCAtMTg0Myw3ICsxNzkzLDcgQEAgc3RydWN0IGRybV9pOTE1
X3ByaXZhdGUgewogCQl9IHR5cGU7CiAJfSBkcmFtX2luZm87CiAKLQlzdHJ1Y3QgaTkxNV9ydW50
aW1lX3BtIHJ1bnRpbWVfcG07CisJc3RydWN0IGludGVsX3J1bnRpbWVfcG0gcnVudGltZV9wbTsK
IAogCXN0cnVjdCB7CiAJCWJvb2wgaW5pdGlhbGl6ZWQ7CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dw
dS9kcm0vaTkxNS9pbnRlbF9kcnYuaCBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX2Rydi5o
CmluZGV4IDY5NzZkOTJiMGJkOC4uMTc4ZjFkMTIzYTEzIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dw
dS9kcm0vaTkxNS9pbnRlbF9kcnYuaAorKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9k
cnYuaApAQCAtMTYxOSwxMDEgKzE2MTksNCBAQCB1bnNpZ25lZCBpbnQgaTl4eF9wbGFuZV9tYXhf
c3RyaWRlKHN0cnVjdCBpbnRlbF9wbGFuZSAqcGxhbmUsCiAJCQkJICAgdW5zaWduZWQgaW50IHJv
dGF0aW9uKTsKIGludCBiZHdfZ2V0X3BpcGVtaXNjX2JwcChzdHJ1Y3QgaW50ZWxfY3J0YyAqY3J0
Yyk7CiAKLS8qIGludGVsX3J1bnRpbWVfcG0uYyAqLwotI2RlZmluZSBCSVRTX1BFUl9XQUtFUkVG
CVwKLQlCSVRTX1BFUl9UWVBFKHN0cnVjdF9tZW1iZXIoc3RydWN0IGk5MTVfcnVudGltZV9wbSwg
d2FrZXJlZl9jb3VudCkpCi0jZGVmaW5lIElOVEVMX1JQTV9XQUtFTE9DS19TSElGVAkoQklUU19Q
RVJfV0FLRVJFRiAvIDIpCi0jZGVmaW5lIElOVEVMX1JQTV9XQUtFTE9DS19CSUFTCQkoMSA8PCBJ
TlRFTF9SUE1fV0FLRUxPQ0tfU0hJRlQpCi0jZGVmaW5lIElOVEVMX1JQTV9SQVdfV0FLRVJFRl9N
QVNLCShJTlRFTF9SUE1fV0FLRUxPQ0tfQklBUyAtIDEpCi0KLXN0YXRpYyBpbmxpbmUgaW50Ci1p
bnRlbF9ycG1fcmF3X3dha2VyZWZfY291bnQoaW50IHdha2VyZWZfY291bnQpCi17Ci0JcmV0dXJu
IHdha2VyZWZfY291bnQgJiBJTlRFTF9SUE1fUkFXX1dBS0VSRUZfTUFTSzsKLX0KLQotc3RhdGlj
IGlubGluZSBpbnQKLWludGVsX3JwbV93YWtlbG9ja19jb3VudChpbnQgd2FrZXJlZl9jb3VudCkK
LXsKLQlyZXR1cm4gd2FrZXJlZl9jb3VudCA+PiBJTlRFTF9SUE1fV0FLRUxPQ0tfU0hJRlQ7Ci19
Ci0KLXN0YXRpYyBpbmxpbmUgdm9pZAotYXNzZXJ0X3JwbV9kZXZpY2Vfbm90X3N1c3BlbmRlZChz
dHJ1Y3QgaTkxNV9ydW50aW1lX3BtICpycG0pCi17Ci0JV0FSTl9PTkNFKHJwbS0+c3VzcGVuZGVk
LAotCQkgICJEZXZpY2Ugc3VzcGVuZGVkIGR1cmluZyBIVyBhY2Nlc3NcbiIpOwotfQotCi1zdGF0
aWMgaW5saW5lIHZvaWQKLV9fYXNzZXJ0X3JwbV9yYXdfd2FrZXJlZl9oZWxkKHN0cnVjdCBpOTE1
X3J1bnRpbWVfcG0gKnJwbSwgaW50IHdha2VyZWZfY291bnQpCi17Ci0JYXNzZXJ0X3JwbV9kZXZp
Y2Vfbm90X3N1c3BlbmRlZChycG0pOwotCVdBUk5fT05DRSghaW50ZWxfcnBtX3Jhd193YWtlcmVm
X2NvdW50KHdha2VyZWZfY291bnQpLAotCQkgICJSUE0gcmF3LXdha2VyZWYgbm90IGhlbGRcbiIp
OwotfQotCi1zdGF0aWMgaW5saW5lIHZvaWQKLV9fYXNzZXJ0X3JwbV93YWtlbG9ja19oZWxkKHN0
cnVjdCBpOTE1X3J1bnRpbWVfcG0gKnJwbSwgaW50IHdha2VyZWZfY291bnQpCi17Ci0JX19hc3Nl
cnRfcnBtX3Jhd193YWtlcmVmX2hlbGQocnBtLCB3YWtlcmVmX2NvdW50KTsKLQlXQVJOX09OQ0Uo
IWludGVsX3JwbV93YWtlbG9ja19jb3VudCh3YWtlcmVmX2NvdW50KSwKLQkJICAiUlBNIHdha2Vs
b2NrIHJlZiBub3QgaGVsZCBkdXJpbmcgSFcgYWNjZXNzXG4iKTsKLX0KLQotc3RhdGljIGlubGlu
ZSB2b2lkCi1hc3NlcnRfcnBtX3Jhd193YWtlcmVmX2hlbGQoc3RydWN0IGk5MTVfcnVudGltZV9w
bSAqcnBtKQotewotCV9fYXNzZXJ0X3JwbV9yYXdfd2FrZXJlZl9oZWxkKHJwbSwgYXRvbWljX3Jl
YWQoJnJwbS0+d2FrZXJlZl9jb3VudCkpOwotfQotCi1zdGF0aWMgaW5saW5lIHZvaWQKLWFzc2Vy
dF9ycG1fd2FrZWxvY2tfaGVsZChzdHJ1Y3QgaTkxNV9ydW50aW1lX3BtICpycG0pCi17Ci0JX19h
c3NlcnRfcnBtX3dha2Vsb2NrX2hlbGQocnBtLCBhdG9taWNfcmVhZCgmcnBtLT53YWtlcmVmX2Nv
dW50KSk7Ci19Ci0KLS8qKgotICogZGlzYWJsZV9ycG1fd2FrZXJlZl9hc3NlcnRzIC0gZGlzYWJs
ZSB0aGUgUlBNIGFzc2VydCBjaGVja3MKLSAqIEBycG06IHRoZSBpOTE1X3J1bnRpbWVfcG0gc3Ry
dWN0dXJlCi0gKgotICogVGhpcyBmdW5jdGlvbiBkaXNhYmxlIGFzc2VydHMgdGhhdCBjaGVjayBp
ZiB3ZSBob2xkIGFuIFJQTSB3YWtlbG9jawotICogcmVmZXJlbmNlLCB3aGlsZSBrZWVwaW5nIHRo
ZSBkZXZpY2Utbm90LXN1c3BlbmRlZCBjaGVja3Mgc3RpbGwgZW5hYmxlZC4KLSAqIEl0J3MgbWVh
bnQgdG8gYmUgdXNlZCBvbmx5IGluIHNwZWNpYWwgY2lyY3Vtc3RhbmNlcyB3aGVyZSBvdXIgcnVs
ZSBhYm91dAotICogdGhlIHdha2Vsb2NrIHJlZmNvdW50IHdydC4gdGhlIGRldmljZSBwb3dlciBz
dGF0ZSBkb2Vzbid0IGhvbGQuIEFjY29yZGluZwotICogdG8gdGhpcyBydWxlIGF0IGFueSBwb2lu
dCB3aGVyZSB3ZSBhY2Nlc3MgdGhlIEhXIG9yIHdhbnQgdG8ga2VlcCB0aGUgSFcgaW4KLSAqIGFu
IGFjdGl2ZSBzdGF0ZSB3ZSBtdXN0IGhvbGQgYW4gUlBNIHdha2Vsb2NrIHJlZmVyZW5jZSBhY3F1
aXJlZCB2aWEgb25lIG9mCi0gKiB0aGUgaW50ZWxfcnVudGltZV9wbV9nZXQoKSBoZWxwZXJzLiBD
dXJyZW50bHkgdGhlcmUgYXJlIGEgZmV3IHNwZWNpYWwgc3BvdHMKLSAqIHdoZXJlIHRoaXMgcnVs
ZSBkb2Vzbid0IGhvbGQ6IHRoZSBJUlEgYW5kIHN1c3BlbmQvcmVzdW1lIGhhbmRsZXJzLCB0aGUK
LSAqIGZvcmNld2FrZSByZWxlYXNlIHRpbWVyLCBhbmQgdGhlIEdQVSBSUFMgYW5kIGhhbmdjaGVj
ayB3b3Jrcy4gQWxsIG90aGVyCi0gKiB1c2VycyBzaG91bGQgYXZvaWQgdXNpbmcgdGhpcyBmdW5j
dGlvbi4KLSAqCi0gKiBBbnkgY2FsbHMgdG8gdGhpcyBmdW5jdGlvbiBtdXN0IGhhdmUgYSBzeW1t
ZXRyaWMgY2FsbCB0bwotICogZW5hYmxlX3JwbV93YWtlcmVmX2Fzc2VydHMoKS4KLSAqLwotc3Rh
dGljIGlubGluZSB2b2lkCi1kaXNhYmxlX3JwbV93YWtlcmVmX2Fzc2VydHMoc3RydWN0IGk5MTVf
cnVudGltZV9wbSAqcnBtKQotewotCWF0b21pY19hZGQoSU5URUxfUlBNX1dBS0VMT0NLX0JJQVMg
KyAxLAotCQkgICAmcnBtLT53YWtlcmVmX2NvdW50KTsKLX0KLQotLyoqCi0gKiBlbmFibGVfcnBt
X3dha2VyZWZfYXNzZXJ0cyAtIHJlLWVuYWJsZSB0aGUgUlBNIGFzc2VydCBjaGVja3MKLSAqIEBy
cG06IHRoZSBpOTE1X3J1bnRpbWVfcG0gc3RydWN0dXJlCi0gKgotICogVGhpcyBmdW5jdGlvbiBy
ZS1lbmFibGVzIHRoZSBSUE0gYXNzZXJ0IGNoZWNrcyBhZnRlciBkaXNhYmxpbmcgdGhlbSB3aXRo
Ci0gKiBkaXNhYmxlX3JwbV93YWtlcmVmX2Fzc2VydHMuIEl0J3MgbWVhbnQgdG8gYmUgdXNlZCBv
bmx5IGluIHNwZWNpYWwKLSAqIGNpcmN1bXN0YW5jZXMgb3RoZXJ3aXNlIGl0cyB1c2Ugc2hvdWxk
IGJlIGF2b2lkZWQuCi0gKgotICogQW55IGNhbGxzIHRvIHRoaXMgZnVuY3Rpb24gbXVzdCBoYXZl
IGEgc3ltbWV0cmljIGNhbGwgdG8KLSAqIGRpc2FibGVfcnBtX3dha2VyZWZfYXNzZXJ0cygpLgot
ICovCi1zdGF0aWMgaW5saW5lIHZvaWQKLWVuYWJsZV9ycG1fd2FrZXJlZl9hc3NlcnRzKHN0cnVj
dCBpOTE1X3J1bnRpbWVfcG0gKnJwbSkKLXsKLQlhdG9taWNfc3ViKElOVEVMX1JQTV9XQUtFTE9D
S19CSUFTICsgMSwKLQkJICAgJnJwbS0+d2FrZXJlZl9jb3VudCk7Ci19Ci0KICNlbmRpZiAvKiBf
X0lOVEVMX0RSVl9IX18gKi8KZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVs
X3J1bnRpbWVfcG0uYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX3J1bnRpbWVfcG0uYwpp
bmRleCAyNzExNTNmZDNhMzMuLmY2Njk2ODhjMzJjOSAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUv
ZHJtL2k5MTUvaW50ZWxfcnVudGltZV9wbS5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2lu
dGVsX3J1bnRpbWVfcG0uYwpAQCAtNjAsMTYgKzYwLDE2IEBACiAgKiBwcmVzZW50IGZvciBhIGdp
dmVuIHBsYXRmb3JtLgogICovCiAKLXN0YXRpYyBpbnRlbF93YWtlcmVmX3QgaW50ZWxfcnVudGlt
ZV9wbV9nZXRfcmF3KHN0cnVjdCBpOTE1X3J1bnRpbWVfcG0gKnJwbSk7CitzdGF0aWMgaW50ZWxf
d2FrZXJlZl90IGludGVsX3J1bnRpbWVfcG1fZ2V0X3JhdyhzdHJ1Y3QgaW50ZWxfcnVudGltZV9w
bSAqcnBtKTsKIHN0YXRpYyB2b2lkCi1fX2ludGVsX3J1bnRpbWVfcG1fcHV0KHN0cnVjdCBpOTE1
X3J1bnRpbWVfcG0gKnJwbSwgaW50ZWxfd2FrZXJlZl90IHdyZWYsCitfX2ludGVsX3J1bnRpbWVf
cG1fcHV0KHN0cnVjdCBpbnRlbF9ydW50aW1lX3BtICpycG0sIGludGVsX3dha2VyZWZfdCB3cmVm
LAogCQkgICAgICAgYm9vbCB3YWtlbG9jayk7CiAKICNpZiBJU19FTkFCTEVEKENPTkZJR19EUk1f
STkxNV9ERUJVR19SVU5USU1FX1BNKQogc3RhdGljIHZvaWQKLWludGVsX3J1bnRpbWVfcG1fcHV0
X3JhdyhzdHJ1Y3QgaTkxNV9ydW50aW1lX3BtICpycG0sIGludGVsX3dha2VyZWZfdCB3cmVmKTsK
K2ludGVsX3J1bnRpbWVfcG1fcHV0X3JhdyhzdHJ1Y3QgaW50ZWxfcnVudGltZV9wbSAqcnBtLCBp
bnRlbF93YWtlcmVmX3Qgd3JlZik7CiAjZWxzZQotc3RhdGljIGlubGluZSB2b2lkIGludGVsX3J1
bnRpbWVfcG1fcHV0X3JhdyhzdHJ1Y3QgaTkxNV9ydW50aW1lX3BtICpycG0sCitzdGF0aWMgaW5s
aW5lIHZvaWQgaW50ZWxfcnVudGltZV9wbV9wdXRfcmF3KHN0cnVjdCBpbnRlbF9ydW50aW1lX3Bt
ICpycG0sCiAJCQkJCSAgICBpbnRlbF93YWtlcmVmX3Qgd3JlZikKIHsKIAlfX2ludGVsX3J1bnRp
bWVfcG1fcHV0KHJwbSwgLTEsIGZhbHNlKTsKQEAgLTExMiwxMyArMTEyLDEzIEBAIHN0YXRpYyB2
b2lkIF9fcHJpbnRfZGVwb3Rfc3RhY2soZGVwb3Rfc3RhY2tfaGFuZGxlX3Qgc3RhY2ssCiAJc25w
cmludF9zdGFja190cmFjZShidWYsIHN6LCAmdHJhY2UsIGluZGVudCk7CiB9CiAKLXN0YXRpYyB2
b2lkIGluaXRfaW50ZWxfcnVudGltZV9wbV93YWtlcmVmKHN0cnVjdCBpOTE1X3J1bnRpbWVfcG0g
KnJwbSkKK3N0YXRpYyB2b2lkIGluaXRfaW50ZWxfcnVudGltZV9wbV93YWtlcmVmKHN0cnVjdCBp
bnRlbF9ydW50aW1lX3BtICpycG0pCiB7CiAJc3Bpbl9sb2NrX2luaXQoJnJwbS0+ZGVidWcubG9j
ayk7CiB9CiAKIHN0YXRpYyBub2lubGluZSBkZXBvdF9zdGFja19oYW5kbGVfdAotdHJhY2tfaW50
ZWxfcnVudGltZV9wbV93YWtlcmVmKHN0cnVjdCBpOTE1X3J1bnRpbWVfcG0gKnJwbSkKK3RyYWNr
X2ludGVsX3J1bnRpbWVfcG1fd2FrZXJlZihzdHJ1Y3QgaW50ZWxfcnVudGltZV9wbSAqcnBtKQog
ewogCWRlcG90X3N0YWNrX2hhbmRsZV90IHN0YWNrLCAqc3RhY2tzOwogCXVuc2lnbmVkIGxvbmcg
ZmxhZ3M7CkBAIC0xNTAsNyArMTUwLDcgQEAgdHJhY2tfaW50ZWxfcnVudGltZV9wbV93YWtlcmVm
KHN0cnVjdCBpOTE1X3J1bnRpbWVfcG0gKnJwbSkKIAlyZXR1cm4gc3RhY2s7CiB9CiAKLXN0YXRp
YyB2b2lkIHVudHJhY2tfaW50ZWxfcnVudGltZV9wbV93YWtlcmVmKHN0cnVjdCBpOTE1X3J1bnRp
bWVfcG0gKnJwbSwKK3N0YXRpYyB2b2lkIHVudHJhY2tfaW50ZWxfcnVudGltZV9wbV93YWtlcmVm
KHN0cnVjdCBpbnRlbF9ydW50aW1lX3BtICpycG0sCiAJCQkJCSAgICAgZGVwb3Rfc3RhY2tfaGFu
ZGxlX3Qgc3RhY2spCiB7CiAJdW5zaWduZWQgbG9uZyBmbGFncywgbjsKQEAgLTI3MCw3ICsyNzAs
NyBAQCBkdW1wX2FuZF9mcmVlX3dha2VyZWZfdHJhY2tpbmcoc3RydWN0IGludGVsX3J1bnRpbWVf
cG1fZGVidWcgKmRlYnVnKQogfQogCiBzdGF0aWMgbm9pbmxpbmUgdm9pZAotX19pbnRlbF93YWtl
cmVmX2RlY19hbmRfY2hlY2tfdHJhY2tpbmcoc3RydWN0IGk5MTVfcnVudGltZV9wbSAqcnBtKQor
X19pbnRlbF93YWtlcmVmX2RlY19hbmRfY2hlY2tfdHJhY2tpbmcoc3RydWN0IGludGVsX3J1bnRp
bWVfcG0gKnJwbSkKIHsKIAlzdHJ1Y3QgaW50ZWxfcnVudGltZV9wbV9kZWJ1ZyBkYmcgPSB7fTsK
IAl1bnNpZ25lZCBsb25nIGZsYWdzOwpAQCAtMjg3LDcgKzI4Nyw3IEBAIF9faW50ZWxfd2FrZXJl
Zl9kZWNfYW5kX2NoZWNrX3RyYWNraW5nKHN0cnVjdCBpOTE1X3J1bnRpbWVfcG0gKnJwbSkKIH0K
IAogc3RhdGljIG5vaW5saW5lIHZvaWQKLXVudHJhY2tfYWxsX2ludGVsX3J1bnRpbWVfcG1fd2Fr
ZXJlZnMoc3RydWN0IGk5MTVfcnVudGltZV9wbSAqcnBtKQordW50cmFja19hbGxfaW50ZWxfcnVu
dGltZV9wbV93YWtlcmVmcyhzdHJ1Y3QgaW50ZWxfcnVudGltZV9wbSAqcnBtKQogewogCXN0cnVj
dCBpbnRlbF9ydW50aW1lX3BtX2RlYnVnIGRiZyA9IHt9OwogCXVuc2lnbmVkIGxvbmcgZmxhZ3M7
CkBAIC0zMDUsNyArMzA1LDcgQEAgdm9pZCBwcmludF9pbnRlbF9ydW50aW1lX3BtX3dha2VyZWYo
c3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUsCiAJc3RydWN0IGludGVsX3J1bnRpbWVfcG1f
ZGVidWcgZGJnID0ge307CiAKIAlkbyB7Ci0JCXN0cnVjdCBpOTE1X3J1bnRpbWVfcG0gKnJwbSA9
ICZpOTE1LT5ydW50aW1lX3BtOworCQlzdHJ1Y3QgaW50ZWxfcnVudGltZV9wbSAqcnBtID0gJmk5
MTUtPnJ1bnRpbWVfcG07CiAJCXVuc2lnbmVkIGxvbmcgYWxsb2MgPSBkYmcuY291bnQ7CiAJCWRl
cG90X3N0YWNrX2hhbmRsZV90ICpzOwogCkBAIC0zMzksMzYgKzMzOSwzNiBAQCB2b2lkIHByaW50
X2ludGVsX3J1bnRpbWVfcG1fd2FrZXJlZihzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSwK
IAogI2Vsc2UKIAotc3RhdGljIHZvaWQgaW5pdF9pbnRlbF9ydW50aW1lX3BtX3dha2VyZWYoc3Ry
dWN0IGk5MTVfcnVudGltZV9wbSAqcnBtKQorc3RhdGljIHZvaWQgaW5pdF9pbnRlbF9ydW50aW1l
X3BtX3dha2VyZWYoc3RydWN0IGludGVsX3J1bnRpbWVfcG0gKnJwbSkKIHsKIH0KIAogc3RhdGlj
IGRlcG90X3N0YWNrX2hhbmRsZV90Ci10cmFja19pbnRlbF9ydW50aW1lX3BtX3dha2VyZWYoc3Ry
dWN0IGk5MTVfcnVudGltZV9wbSAqcnBtKQordHJhY2tfaW50ZWxfcnVudGltZV9wbV93YWtlcmVm
KHN0cnVjdCBpbnRlbF9ydW50aW1lX3BtICpycG0pCiB7CiAJcmV0dXJuIC0xOwogfQogCi1zdGF0
aWMgdm9pZCB1bnRyYWNrX2ludGVsX3J1bnRpbWVfcG1fd2FrZXJlZihzdHJ1Y3QgaTkxNV9ydW50
aW1lX3BtICpycG0sCitzdGF0aWMgdm9pZCB1bnRyYWNrX2ludGVsX3J1bnRpbWVfcG1fd2FrZXJl
ZihzdHJ1Y3QgaW50ZWxfcnVudGltZV9wbSAqcnBtLAogCQkJCQkgICAgIGludGVsX3dha2VyZWZf
dCB3cmVmKQogewogfQogCiBzdGF0aWMgdm9pZAotX19pbnRlbF93YWtlcmVmX2RlY19hbmRfY2hl
Y2tfdHJhY2tpbmcoc3RydWN0IGk5MTVfcnVudGltZV9wbSAqcnBtKQorX19pbnRlbF93YWtlcmVm
X2RlY19hbmRfY2hlY2tfdHJhY2tpbmcoc3RydWN0IGludGVsX3J1bnRpbWVfcG0gKnJwbSkKIHsK
IAlhdG9taWNfZGVjKCZycG0tPndha2VyZWZfY291bnQpOwogfQogCiBzdGF0aWMgdm9pZAotdW50
cmFja19hbGxfaW50ZWxfcnVudGltZV9wbV93YWtlcmVmcyhzdHJ1Y3QgaTkxNV9ydW50aW1lX3Bt
ICpycG0pCit1bnRyYWNrX2FsbF9pbnRlbF9ydW50aW1lX3BtX3dha2VyZWZzKHN0cnVjdCBpbnRl
bF9ydW50aW1lX3BtICpycG0pCiB7CiB9CiAKICNlbmRpZgogCiBzdGF0aWMgdm9pZAotaW50ZWxf
cnVudGltZV9wbV9hY3F1aXJlKHN0cnVjdCBpOTE1X3J1bnRpbWVfcG0gKnJwbSwgYm9vbCB3YWtl
bG9jaykKK2ludGVsX3J1bnRpbWVfcG1fYWNxdWlyZShzdHJ1Y3QgaW50ZWxfcnVudGltZV9wbSAq
cnBtLCBib29sIHdha2Vsb2NrKQogewogCWlmICh3YWtlbG9jaykgewogCQlhdG9taWNfYWRkKDEg
KyBJTlRFTF9SUE1fV0FLRUxPQ0tfQklBUywgJnJwbS0+d2FrZXJlZl9jb3VudCk7CkBAIC0zODAs
NyArMzgwLDcgQEAgaW50ZWxfcnVudGltZV9wbV9hY3F1aXJlKHN0cnVjdCBpOTE1X3J1bnRpbWVf
cG0gKnJwbSwgYm9vbCB3YWtlbG9jaykKIH0KIAogc3RhdGljIHZvaWQKLWludGVsX3J1bnRpbWVf
cG1fcmVsZWFzZShzdHJ1Y3QgaTkxNV9ydW50aW1lX3BtICpycG0sIGludCB3YWtlbG9jaykKK2lu
dGVsX3J1bnRpbWVfcG1fcmVsZWFzZShzdHJ1Y3QgaW50ZWxfcnVudGltZV9wbSAqcnBtLCBpbnQg
d2FrZWxvY2spCiB7CiAJaWYgKHdha2Vsb2NrKSB7CiAJCWFzc2VydF9ycG1fd2FrZWxvY2tfaGVs
ZChycG0pOwpAQCAtMjIwOSw3ICsyMjA5LDcgQEAgaW50ZWxfZGlzcGxheV9wb3dlcl9wdXRfYXN5
bmNfd29yayhzdHJ1Y3Qgd29ya19zdHJ1Y3QgKndvcmspCiAJCWNvbnRhaW5lcl9vZih3b3JrLCBz
dHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSwKIAkJCSAgICAgcG93ZXJfZG9tYWlucy5hc3luY19wdXRf
d29yay53b3JrKTsKIAlzdHJ1Y3QgaTkxNV9wb3dlcl9kb21haW5zICpwb3dlcl9kb21haW5zID0g
JmRldl9wcml2LT5wb3dlcl9kb21haW5zOwotCXN0cnVjdCBpOTE1X3J1bnRpbWVfcG0gKnJwbSA9
ICZkZXZfcHJpdi0+cnVudGltZV9wbTsKKwlzdHJ1Y3QgaW50ZWxfcnVudGltZV9wbSAqcnBtID0g
JmRldl9wcml2LT5ydW50aW1lX3BtOwogCWludGVsX3dha2VyZWZfdCBuZXdfd29ya193YWtlcmVm
ID0gaW50ZWxfcnVudGltZV9wbV9nZXRfcmF3KHJwbSk7CiAJaW50ZWxfd2FrZXJlZl90IG9sZF93
b3JrX3dha2VyZWYgPSAwOwogCkBAIC0yMjYwLDcgKzIyNjAsNyBAQCB2b2lkIF9faW50ZWxfZGlz
cGxheV9wb3dlcl9wdXRfYXN5bmMoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUsCiAJCQkJ
ICAgICBpbnRlbF93YWtlcmVmX3Qgd2FrZXJlZikKIHsKIAlzdHJ1Y3QgaTkxNV9wb3dlcl9kb21h
aW5zICpwb3dlcl9kb21haW5zID0gJmk5MTUtPnBvd2VyX2RvbWFpbnM7Ci0Jc3RydWN0IGk5MTVf
cnVudGltZV9wbSAqcnBtID0gJmk5MTUtPnJ1bnRpbWVfcG07CisJc3RydWN0IGludGVsX3J1bnRp
bWVfcG0gKnJwbSA9ICZpOTE1LT5ydW50aW1lX3BtOwogCWludGVsX3dha2VyZWZfdCB3b3JrX3dh
a2VyZWYgPSBpbnRlbF9ydW50aW1lX3BtX2dldF9yYXcocnBtKTsKIAogCW11dGV4X2xvY2soJnBv
d2VyX2RvbWFpbnMtPmxvY2spOwpAQCAtNDk4OCw3ICs0OTg4LDcgQEAgc3RhdGljIHZvaWQgaW50
ZWxfcG93ZXJfZG9tYWluc192ZXJpZnlfc3RhdGUoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5
MTUpCiAKICNlbmRpZgogCi1zdGF0aWMgaW50ZWxfd2FrZXJlZl90IF9faW50ZWxfcnVudGltZV9w
bV9nZXQoc3RydWN0IGk5MTVfcnVudGltZV9wbSAqcnBtLAorc3RhdGljIGludGVsX3dha2VyZWZf
dCBfX2ludGVsX3J1bnRpbWVfcG1fZ2V0KHN0cnVjdCBpbnRlbF9ydW50aW1lX3BtICpycG0sCiAJ
CQkJCSAgICAgIGJvb2wgd2FrZWxvY2spCiB7CiAJaW50IHJldDsKQEAgLTUwMDEsNyArNTAwMSw3
IEBAIHN0YXRpYyBpbnRlbF93YWtlcmVmX3QgX19pbnRlbF9ydW50aW1lX3BtX2dldChzdHJ1Y3Qg
aTkxNV9ydW50aW1lX3BtICpycG0sCiAJcmV0dXJuIHRyYWNrX2ludGVsX3J1bnRpbWVfcG1fd2Fr
ZXJlZihycG0pOwogfQogCi1zdGF0aWMgaW50ZWxfd2FrZXJlZl90IGludGVsX3J1bnRpbWVfcG1f
Z2V0X3JhdyhzdHJ1Y3QgaTkxNV9ydW50aW1lX3BtICpycG0pCitzdGF0aWMgaW50ZWxfd2FrZXJl
Zl90IGludGVsX3J1bnRpbWVfcG1fZ2V0X3JhdyhzdHJ1Y3QgaW50ZWxfcnVudGltZV9wbSAqcnBt
KQogewogCXJldHVybiBfX2ludGVsX3J1bnRpbWVfcG1fZ2V0KHJwbSwgZmFsc2UpOwogfQpAQCAt
NTAzOSw3ICs1MDM5LDcgQEAgaW50ZWxfd2FrZXJlZl90IGludGVsX3J1bnRpbWVfcG1fZ2V0KHN0
cnVjdCBkcm1faTkxNV9wcml2YXRlICppOTE1KQogICovCiBpbnRlbF93YWtlcmVmX3QgaW50ZWxf
cnVudGltZV9wbV9nZXRfaWZfaW5fdXNlKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICppOTE1KQog
ewotCXN0cnVjdCBpOTE1X3J1bnRpbWVfcG0gKnJwbSA9ICZpOTE1LT5ydW50aW1lX3BtOworCXN0
cnVjdCBpbnRlbF9ydW50aW1lX3BtICpycG0gPSAmaTkxNS0+cnVudGltZV9wbTsKIAogCWlmIChJ
U19FTkFCTEVEKENPTkZJR19QTSkpIHsKIAkJLyoKQEAgLTUwNzgsNyArNTA3OCw3IEBAIGludGVs
X3dha2VyZWZfdCBpbnRlbF9ydW50aW1lX3BtX2dldF9pZl9pbl91c2Uoc3RydWN0IGRybV9pOTE1
X3ByaXZhdGUgKmk5MTUpCiAgKi8KIGludGVsX3dha2VyZWZfdCBpbnRlbF9ydW50aW1lX3BtX2dl
dF9ub3Jlc3VtZShzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSkKIHsKLQlzdHJ1Y3QgaTkx
NV9ydW50aW1lX3BtICpycG0gPSAmaTkxNS0+cnVudGltZV9wbTsKKwlzdHJ1Y3QgaW50ZWxfcnVu
dGltZV9wbSAqcnBtID0gJmk5MTUtPnJ1bnRpbWVfcG07CiAKIAlhc3NlcnRfcnBtX3dha2Vsb2Nr
X2hlbGQocnBtKTsKIAlwbV9ydW50aW1lX2dldF9ub3Jlc3VtZShycG0tPmtkZXYpOwpAQCAtNTA4
OCw3ICs1MDg4LDcgQEAgaW50ZWxfd2FrZXJlZl90IGludGVsX3J1bnRpbWVfcG1fZ2V0X25vcmVz
dW1lKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICppOTE1KQogCXJldHVybiB0cmFja19pbnRlbF9y
dW50aW1lX3BtX3dha2VyZWYocnBtKTsKIH0KIAotc3RhdGljIHZvaWQgX19pbnRlbF9ydW50aW1l
X3BtX3B1dChzdHJ1Y3QgaTkxNV9ydW50aW1lX3BtICpycG0sCitzdGF0aWMgdm9pZCBfX2ludGVs
X3J1bnRpbWVfcG1fcHV0KHN0cnVjdCBpbnRlbF9ydW50aW1lX3BtICpycG0sCiAJCQkJICAgaW50
ZWxfd2FrZXJlZl90IHdyZWYsCiAJCQkJICAgYm9vbCB3YWtlbG9jaykKIHsKQEAgLTUxMDQsNyAr
NTEwNCw3IEBAIHN0YXRpYyB2b2lkIF9faW50ZWxfcnVudGltZV9wbV9wdXQoc3RydWN0IGk5MTVf
cnVudGltZV9wbSAqcnBtLAogCiAjaWYgSVNfRU5BQkxFRChDT05GSUdfRFJNX0k5MTVfREVCVUdf
UlVOVElNRV9QTSkKIHN0YXRpYyB2b2lkCi1pbnRlbF9ydW50aW1lX3BtX3B1dF9yYXcoc3RydWN0
IGk5MTVfcnVudGltZV9wbSAqcnBtLCBpbnRlbF93YWtlcmVmX3Qgd3JlZikKK2ludGVsX3J1bnRp
bWVfcG1fcHV0X3JhdyhzdHJ1Y3QgaW50ZWxfcnVudGltZV9wbSAqcnBtLCBpbnRlbF93YWtlcmVm
X3Qgd3JlZikKIHsKIAlfX2ludGVsX3J1bnRpbWVfcG1fcHV0KHJwbSwgd3JlZiwgZmFsc2UpOwog
fQpAQCAtNTE1NSw3ICs1MTU1LDcgQEAgdm9pZCBpbnRlbF9ydW50aW1lX3BtX3B1dChzdHJ1Y3Qg
ZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSwgaW50ZWxfd2FrZXJlZl90IHdyZWYpCiAgKi8KIHZvaWQg
aW50ZWxfcnVudGltZV9wbV9lbmFibGUoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUpCiB7
Ci0Jc3RydWN0IGk5MTVfcnVudGltZV9wbSAqcnBtID0gJmk5MTUtPnJ1bnRpbWVfcG07CisJc3Ry
dWN0IGludGVsX3J1bnRpbWVfcG0gKnJwbSA9ICZpOTE1LT5ydW50aW1lX3BtOwogCXN0cnVjdCBk
ZXZpY2UgKmtkZXYgPSBycG0tPmtkZXY7CiAKIAkvKgpAQCAtNTE5Nyw3ICs1MTk3LDcgQEAgdm9p
ZCBpbnRlbF9ydW50aW1lX3BtX2VuYWJsZShzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSkK
IAogdm9pZCBpbnRlbF9ydW50aW1lX3BtX2Rpc2FibGUoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUg
Kmk5MTUpCiB7Ci0Jc3RydWN0IGk5MTVfcnVudGltZV9wbSAqcnBtID0gJmk5MTUtPnJ1bnRpbWVf
cG07CisJc3RydWN0IGludGVsX3J1bnRpbWVfcG0gKnJwbSA9ICZpOTE1LT5ydW50aW1lX3BtOwog
CXN0cnVjdCBkZXZpY2UgKmtkZXYgPSBycG0tPmtkZXY7CiAKIAkvKiBUcmFuc2ZlciBycG0gb3du
ZXJzaGlwIGJhY2sgdG8gY29yZSAqLwpAQCAtNTIxMiw3ICs1MjEyLDcgQEAgdm9pZCBpbnRlbF9y
dW50aW1lX3BtX2Rpc2FibGUoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUpCiAKIHZvaWQg
aW50ZWxfcnVudGltZV9wbV9jbGVhbnVwKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICppOTE1KQog
ewotCXN0cnVjdCBpOTE1X3J1bnRpbWVfcG0gKnJwbSA9ICZpOTE1LT5ydW50aW1lX3BtOworCXN0
cnVjdCBpbnRlbF9ydW50aW1lX3BtICpycG0gPSAmaTkxNS0+cnVudGltZV9wbTsKIAlpbnQgY291
bnQgPSBhdG9taWNfcmVhZCgmcnBtLT53YWtlcmVmX2NvdW50KTsKIAogCVdBUk4oY291bnQsCkBA
IC01MjI1LDcgKzUyMjUsNyBAQCB2b2lkIGludGVsX3J1bnRpbWVfcG1fY2xlYW51cChzdHJ1Y3Qg
ZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSkKIAogdm9pZCBpbnRlbF9ydW50aW1lX3BtX2luaXRfZWFy
bHkoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUpCiB7Ci0Jc3RydWN0IGk5MTVfcnVudGlt
ZV9wbSAqcnBtID0gJmk5MTUtPnJ1bnRpbWVfcG07CisJc3RydWN0IGludGVsX3J1bnRpbWVfcG0g
KnJwbSA9ICZpOTE1LT5ydW50aW1lX3BtOwogCXN0cnVjdCBwY2lfZGV2ICpwZGV2ID0gaTkxNS0+
ZHJtLnBkZXY7CiAJc3RydWN0IGRldmljZSAqa2RldiA9ICZwZGV2LT5kZXY7CiAKZGlmZiAtLWdp
dCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX3J1bnRpbWVfcG0uaCBiL2RyaXZlcnMvZ3B1
L2RybS9pOTE1L2ludGVsX3J1bnRpbWVfcG0uaAppbmRleCBiOTY0Y2E3YWY5YzguLjBlMzgxN2Y5
Nzg1ZSAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfcnVudGltZV9wbS5o
CisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX3J1bnRpbWVfcG0uaApAQCAtNiw2ICs2
LDcgQEAKICNpZm5kZWYgX19JTlRFTF9SVU5USU1FX1BNX0hfXwogI2RlZmluZSBfX0lOVEVMX1JV
TlRJTUVfUE1fSF9fCiAKKyNpbmNsdWRlIDxsaW51eC9kZXZpY2UuaD4KICNpbmNsdWRlIDxsaW51
eC9zdGFja2RlcG90Lmg+CiAjaW5jbHVkZSA8bGludXgvdHlwZXMuaD4KIApAQCAtMTksNiArMjAs
MTUyIEBAIGVudW0gaTkxNV9kcm1fc3VzcGVuZF9tb2RlIHsKIAlJOTE1X0RSTV9TVVNQRU5EX0hJ
QkVSTkFURSwKIH07CiAKKy8qCisgKiBUaGlzIHN0cnVjdCBoZWxwcyB0cmFja2luZyB0aGUgc3Rh
dGUgbmVlZGVkIGZvciBydW50aW1lIFBNLCB3aGljaCBwdXRzIHRoZQorICogZGV2aWNlIGluIFBD
SSBEMyBzdGF0ZS4gTm90aWNlIHRoYXQgd2hlbiB0aGlzIGhhcHBlbnMsIG5vdGhpbmcgb24gdGhl
CisgKiBncmFwaGljcyBkZXZpY2Ugd29ya3MsIGV2ZW4gcmVnaXN0ZXIgYWNjZXNzLCBzbyB3ZSBk
b24ndCBnZXQgaW50ZXJydXB0cyBub3IKKyAqIGFueXRoaW5nIGVsc2UuCisgKgorICogRXZlcnkg
cGllY2Ugb2Ygb3VyIGNvZGUgdGhhdCBuZWVkcyB0byBhY3R1YWxseSB0b3VjaCB0aGUgaGFyZHdh
cmUgbmVlZHMgdG8KKyAqIGVpdGhlciBjYWxsIGludGVsX3J1bnRpbWVfcG1fZ2V0IG9yIGNhbGwg
aW50ZWxfZGlzcGxheV9wb3dlcl9nZXQgd2l0aCB0aGUKKyAqIGFwcHJvcHJpYXRlIHBvd2VyIGRv
bWFpbi4KKyAqCisgKiBPdXIgZHJpdmVyIHVzZXMgdGhlIGF1dG9zdXNwZW5kIGRlbGF5IGZlYXR1
cmUsIHdoaWNoIG1lYW5zIHdlJ2xsIG9ubHkgcmVhbGx5CisgKiBzdXNwZW5kIGlmIHdlIHN0YXkg
d2l0aCB6ZXJvIHJlZmNvdW50IGZvciBhIGNlcnRhaW4gYW1vdW50IG9mIHRpbWUuIFRoZQorICog
ZGVmYXVsdCB2YWx1ZSBpcyBjdXJyZW50bHkgdmVyeSBjb25zZXJ2YXRpdmUgKHNlZSBpbnRlbF9y
dW50aW1lX3BtX2VuYWJsZSksIGJ1dAorICogaXQgY2FuIGJlIGNoYW5nZWQgd2l0aCB0aGUgc3Rh
bmRhcmQgcnVudGltZSBQTSBmaWxlcyBmcm9tIHN5c2ZzLgorICoKKyAqIFRoZSBpcnFzX2Rpc2Fi
bGVkIHZhcmlhYmxlIGJlY29tZXMgdHJ1ZSBleGFjdGx5IGFmdGVyIHdlIGRpc2FibGUgdGhlIElS
UXMgYW5kCisgKiBnb2VzIGJhY2sgdG8gZmFsc2UgZXhhY3RseSBiZWZvcmUgd2UgcmVlbmFibGUg
dGhlIElSUXMuIFdlIHVzZSB0aGlzIHZhcmlhYmxlCisgKiB0byBjaGVjayBpZiBzb21lb25lIGlz
IHRyeWluZyB0byBlbmFibGUvZGlzYWJsZSBJUlFzIHdoaWxlIHRoZXkncmUgc3VwcG9zZWQKKyAq
IHRvIGJlIGRpc2FibGVkLiBUaGlzIHNob3VsZG4ndCBoYXBwZW4gYW5kIHdlJ2xsIHByaW50IHNv
bWUgZXJyb3IgbWVzc2FnZXMgaW4KKyAqIGNhc2UgaXQgaGFwcGVucy4KKyAqCisgKiBGb3IgbW9y
ZSwgcmVhZCB0aGUgRG9jdW1lbnRhdGlvbi9wb3dlci9ydW50aW1lX3BtLnR4dC4KKyAqLworc3Ry
dWN0IGludGVsX3J1bnRpbWVfcG0geworCWF0b21pY190IHdha2VyZWZfY291bnQ7CisJc3RydWN0
IGRldmljZSAqa2RldjsKKwlib29sIGF2YWlsYWJsZTsKKwlib29sIHN1c3BlbmRlZDsKKwlib29s
IGlycXNfZW5hYmxlZDsKKworI2lmIElTX0VOQUJMRUQoQ09ORklHX0RSTV9JOTE1X0RFQlVHX1JV
TlRJTUVfUE0pCisJLyoKKwkgKiBUbyBhaWRlIGRldGVjdGlvbiBvZiB3YWtlcmVmIGxlYWtzIGFu
ZCBnZW5lcmFsIG1pc3VzZSwgd2UKKwkgKiB0cmFjayBhbGwgd2FrZXJlZiBob2xkZXJzLiBXaXRo
IG1hbnVhbCBtYXJrdXAgKGkuZS4gcmV0dXJuaW5nCisJICogYSBjb29raWUgdG8gZWFjaCBycG1f
Z2V0IGNhbGxlciB3aGljaCB0aGV5IHRoZW4gc3VwcGx5IHRvIHRoZWlyCisJICogcGFpcmVkIHJw
bV9wdXQpIHdlIGNhbiByZW1vdmUgY29ycmVzcG9uZGluZyBwYWlycyBvZiBhbmQga2VlcAorCSAq
IHRoZSBhcnJheSB0cmltbWVkIHRvIGFjdGl2ZSB3YWtlcmVmcy4KKwkgKi8KKwlzdHJ1Y3QgaW50
ZWxfcnVudGltZV9wbV9kZWJ1ZyB7CisJCXNwaW5sb2NrX3QgbG9jazsKKworCQlkZXBvdF9zdGFj
a19oYW5kbGVfdCBsYXN0X2FjcXVpcmU7CisJCWRlcG90X3N0YWNrX2hhbmRsZV90IGxhc3RfcmVs
ZWFzZTsKKworCQlkZXBvdF9zdGFja19oYW5kbGVfdCAqb3duZXJzOworCQl1bnNpZ25lZCBsb25n
IGNvdW50OworCX0gZGVidWc7CisjZW5kaWYKK307CisKKyNkZWZpbmUgQklUU19QRVJfV0FLRVJF
RglcCisJQklUU19QRVJfVFlQRShzdHJ1Y3RfbWVtYmVyKHN0cnVjdCBpbnRlbF9ydW50aW1lX3Bt
LCB3YWtlcmVmX2NvdW50KSkKKyNkZWZpbmUgSU5URUxfUlBNX1dBS0VMT0NLX1NISUZUCShCSVRT
X1BFUl9XQUtFUkVGIC8gMikKKyNkZWZpbmUgSU5URUxfUlBNX1dBS0VMT0NLX0JJQVMJCSgxIDw8
IElOVEVMX1JQTV9XQUtFTE9DS19TSElGVCkKKyNkZWZpbmUgSU5URUxfUlBNX1JBV19XQUtFUkVG
X01BU0sJKElOVEVMX1JQTV9XQUtFTE9DS19CSUFTIC0gMSkKKworc3RhdGljIGlubGluZSBpbnQK
K2ludGVsX3JwbV9yYXdfd2FrZXJlZl9jb3VudChpbnQgd2FrZXJlZl9jb3VudCkKK3sKKwlyZXR1
cm4gd2FrZXJlZl9jb3VudCAmIElOVEVMX1JQTV9SQVdfV0FLRVJFRl9NQVNLOworfQorCitzdGF0
aWMgaW5saW5lIGludAoraW50ZWxfcnBtX3dha2Vsb2NrX2NvdW50KGludCB3YWtlcmVmX2NvdW50
KQoreworCXJldHVybiB3YWtlcmVmX2NvdW50ID4+IElOVEVMX1JQTV9XQUtFTE9DS19TSElGVDsK
K30KKworc3RhdGljIGlubGluZSB2b2lkCithc3NlcnRfcnBtX2RldmljZV9ub3Rfc3VzcGVuZGVk
KHN0cnVjdCBpbnRlbF9ydW50aW1lX3BtICpycG0pCit7CisJV0FSTl9PTkNFKHJwbS0+c3VzcGVu
ZGVkLAorCQkgICJEZXZpY2Ugc3VzcGVuZGVkIGR1cmluZyBIVyBhY2Nlc3NcbiIpOworfQorCitz
dGF0aWMgaW5saW5lIHZvaWQKK19fYXNzZXJ0X3JwbV9yYXdfd2FrZXJlZl9oZWxkKHN0cnVjdCBp
bnRlbF9ydW50aW1lX3BtICpycG0sIGludCB3YWtlcmVmX2NvdW50KQoreworCWFzc2VydF9ycG1f
ZGV2aWNlX25vdF9zdXNwZW5kZWQocnBtKTsKKwlXQVJOX09OQ0UoIWludGVsX3JwbV9yYXdfd2Fr
ZXJlZl9jb3VudCh3YWtlcmVmX2NvdW50KSwKKwkJICAiUlBNIHJhdy13YWtlcmVmIG5vdCBoZWxk
XG4iKTsKK30KKworc3RhdGljIGlubGluZSB2b2lkCitfX2Fzc2VydF9ycG1fd2FrZWxvY2tfaGVs
ZChzdHJ1Y3QgaW50ZWxfcnVudGltZV9wbSAqcnBtLCBpbnQgd2FrZXJlZl9jb3VudCkKK3sKKwlf
X2Fzc2VydF9ycG1fcmF3X3dha2VyZWZfaGVsZChycG0sIHdha2VyZWZfY291bnQpOworCVdBUk5f
T05DRSghaW50ZWxfcnBtX3dha2Vsb2NrX2NvdW50KHdha2VyZWZfY291bnQpLAorCQkgICJSUE0g
d2FrZWxvY2sgcmVmIG5vdCBoZWxkIGR1cmluZyBIVyBhY2Nlc3NcbiIpOworfQorCitzdGF0aWMg
aW5saW5lIHZvaWQKK2Fzc2VydF9ycG1fcmF3X3dha2VyZWZfaGVsZChzdHJ1Y3QgaW50ZWxfcnVu
dGltZV9wbSAqcnBtKQoreworCV9fYXNzZXJ0X3JwbV9yYXdfd2FrZXJlZl9oZWxkKHJwbSwgYXRv
bWljX3JlYWQoJnJwbS0+d2FrZXJlZl9jb3VudCkpOworfQorCitzdGF0aWMgaW5saW5lIHZvaWQK
K2Fzc2VydF9ycG1fd2FrZWxvY2tfaGVsZChzdHJ1Y3QgaW50ZWxfcnVudGltZV9wbSAqcnBtKQor
eworCV9fYXNzZXJ0X3JwbV93YWtlbG9ja19oZWxkKHJwbSwgYXRvbWljX3JlYWQoJnJwbS0+d2Fr
ZXJlZl9jb3VudCkpOworfQorCisvKioKKyAqIGRpc2FibGVfcnBtX3dha2VyZWZfYXNzZXJ0cyAt
IGRpc2FibGUgdGhlIFJQTSBhc3NlcnQgY2hlY2tzCisgKiBAcnBtOiB0aGUgaW50ZWxfcnVudGlt
ZV9wbSBzdHJ1Y3R1cmUKKyAqCisgKiBUaGlzIGZ1bmN0aW9uIGRpc2FibGUgYXNzZXJ0cyB0aGF0
IGNoZWNrIGlmIHdlIGhvbGQgYW4gUlBNIHdha2Vsb2NrCisgKiByZWZlcmVuY2UsIHdoaWxlIGtl
ZXBpbmcgdGhlIGRldmljZS1ub3Qtc3VzcGVuZGVkIGNoZWNrcyBzdGlsbCBlbmFibGVkLgorICog
SXQncyBtZWFudCB0byBiZSB1c2VkIG9ubHkgaW4gc3BlY2lhbCBjaXJjdW1zdGFuY2VzIHdoZXJl
IG91ciBydWxlIGFib3V0CisgKiB0aGUgd2FrZWxvY2sgcmVmY291bnQgd3J0LiB0aGUgZGV2aWNl
IHBvd2VyIHN0YXRlIGRvZXNuJ3QgaG9sZC4gQWNjb3JkaW5nCisgKiB0byB0aGlzIHJ1bGUgYXQg
YW55IHBvaW50IHdoZXJlIHdlIGFjY2VzcyB0aGUgSFcgb3Igd2FudCB0byBrZWVwIHRoZSBIVyBp
bgorICogYW4gYWN0aXZlIHN0YXRlIHdlIG11c3QgaG9sZCBhbiBSUE0gd2FrZWxvY2sgcmVmZXJl
bmNlIGFjcXVpcmVkIHZpYSBvbmUgb2YKKyAqIHRoZSBpbnRlbF9ydW50aW1lX3BtX2dldCgpIGhl
bHBlcnMuIEN1cnJlbnRseSB0aGVyZSBhcmUgYSBmZXcgc3BlY2lhbCBzcG90cworICogd2hlcmUg
dGhpcyBydWxlIGRvZXNuJ3QgaG9sZDogdGhlIElSUSBhbmQgc3VzcGVuZC9yZXN1bWUgaGFuZGxl
cnMsIHRoZQorICogZm9yY2V3YWtlIHJlbGVhc2UgdGltZXIsIGFuZCB0aGUgR1BVIFJQUyBhbmQg
aGFuZ2NoZWNrIHdvcmtzLiBBbGwgb3RoZXIKKyAqIHVzZXJzIHNob3VsZCBhdm9pZCB1c2luZyB0
aGlzIGZ1bmN0aW9uLgorICoKKyAqIEFueSBjYWxscyB0byB0aGlzIGZ1bmN0aW9uIG11c3QgaGF2
ZSBhIHN5bW1ldHJpYyBjYWxsIHRvCisgKiBlbmFibGVfcnBtX3dha2VyZWZfYXNzZXJ0cygpLgor
ICovCitzdGF0aWMgaW5saW5lIHZvaWQKK2Rpc2FibGVfcnBtX3dha2VyZWZfYXNzZXJ0cyhzdHJ1
Y3QgaW50ZWxfcnVudGltZV9wbSAqcnBtKQoreworCWF0b21pY19hZGQoSU5URUxfUlBNX1dBS0VM
T0NLX0JJQVMgKyAxLAorCQkgICAmcnBtLT53YWtlcmVmX2NvdW50KTsKK30KKworLyoqCisgKiBl
bmFibGVfcnBtX3dha2VyZWZfYXNzZXJ0cyAtIHJlLWVuYWJsZSB0aGUgUlBNIGFzc2VydCBjaGVj
a3MKKyAqIEBycG06IHRoZSBpbnRlbF9ydW50aW1lX3BtIHN0cnVjdHVyZQorICoKKyAqIFRoaXMg
ZnVuY3Rpb24gcmUtZW5hYmxlcyB0aGUgUlBNIGFzc2VydCBjaGVja3MgYWZ0ZXIgZGlzYWJsaW5n
IHRoZW0gd2l0aAorICogZGlzYWJsZV9ycG1fd2FrZXJlZl9hc3NlcnRzLiBJdCdzIG1lYW50IHRv
IGJlIHVzZWQgb25seSBpbiBzcGVjaWFsCisgKiBjaXJjdW1zdGFuY2VzIG90aGVyd2lzZSBpdHMg
dXNlIHNob3VsZCBiZSBhdm9pZGVkLgorICoKKyAqIEFueSBjYWxscyB0byB0aGlzIGZ1bmN0aW9u
IG11c3QgaGF2ZSBhIHN5bW1ldHJpYyBjYWxsIHRvCisgKiBkaXNhYmxlX3JwbV93YWtlcmVmX2Fz
c2VydHMoKS4KKyAqLworc3RhdGljIGlubGluZSB2b2lkCitlbmFibGVfcnBtX3dha2VyZWZfYXNz
ZXJ0cyhzdHJ1Y3QgaW50ZWxfcnVudGltZV9wbSAqcnBtKQoreworCWF0b21pY19zdWIoSU5URUxf
UlBNX1dBS0VMT0NLX0JJQVMgKyAxLAorCQkgICAmcnBtLT53YWtlcmVmX2NvdW50KTsKK30KKwog
dm9pZCBza2xfZW5hYmxlX2RjNihzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYpOwog
dm9pZCBnZW45X3Nhbml0aXplX2RjX3N0YXRlKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZf
cHJpdik7CiB2b2lkIGJ4dF9lbmFibGVfZGM5KHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZf
cHJpdik7CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF91bmNvcmUuaCBi
L2RyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX3VuY29yZS5oCmluZGV4IGQ2YWYzZGU3MDEyMS4u
ODA0YTBmYWFjYzkxIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF91bmNv
cmUuaAorKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF91bmNvcmUuaApAQCAtMzMsNyAr
MzMsNyBAQAogI2luY2x1ZGUgImk5MTVfcmVnLmgiCiAKIHN0cnVjdCBkcm1faTkxNV9wcml2YXRl
Owotc3RydWN0IGk5MTVfcnVudGltZV9wbTsKK3N0cnVjdCBpbnRlbF9ydW50aW1lX3BtOwogc3Ry
dWN0IGludGVsX3VuY29yZTsKIAogZW51bSBmb3JjZXdha2VfZG9tYWluX2lkIHsKQEAgLTk3LDcg
Kzk3LDcgQEAgc3RydWN0IGludGVsX2ZvcmNld2FrZV9yYW5nZSB7CiBzdHJ1Y3QgaW50ZWxfdW5j
b3JlIHsKIAl2b2lkIF9faW9tZW0gKnJlZ3M7CiAKLQlzdHJ1Y3QgaTkxNV9ydW50aW1lX3BtICpy
cG07CisJc3RydWN0IGludGVsX3J1bnRpbWVfcG0gKnJwbTsKIAogCXNwaW5sb2NrX3QgbG9jazsg
LyoqIGxvY2sgaXMgYWxzbyB0YWtlbiBpbiBpcnEgY29udGV4dHMuICovCiAKLS0gCjIuMjAuMQoK
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KSW50ZWwtZ2Z4
IG1haWxpbmcgbGlzdApJbnRlbC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlz
dHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vaW50ZWwtZ2Z4

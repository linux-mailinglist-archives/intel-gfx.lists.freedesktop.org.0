Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 3A32DB7AAE
	for <lists+intel-gfx@lfdr.de>; Thu, 19 Sep 2019 15:40:25 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 8E7E26F50C;
	Thu, 19 Sep 2019 13:40:23 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga11.intel.com (mga11.intel.com [192.55.52.93])
 by gabe.freedesktop.org (Postfix) with ESMTPS id CD6C36F50C
 for <intel-gfx@lists.freedesktop.org>; Thu, 19 Sep 2019 13:40:22 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga004.jf.intel.com ([10.7.209.38])
 by fmsmga102.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 19 Sep 2019 06:40:22 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.64,523,1559545200"; d="scan'208";a="338662891"
Received: from gaia.fi.intel.com ([10.237.72.192])
 by orsmga004.jf.intel.com with ESMTP; 19 Sep 2019 06:40:20 -0700
Received: by gaia.fi.intel.com (Postfix, from userid 1000)
 id ABABA5C1E3D; Thu, 19 Sep 2019 16:39:59 +0300 (EEST)
From: Mika Kuoppala <mika.kuoppala@linux.intel.com>
To: Chris Wilson <chris@chris-wilson.co.uk>, intel-gfx@lists.freedesktop.org
In-Reply-To: <156889851819.31102.8177609464820930352@skylake-alporthouse-com>
References: <20190915163749.19540-1-chris@chris-wilson.co.uk>
 <87y2ykpho6.fsf@gaia.fi.intel.com>
 <156889851819.31102.8177609464820930352@skylake-alporthouse-com>
Date: Thu, 19 Sep 2019 16:39:59 +0300
Message-ID: <87o8zgpfps.fsf@gaia.fi.intel.com>
MIME-Version: 1.0
Subject: Re: [Intel-gfx] [PATCH] drm/i915/selftests: Exercise CS TLB
 invalidation
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

Q2hyaXMgV2lsc29uIDxjaHJpc0BjaHJpcy13aWxzb24uY28udWs+IHdyaXRlczoKCj4gUXVvdGlu
ZyBNaWthIEt1b3BwYWxhICgyMDE5LTA5LTE5IDEzOjU3OjQ1KQo+PiBDaHJpcyBXaWxzb24gPGNo
cmlzQGNocmlzLXdpbHNvbi5jby51az4gd3JpdGVzOgo+PiAKPj4gPiBDaGVjayB0aGF0IHdlIGFy
ZSBjb3JyZWN0bHkgaW52YWxpZGF0aW5nIHRoZSBUTEIgYXQgdGhlIHN0YXJ0IG9mIGEKPj4gPiBi
YXRjaCBhZnRlciB1cGRhdGluZyB0aGUgR1RULgo+PiA+Cj4+ID4gU2lnbmVkLW9mZi1ieTogQ2hy
aXMgV2lsc29uIDxjaHJpc0BjaHJpcy13aWxzb24uY28udWs+Cj4+ID4gQ2M6IE1pa2EgS3VvcHBh
bGEgPG1pa2Eua3VvcHBhbGFAbGludXguaW50ZWwuY29tPgo+PiA+IENjOiBEYW5pZWxlIENlcmFv
bG8gU3B1cmlvIDxkYW5pZWxlLmNlcmFvbG9zcHVyaW9AaW50ZWwuY29tPgo+PiA+IC0tLQo+PiA+
ICBkcml2ZXJzL2dwdS9kcm0vaTkxNS9zZWxmdGVzdHMvaTkxNV9nZW1fZ3R0LmMgfCAyMjcgKysr
KysrKysrKysrKysrKysrCj4+ID4gIDEgZmlsZSBjaGFuZ2VkLCAyMjcgaW5zZXJ0aW9ucygrKQo+
PiA+Cj4+ID4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L3NlbGZ0ZXN0cy9pOTE1
X2dlbV9ndHQuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L3NlbGZ0ZXN0cy9pOTE1X2dlbV9ndHQu
Ywo+PiA+IGluZGV4IDU5OGMxOGQxMDY0MC4uZjg3MDliMzMyYmQ3IDEwMDY0NAo+PiA+IC0tLSBh
L2RyaXZlcnMvZ3B1L2RybS9pOTE1L3NlbGZ0ZXN0cy9pOTE1X2dlbV9ndHQuYwo+PiA+ICsrKyBi
L2RyaXZlcnMvZ3B1L2RybS9pOTE1L3NlbGZ0ZXN0cy9pOTE1X2dlbV9ndHQuYwo+PiA+IEBAIC0y
NSwxMyArMjUsMTYgQEAKPj4gPiAgI2luY2x1ZGUgPGxpbnV4L2xpc3Rfc29ydC5oPgo+PiA+ICAj
aW5jbHVkZSA8bGludXgvcHJpbWVfbnVtYmVycy5oPgo+PiA+ICAKPj4gPiArI2luY2x1ZGUgImdl
bS9pOTE1X2dlbV9jb250ZXh0LmgiCj4+ID4gICNpbmNsdWRlICJnZW0vc2VsZnRlc3RzL21vY2tf
Y29udGV4dC5oIgo+PiA+ICsjaW5jbHVkZSAiZ3QvaW50ZWxfY29udGV4dC5oIgo+PiA+ICAKPj4g
PiAgI2luY2x1ZGUgImk5MTVfcmFuZG9tLmgiCj4+ID4gICNpbmNsdWRlICJpOTE1X3NlbGZ0ZXN0
LmgiCj4+ID4gIAo+PiA+ICAjaW5jbHVkZSAibW9ja19kcm0uaCIKPj4gPiAgI2luY2x1ZGUgIm1v
Y2tfZ2VtX2RldmljZS5oIgo+PiA+ICsjaW5jbHVkZSAiaWd0X2ZsdXNoX3Rlc3QuaCIKPj4gPiAg
Cj4+ID4gIHN0YXRpYyB2b2lkIGNsZWFudXBfZnJlZWRfb2JqZWN0cyhzdHJ1Y3QgZHJtX2k5MTVf
cHJpdmF0ZSAqaTkxNSkKPj4gPiAgewo+PiA+IEBAIC0xNzA1LDYgKzE3MDgsMjI5IEBAIGludCBp
OTE1X2dlbV9ndHRfbW9ja19zZWxmdGVzdHModm9pZCkKPj4gPiAgICAgICByZXR1cm4gZXJyOwo+
PiA+ICB9Cj4+ID4gIAo+PiA+ICtzdGF0aWMgaW50IGNvbnRleHRfc3luYyhzdHJ1Y3QgaW50ZWxf
Y29udGV4dCAqY2UpCj4+ID4gK3sKPj4gPiArICAgICBzdHJ1Y3QgaTkxNV9yZXF1ZXN0ICpycTsK
Pj4gPiArICAgICBsb25nIHRpbWVvdXQ7Cj4+ID4gKwo+PiA+ICsgICAgIHJxID0gaW50ZWxfY29u
dGV4dF9jcmVhdGVfcmVxdWVzdChjZSk7Cj4+ID4gKyAgICAgaWYgKElTX0VSUihycSkpCj4+ID4g
KyAgICAgICAgICAgICByZXR1cm4gUFRSX0VSUihycSk7Cj4+ID4gKwo+PiA+ICsgICAgIGk5MTVf
cmVxdWVzdF9nZXQocnEpOwo+PiA+ICsgICAgIGk5MTVfcmVxdWVzdF9hZGQocnEpOwo+PiA+ICsK
Pj4gPiArICAgICB0aW1lb3V0ID0gaTkxNV9yZXF1ZXN0X3dhaXQocnEsIDAsIEhaIC8gNSk7Cj4+
ID4gKyAgICAgaTkxNV9yZXF1ZXN0X3B1dChycSk7Cj4+ID4gKwo+PiA+ICsgICAgIHJldHVybiB0
aW1lb3V0IDwgMCA/IC1FSU8gOiAwOwo+PiA+ICt9Cj4+ID4gKwo+PiA+ICtzdGF0aWMgaW50IHN1
Ym1pdF9iYXRjaChzdHJ1Y3QgaW50ZWxfY29udGV4dCAqY2UsIHU2NCBhZGRyKQo+PiA+ICt7Cj4+
ID4gKyAgICAgc3RydWN0IGk5MTVfcmVxdWVzdCAqcnE7Cj4+ID4gKyAgICAgaW50IGVycjsKPj4g
PiArCj4+ID4gKyAgICAgcnEgPSBpbnRlbF9jb250ZXh0X2NyZWF0ZV9yZXF1ZXN0KGNlKTsKPj4g
PiArICAgICBpZiAoSVNfRVJSKHJxKSkKPj4gPiArICAgICAgICAgICAgIHJldHVybiBQVFJfRVJS
KHJxKTsKPj4gPiArCj4+ID4gKyAgICAgZXJyID0gMDsKPj4gPiArICAgICBpZiAocnEtPmVuZ2lu
ZS0+ZW1pdF9pbml0X2JyZWFkY3J1bWIpIC8qIGRldGVjdCBhIGhhbmcgKi8KPj4gCj4+IGZvciBz
ZXFubyB3cml0ZT8KPgo+IElmIHdlIGV4cGVjdCBhbiBpbml0aWFsIGJyZWFkY3J1bWIsIHdlIHVz
ZSBpdCBkdXJpbmcgcmVzZXQgdG8gaWRlbnRpZnkKPiBpZiB3ZSBhcmUgaW5zaWRlIGEgcGF5bG9h
ZCAoYXMgb3Bwb3NlZCB0byBiZWluZyBpbnNpZGUgdGhlIHNlbWFwaG9yZQo+IHdhaXQpLiBTbyB3
ZSBuZWVkIHRvIGVtaXQgdGhlIGJyZWFkY3J1bWIgaWYgd2UgbWF5IGhhbmcgaW4gb3VyIGJhdGNo
Lgo+Cj4+ID4gKyAgICAgICAgICAgICBlcnIgPSBycS0+ZW5naW5lLT5lbWl0X2luaXRfYnJlYWRj
cnVtYihycSk7Cj4+ID4gKyAgICAgaWYgKGVyciA9PSAwKQo+PiA+ICsgICAgICAgICAgICAgZXJy
ID0gcnEtPmVuZ2luZS0+ZW1pdF9iYl9zdGFydChycSwgYWRkciwgMCwgMCk7Cj4+ID4gKwo+PiAK
Pj4gSW4gY29udGV4dF9zeW5jIHBhcnQgd2UgZ3JhYmJlZCBhIHJlZmVyZW5jZS4gSW4gaGVyZSB3
ZQo+PiBkb24ndC4gSSBkb24ndCBzZWUgaG93IHdlIGNhbiBnZXQgYXdheSB3aXRob3V0IGl0IGV2
ZW4KPj4gaWYgd2UgZG9uJ3Qgd2FpdCBpbiBoZXJlLgo+Cj4gSG1tLCBJIHN1cHBvc2UgeW91IGNh
biBhcmd1ZSB0aGF0IHdlIGRvIG5vdyBoYXZlIGEgbGF0ZXIgZGVyZWYgaW4gdGhlCj4gc3Bpbm5l
ci4gVGhhdCB3YXNuJ3QgdGhlcmUgYmVmb3JlLi4uCj4KPj4gPiArICAgICB2bWEgPSBpOTE1X3Zt
YV9pbnN0YW5jZShvdXQsIHZtLCBOVUxMKTsKPj4gPiArICAgICBpZiAoSVNfRVJSKHZtYSkpIHsK
Pj4gPiArICAgICAgICAgICAgIGVyciA9IFBUUl9FUlIodm1hKTsKPj4gPiArICAgICAgICAgICAg
IGdvdG8gb3V0X2JhdGNoOwo+PiA+ICsgICAgIH0KPj4gPiArCj4+ID4gKyAgICAgZXJyID0gaTkx
NV92bWFfcGluKHZtYSwgMCwgMCwKPj4gPiArICAgICAgICAgICAgICAgICAgICAgICAgUElOX1VT
RVIgfAo+PiA+ICsgICAgICAgICAgICAgICAgICAgICAgICBQSU5fT0ZGU0VUX0ZJWEVEIHwKPj4g
PiArICAgICAgICAgICAgICAgICAgICAgICAgKHZtLT50b3RhbCAtIFBBR0VfU0laRSkpOwo+PiA+
ICsgICAgIGlmIChlcnIpCj4+ID4gKyAgICAgICAgICAgICBnb3RvIG91dF9vdXQ7Cj4+IAo+PiBv
dXRfcHV0Pwo+Cj4gSm9vbmFzIGxpa2VzIG91dDogZm9yIG5vcm1hbCBleGl0IHBhdGhzIHRoYXQg
ZG91YmxlIGZvciBlcnJvciBoYW5kbGluZy4KCk9rLiBGaW5lIHdpdGggbWUuIEkganVzdCBsaWtl
IHRoZSBsYXN0IHBhcnQgdG8gZGVzY3JpYmUgd2hhdCB0aGUgZmlyc3QgcGFydApvZiBvbmlvbiBv
dXQgZG9lcy4gRG9uJ3QgaGF2ZSB0byBzbyBtdWNoIHNjcm9sbCBiYWNrIGFuZCBmb3J0aAppbiBl
ZGl0b3IuCgo+Cj4+IE9oIGFuZCB3ZSBkb24ndCBoYXZlIHRvIGRvIGFueXRoaW5nIHdpdGggdGhl
IGluc3RhbmNlIG9uCj4+IGVycm9yIHBhdGhzPwo+Cj4gTm8uIFRoZSB2bWEgZG9lcyBub3QgeWV0
IGhhdmUgYW4gaW5kZXBlbmRlbnQgbGlmZXRpbWUgZnJvbSB0aGUgb2JqZWN0Cj4gKHRoZXkgYXJl
IGFsbCBvd25lZCBieSBvYmplY3RzIGN1cnJlbnRseSkuCj4KPj4gPiArICAgICAgICAgICAgICAg
ICAgICAgLyogUmVwbGFjZSB0aGUgVExCIHdpdGggdGFyZ2V0IGJhdGNoZXMgKi8KPj4gPiArICAg
ICAgICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGNvdW50OyBpKyspIHsKPj4gPiArICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICB1MzIgKmNzID0gYmF0Y2ggKyBpICogNjQgLyBzaXpl
b2YoKmNzKTsKPj4gPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1NjQgYWRkcjsKPj4g
PiArCj4+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdm1hLT5ub2RlLnN0YXJ0ID0g
b2Zmc2V0ICsgaSAqIFBBR0VfU0laRTsKPj4gCj4+IG9uIHByZXZpb3VzIGxvb3AsIHdlIGhhdmUg
bm93IHByaW1lZCB0aGUgcHRlIHRvIHRsYiBpbiBoZXJlPwo+Cj4gV2UncmUgdXNpbmcgdGhlIHNh
bWUgUFRFIGFzIGJlZm9yZSwgaW4gdGhlIGV4cGVjdGF0aW9uIHRoYXQgdGhlIFRMQgo+IHN0aWxs
IGNvbnRhaW5zIHRoYXQgbG9va3VwLgo+Cj4+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgdm0tPmluc2VydF9lbnRyaWVzKHZtLCB2bWEsIEk5MTVfQ0FDSEVfTk9ORSwgMCk7Cj4+IAo+
PiAuLm5vdyBjaGFuZ2luZyBpbiBpdCBoZXJlLi4uCj4+IAo+PiA+ICsKPj4gPiArICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICBhZGRyID0gdm1hLT5ub2RlLnN0YXJ0ICsgaSAqIDY0Owo+PiA+
ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNzWzRdID0gTUlfTk9PUDsKPj4gPiArICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICBjc1s2XSA9IGxvd2VyXzMyX2JpdHMoYWRkcik7Cj4+
ID4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3NbN10gPSB1cHBlcl8zMl9iaXRzKGFk
ZHIpOwo+PiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdtYigpOwo+PiA+ICsKPj4g
PiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnIgPSBzdWJtaXRfYmF0Y2goY2UsIGFk
ZHIpOwo+PiAKPj4gaW4gaG9wZSB0aGF0IHdpdGggdGhpcyBzdWJtaXNzaW9uIGhhcmR3YXJlIHdp
bGwgc2VlIHRoZSBvbGQgb25lIGFuZAo+PiBjb21wbGV0ZWx5IG1pc3MgdGhlIHN0b3JlK2JiIHN0
YXJ0Pwo+Cj4gVGhlIGhvcGUgaXMgd2Ugc2VlIHRoZSByaWdodCBwYWdlIG9mIGNvdXJzZSEgVGhl
IHRlc3QgaXMgdG8gZGV0ZWN0IHdoZW4KPiBpdCBzZWVzIHRoZSBvbGQgcGFnZSBpbnN0ZWFkLgoK
UmlnaHQsIEkgZ3Vlc3MgaXQganVzdCBkZXBlbmRzIHdobyBpcyBob3Bpbmcgd3J0IHRvIG91dGNv
bWUgPSkKCj4gIAo+PiBQZXJoYXBzIHJld2lyaW5nIGEgbW9yZSBkdW1teSBlbWl0IG9ubHkgdG8g
cHJvdmUgdGhpcyBjYXNlCj4+IGlzIHB1c2hpbmcgaXQuCj4+IAo+PiBCdXQgSSBhbSBjdXJpb3Vz
IHRvIGtub3cgaWYgeW91IGRpZCB0cnkgaXQgb3V0IGJ5IHJlbW92aW5nCj4+IHRoZSBpbnZhbGlk
YXRlIG9uIHRoZSBlbWl0cyBhbmQgbWFuYWdlZCB0byBicmluZwo+PiBvdXQgdGhlIG1pc3Npbmcg
d3JpdGVzPwo+Cj4gV2UgY2FuIGRlbW9uc3RyYXRlIGl0IG9uIFRpZ2VybGFrZSA6KQo+Cj4gSW5k
ZWVkIGl0IGRldGVjdHMgdGhlIHJlbW92ZSBvZiBNSV9JTlZBTElEQVRFX1RMQiBlbHNld2hlcmUu
CgpOZWF0IGFkZGl0aW9uIHRvIG91ciB0cmlhZ2luZyBraXQgdGhpcyB3aWxsIGJlLgotTWlrYQpf
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpJbnRlbC1nZngg
bWFpbGluZyBsaXN0CkludGVsLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0
cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9pbnRlbC1nZng=

Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id D6DBFD0771
	for <lists+intel-gfx@lfdr.de>; Wed,  9 Oct 2019 08:42:54 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 281EF6E8E3;
	Wed,  9 Oct 2019 06:42:53 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from fireflyinternet.com (mail.fireflyinternet.com [109.228.58.192])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 7902E6E8DC
 for <intel-gfx@lists.freedesktop.org>; Wed,  9 Oct 2019 06:42:36 +0000 (UTC)
X-Default-Received-SPF: pass (skip=forwardok (res=PASS))
 x-ip-name=78.156.65.138; 
Received: from haswell.alporthouse.com (unverified [78.156.65.138]) 
 by fireflyinternet.com (Firefly Internet (M1)) with ESMTP id 18772585-1500050 
 for multiple; Wed, 09 Oct 2019 07:42:25 +0100
From: Chris Wilson <chris@chris-wilson.co.uk>
To: intel-gfx@lists.freedesktop.org
Date: Wed,  9 Oct 2019 07:42:18 +0100
Message-Id: <20191009064224.25348-3-chris@chris-wilson.co.uk>
X-Mailer: git-send-email 2.23.0
In-Reply-To: <20191009064224.25348-1-chris@chris-wilson.co.uk>
References: <20191009064224.25348-1-chris@chris-wilson.co.uk>
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH v2 3/9] drm/i915/perf: allow for CS OA configs
 to be created lazily
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

RnJvbTogTGlvbmVsIExhbmR3ZXJsaW4gPGxpb25lbC5nLmxhbmR3ZXJsaW5AaW50ZWwuY29tPgoK
SGVyZSB3ZSBpbnRyb2R1Y2UgYSBtZWNoYW5pc20gYnkgd2hpY2ggdGhlIGV4ZWNidWYgcGFydCBv
ZiB0aGUgaTkxNQpkcml2ZXIgd2lsbCBiZSBhYmxlIHRvIHJlcXVlc3QgdGhhdCBhIGJhdGNoIGJ1
ZmZlciBjb250YWluaW5nIHRoZQpwcm9ncmFtbWluZyBmb3IgYSBwYXJ0aWN1bGFyIE9BIGNvbmZp
ZyBiZSBjcmVhdGVkLgoKV2UnbGwgZXhlY3V0ZSB0aGVzZSBPQSBjb25maWd1cmF0aW9uIGJ1ZmZl
cnMgcmlnaHQgYmVmb3JlIGV4ZWN1dGluZyBhCnNldCBvZiB1c2Vyc3BhY2UgY29tbWFuZHMgc28g
dGhhdCBhIHBhcnRpY3VsYXIgdXNlciBiYXRjaGJ1ZmZlciBiZQpleGVjdXRlZCB3aXRoIGEgZ2l2
ZW4gT0EgY29uZmlndXJhdGlvbi4KClRoaXMgbWVjaGFuaXNtIGVzc2VudGlhbGx5IGFsbG93cyB0
aGUgdXNlcnNwYWNlIGRyaXZlciB0byBnbyB0aHJvdWdoCnNldmVyYWwgT0EgY29uZmlndXJhdGlv
biB3aXRob3V0IGhhdmluZyB0byBvcGVuL2Nsb3NlIHRoZSBpOTE1L3BlcmYKc3RyZWFtLgoKdjI6
IE5vIG5lZWQgZm9yIGxvY2tpbmcgb24gb2JqZWN0IE9BIGNvbmZpZyBvYmplY3QgY3JlYXRpb24g
KENocmlzKQogICAgRmx1c2ggY3B1IG1hcHBpbmcgb2YgT0EgY29uZmlnIChDaHJpcykKCnYzOiBQ
cm9wZXJseSBkZWFsIHdpdGggdGhlIHBlcmZfbWV0cmljIGxvY2sgKENocmlzL0xpb25lbCkKCnY0
OiBGaXggb2EgY29uZmlnIHVucmVmL3B1dCB3aGVuIG5vdCBmb3VuZCAoTGlvbmVsKQoKdjU6IEFs
bG9jYXRlIEJPcyBmb3IgY29uZmlndXJhdGlvbnMgb24gdGhlIHN0cmVhbSBpbnN0ZWFkIG9mIGds
b2JhbGx5CiAgICAoTGlvbmVsKQoKdjY6IEZpeCA2NGJpdCBkaXZpc2lvbiAoQ2hyaXMpCgp2Nzog
U3RvcmUgYWxsb2NhdGVkIGNvbmZpZyBCT3MgaW50byB0aGUgc3RyZWFtIChMaW9uZWwpCgpTaWdu
ZWQtb2ZmLWJ5OiBMaW9uZWwgTGFuZHdlcmxpbiA8bGlvbmVsLmcubGFuZHdlcmxpbkBpbnRlbC5j
b20+ClJldmlld2VkLWJ5OiBDaHJpcyBXaWxzb24gPGNocmlzQGNocmlzLXdpbHNvbi5jby51az4g
KHY0KQotLS0KIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2dwdV9jb21tYW5kcy5oIHwg
ICAxICsKIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfcGVyZi5jICAgICAgICAgICAgIHwgMjM1
ICsrKysrKysrKysrKysrKy0tLS0KIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfcGVyZi5oICAg
ICAgICAgICAgIHwgIDMzICsrKwogZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9wZXJmX3R5cGVz
LmggICAgICAgfCAgMjMgKy0KIDQgZmlsZXMgY2hhbmdlZCwgMjQwIGluc2VydGlvbnMoKyksIDUy
IGRlbGV0aW9ucygtKQoKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVs
X2dwdV9jb21tYW5kcy5oIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZ3B1X2NvbW1h
bmRzLmgKaW5kZXggYjAyMjdhYjJmZTFiLi4wOTg3MTAwYzc4NmIgMTAwNjQ0Ci0tLSBhL2RyaXZl
cnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2dwdV9jb21tYW5kcy5oCisrKyBiL2RyaXZlcnMvZ3B1
L2RybS9pOTE1L2d0L2ludGVsX2dwdV9jb21tYW5kcy5oCkBAIC0xMzgsNiArMTM4LDcgQEAKIC8q
IEdlbjExKy4gYWRkciA9IGJhc2UgKyAoY3R4X3Jlc3RvcmUgPyBvZmZzZXQgJiBHRU5NQVNLKDEy
LDIpIDogb2Zmc2V0KSAqLwogI2RlZmluZSAgIE1JX0xSSV9DU19NTUlPCQkoMTw8MTkpCiAjZGVm
aW5lICAgTUlfTFJJX0ZPUkNFX1BPU1RFRAkJKDE8PDEyKQorI2RlZmluZSBNSV9MT0FEX1JFR0lT
VEVSX0lNTV9NQVhfUkVHUyAoMTI2KQogI2RlZmluZSBNSV9TVE9SRV9SRUdJU1RFUl9NRU0gICAg
ICAgIE1JX0lOU1RSKDB4MjQsIDEpCiAjZGVmaW5lIE1JX1NUT1JFX1JFR0lTVEVSX01FTV9HRU44
ICAgTUlfSU5TVFIoMHgyNCwgMikKICNkZWZpbmUgICBNSV9TUk1fTFJNX0dMT0JBTF9HVFQJCSgx
PDwyMikKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfcGVyZi5jIGIvZHJp
dmVycy9ncHUvZHJtL2k5MTUvaTkxNV9wZXJmLmMKaW5kZXggMDI3YTFkMzlmMDA2Li5jYzFhN2Ni
M2U0NmQgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfcGVyZi5jCisrKyBi
L2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfcGVyZi5jCkBAIC0zNjksNTIgKzM2OSwxNzYgQEAg
c3RydWN0IHBlcmZfb3Blbl9wcm9wZXJ0aWVzIHsKIAlzdHJ1Y3QgaW50ZWxfZW5naW5lX2NzICpl
bmdpbmU7CiB9OwogCitzdHJ1Y3QgaTkxNV9vYV9jb25maWdfYm8geworCXN0cnVjdCBsbGlzdF9u
b2RlIG5vZGU7CisKKwlzdHJ1Y3QgaTkxNV9vYV9jb25maWcgKm9hX2NvbmZpZzsKKwlzdHJ1Y3Qg
aTkxNV92bWEgKnZtYTsKK307CisKIHN0YXRpYyBlbnVtIGhydGltZXJfcmVzdGFydCBvYV9wb2xs
X2NoZWNrX3RpbWVyX2NiKHN0cnVjdCBocnRpbWVyICpocnRpbWVyKTsKIAotc3RhdGljIHZvaWQg
ZnJlZV9vYV9jb25maWcoc3RydWN0IGk5MTVfb2FfY29uZmlnICpvYV9jb25maWcpCit2b2lkIGk5
MTVfb2FfY29uZmlnX3JlbGVhc2Uoc3RydWN0IGtyZWYgKnJlZikKIHsKKwlzdHJ1Y3QgaTkxNV9v
YV9jb25maWcgKm9hX2NvbmZpZyA9CisJCWNvbnRhaW5lcl9vZihyZWYsIHR5cGVvZigqb2FfY29u
ZmlnKSwgcmVmKTsKKwogCWlmICghUFRSX0VSUihvYV9jb25maWctPmZsZXhfcmVncykpCiAJCWtm
cmVlKG9hX2NvbmZpZy0+ZmxleF9yZWdzKTsKIAlpZiAoIVBUUl9FUlIob2FfY29uZmlnLT5iX2Nv
dW50ZXJfcmVncykpCiAJCWtmcmVlKG9hX2NvbmZpZy0+Yl9jb3VudGVyX3JlZ3MpOwogCWlmICgh
UFRSX0VSUihvYV9jb25maWctPm11eF9yZWdzKSkKIAkJa2ZyZWUob2FfY29uZmlnLT5tdXhfcmVn
cyk7Ci0Ja2ZyZWUob2FfY29uZmlnKTsKKworCWtmcmVlX3JjdShvYV9jb25maWcsIHJjdSk7CiB9
CiAKLXN0YXRpYyB2b2lkIHB1dF9vYV9jb25maWcoc3RydWN0IGk5MTVfb2FfY29uZmlnICpvYV9j
b25maWcpCitzdHJ1Y3QgaTkxNV9vYV9jb25maWcgKgoraTkxNV9wZXJmX2dldF9vYV9jb25maWco
c3RydWN0IGk5MTVfcGVyZiAqcGVyZiwgaW50IG1ldHJpY3Nfc2V0KQogewotCWlmICghYXRvbWlj
X2RlY19hbmRfdGVzdCgmb2FfY29uZmlnLT5yZWZfY291bnQpKQotCQlyZXR1cm47CisJc3RydWN0
IGk5MTVfb2FfY29uZmlnICpvYV9jb25maWc7CisKKwlyY3VfcmVhZF9sb2NrKCk7CisJaWYgKG1l
dHJpY3Nfc2V0ID09IDEpCisJCW9hX2NvbmZpZyA9ICZwZXJmLT50ZXN0X2NvbmZpZzsKKwllbHNl
CisJCW9hX2NvbmZpZyA9IGlkcl9maW5kKCZwZXJmLT5tZXRyaWNzX2lkciwgbWV0cmljc19zZXQp
OworCWlmIChvYV9jb25maWcpCisJCW9hX2NvbmZpZyA9IGk5MTVfb2FfY29uZmlnX2dldChvYV9j
b25maWcpOworCXJjdV9yZWFkX3VubG9jaygpOwogCi0JZnJlZV9vYV9jb25maWcob2FfY29uZmln
KTsKKwlyZXR1cm4gb2FfY29uZmlnOwogfQogCi1zdGF0aWMgaW50IGdldF9vYV9jb25maWcoc3Ry
dWN0IGk5MTVfcGVyZiAqcGVyZiwKLQkJCSBpbnQgbWV0cmljc19zZXQsCi0JCQkgc3RydWN0IGk5
MTVfb2FfY29uZmlnICoqb3V0X2NvbmZpZykKK3N0YXRpYyB1MzIgKndyaXRlX2NzX21pX2xyaSh1
MzIgKmNzLAorCQkJICAgIGNvbnN0IHN0cnVjdCBpOTE1X29hX3JlZyAqcmVnX2RhdGEsCisJCQkg
ICAgdTMyIG5fcmVncykKIHsKLQlpbnQgcmV0OworCXUzMiBpOwogCi0JaWYgKG1ldHJpY3Nfc2V0
ID09IDEpIHsKLQkJKm91dF9jb25maWcgPSAmcGVyZi0+dGVzdF9jb25maWc7Ci0JCWF0b21pY19p
bmMoJnBlcmYtPnRlc3RfY29uZmlnLnJlZl9jb3VudCk7Ci0JCXJldHVybiAwOworCWZvciAoaSA9
IDA7IGkgPCBuX3JlZ3M7IGkrKykgeworCQlpZiAoKGkgJSBNSV9MT0FEX1JFR0lTVEVSX0lNTV9N
QVhfUkVHUykgPT0gMCkgeworCQkJdTMyIG5fbHJpID0gbWluX3QodTMyLAorCQkJCQkgIG5fcmVn
cyAtIGksCisJCQkJCSAgTUlfTE9BRF9SRUdJU1RFUl9JTU1fTUFYX1JFR1MpOworCisJCQkqY3Mr
KyA9IE1JX0xPQURfUkVHSVNURVJfSU1NKG5fbHJpKTsKKwkJfQorCQkqY3MrKyA9IGk5MTVfbW1p
b19yZWdfb2Zmc2V0KHJlZ19kYXRhW2ldLmFkZHIpOworCQkqY3MrKyA9IHJlZ19kYXRhW2ldLnZh
bHVlOwogCX0KIAotCXJldCA9IG11dGV4X2xvY2tfaW50ZXJydXB0aWJsZSgmcGVyZi0+bWV0cmlj
c19sb2NrKTsKLQlpZiAocmV0KQotCQlyZXR1cm4gcmV0OworCXJldHVybiBjczsKK30KIAotCSpv
dXRfY29uZmlnID0gaWRyX2ZpbmQoJnBlcmYtPm1ldHJpY3NfaWRyLCBtZXRyaWNzX3NldCk7Ci0J
aWYgKCEqb3V0X2NvbmZpZykKLQkJcmV0ID0gLUVJTlZBTDsKLQllbHNlCi0JCWF0b21pY19pbmMo
Jigqb3V0X2NvbmZpZyktPnJlZl9jb3VudCk7CitzdGF0aWMgaW50IG51bV9scmlfZHdvcmRzKGlu
dCBudW1fcmVncykKK3sKKwlpbnQgY291bnQgPSAwOwogCi0JbXV0ZXhfdW5sb2NrKCZwZXJmLT5t
ZXRyaWNzX2xvY2spOworCWlmIChudW1fcmVncyA+IDApIHsKKwkJY291bnQgKz0gRElWX1JPVU5E
X1VQKG51bV9yZWdzLCBNSV9MT0FEX1JFR0lTVEVSX0lNTV9NQVhfUkVHUyk7CisJCWNvdW50ICs9
IG51bV9yZWdzICogMjsKKwl9CiAKLQlyZXR1cm4gcmV0OworCXJldHVybiBjb3VudDsKK30KKwor
c3RhdGljIHN0cnVjdCBpOTE1X29hX2NvbmZpZ19ibyAqCithbGxvY19vYV9jb25maWdfYnVmZmVy
KHN0cnVjdCBpOTE1X3BlcmZfc3RyZWFtICpzdHJlYW0sCisJCSAgICAgICBzdHJ1Y3QgaTkxNV9v
YV9jb25maWcgKm9hX2NvbmZpZykKK3sKKwlzdHJ1Y3QgZHJtX2k5MTVfZ2VtX29iamVjdCAqb2Jq
OworCXN0cnVjdCBpOTE1X29hX2NvbmZpZ19ibyAqb2FfYm87CisJc2l6ZV90IGNvbmZpZ19sZW5n
dGggPSAwOworCXUzMiAqY3M7CisJaW50IGVycjsKKworCW9hX2JvID0ga3phbGxvYyhzaXplb2Yo
Km9hX2JvKSwgR0ZQX0tFUk5FTCk7CisJaWYgKCFvYV9ibykKKwkJcmV0dXJuIEVSUl9QVFIoLUVO
T01FTSk7CisKKwljb25maWdfbGVuZ3RoICs9IG51bV9scmlfZHdvcmRzKG9hX2NvbmZpZy0+bXV4
X3JlZ3NfbGVuKTsKKwljb25maWdfbGVuZ3RoICs9IG51bV9scmlfZHdvcmRzKG9hX2NvbmZpZy0+
Yl9jb3VudGVyX3JlZ3NfbGVuKTsKKwljb25maWdfbGVuZ3RoICs9IG51bV9scmlfZHdvcmRzKG9h
X2NvbmZpZy0+ZmxleF9yZWdzX2xlbik7CisJY29uZmlnX2xlbmd0aCsrOyAvKiBNSV9CQVRDSF9C
VUZGRVJfRU5EICovCisJY29uZmlnX2xlbmd0aCA9IEFMSUdOKHNpemVvZih1MzIpICogY29uZmln
X2xlbmd0aCwgSTkxNV9HVFRfUEFHRV9TSVpFKTsKKworCW9iaiA9IGk5MTVfZ2VtX29iamVjdF9j
cmVhdGVfc2htZW0oc3RyZWFtLT5wZXJmLT5pOTE1LCBjb25maWdfbGVuZ3RoKTsKKwlpZiAoSVNf
RVJSKG9iaikpIHsKKwkJZXJyID0gUFRSX0VSUihvYmopOworCQlnb3RvIGVycl9mcmVlOworCX0K
KworCWNzID0gaTkxNV9nZW1fb2JqZWN0X3Bpbl9tYXAob2JqLCBJOTE1X01BUF9XQik7CisJaWYg
KElTX0VSUihjcykpIHsKKwkJZXJyID0gUFRSX0VSUihjcyk7CisJCWdvdG8gZXJyX29hX2JvOwor
CX0KKworCWNzID0gd3JpdGVfY3NfbWlfbHJpKGNzLAorCQkJICAgICBvYV9jb25maWctPm11eF9y
ZWdzLAorCQkJICAgICBvYV9jb25maWctPm11eF9yZWdzX2xlbik7CisJY3MgPSB3cml0ZV9jc19t
aV9scmkoY3MsCisJCQkgICAgIG9hX2NvbmZpZy0+Yl9jb3VudGVyX3JlZ3MsCisJCQkgICAgIG9h
X2NvbmZpZy0+Yl9jb3VudGVyX3JlZ3NfbGVuKTsKKwljcyA9IHdyaXRlX2NzX21pX2xyaShjcywK
KwkJCSAgICAgb2FfY29uZmlnLT5mbGV4X3JlZ3MsCisJCQkgICAgIG9hX2NvbmZpZy0+ZmxleF9y
ZWdzX2xlbik7CisKKwkqY3MrKyA9IE1JX0JBVENIX0JVRkZFUl9FTkQ7CisKKwlpOTE1X2dlbV9v
YmplY3RfZmx1c2hfbWFwKG9iaik7CisJaTkxNV9nZW1fb2JqZWN0X3VucGluX21hcChvYmopOwor
CisJb2FfYm8tPnZtYSA9IGk5MTVfdm1hX2luc3RhbmNlKG9iaiwgJnN0cmVhbS0+Z3QtPmdndHQt
PnZtLCBOVUxMKTsKKwlpZiAoSVNfRVJSKG9hX2JvLT52bWEpKSB7CisJCWVyciA9IFBUUl9FUlIo
b2FfYm8tPnZtYSk7CisJCWdvdG8gZXJyX29hX2JvOworCX0KKworCW9hX2JvLT5vYV9jb25maWcg
PSBpOTE1X29hX2NvbmZpZ19nZXQob2FfY29uZmlnKTsKKwlsbGlzdF9hZGQoJm9hX2JvLT5ub2Rl
LCAmc3RyZWFtLT5vYV9jb25maWdfYm9zKTsKKworCXJldHVybiBvYV9ibzsKKworZXJyX29hX2Jv
OgorCWk5MTVfZ2VtX29iamVjdF9wdXQob2JqKTsKK2Vycl9mcmVlOgorCWtmcmVlKG9hX2JvKTsK
KwlyZXR1cm4gRVJSX1BUUihlcnIpOworfQorCitzdGF0aWMgdm9pZCBmcmVlX29hX2NvbmZpZ19i
byhzdHJ1Y3QgaTkxNV9vYV9jb25maWdfYm8gKm9hX2JvKQoreworCWk5MTVfb2FfY29uZmlnX3B1
dChvYV9iby0+b2FfY29uZmlnKTsKKwlpOTE1X3ZtYV9wdXQob2FfYm8tPnZtYSk7CisJa2ZyZWUo
b2FfYm8pOworfQorCitzdHJ1Y3QgaTkxNV92bWEgKgoraTkxNV9wZXJmX3N0cmVhbV9nZXRfb2Ff
dm1hKHN0cnVjdCBpOTE1X3BlcmZfc3RyZWFtICpzdHJlYW0sCisJCQkgICAgc3RydWN0IGk5MTVf
b2FfY29uZmlnICpvYV9jb25maWcpCit7CisJc3RydWN0IGk5MTVfb2FfY29uZmlnX2JvICpvYV9i
bzsKKworCS8qCisJICogTG9vayBmb3IgdGhlIGJ1ZmZlciBpbiB0aGUgYWxyZWFkeSBhbGxvY2F0
ZWQgQk9zIGF0dGFjaGVkCisJICogdG8gdGhlIHN0cmVhbS4KKwkgKi8KKwlsbGlzdF9mb3JfZWFj
aF9lbnRyeShvYV9ibywgc3RyZWFtLT5vYV9jb25maWdfYm9zLmZpcnN0LCBub2RlKSB7CisJCWlm
IChvYV9iby0+b2FfY29uZmlnID09IG9hX2NvbmZpZyAmJgorCQkgICAgbWVtY21wKG9hX2JvLT5v
YV9jb25maWctPnV1aWQsCisJCQkgICBvYV9jb25maWctPnV1aWQsCisJCQkgICBzaXplb2Yob2Ff
Y29uZmlnLT51dWlkKSkgPT0gMCkKKwkJCWdvdG8gb3V0OworCX0KKworCW9hX2JvID0gYWxsb2Nf
b2FfY29uZmlnX2J1ZmZlcihzdHJlYW0sIG9hX2NvbmZpZyk7CisJaWYgKElTX0VSUihvYV9ibykp
CisJCXJldHVybiBFUlJfQ0FTVChvYV9ibyk7CisKK291dDoKKwlyZXR1cm4gaTkxNV92bWFfZ2V0
KG9hX2JvLT52bWEpOwogfQogCiBzdGF0aWMgdTMyIGdlbjhfb2FfaHdfdGFpbF9yZWFkKHN0cnVj
dCBpOTE1X3BlcmZfc3RyZWFtICpzdHJlYW0pCkBAIC0xMzM3LDYgKzE0NjEsMTYgQEAgZnJlZV9v
YV9idWZmZXIoc3RydWN0IGk5MTVfcGVyZl9zdHJlYW0gKnN0cmVhbSkKIAlzdHJlYW0tPm9hX2J1
ZmZlci52YWRkciA9IE5VTEw7CiB9CiAKK3N0YXRpYyB2b2lkCitmcmVlX29hX2NvbmZpZ3Moc3Ry
dWN0IGk5MTVfcGVyZl9zdHJlYW0gKnN0cmVhbSkKK3sKKwlzdHJ1Y3QgaTkxNV9vYV9jb25maWdf
Ym8gKm9hX2JvLCAqdG1wOworCisJaTkxNV9vYV9jb25maWdfcHV0KHN0cmVhbS0+b2FfY29uZmln
KTsKKwlsbGlzdF9mb3JfZWFjaF9lbnRyeV9zYWZlKG9hX2JvLCB0bXAsIHN0cmVhbS0+b2FfY29u
ZmlnX2Jvcy5maXJzdCwgbm9kZSkKKwkJZnJlZV9vYV9jb25maWdfYm8ob2FfYm8pOworfQorCiBz
dGF0aWMgdm9pZCBpOTE1X29hX3N0cmVhbV9kZXN0cm95KHN0cnVjdCBpOTE1X3BlcmZfc3RyZWFt
ICpzdHJlYW0pCiB7CiAJc3RydWN0IGk5MTVfcGVyZiAqcGVyZiA9IHN0cmVhbS0+cGVyZjsKQEAg
LTEzNTgsNyArMTQ5Miw3IEBAIHN0YXRpYyB2b2lkIGk5MTVfb2Ffc3RyZWFtX2Rlc3Ryb3koc3Ry
dWN0IGk5MTVfcGVyZl9zdHJlYW0gKnN0cmVhbSkKIAlpZiAoc3RyZWFtLT5jdHgpCiAJCW9hX3B1
dF9yZW5kZXJfY3R4X2lkKHN0cmVhbSk7CiAKLQlwdXRfb2FfY29uZmlnKHN0cmVhbS0+b2FfY29u
ZmlnKTsKKwlmcmVlX29hX2NvbmZpZ3Moc3RyZWFtKTsKIAogCWlmIChwZXJmLT5zcHVyaW91c19y
ZXBvcnRfcnMubWlzc2VkKSB7CiAJCURSTV9OT1RFKCIlZCBzcHVyaW91cyBPQSByZXBvcnQgbm90
aWNlcyBzdXBwcmVzc2VkIGR1ZSB0byByYXRlbGltaXRpbmdcbiIsCkBAIC0xNTA1LDEwICsxNjM5
LDYgQEAgc3RhdGljIGludCBhbGxvY19vYV9idWZmZXIoc3RydWN0IGk5MTVfcGVyZl9zdHJlYW0g
KnN0cmVhbSkKIAkJZ290byBlcnJfdW5waW47CiAJfQogCi0JRFJNX0RFQlVHX0RSSVZFUigiT0Eg
QnVmZmVyIGluaXRpYWxpemVkLCBndHQgb2Zmc2V0ID0gMHgleCwgdmFkZHIgPSAlcFxuIiwKLQkJ
CSBpOTE1X2dndHRfb2Zmc2V0KHN0cmVhbS0+b2FfYnVmZmVyLnZtYSksCi0JCQkgc3RyZWFtLT5v
YV9idWZmZXIudmFkZHIpOwotCiAJcmV0dXJuIDA7CiAKIGVycl91bnBpbjoKQEAgLTIxOTksOSAr
MjMyOSwxMCBAQCBzdGF0aWMgaW50IGk5MTVfb2Ffc3RyZWFtX2luaXQoc3RydWN0IGk5MTVfcGVy
Zl9zdHJlYW0gKnN0cmVhbSwKIAkJfQogCX0KIAotCXJldCA9IGdldF9vYV9jb25maWcocGVyZiwg
cHJvcHMtPm1ldHJpY3Nfc2V0LCAmc3RyZWFtLT5vYV9jb25maWcpOwotCWlmIChyZXQpIHsKKwlz
dHJlYW0tPm9hX2NvbmZpZyA9IGk5MTVfcGVyZl9nZXRfb2FfY29uZmlnKHBlcmYsIHByb3BzLT5t
ZXRyaWNzX3NldCk7CisJaWYgKCFzdHJlYW0tPm9hX2NvbmZpZykgewogCQlEUk1fREVCVUcoIklu
dmFsaWQgT0EgY29uZmlnIGlkPSVpXG4iLCBwcm9wcy0+bWV0cmljc19zZXQpOworCQlyZXQgPSAt
RUlOVkFMOwogCQlnb3RvIGVycl9jb25maWc7CiAJfQogCkBAIC0yMjM0LDYgKzIzNjUsOSBAQCBz
dGF0aWMgaW50IGk5MTVfb2Ffc3RyZWFtX2luaXQoc3RydWN0IGk5MTVfcGVyZl9zdHJlYW0gKnN0
cmVhbSwKIAkJZ290byBlcnJfZW5hYmxlOwogCX0KIAorCURSTV9ERUJVRygib3BlbmluZyBzdHJl
YW0gb2EgY29uZmlnIHV1aWQ9JXNcbiIsCisJCSAgc3RyZWFtLT5vYV9jb25maWctPnV1aWQpOwor
CiAJaHJ0aW1lcl9pbml0KCZzdHJlYW0tPnBvbGxfY2hlY2tfdGltZXIsCiAJCSAgICAgQ0xPQ0tf
TU9OT1RPTklDLCBIUlRJTUVSX01PREVfUkVMKTsKIAlzdHJlYW0tPnBvbGxfY2hlY2tfdGltZXIu
ZnVuY3Rpb24gPSBvYV9wb2xsX2NoZWNrX3RpbWVyX2NiOwpAQCAtMjI0OSwxMSArMjM4MywxMSBA
QCBzdGF0aWMgaW50IGk5MTVfb2Ffc3RyZWFtX2luaXQoc3RydWN0IGk5MTVfcGVyZl9zdHJlYW0g
KnN0cmVhbSwKIAlmcmVlX29hX2J1ZmZlcihzdHJlYW0pOwogCiBlcnJfb2FfYnVmX2FsbG9jOgot
CXB1dF9vYV9jb25maWcoc3RyZWFtLT5vYV9jb25maWcpOwotCiAJaW50ZWxfdW5jb3JlX2ZvcmNl
d2FrZV9wdXQoc3RyZWFtLT5ndC0+dW5jb3JlLCBGT1JDRVdBS0VfQUxMKTsKIAlpbnRlbF9ydW50
aW1lX3BtX3B1dChzdHJlYW0tPmd0LT51bmNvcmUtPnJwbSwgc3RyZWFtLT53YWtlcmVmKTsKIAor
CWZyZWVfb2FfY29uZmlncyhzdHJlYW0pOworCiBlcnJfY29uZmlnOgogCWlmIChzdHJlYW0tPmN0
eCkKIAkJb2FfcHV0X3JlbmRlcl9jdHhfaWQoc3RyZWFtKTsKQEAgLTI3NzQsNiArMjkwOCwxNSBA
QCBpOTE1X3BlcmZfb3Blbl9pb2N0bF9sb2NrZWQoc3RydWN0IGk5MTVfcGVyZiAqcGVyZiwKIAly
ZXR1cm4gcmV0OwogfQogCitzdHJ1Y3QgaTkxNV9wZXJmX3N0cmVhbSAqCitpOTE1X3BlcmZfZmls
ZV9nZXRfc3RyZWFtKHN0cnVjdCBmaWxlICpmaWxlKQoreworCWlmIChmaWxlLT5mX29wICE9ICZm
b3BzKQorCQlyZXR1cm4gTlVMTDsKKworCXJldHVybiBmaWxlLT5wcml2YXRlX2RhdGE7Cit9CisK
IHN0YXRpYyB1NjQgb2FfZXhwb25lbnRfdG9fbnMoc3RydWN0IGk5MTVfcGVyZiAqcGVyZiwgaW50
IGV4cG9uZW50KQogewogCXJldHVybiBkaXY2NF91NjQoMTAwMDAwMDAwMFVMTCAqICgyVUxMIDw8
IGV4cG9uZW50KSwKQEAgLTMwNTgsNyArMzIwMSw4IEBAIHZvaWQgaTkxNV9wZXJmX3JlZ2lzdGVy
KHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICppOTE1KQogCWlmIChyZXQpCiAJCWdvdG8gc3lzZnNf
ZXJyb3I7CiAKLQlhdG9taWNfc2V0KCZwZXJmLT50ZXN0X2NvbmZpZy5yZWZfY291bnQsIDEpOwor
CXBlcmYtPnRlc3RfY29uZmlnLnBlcmYgPSBwZXJmOworCWtyZWZfaW5pdCgmcGVyZi0+dGVzdF9j
b25maWcucmVmKTsKIAogCWdvdG8gZXhpdDsKIApAQCAtMzMxNiw3ICszNDYwLDggQEAgaW50IGk5
MTVfcGVyZl9hZGRfY29uZmlnX2lvY3RsKHN0cnVjdCBkcm1fZGV2aWNlICpkZXYsIHZvaWQgKmRh
dGEsCiAJCXJldHVybiAtRU5PTUVNOwogCX0KIAotCWF0b21pY19zZXQoJm9hX2NvbmZpZy0+cmVm
X2NvdW50LCAxKTsKKwlvYV9jb25maWctPnBlcmYgPSBwZXJmOworCWtyZWZfaW5pdCgmb2FfY29u
ZmlnLT5yZWYpOwogCiAJaWYgKCF1dWlkX2lzX3ZhbGlkKGFyZ3MtPnV1aWQpKSB7CiAJCURSTV9E
RUJVRygiSW52YWxpZCB1dWlkIGZvcm1hdCBmb3IgT0EgY29uZmlnXG4iKTsKQEAgLTM0MTUsNyAr
MzU2MCw3IEBAIGludCBpOTE1X3BlcmZfYWRkX2NvbmZpZ19pb2N0bChzdHJ1Y3QgZHJtX2Rldmlj
ZSAqZGV2LCB2b2lkICpkYXRhLAogc3lzZnNfZXJyOgogCW11dGV4X3VubG9jaygmcGVyZi0+bWV0
cmljc19sb2NrKTsKIHJlZ19lcnI6Ci0JcHV0X29hX2NvbmZpZyhvYV9jb25maWcpOworCWk5MTVf
b2FfY29uZmlnX3B1dChvYV9jb25maWcpOwogCURSTV9ERUJVRygiRmFpbGVkIHRvIGFkZCBuZXcg
T0EgY29uZmlnXG4iKTsKIAlyZXR1cm4gZXJyOwogfQpAQCAtMzQ1MSwxMyArMzU5NiwxMyBAQCBp
bnQgaTkxNV9wZXJmX3JlbW92ZV9jb25maWdfaW9jdGwoc3RydWN0IGRybV9kZXZpY2UgKmRldiwg
dm9pZCAqZGF0YSwKIAogCXJldCA9IG11dGV4X2xvY2tfaW50ZXJydXB0aWJsZSgmcGVyZi0+bWV0
cmljc19sb2NrKTsKIAlpZiAocmV0KQotCQlnb3RvIGxvY2tfZXJyOworCQlyZXR1cm4gcmV0Owog
CiAJb2FfY29uZmlnID0gaWRyX2ZpbmQoJnBlcmYtPm1ldHJpY3NfaWRyLCAqYXJnKTsKIAlpZiAo
IW9hX2NvbmZpZykgewogCQlEUk1fREVCVUcoIkZhaWxlZCB0byByZW1vdmUgdW5rbm93biBPQSBj
b25maWdcbiIpOwogCQlyZXQgPSAtRU5PRU5UOwotCQlnb3RvIGNvbmZpZ19lcnI7CisJCWdvdG8g
ZXJyX3VubG9jazsKIAl9CiAKIAlHRU1fQlVHX09OKCphcmcgIT0gb2FfY29uZmlnLT5pZCk7CkBA
IC0zNDY3LDEzICszNjEyLDE2IEBAIGludCBpOTE1X3BlcmZfcmVtb3ZlX2NvbmZpZ19pb2N0bChz
dHJ1Y3QgZHJtX2RldmljZSAqZGV2LCB2b2lkICpkYXRhLAogCiAJaWRyX3JlbW92ZSgmcGVyZi0+
bWV0cmljc19pZHIsICphcmcpOwogCisJbXV0ZXhfdW5sb2NrKCZwZXJmLT5tZXRyaWNzX2xvY2sp
OworCiAJRFJNX0RFQlVHKCJSZW1vdmVkIGNvbmZpZyAlcyBpZD0laVxuIiwgb2FfY29uZmlnLT51
dWlkLCBvYV9jb25maWctPmlkKTsKIAotCXB1dF9vYV9jb25maWcob2FfY29uZmlnKTsKKwlpOTE1
X29hX2NvbmZpZ19wdXQob2FfY29uZmlnKTsKIAotY29uZmlnX2VycjoKKwlyZXR1cm4gMDsKKwor
ZXJyX3VubG9jazoKIAltdXRleF91bmxvY2soJnBlcmYtPm1ldHJpY3NfbG9jayk7Ci1sb2NrX2Vy
cjoKIAlyZXR1cm4gcmV0OwogfQogCkBAIC0zNjQzLDcgKzM3OTEsNyBAQCB2b2lkIGk5MTVfcGVy
Zl9pbml0KHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICppOTE1KQogCiBzdGF0aWMgaW50IGRlc3Ry
b3lfY29uZmlnKGludCBpZCwgdm9pZCAqcCwgdm9pZCAqZGF0YSkKIHsKLQlwdXRfb2FfY29uZmln
KHApOworCWk5MTVfb2FfY29uZmlnX3B1dChwKTsKIAlyZXR1cm4gMDsKIH0KIApAQCAtMzY1NSw5
ICszODAzLDYgQEAgdm9pZCBpOTE1X3BlcmZfZmluaShzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAq
aTkxNSkKIHsKIAlzdHJ1Y3QgaTkxNV9wZXJmICpwZXJmID0gJmk5MTUtPnBlcmY7CiAKLQlpZiAo
IXBlcmYtPmk5MTUpCi0JCXJldHVybjsKLQogCWlkcl9mb3JfZWFjaCgmcGVyZi0+bWV0cmljc19p
ZHIsIGRlc3Ryb3lfY29uZmlnLCBwZXJmKTsKIAlpZHJfZGVzdHJveSgmcGVyZi0+bWV0cmljc19p
ZHIpOwogCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3BlcmYuaCBiL2Ry
aXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfcGVyZi5oCmluZGV4IDI5NWUzM2U4ZWVmNy4uZjM5YTcz
NTUzYzM3IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3BlcmYuaAorKysg
Yi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3BlcmYuaApAQCAtNywxMiArNywxNiBAQAogI2Rl
ZmluZSBfX0k5MTVfUEVSRl9IX18KIAogI2luY2x1ZGUgPGxpbnV4L3R5cGVzLmg+CisjaW5jbHVk
ZSA8bGludXgva3JlZi5oPgogCiAjaW5jbHVkZSAiaTkxNV9wZXJmX3R5cGVzLmgiCiAKIHN0cnVj
dCBkcm1fZGV2aWNlOwogc3RydWN0IGRybV9maWxlOworc3RydWN0IGRybV9pOTE1X2dlbV9vYmpl
Y3Q7CiBzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZTsKK3N0cnVjdCBpOTE1X29hX2NvbmZpZzsKK3N0
cnVjdCBpOTE1X3BlcmZfc3RyZWFtOwogc3RydWN0IGludGVsX2NvbnRleHQ7CiBzdHJ1Y3QgaW50
ZWxfZW5naW5lX2NzOwogCkBAIC0yOCw3ICszMiwzNiBAQCBpbnQgaTkxNV9wZXJmX2FkZF9jb25m
aWdfaW9jdGwoc3RydWN0IGRybV9kZXZpY2UgKmRldiwgdm9pZCAqZGF0YSwKIAkJCSAgICAgICBz
dHJ1Y3QgZHJtX2ZpbGUgKmZpbGUpOwogaW50IGk5MTVfcGVyZl9yZW1vdmVfY29uZmlnX2lvY3Rs
KHN0cnVjdCBkcm1fZGV2aWNlICpkZXYsIHZvaWQgKmRhdGEsCiAJCQkJICBzdHJ1Y3QgZHJtX2Zp
bGUgKmZpbGUpOworCiB2b2lkIGk5MTVfb2FfaW5pdF9yZWdfc3RhdGUoY29uc3Qgc3RydWN0IGlu
dGVsX2NvbnRleHQgKmNlLAogCQkJICAgIGNvbnN0IHN0cnVjdCBpbnRlbF9lbmdpbmVfY3MgKmVu
Z2luZSk7CiAKK3N0cnVjdCBpOTE1X3BlcmZfc3RyZWFtICoKK2k5MTVfcGVyZl9maWxlX2dldF9z
dHJlYW0oc3RydWN0IGZpbGUgKmZpbGUpOworCitzdHJ1Y3QgaTkxNV9vYV9jb25maWcgKgoraTkx
NV9wZXJmX2dldF9vYV9jb25maWcoc3RydWN0IGk5MTVfcGVyZiAqcGVyZiwgaW50IG1ldHJpY3Nf
c2V0KTsKKworc3RydWN0IGk5MTVfdm1hICoKK2k5MTVfcGVyZl9zdHJlYW1fZ2V0X29hX3ZtYShz
dHJ1Y3QgaTkxNV9wZXJmX3N0cmVhbSAqc3RyZWFtLAorCQkJICAgIHN0cnVjdCBpOTE1X29hX2Nv
bmZpZyAqb2FfY29uZmlnKTsKKworc3RhdGljIGlubGluZSBzdHJ1Y3QgaTkxNV9vYV9jb25maWcg
KgoraTkxNV9vYV9jb25maWdfZ2V0KHN0cnVjdCBpOTE1X29hX2NvbmZpZyAqb2FfY29uZmlnKQor
eworCWlmIChrcmVmX2dldF91bmxlc3NfemVybygmb2FfY29uZmlnLT5yZWYpKQorCQlyZXR1cm4g
b2FfY29uZmlnOworCWVsc2UKKwkJcmV0dXJuIE5VTEw7Cit9CisKK3ZvaWQgaTkxNV9vYV9jb25m
aWdfcmVsZWFzZShzdHJ1Y3Qga3JlZiAqcmVmKTsKK3N0YXRpYyBpbmxpbmUgdm9pZCBpOTE1X29h
X2NvbmZpZ19wdXQoc3RydWN0IGk5MTVfb2FfY29uZmlnICpvYV9jb25maWcpCit7CisJaWYgKCFv
YV9jb25maWcpCisJCXJldHVybjsKKworCWtyZWZfcHV0KCZvYV9jb25maWctPnJlZiwgaTkxNV9v
YV9jb25maWdfcmVsZWFzZSk7Cit9CisKICNlbmRpZiAvKiBfX0k5MTVfUEVSRl9IX18gKi8KZGlm
ZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfcGVyZl90eXBlcy5oIGIvZHJpdmVy
cy9ncHUvZHJtL2k5MTUvaTkxNV9wZXJmX3R5cGVzLmgKaW5kZXggODJjZDNiMjk1MDM3Li43YWZl
YTI2N2ZmM2YgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfcGVyZl90eXBl
cy5oCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfcGVyZl90eXBlcy5oCkBAIC05LDcg
KzksNyBAQAogI2luY2x1ZGUgPGxpbnV4L2F0b21pYy5oPgogI2luY2x1ZGUgPGxpbnV4L2Rldmlj
ZS5oPgogI2luY2x1ZGUgPGxpbnV4L2hydGltZXIuaD4KLSNpbmNsdWRlIDxsaW51eC9saXN0Lmg+
CisjaW5jbHVkZSA8bGludXgvbGxpc3QuaD4KICNpbmNsdWRlIDxsaW51eC9wb2xsLmg+CiAjaW5j
bHVkZSA8bGludXgvc3lzZnMuaD4KICNpbmNsdWRlIDxsaW51eC90eXBlcy5oPgpAQCAtMjIsNiAr
MjIsNyBAQAogc3RydWN0IGRybV9pOTE1X3ByaXZhdGU7CiBzdHJ1Y3QgZmlsZTsKIHN0cnVjdCBp
OTE1X2dlbV9jb250ZXh0Oworc3RydWN0IGk5MTVfcGVyZjsKIHN0cnVjdCBpOTE1X3ZtYTsKIHN0
cnVjdCBpbnRlbF9jb250ZXh0Owogc3RydWN0IGludGVsX2VuZ2luZV9jczsKQEAgLTM3LDYgKzM4
LDggQEAgc3RydWN0IGk5MTVfb2FfcmVnIHsKIH07CiAKIHN0cnVjdCBpOTE1X29hX2NvbmZpZyB7
CisJc3RydWN0IGk5MTVfcGVyZiAqcGVyZjsKKwogCWNoYXIgdXVpZFtVVUlEX1NUUklOR19MRU4g
KyAxXTsKIAlpbnQgaWQ7CiAKQEAgLTUxLDcgKzU0LDggQEAgc3RydWN0IGk5MTVfb2FfY29uZmln
IHsKIAlzdHJ1Y3QgYXR0cmlidXRlICphdHRyc1syXTsKIAlzdHJ1Y3QgZGV2aWNlX2F0dHJpYnV0
ZSBzeXNmc19tZXRyaWNfaWQ7CiAKLQlhdG9taWNfdCByZWZfY291bnQ7CisJc3RydWN0IGtyZWYg
cmVmOworCXN0cnVjdCByY3VfaGVhZCByY3U7CiB9OwogCiBzdHJ1Y3QgaTkxNV9wZXJmX3N0cmVh
bTsKQEAgLTE4Myw2ICsxODcsMTIgQEAgc3RydWN0IGk5MTVfcGVyZl9zdHJlYW0gewogCSAqLwog
CXN0cnVjdCBpOTE1X29hX2NvbmZpZyAqb2FfY29uZmlnOwogCisJLyoqCisJICogQG9hX2NvbmZp
Z19ib3M6IEEgbGlzdCBvZiBzdHJ1Y3QgaTkxNV9vYV9jb25maWdfYm8gYWxsb2NhdGVkIGxhemls
eQorCSAqIGVhY2ggdGltZSBAb2FfY29uZmlnIGNoYW5nZXMuCisJICovCisJc3RydWN0IGxsaXN0
X2hlYWQgb2FfY29uZmlnX2JvczsKKwogCS8qKgogCSAqIEBwaW5uZWRfY3R4OiBUaGUgT0EgY29u
dGV4dCBzcGVjaWZpYyBpbmZvcm1hdGlvbi4KIAkgKi8KQEAgLTMzNywxMyArMzQ3LDEzIEBAIHN0
cnVjdCBpOTE1X3BlcmYgewogCiAJLyoKIAkgKiBMb2NrIGFzc29jaWF0ZWQgd2l0aCBhZGRpbmcv
bW9kaWZ5aW5nL3JlbW92aW5nIE9BIGNvbmZpZ3MKLQkgKiBpbiBkZXZfcHJpdi0+cGVyZi5tZXRy
aWNzX2lkci4KKwkgKiBpbiBwZXJmLT5tZXRyaWNzX2lkci4KIAkgKi8KIAlzdHJ1Y3QgbXV0ZXgg
bWV0cmljc19sb2NrOwogCiAJLyoKLQkgKiBMaXN0IG9mIGR5bmFtaWMgY29uZmlndXJhdGlvbnMs
IHlvdSBuZWVkIHRvIGhvbGQKLQkgKiBkZXZfcHJpdi0+cGVyZi5tZXRyaWNzX2xvY2sgdG8gYWNj
ZXNzIGl0LgorCSAqIExpc3Qgb2YgZHluYW1pYyBjb25maWd1cmF0aW9ucyAoc3RydWN0IGk5MTVf
b2FfY29uZmlnKSwgeW91CisJICogbmVlZCB0byBob2xkIHBlcmYtPm1ldHJpY3NfbG9jayB0byBh
Y2Nlc3MgaXQuCiAJICovCiAJc3RydWN0IGlkciBtZXRyaWNzX2lkcjsKIApAQCAtMzU2LDggKzM2
Niw3IEBAIHN0cnVjdCBpOTE1X3BlcmYgewogCS8qCiAJICogVGhlIHN0cmVhbSBjdXJyZW50bHkg
dXNpbmcgdGhlIE9BIHVuaXQuIElmIGFjY2Vzc2VkCiAJICogb3V0c2lkZSBhIHN5c2NhbGwgYXNz
b2NpYXRlZCB0byBpdHMgZmlsZQotCSAqIGRlc2NyaXB0b3IsIHlvdSBuZWVkIHRvIGhvbGQKLQkg
KiBkZXZfcHJpdi0+ZHJtLnN0cnVjdF9tdXRleC4KKwkgKiBkZXNjcmlwdG9yLgogCSAqLwogCXN0
cnVjdCBpOTE1X3BlcmZfc3RyZWFtICpleGNsdXNpdmVfc3RyZWFtOwogCi0tIAoyLjIzLjAKCl9f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCkludGVsLWdmeCBt
YWlsaW5nIGxpc3QKSW50ZWwtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3Rz
LmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2ludGVsLWdmeA==

Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 7936046364
	for <lists+intel-gfx@lfdr.de>; Fri, 14 Jun 2019 17:52:01 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id E6B4489ABA;
	Fri, 14 Jun 2019 15:51:59 +0000 (UTC)
X-Original-To: Intel-gfx@lists.freedesktop.org
Delivered-To: Intel-gfx@lists.freedesktop.org
Received: from mga03.intel.com (mga03.intel.com [134.134.136.65])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 2A07089ABA
 for <Intel-gfx@lists.freedesktop.org>; Fri, 14 Jun 2019 15:51:59 +0000 (UTC)
X-Amp-Result: UNSCANNABLE
X-Amp-File-Uploaded: False
Received: from orsmga008.jf.intel.com ([10.7.209.65])
 by orsmga103.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 14 Jun 2019 08:51:58 -0700
Received: from rdvivi-losangeles.jf.intel.com (HELO intel.com) ([10.7.196.65])
 by orsmga008-auth.jf.intel.com with
 ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384; 14 Jun 2019 08:51:58 -0700
Date: Fri, 14 Jun 2019 08:52:29 -0700
From: Rodrigo Vivi <rodrigo.vivi@intel.com>
To: Tvrtko Ursulin <tvrtko.ursulin@linux.intel.com>
Message-ID: <20190614155229.GH19512@intel.com>
References: <20190614151731.17608-1-tvrtko.ursulin@linux.intel.com>
 <20190614151731.17608-16-tvrtko.ursulin@linux.intel.com>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <20190614151731.17608-16-tvrtko.ursulin@linux.intel.com>
User-Agent: Mutt/1.11.3 (2019-02-01)
Subject: Re: [Intel-gfx] [RFC 15/31] drm/i915: Stop using I915_READ/WRITE in
 intel_wopcm_init_hw
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: Intel-gfx@lists.freedesktop.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

T24gRnJpLCBKdW4gMTQsIDIwMTkgYXQgMDQ6MTc6MTVQTSArMDEwMCwgVHZydGtvIFVyc3VsaW4g
d3JvdGU6Cj4gRnJvbTogVHZydGtvIFVyc3VsaW4gPHR2cnRrby51cnN1bGluQGludGVsLmNvbT4K
PiAKPiBNb3JlIGxlZ2FjeSBtbWlvIGFjY2Vzc29yIHJlbW92YWwuIFdlIHBhc3MgaW4gaW50ZWxf
Z3QgZXhwbGljaXRseSBhbGxvd2luZwo+IGNvZGUgdG8gdXNlIG5ldyBpbnRlbF91bmNvcmVfcmVh
ZC93cml0ZSBoZWxwZXJzLgo+IAo+IFNpZ25lZC1vZmYtYnk6IFR2cnRrbyBVcnN1bGluIDx0dnJ0
a28udXJzdWxpbkBpbnRlbC5jb20+CgpSZXZpZXdlZC1ieTogUm9kcmlnbyBWaXZpIDxyb2RyaWdv
LnZpdmlAaW50ZWwuY29tPgoKPiAtLS0KPiAgZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9nZW0u
YyAgICB8ICAyICstCj4gIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX3dvcGNtLmMgfCAzMSAr
KysrKysrKysrKysrKysrLS0tLS0tLS0tLS0tLS0KPiAgZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50
ZWxfd29wY20uaCB8ICA0ICsrKy0KPiAgMyBmaWxlcyBjaGFuZ2VkLCAyMSBpbnNlcnRpb25zKCsp
LCAxNiBkZWxldGlvbnMoLSkKPiAKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUv
aTkxNV9nZW0uYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZ2VtLmMKPiBpbmRleCA3N2Q5
ZDA5MmIyZjQuLmI3Zjg4ZTJiZDdkZiAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkx
NS9pOTE1X2dlbS5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9nZW0uYwo+IEBA
IC0xMjc1LDcgKzEyNzUsNyBAQCBzdGF0aWMgaW50IGluaXRfaHcoc3RydWN0IGludGVsX2d0ICpn
dCkKPiAgCQlnb3RvIG91dDsKPiAgCX0KPiAgCj4gLQlyZXQgPSBpbnRlbF93b3BjbV9pbml0X2h3
KCZpOTE1LT53b3BjbSk7Cj4gKwlyZXQgPSBpbnRlbF93b3BjbV9pbml0X2h3KCZpOTE1LT53b3Bj
bSwgZ3QpOwo+ICAJaWYgKHJldCkgewo+ICAJCURSTV9FUlJPUigiRW5hYmxpbmcgV09QQ00gZmFp
bGVkICglZClcbiIsIHJldCk7Cj4gIAkJZ290byBvdXQ7Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMv
Z3B1L2RybS9pOTE1L2ludGVsX3dvcGNtLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF93
b3BjbS5jCj4gaW5kZXggN2I0YmE4NGI5ZmI4Li45MzE5ODdlMzcyNDEgMTAwNjQ0Cj4gLS0tIGEv
ZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfd29wY20uYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2ludGVsX3dvcGNtLmMKPiBAQCAtMjI1LDE3ICsyMjUsMTggQEAgaW50IGludGVsX3dv
cGNtX2luaXQoc3RydWN0IGludGVsX3dvcGNtICp3b3BjbSkKPiAgCXJldHVybiAwOwo+ICB9Cj4g
IAo+IC1zdGF0aWMgaW5saW5lIGludCB3cml0ZV9hbmRfdmVyaWZ5KHN0cnVjdCBkcm1faTkxNV9w
cml2YXRlICpkZXZfcHJpdiwKPiAtCQkJCSAgIGk5MTVfcmVnX3QgcmVnLCB1MzIgdmFsLCB1MzIg
bWFzaywKPiAtCQkJCSAgIHUzMiBsb2NrZWRfYml0KQo+ICtzdGF0aWMgaW50Cj4gK3dyaXRlX2Fu
ZF92ZXJpZnkoc3RydWN0IGludGVsX2d0ICpndCwKPiArCQkgaTkxNV9yZWdfdCByZWcsIHUzMiB2
YWwsIHUzMiBtYXNrLCB1MzIgbG9ja2VkX2JpdCkKPiAgewo+ICsJc3RydWN0IGludGVsX3VuY29y
ZSAqdW5jb3JlID0gZ3QtPnVuY29yZTsKPiAgCXUzMiByZWdfdmFsOwo+ICAKPiAgCUdFTV9CVUdf
T04odmFsICYgfm1hc2spOwo+ICAKPiAtCUk5MTVfV1JJVEUocmVnLCB2YWwpOwo+ICsJaW50ZWxf
dW5jb3JlX3dyaXRlKHVuY29yZSwgcmVnLCB2YWwpOwo+ICAKPiAtCXJlZ192YWwgPSBJOTE1X1JF
QUQocmVnKTsKPiArCXJlZ192YWwgPSBpbnRlbF91bmNvcmVfcmVhZCh1bmNvcmUsIHJlZyk7Cj4g
IAo+ICAJcmV0dXJuIChyZWdfdmFsICYgbWFzaykgIT0gKHZhbCB8IGxvY2tlZF9iaXQpID8gLUVJ
TyA6IDA7Cj4gIH0KPiBAQCAtMjUwLDI5ICsyNTEsMzAgQEAgc3RhdGljIGlubGluZSBpbnQgd3Jp
dGVfYW5kX3ZlcmlmeShzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYsCj4gICAqCj4g
ICAqIFJldHVybjogMCBvbiBzdWNjZXNzLiAtRUlPIGlmIHJlZ2lzdGVycyB3ZXJlIGxvY2tlZCB3
aXRoIGluY29ycmVjdCB2YWx1ZXMuCj4gICAqLwo+IC1pbnQgaW50ZWxfd29wY21faW5pdF9odyhz
dHJ1Y3QgaW50ZWxfd29wY20gKndvcGNtKQo+ICtpbnQgaW50ZWxfd29wY21faW5pdF9odyhzdHJ1
Y3QgaW50ZWxfd29wY20gKndvcGNtLCBzdHJ1Y3QgaW50ZWxfZ3QgKmd0KQo+ICB7Cj4gLQlzdHJ1
Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYgPSB3b3BjbV90b19pOTE1KHdvcGNtKTsKPiAr
CXN0cnVjdCBkcm1faTkxNV9wcml2YXRlICppOTE1ID0gd29wY21fdG9faTkxNSh3b3BjbSk7Cj4g
KwlzdHJ1Y3QgaW50ZWxfdW5jb3JlICp1bmNvcmUgPSBndC0+dW5jb3JlOwo+ICAJdTMyIGh1Y19h
Z2VudDsKPiAgCXUzMiBtYXNrOwo+ICAJaW50IGVycjsKPiAgCj4gLQlpZiAoIVVTRVNfR1VDKGRl
dl9wcml2KSkKPiArCWlmICghVVNFU19HVUMoaTkxNSkpCj4gIAkJcmV0dXJuIDA7Cj4gIAo+IC0J
R0VNX0JVR19PTighSEFTX0dVQyhkZXZfcHJpdikpOwo+ICsJR0VNX0JVR19PTighSEFTX0dVQyhp
OTE1KSk7Cj4gIAlHRU1fQlVHX09OKCF3b3BjbS0+Z3VjLnNpemUpOwo+ICAJR0VNX0JVR19PTigh
d29wY20tPmd1Yy5iYXNlKTsKPiAgCj4gLQllcnIgPSB3cml0ZV9hbmRfdmVyaWZ5KGRldl9wcml2
LCBHVUNfV09QQ01fU0laRSwgd29wY20tPmd1Yy5zaXplLAo+ICsJZXJyID0gd3JpdGVfYW5kX3Zl
cmlmeShndCwgR1VDX1dPUENNX1NJWkUsIHdvcGNtLT5ndWMuc2l6ZSwKPiAgCQkJICAgICAgIEdV
Q19XT1BDTV9TSVpFX01BU0sgfCBHVUNfV09QQ01fU0laRV9MT0NLRUQsCj4gIAkJCSAgICAgICBH
VUNfV09QQ01fU0laRV9MT0NLRUQpOwo+ICAJaWYgKGVycikKPiAgCQlnb3RvIGVycl9vdXQ7Cj4g
IAo+IC0JaHVjX2FnZW50ID0gVVNFU19IVUMoZGV2X3ByaXYpID8gSFVDX0xPQURJTkdfQUdFTlRf
R1VDIDogMDsKPiArCWh1Y19hZ2VudCA9IFVTRVNfSFVDKGk5MTUpID8gSFVDX0xPQURJTkdfQUdF
TlRfR1VDIDogMDsKPiAgCW1hc2sgPSBHVUNfV09QQ01fT0ZGU0VUX01BU0sgfCBHVUNfV09QQ01f
T0ZGU0VUX1ZBTElEIHwgaHVjX2FnZW50Owo+IC0JZXJyID0gd3JpdGVfYW5kX3ZlcmlmeShkZXZf
cHJpdiwgRE1BX0dVQ19XT1BDTV9PRkZTRVQsCj4gKwllcnIgPSB3cml0ZV9hbmRfdmVyaWZ5KGd0
LCBETUFfR1VDX1dPUENNX09GRlNFVCwKPiAgCQkJICAgICAgIHdvcGNtLT5ndWMuYmFzZSB8IGh1
Y19hZ2VudCwgbWFzaywKPiAgCQkJICAgICAgIEdVQ19XT1BDTV9PRkZTRVRfVkFMSUQpOwo+ICAJ
aWYgKGVycikKPiBAQCAtMjgzLDggKzI4NSw5IEBAIGludCBpbnRlbF93b3BjbV9pbml0X2h3KHN0
cnVjdCBpbnRlbF93b3BjbSAqd29wY20pCj4gIGVycl9vdXQ6Cj4gIAlEUk1fRVJST1IoIkZhaWxl
ZCB0byBpbml0IFdPUENNIHJlZ2lzdGVyczpcbiIpOwo+ICAJRFJNX0VSUk9SKCJETUFfR1VDX1dP
UENNX09GRlNFVD0lI3hcbiIsCj4gLQkJICBJOTE1X1JFQUQoRE1BX0dVQ19XT1BDTV9PRkZTRVQp
KTsKPiAtCURSTV9FUlJPUigiR1VDX1dPUENNX1NJWkU9JSN4XG4iLCBJOTE1X1JFQUQoR1VDX1dP
UENNX1NJWkUpKTsKPiArCQkgIGludGVsX3VuY29yZV9yZWFkKHVuY29yZSwgRE1BX0dVQ19XT1BD
TV9PRkZTRVQpKTsKPiArCURSTV9FUlJPUigiR1VDX1dPUENNX1NJWkU9JSN4XG4iLAo+ICsJCSAg
aW50ZWxfdW5jb3JlX3JlYWQodW5jb3JlLCBHVUNfV09QQ01fU0laRSkpOwo+ICAKPiAgCXJldHVy
biBlcnI7Cj4gIH0KPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfd29w
Y20uaCBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX3dvcGNtLmgKPiBpbmRleCAxMTQ0MDE5
NzE1MjAuLjU2YWFlZDRkNjRmZiAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9p
bnRlbF93b3BjbS5oCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfd29wY20uaAo+
IEBAIC05LDYgKzksOCBAQAo+ICAKPiAgI2luY2x1ZGUgPGxpbnV4L3R5cGVzLmg+Cj4gIAo+ICtz
dHJ1Y3QgaW50ZWxfZ3Q7Cj4gKwo+ICAvKioKPiAgICogc3RydWN0IGludGVsX3dvcGNtIC0gT3Zl
cmFsbCBXT1BDTSBpbmZvIGFuZCBXT1BDTSByZWdpb25zLgo+ICAgKiBAc2l6ZTogU2l6ZSBvZiBv
dmVyYWxsIFdPUENNLgo+IEBAIC00MSw2ICs0Myw2IEBAIHN0YXRpYyBpbmxpbmUgdTMyIGludGVs
X3dvcGNtX2d1Y19zaXplKHN0cnVjdCBpbnRlbF93b3BjbSAqd29wY20pCj4gIAo+ICB2b2lkIGlu
dGVsX3dvcGNtX2luaXRfZWFybHkoc3RydWN0IGludGVsX3dvcGNtICp3b3BjbSk7Cj4gIGludCBp
bnRlbF93b3BjbV9pbml0KHN0cnVjdCBpbnRlbF93b3BjbSAqd29wY20pOwo+IC1pbnQgaW50ZWxf
d29wY21faW5pdF9odyhzdHJ1Y3QgaW50ZWxfd29wY20gKndvcGNtKTsKPiAraW50IGludGVsX3dv
cGNtX2luaXRfaHcoc3RydWN0IGludGVsX3dvcGNtICp3b3BjbSwgc3RydWN0IGludGVsX2d0ICpn
dCk7Cj4gIAo+ICAjZW5kaWYKPiAtLSAKPiAyLjIwLjEKPiAKX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX18KSW50ZWwtZ2Z4IG1haWxpbmcgbGlzdApJbnRlbC1n
ZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21h
aWxtYW4vbGlzdGluZm8vaW50ZWwtZ2Z4

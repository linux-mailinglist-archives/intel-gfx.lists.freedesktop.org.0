Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 71D8E7A5B4
	for <lists+intel-gfx@lfdr.de>; Tue, 30 Jul 2019 12:11:33 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 9862089733;
	Tue, 30 Jul 2019 10:11:31 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga11.intel.com (mga11.intel.com [192.55.52.93])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 9889689733
 for <intel-gfx@lists.freedesktop.org>; Tue, 30 Jul 2019 10:11:30 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga005.jf.intel.com ([10.7.209.41])
 by fmsmga102.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 30 Jul 2019 03:11:29 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.64,326,1559545200"; d="scan'208";a="346943610"
Received: from hinestho-mobl1.amr.corp.intel.com (HELO [10.252.1.47])
 ([10.252.1.47])
 by orsmga005.jf.intel.com with ESMTP; 30 Jul 2019 03:11:28 -0700
To: Chris Wilson <chris@chris-wilson.co.uk>, intel-gfx@lists.freedesktop.org
References: <20190729113720.24830-1-chris@chris-wilson.co.uk>
 <ebd04eda-421f-2456-0131-ef059cf3dd40@linux.intel.com>
 <156447925713.6373.18440626113643596039@skylake-alporthouse-com>
From: Tvrtko Ursulin <tvrtko.ursulin@linux.intel.com>
Organization: Intel Corporation UK Plc
Message-ID: <0a3241a6-3880-5f37-aabc-5437dfa7ac58@linux.intel.com>
Date: Tue, 30 Jul 2019 11:11:27 +0100
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101
 Thunderbird/60.8.0
MIME-Version: 1.0
In-Reply-To: <156447925713.6373.18440626113643596039@skylake-alporthouse-com>
Content-Language: en-US
Subject: Re: [Intel-gfx] [PATCH] drm/i915: Inline engine->init_context into
 its caller
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

Ck9uIDMwLzA3LzIwMTkgMTA6MzQsIENocmlzIFdpbHNvbiB3cm90ZToKPiBRdW90aW5nIFR2cnRr
byBVcnN1bGluICgyMDE5LTA3LTI5IDE1OjQ5OjI5KQo+Pgo+PiBPbiAyOS8wNy8yMDE5IDEyOjM3
LCBDaHJpcyBXaWxzb24gd3JvdGU6Cj4+PiBXZSBvbmx5IHVzZSB0aGUgaW5pdF9jb250ZXh0IHZm
dW5jIG9uY2Ugd2hpbGUgcmVjb3JkaW5nIHRoZSBkZWZhdWx0Cj4+PiBjb250ZXh0IHN0YXRlLCBh
bmQgd2UgdXNlIHRoZSBzYW1lIHNlcXVlbmNlIGluIGVhY2ggYmFja2VuZCAoZWxpZGluZwo+Pj4g
c3RlcHMgdGhhdCBkbyBub3QgYXBwbHkpLiBSZW1vdmUgdGhlIHZmdW5jIGZvciBzaW1wbGljaXR5
IGFuZAo+Pj4gZGUtZHVwbGljYXRpb24uCj4+Pgo+Pj4gU2lnbmVkLW9mZi1ieTogQ2hyaXMgV2ls
c29uIDxjaHJpc0BjaHJpcy13aWxzb24uY28udWs+Cj4+PiAtLS0KPj4+ICAgIGRyaXZlcnMvZ3B1
L2RybS9pOTE1L2d0L2ludGVsX2VuZ2luZV90eXBlcy5oIHwgIDEgLQo+Pj4gICAgZHJpdmVycy9n
cHUvZHJtL2k5MTUvZ3QvaW50ZWxfbHJjLmMgICAgICAgICAgfCAyMSAtLS0tLS0tLS0tLS0tLS0t
LS0tLQo+Pj4gICAgZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfbW9jcy5jICAgICAgICAg
fCAgNSArKysrLQo+Pj4gICAgZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfbW9jcy5oICAg
ICAgICAgfCAgMyArKy0KPj4+ICAgIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX3JlbmRl
cnN0YXRlLmMgIHwgIDIgKy0KPj4+ICAgIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX3Jp
bmdidWZmZXIuYyAgIHwgMTggLS0tLS0tLS0tLS0tLS0tLS0KPj4+ICAgIGRyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2k5MTVfZ2VtLmMgICAgICAgICAgICAgIHwgMjEgKysrKysrKysrKysrKysrKystLS0K
Pj4+ICAgIDcgZmlsZXMgY2hhbmdlZCwgMjUgaW5zZXJ0aW9ucygrKSwgNDYgZGVsZXRpb25zKC0p
Cj4+Pgo+Pj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2VuZ2lu
ZV90eXBlcy5oIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZW5naW5lX3R5cGVzLmgK
Pj4+IGluZGV4IDhiZTYzMDE5ZDcwNy4uZGE2MWRkMzI5MjEwIDEwMDY0NAo+Pj4gLS0tIGEvZHJp
dmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZW5naW5lX3R5cGVzLmgKPj4+ICsrKyBiL2RyaXZl
cnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2VuZ2luZV90eXBlcy5oCj4+PiBAQCAtMzgzLDcgKzM4
Myw2IEBAIHN0cnVjdCBpbnRlbF9lbmdpbmVfY3Mgewo+Pj4gICAgICAgIGNvbnN0IHN0cnVjdCBp
bnRlbF9jb250ZXh0X29wcyAqY29wczsKPj4+ICAgIAo+Pj4gICAgICAgIGludCAgICAgICAgICAg
ICAoKnJlcXVlc3RfYWxsb2MpKHN0cnVjdCBpOTE1X3JlcXVlc3QgKnJxKTsKPj4+IC0gICAgIGlu
dCAgICAgICAgICAgICAoKmluaXRfY29udGV4dCkoc3RydWN0IGk5MTVfcmVxdWVzdCAqcnEpOwo+
Pj4gICAgCj4+PiAgICAgICAgaW50ICAgICAgICAgICAgICgqZW1pdF9mbHVzaCkoc3RydWN0IGk5
MTVfcmVxdWVzdCAqcmVxdWVzdCwgdTMyIG1vZGUpOwo+Pj4gICAgI2RlZmluZSBFTUlUX0lOVkFM
SURBVEUgICAgIEJJVCgwKQo+Pj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0
L2ludGVsX2xyYy5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfbHJjLmMKPj4+IGlu
ZGV4IDg4NGRmYzFjYjAzMy4uNGQ3YzRkMGRiZjc1IDEwMDY0NAo+Pj4gLS0tIGEvZHJpdmVycy9n
cHUvZHJtL2k5MTUvZ3QvaW50ZWxfbHJjLmMKPj4+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1
L2d0L2ludGVsX2xyYy5jCj4+PiBAQCAtMTQxLDcgKzE0MSw2IEBACj4+PiAgICAjaW5jbHVkZSAi
aW50ZWxfZ3QuaCIKPj4+ICAgICNpbmNsdWRlICJpbnRlbF9scmNfcmVnLmgiCj4+PiAgICAjaW5j
bHVkZSAiaW50ZWxfbW9jcy5oIgo+Pj4gLSNpbmNsdWRlICJpbnRlbF9yZW5kZXJzdGF0ZS5oIgo+
Pj4gICAgI2luY2x1ZGUgImludGVsX3Jlc2V0LmgiCj4+PiAgICAjaW5jbHVkZSAiaW50ZWxfd29y
a2Fyb3VuZHMuaCIKPj4+ICAgIAo+Pj4gQEAgLTI3MjcsMjUgKzI3MjYsNiBAQCBzdGF0aWMgdTMy
ICpnZW44X2VtaXRfZmluaV9icmVhZGNydW1iX3JjcyhzdHJ1Y3QgaTkxNV9yZXF1ZXN0ICpyZXF1
ZXN0LCB1MzIgKmNzKQo+Pj4gICAgICAgIHJldHVybiBnZW44X2VtaXRfd2FfdGFpbChyZXF1ZXN0
LCBjcyk7Cj4+PiAgICB9Cj4+PiAgICAKPj4+IC1zdGF0aWMgaW50IGdlbjhfaW5pdF9yY3NfY29u
dGV4dChzdHJ1Y3QgaTkxNV9yZXF1ZXN0ICpycSkKPj4+IC17Cj4+PiAtICAgICBpbnQgcmV0Owo+
Pj4gLQo+Pj4gLSAgICAgcmV0ID0gaW50ZWxfZW5naW5lX2VtaXRfY3R4X3dhKHJxKTsKPj4+IC0g
ICAgIGlmIChyZXQpCj4+PiAtICAgICAgICAgICAgIHJldHVybiByZXQ7Cj4+PiAtCj4+PiAtICAg
ICByZXQgPSBpbnRlbF9yY3NfY29udGV4dF9pbml0X21vY3MocnEpOwo+Pj4gLSAgICAgLyoKPj4+
IC0gICAgICAqIEZhaWxpbmcgdG8gcHJvZ3JhbSB0aGUgTU9DUyBpcyBub24tZmF0YWwuVGhlIHN5
c3RlbSB3aWxsIG5vdAo+Pj4gLSAgICAgICogcnVuIGF0IHBlYWsgcGVyZm9ybWFuY2UuIFNvIGdl
bmVyYXRlIGFuIGVycm9yIGFuZCBjYXJyeSBvbi4KPj4+IC0gICAgICAqLwo+Pj4gLSAgICAgaWYg
KHJldCkKPj4+IC0gICAgICAgICAgICAgRFJNX0VSUk9SKCJNT0NTIGZhaWxlZCB0byBwcm9ncmFt
OiBleHBlY3QgcGVyZm9ybWFuY2UgaXNzdWVzLlxuIik7Cj4+PiAtCj4+PiAtICAgICByZXR1cm4g
aW50ZWxfcmVuZGVyc3RhdGVfZW1pdChycSk7Cj4+PiAtfQo+Pj4gLQo+Pj4gICAgc3RhdGljIHZv
aWQgZXhlY2xpc3RzX3Bhcmsoc3RydWN0IGludGVsX2VuZ2luZV9jcyAqZW5naW5lKQo+Pj4gICAg
ewo+Pj4gICAgICAgIGRlbF90aW1lcl9zeW5jKCZlbmdpbmUtPmV4ZWNsaXN0cy50aW1lcik7Cj4+
PiBAQCAtMjg1Myw3ICsyODMzLDYgQEAgaW50IGludGVsX2V4ZWNsaXN0c19zdWJtaXNzaW9uX3Nl
dHVwKHN0cnVjdCBpbnRlbF9lbmdpbmVfY3MgKmVuZ2luZSkKPj4+ICAgICAgICBsb2dpY2FsX3Jp
bmdfZGVmYXVsdF9pcnFzKGVuZ2luZSk7Cj4+PiAgICAKPj4+ICAgICAgICBpZiAoZW5naW5lLT5j
bGFzcyA9PSBSRU5ERVJfQ0xBU1MpIHsKPj4+IC0gICAgICAgICAgICAgZW5naW5lLT5pbml0X2Nv
bnRleHQgPSBnZW44X2luaXRfcmNzX2NvbnRleHQ7Cj4+PiAgICAgICAgICAgICAgICBlbmdpbmUt
PmVtaXRfZmx1c2ggPSBnZW44X2VtaXRfZmx1c2hfcmVuZGVyOwo+Pj4gICAgICAgICAgICAgICAg
ZW5naW5lLT5lbWl0X2ZpbmlfYnJlYWRjcnVtYiA9IGdlbjhfZW1pdF9maW5pX2JyZWFkY3J1bWJf
cmNzOwo+Pj4gICAgICAgIH0KPj4+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9n
dC9pbnRlbF9tb2NzLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9tb2NzLmMKPj4+
IGluZGV4IDI5MGE1ZTliOTBiOS4uZTA4MmIyNWQyZGIxIDEwMDY0NAo+Pj4gLS0tIGEvZHJpdmVy
cy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfbW9jcy5jCj4+PiArKysgYi9kcml2ZXJzL2dwdS9kcm0v
aTkxNS9ndC9pbnRlbF9tb2NzLmMKPj4+IEBAIC01NjgsMTEgKzU2OCwxNCBAQCB2b2lkIGludGVs
X21vY3NfaW5pdF9sM2NjX3RhYmxlKHN0cnVjdCBpbnRlbF9ndCAqZ3QpCj4+PiAgICAgKgo+Pj4g
ICAgICogUmV0dXJuOiAwIG9uIHN1Y2Nlc3MsIG90aGVyd2lzZSB0aGUgZXJyb3Igc3RhdHVzLgo+
Pj4gICAgICovCj4+PiAtaW50IGludGVsX3Jjc19jb250ZXh0X2luaXRfbW9jcyhzdHJ1Y3QgaTkx
NV9yZXF1ZXN0ICpycSkKPj4+ICtpbnQgaW50ZWxfbW9jc19lbWl0KHN0cnVjdCBpOTE1X3JlcXVl
c3QgKnJxKQo+Pj4gICAgewo+Pj4gICAgICAgIHN0cnVjdCBkcm1faTkxNV9tb2NzX3RhYmxlIHQ7
Cj4+PiAgICAgICAgaW50IHJldDsKPj4+ICAgIAo+Pj4gKyAgICAgaWYgKHJxLT5lbmdpbmUtPmNs
YXNzICE9IFJFTkRFUl9DTEFTUykKPj4+ICsgICAgICAgICAgICAgcmV0dXJuIDA7Cj4+PiArCj4+
PiAgICAgICAgaWYgKGdldF9tb2NzX3NldHRpbmdzKHJxLT5lbmdpbmUtPmd0LCAmdCkpIHsKPj4+
ICAgICAgICAgICAgICAgIC8qIFByb2dyYW0gdGhlIFJDUyBjb250cm9sIHJlZ2lzdGVycyAqLwo+
Pj4gICAgICAgICAgICAgICAgcmV0ID0gZW1pdF9tb2NzX2NvbnRyb2xfdGFibGUocnEsICZ0KTsK
Pj4+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9tb2NzLmggYi9k
cml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9tb2NzLmgKPj4+IGluZGV4IDhiOTgxM2U2Zjlh
Yy4uYTMzNGRiMmQ2ZDZiIDEwMDY0NAo+Pj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3Qv
aW50ZWxfbW9jcy5oCj4+PiArKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9tb2Nz
LmgKPj4+IEBAIC01NCw4ICs1NCw5IEBAIHN0cnVjdCBpOTE1X3JlcXVlc3Q7Cj4+PiAgICBzdHJ1
Y3QgaW50ZWxfZW5naW5lX2NzOwo+Pj4gICAgc3RydWN0IGludGVsX2d0Owo+Pj4gICAgCj4+PiAt
aW50IGludGVsX3Jjc19jb250ZXh0X2luaXRfbW9jcyhzdHJ1Y3QgaTkxNV9yZXF1ZXN0ICpycSk7
Cj4+PiAgICB2b2lkIGludGVsX21vY3NfaW5pdF9sM2NjX3RhYmxlKHN0cnVjdCBpbnRlbF9ndCAq
Z3QpOwo+Pj4gICAgdm9pZCBpbnRlbF9tb2NzX2luaXRfZW5naW5lKHN0cnVjdCBpbnRlbF9lbmdp
bmVfY3MgKmVuZ2luZSk7Cj4+PiAgICAKPj4+ICtpbnQgaW50ZWxfbW9jc19lbWl0KHN0cnVjdCBp
OTE1X3JlcXVlc3QgKnJxKTsKPj4+ICsKPj4+ICAgICNlbmRpZgo+Pj4gZGlmZiAtLWdpdCBhL2Ry
aXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX3JlbmRlcnN0YXRlLmMgYi9kcml2ZXJzL2dwdS9k
cm0vaTkxNS9ndC9pbnRlbF9yZW5kZXJzdGF0ZS5jCj4+PiBpbmRleCAwNmE4ZGM0MGIxOWYuLmJl
MzdkNDUwMWM2NyAxMDA2NDQKPj4+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVs
X3JlbmRlcnN0YXRlLmMKPj4+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX3Jl
bmRlcnN0YXRlLmMKPj4+IEBAIC00MSw3ICs0MSw3IEBAIHN0cnVjdCBpbnRlbF9yZW5kZXJzdGF0
ZSB7Cj4+PiAgICBzdGF0aWMgY29uc3Qgc3RydWN0IGludGVsX3JlbmRlcnN0YXRlX3JvZGF0YSAq
Cj4+PiAgICByZW5kZXJfc3RhdGVfZ2V0X3JvZGF0YShjb25zdCBzdHJ1Y3QgaW50ZWxfZW5naW5l
X2NzICplbmdpbmUpCj4+PiAgICB7Cj4+PiAtICAgICBpZiAoZW5naW5lLT5pZCAhPSBSQ1MwKQo+
Pj4gKyAgICAgaWYgKGVuZ2luZS0+Y2xhc3MgIT0gUkVOREVSX0NMQVNTKQo+Pj4gICAgICAgICAg
ICAgICAgcmV0dXJuIE5VTEw7Cj4+PiAgICAKPj4+ICAgICAgICBzd2l0Y2ggKElOVEVMX0dFTihl
bmdpbmUtPmk5MTUpKSB7Cj4+PiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3Qv
aW50ZWxfcmluZ2J1ZmZlci5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfcmluZ2J1
ZmZlci5jCj4+PiBpbmRleCAxZGUxOWRhYzRhMTQuLjVjN2YyZmRjNWVjMyAxMDA2NDQKPj4+IC0t
LSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX3JpbmdidWZmZXIuYwo+Pj4gKysrIGIv
ZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfcmluZ2J1ZmZlci5jCj4+PiBAQCAtMzcsNyAr
MzcsNiBAQAo+Pj4gICAgI2luY2x1ZGUgImk5MTVfdHJhY2UuaCIKPj4+ICAgICNpbmNsdWRlICJp
bnRlbF9jb250ZXh0LmgiCj4+PiAgICAjaW5jbHVkZSAiaW50ZWxfZ3QuaCIKPj4+IC0jaW5jbHVk
ZSAiaW50ZWxfcmVuZGVyc3RhdGUuaCIKPj4+ICAgICNpbmNsdWRlICJpbnRlbF9yZXNldC5oIgo+
Pj4gICAgI2luY2x1ZGUgImludGVsX3dvcmthcm91bmRzLmgiCj4+PiAgICAKPj4+IEBAIC04NDks
MjEgKzg0OCw2IEBAIHN0YXRpYyB2b2lkIHJlc2V0X2ZpbmlzaChzdHJ1Y3QgaW50ZWxfZW5naW5l
X2NzICplbmdpbmUpCj4+PiAgICB7Cj4+PiAgICB9Cj4+PiAgICAKPj4+IC1zdGF0aWMgaW50IGlu
dGVsX3Jjc19jdHhfaW5pdChzdHJ1Y3QgaTkxNV9yZXF1ZXN0ICpycSkKPj4+IC17Cj4+PiAtICAg
ICBpbnQgcmV0Owo+Pj4gLQo+Pj4gLSAgICAgcmV0ID0gaW50ZWxfZW5naW5lX2VtaXRfY3R4X3dh
KHJxKTsKPj4+IC0gICAgIGlmIChyZXQgIT0gMCkKPj4+IC0gICAgICAgICAgICAgcmV0dXJuIHJl
dDsKPj4+IC0KPj4+IC0gICAgIHJldCA9IGludGVsX3JlbmRlcnN0YXRlX2VtaXQocnEpOwo+Pj4g
LSAgICAgaWYgKHJldCkKPj4+IC0gICAgICAgICAgICAgcmV0dXJuIHJldDsKPj4+IC0KPj4+IC0g
ICAgIHJldHVybiAwOwo+Pj4gLX0KPj4+IC0KPj4+ICAgIHN0YXRpYyBpbnQgcmNzX3Jlc3VtZShz
dHJ1Y3QgaW50ZWxfZW5naW5lX2NzICplbmdpbmUpCj4+PiAgICB7Cj4+PiAgICAgICAgc3RydWN0
IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2ID0gZW5naW5lLT5pOTE1Owo+Pj4gQEAgLTIyMjcs
MTEgKzIyMTEsOSBAQCBzdGF0aWMgdm9pZCBzZXR1cF9yY3Moc3RydWN0IGludGVsX2VuZ2luZV9j
cyAqZW5naW5lKQo+Pj4gICAgICAgIGVuZ2luZS0+aXJxX2VuYWJsZV9tYXNrID0gR1RfUkVOREVS
X1VTRVJfSU5URVJSVVBUOwo+Pj4gICAgCj4+PiAgICAgICAgaWYgKElOVEVMX0dFTihpOTE1KSA+
PSA3KSB7Cj4+PiAtICAgICAgICAgICAgIGVuZ2luZS0+aW5pdF9jb250ZXh0ID0gaW50ZWxfcmNz
X2N0eF9pbml0Owo+Pj4gICAgICAgICAgICAgICAgZW5naW5lLT5lbWl0X2ZsdXNoID0gZ2VuN19y
ZW5kZXJfcmluZ19mbHVzaDsKPj4+ICAgICAgICAgICAgICAgIGVuZ2luZS0+ZW1pdF9maW5pX2Jy
ZWFkY3J1bWIgPSBnZW43X3Jjc19lbWl0X2JyZWFkY3J1bWI7Cj4+PiAgICAgICAgfSBlbHNlIGlm
IChJU19HRU4oaTkxNSwgNikpIHsKPj4+IC0gICAgICAgICAgICAgZW5naW5lLT5pbml0X2NvbnRl
eHQgPSBpbnRlbF9yY3NfY3R4X2luaXQ7Cj4+PiAgICAgICAgICAgICAgICBlbmdpbmUtPmVtaXRf
Zmx1c2ggPSBnZW42X3JlbmRlcl9yaW5nX2ZsdXNoOwo+Pj4gICAgICAgICAgICAgICAgZW5naW5l
LT5lbWl0X2ZpbmlfYnJlYWRjcnVtYiA9IGdlbjZfcmNzX2VtaXRfYnJlYWRjcnVtYjsKPj4+ICAg
ICAgICB9IGVsc2UgaWYgKElTX0dFTihpOTE1LCA1KSkgewo+Pj4gZGlmZiAtLWdpdCBhL2RyaXZl
cnMvZ3B1L2RybS9pOTE1L2k5MTVfZ2VtLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2dl
bS5jCj4+PiBpbmRleCAwMWRkMGQxZDliZjYuLjY1ODYzZTk1NWY0MCAxMDA2NDQKPj4+IC0tLSBh
L2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZ2VtLmMKPj4+ICsrKyBiL2RyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2k5MTVfZ2VtLmMKPj4+IEBAIC01MCw2ICs1MCw3IEBACj4+PiAgICAjaW5jbHVkZSAi
Z3QvaW50ZWxfZ3RfcG0uaCIKPj4+ICAgICNpbmNsdWRlICJndC9pbnRlbF9tb2NzLmgiCj4+PiAg
ICAjaW5jbHVkZSAiZ3QvaW50ZWxfcmVzZXQuaCIKPj4+ICsjaW5jbHVkZSAiZ3QvaW50ZWxfcmVu
ZGVyc3RhdGUuaCIKPj4+ICAgICNpbmNsdWRlICJndC9pbnRlbF93b3JrYXJvdW5kcy5oIgo+Pj4g
ICAgCj4+PiAgICAjaW5jbHVkZSAiaTkxNV9kcnYuaCIKPj4+IEBAIC0xMjk0LDEwICsxMjk1LDI0
IEBAIHN0YXRpYyBpbnQgX19pbnRlbF9lbmdpbmVzX3JlY29yZF9kZWZhdWx0cyhzdHJ1Y3QgZHJt
X2k5MTVfcHJpdmF0ZSAqaTkxNSkKPj4+ICAgICAgICAgICAgICAgICAgICAgICAgZ290byBlcnJf
YWN0aXZlOwo+Pj4gICAgICAgICAgICAgICAgfQo+Pj4gICAgCj4+PiAtICAgICAgICAgICAgIGVy
ciA9IDA7Cj4+PiAtICAgICAgICAgICAgIGlmIChycS0+ZW5naW5lLT5pbml0X2NvbnRleHQpCj4+
PiAtICAgICAgICAgICAgICAgICAgICAgZXJyID0gcnEtPmVuZ2luZS0+aW5pdF9jb250ZXh0KHJx
KTsKPj4+ICsgICAgICAgICAgICAgZXJyID0gaW50ZWxfZW5naW5lX2VtaXRfY3R4X3dhKHJxKTsK
Pj4+ICsgICAgICAgICAgICAgaWYgKGVycikKPj4+ICsgICAgICAgICAgICAgICAgICAgICBnb3Rv
IGVycl9ycTsKPj4+ICsKPj4+ICsgICAgICAgICAgICAgLyoKPj4+ICsgICAgICAgICAgICAgICog
RmFpbGluZyB0byBwcm9ncmFtIHRoZSBNT0NTIGlzIG5vbi1mYXRhbC5UaGUgc3lzdGVtIHdpbGwg
bm90Cj4+PiArICAgICAgICAgICAgICAqIHJ1biBhdCBwZWFrIHBlcmZvcm1hbmNlLiBTbyB3YXJu
IHRoZSB1c2VyIGFuZCBjYXJyeSBvbi4KPj4+ICsgICAgICAgICAgICAgICovCj4+PiArICAgICAg
ICAgICAgIGVyciA9IGludGVsX21vY3NfZW1pdChycSk7Cj4+Cj4+IEkgdGhpbmsgcGxhdGZvcm1z
IHdpdGhvdXQgTU9DUyB3aWxsIG5vdCBiZSBoYXBweSB1bmxlc3MgeW91IGFsc28gY2hhbmdlCj4+
IHRoZSBNT0NTIGNvZGUuCj4gCj4gT2xkZXIgcGxhdGZvcm1zIGZhaWwgZ3JhY2VmdWxseSAoc2ls
ZW50bHkgd2l0aCBlcnI9MCBhcyBnZXRfbW9jc19zZXR0aW5ncygpIHJldHVybnMgZmFsc2UpLgo+
IE5ldyBwbGF0Zm9ybXMgd2l0aG91dCBNT0NTIGRlc2NyaXB0aW9ucyBpc3N1ZSBhIHdhcm5pbmcg
KGFzIGN1cnJlbnRseSkuCgpUcnVlLCBJJ3ZlIG1pc3NlZCB0aGUgZmFjdCBXQVJOX09OIG9uIHRo
ZSBmaW5hbCBlbHNlIGJyYW5jaCBpcyAKY29uZGl0aW9uYWwgb24gZ2VuID49IDkuCgo+ICAgCj4+
PiArICAgICAgICAgICAgIGlmIChlcnIpCj4+PiArICAgICAgICAgICAgICAgICAgICAgZGV2X25v
dGljZShpOTE1LT5kcm0uZGV2LAo+Pj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
IkZhaWxlZCB0byBwcm9ncmFtIE1PQ1MgcmVnaXN0ZXJzOyBleHBlY3QgcGVyZm9ybWFuY2UgaXNz
dWVzLlxuIik7Cj4+PiArCj4+PiArICAgICAgICAgICAgIGVyciA9IGludGVsX3JlbmRlcnN0YXRl
X2VtaXQocnEpOwo+Pj4gKyAgICAgICAgICAgICBpZiAoZXJyKQo+Pj4gKyAgICAgICAgICAgICAg
ICAgICAgIGdvdG8gZXJyX3JxOwo+Pgo+PiBXb3VsZCBpdCBiZSBwcmV0dGllciB0byBtb3ZlIGFs
bCB0aGUgdHJlZSBpbnRvCj4+IGludGVsX2VuZ2luZV9jcy5jL2ludGVsX2VuZ2luZV9jb250ZXh0
X2luaXQoKSBvciBzb21ldGhpbmc/IEhlcmUgaXQKPj4gc2VlbXMgYSBiaXQgdG9vIG11Y2ggaW50
byBkZXRhaWxzLgo+IAo+IEluZGVlZCwgaXQncyBub3Qgc3RheWluZyBoZXJlLiBCdXQgdGhhdCBp
cyB0aWVkIHVwIGluIG90aGVyIGluLWZsaWdodAo+IHBhdGNoZXMuCgpPa2F5LgoKUmV2aWV3ZWQt
Ynk6IFR2cnRrbyBVcnN1bGluIDx0dnJ0a28udXJzdWxpbkBpbnRlbC5jb20+CgpSZWdhcmRzLAoK
VHZydGtvCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCklu
dGVsLWdmeCBtYWlsaW5nIGxpc3QKSW50ZWwtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRw
czovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2ludGVsLWdmeA==

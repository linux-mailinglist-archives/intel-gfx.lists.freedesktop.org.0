Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 969A62C4F99
	for <lists+intel-gfx@lfdr.de>; Thu, 26 Nov 2020 08:41:22 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id D40EB6E5BD;
	Thu, 26 Nov 2020 07:41:18 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga11.intel.com (mga11.intel.com [192.55.52.93])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 6827E6E5A4
 for <intel-gfx@lists.freedesktop.org>; Thu, 26 Nov 2020 07:41:17 +0000 (UTC)
IronPort-SDR: h1RjB+QjwCowcOU9xnfmmyH0Nqi9EXmr0zR0KIhQn4M97J3OdVrvEJTiVysHgjPldjCWUC/CTC
 kAZcqn1i+e7g==
X-IronPort-AV: E=McAfee;i="6000,8403,9816"; a="168741341"
X-IronPort-AV: E=Sophos;i="5.78,371,1599548400"; d="scan'208";a="168741341"
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga008.jf.intel.com ([10.7.209.65])
 by fmsmga102.fm.intel.com with ESMTP/TLS/ECDHE-RSA-AES256-GCM-SHA384;
 25 Nov 2020 23:41:17 -0800
IronPort-SDR: XLdkcUVFxVyr4J+ZjkQUioV+DQBNZFfdzINDL+WGYLHGoXApkHGHyo3USsr6SwiDzzvpacf0on
 IIR9XupLrKdg==
X-IronPort-AV: E=Sophos;i="5.78,371,1599548400"; d="scan'208";a="359448058"
Received: from linux-desktop.iind.intel.com ([10.223.34.173])
 by orsmga008-auth.jf.intel.com with ESMTP/TLS/ECDHE-RSA-AES256-GCM-SHA384;
 25 Nov 2020 23:41:15 -0800
From: Uma Shankar <uma.shankar@intel.com>
To: intel-gfx@lists.freedesktop.org
Date: Thu, 26 Nov 2020 13:44:34 +0530
Message-Id: <20201126081445.29759-3-uma.shankar@intel.com>
X-Mailer: git-send-email 2.26.2
In-Reply-To: <20201126081445.29759-1-uma.shankar@intel.com>
References: <20201126081445.29759-1-uma.shankar@intel.com>
MIME-Version: 1.0
Subject: [Intel-gfx] [v11 02/13] drm/i915/display: Enable HDR on gen9
 devices with MCA Lspcon
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

R2VuOSBoYXJkd2FyZSBzdXBwb3J0cyBIRE1JMi4wIHRocm91Z2ggTFNQQ09OIGNoaXBzLgpFeHRl
bmRpbmcgSERSIHN1cHBvcnQgZm9yIE1DQSBMU1BDT04gYmFzZWQgR0VOOSBkZXZpY2VzLgoKU09D
IHdpbGwgZHJpdmUgTFNQQ09OIGFzIERQIGFuZCBzZW5kIEhEUiBtZXRhZGF0YSBhcyBzdGFuZGFy
ZApEUCBTRFAgcGFja2V0cy4gTFNQQ09OIHdpbGwgYmUgc2V0IHRvIG9wZXJhdGUgaW4gUENPTiBt
b2RlLAp3aWxsIHJlY2VpdmUgdGhlIG1ldGFkYXRhIGFuZCBjcmVhdGUgRHluYW1pYyBSYW5nZSBh
bmQKTWFzdGVyaW5nIEluZm9mcmFtZSAoRFJNIHBhY2tldHMpIGFuZCBzZW5kIGl0IHRvIEhEUiBj
YXBhYmxlCkhETUkgc2luayBkZXZpY2VzLgoKdjI6IFJlLXVzZWQgaHN3IGluZm9mcmFtZSB3cml0
ZSBpbXBsZW1lbnRhdGlvbiBmb3IgSERSIG1ldGFkYXRhCmZvciBMU1BDT04gYXMgcGVyIFZpbGxl
J3Mgc3VnZ2VzdGlvbi4KCnYzOiBBZGRyZXNzZWQgSmFuaSBOaWt1bGEncyByZXZpZXcgY29tbWVu
dHMuCgp2NDogQWRkcmVzc2VkIFZpbGxlJ3MgcmV2aWV3IGNvbW1lbnRzLCByZW1vdmVkIHJlZHVu
ZGFudCB3cmFwcGVyCmFuZCBjaGVja3MsIHBhc3NlZCBhcmd1bWVudHMgaW5zdGVhZCBvZiBoYXJk
Y29kaW5ncy4KClNpZ25lZC1vZmYtYnk6IFVtYSBTaGFua2FyIDx1bWEuc2hhbmthckBpbnRlbC5j
b20+ClJldmlld2VkLWJ5OiBWaWxsZSBTeXJqw6QgPHZpbGxlLnN5cmphbGFAbGludXguaW50ZWwu
Y29tPgotLS0KIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfaGRtaS5jICAgfCAg
OCArKystLS0KIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfbHNwY29uLmMgfCAz
MSArKysrKysrKysrKystLS0tLS0tLS0KIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50
ZWxfbHNwY29uLmggfCAgNCArKysKIDMgZmlsZXMgY2hhbmdlZCwgMjYgaW5zZXJ0aW9ucygrKSwg
MTcgZGVsZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxh
eS9pbnRlbF9oZG1pLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2hkbWku
YwppbmRleCA4MjY3NGE4ODUzYzYuLjBmMmNjNDBjYzc5MiAxMDA2NDQKLS0tIGEvZHJpdmVycy9n
cHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9oZG1pLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5
MTUvZGlzcGxheS9pbnRlbF9oZG1pLmMKQEAgLTUxOCwxMCArNTE4LDEwIEBAIHN0YXRpYyB1MzIg
dmx2X2luZm9mcmFtZXNfZW5hYmxlZChzdHJ1Y3QgaW50ZWxfZW5jb2RlciAqZW5jb2RlciwKIAkJ
ICAgICAgVklERU9fRElQX0VOQUJMRV9TUEQgfCBWSURFT19ESVBfRU5BQkxFX0dDUCk7CiB9CiAK
LXN0YXRpYyB2b2lkIGhzd193cml0ZV9pbmZvZnJhbWUoc3RydWN0IGludGVsX2VuY29kZXIgKmVu
Y29kZXIsCi0JCQkJY29uc3Qgc3RydWN0IGludGVsX2NydGNfc3RhdGUgKmNydGNfc3RhdGUsCi0J
CQkJdW5zaWduZWQgaW50IHR5cGUsCi0JCQkJY29uc3Qgdm9pZCAqZnJhbWUsIHNzaXplX3QgbGVu
KQordm9pZCBoc3dfd3JpdGVfaW5mb2ZyYW1lKHN0cnVjdCBpbnRlbF9lbmNvZGVyICplbmNvZGVy
LAorCQkJIGNvbnN0IHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpjcnRjX3N0YXRlLAorCQkJIHVu
c2lnbmVkIGludCB0eXBlLAorCQkJIGNvbnN0IHZvaWQgKmZyYW1lLCBzc2l6ZV90IGxlbikKIHsK
IAljb25zdCB1MzIgKmRhdGEgPSBmcmFtZTsKIAlzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2
X3ByaXYgPSB0b19pOTE1KGVuY29kZXItPmJhc2UuZGV2KTsKZGlmZiAtLWdpdCBhL2RyaXZlcnMv
Z3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfbHNwY29uLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkx
NS9kaXNwbGF5L2ludGVsX2xzcGNvbi5jCmluZGV4IDMwNjU3MjcwMTVhNy4uNjQxMDI1ZjAwMjg2
IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2xzcGNvbi5j
CisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfbHNwY29uLmMKQEAgLTQ0
NSwyNyArNDQ1LDMyIEBAIHZvaWQgbHNwY29uX3dyaXRlX2luZm9mcmFtZShzdHJ1Y3QgaW50ZWxf
ZW5jb2RlciAqZW5jb2RlciwKIAkJCSAgICB1bnNpZ25lZCBpbnQgdHlwZSwKIAkJCSAgICBjb25z
dCB2b2lkICpmcmFtZSwgc3NpemVfdCBsZW4pCiB7Ci0JYm9vbCByZXQ7CisJYm9vbCByZXQgPSB0
cnVlOwogCXN0cnVjdCBpbnRlbF9kcCAqaW50ZWxfZHAgPSBlbmNfdG9faW50ZWxfZHAoZW5jb2Rl
cik7CiAJc3RydWN0IGludGVsX2xzcGNvbiAqbHNwY29uID0gZW5jX3RvX2ludGVsX2xzcGNvbihl
bmNvZGVyKTsKIAotCS8qIExTUENPTiBvbmx5IG5lZWRzIEFWSSBJRiAqLwotCWlmICh0eXBlICE9
IEhETUlfSU5GT0ZSQU1FX1RZUEVfQVZJKQorCXN3aXRjaCAodHlwZSkgeworCWNhc2UgSERNSV9J
TkZPRlJBTUVfVFlQRV9BVkk6CisJCWlmIChsc3Bjb24tPnZlbmRvciA9PSBMU1BDT05fVkVORE9S
X01DQSkKKwkJCXJldCA9IF9sc3Bjb25fd3JpdGVfYXZpX2luZm9mcmFtZV9tY2EoJmludGVsX2Rw
LT5hdXgsCisJCQkJCQkJICAgICAgZnJhbWUsIGxlbik7CisJCWVsc2UKKwkJCXJldCA9IF9sc3Bj
b25fd3JpdGVfYXZpX2luZm9mcmFtZV9wYXJhZGUoJmludGVsX2RwLT5hdXgsCisJCQkJCQkJCSBm
cmFtZSwgbGVuKTsKKwkJYnJlYWs7CisJY2FzZSBIRE1JX1BBQ0tFVF9UWVBFX0dBTVVUX01FVEFE
QVRBOgorCQlkcm1fZGJnX2ttcyhlbmNvZGVyLT5iYXNlLmRldiwgIlVwZGF0ZSBIRFIgbWV0YWRh
dGEgZm9yIGxzcGNvblxuIik7CisJCS8qIEl0IHVzZXMgdGhlIGxlZ2FjeSBoc3cgaW1wbGVtZW50
YXRpb24gZm9yIHRoZSBzYW1lICovCisJCWhzd193cml0ZV9pbmZvZnJhbWUoZW5jb2RlciwgY3J0
Y19zdGF0ZSwgdHlwZSwgZnJhbWUsIGxlbik7CisJCWJyZWFrOworCWRlZmF1bHQ6CiAJCXJldHVy
bjsKLQotCWlmIChsc3Bjb24tPnZlbmRvciA9PSBMU1BDT05fVkVORE9SX01DQSkKLQkJcmV0ID0g
X2xzcGNvbl93cml0ZV9hdmlfaW5mb2ZyYW1lX21jYSgmaW50ZWxfZHAtPmF1eCwKLQkJCQkJCSAg
ICAgIGZyYW1lLCBsZW4pOwotCWVsc2UKLQkJcmV0ID0gX2xzcGNvbl93cml0ZV9hdmlfaW5mb2Zy
YW1lX3BhcmFkZSgmaW50ZWxfZHAtPmF1eCwKLQkJCQkJCQkgZnJhbWUsIGxlbik7CisJfQogCiAJ
aWYgKCFyZXQpIHsKLQkJRFJNX0VSUk9SKCJGYWlsZWQgdG8gd3JpdGUgQVZJIGluZm9mcmFtZXNc
biIpOworCQlEUk1fRVJST1IoIkZhaWxlZCB0byB3cml0ZSBpbmZvZnJhbWVzXG4iKTsKIAkJcmV0
dXJuOwogCX0KLQotCURSTV9ERUJVR19EUklWRVIoIkFWSSBpbmZvZnJhbWVzIHVwZGF0ZWQgc3Vj
Y2Vzc2Z1bGx5XG4iKTsKIH0KIAogdm9pZCBsc3Bjb25fcmVhZF9pbmZvZnJhbWUoc3RydWN0IGlu
dGVsX2VuY29kZXIgKmVuY29kZXIsCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9k
aXNwbGF5L2ludGVsX2xzcGNvbi5oIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRl
bF9sc3Bjb24uaAppbmRleCBhMTliMzU2NGM2MzUuLjk4MDQzYmE1MGRkNCAxMDA2NDQKLS0tIGEv
ZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9sc3Bjb24uaAorKysgYi9kcml2ZXJz
L2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2xzcGNvbi5oCkBAIC0zMiw1ICszMiw5IEBAIHZv
aWQgbHNwY29uX3NldF9pbmZvZnJhbWVzKHN0cnVjdCBpbnRlbF9lbmNvZGVyICplbmNvZGVyLAog
CQkJICAgY29uc3Qgc3RydWN0IGRybV9jb25uZWN0b3Jfc3RhdGUgKmNvbm5fc3RhdGUpOwogdTMy
IGxzcGNvbl9pbmZvZnJhbWVzX2VuYWJsZWQoc3RydWN0IGludGVsX2VuY29kZXIgKmVuY29kZXIs
CiAJCQkgICAgICBjb25zdCBzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqcGlwZV9jb25maWcpOwor
dm9pZCBoc3dfd3JpdGVfaW5mb2ZyYW1lKHN0cnVjdCBpbnRlbF9lbmNvZGVyICplbmNvZGVyLAor
CQkJIGNvbnN0IHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpjcnRjX3N0YXRlLAorCQkJIHVuc2ln
bmVkIGludCB0eXBlLAorCQkJIGNvbnN0IHZvaWQgKmZyYW1lLCBzc2l6ZV90IGxlbik7CiAKICNl
bmRpZiAvKiBfX0lOVEVMX0xTUENPTl9IX18gKi8KLS0gCjIuMjYuMgoKX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KSW50ZWwtZ2Z4IG1haWxpbmcgbGlzdApJ
bnRlbC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Au
b3JnL21haWxtYW4vbGlzdGluZm8vaW50ZWwtZ2Z4Cg==

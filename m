Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 85D6215AD0A
	for <lists+intel-gfx@lfdr.de>; Wed, 12 Feb 2020 17:18:02 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id BABCB6F545;
	Wed, 12 Feb 2020 16:18:00 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga02.intel.com (mga02.intel.com [134.134.136.20])
 by gabe.freedesktop.org (Postfix) with ESMTPS id E2B176F544
 for <intel-gfx@lists.freedesktop.org>; Wed, 12 Feb 2020 16:17:58 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from fmsmga003.fm.intel.com ([10.253.24.29])
 by orsmga101.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 12 Feb 2020 08:17:58 -0800
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.70,433,1574150400"; d="scan'208";a="281269483"
Received: from stinkbox.fi.intel.com (HELO stinkbox) ([10.237.72.174])
 by FMSMGA003.fm.intel.com with SMTP; 12 Feb 2020 08:17:56 -0800
Received: by stinkbox (sSMTP sendmail emulation);
 Wed, 12 Feb 2020 18:17:56 +0200
From: Ville Syrjala <ville.syrjala@linux.intel.com>
To: intel-gfx@lists.freedesktop.org
Date: Wed, 12 Feb 2020 18:17:36 +0200
Message-Id: <20200212161738.28141-7-ville.syrjala@linux.intel.com>
X-Mailer: git-send-email 2.24.1
In-Reply-To: <20200212161738.28141-1-ville.syrjala@linux.intel.com>
References: <20200212161738.28141-1-ville.syrjala@linux.intel.com>
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH v2 6/8] drm/i915: s/pipe_config/crtc_state/ in
 pfit functions
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

RnJvbTogVmlsbGUgU3lyasOkbMOkIDx2aWxsZS5zeXJqYWxhQGxpbnV4LmludGVsLmNvbT4KCkZv
bGxvdyB0aGUgbmV3IG5hbWluZyBjb252ZW50aW9uIGFuZCBjYWxsIHRoZSBjcnRjIHN0YXRlCiJj
cnRjX3N0YXRlIiwgYW5kIHdoaWxlIGF0IGl0IGRyb3AgdGhlIHJlZHVuZGFudCBjcnRjIGFyZ3Vt
ZW50LgoKU2lnbmVkLW9mZi1ieTogVmlsbGUgU3lyasOkbMOkIDx2aWxsZS5zeXJqYWxhQGxpbnV4
LmludGVsLmNvbT4KLS0tCiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ljbF9kc2kuYyAg
ICAgfCAgMyArLQogZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kcC5jICAgIHwg
IDggKy0KIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfaGRtaS5jICB8ICA1ICst
CiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2x2ZHMuYyAgfCAgNCArLQogZHJp
dmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9wYW5lbC5jIHwgOTMgKysrKysrKysrKyst
LS0tLS0tLS0tLQogZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9wYW5lbC5oIHwg
IDYgKy0KIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvdmx2X2RzaS5jICAgICB8ICA1ICst
CiA3IGZpbGVzIGNoYW5nZWQsIDU4IGluc2VydGlvbnMoKyksIDY2IGRlbGV0aW9ucygtKQoKZGlm
ZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaWNsX2RzaS5jIGIvZHJpdmVy
cy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pY2xfZHNpLmMKaW5kZXggZDg0MmUyODA2OTlkLi43NDgx
ZWMwNDg4M2EgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaWNsX2Rz
aS5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaWNsX2RzaS5jCkBAIC0xNDIw
LDcgKzE0MjAsNiBAQCBzdGF0aWMgaW50IGdlbjExX2RzaV9jb21wdXRlX2NvbmZpZyhzdHJ1Y3Qg
aW50ZWxfZW5jb2RlciAqZW5jb2RlciwKIAlzdHJ1Y3QgaW50ZWxfZHNpICppbnRlbF9kc2kgPSBj
b250YWluZXJfb2YoZW5jb2Rlciwgc3RydWN0IGludGVsX2RzaSwKIAkJCQkJCSAgIGJhc2UpOwog
CXN0cnVjdCBpbnRlbF9jb25uZWN0b3IgKmludGVsX2Nvbm5lY3RvciA9IGludGVsX2RzaS0+YXR0
YWNoZWRfY29ubmVjdG9yOwotCXN0cnVjdCBpbnRlbF9jcnRjICpjcnRjID0gdG9faW50ZWxfY3J0
YyhwaXBlX2NvbmZpZy0+dWFwaS5jcnRjKTsKIAljb25zdCBzdHJ1Y3QgZHJtX2Rpc3BsYXlfbW9k
ZSAqZml4ZWRfbW9kZSA9CiAJCQkJCWludGVsX2Nvbm5lY3Rvci0+cGFuZWwuZml4ZWRfbW9kZTsK
IAlzdHJ1Y3QgZHJtX2Rpc3BsYXlfbW9kZSAqYWRqdXN0ZWRfbW9kZSA9CkBAIC0xNDI4LDcgKzE0
MjcsNyBAQCBzdGF0aWMgaW50IGdlbjExX2RzaV9jb21wdXRlX2NvbmZpZyhzdHJ1Y3QgaW50ZWxf
ZW5jb2RlciAqZW5jb2RlciwKIAogCXBpcGVfY29uZmlnLT5vdXRwdXRfZm9ybWF0ID0gSU5URUxf
T1VUUFVUX0ZPUk1BVF9SR0I7CiAJaW50ZWxfZml4ZWRfcGFuZWxfbW9kZShmaXhlZF9tb2RlLCBh
ZGp1c3RlZF9tb2RlKTsKLQlpbnRlbF9wY2hfcGFuZWxfZml0dGluZyhjcnRjLCBwaXBlX2NvbmZp
ZywgY29ubl9zdGF0ZS0+c2NhbGluZ19tb2RlKTsKKwlpbnRlbF9wY2hfcGFuZWxfZml0dGluZyhw
aXBlX2NvbmZpZywgY29ubl9zdGF0ZS0+c2NhbGluZ19tb2RlKTsKIAogCWFkanVzdGVkX21vZGUt
PmZsYWdzID0gMDsKIApkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9p
bnRlbF9kcC5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kcC5jCmluZGV4
IGE4MjdlYWM4YWNjMi4uYTM1MmZkY2JhMjBjIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0v
aTkxNS9kaXNwbGF5L2ludGVsX2RwLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxh
eS9pbnRlbF9kcC5jCkBAIC0yMzA2LDcgKzIzMDYsNiBAQCBpbnRlbF9kcF95Y2JjcjQyMF9jb25m
aWcoc3RydWN0IGludGVsX2RwICppbnRlbF9kcCwKIAljb25zdCBzdHJ1Y3QgZHJtX2Rpc3BsYXlf
aW5mbyAqaW5mbyA9ICZjb25uZWN0b3ItPmRpc3BsYXlfaW5mbzsKIAljb25zdCBzdHJ1Y3QgZHJt
X2Rpc3BsYXlfbW9kZSAqYWRqdXN0ZWRfbW9kZSA9CiAJCSZjcnRjX3N0YXRlLT5ody5hZGp1c3Rl
ZF9tb2RlOwotCXN0cnVjdCBpbnRlbF9jcnRjICpjcnRjID0gdG9faW50ZWxfY3J0YyhjcnRjX3N0
YXRlLT51YXBpLmNydGMpOwogCiAJaWYgKCFkcm1fbW9kZV9pc180MjBfb25seShpbmZvLCBhZGp1
c3RlZF9tb2RlKSB8fAogCSAgICAhaW50ZWxfZHBfZ2V0X2NvbG9yaW1ldHJ5X3N0YXR1cyhpbnRl
bF9kcCkgfHwKQEAgLTIzMTUsNyArMjMxNCw3IEBAIGludGVsX2RwX3ljYmNyNDIwX2NvbmZpZyhz
dHJ1Y3QgaW50ZWxfZHAgKmludGVsX2RwLAogCiAJY3J0Y19zdGF0ZS0+b3V0cHV0X2Zvcm1hdCA9
IElOVEVMX09VVFBVVF9GT1JNQVRfWUNCQ1I0MjA7CiAKLQlpbnRlbF9wY2hfcGFuZWxfZml0dGlu
ZyhjcnRjLCBjcnRjX3N0YXRlLCBEUk1fTU9ERV9TQ0FMRV9GVUxMU0NSRUVOKTsKKwlpbnRlbF9w
Y2hfcGFuZWxfZml0dGluZyhjcnRjX3N0YXRlLCBEUk1fTU9ERV9TQ0FMRV9GVUxMU0NSRUVOKTsK
IAogCXJldHVybiAwOwogfQpAQCAtMjM3NCw3ICsyMzczLDYgQEAgaW50ZWxfZHBfY29tcHV0ZV9j
b25maWcoc3RydWN0IGludGVsX2VuY29kZXIgKmVuY29kZXIsCiAJc3RydWN0IGludGVsX2RwICpp
bnRlbF9kcCA9IGVuY190b19pbnRlbF9kcChlbmNvZGVyKTsKIAlzdHJ1Y3QgaW50ZWxfbHNwY29u
ICpsc3Bjb24gPSBlbmNfdG9faW50ZWxfbHNwY29uKGVuY29kZXIpOwogCWVudW0gcG9ydCBwb3J0
ID0gZW5jb2Rlci0+cG9ydDsKLQlzdHJ1Y3QgaW50ZWxfY3J0YyAqaW50ZWxfY3J0YyA9IHRvX2lu
dGVsX2NydGMocGlwZV9jb25maWctPnVhcGkuY3J0Yyk7CiAJc3RydWN0IGludGVsX2Nvbm5lY3Rv
ciAqaW50ZWxfY29ubmVjdG9yID0gaW50ZWxfZHAtPmF0dGFjaGVkX2Nvbm5lY3RvcjsKIAlzdHJ1
Y3QgaW50ZWxfZGlnaXRhbF9jb25uZWN0b3Jfc3RhdGUgKmludGVsX2Nvbm5fc3RhdGUgPQogCQl0
b19pbnRlbF9kaWdpdGFsX2Nvbm5lY3Rvcl9zdGF0ZShjb25uX3N0YXRlKTsKQEAgLTI0MDgsMTAg
KzI0MDYsMTAgQEAgaW50ZWxfZHBfY29tcHV0ZV9jb25maWcoc3RydWN0IGludGVsX2VuY29kZXIg
KmVuY29kZXIsCiAJCQkJICAgICAgIGFkanVzdGVkX21vZGUpOwogCiAJCWlmIChIQVNfR01DSChk
ZXZfcHJpdikpCi0JCQlpbnRlbF9nbWNoX3BhbmVsX2ZpdHRpbmcoaW50ZWxfY3J0YywgcGlwZV9j
b25maWcsCisJCQlpbnRlbF9nbWNoX3BhbmVsX2ZpdHRpbmcocGlwZV9jb25maWcsCiAJCQkJCQkg
Y29ubl9zdGF0ZS0+c2NhbGluZ19tb2RlKTsKIAkJZWxzZQotCQkJaW50ZWxfcGNoX3BhbmVsX2Zp
dHRpbmcoaW50ZWxfY3J0YywgcGlwZV9jb25maWcsCisJCQlpbnRlbF9wY2hfcGFuZWxfZml0dGlu
ZyhwaXBlX2NvbmZpZywKIAkJCQkJCWNvbm5fc3RhdGUtPnNjYWxpbmdfbW9kZSk7CiAJfQogCmRp
ZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2hkbWkuYyBiL2Ry
aXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfaGRtaS5jCmluZGV4IDFlNDJiMDEwNDVi
MS4uMjIzNDU4ODBjOGY1IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5
L2ludGVsX2hkbWkuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2hk
bWkuYwpAQCAtMjI5OSw4ICsyMjk5LDYgQEAgc3RhdGljIGJvb2wKIGludGVsX2hkbWlfeWNiY3I0
MjBfY29uZmlnKHN0cnVjdCBkcm1fY29ubmVjdG9yICpjb25uZWN0b3IsCiAJCQkgICBzdHJ1Y3Qg
aW50ZWxfY3J0Y19zdGF0ZSAqY29uZmlnKQogewotCXN0cnVjdCBpbnRlbF9jcnRjICppbnRlbF9j
cnRjID0gdG9faW50ZWxfY3J0Yyhjb25maWctPnVhcGkuY3J0Yyk7Ci0KIAlpZiAoIWNvbm5lY3Rv
ci0+eWNiY3JfNDIwX2FsbG93ZWQpIHsKIAkJRFJNX0VSUk9SKCJQbGF0Zm9ybSBkb2Vzbid0IHN1
cHBvcnQgWUNCQ1I0MjAgb3V0cHV0XG4iKTsKIAkJcmV0dXJuIGZhbHNlOwpAQCAtMjMwOCw4ICsy
MzA2LDcgQEAgaW50ZWxfaGRtaV95Y2JjcjQyMF9jb25maWcoc3RydWN0IGRybV9jb25uZWN0b3Ig
KmNvbm5lY3RvciwKIAogCWNvbmZpZy0+b3V0cHV0X2Zvcm1hdCA9IElOVEVMX09VVFBVVF9GT1JN
QVRfWUNCQ1I0MjA7CiAKLQlpbnRlbF9wY2hfcGFuZWxfZml0dGluZyhpbnRlbF9jcnRjLCBjb25m
aWcsCi0JCQkJRFJNX01PREVfU0NBTEVfRlVMTFNDUkVFTik7CisJaW50ZWxfcGNoX3BhbmVsX2Zp
dHRpbmcoY29uZmlnLCBEUk1fTU9ERV9TQ0FMRV9GVUxMU0NSRUVOKTsKIAogCXJldHVybiB0cnVl
OwogfQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9sdmRz
LmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2x2ZHMuYwppbmRleCBiN2Fk
MGI1MzQ3OTAuLmJmOGY0ZDc5ZDA4MyAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUv
ZGlzcGxheS9pbnRlbF9sdmRzLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9p
bnRlbF9sdmRzLmMKQEAgLTQzMCwxMCArNDMwLDEwIEBAIHN0YXRpYyBpbnQgaW50ZWxfbHZkc19j
b21wdXRlX2NvbmZpZyhzdHJ1Y3QgaW50ZWxfZW5jb2RlciAqaW50ZWxfZW5jb2RlciwKIAlpZiAo
SEFTX1BDSF9TUExJVChkZXZfcHJpdikpIHsKIAkJcGlwZV9jb25maWctPmhhc19wY2hfZW5jb2Rl
ciA9IHRydWU7CiAKLQkJaW50ZWxfcGNoX3BhbmVsX2ZpdHRpbmcoaW50ZWxfY3J0YywgcGlwZV9j
b25maWcsCisJCWludGVsX3BjaF9wYW5lbF9maXR0aW5nKHBpcGVfY29uZmlnLAogCQkJCQljb25u
X3N0YXRlLT5zY2FsaW5nX21vZGUpOwogCX0gZWxzZSB7Ci0JCWludGVsX2dtY2hfcGFuZWxfZml0
dGluZyhpbnRlbF9jcnRjLCBwaXBlX2NvbmZpZywKKwkJaW50ZWxfZ21jaF9wYW5lbF9maXR0aW5n
KHBpcGVfY29uZmlnLAogCQkJCQkgY29ubl9zdGF0ZS0+c2NhbGluZ19tb2RlKTsKIAogCX0KZGlm
ZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfcGFuZWwuYyBiL2Ry
aXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfcGFuZWwuYwppbmRleCA5NzJmZmY3ZTJi
YTAuLmEzNmYxN2VmOTdmMSAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxh
eS9pbnRlbF9wYW5lbC5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxf
cGFuZWwuYwpAQCAtMTc3LDIzICsxNzcsMjMgQEAgaW50ZWxfcGFuZWxfdmJ0X2ZpeGVkX21vZGUo
c3RydWN0IGludGVsX2Nvbm5lY3RvciAqY29ubmVjdG9yKQogCiAvKiBhZGp1c3RlZF9tb2RlIGhh
cyBiZWVuIHByZXNldCB0byBiZSB0aGUgcGFuZWwncyBmaXhlZCBtb2RlICovCiB2b2lkCi1pbnRl
bF9wY2hfcGFuZWxfZml0dGluZyhzdHJ1Y3QgaW50ZWxfY3J0YyAqaW50ZWxfY3J0YywKLQkJCXN0
cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpwaXBlX2NvbmZpZywKK2ludGVsX3BjaF9wYW5lbF9maXR0
aW5nKHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpjcnRjX3N0YXRlLAogCQkJaW50IGZpdHRpbmdf
bW9kZSkKIHsKLQljb25zdCBzdHJ1Y3QgZHJtX2Rpc3BsYXlfbW9kZSAqYWRqdXN0ZWRfbW9kZSA9
ICZwaXBlX2NvbmZpZy0+aHcuYWRqdXN0ZWRfbW9kZTsKKwljb25zdCBzdHJ1Y3QgZHJtX2Rpc3Bs
YXlfbW9kZSAqYWRqdXN0ZWRfbW9kZSA9CisJCSZjcnRjX3N0YXRlLT5ody5hZGp1c3RlZF9tb2Rl
OwogCWludCB4LCB5LCB3aWR0aCwgaGVpZ2h0OwogCiAJLyogTmF0aXZlIG1vZGVzIGRvbid0IG5l
ZWQgZml0dGluZyAqLwotCWlmIChhZGp1c3RlZF9tb2RlLT5jcnRjX2hkaXNwbGF5ID09IHBpcGVf
Y29uZmlnLT5waXBlX3NyY193ICYmCi0JICAgIGFkanVzdGVkX21vZGUtPmNydGNfdmRpc3BsYXkg
PT0gcGlwZV9jb25maWctPnBpcGVfc3JjX2ggJiYKLQkgICAgcGlwZV9jb25maWctPm91dHB1dF9m
b3JtYXQgIT0gSU5URUxfT1VUUFVUX0ZPUk1BVF9ZQ0JDUjQyMCkKKwlpZiAoYWRqdXN0ZWRfbW9k
ZS0+Y3J0Y19oZGlzcGxheSA9PSBjcnRjX3N0YXRlLT5waXBlX3NyY193ICYmCisJICAgIGFkanVz
dGVkX21vZGUtPmNydGNfdmRpc3BsYXkgPT0gY3J0Y19zdGF0ZS0+cGlwZV9zcmNfaCAmJgorCSAg
ICBjcnRjX3N0YXRlLT5vdXRwdXRfZm9ybWF0ICE9IElOVEVMX09VVFBVVF9GT1JNQVRfWUNCQ1I0
MjApCiAJCXJldHVybjsKIAogCXN3aXRjaCAoZml0dGluZ19tb2RlKSB7CiAJY2FzZSBEUk1fTU9E
RV9TQ0FMRV9DRU5URVI6Ci0JCXdpZHRoID0gcGlwZV9jb25maWctPnBpcGVfc3JjX3c7Ci0JCWhl
aWdodCA9IHBpcGVfY29uZmlnLT5waXBlX3NyY19oOworCQl3aWR0aCA9IGNydGNfc3RhdGUtPnBp
cGVfc3JjX3c7CisJCWhlaWdodCA9IGNydGNfc3RhdGUtPnBpcGVfc3JjX2g7CiAJCXggPSAoYWRq
dXN0ZWRfbW9kZS0+Y3J0Y19oZGlzcGxheSAtIHdpZHRoICsgMSkvMjsKIAkJeSA9IChhZGp1c3Rl
ZF9tb2RlLT5jcnRjX3ZkaXNwbGF5IC0gaGVpZ2h0ICsgMSkvMjsKIAkJYnJlYWs7CkBAIC0yMDIs
MTggKzIwMiwxOCBAQCBpbnRlbF9wY2hfcGFuZWxfZml0dGluZyhzdHJ1Y3QgaW50ZWxfY3J0YyAq
aW50ZWxfY3J0YywKIAkJLyogU2NhbGUgYnV0IHByZXNlcnZlIHRoZSBhc3BlY3QgcmF0aW8gKi8K
IAkJewogCQkJdTMyIHNjYWxlZF93aWR0aCA9IGFkanVzdGVkX21vZGUtPmNydGNfaGRpc3BsYXkK
LQkJCQkqIHBpcGVfY29uZmlnLT5waXBlX3NyY19oOwotCQkJdTMyIHNjYWxlZF9oZWlnaHQgPSBw
aXBlX2NvbmZpZy0+cGlwZV9zcmNfdworCQkJCSogY3J0Y19zdGF0ZS0+cGlwZV9zcmNfaDsKKwkJ
CXUzMiBzY2FsZWRfaGVpZ2h0ID0gY3J0Y19zdGF0ZS0+cGlwZV9zcmNfdwogCQkJCSogYWRqdXN0
ZWRfbW9kZS0+Y3J0Y192ZGlzcGxheTsKIAkJCWlmIChzY2FsZWRfd2lkdGggPiBzY2FsZWRfaGVp
Z2h0KSB7IC8qIHBpbGxhciAqLwotCQkJCXdpZHRoID0gc2NhbGVkX2hlaWdodCAvIHBpcGVfY29u
ZmlnLT5waXBlX3NyY19oOworCQkJCXdpZHRoID0gc2NhbGVkX2hlaWdodCAvIGNydGNfc3RhdGUt
PnBpcGVfc3JjX2g7CiAJCQkJaWYgKHdpZHRoICYgMSkKIAkJCQkJd2lkdGgrKzsKIAkJCQl4ID0g
KGFkanVzdGVkX21vZGUtPmNydGNfaGRpc3BsYXkgLSB3aWR0aCArIDEpIC8gMjsKIAkJCQl5ID0g
MDsKIAkJCQloZWlnaHQgPSBhZGp1c3RlZF9tb2RlLT5jcnRjX3ZkaXNwbGF5OwogCQkJfSBlbHNl
IGlmIChzY2FsZWRfd2lkdGggPCBzY2FsZWRfaGVpZ2h0KSB7IC8qIGxldHRlciAqLwotCQkJCWhl
aWdodCA9IHNjYWxlZF93aWR0aCAvIHBpcGVfY29uZmlnLT5waXBlX3NyY193OworCQkJCWhlaWdo
dCA9IHNjYWxlZF93aWR0aCAvIGNydGNfc3RhdGUtPnBpcGVfc3JjX3c7CiAJCQkJaWYgKGhlaWdo
dCAmIDEpCiAJCQkJICAgIGhlaWdodCsrOwogCQkJCXkgPSAoYWRqdXN0ZWRfbW9kZS0+Y3J0Y192
ZGlzcGxheSAtIGhlaWdodCArIDEpIC8gMjsKQEAgLTIzOCw5ICsyMzgsOSBAQCBpbnRlbF9wY2hf
cGFuZWxfZml0dGluZyhzdHJ1Y3QgaW50ZWxfY3J0YyAqaW50ZWxfY3J0YywKIAkJcmV0dXJuOwog
CX0KIAotCWRybV9yZWN0X2luaXQoJnBpcGVfY29uZmlnLT5wY2hfcGZpdC5kc3QsCisJZHJtX3Jl
Y3RfaW5pdCgmY3J0Y19zdGF0ZS0+cGNoX3BmaXQuZHN0LAogCQkgICAgICB4LCB5LCB3aWR0aCwg
aGVpZ2h0KTsKLQlwaXBlX2NvbmZpZy0+cGNoX3BmaXQuZW5hYmxlZCA9IHRydWU7CisJY3J0Y19z
dGF0ZS0+cGNoX3BmaXQuZW5hYmxlZCA9IHRydWU7CiB9CiAKIHN0YXRpYyB2b2lkCkBAIC0yOTks
MTMgKzI5OSwxNCBAQCBzdGF0aWMgaW5saW5lIHUzMiBwYW5lbF9maXR0ZXJfc2NhbGluZyh1MzIg
c291cmNlLCB1MzIgdGFyZ2V0KQogCXJldHVybiAoRkFDVE9SICogcmF0aW8gKyBGQUNUT1IvMikg
LyBGQUNUT1I7CiB9CiAKLXN0YXRpYyB2b2lkIGk5NjVfc2NhbGVfYXNwZWN0KHN0cnVjdCBpbnRl
bF9jcnRjX3N0YXRlICpwaXBlX2NvbmZpZywKK3N0YXRpYyB2b2lkIGk5NjVfc2NhbGVfYXNwZWN0
KHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpjcnRjX3N0YXRlLAogCQkJICAgICAgdTMyICpwZml0
X2NvbnRyb2wpCiB7Ci0JY29uc3Qgc3RydWN0IGRybV9kaXNwbGF5X21vZGUgKmFkanVzdGVkX21v
ZGUgPSAmcGlwZV9jb25maWctPmh3LmFkanVzdGVkX21vZGU7CisJY29uc3Qgc3RydWN0IGRybV9k
aXNwbGF5X21vZGUgKmFkanVzdGVkX21vZGUgPQorCQkmY3J0Y19zdGF0ZS0+aHcuYWRqdXN0ZWRf
bW9kZTsKIAl1MzIgc2NhbGVkX3dpZHRoID0gYWRqdXN0ZWRfbW9kZS0+Y3J0Y19oZGlzcGxheSAq
Ci0JCXBpcGVfY29uZmlnLT5waXBlX3NyY19oOwotCXUzMiBzY2FsZWRfaGVpZ2h0ID0gcGlwZV9j
b25maWctPnBpcGVfc3JjX3cgKgorCQljcnRjX3N0YXRlLT5waXBlX3NyY19oOworCXUzMiBzY2Fs
ZWRfaGVpZ2h0ID0gY3J0Y19zdGF0ZS0+cGlwZV9zcmNfdyAqCiAJCWFkanVzdGVkX21vZGUtPmNy
dGNfdmRpc3BsYXk7CiAKIAkvKiA5NjUrIGlzIGVhc3ksIGl0IGRvZXMgZXZlcnl0aGluZyBpbiBo
dyAqLwpAQCAtMzE1LDE4ICszMTYsMTggQEAgc3RhdGljIHZvaWQgaTk2NV9zY2FsZV9hc3BlY3Qo
c3RydWN0IGludGVsX2NydGNfc3RhdGUgKnBpcGVfY29uZmlnLAogCWVsc2UgaWYgKHNjYWxlZF93
aWR0aCA8IHNjYWxlZF9oZWlnaHQpCiAJCSpwZml0X2NvbnRyb2wgfD0gUEZJVF9FTkFCTEUgfAog
CQkJUEZJVF9TQ0FMSU5HX0xFVFRFUjsKLQllbHNlIGlmIChhZGp1c3RlZF9tb2RlLT5jcnRjX2hk
aXNwbGF5ICE9IHBpcGVfY29uZmlnLT5waXBlX3NyY193KQorCWVsc2UgaWYgKGFkanVzdGVkX21v
ZGUtPmNydGNfaGRpc3BsYXkgIT0gY3J0Y19zdGF0ZS0+cGlwZV9zcmNfdykKIAkJKnBmaXRfY29u
dHJvbCB8PSBQRklUX0VOQUJMRSB8IFBGSVRfU0NBTElOR19BVVRPOwogfQogCi1zdGF0aWMgdm9p
ZCBpOXh4X3NjYWxlX2FzcGVjdChzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqcGlwZV9jb25maWcs
CitzdGF0aWMgdm9pZCBpOXh4X3NjYWxlX2FzcGVjdChzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAq
Y3J0Y19zdGF0ZSwKIAkJCSAgICAgIHUzMiAqcGZpdF9jb250cm9sLCB1MzIgKnBmaXRfcGdtX3Jh
dGlvcywKIAkJCSAgICAgIHUzMiAqYm9yZGVyKQogewotCXN0cnVjdCBkcm1fZGlzcGxheV9tb2Rl
ICphZGp1c3RlZF9tb2RlID0gJnBpcGVfY29uZmlnLT5ody5hZGp1c3RlZF9tb2RlOworCXN0cnVj
dCBkcm1fZGlzcGxheV9tb2RlICphZGp1c3RlZF9tb2RlID0gJmNydGNfc3RhdGUtPmh3LmFkanVz
dGVkX21vZGU7CiAJdTMyIHNjYWxlZF93aWR0aCA9IGFkanVzdGVkX21vZGUtPmNydGNfaGRpc3Bs
YXkgKgotCQlwaXBlX2NvbmZpZy0+cGlwZV9zcmNfaDsKLQl1MzIgc2NhbGVkX2hlaWdodCA9IHBp
cGVfY29uZmlnLT5waXBlX3NyY193ICoKKwkJY3J0Y19zdGF0ZS0+cGlwZV9zcmNfaDsKKwl1MzIg
c2NhbGVkX2hlaWdodCA9IGNydGNfc3RhdGUtPnBpcGVfc3JjX3cgKgogCQlhZGp1c3RlZF9tb2Rl
LT5jcnRjX3ZkaXNwbGF5OwogCXUzMiBiaXRzOwogCkBAIC0zMzgsMTEgKzMzOSwxMSBAQCBzdGF0
aWMgdm9pZCBpOXh4X3NjYWxlX2FzcGVjdChzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqcGlwZV9j
b25maWcsCiAJaWYgKHNjYWxlZF93aWR0aCA+IHNjYWxlZF9oZWlnaHQpIHsgLyogcGlsbGFyICov
CiAJCWNlbnRyZV9ob3Jpem9udGFsbHkoYWRqdXN0ZWRfbW9kZSwKIAkJCQkgICAgc2NhbGVkX2hl
aWdodCAvCi0JCQkJICAgIHBpcGVfY29uZmlnLT5waXBlX3NyY19oKTsKKwkJCQkgICAgY3J0Y19z
dGF0ZS0+cGlwZV9zcmNfaCk7CiAKIAkJKmJvcmRlciA9IExWRFNfQk9SREVSX0VOQUJMRTsKLQkJ
aWYgKHBpcGVfY29uZmlnLT5waXBlX3NyY19oICE9IGFkanVzdGVkX21vZGUtPmNydGNfdmRpc3Bs
YXkpIHsKLQkJCWJpdHMgPSBwYW5lbF9maXR0ZXJfc2NhbGluZyhwaXBlX2NvbmZpZy0+cGlwZV9z
cmNfaCwKKwkJaWYgKGNydGNfc3RhdGUtPnBpcGVfc3JjX2ggIT0gYWRqdXN0ZWRfbW9kZS0+Y3J0
Y192ZGlzcGxheSkgeworCQkJYml0cyA9IHBhbmVsX2ZpdHRlcl9zY2FsaW5nKGNydGNfc3RhdGUt
PnBpcGVfc3JjX2gsCiAJCQkJCQkgICAgYWRqdXN0ZWRfbW9kZS0+Y3J0Y192ZGlzcGxheSk7CiAK
IAkJCSpwZml0X3BnbV9yYXRpb3MgfD0gKGJpdHMgPDwgUEZJVF9IT1JJWl9TQ0FMRV9TSElGVCB8
CkBAIC0zNTQsMTEgKzM1NSwxMSBAQCBzdGF0aWMgdm9pZCBpOXh4X3NjYWxlX2FzcGVjdChzdHJ1
Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqcGlwZV9jb25maWcsCiAJfSBlbHNlIGlmIChzY2FsZWRfd2lk
dGggPCBzY2FsZWRfaGVpZ2h0KSB7IC8qIGxldHRlciAqLwogCQljZW50cmVfdmVydGljYWxseShh
ZGp1c3RlZF9tb2RlLAogCQkJCSAgc2NhbGVkX3dpZHRoIC8KLQkJCQkgIHBpcGVfY29uZmlnLT5w
aXBlX3NyY193KTsKKwkJCQkgIGNydGNfc3RhdGUtPnBpcGVfc3JjX3cpOwogCiAJCSpib3JkZXIg
PSBMVkRTX0JPUkRFUl9FTkFCTEU7Ci0JCWlmIChwaXBlX2NvbmZpZy0+cGlwZV9zcmNfdyAhPSBh
ZGp1c3RlZF9tb2RlLT5jcnRjX2hkaXNwbGF5KSB7Ci0JCQliaXRzID0gcGFuZWxfZml0dGVyX3Nj
YWxpbmcocGlwZV9jb25maWctPnBpcGVfc3JjX3csCisJCWlmIChjcnRjX3N0YXRlLT5waXBlX3Ny
Y193ICE9IGFkanVzdGVkX21vZGUtPmNydGNfaGRpc3BsYXkpIHsKKwkJCWJpdHMgPSBwYW5lbF9m
aXR0ZXJfc2NhbGluZyhjcnRjX3N0YXRlLT5waXBlX3NyY193LAogCQkJCQkJICAgIGFkanVzdGVk
X21vZGUtPmNydGNfaGRpc3BsYXkpOwogCiAJCQkqcGZpdF9wZ21fcmF0aW9zIHw9IChiaXRzIDw8
IFBGSVRfSE9SSVpfU0NBTEVfU0hJRlQgfApAQCAtMzc2LDE3ICszNzcsMTcgQEAgc3RhdGljIHZv
aWQgaTl4eF9zY2FsZV9hc3BlY3Qoc3RydWN0IGludGVsX2NydGNfc3RhdGUgKnBpcGVfY29uZmln
LAogCX0KIH0KIAotdm9pZCBpbnRlbF9nbWNoX3BhbmVsX2ZpdHRpbmcoc3RydWN0IGludGVsX2Ny
dGMgKmludGVsX2NydGMsCi0JCQkgICAgICBzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqcGlwZV9j
b25maWcsCit2b2lkIGludGVsX2dtY2hfcGFuZWxfZml0dGluZyhzdHJ1Y3QgaW50ZWxfY3J0Y19z
dGF0ZSAqY3J0Y19zdGF0ZSwKIAkJCSAgICAgIGludCBmaXR0aW5nX21vZGUpCiB7Ci0Jc3RydWN0
IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2ID0gdG9faTkxNShpbnRlbF9jcnRjLT5iYXNlLmRl
dik7CisJc3RydWN0IGludGVsX2NydGMgKmNydGMgPSB0b19pbnRlbF9jcnRjKGNydGNfc3RhdGUt
PnVhcGkuY3J0Yyk7CisJc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2ID0gdG9faTkx
NShjcnRjLT5iYXNlLmRldik7CiAJdTMyIHBmaXRfY29udHJvbCA9IDAsIHBmaXRfcGdtX3JhdGlv
cyA9IDAsIGJvcmRlciA9IDA7Ci0Jc3RydWN0IGRybV9kaXNwbGF5X21vZGUgKmFkanVzdGVkX21v
ZGUgPSAmcGlwZV9jb25maWctPmh3LmFkanVzdGVkX21vZGU7CisJc3RydWN0IGRybV9kaXNwbGF5
X21vZGUgKmFkanVzdGVkX21vZGUgPSAmY3J0Y19zdGF0ZS0+aHcuYWRqdXN0ZWRfbW9kZTsKIAog
CS8qIE5hdGl2ZSBtb2RlcyBkb24ndCBuZWVkIGZpdHRpbmcgKi8KLQlpZiAoYWRqdXN0ZWRfbW9k
ZS0+Y3J0Y19oZGlzcGxheSA9PSBwaXBlX2NvbmZpZy0+cGlwZV9zcmNfdyAmJgotCSAgICBhZGp1
c3RlZF9tb2RlLT5jcnRjX3ZkaXNwbGF5ID09IHBpcGVfY29uZmlnLT5waXBlX3NyY19oKQorCWlm
IChhZGp1c3RlZF9tb2RlLT5jcnRjX2hkaXNwbGF5ID09IGNydGNfc3RhdGUtPnBpcGVfc3JjX3cg
JiYKKwkgICAgYWRqdXN0ZWRfbW9kZS0+Y3J0Y192ZGlzcGxheSA9PSBjcnRjX3N0YXRlLT5waXBl
X3NyY19oKQogCQlnb3RvIG91dDsKIAogCXN3aXRjaCAoZml0dGluZ19tb2RlKSB7CkBAIC0zOTUs
MTYgKzM5NiwxNiBAQCB2b2lkIGludGVsX2dtY2hfcGFuZWxfZml0dGluZyhzdHJ1Y3QgaW50ZWxf
Y3J0YyAqaW50ZWxfY3J0YywKIAkJICogRm9yIGNlbnRlcmVkIG1vZGVzLCB3ZSBoYXZlIHRvIGNh
bGN1bGF0ZSBib3JkZXIgd2lkdGhzICYKIAkJICogaGVpZ2h0cyBhbmQgbW9kaWZ5IHRoZSB2YWx1
ZXMgcHJvZ3JhbW1lZCBpbnRvIHRoZSBDUlRDLgogCQkgKi8KLQkJY2VudHJlX2hvcml6b250YWxs
eShhZGp1c3RlZF9tb2RlLCBwaXBlX2NvbmZpZy0+cGlwZV9zcmNfdyk7Ci0JCWNlbnRyZV92ZXJ0
aWNhbGx5KGFkanVzdGVkX21vZGUsIHBpcGVfY29uZmlnLT5waXBlX3NyY19oKTsKKwkJY2VudHJl
X2hvcml6b250YWxseShhZGp1c3RlZF9tb2RlLCBjcnRjX3N0YXRlLT5waXBlX3NyY193KTsKKwkJ
Y2VudHJlX3ZlcnRpY2FsbHkoYWRqdXN0ZWRfbW9kZSwgY3J0Y19zdGF0ZS0+cGlwZV9zcmNfaCk7
CiAJCWJvcmRlciA9IExWRFNfQk9SREVSX0VOQUJMRTsKIAkJYnJlYWs7CiAJY2FzZSBEUk1fTU9E
RV9TQ0FMRV9BU1BFQ1Q6CiAJCS8qIFNjYWxlIGJ1dCBwcmVzZXJ2ZSB0aGUgYXNwZWN0IHJhdGlv
ICovCiAJCWlmIChJTlRFTF9HRU4oZGV2X3ByaXYpID49IDQpCi0JCQlpOTY1X3NjYWxlX2FzcGVj
dChwaXBlX2NvbmZpZywgJnBmaXRfY29udHJvbCk7CisJCQlpOTY1X3NjYWxlX2FzcGVjdChjcnRj
X3N0YXRlLCAmcGZpdF9jb250cm9sKTsKIAkJZWxzZQotCQkJaTl4eF9zY2FsZV9hc3BlY3QocGlw
ZV9jb25maWcsICZwZml0X2NvbnRyb2wsCisJCQlpOXh4X3NjYWxlX2FzcGVjdChjcnRjX3N0YXRl
LCAmcGZpdF9jb250cm9sLAogCQkJCQkgICZwZml0X3BnbV9yYXRpb3MsICZib3JkZXIpOwogCQli
cmVhazsKIAljYXNlIERSTV9NT0RFX1NDQUxFX0ZVTExTQ1JFRU46CkBAIC00MTIsOCArNDEzLDgg
QEAgdm9pZCBpbnRlbF9nbWNoX3BhbmVsX2ZpdHRpbmcoc3RydWN0IGludGVsX2NydGMgKmludGVs
X2NydGMsCiAJCSAqIEZ1bGwgc2NhbGluZywgZXZlbiBpZiBpdCBjaGFuZ2VzIHRoZSBhc3BlY3Qg
cmF0aW8uCiAJCSAqIEZvcnR1bmF0ZWx5IHRoaXMgaXMgYWxsIGRvbmUgZm9yIHVzIGluIGh3Lgog
CQkgKi8KLQkJaWYgKHBpcGVfY29uZmlnLT5waXBlX3NyY19oICE9IGFkanVzdGVkX21vZGUtPmNy
dGNfdmRpc3BsYXkgfHwKLQkJICAgIHBpcGVfY29uZmlnLT5waXBlX3NyY193ICE9IGFkanVzdGVk
X21vZGUtPmNydGNfaGRpc3BsYXkpIHsKKwkJaWYgKGNydGNfc3RhdGUtPnBpcGVfc3JjX2ggIT0g
YWRqdXN0ZWRfbW9kZS0+Y3J0Y192ZGlzcGxheSB8fAorCQkgICAgY3J0Y19zdGF0ZS0+cGlwZV9z
cmNfdyAhPSBhZGp1c3RlZF9tb2RlLT5jcnRjX2hkaXNwbGF5KSB7CiAJCQlwZml0X2NvbnRyb2wg
fD0gUEZJVF9FTkFCTEU7CiAJCQlpZiAoSU5URUxfR0VOKGRldl9wcml2KSA+PSA0KQogCQkJCXBm
aXRfY29udHJvbCB8PSBQRklUX1NDQUxJTkdfQVVUTzsKQEAgLTQzMyw3ICs0MzQsNyBAQCB2b2lk
IGludGVsX2dtY2hfcGFuZWxfZml0dGluZyhzdHJ1Y3QgaW50ZWxfY3J0YyAqaW50ZWxfY3J0YywK
IAkvKiA5NjUrIHdhbnRzIGZ1enp5IGZpdHRpbmcgKi8KIAkvKiBGSVhNRTogaGFuZGxlIG11bHRp
cGxlIHBhbmVscyBieSBmYWlsaW5nIGdyYWNlZnVsbHkgKi8KIAlpZiAoSU5URUxfR0VOKGRldl9w
cml2KSA+PSA0KQotCQlwZml0X2NvbnRyb2wgfD0gUEZJVF9QSVBFKGludGVsX2NydGMtPnBpcGUp
IHwgUEZJVF9GSUxURVJfRlVaWlk7CisJCXBmaXRfY29udHJvbCB8PSBQRklUX1BJUEUoY3J0Yy0+
cGlwZSkgfCBQRklUX0ZJTFRFUl9GVVpaWTsKIAogb3V0OgogCWlmICgocGZpdF9jb250cm9sICYg
UEZJVF9FTkFCTEUpID09IDApIHsKQEAgLTQ0MiwxMiArNDQzLDEyIEBAIHZvaWQgaW50ZWxfZ21j
aF9wYW5lbF9maXR0aW5nKHN0cnVjdCBpbnRlbF9jcnRjICppbnRlbF9jcnRjLAogCX0KIAogCS8q
IE1ha2Ugc3VyZSBwcmUtOTY1IHNldCBkaXRoZXIgY29ycmVjdGx5IGZvciAxOGJwcCBwYW5lbHMu
ICovCi0JaWYgKElOVEVMX0dFTihkZXZfcHJpdikgPCA0ICYmIHBpcGVfY29uZmlnLT5waXBlX2Jw
cCA9PSAxOCkKKwlpZiAoSU5URUxfR0VOKGRldl9wcml2KSA8IDQgJiYgY3J0Y19zdGF0ZS0+cGlw
ZV9icHAgPT0gMTgpCiAJCXBmaXRfY29udHJvbCB8PSBQQU5FTF84VE82X0RJVEhFUl9FTkFCTEU7
CiAKLQlwaXBlX2NvbmZpZy0+Z21jaF9wZml0LmNvbnRyb2wgPSBwZml0X2NvbnRyb2w7Ci0JcGlw
ZV9jb25maWctPmdtY2hfcGZpdC5wZ21fcmF0aW9zID0gcGZpdF9wZ21fcmF0aW9zOwotCXBpcGVf
Y29uZmlnLT5nbWNoX3BmaXQubHZkc19ib3JkZXJfYml0cyA9IGJvcmRlcjsKKwljcnRjX3N0YXRl
LT5nbWNoX3BmaXQuY29udHJvbCA9IHBmaXRfY29udHJvbDsKKwljcnRjX3N0YXRlLT5nbWNoX3Bm
aXQucGdtX3JhdGlvcyA9IHBmaXRfcGdtX3JhdGlvczsKKwljcnRjX3N0YXRlLT5nbWNoX3BmaXQu
bHZkc19ib3JkZXJfYml0cyA9IGJvcmRlcjsKIH0KIAogLyoqCmRpZmYgLS1naXQgYS9kcml2ZXJz
L2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX3BhbmVsLmggYi9kcml2ZXJzL2dwdS9kcm0vaTkx
NS9kaXNwbGF5L2ludGVsX3BhbmVsLmgKaW5kZXggY2VkZWVhNDQzMzM2Li5lMTgwNGU2ZTgzMjUg
MTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfcGFuZWwuaAor
KysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX3BhbmVsLmgKQEAgLTI1LDEx
ICsyNSw5IEBAIGludCBpbnRlbF9wYW5lbF9pbml0KHN0cnVjdCBpbnRlbF9wYW5lbCAqcGFuZWws
CiB2b2lkIGludGVsX3BhbmVsX2Zpbmkoc3RydWN0IGludGVsX3BhbmVsICpwYW5lbCk7CiB2b2lk
IGludGVsX2ZpeGVkX3BhbmVsX21vZGUoY29uc3Qgc3RydWN0IGRybV9kaXNwbGF5X21vZGUgKmZp
eGVkX21vZGUsCiAJCQkgICAgc3RydWN0IGRybV9kaXNwbGF5X21vZGUgKmFkanVzdGVkX21vZGUp
Owotdm9pZCBpbnRlbF9wY2hfcGFuZWxfZml0dGluZyhzdHJ1Y3QgaW50ZWxfY3J0YyAqY3J0YywK
LQkJCSAgICAgc3RydWN0IGludGVsX2NydGNfc3RhdGUgKnBpcGVfY29uZmlnLAordm9pZCBpbnRl
bF9wY2hfcGFuZWxfZml0dGluZyhzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqY3J0Y19zdGF0ZSwK
IAkJCSAgICAgaW50IGZpdHRpbmdfbW9kZSk7Ci12b2lkIGludGVsX2dtY2hfcGFuZWxfZml0dGlu
ZyhzdHJ1Y3QgaW50ZWxfY3J0YyAqY3J0YywKLQkJCSAgICAgIHN0cnVjdCBpbnRlbF9jcnRjX3N0
YXRlICpwaXBlX2NvbmZpZywKK3ZvaWQgaW50ZWxfZ21jaF9wYW5lbF9maXR0aW5nKHN0cnVjdCBp
bnRlbF9jcnRjX3N0YXRlICpjcnRjX3N0YXRlLAogCQkJICAgICAgaW50IGZpdHRpbmdfbW9kZSk7
CiB2b2lkIGludGVsX3BhbmVsX3NldF9iYWNrbGlnaHRfYWNwaShjb25zdCBzdHJ1Y3QgZHJtX2Nv
bm5lY3Rvcl9zdGF0ZSAqY29ubl9zdGF0ZSwKIAkJCQkgICAgdTMyIGxldmVsLCB1MzIgbWF4KTsK
ZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvdmx2X2RzaS5jIGIvZHJp
dmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS92bHZfZHNpLmMKaW5kZXggZDA3Y2ZhZDhjZTZmLi5j
ZDJmOWY0NmNmOWYgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvdmx2
X2RzaS5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvdmx2X2RzaS5jCkBAIC0y
NjcsNyArMjY3LDYgQEAgc3RhdGljIGludCBpbnRlbF9kc2lfY29tcHV0ZV9jb25maWcoc3RydWN0
IGludGVsX2VuY29kZXIgKmVuY29kZXIsCiAJc3RydWN0IGludGVsX2RzaSAqaW50ZWxfZHNpID0g
Y29udGFpbmVyX29mKGVuY29kZXIsIHN0cnVjdCBpbnRlbF9kc2ksCiAJCQkJCQkgICBiYXNlKTsK
IAlzdHJ1Y3QgaW50ZWxfY29ubmVjdG9yICppbnRlbF9jb25uZWN0b3IgPSBpbnRlbF9kc2ktPmF0
dGFjaGVkX2Nvbm5lY3RvcjsKLQlzdHJ1Y3QgaW50ZWxfY3J0YyAqY3J0YyA9IHRvX2ludGVsX2Ny
dGMocGlwZV9jb25maWctPnVhcGkuY3J0Yyk7CiAJY29uc3Qgc3RydWN0IGRybV9kaXNwbGF5X21v
ZGUgKmZpeGVkX21vZGUgPSBpbnRlbF9jb25uZWN0b3ItPnBhbmVsLmZpeGVkX21vZGU7CiAJc3Ry
dWN0IGRybV9kaXNwbGF5X21vZGUgKmFkanVzdGVkX21vZGUgPSAmcGlwZV9jb25maWctPmh3LmFk
anVzdGVkX21vZGU7CiAJaW50IHJldDsKQEAgLTI3OSwxMCArMjc4LDEwIEBAIHN0YXRpYyBpbnQg
aW50ZWxfZHNpX2NvbXB1dGVfY29uZmlnKHN0cnVjdCBpbnRlbF9lbmNvZGVyICplbmNvZGVyLAog
CQlpbnRlbF9maXhlZF9wYW5lbF9tb2RlKGZpeGVkX21vZGUsIGFkanVzdGVkX21vZGUpOwogCiAJ
CWlmIChIQVNfR01DSChkZXZfcHJpdikpCi0JCQlpbnRlbF9nbWNoX3BhbmVsX2ZpdHRpbmcoY3J0
YywgcGlwZV9jb25maWcsCisJCQlpbnRlbF9nbWNoX3BhbmVsX2ZpdHRpbmcocGlwZV9jb25maWcs
CiAJCQkJCQkgY29ubl9zdGF0ZS0+c2NhbGluZ19tb2RlKTsKIAkJZWxzZQotCQkJaW50ZWxfcGNo
X3BhbmVsX2ZpdHRpbmcoY3J0YywgcGlwZV9jb25maWcsCisJCQlpbnRlbF9wY2hfcGFuZWxfZml0
dGluZyhwaXBlX2NvbmZpZywKIAkJCQkJCWNvbm5fc3RhdGUtPnNjYWxpbmdfbW9kZSk7CiAJfQog
Ci0tIAoyLjI0LjEKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fCkludGVsLWdmeCBtYWlsaW5nIGxpc3QKSW50ZWwtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9y
ZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2ludGVsLWdm
eAo=

Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 6B8F7184CDB
	for <lists+intel-gfx@lfdr.de>; Fri, 13 Mar 2020 17:49:09 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id CA4AC6EC30;
	Fri, 13 Mar 2020 16:49:07 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga12.intel.com (mga12.intel.com [192.55.52.136])
 by gabe.freedesktop.org (Postfix) with ESMTPS id B5BA06EC30
 for <intel-gfx@lists.freedesktop.org>; Fri, 13 Mar 2020 16:49:05 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga002.jf.intel.com ([10.7.209.21])
 by fmsmga106.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 13 Mar 2020 09:48:56 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.70,549,1574150400"; d="scan'208";a="261943696"
Received: from stinkbox.fi.intel.com (HELO stinkbox) ([10.237.72.174])
 by orsmga002.jf.intel.com with SMTP; 13 Mar 2020 09:48:54 -0700
Received: by stinkbox (sSMTP sendmail emulation);
 Fri, 13 Mar 2020 18:48:53 +0200
From: Ville Syrjala <ville.syrjala@linux.intel.com>
To: intel-gfx@lists.freedesktop.org
Date: Fri, 13 Mar 2020 18:48:25 +0200
Message-Id: <20200313164831.5980-8-ville.syrjala@linux.intel.com>
X-Mailer: git-send-email 2.24.1
In-Reply-To: <20200313164831.5980-1-ville.syrjala@linux.intel.com>
References: <20200313164831.5980-1-ville.syrjala@linux.intel.com>
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH 07/13] drm/i915: Store cpu_transcoder_mask in
 device info
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

RnJvbTogVmlsbGUgU3lyasOkbMOkIDx2aWxsZS5zeXJqYWxhQGxpbnV4LmludGVsLmNvbT4KCldl
IGhhdmUgYSBidW5jaCBvZiBjb2RlIHRoYXQgd291bGQgbGlrZSB0byBrbm93IHdoaWNoCkNQVSB0
cmFuc2NvZGVycyBhcmUgYWN0dWFsbHkgcHJlc2VudCBpbiB0aGUgaGFyZHdhcmUuIFJhdGhlciB0
aGFuCnVzZSB2YXJpb3VzIGFkLWhvYyBtZXRob2RzIGxldCdzIGp1c3QgaW5jbHVkZSBhIGZ1bGwg
Yml0bWFzayBpbgp0aGUgZGV2aWNlIGluZm8sIGFsb25nc2lkZSBwaXBlX21hc2suCgpTaWduZWQt
b2ZmLWJ5OiBWaWxsZSBTeXJqw6Rsw6QgPHZpbGxlLnN5cmphbGFAbGludXguaW50ZWwuY29tPgot
LS0KIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGRpLmMgICAgIHwgIDYgKy0t
CiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXkuYyB8IDEzICstLS0t
LS0KIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheS5oIHwgIDggKysr
LQogZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kcnYuaCAgICAgICAgICAgICAgfCAgMiArLQog
ZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9wY2kuYyAgICAgICAgICAgICAgfCAyMyArKysrKysr
KysrLQogZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfZGV2aWNlX2luZm8uYyAgICAgfCA0MSAr
KysrKysrKysrKysrLS0tLS0tLQogZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfZGV2aWNlX2lu
Zm8uaCAgICAgfCAgMSArCiA3IGZpbGVzIGNoYW5nZWQsIDYyIGluc2VydGlvbnMoKyksIDMyIGRl
bGV0aW9ucygtKQoKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50
ZWxfZGRpLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2RkaS5jCmluZGV4
IDhiYjZjNTgzYWJiOC4uMGZlYTJlYzJjZGQ4IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0v
aTkxNS9kaXNwbGF5L2ludGVsX2RkaS5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3Bs
YXkvaW50ZWxfZGRpLmMKQEAgLTE2ODksNyArMTY4OSw3IEBAIGJvb2wgaW50ZWxfZGRpX2Nvbm5l
Y3Rvcl9nZXRfaHdfc3RhdGUoc3RydWN0IGludGVsX2Nvbm5lY3RvciAqaW50ZWxfY29ubmVjdG9y
KQogCQlnb3RvIG91dDsKIAl9CiAKLQlpZiAoSEFTX1RSQU5TQ09ERVJfRURQKGRldl9wcml2KSAm
JiBwb3J0ID09IFBPUlRfQSkKKwlpZiAoSEFTX1RSQU5TQ09ERVIoZGV2X3ByaXYsIFRSQU5TQ09E
RVJfRURQKSAmJiBwb3J0ID09IFBPUlRfQSkKIAkJY3B1X3RyYW5zY29kZXIgPSBUUkFOU0NPREVS
X0VEUDsKIAllbHNlCiAJCWNwdV90cmFuc2NvZGVyID0gKGVudW0gdHJhbnNjb2RlcikgcGlwZTsK
QEAgLTE3NTEsNyArMTc1MSw3IEBAIHN0YXRpYyB2b2lkIGludGVsX2RkaV9nZXRfZW5jb2Rlcl9w
aXBlcyhzdHJ1Y3QgaW50ZWxfZW5jb2RlciAqZW5jb2RlciwKIAlpZiAoISh0bXAgJiBERElfQlVG
X0NUTF9FTkFCTEUpKQogCQlnb3RvIG91dDsKIAotCWlmIChIQVNfVFJBTlNDT0RFUl9FRFAoZGV2
X3ByaXYpICYmIHBvcnQgPT0gUE9SVF9BKSB7CisJaWYgKEhBU19UUkFOU0NPREVSKGRldl9wcml2
LCBUUkFOU0NPREVSX0VEUCkgJiYgcG9ydCA9PSBQT1JUX0EpIHsKIAkJdG1wID0gaW50ZWxfZGVf
cmVhZChkZXZfcHJpdiwKIAkJCQkgICAgVFJBTlNfRERJX0ZVTkNfQ1RMKFRSQU5TQ09ERVJfRURQ
KSk7CiAKQEAgLTQwNzYsNyArNDA3Niw3IEBAIHN0YXRpYyBpbnQgaW50ZWxfZGRpX2NvbXB1dGVf
Y29uZmlnKHN0cnVjdCBpbnRlbF9lbmNvZGVyICplbmNvZGVyLAogCWVudW0gcG9ydCBwb3J0ID0g
ZW5jb2Rlci0+cG9ydDsKIAlpbnQgcmV0OwogCi0JaWYgKEhBU19UUkFOU0NPREVSX0VEUChkZXZf
cHJpdikgJiYgcG9ydCA9PSBQT1JUX0EpCisJaWYgKEhBU19UUkFOU0NPREVSKGRldl9wcml2LCBU
UkFOU0NPREVSX0VEUCkgJiYgcG9ydCA9PSBQT1JUX0EpCiAJCXBpcGVfY29uZmlnLT5jcHVfdHJh
bnNjb2RlciA9IFRSQU5TQ09ERVJfRURQOwogCiAJaWYgKGludGVsX2NydGNfaGFzX3R5cGUocGlw
ZV9jb25maWcsIElOVEVMX09VVFBVVF9IRE1JKSkgewpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUv
ZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5LmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9k
aXNwbGF5L2ludGVsX2Rpc3BsYXkuYwppbmRleCA0ODQwOTg4ZGM1OGQuLjI5MmNhYzY0ZjFhYyAx
MDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5LmMK
KysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5LmMKQEAgLTEw
ODU1LDcgKzEwODU1LDcgQEAgc3RhdGljIGJvb2wgaHN3X2dldF90cmFuc2NvZGVyX3N0YXRlKHN0
cnVjdCBpbnRlbF9jcnRjICpjcnRjLAogCQlwYW5lbF90cmFuc2NvZGVyX21hc2sgfD0KIAkJCUJJ
VChUUkFOU0NPREVSX0RTSV8wKSB8IEJJVChUUkFOU0NPREVSX0RTSV8xKTsKIAotCWlmIChIQVNf
VFJBTlNDT0RFUl9FRFAoZGV2X3ByaXYpKQorCWlmIChIQVNfVFJBTlNDT0RFUihkZXZfcHJpdiwg
VFJBTlNDT0RFUl9FRFApKQogCQlwYW5lbF90cmFuc2NvZGVyX21hc2sgfD0gQklUKFRSQU5TQ09E
RVJfRURQKTsKIAogCS8qCkBAIC0xODcxMiwxNSArMTg3MTIsNiBAQCB2b2lkIGludGVsX21vZGVz
ZXRfZHJpdmVyX3JlbW92ZV9ub2lycShzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSkKIAog
I2lmIElTX0VOQUJMRUQoQ09ORklHX0RSTV9JOTE1X0NBUFRVUkVfRVJST1IpCiAKLXN0YXRpYyBi
b29sCi1oYXNfdHJhbnNjb2RlcihzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYsIGVu
dW0gdHJhbnNjb2RlciBjcHVfdHJhbnNjb2RlcikKLXsKLQlpZiAoY3B1X3RyYW5zY29kZXIgPT0g
VFJBTlNDT0RFUl9FRFApCi0JCXJldHVybiBIQVNfVFJBTlNDT0RFUl9FRFAoZGV2X3ByaXYpOwot
CWVsc2UKLQkJcmV0dXJuIElOVEVMX0lORk8oZGV2X3ByaXYpLT5waXBlX21hc2sgJiBCSVQoY3B1
X3RyYW5zY29kZXIpOwotfQotCiBzdHJ1Y3QgaW50ZWxfZGlzcGxheV9lcnJvcl9zdGF0ZSB7CiAK
IAl1MzIgcG93ZXJfd2VsbF9kcml2ZXI7CkBAIC0xODgyOSw3ICsxODgyMCw3IEBAIGludGVsX2Rp
c3BsYXlfY2FwdHVyZV9lcnJvcl9zdGF0ZShzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3By
aXYpCiAJZm9yIChpID0gMDsgaSA8IEFSUkFZX1NJWkUoZXJyb3ItPnRyYW5zY29kZXIpOyBpKysp
IHsKIAkJZW51bSB0cmFuc2NvZGVyIGNwdV90cmFuc2NvZGVyID0gdHJhbnNjb2RlcnNbaV07CiAK
LQkJaWYgKCFoYXNfdHJhbnNjb2RlcihkZXZfcHJpdiwgY3B1X3RyYW5zY29kZXIpKQorCQlpZiAo
IUhBU19UUkFOU0NPREVSKGRldl9wcml2LCBjcHVfdHJhbnNjb2RlcikpCiAJCQljb250aW51ZTsK
IAogCQllcnJvci0+dHJhbnNjb2RlcltpXS5hdmFpbGFibGUgPSB0cnVlOwpkaWZmIC0tZ2l0IGEv
ZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5LmggYi9kcml2ZXJzL2dw
dS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXkuaAppbmRleCBhZGIxMjI1YTM0ODAuLmNj
N2YyODc4MDRkNyAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRl
bF9kaXNwbGF5LmgKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNw
bGF5LmgKQEAgLTMyMCw5ICszMjAsMTMgQEAgZW51bSBwaHlfZmlhIHsKIAlmb3JfZWFjaF9waXBl
KF9fZGV2X3ByaXYsIF9fcCkgXAogCQlmb3JfZWFjaF9pZigoX19tYXNrKSAmIEJJVChfX3ApKQog
Ci0jZGVmaW5lIGZvcl9lYWNoX2NwdV90cmFuc2NvZGVyX21hc2tlZChfX2Rldl9wcml2LCBfX3Qs
IF9fbWFzaykgXAorI2RlZmluZSBmb3JfZWFjaF9jcHVfdHJhbnNjb2RlcihfX2Rldl9wcml2LCBf
X3QpIFwKIAlmb3IgKChfX3QpID0gMDsgKF9fdCkgPCBJOTE1X01BWF9UUkFOU0NPREVSUzsgKF9f
dCkrKykJXAotCQlmb3JfZWFjaF9pZiAoKF9fbWFzaykgJiAoMSA8PCAoX190KSkpCisJCWZvcl9l
YWNoX2lmIChJTlRFTF9JTkZPKF9fZGV2X3ByaXYpLT5jcHVfdHJhbnNjb2Rlcl9tYXNrICYgQklU
KF9fdCkpCisKKyNkZWZpbmUgZm9yX2VhY2hfY3B1X3RyYW5zY29kZXJfbWFza2VkKF9fZGV2X3By
aXYsIF9fdCwgX19tYXNrKSBcCisJZm9yX2VhY2hfY3B1X3RyYW5zY29kZXIoX19kZXZfcHJpdiwg
X190KSBcCisJCWZvcl9lYWNoX2lmICgoX19tYXNrKSAmIEJJVChfX3QpKQogCiAjZGVmaW5lIGZv
cl9lYWNoX3VuaXZlcnNhbF9wbGFuZShfX2Rldl9wcml2LCBfX3BpcGUsIF9fcCkJCVwKIAlmb3Ig
KChfX3ApID0gMDsJCQkJCQkJXApkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkx
NV9kcnYuaCBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZHJ2LmgKaW5kZXggMTkxOTViZGU0
OTIxLi5jNGE4Yzc2MjEzNmYgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVf
ZHJ2LmgKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kcnYuaApAQCAtMTYwNCw3ICsx
NjA0LDcgQEAgSVNfU1VCUExBVEZPUk0oY29uc3Qgc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5
MTUsCiAjZGVmaW5lIEhBU19EREkoZGV2X3ByaXYpCQkgKElOVEVMX0lORk8oZGV2X3ByaXYpLT5k
aXNwbGF5Lmhhc19kZGkpCiAjZGVmaW5lIEhBU19GUEdBX0RCR19VTkNMQUlNRUQoZGV2X3ByaXYp
IChJTlRFTF9JTkZPKGRldl9wcml2KS0+aGFzX2ZwZ2FfZGJnKQogI2RlZmluZSBIQVNfUFNSKGRl
dl9wcml2KQkJIChJTlRFTF9JTkZPKGRldl9wcml2KS0+ZGlzcGxheS5oYXNfcHNyKQotI2RlZmlu
ZSBIQVNfVFJBTlNDT0RFUl9FRFAoZGV2X3ByaXYpCSAoSU5URUxfSU5GTyhkZXZfcHJpdiktPnRy
YW5zX29mZnNldHNbVFJBTlNDT0RFUl9FRFBdICE9IDApCisjZGVmaW5lIEhBU19UUkFOU0NPREVS
KGRldl9wcml2LCB0cmFucykJICgoSU5URUxfSU5GTyhkZXZfcHJpdiktPmNwdV90cmFuc2NvZGVy
X21hc2sgJiBCSVQodHJhbnMpKSAhPSAwKQogCiAjZGVmaW5lIEhBU19SQzYoZGV2X3ByaXYpCQkg
KElOVEVMX0lORk8oZGV2X3ByaXYpLT5oYXNfcmM2KQogI2RlZmluZSBIQVNfUkM2cChkZXZfcHJp
dikJCSAoSU5URUxfSU5GTyhkZXZfcHJpdiktPmhhc19yYzZwKQpkaWZmIC0tZ2l0IGEvZHJpdmVy
cy9ncHUvZHJtL2k5MTUvaTkxNV9wY2kuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfcGNp
LmMKaW5kZXggZjJiMjJjNTYzYTJiLi43M2M3N2IzMzA1OWYgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMv
Z3B1L2RybS9pOTE1L2k5MTVfcGNpLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9w
Y2kuYwpAQCAtMTYwLDYgKzE2MCw3IEBACiAJR0VOKDIpLCBcCiAJLmlzX21vYmlsZSA9IDEsIFwK
IAkucGlwZV9tYXNrID0gQklUKFBJUEVfQSkgfCBCSVQoUElQRV9CKSwgXAorCS5jcHVfdHJhbnNj
b2Rlcl9tYXNrID0gQklUKFRSQU5TQ09ERVJfQSkgfCBCSVQoVFJBTlNDT0RFUl9CKSwgXAogCS5k
aXNwbGF5Lmhhc19vdmVybGF5ID0gMSwgXAogCS5kaXNwbGF5LmN1cnNvcl9uZWVkc19waHlzaWNh
bCA9IDEsIFwKIAkuZGlzcGxheS5vdmVybGF5X25lZWRzX3BoeXNpY2FsID0gMSwgXApAQCAtMTc5
LDYgKzE4MCw3IEBACiAjZGVmaW5lIEk4NDVfRkVBVFVSRVMgXAogCUdFTigyKSwgXAogCS5waXBl
X21hc2sgPSBCSVQoUElQRV9BKSwgXAorCS5jcHVfdHJhbnNjb2Rlcl9tYXNrID0gQklUKFRSQU5T
Q09ERVJfQSksIFwKIAkuZGlzcGxheS5oYXNfb3ZlcmxheSA9IDEsIFwKIAkuZGlzcGxheS5vdmVy
bGF5X25lZWRzX3BoeXNpY2FsID0gMSwgXAogCS5kaXNwbGF5Lmhhc19nbWNoID0gMSwgXApAQCAt
MjE4LDYgKzIyMCw3IEBAIHN0YXRpYyBjb25zdCBzdHJ1Y3QgaW50ZWxfZGV2aWNlX2luZm8gaTg2
NWdfaW5mbyA9IHsKICNkZWZpbmUgR0VOM19GRUFUVVJFUyBcCiAJR0VOKDMpLCBcCiAJLnBpcGVf
bWFzayA9IEJJVChQSVBFX0EpIHwgQklUKFBJUEVfQiksIFwKKwkuY3B1X3RyYW5zY29kZXJfbWFz
ayA9IEJJVChUUkFOU0NPREVSX0EpIHwgQklUKFRSQU5TQ09ERVJfQiksIFwKIAkuZGlzcGxheS5o
YXNfZ21jaCA9IDEsIFwKIAkuZ3B1X3Jlc2V0X2Nsb2JiZXJzX2Rpc3BsYXkgPSB0cnVlLCBcCiAJ
LmVuZ2luZV9tYXNrID0gQklUKFJDUzApLCBcCkBAIC0zMDMsNiArMzA2LDcgQEAgc3RhdGljIGNv
bnN0IHN0cnVjdCBpbnRlbF9kZXZpY2VfaW5mbyBwbnZfbV9pbmZvID0gewogI2RlZmluZSBHRU40
X0ZFQVRVUkVTIFwKIAlHRU4oNCksIFwKIAkucGlwZV9tYXNrID0gQklUKFBJUEVfQSkgfCBCSVQo
UElQRV9CKSwgXAorCS5jcHVfdHJhbnNjb2Rlcl9tYXNrID0gQklUKFRSQU5TQ09ERVJfQSkgfCBC
SVQoVFJBTlNDT0RFUl9CKSwgXAogCS5kaXNwbGF5Lmhhc19ob3RwbHVnID0gMSwgXAogCS5kaXNw
bGF5Lmhhc19nbWNoID0gMSwgXAogCS5ncHVfcmVzZXRfY2xvYmJlcnNfZGlzcGxheSA9IHRydWUs
IFwKQEAgLTM1NCw2ICszNTgsNyBAQCBzdGF0aWMgY29uc3Qgc3RydWN0IGludGVsX2RldmljZV9p
bmZvIGdtNDVfaW5mbyA9IHsKICNkZWZpbmUgR0VONV9GRUFUVVJFUyBcCiAJR0VOKDUpLCBcCiAJ
LnBpcGVfbWFzayA9IEJJVChQSVBFX0EpIHwgQklUKFBJUEVfQiksIFwKKwkuY3B1X3RyYW5zY29k
ZXJfbWFzayA9IEJJVChUUkFOU0NPREVSX0EpIHwgQklUKFRSQU5TQ09ERVJfQiksIFwKIAkuZGlz
cGxheS5oYXNfaG90cGx1ZyA9IDEsIFwKIAkuZW5naW5lX21hc2sgPSBCSVQoUkNTMCkgfCBCSVQo
VkNTMCksIFwKIAkuaGFzX3Nub29wID0gdHJ1ZSwgXApAQCAtMzgxLDYgKzM4Niw3IEBAIHN0YXRp
YyBjb25zdCBzdHJ1Y3QgaW50ZWxfZGV2aWNlX2luZm8gaWxrX21faW5mbyA9IHsKICNkZWZpbmUg
R0VONl9GRUFUVVJFUyBcCiAJR0VOKDYpLCBcCiAJLnBpcGVfbWFzayA9IEJJVChQSVBFX0EpIHwg
QklUKFBJUEVfQiksIFwKKwkuY3B1X3RyYW5zY29kZXJfbWFzayA9IEJJVChUUkFOU0NPREVSX0Ep
IHwgQklUKFRSQU5TQ09ERVJfQiksIFwKIAkuZGlzcGxheS5oYXNfaG90cGx1ZyA9IDEsIFwKIAku
ZGlzcGxheS5oYXNfZmJjID0gMSwgXAogCS5lbmdpbmVfbWFzayA9IEJJVChSQ1MwKSB8IEJJVChW
Q1MwKSB8IEJJVChCQ1MwKSwgXApAQCAtNDMwLDYgKzQzNiw3IEBAIHN0YXRpYyBjb25zdCBzdHJ1
Y3QgaW50ZWxfZGV2aWNlX2luZm8gc25iX21fZ3QyX2luZm8gPSB7CiAjZGVmaW5lIEdFTjdfRkVB
VFVSRVMgIFwKIAlHRU4oNyksIFwKIAkucGlwZV9tYXNrID0gQklUKFBJUEVfQSkgfCBCSVQoUElQ
RV9CKSB8IEJJVChQSVBFX0MpLCBcCisJLmNwdV90cmFuc2NvZGVyX21hc2sgPSBCSVQoVFJBTlND
T0RFUl9BKSB8IEJJVChUUkFOU0NPREVSX0IpIHwgQklUKFRSQU5TQ09ERVJfQyksIFwKIAkuZGlz
cGxheS5oYXNfaG90cGx1ZyA9IDEsIFwKIAkuZGlzcGxheS5oYXNfZmJjID0gMSwgXAogCS5lbmdp
bmVfbWFzayA9IEJJVChSQ1MwKSB8IEJJVChWQ1MwKSB8IEJJVChCQ1MwKSwgXApAQCAtNDgyLDYg
KzQ4OSw3IEBAIHN0YXRpYyBjb25zdCBzdHJ1Y3QgaW50ZWxfZGV2aWNlX2luZm8gaXZiX3FfaW5m
byA9IHsKIAlQTEFURk9STShJTlRFTF9JVllCUklER0UpLAogCS5ndCA9IDIsCiAJLnBpcGVfbWFz
ayA9IDAsIC8qIGxlZ2FsLCBsYXN0IG9uZSB3aW5zICovCisJLmNwdV90cmFuc2NvZGVyX21hc2sg
PSAwLAogCS5oYXNfbDNfZHBmID0gMSwKIH07CiAKQEAgLTQ5MCw2ICs0OTgsNyBAQCBzdGF0aWMg
Y29uc3Qgc3RydWN0IGludGVsX2RldmljZV9pbmZvIHZsdl9pbmZvID0gewogCUdFTig3KSwKIAku
aXNfbHAgPSAxLAogCS5waXBlX21hc2sgPSBCSVQoUElQRV9BKSB8IEJJVChQSVBFX0IpLAorCS5j
cHVfdHJhbnNjb2Rlcl9tYXNrID0gQklUKFRSQU5TQ09ERVJfQSkgfCBCSVQoVFJBTlNDT0RFUl9C
KSwKIAkuaGFzX3J1bnRpbWVfcG0gPSAxLAogCS5oYXNfcmM2ID0gMSwKIAkuaGFzX3JwcyA9IHRy
dWUsCkBAIC01MTEsNiArNTIwLDggQEAgc3RhdGljIGNvbnN0IHN0cnVjdCBpbnRlbF9kZXZpY2Vf
aW5mbyB2bHZfaW5mbyA9IHsKICNkZWZpbmUgRzc1X0ZFQVRVUkVTICBcCiAJR0VON19GRUFUVVJF
UywgXAogCS5lbmdpbmVfbWFzayA9IEJJVChSQ1MwKSB8IEJJVChWQ1MwKSB8IEJJVChCQ1MwKSB8
IEJJVChWRUNTMCksIFwKKwkuY3B1X3RyYW5zY29kZXJfbWFzayA9IEJJVChUUkFOU0NPREVSX0Ep
IHwgQklUKFRSQU5TQ09ERVJfQikgfCBcCisJCUJJVChUUkFOU0NPREVSX0MpIHwgQklUKFRSQU5T
Q09ERVJfRURQKSwgXAogCS5kaXNwbGF5Lmhhc19kZGkgPSAxLCBcCiAJLmhhc19mcGdhX2RiZyA9
IDEsIFwKIAkuZGlzcGxheS5oYXNfcHNyID0gMSwgXApAQCAtNTgxLDYgKzU5Miw3IEBAIHN0YXRp
YyBjb25zdCBzdHJ1Y3QgaW50ZWxfZGV2aWNlX2luZm8gY2h2X2luZm8gPSB7CiAJUExBVEZPUk0o
SU5URUxfQ0hFUlJZVklFVyksCiAJR0VOKDgpLAogCS5waXBlX21hc2sgPSBCSVQoUElQRV9BKSB8
IEJJVChQSVBFX0IpIHwgQklUKFBJUEVfQyksCisJLmNwdV90cmFuc2NvZGVyX21hc2sgPSBCSVQo
VFJBTlNDT0RFUl9BKSB8IEJJVChUUkFOU0NPREVSX0IpIHwgQklUKFRSQU5TQ09ERVJfQyksCiAJ
LmRpc3BsYXkuaGFzX2hvdHBsdWcgPSAxLAogCS5pc19scCA9IDEsCiAJLmVuZ2luZV9tYXNrID0g
QklUKFJDUzApIHwgQklUKFZDUzApIHwgQklUKEJDUzApIHwgQklUKFZFQ1MwKSwKQEAgLTY1Niw2
ICs2NjgsOSBAQCBzdGF0aWMgY29uc3Qgc3RydWN0IGludGVsX2RldmljZV9pbmZvIHNrbF9ndDRf
aW5mbyA9IHsKIAkuZGlzcGxheS5oYXNfaG90cGx1ZyA9IDEsIFwKIAkuZW5naW5lX21hc2sgPSBC
SVQoUkNTMCkgfCBCSVQoVkNTMCkgfCBCSVQoQkNTMCkgfCBCSVQoVkVDUzApLCBcCiAJLnBpcGVf
bWFzayA9IEJJVChQSVBFX0EpIHwgQklUKFBJUEVfQikgfCBCSVQoUElQRV9DKSwgXAorCS5jcHVf
dHJhbnNjb2Rlcl9tYXNrID0gQklUKFRSQU5TQ09ERVJfQSkgfCBCSVQoVFJBTlNDT0RFUl9CKSB8
IFwKKwkJQklUKFRSQU5TQ09ERVJfQykgfCBCSVQoVFJBTlNDT0RFUl9FRFApIHwgXAorCQlCSVQo
VFJBTlNDT0RFUl9EU0lfQSkgfCBCSVQoVFJBTlNDT0RFUl9EU0lfQyksIFwKIAkuaGFzXzY0Yml0
X3JlbG9jID0gMSwgXAogCS5kaXNwbGF5Lmhhc19kZGkgPSAxLCBcCiAJLmhhc19mcGdhX2RiZyA9
IDEsIFwKQEAgLTc1OSw2ICs3NzQsOSBAQCBzdGF0aWMgY29uc3Qgc3RydWN0IGludGVsX2Rldmlj
ZV9pbmZvIGNubF9pbmZvID0gewogI2RlZmluZSBHRU4xMV9GRUFUVVJFUyBcCiAJR0VOMTBfRkVB
VFVSRVMsIFwKIAlHRU4xMV9ERUZBVUxUX1BBR0VfU0laRVMsIFwKKwkuY3B1X3RyYW5zY29kZXJf
bWFzayA9IEJJVChUUkFOU0NPREVSX0EpIHwgQklUKFRSQU5TQ09ERVJfQikgfCBcCisJCUJJVChU
UkFOU0NPREVSX0MpIHwgQklUKFRSQU5TQ09ERVJfRURQKSB8IFwKKwkJQklUKFRSQU5TQ09ERVJf
RFNJXzApIHwgQklUKFRSQU5TQ09ERVJfRFNJXzEpLCBcCiAJLnBpcGVfb2Zmc2V0cyA9IHsgXAog
CQlbVFJBTlNDT0RFUl9BXSA9IFBJUEVfQV9PRkZTRVQsIFwKIAkJW1RSQU5TQ09ERVJfQl0gPSBQ
SVBFX0JfT0ZGU0VULCBcCkBAIC03OTksNiArODE3LDEwIEBAIHN0YXRpYyBjb25zdCBzdHJ1Y3Qg
aW50ZWxfZGV2aWNlX2luZm8gZWhsX2luZm8gPSB7CiAjZGVmaW5lIEdFTjEyX0ZFQVRVUkVTIFwK
IAlHRU4xMV9GRUFUVVJFUywgXAogCUdFTigxMiksIFwKKwkucGlwZV9tYXNrID0gQklUKFBJUEVf
QSkgfCBCSVQoUElQRV9CKSB8IEJJVChQSVBFX0MpIHwgQklUKFBJUEVfRCksIFwKKwkuY3B1X3Ry
YW5zY29kZXJfbWFzayA9IEJJVChUUkFOU0NPREVSX0EpIHwgQklUKFRSQU5TQ09ERVJfQikgfCBc
CisJCUJJVChUUkFOU0NPREVSX0MpIHwgQklUKFRSQU5TQ09ERVJfRCkgfCBcCisJCUJJVChUUkFO
U0NPREVSX0RTSV8wKSB8IEJJVChUUkFOU0NPREVSX0RTSV8xKSwgXAogCS5waXBlX29mZnNldHMg
PSB7IFwKIAkJW1RSQU5TQ09ERVJfQV0gPSBQSVBFX0FfT0ZGU0VULCBcCiAJCVtUUkFOU0NPREVS
X0JdID0gUElQRV9CX09GRlNFVCwgXApAQCAtODIyLDcgKzg0NCw2IEBAIHN0YXRpYyBjb25zdCBz
dHJ1Y3QgaW50ZWxfZGV2aWNlX2luZm8gZWhsX2luZm8gPSB7CiBzdGF0aWMgY29uc3Qgc3RydWN0
IGludGVsX2RldmljZV9pbmZvIHRnbF9pbmZvID0gewogCUdFTjEyX0ZFQVRVUkVTLAogCVBMQVRG
T1JNKElOVEVMX1RJR0VSTEFLRSksCi0JLnBpcGVfbWFzayA9IEJJVChQSVBFX0EpIHwgQklUKFBJ
UEVfQikgfCBCSVQoUElQRV9DKSB8IEJJVChQSVBFX0QpLAogCS5yZXF1aXJlX2ZvcmNlX3Byb2Jl
ID0gMSwKIAkuZGlzcGxheS5oYXNfbW9kdWxhcl9maWEgPSAxLAogCS5lbmdpbmVfbWFzayA9CmRp
ZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9kZXZpY2VfaW5mby5jIGIvZHJp
dmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfZGV2aWNlX2luZm8uYwppbmRleCBkN2ZlMTI3MzRkYjgu
LjRkMDMxYjIzNjk1NSAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfZGV2
aWNlX2luZm8uYworKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9kZXZpY2VfaW5mby5j
CkBAIC05ODAsMzUgKzk4MCw0OCBAQCB2b2lkIGludGVsX2RldmljZV9pbmZvX3J1bnRpbWVfaW5p
dChzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYpCiAJCQlkcm1faW5mbygmZGV2X3By
aXYtPmRybSwKIAkJCQkgIkRpc3BsYXkgZnVzZWQgb2ZmLCBkaXNhYmxpbmdcbiIpOwogCQkJaW5m
by0+cGlwZV9tYXNrID0gMDsKKwkJCWluZm8tPmNwdV90cmFuc2NvZGVyX21hc2sgPSAwOwogCQl9
IGVsc2UgaWYgKGZ1c2Vfc3RyYXAgJiBJVkJfUElQRV9DX0RJU0FCTEUpIHsKIAkJCWRybV9pbmZv
KCZkZXZfcHJpdi0+ZHJtLCAiUGlwZUMgZnVzZWQgb2ZmXG4iKTsKIAkJCWluZm8tPnBpcGVfbWFz
ayAmPSB+QklUKFBJUEVfQyk7CisJCQlpbmZvLT5jcHVfdHJhbnNjb2Rlcl9tYXNrICY9IH5CSVQo
VFJBTlNDT0RFUl9DKTsKIAkJfQogCX0gZWxzZSBpZiAoSEFTX0RJU1BMQVkoZGV2X3ByaXYpICYm
IElOVEVMX0dFTihkZXZfcHJpdikgPj0gOSkgewogCQl1MzIgZGZzbSA9IEk5MTVfUkVBRChTS0xf
REZTTSk7Ci0JCXU4IGVuYWJsZWRfbWFzayA9IGluZm8tPnBpcGVfbWFzazsKKwkJdTggcGlwZV9t
YXNrID0gaW5mby0+cGlwZV9tYXNrOworCQl1OCBjcHVfdHJhbnNjb2Rlcl9tYXNrID0gaW5mby0+
Y3B1X3RyYW5zY29kZXJfbWFzazsKIAotCQlpZiAoZGZzbSAmIFNLTF9ERlNNX1BJUEVfQV9ESVNB
QkxFKQotCQkJZW5hYmxlZF9tYXNrICY9IH5CSVQoUElQRV9BKTsKLQkJaWYgKGRmc20gJiBTS0xf
REZTTV9QSVBFX0JfRElTQUJMRSkKLQkJCWVuYWJsZWRfbWFzayAmPSB+QklUKFBJUEVfQik7Ci0J
CWlmIChkZnNtICYgU0tMX0RGU01fUElQRV9DX0RJU0FCTEUpCi0JCQllbmFibGVkX21hc2sgJj0g
fkJJVChQSVBFX0MpOworCQlpZiAoZGZzbSAmIFNLTF9ERlNNX1BJUEVfQV9ESVNBQkxFKSB7CisJ
CQlwaXBlX21hc2sgJj0gfkJJVChQSVBFX0EpOworCQkJY3B1X3RyYW5zY29kZXJfbWFzayAmPSB+
QklUKFRSQU5TQ09ERVJfQSk7CisJCX0KKwkJaWYgKGRmc20gJiBTS0xfREZTTV9QSVBFX0JfRElT
QUJMRSkgeworCQkJcGlwZV9tYXNrICY9IH5CSVQoUElQRV9CKTsKKwkJCWNwdV90cmFuc2NvZGVy
X21hc2sgJj0gfkJJVChUUkFOU0NPREVSX0IpOworCQl9CisJCWlmIChkZnNtICYgU0tMX0RGU01f
UElQRV9DX0RJU0FCTEUpIHsKKwkJCXBpcGVfbWFzayAmPSB+QklUKFBJUEVfQyk7CisJCQljcHVf
dHJhbnNjb2Rlcl9tYXNrICY9IH5CSVQoVFJBTlNDT0RFUl9DKTsKKwkJfQogCQlpZiAoSU5URUxf
R0VOKGRldl9wcml2KSA+PSAxMiAmJgotCQkgICAgKGRmc20gJiBUR0xfREZTTV9QSVBFX0RfRElT
QUJMRSkpCi0JCQllbmFibGVkX21hc2sgJj0gfkJJVChQSVBFX0QpOworCQkgICAgKGRmc20gJiBU
R0xfREZTTV9QSVBFX0RfRElTQUJMRSkpIHsKKwkJCXBpcGVfbWFzayAmPSB+QklUKFBJUEVfRCk7
CisJCQljcHVfdHJhbnNjb2Rlcl9tYXNrICY9IH5CSVQoVFJBTlNDT0RFUl9EKTsKKwkJfQogCiAJ
CS8qCiAJCSAqIEF0IGxlYXN0IG9uZSBwaXBlIHNob3VsZCBiZSBlbmFibGVkIGFuZCBpZiB0aGVy
ZSBhcmUKIAkJICogZGlzYWJsZWQgcGlwZXMsIHRoZXkgc2hvdWxkIGJlIHRoZSBsYXN0IG9uZXMs
IHdpdGggbm8gaG9sZXMKIAkJICogaW4gdGhlIG1hc2suCiAJCSAqLwotCQlpZiAoZW5hYmxlZF9t
YXNrID09IDAgfHwgIWlzX3Bvd2VyX29mXzIoZW5hYmxlZF9tYXNrICsgMSkpCisJCWlmIChwaXBl
X21hc2sgPT0gMCB8fCAhaXNfcG93ZXJfb2ZfMihwaXBlX21hc2sgKyAxKSkgewogCQkJZHJtX2Vy
cigmZGV2X3ByaXYtPmRybSwKLQkJCQkiaW52YWxpZCBwaXBlIGZ1c2UgY29uZmlndXJhdGlvbjog
ZW5hYmxlZF9tYXNrPTB4JXhcbiIsCi0JCQkJZW5hYmxlZF9tYXNrKTsKLQkJZWxzZQotCQkJaW5m
by0+cGlwZV9tYXNrID0gZW5hYmxlZF9tYXNrOworCQkJCSJpbnZhbGlkIHBpcGUgZnVzZSBjb25m
aWd1cmF0aW9uOiBwaXBlX21hc2s9MHgleFxuIiwKKwkJCQlwaXBlX21hc2spOworCQl9IGVsc2Ug
eworCQkJaW5mby0+cGlwZV9tYXNrID0gcGlwZV9tYXNrOworCQkJaW5mby0+Y3B1X3RyYW5zY29k
ZXJfbWFzayA9IGNwdV90cmFuc2NvZGVyX21hc2s7CisJCX0KIAogCQlpZiAoZGZzbSAmIFNLTF9E
RlNNX0RJU1BMQVlfSERDUF9ESVNBQkxFKQogCQkJaW5mby0+ZGlzcGxheS5oYXNfaGRjcCA9IDA7
CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9kZXZpY2VfaW5mby5oIGIv
ZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfZGV2aWNlX2luZm8uaAppbmRleCAxZWNiOWRmMmRl
OTEuLmNjZTZhNzJjNWViYyAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxf
ZGV2aWNlX2luZm8uaAorKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9kZXZpY2VfaW5m
by5oCkBAIC0xNjgsNiArMTY4LDcgQEAgc3RydWN0IGludGVsX2RldmljZV9pbmZvIHsKIAl1MzIg
ZGlzcGxheV9tbWlvX29mZnNldDsKIAogCXU4IHBpcGVfbWFzazsKKwl1OCBjcHVfdHJhbnNjb2Rl
cl9tYXNrOwogCiAjZGVmaW5lIERFRklORV9GTEFHKG5hbWUpIHU4IG5hbWU6MQogCURFVl9JTkZP
X0ZPUl9FQUNIX0ZMQUcoREVGSU5FX0ZMQUcpOwotLSAKMi4yNC4xCgpfX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpJbnRlbC1nZnggbWFpbGluZyBsaXN0Cklu
dGVsLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5v
cmcvbWFpbG1hbi9saXN0aW5mby9pbnRlbC1nZngK

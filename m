Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 3F12987245
	for <lists+intel-gfx@lfdr.de>; Fri,  9 Aug 2019 08:31:23 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 8FE586ED02;
	Fri,  9 Aug 2019 06:31:21 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from fireflyinternet.com (mail.fireflyinternet.com [109.228.58.192])
 by gabe.freedesktop.org (Postfix) with ESMTPS id BE0266ED00
 for <intel-gfx@lists.freedesktop.org>; Fri,  9 Aug 2019 06:31:19 +0000 (UTC)
X-Default-Received-SPF: pass (skip=forwardok (res=PASS))
 x-ip-name=78.156.65.138; 
Received: from haswell.alporthouse.com (unverified [78.156.65.138]) 
 by fireflyinternet.com (Firefly Internet (M1)) with ESMTP id 17938116-1500050 
 for <intel-gfx@lists.freedesktop.org>; Fri, 09 Aug 2019 07:31:16 +0100
From: Chris Wilson <chris@chris-wilson.co.uk>
To: intel-gfx@lists.freedesktop.org
Date: Fri,  9 Aug 2019 07:31:16 +0100
Message-Id: <20190809063116.7527-1-chris@chris-wilson.co.uk>
X-Mailer: git-send-email 2.23.0.rc1
MIME-Version: 1.0
Subject: [Intel-gfx] [CI] drm/i915: split out uncore_mmio_debug
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

RnJvbTogRGFuaWVsZSBDZXJhb2xvIFNwdXJpbyA8ZGFuaWVsZS5jZXJhb2xvc3B1cmlvQGludGVs
LmNvbT4KCk11bHRpcGxlIHVuY29yZSBzdHJ1Y3R1cmVzIHdpbGwgc2hhcmUgdGhlIGRlYnVnIGlu
ZnJhc3RydWN0dXJlLCBzbwptb3ZlIGl0IHRvIGEgY29tbW9uIHBsYWNlIGFuZCBhZGQgZXh0cmEg
bG9ja2luZyBhcm91bmQgaXQuCkFsc28sIHNpbmNlIHdlIG5vdyBoYXZlIGEgc2VwYXJhdGUgb2Jq
ZWN0LCBpdCBpcyBjbGVhbmVyIHRvIGhhdmUKZGVkaWNhdGVkIGZ1bmN0aW9ucyB3b3JraW5nIG9u
IHRoZSBvYmplY3QgdG8gc3RvcCBhbmQgcmVzdGFydCB0aGUKbW1pbyBkZWJ1Zy4gQXBhcnQgZnJv
bSB0aGUgY29zbWV0aWMgY2hhbmdlcywgdGhpcyBwYXRjaCBpbnRyb2R1Y2VzCjIgZnVuY3Rpb25h
bCB1cGRhdGVzOgoKLSBBbGwgY2FsbHMgdG8gY2hlY2tfZm9yX3VuY2xhaW1lZF9tbWlvIHdpbGwg
bm93IHJldHVybiBmYWxzZSB3aGVuCiAgdGhlIGRlYnVnIGlzIHN1c3BlbmRlZCwgbm90IGp1c3Qg
dGhlIG9uZXMgdGhhdCBhcmUgYWN0aXZlIG9ubHkgd2hlbgogIGk5MTVfbW9kcGFyYW1zLm1taW9f
ZGVidWcgaXMgc2V0LiBJZiB3ZSBkb24ndCB0cnVzdCB0aGUgcmVzdWx0IG9mIHRoZQogIGNoZWNr
IHdoaWxlIGEgdXNlciBpcyBkb2luZyBtbWlvIGFjY2VzcyB0aGVuIHdlIHNob3VsZG4ndCBhdHRl
bXB0IHRoZQogIGNoZWNrIGFueXdoZXJlLgoKLSBpOTE1X21vZHBhcmFtcy5tbWlvX2RlYnVnIGlz
IG5vdCBzYXZlL3Jlc3RvcmVkIGFueW1vcmUgYXJvdW5kIHVzZXIKICBhY2Nlc3MuIFRoZSB2YWx1
ZSBpcyBub3cgbmV2ZXIgdG91Y2hlZCBieSB0aGUga2VybmVsIHdoaWxlIGRlYnVnIGlzCiAgZGlz
YWJsZWQgc28gbm8gbmVlZCBmb3Igc2F2ZS9yZXN0b3JlLgoKdjI6IHNxdWFzaCBtbWlvX2RlYnVn
IHBhdGNoZXMsIHJlc3RyaWN0IG1taW9fZGVidWcgbG9jayB1c2FnZSAoQ2hyaXMpCgpTaWduZWQt
b2ZmLWJ5OiBEYW5pZWxlIENlcmFvbG8gU3B1cmlvIDxkYW5pZWxlLmNlcmFvbG9zcHVyaW9AaW50
ZWwuY29tPgpDYzogQ2hyaXMgV2lsc29uIDxjaHJpc0BjaHJpcy13aWxzb24uY28udWs+ClJldmll
d2VkLWJ5OiBDaHJpcyBXaWxzb24gPGNocmlzQGNocmlzLXdpbHNvbi5jby51az4KLS0tCiBkcml2
ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2RlYnVnZnMuYyB8ICAyICstCiBkcml2ZXJzL2dwdS9kcm0v
aTkxNS9pOTE1X2Rydi5jICAgICB8ICAzICstCiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2Ry
di5oICAgICB8ICAxICsKIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX3VuY29yZS5jIHwgOTEg
KysrKysrKysrKysrKysrKysrKystLS0tLS0tLS0KIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVs
X3VuY29yZS5oIHwgMTggKysrLS0tCiA1IGZpbGVzIGNoYW5nZWQsIDc5IGluc2VydGlvbnMoKyks
IDM2IGRlbGV0aW9ucygtKQoKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVf
ZGVidWdmcy5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kZWJ1Z2ZzLmMKaW5kZXggYmRk
YmJkOTU5ZDFiLi5kZGNhZDcwNmUwZWEgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1
L2k5MTVfZGVidWdmcy5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZGVidWdmcy5j
CkBAIC0xMTQ1LDcgKzExNDUsNyBAQCBzdGF0aWMgaW50IGk5MTVfZm9yY2V3YWtlX2RvbWFpbnMo
c3RydWN0IHNlcV9maWxlICptLCB2b2lkICpkYXRhKQogCXVuc2lnbmVkIGludCB0bXA7CiAKIAlz
ZXFfcHJpbnRmKG0sICJ1c2VyLmJ5cGFzc19jb3VudCA9ICV1XG4iLAotCQkgICB1bmNvcmUtPnVz
ZXJfZm9yY2V3YWtlLmNvdW50KTsKKwkJICAgdW5jb3JlLT51c2VyX2ZvcmNld2FrZV9jb3VudCk7
CiAKIAlmb3JfZWFjaF9md19kb21haW4oZndfZG9tYWluLCB1bmNvcmUsIHRtcCkKIAkJc2VxX3By
aW50ZihtLCAiJXMud2FrZV9jb3VudCA9ICV1XG4iLApkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUv
ZHJtL2k5MTUvaTkxNV9kcnYuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZHJ2LmMKaW5k
ZXggMTMxOWFlZTE0OGJlLi4xZTA2NDliMjc3OTIgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2k5MTVfZHJ2LmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kcnYuYwpA
QCAtNTUwLDYgKzU1MCw3IEBAIHN0YXRpYyBpbnQgaTkxNV9kcml2ZXJfZWFybHlfcHJvYmUoc3Ry
dWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2KQogCiAJaW50ZWxfZGV2aWNlX2luZm9fc3Vi
cGxhdGZvcm1faW5pdChkZXZfcHJpdik7CiAKKwlpbnRlbF91bmNvcmVfbW1pb19kZWJ1Z19pbml0
X2Vhcmx5KCZkZXZfcHJpdi0+bW1pb19kZWJ1Zyk7CiAJaW50ZWxfdW5jb3JlX2luaXRfZWFybHko
JmRldl9wcml2LT51bmNvcmUsIGRldl9wcml2KTsKIAogCXNwaW5fbG9ja19pbml0KCZkZXZfcHJp
di0+aXJxX2xvY2spOwpAQCAtMTg1MCw3ICsxODUxLDcgQEAgc3RhdGljIGludCBpOTE1X2RybV9z
dXNwZW5kX2xhdGUoc3RydWN0IGRybV9kZXZpY2UgKmRldiwgYm9vbCBoaWJlcm5hdGlvbikKIAog
b3V0OgogCWVuYWJsZV9ycG1fd2FrZXJlZl9hc3NlcnRzKHJwbSk7Ci0JaWYgKCFkZXZfcHJpdi0+
dW5jb3JlLnVzZXJfZm9yY2V3YWtlLmNvdW50KQorCWlmICghZGV2X3ByaXYtPnVuY29yZS51c2Vy
X2ZvcmNld2FrZV9jb3VudCkKIAkJaW50ZWxfcnVudGltZV9wbV9kcml2ZXJfcmVsZWFzZShycG0p
OwogCiAJcmV0dXJuIHJldDsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVf
ZHJ2LmggYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2Rydi5oCmluZGV4IDBkMTk0OWE3OGM0
NC4uODc1ZjhjMTNlNDcyIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2Ry
di5oCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZHJ2LmgKQEAgLTE0MDgsNiArMTQw
OCw3IEBAIHN0cnVjdCBkcm1faTkxNV9wcml2YXRlIHsKIAlyZXNvdXJjZV9zaXplX3Qgc3RvbGVu
X3VzYWJsZV9zaXplOwkvKiBUb3RhbCBzaXplIG1pbnVzIHJlc2VydmVkIHJhbmdlcyAqLwogCiAJ
c3RydWN0IGludGVsX3VuY29yZSB1bmNvcmU7CisJc3RydWN0IGludGVsX3VuY29yZV9tbWlvX2Rl
YnVnIG1taW9fZGVidWc7CiAKIAlzdHJ1Y3QgaTkxNV92aXJ0dWFsX2dwdSB2Z3B1OwogCmRpZmYg
LS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF91bmNvcmUuYyBiL2RyaXZlcnMvZ3B1
L2RybS9pOTE1L2ludGVsX3VuY29yZS5jCmluZGV4IDM5ZTg3MTBhZmRkOS4uOWU1ODNmMTNhOWU0
IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF91bmNvcmUuYworKysgYi9k
cml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF91bmNvcmUuYwpAQCAtMzQsNiArMzQsMzIgQEAKIAog
I2RlZmluZSBfX3Jhd19wb3N0aW5nX3JlYWQoLi4uKSAoKHZvaWQpX19yYXdfdW5jb3JlX3JlYWQz
MihfX1ZBX0FSR1NfXykpCiAKK3ZvaWQKK2ludGVsX3VuY29yZV9tbWlvX2RlYnVnX2luaXRfZWFy
bHkoc3RydWN0IGludGVsX3VuY29yZV9tbWlvX2RlYnVnICptbWlvX2RlYnVnKQoreworCXNwaW5f
bG9ja19pbml0KCZtbWlvX2RlYnVnLT5sb2NrKTsKKwltbWlvX2RlYnVnLT51bmNsYWltZWRfbW1p
b19jaGVjayA9IDE7Cit9CisKK3N0YXRpYyB2b2lkIG1taW9fZGVidWdfc3VzcGVuZChzdHJ1Y3Qg
aW50ZWxfdW5jb3JlX21taW9fZGVidWcgKm1taW9fZGVidWcpCit7CisJbG9ja2RlcF9hc3NlcnRf
aGVsZCgmbW1pb19kZWJ1Zy0+bG9jayk7CisKKwkvKiBTYXZlIGFuZCBkaXNhYmxlIG1taW8gZGVi
dWdnaW5nIGZvciB0aGUgdXNlciBieXBhc3MgKi8KKwlpZiAoIW1taW9fZGVidWctPnN1c3BlbmRf
Y291bnQrKykgeworCQltbWlvX2RlYnVnLT5zYXZlZF9tbWlvX2NoZWNrID0gbW1pb19kZWJ1Zy0+
dW5jbGFpbWVkX21taW9fY2hlY2s7CisJCW1taW9fZGVidWctPnVuY2xhaW1lZF9tbWlvX2NoZWNr
ID0gMDsKKwl9Cit9CisKK3N0YXRpYyB2b2lkIG1taW9fZGVidWdfcmVzdW1lKHN0cnVjdCBpbnRl
bF91bmNvcmVfbW1pb19kZWJ1ZyAqbW1pb19kZWJ1ZykKK3sKKwlsb2NrZGVwX2Fzc2VydF9oZWxk
KCZtbWlvX2RlYnVnLT5sb2NrKTsKKworCWlmICghLS1tbWlvX2RlYnVnLT5zdXNwZW5kX2NvdW50
KQorCQltbWlvX2RlYnVnLT51bmNsYWltZWRfbW1pb19jaGVjayA9IG1taW9fZGVidWctPnNhdmVk
X21taW9fY2hlY2s7Cit9CisKIHN0YXRpYyBjb25zdCBjaGFyICogY29uc3QgZm9yY2V3YWtlX2Rv
bWFpbl9uYW1lc1tdID0gewogCSJyZW5kZXIiLAogCSJibGl0dGVyIiwKQEAgLTQ3Niw2ICs1MDIs
MTEgQEAgY2hlY2tfZm9yX3VuY2xhaW1lZF9tbWlvKHN0cnVjdCBpbnRlbF91bmNvcmUgKnVuY29y
ZSkKIHsKIAlib29sIHJldCA9IGZhbHNlOwogCisJbG9ja2RlcF9hc3NlcnRfaGVsZCgmdW5jb3Jl
LT5kZWJ1Zy0+bG9jayk7CisKKwlpZiAodW5jb3JlLT5kZWJ1Zy0+c3VzcGVuZF9jb3VudCkKKwkJ
cmV0dXJuIGZhbHNlOworCiAJaWYgKGludGVsX3VuY29yZV9oYXNfZnBnYV9kYmdfdW5jbGFpbWVk
KHVuY29yZSkpCiAJCXJldCB8PSBmcGdhX2NoZWNrX2Zvcl91bmNsYWltZWRfbW1pbyh1bmNvcmUp
OwogCkBAIC02MDgsMTcgKzYzOSwxMSBAQCB2b2lkIGludGVsX3VuY29yZV9mb3JjZXdha2VfZ2V0
KHN0cnVjdCBpbnRlbF91bmNvcmUgKnVuY29yZSwKIHZvaWQgaW50ZWxfdW5jb3JlX2ZvcmNld2Fr
ZV91c2VyX2dldChzdHJ1Y3QgaW50ZWxfdW5jb3JlICp1bmNvcmUpCiB7CiAJc3Bpbl9sb2NrX2ly
cSgmdW5jb3JlLT5sb2NrKTsKLQlpZiAoIXVuY29yZS0+dXNlcl9mb3JjZXdha2UuY291bnQrKykg
eworCWlmICghdW5jb3JlLT51c2VyX2ZvcmNld2FrZV9jb3VudCsrKSB7CiAJCWludGVsX3VuY29y
ZV9mb3JjZXdha2VfZ2V0X19sb2NrZWQodW5jb3JlLCBGT1JDRVdBS0VfQUxMKTsKLQotCQkvKiBT
YXZlIGFuZCBkaXNhYmxlIG1taW8gZGVidWdnaW5nIGZvciB0aGUgdXNlciBieXBhc3MgKi8KLQkJ
dW5jb3JlLT51c2VyX2ZvcmNld2FrZS5zYXZlZF9tbWlvX2NoZWNrID0KLQkJCXVuY29yZS0+dW5j
bGFpbWVkX21taW9fY2hlY2s7Ci0JCXVuY29yZS0+dXNlcl9mb3JjZXdha2Uuc2F2ZWRfbW1pb19k
ZWJ1ZyA9Ci0JCQlpOTE1X21vZHBhcmFtcy5tbWlvX2RlYnVnOwotCi0JCXVuY29yZS0+dW5jbGFp
bWVkX21taW9fY2hlY2sgPSAwOwotCQlpOTE1X21vZHBhcmFtcy5tbWlvX2RlYnVnID0gMDsKKwkJ
c3Bpbl9sb2NrKCZ1bmNvcmUtPmRlYnVnLT5sb2NrKTsKKwkJbW1pb19kZWJ1Z19zdXNwZW5kKHVu
Y29yZS0+ZGVidWcpOworCQlzcGluX3VubG9jaygmdW5jb3JlLT5kZWJ1Zy0+bG9jayk7CiAJfQog
CXNwaW5fdW5sb2NrX2lycSgmdW5jb3JlLT5sb2NrKTsKIH0KQEAgLTYzMywxNSArNjU4LDE0IEBA
IHZvaWQgaW50ZWxfdW5jb3JlX2ZvcmNld2FrZV91c2VyX2dldChzdHJ1Y3QgaW50ZWxfdW5jb3Jl
ICp1bmNvcmUpCiB2b2lkIGludGVsX3VuY29yZV9mb3JjZXdha2VfdXNlcl9wdXQoc3RydWN0IGlu
dGVsX3VuY29yZSAqdW5jb3JlKQogewogCXNwaW5fbG9ja19pcnEoJnVuY29yZS0+bG9jayk7Ci0J
aWYgKCEtLXVuY29yZS0+dXNlcl9mb3JjZXdha2UuY291bnQpIHsKLQkJaWYgKGludGVsX3VuY29y
ZV91bmNsYWltZWRfbW1pbyh1bmNvcmUpKQorCWlmICghLS11bmNvcmUtPnVzZXJfZm9yY2V3YWtl
X2NvdW50KSB7CisJCXNwaW5fbG9jaygmdW5jb3JlLT5kZWJ1Zy0+bG9jayk7CisJCW1taW9fZGVi
dWdfcmVzdW1lKHVuY29yZS0+ZGVidWcpOworCisJCWlmIChjaGVja19mb3JfdW5jbGFpbWVkX21t
aW8odW5jb3JlKSkKIAkJCWRldl9pbmZvKHVuY29yZS0+aTkxNS0+ZHJtLmRldiwKIAkJCQkgIklu
dmFsaWQgbW1pbyBkZXRlY3RlZCBkdXJpbmcgdXNlciBhY2Nlc3NcbiIpOwotCi0JCXVuY29yZS0+
dW5jbGFpbWVkX21taW9fY2hlY2sgPQotCQkJdW5jb3JlLT51c2VyX2ZvcmNld2FrZS5zYXZlZF9t
bWlvX2NoZWNrOwotCQlpOTE1X21vZHBhcmFtcy5tbWlvX2RlYnVnID0KLQkJCXVuY29yZS0+dXNl
cl9mb3JjZXdha2Uuc2F2ZWRfbW1pb19kZWJ1ZzsKKwkJc3Bpbl91bmxvY2soJnVuY29yZS0+ZGVi
dWctPmxvY2spOwogCiAJCWludGVsX3VuY29yZV9mb3JjZXdha2VfcHV0X19sb2NrZWQodW5jb3Jl
LCBGT1JDRVdBS0VfQUxMKTsKIAl9CkBAIC0xMDg4LDcgKzExMTIsMTYgQEAgdW5jbGFpbWVkX3Jl
Z19kZWJ1ZyhzdHJ1Y3QgaW50ZWxfdW5jb3JlICp1bmNvcmUsCiAJaWYgKGxpa2VseSghaTkxNV9t
b2RwYXJhbXMubW1pb19kZWJ1ZykpCiAJCXJldHVybjsKIAorCS8qIGludGVycnVwdHMgYXJlIGRp
c2FibGVkIGFuZCByZS1lbmFibGVkIGFyb3VuZCB1bmNvcmUtPmxvY2sgdXNhZ2UgKi8KKwlsb2Nr
ZGVwX2Fzc2VydF9oZWxkKCZ1bmNvcmUtPmxvY2spOworCisJaWYgKGJlZm9yZSkKKwkJc3Bpbl9s
b2NrKCZ1bmNvcmUtPmRlYnVnLT5sb2NrKTsKKwogCV9fdW5jbGFpbWVkX3JlZ19kZWJ1Zyh1bmNv
cmUsIHJlZywgcmVhZCwgYmVmb3JlKTsKKworCWlmICghYmVmb3JlKQorCQlzcGluX3VubG9jaygm
dW5jb3JlLT5kZWJ1Zy0+bG9jayk7CiB9CiAKICNkZWZpbmUgR0VOMl9SRUFEX0hFQURFUih4KSBc
CkBAIC0xNjA3LDYgKzE2NDAsNyBAQCB2b2lkIGludGVsX3VuY29yZV9pbml0X2Vhcmx5KHN0cnVj
dCBpbnRlbF91bmNvcmUgKnVuY29yZSwKIAlzcGluX2xvY2tfaW5pdCgmdW5jb3JlLT5sb2NrKTsK
IAl1bmNvcmUtPmk5MTUgPSBpOTE1OwogCXVuY29yZS0+cnBtID0gJmk5MTUtPnJ1bnRpbWVfcG07
CisJdW5jb3JlLT5kZWJ1ZyA9ICZpOTE1LT5tbWlvX2RlYnVnOwogfQogCiBzdGF0aWMgdm9pZCB1
bmNvcmVfcmF3X2luaXQoc3RydWN0IGludGVsX3VuY29yZSAqdW5jb3JlKQpAQCAtMTYzMiw3ICsx
NjY2LDYgQEAgc3RhdGljIGludCB1bmNvcmVfZm9yY2V3YWtlX2luaXQoc3RydWN0IGludGVsX3Vu
Y29yZSAqdW5jb3JlKQogCXJldCA9IGludGVsX3VuY29yZV9md19kb21haW5zX2luaXQodW5jb3Jl
KTsKIAlpZiAocmV0KQogCQlyZXR1cm4gcmV0OwotCiAJZm9yY2V3YWtlX2Vhcmx5X3Nhbml0aXpl
KHVuY29yZSwgMCk7CiAKIAlpZiAoSVNfR0VOX1JBTkdFKGk5MTUsIDYsIDcpKSB7CkBAIC0xNjgx
LDggKzE3MTQsNiBAQCBpbnQgaW50ZWxfdW5jb3JlX2luaXRfbW1pbyhzdHJ1Y3QgaW50ZWxfdW5j
b3JlICp1bmNvcmUpCiAJaWYgKElOVEVMX0dFTihpOTE1KSA+IDUgJiYgIWludGVsX3ZncHVfYWN0
aXZlKGk5MTUpKQogCQl1bmNvcmUtPmZsYWdzIHw9IFVOQ09SRV9IQVNfRk9SQ0VXQUtFOwogCi0J
dW5jb3JlLT51bmNsYWltZWRfbW1pb19jaGVjayA9IDE7Ci0KIAlpZiAoIWludGVsX3VuY29yZV9o
YXNfZm9yY2V3YWtlKHVuY29yZSkpIHsKIAkJdW5jb3JlX3Jhd19pbml0KHVuY29yZSk7CiAJfSBl
bHNlIHsKQEAgLTE3MDcsNyArMTczOCw3IEBAIGludCBpbnRlbF91bmNvcmVfaW5pdF9tbWlvKHN0
cnVjdCBpbnRlbF91bmNvcmUgKnVuY29yZSkKIAkJdW5jb3JlLT5mbGFncyB8PSBVTkNPUkVfSEFT
X0ZJRk87CiAKIAkvKiBjbGVhciBvdXQgdW5jbGFpbWVkIHJlZyBkZXRlY3Rpb24gYml0ICovCi0J
aWYgKGNoZWNrX2Zvcl91bmNsYWltZWRfbW1pbyh1bmNvcmUpKQorCWlmIChpbnRlbF91bmNvcmVf
dW5jbGFpbWVkX21taW8odW5jb3JlKSkKIAkJRFJNX0RFQlVHKCJ1bmNsYWltZWQgbW1pbyBkZXRl
Y3RlZCBvbiB1bmNvcmUgaW5pdCwgY2xlYXJpbmdcbiIpOwogCiAJcmV0dXJuIDA7CkBAIC0xOTUy
LDcgKzE5ODMsMTMgQEAgaW50IF9faW50ZWxfd2FpdF9mb3JfcmVnaXN0ZXIoc3RydWN0IGludGVs
X3VuY29yZSAqdW5jb3JlLAogCiBib29sIGludGVsX3VuY29yZV91bmNsYWltZWRfbW1pbyhzdHJ1
Y3QgaW50ZWxfdW5jb3JlICp1bmNvcmUpCiB7Ci0JcmV0dXJuIGNoZWNrX2Zvcl91bmNsYWltZWRf
bW1pbyh1bmNvcmUpOworCWJvb2wgcmV0OworCisJc3Bpbl9sb2NrX2lycSgmdW5jb3JlLT5kZWJ1
Zy0+bG9jayk7CisJcmV0ID0gY2hlY2tfZm9yX3VuY2xhaW1lZF9tbWlvKHVuY29yZSk7CisJc3Bp
bl91bmxvY2tfaXJxKCZ1bmNvcmUtPmRlYnVnLT5sb2NrKTsKKworCXJldHVybiByZXQ7CiB9CiAK
IGJvb2wKQEAgLTE5NjAsMjQgKzE5OTcsMjQgQEAgaW50ZWxfdW5jb3JlX2FybV91bmNsYWltZWRf
bW1pb19kZXRlY3Rpb24oc3RydWN0IGludGVsX3VuY29yZSAqdW5jb3JlKQogewogCWJvb2wgcmV0
ID0gZmFsc2U7CiAKLQlzcGluX2xvY2tfaXJxKCZ1bmNvcmUtPmxvY2spOworCXNwaW5fbG9ja19p
cnEoJnVuY29yZS0+ZGVidWctPmxvY2spOwogCi0JaWYgKHVubGlrZWx5KHVuY29yZS0+dW5jbGFp
bWVkX21taW9fY2hlY2sgPD0gMCkpCisJaWYgKHVubGlrZWx5KHVuY29yZS0+ZGVidWctPnVuY2xh
aW1lZF9tbWlvX2NoZWNrIDw9IDApKQogCQlnb3RvIG91dDsKIAotCWlmICh1bmxpa2VseShpbnRl
bF91bmNvcmVfdW5jbGFpbWVkX21taW8odW5jb3JlKSkpIHsKKwlpZiAodW5saWtlbHkoY2hlY2tf
Zm9yX3VuY2xhaW1lZF9tbWlvKHVuY29yZSkpKSB7CiAJCWlmICghaTkxNV9tb2RwYXJhbXMubW1p
b19kZWJ1ZykgewogCQkJRFJNX0RFQlVHKCJVbmNsYWltZWQgcmVnaXN0ZXIgZGV0ZWN0ZWQsICIK
IAkJCQkgICJlbmFibGluZyBvbmVzaG90IHVuY2xhaW1lZCByZWdpc3RlciByZXBvcnRpbmcuICIK
IAkJCQkgICJQbGVhc2UgdXNlIGk5MTUubW1pb19kZWJ1Zz1OIGZvciBtb3JlIGluZm9ybWF0aW9u
LlxuIik7CiAJCQlpOTE1X21vZHBhcmFtcy5tbWlvX2RlYnVnKys7CiAJCX0KLQkJdW5jb3JlLT51
bmNsYWltZWRfbW1pb19jaGVjay0tOworCQl1bmNvcmUtPmRlYnVnLT51bmNsYWltZWRfbW1pb19j
aGVjay0tOwogCQlyZXQgPSB0cnVlOwogCX0KIAogb3V0OgotCXNwaW5fdW5sb2NrX2lycSgmdW5j
b3JlLT5sb2NrKTsKKwlzcGluX3VubG9ja19pcnEoJnVuY29yZS0+ZGVidWctPmxvY2spOwogCiAJ
cmV0dXJuIHJldDsKIH0KZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX3Vu
Y29yZS5oIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfdW5jb3JlLmgKaW5kZXggZTYwM2Qy
MTBhMzRkLi40MTRmYzJjYjA0NTkgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2lu
dGVsX3VuY29yZS5oCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX3VuY29yZS5oCkBA
IC0zNiw2ICszNiwxMyBAQCBzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZTsKIHN0cnVjdCBpbnRlbF9y
dW50aW1lX3BtOwogc3RydWN0IGludGVsX3VuY29yZTsKIAorc3RydWN0IGludGVsX3VuY29yZV9t
bWlvX2RlYnVnIHsKKwlzcGlubG9ja190IGxvY2s7IC8qKiBsb2NrIGlzIGFsc28gdGFrZW4gaW4g
aXJxIGNvbnRleHRzLiAqLworCWludCB1bmNsYWltZWRfbW1pb19jaGVjazsKKwlpbnQgc2F2ZWRf
bW1pb19jaGVjazsKKwl1MzIgc3VzcGVuZF9jb3VudDsKK307CisKIGVudW0gZm9yY2V3YWtlX2Rv
bWFpbl9pZCB7CiAJRldfRE9NQUlOX0lEX1JFTkRFUiA9IDAsCiAJRldfRE9NQUlOX0lEX0JMSVRU
RVIsCkBAIC0xMzcsMTQgKzE0NCw5IEBAIHN0cnVjdCBpbnRlbF91bmNvcmUgewogCQl1MzIgX19p
b21lbSAqcmVnX2FjazsKIAl9ICpmd19kb21haW5bRldfRE9NQUlOX0lEX0NPVU5UXTsKIAotCXN0
cnVjdCB7Ci0JCXVuc2lnbmVkIGludCBjb3VudDsKLQotCQlpbnQgc2F2ZWRfbW1pb19jaGVjazsK
LQkJaW50IHNhdmVkX21taW9fZGVidWc7Ci0JfSB1c2VyX2ZvcmNld2FrZTsKKwl1bnNpZ25lZCBp
bnQgdXNlcl9mb3JjZXdha2VfY291bnQ7CiAKLQlpbnQgdW5jbGFpbWVkX21taW9fY2hlY2s7CisJ
c3RydWN0IGludGVsX3VuY29yZV9tbWlvX2RlYnVnICpkZWJ1ZzsKIH07CiAKIC8qIEl0ZXJhdGUg
b3ZlciBpbml0aWFsaXNlZCBmdyBkb21haW5zICovCkBAIC0xNzksNiArMTgxLDggQEAgaW50ZWxf
dW5jb3JlX2hhc19maWZvKGNvbnN0IHN0cnVjdCBpbnRlbF91bmNvcmUgKnVuY29yZSkKIAlyZXR1
cm4gdW5jb3JlLT5mbGFncyAmIFVOQ09SRV9IQVNfRklGTzsKIH0KIAordm9pZAoraW50ZWxfdW5j
b3JlX21taW9fZGVidWdfaW5pdF9lYXJseShzdHJ1Y3QgaW50ZWxfdW5jb3JlX21taW9fZGVidWcg
Km1taW9fZGVidWcpOwogdm9pZCBpbnRlbF91bmNvcmVfaW5pdF9lYXJseShzdHJ1Y3QgaW50ZWxf
dW5jb3JlICp1bmNvcmUsCiAJCQkgICAgIHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICppOTE1KTsK
IGludCBpbnRlbF91bmNvcmVfaW5pdF9tbWlvKHN0cnVjdCBpbnRlbF91bmNvcmUgKnVuY29yZSk7
Ci0tIAoyLjIzLjAucmMxCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fXwpJbnRlbC1nZnggbWFpbGluZyBsaXN0CkludGVsLWdmeEBsaXN0cy5mcmVlZGVza3Rv
cC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9pbnRl
bC1nZng=

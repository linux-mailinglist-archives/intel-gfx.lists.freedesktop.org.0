Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 0644E4C321
	for <lists+intel-gfx@lfdr.de>; Wed, 19 Jun 2019 23:35:32 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id E7B0B6E49E;
	Wed, 19 Jun 2019 21:35:27 +0000 (UTC)
X-Original-To: Intel-gfx@lists.freedesktop.org
Delivered-To: Intel-gfx@lists.freedesktop.org
Received: from mga11.intel.com (mga11.intel.com [192.55.52.93])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 373756E482
 for <Intel-gfx@lists.freedesktop.org>; Wed, 19 Jun 2019 21:34:59 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from fmsmga007.fm.intel.com ([10.253.24.52])
 by fmsmga102.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 19 Jun 2019 14:34:59 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.63,394,1557212400"; d="scan'208";a="162159149"
Received: from yyosef-mobl.ger.corp.intel.com (HELO localhost.localdomain)
 ([10.252.23.42])
 by fmsmga007.fm.intel.com with ESMTP; 19 Jun 2019 14:34:57 -0700
From: Tvrtko Ursulin <tvrtko.ursulin@linux.intel.com>
To: Intel-gfx@lists.freedesktop.org
Date: Wed, 19 Jun 2019 22:34:27 +0100
Message-Id: <20190619213437.1190-23-tvrtko.ursulin@linux.intel.com>
X-Mailer: git-send-email 2.20.1
In-Reply-To: <20190619213437.1190-1-tvrtko.ursulin@linux.intel.com>
References: <20190619213437.1190-1-tvrtko.ursulin@linux.intel.com>
MIME-Version: 1.0
Subject: [Intel-gfx] [CI 23/33] drm/i915: Convert i915_gem_flush_ggtt_writes
 to intel_gt
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

RnJvbTogVHZydGtvIFVyc3VsaW4gPHR2cnRrby51cnN1bGluQGludGVsLmNvbT4KCkhhdmluZyBp
bnRyb2R1Y2VkIHN0cnVjdCBpbnRlbF9ndCAobmFtZWQgdGhlIGFub255bW91cyBzdHJ1Y3R1cmUg
aW4gaTkxNSkKd2UgY2FuIHN0YXJ0IHVzaW5nIGl0IHRvIGNvbXBhcnRtZW50YWxpemUgb3VyIGNv
ZGUgYmV0dGVyLiBJdCBtYWtlcyBtb3JlCnNlbnNlIGxvZ2ljYWxseSB0byBoYXZlIHRoZSBjb2Rl
IGludGVybmFsbHkgbGlrZSB0aGlzIGFuZCBpdCB3aWxsIGFsc28KaGVscCB3aXRoIGZ1dHVyZSBz
cGxpdCBiZXR3ZWVuIGd0IGFuZCBkaXNwbGF5IGluIGk5MTUuCgp2MjoKICogS2VlcCBnZ3R0IGZs
dXNoIGJlZm9yZSBmYiBvYmogZmx1c2guIChDaHJpcykKCnYzOgogKiBGaXggcmVmYWN0b3Jpbmcg
ZmFpbC4KICogQWx3YXlzIGZsdXNoIGdndHQgd3JpdGVzLiAoQ2hyaXMpCgpTaWduZWQtb2ZmLWJ5
OiBUdnJ0a28gVXJzdWxpbiA8dHZydGtvLnVyc3VsaW5AaW50ZWwuY29tPgpSZXZpZXdlZC1ieTog
Q2hyaXMgV2lsc29uIDxjaHJpc0BjaHJpcy13aWxzb24uY28udWs+Ci0tLQogZHJpdmVycy9ncHUv
ZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX29iamVjdC5jICAgIHwgIDcgKystLQogLi4uL2RybS9pOTE1
L2dlbS9zZWxmdGVzdHMvaTkxNV9nZW1fbW1hbi5jICAgIHwgIDMgKy0KIGRyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2d0L2ludGVsX2d0LmMgICAgICAgICAgICB8IDQxICsrKysrKysrKysrKysrKysrKysK
IGRyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2d0LmggICAgICAgICAgICB8ICAyICsKIGRy
aXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZHJ2LmggICAgICAgICAgICAgICB8ICAyIC0KIGRyaXZl
cnMvZ3B1L2RybS9pOTE1L2k5MTVfZ2VtLmMgICAgICAgICAgICAgICB8IDQwIC0tLS0tLS0tLS0t
LS0tLS0tLQogZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV92bWEuYyAgICAgICAgICAgICAgIHwg
IDMgKy0KIGRyaXZlcnMvZ3B1L2RybS9pOTE1L3NlbGZ0ZXN0cy9pOTE1X2dlbV9ndHQuYyB8ICAy
ICstCiA4IGZpbGVzIGNoYW5nZWQsIDUyIGluc2VydGlvbnMoKyksIDQ4IGRlbGV0aW9ucygtKQoK
ZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9vYmplY3QuYyBi
L2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9vYmplY3QuYwppbmRleCBiZTZjYWNj
Y2UwYzUuLjg3Mjc1Zjk4ODNhYyAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2Vt
L2k5MTVfZ2VtX29iamVjdC5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dl
bV9vYmplY3QuYwpAQCAtMjMsNyArMjMsNyBAQAogICovCiAKICNpbmNsdWRlICJkaXNwbGF5L2lu
dGVsX2Zyb250YnVmZmVyLmgiCi0KKyNpbmNsdWRlICJndC9pbnRlbF9ndC5oIgogI2luY2x1ZGUg
Imk5MTVfZHJ2LmgiCiAjaW5jbHVkZSAiaTkxNV9nZW1fY2xmbHVzaC5oIgogI2luY2x1ZGUgImk5
MTVfZ2VtX2NvbnRleHQuaCIKQEAgLTMxOSw3ICszMTksNiBAQCB2b2lkCiBpOTE1X2dlbV9vYmpl
Y3RfZmx1c2hfd3JpdGVfZG9tYWluKHN0cnVjdCBkcm1faTkxNV9nZW1fb2JqZWN0ICpvYmosCiAJ
CQkJICAgdW5zaWduZWQgaW50IGZsdXNoX2RvbWFpbnMpCiB7Ci0Jc3RydWN0IGRybV9pOTE1X3By
aXZhdGUgKmRldl9wcml2ID0gdG9faTkxNShvYmotPmJhc2UuZGV2KTsKIAlzdHJ1Y3QgaTkxNV92
bWEgKnZtYTsKIAogCWFzc2VydF9vYmplY3RfaGVsZChvYmopOwpAQCAtMzI5LDcgKzMyOCw4IEBA
IGk5MTVfZ2VtX29iamVjdF9mbHVzaF93cml0ZV9kb21haW4oc3RydWN0IGRybV9pOTE1X2dlbV9v
YmplY3QgKm9iaiwKIAogCXN3aXRjaCAob2JqLT53cml0ZV9kb21haW4pIHsKIAljYXNlIEk5MTVf
R0VNX0RPTUFJTl9HVFQ6Ci0JCWk5MTVfZ2VtX2ZsdXNoX2dndHRfd3JpdGVzKGRldl9wcml2KTsK
KwkJZm9yX2VhY2hfZ2d0dF92bWEodm1hLCBvYmopCisJCQlpbnRlbF9ndF9mbHVzaF9nZ3R0X3dy
aXRlcyh2bWEtPnZtLT5ndCk7CiAKIAkJaW50ZWxfZmJfb2JqX2ZsdXNoKG9iaiwKIAkJCQkgICBm
Yl93cml0ZV9vcmlnaW4ob2JqLCBJOTE1X0dFTV9ET01BSU5fR1RUKSk7CkBAIC0zNDAsNiArMzQw
LDcgQEAgaTkxNV9nZW1fb2JqZWN0X2ZsdXNoX3dyaXRlX2RvbWFpbihzdHJ1Y3QgZHJtX2k5MTVf
Z2VtX29iamVjdCAqb2JqLAogCiAJCQlpOTE1X3ZtYV91bnNldF9nZ3R0X3dyaXRlKHZtYSk7CiAJ
CX0KKwogCQlicmVhazsKIAogCWNhc2UgSTkxNV9HRU1fRE9NQUlOX1dDOgpkaWZmIC0tZ2l0IGEv
ZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL3NlbGZ0ZXN0cy9pOTE1X2dlbV9tbWFuLmMgYi9kcml2
ZXJzL2dwdS9kcm0vaTkxNS9nZW0vc2VsZnRlc3RzL2k5MTVfZ2VtX21tYW4uYwppbmRleCA1Yzgx
ZjRiNDgxM2EuLjI4MTJmN2ZhMjdmZSAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUv
Z2VtL3NlbGZ0ZXN0cy9pOTE1X2dlbV9tbWFuLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUv
Z2VtL3NlbGZ0ZXN0cy9pOTE1X2dlbV9tbWFuLmMKQEAgLTYsNiArNiw3IEBACiAKICNpbmNsdWRl
IDxsaW51eC9wcmltZV9udW1iZXJzLmg+CiAKKyNpbmNsdWRlICJndC9pbnRlbF9ndC5oIgogI2lu
Y2x1ZGUgImd0L2ludGVsX2d0X3BtLmgiCiAjaW5jbHVkZSAiaHVnZV9nZW1fb2JqZWN0LmgiCiAj
aW5jbHVkZSAiaTkxNV9zZWxmdGVzdC5oIgpAQCAtMTQzLDcgKzE0NCw3IEBAIHN0YXRpYyBpbnQg
Y2hlY2tfcGFydGlhbF9tYXBwaW5nKHN0cnVjdCBkcm1faTkxNV9nZW1fb2JqZWN0ICpvYmosCiAJ
CWlmIChvZmZzZXQgPj0gb2JqLT5iYXNlLnNpemUpCiAJCQljb250aW51ZTsKIAotCQlpOTE1X2dl
bV9mbHVzaF9nZ3R0X3dyaXRlcyh0b19pOTE1KG9iai0+YmFzZS5kZXYpKTsKKwkJaW50ZWxfZ3Rf
Zmx1c2hfZ2d0dF93cml0ZXMoJnRvX2k5MTUob2JqLT5iYXNlLmRldiktPmd0KTsKIAogCQlwID0g
aTkxNV9nZW1fb2JqZWN0X2dldF9wYWdlKG9iaiwgb2Zmc2V0ID4+IFBBR0VfU0hJRlQpOwogCQlj
cHUgPSBrbWFwKHApICsgb2Zmc2V0X2luX3BhZ2Uob2Zmc2V0KTsKZGlmZiAtLWdpdCBhL2RyaXZl
cnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2d0LmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9p
bnRlbF9ndC5jCmluZGV4IDVjOWJlMzg3MTNkYi4uNGZkOTk3N2ZlMjg0IDEwMDY0NAotLS0gYS9k
cml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9ndC5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9p
OTE1L2d0L2ludGVsX2d0LmMKQEAgLTE1MCwzICsxNTAsNDQgQEAgdm9pZCBpbnRlbF9ndF9jaGVj
a19hbmRfY2xlYXJfZmF1bHRzKHN0cnVjdCBpbnRlbF9ndCAqZ3QpCiAKIAlpbnRlbF9ndF9jbGVh
cl9lcnJvcl9yZWdpc3RlcnMoZ3QsIEFMTF9FTkdJTkVTKTsKIH0KKwordm9pZCBpbnRlbF9ndF9m
bHVzaF9nZ3R0X3dyaXRlcyhzdHJ1Y3QgaW50ZWxfZ3QgKmd0KQoreworCXN0cnVjdCBkcm1faTkx
NV9wcml2YXRlICppOTE1ID0gZ3QtPmk5MTU7CisJaW50ZWxfd2FrZXJlZl90IHdha2VyZWY7CisK
KwkvKgorCSAqIE5vIGFjdHVhbCBmbHVzaGluZyBpcyByZXF1aXJlZCBmb3IgdGhlIEdUVCB3cml0
ZSBkb21haW4gZm9yIHJlYWRzCisJICogZnJvbSB0aGUgR1RUIGRvbWFpbi4gV3JpdGVzIHRvIGl0
ICJpbW1lZGlhdGVseSIgZ28gdG8gbWFpbiBtZW1vcnkKKwkgKiBhcyBmYXIgYXMgd2Uga25vdywg
c28gdGhlcmUncyBubyBjaGlwc2V0IGZsdXNoLiBJdCBhbHNvIGRvZXNuJ3QKKwkgKiBsYW5kIGlu
IHRoZSBHUFUgcmVuZGVyIGNhY2hlLgorCSAqCisJICogSG93ZXZlciwgd2UgZG8gaGF2ZSB0byBl
bmZvcmNlIHRoZSBvcmRlciBzbyB0aGF0IGFsbCB3cml0ZXMgdGhyb3VnaAorCSAqIHRoZSBHVFQg
bGFuZCBiZWZvcmUgYW55IHdyaXRlcyB0byB0aGUgZGV2aWNlLCBzdWNoIGFzIHVwZGF0ZXMgdG8K
KwkgKiB0aGUgR0FUVCBpdHNlbGYuCisJICoKKwkgKiBXZSBhbHNvIGhhdmUgdG8gd2FpdCBhIGJp
dCBmb3IgdGhlIHdyaXRlcyB0byBsYW5kIGZyb20gdGhlIEdUVC4KKwkgKiBBbiB1bmNhY2hlZCBy
ZWFkIChpLmUuIG1taW8pIHNlZW1zIHRvIGJlIGlkZWFsIGZvciB0aGUgcm91bmQtdHJpcAorCSAq
IHRpbWluZy4gVGhpcyBpc3N1ZSBoYXMgb25seSBiZWVuIG9ic2VydmVkIHdoZW4gc3dpdGNoaW5n
IHF1aWNrbHkKKwkgKiBiZXR3ZWVuIEdUVCB3cml0ZXMgYW5kIENQVSByZWFkcyBmcm9tIGluc2lk
ZSB0aGUga2VybmVsIG9uIHJlY2VudCBodywKKwkgKiBhbmQgaXQgYXBwZWFycyB0byBvbmx5IGFm
ZmVjdCBkaXNjcmV0ZSBHVFQgYmxvY2tzIChpLmUuIG9uIExMQworCSAqIHN5c3RlbSBhZ2VudHMg
d2UgY2Fubm90IHJlcHJvZHVjZSB0aGlzIGJlaGF2aW91ciwgdW50aWwgQ2Fubm9ubGFrZQorCSAq
IHRoYXQgd2FzISkuCisJICovCisKKwl3bWIoKTsKKworCWlmIChJTlRFTF9JTkZPKGk5MTUpLT5o
YXNfY29oZXJlbnRfZ2d0dCkKKwkJcmV0dXJuOworCisJaTkxNV9nZW1fY2hpcHNldF9mbHVzaChp
OTE1KTsKKworCXdpdGhfaW50ZWxfcnVudGltZV9wbSgmaTkxNS0+cnVudGltZV9wbSwgd2FrZXJl
ZikgeworCQlzdHJ1Y3QgaW50ZWxfdW5jb3JlICp1bmNvcmUgPSBndC0+dW5jb3JlOworCisJCXNw
aW5fbG9ja19pcnEoJnVuY29yZS0+bG9jayk7CisJCWludGVsX3VuY29yZV9wb3N0aW5nX3JlYWRf
ZncodW5jb3JlLAorCQkJCQkgICAgIFJJTkdfSEVBRChSRU5ERVJfUklOR19CQVNFKSk7CisJCXNw
aW5fdW5sb2NrX2lycSgmdW5jb3JlLT5sb2NrKTsKKwl9Cit9CmRpZmYgLS1naXQgYS9kcml2ZXJz
L2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9ndC5oIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50
ZWxfZ3QuaAppbmRleCAwMzM3MTNiNjg0YmYuLjYwNzNmMzYxN2NhYSAxMDA2NDQKLS0tIGEvZHJp
dmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZ3QuaAorKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkx
NS9ndC9pbnRlbF9ndC5oCkBAIC0xNyw0ICsxNyw2IEBAIHZvaWQgaW50ZWxfZ3RfY2hlY2tfYW5k
X2NsZWFyX2ZhdWx0cyhzdHJ1Y3QgaW50ZWxfZ3QgKmd0KTsKIHZvaWQgaW50ZWxfZ3RfY2xlYXJf
ZXJyb3JfcmVnaXN0ZXJzKHN0cnVjdCBpbnRlbF9ndCAqZ3QsCiAJCQkJICAgIGludGVsX2VuZ2lu
ZV9tYXNrX3QgZW5naW5lX21hc2spOwogCit2b2lkIGludGVsX2d0X2ZsdXNoX2dndHRfd3JpdGVz
KHN0cnVjdCBpbnRlbF9ndCAqZ3QpOworCiAjZW5kaWYgLyogX19JTlRFTF9HVF9IX18gKi8KZGlm
ZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZHJ2LmggYi9kcml2ZXJzL2dwdS9k
cm0vaTkxNS9pOTE1X2Rydi5oCmluZGV4IDE3ZmM1YTk5Mjk1NS4uOTc5M2E4ZTc5MDhiIDEwMDY0
NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2Rydi5oCisrKyBiL2RyaXZlcnMvZ3B1
L2RybS9pOTE1L2k5MTVfZHJ2LmgKQEAgLTI2MDQsOCArMjYwNCw2IEBAIGludCBfX211c3RfY2hl
Y2sgaTkxNV9nZW1fZXZpY3RfZm9yX25vZGUoc3RydWN0IGk5MTVfYWRkcmVzc19zcGFjZSAqdm0s
CiAJCQkJCSB1bnNpZ25lZCBpbnQgZmxhZ3MpOwogaW50IGk5MTVfZ2VtX2V2aWN0X3ZtKHN0cnVj
dCBpOTE1X2FkZHJlc3Nfc3BhY2UgKnZtKTsKIAotdm9pZCBpOTE1X2dlbV9mbHVzaF9nZ3R0X3dy
aXRlcyhzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYpOwotCiAvKiBiZWxvbmdzIGlu
IGk5MTVfZ2VtX2d0dC5oICovCiBzdGF0aWMgaW5saW5lIHZvaWQgaTkxNV9nZW1fY2hpcHNldF9m
bHVzaChzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYpCiB7CmRpZmYgLS1naXQgYS9k
cml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2dlbS5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkx
NV9nZW0uYwppbmRleCA4OTY2ZjMyZmUyYTIuLmE5MTg5ODA3Y2Q3MSAxMDA2NDQKLS0tIGEvZHJp
dmVycy9ncHUvZHJtL2k5MTUvaTkxNV9nZW0uYworKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9p
OTE1X2dlbS5jCkBAIC0yMzMsNDYgKzIzMyw2IEBAIGk5MTVfZ2VtX2NyZWF0ZV9pb2N0bChzdHJ1
Y3QgZHJtX2RldmljZSAqZGV2LCB2b2lkICpkYXRhLAogCQkJICAgICAgICZhcmdzLT5zaXplLCAm
YXJncy0+aGFuZGxlKTsKIH0KIAotdm9pZCBpOTE1X2dlbV9mbHVzaF9nZ3R0X3dyaXRlcyhzdHJ1
Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYpCi17Ci0JaW50ZWxfd2FrZXJlZl90IHdha2Vy
ZWY7Ci0KLQkvKgotCSAqIE5vIGFjdHVhbCBmbHVzaGluZyBpcyByZXF1aXJlZCBmb3IgdGhlIEdU
VCB3cml0ZSBkb21haW4gZm9yIHJlYWRzCi0JICogZnJvbSB0aGUgR1RUIGRvbWFpbi4gV3JpdGVz
IHRvIGl0ICJpbW1lZGlhdGVseSIgZ28gdG8gbWFpbiBtZW1vcnkKLQkgKiBhcyBmYXIgYXMgd2Ug
a25vdywgc28gdGhlcmUncyBubyBjaGlwc2V0IGZsdXNoLiBJdCBhbHNvIGRvZXNuJ3QKLQkgKiBs
YW5kIGluIHRoZSBHUFUgcmVuZGVyIGNhY2hlLgotCSAqCi0JICogSG93ZXZlciwgd2UgZG8gaGF2
ZSB0byBlbmZvcmNlIHRoZSBvcmRlciBzbyB0aGF0IGFsbCB3cml0ZXMgdGhyb3VnaAotCSAqIHRo
ZSBHVFQgbGFuZCBiZWZvcmUgYW55IHdyaXRlcyB0byB0aGUgZGV2aWNlLCBzdWNoIGFzIHVwZGF0
ZXMgdG8KLQkgKiB0aGUgR0FUVCBpdHNlbGYuCi0JICoKLQkgKiBXZSBhbHNvIGhhdmUgdG8gd2Fp
dCBhIGJpdCBmb3IgdGhlIHdyaXRlcyB0byBsYW5kIGZyb20gdGhlIEdUVC4KLQkgKiBBbiB1bmNh
Y2hlZCByZWFkIChpLmUuIG1taW8pIHNlZW1zIHRvIGJlIGlkZWFsIGZvciB0aGUgcm91bmQtdHJp
cAotCSAqIHRpbWluZy4gVGhpcyBpc3N1ZSBoYXMgb25seSBiZWVuIG9ic2VydmVkIHdoZW4gc3dp
dGNoaW5nIHF1aWNrbHkKLQkgKiBiZXR3ZWVuIEdUVCB3cml0ZXMgYW5kIENQVSByZWFkcyBmcm9t
IGluc2lkZSB0aGUga2VybmVsIG9uIHJlY2VudCBodywKLQkgKiBhbmQgaXQgYXBwZWFycyB0byBv
bmx5IGFmZmVjdCBkaXNjcmV0ZSBHVFQgYmxvY2tzIChpLmUuIG9uIExMQwotCSAqIHN5c3RlbSBh
Z2VudHMgd2UgY2Fubm90IHJlcHJvZHVjZSB0aGlzIGJlaGF2aW91ciwgdW50aWwgQ2Fubm9ubGFr
ZQotCSAqIHRoYXQgd2FzISkuCi0JICovCi0KLQl3bWIoKTsKLQotCWlmIChJTlRFTF9JTkZPKGRl
dl9wcml2KS0+aGFzX2NvaGVyZW50X2dndHQpCi0JCXJldHVybjsKLQotCWk5MTVfZ2VtX2NoaXBz
ZXRfZmx1c2goZGV2X3ByaXYpOwotCi0Jd2l0aF9pbnRlbF9ydW50aW1lX3BtKCZkZXZfcHJpdi0+
cnVudGltZV9wbSwgd2FrZXJlZikgewotCQlzdHJ1Y3QgaW50ZWxfdW5jb3JlICp1bmNvcmUgPSAm
ZGV2X3ByaXYtPnVuY29yZTsKLQotCQlzcGluX2xvY2tfaXJxKCZ1bmNvcmUtPmxvY2spOwotCQlp
bnRlbF91bmNvcmVfcG9zdGluZ19yZWFkX2Z3KHVuY29yZSwKLQkJCQkJICAgICBSSU5HX0hFQUQo
UkVOREVSX1JJTkdfQkFTRSkpOwotCQlzcGluX3VubG9ja19pcnEoJnVuY29yZS0+bG9jayk7Ci0J
fQotfQotCiBzdGF0aWMgaW50CiBzaG1lbV9wcmVhZChzdHJ1Y3QgcGFnZSAqcGFnZSwgaW50IG9m
ZnNldCwgaW50IGxlbiwgY2hhciBfX3VzZXIgKnVzZXJfZGF0YSwKIAkgICAgYm9vbCBuZWVkc19j
bGZsdXNoKQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV92bWEuYyBiL2Ry
aXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfdm1hLmMKaW5kZXggYTU3NzI5YmU4MzEyLi41MDNmMTE4
MGFmMTIgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfdm1hLmMKKysrIGIv
ZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV92bWEuYwpAQCAtMjcsNiArMjcsNyBAQAogI2luY2x1
ZGUgImRpc3BsYXkvaW50ZWxfZnJvbnRidWZmZXIuaCIKIAogI2luY2x1ZGUgImd0L2ludGVsX2Vu
Z2luZS5oIgorI2luY2x1ZGUgImd0L2ludGVsX2d0LmgiCiAKICNpbmNsdWRlICJpOTE1X2Rydi5o
IgogI2luY2x1ZGUgImk5MTVfZ2xvYmFscy5oIgpAQCAtNDA4LDcgKzQwOSw3IEBAIHZvaWQgaTkx
NV92bWFfZmx1c2hfd3JpdGVzKHN0cnVjdCBpOTE1X3ZtYSAqdm1hKQogCWlmICghaTkxNV92bWFf
aGFzX2dndHRfd3JpdGUodm1hKSkKIAkJcmV0dXJuOwogCi0JaTkxNV9nZW1fZmx1c2hfZ2d0dF93
cml0ZXModm1hLT52bS0+aTkxNSk7CisJaW50ZWxfZ3RfZmx1c2hfZ2d0dF93cml0ZXModm1hLT52
bS0+Z3QpOwogCiAJaTkxNV92bWFfdW5zZXRfZ2d0dF93cml0ZSh2bWEpOwogfQpkaWZmIC0tZ2l0
IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvc2VsZnRlc3RzL2k5MTVfZ2VtX2d0dC5jIGIvZHJpdmVy
cy9ncHUvZHJtL2k5MTUvc2VsZnRlc3RzL2k5MTVfZ2VtX2d0dC5jCmluZGV4IDFhNjBiOWZlODIy
MS4uZDk1MzFjYjVmMjM1IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9zZWxmdGVz
dHMvaTkxNV9nZW1fZ3R0LmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvc2VsZnRlc3RzL2k5
MTVfZ2VtX2d0dC5jCkBAIC0xMTk1LDcgKzExOTUsNyBAQCBzdGF0aWMgaW50IGlndF9nZ3R0X3Bh
Z2Uodm9pZCAqYXJnKQogCQlpb3dyaXRlMzIobiwgdmFkZHIgKyBuKTsKIAkJaW9fbWFwcGluZ191
bm1hcF9hdG9taWModmFkZHIpOwogCX0KLQlpOTE1X2dlbV9mbHVzaF9nZ3R0X3dyaXRlcyhpOTE1
KTsKKwlpbnRlbF9ndF9mbHVzaF9nZ3R0X3dyaXRlcyhnZ3R0LT52bS5ndCk7CiAKIAlpOTE1X3Jh
bmRvbV9yZW9yZGVyKG9yZGVyLCBjb3VudCwgJnBybmcpOwogCWZvciAobiA9IDA7IG4gPCBjb3Vu
dDsgbisrKSB7Ci0tIAoyLjIwLjEKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fCkludGVsLWdmeCBtYWlsaW5nIGxpc3QKSW50ZWwtZ2Z4QGxpc3RzLmZyZWVk
ZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZv
L2ludGVsLWdmeA==

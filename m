Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 4F576A8069
	for <lists+intel-gfx@lfdr.de>; Wed,  4 Sep 2019 12:33:49 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id AD6098997E;
	Wed,  4 Sep 2019 10:33:47 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mail-ot1-x341.google.com (mail-ot1-x341.google.com
 [IPv6:2607:f8b0:4864:20::341])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 2388B8997E
 for <intel-gfx@lists.freedesktop.org>; Wed,  4 Sep 2019 10:33:46 +0000 (UTC)
Received: by mail-ot1-x341.google.com with SMTP id c7so20126783otp.1
 for <intel-gfx@lists.freedesktop.org>; Wed, 04 Sep 2019 03:33:46 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:mime-version:references:in-reply-to:from:date
 :message-id:subject:to:cc;
 bh=bE1T3tpEZRKopaSanye2Rof5EveKN8zGZAZ9p6i0hmw=;
 b=FhAUPAA32qErV13/WFGGZOwI3/SLbEHliZB4omJXe/+Trtvyor69X7TKyjQsBnVjV+
 WCvfbRcleh9A94DtPocaXbzL+POchB5K3EJ9TXZELHsbl3thQV3AAetaRZ7Yd0fWnOMm
 POkvtZtPU4Btzsrjht9RQJisaweFUTCUCuu2a94cvgC+7D1VOctp1pelsnuw4CEJVoLF
 dcXtQ2kMqTqoNMqH5UjiJUX8JJ8DD80KYYYgYQskIMkvIWbjuaGxJyj9gE+M7RwM8joi
 WgtmMf+BcgP+vWg4Ki5KvOGx2xlC98Ox5Zj6rYGw53NmKJEB3U2Ae+e93xItEAIH+P9l
 3VVQ==
X-Gm-Message-State: APjAAAXkhl/cWQwKdJX6xMmYraEQcCeIO2igaJgFkojarhUAWGxvBnwp
 yqlezT411bDv6AyViBinAa+ddZmMtrPSH07hiUX+XA==
X-Google-Smtp-Source: APXvYqwrQD7j96AUahWXw6FmL03VoScbd5QMqm3KmOJFP3vwat5eYbpb+6jIlBCFWVV1L7I8F89kkgcD+TRCVwOCuNg=
X-Received: by 2002:a05:6830:1594:: with SMTP id
 i20mr6647579otr.188.1567593224875; 
 Wed, 04 Sep 2019 03:33:44 -0700 (PDT)
MIME-Version: 1.0
References: <20190826122102.32400-1-abdiel.janulgue@linux.intel.com>
In-Reply-To: <20190826122102.32400-1-abdiel.janulgue@linux.intel.com>
From: Daniel Vetter <daniel@ffwll.ch>
Date: Wed, 4 Sep 2019 12:33:33 +0200
Message-ID: <CAKMK7uHAng4bZGP0B_WC-hJ4z+CsTi0FFxmqOvQUQnDRZWTD2Q@mail.gmail.com>
To: Abdiel Janulgue <abdiel.janulgue@linux.intel.com>,
 Dave Airlie <airlied@linux.ie>
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=ffwll.ch; s=google;
 h=mime-version:references:in-reply-to:from:date:message-id:subject:to
 :cc;
 bh=bE1T3tpEZRKopaSanye2Rof5EveKN8zGZAZ9p6i0hmw=;
 b=fOnrdqo0oOB6VK/BgXWOt17JWXJJvYQnO6cbNgtoKmXQ5j7xubtBYOIf67ZQleU5mF
 Vo2+4Ip4alXHWZLcMLsXo/q2Kul4lQjwVVm74l0rIQo3RWQ33tbNOBNXDHT+v+8hwASe
 KSJVTEZCZJYGw6WmlKuJopfcJ/cjGSS5LzsA8=
Subject: Re: [Intel-gfx] [PATCH 1/5] drm/i915: Allow i915 to manage the vma
 offset nodes instead of drm core
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: intel-gfx <intel-gfx@lists.freedesktop.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

T24gTW9uLCBBdWcgMjYsIDIwMTkgYXQgMjoyMSBQTSBBYmRpZWwgSmFudWxndWUKPGFiZGllbC5q
YW51bGd1ZUBsaW51eC5pbnRlbC5jb20+IHdyb3RlOgo+Cj4gSGF2ZSBpOTE1IHJlcGxhY2UgdGhl
IGNvcmUgZHJtX2dlbV9tbWFwIGltcGxlbWVudGF0aW9uIHRvIG92ZXJjb21lIGl0cwo+IGxpbWl0
YXRpb24gaW4gaGF2aW5nIG9ubHkgYSBzaW5nbGUgbW1hcCBvZmZzZXQgbm9kZSBwZXIgZ2VtIG9i
amVjdC4KPiBUaGUgY2hhbmdlIGFsbG93cyB1cyB0byBoYXZlIG11bHRpcGxlIG1tYXAgb2Zmc2V0
cyBwZXIgb2JqZWN0LiBUaGlzCj4gZW5hYmxlcyBhIG1tYXBwaW5nIGluc3RhbmNlIHRvIHVzZSB1
bmlxdWUgZmF1bHQtaGFuZGxlcnMgcGVyIHVzZXIgdm1hLgo+Cj4gVGhpcyBlbmFibGVzIHVzIHRv
IHN0b3JlIGV4dHJhIGRhdGEgd2l0aGluIHZtYS0+dm1fcHJpdmF0ZV9kYXRhIGFuZCBhc3NpZ24K
PiB0aGUgcGFnZWZhdWx0IG9wcyBmb3IgZWFjaCBtbWFwIGluc3RhbmNlIGFsbG93aW5nIG9iamVj
dHMgdG8gdXNlIG11bHRpcGxlCj4gZmF1bHQgaGFuZGxlcnMgZGVwZW5kaW5nIG9uIGl0cyBiYWNr
aW5nIHN0b3JhZ2UuCj4KPiBTaWduZWQtb2ZmLWJ5OiBBYmRpZWwgSmFudWxndWUgPGFiZGllbC5q
YW51bGd1ZUBsaW51eC5pbnRlbC5jb20+Cj4gQ2M6IEpvb25hcyBMYWh0aW5lbiA8am9vbmFzLmxh
aHRpbmVuQGxpbnV4LmludGVsLmNvbT4KPiBDYzogQ2hyaXMgV2lsc29uIDxjaHJpc0BjaHJpcy13
aWxzb24uY28udWs+Cj4gLS0tCj4gIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9t
bWFuLmMgICAgICB8IDE5MyArKysrKysrKysrKysrKysrLS0KPiAgZHJpdmVycy9ncHUvZHJtL2k5
MTUvZ2VtL2k5MTVfZ2VtX29iamVjdC5jICAgIHwgIDE5ICsrCj4gIGRyaXZlcnMvZ3B1L2RybS9p
OTE1L2dlbS9pOTE1X2dlbV9vYmplY3QuaCAgICB8ICAgNyArLQo+ICAuLi4vZ3B1L2RybS9pOTE1
L2dlbS9pOTE1X2dlbV9vYmplY3RfdHlwZXMuaCAgfCAgMTggKysKPiAgLi4uL2RybS9pOTE1L2dl
bS9zZWxmdGVzdHMvaTkxNV9nZW1fbW1hbi5jICAgIHwgIDEyICstCj4gIGRyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2d0L2ludGVsX3Jlc2V0LmMgICAgICAgICB8ICAxMSArLQo+ICBkcml2ZXJzL2dwdS9k
cm0vaTkxNS9pOTE1X2Rydi5jICAgICAgICAgICAgICAgfCAgIDkgKy0KPiAgZHJpdmVycy9ncHUv
ZHJtL2k5MTUvaTkxNV9kcnYuaCAgICAgICAgICAgICAgIHwgICAxICsKPiAgZHJpdmVycy9ncHUv
ZHJtL2k5MTUvaTkxNV92bWEuYyAgICAgICAgICAgICAgIHwgIDIwICstCj4gIDkgZmlsZXMgY2hh
bmdlZCwgMjU0IGluc2VydGlvbnMoKyksIDM2IGRlbGV0aW9ucygtKQo+Cj4gZGlmZiAtLWdpdCBh
L2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9tbWFuLmMgYi9kcml2ZXJzL2dwdS9k
cm0vaTkxNS9nZW0vaTkxNV9nZW1fbW1hbi5jCj4gaW5kZXggNTk1NTM5YTA5ZTM4Li5mYjdlMzlm
MTE1ZDcgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX21t
YW4uYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9tbWFuLmMKPiBA
QCAtMjE4LDcgKzIxOCw4IEBAIHZtX2ZhdWx0X3QgaTkxNV9nZW1fZmF1bHQoc3RydWN0IHZtX2Zh
dWx0ICp2bWYpCj4gIHsKPiAgI2RlZmluZSBNSU5fQ0hVTktfUEFHRVMgKFNaXzFNID4+IFBBR0Vf
U0hJRlQpCj4gICAgICAgICBzdHJ1Y3Qgdm1fYXJlYV9zdHJ1Y3QgKmFyZWEgPSB2bWYtPnZtYTsK
PiAtICAgICAgIHN0cnVjdCBkcm1faTkxNV9nZW1fb2JqZWN0ICpvYmogPSB0b19pbnRlbF9ibyhh
cmVhLT52bV9wcml2YXRlX2RhdGEpOwo+ICsgICAgICAgc3RydWN0IGk5MTVfbW1hcF9vZmZzZXQg
KnByaXYgPSBhcmVhLT52bV9wcml2YXRlX2RhdGE7Cj4gKyAgICAgICBzdHJ1Y3QgZHJtX2k5MTVf
Z2VtX29iamVjdCAqb2JqID0gcHJpdi0+b2JqOwo+ICAgICAgICAgc3RydWN0IGRybV9kZXZpY2Ug
KmRldiA9IG9iai0+YmFzZS5kZXY7Cj4gICAgICAgICBzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAq
aTkxNSA9IHRvX2k5MTUoZGV2KTsKPiAgICAgICAgIHN0cnVjdCBpbnRlbF9ydW50aW1lX3BtICpy
cG0gPSAmaTkxNS0+cnVudGltZV9wbTsKPiBAQCAtMzcyLDEzICszNzMsMjAgQEAgdm1fZmF1bHRf
dCBpOTE1X2dlbV9mYXVsdChzdHJ1Y3Qgdm1fZmF1bHQgKnZtZikKPiAgdm9pZCBfX2k5MTVfZ2Vt
X29iamVjdF9yZWxlYXNlX21tYXAoc3RydWN0IGRybV9pOTE1X2dlbV9vYmplY3QgKm9iaikKPiAg
ewo+ICAgICAgICAgc3RydWN0IGk5MTVfdm1hICp2bWE7Cj4gKyAgICAgICBzdHJ1Y3QgaTkxNV9t
bWFwX29mZnNldCAqbW1vOwo+Cj4gICAgICAgICBHRU1fQlVHX09OKCFvYmotPnVzZXJmYXVsdF9j
b3VudCk7Cj4KPiAgICAgICAgIG9iai0+dXNlcmZhdWx0X2NvdW50ID0gMDsKPiAgICAgICAgIGxp
c3RfZGVsKCZvYmotPnVzZXJmYXVsdF9saW5rKTsKPiAtICAgICAgIGRybV92bWFfbm9kZV91bm1h
cCgmb2JqLT5iYXNlLnZtYV9ub2RlLAo+IC0gICAgICAgICAgICAgICAgICAgICAgICAgIG9iai0+
YmFzZS5kZXYtPmFub25faW5vZGUtPmlfbWFwcGluZyk7Cj4gKwo+ICsgICAgICAgbXV0ZXhfbG9j
aygmb2JqLT5tbW9fbG9jayk7Cj4gKyAgICAgICBsaXN0X2Zvcl9lYWNoX2VudHJ5KG1tbywgJm9i
ai0+bW1hcF9vZmZzZXRzLCBvZmZzZXQpIHsKPiArICAgICAgICAgICAgICAgaWYgKG1tby0+bW1h
cF90eXBlID09IEk5MTVfTU1BUF9UWVBFX0dUVCkKPiArICAgICAgICAgICAgICAgICAgICAgICBk
cm1fdm1hX25vZGVfdW5tYXAoJm1tby0+dm1hX25vZGUsCj4gKyAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgIG9iai0+YmFzZS5kZXYtPmFub25faW5vZGUtPmlfbWFwcGlu
Zyk7Cj4gKyAgICAgICB9Cj4gKyAgICAgICBtdXRleF91bmxvY2soJm9iai0+bW1vX2xvY2spOwo+
Cj4gICAgICAgICBmb3JfZWFjaF9nZ3R0X3ZtYSh2bWEsIG9iaikKPiAgICAgICAgICAgICAgICAg
aTkxNV92bWFfdW5zZXRfdXNlcmZhdWx0KHZtYSk7Cj4gQEAgLTQzMywxNCArNDQxLDMzIEBAIHZv
aWQgaTkxNV9nZW1fb2JqZWN0X3JlbGVhc2VfbW1hcChzdHJ1Y3QgZHJtX2k5MTVfZ2VtX29iamVj
dCAqb2JqKQo+ICAgICAgICAgaW50ZWxfcnVudGltZV9wbV9wdXQoJmk5MTUtPnJ1bnRpbWVfcG0s
IHdha2VyZWYpOwo+ICB9Cj4KPiAtc3RhdGljIGludCBjcmVhdGVfbW1hcF9vZmZzZXQoc3RydWN0
IGRybV9pOTE1X2dlbV9vYmplY3QgKm9iaikKPiArc3RhdGljIHZvaWQgaW5pdF9tbWFwX29mZnNl
dChzdHJ1Y3QgZHJtX2k5MTVfZ2VtX29iamVjdCAqb2JqLAo+ICsgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgc3RydWN0IGk5MTVfbW1hcF9vZmZzZXQgKm1tbykKPiArewo+ICsgICAgICAgbXV0
ZXhfbG9jaygmb2JqLT5tbW9fbG9jayk7Cj4gKyAgICAgICBrcmVmX2luaXQoJm1tby0+cmVmKTsK
PiArICAgICAgIGxpc3RfYWRkKCZtbW8tPm9mZnNldCwgJm9iai0+bW1hcF9vZmZzZXRzKTsKPiAr
ICAgICAgIG11dGV4X3VubG9jaygmb2JqLT5tbW9fbG9jayk7Cj4gKwo+ICsgICAgICAgbW1vLT5v
YmogPSBvYmo7Cj4gK30KPiArCj4gK3N0YXRpYyBpbnQgY3JlYXRlX21tYXBfb2Zmc2V0KHN0cnVj
dCBkcm1faTkxNV9nZW1fb2JqZWN0ICpvYmosCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgc3RydWN0IGk5MTVfbW1hcF9vZmZzZXQgKm1tbykKPiAgewo+ICAgICAgICAgc3RydWN0IGRy
bV9pOTE1X3ByaXZhdGUgKmk5MTUgPSB0b19pOTE1KG9iai0+YmFzZS5kZXYpOwo+ICsgICAgICAg
c3RydWN0IGRybV9kZXZpY2UgKmRldiA9IG9iai0+YmFzZS5kZXY7Cj4gICAgICAgICBpbnQgZXJy
Owo+Cj4gLSAgICAgICBlcnIgPSBkcm1fZ2VtX2NyZWF0ZV9tbWFwX29mZnNldCgmb2JqLT5iYXNl
KTsKPiAtICAgICAgIGlmIChsaWtlbHkoIWVycikpCj4gKyAgICAgICBkcm1fdm1hX25vZGVfcmVz
ZXQoJm1tby0+dm1hX25vZGUpOwo+ICsgICAgICAgaWYgKG1tby0+ZmlsZSkKPiArICAgICAgICAg
ICAgICAgZHJtX3ZtYV9ub2RlX2FsbG93KCZtbW8tPnZtYV9ub2RlLCBtbW8tPmZpbGUpOwo+ICsg
ICAgICAgZXJyID0gZHJtX3ZtYV9vZmZzZXRfYWRkKGRldi0+dm1hX29mZnNldF9tYW5hZ2VyLCAm
bW1vLT52bWFfbm9kZSwKPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmotPmJh
c2Uuc2l6ZSAvIFBBR0VfU0laRSk7Cj4gKyAgICAgICBpZiAobGlrZWx5KCFlcnIpKSB7Cj4gKyAg
ICAgICAgICAgICAgIGluaXRfbW1hcF9vZmZzZXQob2JqLCBtbW8pOwo+ICAgICAgICAgICAgICAg
ICByZXR1cm4gMDsKPiArICAgICAgIH0KPgo+ICAgICAgICAgLyogQXR0ZW1wdCB0byByZWFwIHNv
bWUgbW1hcCBzcGFjZSBmcm9tIGRlYWQgb2JqZWN0cyAqLwo+ICAgICAgICAgZG8gewo+IEBAIC00
NTEsMzIgKzQ3OCw0OCBAQCBzdGF0aWMgaW50IGNyZWF0ZV9tbWFwX29mZnNldChzdHJ1Y3QgZHJt
X2k5MTVfZ2VtX29iamVjdCAqb2JqKQo+ICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwo+
Cj4gICAgICAgICAgICAgICAgIGk5MTVfZ2VtX2RyYWluX2ZyZWVkX29iamVjdHMoaTkxNSk7Cj4g
LSAgICAgICAgICAgICAgIGVyciA9IGRybV9nZW1fY3JlYXRlX21tYXBfb2Zmc2V0KCZvYmotPmJh
c2UpOwo+IC0gICAgICAgICAgICAgICBpZiAoIWVycikKPiArICAgICAgICAgICAgICAgZXJyID0g
ZHJtX3ZtYV9vZmZzZXRfYWRkKGRldi0+dm1hX29mZnNldF9tYW5hZ2VyLCAmbW1vLT52bWFfbm9k
ZSwKPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iai0+YmFzZS5z
aXplIC8gUEFHRV9TSVpFKTsKPiArICAgICAgICAgICAgICAgaWYgKCFlcnIpIHsKPiArICAgICAg
ICAgICAgICAgICAgICAgICBpbml0X21tYXBfb2Zmc2V0KG9iaiwgbW1vKTsKPiAgICAgICAgICAg
ICAgICAgICAgICAgICBicmVhazsKPiArICAgICAgICAgICAgICAgfQo+Cj4gICAgICAgICB9IHdo
aWxlIChmbHVzaF9kZWxheWVkX3dvcmsoJmk5MTUtPmdlbS5yZXRpcmVfd29yaykpOwo+Cj4gICAg
ICAgICByZXR1cm4gZXJyOwo+ICB9Cj4KPiAtaW50Cj4gLWk5MTVfZ2VtX21tYXBfZ3R0KHN0cnVj
dCBkcm1fZmlsZSAqZmlsZSwKPiAtICAgICAgICAgICAgICAgICBzdHJ1Y3QgZHJtX2RldmljZSAq
ZGV2LAo+IC0gICAgICAgICAgICAgICAgIHUzMiBoYW5kbGUsCj4gLSAgICAgICAgICAgICAgICAg
dTY0ICpvZmZzZXQpCj4gK3N0YXRpYyBpbnQKPiArX19hc3NpZ25fZ2VtX29iamVjdF9tbWFwX2Rh
dGEoc3RydWN0IGRybV9maWxlICpmaWxlLAo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAg
IHUzMiBoYW5kbGUsCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW51bSBpOTE1X21t
YXBfdHlwZSBtbWFwX3R5cGUsCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdTY0ICpv
ZmZzZXQpCj4gIHsKPiAgICAgICAgIHN0cnVjdCBkcm1faTkxNV9nZW1fb2JqZWN0ICpvYmo7Cj4g
KyAgICAgICBzdHJ1Y3QgaTkxNV9tbWFwX29mZnNldCAqbW1vOwo+ICAgICAgICAgaW50IHJldDsK
Pgo+ICAgICAgICAgb2JqID0gaTkxNV9nZW1fb2JqZWN0X2xvb2t1cChmaWxlLCBoYW5kbGUpOwo+
ICAgICAgICAgaWYgKCFvYmopCj4gICAgICAgICAgICAgICAgIHJldHVybiAtRU5PRU5UOwo+Cj4g
LSAgICAgICByZXQgPSBjcmVhdGVfbW1hcF9vZmZzZXQob2JqKTsKPiAtICAgICAgIGlmIChyZXQg
PT0gMCkKPiAtICAgICAgICAgICAgICAgKm9mZnNldCA9IGRybV92bWFfbm9kZV9vZmZzZXRfYWRk
cigmb2JqLT5iYXNlLnZtYV9ub2RlKTsKPiArICAgICAgIG1tbyA9IGt6YWxsb2Moc2l6ZW9mKCpt
bW8pLCBHRlBfS0VSTkVMKTsKCkkgZ290IHRocm93biBvZmYgYSBidW5jaCBvZiB0aW1lcyBoZXJl
IHJlYWRpbmcgdGhlIGNvZGUsIGJ1dCBJIHRoaW5rIEkKZ290IHRoaXMgcmlnaHQgbm93LgoKV2h5
IGV4YWN0bHkgZG8gd2Ugd2FudCBtdWx0aXBsZSB2bWEgb2Zmc2V0cz8gWWVzIHRoaXMgbWFrZXMg
aXQgYQpkcm9wLWluIHJlcGxhY2VtZW50IGZvciB0aGUgb2xkIGNwdSBtbWFwIGlvY3RsLCB3aGlj
aCB3YXMgYSBiaXQKZHViaW91cyBkZXNpZ24uIEJ1dCBpZiB3ZSBnbyBhbGwgbmV3IGhlcmUsIEkg
cmVhbGx5IHdvbmRlciBhYm91dCB3aHkKdGhpcyBpcyBuZWNlc3NhcnkuIE5vIG90aGVyIGRpc2Ny
ZXRlIGRyaXZlciBuZWVkcyB0aGlzLCB0aGV5IGFsbCBmaXgKdGhlIG1tYXAgbW9kZSBmb3IgdGhl
IGxpZmV0aW1lIG9mIGFuIG9iamVjdCwgYmVjYXVzZSBmbHVzaGluZyBzdHVmZiBpcwphcyBleHBl
bnNpdmUgYXMganVzdCByZWFsbG9jYXRpbmcgKG9yIGF0IGxlYXN0IGNsb3NlIGVub3VnaCkuCgpJ
IHRoaW5rIHVzIGdvaW5nIG9uY2UgYWdhaW4gb3VyIHNlcGFyYXRlIHJvdXRlIGhlcmUgbmVlZHMg
YSBsb3QgbW9yZQpqdXN0aWZpY2F0aW9uIHRoYW4ganVzdCAid2UndmUgYWNjaWRlbnRhbGx5IGVu
ZGVkIHVwIHdpdGggdWFwaSBsaWtlCnRoaXMgMTAgeWVhcnMgYWdvIi4KLURhbmllbAoKCgo+ICsg
ICAgICAgaWYgKCFtbW8pIHsKPiArICAgICAgICAgICAgICAgcmV0ID0gLUVOT01FTTsKPiArICAg
ICAgICAgICAgICAgZ290byBlcnI7Cj4gKyAgICAgICB9Cj4gKwo+ICsgICAgICAgbW1vLT5maWxl
ID0gZmlsZTsKPiArICAgICAgIHJldCA9IGNyZWF0ZV9tbWFwX29mZnNldChvYmosIG1tbyk7Cj4g
KyAgICAgICBpZiAocmV0KSB7Cj4gKyAgICAgICAgICAgICAgIGtmcmVlKG1tbyk7Cj4gKyAgICAg
ICAgICAgICAgIGdvdG8gZXJyOwo+ICsgICAgICAgfQo+Cj4gKyAgICAgICBtbW8tPm1tYXBfdHlw
ZSA9IG1tYXBfdHlwZTsKPiArICAgICAgICpvZmZzZXQgPSBkcm1fdm1hX25vZGVfb2Zmc2V0X2Fk
ZHIoJm1tby0+dm1hX25vZGUpOwo+ICtlcnI6Cj4gICAgICAgICBpOTE1X2dlbV9vYmplY3RfcHV0
KG9iaik7Cj4gICAgICAgICByZXR1cm4gcmV0Owo+ICB9Cj4gQEAgLTUwMCw5ICs1NDMsMTIzIEBA
IGludAo+ICBpOTE1X2dlbV9tbWFwX2d0dF9pb2N0bChzdHJ1Y3QgZHJtX2RldmljZSAqZGV2LCB2
b2lkICpkYXRhLAo+ICAgICAgICAgICAgICAgICAgICAgICAgIHN0cnVjdCBkcm1fZmlsZSAqZmls
ZSkKPiAgewo+IC0gICAgICAgc3RydWN0IGRybV9pOTE1X2dlbV9tbWFwX2d0dCAqYXJncyA9IGRh
dGE7Cj4gKyAgICAgICBzdHJ1Y3QgZHJtX2k5MTVfZ2VtX21tYXBfb2Zmc2V0ICphcmdzID0gZGF0
YTsKPiArCj4gKyAgICAgICByZXR1cm4gX19hc3NpZ25fZ2VtX29iamVjdF9tbWFwX2RhdGEoZmls
ZSwgYXJncy0+aGFuZGxlLAo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgIEk5MTVfTU1BUF9UWVBFX0dUVCwKPiArICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAmYXJncy0+b2Zmc2V0KTsKPiArfQo+ICsKPiArdm9pZCBpOTE1X21t
YXBfb2Zmc2V0X29iamVjdF9yZWxlYXNlKHN0cnVjdCBrcmVmICpyZWYpCj4gK3sKPiArICAgICAg
IHN0cnVjdCBpOTE1X21tYXBfb2Zmc2V0ICptbW8gPSBjb250YWluZXJfb2YocmVmLAo+ICsgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJ1Y3QgaTkx
NV9tbWFwX29mZnNldCwKPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgcmVmKTsKPiArICAgICAgIHN0cnVjdCBkcm1faTkxNV9nZW1fb2JqZWN0ICpv
YmogPSBtbW8tPm9iajsKPiArICAgICAgIHN0cnVjdCBkcm1fZGV2aWNlICpkZXYgPSBvYmotPmJh
c2UuZGV2Owo+ICsKPiArICAgICAgIGxvY2tkZXBfYXNzZXJ0X2hlbGQoJm9iai0+bW1vX2xvY2sp
Owo+ICsKPiArICAgICAgIGlmIChtbW8tPmZpbGUpCj4gKyAgICAgICAgICAgICAgIGRybV92bWFf
bm9kZV9yZXZva2UoJm1tby0+dm1hX25vZGUsIG1tby0+ZmlsZSk7Cj4gKyAgICAgICBkcm1fdm1h
X29mZnNldF9yZW1vdmUoZGV2LT52bWFfb2Zmc2V0X21hbmFnZXIsICZtbW8tPnZtYV9ub2RlKTsK
PiArICAgICAgIGxpc3RfZGVsKCZtbW8tPm9mZnNldCk7Cj4KPiAtICAgICAgIHJldHVybiBpOTE1
X2dlbV9tbWFwX2d0dChmaWxlLCBkZXYsIGFyZ3MtPmhhbmRsZSwgJmFyZ3MtPm9mZnNldCk7Cj4g
KyAgICAgICBrZnJlZShtbW8pOwo+ICt9Cj4gKwo+ICtzdGF0aWMgdm9pZCBpOTE1X2dlbV92bV9v
cGVuKHN0cnVjdCB2bV9hcmVhX3N0cnVjdCAqdm1hKQo+ICt7Cj4gKyAgICAgICBzdHJ1Y3QgaTkx
NV9tbWFwX29mZnNldCAqcHJpdiA9IHZtYS0+dm1fcHJpdmF0ZV9kYXRhOwo+ICsgICAgICAgc3Ry
dWN0IGRybV9pOTE1X2dlbV9vYmplY3QgKm9iaiA9IHByaXYtPm9iajsKPiArCj4gKyAgICAgICBp
OTE1X2dlbV9vYmplY3RfZ2V0KG9iaik7Cj4gKyAgICAgICBrcmVmX2dldCgmcHJpdi0+cmVmKTsK
PiArfQo+ICsKPiArc3RhdGljIHZvaWQgaTkxNV9nZW1fdm1fY2xvc2Uoc3RydWN0IHZtX2FyZWFf
c3RydWN0ICp2bWEpCj4gK3sKPiArICAgICAgIHN0cnVjdCBpOTE1X21tYXBfb2Zmc2V0ICpwcml2
ID0gdm1hLT52bV9wcml2YXRlX2RhdGE7Cj4gKyAgICAgICBzdHJ1Y3QgZHJtX2k5MTVfZ2VtX29i
amVjdCAqb2JqID0gcHJpdi0+b2JqOwo+ICsKPiArICAgICAgIG11dGV4X2xvY2soJm9iai0+bW1v
X2xvY2spOwo+ICsgICAgICAga3JlZl9wdXQoJnByaXYtPnJlZiwgaTkxNV9tbWFwX29mZnNldF9v
YmplY3RfcmVsZWFzZSk7Cj4gKyAgICAgICBtdXRleF91bmxvY2soJm9iai0+bW1vX2xvY2spOwo+
ICsKPiArICAgICAgIGk5MTVfZ2VtX29iamVjdF9wdXQob2JqKTsKPiArfQo+ICsKPiArc3RhdGlj
IGNvbnN0IHN0cnVjdCB2bV9vcGVyYXRpb25zX3N0cnVjdCBpOTE1X2dlbV9ndHRfdm1fb3BzID0g
ewo+ICsgICAgICAgLmZhdWx0ID0gaTkxNV9nZW1fZmF1bHQsCj4gKyAgICAgICAub3BlbiA9IGk5
MTVfZ2VtX3ZtX29wZW4sCj4gKyAgICAgICAuY2xvc2UgPSBpOTE1X2dlbV92bV9jbG9zZSwKPiAr
fTsKPiArCj4gKy8qIFRoaXMgb3ZlcmNvbWVzIHRoZSBsaW1pdGF0aW9uIGluIGRybV9nZW1fbW1h
cCdzIGFzc2lnbm1lbnQgb2YgYQo+ICsgKiBkcm1fZ2VtX29iamVjdCBhcyB0aGUgdm1hLT52bV9w
cml2YXRlX2RhdGEuIFNpbmNlIHdlIG5lZWQgdG8KPiArICogYmUgYWJsZSB0byByZXNvbHZlIG11
bHRpcGxlIG1tYXAgb2Zmc2V0cyB3aGljaCBjb3VsZCBiZSB0aWVkCj4gKyAqIHRvIGEgc2luZ2xl
IGdlbSBvYmplY3QuCj4gKyAqLwo+ICtpbnQgaTkxNV9nZW1fbW1hcChzdHJ1Y3QgZmlsZSAqZmls
cCwgc3RydWN0IHZtX2FyZWFfc3RydWN0ICp2bWEpCj4gK3sKPiArICAgICAgIHN0cnVjdCBkcm1f
dm1hX29mZnNldF9ub2RlICpub2RlOwo+ICsgICAgICAgc3RydWN0IGRybV9maWxlICpwcml2ID0g
ZmlscC0+cHJpdmF0ZV9kYXRhOwo+ICsgICAgICAgc3RydWN0IGRybV9kZXZpY2UgKmRldiA9IHBy
aXYtPm1pbm9yLT5kZXY7Cj4gKyAgICAgICBzdHJ1Y3QgaTkxNV9tbWFwX29mZnNldCAqbW1vID0g
TlVMTDsKPiArICAgICAgIHN0cnVjdCBkcm1fZ2VtX29iamVjdCAqb2JqID0gTlVMTDsKPiArCj4g
KyAgICAgICBpZiAoZHJtX2Rldl9pc191bnBsdWdnZWQoZGV2KSkKPiArICAgICAgICAgICAgICAg
cmV0dXJuIC1FTk9ERVY7Cj4gKwo+ICsgICAgICAgZHJtX3ZtYV9vZmZzZXRfbG9ja19sb29rdXAo
ZGV2LT52bWFfb2Zmc2V0X21hbmFnZXIpOwo+ICsgICAgICAgbm9kZSA9IGRybV92bWFfb2Zmc2V0
X2V4YWN0X2xvb2t1cF9sb2NrZWQoZGV2LT52bWFfb2Zmc2V0X21hbmFnZXIsCj4gKyAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2bWEtPnZtX3Bnb2ZmLAo+
ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdm1hX3Bh
Z2VzKHZtYSkpOwo+ICsgICAgICAgaWYgKGxpa2VseShub2RlKSkgewo+ICsgICAgICAgICAgICAg
ICBtbW8gPSBjb250YWluZXJfb2Yobm9kZSwgc3RydWN0IGk5MTVfbW1hcF9vZmZzZXQsCj4gKyAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2bWFfbm9kZSk7Cj4gKyAgICAgICAgICAg
ICAgIC8qCj4gKyAgICAgICAgICAgICAgICAqIFNraXAgMC1yZWZjbnRlZCBvYmplY3RzIGFzIGl0
IGlzIGluIHRoZSBwcm9jZXNzIG9mIGJlaW5nCj4gKyAgICAgICAgICAgICAgICAqIGRlc3Ryb3ll
ZCBhbmQgd2lsbCBiZSBpbnZhbGlkIHdoZW4gdGhlIHZtYSBtYW5hZ2VyIGxvY2sKPiArICAgICAg
ICAgICAgICAgICogaXMgcmVsZWFzZWQuCj4gKyAgICAgICAgICAgICAgICAqLwo+ICsgICAgICAg
ICAgICAgICBvYmogPSAmbW1vLT5vYmotPmJhc2U7Cj4gKyAgICAgICAgICAgICAgIGlmICgha3Jl
Zl9nZXRfdW5sZXNzX3plcm8oJm9iai0+cmVmY291bnQpKQo+ICsgICAgICAgICAgICAgICAgICAg
ICAgIG9iaiA9IE5VTEw7Cj4gKyAgICAgICB9Cj4gKyAgICAgICBkcm1fdm1hX29mZnNldF91bmxv
Y2tfbG9va3VwKGRldi0+dm1hX29mZnNldF9tYW5hZ2VyKTsKPiArCj4gKyAgICAgICBpZiAoIW9i
aikKPiArICAgICAgICAgICAgICAgcmV0dXJuIC1FSU5WQUw7Cj4gKwo+ICsgICAgICAgaWYgKCFk
cm1fdm1hX25vZGVfaXNfYWxsb3dlZChub2RlLCBwcml2KSkgewo+ICsgICAgICAgICAgICAgICBk
cm1fZ2VtX29iamVjdF9wdXRfdW5sb2NrZWQob2JqKTsKPiArICAgICAgICAgICAgICAgcmV0dXJu
IC1FQUNDRVM7Cj4gKyAgICAgICB9Cj4gKwo+ICsgICAgICAgaWYgKHRvX2ludGVsX2JvKG9iaikt
PnJlYWRvbmx5KSB7Cj4gKyAgICAgICAgICAgICAgIGlmICh2bWEtPnZtX2ZsYWdzICYgVk1fV1JJ
VEUpIHsKPiArICAgICAgICAgICAgICAgICAgICAgICBkcm1fZ2VtX29iamVjdF9wdXRfdW5sb2Nr
ZWQob2JqKTsKPiArICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gLUVJTlZBTDsKPiArICAg
ICAgICAgICAgICAgfQo+ICsKPiArICAgICAgICAgICAgICAgdm1hLT52bV9mbGFncyAmPSB+Vk1f
TUFZV1JJVEU7Cj4gKyAgICAgICB9Cj4gKwo+ICsgICAgICAgdm1hLT52bV9mbGFncyB8PSBWTV9Q
Rk5NQVAgfCBWTV9ET05URVhQQU5EIHwgVk1fRE9OVERVTVA7Cj4gKyAgICAgICB2bWEtPnZtX3Bh
Z2VfcHJvdCA9IHBncHJvdF93cml0ZWNvbWJpbmUodm1fZ2V0X3BhZ2VfcHJvdCh2bWEtPnZtX2Zs
YWdzKSk7Cj4gKyAgICAgICB2bWEtPnZtX3BhZ2VfcHJvdCA9IHBncHJvdF9kZWNyeXB0ZWQodm1h
LT52bV9wYWdlX3Byb3QpOwo+ICsgICAgICAgdm1hLT52bV9wcml2YXRlX2RhdGEgPSBtbW87Cj4g
Kwo+ICsgICAgICAgdm1hLT52bV9vcHMgPSAmaTkxNV9nZW1fZ3R0X3ZtX29wczsKPiArCj4gKyAg
ICAgICAvKgo+ICsgICAgICAgICogVGFrZSBhIHJlZiBmb3Igb3VyIG1tYXBfb2Zmc2V0IG9iamVj
dC4gVGhlIHJlZmVyZW5jZSBpcyBjbGVhbmVkCj4gKyAgICAgICAgKiB1cCB3aGVuIHRoZSB2bWEg
aXMgY2xvc2VkLgo+ICsgICAgICAgICovCj4gKyAgICAgICBrcmVmX2dldCgmbW1vLT5yZWYpOwo+
ICsKPiArICAgICAgIHJldHVybiAwOwo+ICB9Cj4KPiAgI2lmIElTX0VOQUJMRUQoQ09ORklHX0RS
TV9JOTE1X1NFTEZURVNUKQo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0v
aTkxNV9nZW1fb2JqZWN0LmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fb2Jq
ZWN0LmMKPiBpbmRleCBkNzg1NWRjNWE1YzUuLmViM2Q3ZjM1MjhmMyAxMDA2NDQKPiAtLS0gYS9k
cml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fb2JqZWN0LmMKPiArKysgYi9kcml2ZXJz
L2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fb2JqZWN0LmMKPiBAQCAtNTgsNiArNTgsOSBAQCB2
b2lkIGk5MTVfZ2VtX29iamVjdF9pbml0KHN0cnVjdCBkcm1faTkxNV9nZW1fb2JqZWN0ICpvYmos
Cj4KPiAgICAgICAgIElOSVRfTElTVF9IRUFEKCZvYmotPmx1dF9saXN0KTsKPgo+ICsgICAgICAg
bXV0ZXhfaW5pdCgmb2JqLT5tbW9fbG9jayk7Cj4gKyAgICAgICBJTklUX0xJU1RfSEVBRCgmb2Jq
LT5tbWFwX29mZnNldHMpOwo+ICsKPiAgICAgICAgIGluaXRfcmN1X2hlYWQoJm9iai0+cmN1KTsK
Pgo+ICAgICAgICAgb2JqLT5vcHMgPSBvcHM7Cj4gQEAgLTk0LDYgKzk3LDcgQEAgdm9pZCBpOTE1
X2dlbV9jbG9zZV9vYmplY3Qoc3RydWN0IGRybV9nZW1fb2JqZWN0ICpnZW0sIHN0cnVjdCBkcm1f
ZmlsZSAqZmlsZSkKPiAgICAgICAgIHN0cnVjdCBkcm1faTkxNV9nZW1fb2JqZWN0ICpvYmogPSB0
b19pbnRlbF9ibyhnZW0pOwo+ICAgICAgICAgc3RydWN0IGRybV9pOTE1X2ZpbGVfcHJpdmF0ZSAq
ZnByaXYgPSBmaWxlLT5kcml2ZXJfcHJpdjsKPiAgICAgICAgIHN0cnVjdCBpOTE1X2x1dF9oYW5k
bGUgKmx1dCwgKmxuOwo+ICsgICAgICAgc3RydWN0IGk5MTVfbW1hcF9vZmZzZXQgKm1tbywgKm9u
Owo+ICAgICAgICAgTElTVF9IRUFEKGNsb3NlKTsKPgo+ICAgICAgICAgaTkxNV9nZW1fb2JqZWN0
X2xvY2sob2JqKTsKPiBAQCAtMTA4LDYgKzExMiwxMyBAQCB2b2lkIGk5MTVfZ2VtX2Nsb3NlX29i
amVjdChzdHJ1Y3QgZHJtX2dlbV9vYmplY3QgKmdlbSwgc3RydWN0IGRybV9maWxlICpmaWxlKQo+
ICAgICAgICAgfQo+ICAgICAgICAgaTkxNV9nZW1fb2JqZWN0X3VubG9jayhvYmopOwo+Cj4gKyAg
ICAgICBtdXRleF9sb2NrKCZvYmotPm1tb19sb2NrKTsKPiArICAgICAgIGxpc3RfZm9yX2VhY2hf
ZW50cnlfc2FmZShtbW8sIG9uLCAmb2JqLT5tbWFwX29mZnNldHMsIG9mZnNldCkgewo+ICsgICAg
ICAgICAgICAgICBpZiAobW1vLT5maWxlID09IGZpbGUpCj4gKyAgICAgICAgICAgICAgICAgICAg
ICAga3JlZl9wdXQoJm1tby0+cmVmLCBpOTE1X21tYXBfb2Zmc2V0X29iamVjdF9yZWxlYXNlKTsK
PiArICAgICAgIH0KPiArICAgICAgIG11dGV4X3VubG9jaygmb2JqLT5tbW9fbG9jayk7Cj4gKwo+
ICAgICAgICAgbGlzdF9mb3JfZWFjaF9lbnRyeV9zYWZlKGx1dCwgbG4sICZjbG9zZSwgb2JqX2xp
bmspIHsKPiAgICAgICAgICAgICAgICAgc3RydWN0IGk5MTVfZ2VtX2NvbnRleHQgKmN0eCA9IGx1
dC0+Y3R4Owo+ICAgICAgICAgICAgICAgICBzdHJ1Y3QgaTkxNV92bWEgKnZtYTsKPiBAQCAtMTU2
LDYgKzE2Nyw3IEBAIHN0YXRpYyB2b2lkIF9faTkxNV9nZW1fZnJlZV9vYmplY3RzKHN0cnVjdCBk
cm1faTkxNV9wcml2YXRlICppOTE1LAo+ICAgICAgICAgd2FrZXJlZiA9IGludGVsX3J1bnRpbWVf
cG1fZ2V0KCZpOTE1LT5ydW50aW1lX3BtKTsKPiAgICAgICAgIGxsaXN0X2Zvcl9lYWNoX2VudHJ5
X3NhZmUob2JqLCBvbiwgZnJlZWQsIGZyZWVkKSB7Cj4gICAgICAgICAgICAgICAgIHN0cnVjdCBp
OTE1X3ZtYSAqdm1hLCAqdm47Cj4gKyAgICAgICAgICAgICAgIHN0cnVjdCBpOTE1X21tYXBfb2Zm
c2V0ICptbW8sICpvbjsKPgo+ICAgICAgICAgICAgICAgICB0cmFjZV9pOTE1X2dlbV9vYmplY3Rf
ZGVzdHJveShvYmopOwo+Cj4gQEAgLTE2OSw2ICsxODEsMTMgQEAgc3RhdGljIHZvaWQgX19pOTE1
X2dlbV9mcmVlX29iamVjdHMoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUsCj4gICAgICAg
ICAgICAgICAgIEdFTV9CVUdfT04oIWxpc3RfZW1wdHkoJm9iai0+dm1hLmxpc3QpKTsKPiAgICAg
ICAgICAgICAgICAgR0VNX0JVR19PTighUkJfRU1QVFlfUk9PVCgmb2JqLT52bWEudHJlZSkpOwo+
Cj4gKyAgICAgICAgICAgICAgIGk5MTVfZ2VtX29iamVjdF9yZWxlYXNlX21tYXAob2JqKTsKPiAr
Cj4gKyAgICAgICAgICAgICAgIG11dGV4X2xvY2soJm9iai0+bW1vX2xvY2spOwo+ICsgICAgICAg
ICAgICAgICBsaXN0X2Zvcl9lYWNoX2VudHJ5X3NhZmUobW1vLCBvbiwgJm9iai0+bW1hcF9vZmZz
ZXRzLCBvZmZzZXQpCj4gKyAgICAgICAgICAgICAgICAgICAgICAga3JlZl9wdXQoJm1tby0+cmVm
LCBpOTE1X21tYXBfb2Zmc2V0X29iamVjdF9yZWxlYXNlKTsKPiArICAgICAgICAgICAgICAgbXV0
ZXhfdW5sb2NrKCZvYmotPm1tb19sb2NrKTsKPiArCj4gICAgICAgICAgICAgICAgIG11dGV4X3Vu
bG9jaygmaTkxNS0+ZHJtLnN0cnVjdF9tdXRleCk7Cj4KPiAgICAgICAgICAgICAgICAgR0VNX0JV
R19PTihhdG9taWNfcmVhZCgmb2JqLT5iaW5kX2NvdW50KSk7Cj4gZGlmZiAtLWdpdCBhL2RyaXZl
cnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9vYmplY3QuaCBiL2RyaXZlcnMvZ3B1L2RybS9p
OTE1L2dlbS9pOTE1X2dlbV9vYmplY3QuaAo+IGluZGV4IDVlZmI5OTM2ZTA1Yi4uZDY2N2VkOGJi
MGE2IDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9vYmpl
Y3QuaAo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9vYmplY3QuaAo+
IEBAIC0xMjUsMTMgKzEyNSwxMyBAQCB2b2lkIGk5MTVfZ2VtX29iamVjdF91bmxvY2tfZmVuY2Uo
c3RydWN0IGRybV9pOTE1X2dlbV9vYmplY3QgKm9iaiwKPiAgc3RhdGljIGlubGluZSB2b2lkCj4g
IGk5MTVfZ2VtX29iamVjdF9zZXRfcmVhZG9ubHkoc3RydWN0IGRybV9pOTE1X2dlbV9vYmplY3Qg
Km9iaikKPiAgewo+IC0gICAgICAgb2JqLT5iYXNlLnZtYV9ub2RlLnJlYWRvbmx5ID0gdHJ1ZTsK
PiArICAgICAgIG9iai0+cmVhZG9ubHkgPSB0cnVlOwo+ICB9Cj4KPiAgc3RhdGljIGlubGluZSBi
b29sCj4gIGk5MTVfZ2VtX29iamVjdF9pc19yZWFkb25seShjb25zdCBzdHJ1Y3QgZHJtX2k5MTVf
Z2VtX29iamVjdCAqb2JqKQo+ICB7Cj4gLSAgICAgICByZXR1cm4gb2JqLT5iYXNlLnZtYV9ub2Rl
LnJlYWRvbmx5Owo+ICsgICAgICAgcmV0dXJuIG9iai0+cmVhZG9ubHk7Cj4gIH0KPgo+ICBzdGF0
aWMgaW5saW5lIGJvb2wKPiBAQCAtNDIzLDYgKzQyMyw5IEBAIGludCBpOTE1X2dlbV9vYmplY3Rf
d2FpdChzdHJ1Y3QgZHJtX2k5MTVfZ2VtX29iamVjdCAqb2JqLAo+ICBpbnQgaTkxNV9nZW1fb2Jq
ZWN0X3dhaXRfcHJpb3JpdHkoc3RydWN0IGRybV9pOTE1X2dlbV9vYmplY3QgKm9iaiwKPiAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5zaWduZWQgaW50IGZsYWdzLAo+ICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzdHJ1Y3QgaTkxNV9zY2hlZF9hdHRy
ICphdHRyKTsKPiArCj4gK3ZvaWQgaTkxNV9tbWFwX29mZnNldF9vYmplY3RfcmVsZWFzZShzdHJ1
Y3Qga3JlZiAqcmVmKTsKPiArCj4gICNkZWZpbmUgSTkxNV9QUklPUklUWV9ESVNQTEFZIEk5MTVf
VVNFUl9QUklPUklUWShJOTE1X1BSSU9SSVRZX01BWCkKPgo+ICAjZW5kaWYKPiBkaWZmIC0tZ2l0
IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX29iamVjdF90eXBlcy5oIGIvZHJp
dmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX29iamVjdF90eXBlcy5oCj4gaW5kZXggZWRl
MGViNDIxOGE4Li5kNzRkZGI0NzkzMTggMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5
MTUvZ2VtL2k5MTVfZ2VtX29iamVjdF90eXBlcy5oCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5
MTUvZ2VtL2k5MTVfZ2VtX29iamVjdF90eXBlcy5oCj4gQEAgLTYwLDYgKzYwLDE5IEBAIHN0cnVj
dCBkcm1faTkxNV9nZW1fb2JqZWN0X29wcyB7Cj4gICAgICAgICB2b2lkICgqcmVsZWFzZSkoc3Ry
dWN0IGRybV9pOTE1X2dlbV9vYmplY3QgKm9iaik7Cj4gIH07Cj4KPiArZW51bSBpOTE1X21tYXBf
dHlwZSB7Cj4gKyAgICAgICBJOTE1X01NQVBfVFlQRV9HVFQgPSAwLAo+ICt9Owo+ICsKPiArc3Ry
dWN0IGk5MTVfbW1hcF9vZmZzZXQgewo+ICsgICAgICAgc3RydWN0IGRybV92bWFfb2Zmc2V0X25v
ZGUgdm1hX25vZGU7Cj4gKyAgICAgICBzdHJ1Y3QgZHJtX2k5MTVfZ2VtX29iamVjdCAqb2JqOwo+
ICsgICAgICAgc3RydWN0IGRybV9maWxlICpmaWxlOwo+ICsgICAgICAgZW51bSBpOTE1X21tYXBf
dHlwZSBtbWFwX3R5cGU7Cj4gKyAgICAgICBzdHJ1Y3Qga3JlZiByZWY7Cj4gKyAgICAgICBzdHJ1
Y3QgbGlzdF9oZWFkIG9mZnNldDsKPiArfTsKPiArCj4gIHN0cnVjdCBkcm1faTkxNV9nZW1fb2Jq
ZWN0IHsKPiAgICAgICAgIHN0cnVjdCBkcm1fZ2VtX29iamVjdCBiYXNlOwo+Cj4gQEAgLTExNSw2
ICsxMjgsMTEgQEAgc3RydWN0IGRybV9pOTE1X2dlbV9vYmplY3Qgewo+ICAgICAgICAgdW5zaWdu
ZWQgaW50IHVzZXJmYXVsdF9jb3VudDsKPiAgICAgICAgIHN0cnVjdCBsaXN0X2hlYWQgdXNlcmZh
dWx0X2xpbms7Cj4KPiArICAgICAgIC8qIFByb3RlY3RzIGFjY2VzcyB0byBtbWFwIG9mZnNldHMg
Ki8KPiArICAgICAgIHN0cnVjdCBtdXRleCBtbW9fbG9jazsKPiArICAgICAgIHN0cnVjdCBsaXN0
X2hlYWQgbW1hcF9vZmZzZXRzOwo+ICsgICAgICAgYm9vbCByZWFkb25seToxOwo+ICsKPiAgICAg
ICAgIEk5MTVfU0VMRlRFU1RfREVDTEFSRShzdHJ1Y3QgbGlzdF9oZWFkIHN0X2xpbmspOwo+Cj4g
ICAgICAgICAvKgo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vc2VsZnRl
c3RzL2k5MTVfZ2VtX21tYW4uYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9zZWxmdGVzdHMv
aTkxNV9nZW1fbW1hbi5jCj4gaW5kZXggMWQyN2JhYmZmMGNlLi5hNzUxMzQyMWIxZGIgMTAwNjQ0
Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL3NlbGZ0ZXN0cy9pOTE1X2dlbV9tbWFu
LmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vc2VsZnRlc3RzL2k5MTVfZ2VtX21t
YW4uYwo+IEBAIC0zNzEsMTUgKzM3MSwyMCBAQCBzdGF0aWMgYm9vbCBhc3NlcnRfbW1hcF9vZmZz
ZXQoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUsCj4gICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgIGludCBleHBlY3RlZCkKPiAgewo+ICAgICAgICAgc3RydWN0IGRybV9pOTE1X2dl
bV9vYmplY3QgKm9iajsKPiArICAgICAgIC8qIHJlZmNvdW50ZWQgaW4gY3JlYXRlX21tYXBfb2Zm
c2V0ICovCj4gKyAgICAgICBzdHJ1Y3QgaTkxNV9tbWFwX29mZnNldCAqbW1vID0ga3phbGxvYyhz
aXplb2YoKm1tbyksIEdGUF9LRVJORUwpOwo+ICAgICAgICAgaW50IGVycjsKPgo+ICAgICAgICAg
b2JqID0gaTkxNV9nZW1fb2JqZWN0X2NyZWF0ZV9pbnRlcm5hbChpOTE1LCBzaXplKTsKPiAgICAg
ICAgIGlmIChJU19FUlIob2JqKSkKPiAgICAgICAgICAgICAgICAgcmV0dXJuIFBUUl9FUlIob2Jq
KTsKPgo+IC0gICAgICAgZXJyID0gY3JlYXRlX21tYXBfb2Zmc2V0KG9iaik7Cj4gKyAgICAgICBl
cnIgPSBjcmVhdGVfbW1hcF9vZmZzZXQob2JqLCBtbW8pOwo+ICsgICAgICAgaWYgKGVycikKPiAr
ICAgICAgICAgICAgICAga2ZyZWUobW1vKTsKPiAgICAgICAgIGk5MTVfZ2VtX29iamVjdF9wdXQo
b2JqKTsKPgo+ICsKPiAgICAgICAgIHJldHVybiBlcnIgPT0gZXhwZWN0ZWQ7Cj4gIH0KPgo+IEBA
IC00MjIsNiArNDI3LDggQEAgc3RhdGljIGludCBpZ3RfbW1hcF9vZmZzZXRfZXhoYXVzdGlvbih2
b2lkICphcmcpCj4gICAgICAgICBzdHJ1Y3QgZHJtX21tICptbSA9ICZpOTE1LT5kcm0udm1hX29m
ZnNldF9tYW5hZ2VyLT52bV9hZGRyX3NwYWNlX21tOwo+ICAgICAgICAgc3RydWN0IGRybV9pOTE1
X2dlbV9vYmplY3QgKm9iajsKPiAgICAgICAgIHN0cnVjdCBkcm1fbW1fbm9kZSByZXN2LCAqaG9s
ZTsKPiArICAgICAgIC8qIHJlZmNvdW50ZWQgaW4gY3JlYXRlX21tYXBfb2Zmc2V0ICovCj4gKyAg
ICAgICBzdHJ1Y3QgaTkxNV9tbWFwX29mZnNldCAqbW1vID0ga3phbGxvYyhzaXplb2YoKm1tbyks
IEdGUF9LRVJORUwpOwo+ICAgICAgICAgdTY0IGhvbGVfc3RhcnQsIGhvbGVfZW5kOwo+ICAgICAg
ICAgaW50IGxvb3AsIGVycjsKPgo+IEBAIC00NjUsOSArNDcyLDEwIEBAIHN0YXRpYyBpbnQgaWd0
X21tYXBfb2Zmc2V0X2V4aGF1c3Rpb24odm9pZCAqYXJnKQo+ICAgICAgICAgICAgICAgICBnb3Rv
IG91dDsKPiAgICAgICAgIH0KPgo+IC0gICAgICAgZXJyID0gY3JlYXRlX21tYXBfb2Zmc2V0KG9i
aik7Cj4gKyAgICAgICBlcnIgPSBjcmVhdGVfbW1hcF9vZmZzZXQob2JqLCBtbW8pOwo+ICAgICAg
ICAgaWYgKGVycikgewo+ICAgICAgICAgICAgICAgICBwcl9lcnIoIlVuYWJsZSB0byBpbnNlcnQg
b2JqZWN0IGludG8gcmVjbGFpbWVkIGhvbGVcbiIpOwo+ICsgICAgICAgICAgICAgICBrZnJlZSht
bW8pOwo+ICAgICAgICAgICAgICAgICBnb3RvIGVycl9vYmo7Cj4gICAgICAgICB9Cj4KPiBkaWZm
IC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfcmVzZXQuYyBiL2RyaXZlcnMv
Z3B1L2RybS9pOTE1L2d0L2ludGVsX3Jlc2V0LmMKPiBpbmRleCBiOWQ4NGQ1MmU5ODYuLjdiODJl
Zjg4OGI5NiAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9yZXNl
dC5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfcmVzZXQuYwo+IEBAIC02
MjgsNiArNjI4LDcgQEAgc3RhdGljIHZvaWQgcmV2b2tlX21tYXBzKHN0cnVjdCBpbnRlbF9ndCAq
Z3QpCj4KPiAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBndC0+Z2d0dC0+bnVtX2ZlbmNlczsgaSsr
KSB7Cj4gICAgICAgICAgICAgICAgIHN0cnVjdCBkcm1fdm1hX29mZnNldF9ub2RlICpub2RlOwo+
ICsgICAgICAgICAgICAgICBzdHJ1Y3QgaTkxNV9tbWFwX29mZnNldCAqbW1vOwo+ICAgICAgICAg
ICAgICAgICBzdHJ1Y3QgaTkxNV92bWEgKnZtYTsKPiAgICAgICAgICAgICAgICAgdTY0IHZtYV9v
ZmZzZXQ7Cj4KPiBAQCAtNjQxLDEwICs2NDIsMTggQEAgc3RhdGljIHZvaWQgcmV2b2tlX21tYXBz
KHN0cnVjdCBpbnRlbF9ndCAqZ3QpCj4gICAgICAgICAgICAgICAgIEdFTV9CVUdfT04odm1hLT5m
ZW5jZSAhPSAmZ3QtPmdndHQtPmZlbmNlX3JlZ3NbaV0pOwo+ICAgICAgICAgICAgICAgICBub2Rl
ID0gJnZtYS0+b2JqLT5iYXNlLnZtYV9ub2RlOwo+ICAgICAgICAgICAgICAgICB2bWFfb2Zmc2V0
ID0gdm1hLT5nZ3R0X3ZpZXcucGFydGlhbC5vZmZzZXQgPDwgUEFHRV9TSElGVDsKPiAtICAgICAg
ICAgICAgICAgdW5tYXBfbWFwcGluZ19yYW5nZShndC0+aTkxNS0+ZHJtLmFub25faW5vZGUtPmlf
bWFwcGluZywKPiArCj4gKyAgICAgICAgICAgICAgIGxpc3RfZm9yX2VhY2hfZW50cnkobW1vLCAm
dm1hLT5vYmotPm1tYXBfb2Zmc2V0cywgb2Zmc2V0KSB7Cj4gKyAgICAgICAgICAgICAgICAgICAg
ICAgbm9kZSA9ICZtbW8tPnZtYV9ub2RlOwo+ICsgICAgICAgICAgICAgICAgICAgICAgIGlmICgh
ZHJtX21tX25vZGVfYWxsb2NhdGVkKCZub2RlLT52bV9ub2RlKSB8fAo+ICsgICAgICAgICAgICAg
ICAgICAgICAgICAgICBtbW8tPm1tYXBfdHlwZSAhPSBJOTE1X01NQVBfVFlQRV9HVFQpCj4gKyAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTsKPiArCj4gKyAgICAgICAgICAg
ICAgICAgICAgICAgdW5tYXBfbWFwcGluZ19yYW5nZShndC0+aTkxNS0+ZHJtLmFub25faW5vZGUt
PmlfbWFwcGluZywKPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkcm1fdm1h
X25vZGVfb2Zmc2V0X2FkZHIobm9kZSkgKyB2bWFfb2Zmc2V0LAo+ICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgIHZtYS0+c2l6ZSwKPiAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAxKTsKPiArICAgICAgICAgICAgICAgfQo+ICAgICAgICAgfQo+ICB9Cj4KPiBk
aWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kcnYuYyBiL2RyaXZlcnMvZ3B1
L2RybS9pOTE1L2k5MTVfZHJ2LmMKPiBpbmRleCAxYzQ1NzZhNGE1ZTkuLmJkZDU5NzIwMDk4NCAx
MDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2Rydi5jCj4gKysrIGIvZHJp
dmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kcnYuYwo+IEBAIC0yNzIyLDE4ICsyNzIyLDEyIEBAIGNv
bnN0IHN0cnVjdCBkZXZfcG1fb3BzIGk5MTVfcG1fb3BzID0gewo+ICAgICAgICAgLnJ1bnRpbWVf
cmVzdW1lID0gaW50ZWxfcnVudGltZV9yZXN1bWUsCj4gIH07Cj4KPiAtc3RhdGljIGNvbnN0IHN0
cnVjdCB2bV9vcGVyYXRpb25zX3N0cnVjdCBpOTE1X2dlbV92bV9vcHMgPSB7Cj4gLSAgICAgICAu
ZmF1bHQgPSBpOTE1X2dlbV9mYXVsdCwKPiAtICAgICAgIC5vcGVuID0gZHJtX2dlbV92bV9vcGVu
LAo+IC0gICAgICAgLmNsb3NlID0gZHJtX2dlbV92bV9jbG9zZSwKPiAtfTsKPiAtCj4gIHN0YXRp
YyBjb25zdCBzdHJ1Y3QgZmlsZV9vcGVyYXRpb25zIGk5MTVfZHJpdmVyX2ZvcHMgPSB7Cj4gICAg
ICAgICAub3duZXIgPSBUSElTX01PRFVMRSwKPiAgICAgICAgIC5vcGVuID0gZHJtX29wZW4sCj4g
ICAgICAgICAucmVsZWFzZSA9IGRybV9yZWxlYXNlLAo+ICAgICAgICAgLnVubG9ja2VkX2lvY3Rs
ID0gZHJtX2lvY3RsLAo+IC0gICAgICAgLm1tYXAgPSBkcm1fZ2VtX21tYXAsCj4gKyAgICAgICAu
bW1hcCA9IGk5MTVfZ2VtX21tYXAsCj4gICAgICAgICAucG9sbCA9IGRybV9wb2xsLAo+ICAgICAg
ICAgLnJlYWQgPSBkcm1fcmVhZCwKPiAgICAgICAgIC5jb21wYXRfaW9jdGwgPSBpOTE1X2NvbXBh
dF9pb2N0bCwKPiBAQCAtMjgyMiw3ICsyODE2LDYgQEAgc3RhdGljIHN0cnVjdCBkcm1fZHJpdmVy
IGRyaXZlciA9IHsKPgo+ICAgICAgICAgLmdlbV9jbG9zZV9vYmplY3QgPSBpOTE1X2dlbV9jbG9z
ZV9vYmplY3QsCj4gICAgICAgICAuZ2VtX2ZyZWVfb2JqZWN0X3VubG9ja2VkID0gaTkxNV9nZW1f
ZnJlZV9vYmplY3QsCj4gLSAgICAgICAuZ2VtX3ZtX29wcyA9ICZpOTE1X2dlbV92bV9vcHMsCj4K
PiAgICAgICAgIC5wcmltZV9oYW5kbGVfdG9fZmQgPSBkcm1fZ2VtX3ByaW1lX2hhbmRsZV90b19m
ZCwKPiAgICAgICAgIC5wcmltZV9mZF90b19oYW5kbGUgPSBkcm1fZ2VtX3ByaW1lX2ZkX3RvX2hh
bmRsZSwKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kcnYuaCBiL2Ry
aXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZHJ2LmgKPiBpbmRleCBiNDI2NTFhMzg3ZDkuLmJmMjky
N2U4OGUxNCAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2Rydi5oCj4g
KysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kcnYuaAo+IEBAIC0yMzI3LDYgKzIzMjcs
NyBAQCBpbnQgaTkxNV9nZW1fd2FpdF9mb3JfaWRsZShzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAq
ZGV2X3ByaXYsCj4gIHZvaWQgaTkxNV9nZW1fc3VzcGVuZChzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0
ZSAqZGV2X3ByaXYpOwo+ICB2b2lkIGk5MTVfZ2VtX3N1c3BlbmRfbGF0ZShzdHJ1Y3QgZHJtX2k5
MTVfcHJpdmF0ZSAqZGV2X3ByaXYpOwo+ICB2b2lkIGk5MTVfZ2VtX3Jlc3VtZShzdHJ1Y3QgZHJt
X2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYpOwo+ICtpbnQgaTkxNV9nZW1fbW1hcChzdHJ1Y3QgZmls
ZSAqZmlscCwgc3RydWN0IHZtX2FyZWFfc3RydWN0ICp2bWEpOwo+ICB2bV9mYXVsdF90IGk5MTVf
Z2VtX2ZhdWx0KHN0cnVjdCB2bV9mYXVsdCAqdm1mKTsKPgo+ICBpbnQgaTkxNV9nZW1fb3Blbihz
dHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSwgc3RydWN0IGRybV9maWxlICpmaWxlKTsKPiBk
aWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV92bWEuYyBiL2RyaXZlcnMvZ3B1
L2RybS9pOTE1L2k5MTVfdm1hLmMKPiBpbmRleCBlMGU2NzdiMmEzYTkuLjY3NzMyMzY0NDMxOSAx
MDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3ZtYS5jCj4gKysrIGIvZHJp
dmVycy9ncHUvZHJtL2k5MTUvaTkxNV92bWEuYwo+IEBAIC04NjEsNyArODYxLDggQEAgc3RhdGlj
IHZvaWQgX19pOTE1X3ZtYV9pb3VubWFwKHN0cnVjdCBpOTE1X3ZtYSAqdm1hKQo+Cj4gIHZvaWQg
aTkxNV92bWFfcmV2b2tlX21tYXAoc3RydWN0IGk5MTVfdm1hICp2bWEpCj4gIHsKPiAtICAgICAg
IHN0cnVjdCBkcm1fdm1hX29mZnNldF9ub2RlICpub2RlID0gJnZtYS0+b2JqLT5iYXNlLnZtYV9u
b2RlOwo+ICsgICAgICAgc3RydWN0IGRybV92bWFfb2Zmc2V0X25vZGUgKm5vZGU7Cj4gKyAgICAg
ICBzdHJ1Y3QgaTkxNV9tbWFwX29mZnNldCAqbW1vOwo+ICAgICAgICAgdTY0IHZtYV9vZmZzZXQ7
Cj4KPiAgICAgICAgIGxvY2tkZXBfYXNzZXJ0X2hlbGQoJnZtYS0+dm0tPm11dGV4KTsKPiBAQCAt
ODczLDEwICs4NzQsMTkgQEAgdm9pZCBpOTE1X3ZtYV9yZXZva2VfbW1hcChzdHJ1Y3QgaTkxNV92
bWEgKnZtYSkKPiAgICAgICAgIEdFTV9CVUdfT04oIXZtYS0+b2JqLT51c2VyZmF1bHRfY291bnQp
Owo+Cj4gICAgICAgICB2bWFfb2Zmc2V0ID0gdm1hLT5nZ3R0X3ZpZXcucGFydGlhbC5vZmZzZXQg
PDwgUEFHRV9TSElGVDsKPiAtICAgICAgIHVubWFwX21hcHBpbmdfcmFuZ2Uodm1hLT52bS0+aTkx
NS0+ZHJtLmFub25faW5vZGUtPmlfbWFwcGluZywKPiAtICAgICAgICAgICAgICAgICAgICAgICAg
ICAgZHJtX3ZtYV9ub2RlX29mZnNldF9hZGRyKG5vZGUpICsgdm1hX29mZnNldCwKPiAtICAgICAg
ICAgICAgICAgICAgICAgICAgICAgdm1hLT5zaXplLAo+IC0gICAgICAgICAgICAgICAgICAgICAg
ICAgICAxKTsKPiArCj4gKyAgICAgICBsaXN0X2Zvcl9lYWNoX2VudHJ5KG1tbywgJnZtYS0+b2Jq
LT5tbWFwX29mZnNldHMsIG9mZnNldCkgewo+ICsgICAgICAgICAgICAgICBub2RlID0gJm1tby0+
dm1hX25vZGU7Cj4gKyAgICAgICAgICAgICAgIC8qIE9ubHkgZ3R0LW1tYXBzIGZvciB0aGlzIHZt
YSBzaG91bGQgYmUgdW5tYXBwZWQgKi8KPiArICAgICAgICAgICAgICAgaWYgKCFkcm1fbW1fbm9k
ZV9hbGxvY2F0ZWQoJm5vZGUtPnZtX25vZGUpIHx8Cj4gKyAgICAgICAgICAgICAgICAgICBtbW8t
Pm1tYXBfdHlwZSAhPSBJOTE1X01NQVBfVFlQRV9HVFQpCj4gKyAgICAgICAgICAgICAgICAgICAg
ICAgY29udGludWU7Cj4gKwo+ICsgICAgICAgICAgICAgICB1bm1hcF9tYXBwaW5nX3JhbmdlKHZt
YS0+dm0tPmk5MTUtPmRybS5hbm9uX2lub2RlLT5pX21hcHBpbmcsCj4gKyAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgZHJtX3ZtYV9ub2RlX29mZnNldF9hZGRyKG5vZGUpICsgdm1h
X29mZnNldCwKPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2bWEtPnNpemUs
Cj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMSk7Cj4gKyAgICAgICB9Cj4K
PiAgICAgICAgIGk5MTVfdm1hX3Vuc2V0X3VzZXJmYXVsdCh2bWEpOwo+ICAgICAgICAgaWYgKCEt
LXZtYS0+b2JqLT51c2VyZmF1bHRfY291bnQpCj4gLS0KPiAyLjIzLjAKPgo+IF9fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCj4gSW50ZWwtZ2Z4IG1haWxpbmcg
bGlzdAo+IEludGVsLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKPiBodHRwczovL2xpc3RzLmZy
ZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2ludGVsLWdmeAoKCgotLSAKRGFuaWVsIFZl
dHRlcgpTb2Z0d2FyZSBFbmdpbmVlciwgSW50ZWwgQ29ycG9yYXRpb24KKzQxICgwKSA3OSAzNjUg
NTcgNDggLSBodHRwOi8vYmxvZy5mZndsbC5jaApfX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fXwpJbnRlbC1nZnggbWFpbGluZyBsaXN0CkludGVsLWdmeEBsaXN0
cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9s
aXN0aW5mby9pbnRlbC1nZng=

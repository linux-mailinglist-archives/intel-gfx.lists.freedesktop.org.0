Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 3F0E2E8BA0
	for <lists+intel-gfx@lfdr.de>; Tue, 29 Oct 2019 16:16:24 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id B45FC6E423;
	Tue, 29 Oct 2019 15:16:22 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga05.intel.com (mga05.intel.com [192.55.52.43])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 056F16E423
 for <intel-gfx@lists.freedesktop.org>; Tue, 29 Oct 2019 15:16:20 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from fmsmga001.fm.intel.com ([10.253.24.23])
 by fmsmga105.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 29 Oct 2019 08:16:20 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.68,244,1569308400"; d="scan'208";a="211120794"
Received: from stinkbox.fi.intel.com (HELO stinkbox) ([10.237.72.174])
 by fmsmga001.fm.intel.com with SMTP; 29 Oct 2019 08:16:18 -0700
Received: by stinkbox (sSMTP sendmail emulation);
 Tue, 29 Oct 2019 17:16:17 +0200
From: Ville Syrjala <ville.syrjala@linux.intel.com>
To: intel-gfx@lists.freedesktop.org
Date: Tue, 29 Oct 2019 17:16:11 +0200
Message-Id: <20191029151614.16929-2-ville.syrjala@linux.intel.com>
X-Mailer: git-send-email 2.23.0
In-Reply-To: <20191029151614.16929-1-ville.syrjala@linux.intel.com>
References: <20191029151614.16929-1-ville.syrjala@linux.intel.com>
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH 2/5] drm/i915: Switch to intel_ types in debugfs
 display_info
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

RnJvbTogVmlsbGUgU3lyasOkbMOkIDx2aWxsZS5zeXJqYWxhQGxpbnV4LmludGVsLmNvbT4KClN3
aXRjaCB0byB1c2luZyBpbnRlbF8gdHlwZXMgaW4gdGhlICBkZWJ1Z2ZzIGRpc3BsYXlfaW5mbyBj
b2RlLgpTaG91bGQgbWFrZSBpdCBlYXNpZXIgdG8gaGFuZGxlIGJpZ2pvaW5lciBldGMuIGluIHRo
ZSBmdXR1cmUuCgpTaWduZWQtb2ZmLWJ5OiBWaWxsZSBTeXJqw6Rsw6QgPHZpbGxlLnN5cmphbGFA
bGludXguaW50ZWwuY29tPgotLS0KIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZGVidWdmcy5j
IHwgMTE5ICsrKysrKysrKysrKysrLS0tLS0tLS0tLS0tLS0KIDEgZmlsZSBjaGFuZ2VkLCA1OSBp
bnNlcnRpb25zKCspLCA2MCBkZWxldGlvbnMoLSkKCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9k
cm0vaTkxNS9pOTE1X2RlYnVnZnMuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZGVidWdm
cy5jCmluZGV4IDgzNjVjMGIxNWU5ZC4uNjMzNWJmYmU0YTA2IDEwMDY0NAotLS0gYS9kcml2ZXJz
L2dwdS9kcm0vaTkxNS9pOTE1X2RlYnVnZnMuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9p
OTE1X2RlYnVnZnMuYwpAQCAtMjM2Nyw3ICsyMzY3LDcgQEAgc3RhdGljIGludCBpOTE1X2RtY19p
bmZvKHN0cnVjdCBzZXFfZmlsZSAqbSwgdm9pZCAqdW51c2VkKQogfQogCiBzdGF0aWMgdm9pZCBp
bnRlbF9zZXFfcHJpbnRfbW9kZShzdHJ1Y3Qgc2VxX2ZpbGUgKm0sIGludCB0YWJzLAotCQkJCSBz
dHJ1Y3QgZHJtX2Rpc3BsYXlfbW9kZSAqbW9kZSkKKwkJCQkgY29uc3Qgc3RydWN0IGRybV9kaXNw
bGF5X21vZGUgKm1vZGUpCiB7CiAJaW50IGk7CiAKQEAgLTIzNzgsNTEgKzIzNzgsNTIgQEAgc3Rh
dGljIHZvaWQgaW50ZWxfc2VxX3ByaW50X21vZGUoc3RydWN0IHNlcV9maWxlICptLCBpbnQgdGFi
cywKIH0KIAogc3RhdGljIHZvaWQgaW50ZWxfZW5jb2Rlcl9pbmZvKHN0cnVjdCBzZXFfZmlsZSAq
bSwKLQkJCSAgICAgICBzdHJ1Y3QgaW50ZWxfY3J0YyAqaW50ZWxfY3J0YywKLQkJCSAgICAgICBz
dHJ1Y3QgaW50ZWxfZW5jb2RlciAqaW50ZWxfZW5jb2RlcikKKwkJCSAgICAgICBzdHJ1Y3QgaW50
ZWxfY3J0YyAqY3J0YywKKwkJCSAgICAgICBzdHJ1Y3QgaW50ZWxfZW5jb2RlciAqZW5jb2RlcikK
IHsKIAlzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYgPSBub2RlX3RvX2k5MTUobS0+
cHJpdmF0ZSk7CiAJc3RydWN0IGRybV9kZXZpY2UgKmRldiA9ICZkZXZfcHJpdi0+ZHJtOwotCXN0
cnVjdCBkcm1fY3J0YyAqY3J0YyA9ICZpbnRlbF9jcnRjLT5iYXNlOwotCXN0cnVjdCBpbnRlbF9j
b25uZWN0b3IgKmludGVsX2Nvbm5lY3RvcjsKLQlzdHJ1Y3QgZHJtX2VuY29kZXIgKmVuY29kZXI7
CisJc3RydWN0IGludGVsX2Nvbm5lY3RvciAqY29ubmVjdG9yOwogCi0JZW5jb2RlciA9ICZpbnRl
bF9lbmNvZGVyLT5iYXNlOwogCXNlcV9wcmludGYobSwgIlx0ZW5jb2RlciAlZDogdHlwZTogJXMs
IGNvbm5lY3RvcnM6XG4iLAotCQkgICBlbmNvZGVyLT5iYXNlLmlkLCBlbmNvZGVyLT5uYW1lKTsK
LQlmb3JfZWFjaF9jb25uZWN0b3Jfb25fZW5jb2RlcihkZXYsIGVuY29kZXIsIGludGVsX2Nvbm5l
Y3RvcikgewotCQlzdHJ1Y3QgZHJtX2Nvbm5lY3RvciAqY29ubmVjdG9yID0gJmludGVsX2Nvbm5l
Y3Rvci0+YmFzZTsKKwkJICAgZW5jb2Rlci0+YmFzZS5iYXNlLmlkLCBlbmNvZGVyLT5iYXNlLm5h
bWUpOworCisJZm9yX2VhY2hfY29ubmVjdG9yX29uX2VuY29kZXIoZGV2LCAmZW5jb2Rlci0+YmFz
ZSwgY29ubmVjdG9yKSB7CiAJCXNlcV9wcmludGYobSwgIlx0XHRjb25uZWN0b3IgJWQ6IHR5cGU6
ICVzLCBzdGF0dXM6ICVzIiwKLQkJCSAgIGNvbm5lY3Rvci0+YmFzZS5pZCwKLQkJCSAgIGNvbm5l
Y3Rvci0+bmFtZSwKLQkJCSAgIGRybV9nZXRfY29ubmVjdG9yX3N0YXR1c19uYW1lKGNvbm5lY3Rv
ci0+c3RhdHVzKSk7Ci0JCWlmIChjb25uZWN0b3ItPnN0YXR1cyA9PSBjb25uZWN0b3Jfc3RhdHVz
X2Nvbm5lY3RlZCkgewotCQkJc3RydWN0IGRybV9kaXNwbGF5X21vZGUgKm1vZGUgPSAmY3J0Yy0+
bW9kZTsKKwkJCSAgIGNvbm5lY3Rvci0+YmFzZS5iYXNlLmlkLCBjb25uZWN0b3ItPmJhc2UubmFt
ZSwKKwkJCSAgIGRybV9nZXRfY29ubmVjdG9yX3N0YXR1c19uYW1lKGNvbm5lY3Rvci0+YmFzZS5z
dGF0dXMpKTsKKworCQlpZiAoY29ubmVjdG9yLT5iYXNlLnN0YXR1cyA9PSBjb25uZWN0b3Jfc3Rh
dHVzX2Nvbm5lY3RlZCkgeworCQkJY29uc3Qgc3RydWN0IGludGVsX2NydGNfc3RhdGUgKmNydGNf
c3RhdGUgPQorCQkJCXRvX2ludGVsX2NydGNfc3RhdGUoY3J0Yy0+YmFzZS5zdGF0ZSk7CisKIAkJ
CXNlcV9wcmludGYobSwgIiwgbW9kZTpcbiIpOwotCQkJaW50ZWxfc2VxX3ByaW50X21vZGUobSwg
MiwgbW9kZSk7CisJCQlpbnRlbF9zZXFfcHJpbnRfbW9kZShtLCAyLCAmY3J0Y19zdGF0ZS0+YmFz
ZS5tb2RlKTsKIAkJfSBlbHNlIHsKIAkJCXNlcV9wdXRjKG0sICdcbicpOwogCQl9CiAJfQogfQog
Ci1zdGF0aWMgdm9pZCBpbnRlbF9jcnRjX2luZm8oc3RydWN0IHNlcV9maWxlICptLCBzdHJ1Y3Qg
aW50ZWxfY3J0YyAqaW50ZWxfY3J0YykKK3N0YXRpYyB2b2lkIGludGVsX2NydGNfaW5mbyhzdHJ1
Y3Qgc2VxX2ZpbGUgKm0sIHN0cnVjdCBpbnRlbF9jcnRjICpjcnRjKQogewogCXN0cnVjdCBkcm1f
aTkxNV9wcml2YXRlICpkZXZfcHJpdiA9IG5vZGVfdG9faTkxNShtLT5wcml2YXRlKTsKIAlzdHJ1
Y3QgZHJtX2RldmljZSAqZGV2ID0gJmRldl9wcml2LT5kcm07Ci0Jc3RydWN0IGRybV9jcnRjICpj
cnRjID0gJmludGVsX2NydGMtPmJhc2U7Ci0Jc3RydWN0IGludGVsX2VuY29kZXIgKmludGVsX2Vu
Y29kZXI7Ci0Jc3RydWN0IGRybV9wbGFuZV9zdGF0ZSAqcGxhbmVfc3RhdGUgPSBjcnRjLT5wcmlt
YXJ5LT5zdGF0ZTsKLQlzdHJ1Y3QgZHJtX2ZyYW1lYnVmZmVyICpmYiA9IHBsYW5lX3N0YXRlLT5m
YjsKKwlzdHJ1Y3QgaW50ZWxfZW5jb2RlciAqZW5jb2RlcjsKKwlzdHJ1Y3QgaW50ZWxfcGxhbmUg
KnBsYW5lID0gdG9faW50ZWxfcGxhbmUoY3J0Yy0+YmFzZS5wcmltYXJ5KTsKKwljb25zdCBzdHJ1
Y3QgaW50ZWxfcGxhbmVfc3RhdGUgKnBsYW5lX3N0YXRlID0KKwkJdG9faW50ZWxfcGxhbmVfc3Rh
dGUocGxhbmUtPmJhc2Uuc3RhdGUpOworCWNvbnN0IHN0cnVjdCBkcm1fZnJhbWVidWZmZXIgKmZi
ID0gcGxhbmVfc3RhdGUtPmJhc2UuZmI7CiAKIAlpZiAoZmIpCiAJCXNlcV9wcmludGYobSwgIlx0
ZmI6ICVkLCBwb3M6ICVkeCVkLCBzaXplOiAlZHglZFxuIiwKLQkJCSAgIGZiLT5iYXNlLmlkLCBw
bGFuZV9zdGF0ZS0+c3JjX3ggPj4gMTYsCi0JCQkgICBwbGFuZV9zdGF0ZS0+c3JjX3kgPj4gMTYs
IGZiLT53aWR0aCwgZmItPmhlaWdodCk7CisJCQkgICBmYi0+YmFzZS5pZCwgcGxhbmVfc3RhdGUt
PmJhc2Uuc3JjX3ggPj4gMTYsCisJCQkgICBwbGFuZV9zdGF0ZS0+YmFzZS5zcmNfeSA+PiAxNiwK
KwkJCSAgIGZiLT53aWR0aCwgZmItPmhlaWdodCk7CiAJZWxzZQogCQlzZXFfcHV0cyhtLCAiXHRw
cmltYXJ5IHBsYW5lIGRpc2FibGVkXG4iKTsKLQlmb3JfZWFjaF9lbmNvZGVyX29uX2NydGMoZGV2
LCBjcnRjLCBpbnRlbF9lbmNvZGVyKQotCQlpbnRlbF9lbmNvZGVyX2luZm8obSwgaW50ZWxfY3J0
YywgaW50ZWxfZW5jb2Rlcik7CisJZm9yX2VhY2hfZW5jb2Rlcl9vbl9jcnRjKGRldiwgJmNydGMt
PmJhc2UsIGVuY29kZXIpCisJCWludGVsX2VuY29kZXJfaW5mbyhtLCBjcnRjLCBlbmNvZGVyKTsK
IH0KIAogc3RhdGljIHZvaWQgaW50ZWxfcGFuZWxfaW5mbyhzdHJ1Y3Qgc2VxX2ZpbGUgKm0sIHN0
cnVjdCBpbnRlbF9wYW5lbCAqcGFuZWwpCkBAIC0yNTg5LDY2ICsyNTkwLDYzIEBAIHN0YXRpYyB2
b2lkIHBsYW5lX3JvdGF0aW9uKGNoYXIgKmJ1Ziwgc2l6ZV90IGJ1ZnNpemUsIHVuc2lnbmVkIGlu
dCByb3RhdGlvbikKIAkJIHJvdGF0aW9uKTsKIH0KIAotc3RhdGljIHZvaWQgaW50ZWxfcGxhbmVf
aW5mbyhzdHJ1Y3Qgc2VxX2ZpbGUgKm0sIHN0cnVjdCBpbnRlbF9jcnRjICppbnRlbF9jcnRjKQor
c3RhdGljIHZvaWQgaW50ZWxfcGxhbmVfaW5mbyhzdHJ1Y3Qgc2VxX2ZpbGUgKm0sIHN0cnVjdCBp
bnRlbF9jcnRjICpjcnRjKQogewogCXN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiA9
IG5vZGVfdG9faTkxNShtLT5wcml2YXRlKTsKIAlzdHJ1Y3QgZHJtX2RldmljZSAqZGV2ID0gJmRl
dl9wcml2LT5kcm07Ci0Jc3RydWN0IGludGVsX3BsYW5lICppbnRlbF9wbGFuZTsKKwlzdHJ1Y3Qg
aW50ZWxfcGxhbmUgKnBsYW5lOwogCi0JZm9yX2VhY2hfaW50ZWxfcGxhbmVfb25fY3J0YyhkZXYs
IGludGVsX2NydGMsIGludGVsX3BsYW5lKSB7Ci0JCXN0cnVjdCBkcm1fcGxhbmVfc3RhdGUgKnN0
YXRlOwotCQlzdHJ1Y3QgZHJtX3BsYW5lICpwbGFuZSA9ICZpbnRlbF9wbGFuZS0+YmFzZTsKKwlm
b3JfZWFjaF9pbnRlbF9wbGFuZV9vbl9jcnRjKGRldiwgY3J0YywgcGxhbmUpIHsKKwkJY29uc3Qg
c3RydWN0IGludGVsX3BsYW5lX3N0YXRlICpwbGFuZV9zdGF0ZSA9CisJCQl0b19pbnRlbF9wbGFu
ZV9zdGF0ZShwbGFuZS0+YmFzZS5zdGF0ZSk7CisJCWNvbnN0IHN0cnVjdCBkcm1fZnJhbWVidWZm
ZXIgKmZiOwogCQlzdHJ1Y3QgZHJtX2Zvcm1hdF9uYW1lX2J1ZiBmb3JtYXRfbmFtZTsKIAkJc3Ry
dWN0IGRybV9yZWN0IHNyYywgZHN0OwogCQljaGFyIHJvdF9zdHJbNDhdOwogCi0JCWlmICghcGxh
bmUtPnN0YXRlKSB7CisJCWlmICghcGxhbmVfc3RhdGUpIHsKIAkJCXNlcV9wdXRzKG0sICJwbGFu
ZS0+c3RhdGUgaXMgTlVMTCFcbiIpOwogCQkJY29udGludWU7CiAJCX0KIAotCQlzdGF0ZSA9IHBs
YW5lLT5zdGF0ZTsKLQotCQlzcmMgPSBkcm1fcGxhbmVfc3RhdGVfc3JjKHN0YXRlKTsKLQkJZHN0
ID0gZHJtX3BsYW5lX3N0YXRlX2Rlc3Qoc3RhdGUpOworCQlzcmMgPSBkcm1fcGxhbmVfc3RhdGVf
c3JjKCZwbGFuZV9zdGF0ZS0+YmFzZSk7CisJCWRzdCA9IGRybV9wbGFuZV9zdGF0ZV9kZXN0KCZw
bGFuZV9zdGF0ZS0+YmFzZSk7CisJCWZiID0gcGxhbmVfc3RhdGUtPmJhc2UuZmI7CiAKLQkJaWYg
KHN0YXRlLT5mYikgewotCQkJZHJtX2dldF9mb3JtYXRfbmFtZShzdGF0ZS0+ZmItPmZvcm1hdC0+
Zm9ybWF0LAotCQkJCQkgICAgJmZvcm1hdF9uYW1lKTsKLQkJfSBlbHNlIHsKKwkJaWYgKGZiKQor
CQkJZHJtX2dldF9mb3JtYXRfbmFtZShmYi0+Zm9ybWF0LT5mb3JtYXQsICZmb3JtYXRfbmFtZSk7
CisJCWVsc2UKIAkJCXNwcmludGYoZm9ybWF0X25hbWUuc3RyLCAiTi9BIik7Ci0JCX0KIAotCQlw
bGFuZV9yb3RhdGlvbihyb3Rfc3RyLCBzaXplb2Yocm90X3N0ciksIHN0YXRlLT5yb3RhdGlvbik7
CisJCXBsYW5lX3JvdGF0aW9uKHJvdF9zdHIsIHNpemVvZihyb3Rfc3RyKSwKKwkJCSAgICAgICBw
bGFuZV9zdGF0ZS0+YmFzZS5yb3RhdGlvbik7CiAKIAkJc2VxX3ByaW50ZihtLCAiXHQtLVBsYW5l
IGlkICVkOiB0eXBlPSVzLCBkc3Q9IiBEUk1fUkVDVF9GTVQgIiwgc3JjPSIgRFJNX1JFQ1RfRlBf
Rk1UICIsIGZvcm1hdD0lcywgcm90YXRpb249JXNcbiIsCi0JCQkgICBwbGFuZS0+YmFzZS5pZCwK
LQkJCSAgIHBsYW5lX3R5cGUoaW50ZWxfcGxhbmUtPmJhc2UudHlwZSksCisJCQkgICBwbGFuZS0+
YmFzZS5iYXNlLmlkLAorCQkJICAgcGxhbmVfdHlwZShwbGFuZS0+YmFzZS50eXBlKSwKIAkJCSAg
IERSTV9SRUNUX0FSRygmZHN0KSwKIAkJCSAgIERSTV9SRUNUX0ZQX0FSRygmc3JjKSwKLQkJCSAg
IGZvcm1hdF9uYW1lLnN0ciwKLQkJCSAgIHJvdF9zdHIpOworCQkJICAgZm9ybWF0X25hbWUuc3Ry
LCByb3Rfc3RyKTsKIAl9CiB9CiAKLXN0YXRpYyB2b2lkIGludGVsX3NjYWxlcl9pbmZvKHN0cnVj
dCBzZXFfZmlsZSAqbSwgc3RydWN0IGludGVsX2NydGMgKmludGVsX2NydGMpCitzdGF0aWMgdm9p
ZCBpbnRlbF9zY2FsZXJfaW5mbyhzdHJ1Y3Qgc2VxX2ZpbGUgKm0sIHN0cnVjdCBpbnRlbF9jcnRj
ICpjcnRjKQogewotCXN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpwaXBlX2NvbmZpZzsKLQlpbnQg
bnVtX3NjYWxlcnMgPSBpbnRlbF9jcnRjLT5udW1fc2NhbGVyczsKKwljb25zdCBzdHJ1Y3QgaW50
ZWxfY3J0Y19zdGF0ZSAqY3J0Y19zdGF0ZSA9CisJCXRvX2ludGVsX2NydGNfc3RhdGUoY3J0Yy0+
YmFzZS5zdGF0ZSk7CisJaW50IG51bV9zY2FsZXJzID0gY3J0Yy0+bnVtX3NjYWxlcnM7CiAJaW50
IGk7CiAKLQlwaXBlX2NvbmZpZyA9IHRvX2ludGVsX2NydGNfc3RhdGUoaW50ZWxfY3J0Yy0+YmFz
ZS5zdGF0ZSk7Ci0KIAkvKiBOb3QgYWxsIHBsYXRmb3JtYXMgaGF2ZSBhIHNjYWxlciAqLwogCWlm
IChudW1fc2NhbGVycykgewogCQlzZXFfcHJpbnRmKG0sICJcdG51bV9zY2FsZXJzPSVkLCBzY2Fs
ZXJfdXNlcnM9JXggc2NhbGVyX2lkPSVkIiwKIAkJCSAgIG51bV9zY2FsZXJzLAotCQkJICAgcGlw
ZV9jb25maWctPnNjYWxlcl9zdGF0ZS5zY2FsZXJfdXNlcnMsCi0JCQkgICBwaXBlX2NvbmZpZy0+
c2NhbGVyX3N0YXRlLnNjYWxlcl9pZCk7CisJCQkgICBjcnRjX3N0YXRlLT5zY2FsZXJfc3RhdGUu
c2NhbGVyX3VzZXJzLAorCQkJICAgY3J0Y19zdGF0ZS0+c2NhbGVyX3N0YXRlLnNjYWxlcl9pZCk7
CiAKIAkJZm9yIChpID0gMDsgaSA8IG51bV9zY2FsZXJzOyBpKyspIHsKLQkJCXN0cnVjdCBpbnRl
bF9zY2FsZXIgKnNjID0KLQkJCQkJJnBpcGVfY29uZmlnLT5zY2FsZXJfc3RhdGUuc2NhbGVyc1tp
XTsKKwkJCWNvbnN0IHN0cnVjdCBpbnRlbF9zY2FsZXIgKnNjID0KKwkJCQkmY3J0Y19zdGF0ZS0+
c2NhbGVyX3N0YXRlLnNjYWxlcnNbaV07CiAKIAkJCXNlcV9wcmludGYobSwgIiwgc2NhbGVyc1sl
ZF06IHVzZT0lcywgbW9kZT0leCIsCiAJCQkJICAgaSwgeWVzbm8oc2MtPmluX3VzZSksIHNjLT5t
b2RlKTsKQEAgLTI2NzMsMTggKzI2NzEsMTkgQEAgc3RhdGljIGludCBpOTE1X2Rpc3BsYXlfaW5m
byhzdHJ1Y3Qgc2VxX2ZpbGUgKm0sIHZvaWQgKnVudXNlZCkKIAlzZXFfcHJpbnRmKG0sICJDUlRD
IGluZm9cbiIpOwogCXNlcV9wcmludGYobSwgIi0tLS0tLS0tLVxuIik7CiAJZm9yX2VhY2hfaW50
ZWxfY3J0YyhkZXYsIGNydGMpIHsKLQkJc3RydWN0IGludGVsX2NydGNfc3RhdGUgKnBpcGVfY29u
ZmlnOworCQljb25zdCBzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqY3J0Y19zdGF0ZTsKIAogCQlk
cm1fbW9kZXNldF9sb2NrKCZjcnRjLT5iYXNlLm11dGV4LCBOVUxMKTsKLQkJcGlwZV9jb25maWcg
PSB0b19pbnRlbF9jcnRjX3N0YXRlKGNydGMtPmJhc2Uuc3RhdGUpOworCisJCWNydGNfc3RhdGUg
PSB0b19pbnRlbF9jcnRjX3N0YXRlKGNydGMtPmJhc2Uuc3RhdGUpOwogCiAJCXNlcV9wcmludGYo
bSwgIkNSVEMgJWQ6IHBpcGU6ICVjLCBhY3RpdmU9JXMsIChzaXplPSVkeCVkKSwgZGl0aGVyPSVz
LCBicHA9JWRcbiIsCiAJCQkgICBjcnRjLT5iYXNlLmJhc2UuaWQsIHBpcGVfbmFtZShjcnRjLT5w
aXBlKSwKLQkJCSAgIHllc25vKHBpcGVfY29uZmlnLT5iYXNlLmFjdGl2ZSksCi0JCQkgICBwaXBl
X2NvbmZpZy0+cGlwZV9zcmNfdywgcGlwZV9jb25maWctPnBpcGVfc3JjX2gsCi0JCQkgICB5ZXNu
byhwaXBlX2NvbmZpZy0+ZGl0aGVyKSwgcGlwZV9jb25maWctPnBpcGVfYnBwKTsKKwkJCSAgIHll
c25vKGNydGNfc3RhdGUtPmJhc2UuYWN0aXZlKSwKKwkJCSAgIGNydGNfc3RhdGUtPnBpcGVfc3Jj
X3csIGNydGNfc3RhdGUtPnBpcGVfc3JjX2gsCisJCQkgICB5ZXNubyhjcnRjX3N0YXRlLT5kaXRo
ZXIpLCBjcnRjX3N0YXRlLT5waXBlX2JwcCk7CiAKLQkJaWYgKHBpcGVfY29uZmlnLT5iYXNlLmFj
dGl2ZSkgeworCQlpZiAoY3J0Y19zdGF0ZS0+YmFzZS5hY3RpdmUpIHsKIAkJCXN0cnVjdCBpbnRl
bF9wbGFuZSAqY3Vyc29yID0KIAkJCQl0b19pbnRlbF9wbGFuZShjcnRjLT5iYXNlLmN1cnNvcik7
CiAKLS0gCjIuMjMuMAoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX18KSW50ZWwtZ2Z4IG1haWxpbmcgbGlzdApJbnRlbC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Au
b3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vaW50ZWwt
Z2Z4

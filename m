Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 402DAFD103
	for <lists+intel-gfx@lfdr.de>; Thu, 14 Nov 2019 23:38:07 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 8705C6E2B0;
	Thu, 14 Nov 2019 22:38:05 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga11.intel.com (mga11.intel.com [192.55.52.93])
 by gabe.freedesktop.org (Postfix) with ESMTPS id E40796E2B0
 for <intel-gfx@lists.freedesktop.org>; Thu, 14 Nov 2019 22:38:04 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from fmsmga008.fm.intel.com ([10.253.24.58])
 by fmsmga102.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 14 Nov 2019 14:38:03 -0800
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.68,306,1569308400"; d="scan'208";a="203205425"
Received: from johnharr-mobl3.ger.corp.intel.com (HELO [10.251.23.29])
 ([10.251.23.29])
 by fmsmga008.fm.intel.com with ESMTP; 14 Nov 2019 14:38:03 -0800
To: Daniele Ceraolo Spurio <daniele.ceraolospurio@intel.com>,
 intel-gfx@lists.freedesktop.org
References: <20191105225321.26642-1-daniele.ceraolospurio@intel.com>
From: John Harrison <John.C.Harrison@Intel.com>
Message-ID: <a6c5f29b-d2b5-2baf-8152-b8e4bd20f793@Intel.com>
Date: Thu, 14 Nov 2019 14:38:02 -0800
User-Agent: Mozilla/5.0 (Windows NT 10.0; WOW64; rv:60.0) Gecko/20100101
 Thunderbird/60.9.1
MIME-Version: 1.0
In-Reply-To: <20191105225321.26642-1-daniele.ceraolospurio@intel.com>
Content-Language: en-US
Subject: Re: [Intel-gfx] [PATCH v2] drm/i915/guc: Properly capture & release
 GuC interrupts on Gen11+
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

T24gMTEvNS8yMDE5IDE0OjUzLCBEYW5pZWxlIENlcmFvbG8gU3B1cmlvIHdyb3RlOgo+IFdpdGgg
dGhlIG5ldyBpbnRlcnJ1cHQgcmUtcGFydGl0aW9uaW5nIGluIEdlbjExLCBHdUMgY29udHJvbHMg
YnkgaXRzZWxmCj4gdGhlIGludGVycnVwdHMgaXQgcmVjZWl2ZXMsIHNvIHN0ZWVyaW5nIGJpdHMg
YW5kIHJlZ2lzdGVycyBoYXZlIGJlZW4KPiBkZWZlYXR1cmVkLiBCZWluZyB0aGlzIHRoZSBjYXNl
LCB3aGVuIHRoZSBHdUMgaXMgaW4gY29udHJvbCBvZgo+IHN1Ym1pc3Npb25zIHdlIHdvbid0IGtu
b3cgd2hhdCB0byBkbyB3aXRoIHRoZSBjdHggc3dpdGNoIGludGVycnVwdAo+IGluIHRoZSBkcml2
ZXIsIHNvIGRpc2FibGUgaXQuCj4KPiB2MiAoRGFuaWVsZSk6IHJlcGxhY2UgdGhlIGdlbjkgcGF0
aHMgaW5zdGVhZCBvZiBrZWVwaW5nIGdlbjkgYW5kIGdlbjExCj4gZnVuY3Rpb25zIHNpbmNlIHdl
IHdvbid0IHN1cHBvcnQgZ3VjIHN1Ym1pc3Npb24gb24gYW55IHByZS1nZW4xMSBwbGF0Zm9ybS4K
Pgo+IFNpZ25lZC1vZmYtYnk6IE9zY2FyIE1hdGVvIDxvc2Nhci5tYXRlb0BpbnRlbC5jb20+Cj4g
U2lnbmVkLW9mZi1ieTogTWljaGFsIFdhamRlY3prbyA8bWljaGFsLndhamRlY3prb0BpbnRlbC5j
b20+Cj4gU2lnbmVkLW9mZi1ieTogRGFuaWVsZSBDZXJhb2xvIFNwdXJpbyA8ZGFuaWVsZS5jZXJh
b2xvc3B1cmlvQGludGVsLmNvbT4KPiBDYzogSm9obiBIYXJyaXNvbiA8Sm9obi5DLkhhcnJpc29u
QEludGVsLmNvbT4KPiBDYzogTWF0dGhldyBCcm9zdCA8bWF0dGhldy5icm9zdEBpbnRlbC5jb20+
CgpSZXZpZXdlZC1ieTogSm9obiBIYXJyaXNvbiA8Sm9obi5DLkhhcnJpc29uQEludGVsLmNvbT4K
Cgo+IC0tLQo+ICAgZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfcnBzLmMgICAgICAgICAg
IHwgIDIgKy0KPiAgIC4uLi9ncHUvZHJtL2k5MTUvZ3QvdWMvaW50ZWxfZ3VjX3N1Ym1pc3Npb24u
YyB8IDcyICsrKystLS0tLS0tLS0tLS0tLS0KPiAgIDIgZmlsZXMgY2hhbmdlZCwgMTQgaW5zZXJ0
aW9ucygrKSwgNjAgZGVsZXRpb25zKC0pCj4KPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJt
L2k5MTUvZ3QvaW50ZWxfcnBzLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9ycHMu
Ywo+IGluZGV4IDIwZDZlZTE0OGFmYy4uMDhhMzhhM2I5MGIwIDEwMDY0NAo+IC0tLSBhL2RyaXZl
cnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX3Jwcy5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5
MTUvZ3QvaW50ZWxfcnBzLmMKPiBAQCAtMTY2Myw3ICsxNjYzLDcgQEAgdm9pZCBpbnRlbF9ycHNf
aW5pdChzdHJ1Y3QgaW50ZWxfcnBzICpycHMpCj4gICAJaWYgKElOVEVMX0dFTihpOTE1KSA8PSA3
KQo+ICAgCQlycHMtPnBtX2ludHJtc2tfbWJ6IHw9IEdFTjZfUE1fUlBfVVBfRUlfRVhQSVJFRDsK
PiAgIAo+IC0JaWYgKElOVEVMX0dFTihpOTE1KSA+PSA4KQo+ICsJaWYgKElOVEVMX0dFTihpOTE1
KSA+PSA4ICYmIElOVEVMX0dFTihpOTE1KSA8IDExKQo+ICAgCQlycHMtPnBtX2ludHJtc2tfbWJ6
IHw9IEdFTjhfUE1JTlRSX0RJU0FCTEVfUkVESVJFQ1RfVE9fR1VDOwo+ICAgfQo+ICAgCj4gZGlm
ZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L3VjL2ludGVsX2d1Y19zdWJtaXNzaW9u
LmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC91Yy9pbnRlbF9ndWNfc3VibWlzc2lvbi5jCj4g
aW5kZXggMjQ5OGM1NWUwZWE1Li45MDJlMjVlYjZiOWQgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9n
cHUvZHJtL2k5MTUvZ3QvdWMvaW50ZWxfZ3VjX3N1Ym1pc3Npb24uYwo+ICsrKyBiL2RyaXZlcnMv
Z3B1L2RybS9pOTE1L2d0L3VjL2ludGVsX2d1Y19zdWJtaXNzaW9uLmMKPiBAQCAtMTAxMSw3NCAr
MTAxMSwyOCBAQCB2b2lkIGludGVsX2d1Y19zdWJtaXNzaW9uX2Zpbmkoc3RydWN0IGludGVsX2d1
YyAqZ3VjKQo+ICAgCj4gICBzdGF0aWMgdm9pZCBndWNfaW50ZXJydXB0c19jYXB0dXJlKHN0cnVj
dCBpbnRlbF9ndCAqZ3QpCj4gICB7Cj4gLQlzdHJ1Y3QgaW50ZWxfcnBzICpycHMgPSAmZ3QtPnJw
czsKPiAgIAlzdHJ1Y3QgaW50ZWxfdW5jb3JlICp1bmNvcmUgPSBndC0+dW5jb3JlOwo+IC0Jc3Ry
dWN0IGludGVsX2VuZ2luZV9jcyAqZW5naW5lOwo+IC0JZW51bSBpbnRlbF9lbmdpbmVfaWQgaWQ7
Cj4gLQlpbnQgaXJxczsKPiArCXUzMiBpcnFzID0gR1RfQ09OVEVYVF9TV0lUQ0hfSU5URVJSVVBU
Owo+ICsJdTMyIGRtYXNrID0gaXJxcyA8PCAxNiB8IGlycXM7Cj4gICAKPiAtCS8qIHRlbGwgYWxs
IGNvbW1hbmQgc3RyZWFtZXJzIHRvIGZvcndhcmQgaW50ZXJydXB0cyAoYnV0IG5vdCB2Ymxhbmsp
Cj4gLQkgKiB0byBHdUMKPiAtCSAqLwo+IC0JaXJxcyA9IF9NQVNLRURfQklUX0VOQUJMRShHRlhf
SU5URVJSVVBUX1NURUVSSU5HKTsKPiAtCWZvcl9lYWNoX2VuZ2luZShlbmdpbmUsIGd0LCBpZCkK
PiAtCQlFTkdJTkVfV1JJVEUoZW5naW5lLCBSSU5HX01PREVfR0VONywgaXJxcyk7Cj4gLQo+IC0J
Lyogcm91dGUgVVNFUl9JTlRFUlJVUFQgdG8gSG9zdCwgYWxsIG90aGVycyBhcmUgc2VudCB0byBH
dUMuICovCj4gLQlpcnFzID0gR1RfUkVOREVSX1VTRVJfSU5URVJSVVBUIDw8IEdFTjhfUkNTX0lS
UV9TSElGVCB8Cj4gLQkgICAgICAgR1RfUkVOREVSX1VTRVJfSU5URVJSVVBUIDw8IEdFTjhfQkNT
X0lSUV9TSElGVDsKPiAtCS8qIFRoZXNlIHRocmVlIHJlZ2lzdGVycyBoYXZlIHRoZSBzYW1lIGJp
dCBkZWZpbml0aW9ucyAqLwo+IC0JaW50ZWxfdW5jb3JlX3dyaXRlKHVuY29yZSwgR1VDX0JDU19S
Q1NfSUVSLCB+aXJxcyk7Cj4gLQlpbnRlbF91bmNvcmVfd3JpdGUodW5jb3JlLCBHVUNfVkNTMl9W
Q1MxX0lFUiwgfmlycXMpOwo+IC0JaW50ZWxfdW5jb3JlX3dyaXRlKHVuY29yZSwgR1VDX1dEX1ZF
Q1NfSUVSLCB+aXJxcyk7Cj4gKwlHRU1fQlVHX09OKElOVEVMX0dFTihndC0+aTkxNSkgPCAxMSk7
Cj4gICAKPiAtCS8qCj4gLQkgKiBUaGUgUkVESVJFQ1RfVE9fR1VDIGJpdCBvZiB0aGUgUE1JTlRS
TVNLIHJlZ2lzdGVyIGRpcmVjdHMgYWxsCj4gLQkgKiAodW5tYXNrZWQpIFBNIGludGVycnVwdHMg
dG8gdGhlIEd1Qy4gQWxsIG90aGVyIGJpdHMgb2YgdGhpcwo+IC0JICogcmVnaXN0ZXIgKmRpc2Fi
bGUqIGdlbmVyYXRpb24gb2YgYSBzcGVjaWZpYyBpbnRlcnJ1cHQuCj4gLQkgKgo+IC0JICogJ3Bt
X2ludHJtc2tfbWJ6JyBpbmRpY2F0ZXMgYml0cyB0aGF0IGFyZSBOT1QgdG8gYmUgc2V0IHdoZW4K
PiAtCSAqIHdyaXRpbmcgdG8gdGhlIFBNIGludGVycnVwdCBtYXNrIHJlZ2lzdGVyLCBpLmUuIGlu
dGVycnVwdHMKPiAtCSAqIHRoYXQgbXVzdCBub3QgYmUgZGlzYWJsZWQuCj4gLQkgKgo+IC0JICog
SWYgdGhlIEd1QyBpcyBoYW5kbGluZyB0aGVzZSBpbnRlcnJ1cHRzLCB0aGVuIHdlIG11c3Qgbm90
IGxldAo+IC0JICogdGhlIFBNIGNvZGUgZGlzYWJsZSBBTlkgaW50ZXJydXB0IHRoYXQgdGhlIEd1
QyBpcyBleHBlY3RpbmcuCj4gLQkgKiBTbyBmb3IgZWFjaCBFTkFCTEVEICgwKSBiaXQgaW4gdGhp
cyByZWdpc3Rlciwgd2UgbXVzdCBTRVQgdGhlCj4gLQkgKiBiaXQgaW4gcG1faW50cm1za19tYnog
c28gdGhhdCBpdCdzIGxlZnQgZW5hYmxlZCBmb3IgdGhlIEd1Qy4KPiAtCSAqIEd1QyBuZWVkcyBB
UkFUIGV4cGlyZWQgaW50ZXJydXB0IHVubWFza2VkIGhlbmNlIGl0IGlzIHNldCBpbgo+IC0JICog
cG1faW50cm1za19tYnouCj4gLQkgKgo+IC0JICogSGVyZSB3ZSBDTEVBUiBSRURJUkVDVF9UT19H
VUMgYml0IGluIHBtX2ludHJtc2tfbWJ6LCB3aGljaCB3aWxsCj4gLQkgKiByZXN1bHQgaW4gdGhl
IHJlZ2lzdGVyIGJpdCBiZWluZyBsZWZ0IFNFVCEKPiAtCSAqLwo+IC0JcnBzLT5wbV9pbnRybXNr
X21ieiB8PSBBUkFUX0VYUElSRURfSU5UUk1TSzsKPiAtCXJwcy0+cG1faW50cm1za19tYnogJj0g
fkdFTjhfUE1JTlRSX0RJU0FCTEVfUkVESVJFQ1RfVE9fR1VDOwo+ICsJLyogRG9uJ3QgaGFuZGxl
IHRoZSBjdHggc3dpdGNoIGludGVycnVwdCBpbiBHdUMgc3VibWlzc2lvbiBtb2RlICovCj4gKwlp
bnRlbF91bmNvcmVfcm13KHVuY29yZSwgR0VOMTFfUkVOREVSX0NPUFlfSU5UUl9FTkFCTEUsIGRt
YXNrLCAwKTsKPiArCWludGVsX3VuY29yZV9ybXcodW5jb3JlLCBHRU4xMV9WQ1NfVkVDU19JTlRS
X0VOQUJMRSwgZG1hc2ssIDApOwo+ICAgfQo+ICAgCj4gICBzdGF0aWMgdm9pZCBndWNfaW50ZXJy
dXB0c19yZWxlYXNlKHN0cnVjdCBpbnRlbF9ndCAqZ3QpCj4gICB7Cj4gLQlzdHJ1Y3QgaW50ZWxf
cnBzICpycHMgPSAmZ3QtPnJwczsKPiAgIAlzdHJ1Y3QgaW50ZWxfdW5jb3JlICp1bmNvcmUgPSBn
dC0+dW5jb3JlOwo+IC0Jc3RydWN0IGludGVsX2VuZ2luZV9jcyAqZW5naW5lOwo+IC0JZW51bSBp
bnRlbF9lbmdpbmVfaWQgaWQ7Cj4gLQlpbnQgaXJxczsKPiArCXUzMiBpcnFzID0gR1RfQ09OVEVY
VF9TV0lUQ0hfSU5URVJSVVBUOwo+ICsJdTMyIGRtYXNrID0gaXJxcyA8PCAxNiB8IGlycXM7Cj4g
ICAKPiAtCS8qCj4gLQkgKiB0ZWxsIGFsbCBjb21tYW5kIHN0cmVhbWVycyBOT1QgdG8gZm9yd2Fy
ZCBpbnRlcnJ1cHRzIG9yIHZibGFuawo+IC0JICogdG8gR3VDLgo+IC0JICovCj4gLQlpcnFzID0g
X01BU0tFRF9GSUVMRChHRlhfRk9SV0FSRF9WQkxBTktfTUFTSywgR0ZYX0ZPUldBUkRfVkJMQU5L
X05FVkVSKTsKPiAtCWlycXMgfD0gX01BU0tFRF9CSVRfRElTQUJMRShHRlhfSU5URVJSVVBUX1NU
RUVSSU5HKTsKPiAtCWZvcl9lYWNoX2VuZ2luZShlbmdpbmUsIGd0LCBpZCkKPiAtCQlFTkdJTkVf
V1JJVEUoZW5naW5lLCBSSU5HX01PREVfR0VONywgaXJxcyk7Cj4gLQo+IC0JLyogcm91dGUgYWxs
IEdUIGludGVycnVwdHMgdG8gdGhlIGhvc3QgKi8KPiAtCWludGVsX3VuY29yZV93cml0ZSh1bmNv
cmUsIEdVQ19CQ1NfUkNTX0lFUiwgMCk7Cj4gLQlpbnRlbF91bmNvcmVfd3JpdGUodW5jb3JlLCBH
VUNfVkNTMl9WQ1MxX0lFUiwgMCk7Cj4gLQlpbnRlbF91bmNvcmVfd3JpdGUodW5jb3JlLCBHVUNf
V0RfVkVDU19JRVIsIDApOwo+IC0KPiAtCXJwcy0+cG1faW50cm1za19tYnogfD0gR0VOOF9QTUlO
VFJfRElTQUJMRV9SRURJUkVDVF9UT19HVUM7Cj4gLQlycHMtPnBtX2ludHJtc2tfbWJ6ICY9IH5B
UkFUX0VYUElSRURfSU5UUk1TSzsKPiArCUdFTV9CVUdfT04oSU5URUxfR0VOKGd0LT5pOTE1KSA8
IDExKTsKPiArCj4gKwkvKiBIYW5kbGUgY3R4IHN3aXRjaCBpbnRlcnJ1cHRzIGFnYWluICovCj4g
KwlpbnRlbF91bmNvcmVfcm13KHVuY29yZSwgR0VOMTFfUkVOREVSX0NPUFlfSU5UUl9FTkFCTEUs
IDAsIGRtYXNrKTsKPiArCWludGVsX3VuY29yZV9ybXcodW5jb3JlLCBHRU4xMV9WQ1NfVkVDU19J
TlRSX0VOQUJMRSwgMCwgZG1hc2spOwo+ICAgfQo+ICAgCj4gICBzdGF0aWMgdm9pZCBndWNfc2V0
X2RlZmF1bHRfc3VibWlzc2lvbihzdHJ1Y3QgaW50ZWxfZW5naW5lX2NzICplbmdpbmUpCgpfX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpJbnRlbC1nZnggbWFp
bGluZyBsaXN0CkludGVsLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5m
cmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9pbnRlbC1nZng=

Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 4F98067773
	for <lists+intel-gfx@lfdr.de>; Sat, 13 Jul 2019 03:10:06 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 06BDC6E3BC;
	Sat, 13 Jul 2019 01:09:51 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga09.intel.com (mga09.intel.com [134.134.136.24])
 by gabe.freedesktop.org (Postfix) with ESMTPS id F14346E39C
 for <intel-gfx@lists.freedesktop.org>; Sat, 13 Jul 2019 01:09:45 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga005.jf.intel.com ([10.7.209.41])
 by orsmga102.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 12 Jul 2019 18:09:45 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.63,484,1557212400"; d="scan'208";a="341850929"
Received: from dhoyan-mobl.amr.corp.intel.com (HELO ldmartin-desk1.intel.com)
 ([10.252.197.100])
 by orsmga005.jf.intel.com with ESMTP; 12 Jul 2019 18:09:45 -0700
From: Lucas De Marchi <lucas.demarchi@intel.com>
To: intel-gfx@lists.freedesktop.org
Date: Fri, 12 Jul 2019 18:09:28 -0700
Message-Id: <20190713010940.17711-11-lucas.demarchi@intel.com>
X-Mailer: git-send-email 2.21.0
In-Reply-To: <20190713010940.17711-1-lucas.demarchi@intel.com>
References: <20190713010940.17711-1-lucas.demarchi@intel.com>
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH 10/22] drm/i915/tgl: Add DKL phy pll state
 calculations
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

RnJvbTogVmFuZGl0YSBLdWxrYXJuaSA8dmFuZGl0YS5rdWxrYXJuaUBpbnRlbC5jb20+CgpSZXVz
ZSB0aGUgZXhpc3RpbmcgY2FsY3VsYXRlIGljbF9jYWxjX21nX3BsbF9zdGF0ZSgpIGZ1bmN0aW9u
LgpTaW5jZSB0aGUgcGxsIHZhcmlhYmxlcyBhcmUgY2FsY3VsYXRlZCBkaWZmZXJlbnRseSBmb3Ig
REtMIHBoeSwgYWRkCnN1cHBvcnQgZm9yIHRoZSBzYW1lLgoKU2lnbmVkLW9mZi1ieTogVmFuZGl0
YSBLdWxrYXJuaSA8dmFuZGl0YS5rdWxrYXJuaUBpbnRlbC5jb20+ClNpZ25lZC1vZmYtYnk6IEx1
Y2FzIERlIE1hcmNoaSA8bHVjYXMuZGVtYXJjaGlAaW50ZWwuY29tPgotLS0KIGRyaXZlcnMvZ3B1
L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZHBsbF9tZ3IuYyB8IDU5ICsrKysrKysrKysrKysrKyst
LS0KIDEgZmlsZSBjaGFuZ2VkLCA1MCBpbnNlcnRpb25zKCspLCA5IGRlbGV0aW9ucygtKQoKZGlm
ZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZHBsbF9tZ3IuYyBi
L2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZHBsbF9tZ3IuYwppbmRleCA3MzEy
YTQ3Zjc5YWQuLjBlZjE0MDIzODY1YiAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUv
ZGlzcGxheS9pbnRlbF9kcGxsX21nci5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3Bs
YXkvaW50ZWxfZHBsbF9tZ3IuYwpAQCAtMjYyNSw3ICsyNjI1LDggQEAgZW51bSBpbnRlbF9kcGxs
X2lkIGljbF90Y19wb3J0X3RvX3BsbF9pZChlbnVtIHRjX3BvcnQgdGNfcG9ydCkKIAogc3RhdGlj
IGJvb2wgaWNsX21nX3BsbF9maW5kX2Rpdmlzb3JzKGludCBjbG9ja19raHosIGJvb2wgaXNfZHAs
IGJvb2wgdXNlX3NzYywKIAkJCQkgICAgIHUzMiAqdGFyZ2V0X2Rjb19raHosCi0JCQkJICAgICBz
dHJ1Y3QgaW50ZWxfZHBsbF9od19zdGF0ZSAqc3RhdGUpCisJCQkJICAgICBzdHJ1Y3QgaW50ZWxf
ZHBsbF9od19zdGF0ZSAqc3RhdGUsCisJCQkJICAgICBib29sIGlzX2RrbCkKIHsKIAl1MzIgZGNv
X21pbl9mcmVxLCBkY29fbWF4X2ZyZXE7CiAJaW50IGRpdjFfdmFsc1tdID0gezcsIDUsIDMsIDJ9
OwpAQCAtMjY0Nyw4ICsyNjQ4LDEzIEBAIHN0YXRpYyBib29sIGljbF9tZ19wbGxfZmluZF9kaXZp
c29ycyhpbnQgY2xvY2tfa2h6LCBib29sIGlzX2RwLCBib29sIHVzZV9zc2MsCiAJCQkJY29udGlu
dWU7CiAKIAkJCWlmIChkaXYyID49IDIpIHsKLQkJCQlhX2RpdnJhdGlvID0gaXNfZHAgPyAxMCA6
IDU7Ci0JCQkJdGxpbmVkcnYgPSAyOworCQkJCWlmIChpc19ka2wpIHsKKwkJCQkJYV9kaXZyYXRp
byA9IDU7CisJCQkJCXRsaW5lZHJ2ID0gMTsKKwkJCQl9IGVsc2UgeworCQkJCQlhX2RpdnJhdGlv
ID0gaXNfZHAgPyAxMCA6IDU7CisJCQkJCXRsaW5lZHJ2ID0gMjsKKwkJCQl9CiAJCQl9IGVsc2Ug
ewogCQkJCWFfZGl2cmF0aW8gPSA1OwogCQkJCXRsaW5lZHJ2ID0gMDsKQEAgLTI2OTgsNyArMjcw
NCw4IEBAIHN0YXRpYyBib29sIGljbF9tZ19wbGxfZmluZF9kaXZpc29ycyhpbnQgY2xvY2tfa2h6
LCBib29sIGlzX2RwLCBib29sIHVzZV9zc2MsCiAgKiBhZGFwdGVkIHRvIGludGVnZXItb25seSBj
YWxjdWxhdGlvbiwgdGhhdCdzIHdoeSBpdCBsb29rcyBzbyBkaWZmZXJlbnQuCiAgKi8KIHN0YXRp
YyBib29sIGljbF9jYWxjX21nX3BsbF9zdGF0ZShzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqY3J0
Y19zdGF0ZSwKLQkJCQkgIHN0cnVjdCBpbnRlbF9kcGxsX2h3X3N0YXRlICpwbGxfc3RhdGUpCisJ
CQkJICBzdHJ1Y3QgaW50ZWxfZHBsbF9od19zdGF0ZSAqcGxsX3N0YXRlLAorCQkJCSAgYm9vbCBp
c19ka2wpCiB7CiAJc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2ID0gdG9faTkxNShj
cnRjX3N0YXRlLT5iYXNlLmNydGMtPmRldik7CiAJaW50IHJlZmNsa19raHogPSBkZXZfcHJpdi0+
Y2RjbGsuaHcucmVmOwpAQCAtMjcxNSw3ICsyNzIyLDcgQEAgc3RhdGljIGJvb2wgaWNsX2NhbGNf
bWdfcGxsX3N0YXRlKHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpjcnRjX3N0YXRlLAogCW1lbXNl
dChwbGxfc3RhdGUsIDAsIHNpemVvZigqcGxsX3N0YXRlKSk7CiAKIAlpZiAoIWljbF9tZ19wbGxf
ZmluZF9kaXZpc29ycyhjbG9jaywgaXNfZHAsIHVzZV9zc2MsICZkY29fa2h6LAotCQkJCSAgICAg
IHBsbF9zdGF0ZSkpIHsKKwkJCQkgICAgICBwbGxfc3RhdGUsIGlzX2RrbCkpIHsKIAkJRFJNX0RF
QlVHX0tNUygiRmFpbGVkIHRvIGZpbmQgZGl2aXNvcnMgZm9yIGNsb2NrICVkXG4iLCBjbG9jayk7
CiAJCXJldHVybiBmYWxzZTsKIAl9CkBAIC0yNzIzLDggKzI3MzAsMTEgQEAgc3RhdGljIGJvb2wg
aWNsX2NhbGNfbWdfcGxsX3N0YXRlKHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpjcnRjX3N0YXRl
LAogCW0xZGl2ID0gMjsKIAltMmRpdl9pbnQgPSBkY29fa2h6IC8gKHJlZmNsa19raHogKiBtMWRp
dik7CiAJaWYgKG0yZGl2X2ludCA+IDI1NSkgewotCQltMWRpdiA9IDQ7Ci0JCW0yZGl2X2ludCA9
IGRjb19raHogLyAocmVmY2xrX2toeiAqIG0xZGl2KTsKKwkJaWYgKCFpc19ka2wpIHsKKwkJCW0x
ZGl2ID0gNDsKKwkJCW0yZGl2X2ludCA9IGRjb19raHogLyAocmVmY2xrX2toeiAqIG0xZGl2KTsK
KwkJfQorCiAJCWlmIChtMmRpdl9pbnQgPiAyNTUpIHsKIAkJCURSTV9ERUJVR19LTVMoIkZhaWxl
ZCB0byBmaW5kIG1kaXYgZm9yIGNsb2NrICVkXG4iLAogCQkJCSAgICAgIGNsb2NrKTsKQEAgLTI3
NTMsNiArMjc2MywxMiBAQCBzdGF0aWMgYm9vbCBpY2xfY2FsY19tZ19wbGxfc3RhdGUoc3RydWN0
IGludGVsX2NydGNfc3RhdGUgKmNydGNfc3RhdGUsCiAJCWlyZWZfdHJpbSA9IDI4OwogCQlpcmVm
X3B1bHNlX3cgPSAxOwogCQlicmVhazsKKworCQkvKgorCQkgKiBUT0RPOiBzcGVjIGFkZHMgYSBj
YXNlIGZvciBuZGl2ID0gNCB3aGVuIHJlZmNsayA+IDgwTUh6LAorCQkgKiBob3dldmVyIHRoaXMg
ZG9lc24ndCBzZWVtIHBvc3NpYmxlIGZyb20gdGhlIGlucHV0LgorCQkgKiBTZWUgSXNzdWUgMTc1
MjYuCisJCSAqLwogCWRlZmF1bHQ6CiAJCU1JU1NJTkdfQ0FTRShyZWZjbGtfa2h6KTsKIAkJcmV0
dXJuIGZhbHNlOwpAQCAtMjgwNSw3ICsyODIxLDMxIEBAIHN0YXRpYyBib29sIGljbF9jYWxjX21n
X3BsbF9zdGF0ZShzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqY3J0Y19zdGF0ZSwKIAlzc2Nfc3Rl
cGxvZyA9IDQ7CiAKIAkvKiB3cml0ZSBwbGxfc3RhdGUgY2FsY3VsYXRpb25zICovCi0JeworCWlm
IChpc19ka2wpIHsKKwkJcGxsX3N0YXRlLT5tZ19wbGxfZGl2MCA9CisJCQlES0xfUExMX0RJVjBf
SU5URUdfQ09FRkYoaW50X2NvZWZmKSB8CisJCQlES0xfUExMX0RJVjBfUFJPUF9DT0VGRihwcm9w
X2NvZWZmKSB8CisJCQlES0xfUExMX0RJVjBfRkJQUkVESVYobTFkaXYpIHwKKwkJCURLTF9QTExf
RElWMF9GQkRJVl9JTlQobTJkaXZfaW50KTsKKworCQlwbGxfc3RhdGUtPm1nX3BsbF9kaXYxID0K
KwkJCURLTF9QTExfRElWMV9JUkVGX1RSSU0oaXJlZl90cmltKSB8CisJCQlES0xfUExMX0RJVjFf
VERDX1RBUkdFVF9DTlQodGRjX3RhcmdldGNudCk7CisKKwkJcGxsX3N0YXRlLT5tZ19wbGxfc3Nj
ID0KKwkJCURLTF9QTExfU1NDX0lSRUZfTkRJVl9SQVRJTyhpcmVmX25kaXYpIHwKKwkJCURLTF9Q
TExfU1NDX1NURVBfTEVOKHNzY19zdGVwbGVuKSB8CisJCQlES0xfUExMX1NTQ19TVEVQX05VTShz
c2Nfc3RlcGxvZykgfAorCQkJKHVzZV9zc2MgPyBES0xfUExMX1NTQ19FTiA6IDApOworCisJCXBs
bF9zdGF0ZS0+bWdfcGxsX3RkY19jb2xkc3RfYmlhcyA9CisJCQlES0xfUExMX1REQ19TU0NfU1RF
UF9TSVpFKHNzY19zdGVwc2l6ZSkgfAorCQkJREtMX1BMTF9URENfRkVFRF9GV0RfR0FJTihmZWVk
ZndnYWluKTsKKworCQlwbGxfc3RhdGUtPm1nX3BsbF9iaWFzID0KKwkJCShtMmRpdl9mcmFjID4g
MCA/IERLTF9QTExfQklBU19GUkFDX0VOX0ggOiAwKSB8CisJCQlES0xfUExMX0JJQVNfRkJESVZf
RlJBQyhtMmRpdl9mcmFjKTsKKwl9IGVsc2UgewogCQlwbGxfc3RhdGUtPm1nX3BsbF9kaXYwID0K
IAkJCShtMmRpdl9yZW0gPiAwID8gTUdfUExMX0RJVjBfRlJBQ05FTl9IIDogMCkgfAogCQkJTUdf
UExMX0RJVjBfRkJESVZfRlJBQyhtMmRpdl9mcmFjKSB8CkBAIC0yOTYzLDYgKzMwMDMsNyBAQCBz
dGF0aWMgYm9vbCBpY2xfZ2V0X3RjX3BoeV9kcGxscyhzdHJ1Y3QgaW50ZWxfYXRvbWljX3N0YXRl
ICpzdGF0ZSwKIAkJaW50ZWxfYXRvbWljX2dldF9uZXdfY3J0Y19zdGF0ZShzdGF0ZSwgY3J0Yyk7
CiAJc3RydWN0IGljbF9wb3J0X2RwbGwgKnBvcnRfZHBsbDsKIAllbnVtIGludGVsX2RwbGxfaWQg
ZHBsbF9pZDsKKwlib29sIGlzX2RrbCA9IElOVEVMX0dFTihkZXZfcHJpdikgPj0gMTI7CiAKIAlw
b3J0X2RwbGwgPSAmY3J0Y19zdGF0ZS0+aWNsX3BvcnRfZHBsbHNbSUNMX1BPUlRfRFBMTF9ERUZB
VUxUXTsKIAlpZiAoIWljbF9jYWxjX2RwbGxfc3RhdGUoY3J0Y19zdGF0ZSwgZW5jb2RlciwgJnBv
cnRfZHBsbC0+aHdfc3RhdGUpKSB7CkBAIC0yOTgzLDcgKzMwMjQsNyBAQCBzdGF0aWMgYm9vbCBp
Y2xfZ2V0X3RjX3BoeV9kcGxscyhzdHJ1Y3QgaW50ZWxfYXRvbWljX3N0YXRlICpzdGF0ZSwKIAog
CiAJcG9ydF9kcGxsID0gJmNydGNfc3RhdGUtPmljbF9wb3J0X2RwbGxzW0lDTF9QT1JUX0RQTExf
TUdfUEhZXTsKLQlpZiAoIWljbF9jYWxjX21nX3BsbF9zdGF0ZShjcnRjX3N0YXRlLCAmcG9ydF9k
cGxsLT5od19zdGF0ZSkpIHsKKwlpZiAoIWljbF9jYWxjX21nX3BsbF9zdGF0ZShjcnRjX3N0YXRl
LCAmcG9ydF9kcGxsLT5od19zdGF0ZSwgaXNfZGtsKSkgewogCQlEUk1fREVCVUdfS01TKCJDb3Vs
ZCBub3QgY2FsY3VsYXRlIE1HIFBIWSBQTEwgc3RhdGUuXG4iKTsKIAkJZ290byBlcnJfdW5yZWZl
cmVuY2VfdGJ0X3BsbDsKIAl9Ci0tIAoyLjIxLjAKCl9fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fCkludGVsLWdmeCBtYWlsaW5nIGxpc3QKSW50ZWwtZ2Z4QGxp
c3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFu
L2xpc3RpbmZvL2ludGVsLWdmeA==

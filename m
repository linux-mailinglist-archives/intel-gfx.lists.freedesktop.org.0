Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 00D6E36149
	for <lists+intel-gfx@lfdr.de>; Wed,  5 Jun 2019 18:29:57 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 628BA89D57;
	Wed,  5 Jun 2019 16:29:55 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga05.intel.com (mga05.intel.com [192.55.52.43])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 3F75889D57
 for <intel-gfx@lists.freedesktop.org>; Wed,  5 Jun 2019 16:29:53 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from fmsmga008.fm.intel.com ([10.253.24.58])
 by fmsmga105.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 05 Jun 2019 09:29:53 -0700
X-ExtLoop1: 1
Received: from stinkbox.fi.intel.com (HELO stinkbox) ([10.237.72.174])
 by fmsmga008.fm.intel.com with SMTP; 05 Jun 2019 09:29:50 -0700
Received: by stinkbox (sSMTP sendmail emulation);
 Wed, 05 Jun 2019 19:29:49 +0300
From: Ville Syrjala <ville.syrjala@linux.intel.com>
To: intel-gfx@lists.freedesktop.org
Date: Wed,  5 Jun 2019 19:29:46 +0300
Message-Id: <20190605162946.19223-2-ville.syrjala@linux.intel.com>
X-Mailer: git-send-email 2.21.0
In-Reply-To: <20190605162946.19223-1-ville.syrjala@linux.intel.com>
References: <20190605162946.19223-1-ville.syrjala@linux.intel.com>
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH 2/2] drm/i915: Kill INTEL_SUBPLATFORM_AML
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

RnJvbTogVmlsbGUgU3lyasOkbMOkIDx2aWxsZS5zeXJqYWxhQGxpbnV4LmludGVsLmNvbT4KCkFs
bCBBTUwgcGFydHMgYXJlIGVpdGhlciBLQkwgVUxYIG9yIENGTCBVTFggc28gdGhlcmUgaXMgbm8g
cG9pbnQKaW4ga2VlcGluZyBJTlRFTF9TVUJQTEFURk9STV9BTUwgYXJvdW5kLiBBcyB0aGVzZSBh
cmUgdGhlIG9ubHkKQ0ZMIFVMWCBwYXJ0cyAobm9ybWFsIENGTCBkaWRuJ3QgaGF2ZSBZIFNLVXMp
IHNvIHdlJ2xsIGp1c3QKcmVwbGFjZSBJU19BTUxfVUxYIHdpdGggSVNfQ0ZMX1VMWCAoaXQgd2Fz
IGFscmVhZHkgcGFpcmVkIHdpdGgKSVNfS0JMX1VMWCB3aGljaCBhY2NvdW50cyBmb3IgdGhlIG90
aGVyIGhhbGYgb2YgdGhlIEFNTCBwYXJ0cykuCgpDYzogVHZydGtvIFVyc3VsaW4gPHR2cnRrby51
cnN1bGluQGludGVsLmNvbT4KQ2M6IEpvc8OpIFJvYmVydG8gZGUgU291emEgPGpvc2Uuc291emFA
aW50ZWwuY29tPgpDYzogUm9kcmlnbyBWaXZpIDxyb2RyaWdvLnZpdmlAaW50ZWwuY29tPgpTaWdu
ZWQtb2ZmLWJ5OiBWaWxsZSBTeXJqw6Rsw6QgPHZpbGxlLnN5cmphbGFAbGludXguaW50ZWwuY29t
PgotLS0KIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZHJ2LmggICAgICAgICAgfCA1ICsrLS0t
CiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9kZGkuYyAgICAgICAgIHwgOCArKysrKy0tLQog
ZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfZGV2aWNlX2luZm8uYyB8IDYgLS0tLS0tCiBkcml2
ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9kZXZpY2VfaW5mby5oIHwgMSAtCiA0IGZpbGVzIGNoYW5n
ZWQsIDcgaW5zZXJ0aW9ucygrKSwgMTMgZGVsZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEvZHJpdmVy
cy9ncHUvZHJtL2k5MTUvaTkxNV9kcnYuaCBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZHJ2
LmgKaW5kZXggODliZjFlMzRmZWFhLi4xNmVhMGU2MDc3Y2YgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMv
Z3B1L2RybS9pOTE1L2k5MTVfZHJ2LmgKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9k
cnYuaApAQCAtMjIxMyw5ICsyMjEzLDYgQEAgSVNfU1VCUExBVEZPUk0oY29uc3Qgc3RydWN0IGRy
bV9pOTE1X3ByaXZhdGUgKmk5MTUsCiAJSVNfU1VCUExBVEZPUk0oZGV2X3ByaXYsIElOVEVMX0tB
QllMQUtFLCBJTlRFTF9TVUJQTEFURk9STV9VTFQpCiAjZGVmaW5lIElTX0tCTF9VTFgoZGV2X3By
aXYpIFwKIAlJU19TVUJQTEFURk9STShkZXZfcHJpdiwgSU5URUxfS0FCWUxBS0UsIElOVEVMX1NV
QlBMQVRGT1JNX1VMWCkKLSNkZWZpbmUgSVNfQU1MX1VMWChkZXZfcHJpdikgXAotCShJU19TVUJQ
TEFURk9STShkZXZfcHJpdiwgSU5URUxfS0FCWUxBS0UsIElOVEVMX1NVQlBMQVRGT1JNX0FNTCkg
fHwgXAotCSBJU19TVUJQTEFURk9STShkZXZfcHJpdiwgSU5URUxfQ09GRkVFTEFLRSwgSU5URUxf
U1VCUExBVEZPUk1fQU1MKSkKICNkZWZpbmUgSVNfU0tMX0dUMihkZXZfcHJpdikJKElTX1NLWUxB
S0UoZGV2X3ByaXYpICYmIFwKIAkJCQkgSU5URUxfSU5GTyhkZXZfcHJpdiktPmd0ID09IDIpCiAj
ZGVmaW5lIElTX1NLTF9HVDMoZGV2X3ByaXYpCShJU19TS1lMQUtFKGRldl9wcml2KSAmJiBcCkBA
IC0yMjI4LDYgKzIyMjUsOCBAQCBJU19TVUJQTEFURk9STShjb25zdCBzdHJ1Y3QgZHJtX2k5MTVf
cHJpdmF0ZSAqaTkxNSwKIAkJCQkgSU5URUxfSU5GTyhkZXZfcHJpdiktPmd0ID09IDMpCiAjZGVm
aW5lIElTX0NGTF9VTFQoZGV2X3ByaXYpIFwKIAlJU19TVUJQTEFURk9STShkZXZfcHJpdiwgSU5U
RUxfQ09GRkVFTEFLRSwgSU5URUxfU1VCUExBVEZPUk1fVUxUKQorI2RlZmluZSBJU19DRkxfVUxY
KGRldl9wcml2KSBcCisJSVNfU1VCUExBVEZPUk0oZGV2X3ByaXYsIElOVEVMX0NPRkZFRUxBS0Us
IElOVEVMX1NVQlBMQVRGT1JNX1VMWCkKICNkZWZpbmUgSVNfQ0ZMX0dUMihkZXZfcHJpdikJKElT
X0NPRkZFRUxBS0UoZGV2X3ByaXYpICYmIFwKIAkJCQkgSU5URUxfSU5GTyhkZXZfcHJpdiktPmd0
ID09IDIpCiAjZGVmaW5lIElTX0NGTF9HVDMoZGV2X3ByaXYpCShJU19DT0ZGRUVMQUtFKGRldl9w
cml2KSAmJiBcCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9kZGkuYyBi
L2RyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX2RkaS5jCmluZGV4IDM1MGVhZjU0ZjAxZi4uNjVj
MDJiMjYwYzk4IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9kZGkuYwor
KysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9kZGkuYwpAQCAtNjE1LDcgKzYxNSw3IEBA
IHNrbF9nZXRfYnVmX3RyYW5zX2RwKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiwg
aW50ICpuX2VudHJpZXMpCiBzdGF0aWMgY29uc3Qgc3RydWN0IGRkaV9idWZfdHJhbnMgKgoga2Js
X2dldF9idWZfdHJhbnNfZHAoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2LCBpbnQg
Km5fZW50cmllcykKIHsKLQlpZiAoSVNfS0JMX1VMWChkZXZfcHJpdikgfHwgSVNfQU1MX1VMWChk
ZXZfcHJpdikpIHsKKwlpZiAoSVNfS0JMX1VMWChkZXZfcHJpdikgfHwgSVNfQ0ZMX1VMWChkZXZf
cHJpdikpIHsKIAkJKm5fZW50cmllcyA9IEFSUkFZX1NJWkUoa2JsX3lfZGRpX3RyYW5zbGF0aW9u
c19kcCk7CiAJCXJldHVybiBrYmxfeV9kZGlfdHJhbnNsYXRpb25zX2RwOwogCX0gZWxzZSBpZiAo
SVNfS0JMX1VMVChkZXZfcHJpdikgfHwgSVNfQ0ZMX1VMVChkZXZfcHJpdikpIHsKQEAgLTYzMSw3
ICs2MzEsOCBAQCBzdGF0aWMgY29uc3Qgc3RydWN0IGRkaV9idWZfdHJhbnMgKgogc2tsX2dldF9i
dWZfdHJhbnNfZWRwKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiwgaW50ICpuX2Vu
dHJpZXMpCiB7CiAJaWYgKGRldl9wcml2LT52YnQuZWRwLmxvd192c3dpbmcpIHsKLQkJaWYgKElT
X1NLTF9VTFgoZGV2X3ByaXYpIHx8IElTX0tCTF9VTFgoZGV2X3ByaXYpIHx8IElTX0FNTF9VTFgo
ZGV2X3ByaXYpKSB7CisJCWlmIChJU19TS0xfVUxYKGRldl9wcml2KSB8fCBJU19LQkxfVUxYKGRl
dl9wcml2KSB8fAorCQkgICAgSVNfQ0ZMX1VMWChkZXZfcHJpdikpIHsKIAkJCSpuX2VudHJpZXMg
PSBBUlJBWV9TSVpFKHNrbF95X2RkaV90cmFuc2xhdGlvbnNfZWRwKTsKIAkJCXJldHVybiBza2xf
eV9kZGlfdHJhbnNsYXRpb25zX2VkcDsKIAkJfSBlbHNlIGlmIChJU19TS0xfVUxUKGRldl9wcml2
KSB8fCBJU19LQkxfVUxUKGRldl9wcml2KSB8fApAQCAtNjUzLDcgKzY1NCw4IEBAIHNrbF9nZXRf
YnVmX3RyYW5zX2VkcChzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYsIGludCAqbl9l
bnRyaWVzKQogc3RhdGljIGNvbnN0IHN0cnVjdCBkZGlfYnVmX3RyYW5zICoKIHNrbF9nZXRfYnVm
X3RyYW5zX2hkbWkoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2LCBpbnQgKm5fZW50
cmllcykKIHsKLQlpZiAoSVNfU0tMX1VMWChkZXZfcHJpdikgfHwgSVNfS0JMX1VMWChkZXZfcHJp
dikgfHwgSVNfQU1MX1VMWChkZXZfcHJpdikpIHsKKwlpZiAoSVNfU0tMX1VMWChkZXZfcHJpdikg
fHwgSVNfS0JMX1VMWChkZXZfcHJpdikgfHwKKwkgICAgSVNfQ0ZMX1VMWChkZXZfcHJpdikpIHsK
IAkJKm5fZW50cmllcyA9IEFSUkFZX1NJWkUoc2tsX3lfZGRpX3RyYW5zbGF0aW9uc19oZG1pKTsK
IAkJcmV0dXJuIHNrbF95X2RkaV90cmFuc2xhdGlvbnNfaGRtaTsKIAl9IGVsc2UgewpkaWZmIC0t
Z2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfZGV2aWNlX2luZm8uYyBiL2RyaXZlcnMv
Z3B1L2RybS9pOTE1L2ludGVsX2RldmljZV9pbmZvLmMKaW5kZXggMTk0MzdlOGVjNmZhLi43MTM1
ZDhkYzMyYTcgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX2RldmljZV9p
bmZvLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfZGV2aWNlX2luZm8uYwpAQCAt
Nzg3LDkgKzc4Nyw2IEBAIHN0YXRpYyBjb25zdCB1MTYgc3VicGxhdGZvcm1fdWx4X2lkc1tdID0g
ewogCUlOVEVMX1NLTF9VTFhfR1QyX0lEUygwKSwKIAlJTlRFTF9LQkxfVUxYX0dUMV9JRFMoMCks
CiAJSU5URUxfS0JMX1VMWF9HVDJfSURTKDApLAotfTsKLQotc3RhdGljIGNvbnN0IHUxNiBzdWJw
bGF0Zm9ybV9hbWxfaWRzW10gPSB7CiAJSU5URUxfQU1MX0tCTF9HVDJfSURTKDApLAogCUlOVEVM
X0FNTF9DRkxfR1QyX0lEUygwKSwKIH07CkBAIC04MzIsOSArODI5LDYgQEAgdm9pZCBpbnRlbF9k
ZXZpY2VfaW5mb19zdWJwbGF0Zm9ybV9pbml0KHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICppOTE1
KQogCQkJLyogVUxYIG1hY2hpbmVzIGFyZSBhbHNvIGNvbnNpZGVyZWQgVUxULiAqLwogCQkJbWFz
ayB8PSBCSVQoSU5URUxfU1VCUExBVEZPUk1fVUxUKTsKIAkJfQotCX0gZWxzZSBpZiAoZmluZF9k
ZXZpZChkZXZpZCwgc3VicGxhdGZvcm1fYW1sX2lkcywKLQkJCSAgICAgIEFSUkFZX1NJWkUoc3Vi
cGxhdGZvcm1fYW1sX2lkcykpKSB7Ci0JCW1hc2sgPSBCSVQoSU5URUxfU1VCUExBVEZPUk1fQU1M
KTsKIAl9IGVsc2UgaWYgKGZpbmRfZGV2aWQoZGV2aWQsIHN1YnBsYXRmb3JtX3BvcnRmX2lkcywK
IAkJCSAgICAgIEFSUkFZX1NJWkUoc3VicGxhdGZvcm1fcG9ydGZfaWRzKSkpIHsKIAkJbWFzayA9
IEJJVChJTlRFTF9TVUJQTEFURk9STV9QT1JURik7CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9k
cm0vaTkxNS9pbnRlbF9kZXZpY2VfaW5mby5oIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxf
ZGV2aWNlX2luZm8uaAppbmRleCBkNjdkZWRmMGNiZDguLmVlNDc3NmRjNTliZCAxMDA2NDQKLS0t
IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfZGV2aWNlX2luZm8uaAorKysgYi9kcml2ZXJz
L2dwdS9kcm0vaTkxNS9pbnRlbF9kZXZpY2VfaW5mby5oCkBAIC05MSw3ICs5MSw2IEBAIGVudW0g
aW50ZWxfcGxhdGZvcm0gewogLyogSFNXL0JEVy9TS0wvS0JML0NGTCAqLwogI2RlZmluZSBJTlRF
TF9TVUJQTEFURk9STV9VTFQJKDApCiAjZGVmaW5lIElOVEVMX1NVQlBMQVRGT1JNX1VMWAkoMSkK
LSNkZWZpbmUgSU5URUxfU1VCUExBVEZPUk1fQU1MCSgyKQogCiAvKiBDTkwvSUNMICovCiAjZGVm
aW5lIElOVEVMX1NVQlBMQVRGT1JNX1BPUlRGCSgwKQotLSAKMi4yMS4wCgpfX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpJbnRlbC1nZnggbWFpbGluZyBsaXN0
CkludGVsLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3Rv
cC5vcmcvbWFpbG1hbi9saXN0aW5mby9pbnRlbC1nZng=

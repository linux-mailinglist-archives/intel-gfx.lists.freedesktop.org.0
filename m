Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 7F9249CA1E
	for <lists+intel-gfx@lfdr.de>; Mon, 26 Aug 2019 09:23:11 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id AC0916E1E0;
	Mon, 26 Aug 2019 07:23:06 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from fireflyinternet.com (mail.fireflyinternet.com [109.228.58.192])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 03BBD6E1D6
 for <intel-gfx@lists.freedesktop.org>; Mon, 26 Aug 2019 07:22:15 +0000 (UTC)
X-Default-Received-SPF: pass (skip=forwardok (res=PASS))
 x-ip-name=78.156.65.138; 
Received: from haswell.alporthouse.com (unverified [78.156.65.138]) 
 by fireflyinternet.com (Firefly Internet (M1)) with ESMTP id 18262685-1500050 
 for multiple; Mon, 26 Aug 2019 08:21:53 +0100
From: Chris Wilson <chris@chris-wilson.co.uk>
To: intel-gfx@lists.freedesktop.org
Date: Mon, 26 Aug 2019 08:21:31 +0100
Message-Id: <20190826072149.9447-10-chris@chris-wilson.co.uk>
X-Mailer: git-send-email 2.23.0
In-Reply-To: <20190826072149.9447-1-chris@chris-wilson.co.uk>
References: <20190826072149.9447-1-chris@chris-wilson.co.uk>
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH 10/28] drm/mm: Pack allocated/scanned boolean
 into a bitfield
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

VGhlIHVsdGVyaW9yIG1vdGl2ZSB0byBzd2l0Y2hpbmcgdGhlIGJvb2xlYW5zIG92ZXIgdG8gYml0
b3BzIGlzIHRvCmFsbG93IHVzZSBvZiB0aGUgYWxsb2NhdGVkIGZsYWcgYXMgYSBiaXRsb2NrLgoK
U2lnbmVkLW9mZi1ieTogQ2hyaXMgV2lsc29uIDxjaHJpc0BjaHJpcy13aWxzb24uY28udWs+Ci0t
LQogZHJpdmVycy9ncHUvZHJtL2RybV9tbS5jICAgICAgICAgICAgICAgICAgICAgIHwgMzYgKysr
KysrKysrKystLS0tLS0tLQogLi4uL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fZXhlY2J1ZmZl
ci5jICAgIHwgIDYgKystLQogZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvdWMvaW50ZWxfdWNfZncu
YyAgICAgIHwgIDIgKy0KIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZ2VtLmMgICAgICAgICAg
ICAgICB8IDE2ICsrKystLS0tLQogZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9nZW1fZXZpY3Qu
YyAgICAgICAgIHwgIDIgKy0KIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZ2VtX2d0dC5jICAg
ICAgICAgICB8ICAyICstCiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3ZtYS5jICAgICAgICAg
ICAgICAgfCAgNCArLS0KIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfdm1hLmggICAgICAgICAg
ICAgICB8ICAyICstCiBkcml2ZXJzL2dwdS9kcm0vc2VsZnRlc3RzL3Rlc3QtZHJtX21tLmMgICAg
ICAgfCAxNCArKysrLS0tLQogaW5jbHVkZS9kcm0vZHJtX21tLmggICAgICAgICAgICAgICAgICAg
ICAgICAgIHwgIDcgKystLQogMTAgZmlsZXMgY2hhbmdlZCwgNDkgaW5zZXJ0aW9ucygrKSwgNDIg
ZGVsZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2RybV9tbS5jIGIvZHJp
dmVycy9ncHUvZHJtL2RybV9tbS5jCmluZGV4IDQ1ODFjNTM4NzM3Mi4uMjExOTY3MDA2Y2VjIDEw
MDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vZHJtX21tLmMKKysrIGIvZHJpdmVycy9ncHUvZHJt
L2RybV9tbS5jCkBAIC0xNzQsNyArMTc0LDcgQEAgc3RhdGljIHZvaWQgZHJtX21tX2ludGVydmFs
X3RyZWVfYWRkX25vZGUoc3RydWN0IGRybV9tbV9ub2RlICpob2xlX25vZGUsCiAKIAlub2RlLT5f
X3N1YnRyZWVfbGFzdCA9IExBU1Qobm9kZSk7CiAKLQlpZiAoaG9sZV9ub2RlLT5hbGxvY2F0ZWQp
IHsKKwlpZiAoZHJtX21tX25vZGVfYWxsb2NhdGVkKGhvbGVfbm9kZSkpIHsKIAkJcmIgPSAmaG9s
ZV9ub2RlLT5yYjsKIAkJd2hpbGUgKHJiKSB7CiAJCQlwYXJlbnQgPSByYl9lbnRyeShyYiwgc3Ry
dWN0IGRybV9tbV9ub2RlLCByYik7CkBAIC00MjQsOSArNDI0LDkgQEAgaW50IGRybV9tbV9yZXNl
cnZlX25vZGUoc3RydWN0IGRybV9tbSAqbW0sIHN0cnVjdCBkcm1fbW1fbm9kZSAqbm9kZSkKIAog
CW5vZGUtPm1tID0gbW07CiAKKwlfX3NldF9iaXQoRFJNX01NX05PREVfQUxMT0NBVEVEX0JJVCwg
Jm5vZGUtPmZsYWdzKTsKIAlsaXN0X2FkZCgmbm9kZS0+bm9kZV9saXN0LCAmaG9sZS0+bm9kZV9s
aXN0KTsKIAlkcm1fbW1faW50ZXJ2YWxfdHJlZV9hZGRfbm9kZShob2xlLCBub2RlKTsKLQlub2Rl
LT5hbGxvY2F0ZWQgPSB0cnVlOwogCW5vZGUtPmhvbGVfc2l6ZSA9IDA7CiAKIAlybV9ob2xlKGhv
bGUpOwpAQCAtNTQzLDkgKzU0Myw5IEBAIGludCBkcm1fbW1faW5zZXJ0X25vZGVfaW5fcmFuZ2Uo
c3RydWN0IGRybV9tbSAqIGNvbnN0IG1tLAogCQlub2RlLT5jb2xvciA9IGNvbG9yOwogCQlub2Rl
LT5ob2xlX3NpemUgPSAwOwogCisJCV9fc2V0X2JpdChEUk1fTU1fTk9ERV9BTExPQ0FURURfQklU
LCAmbm9kZS0+ZmxhZ3MpOwogCQlsaXN0X2FkZCgmbm9kZS0+bm9kZV9saXN0LCAmaG9sZS0+bm9k
ZV9saXN0KTsKIAkJZHJtX21tX2ludGVydmFsX3RyZWVfYWRkX25vZGUoaG9sZSwgbm9kZSk7Ci0J
CW5vZGUtPmFsbG9jYXRlZCA9IHRydWU7CiAKIAkJcm1faG9sZShob2xlKTsKIAkJaWYgKGFkal9z
dGFydCA+IGhvbGVfc3RhcnQpCkBAIC01NjEsNiArNTYxLDExIEBAIGludCBkcm1fbW1faW5zZXJ0
X25vZGVfaW5fcmFuZ2Uoc3RydWN0IGRybV9tbSAqIGNvbnN0IG1tLAogfQogRVhQT1JUX1NZTUJP
TChkcm1fbW1faW5zZXJ0X25vZGVfaW5fcmFuZ2UpOwogCitzdGF0aWMgaW5saW5lIGJvb2wgZHJt
X21tX25vZGVfc2Nhbm5lZF9ibG9jayhjb25zdCBzdHJ1Y3QgZHJtX21tX25vZGUgKm5vZGUpCit7
CisJcmV0dXJuIHRlc3RfYml0KERSTV9NTV9OT0RFX1NDQU5ORURfQklULCAmbm9kZS0+ZmxhZ3Mp
OworfQorCiAvKioKICAqIGRybV9tbV9yZW1vdmVfbm9kZSAtIFJlbW92ZSBhIG1lbW9yeSBub2Rl
IGZyb20gdGhlIGFsbG9jYXRvci4KICAqIEBub2RlOiBkcm1fbW1fbm9kZSB0byByZW1vdmUKQEAg
LTU3NCw4ICs1NzksOCBAQCB2b2lkIGRybV9tbV9yZW1vdmVfbm9kZShzdHJ1Y3QgZHJtX21tX25v
ZGUgKm5vZGUpCiAJc3RydWN0IGRybV9tbSAqbW0gPSBub2RlLT5tbTsKIAlzdHJ1Y3QgZHJtX21t
X25vZGUgKnByZXZfbm9kZTsKIAotCURSTV9NTV9CVUdfT04oIW5vZGUtPmFsbG9jYXRlZCk7Ci0J
RFJNX01NX0JVR19PTihub2RlLT5zY2FubmVkX2Jsb2NrKTsKKwlEUk1fTU1fQlVHX09OKCFkcm1f
bW1fbm9kZV9hbGxvY2F0ZWQobm9kZSkpOworCURSTV9NTV9CVUdfT04oZHJtX21tX25vZGVfc2Nh
bm5lZF9ibG9jayhub2RlKSk7CiAKIAlwcmV2X25vZGUgPSBsaXN0X3ByZXZfZW50cnkobm9kZSwg
bm9kZV9saXN0KTsKIApAQCAtNTg0LDExICs1ODksMTIgQEAgdm9pZCBkcm1fbW1fcmVtb3ZlX25v
ZGUoc3RydWN0IGRybV9tbV9ub2RlICpub2RlKQogCiAJZHJtX21tX2ludGVydmFsX3RyZWVfcmVt
b3ZlKG5vZGUsICZtbS0+aW50ZXJ2YWxfdHJlZSk7CiAJbGlzdF9kZWwoJm5vZGUtPm5vZGVfbGlz
dCk7Ci0Jbm9kZS0+YWxsb2NhdGVkID0gZmFsc2U7CiAKIAlpZiAoZHJtX21tX2hvbGVfZm9sbG93
cyhwcmV2X25vZGUpKQogCQlybV9ob2xlKHByZXZfbm9kZSk7CiAJYWRkX2hvbGUocHJldl9ub2Rl
KTsKKworCWNsZWFyX2JpdF91bmxvY2soRFJNX01NX05PREVfQUxMT0NBVEVEX0JJVCwgJm5vZGUt
PmZsYWdzKTsKIH0KIEVYUE9SVF9TWU1CT0woZHJtX21tX3JlbW92ZV9ub2RlKTsKIApAQCAtNjA1
LDcgKzYxMSw3IEBAIHZvaWQgZHJtX21tX3JlcGxhY2Vfbm9kZShzdHJ1Y3QgZHJtX21tX25vZGUg
Km9sZCwgc3RydWN0IGRybV9tbV9ub2RlICpuZXcpCiB7CiAJc3RydWN0IGRybV9tbSAqbW0gPSBv
bGQtPm1tOwogCi0JRFJNX01NX0JVR19PTighb2xkLT5hbGxvY2F0ZWQpOworCURSTV9NTV9CVUdf
T04oIWRybV9tbV9ub2RlX2FsbG9jYXRlZChvbGQpKTsKIAogCSpuZXcgPSAqb2xkOwogCkBAIC02
MjIsOCArNjI4LDcgQEAgdm9pZCBkcm1fbW1fcmVwbGFjZV9ub2RlKHN0cnVjdCBkcm1fbW1fbm9k
ZSAqb2xkLCBzdHJ1Y3QgZHJtX21tX25vZGUgKm5ldykKIAkJCQkmbW0tPmhvbGVzX2FkZHIpOwog
CX0KIAotCW9sZC0+YWxsb2NhdGVkID0gZmFsc2U7Ci0JbmV3LT5hbGxvY2F0ZWQgPSB0cnVlOwor
CWNsZWFyX2JpdF91bmxvY2soRFJNX01NX05PREVfQUxMT0NBVEVEX0JJVCwgJm9sZC0+ZmxhZ3Mp
OwogfQogRVhQT1JUX1NZTUJPTChkcm1fbW1fcmVwbGFjZV9ub2RlKTsKIApAQCAtNzMxLDkgKzcz
Niw5IEBAIGJvb2wgZHJtX21tX3NjYW5fYWRkX2Jsb2NrKHN0cnVjdCBkcm1fbW1fc2NhbiAqc2Nh
biwKIAl1NjQgYWRqX3N0YXJ0LCBhZGpfZW5kOwogCiAJRFJNX01NX0JVR19PTihub2RlLT5tbSAh
PSBtbSk7Ci0JRFJNX01NX0JVR19PTighbm9kZS0+YWxsb2NhdGVkKTsKLQlEUk1fTU1fQlVHX09O
KG5vZGUtPnNjYW5uZWRfYmxvY2spOwotCW5vZGUtPnNjYW5uZWRfYmxvY2sgPSB0cnVlOworCURS
TV9NTV9CVUdfT04oIWRybV9tbV9ub2RlX2FsbG9jYXRlZChub2RlKSk7CisJRFJNX01NX0JVR19P
Tihkcm1fbW1fbm9kZV9zY2FubmVkX2Jsb2NrKG5vZGUpKTsKKwlfX3NldF9iaXQoRFJNX01NX05P
REVfU0NBTk5FRF9CSVQsICZub2RlLT5mbGFncyk7CiAJbW0tPnNjYW5fYWN0aXZlKys7CiAKIAkv
KiBSZW1vdmUgdGhpcyBibG9jayBmcm9tIHRoZSBub2RlX2xpc3Qgc28gdGhhdCB3ZSBlbmxhcmdl
IHRoZSBob2xlCkBAIC04MTgsOCArODIzLDcgQEAgYm9vbCBkcm1fbW1fc2Nhbl9yZW1vdmVfYmxv
Y2soc3RydWN0IGRybV9tbV9zY2FuICpzY2FuLAogCXN0cnVjdCBkcm1fbW1fbm9kZSAqcHJldl9u
b2RlOwogCiAJRFJNX01NX0JVR19PTihub2RlLT5tbSAhPSBzY2FuLT5tbSk7Ci0JRFJNX01NX0JV
R19PTighbm9kZS0+c2Nhbm5lZF9ibG9jayk7Ci0Jbm9kZS0+c2Nhbm5lZF9ibG9jayA9IGZhbHNl
OworCURSTV9NTV9CVUdfT04oIWRybV9tbV9ub2RlX3NjYW5uZWRfYmxvY2sobm9kZSkpOwogCiAJ
RFJNX01NX0JVR19PTighbm9kZS0+bW0tPnNjYW5fYWN0aXZlKTsKIAlub2RlLT5tbS0+c2Nhbl9h
Y3RpdmUtLTsKQEAgLTgzNyw2ICs4NDEsOCBAQCBib29sIGRybV9tbV9zY2FuX3JlbW92ZV9ibG9j
ayhzdHJ1Y3QgZHJtX21tX3NjYW4gKnNjYW4sCiAJCSAgICAgIGxpc3RfbmV4dF9lbnRyeShub2Rl
LCBub2RlX2xpc3QpKTsKIAlsaXN0X2FkZCgmbm9kZS0+bm9kZV9saXN0LCAmcHJldl9ub2RlLT5u
b2RlX2xpc3QpOwogCisJX19jbGVhcl9iaXQoRFJNX01NX05PREVfU0NBTk5FRF9CSVQsICZub2Rl
LT5mbGFncyk7CisKIAlyZXR1cm4gKG5vZGUtPnN0YXJ0ICsgbm9kZS0+c2l6ZSA+IHNjYW4tPmhp
dF9zdGFydCAmJgogCQlub2RlLT5zdGFydCA8IHNjYW4tPmhpdF9lbmQpOwogfQpAQCAtOTE3LDcg
KzkyMyw3IEBAIHZvaWQgZHJtX21tX2luaXQoc3RydWN0IGRybV9tbSAqbW0sIHU2NCBzdGFydCwg
dTY0IHNpemUpCiAKIAkvKiBDbGV2ZXIgdHJpY2sgdG8gYXZvaWQgYSBzcGVjaWFsIGNhc2UgaW4g
dGhlIGZyZWUgaG9sZSB0cmFja2luZy4gKi8KIAlJTklUX0xJU1RfSEVBRCgmbW0tPmhlYWRfbm9k
ZS5ub2RlX2xpc3QpOwotCW1tLT5oZWFkX25vZGUuYWxsb2NhdGVkID0gZmFsc2U7CisJbW0tPmhl
YWRfbm9kZS5mbGFncyA9IDA7CiAJbW0tPmhlYWRfbm9kZS5tbSA9IG1tOwogCW1tLT5oZWFkX25v
ZGUuc3RhcnQgPSBzdGFydCArIHNpemU7CiAJbW0tPmhlYWRfbm9kZS5zaXplID0gLXNpemU7CmRp
ZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fZXhlY2J1ZmZlci5j
IGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX2V4ZWNidWZmZXIuYwppbmRleCBi
NWY2OTM3MzY5ZWEuLjQ5M2YwNzgwNmIwOCAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5
MTUvZ2VtL2k5MTVfZ2VtX2V4ZWNidWZmZXIuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9n
ZW0vaTkxNV9nZW1fZXhlY2J1ZmZlci5jCkBAIC05MDIsNyArOTAyLDcgQEAgc3RhdGljIHZvaWQg
cmVsb2NfY2FjaGVfaW5pdChzdHJ1Y3QgcmVsb2NfY2FjaGUgKmNhY2hlLAogCWNhY2hlLT51c2Vf
NjRiaXRfcmVsb2MgPSBIQVNfNjRCSVRfUkVMT0MoaTkxNSk7CiAJY2FjaGUtPmhhc19mZW5jZSA9
IGNhY2hlLT5nZW4gPCA0OwogCWNhY2hlLT5uZWVkc191bmZlbmNlZCA9IElOVEVMX0lORk8oaTkx
NSktPnVuZmVuY2VkX25lZWRzX2FsaWdubWVudDsKLQljYWNoZS0+bm9kZS5hbGxvY2F0ZWQgPSBm
YWxzZTsKKwljYWNoZS0+bm9kZS5mbGFncyA9IDA7CiAJY2FjaGUtPnJxID0gTlVMTDsKIAljYWNo
ZS0+cnFfc2l6ZSA9IDA7CiB9CkBAIC05NjMsNyArOTYzLDcgQEAgc3RhdGljIHZvaWQgcmVsb2Nf
Y2FjaGVfcmVzZXQoc3RydWN0IHJlbG9jX2NhY2hlICpjYWNoZSkKIAkJaW50ZWxfZ3RfZmx1c2hf
Z2d0dF93cml0ZXMoZ2d0dC0+dm0uZ3QpOwogCQlpb19tYXBwaW5nX3VubWFwX2F0b21pYygodm9p
ZCBfX2lvbWVtICopdmFkZHIpOwogCi0JCWlmIChjYWNoZS0+bm9kZS5hbGxvY2F0ZWQpIHsKKwkJ
aWYgKGRybV9tbV9ub2RlX2FsbG9jYXRlZCgmY2FjaGUtPm5vZGUpKSB7CiAJCQlnZ3R0LT52bS5j
bGVhcl9yYW5nZSgmZ2d0dC0+dm0sCiAJCQkJCSAgICAgY2FjaGUtPm5vZGUuc3RhcnQsCiAJCQkJ
CSAgICAgY2FjaGUtPm5vZGUuc2l6ZSk7CkBAIC0xMDU2LDcgKzEwNTYsNyBAQCBzdGF0aWMgdm9p
ZCAqcmVsb2NfaW9tYXAoc3RydWN0IGRybV9pOTE1X2dlbV9vYmplY3QgKm9iaiwKIAl9CiAKIAlv
ZmZzZXQgPSBjYWNoZS0+bm9kZS5zdGFydDsKLQlpZiAoY2FjaGUtPm5vZGUuYWxsb2NhdGVkKSB7
CisJaWYgKGRybV9tbV9ub2RlX2FsbG9jYXRlZCgmY2FjaGUtPm5vZGUpKSB7CiAJCWdndHQtPnZt
Lmluc2VydF9wYWdlKCZnZ3R0LT52bSwKIAkJCQkgICAgIGk5MTVfZ2VtX29iamVjdF9nZXRfZG1h
X2FkZHJlc3Mob2JqLCBwYWdlKSwKIAkJCQkgICAgIG9mZnNldCwgSTkxNV9DQUNIRV9OT05FLCAw
KTsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L3VjL2ludGVsX3VjX2Z3LmMg
Yi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC91Yy9pbnRlbF91Y19mdy5jCmluZGV4IDI5NmE4MjYw
M2JlMC4uMDdmYzZmMjhhYmNkIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC91
Yy9pbnRlbF91Y19mdy5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L3VjL2ludGVsX3Vj
X2Z3LmMKQEAgLTQwMSw3ICs0MDEsNyBAQCBzdGF0aWMgdTMyIHVjX2Z3X2dndHRfb2Zmc2V0KHN0
cnVjdCBpbnRlbF91Y19mdyAqdWNfZncsIHN0cnVjdCBpOTE1X2dndHQgKmdndHQpCiB7CiAJc3Ry
dWN0IGRybV9tbV9ub2RlICpub2RlID0gJmdndHQtPnVjX2Z3OwogCi0JR0VNX0JVR19PTighbm9k
ZS0+YWxsb2NhdGVkKTsKKwlHRU1fQlVHX09OKCFkcm1fbW1fbm9kZV9hbGxvY2F0ZWQobm9kZSkp
OwogCUdFTV9CVUdfT04odXBwZXJfMzJfYml0cyhub2RlLT5zdGFydCkpOwogCUdFTV9CVUdfT04o
dXBwZXJfMzJfYml0cyhub2RlLT5zdGFydCArIG5vZGUtPnNpemUgLSAxKSk7CiAKZGlmZiAtLWdp
dCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZ2VtLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkx
NS9pOTE1X2dlbS5jCmluZGV4IDk1ZTdjNTJjZjhlZC4uODE0ZjYyZmNhNzI3IDEwMDY0NAotLS0g
YS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2dlbS5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9p
OTE1L2k5MTVfZ2VtLmMKQEAgLTM1MSwxMiArMzUxLDEyIEBAIGk5MTVfZ2VtX2d0dF9wcmVhZChz
dHJ1Y3QgZHJtX2k5MTVfZ2VtX29iamVjdCAqb2JqLAogCQkJCQkgICAgICAgUElOX05PRVZJQ1Qp
OwogCWlmICghSVNfRVJSKHZtYSkpIHsKIAkJbm9kZS5zdGFydCA9IGk5MTVfZ2d0dF9vZmZzZXQo
dm1hKTsKLQkJbm9kZS5hbGxvY2F0ZWQgPSBmYWxzZTsKKwkJbm9kZS5mbGFncyA9IDA7CiAJfSBl
bHNlIHsKIAkJcmV0ID0gaW5zZXJ0X21hcHBhYmxlX25vZGUoZ2d0dCwgJm5vZGUsIFBBR0VfU0la
RSk7CiAJCWlmIChyZXQpCiAJCQlnb3RvIG91dF91bmxvY2s7Ci0JCUdFTV9CVUdfT04oIW5vZGUu
YWxsb2NhdGVkKTsKKwkJR0VNX0JVR19PTighZHJtX21tX25vZGVfYWxsb2NhdGVkKCZub2RlKSk7
CiAJfQogCiAJbXV0ZXhfdW5sb2NrKCZpOTE1LT5kcm0uc3RydWN0X211dGV4KTsKQEAgLTM5Myw3
ICszOTMsNyBAQCBpOTE1X2dlbV9ndHRfcHJlYWQoc3RydWN0IGRybV9pOTE1X2dlbV9vYmplY3Qg
Km9iaiwKIAkJdW5zaWduZWQgcGFnZV9vZmZzZXQgPSBvZmZzZXRfaW5fcGFnZShvZmZzZXQpOwog
CQl1bnNpZ25lZCBwYWdlX2xlbmd0aCA9IFBBR0VfU0laRSAtIHBhZ2Vfb2Zmc2V0OwogCQlwYWdl
X2xlbmd0aCA9IHJlbWFpbiA8IHBhZ2VfbGVuZ3RoID8gcmVtYWluIDogcGFnZV9sZW5ndGg7Ci0J
CWlmIChub2RlLmFsbG9jYXRlZCkgeworCQlpZiAoZHJtX21tX25vZGVfYWxsb2NhdGVkKCZub2Rl
KSkgewogCQkJZ2d0dC0+dm0uaW5zZXJ0X3BhZ2UoJmdndHQtPnZtLAogCQkJCQkgICAgIGk5MTVf
Z2VtX29iamVjdF9nZXRfZG1hX2FkZHJlc3Mob2JqLCBvZmZzZXQgPj4gUEFHRV9TSElGVCksCiAJ
CQkJCSAgICAgbm9kZS5zdGFydCwgSTkxNV9DQUNIRV9OT05FLCAwKTsKQEAgLTQxNSw3ICs0MTUs
NyBAQCBpOTE1X2dlbV9ndHRfcHJlYWQoc3RydWN0IGRybV9pOTE1X2dlbV9vYmplY3QgKm9iaiwK
IAlpOTE1X2dlbV9vYmplY3RfdW5sb2NrX2ZlbmNlKG9iaiwgZmVuY2UpOwogb3V0X3VucGluOgog
CW11dGV4X2xvY2soJmk5MTUtPmRybS5zdHJ1Y3RfbXV0ZXgpOwotCWlmIChub2RlLmFsbG9jYXRl
ZCkgeworCWlmIChkcm1fbW1fbm9kZV9hbGxvY2F0ZWQoJm5vZGUpKSB7CiAJCWdndHQtPnZtLmNs
ZWFyX3JhbmdlKCZnZ3R0LT52bSwgbm9kZS5zdGFydCwgbm9kZS5zaXplKTsKIAkJcmVtb3ZlX21h
cHBhYmxlX25vZGUoJm5vZGUpOwogCX0gZWxzZSB7CkBAIC01NjEsMTIgKzU2MSwxMiBAQCBpOTE1
X2dlbV9ndHRfcHdyaXRlX2Zhc3Qoc3RydWN0IGRybV9pOTE1X2dlbV9vYmplY3QgKm9iaiwKIAkJ
CQkJICAgICAgIFBJTl9OT0VWSUNUKTsKIAlpZiAoIUlTX0VSUih2bWEpKSB7CiAJCW5vZGUuc3Rh
cnQgPSBpOTE1X2dndHRfb2Zmc2V0KHZtYSk7Ci0JCW5vZGUuYWxsb2NhdGVkID0gZmFsc2U7CisJ
CW5vZGUuZmxhZ3MgPSAwOwogCX0gZWxzZSB7CiAJCXJldCA9IGluc2VydF9tYXBwYWJsZV9ub2Rl
KGdndHQsICZub2RlLCBQQUdFX1NJWkUpOwogCQlpZiAocmV0KQogCQkJZ290byBvdXRfcnBtOwot
CQlHRU1fQlVHX09OKCFub2RlLmFsbG9jYXRlZCk7CisJCUdFTV9CVUdfT04oIWRybV9tbV9ub2Rl
X2FsbG9jYXRlZCgmbm9kZSkpOwogCX0KIAogCW11dGV4X3VubG9jaygmaTkxNS0+ZHJtLnN0cnVj
dF9tdXRleCk7CkBAIC02MDQsNyArNjA0LDcgQEAgaTkxNV9nZW1fZ3R0X3B3cml0ZV9mYXN0KHN0
cnVjdCBkcm1faTkxNV9nZW1fb2JqZWN0ICpvYmosCiAJCXVuc2lnbmVkIGludCBwYWdlX29mZnNl
dCA9IG9mZnNldF9pbl9wYWdlKG9mZnNldCk7CiAJCXVuc2lnbmVkIGludCBwYWdlX2xlbmd0aCA9
IFBBR0VfU0laRSAtIHBhZ2Vfb2Zmc2V0OwogCQlwYWdlX2xlbmd0aCA9IHJlbWFpbiA8IHBhZ2Vf
bGVuZ3RoID8gcmVtYWluIDogcGFnZV9sZW5ndGg7Ci0JCWlmIChub2RlLmFsbG9jYXRlZCkgewor
CQlpZiAoZHJtX21tX25vZGVfYWxsb2NhdGVkKCZub2RlKSkgewogCQkJLyogZmx1c2ggdGhlIHdy
aXRlIGJlZm9yZSB3ZSBtb2RpZnkgdGhlIEdHVFQgKi8KIAkJCWludGVsX2d0X2ZsdXNoX2dndHRf
d3JpdGVzKGdndHQtPnZtLmd0KTsKIAkJCWdndHQtPnZtLmluc2VydF9wYWdlKCZnZ3R0LT52bSwK
QEAgLTYzNiw3ICs2MzYsNyBAQCBpOTE1X2dlbV9ndHRfcHdyaXRlX2Zhc3Qoc3RydWN0IGRybV9p
OTE1X2dlbV9vYmplY3QgKm9iaiwKIG91dF91bnBpbjoKIAltdXRleF9sb2NrKCZpOTE1LT5kcm0u
c3RydWN0X211dGV4KTsKIAlpbnRlbF9ndF9mbHVzaF9nZ3R0X3dyaXRlcyhnZ3R0LT52bS5ndCk7
Ci0JaWYgKG5vZGUuYWxsb2NhdGVkKSB7CisJaWYgKGRybV9tbV9ub2RlX2FsbG9jYXRlZCgmbm9k
ZSkpIHsKIAkJZ2d0dC0+dm0uY2xlYXJfcmFuZ2UoJmdndHQtPnZtLCBub2RlLnN0YXJ0LCBub2Rl
LnNpemUpOwogCQlyZW1vdmVfbWFwcGFibGVfbm9kZSgmbm9kZSk7CiAJfSBlbHNlIHsKZGlmZiAt
LWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZ2VtX2V2aWN0LmMgYi9kcml2ZXJzL2dw
dS9kcm0vaTkxNS9pOTE1X2dlbV9ldmljdC5jCmluZGV4IDUyYzg2YzZlMDY3My4uN2FiY2FjM2I1
ZTJlIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2dlbV9ldmljdC5jCisr
KyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZ2VtX2V2aWN0LmMKQEAgLTMwMSw3ICszMDEs
NyBAQCBpbnQgaTkxNV9nZW1fZXZpY3RfZm9yX25vZGUoc3RydWN0IGk5MTVfYWRkcmVzc19zcGFj
ZSAqdm0sCiAJCQlicmVhazsKIAkJfQogCi0JCUdFTV9CVUdfT04oIW5vZGUtPmFsbG9jYXRlZCk7
CisJCUdFTV9CVUdfT04oIWRybV9tbV9ub2RlX2FsbG9jYXRlZChub2RlKSk7CiAJCXZtYSA9IGNv
bnRhaW5lcl9vZihub2RlLCB0eXBlb2YoKnZtYSksIG5vZGUpOwogCiAJCS8qIElmIHdlIGFyZSB1
c2luZyBjb2xvcmluZyB0byBpbnNlcnQgZ3VhcmQgcGFnZXMgYmV0d2VlbgpkaWZmIC0tZ2l0IGEv
ZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9nZW1fZ3R0LmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkx
NS9pOTE1X2dlbV9ndHQuYwppbmRleCA4Njk3OWYzOTFkZDAuLmIwMDFkOGIwZjc4NyAxMDA2NDQK
LS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9nZW1fZ3R0LmMKKysrIGIvZHJpdmVycy9n
cHUvZHJtL2k5MTUvaTkxNV9nZW1fZ3R0LmMKQEAgLTI1NTIsNyArMjU1Miw3IEBAIHN0YXRpYyB2
b2lkIGk5MTVfZ3R0X2NvbG9yX2FkanVzdChjb25zdCBzdHJ1Y3QgZHJtX21tX25vZGUgKm5vZGUs
CiAJCQkJICB1NjQgKnN0YXJ0LAogCQkJCSAgdTY0ICplbmQpCiB7Ci0JaWYgKG5vZGUtPmFsbG9j
YXRlZCAmJiBub2RlLT5jb2xvciAhPSBjb2xvcikKKwlpZiAoZHJtX21tX25vZGVfYWxsb2NhdGVk
KG5vZGUpICYmIG5vZGUtPmNvbG9yICE9IGNvbG9yKQogCQkqc3RhcnQgKz0gSTkxNV9HVFRfUEFH
RV9TSVpFOwogCiAJLyogQWxzbyBsZWF2ZSBhIHNwYWNlIGJldHdlZW4gdGhlIHVuYWxsb2NhdGVk
IHJlc2VydmVkIG5vZGUgYWZ0ZXIgdGhlCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkx
NS9pOTE1X3ZtYS5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV92bWEuYwppbmRleCBkZGIw
M2NiY2JmNjAuLjQ5ZmU0YTY2NGQyOSAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUv
aTkxNV92bWEuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3ZtYS5jCkBAIC00ODIs
NyArNDgyLDcgQEAgdm9pZCBfX2k5MTVfdm1hX3NldF9tYXBfYW5kX2ZlbmNlYWJsZShzdHJ1Y3Qg
aTkxNV92bWEgKnZtYSkKIAogc3RhdGljIGJvb2wgY29sb3JfZGlmZmVycyhzdHJ1Y3QgZHJtX21t
X25vZGUgKm5vZGUsIHVuc2lnbmVkIGxvbmcgY29sb3IpCiB7Ci0JcmV0dXJuIG5vZGUtPmFsbG9j
YXRlZCAmJiBub2RlLT5jb2xvciAhPSBjb2xvcjsKKwlyZXR1cm4gZHJtX21tX25vZGVfYWxsb2Nh
dGVkKG5vZGUpICYmIG5vZGUtPmNvbG9yICE9IGNvbG9yOwogfQogCiBib29sIGk5MTVfZ2VtX3Zh
bGlkX2d0dF9zcGFjZShzdHJ1Y3QgaTkxNV92bWEgKnZtYSwgdW5zaWduZWQgbG9uZyBjYWNoZV9s
ZXZlbCkKQEAgLTgwMCw3ICs4MDAsNyBAQCB2b2lkIGk5MTVfdm1hX3Jlb3BlbihzdHJ1Y3QgaTkx
NV92bWEgKnZtYSkKIAogc3RhdGljIHZvaWQgX19pOTE1X3ZtYV9kZXN0cm95KHN0cnVjdCBpOTE1
X3ZtYSAqdm1hKQogewotCUdFTV9CVUdfT04odm1hLT5ub2RlLmFsbG9jYXRlZCk7CisJR0VNX0JV
R19PTihkcm1fbW1fbm9kZV9hbGxvY2F0ZWQoJnZtYS0+bm9kZSkpOwogCUdFTV9CVUdfT04odm1h
LT5mZW5jZSk7CiAKIAltdXRleF9sb2NrKCZ2bWEtPnZtLT5tdXRleCk7CmRpZmYgLS1naXQgYS9k
cml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3ZtYS5oIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkx
NV92bWEuaAppbmRleCA4ODlmYzdjYjkxMGEuLmFmMmVmMGE1MTQ1NSAxMDA2NDQKLS0tIGEvZHJp
dmVycy9ncHUvZHJtL2k5MTUvaTkxNV92bWEuaAorKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9p
OTE1X3ZtYS5oCkBAIC0yMTQsNyArMjE0LDcgQEAgc3RhdGljIGlubGluZSBib29sIGk5MTVfdm1h
X2lzX2Nsb3NlZChjb25zdCBzdHJ1Y3QgaTkxNV92bWEgKnZtYSkKIHN0YXRpYyBpbmxpbmUgdTMy
IGk5MTVfZ2d0dF9vZmZzZXQoY29uc3Qgc3RydWN0IGk5MTVfdm1hICp2bWEpCiB7CiAJR0VNX0JV
R19PTighaTkxNV92bWFfaXNfZ2d0dCh2bWEpKTsKLQlHRU1fQlVHX09OKCF2bWEtPm5vZGUuYWxs
b2NhdGVkKTsKKwlHRU1fQlVHX09OKCFkcm1fbW1fbm9kZV9hbGxvY2F0ZWQoJnZtYS0+bm9kZSkp
OwogCUdFTV9CVUdfT04odXBwZXJfMzJfYml0cyh2bWEtPm5vZGUuc3RhcnQpKTsKIAlHRU1fQlVH
X09OKHVwcGVyXzMyX2JpdHModm1hLT5ub2RlLnN0YXJ0ICsgdm1hLT5ub2RlLnNpemUgLSAxKSk7
CiAJcmV0dXJuIGxvd2VyXzMyX2JpdHModm1hLT5ub2RlLnN0YXJ0KTsKZGlmZiAtLWdpdCBhL2Ry
aXZlcnMvZ3B1L2RybS9zZWxmdGVzdHMvdGVzdC1kcm1fbW0uYyBiL2RyaXZlcnMvZ3B1L2RybS9z
ZWxmdGVzdHMvdGVzdC1kcm1fbW0uYwppbmRleCAzODhmOTg0NGY0YmEuLjlhYWJlODJkY2QzYSAx
MDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL3NlbGZ0ZXN0cy90ZXN0LWRybV9tbS5jCisrKyBi
L2RyaXZlcnMvZ3B1L2RybS9zZWxmdGVzdHMvdGVzdC1kcm1fbW0uYwpAQCAtODU0LDcgKzg1NCw3
IEBAIHN0YXRpYyBib29sIGFzc2VydF9jb250aWd1b3VzX2luX3JhbmdlKHN0cnVjdCBkcm1fbW0g
Km1tLAogCiAJaWYgKHN0YXJ0ID4gMCkgewogCQlub2RlID0gX19kcm1fbW1faW50ZXJ2YWxfZmly
c3QobW0sIDAsIHN0YXJ0IC0gMSk7Ci0JCWlmIChub2RlLT5hbGxvY2F0ZWQpIHsKKwkJaWYgKGRy
bV9tbV9ub2RlX2FsbG9jYXRlZChub2RlKSkgewogCQkJcHJfZXJyKCJub2RlIGJlZm9yZSBzdGFy
dDogbm9kZT0lbGx4KyVsbHUsIHN0YXJ0PSVsbHhcbiIsCiAJCQkgICAgICAgbm9kZS0+c3RhcnQs
IG5vZGUtPnNpemUsIHN0YXJ0KTsKIAkJCXJldHVybiBmYWxzZTsKQEAgLTg2Myw3ICs4NjMsNyBA
QCBzdGF0aWMgYm9vbCBhc3NlcnRfY29udGlndW91c19pbl9yYW5nZShzdHJ1Y3QgZHJtX21tICpt
bSwKIAogCWlmIChlbmQgPCBVNjRfTUFYKSB7CiAJCW5vZGUgPSBfX2RybV9tbV9pbnRlcnZhbF9m
aXJzdChtbSwgZW5kLCBVNjRfTUFYKTsKLQkJaWYgKG5vZGUtPmFsbG9jYXRlZCkgeworCQlpZiAo
ZHJtX21tX25vZGVfYWxsb2NhdGVkKG5vZGUpKSB7CiAJCQlwcl9lcnIoIm5vZGUgYWZ0ZXIgZW5k
OiBub2RlPSVsbHgrJWxsdSwgZW5kPSVsbHhcbiIsCiAJCQkgICAgICAgbm9kZS0+c3RhcnQsIG5v
ZGUtPnNpemUsIGVuZCk7CiAJCQlyZXR1cm4gZmFsc2U7CkBAIC0xMTU2LDEyICsxMTU2LDEyIEBA
IHN0YXRpYyB2b2lkIHNob3dfaG9sZXMoY29uc3Qgc3RydWN0IGRybV9tbSAqbW0sIGludCBjb3Vu
dCkKIAkJc3RydWN0IGRybV9tbV9ub2RlICpuZXh0ID0gbGlzdF9uZXh0X2VudHJ5KGhvbGUsIG5v
ZGVfbGlzdCk7CiAJCWNvbnN0IGNoYXIgKm5vZGUxID0gTlVMTCwgKm5vZGUyID0gTlVMTDsKIAot
CQlpZiAoaG9sZS0+YWxsb2NhdGVkKQorCQlpZiAoZHJtX21tX25vZGVfYWxsb2NhdGVkKGhvbGUp
KQogCQkJbm9kZTEgPSBrYXNwcmludGYoR0ZQX0tFUk5FTCwKIAkJCQkJICAiWyVsbHggKyAlbGxk
LCBjb2xvcj0lbGRdLCAiLAogCQkJCQkgIGhvbGUtPnN0YXJ0LCBob2xlLT5zaXplLCBob2xlLT5j
b2xvcik7CiAKLQkJaWYgKG5leHQtPmFsbG9jYXRlZCkKKwkJaWYgKGRybV9tbV9ub2RlX2FsbG9j
YXRlZChuZXh0KSkKIAkJCW5vZGUyID0ga2FzcHJpbnRmKEdGUF9LRVJORUwsCiAJCQkJCSAgIiwg
WyVsbHggKyAlbGxkLCBjb2xvcj0lbGRdIiwKIAkJCQkJICBuZXh0LT5zdGFydCwgbmV4dC0+c2l6
ZSwgbmV4dC0+Y29sb3IpOwpAQCAtMTkwMCwxOCArMTkwMCwxOCBAQCBzdGF0aWMgdm9pZCBzZXBh
cmF0ZV9hZGphY2VudF9jb2xvcnMoY29uc3Qgc3RydWN0IGRybV9tbV9ub2RlICpub2RlLAogCQkJ
CSAgICAgdTY0ICpzdGFydCwKIAkJCQkgICAgIHU2NCAqZW5kKQogewotCWlmIChub2RlLT5hbGxv
Y2F0ZWQgJiYgbm9kZS0+Y29sb3IgIT0gY29sb3IpCisJaWYgKGRybV9tbV9ub2RlX2FsbG9jYXRl
ZChub2RlKSAmJiBub2RlLT5jb2xvciAhPSBjb2xvcikKIAkJKysqc3RhcnQ7CiAKIAlub2RlID0g
bGlzdF9uZXh0X2VudHJ5KG5vZGUsIG5vZGVfbGlzdCk7Ci0JaWYgKG5vZGUtPmFsbG9jYXRlZCAm
JiBub2RlLT5jb2xvciAhPSBjb2xvcikKKwlpZiAoZHJtX21tX25vZGVfYWxsb2NhdGVkKG5vZGUp
ICYmIG5vZGUtPmNvbG9yICE9IGNvbG9yKQogCQktLSplbmQ7CiB9CiAKIHN0YXRpYyBib29sIGNv
bG9yc19hYnV0dChjb25zdCBzdHJ1Y3QgZHJtX21tX25vZGUgKm5vZGUpCiB7CiAJaWYgKCFkcm1f
bW1faG9sZV9mb2xsb3dzKG5vZGUpICYmCi0JICAgIGxpc3RfbmV4dF9lbnRyeShub2RlLCBub2Rl
X2xpc3QpLT5hbGxvY2F0ZWQpIHsKKwkgICAgZHJtX21tX25vZGVfYWxsb2NhdGVkKGxpc3RfbmV4
dF9lbnRyeShub2RlLCBub2RlX2xpc3QpKSkgewogCQlwcl9lcnIoImNvbG9ycyBhYnV0dDsgJWxk
IFslbGx4ICsgJWxseF0gaXMgbmV4dCB0byAlbGQgWyVsbHggKyAlbGx4XSFcbiIsCiAJCSAgICAg
ICBub2RlLT5jb2xvciwgbm9kZS0+c3RhcnQsIG5vZGUtPnNpemUsCiAJCSAgICAgICBsaXN0X25l
eHRfZW50cnkobm9kZSwgbm9kZV9saXN0KS0+Y29sb3IsCmRpZmYgLS1naXQgYS9pbmNsdWRlL2Ry
bS9kcm1fbW0uaCBiL2luY2x1ZGUvZHJtL2RybV9tbS5oCmluZGV4IDJjM2JiYjQzYzdkMS4uZDc5
MzljMDU0MjU5IDEwMDY0NAotLS0gYS9pbmNsdWRlL2RybS9kcm1fbW0uaAorKysgYi9pbmNsdWRl
L2RybS9kcm1fbW0uaApAQCAtMTY4LDggKzE2OCw5IEBAIHN0cnVjdCBkcm1fbW1fbm9kZSB7CiAJ
c3RydWN0IHJiX25vZGUgcmJfaG9sZV9hZGRyOwogCXU2NCBfX3N1YnRyZWVfbGFzdDsKIAl1NjQg
aG9sZV9zaXplOwotCWJvb2wgYWxsb2NhdGVkIDogMTsKLQlib29sIHNjYW5uZWRfYmxvY2sgOiAx
OworCXVuc2lnbmVkIGxvbmcgZmxhZ3M7CisjZGVmaW5lIERSTV9NTV9OT0RFX0FMTE9DQVRFRF9C
SVQJMAorI2RlZmluZSBEUk1fTU1fTk9ERV9TQ0FOTkVEX0JJVAkJMQogI2lmZGVmIENPTkZJR19E
Uk1fREVCVUdfTU0KIAlkZXBvdF9zdGFja19oYW5kbGVfdCBzdGFjazsKICNlbmRpZgpAQCAtMjUz
LDcgKzI1NCw3IEBAIHN0cnVjdCBkcm1fbW1fc2NhbiB7CiAgKi8KIHN0YXRpYyBpbmxpbmUgYm9v
bCBkcm1fbW1fbm9kZV9hbGxvY2F0ZWQoY29uc3Qgc3RydWN0IGRybV9tbV9ub2RlICpub2RlKQog
ewotCXJldHVybiBub2RlLT5hbGxvY2F0ZWQ7CisJcmV0dXJuIHRlc3RfYml0KERSTV9NTV9OT0RF
X0FMTE9DQVRFRF9CSVQsICZub2RlLT5mbGFncyk7CiB9CiAKIC8qKgotLSAKMi4yMy4wCgpfX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpJbnRlbC1nZnggbWFp
bGluZyBsaXN0CkludGVsLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5m
cmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9pbnRlbC1nZng=

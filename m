Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 59996269486
	for <lists+intel-gfx@lfdr.de>; Mon, 14 Sep 2020 20:11:42 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id A958F6E52A;
	Mon, 14 Sep 2020 18:11:40 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga02.intel.com (mga02.intel.com [134.134.136.20])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 919FA6E529
 for <intel-gfx@lists.freedesktop.org>; Mon, 14 Sep 2020 18:11:39 +0000 (UTC)
IronPort-SDR: 1eWftXDBKHTmxLziIGxPW7wwh64wrBnUt4NBb+zssc/r1/b+imwRFARXQW4Dw9K7H3MCsuyiY5
 RiNlTKG5KFsg==
X-IronPort-AV: E=McAfee;i="6000,8403,9744"; a="146823610"
X-IronPort-AV: E=Sophos;i="5.76,427,1592895600"; d="scan'208";a="146823610"
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga004.jf.intel.com ([10.7.209.38])
 by orsmga101.jf.intel.com with ESMTP/TLS/ECDHE-RSA-AES256-GCM-SHA384;
 14 Sep 2020 11:11:38 -0700
IronPort-SDR: NRgpp3er/T5sOSsjidte10m/tNBNvKEw0wJVFIRg6X1uTPlmXC759mJIqI++0+ib9O4smjgZ2U
 t2BUXB6ogUGQ==
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.76,427,1592895600"; d="scan'208";a="450982490"
Received: from anusha.jf.intel.com ([10.165.21.155])
 by orsmga004.jf.intel.com with ESMTP; 14 Sep 2020 11:11:38 -0700
From: Anusha Srivatsa <anusha.srivatsa@intel.com>
To: intel-gfx@lists.freedesktop.org
Date: Mon, 14 Sep 2020 10:57:03 -0700
Message-Id: <20200914175703.15024-1-anusha.srivatsa@intel.com>
X-Mailer: git-send-email 2.25.0
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH] drm/i915/pll: Centralize PLL_ENABLE register
 lookup
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

V2UgY3VycmVudHkgY2hlY2sgZm9yIHBsYXRmb3JtIGF0IG11bHRpcGxlIHBhcnRzIGluIHRoZSBk
cml2ZXIKdG8gZ3JhYiB0aGUgY29ycmVjdCBQTEwuIExldCB1cyBiZWdpbiB0byBjZW50cmFsaXpl
IGl0IHRocm91Z2ggYQpoZWxwZXIgZnVuY3Rpb24uCgp2Mjogcy9pbnRlbF9nZXRfcGxsX2VuYWJs
ZV9yZWcoKS9pbnRlbF9jb21ib19wbGxfZW5hYmxlX3JlZygpIChWaWxsZSkKCnYzOiBDbGVhbiB1
cCBjb21ib19wbGxfZGlzYWJsZSgpIChSb2RyaWdvKQoKdjQ6IHMvZGV2X3ByaXYvaTkxNSAoSmFu
aSkKTW92ZSBzdGF0aWMgYW5kIHJldHVybiB0eXBlIHRvIHRoZSBzYW1lIGxpbmUoIFZpbGxlLCBK
YW5pKQoKU3VnZ2VzdGVkLWJ5OiBNYXR0IFJvcGVyIDxtYXR0aGV3LmQucm9wZXJAaW50ZWwuY29t
PgpDYzogVmlsbGUgU3lyasOkbMOkIDx2aWxsZS5zeXJqYWxhQGxpbnV4LmludGVsLmNvbT4KQ2M6
IE1hdHQgUm9wZXIgPG1hdHRoZXcuZC5yb3BlckBpbnRlbC5jb20+ClNpZ25lZC1vZmYtYnk6IEFu
dXNoYSBTcml2YXRzYSA8YW51c2hhLnNyaXZhdHNhQGludGVsLmNvbT4KUmV2aWV3ZWQtYnk6IFJv
ZHJpZ28gVml2aSA8cm9kcmlnby52aXZpQGludGVsLmNvbT4KLS0tCiBkcml2ZXJzL2dwdS9kcm0v
aTkxNS9kaXNwbGF5L2ludGVsX2RwbGxfbWdyLmMgfCAzNSArKysrKysrKysrLS0tLS0tLS0tCiAx
IGZpbGUgY2hhbmdlZCwgMTggaW5zZXJ0aW9ucygrKSwgMTcgZGVsZXRpb25zKC0pCgpkaWZmIC0t
Z2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kcGxsX21nci5jIGIvZHJp
dmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kcGxsX21nci5jCmluZGV4IGM5MDEzZjhm
NzY2Zi4uZTA4Njg0ZTM0MDc4IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNw
bGF5L2ludGVsX2RwbGxfbWdyLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9p
bnRlbF9kcGxsX21nci5jCkBAIC0xNDcsNiArMTQ3LDE4IEBAIHZvaWQgYXNzZXJ0X3NoYXJlZF9k
cGxsKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiwKIAkJCXBsbC0+aW5mby0+bmFt
ZSwgb25vZmYoc3RhdGUpLCBvbm9mZihjdXJfc3RhdGUpKTsKIH0KIAorc3RhdGljIGk5MTVfcmVn
X3QKK2ludGVsX2NvbWJvX3BsbF9lbmFibGVfcmVnKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpp
OTE1LAorCQkJICAgc3RydWN0IGludGVsX3NoYXJlZF9kcGxsICpwbGwpCit7CisKKwlpZiAoSVNf
RUxLSEFSVExBS0UoaTkxNSkgJiYgKHBsbC0+aW5mby0+aWQgPT0gRFBMTF9JRF9FSExfRFBMTDQp
KQorCQlyZXR1cm4gTUdfUExMX0VOQUJMRSgwKTsKKworCXJldHVybiBDTkxfRFBMTF9FTkFCTEUo
cGxsLT5pbmZvLT5pZCk7CisKKworfQogLyoqCiAgKiBpbnRlbF9wcmVwYXJlX3NoYXJlZF9kcGxs
IC0gY2FsbCBhIGRwbGwncyBwcmVwYXJlIGhvb2sKICAqIEBjcnRjX3N0YXRlOiBDUlRDLCBhbmQg
aXRzIHN0YXRlLCB3aGljaCBoYXMgYSBzaGFyZWQgZHBsbApAQCAtMzg0MiwxMiArMzg1NCw3IEBA
IHN0YXRpYyBib29sIGNvbWJvX3BsbF9nZXRfaHdfc3RhdGUoc3RydWN0IGRybV9pOTE1X3ByaXZh
dGUgKmRldl9wcml2LAogCQkJCSAgIHN0cnVjdCBpbnRlbF9zaGFyZWRfZHBsbCAqcGxsLAogCQkJ
CSAgIHN0cnVjdCBpbnRlbF9kcGxsX2h3X3N0YXRlICpod19zdGF0ZSkKIHsKLQlpOTE1X3JlZ190
IGVuYWJsZV9yZWcgPSBDTkxfRFBMTF9FTkFCTEUocGxsLT5pbmZvLT5pZCk7Ci0KLQlpZiAoSVNf
RUxLSEFSVExBS0UoZGV2X3ByaXYpICYmCi0JICAgIHBsbC0+aW5mby0+aWQgPT0gRFBMTF9JRF9F
SExfRFBMTDQpIHsKLQkJZW5hYmxlX3JlZyA9IE1HX1BMTF9FTkFCTEUoMCk7Ci0JfQorCWk5MTVf
cmVnX3QgZW5hYmxlX3JlZyA9IGludGVsX2NvbWJvX3BsbF9lbmFibGVfcmVnKGRldl9wcml2LCBw
bGwpOwogCiAJcmV0dXJuIGljbF9wbGxfZ2V0X2h3X3N0YXRlKGRldl9wcml2LCBwbGwsIGh3X3N0
YXRlLCBlbmFibGVfcmVnKTsKIH0KQEAgLTQwNDUsMTEgKzQwNTIsMTAgQEAgc3RhdGljIHZvaWQg
aWNsX3BsbF9lbmFibGUoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2LAogc3RhdGlj
IHZvaWQgY29tYm9fcGxsX2VuYWJsZShzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYs
CiAJCQkgICAgIHN0cnVjdCBpbnRlbF9zaGFyZWRfZHBsbCAqcGxsKQogewotCWk5MTVfcmVnX3Qg
ZW5hYmxlX3JlZyA9IENOTF9EUExMX0VOQUJMRShwbGwtPmluZm8tPmlkKTsKKwlpOTE1X3JlZ190
IGVuYWJsZV9yZWcgPSBpbnRlbF9jb21ib19wbGxfZW5hYmxlX3JlZyhkZXZfcHJpdiwgcGxsKTsK
IAogCWlmIChJU19FTEtIQVJUTEFLRShkZXZfcHJpdikgJiYKIAkgICAgcGxsLT5pbmZvLT5pZCA9
PSBEUExMX0lEX0VITF9EUExMNCkgewotCQllbmFibGVfcmVnID0gTUdfUExMX0VOQUJMRSgwKTsK
IAogCQkvKgogCQkgKiBXZSBuZWVkIHRvIGRpc2FibGUgREMgc3RhdGVzIHdoZW4gdGhpcyBEUExM
IGlzIGVuYWJsZWQuCkBAIC00MTU3LDE5ICs0MTYzLDE0IEBAIHN0YXRpYyB2b2lkIGljbF9wbGxf
ZGlzYWJsZShzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYsCiBzdGF0aWMgdm9pZCBj
b21ib19wbGxfZGlzYWJsZShzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYsCiAJCQkg
ICAgICBzdHJ1Y3QgaW50ZWxfc2hhcmVkX2RwbGwgKnBsbCkKIHsKLQlpOTE1X3JlZ190IGVuYWJs
ZV9yZWcgPSBDTkxfRFBMTF9FTkFCTEUocGxsLT5pbmZvLT5pZCk7CisJaTkxNV9yZWdfdCBlbmFi
bGVfcmVnID0gaW50ZWxfY29tYm9fcGxsX2VuYWJsZV9yZWcoZGV2X3ByaXYsIHBsbCk7CiAKLQlp
ZiAoSVNfRUxLSEFSVExBS0UoZGV2X3ByaXYpICYmCi0JICAgIHBsbC0+aW5mby0+aWQgPT0gRFBM
TF9JRF9FSExfRFBMTDQpIHsKLQkJZW5hYmxlX3JlZyA9IE1HX1BMTF9FTkFCTEUoMCk7Ci0JCWlj
bF9wbGxfZGlzYWJsZShkZXZfcHJpdiwgcGxsLCBlbmFibGVfcmVnKTsKKwlpY2xfcGxsX2Rpc2Fi
bGUoZGV2X3ByaXYsIHBsbCwgZW5hYmxlX3JlZyk7CiAKKwlpZiAoSVNfRUxLSEFSVExBS0UoZGV2
X3ByaXYpICYmCisJICAgIHBsbC0+aW5mby0+aWQgPT0gRFBMTF9JRF9FSExfRFBMTDQpCiAJCWlu
dGVsX2Rpc3BsYXlfcG93ZXJfcHV0KGRldl9wcml2LCBQT1dFUl9ET01BSU5fRFBMTF9EQ19PRkYs
CiAJCQkJCXBsbC0+d2FrZXJlZik7Ci0JCXJldHVybjsKLQl9Ci0KLQlpY2xfcGxsX2Rpc2FibGUo
ZGV2X3ByaXYsIHBsbCwgZW5hYmxlX3JlZyk7CiB9CiAKIHN0YXRpYyB2b2lkIHRidF9wbGxfZGlz
YWJsZShzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYsCi0tIAoyLjI1LjAKCl9fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCkludGVsLWdmeCBtYWls
aW5nIGxpc3QKSW50ZWwtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZy
ZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2ludGVsLWdmeAo=

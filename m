Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id DAAD22524F2
	for <lists+intel-gfx@lfdr.de>; Wed, 26 Aug 2020 03:11:58 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 461D06E9D2;
	Wed, 26 Aug 2020 01:11:57 +0000 (UTC)
X-Original-To: Intel-gfx@lists.freedesktop.org
Delivered-To: Intel-gfx@lists.freedesktop.org
Received: from mail-wr1-x444.google.com (mail-wr1-x444.google.com
 [IPv6:2a00:1450:4864:20::444])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 5AFF76E9D2
 for <Intel-gfx@lists.freedesktop.org>; Wed, 26 Aug 2020 01:11:56 +0000 (UTC)
Received: by mail-wr1-x444.google.com with SMTP id y3so114383wrl.4
 for <Intel-gfx@lists.freedesktop.org>; Tue, 25 Aug 2020 18:11:56 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20161025;
 h=mime-version:references:in-reply-to:from:date:message-id:subject:to
 :cc:content-transfer-encoding;
 bh=H37uY7uWHawiEqJBeJD+Z0jOCYQeplKvBwvXzrlVGgg=;
 b=dssV1yy4NNZ3/oJ9ayHa1Btm+SrEsl4MEcqakVpM9yD3aisr9WjvOb5X94V/UB9Lmr
 p+Ez8JVBqIJw3XasPzuhB+T3uEmOQXAWFC0ftBfEkRv1O13MNS/6WpNzZAJEY943YNyZ
 /HFYv7bwRGCvlJcRMF3Kc/Ag8yuxXLQXA0WEyAAXJRfrDPNl85ZxpP6+Ps+fXZ3l9JK8
 au2XVWPSScJ0fPTg3v23bkfyzIVtM0rHblW2X5CvFU/ZWVoVPDjcv/TNtKKxRSBBpqHT
 xW8R5tzAkSQQJd5BzIz2cZLOsOgEadJcnOfKFEtDTIkmQLvH1ocdmDEhGvNMapLNcGTq
 OIbg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:mime-version:references:in-reply-to:from:date
 :message-id:subject:to:cc:content-transfer-encoding;
 bh=H37uY7uWHawiEqJBeJD+Z0jOCYQeplKvBwvXzrlVGgg=;
 b=h6yLlrMTgZ3r3AyBuYLdqEJWtvcQNbkyAgd5JsdAx3qjHv0XkI5qd+O8Px+PPje2xk
 BaViqxDzy5FOt1kPsvvg2tKRHlzj7EVbLWKKcaFOQMmIr8FdblasxY5Oq43GPDVNBw8i
 9oeo+ILe83dldgKtVGw1ExcDtFhTySgr9NfVWQz6gUHRNeUoD5gyCG0tLqgOx+/R53p3
 sHy8LJZfIQqj2v4A0SyHaFa+1FstbJaC+NOkWAJzdUv5pFkKdLvILckLi4+2U+CcmGL0
 CwOX5sBTJt1tbb4ILBxpHrh4pHkSKfp0JdDJzlepB5O9ZjmPJUURL8J/9KdNunBhe4ir
 RJHw==
X-Gm-Message-State: AOAM532AKQOpjk5DEDoBC+YdOdPu9v2KNj4lA/Npt5vbWIll8Yonw6ik
 G0mSge9cIjaHGjxTy61yFv5ET54+Tyk0h7wbfrdmfNGg
X-Google-Smtp-Source: ABdhPJxyH/zGQ8sFbGsauDtCPo6PqIwM7F+E4sVlGg/4p39pZSzFZi2kwAX/V4jFB6BK2XZ5lxU1g85GDrKgbIZ6dNo=
X-Received: by 2002:adf:c64d:: with SMTP id u13mr13510800wrg.114.1598404314837; 
 Tue, 25 Aug 2020 18:11:54 -0700 (PDT)
MIME-Version: 1.0
References: <20200415101138.26126-1-tvrtko.ursulin@linux.intel.com>
 <20200415101138.26126-2-tvrtko.ursulin@linux.intel.com>
In-Reply-To: <20200415101138.26126-2-tvrtko.ursulin@linux.intel.com>
From: Lucas De Marchi <lucas.de.marchi@gmail.com>
Date: Tue, 25 Aug 2020 18:11:41 -0700
Message-ID: <CAKi4VAJi_4OcRjXMBQHcC3XBJjg3A+7VnwwRCG69v0Ee3=FZdg@mail.gmail.com>
To: Tvrtko Ursulin <tvrtko.ursulin@linux.intel.com>
Subject: Re: [Intel-gfx] [PATCH 1/9] drm/i915: Expose list of clients in
 sysfs
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: Intel Graphics <Intel-gfx@lists.freedesktop.org>,
 Chris Wilson <chris@chris-wilson.co.uk>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

SGksCgpBbnkgdXBkYXRlIG9uIHRoaXM/IEl0IG5vdyBjb25mbGljdHMgaW4gYSBmZXcgcGxhY2Vz
IHNvIGl0IG5lZWRzIGEgcmViYXNlLgoKTHVjYXMgRGUgTWFyY2hpCgpPbiBXZWQsIEFwciAxNSwg
MjAyMCBhdCAzOjExIEFNIFR2cnRrbyBVcnN1bGluCjx0dnJ0a28udXJzdWxpbkBsaW51eC5pbnRl
bC5jb20+IHdyb3RlOgo+Cj4gRnJvbTogVHZydGtvIFVyc3VsaW4gPHR2cnRrby51cnN1bGluQGlu
dGVsLmNvbT4KPgo+IEV4cG9zZSBhIGxpc3Qgb2YgY2xpZW50cyB3aXRoIG9wZW4gZmlsZSBoYW5k
bGVzIGluIHN5c2ZzLgo+Cj4gVGhpcyB3aWxsIGJlIGEgYmFzaXMgZm9yIGEgdG9wLWxpa2UgdXRp
bGl0eSBzaG93aW5nIHBlci1jbGllbnQgYW5kIHBlci0KPiBlbmdpbmUgR1BVIGxvYWQuCj4KPiBD
dXJyZW50bHkgd2Ugb25seSBleHBvc2UgZWFjaCBjbGllbnQncyBwaWQgYW5kIG5hbWUgdW5kZXIg
b3BhcXVlIG51bWJlcmVkCj4gZGlyZWN0b3JpZXMgaW4gL3N5cy9jbGFzcy9kcm0vY2FyZDAvY2xp
ZW50cy8uCj4KPiBGb3IgaW5zdGFuY2U6Cj4KPiAvc3lzL2NsYXNzL2RybS9jYXJkMC9jbGllbnRz
LzMvbmFtZTogWG9yZwo+IC9zeXMvY2xhc3MvZHJtL2NhcmQwL2NsaWVudHMvMy9waWQ6IDU2NjQK
Pgo+IHYyOgo+ICBDaHJpcyBXaWxzb246Cj4gICogRW5jbG9zZSBuZXcgbWVtYmVycyBpbnRvIGRl
ZGljYXRlZCBzdHJ1Y3RzLgo+ICAqIFByb3RlY3QgYWdhaW5zdCBmYWlsZWQgc3lzZnMgcmVnaXN0
cmF0aW9uLgo+Cj4gdjM6Cj4gICogc3lzZnNfYXR0cl9pbml0Lgo+Cj4gdjQ6Cj4gICogRml4IGZv
ciBpbnRlcm5hbCBjbGllbnRzLgo+Cj4gdjU6Cj4gICogVXNlIGN5Y2xpYyBpZGEgZm9yIGNsaWVu
dCBpZC4gKENocmlzKQo+ICAqIERvIG5vdCBsZWFrIHBpZCByZWZlcmVuY2UuIChDaHJpcykKPiAg
KiBUaWR5IGNvZGUgd2l0aCBzb21lIGxvY2Fscy4KPgo+IHY2Ogo+ICAqIFVzZSB4YV9hbGxvY19j
eWNsaWMgdG8gc2ltcGxpZnkgbG9ja2luZy4gKENocmlzKQo+ICAqIE5vIG5lZWQgdG8gdW5yZWdp
c3RlciBpbmRpdmlkaWFsIHN5c2ZzIGZpbGVzLiAoQ2hyaXMpCj4gICogUmViYXNlIG9uIHRvcCBv
ZiBmcHJpdiBrcmVmLgo+ICAqIFRyYWNrIGNsaWVudCBjbG9zZWQgc3RhdHVzIGFuZCByZWZsZWN0
IGluIHN5c2ZzLgo+Cj4gdjc6Cj4gICogTWFrZSBkcm1fY2xpZW50IG1vcmUgc3RhbmRhbG9uZSBj
b25jZXB0Lgo+Cj4gdjg6Cj4gICogU2ltcGxpZnkgc3lzZnMgc2hvdy4gKENocmlzKQo+ICAqIEFs
d2F5cyB0cmFjayBuYW1lIGFuZCBwaWQuCj4KPiB2OToKPiAgKiBGaXggY3ljbGljIGlkIGFzc2ln
bm1lbnQuCj4KPiB2MTA6Cj4gICogTm8gbmVlZCBmb3IgYSBtdXRleCBhcm91bmQgeGFfYWxsb2Nf
Y3ljbGljLgo+ICAqIFJlZmFjdG9yIHN5c2ZzIGludG8gb3duIGZ1bmN0aW9uLgo+ICAqIFVucmVn
aXN0ZXIgc3lzZnMgYmVmb3JlIGZyZWVpbmcgcGlkIGFuZCBuYW1lLgo+ICAqIE1vdmUgY2xpZW50
cyBzZXR1cCBpbnRvIG93biBmdW5jdGlvbi4KPgo+IHYxMToKPiAgKiBDYWxsIGNsaWVudHMgaW5p
dCBkaXJlY3RseSBmcm9tIGRyaXZlciBpbml0LiAoQ2hyaXMpCj4KPiBTaWduZWQtb2ZmLWJ5OiBU
dnJ0a28gVXJzdWxpbiA8dHZydGtvLnVyc3VsaW5AaW50ZWwuY29tPgo+IFJldmlld2VkLWJ5OiBD
aHJpcyBXaWxzb24gPGNocmlzQGNocmlzLXdpbHNvbi5jby51az4KPiAtLS0KPiAgZHJpdmVycy9n
cHUvZHJtL2k5MTUvTWFrZWZpbGUgICAgICAgICAgfCAgIDMgKy0KPiAgZHJpdmVycy9ncHUvZHJt
L2k5MTUvaTkxNV9kcm1fY2xpZW50LmMgfCAxNzkgKysrKysrKysrKysrKysrKysrKysrKysrKwo+
ICBkcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2RybV9jbGllbnQuaCB8ICA2NCArKysrKysrKysK
PiAgZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kcnYuYyAgICAgICAgfCAgIDMgKwo+ICBkcml2
ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2Rydi5oICAgICAgICB8ICAgNSArCj4gIGRyaXZlcnMvZ3B1
L2RybS9pOTE1L2k5MTVfZ2VtLmMgICAgICAgIHwgIDI1ICsrKy0KPiAgZHJpdmVycy9ncHUvZHJt
L2k5MTUvaTkxNV9zeXNmcy5jICAgICAgfCAgIDggKysKPiAgNyBmaWxlcyBjaGFuZ2VkLCAyODMg
aW5zZXJ0aW9ucygrKSwgNCBkZWxldGlvbnMoLSkKPiAgY3JlYXRlIG1vZGUgMTAwNjQ0IGRyaXZl
cnMvZ3B1L2RybS9pOTE1L2k5MTVfZHJtX2NsaWVudC5jCj4gIGNyZWF0ZSBtb2RlIDEwMDY0NCBk
cml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2RybV9jbGllbnQuaAo+Cj4gZGlmZiAtLWdpdCBhL2Ry
aXZlcnMvZ3B1L2RybS9pOTE1L01ha2VmaWxlIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvTWFrZWZp
bGUKPiBpbmRleCA0NGM1MDZiN2UxMTcuLmIzMGYzZDUxYzY2YSAxMDA2NDQKPiAtLS0gYS9kcml2
ZXJzL2dwdS9kcm0vaTkxNS9NYWtlZmlsZQo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L01h
a2VmaWxlCj4gQEAgLTMzLDcgKzMzLDggQEAgc3ViZGlyLWNjZmxhZ3MteSArPSAtSSQoc3JjdHJl
ZSkvJChzcmMpCj4gICMgUGxlYXNlIGtlZXAgdGhlc2UgYnVpbGQgbGlzdHMgc29ydGVkIQo+Cj4g
ICMgY29yZSBkcml2ZXIgY29kZQo+IC1pOTE1LXkgKz0gaTkxNV9kcnYubyBcCj4gK2k5MTUteSAr
PSBpOTE1X2RybV9jbGllbnQubyBcCj4gKyAgICAgICAgIGk5MTVfZHJ2Lm8gXAo+ICAgICAgICAg
ICBpOTE1X2lycS5vIFwKPiAgICAgICAgICAgaTkxNV9nZXRwYXJhbS5vIFwKPiAgICAgICAgICAg
aTkxNV9wYXJhbXMubyBcCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVf
ZHJtX2NsaWVudC5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kcm1fY2xpZW50LmMKPiBu
ZXcgZmlsZSBtb2RlIDEwMDY0NAo+IGluZGV4IDAwMDAwMDAwMDAwMC4uMjA2N2ZiY2RiNzk1Cj4g
LS0tIC9kZXYvbnVsbAo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZHJtX2NsaWVu
dC5jCj4gQEAgLTAsMCArMSwxNzkgQEAKPiArLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IE1J
VAo+ICsvKgo+ICsgKiBDb3B5cmlnaHQgwqkgMjAyMCBJbnRlbCBDb3Jwb3JhdGlvbgo+ICsgKi8K
PiArCj4gKyNpbmNsdWRlIDxsaW51eC9rZXJuZWwuaD4KPiArI2luY2x1ZGUgPGxpbnV4L3NsYWIu
aD4KPiArI2luY2x1ZGUgPGxpbnV4L3R5cGVzLmg+Cj4gKwo+ICsjaW5jbHVkZSAiaTkxNV9kcm1f
Y2xpZW50LmgiCj4gKyNpbmNsdWRlICJpOTE1X2dlbS5oIgo+ICsjaW5jbHVkZSAiaTkxNV91dGls
cy5oIgo+ICsKPiArdm9pZCBpOTE1X2RybV9jbGllbnRzX2luaXQoc3RydWN0IGk5MTVfZHJtX2Ns
aWVudHMgKmNsaWVudHMpCj4gK3sKPiArICAgICAgIGNsaWVudHMtPm5leHRfaWQgPSAwOwo+ICsg
ICAgICAgeGFfaW5pdF9mbGFncygmY2xpZW50cy0+eGFycmF5LCBYQV9GTEFHU19BTExPQyk7Cj4g
K30KPiArCj4gK3N0YXRpYyBzc2l6ZV90Cj4gK3Nob3dfY2xpZW50X25hbWUoc3RydWN0IGRldmlj
ZSAqa2Rldiwgc3RydWN0IGRldmljZV9hdHRyaWJ1dGUgKmF0dHIsIGNoYXIgKmJ1ZikKPiArewo+
ICsgICAgICAgc3RydWN0IGk5MTVfZHJtX2NsaWVudCAqY2xpZW50ID0KPiArICAgICAgICAgICAg
ICAgY29udGFpbmVyX29mKGF0dHIsIHR5cGVvZigqY2xpZW50KSwgYXR0ci5uYW1lKTsKPiArCj4g
KyAgICAgICByZXR1cm4gc25wcmludGYoYnVmLCBQQUdFX1NJWkUsCj4gKyAgICAgICAgICAgICAg
ICAgICAgICAgUkVBRF9PTkNFKGNsaWVudC0+Y2xvc2VkKSA/ICI8JXM+IiA6ICIlcyIsCj4gKyAg
ICAgICAgICAgICAgICAgICAgICAgY2xpZW50LT5uYW1lKTsKPiArfQo+ICsKPiArc3RhdGljIHNz
aXplX3QKPiArc2hvd19jbGllbnRfcGlkKHN0cnVjdCBkZXZpY2UgKmtkZXYsIHN0cnVjdCBkZXZp
Y2VfYXR0cmlidXRlICphdHRyLCBjaGFyICpidWYpCj4gK3sKPiArICAgICAgIHN0cnVjdCBpOTE1
X2RybV9jbGllbnQgKmNsaWVudCA9Cj4gKyAgICAgICAgICAgICAgIGNvbnRhaW5lcl9vZihhdHRy
LCB0eXBlb2YoKmNsaWVudCksIGF0dHIucGlkKTsKPiArCj4gKyAgICAgICByZXR1cm4gc25wcmlu
dGYoYnVmLCBQQUdFX1NJWkUsCj4gKyAgICAgICAgICAgICAgICAgICAgICAgUkVBRF9PTkNFKGNs
aWVudC0+Y2xvc2VkKSA/ICI8JXU+IiA6ICIldSIsCj4gKyAgICAgICAgICAgICAgICAgICAgICAg
cGlkX25yKGNsaWVudC0+cGlkKSk7Cj4gK30KPiArCj4gK3N0YXRpYyBpbnQKPiArX19jbGllbnRf
cmVnaXN0ZXJfc3lzZnMoc3RydWN0IGk5MTVfZHJtX2NsaWVudCAqY2xpZW50KQo+ICt7Cj4gKyAg
ICAgICBjb25zdCBzdHJ1Y3Qgewo+ICsgICAgICAgICAgICAgICBjb25zdCBjaGFyICpuYW1lOwo+
ICsgICAgICAgICAgICAgICBzdHJ1Y3QgZGV2aWNlX2F0dHJpYnV0ZSAqYXR0cjsKPiArICAgICAg
ICAgICAgICAgc3NpemVfdCAoKnNob3cpKHN0cnVjdCBkZXZpY2UgKmRldiwKPiArICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgIHN0cnVjdCBkZXZpY2VfYXR0cmlidXRlICphdHRyLAo+ICsg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhciAqYnVmKTsKPiArICAgICAgIH0gZmls
ZXNbXSA9IHsKPiArICAgICAgICAgICAgICAgeyAibmFtZSIsICZjbGllbnQtPmF0dHIubmFtZSwg
c2hvd19jbGllbnRfbmFtZSB9LAo+ICsgICAgICAgICAgICAgICB7ICJwaWQiLCAmY2xpZW50LT5h
dHRyLnBpZCwgc2hvd19jbGllbnRfcGlkIH0sCj4gKyAgICAgICB9Owo+ICsgICAgICAgdW5zaWdu
ZWQgaW50IGk7Cj4gKyAgICAgICBjaGFyIGJ1ZlsxNl07Cj4gKyAgICAgICBpbnQgcmV0Owo+ICsK
PiArICAgICAgIHJldCA9IHNjbnByaW50ZihidWYsIHNpemVvZihidWYpLCAiJXUiLCBjbGllbnQt
PmlkKTsKPiArICAgICAgIGlmIChyZXQgPT0gc2l6ZW9mKGJ1ZikpCj4gKyAgICAgICAgICAgICAg
IHJldHVybiAtRUlOVkFMOwo+ICsKPiArICAgICAgIGNsaWVudC0+cm9vdCA9IGtvYmplY3RfY3Jl
YXRlX2FuZF9hZGQoYnVmLCBjbGllbnQtPmNsaWVudHMtPnJvb3QpOwo+ICsgICAgICAgaWYgKCFj
bGllbnQtPnJvb3QpCj4gKyAgICAgICAgICAgICAgIHJldHVybiAtRU5PTUVNOwo+ICsKPiArICAg
ICAgIGZvciAoaSA9IDA7IGkgPCBBUlJBWV9TSVpFKGZpbGVzKTsgaSsrKSB7Cj4gKyAgICAgICAg
ICAgICAgIHN0cnVjdCBkZXZpY2VfYXR0cmlidXRlICphdHRyID0gZmlsZXNbaV0uYXR0cjsKPiAr
Cj4gKyAgICAgICAgICAgICAgIHN5c2ZzX2F0dHJfaW5pdCgmYXR0ci0+YXR0cik7Cj4gKwo+ICsg
ICAgICAgICAgICAgICBhdHRyLT5hdHRyLm5hbWUgPSBmaWxlc1tpXS5uYW1lOwo+ICsgICAgICAg
ICAgICAgICBhdHRyLT5hdHRyLm1vZGUgPSAwNDQ0Owo+ICsgICAgICAgICAgICAgICBhdHRyLT5z
aG93ID0gZmlsZXNbaV0uc2hvdzsKPiArCj4gKyAgICAgICAgICAgICAgIHJldCA9IHN5c2ZzX2Ny
ZWF0ZV9maWxlKGNsaWVudC0+cm9vdCwgKHN0cnVjdCBhdHRyaWJ1dGUgKilhdHRyKTsKPiArICAg
ICAgICAgICAgICAgaWYgKHJldCkKPiArICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKPiAr
ICAgICAgIH0KPiArCj4gKyAgICAgICBpZiAocmV0KQo+ICsgICAgICAgICAgICAgICBrb2JqZWN0
X3B1dChjbGllbnQtPnJvb3QpOwo+ICsKPiArICAgICAgIHJldHVybiByZXQ7Cj4gK30KPiArCj4g
K3N0YXRpYyB2b2lkIF9fY2xpZW50X3VucmVnaXN0ZXJfc3lzZnMoc3RydWN0IGk5MTVfZHJtX2Ns
aWVudCAqY2xpZW50KQo+ICt7Cj4gKyAgICAgICBrb2JqZWN0X3B1dChmZXRjaF9hbmRfemVybygm
Y2xpZW50LT5yb290KSk7Cj4gK30KPiArCj4gK3N0YXRpYyBpbnQKPiArX19pOTE1X2RybV9jbGll
bnRfcmVnaXN0ZXIoc3RydWN0IGk5MTVfZHJtX2NsaWVudCAqY2xpZW50LAo+ICsgICAgICAgICAg
ICAgICAgICAgICAgICAgIHN0cnVjdCB0YXNrX3N0cnVjdCAqdGFzaykKPiArewo+ICsgICAgICAg
c3RydWN0IGk5MTVfZHJtX2NsaWVudHMgKmNsaWVudHMgPSBjbGllbnQtPmNsaWVudHM7Cj4gKyAg
ICAgICBjaGFyICpuYW1lOwo+ICsgICAgICAgaW50IHJldDsKPiArCj4gKyAgICAgICBuYW1lID0g
a3N0cmR1cCh0YXNrLT5jb21tLCBHRlBfS0VSTkVMKTsKPiArICAgICAgIGlmICghbmFtZSkKPiAr
ICAgICAgICAgICAgICAgcmV0dXJuIC1FTk9NRU07Cj4gKwo+ICsgICAgICAgY2xpZW50LT5waWQg
PSBnZXRfdGFza19waWQodGFzaywgUElEVFlQRV9QSUQpOwo+ICsgICAgICAgY2xpZW50LT5uYW1l
ID0gbmFtZTsKPiArCj4gKyAgICAgICBpZiAoIWNsaWVudHMtPnJvb3QpCj4gKyAgICAgICAgICAg
ICAgIHJldHVybiAwOyAvKiBpbnRlbF9mYmRldl9pbml0IHJlZ2lzdGVycyBhIGNsaWVudCBiZWZv
cmUgc3lzZnMgKi8KPiArCj4gKyAgICAgICByZXQgPSBfX2NsaWVudF9yZWdpc3Rlcl9zeXNmcyhj
bGllbnQpOwo+ICsgICAgICAgaWYgKHJldCkKPiArICAgICAgICAgICAgICAgZ290byBlcnJfc3lz
ZnM7Cj4gKwo+ICsgICAgICAgcmV0dXJuIDA7Cj4gKwo+ICtlcnJfc3lzZnM6Cj4gKyAgICAgICBw
dXRfcGlkKGNsaWVudC0+cGlkKTsKPiArICAgICAgIGtmcmVlKGNsaWVudC0+bmFtZSk7Cj4gKwo+
ICsgICAgICAgcmV0dXJuIHJldDsKPiArfQo+ICsKPiArc3RhdGljIHZvaWQKPiArX19pOTE1X2Ry
bV9jbGllbnRfdW5yZWdpc3RlcihzdHJ1Y3QgaTkxNV9kcm1fY2xpZW50ICpjbGllbnQpCj4gK3sK
PiArICAgICAgIF9fY2xpZW50X3VucmVnaXN0ZXJfc3lzZnMoY2xpZW50KTsKPiArCj4gKyAgICAg
ICBwdXRfcGlkKGZldGNoX2FuZF96ZXJvKCZjbGllbnQtPnBpZCkpOwo+ICsgICAgICAga2ZyZWUo
ZmV0Y2hfYW5kX3plcm8oJmNsaWVudC0+bmFtZSkpOwo+ICt9Cj4gKwo+ICtzdHJ1Y3QgaTkxNV9k
cm1fY2xpZW50ICoKPiAraTkxNV9kcm1fY2xpZW50X2FkZChzdHJ1Y3QgaTkxNV9kcm1fY2xpZW50
cyAqY2xpZW50cywgc3RydWN0IHRhc2tfc3RydWN0ICp0YXNrKQo+ICt7Cj4gKyAgICAgICBzdHJ1
Y3QgaTkxNV9kcm1fY2xpZW50ICpjbGllbnQ7Cj4gKyAgICAgICBpbnQgcmV0Owo+ICsKPiArICAg
ICAgIGNsaWVudCA9IGt6YWxsb2Moc2l6ZW9mKCpjbGllbnQpLCBHRlBfS0VSTkVMKTsKPiArICAg
ICAgIGlmICghY2xpZW50KQo+ICsgICAgICAgICAgICAgICByZXR1cm4gRVJSX1BUUigtRU5PTUVN
KTsKPiArCj4gKyAgICAgICBrcmVmX2luaXQoJmNsaWVudC0+a3JlZik7Cj4gKyAgICAgICBjbGll
bnQtPmNsaWVudHMgPSBjbGllbnRzOwo+ICsKPiArICAgICAgIHJldCA9IHhhX2FsbG9jX2N5Y2xp
YygmY2xpZW50cy0+eGFycmF5LCAmY2xpZW50LT5pZCwgY2xpZW50LAo+ICsgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgIHhhX2xpbWl0XzMyYiwgJmNsaWVudHMtPm5leHRfaWQsIEdGUF9LRVJO
RUwpOwo+ICsgICAgICAgaWYgKHJldCkKPiArICAgICAgICAgICAgICAgZ290byBlcnJfaWQ7Cj4g
Kwo+ICsgICAgICAgcmV0ID0gX19pOTE1X2RybV9jbGllbnRfcmVnaXN0ZXIoY2xpZW50LCB0YXNr
KTsKPiArICAgICAgIGlmIChyZXQpCj4gKyAgICAgICAgICAgICAgIGdvdG8gZXJyX3JlZ2lzdGVy
Owo+ICsKPiArICAgICAgIHJldHVybiBjbGllbnQ7Cj4gKwo+ICtlcnJfcmVnaXN0ZXI6Cj4gKyAg
ICAgICB4YV9lcmFzZSgmY2xpZW50cy0+eGFycmF5LCBjbGllbnQtPmlkKTsKPiArZXJyX2lkOgo+
ICsgICAgICAga2ZyZWUoY2xpZW50KTsKPiArCj4gKyAgICAgICByZXR1cm4gRVJSX1BUUihyZXQp
Owo+ICt9Cj4gKwo+ICt2b2lkIF9faTkxNV9kcm1fY2xpZW50X2ZyZWUoc3RydWN0IGtyZWYgKmty
ZWYpCj4gK3sKPiArICAgICAgIHN0cnVjdCBpOTE1X2RybV9jbGllbnQgKmNsaWVudCA9Cj4gKyAg
ICAgICAgICAgICAgIGNvbnRhaW5lcl9vZihrcmVmLCB0eXBlb2YoKmNsaWVudCksIGtyZWYpOwo+
ICsKPiArICAgICAgIF9faTkxNV9kcm1fY2xpZW50X3VucmVnaXN0ZXIoY2xpZW50KTsKPiArICAg
ICAgIHhhX2VyYXNlKCZjbGllbnQtPmNsaWVudHMtPnhhcnJheSwgY2xpZW50LT5pZCk7Cj4gKyAg
ICAgICBrZnJlZV9yY3UoY2xpZW50LCByY3UpOwo+ICt9Cj4gKwo+ICt2b2lkIGk5MTVfZHJtX2Ns
aWVudF9jbG9zZShzdHJ1Y3QgaTkxNV9kcm1fY2xpZW50ICpjbGllbnQpCj4gK3sKPiArICAgICAg
IEdFTV9CVUdfT04oUkVBRF9PTkNFKGNsaWVudC0+Y2xvc2VkKSk7Cj4gKyAgICAgICBXUklURV9P
TkNFKGNsaWVudC0+Y2xvc2VkLCB0cnVlKTsKPiArICAgICAgIGk5MTVfZHJtX2NsaWVudF9wdXQo
Y2xpZW50KTsKPiArfQo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2Ry
bV9jbGllbnQuaCBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZHJtX2NsaWVudC5oCj4gbmV3
IGZpbGUgbW9kZSAxMDA2NDQKPiBpbmRleCAwMDAwMDAwMDAwMDAuLmFmNjk5OGM3NGQ0Ywo+IC0t
LSAvZGV2L251bGwKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2RybV9jbGllbnQu
aAo+IEBAIC0wLDAgKzEsNjQgQEAKPiArLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IE1JVAo+
ICsvKgo+ICsgKiBDb3B5cmlnaHQgwqkgMjAyMCBJbnRlbCBDb3Jwb3JhdGlvbgo+ICsgKi8KPiAr
Cj4gKyNpZm5kZWYgX19JOTE1X0RSTV9DTElFTlRfSF9fCj4gKyNkZWZpbmUgX19JOTE1X0RSTV9D
TElFTlRfSF9fCj4gKwo+ICsjaW5jbHVkZSA8bGludXgvZGV2aWNlLmg+Cj4gKyNpbmNsdWRlIDxs
aW51eC9rb2JqZWN0Lmg+Cj4gKyNpbmNsdWRlIDxsaW51eC9rcmVmLmg+Cj4gKyNpbmNsdWRlIDxs
aW51eC9waWQuaD4KPiArI2luY2x1ZGUgPGxpbnV4L3JjdXBkYXRlLmg+Cj4gKyNpbmNsdWRlIDxs
aW51eC9zY2hlZC5oPgo+ICsjaW5jbHVkZSA8bGludXgveGFycmF5Lmg+Cj4gKwo+ICtzdHJ1Y3Qg
aTkxNV9kcm1fY2xpZW50cyB7Cj4gKyAgICAgICBzdHJ1Y3QgeGFycmF5IHhhcnJheTsKPiArICAg
ICAgIHUzMiBuZXh0X2lkOwo+ICsKPiArICAgICAgIHN0cnVjdCBrb2JqZWN0ICpyb290Owo+ICt9
Owo+ICsKPiArc3RydWN0IGk5MTVfZHJtX2NsaWVudCB7Cj4gKyAgICAgICBzdHJ1Y3Qga3JlZiBr
cmVmOwo+ICsKPiArICAgICAgIHN0cnVjdCByY3VfaGVhZCByY3U7Cj4gKwo+ICsgICAgICAgdW5z
aWduZWQgaW50IGlkOwo+ICsgICAgICAgc3RydWN0IHBpZCAqcGlkOwo+ICsgICAgICAgY2hhciAq
bmFtZTsKPiArICAgICAgIGJvb2wgY2xvc2VkOwo+ICsKPiArICAgICAgIHN0cnVjdCBpOTE1X2Ry
bV9jbGllbnRzICpjbGllbnRzOwo+ICsKPiArICAgICAgIHN0cnVjdCBrb2JqZWN0ICpyb290Owo+
ICsgICAgICAgc3RydWN0IHsKPiArICAgICAgICAgICAgICAgc3RydWN0IGRldmljZV9hdHRyaWJ1
dGUgcGlkOwo+ICsgICAgICAgICAgICAgICBzdHJ1Y3QgZGV2aWNlX2F0dHJpYnV0ZSBuYW1lOwo+
ICsgICAgICAgfSBhdHRyOwo+ICt9Owo+ICsKPiArdm9pZCBpOTE1X2RybV9jbGllbnRzX2luaXQo
c3RydWN0IGk5MTVfZHJtX2NsaWVudHMgKmNsaWVudHMpOwo+ICsKPiArc3RhdGljIGlubGluZSBz
dHJ1Y3QgaTkxNV9kcm1fY2xpZW50ICoKPiAraTkxNV9kcm1fY2xpZW50X2dldChzdHJ1Y3QgaTkx
NV9kcm1fY2xpZW50ICpjbGllbnQpCj4gK3sKPiArICAgICAgIGtyZWZfZ2V0KCZjbGllbnQtPmty
ZWYpOwo+ICsgICAgICAgcmV0dXJuIGNsaWVudDsKPiArfQo+ICsKPiArdm9pZCBfX2k5MTVfZHJt
X2NsaWVudF9mcmVlKHN0cnVjdCBrcmVmICprcmVmKTsKPiArCj4gK3N0YXRpYyBpbmxpbmUgdm9p
ZCBpOTE1X2RybV9jbGllbnRfcHV0KHN0cnVjdCBpOTE1X2RybV9jbGllbnQgKmNsaWVudCkKPiAr
ewo+ICsgICAgICAga3JlZl9wdXQoJmNsaWVudC0+a3JlZiwgX19pOTE1X2RybV9jbGllbnRfZnJl
ZSk7Cj4gK30KPiArCj4gK3ZvaWQgaTkxNV9kcm1fY2xpZW50X2Nsb3NlKHN0cnVjdCBpOTE1X2Ry
bV9jbGllbnQgKmNsaWVudCk7Cj4gKwo+ICtzdHJ1Y3QgaTkxNV9kcm1fY2xpZW50ICppOTE1X2Ry
bV9jbGllbnRfYWRkKHN0cnVjdCBpOTE1X2RybV9jbGllbnRzICpjbGllbnRzLAo+ICsgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RydWN0IHRhc2tfc3RydWN0ICp0
YXNrKTsKPiArCj4gKyNlbmRpZiAvKiAhX19JOTE1X0RSTV9DTElFTlRfSF9fICovCj4gZGlmZiAt
LWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZHJ2LmMgYi9kcml2ZXJzL2dwdS9kcm0v
aTkxNS9pOTE1X2Rydi5jCj4gaW5kZXggNjQxZjVlMDNiNjYxLi5kYWM4NGIxN2QyM2QgMTAwNjQ0
Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kcnYuYwo+ICsrKyBiL2RyaXZlcnMv
Z3B1L2RybS9pOTE1L2k5MTVfZHJ2LmMKPiBAQCAtNzAsNiArNzAsNyBAQAo+ICAjaW5jbHVkZSAi
Z3QvaW50ZWxfcmM2LmgiCj4KPiAgI2luY2x1ZGUgImk5MTVfZGVidWdmcy5oIgo+ICsjaW5jbHVk
ZSAiaTkxNV9kcm1fY2xpZW50LmgiCj4gICNpbmNsdWRlICJpOTE1X2Rydi5oIgo+ICAjaW5jbHVk
ZSAiaTkxNV9pb2MzMi5oIgo+ICAjaW5jbHVkZSAiaTkxNV9pcnEuaCIKPiBAQCAtNDU2LDYgKzQ1
Nyw4IEBAIHN0YXRpYyBpbnQgaTkxNV9kcml2ZXJfZWFybHlfcHJvYmUoc3RydWN0IGRybV9pOTE1
X3ByaXZhdGUgKmRldl9wcml2KQo+Cj4gICAgICAgICBpOTE1X2dlbV9pbml0X2Vhcmx5KGRldl9w
cml2KTsKPgo+ICsgICAgICAgaTkxNV9kcm1fY2xpZW50c19pbml0KCZkZXZfcHJpdi0+Y2xpZW50
cyk7Cj4gKwo+ICAgICAgICAgLyogVGhpcyBtdXN0IGJlIGNhbGxlZCBiZWZvcmUgYW55IGNhbGxz
IHRvIEhBU19QQ0hfKiAqLwo+ICAgICAgICAgaW50ZWxfZGV0ZWN0X3BjaChkZXZfcHJpdik7Cj4K
PiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kcnYuaCBiL2RyaXZlcnMv
Z3B1L2RybS9pOTE1L2k5MTVfZHJ2LmgKPiBpbmRleCBlOWVlNGRhYTkzMjAuLmY5ZjBjM2JhNmU0
YSAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2Rydi5oCj4gKysrIGIv
ZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kcnYuaAo+IEBAIC05MSw2ICs5MSw3IEBACj4gICNp
bmNsdWRlICJpbnRlbF93YWtlcmVmLmgiCj4gICNpbmNsdWRlICJpbnRlbF93b3BjbS5oIgo+Cj4g
KyNpbmNsdWRlICJpOTE1X2RybV9jbGllbnQuaCIKPiAgI2luY2x1ZGUgImk5MTVfZ2VtLmgiCj4g
ICNpbmNsdWRlICJpOTE1X2dlbV9ndHQuaCIKPiAgI2luY2x1ZGUgImk5MTVfZ3B1X2Vycm9yLmgi
Cj4gQEAgLTIyNiw2ICsyMjcsOCBAQCBzdHJ1Y3QgZHJtX2k5MTVfZmlsZV9wcml2YXRlIHsKPiAg
ICAgICAgIC8qKiBiYW5fc2NvcmU6IEFjY3VtdWxhdGVkIHNjb3JlIG9mIGFsbCBjdHggYmFucyBh
bmQgZmFzdCBoYW5ncy4gKi8KPiAgICAgICAgIGF0b21pY190IGJhbl9zY29yZTsKPiAgICAgICAg
IHVuc2lnbmVkIGxvbmcgaGFuZ190aW1lc3RhbXA7Cj4gKwo+ICsgICAgICAgc3RydWN0IGk5MTVf
ZHJtX2NsaWVudCAqY2xpZW50Owo+ICB9Owo+Cj4gIC8qIEludGVyZmFjZSBoaXN0b3J5Ogo+IEBA
IC0xMjAxLDYgKzEyMDQsOCBAQCBzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSB7Cj4KPiAgICAgICAg
IHN0cnVjdCBpOTE1X3BtdSBwbXU7Cj4KPiArICAgICAgIHN0cnVjdCBpOTE1X2RybV9jbGllbnRz
IGNsaWVudHM7Cj4gKwo+ICAgICAgICAgc3RydWN0IGk5MTVfaGRjcF9jb21wX21hc3RlciAqaGRj
cF9tYXN0ZXI7Cj4gICAgICAgICBib29sIGhkY3BfY29tcF9hZGRlZDsKPgo+IGRpZmYgLS1naXQg
YS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2dlbS5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUv
aTkxNV9nZW0uYwo+IGluZGV4IDBjYmNiOWY1NGU3ZC4uNWEwYjVmYWU4YjkyIDEwMDY0NAo+IC0t
LSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZ2VtLmMKPiArKysgYi9kcml2ZXJzL2dwdS9k
cm0vaTkxNS9pOTE1X2dlbS5jCj4gQEAgLTEyMzQsNiArMTIzNCw4IEBAIHZvaWQgaTkxNV9nZW1f
Y2xlYW51cF9lYXJseShzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYpCj4gICAgICAg
ICBHRU1fQlVHX09OKCFsbGlzdF9lbXB0eSgmZGV2X3ByaXYtPm1tLmZyZWVfbGlzdCkpOwo+ICAg
ICAgICAgR0VNX0JVR19PTihhdG9taWNfcmVhZCgmZGV2X3ByaXYtPm1tLmZyZWVfY291bnQpKTsK
PiAgICAgICAgIGRybV9XQVJOX09OKCZkZXZfcHJpdi0+ZHJtLCBkZXZfcHJpdi0+bW0uc2hyaW5r
X2NvdW50KTsKPiArICAgICAgIGRybV9XQVJOX09OKCZkZXZfcHJpdi0+ZHJtLCAheGFfZW1wdHko
JmRldl9wcml2LT5jbGllbnRzLnhhcnJheSkpOwo+ICsgICAgICAgeGFfZGVzdHJveSgmZGV2X3By
aXYtPmNsaWVudHMueGFycmF5KTsKPiAgfQo+Cj4gIGludCBpOTE1X2dlbV9mcmVlemUoc3RydWN0
IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2KQo+IEBAIC0xMjg4LDYgKzEyOTAsOCBAQCB2b2lk
IGk5MTVfZ2VtX3JlbGVhc2Uoc3RydWN0IGRybV9kZXZpY2UgKmRldiwgc3RydWN0IGRybV9maWxl
ICpmaWxlKQo+ICAgICAgICAgc3RydWN0IGRybV9pOTE1X2ZpbGVfcHJpdmF0ZSAqZmlsZV9wcml2
ID0gZmlsZS0+ZHJpdmVyX3ByaXY7Cj4gICAgICAgICBzdHJ1Y3QgaTkxNV9yZXF1ZXN0ICpyZXF1
ZXN0Owo+Cj4gKyAgICAgICBpOTE1X2RybV9jbGllbnRfY2xvc2UoZmlsZV9wcml2LT5jbGllbnQp
Owo+ICsKPiAgICAgICAgIC8qIENsZWFuIHVwIG91ciByZXF1ZXN0IGxpc3Qgd2hlbiB0aGUgY2xp
ZW50IGlzIGdvaW5nIGF3YXksIHNvIHRoYXQKPiAgICAgICAgICAqIGxhdGVyIHJldGlyZV9yZXF1
ZXN0cyB3b24ndCBkZXJlZmVyZW5jZSBvdXIgc29vbi10by1iZS1nb25lCj4gICAgICAgICAgKiBm
aWxlX3ByaXYuCj4gQEAgLTEzMDEsMTcgKzEzMDUsMjUgQEAgdm9pZCBpOTE1X2dlbV9yZWxlYXNl
KHN0cnVjdCBkcm1fZGV2aWNlICpkZXYsIHN0cnVjdCBkcm1fZmlsZSAqZmlsZSkKPiAgaW50IGk5
MTVfZ2VtX29wZW4oc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUsIHN0cnVjdCBkcm1fZmls
ZSAqZmlsZSkKPiAgewo+ICAgICAgICAgc3RydWN0IGRybV9pOTE1X2ZpbGVfcHJpdmF0ZSAqZmls
ZV9wcml2Owo+IC0gICAgICAgaW50IHJldDsKPiArICAgICAgIHN0cnVjdCBpOTE1X2RybV9jbGll
bnQgKmNsaWVudDsKPiArICAgICAgIGludCByZXQgPSAtRU5PTUVNOwo+Cj4gICAgICAgICBEUk1f
REVCVUcoIlxuIik7Cj4KPiAgICAgICAgIGZpbGVfcHJpdiA9IGt6YWxsb2Moc2l6ZW9mKCpmaWxl
X3ByaXYpLCBHRlBfS0VSTkVMKTsKPiAgICAgICAgIGlmICghZmlsZV9wcml2KQo+IC0gICAgICAg
ICAgICAgICByZXR1cm4gLUVOT01FTTsKPiArICAgICAgICAgICAgICAgZ290byBlcnJfYWxsb2M7
Cj4gKwo+ICsgICAgICAgY2xpZW50ID0gaTkxNV9kcm1fY2xpZW50X2FkZCgmaTkxNS0+Y2xpZW50
cywgY3VycmVudCk7Cj4gKyAgICAgICBpZiAoSVNfRVJSKGNsaWVudCkpIHsKPiArICAgICAgICAg
ICAgICAgcmV0ID0gUFRSX0VSUihjbGllbnQpOwo+ICsgICAgICAgICAgICAgICBnb3RvIGVycl9j
bGllbnQ7Cj4gKyAgICAgICB9Cj4KPiAgICAgICAgIGZpbGUtPmRyaXZlcl9wcml2ID0gZmlsZV9w
cml2Owo+ICAgICAgICAgZmlsZV9wcml2LT5kZXZfcHJpdiA9IGk5MTU7Cj4gICAgICAgICBmaWxl
X3ByaXYtPmZpbGUgPSBmaWxlOwo+ICsgICAgICAgZmlsZV9wcml2LT5jbGllbnQgPSBjbGllbnQ7
Cj4KPiAgICAgICAgIHNwaW5fbG9ja19pbml0KCZmaWxlX3ByaXYtPm1tLmxvY2spOwo+ICAgICAg
ICAgSU5JVF9MSVNUX0hFQUQoJmZpbGVfcHJpdi0+bW0ucmVxdWVzdF9saXN0KTsKPiBAQCAtMTMy
MSw4ICsxMzMzLDE1IEBAIGludCBpOTE1X2dlbV9vcGVuKHN0cnVjdCBkcm1faTkxNV9wcml2YXRl
ICppOTE1LCBzdHJ1Y3QgZHJtX2ZpbGUgKmZpbGUpCj4KPiAgICAgICAgIHJldCA9IGk5MTVfZ2Vt
X2NvbnRleHRfb3BlbihpOTE1LCBmaWxlKTsKPiAgICAgICAgIGlmIChyZXQpCj4gLSAgICAgICAg
ICAgICAgIGtmcmVlKGZpbGVfcHJpdik7Cj4gKyAgICAgICAgICAgICAgIGdvdG8gZXJyX2NvbnRl
eHQ7Cj4gKwo+ICsgICAgICAgcmV0dXJuIDA7Cj4KPiArZXJyX2NvbnRleHQ6Cj4gKyAgICAgICBp
OTE1X2RybV9jbGllbnRfY2xvc2UoY2xpZW50KTsKPiArZXJyX2NsaWVudDoKPiArICAgICAgIGtm
cmVlKGZpbGVfcHJpdik7Cj4gK2Vycl9hbGxvYzoKPiAgICAgICAgIHJldHVybiByZXQ7Cj4gIH0K
Pgo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3N5c2ZzLmMgYi9kcml2
ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3N5c2ZzLmMKPiBpbmRleCA0NWQzMmVmNDI3ODcuLmI3ZDRh
NmQyZGQ1YyAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3N5c2ZzLmMK
PiArKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3N5c2ZzLmMKPiBAQCAtNTYwLDYgKzU2
MCwxMSBAQCB2b2lkIGk5MTVfc2V0dXBfc3lzZnMoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRl
dl9wcml2KQo+ICAgICAgICAgc3RydWN0IGRldmljZSAqa2RldiA9IGRldl9wcml2LT5kcm0ucHJp
bWFyeS0+a2RldjsKPiAgICAgICAgIGludCByZXQ7Cj4KPiArICAgICAgIGRldl9wcml2LT5jbGll
bnRzLnJvb3QgPQo+ICsgICAgICAgICAgICAgICBrb2JqZWN0X2NyZWF0ZV9hbmRfYWRkKCJjbGll
bnRzIiwgJmtkZXYtPmtvYmopOwo+ICsgICAgICAgaWYgKCFkZXZfcHJpdi0+Y2xpZW50cy5yb290
KQo+ICsgICAgICAgICAgICAgICBEUk1fRVJST1IoIlBlci1jbGllbnQgc3lzZnMgc2V0dXAgZmFp
bGVkXG4iKTsKPiArCj4gICNpZmRlZiBDT05GSUdfUE0KPiAgICAgICAgIGlmIChIQVNfUkM2KGRl
dl9wcml2KSkgewo+ICAgICAgICAgICAgICAgICByZXQgPSBzeXNmc19tZXJnZV9ncm91cCgma2Rl
di0+a29iaiwKPiBAQCAtNjI3LDQgKzYzMiw3IEBAIHZvaWQgaTkxNV90ZWFyZG93bl9zeXNmcyhz
dHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYpCj4gICAgICAgICBzeXNmc191bm1lcmdl
X2dyb3VwKCZrZGV2LT5rb2JqLCAmcmM2X2F0dHJfZ3JvdXApOwo+ICAgICAgICAgc3lzZnNfdW5t
ZXJnZV9ncm91cCgma2Rldi0+a29iaiwgJnJjNnBfYXR0cl9ncm91cCk7Cj4gICNlbmRpZgo+ICsK
PiArICAgICAgIGlmIChkZXZfcHJpdi0+Y2xpZW50cy5yb290KQo+ICsgICAgICAgICAgICAgICBr
b2JqZWN0X3B1dChkZXZfcHJpdi0+Y2xpZW50cy5yb290KTsKPiAgfQo+IC0tCj4gMi4yMC4xCj4K
PiBfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwo+IEludGVs
LWdmeCBtYWlsaW5nIGxpc3QKPiBJbnRlbC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCj4gaHR0
cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9pbnRlbC1nZngKX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KSW50ZWwtZ2Z4IG1h
aWxpbmcgbGlzdApJbnRlbC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMu
ZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vaW50ZWwtZ2Z4Cg==

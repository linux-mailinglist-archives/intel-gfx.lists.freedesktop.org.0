Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 98E2812CEF
	for <lists+intel-gfx@lfdr.de>; Fri,  3 May 2019 13:52:53 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id AB21789D00;
	Fri,  3 May 2019 11:52:51 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from fireflyinternet.com (mail.fireflyinternet.com [109.228.58.192])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 189F38958E
 for <intel-gfx@lists.freedesktop.org>; Fri,  3 May 2019 11:52:47 +0000 (UTC)
X-Default-Received-SPF: pass (skip=forwardok (res=PASS))
 x-ip-name=78.156.65.138; 
Received: from haswell.alporthouse.com (unverified [78.156.65.138]) 
 by fireflyinternet.com (Firefly Internet (M1)) with ESMTP id 16440754-1500050 
 for multiple; Fri, 03 May 2019 12:52:28 +0100
From: Chris Wilson <chris@chris-wilson.co.uk>
To: intel-gfx@lists.freedesktop.org
Date: Fri,  3 May 2019 12:52:25 +0100
Message-Id: <20190503115225.30831-13-chris@chris-wilson.co.uk>
X-Mailer: git-send-email 2.20.1
In-Reply-To: <20190503115225.30831-1-chris@chris-wilson.co.uk>
References: <20190503115225.30831-1-chris@chris-wilson.co.uk>
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH 13/13] drm/i915: Disable semaphore busywaits on
 saturated systems
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: Dmitry Ermilov <dmitry.ermilov@intel.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

QXNraW5nIHRoZSBHUFUgdG8gYnVzeXdhaXQgb24gYSBtZW1vcnkgYWRkcmVzcywgcGVyaGFwcyBu
b3QgdW5leHBlY3RlZGx5CmluIGhpbmRzaWdodCBmb3IgYSBzaGFyZWQgc3lzdGVtLCBsZWFkcyB0
byBidXMgY29udGVudGlvbiB0aGF0IGFmZmVjdHMKQ1BVIHByb2dyYW1zIHRyeWluZyB0byBjb25j
dXJyZW50bHkgYWNjZXNzIG1lbW9yeS4gVGhpcyBjYW4gbWFuaWZlc3QgYXMKYSBkcm9wIGluIHRy
YW5zY29kZSB0aHJvdWdocHV0IG9uIGhpZ2hseSBvdmVyLXNhdHVyYXRlZCB3b3JrbG9hZHMuCgpU
aGUgb25seSBjbHVlIG9mZmVyZWQgYnkgcGVyZiwgaXMgdGhhdCB0aGUgYnVzLWN5Y2xlcyAocGVy
ZiBzdGF0IC1lCmJ1cy1jeWNsZXMpIGp1bXBlZCBieSA1MCUgd2hlbiBlbmFibGluZyBzZW1hcGhv
cmVzLiBUaGlzIGNvcnJlc3BvbmRzCndpdGggZXh0cmEgQ1BVIGFjdGl2ZSBjeWNsZXMgYmVpbmcg
YXR0cmlidXRlZCB0byBpbnRlbF9pZGxlJ3MgbXdhaXQuCgpUaGlzIHBhdGNoIGludHJvZHVjZXMg
YSBoZXVyaXN0aWMgdG8gdHJ5IGFuZCBkZXRlY3Qgd2hlbiBtb3JlIHRoYW4gb25lCmNsaWVudCBp
cyBzdWJtaXR0aW5nIHRvIHRoZSBHUFUgcHVzaGluZyBpdCBpbnRvIGFuIG92ZXJzYXR1cmF0ZWQg
c3RhdGUuCkFzIHdlIGFscmVhZHkga2VlcCB0cmFjayBvZiB3aGVuIHRoZSBzZW1hcGhvcmVzIGFy
ZSBzaWduYWxlZCwgd2UgY2FuCmluc3BlY3QgdGhlaXIgc3RhdGUgb24gc3VibWl0dGluZyB0aGUg
YnVzeXdhaXQgYmF0Y2ggYW5kIGlmIHdlIHBsYW5uZWQKdG8gdXNlIGEgc2VtYXBob3JlIGJ1dCB3
ZXJlIHRvbyBsYXRlLCBjb25jbHVkZSB0aGF0IHRoZSBHUFUgaXMKb3ZlcmxvYWRlZCBhbmQgbm90
IHRyeSB0byB1c2Ugc2VtYXBob3JlcyBpbiBmdXR1cmUgcmVxdWVzdHMuIEluCnByYWN0aWNlLCB0
aGlzIG1lYW5zIHdlIG9wdGltaXN0aWNhbGx5IHRyeSB0byB1c2Ugc2VtYXBob3JlcyBmb3IgdGhl
CmZpcnN0IGZyYW1lIG9mIGEgdHJhbnNjb2RlIGpvYiBzcGxpdCBvdmVyIG11bHRpcGxlIGVuZ2lu
ZXMsIGFuZCBmYWlsIGlzCnRoZXJlIGFyZSBtdWx0aXBsZSBjbGllbnRzIGFjdGl2ZSBhbmQgY29u
dGludWUgbm90IHRvIHVzZSBzZW1hcGhvcmVzIGZvcgp0aGUgc3Vic2VxdWVudCBmcmFtZXMgaW4g
dGhlIHNlcXVlbmNlLiBQZXJpb2RpY2FsbHksIHRyeWluZyB0bwpvcHRpbWlzdGljYWxseSBzd2l0
Y2ggc2VtYXBob3JlcyBiYWNrIG9uIHdoZW5ldmVyIHRoZSBjbGllbnQgd2FpdHMgdG8KY2F0Y2gg
dXAgd2l0aCB0aGUgdHJhbnNjb2RlIHJlc3VsdHMuCgpXaXRoIDEgY2xpZW50LCBvbiBCcm94dG9u
IEozNDU1LCB3aXRoIHRoZSByZWxhdGl2ZSBmcHMgbm9ybWFsaXplZCBieSAlY3B1OgoKeCBubyBz
ZW1hcGhvcmVzCisgZHJtLXRpcAoqIHRocm90dGxlCistLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0rCnwgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiAgICAgICAgICAg
ICAgICAgICB8CnwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgKisgICAgICAgICAgICAgICAgICB8CnwgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgKiorICAgICAgICAgICAgICAgICB8CnwgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiorICB4ICAgICAgICAg
ICAgICB8CnwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHggICAgICAgICAgICAgICAq
ICArKiorICB4ICAgICAgICAgICAgICB8CnwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
IHggIHggICAgICAgKiAgICAqICArKioqeCB4eCAgICAgICAgICAgICB8CnwgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgIHggIHggICAgICAgKiAgICAqICorKioqeCAqeCAgICAgICAgICAg
ICB8CnwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHggIHgqICAgKyAgKiAgICAqICoq
KioqeCAqeCB4ICAgICAgICAgICB8CnwgICAgICAgICAgICAgICAgICAgICAgICAgKyAgICB4IHh4
K3gqICAgKyAqKiogICAqICoqKioqKioqKiB4ICAgKiAgICAgICB8CnwgICAgICAgICAgICAgICAg
ICAgICAgICAgKyAgICB4IHh4K3gqICAgKiAqKiogKyoqICoqKioqKioqKiB4eCAgKiAgICAgICB8
CnwgICAgKiAgICsgICAgICAgICArKysrKiAgKyAgICB4KngqKioqKyorKiAqKiorKioqKioqKioq
KioqKit4KiAgKiAgICAgICB8CnwqKyArKiogKisgKyArKiArICorKyoqKioqKiAqeHh4KioqKioq
KioqKngqKiorKioqKioqKioqKioqKioqKiorKisrICAgICp8CnwgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgIHxfX19fX19fX19fQV9fX19fTV9fX19ffCAgICAgICAgICAgICB8Cnwg
ICAgICAgICAgICAgICAgICAgICAgICAgICB8X19fX19fX19fX19fX19fQV9fX19NX19fX19fX19f
fCAgICAgICAgICAgICB8CnwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8X19fX19f
X19fX19fQV9fX01fX19fX19fX3wgICAgICAgICAgICB8CistLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0rCiAgICBO
ICAgICAgICAgICBNaW4gICAgICAgICAgIE1heCAgICAgICAgTWVkaWFuICAgICAgICAgICBBdmcg
ICAgICAgIFN0ZGRldgp4IDEyMCAgICAgICAyLjYwNDc1ICAgICAgIDMuNTA5NDEgICAgICAgMy4z
MTEyMyAgICAgMy4yMTQzOTUzICAgIDAuMjExMTczOTkKKyAxMjAgICAgICAgIDIuMzgyNiAgICAg
ICAzLjU3MDc3ICAgICAgIDMuMjUxMDEgICAgIDMuMTQxNDE2MSAgICAwLjI4MTQ2NDA3CkRpZmZl
cmVuY2UgYXQgOTUuMCUgY29uZmlkZW5jZQoJLTAuMDcyOTc5MiArLy0gMC4wNjI5NTg1CgktMi4y
NzAzOSUgKy8tIDEuOTU4NjQlCgkoU3R1ZGVudCdzIHQsIHBvb2xlZCBzID0gMC4yNDg4MTQpCiog
MTIwICAgICAgIDIuMzU1MzYgICAgICAgMy42NjcxMyAgICAgICAgMy4yODQ5ICAgICAzLjIwNTk5
MTcgICAgMC4yNDYxODU2NQpObyBkaWZmZXJlbmNlIHByb3ZlbiBhdCA5NS4wJSBjb25maWRlbmNl
CgpXaXRoIDEwIGNsaWVudHMgb3Zlci1zYXR1cmF0aW5nIHRoZSBwaXBlbGluZToKCnggbm8gc2Vt
YXBob3JlcworIGRybS10aXAKKiBwYXRjaAorLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKwp8ICAgICAgICAgICAg
ICAgICAgICAgKysgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiogICAg
ICAgfAp8ICAgICAgICAgICAgICAgICAgICAgKysgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgKiogICAgICAgfAp8ICAgICAgICAgICAgICAgICAgICAgKysgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiogICAgICAgfAp8ICAgICAgICAgICAgICAg
ICAgICAgKysgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiogICAgICAg
fAp8ICAgICAgICAgICAgICAgICAgICAgKysgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICB4eCAqKiogICAgICAgfAp8ICAgICAgICAgICAgICAgICAgICAgKysgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICB4eCAqKiogICAgICAgfAp8ICAgICAgICAgICAgICAgICAg
ICAgKysgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4eHgqKiogICAgICAgfAp8
ICAgICAgICAgICAgICAgICAgICAgKysgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICB4eHgqKiogICAgICAgfAp8ICAgICAgICAgICAgICAgICAgICArKysgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICB4eHgqKiogICAgICAgfAp8ICAgICAgICAgICAgICAgICAgICAr
KysgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4eCoqKiogICAgICAgfAp8ICAg
ICAgICAgICAgICAgICAgICArKysgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4
eCoqKiogICAgICAgfAp8ICAgICAgICAgICAgICAgICAgICArKysgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICB4eCoqKiogICAgICAgfAp8ICAgICAgICAgICAgICAgICAgICArKysg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4eCoqKiogICAgICAgfAp8ICAgICAg
ICAgICAgICAgICAgICArKysrICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4eCoq
KiogICAgICAgfAp8ICAgICAgICAgICAgICAgICAgICsrKysrICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICB4eCoqKiogICAgICAgfAp8ICAgICAgICAgICAgICAgICAgICsrKysrICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeCB4KioqKioqICAgICAgfAp8ICAgICAgICAg
ICAgICAgICAgKysrKysrICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeHh4KioqKioq
KiAgICAgfAp8ICAgICAgICAgICAgICAgICAgKysrKysrICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgeHh4KioqKioqKiAgICAgfAp8ICAgICAgICAgICAgICAgICAgKysrKysrICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgeHh4KioqKioqKiAgICAgfAp8ICAgICAgICAgICAg
ICAgICAgKysrKysrICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeHgqKioqKioqKiAg
ICAgfAp8ICAgICAgICAgICAgICAgICAgKysrKysrICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgIHh4eHgqKioqKioqKiAgICAgfAp8ICAgICAgICAgICAgICAgICAgKysrKysrICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgIHh4eHgqKioqKioqKiAgICAgfAp8ICAgICAgICAgICAgICAg
ICsrKysrKysrICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4eHh4eCoqKioqKioqKiAgICAg
fAp8KyArICArICAgICAgICArICsrKysrKysrICAgICAgICAgICAgICAgICAgICAgICAgICAgeHh4
Knh4KioqKioqKioqKngqICAqfAp8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgfF9fQV9ffCAgICAgICAgfAp8ICAgICAgICAgICAgICAgICB8
X19BTV9ffCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfAp8
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgfF9fQV98ICAgICAgfAorLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKwogICAgTiAgICAgICAgICAgTWluICAg
ICAgICAgICBNYXggICAgICAgIE1lZGlhbiAgICAgICAgICAgQXZnICAgICAgICBTdGRkZXYKeCAx
MjAgICAgICAgMi40Nzg1NSAgICAgICAgMi44OTcyICAgICAgIDIuNzIzNzYgICAgIDIuNzE5MzQw
MiAgIDAuMDc0NjA0OTMzCisgMTIwICAgICAgIDEuMTczNjcgICAgICAgMS43NzQ1OSAgICAgICAx
LjcxOTc3ICAgICAxLjY5NjY3ODIgICAwLjA4NTg1MDY5NwpEaWZmZXJlbmNlIGF0IDk1LjAlIGNv
bmZpZGVuY2UKCS0xLjAyMjY2ICsvLSAwLjAyMDM1MDIKCS0zNy42MDclICsvLSAwLjc0ODM1MiUK
CShTdHVkZW50J3MgdCwgcG9vbGVkIHMgPSAwLjA4MDQyNDYpCiogMTIwICAgICAgIDIuNTc4Njgg
ICAgICAgMy4wMDgyMSAgICAgICAyLjgwMTQyICAgICAyLjc5MjM4NzggICAwLjA1ODY0NjQ3NwpE
aWZmZXJlbmNlIGF0IDk1LjAlIGNvbmZpZGVuY2UKCTAuMDczMDQ3NiArLy0gMC4wMTY5NzkxCgky
LjY4NjIyJSArLy0gMC42MjQzODMlCgkoU3R1ZGVudCdzIHQsIHBvb2xlZCBzID0gMC4wNjcxMDE4
KQoKSW5kaWNhdGluZyB0aGF0IHdlJ3ZlIHJlY292ZXJlZCB0aGUgcmVncmVzc2lvbiBmcm9tIGVu
YWJsaW5nIHNlbWFwaG9yZXMKb24gdGhpcyBzYXR1cmF0ZWQgc2V0dXAsIHdpdGggYSBoaW50IHRv
d2FyZHMgYW4gb3ZlcmFsbCBpbXByb3ZlbWVudC4KClZlcnkgc2ltaWxhciwgYnV0IG9mIHNtYWxs
ZXIgbWFnbml0dWRlLCByZXN1bHRzIGFyZSBvYnNlcnZlZCBvbiBib3RoClNreWxha2UoZ3QyKSBh
bmQgS2FieWxha2UoZ3Q0KS4gVGhpcyBtYXkgYmUgZHVlIHRvIHRoZSByZWR1Y2VkIGltcGFjdCBv
ZgpidXMtY3ljbGVzLCB3aGVyZSB3ZSBzZWUgYSA1MCUgaGl0IG9uIEJyb3h0b24sIGl0IGlzIG9u
bHkgMTAlIG9uIHRoZSBiaWcKY29yZSwgaW4gdGhpcyBwYXJ0aWN1bGFyIHRlc3QuCgpPbmUgb2Jz
ZXJ2YXRpb24gdG8gbWFrZSBoZXJlIGlzIHRoYXQgZm9yIGEgZ3JlZWR5IGNsaWVudCB0cnlpbmcg
dG8KbWF4aW1pc2UgaXRzIG93biB0aHJvdWdocHV0LCB1c2luZyBzZW1hcGhvcmVzIGlzIHRoZSBy
aWdodCBjaG9pY2UuIEl0IGlzCm9ubHkgdGhlIGhvbGlzdGljIHN5c3RlbS13aWRlIHZpZXcgdGhh
dCBzZW1hcGhvcmVzIG9mIG9uZSBjbGllbnQKaW1wYWN0cyBhbm90aGVyIGFuZCByZWR1Y2VzIHRo
ZSBvdmVyYWxsIHRocm91Z2hwdXQgd2hlcmUgd2Ugd291bGQgY2hvb3NlCnRvIGRpc2FibGUgc2Vt
YXBob3Jlcy4KClRoZSBtb3N0IG5vdGljZWFibGUgbmVnYWN0aXZlIGltcGFjdCB0aGlzIGhhcyBp
cyBvbiB0aGUgbm8tb3AKbWljcm9iZW5jaG1hcmtzLCB3aGljaCBhcmUgYWxzbyB2ZXJ5IG5vdGFi
bGUgZm9yIGhhdmluZyBubyBjcHUgYnVzIGxvYWQuCkluIHBhcnRpY3VsYXIsIHRoaXMgaW5jcmVh
c2VzIHRoZSBydW50aW1lIGFuZCBlbmVyZ3kgY29uc3VtcHRpb24gb2YKZ2VtX2V4ZWNfd2hpc3Bl
ci4KClNpZ25lZC1vZmYtYnk6IENocmlzIFdpbHNvbiA8Y2hyaXNAY2hyaXMtd2lsc29uLmNvLnVr
PgpDYzogVHZydGtvIFVyc3VsaW4gPHR2cnRrby51cnN1bGluQGludGVsLmNvbT4KQ2M6IERtaXRy
eSBSb2dvemhraW4gPGRtaXRyeS52LnJvZ296aGtpbkBpbnRlbC5jb20+CkNjOiBEbWl0cnkgRXJt
aWxvdiA8ZG1pdHJ5LmVybWlsb3ZAaW50ZWwuY29tPgpDYzogSm9vbmFzIExhaHRpbmVuIDxqb29u
YXMubGFodGluZW5AbGludXguaW50ZWwuY29tPgotLS0KIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2d0
L2ludGVsX2NvbnRleHQuYyAgICAgICB8ICAyICsKIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2lu
dGVsX2NvbnRleHRfdHlwZXMuaCB8ICAzICsrCiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3Jl
cXVlc3QuYyAgICAgICAgICAgfCA0MCArKysrKysrKysrKysrKysrKystCiAzIGZpbGVzIGNoYW5n
ZWQsIDQ0IGluc2VydGlvbnMoKyksIDEgZGVsZXRpb24oLSkKCmRpZmYgLS1naXQgYS9kcml2ZXJz
L2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9jb250ZXh0LmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9n
dC9pbnRlbF9jb250ZXh0LmMKaW5kZXggMWYxNzYxZmM2NTk3Li41YjMxZTFlMDVkZGQgMTAwNjQ0
Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2NvbnRleHQuYworKysgYi9kcml2
ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9jb250ZXh0LmMKQEAgLTExNiw2ICsxMTYsNyBAQCBp
bnRlbF9jb250ZXh0X2luaXQoc3RydWN0IGludGVsX2NvbnRleHQgKmNlLAogCWNlLT5lbmdpbmUg
PSBlbmdpbmU7CiAJY2UtPm9wcyA9IGVuZ2luZS0+Y29wczsKIAljZS0+c3NldSA9IGVuZ2luZS0+
c3NldTsKKwljZS0+c2F0dXJhdGVkID0gMDsKIAogCUlOSVRfTElTVF9IRUFEKCZjZS0+c2lnbmFs
X2xpbmspOwogCUlOSVRfTElTVF9IRUFEKCZjZS0+c2lnbmFscyk7CkBAIC0xNTgsNiArMTU5LDcg
QEAgdm9pZCBpbnRlbF9jb250ZXh0X2VudGVyX2VuZ2luZShzdHJ1Y3QgaW50ZWxfY29udGV4dCAq
Y2UpCiAKIHZvaWQgaW50ZWxfY29udGV4dF9leGl0X2VuZ2luZShzdHJ1Y3QgaW50ZWxfY29udGV4
dCAqY2UpCiB7CisJY2UtPnNhdHVyYXRlZCA9IDA7CiAJaW50ZWxfZW5naW5lX3BtX3B1dChjZS0+
ZW5naW5lKTsKIH0KIApkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxf
Y29udGV4dF90eXBlcy5oIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfY29udGV4dF90
eXBlcy5oCmluZGV4IGQ1YTdkYmQwZGFlZS4uOTYzYTMxMjQzMGU2IDEwMDY0NAotLS0gYS9kcml2
ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9jb250ZXh0X3R5cGVzLmgKKysrIGIvZHJpdmVycy9n
cHUvZHJtL2k5MTUvZ3QvaW50ZWxfY29udGV4dF90eXBlcy5oCkBAIC0xMyw2ICsxMyw3IEBACiAj
aW5jbHVkZSA8bGludXgvdHlwZXMuaD4KIAogI2luY2x1ZGUgImk5MTVfYWN0aXZlX3R5cGVzLmgi
CisjaW5jbHVkZSAiaW50ZWxfZW5naW5lX3R5cGVzLmgiCiAjaW5jbHVkZSAiaW50ZWxfc3NldS5o
IgogCiBzdHJ1Y3QgaTkxNV9nZW1fY29udGV4dDsKQEAgLTUyLDYgKzUzLDggQEAgc3RydWN0IGlu
dGVsX2NvbnRleHQgewogCWF0b21pY190IHBpbl9jb3VudDsKIAlzdHJ1Y3QgbXV0ZXggcGluX211
dGV4OyAvKiBndWFyZHMgcGlubmluZyBhbmQgYXNzb2NpYXRlZCBvbi1ncHVpbmcgKi8KIAorCWlu
dGVsX2VuZ2luZV9tYXNrX3Qgc2F0dXJhdGVkOyAvKiBzdWJtaXR0aW5nIHNlbWFwaG9yZXMgdG9v
IGxhdGU/ICovCisKIAkvKioKIAkgKiBhY3RpdmVfdHJhY2tlcjogQWN0aXZlIHRyYWNrZXIgZm9y
IHRoZSBleHRlcm5hbCBycSBhY3Rpdml0eQogCSAqIG9uIHRoaXMgaW50ZWxfY29udGV4dCBvYmpl
Y3QuCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3JlcXVlc3QuYyBiL2Ry
aXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfcmVxdWVzdC5jCmluZGV4IDA2NWRhMWJjYmI0Yy4uZjA2
MDI4NzMzMjQyIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3JlcXVlc3Qu
YworKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3JlcXVlc3QuYwpAQCAtNDEwLDYgKzQx
MCwyNiBAQCB2b2lkIF9faTkxNV9yZXF1ZXN0X3N1Ym1pdChzdHJ1Y3QgaTkxNV9yZXF1ZXN0ICpy
ZXF1ZXN0KQogCWlmIChpOTE1X2dlbV9jb250ZXh0X2lzX2Jhbm5lZChyZXF1ZXN0LT5nZW1fY29u
dGV4dCkpCiAJCWk5MTVfcmVxdWVzdF9za2lwKHJlcXVlc3QsIC1FSU8pOwogCisJLyoKKwkgKiBB
cmUgd2UgdXNpbmcgc2VtYXBob3JlcyB3aGVuIHRoZSBncHUgaXMgYWxyZWFkeSBzYXR1cmF0ZWQ/
CisJICoKKwkgKiBVc2luZyBzZW1hcGhvcmVzIGluY3VycyBhIGNvc3QgaW4gaGF2aW5nIHRoZSBH
UFUgcG9sbCBhCisJICogbWVtb3J5IGxvY2F0aW9uLCBidXN5d2FpdGluZyBmb3IgaXQgdG8gY2hh
bmdlLiBUaGUgY29udGludWFsCisJICogbWVtb3J5IHJlYWRzIGNhbiBoYXZlIGEgbm90aWNlYWJs
ZSBpbXBhY3Qgb24gdGhlIHJlc3Qgb2YgdGhlCisJICogc3lzdGVtIHdpdGggdGhlIGV4dHJhIGJ1
cyB0cmFmZmljLCBzdGFsbGluZyB0aGUgY3B1IGFzIGl0IHRvbworCSAqIHRyaWVzIHRvIGFjY2Vz
cyBtZW1vcnkgYWNyb3NzIHRoZSBidXMgKHBlcmYgc3RhdCAtZSBidXMtY3ljbGVzKS4KKwkgKgor
CSAqIElmIHdlIGluc3RhbGxlZCBhIHNlbWFwaG9yZSBvbiB0aGlzIHJlcXVlc3QgYW5kIHdlIG9u
bHkgc3VibWl0CisJICogdGhlIHJlcXVlc3QgYWZ0ZXIgdGhlIHNpZ25hbGVyIGNvbXBsZXRlZCwg
dGhhdCBpbmRpY2F0ZXMgdGhlCisJICogc3lzdGVtIGlzIG92ZXJsb2FkZWQgYW5kIHVzaW5nIHNl
bWFwaG9yZXMgYXQgdGhpcyB0aW1lIG9ubHkKKwkgKiBpbmNyZWFzZXMgdGhlIGFtb3VudCBvZiB3
b3JrIHdlIGFyZSBkb2luZy4gSWYgc28sIHdlIGRpc2FibGUKKwkgKiBmdXJ0aGVyIHVzZSBvZiBz
ZW1hcGhvcmVzIHVudGlsIHdlIGFyZSBpZGxlIGFnYWluLCB3aGVuY2Ugd2UKKwkgKiBvcHRpbWlz
dGljYWxseSB0cnkgYWdhaW4uCisJICovCisJaWYgKHJlcXVlc3QtPnNjaGVkLnNlbWFwaG9yZXMg
JiYKKwkgICAgaTkxNV9zd19mZW5jZV9zaWduYWxlZCgmcmVxdWVzdC0+c2VtYXBob3JlKSkKKwkJ
cmVxdWVzdC0+aHdfY29udGV4dC0+c2F0dXJhdGVkIHw9IHJlcXVlc3QtPnNjaGVkLnNlbWFwaG9y
ZXM7CisKIAkvKiBXZSBtYXkgYmUgcmVjdXJzaW5nIGZyb20gdGhlIHNpZ25hbCBjYWxsYmFjayBv
ZiBhbm90aGVyIGk5MTUgZmVuY2UgKi8KIAlzcGluX2xvY2tfbmVzdGVkKCZyZXF1ZXN0LT5sb2Nr
LCBTSU5HTEVfREVQVEhfTkVTVElORyk7CiAKQEAgLTc3Niw2ICs3OTYsMjQgQEAgaTkxNV9yZXF1
ZXN0X2F3YWl0X3N0YXJ0KHN0cnVjdCBpOTE1X3JlcXVlc3QgKnJxLCBzdHJ1Y3QgaTkxNV9yZXF1
ZXN0ICpzaWduYWwpCiAJCQkJCSAgICAgSTkxNV9GRU5DRV9HRlApOwogfQogCitzdGF0aWMgaW50
ZWxfZW5naW5lX21hc2tfdAorYWxyZWFkeV9idXN5d2FpdGluZyhzdHJ1Y3QgaTkxNV9yZXF1ZXN0
ICpycSkKK3sKKwkvKgorCSAqIFBvbGxpbmcgYSBzZW1hcGhvcmUgY2F1c2VzIGJ1cyB0cmFmZmlj
LCBkZWxheWluZyBvdGhlciB1c2VycyBvZgorCSAqIGJvdGggdGhlIEdQVSBhbmQgQ1BVLiBXZSB3
YW50IHRvIGxpbWl0IHRoZSBpbXBhY3Qgb24gb3RoZXJzLAorCSAqIHdoaWxlIHRha2luZyBhZHZh
bnRhZ2Ugb2YgZWFybHkgc3VibWlzc2lvbiB0byByZWR1Y2UgR1BVCisJICogbGF0ZW5jeS4gVGhl
cmVmb3JlIHdlIHJlc3RyaWN0IG91cnNlbHZlcyB0byBub3QgdXNpbmcgbW9yZQorCSAqIHRoYW4g
b25lIHNlbWFwaG9yZSBmcm9tIGVhY2ggc291cmNlLCBhbmQgbm90IHVzaW5nIGEgc2VtYXBob3Jl
CisJICogaWYgd2UgaGF2ZSBkZXRlY3RlZCB0aGUgZW5naW5lIGlzIHNhdHVyYXRlZCAoaS5lLiB3
b3VsZCBub3QgYmUKKwkgKiBzdWJtaXR0ZWQgZWFybHkgYW5kIGNhdXNlIGJ1cyB0cmFmZmljIHJl
YWRpbmcgYW4gYWxyZWFkeSBwYXNzZWQKKwkgKiBzZW1hcGhvcmUpLgorCSAqCisJICogU2VlIHRo
ZSBhcmUtd2UtdG9vLWxhdGU/IGNoZWNrIGluIF9faTkxNV9yZXF1ZXN0X3N1Ym1pdCgpLgorCSAq
LworCXJldHVybiBycS0+c2NoZWQuc2VtYXBob3JlcyB8IHJxLT5od19jb250ZXh0LT5zYXR1cmF0
ZWQ7Cit9CisKIHN0YXRpYyBpbnQKIGVtaXRfc2VtYXBob3JlX3dhaXQoc3RydWN0IGk5MTVfcmVx
dWVzdCAqdG8sCiAJCSAgICBzdHJ1Y3QgaTkxNV9yZXF1ZXN0ICpmcm9tLApAQCAtNzg5LDcgKzgy
Nyw3IEBAIGVtaXRfc2VtYXBob3JlX3dhaXQoc3RydWN0IGk5MTVfcmVxdWVzdCAqdG8sCiAJR0VN
X0JVR19PTihJTlRFTF9HRU4odG8tPmk5MTUpIDwgOCk7CiAKIAkvKiBKdXN0IGVtaXQgdGhlIGZp
cnN0IHNlbWFwaG9yZSB3ZSBzZWUgYXMgcmVxdWVzdCBzcGFjZSBpcyBsaW1pdGVkLiAqLwotCWlm
ICh0by0+c2NoZWQuc2VtYXBob3JlcyAmIGZyb20tPmVuZ2luZS0+bWFzaykKKwlpZiAoYWxyZWFk
eV9idXN5d2FpdGluZyh0bykgJiBmcm9tLT5lbmdpbmUtPm1hc2spCiAJCXJldHVybiBpOTE1X3N3
X2ZlbmNlX2F3YWl0X2RtYV9mZW5jZSgmdG8tPnN1Ym1pdCwKIAkJCQkJCSAgICAgJmZyb20tPmZl
bmNlLCAwLAogCQkJCQkJICAgICBJOTE1X0ZFTkNFX0dGUCk7Ci0tIAoyLjIwLjEKCl9fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCkludGVsLWdmeCBtYWlsaW5n
IGxpc3QKSW50ZWwtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVk
ZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2ludGVsLWdmeA==

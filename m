Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 63E89D6023
	for <lists+intel-gfx@lfdr.de>; Mon, 14 Oct 2019 12:27:28 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 4EF146E245;
	Mon, 14 Oct 2019 10:27:26 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from fireflyinternet.com (mail.fireflyinternet.com [109.228.58.192])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 1E1096E245
 for <intel-gfx@lists.freedesktop.org>; Mon, 14 Oct 2019 10:27:24 +0000 (UTC)
X-Default-Received-SPF: pass (skip=forwardok (res=PASS))
 x-ip-name=78.156.65.138; 
Received: from localhost (unverified [78.156.65.138]) 
 by fireflyinternet.com (Firefly Internet (M1)) with ESMTP (TLS) id
 18829878-1500050 for multiple; Mon, 14 Oct 2019 11:27:20 +0100
MIME-Version: 1.0
From: Chris Wilson <chris@chris-wilson.co.uk>
User-Agent: alot/0.6
To: Tvrtko Ursulin <tvrtko.ursulin@linux.intel.com>,
 intel-gfx@lists.freedesktop.org
References: <20191014090757.32111-1-chris@chris-wilson.co.uk>
 <20191014090757.32111-8-chris@chris-wilson.co.uk>
 <d9c8c17e-393a-fbff-4689-58cfe6f54cf1@linux.intel.com>
In-Reply-To: <d9c8c17e-393a-fbff-4689-58cfe6f54cf1@linux.intel.com>
Message-ID: <157104883853.18859.16968318807165155916@skylake-alporthouse-com>
Date: Mon, 14 Oct 2019 11:27:18 +0100
Subject: Re: [Intel-gfx] [PATCH 08/15] drm/i915: Expose engine properties
 via sysfs
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

UXVvdGluZyBUdnJ0a28gVXJzdWxpbiAoMjAxOS0xMC0xNCAxMToxNzo1NCkKPiAKPiBPbiAxNC8x
MC8yMDE5IDEwOjA3LCBDaHJpcyBXaWxzb24gd3JvdGU6Cj4gPiArc3RhdGljIHNzaXplX3QKPiA+
ICtjYXBzX3Nob3coc3RydWN0IGtvYmplY3QgKmtvYmosIHN0cnVjdCBrb2JqX2F0dHJpYnV0ZSAq
YXR0ciwgY2hhciAqYnVmKQo+ID4gK3sKPiA+ICsgICAgIHN0cnVjdCBpbnRlbF9lbmdpbmVfY3Mg
KmVuZ2luZSA9IGtvYmpfdG9fZW5naW5lKGtvYmopOwo+ID4gKyAgICAgY29uc3QgY2hhciAqIGNv
bnN0ICpyZXByOwo+ID4gKyAgICAgaW50IG51bV9yZXByLCBuOwo+ID4gKyAgICAgc3NpemVfdCBs
ZW47Cj4gPiArCj4gPiArICAgICBzd2l0Y2ggKGVuZ2luZS0+Y2xhc3MpIHsKPiA+ICsgICAgIGNh
c2UgVklERU9fREVDT0RFX0NMQVNTOgo+ID4gKyAgICAgICAgICAgICByZXByID0gdmNzX2NhcHM7
Cj4gPiArICAgICAgICAgICAgIG51bV9yZXByID0gQVJSQVlfU0laRSh2Y3NfY2Fwcyk7Cj4gPiAr
ICAgICAgICAgICAgIGJyZWFrOwo+ID4gKwo+ID4gKyAgICAgY2FzZSBWSURFT19FTkhBTkNFTUVO
VF9DTEFTUzoKPiA+ICsgICAgICAgICAgICAgcmVwciA9IHZlY3NfY2FwczsKPiA+ICsgICAgICAg
ICAgICAgbnVtX3JlcHIgPSBBUlJBWV9TSVpFKHZlY3NfY2Fwcyk7Cj4gPiArICAgICAgICAgICAg
IGJyZWFrOwo+ID4gKwo+ID4gKyAgICAgZGVmYXVsdDoKPiA+ICsgICAgICAgICAgICAgcmVwciA9
IE5VTEw7Cj4gPiArICAgICAgICAgICAgIG51bV9yZXByID0gMDsKPiA+ICsgICAgICAgICAgICAg
YnJlYWs7Cj4gPiArICAgICB9Cj4gPiArCj4gPiArICAgICBsZW4gPSAwOwo+ID4gKyAgICAgZm9y
X2VhY2hfc2V0X2JpdChuLAo+ID4gKyAgICAgICAgICAgICAgICAgICAgICAodW5zaWduZWQgbG9u
ZyAqKSZlbmdpbmUtPnVhYmlfY2FwYWJpbGl0aWVzLAo+ID4gKyAgICAgICAgICAgICAgICAgICAg
ICBCSVRTX1BFUl9UWVBFKHR5cGVvZihlbmdpbmUtPnVhYmlfY2FwYWJpbGl0aWVzKSkpIHsKPiA+
ICsgICAgICAgICAgICAgaWYgKEdFTV9XQVJOX09OKG4gPj0gbnVtX3JlcHIgfHwgIXJlcHJbbl0p
KQo+ID4gKyAgICAgICAgICAgICAgICAgICAgIGxlbiArPSBzbnByaW50ZihidWYgKyBsZW4sIFBB
R0VfU0laRSAtIGxlbiwKPiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
IlsleF0gIiwgbik7Cj4gPiArICAgICAgICAgICAgIGVsc2UKPiA+ICsgICAgICAgICAgICAgICAg
ICAgICBsZW4gKz0gc25wcmludGYoYnVmICsgbGVuLCBQQUdFX1NJWkUgLSBsZW4sCj4gPiArICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICIlcyAiLCByZXByW25dKTsKPiA+ICsg
ICAgICAgICAgICAgaWYgKEdFTV9XQVJOX09OKGxlbiA+PSBQQUdFX1NJWkUpKQo+ID4gKyAgICAg
ICAgICAgICAgICAgICAgIGJyZWFrOwo+ID4gKyAgICAgfQo+ID4gKyAgICAgcmV0dXJuIHJlcHJf
dHJpbShidWYsIGxlbik7Cj4gPiArfQo+ID4gKwo+ID4gK3N0YXRpYyBzdHJ1Y3Qga29ial9hdHRy
aWJ1dGUgY2Fwc19hdHRyID0KPiA+ICtfX0FUVFIoY2FwYWJpbGl0aWVzLCAwNDQ0LCBjYXBzX3No
b3csIE5VTEwpOwo+ID4gKwo+ID4gK3N0YXRpYyBzc2l6ZV90Cj4gPiArYWxsX2NhcHNfc2hvdyhz
dHJ1Y3Qga29iamVjdCAqa29iaiwgc3RydWN0IGtvYmpfYXR0cmlidXRlICphdHRyLCBjaGFyICpi
dWYpCj4gPiArewo+ID4gKyAgICAgc3RydWN0IGludGVsX2VuZ2luZV9jcyAqZW5naW5lID0ga29i
al90b19lbmdpbmUoa29iaik7Cj4gPiArICAgICBjb25zdCBjaGFyICogY29uc3QgKnJlcHI7Cj4g
PiArICAgICBpbnQgbnVtX3JlcHIsIG47Cj4gPiArICAgICBzc2l6ZV90IGxlbjsKPiA+ICsKPiA+
ICsgICAgIHN3aXRjaCAoZW5naW5lLT5jbGFzcykgewo+ID4gKyAgICAgY2FzZSBWSURFT19ERUNP
REVfQ0xBU1M6Cj4gPiArICAgICAgICAgICAgIHJlcHIgPSB2Y3NfY2FwczsKPiA+ICsgICAgICAg
ICAgICAgbnVtX3JlcHIgPSBBUlJBWV9TSVpFKHZjc19jYXBzKTsKPiA+ICsgICAgICAgICAgICAg
YnJlYWs7Cj4gPiArCj4gPiArICAgICBjYXNlIFZJREVPX0VOSEFOQ0VNRU5UX0NMQVNTOgo+ID4g
KyAgICAgICAgICAgICByZXByID0gdmVjc19jYXBzOwo+ID4gKyAgICAgICAgICAgICBudW1fcmVw
ciA9IEFSUkFZX1NJWkUodmVjc19jYXBzKTsKPiA+ICsgICAgICAgICAgICAgYnJlYWs7Cj4gPiAr
Cj4gPiArICAgICBkZWZhdWx0Ogo+ID4gKyAgICAgICAgICAgICByZXByID0gTlVMTDsKPiA+ICsg
ICAgICAgICAgICAgbnVtX3JlcHIgPSAwOwo+ID4gKyAgICAgICAgICAgICBicmVhazsKPiA+ICsg
ICAgIH0KPiA+ICsKPiA+ICsgICAgIGxlbiA9IDA7Cj4gPiArICAgICBmb3IgKG4gPSAwOyBuIDwg
bnVtX3JlcHI7IG4rKykgewo+ID4gKyAgICAgICAgICAgICBpZiAoIXJlcHJbbl0pCj4gPiArICAg
ICAgICAgICAgICAgICAgICAgY29udGludWU7Cj4gPiArCj4gPiArICAgICAgICAgICAgIGxlbiAr
PSBzbnByaW50ZihidWYgKyBsZW4sIFBBR0VfU0laRSAtIGxlbiwgIiVzICIsIHJlcHJbbl0pOwo+
ID4gKyAgICAgICAgICAgICBpZiAoR0VNX1dBUk5fT04obGVuID49IFBBR0VfU0laRSkpCj4gPiAr
ICAgICAgICAgICAgICAgICAgICAgYnJlYWs7Cj4gPiArICAgICB9Cj4gPiArICAgICByZXR1cm4g
cmVwcl90cmltKGJ1ZiwgbGVuKTsKPiA+ICt9Cj4gCj4gV291bGQgaXQgYmUgd29ydGggY29uc29s
aWRhdGluZyBsaWtlOgo+IAo+IF9fY2Fwc19zaG93KGVuZ2luZSwgYnVmLCBsZW4sIG1hc2ssIHdh
cm5fdW5rbm93bikKPiB7Cj4gLi4uCj4gICAgICAgICBzd2l0Y2goZW5naW5lLT5jbGFzcy4uLgo+
IC4uLgo+ICAgICAgICAgZm9yX2VhY2hfc2V0X2JpdCguLi5tYXNrLi4uKSB7Cj4gICAgICAgICAg
ICAgICAgIGlmIChuID49IHJlcHIgfHwgIXJlcHJbbl0pIHsKPiAgICAgICAgICAgICAgICAgICAg
ICAgICBpZiAod2Fybl91bmtub3duKQo+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
R0VNX1dBUk5fT04oLi4uKTsKPiAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlCj4gICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICBsZW4gKz0gc25wcmluZi4uLgo+ICAgICAgICAgICAg
ICAgICB9IGVsc2Ugewo+ICAgICAgICAgICAgICAgICAgICAgICAgIGxlbiArPSBzbnByaW50Zi4u
Lgo+ICAgICAgICAgICAgICAgICB9Cj4gICAgICAgICB9Cj4gLi4uCj4gfQo+IAo+IGNhcHNfc2hv
dygpCj4gewo+IC4uLgo+ICAgICAgICAgbGVuID0gX19jYXBzX3Nob3coZW5naW5lLCBidWYsIGxl
biwgZW5naW5lLT51YWJpX2NhcGFiaWxpdGllcywgdHJ1ZSk7Cj4gLi4uCj4gfQo+IAo+IGFsbF9j
YXBzX3Nob3coKQo+IHsKPiAuLi4KPiAgICAgICAgIGxlbiA9IF9fY2Fwc19zaG93KGVuZ2luZSwg
YnVmLCBsZW4sIH4wLCBmYWxzZSk7Cj4gLi4uCj4gfQoKSSB0aG91Z2h0IGl0IHdvdWxkIGxvb2sg
dWdseSBhbmQgZGlzdHJhY3QgZnJvbSB0aGUgaW50ZW50LiBPbmUgaXMgdG8KbGlzdCB0aGUgYml0
cywgdGhlIG90aGVyIHRoZSBhcnJheSBvZiBzdHJpbmcuCgpCdXQgdGhlcmUgaXMgYSBjZXJ0YWlu
IGFwcGVhbCB0byBoYXZpbmcganVzdCBvbmUgc2V0dXAgYW5kIGxvb3AuCi1DaHJpcwpfX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpJbnRlbC1nZnggbWFpbGlu
ZyBsaXN0CkludGVsLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVl
ZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9pbnRlbC1nZng=

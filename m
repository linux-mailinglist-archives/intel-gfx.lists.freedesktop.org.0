Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 51A2FB24BD
	for <lists+intel-gfx@lfdr.de>; Fri, 13 Sep 2019 19:47:12 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 1C8776F424;
	Fri, 13 Sep 2019 17:47:10 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from fireflyinternet.com (mail.fireflyinternet.com [109.228.58.192])
 by gabe.freedesktop.org (Postfix) with ESMTPS id B71226F424
 for <intel-gfx@lists.freedesktop.org>; Fri, 13 Sep 2019 17:47:08 +0000 (UTC)
X-Default-Received-SPF: pass (skip=forwardok (res=PASS))
 x-ip-name=78.156.65.138; 
Received: from haswell.alporthouse.com (unverified [78.156.65.138]) 
 by fireflyinternet.com (Firefly Internet (M1)) with ESMTP id 18481032-1500050 
 for multiple; Fri, 13 Sep 2019 18:46:27 +0100
From: Chris Wilson <chris@chris-wilson.co.uk>
To: intel-gfx@lists.freedesktop.org
Date: Fri, 13 Sep 2019 18:46:25 +0100
Message-Id: <20190913174625.7238-2-chris@chris-wilson.co.uk>
X-Mailer: git-send-email 2.23.0
In-Reply-To: <20190913174625.7238-1-chris@chris-wilson.co.uk>
References: <20190913174625.7238-1-chris@chris-wilson.co.uk>
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH 2/2] drm/i915/selftests: Verify the LRC register
 layout between init and HW
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

QmVmb3JlIHdlIHN1Ym1pdCB0aGUgZmlyc3QgY29udGV4dCB0byBIVywgd2UgbmVlZCB0byBjb25z
dHJ1Y3QgYSB2YWxpZAppbWFnZSBvZiB0aGUgcmVnaXN0ZXIgc3RhdGUuIFRoaXMgbGF5b3V0IGlz
IGRlZmluZWQgYnkgdGhlIEhXIGFuZCBzaG91bGQKbWF0Y2ggdGhlIGxheW91dCBnZW5lcmF0ZWQg
YnkgSFcgd2hlbiBpdCBzYXZlcyB0aGUgY29udGV4dCBpbWFnZS4KQXNzZXJ0aW5nIHRoYXQgdGhp
cyBzaG91bGQgYmUgZXF1aXZhbGVudCBzaG91bGQgaGVscCBhdm9pZCBhbnkgdW5kZWZpbmVkCmJl
aGF2aW91ciBhbmQgdmVyaWZ5IHRoYXQgd2UgaGF2ZW4ndCBtaXNzZWQgYW55dGhpbmcgaW1wb3J0
YW50IQoKT2YgY291cnNlLCBoYXZpbmcgaW5zaXN0ZWQgdGhhdCB0aGUgaW5pdGlhbCByZWdpc3Rl
ciBzdGF0ZSB3aXRoaW4gdGhlCkxSQyBzaG91bGQgbWF0Y2ggdGhhdCByZXR1cm5lZCBieSBIVywg
d2UgbmVlZCB0byBlbnN1cmUgdGhhdCBpdCBkb2VzLgoKU2lnbmVkLW9mZi1ieTogQ2hyaXMgV2ls
c29uIDxjaHJpc0BjaHJpcy13aWxzb24uY28udWs+CkNjOiBNaWthIEt1b3BwYWxhIDxtaWthLmt1
b3BwYWxhQGxpbnV4LmludGVsLmNvbT4KQ2M6IERhbmllbGUgQ2VyYW9sbyBTcHVyaW8gPGRhbmll
bGUuY2VyYW9sb3NwdXJpb0BpbnRlbC5jb20+Ci0tLQogZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2Vt
L2k5MTVfZ2VtX2NvbnRleHQuYyAgIHwgICAyICstCiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9p
bnRlbF9scmMuYyAgICAgICAgICAgfCA2NTYgKysrKysrKysrKysrLS0tLS0tCiBkcml2ZXJzL2dw
dS9kcm0vaTkxNS9ndC9pbnRlbF9scmNfcmVnLmggICAgICAgfCAgNjIgKy0KIGRyaXZlcnMvZ3B1
L2RybS9pOTE1L2d0L3NlbGZ0ZXN0X2xyYy5jICAgICAgICB8IDE0MSArKysrCiBkcml2ZXJzL2dw
dS9kcm0vaTkxNS9pOTE1X3BlcmYuYyAgICAgICAgICAgICAgfCAgMzUgKy0KIGRyaXZlcnMvZ3B1
L2RybS9pOTE1L2k5MTVfcGVyZi5oICAgICAgICAgICAgICB8ICAgNSArLQogLi4uL2RybS9pOTE1
L3NlbGZ0ZXN0cy9pOTE1X2xpdmVfc2VsZnRlc3RzLmggIHwgICAxICsKIDcgZmlsZXMgY2hhbmdl
ZCwgNjM5IGluc2VydGlvbnMoKyksIDI2MyBkZWxldGlvbnMoLSkKCmRpZmYgLS1naXQgYS9kcml2
ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fY29udGV4dC5jIGIvZHJpdmVycy9ncHUvZHJt
L2k5MTUvZ2VtL2k5MTVfZ2VtX2NvbnRleHQuYwppbmRleCBmMWMwZTVkOTU4ZjMuLjNlYjNjNGZh
YjExMCAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX2NvbnRl
eHQuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fY29udGV4dC5jCkBA
IC0xMTE1LDcgKzExMTUsNyBAQCBzdGF0aWMgaW50IGdlbjhfZW1pdF9ycGNzX2NvbmZpZyhzdHJ1
Y3QgaTkxNV9yZXF1ZXN0ICpycSwKIAogCW9mZnNldCA9IGk5MTVfZ2d0dF9vZmZzZXQoY2UtPnN0
YXRlKSArCiAJCSBMUkNfU1RBVEVfUE4gKiBQQUdFX1NJWkUgKwotCQkgKENUWF9SX1BXUl9DTEtf
U1RBVEUgKyAxKSAqIDQ7CisJCSBDVFhfUl9QV1JfQ0xLX1NUQVRFICogNDsKIAogCSpjcysrID0g
TUlfU1RPUkVfRFdPUkRfSU1NX0dFTjQgfCBNSV9VU0VfR0dUVDsKIAkqY3MrKyA9IGxvd2VyXzMy
X2JpdHMob2Zmc2V0KTsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVs
X2xyYy5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfbHJjLmMKaW5kZXggYTNmMGU0
OTk5NzQ0Li42NGZhMmRiNTkwNWYgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0
L2ludGVsX2xyYy5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2xyYy5jCkBA
IC0yMzAsOSArMjMwLDkgQEAgc3RhdGljIGludCBfX2V4ZWNsaXN0c19jb250ZXh0X2FsbG9jKHN0
cnVjdCBpbnRlbF9jb250ZXh0ICpjZSwKIAkJCQkgICAgIHN0cnVjdCBpbnRlbF9lbmdpbmVfY3Mg
KmVuZ2luZSk7CiAKIHN0YXRpYyB2b2lkIGV4ZWNsaXN0c19pbml0X3JlZ19zdGF0ZSh1MzIgKnJl
Z19zdGF0ZSwKLQkJCQkgICAgIHN0cnVjdCBpbnRlbF9jb250ZXh0ICpjZSwKLQkJCQkgICAgIHN0
cnVjdCBpbnRlbF9lbmdpbmVfY3MgKmVuZ2luZSwKLQkJCQkgICAgIHN0cnVjdCBpbnRlbF9yaW5n
ICpyaW5nKTsKKwkJCQkgICAgIGNvbnN0IHN0cnVjdCBpbnRlbF9jb250ZXh0ICpjZSwKKwkJCQkg
ICAgIGNvbnN0IHN0cnVjdCBpbnRlbF9lbmdpbmVfY3MgKmVuZ2luZSwKKwkJCQkgICAgIGNvbnN0
IHN0cnVjdCBpbnRlbF9yaW5nICpyaW5nKTsKIAogc3RhdGljIGlubGluZSB1MzIgaW50ZWxfaHdz
X3ByZWVtcHRfYWRkcmVzcyhzdHJ1Y3QgaW50ZWxfZW5naW5lX2NzICplbmdpbmUpCiB7CkBAIC00
NjQsNiArNDY0LDQxMSBAQCBscmNfZGVzY3JpcHRvcihzdHJ1Y3QgaW50ZWxfY29udGV4dCAqY2Us
IHN0cnVjdCBpbnRlbF9lbmdpbmVfY3MgKmVuZ2luZSkKIAlyZXR1cm4gZGVzYzsKIH0KIAorc3Rh
dGljIHUzMiAqc2V0X29mZnNldHModTMyICpyZWdzLAorCQkJY29uc3QgdTggKmRhdGEsCisJCQlj
b25zdCBzdHJ1Y3QgaW50ZWxfZW5naW5lX2NzICplbmdpbmUpCisjZGVmaW5lIE5PUCh4KSAoQklU
KDcpIHwgKHgpKQorI2RlZmluZSBMUkkoY291bnQsIGZsYWdzKSAoKGZsYWdzKSA8PCA2IHwgKGNv
dW50KSkKKyNkZWZpbmUgUE9TVEVEIEJJVCgwKQorI2RlZmluZSBSRUcoeCkgKCgoeCkgPj4gMikg
fCBCVUlMRF9CVUdfT05fWkVSTyh4ID49IDB4MjAwKSkKKyNkZWZpbmUgUkVHMTYoeCkgXAorCSgo
KHgpID4+IDkpIHwgQklUKDcpIHwgQlVJTERfQlVHX09OX1pFUk8oeCA+PSAweDEwMDAwKSksIFwK
KwkoKCh4KSA+PiAyKSAmIDB4N2YpCisjZGVmaW5lIEVORCgpIDAKK3sKKwljb25zdCB1MzIgYmFz
ZSA9IGVuZ2luZS0+bW1pb19iYXNlOworCisJd2hpbGUgKCpkYXRhKSB7CisJCXU4IGNvdW50LCBm
bGFnczsKKworCQlpZiAoKmRhdGEgJiBCSVQoNykpIHsgLyogc2tpcCAqLworCQkJcmVncyArPSAq
ZGF0YSsrICYgfkJJVCg3KTsKKwkJCWNvbnRpbnVlOworCQl9CisKKwkJY291bnQgPSAqZGF0YSAm
IDB4M2Y7CisJCWZsYWdzID0gKmRhdGEgPj4gNjsKKwkJZGF0YSsrOworCisJCSpyZWdzID0gTUlf
TE9BRF9SRUdJU1RFUl9JTU0oY291bnQpOworCQlpZiAoZmxhZ3MgJiBQT1NURUQpCisJCQkqcmVn
cyB8PSBNSV9MUklfRk9SQ0VfUE9TVEVEOworCQlpZiAoSU5URUxfR0VOKGVuZ2luZS0+aTkxNSkg
Pj0gMTEpCisJCQkqcmVncyB8PSBNSV9MUklfQ1NfTU1JTzsKKwkJcmVncysrOworCisJCUdFTV9C
VUdfT04oIWNvdW50KTsKKwkJZG8geworCQkJdTMyIG9mZnNldCA9IDA7CisJCQl1OCB2OworCisJ
CQlkbyB7CisJCQkJdiA9ICpkYXRhKys7CisJCQkJb2Zmc2V0IDw8PSA3OworCQkJCW9mZnNldCB8
PSB2ICYgfkJJVCg3KTsKKwkJCX0gd2hpbGUgKHYgJiBCSVQoNykpOworCisJCQkqcmVncyA9IGJh
c2UgKyAob2Zmc2V0IDw8IDIpOworCQkJcmVncyArPSAyOworCQl9IHdoaWxlICgtLWNvdW50KTsK
Kwl9CisKKwlyZXR1cm4gcmVnczsKK30KKworc3RhdGljIGNvbnN0IHU4IGdlbjhfeGNzX29mZnNl
dHNbXSA9IHsKKwlOT1AoMSksCisJTFJJKDExLCAwKSwKKwlSRUcxNigweDI0NCksCisJUkVHKDB4
MDM0KSwKKwlSRUcoMHgwMzApLAorCVJFRygweDAzOCksCisJUkVHKDB4MDNjKSwKKwlSRUcoMHgx
NjgpLAorCVJFRygweDE0MCksCisJUkVHKDB4MTEwKSwKKwlSRUcoMHgxMWMpLAorCVJFRygweDEx
NCksCisJUkVHKDB4MTE4KSwKKworCU5PUCg5KSwKKwlMUkkoOSwgMCksCisJUkVHMTYoMHgzYTgp
LAorCVJFRzE2KDB4MjhjKSwKKwlSRUcxNigweDI4OCksCisJUkVHMTYoMHgyODQpLAorCVJFRzE2
KDB4MjgwKSwKKwlSRUcxNigweDI3YyksCisJUkVHMTYoMHgyNzgpLAorCVJFRzE2KDB4Mjc0KSwK
KwlSRUcxNigweDI3MCksCisKKwlOT1AoMTMpLAorCUxSSSgyLCAwKSwKKwlSRUcxNigweDIwMCks
CisJUkVHKDB4MDI4KSwKKworCUVORCgpLAorfTsKKworc3RhdGljIGNvbnN0IHU4IGdlbjlfeGNz
X29mZnNldHNbXSA9IHsKKwlOT1AoMSksCisJTFJJKDE0LCBQT1NURUQpLAorCVJFRzE2KDB4MjQ0
KSwKKwlSRUcoMHgwMzQpLAorCVJFRygweDAzMCksCisJUkVHKDB4MDM4KSwKKwlSRUcoMHgwM2Mp
LAorCVJFRygweDE2OCksCisJUkVHKDB4MTQwKSwKKwlSRUcoMHgxMTApLAorCVJFRygweDExYyks
CisJUkVHKDB4MTE0KSwKKwlSRUcoMHgxMTgpLAorCVJFRygweDFjMCksCisJUkVHKDB4MWM0KSwK
KwlSRUcoMHgxYzgpLAorCisJTk9QKDMpLAorCUxSSSg5LCBQT1NURUQpLAorCVJFRzE2KDB4M2E4
KSwKKwlSRUcxNigweDI4YyksCisJUkVHMTYoMHgyODgpLAorCVJFRzE2KDB4Mjg0KSwKKwlSRUcx
NigweDI4MCksCisJUkVHMTYoMHgyN2MpLAorCVJFRzE2KDB4Mjc4KSwKKwlSRUcxNigweDI3NCks
CisJUkVHMTYoMHgyNzApLAorCisJTk9QKDEzKSwKKwlMUkkoMSwgUE9TVEVEKSwKKwlSRUcxNigw
eDIwMCksCisKKwlOT1AoMTMpLAorCUxSSSg0NCwgUE9TVEVEKSwKKwlSRUcoMHgwMjgpLAorCVJF
RygweDA5YyksCisJUkVHKDB4MGMwKSwKKwlSRUcoMHgxNzgpLAorCVJFRygweDE3YyksCisJUkVH
MTYoMHgzNTgpLAorCVJFRygweDE3MCksCisJUkVHKDB4MTUwKSwKKwlSRUcoMHgxNTQpLAorCVJF
RygweDE1OCksCisJUkVHMTYoMHg0MWMpLAorCVJFRzE2KDB4NjAwKSwKKwlSRUcxNigweDYwNCks
CisJUkVHMTYoMHg2MDgpLAorCVJFRzE2KDB4NjBjKSwKKwlSRUcxNigweDYxMCksCisJUkVHMTYo
MHg2MTQpLAorCVJFRzE2KDB4NjE4KSwKKwlSRUcxNigweDYxYyksCisJUkVHMTYoMHg2MjApLAor
CVJFRzE2KDB4NjI0KSwKKwlSRUcxNigweDYyOCksCisJUkVHMTYoMHg2MmMpLAorCVJFRzE2KDB4
NjMwKSwKKwlSRUcxNigweDYzNCksCisJUkVHMTYoMHg2MzgpLAorCVJFRzE2KDB4NjNjKSwKKwlS
RUcxNigweDY0MCksCisJUkVHMTYoMHg2NDQpLAorCVJFRzE2KDB4NjQ4KSwKKwlSRUcxNigweDY0
YyksCisJUkVHMTYoMHg2NTApLAorCVJFRzE2KDB4NjU0KSwKKwlSRUcxNigweDY1OCksCisJUkVH
MTYoMHg2NWMpLAorCVJFRzE2KDB4NjYwKSwKKwlSRUcxNigweDY2NCksCisJUkVHMTYoMHg2Njgp
LAorCVJFRzE2KDB4NjZjKSwKKwlSRUcxNigweDY3MCksCisJUkVHMTYoMHg2NzQpLAorCVJFRzE2
KDB4Njc4KSwKKwlSRUcxNigweDY3YyksCisJUkVHKDB4MDY4KSwKKworCUVORCgpLAorfTsKKwor
c3RhdGljIGNvbnN0IHU4IGdlbjEyX3hjc19vZmZzZXRzW10gPSB7CisJTk9QKDEpLAorCUxSSSgx
MywgUE9TVEVEKSwKKwlSRUcxNigweDI0NCksCisJUkVHKDB4MDM0KSwKKwlSRUcoMHgwMzApLAor
CVJFRygweDAzOCksCisJUkVHKDB4MDNjKSwKKwlSRUcoMHgxNjgpLAorCVJFRygweDE0MCksCisJ
UkVHKDB4MTEwKSwKKwlSRUcoMHgxYzApLAorCVJFRygweDFjNCksCisJUkVHKDB4MWM4KSwKKwlS
RUcoMHgxODApLAorCVJFRzE2KDB4MmI0KSwKKworCU5PUCg1KSwKKwlMUkkoOSwgUE9TVEVEKSwK
KwlSRUcxNigweDNhOCksCisJUkVHMTYoMHgyOGMpLAorCVJFRzE2KDB4Mjg4KSwKKwlSRUcxNigw
eDI4NCksCisJUkVHMTYoMHgyODApLAorCVJFRzE2KDB4MjdjKSwKKwlSRUcxNigweDI3OCksCisJ
UkVHMTYoMHgyNzQpLAorCVJFRzE2KDB4MjcwKSwKKworCU5PUCgxMyksCisJTFJJKDIsIFBPU1RF
RCksCisJUkVHMTYoMHgyMDApLAorCVJFRzE2KDB4MjA0KSwKKworCU5PUCgxMSksCisJTFJJKDUw
LCBQT1NURUQpLAorCVJFRzE2KDB4NTg4KSwKKwlSRUcxNigweDU4OCksCisJUkVHMTYoMHg1ODgp
LAorCVJFRzE2KDB4NTg4KSwKKwlSRUcxNigweDU4OCksCisJUkVHMTYoMHg1ODgpLAorCVJFRygw
eDAyOCksCisJUkVHKDB4MDljKSwKKwlSRUcoMHgwYzApLAorCVJFRygweDE3OCksCisJUkVHKDB4
MTdjKSwKKwlSRUcxNigweDM1OCksCisJUkVHKDB4MTcwKSwKKwlSRUcoMHgxNTApLAorCVJFRygw
eDE1NCksCisJUkVHKDB4MTU4KSwKKwlSRUcxNigweDQxYyksCisJUkVHMTYoMHg2MDApLAorCVJF
RzE2KDB4NjA0KSwKKwlSRUcxNigweDYwOCksCisJUkVHMTYoMHg2MGMpLAorCVJFRzE2KDB4NjEw
KSwKKwlSRUcxNigweDYxNCksCisJUkVHMTYoMHg2MTgpLAorCVJFRzE2KDB4NjFjKSwKKwlSRUcx
NigweDYyMCksCisJUkVHMTYoMHg2MjQpLAorCVJFRzE2KDB4NjI4KSwKKwlSRUcxNigweDYyYyks
CisJUkVHMTYoMHg2MzApLAorCVJFRzE2KDB4NjM0KSwKKwlSRUcxNigweDYzOCksCisJUkVHMTYo
MHg2M2MpLAorCVJFRzE2KDB4NjQwKSwKKwlSRUcxNigweDY0NCksCisJUkVHMTYoMHg2NDgpLAor
CVJFRzE2KDB4NjRjKSwKKwlSRUcxNigweDY1MCksCisJUkVHMTYoMHg2NTQpLAorCVJFRzE2KDB4
NjU4KSwKKwlSRUcxNigweDY1YyksCisJUkVHMTYoMHg2NjApLAorCVJFRzE2KDB4NjY0KSwKKwlS
RUcxNigweDY2OCksCisJUkVHMTYoMHg2NmMpLAorCVJFRzE2KDB4NjcwKSwKKwlSRUcxNigweDY3
NCksCisJUkVHMTYoMHg2NzgpLAorCVJFRzE2KDB4NjdjKSwKKwlSRUcoMHgwNjgpLAorCisJRU5E
KCksCit9OworCitzdGF0aWMgY29uc3QgdTggZ2VuOF9yY3Nfb2Zmc2V0c1tdID0geworCU5PUCgx
KSwKKwlMUkkoMTQsIFBPU1RFRCksCisJUkVHMTYoMHgyNDQpLAorCVJFRygweDAzNCksCisJUkVH
KDB4MDMwKSwKKwlSRUcoMHgwMzgpLAorCVJFRygweDAzYyksCisJUkVHKDB4MTY4KSwKKwlSRUco
MHgxNDApLAorCVJFRygweDExMCksCisJUkVHKDB4MTFjKSwKKwlSRUcoMHgxMTQpLAorCVJFRygw
eDExOCksCisJUkVHKDB4MWMwKSwKKwlSRUcoMHgxYzQpLAorCVJFRygweDFjOCksCisKKwlOT1Ao
MyksCisJTFJJKDksIFBPU1RFRCksCisJUkVHMTYoMHgzYTgpLAorCVJFRzE2KDB4MjhjKSwKKwlS
RUcxNigweDI4OCksCisJUkVHMTYoMHgyODQpLAorCVJFRzE2KDB4MjgwKSwKKwlSRUcxNigweDI3
YyksCisJUkVHMTYoMHgyNzgpLAorCVJFRzE2KDB4Mjc0KSwKKwlSRUcxNigweDI3MCksCisKKwlO
T1AoMTMpLAorCUxSSSgxLCAwKSwKKwlSRUcoMHgwYzgpLAorCisJRU5EKCksCit9OworCitzdGF0
aWMgY29uc3QgdTggZ2VuMTFfcmNzX29mZnNldHNbXSA9IHsKKwlOT1AoMSksCisJTFJJKDE1LCBQ
T1NURUQpLAorCVJFRzE2KDB4MjQ0KSwKKwlSRUcoMHgwMzQpLAorCVJFRygweDAzMCksCisJUkVH
KDB4MDM4KSwKKwlSRUcoMHgwM2MpLAorCVJFRygweDE2OCksCisJUkVHKDB4MTQwKSwKKwlSRUco
MHgxMTApLAorCVJFRygweDExYyksCisJUkVHKDB4MTE0KSwKKwlSRUcoMHgxMTgpLAorCVJFRygw
eDFjMCksCisJUkVHKDB4MWM0KSwKKwlSRUcoMHgxYzgpLAorCVJFRygweDE4MCksCisKKwlOT1Ao
MSksCisJTFJJKDksIFBPU1RFRCksCisJUkVHMTYoMHgzYTgpLAorCVJFRzE2KDB4MjhjKSwKKwlS
RUcxNigweDI4OCksCisJUkVHMTYoMHgyODQpLAorCVJFRzE2KDB4MjgwKSwKKwlSRUcxNigweDI3
YyksCisJUkVHMTYoMHgyNzgpLAorCVJFRzE2KDB4Mjc0KSwKKwlSRUcxNigweDI3MCksCisKKwlM
UkkoMSwgUE9TVEVEKSwKKwlSRUcoMHgxYjApLAorCisJTk9QKDEwKSwKKwlMUkkoMSwgMCksCisJ
UkVHKDB4MGM4KSwKKworCUVORCgpLAorfTsKKworc3RhdGljIGNvbnN0IHU4IGdlbjEyX3Jjc19v
ZmZzZXRzW10gPSB7CisJTk9QKDEpLAorCUxSSSgxMywgUE9TVEVEKSwKKwlSRUcxNigweDI0NCks
CisJUkVHKDB4MDM0KSwKKwlSRUcoMHgwMzApLAorCVJFRygweDAzOCksCisJUkVHKDB4MDNjKSwK
KwlSRUcoMHgxNjgpLAorCVJFRygweDE0MCksCisJUkVHKDB4MTEwKSwKKwlSRUcoMHgxYzApLAor
CVJFRygweDFjNCksCisJUkVHKDB4MWM4KSwKKwlSRUcoMHgxODApLAorCVJFRzE2KDB4MmI0KSwK
KworCU5PUCg1KSwKKwlMUkkoOSwgUE9TVEVEKSwKKwlSRUcxNigweDNhOCksCisJUkVHMTYoMHgy
OGMpLAorCVJFRzE2KDB4Mjg4KSwKKwlSRUcxNigweDI4NCksCisJUkVHMTYoMHgyODApLAorCVJF
RzE2KDB4MjdjKSwKKwlSRUcxNigweDI3OCksCisJUkVHMTYoMHgyNzQpLAorCVJFRzE2KDB4Mjcw
KSwKKworCUxSSSgzLCBQT1NURUQpLAorCVJFRygweDFiMCksCisJUkVHMTYoMHg1YTgpLAorCVJF
RzE2KDB4NWFjKSwKKworCU5PUCg2KSwKKwlMUkkoMSwgMCksCisJUkVHKDB4MGM4KSwKKworCUVO
RCgpLAorfTsKKworI3VuZGVmIEVORAorI3VuZGVmIFJFRzE2CisjdW5kZWYgUkVHCisjdW5kZWYg
TFJJCisjdW5kZWYgTk9QCisKK3N0YXRpYyBjb25zdCB1OCAqcmVnX29mZnNldHMoY29uc3Qgc3Ry
dWN0IGludGVsX2VuZ2luZV9jcyAqZW5naW5lKQoreworCWlmIChlbmdpbmUtPmNsYXNzID09IFJF
TkRFUl9DTEFTUykgeworCQlpZiAoSU5URUxfR0VOKGVuZ2luZS0+aTkxNSkgPj0gMTIpCisJCQly
ZXR1cm4gZ2VuMTJfcmNzX29mZnNldHM7CisJCWVsc2UgaWYgKElOVEVMX0dFTihlbmdpbmUtPmk5
MTUpID49IDExKQorCQkJcmV0dXJuIGdlbjExX3Jjc19vZmZzZXRzOworCQllbHNlCisJCQlyZXR1
cm4gZ2VuOF9yY3Nfb2Zmc2V0czsKKwl9IGVsc2UgeworCQlpZiAoSU5URUxfR0VOKGVuZ2luZS0+
aTkxNSkgPj0gMTIpCisJCQlyZXR1cm4gZ2VuMTJfeGNzX29mZnNldHM7CisJCWVsc2UgaWYgKElO
VEVMX0dFTihlbmdpbmUtPmk5MTUpID49IDkpCisJCQlyZXR1cm4gZ2VuOV94Y3Nfb2Zmc2V0czsK
KwkJZWxzZQorCQkJcmV0dXJuIGdlbjhfeGNzX29mZnNldHM7CisJfQorfQorCiBzdGF0aWMgdm9p
ZCB1bndpbmRfd2FfdGFpbChzdHJ1Y3QgaTkxNV9yZXF1ZXN0ICpycSkKIHsKIAlycS0+dGFpbCA9
IGludGVsX3Jpbmdfd3JhcChycS0+cmluZywgcnEtPndhX3RhaWwgLSBXQV9UQUlMX0JZVEVTKTsK
QEAgLTY0Nyw3ICsxMDUyLDcgQEAgc3RhdGljIHU2NCBleGVjbGlzdHNfdXBkYXRlX2NvbnRleHQo
Y29uc3Qgc3RydWN0IGk5MTVfcmVxdWVzdCAqcnEpCiAJc3RydWN0IGludGVsX2NvbnRleHQgKmNl
ID0gcnEtPmh3X2NvbnRleHQ7CiAJdTY0IGRlc2M7CiAKLQljZS0+bHJjX3JlZ19zdGF0ZVtDVFhf
UklOR19UQUlMICsgMV0gPQorCWNlLT5scmNfcmVnX3N0YXRlW0NUWF9SSU5HX1RBSUxdID0KIAkJ
aW50ZWxfcmluZ19zZXRfdGFpbChycS0+cmluZywgcnEtPnRhaWwpOwogCiAJLyoKQEAgLTgwOCw1
NCArMTIxMyw3IEBAIHN0YXRpYyBib29sIGNhbl9tZXJnZV9ycShjb25zdCBzdHJ1Y3QgaTkxNV9y
ZXF1ZXN0ICpwcmV2LAogc3RhdGljIHZvaWQgdmlydHVhbF91cGRhdGVfcmVnaXN0ZXJfb2Zmc2V0
cyh1MzIgKnJlZ3MsCiAJCQkJCSAgICBzdHJ1Y3QgaW50ZWxfZW5naW5lX2NzICplbmdpbmUpCiB7
Ci0JdTMyIGJhc2UgPSBlbmdpbmUtPm1taW9fYmFzZTsKLQotCS8qIFJlZmFjdG9yIHNvIHRoYXQg
d2Ugb25seSBoYXZlIG9uZSBwbGFjZSB0aGF0IGtub3dzIGFsbCB0aGUgb2Zmc2V0cyEgKi8KLQlH
RU1fV0FSTl9PTihJTlRFTF9HRU4oZW5naW5lLT5pOTE1KSA+PSAxMik7Ci0KLQkvKiBNdXN0IG1h
dGNoIGV4ZWNsaXN0c19pbml0X3JlZ19zdGF0ZSgpISAqLwotCi0JLyogQ29tbW9uIHBhcnQgKi8K
LQlyZWdzW0NUWF9DT05URVhUX0NPTlRST0xdID0KLQkJaTkxNV9tbWlvX3JlZ19vZmZzZXQoUklO
R19DT05URVhUX0NPTlRST0woYmFzZSkpOwotCXJlZ3NbQ1RYX1JJTkdfSEVBRF0gPSBpOTE1X21t
aW9fcmVnX29mZnNldChSSU5HX0hFQUQoYmFzZSkpOwotCXJlZ3NbQ1RYX1JJTkdfVEFJTF0gPSBp
OTE1X21taW9fcmVnX29mZnNldChSSU5HX1RBSUwoYmFzZSkpOwotCXJlZ3NbQ1RYX1JJTkdfQlVG
RkVSX1NUQVJUXSA9IGk5MTVfbW1pb19yZWdfb2Zmc2V0KFJJTkdfU1RBUlQoYmFzZSkpOwotCXJl
Z3NbQ1RYX1JJTkdfQlVGRkVSX0NPTlRST0xdID0gaTkxNV9tbWlvX3JlZ19vZmZzZXQoUklOR19D
VEwoYmFzZSkpOwotCi0JcmVnc1tDVFhfQkJfSEVBRF9VXSA9IGk5MTVfbW1pb19yZWdfb2Zmc2V0
KFJJTkdfQkJBRERSX1VEVyhiYXNlKSk7Ci0JcmVnc1tDVFhfQkJfSEVBRF9MXSA9IGk5MTVfbW1p
b19yZWdfb2Zmc2V0KFJJTkdfQkJBRERSKGJhc2UpKTsKLQlyZWdzW0NUWF9CQl9TVEFURV0gPSBp
OTE1X21taW9fcmVnX29mZnNldChSSU5HX0JCU1RBVEUoYmFzZSkpOwotCi0JcmVnc1tDVFhfU0VD
T05EX0JCX0hFQURfVV0gPQotCQlpOTE1X21taW9fcmVnX29mZnNldChSSU5HX1NCQkFERFJfVURX
KGJhc2UpKTsKLQlyZWdzW0NUWF9TRUNPTkRfQkJfSEVBRF9MXSA9IGk5MTVfbW1pb19yZWdfb2Zm
c2V0KFJJTkdfU0JCQUREUihiYXNlKSk7Ci0JcmVnc1tDVFhfU0VDT05EX0JCX1NUQVRFXSA9IGk5
MTVfbW1pb19yZWdfb2Zmc2V0KFJJTkdfU0JCU1RBVEUoYmFzZSkpOwotCi0JLyogUFBHVFQgcGFy
dCAqLwotCXJlZ3NbQ1RYX0NUWF9USU1FU1RBTVBdID0KLQkJaTkxNV9tbWlvX3JlZ19vZmZzZXQo
UklOR19DVFhfVElNRVNUQU1QKGJhc2UpKTsKLQotCXJlZ3NbQ1RYX1BEUDNfVURXXSA9IGk5MTVf
bW1pb19yZWdfb2Zmc2V0KEdFTjhfUklOR19QRFBfVURXKGJhc2UsIDMpKTsKLQlyZWdzW0NUWF9Q
RFAzX0xEV10gPSBpOTE1X21taW9fcmVnX29mZnNldChHRU44X1JJTkdfUERQX0xEVyhiYXNlLCAz
KSk7Ci0JcmVnc1tDVFhfUERQMl9VRFddID0gaTkxNV9tbWlvX3JlZ19vZmZzZXQoR0VOOF9SSU5H
X1BEUF9VRFcoYmFzZSwgMikpOwotCXJlZ3NbQ1RYX1BEUDJfTERXXSA9IGk5MTVfbW1pb19yZWdf
b2Zmc2V0KEdFTjhfUklOR19QRFBfTERXKGJhc2UsIDIpKTsKLQlyZWdzW0NUWF9QRFAxX1VEV10g
PSBpOTE1X21taW9fcmVnX29mZnNldChHRU44X1JJTkdfUERQX1VEVyhiYXNlLCAxKSk7Ci0JcmVn
c1tDVFhfUERQMV9MRFddID0gaTkxNV9tbWlvX3JlZ19vZmZzZXQoR0VOOF9SSU5HX1BEUF9MRFco
YmFzZSwgMSkpOwotCXJlZ3NbQ1RYX1BEUDBfVURXXSA9IGk5MTVfbW1pb19yZWdfb2Zmc2V0KEdF
TjhfUklOR19QRFBfVURXKGJhc2UsIDApKTsKLQlyZWdzW0NUWF9QRFAwX0xEV10gPSBpOTE1X21t
aW9fcmVnX29mZnNldChHRU44X1JJTkdfUERQX0xEVyhiYXNlLCAwKSk7Ci0KLQlpZiAoZW5naW5l
LT5jbGFzcyA9PSBSRU5ERVJfQ0xBU1MpIHsKLQkJcmVnc1tDVFhfUkNTX0lORElSRUNUX0NUWF0g
PQotCQkJaTkxNV9tbWlvX3JlZ19vZmZzZXQoUklOR19JTkRJUkVDVF9DVFgoYmFzZSkpOwotCQly
ZWdzW0NUWF9SQ1NfSU5ESVJFQ1RfQ1RYX09GRlNFVF0gPQotCQkJaTkxNV9tbWlvX3JlZ19vZmZz
ZXQoUklOR19JTkRJUkVDVF9DVFhfT0ZGU0VUKGJhc2UpKTsKLQkJcmVnc1tDVFhfQkJfUEVSX0NU
WF9QVFJdID0KLQkJCWk5MTVfbW1pb19yZWdfb2Zmc2V0KFJJTkdfQkJfUEVSX0NUWF9QVFIoYmFz
ZSkpOwotCi0JCXJlZ3NbQ1RYX1JfUFdSX0NMS19TVEFURV0gPQotCQkJaTkxNV9tbWlvX3JlZ19v
ZmZzZXQoR0VOOF9SX1BXUl9DTEtfU1RBVEUpOwotCX0KKwlzZXRfb2Zmc2V0cyhyZWdzLCByZWdf
b2Zmc2V0cyhlbmdpbmUpLCBlbmdpbmUpOwogfQogCiBzdGF0aWMgYm9vbCB2aXJ0dWFsX21hdGNo
ZXMoY29uc3Qgc3RydWN0IHZpcnR1YWxfZW5naW5lICp2ZSwKQEAgLTE3MTQsOCArMjA3Miw4IEBA
IHN0YXRpYyB2b2lkIGV4ZWNsaXN0c19jb250ZXh0X3VucGluKHN0cnVjdCBpbnRlbF9jb250ZXh0
ICpjZSkKIH0KIAogc3RhdGljIHZvaWQKLV9fZXhlY2xpc3RzX3VwZGF0ZV9yZWdfc3RhdGUoc3Ry
dWN0IGludGVsX2NvbnRleHQgKmNlLAotCQkJICAgICBzdHJ1Y3QgaW50ZWxfZW5naW5lX2NzICpl
bmdpbmUpCitfX2V4ZWNsaXN0c191cGRhdGVfcmVnX3N0YXRlKGNvbnN0IHN0cnVjdCBpbnRlbF9j
b250ZXh0ICpjZSwKKwkJCSAgICAgY29uc3Qgc3RydWN0IGludGVsX2VuZ2luZV9jcyAqZW5naW5l
KQogewogCXN0cnVjdCBpbnRlbF9yaW5nICpyaW5nID0gY2UtPnJpbmc7CiAJdTMyICpyZWdzID0g
Y2UtPmxyY19yZWdfc3RhdGU7CkBAIC0xNzIzLDE2ICsyMDgxLDE2IEBAIF9fZXhlY2xpc3RzX3Vw
ZGF0ZV9yZWdfc3RhdGUoc3RydWN0IGludGVsX2NvbnRleHQgKmNlLAogCUdFTV9CVUdfT04oIWlu
dGVsX3Jpbmdfb2Zmc2V0X3ZhbGlkKHJpbmcsIHJpbmctPmhlYWQpKTsKIAlHRU1fQlVHX09OKCFp
bnRlbF9yaW5nX29mZnNldF92YWxpZChyaW5nLCByaW5nLT50YWlsKSk7CiAKLQlyZWdzW0NUWF9S
SU5HX0JVRkZFUl9TVEFSVCArIDFdID0gaTkxNV9nZ3R0X29mZnNldChyaW5nLT52bWEpOwotCXJl
Z3NbQ1RYX1JJTkdfSEVBRCArIDFdID0gcmluZy0+aGVhZDsKLQlyZWdzW0NUWF9SSU5HX1RBSUwg
KyAxXSA9IHJpbmctPnRhaWw7CisJcmVnc1tDVFhfUklOR19CVUZGRVJfU1RBUlRdID0gaTkxNV9n
Z3R0X29mZnNldChyaW5nLT52bWEpOworCXJlZ3NbQ1RYX1JJTkdfSEVBRF0gPSByaW5nLT5oZWFk
OworCXJlZ3NbQ1RYX1JJTkdfVEFJTF0gPSByaW5nLT50YWlsOwogCiAJLyogUlBDUyAqLwogCWlm
IChlbmdpbmUtPmNsYXNzID09IFJFTkRFUl9DTEFTUykgewotCQlyZWdzW0NUWF9SX1BXUl9DTEtf
U1RBVEUgKyAxXSA9CisJCXJlZ3NbQ1RYX1JfUFdSX0NMS19TVEFURV0gPQogCQkJaW50ZWxfc3Nl
dV9tYWtlX3JwY3MoZW5naW5lLT5pOTE1LCAmY2UtPnNzZXUpOwogCi0JCWk5MTVfb2FfaW5pdF9y
ZWdfc3RhdGUoZW5naW5lLCBjZSwgcmVncyk7CisJCWk5MTVfb2FfaW5pdF9yZWdfc3RhdGUoY2Us
IGVuZ2luZSk7CiAJfQogfQogCkBAIC0yOTQyLDcgKzMzMDAsNyBAQCB2b2lkIGludGVsX2V4ZWNs
aXN0c19zZXRfZGVmYXVsdF9zdWJtaXNzaW9uKHN0cnVjdCBpbnRlbF9lbmdpbmVfY3MgKmVuZ2lu
ZSkKIAlpZiAoSU5URUxfR0VOKGVuZ2luZS0+aTkxNSkgPj0gMTIpIC8qIFhYWCBkaXNhYmxlZCBm
b3IgZGVidWdnaW5nICovCiAJCWVuZ2luZS0+ZmxhZ3MgJj0gfkk5MTVfRU5HSU5FX0hBU19TRU1B
UEhPUkVTOwogCi0JaWYgKGVuZ2luZS0+Y2xhc3MgIT0gQ09QWV9FTkdJTkVfQ0xBU1MgJiYgSU5U
RUxfR0VOKGVuZ2luZS0+aTkxNSkgPj0gMTIpCisJaWYgKGVuZ2luZS0+Y2xhc3MgIT0gQ09QWV9F
TkdJTkVfQ0xBU1MgJiYgSU5URUxfR0VOKGVuZ2luZS0+aTkxNSkgPj0gMTEpCiAJCWVuZ2luZS0+
ZmxhZ3MgfD0gSTkxNV9FTkdJTkVfSEFTX1JFTEFUSVZFX01NSU87CiB9CiAKQEAgLTMwODgsNyAr
MzQ0Niw3IEBAIGludCBpbnRlbF9leGVjbGlzdHNfc3VibWlzc2lvbl9pbml0KHN0cnVjdCBpbnRl
bF9lbmdpbmVfY3MgKmVuZ2luZSkKIAlyZXR1cm4gMDsKIH0KIAotc3RhdGljIHUzMiBpbnRlbF9s
cl9pbmRpcmVjdF9jdHhfb2Zmc2V0KHN0cnVjdCBpbnRlbF9lbmdpbmVfY3MgKmVuZ2luZSkKK3N0
YXRpYyB1MzIgaW50ZWxfbHJfaW5kaXJlY3RfY3R4X29mZnNldChjb25zdCBzdHJ1Y3QgaW50ZWxf
ZW5naW5lX2NzICplbmdpbmUpCiB7CiAJdTMyIGluZGlyZWN0X2N0eF9vZmZzZXQ7CiAKQEAgLTMx
MjMsNzUgKzM0ODEsNDggQEAgc3RhdGljIHUzMiBpbnRlbF9scl9pbmRpcmVjdF9jdHhfb2Zmc2V0
KHN0cnVjdCBpbnRlbF9lbmdpbmVfY3MgKmVuZ2luZSkKIAogCiBzdGF0aWMgdm9pZCBpbml0X2Nv
bW1vbl9yZWdfc3RhdGUodTMyICogY29uc3QgcmVncywKLQkJCQkgIHN0cnVjdCBpOTE1X3BwZ3R0
ICogY29uc3QgcHBndHQsCi0JCQkJICBzdHJ1Y3QgaW50ZWxfZW5naW5lX2NzICplbmdpbmUsCi0J
CQkJICBzdHJ1Y3QgaW50ZWxfcmluZyAqcmluZykKKwkJCQkgIGNvbnN0IHN0cnVjdCBpbnRlbF9l
bmdpbmVfY3MgKmVuZ2luZSwKKwkJCQkgIGNvbnN0IHN0cnVjdCBpbnRlbF9yaW5nICpyaW5nKQog
ewotCWNvbnN0IHUzMiBiYXNlID0gZW5naW5lLT5tbWlvX2Jhc2U7Ci0KLQlDVFhfUkVHKHJlZ3Ms
IENUWF9DT05URVhUX0NPTlRST0wsIFJJTkdfQ09OVEVYVF9DT05UUk9MKGJhc2UpLAorCXJlZ3Nb
Q1RYX0NPTlRFWFRfQ09OVFJPTF0gPQogCQlfTUFTS0VEX0JJVF9ESVNBQkxFKENUWF9DVFJMX0VO
R0lORV9DVFhfUkVTVE9SRV9JTkhJQklUKSB8Ci0JCV9NQVNLRURfQklUX0VOQUJMRShDVFhfQ1RS
TF9JTkhJQklUX1NZTl9DVFhfU1dJVENIKSk7Ci0JaWYgKElOVEVMX0dFTihlbmdpbmUtPmk5MTUp
IDwgMTEpIHsKLQkJcmVnc1tDVFhfQ09OVEVYVF9DT05UUk9MICsgMV0gfD0KKwkJX01BU0tFRF9C
SVRfRU5BQkxFKENUWF9DVFJMX0lOSElCSVRfU1lOX0NUWF9TV0lUQ0gpOworCWlmIChJTlRFTF9H
RU4oZW5naW5lLT5pOTE1KSA8IDExKQorCQlyZWdzW0NUWF9DT05URVhUX0NPTlRST0xdIHw9CiAJ
CQlfTUFTS0VEX0JJVF9ESVNBQkxFKENUWF9DVFJMX0VOR0lORV9DVFhfU0FWRV9JTkhJQklUIHwK
IAkJCQkJICAgIENUWF9DVFJMX1JTX0NUWF9FTkFCTEUpOwotCX0KLQlDVFhfUkVHKHJlZ3MsIENU
WF9SSU5HX0hFQUQsIFJJTkdfSEVBRChiYXNlKSwgMCk7Ci0JQ1RYX1JFRyhyZWdzLCBDVFhfUklO
R19UQUlMLCBSSU5HX1RBSUwoYmFzZSksIDApOwotCUNUWF9SRUcocmVncywgQ1RYX1JJTkdfQlVG
RkVSX1NUQVJULCBSSU5HX1NUQVJUKGJhc2UpLCAwKTsKLQlDVFhfUkVHKHJlZ3MsIENUWF9SSU5H
X0JVRkZFUl9DT05UUk9MLCBSSU5HX0NUTChiYXNlKSwKLQkJUklOR19DVExfU0laRShyaW5nLT5z
aXplKSB8IFJJTkdfVkFMSUQpOwotCUNUWF9SRUcocmVncywgQ1RYX0JCX0hFQURfVSwgUklOR19C
QkFERFJfVURXKGJhc2UpLCAwKTsKLQlDVFhfUkVHKHJlZ3MsIENUWF9CQl9IRUFEX0wsIFJJTkdf
QkJBRERSKGJhc2UpLCAwKTsKLQlDVFhfUkVHKHJlZ3MsIENUWF9CQl9TVEFURSwgUklOR19CQlNU
QVRFKGJhc2UpLCBSSU5HX0JCX1BQR1RUKTsKKworCXJlZ3NbQ1RYX1JJTkdfQlVGRkVSX0NPTlRS
T0xdID0gUklOR19DVExfU0laRShyaW5nLT5zaXplKSB8IFJJTkdfVkFMSUQ7CisJcmVnc1tDVFhf
QkJfU1RBVEVdID0gUklOR19CQl9QUEdUVDsKIH0KIAogc3RhdGljIHZvaWQgaW5pdF93YV9iYl9y
ZWdfc3RhdGUodTMyICogY29uc3QgcmVncywKLQkJCQkgc3RydWN0IGludGVsX2VuZ2luZV9jcyAq
ZW5naW5lLAorCQkJCSBjb25zdCBzdHJ1Y3QgaW50ZWxfZW5naW5lX2NzICplbmdpbmUsCiAJCQkJ
IHUzMiBwb3NfYmJfcGVyX2N0eCkKIHsKLQlzdHJ1Y3QgaTkxNV9jdHhfd29ya2Fyb3VuZHMgKiBj
b25zdCB3YV9jdHggPSAmZW5naW5lLT53YV9jdHg7Ci0JY29uc3QgdTMyIGJhc2UgPSBlbmdpbmUt
Pm1taW9fYmFzZTsKLQljb25zdCB1MzIgcG9zX2luZGlyZWN0X2N0eCA9IHBvc19iYl9wZXJfY3R4
ICsgMjsKLQljb25zdCB1MzIgcG9zX2luZGlyZWN0X2N0eF9vZmZzZXQgPSBwb3NfaW5kaXJlY3Rf
Y3R4ICsgMjsKKwljb25zdCBzdHJ1Y3QgaTkxNV9jdHhfd29ya2Fyb3VuZHMgKiBjb25zdCB3YV9j
dHggPSAmZW5naW5lLT53YV9jdHg7CisKKwlpZiAod2FfY3R4LT5wZXJfY3R4LnNpemUpIHsKKwkJ
Y29uc3QgdTMyIGdndHRfb2Zmc2V0ID0gaTkxNV9nZ3R0X29mZnNldCh3YV9jdHgtPnZtYSk7CisK
KwkJcmVnc1twb3NfYmJfcGVyX2N0eF0gPQorCQkJKGdndHRfb2Zmc2V0ICsgd2FfY3R4LT5wZXJf
Y3R4Lm9mZnNldCkgfCAweDAxOworCX0KIAotCUNUWF9SRUcocmVncywgcG9zX2luZGlyZWN0X2N0
eCwgUklOR19JTkRJUkVDVF9DVFgoYmFzZSksIDApOwotCUNUWF9SRUcocmVncywgcG9zX2luZGly
ZWN0X2N0eF9vZmZzZXQsCi0JCVJJTkdfSU5ESVJFQ1RfQ1RYX09GRlNFVChiYXNlKSwgMCk7CiAJ
aWYgKHdhX2N0eC0+aW5kaXJlY3RfY3R4LnNpemUpIHsKIAkJY29uc3QgdTMyIGdndHRfb2Zmc2V0
ID0gaTkxNV9nZ3R0X29mZnNldCh3YV9jdHgtPnZtYSk7CiAKLQkJcmVnc1twb3NfaW5kaXJlY3Rf
Y3R4ICsgMV0gPQorCQlyZWdzW3Bvc19iYl9wZXJfY3R4ICsgMl0gPQogCQkJKGdndHRfb2Zmc2V0
ICsgd2FfY3R4LT5pbmRpcmVjdF9jdHgub2Zmc2V0KSB8CiAJCQkod2FfY3R4LT5pbmRpcmVjdF9j
dHguc2l6ZSAvIENBQ0hFTElORV9CWVRFUyk7CiAKLQkJcmVnc1twb3NfaW5kaXJlY3RfY3R4X29m
ZnNldCArIDFdID0KKwkJcmVnc1twb3NfYmJfcGVyX2N0eCArIDRdID0KIAkJCWludGVsX2xyX2lu
ZGlyZWN0X2N0eF9vZmZzZXQoZW5naW5lKSA8PCA2OwogCX0KLQotCUNUWF9SRUcocmVncywgcG9z
X2JiX3Blcl9jdHgsIFJJTkdfQkJfUEVSX0NUWF9QVFIoYmFzZSksIDApOwotCWlmICh3YV9jdHgt
PnBlcl9jdHguc2l6ZSkgewotCQljb25zdCB1MzIgZ2d0dF9vZmZzZXQgPSBpOTE1X2dndHRfb2Zm
c2V0KHdhX2N0eC0+dm1hKTsKLQotCQlyZWdzW3Bvc19iYl9wZXJfY3R4ICsgMV0gPQotCQkJKGdn
dHRfb2Zmc2V0ICsgd2FfY3R4LT5wZXJfY3R4Lm9mZnNldCkgfCAweDAxOwotCX0KIH0KIAotc3Rh
dGljIHZvaWQgaW5pdF9wcGd0dF9yZWdfc3RhdGUodTMyICpyZWdzLCB1MzIgYmFzZSwKLQkJCQkg
c3RydWN0IGk5MTVfcHBndHQgKnBwZ3R0KQorc3RhdGljIHZvaWQgaW5pdF9wcGd0dF9yZWdfc3Rh
dGUodTMyICpyZWdzLCBjb25zdCBzdHJ1Y3QgaTkxNV9wcGd0dCAqcHBndHQpCiB7Ci0JLyogUERQ
IHZhbHVlcyB3ZWxsIGJlIGFzc2lnbmVkIGxhdGVyIGlmIG5lZWRlZCAqLwotCUNUWF9SRUcocmVn
cywgQ1RYX1BEUDNfVURXLCBHRU44X1JJTkdfUERQX1VEVyhiYXNlLCAzKSwgMCk7Ci0JQ1RYX1JF
RyhyZWdzLCBDVFhfUERQM19MRFcsIEdFTjhfUklOR19QRFBfTERXKGJhc2UsIDMpLCAwKTsKLQlD
VFhfUkVHKHJlZ3MsIENUWF9QRFAyX1VEVywgR0VOOF9SSU5HX1BEUF9VRFcoYmFzZSwgMiksIDAp
OwotCUNUWF9SRUcocmVncywgQ1RYX1BEUDJfTERXLCBHRU44X1JJTkdfUERQX0xEVyhiYXNlLCAy
KSwgMCk7Ci0JQ1RYX1JFRyhyZWdzLCBDVFhfUERQMV9VRFcsIEdFTjhfUklOR19QRFBfVURXKGJh
c2UsIDEpLCAwKTsKLQlDVFhfUkVHKHJlZ3MsIENUWF9QRFAxX0xEVywgR0VOOF9SSU5HX1BEUF9M
RFcoYmFzZSwgMSksIDApOwotCUNUWF9SRUcocmVncywgQ1RYX1BEUDBfVURXLCBHRU44X1JJTkdf
UERQX1VEVyhiYXNlLCAwKSwgMCk7Ci0JQ1RYX1JFRyhyZWdzLCBDVFhfUERQMF9MRFcsIEdFTjhf
UklOR19QRFBfTERXKGJhc2UsIDApLCAwKTsKLQogCWlmIChpOTE1X3ZtX2lzXzRsdmwoJnBwZ3R0
LT52bSkpIHsKIAkJLyogNjRiIFBQR1RUICg0OGJpdCBjYW5vbmljYWwpCiAJCSAqIFBEUDBfREVT
Q1JJUFRPUiBjb250YWlucyB0aGUgYmFzZSBhZGRyZXNzIHRvIFBNTDQgYW5kCkBAIC0zMjE0LDkx
ICszNTQ1LDEwIEBAIHN0YXRpYyBzdHJ1Y3QgaTkxNV9wcGd0dCAqdm1fYWxpYXMoc3RydWN0IGk5
MTVfYWRkcmVzc19zcGFjZSAqdm0pCiAJCXJldHVybiBpOTE1X3ZtX3RvX3BwZ3R0KHZtKTsKIH0K
IAotc3RhdGljIHZvaWQgZ2VuOF9pbml0X3JlZ19zdGF0ZSh1MzIgKiBjb25zdCByZWdzLAotCQkJ
CXN0cnVjdCBpbnRlbF9jb250ZXh0ICpjZSwKLQkJCQlzdHJ1Y3QgaW50ZWxfZW5naW5lX2NzICpl
bmdpbmUsCi0JCQkJc3RydWN0IGludGVsX3JpbmcgKnJpbmcpCi17Ci0Jc3RydWN0IGk5MTVfcHBn
dHQgKiBjb25zdCBwcGd0dCA9IHZtX2FsaWFzKGNlLT52bSk7Ci0JY29uc3QgYm9vbCByY3MgPSBl
bmdpbmUtPmNsYXNzID09IFJFTkRFUl9DTEFTUzsKLQljb25zdCB1MzIgYmFzZSA9IGVuZ2luZS0+
bW1pb19iYXNlOwotCWNvbnN0IHUzMiBscmlfYmFzZSA9Ci0JCWludGVsX2VuZ2luZV9oYXNfcmVs
YXRpdmVfbW1pbyhlbmdpbmUpID8gTUlfTFJJX0NTX01NSU8gOiAwOwotCi0JcmVnc1tDVFhfTFJJ
X0hFQURFUl8wXSA9Ci0JCU1JX0xPQURfUkVHSVNURVJfSU1NKHJjcyA/IDE0IDogMTEpIHwKLQkJ
TUlfTFJJX0ZPUkNFX1BPU1RFRCB8Ci0JCWxyaV9iYXNlOwotCi0JaW5pdF9jb21tb25fcmVnX3N0
YXRlKHJlZ3MsIHBwZ3R0LCBlbmdpbmUsIHJpbmcpOwotCUNUWF9SRUcocmVncywgQ1RYX1NFQ09O
RF9CQl9IRUFEX1UsIFJJTkdfU0JCQUREUl9VRFcoYmFzZSksIDApOwotCUNUWF9SRUcocmVncywg
Q1RYX1NFQ09ORF9CQl9IRUFEX0wsIFJJTkdfU0JCQUREUihiYXNlKSwgMCk7Ci0JQ1RYX1JFRyhy
ZWdzLCBDVFhfU0VDT05EX0JCX1NUQVRFLCBSSU5HX1NCQlNUQVRFKGJhc2UpLCAwKTsKLQlpZiAo
cmNzKQotCQlpbml0X3dhX2JiX3JlZ19zdGF0ZShyZWdzLCBlbmdpbmUsIENUWF9CQl9QRVJfQ1RY
X1BUUik7Ci0KLQlyZWdzW0NUWF9MUklfSEVBREVSXzFdID0KLQkJTUlfTE9BRF9SRUdJU1RFUl9J
TU0oOSkgfAotCQlNSV9MUklfRk9SQ0VfUE9TVEVEIHwKLQkJbHJpX2Jhc2U7Ci0KLQlDVFhfUkVH
KHJlZ3MsIENUWF9DVFhfVElNRVNUQU1QLCBSSU5HX0NUWF9USU1FU1RBTVAoYmFzZSksIDApOwot
Ci0JaW5pdF9wcGd0dF9yZWdfc3RhdGUocmVncywgYmFzZSwgcHBndHQpOwotCi0JaWYgKHJjcykg
ewotCQlyZWdzW0NUWF9MUklfSEVBREVSXzJdID0gTUlfTE9BRF9SRUdJU1RFUl9JTU0oMSkgfCBs
cmlfYmFzZTsKLQkJQ1RYX1JFRyhyZWdzLCBDVFhfUl9QV1JfQ0xLX1NUQVRFLCBHRU44X1JfUFdS
X0NMS19TVEFURSwgMCk7Ci0JfQotCi0JcmVnc1tDVFhfRU5EXSA9IE1JX0JBVENIX0JVRkZFUl9F
TkQ7Ci0JaWYgKElOVEVMX0dFTihlbmdpbmUtPmk5MTUpID49IDEwKQotCQlyZWdzW0NUWF9FTkRd
IHw9IEJJVCgwKTsKLX0KLQotc3RhdGljIHZvaWQgZ2VuMTJfaW5pdF9yZWdfc3RhdGUodTMyICog
Y29uc3QgcmVncywKLQkJCQkgc3RydWN0IGludGVsX2NvbnRleHQgKmNlLAotCQkJCSBzdHJ1Y3Qg
aW50ZWxfZW5naW5lX2NzICplbmdpbmUsCi0JCQkJIHN0cnVjdCBpbnRlbF9yaW5nICpyaW5nKQot
ewotCXN0cnVjdCBpOTE1X3BwZ3R0ICogY29uc3QgcHBndHQgPSBpOTE1X3ZtX3RvX3BwZ3R0KGNl
LT52bSk7Ci0JY29uc3QgYm9vbCByY3MgPSBlbmdpbmUtPmNsYXNzID09IFJFTkRFUl9DTEFTUzsK
LQljb25zdCB1MzIgYmFzZSA9IGVuZ2luZS0+bW1pb19iYXNlOwotCWNvbnN0IHUzMiBscmlfYmFz
ZSA9Ci0JCWludGVsX2VuZ2luZV9oYXNfcmVsYXRpdmVfbW1pbyhlbmdpbmUpID8gTUlfTFJJX0NT
X01NSU8gOiAwOwotCi0JcmVnc1tDVFhfTFJJX0hFQURFUl8wXSA9Ci0JCU1JX0xPQURfUkVHSVNU
RVJfSU1NKHJjcyA/IDExIDogOSkgfAotCQlNSV9MUklfRk9SQ0VfUE9TVEVEIHwKLQkJbHJpX2Jh
c2U7Ci0KLQlpbml0X2NvbW1vbl9yZWdfc3RhdGUocmVncywgcHBndHQsIGVuZ2luZSwgcmluZyk7
Ci0KLQkvKiBXZSB3YW50IGN0eF9wdHIgZm9yIGFsbCBlbmdpbmVzIHRvIGJlIHNldCAqLwotCWlu
aXRfd2FfYmJfcmVnX3N0YXRlKHJlZ3MsIGVuZ2luZSwgR0VOMTJfQ1RYX0JCX1BFUl9DVFhfUFRS
KTsKLQotCXJlZ3NbQ1RYX0xSSV9IRUFERVJfMV0gPQotCQlNSV9MT0FEX1JFR0lTVEVSX0lNTSg5
KSB8Ci0JCU1JX0xSSV9GT1JDRV9QT1NURUQgfAotCQlscmlfYmFzZTsKLQotCUNUWF9SRUcocmVn
cywgQ1RYX0NUWF9USU1FU1RBTVAsIFJJTkdfQ1RYX1RJTUVTVEFNUChiYXNlKSwgMCk7Ci0KLQlp
bml0X3BwZ3R0X3JlZ19zdGF0ZShyZWdzLCBiYXNlLCBwcGd0dCk7Ci0KLQlpZiAocmNzKSB7Ci0J
CXJlZ3NbR0VOMTJfQ1RYX0xSSV9IRUFERVJfM10gPQotCQkJTUlfTE9BRF9SRUdJU1RFUl9JTU0o
MSkgfCBscmlfYmFzZTsKLQkJQ1RYX1JFRyhyZWdzLCBDVFhfUl9QV1JfQ0xLX1NUQVRFLCBHRU44
X1JfUFdSX0NMS19TVEFURSwgMCk7Ci0KLQkJLyogVE9ETzogb2FfaW5pdF9yZWdfc3RhdGUgPyAq
LwotCX0KLX0KLQogc3RhdGljIHZvaWQgZXhlY2xpc3RzX2luaXRfcmVnX3N0YXRlKHUzMiAqcmVn
cywKLQkJCQkgICAgIHN0cnVjdCBpbnRlbF9jb250ZXh0ICpjZSwKLQkJCQkgICAgIHN0cnVjdCBp
bnRlbF9lbmdpbmVfY3MgKmVuZ2luZSwKLQkJCQkgICAgIHN0cnVjdCBpbnRlbF9yaW5nICpyaW5n
KQorCQkJCSAgICAgY29uc3Qgc3RydWN0IGludGVsX2NvbnRleHQgKmNlLAorCQkJCSAgICAgY29u
c3Qgc3RydWN0IGludGVsX2VuZ2luZV9jcyAqZW5naW5lLAorCQkJCSAgICAgY29uc3Qgc3RydWN0
IGludGVsX3JpbmcgKnJpbmcpCiB7CiAJLyoKIAkgKiBBIGNvbnRleHQgaXMgYWN0dWFsbHkgYSBi
aWcgYmF0Y2ggYnVmZmVyIHdpdGggc2V2ZXJhbApAQCAtMzMxMCwxMCArMzU2MCwyMCBAQCBzdGF0
aWMgdm9pZCBleGVjbGlzdHNfaW5pdF9yZWdfc3RhdGUodTMyICpyZWdzLAogCSAqCiAJICogTXVz
dCBrZWVwIGNvbnNpc3RlbnQgd2l0aCB2aXJ0dWFsX3VwZGF0ZV9yZWdpc3Rlcl9vZmZzZXRzKCku
CiAJICovCi0JaWYgKElOVEVMX0dFTihlbmdpbmUtPmk5MTUpID49IDEyKQotCQlnZW4xMl9pbml0
X3JlZ19zdGF0ZShyZWdzLCBjZSwgZW5naW5lLCByaW5nKTsKLQllbHNlCi0JCWdlbjhfaW5pdF9y
ZWdfc3RhdGUocmVncywgY2UsIGVuZ2luZSwgcmluZyk7CisJdTMyICpiYmUgPSBzZXRfb2Zmc2V0
cyhyZWdzLCByZWdfb2Zmc2V0cyhlbmdpbmUpLCBlbmdpbmUpOworCisJLyogQ2xvc2UgdGhlIGJh
dGNoOyB1c2VkIG1haW5seSBieSBsaXZlX2xyY19sYXlvdXQoKSAqLworCSpiYmUgPSBNSV9CQVRD
SF9CVUZGRVJfRU5EOworCWlmIChJTlRFTF9HRU4oZW5naW5lLT5pOTE1KSA+PSAxMCkKKwkJKmJi
ZSB8PSBCSVQoMCk7CisKKwlpbml0X2NvbW1vbl9yZWdfc3RhdGUocmVncywgZW5naW5lLCByaW5n
KTsKKwlpbml0X3BwZ3R0X3JlZ19zdGF0ZShyZWdzLCB2bV9hbGlhcyhjZS0+dm0pKTsKKworCWlu
aXRfd2FfYmJfcmVnX3N0YXRlKHJlZ3MsIGVuZ2luZSwKKwkJCSAgICAgSU5URUxfR0VOKGVuZ2lu
ZS0+aTkxNSkgPj0gMTIgPworCQkJICAgICBHRU4xMl9DVFhfQkJfUEVSX0NUWF9QVFIgOgorCQkJ
ICAgICBDVFhfQkJfUEVSX0NUWF9QVFIpOwogfQogCiBzdGF0aWMgaW50CkBAIC0zMzYwLDcgKzM2
MjAsNyBAQCBwb3B1bGF0ZV9scl9jb250ZXh0KHN0cnVjdCBpbnRlbF9jb250ZXh0ICpjZSwKIAly
ZWdzID0gdmFkZHIgKyBMUkNfU1RBVEVfUE4gKiBQQUdFX1NJWkU7CiAJZXhlY2xpc3RzX2luaXRf
cmVnX3N0YXRlKHJlZ3MsIGNlLCBlbmdpbmUsIHJpbmcpOwogCWlmICghZW5naW5lLT5kZWZhdWx0
X3N0YXRlKQotCQlyZWdzW0NUWF9DT05URVhUX0NPTlRST0wgKyAxXSB8PQorCQlyZWdzW0NUWF9D
T05URVhUX0NPTlRST0xdIHw9CiAJCQlfTUFTS0VEX0JJVF9FTkFCTEUoQ1RYX0NUUkxfRU5HSU5F
X0NUWF9SRVNUT1JFX0lOSElCSVQpOwogCiAJcmV0ID0gMDsKZGlmZiAtLWdpdCBhL2RyaXZlcnMv
Z3B1L2RybS9pOTE1L2d0L2ludGVsX2xyY19yZWcuaCBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0
L2ludGVsX2xyY19yZWcuaAppbmRleCA3ZTc3M2U3NGEzZmUuLjA2YWIwMjc2ZTEwZSAxMDA2NDQK
LS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfbHJjX3JlZy5oCisrKyBiL2RyaXZl
cnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2xyY19yZWcuaApAQCAtMTAsNjAgKzEwLDQwIEBACiAj
aW5jbHVkZSA8bGludXgvdHlwZXMuaD4KIAogLyogR0VOOCB0byBHRU4xMSBSZWcgU3RhdGUgQ29u
dGV4dCAqLwotI2RlZmluZSBDVFhfTFJJX0hFQURFUl8wCQkweDAxCi0jZGVmaW5lIENUWF9DT05U
RVhUX0NPTlRST0wJCTB4MDIKLSNkZWZpbmUgQ1RYX1JJTkdfSEVBRAkJCTB4MDQKLSNkZWZpbmUg
Q1RYX1JJTkdfVEFJTAkJCTB4MDYKLSNkZWZpbmUgQ1RYX1JJTkdfQlVGRkVSX1NUQVJUCQkweDA4
Ci0jZGVmaW5lIENUWF9SSU5HX0JVRkZFUl9DT05UUk9MCQkweDBhCi0jZGVmaW5lIENUWF9CQl9I
RUFEX1UJCQkweDBjCi0jZGVmaW5lIENUWF9CQl9IRUFEX0wJCQkweDBlCi0jZGVmaW5lIENUWF9C
Ql9TVEFURQkJCTB4MTAKLSNkZWZpbmUgQ1RYX1NFQ09ORF9CQl9IRUFEX1UJCTB4MTIKLSNkZWZp
bmUgQ1RYX1NFQ09ORF9CQl9IRUFEX0wJCTB4MTQKLSNkZWZpbmUgQ1RYX1NFQ09ORF9CQl9TVEFU
RQkJMHgxNgotI2RlZmluZSBDVFhfQkJfUEVSX0NUWF9QVFIJCTB4MTgKLSNkZWZpbmUgQ1RYX1JD
U19JTkRJUkVDVF9DVFgJCTB4MWEKLSNkZWZpbmUgQ1RYX1JDU19JTkRJUkVDVF9DVFhfT0ZGU0VU
CTB4MWMKLSNkZWZpbmUgQ1RYX0xSSV9IRUFERVJfMQkJMHgyMQotI2RlZmluZSBDVFhfQ1RYX1RJ
TUVTVEFNUAkJMHgyMgotI2RlZmluZSBDVFhfUERQM19VRFcJCQkweDI0Ci0jZGVmaW5lIENUWF9Q
RFAzX0xEVwkJCTB4MjYKLSNkZWZpbmUgQ1RYX1BEUDJfVURXCQkJMHgyOAotI2RlZmluZSBDVFhf
UERQMl9MRFcJCQkweDJhCi0jZGVmaW5lIENUWF9QRFAxX1VEVwkJCTB4MmMKLSNkZWZpbmUgQ1RY
X1BEUDFfTERXCQkJMHgyZQotI2RlZmluZSBDVFhfUERQMF9VRFcJCQkweDMwCi0jZGVmaW5lIENU
WF9QRFAwX0xEVwkJCTB4MzIKLSNkZWZpbmUgQ1RYX0xSSV9IRUFERVJfMgkJMHg0MQotI2RlZmlu
ZSBDVFhfUl9QV1JfQ0xLX1NUQVRFCQkweDQyCi0jZGVmaW5lIENUWF9FTkQJCQkJMHg0NAorI2Rl
ZmluZSBDVFhfQ09OVEVYVF9DT05UUk9MCQkoMHgwMiArIDEpCisjZGVmaW5lIENUWF9SSU5HX0hF
QUQJCQkoMHgwNCArIDEpCisjZGVmaW5lIENUWF9SSU5HX1RBSUwJCQkoMHgwNiArIDEpCisjZGVm
aW5lIENUWF9SSU5HX0JVRkZFUl9TVEFSVAkJKDB4MDggKyAxKQorI2RlZmluZSBDVFhfUklOR19C
VUZGRVJfQ09OVFJPTAkJKDB4MGEgKyAxKQorI2RlZmluZSBDVFhfQkJfU1RBVEUJCQkoMHgxMCAr
IDEpCisjZGVmaW5lIENUWF9CQl9QRVJfQ1RYX1BUUgkJKDB4MTggKyAxKQorI2RlZmluZSBDVFhf
UERQM19VRFcJCQkoMHgyNCArIDEpCisjZGVmaW5lIENUWF9QRFAzX0xEVwkJCSgweDI2ICsgMSkK
KyNkZWZpbmUgQ1RYX1BEUDJfVURXCQkJKDB4MjggKyAxKQorI2RlZmluZSBDVFhfUERQMl9MRFcJ
CQkoMHgyYSArIDEpCisjZGVmaW5lIENUWF9QRFAxX1VEVwkJCSgweDJjICsgMSkKKyNkZWZpbmUg
Q1RYX1BEUDFfTERXCQkJKDB4MmUgKyAxKQorI2RlZmluZSBDVFhfUERQMF9VRFcJCQkoMHgzMCAr
IDEpCisjZGVmaW5lIENUWF9QRFAwX0xEVwkJCSgweDMyICsgMSkKKyNkZWZpbmUgQ1RYX1JfUFdS
X0NMS19TVEFURQkJKDB4NDIgKyAxKQogCiAjZGVmaW5lIEdFTjlfQ1RYX1JJTkdfTUlfTU9ERQkJ
MHg1NAogCiAvKiBHRU4xMisgUmVnIFN0YXRlIENvbnRleHQgKi8KLSNkZWZpbmUgR0VOMTJfQ1RY
X0JCX1BFUl9DVFhfUFRSCQkweDEyCi0jZGVmaW5lIEdFTjEyX0NUWF9MUklfSEVBREVSXzMJCQkw
eDQxCi0KLSNkZWZpbmUgQ1RYX1JFRyhyZWdfc3RhdGUsIHBvcywgcmVnLCB2YWwpIGRvIHsgXAot
CXUzMiAqcmVnX3N0YXRlX18gPSAocmVnX3N0YXRlKTsgXAotCWNvbnN0IHUzMiBwb3NfXyA9IChw
b3MpOyBcCi0JKHJlZ19zdGF0ZV9fKVsocG9zX18pICsgMF0gPSBpOTE1X21taW9fcmVnX29mZnNl
dChyZWcpOyBcCi0JKHJlZ19zdGF0ZV9fKVsocG9zX18pICsgMV0gPSAodmFsKTsgXAotfSB3aGls
ZSAoMCkKKyNkZWZpbmUgR0VOMTJfQ1RYX0JCX1BFUl9DVFhfUFRSCQkoMHgxMiArIDEpCiAKICNk
ZWZpbmUgQVNTSUdOX0NUWF9QRFAocHBndHQsIHJlZ19zdGF0ZSwgbikgZG8geyBcCiAJdTMyICpy
ZWdfc3RhdGVfXyA9IChyZWdfc3RhdGUpOyBcCiAJY29uc3QgdTY0IGFkZHJfXyA9IGk5MTVfcGFn
ZV9kaXJfZG1hX2FkZHIoKHBwZ3R0KSwgKG4pKTsgXAotCShyZWdfc3RhdGVfXylbQ1RYX1BEUCAj
IyBuICMjIF9VRFcgKyAxXSA9IHVwcGVyXzMyX2JpdHMoYWRkcl9fKTsgXAotCShyZWdfc3RhdGVf
XylbQ1RYX1BEUCAjIyBuICMjIF9MRFcgKyAxXSA9IGxvd2VyXzMyX2JpdHMoYWRkcl9fKTsgXAor
CShyZWdfc3RhdGVfXylbQ1RYX1BEUCAjIyBuICMjIF9VRFddID0gdXBwZXJfMzJfYml0cyhhZGRy
X18pOyBcCisJKHJlZ19zdGF0ZV9fKVtDVFhfUERQICMjIG4gIyMgX0xEV10gPSBsb3dlcl8zMl9i
aXRzKGFkZHJfXyk7IFwKIH0gd2hpbGUgKDApCiAKICNkZWZpbmUgQVNTSUdOX0NUWF9QTUw0KHBw
Z3R0LCByZWdfc3RhdGUpIGRvIHsgXAogCXUzMiAqcmVnX3N0YXRlX18gPSAocmVnX3N0YXRlKTsg
XAogCWNvbnN0IHU2NCBhZGRyX18gPSBweF9kbWEocHBndHQtPnBkKTsgXAotCShyZWdfc3RhdGVf
XylbQ1RYX1BEUDBfVURXICsgMV0gPSB1cHBlcl8zMl9iaXRzKGFkZHJfXyk7IFwKLQkocmVnX3N0
YXRlX18pW0NUWF9QRFAwX0xEVyArIDFdID0gbG93ZXJfMzJfYml0cyhhZGRyX18pOyBcCisJKHJl
Z19zdGF0ZV9fKVtDVFhfUERQMF9VRFddID0gdXBwZXJfMzJfYml0cyhhZGRyX18pOyBcCisJKHJl
Z19zdGF0ZV9fKVtDVFhfUERQMF9MRFddID0gbG93ZXJfMzJfYml0cyhhZGRyX18pOyBcCiB9IHdo
aWxlICgwKQogCiAjZGVmaW5lIEdFTjhfQ1RYX1JDU19JTkRJUkVDVF9DVFhfT0ZGU0VUX0RFRkFV
TFQJMHgxNwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3Qvc2VsZnRlc3RfbHJj
LmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9zZWxmdGVzdF9scmMuYwppbmRleCAyNmQwNWJk
MWJkYzguLmZjMDEwYjM3MmYwMiAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3Qv
c2VsZnRlc3RfbHJjLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3Qvc2VsZnRlc3RfbHJj
LmMKQEAgLTIyMDEsMyArMjIwMSwxNDQgQEAgaW50IGludGVsX2V4ZWNsaXN0c19saXZlX3NlbGZ0
ZXN0cyhzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSkKIAogCXJldHVybiBpOTE1X2xpdmVf
c3VidGVzdHModGVzdHMsIGk5MTUpOwogfQorCitzdGF0aWMgdm9pZCBoZXhkdW1wKGNvbnN0IHZv
aWQgKmJ1Ziwgc2l6ZV90IGxlbikKK3sKKwljb25zdCBzaXplX3Qgcm93c2l6ZSA9IDggKiBzaXpl
b2YodTMyKTsKKwljb25zdCB2b2lkICpwcmV2ID0gTlVMTDsKKwlib29sIHNraXAgPSBmYWxzZTsK
KwlzaXplX3QgcG9zOworCisJZm9yIChwb3MgPSAwOyBwb3MgPCBsZW47IHBvcyArPSByb3dzaXpl
KSB7CisJCWNoYXIgbGluZVsxMjhdOworCisJCWlmIChwcmV2ICYmICFtZW1jbXAocHJldiwgYnVm
ICsgcG9zLCByb3dzaXplKSkgeworCQkJaWYgKCFza2lwKSB7CisJCQkJcHJfaW5mbygiKlxuIik7
CisJCQkJc2tpcCA9IHRydWU7CisJCQl9CisJCQljb250aW51ZTsKKwkJfQorCisJCVdBUk5fT05f
T05DRShoZXhfZHVtcF90b19idWZmZXIoYnVmICsgcG9zLCBsZW4gLSBwb3MsCisJCQkJCQlyb3dz
aXplLCBzaXplb2YodTMyKSwKKwkJCQkJCWxpbmUsIHNpemVvZihsaW5lKSwKKwkJCQkJCWZhbHNl
KSA+PSBzaXplb2YobGluZSkpOworCQlwcl9pbmZvKCJbJTA0enhdICVzXG4iLCBwb3MsIGxpbmUp
OworCisJCXByZXYgPSBidWYgKyBwb3M7CisJCXNraXAgPSBmYWxzZTsKKwl9Cit9CisKK3N0YXRp
YyBpbnQgbGl2ZV9scmNfbGF5b3V0KHZvaWQgKmFyZykKK3sKKwlzdHJ1Y3QgaW50ZWxfZ3QgKmd0
ID0gYXJnOworCXN0cnVjdCBpbnRlbF9lbmdpbmVfY3MgKmVuZ2luZTsKKwllbnVtIGludGVsX2Vu
Z2luZV9pZCBpZDsKKwl1MzIgKm1lbTsKKwlpbnQgZXJyOworCisJLyoKKwkgKiBDaGVjayB0aGUg
cmVnaXN0ZXJzIG9mZnNldHMgd2UgdXNlIHRvIGNyZWF0ZSB0aGUgaW5pdGlhbCByZWcgc3RhdGUK
KwkgKiBtYXRjaCB0aGUgbGF5b3V0IHNhdmVkIGJ5IEhXLgorCSAqLworCisJbWVtID0ga21hbGxv
YyhQQUdFX1NJWkUsIEdGUF9LRVJORUwpOworCWlmICghbWVtKQorCQlyZXR1cm4gLUVOT01FTTsK
KworCWVyciA9IDA7CisJZm9yX2VhY2hfZW5naW5lKGVuZ2luZSwgZ3QtPmk5MTUsIGlkKSB7CisJ
CXUzMiAqaHcsICpscmM7CisJCWludCBkdzsKKworCQlpZiAoIWVuZ2luZS0+ZGVmYXVsdF9zdGF0
ZSkKKwkJCWNvbnRpbnVlOworCisJCWh3ID0gaTkxNV9nZW1fb2JqZWN0X3Bpbl9tYXAoZW5naW5l
LT5kZWZhdWx0X3N0YXRlLAorCQkJCQkgICAgIEk5MTVfTUFQX1dCKTsKKwkJaWYgKElTX0VSUiho
dykpIHsKKwkJCWVyciA9IFBUUl9FUlIoaHcpOworCQkJYnJlYWs7CisJCX0KKwkJaHcgKz0gTFJD
X1NUQVRFX1BOICogUEFHRV9TSVpFIC8gc2l6ZW9mKCpodyk7CisKKwkJbHJjID0gbWVtc2V0KG1l
bSwgMCwgUEFHRV9TSVpFKTsKKwkJZXhlY2xpc3RzX2luaXRfcmVnX3N0YXRlKGxyYywKKwkJCQkJ
IGVuZ2luZS0+a2VybmVsX2NvbnRleHQsCisJCQkJCSBlbmdpbmUsCisJCQkJCSBlbmdpbmUtPmtl
cm5lbF9jb250ZXh0LT5yaW5nKTsKKworCQlkdyA9IDA7CisJCWRvIHsKKwkJCXUzMiBscmkgPSBo
d1tkd107CisKKwkJCWlmIChscmkgPT0gMCkgeworCQkJCWR3Kys7CisJCQkJY29udGludWU7CisJ
CQl9CisKKwkJCWlmICgobHJpICYgR0VOTUFTSygzMSwgMjMpKSAhPSBNSV9JTlNUUigweDIyLCAw
KSkgeworCQkJCXByX2VycigiJXM6IEV4cGVjdGVkIExSSSBjb21tYW5kIGF0IGR3b3JkICVkLCBm
b3VuZCAlMDh4XG4iLAorCQkJCSAgICAgICBlbmdpbmUtPm5hbWUsIGR3LCBscmkpOworCQkJCWVy
ciA9IC1FSU5WQUw7CisJCQkJYnJlYWs7CisJCQl9CisKKwkJCWlmIChscmNbZHddICE9IGxyaSkg
eworCQkJCXByX2VycigiJXM6IExSSSBjb21tYW5kIG1pc21hdGNoIGF0IGR3b3JkICVkLCBleHBl
Y3RlZCAlMDh4IGZvdW5kICUwOHhcbiIsCisJCQkJICAgICAgIGVuZ2luZS0+bmFtZSwgZHcsIGxy
aSwgbHJjW2R3XSk7CisJCQkJZXJyID0gLUVJTlZBTDsKKwkJCQlicmVhazsKKwkJCX0KKworCQkJ
bHJpICY9IDB4N2Y7CisJCQlscmkrKzsKKwkJCWR3Kys7CisKKwkJCXdoaWxlIChscmkpIHsKKwkJ
CQlpZiAoaHdbZHddICE9IGxyY1tkd10pIHsKKwkJCQkJcHJfZXJyKCIlczogRGlmZmVyZW50IHJl
Z2lzdGVycyBmb3VuZCBhdCBkd29yZCAlZCwgZXhwZWN0ZWQgJXgsIGZvdW5kICV4XG4iLAorCQkJ
CQkgICAgICAgZW5naW5lLT5uYW1lLCBkdywgaHdbZHddLCBscmNbZHddKTsKKwkJCQkJZXJyID0g
LUVJTlZBTDsKKwkJCQkJYnJlYWs7CisJCQkJfQorCisJCQkJLyoKKwkJCQkgKiBTa2lwIG92ZXIg
dGhlIGFjdHVhbCByZWdpc3RlciB2YWx1ZSBhcyB3ZQorCQkJCSAqIGV4cGVjdCB0aGF0IHRvIGRp
ZmZlci4KKwkJCQkgKi8KKwkJCQlkdyArPSAyOworCQkJCWxyaSAtPSAyOworCQkJfQorCQl9IHdo
aWxlICgobHJjW2R3XSAmIH5CSVQoMCkpICE9IE1JX0JBVENIX0JVRkZFUl9FTkQpOworCisJCWlm
IChlcnIpIHsKKwkJCXByX2luZm8oIiVzOiBIVyByZWdpc3RlciBpbWFnZTpcbiIsIGVuZ2luZS0+
bmFtZSk7CisJCQloZXhkdW1wKGh3LCBQQUdFX1NJWkUpOworCisJCQlwcl9pbmZvKCIlczogU1cg
cmVnaXN0ZXIgaW1hZ2U6XG4iLCBlbmdpbmUtPm5hbWUpOworCQkJaGV4ZHVtcChscmMsIFBBR0Vf
U0laRSk7CisJCX0KKworCQlpOTE1X2dlbV9vYmplY3RfdW5waW5fbWFwKGVuZ2luZS0+ZGVmYXVs
dF9zdGF0ZSk7CisJCWlmIChlcnIpCisJCQlicmVhazsKKwl9CisKKwlrZnJlZShtZW0pOworCXJl
dHVybiBlcnI7Cit9CisKK2ludCBpbnRlbF9scmNfbGl2ZV9zZWxmdGVzdHMoc3RydWN0IGRybV9p
OTE1X3ByaXZhdGUgKmk5MTUpCit7CisJc3RhdGljIGNvbnN0IHN0cnVjdCBpOTE1X3N1YnRlc3Qg
dGVzdHNbXSA9IHsKKwkJU1VCVEVTVChsaXZlX2xyY19sYXlvdXQpLAorCX07CisKKwlpZiAoIUhB
U19MT0dJQ0FMX1JJTkdfQ09OVEVYVFMoaTkxNSkpCisJCXJldHVybiAwOworCisJcmV0dXJuIGlu
dGVsX2d0X2xpdmVfc3VidGVzdHModGVzdHMsICZpOTE1LT5ndCk7Cit9CmRpZmYgLS1naXQgYS9k
cml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3BlcmYuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5
MTVfcGVyZi5jCmluZGV4IGMxYjc2NDIzMzc2MS4uNTI0ZjY3MTBiN2FhIDEwMDY0NAotLS0gYS9k
cml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3BlcmYuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkx
NS9pOTE1X3BlcmYuYwpAQCAtMTY3MywxMCArMTY3Myw4IEBAIHN0YXRpYyB1MzIgb2FfY29uZmln
X2ZsZXhfcmVnKGNvbnN0IHN0cnVjdCBpOTE1X29hX2NvbmZpZyAqb2FfY29uZmlnLAogICogaW4g
dGhlIGNhc2UgdGhhdCB0aGUgT0EgdW5pdCBoYXMgYmVlbiBkaXNhYmxlZC4KICAqLwogc3RhdGlj
IHZvaWQKLWdlbjhfdXBkYXRlX3JlZ19zdGF0ZV91bmxvY2tlZChzdHJ1Y3QgaTkxNV9wZXJmX3N0
cmVhbSAqc3RyZWFtLAotCQkJICAgICAgIHN0cnVjdCBpbnRlbF9jb250ZXh0ICpjZSwKLQkJCSAg
ICAgICB1MzIgKnJlZ19zdGF0ZSwKLQkJCSAgICAgICBjb25zdCBzdHJ1Y3QgaTkxNV9vYV9jb25m
aWcgKm9hX2NvbmZpZykKK2dlbjhfdXBkYXRlX3JlZ19zdGF0ZV91bmxvY2tlZChjb25zdCBzdHJ1
Y3QgaW50ZWxfY29udGV4dCAqY2UsCisJCQkgICAgICAgY29uc3Qgc3RydWN0IGk5MTVfcGVyZl9z
dHJlYW0gKnN0cmVhbSkKIHsKIAlzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSA9IGNlLT5l
bmdpbmUtPmk5MTU7CiAJdTMyIGN0eF9vYWN0eGN0cmwgPSBpOTE1LT5wZXJmLmN0eF9vYWN0eGN0
cmxfb2Zmc2V0OwpAQCAtMTY5MSwyMSArMTY4OSwxOSBAQCBnZW44X3VwZGF0ZV9yZWdfc3RhdGVf
dW5sb2NrZWQoc3RydWN0IGk5MTVfcGVyZl9zdHJlYW0gKnN0cmVhbSwKIAkJRVVfUEVSRl9DTlRM
NSwKIAkJRVVfUEVSRl9DTlRMNiwKIAl9OworCXUzMiAqcmVnX3N0YXRlID0gY2UtPmxyY19yZWdf
c3RhdGU7CiAJaW50IGk7CiAKLQlDVFhfUkVHKHJlZ19zdGF0ZSwgY3R4X29hY3R4Y3RybCwgR0VO
OF9PQUNUWENPTlRST0wsCisJcmVnX3N0YXRlW2N0eF9vYWN0eGN0cmwgKyAxXSA9CiAJCShzdHJl
YW0tPnBlcmlvZF9leHBvbmVudCA8PCBHRU44X09BX1RJTUVSX1BFUklPRF9TSElGVCkgfAogCQko
c3RyZWFtLT5wZXJpb2RpYyA/IEdFTjhfT0FfVElNRVJfRU5BQkxFIDogMCkgfAotCQlHRU44X09B
X0NPVU5URVJfUkVTVU1FKTsKKwkJR0VOOF9PQV9DT1VOVEVSX1JFU1VNRTsKIAotCWZvciAoaSA9
IDA7IGkgPCBBUlJBWV9TSVpFKGZsZXhfcmVncyk7IGkrKykgewotCQlDVFhfUkVHKHJlZ19zdGF0
ZSwgY3R4X2ZsZXhldTAgKyBpICogMiwgZmxleF9yZWdzW2ldLAotCQkJb2FfY29uZmlnX2ZsZXhf
cmVnKG9hX2NvbmZpZywgZmxleF9yZWdzW2ldKSk7Ci0JfQorCWZvciAoaSA9IDA7IGkgPCBBUlJB
WV9TSVpFKGZsZXhfcmVncyk7IGkrKykKKwkJcmVnX3N0YXRlW2N0eF9mbGV4ZXUwICsgaSAqIDIg
KyAxXSA9CisJCQlvYV9jb25maWdfZmxleF9yZWcoc3RyZWFtLT5vYV9jb25maWcsIGZsZXhfcmVn
c1tpXSk7CiAKLQlDVFhfUkVHKHJlZ19zdGF0ZSwKLQkJQ1RYX1JfUFdSX0NMS19TVEFURSwgR0VO
OF9SX1BXUl9DTEtfU1RBVEUsCi0JCWludGVsX3NzZXVfbWFrZV9ycGNzKGk5MTUsICZjZS0+c3Nl
dSkpOworCXJlZ19zdGF0ZVtDVFhfUl9QV1JfQ0xLX1NUQVRFXSA9IGludGVsX3NzZXVfbWFrZV9y
cGNzKGk5MTUsICZjZS0+c3NldSk7CiB9CiAKIHN0cnVjdCBmbGV4IHsKQEAgLTE3MjksNyArMTcy
NSw3IEBAIGdlbjhfc3RvcmVfZmxleChzdHJ1Y3QgaTkxNV9yZXF1ZXN0ICpycSwKIAlvZmZzZXQg
PSBpOTE1X2dndHRfb2Zmc2V0KGNlLT5zdGF0ZSkgKyBMUkNfU1RBVEVfUE4gKiBQQUdFX1NJWkU7
CiAJZG8gewogCQkqY3MrKyA9IE1JX1NUT1JFX0RXT1JEX0lNTV9HRU40IHwgTUlfVVNFX0dHVFQ7
Ci0JCSpjcysrID0gb2Zmc2V0ICsgKGZsZXgtPm9mZnNldCArIDEpICogc2l6ZW9mKHUzMik7CisJ
CSpjcysrID0gb2Zmc2V0ICsgZmxleC0+b2Zmc2V0ICogc2l6ZW9mKHUzMik7CiAJCSpjcysrID0g
MDsKIAkJKmNzKysgPSBmbGV4LT52YWx1ZTsKIAl9IHdoaWxlIChmbGV4KyssIC0tY291bnQpOwpA
QCAtMTg2Myw3ICsxODU5LDcgQEAgc3RhdGljIGludCBnZW44X2NvbmZpZ3VyZV9hbGxfY29udGV4
dHMoc3RydWN0IGk5MTVfcGVyZl9zdHJlYW0gKnN0cmVhbSwKIAlzdHJ1Y3QgZHJtX2k5MTVfcHJp
dmF0ZSAqaTkxNSA9IHN0cmVhbS0+ZGV2X3ByaXY7CiAJLyogVGhlIE1NSU8gb2Zmc2V0cyBmb3Ig
RmxleCBFVSByZWdpc3RlcnMgYXJlbid0IGNvbnRpZ3VvdXMgKi8KIAljb25zdCB1MzIgY3R4X2Zs
ZXhldTAgPSBpOTE1LT5wZXJmLmN0eF9mbGV4ZXUwX29mZnNldDsKLSNkZWZpbmUgY3R4X2ZsZXhl
dU4oTikgKGN0eF9mbGV4ZXUwICsgMiAqIChOKSkKKyNkZWZpbmUgY3R4X2ZsZXhldU4oTikgKGN0
eF9mbGV4ZXUwICsgMiAqIChOKSArIDEpCiAJc3RydWN0IGZsZXggcmVnc1tdID0gewogCQl7CiAJ
CQlHRU44X1JfUFdSX0NMS19TVEFURSwKQEAgLTE4NzEsNyArMTg2Nyw3IEBAIHN0YXRpYyBpbnQg
Z2VuOF9jb25maWd1cmVfYWxsX2NvbnRleHRzKHN0cnVjdCBpOTE1X3BlcmZfc3RyZWFtICpzdHJl
YW0sCiAJCX0sCiAJCXsKIAkJCUdFTjhfT0FDVFhDT05UUk9MLAotCQkJaTkxNS0+cGVyZi5jdHhf
b2FjdHhjdHJsX29mZnNldCwKKwkJCWk5MTUtPnBlcmYuY3R4X29hY3R4Y3RybF9vZmZzZXQgKyAx
LAogCQkJKChzdHJlYW0tPnBlcmlvZF9leHBvbmVudCA8PCBHRU44X09BX1RJTUVSX1BFUklPRF9T
SElGVCkgfAogCQkJIChzdHJlYW0tPnBlcmlvZGljID8gR0VOOF9PQV9USU1FUl9FTkFCTEUgOiAw
KSB8CiAJCQkgR0VOOF9PQV9DT1VOVEVSX1JFU1VNRSkKQEAgLTIyOTksOSArMjI5NSw4IEBAIHN0
YXRpYyBpbnQgaTkxNV9vYV9zdHJlYW1faW5pdChzdHJ1Y3QgaTkxNV9wZXJmX3N0cmVhbSAqc3Ry
ZWFtLAogCXJldHVybiByZXQ7CiB9CiAKLXZvaWQgaTkxNV9vYV9pbml0X3JlZ19zdGF0ZShzdHJ1
Y3QgaW50ZWxfZW5naW5lX2NzICplbmdpbmUsCi0JCQkgICAgc3RydWN0IGludGVsX2NvbnRleHQg
KmNlLAotCQkJICAgIHUzMiAqcmVncykKK3ZvaWQgaTkxNV9vYV9pbml0X3JlZ19zdGF0ZShjb25z
dCBzdHJ1Y3QgaW50ZWxfY29udGV4dCAqY2UsCisJCQkgICAgY29uc3Qgc3RydWN0IGludGVsX2Vu
Z2luZV9jcyAqZW5naW5lKQogewogCXN0cnVjdCBpOTE1X3BlcmZfc3RyZWFtICpzdHJlYW07CiAK
QEAgLTIzMTMsNyArMjMwOCw3IEBAIHZvaWQgaTkxNV9vYV9pbml0X3JlZ19zdGF0ZShzdHJ1Y3Qg
aW50ZWxfZW5naW5lX2NzICplbmdpbmUsCiAKIAlzdHJlYW0gPSBlbmdpbmUtPmk5MTUtPnBlcmYu
ZXhjbHVzaXZlX3N0cmVhbTsKIAlpZiAoc3RyZWFtKQotCQlnZW44X3VwZGF0ZV9yZWdfc3RhdGVf
dW5sb2NrZWQoc3RyZWFtLCBjZSwgcmVncywgc3RyZWFtLT5vYV9jb25maWcpOworCQlnZW44X3Vw
ZGF0ZV9yZWdfc3RhdGVfdW5sb2NrZWQoY2UsIHN0cmVhbSk7CiB9CiAKIC8qKgpkaWZmIC0tZ2l0
IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9wZXJmLmggYi9kcml2ZXJzL2dwdS9kcm0vaTkx
NS9pOTE1X3BlcmYuaAppbmRleCBhNDEyYjE2ZDlmZmMuLmY0ZmIzMTExODRiMSAxMDA2NDQKLS0t
IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9wZXJmLmgKKysrIGIvZHJpdmVycy9ncHUvZHJt
L2k5MTUvaTkxNV9wZXJmLmgKQEAgLTI1LDggKzI1LDcgQEAgaW50IGk5MTVfcGVyZl9hZGRfY29u
ZmlnX2lvY3RsKHN0cnVjdCBkcm1fZGV2aWNlICpkZXYsIHZvaWQgKmRhdGEsCiAJCQkgICAgICAg
c3RydWN0IGRybV9maWxlICpmaWxlKTsKIGludCBpOTE1X3BlcmZfcmVtb3ZlX2NvbmZpZ19pb2N0
bChzdHJ1Y3QgZHJtX2RldmljZSAqZGV2LCB2b2lkICpkYXRhLAogCQkJCSAgc3RydWN0IGRybV9m
aWxlICpmaWxlKTsKLXZvaWQgaTkxNV9vYV9pbml0X3JlZ19zdGF0ZShzdHJ1Y3QgaW50ZWxfZW5n
aW5lX2NzICplbmdpbmUsCi0JCQkgICAgc3RydWN0IGludGVsX2NvbnRleHQgKmNlLAotCQkJICAg
IHUzMiAqcmVnX3N0YXRlKTsKK3ZvaWQgaTkxNV9vYV9pbml0X3JlZ19zdGF0ZShjb25zdCBzdHJ1
Y3QgaW50ZWxfY29udGV4dCAqY2UsCisJCQkgICAgY29uc3Qgc3RydWN0IGludGVsX2VuZ2luZV9j
cyAqZW5naW5lKTsKIAogI2VuZGlmIC8qIF9fSTkxNV9QRVJGX0hfXyAqLwpkaWZmIC0tZ2l0IGEv
ZHJpdmVycy9ncHUvZHJtL2k5MTUvc2VsZnRlc3RzL2k5MTVfbGl2ZV9zZWxmdGVzdHMuaCBiL2Ry
aXZlcnMvZ3B1L2RybS9pOTE1L3NlbGZ0ZXN0cy9pOTE1X2xpdmVfc2VsZnRlc3RzLmgKaW5kZXgg
MWNjZjBmNzMxYWMwLi42NmQ4M2MxMzkwYzEgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9p
OTE1L3NlbGZ0ZXN0cy9pOTE1X2xpdmVfc2VsZnRlc3RzLmgKKysrIGIvZHJpdmVycy9ncHUvZHJt
L2k5MTUvc2VsZnRlc3RzL2k5MTVfbGl2ZV9zZWxmdGVzdHMuaApAQCAtMTUsNiArMTUsNyBAQCBz
ZWxmdGVzdCh3b3JrYXJvdW5kcywgaW50ZWxfd29ya2Fyb3VuZHNfbGl2ZV9zZWxmdGVzdHMpCiBz
ZWxmdGVzdChndF9lbmdpbmVzLCBpbnRlbF9lbmdpbmVfbGl2ZV9zZWxmdGVzdHMpCiBzZWxmdGVz
dChndF90aW1lbGluZXMsIGludGVsX3RpbWVsaW5lX2xpdmVfc2VsZnRlc3RzKQogc2VsZnRlc3Qo
Z3RfY29udGV4dHMsIGludGVsX2NvbnRleHRfbGl2ZV9zZWxmdGVzdHMpCitzZWxmdGVzdChndF9s
cmMsIGludGVsX2xyY19saXZlX3NlbGZ0ZXN0cykKIHNlbGZ0ZXN0KHJlcXVlc3RzLCBpOTE1X3Jl
cXVlc3RfbGl2ZV9zZWxmdGVzdHMpCiBzZWxmdGVzdChhY3RpdmUsIGk5MTVfYWN0aXZlX2xpdmVf
c2VsZnRlc3RzKQogc2VsZnRlc3Qob2JqZWN0cywgaTkxNV9nZW1fb2JqZWN0X2xpdmVfc2VsZnRl
c3RzKQotLSAKMi4yMy4wCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fXwpJbnRlbC1nZnggbWFpbGluZyBsaXN0CkludGVsLWdmeEBsaXN0cy5mcmVlZGVza3Rv
cC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9pbnRl
bC1nZng=

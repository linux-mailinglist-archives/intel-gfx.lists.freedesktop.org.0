Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 66E102AD45F
	for <lists+intel-gfx@lfdr.de>; Tue, 10 Nov 2020 12:02:50 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id C703989991;
	Tue, 10 Nov 2020 11:02:48 +0000 (UTC)
X-Original-To: Intel-gfx@lists.freedesktop.org
Delivered-To: Intel-gfx@lists.freedesktop.org
Received: from mga07.intel.com (mga07.intel.com [134.134.136.100])
 by gabe.freedesktop.org (Postfix) with ESMTPS id C228589991;
 Tue, 10 Nov 2020 11:02:47 +0000 (UTC)
IronPort-SDR: VPWzQN1Bh0A/4rIxWMZQxbwZgM/6tVaR8PnZGZlclJVxkjZnf5/PUA2peGlV8PmkAUA3hGfF4R
 Bd8BAqfh1b5w==
X-IronPort-AV: E=McAfee;i="6000,8403,9800"; a="234120598"
X-IronPort-AV: E=Sophos;i="5.77,466,1596524400"; d="scan'208";a="234120598"
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga005.jf.intel.com ([10.7.209.41])
 by orsmga105.jf.intel.com with ESMTP/TLS/ECDHE-RSA-AES256-GCM-SHA384;
 10 Nov 2020 03:02:46 -0800
IronPort-SDR: 9vAJ+bBsIveq7bwmz1ZLWXFT5px6i+SMQfMjHyp1cNe09KnLbfTwxMlHsZAVfWhZExQbHatVyM
 DcRZn8IEiaqg==
X-IronPort-AV: E=Sophos;i="5.77,466,1596524400"; d="scan'208";a="541284074"
Received: from aperzano-mobl.ger.corp.intel.com (HELO zkempczy-mobl2)
 ([10.213.17.110])
 by orsmga005-auth.jf.intel.com with ESMTP/TLS/ECDHE-RSA-AES256-GCM-SHA384;
 10 Nov 2020 03:02:45 -0800
Date: Tue, 10 Nov 2020 12:02:41 +0100
From: Zbigniew =?utf-8?Q?Kempczy=C5=84ski?= <zbigniew.kempczynski@intel.com>
To: Tvrtko Ursulin <tvrtko.ursulin@linux.intel.com>
Message-ID: <20201110110241.GB5736@zkempczy-mobl2>
References: <20201109104811.3773962-1-tvrtko.ursulin@linux.intel.com>
 <20201109104811.3773962-4-tvrtko.ursulin@linux.intel.com>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <20201109104811.3773962-4-tvrtko.ursulin@linux.intel.com>
Subject: Re: [Intel-gfx] [RFC 3/3] lsgpu: Add filter type print-out selection
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: igt-dev@lists.freedesktop.org, Intel-gfx@lists.freedesktop.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

T24gTW9uLCBOb3YgMDksIDIwMjAgYXQgMTA6NDg6MTFBTSArMDAwMCwgVHZydGtvIFVyc3VsaW4g
d3JvdGU6Cj4gRnJvbTogVHZydGtvIFVyc3VsaW4gPHR2cnRrby51cnN1bGluQGludGVsLmNvbT4K
PiAKPiBJbiB0aGUgcHJldmlvdXMgcGF0Y2ggd2Ugc3dpdGNoZWQgdGhlIGxzZ3B1IG91dHB1dCB0
byBhIHNob3J0IGFuZCB1c2VyCj4gZnJpZW5kbHkgZm9ybWF0IGJ1dCBzb21lIHVzZXJzIHdpbGwg
bmVlZCBhIHNob3J0aGFuZCBmb3IgZ2V0dGluZyBvdGhlcgo+IHR5cGVzIG9mIGRldmljZSBzZWxl
Y3Rpb24gZmlsdGVycyB0aGFuIHRoZSBkZWZhdXQgZHJtLgo+IAo+IEFkZCBzb21lIGNvbW1hbmQg
bGluZSBzd2l0Y2hlcyB0byBlbmFibGUgdGhpczoKPiAKPiAkIGxzZ3B1Cj4gY2FyZDAgICAgICAg
ICAgICAgICAgICAgODA4NjoxOTNCICAgIGRybTovZGV2L2RyaS9jYXJkMAo+IOKUlOKUgHJlbmRl
ckQxMjggICAgICAgICAgICAgICAgICAgICAgICAgZHJtOi9kZXYvZHJpL3JlbmRlckQxMjgKPiAK
PiAkIGxzZ3B1IC0tc3lzZnMKPiBjYXJkMCAgICAgICAgICAgICAgICAgICA4MDg2OjE5M0IgICAg
c3lzOi9zeXMvZGV2aWNlcy9wY2kwMDAwOjAwLzAwMDA6MDA6MDIuMC9kcm0vY2FyZDAKPiDilJTi
lIByZW5kZXJEMTI4ICAgICAgICAgICAgICAgICAgICAgICAgIHN5czovc3lzL2RldmljZXMvcGNp
MDAwMDowMC8wMDAwOjAwOjAyLjAvZHJtL3JlbmRlckQxMjgKPiAKPiAkIGxzZ3B1IC0tcGNpCj4g
Y2FyZDAgICAgICAgICAgICAgICAgICAgODA4NjoxOTNCICAgIHBjaTovc3lzL2RldmljZXMvcGNp
MDAwMDowMC8wMDAwOjAwOjAyLjAKPiDilJTilIByZW5kZXJEMTI4Cj4gCj4gU2lnbmVkLW9mZi1i
eTogVHZydGtvIFVyc3VsaW4gPHR2cnRrby51cnN1bGluQGludGVsLmNvbT4KPiBTdWdnZXN0ZWQt
Ynk6IFpiaWduaWV3IEtlbXBjennFhHNraSA8emJpZ25pZXcua2VtcGN6eW5za2lAaW50ZWwuY29t
Pgo+IENjOiBQZXRyaSBMYXR2YWxhIDxwZXRyaS5sYXR2YWxhQGludGVsLmNvbT4KPiAtLS0KPiAg
bGliL2lndF9kZXZpY2Vfc2Nhbi5jIHwgNjkgKysrKysrKysrKysrKysrKysrKysrKysrKysrKysr
KystLS0tLS0tLS0tLQo+ICBsaWIvaWd0X2RldmljZV9zY2FuLmggfCAxNSArKysrKysrKy0tCj4g
IHRvb2xzL2ludGVsX2dwdV90b3AuYyB8ICA2ICsrKy0KPiAgdG9vbHMvbHNncHUuYyAgICAgICAg
IHwgMzIgKysrKysrKysrKysrKysrLS0tLS0KPiAgNCBmaWxlcyBjaGFuZ2VkLCA5NSBpbnNlcnRp
b25zKCspLCAyNyBkZWxldGlvbnMoLSkKPiAKPiBkaWZmIC0tZ2l0IGEvbGliL2lndF9kZXZpY2Vf
c2Nhbi5jIGIvbGliL2lndF9kZXZpY2Vfc2Nhbi5jCj4gaW5kZXggZTY2Y2NkYzI1YWViLi41NGI1
NjViNjg1MjQgMTAwNjQ0Cj4gLS0tIGEvbGliL2lndF9kZXZpY2Vfc2Nhbi5jCj4gKysrIGIvbGli
L2lndF9kZXZpY2Vfc2Nhbi5jCj4gQEAgLTc0OCw3ICs3NDgsOSBAQCBzdGF0aWMgYm9vbCBfX2No
ZWNrX2VtcHR5KHN0cnVjdCBpZ3RfbGlzdF9oZWFkICp2aWV3KQo+ICAJcmV0dXJuIGZhbHNlOwo+
ICB9Cj4gIAo+IC1zdGF0aWMgdm9pZCBpZ3RfZGV2c19wcmludF9zaW1wbGUoc3RydWN0IGlndF9s
aXN0X2hlYWQgKnZpZXcpCj4gK3N0YXRpYyB2b2lkCj4gK2lndF9kZXZzX3ByaW50X3NpbXBsZShz
dHJ1Y3QgaWd0X2xpc3RfaGVhZCAqdmlldywKPiArCQkgICAgICBjb25zdCBzdHJ1Y3QgaWd0X2Rl
dmljZXNfcHJpbnRfZm9ybWF0ICpmbXQpCj4gIHsKPiAgCXN0cnVjdCBpZ3RfZGV2aWNlICpkZXY7
Cj4gIAo+IEBAIC03OTIsNyArNzk0LDM2IEBAIF9fZmluZF9wY2koc3RydWN0IGlndF9saXN0X2hl
YWQgKnZpZXcsIGNvbnN0IGNoYXIgKmRybSkKPiAgCXJldHVybiBOVUxMOwo+ICB9Cj4gIAo+IC1z
dGF0aWMgdm9pZCBpZ3RfZGV2c19wcmludF91c2VyKHN0cnVjdCBpZ3RfbGlzdF9oZWFkICp2aWV3
KQo+ICtzdGF0aWMgdm9pZCBfX3ByaW50X2ZpbHRlcihjaGFyICpidWYsIGludCBsZW4sCj4gKwkJ
CSAgIGNvbnN0IHN0cnVjdCBpZ3RfZGV2aWNlc19wcmludF9mb3JtYXQgKmZtdCwKPiArCQkJICAg
c3RydWN0IGlndF9kZXZpY2UgKmRldiwKPiArCQkJICAgYm9vbCByZW5kZXIpCj4gK3sKPiArCWlu
dCByZXQ7Cj4gKwo+ICsJc3dpdGNoIChmbXQtPm9wdGlvbikgewo+ICsJY2FzZSBJR1RfUFJJTlRf
RFJNOgo+ICsJCXJldCA9IHNucHJpbnRmKGJ1ZiwgbGVuLCAiZHJtOiVzIiwKPiArCQkJICAgICAg
IHJlbmRlciA/IGRldi0+ZHJtX3JlbmRlciA6IGRldi0+ZHJtX2NhcmQpOwo+ICsJCWlndF9hc3Nl
cnQocmV0IDwgbGVuKTsKPiArCQlicmVhazsKPiArCWNhc2UgSUdUX1BSSU5UX1NZU0ZTOgo+ICsJ
CXJldCA9IHNucHJpbnRmKGJ1ZiwgbGVuLCAic3lzOiVzIiwgZGV2LT5zeXNwYXRoKTsKPiArCQlp
Z3RfYXNzZXJ0KHJldCA8IGxlbik7Cj4gKwkJYnJlYWs7Cj4gKwljYXNlIElHVF9QUklOVF9QQ0k6
Cj4gKwkJaWYgKCFyZW5kZXIpIHsKPiArCQkJcmV0ID0gc25wcmludGYoYnVmLCBsZW4sICJwY2k6
JXMiLAo+ICsJCQkJICAgICAgIGRldi0+cGFyZW50LT5zeXNwYXRoKTsKPiArCQkJaWd0X2Fzc2Vy
dChyZXQgPCBsZW4pOwo+ICsJCX0KPiArCQlicmVhazsKPiArCX07Cj4gK30KPiArCj4gK3N0YXRp
YyB2b2lkCj4gK2lndF9kZXZzX3ByaW50X3VzZXIoc3RydWN0IGlndF9saXN0X2hlYWQgKnZpZXcs
Cj4gKwkJICAgIGNvbnN0IHN0cnVjdCBpZ3RfZGV2aWNlc19wcmludF9mb3JtYXQgKmZtdCkKPiAg
ewo+ICAJc3RydWN0IGlndF9kZXZpY2UgKmRldjsKPiAgCj4gQEAgLTgwNSw3ICs4MzYsNiBAQCBz
dGF0aWMgdm9pZCBpZ3RfZGV2c19wcmludF91c2VyKHN0cnVjdCBpZ3RfbGlzdF9oZWFkICp2aWV3
KQo+ICAJCXN0cnVjdCBpZ3RfZGV2aWNlICpkZXYyOwo+ICAJCWNoYXIgZmlsdGVyWzY0XTsKClRv
byBzbWFsbCwgZm9yIHR3byBtYWNoaW5lcyBJIGdvdCAocHJpbnRlZCByZXR1cm5lZCBzaXplKSA6
CgoobHNncHU6MTU2MDEpIGlndF9kZXZpY2Vfc2Nhbi1JTkZPOiBwYXRoOiAvc3lzL2RldmljZXMv
cGNpMDAwMDowMC8wMDAwOjAwOjAxLjAvMDAwMDowMTowMC4wLzAwMDA6MDI6MDEuMC8wMDAwOjAz
OjAwLjAvZHJtL2NhcmQwLCByZXQ6IDg5LCBsZW46IDY0Cihsc2dwdToxNTYwMSkgaWd0X2Rldmlj
ZV9zY2FuLUNSSVRJQ0FMOiBUZXN0IGFzc2VydGlvbiBmYWlsdXJlIGZ1bmN0aW9uIF9fcHJpbnRf
ZmlsdGVyLCBmaWxlIC4uL2xpYi9pZ3RfZGV2aWNlX3NjYW4uYzo4MTU6Cihsc2dwdToxNTYwMSkg
aWd0X2RldmljZV9zY2FuLUNSSVRJQ0FMOiBGYWlsZWQgYXNzZXJ0aW9uOiByZXQgPCBsZW4KCkkg
d291bGQgZXh0ZW5kIHRoYXQgdG8gYXQgbGVhc3QgMTI4IG9yIDI1NiAoaW4gdGhpcyBjYXNlIHdl
IGNhbiBjb21wbGV0ZWx5CmZvcmdldCBhYm91dCB0aGUgcGF0aCBsZW5ndGgpLgoKLS0KWmJpZ25p
ZXcKCj4gIAkJY2hhciAqZHJtX25hbWU7Cj4gLQkJaW50IHJldDsKPiAgCj4gIAkJaWYgKCFpc19k
cm1fc3Vic3lzdGVtKGRldikpCj4gIAkJCWNvbnRpbnVlOwo+IEBAIC04MTYsOCArODQ2LDcgQEAg
c3RhdGljIHZvaWQgaWd0X2RldnNfcHJpbnRfdXNlcihzdHJ1Y3QgaWd0X2xpc3RfaGVhZCAqdmll
dykKPiAgCQlpZiAoIWRybV9uYW1lIHx8ICEqKytkcm1fbmFtZSkKPiAgCQkJY29udGludWU7Cj4g
IAo+IC0JCXJldCA9IHNucHJpbnRmKGZpbHRlciwgc2l6ZW9mKGZpbHRlciksICJkcm06JXMiLCBk
ZXYtPmRybV9jYXJkKTsKPiAtCQlpZ3RfYXNzZXJ0KHJldCA8IHNpemVvZihmaWx0ZXIpKTsKPiAr
CQlfX3ByaW50X2ZpbHRlcihmaWx0ZXIsIHNpemVvZihmaWx0ZXIpLCBmbXQsIGRldiwgZmFsc2Up
Owo+ICAKPiAgCQlwY2lfZGV2ID0gX19maW5kX3BjaSh2aWV3LCBkZXYtPmRybV9jYXJkKTsKPiAg
CQlpZiAocGNpX2RldikKPiBAQCAtODQ4LDEzICs4NzcsMTUgQEAgc3RhdGljIHZvaWQgaWd0X2Rl
dnNfcHJpbnRfdXNlcihzdHJ1Y3QgaWd0X2xpc3RfaGVhZCAqdmlldykKPiAgCQkJaWYgKCFkcm1f
bmFtZSB8fCAhKisrZHJtX25hbWUpCj4gIAkJCQljb250aW51ZTsKPiAgCj4gLQkJCXJldCA9IHNu
cHJpbnRmKGZpbHRlciwgc2l6ZW9mKGZpbHRlciksICJkcm06JXMiLAo+IC0JCQkJICAgICAgIGRl
djItPmRybV9yZW5kZXIpOwo+IC0JCQlpZ3RfYXNzZXJ0KHJldCA8IHNpemVvZihmaWx0ZXIpKTsK
PiAtCj4gLQkJCXByaW50ZigiJXMlLTIycyAgICAgICAgICAgICAlc1xuIiwKPiAtCQkJICAgICAg
ICgrK2kgPT0gbnVtX2NoaWxkcmVuKSA/ICLilJTilIAiIDogIuKUnOKUgCIsCj4gLQkJCSAgICAg
ICBkcm1fbmFtZSwgZmlsdGVyKTsKPiArCQkJcHJpbnRmKCIlcyUtMjJzIiwKPiArCQkJCSgrK2kg
PT0gbnVtX2NoaWxkcmVuKSA/ICLilJTilIAiIDogIuKUnOKUgCIsIGRybV9uYW1lKTsKPiArCQkJ
aWYgKGZtdC0+b3B0aW9uICE9IElHVF9QUklOVF9QQ0kpIHsKPiArCQkJCV9fcHJpbnRfZmlsdGVy
KGZpbHRlciwgc2l6ZW9mKGZpbHRlciksIGZtdCwKPiArCQkJCQkgICAgICAgZGV2MiwgdHJ1ZSk7
Cj4gKwkJCQlwcmludGYoIiAgICAgICAgICAgICAlc1xuIiwgZmlsdGVyKTsKPiArCQkJfSBlbHNl
IHsKPiArCQkJCXByaW50ZigiXG4iKTsKPiArCQkJfQo+ICAJCX0KPiAgCX0KPiAgfQo+IEBAIC04
NzksNyArOTEwLDEwIEBAIHN0YXRpYyB2b2lkIHByaW50X2h0KEdIYXNoVGFibGUgKmh0KQo+ICAJ
Z19saXN0X2ZyZWUoa2V5cyk7Cj4gIH0KPiAgCj4gLXN0YXRpYyB2b2lkIGlndF9kZXZzX3ByaW50
X2RldGFpbChzdHJ1Y3QgaWd0X2xpc3RfaGVhZCAqdmlldykKPiArc3RhdGljIHZvaWQKPiAraWd0
X2RldnNfcHJpbnRfZGV0YWlsKHN0cnVjdCBpZ3RfbGlzdF9oZWFkICp2aWV3LAo+ICsJCSAgICAg
IGNvbnN0IHN0cnVjdCBpZ3RfZGV2aWNlc19wcmludF9mb3JtYXQgKmZtdCkKPiArCj4gIHsKPiAg
CXN0cnVjdCBpZ3RfZGV2aWNlICpkZXY7Cj4gIAo+IEBAIC05MDMsNyArOTM3LDggQEAgc3RhdGlj
IHZvaWQgaWd0X2RldnNfcHJpbnRfZGV0YWlsKHN0cnVjdCBpZ3RfbGlzdF9oZWFkICp2aWV3KQo+
ICB9Cj4gIAo+ICBzdGF0aWMgc3RydWN0IHByaW50X2Z1bmMgewo+IC0Jdm9pZCAoKnBybikoc3Ry
dWN0IGlndF9saXN0X2hlYWQgKnZpZXcpOwo+ICsJdm9pZCAoKnBybikoc3RydWN0IGlndF9saXN0
X2hlYWQgKnZpZXcsCj4gKwkJICAgIGNvbnN0IHN0cnVjdCBpZ3RfZGV2aWNlc19wcmludF9mb3Jt
YXQgKik7Cj4gIH0gcHJpbnRfZnVuY3Rpb25zW10gPSB7Cj4gIAlbSUdUX1BSSU5UX1NJTVBMRV0g
PSB7IC5wcm4gPSBpZ3RfZGV2c19wcmludF9zaW1wbGUgfSwKPiAgCVtJR1RfUFJJTlRfREVUQUlM
XSA9IHsgLnBybiA9IGlndF9kZXZzX3ByaW50X2RldGFpbCB9LAo+IEBAIC05MTIsMTUgKzk0Nywx
NSBAQCBzdGF0aWMgc3RydWN0IHByaW50X2Z1bmMgewo+ICAKPiAgLyoqCj4gICAqIGlndF9kZXZp
Y2VzX3ByaW50Cj4gLSAqIEBwcmludHR5cGU6IElHVF9QUklOVF9TSU1QTEUgb3IgSUdUX1BSSU5U
X0RFVEFJTAo+ICsgKiBAZm10OiBQcmludCBmb3JtYXQgYXMgc3BlY2lmaWVkIGJ5IHN0cnVjdCBp
Z3RfZGV2aWNlc19wcmludF9mb3JtYXQKPiAgICoKPiAgICogRnVuY3Rpb24gY2FuIGJlIHVzZWQg
YnkgZXh0ZXJuYWwgdG9vbCB0byBwcmludCBkZXZpY2UgYXJyYXkgaW4gc2ltcGxlCj4gICAqIG9y
IGRldGFpbGVkIGZvcm0uIFRoaXMgZnVuY3Rpb24gaXMgYWRkZWQgaGVyZSB0byBhdm9pZCBleHBv
c2luZwo+ICAgKiBpbnRlcm5hbCBpbXBsZW1lbnRhdGlvbiBkYXRhIHN0cnVjdHVyZXMuCj4gICAq
Lwo+IC12b2lkIGlndF9kZXZpY2VzX3ByaW50KGVudW0gaWd0X2RldmljZXNfcHJpbnRfdHlwZSBw
cmludHR5cGUpCj4gK3ZvaWQgaWd0X2RldmljZXNfcHJpbnQoY29uc3Qgc3RydWN0IGlndF9kZXZp
Y2VzX3ByaW50X2Zvcm1hdCAqZm10KQo+ICB7Cj4gLQlwcmludF9mdW5jdGlvbnNbcHJpbnR0eXBl
XS5wcm4oJmlndF9kZXZzLmZpbHRlcmVkKTsKPiArCXByaW50X2Z1bmN0aW9uc1tmbXQtPnR5cGVd
LnBybigmaWd0X2RldnMuZmlsdGVyZWQsIGZtdCk7Cj4gIH0KPiAgCj4gIC8qKgo+IGRpZmYgLS1n
aXQgYS9saWIvaWd0X2RldmljZV9zY2FuLmggYi9saWIvaWd0X2RldmljZV9zY2FuLmgKPiBpbmRl
eCA5ODIyYzIyY2I2OWMuLmJiNGJlNzIzNDVmYiAxMDA2NDQKPiAtLS0gYS9saWIvaWd0X2Rldmlj
ZV9zY2FuLmgKPiArKysgYi9saWIvaWd0X2RldmljZV9zY2FuLmgKPiBAQCAtMzUsMTEgKzM1LDIy
IEBACj4gICNpbmNsdWRlIDx1bmlzdGQuaD4KPiAgCj4gIGVudW0gaWd0X2RldmljZXNfcHJpbnRf
dHlwZSB7Cj4gLQlJR1RfUFJJTlRfU0lNUExFLAo+ICsJSUdUX1BSSU5UX1NJTVBMRSA9IDAsCj4g
IAlJR1RfUFJJTlRfREVUQUlMLAo+ICAJSUdUX1BSSU5UX1VTRVIsIC8qIEVuZCB1c2VyIGZyaWVu
ZGx5LiAqLwo+ICB9Owo+ICAKPiArZW51bSBpZ3RfZGV2aWNlc19wcmludF9vcHRpb24gewo+ICsJ
SUdUX1BSSU5UX0RSTSA9IDAsCj4gKwlJR1RfUFJJTlRfU1lTRlMsCj4gKwlJR1RfUFJJTlRfUENJ
LAo+ICt9Owo+ICsKPiArc3RydWN0IGlndF9kZXZpY2VzX3ByaW50X2Zvcm1hdCB7Cj4gKwllbnVt
IGlndF9kZXZpY2VzX3ByaW50X3R5cGUgICB0eXBlOwo+ICsJZW51bSBpZ3RfZGV2aWNlc19wcmlu
dF9vcHRpb24gb3B0aW9uOwo+ICt9Owo+ICsKPiAgI2RlZmluZSBJTlRFR1JBVEVEX0k5MTVfR1BV
X1BDSV9JRCAiMDAwMDowMDowMi4wIgo+ICAjZGVmaW5lIFBDSV9TTE9UX05BTUVfU0laRSAxMgo+
ICBzdHJ1Y3QgaWd0X2RldmljZV9jYXJkIHsKPiBAQCAtNTEsNyArNjIsNyBAQCBzdHJ1Y3QgaWd0
X2RldmljZV9jYXJkIHsKPiAgCj4gIHZvaWQgaWd0X2RldmljZXNfc2Nhbihib29sIGZvcmNlKTsK
PiAgCj4gLXZvaWQgaWd0X2RldmljZXNfcHJpbnQoZW51bSBpZ3RfZGV2aWNlc19wcmludF90eXBl
IHByaW50dHlwZSk7Cj4gK3ZvaWQgaWd0X2RldmljZXNfcHJpbnQoY29uc3Qgc3RydWN0IGlndF9k
ZXZpY2VzX3ByaW50X2Zvcm1hdCAqZm10KTsKPiAgdm9pZCBpZ3RfZGV2aWNlc19wcmludF92ZW5k
b3JzKHZvaWQpOwo+ICB2b2lkIGlndF9kZXZpY2VfcHJpbnRfZmlsdGVyX3R5cGVzKHZvaWQpOwo+
ICAKPiBkaWZmIC0tZ2l0IGEvdG9vbHMvaW50ZWxfZ3B1X3RvcC5jIGIvdG9vbHMvaW50ZWxfZ3B1
X3RvcC5jCj4gaW5kZXggNTIzMDQ3MmQyYWY0Li4wN2Y4OGQ1NTVkYzggMTAwNjQ0Cj4gLS0tIGEv
dG9vbHMvaW50ZWxfZ3B1X3RvcC5jCj4gKysrIGIvdG9vbHMvaW50ZWxfZ3B1X3RvcC5jCj4gQEAg
LTEzODcsNyArMTM4NywxMSBAQCBpbnQgbWFpbihpbnQgYXJnYywgY2hhciAqKmFyZ3YpCj4gIAlp
Z3RfZGV2aWNlc19zY2FuKGZhbHNlKTsKPiAgCj4gIAlpZiAobGlzdF9kZXZpY2UpIHsKPiAtCQlp
Z3RfZGV2aWNlc19wcmludChJR1RfUFJJTlRfVVNFUik7Cj4gKwkJc3RydWN0IGlndF9kZXZpY2Vz
X3ByaW50X2Zvcm1hdCBmbXQgPSB7Cj4gKwkJCS50eXBlID0gSUdUX1BSSU5UX1VTRVIKPiArCQl9
Owo+ICsKPiArCQlpZ3RfZGV2aWNlc19wcmludCgmZm10KTsKPiAgCQlnb3RvIGV4aXQ7Cj4gIAl9
Cj4gIAo+IGRpZmYgLS1naXQgYS90b29scy9sc2dwdS5jIGIvdG9vbHMvbHNncHUuYwo+IGluZGV4
IDNiMjM0YjczMzYxYS4uMTY5YWIwYzI5ZTUwIDEwMDY0NAo+IC0tLSBhL3Rvb2xzL2xzZ3B1LmMK
PiArKysgYi90b29scy9sc2dwdS5jCj4gQEAgLTkxLDcgKzkxLDExIEBAIHN0YXRpYyBjb25zdCBj
aGFyICp1c2FnZV9zdHIgPQo+ICAJIiAgLXYsIC0tbGlzdC12ZW5kb3JzICAgICAgICAgIExpc3Qg
cmVjb2duaXplZCB2ZW5kb3JzXG4iCj4gIAkiICAtbCwgLS1saXN0LWZpbHRlci10eXBlcyAgICAg
TGlzdCByZWdpc3RlcmVkIGRldmljZSBmaWx0ZXJzIHR5cGVzXG4iCj4gIAkiICAtZCwgLS1kZXZp
Y2UgZmlsdGVyICAgICAgICAgRGV2aWNlIGZpbHRlciwgY2FuIGJlIGdpdmVuIG11bHRpcGxlIHRp
bWVzXG4iCj4gLQkiICAtaCwgLS1oZWxwICAgICAgICAgICAgICAgICAgU2hvdyB0aGlzIGhlbHAg
bWVzc2FnZSBhbmQgZXhpdFxuIjsKPiArCSIgIC1oLCAtLWhlbHAgICAgICAgICAgICAgICAgICBT
aG93IHRoaXMgaGVscCBtZXNzYWdlIGFuZCBleGl0XG4iCj4gKwkiXG5PcHRpb25zIHZhbGlkIGZv
ciBkZWZhdWx0IHByaW50IG91dCBtb2RlIG9ubHk6XG4iCj4gKwkiICAgICAgLS1kcm0gICAgICAg
ICAgICAgICAgICAgU2hvdyBEUk0gZmlsdGVycyAoZGVmYXVsdCkgZm9yIGVhY2ggZGV2aWNlXG4i
Cj4gKwkiICAgICAgLS1zeXNmcyAgICAgICAgICAgICAgICAgU2hvdyBzeXNmcyBmaWx0ZXJzIGZv
ciBlYWNoIGRldmljZVxuIgo+ICsJIiAgICAgIC0tcGNpICAgICAgICAgICAgICAgICAgIFNob3cg
UENJIGZpbHRlcnMgZm9yIGVhY2ggZGV2aWNlXG4iOwo+ICAKPiAgc3RhdGljIHZvaWQgdGVzdF9k
ZXZpY2Vfb3BlbihzdHJ1Y3QgaWd0X2RldmljZV9jYXJkICpjYXJkKQo+ICB7Cj4gQEAgLTE1Myw2
ICsxNTcsOSBAQCBzdGF0aWMgY2hhciAqZ2V0X2RldmljZV9mcm9tX3JjKHZvaWQpCj4gIGludCBt
YWluKGludCBhcmdjLCBjaGFyICphcmd2W10pCj4gIHsKPiAgCXN0YXRpYyBzdHJ1Y3Qgb3B0aW9u
IGxvbmdfb3B0aW9uc1tdID0gewo+ICsJCXsiZHJtIiwgICAgICAgICAgICAgICBub19hcmd1bWVu
dCwgICAgICAgTlVMTCwgMH0sCj4gKwkJeyJzeXNmcyIsICAgICAgICAgICAgIG5vX2FyZ3VtZW50
LCAgICAgICBOVUxMLCAxfSwKPiArCQl7InBjaSIsICAgICAgICAgICAgICAgbm9fYXJndW1lbnQs
ICAgICAgIE5VTEwsIDJ9LAo+ICAJCXsicHJpbnQtc2ltcGxlIiwgICAgICBub19hcmd1bWVudCwg
ICAgICAgTlVMTCwgT1BUX1BSSU5UX1NJTVBMRX0sCj4gIAkJeyJwcmludC1kZXRhaWwiLCAgICAg
IG5vX2FyZ3VtZW50LCAgICAgICBOVUxMLCBPUFRfUFJJTlRfREVUQUlMfSwKPiAgCQl7Imxpc3Qt
dmVuZG9ycyIsICAgICAgbm9fYXJndW1lbnQsICAgICAgIE5VTEwsIE9QVF9MSVNUX1ZFTkRPUlN9
LAo+IEBAIC0xNjMsMTcgKzE3MCwxOSBAQCBpbnQgbWFpbihpbnQgYXJnYywgY2hhciAqYXJndltd
KQo+ICAJfTsKPiAgCWludCBjLCBpbmRleCA9IDA7Cj4gIAljaGFyICplbnZfZGV2aWNlID0gTlVM
TCwgKm9wdF9kZXZpY2UgPSBOVUxMLCAqcmNfZGV2aWNlID0gTlVMTDsKPiAtCWVudW0gaWd0X2Rl
dmljZXNfcHJpbnRfdHlwZSBwcmludHR5cGUgPSBJR1RfUFJJTlRfVVNFUjsKPiArCXN0cnVjdCBp
Z3RfZGV2aWNlc19wcmludF9mb3JtYXQgZm10ID0gewo+ICsJCQkudHlwZSA9IElHVF9QUklOVF9V
U0VSLAo+ICsJfTsKPiAgCj4gIAl3aGlsZSAoKGMgPSBnZXRvcHRfbG9uZyhhcmdjLCBhcmd2LCAi
c3B2bGQ6aCIsCj4gIAkJCQlsb25nX29wdGlvbnMsICZpbmRleCkpICE9IC0xKSB7Cj4gIAkJc3dp
dGNoKGMpIHsKPiAgCj4gIAkJY2FzZSBPUFRfUFJJTlRfU0lNUExFOgo+IC0JCQlwcmludHR5cGUg
PSBJR1RfUFJJTlRfU0lNUExFOwo+ICsJCQlmbXQudHlwZSA9IElHVF9QUklOVF9TSU1QTEU7Cj4g
IAkJCWJyZWFrOwo+ICAJCWNhc2UgT1BUX1BSSU5UX0RFVEFJTDoKPiAtCQkJcHJpbnR0eXBlID0g
SUdUX1BSSU5UX0RFVEFJTDsKPiArCQkJZm10LnR5cGUgPSBJR1RfUFJJTlRfREVUQUlMOwo+ICAJ
CQlicmVhazsKPiAgCQljYXNlIE9QVF9MSVNUX1ZFTkRPUlM6Cj4gIAkJCWdfc2hvd192ZW5kb3Jz
ID0gdHJ1ZTsKPiBAQCAtMTg3LDYgKzE5NiwxNSBAQCBpbnQgbWFpbihpbnQgYXJnYywgY2hhciAq
YXJndltdKQo+ICAJCWNhc2UgT1BUX0hFTFA6Cj4gIAkJCWdfaGVscCA9IHRydWU7Cj4gIAkJCWJy
ZWFrOwo+ICsJCWNhc2UgMDoKPiArCQkJZm10Lm9wdGlvbiA9IElHVF9QUklOVF9EUk07Cj4gKwkJ
CWJyZWFrOwo+ICsJCWNhc2UgMToKPiArCQkJZm10Lm9wdGlvbiA9IElHVF9QUklOVF9TWVNGUzsK
PiArCQkJYnJlYWs7Cj4gKwkJY2FzZSAyOgo+ICsJCQlmbXQub3B0aW9uID0gSUdUX1BSSU5UX1BD
STsKPiArCQkJYnJlYWs7Cj4gIAkJfQo+ICAJfQo+ICAKPiBAQCAtMjM5LDE0ICsyNTcsMTQgQEAg
aW50IG1haW4oaW50IGFyZ2MsIGNoYXIgKmFyZ3ZbXSkKPiAgCQlwcmludGYoIkRldmljZSBkZXRh
aWw6XG4iKTsKPiAgCQlwcmludF9jYXJkKCZjYXJkKTsKPiAgCQl0ZXN0X2RldmljZV9vcGVuKCZj
YXJkKTsKPiAtCQlpZiAocHJpbnR0eXBlID09IElHVF9QUklOVF9ERVRBSUwpIHsKPiArCQlpZiAo
Zm10LnR5cGUgPT0gSUdUX1BSSU5UX0RFVEFJTCkgewo+ICAJCQlwcmludGYoIlxuIik7Cj4gLQkJ
CWlndF9kZXZpY2VzX3ByaW50KHByaW50dHlwZSk7Cj4gKwkJCWlndF9kZXZpY2VzX3ByaW50KCZm
bXQpOwo+ICAJCX0KPiAgCQlwcmludGYoIi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS1cbiIpOwo+ICAKPiAgCX0gZWxzZSB7Cj4gLQkJaWd0X2RldmljZXNfcHJpbnQo
cHJpbnR0eXBlKTsKPiArCQlpZ3RfZGV2aWNlc19wcmludCgmZm10KTsKPiAgCX0KPiAgCj4gIAlm
cmVlKHJjX2RldmljZSk7Cj4gLS0gCj4gMi4yNS4xCj4gCl9fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fCkludGVsLWdmeCBtYWlsaW5nIGxpc3QKSW50ZWwtZ2Z4
QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWls
bWFuL2xpc3RpbmZvL2ludGVsLWdmeAo=

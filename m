Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 6AA20E8AD1
	for <lists+intel-gfx@lfdr.de>; Tue, 29 Oct 2019 15:33:21 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 7FF7E6EB7C;
	Tue, 29 Oct 2019 14:33:19 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga12.intel.com (mga12.intel.com [192.55.52.136])
 by gabe.freedesktop.org (Postfix) with ESMTPS id F3CEE6EB7C
 for <intel-gfx@lists.freedesktop.org>; Tue, 29 Oct 2019 14:33:18 +0000 (UTC)
X-Amp-Result: UNKNOWN
X-Amp-Original-Verdict: FILE UNKNOWN
X-Amp-File-Uploaded: False
Received: from orsmga008.jf.intel.com ([10.7.209.65])
 by fmsmga106.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 29 Oct 2019 07:33:18 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.68,244,1569308400"; d="scan'208";a="193622527"
Received: from stinkbox.fi.intel.com (HELO stinkbox) ([10.237.72.174])
 by orsmga008.jf.intel.com with SMTP; 29 Oct 2019 07:33:16 -0700
Received: by stinkbox (sSMTP sendmail emulation);
 Tue, 29 Oct 2019 16:33:15 +0200
Date: Tue, 29 Oct 2019 16:33:15 +0200
From: Ville =?iso-8859-1?Q?Syrj=E4l=E4?= <ville.syrjala@linux.intel.com>
To: Maarten Lankhorst <maarten.lankhorst@linux.intel.com>
Message-ID: <20191029143315.GW1208@intel.com>
References: <20191029072229.27092-1-maarten.lankhorst@linux.intel.com>
 <20191029072229.27092-7-maarten.lankhorst@linux.intel.com>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <20191029072229.27092-7-maarten.lankhorst@linux.intel.com>
User-Agent: Mutt/1.10.1 (2018-07-13)
Subject: Re: [Intel-gfx] [CI 07/12] drm/i915: Complete crtc hw/uapi split,
 v4.
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: intel-gfx@lists.freedesktop.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

T24gVHVlLCBPY3QgMjksIDIwMTkgYXQgMDg6MjI6MjRBTSArMDEwMCwgTWFhcnRlbiBMYW5raG9y
c3Qgd3JvdGU6Cj4gTm93IHRoYXQgd2Ugc2VwYXJhdGVkIGV2ZXJ5dGhpbmcgaW50byB1YXBpIGFu
ZCBodywgaXQncwo+IHRpbWUgdG8gbWFrZSB0aGUgc3BsaXQgZGVmaW5pdGl2ZS4gUmVtb3ZlIHRo
ZSB1bmlvbiBhbmQKPiBtYWtlIGEgY29weSBvZiB0aGUgaHcgc3RhdGUgb24gbW9kZXNldCBhbmQg
ZmFzdHNldC4KPiAKPiBDb2xvciBibG9icyBhcmUgY29waWVkIGluIGNydGMgYXRvbWljX2NoZWNr
KCksIHJpZ2h0Cj4gYmVmb3JlIGNvbG9yIG1hbmFnZW1lbnQgaXMgY2hlY2tlZC4KPiAKPiBDaGFu
Z2VzIHNpbmNlIHYxOgo+IC0gQ29weSBhbGwgYmxvYnMgaW1tZWRpYXRlbHkgYWZ0ZXIgZHJtX2F0
b21pY19oZWxwZXJfY2hlY2tfbW9kZXNldCgpLgo+IC0gQ2xlYXIgY3J0Y19zdGF0ZS0+aHcgb24g
ZGlzYWJsZSwgaW5zdGVhZCBvZiB1c2luZyBjbGVhcl9pbnRlbF9jcnRjX3N0YXRlKCkuCj4gQ2hh
bmdlcyBzaW5jZSB2MjoKPiAtIFVzZSBpbnRlbF9jcnRjX2ZyZWVfaHdfc3RhdGUgKyBjbGVhciBp
biBpbnRlbF9jcnRjX2Rpc2FibGVfbm9hdG9taWMoKS4KPiAtIE1ha2UgYSBpbnRlbF9jcnRjX3By
ZXBhcmVfc3RhdGUoKSBmdW5jdGlvbiB0aGF0IGNsZWFycyB0aGUgY3J0Y19zdGF0ZQo+ICAgYW5k
IGNvcGllcyBodyBtZW1iZXJzLgo+IC0gUmVtb3ZlIHNldHRpbmcgdWFwaS5hZGp1c3RlZF9tb2Rl
LCB3ZSBub3cgaGF2ZSBhIGRpcmVjdCBjYWxsIHRvCj4gICBkcm1fY2FsY190aW1lc3RhbXBpbmdf
Y29uc3RhbnRzKCkuCj4gQ2hhbmdlcyBzaW5jZSB2MzoKPiAtIFJlbmFtZSBwcmVmaXggY29weV9o
d190b191YXBpX3N0YXRlKCkgd2l0aCBpbnRlbF9jcnRjLgo+IC0gQ29weSBjb2xvciBibG9icyB0
byB1YXBpIGFzIHdlbGwuCj4gLSBBZGQgYSBpbnRlbF9jcnRjX2NvcHlfdWFwaV90b19od19zdGF0
ZV9ub21vZGVzZXQoKSBmdW5jdGlvbiBmb3IgY2xhcml0eS4KPiAKPiBTaWduZWQtb2ZmLWJ5OiBN
YWFydGVuIExhbmtob3JzdCA8bWFhcnRlbi5sYW5raG9yc3RAbGludXguaW50ZWwuY29tPgo+IC0t
LQo+ICBkcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2F0b21pYy5jICAgfCA0NCAr
KysrKysrKysrCj4gIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfYXRvbWljLmgg
ICB8ICAyICsKPiAgZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5LmMg
IHwgODAgKysrKysrKysrKysrKysrKy0tLQo+ICAuLi4vZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9k
aXNwbGF5X3R5cGVzLmggICAgfCAgOSArKy0KPiAgNCBmaWxlcyBjaGFuZ2VkLCAxMTggaW5zZXJ0
aW9ucygrKSwgMTcgZGVsZXRpb25zKC0pCj4gCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2Rpc3BsYXkvaW50ZWxfYXRvbWljLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNw
bGF5L2ludGVsX2F0b21pYy5jCj4gaW5kZXggMzY2Mjc1ZGMxMTNkLi41NTcxNzg5MDZjY2YgMTAw
NjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9hdG9taWMuYwo+
ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfYXRvbWljLmMKPiBAQCAt
MTk1LDYgKzE5NSwxNCBAQCBpbnRlbF9jcnRjX2R1cGxpY2F0ZV9zdGF0ZShzdHJ1Y3QgZHJtX2Ny
dGMgKmNydGMpCj4gIAo+ICAJX19kcm1fYXRvbWljX2hlbHBlcl9jcnRjX2R1cGxpY2F0ZV9zdGF0
ZShjcnRjLCAmY3J0Y19zdGF0ZS0+dWFwaSk7Cj4gIAo+ICsJLyogY29weSBjb2xvciBibG9icyAq
Lwo+ICsJaWYgKGNydGNfc3RhdGUtPmh3LmRlZ2FtbWFfbHV0KQo+ICsJCWRybV9wcm9wZXJ0eV9i
bG9iX2dldChjcnRjX3N0YXRlLT5ody5kZWdhbW1hX2x1dCk7Cj4gKwlpZiAoY3J0Y19zdGF0ZS0+
aHcuY3RtKQo+ICsJCWRybV9wcm9wZXJ0eV9ibG9iX2dldChjcnRjX3N0YXRlLT5ody5jdG0pOwo+
ICsJaWYgKGNydGNfc3RhdGUtPmh3LmdhbW1hX2x1dCkKPiArCQlkcm1fcHJvcGVydHlfYmxvYl9n
ZXQoY3J0Y19zdGF0ZS0+aHcuZ2FtbWFfbHV0KTsKPiArCj4gIAljcnRjX3N0YXRlLT51cGRhdGVf
cGlwZSA9IGZhbHNlOwo+ICAJY3J0Y19zdGF0ZS0+ZGlzYWJsZV9scF93bSA9IGZhbHNlOwo+ICAJ
Y3J0Y19zdGF0ZS0+ZGlzYWJsZV9jeHNyID0gZmFsc2U7Cj4gQEAgLTIwOCw2ICsyMTYsNDEgQEAg
aW50ZWxfY3J0Y19kdXBsaWNhdGVfc3RhdGUoc3RydWN0IGRybV9jcnRjICpjcnRjKQo+ICAJcmV0
dXJuICZjcnRjX3N0YXRlLT51YXBpOwo+ICB9Cj4gIAo+ICtzdGF0aWMgdm9pZCBpbnRlbF9jcnRj
X3B1dF9jb2xvcl9ibG9icyhzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqY3J0Y19zdGF0ZSkKPiAr
ewo+ICsJZHJtX3Byb3BlcnR5X2Jsb2JfcHV0KGNydGNfc3RhdGUtPmh3LmRlZ2FtbWFfbHV0KTsK
PiArCWRybV9wcm9wZXJ0eV9ibG9iX3B1dChjcnRjX3N0YXRlLT5ody5nYW1tYV9sdXQpOwo+ICsJ
ZHJtX3Byb3BlcnR5X2Jsb2JfcHV0KGNydGNfc3RhdGUtPmh3LmN0bSk7Cj4gK30KPiArCj4gK3Zv
aWQgaW50ZWxfY3J0Y19mcmVlX2h3X3N0YXRlKHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpjcnRj
X3N0YXRlKQo+ICt7Cj4gKwlpbnRlbF9jcnRjX3B1dF9jb2xvcl9ibG9icyhjcnRjX3N0YXRlKTsK
PiArfQo+ICsKPiArdm9pZCBpbnRlbF9jcnRjX2NvcHlfY29sb3JfYmxvYnMoc3RydWN0IGludGVs
X2NydGNfc3RhdGUgKmNydGNfc3RhdGUpCj4gK3sKPiArCWludGVsX2NydGNfcHV0X2NvbG9yX2Js
b2JzKGNydGNfc3RhdGUpOwo+ICsKPiArCWlmIChjcnRjX3N0YXRlLT51YXBpLmRlZ2FtbWFfbHV0
KQo+ICsJCWNydGNfc3RhdGUtPmh3LmRlZ2FtbWFfbHV0ID0KPiArCQkJZHJtX3Byb3BlcnR5X2Js
b2JfZ2V0KGNydGNfc3RhdGUtPnVhcGkuZGVnYW1tYV9sdXQpOwo+ICsJZWxzZQo+ICsJCWNydGNf
c3RhdGUtPmh3LmRlZ2FtbWFfbHV0ID0gTlVMTDsKPiArCj4gKwlpZiAoY3J0Y19zdGF0ZS0+dWFw
aS5nYW1tYV9sdXQpCj4gKwkJY3J0Y19zdGF0ZS0+aHcuZ2FtbWFfbHV0ID0KPiArCQkJZHJtX3By
b3BlcnR5X2Jsb2JfZ2V0KGNydGNfc3RhdGUtPnVhcGkuZ2FtbWFfbHV0KTsKPiArCWVsc2UKPiAr
CQljcnRjX3N0YXRlLT5ody5nYW1tYV9sdXQgPSBOVUxMOwo+ICsKPiArCWlmIChjcnRjX3N0YXRl
LT51YXBpLmN0bSkKPiArCQljcnRjX3N0YXRlLT5ody5jdG0gPQo+ICsJCQlkcm1fcHJvcGVydHlf
YmxvYl9nZXQoY3J0Y19zdGF0ZS0+dWFwaS5jdG0pOwo+ICsJZWxzZQo+ICsJCWNydGNfc3RhdGUt
Pmh3LmN0bSA9IE5VTEw7Cj4gK30KPiArCj4gIC8qKgo+ICAgKiBpbnRlbF9jcnRjX2Rlc3Ryb3lf
c3RhdGUgLSBkZXN0cm95IGNydGMgc3RhdGUKPiAgICogQGNydGM6IGRybSBjcnRjCj4gQEAgLTIy
Myw2ICsyNjYsNyBAQCBpbnRlbF9jcnRjX2Rlc3Ryb3lfc3RhdGUoc3RydWN0IGRybV9jcnRjICpj
cnRjLAo+ICAJc3RydWN0IGludGVsX2NydGNfc3RhdGUgKmNydGNfc3RhdGUgPSB0b19pbnRlbF9j
cnRjX3N0YXRlKHN0YXRlKTsKPiAgCj4gIAlfX2RybV9hdG9taWNfaGVscGVyX2NydGNfZGVzdHJv
eV9zdGF0ZSgmY3J0Y19zdGF0ZS0+dWFwaSk7Cj4gKwlpbnRlbF9jcnRjX2ZyZWVfaHdfc3RhdGUo
Y3J0Y19zdGF0ZSk7Cj4gIAlrZnJlZShjcnRjX3N0YXRlKTsKPiAgfQo+ICAKPiBkaWZmIC0tZ2l0
IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9hdG9taWMuaCBiL2RyaXZlcnMv
Z3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfYXRvbWljLmgKPiBpbmRleCA0OWQ1Y2IxYjllMGEu
LjdiNDk2MjM0MTliYSAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5
L2ludGVsX2F0b21pYy5oCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRl
bF9hdG9taWMuaAo+IEBAIC0zNiw2ICszNiw4IEBAIGludGVsX2RpZ2l0YWxfY29ubmVjdG9yX2R1
cGxpY2F0ZV9zdGF0ZShzdHJ1Y3QgZHJtX2Nvbm5lY3RvciAqY29ubmVjdG9yKTsKPiAgc3RydWN0
IGRybV9jcnRjX3N0YXRlICppbnRlbF9jcnRjX2R1cGxpY2F0ZV9zdGF0ZShzdHJ1Y3QgZHJtX2Ny
dGMgKmNydGMpOwo+ICB2b2lkIGludGVsX2NydGNfZGVzdHJveV9zdGF0ZShzdHJ1Y3QgZHJtX2Ny
dGMgKmNydGMsCj4gIAkJCSAgICAgICBzdHJ1Y3QgZHJtX2NydGNfc3RhdGUgKnN0YXRlKTsKPiAr
dm9pZCBpbnRlbF9jcnRjX2ZyZWVfaHdfc3RhdGUoc3RydWN0IGludGVsX2NydGNfc3RhdGUgKmNy
dGNfc3RhdGUpOwo+ICt2b2lkIGludGVsX2NydGNfY29weV9jb2xvcl9ibG9icyhzdHJ1Y3QgaW50
ZWxfY3J0Y19zdGF0ZSAqY3J0Y19zdGF0ZSk7Cj4gIHN0cnVjdCBkcm1fYXRvbWljX3N0YXRlICpp
bnRlbF9hdG9taWNfc3RhdGVfYWxsb2Moc3RydWN0IGRybV9kZXZpY2UgKmRldik7Cj4gIHZvaWQg
aW50ZWxfYXRvbWljX3N0YXRlX2NsZWFyKHN0cnVjdCBkcm1fYXRvbWljX3N0YXRlICpzdGF0ZSk7
Cj4gIAo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rp
c3BsYXkuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheS5jCj4g
aW5kZXggMWJjMDA4YzA5NGU0Li5hNzY1Nzk0NTk3ZWQgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9n
cHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5LmMKPiArKysgYi9kcml2ZXJzL2dwdS9k
cm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXkuYwo+IEBAIC03MTg1LDYgKzcxODUsOCBAQCBz
dGF0aWMgdm9pZCBpbnRlbF9jcnRjX2Rpc2FibGVfbm9hdG9taWMoc3RydWN0IGRybV9jcnRjICpj
cnRjLAo+ICAJY3J0Yy0+ZW5hYmxlZCA9IGZhbHNlOwo+ICAJY3J0Yy0+c3RhdGUtPmNvbm5lY3Rv
cl9tYXNrID0gMDsKPiAgCWNydGMtPnN0YXRlLT5lbmNvZGVyX21hc2sgPSAwOwo+ICsJaW50ZWxf
Y3J0Y19mcmVlX2h3X3N0YXRlKGNydGNfc3RhdGUpOwo+ICsJbWVtc2V0KCZjcnRjX3N0YXRlLT5o
dywgMCwgc2l6ZW9mKGNydGNfc3RhdGUtPmh3KSk7Cj4gIAo+ICAJZm9yX2VhY2hfZW5jb2Rlcl9v
bl9jcnRjKGNydGMtPmRldiwgY3J0YywgZW5jb2RlcikKPiAgCQllbmNvZGVyLT5iYXNlLmNydGMg
PSBOVUxMOwo+IEBAIC0xMjU2MCw4ICsxMjU2Miw0OCBAQCBzdGF0aWMgYm9vbCBjaGVja19kaWdp
dGFsX3BvcnRfY29uZmxpY3RzKHN0cnVjdCBpbnRlbF9hdG9taWNfc3RhdGUgKnN0YXRlKQo+ICAJ
cmV0dXJuIHJldDsKPiAgfQo+ICAKPiArc3RhdGljIHZvaWQKPiAraW50ZWxfY3J0Y19jb3B5X3Vh
cGlfdG9faHdfc3RhdGVfbm9tb2Rlc2V0KHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpjcnRjX3N0
YXRlKQo+ICt7Cj4gKwlpbnRlbF9jcnRjX2NvcHlfY29sb3JfYmxvYnMoY3J0Y19zdGF0ZSk7Cj4g
K30KPiArCj4gK3N0YXRpYyB2b2lkCj4gK2ludGVsX2NydGNfY29weV91YXBpX3RvX2h3X3N0YXRl
KHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpjcnRjX3N0YXRlKQo+ICt7Cj4gKwljcnRjX3N0YXRl
LT5ody5lbmFibGUgPSBjcnRjX3N0YXRlLT51YXBpLmVuYWJsZTsKPiArCWNydGNfc3RhdGUtPmh3
LmFjdGl2ZSA9IGNydGNfc3RhdGUtPnVhcGkuYWN0aXZlOwo+ICsJY3J0Y19zdGF0ZS0+aHcubW9k
ZSA9IGNydGNfc3RhdGUtPnVhcGkubW9kZTsKPiArCWNydGNfc3RhdGUtPmh3LmFkanVzdGVkX21v
ZGUgPSBjcnRjX3N0YXRlLT51YXBpLmFkanVzdGVkX21vZGU7Cj4gKwlpbnRlbF9jcnRjX2NvcHlf
dWFwaV90b19od19zdGF0ZV9ub21vZGVzZXQoY3J0Y19zdGF0ZSk7Cj4gK30KPiArCj4gK3N0YXRp
YyB2b2lkIGludGVsX2NydGNfY29weV9od190b191YXBpX3N0YXRlKHN0cnVjdCBpbnRlbF9jcnRj
X3N0YXRlICpjcnRjX3N0YXRlKQo+ICt7Cj4gKwljcnRjX3N0YXRlLT51YXBpLmVuYWJsZSA9IGNy
dGNfc3RhdGUtPmh3LmVuYWJsZTsKPiArCWNydGNfc3RhdGUtPnVhcGkuYWN0aXZlID0gY3J0Y19z
dGF0ZS0+aHcuYWN0aXZlOwo+ICsJY3J0Y19zdGF0ZS0+dWFwaS5tb2RlID0gY3J0Y19zdGF0ZS0+
aHcubW9kZTsKPiArCWNydGNfc3RhdGUtPnVhcGkuYWRqdXN0ZWRfbW9kZSA9IGNydGNfc3RhdGUt
Pmh3LmFkanVzdGVkX21vZGU7Cj4gKwo+ICsJLyogY29weSBjb2xvciBibG9icyB0byB1YXBpICov
Cj4gKwlkcm1fcHJvcGVydHlfYmxvYl9wdXQoY3J0Y19zdGF0ZS0+aHcuZGVnYW1tYV9sdXQpOwoK
dWFwaS5kZWdhbW1hX2x1dAoKVGhlc2UgbG9vayBsaWtlIGlubGluZWQgdmVyc2lvbnMgb2YgZHJt
X3Byb3BlcnR5X3JlcGxhY2VfYmxvYigpIAphY3R1YWxseS4KCk90aGVyd2lzZSBsZ3RtClJldmll
d2VkLWJ5OiBWaWxsZSBTeXJqw6Rsw6QgPHZpbGxlLnN5cmphbGFAbGludXguaW50ZWwuY29tPgoK
PiArCWNydGNfc3RhdGUtPnVhcGkuZGVnYW1tYV9sdXQgPSBjcnRjX3N0YXRlLT5ody5kZWdhbW1h
X2x1dDsKPiArCWlmIChjcnRjX3N0YXRlLT51YXBpLmRlZ2FtbWFfbHV0KQo+ICsJCWRybV9wcm9w
ZXJ0eV9ibG9iX2dldChjcnRjX3N0YXRlLT51YXBpLmRlZ2FtbWFfbHV0KTsKPiArCj4gKwlkcm1f
cHJvcGVydHlfYmxvYl9wdXQoY3J0Y19zdGF0ZS0+dWFwaS5jdG0pOwo+ICsJY3J0Y19zdGF0ZS0+
dWFwaS5jdG0gPSBjcnRjX3N0YXRlLT5ody5jdG07Cj4gKwlpZiAoY3J0Y19zdGF0ZS0+dWFwaS5j
dG0pCj4gKwkJZHJtX3Byb3BlcnR5X2Jsb2JfZ2V0KGNydGNfc3RhdGUtPnVhcGkuY3RtKTsKPiAr
Cj4gKwlkcm1fcHJvcGVydHlfYmxvYl9wdXQoY3J0Y19zdGF0ZS0+dWFwaS5nYW1tYV9sdXQpOwo+
ICsJY3J0Y19zdGF0ZS0+dWFwaS5nYW1tYV9sdXQgPSBjcnRjX3N0YXRlLT5ody5nYW1tYV9sdXQ7
Cj4gKwlpZiAoY3J0Y19zdGF0ZS0+dWFwaS5nYW1tYV9sdXQpCj4gKwkJZHJtX3Byb3BlcnR5X2Js
b2JfZ2V0KGNydGNfc3RhdGUtPnVhcGkuZ2FtbWFfbHV0KTsKPiArfQo+ICsKPiAgc3RhdGljIGlu
dAo+IC1jbGVhcl9pbnRlbF9jcnRjX3N0YXRlKHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpjcnRj
X3N0YXRlKQo+ICtpbnRlbF9jcnRjX3ByZXBhcmVfY2xlYXJlZF9zdGF0ZShzdHJ1Y3QgaW50ZWxf
Y3J0Y19zdGF0ZSAqY3J0Y19zdGF0ZSkKPiAgewo+ICAJc3RydWN0IGRybV9pOTE1X3ByaXZhdGUg
KmRldl9wcml2ID0KPiAgCQl0b19pOTE1KGNydGNfc3RhdGUtPnVhcGkuY3J0Yy0+ZGV2KTsKPiBA
QCAtMTI1NzEsMTEgKzEyNjEzLDE1IEBAIGNsZWFyX2ludGVsX2NydGNfc3RhdGUoc3RydWN0IGlu
dGVsX2NydGNfc3RhdGUgKmNydGNfc3RhdGUpCj4gIAlpZiAoIXNhdmVkX3N0YXRlKQo+ICAJCXJl
dHVybiAtRU5PTUVNOwo+ICAKPiArCS8qIGZyZWUgdGhlIG9sZCBjcnRjX3N0YXRlLT5odyBtZW1i
ZXJzICovCj4gKwlpbnRlbF9jcnRjX2ZyZWVfaHdfc3RhdGUoY3J0Y19zdGF0ZSk7Cj4gKwo+ICAJ
LyogRklYTUU6IGJlZm9yZSB0aGUgc3dpdGNoIHRvIGF0b21pYyBzdGFydGVkLCBhIG5ldyBwaXBl
X2NvbmZpZyB3YXMKPiAgCSAqIGt6YWxsb2MnZC4gQ29kZSB0aGF0IGRlcGVuZHMgb24gYW55IGZp
ZWxkIGJlaW5nIHplcm8gc2hvdWxkIGJlCj4gIAkgKiBmaXhlZCwgc28gdGhhdCB0aGUgY3J0Y19z
dGF0ZSBjYW4gYmUgc2FmZWx5IGR1cGxpY2F0ZWQuIEZvciBub3csCj4gIAkgKiBvbmx5IGZpZWxk
cyB0aGF0IGFyZSBrbm93IHRvIG5vdCBjYXVzZSBwcm9ibGVtcyBhcmUgcHJlc2VydmVkLiAqLwo+
ICAKPiArCXNhdmVkX3N0YXRlLT51YXBpID0gY3J0Y19zdGF0ZS0+dWFwaTsKPiAgCXNhdmVkX3N0
YXRlLT5zY2FsZXJfc3RhdGUgPSBjcnRjX3N0YXRlLT5zY2FsZXJfc3RhdGU7Cj4gIAlzYXZlZF9z
dGF0ZS0+c2hhcmVkX2RwbGwgPSBjcnRjX3N0YXRlLT5zaGFyZWRfZHBsbDsKPiAgCXNhdmVkX3N0
YXRlLT5kcGxsX2h3X3N0YXRlID0gY3J0Y19zdGF0ZS0+ZHBsbF9od19zdGF0ZTsKPiBAQCAtMTI1
OTMsMTQgKzEyNjM5LDExIEBAIGNsZWFyX2ludGVsX2NydGNfc3RhdGUoc3RydWN0IGludGVsX2Ny
dGNfc3RhdGUgKmNydGNfc3RhdGUpCj4gIAkJc2F2ZWRfc3RhdGUtPnN5bmNfbW9kZV9zbGF2ZXNf
bWFzayA9Cj4gIAkJCWNydGNfc3RhdGUtPnN5bmNfbW9kZV9zbGF2ZXNfbWFzazsKPiAgCj4gLQkv
KiBLZWVwIGJhc2UgZHJtX2NydGNfc3RhdGUgaW50YWN0LCBvbmx5IGNsZWFyIG91ciBleHRlbmRl
ZCBzdHJ1Y3QgKi8KPiAtCUJVSUxEX0JVR19PTihvZmZzZXRvZihzdHJ1Y3QgaW50ZWxfY3J0Y19z
dGF0ZSwgYmFzZSkpOwo+IC0JQlVJTERfQlVHX09OKG9mZnNldG9mKHN0cnVjdCBpbnRlbF9jcnRj
X3N0YXRlLCB1YXBpKSk7Cj4gLQlCVUlMRF9CVUdfT04ob2Zmc2V0b2Yoc3RydWN0IGludGVsX2Ny
dGNfc3RhdGUsIGh3KSk7Cj4gLQltZW1jcHkoJmNydGNfc3RhdGUtPnVhcGkgKyAxLCAmc2F2ZWRf
c3RhdGUtPnVhcGkgKyAxLAo+IC0JICAgICAgIHNpemVvZigqY3J0Y19zdGF0ZSkgLSBzaXplb2Yo
Y3J0Y19zdGF0ZS0+dWFwaSkpOwo+IC0KPiArCW1lbWNweShjcnRjX3N0YXRlLCBzYXZlZF9zdGF0
ZSwgc2l6ZW9mKCpjcnRjX3N0YXRlKSk7Cj4gIAlrZnJlZShzYXZlZF9zdGF0ZSk7Cj4gKwo+ICsJ
aW50ZWxfY3J0Y19jb3B5X3VhcGlfdG9faHdfc3RhdGUoY3J0Y19zdGF0ZSk7Cj4gKwo+ICAJcmV0
dXJuIDA7Cj4gIH0KPiAgCj4gQEAgLTEyNjE2LDEwICsxMjY1OSw2IEBAIGludGVsX21vZGVzZXRf
cGlwZV9jb25maWcoc3RydWN0IGludGVsX2NydGNfc3RhdGUgKnBpcGVfY29uZmlnKQo+ICAJaW50
IGk7Cj4gIAlib29sIHJldHJ5ID0gdHJ1ZTsKPiAgCj4gLQlyZXQgPSBjbGVhcl9pbnRlbF9jcnRj
X3N0YXRlKHBpcGVfY29uZmlnKTsKPiAtCWlmIChyZXQpCj4gLQkJcmV0dXJuIHJldDsKPiAtCj4g
IAlwaXBlX2NvbmZpZy0+Y3B1X3RyYW5zY29kZXIgPQo+ICAJCShlbnVtIHRyYW5zY29kZXIpIHRv
X2ludGVsX2NydGMoY3J0YyktPnBpcGU7Cj4gIAo+IEBAIC0xMzQ3Niw2ICsxMzUxNSw4IEBAIHZl
cmlmeV9jcnRjX3N0YXRlKHN0cnVjdCBpbnRlbF9jcnRjICpjcnRjLAo+ICAKPiAgCXN0YXRlID0g
b2xkX2NydGNfc3RhdGUtPnVhcGkuc3RhdGU7Cj4gIAlfX2RybV9hdG9taWNfaGVscGVyX2NydGNf
ZGVzdHJveV9zdGF0ZSgmb2xkX2NydGNfc3RhdGUtPnVhcGkpOwo+ICsJaW50ZWxfY3J0Y19mcmVl
X2h3X3N0YXRlKG9sZF9jcnRjX3N0YXRlKTsKPiArCj4gIAlwaXBlX2NvbmZpZyA9IG9sZF9jcnRj
X3N0YXRlOwo+ICAJbWVtc2V0KHBpcGVfY29uZmlnLCAwLCBzaXplb2YoKnBpcGVfY29uZmlnKSk7
Cj4gIAlwaXBlX2NvbmZpZy0+dWFwaS5jcnRjID0gJmNydGMtPmJhc2U7Cj4gQEAgLTE0MDEwLDE0
ICsxNDA1MSwyNCBAQCBzdGF0aWMgaW50IGludGVsX2F0b21pY19jaGVjayhzdHJ1Y3QgZHJtX2Rl
dmljZSAqZGV2LAo+ICAKPiAgCWZvcl9lYWNoX29sZG5ld19pbnRlbF9jcnRjX2luX3N0YXRlKHN0
YXRlLCBjcnRjLCBvbGRfY3J0Y19zdGF0ZSwKPiAgCQkJCQkgICAgbmV3X2NydGNfc3RhdGUsIGkp
IHsKPiAtCQlpZiAoIW5lZWRzX21vZGVzZXQobmV3X2NydGNfc3RhdGUpKQo+ICsJCWlmICghbmVl
ZHNfbW9kZXNldChuZXdfY3J0Y19zdGF0ZSkpIHsKPiArCQkJLyogTGlnaHQgY29weSAqLwo+ICsJ
CQlpbnRlbF9jcnRjX2NvcHlfdWFwaV90b19od19zdGF0ZV9ub21vZGVzZXQobmV3X2NydGNfc3Rh
dGUpOwo+ICsKPiAgCQkJY29udGludWU7Cj4gKwkJfQo+ICAKPiAgCQlpZiAoIW5ld19jcnRjX3N0
YXRlLT51YXBpLmVuYWJsZSkgewo+ICsJCQlpbnRlbF9jcnRjX2NvcHlfdWFwaV90b19od19zdGF0
ZShuZXdfY3J0Y19zdGF0ZSk7Cj4gKwo+ICAJCQlhbnlfbXMgPSB0cnVlOwo+ICAJCQljb250aW51
ZTsKPiAgCQl9Cj4gIAo+ICsJCXJldCA9IGludGVsX2NydGNfcHJlcGFyZV9jbGVhcmVkX3N0YXRl
KG5ld19jcnRjX3N0YXRlKTsKPiArCQlpZiAocmV0KQo+ICsJCQlnb3RvIGZhaWw7Cj4gKwo+ICAJ
CXJldCA9IGludGVsX21vZGVzZXRfcGlwZV9jb25maWcobmV3X2NydGNfc3RhdGUpOwo+ICAJCWlm
IChyZXQpCj4gIAkJCWdvdG8gZmFpbDsKPiBAQCAtMTcyOTEsNiArMTczNDIsNyBAQCBzdGF0aWMg
dm9pZCBpbnRlbF9tb2Rlc2V0X3JlYWRvdXRfaHdfc3RhdGUoc3RydWN0IGRybV9kZXZpY2UgKmRl
dikKPiAgCQkJdG9faW50ZWxfY3J0Y19zdGF0ZShjcnRjLT5iYXNlLnN0YXRlKTsKPiAgCj4gIAkJ
X19kcm1fYXRvbWljX2hlbHBlcl9jcnRjX2Rlc3Ryb3lfc3RhdGUoJmNydGNfc3RhdGUtPnVhcGkp
Owo+ICsJCWludGVsX2NydGNfZnJlZV9od19zdGF0ZShjcnRjX3N0YXRlKTsKPiAgCQltZW1zZXQo
Y3J0Y19zdGF0ZSwgMCwgc2l6ZW9mKCpjcnRjX3N0YXRlKSk7Cj4gIAkJX19kcm1fYXRvbWljX2hl
bHBlcl9jcnRjX3Jlc2V0KCZjcnRjLT5iYXNlLCAmY3J0Y19zdGF0ZS0+dWFwaSk7Cj4gIAo+IEBA
IC0xNzQxOSw2ICsxNzQ3MSw3IEBAIHN0YXRpYyB2b2lkIGludGVsX21vZGVzZXRfcmVhZG91dF9o
d19zdGF0ZShzdHJ1Y3QgZHJtX2RldmljZSAqZGV2KQo+ICAJCQkgKiBzZXQgYSBmbGFnIHRvIGlu
ZGljYXRlIHRoYXQgYSBmdWxsIHJlY2FsY3VsYXRpb24gaXMKPiAgCQkJICogbmVlZGVkIG9uIHRo
ZSBuZXh0IGNvbW1pdC4KPiAgCQkJICovCj4gKwkJCWNydGNfc3RhdGUtPmh3Lm1vZGUgPSBjcnRj
LT5iYXNlLm1vZGU7Cj4gIAkJCWNydGNfc3RhdGUtPmh3Lm1vZGUucHJpdmF0ZV9mbGFncyA9IEk5
MTVfTU9ERV9GTEFHX0lOSEVSSVRFRDsKPiAgCj4gIAkJCWludGVsX2NydGNfY29tcHV0ZV9waXhl
bF9yYXRlKGNydGNfc3RhdGUpOwo+IEBAIC0xNzQ2Nyw2ICsxNzUyMCw3IEBAIHN0YXRpYyB2b2lk
IGludGVsX21vZGVzZXRfcmVhZG91dF9od19zdGF0ZShzdHJ1Y3QgZHJtX2RldmljZSAqZGV2KQo+
ICAKPiAgCQlpbnRlbF9id19jcnRjX3VwZGF0ZShid19zdGF0ZSwgY3J0Y19zdGF0ZSk7Cj4gIAo+
ICsJCWludGVsX2NydGNfY29weV9od190b191YXBpX3N0YXRlKGNydGNfc3RhdGUpOwo+ICAJCWlu
dGVsX3BpcGVfY29uZmlnX3Nhbml0eV9jaGVjayhkZXZfcHJpdiwgY3J0Y19zdGF0ZSk7Cj4gIAl9
Cj4gIH0KPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9k
aXNwbGF5X3R5cGVzLmggYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3Bs
YXlfdHlwZXMuaAo+IGluZGV4IDU3M2NlZDlkYzkwOS4uYmNmNWY3NjQwMzA3IDEwMDY0NAo+IC0t
LSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheV90eXBlcy5oCj4g
KysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5X3R5cGVzLmgK
PiBAQCAtNzU3LDggKzc1Nyw2IEBAIGVudW0gaW50ZWxfb3V0cHV0X2Zvcm1hdCB7Cj4gIH07Cj4g
IAo+ICBzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSB7Cj4gLQl1bmlvbiB7Cj4gLQlzdHJ1Y3QgZHJt
X2NydGNfc3RhdGUgYmFzZTsKPiAgCS8qCj4gIAkgKiB1YXBpIChkcm0pIHN0YXRlLiBUaGlzIGlz
IHRoZSBzb2Z0d2FyZSBzdGF0ZSBzaG93biB0byB1c2Vyc3BhY2UuCj4gIAkgKiBJbiBwYXJ0aWN1
bGFyLCB0aGUgZm9sbG93aW5nIG1lbWJlcnMgYXJlIHVzZWQgZm9yIGJvb2trZWVwaW5nOgo+IEBA
IC03ODEsOCArNzc5LDExIEBAIHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlIHsKPiAgCSAqCj4gIAkg
KiBEdXJpbmcgaW5pdGlhbCBodyByZWFkb3V0LCB0aGV5IG5lZWQgdG8gYmUgY29waWVkIHRvIHVh
cGkuCj4gIAkgKi8KPiAtCXN0cnVjdCBkcm1fY3J0Y19zdGF0ZSBodzsKPiAtCX07Cj4gKwlzdHJ1
Y3Qgewo+ICsJCWJvb2wgYWN0aXZlLCBlbmFibGU7Cj4gKwkJc3RydWN0IGRybV9wcm9wZXJ0eV9i
bG9iICpkZWdhbW1hX2x1dCwgKmdhbW1hX2x1dCwgKmN0bTsKPiArCQlzdHJ1Y3QgZHJtX2Rpc3Bs
YXlfbW9kZSBtb2RlLCBhZGp1c3RlZF9tb2RlOwo+ICsJfSBodzsKPiAgCj4gIAkvKioKPiAgCSAq
IHF1aXJrcyAtIGJpdGZpZWxkIHdpdGggaHcgc3RhdGUgcmVhZG91dCBxdWlya3MKPiAtLSAKPiAy
LjIzLjAKPiAKPiBfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
Xwo+IEludGVsLWdmeCBtYWlsaW5nIGxpc3QKPiBJbnRlbC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Au
b3JnCj4gaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9pbnRl
bC1nZngKCi0tIApWaWxsZSBTeXJqw6Rsw6QKSW50ZWwKX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX18KSW50ZWwtZ2Z4IG1haWxpbmcgbGlzdApJbnRlbC1nZnhA
bGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxt
YW4vbGlzdGluZm8vaW50ZWwtZ2Z4

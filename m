Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id EA0651066C6
	for <lists+intel-gfx@lfdr.de>; Fri, 22 Nov 2019 08:02:44 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 5AE7B6E0E1;
	Fri, 22 Nov 2019 07:02:43 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from fireflyinternet.com (mail.fireflyinternet.com [109.228.58.192])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 1B86A6E0E1
 for <intel-gfx@lists.freedesktop.org>; Fri, 22 Nov 2019 07:02:41 +0000 (UTC)
X-Default-Received-SPF: pass (skip=forwardok (res=PASS))
 x-ip-name=78.156.65.138; 
Received: from haswell.alporthouse.com (unverified [78.156.65.138]) 
 by fireflyinternet.com (Firefly Internet (M1)) with ESMTP id 19295157-1500050 
 for <intel-gfx@lists.freedesktop.org>; Fri, 22 Nov 2019 07:02:40 +0000
From: Chris Wilson <chris@chris-wilson.co.uk>
To: intel-gfx@lists.freedesktop.org
Date: Fri, 22 Nov 2019 07:02:38 +0000
Message-Id: <20191122070238.576748-1-chris@chris-wilson.co.uk>
X-Mailer: git-send-email 2.24.0
MIME-Version: 1.0
Subject: [Intel-gfx] [CI] drm/i915: Use a ctor for TYPESAFE_BY_RCU
 i915_request
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

QXMgd2Ugc3RhcnQgcGVla2luZyBpbnRvIHJlcXVlc3RzIGZvciBsb25nZXIgYW5kIGxvbmdlciwg
ZS5nLgppbmNvcnBvcmF0aW5nIHVzZSBvZiBzcGlubG9ja3Mgd2hlbiBvbmx5IHByb3RlY3RlZCBi
eSBhbgpyY3VfcmVhZF9sb2NrKCksIHdlIG5lZWQgdG8gYmUgY2FyZWZ1bCBpbiBob3cgd2UgcmVz
ZXQgdGhlIHJlcXVlc3Qgd2hlbgpyZWN5Y2xpbmcgYW5kIG5lZWQgdG8gcHJlc2VydmUgYW55IGJh
cnJpZXJzIHRoYXQgbWF5IHN0aWxsIGJlIGluIHVzZSBhcwp0aGUgcmVxdWVzdCBpcyByZXNldCBm
b3IgcmV1c2UuCgpRdW90aW5nIExpbnVzIFRvcnZhbGRzOgoKPiBJZiB0aGVyZSBpcyByZWZjb3Vu
dGluZyBnb2luZyBvbiB0aGVuIHdoeSB1c2UgU0xBQl9UWVBFU0FGRV9CWV9SQ1U/CgogIC4uIGJl
Y2F1c2UgdGhlIG9iamVjdCBjYW4gYmUgYWNjZXNzZWQgKGJ5IFJDVSkgYWZ0ZXIgdGhlIHJlZmNv
dW50IGhhcwogIGdvbmUgZG93biB0byB6ZXJvLCBhbmQgdGhlIHRoaW5nIGhhcyBiZWVuIHJlbGVh
c2VkLgoKICBUaGF0J3MgdGhlIHdob2xlIGFuZCBvbmx5IHBvaW50IG9mIFNMQUJfVFlQRVNBRkVf
QllfUkNVLgoKICBUaGF0IGZsYWcgYmFzaWNhbGx5IHNheXM6CgogICJJIG1heSBlbmQgdXAgYWNj
ZXNzaW5nIHRoaXMgb2JqZWN0ICphZnRlciogaXQgaGFzIGJlZW4gZnJlZSdkLAogIGJlY2F1c2Ug
dGhlcmUgbWF5IGJlIFJDVSBsb29rdXBzIGluIGZsaWdodCIKCiAgVGhpcyBoYXMgbm90aGluZyB0
byBkbyB3aXRoIGNvbnN0cnVjdG9ycy4gSXQncyBvayBpZiB0aGUgb2JqZWN0IGdldHMKICByZXVz
ZWQgYXMgYW4gb2JqZWN0IG9mIHRoZSBzYW1lIHR5cGUgYW5kIGRvZXMgKm5vdCogZ2V0CiAgcmUt
aW5pdGlhbGl6ZWQsIGJlY2F1c2Ugd2UncmUgcGVyZmVjdGx5IGZpbmUgc2VlaW5nIG9sZCBzdGFs
ZSBkYXRhLgoKICBXaGF0IGl0IGd1YXJhbnRlZXMgaXMgdGhhdCB0aGUgc2xhYiBpc24ndCBzaGFy
ZWQgd2l0aCBhbnkgb3RoZXIga2luZAogIG9mIG9iamVjdCwgX2FuZF8gdGhhdCB0aGUgdW5kZXJs
eWluZyBwYWdlcyBhcmUgZnJlZSdkIGFmdGVyIGFuIFJDVQogIHF1aWVzY2VudCBwZXJpb2QgKHNv
IHRoZSBwYWdlcyBhcmVuJ3Qgc2hhcmVkIHdpdGggYW5vdGhlciBraW5kIG9mCiAgb2JqZWN0IGVp
dGhlciBkdXJpbmcgYW4gUkNVIHdhbGspLgoKICBBbmQgaXQgZG9lc24ndCBuZWNlc3NhcmlseSBo
YXZlIHRvIGhhdmUgYSBjb25zdHJ1Y3RvciwgYmVjYXVzZSB0aGUKICB0aGluZyB0aGF0IGEgUkNV
IHdhbGsgd2lsbCBjYXJlIGFib3V0IGlzCgogICAgKGEpIGd1YXJhbnRlZWQgdG8gYmUgYW4gb2Jq
ZWN0IHRoYXQgKmhhcyogYmVlbiBvbiBzb21lIFJDVSBsaXN0IChzbwogICAgaXQncyBub3QgYSAi
bmV3IiBvYmplY3QpCgogICAgKGIpIHRoZSBSQ1Ugd2FsayBuZWVkcyB0byBoYXZlIGxvZ2ljIHRv
IHZlcmlmeSB0aGF0IGl0J3Mgc3RpbGwgdGhlCiAgICAqc2FtZSogb2JqZWN0IGFuZCBoYXNuJ3Qg
YmVlbiByZS11c2VkIGFzIHNvbWV0aGluZyBlbHNlLgoKICBJbiBjb250cmFzdCwgYSBTTEFCX1RZ
UEVTQUZFX0JZX1JDVSBtZW1vcnkgZ2V0cyBmcmVlJ2QgYW5kIHJlLXVzZWQKICBpbW1lZGlhdGVs
eSwgYnV0IGJlY2F1c2UgaXQgZ2V0cyByZXVzZWQgYXMgdGhlIHNhbWUga2luZCBvZiBvYmplY3Qs
CiAgdGhlIFJDVSB3YWxrZXIgY2FuICJrbm93IiB3aGF0IHBhcnRzIGhhdmUgbWVhbmluZyBmb3Ig
cmUtdXNlLCBpbiBhIHdheQogIGl0IGNvdWlkbid0IGlmIHRoZSByZS11c2Ugd2FzIHJhbmRvbS4K
CiAgVGhhdCBzYWlkLCBpdCAqaXMqIHN1YnRsZSwgYW5kIHBlb3BsZSBzaG91bGQgYmUgY2FyZWZ1
bC4KCj4gU28gdGhlIHJlLXVzZSBtaWdodCBpbml0aWFsaXplIHRoZSBmaWVsZHMgbGF6aWx5LCBu
b3QgbmVjZXNzYXJpbHkgdXNpbmcgYSBjdG9yLgoKICBJZiB5b3UgaGF2ZSBhIHdlbGwtZGVmaW5l
ZCByZWZjb3VudCwgYW5kIHVzZSAiYXRvbWljX2luY19ub3RfemVybygpIgogIHRvIGd1YXJkIHRo
ZSBzcGVjdWxhdGl2ZSBSQ1UgYWNjZXNzIHNlY3Rpb24sIGFuZCB1c2UKICAiYXRvbWljX2RlY19h
bmRfdGVzdCgpIiBpbiB0aGUgZnJlZWluZyBzZWN0aW9uLCB0aGVuIHlvdSBzaG91bGQgYmUKICBz
YWZlIHdydCBuZXcgYWxsb2NhdGlvbnMuCgogIElmIHlvdSBoYXZlIGEgY29tcGxldGVseSBuZXcg
YWxsb2NhdGlvbiB0aGF0IGhhcyAicmFuZG9tIHN0YWxlCiAgY29udGVudCIsIHlvdSBrbm93IHRo
YXQgaXQgY2Fubm90IGJlIG9uIHRoZSBSQ1UgbGlzdCwgc28gdGhlcmUgaXMgbm8KICBzcGVjdWxh
dGl2ZSBhY2Nlc3MgdGhhdCBjYW4gZXZlciBzZWUgdGhhdCByYW5kb20gY29udGVudC4KCiAgU28g
dGhlIG9ubHkgY2FzZSB5b3UgbmVlZCB0byB3b3JyeSBhYm91dCBpcyBhIHJlLXVzZSBhbGxvY2F0
aW9uLCBhbmQKICB5b3Uga25vdyB0aGF0IHRoZSByZWZjb3VudCB3aWxsIHN0YXJ0IG91dCBhcyB6
ZXJvIGV2ZW4gaWYgeW91IGRvbid0CiAgaGF2ZSBhIGNvbnN0cnVjdG9yLgoKICBTbyB5b3UgY2Fu
IHRoaW5rIG9mIHRoZSByZWZjb3VudCBpdHNlbGYgYXMgYWx3YXlzIGhhdmluZyBhIHplcm8KICBj
b25zdHJ1Y3RvciwgKkJVVCogeW91IG5lZWQgdG8gYmUgY2FyZWZ1bCB3aXRoIG9yZGVyaW5nLgoK
ICBJbiBwYXJ0aWN1bGFyLCB3aG9ldmVyIGRvZXMgdGhlIGFsbG9jYXRpb24gbmVlZHMgdG8gdGhl
biBzZXQgdGhlCiAgcmVmY291bnQgdG8gYSBub24temVybyB2YWx1ZSAqYWZ0ZXIqIGl0IGhhcyBp
bml0aWFsaXplZCBhbGwgdGhlIG90aGVyCiAgZmllbGRzLiBBbmQgaW4gcGFydGljdWxhciwgaXQg
bmVlZHMgdG8gbWFrZSBzdXJlIHRoYXQgaXQgdXNlcyB0aGUKICBwcm9wZXIgbWVtb3J5IG9yZGVy
aW5nIHRvIGRvIHNvLgoKICBOT1RFISBPbmUgdGhpbmcgdG8gYmUgdmVyeSB3b3JyaWVkIGFib3V0
IGlzIHRoYXQgcmUtaW5pdGlhbGl6aW5nCiAgd2hhdGV2ZXIgUkNVIGxpc3RzIG1lYW5zIHRoYXQg
bm93IHRoZSBSQ1Ugd2Fsa2VyIG1heSBiZSB3YWxraW5nIG9uIHRoZQogIHdyb25nIGxpc3Qgc28g
dGhlIHdhbGtlciBtYXkgZG8gdGhlIHJpZ2h0IHRoaW5nIGZvciB0aGlzIHBhcnRpY3VsYXIKICBl
bnRyeSwgYnV0IGl0IG1heSBtaXNzIHdhbGtpbmcgKm90aGVyKiBlbnRyaWVzLiBTbyB0aGVuIHlv
dSBjYW4gZ2V0CiAgc3B1cmlvdXMgbG9va3VwIGZhaWx1cmVzLCBiZWNhdXNlIHRoZSBSQ1Ugd2Fs
a2VyIG5ldmVyIHdhbGtlZCBhbGwgdGhlCiAgd2F5IHRvIHRoZSBlbmQgb2YgdGhlIHJpZ2h0IGxp
c3QuIFRoYXQgZW5kcyB1cCBiZWluZyBhIG11Y2ggbW9yZQogIHN1YnRsZSBidWcuCgpTaWduZWQt
b2ZmLWJ5OiBDaHJpcyBXaWxzb24gPGNocmlzQGNocmlzLXdpbHNvbi5jby51az4KQ2M6IFR2cnRr
byBVcnN1bGluIDx0dnJ0a28udXJzdWxpbkBpbnRlbC5jb20+Ci0tLQogZHJpdmVycy9ncHUvZHJt
L2k5MTUvaTkxNV9yZXF1ZXN0LmMgICB8IDQ5ICsrKysrKysrKysrKysrKysrKy0tLS0tLS0tLQog
ZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9zY2hlZHVsZXIuYyB8ICA2ICsrKysKIGRyaXZlcnMv
Z3B1L2RybS9pOTE1L2k5MTVfc2NoZWR1bGVyLmggfCAgMSArCiBkcml2ZXJzL2dwdS9kcm0vaTkx
NS9pOTE1X3N3X2ZlbmNlLmMgIHwgIDggKysrKysKIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVf
c3dfZmVuY2UuaCAgfCAgMiArKwogNSBmaWxlcyBjaGFuZ2VkLCA1MCBpbnNlcnRpb25zKCspLCAx
NiBkZWxldGlvbnMoLSkKCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3Jl
cXVlc3QuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfcmVxdWVzdC5jCmluZGV4IDAwMDEx
Zjk1MzNiNi4uYTU1OGY2NDE4NmZhIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9p
OTE1X3JlcXVlc3QuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3JlcXVlc3QuYwpA
QCAtMTg4LDcgKzE4OCw3IEBAIHN0YXRpYyB2b2lkIGZyZWVfY2FwdHVyZV9saXN0KHN0cnVjdCBp
OTE1X3JlcXVlc3QgKnJlcXVlc3QpCiB7CiAJc3RydWN0IGk5MTVfY2FwdHVyZV9saXN0ICpjYXB0
dXJlOwogCi0JY2FwdHVyZSA9IHJlcXVlc3QtPmNhcHR1cmVfbGlzdDsKKwljYXB0dXJlID0gZmV0
Y2hfYW5kX3plcm8oJnJlcXVlc3QtPmNhcHR1cmVfbGlzdCk7CiAJd2hpbGUgKGNhcHR1cmUpIHsK
IAkJc3RydWN0IGk5MTVfY2FwdHVyZV9saXN0ICpuZXh0ID0gY2FwdHVyZS0+bmV4dDsKIApAQCAt
MjE0LDcgKzIxNCw3IEBAIHN0YXRpYyB2b2lkIHJlbW92ZV9mcm9tX2VuZ2luZShzdHJ1Y3QgaTkx
NV9yZXF1ZXN0ICpycSkKIAkJc3Bpbl9sb2NrKCZlbmdpbmUtPmFjdGl2ZS5sb2NrKTsKIAkJbG9j
a2VkID0gZW5naW5lOwogCX0KLQlsaXN0X2RlbCgmcnEtPnNjaGVkLmxpbmspOworCWxpc3RfZGVs
X2luaXQoJnJxLT5zY2hlZC5saW5rKTsKIAlzcGluX3VubG9ja19pcnEoJmxvY2tlZC0+YWN0aXZl
LmxvY2spOwogfQogCkBAIC01ODYsNiArNTg2LDIxIEBAIHJlcXVlc3RfYWxsb2Nfc2xvdyhzdHJ1
Y3QgaW50ZWxfdGltZWxpbmUgKnRsLCBnZnBfdCBnZnApCiAJcmV0dXJuIGttZW1fY2FjaGVfYWxs
b2MoZ2xvYmFsLnNsYWJfcmVxdWVzdHMsIGdmcCk7CiB9CiAKK3N0YXRpYyB2b2lkIF9faTkxNV9y
ZXF1ZXN0X2N0b3Iodm9pZCAqYXJnKQoreworCXN0cnVjdCBpOTE1X3JlcXVlc3QgKnJxID0gYXJn
OworCisJc3Bpbl9sb2NrX2luaXQoJnJxLT5sb2NrKTsKKwlpOTE1X3NjaGVkX25vZGVfaW5pdCgm
cnEtPnNjaGVkKTsKKwlpOTE1X3N3X2ZlbmNlX2luaXQoJnJxLT5zdWJtaXQsIHN1Ym1pdF9ub3Rp
ZnkpOworCWk5MTVfc3dfZmVuY2VfaW5pdCgmcnEtPnNlbWFwaG9yZSwgc2VtYXBob3JlX25vdGlm
eSk7CisKKwlycS0+ZmlsZV9wcml2ID0gTlVMTDsKKwlycS0+Y2FwdHVyZV9saXN0ID0gTlVMTDsK
KworCUlOSVRfTElTVF9IRUFEKCZycS0+ZXhlY3V0ZV9jYik7Cit9CisKIHN0cnVjdCBpOTE1X3Jl
cXVlc3QgKgogX19pOTE1X3JlcXVlc3RfY3JlYXRlKHN0cnVjdCBpbnRlbF9jb250ZXh0ICpjZSwg
Z2ZwX3QgZ2ZwKQogewpAQCAtNjQ4LDYgKzY2Myw3IEBAIF9faTkxNV9yZXF1ZXN0X2NyZWF0ZShz
dHJ1Y3QgaW50ZWxfY29udGV4dCAqY2UsIGdmcF90IGdmcCkKIAlycS0+ZW5naW5lID0gY2UtPmVu
Z2luZTsKIAlycS0+cmluZyA9IGNlLT5yaW5nOwogCXJxLT5leGVjdXRpb25fbWFzayA9IGNlLT5l
bmdpbmUtPm1hc2s7CisJcnEtPmZsYWdzID0gMDsKIAogCXJjdV9hc3NpZ25fcG9pbnRlcihycS0+
dGltZWxpbmUsIHRsKTsKIAlycS0+aHdzcF9zZXFubyA9IHRsLT5od3NwX3NlcW5vOwpAQCAtNjU1
LDIzICs2NzEsMjAgQEAgX19pOTE1X3JlcXVlc3RfY3JlYXRlKHN0cnVjdCBpbnRlbF9jb250ZXh0
ICpjZSwgZ2ZwX3QgZ2ZwKQogCiAJcnEtPnJjdXN0YXRlID0gZ2V0X3N0YXRlX3N5bmNocm9uaXpl
X3JjdSgpOyAvKiBhY3RzIGFzIHNtcF9tYigpICovCiAKLQlzcGluX2xvY2tfaW5pdCgmcnEtPmxv
Y2spOwogCWRtYV9mZW5jZV9pbml0KCZycS0+ZmVuY2UsICZpOTE1X2ZlbmNlX29wcywgJnJxLT5s
b2NrLAogCQkgICAgICAgdGwtPmZlbmNlX2NvbnRleHQsIHNlcW5vKTsKIAogCS8qIFdlIGJ1bXAg
dGhlIHJlZiBmb3IgdGhlIGZlbmNlIGNoYWluICovCi0JaTkxNV9zd19mZW5jZV9pbml0KCZpOTE1
X3JlcXVlc3RfZ2V0KHJxKS0+c3VibWl0LCBzdWJtaXRfbm90aWZ5KTsKLQlpOTE1X3N3X2ZlbmNl
X2luaXQoJmk5MTVfcmVxdWVzdF9nZXQocnEpLT5zZW1hcGhvcmUsIHNlbWFwaG9yZV9ub3RpZnkp
OworCWk5MTVfc3dfZmVuY2VfcmVpbml0KCZpOTE1X3JlcXVlc3RfZ2V0KHJxKS0+c3VibWl0KTsK
KwlpOTE1X3N3X2ZlbmNlX3JlaW5pdCgmaTkxNV9yZXF1ZXN0X2dldChycSktPnNlbWFwaG9yZSk7
CiAKLQlpOTE1X3NjaGVkX25vZGVfaW5pdCgmcnEtPnNjaGVkKTsKKwlpOTE1X3NjaGVkX25vZGVf
cmVpbml0KCZycS0+c2NoZWQpOwogCi0JLyogTm8gemFsbG9jLCBtdXN0IGNsZWFyIHdoYXQgd2Ug
bmVlZCBieSBoYW5kICovCi0JcnEtPmZpbGVfcHJpdiA9IE5VTEw7CisJLyogTm8gemFsbG9jLCBl
dmVyeXRoaW5nIG11c3QgYmUgY2xlYXJlZCBhZnRlciB1c2UgKi8KIAlycS0+YmF0Y2ggPSBOVUxM
OwotCXJxLT5jYXB0dXJlX2xpc3QgPSBOVUxMOwotCXJxLT5mbGFncyA9IDA7Ci0KLQlJTklUX0xJ
U1RfSEVBRCgmcnEtPmV4ZWN1dGVfY2IpOworCUdFTV9CVUdfT04ocnEtPmZpbGVfcHJpdik7CisJ
R0VNX0JVR19PTihycS0+Y2FwdHVyZV9saXN0KTsKKwlHRU1fQlVHX09OKCFsaXN0X2VtcHR5KCZy
cS0+ZXhlY3V0ZV9jYikpOwogCiAJLyoKIAkgKiBSZXNlcnZlIHNwYWNlIGluIHRoZSByaW5nIGJ1
ZmZlciBmb3IgYWxsIHRoZSBjb21tYW5kcyByZXF1aXJlZCB0bwpAQCAtMTUzMywxMCArMTU0Niwx
NCBAQCBzdGF0aWMgc3RydWN0IGk5MTVfZ2xvYmFsX3JlcXVlc3QgZ2xvYmFsID0geyB7CiAKIGlu
dCBfX2luaXQgaTkxNV9nbG9iYWxfcmVxdWVzdF9pbml0KHZvaWQpCiB7Ci0JZ2xvYmFsLnNsYWJf
cmVxdWVzdHMgPSBLTUVNX0NBQ0hFKGk5MTVfcmVxdWVzdCwKLQkJCQkJICBTTEFCX0hXQ0FDSEVf
QUxJR04gfAotCQkJCQkgIFNMQUJfUkVDTEFJTV9BQ0NPVU5UIHwKLQkJCQkJICBTTEFCX1RZUEVT
QUZFX0JZX1JDVSk7CisJZ2xvYmFsLnNsYWJfcmVxdWVzdHMgPQorCQlrbWVtX2NhY2hlX2NyZWF0
ZSgiaTkxNV9yZXF1ZXN0IiwKKwkJCQkgIHNpemVvZihzdHJ1Y3QgaTkxNV9yZXF1ZXN0KSwKKwkJ
CQkgIF9fYWxpZ25vZl9fKHN0cnVjdCBpOTE1X3JlcXVlc3QpLAorCQkJCSAgU0xBQl9IV0NBQ0hF
X0FMSUdOIHwKKwkJCQkgIFNMQUJfUkVDTEFJTV9BQ0NPVU5UIHwKKwkJCQkgIFNMQUJfVFlQRVNB
RkVfQllfUkNVLAorCQkJCSAgX19pOTE1X3JlcXVlc3RfY3Rvcik7CiAJaWYgKCFnbG9iYWwuc2xh
Yl9yZXF1ZXN0cykKIAkJcmV0dXJuIC1FTk9NRU07CiAKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1
L2RybS9pOTE1L2k5MTVfc2NoZWR1bGVyLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3Nj
aGVkdWxlci5jCmluZGV4IDE5NDI0NjU0OGM0ZC4uYTVhNmRiZTZhNTNjIDEwMDY0NAotLS0gYS9k
cml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3NjaGVkdWxlci5jCisrKyBiL2RyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2k5MTVfc2NoZWR1bGVyLmMKQEAgLTM4Nyw2ICszODcsMTAgQEAgdm9pZCBpOTE1X3Nj
aGVkX25vZGVfaW5pdChzdHJ1Y3QgaTkxNV9zY2hlZF9ub2RlICpub2RlKQogCUlOSVRfTElTVF9I
RUFEKCZub2RlLT5zaWduYWxlcnNfbGlzdCk7CiAJSU5JVF9MSVNUX0hFQUQoJm5vZGUtPndhaXRl
cnNfbGlzdCk7CiAJSU5JVF9MSVNUX0hFQUQoJm5vZGUtPmxpbmspOworfQorCit2b2lkIGk5MTVf
c2NoZWRfbm9kZV9yZWluaXQoc3RydWN0IGk5MTVfc2NoZWRfbm9kZSAqbm9kZSkKK3sKIAlub2Rl
LT5hdHRyLnByaW9yaXR5ID0gSTkxNV9QUklPUklUWV9JTlZBTElEOwogCW5vZGUtPnNlbWFwaG9y
ZXMgPSAwOwogCW5vZGUtPmZsYWdzID0gMDsKQEAgLTQ4MSw2ICs0ODUsNyBAQCB2b2lkIGk5MTVf
c2NoZWRfbm9kZV9maW5pKHN0cnVjdCBpOTE1X3NjaGVkX25vZGUgKm5vZGUpCiAJCWlmIChkZXAt
PmZsYWdzICYgSTkxNV9ERVBFTkRFTkNZX0FMTE9DKQogCQkJaTkxNV9kZXBlbmRlbmN5X2ZyZWUo
ZGVwKTsKIAl9CisJSU5JVF9MSVNUX0hFQUQoJm5vZGUtPnNpZ25hbGVyc19saXN0KTsKIAogCS8q
IFJlbW92ZSBvdXJzZWx2ZXMgZnJvbSBldmVyeW9uZSB3aG8gZGVwZW5kcyB1cG9uIHVzICovCiAJ
bGlzdF9mb3JfZWFjaF9lbnRyeV9zYWZlKGRlcCwgdG1wLCAmbm9kZS0+d2FpdGVyc19saXN0LCB3
YWl0X2xpbmspIHsKQEAgLTQ5MSw2ICs0OTYsNyBAQCB2b2lkIGk5MTVfc2NoZWRfbm9kZV9maW5p
KHN0cnVjdCBpOTE1X3NjaGVkX25vZGUgKm5vZGUpCiAJCWlmIChkZXAtPmZsYWdzICYgSTkxNV9E
RVBFTkRFTkNZX0FMTE9DKQogCQkJaTkxNV9kZXBlbmRlbmN5X2ZyZWUoZGVwKTsKIAl9CisJSU5J
VF9MSVNUX0hFQUQoJm5vZGUtPndhaXRlcnNfbGlzdCk7CiAKIAlzcGluX3VubG9ja19pcnEoJnNj
aGVkdWxlX2xvY2spOwogfQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9z
Y2hlZHVsZXIuaCBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfc2NoZWR1bGVyLmgKaW5kZXgg
MDdkMjQzYWNmNTUzLi5kMWRjNGVmZWY3N2IgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9p
OTE1L2k5MTVfc2NoZWR1bGVyLmgKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9zY2hl
ZHVsZXIuaApAQCAtMjYsNiArMjYsNyBAQAogCQkJCQkgc2NoZWQubGluaykKIAogdm9pZCBpOTE1
X3NjaGVkX25vZGVfaW5pdChzdHJ1Y3QgaTkxNV9zY2hlZF9ub2RlICpub2RlKTsKK3ZvaWQgaTkx
NV9zY2hlZF9ub2RlX3JlaW5pdChzdHJ1Y3QgaTkxNV9zY2hlZF9ub2RlICpub2RlKTsKIAogYm9v
bCBfX2k5MTVfc2NoZWRfbm9kZV9hZGRfZGVwZW5kZW5jeShzdHJ1Y3QgaTkxNV9zY2hlZF9ub2Rl
ICpub2RlLAogCQkJCSAgICAgIHN0cnVjdCBpOTE1X3NjaGVkX25vZGUgKnNpZ25hbCwKZGlmZiAt
LWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfc3dfZmVuY2UuYyBiL2RyaXZlcnMvZ3B1
L2RybS9pOTE1L2k5MTVfc3dfZmVuY2UuYwppbmRleCA2YTg4ZGIyOTEyNTIuLmVhY2M2YzVjZTBm
ZCAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9zd19mZW5jZS5jCisrKyBi
L2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfc3dfZmVuY2UuYwpAQCAtMjI3LDYgKzIyNywxNCBA
QCB2b2lkIF9faTkxNV9zd19mZW5jZV9pbml0KHN0cnVjdCBpOTE1X3N3X2ZlbmNlICpmZW5jZSwK
IAlmZW5jZS0+ZmxhZ3MgPSAodW5zaWduZWQgbG9uZylmbjsKIH0KIAordm9pZCBpOTE1X3N3X2Zl
bmNlX3JlaW5pdChzdHJ1Y3QgaTkxNV9zd19mZW5jZSAqZmVuY2UpCit7CisJZGVidWdfZmVuY2Vf
aW5pdChmZW5jZSk7CisKKwlhdG9taWNfc2V0KCZmZW5jZS0+cGVuZGluZywgMSk7CisJZmVuY2Ut
PmVycm9yID0gMDsKK30KKwogdm9pZCBpOTE1X3N3X2ZlbmNlX2NvbW1pdChzdHJ1Y3QgaTkxNV9z
d19mZW5jZSAqZmVuY2UpCiB7CiAJZGVidWdfZmVuY2VfYWN0aXZhdGUoZmVuY2UpOwpkaWZmIC0t
Z2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9zd19mZW5jZS5oIGIvZHJpdmVycy9ncHUv
ZHJtL2k5MTUvaTkxNV9zd19mZW5jZS5oCmluZGV4IGFiN2Q1OGJkMGI5ZC4uMWU5MGQ5YTUxYmQy
IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3N3X2ZlbmNlLmgKKysrIGIv
ZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9zd19mZW5jZS5oCkBAIC01NCw2ICs1NCw4IEBAIGRv
IHsJCQkJCQkJCVwKIAlfX2k5MTVfc3dfZmVuY2VfaW5pdCgoZmVuY2UpLCAoZm4pLCBOVUxMLCBO
VUxMKQogI2VuZGlmCiAKK3ZvaWQgaTkxNV9zd19mZW5jZV9yZWluaXQoc3RydWN0IGk5MTVfc3df
ZmVuY2UgKmZlbmNlKTsKKwogI2lmZGVmIENPTkZJR19EUk1fSTkxNV9TV19GRU5DRV9ERUJVR19P
QkpFQ1RTCiB2b2lkIGk5MTVfc3dfZmVuY2VfZmluaShzdHJ1Y3QgaTkxNV9zd19mZW5jZSAqZmVu
Y2UpOwogI2Vsc2UKLS0gCjIuMjQuMAoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX18KSW50ZWwtZ2Z4IG1haWxpbmcgbGlzdApJbnRlbC1nZnhAbGlzdHMuZnJl
ZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGlu
Zm8vaW50ZWwtZ2Z4

Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id ACAC1B965C
	for <lists+intel-gfx@lfdr.de>; Fri, 20 Sep 2019 19:11:07 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id D991F6FD75;
	Fri, 20 Sep 2019 17:11:05 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga07.intel.com (mga07.intel.com [134.134.136.100])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 098246FD75
 for <intel-gfx@lists.freedesktop.org>; Fri, 20 Sep 2019 17:11:04 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from fmsmga008.fm.intel.com ([10.253.24.58])
 by orsmga105.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 20 Sep 2019 10:11:04 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.64,529,1559545200"; d="scan'208";a="187175812"
Received: from rmfosha-dev-1.fm.intel.com ([10.19.83.123])
 by fmsmga008.fm.intel.com with ESMTP; 20 Sep 2019 10:11:04 -0700
From: "Robert M. Fosha" <robert.m.fosha@intel.com>
To: intel-gfx@lists.freedesktop.org
Date: Fri, 20 Sep 2019 10:04:43 -0700
Message-Id: <20190920170444.10192-1-robert.m.fosha@intel.com>
X-Mailer: git-send-email 2.21.0.5.gaeb582a983
MIME-Version: 1.0
Subject: [Intel-gfx] [CI 1/2] drm/i915/guc: Enable guc logging on guc log
 relay write
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

Q3JlYXRpbmcgYW5kIG9wZW5pbmcgdGhlIEd1QyBsb2cgcmVsYXkgZmlsZSBlbmFibGVzIGFuZCBz
dGFydHMKdGhlIHJlbGF5IHBvdGVudGlhbGx5IGJlZm9yZSB0aGUgY2FsbGVyIGlzIHJlYWR5IHRv
IGNvbnN1bWUgbG9ncy4KQ2hhbmdlIHRoZSBiZWhhdmlvciBzbyB0aGF0IHJlbGF5IHN0YXJ0cyBv
bmx5IG9uIGFuIGV4cGxpY2l0IGNhbGwKdG8gdGhlIHdyaXRlIGZ1bmN0aW9uICh3aXRoIGEgdmFs
dWUgb2YgJzEnKS4gT3RoZXIgdmFsdWVzIGZsdXNoCnRoZSBsb2cgcmVsYXkgYXMgYmVmb3JlLgoK
djI6IFN0eWxlIGNoYW5nZXMgYW5kIGZpeCB0eXBvcy4gQWRkIGd1Y19sb2dfcmVsYXlfc3RvcCgp
CmZ1bmN0aW9uLiAoRGFuaWVsZSkKCkNjOiBNYXR0aGV3IEJyb3N0IDxtYXR0aGV3LmJyb3N0QGlu
dGVsLmNvbT4KQ2M6IERhbmllbGUgQ2VyYW9sbyBTcHVyaW8gPGRhbmllbGUuY2VyYW9sb3NwdXJp
b0BpbnRlbC5jb20+CkNjOiBNaWNoYWwgV2FqZGVjemtvIDxtaWNoYWwud2FqZGVjemtvQGludGVs
LmNvbT4KU2lnbmVkLW9mZi1ieTogUm9iZXJ0IE0uIEZvc2hhIDxyb2JlcnQubS5mb3NoYUBpbnRl
bC5jb20+ClJldmlld2VkLWJ5OiBNYXR0aGV3IEJyb3N0IDxtYXR0aGV3LmJyb3N0QGludGVsLmNv
bT4KLS0tCiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC91Yy9pbnRlbF9ndWNfbG9nLmMgfCA1MyAr
KysrKysrKysrKysrKysrKy0tLS0tCiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC91Yy9pbnRlbF9n
dWNfbG9nLmggfCAgNCArLQogZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kZWJ1Z2ZzLmMgICAg
ICAgIHwgMjIgKysrKysrKy0tCiAzIGZpbGVzIGNoYW5nZWQsIDYyIGluc2VydGlvbnMoKyksIDE3
IGRlbGV0aW9ucygtKQoKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L3VjL2lu
dGVsX2d1Y19sb2cuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L3VjL2ludGVsX2d1Y19sb2cu
YwppbmRleCAzNjMzMjA2NGRlOWMuLmUyNmM3NzQ4MzU4YiAxMDA2NDQKLS0tIGEvZHJpdmVycy9n
cHUvZHJtL2k5MTUvZ3QvdWMvaW50ZWxfZ3VjX2xvZy5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9p
OTE1L2d0L3VjL2ludGVsX2d1Y19sb2cuYwpAQCAtMjI2LDcgKzIyNiw3IEBAIHN0YXRpYyB2b2lk
IGd1Y19yZWFkX3VwZGF0ZV9sb2dfYnVmZmVyKHN0cnVjdCBpbnRlbF9ndWNfbG9nICpsb2cpCiAK
IAltdXRleF9sb2NrKCZsb2ctPnJlbGF5LmxvY2spOwogCi0JaWYgKFdBUk5fT04oIWludGVsX2d1
Y19sb2dfcmVsYXlfZW5hYmxlZChsb2cpKSkKKwlpZiAoV0FSTl9PTighaW50ZWxfZ3VjX2xvZ19y
ZWxheV9jcmVhdGVkKGxvZykpKQogCQlnb3RvIG91dF91bmxvY2s7CiAKIAkvKiBHZXQgdGhlIHBv
aW50ZXIgdG8gc2hhcmVkIEd1QyBsb2cgYnVmZmVyICovCkBAIC0zNjEsNiArMzYxLDcgQEAgdm9p
ZCBpbnRlbF9ndWNfbG9nX2luaXRfZWFybHkoc3RydWN0IGludGVsX2d1Y19sb2cgKmxvZykKIHsK
IAltdXRleF9pbml0KCZsb2ctPnJlbGF5LmxvY2spOwogCUlOSVRfV09SSygmbG9nLT5yZWxheS5m
bHVzaF93b3JrLCBjYXB0dXJlX2xvZ3Nfd29yayk7CisJbG9nLT5yZWxheS5zdGFydGVkID0gZmFs
c2U7CiB9CiAKIHN0YXRpYyBpbnQgZ3VjX2xvZ19yZWxheV9jcmVhdGUoc3RydWN0IGludGVsX2d1
Y19sb2cgKmxvZykKQEAgLTU0Niw3ICs1NDcsNyBAQCBpbnQgaW50ZWxfZ3VjX2xvZ19zZXRfbGV2
ZWwoc3RydWN0IGludGVsX2d1Y19sb2cgKmxvZywgdTMyIGxldmVsKQogCXJldHVybiByZXQ7CiB9
CiAKLWJvb2wgaW50ZWxfZ3VjX2xvZ19yZWxheV9lbmFibGVkKGNvbnN0IHN0cnVjdCBpbnRlbF9n
dWNfbG9nICpsb2cpCitib29sIGludGVsX2d1Y19sb2dfcmVsYXlfY3JlYXRlZChjb25zdCBzdHJ1
Y3QgaW50ZWxfZ3VjX2xvZyAqbG9nKQogewogCXJldHVybiBsb2ctPnJlbGF5LmJ1Zl9hZGRyOwog
fQpAQCAtNTYwLDcgKzU2MSw3IEBAIGludCBpbnRlbF9ndWNfbG9nX3JlbGF5X29wZW4oc3RydWN0
IGludGVsX2d1Y19sb2cgKmxvZykKIAogCW11dGV4X2xvY2soJmxvZy0+cmVsYXkubG9jayk7CiAK
LQlpZiAoaW50ZWxfZ3VjX2xvZ19yZWxheV9lbmFibGVkKGxvZykpIHsKKwlpZiAoaW50ZWxfZ3Vj
X2xvZ19yZWxheV9jcmVhdGVkKGxvZykpIHsKIAkJcmV0ID0gLUVFWElTVDsKIAkJZ290byBvdXRf
dW5sb2NrOwogCX0KQEAgLTU4NSw2ICs1ODYsMjEgQEAgaW50IGludGVsX2d1Y19sb2dfcmVsYXlf
b3BlbihzdHJ1Y3QgaW50ZWxfZ3VjX2xvZyAqbG9nKQogCiAJbXV0ZXhfdW5sb2NrKCZsb2ctPnJl
bGF5LmxvY2spOwogCisJcmV0dXJuIDA7CisKK291dF9yZWxheToKKwlndWNfbG9nX3JlbGF5X2Rl
c3Ryb3kobG9nKTsKK291dF91bmxvY2s6CisJbXV0ZXhfdW5sb2NrKCZsb2ctPnJlbGF5LmxvY2sp
OworCisJcmV0dXJuIHJldDsKK30KKworaW50IGludGVsX2d1Y19sb2dfcmVsYXlfc3RhcnQoc3Ry
dWN0IGludGVsX2d1Y19sb2cgKmxvZykKK3sKKwlpZiAobG9nLT5yZWxheS5zdGFydGVkKQorCQly
ZXR1cm4gLUVFWElTVDsKKwogCWd1Y19sb2dfZW5hYmxlX2ZsdXNoX2V2ZW50cyhsb2cpOwogCiAJ
LyoKQEAgLTU5NCwxNCArNjEwLDkgQEAgaW50IGludGVsX2d1Y19sb2dfcmVsYXlfb3BlbihzdHJ1
Y3QgaW50ZWxfZ3VjX2xvZyAqbG9nKQogCSAqLwogCXF1ZXVlX3dvcmsoc3lzdGVtX2hpZ2hwcmlf
d3EsICZsb2ctPnJlbGF5LmZsdXNoX3dvcmspOwogCi0JcmV0dXJuIDA7Ci0KLW91dF9yZWxheToK
LQlndWNfbG9nX3JlbGF5X2Rlc3Ryb3kobG9nKTsKLW91dF91bmxvY2s6Ci0JbXV0ZXhfdW5sb2Nr
KCZsb2ctPnJlbGF5LmxvY2spOworCWxvZy0+cmVsYXkuc3RhcnRlZCA9IHRydWU7CiAKLQlyZXR1
cm4gcmV0OworCXJldHVybiAwOwogfQogCiB2b2lkIGludGVsX2d1Y19sb2dfcmVsYXlfZmx1c2go
c3RydWN0IGludGVsX2d1Y19sb2cgKmxvZykKQEAgLTYxMCw2ICs2MjEsOSBAQCB2b2lkIGludGVs
X2d1Y19sb2dfcmVsYXlfZmx1c2goc3RydWN0IGludGVsX2d1Y19sb2cgKmxvZykKIAlzdHJ1Y3Qg
ZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSA9IGd1Y190b19ndChndWMpLT5pOTE1OwogCWludGVsX3dh
a2VyZWZfdCB3YWtlcmVmOwogCisJaWYgKCFsb2ctPnJlbGF5LnN0YXJ0ZWQpCisJCXJldHVybjsK
KwogCS8qCiAJICogQmVmb3JlIGluaXRpYXRpbmcgdGhlIGZvcmNlZnVsIGZsdXNoLCB3YWl0IGZv
ciBhbnkgcGVuZGluZy9vbmdvaW5nCiAJICogZmx1c2ggdG8gY29tcGxldGUgb3RoZXJ3aXNlIGZv
cmNlZnVsIGZsdXNoIG1heSBub3QgYWN0dWFsbHkgaGFwcGVuLgpAQCAtNjIzLDE4ICs2MzcsMzMg
QEAgdm9pZCBpbnRlbF9ndWNfbG9nX3JlbGF5X2ZsdXNoKHN0cnVjdCBpbnRlbF9ndWNfbG9nICps
b2cpCiAJZ3VjX2xvZ19jYXB0dXJlX2xvZ3MobG9nKTsKIH0KIAotdm9pZCBpbnRlbF9ndWNfbG9n
X3JlbGF5X2Nsb3NlKHN0cnVjdCBpbnRlbF9ndWNfbG9nICpsb2cpCisvKgorICogU3RvcHMgdGhl
IHJlbGF5IGxvZy4gQ2FsbGVkIGZyb20gaW50ZWxfZ3VjX2xvZ19yZWxheV9jbG9zZSgpLCBzbyBu
bworICogcG9zc2liaWxpdHkgb2YgcmFjZSB3aXRoIHN0YXJ0L2ZsdXNoIHNpbmNlIHJlbGF5X3dy
aXRlIGNhbm5vdCByYWNlCisgKiByZWxheV9jbG9zZS4KKyAqLworc3RhdGljIHZvaWQgZ3VjX2xv
Z19yZWxheV9zdG9wKHN0cnVjdCBpbnRlbF9ndWNfbG9nICpsb2cpCiB7CiAJc3RydWN0IGludGVs
X2d1YyAqZ3VjID0gbG9nX3RvX2d1Yyhsb2cpOwogCXN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpp
OTE1ID0gZ3VjX3RvX2d0KGd1YyktPmk5MTU7CiAKKwlpZiAoIWxvZy0+cmVsYXkuc3RhcnRlZCkK
KwkJcmV0dXJuOworCiAJZ3VjX2xvZ19kaXNhYmxlX2ZsdXNoX2V2ZW50cyhsb2cpOwogCWludGVs
X3N5bmNocm9uaXplX2lycShpOTE1KTsKIAogCWZsdXNoX3dvcmsoJmxvZy0+cmVsYXkuZmx1c2hf
d29yayk7CiAKKwlsb2ctPnJlbGF5LnN0YXJ0ZWQgPSBmYWxzZTsKK30KKwordm9pZCBpbnRlbF9n
dWNfbG9nX3JlbGF5X2Nsb3NlKHN0cnVjdCBpbnRlbF9ndWNfbG9nICpsb2cpCit7CisJZ3VjX2xv
Z19yZWxheV9zdG9wKGxvZyk7CisKIAltdXRleF9sb2NrKCZsb2ctPnJlbGF5LmxvY2spOwotCUdF
TV9CVUdfT04oIWludGVsX2d1Y19sb2dfcmVsYXlfZW5hYmxlZChsb2cpKTsKKwlHRU1fQlVHX09O
KCFpbnRlbF9ndWNfbG9nX3JlbGF5X2NyZWF0ZWQobG9nKSk7CiAJZ3VjX2xvZ191bm1hcChsb2cp
OwogCWd1Y19sb2dfcmVsYXlfZGVzdHJveShsb2cpOwogCW11dGV4X3VubG9jaygmbG9nLT5yZWxh
eS5sb2NrKTsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L3VjL2ludGVsX2d1
Y19sb2cuaCBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L3VjL2ludGVsX2d1Y19sb2cuaAppbmRl
eCA2Zjc2NDg3OWFjYjEuLmMyNTJjMDIyYzVmYyAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJt
L2k5MTUvZ3QvdWMvaW50ZWxfZ3VjX2xvZy5oCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0
L3VjL2ludGVsX2d1Y19sb2cuaApAQCAtNDcsNiArNDcsNyBAQCBzdHJ1Y3QgaW50ZWxfZ3VjX2xv
ZyB7CiAJc3RydWN0IGk5MTVfdm1hICp2bWE7CiAJc3RydWN0IHsKIAkJdm9pZCAqYnVmX2FkZHI7
CisJCWJvb2wgc3RhcnRlZDsKIAkJc3RydWN0IHdvcmtfc3RydWN0IGZsdXNoX3dvcms7CiAJCXN0
cnVjdCByY2hhbiAqY2hhbm5lbDsKIAkJc3RydWN0IG11dGV4IGxvY2s7CkBAIC02NSw4ICs2Niw5
IEBAIGludCBpbnRlbF9ndWNfbG9nX2NyZWF0ZShzdHJ1Y3QgaW50ZWxfZ3VjX2xvZyAqbG9nKTsK
IHZvaWQgaW50ZWxfZ3VjX2xvZ19kZXN0cm95KHN0cnVjdCBpbnRlbF9ndWNfbG9nICpsb2cpOwog
CiBpbnQgaW50ZWxfZ3VjX2xvZ19zZXRfbGV2ZWwoc3RydWN0IGludGVsX2d1Y19sb2cgKmxvZywg
dTMyIGxldmVsKTsKLWJvb2wgaW50ZWxfZ3VjX2xvZ19yZWxheV9lbmFibGVkKGNvbnN0IHN0cnVj
dCBpbnRlbF9ndWNfbG9nICpsb2cpOworYm9vbCBpbnRlbF9ndWNfbG9nX3JlbGF5X2NyZWF0ZWQo
Y29uc3Qgc3RydWN0IGludGVsX2d1Y19sb2cgKmxvZyk7CiBpbnQgaW50ZWxfZ3VjX2xvZ19yZWxh
eV9vcGVuKHN0cnVjdCBpbnRlbF9ndWNfbG9nICpsb2cpOworaW50IGludGVsX2d1Y19sb2dfcmVs
YXlfc3RhcnQoc3RydWN0IGludGVsX2d1Y19sb2cgKmxvZyk7CiB2b2lkIGludGVsX2d1Y19sb2df
cmVsYXlfZmx1c2goc3RydWN0IGludGVsX2d1Y19sb2cgKmxvZyk7CiB2b2lkIGludGVsX2d1Y19s
b2dfcmVsYXlfY2xvc2Uoc3RydWN0IGludGVsX2d1Y19sb2cgKmxvZyk7CiAKZGlmZiAtLWdpdCBh
L2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZGVidWdmcy5jIGIvZHJpdmVycy9ncHUvZHJtL2k5
MTUvaTkxNV9kZWJ1Z2ZzLmMKaW5kZXggNDNkYjUwMDk1MjU3Li4zZjg2ZjJiNjBiOTIgMTAwNjQ0
Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZGVidWdmcy5jCisrKyBiL2RyaXZlcnMv
Z3B1L2RybS9pOTE1L2k5MTVfZGVidWdmcy5jCkBAIC0xODcxLDggKzE4NzEsOCBAQCBzdGF0aWMg
dm9pZCBpOTE1X2d1Y19sb2dfaW5mbyhzdHJ1Y3Qgc2VxX2ZpbGUgKm0sCiAJc3RydWN0IGludGVs
X2d1Y19sb2cgKmxvZyA9ICZkZXZfcHJpdi0+Z3QudWMuZ3VjLmxvZzsKIAllbnVtIGd1Y19sb2df
YnVmZmVyX3R5cGUgdHlwZTsKIAotCWlmICghaW50ZWxfZ3VjX2xvZ19yZWxheV9lbmFibGVkKGxv
ZykpIHsKLQkJc2VxX3B1dHMobSwgIkd1QyBsb2cgcmVsYXkgZGlzYWJsZWRcbiIpOworCWlmICgh
aW50ZWxfZ3VjX2xvZ19yZWxheV9jcmVhdGVkKGxvZykpIHsKKwkJc2VxX3B1dHMobSwgIkd1QyBs
b2cgcmVsYXkgbm90IGNyZWF0ZWRcbiIpOwogCQlyZXR1cm47CiAJfQogCkBAIC0yMDU5LDkgKzIw
NTksMjMgQEAgaTkxNV9ndWNfbG9nX3JlbGF5X3dyaXRlKHN0cnVjdCBmaWxlICpmaWxwLAogCQkJ
IGxvZmZfdCAqcHBvcykKIHsKIAlzdHJ1Y3QgaW50ZWxfZ3VjX2xvZyAqbG9nID0gZmlscC0+cHJp
dmF0ZV9kYXRhOworCWludCB2YWw7CisJaW50IHJldDsKIAotCWludGVsX2d1Y19sb2dfcmVsYXlf
Zmx1c2gobG9nKTsKLQlyZXR1cm4gY250OworCXJldCA9IGtzdHJ0b2ludF9mcm9tX3VzZXIodWJ1
ZiwgY250LCAwLCAmdmFsKTsKKwlpZiAocmV0IDwgMCkKKwkJcmV0dXJuIHJldDsKKworCS8qCisJ
ICogRW5hYmxlIGFuZCBzdGFydCB0aGUgZ3VjIGxvZyByZWxheSBvbiB2YWx1ZSBvZiAxLgorCSAq
IEZsdXNoIGxvZyByZWxheSBmb3IgYW55IG90aGVyIHZhbHVlLgorCSAqLworCWlmICh2YWwgPT0g
MSkKKwkJcmV0ID0gaW50ZWxfZ3VjX2xvZ19yZWxheV9zdGFydChsb2cpOworCWVsc2UKKwkJaW50
ZWxfZ3VjX2xvZ19yZWxheV9mbHVzaChsb2cpOworCisJcmV0dXJuIHJldCA/OiBjbnQ7CiB9CiAK
IHN0YXRpYyBpbnQgaTkxNV9ndWNfbG9nX3JlbGF5X3JlbGVhc2Uoc3RydWN0IGlub2RlICppbm9k
ZSwgc3RydWN0IGZpbGUgKmZpbGUpCi0tIAoyLjIxLjAuNS5nYWViNTgyYTk4MwoKX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KSW50ZWwtZ2Z4IG1haWxpbmcg
bGlzdApJbnRlbC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRl
c2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vaW50ZWwtZ2Z4

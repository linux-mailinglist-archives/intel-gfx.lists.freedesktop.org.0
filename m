Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 8E176AD022
	for <lists+intel-gfx@lfdr.de>; Sun,  8 Sep 2019 19:11:18 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 637B8892CB;
	Sun,  8 Sep 2019 17:11:16 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga11.intel.com (mga11.intel.com [192.55.52.93])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 4DDD8894E0
 for <intel-gfx@lists.freedesktop.org>; Sun,  8 Sep 2019 17:11:14 +0000 (UTC)
X-Amp-Result: UNKNOWN
X-Amp-Original-Verdict: FILE UNKNOWN
X-Amp-File-Uploaded: False
Received: from orsmga003.jf.intel.com ([10.7.209.27])
 by fmsmga102.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 08 Sep 2019 10:11:13 -0700
X-IronPort-AV: E=Sophos;i="5.64,481,1559545200"; d="scan'208";a="186285305"
Received: from ideak-desk.fi.intel.com ([10.237.68.142])
 by orsmga003-auth.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 08 Sep 2019 10:11:11 -0700
Date: Sun, 8 Sep 2019 20:10:30 +0300
From: Imre Deak <imre.deak@intel.com>
To: Anshuman Gupta <anshuman.gupta@intel.com>
Message-ID: <20190908171030.GB28096@ideak-desk.fi.intel.com>
References: <20190907171443.16181-1-anshuman.gupta@intel.com>
 <20190907171443.16181-5-anshuman.gupta@intel.com>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <20190907171443.16181-5-anshuman.gupta@intel.com>
User-Agent: Mutt/1.9.4 (2018-02-28)
Subject: Re: [Intel-gfx] [PATCH v7 4/7] drm/i915/tgl: Do modeset to enable
 and configure DC3CO exitline.
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Reply-To: imre.deak@intel.com
Cc: jani.nikula@intel.com, intel-gfx@lists.freedesktop.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

T24gU2F0LCBTZXAgMDcsIDIwMTkgYXQgMTA6NDQ6NDBQTSArMDUzMCwgQW5zaHVtYW4gR3VwdGEg
d3JvdGU6Cj4gREMzQ08gZW5hYmxpbmcgQi5TcGVjcyBzZXF1ZW5jZSByZXF1aXJlcyB0byBlbmFi
bGUgZW5kIGNvbmZpZ3VyZQo+IGV4aXQgc2NhbmxpbmVzIHRvIFRSQU5TX0VYSVRMSU5FIHJlZ2lz
dGVyLCBwcm9ncmFtbWluZyB0aGlzIHJlZ2lzdGVyCj4gaGFzIHRvIGJlIHBhcnQgb2YgbW9kZXNl
dCBzZXF1ZW5jZSBhcyB0aGlzIGNhbid0IGJlIGNoYW5nZSB3aGVuCj4gdHJhbnNjb2RlciBvciBw
b3J0IGlzIGVuYWJsZWQuCj4gV2hlbiBzeXN0ZW0gYm9vdHMgd2l0aCBvbmx5IGVEUCBwYW5lbCB0
aGVyZSBtYXkgbm90IGJlIHJlYWwKPiBtb2Rlc2V0IGFzIEJJT1MgaGFzIGFscmVhZHkgcHJvZ3Jh
bW1lZCB0aGUgbmVjZXNzYXJ5IHJlZ2lzdGVycywKPiB0aGVyZWZvcmUgaXQgbmVlZHMgdG8gZm9y
Y2UgYSBtb2Rlc2V0IGF0IGJvb3R1cCB0byBlbmFibGUgYW5kIGNvbmZpZ3VyZQo+IERDM0NPIGV4
aXRsaW5lLgo+IAo+IENjOiBKYW5pIE5pa3VsYSA8amFuaS5uaWt1bGFAaW50ZWwuY29tPgo+IENj
OiBJbXJlIERlYWsgPGltcmUuZGVha0BpbnRlbC5jb20+Cj4gQ2M6IEFuaW1lc2ggTWFubmEgPGFu
aW1lc2gubWFubmFAaW50ZWwuY29tPgo+IFNpZ25lZC1vZmYtYnk6IEFuc2h1bWFuIEd1cHRhIDxh
bnNodW1hbi5ndXB0YUBpbnRlbC5jb20+Cj4gLS0tCj4gIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2Rp
c3BsYXkvaW50ZWxfZGlzcGxheS5jICB8ICAgNSArCj4gIC4uLi9kcm0vaTkxNS9kaXNwbGF5L2lu
dGVsX2Rpc3BsYXlfcG93ZXIuYyAgICB8IDEwOCArKysrKysrKysrKysrKysrKysKPiAgLi4uL2Ry
bS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheV9wb3dlci5oICAgIHwgICA3ICsrCj4gIC4uLi9k
cm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXlfdHlwZXMuaCAgICB8ICAgMSArCj4gIGRyaXZl
cnMvZ3B1L2RybS9pOTE1L2k5MTVfZHJ2LmggICAgICAgICAgICAgICB8ICAgMiArCj4gIGRyaXZl
cnMvZ3B1L2RybS9pOTE1L2ludGVsX3BtLmMgICAgICAgICAgICAgICB8ICAgMiArLQo+ICBkcml2
ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9wbS5oICAgICAgICAgICAgICAgfCAgIDIgKwo+ICA3IGZp
bGVzIGNoYW5nZWQsIDEyNiBpbnNlcnRpb25zKCspLCAxIGRlbGV0aW9uKC0pCj4gCj4gZGlmZiAt
LWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheS5jIGIvZHJp
dmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5LmMKPiBpbmRleCAzYjUyNzVh
YjY2Y2YuLjg0NDg4Zjg3ZDA1OCAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9k
aXNwbGF5L2ludGVsX2Rpc3BsYXkuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3Bs
YXkvaW50ZWxfZGlzcGxheS5jCj4gQEAgLTc0MDksNiArNzQwOSw4IEBAIHN0YXRpYyBpbnQgaW50
ZWxfY3J0Y19jb21wdXRlX2NvbmZpZyhzdHJ1Y3QgaW50ZWxfY3J0YyAqY3J0YywKPiAgCWNvbnN0
IHN0cnVjdCBkcm1fZGlzcGxheV9tb2RlICphZGp1c3RlZF9tb2RlID0gJnBpcGVfY29uZmlnLT5i
YXNlLmFkanVzdGVkX21vZGU7Cj4gIAlpbnQgY2xvY2tfbGltaXQgPSBkZXZfcHJpdi0+bWF4X2Rv
dGNsa19mcmVxOwo+ICAKPiArCXRnbF9kYzNjb19jcnRjX2NvbXB1dGVfY29uZmlnKGRldl9wcml2
LCBwaXBlX2NvbmZpZyk7Cj4gKwoKVGhpcyBpcyBhbiBlbmNvZGVyIHNwZWNpZmljIHN0YXRlIHNv
IHNob3VsZCBiZSBkb25lIGZyb20gdGhlIGVuY29kZXIKY29tcHV0ZSBjb25maWcgaG9vay4KCj4g
IAlpZiAoSU5URUxfR0VOKGRldl9wcml2KSA8IDQpIHsKPiAgCQljbG9ja19saW1pdCA9IGRldl9w
cml2LT5tYXhfY2RjbGtfZnJlcSAqIDkgLyAxMDsKPiAgCj4gQEAgLTEwNDc0LDYgKzEwNDc2LDgg
QEAgc3RhdGljIGJvb2wgaGFzd2VsbF9nZXRfcGlwZV9jb25maWcoc3RydWN0IGludGVsX2NydGMg
KmNydGMsCj4gIAkJcGlwZV9jb25maWctPnBpeGVsX211bHRpcGxpZXIgPSAxOwo+ICAJfQo+ICAK
PiArCXRnbF9kYzNjb19jcnRjX2dldF9jb25maWcocGlwZV9jb25maWcpOwo+ICsKPiAgb3V0Ogo+
ICAJZm9yX2VhY2hfcG93ZXJfZG9tYWluKHBvd2VyX2RvbWFpbiwgcG93ZXJfZG9tYWluX21hc2sp
Cj4gIAkJaW50ZWxfZGlzcGxheV9wb3dlcl9wdXQoZGV2X3ByaXYsCj4gQEAgLTEyNzM5LDYgKzEy
NzQzLDcgQEAgaW50ZWxfcGlwZV9jb25maWdfY29tcGFyZShjb25zdCBzdHJ1Y3QgaW50ZWxfY3J0
Y19zdGF0ZSAqY3VycmVudF9jb25maWcsCj4gIAo+ICAJUElQRV9DT05GX0NIRUNLX0kocGl4ZWxf
bXVsdGlwbGllcik7Cj4gIAlQSVBFX0NPTkZfQ0hFQ0tfSShvdXRwdXRfZm9ybWF0KTsKPiArCVBJ
UEVfQ09ORl9DSEVDS19CT09MKGhhc19kYzNjb19leGl0bGluZSk7Cj4gIAlQSVBFX0NPTkZfQ0hF
Q0tfQk9PTChoYXNfaGRtaV9zaW5rKTsKPiAgCWlmICgoSU5URUxfR0VOKGRldl9wcml2KSA8IDgg
JiYgIUlTX0hBU1dFTEwoZGV2X3ByaXYpKSB8fAo+ICAJICAgIElTX1ZBTExFWVZJRVcoZGV2X3By
aXYpIHx8IElTX0NIRVJSWVZJRVcoZGV2X3ByaXYpKQo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dw
dS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXlfcG93ZXIuYyBiL2RyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheV9wb3dlci5jCj4gaW5kZXggODNiMTBmNjFlZTQy
Li5lY2NlMTE4YjViMGUgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxh
eS9pbnRlbF9kaXNwbGF5X3Bvd2VyLmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNw
bGF5L2ludGVsX2Rpc3BsYXlfcG93ZXIuYwo+IEBAIC0xOSw2ICsxOSw3IEBACj4gICNpbmNsdWRl
ICJpbnRlbF9ob3RwbHVnLmgiCj4gICNpbmNsdWRlICJpbnRlbF9zaWRlYmFuZC5oIgo+ICAjaW5j
bHVkZSAiaW50ZWxfdGMuaCIKPiArI2luY2x1ZGUgImludGVsX3BtLmgiCj4gIAo+ICBib29sIGlu
dGVsX2Rpc3BsYXlfcG93ZXJfd2VsbF9pc19lbmFibGVkKHN0cnVjdCBkcm1faTkxNV9wcml2YXRl
ICpkZXZfcHJpdiwKPiAgCQkJCQkgZW51bSBpOTE1X3Bvd2VyX3dlbGxfaWQgcG93ZXJfd2VsbF9p
ZCk7Cj4gQEAgLTc3Miw2ICs3NzMsMTEzIEBAIHN0YXRpYyB2b2lkIGdlbjlfc2V0X2RjX3N0YXRl
KHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiwgdTMyIHN0YXRlKQo+ICAJZGV2X3By
aXYtPmNzci5kY19zdGF0ZSA9IHZhbCAmIG1hc2s7Cj4gIH0KPiAgCj4gK3ZvaWQgdGdsX2Rpc2Fi
bGVfcHNyMl90cmFuc2NvZGVyX2V4aXRsaW5lKGNvbnN0IHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRl
ICpjc3RhdGUpCgpQbGVhc2UgYWRkIHRoZXNlIGluIHRoZSBwYXRjaCB0aGF0IHVzZXMgdGhlbSwg
dG8gbWFrZSByZXZpZXcgZWFzaWVyLgoKPiArewo+ICsJc3RydWN0IGRybV9pOTE1X3ByaXZhdGUg
KmRldl9wcml2ID0gdG9faTkxNShjc3RhdGUtPmJhc2UuY3J0Yy0+ZGV2KTsKPiArCXUzMiB2YWw7
Cj4gKwo+ICsJaWYgKCFJU19USUdFUkxBS0UoZGV2X3ByaXYpKQo+ICsJCXJldHVybjsKPiArCj4g
Kwl2YWwgPSBJOTE1X1JFQUQoRVhJVExJTkUoY3N0YXRlLT5jcHVfdHJhbnNjb2RlcikpOwo+ICsJ
dmFsICY9IH5FWElUTElORV9FTkFCTEU7Cj4gKwlJOTE1X1dSSVRFKEVYSVRMSU5FKGNzdGF0ZS0+
Y3B1X3RyYW5zY29kZXIpLCB2YWwpOwo+ICt9Cj4gKwo+ICt2b2lkIHRnbF9lbmFibGVfcHNyMl90
cmFuc2NvZGVyX2V4aXRsaW5lKGNvbnN0IHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpjc3RhdGUp
Cj4gK3sKPiArCXUzMiBsaW5ldGltZV91cywgdmFsLCBleGl0X3NjYW5saW5lczsKPiArCXUzMiBj
cnRjX3ZkaXNwbGF5ID0gY3N0YXRlLT5iYXNlLmFkanVzdGVkX21vZGUuY3J0Y192ZGlzcGxheTsK
PiArCXN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiA9IHRvX2k5MTUoY3N0YXRlLT5i
YXNlLmNydGMtPmRldik7Cj4gKwo+ICsJaWYgKCFJU19USUdFUkxBS0UoZGV2X3ByaXYpKQo+ICsJ
CXJldHVybjsKPiArCj4gKwlsaW5ldGltZV91cyA9IGZpeGVkMTZfdG9fdTMyX3JvdW5kX3VwKGlu
dGVsX2dldF9saW5ldGltZV91cyhjc3RhdGUpKTsKPiArCWlmIChXQVJOX09OKCFsaW5ldGltZV91
cykpCj4gKwkJcmV0dXJuOwo+ICsJLyoKPiArCSAqIERDM0NPIEV4aXQgdGltZSAyMDB1cyBCLlNw
ZWMgNDkxOTYKPiArCSAqIFBTUjIgdHJhbnNjb2RlciBFYXJseSBFeGl0IHNjYW5saW5lcyA9IFJP
VU5EVVAoMjAwIC8gbGluZSB0aW1lKSArIDEKPiArCSAqIEV4aXQgbGluZSBldmVudCBuZWVkIHRv
IHByb2dyYW0gYWJvdmUgY2FsY3VsYXRlZCBzY2FuIGxpbmVzIGJlZm9yZQo+ICsJICogbmV4dCBW
QkxBTksuCj4gKwkgKi8KPiArCWV4aXRfc2NhbmxpbmVzID0gRElWX1JPVU5EX1VQKDIwMCwgbGlu
ZXRpbWVfdXMpICsgMTsKCmV4aXRfc2NhbmxpbmVzIGNvdWxkIGJlIHRoZSBzdGF0ZSB0aGF0IHlv
dSBjYWxjdWxhdGUgZHVyaW5nIHRoZSBQU1IgY29tcHV0ZQpjb25maWcgcGhhc2UsIG9ubHkgcHJv
Z3JhbW1pbmcgdGhhdCBjYWxjdWxhdGVkIHN0YXRlIGhlcmUuCgo+ICsJaWYgKFdBUk5fT04oZXhp
dF9zY2FubGluZXMgPiBjcnRjX3ZkaXNwbGF5KSkKPiArCQlyZXR1cm47Cj4gKwo+ICsJZXhpdF9z
Y2FubGluZXMgPSBjcnRjX3ZkaXNwbGF5IC0gZXhpdF9zY2FubGluZXM7Cj4gKwlleGl0X3NjYW5s
aW5lcyA8PD0gRVhJVExJTkVfU0hJRlQ7Cj4gKwl2YWwgPSBJOTE1X1JFQUQoRVhJVExJTkUoY3N0
YXRlLT5jcHVfdHJhbnNjb2RlcikpOwo+ICsJdmFsICY9IH4oRVhJVExJTkVfTUFTSyB8IEVYSVRM
SU5FX0VOQUJMRSk7Cj4gKwl2YWwgfD0gZXhpdF9zY2FubGluZXM7Cj4gKwl2YWwgfD0gRVhJVExJ
TkVfRU5BQkxFOwo+ICsJSTkxNV9XUklURShFWElUTElORShjc3RhdGUtPmNwdV90cmFuc2NvZGVy
KSwgdmFsKTsKPiArfQo+ICsKPiArc3RhdGljIGJvb2wgdGdsX2RjM2NvX2lzX2VkcF9jb25uZWN0
ZWQoc3RydWN0IGludGVsX2NydGNfc3RhdGUgICpjcnRjX3N0YXRlKQo+ICt7Cj4gKwlzdHJ1Y3Qg
ZHJtX2F0b21pY19zdGF0ZSAqc3RhdGUgPSBjcnRjX3N0YXRlLT5iYXNlLnN0YXRlOwo+ICsJc3Ry
dWN0IGRybV9jb25uZWN0b3IgKmNvbm5lY3RvcjsKPiArCXN0cnVjdCBkcm1fY29ubmVjdG9yX3N0
YXRlICpjb25uZWN0b3Jfc3RhdGU7Cj4gKwlpbnQgaTsKPiArCj4gKwlmb3JfZWFjaF9uZXdfY29u
bmVjdG9yX2luX3N0YXRlKHN0YXRlLCBjb25uZWN0b3IsIGNvbm5lY3Rvcl9zdGF0ZSwgaSkgewo+
ICsJCWlmIChjb25uZWN0b3ItPnN0YXR1cyA9PSBjb25uZWN0b3Jfc3RhdHVzX2Nvbm5lY3RlZCAm
Jgo+ICsJCSAgICBjb25uZWN0b3ItPmNvbm5lY3Rvcl90eXBlID09IERSTV9NT0RFX0NPTk5FQ1RP
Ul9lRFApIHsKPiArCQkJcmV0dXJuIHRydWU7Cj4gKwkJfQo+ICsJfQo+ICsKPiArCXJldHVybiBm
YWxzZTsKPiArfQo+ICsKPiArLyoKPiArICogREMzQ08gcmVxdWlyZXMgdG8gZW5hYmxlIGV4aXRs
aW5lIGFuZCBwcm9ncmFtIERDM0NPIHJlcXVpcmVzCj4gKyAqIGV4aXQgc2NhbmxpbmVzIHRvIFRS
QU5TX0VYSVRMSU5FIHJlZ2lzdGVyLCB3aGljaCBzaG91bGQgb25seQo+ICsgKiBjaGFuZ2UgYmVm
b3JlIHRyYW5zY29kZXIgb3IgcG9ydCBhcmUgZW5hYmxlZC4KPiArICogVGhpcyByZXF1aXJlcyB0
byBkaXNhYmxlIHRoZSBmYXN0c2V0IGF0IGJvb3QgZm9yIGVEUCBvdXRwdXQuCj4gKyAqLwo+ICt2
b2lkIHRnbF9kYzNjb19jcnRjX2NvbXB1dGVfY29uZmlnKHN0cnVjdCBkcm1faTkxNV9wcml2YXRl
ICpkZXZfcHJpdiwKPiArCQkJCSAgIHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpjcnRjX3N0YXRl
KQo+ICt7Cj4gKwlpZiAoIUlTX1RJR0VSTEFLRShkZXZfcHJpdikpCj4gKwkJcmV0dXJuOwo+ICsK
PiArCWlmICghKGRldl9wcml2LT5jc3IuYWxsb3dlZF9kY19tYXNrICYgRENfU1RBVEVfRU5fREMz
Q08pKQo+ICsJCXJldHVybjsKPiArCj4gKwlkZXZfcHJpdi0+Y3NyLmRjM2NvX2NydGMgPSBOVUxM
OwoKVGhpcyB3aWxsIGNvcnJlc3BvbmQgdG8gcHNyLnBpcGUsIHNvIEkgY2FuJ3Qgc2VlIHdoeSB3
ZSBuZWVkIHRvCmNhbGN1YWx0ZSBpdCBzZXBhcmF0ZWx5LgoKPiArCj4gKwlpZiAoY3J0Y19zdGF0
ZS0+aGFzX3BzcjIgJiYgY3J0Y19zdGF0ZS0+YmFzZS5hY3RpdmUpIHsKPiArCQlpZiAodGdsX2Rj
M2NvX2lzX2VkcF9jb25uZWN0ZWQoY3J0Y19zdGF0ZSkpIHsKPiArCQkJY3J0Y19zdGF0ZS0+aGFz
X2RjM2NvX2V4aXRsaW5lID0gdHJ1ZTsKCkkgdGhpbmsgd2Ugc2hvdWxkIHJhdGhlciBjYWxjdWxh
dGUgdGhlIGV4aXRfc2NhbmxpbmUgdmFsdWUgaXRzZWxmIChhcwp5b3UgY2FsY3VsYXRlIHRoYXQg
bm93IGluIHRnbF9lbmFibGVfcHNyMl90cmFuc2NvZGVyX2V4aXRsaW5lKCkpLiBCeQpkb2luZyB0
aGF0IGluIHRoZSBlbmNvZGVyIGNvbXB1dGUgY29uZmlnIGhvb2ssIHdlJ2xsIGFsc28ga25vdyB0
aGF0IHdlCmhhdmUgZURQIGNvbm5lY3RlZCwgc28gd291bGRuJ3QgaGF2ZSB0byBjaGVjayBmb3Ig
dGhhdCBlaXRoZXIuCgo+ICsJCQlkZXZfcHJpdi0+Y3NyLmRjM2NvX2NydGMgPQo+ICsJCQl0b19p
bnRlbF9jcnRjKGNydGNfc3RhdGUtPmJhc2UuY3J0Yyk7Cj4gKwkJfQo+ICsJfQo+ICt9Cj4gKwo+
ICt2b2lkIHRnbF9kYzNjb19jcnRjX2dldF9jb25maWcoc3RydWN0IGludGVsX2NydGNfc3RhdGUg
KmNydGNfc3RhdGUpCj4gK3sKPiArCXUzMiB2YWw7Cj4gKwlzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0
ZSAqZGV2X3ByaXYgPSB0b19pOTE1KGNydGNfc3RhdGUtPmJhc2UuY3J0Yy0+ZGV2KTsKPiArCj4g
KwlpZiAoIUlTX1RJR0VSTEFLRShkZXZfcHJpdikpCj4gKwkJcmV0dXJuOwo+ICsKPiArCWlmICgh
KGRldl9wcml2LT5jc3IuYWxsb3dlZF9kY19tYXNrICYgRENfU1RBVEVfRU5fREMzQ08pKQo+ICsJ
CXJldHVybjsKPiArCj4gKwlpZiAoY3J0Y19zdGF0ZS0+Y3B1X3RyYW5zY29kZXIgPT0gVFJBTlND
T0RFUl9BKSB7Cj4gKwkJdmFsID0gSTkxNV9SRUFEKEVYSVRMSU5FKGNydGNfc3RhdGUtPmNwdV90
cmFuc2NvZGVyKSk7Cj4gKwkJaWYgKHZhbCAmIEVYSVRMSU5FX0VOQUJMRSkKPiArCQkJY3J0Y19z
dGF0ZS0+aGFzX2RjM2NvX2V4aXRsaW5lID0gdHJ1ZTsKPiArCQllbHNlCj4gKwkJCWNydGNfc3Rh
dGUtPmhhc19kYzNjb19leGl0bGluZSA9IGZhbHNlOwoKQmFzZWQgb24gdGhlIGFib3ZlIHdlIHNo
b3VsZCByZWFkIG91dCB0aGUgZXhpdF9zY2FubGluZSB2YWx1ZSBpdHNlbGYgKGluCnRoZSBlbmNv
ZGVyJ3MgZ2V0X2NvbmZpZyBob29rKS4KCj4gKwl9Cj4gK30KPiArCj4gIHN0YXRpYyB2b2lkIHRn
bF9hbGxvd19kYzNjbyhzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYpCj4gIHsKPiAg
CWlmICghZGV2X3ByaXYtPnBzci5zaW5rX3BzcjJfc3VwcG9ydCkKPiBkaWZmIC0tZ2l0IGEvZHJp
dmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5X3Bvd2VyLmggYi9kcml2ZXJz
L2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXlfcG93ZXIuaAo+IGluZGV4IDY5ZWJk
ZTk5MjM0Mi4uZDc3YTVhNTNmNTQzIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1
L2Rpc3BsYXkvaW50ZWxfZGlzcGxheV9wb3dlci5oCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5
MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5X3Bvd2VyLmgKPiBAQCAtMTIsNiArMTIsOCBAQAo+ICAK
PiAgc3RydWN0IGRybV9pOTE1X3ByaXZhdGU7Cj4gIHN0cnVjdCBpbnRlbF9lbmNvZGVyOwo+ICtz
dHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZTsKPiArc3RydWN0IGludGVsX2F0b21pY19zdGF0ZTsKPiAg
Cj4gIGVudW0gaW50ZWxfZGlzcGxheV9wb3dlcl9kb21haW4gewo+ICAJUE9XRVJfRE9NQUlOX0RJ
U1BMQVlfQ09SRSwKPiBAQCAtMjU5LDYgKzI2MSwxMSBAQCB2b2lkIGludGVsX2Rpc3BsYXlfcG93
ZXJfc3VzcGVuZChzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSk7Cj4gIHZvaWQgaW50ZWxf
ZGlzcGxheV9wb3dlcl9yZXN1bWUoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUpOwo+ICB2
b2lkIHRnbF9zZXRfdGFyZ2V0X2RjX3N0YXRlKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZf
cHJpdiwgdTMyIHN0YXRlLAo+ICAJCQkgICAgIGJvb2wgcHNyMl9kZWVwX3NsZWVwKTsKPiArdm9p
ZCB0Z2xfZGMzY29fY3J0Y19jb21wdXRlX2NvbmZpZyhzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAq
ZGV2X3ByaXYsCj4gKwkJCQkgICBzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqY3J0Y19zdGF0ZSk7
Cj4gK3ZvaWQgdGdsX2RjM2NvX2NydGNfZ2V0X2NvbmZpZyhzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0
ZSAqY3J0Y19zdGF0ZSk7Cj4gK3ZvaWQgdGdsX2Rpc2FibGVfcHNyMl90cmFuc2NvZGVyX2V4aXRs
aW5lKGNvbnN0IHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpzdGF0ZSk7Cj4gK3ZvaWQgdGdsX2Vu
YWJsZV9wc3IyX3RyYW5zY29kZXJfZXhpdGxpbmUoY29uc3Qgc3RydWN0IGludGVsX2NydGNfc3Rh
dGUgKnN0YXRlKTsKPiAgCj4gIGNvbnN0IGNoYXIgKgo+ICBpbnRlbF9kaXNwbGF5X3Bvd2VyX2Rv
bWFpbl9zdHIoZW51bSBpbnRlbF9kaXNwbGF5X3Bvd2VyX2RvbWFpbiBkb21haW4pOwo+IGRpZmYg
LS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXlfdHlwZXMu
aCBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheV90eXBlcy5oCj4g
aW5kZXggZDVjYzRiODEwZDllLi4yMmY4ZmUwYTM0ZDAgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9n
cHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5X3R5cGVzLmgKPiArKysgYi9kcml2ZXJz
L2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXlfdHlwZXMuaAo+IEBAIC04NzEsNiAr
ODcxLDcgQEAgc3RydWN0IGludGVsX2NydGNfc3RhdGUgewo+ICAKPiAgCWJvb2wgaGFzX3BzcjsK
PiAgCWJvb2wgaGFzX3BzcjI7Cj4gKwlib29sIGhhc19kYzNjb19leGl0bGluZTsKPiAgCj4gIAkv
Kgo+ICAJICogRnJlcXVlbmNlIHRoZSBkcGxsIGZvciB0aGUgcG9ydCBzaG91bGQgcnVuIGF0LiBE
aWZmZXJzIGZyb20gdGhlCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVf
ZHJ2LmggYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2Rydi5oCj4gaW5kZXggOTk5ZGE1ZDJk
YTBiLi4zMjE4YjAzMTk4NTIgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkx
NV9kcnYuaAo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZHJ2LmgKPiBAQCAtMzM5
LDYgKzMzOSw4IEBAIHN0cnVjdCBpbnRlbF9jc3Igewo+ICAJdTMyIG1heF9kY19zdGF0ZTsKPiAg
CXUzMiBhbGxvd2VkX2RjX21hc2s7Cj4gIAlpbnRlbF93YWtlcmVmX3Qgd2FrZXJlZjsKPiArCS8q
IGNhY2hlIHRoZSBjcnRjIG9uIHdoaWNoIERDM0NPIHdpbGwgYmUgYWxsb3dlZCAqLwo+ICsJc3Ry
dWN0IGludGVsX2NydGMgKmRjM2NvX2NydGM7Cj4gIH07Cj4gIAo+ICBlbnVtIGk5MTVfY2FjaGVf
bGV2ZWwgewo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9wbS5jIGIv
ZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfcG0uYwo+IGluZGV4IDUyOGU5MGVkNWRlNC4uNzM1
MmMwY2I4OGQwIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX3BtLmMK
PiArKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9wbS5jCj4gQEAgLTQ1ODgsNyArNDU4
OCw3IEBAIHNrbF93bV9tZXRob2QyKHUzMiBwaXhlbF9yYXRlLCB1MzIgcGlwZV9odG90YWwsIHUz
MiBsYXRlbmN5LAo+ICAJcmV0dXJuIHJldDsKPiAgfQo+ICAKPiAtc3RhdGljIHVpbnRfZml4ZWRf
MTZfMTZfdAo+ICt1aW50X2ZpeGVkXzE2XzE2X3QKPiAgaW50ZWxfZ2V0X2xpbmV0aW1lX3VzKGNv
bnN0IHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpjcnRjX3N0YXRlKQo+ICB7Cj4gIAl1MzIgcGl4
ZWxfcmF0ZTsKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfcG0uaCBi
L2RyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX3BtLmgKPiBpbmRleCBlMzU3M2UxZTE2ZTMuLjQ1
NGU5MmMwNmRmZiAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9wbS5o
Cj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfcG0uaAo+IEBAIC04LDYgKzgsNyBA
QAo+ICAKPiAgI2luY2x1ZGUgPGxpbnV4L3R5cGVzLmg+Cj4gIAo+ICsjaW5jbHVkZSAiaTkxNV9k
cnYuaCIKPiAgI2luY2x1ZGUgImk5MTVfcmVnLmgiCj4gIAo+ICBzdHJ1Y3QgZHJtX2RldmljZTsK
PiBAQCAtNzYsNiArNzcsNyBAQCB1NjQgaW50ZWxfcmM2X3Jlc2lkZW5jeV9ucyhzdHJ1Y3QgZHJt
X2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYsIGk5MTVfcmVnX3QgcmVnKTsKPiAgdTY0IGludGVsX3Jj
Nl9yZXNpZGVuY3lfdXMoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2LCBpOTE1X3Jl
Z190IHJlZyk7Cj4gIAo+ICB1MzIgaW50ZWxfZ2V0X2NhZ2Yoc3RydWN0IGRybV9pOTE1X3ByaXZh
dGUgKmRldl9wcml2LCB1MzIgcnBzdGF0MSk7Cj4gK3VpbnRfZml4ZWRfMTZfMTZfdCBpbnRlbF9n
ZXRfbGluZXRpbWVfdXMoY29uc3Qgc3RydWN0IGludGVsX2NydGNfc3RhdGUgKmNzdGF0ZSk7Cj4g
IAo+ICB1bnNpZ25lZCBsb25nIGk5MTVfY2hpcHNldF92YWwoc3RydWN0IGRybV9pOTE1X3ByaXZh
dGUgKmRldl9wcml2KTsKPiAgdW5zaWduZWQgbG9uZyBpOTE1X21jaF92YWwoc3RydWN0IGRybV9p
OTE1X3ByaXZhdGUgKmRldl9wcml2KTsKPiAtLSAKPiAyLjIxLjAKPiAKX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KSW50ZWwtZ2Z4IG1haWxpbmcgbGlzdApJ
bnRlbC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Au
b3JnL21haWxtYW4vbGlzdGluZm8vaW50ZWwtZ2Z4

Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 53CCD5566B
	for <lists+intel-gfx@lfdr.de>; Tue, 25 Jun 2019 19:55:23 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id E8E936E1F1;
	Tue, 25 Jun 2019 17:55:13 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga14.intel.com (mga14.intel.com [192.55.52.115])
 by gabe.freedesktop.org (Postfix) with ESMTPS id D55E66E1D2
 for <intel-gfx@lists.freedesktop.org>; Tue, 25 Jun 2019 17:55:05 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from fmsmga006.fm.intel.com ([10.253.24.20])
 by fmsmga103.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 25 Jun 2019 10:55:05 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.63,416,1557212400"; d="scan'208";a="360469320"
Received: from mvaitla-mobl.amr.corp.intel.com (HELO ldmartin-desk1.intel.com)
 ([10.251.139.12])
 by fmsmga006.fm.intel.com with ESMTP; 25 Jun 2019 10:55:05 -0700
From: Lucas De Marchi <lucas.demarchi@intel.com>
To: intel-gfx@lists.freedesktop.org
Date: Tue, 25 Jun 2019 10:54:28 -0700
Message-Id: <20190625175437.14840-20-lucas.demarchi@intel.com>
X-Mailer: git-send-email 2.21.0
In-Reply-To: <20190625175437.14840-1-lucas.demarchi@intel.com>
References: <20190625175437.14840-1-lucas.demarchi@intel.com>
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH 19/28] drm/i915/tgl: select correct bit for port
 select
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: Mahesh Kumar <mahesh1.kumar@intel.com>,
 Lucas De Marchi <lucas.demarchi@intel.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

RnJvbTogTWFoZXNoIEt1bWFyIDxtYWhlc2gxLmt1bWFyQGludGVsLmNvbT4KCkJpdCBkZWZpbml0
aW9ucyBmb3IgcG9ydC1zZWxlY3QgZ290IGNoYW5nZWQgZm9yIFRSQU5TX0NMS19TRUwgJgpUUkFO
U19ERElfRlVOQ19DVEwgcmVnaXN0ZXJzIGluIFRHTC4KClNpZ25lZC1vZmYtYnk6IE1haGVzaCBL
dW1hciA8bWFoZXNoMS5rdW1hckBpbnRlbC5jb20+ClNpZ25lZC1vZmYtYnk6IEx1Y2FzIERlIE1h
cmNoaSA8bHVjYXMuZGVtYXJjaGlAaW50ZWwuY29tPgotLS0KIGRyaXZlcnMvZ3B1L2RybS9pOTE1
L2Rpc3BsYXkvaW50ZWxfZGRpLmMgfCA0OCArKysrKysrKysrKysrKysrKysrLS0tLS0KIGRyaXZl
cnMvZ3B1L2RybS9pOTE1L2k5MTVfcmVnLmggICAgICAgICAgfCAgNSArKysKIDIgZmlsZXMgY2hh
bmdlZCwgNDMgaW5zZXJ0aW9ucygrKSwgMTAgZGVsZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEvZHJp
dmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kZGkuYyBiL2RyaXZlcnMvZ3B1L2RybS9p
OTE1L2Rpc3BsYXkvaW50ZWxfZGRpLmMKaW5kZXggODRiMGE1OGQxZjY4Li4wYTEyM2Q2Nzc2MTkg
MTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGRpLmMKKysr
IGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kZGkuYwpAQCAtMTc3MCw3ICsx
NzcwLDEwIEBAIHZvaWQgaW50ZWxfZGRpX2VuYWJsZV90cmFuc2NvZGVyX2Z1bmMoY29uc3Qgc3Ry
dWN0IGludGVsX2NydGNfc3RhdGUgKmNydGNfc3RhdGUpCiAKIAkvKiBFbmFibGUgVFJBTlNfRERJ
X0ZVTkNfQ1RMIGZvciB0aGUgcGlwZSB0byB3b3JrIGluIEhETUkgbW9kZSAqLwogCXRlbXAgPSBU
UkFOU19ERElfRlVOQ19FTkFCTEU7Ci0JdGVtcCB8PSBUUkFOU19ERElfU0VMRUNUX1BPUlQocG9y
dCk7CisJaWYgKElOVEVMX0dFTihkZXZfcHJpdikgPj0gMTIpCisJCXRlbXAgfD0gVEdMX1RSQU5T
X0RESV9TRUxFQ1RfUE9SVChwb3J0KTsKKwllbHNlCisJCXRlbXAgfD0gVFJBTlNfRERJX1NFTEVD
VF9QT1JUKHBvcnQpOwogCiAJc3dpdGNoIChjcnRjX3N0YXRlLT5waXBlX2JwcCkgewogCWNhc2Ug
MTg6CkBAIC0xODUwLDggKzE4NTMsMTQgQEAgdm9pZCBpbnRlbF9kZGlfZGlzYWJsZV90cmFuc2Nv
ZGVyX2Z1bmMoY29uc3Qgc3RydWN0IGludGVsX2NydGNfc3RhdGUgKmNydGNfc3RhdGUKIAlpOTE1
X3JlZ190IHJlZyA9IFRSQU5TX0RESV9GVU5DX0NUTChjcHVfdHJhbnNjb2Rlcik7CiAJdTMyIHZh
bCA9IEk5MTVfUkVBRChyZWcpOwogCi0JdmFsICY9IH4oVFJBTlNfRERJX0ZVTkNfRU5BQkxFIHwg
VFJBTlNfRERJX1BPUlRfTUFTSyB8IFRSQU5TX0RESV9EUF9WQ19QQVlMT0FEX0FMTE9DKTsKLQl2
YWwgfD0gVFJBTlNfRERJX1BPUlRfTk9ORTsKKwlpZiAoSU5URUxfR0VOKGRldl9wcml2KSA+PSAx
MikgeworCQl2YWwgJj0gfihUUkFOU19ERElfRlVOQ19FTkFCTEUgfCBUR0xfVFJBTlNfRERJX1BP
UlRfTUFTSyB8CisJCQkgVFJBTlNfRERJX0RQX1ZDX1BBWUxPQURfQUxMT0MpOworCX0gZWxzZSB7
CisJCXZhbCAmPSB+KFRSQU5TX0RESV9GVU5DX0VOQUJMRSB8IFRSQU5TX0RESV9QT1JUX01BU0sg
fAorCQkJIFRSQU5TX0RESV9EUF9WQ19QQVlMT0FEX0FMTE9DKTsKKwkJdmFsIHw9IFRSQU5TX0RE
SV9QT1JUX05PTkU7CisJfQogCUk5MTVfV1JJVEUocmVnLCB2YWwpOwogCiAJaWYgKGRldl9wcml2
LT5xdWlya3MgJiBRVUlSS19JTkNSRUFTRV9ERElfRElTQUJMRURfVElNRSAmJgpAQCAtMjAwMywx
MCArMjAxMiwxOSBAQCBzdGF0aWMgdm9pZCBpbnRlbF9kZGlfZ2V0X2VuY29kZXJfcGlwZXMoc3Ry
dWN0IGludGVsX2VuY29kZXIgKmVuY29kZXIsCiAJbXN0X3BpcGVfbWFzayA9IDA7CiAJZm9yX2Vh
Y2hfcGlwZShkZXZfcHJpdiwgcCkgewogCQllbnVtIHRyYW5zY29kZXIgY3B1X3RyYW5zY29kZXIg
PSAoZW51bSB0cmFuc2NvZGVyKXA7CisJCXVuc2lnbmVkIGludCBwb3J0X21hc2ssIGRkaV9zZWxl
Y3Q7CisKKwkJaWYgKElOVEVMX0dFTihkZXZfcHJpdikgPj0gMTIpIHsKKwkJCXBvcnRfbWFzayA9
IFRHTF9UUkFOU19ERElfUE9SVF9NQVNLOworCQkJZGRpX3NlbGVjdCA9IFRHTF9UUkFOU19ERElf
U0VMRUNUX1BPUlQocG9ydCk7CisJCX0gZWxzZSB7CisJCQlwb3J0X21hc2sgPSBUUkFOU19ERElf
UE9SVF9NQVNLOworCQkJZGRpX3NlbGVjdCA9IFRSQU5TX0RESV9TRUxFQ1RfUE9SVChwb3J0KTsK
KwkJfQogCiAJCXRtcCA9IEk5MTVfUkVBRChUUkFOU19ERElfRlVOQ19DVEwoY3B1X3RyYW5zY29k
ZXIpKTsKIAotCQlpZiAoKHRtcCAmIFRSQU5TX0RESV9QT1JUX01BU0spICE9IFRSQU5TX0RESV9T
RUxFQ1RfUE9SVChwb3J0KSkKKwkJaWYgKCh0bXAgJiBwb3J0X21hc2spICE9IGRkaV9zZWxlY3Qp
CiAJCQljb250aW51ZTsKIAogCQlpZiAoKHRtcCAmIFRSQU5TX0RESV9NT0RFX1NFTEVDVF9NQVNL
KSA9PQpAQCAtMjEyMiw5ICsyMTQwLDE0IEBAIHZvaWQgaW50ZWxfZGRpX2VuYWJsZV9waXBlX2Ns
b2NrKGNvbnN0IHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpjcnRjX3N0YXRlKQogCWVudW0gcG9y
dCBwb3J0ID0gZW5jb2Rlci0+cG9ydDsKIAllbnVtIHRyYW5zY29kZXIgY3B1X3RyYW5zY29kZXIg
PSBjcnRjX3N0YXRlLT5jcHVfdHJhbnNjb2RlcjsKIAotCWlmIChjcHVfdHJhbnNjb2RlciAhPSBU
UkFOU0NPREVSX0VEUCkKLQkJSTkxNV9XUklURShUUkFOU19DTEtfU0VMKGNwdV90cmFuc2NvZGVy
KSwKLQkJCSAgIFRSQU5TX0NMS19TRUxfUE9SVChwb3J0KSk7CisJaWYgKGNwdV90cmFuc2NvZGVy
ICE9IFRSQU5TQ09ERVJfRURQKSB7CisJCWlmIChJTlRFTF9HRU4oZGV2X3ByaXYpID49IDEyKQor
CQkJSTkxNV9XUklURShUUkFOU19DTEtfU0VMKGNwdV90cmFuc2NvZGVyKSwKKwkJCQkgICBUR0xf
VFJBTlNfQ0xLX1NFTF9QT1JUKHBvcnQpKTsKKwkJZWxzZQorCQkJSTkxNV9XUklURShUUkFOU19D
TEtfU0VMKGNwdV90cmFuc2NvZGVyKSwKKwkJCQkgICBUUkFOU19DTEtfU0VMX1BPUlQocG9ydCkp
OworCX0KIH0KIAogdm9pZCBpbnRlbF9kZGlfZGlzYWJsZV9waXBlX2Nsb2NrKGNvbnN0IHN0cnVj
dCBpbnRlbF9jcnRjX3N0YXRlICpjcnRjX3N0YXRlKQpAQCAtMjEzMiw5ICsyMTU1LDE0IEBAIHZv
aWQgaW50ZWxfZGRpX2Rpc2FibGVfcGlwZV9jbG9jayhjb25zdCBzdHJ1Y3QgaW50ZWxfY3J0Y19z
dGF0ZSAqY3J0Y19zdGF0ZSkKIAlzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYgPSB0
b19pOTE1KGNydGNfc3RhdGUtPmJhc2UuY3J0Yy0+ZGV2KTsKIAllbnVtIHRyYW5zY29kZXIgY3B1
X3RyYW5zY29kZXIgPSBjcnRjX3N0YXRlLT5jcHVfdHJhbnNjb2RlcjsKIAotCWlmIChjcHVfdHJh
bnNjb2RlciAhPSBUUkFOU0NPREVSX0VEUCkKLQkJSTkxNV9XUklURShUUkFOU19DTEtfU0VMKGNw
dV90cmFuc2NvZGVyKSwKLQkJCSAgIFRSQU5TX0NMS19TRUxfRElTQUJMRUQpOworCWlmIChjcHVf
dHJhbnNjb2RlciAhPSBUUkFOU0NPREVSX0VEUCkgeworCQlpZiAoSU5URUxfR0VOKGRldl9wcml2
KSA+PSAxMikKKwkJCUk5MTVfV1JJVEUoVFJBTlNfQ0xLX1NFTChjcHVfdHJhbnNjb2RlciksCisJ
CQkJICAgVEdMX1RSQU5TX0NMS19TRUxfRElTQUJMRUQpOworCQllbHNlCisJCQlJOTE1X1dSSVRF
KFRSQU5TX0NMS19TRUwoY3B1X3RyYW5zY29kZXIpLAorCQkJCSAgIFRSQU5TX0NMS19TRUxfRElT
QUJMRUQpOworCX0KIH0KIAogc3RhdGljIHZvaWQgX3NrbF9kZGlfc2V0X2lib29zdChzdHJ1Y3Qg
ZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYsCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0v
aTkxNS9pOTE1X3JlZy5oIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9yZWcuaAppbmRleCA1
MWI1ODlmZTY1MWEuLmNkNTJiMzRkYWQ0NSAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5
MTUvaTkxNV9yZWcuaAorKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3JlZy5oCkBAIC05
MzY0LDggKzkzNjQsMTAgQEAgZW51bSBza2xfcG93ZXJfZ2F0ZSB7CiAjZGVmaW5lICBUUkFOU19E
RElfRlVOQ19FTkFCTEUJCSgxIDw8IDMxKQogLyogVGhvc2UgYml0cyBhcmUgaWdub3JlZCBieSBw
aXBlIEVEUCBzaW5jZSBpdCBjYW4gb25seSBjb25uZWN0IHRvIERESSBBICovCiAjZGVmaW5lICBU
UkFOU19ERElfUE9SVF9NQVNLCQkoNyA8PCAyOCkKKyNkZWZpbmUgIFRHTF9UUkFOU19ERElfUE9S
VF9NQVNLCSgweGYgPDwgMjcpCiAjZGVmaW5lICBUUkFOU19ERElfUE9SVF9TSElGVAkJMjgKICNk
ZWZpbmUgIFRSQU5TX0RESV9TRUxFQ1RfUE9SVCh4KQkoKHgpIDw8IDI4KQorI2RlZmluZSAgVEdM
X1RSQU5TX0RESV9TRUxFQ1RfUE9SVCh4KQkoKCh4KSArIDEpIDw8IDI3KQogI2RlZmluZSAgVFJB
TlNfRERJX1BPUlRfTk9ORQkJKDAgPDwgMjgpCiAjZGVmaW5lICBUUkFOU19ERElfTU9ERV9TRUxF
Q1RfTUFTSwkoNyA8PCAyNCkKICNkZWZpbmUgIFRSQU5TX0RESV9NT0RFX1NFTEVDVF9IRE1JCSgw
IDw8IDI0KQpAQCAtOTU3Niw2ICs5NTc4LDkgQEAgZW51bSBza2xfcG93ZXJfZ2F0ZSB7CiAvKiBG
b3IgZWFjaCB0cmFuc2NvZGVyLCB3ZSBuZWVkIHRvIHNlbGVjdCB0aGUgY29ycmVzcG9uZGluZyBw
b3J0IGNsb2NrICovCiAjZGVmaW5lICBUUkFOU19DTEtfU0VMX0RJU0FCTEVECQkoMHgwIDw8IDI5
KQogI2RlZmluZSAgVFJBTlNfQ0xLX1NFTF9QT1JUKHgpCQkoKCh4KSArIDEpIDw8IDI5KQorI2Rl
ZmluZSAgVEdMX1RSQU5TX0NMS19TRUxfRElTQUJMRUQJKDB4MCA8PCAyOCkKKyNkZWZpbmUgIFRH
TF9UUkFOU19DTEtfU0VMX1BPUlQoeCkJKCgoeCkgKyAxKSA8PCAyOCkKKwogCiAjZGVmaW5lIENE
Q0xLX0ZSRVEJCQlfTU1JTygweDQ2MjAwKQogCi0tIAoyLjIxLjAKCl9fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCkludGVsLWdmeCBtYWlsaW5nIGxpc3QKSW50
ZWwtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9y
Zy9tYWlsbWFuL2xpc3RpbmZvL2ludGVsLWdmeA==

Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 8BA293B48F6
	for <lists+intel-gfx@lfdr.de>; Fri, 25 Jun 2021 20:50:03 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 552C56EE36;
	Fri, 25 Jun 2021 18:49:58 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga14.intel.com (mga14.intel.com [192.55.52.115])
 by gabe.freedesktop.org (Postfix) with ESMTPS id A40656EE2F;
 Fri, 25 Jun 2021 18:49:56 +0000 (UTC)
IronPort-SDR: WFxuc/qHMQzyX0bMHlG7aS8VUfQTxDsLhoHRFEtjLqCCnarNTAo2dbTr7Kws3swZ84i7POUZYo
 STGnrLFV0SIw==
X-IronPort-AV: E=McAfee;i="6200,9189,10026"; a="207544742"
X-IronPort-AV: E=Sophos;i="5.83,299,1616482800"; d="scan'208";a="207544742"
Received: from fmsmga008.fm.intel.com ([10.253.24.58])
 by fmsmga103.fm.intel.com with ESMTP/TLS/ECDHE-RSA-AES256-GCM-SHA384;
 25 Jun 2021 11:49:49 -0700
IronPort-SDR: n7Ft7dLYQjfzeEHu3a+gsOJ7bRdVaKyJP/3/dJ6btGPLj8Zx7uhZlhwJAhhS6RNgrgxM9yMdCx
 o1x9f+UEiNCQ==
X-IronPort-AV: E=Sophos;i="5.83,299,1616482800"; d="scan'208";a="455531518"
Received: from liordavi-mobl.ger.corp.intel.com (HELO [10.249.254.242])
 ([10.249.254.242])
 by fmsmga008-auth.fm.intel.com with ESMTP/TLS/ECDHE-RSA-AES256-GCM-SHA384;
 25 Jun 2021 11:49:48 -0700
To: "Ruhl, Michael J" <michael.j.ruhl@intel.com>,
 "intel-gfx@lists.freedesktop.org" <intel-gfx@lists.freedesktop.org>,
 "dri-devel@lists.freedesktop.org" <dri-devel@lists.freedesktop.org>
References: <20210624183110.22582-1-thomas.hellstrom@linux.intel.com>
 <20210624183110.22582-5-thomas.hellstrom@linux.intel.com>
 <5304ae661abb43a0816a485db9d3bbb5@intel.com>
 <cd90ba70-15f8-af0a-8810-2ee7939622a2@linux.intel.com>
 <5e9a46340f254928be6264e4e61eeab8@intel.com>
 <8cffb2f2-4401-2cdf-1ab3-98cc2d879b00@linux.intel.com>
 <6ca4bd4f3fde427ea8e2b0de61bbde65@intel.com>
From: =?UTF-8?Q?Thomas_Hellstr=c3=b6m?= <thomas.hellstrom@linux.intel.com>
Message-ID: <3aa6d76f-eb4e-c2c7-0e8c-f87960cbff00@linux.intel.com>
Date: Fri, 25 Jun 2021 20:49:45 +0200
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:78.0) Gecko/20100101
 Thunderbird/78.10.1
MIME-Version: 1.0
In-Reply-To: <6ca4bd4f3fde427ea8e2b0de61bbde65@intel.com>
Content-Language: en-US
Subject: Re: [Intel-gfx] [PATCH 4/4] drm/i915/gem: Migrate to system at
 dma-buf map time
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: "Auld, Matthew" <matthew.auld@intel.com>
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

SGksIE1pa2UsCgpPbiA2LzI1LzIxIDc6NTcgUE0sIFJ1aGwsIE1pY2hhZWwgSiB3cm90ZToKPj4g
LS0tLS1PcmlnaW5hbCBNZXNzYWdlLS0tLS0KPj4gRnJvbTogVGhvbWFzIEhlbGxzdHLDtm0gPHRo
b21hcy5oZWxsc3Ryb21AbGludXguaW50ZWwuY29tPgo+PiBTZW50OiBGcmlkYXksIEp1bmUgMjUs
IDIwMjEgMTo1MiBQTQo+PiBUbzogUnVobCwgTWljaGFlbCBKIDxtaWNoYWVsLmoucnVobEBpbnRl
bC5jb20+OyBpbnRlbC0KPj4gZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZzsgZHJpLWRldmVsQGxp
c3RzLmZyZWVkZXNrdG9wLm9yZwo+PiBDYzogQXVsZCwgTWF0dGhldyA8bWF0dGhldy5hdWxkQGlu
dGVsLmNvbT4KPj4gU3ViamVjdDogUmU6IFtQQVRDSCA0LzRdIGRybS9pOTE1L2dlbTogTWlncmF0
ZSB0byBzeXN0ZW0gYXQgZG1hLWJ1ZiBtYXAKPj4gdGltZQo+Pgo+Pgo+PiBPbiA2LzI1LzIxIDc6
MzggUE0sIFJ1aGwsIE1pY2hhZWwgSiB3cm90ZToKPj4+PiAtLS0tLU9yaWdpbmFsIE1lc3NhZ2Ut
LS0tLQo+Pj4+IEZyb206IFRob21hcyBIZWxsc3Ryw7ZtIDx0aG9tYXMuaGVsbHN0cm9tQGxpbnV4
LmludGVsLmNvbT4KPj4+PiBTZW50OiBGcmlkYXksIEp1bmUgMjUsIDIwMjEgMTI6MTggUE0KPj4+
PiBUbzogUnVobCwgTWljaGFlbCBKIDxtaWNoYWVsLmoucnVobEBpbnRlbC5jb20+OyBpbnRlbC0K
Pj4+PiBnZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnOyBkcmktZGV2ZWxAbGlzdHMuZnJlZWRlc2t0
b3Aub3JnCj4+Pj4gQ2M6IEF1bGQsIE1hdHRoZXcgPG1hdHRoZXcuYXVsZEBpbnRlbC5jb20+Cj4+
Pj4gU3ViamVjdDogUmU6IFtQQVRDSCA0LzRdIGRybS9pOTE1L2dlbTogTWlncmF0ZSB0byBzeXN0
ZW0gYXQgZG1hLWJ1Zgo+PiBtYXAKPj4+PiB0aW1lCj4+Pj4KPj4+PiBIaSwgTWljaGFlbCwKPj4+
Pgo+Pj4+IHRoYW5rcyBmb3IgbG9va2luZyBhdCB0aGlzLgo+Pj4+Cj4+Pj4gT24gNi8yNS8yMSA2
OjAyIFBNLCBSdWhsLCBNaWNoYWVsIEogd3JvdGU6Cj4+Pj4+PiAtLS0tLU9yaWdpbmFsIE1lc3Nh
Z2UtLS0tLQo+Pj4+Pj4gRnJvbTogZHJpLWRldmVsIDxkcmktZGV2ZWwtYm91bmNlc0BsaXN0cy5m
cmVlZGVza3RvcC5vcmc+IE9uIEJlaGFsZgo+PiBPZgo+Pj4+Pj4gVGhvbWFzIEhlbGxzdHLDtm0K
Pj4+Pj4+IFNlbnQ6IFRodXJzZGF5LCBKdW5lIDI0LCAyMDIxIDI6MzEgUE0KPj4+Pj4+IFRvOiBp
bnRlbC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnOyBkcmktZGV2ZWxAbGlzdHMuZnJlZWRlc2t0
b3Aub3JnCj4+Pj4+PiBDYzogVGhvbWFzIEhlbGxzdHLDtm0gPHRob21hcy5oZWxsc3Ryb21AbGlu
dXguaW50ZWwuY29tPjsgQXVsZCwKPj4+PiBNYXR0aGV3Cj4+Pj4+PiA8bWF0dGhldy5hdWxkQGlu
dGVsLmNvbT4KPj4+Pj4+IFN1YmplY3Q6IFtQQVRDSCA0LzRdIGRybS9pOTE1L2dlbTogTWlncmF0
ZSB0byBzeXN0ZW0gYXQgZG1hLWJ1ZiBtYXAKPj4+PiB0aW1lCj4+Pj4+PiBVbnRpbCB3ZSBzdXBw
b3J0IHAycCBkbWEgb3IgYXMgYSBjb21wbGVtZW50IHRvIHRoYXQsIG1pZ3JhdGUgZGF0YQo+Pj4+
Pj4gdG8gc3lzdGVtIG1lbW9yeSBhdCBkbWEtYnVmIG1hcCB0aW1lIGlmIHBvc3NpYmxlLgo+Pj4+
Pj4KPj4+Pj4+IFNpZ25lZC1vZmYtYnk6IFRob21hcyBIZWxsc3Ryw7ZtIDx0aG9tYXMuaGVsbHN0
cm9tQGxpbnV4LmludGVsLmNvbT4KPj4+Pj4+IC0tLQo+Pj4+Pj4gZHJpdmVycy9ncHUvZHJtL2k5
MTUvZ2VtL2k5MTVfZ2VtX2RtYWJ1Zi5jIHwgOSArKysrKysrKy0KPj4+Pj4+IDEgZmlsZSBjaGFu
Z2VkLCA4IGluc2VydGlvbnMoKyksIDEgZGVsZXRpb24oLSkKPj4+Pj4+Cj4+Pj4+PiBkaWZmIC0t
Z2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX2RtYWJ1Zi5jCj4+Pj4+PiBi
L2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9kbWFidWYuYwo+Pj4+Pj4gaW5kZXgg
NjE2YzNhMmYxYmFmLi5hNTJmODg1YmMwOWEgMTAwNjQ0Cj4+Pj4+PiAtLS0gYS9kcml2ZXJzL2dw
dS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fZG1hYnVmLmMKPj4+Pj4+ICsrKyBiL2RyaXZlcnMvZ3B1
L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9kbWFidWYuYwo+Pj4+Pj4gQEAgLTI1LDcgKzI1LDE0IEBA
IHN0YXRpYyBzdHJ1Y3Qgc2dfdGFibGUKPj4+PiAqaTkxNV9nZW1fbWFwX2RtYV9idWYoc3RydWN0
Cj4+Pj4+PiBkbWFfYnVmX2F0dGFjaG1lbnQgKmF0dGFjaG1lCj4+Pj4+PiAJc3RydWN0IHNjYXR0
ZXJsaXN0ICpzcmMsICpkc3Q7Cj4+Pj4+PiAJaW50IHJldCwgaTsKPj4+Pj4+Cj4+Pj4+PiAtCXJl
dCA9IGk5MTVfZ2VtX29iamVjdF9waW5fcGFnZXNfdW5sb2NrZWQob2JqKTsKPj4+Pj4+ICsJcmV0
ID0gaTkxNV9nZW1fb2JqZWN0X2xvY2tfaW50ZXJydXB0aWJsZShvYmosIE5VTEwpOwo+Pj4+PiBI
bW0sIEkgYmVsaWV2ZSBpbiBtb3N0IGNhc2VzIHRoYXQgdGhlIGNhbGxlciBzaG91bGQgYmUgaG9s
ZGluZyB0aGUKPj4+Pj4gbG9jayAob2JqZWN0IGRtYS1yZXN2KSBvbiB0aGlzIG9iamVjdCBhbHJl
YWR5Lgo+Pj4+IFllcywgSSBhZ3JlZSwgSW4gcGFydGljdWxhciBmb3Igb3RoZXIgaW5zdGFuY2Vz
IG9mIG91ciBvd24gZHJpdmVyLMKgIGF0Cj4+Pj4gbGVhc3Qgc2luY2UgdGhlIGRtYV9yZXN2IGlu
dHJvZHVjdGlvbi4KPj4+Pgo+Pj4+IEJ1dCBJIGFsc28gdGhpbmsgdGhhdCdzIGEgcHJlLWV4aXN0
aW5nIGJ1Zywgc2luY2UKPj4+PiBpOTE1X2dlbV9vYmplY3RfcGluX3BhZ2VzX3VubG9ja2VkKCkg
d2lsbCBhbHNvIHRha2UgdGhlIGxvY2suCj4+PiBPdWNoIHllcy4gIE1pc3NlZCB0aGF0Lgo+Pj4K
Pj4+PiBJIFRoaW5rIHdlIG5lZWQgdG8gaW5pdGlhbGx5IG1ha2UgdGhlIGV4cG9ydGVyIGR5bmFt
aWMtY2FwYWJsZSB0bwo+Pj4+IHJlc29sdmUgdGhpcywgYW5kIGRyb3AgdGhlIGxvY2tpbmcgaGVy
ZSBjb21wbGV0ZWx5LCBhcyBkbWEtYnVmIGRvY3Mgc2F5cwo+Pj4+IHRoYXQgd2UncmUgdGhlbiBn
dWFyYW50ZWVkIHRvIGdldCBjYWxsZWQgd2l0aCB0aGUgb2JqZWN0IGxvY2sgaGVsZC4KPj4+Pgo+
Pj4+IEkgZmlndXJlIGlmIHdlIG1ha2UgdGhlIGV4cG9ydGVyIGR5bmFtaWMsIHdlIG5lZWQgdG8g
bWlncmF0ZSBhbHJlYWR5IGF0Cj4+Pj4gZG1hX2J1Zl9waW4gdGltZSBzbyB3ZSBkb24ndCBwaW4g
dGhlIG9iamVjdCBpbiB0aGUgd3JvbmcgbG9jYXRpb24uCj4+PiBUaGUgZXhwb3J0ZXIgYXMgZHlu
YW1pYyAgKG9wcy0+cGluIGlzIGF2YWlsYWJsZSkgaXMgb3B0aW9uYWwsIGJ1dCBpbXBvcnRlcgo+
Pj4gZHluYW1pYyAob3BzLT5tb3ZlX25vdGlmeSkgaXMgcmVxdWlyZWQuCj4+Pgo+Pj4gV2l0aCB0
aGF0IGluIG1pbmQsIGl0IHdvdWxkIHNlZW0gdGhhdCB0aGVyZSBhcmUgdGhyZWUgcG9zc2libGUg
Y29tYmluYXRpb25zCj4+PiBmb3IgdGhlIG1pZ3JhdGUgdG8gYmUgYXR0ZW1wdGVkOgo+Pj4KPj4+
IDEpIGluIHRoZSBvcHMtPnBpbiBmdW5jdGlvbiAoZXhwb3J0X2R5bmFtaWMgIT0gaW1wb3J0X2R5
bmFtaWMsIGR1cmluZwo+PiBhdHRhY2gpCj4+PiAyKSBpbiB0aGUgb3BzLT5waW4gZnVuY3Rpb24g
KGV4cG9ydF9keW5hbWljIGFuZAo+PiAhQ09ORklHX0RNQUJVRl9NT1ZFX05PVElGWSkgZHVyaW5n
IG1hcHBpbmcKPj4+IDMpIGFuZCBwb3NzaWJseSBpbiBvcHMtPm1hcF9kbWFfYnVmIChleG9ydF9k
eW5hbWljIGlhbmQKPj4gQ09ORklHX0RNQUJVRl9NT1ZFX05PVElGWSkKPj4+IFNpbmNlIG9uZSBw
b3NzaWJpbGl0eSBoYXMgdG8gYmUgaW4gdGhlIG1hcHBpbmcgZnVuY3Rpb24sIGl0IHNlZW1zIHRo
YXQgaWYgd2UKPj4+IGNhbiBmaWd1cmUgb3V0IHRoZSBsb2NraW5nLCB0aGF0IHRoZSBtaWdyYXRl
IHNob3VsZCBwcm9iYWJseSBiZSBhdmFpbGFibGUKPj4gaGVyZS4KPj4+IE1pa2UKPj4gU28gcGVy
aGFwcyBqdXN0IHRvIGluaXRpYWxseSBmaXggdGhlIGJ1Zywgd2UgY291bGQganVzdCBpbXBsZW1l
bnQgTk9QCj4+IHBpbigpIGFuZCB1bnBpbigpIGNhbGxiYWNrcyBhbmQgZHJvcCB0aGUgbG9ja2lu
ZyBpbiBtYXBfYXR0YWNoKCkgYW5kCj4+IHJlcGxhY2UgaXQgd2l0aCBhbiBhc3NlcnRfb2JqZWN0
X2hlbGQoKTsKPiBUaGF0IGlzIHRoZSBzdGlja3kgcGFydCBvZiB0aGUgbW92ZSBub3RpZnkgQVBJ
Lgo+Cj4gSWYgeW91IGRvIHRoZSBhdHRhY2hfZHluYW1pYyB5b3UgaGF2ZSB0byBoYXZlIGFuIG9w
cyB3aXRoIG1vdmVfbm90aWZ5Lgo+Cj4gKGh0dHBzOi8vZWxpeGlyLmJvb3RsaW4uY29tL2xpbnV4
L3Y1LjEzLXJjNy9zb3VyY2UvZHJpdmVycy9kbWEtYnVmL2RtYS1idWYuYyNMNzMwKQo+Cj4gSWYg
eW91IGRvbid0IGhhdmUgdGhhdCwgaS5lLiBqdXN0IHRoZSBwaW4gaW50ZXJmYWNlLCB0aGUgYXR0
YWNoIHdpbGwgYmUKPiByZWplY3RlZCwgYW5kIHlvdSB3aWxsIG5vdCBnZXQgdGhlIGNhbGxiYWNr
cy4KCkkgdW5kZXJzdG9vZCB0aGF0IGFzIHRoZSByZXF1aXJlbWVudCBmb3IgbW92ZV9ub3RpZnkg
aXMgb25seSBpZiB0aGUgCippbXBvcnRlciogZGVjbGFyZXMgZHluYW1pYy4gQSBkeW5hbWljIGV4
cG9ydGVyIGNvdWxkIGNob29zZSB3aGV0aGVyIHRvIApjYWxsIG1vdmVfbm90aWZ5KCkgb24gZXZp
Y3Rpb24gb3IgdG8gcGluIGFuZCBuZXZlciBldmljdC4gSWYgdGhlIAppbXBvcnRlciBpcyBub24t
ZHluYW1pYywgdGhlIGNvcmUgY2FsbHMgcGluKCkgYW5kIHRoZSBvbmx5IGNob2ljZSBpcyB0byAK
cGluIGFuZCBuZXZlciBldmljdC4KClNvIGlmIHdlIHRlbXBvcmFyaWx5IGNob29zZSB0byBwaW4g
YW5kIG5ldmVyIGV2aWN0IGZvciAqZXZlcnl0aGluZyosIChhcyAKdGhlIGN1cnJlbnQgY29kZSBk
b2VzIG5vdyksIEkgdGhpbmsgd2Ugc2hvdWxkIGJlIGdvb2QgZm9yIG5vdywgYW5kIHRoZW4gCndl
IGNhbiBpbXBsZW1lbnQgYWxsIGZhbmN5IHAycCBhbmQgbW92ZV9ub3RpZnkgc3R1ZmYgb24gdG9w
IG9mIHRoYXQuCgovVGhvbWFzCgoKPgo+IFNvIEkgdGhpbmsgdGhhdCB0aGUgb25seSB0aGluZyB3
ZSBjYW4gZG8gZm9yIG5vdyBpcyB0byBkb3AgdGhlIGxvY2tpbmcgYW5kIGFkZCB0aGUKPgo+IGFz
c2VydF9vYmplY3RfaGVsZCgpOwo+Cj4gTQoKCgo+Cj4+IC9UaG9tYXMKPj4KX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KSW50ZWwtZ2Z4IG1haWxpbmcgbGlz
dApJbnRlbC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0
b3Aub3JnL21haWxtYW4vbGlzdGluZm8vaW50ZWwtZ2Z4Cg==

Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 303D54BFA3
	for <lists+intel-gfx@lfdr.de>; Wed, 19 Jun 2019 19:30:59 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 3F0396E444;
	Wed, 19 Jun 2019 17:30:57 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from fireflyinternet.com (mail.fireflyinternet.com [109.228.58.192])
 by gabe.freedesktop.org (Postfix) with ESMTPS id C93506E444
 for <intel-gfx@lists.freedesktop.org>; Wed, 19 Jun 2019 17:30:55 +0000 (UTC)
X-Default-Received-SPF: pass (skip=forwardok (res=PASS))
 x-ip-name=78.156.65.138; 
Received: from localhost (unverified [78.156.65.138]) 
 by fireflyinternet.com (Firefly Internet (M1)) with ESMTP (TLS) id
 16956665-1500050 for multiple; Wed, 19 Jun 2019 18:30:49 +0100
MIME-Version: 1.0
From: Chris Wilson <chris@chris-wilson.co.uk>
User-Agent: alot/0.6
To: Ville Syrjala <ville.syrjala@linux.intel.com>,
 intel-gfx@lists.freedesktop.org
References: <20190619170842.20579-1-ville.syrjala@linux.intel.com>
 <20190619170842.20579-3-ville.syrjala@linux.intel.com>
In-Reply-To: <20190619170842.20579-3-ville.syrjala@linux.intel.com>
Message-ID: <156096545101.21217.10224995903925250648@skylake-alporthouse-com>
Date: Wed, 19 Jun 2019 18:30:51 +0100
Subject: Re: [Intel-gfx] [PATCH 2/4] drm/i915: Switch to per-crtc vblank
 vfuncs
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

UXVvdGluZyBWaWxsZSBTeXJqYWxhICgyMDE5LTA2LTE5IDE4OjA4OjQwKQo+IEZyb206IFZpbGxl
IFN5cmrDpGzDpCA8dmlsbGUuc3lyamFsYUBsaW51eC5pbnRlbC5jb20+Cj4gCj4gU3dpdGNoIGZy
b20gdGhlIGRyaXZlci13aWRlIHZibGFuayB2ZnVuY3MgdG8gdGhlIHBlci1jcnRjIG9uZXMgc28g
dGhhdAo+IHdlIGRvbid0IGhhdmUgc28gbWFueSBwbGF0Zm9ybSBzcGVjaWZpYyB2ZnVuY3MgaW4g
dGhlIGRyaXZlciBzdHJ1Y3QuCj4gCj4gV2Ugc3RpbGwgbmVlZCB0byBkbyBzb21ldGhpbmcgYWJv
dXQgdGhlIHJlc3QgZm8gdGhlIGlycSB2ZnVuY3MuLi4KPiAKPiB2Mjogcy9JTlRFTF9HRU4+PTMv
SVNfR0VOMy8KPiAKPiBTaWduZWQtb2ZmLWJ5OiBWaWxsZSBTeXJqw6Rsw6QgPHZpbGxlLnN5cmph
bGFAbGludXguaW50ZWwuY29tPgo+IC0tLQo+ICBkcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5
L2ludGVsX2Rpc3BsYXkuYyB8IDEwNCArKysrKysrKysrKysrKysrLS0tCj4gIGRyaXZlcnMvZ3B1
L2RybS9pOTE1L2k5MTVfaXJxLmMgICAgICAgICAgICAgIHwgIDkzICsrKysrKystLS0tLS0tLS0t
Cj4gIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfaXJxLmggICAgICAgICAgICAgIHwgIDE0ICsr
Kwo+ICAzIGZpbGVzIGNoYW5nZWQsIDE0MyBpbnNlcnRpb25zKCspLCA2OCBkZWxldGlvbnMoLSkK
PiAKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNw
bGF5LmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXkuYwo+IGlu
ZGV4IDVmMzBmMzQ4YjBjMC4uZTU1YmQ3NTUyOGMxIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1
L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheS5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJt
L2k5MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5LmMKPiBAQCAtMTM1NjcsNyArMTM1NjcsNyBAQCB1
MzIgaW50ZWxfY3J0Y19nZXRfdmJsYW5rX2NvdW50ZXIoc3RydWN0IGludGVsX2NydGMgKmNydGMp
Cj4gICAgICAgICBpZiAoIXZibGFuay0+bWF4X3ZibGFua19jb3VudCkKPiAgICAgICAgICAgICAg
ICAgcmV0dXJuICh1MzIpZHJtX2NydGNfYWNjdXJhdGVfdmJsYW5rX2NvdW50KCZjcnRjLT5iYXNl
KTsKPiAgCj4gLSAgICAgICByZXR1cm4gZGV2LT5kcml2ZXItPmdldF92YmxhbmtfY291bnRlcihk
ZXYsIGNydGMtPnBpcGUpOwo+ICsgICAgICAgcmV0dXJuIGNydGMtPmJhc2UuZnVuY3MtPmdldF92
YmxhbmtfY291bnRlcigmY3J0Yy0+YmFzZSk7Cj4gIH0KPiAgCj4gIHN0YXRpYyB2b2lkIGludGVs
X3VwZGF0ZV9jcnRjKHN0cnVjdCBkcm1fY3J0YyAqY3J0YywKPiBAQCAtMTQxMDUsMTggKzE0MTA1
LDYgQEAgc3RhdGljIGludCBpbnRlbF9hdG9taWNfY29tbWl0KHN0cnVjdCBkcm1fZGV2aWNlICpk
ZXYsCj4gICAgICAgICByZXR1cm4gMDsKPiAgfQo+ICAKPiAtc3RhdGljIGNvbnN0IHN0cnVjdCBk
cm1fY3J0Y19mdW5jcyBpbnRlbF9jcnRjX2Z1bmNzID0gewo+IC0gICAgICAgLmdhbW1hX3NldCA9
IGRybV9hdG9taWNfaGVscGVyX2xlZ2FjeV9nYW1tYV9zZXQsCj4gLSAgICAgICAuc2V0X2NvbmZp
ZyA9IGRybV9hdG9taWNfaGVscGVyX3NldF9jb25maWcsCj4gLSAgICAgICAuZGVzdHJveSA9IGlu
dGVsX2NydGNfZGVzdHJveSwKPiAtICAgICAgIC5wYWdlX2ZsaXAgPSBkcm1fYXRvbWljX2hlbHBl
cl9wYWdlX2ZsaXAsCj4gLSAgICAgICAuYXRvbWljX2R1cGxpY2F0ZV9zdGF0ZSA9IGludGVsX2Ny
dGNfZHVwbGljYXRlX3N0YXRlLAo+IC0gICAgICAgLmF0b21pY19kZXN0cm95X3N0YXRlID0gaW50
ZWxfY3J0Y19kZXN0cm95X3N0YXRlLAo+IC0gICAgICAgLnNldF9jcmNfc291cmNlID0gaW50ZWxf
Y3J0Y19zZXRfY3JjX3NvdXJjZSwKPiAtICAgICAgIC52ZXJpZnlfY3JjX3NvdXJjZSA9IGludGVs
X2NydGNfdmVyaWZ5X2NyY19zb3VyY2UsCj4gLSAgICAgICAuZ2V0X2NyY19zb3VyY2VzID0gaW50
ZWxfY3J0Y19nZXRfY3JjX3NvdXJjZXMsCj4gLX07Cj4gLQo+ICBzdHJ1Y3Qgd2FpdF9ycHNfYm9v
c3Qgewo+ICAgICAgICAgc3RydWN0IHdhaXRfcXVldWVfZW50cnkgd2FpdDsKPiAgCj4gQEAgLTE0
OTEwLDggKzE0ODk4LDc2IEBAIHN0YXRpYyB2b2lkIGludGVsX2NydGNfaW5pdF9zY2FsZXJzKHN0
cnVjdCBpbnRlbF9jcnRjICpjcnRjLAo+ICAgICAgICAgc2NhbGVyX3N0YXRlLT5zY2FsZXJfaWQg
PSAtMTsKPiAgfQo+ICAKPiArI2RlZmluZSBJTlRFTF9DUlRDX0ZVTkNTIFwKPiArICAgICAgIC5n
YW1tYV9zZXQgPSBkcm1fYXRvbWljX2hlbHBlcl9sZWdhY3lfZ2FtbWFfc2V0LCBcCj4gKyAgICAg
ICAuc2V0X2NvbmZpZyA9IGRybV9hdG9taWNfaGVscGVyX3NldF9jb25maWcsIFwKPiArICAgICAg
IC5kZXN0cm95ID0gaW50ZWxfY3J0Y19kZXN0cm95LCBcCj4gKyAgICAgICAucGFnZV9mbGlwID0g
ZHJtX2F0b21pY19oZWxwZXJfcGFnZV9mbGlwLCBcCj4gKyAgICAgICAuYXRvbWljX2R1cGxpY2F0
ZV9zdGF0ZSA9IGludGVsX2NydGNfZHVwbGljYXRlX3N0YXRlLCBcCj4gKyAgICAgICAuYXRvbWlj
X2Rlc3Ryb3lfc3RhdGUgPSBpbnRlbF9jcnRjX2Rlc3Ryb3lfc3RhdGUsIFwKPiArICAgICAgIC5z
ZXRfY3JjX3NvdXJjZSA9IGludGVsX2NydGNfc2V0X2NyY19zb3VyY2UsIFwKPiArICAgICAgIC52
ZXJpZnlfY3JjX3NvdXJjZSA9IGludGVsX2NydGNfdmVyaWZ5X2NyY19zb3VyY2UsIFwKPiArICAg
ICAgIC5nZXRfY3JjX3NvdXJjZXMgPSBpbnRlbF9jcnRjX2dldF9jcmNfc291cmNlcwo+ICsKPiAr
c3RhdGljIGNvbnN0IHN0cnVjdCBkcm1fY3J0Y19mdW5jcyBiZHdfY3J0Y19mdW5jcyA9IHsKPiAr
ICAgICAgIElOVEVMX0NSVENfRlVOQ1MsCj4gKwo+ICsgICAgICAgLmdldF92YmxhbmtfY291bnRl
ciA9IGc0eF9nZXRfdmJsYW5rX2NvdW50ZXIsCj4gKyAgICAgICAuZW5hYmxlX3ZibGFuayA9IGJk
d19lbmFibGVfdmJsYW5rLAo+ICsgICAgICAgLmRpc2FibGVfdmJsYW5rID0gYmR3X2Rpc2FibGVf
dmJsYW5rLAoKVXNlZCBpZiAoSU5URUxfR0VOKGRldl9wcml2KSA+PSA4KSAmJiAhR01DSApVc2Vk
IHRvIGJlIGdlbjhfZW5hYmxlX3ZibGFuayBhbmQgdXNlZCBmb3IgYWxsIGdlbjgrICYmICFHTUNI
LgoKPiArfTsKPiArCj4gK3N0YXRpYyBjb25zdCBzdHJ1Y3QgZHJtX2NydGNfZnVuY3MgaWxrX2Ny
dGNfZnVuY3MgPSB7Cj4gKyAgICAgICBJTlRFTF9DUlRDX0ZVTkNTLAo+ICsKPiArICAgICAgIC5n
ZXRfdmJsYW5rX2NvdW50ZXIgPSBnNHhfZ2V0X3ZibGFua19jb3VudGVyLAo+ICsgICAgICAgLmVu
YWJsZV92YmxhbmsgPSBpbGtfZW5hYmxlX3ZibGFuaywKPiArICAgICAgIC5kaXNhYmxlX3ZibGFu
ayA9IGlsa19kaXNhYmxlX3ZibGFuaywKCklsay9Jcm9ubGFrZSBvbmx5LgoKPiArfTsKPiArCj4g
K3N0YXRpYyBjb25zdCBzdHJ1Y3QgZHJtX2NydGNfZnVuY3MgZzR4X2NydGNfZnVuY3MgPSB7Cj4g
KyAgICAgICBJTlRFTF9DUlRDX0ZVTkNTLAo+ICsKPiArICAgICAgIC5nZXRfdmJsYW5rX2NvdW50
ZXIgPSBnNHhfZ2V0X3ZibGFua19jb3VudGVyLAo+ICsgICAgICAgLmVuYWJsZV92YmxhbmsgPSBp
OTY1X2VuYWJsZV92YmxhbmssCj4gKyAgICAgICAuZGlzYWJsZV92YmxhbmsgPSBpOTY1X2Rpc2Fi
bGVfdmJsYW5rLAoKZzR4L3Zsdi9jaHYsIGNoZWNrcyBvdXQgc2FtZSBhcyBiZWZvcmUvYWZ0ZXIK
Cj4gK307Cj4gKwo+ICtzdGF0aWMgY29uc3Qgc3RydWN0IGRybV9jcnRjX2Z1bmNzIGk5NjVfY3J0
Y19mdW5jcyA9IHsKPiArICAgICAgIElOVEVMX0NSVENfRlVOQ1MsCj4gKwo+ICsgICAgICAgLmdl
dF92YmxhbmtfY291bnRlciA9IGk5MTVfZ2V0X3ZibGFua19jb3VudGVyLAo+ICsgICAgICAgLmVu
YWJsZV92YmxhbmsgPSBpOTY1X2VuYWJsZV92YmxhbmssCj4gKyAgICAgICAuZGlzYWJsZV92Ymxh
bmsgPSBpOTY1X2Rpc2FibGVfdmJsYW5rLAoKVGhlIHJlc3Qgb2YgZ2VuNAoKPiArfTsKPiArCj4g
K3N0YXRpYyBjb25zdCBzdHJ1Y3QgZHJtX2NydGNfZnVuY3MgaTk0NWdtX2NydGNfZnVuY3MgPSB7
Cj4gKyAgICAgICBJTlRFTF9DUlRDX0ZVTkNTLAo+ICsKPiArICAgICAgIC5nZXRfdmJsYW5rX2Nv
dW50ZXIgPSBpOTE1X2dldF92YmxhbmtfY291bnRlciwKPiArICAgICAgIC5lbmFibGVfdmJsYW5r
ID0gaTk0NWdtX2VuYWJsZV92YmxhbmssCj4gKyAgICAgICAuZGlzYWJsZV92YmxhbmsgPSBpOTQ1
Z21fZGlzYWJsZV92YmxhbmssCj4gK307Cj4gKwo+ICtzdGF0aWMgY29uc3Qgc3RydWN0IGRybV9j
cnRjX2Z1bmNzIGk5MTVfY3J0Y19mdW5jcyA9IHsKPiArICAgICAgIElOVEVMX0NSVENfRlVOQ1Ms
Cj4gKwo+ICsgICAgICAgLmdldF92YmxhbmtfY291bnRlciA9IGk5MTVfZ2V0X3ZibGFua19jb3Vu
dGVyLAo+ICsgICAgICAgLmVuYWJsZV92YmxhbmsgPSBpOHh4X2VuYWJsZV92YmxhbmssCj4gKyAg
ICAgICAuZGlzYWJsZV92YmxhbmsgPSBpOHh4X2Rpc2FibGVfdmJsYW5rLAo+ICt9Owo+ICsKPiAr
c3RhdGljIGNvbnN0IHN0cnVjdCBkcm1fY3J0Y19mdW5jcyBpOHh4X2NydGNfZnVuY3MgPSB7Cj4g
KyAgICAgICBJTlRFTF9DUlRDX0ZVTkNTLAo+ICsKPiArICAgICAgIC8qIG5vIGh3IHZibGFuayBj
b3VudGVyICovCj4gKyAgICAgICAuZW5hYmxlX3ZibGFuayA9IGk4eHhfZW5hYmxlX3ZibGFuaywK
PiArICAgICAgIC5kaXNhYmxlX3ZibGFuayA9IGk4eHhfZGlzYWJsZV92YmxhbmssCgpBbmQgdGhl
IGxvb2sgYWxsIGNvbnNpc3RlbnQuCgpJJ20gY29udmluY2VkIHRoYXQgdGhpcyBpcyBhbGwgdGhl
IHNhbWUgcGVyLXBsYXRmb3JtIGZ1bmN0aW9ucyBhcwpiZWZvcmUuCgpSZXZpZXdlZC1ieTogQ2hy
aXMgV2lsc29uIDxjaHJpc0BjaHJpcy13aWxzb24uY28udWs+Ci1DaHJpcwpfX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpJbnRlbC1nZnggbWFpbGluZyBsaXN0
CkludGVsLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3Rv
cC5vcmcvbWFpbG1hbi9saXN0aW5mby9pbnRlbC1nZng=

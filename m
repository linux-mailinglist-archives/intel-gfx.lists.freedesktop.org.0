Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 05FF110D9C0
	for <lists+intel-gfx@lfdr.de>; Fri, 29 Nov 2019 19:54:49 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 4BAA86EA33;
	Fri, 29 Nov 2019 18:54:47 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga14.intel.com (mga14.intel.com [192.55.52.115])
 by gabe.freedesktop.org (Postfix) with ESMTPS id C3F226EA03
 for <intel-gfx@lists.freedesktop.org>; Fri, 29 Nov 2019 18:54:43 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga002.jf.intel.com ([10.7.209.21])
 by fmsmga103.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 29 Nov 2019 10:54:43 -0800
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.69,258,1571727600"; d="scan'208";a="221681178"
Received: from stinkbox.fi.intel.com (HELO stinkbox) ([10.237.72.174])
 by orsmga002.jf.intel.com with SMTP; 29 Nov 2019 10:54:41 -0800
Received: by stinkbox (sSMTP sendmail emulation);
 Fri, 29 Nov 2019 20:54:40 +0200
From: Ville Syrjala <ville.syrjala@linux.intel.com>
To: intel-gfx@lists.freedesktop.org
Date: Fri, 29 Nov 2019 20:54:27 +0200
Message-Id: <20191129185434.25549-3-ville.syrjala@linux.intel.com>
X-Mailer: git-send-email 2.23.0
In-Reply-To: <20191129185434.25549-1-ville.syrjala@linux.intel.com>
References: <20191129185434.25549-1-ville.syrjala@linux.intel.com>
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH v2 2/9] drm/i915: Switch to intel_ types in
 debugfs display_info
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

RnJvbTogVmlsbGUgU3lyasOkbMOkIDx2aWxsZS5zeXJqYWxhQGxpbnV4LmludGVsLmNvbT4KClN3
aXRjaCB0byB1c2luZyBpbnRlbF8gdHlwZXMgaW4gdGhlICBkZWJ1Z2ZzIGRpc3BsYXlfaW5mbyBj
b2RlLgpTaG91bGQgbWFrZSBpdCBlYXNpZXIgdG8gaGFuZGxlIGJpZ2pvaW5lciBldGMuIGluIHRo
ZSBmdXR1cmUuCgpTaWduZWQtb2ZmLWJ5OiBWaWxsZSBTeXJqw6Rsw6QgPHZpbGxlLnN5cmphbGFA
bGludXguaW50ZWwuY29tPgotLS0KIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZGVidWdmcy5j
IHwgMTE5ICsrKysrKysrKysrKysrLS0tLS0tLS0tLS0tLS0KIDEgZmlsZSBjaGFuZ2VkLCA1OSBp
bnNlcnRpb25zKCspLCA2MCBkZWxldGlvbnMoLSkKCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9k
cm0vaTkxNS9pOTE1X2RlYnVnZnMuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZGVidWdm
cy5jCmluZGV4IDNmNTRlNjZhYjc2Mi4uMTZkM2MyNzNhNDUzIDEwMDY0NAotLS0gYS9kcml2ZXJz
L2dwdS9kcm0vaTkxNS9pOTE1X2RlYnVnZnMuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9p
OTE1X2RlYnVnZnMuYwpAQCAtMjM2Nyw3ICsyMzY3LDcgQEAgc3RhdGljIGludCBpOTE1X2RtY19p
bmZvKHN0cnVjdCBzZXFfZmlsZSAqbSwgdm9pZCAqdW51c2VkKQogfQogCiBzdGF0aWMgdm9pZCBp
bnRlbF9zZXFfcHJpbnRfbW9kZShzdHJ1Y3Qgc2VxX2ZpbGUgKm0sIGludCB0YWJzLAotCQkJCSBz
dHJ1Y3QgZHJtX2Rpc3BsYXlfbW9kZSAqbW9kZSkKKwkJCQkgY29uc3Qgc3RydWN0IGRybV9kaXNw
bGF5X21vZGUgKm1vZGUpCiB7CiAJaW50IGk7CiAKQEAgLTIzNzgsNTEgKzIzNzgsNTIgQEAgc3Rh
dGljIHZvaWQgaW50ZWxfc2VxX3ByaW50X21vZGUoc3RydWN0IHNlcV9maWxlICptLCBpbnQgdGFi
cywKIH0KIAogc3RhdGljIHZvaWQgaW50ZWxfZW5jb2Rlcl9pbmZvKHN0cnVjdCBzZXFfZmlsZSAq
bSwKLQkJCSAgICAgICBzdHJ1Y3QgaW50ZWxfY3J0YyAqaW50ZWxfY3J0YywKLQkJCSAgICAgICBz
dHJ1Y3QgaW50ZWxfZW5jb2RlciAqaW50ZWxfZW5jb2RlcikKKwkJCSAgICAgICBzdHJ1Y3QgaW50
ZWxfY3J0YyAqY3J0YywKKwkJCSAgICAgICBzdHJ1Y3QgaW50ZWxfZW5jb2RlciAqZW5jb2RlcikK
IHsKIAlzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYgPSBub2RlX3RvX2k5MTUobS0+
cHJpdmF0ZSk7CiAJc3RydWN0IGRybV9kZXZpY2UgKmRldiA9ICZkZXZfcHJpdi0+ZHJtOwotCXN0
cnVjdCBkcm1fY3J0YyAqY3J0YyA9ICZpbnRlbF9jcnRjLT5iYXNlOwotCXN0cnVjdCBpbnRlbF9j
b25uZWN0b3IgKmludGVsX2Nvbm5lY3RvcjsKLQlzdHJ1Y3QgZHJtX2VuY29kZXIgKmVuY29kZXI7
CisJc3RydWN0IGludGVsX2Nvbm5lY3RvciAqY29ubmVjdG9yOwogCi0JZW5jb2RlciA9ICZpbnRl
bF9lbmNvZGVyLT5iYXNlOwogCXNlcV9wcmludGYobSwgIlx0ZW5jb2RlciAlZDogdHlwZTogJXMs
IGNvbm5lY3RvcnM6XG4iLAotCQkgICBlbmNvZGVyLT5iYXNlLmlkLCBlbmNvZGVyLT5uYW1lKTsK
LQlmb3JfZWFjaF9jb25uZWN0b3Jfb25fZW5jb2RlcihkZXYsIGVuY29kZXIsIGludGVsX2Nvbm5l
Y3RvcikgewotCQlzdHJ1Y3QgZHJtX2Nvbm5lY3RvciAqY29ubmVjdG9yID0gJmludGVsX2Nvbm5l
Y3Rvci0+YmFzZTsKKwkJICAgZW5jb2Rlci0+YmFzZS5iYXNlLmlkLCBlbmNvZGVyLT5iYXNlLm5h
bWUpOworCisJZm9yX2VhY2hfY29ubmVjdG9yX29uX2VuY29kZXIoZGV2LCAmZW5jb2Rlci0+YmFz
ZSwgY29ubmVjdG9yKSB7CiAJCXNlcV9wcmludGYobSwgIlx0XHRjb25uZWN0b3IgJWQ6IHR5cGU6
ICVzLCBzdGF0dXM6ICVzIiwKLQkJCSAgIGNvbm5lY3Rvci0+YmFzZS5pZCwKLQkJCSAgIGNvbm5l
Y3Rvci0+bmFtZSwKLQkJCSAgIGRybV9nZXRfY29ubmVjdG9yX3N0YXR1c19uYW1lKGNvbm5lY3Rv
ci0+c3RhdHVzKSk7Ci0JCWlmIChjb25uZWN0b3ItPnN0YXR1cyA9PSBjb25uZWN0b3Jfc3RhdHVz
X2Nvbm5lY3RlZCkgewotCQkJc3RydWN0IGRybV9kaXNwbGF5X21vZGUgKm1vZGUgPSAmY3J0Yy0+
bW9kZTsKKwkJCSAgIGNvbm5lY3Rvci0+YmFzZS5iYXNlLmlkLCBjb25uZWN0b3ItPmJhc2UubmFt
ZSwKKwkJCSAgIGRybV9nZXRfY29ubmVjdG9yX3N0YXR1c19uYW1lKGNvbm5lY3Rvci0+YmFzZS5z
dGF0dXMpKTsKKworCQlpZiAoY29ubmVjdG9yLT5iYXNlLnN0YXR1cyA9PSBjb25uZWN0b3Jfc3Rh
dHVzX2Nvbm5lY3RlZCkgeworCQkJY29uc3Qgc3RydWN0IGludGVsX2NydGNfc3RhdGUgKmNydGNf
c3RhdGUgPQorCQkJCXRvX2ludGVsX2NydGNfc3RhdGUoY3J0Yy0+YmFzZS5zdGF0ZSk7CisKIAkJ
CXNlcV9wcmludGYobSwgIiwgbW9kZTpcbiIpOwotCQkJaW50ZWxfc2VxX3ByaW50X21vZGUobSwg
MiwgbW9kZSk7CisJCQlpbnRlbF9zZXFfcHJpbnRfbW9kZShtLCAyLCAmY3J0Y19zdGF0ZS0+aHcu
bW9kZSk7CiAJCX0gZWxzZSB7CiAJCQlzZXFfcHV0YyhtLCAnXG4nKTsKIAkJfQogCX0KIH0KIAot
c3RhdGljIHZvaWQgaW50ZWxfY3J0Y19pbmZvKHN0cnVjdCBzZXFfZmlsZSAqbSwgc3RydWN0IGlu
dGVsX2NydGMgKmludGVsX2NydGMpCitzdGF0aWMgdm9pZCBpbnRlbF9jcnRjX2luZm8oc3RydWN0
IHNlcV9maWxlICptLCBzdHJ1Y3QgaW50ZWxfY3J0YyAqY3J0YykKIHsKIAlzdHJ1Y3QgZHJtX2k5
MTVfcHJpdmF0ZSAqZGV2X3ByaXYgPSBub2RlX3RvX2k5MTUobS0+cHJpdmF0ZSk7CiAJc3RydWN0
IGRybV9kZXZpY2UgKmRldiA9ICZkZXZfcHJpdi0+ZHJtOwotCXN0cnVjdCBkcm1fY3J0YyAqY3J0
YyA9ICZpbnRlbF9jcnRjLT5iYXNlOwotCXN0cnVjdCBpbnRlbF9lbmNvZGVyICppbnRlbF9lbmNv
ZGVyOwotCXN0cnVjdCBkcm1fcGxhbmVfc3RhdGUgKnBsYW5lX3N0YXRlID0gY3J0Yy0+cHJpbWFy
eS0+c3RhdGU7Ci0Jc3RydWN0IGRybV9mcmFtZWJ1ZmZlciAqZmIgPSBwbGFuZV9zdGF0ZS0+ZmI7
CisJc3RydWN0IGludGVsX2VuY29kZXIgKmVuY29kZXI7CisJc3RydWN0IGludGVsX3BsYW5lICpw
bGFuZSA9IHRvX2ludGVsX3BsYW5lKGNydGMtPmJhc2UucHJpbWFyeSk7CisJY29uc3Qgc3RydWN0
IGludGVsX3BsYW5lX3N0YXRlICpwbGFuZV9zdGF0ZSA9CisJCXRvX2ludGVsX3BsYW5lX3N0YXRl
KHBsYW5lLT5iYXNlLnN0YXRlKTsKKwljb25zdCBzdHJ1Y3QgZHJtX2ZyYW1lYnVmZmVyICpmYiA9
IHBsYW5lX3N0YXRlLT51YXBpLmZiOwogCiAJaWYgKGZiKQogCQlzZXFfcHJpbnRmKG0sICJcdGZi
OiAlZCwgcG9zOiAlZHglZCwgc2l6ZTogJWR4JWRcbiIsCi0JCQkgICBmYi0+YmFzZS5pZCwgcGxh
bmVfc3RhdGUtPnNyY194ID4+IDE2LAotCQkJICAgcGxhbmVfc3RhdGUtPnNyY195ID4+IDE2LCBm
Yi0+d2lkdGgsIGZiLT5oZWlnaHQpOworCQkJICAgZmItPmJhc2UuaWQsIHBsYW5lX3N0YXRlLT51
YXBpLnNyY194ID4+IDE2LAorCQkJICAgcGxhbmVfc3RhdGUtPnVhcGkuc3JjX3kgPj4gMTYsCisJ
CQkgICBmYi0+d2lkdGgsIGZiLT5oZWlnaHQpOwogCWVsc2UKIAkJc2VxX3B1dHMobSwgIlx0cHJp
bWFyeSBwbGFuZSBkaXNhYmxlZFxuIik7Ci0JZm9yX2VhY2hfZW5jb2Rlcl9vbl9jcnRjKGRldiwg
Y3J0YywgaW50ZWxfZW5jb2RlcikKLQkJaW50ZWxfZW5jb2Rlcl9pbmZvKG0sIGludGVsX2NydGMs
IGludGVsX2VuY29kZXIpOworCWZvcl9lYWNoX2VuY29kZXJfb25fY3J0YyhkZXYsICZjcnRjLT5i
YXNlLCBlbmNvZGVyKQorCQlpbnRlbF9lbmNvZGVyX2luZm8obSwgY3J0YywgZW5jb2Rlcik7CiB9
CiAKIHN0YXRpYyB2b2lkIGludGVsX3BhbmVsX2luZm8oc3RydWN0IHNlcV9maWxlICptLCBzdHJ1
Y3QgaW50ZWxfcGFuZWwgKnBhbmVsKQpAQCAtMjU4OSw2NiArMjU5MCw2MyBAQCBzdGF0aWMgdm9p
ZCBwbGFuZV9yb3RhdGlvbihjaGFyICpidWYsIHNpemVfdCBidWZzaXplLCB1bnNpZ25lZCBpbnQg
cm90YXRpb24pCiAJCSByb3RhdGlvbik7CiB9CiAKLXN0YXRpYyB2b2lkIGludGVsX3BsYW5lX2lu
Zm8oc3RydWN0IHNlcV9maWxlICptLCBzdHJ1Y3QgaW50ZWxfY3J0YyAqaW50ZWxfY3J0YykKK3N0
YXRpYyB2b2lkIGludGVsX3BsYW5lX2luZm8oc3RydWN0IHNlcV9maWxlICptLCBzdHJ1Y3QgaW50
ZWxfY3J0YyAqY3J0YykKIHsKIAlzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYgPSBu
b2RlX3RvX2k5MTUobS0+cHJpdmF0ZSk7CiAJc3RydWN0IGRybV9kZXZpY2UgKmRldiA9ICZkZXZf
cHJpdi0+ZHJtOwotCXN0cnVjdCBpbnRlbF9wbGFuZSAqaW50ZWxfcGxhbmU7CisJc3RydWN0IGlu
dGVsX3BsYW5lICpwbGFuZTsKIAotCWZvcl9lYWNoX2ludGVsX3BsYW5lX29uX2NydGMoZGV2LCBp
bnRlbF9jcnRjLCBpbnRlbF9wbGFuZSkgewotCQlzdHJ1Y3QgZHJtX3BsYW5lX3N0YXRlICpzdGF0
ZTsKLQkJc3RydWN0IGRybV9wbGFuZSAqcGxhbmUgPSAmaW50ZWxfcGxhbmUtPmJhc2U7CisJZm9y
X2VhY2hfaW50ZWxfcGxhbmVfb25fY3J0YyhkZXYsIGNydGMsIHBsYW5lKSB7CisJCWNvbnN0IHN0
cnVjdCBpbnRlbF9wbGFuZV9zdGF0ZSAqcGxhbmVfc3RhdGUgPQorCQkJdG9faW50ZWxfcGxhbmVf
c3RhdGUocGxhbmUtPmJhc2Uuc3RhdGUpOworCQljb25zdCBzdHJ1Y3QgZHJtX2ZyYW1lYnVmZmVy
ICpmYjsKIAkJc3RydWN0IGRybV9mb3JtYXRfbmFtZV9idWYgZm9ybWF0X25hbWU7CiAJCXN0cnVj
dCBkcm1fcmVjdCBzcmMsIGRzdDsKIAkJY2hhciByb3Rfc3RyWzQ4XTsKIAotCQlpZiAoIXBsYW5l
LT5zdGF0ZSkgeworCQlpZiAoIXBsYW5lX3N0YXRlKSB7CiAJCQlzZXFfcHV0cyhtLCAicGxhbmUt
PnN0YXRlIGlzIE5VTEwhXG4iKTsKIAkJCWNvbnRpbnVlOwogCQl9CiAKLQkJc3RhdGUgPSBwbGFu
ZS0+c3RhdGU7CisJCXNyYyA9IGRybV9wbGFuZV9zdGF0ZV9zcmMoJnBsYW5lX3N0YXRlLT51YXBp
KTsKKwkJZHN0ID0gZHJtX3BsYW5lX3N0YXRlX2Rlc3QoJnBsYW5lX3N0YXRlLT51YXBpKTsKKwkJ
ZmIgPSBwbGFuZV9zdGF0ZS0+dWFwaS5mYjsKIAotCQlzcmMgPSBkcm1fcGxhbmVfc3RhdGVfc3Jj
KHN0YXRlKTsKLQkJZHN0ID0gZHJtX3BsYW5lX3N0YXRlX2Rlc3Qoc3RhdGUpOwotCi0JCWlmIChz
dGF0ZS0+ZmIpIHsKLQkJCWRybV9nZXRfZm9ybWF0X25hbWUoc3RhdGUtPmZiLT5mb3JtYXQtPmZv
cm1hdCwKLQkJCQkJICAgICZmb3JtYXRfbmFtZSk7Ci0JCX0gZWxzZSB7CisJCWlmIChmYikKKwkJ
CWRybV9nZXRfZm9ybWF0X25hbWUoZmItPmZvcm1hdC0+Zm9ybWF0LCAmZm9ybWF0X25hbWUpOwor
CQllbHNlCiAJCQlzcHJpbnRmKGZvcm1hdF9uYW1lLnN0ciwgIk4vQSIpOwotCQl9CiAKLQkJcGxh
bmVfcm90YXRpb24ocm90X3N0ciwgc2l6ZW9mKHJvdF9zdHIpLCBzdGF0ZS0+cm90YXRpb24pOwor
CQlwbGFuZV9yb3RhdGlvbihyb3Rfc3RyLCBzaXplb2Yocm90X3N0ciksCisJCQkgICAgICAgcGxh
bmVfc3RhdGUtPnVhcGkucm90YXRpb24pOwogCiAJCXNlcV9wcmludGYobSwgIlx0LS1QbGFuZSBp
ZCAlZDogdHlwZT0lcywgZHN0PSIgRFJNX1JFQ1RfRk1UICIsIHNyYz0iIERSTV9SRUNUX0ZQX0ZN
VCAiLCBmb3JtYXQ9JXMsIHJvdGF0aW9uPSVzXG4iLAotCQkJICAgcGxhbmUtPmJhc2UuaWQsCi0J
CQkgICBwbGFuZV90eXBlKGludGVsX3BsYW5lLT5iYXNlLnR5cGUpLAorCQkJICAgcGxhbmUtPmJh
c2UuYmFzZS5pZCwKKwkJCSAgIHBsYW5lX3R5cGUocGxhbmUtPmJhc2UudHlwZSksCiAJCQkgICBE
Uk1fUkVDVF9BUkcoJmRzdCksCiAJCQkgICBEUk1fUkVDVF9GUF9BUkcoJnNyYyksCi0JCQkgICBm
b3JtYXRfbmFtZS5zdHIsCi0JCQkgICByb3Rfc3RyKTsKKwkJCSAgIGZvcm1hdF9uYW1lLnN0ciwg
cm90X3N0cik7CiAJfQogfQogCi1zdGF0aWMgdm9pZCBpbnRlbF9zY2FsZXJfaW5mbyhzdHJ1Y3Qg
c2VxX2ZpbGUgKm0sIHN0cnVjdCBpbnRlbF9jcnRjICppbnRlbF9jcnRjKQorc3RhdGljIHZvaWQg
aW50ZWxfc2NhbGVyX2luZm8oc3RydWN0IHNlcV9maWxlICptLCBzdHJ1Y3QgaW50ZWxfY3J0YyAq
Y3J0YykKIHsKLQlzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqcGlwZV9jb25maWc7Ci0JaW50IG51
bV9zY2FsZXJzID0gaW50ZWxfY3J0Yy0+bnVtX3NjYWxlcnM7CisJY29uc3Qgc3RydWN0IGludGVs
X2NydGNfc3RhdGUgKmNydGNfc3RhdGUgPQorCQl0b19pbnRlbF9jcnRjX3N0YXRlKGNydGMtPmJh
c2Uuc3RhdGUpOworCWludCBudW1fc2NhbGVycyA9IGNydGMtPm51bV9zY2FsZXJzOwogCWludCBp
OwogCi0JcGlwZV9jb25maWcgPSB0b19pbnRlbF9jcnRjX3N0YXRlKGludGVsX2NydGMtPmJhc2Uu
c3RhdGUpOwotCiAJLyogTm90IGFsbCBwbGF0Zm9ybWFzIGhhdmUgYSBzY2FsZXIgKi8KIAlpZiAo
bnVtX3NjYWxlcnMpIHsKIAkJc2VxX3ByaW50ZihtLCAiXHRudW1fc2NhbGVycz0lZCwgc2NhbGVy
X3VzZXJzPSV4IHNjYWxlcl9pZD0lZCIsCiAJCQkgICBudW1fc2NhbGVycywKLQkJCSAgIHBpcGVf
Y29uZmlnLT5zY2FsZXJfc3RhdGUuc2NhbGVyX3VzZXJzLAotCQkJICAgcGlwZV9jb25maWctPnNj
YWxlcl9zdGF0ZS5zY2FsZXJfaWQpOworCQkJICAgY3J0Y19zdGF0ZS0+c2NhbGVyX3N0YXRlLnNj
YWxlcl91c2VycywKKwkJCSAgIGNydGNfc3RhdGUtPnNjYWxlcl9zdGF0ZS5zY2FsZXJfaWQpOwog
CiAJCWZvciAoaSA9IDA7IGkgPCBudW1fc2NhbGVyczsgaSsrKSB7Ci0JCQlzdHJ1Y3QgaW50ZWxf
c2NhbGVyICpzYyA9Ci0JCQkJCSZwaXBlX2NvbmZpZy0+c2NhbGVyX3N0YXRlLnNjYWxlcnNbaV07
CisJCQljb25zdCBzdHJ1Y3QgaW50ZWxfc2NhbGVyICpzYyA9CisJCQkJJmNydGNfc3RhdGUtPnNj
YWxlcl9zdGF0ZS5zY2FsZXJzW2ldOwogCiAJCQlzZXFfcHJpbnRmKG0sICIsIHNjYWxlcnNbJWRd
OiB1c2U9JXMsIG1vZGU9JXgiLAogCQkJCSAgIGksIHllc25vKHNjLT5pbl91c2UpLCBzYy0+bW9k
ZSk7CkBAIC0yNjczLDE4ICsyNjcxLDE5IEBAIHN0YXRpYyBpbnQgaTkxNV9kaXNwbGF5X2luZm8o
c3RydWN0IHNlcV9maWxlICptLCB2b2lkICp1bnVzZWQpCiAJc2VxX3ByaW50ZihtLCAiQ1JUQyBp
bmZvXG4iKTsKIAlzZXFfcHJpbnRmKG0sICItLS0tLS0tLS1cbiIpOwogCWZvcl9lYWNoX2ludGVs
X2NydGMoZGV2LCBjcnRjKSB7Ci0JCXN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpwaXBlX2NvbmZp
ZzsKKwkJY29uc3Qgc3RydWN0IGludGVsX2NydGNfc3RhdGUgKmNydGNfc3RhdGU7CiAKIAkJZHJt
X21vZGVzZXRfbG9jaygmY3J0Yy0+YmFzZS5tdXRleCwgTlVMTCk7Ci0JCXBpcGVfY29uZmlnID0g
dG9faW50ZWxfY3J0Y19zdGF0ZShjcnRjLT5iYXNlLnN0YXRlKTsKKworCQljcnRjX3N0YXRlID0g
dG9faW50ZWxfY3J0Y19zdGF0ZShjcnRjLT5iYXNlLnN0YXRlKTsKIAogCQlzZXFfcHJpbnRmKG0s
ICJDUlRDICVkOiBwaXBlOiAlYywgYWN0aXZlPSVzLCAoc2l6ZT0lZHglZCksIGRpdGhlcj0lcywg
YnBwPSVkXG4iLAogCQkJICAgY3J0Yy0+YmFzZS5iYXNlLmlkLCBwaXBlX25hbWUoY3J0Yy0+cGlw
ZSksCi0JCQkgICB5ZXNubyhwaXBlX2NvbmZpZy0+aHcuYWN0aXZlKSwKLQkJCSAgIHBpcGVfY29u
ZmlnLT5waXBlX3NyY193LCBwaXBlX2NvbmZpZy0+cGlwZV9zcmNfaCwKLQkJCSAgIHllc25vKHBp
cGVfY29uZmlnLT5kaXRoZXIpLCBwaXBlX2NvbmZpZy0+cGlwZV9icHApOworCQkJICAgeWVzbm8o
Y3J0Y19zdGF0ZS0+aHcuYWN0aXZlKSwKKwkJCSAgIGNydGNfc3RhdGUtPnBpcGVfc3JjX3csIGNy
dGNfc3RhdGUtPnBpcGVfc3JjX2gsCisJCQkgICB5ZXNubyhjcnRjX3N0YXRlLT5kaXRoZXIpLCBj
cnRjX3N0YXRlLT5waXBlX2JwcCk7CiAKLQkJaWYgKHBpcGVfY29uZmlnLT5ody5hY3RpdmUpIHsK
KwkJaWYgKGNydGNfc3RhdGUtPmh3LmFjdGl2ZSkgewogCQkJc3RydWN0IGludGVsX3BsYW5lICpj
dXJzb3IgPQogCQkJCXRvX2ludGVsX3BsYW5lKGNydGMtPmJhc2UuY3Vyc29yKTsKIAotLSAKMi4y
My4wCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpJbnRl
bC1nZnggbWFpbGluZyBsaXN0CkludGVsLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6
Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9pbnRlbC1nZng=

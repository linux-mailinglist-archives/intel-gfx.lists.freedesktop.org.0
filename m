Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 3E82E67774
	for <lists+intel-gfx@lfdr.de>; Sat, 13 Jul 2019 03:10:07 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 0504E6E3C7;
	Sat, 13 Jul 2019 01:09:52 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga09.intel.com (mga09.intel.com [134.134.136.24])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 21D646E369
 for <intel-gfx@lists.freedesktop.org>; Sat, 13 Jul 2019 01:09:45 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga005.jf.intel.com ([10.7.209.41])
 by orsmga102.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 12 Jul 2019 18:09:44 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.63,484,1557212400"; d="scan'208";a="341850904"
Received: from dhoyan-mobl.amr.corp.intel.com (HELO ldmartin-desk1.intel.com)
 ([10.252.197.100])
 by orsmga005.jf.intel.com with ESMTP; 12 Jul 2019 18:09:44 -0700
From: Lucas De Marchi <lucas.demarchi@intel.com>
To: intel-gfx@lists.freedesktop.org
Date: Fri, 12 Jul 2019 18:09:20 -0700
Message-Id: <20190713010940.17711-3-lucas.demarchi@intel.com>
X-Mailer: git-send-email 2.21.0
In-Reply-To: <20190713010940.17711-1-lucas.demarchi@intel.com>
References: <20190713010940.17711-1-lucas.demarchi@intel.com>
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH 02/22] drm/i915/tgl: select correct bit for port
 select
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: Mahesh Kumar <mahesh1.kumar@intel.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

RnJvbTogTWFoZXNoIEt1bWFyIDxtYWhlc2gxLmt1bWFyQGludGVsLmNvbT4KCkJpdCBkZWZpbml0
aW9ucyBmb3IgcG9ydC1zZWxlY3QgZ290IGNoYW5nZWQgZm9yIFRSQU5TX0NMS19TRUwgJgpUUkFO
U19ERElfRlVOQ19DVEwgcmVnaXN0ZXJzIGluIFRHTC4KCnYyIChMdWNhcyk6CiAgLSBOdWtlIFRS
QU5TX0RESV9QT1JUX05PTkUgc2luY2UgaXQncyAwOiB3ZSBhcmUgYWxyZWFkeSBjbGVhcmluZwog
ICAge1RHTF8sfVRSQU5TX0RESV9QT1JUX01BU0sgKHN1Z2dlc3RlZCBieSBWaWxsZSkKICAtIEFs
c28gY292ZXIgaGFzd2VsbF9nZXRfZGRpX3BvcnRfc3RhdGUoKSBpbiBpbnRlbF9kaXNwbGF5LmMg
dGhhdCB3YXMKICAgIG1pc3NpbmcKICAtIERlZmluZSBtYWNyb3MgdXNpbmcgdGhlIF9TSElGVCBt
YWNyb3Mgc28gd2UgZG9uJ3QgbG9zZSBvdGhlciB1c2VycwoKQ2M6IFZpbGxlIFN5cmrDpGzDpCA8
dmlsbGUuc3lyamFsYUBsaW51eC5pbnRlbC5jb20+ClNpZ25lZC1vZmYtYnk6IE1haGVzaCBLdW1h
ciA8bWFoZXNoMS5rdW1hckBpbnRlbC5jb20+ClNpZ25lZC1vZmYtYnk6IEx1Y2FzIERlIE1hcmNo
aSA8bHVjYXMuZGVtYXJjaGlAaW50ZWwuY29tPgotLS0KIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2Rp
c3BsYXkvaW50ZWxfZGRpLmMgICAgIHwgNDcgKysrKysrKysrKysrKysrLS0tLS0KIGRyaXZlcnMv
Z3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheS5jIHwgIDYgKystCiBkcml2ZXJzL2dw
dS9kcm0vaTkxNS9pOTE1X3JlZy5oICAgICAgICAgICAgICB8IDExICsrKy0tCiAzIGZpbGVzIGNo
YW5nZWQsIDUwIGluc2VydGlvbnMoKyksIDE0IGRlbGV0aW9ucygtKQoKZGlmZiAtLWdpdCBhL2Ry
aXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGRpLmMgYi9kcml2ZXJzL2dwdS9kcm0v
aTkxNS9kaXNwbGF5L2ludGVsX2RkaS5jCmluZGV4IDg0NDUyNDRhYTU5My4uMzM5YzAxZTU2N2Fi
IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2RkaS5jCisr
KyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGRpLmMKQEAgLTE3NzMsNyAr
MTc3MywxMCBAQCB2b2lkIGludGVsX2RkaV9lbmFibGVfdHJhbnNjb2Rlcl9mdW5jKGNvbnN0IHN0
cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpjcnRjX3N0YXRlKQogCiAJLyogRW5hYmxlIFRSQU5TX0RE
SV9GVU5DX0NUTCBmb3IgdGhlIHBpcGUgdG8gd29yayBpbiBIRE1JIG1vZGUgKi8KIAl0ZW1wID0g
VFJBTlNfRERJX0ZVTkNfRU5BQkxFOwotCXRlbXAgfD0gVFJBTlNfRERJX1NFTEVDVF9QT1JUKHBv
cnQpOworCWlmIChJTlRFTF9HRU4oZGV2X3ByaXYpID49IDEyKQorCQl0ZW1wIHw9IFRHTF9UUkFO
U19ERElfU0VMRUNUX1BPUlQocG9ydCk7CisJZWxzZQorCQl0ZW1wIHw9IFRSQU5TX0RESV9TRUxF
Q1RfUE9SVChwb3J0KTsKIAogCXN3aXRjaCAoY3J0Y19zdGF0ZS0+cGlwZV9icHApIHsKIAljYXNl
IDE4OgpAQCAtMTg1Myw4ICsxODU2LDEzIEBAIHZvaWQgaW50ZWxfZGRpX2Rpc2FibGVfdHJhbnNj
b2Rlcl9mdW5jKGNvbnN0IHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpjcnRjX3N0YXRlCiAJaTkx
NV9yZWdfdCByZWcgPSBUUkFOU19ERElfRlVOQ19DVEwoY3B1X3RyYW5zY29kZXIpOwogCXUzMiB2
YWwgPSBJOTE1X1JFQUQocmVnKTsKIAotCXZhbCAmPSB+KFRSQU5TX0RESV9GVU5DX0VOQUJMRSB8
IFRSQU5TX0RESV9QT1JUX01BU0sgfCBUUkFOU19ERElfRFBfVkNfUEFZTE9BRF9BTExPQyk7Ci0J
dmFsIHw9IFRSQU5TX0RESV9QT1JUX05PTkU7CisJaWYgKElOVEVMX0dFTihkZXZfcHJpdikgPj0g
MTIpIHsKKwkJdmFsICY9IH4oVFJBTlNfRERJX0ZVTkNfRU5BQkxFIHwgVEdMX1RSQU5TX0RESV9Q
T1JUX01BU0sgfAorCQkJIFRSQU5TX0RESV9EUF9WQ19QQVlMT0FEX0FMTE9DKTsKKwl9IGVsc2Ug
eworCQl2YWwgJj0gfihUUkFOU19ERElfRlVOQ19FTkFCTEUgfCBUUkFOU19ERElfUE9SVF9NQVNL
IHwKKwkJCSBUUkFOU19ERElfRFBfVkNfUEFZTE9BRF9BTExPQyk7CisJfQogCUk5MTVfV1JJVEUo
cmVnLCB2YWwpOwogCiAJaWYgKGRldl9wcml2LT5xdWlya3MgJiBRVUlSS19JTkNSRUFTRV9ERElf
RElTQUJMRURfVElNRSAmJgpAQCAtMjAwNiwxMCArMjAxNCwxOSBAQCBzdGF0aWMgdm9pZCBpbnRl
bF9kZGlfZ2V0X2VuY29kZXJfcGlwZXMoc3RydWN0IGludGVsX2VuY29kZXIgKmVuY29kZXIsCiAJ
bXN0X3BpcGVfbWFzayA9IDA7CiAJZm9yX2VhY2hfcGlwZShkZXZfcHJpdiwgcCkgewogCQllbnVt
IHRyYW5zY29kZXIgY3B1X3RyYW5zY29kZXIgPSAoZW51bSB0cmFuc2NvZGVyKXA7CisJCXVuc2ln
bmVkIGludCBwb3J0X21hc2ssIGRkaV9zZWxlY3Q7CisKKwkJaWYgKElOVEVMX0dFTihkZXZfcHJp
dikgPj0gMTIpIHsKKwkJCXBvcnRfbWFzayA9IFRHTF9UUkFOU19ERElfUE9SVF9NQVNLOworCQkJ
ZGRpX3NlbGVjdCA9IFRHTF9UUkFOU19ERElfU0VMRUNUX1BPUlQocG9ydCk7CisJCX0gZWxzZSB7
CisJCQlwb3J0X21hc2sgPSBUUkFOU19ERElfUE9SVF9NQVNLOworCQkJZGRpX3NlbGVjdCA9IFRS
QU5TX0RESV9TRUxFQ1RfUE9SVChwb3J0KTsKKwkJfQogCiAJCXRtcCA9IEk5MTVfUkVBRChUUkFO
U19ERElfRlVOQ19DVEwoY3B1X3RyYW5zY29kZXIpKTsKIAotCQlpZiAoKHRtcCAmIFRSQU5TX0RE
SV9QT1JUX01BU0spICE9IFRSQU5TX0RESV9TRUxFQ1RfUE9SVChwb3J0KSkKKwkJaWYgKCh0bXAg
JiBwb3J0X21hc2spICE9IGRkaV9zZWxlY3QpCiAJCQljb250aW51ZTsKIAogCQlpZiAoKHRtcCAm
IFRSQU5TX0RESV9NT0RFX1NFTEVDVF9NQVNLKSA9PQpAQCAtMjEyNiw5ICsyMTQzLDE0IEBAIHZv
aWQgaW50ZWxfZGRpX2VuYWJsZV9waXBlX2Nsb2NrKGNvbnN0IHN0cnVjdCBpbnRlbF9jcnRjX3N0
YXRlICpjcnRjX3N0YXRlKQogCWVudW0gcG9ydCBwb3J0ID0gZW5jb2Rlci0+cG9ydDsKIAllbnVt
IHRyYW5zY29kZXIgY3B1X3RyYW5zY29kZXIgPSBjcnRjX3N0YXRlLT5jcHVfdHJhbnNjb2RlcjsK
IAotCWlmIChjcHVfdHJhbnNjb2RlciAhPSBUUkFOU0NPREVSX0VEUCkKLQkJSTkxNV9XUklURShU
UkFOU19DTEtfU0VMKGNwdV90cmFuc2NvZGVyKSwKLQkJCSAgIFRSQU5TX0NMS19TRUxfUE9SVChw
b3J0KSk7CisJaWYgKGNwdV90cmFuc2NvZGVyICE9IFRSQU5TQ09ERVJfRURQKSB7CisJCWlmIChJ
TlRFTF9HRU4oZGV2X3ByaXYpID49IDEyKQorCQkJSTkxNV9XUklURShUUkFOU19DTEtfU0VMKGNw
dV90cmFuc2NvZGVyKSwKKwkJCQkgICBUR0xfVFJBTlNfQ0xLX1NFTF9QT1JUKHBvcnQpKTsKKwkJ
ZWxzZQorCQkJSTkxNV9XUklURShUUkFOU19DTEtfU0VMKGNwdV90cmFuc2NvZGVyKSwKKwkJCQkg
ICBUUkFOU19DTEtfU0VMX1BPUlQocG9ydCkpOworCX0KIH0KIAogdm9pZCBpbnRlbF9kZGlfZGlz
YWJsZV9waXBlX2Nsb2NrKGNvbnN0IHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpjcnRjX3N0YXRl
KQpAQCAtMjEzNiw5ICsyMTU4LDE0IEBAIHZvaWQgaW50ZWxfZGRpX2Rpc2FibGVfcGlwZV9jbG9j
ayhjb25zdCBzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqY3J0Y19zdGF0ZSkKIAlzdHJ1Y3QgZHJt
X2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYgPSB0b19pOTE1KGNydGNfc3RhdGUtPmJhc2UuY3J0Yy0+
ZGV2KTsKIAllbnVtIHRyYW5zY29kZXIgY3B1X3RyYW5zY29kZXIgPSBjcnRjX3N0YXRlLT5jcHVf
dHJhbnNjb2RlcjsKIAotCWlmIChjcHVfdHJhbnNjb2RlciAhPSBUUkFOU0NPREVSX0VEUCkKLQkJ
STkxNV9XUklURShUUkFOU19DTEtfU0VMKGNwdV90cmFuc2NvZGVyKSwKLQkJCSAgIFRSQU5TX0NM
S19TRUxfRElTQUJMRUQpOworCWlmIChjcHVfdHJhbnNjb2RlciAhPSBUUkFOU0NPREVSX0VEUCkg
eworCQlpZiAoSU5URUxfR0VOKGRldl9wcml2KSA+PSAxMikKKwkJCUk5MTVfV1JJVEUoVFJBTlNf
Q0xLX1NFTChjcHVfdHJhbnNjb2RlciksCisJCQkJICAgVEdMX1RSQU5TX0NMS19TRUxfRElTQUJM
RUQpOworCQllbHNlCisJCQlJOTE1X1dSSVRFKFRSQU5TX0NMS19TRUwoY3B1X3RyYW5zY29kZXIp
LAorCQkJCSAgIFRSQU5TX0NMS19TRUxfRElTQUJMRUQpOworCX0KIH0KIAogc3RhdGljIHZvaWQg
X3NrbF9kZGlfc2V0X2lib29zdChzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYsCmRp
ZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXkuYyBi
L2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheS5jCmluZGV4IGUyNWI4
MmQwN2Q0Zi4uNTFlNGY2Nzk4YTZiIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9k
aXNwbGF5L2ludGVsX2Rpc3BsYXkuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5
L2ludGVsX2Rpc3BsYXkuYwpAQCAtMTAzNTMsNyArMTAzNTMsMTEgQEAgc3RhdGljIHZvaWQgaGFz
d2VsbF9nZXRfZGRpX3BvcnRfc3RhdGUoc3RydWN0IGludGVsX2NydGMgKmNydGMsCiAKIAl0bXAg
PSBJOTE1X1JFQUQoVFJBTlNfRERJX0ZVTkNfQ1RMKHBpcGVfY29uZmlnLT5jcHVfdHJhbnNjb2Rl
cikpOwogCi0JcG9ydCA9ICh0bXAgJiBUUkFOU19ERElfUE9SVF9NQVNLKSA+PiBUUkFOU19ERElf
UE9SVF9TSElGVDsKKwlpZiAoSU5URUxfR0VOKGRldl9wcml2KSA+PSAxMikKKwkJcG9ydCA9ICh0
bXAgJiBUR0xfVFJBTlNfRERJX1BPUlRfTUFTSykgPj4KKwkJCVRHTF9UUkFOU19ERElfUE9SVF9T
SElGVDsKKwllbHNlCisJCXBvcnQgPSAodG1wICYgVFJBTlNfRERJX1BPUlRfTUFTSykgPj4gVFJB
TlNfRERJX1BPUlRfU0hJRlQ7CiAKIAlpZiAoSU5URUxfR0VOKGRldl9wcml2KSA+PSAxMSkKIAkJ
aWNlbGFrZV9nZXRfZGRpX3BsbChkZXZfcHJpdiwgcG9ydCwgcGlwZV9jb25maWcpOwpkaWZmIC0t
Z2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9yZWcuaCBiL2RyaXZlcnMvZ3B1L2RybS9p
OTE1L2k5MTVfcmVnLmgKaW5kZXggMGRkNDUwNjMyM2YyLi5kZWY3MWZkMmU0ZDEgMTAwNjQ0Ci0t
LSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfcmVnLmgKKysrIGIvZHJpdmVycy9ncHUvZHJt
L2k5MTUvaTkxNV9yZWcuaApAQCAtOTM5MSwxMCArOTM5MSwxMiBAQCBlbnVtIHNrbF9wb3dlcl9n
YXRlIHsKIAogI2RlZmluZSAgVFJBTlNfRERJX0ZVTkNfRU5BQkxFCQkoMSA8PCAzMSkKIC8qIFRo
b3NlIGJpdHMgYXJlIGlnbm9yZWQgYnkgcGlwZSBFRFAgc2luY2UgaXQgY2FuIG9ubHkgY29ubmVj
dCB0byBEREkgQSAqLwotI2RlZmluZSAgVFJBTlNfRERJX1BPUlRfTUFTSwkJKDcgPDwgMjgpCiAj
ZGVmaW5lICBUUkFOU19ERElfUE9SVF9TSElGVAkJMjgKLSNkZWZpbmUgIFRSQU5TX0RESV9TRUxF
Q1RfUE9SVCh4KQkoKHgpIDw8IDI4KQotI2RlZmluZSAgVFJBTlNfRERJX1BPUlRfTk9ORQkJKDAg
PDwgMjgpCisjZGVmaW5lICBUR0xfVFJBTlNfRERJX1BPUlRfU0hJRlQJMjcKKyNkZWZpbmUgIFRS
QU5TX0RESV9QT1JUX01BU0sJCSg3IDw8IFRSQU5TX0RESV9QT1JUX1NISUZUKQorI2RlZmluZSAg
VEdMX1RSQU5TX0RESV9QT1JUX01BU0sJKDB4ZiA8PCBUR0xfVFJBTlNfRERJX1BPUlRfU0hJRlQp
CisjZGVmaW5lICBUUkFOU19ERElfU0VMRUNUX1BPUlQoeCkJKCh4KSA8PCBUUkFOU19ERElfUE9S
VF9TSElGVCkKKyNkZWZpbmUgIFRHTF9UUkFOU19ERElfU0VMRUNUX1BPUlQoeCkJKCgoeCkgKyAx
KSA8PCBUR0xfVFJBTlNfRERJX1BPUlRfU0hJRlQpCiAjZGVmaW5lICBUUkFOU19ERElfTU9ERV9T
RUxFQ1RfTUFTSwkoNyA8PCAyNCkKICNkZWZpbmUgIFRSQU5TX0RESV9NT0RFX1NFTEVDVF9IRE1J
CSgwIDw8IDI0KQogI2RlZmluZSAgVFJBTlNfRERJX01PREVfU0VMRUNUX0RWSQkoMSA8PCAyNCkK
QEAgLTk2MDQsNiArOTYwNiw5IEBAIGVudW0gc2tsX3Bvd2VyX2dhdGUgewogLyogRm9yIGVhY2gg
dHJhbnNjb2Rlciwgd2UgbmVlZCB0byBzZWxlY3QgdGhlIGNvcnJlc3BvbmRpbmcgcG9ydCBjbG9j
ayAqLwogI2RlZmluZSAgVFJBTlNfQ0xLX1NFTF9ESVNBQkxFRAkJKDB4MCA8PCAyOSkKICNkZWZp
bmUgIFRSQU5TX0NMS19TRUxfUE9SVCh4KQkJKCgoeCkgKyAxKSA8PCAyOSkKKyNkZWZpbmUgIFRH
TF9UUkFOU19DTEtfU0VMX0RJU0FCTEVECSgweDAgPDwgMjgpCisjZGVmaW5lICBUR0xfVFJBTlNf
Q0xLX1NFTF9QT1JUKHgpCSgoKHgpICsgMSkgPDwgMjgpCisKIAogI2RlZmluZSBDRENMS19GUkVR
CQkJX01NSU8oMHg0NjIwMCkKIAotLSAKMi4yMS4wCgpfX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fXwpJbnRlbC1nZnggbWFpbGluZyBsaXN0CkludGVsLWdmeEBs
aXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1h
bi9saXN0aW5mby9pbnRlbC1nZng=

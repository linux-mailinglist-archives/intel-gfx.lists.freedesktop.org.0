Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id BA3C13C9BFE
	for <lists+intel-gfx@lfdr.de>; Thu, 15 Jul 2021 11:35:55 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 1F51A6E7E6;
	Thu, 15 Jul 2021 09:35:54 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga01.intel.com (mga01.intel.com [192.55.52.88])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 8B35E6E7EC
 for <intel-gfx@lists.freedesktop.org>; Thu, 15 Jul 2021 09:35:52 +0000 (UTC)
X-IronPort-AV: E=McAfee;i="6200,9189,10045"; a="232335843"
X-IronPort-AV: E=Sophos;i="5.84,240,1620716400"; d="scan'208";a="232335843"
Received: from orsmga001.jf.intel.com ([10.7.209.18])
 by fmsmga101.fm.intel.com with ESMTP/TLS/ECDHE-RSA-AES256-GCM-SHA384;
 15 Jul 2021 02:35:50 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.84,240,1620716400"; d="scan'208";a="494510292"
Received: from stinkbox.fi.intel.com (HELO stinkbox) ([10.237.72.171])
 by orsmga001.jf.intel.com with SMTP; 15 Jul 2021 02:35:48 -0700
Received: by stinkbox (sSMTP sendmail emulation);
 Thu, 15 Jul 2021 12:35:47 +0300
From: Ville Syrjala <ville.syrjala@linux.intel.com>
To: intel-gfx@lists.freedesktop.org
Date: Thu, 15 Jul 2021 12:35:23 +0300
Message-Id: <20210715093530.31711-7-ville.syrjala@linux.intel.com>
X-Mailer: git-send-email 2.31.1
In-Reply-To: <20210715093530.31711-1-ville.syrjala@linux.intel.com>
References: <20210715093530.31711-1-ville.syrjala@linux.intel.com>
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH 06/13] drm/i915: Clean up variable names in old
 dpll functions
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

RnJvbTogVmlsbGUgU3lyasOkbMOkIDx2aWxsZS5zeXJqYWxhQGxpbnV4LmludGVsLmNvbT4KCnMv
cGlwZV9jb25maWcvY3J0Y19zdGF0ZS8gaW4gdGhlIERQTEwgY29kZS4KClNpZ25lZC1vZmYtYnk6
IFZpbGxlIFN5cmrDpGzDpCA8dmlsbGUuc3lyamFsYUBsaW51eC5pbnRlbC5jb20+Ci0tLQogZHJp
dmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kcGxsLmMgfCAxNTEgKysrKysrKysrKyst
LS0tLS0tLS0tLQogMSBmaWxlIGNoYW5nZWQsIDc2IGluc2VydGlvbnMoKyksIDc1IGRlbGV0aW9u
cygtKQoKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZHBs
bC5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kcGxsLmMKaW5kZXggYjI3
OTIyY2ExMDliLi4xMGQ1NTE5NjI2YTQgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1
L2Rpc3BsYXkvaW50ZWxfZHBsbC5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkv
aW50ZWxfZHBsbC5jCkBAIC0xMTI3LDM5ICsxMTI3LDM5IEBAIHN0YXRpYyBpbnQgaWxrX2NydGNf
Y29tcHV0ZV9jbG9jayhzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqY3J0Y19zdGF0ZSkKIAlyZXR1
cm4gMDsKIH0KIAotdm9pZCB2bHZfY29tcHV0ZV9kcGxsKHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRl
ICpwaXBlX2NvbmZpZykKK3ZvaWQgdmx2X2NvbXB1dGVfZHBsbChzdHJ1Y3QgaW50ZWxfY3J0Y19z
dGF0ZSAqY3J0Y19zdGF0ZSkKIHsKLQlzdHJ1Y3QgaW50ZWxfY3J0YyAqY3J0YyA9IHRvX2ludGVs
X2NydGMocGlwZV9jb25maWctPnVhcGkuY3J0Yyk7CisJc3RydWN0IGludGVsX2NydGMgKmNydGMg
PSB0b19pbnRlbF9jcnRjKGNydGNfc3RhdGUtPnVhcGkuY3J0Yyk7CiAKLQlwaXBlX2NvbmZpZy0+
ZHBsbF9od19zdGF0ZS5kcGxsID0gRFBMTF9JTlRFR1JBVEVEX1JFRl9DTEtfVkxWIHwKKwljcnRj
X3N0YXRlLT5kcGxsX2h3X3N0YXRlLmRwbGwgPSBEUExMX0lOVEVHUkFURURfUkVGX0NMS19WTFYg
fAogCQlEUExMX1JFRl9DTEtfRU5BQkxFX1ZMViB8IERQTExfVkdBX01PREVfRElTOwogCWlmIChj
cnRjLT5waXBlICE9IFBJUEVfQSkKLQkJcGlwZV9jb25maWctPmRwbGxfaHdfc3RhdGUuZHBsbCB8
PSBEUExMX0lOVEVHUkFURURfQ1JJX0NMS19WTFY7CisJCWNydGNfc3RhdGUtPmRwbGxfaHdfc3Rh
dGUuZHBsbCB8PSBEUExMX0lOVEVHUkFURURfQ1JJX0NMS19WTFY7CiAKIAkvKiBEUExMIG5vdCB1
c2VkIHdpdGggRFNJLCBidXQgc3RpbGwgbmVlZCB0aGUgcmVzdCBzZXQgdXAgKi8KLQlpZiAoIWlu
dGVsX2NydGNfaGFzX3R5cGUocGlwZV9jb25maWcsIElOVEVMX09VVFBVVF9EU0kpKQotCQlwaXBl
X2NvbmZpZy0+ZHBsbF9od19zdGF0ZS5kcGxsIHw9IERQTExfVkNPX0VOQUJMRSB8CisJaWYgKCFp
bnRlbF9jcnRjX2hhc190eXBlKGNydGNfc3RhdGUsIElOVEVMX09VVFBVVF9EU0kpKQorCQljcnRj
X3N0YXRlLT5kcGxsX2h3X3N0YXRlLmRwbGwgfD0gRFBMTF9WQ09fRU5BQkxFIHwKIAkJCURQTExf
RVhUX0JVRkZFUl9FTkFCTEVfVkxWOwogCi0JcGlwZV9jb25maWctPmRwbGxfaHdfc3RhdGUuZHBs
bF9tZCA9Ci0JCShwaXBlX2NvbmZpZy0+cGl4ZWxfbXVsdGlwbGllciAtIDEpIDw8IERQTExfTURf
VURJX01VTFRJUExJRVJfU0hJRlQ7CisJY3J0Y19zdGF0ZS0+ZHBsbF9od19zdGF0ZS5kcGxsX21k
ID0KKwkJKGNydGNfc3RhdGUtPnBpeGVsX211bHRpcGxpZXIgLSAxKSA8PCBEUExMX01EX1VESV9N
VUxUSVBMSUVSX1NISUZUOwogfQogCi12b2lkIGNodl9jb21wdXRlX2RwbGwoc3RydWN0IGludGVs
X2NydGNfc3RhdGUgKnBpcGVfY29uZmlnKQordm9pZCBjaHZfY29tcHV0ZV9kcGxsKHN0cnVjdCBp
bnRlbF9jcnRjX3N0YXRlICpjcnRjX3N0YXRlKQogewotCXN0cnVjdCBpbnRlbF9jcnRjICpjcnRj
ID0gdG9faW50ZWxfY3J0YyhwaXBlX2NvbmZpZy0+dWFwaS5jcnRjKTsKKwlzdHJ1Y3QgaW50ZWxf
Y3J0YyAqY3J0YyA9IHRvX2ludGVsX2NydGMoY3J0Y19zdGF0ZS0+dWFwaS5jcnRjKTsKIAotCXBp
cGVfY29uZmlnLT5kcGxsX2h3X3N0YXRlLmRwbGwgPSBEUExMX1NTQ19SRUZfQ0xLX0NIViB8CisJ
Y3J0Y19zdGF0ZS0+ZHBsbF9od19zdGF0ZS5kcGxsID0gRFBMTF9TU0NfUkVGX0NMS19DSFYgfAog
CQlEUExMX1JFRl9DTEtfRU5BQkxFX1ZMViB8IERQTExfVkdBX01PREVfRElTOwogCWlmIChjcnRj
LT5waXBlICE9IFBJUEVfQSkKLQkJcGlwZV9jb25maWctPmRwbGxfaHdfc3RhdGUuZHBsbCB8PSBE
UExMX0lOVEVHUkFURURfQ1JJX0NMS19WTFY7CisJCWNydGNfc3RhdGUtPmRwbGxfaHdfc3RhdGUu
ZHBsbCB8PSBEUExMX0lOVEVHUkFURURfQ1JJX0NMS19WTFY7CiAKIAkvKiBEUExMIG5vdCB1c2Vk
IHdpdGggRFNJLCBidXQgc3RpbGwgbmVlZCB0aGUgcmVzdCBzZXQgdXAgKi8KLQlpZiAoIWludGVs
X2NydGNfaGFzX3R5cGUocGlwZV9jb25maWcsIElOVEVMX09VVFBVVF9EU0kpKQotCQlwaXBlX2Nv
bmZpZy0+ZHBsbF9od19zdGF0ZS5kcGxsIHw9IERQTExfVkNPX0VOQUJMRTsKKwlpZiAoIWludGVs
X2NydGNfaGFzX3R5cGUoY3J0Y19zdGF0ZSwgSU5URUxfT1VUUFVUX0RTSSkpCisJCWNydGNfc3Rh
dGUtPmRwbGxfaHdfc3RhdGUuZHBsbCB8PSBEUExMX1ZDT19FTkFCTEU7CiAKLQlwaXBlX2NvbmZp
Zy0+ZHBsbF9od19zdGF0ZS5kcGxsX21kID0KLQkJKHBpcGVfY29uZmlnLT5waXhlbF9tdWx0aXBs
aWVyIC0gMSkgPDwgRFBMTF9NRF9VRElfTVVMVElQTElFUl9TSElGVDsKKwljcnRjX3N0YXRlLT5k
cGxsX2h3X3N0YXRlLmRwbGxfbWQgPQorCQkoY3J0Y19zdGF0ZS0+cGl4ZWxfbXVsdGlwbGllciAt
IDEpIDw8IERQTExfTURfVURJX01VTFRJUExJRVJfU0hJRlQ7CiB9CiAKIHN0YXRpYyBpbnQgY2h2
X2NydGNfY29tcHV0ZV9jbG9jayhzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqY3J0Y19zdGF0ZSkK
QEAgLTE0NjMsMTMgKzE0NjMsMTMgQEAgc3RhdGljIHZvaWQgdmx2X3BsbGJfcmVjYWxfb3BhbXAo
c3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2LAogCXZsdl9kcGlvX3dyaXRlKGRldl9w
cml2LCBwaXBlLCBWTFZfUkVGX0RXMTMsIHJlZ192YWwpOwogfQogCi1zdGF0aWMgdm9pZCBfdmx2
X2VuYWJsZV9wbGwoY29uc3Qgc3RydWN0IGludGVsX2NydGNfc3RhdGUgKnBpcGVfY29uZmlnKQor
c3RhdGljIHZvaWQgX3Zsdl9lbmFibGVfcGxsKGNvbnN0IHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRl
ICpjcnRjX3N0YXRlKQogewotCXN0cnVjdCBpbnRlbF9jcnRjICpjcnRjID0gdG9faW50ZWxfY3J0
YyhwaXBlX2NvbmZpZy0+dWFwaS5jcnRjKTsKKwlzdHJ1Y3QgaW50ZWxfY3J0YyAqY3J0YyA9IHRv
X2ludGVsX2NydGMoY3J0Y19zdGF0ZS0+dWFwaS5jcnRjKTsKIAlzdHJ1Y3QgZHJtX2k5MTVfcHJp
dmF0ZSAqZGV2X3ByaXYgPSB0b19pOTE1KGNydGMtPmJhc2UuZGV2KTsKIAllbnVtIHBpcGUgcGlw
ZSA9IGNydGMtPnBpcGU7CiAKLQlpbnRlbF9kZV93cml0ZShkZXZfcHJpdiwgRFBMTChwaXBlKSwg
cGlwZV9jb25maWctPmRwbGxfaHdfc3RhdGUuZHBsbCk7CisJaW50ZWxfZGVfd3JpdGUoZGV2X3By
aXYsIERQTEwocGlwZSksIGNydGNfc3RhdGUtPmRwbGxfaHdfc3RhdGUuZHBsbCk7CiAJaW50ZWxf
ZGVfcG9zdGluZ19yZWFkKGRldl9wcml2LCBEUExMKHBpcGUpKTsKIAl1ZGVsYXkoMTUwKTsKIApA
QCAtMTQ3NywyOSArMTQ3NywyOSBAQCBzdGF0aWMgdm9pZCBfdmx2X2VuYWJsZV9wbGwoY29uc3Qg
c3RydWN0IGludGVsX2NydGNfc3RhdGUgKnBpcGVfY29uZmlnKQogCQlkcm1fZXJyKCZkZXZfcHJp
di0+ZHJtLCAiRFBMTCAlZCBmYWlsZWQgdG8gbG9ja1xuIiwgcGlwZSk7CiB9CiAKLXZvaWQgdmx2
X2VuYWJsZV9wbGwoY29uc3Qgc3RydWN0IGludGVsX2NydGNfc3RhdGUgKnBpcGVfY29uZmlnKQor
dm9pZCB2bHZfZW5hYmxlX3BsbChjb25zdCBzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqY3J0Y19z
dGF0ZSkKIHsKLQlzdHJ1Y3QgaW50ZWxfY3J0YyAqY3J0YyA9IHRvX2ludGVsX2NydGMocGlwZV9j
b25maWctPnVhcGkuY3J0Yyk7CisJc3RydWN0IGludGVsX2NydGMgKmNydGMgPSB0b19pbnRlbF9j
cnRjKGNydGNfc3RhdGUtPnVhcGkuY3J0Yyk7CiAJc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRl
dl9wcml2ID0gdG9faTkxNShjcnRjLT5iYXNlLmRldik7CiAJZW51bSBwaXBlIHBpcGUgPSBjcnRj
LT5waXBlOwogCi0JYXNzZXJ0X3BpcGVfZGlzYWJsZWQoZGV2X3ByaXYsIHBpcGVfY29uZmlnLT5j
cHVfdHJhbnNjb2Rlcik7CisJYXNzZXJ0X3BpcGVfZGlzYWJsZWQoZGV2X3ByaXYsIGNydGNfc3Rh
dGUtPmNwdV90cmFuc2NvZGVyKTsKIAogCS8qIFBMTCBpcyBwcm90ZWN0ZWQgYnkgcGFuZWwsIG1h
a2Ugc3VyZSB3ZSBjYW4gd3JpdGUgaXQgKi8KIAlhc3NlcnRfcGFuZWxfdW5sb2NrZWQoZGV2X3By
aXYsIHBpcGUpOwogCi0JaWYgKHBpcGVfY29uZmlnLT5kcGxsX2h3X3N0YXRlLmRwbGwgJiBEUExM
X1ZDT19FTkFCTEUpCi0JCV92bHZfZW5hYmxlX3BsbChwaXBlX2NvbmZpZyk7CisJaWYgKGNydGNf
c3RhdGUtPmRwbGxfaHdfc3RhdGUuZHBsbCAmIERQTExfVkNPX0VOQUJMRSkKKwkJX3Zsdl9lbmFi
bGVfcGxsKGNydGNfc3RhdGUpOwogCiAJaW50ZWxfZGVfd3JpdGUoZGV2X3ByaXYsIERQTExfTUQo
cGlwZSksCi0JCSAgICAgICBwaXBlX2NvbmZpZy0+ZHBsbF9od19zdGF0ZS5kcGxsX21kKTsKKwkJ
ICAgICAgIGNydGNfc3RhdGUtPmRwbGxfaHdfc3RhdGUuZHBsbF9tZCk7CiAJaW50ZWxfZGVfcG9z
dGluZ19yZWFkKGRldl9wcml2LCBEUExMX01EKHBpcGUpKTsKIH0KIAogCi1zdGF0aWMgdm9pZCBf
Y2h2X2VuYWJsZV9wbGwoY29uc3Qgc3RydWN0IGludGVsX2NydGNfc3RhdGUgKnBpcGVfY29uZmln
KQorc3RhdGljIHZvaWQgX2Nodl9lbmFibGVfcGxsKGNvbnN0IHN0cnVjdCBpbnRlbF9jcnRjX3N0
YXRlICpjcnRjX3N0YXRlKQogewotCXN0cnVjdCBpbnRlbF9jcnRjICpjcnRjID0gdG9faW50ZWxf
Y3J0YyhwaXBlX2NvbmZpZy0+dWFwaS5jcnRjKTsKKwlzdHJ1Y3QgaW50ZWxfY3J0YyAqY3J0YyA9
IHRvX2ludGVsX2NydGMoY3J0Y19zdGF0ZS0+dWFwaS5jcnRjKTsKIAlzdHJ1Y3QgZHJtX2k5MTVf
cHJpdmF0ZSAqZGV2X3ByaXYgPSB0b19pOTE1KGNydGMtPmJhc2UuZGV2KTsKIAllbnVtIHBpcGUg
cGlwZSA9IGNydGMtPnBpcGU7CiAJZW51bSBkcGlvX2NoYW5uZWwgcG9ydCA9IHZsdl9waXBlX3Rv
X2NoYW5uZWwocGlwZSk7CkBAIC0xNTIwLDI2ICsxNTIwLDI2IEBAIHN0YXRpYyB2b2lkIF9jaHZf
ZW5hYmxlX3BsbChjb25zdCBzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqcGlwZV9jb25maWcpCiAJ
dWRlbGF5KDEpOwogCiAJLyogRW5hYmxlIFBMTCAqLwotCWludGVsX2RlX3dyaXRlKGRldl9wcml2
LCBEUExMKHBpcGUpLCBwaXBlX2NvbmZpZy0+ZHBsbF9od19zdGF0ZS5kcGxsKTsKKwlpbnRlbF9k
ZV93cml0ZShkZXZfcHJpdiwgRFBMTChwaXBlKSwgY3J0Y19zdGF0ZS0+ZHBsbF9od19zdGF0ZS5k
cGxsKTsKIAogCS8qIENoZWNrIFBMTCBpcyBsb2NrZWQgKi8KIAlpZiAoaW50ZWxfZGVfd2FpdF9m
b3Jfc2V0KGRldl9wcml2LCBEUExMKHBpcGUpLCBEUExMX0xPQ0tfVkxWLCAxKSkKIAkJZHJtX2Vy
cigmZGV2X3ByaXYtPmRybSwgIlBMTCAlZCBmYWlsZWQgdG8gbG9ja1xuIiwgcGlwZSk7CiB9CiAK
LXZvaWQgY2h2X2VuYWJsZV9wbGwoY29uc3Qgc3RydWN0IGludGVsX2NydGNfc3RhdGUgKnBpcGVf
Y29uZmlnKQordm9pZCBjaHZfZW5hYmxlX3BsbChjb25zdCBzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0
ZSAqY3J0Y19zdGF0ZSkKIHsKLQlzdHJ1Y3QgaW50ZWxfY3J0YyAqY3J0YyA9IHRvX2ludGVsX2Ny
dGMocGlwZV9jb25maWctPnVhcGkuY3J0Yyk7CisJc3RydWN0IGludGVsX2NydGMgKmNydGMgPSB0
b19pbnRlbF9jcnRjKGNydGNfc3RhdGUtPnVhcGkuY3J0Yyk7CiAJc3RydWN0IGRybV9pOTE1X3By
aXZhdGUgKmRldl9wcml2ID0gdG9faTkxNShjcnRjLT5iYXNlLmRldik7CiAJZW51bSBwaXBlIHBp
cGUgPSBjcnRjLT5waXBlOwogCi0JYXNzZXJ0X3BpcGVfZGlzYWJsZWQoZGV2X3ByaXYsIHBpcGVf
Y29uZmlnLT5jcHVfdHJhbnNjb2Rlcik7CisJYXNzZXJ0X3BpcGVfZGlzYWJsZWQoZGV2X3ByaXYs
IGNydGNfc3RhdGUtPmNwdV90cmFuc2NvZGVyKTsKIAogCS8qIFBMTCBpcyBwcm90ZWN0ZWQgYnkg
cGFuZWwsIG1ha2Ugc3VyZSB3ZSBjYW4gd3JpdGUgaXQgKi8KIAlhc3NlcnRfcGFuZWxfdW5sb2Nr
ZWQoZGV2X3ByaXYsIHBpcGUpOwogCi0JaWYgKHBpcGVfY29uZmlnLT5kcGxsX2h3X3N0YXRlLmRw
bGwgJiBEUExMX1ZDT19FTkFCTEUpCi0JCV9jaHZfZW5hYmxlX3BsbChwaXBlX2NvbmZpZyk7CisJ
aWYgKGNydGNfc3RhdGUtPmRwbGxfaHdfc3RhdGUuZHBsbCAmIERQTExfVkNPX0VOQUJMRSkKKwkJ
X2Nodl9lbmFibGVfcGxsKGNydGNfc3RhdGUpOwogCiAJaWYgKHBpcGUgIT0gUElQRV9BKSB7CiAJ
CS8qCkBAIC0xNTUwLDkgKzE1NTAsOSBAQCB2b2lkIGNodl9lbmFibGVfcGxsKGNvbnN0IHN0cnVj
dCBpbnRlbF9jcnRjX3N0YXRlICpwaXBlX2NvbmZpZykKIAkJICovCiAJCWludGVsX2RlX3dyaXRl
KGRldl9wcml2LCBDQlI0X1ZMViwgQ0JSX0RQTExCTURfUElQRShwaXBlKSk7CiAJCWludGVsX2Rl
X3dyaXRlKGRldl9wcml2LCBEUExMX01EKFBJUEVfQiksCi0JCQkgICAgICAgcGlwZV9jb25maWct
PmRwbGxfaHdfc3RhdGUuZHBsbF9tZCk7CisJCQkgICAgICAgY3J0Y19zdGF0ZS0+ZHBsbF9od19z
dGF0ZS5kcGxsX21kKTsKIAkJaW50ZWxfZGVfd3JpdGUoZGV2X3ByaXYsIENCUjRfVkxWLCAwKTsK
LQkJZGV2X3ByaXYtPmNodl9kcGxsX21kW3BpcGVdID0gcGlwZV9jb25maWctPmRwbGxfaHdfc3Rh
dGUuZHBsbF9tZDsKKwkJZGV2X3ByaXYtPmNodl9kcGxsX21kW3BpcGVdID0gY3J0Y19zdGF0ZS0+
ZHBsbF9od19zdGF0ZS5kcGxsX21kOwogCiAJCS8qCiAJCSAqIERQTExCIFZHQSBtb2RlIGFsc28g
c2VlbXMgdG8gY2F1c2UgcHJvYmxlbXMuCkBAIC0xNTYzLDE0ICsxNTYzLDE0IEBAIHZvaWQgY2h2
X2VuYWJsZV9wbGwoY29uc3Qgc3RydWN0IGludGVsX2NydGNfc3RhdGUgKnBpcGVfY29uZmlnKQog
CQkJICAgICBEUExMX1ZHQV9NT0RFX0RJUykgPT0gMCk7CiAJfSBlbHNlIHsKIAkJaW50ZWxfZGVf
d3JpdGUoZGV2X3ByaXYsIERQTExfTUQocGlwZSksCi0JCQkgICAgICAgcGlwZV9jb25maWctPmRw
bGxfaHdfc3RhdGUuZHBsbF9tZCk7CisJCQkgICAgICAgY3J0Y19zdGF0ZS0+ZHBsbF9od19zdGF0
ZS5kcGxsX21kKTsKIAkJaW50ZWxfZGVfcG9zdGluZ19yZWFkKGRldl9wcml2LCBEUExMX01EKHBp
cGUpKTsKIAl9CiB9CiAKLXZvaWQgdmx2X3ByZXBhcmVfcGxsKGNvbnN0IHN0cnVjdCBpbnRlbF9j
cnRjX3N0YXRlICpwaXBlX2NvbmZpZykKK3ZvaWQgdmx2X3ByZXBhcmVfcGxsKGNvbnN0IHN0cnVj
dCBpbnRlbF9jcnRjX3N0YXRlICpjcnRjX3N0YXRlKQogewotCXN0cnVjdCBpbnRlbF9jcnRjICpj
cnRjID0gdG9faW50ZWxfY3J0YyhwaXBlX2NvbmZpZy0+dWFwaS5jcnRjKTsKKwlzdHJ1Y3QgaW50
ZWxfY3J0YyAqY3J0YyA9IHRvX2ludGVsX2NydGMoY3J0Y19zdGF0ZS0+dWFwaS5jcnRjKTsKIAlz
dHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYgPSB0b19pOTE1KGNydGMtPmJhc2UuZGV2
KTsKIAllbnVtIHBpcGUgcGlwZSA9IGNydGMtPnBpcGU7CiAJdTMyIG1kaXY7CkBAIC0xNTc5LDE5
ICsxNTc5LDIwIEBAIHZvaWQgdmx2X3ByZXBhcmVfcGxsKGNvbnN0IHN0cnVjdCBpbnRlbF9jcnRj
X3N0YXRlICpwaXBlX2NvbmZpZykKIAogCS8qIEVuYWJsZSBSZWZjbGsgKi8KIAlpbnRlbF9kZV93
cml0ZShkZXZfcHJpdiwgRFBMTChwaXBlKSwKLQkJICAgICAgIHBpcGVfY29uZmlnLT5kcGxsX2h3
X3N0YXRlLmRwbGwgJiB+KERQTExfVkNPX0VOQUJMRSB8IERQTExfRVhUX0JVRkZFUl9FTkFCTEVf
VkxWKSk7CisJCSAgICAgICBjcnRjX3N0YXRlLT5kcGxsX2h3X3N0YXRlLmRwbGwgJgorCQkgICAg
ICAgfihEUExMX1ZDT19FTkFCTEUgfCBEUExMX0VYVF9CVUZGRVJfRU5BQkxFX1ZMVikpOwogCiAJ
LyogTm8gbmVlZCB0byBhY3R1YWxseSBzZXQgdXAgdGhlIERQTEwgd2l0aCBEU0kgKi8KLQlpZiAo
KHBpcGVfY29uZmlnLT5kcGxsX2h3X3N0YXRlLmRwbGwgJiBEUExMX1ZDT19FTkFCTEUpID09IDAp
CisJaWYgKChjcnRjX3N0YXRlLT5kcGxsX2h3X3N0YXRlLmRwbGwgJiBEUExMX1ZDT19FTkFCTEUp
ID09IDApCiAJCXJldHVybjsKIAogCXZsdl9kcGlvX2dldChkZXZfcHJpdik7CiAKLQliZXN0biA9
IHBpcGVfY29uZmlnLT5kcGxsLm47Ci0JYmVzdG0xID0gcGlwZV9jb25maWctPmRwbGwubTE7Ci0J
YmVzdG0yID0gcGlwZV9jb25maWctPmRwbGwubTI7Ci0JYmVzdHAxID0gcGlwZV9jb25maWctPmRw
bGwucDE7Ci0JYmVzdHAyID0gcGlwZV9jb25maWctPmRwbGwucDI7CisJYmVzdG4gPSBjcnRjX3N0
YXRlLT5kcGxsLm47CisJYmVzdG0xID0gY3J0Y19zdGF0ZS0+ZHBsbC5tMTsKKwliZXN0bTIgPSBj
cnRjX3N0YXRlLT5kcGxsLm0yOworCWJlc3RwMSA9IGNydGNfc3RhdGUtPmRwbGwucDE7CisJYmVz
dHAyID0gY3J0Y19zdGF0ZS0+ZHBsbC5wMjsKIAogCS8qIFNlZSBlRFAgSERNSSBEUElPIGRyaXZl
ciB2YmlvcyBub3RlcyBkb2MgKi8KIApAQCAtMTYyOCwxNiArMTYyOSwxNiBAQCB2b2lkIHZsdl9w
cmVwYXJlX3BsbChjb25zdCBzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqcGlwZV9jb25maWcpCiAJ
dmx2X2RwaW9fd3JpdGUoZGV2X3ByaXYsIHBpcGUsIFZMVl9QTExfRFczKHBpcGUpLCBtZGl2KTsK
IAogCS8qIFNldCBIQlIgYW5kIFJCUiBMUEYgY29lZmZpY2llbnRzICovCi0JaWYgKHBpcGVfY29u
ZmlnLT5wb3J0X2Nsb2NrID09IDE2MjAwMCB8fAotCSAgICBpbnRlbF9jcnRjX2hhc190eXBlKHBp
cGVfY29uZmlnLCBJTlRFTF9PVVRQVVRfQU5BTE9HKSB8fAotCSAgICBpbnRlbF9jcnRjX2hhc190
eXBlKHBpcGVfY29uZmlnLCBJTlRFTF9PVVRQVVRfSERNSSkpCisJaWYgKGNydGNfc3RhdGUtPnBv
cnRfY2xvY2sgPT0gMTYyMDAwIHx8CisJICAgIGludGVsX2NydGNfaGFzX3R5cGUoY3J0Y19zdGF0
ZSwgSU5URUxfT1VUUFVUX0FOQUxPRykgfHwKKwkgICAgaW50ZWxfY3J0Y19oYXNfdHlwZShjcnRj
X3N0YXRlLCBJTlRFTF9PVVRQVVRfSERNSSkpCiAJCXZsdl9kcGlvX3dyaXRlKGRldl9wcml2LCBw
aXBlLCBWTFZfUExMX0RXMTAocGlwZSksCiAJCQkJIDB4MDA5ZjAwMDMpOwogCWVsc2UKIAkJdmx2
X2RwaW9fd3JpdGUoZGV2X3ByaXYsIHBpcGUsIFZMVl9QTExfRFcxMChwaXBlKSwKIAkJCQkgMHgw
MGQwMDAwZik7CiAKLQlpZiAoaW50ZWxfY3J0Y19oYXNfZHBfZW5jb2RlcihwaXBlX2NvbmZpZykp
IHsKKwlpZiAoaW50ZWxfY3J0Y19oYXNfZHBfZW5jb2RlcihjcnRjX3N0YXRlKSkgewogCQkvKiBV
c2UgU1NDIHNvdXJjZSAqLwogCQlpZiAocGlwZSA9PSBQSVBFX0EpCiAJCQl2bHZfZHBpb193cml0
ZShkZXZfcHJpdiwgcGlwZSwgVkxWX1BMTF9EVzUocGlwZSksCkBAIC0xNjU3LDcgKzE2NTgsNyBA
QCB2b2lkIHZsdl9wcmVwYXJlX3BsbChjb25zdCBzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqcGlw
ZV9jb25maWcpCiAKIAljb3JlY2xrID0gdmx2X2RwaW9fcmVhZChkZXZfcHJpdiwgcGlwZSwgVkxW
X1BMTF9EVzcocGlwZSkpOwogCWNvcmVjbGsgPSAoY29yZWNsayAmIDB4MDAwMGZmMDApIHwgMHgw
MWMwMDAwMDsKLQlpZiAoaW50ZWxfY3J0Y19oYXNfZHBfZW5jb2RlcihwaXBlX2NvbmZpZykpCisJ
aWYgKGludGVsX2NydGNfaGFzX2RwX2VuY29kZXIoY3J0Y19zdGF0ZSkpCiAJCWNvcmVjbGsgfD0g
MHgwMTAwMDAwMDsKIAl2bHZfZHBpb193cml0ZShkZXZfcHJpdiwgcGlwZSwgVkxWX1BMTF9EVzco
cGlwZSksIGNvcmVjbGspOwogCkBAIC0xNjY2LDkgKzE2NjcsOSBAQCB2b2lkIHZsdl9wcmVwYXJl
X3BsbChjb25zdCBzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqcGlwZV9jb25maWcpCiAJdmx2X2Rw
aW9fcHV0KGRldl9wcml2KTsKIH0KIAotdm9pZCBjaHZfcHJlcGFyZV9wbGwoY29uc3Qgc3RydWN0
IGludGVsX2NydGNfc3RhdGUgKnBpcGVfY29uZmlnKQordm9pZCBjaHZfcHJlcGFyZV9wbGwoY29u
c3Qgc3RydWN0IGludGVsX2NydGNfc3RhdGUgKmNydGNfc3RhdGUpCiB7Ci0Jc3RydWN0IGludGVs
X2NydGMgKmNydGMgPSB0b19pbnRlbF9jcnRjKHBpcGVfY29uZmlnLT51YXBpLmNydGMpOworCXN0
cnVjdCBpbnRlbF9jcnRjICpjcnRjID0gdG9faW50ZWxfY3J0YyhjcnRjX3N0YXRlLT51YXBpLmNy
dGMpOwogCXN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiA9IHRvX2k5MTUoY3J0Yy0+
YmFzZS5kZXYpOwogCWVudW0gcGlwZSBwaXBlID0gY3J0Yy0+cGlwZTsKIAllbnVtIGRwaW9fY2hh
bm5lbCBwb3J0ID0gdmx2X3BpcGVfdG9fY2hhbm5lbChwaXBlKTsKQEAgLTE2NzksMTkgKzE2ODAs
MTkgQEAgdm9pZCBjaHZfcHJlcGFyZV9wbGwoY29uc3Qgc3RydWN0IGludGVsX2NydGNfc3RhdGUg
KnBpcGVfY29uZmlnKQogCiAJLyogRW5hYmxlIFJlZmNsayBhbmQgU1NDICovCiAJaW50ZWxfZGVf
d3JpdGUoZGV2X3ByaXYsIERQTEwocGlwZSksCi0JCSAgICAgICBwaXBlX2NvbmZpZy0+ZHBsbF9o
d19zdGF0ZS5kcGxsICYgfkRQTExfVkNPX0VOQUJMRSk7CisJCSAgICAgICBjcnRjX3N0YXRlLT5k
cGxsX2h3X3N0YXRlLmRwbGwgJiB+RFBMTF9WQ09fRU5BQkxFKTsKIAogCS8qIE5vIG5lZWQgdG8g
YWN0dWFsbHkgc2V0IHVwIHRoZSBEUExMIHdpdGggRFNJICovCi0JaWYgKChwaXBlX2NvbmZpZy0+
ZHBsbF9od19zdGF0ZS5kcGxsICYgRFBMTF9WQ09fRU5BQkxFKSA9PSAwKQorCWlmICgoY3J0Y19z
dGF0ZS0+ZHBsbF9od19zdGF0ZS5kcGxsICYgRFBMTF9WQ09fRU5BQkxFKSA9PSAwKQogCQlyZXR1
cm47CiAKLQliZXN0biA9IHBpcGVfY29uZmlnLT5kcGxsLm47Ci0JYmVzdG0yX2ZyYWMgPSBwaXBl
X2NvbmZpZy0+ZHBsbC5tMiAmIDB4M2ZmZmZmOwotCWJlc3RtMSA9IHBpcGVfY29uZmlnLT5kcGxs
Lm0xOwotCWJlc3RtMiA9IHBpcGVfY29uZmlnLT5kcGxsLm0yID4+IDIyOwotCWJlc3RwMSA9IHBp
cGVfY29uZmlnLT5kcGxsLnAxOwotCWJlc3RwMiA9IHBpcGVfY29uZmlnLT5kcGxsLnAyOwotCXZj
byA9IHBpcGVfY29uZmlnLT5kcGxsLnZjbzsKKwliZXN0biA9IGNydGNfc3RhdGUtPmRwbGwubjsK
KwliZXN0bTJfZnJhYyA9IGNydGNfc3RhdGUtPmRwbGwubTIgJiAweDNmZmZmZjsKKwliZXN0bTEg
PSBjcnRjX3N0YXRlLT5kcGxsLm0xOworCWJlc3RtMiA9IGNydGNfc3RhdGUtPmRwbGwubTIgPj4g
MjI7CisJYmVzdHAxID0gY3J0Y19zdGF0ZS0+ZHBsbC5wMTsKKwliZXN0cDIgPSBjcnRjX3N0YXRl
LT5kcGxsLnAyOworCXZjbyA9IGNydGNfc3RhdGUtPmRwbGwudmNvOwogCWRwaW9fdmFsID0gMDsK
IAlsb29wZmlsdGVyID0gMDsKIApAQCAtMTc4NCwyOCArMTc4NSwyOCBAQCBpbnQgdmx2X2ZvcmNl
X3BsbF9vbihzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYsIGVudW0gcGlwZSBwaXBl
LAogCQkgICAgIGNvbnN0IHN0cnVjdCBkcGxsICpkcGxsKQogewogCXN0cnVjdCBpbnRlbF9jcnRj
ICpjcnRjID0gaW50ZWxfZ2V0X2NydGNfZm9yX3BpcGUoZGV2X3ByaXYsIHBpcGUpOwotCXN0cnVj
dCBpbnRlbF9jcnRjX3N0YXRlICpwaXBlX2NvbmZpZzsKKwlzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0
ZSAqY3J0Y19zdGF0ZTsKIAotCXBpcGVfY29uZmlnID0gaW50ZWxfY3J0Y19zdGF0ZV9hbGxvYyhj
cnRjKTsKLQlpZiAoIXBpcGVfY29uZmlnKQorCWNydGNfc3RhdGUgPSBpbnRlbF9jcnRjX3N0YXRl
X2FsbG9jKGNydGMpOworCWlmICghY3J0Y19zdGF0ZSkKIAkJcmV0dXJuIC1FTk9NRU07CiAKLQlw
aXBlX2NvbmZpZy0+Y3B1X3RyYW5zY29kZXIgPSAoZW51bSB0cmFuc2NvZGVyKXBpcGU7Ci0JcGlw
ZV9jb25maWctPnBpeGVsX211bHRpcGxpZXIgPSAxOwotCXBpcGVfY29uZmlnLT5kcGxsID0gKmRw
bGw7Ci0JcGlwZV9jb25maWctPm91dHB1dF90eXBlcyA9IEJJVChJTlRFTF9PVVRQVVRfRURQKTsK
KwljcnRjX3N0YXRlLT5jcHVfdHJhbnNjb2RlciA9IChlbnVtIHRyYW5zY29kZXIpcGlwZTsKKwlj
cnRjX3N0YXRlLT5waXhlbF9tdWx0aXBsaWVyID0gMTsKKwljcnRjX3N0YXRlLT5kcGxsID0gKmRw
bGw7CisJY3J0Y19zdGF0ZS0+b3V0cHV0X3R5cGVzID0gQklUKElOVEVMX09VVFBVVF9FRFApOwog
CiAJaWYgKElTX0NIRVJSWVZJRVcoZGV2X3ByaXYpKSB7Ci0JCWNodl9jb21wdXRlX2RwbGwocGlw
ZV9jb25maWcpOwotCQljaHZfcHJlcGFyZV9wbGwocGlwZV9jb25maWcpOwotCQljaHZfZW5hYmxl
X3BsbChwaXBlX2NvbmZpZyk7CisJCWNodl9jb21wdXRlX2RwbGwoY3J0Y19zdGF0ZSk7CisJCWNo
dl9wcmVwYXJlX3BsbChjcnRjX3N0YXRlKTsKKwkJY2h2X2VuYWJsZV9wbGwoY3J0Y19zdGF0ZSk7
CiAJfSBlbHNlIHsKLQkJdmx2X2NvbXB1dGVfZHBsbChwaXBlX2NvbmZpZyk7Ci0JCXZsdl9wcmVw
YXJlX3BsbChwaXBlX2NvbmZpZyk7Ci0JCXZsdl9lbmFibGVfcGxsKHBpcGVfY29uZmlnKTsKKwkJ
dmx2X2NvbXB1dGVfZHBsbChjcnRjX3N0YXRlKTsKKwkJdmx2X3ByZXBhcmVfcGxsKGNydGNfc3Rh
dGUpOworCQl2bHZfZW5hYmxlX3BsbChjcnRjX3N0YXRlKTsKIAl9CiAKLQlrZnJlZShwaXBlX2Nv
bmZpZyk7CisJa2ZyZWUoY3J0Y19zdGF0ZSk7CiAKIAlyZXR1cm4gMDsKIH0KLS0gCjIuMzEuMQoK
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KSW50ZWwtZ2Z4
IG1haWxpbmcgbGlzdApJbnRlbC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlz
dHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vaW50ZWwtZ2Z4Cg==

Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 30D59E781A
	for <lists+intel-gfx@lfdr.de>; Mon, 28 Oct 2019 19:07:41 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 044F76E9B5;
	Mon, 28 Oct 2019 18:07:39 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga14.intel.com (mga14.intel.com [192.55.52.115])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 4BDCD6E9B5
 for <intel-gfx@lists.freedesktop.org>; Mon, 28 Oct 2019 18:07:38 +0000 (UTC)
X-Amp-Result: UNKNOWN
X-Amp-Original-Verdict: FILE UNKNOWN
X-Amp-File-Uploaded: False
Received: from orsmga008.jf.intel.com ([10.7.209.65])
 by fmsmga103.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 28 Oct 2019 11:07:37 -0700
X-IronPort-AV: E=Sophos;i="5.68,240,1569308400"; d="scan'208";a="193339758"
Received: from ideak-desk.fi.intel.com ([10.237.68.142])
 by orsmga008-auth.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 28 Oct 2019 11:07:35 -0700
Date: Mon, 28 Oct 2019 20:06:03 +0200
From: Imre Deak <imre.deak@intel.com>
To: Ville =?iso-8859-1?Q?Syrj=E4l=E4?= <ville.syrjala@linux.intel.com>
Message-ID: <20191028180603.GC7347@ideak-desk.fi.intel.com>
References: <20191028110031.29616-1-imre.deak@intel.com>
 <20191028174509.GT1208@intel.com>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <20191028174509.GT1208@intel.com>
User-Agent: Mutt/1.9.4 (2018-02-28)
Subject: Re: [Intel-gfx] [PATCH] drm/i915: Avoid HPD poll detect triggering
 a new detect cycle
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Reply-To: imre.deak@intel.com
Cc: intel-gfx@lists.freedesktop.org, Val Kulkov <val.kulkov@gmail.com>,
 wangqr <wqr.prg@gmail.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

T24gTW9uLCBPY3QgMjgsIDIwMTkgYXQgMDc6NDU6MDlQTSArMDIwMCwgVmlsbGUgU3lyasOkbMOk
IHdyb3RlOgo+IE9uIE1vbiwgT2N0IDI4LCAyMDE5IGF0IDAxOjAwOjMxUE0gKzAyMDAsIEltcmUg
RGVhayB3cm90ZToKPiA+IEZvciB0aGUgSFBEIGludGVycnVwdCBmdW5jdGlvbmFsaXR5IHRoZSBI
VyBkZXBlbmRzIG9uIHBvd2VyIHdlbGxzIGluIHRoZQo+ID4gZGlzcGxheSBjb3JlIGRvbWFpbiB0
byBiZSBvbi4gQWNjb3JkaW5nbHkgd2hlbiBlbmFibGluZyB0aGVzZSBwb3dlcgo+ID4gd2VsbHMg
dGhlIEhQRCBwb2xsaW5nIGxvZ2ljIHdpbGwgZm9yY2UgYW4gSFBEIGRldGVjdGlvbiBjeWNsZSB0
byBhY2NvdW50Cj4gPiBmb3IgaG90cGx1ZyBldmVudHMgdGhhdCBtYXkgaGF2ZSBoYXBwZW5lZCB3
aGVuIHN1Y2ggYSBwb3dlciB3ZWxsIHdhcwo+ID4gb2ZmLgo+ID4gCj4gPiBUaHVzIGEgZGV0ZWN0
IGN5Y2xlIHN0YXJ0ZWQgYnkgcG9sbGluZyBjb3VsZCBzdGFydCBhIG5ldyBkZXRlY3QgY3ljbGUg
aWYKPiA+IGEgcG93ZXIgd2VsbCBpbiB0aGUgZGlzcGxheSBjb3JlIGRvbWFpbiBnZXRzIGVuYWJs
ZWQgZHVyaW5nIGRldGVjdCBhbmQKPiA+IHN0YXlzIGVuYWJsZWQgYWZ0ZXIgZGV0ZWN0IGNvbXBs
ZXRlcy4gVGhhdCBpbiB0dXJuIGNhbiBsZWFkIHRvIGEKPiA+IGRldGVjdGlvbiBjeWNsZSBydW5h
d2F5Lgo+ID4gCj4gPiBUbyBwcmV2ZW50IHJlLXRyaWdnZXJpbmcgYSBwb2xsLWRldGVjdCBjeWNs
ZSBtYWtlIHN1cmUgd2UgZHJvcCBhbGwgcG93ZXIKPiA+IHJlZmVyZW5jZXMgd2UgYWNxdWlyZWQg
ZHVyaW5nIGRldGVjdCBzeW5jaHJvbm91c2x5IGJ5IHRoZSBlbmQgb2YgZGV0ZWN0Lgo+ID4gVGhp
cyB3aWxsIGxldCB0aGUgcG9sbC1kZXRlY3QgbG9naWMgY29udGludWUgd2l0aCBwb2xsaW5nICht
YXRjaGluZyB0aGUKPiA+IG9mZiBzdGF0ZSBvZiB0aGUgY29ycmVzcG9uZGluZyBwb3dlciB3ZWxs
cykgaW5zdGVhZCBvZiBzY2hlZHVsaW5nIGEgbmV3Cj4gPiBkZXRlY3Rpb24gY3ljbGUuCj4gPiAK
PiA+IEZpeGVzOiA2Y2ZlN2VjMDJlODUgKCJkcm0vaTkxNTogUmVtb3ZlIHRoZSB1bm5lZWRlZCBB
VVggcG93ZXIgcmVmIGZyb20gaW50ZWxfZHBfZGV0ZWN0KCkiKQo+ID4gQnVnemlsbGE6IGh0dHBz
Oi8vYnVncy5mcmVlZGVza3RvcC5vcmcvc2hvd19idWcuY2dpP2lkPTExMjEyNQo+ID4gUmVwb3J0
ZWQtYnk6IFZhbCBLdWxrb3YgPHZhbC5rdWxrb3ZAZ21haWwuY29tPgo+ID4gUmVwb3J0ZWQtYW5k
LXRlc3RlZC1ieTogd2FuZ3FyIDwgd3FyLnByZ0BnbWFpbC5jb20+Cj4gPiBDYzogVmFsIEt1bGtv
diA8dmFsLmt1bGtvdkBnbWFpbC5jb20+Cj4gPiBDYzogd2FuZ3FyIDwgd3FyLnByZ0BnbWFpbC5j
b20+Cj4gPiBDYzogVmlsbGUgU3lyasOkbMOkIDx2aWxsZS5zeXJqYWxhQGxpbnV4LmludGVsLmNv
bT4KPiA+IFNpZ25lZC1vZmYtYnk6IEltcmUgRGVhayA8aW1yZS5kZWFrQGludGVsLmNvbT4KPiA+
IC0tLQo+ID4gIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfY3J0LmMgIHwgIDcg
KysrKysrKwo+ID4gIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZHAuYyAgIHwg
MjQgKysrKysrKysrKysrKystLS0tLS0tLS0KPiA+ICBkcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNw
bGF5L2ludGVsX2hkbWkuYyB8ICA2ICsrKysrKwo+ID4gIDMgZmlsZXMgY2hhbmdlZCwgMjggaW5z
ZXJ0aW9ucygrKSwgOSBkZWxldGlvbnMoLSkKPiA+IAo+ID4gZGlmZiAtLWdpdCBhL2RyaXZlcnMv
Z3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfY3J0LmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9k
aXNwbGF5L2ludGVsX2NydC5jCj4gPiBpbmRleCBmZjYxMjZlYTc5M2MuLjgzNGJmMWQ0M2JiOCAx
MDA2NDQKPiA+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfY3J0LmMK
PiA+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfY3J0LmMKPiA+IEBA
IC04NjQsNiArODY0LDEzIEBAIGludGVsX2NydF9kZXRlY3Qoc3RydWN0IGRybV9jb25uZWN0b3Ig
KmNvbm5lY3RvciwKPiA+ICAKPiA+ICBvdXQ6Cj4gPiAgCWludGVsX2Rpc3BsYXlfcG93ZXJfcHV0
KGRldl9wcml2LCBpbnRlbF9lbmNvZGVyLT5wb3dlcl9kb21haW4sIHdha2VyZWYpOwo+ID4gKwo+
ID4gKwkvKgo+ID4gKwkgKiBNYWtlIHN1cmUgdGhlIHJlZnMgZm9yIHBvd2VyIHdlbGxzIGVuYWJs
ZWQgZHVyaW5nIGRldGVjdCBhcmUKPiA+ICsJICogZHJvcHBlZCB0byBhdm9pZCBhIG5ldyBkZXRl
Y3QgY3ljbGUgdHJpZ2dlcmVkIGJ5IEhQRCBwb2xsaW5nLgo+ID4gKwkgKi8KPiA+ICsJaW50ZWxf
ZGlzcGxheV9wb3dlcl9mbHVzaF93b3JrKGRldl9wcml2KTsKPiA+ICsKPiA+ICAJcmV0dXJuIHN0
YXR1czsKPiA+ICB9Cj4gPiAgCj4gPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUv
ZGlzcGxheS9pbnRlbF9kcC5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9k
cC5jCj4gPiBpbmRleCA4Njk4OWVjMjViYzYuLmY0ZTBlYzA1ZDdjOSAxMDA2NDQKPiA+IC0tLSBh
L2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZHAuYwo+ID4gKysrIGIvZHJpdmVy
cy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kcC5jCj4gPiBAQCAtNTYwMCw2ICs1NjAwLDcg
QEAgaW50ZWxfZHBfZGV0ZWN0KHN0cnVjdCBkcm1fY29ubmVjdG9yICpjb25uZWN0b3IsCj4gPiAg
CXN0cnVjdCBpbnRlbF9kaWdpdGFsX3BvcnQgKmRpZ19wb3J0ID0gZHBfdG9fZGlnX3BvcnQoaW50
ZWxfZHApOwo+ID4gIAlzdHJ1Y3QgaW50ZWxfZW5jb2RlciAqZW5jb2RlciA9ICZkaWdfcG9ydC0+
YmFzZTsKPiA+ICAJZW51bSBkcm1fY29ubmVjdG9yX3N0YXR1cyBzdGF0dXM7Cj4gPiArCWludCBl
cnIgPSAwOwo+ID4gIAo+ID4gIAlEUk1fREVCVUdfS01TKCJbQ09OTkVDVE9SOiVkOiVzXVxuIiwK
PiA+ICAJCSAgICAgIGNvbm5lY3Rvci0+YmFzZS5pZCwgY29ubmVjdG9yLT5uYW1lKTsKPiA+IEBA
IC01NjI2LDcgKzU2MjcsNyBAQCBpbnRlbF9kcF9kZXRlY3Qoc3RydWN0IGRybV9jb25uZWN0b3Ig
KmNvbm5lY3RvciwKPiA+ICAJCQkJCQkJaW50ZWxfZHAtPmlzX21zdCk7Cj4gPiAgCQl9Cj4gPiAg
Cj4gPiAtCQlnb3RvIG91dDsKPiA+ICsJCWdvdG8gb3V0X3VwZGF0ZV9lZGlkOwo+ID4gIAl9Cj4g
PiAgCj4gPiAgCWlmIChpbnRlbF9kcC0+cmVzZXRfbGlua19wYXJhbXMpIHsKPiA+IEBAIC01NjU0
LDcgKzU2NTUsNyBAQCBpbnRlbF9kcF9kZXRlY3Qoc3RydWN0IGRybV9jb25uZWN0b3IgKmNvbm5l
Y3RvciwKPiA+ICAJCSAqIHdpdGggRURJRCBvbiBpdAo+ID4gIAkJICovCj4gPiAgCQlzdGF0dXMg
PSBjb25uZWN0b3Jfc3RhdHVzX2Rpc2Nvbm5lY3RlZDsKPiA+IC0JCWdvdG8gb3V0Owo+ID4gKwkJ
Z290byBvdXRfdXBkYXRlX2VkaWQ7Cj4gPiAgCX0KPiA+ICAKPiA+ICAJLyoKPiA+IEBAIC01NjYy
LDExICs1NjYzLDkgQEAgaW50ZWxfZHBfZGV0ZWN0KHN0cnVjdCBkcm1fY29ubmVjdG9yICpjb25u
ZWN0b3IsCj4gPiAgCSAqIHdpdGggYW4gSVJRX0hQRCwgc28gZm9yY2UgYSBsaW5rIHN0YXR1cyBj
aGVjay4KPiA+ICAJICovCj4gPiAgCWlmICghaW50ZWxfZHBfaXNfZWRwKGludGVsX2RwKSkgewo+
ID4gLQkJaW50IHJldDsKPiA+IC0KPiA+IC0JCXJldCA9IGludGVsX2RwX3JldHJhaW5fbGluayhl
bmNvZGVyLCBjdHgpOwo+ID4gLQkJaWYgKHJldCkKPiA+IC0JCQlyZXR1cm4gcmV0Owo+ID4gKwkJ
ZXJyID0gaW50ZWxfZHBfcmV0cmFpbl9saW5rKGVuY29kZXIsIGN0eCk7Cj4gPiArCQlpZiAoZXJy
KQo+IAo+IFRoaXMgc2hvdWxkIHByb2JhYmx5IHJlYWQgCj4gaWYgKGVyciA9PSAtRURFQURMSykK
PiAKPiBBbHNvIEkgZG9uJ3QgdGhpbmsgd2UgbmVlZCB0byBjaGFuZ2UgdGhpcyB0byBhIGdvdG8g
c2luY2UgaXQganVzdAo+IG1lYW5zIHdlJ3JlIGdvaW5nIHRvIHJldHJ5IHRoZSB3aG9sZSB0aGlu
ZyBhZ2Fpbiwgc28gdGhlIHN0cmFpZ2h0Cj4gcmV0dXJuIHNob3VsZCBiZSBmaW5lLgoKT2ssIHdp
bGwgcmVzZW5kIGl0IGtlZXBpbmcgdGhpcyBhcy1pcy4gVGhlIHJldHJ5IHdpbGwgYmUgZG9uZSB3
aXRob3V0CmRyb3BwaW5nIG1vZGVfY29uZmlnLm11dGV4LCBzbyBrZWVwaW5nIHRoZSBwb3dlciBy
ZWZzIGluIHRoYXQgY2FzZQpzaG91bGRuJ3QgY2F1c2UgYSBwcm9ibGVtLgoKPiAKPiA+ICsJCQln
b3RvIG91dF9zeW5jX3Bvd2VyOwo+ID4gIAl9Cj4gPiAgCj4gPiAgCS8qCj4gPiBAQCAtNTY4NCwx
MSArNTY4MywxOCBAQCBpbnRlbF9kcF9kZXRlY3Qoc3RydWN0IGRybV9jb25uZWN0b3IgKmNvbm5l
Y3RvciwKPiA+ICAKPiA+ICAJaW50ZWxfZHBfY2hlY2tfc2VydmljZV9pcnEoaW50ZWxfZHApOwo+
ID4gIAo+ID4gLW91dDoKPiA+ICtvdXRfdXBkYXRlX2VkaWQ6Cj4gPiAgCWlmIChzdGF0dXMgIT0g
Y29ubmVjdG9yX3N0YXR1c19jb25uZWN0ZWQgJiYgIWludGVsX2RwLT5pc19tc3QpCj4gPiAgCQlp
bnRlbF9kcF91bnNldF9lZGlkKGludGVsX2RwKTsKPiA+ICAKPiA+IC0JcmV0dXJuIHN0YXR1czsK
PiA+ICtvdXRfc3luY19wb3dlcjoKPiA+ICsJLyoKPiA+ICsJICogTWFrZSBzdXJlIHRoZSByZWZz
IGZvciBwb3dlciB3ZWxscyBlbmFibGVkIGR1cmluZyBkZXRlY3QgYXJlCj4gPiArCSAqIGRyb3Bw
ZWQgdG8gYXZvaWQgYSBuZXcgZGV0ZWN0IGN5Y2xlIHRyaWdnZXJlZCBieSBIUEQgcG9sbGluZy4K
PiA+ICsJICovCj4gPiArCWludGVsX2Rpc3BsYXlfcG93ZXJfZmx1c2hfd29yayhkZXZfcHJpdik7
Cj4gPiArCj4gPiArCXJldHVybiBlcnIgPyBlcnIgOiBzdGF0dXM7Cj4gPiAgfQo+ID4gIAo+ID4g
IHN0YXRpYyB2b2lkCj4gPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxh
eS9pbnRlbF9oZG1pLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2hkbWku
Ywo+ID4gaW5kZXggYjU0Y2NiYjVhYWQ1Li5mZjcxYTRkYTNkMDAgMTAwNjQ0Cj4gPiAtLS0gYS9k
cml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2hkbWkuYwo+ID4gKysrIGIvZHJpdmVy
cy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9oZG1pLmMKPiA+IEBAIC0yNjI2LDYgKzI2MjYs
MTIgQEAgaW50ZWxfaGRtaV9kZXRlY3Qoc3RydWN0IGRybV9jb25uZWN0b3IgKmNvbm5lY3Rvciwg
Ym9vbCBmb3JjZSkKPiA+ICAJaWYgKHN0YXR1cyAhPSBjb25uZWN0b3Jfc3RhdHVzX2Nvbm5lY3Rl
ZCkKPiA+ICAJCWNlY19ub3RpZmllcl9waHlzX2FkZHJfaW52YWxpZGF0ZShpbnRlbF9oZG1pLT5j
ZWNfbm90aWZpZXIpOwo+ID4gIAo+ID4gKwkvKgo+ID4gKwkgKiBNYWtlIHN1cmUgdGhlIHJlZnMg
Zm9yIHBvd2VyIHdlbGxzIGVuYWJsZWQgZHVyaW5nIGRldGVjdCBhcmUKPiA+ICsJICogZHJvcHBl
ZCB0byBhdm9pZCBhIG5ldyBkZXRlY3QgY3ljbGUgdHJpZ2dlcmVkIGJ5IEhQRCBwb2xsaW5nLgo+
ID4gKwkgKi8KPiA+ICsJaW50ZWxfZGlzcGxheV9wb3dlcl9mbHVzaF93b3JrKGRldl9wcml2KTsK
PiA+ICsKPiA+ICAJcmV0dXJuIHN0YXR1czsKPiA+ICB9Cj4gPiAgCj4gPiAtLSAKPiA+IDIuMTcu
MQo+IAo+IC0tIAo+IFZpbGxlIFN5cmrDpGzDpAo+IEludGVsCl9fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fCkludGVsLWdmeCBtYWlsaW5nIGxpc3QKSW50ZWwt
Z2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9t
YWlsbWFuL2xpc3RpbmZvL2ludGVsLWdmeA==

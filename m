Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 35C702E1E6
	for <lists+intel-gfx@lfdr.de>; Wed, 29 May 2019 18:06:19 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id A7BD86E111;
	Wed, 29 May 2019 16:06:17 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga06.intel.com (mga06.intel.com [134.134.136.31])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 372146E111
 for <intel-gfx@lists.freedesktop.org>; Wed, 29 May 2019 16:06:14 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga007.jf.intel.com ([10.7.209.58])
 by orsmga104.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 29 May 2019 09:06:13 -0700
X-ExtLoop1: 1
Received: from stinkbox.fi.intel.com (HELO stinkbox) ([10.237.72.174])
 by orsmga007.jf.intel.com with SMTP; 29 May 2019 09:06:11 -0700
Received: by stinkbox (sSMTP sendmail emulation);
 Wed, 29 May 2019 19:06:11 +0300
From: Ville Syrjala <ville.syrjala@linux.intel.com>
To: intel-gfx@lists.freedesktop.org
Date: Wed, 29 May 2019 19:05:58 +0300
Message-Id: <20190529160605.28739-3-ville.syrjala@linux.intel.com>
X-Mailer: git-send-email 2.21.0
In-Reply-To: <20190529160605.28739-1-ville.syrjala@linux.intel.com>
References: <20190529160605.28739-1-ville.syrjala@linux.intel.com>
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH 03/10] drm/i915: Program plane gamma ramps
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

RnJvbTogVmlsbGUgU3lyasOkbMOkIDx2aWxsZS5zeXJqYWxhQGxpbnV4LmludGVsLmNvbT4KCkFs
bCBzcHJpdGUgcGxhbmVzIGhhdmUgYSBwcm9nYW1tYWJsZSBnYW1tYSByYW1wLiBTZXQgaXQgdXAg
d2l0aAphIGxpbmVhciByYW1wIG9uIGFsbCBwbGF0Zm9ybXMuIFRoaXMgYWN0dWFsbHkgbWF0Y2hl
cyB0aGUgcmVzZXQKdmFsdWUgYnV0IHNvb24gd2UnbGwgd2FudCB0byByZXByb2dyYW0gdGhpcyBy
YW1wIG9uIHNvbWUgbWFjaGluZXMsCnNvIGxldCdzIGp1c3Qgc2V0IGl0IHVwIGFjcm9zcyB0aGUg
Ym9hcmQuCgpOb3RlICB0aGF0IG9uIHByZS1JVkIgdGhlIGhhcmR3YXJlIGJ5cGFzc2VkIHRoZSBn
YW1tYSB1bml0CnVubGVzcyBhIFlDYkNyIHBpeGVsIGZvcm1hdCBpcyB1c2VkLgoKdjI6IEFkZCBw
YXJlbnMgYXJvdW5kIDw8IGluIGlsa19saW5lYXJfZ2FtbWEoKQogICAgU2tpcCBnYW1tYSBwcm9n
cmFtbWluZyBmb3IgUkdCIG9uIHByZS1JVkIKICAgIHMvRFZTR0FNQy9EVlNHQU1DX0c0WC8KClNp
Z25lZC1vZmYtYnk6IFZpbGxlIFN5cmrDpGzDpCA8dmlsbGUuc3lyamFsYUBsaW51eC5pbnRlbC5j
b20+Ci0tLQogZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9yZWcuaCAgICAgfCAgMzEgKysrKy0t
CiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9zcHJpdGUuYyB8IDE0MiArKysrKysrKysrKysr
KysrKysrKysrKysrKysrCiAyIGZpbGVzIGNoYW5nZWQsIDE2NiBpbnNlcnRpb25zKCspLCA3IGRl
bGV0aW9ucygtKQoKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfcmVnLmgg
Yi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3JlZy5oCmluZGV4IDFjM2Q3YWExYTUyYi4uMDE4
NjFlZTM3ZDE3IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3JlZy5oCisr
KyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfcmVnLmgKQEAgLTYyNzUsNiArNjI3NSw3IEBA
IGVudW0gewogI2RlZmluZSBfRFNQQVRJTEVPRkYJCQkJMHg3MDFBNCAvKiA5NjUrIG9ubHkgKi8K
ICNkZWZpbmUgX0RTUEFPRkZTRVQJCQkJMHg3MDFBNCAvKiBIU1cgKi8KICNkZWZpbmUgX0RTUEFT
VVJGTElWRQkJCQkweDcwMUFDCisjZGVmaW5lIF9EU1BBR0FNQwkJCQkweDcwMUUwCiAKICNkZWZp
bmUgRFNQQ05UUihwbGFuZSkJCV9NTUlPX1BJUEUyKHBsYW5lLCBfRFNQQUNOVFIpCiAjZGVmaW5l
IERTUEFERFIocGxhbmUpCQlfTU1JT19QSVBFMihwbGFuZSwgX0RTUEFBRERSKQpAQCAtNjI4Niw2
ICs2Mjg3LDcgQEAgZW51bSB7CiAjZGVmaW5lIERTUExJTk9GRihwbGFuZSkJRFNQQUREUihwbGFu
ZSkKICNkZWZpbmUgRFNQT0ZGU0VUKHBsYW5lKQlfTU1JT19QSVBFMihwbGFuZSwgX0RTUEFPRkZT
RVQpCiAjZGVmaW5lIERTUFNVUkZMSVZFKHBsYW5lKQlfTU1JT19QSVBFMihwbGFuZSwgX0RTUEFT
VVJGTElWRSkKKyNkZWZpbmUgRFNQR0FNQyhwbGFuZSwgaSkJX01NSU8oX1BJUEUyKHBsYW5lLCBf
RFNQQUdBTUMpICsgKDUgLSAoaSkpICogNCkgLyogcGxhbmUgQyBvbmx5LCA2IHggdTAuOCAqLwog
CiAvKiBDSFYgcGlwZSBCIGJsZW5kZXIgYW5kIHByaW1hcnkgcGxhbmUgKi8KICNkZWZpbmUgX0NI
Vl9CTEVORF9BCQkweDYwYTAwCkBAIC02Mzg4LDYgKzYzOTAsNyBAQCBlbnVtIHsKICNkZWZpbmUg
X0RWU0FLRVlNQVhWQUwJCTB4NzIxYTAKICNkZWZpbmUgX0RWU0FUSUxFT0ZGCQkweDcyMWE0CiAj
ZGVmaW5lIF9EVlNBU1VSRkxJVkUJCTB4NzIxYWMKKyNkZWZpbmUgX0RWU0FHQU1DX0c0WAkJMHg3
MjFlMCAvKiBnNHggKi8KICNkZWZpbmUgX0RWU0FTQ0FMRQkJMHg3MjIwNAogI2RlZmluZSAgIERW
U19TQ0FMRV9FTkFCTEUJKDEgPDwgMzEpCiAjZGVmaW5lICAgRFZTX0ZJTFRFUl9NQVNLCSgzIDw8
IDI5KQpAQCAtNjM5Niw3ICs2Mzk5LDggQEAgZW51bSB7CiAjZGVmaW5lICAgRFZTX0ZJTFRFUl9T
T0ZURU5JTkcJKDIgPDwgMjkpCiAjZGVmaW5lICAgRFZTX1ZFUlRJQ0FMX09GRlNFVF9IQUxGICgx
IDw8IDI4KSAvKiBtdXN0IGJlIGVuYWJsZWQgYmVsb3cgKi8KICNkZWZpbmUgICBEVlNfVkVSVElD
QUxfT0ZGU0VUX0VOQUJMRSAoMSA8PCAyNykKLSNkZWZpbmUgX0RWU0FHQU1DCQkweDcyMzAwCisj
ZGVmaW5lIF9EVlNBR0FNQ19JTEsJCTB4NzIzMDAgLyogaWxrL3NuYiAqLworI2RlZmluZSBfRFZT
QUdBTUNNQVhfSUxLCTB4NzIzNDAgLyogaWxrL3NuYiAqLwogCiAjZGVmaW5lIF9EVlNCQ05UUgkJ
MHg3MzE4MAogI2RlZmluZSBfRFZTQkxJTk9GRgkJMHg3MzE4NApAQCAtNjQwOSw4ICs2NDEzLDEw
IEBAIGVudW0gewogI2RlZmluZSBfRFZTQktFWU1BWFZBTAkJMHg3MzFhMAogI2RlZmluZSBfRFZT
QlRJTEVPRkYJCTB4NzMxYTQKICNkZWZpbmUgX0RWU0JTVVJGTElWRQkJMHg3MzFhYworI2RlZmlu
ZSBfRFZTQkdBTUNfRzRYCQkweDczMWUwIC8qIGc0eCAqLwogI2RlZmluZSBfRFZTQlNDQUxFCQkw
eDczMjA0Ci0jZGVmaW5lIF9EVlNCR0FNQwkJMHg3MzMwMAorI2RlZmluZSBfRFZTQkdBTUNfSUxL
CQkweDczMzAwIC8qIGlsay9zbmIgKi8KKyNkZWZpbmUgX0RWU0JHQU1DTUFYX0lMSwkweDczMzQw
IC8qIGlsay9zbmIgKi8KIAogI2RlZmluZSBEVlNDTlRSKHBpcGUpIF9NTUlPX1BJUEUocGlwZSwg
X0RWU0FDTlRSLCBfRFZTQkNOVFIpCiAjZGVmaW5lIERWU0xJTk9GRihwaXBlKSBfTU1JT19QSVBF
KHBpcGUsIF9EVlNBTElOT0ZGLCBfRFZTQkxJTk9GRikKQEAgLTY0MjQsNiArNjQzMCw5IEBAIGVu
dW0gewogI2RlZmluZSBEVlNLRVlWQUwocGlwZSkgX01NSU9fUElQRShwaXBlLCBfRFZTQUtFWVZB
TCwgX0RWU0JLRVlWQUwpCiAjZGVmaW5lIERWU0tFWU1TSyhwaXBlKSBfTU1JT19QSVBFKHBpcGUs
IF9EVlNBS0VZTVNLLCBfRFZTQktFWU1TSykKICNkZWZpbmUgRFZTU1VSRkxJVkUocGlwZSkgX01N
SU9fUElQRShwaXBlLCBfRFZTQVNVUkZMSVZFLCBfRFZTQlNVUkZMSVZFKQorI2RlZmluZSBEVlNH
QU1DX0c0WChwaXBlLCBpKSBfTU1JTyhfUElQRShwaXBlLCBfRFZTQUdBTUNfRzRYLCBfRFZTQkdB
TUNfRzRYKSArICg1IC0gKGkpKSAqIDQpIC8qIDYgeCB1MC44ICovCisjZGVmaW5lIERWU0dBTUNf
SUxLKHBpcGUsIGkpIF9NTUlPKF9QSVBFKHBpcGUsIF9EVlNBR0FNQ19JTEssIF9EVlNCR0FNQ19J
TEspICsgKGkpICogNCkgLyogMTYgeCB1MC4xMCAqLworI2RlZmluZSBEVlNHQU1DTUFYX0lMSyhw
aXBlLCBpKSBfTU1JTyhfUElQRShwaXBlLCBfRFZTQUdBTUNNQVhfSUxLLCBfRFZTQkdBTUNNQVhf
SUxLKSArIChpKSAqIDQpIC8qIDMgeCB1MS4xMCAqLwogCiAjZGVmaW5lIF9TUFJBX0NUTAkJMHg3
MDI4MAogI2RlZmluZSAgIFNQUklURV9FTkFCTEUJCQkoMSA8PCAzMSkKQEAgLTY0NzEsNiArNjQ4
MCw4IEBAIGVudW0gewogI2RlZmluZSAgIFNQUklURV9WRVJUSUNBTF9PRkZTRVRfSEFMRgkoMSA8
PCAyOCkgLyogbXVzdCBiZSBlbmFibGVkIGJlbG93ICovCiAjZGVmaW5lICAgU1BSSVRFX1ZFUlRJ
Q0FMX09GRlNFVF9FTkFCTEUJKDEgPDwgMjcpCiAjZGVmaW5lIF9TUFJBX0dBTUMJCTB4NzA0MDAK
KyNkZWZpbmUgX1NQUkFfR0FNQzE2CQkweDcwNDQwCisjZGVmaW5lIF9TUFJBX0dBTUMxNwkJMHg3
MDQ0YwogCiAjZGVmaW5lIF9TUFJCX0NUTAkJMHg3MTI4MAogI2RlZmluZSBfU1BSQl9MSU5PRkYJ
CTB4NzEyODQKQEAgLTY0ODYsNiArNjQ5Nyw4IEBAIGVudW0gewogI2RlZmluZSBfU1BSQl9TVVJG
TElWRQkJMHg3MTJhYwogI2RlZmluZSBfU1BSQl9TQ0FMRQkJMHg3MTMwNAogI2RlZmluZSBfU1BS
Ql9HQU1DCQkweDcxNDAwCisjZGVmaW5lIF9TUFJCX0dBTUMxNgkJMHg3MTQ0MAorI2RlZmluZSBf
U1BSQl9HQU1DMTcJCTB4NzE0NGMKIAogI2RlZmluZSBTUFJDVEwocGlwZSkgX01NSU9fUElQRShw
aXBlLCBfU1BSQV9DVEwsIF9TUFJCX0NUTCkKICNkZWZpbmUgU1BSTElOT0ZGKHBpcGUpIF9NTUlP
X1BJUEUocGlwZSwgX1NQUkFfTElOT0ZGLCBfU1BSQl9MSU5PRkYpCkBAIC02NDk5LDcgKzY1MTIs
OSBAQCBlbnVtIHsKICNkZWZpbmUgU1BSVElMRU9GRihwaXBlKSBfTU1JT19QSVBFKHBpcGUsIF9T
UFJBX1RJTEVPRkYsIF9TUFJCX1RJTEVPRkYpCiAjZGVmaW5lIFNQUk9GRlNFVChwaXBlKSBfTU1J
T19QSVBFKHBpcGUsIF9TUFJBX09GRlNFVCwgX1NQUkJfT0ZGU0VUKQogI2RlZmluZSBTUFJTQ0FM
RShwaXBlKSBfTU1JT19QSVBFKHBpcGUsIF9TUFJBX1NDQUxFLCBfU1BSQl9TQ0FMRSkKLSNkZWZp
bmUgU1BSR0FNQyhwaXBlKSBfTU1JT19QSVBFKHBpcGUsIF9TUFJBX0dBTUMsIF9TUFJCX0dBTUMp
CisjZGVmaW5lIFNQUkdBTUMocGlwZSwgaSkgX01NSU8oX1BJUEUocGlwZSwgX1NQUkFfR0FNQywg
X1NQUkJfR0FNQykgKyAoaSkgKiA0KSAvKiAxNiB4IHUwLjEwICovCisjZGVmaW5lIFNQUkdBTUMx
NihwaXBlLCBpKSBfTU1JTyhfUElQRShwaXBlLCBfU1BSQV9HQU1DMTYsIF9TUFJCX0dBTUMxNikg
KyAoaSkgKiA0KSAvKiAzIHggdTEuMTAgKi8KKyNkZWZpbmUgU1BSR0FNQzE3KHBpcGUsIGkpIF9N
TUlPKF9QSVBFKHBpcGUsIF9TUFJBX0dBTUMxNywgX1NQUkJfR0FNQzE3KSArIChpKSAqIDQpIC8q
IDMgeCB1Mi4xMCAqLwogI2RlZmluZSBTUFJTVVJGTElWRShwaXBlKSBfTU1JT19QSVBFKHBpcGUs
IF9TUFJBX1NVUkZMSVZFLCBfU1BSQl9TVVJGTElWRSkKIAogI2RlZmluZSBfU1BBQ05UUgkJKFZM
Vl9ESVNQTEFZX0JBU0UgKyAweDcyMTgwKQpAQCAtNjU0Miw3ICs2NTU3LDcgQEAgZW51bSB7CiAj
ZGVmaW5lIF9TUEFDTFJDMQkJKFZMVl9ESVNQTEFZX0JBU0UgKyAweDcyMWQ0KQogI2RlZmluZSAg
IFNQX1NIX1NJTih4KQkJCSgoKHgpICYgMHg3ZmYpIDw8IDE2KSAvKiBzNC43ICovCiAjZGVmaW5l
ICAgU1BfU0hfQ09TKHgpCQkJKHgpIC8qIHUzLjcgKi8KLSNkZWZpbmUgX1NQQUdBTUMJCShWTFZf
RElTUExBWV9CQVNFICsgMHg3MjFmNCkKKyNkZWZpbmUgX1NQQUdBTUMJCShWTFZfRElTUExBWV9C
QVNFICsgMHg3MjFlMCkKIAogI2RlZmluZSBfU1BCQ05UUgkJKFZMVl9ESVNQTEFZX0JBU0UgKyAw
eDcyMjgwKQogI2RlZmluZSBfU1BCTElOT0ZGCQkoVkxWX0RJU1BMQVlfQkFTRSArIDB4NzIyODQp
CkBAIC02NTU3LDEwICs2NTcyLDEyIEBAIGVudW0gewogI2RlZmluZSBfU1BCQ09OU1RBTFBIQQkJ
KFZMVl9ESVNQTEFZX0JBU0UgKyAweDcyMmE4KQogI2RlZmluZSBfU1BCQ0xSQzAJCShWTFZfRElT
UExBWV9CQVNFICsgMHg3MjJkMCkKICNkZWZpbmUgX1NQQkNMUkMxCQkoVkxWX0RJU1BMQVlfQkFT
RSArIDB4NzIyZDQpCi0jZGVmaW5lIF9TUEJHQU1DCQkoVkxWX0RJU1BMQVlfQkFTRSArIDB4NzIy
ZjQpCisjZGVmaW5lIF9TUEJHQU1DCQkoVkxWX0RJU1BMQVlfQkFTRSArIDB4NzIyZTApCiAKKyNk
ZWZpbmUgX1ZMVl9TUFIocGlwZSwgcGxhbmVfaWQsIHJlZ19hLCByZWdfYikgXAorCV9QSVBFKChw
aXBlKSAqIDIgKyAocGxhbmVfaWQpIC0gUExBTkVfU1BSSVRFMCwgKHJlZ19hKSwgKHJlZ19iKSkK
ICNkZWZpbmUgX01NSU9fVkxWX1NQUihwaXBlLCBwbGFuZV9pZCwgcmVnX2EsIHJlZ19iKSBcCi0J
X01NSU9fUElQRSgocGlwZSkgKiAyICsgKHBsYW5lX2lkKSAtIFBMQU5FX1NQUklURTAsIChyZWdf
YSksIChyZWdfYikpCisJX01NSU8oX1ZMVl9TUFIoKHBpcGUpLCAocGxhbmVfaWQpLCAocmVnX2Ep
LCAocmVnX2IpKSkKIAogI2RlZmluZSBTUENOVFIocGlwZSwgcGxhbmVfaWQpCQlfTU1JT19WTFZf
U1BSKChwaXBlKSwgKHBsYW5lX2lkKSwgX1NQQUNOVFIsIF9TUEJDTlRSKQogI2RlZmluZSBTUExJ
Tk9GRihwaXBlLCBwbGFuZV9pZCkJX01NSU9fVkxWX1NQUigocGlwZSksIChwbGFuZV9pZCksIF9T
UEFMSU5PRkYsIF9TUEJMSU5PRkYpCkBAIC02NTc1LDcgKzY1OTIsNyBAQCBlbnVtIHsKICNkZWZp
bmUgU1BDT05TVEFMUEhBKHBpcGUsIHBsYW5lX2lkKQlfTU1JT19WTFZfU1BSKChwaXBlKSwgKHBs
YW5lX2lkKSwgX1NQQUNPTlNUQUxQSEEsIF9TUEJDT05TVEFMUEhBKQogI2RlZmluZSBTUENMUkMw
KHBpcGUsIHBsYW5lX2lkKQkJX01NSU9fVkxWX1NQUigocGlwZSksIChwbGFuZV9pZCksIF9TUEFD
TFJDMCwgX1NQQkNMUkMwKQogI2RlZmluZSBTUENMUkMxKHBpcGUsIHBsYW5lX2lkKQkJX01NSU9f
VkxWX1NQUigocGlwZSksIChwbGFuZV9pZCksIF9TUEFDTFJDMSwgX1NQQkNMUkMxKQotI2RlZmlu
ZSBTUEdBTUMocGlwZSwgcGxhbmVfaWQpCQlfTU1JT19WTFZfU1BSKChwaXBlKSwgKHBsYW5lX2lk
KSwgX1NQQUdBTUMsIF9TUEJHQU1DKQorI2RlZmluZSBTUEdBTUMocGlwZSwgcGxhbmVfaWQsIGkp
CV9NTUlPKF9WTFZfU1BSKChwaXBlKSwgKHBsYW5lX2lkKSwgX1NQQUdBTUMsIF9TUEJHQU1DKSAr
ICg1IC0gKGkpKSAqIDQpIC8qIDYgeCB1MC4xMCAqLwogCiAvKgogICogQ0hWIHBpcGUgQiBzcHJp
dGUgQ1NDCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9zcHJpdGUuYyBi
L2RyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX3Nwcml0ZS5jCmluZGV4IDQ0NmRmMWYwY2U4NS4u
ZDg3NDc5YjIwODFhIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9zcHJp
dGUuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9zcHJpdGUuYwpAQCAtNjgzLDYg
KzY4MywxNiBAQCBza2xfcGxhbmVfZ2V0X2h3X3N0YXRlKHN0cnVjdCBpbnRlbF9wbGFuZSAqcGxh
bmUsCiAJcmV0dXJuIHJldDsKIH0KIAorc3RhdGljIHZvaWQgaTl4eF9wbGFuZV9saW5lYXJfZ2Ft
bWEodTE2IGdhbW1hWzhdKQoreworCS8qIFRoZSBwb2ludHMgYXJlIG5vdCBldmVubHkgc3BhY2Vk
LiAqLworCXN0YXRpYyBjb25zdCB1OCBpbls4XSA9IHsgMCwgMSwgMiwgNCwgOCwgMTYsIDI0LCAz
MiB9OworCWludCBpOworCisJZm9yIChpID0gMDsgaSA8IDg7IGkrKykKKwkJZ2FtbWFbaV0gPSAo
aW5baV0gPDwgOCkgLyAzMjsKK30KKwogc3RhdGljIHZvaWQKIGNodl91cGRhdGVfY3NjKGNvbnN0
IHN0cnVjdCBpbnRlbF9wbGFuZV9zdGF0ZSAqcGxhbmVfc3RhdGUpCiB7CkBAIC04NTgsNiArODY4
LDMxIEBAIHN0YXRpYyB1MzIgdmx2X3Nwcml0ZV9jdGwoY29uc3Qgc3RydWN0IGludGVsX2NydGNf
c3RhdGUgKmNydGNfc3RhdGUsCiAJcmV0dXJuIHNwcmN0bDsKIH0KIAorc3RhdGljIHZvaWQgdmx2
X3VwZGF0ZV9nYW1tYShjb25zdCBzdHJ1Y3QgaW50ZWxfcGxhbmVfc3RhdGUgKnBsYW5lX3N0YXRl
KQoreworCXN0cnVjdCBpbnRlbF9wbGFuZSAqcGxhbmUgPSB0b19pbnRlbF9wbGFuZShwbGFuZV9z
dGF0ZS0+YmFzZS5wbGFuZSk7CisJc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2ID0g
dG9faTkxNShwbGFuZS0+YmFzZS5kZXYpOworCWNvbnN0IHN0cnVjdCBkcm1fZnJhbWVidWZmZXIg
KmZiID0gcGxhbmVfc3RhdGUtPmJhc2UuZmI7CisJZW51bSBwaXBlIHBpcGUgPSBwbGFuZS0+cGlw
ZTsKKwllbnVtIHBsYW5lX2lkIHBsYW5lX2lkID0gcGxhbmUtPmlkOworCXUxNiBnYW1tYVs4XTsK
KwlpbnQgaTsKKworCS8qIFNlZW1zIFJHQiBkYXRhIGJ5cGFzc2VzIHRoZSBnYW1tYSBhbHdheXMg
Ki8KKwlpZiAoIWZiLT5mb3JtYXQtPmlzX3l1dikKKwkJcmV0dXJuOworCisJaTl4eF9wbGFuZV9s
aW5lYXJfZ2FtbWEoZ2FtbWEpOworCisJLyogRklYTUUgdGhlc2UgcmVnaXN0ZXIgYXJlIHNpbmds
ZSBidWZmZXJlZCA6KCAqLworCS8qIFRoZSB0d28gZW5kIHBvaW50cyBhcmUgaW1wbGljaXQgKDAu
MCBhbmQgMS4wKSAqLworCWZvciAoaSA9IDE7IGkgPCA4IC0gMTsgaSsrKQorCQlJOTE1X1dSSVRF
X0ZXKFNQR0FNQyhwaXBlLCBwbGFuZV9pZCwgaSAtIDEpLAorCQkJICAgICAgZ2FtbWFbaV0gPDwg
MTYgfAorCQkJICAgICAgZ2FtbWFbaV0gPDwgOCB8CisJCQkgICAgICBnYW1tYVtpXSk7Cit9CisK
IHN0YXRpYyB2b2lkCiB2bHZfdXBkYXRlX3BsYW5lKHN0cnVjdCBpbnRlbF9wbGFuZSAqcGxhbmUs
CiAJCSBjb25zdCBzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqY3J0Y19zdGF0ZSwKQEAgLTkxNiw2
ICs5NTEsNyBAQCB2bHZfdXBkYXRlX3BsYW5lKHN0cnVjdCBpbnRlbF9wbGFuZSAqcGxhbmUsCiAJ
CSAgICAgIGludGVsX3BsYW5lX2dndHRfb2Zmc2V0KHBsYW5lX3N0YXRlKSArIHNwcnN1cmZfb2Zm
c2V0KTsKIAogCXZsdl91cGRhdGVfY2xyYyhwbGFuZV9zdGF0ZSk7CisJdmx2X3VwZGF0ZV9nYW1t
YShwbGFuZV9zdGF0ZSk7CiAKIAlzcGluX3VubG9ja19pcnFyZXN0b3JlKCZkZXZfcHJpdi0+dW5j
b3JlLmxvY2ssIGlycWZsYWdzKTsKIH0KQEAgLTEwMzUsNiArMTA3MSw0NSBAQCBzdGF0aWMgdTMy
IGl2Yl9zcHJpdGVfY3RsKGNvbnN0IHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpjcnRjX3N0YXRl
LAogCXJldHVybiBzcHJjdGw7CiB9CiAKK3N0YXRpYyB2b2lkIGl2Yl9zcHJpdGVfbGluZWFyX2dh
bW1hKHUxNiBnYW1tYVsxOF0pCit7CisJaW50IGk7CisKKwlmb3IgKGkgPSAwOyBpIDwgMTc7IGkr
KykKKwkJZ2FtbWFbaV0gPSAoaSA8PCAxMCkgLyAxNjsKKworCWdhbW1hW2ldID0gMyA8PCAxMDsK
KwlpKys7Cit9CisKK3N0YXRpYyB2b2lkIGl2Yl91cGRhdGVfZ2FtbWEoY29uc3Qgc3RydWN0IGlu
dGVsX3BsYW5lX3N0YXRlICpwbGFuZV9zdGF0ZSkKK3sKKwlzdHJ1Y3QgaW50ZWxfcGxhbmUgKnBs
YW5lID0gdG9faW50ZWxfcGxhbmUocGxhbmVfc3RhdGUtPmJhc2UucGxhbmUpOworCXN0cnVjdCBk
cm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiA9IHRvX2k5MTUocGxhbmUtPmJhc2UuZGV2KTsKKwll
bnVtIHBpcGUgcGlwZSA9IHBsYW5lLT5waXBlOworCXUxNiBnYW1tYVsxOF07CisJaW50IGk7CisK
KwlpdmJfc3ByaXRlX2xpbmVhcl9nYW1tYShnYW1tYSk7CisKKwkvKiBGSVhNRSB0aGVzZSByZWdp
c3RlciBhcmUgc2luZ2xlIGJ1ZmZlcmVkIDooICovCisJZm9yIChpID0gMDsgaSA8IDE2OyBpKysp
CisJCUk5MTVfV1JJVEVfRlcoU1BSR0FNQyhwaXBlLCBpKSwKKwkJCSAgICAgIGdhbW1hW2ldIDw8
IDIwIHwKKwkJCSAgICAgIGdhbW1hW2ldIDw8IDEwIHwKKwkJCSAgICAgIGdhbW1hW2ldKTsKKwor
CUk5MTVfV1JJVEVfRlcoU1BSR0FNQzE2KHBpcGUsIDApLCBnYW1tYVtpXSk7CisJSTkxNV9XUklU
RV9GVyhTUFJHQU1DMTYocGlwZSwgMSksIGdhbW1hW2ldKTsKKwlJOTE1X1dSSVRFX0ZXKFNQUkdB
TUMxNihwaXBlLCAyKSwgZ2FtbWFbaV0pOworCWkrKzsKKworCUk5MTVfV1JJVEVfRlcoU1BSR0FN
QzE3KHBpcGUsIDApLCBnYW1tYVtpXSk7CisJSTkxNV9XUklURV9GVyhTUFJHQU1DMTcocGlwZSwg
MSksIGdhbW1hW2ldKTsKKwlJOTE1X1dSSVRFX0ZXKFNQUkdBTUMxNyhwaXBlLCAyKSwgZ2FtbWFb
aV0pOworCWkrKzsKK30KKwogc3RhdGljIHZvaWQKIGl2Yl91cGRhdGVfcGxhbmUoc3RydWN0IGlu
dGVsX3BsYW5lICpwbGFuZSwKIAkJIGNvbnN0IHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpjcnRj
X3N0YXRlLApAQCAtMTEwMSw2ICsxMTc2LDggQEAgaXZiX3VwZGF0ZV9wbGFuZShzdHJ1Y3QgaW50
ZWxfcGxhbmUgKnBsYW5lLAogCUk5MTVfV1JJVEVfRlcoU1BSU1VSRihwaXBlKSwKIAkJICAgICAg
aW50ZWxfcGxhbmVfZ2d0dF9vZmZzZXQocGxhbmVfc3RhdGUpICsgc3Byc3VyZl9vZmZzZXQpOwog
CisJaXZiX3VwZGF0ZV9nYW1tYShwbGFuZV9zdGF0ZSk7CisKIAlzcGluX3VubG9ja19pcnFyZXN0
b3JlKCZkZXZfcHJpdi0+dW5jb3JlLmxvY2ssIGlycWZsYWdzKTsKIH0KIApAQCAtMTIyNiw2ICsx
MzAzLDY2IEBAIHN0YXRpYyB1MzIgZzR4X3Nwcml0ZV9jdGwoY29uc3Qgc3RydWN0IGludGVsX2Ny
dGNfc3RhdGUgKmNydGNfc3RhdGUsCiAJcmV0dXJuIGR2c2NudHI7CiB9CiAKK3N0YXRpYyB2b2lk
IGc0eF91cGRhdGVfZ2FtbWEoY29uc3Qgc3RydWN0IGludGVsX3BsYW5lX3N0YXRlICpwbGFuZV9z
dGF0ZSkKK3sKKwlzdHJ1Y3QgaW50ZWxfcGxhbmUgKnBsYW5lID0gdG9faW50ZWxfcGxhbmUocGxh
bmVfc3RhdGUtPmJhc2UucGxhbmUpOworCXN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJp
diA9IHRvX2k5MTUocGxhbmUtPmJhc2UuZGV2KTsKKwljb25zdCBzdHJ1Y3QgZHJtX2ZyYW1lYnVm
ZmVyICpmYiA9IHBsYW5lX3N0YXRlLT5iYXNlLmZiOworCWVudW0gcGlwZSBwaXBlID0gcGxhbmUt
PnBpcGU7CisJdTE2IGdhbW1hWzhdOworCWludCBpOworCisJLyogU2VlbXMgUkdCIGRhdGEgYnlw
YXNzZXMgdGhlIGdhbW1hIGFsd2F5cyAqLworCWlmICghZmItPmZvcm1hdC0+aXNfeXV2KQorCQly
ZXR1cm47CisKKwlpOXh4X3BsYW5lX2xpbmVhcl9nYW1tYShnYW1tYSk7CisKKwkvKiBGSVhNRSB0
aGVzZSByZWdpc3RlciBhcmUgc2luZ2xlIGJ1ZmZlcmVkIDooICovCisJLyogVGhlIHR3byBlbmQg
cG9pbnRzIGFyZSBpbXBsaWNpdCAoMC4wIGFuZCAxLjApICovCisJZm9yIChpID0gMTsgaSA8IDgg
LSAxOyBpKyspCisJCUk5MTVfV1JJVEVfRlcoRFZTR0FNQ19HNFgocGlwZSwgaSAtIDEpLAorCQkJ
ICAgICAgZ2FtbWFbaV0gPDwgMTYgfAorCQkJICAgICAgZ2FtbWFbaV0gPDwgOCB8CisJCQkgICAg
ICBnYW1tYVtpXSk7Cit9CisKK3N0YXRpYyB2b2lkIGlsa19zcHJpdGVfbGluZWFyX2dhbW1hKHUx
NiBnYW1tYVsxN10pCit7CisJaW50IGk7CisKKwlmb3IgKGkgPSAwOyBpIDwgMTc7IGkrKykKKwkJ
Z2FtbWFbaV0gPSAoaSA8PCAxMCkgLyAxNjsKK30KKworc3RhdGljIHZvaWQgaWxrX3VwZGF0ZV9n
YW1tYShjb25zdCBzdHJ1Y3QgaW50ZWxfcGxhbmVfc3RhdGUgKnBsYW5lX3N0YXRlKQoreworCXN0
cnVjdCBpbnRlbF9wbGFuZSAqcGxhbmUgPSB0b19pbnRlbF9wbGFuZShwbGFuZV9zdGF0ZS0+YmFz
ZS5wbGFuZSk7CisJc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2ID0gdG9faTkxNShw
bGFuZS0+YmFzZS5kZXYpOworCWNvbnN0IHN0cnVjdCBkcm1fZnJhbWVidWZmZXIgKmZiID0gcGxh
bmVfc3RhdGUtPmJhc2UuZmI7CisJZW51bSBwaXBlIHBpcGUgPSBwbGFuZS0+cGlwZTsKKwl1MTYg
Z2FtbWFbMTddOworCWludCBpOworCisJLyogU2VlbXMgUkdCIGRhdGEgYnlwYXNzZXMgdGhlIGdh
bW1hIGFsd2F5cyAqLworCWlmICghZmItPmZvcm1hdC0+aXNfeXV2KQorCQlyZXR1cm47CisKKwlp
bGtfc3ByaXRlX2xpbmVhcl9nYW1tYShnYW1tYSk7CisKKwkvKiBGSVhNRSB0aGVzZSByZWdpc3Rl
ciBhcmUgc2luZ2xlIGJ1ZmZlcmVkIDooICovCisJZm9yIChpID0gMDsgaSA8IDE2OyBpKyspCisJ
CUk5MTVfV1JJVEVfRlcoRFZTR0FNQ19JTEsocGlwZSwgaSksCisJCQkgICAgICBnYW1tYVtpXSA8
PCAyMCB8CisJCQkgICAgICBnYW1tYVtpXSA8PCAxMCB8CisJCQkgICAgICBnYW1tYVtpXSk7CisK
KwlJOTE1X1dSSVRFX0ZXKERWU0dBTUNNQVhfSUxLKHBpcGUsIDApLCBnYW1tYVtpXSk7CisJSTkx
NV9XUklURV9GVyhEVlNHQU1DTUFYX0lMSyhwaXBlLCAxKSwgZ2FtbWFbaV0pOworCUk5MTVfV1JJ
VEVfRlcoRFZTR0FNQ01BWF9JTEsocGlwZSwgMiksIGdhbW1hW2ldKTsKKwlpKys7Cit9CisKIHN0
YXRpYyB2b2lkCiBnNHhfdXBkYXRlX3BsYW5lKHN0cnVjdCBpbnRlbF9wbGFuZSAqcGxhbmUsCiAJ
CSBjb25zdCBzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqY3J0Y19zdGF0ZSwKQEAgLTEyODUsNiAr
MTQyMiwxMSBAQCBnNHhfdXBkYXRlX3BsYW5lKHN0cnVjdCBpbnRlbF9wbGFuZSAqcGxhbmUsCiAJ
STkxNV9XUklURV9GVyhEVlNTVVJGKHBpcGUpLAogCQkgICAgICBpbnRlbF9wbGFuZV9nZ3R0X29m
ZnNldChwbGFuZV9zdGF0ZSkgKyBkdnNzdXJmX29mZnNldCk7CiAKKwlpZiAoSVNfRzRYKGRldl9w
cml2KSkKKwkJZzR4X3VwZGF0ZV9nYW1tYShwbGFuZV9zdGF0ZSk7CisJZWxzZQorCQlpbGtfdXBk
YXRlX2dhbW1hKHBsYW5lX3N0YXRlKTsKKwogCXNwaW5fdW5sb2NrX2lycXJlc3RvcmUoJmRldl9w
cml2LT51bmNvcmUubG9jaywgaXJxZmxhZ3MpOwogfQogCi0tIAoyLjIxLjAKCl9fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCkludGVsLWdmeCBtYWlsaW5nIGxp
c3QKSW50ZWwtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNr
dG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2ludGVsLWdmeA==

Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 75DA7D02FB
	for <lists+intel-gfx@lfdr.de>; Tue,  8 Oct 2019 23:40:40 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id A95A5899F3;
	Tue,  8 Oct 2019 21:40:37 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from fireflyinternet.com (mail.fireflyinternet.com [109.228.58.192])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 3539E89A86
 for <intel-gfx@lists.freedesktop.org>; Tue,  8 Oct 2019 21:40:32 +0000 (UTC)
X-Default-Received-SPF: pass (skip=forwardok (res=PASS))
 x-ip-name=78.156.65.138; 
Received: from haswell.alporthouse.com (unverified [78.156.65.138]) 
 by fireflyinternet.com (Firefly Internet (M1)) with ESMTP id 18770554-1500050 
 for multiple; Tue, 08 Oct 2019 22:40:23 +0100
From: Chris Wilson <chris@chris-wilson.co.uk>
To: intel-gfx@lists.freedesktop.org
Date: Tue,  8 Oct 2019 22:40:13 +0100
Message-Id: <20191008214021.5120-2-chris@chris-wilson.co.uk>
X-Mailer: git-send-email 2.23.0
In-Reply-To: <20191008214021.5120-1-chris@chris-wilson.co.uk>
References: <20191008214021.5120-1-chris@chris-wilson.co.uk>
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH 1/9] drm/i915/perf: store the associated engine
 of a stream
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

RnJvbTogTGlvbmVsIExhbmR3ZXJsaW4gPGxpb25lbC5nLmxhbmR3ZXJsaW5AaW50ZWwuY29tPgoK
V2UnbGwgdXNlIHRoaXMgaW5mb3JtYXRpb24gbGF0ZXIgdG8gdmVyaWZ5IHRoYXQgYSBjbGllbnQg
dHJ5aW5nIHRvCnJlY29uZmlndXJlIHRoZSBzdHJlYW0gZG9lcyBzbyBvbiB0aGUgcmlnaHQgZW5n
aW5lLgoKU2lnbmVkLW9mZi1ieTogTGlvbmVsIExhbmR3ZXJsaW4gPGxpb25lbC5nLmxhbmR3ZXJs
aW5AaW50ZWwuY29tPgotLS0KIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfcGVyZi5jICAgICAg
IHwgMjkgKysrKysrKysrKysrKysrKysrKysrKystLS0KIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2k5
MTVfcGVyZl90eXBlcy5oIHwgIDUgKysrKysKIDIgZmlsZXMgY2hhbmdlZCwgMzEgaW5zZXJ0aW9u
cygrKSwgMyBkZWxldGlvbnMoLSkKCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9p
OTE1X3BlcmYuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfcGVyZi5jCmluZGV4IDVhMzRj
YWQ3ZDgyNC4uOGZlMWI3MmMwN2Y4IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9p
OTE1X3BlcmYuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3BlcmYuYwpAQCAtMTk3
LDYgKzE5Nyw3IEBACiAKICNpbmNsdWRlICJnZW0vaTkxNV9nZW1fY29udGV4dC5oIgogI2luY2x1
ZGUgImdlbS9pOTE1X2dlbV9wbS5oIgorI2luY2x1ZGUgImd0L2ludGVsX2VuZ2luZV91c2VyLmgi
CiAjaW5jbHVkZSAiZ3QvaW50ZWxfbHJjX3JlZy5oIgogCiAjaW5jbHVkZSAiaTkxNV9kcnYuaCIK
QEAgLTM0Nyw2ICszNDgsNyBAQCBzdGF0aWMgY29uc3Qgc3RydWN0IGk5MTVfb2FfZm9ybWF0IGdl
bjhfcGx1c19vYV9mb3JtYXRzW0k5MTVfT0FfRk9STUFUX01BWF0gPSB7CiAgKiBAb2FfZm9ybWF0
OiBBbiBPQSB1bml0IEhXIHJlcG9ydCBmb3JtYXQKICAqIEBvYV9wZXJpb2RpYzogV2hldGhlciB0
byBlbmFibGUgcGVyaW9kaWMgT0EgdW5pdCBzYW1wbGluZwogICogQG9hX3BlcmlvZF9leHBvbmVu
dDogVGhlIE9BIHVuaXQgc2FtcGxpbmcgcGVyaW9kIGlzIGRlcml2ZWQgZnJvbSB0aGlzCisgKiBA
ZW5naW5lOiBUaGUgZW5naW5lICh0eXBpY2FsbHkgcmNzMCkgYmVpbmcgbW9uaXRvcmVkIGJ5IHRo
ZSBPQSB1bml0CiAgKgogICogQXMgcmVhZF9wcm9wZXJ0aWVzX3VubG9ja2VkKCkgZW51bWVyYXRl
cyBhbmQgdmFsaWRhdGVzIHRoZSBwcm9wZXJ0aWVzIGdpdmVuCiAgKiB0byBvcGVuIGEgc3RyZWFt
IG9mIG1ldHJpY3MgdGhlIGNvbmZpZ3VyYXRpb24gaXMgYnVpbHQgdXAgaW4gdGhlIHN0cnVjdHVy
ZQpAQCAtMzYzLDYgKzM2NSw4IEBAIHN0cnVjdCBwZXJmX29wZW5fcHJvcGVydGllcyB7CiAJaW50
IG9hX2Zvcm1hdDsKIAlib29sIG9hX3BlcmlvZGljOwogCWludCBvYV9wZXJpb2RfZXhwb25lbnQ7
CisKKwlzdHJ1Y3QgaW50ZWxfZW5naW5lX2NzICplbmdpbmU7CiB9OwogCiBzdGF0aWMgZW51bSBo
cnRpbWVyX3Jlc3RhcnQgb2FfcG9sbF9jaGVja190aW1lcl9jYihzdHJ1Y3QgaHJ0aW1lciAqaHJ0
aW1lcik7CkBAIC0yMTI3LDcgKzIxMzEsMTMgQEAgc3RhdGljIGludCBpOTE1X29hX3N0cmVhbV9p
bml0KHN0cnVjdCBpOTE1X3BlcmZfc3RyZWFtICpzdHJlYW0sCiAJaW50IGZvcm1hdF9zaXplOwog
CWludCByZXQ7CiAKLQkvKiBJZiB0aGUgc3lzZnMgbWV0cmljcy8gZGlyZWN0b3J5IHdhc24ndCBy
ZWdpc3RlcmVkIGZvciBzb21lCisJaWYgKCFwcm9wcy0+ZW5naW5lKSB7CisJCURSTV9ERUJVRygi
T0EgZW5naW5lIG5vdCBzcGVjaWZpZWRcbiIpOworCQlyZXR1cm4gLUVJTlZBTDsKKwl9CisKKwkv
KgorCSAqIElmIHRoZSBzeXNmcyBtZXRyaWNzLyBkaXJlY3Rvcnkgd2Fzbid0IHJlZ2lzdGVyZWQg
Zm9yIHNvbWUKIAkgKiByZWFzb24gdGhlbiBkb24ndCBsZXQgdXNlcnNwYWNlIHRyeSB0aGVpciBs
dWNrIHdpdGggY29uZmlnCiAJICogSURzCiAJICovCkBAIC0yMTQ2LDcgKzIxNTYsOCBAQCBzdGF0
aWMgaW50IGk5MTVfb2Ffc3RyZWFtX2luaXQoc3RydWN0IGk5MTVfcGVyZl9zdHJlYW0gKnN0cmVh
bSwKIAkJcmV0dXJuIC1FTk9ERVY7CiAJfQogCi0JLyogVG8gYXZvaWQgdGhlIGNvbXBsZXhpdHkg
b2YgaGF2aW5nIHRvIGFjY3VyYXRlbHkgZmlsdGVyCisJLyoKKwkgKiBUbyBhdm9pZCB0aGUgY29t
cGxleGl0eSBvZiBoYXZpbmcgdG8gYWNjdXJhdGVseSBmaWx0ZXIKIAkgKiBjb3VudGVyIHJlcG9y
dHMgYW5kIG1hcnNoYWwgdG8gdGhlIGFwcHJvcHJpYXRlIGNsaWVudAogCSAqIHdlIGN1cnJlbnRs
eSBvbmx5IGFsbG93IGV4Y2x1c2l2ZSBhY2Nlc3MKIAkgKi8KQEAgLTIxNjQsNiArMjE3NSw4IEBA
IHN0YXRpYyBpbnQgaTkxNV9vYV9zdHJlYW1faW5pdChzdHJ1Y3QgaTkxNV9wZXJmX3N0cmVhbSAq
c3RyZWFtLAogCiAJZm9ybWF0X3NpemUgPSBwZXJmLT5vYV9mb3JtYXRzW3Byb3BzLT5vYV9mb3Jt
YXRdLnNpemU7CiAKKwlzdHJlYW0tPmVuZ2luZSA9IHByb3BzLT5lbmdpbmU7CisKIAlzdHJlYW0t
PnNhbXBsZV9mbGFncyB8PSBTQU1QTEVfT0FfUkVQT1JUOwogCXN0cmVhbS0+c2FtcGxlX3NpemUg
Kz0gZm9ybWF0X3NpemU7CiAKQEAgLTIxOTIsNyArMjIwNSw4IEBAIHN0YXRpYyBpbnQgaTkxNV9v
YV9zdHJlYW1faW5pdChzdHJ1Y3QgaTkxNV9wZXJmX3N0cmVhbSAqc3RyZWFtLAogCQlnb3RvIGVy
cl9jb25maWc7CiAJfQogCi0JLyogUFJNIC0gb2JzZXJ2YWJpbGl0eSBwZXJmb3JtYW5jZSBjb3Vu
dGVyczoKKwkvKgorCSAqIFBSTSAtIG9ic2VydmFiaWxpdHkgcGVyZm9ybWFuY2UgY291bnRlcnM6
CiAJICoKIAkgKiAgIE9BQ09OVFJPTCwgcGVyZm9ybWFuY2UgY291bnRlciBlbmFibGUsIG5vdGU6
CiAJICoKQEAgLTI3OTYsNiArMjgxMCwxNSBAQCBzdGF0aWMgaW50IHJlYWRfcHJvcGVydGllc191
bmxvY2tlZChzdHJ1Y3QgaTkxNV9wZXJmICpwZXJmLAogCQlyZXR1cm4gLUVJTlZBTDsKIAl9CiAK
KwkvKiBBdCB0aGUgbW9tZW50IHdlIG9ubHkgc3VwcG9ydCB1c2luZyBpOTE1LXBlcmYgb24gdGhl
IFJDUy4gKi8KKwlwcm9wcy0+ZW5naW5lID0gaW50ZWxfZW5naW5lX2xvb2t1cF91c2VyKHBlcmYt
Pmk5MTUsCisJCQkJCQkgSTkxNV9FTkdJTkVfQ0xBU1NfUkVOREVSLAorCQkJCQkJIDApOworCWlm
ICghcHJvcHMtPmVuZ2luZSkgeworCQlEUk1fREVCVUcoIk5vIFJFTkRFUi1jYXBhYmxlIGVuZ2lu
ZXNcbiIpOworCQlyZXR1cm4gLUVJTlZBTDsKKwl9CisKIAkvKiBDb25zaWRlcmluZyB0aGF0IElE
ID0gMCBpcyByZXNlcnZlZCBhbmQgYXNzdW1pbmcgdGhhdCB3ZSBkb24ndAogCSAqIChjdXJyZW50
bHkpIGV4cGVjdCBhbnkgY29uZmlndXJhdGlvbnMgdG8gZXZlciBzcGVjaWZ5IGR1cGxpY2F0ZQog
CSAqIHZhbHVlcyBmb3IgYSBwYXJ0aWN1bGFyIHByb3BlcnR5IElEIHRoZW4gdGhlIGxhc3QgX1BS
T1BfTUFYIHZhbHVlIGlzCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3Bl
cmZfdHlwZXMuaCBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfcGVyZl90eXBlcy5oCmluZGV4
IDJkMTcwNTlkMzJlZS4uODJjZDNiMjk1MDM3IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0v
aTkxNS9pOTE1X3BlcmZfdHlwZXMuaAorKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3Bl
cmZfdHlwZXMuaApAQCAtMTQwLDYgKzE0MCwxMSBAQCBzdHJ1Y3QgaTkxNV9wZXJmX3N0cmVhbSB7
CiAJICovCiAJaW50ZWxfd2FrZXJlZl90IHdha2VyZWY7CiAKKwkvKioKKwkgKiBAZW5naW5lOiBF
bmdpbmUgYXNzb2NpYXRlZCB3aXRoIHRoaXMgcGVyZm9ybWFuY2Ugc3RyZWFtLgorCSAqLworCXN0
cnVjdCBpbnRlbF9lbmdpbmVfY3MgKmVuZ2luZTsKKwogCS8qKgogCSAqIEBzYW1wbGVfZmxhZ3M6
IEZsYWdzIHJlcHJlc2VudGluZyB0aGUgYERSTV9JOTE1X1BFUkZfUFJPUF9TQU1QTEVfKmAKIAkg
KiBwcm9wZXJ0aWVzIGdpdmVuIHdoZW4gb3BlbmluZyBhIHN0cmVhbSwgcmVwcmVzZW50aW5nIHRo
ZSBjb250ZW50cwotLSAKMi4yMy4wCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fXwpJbnRlbC1nZnggbWFpbGluZyBsaXN0CkludGVsLWdmeEBsaXN0cy5mcmVl
ZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5m
by9pbnRlbC1nZng=

Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 4587C6798C
	for <lists+intel-gfx@lfdr.de>; Sat, 13 Jul 2019 12:00:38 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 605D16E3DF;
	Sat, 13 Jul 2019 10:00:35 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from fireflyinternet.com (mail.fireflyinternet.com [109.228.58.192])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 594296E3CB
 for <intel-gfx@lists.freedesktop.org>; Sat, 13 Jul 2019 10:00:34 +0000 (UTC)
X-Default-Received-SPF: pass (skip=forwardok (res=PASS))
 x-ip-name=78.156.65.138; 
Received: from haswell.alporthouse.com (unverified [78.156.65.138]) 
 by fireflyinternet.com (Firefly Internet (M1)) with ESMTP id 17265481-1500050 
 for multiple; Sat, 13 Jul 2019 11:00:19 +0100
From: Chris Wilson <chris@chris-wilson.co.uk>
To: intel-gfx@lists.freedesktop.org
Date: Sat, 13 Jul 2019 11:00:16 +0100
Message-Id: <20190713100016.8026-11-chris@chris-wilson.co.uk>
X-Mailer: git-send-email 2.22.0
In-Reply-To: <20190713100016.8026-1-chris@chris-wilson.co.uk>
References: <20190713100016.8026-1-chris@chris-wilson.co.uk>
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH 11/11] drm/i915/uc: kill <g,h>uc_to_i915
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

RnJvbTogRGFuaWVsZSBDZXJhb2xvIFNwdXJpbyA8ZGFuaWVsZS5jZXJhb2xvc3B1cmlvQGludGVs
LmNvbT4KCkdldCByaWQgb2YgdGhlbSB0byBhdm9pZCBtb3JlIHVzZXJzIGJlaW5nIGFkZGVkIHdo
aWxlIHRoZSBndWMgY29kZQp0cmFuc2l0aW9ucyB0byB1c2UgZ3QgbW9yZSB0aGFuIGk5MTUuCgpT
aWduZWQtb2ZmLWJ5OiBEYW5pZWxlIENlcmFvbG8gU3B1cmlvIDxkYW5pZWxlLmNlcmFvbG9zcHVy
aW9AaW50ZWwuY29tPgpDYzogTWljaGFsIFdhamRlY3prbyA8bWljaGFsLndhamRlY3prb0BpbnRl
bC5jb20+CkFja2VkLWJ5OiBNaWNoYWwgV2FqZGVjemtvIDxtaWNoYWwud2FqZGVjemtvQGludGVs
LmNvbT4KLS0tCiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC91Yy9pbnRlbF9ndWMuYyAgICAgfCAg
OCArKysrLS0tLQogZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvdWMvaW50ZWxfZ3VjX2Fkcy5jIHwg
IDMgKystCiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC91Yy9pbnRlbF9ndWNfZncuYyAgfCAgMiAr
LQogZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvdWMvaW50ZWxfZ3VjX2xvZy5jIHwgMTMgKysrKysr
Ky0tLS0tLQogZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvdWMvaW50ZWxfaHVjLmMgICAgIHwgIDIg
Ky0KIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L3VjL2ludGVsX2h1Y19mdy5jICB8ICAyICstCiBk
cml2ZXJzL2dwdS9kcm0vaTkxNS9ndC91Yy9pbnRlbF91Yy5jICAgICAgfCAgNCArKy0tCiBkcml2
ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2Rydi5oICAgICAgICAgICAgfCAxMCAtLS0tLS0tLS0tCiA4
IGZpbGVzIGNoYW5nZWQsIDE4IGluc2VydGlvbnMoKyksIDI2IGRlbGV0aW9ucygtKQoKZGlmZiAt
LWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L3VjL2ludGVsX2d1Yy5jIGIvZHJpdmVycy9n
cHUvZHJtL2k5MTUvZ3QvdWMvaW50ZWxfZ3VjLmMKaW5kZXggNmI1NmYzOTA3MmIxLi44M2YyYzE5
NzM3NWYgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L3VjL2ludGVsX2d1Yy5j
CisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L3VjL2ludGVsX2d1Yy5jCkBAIC03Nyw3ICs3
Nyw3IEBAIHZvaWQgaW50ZWxfZ3VjX2luaXRfc2VuZF9yZWdzKHN0cnVjdCBpbnRlbF9ndWMgKmd1
YykKIAogdm9pZCBpbnRlbF9ndWNfaW5pdF9lYXJseShzdHJ1Y3QgaW50ZWxfZ3VjICpndWMpCiB7
Ci0Jc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUgPSBndWNfdG9faTkxNShndWMpOworCXN0
cnVjdCBkcm1faTkxNV9wcml2YXRlICppOTE1ID0gZ3VjX3RvX2d0KGd1YyktPmk5MTU7CiAKIAlp
bnRlbF9ndWNfZndfaW5pdF9lYXJseShndWMpOwogCWludGVsX2d1Y19jdF9pbml0X2Vhcmx5KCZn
dWMtPmN0KTsKQEAgLTIwNCw3ICsyMDQsNyBAQCBzdGF0aWMgdTMyIGd1Y19jdGxfZmVhdHVyZV9m
bGFncyhzdHJ1Y3QgaW50ZWxfZ3VjICpndWMpCiB7CiAJdTMyIGZsYWdzID0gMDsKIAotCWlmICgh
VVNFU19HVUNfU1VCTUlTU0lPTihndWNfdG9faTkxNShndWMpKSkKKwlpZiAoIWludGVsX3VjX2lz
X3VzaW5nX2d1Y19zdWJtaXNzaW9uKCZndWNfdG9fZ3QoZ3VjKS0+dWMpKQogCQlmbGFncyB8PSBH
VUNfQ1RMX0RJU0FCTEVfU0NIRURVTEVSOwogCiAJcmV0dXJuIGZsYWdzOwpAQCAtMjE0LDcgKzIx
NCw3IEBAIHN0YXRpYyB1MzIgZ3VjX2N0bF9jdHhpbmZvX2ZsYWdzKHN0cnVjdCBpbnRlbF9ndWMg
Kmd1YykKIHsKIAl1MzIgZmxhZ3MgPSAwOwogCi0JaWYgKFVTRVNfR1VDX1NVQk1JU1NJT04oZ3Vj
X3RvX2k5MTUoZ3VjKSkpIHsKKwlpZiAoaW50ZWxfdWNfaXNfdXNpbmdfZ3VjX3N1Ym1pc3Npb24o
Jmd1Y190b19ndChndWMpLT51YykpIHsKIAkJdTMyIGN0eG51bSwgYmFzZTsKIAogCQliYXNlID0g
aW50ZWxfZ3VjX2dndHRfb2Zmc2V0KGd1YywgZ3VjLT5zdGFnZV9kZXNjX3Bvb2wpOwpAQCAtNDE0
LDcgKzQxNCw3IEBAIGludCBpbnRlbF9ndWNfdG9faG9zdF9wcm9jZXNzX3JlY3ZfbXNnKHN0cnVj
dCBpbnRlbF9ndWMgKmd1YywKIAogaW50IGludGVsX2d1Y19zYW1wbGVfZm9yY2V3YWtlKHN0cnVj
dCBpbnRlbF9ndWMgKmd1YykKIHsKLQlzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYg
PSBndWNfdG9faTkxNShndWMpOworCXN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiA9
IGd1Y190b19ndChndWMpLT5pOTE1OwogCXUzMiBhY3Rpb25bMl07CiAKIAlhY3Rpb25bMF0gPSBJ
TlRFTF9HVUNfQUNUSU9OX1NBTVBMRV9GT1JDRVdBS0U7CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dw
dS9kcm0vaTkxNS9ndC91Yy9pbnRlbF9ndWNfYWRzLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9n
dC91Yy9pbnRlbF9ndWNfYWRzLmMKaW5kZXggNjk4NTlkMWUwNDdmLi5hMGRhODAyNDFmMjIgMTAw
NjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L3VjL2ludGVsX2d1Y19hZHMuYworKysg
Yi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC91Yy9pbnRlbF9ndWNfYWRzLmMKQEAgLTIyLDYgKzIy
LDcgQEAKICAqCiAgKi8KIAorI2luY2x1ZGUgImd0L2ludGVsX2d0LmgiCiAjaW5jbHVkZSAiaW50
ZWxfZ3VjX2Fkcy5oIgogI2luY2x1ZGUgImludGVsX3VjLmgiCiAjaW5jbHVkZSAiaTkxNV9kcnYu
aCIKQEAgLTg1LDcgKzg2LDcgQEAgc3RydWN0IF9fZ3VjX2Fkc19ibG9iIHsKIAogc3RhdGljIHZv
aWQgX19ndWNfYWRzX2luaXQoc3RydWN0IGludGVsX2d1YyAqZ3VjKQogewotCXN0cnVjdCBkcm1f
aTkxNV9wcml2YXRlICpkZXZfcHJpdiA9IGd1Y190b19pOTE1KGd1Yyk7CisJc3RydWN0IGRybV9p
OTE1X3ByaXZhdGUgKmRldl9wcml2ID0gZ3VjX3RvX2d0KGd1YyktPmk5MTU7CiAJc3RydWN0IF9f
Z3VjX2Fkc19ibG9iICpibG9iID0gZ3VjLT5hZHNfYmxvYjsKIAljb25zdCB1MzIgc2tpcHBlZF9z
aXplID0gTFJDX1BQSFdTUF9TWiAqIFBBR0VfU0laRSArIExSX0hXX0NPTlRFWFRfU0laRTsKIAl1
MzIgYmFzZTsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L3VjL2ludGVsX2d1
Y19mdy5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvdWMvaW50ZWxfZ3VjX2Z3LmMKaW5kZXgg
OTgzMDVlM2ZkNDJjLi4zZGZhNDBmZGJlOTkgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9p
OTE1L2d0L3VjL2ludGVsX2d1Y19mdy5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L3Vj
L2ludGVsX2d1Y19mdy5jCkBAIC03Niw3ICs3Niw3IEBAIE1PRFVMRV9GSVJNV0FSRShJQ0xfR1VD
X0ZJUk1XQVJFX1BBVEgpOwogc3RhdGljIHZvaWQgZ3VjX2Z3X3NlbGVjdChzdHJ1Y3QgaW50ZWxf
dWNfZncgKmd1Y19mdykKIHsKIAlzdHJ1Y3QgaW50ZWxfZ3VjICpndWMgPSBjb250YWluZXJfb2Yo
Z3VjX2Z3LCBzdHJ1Y3QgaW50ZWxfZ3VjLCBmdyk7Ci0Jc3RydWN0IGRybV9pOTE1X3ByaXZhdGUg
Kmk5MTUgPSBndWNfdG9faTkxNShndWMpOworCXN0cnVjdCBkcm1faTkxNV9wcml2YXRlICppOTE1
ID0gZ3VjX3RvX2d0KGd1YyktPmk5MTU7CiAKIAlHRU1fQlVHX09OKGd1Y19mdy0+dHlwZSAhPSBJ
TlRFTF9VQ19GV19UWVBFX0dVQyk7CiAKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1
L2d0L3VjL2ludGVsX2d1Y19sb2cuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L3VjL2ludGVs
X2d1Y19sb2cuYwppbmRleCA5YmU1ZDNhNmZiNWYuLjc3ZmRhMWU4NWQzYiAxMDA2NDQKLS0tIGEv
ZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvdWMvaW50ZWxfZ3VjX2xvZy5jCisrKyBiL2RyaXZlcnMv
Z3B1L2RybS9pOTE1L2d0L3VjL2ludGVsX2d1Y19sb2cuYwpAQCAtMjQsNiArMjQsNyBAQAogCiAj
aW5jbHVkZSA8bGludXgvZGVidWdmcy5oPgogCisjaW5jbHVkZSAiZ3QvaW50ZWxfZ3QuaCIKICNp
bmNsdWRlICJpbnRlbF9ndWNfbG9nLmgiCiAjaW5jbHVkZSAiaTkxNV9kcnYuaCIKIApAQCAtMjA5
LDcgKzIxMCw3IEBAIHN0YXRpYyBib29sIGd1Y19jaGVja19sb2dfYnVmX292ZXJmbG93KHN0cnVj
dCBpbnRlbF9ndWNfbG9nICpsb2csCiAJCQlsb2ctPnN0YXRzW3R5cGVdLnNhbXBsZWRfb3ZlcmZs
b3cgKz0gMTY7CiAJCX0KIAotCQlkZXZfbm90aWNlX3JhdGVsaW1pdGVkKGd1Y190b19pOTE1KGxv
Z190b19ndWMobG9nKSktPmRybS5kZXYsCisJCWRldl9ub3RpY2VfcmF0ZWxpbWl0ZWQoZ3VjX3Rv
X2d0KGxvZ190b19ndWMobG9nKSktPmk5MTUtPmRybS5kZXYsCiAJCQkJICAgICAgICJHdUMgbG9n
IGJ1ZmZlciBvdmVyZmxvd1xuIik7CiAJfQogCkBAIC0zODMsNyArMzg0LDcgQEAgdm9pZCBpbnRl
bF9ndWNfbG9nX2luaXRfZWFybHkoc3RydWN0IGludGVsX2d1Y19sb2cgKmxvZykKIHN0YXRpYyBp
bnQgZ3VjX2xvZ19yZWxheV9jcmVhdGUoc3RydWN0IGludGVsX2d1Y19sb2cgKmxvZykKIHsKIAlz
dHJ1Y3QgaW50ZWxfZ3VjICpndWMgPSBsb2dfdG9fZ3VjKGxvZyk7Ci0Jc3RydWN0IGRybV9pOTE1
X3ByaXZhdGUgKmRldl9wcml2ID0gZ3VjX3RvX2k5MTUoZ3VjKTsKKwlzdHJ1Y3QgZHJtX2k5MTVf
cHJpdmF0ZSAqZGV2X3ByaXYgPSBndWNfdG9fZ3QoZ3VjKS0+aTkxNTsKIAlzdHJ1Y3QgcmNoYW4g
Kmd1Y19sb2dfcmVsYXlfY2hhbjsKIAlzaXplX3Qgbl9zdWJidWZzLCBzdWJidWZfc2l6ZTsKIAlp
bnQgcmV0OwpAQCAtNDI5LDcgKzQzMCw3IEBAIHN0YXRpYyB2b2lkIGd1Y19sb2dfcmVsYXlfZGVz
dHJveShzdHJ1Y3QgaW50ZWxfZ3VjX2xvZyAqbG9nKQogc3RhdGljIHZvaWQgZ3VjX2xvZ19jYXB0
dXJlX2xvZ3Moc3RydWN0IGludGVsX2d1Y19sb2cgKmxvZykKIHsKIAlzdHJ1Y3QgaW50ZWxfZ3Vj
ICpndWMgPSBsb2dfdG9fZ3VjKGxvZyk7Ci0Jc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9w
cml2ID0gZ3VjX3RvX2k5MTUoZ3VjKTsKKwlzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3By
aXYgPSBndWNfdG9fZ3QoZ3VjKS0+aTkxNTsKIAlpbnRlbF93YWtlcmVmX3Qgd2FrZXJlZjsKIAog
CWd1Y19yZWFkX3VwZGF0ZV9sb2dfYnVmZmVyKGxvZyk7CkBAIC00OTgsNyArNDk5LDcgQEAgdm9p
ZCBpbnRlbF9ndWNfbG9nX2Rlc3Ryb3koc3RydWN0IGludGVsX2d1Y19sb2cgKmxvZykKIGludCBp
bnRlbF9ndWNfbG9nX3NldF9sZXZlbChzdHJ1Y3QgaW50ZWxfZ3VjX2xvZyAqbG9nLCB1MzIgbGV2
ZWwpCiB7CiAJc3RydWN0IGludGVsX2d1YyAqZ3VjID0gbG9nX3RvX2d1Yyhsb2cpOwotCXN0cnVj
dCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiA9IGd1Y190b19pOTE1KGd1Yyk7CisJc3RydWN0
IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2ID0gZ3VjX3RvX2d0KGd1YyktPmk5MTU7CiAJaW50
ZWxfd2FrZXJlZl90IHdha2VyZWY7CiAJaW50IHJldCA9IDA7CiAKQEAgLTU5Myw3ICs1OTQsNyBA
QCBpbnQgaW50ZWxfZ3VjX2xvZ19yZWxheV9vcGVuKHN0cnVjdCBpbnRlbF9ndWNfbG9nICpsb2cp
CiB2b2lkIGludGVsX2d1Y19sb2dfcmVsYXlfZmx1c2goc3RydWN0IGludGVsX2d1Y19sb2cgKmxv
ZykKIHsKIAlzdHJ1Y3QgaW50ZWxfZ3VjICpndWMgPSBsb2dfdG9fZ3VjKGxvZyk7Ci0Jc3RydWN0
IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUgPSBndWNfdG9faTkxNShndWMpOworCXN0cnVjdCBkcm1f
aTkxNV9wcml2YXRlICppOTE1ID0gZ3VjX3RvX2d0KGd1YyktPmk5MTU7CiAJaW50ZWxfd2FrZXJl
Zl90IHdha2VyZWY7CiAKIAkvKgpAQCAtNjEyLDcgKzYxMyw3IEBAIHZvaWQgaW50ZWxfZ3VjX2xv
Z19yZWxheV9mbHVzaChzdHJ1Y3QgaW50ZWxfZ3VjX2xvZyAqbG9nKQogdm9pZCBpbnRlbF9ndWNf
bG9nX3JlbGF5X2Nsb3NlKHN0cnVjdCBpbnRlbF9ndWNfbG9nICpsb2cpCiB7CiAJc3RydWN0IGlu
dGVsX2d1YyAqZ3VjID0gbG9nX3RvX2d1Yyhsb2cpOwotCXN0cnVjdCBkcm1faTkxNV9wcml2YXRl
ICppOTE1ID0gZ3VjX3RvX2k5MTUoZ3VjKTsKKwlzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkx
NSA9IGd1Y190b19ndChndWMpLT5pOTE1OwogCiAJZ3VjX2xvZ19kaXNhYmxlX2ZsdXNoX2V2ZW50
cyhsb2cpOwogCWludGVsX3N5bmNocm9uaXplX2lycShpOTE1KTsKZGlmZiAtLWdpdCBhL2RyaXZl
cnMvZ3B1L2RybS9pOTE1L2d0L3VjL2ludGVsX2h1Yy5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUv
Z3QvdWMvaW50ZWxfaHVjLmMKaW5kZXggOTlmMGZhMmU4ZmY1Li5iYzE0NDM5MTczZDcgMTAwNjQ0
Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L3VjL2ludGVsX2h1Yy5jCisrKyBiL2RyaXZl
cnMvZ3B1L2RybS9pOTE1L2d0L3VjL2ludGVsX2h1Yy5jCkBAIC0zMCw3ICszMCw3IEBACiAKIHZv
aWQgaW50ZWxfaHVjX2luaXRfZWFybHkoc3RydWN0IGludGVsX2h1YyAqaHVjKQogewotCXN0cnVj
dCBkcm1faTkxNV9wcml2YXRlICppOTE1ID0gaHVjX3RvX2k5MTUoaHVjKTsKKwlzdHJ1Y3QgZHJt
X2k5MTVfcHJpdmF0ZSAqaTkxNSA9IGh1Y190b19ndChodWMpLT5pOTE1OwogCiAJaW50ZWxfaHVj
X2Z3X2luaXRfZWFybHkoaHVjKTsKIApkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUv
Z3QvdWMvaW50ZWxfaHVjX2Z3LmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC91Yy9pbnRlbF9o
dWNfZncuYwppbmRleCBiZWNmZDM0YTI2YzEuLjU0Mzg1NGM0MmQ5ZCAxMDA2NDQKLS0tIGEvZHJp
dmVycy9ncHUvZHJtL2k5MTUvZ3QvdWMvaW50ZWxfaHVjX2Z3LmMKKysrIGIvZHJpdmVycy9ncHUv
ZHJtL2k5MTUvZ3QvdWMvaW50ZWxfaHVjX2Z3LmMKQEAgLTcwLDcgKzcwLDcgQEAgTU9EVUxFX0ZJ
Uk1XQVJFKEk5MTVfSUNMX0hVQ19VQ09ERSk7CiBzdGF0aWMgdm9pZCBodWNfZndfc2VsZWN0KHN0
cnVjdCBpbnRlbF91Y19mdyAqaHVjX2Z3KQogewogCXN0cnVjdCBpbnRlbF9odWMgKmh1YyA9IGNv
bnRhaW5lcl9vZihodWNfZncsIHN0cnVjdCBpbnRlbF9odWMsIGZ3KTsKLQlzdHJ1Y3QgZHJtX2k5
MTVfcHJpdmF0ZSAqZGV2X3ByaXYgPSBodWNfdG9faTkxNShodWMpOworCXN0cnVjdCBkcm1faTkx
NV9wcml2YXRlICpkZXZfcHJpdiA9IGh1Y190b19ndChodWMpLT5pOTE1OwogCiAJR0VNX0JVR19P
TihodWNfZnctPnR5cGUgIT0gSU5URUxfVUNfRldfVFlQRV9IVUMpOwogCmRpZmYgLS1naXQgYS9k
cml2ZXJzL2dwdS9kcm0vaTkxNS9ndC91Yy9pbnRlbF91Yy5jIGIvZHJpdmVycy9ncHUvZHJtL2k5
MTUvZ3QvdWMvaW50ZWxfdWMuYwppbmRleCA0MWE3NzA4NjU0NzcuLjVlYmIwYTUzNDcxOCAxMDA2
NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvdWMvaW50ZWxfdWMuYworKysgYi9kcml2
ZXJzL2dwdS9kcm0vaTkxNS9ndC91Yy9pbnRlbF91Yy5jCkBAIC0yNTIsNyArMjUyLDcgQEAgc3Rh
dGljIHZvaWQgZ3VjX2dldF9tbWlvX21zZyhzdHJ1Y3QgaW50ZWxfZ3VjICpndWMpCiAKIHN0YXRp
YyB2b2lkIGd1Y19oYW5kbGVfbW1pb19tc2coc3RydWN0IGludGVsX2d1YyAqZ3VjKQogewotCXN0
cnVjdCBkcm1faTkxNV9wcml2YXRlICppOTE1ID0gZ3VjX3RvX2k5MTUoZ3VjKTsKKwlzdHJ1Y3Qg
ZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSA9IGd1Y190b19ndChndWMpLT5pOTE1OwogCiAJLyogd2Ug
bmVlZCBjb21tdW5pY2F0aW9uIHRvIGJlIGVuYWJsZWQgdG8gcmVwbHkgdG8gR3VDICovCiAJR0VN
X0JVR19PTihndWMtPmhhbmRsZXIgPT0gaW50ZWxfZ3VjX3RvX2hvc3RfZXZlbnRfaGFuZGxlcl9u
b3ApOwpAQCAtMjg0LDcgKzI4NCw3IEBAIHN0YXRpYyB2b2lkIGd1Y19kaXNhYmxlX2ludGVycnVw
dHMoc3RydWN0IGludGVsX2d1YyAqZ3VjKQogCiBzdGF0aWMgaW50IGd1Y19lbmFibGVfY29tbXVu
aWNhdGlvbihzdHJ1Y3QgaW50ZWxfZ3VjICpndWMpCiB7Ci0Jc3RydWN0IGRybV9pOTE1X3ByaXZh
dGUgKmk5MTUgPSBndWNfdG9faTkxNShndWMpOworCXN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpp
OTE1ID0gZ3VjX3RvX2d0KGd1YyktPmk5MTU7CiAJaW50IHJldDsKIAogCXJldCA9IGludGVsX2d1
Y19jdF9lbmFibGUoJmd1Yy0+Y3QpOwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUv
aTkxNV9kcnYuaCBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZHJ2LmgKaW5kZXggOTU5NTk5
ZGZhNTc5Li4yMDNjZGJhOTg1NTAgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5
MTVfZHJ2LmgKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kcnYuaApAQCAtMTkwMiwx
NiArMTkwMiw2IEBAIHN0YXRpYyBpbmxpbmUgc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKndvcGNt
X3RvX2k5MTUoc3RydWN0IGludGVsX3dvcGNtICp3b3BjbSkKIAlyZXR1cm4gY29udGFpbmVyX29m
KHdvcGNtLCBzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSwgd29wY20pOwogfQogCi1zdGF0aWMgaW5s
aW5lIHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpndWNfdG9faTkxNShzdHJ1Y3QgaW50ZWxfZ3Vj
ICpndWMpCi17Ci0JcmV0dXJuIGNvbnRhaW5lcl9vZihndWMsIHN0cnVjdCBkcm1faTkxNV9wcml2
YXRlLCBndC51Yy5ndWMpOwotfQotCi1zdGF0aWMgaW5saW5lIHN0cnVjdCBkcm1faTkxNV9wcml2
YXRlICpodWNfdG9faTkxNShzdHJ1Y3QgaW50ZWxfaHVjICpodWMpCi17Ci0JcmV0dXJuIGNvbnRh
aW5lcl9vZihodWMsIHN0cnVjdCBkcm1faTkxNV9wcml2YXRlLCBndC51Yy5odWMpOwotfQotCiAv
KiBTaW1wbGUgaXRlcmF0b3Igb3ZlciBhbGwgaW5pdGlhbGlzZWQgZW5naW5lcyAqLwogI2RlZmlu
ZSBmb3JfZWFjaF9lbmdpbmUoZW5naW5lX18sIGRldl9wcml2X18sIGlkX18pIFwKIAlmb3IgKChp
ZF9fKSA9IDA7IFwKLS0gCjIuMjIuMAoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX18KSW50ZWwtZ2Z4IG1haWxpbmcgbGlzdApJbnRlbC1nZnhAbGlzdHMuZnJl
ZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGlu
Zm8vaW50ZWwtZ2Z4

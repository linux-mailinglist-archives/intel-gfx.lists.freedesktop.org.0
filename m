Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 947902191DA
	for <lists+intel-gfx@lfdr.de>; Wed,  8 Jul 2020 22:53:30 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 81B3189F07;
	Wed,  8 Jul 2020 20:53:28 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga06.intel.com (mga06.intel.com [134.134.136.31])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 5077489F07
 for <intel-gfx@lists.freedesktop.org>; Wed,  8 Jul 2020 20:53:27 +0000 (UTC)
IronPort-SDR: QLuT24g7LXj3XVAOPP51uoJD4f3wCfXBBA2k1B/pt/RiBjW0oeVjU62WE4Hk4ZylXAsOTp5hpQ
 WiPelJgfkKhQ==
X-IronPort-AV: E=McAfee;i="6000,8403,9676"; a="209427820"
X-IronPort-AV: E=Sophos;i="5.75,329,1589266800"; d="scan'208";a="209427820"
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from fmsmga001.fm.intel.com ([10.253.24.23])
 by orsmga104.jf.intel.com with ESMTP/TLS/ECDHE-RSA-AES256-GCM-SHA384;
 08 Jul 2020 13:53:26 -0700
IronPort-SDR: j4edNi/CPwyY2h1a76UuZH4244o7UIgzakap8EFL1RPFGapDdwJk1n/vw67X03fDjyJ3UtrnJ/
 qo0qFNdnCQUg==
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.75,329,1589266800"; d="scan'208";a="388928943"
Received: from josouza-mobl2.jf.intel.com (HELO josouza-MOBL2.intel.com)
 ([10.24.14.51])
 by fmsmga001.fm.intel.com with ESMTP; 08 Jul 2020 13:53:26 -0700
From: =?UTF-8?q?Jos=C3=A9=20Roberto=20de=20Souza?= <jose.souza@intel.com>
To: intel-gfx@lists.freedesktop.org
Date: Wed,  8 Jul 2020 13:55:09 -0700
Message-Id: <20200708205512.21625-2-jose.souza@intel.com>
X-Mailer: git-send-email 2.27.0
In-Reply-To: <20200708205512.21625-1-jose.souza@intel.com>
References: <20200708205512.21625-1-jose.souza@intel.com>
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH v4 2/5] drm/i915/display: Remove port and phy
 from voltage swing functions
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

VGhpcyBpbmZvcm1hdGlvbiBjYW4gYmUgZ2V0IGRpcmVjdGx5IGZyb20gaW50ZWxfZW5jb2RlciBz
byBubyBuZWVkCm9mIHRob3NlIHBhcmFtZXRlcnMuCgpTaWduZWQtb2ZmLWJ5OiBKb3PDqSBSb2Jl
cnRvIGRlIFNvdXphIDxqb3NlLnNvdXphQGludGVsLmNvbT4KLS0tCiBkcml2ZXJzL2dwdS9kcm0v
aTkxNS9kaXNwbGF5L2ludGVsX2RkaS5jIHwgMzMgKysrKysrKysrKy0tLS0tLS0tLS0tLS0tCiAx
IGZpbGUgY2hhbmdlZCwgMTQgaW5zZXJ0aW9ucygrKSwgMTkgZGVsZXRpb25zKC0pCgpkaWZmIC0t
Z2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kZGkuYyBiL2RyaXZlcnMv
Z3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGRpLmMKaW5kZXggZTgwMzE5YWE3Y2YwLi4yYzQ4
NGI1NWJjZGYgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxf
ZGRpLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kZGkuYwpAQCAt
ODE1LDggKzgxNSw3IEBAIHN0YXRpYyBpbnQgc2tsX2J1Zl90cmFuc19udW1fZW50cmllcyhlbnVt
IHBvcnQgcG9ydCwgaW50IG5fZW50cmllcykKIH0KIAogc3RhdGljIGNvbnN0IHN0cnVjdCBkZGlf
YnVmX3RyYW5zICoKLWludGVsX2RkaV9nZXRfYnVmX3RyYW5zX2RwKHN0cnVjdCBpbnRlbF9lbmNv
ZGVyICplbmNvZGVyLAotCQkJICAgZW51bSBwb3J0IHBvcnQsIGludCAqbl9lbnRyaWVzKQoraW50
ZWxfZGRpX2dldF9idWZfdHJhbnNfZHAoc3RydWN0IGludGVsX2VuY29kZXIgKmVuY29kZXIsIGlu
dCAqbl9lbnRyaWVzKQogewogCXN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiA9IHRv
X2k5MTUoZW5jb2Rlci0+YmFzZS5kZXYpOwogCkBAIC04MjUsMTIgKzgyNCwxMiBAQCBpbnRlbF9k
ZGlfZ2V0X2J1Zl90cmFuc19kcChzdHJ1Y3QgaW50ZWxfZW5jb2RlciAqZW5jb2RlciwKIAkgICAg
SVNfQ09NRVRMQUtFKGRldl9wcml2KSkgewogCQljb25zdCBzdHJ1Y3QgZGRpX2J1Zl90cmFucyAq
ZGRpX3RyYW5zbGF0aW9ucyA9CiAJCQlrYmxfZ2V0X2J1Zl90cmFuc19kcChlbmNvZGVyLCBuX2Vu
dHJpZXMpOwotCQkqbl9lbnRyaWVzID0gc2tsX2J1Zl90cmFuc19udW1fZW50cmllcyhwb3J0LCAq
bl9lbnRyaWVzKTsKKwkJKm5fZW50cmllcyA9IHNrbF9idWZfdHJhbnNfbnVtX2VudHJpZXMoZW5j
b2Rlci0+cG9ydCwgKm5fZW50cmllcyk7CiAJCXJldHVybiBkZGlfdHJhbnNsYXRpb25zOwogCX0g
ZWxzZSBpZiAoSVNfU0tZTEFLRShkZXZfcHJpdikpIHsKIAkJY29uc3Qgc3RydWN0IGRkaV9idWZf
dHJhbnMgKmRkaV90cmFuc2xhdGlvbnMgPQogCQkJc2tsX2dldF9idWZfdHJhbnNfZHAoZW5jb2Rl
ciwgbl9lbnRyaWVzKTsKLQkJKm5fZW50cmllcyA9IHNrbF9idWZfdHJhbnNfbnVtX2VudHJpZXMo
cG9ydCwgKm5fZW50cmllcyk7CisJCSpuX2VudHJpZXMgPSBza2xfYnVmX3RyYW5zX251bV9lbnRy
aWVzKGVuY29kZXItPnBvcnQsICpuX2VudHJpZXMpOwogCQlyZXR1cm4gZGRpX3RyYW5zbGF0aW9u
czsKIAl9IGVsc2UgaWYgKElTX0JST0FEV0VMTChkZXZfcHJpdikpIHsKIAkJKm5fZW50cmllcyA9
IEFSUkFZX1NJWkUoYmR3X2RkaV90cmFuc2xhdGlvbnNfZHApOwpAQCAtODQ1LDE1ICs4NDQsMTQg
QEAgaW50ZWxfZGRpX2dldF9idWZfdHJhbnNfZHAoc3RydWN0IGludGVsX2VuY29kZXIgKmVuY29k
ZXIsCiB9CiAKIHN0YXRpYyBjb25zdCBzdHJ1Y3QgZGRpX2J1Zl90cmFucyAqCi1pbnRlbF9kZGlf
Z2V0X2J1Zl90cmFuc19lZHAoc3RydWN0IGludGVsX2VuY29kZXIgKmVuY29kZXIsCi0JCQkgICAg
ZW51bSBwb3J0IHBvcnQsIGludCAqbl9lbnRyaWVzKQoraW50ZWxfZGRpX2dldF9idWZfdHJhbnNf
ZWRwKHN0cnVjdCBpbnRlbF9lbmNvZGVyICplbmNvZGVyLCBpbnQgKm5fZW50cmllcykKIHsKIAlz
dHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYgPSB0b19pOTE1KGVuY29kZXItPmJhc2Uu
ZGV2KTsKIAogCWlmIChJU19HRU45X0JDKGRldl9wcml2KSkgewogCQljb25zdCBzdHJ1Y3QgZGRp
X2J1Zl90cmFucyAqZGRpX3RyYW5zbGF0aW9ucyA9CiAJCQlza2xfZ2V0X2J1Zl90cmFuc19lZHAo
ZW5jb2Rlciwgbl9lbnRyaWVzKTsKLQkJKm5fZW50cmllcyA9IHNrbF9idWZfdHJhbnNfbnVtX2Vu
dHJpZXMocG9ydCwgKm5fZW50cmllcyk7CisJCSpuX2VudHJpZXMgPSBza2xfYnVmX3RyYW5zX251
bV9lbnRyaWVzKGVuY29kZXItPnBvcnQsICpuX2VudHJpZXMpOwogCQlyZXR1cm4gZGRpX3RyYW5z
bGF0aW9uczsKIAl9IGVsc2UgaWYgKElTX0JST0FEV0VMTChkZXZfcHJpdikpIHsKIAkJcmV0dXJu
IGJkd19nZXRfYnVmX3RyYW5zX2VkcChlbmNvZGVyLCBuX2VudHJpZXMpOwpAQCAtMTE1MiwxMCAr
MTE1MCwxMCBAQCBzdGF0aWMgdm9pZCBpbnRlbF9wcmVwYXJlX2RwX2RkaV9idWZmZXJzKHN0cnVj
dCBpbnRlbF9lbmNvZGVyICplbmNvZGVyLAogCQlkZGlfdHJhbnNsYXRpb25zID0gaW50ZWxfZGRp
X2dldF9idWZfdHJhbnNfZmRpKGRldl9wcml2LAogCQkJCQkJCSAgICAgICAmbl9lbnRyaWVzKTsK
IAllbHNlIGlmIChpbnRlbF9jcnRjX2hhc190eXBlKGNydGNfc3RhdGUsIElOVEVMX09VVFBVVF9F
RFApKQotCQlkZGlfdHJhbnNsYXRpb25zID0gaW50ZWxfZGRpX2dldF9idWZfdHJhbnNfZWRwKGVu
Y29kZXIsIHBvcnQsCisJCWRkaV90cmFuc2xhdGlvbnMgPSBpbnRlbF9kZGlfZ2V0X2J1Zl90cmFu
c19lZHAoZW5jb2RlciwKIAkJCQkJCQkgICAgICAgJm5fZW50cmllcyk7CiAJZWxzZQotCQlkZGlf
dHJhbnNsYXRpb25zID0gaW50ZWxfZGRpX2dldF9idWZfdHJhbnNfZHAoZW5jb2RlciwgcG9ydCwK
KwkJZGRpX3RyYW5zbGF0aW9ucyA9IGludGVsX2RkaV9nZXRfYnVmX3RyYW5zX2RwKGVuY29kZXIs
CiAJCQkJCQkJICAgICAgJm5fZW50cmllcyk7CiAKIAkvKiBJZiB3ZSdyZSBib29zdGluZyB0aGUg
Y3VycmVudCwgc2V0IGJpdCAzMSBvZiB0cmFuczEgKi8KQEAgLTIxMDYsNyArMjEwNCw2IEBAIHN0
YXRpYyB2b2lkIHNrbF9kZGlfc2V0X2lib29zdChzdHJ1Y3QgaW50ZWxfZW5jb2RlciAqZW5jb2Rl
ciwKIHsKIAlzdHJ1Y3QgaW50ZWxfZGlnaXRhbF9wb3J0ICpkaWdfcG9ydCA9IGVuY190b19kaWdf
cG9ydChlbmNvZGVyKTsKIAlzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYgPSB0b19p
OTE1KGVuY29kZXItPmJhc2UuZGV2KTsKLQllbnVtIHBvcnQgcG9ydCA9IGVuY29kZXItPnBvcnQ7
CiAJdTggaWJvb3N0OwogCiAJaWYgKHR5cGUgPT0gSU5URUxfT1VUUFVUX0hETUkpCkBAIC0yMTIy
LDExICsyMTE5LDkgQEAgc3RhdGljIHZvaWQgc2tsX2RkaV9zZXRfaWJvb3N0KHN0cnVjdCBpbnRl
bF9lbmNvZGVyICplbmNvZGVyLAogCQkJZGRpX3RyYW5zbGF0aW9ucyA9IGludGVsX2RkaV9nZXRf
YnVmX3RyYW5zX2hkbWkoZW5jb2RlciwgJm5fZW50cmllcyk7CiAJCWVsc2UgaWYgKHR5cGUgPT0g
SU5URUxfT1VUUFVUX0VEUCkKIAkJCWRkaV90cmFuc2xhdGlvbnMgPSBpbnRlbF9kZGlfZ2V0X2J1
Zl90cmFuc19lZHAoZW5jb2RlciwKLQkJCQkJCQkJICAgICAgIHBvcnQsCiAJCQkJCQkJCSAgICAg
ICAmbl9lbnRyaWVzKTsKIAkJZWxzZQogCQkJZGRpX3RyYW5zbGF0aW9ucyA9IGludGVsX2RkaV9n
ZXRfYnVmX3RyYW5zX2RwKGVuY29kZXIsCi0JCQkJCQkJCSAgICAgIHBvcnQsCiAJCQkJCQkJCSAg
ICAgICZuX2VudHJpZXMpOwogCiAJCWlmIChkcm1fV0FSTl9PTl9PTkNFKCZkZXZfcHJpdi0+ZHJt
LCAhZGRpX3RyYW5zbGF0aW9ucykpCkBAIC0yMTQzLDkgKzIxMzgsOSBAQCBzdGF0aWMgdm9pZCBz
a2xfZGRpX3NldF9pYm9vc3Qoc3RydWN0IGludGVsX2VuY29kZXIgKmVuY29kZXIsCiAJCXJldHVy
bjsKIAl9CiAKLQlfc2tsX2RkaV9zZXRfaWJvb3N0KGRldl9wcml2LCBwb3J0LCBpYm9vc3QpOwor
CV9za2xfZGRpX3NldF9pYm9vc3QoZGV2X3ByaXYsIGVuY29kZXItPnBvcnQsIGlib29zdCk7CiAK
LQlpZiAocG9ydCA9PSBQT1JUX0EgJiYgZGlnX3BvcnQtPm1heF9sYW5lcyA9PSA0KQorCWlmIChl
bmNvZGVyLT5wb3J0ID09IFBPUlRfQSAmJiBkaWdfcG9ydC0+bWF4X2xhbmVzID09IDQpCiAJCV9z
a2xfZGRpX3NldF9pYm9vc3QoZGV2X3ByaXYsIFBPUlRfRSwgaWJvb3N0KTsKIH0KIApAQCAtMjIx
Myw5ICsyMjA4LDkgQEAgc3RhdGljIHU4IGludGVsX2RkaV9kcF92b2x0YWdlX21heChzdHJ1Y3Qg
aW50ZWxfZHAgKmludGVsX2RwKQogCQkJYnh0X2dldF9idWZfdHJhbnNfZHAoZW5jb2RlciwgJm5f
ZW50cmllcyk7CiAJfSBlbHNlIHsKIAkJaWYgKGVuY29kZXItPnR5cGUgPT0gSU5URUxfT1VUUFVU
X0VEUCkKLQkJCWludGVsX2RkaV9nZXRfYnVmX3RyYW5zX2VkcChlbmNvZGVyLCBwb3J0LCAmbl9l
bnRyaWVzKTsKKwkJCWludGVsX2RkaV9nZXRfYnVmX3RyYW5zX2VkcChlbmNvZGVyLCAmbl9lbnRy
aWVzKTsKIAkJZWxzZQotCQkJaW50ZWxfZGRpX2dldF9idWZfdHJhbnNfZHAoZW5jb2RlciwgcG9y
dCwgJm5fZW50cmllcyk7CisJCQlpbnRlbF9kZGlfZ2V0X2J1Zl90cmFuc19kcChlbmNvZGVyLCAm
bl9lbnRyaWVzKTsKIAl9CiAKIAlpZiAoZHJtX1dBUk5fT04oJmRldl9wcml2LT5kcm0sIG5fZW50
cmllcyA8IDEpKQpAQCAtMjM3MCwxMCArMjM2NSwxMCBAQCBzdGF0aWMgdm9pZCBjbmxfZGRpX3Zz
d2luZ19zZXF1ZW5jZShzdHJ1Y3QgaW50ZWxfZW5jb2RlciAqZW5jb2RlciwKIH0KIAogc3RhdGlj
IHZvaWQgaWNsX2RkaV9jb21ib192c3dpbmdfcHJvZ3JhbShzdHJ1Y3QgaW50ZWxfZW5jb2RlciAq
ZW5jb2RlciwKLQkJCQkJIHUzMiBsZXZlbCwgZW51bSBwaHkgcGh5LCBpbnQgdHlwZSwKLQkJCQkJ
IGludCByYXRlKQorCQkJCQkgdTMyIGxldmVsLCBpbnQgdHlwZSwgaW50IHJhdGUpCiB7CiAJc3Ry
dWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2ID0gdG9faTkxNShlbmNvZGVyLT5iYXNlLmRl
dik7CisJZW51bSBwaHkgcGh5ID0gaW50ZWxfcG9ydF90b19waHkoZGV2X3ByaXYsIGVuY29kZXIt
PnBvcnQpOwogCWNvbnN0IHN0cnVjdCBjbmxfZGRpX2J1Zl90cmFucyAqZGRpX3RyYW5zbGF0aW9u
cyA9IE5VTEw7CiAJdTMyIG5fZW50cmllcywgdmFsOwogCWludCBsbjsKQEAgLTI0OTcsNyArMjQ5
Miw3IEBAIHN0YXRpYyB2b2lkIGljbF9jb21ib19waHlfZGRpX3Zzd2luZ19zZXF1ZW5jZShzdHJ1
Y3QgaW50ZWxfZW5jb2RlciAqZW5jb2RlciwKIAlpbnRlbF9kZV93cml0ZShkZXZfcHJpdiwgSUNM
X1BPUlRfVFhfRFc1X0dSUChwaHkpLCB2YWwpOwogCiAJLyogNS4gUHJvZ3JhbSBzd2luZyBhbmQg
ZGUtZW1waGFzaXMgKi8KLQlpY2xfZGRpX2NvbWJvX3Zzd2luZ19wcm9ncmFtKGVuY29kZXIsIGxl
dmVsLCBwaHksIHR5cGUsIHJhdGUpOworCWljbF9kZGlfY29tYm9fdnN3aW5nX3Byb2dyYW0oZW5j
b2RlciwgbGV2ZWwsIHR5cGUsIHJhdGUpOwogCiAJLyogNi4gU2V0IHRyYWluaW5nIGVuYWJsZSB0
byB0cmlnZ2VyIHVwZGF0ZSAqLwogCXZhbCA9IGludGVsX2RlX3JlYWQoZGV2X3ByaXYsIElDTF9Q
T1JUX1RYX0RXNV9MTjAocGh5KSk7Ci0tIAoyLjI3LjAKCl9fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fCkludGVsLWdmeCBtYWlsaW5nIGxpc3QKSW50ZWwtZ2Z4
QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWls
bWFuL2xpc3RpbmZvL2ludGVsLWdmeAo=

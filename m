Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 10F23EB584
	for <lists+intel-gfx@lfdr.de>; Thu, 31 Oct 2019 17:57:06 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 2C25E6F396;
	Thu, 31 Oct 2019 16:57:04 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga02.intel.com (mga02.intel.com [134.134.136.20])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 49D206F392
 for <intel-gfx@lists.freedesktop.org>; Thu, 31 Oct 2019 16:57:03 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from fmsmga002.fm.intel.com ([10.253.24.26])
 by orsmga101.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 31 Oct 2019 09:57:02 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.68,252,1569308400"; d="scan'208";a="230929497"
Received: from stinkbox.fi.intel.com (HELO stinkbox) ([10.237.72.174])
 by fmsmga002.fm.intel.com with SMTP; 31 Oct 2019 09:57:00 -0700
Received: by stinkbox (sSMTP sendmail emulation);
 Thu, 31 Oct 2019 18:56:59 +0200
From: Ville Syrjala <ville.syrjala@linux.intel.com>
To: intel-gfx@lists.freedesktop.org
Date: Thu, 31 Oct 2019 18:56:47 +0200
Message-Id: <20191031165652.10868-3-ville.syrjala@linux.intel.com>
X-Mailer: git-send-email 2.23.0
In-Reply-To: <20191031165652.10868-1-ville.syrjala@linux.intel.com>
References: <20191031165652.10868-1-ville.syrjala@linux.intel.com>
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH 2/7] drm/i915: Expose alpha formats on VLV/CHV
 primary planes
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

RnJvbTogVmlsbGUgU3lyasOkbMOkIDx2aWxsZS5zeXJqYWxhQGxpbnV4LmludGVsLmNvbT4KCkN1
cnJlbnRseSB3ZSBleHBvc2UgVkxWL0NIViBhbHBoYSBibGVuZGluZyBvbmx5IG9uIHRoZSBzcHJp
dGUKcGxhbmVzLCBidXQgdGhlIHByaW1hcnkgcGxhbmVzIGNhbiBkbyBpdCBhcyB3ZWxsLiBMZXQn
cyBmbGlwCml0IG9uLgoKdjI6IFJlYmFzZSBkdWUgdG8gZnAxNiBsYW5kaW5nCgpTaWduZWQtb2Zm
LWJ5OiBWaWxsZSBTeXJqw6Rsw6QgPHZpbGxlLnN5cmphbGFAbGludXguaW50ZWwuY29tPgpSZXZp
ZXdlZC1ieTogVW1hIFNoYW5rYXIgPHVtYS5zaGFua2FyQGludGVsLmNvbT4KLS0tCiBkcml2ZXJz
L2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXkuYyB8IDYyICsrKysrKysrKysrKysr
KysrKystCiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3JlZy5oICAgICAgICAgICAgICB8ICAx
ICsKIDIgZmlsZXMgY2hhbmdlZCwgNjAgaW5zZXJ0aW9ucygrKSwgMyBkZWxldGlvbnMoLSkKCmRp
ZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXkuYyBi
L2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheS5jCmluZGV4IDM0OGNl
MDQ1NjY5Ni4uMjdmYjI0YzE4OTJmIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9k
aXNwbGF5L2ludGVsX2Rpc3BsYXkuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5
L2ludGVsX2Rpc3BsYXkuYwpAQCAtMTExLDYgKzExMSwyMSBAQCBzdGF0aWMgY29uc3QgdTMyIGk5
NjVfcHJpbWFyeV9mb3JtYXRzW10gPSB7CiAJRFJNX0ZPUk1BVF9YQkdSMTYxNjE2MTZGLAogfTsK
IAorLyogUHJpbWFyeSBwbGFuZSBmb3JtYXRzIGZvciB2bHYvY2h2ICovCitzdGF0aWMgY29uc3Qg
dTMyIHZsdl9wcmltYXJ5X2Zvcm1hdHNbXSA9IHsKKwlEUk1fRk9STUFUX0M4LAorCURSTV9GT1JN
QVRfUkdCNTY1LAorCURSTV9GT1JNQVRfWFJHQjg4ODgsCisJRFJNX0ZPUk1BVF9YQkdSODg4OCwK
KwlEUk1fRk9STUFUX0FSR0I4ODg4LAorCURSTV9GT1JNQVRfQUJHUjg4ODgsCisJRFJNX0ZPUk1B
VF9YUkdCMjEwMTAxMCwKKwlEUk1fRk9STUFUX1hCR1IyMTAxMDEwLAorCURSTV9GT1JNQVRfQVJH
QjIxMDEwMTAsCisJRFJNX0ZPUk1BVF9BQkdSMjEwMTAxMCwKKwlEUk1fRk9STUFUX1hCR1IxNjE2
MTYxNkYsCit9OworCiBzdGF0aWMgY29uc3QgdTY0IGk5eHhfZm9ybWF0X21vZGlmaWVyc1tdID0g
ewogCUk5MTVfRk9STUFUX01PRF9YX1RJTEVELAogCURSTV9GT1JNQVRfTU9EX0xJTkVBUiwKQEAg
LTI5NzEsNiArMjk4Niw4IEBAIHN0YXRpYyBpbnQgaTl4eF9mb3JtYXRfdG9fZm91cmNjKGludCBm
b3JtYXQpCiAJc3dpdGNoIChmb3JtYXQpIHsKIAljYXNlIERJU1BQTEFORV84QlBQOgogCQlyZXR1
cm4gRFJNX0ZPUk1BVF9DODsKKwljYXNlIERJU1BQTEFORV9CR1JBNTU1OgorCQlyZXR1cm4gRFJN
X0ZPUk1BVF9BUkdCMTU1NTsKIAljYXNlIERJU1BQTEFORV9CR1JYNTU1OgogCQlyZXR1cm4gRFJN
X0ZPUk1BVF9YUkdCMTU1NTsKIAljYXNlIERJU1BQTEFORV9CR1JYNTY1OgpAQCAtMjk4MCwxMCAr
Mjk5NywxOCBAQCBzdGF0aWMgaW50IGk5eHhfZm9ybWF0X3RvX2ZvdXJjYyhpbnQgZm9ybWF0KQog
CQlyZXR1cm4gRFJNX0ZPUk1BVF9YUkdCODg4ODsKIAljYXNlIERJU1BQTEFORV9SR0JYODg4Ogog
CQlyZXR1cm4gRFJNX0ZPUk1BVF9YQkdSODg4ODsKKwljYXNlIERJU1BQTEFORV9CR1JBODg4Ogor
CQlyZXR1cm4gRFJNX0ZPUk1BVF9BUkdCODg4ODsKKwljYXNlIERJU1BQTEFORV9SR0JBODg4Ogor
CQlyZXR1cm4gRFJNX0ZPUk1BVF9BQkdSODg4ODsKIAljYXNlIERJU1BQTEFORV9CR1JYMTAxMDEw
OgogCQlyZXR1cm4gRFJNX0ZPUk1BVF9YUkdCMjEwMTAxMDsKIAljYXNlIERJU1BQTEFORV9SR0JY
MTAxMDEwOgogCQlyZXR1cm4gRFJNX0ZPUk1BVF9YQkdSMjEwMTAxMDsKKwljYXNlIERJU1BQTEFO
RV9CR1JBMTAxMDEwOgorCQlyZXR1cm4gRFJNX0ZPUk1BVF9BUkdCMjEwMTAxMDsKKwljYXNlIERJ
U1BQTEFORV9SR0JBMTAxMDEwOgorCQlyZXR1cm4gRFJNX0ZPUk1BVF9BQkdSMjEwMTAxMDsKIAlj
YXNlIERJU1BQTEFORV9SR0JYMTYxNjE2OgogCQlyZXR1cm4gRFJNX0ZPUk1BVF9YQkdSMTYxNjE2
MTZGOwogCX0KQEAgLTM3MDcsNiArMzczMiw5IEBAIHN0YXRpYyB1MzIgaTl4eF9wbGFuZV9jdGwo
Y29uc3Qgc3RydWN0IGludGVsX2NydGNfc3RhdGUgKmNydGNfc3RhdGUsCiAJY2FzZSBEUk1fRk9S
TUFUX1hSR0IxNTU1OgogCQlkc3BjbnRyIHw9IERJU1BQTEFORV9CR1JYNTU1OwogCQlicmVhazsK
KwljYXNlIERSTV9GT1JNQVRfQVJHQjE1NTU6CisJCWRzcGNudHIgfD0gRElTUFBMQU5FX0JHUkE1
NTU7CisJCWJyZWFrOwogCWNhc2UgRFJNX0ZPUk1BVF9SR0I1NjU6CiAJCWRzcGNudHIgfD0gRElT
UFBMQU5FX0JHUlg1NjU7CiAJCWJyZWFrOwpAQCAtMzcxNiwxMiArMzc0NCwyNCBAQCBzdGF0aWMg
dTMyIGk5eHhfcGxhbmVfY3RsKGNvbnN0IHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpjcnRjX3N0
YXRlLAogCWNhc2UgRFJNX0ZPUk1BVF9YQkdSODg4ODoKIAkJZHNwY250ciB8PSBESVNQUExBTkVf
UkdCWDg4ODsKIAkJYnJlYWs7CisJY2FzZSBEUk1fRk9STUFUX0FSR0I4ODg4OgorCQlkc3BjbnRy
IHw9IERJU1BQTEFORV9CR1JBODg4OworCQlicmVhazsKKwljYXNlIERSTV9GT1JNQVRfQUJHUjg4
ODg6CisJCWRzcGNudHIgfD0gRElTUFBMQU5FX1JHQkE4ODg7CisJCWJyZWFrOwogCWNhc2UgRFJN
X0ZPUk1BVF9YUkdCMjEwMTAxMDoKIAkJZHNwY250ciB8PSBESVNQUExBTkVfQkdSWDEwMTAxMDsK
IAkJYnJlYWs7CiAJY2FzZSBEUk1fRk9STUFUX1hCR1IyMTAxMDEwOgogCQlkc3BjbnRyIHw9IERJ
U1BQTEFORV9SR0JYMTAxMDEwOwogCQlicmVhazsKKwljYXNlIERSTV9GT1JNQVRfQVJHQjIxMDEw
MTA6CisJCWRzcGNudHIgfD0gRElTUFBMQU5FX0JHUkExMDEwMTA7CisJCWJyZWFrOworCWNhc2Ug
RFJNX0ZPUk1BVF9BQkdSMjEwMTAxMDoKKwkJZHNwY250ciB8PSBESVNQUExBTkVfUkdCQTEwMTAx
MDsKKwkJYnJlYWs7CiAJY2FzZSBEUk1fRk9STUFUX1hCR1IxNjE2MTYxNkY6CiAJCWRzcGNudHIg
fD0gRElTUFBMQU5FX1JHQlgxNjE2MTY7CiAJCWJyZWFrOwpAQCAtMTUyMTksOCArMTUyNTksMTIg
QEAgc3RhdGljIGJvb2wgaTk2NV9wbGFuZV9mb3JtYXRfbW9kX3N1cHBvcnRlZChzdHJ1Y3QgZHJt
X3BsYW5lICpfcGxhbmUsCiAJY2FzZSBEUk1fRk9STUFUX1JHQjU2NToKIAljYXNlIERSTV9GT1JN
QVRfWFJHQjg4ODg6CiAJY2FzZSBEUk1fRk9STUFUX1hCR1I4ODg4OgorCWNhc2UgRFJNX0ZPUk1B
VF9BUkdCODg4ODoKKwljYXNlIERSTV9GT1JNQVRfQUJHUjg4ODg6CiAJY2FzZSBEUk1fRk9STUFU
X1hSR0IyMTAxMDEwOgogCWNhc2UgRFJNX0ZPUk1BVF9YQkdSMjEwMTAxMDoKKwljYXNlIERSTV9G
T1JNQVRfQVJHQjIxMDEwMTA6CisJY2FzZSBEUk1fRk9STUFUX0FCR1IyMTAxMDEwOgogCWNhc2Ug
RFJNX0ZPUk1BVF9YQkdSMTYxNjE2MTZGOgogCQlyZXR1cm4gbW9kaWZpZXIgPT0gRFJNX0ZPUk1B
VF9NT0RfTElORUFSIHx8CiAJCQltb2RpZmllciA9PSBJOTE1X0ZPUk1BVF9NT0RfWF9USUxFRDsK
QEAgLTE1NDQxLDcgKzE1NDg1LDIwIEBAIGludGVsX3ByaW1hcnlfcGxhbmVfY3JlYXRlKHN0cnVj
dCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiwgZW51bSBwaXBlIHBpcGUpCiAJCWZiYy0+cG9z
c2libGVfZnJhbWVidWZmZXJfYml0cyB8PSBwbGFuZS0+ZnJvbnRidWZmZXJfYml0OwogCX0KIAot
CWlmIChJTlRFTF9HRU4oZGV2X3ByaXYpID49IDQpIHsKKwlpZiAoSVNfVkFMTEVZVklFVyhkZXZf
cHJpdikgfHwgSVNfQ0hFUlJZVklFVyhkZXZfcHJpdikpIHsKKwkJZm9ybWF0cyA9IHZsdl9wcmlt
YXJ5X2Zvcm1hdHM7CisJCW51bV9mb3JtYXRzID0gQVJSQVlfU0laRSh2bHZfcHJpbWFyeV9mb3Jt
YXRzKTsKKwkJbW9kaWZpZXJzID0gaTl4eF9mb3JtYXRfbW9kaWZpZXJzOworCisJCXBsYW5lLT5t
YXhfc3RyaWRlID0gaTl4eF9wbGFuZV9tYXhfc3RyaWRlOworCQlwbGFuZS0+dXBkYXRlX3BsYW5l
ID0gaTl4eF91cGRhdGVfcGxhbmU7CisJCXBsYW5lLT5kaXNhYmxlX3BsYW5lID0gaTl4eF9kaXNh
YmxlX3BsYW5lOworCQlwbGFuZS0+Z2V0X2h3X3N0YXRlID0gaTl4eF9wbGFuZV9nZXRfaHdfc3Rh
dGU7CisJCXBsYW5lLT5jaGVja19wbGFuZSA9IGk5eHhfcGxhbmVfY2hlY2s7CisJCXBsYW5lLT5t
aW5fY2RjbGsgPSB2bHZfcGxhbmVfbWluX2NkY2xrOworCisJCXBsYW5lX2Z1bmNzID0gJmk5NjVf
cGxhbmVfZnVuY3M7CisJfSBlbHNlIGlmIChJTlRFTF9HRU4oZGV2X3ByaXYpID49IDQpIHsKIAkJ
LyoKIAkJICogV2FGUDE2R2FtbWFFbmFibGluZzppdmIKIAkJICogIldvcmthcm91bmQgOiBXaGVu
IHVzaW5nIHRoZSA2NC1iaXQgZm9ybWF0LCB0aGUgcGxhbmUKQEAgLTE1NDYyLDYgKzE1NTE5LDcg
QEAgaW50ZWxfcHJpbWFyeV9wbGFuZV9jcmVhdGUoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRl
dl9wcml2LCBlbnVtIHBpcGUgcGlwZSkKIAkJCWZvcm1hdHMgPSBpOTY1X3ByaW1hcnlfZm9ybWF0
czsKIAkJCW51bV9mb3JtYXRzID0gQVJSQVlfU0laRShpOTY1X3ByaW1hcnlfZm9ybWF0cyk7CiAJ
CX0KKwogCQltb2RpZmllcnMgPSBpOXh4X2Zvcm1hdF9tb2RpZmllcnM7CiAKIAkJcGxhbmUtPm1h
eF9zdHJpZGUgPSBpOXh4X3BsYW5lX21heF9zdHJpZGU7CkBAIC0xNTQ3NCw4ICsxNTUzMiw2IEBA
IGludGVsX3ByaW1hcnlfcGxhbmVfY3JlYXRlKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZf
cHJpdiwgZW51bSBwaXBlIHBpcGUpCiAJCQlwbGFuZS0+bWluX2NkY2xrID0gaHN3X3BsYW5lX21p
bl9jZGNsazsKIAkJZWxzZSBpZiAoSVNfSVZZQlJJREdFKGRldl9wcml2KSkKIAkJCXBsYW5lLT5t
aW5fY2RjbGsgPSBpdmJfcGxhbmVfbWluX2NkY2xrOwotCQllbHNlIGlmIChJU19DSEVSUllWSUVX
KGRldl9wcml2KSB8fCBJU19WQUxMRVlWSUVXKGRldl9wcml2KSkKLQkJCXBsYW5lLT5taW5fY2Rj
bGsgPSB2bHZfcGxhbmVfbWluX2NkY2xrOwogCQllbHNlCiAJCQlwbGFuZS0+bWluX2NkY2xrID0g
aTl4eF9wbGFuZV9taW5fY2RjbGs7CiAKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1
L2k5MTVfcmVnLmggYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3JlZy5oCmluZGV4IDUzYzI4
MGM0ZTc0MS4uYjgxOTM5MmJhNzAwIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9p
OTE1X3JlZy5oCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfcmVnLmgKQEAgLTYzNTMs
NiArNjM1Myw3IEBAIGVudW0gewogI2RlZmluZSAgIERJU1BQTEFORV9SR0JYMTAxMDEwCQkJKDB4
OCA8PCAyNikKICNkZWZpbmUgICBESVNQUExBTkVfUkdCQTEwMTAxMAkJCSgweDkgPDwgMjYpCiAj
ZGVmaW5lICAgRElTUFBMQU5FX0JHUlgxMDEwMTAJCQkoMHhhIDw8IDI2KQorI2RlZmluZSAgIERJ
U1BQTEFORV9CR1JBMTAxMDEwCQkJKDB4YiA8PCAyNikKICNkZWZpbmUgICBESVNQUExBTkVfUkdC
WDE2MTYxNgkJCSgweGMgPDwgMjYpCiAjZGVmaW5lICAgRElTUFBMQU5FX1JHQlg4ODgJCQkoMHhl
IDw8IDI2KQogI2RlZmluZSAgIERJU1BQTEFORV9SR0JBODg4CQkJKDB4ZiA8PCAyNikKLS0gCjIu
MjMuMAoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KSW50
ZWwtZ2Z4IG1haWxpbmcgbGlzdApJbnRlbC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBz
Oi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vaW50ZWwtZ2Z4

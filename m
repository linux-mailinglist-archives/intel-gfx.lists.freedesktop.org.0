Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 47F9786750
	for <lists+intel-gfx@lfdr.de>; Thu,  8 Aug 2019 18:43:10 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id BA60B6E8A0;
	Thu,  8 Aug 2019 16:43:08 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga14.intel.com (mga14.intel.com [192.55.52.115])
 by gabe.freedesktop.org (Postfix) with ESMTPS id D7B7F6E8A0
 for <intel-gfx@lists.freedesktop.org>; Thu,  8 Aug 2019 16:43:07 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga008.jf.intel.com ([10.7.209.65])
 by fmsmga103.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 08 Aug 2019 09:43:07 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.64,362,1559545200"; d="scan'208";a="169043256"
Received: from dceraolo-linux.fm.intel.com (HELO [10.1.27.145]) ([10.1.27.145])
 by orsmga008.jf.intel.com with ESMTP; 08 Aug 2019 09:43:06 -0700
To: Mika Kuoppala <mika.kuoppala@linux.intel.com>,
 intel-gfx@lists.freedesktop.org
References: <20190808014423.20377-1-daniele.ceraolospurio@intel.com>
 <20190808014423.20377-2-daniele.ceraolospurio@intel.com>
 <87lfw3hkjz.fsf@gaia.fi.intel.com>
From: Daniele Ceraolo Spurio <daniele.ceraolospurio@intel.com>
Message-ID: <98aa3263-f0d4-e206-007d-1d156e8f1487@intel.com>
Date: Thu, 8 Aug 2019 09:43:00 -0700
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101
 Thunderbird/60.8.0
MIME-Version: 1.0
In-Reply-To: <87lfw3hkjz.fsf@gaia.fi.intel.com>
Content-Language: en-US
Subject: Re: [Intel-gfx] [RFC 1/3] drm/i915: split out uncore_mmio_debug
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

CgpPbiA4LzgvMTkgNjowOCBBTSwgTWlrYSBLdW9wcGFsYSB3cm90ZToKPiBEYW5pZWxlIENlcmFv
bG8gU3B1cmlvIDxkYW5pZWxlLmNlcmFvbG9zcHVyaW9AaW50ZWwuY29tPiB3cml0ZXM6Cj4gCj4+
IE11bHRpcGxlIHVuY29yZSBzdHJ1Y3R1cmVzIHdpbGwgc2hhcmUgdGhlIGRlYnVnIGluZnJhc3Ry
dWN0dXJlLCBzbwo+PiBtb3ZlIGl0IHRvIGEgY29tbW9uIHBsYWNlIGFuZCBhZGQgZXh0cmEgbG9j
a2luZyBhcm91bmQgaXQuCj4+IEFsc28sIHNpbmNlIHdlIG5vdyBoYXZlIGEgc2VwYXJhdGUgb2Jq
ZWN0LCBpdCBpcyBjbGVhbmVyIHRvIGhhdmUKPj4gZGVkaWNhdGVkIGZ1bmN0aW9ucyB3b3JraW5n
IG9uIHRoZSBvYmplY3QgdG8gc3RvcCBhbmQgcmVzdGFydCB0aGUKPj4gbW1pbyBkZWJ1Zy4gQXBh
cnQgZnJvbSB0aGUgY29zbWV0aWMgY2hhbmdlcywgdGhpcyBwYXRjaCBpbnRyb2R1Y2VzCj4+IDIg
ZnVuY3Rpb25hbCB1cGRhdGVzOgo+Pgo+PiAtIEFsbCBjYWxscyB0byBjaGVja19mb3JfdW5jbGFp
bWVkX21taW8gd2lsbCBub3cgcmV0dXJuIGZhbHNlIHdoZW4KPj4gICAgdGhlIGRlYnVnIGlzIHN1
c3BlbmRlZCwgbm90IGp1c3QgdGhlIG9uZXMgdGhhdCBhcmUgYWN0aXZlIG9ubHkgd2hlbgo+PiAg
ICBpOTE1X21vZHBhcmFtcy5tbWlvX2RlYnVnIGlzIHNldC4gSWYgd2UgZG9uJ3QgdHJ1c3QgdGhl
IHJlc3VsdCBvZiB0aGUKPj4gICAgY2hlY2sgd2hpbGUgYSB1c2VyIGlzIGRvaW5nIG1taW8gYWNj
ZXNzIHRoZW4gd2Ugc2hvdWxkbid0IGF0dGVtcHQgdGhlCj4+ICAgIGNoZWNrIGFueXdoZXJlLgo+
Pgo+PiAtIGk5MTVfbW9kcGFyYW1zLm1taW9fZGVidWcgaXMgbm90IHNhdmUvcmVzdG9yZWQgYW55
bW9yZSBhcm91bmQgdXNlcgo+PiAgICBhY2Nlc3MuIFRoZSB2YWx1ZSBpcyBub3cgbmV2ZXIgdG91
Y2hlZCBieSB0aGUga2VybmVsIHdoaWxlIGRlYnVnIGlzCj4+ICAgIGRpc2FibGVkIHNvIG5vIG5l
ZWQgZm9yIHNhdmUvcmVzdG9yZS4KPj4KPj4gdjI6IHNxdWFzaCBtbWlvX2RlYnVnIHBhdGNoZXMs
IHJlc3RyaWN0IG1taW9fZGVidWcgbG9jayB1c2FnZSAoQ2hyaXMpCj4+Cj4+IFNpZ25lZC1vZmYt
Ynk6IERhbmllbGUgQ2VyYW9sbyBTcHVyaW8gPGRhbmllbGUuY2VyYW9sb3NwdXJpb0BpbnRlbC5j
b20+Cj4+IENjOiBDaHJpcyBXaWxzb24gPGNocmlzQGNocmlzLXdpbHNvbi5jby51az4KPj4gLS0t
Cj4+ICAgZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kZWJ1Z2ZzLmMgfCAgMiArLQo+PiAgIGRy
aXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZHJ2LmMgICAgIHwgIDMgKy0KPj4gICBkcml2ZXJzL2dw
dS9kcm0vaTkxNS9pOTE1X2Rydi5oICAgICB8ICAxICsKPj4gICBkcml2ZXJzL2dwdS9kcm0vaTkx
NS9pbnRlbF91bmNvcmUuYyB8IDkxICsrKysrKysrKysrKysrKysrKysrLS0tLS0tLS0tCj4+ICAg
ZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfdW5jb3JlLmggfCAxOCArKystLS0KPj4gICA1IGZp
bGVzIGNoYW5nZWQsIDc5IGluc2VydGlvbnMoKyksIDM2IGRlbGV0aW9ucygtKQo+Pgo+PiBkaWZm
IC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kZWJ1Z2ZzLmMgYi9kcml2ZXJzL2dw
dS9kcm0vaTkxNS9pOTE1X2RlYnVnZnMuYwo+PiBpbmRleCAzYjE1MjY2YzU0ZmQuLjIzMTA1MTIx
MTFhYiAxMDA2NDQKPj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kZWJ1Z2ZzLmMK
Pj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kZWJ1Z2ZzLmMKPj4gQEAgLTExMjks
NyArMTEyOSw3IEBAIHN0YXRpYyBpbnQgaTkxNV9mb3JjZXdha2VfZG9tYWlucyhzdHJ1Y3Qgc2Vx
X2ZpbGUgKm0sIHZvaWQgKmRhdGEpCj4+ICAgCXVuc2lnbmVkIGludCB0bXA7Cj4+ICAgCj4+ICAg
CXNlcV9wcmludGYobSwgInVzZXIuYnlwYXNzX2NvdW50ID0gJXVcbiIsCj4+IC0JCSAgIHVuY29y
ZS0+dXNlcl9mb3JjZXdha2UuY291bnQpOwo+PiArCQkgICB1bmNvcmUtPnVzZXJfZm9yY2V3YWtl
X2NvdW50KTsKPj4gICAKPj4gICAJZm9yX2VhY2hfZndfZG9tYWluKGZ3X2RvbWFpbiwgdW5jb3Jl
LCB0bXApCj4+ICAgCQlzZXFfcHJpbnRmKG0sICIlcy53YWtlX2NvdW50ID0gJXVcbiIsCj4+IGRp
ZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2Rydi5jIGIvZHJpdmVycy9ncHUv
ZHJtL2k5MTUvaTkxNV9kcnYuYwo+PiBpbmRleCAzNDgwZGIzNmI2M2YuLmZiYmZmNGExMzNiYSAx
MDA2NDQKPj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kcnYuYwo+PiArKysgYi9k
cml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2Rydi5jCj4+IEBAIC03NDQsNiArNzQ0LDcgQEAgc3Rh
dGljIGludCBpOTE1X2RyaXZlcl9lYXJseV9wcm9iZShzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAq
ZGV2X3ByaXYpCj4+ICAgCj4+ICAgCWludGVsX2RldmljZV9pbmZvX3N1YnBsYXRmb3JtX2luaXQo
ZGV2X3ByaXYpOwo+PiAgIAo+PiArCWludGVsX3VuY29yZV9tbWlvX2RlYnVnX2luaXRfZWFybHko
JmRldl9wcml2LT5tbWlvX2RlYnVnKTsKPj4gICAJaW50ZWxfdW5jb3JlX2luaXRfZWFybHkoJmRl
dl9wcml2LT51bmNvcmUsIGRldl9wcml2KTsKPj4gICAKPj4gICAJc3Bpbl9sb2NrX2luaXQoJmRl
dl9wcml2LT5pcnFfbG9jayk7Cj4+IEBAIC0yMDQ0LDcgKzIwNDUsNyBAQCBzdGF0aWMgaW50IGk5
MTVfZHJtX3N1c3BlbmRfbGF0ZShzdHJ1Y3QgZHJtX2RldmljZSAqZGV2LCBib29sIGhpYmVybmF0
aW9uKQo+PiAgIAo+PiAgIG91dDoKPj4gICAJZW5hYmxlX3JwbV93YWtlcmVmX2Fzc2VydHMocnBt
KTsKPj4gLQlpZiAoIWRldl9wcml2LT51bmNvcmUudXNlcl9mb3JjZXdha2UuY291bnQpCj4+ICsJ
aWYgKCFkZXZfcHJpdi0+dW5jb3JlLnVzZXJfZm9yY2V3YWtlX2NvdW50KQo+PiAgIAkJaW50ZWxf
cnVudGltZV9wbV9kcml2ZXJfcmVsZWFzZShycG0pOwo+PiAgIAo+PiAgIAlyZXR1cm4gcmV0Owo+
PiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kcnYuaCBiL2RyaXZlcnMv
Z3B1L2RybS9pOTE1L2k5MTVfZHJ2LmgKPj4gaW5kZXggYzk0NzZmMjRmNWMxLi4xM2MyN2E3NWRj
YTggMTAwNjQ0Cj4+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZHJ2LmgKPj4gKysr
IGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kcnYuaAo+PiBAQCAtMTM0Niw2ICsxMzQ2LDcg
QEAgc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgewo+PiAgIAlyZXNvdXJjZV9zaXplX3Qgc3RvbGVu
X3VzYWJsZV9zaXplOwkvKiBUb3RhbCBzaXplIG1pbnVzIHJlc2VydmVkIHJhbmdlcyAqLwo+PiAg
IAo+PiAgIAlzdHJ1Y3QgaW50ZWxfdW5jb3JlIHVuY29yZTsKPj4gKwlzdHJ1Y3QgaW50ZWxfdW5j
b3JlX21taW9fZGVidWcgbW1pb19kZWJ1ZzsKPj4gICAKPj4gICAJc3RydWN0IGk5MTVfdmlydHVh
bF9ncHUgdmdwdTsKPj4gICAKPj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2lu
dGVsX3VuY29yZS5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfdW5jb3JlLmMKPj4gaW5k
ZXggMzllODcxMGFmZGQ5Li45ZTU4M2YxM2E5ZTQgMTAwNjQ0Cj4+IC0tLSBhL2RyaXZlcnMvZ3B1
L2RybS9pOTE1L2ludGVsX3VuY29yZS5jCj4+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2lu
dGVsX3VuY29yZS5jCj4+IEBAIC0zNCw2ICszNCwzMiBAQAo+PiAgIAo+PiAgICNkZWZpbmUgX19y
YXdfcG9zdGluZ19yZWFkKC4uLikgKCh2b2lkKV9fcmF3X3VuY29yZV9yZWFkMzIoX19WQV9BUkdT
X18pKQo+PiAgIAo+PiArdm9pZAo+PiAraW50ZWxfdW5jb3JlX21taW9fZGVidWdfaW5pdF9lYXJs
eShzdHJ1Y3QgaW50ZWxfdW5jb3JlX21taW9fZGVidWcgKm1taW9fZGVidWcpCj4+ICt7Cj4+ICsJ
c3Bpbl9sb2NrX2luaXQoJm1taW9fZGVidWctPmxvY2spOwo+PiArCW1taW9fZGVidWctPnVuY2xh
aW1lZF9tbWlvX2NoZWNrID0gMTsKPj4gK30KPj4gKwo+PiArc3RhdGljIHZvaWQgbW1pb19kZWJ1
Z19zdXNwZW5kKHN0cnVjdCBpbnRlbF91bmNvcmVfbW1pb19kZWJ1ZyAqbW1pb19kZWJ1ZykKPj4g
K3sKPj4gKwlsb2NrZGVwX2Fzc2VydF9oZWxkKCZtbWlvX2RlYnVnLT5sb2NrKTsKPj4gKwo+PiAr
CS8qIFNhdmUgYW5kIGRpc2FibGUgbW1pbyBkZWJ1Z2dpbmcgZm9yIHRoZSB1c2VyIGJ5cGFzcyAq
Lwo+PiArCWlmICghbW1pb19kZWJ1Zy0+c3VzcGVuZF9jb3VudCsrKSB7Cj4+ICsJCW1taW9fZGVi
dWctPnNhdmVkX21taW9fY2hlY2sgPSBtbWlvX2RlYnVnLT51bmNsYWltZWRfbW1pb19jaGVjazsK
Pj4gKwkJbW1pb19kZWJ1Zy0+dW5jbGFpbWVkX21taW9fY2hlY2sgPSAwOwo+PiArCX0KPj4gK30K
Pj4gKwo+PiArc3RhdGljIHZvaWQgbW1pb19kZWJ1Z19yZXN1bWUoc3RydWN0IGludGVsX3VuY29y
ZV9tbWlvX2RlYnVnICptbWlvX2RlYnVnKQo+PiArewo+PiArCWxvY2tkZXBfYXNzZXJ0X2hlbGQo
Jm1taW9fZGVidWctPmxvY2spOwo+PiArCj4+ICsJaWYgKCEtLW1taW9fZGVidWctPnN1c3BlbmRf
Y291bnQpCj4+ICsJCW1taW9fZGVidWctPnVuY2xhaW1lZF9tbWlvX2NoZWNrID0gbW1pb19kZWJ1
Zy0+c2F2ZWRfbW1pb19jaGVjazsKPj4gK30KPj4gKwo+PiAgIHN0YXRpYyBjb25zdCBjaGFyICog
Y29uc3QgZm9yY2V3YWtlX2RvbWFpbl9uYW1lc1tdID0gewo+PiAgIAkicmVuZGVyIiwKPj4gICAJ
ImJsaXR0ZXIiLAo+PiBAQCAtNDc2LDYgKzUwMiwxMSBAQCBjaGVja19mb3JfdW5jbGFpbWVkX21t
aW8oc3RydWN0IGludGVsX3VuY29yZSAqdW5jb3JlKQo+PiAgIHsKPj4gICAJYm9vbCByZXQgPSBm
YWxzZTsKPj4gICAKPj4gKwlsb2NrZGVwX2Fzc2VydF9oZWxkKCZ1bmNvcmUtPmRlYnVnLT5sb2Nr
KTsKPj4gKwo+PiArCWlmICh1bmNvcmUtPmRlYnVnLT5zdXNwZW5kX2NvdW50KQo+PiArCQlyZXR1
cm4gZmFsc2U7Cj4+ICsKPj4gICAJaWYgKGludGVsX3VuY29yZV9oYXNfZnBnYV9kYmdfdW5jbGFp
bWVkKHVuY29yZSkpCj4+ICAgCQlyZXQgfD0gZnBnYV9jaGVja19mb3JfdW5jbGFpbWVkX21taW8o
dW5jb3JlKTsKPj4gICAKPj4gQEAgLTYwOCwxNyArNjM5LDExIEBAIHZvaWQgaW50ZWxfdW5jb3Jl
X2ZvcmNld2FrZV9nZXQoc3RydWN0IGludGVsX3VuY29yZSAqdW5jb3JlLAo+PiAgIHZvaWQgaW50
ZWxfdW5jb3JlX2ZvcmNld2FrZV91c2VyX2dldChzdHJ1Y3QgaW50ZWxfdW5jb3JlICp1bmNvcmUp
Cj4+ICAgewo+PiAgIAlzcGluX2xvY2tfaXJxKCZ1bmNvcmUtPmxvY2spOwo+PiAtCWlmICghdW5j
b3JlLT51c2VyX2ZvcmNld2FrZS5jb3VudCsrKSB7Cj4+ICsJaWYgKCF1bmNvcmUtPnVzZXJfZm9y
Y2V3YWtlX2NvdW50KyspIHsKPj4gICAJCWludGVsX3VuY29yZV9mb3JjZXdha2VfZ2V0X19sb2Nr
ZWQodW5jb3JlLCBGT1JDRVdBS0VfQUxMKTsKPj4gLQo+PiAtCQkvKiBTYXZlIGFuZCBkaXNhYmxl
IG1taW8gZGVidWdnaW5nIGZvciB0aGUgdXNlciBieXBhc3MgKi8KPj4gLQkJdW5jb3JlLT51c2Vy
X2ZvcmNld2FrZS5zYXZlZF9tbWlvX2NoZWNrID0KPj4gLQkJCXVuY29yZS0+dW5jbGFpbWVkX21t
aW9fY2hlY2s7Cj4+IC0JCXVuY29yZS0+dXNlcl9mb3JjZXdha2Uuc2F2ZWRfbW1pb19kZWJ1ZyA9
Cj4+IC0JCQlpOTE1X21vZHBhcmFtcy5tbWlvX2RlYnVnOwo+PiAtCj4+IC0JCXVuY29yZS0+dW5j
bGFpbWVkX21taW9fY2hlY2sgPSAwOwo+PiAtCQlpOTE1X21vZHBhcmFtcy5tbWlvX2RlYnVnID0g
MDsKPj4gKwkJc3Bpbl9sb2NrKCZ1bmNvcmUtPmRlYnVnLT5sb2NrKTsKPiAKPiBGb3IgbWUgaXQg
bG9va3MgbGlrZSB5b3UgbmVlZCBzcGluX2xvY2tfaXJxIGhlcmUgYWxzbwo+IGxpa2Ugd2l0aCB0
aGUgcGFyZW50IGxvY2sgYWJvdmUuCgpUaGUgcGFyZW50IGxvY2sgc2hvdWxkIGVuc3VyZSB0aGF0
IHRoZSBpcnFzIGFyZSBhbHJlYWR5IG9mZiBhdCB0aGlzIApwb2ludCwgc28gbm8gbmVlZCB0byBk
aXNhYmxlIHRoZW0gdHdpY2UuIEFsc28sIHNwaW5fdW5sb2NrX2lycSBjYW4ndCBiZSAKY2FsbGVk
IHR3aWNlIGJlY2F1c2UgdGhlIGZpcnN0IG9mIHRoZSAyIGNhbGxzIHdvdWxkIHJlLWVuYWJsZSBp
bnRlcnJ1cHRzIAp3aGlsZSB0aGUgc2Vjb25kIGxvY2sgaXMgc3RpbGwgdGFrZW4uIElycWZsYWdz
IHdvdWxkIHNvbHZlIHRoYXQsIGJ1dCAKc3RpbGwgd291bGRuJ3QgZ2l2ZSBhbnkgYmVuZWZpdCBj
b21wYXJlZCB0byBhIHN0cmFpZ2h0IGxvY2sgSU1PLgoKRGFuaWVsZQoKPiAtTWlrYQo+IAo+PiAr
CQltbWlvX2RlYnVnX3N1c3BlbmQodW5jb3JlLT5kZWJ1Zyk7Cj4+ICsJCXNwaW5fdW5sb2NrKCZ1
bmNvcmUtPmRlYnVnLT5sb2NrKTsKPj4gICAJfQo+PiAgIAlzcGluX3VubG9ja19pcnEoJnVuY29y
ZS0+bG9jayk7Cj4+ICAgfQo+PiBAQCAtNjMzLDE1ICs2NTgsMTQgQEAgdm9pZCBpbnRlbF91bmNv
cmVfZm9yY2V3YWtlX3VzZXJfZ2V0KHN0cnVjdCBpbnRlbF91bmNvcmUgKnVuY29yZSkKPj4gICB2
b2lkIGludGVsX3VuY29yZV9mb3JjZXdha2VfdXNlcl9wdXQoc3RydWN0IGludGVsX3VuY29yZSAq
dW5jb3JlKQo+PiAgIHsKPj4gICAJc3Bpbl9sb2NrX2lycSgmdW5jb3JlLT5sb2NrKTsKPj4gLQlp
ZiAoIS0tdW5jb3JlLT51c2VyX2ZvcmNld2FrZS5jb3VudCkgewo+PiAtCQlpZiAoaW50ZWxfdW5j
b3JlX3VuY2xhaW1lZF9tbWlvKHVuY29yZSkpCj4+ICsJaWYgKCEtLXVuY29yZS0+dXNlcl9mb3Jj
ZXdha2VfY291bnQpIHsKPj4gKwkJc3Bpbl9sb2NrKCZ1bmNvcmUtPmRlYnVnLT5sb2NrKTsKPj4g
KwkJbW1pb19kZWJ1Z19yZXN1bWUodW5jb3JlLT5kZWJ1Zyk7Cj4+ICsKPj4gKwkJaWYgKGNoZWNr
X2Zvcl91bmNsYWltZWRfbW1pbyh1bmNvcmUpKQo+PiAgIAkJCWRldl9pbmZvKHVuY29yZS0+aTkx
NS0+ZHJtLmRldiwKPj4gICAJCQkJICJJbnZhbGlkIG1taW8gZGV0ZWN0ZWQgZHVyaW5nIHVzZXIg
YWNjZXNzXG4iKTsKPj4gLQo+PiAtCQl1bmNvcmUtPnVuY2xhaW1lZF9tbWlvX2NoZWNrID0KPj4g
LQkJCXVuY29yZS0+dXNlcl9mb3JjZXdha2Uuc2F2ZWRfbW1pb19jaGVjazsKPj4gLQkJaTkxNV9t
b2RwYXJhbXMubW1pb19kZWJ1ZyA9Cj4+IC0JCQl1bmNvcmUtPnVzZXJfZm9yY2V3YWtlLnNhdmVk
X21taW9fZGVidWc7Cj4+ICsJCXNwaW5fdW5sb2NrKCZ1bmNvcmUtPmRlYnVnLT5sb2NrKTsKPj4g
ICAKPj4gICAJCWludGVsX3VuY29yZV9mb3JjZXdha2VfcHV0X19sb2NrZWQodW5jb3JlLCBGT1JD
RVdBS0VfQUxMKTsKPj4gICAJfQo+PiBAQCAtMTA4OCw3ICsxMTEyLDE2IEBAIHVuY2xhaW1lZF9y
ZWdfZGVidWcoc3RydWN0IGludGVsX3VuY29yZSAqdW5jb3JlLAo+PiAgIAlpZiAobGlrZWx5KCFp
OTE1X21vZHBhcmFtcy5tbWlvX2RlYnVnKSkKPj4gICAJCXJldHVybjsKPj4gICAKPj4gKwkvKiBp
bnRlcnJ1cHRzIGFyZSBkaXNhYmxlZCBhbmQgcmUtZW5hYmxlZCBhcm91bmQgdW5jb3JlLT5sb2Nr
IHVzYWdlICovCj4+ICsJbG9ja2RlcF9hc3NlcnRfaGVsZCgmdW5jb3JlLT5sb2NrKTsKPj4gKwo+
PiArCWlmIChiZWZvcmUpCj4+ICsJCXNwaW5fbG9jaygmdW5jb3JlLT5kZWJ1Zy0+bG9jayk7Cj4+
ICsKPj4gICAJX191bmNsYWltZWRfcmVnX2RlYnVnKHVuY29yZSwgcmVnLCByZWFkLCBiZWZvcmUp
Owo+PiArCj4+ICsJaWYgKCFiZWZvcmUpCj4+ICsJCXNwaW5fdW5sb2NrKCZ1bmNvcmUtPmRlYnVn
LT5sb2NrKTsKPj4gICB9Cj4+ICAgCj4+ICAgI2RlZmluZSBHRU4yX1JFQURfSEVBREVSKHgpIFwK
Pj4gQEAgLTE2MDcsNiArMTY0MCw3IEBAIHZvaWQgaW50ZWxfdW5jb3JlX2luaXRfZWFybHkoc3Ry
dWN0IGludGVsX3VuY29yZSAqdW5jb3JlLAo+PiAgIAlzcGluX2xvY2tfaW5pdCgmdW5jb3JlLT5s
b2NrKTsKPj4gICAJdW5jb3JlLT5pOTE1ID0gaTkxNTsKPj4gICAJdW5jb3JlLT5ycG0gPSAmaTkx
NS0+cnVudGltZV9wbTsKPj4gKwl1bmNvcmUtPmRlYnVnID0gJmk5MTUtPm1taW9fZGVidWc7Cj4+
ICAgfQo+PiAgIAo+PiAgIHN0YXRpYyB2b2lkIHVuY29yZV9yYXdfaW5pdChzdHJ1Y3QgaW50ZWxf
dW5jb3JlICp1bmNvcmUpCj4+IEBAIC0xNjMyLDcgKzE2NjYsNiBAQCBzdGF0aWMgaW50IHVuY29y
ZV9mb3JjZXdha2VfaW5pdChzdHJ1Y3QgaW50ZWxfdW5jb3JlICp1bmNvcmUpCj4+ICAgCXJldCA9
IGludGVsX3VuY29yZV9md19kb21haW5zX2luaXQodW5jb3JlKTsKPj4gICAJaWYgKHJldCkKPj4g
ICAJCXJldHVybiByZXQ7Cj4+IC0KPj4gICAJZm9yY2V3YWtlX2Vhcmx5X3Nhbml0aXplKHVuY29y
ZSwgMCk7Cj4+ICAgCj4+ICAgCWlmIChJU19HRU5fUkFOR0UoaTkxNSwgNiwgNykpIHsKPj4gQEAg
LTE2ODEsOCArMTcxNCw2IEBAIGludCBpbnRlbF91bmNvcmVfaW5pdF9tbWlvKHN0cnVjdCBpbnRl
bF91bmNvcmUgKnVuY29yZSkKPj4gICAJaWYgKElOVEVMX0dFTihpOTE1KSA+IDUgJiYgIWludGVs
X3ZncHVfYWN0aXZlKGk5MTUpKQo+PiAgIAkJdW5jb3JlLT5mbGFncyB8PSBVTkNPUkVfSEFTX0ZP
UkNFV0FLRTsKPj4gICAKPj4gLQl1bmNvcmUtPnVuY2xhaW1lZF9tbWlvX2NoZWNrID0gMTsKPj4g
LQo+PiAgIAlpZiAoIWludGVsX3VuY29yZV9oYXNfZm9yY2V3YWtlKHVuY29yZSkpIHsKPj4gICAJ
CXVuY29yZV9yYXdfaW5pdCh1bmNvcmUpOwo+PiAgIAl9IGVsc2Ugewo+PiBAQCAtMTcwNyw3ICsx
NzM4LDcgQEAgaW50IGludGVsX3VuY29yZV9pbml0X21taW8oc3RydWN0IGludGVsX3VuY29yZSAq
dW5jb3JlKQo+PiAgIAkJdW5jb3JlLT5mbGFncyB8PSBVTkNPUkVfSEFTX0ZJRk87Cj4+ICAgCj4+
ICAgCS8qIGNsZWFyIG91dCB1bmNsYWltZWQgcmVnIGRldGVjdGlvbiBiaXQgKi8KPj4gLQlpZiAo
Y2hlY2tfZm9yX3VuY2xhaW1lZF9tbWlvKHVuY29yZSkpCj4+ICsJaWYgKGludGVsX3VuY29yZV91
bmNsYWltZWRfbW1pbyh1bmNvcmUpKQo+PiAgIAkJRFJNX0RFQlVHKCJ1bmNsYWltZWQgbW1pbyBk
ZXRlY3RlZCBvbiB1bmNvcmUgaW5pdCwgY2xlYXJpbmdcbiIpOwo+PiAgIAo+PiAgIAlyZXR1cm4g
MDsKPj4gQEAgLTE5NTIsNyArMTk4MywxMyBAQCBpbnQgX19pbnRlbF93YWl0X2Zvcl9yZWdpc3Rl
cihzdHJ1Y3QgaW50ZWxfdW5jb3JlICp1bmNvcmUsCj4+ICAgCj4+ICAgYm9vbCBpbnRlbF91bmNv
cmVfdW5jbGFpbWVkX21taW8oc3RydWN0IGludGVsX3VuY29yZSAqdW5jb3JlKQo+PiAgIHsKPj4g
LQlyZXR1cm4gY2hlY2tfZm9yX3VuY2xhaW1lZF9tbWlvKHVuY29yZSk7Cj4+ICsJYm9vbCByZXQ7
Cj4+ICsKPj4gKwlzcGluX2xvY2tfaXJxKCZ1bmNvcmUtPmRlYnVnLT5sb2NrKTsKPj4gKwlyZXQg
PSBjaGVja19mb3JfdW5jbGFpbWVkX21taW8odW5jb3JlKTsKPj4gKwlzcGluX3VubG9ja19pcnEo
JnVuY29yZS0+ZGVidWctPmxvY2spOwo+PiArCj4+ICsJcmV0dXJuIHJldDsKPj4gICB9Cj4+ICAg
Cj4+ICAgYm9vbAo+PiBAQCAtMTk2MCwyNCArMTk5NywyNCBAQCBpbnRlbF91bmNvcmVfYXJtX3Vu
Y2xhaW1lZF9tbWlvX2RldGVjdGlvbihzdHJ1Y3QgaW50ZWxfdW5jb3JlICp1bmNvcmUpCj4+ICAg
ewo+PiAgIAlib29sIHJldCA9IGZhbHNlOwo+PiAgIAo+PiAtCXNwaW5fbG9ja19pcnEoJnVuY29y
ZS0+bG9jayk7Cj4+ICsJc3Bpbl9sb2NrX2lycSgmdW5jb3JlLT5kZWJ1Zy0+bG9jayk7Cj4+ICAg
Cj4+IC0JaWYgKHVubGlrZWx5KHVuY29yZS0+dW5jbGFpbWVkX21taW9fY2hlY2sgPD0gMCkpCj4+
ICsJaWYgKHVubGlrZWx5KHVuY29yZS0+ZGVidWctPnVuY2xhaW1lZF9tbWlvX2NoZWNrIDw9IDAp
KQo+PiAgIAkJZ290byBvdXQ7Cj4+ICAgCj4+IC0JaWYgKHVubGlrZWx5KGludGVsX3VuY29yZV91
bmNsYWltZWRfbW1pbyh1bmNvcmUpKSkgewo+PiArCWlmICh1bmxpa2VseShjaGVja19mb3JfdW5j
bGFpbWVkX21taW8odW5jb3JlKSkpIHsKPj4gICAJCWlmICghaTkxNV9tb2RwYXJhbXMubW1pb19k
ZWJ1Zykgewo+PiAgIAkJCURSTV9ERUJVRygiVW5jbGFpbWVkIHJlZ2lzdGVyIGRldGVjdGVkLCAi
Cj4+ICAgCQkJCSAgImVuYWJsaW5nIG9uZXNob3QgdW5jbGFpbWVkIHJlZ2lzdGVyIHJlcG9ydGlu
Zy4gIgo+PiAgIAkJCQkgICJQbGVhc2UgdXNlIGk5MTUubW1pb19kZWJ1Zz1OIGZvciBtb3JlIGlu
Zm9ybWF0aW9uLlxuIik7Cj4+ICAgCQkJaTkxNV9tb2RwYXJhbXMubW1pb19kZWJ1ZysrOwo+PiAg
IAkJfQo+PiAtCQl1bmNvcmUtPnVuY2xhaW1lZF9tbWlvX2NoZWNrLS07Cj4+ICsJCXVuY29yZS0+
ZGVidWctPnVuY2xhaW1lZF9tbWlvX2NoZWNrLS07Cj4+ICAgCQlyZXQgPSB0cnVlOwo+PiAgIAl9
Cj4+ICAgCj4+ICAgb3V0Ogo+PiAtCXNwaW5fdW5sb2NrX2lycSgmdW5jb3JlLT5sb2NrKTsKPj4g
KwlzcGluX3VubG9ja19pcnEoJnVuY29yZS0+ZGVidWctPmxvY2spOwo+PiAgIAo+PiAgIAlyZXR1
cm4gcmV0Owo+PiAgIH0KPj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVs
X3VuY29yZS5oIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfdW5jb3JlLmgKPj4gaW5kZXgg
ZTYwM2QyMTBhMzRkLi40MTRmYzJjYjA0NTkgMTAwNjQ0Cj4+IC0tLSBhL2RyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2ludGVsX3VuY29yZS5oCj4+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVs
X3VuY29yZS5oCj4+IEBAIC0zNiw2ICszNiwxMyBAQCBzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZTsK
Pj4gICBzdHJ1Y3QgaW50ZWxfcnVudGltZV9wbTsKPj4gICBzdHJ1Y3QgaW50ZWxfdW5jb3JlOwo+
PiAgIAo+PiArc3RydWN0IGludGVsX3VuY29yZV9tbWlvX2RlYnVnIHsKPj4gKwlzcGlubG9ja190
IGxvY2s7IC8qKiBsb2NrIGlzIGFsc28gdGFrZW4gaW4gaXJxIGNvbnRleHRzLiAqLwo+PiArCWlu
dCB1bmNsYWltZWRfbW1pb19jaGVjazsKPj4gKwlpbnQgc2F2ZWRfbW1pb19jaGVjazsKPj4gKwl1
MzIgc3VzcGVuZF9jb3VudDsKPj4gK307Cj4+ICsKPj4gICBlbnVtIGZvcmNld2FrZV9kb21haW5f
aWQgewo+PiAgIAlGV19ET01BSU5fSURfUkVOREVSID0gMCwKPj4gICAJRldfRE9NQUlOX0lEX0JM
SVRURVIsCj4+IEBAIC0xMzcsMTQgKzE0NCw5IEBAIHN0cnVjdCBpbnRlbF91bmNvcmUgewo+PiAg
IAkJdTMyIF9faW9tZW0gKnJlZ19hY2s7Cj4+ICAgCX0gKmZ3X2RvbWFpbltGV19ET01BSU5fSURf
Q09VTlRdOwo+PiAgIAo+PiAtCXN0cnVjdCB7Cj4+IC0JCXVuc2lnbmVkIGludCBjb3VudDsKPj4g
LQo+PiAtCQlpbnQgc2F2ZWRfbW1pb19jaGVjazsKPj4gLQkJaW50IHNhdmVkX21taW9fZGVidWc7
Cj4+IC0JfSB1c2VyX2ZvcmNld2FrZTsKPj4gKwl1bnNpZ25lZCBpbnQgdXNlcl9mb3JjZXdha2Vf
Y291bnQ7Cj4+ICAgCj4+IC0JaW50IHVuY2xhaW1lZF9tbWlvX2NoZWNrOwo+PiArCXN0cnVjdCBp
bnRlbF91bmNvcmVfbW1pb19kZWJ1ZyAqZGVidWc7Cj4+ICAgfTsKPj4gICAKPj4gICAvKiBJdGVy
YXRlIG92ZXIgaW5pdGlhbGlzZWQgZncgZG9tYWlucyAqLwo+PiBAQCAtMTc5LDYgKzE4MSw4IEBA
IGludGVsX3VuY29yZV9oYXNfZmlmbyhjb25zdCBzdHJ1Y3QgaW50ZWxfdW5jb3JlICp1bmNvcmUp
Cj4+ICAgCXJldHVybiB1bmNvcmUtPmZsYWdzICYgVU5DT1JFX0hBU19GSUZPOwo+PiAgIH0KPj4g
ICAKPj4gK3ZvaWQKPj4gK2ludGVsX3VuY29yZV9tbWlvX2RlYnVnX2luaXRfZWFybHkoc3RydWN0
IGludGVsX3VuY29yZV9tbWlvX2RlYnVnICptbWlvX2RlYnVnKTsKPj4gICB2b2lkIGludGVsX3Vu
Y29yZV9pbml0X2Vhcmx5KHN0cnVjdCBpbnRlbF91bmNvcmUgKnVuY29yZSwKPj4gICAJCQkgICAg
IHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICppOTE1KTsKPj4gICBpbnQgaW50ZWxfdW5jb3JlX2lu
aXRfbW1pbyhzdHJ1Y3QgaW50ZWxfdW5jb3JlICp1bmNvcmUpOwo+PiAtLSAKPj4gMi4yMi4wCj4+
Cj4+IF9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCj4+IElu
dGVsLWdmeCBtYWlsaW5nIGxpc3QKPj4gSW50ZWwtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwo+
PiBodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2ludGVsLWdm
eApfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpJbnRlbC1n
ZnggbWFpbGluZyBsaXN0CkludGVsLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9s
aXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9pbnRlbC1nZng=

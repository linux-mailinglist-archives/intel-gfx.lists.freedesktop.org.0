Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 6241442ED2
	for <lists+intel-gfx@lfdr.de>; Wed, 12 Jun 2019 20:38:13 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 4C8D089824;
	Wed, 12 Jun 2019 18:38:11 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga11.intel.com (mga11.intel.com [192.55.52.93])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 8BE5F89824
 for <intel-gfx@lists.freedesktop.org>; Wed, 12 Jun 2019 18:38:10 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from fmsmga005.fm.intel.com ([10.253.24.32])
 by fmsmga102.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 12 Jun 2019 11:38:10 -0700
X-ExtLoop1: 1
Received: from dceraolo-linux.fm.intel.com ([10.1.27.145])
 by fmsmga005.fm.intel.com with ESMTP; 12 Jun 2019 11:38:10 -0700
From: Daniele Ceraolo Spurio <daniele.ceraolospurio@intel.com>
To: intel-gfx@lists.freedesktop.org
Date: Wed, 12 Jun 2019 11:37:42 -0700
Message-Id: <20190612183748.7693-4-daniele.ceraolospurio@intel.com>
X-Mailer: git-send-email 2.20.1
In-Reply-To: <20190612183748.7693-1-daniele.ceraolospurio@intel.com>
References: <20190612183748.7693-1-daniele.ceraolospurio@intel.com>
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH v2 3/8] drm/i915: make enable/disable rpm assert
 function use the rpm structure
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

V2l0aCB0aGlzIGFsbCB0aGUgcnBtIGFzc2VydC1yZWxhdGVkIGZ1bmN0aW9ucyBjb25zaXN0ZW50
bHkgd29yayBvbgp0aGUgaTkxNV9ydW50aW1lX3BtIHN0cnVjdHVyZQoKU2lnbmVkLW9mZi1ieTog
RGFuaWVsZSBDZXJhb2xvIFNwdXJpbyA8ZGFuaWVsZS5jZXJhb2xvc3B1cmlvQGludGVsLmNvbT4K
LS0tCiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2Rydi5jICAgICB8IDQ4ICsrKysrKysrKysr
KysrKy0tLS0tLS0tLS0tLS0tCiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2lycS5jICAgICB8
IDMyICsrKysrKysrKy0tLS0tLS0tLS0KIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX2Rydi5o
ICAgIHwgMTIgKysrKy0tLS0KIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX3VuY29yZS5jIHwg
MTIgKysrKy0tLS0KIDQgZmlsZXMgY2hhbmdlZCwgNTMgaW5zZXJ0aW9ucygrKSwgNTEgZGVsZXRp
b25zKC0pCgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kcnYuYyBiL2Ry
aXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZHJ2LmMKaW5kZXggMWFmNjc1MWUxYjM2Li5hY2Q3MGYw
MGM4OGIgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZHJ2LmMKKysrIGIv
ZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kcnYuYwpAQCAtMTg5MCw3ICsxODkwLDcgQEAgaW50
IGk5MTVfZHJpdmVyX2xvYWQoc3RydWN0IHBjaV9kZXYgKnBkZXYsIGNvbnN0IHN0cnVjdCBwY2lf
ZGV2aWNlX2lkICplbnQpCiAJaWYgKHJldCA8IDApCiAJCWdvdG8gb3V0X3BjaV9kaXNhYmxlOwog
Ci0JZGlzYWJsZV9ycG1fd2FrZXJlZl9hc3NlcnRzKGRldl9wcml2KTsKKwlkaXNhYmxlX3JwbV93
YWtlcmVmX2Fzc2VydHMoJmRldl9wcml2LT5ydW50aW1lX3BtKTsKIAogCXJldCA9IGk5MTVfZHJp
dmVyX2luaXRfbW1pbyhkZXZfcHJpdik7CiAJaWYgKHJldCA8IDApCkBAIC0xOTA2LDcgKzE5MDYs
NyBAQCBpbnQgaTkxNV9kcml2ZXJfbG9hZChzdHJ1Y3QgcGNpX2RldiAqcGRldiwgY29uc3Qgc3Ry
dWN0IHBjaV9kZXZpY2VfaWQgKmVudCkKIAogCWk5MTVfZHJpdmVyX3JlZ2lzdGVyKGRldl9wcml2
KTsKIAotCWVuYWJsZV9ycG1fd2FrZXJlZl9hc3NlcnRzKGRldl9wcml2KTsKKwllbmFibGVfcnBt
X3dha2VyZWZfYXNzZXJ0cygmZGV2X3ByaXYtPnJ1bnRpbWVfcG0pOwogCiAJaTkxNV93ZWxjb21l
X21lc3NhZ2VzKGRldl9wcml2KTsKIApAQCAtMTkxOCw3ICsxOTE4LDcgQEAgaW50IGk5MTVfZHJp
dmVyX2xvYWQoc3RydWN0IHBjaV9kZXYgKnBkZXYsIGNvbnN0IHN0cnVjdCBwY2lfZGV2aWNlX2lk
ICplbnQpCiBvdXRfY2xlYW51cF9tbWlvOgogCWk5MTVfZHJpdmVyX2NsZWFudXBfbW1pbyhkZXZf
cHJpdik7CiBvdXRfcnVudGltZV9wbV9wdXQ6Ci0JZW5hYmxlX3JwbV93YWtlcmVmX2Fzc2VydHMo
ZGV2X3ByaXYpOworCWVuYWJsZV9ycG1fd2FrZXJlZl9hc3NlcnRzKCZkZXZfcHJpdi0+cnVudGlt
ZV9wbSk7CiAJaTkxNV9kcml2ZXJfY2xlYW51cF9lYXJseShkZXZfcHJpdik7CiBvdXRfcGNpX2Rp
c2FibGU6CiAJcGNpX2Rpc2FibGVfZGV2aWNlKHBkZXYpOwpAQCAtMTkzMyw3ICsxOTMzLDcgQEAg
dm9pZCBpOTE1X2RyaXZlcl91bmxvYWQoc3RydWN0IGRybV9kZXZpY2UgKmRldikKIAlzdHJ1Y3Qg
ZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYgPSB0b19pOTE1KGRldik7CiAJc3RydWN0IHBjaV9k
ZXYgKnBkZXYgPSBkZXZfcHJpdi0+ZHJtLnBkZXY7CiAKLQlkaXNhYmxlX3JwbV93YWtlcmVmX2Fz
c2VydHMoZGV2X3ByaXYpOworCWRpc2FibGVfcnBtX3dha2VyZWZfYXNzZXJ0cygmZGV2X3ByaXYt
PnJ1bnRpbWVfcG0pOwogCiAJaTkxNV9kcml2ZXJfdW5yZWdpc3RlcihkZXZfcHJpdik7CiAKQEAg
LTE5NzIsMjEgKzE5NzIsMjEgQEAgdm9pZCBpOTE1X2RyaXZlcl91bmxvYWQoc3RydWN0IGRybV9k
ZXZpY2UgKmRldikKIAogCWk5MTVfZHJpdmVyX2NsZWFudXBfaHcoZGV2X3ByaXYpOwogCi0JZW5h
YmxlX3JwbV93YWtlcmVmX2Fzc2VydHMoZGV2X3ByaXYpOworCWVuYWJsZV9ycG1fd2FrZXJlZl9h
c3NlcnRzKCZkZXZfcHJpdi0+cnVudGltZV9wbSk7CiB9CiAKIHN0YXRpYyB2b2lkIGk5MTVfZHJp
dmVyX3JlbGVhc2Uoc3RydWN0IGRybV9kZXZpY2UgKmRldikKIHsKIAlzdHJ1Y3QgZHJtX2k5MTVf
cHJpdmF0ZSAqZGV2X3ByaXYgPSB0b19pOTE1KGRldik7CiAKLQlkaXNhYmxlX3JwbV93YWtlcmVm
X2Fzc2VydHMoZGV2X3ByaXYpOworCWRpc2FibGVfcnBtX3dha2VyZWZfYXNzZXJ0cygmZGV2X3By
aXYtPnJ1bnRpbWVfcG0pOwogCiAJaTkxNV9nZW1fZmluaShkZXZfcHJpdik7CiAKIAlpOTE1X2dn
dHRfY2xlYW51cF9odyhkZXZfcHJpdik7CiAJaTkxNV9kcml2ZXJfY2xlYW51cF9tbWlvKGRldl9w
cml2KTsKIAotCWVuYWJsZV9ycG1fd2FrZXJlZl9hc3NlcnRzKGRldl9wcml2KTsKKwllbmFibGVf
cnBtX3dha2VyZWZfYXNzZXJ0cygmZGV2X3ByaXYtPnJ1bnRpbWVfcG0pOwogCWludGVsX3J1bnRp
bWVfcG1fY2xlYW51cChkZXZfcHJpdik7CiAKIAlpOTE1X2RyaXZlcl9jbGVhbnVwX2Vhcmx5KGRl
dl9wcml2KTsKQEAgLTIwODEsNyArMjA4MSw3IEBAIHN0YXRpYyBpbnQgaTkxNV9kcm1fc3VzcGVu
ZChzdHJ1Y3QgZHJtX2RldmljZSAqZGV2KQogCXN0cnVjdCBwY2lfZGV2ICpwZGV2ID0gZGV2X3By
aXYtPmRybS5wZGV2OwogCXBjaV9wb3dlcl90IG9wcmVnaW9uX3RhcmdldF9zdGF0ZTsKIAotCWRp
c2FibGVfcnBtX3dha2VyZWZfYXNzZXJ0cyhkZXZfcHJpdik7CisJZGlzYWJsZV9ycG1fd2FrZXJl
Zl9hc3NlcnRzKCZkZXZfcHJpdi0+cnVudGltZV9wbSk7CiAKIAkvKiBXZSBkbyBhIGxvdCBvZiBw
b2tpbmcgaW4gYSBsb3Qgb2YgcmVnaXN0ZXJzLCBtYWtlIHN1cmUgdGhleSB3b3JrCiAJICogcHJv
cGVybHkuICovCkBAIC0yMTE1LDcgKzIxMTUsNyBAQCBzdGF0aWMgaW50IGk5MTVfZHJtX3N1c3Bl
bmQoc3RydWN0IGRybV9kZXZpY2UgKmRldikKIAogCWludGVsX2Nzcl91Y29kZV9zdXNwZW5kKGRl
dl9wcml2KTsKIAotCWVuYWJsZV9ycG1fd2FrZXJlZl9hc3NlcnRzKGRldl9wcml2KTsKKwllbmFi
bGVfcnBtX3dha2VyZWZfYXNzZXJ0cygmZGV2X3ByaXYtPnJ1bnRpbWVfcG0pOwogCiAJcmV0dXJu
IDA7CiB9CkBAIC0yMTM4LDcgKzIxMzgsNyBAQCBzdGF0aWMgaW50IGk5MTVfZHJtX3N1c3BlbmRf
bGF0ZShzdHJ1Y3QgZHJtX2RldmljZSAqZGV2LCBib29sIGhpYmVybmF0aW9uKQogCXN0cnVjdCBw
Y2lfZGV2ICpwZGV2ID0gZGV2X3ByaXYtPmRybS5wZGV2OwogCWludCByZXQ7CiAKLQlkaXNhYmxl
X3JwbV93YWtlcmVmX2Fzc2VydHMoZGV2X3ByaXYpOworCWRpc2FibGVfcnBtX3dha2VyZWZfYXNz
ZXJ0cygmZGV2X3ByaXYtPnJ1bnRpbWVfcG0pOwogCiAJaTkxNV9nZW1fc3VzcGVuZF9sYXRlKGRl
dl9wcml2KTsKIApAQCAtMjE3OSw3ICsyMTc5LDcgQEAgc3RhdGljIGludCBpOTE1X2RybV9zdXNw
ZW5kX2xhdGUoc3RydWN0IGRybV9kZXZpY2UgKmRldiwgYm9vbCBoaWJlcm5hdGlvbikKIAkJcGNp
X3NldF9wb3dlcl9zdGF0ZShwZGV2LCBQQ0lfRDNob3QpOwogCiBvdXQ6Ci0JZW5hYmxlX3JwbV93
YWtlcmVmX2Fzc2VydHMoZGV2X3ByaXYpOworCWVuYWJsZV9ycG1fd2FrZXJlZl9hc3NlcnRzKCZk
ZXZfcHJpdi0+cnVudGltZV9wbSk7CiAJaWYgKCFkZXZfcHJpdi0+dW5jb3JlLnVzZXJfZm9yY2V3
YWtlLmNvdW50KQogCQlpbnRlbF9ydW50aW1lX3BtX2NsZWFudXAoZGV2X3ByaXYpOwogCkBAIC0y
MjE1LDcgKzIyMTUsNyBAQCBzdGF0aWMgaW50IGk5MTVfZHJtX3Jlc3VtZShzdHJ1Y3QgZHJtX2Rl
dmljZSAqZGV2KQogCXN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiA9IHRvX2k5MTUo
ZGV2KTsKIAlpbnQgcmV0OwogCi0JZGlzYWJsZV9ycG1fd2FrZXJlZl9hc3NlcnRzKGRldl9wcml2
KTsKKwlkaXNhYmxlX3JwbV93YWtlcmVmX2Fzc2VydHMoJmRldl9wcml2LT5ydW50aW1lX3BtKTsK
IAlpbnRlbF9zYW5pdGl6ZV9ndF9wb3dlcnNhdmUoZGV2X3ByaXYpOwogCiAJaTkxNV9nZW1fc2Fu
aXRpemUoZGV2X3ByaXYpOwpAQCAtMjI3NSw3ICsyMjc1LDcgQEAgc3RhdGljIGludCBpOTE1X2Ry
bV9yZXN1bWUoc3RydWN0IGRybV9kZXZpY2UgKmRldikKIAogCWludGVsX3Bvd2VyX2RvbWFpbnNf
ZW5hYmxlKGRldl9wcml2KTsKIAotCWVuYWJsZV9ycG1fd2FrZXJlZl9hc3NlcnRzKGRldl9wcml2
KTsKKwllbmFibGVfcnBtX3dha2VyZWZfYXNzZXJ0cygmZGV2X3ByaXYtPnJ1bnRpbWVfcG0pOwog
CiAJcmV0dXJuIDA7CiB9CkBAIC0yMzMwLDcgKzIzMzAsNyBAQCBzdGF0aWMgaW50IGk5MTVfZHJt
X3Jlc3VtZV9lYXJseShzdHJ1Y3QgZHJtX2RldmljZSAqZGV2KQogCiAJcGNpX3NldF9tYXN0ZXIo
cGRldik7CiAKLQlkaXNhYmxlX3JwbV93YWtlcmVmX2Fzc2VydHMoZGV2X3ByaXYpOworCWRpc2Fi
bGVfcnBtX3dha2VyZWZfYXNzZXJ0cygmZGV2X3ByaXYtPnJ1bnRpbWVfcG0pOwogCiAJaWYgKElT
X1ZBTExFWVZJRVcoZGV2X3ByaXYpIHx8IElTX0NIRVJSWVZJRVcoZGV2X3ByaXYpKQogCQlyZXQg
PSB2bHZfcmVzdW1lX3ByZXBhcmUoZGV2X3ByaXYsIGZhbHNlKTsKQEAgLTIzNTUsNyArMjM1NSw3
IEBAIHN0YXRpYyBpbnQgaTkxNV9kcm1fcmVzdW1lX2Vhcmx5KHN0cnVjdCBkcm1fZGV2aWNlICpk
ZXYpCiAKIAlpbnRlbF9ndF9zYW5pdGl6ZShkZXZfcHJpdiwgdHJ1ZSk7CiAKLQllbmFibGVfcnBt
X3dha2VyZWZfYXNzZXJ0cyhkZXZfcHJpdik7CisJZW5hYmxlX3JwbV93YWtlcmVmX2Fzc2VydHMo
JmRldl9wcml2LT5ydW50aW1lX3BtKTsKIAogCXJldHVybiByZXQ7CiB9CkBAIC0yODg4LDYgKzI4
ODgsNyBAQCBzdGF0aWMgaW50IGludGVsX3J1bnRpbWVfc3VzcGVuZChzdHJ1Y3QgZGV2aWNlICpr
ZGV2KQogCXN0cnVjdCBwY2lfZGV2ICpwZGV2ID0gdG9fcGNpX2RldihrZGV2KTsKIAlzdHJ1Y3Qg
ZHJtX2RldmljZSAqZGV2ID0gcGNpX2dldF9kcnZkYXRhKHBkZXYpOwogCXN0cnVjdCBkcm1faTkx
NV9wcml2YXRlICpkZXZfcHJpdiA9IHRvX2k5MTUoZGV2KTsKKwlzdHJ1Y3QgaTkxNV9ydW50aW1l
X3BtICpycG0gPSAmZGV2X3ByaXYtPnJ1bnRpbWVfcG07CiAJaW50IHJldDsKIAogCWlmIChXQVJO
X09OX09OQ0UoIShkZXZfcHJpdi0+Z3RfcG0ucmM2LmVuYWJsZWQgJiYgSEFTX1JDNihkZXZfcHJp
dikpKSkKQEAgLTI4OTgsNyArMjg5OSw3IEBAIHN0YXRpYyBpbnQgaW50ZWxfcnVudGltZV9zdXNw
ZW5kKHN0cnVjdCBkZXZpY2UgKmtkZXYpCiAKIAlEUk1fREVCVUdfS01TKCJTdXNwZW5kaW5nIGRl
dmljZVxuIik7CiAKLQlkaXNhYmxlX3JwbV93YWtlcmVmX2Fzc2VydHMoZGV2X3ByaXYpOworCWRp
c2FibGVfcnBtX3dha2VyZWZfYXNzZXJ0cyhycG0pOwogCiAJLyoKIAkgKiBXZSBhcmUgc2FmZSBo
ZXJlIGFnYWluc3QgcmUtZmF1bHRzLCBzaW5jZSB0aGUgZmF1bHQgaGFuZGxlciB0YWtlcwpAQCAt
MjkzNiwxOCArMjkzNywxOCBAQCBzdGF0aWMgaW50IGludGVsX3J1bnRpbWVfc3VzcGVuZChzdHJ1
Y3QgZGV2aWNlICprZGV2KQogCQlpOTE1X2dlbV9pbml0X3N3aXp6bGluZyhkZXZfcHJpdik7CiAJ
CWk5MTVfZ2VtX3Jlc3RvcmVfZmVuY2VzKGRldl9wcml2KTsKIAotCQllbmFibGVfcnBtX3dha2Vy
ZWZfYXNzZXJ0cyhkZXZfcHJpdik7CisJCWVuYWJsZV9ycG1fd2FrZXJlZl9hc3NlcnRzKHJwbSk7
CiAKIAkJcmV0dXJuIHJldDsKIAl9CiAKLQllbmFibGVfcnBtX3dha2VyZWZfYXNzZXJ0cyhkZXZf
cHJpdik7CisJZW5hYmxlX3JwbV93YWtlcmVmX2Fzc2VydHMocnBtKTsKIAlpbnRlbF9ydW50aW1l
X3BtX2NsZWFudXAoZGV2X3ByaXYpOwogCiAJaWYgKGludGVsX3VuY29yZV9hcm1fdW5jbGFpbWVk
X21taW9fZGV0ZWN0aW9uKCZkZXZfcHJpdi0+dW5jb3JlKSkKIAkJRFJNX0VSUk9SKCJVbmNsYWlt
ZWQgYWNjZXNzIGRldGVjdGVkIHByaW9yIHRvIHN1c3BlbmRpbmdcbiIpOwogCi0JZGV2X3ByaXYt
PnJ1bnRpbWVfcG0uc3VzcGVuZGVkID0gdHJ1ZTsKKwlycG0tPnN1c3BlbmRlZCA9IHRydWU7CiAK
IAkvKgogCSAqIEZJWE1FOiBXZSByZWFsbHkgc2hvdWxkIGZpbmQgYSBkb2N1bWVudCB0aGF0IHJl
ZmVyZW5jZXMgdGhlIGFyZ3VtZW50cwpAQCAtMjk4Niw2ICsyOTg3LDcgQEAgc3RhdGljIGludCBp
bnRlbF9ydW50aW1lX3Jlc3VtZShzdHJ1Y3QgZGV2aWNlICprZGV2KQogCXN0cnVjdCBwY2lfZGV2
ICpwZGV2ID0gdG9fcGNpX2RldihrZGV2KTsKIAlzdHJ1Y3QgZHJtX2RldmljZSAqZGV2ID0gcGNp
X2dldF9kcnZkYXRhKHBkZXYpOwogCXN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiA9
IHRvX2k5MTUoZGV2KTsKKwlzdHJ1Y3QgaTkxNV9ydW50aW1lX3BtICpycG0gPSAmZGV2X3ByaXYt
PnJ1bnRpbWVfcG07CiAJaW50IHJldCA9IDA7CiAKIAlpZiAoV0FSTl9PTl9PTkNFKCFIQVNfUlVO
VElNRV9QTShkZXZfcHJpdikpKQpAQCAtMjk5MywxMSArMjk5NSwxMSBAQCBzdGF0aWMgaW50IGlu
dGVsX3J1bnRpbWVfcmVzdW1lKHN0cnVjdCBkZXZpY2UgKmtkZXYpCiAKIAlEUk1fREVCVUdfS01T
KCJSZXN1bWluZyBkZXZpY2VcbiIpOwogCi0JV0FSTl9PTl9PTkNFKGF0b21pY19yZWFkKCZkZXZf
cHJpdi0+cnVudGltZV9wbS53YWtlcmVmX2NvdW50KSk7Ci0JZGlzYWJsZV9ycG1fd2FrZXJlZl9h
c3NlcnRzKGRldl9wcml2KTsKKwlXQVJOX09OX09OQ0UoYXRvbWljX3JlYWQoJnJwbS0+d2FrZXJl
Zl9jb3VudCkpOworCWRpc2FibGVfcnBtX3dha2VyZWZfYXNzZXJ0cyhycG0pOwogCiAJaW50ZWxf
b3ByZWdpb25fbm90aWZ5X2FkYXB0ZXIoZGV2X3ByaXYsIFBDSV9EMCk7Ci0JZGV2X3ByaXYtPnJ1
bnRpbWVfcG0uc3VzcGVuZGVkID0gZmFsc2U7CisJcnBtLT5zdXNwZW5kZWQgPSBmYWxzZTsKIAlp
ZiAoaW50ZWxfdW5jb3JlX3VuY2xhaW1lZF9tbWlvKCZkZXZfcHJpdi0+dW5jb3JlKSkKIAkJRFJN
X0RFQlVHX0RSSVZFUigiVW5jbGFpbWVkIGFjY2VzcyBkdXJpbmcgc3VzcGVuZCwgYmlvcz9cbiIp
OwogCkBAIC0zMDQ3LDcgKzMwNDksNyBAQCBzdGF0aWMgaW50IGludGVsX3J1bnRpbWVfcmVzdW1l
KHN0cnVjdCBkZXZpY2UgKmtkZXYpCiAKIAlpbnRlbF9lbmFibGVfaXBjKGRldl9wcml2KTsKIAot
CWVuYWJsZV9ycG1fd2FrZXJlZl9hc3NlcnRzKGRldl9wcml2KTsKKwllbmFibGVfcnBtX3dha2Vy
ZWZfYXNzZXJ0cyhycG0pOwogCiAJaWYgKHJldCkKIAkJRFJNX0VSUk9SKCJSdW50aW1lIHJlc3Vt
ZSBmYWlsZWQsIGRpc2FibGluZyBpdCAoJWQpXG4iLCByZXQpOwpkaWZmIC0tZ2l0IGEvZHJpdmVy
cy9ncHUvZHJtL2k5MTUvaTkxNV9pcnEuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfaXJx
LmMKaW5kZXggMWZiYTU2NTJmNzQxLi5mNjVmNmE3NzQ1YzcgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMv
Z3B1L2RybS9pOTE1L2k5MTVfaXJxLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9p
cnEuYwpAQCAtMjE4Myw3ICsyMTgzLDcgQEAgc3RhdGljIGlycXJldHVybl90IHZhbGxleXZpZXdf
aXJxX2hhbmRsZXIoaW50IGlycSwgdm9pZCAqYXJnKQogCQlyZXR1cm4gSVJRX05PTkU7CiAKIAkv
KiBJUlFzIGFyZSBzeW5jZWQgZHVyaW5nIHJ1bnRpbWVfc3VzcGVuZCwgd2UgZG9uJ3QgcmVxdWly
ZSBhIHdha2VyZWYgKi8KLQlkaXNhYmxlX3JwbV93YWtlcmVmX2Fzc2VydHMoZGV2X3ByaXYpOwor
CWRpc2FibGVfcnBtX3dha2VyZWZfYXNzZXJ0cygmZGV2X3ByaXYtPnJ1bnRpbWVfcG0pOwogCiAJ
ZG8gewogCQl1MzIgaWlyLCBndF9paXIsIHBtX2lpcjsKQEAgLTIyNTQsNyArMjI1NCw3IEBAIHN0
YXRpYyBpcnFyZXR1cm5fdCB2YWxsZXl2aWV3X2lycV9oYW5kbGVyKGludCBpcnEsIHZvaWQgKmFy
ZykKIAkJdmFsbGV5dmlld19waXBlc3RhdF9pcnFfaGFuZGxlcihkZXZfcHJpdiwgcGlwZV9zdGF0
cyk7CiAJfSB3aGlsZSAoMCk7CiAKLQllbmFibGVfcnBtX3dha2VyZWZfYXNzZXJ0cyhkZXZfcHJp
dik7CisJZW5hYmxlX3JwbV93YWtlcmVmX2Fzc2VydHMoJmRldl9wcml2LT5ydW50aW1lX3BtKTsK
IAogCXJldHVybiByZXQ7CiB9CkBAIC0yMjY5LDcgKzIyNjksNyBAQCBzdGF0aWMgaXJxcmV0dXJu
X3QgY2hlcnJ5dmlld19pcnFfaGFuZGxlcihpbnQgaXJxLCB2b2lkICphcmcpCiAJCXJldHVybiBJ
UlFfTk9ORTsKIAogCS8qIElSUXMgYXJlIHN5bmNlZCBkdXJpbmcgcnVudGltZV9zdXNwZW5kLCB3
ZSBkb24ndCByZXF1aXJlIGEgd2FrZXJlZiAqLwotCWRpc2FibGVfcnBtX3dha2VyZWZfYXNzZXJ0
cyhkZXZfcHJpdik7CisJZGlzYWJsZV9ycG1fd2FrZXJlZl9hc3NlcnRzKCZkZXZfcHJpdi0+cnVu
dGltZV9wbSk7CiAKIAlkbyB7CiAJCXUzMiBtYXN0ZXJfY3RsLCBpaXI7CkBAIC0yMzM1LDcgKzIz
MzUsNyBAQCBzdGF0aWMgaXJxcmV0dXJuX3QgY2hlcnJ5dmlld19pcnFfaGFuZGxlcihpbnQgaXJx
LCB2b2lkICphcmcpCiAJCXZhbGxleXZpZXdfcGlwZXN0YXRfaXJxX2hhbmRsZXIoZGV2X3ByaXYs
IHBpcGVfc3RhdHMpOwogCX0gd2hpbGUgKDApOwogCi0JZW5hYmxlX3JwbV93YWtlcmVmX2Fzc2Vy
dHMoZGV2X3ByaXYpOworCWVuYWJsZV9ycG1fd2FrZXJlZl9hc3NlcnRzKCZkZXZfcHJpdi0+cnVu
dGltZV9wbSk7CiAKIAlyZXR1cm4gcmV0OwogfQpAQCAtMjY4OSw3ICsyNjg5LDcgQEAgc3RhdGlj
IGlycXJldHVybl90IGlyb25sYWtlX2lycV9oYW5kbGVyKGludCBpcnEsIHZvaWQgKmFyZykKIAkJ
cmV0dXJuIElSUV9OT05FOwogCiAJLyogSVJRcyBhcmUgc3luY2VkIGR1cmluZyBydW50aW1lX3N1
c3BlbmQsIHdlIGRvbid0IHJlcXVpcmUgYSB3YWtlcmVmICovCi0JZGlzYWJsZV9ycG1fd2FrZXJl
Zl9hc3NlcnRzKGRldl9wcml2KTsKKwlkaXNhYmxlX3JwbV93YWtlcmVmX2Fzc2VydHMoJmRldl9w
cml2LT5ydW50aW1lX3BtKTsKIAogCS8qIGRpc2FibGUgbWFzdGVyIGludGVycnVwdCBiZWZvcmUg
Y2xlYXJpbmcgaWlyICAqLwogCWRlX2llciA9IEk5MTVfUkVBRChERUlFUik7CkBAIC0yNzQxLDcg
KzI3NDEsNyBAQCBzdGF0aWMgaXJxcmV0dXJuX3QgaXJvbmxha2VfaXJxX2hhbmRsZXIoaW50IGly
cSwgdm9pZCAqYXJnKQogCQlJOTE1X1dSSVRFKFNERUlFUiwgc2RlX2llcik7CiAKIAkvKiBJUlFz
IGFyZSBzeW5jZWQgZHVyaW5nIHJ1bnRpbWVfc3VzcGVuZCwgd2UgZG9uJ3QgcmVxdWlyZSBhIHdh
a2VyZWYgKi8KLQllbmFibGVfcnBtX3dha2VyZWZfYXNzZXJ0cyhkZXZfcHJpdik7CisJZW5hYmxl
X3JwbV93YWtlcmVmX2Fzc2VydHMoJmRldl9wcml2LT5ydW50aW1lX3BtKTsKIAogCXJldHVybiBy
ZXQ7CiB9CkBAIC0zMDA4LDkgKzMwMDgsOSBAQCBzdGF0aWMgaXJxcmV0dXJuX3QgZ2VuOF9pcnFf
aGFuZGxlcihpbnQgaXJxLCB2b2lkICphcmcpCiAKIAkvKiBJUlFzIGFyZSBzeW5jZWQgZHVyaW5n
IHJ1bnRpbWVfc3VzcGVuZCwgd2UgZG9uJ3QgcmVxdWlyZSBhIHdha2VyZWYgKi8KIAlpZiAobWFz
dGVyX2N0bCAmIH5HRU44X0dUX0lSUVMpIHsKLQkJZGlzYWJsZV9ycG1fd2FrZXJlZl9hc3NlcnRz
KGRldl9wcml2KTsKKwkJZGlzYWJsZV9ycG1fd2FrZXJlZl9hc3NlcnRzKCZkZXZfcHJpdi0+cnVu
dGltZV9wbSk7CiAJCWdlbjhfZGVfaXJxX2hhbmRsZXIoZGV2X3ByaXYsIG1hc3Rlcl9jdGwpOwot
CQllbmFibGVfcnBtX3dha2VyZWZfYXNzZXJ0cyhkZXZfcHJpdik7CisJCWVuYWJsZV9ycG1fd2Fr
ZXJlZl9hc3NlcnRzKCZkZXZfcHJpdi0+cnVudGltZV9wbSk7CiAJfQogCiAJZ2VuOF9tYXN0ZXJf
aW50cl9lbmFibGUocmVncyk7CkBAIC0zMjA5LDEzICszMjA5LDEzIEBAIHN0YXRpYyBpcnFyZXR1
cm5fdCBnZW4xMV9pcnFfaGFuZGxlcihpbnQgaXJxLCB2b2lkICphcmcpCiAJaWYgKG1hc3Rlcl9j
dGwgJiBHRU4xMV9ESVNQTEFZX0lSUSkgewogCQljb25zdCB1MzIgZGlzcF9jdGwgPSByYXdfcmVn
X3JlYWQocmVncywgR0VOMTFfRElTUExBWV9JTlRfQ1RMKTsKIAotCQlkaXNhYmxlX3JwbV93YWtl
cmVmX2Fzc2VydHMoaTkxNSk7CisJCWRpc2FibGVfcnBtX3dha2VyZWZfYXNzZXJ0cygmaTkxNS0+
cnVudGltZV9wbSk7CiAJCS8qCiAJCSAqIEdFTjExX0RJU1BMQVlfSU5UX0NUTCBoYXMgc2FtZSBm
b3JtYXQgYXMgR0VOOF9NQVNURVJfSVJRCiAJCSAqIGZvciB0aGUgZGlzcGxheSByZWxhdGVkIGJp
dHMuCiAJCSAqLwogCQlnZW44X2RlX2lycV9oYW5kbGVyKGk5MTUsIGRpc3BfY3RsKTsKLQkJZW5h
YmxlX3JwbV93YWtlcmVmX2Fzc2VydHMoaTkxNSk7CisJCWVuYWJsZV9ycG1fd2FrZXJlZl9hc3Nl
cnRzKCZpOTE1LT5ydW50aW1lX3BtKTsKIAl9CiAKIAlndV9taXNjX2lpciA9IGdlbjExX2d1X21p
c2NfaXJxX2FjayhpOTE1LCBtYXN0ZXJfY3RsKTsKQEAgLTQ0MzYsNyArNDQzNiw3IEBAIHN0YXRp
YyBpcnFyZXR1cm5fdCBpOHh4X2lycV9oYW5kbGVyKGludCBpcnEsIHZvaWQgKmFyZykKIAkJcmV0
dXJuIElSUV9OT05FOwogCiAJLyogSVJRcyBhcmUgc3luY2VkIGR1cmluZyBydW50aW1lX3N1c3Bl
bmQsIHdlIGRvbid0IHJlcXVpcmUgYSB3YWtlcmVmICovCi0JZGlzYWJsZV9ycG1fd2FrZXJlZl9h
c3NlcnRzKGRldl9wcml2KTsKKwlkaXNhYmxlX3JwbV93YWtlcmVmX2Fzc2VydHMoJmRldl9wcml2
LT5ydW50aW1lX3BtKTsKIAogCWRvIHsKIAkJdTMyIHBpcGVfc3RhdHNbSTkxNV9NQVhfUElQRVNd
ID0ge307CkBAIC00NDY3LDcgKzQ0NjcsNyBAQCBzdGF0aWMgaXJxcmV0dXJuX3QgaTh4eF9pcnFf
aGFuZGxlcihpbnQgaXJxLCB2b2lkICphcmcpCiAJCWk4eHhfcGlwZXN0YXRfaXJxX2hhbmRsZXIo
ZGV2X3ByaXYsIGlpciwgcGlwZV9zdGF0cyk7CiAJfSB3aGlsZSAoMCk7CiAKLQllbmFibGVfcnBt
X3dha2VyZWZfYXNzZXJ0cyhkZXZfcHJpdik7CisJZW5hYmxlX3JwbV93YWtlcmVmX2Fzc2VydHMo
JmRldl9wcml2LT5ydW50aW1lX3BtKTsKIAogCXJldHVybiByZXQ7CiB9CkBAIC00NTQxLDcgKzQ1
NDEsNyBAQCBzdGF0aWMgaXJxcmV0dXJuX3QgaTkxNV9pcnFfaGFuZGxlcihpbnQgaXJxLCB2b2lk
ICphcmcpCiAJCXJldHVybiBJUlFfTk9ORTsKIAogCS8qIElSUXMgYXJlIHN5bmNlZCBkdXJpbmcg
cnVudGltZV9zdXNwZW5kLCB3ZSBkb24ndCByZXF1aXJlIGEgd2FrZXJlZiAqLwotCWRpc2FibGVf
cnBtX3dha2VyZWZfYXNzZXJ0cyhkZXZfcHJpdik7CisJZGlzYWJsZV9ycG1fd2FrZXJlZl9hc3Nl
cnRzKCZkZXZfcHJpdi0+cnVudGltZV9wbSk7CiAKIAlkbyB7CiAJCXUzMiBwaXBlX3N0YXRzW0k5
MTVfTUFYX1BJUEVTXSA9IHt9OwpAQCAtNDU4MCw3ICs0NTgwLDcgQEAgc3RhdGljIGlycXJldHVy
bl90IGk5MTVfaXJxX2hhbmRsZXIoaW50IGlycSwgdm9pZCAqYXJnKQogCQlpOTE1X3BpcGVzdGF0
X2lycV9oYW5kbGVyKGRldl9wcml2LCBpaXIsIHBpcGVfc3RhdHMpOwogCX0gd2hpbGUgKDApOwog
Ci0JZW5hYmxlX3JwbV93YWtlcmVmX2Fzc2VydHMoZGV2X3ByaXYpOworCWVuYWJsZV9ycG1fd2Fr
ZXJlZl9hc3NlcnRzKCZkZXZfcHJpdi0+cnVudGltZV9wbSk7CiAKIAlyZXR1cm4gcmV0OwogfQpA
QCAtNDY4OSw3ICs0Njg5LDcgQEAgc3RhdGljIGlycXJldHVybl90IGk5NjVfaXJxX2hhbmRsZXIo
aW50IGlycSwgdm9pZCAqYXJnKQogCQlyZXR1cm4gSVJRX05PTkU7CiAKIAkvKiBJUlFzIGFyZSBz
eW5jZWQgZHVyaW5nIHJ1bnRpbWVfc3VzcGVuZCwgd2UgZG9uJ3QgcmVxdWlyZSBhIHdha2VyZWYg
Ki8KLQlkaXNhYmxlX3JwbV93YWtlcmVmX2Fzc2VydHMoZGV2X3ByaXYpOworCWRpc2FibGVfcnBt
X3dha2VyZWZfYXNzZXJ0cygmZGV2X3ByaXYtPnJ1bnRpbWVfcG0pOwogCiAJZG8gewogCQl1MzIg
cGlwZV9zdGF0c1tJOTE1X01BWF9QSVBFU10gPSB7fTsKQEAgLTQ3MzAsNyArNDczMCw3IEBAIHN0
YXRpYyBpcnFyZXR1cm5fdCBpOTY1X2lycV9oYW5kbGVyKGludCBpcnEsIHZvaWQgKmFyZykKIAkJ
aTk2NV9waXBlc3RhdF9pcnFfaGFuZGxlcihkZXZfcHJpdiwgaWlyLCBwaXBlX3N0YXRzKTsKIAl9
IHdoaWxlICgwKTsKIAotCWVuYWJsZV9ycG1fd2FrZXJlZl9hc3NlcnRzKGRldl9wcml2KTsKKwll
bmFibGVfcnBtX3dha2VyZWZfYXNzZXJ0cygmZGV2X3ByaXYtPnJ1bnRpbWVfcG0pOwogCiAJcmV0
dXJuIHJldDsKIH0KZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX2Rydi5o
IGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfZHJ2LmgKaW5kZXggYWMwYmQ2MDY3ODY0Li43
MGVmOWI3NjIzZjAgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX2Rydi5o
CisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX2Rydi5oCkBAIC0xNjY5LDcgKzE2Njks
NyBAQCBhc3NlcnRfcnBtX3dha2Vsb2NrX2hlbGQoc3RydWN0IGk5MTVfcnVudGltZV9wbSAqcnBt
KQogCiAvKioKICAqIGRpc2FibGVfcnBtX3dha2VyZWZfYXNzZXJ0cyAtIGRpc2FibGUgdGhlIFJQ
TSBhc3NlcnQgY2hlY2tzCi0gKiBAaTkxNTogaTkxNSBkZXZpY2UgaW5zdGFuY2UKKyAqIEBycG06
IHRoZSBpOTE1X3J1bnRpbWVfcG0gc3RydWN0dXJlCiAgKgogICogVGhpcyBmdW5jdGlvbiBkaXNh
YmxlIGFzc2VydHMgdGhhdCBjaGVjayBpZiB3ZSBob2xkIGFuIFJQTSB3YWtlbG9jawogICogcmVm
ZXJlbmNlLCB3aGlsZSBrZWVwaW5nIHRoZSBkZXZpY2Utbm90LXN1c3BlbmRlZCBjaGVja3Mgc3Rp
bGwgZW5hYmxlZC4KQEAgLTE2ODYsMTUgKzE2ODYsMTUgQEAgYXNzZXJ0X3JwbV93YWtlbG9ja19o
ZWxkKHN0cnVjdCBpOTE1X3J1bnRpbWVfcG0gKnJwbSkKICAqIGVuYWJsZV9ycG1fd2FrZXJlZl9h
c3NlcnRzKCkuCiAgKi8KIHN0YXRpYyBpbmxpbmUgdm9pZAotZGlzYWJsZV9ycG1fd2FrZXJlZl9h
c3NlcnRzKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICppOTE1KQorZGlzYWJsZV9ycG1fd2FrZXJl
Zl9hc3NlcnRzKHN0cnVjdCBpOTE1X3J1bnRpbWVfcG0gKnJwbSkKIHsKIAlhdG9taWNfYWRkKElO
VEVMX1JQTV9XQUtFTE9DS19CSUFTICsgMSwKLQkJICAgJmk5MTUtPnJ1bnRpbWVfcG0ud2FrZXJl
Zl9jb3VudCk7CisJCSAgICZycG0tPndha2VyZWZfY291bnQpOwogfQogCiAvKioKICAqIGVuYWJs
ZV9ycG1fd2FrZXJlZl9hc3NlcnRzIC0gcmUtZW5hYmxlIHRoZSBSUE0gYXNzZXJ0IGNoZWNrcwot
ICogQGk5MTU6IGk5MTUgZGV2aWNlIGluc3RhbmNlCisgKiBAcnBtOiB0aGUgaTkxNV9ydW50aW1l
X3BtIHN0cnVjdHVyZQogICoKICAqIFRoaXMgZnVuY3Rpb24gcmUtZW5hYmxlcyB0aGUgUlBNIGFz
c2VydCBjaGVja3MgYWZ0ZXIgZGlzYWJsaW5nIHRoZW0gd2l0aAogICogZGlzYWJsZV9ycG1fd2Fr
ZXJlZl9hc3NlcnRzLiBJdCdzIG1lYW50IHRvIGJlIHVzZWQgb25seSBpbiBzcGVjaWFsCkBAIC0x
NzA0LDEwICsxNzA0LDEwIEBAIGRpc2FibGVfcnBtX3dha2VyZWZfYXNzZXJ0cyhzdHJ1Y3QgZHJt
X2k5MTVfcHJpdmF0ZSAqaTkxNSkKICAqIGRpc2FibGVfcnBtX3dha2VyZWZfYXNzZXJ0cygpLgog
ICovCiBzdGF0aWMgaW5saW5lIHZvaWQKLWVuYWJsZV9ycG1fd2FrZXJlZl9hc3NlcnRzKHN0cnVj
dCBkcm1faTkxNV9wcml2YXRlICppOTE1KQorZW5hYmxlX3JwbV93YWtlcmVmX2Fzc2VydHMoc3Ry
dWN0IGk5MTVfcnVudGltZV9wbSAqcnBtKQogewogCWF0b21pY19zdWIoSU5URUxfUlBNX1dBS0VM
T0NLX0JJQVMgKyAxLAotCQkgICAmaTkxNS0+cnVudGltZV9wbS53YWtlcmVmX2NvdW50KTsKKwkJ
ICAgJnJwbS0+d2FrZXJlZl9jb3VudCk7CiB9CiAKICNlbmRpZiAvKiBfX0lOVEVMX0RSVl9IX18g
Ki8KZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX3VuY29yZS5jIGIvZHJp
dmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfdW5jb3JlLmMKaW5kZXggZTFkZTUxYzRkODRkLi41ZWIx
ZDEzMGZjMmUgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX3VuY29yZS5j
CisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX3VuY29yZS5jCkBAIC0xNDYxLDggKzE0
NjEsOCBAQCBzdGF0aWMgdm9pZCBpbnRlbF91bmNvcmVfZndfZG9tYWluc19pbml0KHN0cnVjdCBp
bnRlbF91bmNvcmUgKnVuY29yZSkKIHN0YXRpYyBpbnQgaTkxNV9wbWljX2J1c19hY2Nlc3Nfbm90
aWZpZXIoc3RydWN0IG5vdGlmaWVyX2Jsb2NrICpuYiwKIAkJCQkJIHVuc2lnbmVkIGxvbmcgYWN0
aW9uLCB2b2lkICpkYXRhKQogewotCXN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiA9
IGNvbnRhaW5lcl9vZihuYiwKLQkJCXN0cnVjdCBkcm1faTkxNV9wcml2YXRlLCB1bmNvcmUucG1p
Y19idXNfYWNjZXNzX25iKTsKKwlzdHJ1Y3QgaW50ZWxfdW5jb3JlICp1bmNvcmUgPSBjb250YWlu
ZXJfb2YobmIsCisJCQlzdHJ1Y3QgaW50ZWxfdW5jb3JlLCBwbWljX2J1c19hY2Nlc3NfbmIpOwog
CiAJc3dpdGNoIChhY3Rpb24pIHsKIAljYXNlIE1CSV9QTUlDX0JVU19BQ0NFU1NfQkVHSU46CkBA
IC0xNDc5LDEyICsxNDc5LDEyIEBAIHN0YXRpYyBpbnQgaTkxNV9wbWljX2J1c19hY2Nlc3Nfbm90
aWZpZXIoc3RydWN0IG5vdGlmaWVyX2Jsb2NrICpuYiwKIAkJICogd2FrZSByZWZlcmVuY2UgLT4g
ZGlzYWJsZSB3YWtlcmVmIGFzc2VydHMgZm9yIHRoZSB0aW1lIG9mCiAJCSAqIHRoZSBhY2Nlc3Mu
CiAJCSAqLwotCQlkaXNhYmxlX3JwbV93YWtlcmVmX2Fzc2VydHMoZGV2X3ByaXYpOwotCQlpbnRl
bF91bmNvcmVfZm9yY2V3YWtlX2dldCgmZGV2X3ByaXYtPnVuY29yZSwgRk9SQ0VXQUtFX0FMTCk7
Ci0JCWVuYWJsZV9ycG1fd2FrZXJlZl9hc3NlcnRzKGRldl9wcml2KTsKKwkJZGlzYWJsZV9ycG1f
d2FrZXJlZl9hc3NlcnRzKHVuY29yZS0+cnBtKTsKKwkJaW50ZWxfdW5jb3JlX2ZvcmNld2FrZV9n
ZXQodW5jb3JlLCBGT1JDRVdBS0VfQUxMKTsKKwkJZW5hYmxlX3JwbV93YWtlcmVmX2Fzc2VydHMo
dW5jb3JlLT5ycG0pOwogCQlicmVhazsKIAljYXNlIE1CSV9QTUlDX0JVU19BQ0NFU1NfRU5EOgot
CQlpbnRlbF91bmNvcmVfZm9yY2V3YWtlX3B1dCgmZGV2X3ByaXYtPnVuY29yZSwgRk9SQ0VXQUtF
X0FMTCk7CisJCWludGVsX3VuY29yZV9mb3JjZXdha2VfcHV0KHVuY29yZSwgRk9SQ0VXQUtFX0FM
TCk7CiAJCWJyZWFrOwogCX0KIAotLSAKMi4yMC4xCgpfX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fXwpJbnRlbC1nZnggbWFpbGluZyBsaXN0CkludGVsLWdmeEBs
aXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1h
bi9saXN0aW5mby9pbnRlbC1nZng=

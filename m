Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 215D3B7A04
	for <lists+intel-gfx@lfdr.de>; Thu, 19 Sep 2019 15:02:27 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 527C46F522;
	Thu, 19 Sep 2019 13:02:25 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga12.intel.com (mga12.intel.com [192.55.52.136])
 by gabe.freedesktop.org (Postfix) with ESMTPS id D989A6F522
 for <intel-gfx@lists.freedesktop.org>; Thu, 19 Sep 2019 13:02:23 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga002.jf.intel.com ([10.7.209.21])
 by fmsmga106.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 19 Sep 2019 06:02:23 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.64,523,1559545200"; d="scan'208";a="199385157"
Received: from leonidf-mobl.ger.corp.intel.com (HELO [10.252.3.171])
 ([10.252.3.171])
 by orsmga002.jf.intel.com with ESMTP; 19 Sep 2019 06:02:21 -0700
To: Chris Wilson <chris@chris-wilson.co.uk>, intel-gfx@lists.freedesktop.org
References: <20190919111912.21631-1-chris@chris-wilson.co.uk>
From: Tvrtko Ursulin <tvrtko.ursulin@linux.intel.com>
Organization: Intel Corporation UK Plc
Message-ID: <5202f44e-a251-f4e0-f27c-1f96fab24078@linux.intel.com>
Date: Thu, 19 Sep 2019 14:02:19 +0100
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101
 Thunderbird/60.8.0
MIME-Version: 1.0
In-Reply-To: <20190919111912.21631-1-chris@chris-wilson.co.uk>
Content-Language: en-US
Subject: Re: [Intel-gfx] [PATCH v2 1/3] drm/i915: Mark i915_request.timeline
 as a volatile, rcu pointer
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

Ck9uIDE5LzA5LzIwMTkgMTI6MTksIENocmlzIFdpbHNvbiB3cm90ZToKPiBUaGUgcmVxdWVzdC0+
dGltZWxpbmUgaXMgb25seSB2YWxpZCB1bnRpbCB0aGUgcmVxdWVzdCBpcyByZXRpcmVkIChpLmUu
Cj4gYmVmb3JlIGl0IGlzIGNvbXBsZXRlZCkuIFVwb24gcmV0aXJpbmcgdGhlIHJlcXVlc3QsIHRo
ZSBjb250ZXh0IG1heSBiZQo+IHVucGlubmVkIGFuZCBmcmVlZCwgYW5kIGFsb25nIHdpdGggaXQg
dGhlIHRpbWVsaW5lIG1heSBiZSBmcmVlZC4gV2UKPiB0aGVyZWZvcmUgbmVlZCB0byBiZSB2ZXJ5
IGNhcmVmdWwgd2hlbiBjaGFzaW5nIHJxLT50aW1lbGluZSB0aGF0IHRoZQo+IHBvaW50ZXIgZG9l
cyBub3QgZGlzYXBwZWFyIGJlbmVhdGggdXMuIFRoZSB2YXN0IG1ham9yaXR5IG9mIHVzZXJzIGFy
ZSBpbgo+IGEgcHJvdGVjdGVkIGNvbnRleHQsIGVpdGhlciBkdXJpbmcgcmVxdWVzdCBjb25zdHJ1
Y3Rpb24gb3IgcmV0aXJlbWVudCwKPiB3aGVyZSB0aGUgdGltZWxpbmUtPm11dGV4IGlzIGhlbGQg
YW5kIHRoZSB0aW1lbGluZSBjYW5ub3QgZGlzYXBwZWFyLiBJdAo+IGlzIHRob3NlIGZldyBvZmYg
dGhlIGJlYXRlbiBwYXRoICh3aGVyZSB3ZSBhY2Nlc3MgYSBzZWNvbmQgdGltZWxpbmUpIHRoYXQK
PiBuZWVkIGV4dHJhIHNjcnV0aW55IC0tIHRvIGJlIGFkZGVkIGluIHRoZSBuZXh0IHBhdGNoIGFm
dGVyIGZpcnN0IGFkZGluZwo+IHRoZSB3YXJuaW5ncyBhYm91dCBkYW5nZXJvdXMgYWNjZXNzLgo+
IAo+IE9uZSBjb21wbGljYXRpb24sIHdoZXJlIHdlIGNhbm5vdCB1c2UgdGhlIHRpbWVsaW5lLT5t
dXRleCBpdHNlbGYsIGlzCj4gZHVyaW5nIHJlcXVlc3Qgc3VibWlzc2lvbiBvbnRvIGhhcmR3YXJl
ICh1bmRlciBzcGlubG9ja3MpLiBIZXJlLCB3ZSB3YW50Cj4gdG8gY2hlY2sgb24gdGhlIHRpbWVs
aW5lIHRvIGZpbmFsaXplIHRoZSBicmVhZGNydW1iLCBhbmQgc28gd2UgbmVlZCB0bwo+IGltcG9z
ZSBhIHNlY29uZCBydWxlIHRvIGVuc3VyZSB0aGF0IHRoZSByZXF1ZXN0LT50aW1lbGluZSBpcyBp
bmRlZWQKPiB2YWxpZC4gQXMgd2UgYXJlIHN1Ym1pdHRpbmcgdGhlIHJlcXVlc3QsIGl0J3MgY29u
dGV4dCBhbmQgdGltZWxpbmUgbXVzdAo+IGJlIHBpbm5lZCwgYXMgaXQgd2lsbCBiZSB1c2VkIGJ5
IHRoZSBoYXJkd2FyZS4gU2luY2UgaXQgaXMgcGlubmVkLCB3ZQo+IGtub3cgdGhlIHJlcXVlc3Qt
PnRpbWVsaW5lIG11c3Qgc3RpbGwgYmUgdmFsaWQsIGFuZCB3ZSBjYW5ub3Qgc3VibWl0IHRoZQo+
IGlkbGUgYmFycmllciB1bnRpbCBhZnRlciB3ZSByZWxlYXNlIHRoZSBlbmdpbmUtPmFjdGl2ZS5s
b2NrLCBlcmdvIHdoaWxlCj4gc3VibWl0dGluZyBhbmQgaG9sZGluZyB0aGF0IHNwaW5sb2NrLCBh
IHNlY29uZCB0aHJlYWQgY2Fubm90IHJlbGVhc2UgdGhlCj4gdGltZWxpbmUuCj4gCj4gdjI6IERv
bid0IGJlIGxhenkgaW5zaWRlIHNlbGZ0ZXN0czsgaG9sZCB0aGUgdGltZWxpbmUtPm11dGV4IGZv
ciBhcyBsb25nCj4gYXMgd2UgbmVlZCBpdCwgYW5kIHRpZHkgdXAgYWNxdWlyaW5nIHRoZSB0aW1l
bGluZSB3aXRoIGEgYml0IG9mCj4gcmVmYWN0b3JpbmcgKGk5MTVfYWN0aXZlX2FkZF9yZXF1ZXN0
KQo+IAo+IFNpZ25lZC1vZmYtYnk6IENocmlzIFdpbHNvbiA8Y2hyaXNAY2hyaXMtd2lsc29uLmNv
LnVrPgo+IENjOiBUdnJ0a28gVXJzdWxpbiA8dHZydGtvLnVyc3VsaW5AaW50ZWwuY29tPgo+IC0t
LQo+ICAgZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9vdmVybGF5LmMgIHwgIDIg
Ky0KPiAgIC4uLi9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX2NsaWVudF9ibHQuYyAgICB8ICAy
ICstCj4gICBkcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fY29udGV4dC5jICAgfCAg
MiArLQo+ICAgZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfY29udGV4dC5jICAgICAgIHwg
IDQgKy0KPiAgIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2VuZ2luZV9jcy5jICAgICB8
IDU3ICsrKysrKysrKysrKysrKystLS0KPiAgIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVs
X2VuZ2luZV9wbS5jICAgICB8ICAyICstCj4gICBkcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRl
bF9lbmdpbmVfcG9vbC5oICAgfCAgMiArLQo+ICAgZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50
ZWxfbHJjLmMgICAgICAgICAgIHwgMTcgKysrLS0tCj4gICBkcml2ZXJzL2dwdS9kcm0vaTkxNS9n
dC9pbnRlbF9yaW5nYnVmZmVyLmMgICAgfCAyNyArKysrKy0tLS0KPiAgIGRyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2d0L2ludGVsX3RpbWVsaW5lLmMgICAgICB8ICA2ICstCj4gICAuLi4vZ3B1L2RybS9p
OTE1L2d0L2ludGVsX3RpbWVsaW5lX3R5cGVzLmggICAgfCAgMSArCj4gICBkcml2ZXJzL2dwdS9k
cm0vaTkxNS9ndC9zZWxmdGVzdF9jb250ZXh0LmMgICAgfCAxOCArKysrLS0KPiAgIGRyaXZlcnMv
Z3B1L2RybS9pOTE1L2d0L3NlbGZ0ZXN0X2xyYy5jICAgICAgICB8ICAyICstCj4gICBkcml2ZXJz
L2dwdS9kcm0vaTkxNS9pOTE1X2FjdGl2ZS5jICAgICAgICAgICAgfCAgMiArLQo+ICAgZHJpdmVy
cy9ncHUvZHJtL2k5MTUvaTkxNV9hY3RpdmUuaCAgICAgICAgICAgIHwgIDYgKysKPiAgIGRyaXZl
cnMvZ3B1L2RybS9pOTE1L2k5MTVfcmVxdWVzdC5jICAgICAgICAgICB8IDI4ICsrKysrLS0tLQo+
ICAgZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9yZXF1ZXN0LmggICAgICAgICAgIHwgMjIgKysr
KysrLQo+ICAgZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV92bWEuYyAgICAgICAgICAgICAgIHwg
IDYgKy0KPiAgIGRyaXZlcnMvZ3B1L2RybS9pOTE1L3NlbGZ0ZXN0cy9pOTE1X2FjdGl2ZS5jICB8
ICAyICstCj4gICBkcml2ZXJzL2dwdS9kcm0vaTkxNS9zZWxmdGVzdHMvaWd0X3NwaW5uZXIuYyAg
fCAgMiArLQo+ICAgMjAgZmlsZXMgY2hhbmdlZCwgMTQ3IGluc2VydGlvbnMoKyksIDYzIGRlbGV0
aW9ucygtKQo+IAo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2lu
dGVsX292ZXJsYXkuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfb3Zlcmxh
eS5jCj4gaW5kZXggMjllZGZjMzQzNzE2Li41ZWZlZjliYWJhZGIgMTAwNjQ0Cj4gLS0tIGEvZHJp
dmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9vdmVybGF5LmMKPiArKysgYi9kcml2ZXJz
L2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX292ZXJsYXkuYwo+IEBAIC0yMzAsNyArMjMwLDcg
QEAgYWxsb2NfcmVxdWVzdChzdHJ1Y3QgaW50ZWxfb3ZlcmxheSAqb3ZlcmxheSwgdm9pZCAoKmZu
KShzdHJ1Y3QgaW50ZWxfb3ZlcmxheSAqKSkKPiAgIAlpZiAoSVNfRVJSKHJxKSkKPiAgIAkJcmV0
dXJuIHJxOwo+ICAgCj4gLQllcnIgPSBpOTE1X2FjdGl2ZV9yZWYoJm92ZXJsYXktPmxhc3RfZmxp
cCwgcnEtPnRpbWVsaW5lLCBycSk7Cj4gKwllcnIgPSBpOTE1X2FjdGl2ZV9hZGRfcmVxdWVzdCgm
b3ZlcmxheS0+bGFzdF9mbGlwLCBycSk7Cj4gICAJaWYgKGVycikgewo+ICAgCQlpOTE1X3JlcXVl
c3RfYWRkKHJxKTsKPiAgIAkJcmV0dXJuIEVSUl9QVFIoZXJyKTsKPiBkaWZmIC0tZ2l0IGEvZHJp
dmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX2NsaWVudF9ibHQuYyBiL2RyaXZlcnMvZ3B1
L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9jbGllbnRfYmx0LmMKPiBpbmRleCBmOTk5MjA2NTI3NTEu
LjdmNjFhODAyNDEzMyAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkx
NV9nZW1fY2xpZW50X2JsdC5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVf
Z2VtX2NsaWVudF9ibHQuYwo+IEBAIC0yMTEsNyArMjExLDcgQEAgc3RhdGljIHZvaWQgY2xlYXJf
cGFnZXNfd29ya2VyKHN0cnVjdCB3b3JrX3N0cnVjdCAqd29yaykKPiAgIAkgKiBrZWVwIHRyYWNr
IG9mIHRoZSBHUFUgYWN0aXZpdHkgd2l0aGluIHRoaXMgdm1hL3JlcXVlc3QsIGFuZAo+ICAgCSAq
IHByb3BhZ2F0ZSB0aGUgc2lnbmFsIGZyb20gdGhlIHJlcXVlc3QgdG8gdy0+ZG1hLgo+ICAgCSAq
Lwo+IC0JZXJyID0gaTkxNV9hY3RpdmVfcmVmKCZ2bWEtPmFjdGl2ZSwgcnEtPnRpbWVsaW5lLCBy
cSk7Cj4gKwllcnIgPSBpOTE1X2FjdGl2ZV9hZGRfcmVxdWVzdCgmdm1hLT5hY3RpdmUsIHJxKTsK
PiAgIAlpZiAoZXJyKQo+ICAgCQlnb3RvIG91dF9yZXF1ZXN0Owo+ICAgCj4gZGlmZiAtLWdpdCBh
L2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9jb250ZXh0LmMgYi9kcml2ZXJzL2dw
dS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fY29udGV4dC5jCj4gaW5kZXggZjFjMGU1ZDk1OGYzLi40
YTM0YzRmNjIwNjUgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVf
Z2VtX2NvbnRleHQuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9j
b250ZXh0LmMKPiBAQCAtOTEwLDcgKzkxMCw3IEBAIHN0YXRpYyBpbnQgY29udGV4dF9iYXJyaWVy
X3Rhc2soc3RydWN0IGk5MTVfZ2VtX2NvbnRleHQgKmN0eCwKPiAgIAkJaWYgKGVtaXQpCj4gICAJ
CQllcnIgPSBlbWl0KHJxLCBkYXRhKTsKPiAgIAkJaWYgKGVyciA9PSAwKQo+IC0JCQllcnIgPSBp
OTE1X2FjdGl2ZV9yZWYoJmNiLT5iYXNlLCBycS0+dGltZWxpbmUsIHJxKTsKPiArCQkJZXJyID0g
aTkxNV9hY3RpdmVfYWRkX3JlcXVlc3QoJmNiLT5iYXNlLCBycSk7Cj4gICAKPiAgIAkJaTkxNV9y
ZXF1ZXN0X2FkZChycSk7Cj4gICAJCWlmIChlcnIpCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1
L2RybS9pOTE1L2d0L2ludGVsX2NvbnRleHQuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2lu
dGVsX2NvbnRleHQuYwo+IGluZGV4IGMwNDk1ODExZjQ5My4uMjZjYjgzOGMyNzJjIDEwMDY0NAo+
IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2NvbnRleHQuYwo+ICsrKyBiL2Ry
aXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2NvbnRleHQuYwo+IEBAIC0yOTgsNyArMjk4LDcg
QEAgaW50IGludGVsX2NvbnRleHRfcHJlcGFyZV9yZW1vdGVfcmVxdWVzdChzdHJ1Y3QgaW50ZWxf
Y29udGV4dCAqY2UsCj4gICAJLyogT25seSBzdWl0YWJsZSBmb3IgdXNlIGluIHJlbW90ZWx5IG1v
ZGlmeWluZyB0aGlzIGNvbnRleHQgKi8KPiAgIAlHRU1fQlVHX09OKHJxLT5od19jb250ZXh0ID09
IGNlKTsKPiAgIAo+IC0JaWYgKHJxLT50aW1lbGluZSAhPSB0bCkgeyAvKiBiZXdhcmUgdGltZWxp
bmUgc2hhcmluZyAqLwo+ICsJaWYgKHJjdV9hY2Nlc3NfcG9pbnRlcihycS0+dGltZWxpbmUpICE9
IHRsKSB7IC8qIHRpbWVsaW5lIHNoYXJpbmchICovCj4gICAJCWVyciA9IG11dGV4X2xvY2tfaW50
ZXJydXB0aWJsZV9uZXN0ZWQoJnRsLT5tdXRleCwKPiAgIAkJCQkJCSAgICAgIFNJTkdMRV9ERVBU
SF9ORVNUSU5HKTsKPiAgIAkJaWYgKGVycikKPiBAQCAtMzE5LDcgKzMxOSw3IEBAIGludCBpbnRl
bF9jb250ZXh0X3ByZXBhcmVfcmVtb3RlX3JlcXVlc3Qoc3RydWN0IGludGVsX2NvbnRleHQgKmNl
LAo+ICAgCSAqIHdvcmRzIHRyYW5zZmVyIHRoZSBwaW5uZWQgY2Ugb2JqZWN0IHRvIHRyYWNrZWQg
YWN0aXZlIHJlcXVlc3QuCj4gICAJICovCj4gICAJR0VNX0JVR19PTihpOTE1X2FjdGl2ZV9pc19p
ZGxlKCZjZS0+YWN0aXZlKSk7Cj4gLQlyZXR1cm4gaTkxNV9hY3RpdmVfcmVmKCZjZS0+YWN0aXZl
LCBycS0+dGltZWxpbmUsIHJxKTsKPiArCXJldHVybiBpOTE1X2FjdGl2ZV9hZGRfcmVxdWVzdCgm
Y2UtPmFjdGl2ZSwgcnEpOwo+ICAgfQo+ICAgCj4gICBzdHJ1Y3QgaTkxNV9yZXF1ZXN0ICppbnRl
bF9jb250ZXh0X2NyZWF0ZV9yZXF1ZXN0KHN0cnVjdCBpbnRlbF9jb250ZXh0ICpjZSkKPiBkaWZm
IC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZW5naW5lX2NzLmMgYi9kcml2
ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9lbmdpbmVfY3MuYwo+IGluZGV4IDNjMTc2YjBmNGI0
NS4uZjQ1MWQ1MDc2YmRlIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2lu
dGVsX2VuZ2luZV9jcy5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZW5n
aW5lX2NzLmMKPiBAQCAtNjgwLDYgKzY4MCw4IEBAIHN0YXRpYyBpbnQgbWVhc3VyZV9icmVhZGNy
dW1iX2R3KHN0cnVjdCBpbnRlbF9lbmdpbmVfY3MgKmVuZ2luZSkKPiAgIAkJCQllbmdpbmUtPnN0
YXR1c19wYWdlLnZtYSkpCj4gICAJCWdvdG8gb3V0X2ZyYW1lOwo+ICAgCj4gKwltdXRleF9sb2Nr
KCZmcmFtZS0+dGltZWxpbmUubXV0ZXgpOwo+ICsKPiAgIAlmcmFtZS0+cmluZy52YWRkciA9IGZy
YW1lLT5jczsKPiAgIAlmcmFtZS0+cmluZy5zaXplID0gc2l6ZW9mKGZyYW1lLT5jcyk7Cj4gICAJ
ZnJhbWUtPnJpbmcuZWZmZWN0aXZlX3NpemUgPSBmcmFtZS0+cmluZy5zaXplOwo+IEBAIC02ODgs
MTggKzY5MCwyMiBAQCBzdGF0aWMgaW50IG1lYXN1cmVfYnJlYWRjcnVtYl9kdyhzdHJ1Y3QgaW50
ZWxfZW5naW5lX2NzICplbmdpbmUpCj4gICAJZnJhbWUtPnJxLmk5MTUgPSBlbmdpbmUtPmk5MTU7
Cj4gICAJZnJhbWUtPnJxLmVuZ2luZSA9IGVuZ2luZTsKPiAgIAlmcmFtZS0+cnEucmluZyA9ICZm
cmFtZS0+cmluZzsKPiAtCWZyYW1lLT5ycS50aW1lbGluZSA9ICZmcmFtZS0+dGltZWxpbmU7Cj4g
KwlyY3VfYXNzaWduX3BvaW50ZXIoZnJhbWUtPnJxLnRpbWVsaW5lLCAmZnJhbWUtPnRpbWVsaW5l
KTsKPiAgIAo+ICAgCWR3ID0gaW50ZWxfdGltZWxpbmVfcGluKCZmcmFtZS0+dGltZWxpbmUpOwo+
ICAgCWlmIChkdyA8IDApCj4gICAJCWdvdG8gb3V0X3RpbWVsaW5lOwo+ICAgCj4gKwlzcGluX2xv
Y2tfaXJxKCZlbmdpbmUtPmFjdGl2ZS5sb2NrKTsKPiAgIAlkdyA9IGVuZ2luZS0+ZW1pdF9maW5p
X2JyZWFkY3J1bWIoJmZyYW1lLT5ycSwgZnJhbWUtPmNzKSAtIGZyYW1lLT5jczsKPiArCXNwaW5f
dW5sb2NrX2lycSgmZW5naW5lLT5hY3RpdmUubG9jayk7Cj4gKwo+ICAgCUdFTV9CVUdfT04oZHcg
JiAxKTsgLyogUklOR19UQUlMIG11c3QgYmUgcXdvcmQgYWxpZ25lZCAqLwo+ICAgCj4gICAJaW50
ZWxfdGltZWxpbmVfdW5waW4oJmZyYW1lLT50aW1lbGluZSk7Cj4gICAKPiAgIG91dF90aW1lbGlu
ZToKPiArCW11dGV4X3VubG9jaygmZnJhbWUtPnRpbWVsaW5lLm11dGV4KTsKPiAgIAlpbnRlbF90
aW1lbGluZV9maW5pKCZmcmFtZS0+dGltZWxpbmUpOwo+ICAgb3V0X2ZyYW1lOgo+ICAgCWtmcmVl
KGZyYW1lKTsKPiBAQCAtMTE5Niw2ICsxMjAyLDI3IEBAIHN0YXRpYyB2b2lkIGhleGR1bXAoc3Ry
dWN0IGRybV9wcmludGVyICptLCBjb25zdCB2b2lkICpidWYsIHNpemVfdCBsZW4pCj4gICAJfQo+
ICAgfQo+ICAgCj4gK3N0YXRpYyBzdHJ1Y3QgaW50ZWxfdGltZWxpbmUgKmdldF90aW1lbGluZShz
dHJ1Y3QgaTkxNV9yZXF1ZXN0ICpycSkKPiArewo+ICsJc3RydWN0IGludGVsX3RpbWVsaW5lICp0
bDsKPiArCj4gKwkvKgo+ICsJICogRXZlbiB0aG91Z2ggd2UgYXJlIGhvbGRpbmcgdGhlIGVuZ2lu
ZS0+YWN0aXZlLmxvY2sgaGVyZSwgdGhlcmUKPiArCSAqIGlzIG5vIGNvbnRyb2wgb3ZlciB0aGUg
c3VibWlzc2lvbiBxdWV1ZSBwZXItc2UgYW5kIHdlIGFyZQo+ICsJICogaW5zcGVjdGluZyB0aGUg
YWN0aXZlIHN0YXRlIGF0IGEgcmFuZG9tIHBvaW50IGluIHRpbWUsIHdpdGggYW4KPiArCSAqIHVu
a25vd24gcXVldWUuIFBsYXkgc2FmZSBhbmQgbWFrZSBzdXJlIHRoZSB0aW1lbGluZSByZW1haW5z
IHZhbGlkLgo+ICsJICogKE9ubHkgYmVpbmcgdXNlZCBmb3IgcHJldHR5IHByaW50aW5nLCBvbmUg
ZXh0cmEga3JlZiBzaG91bGRuJ3QKPiArCSAqIGNhdXNlIGEgY2FtZWwgc3RhbXBlZGUhKQo+ICsJ
ICovCj4gKwlyY3VfcmVhZF9sb2NrKCk7Cj4gKwl0bCA9IHJjdV9kZXJlZmVyZW5jZShycS0+dGlt
ZWxpbmUpOwo+ICsJaWYgKCFrcmVmX2dldF91bmxlc3NfemVybygmdGwtPmtyZWYpKQo+ICsJCXRs
ID0gTlVMTDsKPiArCXJjdV9yZWFkX3VubG9jaygpOwoKSG93IGNhbiBpdCBiZSBOVUxMIHVuZGVy
IHRoZSBhY3RpdmUgbG9jaz8gSXNuJ3QgdGhhdCB0aGUgc2FtZSBhc3NlcnRpb24gCmZyb20gaTkx
NV90aW1lbGluZV9nZXRfYWN0aXZlLgoKPiArCj4gKwlyZXR1cm4gdGw7Cj4gK30KPiArCj4gICBz
dGF0aWMgdm9pZCBpbnRlbF9lbmdpbmVfcHJpbnRfcmVnaXN0ZXJzKHN0cnVjdCBpbnRlbF9lbmdp
bmVfY3MgKmVuZ2luZSwKPiAgIAkJCQkJIHN0cnVjdCBkcm1fcHJpbnRlciAqbSkKPiAgIHsKPiBA
QCAtMTI5MCwyNyArMTMxNywzNyBAQCBzdGF0aWMgdm9pZCBpbnRlbF9lbmdpbmVfcHJpbnRfcmVn
aXN0ZXJzKHN0cnVjdCBpbnRlbF9lbmdpbmVfY3MgKmVuZ2luZSwKPiAgIAkJCWludCBsZW47Cj4g
ICAKPiAgIAkJCWxlbiA9IHNucHJpbnRmKGhkciwgc2l6ZW9mKGhkciksCj4gLQkJCQkgICAgICAg
Ilx0XHRBY3RpdmVbJWQ6ICIsCj4gKwkJCQkgICAgICAgIlx0XHRBY3RpdmVbJWRdOiAiLAo+ICAg
CQkJCSAgICAgICAoaW50KShwb3J0IC0gZXhlY2xpc3RzLT5hY3RpdmUpKTsKPiAtCQkJaWYgKCFp
OTE1X3JlcXVlc3Rfc2lnbmFsZWQocnEpKQo+ICsJCQlpZiAoIWk5MTVfcmVxdWVzdF9zaWduYWxl
ZChycSkpIHsKPiArCQkJCXN0cnVjdCBpbnRlbF90aW1lbGluZSAqdGwgPSBnZXRfdGltZWxpbmUo
cnEpOwo+ICsKPiAgIAkJCQlsZW4gKz0gc25wcmludGYoaGRyICsgbGVuLCBzaXplb2YoaGRyKSAt
IGxlbiwKPiAgIAkJCQkJCSJyaW5nOntzdGFydDolMDh4LCBod3NwOiUwOHgsIHNlcW5vOiUwOHh9
LCAiLAo+ICAgCQkJCQkJaTkxNV9nZ3R0X29mZnNldChycS0+cmluZy0+dm1hKSwKPiAtCQkJCQkJ
cnEtPnRpbWVsaW5lLT5od3NwX29mZnNldCwKPiArCQkJCQkJdGwgPyB0bC0+aHdzcF9vZmZzZXQg
OiAwLAo+ICAgCQkJCQkJaHdzcF9zZXFubyhycSkpOwo+ICsKPiArCQkJCWlmICh0bCkKPiArCQkJ
CQlpbnRlbF90aW1lbGluZV9wdXQodGwpOwo+ICsJCQl9Cj4gICAJCQlzbnByaW50ZihoZHIgKyBs
ZW4sIHNpemVvZihoZHIpIC0gbGVuLCAicnE6ICIpOwo+ICAgCQkJcHJpbnRfcmVxdWVzdChtLCBy
cSwgaGRyKTsKPiAgIAkJfQo+ICAgCQlmb3IgKHBvcnQgPSBleGVjbGlzdHMtPnBlbmRpbmc7IChy
cSA9ICpwb3J0KTsgcG9ydCsrKSB7Cj4gKwkJCXN0cnVjdCBpbnRlbF90aW1lbGluZSAqdGwgPSBn
ZXRfdGltZWxpbmUocnEpOwo+ICAgCQkJY2hhciBoZHJbODBdOwo+ICAgCj4gICAJCQlzbnByaW50
ZihoZHIsIHNpemVvZihoZHIpLAo+ICAgCQkJCSAiXHRcdFBlbmRpbmdbJWRdIHJpbmc6e3N0YXJ0
OiUwOHgsIGh3c3A6JTA4eCwgc2Vxbm86JTA4eH0sIHJxOiAiLAo+ICAgCQkJCSAoaW50KShwb3J0
IC0gZXhlY2xpc3RzLT5wZW5kaW5nKSwKPiAgIAkJCQkgaTkxNV9nZ3R0X29mZnNldChycS0+cmlu
Zy0+dm1hKSwKPiAtCQkJCSBycS0+dGltZWxpbmUtPmh3c3Bfb2Zmc2V0LAo+ICsJCQkJIHRsID8g
dGwtPmh3c3Bfb2Zmc2V0IDogMCwKPiAgIAkJCQkgaHdzcF9zZXFubyhycSkpOwo+ICAgCQkJcHJp
bnRfcmVxdWVzdChtLCBycSwgaGRyKTsKPiArCj4gKwkJCWlmICh0bCkKPiArCQkJCWludGVsX3Rp
bWVsaW5lX3B1dCh0bCk7Cj4gICAJCX0KPiAgIAkJc3Bpbl91bmxvY2tfaXJxcmVzdG9yZSgmZW5n
aW5lLT5hY3RpdmUubG9jaywgZmxhZ3MpOwo+ICAgCX0gZWxzZSBpZiAoSU5URUxfR0VOKGRldl9w
cml2KSA+IDYpIHsKPiBAQCAtMTM4OCw2ICsxNDI1LDggQEAgdm9pZCBpbnRlbF9lbmdpbmVfZHVt
cChzdHJ1Y3QgaW50ZWxfZW5naW5lX2NzICplbmdpbmUsCj4gICAJc3Bpbl9sb2NrX2lycXNhdmUo
JmVuZ2luZS0+YWN0aXZlLmxvY2ssIGZsYWdzKTsKPiAgIAlycSA9IGludGVsX2VuZ2luZV9maW5k
X2FjdGl2ZV9yZXF1ZXN0KGVuZ2luZSk7Cj4gICAJaWYgKHJxKSB7Cj4gKwkJc3RydWN0IGludGVs
X3RpbWVsaW5lICp0bCA9IGdldF90aW1lbGluZShycSk7Cj4gKwo+ICAgCQlwcmludF9yZXF1ZXN0
KG0sIHJxLCAiXHRcdGFjdGl2ZSAiKTsKPiAgIAo+ICAgCQlkcm1fcHJpbnRmKG0sICJcdFx0cmlu
Zy0+c3RhcnQ6ICAweCUwOHhcbiIsCj4gQEAgLTE0MDAsOCArMTQzOSwxMiBAQCB2b2lkIGludGVs
X2VuZ2luZV9kdW1wKHN0cnVjdCBpbnRlbF9lbmdpbmVfY3MgKmVuZ2luZSwKPiAgIAkJCSAgIHJx
LT5yaW5nLT5lbWl0KTsKPiAgIAkJZHJtX3ByaW50ZihtLCAiXHRcdHJpbmctPnNwYWNlOiAgMHgl
MDh4XG4iLAo+ICAgCQkJICAgcnEtPnJpbmctPnNwYWNlKTsKPiAtCQlkcm1fcHJpbnRmKG0sICJc
dFx0cmluZy0+aHdzcDogICAweCUwOHhcbiIsCj4gLQkJCSAgIHJxLT50aW1lbGluZS0+aHdzcF9v
ZmZzZXQpOwo+ICsKPiArCQlpZiAodGwpIHsKPiArCQkJZHJtX3ByaW50ZihtLCAiXHRcdHJpbmct
Pmh3c3A6ICAgMHglMDh4XG4iLAo+ICsJCQkJICAgdGwtPmh3c3Bfb2Zmc2V0KTsKPiArCQkJaW50
ZWxfdGltZWxpbmVfcHV0KHRsKTsKPiArCQl9Cj4gICAKPiAgIAkJcHJpbnRfcmVxdWVzdF9yaW5n
KG0sIHJxKTsKPiAgIAo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRl
bF9lbmdpbmVfcG0uYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2VuZ2luZV9wbS5j
Cj4gaW5kZXggNjViNWNhNzRiMzk0Li5jZTYxYzgzZDY4ZTkgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVy
cy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZW5naW5lX3BtLmMKPiArKysgYi9kcml2ZXJzL2dwdS9k
cm0vaTkxNS9ndC9pbnRlbF9lbmdpbmVfcG0uYwo+IEBAIC0xMDMsNyArMTAzLDcgQEAgc3RhdGlj
IGJvb2wgc3dpdGNoX3RvX2tlcm5lbF9jb250ZXh0KHN0cnVjdCBpbnRlbF9lbmdpbmVfY3MgKmVu
Z2luZSkKPiAgIAkJLyogQ29udGV4dCBzd2l0Y2ggZmFpbGVkLCBob3BlIGZvciB0aGUgYmVzdCEg
TWF5YmUgcmVzZXQ/ICovCj4gICAJCWdvdG8gb3V0X3VubG9jazsKPiAgIAo+IC0JaW50ZWxfdGlt
ZWxpbmVfZW50ZXIocnEtPnRpbWVsaW5lKTsKPiArCWludGVsX3RpbWVsaW5lX2VudGVyKGk5MTVf
cmVxdWVzdF90aW1lbGluZShycSkpOwo+ICAgCj4gICAJLyogQ2hlY2sgYWdhaW4gb24gdGhlIG5l
eHQgcmV0aXJlbWVudC4gKi8KPiAgIAllbmdpbmUtPndha2VyZWZfc2VyaWFsID0gZW5naW5lLT5z
ZXJpYWwgKyAxOwo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9l
bmdpbmVfcG9vbC5oIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZW5naW5lX3Bvb2wu
aAo+IGluZGV4IDdlMjEyM2IzMzU5NC4uMWJkODljYWRjM2I3IDEwMDY0NAo+IC0tLSBhL2RyaXZl
cnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2VuZ2luZV9wb29sLmgKPiArKysgYi9kcml2ZXJzL2dw
dS9kcm0vaTkxNS9ndC9pbnRlbF9lbmdpbmVfcG9vbC5oCj4gQEAgLTE4LDcgKzE4LDcgQEAgc3Rh
dGljIGlubGluZSBpbnQKPiAgIGludGVsX2VuZ2luZV9wb29sX21hcmtfYWN0aXZlKHN0cnVjdCBp
bnRlbF9lbmdpbmVfcG9vbF9ub2RlICpub2RlLAo+ICAgCQkJICAgICAgc3RydWN0IGk5MTVfcmVx
dWVzdCAqcnEpCj4gICB7Cj4gLQlyZXR1cm4gaTkxNV9hY3RpdmVfcmVmKCZub2RlLT5hY3RpdmUs
IHJxLT50aW1lbGluZSwgcnEpOwo+ICsJcmV0dXJuIGk5MTVfYWN0aXZlX2FkZF9yZXF1ZXN0KCZu
b2RlLT5hY3RpdmUsIHJxKTsKPiAgIH0KPiAgIAo+ICAgc3RhdGljIGlubGluZSB2b2lkCj4gZGlm
ZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2xyYy5jIGIvZHJpdmVycy9n
cHUvZHJtL2k5MTUvZ3QvaW50ZWxfbHJjLmMKPiBpbmRleCBhOTkxNjZhMmQyZWIuLmFjMjE1ODdi
NzVmNiAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9scmMuYwo+
ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2xyYy5jCj4gQEAgLTE4MjUsNyAr
MTgyNSw3IEBAIHN0YXRpYyBpbnQgZ2VuOF9lbWl0X2luaXRfYnJlYWRjcnVtYihzdHJ1Y3QgaTkx
NV9yZXF1ZXN0ICpycSkKPiAgIHsKPiAgIAl1MzIgKmNzOwo+ICAgCj4gLQlHRU1fQlVHX09OKCFy
cS0+dGltZWxpbmUtPmhhc19pbml0aWFsX2JyZWFkY3J1bWIpOwo+ICsJR0VNX0JVR19PTighaTkx
NV9yZXF1ZXN0X3RpbWVsaW5lKHJxKS0+aGFzX2luaXRpYWxfYnJlYWRjcnVtYik7Cj4gICAKPiAg
IAljcyA9IGludGVsX3JpbmdfYmVnaW4ocnEsIDYpOwo+ICAgCWlmIChJU19FUlIoY3MpKQo+IEBA
IC0xODQxLDcgKzE4NDEsNyBAQCBzdGF0aWMgaW50IGdlbjhfZW1pdF9pbml0X2JyZWFkY3J1bWIo
c3RydWN0IGk5MTVfcmVxdWVzdCAqcnEpCj4gICAJKmNzKysgPSBNSV9OT09QOwo+ICAgCj4gICAJ
KmNzKysgPSBNSV9TVE9SRV9EV09SRF9JTU1fR0VONCB8IE1JX1VTRV9HR1RUOwo+IC0JKmNzKysg
PSBycS0+dGltZWxpbmUtPmh3c3Bfb2Zmc2V0Owo+ICsJKmNzKysgPSBpOTE1X3JlcXVlc3RfdGlt
ZWxpbmUocnEpLT5od3NwX29mZnNldDsKPiAgIAkqY3MrKyA9IDA7Cj4gICAJKmNzKysgPSBycS0+
ZmVuY2Uuc2Vxbm8gLSAxOwo+ICAgCj4gQEAgLTIzMjQsNyArMjMyNCw4IEBAIHN0YXRpYyB2b2lk
IHJlc2V0X2NzYl9wb2ludGVycyhzdHJ1Y3QgaW50ZWxfZW5naW5lX2NzICplbmdpbmUpCj4gICAK
PiAgIHN0YXRpYyBzdHJ1Y3QgaTkxNV9yZXF1ZXN0ICphY3RpdmVfcmVxdWVzdChzdHJ1Y3QgaTkx
NV9yZXF1ZXN0ICpycSkKPiAgIHsKPiAtCWNvbnN0IHN0cnVjdCBsaXN0X2hlYWQgKiBjb25zdCBs
aXN0ID0gJnJxLT50aW1lbGluZS0+cmVxdWVzdHM7Cj4gKwljb25zdCBzdHJ1Y3QgbGlzdF9oZWFk
ICogY29uc3QgbGlzdCA9Cj4gKwkJJmk5MTVfcmVxdWVzdF9hY3RpdmVfdGltZWxpbmUocnEpLT5y
ZXF1ZXN0czsKPiAgIAljb25zdCBzdHJ1Y3QgaW50ZWxfY29udGV4dCAqIGNvbnN0IGNlID0gcnEt
Pmh3X2NvbnRleHQ7Cj4gICAJc3RydWN0IGk5MTVfcmVxdWVzdCAqYWN0aXZlID0gTlVMTDsKPiAg
IAo+IEBAIC0yODU1LDcgKzI4NTYsNyBAQCBzdGF0aWMgdTMyICpnZW44X2VtaXRfZmluaV9icmVh
ZGNydW1iKHN0cnVjdCBpOTE1X3JlcXVlc3QgKnJlcXVlc3QsIHUzMiAqY3MpCj4gICB7Cj4gICAJ
Y3MgPSBnZW44X2VtaXRfZ2d0dF93cml0ZShjcywKPiAgIAkJCQkgIHJlcXVlc3QtPmZlbmNlLnNl
cW5vLAo+IC0JCQkJICByZXF1ZXN0LT50aW1lbGluZS0+aHdzcF9vZmZzZXQsCj4gKwkJCQkgIGk5
MTVfcmVxdWVzdF9hY3RpdmVfdGltZWxpbmUocmVxdWVzdCktPmh3c3Bfb2Zmc2V0LAo+ICAgCQkJ
CSAgMCk7Cj4gICAKPiAgIAlyZXR1cm4gZ2VuOF9lbWl0X2ZpbmlfYnJlYWRjcnVtYl9mb290ZXIo
cmVxdWVzdCwgY3MpOwo+IEBAIC0yODcyLDcgKzI4NzMsNyBAQCBzdGF0aWMgdTMyICpnZW44X2Vt
aXRfZmluaV9icmVhZGNydW1iX3JjcyhzdHJ1Y3QgaTkxNV9yZXF1ZXN0ICpyZXF1ZXN0LCB1MzIg
KmNzKQo+ICAgCS8qIFhYWCBmbHVzaCt3cml0ZStDU19TVEFMTCBhbGwgaW4gb25lIHVwc2V0cyBn
ZW1fY29uY3VycmVudF9ibHQ6a2JsICovCj4gICAJY3MgPSBnZW44X2VtaXRfZ2d0dF93cml0ZV9y
Y3MoY3MsCj4gICAJCQkJICAgICAgcmVxdWVzdC0+ZmVuY2Uuc2Vxbm8sCj4gLQkJCQkgICAgICBy
ZXF1ZXN0LT50aW1lbGluZS0+aHdzcF9vZmZzZXQsCj4gKwkJCQkgICAgICBpOTE1X3JlcXVlc3Rf
YWN0aXZlX3RpbWVsaW5lKHJlcXVlc3QpLT5od3NwX29mZnNldCwKPiAgIAkJCQkgICAgICBQSVBF
X0NPTlRST0xfRkxVU0hfRU5BQkxFIHwKPiAgIAkJCQkgICAgICBQSVBFX0NPTlRST0xfQ1NfU1RB
TEwpOwo+ICAgCj4gQEAgLTI4ODQsNyArMjg4NSw3IEBAIGdlbjExX2VtaXRfZmluaV9icmVhZGNy
dW1iX3JjcyhzdHJ1Y3QgaTkxNV9yZXF1ZXN0ICpyZXF1ZXN0LCB1MzIgKmNzKQo+ICAgewo+ICAg
CWNzID0gZ2VuOF9lbWl0X2dndHRfd3JpdGVfcmNzKGNzLAo+ICAgCQkJCSAgICAgIHJlcXVlc3Qt
PmZlbmNlLnNlcW5vLAo+IC0JCQkJICAgICAgcmVxdWVzdC0+dGltZWxpbmUtPmh3c3Bfb2Zmc2V0
LAo+ICsJCQkJICAgICAgaTkxNV9yZXF1ZXN0X2FjdGl2ZV90aW1lbGluZShyZXF1ZXN0KS0+aHdz
cF9vZmZzZXQsCj4gICAJCQkJICAgICAgUElQRV9DT05UUk9MX0NTX1NUQUxMIHwKPiAgIAkJCQkg
ICAgICBQSVBFX0NPTlRST0xfVElMRV9DQUNIRV9GTFVTSCB8Cj4gICAJCQkJICAgICAgUElQRV9D
T05UUk9MX1JFTkRFUl9UQVJHRVRfQ0FDSEVfRkxVU0ggfAo+IEBAIC0yOTQ4LDcgKzI5NDksNyBA
QCBzdGF0aWMgdTMyICpnZW4xMl9lbWl0X2ZpbmlfYnJlYWRjcnVtYihzdHJ1Y3QgaTkxNV9yZXF1
ZXN0ICpyZXF1ZXN0LCB1MzIgKmNzKQo+ICAgewo+ICAgCWNzID0gZ2VuOF9lbWl0X2dndHRfd3Jp
dGUoY3MsCj4gICAJCQkJICByZXF1ZXN0LT5mZW5jZS5zZXFubywKPiAtCQkJCSAgcmVxdWVzdC0+
dGltZWxpbmUtPmh3c3Bfb2Zmc2V0LAo+ICsJCQkJICBpOTE1X3JlcXVlc3RfYWN0aXZlX3RpbWVs
aW5lKHJlcXVlc3QpLT5od3NwX29mZnNldCwKPiAgIAkJCQkgIDApOwo+ICAgCj4gICAJcmV0dXJu
IGdlbjEyX2VtaXRfZmluaV9icmVhZGNydW1iX2Zvb3RlcihyZXF1ZXN0LCBjcyk7Cj4gQEAgLTI5
NTksNyArMjk2MCw3IEBAIGdlbjEyX2VtaXRfZmluaV9icmVhZGNydW1iX3JjcyhzdHJ1Y3QgaTkx
NV9yZXF1ZXN0ICpyZXF1ZXN0LCB1MzIgKmNzKQo+ICAgewo+ICAgCWNzID0gZ2VuOF9lbWl0X2dn
dHRfd3JpdGVfcmNzKGNzLAo+ICAgCQkJCSAgICAgIHJlcXVlc3QtPmZlbmNlLnNlcW5vLAo+IC0J
CQkJICAgICAgcmVxdWVzdC0+dGltZWxpbmUtPmh3c3Bfb2Zmc2V0LAo+ICsJCQkJICAgICAgaTkx
NV9yZXF1ZXN0X2FjdGl2ZV90aW1lbGluZShyZXF1ZXN0KS0+aHdzcF9vZmZzZXQsCj4gICAJCQkJ
ICAgICAgUElQRV9DT05UUk9MX0NTX1NUQUxMIHwKPiAgIAkJCQkgICAgICBQSVBFX0NPTlRST0xf
VElMRV9DQUNIRV9GTFVTSCB8Cj4gICAJCQkJICAgICAgUElQRV9DT05UUk9MX1JFTkRFUl9UQVJH
RVRfQ0FDSEVfRkxVU0ggfAo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9p
bnRlbF9yaW5nYnVmZmVyLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9yaW5nYnVm
ZmVyLmMKPiBpbmRleCBhMjViODRiMTJlZjEuLjA3NDdiOGM5Zjc2OCAxMDA2NDQKPiAtLS0gYS9k
cml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9yaW5nYnVmZmVyLmMKPiArKysgYi9kcml2ZXJz
L2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9yaW5nYnVmZmVyLmMKPiBAQCAtMzIyLDcgKzMyMiw4IEBA
IHN0YXRpYyB1MzIgKmdlbjZfcmNzX2VtaXRfYnJlYWRjcnVtYihzdHJ1Y3QgaTkxNV9yZXF1ZXN0
ICpycSwgdTMyICpjcykKPiAgIAkJIFBJUEVfQ09OVFJPTF9EQ19GTFVTSF9FTkFCTEUgfAo+ICAg
CQkgUElQRV9DT05UUk9MX1FXX1dSSVRFIHwKPiAgIAkJIFBJUEVfQ09OVFJPTF9DU19TVEFMTCk7
Cj4gLQkqY3MrKyA9IHJxLT50aW1lbGluZS0+aHdzcF9vZmZzZXQgfCBQSVBFX0NPTlRST0xfR0xP
QkFMX0dUVDsKPiArCSpjcysrID0gaTkxNV9yZXF1ZXN0X2FjdGl2ZV90aW1lbGluZShycSktPmh3
c3Bfb2Zmc2V0IHwKPiArCQlQSVBFX0NPTlRST0xfR0xPQkFMX0dUVDsKPiAgIAkqY3MrKyA9IHJx
LT5mZW5jZS5zZXFubzsKPiAgIAo+ICAgCSpjcysrID0gTUlfVVNFUl9JTlRFUlJVUFQ7Cj4gQEAg
LTQyNSw3ICs0MjYsNyBAQCBzdGF0aWMgdTMyICpnZW43X3Jjc19lbWl0X2JyZWFkY3J1bWIoc3Ry
dWN0IGk5MTVfcmVxdWVzdCAqcnEsIHUzMiAqY3MpCj4gICAJCSBQSVBFX0NPTlRST0xfUVdfV1JJ
VEUgfAo+ICAgCQkgUElQRV9DT05UUk9MX0dMT0JBTF9HVFRfSVZCIHwKPiAgIAkJIFBJUEVfQ09O
VFJPTF9DU19TVEFMTCk7Cj4gLQkqY3MrKyA9IHJxLT50aW1lbGluZS0+aHdzcF9vZmZzZXQ7Cj4g
KwkqY3MrKyA9IGk5MTVfcmVxdWVzdF9hY3RpdmVfdGltZWxpbmUocnEpLT5od3NwX29mZnNldDsK
PiAgIAkqY3MrKyA9IHJxLT5mZW5jZS5zZXFubzsKPiAgIAo+ICAgCSpjcysrID0gTUlfVVNFUl9J
TlRFUlJVUFQ7Cj4gQEAgLTQzOSw4ICs0NDAsOCBAQCBzdGF0aWMgdTMyICpnZW43X3Jjc19lbWl0
X2JyZWFkY3J1bWIoc3RydWN0IGk5MTVfcmVxdWVzdCAqcnEsIHUzMiAqY3MpCj4gICAKPiAgIHN0
YXRpYyB1MzIgKmdlbjZfeGNzX2VtaXRfYnJlYWRjcnVtYihzdHJ1Y3QgaTkxNV9yZXF1ZXN0ICpy
cSwgdTMyICpjcykKPiAgIHsKPiAtCUdFTV9CVUdfT04ocnEtPnRpbWVsaW5lLT5od3NwX2dndHQg
IT0gcnEtPmVuZ2luZS0+c3RhdHVzX3BhZ2Uudm1hKTsKPiAtCUdFTV9CVUdfT04ob2Zmc2V0X2lu
X3BhZ2UocnEtPnRpbWVsaW5lLT5od3NwX29mZnNldCkgIT0gSTkxNV9HRU1fSFdTX1NFUU5PX0FE
RFIpOwo+ICsJR0VNX0JVR19PTihpOTE1X3JlcXVlc3RfYWN0aXZlX3RpbWVsaW5lKHJxKS0+aHdz
cF9nZ3R0ICE9IHJxLT5lbmdpbmUtPnN0YXR1c19wYWdlLnZtYSk7Cj4gKwlHRU1fQlVHX09OKG9m
ZnNldF9pbl9wYWdlKGk5MTVfcmVxdWVzdF9hY3RpdmVfdGltZWxpbmUocnEpLT5od3NwX29mZnNl
dCkgIT0gSTkxNV9HRU1fSFdTX1NFUU5PX0FERFIpOwo+ICAgCj4gICAJKmNzKysgPSBNSV9GTFVT
SF9EVyB8IE1JX0ZMVVNIX0RXX09QX1NUT1JFRFcgfCBNSV9GTFVTSF9EV19TVE9SRV9JTkRFWDsK
PiAgIAkqY3MrKyA9IEk5MTVfR0VNX0hXU19TRVFOT19BRERSIHwgTUlfRkxVU0hfRFdfVVNFX0dU
VDsKPiBAQCAtNDU5LDggKzQ2MCw4IEBAIHN0YXRpYyB1MzIgKmdlbjdfeGNzX2VtaXRfYnJlYWRj
cnVtYihzdHJ1Y3QgaTkxNV9yZXF1ZXN0ICpycSwgdTMyICpjcykKPiAgIHsKPiAgIAlpbnQgaTsK
PiAgIAo+IC0JR0VNX0JVR19PTihycS0+dGltZWxpbmUtPmh3c3BfZ2d0dCAhPSBycS0+ZW5naW5l
LT5zdGF0dXNfcGFnZS52bWEpOwo+IC0JR0VNX0JVR19PTihvZmZzZXRfaW5fcGFnZShycS0+dGlt
ZWxpbmUtPmh3c3Bfb2Zmc2V0KSAhPSBJOTE1X0dFTV9IV1NfU0VRTk9fQUREUik7Cj4gKwlHRU1f
QlVHX09OKGk5MTVfcmVxdWVzdF9hY3RpdmVfdGltZWxpbmUocnEpLT5od3NwX2dndHQgIT0gcnEt
PmVuZ2luZS0+c3RhdHVzX3BhZ2Uudm1hKTsKPiArCUdFTV9CVUdfT04ob2Zmc2V0X2luX3BhZ2Uo
aTkxNV9yZXF1ZXN0X2FjdGl2ZV90aW1lbGluZShycSktPmh3c3Bfb2Zmc2V0KSAhPSBJOTE1X0dF
TV9IV1NfU0VRTk9fQUREUik7Cj4gICAKPiAgIAkqY3MrKyA9IE1JX0ZMVVNIX0RXIHwgTUlfRkxV
U0hfRFdfT1BfU1RPUkVEVyB8IE1JX0ZMVVNIX0RXX1NUT1JFX0lOREVYOwo+ICAgCSpjcysrID0g
STkxNV9HRU1fSFdTX1NFUU5PX0FERFIgfCBNSV9GTFVTSF9EV19VU0VfR1RUOwo+IEBAIC05Mzgs
OCArOTM5LDggQEAgc3RhdGljIHZvaWQgaTl4eF9zdWJtaXRfcmVxdWVzdChzdHJ1Y3QgaTkxNV9y
ZXF1ZXN0ICpyZXF1ZXN0KQo+ICAgCj4gICBzdGF0aWMgdTMyICppOXh4X2VtaXRfYnJlYWRjcnVt
YihzdHJ1Y3QgaTkxNV9yZXF1ZXN0ICpycSwgdTMyICpjcykKPiAgIHsKPiAtCUdFTV9CVUdfT04o
cnEtPnRpbWVsaW5lLT5od3NwX2dndHQgIT0gcnEtPmVuZ2luZS0+c3RhdHVzX3BhZ2Uudm1hKTsK
PiAtCUdFTV9CVUdfT04ob2Zmc2V0X2luX3BhZ2UocnEtPnRpbWVsaW5lLT5od3NwX29mZnNldCkg
IT0gSTkxNV9HRU1fSFdTX1NFUU5PX0FERFIpOwo+ICsJR0VNX0JVR19PTihpOTE1X3JlcXVlc3Rf
YWN0aXZlX3RpbWVsaW5lKHJxKS0+aHdzcF9nZ3R0ICE9IHJxLT5lbmdpbmUtPnN0YXR1c19wYWdl
LnZtYSk7Cj4gKwlHRU1fQlVHX09OKG9mZnNldF9pbl9wYWdlKGk5MTVfcmVxdWVzdF9hY3RpdmVf
dGltZWxpbmUocnEpLT5od3NwX29mZnNldCkgIT0gSTkxNV9HRU1fSFdTX1NFUU5PX0FERFIpOwo+
ICAgCj4gICAJKmNzKysgPSBNSV9GTFVTSDsKPiAgIAo+IEBAIC05NjEsOCArOTYyLDggQEAgc3Rh
dGljIHUzMiAqZ2VuNV9lbWl0X2JyZWFkY3J1bWIoc3RydWN0IGk5MTVfcmVxdWVzdCAqcnEsIHUz
MiAqY3MpCj4gICB7Cj4gICAJaW50IGk7Cj4gICAKPiAtCUdFTV9CVUdfT04ocnEtPnRpbWVsaW5l
LT5od3NwX2dndHQgIT0gcnEtPmVuZ2luZS0+c3RhdHVzX3BhZ2Uudm1hKTsKPiAtCUdFTV9CVUdf
T04ob2Zmc2V0X2luX3BhZ2UocnEtPnRpbWVsaW5lLT5od3NwX29mZnNldCkgIT0gSTkxNV9HRU1f
SFdTX1NFUU5PX0FERFIpOwo+ICsJR0VNX0JVR19PTihpOTE1X3JlcXVlc3RfYWN0aXZlX3RpbWVs
aW5lKHJxKS0+aHdzcF9nZ3R0ICE9IHJxLT5lbmdpbmUtPnN0YXR1c19wYWdlLnZtYSk7Cj4gKwlH
RU1fQlVHX09OKG9mZnNldF9pbl9wYWdlKGk5MTVfcmVxdWVzdF9hY3RpdmVfdGltZWxpbmUocnEp
LT5od3NwX29mZnNldCkgIT0gSTkxNV9HRU1fSFdTX1NFUU5PX0FERFIpOwo+ICAgCj4gICAJKmNz
KysgPSBNSV9GTFVTSDsKPiAgIAo+IEBAIC0xODE1LDcgKzE4MTYsNyBAQCBzdGF0aWMgaW50IHJp
bmdfcmVxdWVzdF9hbGxvYyhzdHJ1Y3QgaTkxNV9yZXF1ZXN0ICpyZXF1ZXN0KQo+ICAgCWludCBy
ZXQ7Cj4gICAKPiAgIAlHRU1fQlVHX09OKCFpbnRlbF9jb250ZXh0X2lzX3Bpbm5lZChyZXF1ZXN0
LT5od19jb250ZXh0KSk7Cj4gLQlHRU1fQlVHX09OKHJlcXVlc3QtPnRpbWVsaW5lLT5oYXNfaW5p
dGlhbF9icmVhZGNydW1iKTsKPiArCUdFTV9CVUdfT04oaTkxNV9yZXF1ZXN0X3RpbWVsaW5lKHJl
cXVlc3QpLT5oYXNfaW5pdGlhbF9icmVhZGNydW1iKTsKPiAgIAo+ICAgCS8qCj4gICAJICogRmx1
c2ggZW5vdWdoIHNwYWNlIHRvIHJlZHVjZSB0aGUgbGlrZWxpaG9vZCBvZiB3YWl0aW5nIGFmdGVy
Cj4gQEAgLTE5MjYsNyArMTkyNyw5IEBAIHUzMiAqaW50ZWxfcmluZ19iZWdpbihzdHJ1Y3QgaTkx
NV9yZXF1ZXN0ICpycSwgdW5zaWduZWQgaW50IG51bV9kd29yZHMpCj4gICAJCSAqLwo+ICAgCQlH
RU1fQlVHX09OKCFycS0+cmVzZXJ2ZWRfc3BhY2UpOwo+ICAgCj4gLQkJcmV0ID0gd2FpdF9mb3Jf
c3BhY2UocmluZywgcnEtPnRpbWVsaW5lLCB0b3RhbF9ieXRlcyk7Cj4gKwkJcmV0ID0gd2FpdF9m
b3Jfc3BhY2UocmluZywKPiArCQkJCSAgICAgaTkxNV9yZXF1ZXN0X3RpbWVsaW5lKHJxKSwKPiAr
CQkJCSAgICAgdG90YWxfYnl0ZXMpOwo+ICAgCQlpZiAodW5saWtlbHkocmV0KSkKPiAgIAkJCXJl
dHVybiBFUlJfUFRSKHJldCk7Cj4gICAJfQo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0v
aTkxNS9ndC9pbnRlbF90aW1lbGluZS5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxf
dGltZWxpbmUuYwo+IGluZGV4IDljYjAxZDk4MjhmMS4uMTE1YTI0ZDRhMjBhIDEwMDY0NAo+IC0t
LSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX3RpbWVsaW5lLmMKPiArKysgYi9kcml2
ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF90aW1lbGluZS5jCj4gQEAgLTQ5Myw3ICs0OTMsNyBA
QCBpbnQgaW50ZWxfdGltZWxpbmVfZ2V0X3NlcW5vKHN0cnVjdCBpbnRlbF90aW1lbGluZSAqdGws
Cj4gICBzdGF0aWMgaW50IGNhY2hlbGluZV9yZWYoc3RydWN0IGludGVsX3RpbWVsaW5lX2NhY2hl
bGluZSAqY2wsCj4gICAJCQkgc3RydWN0IGk5MTVfcmVxdWVzdCAqcnEpCj4gICB7Cj4gLQlyZXR1
cm4gaTkxNV9hY3RpdmVfcmVmKCZjbC0+YWN0aXZlLCBycS0+dGltZWxpbmUsIHJxKTsKPiArCXJl
dHVybiBpOTE1X2FjdGl2ZV9hZGRfcmVxdWVzdCgmY2wtPmFjdGl2ZSwgcnEpOwo+ICAgfQo+ICAg
Cj4gICBpbnQgaW50ZWxfdGltZWxpbmVfcmVhZF9od3NwKHN0cnVjdCBpOTE1X3JlcXVlc3QgKmZy
b20sCj4gQEAgLTUwNCw3ICs1MDQsNyBAQCBpbnQgaW50ZWxfdGltZWxpbmVfcmVhZF9od3NwKHN0
cnVjdCBpOTE1X3JlcXVlc3QgKmZyb20sCj4gICAJc3RydWN0IGludGVsX3RpbWVsaW5lICp0bCA9
IGZyb20tPnRpbWVsaW5lOwo+ICAgCWludCBlcnI7Cj4gICAKPiAtCUdFTV9CVUdfT04odG8tPnRp
bWVsaW5lID09IHRsKTsKPiArCUdFTV9CVUdfT04ocmN1X2FjY2Vzc19wb2ludGVyKHRvLT50aW1l
bGluZSkgPT0gdGwpOwo+ICAgCj4gICAJbXV0ZXhfbG9ja19uZXN0ZWQoJnRsLT5tdXRleCwgU0lO
R0xFX0RFUFRIX05FU1RJTkcpOwo+ICAgCWVyciA9IGk5MTVfcmVxdWVzdF9jb21wbGV0ZWQoZnJv
bSk7Cj4gQEAgLTU0MSw3ICs1NDEsNyBAQCB2b2lkIF9faW50ZWxfdGltZWxpbmVfZnJlZShzdHJ1
Y3Qga3JlZiAqa3JlZikKPiAgIAkJY29udGFpbmVyX29mKGtyZWYsIHR5cGVvZigqdGltZWxpbmUp
LCBrcmVmKTsKPiAgIAo+ICAgCWludGVsX3RpbWVsaW5lX2ZpbmkodGltZWxpbmUpOwo+IC0Ja2Zy
ZWUodGltZWxpbmUpOwo+ICsJa2ZyZWVfcmN1KHRpbWVsaW5lLCByY3UpOwo+ICAgfQo+ICAgCj4g
ICBzdGF0aWMgdm9pZCB0aW1lbGluZXNfZmluaShzdHJ1Y3QgaW50ZWxfZ3QgKmd0KQo+IGRpZmYg
LS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF90aW1lbGluZV90eXBlcy5oIGIv
ZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfdGltZWxpbmVfdHlwZXMuaAo+IGluZGV4IDJi
MWJhZjJmY2M4ZS4uYzY2OGM0YzUwZTc1IDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9p
OTE1L2d0L2ludGVsX3RpbWVsaW5lX3R5cGVzLmgKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkx
NS9ndC9pbnRlbF90aW1lbGluZV90eXBlcy5oCj4gQEAgLTgwLDYgKzgwLDcgQEAgc3RydWN0IGlu
dGVsX3RpbWVsaW5lIHsKPiAgIAlzdHJ1Y3QgaW50ZWxfZ3QgKmd0Owo+ICAgCj4gICAJc3RydWN0
IGtyZWYga3JlZjsKPiArCXN0cnVjdCByY3VfaGVhZCByY3U7Cj4gICB9Owo+ICAgCj4gICAjZW5k
aWYgLyogX19JOTE1X1RJTUVMSU5FX1RZUEVTX0hfXyAqLwo+IGRpZmYgLS1naXQgYS9kcml2ZXJz
L2dwdS9kcm0vaTkxNS9ndC9zZWxmdGVzdF9jb250ZXh0LmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkx
NS9ndC9zZWxmdGVzdF9jb250ZXh0LmMKPiBpbmRleCA5ZDFlYTI2YzdhMmQuLjRjZTFlMjU0MzNk
MiAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9zZWxmdGVzdF9jb250ZXh0
LmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9zZWxmdGVzdF9jb250ZXh0LmMKPiBA
QCAtMTQsMjIgKzE0LDI4IEBACj4gICAKPiAgIHN0YXRpYyBpbnQgcmVxdWVzdF9zeW5jKHN0cnVj
dCBpOTE1X3JlcXVlc3QgKnJxKQo+ICAgewo+ICsJc3RydWN0IGludGVsX3RpbWVsaW5lICp0bCA9
IGk5MTVfcmVxdWVzdF90aW1lbGluZShycSk7Cj4gICAJbG9uZyB0aW1lb3V0Owo+ICAgCWludCBl
cnIgPSAwOwo+ICAgCj4gKwlpbnRlbF90aW1lbGluZV9nZXQodGwpOwo+ICAgCWk5MTVfcmVxdWVz
dF9nZXQocnEpOwo+ICAgCj4gLQlpOTE1X3JlcXVlc3RfYWRkKHJxKTsKPiArCS8qIE9wZW5jb2Rl
IGk5MTVfcmVxdWVzdF9hZGQoKSBzbyB3ZSBjYW4ga2VlcCB0aGUgdGltZWxpbmUgbG9ja2VkLiAq
Lwo+ICsJX19pOTE1X3JlcXVlc3RfY29tbWl0KHJxKTsKPiArCV9faTkxNV9yZXF1ZXN0X3F1ZXVl
KHJxLCBOVUxMKTsKCkxvb2tpbmcgYXQgaTkxNV9yZXF1ZXN0X2FkZCBoZXJlIHdlIGFsc28gaGF2
ZSB0YXNrbGV0IGtpY2tpbmcgYnV0IEkgCmd1ZXNzIGZvciBzZWxmdGVzdHMgaXQncyBub3QgaW1w
b3J0YW50LgoKPiArCj4gICAJdGltZW91dCA9IGk5MTVfcmVxdWVzdF93YWl0KHJxLCAwLCBIWiAv
IDEwKTsKPiAtCWlmICh0aW1lb3V0IDwgMCkgewo+ICsJaWYgKHRpbWVvdXQgPCAwKQo+ICAgCQll
cnIgPSB0aW1lb3V0Owo+IC0JfSBlbHNlIHsKPiAtCQltdXRleF9sb2NrKCZycS0+dGltZWxpbmUt
Pm11dGV4KTsKPiArCWVsc2UKPiAgIAkJaTkxNV9yZXF1ZXN0X3JldGlyZV91cHRvKHJxKTsKPiAt
CQltdXRleF91bmxvY2soJnJxLT50aW1lbGluZS0+bXV0ZXgpOwo+IC0JfQo+ICsKPiArCWxvY2tk
ZXBfdW5waW5fbG9jaygmdGwtPm11dGV4LCBycS0+Y29va2llKTsKPiArCW11dGV4X3VubG9jaygm
dGwtPm11dGV4KTsKPiAgIAo+ICAgCWk5MTVfcmVxdWVzdF9wdXQocnEpOwo+ICsJaW50ZWxfdGlt
ZWxpbmVfcHV0KHRsKTsKPiAgIAo+ICAgCXJldHVybiBlcnI7Cj4gICB9Cj4gZGlmZiAtLWdpdCBh
L2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L3NlbGZ0ZXN0X2xyYy5jIGIvZHJpdmVycy9ncHUvZHJt
L2k5MTUvZ3Qvc2VsZnRlc3RfbHJjLmMKPiBpbmRleCAyNmQwNWJkMWJkYzguLjkzYTg3MWJmZDk1
ZCAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9zZWxmdGVzdF9scmMuYwo+
ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L3NlbGZ0ZXN0X2xyYy5jCj4gQEAgLTEwODks
NyArMTA4OSw3IEBAIHN0YXRpYyBpbnQgbGl2ZV9zdXBwcmVzc193YWl0X3ByZWVtcHQodm9pZCAq
YXJnKQo+ICAgCQkJCX0KPiAgIAo+ICAgCQkJCS8qIERpc2FibGUgTkVXQ0xJRU5UIHByb21vdGlv
biAqLwo+IC0JCQkJX19pOTE1X2FjdGl2ZV9yZXF1ZXN0X3NldCgmcnFbaV0tPnRpbWVsaW5lLT5s
YXN0X3JlcXVlc3QsCj4gKwkJCQlfX2k5MTVfYWN0aXZlX3JlcXVlc3Rfc2V0KCZpOTE1X3JlcXVl
c3RfdGltZWxpbmUocnFbaV0pLT5sYXN0X3JlcXVlc3QsCj4gICAJCQkJCQkJICBkdW1teSk7Cj4g
ICAJCQkJaTkxNV9yZXF1ZXN0X2FkZChycVtpXSk7Cj4gICAJCQl9Cj4gZGlmZiAtLWdpdCBhL2Ry
aXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfYWN0aXZlLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9p
OTE1X2FjdGl2ZS5jCj4gaW5kZXggNmE0NDdmMWQwMTEwLi5kNWFhYzZmZjgwM2EgMTAwNjQ0Cj4g
LS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9hY3RpdmUuYwo+ICsrKyBiL2RyaXZlcnMv
Z3B1L2RybS9pOTE1L2k5MTVfYWN0aXZlLmMKPiBAQCAtNjk1LDcgKzY5NSw3IEBAIHZvaWQgaTkx
NV9yZXF1ZXN0X2FkZF9hY3RpdmVfYmFycmllcnMoc3RydWN0IGk5MTVfcmVxdWVzdCAqcnEpCj4g
ICAJc3RydWN0IGxsaXN0X25vZGUgKm5vZGUsICpuZXh0Owo+ICAgCj4gICAJR0VNX0JVR19PTihp
bnRlbF9lbmdpbmVfaXNfdmlydHVhbChlbmdpbmUpKTsKPiAtCUdFTV9CVUdfT04ocnEtPnRpbWVs
aW5lICE9IGVuZ2luZS0+a2VybmVsX2NvbnRleHQtPnRpbWVsaW5lKTsKPiArCUdFTV9CVUdfT04o
aTkxNV9yZXF1ZXN0X3RpbWVsaW5lKHJxKSAhPSBlbmdpbmUtPmtlcm5lbF9jb250ZXh0LT50aW1l
bGluZSk7Cj4gICAKPiAgIAkvKgo+ICAgCSAqIEF0dGFjaCB0aGUgbGlzdCBvZiBwcm90by1mZW5j
ZXMgdG8gdGhlIGluLWZsaWdodCByZXF1ZXN0IHN1Y2gKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9n
cHUvZHJtL2k5MTUvaTkxNV9hY3RpdmUuaCBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfYWN0
aXZlLmgKPiBpbmRleCBmOTUwNThmOTkwNTcuLjk0OWM2ODM1MzM1YiAxMDA2NDQKPiAtLS0gYS9k
cml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2FjdGl2ZS5oCj4gKysrIGIvZHJpdmVycy9ncHUvZHJt
L2k5MTUvaTkxNV9hY3RpdmUuaAo+IEBAIC0zNzMsNiArMzczLDEyIEBAIGludCBpOTE1X2FjdGl2
ZV9yZWYoc3RydWN0IGk5MTVfYWN0aXZlICpyZWYsCj4gICAJCSAgICBzdHJ1Y3QgaW50ZWxfdGlt
ZWxpbmUgKnRsLAo+ICAgCQkgICAgc3RydWN0IGk5MTVfcmVxdWVzdCAqcnEpOwo+ICAgCj4gK3N0
YXRpYyBpbmxpbmUgaW50Cj4gK2k5MTVfYWN0aXZlX2FkZF9yZXF1ZXN0KHN0cnVjdCBpOTE1X2Fj
dGl2ZSAqcmVmLCBzdHJ1Y3QgaTkxNV9yZXF1ZXN0ICpycSkKPiArewo+ICsJcmV0dXJuIGk5MTVf
YWN0aXZlX3JlZihyZWYsIGk5MTVfcmVxdWVzdF90aW1lbGluZShycSksIHJxKTsKPiArfQo+ICsK
PiAgIGludCBpOTE1X2FjdGl2ZV93YWl0KHN0cnVjdCBpOTE1X2FjdGl2ZSAqcmVmKTsKPiAgIAo+
ICAgaW50IGk5MTVfcmVxdWVzdF9hd2FpdF9hY3RpdmUoc3RydWN0IGk5MTVfcmVxdWVzdCAqcnEs
Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfcmVxdWVzdC5jIGIvZHJp
dmVycy9ncHUvZHJtL2k5MTUvaTkxNV9yZXF1ZXN0LmMKPiBpbmRleCA2MDZhY2RlNDdmYTAuLmZi
NmYyMWM0MTkzNCAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3JlcXVl
c3QuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfcmVxdWVzdC5jCj4gQEAgLTIy
MCw3ICsyMjAsNiBAQCBzdGF0aWMgYm9vbCBpOTE1X3JlcXVlc3RfcmV0aXJlKHN0cnVjdCBpOTE1
X3JlcXVlc3QgKnJxKQo+ICAgewo+ICAgCXN0cnVjdCBpOTE1X2FjdGl2ZV9yZXF1ZXN0ICphY3Rp
dmUsICpuZXh0Owo+ICAgCj4gLQlsb2NrZGVwX2Fzc2VydF9oZWxkKCZycS0+dGltZWxpbmUtPm11
dGV4KTsKPiAgIAlpZiAoIWk5MTVfcmVxdWVzdF9jb21wbGV0ZWQocnEpKQo+ICAgCQlyZXR1cm4g
ZmFsc2U7Cj4gICAKPiBAQCAtMjQxLDcgKzI0MCw4IEBAIHN0YXRpYyBib29sIGk5MTVfcmVxdWVz
dF9yZXRpcmUoc3RydWN0IGk5MTVfcmVxdWVzdCAqcnEpCj4gICAJICogTm90ZSB0aGlzIHJlcXVp
cmVzIHRoYXQgd2UgYXJlIGFsd2F5cyBjYWxsZWQgaW4gcmVxdWVzdAo+ICAgCSAqIGNvbXBsZXRp
b24gb3JkZXIuCj4gICAJICovCj4gLQlHRU1fQlVHX09OKCFsaXN0X2lzX2ZpcnN0KCZycS0+bGlu
aywgJnJxLT50aW1lbGluZS0+cmVxdWVzdHMpKTsKPiArCUdFTV9CVUdfT04oIWxpc3RfaXNfZmly
c3QoJnJxLT5saW5rLAo+ICsJCQkJICAmaTkxNV9yZXF1ZXN0X3RpbWVsaW5lKHJxKS0+cmVxdWVz
dHMpKTsKPiAgIAlycS0+cmluZy0+aGVhZCA9IHJxLT5wb3N0Zml4Owo+ICAgCj4gICAJLyoKPiBA
QCAtMzE3LDcgKzMxNyw3IEBAIHN0YXRpYyBib29sIGk5MTVfcmVxdWVzdF9yZXRpcmUoc3RydWN0
IGk5MTVfcmVxdWVzdCAqcnEpCj4gICAKPiAgIHZvaWQgaTkxNV9yZXF1ZXN0X3JldGlyZV91cHRv
KHN0cnVjdCBpOTE1X3JlcXVlc3QgKnJxKQo+ICAgewo+IC0Jc3RydWN0IGludGVsX3RpbWVsaW5l
ICogY29uc3QgdGwgPSBycS0+dGltZWxpbmU7Cj4gKwlzdHJ1Y3QgaW50ZWxfdGltZWxpbmUgKiBj
b25zdCB0bCA9IGk5MTVfcmVxdWVzdF90aW1lbGluZShycSk7Cj4gICAJc3RydWN0IGk5MTVfcmVx
dWVzdCAqdG1wOwo+ICAgCj4gICAJR0VNX1RSQUNFKCIlcyBmZW5jZSAlbGx4OiVsbGQsIGN1cnJl
bnQgJWRcbiIsCj4gQEAgLTMyNSw3ICszMjUsNiBAQCB2b2lkIGk5MTVfcmVxdWVzdF9yZXRpcmVf
dXB0byhzdHJ1Y3QgaTkxNV9yZXF1ZXN0ICpycSkKPiAgIAkJICBycS0+ZmVuY2UuY29udGV4dCwg
cnEtPmZlbmNlLnNlcW5vLAo+ICAgCQkgIGh3c3Bfc2Vxbm8ocnEpKTsKPiAgIAo+IC0JbG9ja2Rl
cF9hc3NlcnRfaGVsZCgmdGwtPm11dGV4KTsKPiAgIAlHRU1fQlVHX09OKCFpOTE1X3JlcXVlc3Rf
Y29tcGxldGVkKHJxKSk7Cj4gICAKPiAgIAlkbyB7Cj4gQEAgLTY2MSw5ICs2NjAsMTEgQEAgX19p
OTE1X3JlcXVlc3RfY3JlYXRlKHN0cnVjdCBpbnRlbF9jb250ZXh0ICpjZSwgZ2ZwX3QgZ2ZwKQo+
ICAgCXJxLT5nZW1fY29udGV4dCA9IGNlLT5nZW1fY29udGV4dDsKPiAgIAlycS0+ZW5naW5lID0g
Y2UtPmVuZ2luZTsKPiAgIAlycS0+cmluZyA9IGNlLT5yaW5nOwo+IC0JcnEtPnRpbWVsaW5lID0g
dGw7Cj4gKwo+ICsJcmN1X2Fzc2lnbl9wb2ludGVyKHJxLT50aW1lbGluZSwgdGwpOwo+ICAgCXJx
LT5od3NwX3NlcW5vID0gdGwtPmh3c3Bfc2Vxbm87Cj4gICAJcnEtPmh3c3BfY2FjaGVsaW5lID0g
dGwtPmh3c3BfY2FjaGVsaW5lOwo+ICsKPiAgIAlycS0+cmN1c3RhdGUgPSBnZXRfc3RhdGVfc3lu
Y2hyb25pemVfcmN1KCk7IC8qIGFjdHMgYXMgc21wX21iKCkgKi8KPiAgIAo+ICAgCXNwaW5fbG9j
a19pbml0KCZycS0+bG9jayk7Cj4gQEAgLTc3MSw3ICs3NzIsOCBAQCBpOTE1X3JlcXVlc3RfYXdh
aXRfc3RhcnQoc3RydWN0IGk5MTVfcmVxdWVzdCAqcnEsIHN0cnVjdCBpOTE1X3JlcXVlc3QgKnNp
Z25hbCkKPiAgIAkJcmV0dXJuIDA7Cj4gICAKPiAgIAlzaWduYWwgPSBsaXN0X3ByZXZfZW50cnko
c2lnbmFsLCBsaW5rKTsKPiAtCWlmIChpbnRlbF90aW1lbGluZV9zeW5jX2lzX2xhdGVyKHJxLT50
aW1lbGluZSwgJnNpZ25hbC0+ZmVuY2UpKQo+ICsJaWYgKGludGVsX3RpbWVsaW5lX3N5bmNfaXNf
bGF0ZXIoaTkxNV9yZXF1ZXN0X3RpbWVsaW5lKHJxKSwKPiArCQkJCQkgJnNpZ25hbC0+ZmVuY2Up
KQo+ICAgCQlyZXR1cm4gMDsKPiAgIAo+ICAgCXJldHVybiBpOTE1X3N3X2ZlbmNlX2F3YWl0X2Rt
YV9mZW5jZSgmcnEtPnN1Ym1pdCwKPiBAQCAtOTQ3LDcgKzk0OSw4IEBAIGk5MTVfcmVxdWVzdF9h
d2FpdF9kbWFfZmVuY2Uoc3RydWN0IGk5MTVfcmVxdWVzdCAqcnEsIHN0cnVjdCBkbWFfZmVuY2Ug
KmZlbmNlKQo+ICAgCj4gICAJCS8qIFNxdWFzaCByZXBlYXRlZCB3YWl0cyB0byB0aGUgc2FtZSB0
aW1lbGluZXMgKi8KPiAgIAkJaWYgKGZlbmNlLT5jb250ZXh0ICYmCj4gLQkJICAgIGludGVsX3Rp
bWVsaW5lX3N5bmNfaXNfbGF0ZXIocnEtPnRpbWVsaW5lLCBmZW5jZSkpCj4gKwkJICAgIGludGVs
X3RpbWVsaW5lX3N5bmNfaXNfbGF0ZXIoaTkxNV9yZXF1ZXN0X3RpbWVsaW5lKHJxKSwKPiArCQkJ
CQkJIGZlbmNlKSkKPiAgIAkJCWNvbnRpbnVlOwo+ICAgCj4gICAJCWlmIChkbWFfZmVuY2VfaXNf
aTkxNShmZW5jZSkpCj4gQEAgLTk2MSw3ICs5NjQsOCBAQCBpOTE1X3JlcXVlc3RfYXdhaXRfZG1h
X2ZlbmNlKHN0cnVjdCBpOTE1X3JlcXVlc3QgKnJxLCBzdHJ1Y3QgZG1hX2ZlbmNlICpmZW5jZSkK
PiAgIAo+ICAgCQkvKiBSZWNvcmQgdGhlIGxhdGVzdCBmZW5jZSB1c2VkIGFnYWluc3QgZWFjaCB0
aW1lbGluZSAqLwo+ICAgCQlpZiAoZmVuY2UtPmNvbnRleHQpCj4gLQkJCWludGVsX3RpbWVsaW5l
X3N5bmNfc2V0KHJxLT50aW1lbGluZSwgZmVuY2UpOwo+ICsJCQlpbnRlbF90aW1lbGluZV9zeW5j
X3NldChpOTE1X3JlcXVlc3RfdGltZWxpbmUocnEpLAo+ICsJCQkJCQlmZW5jZSk7Cj4gICAJfSB3
aGlsZSAoLS1uY2hpbGQpOwo+ICAgCj4gICAJcmV0dXJuIDA7Cj4gQEAgLTExMDMsNyArMTEwNyw3
IEBAIHZvaWQgaTkxNV9yZXF1ZXN0X3NraXAoc3RydWN0IGk5MTVfcmVxdWVzdCAqcnEsIGludCBl
cnJvcikKPiAgIHN0YXRpYyBzdHJ1Y3QgaTkxNV9yZXF1ZXN0ICoKPiAgIF9faTkxNV9yZXF1ZXN0
X2FkZF90b190aW1lbGluZShzdHJ1Y3QgaTkxNV9yZXF1ZXN0ICpycSkKPiAgIHsKPiAtCXN0cnVj
dCBpbnRlbF90aW1lbGluZSAqdGltZWxpbmUgPSBycS0+dGltZWxpbmU7Cj4gKwlzdHJ1Y3QgaW50
ZWxfdGltZWxpbmUgKnRpbWVsaW5lID0gaTkxNV9yZXF1ZXN0X3RpbWVsaW5lKHJxKTsKPiAgIAlz
dHJ1Y3QgaTkxNV9yZXF1ZXN0ICpwcmV2Owo+ICAgCj4gICAJLyoKPiBAQCAtMTIxNiw3ICsxMjIw
LDcgQEAgdm9pZCBfX2k5MTVfcmVxdWVzdF9xdWV1ZShzdHJ1Y3QgaTkxNV9yZXF1ZXN0ICpycSwK
PiAgIHZvaWQgaTkxNV9yZXF1ZXN0X2FkZChzdHJ1Y3QgaTkxNV9yZXF1ZXN0ICpycSkKPiAgIHsK
PiAgIAlzdHJ1Y3QgaTkxNV9zY2hlZF9hdHRyIGF0dHIgPSBycS0+Z2VtX2NvbnRleHQtPnNjaGVk
Owo+IC0Jc3RydWN0IGludGVsX3RpbWVsaW5lICogY29uc3QgdGwgPSBycS0+dGltZWxpbmU7Cj4g
KwlzdHJ1Y3QgaW50ZWxfdGltZWxpbmUgKiBjb25zdCB0bCA9IGk5MTVfcmVxdWVzdF90aW1lbGlu
ZShycSk7Cj4gICAJc3RydWN0IGk5MTVfcmVxdWVzdCAqcHJldjsKPiAgIAo+ICAgCWxvY2tkZXBf
YXNzZXJ0X2hlbGQoJnRsLT5tdXRleCk7Cj4gQEAgLTEyNzEsNyArMTI3NSw5IEBAIHZvaWQgaTkx
NV9yZXF1ZXN0X2FkZChzdHJ1Y3QgaTkxNV9yZXF1ZXN0ICpycSkKPiAgIAkgKiB3b3JrIG9uIGJl
aGFsZiBvZiBvdGhlcnMgLS0gYnV0IGluc3RlYWQgd2Ugc2hvdWxkIGJlbmVmaXQgZnJvbQo+ICAg
CSAqIGltcHJvdmVkIHJlc291cmNlIG1hbmFnZW1lbnQuIChXZWxsLCB0aGF0J3MgdGhlIHRoZW9y
eSBhdCBsZWFzdC4pCj4gICAJICovCj4gLQlpZiAocHJldiAmJiBpOTE1X3JlcXVlc3RfY29tcGxl
dGVkKHByZXYpICYmIHByZXYtPnRpbWVsaW5lID09IHRsKQo+ICsJaWYgKHByZXYgJiYKPiArCSAg
ICBpOTE1X3JlcXVlc3RfY29tcGxldGVkKHByZXYpICYmCj4gKwkgICAgcmN1X2FjY2Vzc19wb2lu
dGVyKHByZXYtPnRpbWVsaW5lKSA9PSB0bCkKPiAgIAkJaTkxNV9yZXF1ZXN0X3JldGlyZV91cHRv
KHByZXYpOwo+ICAgCj4gICAJbXV0ZXhfdW5sb2NrKCZ0bC0+bXV0ZXgpOwo+IGRpZmYgLS1naXQg
YS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3JlcXVlc3QuaCBiL2RyaXZlcnMvZ3B1L2RybS9p
OTE1L2k5MTVfcmVxdWVzdC5oCj4gaW5kZXggOGFjNmUxMjI2YTU2Li5iMThmNDk1MjhkZWQgMTAw
NjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9yZXF1ZXN0LmgKPiArKysgYi9k
cml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3JlcXVlc3QuaAo+IEBAIC0xMTMsNyArMTEzLDcgQEAg
c3RydWN0IGk5MTVfcmVxdWVzdCB7Cj4gICAJc3RydWN0IGludGVsX2VuZ2luZV9jcyAqZW5naW5l
Owo+ICAgCXN0cnVjdCBpbnRlbF9jb250ZXh0ICpod19jb250ZXh0Owo+ICAgCXN0cnVjdCBpbnRl
bF9yaW5nICpyaW5nOwo+IC0Jc3RydWN0IGludGVsX3RpbWVsaW5lICp0aW1lbGluZTsKPiArCXN0
cnVjdCBpbnRlbF90aW1lbGluZSBfX3JjdSAqdGltZWxpbmU7Cj4gICAJc3RydWN0IGxpc3RfaGVh
ZCBzaWduYWxfbGluazsKPiAgIAo+ICAgCS8qCj4gQEAgLTQ0Miw2ICs0NDIsMjYgQEAgc3RhdGlj
IGlubGluZSBib29sIGk5MTVfcmVxdWVzdF9oYXNfbm9wcmVlbXB0KGNvbnN0IHN0cnVjdCBpOTE1
X3JlcXVlc3QgKnJxKQo+ICAgCXJldHVybiB1bmxpa2VseShycS0+ZmxhZ3MgJiBJOTE1X1JFUVVF
U1RfTk9QUkVFTVBUKTsKPiAgIH0KPiAgIAo+ICtzdGF0aWMgaW5saW5lIHN0cnVjdCBpbnRlbF90
aW1lbGluZSAqCj4gK2k5MTVfcmVxdWVzdF90aW1lbGluZShzdHJ1Y3QgaTkxNV9yZXF1ZXN0ICpy
cSkKPiArewo+ICsJLyogVmFsaWQgb25seSB3aGlsZSB0aGUgcmVxdWVzdCBpcyBiZWluZyBjb25z
dHJ1Y3RlZCAob3IgcmV0aXJlZCkuICovCj4gKwlyZXR1cm4gcmN1X2RlcmVmZXJlbmNlX3Byb3Rl
Y3RlZChycS0+dGltZWxpbmUsCj4gKwkJCQkJIGxvY2tkZXBfaXNfaGVsZCgmcmN1X2FjY2Vzc19w
b2ludGVyKHJxLT50aW1lbGluZSktPm11dGV4KSk7Cj4gK30KPiArCj4gK3N0YXRpYyBpbmxpbmUg
c3RydWN0IGludGVsX3RpbWVsaW5lICoKPiAraTkxNV9yZXF1ZXN0X2FjdGl2ZV90aW1lbGluZShz
dHJ1Y3QgaTkxNV9yZXF1ZXN0ICpycSkKPiArewo+ICsJLyoKPiArCSAqIFdoZW4gaW4gdXNlIGR1
cmluZyBzdWJtaXNzaW9uLCB3ZSBhcmUgcHJvdGVjdGVkIGJ5IGEgZ3VhcmFudGVlIHRoYXQKPiAr
CSAqIHRoZSBjb250ZXh0L3RpbWVsaW5lIGlzIHBpbm5lZCBhbmQgbXVzdCByZW1haW4gcGlubmVk
IHVudGlsIGFmdGVyCj4gKwkgKiB0aGlzIHN1Ym1pc3Npb24uCj4gKwkgKi8KPiArCXJldHVybiBy
Y3VfZGVyZWZlcmVuY2VfcHJvdGVjdGVkKHJxLT50aW1lbGluZSwKPiArCQkJCQkgbG9ja2RlcF9p
c19oZWxkKCZycS0+ZW5naW5lLT5hY3RpdmUubG9jaykpOwo+ICt9Cj4gKwo+ICAgYm9vbCBpOTE1
X3JldGlyZV9yZXF1ZXN0cyhzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSk7Cj4gICAKPiAg
ICNlbmRpZiAvKiBJOTE1X1JFUVVFU1RfSCAqLwo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9k
cm0vaTkxNS9pOTE1X3ZtYS5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV92bWEuYwo+IGlu
ZGV4IDQxMTA0N2Q2YTkwOS4uOWQ1YjBmODdjMjEwIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1
L2RybS9pOTE1L2k5MTVfdm1hLmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3Zt
YS5jCj4gQEAgLTkwMCwxNSArOTAwLDEzIEBAIGludCBpOTE1X3ZtYV9tb3ZlX3RvX2FjdGl2ZShz
dHJ1Y3QgaTkxNV92bWEgKnZtYSwKPiAgIAkgKiBhZGQgdGhlIGFjdGl2ZSByZWZlcmVuY2UgZmly
c3QgYW5kIHF1ZXVlIGZvciBpdCB0byBiZSBkcm9wcGVkCj4gICAJICogKmxhc3QqLgo+ICAgCSAq
Lwo+IC0JZXJyID0gaTkxNV9hY3RpdmVfcmVmKCZ2bWEtPmFjdGl2ZSwgcnEtPnRpbWVsaW5lLCBy
cSk7Cj4gKwllcnIgPSBpOTE1X2FjdGl2ZV9hZGRfcmVxdWVzdCgmdm1hLT5hY3RpdmUsIHJxKTsK
PiAgIAlpZiAodW5saWtlbHkoZXJyKSkKPiAgIAkJcmV0dXJuIGVycjsKPiAgIAo+ICAgCWlmIChm
bGFncyAmIEVYRUNfT0JKRUNUX1dSSVRFKSB7Cj4gICAJCWlmIChpbnRlbF9mcm9udGJ1ZmZlcl9p
bnZhbGlkYXRlKG9iai0+ZnJvbnRidWZmZXIsIE9SSUdJTl9DUykpCj4gLQkJCWk5MTVfYWN0aXZl
X3JlZigmb2JqLT5mcm9udGJ1ZmZlci0+d3JpdGUsCj4gLQkJCQkJcnEtPnRpbWVsaW5lLAo+IC0J
CQkJCXJxKTsKPiArCQkJaTkxNV9hY3RpdmVfYWRkX3JlcXVlc3QoJm9iai0+ZnJvbnRidWZmZXIt
PndyaXRlLCBycSk7Cj4gICAKPiAgIAkJZG1hX3Jlc3ZfYWRkX2V4Y2xfZmVuY2Uodm1hLT5yZXN2
LCAmcnEtPmZlbmNlKTsKPiAgIAkJb2JqLT53cml0ZV9kb21haW4gPSBJOTE1X0dFTV9ET01BSU5f
UkVOREVSOwo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9zZWxmdGVzdHMvaTkx
NV9hY3RpdmUuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L3NlbGZ0ZXN0cy9pOTE1X2FjdGl2ZS5j
Cj4gaW5kZXggNzdkODQ0YWM4YjcxLi5hZmVjZmEwODFmZjQgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVy
cy9ncHUvZHJtL2k5MTUvc2VsZnRlc3RzL2k5MTVfYWN0aXZlLmMKPiArKysgYi9kcml2ZXJzL2dw
dS9kcm0vaTkxNS9zZWxmdGVzdHMvaTkxNV9hY3RpdmUuYwo+IEBAIC0xMTAsNyArMTEwLDcgQEAg
X19saXZlX2FjdGl2ZV9zZXR1cChzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSkKPiAgIAkJ
CQkJCSAgICAgICBzdWJtaXQsCj4gICAJCQkJCQkgICAgICAgR0ZQX0tFUk5FTCk7Cj4gICAJCWlm
IChlcnIgPj0gMCkKPiAtCQkJZXJyID0gaTkxNV9hY3RpdmVfcmVmKCZhY3RpdmUtPmJhc2UsIHJx
LT50aW1lbGluZSwgcnEpOwo+ICsJCQllcnIgPSBpOTE1X2FjdGl2ZV9hZGRfcmVxdWVzdCgmYWN0
aXZlLT5iYXNlLCBycSk7Cj4gICAJCWk5MTVfcmVxdWVzdF9hZGQocnEpOwo+ICAgCQlpZiAoZXJy
KSB7Cj4gICAJCQlwcl9lcnIoIkZhaWxlZCB0byB0cmFjayBhY3RpdmUgcmVmIVxuIik7Cj4gZGlm
ZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L3NlbGZ0ZXN0cy9pZ3Rfc3Bpbm5lci5jIGIv
ZHJpdmVycy9ncHUvZHJtL2k5MTUvc2VsZnRlc3RzL2lndF9zcGlubmVyLmMKPiBpbmRleCAxMWYw
NGFkNDhlNjguLmVlODQ1MGI4NzFkYSAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkx
NS9zZWxmdGVzdHMvaWd0X3NwaW5uZXIuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L3Nl
bGZ0ZXN0cy9pZ3Rfc3Bpbm5lci5jCj4gQEAgLTE0Nyw3ICsxNDcsNyBAQCBpZ3Rfc3Bpbm5lcl9j
cmVhdGVfcmVxdWVzdChzdHJ1Y3QgaWd0X3NwaW5uZXIgKnNwaW4sCj4gICAJaW50ZWxfZ3RfY2hp
cHNldF9mbHVzaChlbmdpbmUtPmd0KTsKPiAgIAo+ICAgCWlmIChlbmdpbmUtPmVtaXRfaW5pdF9i
cmVhZGNydW1iICYmCj4gLQkgICAgcnEtPnRpbWVsaW5lLT5oYXNfaW5pdGlhbF9icmVhZGNydW1i
KSB7Cj4gKwkgICAgaTkxNV9yZXF1ZXN0X3RpbWVsaW5lKHJxKS0+aGFzX2luaXRpYWxfYnJlYWRj
cnVtYikgewo+ICAgCQllcnIgPSBlbmdpbmUtPmVtaXRfaW5pdF9icmVhZGNydW1iKHJxKTsKPiAg
IAkJaWYgKGVycikKPiAgIAkJCWdvdG8gY2FuY2VsX3JxOwo+IAoKUmVnYXJkcywKClR2cnRrbwpf
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpJbnRlbC1nZngg
bWFpbGluZyBsaXN0CkludGVsLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0
cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9pbnRlbC1nZng=

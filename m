Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 2971D6E0CD
	for <lists+intel-gfx@lfdr.de>; Fri, 19 Jul 2019 07:59:29 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 48E0E6E57F;
	Fri, 19 Jul 2019 05:59:27 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga03.intel.com (mga03.intel.com [134.134.136.65])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 058376E57F
 for <intel-gfx@lists.freedesktop.org>; Fri, 19 Jul 2019 05:59:26 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga004.jf.intel.com ([10.7.209.38])
 by orsmga103.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 18 Jul 2019 22:59:26 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.64,281,1559545200"; d="scan'208";a="319873089"
Received: from genxfsim-desktop.iind.intel.com ([10.223.74.120])
 by orsmga004.jf.intel.com with ESMTP; 18 Jul 2019 22:59:24 -0700
From: Anshuman Gupta <anshuman.gupta@intel.com>
To: intel-gfx@lists.freedesktop.org
Date: Fri, 19 Jul 2019 11:25:13 +0530
Message-Id: <20190719055513.2089-1-anshuman.gupta@intel.com>
X-Mailer: git-send-email 2.21.0
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH v3] drm/i915: Add HDCP capability info to
 i915_display_info.
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: daniel.vetter@intel.com
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

VG8gaWRlbnRpZnkgdGhlIEhEQ1AgY2FwYWJpbGl0eSBvZiB0aGUgZGlzcGxheSBjb25uZWN0ZWQg
dG8gQ0kKc3lzdGVtcywgd2UgbmVlZCB0byBhZGQgdGhlIGhkY3AgY2FwYWJpbGl0eSBwcm9iaW5n
IGluIGk5MTVfZGlzcGxheV9pbmZvLgoKVGhpcyB3aWxsIGFsc28gaGVscCB0byBwb3B1bGF0ZSB0
aGUgSERDUCBjYXBhYmlsaXR5IG9mIHRoZSBDSSBzeXN0ZW1zCnRvIENJIEgvVyBsb2dzIG1haW50
YWluZWQgYXQgaHR0cHM6Ly9pbnRlbC1nZngtY2kuMDEub3JnL2hhcmR3YXJlLy4KSXQgd2lsbCBm
YWNpbGl0YXRlIHRvIGRldGVybWluZSB0aGUga21zX2NvbnRlbnRfcHJvdGVjdGlvbiBiZWhhdmlv
ciBvbgphIHBhcnRpY3VsYXIgQ0kgc3lzdGVtLgoKdjI6IFJldXNlZCB0aGUgaW50ZWxfaGRjcF9p
bmZvKCkgaW4gaTkxNV9oZGNwX3NpbmtfY2FwYWJpbGl0eV9zaG93KCkuIFtSYW1dCiAgICBTaGlm
dGVkIGludGVsX2hkY3BfaW5mbygpIHRvIHRoZSBlbmQgb2YgaW50ZWxfZHBfaW5mby4gW1JhbV0K
djM6IHVzZWQgc2VxX3B1dHMoKSBpbnN0ZWFkIG9mIHNlcV9wcml0bmYoKS4gW1JhbV0KCkNjOiBk
YW5pZWwudmV0dGVyQGludGVsLmNvbQpDYzogcmFtYWxpbmdhbS5jQGludGVsLmNvbQpTaWduZWQt
b2ZmLWJ5OiBBbnNodW1hbiBHdXB0YSA8YW5zaHVtYW4uZ3VwdGFAaW50ZWwuY29tPgotLS0KIGRy
aXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZGVidWdmcy5jIHwgNDAgKysrKysrKysrKysrKysrKysr
KystLS0tLS0tLS0KIDEgZmlsZSBjaGFuZ2VkLCAyOCBpbnNlcnRpb25zKCspLCAxMiBkZWxldGlv
bnMoLSkKCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2RlYnVnZnMuYyBi
L2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZGVidWdmcy5jCmluZGV4IDZiODRkMDRhNmEyOC4u
NmQzOTExNDY5ODAxIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2RlYnVn
ZnMuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2RlYnVnZnMuYwpAQCAtMjU2OSw2
ICsyNTY5LDI1IEBAIHN0YXRpYyB2b2lkIGludGVsX3BhbmVsX2luZm8oc3RydWN0IHNlcV9maWxl
ICptLCBzdHJ1Y3QgaW50ZWxfcGFuZWwgKnBhbmVsKQogCWludGVsX3NlcV9wcmludF9tb2RlKG0s
IDIsIG1vZGUpOwogfQogCitzdGF0aWMgdm9pZCBpbnRlbF9oZGNwX2luZm8oc3RydWN0IHNlcV9m
aWxlICptLAorCQkJICAgIHN0cnVjdCBpbnRlbF9jb25uZWN0b3IgKmludGVsX2Nvbm5lY3RvcikK
K3sKKwlib29sIGhkY3BfY2FwLCBoZGNwMl9jYXA7CisKKwloZGNwX2NhcCA9IGludGVsX2hkY3Bf
Y2FwYWJsZShpbnRlbF9jb25uZWN0b3IpOworCWhkY3AyX2NhcCA9IGludGVsX2hkY3AyX2NhcGFi
bGUoaW50ZWxfY29ubmVjdG9yKTsKKworCWlmIChoZGNwX2NhcCkKKwkJc2VxX3B1dHMobSwgIkhE
Q1AxLjQgIik7CisJaWYgKGhkY3AyX2NhcCkKKwkJc2VxX3B1dHMobSwgIkhEQ1AyLjIgIik7CisK
KwlpZiAoIWhkY3BfY2FwICYmICFoZGNwMl9jYXApCisJCXNlcV9wdXRzKG0sICJOb25lIik7CisK
KwlzZXFfcHV0cyhtLCAiXG4iKTsKK30KKwogc3RhdGljIHZvaWQgaW50ZWxfZHBfaW5mbyhzdHJ1
Y3Qgc2VxX2ZpbGUgKm0sCiAJCQkgIHN0cnVjdCBpbnRlbF9jb25uZWN0b3IgKmludGVsX2Nvbm5l
Y3RvcikKIHsKQEAgLTI1ODIsNiArMjYwMSwxMCBAQCBzdGF0aWMgdm9pZCBpbnRlbF9kcF9pbmZv
KHN0cnVjdCBzZXFfZmlsZSAqbSwKIAogCWRybV9kcF9kb3duc3RyZWFtX2RlYnVnKG0sIGludGVs
X2RwLT5kcGNkLCBpbnRlbF9kcC0+ZG93bnN0cmVhbV9wb3J0cywKIAkJCQkmaW50ZWxfZHAtPmF1
eCk7CisJaWYgKGludGVsX2Nvbm5lY3Rvci0+aGRjcC5zaGltKSB7CisJCXNlcV9wdXRzKG0sICJc
dEhEQ1AgdmVyc2lvbjogIik7CisJCWludGVsX2hkY3BfaW5mbyhtLCBpbnRlbF9jb25uZWN0b3Ip
OworCX0KIH0KIAogc3RhdGljIHZvaWQgaW50ZWxfZHBfbXN0X2luZm8oc3RydWN0IHNlcV9maWxl
ICptLApAQCAtMjYwNSw2ICsyNjI4LDEwIEBAIHN0YXRpYyB2b2lkIGludGVsX2hkbWlfaW5mbyhz
dHJ1Y3Qgc2VxX2ZpbGUgKm0sCiAJc3RydWN0IGludGVsX2hkbWkgKmludGVsX2hkbWkgPSBlbmNf
dG9faW50ZWxfaGRtaSgmaW50ZWxfZW5jb2Rlci0+YmFzZSk7CiAKIAlzZXFfcHJpbnRmKG0sICJc
dGF1ZGlvIHN1cHBvcnQ6ICVzXG4iLCB5ZXNubyhpbnRlbF9oZG1pLT5oYXNfYXVkaW8pKTsKKwlp
ZiAoaW50ZWxfY29ubmVjdG9yLT5oZGNwLnNoaW0pIHsKKwkJc2VxX3B1dHMobSwgIlx0SERDUCB2
ZXJzaW9uOiAiKTsKKwkJaW50ZWxfaGRjcF9pbmZvKG0sIGludGVsX2Nvbm5lY3Rvcik7CisJfQog
fQogCiBzdGF0aWMgdm9pZCBpbnRlbF9sdmRzX2luZm8oc3RydWN0IHNlcV9maWxlICptLApAQCAt
NDUyOCw3ICs0NTU1LDYgQEAgc3RhdGljIGludCBpOTE1X2hkY3Bfc2lua19jYXBhYmlsaXR5X3No
b3coc3RydWN0IHNlcV9maWxlICptLCB2b2lkICpkYXRhKQogewogCXN0cnVjdCBkcm1fY29ubmVj
dG9yICpjb25uZWN0b3IgPSBtLT5wcml2YXRlOwogCXN0cnVjdCBpbnRlbF9jb25uZWN0b3IgKmlu
dGVsX2Nvbm5lY3RvciA9IHRvX2ludGVsX2Nvbm5lY3Rvcihjb25uZWN0b3IpOwotCWJvb2wgaGRj
cF9jYXAsIGhkY3AyX2NhcDsKIAogCWlmIChjb25uZWN0b3ItPnN0YXR1cyAhPSBjb25uZWN0b3Jf
c3RhdHVzX2Nvbm5lY3RlZCkKIAkJcmV0dXJuIC1FTk9ERVY7CkBAIC00NTM5LDE3ICs0NTY1LDcg
QEAgc3RhdGljIGludCBpOTE1X2hkY3Bfc2lua19jYXBhYmlsaXR5X3Nob3coc3RydWN0IHNlcV9m
aWxlICptLCB2b2lkICpkYXRhKQogCiAJc2VxX3ByaW50ZihtLCAiJXM6JWQgSERDUCB2ZXJzaW9u
OiAiLCBjb25uZWN0b3ItPm5hbWUsCiAJCSAgIGNvbm5lY3Rvci0+YmFzZS5pZCk7Ci0JaGRjcF9j
YXAgPSBpbnRlbF9oZGNwX2NhcGFibGUoaW50ZWxfY29ubmVjdG9yKTsKLQloZGNwMl9jYXAgPSBp
bnRlbF9oZGNwMl9jYXBhYmxlKGludGVsX2Nvbm5lY3Rvcik7Ci0KLQlpZiAoaGRjcF9jYXApCi0J
CXNlcV9wdXRzKG0sICJIRENQMS40ICIpOwotCWlmIChoZGNwMl9jYXApCi0JCXNlcV9wdXRzKG0s
ICJIRENQMi4yICIpOwotCi0JaWYgKCFoZGNwX2NhcCAmJiAhaGRjcDJfY2FwKQotCQlzZXFfcHV0
cyhtLCAiTm9uZSIpOwotCXNlcV9wdXRzKG0sICJcbiIpOworCWludGVsX2hkY3BfaW5mbyhtLCBp
bnRlbF9jb25uZWN0b3IpOwogCiAJcmV0dXJuIDA7CiB9Ci0tIAoyLjIxLjAKCl9fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCkludGVsLWdmeCBtYWlsaW5nIGxp
c3QKSW50ZWwtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNr
dG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2ludGVsLWdmeA==

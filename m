Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id ADB3C26E788
	for <lists+intel-gfx@lfdr.de>; Thu, 17 Sep 2020 23:43:48 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 28A9E6E3AA;
	Thu, 17 Sep 2020 21:43:46 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga01.intel.com (mga01.intel.com [192.55.52.88])
 by gabe.freedesktop.org (Postfix) with ESMTPS id EFCBF6E3A0
 for <intel-gfx@lists.freedesktop.org>; Thu, 17 Sep 2020 21:43:43 +0000 (UTC)
IronPort-SDR: J+m7L6+hE8npf3uMF1wCJcFVAmJeUK4L+0y8G0t/ygRkujBdwUYqK4fcE60fCUb/xi3jkeOFsK
 dhWGfAjWoFxA==
X-IronPort-AV: E=McAfee;i="6000,8403,9747"; a="177898010"
X-IronPort-AV: E=Sophos;i="5.77,272,1596524400"; d="scan'208";a="177898010"
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga007.jf.intel.com ([10.7.209.58])
 by fmsmga101.fm.intel.com with ESMTP/TLS/ECDHE-RSA-AES256-GCM-SHA384;
 17 Sep 2020 14:43:41 -0700
IronPort-SDR: b6aSPs5asHKpBEd86XY1Ci3IX12bWNv6V/NUdoxkiN0wmFEds1zDcradtJZEBT5H8/wgL9x7Nz
 kirFRLYxepZw==
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.77,272,1596524400"; d="scan'208";a="346763279"
Received: from stinkbox.fi.intel.com (HELO stinkbox) ([10.237.72.174])
 by orsmga007.jf.intel.com with SMTP; 17 Sep 2020 14:43:39 -0700
Received: by stinkbox (sSMTP sendmail emulation);
 Fri, 18 Sep 2020 00:43:38 +0300
From: Ville Syrjala <ville.syrjala@linux.intel.com>
To: intel-gfx@lists.freedesktop.org
Date: Fri, 18 Sep 2020 00:43:34 +0300
Message-Id: <20200917214335.3569-2-ville.syrjala@linux.intel.com>
X-Mailer: git-send-email 2.26.2
In-Reply-To: <20200917214335.3569-1-ville.syrjala@linux.intel.com>
References: <20200917214335.3569-1-ville.syrjala@linux.intel.com>
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH 2/3] drm/i915: Decouple intel_dp_{min,
 output}_bpp() from crtc_state
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

RnJvbTogVmlsbGUgU3lyasOkbMOkIDx2aWxsZS5zeXJqYWxhQGxpbnV4LmludGVsLmNvbT4KClBh
c3MgdGhlIG91dHB1dF9mb3JtYXQgZGlyZWN0bHkgdG8gaW50ZWxfZHBfe21pbixvdXRwdXR9X2Jw
cCgpCnJhdGhlciB0aGFuIHBhc3NpbmcgaW4gdGhlIGNydGNfc3RhdGUgYW5kIGRpZ2dpbmcgb3V0
IHRoZQpvdXRwdXRfZm9ybWF0IGluc2lkZSB0aGUgZnVuY3Rpb25zLiBUaGlzIHdpbGwgYWxsb3cg
dXMgdG8gcmV1c2UKdGhlIGZ1bmN0aW9ucyBmb3IgbW9kZSB2YWxpZGF0aW9uIHB1cnBvc2VzLgoK
U2lnbmVkLW9mZi1ieTogVmlsbGUgU3lyasOkbMOkIDx2aWxsZS5zeXJqYWxhQGxpbnV4LmludGVs
LmNvbT4KLS0tCiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2RwLmMgICAgIHwg
MTUgKysrKysrKystLS0tLS0tCiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rw
LmggICAgIHwgIDMgKystCiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2RwX21z
dC5jIHwgIDIgKy0KIDMgZmlsZXMgY2hhbmdlZCwgMTEgaW5zZXJ0aW9ucygrKSwgOSBkZWxldGlv
bnMoLSkKCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rw
LmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2RwLmMKaW5kZXggYWQ5Yjhi
MTZmYWRiLi5hYTQ4MDFhODEyM2QgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rp
c3BsYXkvaW50ZWxfZHAuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVs
X2RwLmMKQEAgLTIxMTEsMTQgKzIxMTEsMTQgQEAgaW50ZWxfZHBfYWRqdXN0X2NvbXBsaWFuY2Vf
Y29uZmlnKHN0cnVjdCBpbnRlbF9kcCAqaW50ZWxfZHAsCiAJfQogfQogCi1zdGF0aWMgaW50IGlu
dGVsX2RwX291dHB1dF9icHAoY29uc3Qgc3RydWN0IGludGVsX2NydGNfc3RhdGUgKmNydGNfc3Rh
dGUsIGludCBicHApCitzdGF0aWMgaW50IGludGVsX2RwX291dHB1dF9icHAoZW51bSBpbnRlbF9v
dXRwdXRfZm9ybWF0IG91dHB1dF9mb3JtYXQsIGludCBicHApCiB7CiAJLyoKIAkgKiBicHAgdmFs
dWUgd2FzIGFzc3VtZWQgdG8gUkdCIGZvcm1hdC4gQW5kIFlDYkNyIDQ6MjowIG91dHB1dAogCSAq
IGZvcm1hdCBvZiB0aGUgbnVtYmVyIG9mIGJ5dGVzIHBlciBwaXhlbCB3aWxsIGJlIGhhbGYgdGhl
IG51bWJlcgogCSAqIG9mIGJ5dGVzIG9mIFJHQiBwaXhlbC4KIAkgKi8KLQlpZiAoY3J0Y19zdGF0
ZS0+b3V0cHV0X2Zvcm1hdCA9PSBJTlRFTF9PVVRQVVRfRk9STUFUX1lDQkNSNDIwKQorCWlmIChv
dXRwdXRfZm9ybWF0ID09IElOVEVMX09VVFBVVF9GT1JNQVRfWUNCQ1I0MjApCiAJCWJwcCAvPSAy
OwogCiAJcmV0dXJuIGJwcDsKQEAgLTIxMzUsNyArMjEzNSw3IEBAIGludGVsX2RwX2NvbXB1dGVf
bGlua19jb25maWdfd2lkZShzdHJ1Y3QgaW50ZWxfZHAgKmludGVsX2RwLAogCWludCBtb2RlX3Jh
dGUsIGxpbmtfY2xvY2ssIGxpbmtfYXZhaWw7CiAKIAlmb3IgKGJwcCA9IGxpbWl0cy0+bWF4X2Jw
cDsgYnBwID49IGxpbWl0cy0+bWluX2JwcDsgYnBwIC09IDIgKiAzKSB7Ci0JCWludCBvdXRwdXRf
YnBwID0gaW50ZWxfZHBfb3V0cHV0X2JwcChwaXBlX2NvbmZpZywgYnBwKTsKKwkJaW50IG91dHB1
dF9icHAgPSBpbnRlbF9kcF9vdXRwdXRfYnBwKHBpcGVfY29uZmlnLT5vdXRwdXRfZm9ybWF0LCBi
cHApOwogCiAJCW1vZGVfcmF0ZSA9IGludGVsX2RwX2xpbmtfcmVxdWlyZWQoYWRqdXN0ZWRfbW9k
ZS0+Y3J0Y19jbG9jaywKIAkJCQkJCSAgIG91dHB1dF9icHApOwpAQCAtMjM0Niw5ICsyMzQ2LDkg
QEAgc3RhdGljIGludCBpbnRlbF9kcF9kc2NfY29tcHV0ZV9jb25maWcoc3RydWN0IGludGVsX2Rw
ICppbnRlbF9kcCwKIAlyZXR1cm4gMDsKIH0KIAotaW50IGludGVsX2RwX21pbl9icHAoY29uc3Qg
c3RydWN0IGludGVsX2NydGNfc3RhdGUgKmNydGNfc3RhdGUpCitpbnQgaW50ZWxfZHBfbWluX2Jw
cChlbnVtIGludGVsX291dHB1dF9mb3JtYXQgb3V0cHV0X2Zvcm1hdCkKIHsKLQlpZiAoY3J0Y19z
dGF0ZS0+b3V0cHV0X2Zvcm1hdCA9PSBJTlRFTF9PVVRQVVRfRk9STUFUX1JHQikKKwlpZiAob3V0
cHV0X2Zvcm1hdCA9PSBJTlRFTF9PVVRQVVRfRk9STUFUX1JHQikKIAkJcmV0dXJuIDYgKiAzOwog
CWVsc2UKIAkJcmV0dXJuIDggKiAzOwpAQCAtMjM3OSw3ICsyMzc5LDcgQEAgaW50ZWxfZHBfY29t
cHV0ZV9saW5rX2NvbmZpZyhzdHJ1Y3QgaW50ZWxfZW5jb2RlciAqZW5jb2RlciwKIAlsaW1pdHMu
bWluX2xhbmVfY291bnQgPSAxOwogCWxpbWl0cy5tYXhfbGFuZV9jb3VudCA9IGludGVsX2RwX21h
eF9sYW5lX2NvdW50KGludGVsX2RwKTsKIAotCWxpbWl0cy5taW5fYnBwID0gaW50ZWxfZHBfbWlu
X2JwcChwaXBlX2NvbmZpZyk7CisJbGltaXRzLm1pbl9icHAgPSBpbnRlbF9kcF9taW5fYnBwKHBp
cGVfY29uZmlnLT5vdXRwdXRfZm9ybWF0KTsKIAlsaW1pdHMubWF4X2JwcCA9IGludGVsX2RwX21h
eF9icHAoaW50ZWxfZHAsIHBpcGVfY29uZmlnKTsKIAogCWlmIChpbnRlbF9kcF9pc19lZHAoaW50
ZWxfZHApKSB7CkBAIC0yNzY1LDcgKzI3NjUsOCBAQCBpbnRlbF9kcF9jb21wdXRlX2NvbmZpZyhz
dHJ1Y3QgaW50ZWxfZW5jb2RlciAqZW5jb2RlciwKIAlpZiAocGlwZV9jb25maWctPmRzYy5jb21w
cmVzc2lvbl9lbmFibGUpCiAJCW91dHB1dF9icHAgPSBwaXBlX2NvbmZpZy0+ZHNjLmNvbXByZXNz
ZWRfYnBwOwogCWVsc2UKLQkJb3V0cHV0X2JwcCA9IGludGVsX2RwX291dHB1dF9icHAocGlwZV9j
b25maWcsIHBpcGVfY29uZmlnLT5waXBlX2JwcCk7CisJCW91dHB1dF9icHAgPSBpbnRlbF9kcF9v
dXRwdXRfYnBwKHBpcGVfY29uZmlnLT5vdXRwdXRfZm9ybWF0LAorCQkJCQkJIHBpcGVfY29uZmln
LT5waXBlX2JwcCk7CiAKIAlpbnRlbF9saW5rX2NvbXB1dGVfbV9uKG91dHB1dF9icHAsCiAJCQkg
ICAgICAgcGlwZV9jb25maWctPmxhbmVfY291bnQsCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9k
cm0vaTkxNS9kaXNwbGF5L2ludGVsX2RwLmggYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5
L2ludGVsX2RwLmgKaW5kZXggMDhhMWMwYWE4Yjk0Li5hOTU4MGQxZGYzNWIgMTAwNjQ0Ci0tLSBh
L2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZHAuaAorKysgYi9kcml2ZXJzL2dw
dS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2RwLmgKQEAgLTEwLDYgKzEwLDcgQEAKIAogI2luY2x1
ZGUgImk5MTVfcmVnLmgiCiAKK2VudW0gaW50ZWxfb3V0cHV0X2Zvcm1hdDsKIGVudW0gcGlwZTsK
IGVudW0gcG9ydDsKIHN0cnVjdCBkcm1fY29ubmVjdG9yX3N0YXRlOwpAQCAtMzUsNyArMzYsNyBA
QCB2b2lkIGludGVsX2RwX2FkanVzdF9jb21wbGlhbmNlX2NvbmZpZyhzdHJ1Y3QgaW50ZWxfZHAg
KmludGVsX2RwLAogCQkJCSAgICAgICBzdHJ1Y3QgbGlua19jb25maWdfbGltaXRzICpsaW1pdHMp
OwogYm9vbCBpbnRlbF9kcF9saW1pdGVkX2NvbG9yX3JhbmdlKGNvbnN0IHN0cnVjdCBpbnRlbF9j
cnRjX3N0YXRlICpjcnRjX3N0YXRlLAogCQkJCSAgY29uc3Qgc3RydWN0IGRybV9jb25uZWN0b3Jf
c3RhdGUgKmNvbm5fc3RhdGUpOwotaW50IGludGVsX2RwX21pbl9icHAoY29uc3Qgc3RydWN0IGlu
dGVsX2NydGNfc3RhdGUgKmNydGNfc3RhdGUpOworaW50IGludGVsX2RwX21pbl9icHAoZW51bSBp
bnRlbF9vdXRwdXRfZm9ybWF0IG91dHB1dF9mb3JtYXQpOwogYm9vbCBpbnRlbF9kcF9wb3J0X2Vu
YWJsZWQoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2LAogCQkJICAgaTkxNV9yZWdf
dCBkcF9yZWcsIGVudW0gcG9ydCBwb3J0LAogCQkJICAgZW51bSBwaXBlICpwaXBlKTsKZGlmZiAt
LWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZHBfbXN0LmMgYi9kcml2
ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2RwX21zdC5jCmluZGV4IDY0ZDg4NTUzOWU5
NC4uNmE4NzRiNzc5YjFmIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5
L2ludGVsX2RwX21zdC5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxf
ZHBfbXN0LmMKQEAgLTEzMCw3ICsxMzAsNyBAQCBzdGF0aWMgaW50IGludGVsX2RwX21zdF9jb21w
dXRlX2NvbmZpZyhzdHJ1Y3QgaW50ZWxfZW5jb2RlciAqZW5jb2RlciwKIAlsaW1pdHMubWluX2xh
bmVfY291bnQgPQogCWxpbWl0cy5tYXhfbGFuZV9jb3VudCA9IGludGVsX2RwX21heF9sYW5lX2Nv
dW50KGludGVsX2RwKTsKIAotCWxpbWl0cy5taW5fYnBwID0gaW50ZWxfZHBfbWluX2JwcChwaXBl
X2NvbmZpZyk7CisJbGltaXRzLm1pbl9icHAgPSBpbnRlbF9kcF9taW5fYnBwKHBpcGVfY29uZmln
LT5vdXRwdXRfZm9ybWF0KTsKIAkvKgogCSAqIEZJWE1FOiBJZiBhbGwgdGhlIHN0cmVhbXMgY2Fu
J3QgZml0IGludG8gdGhlIGxpbmsgd2l0aAogCSAqIHRoZWlyIGN1cnJlbnQgcGlwZV9icHAgd2Ug
c2hvdWxkIHJlZHVjZSBwaXBlX2JwcCBhY3Jvc3MKLS0gCjIuMjYuMgoKX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KSW50ZWwtZ2Z4IG1haWxpbmcgbGlzdApJ
bnRlbC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Au
b3JnL21haWxtYW4vbGlzdGluZm8vaW50ZWwtZ2Z4Cg==

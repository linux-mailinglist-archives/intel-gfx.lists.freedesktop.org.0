Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id CBA8724C101
	for <lists+intel-gfx@lfdr.de>; Thu, 20 Aug 2020 16:53:12 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id EB78E6E94D;
	Thu, 20 Aug 2020 14:53:10 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga05.intel.com (mga05.intel.com [192.55.52.43])
 by gabe.freedesktop.org (Postfix) with ESMTPS id D571D6E94D;
 Thu, 20 Aug 2020 14:53:09 +0000 (UTC)
IronPort-SDR: 99lSFLOkJNKJNl5qoMyxV4HQwrbpR2v+Dj4xNFdVOEOl+ut+NjOKGrl/osqTsGV5A326VW8036
 jbjon1j/N52g==
X-IronPort-AV: E=McAfee;i="6000,8403,9718"; a="240136235"
X-IronPort-AV: E=Sophos;i="5.76,333,1592895600"; d="scan'208";a="240136235"
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga005.jf.intel.com ([10.7.209.41])
 by fmsmga105.fm.intel.com with ESMTP/TLS/ECDHE-RSA-AES256-GCM-SHA384;
 20 Aug 2020 07:53:09 -0700
IronPort-SDR: MiS3rBKByX/fmfvDYbDy1CwnixfB1rre8pV+bRO/V0J+Sv5eHB1TjmVG4n1SZmIfIkFwnpW/e/
 cGHR+Nh5umXg==
X-IronPort-AV: E=Sophos;i="5.76,333,1592895600"; d="scan'208";a="472679751"
Received: from jkrzyszt-desk.igk.intel.com ([172.22.244.18])
 by orsmga005-auth.jf.intel.com with ESMTP/TLS/ECDHE-RSA-AES256-GCM-SHA384;
 20 Aug 2020 07:53:06 -0700
From: Janusz Krzysztofik <janusz.krzysztofik@linux.intel.com>
To: igt-dev@lists.freedesktop.org
Date: Thu, 20 Aug 2020 16:52:07 +0200
Message-Id: <20200820145215.13238-12-janusz.krzysztofik@linux.intel.com>
X-Mailer: git-send-email 2.21.1
In-Reply-To: <20200820145215.13238-1-janusz.krzysztofik@linux.intel.com>
References: <20200820145215.13238-1-janusz.krzysztofik@linux.intel.com>
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH i-g-t v3 11/19] tests/core_hotunplug: Recover
 from subtest failures
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: =?UTF-8?q?Micha=C5=82=20Winiarski?= <michal.winiarski@intel.com>,
 intel-gfx@lists.freedesktop.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

U3VidGVzdHMgbm93IGZvcmNpYmx5IGNhbGwgb3IgcmVxdWVzdCBpZ3RfYWJvcnQgb24gZmFpbHVy
ZXMgaW4gb3JkZXIgdG8KYXZvaWQgc2lsZW50bHkgbGVhdmluZyBhbiBleGVyY2lzZWQgZGV2aWNl
IGluIGFuIHVudXNhYmxlIHN0YXRlLgpIb3dldmVyLCBhIGZhaWx1cmUgaW5zaWRlIGEgc3VidGVz
dCBkb2Vzbid0IGFsd2F5cyBtZWFuIHRoZSBkZXZpY2UgaXMKbm8gbG9uZ2VyIHdvcmtpbmcgY29y
cmVjdGx5IGFuZCByZWJvb3QgaXMgbmVlZGVkLiAgT24gdGhlIG90aGVyIGhhbmQsCmlmIGEgc3Vi
dGVzdCBqdXN0IGZhaWxzIHdpdGhvdXQgYWJvcnRpbmcsIHRoYXQgZG9lc24ndCBtZWFuIGluIHR1
cm4gdGhlCmRldmljZSBpcyBoZWFsdGh5LiAgV2Ugc2hvdWxkIHN0aWxsIHBlcmZvcm0gYSBkZXZp
Y2UgaGVhbHRoIGNoZWNrCmluIHRoYXQgY2FzZSBiZWZvcmUgZGVjaWRpbmcgb24gbmV4dCBzdGVw
cy4KClJldXNlIHRoZSAnZmFpbHVyZScgc3RydWN0dXJlIGZpZWxkIGFzIGEgbWFyayB3aGljaCBp
cyBzZXQgYmVmb3JlIGVhY2gKY3JpdGljYWwgb3BlcmF0aW9uIHdoaWNoIG11c3QgYmUgZm9sbG93
ZWQgYnkgYSBzdWNjZXNzZnVsIGhlYWx0aCBjaGVjawppbiBvcmRlciB0byBhdm9pZCBhYm9ydGlu
ZyB0aGUgdGVzdCBpcyBleGVjdXRlZC4gIFRoZW4sIG1vdmUgaGVhbHRoCmNoZWNrcyBub3QgZXNz
ZW50aWFsIGZvciBzdWJ0ZXN0cyBvdXQgb2YgdGhvc2Ugc3VidGVzdCBib2RpZXMsIG9yIGp1c3QK
Y29weSB0aGVtIGlmIGVzc2VudGlhbGwsIHRvIHN1YnRlc3QgYXNzb2NpYXRlZCBpbmRpdmlkdWFs
IGZvbGxvdy11cAppZ3RfZml4dHVyZSBzZWN0aW9ucywgZnJvbSB3aGVyZSBkZXZpY2UgZmlsZSBk
ZXNjcmlwdG9ycyBwb3RlbnRpYWxseQpsZWZ0IG9wZW4gYXJlIGNsb3NlZCwgZGV2aWNlIHJlZGlz
Y292ZXIgb3IgZHJpdmVyIHJlYmluZyBvcGVyYXRpb24gaXMKcnVuIGFzIG5lZWRlZCwgYW5kIGZp
bmFsbHkgdGhlIGhlYWx0aCBjaGVjayBpcyBydW4gaWYgdGhlIHByZWNlZGluZwppZ3Rfc3VidGVz
dCBzZWN0aW9uIGV4aXRlZCB3aXRoIHRoZSBtYXJrZXIgc2V0LgoKdjI6IFN0YXJ0IGVhY2ggcmVj
b3ZlcnkgcGhhc2UgZnJvbSB1bmNvbmRpdGlvbmFsbHkgY2xvc2luZyBmaWxlCiAgICBkZXNjcmlw
dG9ycyBwb3RlbnRpYWxseSBsZWZ0IG9wZW4gYnkgYSBzdWJ0ZXN0IGJlZm9yZSBpdCBlbnRlcmVk
CiAgICBpdHMgY3JpdGljYWwgc2VjdGlvbiwKICAtIHJlcGxhY2UgaWd0X3JlcXVpcmUoKSB3aXRo
ICdpZigpIHJldHVybjsnIGNvbnN0cnVjdCBpbiByZWNvdmVyKCkgdG8KICAgIHJlZHVjZSBub2lz
ZSwKICAtIHJlcGxhY2UgInN1YnRlc3QgZmFpbHVyZSIgbWVzc2FnZSB1c2VkIGFzIGEgcmVxdWVz
dCBmb3IgaGVhbHRoY2hlY2sKICAgIHdpdGggYSBtb3JlIGFwcHJvcHJpYXRlICJuZWVkIGhlYWx0
aGNoZWNrIiBmb3IgY2xhcml0eSwKICAtIHJlYmFzZSBvbiBjdXJyZW50IHVwc3RyZWFtIG1hc3Rl
ci4KdjM6IFJlZnJlc2gsCiAgLSBtb3ZlIGJ1c19yZXNjYW4oKSBhbmQgZHJpdmVyX2JpbmQoKSBm
dW5jdGlvbiBjYWxscyBiYWNrIGZyb20KICAgIGhlYWFsdGhjaGVjaygpIHRvIHJlY292ZXIoKSBz
byBhIHB1cmUgaGVhbHRoIGNoZWNrIGNhbiBzdGlsbCBiZQogICAgY2FsbGVkIGZyb20gYSBzdWJ0
ZXN0IGlmIGVzc2VudGlhbCwKICAtIG1vdmUgZmFpbHVyZSBtYXJrIGFzc2lnbm1lbnRzIGJhY2sg
ZnJvbSBzdWJ0ZXN0cyB0byBoZWxwZXJzIGZvcgogICAgbW9yZSBhZGVxdWF0ZSBhYm9ydCByZWFz
b24gcmVwb3J0aW5nIGJ1dCBjbGVhbiB0aGUgbWFyayBvbmx5IG9uCiAgICBoZWFsdGggY2hlY2sg
c3VjY2VzcywKICAtIGNhbGwgY2xlYW51cCgpIGFsc28gZnJvbSBwb3N0X2hlYWx0aGNoZWNrKCkg
aW4gb3JkZXIgdG8gY2xvc2UgYQogICAgZGV2aWNlIGZpbGUgZGVzY3JpcHRvciBwb3RlbnRpYWxs
eSBsZWZ0IG9wZW4gYnkgYSBmYWlsZWQgaGVhbHRoCiAgICBjaGVjaywKICAtIHJld29yZCBjb21t
aXQgbWVzc2FnZSBhbmQgdXBkYXRlIGRlc2NyaXB0aW9uLgoKU2lnbmVkLW9mZi1ieTogSmFudXN6
IEtyenlzenRvZmlrIDxqYW51c3oua3J6eXN6dG9maWtAbGludXguaW50ZWwuY29tPgpSZXZpZXdl
ZC1ieTogTWljaGHFgiBXaW5pYXJza2kgPG1pY2hhbC53aW5pYXJza2lAaW50ZWwuY29tPiAjIHYx
Ci0tLQogdGVzdHMvY29yZV9ob3R1bnBsdWcuYyB8IDEwNCArKysrKysrKysrKysrKysrKysrKysr
KysrKysrKy0tLS0tLS0tLS0tLQogMSBmaWxlIGNoYW5nZWQsIDc0IGluc2VydGlvbnMoKyksIDMw
IGRlbGV0aW9ucygtKQoKZGlmZiAtLWdpdCBhL3Rlc3RzL2NvcmVfaG90dW5wbHVnLmMgYi90ZXN0
cy9jb3JlX2hvdHVucGx1Zy5jCmluZGV4IDYwMmE5MWNmOC4uMTQ1NTkzNjgzIDEwMDY0NAotLS0g
YS90ZXN0cy9jb3JlX2hvdHVucGx1Zy5jCisrKyBiL3Rlc3RzL2NvcmVfaG90dW5wbHVnLmMKQEAg
LTY5LDYgKzY5LDkgQEAgc3RhdGljIGludCBsb2NhbF9kcm1fb3Blbl9kcml2ZXIoY29uc3QgY2hh
ciAqcHJlZml4LCBjb25zdCBjaGFyICpzdWZmaXgpCiAKIHN0YXRpYyBpbnQgbG9jYWxfY2xvc2Uo
aW50IGZkLCBjb25zdCBjaGFyICptZXNzYWdlKQogeworCWlmIChmZCA8IDApCS8qIG5vdCBvcGVu
IC0gcmV0dXJuIGN1cnJlbnQgc3RhdHVzICovCisJCXJldHVybiBmZDsKKwogCWVycm5vID0gMDsK
IAlpZiAoaWd0X3dhcm5fb25fZihjbG9zZShmZCksICIlc1xuIiwgbWVzc2FnZSkpCiAJCXJldHVy
biAtZXJybm87CS8qIChuZXZlciAtMSkgKi8KQEAgLTExNSwyNCArMTE4LDIyIEBAIHN0YXRpYyB2
b2lkIHByZXBhcmUoc3RydWN0IGhvdHVucGx1ZyAqcHJpdikKIHN0YXRpYyB2b2lkIGRyaXZlcl91
bmJpbmQoc3RydWN0IGhvdHVucGx1ZyAqcHJpdiwgY29uc3QgY2hhciAqcHJlZml4KQogewogCWln
dF9kZWJ1ZygiJXN1bmJpbmRpbmcgdGhlIGRyaXZlciBmcm9tIHRoZSBkZXZpY2VcbiIsIHByZWZp
eCk7CisJcHJpdi0+ZmFpbHVyZSA9ICJEcml2ZXIgdW5iaW5kIGZhaWx1cmUhIjsKIAotCXByaXYt
PmZhaWx1cmUgPSAiRHJpdmVyIHVuYmluZCB0aW1lb3V0ISI7Ci0JaWd0X3NldF90aW1lb3V0KDYw
LCBwcml2LT5mYWlsdXJlKTsKKwlpZ3Rfc2V0X3RpbWVvdXQoNjAsICJEcml2ZXIgdW5iaW5kIHRp
bWVvdXQhIik7CiAJaWd0X3N5c2ZzX3NldChwcml2LT5mZC5zeXNmc19kcnYsICJ1bmJpbmQiLCBw
cml2LT5kZXZfYnVzX2FkZHIpOwogCWlndF9yZXNldF90aW1lb3V0KCk7Ci0JcHJpdi0+ZmFpbHVy
ZSA9IE5VTEw7CiB9CiAKIC8qIFJlLWJpbmQgdGhlIGRyaXZlciB0byB0aGUgZGV2aWNlICovCiBz
dGF0aWMgdm9pZCBkcml2ZXJfYmluZChzdHJ1Y3QgaG90dW5wbHVnICpwcml2KQogewogCWlndF9k
ZWJ1ZygicmViaW5kaW5nIHRoZSBkcml2ZXIgdG8gdGhlIGRldmljZVxuIik7CisJcHJpdi0+ZmFp
bHVyZSA9ICJEcml2ZXIgcmUtYmluZCBmYWlsdXJlISI7CiAKLQlwcml2LT5mYWlsdXJlID0gIkRy
aXZlciByZS1iaW5kIHRpbWVvdXQhIjsKLQlpZ3Rfc2V0X3RpbWVvdXQoNjAsIHByaXYtPmZhaWx1
cmUpOworCWlndF9zZXRfdGltZW91dCg2MCwgIkRyaXZlciByZS1iaW5kIHRpbWVvdXQhIik7CiAJ
aWd0X3N5c2ZzX3NldChwcml2LT5mZC5zeXNmc19kcnYsICJiaW5kIiwgcHJpdi0+ZGV2X2J1c19h
ZGRyKTsKIAlpZ3RfcmVzZXRfdGltZW91dCgpOwotCXByaXYtPmZhaWx1cmUgPSBOVUxMOwogfQog
CiAvKiBSZW1vdmUgKHZpcnR1YWxseSB1bnBsdWcpIHRoZSBkZXZpY2UgZnJvbSBpdHMgYnVzICov
CkBAIC0xNDUsMTIgKzE0NiwxMSBAQCBzdGF0aWMgdm9pZCBkZXZpY2VfdW5wbHVnKHN0cnVjdCBo
b3R1bnBsdWcgKnByaXYsIGNvbnN0IGNoYXIgKnByZWZpeCkKIAlpZ3RfYXNzZXJ0X2ZkKHByaXYt
PmZkLnN5c2ZzX2Rldik7CiAKIAlpZ3RfZGVidWcoIiVzdW5wbHVnZ2luZyB0aGUgZGV2aWNlXG4i
LCBwcmVmaXgpOworCXByaXYtPmZhaWx1cmUgPSAiRGV2aWNlIHVucGx1ZyBmYWlsdXJlISI7CiAK
LQlwcml2LT5mYWlsdXJlID0gIkRldmljZSB1bnBsdWcgdGltZW91dCEiOwotCWlndF9zZXRfdGlt
ZW91dCg2MCwgcHJpdi0+ZmFpbHVyZSk7CisJaWd0X3NldF90aW1lb3V0KDYwLCAiRGV2aWNlIHVu
cGx1ZyB0aW1lb3V0ISIpOwogCWlndF9zeXNmc19zZXQocHJpdi0+ZmQuc3lzZnNfZGV2LCAicmVt
b3ZlIiwgIjEiKTsKIAlpZ3RfcmVzZXRfdGltZW91dCgpOwotCXByaXYtPmZhaWx1cmUgPSBOVUxM
OwogCiAJcHJpdi0+ZmQuc3lzZnNfZGV2ID0gY2xvc2Vfc3lzZnMocHJpdi0+ZmQuc3lzZnNfZGV2
KTsKIH0KQEAgLTE1OSwxNyArMTU5LDIzIEBAIHN0YXRpYyB2b2lkIGRldmljZV91bnBsdWcoc3Ry
dWN0IGhvdHVucGx1ZyAqcHJpdiwgY29uc3QgY2hhciAqcHJlZml4KQogc3RhdGljIHZvaWQgYnVz
X3Jlc2NhbihzdHJ1Y3QgaG90dW5wbHVnICpwcml2KQogewogCWlndF9kZWJ1ZygicmVkaXNjb3Zl
cmluZyB0aGUgZGV2aWNlXG4iKTsKKwlwcml2LT5mYWlsdXJlID0gIkJ1cyByZXNjYW4gZmFpbHVy
ZSEiOwogCi0JcHJpdi0+ZmFpbHVyZSA9ICJCdXMgcmVzY2FuIHRpbWVvdXQhIjsKLQlpZ3Rfc2V0
X3RpbWVvdXQoNjAsIHByaXYtPmZhaWx1cmUpOworCWlndF9zZXRfdGltZW91dCg2MCwgIkJ1cyBy
ZXNjYW4gdGltZW91dCEiKTsKIAlpZ3Rfc3lzZnNfc2V0KHByaXYtPmZkLnN5c2ZzX2J1cywgIi4u
L3Jlc2NhbiIsICIxIik7CiAJaWd0X3Jlc2V0X3RpbWVvdXQoKTsKLQlwcml2LT5mYWlsdXJlID0g
TlVMTDsKK30KKworc3RhdGljIHZvaWQgY2xlYW51cChzdHJ1Y3QgaG90dW5wbHVnICpwcml2KQor
eworCXByaXYtPmZkLmRybSA9IGNsb3NlX2RldmljZShwcml2LT5mZC5kcm0pOworCXByaXYtPmZk
LnN5c2ZzX2RldiA9IGNsb3NlX3N5c2ZzKHByaXYtPmZkLnN5c2ZzX2Rldik7CiB9CiAKIHN0YXRp
YyB2b2lkIGhlYWx0aGNoZWNrKHN0cnVjdCBob3R1bnBsdWcgKnByaXYpCiB7CiAJLyogcHJlc2Vy
dmUgZXJyb3IgY29kZSBwb3RlbnRpYWxseSBzdG9yZWQgYmVmb3JlIGluIHByaXYtPmZkLmRybSAq
LworCWJvb2wgY2xvc2VkID0gcHJpdi0+ZmQuZHJtID09IC0xOwogCWludCBmZF9kcm07CiAKIAkv
KiBkZXZpY2UgbmFtZSBtYXkgaGF2ZSBjaGFuZ2VkLCByZWJ1aWxkIElHVCBkZXZpY2UgbGlzdCAq
LwpAQCAtMTc3LDIzICsxODMsNDUgQEAgc3RhdGljIHZvaWQgaGVhbHRoY2hlY2soc3RydWN0IGhv
dHVucGx1ZyAqcHJpdikKIAogCXByaXYtPmZhaWx1cmUgPSAiRGV2aWNlIHJlb3BlbiBmYWlsdXJl
ISI7CiAJZmRfZHJtID0gbG9jYWxfZHJtX29wZW5fZHJpdmVyKCJyZSIsICIgZm9yIGhlYWx0aGNo
ZWNrIik7Ci0JcHJpdi0+ZmFpbHVyZSA9IE5VTEw7CisJaWYgKGNsb3NlZCkJLyogc3RvcmUgZm9y
IGNsZWFudXAgaWYgbm8gZXJyb3IgY29kZSB0byBwcmVzZXJ2ZSAqLworCQlwcml2LT5mZC5kcm0g
PSBmZF9kcm07CiAKIAlpZiAoaXNfaTkxNV9kZXZpY2UoZmRfZHJtKSkgewogCQlwcml2LT5mYWls
dXJlID0gIkdFTSBmYWlsdXJlIjsKIAkJaWd0X3JlcXVpcmVfZ2VtKGZkX2RybSk7CiAJCXByaXYt
PmZhaWx1cmUgPSBOVUxMOworCX0gZWxzZSB7CisJCS8qIG5vIGRldmljZSBzcGVjaWZpYyBoZWFs
dGhjaGVjaywgcmVseSBvbiByZW9wZW4gcmVzdWx0ICovCisJCXByaXYtPmZhaWx1cmUgPSBOVUxM
OwogCX0KIAorCS8qIG5vdCBvbmx5IHJlcXVlc3QgaWd0X2Fib3J0IG9uIGZhaWx1cmUsIGFsc28g
ZmFpbCB0aGUgaGVhbHRoIGNoZWNrICovCisJaWd0X2ZhaWxfb25fZihwcml2LT5mYWlsdXJlLCAi
JXNcbiIsIHByaXYtPmZhaWx1cmUpOworCiAJZmRfZHJtID0gY2xvc2VfZGV2aWNlKGZkX2RybSk7
Ci0JaWYgKHByaXYtPmZkLmRybSA9PSAtMSkJLyogc3RvcmUgcmVzdWx0IGlmIG5vIGVycm9yIGNv
ZGUgdG8gcHJlc2VydmUgKi8KKwlpZiAoY2xvc2VkKQkvKiBzdG9yZSByZXN1bHQgaWYgbm8gZXJy
b3IgY29kZSB0byBwcmVzZXJ2ZSAqLwogCQlwcml2LT5mZC5kcm0gPSBmZF9kcm07CiB9CiAKK3N0
YXRpYyB2b2lkIHJlY292ZXIoc3RydWN0IGhvdHVucGx1ZyAqcHJpdikKK3sKKwljbGVhbnVwKHBy
aXYpOworCisJaWYgKGZhY2Nlc3NhdChwcml2LT5mZC5zeXNmc19idXMsIHByaXYtPmRldl9idXNf
YWRkciwgRl9PSywgMCkpCisJCWJ1c19yZXNjYW4ocHJpdik7CisKKwllbHNlIGlmIChmYWNjZXNz
YXQocHJpdi0+ZmQuc3lzZnNfZHJ2LCBwcml2LT5kZXZfYnVzX2FkZHIsIEZfT0ssIDApKQorCQlk
cml2ZXJfYmluZChwcml2KTsKKworCWlmIChwcml2LT5mYWlsdXJlKQorCQloZWFsdGhjaGVjayhw
cml2KTsKK30KKwogc3RhdGljIHZvaWQgcG9zdF9oZWFsdGhjaGVjayhzdHJ1Y3QgaG90dW5wbHVn
ICpwcml2KQogewogCWlndF9hYm9ydF9vbl9mKHByaXYtPmZhaWx1cmUsICIlc1xuIiwgcHJpdi0+
ZmFpbHVyZSk7CiAKKwljbGVhbnVwKHByaXYpOwogCWlndF9yZXF1aXJlKHByaXYtPmZkLmRybSA9
PSAtMSk7CiB9CiAKQEAgLTI0Miw4ICsyNzAsNiBAQCBzdGF0aWMgdm9pZCBob3R1bmJpbmRfbGF0
ZWNsb3NlKHN0cnVjdCBob3R1bnBsdWcgKnByaXYpCiAKIAlpZ3RfZGVidWcoImxhdGUgY2xvc2lu
ZyB0aGUgdW5ib3VuZCBkZXZpY2UgaW5zdGFuY2VcbiIpOwogCXByaXYtPmZkLmRybSA9IGNsb3Nl
X2RldmljZShwcml2LT5mZC5kcm0pOwotCi0JaGVhbHRoY2hlY2socHJpdik7CiB9CiAKIHN0YXRp
YyB2b2lkIGhvdHVucGx1Z19sYXRlY2xvc2Uoc3RydWN0IGhvdHVucGx1ZyAqcHJpdikKQEAgLTI1
Niw4ICsyODIsNiBAQCBzdGF0aWMgdm9pZCBob3R1bnBsdWdfbGF0ZWNsb3NlKHN0cnVjdCBob3R1
bnBsdWcgKnByaXYpCiAKIAlpZ3RfZGVidWcoImxhdGUgY2xvc2luZyB0aGUgcmVtb3ZlZCBkZXZp
Y2UgaW5zdGFuY2VcbiIpOwogCXByaXYtPmZkLmRybSA9IGNsb3NlX2RldmljZShwcml2LT5mZC5k
cm0pOwotCi0JaGVhbHRoY2hlY2socHJpdik7CiB9CiAKIC8qIE1haW4gKi8KQEAgLTI4OCwzMCAr
MzEyLDUwIEBAIGlndF9tYWluCiAJCXByZXBhcmUoJnByaXYpOwogCX0KIAotCWlndF9kZXNjcmli
ZSgiQ2hlY2sgaWYgdGhlIGRyaXZlciBjYW4gYmUgY2xlYW5seSB1bmJvdW5kIGZyb20gYSBkZXZp
Y2UgYmVsaWV2ZWQgdG8gYmUgY2xvc2VkIik7Ci0JaWd0X3N1YnRlc3QoInVuYmluZC1yZWJpbmQi
KQotCQl1bmJpbmRfcmViaW5kKCZwcml2KTsKKwlpZ3Rfc3VidGVzdF9ncm91cCB7CisJCWlndF9k
ZXNjcmliZSgiQ2hlY2sgaWYgdGhlIGRyaXZlciBjYW4gYmUgY2xlYW5seSB1bmJvdW5kIGZyb20g
YSBkZXZpY2UgYmVsaWV2ZWQgdG8gYmUgY2xvc2VkIik7CisJCWlndF9zdWJ0ZXN0KCJ1bmJpbmQt
cmViaW5kIikKKwkJCXVuYmluZF9yZWJpbmQoJnByaXYpOworCisJCWlndF9maXh0dXJlCisJCQly
ZWNvdmVyKCZwcml2KTsKKwl9CiAKIAlpZ3RfZml4dHVyZQogCQlwb3N0X2hlYWx0aGNoZWNrKCZw
cml2KTsKIAotCWlndF9kZXNjcmliZSgiQ2hlY2sgaWYgYSBkZXZpY2UgYmVsaWV2ZWQgdG8gYmUg
Y2xvc2VkIGNhbiBiZSBjbGVhbmx5IHVucGx1Z2dlZCIpOwotCWlndF9zdWJ0ZXN0KCJ1bnBsdWct
cmVzY2FuIikKLQkJdW5wbHVnX3Jlc2NhbigmcHJpdik7CisJaWd0X3N1YnRlc3RfZ3JvdXAgewor
CQlpZ3RfZGVzY3JpYmUoIkNoZWNrIGlmIGEgZGV2aWNlIGJlbGlldmVkIHRvIGJlIGNsb3NlZCBj
YW4gYmUgY2xlYW5seSB1bnBsdWdnZWQiKTsKKwkJaWd0X3N1YnRlc3QoInVucGx1Zy1yZXNjYW4i
KQorCQkJdW5wbHVnX3Jlc2NhbigmcHJpdik7CisKKwkJaWd0X2ZpeHR1cmUKKwkJCXJlY292ZXIo
JnByaXYpOworCX0KIAogCWlndF9maXh0dXJlCiAJCXBvc3RfaGVhbHRoY2hlY2soJnByaXYpOwog
Ci0JaWd0X2Rlc2NyaWJlKCJDaGVjayBpZiB0aGUgZHJpdmVyIGNhbiBiZSBjbGVhbmx5IHVuYm91
bmQgZnJvbSBhIHN0aWxsIG9wZW4gZGV2aWNlLCB0aGVuIHJlbGVhc2VkIik7Ci0JaWd0X3N1YnRl
c3QoImhvdHVuYmluZC1sYXRlY2xvc2UiKQotCQlob3R1bmJpbmRfbGF0ZWNsb3NlKCZwcml2KTsK
KwlpZ3Rfc3VidGVzdF9ncm91cCB7CisJCWlndF9kZXNjcmliZSgiQ2hlY2sgaWYgdGhlIGRyaXZl
ciBjYW4gYmUgY2xlYW5seSB1bmJvdW5kIGZyb20gYSBzdGlsbCBvcGVuIGRldmljZSwgdGhlbiBy
ZWxlYXNlZCIpOworCQlpZ3Rfc3VidGVzdCgiaG90dW5iaW5kLWxhdGVjbG9zZSIpCisJCQlob3R1
bmJpbmRfbGF0ZWNsb3NlKCZwcml2KTsKKworCQlpZ3RfZml4dHVyZQorCQkJcmVjb3ZlcigmcHJp
dik7CisJfQogCiAJaWd0X2ZpeHR1cmUKIAkJcG9zdF9oZWFsdGhjaGVjaygmcHJpdik7CiAKLQlp
Z3RfZGVzY3JpYmUoIkNoZWNrIGlmIGEgc3RpbGwgb3BlbiBkZXZpY2UgY2FuIGJlIGNsZWFubHkg
dW5wbHVnZ2VkLCB0aGVuIHJlbGVhc2VkIik7Ci0JaWd0X3N1YnRlc3QoImhvdHVucGx1Zy1sYXRl
Y2xvc2UiKQotCQlob3R1bnBsdWdfbGF0ZWNsb3NlKCZwcml2KTsKKwlpZ3Rfc3VidGVzdF9ncm91
cCB7CisJCWlndF9kZXNjcmliZSgiQ2hlY2sgaWYgYSBzdGlsbCBvcGVuIGRldmljZSBjYW4gYmUg
Y2xlYW5seSB1bnBsdWdnZWQsIHRoZW4gcmVsZWFzZWQiKTsKKwkJaWd0X3N1YnRlc3QoImhvdHVu
cGx1Zy1sYXRlY2xvc2UiKQorCQkJaG90dW5wbHVnX2xhdGVjbG9zZSgmcHJpdik7CisKKwkJaWd0
X2ZpeHR1cmUKKwkJCXJlY292ZXIoJnByaXYpOworCX0KIAogCWlndF9maXh0dXJlIHsKIAkJcG9z
dF9oZWFsdGhjaGVjaygmcHJpdik7Ci0tIAoyLjIxLjEKCl9fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fCkludGVsLWdmeCBtYWlsaW5nIGxpc3QKSW50ZWwtZ2Z4
QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWls
bWFuL2xpc3RpbmZvL2ludGVsLWdmeAo=

Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 16C0F1052D3
	for <lists+intel-gfx@lfdr.de>; Thu, 21 Nov 2019 14:21:55 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 0119C6EE5C;
	Thu, 21 Nov 2019 13:21:53 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from fireflyinternet.com (mail.fireflyinternet.com [109.228.58.192])
 by gabe.freedesktop.org (Postfix) with ESMTPS id BF6016E0C8
 for <intel-gfx@lists.freedesktop.org>; Thu, 21 Nov 2019 13:21:51 +0000 (UTC)
X-Default-Received-SPF: pass (skip=forwardok (res=PASS))
 x-ip-name=78.156.65.138; 
Received: from localhost (unverified [78.156.65.138]) 
 by fireflyinternet.com (Firefly Internet (M1)) with ESMTP (TLS) id
 19285908-1500050 for multiple; Thu, 21 Nov 2019 13:21:31 +0000
MIME-Version: 1.0
To: Andi Shyti <andi.shyti@intel.com>
From: Chris Wilson <chris@chris-wilson.co.uk>
In-Reply-To: <20191121125747.37232-1-andi.shyti@intel.com>
References: <20191121125747.37232-1-andi.shyti@intel.com>
Message-ID: <157434248769.29262.3072555280639954766@skylake-alporthouse-com>
User-Agent: alot/0.6
Date: Thu, 21 Nov 2019 13:21:27 +0000
Subject: Re: [Intel-gfx] [RFC] drm/i915/selftests: add basic selftests for
 rc6
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: Intel GFX <intel-gfx@lists.freedesktop.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

UXVvdGluZyBBbmRpIFNoeXRpICgyMDE5LTExLTIxIDEyOjU3OjQ3KQo+IEFkZCB0aHJlZSBiYXNp
YyB0ZXN0cyBmb3IgcmM2IHBvd2VyIHN0YXR1czoKPiAKPiAxLiBsaXZlX3JjNl9iYXNpYyAtIHNp
bXBseSBjaGVja3MgaWYgcmM2IHdvcmtzIHdoZW4gaXQncyBlbmFibGVkCj4gICAgb3Igc3RvcHMg
d2hlbiBpdCdzIGRpc2FibGVkLgo+IAo+IDIuIGxpdmVfcmM2X3RocmVzaG9sZCAtIHJjNiBzaG91
bGQgbm90IHdvcmsgd2hlbiB0aGUgZXZhbHVhdGlvbgo+ICAgIGludGVydmFsIGlzIGxlc3MgdGhh
biB0aGUgdGhyZXNob2xkIGFuZCBzaG91bGQgd29yayBvdGhlcndpc2UuCj4gCj4gMy4gbGl2ZV9y
YzZfYnVzeSAtIGtlZXBzIHRoZSBncHUgYnVzeSBhbmQgdGhlbiBnb2VzIGluIGlkbGU7Cj4gICAg
Y2hlY2tzIHRoYXQgd2UgZG9uJ3QgZmFsbCBpbiByYzYgd2hlbiBidXN5IGFuZCB0aGF0IHdlIGRv
IGZhbGwKPiAgICBpbiByYzYgd2hlbiBpZGxpbmcuCj4gCj4gVGhlIHRocmVlIHRlc3RzIGFyZSBh
ZGRlZCBhcyBzdXRlc3Qgb2YgdGhlIGJpZ2dlciBsaXZlX2xhdGVfZ3RfcG0KPiBzZWxmdGVzdC4K
PiAKPiBUaGUgYmFzaWMgcmM2IGZ1bmN0aW9uYWxpdHkgaXMgdGVzdGVkIGJ5IGNoZWNraW5nIHRo
ZSByZWZlcmVuY2UKPiBjb3VudGVyIHdpdGhpbiB0aGUgZXZhbHVhdGlvbiBpbnRlcnZhbC4KPiAK
PiBTaWduZWQtb2ZmLWJ5OiBBbmRpIFNoeXRpIDxhbmRpLnNoeXRpQGludGVsLmNvbT4KPiBDYzog
Q2hyaXMgV2lsc29uIDxjaHJpc0BjaHJpcy13aWxzb24uY28udWs+Cj4gLS0tCj4gSGksCj4gCj4g
aW4gdGhpcyBSQzYgdGVzdCB0aGUgbGl2ZV9yYzZfdGhyZXNob2xkIGRvZXNuJ3Qgd29yaywgZWl0
aGVyCj4gYmVjYXVzZSBJIG1pc2ludGVycHJldGVkIHRoZSBjb25jZXB0LCBvciB0aGUgR1BVIEkg
YW0gdXNpbmcgZG9lcwo+IG5vdCBzdXBwb3J0IHNvbWV0aGluZyBvciB0aGUgY29kZSBJIGFtIHBv
c3RpbmcgaXMganVuay4gRWl0aGVyCj4gd2F5LCBpZGVhcz8KPiAKPiBUaGFua3MsCj4gQW5kaQo+
IAo+ICBkcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9zZWxmdGVzdF9ndF9wbS5jIHwgICAzICsKPiAg
ZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3Qvc2VsZnRlc3RfcmM2LmMgICB8IDE4MCArKysrKysrKysr
KysrKysrKysrKysrKwo+ICBkcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9zZWxmdGVzdF9yYzYuaCAg
IHwgICAzICsKPiAgMyBmaWxlcyBjaGFuZ2VkLCAxODYgaW5zZXJ0aW9ucygrKQo+IAo+IGRpZmYg
LS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9zZWxmdGVzdF9ndF9wbS5jIGIvZHJpdmVy
cy9ncHUvZHJtL2k5MTUvZ3Qvc2VsZnRlc3RfZ3RfcG0uYwo+IGluZGV4IDVlNTYzYjg3NzM2OC4u
YjVhODcyYWZmYTg3IDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L3NlbGZ0
ZXN0X2d0X3BtLmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9zZWxmdGVzdF9ndF9w
bS5jCj4gQEAgLTY4LDcgKzY4LDEwIEBAIGludCBpbnRlbF9ndF9wbV9sYXRlX3NlbGZ0ZXN0cyhz
dHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSkKPiAgICAgICAgICAgICAgICAgICogVGhleSBh
cmUgaW50ZW5kZWQgdG8gYmUgcnVuIGxhc3QgaW4gQ0kgYW5kIHRoZSBzeXN0ZW0KPiAgICAgICAg
ICAgICAgICAgICogcmVib290ZWQgYWZ0ZXJ3YXJkcy4KPiAgICAgICAgICAgICAgICAgICovCj4g
KyAgICAgICAgICAgICAgIFNVQlRFU1QobGl2ZV9yYzZfYmFzaWMpLAo+ICsgICAgICAgICAgICAg
ICBTVUJURVNUKGxpdmVfcmM2X3RocmVzaG9sZCksCj4gICAgICAgICAgICAgICAgIFNVQlRFU1Qo
bGl2ZV9yYzZfY3R4X3dhKSwKPiArICAgICAgICAgICAgICAgU1VCVEVTVChsaXZlX3JjNl9idXN5
KSwKClRoZSBuZXdjb21lcnMgc2hvdWxkIGJlIHNhZmUsIHJpZ2h0PyBObyByZWFzb24gbm90IHRv
IHB1dCB0aGVtIGluIHRoZQpub3JtYWwgZ3RfcG1fc2VsZnRlc3RzIHJhdGhlciB0aGFuIHRoZSBk
YW5nZXJvdXMgZHVuZ2Vvbj8KCj4gICAgICAgICB9Owo+ICAKPiAgICAgICAgIGlmIChpbnRlbF9n
dF9pc193ZWRnZWQoJmk5MTUtPmd0KSkKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5
MTUvZ3Qvc2VsZnRlc3RfcmM2LmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9zZWxmdGVzdF9y
YzYuYwo+IGluZGV4IDY3YjdhNmJjNjRmNS4uYzgwZDE3ZjNkYTEwIDEwMDY0NAo+IC0tLSBhL2Ry
aXZlcnMvZ3B1L2RybS9pOTE1L2d0L3NlbGZ0ZXN0X3JjNi5jCj4gKysrIGIvZHJpdmVycy9ncHUv
ZHJtL2k5MTUvZ3Qvc2VsZnRlc3RfcmM2LmMKPiBAQCAtMTEsNiArMTEsMzEgQEAKPiAgI2luY2x1
ZGUgInNlbGZ0ZXN0X3JjNi5oIgo+ICAKPiAgI2luY2x1ZGUgInNlbGZ0ZXN0cy9pOTE1X3JhbmRv
bS5oIgo+ICsjaW5jbHVkZSAic2VsZnRlc3RzL2lndF9zcGlubmVyLmgiCj4gKwo+ICtzdGF0aWMg
Ym9vbCB0ZXN0X3JjNihzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYsIGJvb2wgZW5h
YmxlZCkKPiArewo+ICsgICAgICAgdTMyIGVjMSwgZWMyOwo+ICsgICAgICAgdTY0IGludGVydmFs
Owo+ICsKPiArICAgICAgIGludGVydmFsID0gSTkxNV9SRUFEKEdFTjZfUkNfRVZBTFVBVElPTl9J
TlRFUlZBTCk7CgppbnRlbF91bmNvcmVfcmVhZCgpIQoKPiArCj4gKyAgICAgICAvKgo+ICsgICAg
ICAgICogdGhlIGludGVydmFsIGlzIHN0b3JlZCBpbiBzdGVwcyBvZiAxLjI4dXMKPiArICAgICAg
ICAqLwo+ICsgICAgICAgaW50ZXJ2YWwgPSBpbnRlcnZhbCAqIDEyOCAvIDEwMCAvIDEwMDA7IC8q
IG1pbGlzZWNvbmRzICovCgppbnRlcnZhbCA9IGRpdl91NjQobXVsX3UzMl91MzIoaW50ZXJ2YWws
IDEyOCksIDEwMCAqIDEwMDApOwoKb3IgQ0kgd2lsbCBjb21wbGFpbiBhYm91dCBicmVha2luZyAz
MmIgYnVpbGRzLgoKPiArCj4gKyAgICAgICBlYzEgPSBJOTE1X1JFQUQoR0VONl9HVF9HRlhfUkM2
KTsKPiArICAgICAgIC8qCj4gKyAgICAgICAgKiBpdCdzIG5vdCBpbXBvcnRhbnQgdG8gcHJlY2lz
ZWx5IHdhaXQgdGhlIGludGVydmFsIHRpbWUuCj4gKyAgICAgICAgKiBJJ2xsIHdhaXQgYXQgbGVh
c3QgdHdpY2UgdGhlIHRpbWUgaW4gb3JkZXIgdG8gYmUgc3VyZQo+ICsgICAgICAgICogdGhhdCB0
aGUgY291bnRpbmcgaGFwcGVucyBpbiB0aGUgcmVmZXJlbmNlIGNvdW50ZXIuCj4gKyAgICAgICAg
Ki8KPiArICAgICAgIG1zbGVlcCgyICogaW50ZXJ2YWwpOwo+ICsgICAgICAgZWMyID0gSTkxNV9S
RUFEKEdFTjZfR1RfR0ZYX1JDNik7CgpIbW0sIEkgc3RpbGwgZG9uJ3QgdHJ1c3QgbXNsZWVwLCBi
dXQgdGhpcyB3aWxsIGRvIGFzIGEgZmlyc3QKYXBwcm94aW1hdGlvbi4KCj4gKwo+ICsgICAgICAg
cmV0dXJuIGVuYWJsZWQgIT0gKGVjMSA+PSBlYzIpOwoKT2suIFNvIHNsZWVwIGZvciBhIGJpdCBh
bmQgY2hlY2sgdGhlIHJjNiBjb3VudGVyIGlzIGluY3JlbWVudGluZy4KQXNzdW1lcyB3ZSBhcmUg
YWxyZWFkeSBpZGxlLCBwcm9iYWJseSBiZXN0IHRvIGFkZCBhbiBleHBsaWNpdAppbnRlbF9ndF9w
bV93YWl0X2Zvcl9pZGxlKCkgYXQgdGhlIHN0YXJ0IG9mIHRoZSByYzYgdGVzdHMgKG9yCmludGVs
X2d0X3BtX3NlbGZ0ZXN0cyBpbiBnZW5lcmFsKS4KCj4gK30KPiAgCj4gIHN0YXRpYyBjb25zdCB1
MzIgKl9fbGl2ZV9yYzZfY3R4KHN0cnVjdCBpbnRlbF9jb250ZXh0ICpjZSkKPiAgewo+IEBAIC0x
NDQsMyArMTY5LDE1OCBAQCBpbnQgbGl2ZV9yYzZfY3R4X3dhKHZvaWQgKmFyZykKPiAgICAgICAg
IGtmcmVlKGVuZ2luZXMpOwo+ICAgICAgICAgcmV0dXJuIGVycjsKPiAgfQo+ICsKPiAraW50IGxp
dmVfcmM2X2Jhc2ljKHZvaWQgKmFyZykKPiArewo+ICsgICAgICAgc3RydWN0IGludGVsX2d0ICpn
dCA9IGFyZzsKPiArICAgICAgIHN0cnVjdCBpbnRlbF9yYzYgKnJjNiA9ICZndC0+cmM2Owo+ICsg
ICAgICAgaW50IGksIGVyciA9IDA7Cj4gKwo+ICsgICAgICAgaWYgKCFIQVNfUkM2KGd0LT5pOTE1
KSkKPiArICAgICAgICAgICAgICAgcmV0dXJuIC1FTk9ERVY7Cj4gKwo+ICsgICAgICAgLyoKPiAr
ICAgICAgICAqIHRoZSB0d28gbG9vcHMgdGVzdCByYzYgYm90aCBpbiBjYXNlIGl0J3MgZW5hYmxl
ZAo+ICsgICAgICAgICogYW5kIGluIHRoZSBjYXNlIGl0J3MgZGlzYWJsZWQuIEl0IHJlc3RvcmVz
IHRoZSBwcnZpb3VzCj4gKyAgICAgICAgKiBzdGF0dXMKPiArICAgICAgICAqLwo+ICsgICAgICAg
Zm9yIChpID0gMDsgaSA8IDI7IGkrKykgewo+ICsgICAgICAgICAgICAgICBpZiAoIXRlc3RfcmM2
KGd0LT5pOTE1LCByYzYtPmVuYWJsZWQpKSB7Cj4gKyAgICAgICAgICAgICAgICAgICAgICAgaWYg
KCFpKQo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC1FSU5WQUw7Cj4g
Kwo+ICsgICAgICAgICAgICAgICAgICAgICAgIC8qIHJlc3RvcmUgYmVmb3JlIGxlYXZpbmcgKi8K
PiArICAgICAgICAgICAgICAgICAgICAgICBlcnIgPSAtRUlOVkFMOwo+ICsgICAgICAgICAgICAg
ICB9Cj4gKwo+ICsgICAgICAgICAgICAgICBpZiAocmM2LT5lbmFibGVkKQo+ICsgICAgICAgICAg
ICAgICAgICAgICAgIGludGVsX3JjNl9kaXNhYmxlKCZndC0+cmM2KTsKPiArICAgICAgICAgICAg
ICAgZWxzZQo+ICsgICAgICAgICAgICAgICAgICAgICAgIGludGVsX3JjNl9lbmFibGUoJmd0LT5y
YzYpOwo+ICsgICAgICAgfQo+ICsKPiArICAgICAgIHJldHVybiBlcnI7Cj4gK30KPiArCj4gK2lu
dCBsaXZlX3JjNl90aHJlc2hvbGQodm9pZCAqYXJnKQo+ICt7Cj4gKyAgICAgICBzdHJ1Y3QgaW50
ZWxfZ3QgKmd0ID0gYXJnOwo+ICsgICAgICAgc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9w
cml2ID0gZ3QtPmk5MTU7Cj4gKyAgICAgICB1MzIgdGhyZXNob2xkLCBpbnRlcnZhbDsKPiArICAg
ICAgIHUzMiB0X29yaWcsIGlfb3JpZzsKPiArICAgICAgIGludCBlcnIgPSAwOwo+ICsKPiArICAg
ICAgIHRfb3JpZyA9IEk5MTVfUkVBRChHRU42X1JDNl9USFJFU0hPTEQpOwo+ICsgICAgICAgaV9v
cmlnID0gSTkxNV9SRUFEKEdFTjZfUkNfRVZBTFVBVElPTl9JTlRFUlZBTCk7Cj4gKwo+ICsgICAg
ICAgLyoKPiArICAgICAgICAqIHNldCB0aGUgdGhyZXNob2xkIHRvIDUwbXMKPiArICAgICAgICAq
Cj4gKyAgICAgICAgKiA1MG1zICogMTAwMCA9IDUwMDAwdXMKPiArICAgICAgICAqIDUwMDAwIC8g
KDEuMjggKiAxMDApIC8gMTAwICh3ZSBkb24ndCBoYXZlIGZsb2F0aW5nIHBvaW50KQo+ICsgICAg
ICAgICovCj4gKyAgICAgICB0aHJlc2hvbGQgPSA1MCAqIDEwMDAgLyAxMjggKiAxMDA7Cj4gKyAg
ICAgICBJOTE1X1dSSVRFKEdFTjZfUkM2X1RIUkVTSE9MRCwgdGhyZXNob2xkKTsKPiArCj4gKyAg
ICAgICAvKiBzZXQgaW50ZXJ2YWwgaW5kaWNhdGl2ZWx5IHRvIGhhbGYgdGhlIHRocmVzaG9sZCAq
Lwo+ICsgICAgICAgaW50ZXJ2YWwgPSB0aHJlc2hvbGQgLyAyOwo+ICsgICAgICAgSTkxNV9XUklU
RShHRU42X1JDX0VWQUxVQVRJT05fSU5URVJWQUwsIGludGVydmFsKTsKPiArCj4gKyAgICAgICAv
KiBpbnRlcnZhbCA8IHRocmVzaG9sZCAqLwo+ICsgICAgICAgaWYgKCF0ZXN0X3JjNihndC0+aTkx
NSwgZmFsc2UpKSB7Cj4gKyAgICAgICAgICAgICAgIGVyciA9IC1FSU5WQUw7Cj4gKyAgICAgICAg
ICAgICAgIHByX2VycigiaTkxNSBtaXNtYXRjaDogcmM2IHdpdGggaW50ZXJ2YWwgPCB0aHJlc2hv
bGRcbiIpOwo+ICsgICAgICAgICAgICAgICBnb3RvIG91dDsKPiArICAgICAgIH0KPiArICAgICAg
IC8qIHNldCBpbnRlcnZhbCBpbmRpY2F0aXZlbHkgdG8gdHdpY2UgdGhlIHRocmVzaG9sZCAqLwo+
ICsgICAgICAgaW50ZXJ2YWwgPSB0aHJlc2hvbGQgKiAyOwo+ICsgICAgICAgSTkxNV9XUklURShH
RU42X1JDX0VWQUxVQVRJT05fSU5URVJWQUwsIGludGVydmFsKTsKPiArCj4gKyAgICAgICAvKiBp
bnRlcnZhbCA+IHRocmVzaG9sZCAqLwo+ICsgICAgICAgaWYgKCF0ZXN0X3JjNihndC0+aTkxNSwg
dHJ1ZSkpIHsKPiArICAgICAgICAgICAgICAgZXJyID0gLUVJTlZBTDsKPiArICAgICAgICAgICAg
ICAgcHJfZXJyKCJpOTE1IG1pc21hdGNoOiBub3QgaW4gcmM2IHdpdGggaW50ZXJ2YWwgPiB0aHJl
c2hvbGRcbiIpOwo+ICsgICAgICAgfQo+ICsKPiArb3V0Ogo+ICsgICAgICAgSTkxNV9XUklURShH
RU42X1JDNl9USFJFU0hPTEQsIHRfb3JpZyk7Cj4gKyAgICAgICBJOTE1X1dSSVRFKEdFTjZfUkNf
RVZBTFVBVElPTl9JTlRFUlZBTCwgaV9vcmlnKTsKPiArCj4gKyAgICAgICByZXR1cm4gZXJyOwo+
ICt9Cj4gKwo+ICtzdGF0aWMgaW50IHJjNl9idXN5X3RocmVhZCh2b2lkICphcmcpCj4gK3sKPiAr
ICAgICAgIHN0cnVjdCBpbnRlbF9lbmdpbmVfY3MgKmVuZ2luZTsKPiArICAgICAgIHN0cnVjdCBp
bnRlbF9ndCAqZ3QgPSBhcmc7Cj4gKyAgICAgICBzdHJ1Y3QgaWd0X3NwaW5uZXIgc3BpbjsKPiAr
ICAgICAgIGVudW0gaW50ZWxfZW5naW5lX2lkIGlkOwo+ICsgICAgICAgc3RydWN0IGk5MTVfcmVx
dWVzdCAqcnE7Cj4gKyAgICAgICBpbnQgZXJyID0gMDsKPiArCj4gKyAgICAgICAvKiBhbnkgZXhp
c3RpbmcgZW5naW5lIGluIHRoZSBjdXJyZW50IGd0IGlzIGdvb2QgKi8KPiArICAgICAgIGZvcl9l
YWNoX2VuZ2luZShlbmdpbmUsIGd0LCBpZCkKPiArICAgICAgICAgICAgICAgYnJlYWs7Cj4gKwo+
ICsgICAgICAgZXJyID0gaWd0X3NwaW5uZXJfaW5pdCgmc3BpbiwgZ3QpOwo+ICsgICAgICAgaWYg
KGVycikKPiArICAgICAgICAgICAgICAgcmV0dXJuIGVycjsKPiArCj4gKyAgICAgICBycSA9IGln
dF9zcGlubmVyX2NyZWF0ZV9yZXF1ZXN0KCZzcGluLCBlbmdpbmUtPmtlcm5lbF9jb250ZXh0LCBN
SV9OT09QKTsKPiArICAgICAgIGlmIChJU19FUlIocnEpKSB7Cj4gKyAgICAgICAgICAgICAgIGVy
ciA9IFBUUl9FUlIocnEpOwo+ICsgICAgICAgICAgICAgICBnb3RvIG91dDsKPiArICAgICAgIH0K
PiArCj4gKyAgICAgICBpOTE1X3JlcXVlc3RfZ2V0KHJxKTsKPiArICAgICAgIGk5MTVfcmVxdWVz
dF9hZGQocnEpOwo+ICsgICAgICAgaWd0X3dhaXRfZm9yX3NwaW5uZXIoJnNwaW4sIHJxKTsgLyog
aXQncyBlbm91Z2ggd2FpdGluZyAqLwo+ICsgICAgICAgaWd0X3NwaW5uZXJfZW5kKCZzcGluKTsK
PiArCj4gKyAgICAgICBpOTE1X3JlcXVlc3Rfd2FpdChycSwgMCwgSFogLyA1KTsKPiArICAgICAg
IGk5MTVfcmVxdWVzdF9wdXQocnEpOwo+ICsKPiArb3V0Ogo+ICsgICAgICAgaWd0X3NwaW5uZXJf
ZmluaSgmc3Bpbik7Cj4gKyAgICAgICByZXR1cm4gZXJyOwo+ICt9Cj4gKwo+ICtpbnQgbGl2ZV9y
YzZfYnVzeSh2b2lkICphcmcpCj4gK3sKPiArICAgICAgIHN0cnVjdCBpbnRlbF9ndCAqZ3QgPSBh
cmc7Cj4gKyAgICAgICBzdHJ1Y3QgdGFza19zdHJ1Y3QgKnRocmVhZDsKPiArICAgICAgIGludCBl
cnIgPSAwOwo+ICsKPiArICAgICAgIHRocmVhZCA9IGttYWxsb2Moc2l6ZW9mKCp0aHJlYWQpLCBH
RlBfS0VSTkVMKTsKPiArICAgICAgIGlmICghdGhyZWFkKQo+ICsgICAgICAgICAgICAgICByZXR1
cm4gLUVOT01FTTsKPiArCj4gKyAgICAgICB0aHJlYWQgPSBrdGhyZWFkX3J1bihyYzZfYnVzeV90
aHJlYWQsIGFyZywgInJjNl9idXN5X3NlbGZ0ZXN0Iik7Cj4gKyAgICAgICBpZiAoSVNfRVJSKHRo
cmVhZCkpCj4gKyAgICAgICAgICAgICAgIHJldHVybiBQVFJfRVJSKHRocmVhZCk7Cj4gKwo+ICsg
ICAgICAgZ2V0X3Rhc2tfc3RydWN0KHRocmVhZCk7Cj4gKwo+ICsgICAgICAgLyogZ3B1IGlzIGJ1
c3ksIHdlIHNob3VsZG4ndCBiZSBpbiByYzYgKi8KPiArICAgICAgIGlmICghdGVzdF9yYzYoZ3Qt
Pmk5MTUsIGZhbHNlKSkgewo+ICsgICAgICAgICAgICAgICBlcnIgPSAtRUlOVkFMOwo+ICsgICAg
ICAgICAgICAgICBwcl9lcnIoIm5ldmVyIGJ1c3kgZW5vdWdoIGZvciBoYXZpbmcgYSBuYXBcbiIp
Owo+ICsgICAgICAgfQoKSSB3b3VsZCBoYXZlIHVzZWQgdGhlIHNwaW5uZXIgaW5saW5lIHNvIHlv
dSBoYXZlIGJldHRlciBjb250cm9sIG92ZXIgaXQuCkFzIGl0IHlvdSB5b3UgZG9uJ3Qgc3luYyB3
aXRoIHRoZSB0aHJlYWQgYmVmb3JlIHN0YXJ0aW5nIGFuZCB3aGF0bm90LgoKPiArCj4gKyAgICAg
ICBlcnIgPSBrdGhyZWFkX3N0b3AodGhyZWFkKTsKPiArICAgICAgIGlmIChlcnIgPCAwKQo+ICsg
ICAgICAgICAgICAgICBwcl9lcnIoImZhaWwgYW5kIGV4aXRcbiIpOwo+ICsKPiArICAgICAgIHB1
dF90YXNrX3N0cnVjdCh0aHJlYWQpOwo+ICsKPiArICAgICAgIGludGVsX2d0X3BtX3dhaXRfZm9y
X2lkbGUoZ3QpOwo+ICsKPiArICAgICAgIC8qIGdwdSBpcyBidXN5LCB3ZSBzaG91bGQgYmUgaW4g
cmM2ICovCj4gKyAgICAgICBpZiAoIXRlc3RfcmM2KGd0LT5pOTE1LCB0cnVlKSkgewo+ICsgICAg
ICAgICAgICAgICBlcnIgPSAtRUlOVkFMOwo+ICsgICAgICAgICAgICAgICBwcl9lcnIoImk5MTUg
aXMgaWRsZSBidXQgZG9lc24ndCBnbyBpbiByYzZcbiIpOwo+ICsgICAgICAgfQoKQXllLCB0aGlz
IHRhaWwgaXMgcGVyaGFwcyB0aGUgbW9zdCBpbXBvcnRhbnQgdGVzdCBvZiB0aGVtIGFsbCEgOikK
Ck9rLCBsb29rcyBsaWtlIHdlIGhhdmUgdGhlIG1ha2luZ3Mgb2Ygc29tZSB2ZXJ5IHVzZWZ1bCB0
ZXN0cy4gTGV0cyBzZWUKd2h5IHRoZXkgYXJlbid0IGJlaGF2aW5nLi4uCi1DaHJpcwpfX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpJbnRlbC1nZnggbWFpbGlu
ZyBsaXN0CkludGVsLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVl
ZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9pbnRlbC1nZng=

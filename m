Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 28B9F9B42B
	for <lists+intel-gfx@lfdr.de>; Fri, 23 Aug 2019 18:02:43 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 5B9C86ECE4;
	Fri, 23 Aug 2019 16:02:40 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga12.intel.com (mga12.intel.com [192.55.52.136])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 6BF1E6ECE4
 for <intel-gfx@lists.freedesktop.org>; Fri, 23 Aug 2019 16:02:21 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from fmsmga004.fm.intel.com ([10.253.24.48])
 by fmsmga106.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 23 Aug 2019 09:02:16 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.64,421,1559545200"; d="scan'208";a="203807771"
Received: from jssummer-xeon.ra.intel.com ([10.23.184.90])
 by fmsmga004.fm.intel.com with ESMTP; 23 Aug 2019 09:02:16 -0700
From: Stuart Summers <stuart.summers@intel.com>
To: intel-gfx@lists.freedesktop.org
Date: Fri, 23 Aug 2019 09:03:07 -0700
Message-Id: <20190823160307.180813-12-stuart.summers@intel.com>
X-Mailer: git-send-email 2.22.0
In-Reply-To: <20190823160307.180813-1-stuart.summers@intel.com>
References: <20190823160307.180813-1-stuart.summers@intel.com>
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH 11/11] drm/i915: Expand subslice mask
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

Q3VycmVudGx5LCB0aGUgc3Vic2xpY2VfbWFzayBydW50aW1lIHBhcmFtZXRlciBpcyBzdG9yZWQg
YXMgYW4KYXJyYXkgb2Ygc3Vic2xpY2VzIHBlciBzbGljZS4gRXhwYW5kIHRoZSBzdWJzbGljZSBt
YXNrIGFycmF5IHRvCmJldHRlciBtYXRjaCB3aGF0IGlzIHByZXNlbnRlZCB0byB1c2Vyc3BhY2Ug
dGhyb3VnaCB0aGUKSTkxNV9RVUVSWV9UT1BPTE9HWV9JTkZPIGlvY3RsLiBUaGUgaW5kZXggaW50
byB0aGlzIGFycmF5IGlzCnRoZW4gY2FsY3VsYXRlZDoKICBzbGljZSAqIHN1YnNsaWNlIHN0cmlk
ZSArIHN1YnNsaWNlIGluZGV4IC8gOAoKdjI6IEZpeCAzMi1iaXQgYnVpbGQKdjM6IFVzZSBuZXcg
aGVscGVyIGZ1bmN0aW9uIGluIFNTRVUgd29ya2Fyb3VuZCB3YXJuaW5nIG1lc3NhZ2UKdjQ6IFVz
ZSBHRU1fQlVHX09OIHRvIGZvcmNlIGRldmVsb3BlcnMgdG8gdXNlIHZhbGlkIFNTRVUgY29uZmln
dXJhdGlvbnMKICAgIHBlciBwbGF0Zm9ybSAoQ2hyaXMpCgpTaWduZWQtb2ZmLWJ5OiBTdHVhcnQg
U3VtbWVycyA8c3R1YXJ0LnN1bW1lcnNAaW50ZWwuY29tPgpSZXZpZXdlZC1ieTogQ2hyaXMgV2ls
c29uIDxjaHJpc0BjaHJpcy13aWxzb24uY28udWs+Ci0tLQogZHJpdmVycy9ncHUvZHJtL2k5MTUv
Z3QvaW50ZWxfc3NldS5jICAgICAgICB8IDE2ICsrKysrKysrKysrKysrKy0KIGRyaXZlcnMvZ3B1
L2RybS9pOTE1L2d0L2ludGVsX3NzZXUuaCAgICAgICAgfCAgNCArKystCiBkcml2ZXJzL2dwdS9k
cm0vaTkxNS9ndC9pbnRlbF93b3JrYXJvdW5kcy5jIHwgIDUgKystLS0KIGRyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2k5MTVfZGVidWdmcy5jICAgICAgICAgfCAgNSArKysrLQogZHJpdmVycy9ncHUvZHJt
L2k5MTUvaW50ZWxfZGV2aWNlX2luZm8uYyAgICB8ICA4ICsrKystLS0tCiA1IGZpbGVzIGNoYW5n
ZWQsIDI4IGluc2VydGlvbnMoKyksIDEwIGRlbGV0aW9ucygtKQoKZGlmZiAtLWdpdCBhL2RyaXZl
cnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX3NzZXUuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0
L2ludGVsX3NzZXUuYwppbmRleCAxNTA1MDQyZDdiNWQuLjc0Zjc5MzQyMzIzMSAxMDA2NDQKLS0t
IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfc3NldS5jCisrKyBiL2RyaXZlcnMvZ3B1
L2RybS9pOTE1L2d0L2ludGVsX3NzZXUuYwpAQCAtMzIsNiArMzIsMjAgQEAgaW50ZWxfc3NldV9z
dWJzbGljZV90b3RhbChjb25zdCBzdHJ1Y3Qgc3NldV9kZXZfaW5mbyAqc3NldSkKIAlyZXR1cm4g
dG90YWw7CiB9CiAKK3UzMiBpbnRlbF9zc2V1X2dldF9zdWJzbGljZXMoY29uc3Qgc3RydWN0IHNz
ZXVfZGV2X2luZm8gKnNzZXUsIHU4IHNsaWNlKQoreworCWludCBpLCBvZmZzZXQgPSBzbGljZSAq
IHNzZXUtPnNzX3N0cmlkZTsKKwl1MzIgbWFzayA9IDA7CisKKwlHRU1fQlVHX09OKHNsaWNlID49
IHNzZXUtPm1heF9zbGljZXMpOworCisJZm9yIChpID0gMDsgaSA8IHNzZXUtPnNzX3N0cmlkZTsg
aSsrKQorCQltYXNrIHw9ICh1MzIpc3NldS0+c3Vic2xpY2VfbWFza1tvZmZzZXQgKyBpXSA8PAor
CQkJaSAqIEJJVFNfUEVSX0JZVEU7CisKKwlyZXR1cm4gbWFzazsKK30KKwogdm9pZCBpbnRlbF9z
c2V1X3NldF9zdWJzbGljZXMoc3RydWN0IHNzZXVfZGV2X2luZm8gKnNzZXUsIGludCBzbGljZSwK
IAkJCSAgICAgIHUzMiBzc19tYXNrKQogewpAQCAtNDMsNyArNTcsNyBAQCB2b2lkIGludGVsX3Nz
ZXVfc2V0X3N1YnNsaWNlcyhzdHJ1Y3Qgc3NldV9kZXZfaW5mbyAqc3NldSwgaW50IHNsaWNlLAog
dW5zaWduZWQgaW50CiBpbnRlbF9zc2V1X3N1YnNsaWNlc19wZXJfc2xpY2UoY29uc3Qgc3RydWN0
IHNzZXVfZGV2X2luZm8gKnNzZXUsIHU4IHNsaWNlKQogewotCXJldHVybiBod2VpZ2h0OChzc2V1
LT5zdWJzbGljZV9tYXNrW3NsaWNlXSk7CisJcmV0dXJuIGh3ZWlnaHQzMihpbnRlbF9zc2V1X2dl
dF9zdWJzbGljZXMoc3NldSwgc2xpY2UpKTsKIH0KIAogdTMyIGludGVsX3NzZXVfbWFrZV9ycGNz
KHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICppOTE1LApkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUv
ZHJtL2k5MTUvZ3QvaW50ZWxfc3NldS5oIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxf
c3NldS5oCmluZGV4IDc3MDNkNzVmMmRhMy4uNDA3MGY2ZmYxZGI2IDEwMDY0NAotLS0gYS9kcml2
ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9zc2V1LmgKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5
MTUvZ3QvaW50ZWxfc3NldS5oCkBAIC0yMyw3ICsyMyw3IEBAIHN0cnVjdCBkcm1faTkxNV9wcml2
YXRlOwogCiBzdHJ1Y3Qgc3NldV9kZXZfaW5mbyB7CiAJdTggc2xpY2VfbWFzazsKLQl1OCBzdWJz
bGljZV9tYXNrW0dFTl9NQVhfU0xJQ0VTXTsKKwl1OCBzdWJzbGljZV9tYXNrW0dFTl9NQVhfU0xJ
Q0VTICogR0VOX01BWF9TVUJTTElDRV9TVFJJREVdOwogCXUxNiBldV90b3RhbDsKIAl1OCBldV9w
ZXJfc3Vic2xpY2U7CiAJdTggbWluX2V1X2luX3Bvb2w7CkBAIC05NCw2ICs5NCw4IEBAIGludGVs
X3NzZXVfc3Vic2xpY2VfdG90YWwoY29uc3Qgc3RydWN0IHNzZXVfZGV2X2luZm8gKnNzZXUpOwog
dW5zaWduZWQgaW50CiBpbnRlbF9zc2V1X3N1YnNsaWNlc19wZXJfc2xpY2UoY29uc3Qgc3RydWN0
IHNzZXVfZGV2X2luZm8gKnNzZXUsIHU4IHNsaWNlKTsKIAordTMyICBpbnRlbF9zc2V1X2dldF9z
dWJzbGljZXMoY29uc3Qgc3RydWN0IHNzZXVfZGV2X2luZm8gKnNzZXUsIHU4IHNsaWNlKTsKKwog
dm9pZCBpbnRlbF9zc2V1X3NldF9zdWJzbGljZXMoc3RydWN0IHNzZXVfZGV2X2luZm8gKnNzZXUs
IGludCBzbGljZSwKIAkJCSAgICAgIHUzMiBzc19tYXNrKTsKIApkaWZmIC0tZ2l0IGEvZHJpdmVy
cy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfd29ya2Fyb3VuZHMuYyBiL2RyaXZlcnMvZ3B1L2RybS9p
OTE1L2d0L2ludGVsX3dvcmthcm91bmRzLmMKaW5kZXggMTI2YWIzNjY3OTE5Li5hZDIyNjFlMGNi
YTggMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX3dvcmthcm91bmRz
LmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfd29ya2Fyb3VuZHMuYwpAQCAt
ODAxLDExICs4MDEsMTAgQEAgd2FfaW5pdF9tY3Ioc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5
MTUsIHN0cnVjdCBpOTE1X3dhX2xpc3QgKndhbCkKIAl9CiAKIAlzbGljZSA9IGZscyhzc2V1LT5z
bGljZV9tYXNrKSAtIDE7Ci0JR0VNX0JVR19PTihzbGljZSA+PSBBUlJBWV9TSVpFKHNzZXUtPnN1
YnNsaWNlX21hc2spKTsKLQlzdWJzbGljZSA9IGZscyhsM19lbiAmIHNzZXUtPnN1YnNsaWNlX21h
c2tbc2xpY2VdKTsKKwlzdWJzbGljZSA9IGZscyhsM19lbiAmIGludGVsX3NzZXVfZ2V0X3N1YnNs
aWNlcyhzc2V1LCBzbGljZSkpOwogCWlmICghc3Vic2xpY2UpIHsKIAkJRFJNX1dBUk4oIk5vIGNv
bW1vbiBpbmRleCBmb3VuZCBiZXR3ZWVuIHN1YnNsaWNlIG1hc2sgJXggYW5kIEwzIGJhbmsgbWFz
ayAleCFcbiIsCi0JCQkgc3NldS0+c3Vic2xpY2VfbWFza1tzbGljZV0sIGwzX2VuKTsKKwkJCSBp
bnRlbF9zc2V1X2dldF9zdWJzbGljZXMoc3NldSwgc2xpY2UpLCBsM19lbik7CiAJCXN1YnNsaWNl
ID0gZmxzKGwzX2VuKTsKIAkJV0FSTl9PTighc3Vic2xpY2UpOwogCX0KZGlmZiAtLWdpdCBhL2Ry
aXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZGVidWdmcy5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUv
aTkxNV9kZWJ1Z2ZzLmMKaW5kZXggYmE5MzE5NDc1MmMwLi41NGYwMjcxOGVmZmIgMTAwNjQ0Ci0t
LSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZGVidWdmcy5jCisrKyBiL2RyaXZlcnMvZ3B1
L2RybS9pOTE1L2k5MTVfZGVidWdmcy5jCkBAIC0zODYwLDEzICszODYwLDE2IEBAIHN0YXRpYyB2
b2lkIGdlbjlfc3NldV9kZXZpY2Vfc3RhdHVzKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZf
cHJpdiwKIAogCQlmb3IgKHNzID0gMDsgc3MgPCBpbmZvLT5zc2V1Lm1heF9zdWJzbGljZXM7IHNz
KyspIHsKIAkJCXVuc2lnbmVkIGludCBldV9jbnQ7CisJCQl1OCBzc19pZHggPSBzICogaW5mby0+
c3NldS5zc19zdHJpZGUgKworCQkJCSAgICBzcyAvIEJJVFNfUEVSX0JZVEU7CiAKIAkJCWlmIChJ
U19HRU45X0xQKGRldl9wcml2KSkgewogCQkJCWlmICghKHNfcmVnW3NdICYgKEdFTjlfUEdDVExf
U1NfQUNLKHNzKSkpKQogCQkJCQkvKiBza2lwIGRpc2FibGVkIHN1YnNsaWNlICovCiAJCQkJCWNv
bnRpbnVlOwogCi0JCQkJc3NldS0+c3Vic2xpY2VfbWFza1tzXSB8PSBCSVQoc3MpOworCQkJCXNz
ZXUtPnN1YnNsaWNlX21hc2tbc3NfaWR4XSB8PQorCQkJCQlCSVQoc3MgJSBCSVRTX1BFUl9CWVRF
KTsKIAkJCX0KIAogCQkJZXVfY250ID0gMiAqIGh3ZWlnaHQzMihldV9yZWdbMipzICsgc3MvMl0g
JgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfZGV2aWNlX2luZm8uYyBi
L2RyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX2RldmljZV9pbmZvLmMKaW5kZXggYzIwZjc0ZWU1
ZjIyLi5kOWI1YmFhZWY1ZDAgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVs
X2RldmljZV9pbmZvLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfZGV2aWNlX2lu
Zm8uYwpAQCAtOTMsOSArOTMsOSBAQCBzdGF0aWMgdm9pZCBzc2V1X2R1bXAoY29uc3Qgc3RydWN0
IHNzZXVfZGV2X2luZm8gKnNzZXUsIHN0cnVjdCBkcm1fcHJpbnRlciAqcCkKIAkJICAgaHdlaWdo
dDgoc3NldS0+c2xpY2VfbWFzayksIHNzZXUtPnNsaWNlX21hc2spOwogCWRybV9wcmludGYocCwg
InN1YnNsaWNlIHRvdGFsOiAldVxuIiwgaW50ZWxfc3NldV9zdWJzbGljZV90b3RhbChzc2V1KSk7
CiAJZm9yIChzID0gMDsgcyA8IHNzZXUtPm1heF9zbGljZXM7IHMrKykgewotCQlkcm1fcHJpbnRm
KHAsICJzbGljZSVkOiAldSBzdWJzbGljZXMsIG1hc2s9JTA0eFxuIiwKKwkJZHJtX3ByaW50Zihw
LCAic2xpY2UlZDogJXUgc3Vic2xpY2VzLCBtYXNrPSUwOHhcbiIsCiAJCQkgICBzLCBpbnRlbF9z
c2V1X3N1YnNsaWNlc19wZXJfc2xpY2Uoc3NldSwgcyksCi0JCQkgICBzc2V1LT5zdWJzbGljZV9t
YXNrW3NdKTsKKwkJCSAgIGludGVsX3NzZXVfZ2V0X3N1YnNsaWNlcyhzc2V1LCBzKSk7CiAJfQog
CWRybV9wcmludGYocCwgIkVVIHRvdGFsOiAldVxuIiwgc3NldS0+ZXVfdG90YWwpOwogCWRybV9w
cmludGYocCwgIkVVIHBlciBzdWJzbGljZTogJXVcbiIsIHNzZXUtPmV1X3Blcl9zdWJzbGljZSk7
CkBAIC0xNTksOSArMTU5LDkgQEAgdm9pZCBpbnRlbF9kZXZpY2VfaW5mb19kdW1wX3RvcG9sb2d5
KGNvbnN0IHN0cnVjdCBzc2V1X2Rldl9pbmZvICpzc2V1LAogCX0KIAogCWZvciAocyA9IDA7IHMg
PCBzc2V1LT5tYXhfc2xpY2VzOyBzKyspIHsKLQkJZHJtX3ByaW50ZihwLCAic2xpY2UlZDogJXUg
c3Vic2xpY2UocykgKDB4JWhoeCk6XG4iLAorCQlkcm1fcHJpbnRmKHAsICJzbGljZSVkOiAldSBz
dWJzbGljZShzKSAoMHglMDh4KTpcbiIsCiAJCQkgICBzLCBpbnRlbF9zc2V1X3N1YnNsaWNlc19w
ZXJfc2xpY2Uoc3NldSwgcyksCi0JCQkgICBzc2V1LT5zdWJzbGljZV9tYXNrW3NdKTsKKwkJCSAg
IGludGVsX3NzZXVfZ2V0X3N1YnNsaWNlcyhzc2V1LCBzKSk7CiAKIAkJZm9yIChzcyA9IDA7IHNz
IDwgc3NldS0+bWF4X3N1YnNsaWNlczsgc3MrKykgewogCQkJdTE2IGVuYWJsZWRfZXVzID0gc3Nl
dV9nZXRfZXVzKHNzZXUsIHMsIHNzKTsKLS0gCjIuMjIuMAoKX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX18KSW50ZWwtZ2Z4IG1haWxpbmcgbGlzdApJbnRlbC1n
ZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21h
aWxtYW4vbGlzdGluZm8vaW50ZWwtZ2Z4

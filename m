Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 51716C2B72
	for <lists+intel-gfx@lfdr.de>; Tue,  1 Oct 2019 02:55:43 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 766BB89BB2;
	Tue,  1 Oct 2019 00:55:41 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga05.intel.com (mga05.intel.com [192.55.52.43])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 1342789BB2
 for <intel-gfx@lists.freedesktop.org>; Tue,  1 Oct 2019 00:55:39 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from fmsmga007.fm.intel.com ([10.253.24.52])
 by fmsmga105.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 30 Sep 2019 17:55:38 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.64,569,1559545200"; d="scan'208";a="191304482"
Received: from josouza-mobl.jf.intel.com (HELO josouza-MOBL.intel.com)
 ([10.24.9.135])
 by fmsmga007.fm.intel.com with ESMTP; 30 Sep 2019 17:55:38 -0700
From: =?UTF-8?q?Jos=C3=A9=20Roberto=20de=20Souza?= <jose.souza@intel.com>
To: intel-gfx@lists.freedesktop.org
Date: Mon, 30 Sep 2019 17:55:36 -0700
Message-Id: <20191001005536.123020-1-jose.souza@intel.com>
X-Mailer: git-send-email 2.23.0
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH] drm/i915/tc: Implement the TC cold exit sequence
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: Lucas De Marchi <lucas.demarchi@intel.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

VGhpcyBpcyByZXF1aXJlZCBmb3IgbGVnYWN5L3N0YXRpYyBUQyBwb3J0cyBhcyBJT00gaXMgbm90
IGF3YXJlIG9mCnRoZSBjb25uZWN0aW9uIGFuZCB3aWxsIG5vdCB0cmlnZ2VyIHRoZSBUQyBjb2xk
IGV4aXQuCgpCU3BlYzogMjE3NTAKQlNwc2M6IDQ5Mjk0CkNjOiBJbXJlIERlYWsgPGltcmUuZGVh
a0BpbnRlbC5jb20+CkNjOiBMdWNhcyBEZSBNYXJjaGkgPGx1Y2FzLmRlbWFyY2hpQGludGVsLmNv
bT4KU2lnbmVkLW9mZi1ieTogSm9zw6kgUm9iZXJ0byBkZSBTb3V6YSA8am9zZS5zb3V6YUBpbnRl
bC5jb20+Ci0tLQogZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF90Yy5jIHwgMzQg
KysrKysrKysrKysrKysrKysrKystLS0tLQogZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9yZWcu
aCAgICAgICAgIHwgIDEgKwogMiBmaWxlcyBjaGFuZ2VkLCAyOSBpbnNlcnRpb25zKCspLCA2IGRl
bGV0aW9ucygtKQoKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50
ZWxfdGMuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfdGMuYwppbmRleCA3
NzczMTY5YjczMzEuLjA5Yjc4MDI3YmRkNSAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5
MTUvZGlzcGxheS9pbnRlbF90Yy5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkv
aW50ZWxfdGMuYwpAQCAtNyw2ICs3LDcgQEAKICNpbmNsdWRlICJpbnRlbF9kaXNwbGF5LmgiCiAj
aW5jbHVkZSAiaW50ZWxfZGlzcGxheV90eXBlcy5oIgogI2luY2x1ZGUgImludGVsX2RwX21zdC5o
IgorI2luY2x1ZGUgImludGVsX3NpZGViYW5kLmgiCiAjaW5jbHVkZSAiaW50ZWxfdGMuaCIKIAog
c3RhdGljIGNvbnN0IGNoYXIgKnRjX3BvcnRfbW9kZV9uYW1lKGVudW0gdGNfcG9ydF9tb2RlIG1v
ZGUpCkBAIC0xNjksNiArMTcwLDIyIEBAIHN0YXRpYyB2b2lkIHRjX3BvcnRfZml4dXBfbGVnYWN5
X2ZsYWcoc3RydWN0IGludGVsX2RpZ2l0YWxfcG9ydCAqZGlnX3BvcnQsCiAJZGlnX3BvcnQtPnRj
X2xlZ2FjeV9wb3J0ID0gIWRpZ19wb3J0LT50Y19sZWdhY3lfcG9ydDsKIH0KIAorc3RhdGljIGlu
dCB0Y19jb2xkX2V4aXRfcmVxdWVzdChzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYp
Cit7CisJaW50IHJldDsKKworCWRvIHsKKwkJcmV0ID0gc2FuZHlicmlkZ2VfcGNvZGVfd3JpdGVf
dGltZW91dChkZXZfcHJpdiwKKwkJCQkJCSAgICAgIElDTF9QQ09ERV9FWElUX1RDQ09MRCwgMCwK
KwkJCQkJCSAgICAgIDI1MCwgMSk7CisKKwl9IHdoaWxlIChyZXQgPT0gLUVBR0FJTik7CisKKwlE
Uk1fREVCVUdfS01TKCJ0Y2NvbGQgZXhpdCAlc1xuIiwgcmV0ID09IDAgPyAic3VjY2VlZGVkIiA6
ICJmYWlsZWQiKTsKKworCXJldHVybiByZXQ7Cit9CisKIHN0YXRpYyB1MzIgdGNfcG9ydF9saXZl
X3N0YXR1c19tYXNrKHN0cnVjdCBpbnRlbF9kaWdpdGFsX3BvcnQgKmRpZ19wb3J0KQogewogCXN0
cnVjdCBkcm1faTkxNV9wcml2YXRlICppOTE1ID0gdG9faTkxNShkaWdfcG9ydC0+YmFzZS5iYXNl
LmRldik7CkBAIC0xNzcsMTMgKzE5NCwyMSBAQCBzdGF0aWMgdTMyIHRjX3BvcnRfbGl2ZV9zdGF0
dXNfbWFzayhzdHJ1Y3QgaW50ZWxfZGlnaXRhbF9wb3J0ICpkaWdfcG9ydCkKIAl1MzIgbWFzayA9
IDA7CiAJdTMyIHZhbDsKIAorCWlmIChpbnRlbF91bmNvcmVfcmVhZCh1bmNvcmUsIFNERUlTUikg
JiBTREVfVENfSE9UUExVR19JQ1AodGNfcG9ydCkpCisJCW1hc2sgfD0gQklUKFRDX1BPUlRfTEVH
QUNZKTsKKwogCXZhbCA9IGludGVsX3VuY29yZV9yZWFkKHVuY29yZSwKIAkJCQlQT1JUX1RYX0RG
TEVYRFBTUChkaWdfcG9ydC0+dGNfcGh5X2ZpYSkpOwogCiAJaWYgKHZhbCA9PSAweGZmZmZmZmZm
KSB7Ci0JCURSTV9ERUJVR19LTVMoIlBvcnQgJXM6IFBIWSBpbiBUQ0NPTEQsIG5vdGhpbmcgY29u
bmVjdGVkXG4iLAotCQkJICAgICAgZGlnX3BvcnQtPnRjX3BvcnRfbmFtZSk7Ci0JCXJldHVybiBt
YXNrOworCQlpZiAobWFzaykKKwkJCXRjX2NvbGRfZXhpdF9yZXF1ZXN0KGk5MTUpOworCisJCWlm
ICh2YWwgPT0gMHhmZmZmZmZmZikgeworCQkJRFJNX0RFQlVHX0tNUygiUG9ydCAlczogUEhZIGlu
IFRDQ09MRCwgbm90aGluZyBjb25uZWN0ZWRcbiIsCisJCQkJICAgICAgZGlnX3BvcnQtPnRjX3Bv
cnRfbmFtZSk7CisJCQlyZXR1cm4gbWFzazsKKwkJfQogCX0KIAogCWlmICh2YWwgJiBUQ19MSVZF
X1NUQVRFX1RCVChkaWdfcG9ydC0+dGNfcGh5X2ZpYV9pZHgpKQpAQCAtMTkxLDkgKzIxNiw2IEBA
IHN0YXRpYyB1MzIgdGNfcG9ydF9saXZlX3N0YXR1c19tYXNrKHN0cnVjdCBpbnRlbF9kaWdpdGFs
X3BvcnQgKmRpZ19wb3J0KQogCWlmICh2YWwgJiBUQ19MSVZFX1NUQVRFX1RDKGRpZ19wb3J0LT50
Y19waHlfZmlhX2lkeCkpCiAJCW1hc2sgfD0gQklUKFRDX1BPUlRfRFBfQUxUKTsKIAotCWlmIChp
bnRlbF91bmNvcmVfcmVhZCh1bmNvcmUsIFNERUlTUikgJiBTREVfVENfSE9UUExVR19JQ1AodGNf
cG9ydCkpCi0JCW1hc2sgfD0gQklUKFRDX1BPUlRfTEVHQUNZKTsKLQogCS8qIFRoZSBzaW5rIGNh
biBiZSBjb25uZWN0ZWQgb25seSBpbiBhIHNpbmdsZSBtb2RlLiAqLwogCWlmICghV0FSTl9PTiho
d2VpZ2h0MzIobWFzaykgPiAxKSkKIAkJdGNfcG9ydF9maXh1cF9sZWdhY3lfZmxhZyhkaWdfcG9y
dCwgbWFzayk7CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3JlZy5oIGIv
ZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9yZWcuaAppbmRleCAwNThhYTVjYThiNzMuLjM1YzM3
MjRiN2ZlZiAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9yZWcuaAorKysg
Yi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3JlZy5oCkBAIC04ODYwLDYgKzg4NjAsNyBAQCBl
bnVtIHsKICNkZWZpbmUgICAgIElDTF9QQ09ERV9NRU1fU1NfUkVBRF9RR1ZfUE9JTlRfSU5GTyhw
b2ludCkJKCgocG9pbnQpIDw8IDE2KSB8ICgweDEgPDwgOCkpCiAjZGVmaW5lICAgR0VONl9QQ09E
RV9SRUFEX0RfQ09NUAkJMHgxMAogI2RlZmluZSAgIEdFTjZfUENPREVfV1JJVEVfRF9DT01QCQkw
eDExCisjZGVmaW5lICAgSUNMX1BDT0RFX0VYSVRfVENDT0xECQkJMHgxMgogI2RlZmluZSAgIEhT
V19QQ09ERV9ERV9XUklURV9GUkVRX1JFUQkJMHgxNwogI2RlZmluZSAgIERJU1BMQVlfSVBTX0NP
TlRST0wJCQkweDE5CiAgICAgICAgICAgICAvKiBTZWUgYWxzbyBJUFNfQ1RMICovCi0tIAoyLjIz
LjAKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCkludGVs
LWdmeCBtYWlsaW5nIGxpc3QKSW50ZWwtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczov
L2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2ludGVsLWdmeA==

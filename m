Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 040E0E061B
	for <lists+intel-gfx@lfdr.de>; Tue, 22 Oct 2019 16:12:25 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id B53E16E81B;
	Tue, 22 Oct 2019 14:12:22 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga18.intel.com (mga18.intel.com [134.134.136.126])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 02B946E819
 for <intel-gfx@lists.freedesktop.org>; Tue, 22 Oct 2019 14:12:19 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from fmsmga002.fm.intel.com ([10.253.24.26])
 by orsmga106.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 22 Oct 2019 07:12:19 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.67,327,1566889200"; d="scan'208";a="227726341"
Received: from unknown (HELO linuxpresi1-desktop.iind.intel.com)
 ([10.223.74.143])
 by fmsmga002.fm.intel.com with ESMTP; 22 Oct 2019 07:12:17 -0700
From: Uma Shankar <uma.shankar@intel.com>
To: intel-gfx@lists.freedesktop.org
Date: Tue, 22 Oct 2019 20:04:00 +0530
Message-Id: <20191022143404.30442-3-uma.shankar@intel.com>
X-Mailer: git-send-email 2.22.0
In-Reply-To: <20191022143404.30442-1-uma.shankar@intel.com>
References: <20191022143404.30442-1-uma.shankar@intel.com>
MIME-Version: 1.0
Subject: [Intel-gfx] [v2 2/6] drm/i915/display: Enable HDR on gen9 devices
 with MCA Lspcon
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

R2VuOSBoYXJkd2FyZSBzdXBwb3J0cyBIRE1JMi4wIHRocm91Z2ggTFNQQ09OIGNoaXBzLgpFeHRl
bmRpbmcgSERSIHN1cHBvcnQgZm9yIE1DQSBMU1BDT04gYmFzZWQgR0VOOSBkZXZpY2VzLgoKU09D
IHdpbGwgZHJpdmUgTFNQQ09OIGFzIERQIGFuZCBzZW5kIEhEUiBtZXRhZGF0YSBhcyBzdGFuZGFy
ZApEUCBTRFAgcGFja2V0cy4gTFNQQ09OIHdpbGwgYmUgc2V0IHRvIG9wZXJhdGUgaW4gUENPTiBt
b2RlLAp3aWxsIHJlY2VpdmUgdGhlIG1ldGFkYXRhIGFuZCBjcmVhdGUgRHluYW1pYyBSYW5nZSBh
bmQKTWFzdGVyaW5nIEluZm9mcmFtZSAoRFJNIHBhY2tldHMpIGFuZCBzZW5kIGl0IHRvIEhEUiBj
YXBhYmxlCkhETUkgc2luayBkZXZpY2VzLgoKdjI6IFJlLXVzZWQgaHN3IGluZm9mcmFtZSB3cml0
ZSBpbXBsZW1lbnRhdGlvbiBmb3IgSERSIG1ldGFkYXRhCmZvciBMU1BDT04gYXMgcGVyIFZpbGxl
J3Mgc3VnZ2VzdGlvbi4KClNpZ25lZC1vZmYtYnk6IFVtYSBTaGFua2FyIDx1bWEuc2hhbmthckBp
bnRlbC5jb20+Ci0tLQogZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9oZG1pLmMg
ICB8IDEwICsrKysrKwogZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9sc3Bjb24u
YyB8IDM2ICsrKysrKysrKysrKysrLS0tLS0tLQogZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxh
eS9pbnRlbF9sc3Bjb24uaCB8ICA0ICsrKwogMyBmaWxlcyBjaGFuZ2VkLCAzOSBpbnNlcnRpb25z
KCspLCAxMSBkZWxldGlvbnMoLSkKCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9k
aXNwbGF5L2ludGVsX2hkbWkuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxf
aGRtaS5jCmluZGV4IGI1NGNjYmI1YWFkNS4uMDUxZTMwYWQ4MGU3IDEwMDY0NAotLS0gYS9kcml2
ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2hkbWkuYworKysgYi9kcml2ZXJzL2dwdS9k
cm0vaTkxNS9kaXNwbGF5L2ludGVsX2hkbWkuYwpAQCAtNTc2LDYgKzU3NiwxNiBAQCBzdGF0aWMg
dTMyIGhzd19pbmZvZnJhbWVzX2VuYWJsZWQoc3RydWN0IGludGVsX2VuY29kZXIgKmVuY29kZXIs
CiAJcmV0dXJuIHZhbCAmIG1hc2s7CiB9CiAKK3ZvaWQgbHNwY29uX2RybV93cml0ZV9pbmZvZnJh
bWUoc3RydWN0IGludGVsX2VuY29kZXIgKmVuY29kZXIsCisJCQkJY29uc3Qgc3RydWN0IGludGVs
X2NydGNfc3RhdGUgKmNydGNfc3RhdGUsCisJCQkJdW5zaWduZWQgaW50IHR5cGUsCisJCQkJY29u
c3Qgdm9pZCAqZnJhbWUsIHNzaXplX3QgbGVuKQoreworCURSTV9ERUJVR19LTVMoIlVwZGF0ZSBI
RFIgbWV0YWRhdGEgZm9yIGxzcGNvblxuIik7CisJLyogSXQgdXNlcyB0aGUgbGVnYWN5IGhzdyBp
bXBsZW1lbnRhdGlvbiBmb3IgdGhlIHNhbWUgKi8KKwloc3dfd3JpdGVfaW5mb2ZyYW1lKGVuY29k
ZXIsIGNydGNfc3RhdGUsIHR5cGUsIGZyYW1lLCBsZW4pOworfQorCiBzdGF0aWMgY29uc3QgdTgg
aW5mb2ZyYW1lX3R5cGVfdG9faWR4W10gPSB7CiAJSERNSV9QQUNLRVRfVFlQRV9HRU5FUkFMX0NP
TlRST0wsCiAJSERNSV9QQUNLRVRfVFlQRV9HQU1VVF9NRVRBREFUQSwKZGlmZiAtLWdpdCBhL2Ry
aXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfbHNwY29uLmMgYi9kcml2ZXJzL2dwdS9k
cm0vaTkxNS9kaXNwbGF5L2ludGVsX2xzcGNvbi5jCmluZGV4IGExZDAxMjdiN2Y1Ny4uNTFhZDVm
MDJlNzAwIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2xz
cGNvbi5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfbHNwY29uLmMK
QEAgLTQ2MCwyNyArNDYwLDQxIEBAIHZvaWQgbHNwY29uX3dyaXRlX2luZm9mcmFtZShzdHJ1Y3Qg
aW50ZWxfZW5jb2RlciAqZW5jb2RlciwKIAkJCSAgICB1bnNpZ25lZCBpbnQgdHlwZSwKIAkJCSAg
ICBjb25zdCB2b2lkICpmcmFtZSwgc3NpemVfdCBsZW4pCiB7Ci0JYm9vbCByZXQ7CisJYm9vbCBy
ZXQgPSB0cnVlOwogCXN0cnVjdCBpbnRlbF9kcCAqaW50ZWxfZHAgPSBlbmNfdG9faW50ZWxfZHAo
JmVuY29kZXItPmJhc2UpOwogCXN0cnVjdCBpbnRlbF9sc3Bjb24gKmxzcGNvbiA9IGVuY190b19p
bnRlbF9sc3Bjb24oJmVuY29kZXItPmJhc2UpOwogCi0JLyogTFNQQ09OIG9ubHkgbmVlZHMgQVZJ
IElGICovCi0JaWYgKHR5cGUgIT0gSERNSV9JTkZPRlJBTUVfVFlQRV9BVkkpCisJaWYgKCEodHlw
ZSA9PSBIRE1JX0lORk9GUkFNRV9UWVBFX0FWSSB8fAorCSAgICAgIHR5cGUgPT0gSERNSV9QQUNL
RVRfVFlQRV9HQU1VVF9NRVRBREFUQSkpCiAJCXJldHVybjsKIAotCWlmIChsc3Bjb24tPnZlbmRv
ciA9PSBMU1BDT05fVkVORE9SX01DQSkKLQkJcmV0ID0gX2xzcGNvbl93cml0ZV9hdmlfaW5mb2Zy
YW1lX21jYSgmaW50ZWxfZHAtPmF1eCwKLQkJCQkJCSAgICAgIGZyYW1lLCBsZW4pOwotCWVsc2UK
LQkJcmV0ID0gX2xzcGNvbl93cml0ZV9hdmlfaW5mb2ZyYW1lX3BhcmFkZSgmaW50ZWxfZHAtPmF1
eCwKLQkJCQkJCQkgZnJhbWUsIGxlbik7CisJLyoKKwkgKiBTdXBwb3J0aW5nIEhEUiBvbiBNQ0Eg
TFNQQ09OCisJICogVG9kbzogQWRkIHN1cHBvcnQgZm9yIFBhcmFkZSBsYXRlcgorCSAqLworCWlm
ICh0eXBlID09IEhETUlfUEFDS0VUX1RZUEVfR0FNVVRfTUVUQURBVEEgJiYKKwkgICAgbHNwY29u
LT52ZW5kb3IgIT0gTFNQQ09OX1ZFTkRPUl9NQ0EpCisJCXJldHVybjsKKworCWlmIChsc3Bjb24t
PnZlbmRvciA9PSBMU1BDT05fVkVORE9SX01DQSkgeworCQlpZiAodHlwZSA9PSBIRE1JX0lORk9G
UkFNRV9UWVBFX0FWSSkKKwkJCXJldCA9IF9sc3Bjb25fd3JpdGVfYXZpX2luZm9mcmFtZV9tY2Eo
JmludGVsX2RwLT5hdXgsCisJCQkJCQkJICAgICAgZnJhbWUsIGxlbik7CisJCWVsc2UgaWYgKHR5
cGUgPT0gSERNSV9QQUNLRVRfVFlQRV9HQU1VVF9NRVRBREFUQSkKKwkJCWxzcGNvbl9kcm1fd3Jp
dGVfaW5mb2ZyYW1lKGVuY29kZXIsIGNydGNfc3RhdGUsCisJCQkJCQkgICBIRE1JX1BBQ0tFVF9U
WVBFX0dBTVVUX01FVEFEQVRBLAorCQkJCQkJICAgZnJhbWUsIFZJREVPX0RJUF9EQVRBX1NJWkUp
OworCX0gZWxzZSB7CisJCXJldCA9IF9sc3Bjb25fd3JpdGVfYXZpX2luZm9mcmFtZV9wYXJhZGUo
JmludGVsX2RwLT5hdXgsIGZyYW1lLAorCQkJCQkJCSBsZW4pOworCX0KIAogCWlmICghcmV0KSB7
Ci0JCURSTV9FUlJPUigiRmFpbGVkIHRvIHdyaXRlIEFWSSBpbmZvZnJhbWVzXG4iKTsKKwkJRFJN
X0VSUk9SKCJGYWlsZWQgdG8gd3JpdGUgaW5mb2ZyYW1lc1xuIik7CiAJCXJldHVybjsKIAl9CiAK
LQlEUk1fREVCVUdfRFJJVkVSKCJBVkkgaW5mb2ZyYW1lcyB1cGRhdGVkIHN1Y2Nlc3NmdWxseVxu
Iik7CisJRFJNX0RFQlVHX0RSSVZFUigiSW5mb2ZyYW1lcyB1cGRhdGVkIHN1Y2Nlc3NmdWxseVxu
Iik7CiB9CiAKIHZvaWQgbHNwY29uX3JlYWRfaW5mb2ZyYW1lKHN0cnVjdCBpbnRlbF9lbmNvZGVy
ICplbmNvZGVyLApkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRl
bF9sc3Bjb24uaCBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfbHNwY29uLmgK
aW5kZXggMzdjZmRkZjhhOWM1Li42NTg3ODkwNGY2NzIgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1
L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfbHNwY29uLmgKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5
MTUvZGlzcGxheS9pbnRlbF9sc3Bjb24uaApAQCAtMzUsNCArMzUsOCBAQCB1MzIgbHNwY29uX2lu
Zm9mcmFtZXNfZW5hYmxlZChzdHJ1Y3QgaW50ZWxfZW5jb2RlciAqZW5jb2RlciwKIHZvaWQgbHNw
Y29uX3ljYmNyNDIwX2NvbmZpZyhzdHJ1Y3QgZHJtX2Nvbm5lY3RvciAqY29ubmVjdG9yLAogCQkJ
ICAgIHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpjcnRjX3N0YXRlKTsKIAordm9pZCBsc3Bjb25f
ZHJtX3dyaXRlX2luZm9mcmFtZShzdHJ1Y3QgaW50ZWxfZW5jb2RlciAqZW5jb2RlciwKKwkJCQlj
b25zdCBzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqY3J0Y19zdGF0ZSwKKwkJCQl1bnNpZ25lZCBp
bnQgdHlwZSwKKwkJCQljb25zdCB2b2lkICpmcmFtZSwgc3NpemVfdCBsZW4pOwogI2VuZGlmIC8q
IF9fSU5URUxfTFNQQ09OX0hfXyAqLwotLSAKMi4yMi4wCgpfX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fXwpJbnRlbC1nZnggbWFpbGluZyBsaXN0CkludGVsLWdm
eEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFp
bG1hbi9saXN0aW5mby9pbnRlbC1nZng=

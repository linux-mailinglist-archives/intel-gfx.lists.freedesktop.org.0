Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 182194F847
	for <lists+intel-gfx@lfdr.de>; Sat, 22 Jun 2019 23:21:13 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 1C07689DA8;
	Sat, 22 Jun 2019 21:21:10 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from fireflyinternet.com (mail.fireflyinternet.com [109.228.58.192])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 83A1189DA8
 for <intel-gfx@lists.freedesktop.org>; Sat, 22 Jun 2019 21:21:06 +0000 (UTC)
X-Default-Received-SPF: pass (skip=forwardok (res=PASS))
 x-ip-name=78.156.65.138; 
Received: from haswell.alporthouse.com (unverified [78.156.65.138]) 
 by fireflyinternet.com (Firefly Internet (M1)) with ESMTP id 16991522-1500050 
 for multiple; Sat, 22 Jun 2019 22:20:57 +0100
From: Chris Wilson <chris@chris-wilson.co.uk>
To: intel-gfx@lists.freedesktop.org
Date: Sat, 22 Jun 2019 22:20:48 +0100
Message-Id: <20190622212055.25782-3-chris@chris-wilson.co.uk>
X-Mailer: git-send-email 2.20.1
In-Reply-To: <20190622212055.25782-1-chris@chris-wilson.co.uk>
References: <20190622212055.25782-1-chris@chris-wilson.co.uk>
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH 03/10] drm/i915/gt: Pass intel_gt to pm routines
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

U3dpdGNoIGZyb20gcGFzc2luZyB0aGUgaTkxNSBjb250YWluZXIgdG8gbmV3bHkgbmFtZWQgc3Ry
dWN0IGludGVsX2d0LgoKU2lnbmVkLW9mZi1ieTogQ2hyaXMgV2lsc29uIDxjaHJpc0BjaHJpcy13
aWxzb24uY28udWs+Ci0tLQogLi4uL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fZXhlY2J1ZmZl
ci5jICAgIHwgIDQgKystLQogZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX3BtLmMg
ICAgICAgIHwgIDIgKy0KIC4uLi9kcm0vaTkxNS9nZW0vc2VsZnRlc3RzL2k5MTVfZ2VtX21tYW4u
YyAgICB8ICA0ICsrLS0KIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2VuZ2luZV9wbS5j
ICAgICB8ICA4ICsrKy0tLS0KIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2d0X3BtLmMg
ICAgICAgICB8IDIyICsrKysrKysrKysrLS0tLS0tLS0KIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2d0
L2ludGVsX2d0X3BtLmggICAgICAgICB8ICA5ICsrKystLS0tCiBkcml2ZXJzL2dwdS9kcm0vaTkx
NS9ndC9pbnRlbF9yZXNldC5jICAgICAgICAgfCAgNiArKy0tLQogZHJpdmVycy9ncHUvZHJtL2k5
MTUvaTkxNV9kcnYuYyAgICAgICAgICAgICAgIHwgIDIgKy0KIGRyaXZlcnMvZ3B1L2RybS9pOTE1
L2k5MTVfZ2VtLmMgICAgICAgICAgICAgICB8ICAyICstCiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9z
ZWxmdGVzdHMvaTkxNV9nZW0uYyAgICAgfCAgMiArLQogMTAgZmlsZXMgY2hhbmdlZCwgMzIgaW5z
ZXJ0aW9ucygrKSwgMjkgZGVsZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJt
L2k5MTUvZ2VtL2k5MTVfZ2VtX2V4ZWNidWZmZXIuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dl
bS9pOTE1X2dlbV9leGVjYnVmZmVyLmMKaW5kZXggY2Y4ZWRiNjgyMmVlLi4xYzVkZmJmYWQ3MWIg
MTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9leGVjYnVmZmVy
LmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX2V4ZWNidWZmZXIuYwpA
QCAtMjQzNyw3ICsyNDM3LDcgQEAgaTkxNV9nZW1fZG9fZXhlY2J1ZmZlcihzdHJ1Y3QgZHJtX2Rl
dmljZSAqZGV2LAogCSAqIHdha2VyZWYgdGhhdCB3ZSBob2xkIHVudGlsIHRoZSBHUFUgaGFzIGJl
ZW4gaWRsZSBmb3IgYXQgbGVhc3QKIAkgKiAxMDBtcy4KIAkgKi8KLQlpbnRlbF9ndF9wbV9nZXQo
ZWIuaTkxNSk7CisJaW50ZWxfZ3RfcG1fZ2V0KCZlYi5pOTE1LT5ndCk7CiAKIAllcnIgPSBpOTE1
X211dGV4X2xvY2tfaW50ZXJydXB0aWJsZShkZXYpOwogCWlmIChlcnIpCkBAIC0yNjA3LDcgKzI2
MDcsNyBAQCBpOTE1X2dlbV9kb19leGVjYnVmZmVyKHN0cnVjdCBkcm1fZGV2aWNlICpkZXYsCiBl
cnJfdW5sb2NrOgogCW11dGV4X3VubG9jaygmZGV2LT5zdHJ1Y3RfbXV0ZXgpOwogZXJyX3JwbToK
LQlpbnRlbF9ndF9wbV9wdXQoZWIuaTkxNSk7CisJaW50ZWxfZ3RfcG1fcHV0KCZlYi5pOTE1LT5n
dCk7CiAJaTkxNV9nZW1fY29udGV4dF9wdXQoZWIuZ2VtX2NvbnRleHQpOwogZXJyX2Rlc3Ryb3k6
CiAJZWJfZGVzdHJveSgmZWIpOwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2Vt
L2k5MTVfZ2VtX3BtLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fcG0uYwpp
bmRleCA4ZjcyMWNmMGFiOTkuLmVlMWY2NjU5NGEzNSAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUv
ZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX3BtLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2Vt
L2k5MTVfZ2VtX3BtLmMKQEAgLTI1OCw3ICsyNTgsNyBAQCB2b2lkIGk5MTVfZ2VtX3Jlc3VtZShz
dHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSkKIAkgKiBndWFyYW50ZWUgdGhhdCB0aGUgY29u
dGV4dCBpbWFnZSBpcyBjb21wbGV0ZS4gU28gbGV0J3MganVzdCByZXNldAogCSAqIGl0IGFuZCBz
dGFydCBhZ2Fpbi4KIAkgKi8KLQlpbnRlbF9ndF9yZXN1bWUoaTkxNSk7CisJaW50ZWxfZ3RfcmVz
dW1lKCZpOTE1LT5ndCk7CiAKIAlpZiAoaTkxNV9nZW1faW5pdF9odyhpOTE1KSkKIAkJZ290byBl
cnJfd2VkZ2VkOwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL3NlbGZ0ZXN0
cy9pOTE1X2dlbV9tbWFuLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vc2VsZnRlc3RzL2k5
MTVfZ2VtX21tYW4uYwppbmRleCAyNGEzYzY3N2NjZDUuLmExZjBiMjM1ZjU2YiAxMDA2NDQKLS0t
IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL3NlbGZ0ZXN0cy9pOTE1X2dlbV9tbWFuLmMKKysr
IGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL3NlbGZ0ZXN0cy9pOTE1X2dlbV9tbWFuLmMKQEAg
LTM3OSw3ICszNzksNyBAQCBzdGF0aWMgdm9pZCBkaXNhYmxlX3JldGlyZV93b3JrZXIoc3RydWN0
IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUpCiB7CiAJaTkxNV9nZW1fc2hyaW5rZXJfdW5yZWdpc3Rl
cihpOTE1KTsKIAotCWludGVsX2d0X3BtX2dldChpOTE1KTsKKwlpbnRlbF9ndF9wbV9nZXQoJmk5
MTUtPmd0KTsKIAogCWNhbmNlbF9kZWxheWVkX3dvcmtfc3luYygmaTkxNS0+Z2VtLnJldGlyZV93
b3JrKTsKIAlmbHVzaF93b3JrKCZpOTE1LT5nZW0uaWRsZV93b3JrKTsKQEAgLTM4Nyw3ICszODcs
NyBAQCBzdGF0aWMgdm9pZCBkaXNhYmxlX3JldGlyZV93b3JrZXIoc3RydWN0IGRybV9pOTE1X3By
aXZhdGUgKmk5MTUpCiAKIHN0YXRpYyB2b2lkIHJlc3RvcmVfcmV0aXJlX3dvcmtlcihzdHJ1Y3Qg
ZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSkKIHsKLQlpbnRlbF9ndF9wbV9wdXQoaTkxNSk7CisJaW50
ZWxfZ3RfcG1fcHV0KCZpOTE1LT5ndCk7CiAKIAltdXRleF9sb2NrKCZpOTE1LT5kcm0uc3RydWN0
X211dGV4KTsKIAlpZ3RfZmx1c2hfdGVzdChpOTE1LCBJOTE1X1dBSVRfTE9DS0VEKTsKZGlmZiAt
LWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2VuZ2luZV9wbS5jIGIvZHJpdmVy
cy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZW5naW5lX3BtLmMKaW5kZXggMmNlMDBkM2RjNDJhLi41
MjUzYzM4MjAzNGQgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2Vu
Z2luZV9wbS5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2VuZ2luZV9wbS5j
CkBAIC0xOCw3ICsxOCw3IEBAIHN0YXRpYyBpbnQgX19lbmdpbmVfdW5wYXJrKHN0cnVjdCBpbnRl
bF93YWtlcmVmICp3ZikKIAogCUdFTV9UUkFDRSgiJXNcbiIsIGVuZ2luZS0+bmFtZSk7CiAKLQlp
bnRlbF9ndF9wbV9nZXQoZW5naW5lLT5pOTE1KTsKKwlpbnRlbF9ndF9wbV9nZXQoZW5naW5lLT5n
dCk7CiAKIAkvKiBQaW4gdGhlIGRlZmF1bHQgc3RhdGUgZm9yIGZhc3QgcmVzZXRzIGZyb20gYXRv
bWljIGNvbnRleHQuICovCiAJbWFwID0gTlVMTDsKQEAgLTEyOSw3ICsxMjksNyBAQCBzdGF0aWMg
aW50IF9fZW5naW5lX3Bhcmsoc3RydWN0IGludGVsX3dha2VyZWYgKndmKQogCiAJZW5naW5lLT5l
eGVjbGlzdHMubm9fcHJpb2xpc3QgPSBmYWxzZTsKIAotCWludGVsX2d0X3BtX3B1dChlbmdpbmUt
Pmk5MTUpOworCWludGVsX2d0X3BtX3B1dChlbmdpbmUtPmd0KTsKIAlyZXR1cm4gMDsKIH0KIApA
QCAtMTQ5LDcgKzE0OSw3IEBAIGludCBpbnRlbF9lbmdpbmVzX3Jlc3VtZShzdHJ1Y3QgZHJtX2k5
MTVfcHJpdmF0ZSAqaTkxNSkKIAllbnVtIGludGVsX2VuZ2luZV9pZCBpZDsKIAlpbnQgZXJyID0g
MDsKIAotCWludGVsX2d0X3BtX2dldChpOTE1KTsKKwlpbnRlbF9ndF9wbV9nZXQoJmk5MTUtPmd0
KTsKIAlmb3JfZWFjaF9lbmdpbmUoZW5naW5lLCBpOTE1LCBpZCkgewogCQlpbnRlbF9lbmdpbmVf
cG1fZ2V0KGVuZ2luZSk7CiAJCWVuZ2luZS0+c2VyaWFsKys7IC8qIGtlcm5lbCBjb250ZXh0IGxv
c3QgKi8KQEAgLTE2Miw3ICsxNjIsNyBAQCBpbnQgaW50ZWxfZW5naW5lc19yZXN1bWUoc3RydWN0
IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUpCiAJCQlicmVhazsKIAkJfQogCX0KLQlpbnRlbF9ndF9w
bV9wdXQoaTkxNSk7CisJaW50ZWxfZ3RfcG1fcHV0KCZpOTE1LT5ndCk7CiAKIAlyZXR1cm4gZXJy
OwogfQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZ3RfcG0uYyBi
L2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2d0X3BtLmMKaW5kZXggNjA2Mjg0MGI1YjQ2
Li5kZGEwZWI2NGI3MmQgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVs
X2d0X3BtLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZ3RfcG0uYwpAQCAt
NTAsOSArNTAsMTEgQEAgc3RhdGljIGludCBpbnRlbF9ndF91bnBhcmsoc3RydWN0IGludGVsX3dh
a2VyZWYgKndmKQogCXJldHVybiAwOwogfQogCi12b2lkIGludGVsX2d0X3BtX2dldChzdHJ1Y3Qg
ZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSkKK3ZvaWQgaW50ZWxfZ3RfcG1fZ2V0KHN0cnVjdCBpbnRl
bF9ndCAqZ3QpCiB7Ci0JaW50ZWxfd2FrZXJlZl9nZXQoJmk5MTUtPnJ1bnRpbWVfcG0sICZpOTE1
LT5ndC53YWtlcmVmLCBpbnRlbF9ndF91bnBhcmspOworCXN0cnVjdCBpbnRlbF9ydW50aW1lX3Bt
ICpycG0gPSAmZ3QtPmk5MTUtPnJ1bnRpbWVfcG07CisKKwlpbnRlbF93YWtlcmVmX2dldChycG0s
ICZndC0+d2FrZXJlZiwgaW50ZWxfZ3RfdW5wYXJrKTsKIH0KIAogc3RhdGljIGludCBpbnRlbF9n
dF9wYXJrKHN0cnVjdCBpbnRlbF93YWtlcmVmICp3ZikKQEAgLTc1LDkgKzc3LDExIEBAIHN0YXRp
YyBpbnQgaW50ZWxfZ3RfcGFyayhzdHJ1Y3QgaW50ZWxfd2FrZXJlZiAqd2YpCiAJcmV0dXJuIDA7
CiB9CiAKLXZvaWQgaW50ZWxfZ3RfcG1fcHV0KHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICppOTE1
KQordm9pZCBpbnRlbF9ndF9wbV9wdXQoc3RydWN0IGludGVsX2d0ICpndCkKIHsKLQlpbnRlbF93
YWtlcmVmX3B1dCgmaTkxNS0+cnVudGltZV9wbSwgJmk5MTUtPmd0Lndha2VyZWYsIGludGVsX2d0
X3BhcmspOworCXN0cnVjdCBpbnRlbF9ydW50aW1lX3BtICpycG0gPSAmZ3QtPmk5MTUtPnJ1bnRp
bWVfcG07CisKKwlpbnRlbF93YWtlcmVmX3B1dChycG0sICZndC0+d2FrZXJlZiwgaW50ZWxfZ3Rf
cGFyayk7CiB9CiAKIHZvaWQgaW50ZWxfZ3RfcG1faW5pdF9lYXJseShzdHJ1Y3QgaW50ZWxfZ3Qg
Kmd0KQpAQCAtMTA0LDIxICsxMDgsMjEgQEAgc3RhdGljIGJvb2wgcmVzZXRfZW5naW5lcyhzdHJ1
Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSkKICAqIHRvIG1hdGNoLiBOb3RlIHRoYXQgY2FsbGlu
ZyBpbnRlbF9ndF9zYW5pdGl6ZSgpIGlmIHRoZSBHUFUgaGFzIG5vdAogICogYmVlbiByZXNldCBy
ZXN1bHRzIGluIG11Y2ggY29uZnVzaW9uIQogICovCi12b2lkIGludGVsX2d0X3Nhbml0aXplKHN0
cnVjdCBkcm1faTkxNV9wcml2YXRlICppOTE1LCBib29sIGZvcmNlKQordm9pZCBpbnRlbF9ndF9z
YW5pdGl6ZShzdHJ1Y3QgaW50ZWxfZ3QgKmd0LCBib29sIGZvcmNlKQogewogCXN0cnVjdCBpbnRl
bF9lbmdpbmVfY3MgKmVuZ2luZTsKIAllbnVtIGludGVsX2VuZ2luZV9pZCBpZDsKIAogCUdFTV9U
UkFDRSgiXG4iKTsKIAotCWlmICghcmVzZXRfZW5naW5lcyhpOTE1KSAmJiAhZm9yY2UpCisJaWYg
KCFyZXNldF9lbmdpbmVzKGd0LT5pOTE1KSAmJiAhZm9yY2UpCiAJCXJldHVybjsKIAotCWZvcl9l
YWNoX2VuZ2luZShlbmdpbmUsIGk5MTUsIGlkKQorCWZvcl9lYWNoX2VuZ2luZShlbmdpbmUsIGd0
LT5pOTE1LCBpZCkKIAkJaW50ZWxfZW5naW5lX3Jlc2V0KGVuZ2luZSwgZmFsc2UpOwogfQogCi12
b2lkIGludGVsX2d0X3Jlc3VtZShzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSkKK3ZvaWQg
aW50ZWxfZ3RfcmVzdW1lKHN0cnVjdCBpbnRlbF9ndCAqZ3QpCiB7CiAJc3RydWN0IGludGVsX2Vu
Z2luZV9jcyAqZW5naW5lOwogCWVudW0gaW50ZWxfZW5naW5lX2lkIGlkOwpAQCAtMTI5LDcgKzEz
Myw3IEBAIHZvaWQgaW50ZWxfZ3RfcmVzdW1lKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICppOTE1
KQogCSAqIE9ubHkgdGhlIGtlcm5lbCBjb250ZXh0cyBzaG91bGQgcmVtYWluIHBpbm5lZCBvdmVy
IHN1c3BlbmQsCiAJICogYWxsb3dpbmcgdXMgdG8gZml4dXAgdGhlIHVzZXIgY29udGV4dHMgb24g
dGhlaXIgZmlyc3QgcGluLgogCSAqLwotCWZvcl9lYWNoX2VuZ2luZShlbmdpbmUsIGk5MTUsIGlk
KSB7CisJZm9yX2VhY2hfZW5naW5lKGVuZ2luZSwgZ3QtPmk5MTUsIGlkKSB7CiAJCXN0cnVjdCBp
bnRlbF9jb250ZXh0ICpjZTsKIAogCQljZSA9IGVuZ2luZS0+a2VybmVsX2NvbnRleHQ7CmRpZmYg
LS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9ndF9wbS5oIGIvZHJpdmVycy9n
cHUvZHJtL2k5MTUvZ3QvaW50ZWxfZ3RfcG0uaAppbmRleCBiNjA0OWE5MDc4OTAuLjRkYmI5MmNm
NThkNyAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZ3RfcG0uaAor
KysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9ndF9wbS5oCkBAIC05LDcgKzksNiBA
QAogCiAjaW5jbHVkZSA8bGludXgvdHlwZXMuaD4KIAotc3RydWN0IGRybV9pOTE1X3ByaXZhdGU7
CiBzdHJ1Y3QgaW50ZWxfZ3Q7CiAKIGVudW0gewpAQCAtMTcsMTIgKzE2LDEyIEBAIGVudW0gewog
CUlOVEVMX0dUX1BBUkssCiB9OwogCi12b2lkIGludGVsX2d0X3BtX2dldChzdHJ1Y3QgZHJtX2k5
MTVfcHJpdmF0ZSAqaTkxNSk7Ci12b2lkIGludGVsX2d0X3BtX3B1dChzdHJ1Y3QgZHJtX2k5MTVf
cHJpdmF0ZSAqaTkxNSk7Cit2b2lkIGludGVsX2d0X3BtX2dldChzdHJ1Y3QgaW50ZWxfZ3QgKmd0
KTsKK3ZvaWQgaW50ZWxfZ3RfcG1fcHV0KHN0cnVjdCBpbnRlbF9ndCAqZ3QpOwogCiB2b2lkIGlu
dGVsX2d0X3BtX2luaXRfZWFybHkoc3RydWN0IGludGVsX2d0ICpndCk7CiAKLXZvaWQgaW50ZWxf
Z3Rfc2FuaXRpemUoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUsIGJvb2wgZm9yY2UpOwot
dm9pZCBpbnRlbF9ndF9yZXN1bWUoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUpOwordm9p
ZCBpbnRlbF9ndF9zYW5pdGl6ZShzdHJ1Y3QgaW50ZWxfZ3QgKmd0LCBib29sIGZvcmNlKTsKK3Zv
aWQgaW50ZWxfZ3RfcmVzdW1lKHN0cnVjdCBpbnRlbF9ndCAqZ3QpOwogCiAjZW5kaWYgLyogSU5U
RUxfR1RfUE1fSCAqLwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxf
cmVzZXQuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX3Jlc2V0LmMKaW5kZXggM2M5
MjVhZjY0NzkzLi5lOTIwNTRlMTE4Y2MgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1
L2d0L2ludGVsX3Jlc2V0LmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfcmVz
ZXQuYwpAQCAtNzE0LDcgKzcxNCw3IEBAIHN0YXRpYyB2b2lkIHJlc2V0X3ByZXBhcmUoc3RydWN0
IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUpCiAJc3RydWN0IGludGVsX2VuZ2luZV9jcyAqZW5naW5l
OwogCWVudW0gaW50ZWxfZW5naW5lX2lkIGlkOwogCi0JaW50ZWxfZ3RfcG1fZ2V0KGk5MTUpOwor
CWludGVsX2d0X3BtX2dldCgmaTkxNS0+Z3QpOwogCWZvcl9lYWNoX2VuZ2luZShlbmdpbmUsIGk5
MTUsIGlkKQogCQlyZXNldF9wcmVwYXJlX2VuZ2luZShlbmdpbmUpOwogCkBAIC03NjUsNyArNzY1
LDcgQEAgc3RhdGljIHZvaWQgcmVzZXRfZmluaXNoKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpp
OTE1KQogCQlyZXNldF9maW5pc2hfZW5naW5lKGVuZ2luZSk7CiAJCWludGVsX2VuZ2luZV9zaWdu
YWxfYnJlYWRjcnVtYnMoZW5naW5lKTsKIAl9Ci0JaW50ZWxfZ3RfcG1fcHV0KGk5MTUpOworCWlu
dGVsX2d0X3BtX3B1dCgmaTkxNS0+Z3QpOwogfQogCiBzdGF0aWMgdm9pZCBub3Bfc3VibWl0X3Jl
cXVlc3Qoc3RydWN0IGk5MTVfcmVxdWVzdCAqcmVxdWVzdCkKQEAgLTg5MSw3ICs4OTEsNyBAQCBz
dGF0aWMgYm9vbCBfX2k5MTVfZ2VtX3Vuc2V0X3dlZGdlZChzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0
ZSAqaTkxNSkKIAl9CiAJbXV0ZXhfdW5sb2NrKCZpOTE1LT5ndC50aW1lbGluZXMubXV0ZXgpOwog
Ci0JaW50ZWxfZ3Rfc2FuaXRpemUoaTkxNSwgZmFsc2UpOworCWludGVsX2d0X3Nhbml0aXplKCZp
OTE1LT5ndCwgZmFsc2UpOwogCiAJLyoKIAkgKiBVbmRvIG5vcF9zdWJtaXRfcmVxdWVzdC4gV2Ug
cHJldmVudCBhbGwgbmV3IGk5MTUgcmVxdWVzdHMgZnJvbQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9n
cHUvZHJtL2k5MTUvaTkxNV9kcnYuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZHJ2LmMK
aW5kZXggZTE4MTdmODlmNWQ1Li4wNzI0MGVkZDc1ZjAgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1
L2RybS9pOTE1L2k5MTVfZHJ2LmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kcnYu
YwpAQCAtMjM3Niw3ICsyMzc2LDcgQEAgc3RhdGljIGludCBpOTE1X2RybV9yZXN1bWVfZWFybHko
c3RydWN0IGRybV9kZXZpY2UgKmRldikKIAogCWludGVsX3Bvd2VyX2RvbWFpbnNfcmVzdW1lKGRl
dl9wcml2KTsKIAotCWludGVsX2d0X3Nhbml0aXplKGRldl9wcml2LCB0cnVlKTsKKwlpbnRlbF9n
dF9zYW5pdGl6ZSgmZGV2X3ByaXYtPmd0LCB0cnVlKTsKIAogCWVuYWJsZV9ycG1fd2FrZXJlZl9h
c3NlcnRzKCZkZXZfcHJpdi0+cnVudGltZV9wbSk7CiAKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1
L2RybS9pOTE1L2k5MTVfZ2VtLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2dlbS5jCmlu
ZGV4IGU1OWJlNWMwNWUxYi4uZGVlY2JlMTI4ZTViIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9k
cm0vaTkxNS9pOTE1X2dlbS5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZ2VtLmMK
QEAgLTExNTcsNyArMTE1Nyw3IEBAIHZvaWQgaTkxNV9nZW1fc2FuaXRpemUoc3RydWN0IGRybV9p
OTE1X3ByaXZhdGUgKmk5MTUpCiAJICogaXQgbWF5IGltcGFjdCB0aGUgZGlzcGxheSBhbmQgd2Ug
YXJlIHVuY2VydGFpbiBhYm91dCB0aGUgc3RhYmlsaXR5CiAJICogb2YgdGhlIHJlc2V0LCBzbyB0
aGlzIGNvdWxkIGJlIGFwcGxpZWQgdG8gZXZlbiBlYXJsaWVyIGdlbi4KIAkgKi8KLQlpbnRlbF9n
dF9zYW5pdGl6ZShpOTE1LCBmYWxzZSk7CisJaW50ZWxfZ3Rfc2FuaXRpemUoJmk5MTUtPmd0LCBm
YWxzZSk7CiAKIAlpbnRlbF91bmNvcmVfZm9yY2V3YWtlX3B1dCgmaTkxNS0+dW5jb3JlLCBGT1JD
RVdBS0VfQUxMKTsKIAlpbnRlbF9ydW50aW1lX3BtX3B1dCgmaTkxNS0+cnVudGltZV9wbSwgd2Fr
ZXJlZik7CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9zZWxmdGVzdHMvaTkxNV9n
ZW0uYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L3NlbGZ0ZXN0cy9pOTE1X2dlbS5jCmluZGV4IGM2
YTAxYTZlODdmMS4uZWQwYzE3YmY2NjEzIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkx
NS9zZWxmdGVzdHMvaTkxNV9nZW0uYworKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9zZWxmdGVz
dHMvaTkxNV9nZW0uYwpAQCAtMTE1LDcgKzExNSw3IEBAIHN0YXRpYyB2b2lkIHBtX3Jlc3VtZShz
dHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSkKIAkgKiB0aGF0IHJ1bnRpbWUtcG0ganVzdCB3
b3Jrcy4KIAkgKi8KIAl3aXRoX2ludGVsX3J1bnRpbWVfcG0oJmk5MTUtPnJ1bnRpbWVfcG0sIHdh
a2VyZWYpIHsKLQkJaW50ZWxfZ3Rfc2FuaXRpemUoaTkxNSwgZmFsc2UpOworCQlpbnRlbF9ndF9z
YW5pdGl6ZSgmaTkxNS0+Z3QsIGZhbHNlKTsKIAkJaTkxNV9nZW1fc2FuaXRpemUoaTkxNSk7CiAJ
CWk5MTVfZ2VtX3Jlc3VtZShpOTE1KTsKIAl9Ci0tIAoyLjIwLjEKCl9fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCkludGVsLWdmeCBtYWlsaW5nIGxpc3QKSW50
ZWwtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9y
Zy9tYWlsbWFuL2xpc3RpbmZvL2ludGVsLWdmeA==

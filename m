Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id D66611C31FA
	for <lists+intel-gfx@lfdr.de>; Mon,  4 May 2020 06:50:00 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id DBD1D6E30F;
	Mon,  4 May 2020 04:49:48 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from fireflyinternet.com (mail.fireflyinternet.com [109.228.58.192])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 846966E2EF
 for <intel-gfx@lists.freedesktop.org>; Mon,  4 May 2020 04:49:38 +0000 (UTC)
X-Default-Received-SPF: pass (skip=forwardok (res=PASS))
 x-ip-name=78.156.65.138; 
Received: from build.alporthouse.com (unverified [78.156.65.138]) 
 by fireflyinternet.com (Firefly Internet (M1)) with ESMTP id 21102369-1500050 
 for multiple; Mon, 04 May 2020 05:49:09 +0100
From: Chris Wilson <chris@chris-wilson.co.uk>
To: intel-gfx@lists.freedesktop.org
Date: Mon,  4 May 2020 05:48:54 +0100
Message-Id: <20200504044903.7626-13-chris@chris-wilson.co.uk>
X-Mailer: git-send-email 2.20.1
In-Reply-To: <20200504044903.7626-1-chris@chris-wilson.co.uk>
References: <20200504044903.7626-1-chris@chris-wilson.co.uk>
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH 13/22] drm/i915: Replace the hardcoded
 I915_FENCE_TIMEOUT
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: Chris Wilson <chris@chris-wilson.co.uk>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

RXhwb3NlIHRoZSBoYXJkY29kZWQgdGltZW91dCBmb3IgdW5zaWduYWxlZCBmb3JlaWduIGZlbmNl
cyBhcyBhIEtjb25maWcKb3B0aW9uLCBwcmltYXJpbHkgdG8gYWxsb3cgYnJhdmUgc3lzdGVtcyB0
byBkaXNhYmxlIHRoZSB0aW1lb3V0IGFuZApzb2xlbHkgcmVseSBvbiBjb3JyZWN0IHNpZ25hbGlu
Zy4KClNpZ25lZC1vZmYtYnk6IENocmlzIFdpbHNvbiA8Y2hyaXNAY2hyaXMtd2lsc29uLmNvLnVr
PgpDYzogSm9vbmFzIExhaHRpbmVuIDxqb29uYXMubGFodGluZW5AbGludXguaW50ZWwuY29tPgot
LS0KIGRyaXZlcnMvZ3B1L2RybS9pOTE1L0tjb25maWcucHJvZmlsZSAgICAgICAgICAgfCAxMiAr
KysrKysrKysrKysKIGRyaXZlcnMvZ3B1L2RybS9pOTE1L01ha2VmaWxlICAgICAgICAgICAgICAg
ICAgfCAgMSArCiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXkuYyAg
IHwgIDUgKysrLS0KIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9jbGZsdXNoLmMg
ICAgfCAgMiArLQogZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX2NsaWVudF9ibHQu
YyB8ICAzICstLQogZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX2ZlbmNlLmMgICAg
ICB8ICA0ICsrLS0KIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfY29uZmlnLmMgICAgICAgICAg
ICAgfCAxNSArKysrKysrKysrKysrKysKIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZHJ2Lmgg
ICAgICAgICAgICAgICAgfCAxMCArKysrKysrKystCiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1
X3JlcXVlc3QuYyAgICAgICAgICAgIHwgMTEgKysrKysrKy0tLS0KIDkgZmlsZXMgY2hhbmdlZCwg
NTEgaW5zZXJ0aW9ucygrKSwgMTIgZGVsZXRpb25zKC0pCiBjcmVhdGUgbW9kZSAxMDA2NDQgZHJp
dmVycy9ncHUvZHJtL2k5MTUvaTkxNV9jb25maWcuYwoKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1
L2RybS9pOTE1L0tjb25maWcucHJvZmlsZSBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L0tjb25maWcu
cHJvZmlsZQppbmRleCAwYmZkMjc2YzE5ZmUuLjM5MjViZTY1ZDMxNCAxMDA2NDQKLS0tIGEvZHJp
dmVycy9ncHUvZHJtL2k5MTUvS2NvbmZpZy5wcm9maWxlCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9p
OTE1L0tjb25maWcucHJvZmlsZQpAQCAtMSwzICsxLDE1IEBACitjb25maWcgRFJNX0k5MTVfRkVO
Q0VfVElNRU9VVAorCWludCAiVGltZW91dCBmb3IgdW5zaWduYWxlZCBmb3JlaWduIGZlbmNlcyIK
KwlkZWZhdWx0IDEwMDAwICMgbWlsbGlzZWNvbmRzCisJaGVscAorCSAgV2hlbiBsaXN0ZW5pbmcg
dG8gYSBmb3JlaWduIGZlbmNlLCB3ZSBpbnN0YWxsIGEgc3VwcGxlbWVudGFyeSB0aW1lcgorCSAg
dG8gZW5zdXJlIHRoYXQgd2UgYXJlIGFsd2F5cyBzaWduYWxlZCBhbmQgb3VyIHVzZXJzcGFjZSBp
cyBhYmxlIHRvCisJICBtYWtlIGZvcndhcmQgcHJvZ3Jlc3MuIFRoaXMgdmFsdWUgc3BlY2lmaWVz
IHRoZSB0aW1lb3V0IHVzZWQgZm9yIGFuCisJICB1bnNpZ25hbGVkIGZvcmVpZ24gZmVuY2UuCisK
KwkgIE1heSBiZSAwIHRvIGRpc2FibGUgdGhlIHRpbWVvdXQsIGFuZCByZWx5IG9uIHRoZSBmb3Jl
aWduIGZlbmNlIGJlaW5nCisJICBldmVudHVhbGx5IHNpZ25hbGVkLgorCiBjb25maWcgRFJNX0k5
MTVfVVNFUkZBVUxUX0FVVE9TVVNQRU5ECiAJaW50ICJSdW50aW1lIGF1dG9zdXNwZW5kIGRlbGF5
IGZvciB1c2Vyc3BhY2UgR0dUVCBtbWFwcyAobXMpIgogCWRlZmF1bHQgMjUwICMgbWlsbGlzZWNv
bmRzCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9NYWtlZmlsZSBiL2RyaXZlcnMv
Z3B1L2RybS9pOTE1L01ha2VmaWxlCmluZGV4IDUzNTljNzM2Yzc4OS4uYjBkYTZlYTZlM2YxIDEw
MDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9NYWtlZmlsZQorKysgYi9kcml2ZXJzL2dw
dS9kcm0vaTkxNS9NYWtlZmlsZQpAQCAtMzUsNiArMzUsNyBAQCBzdWJkaXItY2NmbGFncy15ICs9
IC1JJChzcmN0cmVlKS8kKHNyYykKIAogIyBjb3JlIGRyaXZlciBjb2RlCiBpOTE1LXkgKz0gaTkx
NV9kcnYubyBcCisJICBpOTE1X2NvbmZpZy5vIFwKIAkgIGk5MTVfaXJxLm8gXAogCSAgaTkxNV9n
ZXRwYXJhbS5vIFwKIAkgIGk5MTVfcGFyYW1zLm8gXApkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUv
ZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5LmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9k
aXNwbGF5L2ludGVsX2Rpc3BsYXkuYwppbmRleCAyYTE3Y2YzOGQzZGMuLjdiMzU3OGNmY2FjYyAx
MDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5LmMK
KysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5LmMKQEAgLTE1
ODE1LDcgKzE1ODE1LDcgQEAgaW50ZWxfcHJlcGFyZV9wbGFuZV9mYihzdHJ1Y3QgZHJtX3BsYW5l
ICpfcGxhbmUsCiAJaWYgKG5ld19wbGFuZV9zdGF0ZS0+dWFwaS5mZW5jZSkgeyAvKiBleHBsaWNp
dCBmZW5jaW5nICovCiAJCXJldCA9IGk5MTVfc3dfZmVuY2VfYXdhaXRfZG1hX2ZlbmNlKCZzdGF0
ZS0+Y29tbWl0X3JlYWR5LAogCQkJCQkJICAgIG5ld19wbGFuZV9zdGF0ZS0+dWFwaS5mZW5jZSwK
LQkJCQkJCSAgICBJOTE1X0ZFTkNFX1RJTUVPVVQsCisJCQkJCQkgICAgaTkxNV9mZW5jZV90aW1l
b3V0KGRldl9wcml2KSwKIAkJCQkJCSAgICBHRlBfS0VSTkVMKTsKIAkJaWYgKHJldCA8IDApCiAJ
CQlyZXR1cm4gcmV0OwpAQCAtMTU4NDIsNyArMTU4NDIsOCBAQCBpbnRlbF9wcmVwYXJlX3BsYW5l
X2ZiKHN0cnVjdCBkcm1fcGxhbmUgKl9wbGFuZSwKIAogCQlyZXQgPSBpOTE1X3N3X2ZlbmNlX2F3
YWl0X3Jlc2VydmF0aW9uKCZzdGF0ZS0+Y29tbWl0X3JlYWR5LAogCQkJCQkJICAgICAgb2JqLT5i
YXNlLnJlc3YsIE5VTEwsCi0JCQkJCQkgICAgICBmYWxzZSwgSTkxNV9GRU5DRV9USU1FT1VULAor
CQkJCQkJICAgICAgZmFsc2UsCisJCQkJCQkgICAgICBpOTE1X2ZlbmNlX3RpbWVvdXQoZGV2X3By
aXYpLAogCQkJCQkJICAgICAgR0ZQX0tFUk5FTCk7CiAJCWlmIChyZXQgPCAwKQogCQkJZ290byB1
bnBpbl9mYjsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9j
bGZsdXNoLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fY2xmbHVzaC5jCmlu
ZGV4IDM0YmU0YzBlZTdjNS4uYmMwMjIzNzE2OTA2IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9k
cm0vaTkxNS9nZW0vaTkxNV9nZW1fY2xmbHVzaC5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1
L2dlbS9pOTE1X2dlbV9jbGZsdXNoLmMKQEAgLTEwOCw3ICsxMDgsNyBAQCBib29sIGk5MTVfZ2Vt
X2NsZmx1c2hfb2JqZWN0KHN0cnVjdCBkcm1faTkxNV9nZW1fb2JqZWN0ICpvYmosCiAJaWYgKGNs
Zmx1c2gpIHsKIAkJaTkxNV9zd19mZW5jZV9hd2FpdF9yZXNlcnZhdGlvbigmY2xmbHVzaC0+YmFz
ZS5jaGFpbiwKIAkJCQkJCW9iai0+YmFzZS5yZXN2LCBOVUxMLCB0cnVlLAotCQkJCQkJSTkxNV9G
RU5DRV9USU1FT1VULAorCQkJCQkJaTkxNV9mZW5jZV90aW1lb3V0KHRvX2k5MTUob2JqLT5iYXNl
LmRldikpLAogCQkJCQkJSTkxNV9GRU5DRV9HRlApOwogCQlkbWFfcmVzdl9hZGRfZXhjbF9mZW5j
ZShvYmotPmJhc2UucmVzdiwgJmNsZmx1c2gtPmJhc2UuZG1hKTsKIAkJZG1hX2ZlbmNlX3dvcmtf
Y29tbWl0KCZjbGZsdXNoLT5iYXNlKTsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1
L2dlbS9pOTE1X2dlbV9jbGllbnRfYmx0LmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkx
NV9nZW1fY2xpZW50X2JsdC5jCmluZGV4IDNhMTQ2YWEyNTkzYi4uZDNhODZhNGQ1YzA0IDEwMDY0
NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fY2xpZW50X2JsdC5jCisr
KyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9jbGllbnRfYmx0LmMKQEAgLTI4
OCw4ICsyODgsNyBAQCBpbnQgaTkxNV9nZW1fc2NoZWR1bGVfZmlsbF9wYWdlc19ibHQoc3RydWN0
IGRybV9pOTE1X2dlbV9vYmplY3QgKm9iaiwKIAogCWk5MTVfZ2VtX29iamVjdF9sb2NrKG9iaik7
CiAJZXJyID0gaTkxNV9zd19mZW5jZV9hd2FpdF9yZXNlcnZhdGlvbigmd29yay0+d2FpdCwKLQkJ
CQkJICAgICAgb2JqLT5iYXNlLnJlc3YsIE5VTEwsCi0JCQkJCSAgICAgIHRydWUsIEk5MTVfRkVO
Q0VfVElNRU9VVCwKKwkJCQkJICAgICAgb2JqLT5iYXNlLnJlc3YsIE5VTEwsIHRydWUsIDAsCiAJ
CQkJCSAgICAgIEk5MTVfRkVOQ0VfR0ZQKTsKIAlpZiAoZXJyIDwgMCkgewogCQlkbWFfZmVuY2Vf
c2V0X2Vycm9yKCZ3b3JrLT5kbWEsIGVycik7CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0v
aTkxNS9nZW0vaTkxNV9nZW1fZmVuY2UuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1
X2dlbV9mZW5jZS5jCmluZGV4IDJmNjEwMGVjMjYwOC4uOGFiODQyYzgwZjk5IDEwMDY0NAotLS0g
YS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fZmVuY2UuYworKysgYi9kcml2ZXJz
L2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fZmVuY2UuYwpAQCAtNzIsOCArNzIsOCBAQCBpOTE1
X2dlbV9vYmplY3RfbG9ja19mZW5jZShzdHJ1Y3QgZHJtX2k5MTVfZ2VtX29iamVjdCAqb2JqKQog
CQkgICAgICAgMCwgMCk7CiAKIAlpZiAoaTkxNV9zd19mZW5jZV9hd2FpdF9yZXNlcnZhdGlvbigm
c3R1Yi0+Y2hhaW4sCi0JCQkJCSAgICBvYmotPmJhc2UucmVzdiwgTlVMTCwKLQkJCQkJICAgIHRy
dWUsIEk5MTVfRkVOQ0VfVElNRU9VVCwKKwkJCQkJICAgIG9iai0+YmFzZS5yZXN2LCBOVUxMLCB0
cnVlLAorCQkJCQkgICAgaTkxNV9mZW5jZV90aW1lb3V0KHRvX2k5MTUob2JqLT5iYXNlLmRldikp
LAogCQkJCQkgICAgSTkxNV9GRU5DRV9HRlApIDwgMCkKIAkJZ290byBlcnI7CiAKZGlmZiAtLWdp
dCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfY29uZmlnLmMgYi9kcml2ZXJzL2dwdS9kcm0v
aTkxNS9pOTE1X2NvbmZpZy5jCm5ldyBmaWxlIG1vZGUgMTAwNjQ0CmluZGV4IDAwMDAwMDAwMDAw
MC4uYjc5YjVmNmQyY2ZhCi0tLSAvZGV2L251bGwKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUv
aTkxNV9jb25maWcuYwpAQCAtMCwwICsxLDE1IEBACisvLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmll
cjogTUlUCisvKgorICogQ29weXJpZ2h0IMKpIDIwMjAgSW50ZWwgQ29ycG9yYXRpb24KKyAqLwor
CisjaW5jbHVkZSAiaTkxNV9kcnYuaCIKKwordW5zaWduZWQgbG9uZworaTkxNV9mZW5jZV9jb250
ZXh0X3RpbWVvdXQoY29uc3Qgc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUsIHU2NCBjb250
ZXh0KQoreworCWlmIChjb250ZXh0ICYmIElTX0FDVElWRShDT05GSUdfRFJNX0k5MTVfRkVOQ0Vf
VElNRU9VVCkpCisJCXJldHVybiBtc2Vjc190b19qaWZmaWVzX3RpbWVvdXQoQ09ORklHX0RSTV9J
OTE1X0ZFTkNFX1RJTUVPVVQpOworCisJcmV0dXJuIDA7Cit9CmRpZmYgLS1naXQgYS9kcml2ZXJz
L2dwdS9kcm0vaTkxNS9pOTE1X2Rydi5oIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kcnYu
aAppbmRleCA2YWY2OTU1NTczM2UuLjJlM2I1YzRkMDc1OSAxMDA2NDQKLS0tIGEvZHJpdmVycy9n
cHUvZHJtL2k5MTUvaTkxNV9kcnYuaAorKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2Ry
di5oCkBAIC02MTQsOCArNjE0LDE2IEBAIHN0cnVjdCBpOTE1X2dlbV9tbSB7CiAKICNkZWZpbmUg
STkxNV9JRExFX0VOR0lORVNfVElNRU9VVCAoMjAwKSAvKiBpbiBtcyAqLwogCit1bnNpZ25lZCBs
b25nIGk5MTVfZmVuY2VfY29udGV4dF90aW1lb3V0KGNvbnN0IHN0cnVjdCBkcm1faTkxNV9wcml2
YXRlICppOTE1LAorCQkJCQkgdTY0IGNvbnRleHQpOworCitzdGF0aWMgaW5saW5lIHVuc2lnbmVk
IGxvbmcKK2k5MTVfZmVuY2VfdGltZW91dChjb25zdCBzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAq
aTkxNSkKK3sKKwlyZXR1cm4gaTkxNV9mZW5jZV9jb250ZXh0X3RpbWVvdXQoaTkxNSwgVTY0X01B
WCk7Cit9CisKICNkZWZpbmUgSTkxNV9SRVNFVF9USU1FT1VUICgxMCAqIEhaKSAvKiAxMHMgKi8K
LSNkZWZpbmUgSTkxNV9GRU5DRV9USU1FT1VUICgxMCAqIEhaKSAvKiAxMHMgKi8KIAogI2RlZmlu
ZSBJOTE1X0VOR0lORV9ERUFEX1RJTUVPVVQgICg0ICogSFopICAvKiBTZXFubywgaGVhZCBhbmQg
c3VidW5pdHMgZGVhZCAqLwogI2RlZmluZSBJOTE1X1NFUU5PX0RFQURfVElNRU9VVCAgICgxMiAq
IEhaKSAvKiBTZXFubyBkZWFkIHdpdGggYWN0aXZlIGhlYWQgKi8KZGlmZiAtLWdpdCBhL2RyaXZl
cnMvZ3B1L2RybS9pOTE1L2k5MTVfcmVxdWVzdC5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkx
NV9yZXF1ZXN0LmMKaW5kZXggOTJmYTUyNjdiY2NlLi44YTE3NTBjNjllZjAgMTAwNjQ0Ci0tLSBh
L2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfcmVxdWVzdC5jCisrKyBiL2RyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2k5MTVfcmVxdWVzdC5jCkBAIC0xMTcyLDcgKzExNzIsOCBAQCBpOTE1X3JlcXVlc3Rf
YXdhaXRfcHJveHkoc3RydWN0IGk5MTVfcmVxdWVzdCAqcnEsIHN0cnVjdCBkbWFfZmVuY2UgKmZl
bmNlKQogCSAqIFdhaXQgdW50aWwgd2Uga25vdyB0aGUgcmVhbCBmZW5jZSBzbyB0aGF0IGNhbiBv
cHRpbWlzZSB0aGUKIAkgKiBpbnRlci1mZW5jZSBzeW5jaHJvbmlzYXRpb24uCiAJICovCi0JcmV0
dXJuIF9faTkxNV9yZXF1ZXN0X2F3YWl0X3Byb3h5KHJxLCBmZW5jZSwgSTkxNV9GRU5DRV9USU1F
T1VULAorCXJldHVybiBfX2k5MTVfcmVxdWVzdF9hd2FpdF9wcm94eShycSwgZmVuY2UsCisJCQkJ
CSAgaTkxNV9mZW5jZV90aW1lb3V0KHJxLT5pOTE1KSwKIAkJCQkJICBhd2FpdF9wcm94eSwgTlVM
TCk7CiB9CiAKQEAgLTEyMjYsNyArMTIyNyw4IEBAIGk5MTVfcmVxdWVzdF9hd2FpdF9kbWFfZmVu
Y2Uoc3RydWN0IGk5MTVfcmVxdWVzdCAqcnEsIHN0cnVjdCBkbWFfZmVuY2UgKmZlbmNlKQogCQkJ
cmV0ID0gaTkxNV9yZXF1ZXN0X2F3YWl0X3Byb3h5KHJxLCBmZW5jZSk7CiAJCWVsc2UKIAkJCXJl
dCA9IGk5MTVfc3dfZmVuY2VfYXdhaXRfZG1hX2ZlbmNlKCZycS0+c3VibWl0LCBmZW5jZSwKLQkJ
CQkJCQkgICAgZmVuY2UtPmNvbnRleHQgPyBJOTE1X0ZFTkNFX1RJTUVPVVQgOiAwLAorCQkJCQkJ
CSAgICBpOTE1X2ZlbmNlX2NvbnRleHRfdGltZW91dChycS0+aTkxNSwKKwkJCQkJCQkJCQkgICAg
ICAgZmVuY2UtPmNvbnRleHQpLAogCQkJCQkJCSAgICBJOTE1X0ZFTkNFX0dGUCk7CiAJCWlmIChy
ZXQgPCAwKQogCQkJcmV0dXJuIHJldDsKQEAgLTEzNDIsNyArMTM0NCw4IEBAIGk5MTVfcmVxdWVz
dF9hd2FpdF9wcm94eV9leGVjdXRpb24oc3RydWN0IGk5MTVfcmVxdWVzdCAqcnEsCiAJICogYmUg
YWJsZSB0byBob29rIGludG8gaXRzIGV4ZWN1dGlvbiwgYXMgb3Bwb3NlZCB0byB3YWl0aW5nIGZv
cgogCSAqIGl0cyBjb21wbGV0aW9uLgogCSAqLwotCXJldHVybiBfX2k5MTVfcmVxdWVzdF9hd2Fp
dF9wcm94eShycSwgZmVuY2UsIEk5MTVfRkVOQ0VfVElNRU9VVCwKKwlyZXR1cm4gX19pOTE1X3Jl
cXVlc3RfYXdhaXRfcHJveHkocnEsIGZlbmNlLAorCQkJCQkgIGk5MTVfZmVuY2VfdGltZW91dChy
cS0+aTkxNSksCiAJCQkJCSAgZXhlY3V0aW9uX3Byb3h5LCBob29rKTsKIH0KIApAQCAtMTM4OCw3
ICsxMzkxLDcgQEAgaTkxNV9yZXF1ZXN0X2F3YWl0X2V4ZWN1dGlvbihzdHJ1Y3QgaTkxNV9yZXF1
ZXN0ICpycSwKIAkJCQkJCQkJIGhvb2spOwogCQllbHNlCiAJCQlyZXQgPSBpOTE1X3N3X2ZlbmNl
X2F3YWl0X2RtYV9mZW5jZSgmcnEtPnN1Ym1pdCwgZmVuY2UsCi0JCQkJCQkJICAgIEk5MTVfRkVO
Q0VfVElNRU9VVCwKKwkJCQkJCQkgICAgaTkxNV9mZW5jZV90aW1lb3V0KHJxLT5pOTE1KSwKIAkJ
CQkJCQkgICAgSTkxNV9GRU5DRV9HRlApOwogCQlpZiAocmV0IDwgMCkKIAkJCXJldHVybiByZXQ7
Ci0tIAoyLjIwLjEKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fCkludGVsLWdmeCBtYWlsaW5nIGxpc3QKSW50ZWwtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9y
ZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2ludGVsLWdm
eAo=

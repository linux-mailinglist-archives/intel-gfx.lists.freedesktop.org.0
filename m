Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 6A007BD7F6
	for <lists+intel-gfx@lfdr.de>; Wed, 25 Sep 2019 07:53:12 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 4893B6EB27;
	Wed, 25 Sep 2019 05:53:10 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga02.intel.com (mga02.intel.com [134.134.136.20])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 470996EB27
 for <intel-gfx@lists.freedesktop.org>; Wed, 25 Sep 2019 05:53:08 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from fmsmga004.fm.intel.com ([10.253.24.48])
 by orsmga101.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 24 Sep 2019 22:53:07 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.64,546,1559545200"; d="scan'208";a="213934817"
Received: from mdroper-desk1.fm.intel.com ([10.1.27.135])
 by fmsmga004.fm.intel.com with ESMTP; 24 Sep 2019 22:53:07 -0700
From: Matt Roper <matthew.d.roper@intel.com>
To: intel-gfx@lists.freedesktop.org
Date: Tue, 24 Sep 2019 22:53:11 -0700
Message-Id: <20190925055311.18086-1-matthew.d.roper@intel.com>
X-Mailer: git-send-email 2.21.0
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH] drm/i915: Small joiner RAM buffer size is
 platform-specific
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

QWNjb3JkaW5nIHRvIHRoZSBic3BlYywgR0xLL0NOTCBoYXZlIGEgc21hbGxlciBzbWFsbCBqb2lu
ZXIgUkFNIGJ1ZmZlcgp0aGFuIElDTCsuICBUaGlzIGZlZWxzIGxpa2Ugc29tZXRoaW5nIHRoYXQg
Y291bGQgZWFzaWx5IGNoYW5nZSBhZ2FpbiBvbgpmdXR1cmUgcGxhdGZvcm1zLCBzbyBsZXQncyBq
dXN0IGFkZCBhIGZ1bmN0aW9uIHRvIHJldHVybiB0aGUgcHJvcGVyCnBlci1wbGF0Zm9ybSBidWZm
ZXIgc2l6ZS4gIFRoYXQgbWF5IGFsc28gc2xpZ2h0bHkgc2ltcGxpZnkgdGhlIHVwY29taW5nCmJp
Z2pvaW5lciBlbmFibGluZy4KClNpbmNlIHdlIGhhdmUgdG8gY2hhbmdlIGludGVsX2RwX2RzY19n
ZXRfb3V0cHV0X2JwcCgpJ3Mgc2lnbmF0dXJlIHRvCnBhc3MgdGhlIGRldl9wcml2IGRvd24gZm9y
IHRoZSBwbGF0Zm9ybSBjaGVjaywgbGV0J3MgdGFrZSB0aGUKb3Bwb3J0dW5pdHkgdG8gYWxzbyBt
YWtlIHRoYXQgZnVuY3Rpb24gc3RhdGljIHNpbmNlIGl0IGlzbid0IHVzZWQKb3V0c2lkZSB0aGUg
aW50ZWxfZHAgZmlsZS4KCkJzcGVjOiAyMDM4OApCc3BlYzogNDkyNTkKQ2M6IE1hbmFzaSBOYXZh
cmUgPG1hbmFzaS5kLm5hdmFyZUBpbnRlbC5jb20+CkNjOiBNYWFydGVuIExhbmtob3JzdCA8bWFh
cnRlbi5sYW5raG9yc3RAbGludXguaW50ZWwuY29tPgpTaWduZWQtb2ZmLWJ5OiBNYXR0IFJvcGVy
IDxtYXR0aGV3LmQucm9wZXJAaW50ZWwuY29tPgotLS0KIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2Rp
c3BsYXkvaW50ZWxfZHAuYyB8IDI5ICsrKysrKysrKysrKysrKysrKy0tLS0tLS0KIGRyaXZlcnMv
Z3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZHAuaCB8ICAyIC0tCiAyIGZpbGVzIGNoYW5nZWQs
IDIxIGluc2VydGlvbnMoKyksIDEwIGRlbGV0aW9ucygtKQoKZGlmZiAtLWdpdCBhL2RyaXZlcnMv
Z3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZHAuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rp
c3BsYXkvaW50ZWxfZHAuYwppbmRleCA4Mjk1NTlmOTc0NDAuLmUzOGRiNzI3OGNmMiAxMDA2NDQK
LS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kcC5jCisrKyBiL2RyaXZl
cnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZHAuYwpAQCAtNjgsOSArNjgsNiBAQAogCiAj
ZGVmaW5lIERQX0RQUlhfRVNJX0xFTiAxNAogCi0vKiBEUCBEU0Mgc21hbGwgam9pbmVyIGhhcyAy
IEZJRk9zIGVhY2ggb2YgNjQwIHggNiBieXRlcyAqLwotI2RlZmluZSBEUF9EU0NfTUFYX1NNQUxM
X0pPSU5FUl9SQU1fQlVGRkVSCTYxNDQwCi0KIC8qIERQIERTQyB0aHJvdWdocHV0IHZhbHVlcyB1
c2VkIGZvciBzbGljZSBjb3VudCBjYWxjdWxhdGlvbnMgS1BpeGVscy9zICovCiAjZGVmaW5lIERQ
X0RTQ19QRUFLX1BJWEVMX1JBVEUJCQkyNzIwMDAwCiAjZGVmaW5lIERQX0RTQ19NQVhfRU5DX1RI
Uk9VR0hQVVRfMAkJMzQwMDAwCkBAIC0xNjQsNiArMTYxLDEwIEBAIHN0YXRpYyB2b2lkIHZsdl9z
dGVhbF9wb3dlcl9zZXF1ZW5jZXIoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2LAog
CQkJCSAgICAgIGVudW0gcGlwZSBwaXBlKTsKIHN0YXRpYyB2b2lkIGludGVsX2RwX3Vuc2V0X2Vk
aWQoc3RydWN0IGludGVsX2RwICppbnRlbF9kcCk7CiAKK3N0YXRpYyB1MTYgaW50ZWxfZHBfZHNj
X2dldF9vdXRwdXRfYnBwKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICppOTE1LAorCQkJCSAgICAg
ICBpbnQgbGlua19jbG9jaywgdTggbGFuZV9jb3VudCwKKwkJCQkgICAgICAgaW50IG1vZGVfY2xv
Y2ssIGludCBtb2RlX2hkaXNwbGF5KTsKKwogLyogdXBkYXRlIHNpbmsgcmF0ZXMgZnJvbSBkcGNk
ICovCiBzdGF0aWMgdm9pZCBpbnRlbF9kcF9zZXRfc2lua19yYXRlcyhzdHJ1Y3QgaW50ZWxfZHAg
KmludGVsX2RwKQogewpAQCAtNTQxLDcgKzU0Miw4IEBAIGludGVsX2RwX21vZGVfdmFsaWQoc3Ry
dWN0IGRybV9jb25uZWN0b3IgKmNvbm5lY3RvciwKIAkJCQkJCQkJdHJ1ZSk7CiAJCX0gZWxzZSBp
ZiAoZHJtX2RwX3Npbmtfc3VwcG9ydHNfZmVjKGludGVsX2RwLT5mZWNfY2FwYWJsZSkpIHsKIAkJ
CWRzY19tYXhfb3V0cHV0X2JwcCA9Ci0JCQkJaW50ZWxfZHBfZHNjX2dldF9vdXRwdXRfYnBwKG1h
eF9saW5rX2Nsb2NrLAorCQkJCWludGVsX2RwX2RzY19nZXRfb3V0cHV0X2JwcChkZXZfcHJpdiwK
KwkJCQkJCQkgICAgbWF4X2xpbmtfY2xvY2ssCiAJCQkJCQkJICAgIG1heF9sYW5lcywKIAkJCQkJ
CQkgICAgdGFyZ2V0X2Nsb2NrLAogCQkJCQkJCSAgICBtb2RlLT5oZGlzcGxheSkgPj4gNDsKQEAg
LTE5NjgsNyArMTk3MCw4IEBAIHN0YXRpYyBpbnQgaW50ZWxfZHBfZHNjX2NvbXB1dGVfY29uZmln
KHN0cnVjdCBpbnRlbF9kcCAqaW50ZWxfZHAsCiAJCXU4IGRzY19kcF9zbGljZV9jb3VudDsKIAog
CQlkc2NfbWF4X291dHB1dF9icHAgPQotCQkJaW50ZWxfZHBfZHNjX2dldF9vdXRwdXRfYnBwKHBp
cGVfY29uZmlnLT5wb3J0X2Nsb2NrLAorCQkJaW50ZWxfZHBfZHNjX2dldF9vdXRwdXRfYnBwKGRl
dl9wcml2LAorCQkJCQkJICAgIHBpcGVfY29uZmlnLT5wb3J0X2Nsb2NrLAogCQkJCQkJICAgIHBp
cGVfY29uZmlnLT5sYW5lX2NvdW50LAogCQkJCQkJICAgIGFkanVzdGVkX21vZGUtPmNydGNfY2xv
Y2ssCiAJCQkJCQkgICAgYWRqdXN0ZWRfbW9kZS0+Y3J0Y19oZGlzcGxheSk7CkBAIC00MzczLDgg
KzQzNzYsMTggQEAgaW50ZWxfZHBfZ2V0X3NpbmtfaXJxX2VzaShzdHJ1Y3QgaW50ZWxfZHAgKmlu
dGVsX2RwLCB1OCAqc2lua19pcnFfdmVjdG9yKQogCQlEUF9EUFJYX0VTSV9MRU47CiB9CiAKLXUx
NiBpbnRlbF9kcF9kc2NfZ2V0X291dHB1dF9icHAoaW50IGxpbmtfY2xvY2ssIHU4IGxhbmVfY291
bnQsCi0JCQkJaW50IG1vZGVfY2xvY2ssIGludCBtb2RlX2hkaXNwbGF5KQorc3RhdGljIGludAor
c21hbGxfam9pbmVyX3JhbV9zaXplX2JpdHMoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUp
Cit7CisJaWYgKElOVEVMX0dFTihpOTE1KSA+PSAxMSkKKwkJcmV0dXJuIDc2ODAgKiA4OworCWVs
c2UKKwkJcmV0dXJuIDYxNDQgKiA4OworfQorCitzdGF0aWMgdTE2IGludGVsX2RwX2RzY19nZXRf
b3V0cHV0X2JwcChzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSwKKwkJCQkgICAgICAgaW50
IGxpbmtfY2xvY2ssIHU4IGxhbmVfY291bnQsCisJCQkJICAgICAgIGludCBtb2RlX2Nsb2NrLCBp
bnQgbW9kZV9oZGlzcGxheSkKIHsKIAl1MTYgYml0c19wZXJfcGl4ZWwsIG1heF9icHBfc21hbGxf
am9pbmVyX3JhbTsKIAlpbnQgaTsKQEAgLTQzOTAsNyArNDQwMyw3IEBAIHUxNiBpbnRlbF9kcF9k
c2NfZ2V0X291dHB1dF9icHAoaW50IGxpbmtfY2xvY2ssIHU4IGxhbmVfY291bnQsCiAJCW1vZGVf
Y2xvY2s7CiAKIAkvKiBTbWFsbCBKb2luZXIgQ2hlY2s6IG91dHB1dCBicHAgPD0gam9pbmVyIFJB
TSAoYml0cykgLyBIb3Jpei4gd2lkdGggKi8KLQltYXhfYnBwX3NtYWxsX2pvaW5lcl9yYW0gPSBE
UF9EU0NfTUFYX1NNQUxMX0pPSU5FUl9SQU1fQlVGRkVSIC8KKwltYXhfYnBwX3NtYWxsX2pvaW5l
cl9yYW0gPSBzbWFsbF9qb2luZXJfcmFtX3NpemVfYml0cyhpOTE1KSAvCiAJCW1vZGVfaGRpc3Bs
YXk7CiAKIAkvKgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRl
bF9kcC5oIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kcC5oCmluZGV4IGUw
MWQxZjg5NDA5ZC4uMWJjYmY0NGIwYjRlIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkx
NS9kaXNwbGF5L2ludGVsX2RwLmgKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9p
bnRlbF9kcC5oCkBAIC0xMDMsOCArMTAzLDYgQEAgYm9vbCBpbnRlbF9kcF9zb3VyY2Vfc3VwcG9y
dHNfaGJyMihzdHJ1Y3QgaW50ZWxfZHAgKmludGVsX2RwKTsKIGJvb2wgaW50ZWxfZHBfc291cmNl
X3N1cHBvcnRzX2hicjMoc3RydWN0IGludGVsX2RwICppbnRlbF9kcCk7CiBib29sCiBpbnRlbF9k
cF9nZXRfbGlua19zdGF0dXMoc3RydWN0IGludGVsX2RwICppbnRlbF9kcCwgdTggKmxpbmtfc3Rh
dHVzKTsKLXUxNiBpbnRlbF9kcF9kc2NfZ2V0X291dHB1dF9icHAoaW50IGxpbmtfY2xvY2ssIHU4
IGxhbmVfY291bnQsCi0JCQkJaW50IG1vZGVfY2xvY2ssIGludCBtb2RlX2hkaXNwbGF5KTsKIHU4
IGludGVsX2RwX2RzY19nZXRfc2xpY2VfY291bnQoc3RydWN0IGludGVsX2RwICppbnRlbF9kcCwg
aW50IG1vZGVfY2xvY2ssCiAJCQkJaW50IG1vZGVfaGRpc3BsYXkpOwogCi0tIAoyLjIxLjAKCl9f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCkludGVsLWdmeCBt
YWlsaW5nIGxpc3QKSW50ZWwtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3Rz
LmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2ludGVsLWdmeA==

Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id A1320166E05
	for <lists+intel-gfx@lfdr.de>; Fri, 21 Feb 2020 04:46:02 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id A88AD6E14C;
	Fri, 21 Feb 2020 03:45:59 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga18.intel.com (mga18.intel.com [134.134.136.126])
 by gabe.freedesktop.org (Postfix) with ESMTPS id BB2FD6E14C
 for <intel-gfx@lists.freedesktop.org>; Fri, 21 Feb 2020 03:45:58 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from fmsmga002.fm.intel.com ([10.253.24.26])
 by orsmga106.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 20 Feb 2020 19:45:58 -0800
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.70,466,1574150400"; d="scan'208";a="269848209"
Received: from shawnle1-build-machine.itwn.intel.com ([10.5.253.9])
 by fmsmga002.fm.intel.com with ESMTP; 20 Feb 2020 19:45:56 -0800
From: Lee Shawn C <shawn.c.lee@intel.com>
To: intel-gfx@lists.freedesktop.org
Date: Fri, 21 Feb 2020 19:42:31 +0800
Message-Id: <20200221114231.14612-1-shawn.c.lee@intel.com>
X-Mailer: git-send-email 2.17.1
In-Reply-To: <20200205173316.21739-1-shawn.c.lee@intel.com>
References: <20200205173316.21739-1-shawn.c.lee@intel.com>
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH v2] drm/i915/lspcon: Make sure link rate did not
 exceed downstream and lspcon limitation
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: Cooper Chiou <cooper.chiou@intel.com>, Sam McNally <sammc@google.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

V2hpbGUgbW9kZSBzZXR0aW5nLCBkcml2ZXIgd291bGQgY2FsY3VsYXRlIG1vZGUgcmF0ZSBiYXNl
ZCBvbgpyZXNvbHV0aW9uIGFuZCBicHAuIEFuZCBjaG9vc2UgdGhlIGJlc3QgYnBwIHRoYXQgZGlk
IG5vdCBleGNlZWQKRFAgYmFuZHdpZHRkLgoKQnV0IExTUENPTiBoYWQgbW9yZSByZXN0cmljdGlv
biBkdWUgdG8gaXQgY29udmVydCBEUCB0byBIRE1JLgpEcml2ZXIgc2hvdWxkIHJlc3BlY3QgSERN
SSdzIGJhbmR3aWR0aCBsaW1pdGF0aW9uIGlmIExTUENPTgp3YXMgYWN0aXZlLiBUaGlzIGNoYW5n
ZSB3b3VsZCBpZ25vcmUgdGhlIGJwcCB3aGVuIGl0cyByZXF1aXJlZApvdXRwdXQgYmFuZHdpZHRo
IGFscmVhZHkgb3ZlciBIRE1JIDIuMCBvciAxLjQgc3BlYy4KCnYyOiBjb252ZXJ0IGluZm8tPm1h
eF90bWRzX2Nsb2NrIHRvIGJ5dGUgY2xvY2sgZm9yIGNvbXBhcmlzb24uCgpDYzogSW1yZSBEZWFr
IDxpbXJlLmRlYWtAaW50ZWwuY29tPgpDYzogVmlsbGUgU3lyasOkbMOkIDx2aWxsZS5zeXJqYWxh
QGxpbnV4LmludGVsLmNvbT4KQ2M6IE1hYXJ0ZW4gTGFua2hvcnN0IDxtYWFydGVuLmxhbmtob3Jz
dEBsaW51eC5pbnRlbC5jb20+CkNjOiBKYW5pIE5pa3VsYSA8amFuaS5uaWt1bGFAbGludXguaW50
ZWwuY29tPgpDYzogQ29vcGVyIENoaW91IDxjb29wZXIuY2hpb3VAaW50ZWwuY29tPgpDYzogU2Ft
IE1jTmFsbHkgPHNhbW1jQGdvb2dsZS5jb20+ClNpZ25lZC1vZmYtYnk6IExlZSBTaGF3biBDIDxz
aGF3bi5jLmxlZUBpbnRlbC5jb20+Ci0tLQogZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9p
bnRlbF9kcC5jICAgICB8IDE4ICsrKysrKysrKysrKysrKysrKwogZHJpdmVycy9ncHUvZHJtL2k5
MTUvZGlzcGxheS9pbnRlbF9sc3Bjb24uYyB8IDEwICsrKysrKysrKysKIGRyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2Rpc3BsYXkvaW50ZWxfbHNwY29uLmggfCAgMSArCiAzIGZpbGVzIGNoYW5nZWQsIDI5
IGluc2VydGlvbnMoKykKCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5
L2ludGVsX2RwLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2RwLmMKaW5k
ZXggNmVhMGNiOGU4NWUxLi4zYTM1Mjg0N2FmZjQgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2Rpc3BsYXkvaW50ZWxfZHAuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNw
bGF5L2ludGVsX2RwLmMKQEAgLTE5OTMsNiArMTk5Myw5IEBAIGludGVsX2RwX2NvbXB1dGVfbGlu
a19jb25maWdfd2lkZShzdHJ1Y3QgaW50ZWxfZHAgKmludGVsX2RwLAogCQkJCSAgY29uc3Qgc3Ry
dWN0IGxpbmtfY29uZmlnX2xpbWl0cyAqbGltaXRzKQogewogCXN0cnVjdCBkcm1fZGlzcGxheV9t
b2RlICphZGp1c3RlZF9tb2RlID0gJnBpcGVfY29uZmlnLT5ody5hZGp1c3RlZF9tb2RlOworCXN0
cnVjdCBpbnRlbF9jb25uZWN0b3IgKmNvbm5lY3RvciA9IGludGVsX2RwLT5hdHRhY2hlZF9jb25u
ZWN0b3I7CisJY29uc3Qgc3RydWN0IGRybV9kaXNwbGF5X2luZm8gKmluZm8gPSAmY29ubmVjdG9y
LT5iYXNlLmRpc3BsYXlfaW5mbzsKKwlzdHJ1Y3QgaW50ZWxfbHNwY29uICpsc3Bjb24gPSBkcF90
b19sc3Bjb24oaW50ZWxfZHApOwogCWludCBicHAsIGNsb2NrLCBsYW5lX2NvdW50OwogCWludCBt
b2RlX3JhdGUsIGxpbmtfY2xvY2ssIGxpbmtfYXZhaWw7CiAKQEAgLTIwMDIsNiArMjAwNSwyMSBA
QCBpbnRlbF9kcF9jb21wdXRlX2xpbmtfY29uZmlnX3dpZGUoc3RydWN0IGludGVsX2RwICppbnRl
bF9kcCwKIAkJbW9kZV9yYXRlID0gaW50ZWxfZHBfbGlua19yZXF1aXJlZChhZGp1c3RlZF9tb2Rl
LT5jcnRjX2Nsb2NrLAogCQkJCQkJICAgb3V0cHV0X2JwcCk7CiAKKwkJLyoKKwkJICogQnlwYXNz
IHRoaXMgbW9kZSBpZiByZXF1aXJlIGJhbmR3aWR0aCBvdmVyIGRvd25zdHJlYW0KKwkJICogbGlt
aXRhdGlvbiBvciBIRE1JIHNwZWMgd2hlbiBMU1BDT04gYWN0aXZlLgorCQkgKi8KKwkJaWYgKGxz
cGNvbi0+YWN0aXZlKSB7CisJCQlpbnQgbWF4X2Nsb2NrX3JhdGUgPSBsc3Bjb25fbWF4X3JhdGUo
bHNwY29uKTsKKworCQkJaWYgKGluZm8tPm1heF90bWRzX2Nsb2NrKQorCQkJCW1heF9jbG9ja19y
YXRlID0gbWluKG1heF9jbG9ja19yYXRlLAorCQkJCQkJICAgICBESVZfUk9VTkRfVVAoaW5mby0+
bWF4X3RtZHNfY2xvY2sgKiAyNCwgOCkpOworCisJCQlpZiAobW9kZV9yYXRlID4gbWF4X2Nsb2Nr
X3JhdGUpCisJCQkJY29udGludWU7CisJCX0KKwogCQlmb3IgKGNsb2NrID0gbGltaXRzLT5taW5f
Y2xvY2s7IGNsb2NrIDw9IGxpbWl0cy0+bWF4X2Nsb2NrOyBjbG9jaysrKSB7CiAJCQlmb3IgKGxh
bmVfY291bnQgPSBsaW1pdHMtPm1pbl9sYW5lX2NvdW50OwogCQkJICAgICBsYW5lX2NvdW50IDw9
IGxpbWl0cy0+bWF4X2xhbmVfY291bnQ7CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkx
NS9kaXNwbGF5L2ludGVsX2xzcGNvbi5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9p
bnRlbF9sc3Bjb24uYwppbmRleCBkODA3YzU2NDhjODcuLjNiMDQzODM1NmE4OCAxMDA2NDQKLS0t
IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9sc3Bjb24uYworKysgYi9kcml2
ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2xzcGNvbi5jCkBAIC01MTgsNiArNTE4LDE2
IEBAIHZvaWQgbHNwY29uX3NldF9pbmZvZnJhbWVzKHN0cnVjdCBpbnRlbF9lbmNvZGVyICplbmNv
ZGVyLAogCQkJCSAgYnVmLCByZXQpOwogfQogCitpbnQgbHNwY29uX21heF9yYXRlKHN0cnVjdCBp
bnRlbF9sc3Bjb24gKmxzcGNvbikKK3sKKwllbnVtIGRybV9sc3Bjb25fbW9kZSBjdXJyZW50X21v
ZGUgPSBsc3Bjb25fZ2V0X2N1cnJlbnRfbW9kZShsc3Bjb24pOworCisJaWYgKGN1cnJlbnRfbW9k
ZSA9PSBEUk1fTFNQQ09OX01PREVfTFMpCisJCXJldHVybiBESVZfUk9VTkRfVVAoMzQwMDAwICog
MjQsIDgpOworCisJcmV0dXJuIERJVl9ST1VORF9VUCg2MDAwMDAgKiAyNCwgOCk7Cit9CisKIHUz
MiBsc3Bjb25faW5mb2ZyYW1lc19lbmFibGVkKHN0cnVjdCBpbnRlbF9lbmNvZGVyICplbmNvZGVy
LAogCQkJICAgICAgY29uc3Qgc3RydWN0IGludGVsX2NydGNfc3RhdGUgKnBpcGVfY29uZmlnKQog
ewpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9sc3Bjb24u
aCBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfbHNwY29uLmgKaW5kZXggMzdj
ZmRkZjhhOWM1Li5iNTg0YzAyYWIzM2IgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1
L2Rpc3BsYXkvaW50ZWxfbHNwY29uLmgKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxh
eS9pbnRlbF9sc3Bjb24uaApAQCAtMTgsNiArMTgsNyBAQCBzdHJ1Y3QgaW50ZWxfbHNwY29uOwog
Ym9vbCBsc3Bjb25faW5pdChzdHJ1Y3QgaW50ZWxfZGlnaXRhbF9wb3J0ICppbnRlbF9kaWdfcG9y
dCk7CiB2b2lkIGxzcGNvbl9yZXN1bWUoc3RydWN0IGludGVsX2xzcGNvbiAqbHNwY29uKTsKIHZv
aWQgbHNwY29uX3dhaXRfcGNvbl9tb2RlKHN0cnVjdCBpbnRlbF9sc3Bjb24gKmxzcGNvbik7Citp
bnQgbHNwY29uX21heF9yYXRlKHN0cnVjdCBpbnRlbF9sc3Bjb24gKmxzcGNvbik7CiB2b2lkIGxz
cGNvbl93cml0ZV9pbmZvZnJhbWUoc3RydWN0IGludGVsX2VuY29kZXIgKmVuY29kZXIsCiAJCQkg
ICAgY29uc3Qgc3RydWN0IGludGVsX2NydGNfc3RhdGUgKmNydGNfc3RhdGUsCiAJCQkgICAgdW5z
aWduZWQgaW50IHR5cGUsCi0tIAoyLjE3LjEKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fCkludGVsLWdmeCBtYWlsaW5nIGxpc3QKSW50ZWwtZ2Z4QGxpc3Rz
LmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xp
c3RpbmZvL2ludGVsLWdmeAo=

Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 6464F103989
	for <lists+intel-gfx@lfdr.de>; Wed, 20 Nov 2019 13:07:46 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id AC8A36E419;
	Wed, 20 Nov 2019 12:07:44 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from fireflyinternet.com (mail.fireflyinternet.com [109.228.58.192])
 by gabe.freedesktop.org (Postfix) with ESMTPS id EBA416E419
 for <intel-gfx@lists.freedesktop.org>; Wed, 20 Nov 2019 12:07:42 +0000 (UTC)
X-Default-Received-SPF: pass (skip=forwardok (res=PASS))
 x-ip-name=78.156.65.138; 
Received: from localhost (unverified [78.156.65.138]) 
 by fireflyinternet.com (Firefly Internet (M1)) with ESMTP (TLS) id
 19271068-1500050 for multiple; Wed, 20 Nov 2019 12:07:40 +0000
MIME-Version: 1.0
From: Chris Wilson <chris@chris-wilson.co.uk>
User-Agent: alot/0.6
To: Tvrtko Ursulin <tvrtko.ursulin@linux.intel.com>,
 intel-gfx@lists.freedesktop.org
References: <20191120093302.3723715-1-chris@chris-wilson.co.uk>
 <20191120093302.3723715-3-chris@chris-wilson.co.uk>
 <c8196701-7459-5f02-ee09-d48c6216b547@linux.intel.com>
In-Reply-To: <c8196701-7459-5f02-ee09-d48c6216b547@linux.intel.com>
Message-ID: <157425165727.13839.12483018227008886642@skylake-alporthouse-com>
Date: Wed, 20 Nov 2019 12:07:37 +0000
Subject: Re: [Intel-gfx] [PATCH 3/9] drm/i915/gt: Unlock engine-pm after
 queuing the kernel context switch
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

UXVvdGluZyBUdnJ0a28gVXJzdWxpbiAoMjAxOS0xMS0yMCAxMTo1ODoyNykKPiAKPiBPbiAyMC8x
MS8yMDE5IDA5OjMyLCBDaHJpcyBXaWxzb24gd3JvdGU6Cj4gPiBJbiBjb21taXQgYTc5Y2E2NTZi
NjQ4ICgiZHJtL2k5MTU6IFB1c2ggdGhlIHdha2VyZWYtPmNvdW50IGRlZmVycmFsIHRvCj4gPiB0
aGUgYmFja2VuZCIpLCBJIGVycm9uZW91c2x5IGNvbmNsdWRlZCB0aGF0IHdlIGxhc3QgbW9kaWZ5
IHRoZSBlbmdpbmUKPiA+IGluc2lkZSBfX2k5MTVfcmVxdWVzdF9jb21taXQoKSBtZWFuaW5nIHRo
YXQgd2UgY291bGQgZW5hYmxlIGNvbmN1cnJlbnQKPiA+IHN1Ym1pc3Npb24gZm9yIHVzZXJzcGFj
ZSBhcyB3ZSBlbnF1ZXVlZCB0aGlzIHJlcXVlc3QuIEhvd2V2ZXIsIHRoaXMKPiA+IGZhbGxzIGlu
dG8gYSB0cmFwIHdpdGggb3RoZXIgdXNlcnMgb2YgdGhlIGVuZ2luZS0+a2VybmVsX2NvbnRleHQg
d2FraW5nCj4gPiB1cCBhbmQgc3VibWl0dGluZyB0aGVpciByZXF1ZXN0IGJlZm9yZSB0aGUgaWRs
ZS1zd2l0Y2ggaXMgcXVldWVkLCB3aXRoCj4gPiB0aGUgcmVzdWx0IHRoYXQgdGhlIGtlcm5lbF9j
b250ZXh0IGlzIGV4ZWN1dGVkIG91dC1vZi1zZXF1ZW5jZSBtb3N0Cj4gPiBsaWtlbHkgdXBzZXR0
aW5nIHRoZSBHUFUgYW5kIGNlcnRhaW5seSBvdXJzZWx2ZXMgd2hlbiB3ZSB0cnkgdG8gcmV0aXJl
Cj4gPiB0aGUgb3V0LW9mLXNlcXVlbmNlIHJlcXVlc3RzLgo+ID4gCj4gPiBBcyBzdWNoIHdlIG5l
ZWQgdG8gaG9sZCBvbnRvIHRoZSBlZmZlY3RpdmUgZW5naW5lLT5rZXJuZWxfY29udGV4dCBtdXRl
eAo+ID4gbG9jayAodmlhIHRoZSBlbmdpbmUgcG0gbXV0ZXggcHJveHkpIHVudGlsIHdlIGhhdmUg
ZmluaXNoIHF1ZXVpbmcgdGhlCj4gPiByZXF1ZXN0IHRvIHRoZSBlbmdpbmUuCj4gPiAKPiA+IHYy
OiBTZXJpYWxpc2UgYWdhaW5zdCBjb25jdXJyZW50IGludGVsX2d0X3JldGlyZV9yZXF1ZXN0cygp
Cj4gPiB2MzogRGVzY3JpYmUgdGhlIGhhaXJ5IGxvY2tpbmcgc2NoZW1lIHdpdGggaW50ZWxfZ3Rf
cmV0aXJlX3JlcXVlc3RzKCkKPiA+IGZvciBmdXR1cmUgcmVmZXJlbmNlLgo+ID4gdjQ6IENvbWJp
bmUgdGltZWxpbmUtPmxvY2sgYW5kIGVuZ2luZSBwbSByZWxlYXNlOyBpdCdzIGhhaXJ5Lgo+ID4g
Cj4gPiBGaXhlczogYTc5Y2E2NTZiNjQ4ICgiZHJtL2k5MTU6IFB1c2ggdGhlIHdha2VyZWYtPmNv
dW50IGRlZmVycmFsIHRvIHRoZSBiYWNrZW5kIikKPiA+IFNpZ25lZC1vZmYtYnk6IENocmlzIFdp
bHNvbiA8Y2hyaXNAY2hyaXMtd2lsc29uLmNvLnVrPgo+ID4gQ2M6IE1pa2EgS3VvcHBhbGEgPG1p
a2Eua3VvcHBhbGFAbGludXguaW50ZWwuY29tPgo+ID4gQ2M6IFR2cnRrbyBVcnN1bGluIDx0dnJ0
a28udXJzdWxpbkBpbnRlbC5jb20+Cj4gPiAtLS0KPiA+ICAgZHJpdmVycy9ncHUvZHJtL2k5MTUv
Z3QvaW50ZWxfZW5naW5lX3BtLmMgfCA0NyArKysrKysrKysrKysrKysrKysrLS0tLQo+ID4gICAx
IGZpbGUgY2hhbmdlZCwgNDAgaW5zZXJ0aW9ucygrKSwgNyBkZWxldGlvbnMoLSkKPiA+IAo+ID4g
ZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2VuZ2luZV9wbS5jIGIv
ZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZW5naW5lX3BtLmMKPiA+IGluZGV4IDNjMGY0
OTBmZjJjNy4uMWY1MTczNTdhMjY4IDEwMDY0NAo+ID4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5
MTUvZ3QvaW50ZWxfZW5naW5lX3BtLmMKPiA+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0
L2ludGVsX2VuZ2luZV9wbS5jCj4gPiBAQCAtNzMsOCArNzMsMjUgQEAgc3RhdGljIGlubGluZSB2
b2lkIF9fdGltZWxpbmVfbWFya191bmxvY2soc3RydWN0IGludGVsX2NvbnRleHQgKmNlLAo+ID4g
ICAKPiA+ICAgI2VuZGlmIC8qICFJU19FTkFCTEVEKENPTkZJR19MT0NLREVQKSAqLwo+ID4gICAK
PiA+ICtzdGF0aWMgdm9pZAo+ID4gK19faW50ZWxfdGltZWxpbmVfZW50ZXJfYW5kX3BtX3JlbGVh
c2Uoc3RydWN0IGludGVsX3RpbWVsaW5lICp0bCwKPiA+ICsgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgIHN0cnVjdCBpbnRlbF9lbmdpbmVfY3MgKmVuZ2luZSkKPiA+ICt7Cj4gPiAr
ICAgICBzdHJ1Y3QgaW50ZWxfZ3RfdGltZWxpbmVzICp0aW1lbGluZXMgPSAmZW5naW5lLT5ndC0+
dGltZWxpbmVzOwo+ID4gKwo+ID4gKyAgICAgc3Bpbl9sb2NrKCZ0aW1lbGluZXMtPmxvY2spOwo+
ID4gKwo+ID4gKyAgICAgaWYgKCFhdG9taWNfZmV0Y2hfaW5jKCZ0bC0+YWN0aXZlX2NvdW50KSkK
PiA+ICsgICAgICAgICAgICAgbGlzdF9hZGRfdGFpbCgmdGwtPmxpbmssICZ0aW1lbGluZXMtPmFj
dGl2ZV9saXN0KTsKPiAKPiBIbW0gd2l0aCB0aGVzZSBuZXcgcGFydCBpdCBtYXliZSBtYXRjaGVz
L2Fuc3dlcnMgbXkgcXVlc3Rpb24gZnJvbSAKPiAiZHJtL2k5MTUvZ3Q6IENsb3NlIHJhY2UgYmV0
d2VlbiBlbmdpbmVfcGFyayBhbmQgCj4gaW50ZWxfZ3RfcmV0aXJlX3JlcXVlc3RzIi4gSSB0aGlu
ayBhdCBsZWFzdC4gU2luY2UgaXQgbm93IGFkZHMgYSBzZWNvbmQgCj4gcGxhY2UgdGltZWxpbmUg
Y2FuIGVudGVyIHRoZSBhY3RpdmVfbGlzdC4KPiAKPiBCdXQgbm8sIHdoZXJlIGRvZXMgdGhlIGlu
dGVsX3RpbWVsaW5lX2VudGVyIHJhY2UgY29tZSBmcm9tPyBDYW4ndCBiZSAKPiB1c2Vyc3BhY2Ug
c3VibWlzc2lvbiBzaW5jZSB0aGV5IGFyZSBibG9ja2VkIG9uIHdmLT5sb2NrLgoKVGhlIHJhY2Ug
aXMgbm90IGp1c3Qgd2l0aCBpbnRlbF90aW1lbGluZV9lbnRlciwgYnV0IHdpdGgKaW50ZWxfZ3Rf
cmV0aXJlX3JlcXVlc3RzLgoKQXMgc29vbiBhcyB3ZSBhcmUgb24gdGhhdCBsaXN0LCB3ZSBtYXkg
YmUgcmV0aXJlZC4gSWYgd2UgYXJlIHJldGlyZWQKYmVmb3JlIGFkanVzdGluZyB0aGUgZW5naW5l
LT53YWtlcmVmLmNvdW50LCB3ZSBhcmUgYjBya2VkLgoKQXMgc29vbiBhcyB3ZSBhZGp1c3QgdGhl
IGVuZ2luZS0+d2FrZXJlZi5jb3VudCwgYW5vdGhlciBzdWJtaXNzaW9uIG1heQpjYWxsIGludGVs
X3RpbWVsaW5lX2VudGVyLCBhbmQgYWdhaW4gbWF5IGV2ZW4gcmV0aXJlIHRoaXMgcmVxdWVzdC4g
VGhlCmVudGVyIGl0c2VsZiBpcyBwZXJmZWN0bHkgZmluZSwgYnV0IHdlIG5lZWQgdG8gc2VyaWFs
aXNlIGFnYWluc3QgdGhlCnJldGlyZXMuCi1DaHJpcwpfX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fXwpJbnRlbC1nZnggbWFpbGluZyBsaXN0CkludGVsLWdmeEBs
aXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1h
bi9saXN0aW5mby9pbnRlbC1nZng=

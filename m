Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 70C46112D59
	for <lists+intel-gfx@lfdr.de>; Wed,  4 Dec 2019 15:19:58 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id C078F6E90A;
	Wed,  4 Dec 2019 14:19:56 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from fireflyinternet.com (mail.fireflyinternet.com [109.228.58.192])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 35A0D6E909
 for <intel-gfx@lists.freedesktop.org>; Wed,  4 Dec 2019 14:19:55 +0000 (UTC)
X-Default-Received-SPF: pass (skip=forwardok (res=PASS))
 x-ip-name=78.156.65.138; 
Received: from haswell.alporthouse.com (unverified [78.156.65.138]) 
 by fireflyinternet.com (Firefly Internet (M1)) with ESMTP id 19457779-1500050 
 for multiple; Wed, 04 Dec 2019 14:19:45 +0000
From: Chris Wilson <chris@chris-wilson.co.uk>
To: intel-gfx@lists.freedesktop.org
Date: Wed,  4 Dec 2019 14:19:46 +0000
Message-Id: <20191204141946.3774819-1-chris@chris-wilson.co.uk>
X-Mailer: git-send-email 2.24.0
In-Reply-To: <20191204112633.3649206-1-chris@chris-wilson.co.uk>
References: <20191204112633.3649206-1-chris@chris-wilson.co.uk>
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH v2] drm/i915: Copy across scheduler behaviour
 flags across submit fences
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

V2Ugd2FudCB0aGUgYm9uZGVkIHJlcXVlc3QgdG8gaGF2ZSB0aGUgc2FtZSBzY2hlZHVsZXIgcHJv
cGVydGllcyBhcyBpdHMKbWFzdGVyIHNvIHRoYXQgaXQgaXMgcGxhY2VkIGF0IHRoZSBzYW1lIGRl
cHRoIGluIHRoZSBxdWV1ZS4gRm9yIGV4YW1wbGUsCmNvbnNpZGVyIHdlIGhhdmUgcmVxdWVzdHMg
QSwgQiBhbmQgQicsIHdoZXJlIEIgJiBCJyBhcmUgYSBib25kZWQgcGFpciB0bwpydW4gaW4gcGFy
YWxsZWwgb24gdHdvIGVuZ2luZXMuCgoJQSAtPiBCCiAgICAgCSAgICAgXC0gQicKCkIgd2lsbCBy
dW4gYWZ0ZXIgQSBhbmQgc28gbWF5IGJlIHNjaGVkdWxlZCBvbiBhbiBpZGxlIGVuZ2luZSBhbmQg
d2FpdCBvbgpBIHVzaW5nIGEgc2VtYXBob3JlLiBCJyBzZWVzIEIgYmVpbmcgZXhlY3V0ZWQgYW5k
IHNvIGVudGVycyB0aGUgcXVldWUgb24KdGhlIHNhbWUgZW5naW5lIGFzIEEuIEFzIEInIGRpZCBu
b3QgaW5oZXJpdCB0aGUgc2VtYXBob3JlLWNoYWluIGZyb20gQiwKaXQgbWF5IGhhdmUgaGlnaGVy
IHByZWNlZGVuY2UgdGhhbiBBIGFuZCBzbyBwcmVlbXB0cyBleGVjdXRpb24uIEhvd2V2ZXIsCkIn
IHRoZW4gc2l0cyBvbiBhIHNlbWFwaG9yZSB3YWl0aW5nIGZvciBCLCB3aG8gaXMgd2FpdGluZyBm
b3IgQSwgd2hvIGlzCmJsb2NrZWQgYnkgQi4KCkVyZ28gQicgbmVlZHMgdG8gaW5oZXJpdCB0aGUg
c2NoZWR1bGVyIHByb3BlcnRpZXMgZnJvbSBCIChpLmUuIHRoZQpzZW1hcGhvcmUgY2hhaW4pIHNv
IHRoYXQgaXQgaXMgc2NoZWR1bGVkIHdpdGggdGhlIHNhbWUgcHJpb3JpdHkgYXMgQiBhbmQKd2ls
bCBub3QgYmUgZXhlY3V0ZWQgYWhlYWQgb2YgQnMgZGVwZW5kZW5jaWVzLgoKRnVydGhlcm1vcmUs
IHRvIHByZXZlbnQgdGhlIHByaW9yaXRpZXMgY2hhbmdpbmcgdmlhIHRoZSBleHBvc2UgZmVuY2Ug
b24KQicsIHdlIG5lZWQgdG8gY291cGxlIGluIHRoZSBkZXBlbmRlbmNpZXMgZm9yIFBJLiBUaGlz
IHJlcXVpcmVzIHVzIHRvCnJlbGF4IG91ciBzYW5pdHktY2hlY2tzIHRoYXQgZGVwZW5kZW5jaWVz
IGFyZSBzdHJpY3RseSBpbiBvcmRlci4KCkZpeGVzOiBlZTExMzY5MDhlOWIgKCJkcm0vaTkxNS9l
eGVjbGlzdHM6IFZpcnR1YWwgZW5naW5lIGJvbmRpbmciKQpUZXN0Y2FzZTogaWd0L2dlbV9leGVj
X2JhbGFuY2VyL2JvbmRlZC1jaGFpbgpUZXN0Y2FzZTogaWd0L2dlbV9leGVjX2JhbGFuY2VyL2Jv
bmRlZC1zZW1hcGhvcmUKU2lnbmVkLW9mZi1ieTogQ2hyaXMgV2lsc29uIDxjaHJpc0BjaHJpcy13
aWxzb24uY28udWs+CkNjOiBUdnJ0a28gVXJzdWxpbiA8dHZydGtvLnVyc3VsaW5AaW50ZWwuY29t
PgotLS0KVGFrZSB0d28gd2l0aCBsZXNzIGhhc19zeW5jCi0tLQogZHJpdmVycy9ncHUvZHJtL2k5
MTUvaTkxNV9yZXF1ZXN0LmMgICB8IDExNCArKysrKysrKysrKysrKysrKysrKy0tLS0tLQogZHJp
dmVycy9ncHUvZHJtL2k5MTUvaTkxNV9zY2hlZHVsZXIuYyB8ICAgMSAtCiAyIGZpbGVzIGNoYW5n
ZWQsIDg5IGluc2VydGlvbnMoKyksIDI2IGRlbGV0aW9ucygtKQoKZGlmZiAtLWdpdCBhL2RyaXZl
cnMvZ3B1L2RybS9pOTE1L2k5MTVfcmVxdWVzdC5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkx
NV9yZXF1ZXN0LmMKaW5kZXggMzEwOWI4YTc5YjlmLi4yOThmZDFiNDRkN2EgMTAwNjQ0Ci0tLSBh
L2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfcmVxdWVzdC5jCisrKyBiL2RyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2k5MTVfcmVxdWVzdC5jCkBAIC0zMDAsMTEgKzMwMCwxMSBAQCB2b2lkIGk5MTVfcmVx
dWVzdF9yZXRpcmVfdXB0byhzdHJ1Y3QgaTkxNV9yZXF1ZXN0ICpycSkKIH0KIAogc3RhdGljIGlu
dAotX19pOTE1X3JlcXVlc3RfYXdhaXRfZXhlY3V0aW9uKHN0cnVjdCBpOTE1X3JlcXVlc3QgKnJx
LAotCQkJICAgICAgIHN0cnVjdCBpOTE1X3JlcXVlc3QgKnNpZ25hbCwKLQkJCSAgICAgICB2b2lk
ICgqaG9vaykoc3RydWN0IGk5MTVfcmVxdWVzdCAqcnEsCi0JCQkJCSAgICBzdHJ1Y3QgZG1hX2Zl
bmNlICpzaWduYWwpLAotCQkJICAgICAgIGdmcF90IGdmcCkKK19fYXdhaXRfZXhlY3V0aW9uKHN0
cnVjdCBpOTE1X3JlcXVlc3QgKnJxLAorCQkgIHN0cnVjdCBpOTE1X3JlcXVlc3QgKnNpZ25hbCwK
KwkJICB2b2lkICgqaG9vaykoc3RydWN0IGk5MTVfcmVxdWVzdCAqcnEsCisJCQkgICAgICAgc3Ry
dWN0IGRtYV9mZW5jZSAqc2lnbmFsKSwKKwkJICBnZnBfdCBnZnApCiB7CiAJc3RydWN0IGV4ZWN1
dGVfY2IgKmNiOwogCkBAIC0zNDEsNiArMzQxLDggQEAgX19pOTE1X3JlcXVlc3RfYXdhaXRfZXhl
Y3V0aW9uKHN0cnVjdCBpOTE1X3JlcXVlc3QgKnJxLAogCX0KIAlzcGluX3VubG9ja19pcnEoJnNp
Z25hbC0+bG9jayk7CiAKKwkvKiBDb3B5IGFjcm9zcyBzZW1hcGhvcmUgc3RhdHVzIGFzIHdlIG5l
ZWQgdGhlIHNhbWUgYmVoYXZpb3VyICovCisJcnEtPnNjaGVkLmZsYWdzIHw9IHNpZ25hbC0+c2No
ZWQuZmxhZ3M7CiAJcmV0dXJuIDA7CiB9CiAKQEAgLTgyNCwzMSArODI2LDIxIEBAIGFscmVhZHlf
YnVzeXdhaXRpbmcoc3RydWN0IGk5MTVfcmVxdWVzdCAqcnEpCiB9CiAKIHN0YXRpYyBpbnQKLWVt
aXRfc2VtYXBob3JlX3dhaXQoc3RydWN0IGk5MTVfcmVxdWVzdCAqdG8sCi0JCSAgICBzdHJ1Y3Qg
aTkxNV9yZXF1ZXN0ICpmcm9tLAotCQkgICAgZ2ZwX3QgZ2ZwKQorX19lbWl0X3NlbWFwaG9yZV93
YWl0KHN0cnVjdCBpOTE1X3JlcXVlc3QgKnRvLAorCQkgICAgICBzdHJ1Y3QgaTkxNV9yZXF1ZXN0
ICpmcm9tLAorCQkgICAgICB1MzIgc2Vxbm8pCiB7CiAJY29uc3QgaW50IGhhc190b2tlbiA9IElO
VEVMX0dFTih0by0+aTkxNSkgPj0gMTI7CiAJdTMyIGh3c3Bfb2Zmc2V0OwotCWludCBsZW47CisJ
aW50IGxlbiwgZXJyOwogCXUzMiAqY3M7CiAKIAlHRU1fQlVHX09OKElOVEVMX0dFTih0by0+aTkx
NSkgPCA4KTsKIAotCS8qIEp1c3QgZW1pdCB0aGUgZmlyc3Qgc2VtYXBob3JlIHdlIHNlZSBhcyBy
ZXF1ZXN0IHNwYWNlIGlzIGxpbWl0ZWQuICovCi0JaWYgKGFscmVhZHlfYnVzeXdhaXRpbmcodG8p
ICYgZnJvbS0+ZW5naW5lLT5tYXNrKQotCQlnb3RvIGF3YWl0X2ZlbmNlOwotCi0JaWYgKGk5MTVf
cmVxdWVzdF9hd2FpdF9zdGFydCh0bywgZnJvbSkgPCAwKQotCQlnb3RvIGF3YWl0X2ZlbmNlOwot
Ci0JLyogT25seSBzdWJtaXQgb3VyIHNwaW5uZXIgYWZ0ZXIgdGhlIHNpZ25hbGVyIGlzIHJ1bm5p
bmchICovCi0JaWYgKF9faTkxNV9yZXF1ZXN0X2F3YWl0X2V4ZWN1dGlvbih0bywgZnJvbSwgTlVM
TCwgZ2ZwKSkKLQkJZ290byBhd2FpdF9mZW5jZTsKLQogCS8qIFdlIG5lZWQgdG8gcGluIHRoZSBz
aWduYWxlcidzIEhXU1AgdW50aWwgd2UgYXJlIGZpbmlzaGVkIHJlYWRpbmcuICovCi0JaWYgKGlu
dGVsX3RpbWVsaW5lX3JlYWRfaHdzcChmcm9tLCB0bywgJmh3c3Bfb2Zmc2V0KSkKLQkJZ290byBh
d2FpdF9mZW5jZTsKKwllcnIgPSBpbnRlbF90aW1lbGluZV9yZWFkX2h3c3AoZnJvbSwgdG8sICZo
d3NwX29mZnNldCk7CisJaWYgKGVycikKKwkJcmV0dXJuIGVycjsKIAogCWxlbiA9IDQ7CiAJaWYg
KGhhc190b2tlbikKQEAgLTg3MSw3ICs4NjMsNyBAQCBlbWl0X3NlbWFwaG9yZV93YWl0KHN0cnVj
dCBpOTE1X3JlcXVlc3QgKnRvLAogCQkgTUlfU0VNQVBIT1JFX1BPTEwgfAogCQkgTUlfU0VNQVBI
T1JFX1NBRF9HVEVfU0REKSArCiAJCWhhc190b2tlbjsKLQkqY3MrKyA9IGZyb20tPmZlbmNlLnNl
cW5vOworCSpjcysrID0gc2Vxbm87CiAJKmNzKysgPSBod3NwX29mZnNldDsKIAkqY3MrKyA9IDA7
CiAJaWYgKGhhc190b2tlbikgewpAQCAtODgwLDYgKzg3MiwyOCBAQCBlbWl0X3NlbWFwaG9yZV93
YWl0KHN0cnVjdCBpOTE1X3JlcXVlc3QgKnRvLAogCX0KIAogCWludGVsX3JpbmdfYWR2YW5jZSh0
bywgY3MpOworCXJldHVybiAwOworfQorCitzdGF0aWMgaW50CitlbWl0X3NlbWFwaG9yZV93YWl0
KHN0cnVjdCBpOTE1X3JlcXVlc3QgKnRvLAorCQkgICAgc3RydWN0IGk5MTVfcmVxdWVzdCAqZnJv
bSwKKwkJICAgIGdmcF90IGdmcCkKK3sKKwkvKiBKdXN0IGVtaXQgdGhlIGZpcnN0IHNlbWFwaG9y
ZSB3ZSBzZWUgYXMgcmVxdWVzdCBzcGFjZSBpcyBsaW1pdGVkLiAqLworCWlmIChhbHJlYWR5X2J1
c3l3YWl0aW5nKHRvKSAmIGZyb20tPmVuZ2luZS0+bWFzaykKKwkJZ290byBhd2FpdF9mZW5jZTsK
KworCWlmIChpOTE1X3JlcXVlc3RfYXdhaXRfc3RhcnQodG8sIGZyb20pIDwgMCkKKwkJZ290byBh
d2FpdF9mZW5jZTsKKworCS8qIE9ubHkgc3VibWl0IG91ciBzcGlubmVyIGFmdGVyIHRoZSBzaWdu
YWxlciBpcyBydW5uaW5nISAqLworCWlmIChfX2F3YWl0X2V4ZWN1dGlvbih0bywgZnJvbSwgTlVM
TCwgZ2ZwKSkKKwkJZ290byBhd2FpdF9mZW5jZTsKKworCWlmIChfX2VtaXRfc2VtYXBob3JlX3dh
aXQodG8sIGZyb20sIGZyb20tPmZlbmNlLnNlcW5vKSkKKwkJZ290byBhd2FpdF9mZW5jZTsKKwog
CXRvLT5zY2hlZC5zZW1hcGhvcmVzIHw9IGZyb20tPmVuZ2luZS0+bWFzazsKIAl0by0+c2NoZWQu
ZmxhZ3MgfD0gSTkxNV9TQ0hFRF9IQVNfU0VNQVBIT1JFX0NIQUlOOwogCXJldHVybiAwOwpAQCAt
OTkzLDYgKzEwMDcsNTcgQEAgaTkxNV9yZXF1ZXN0X2F3YWl0X2RtYV9mZW5jZShzdHJ1Y3QgaTkx
NV9yZXF1ZXN0ICpycSwgc3RydWN0IGRtYV9mZW5jZSAqZmVuY2UpCiAJcmV0dXJuIDA7CiB9CiAK
K3N0YXRpYyBib29sIGludGVsX3RpbWVsaW5lX3N5bmNfaGFzX3N0YXJ0KHN0cnVjdCBpbnRlbF90
aW1lbGluZSAqdGwsCisJCQkJCSAgc3RydWN0IGRtYV9mZW5jZSAqZmVuY2UpCit7CisJcmV0dXJu
IF9faW50ZWxfdGltZWxpbmVfc3luY19pc19sYXRlcih0bCwKKwkJCQkJICAgICAgZmVuY2UtPmNv
bnRleHQsCisJCQkJCSAgICAgIGZlbmNlLT5zZXFubyAtIDEpOworfQorCitzdGF0aWMgaW50IGlu
dGVsX3RpbWVsaW5lX3N5bmNfc2V0X3N0YXJ0KHN0cnVjdCBpbnRlbF90aW1lbGluZSAqdGwsCisJ
CQkJCSBjb25zdCBzdHJ1Y3QgZG1hX2ZlbmNlICpmZW5jZSkKK3sKKwlyZXR1cm4gX19pbnRlbF90
aW1lbGluZV9zeW5jX3NldCh0bCwgZmVuY2UtPmNvbnRleHQsIGZlbmNlLT5zZXFubyAtIDEpOwor
fQorCitzdGF0aWMgaW50CitfX2k5MTVfcmVxdWVzdF9hd2FpdF9leGVjdXRpb24oc3RydWN0IGk5
MTVfcmVxdWVzdCAqdG8sCisJCQkgICAgICAgc3RydWN0IGk5MTVfcmVxdWVzdCAqZnJvbSwKKwkJ
CSAgICAgICB2b2lkICgqaG9vaykoc3RydWN0IGk5MTVfcmVxdWVzdCAqcnEsCisJCQkJCSAgICBz
dHJ1Y3QgZG1hX2ZlbmNlICpzaWduYWwpKQoreworCWludCBlcnI7CisKKwkvKiBTdWJtaXQgYm90
aCByZXF1ZXN0cyBhdCB0aGUgc2FtZSB0aW1lICovCisJZXJyID0gX19hd2FpdF9leGVjdXRpb24o
dG8sIGZyb20sIGhvb2ssIEk5MTVfRkVOQ0VfR0ZQKTsKKwlpZiAoZXJyKQorCQlyZXR1cm4gZXJy
OworCisJaWYgKCF0by0+ZW5naW5lLT5zY2hlZHVsZSkKKwkJcmV0dXJuIDA7CisKKwkvKiBTcXVh
c2ggcmVwZWF0ZWQgZGVwZW5lbmRpY2VzIHRvIHRoZSBzYW1lIHRpbWVsaW5lcyAqLworCWlmIChp
bnRlbF90aW1lbGluZV9zeW5jX2hhc19zdGFydChpOTE1X3JlcXVlc3RfdGltZWxpbmUodG8pLAor
CQkJCQkgICZmcm9tLT5mZW5jZSkpCisJCXJldHVybiAwOworCisJLyogRW5zdXJlIGJvdGggc3Rh
cnQgdG9nZXRoZXIgYWZ0ZXIgYWxsIHNlbWFwaG9yZXMgaW4gc2lnbmFsICovCisJaWYgKGZyb20t
PnNjaGVkLnNlbWFwaG9yZXMpIHsKKwkJZXJyID1fX2VtaXRfc2VtYXBob3JlX3dhaXQodG8sIGZy
b20sIGZyb20tPmZlbmNlLnNlcW5vIC0gMSk7CisJCWlmIChlcnIpCisJCQlyZXR1cm4gZXJyOwor
CX0KKworCS8qIENvdXBsZSB0aGUgZGVwZW5kZW5jeSB0cmVlIGZvciBQSSBvbiB0aGlzIGV4cG9z
ZWQgdG8tPmZlbmNlICovCisJZXJyID0gaTkxNV9zY2hlZF9ub2RlX2FkZF9kZXBlbmRlbmN5KCZ0
by0+c2NoZWQsICZmcm9tLT5zY2hlZCk7CisJaWYgKGVyciA8IDApCisJCXJldHVybiBlcnI7CisK
KwlyZXR1cm4gaW50ZWxfdGltZWxpbmVfc3luY19zZXRfc3RhcnQoaTkxNV9yZXF1ZXN0X3RpbWVs
aW5lKHRvKSwKKwkJCQkJICAgICAmZnJvbS0+ZmVuY2UpOworfQorCiBpbnQKIGk5MTVfcmVxdWVz
dF9hd2FpdF9leGVjdXRpb24oc3RydWN0IGk5MTVfcmVxdWVzdCAqcnEsCiAJCQkgICAgIHN0cnVj
dCBkbWFfZmVuY2UgKmZlbmNlLApAQCAtMTAyNiw4ICsxMDkxLDcgQEAgaTkxNV9yZXF1ZXN0X2F3
YWl0X2V4ZWN1dGlvbihzdHJ1Y3QgaTkxNV9yZXF1ZXN0ICpycSwKIAkJaWYgKGRtYV9mZW5jZV9p
c19pOTE1KGZlbmNlKSkKIAkJCXJldCA9IF9faTkxNV9yZXF1ZXN0X2F3YWl0X2V4ZWN1dGlvbihy
cSwKIAkJCQkJCQkgICAgIHRvX3JlcXVlc3QoZmVuY2UpLAotCQkJCQkJCSAgICAgaG9vaywKLQkJ
CQkJCQkgICAgIEk5MTVfRkVOQ0VfR0ZQKTsKKwkJCQkJCQkgICAgIGhvb2spOwogCQllbHNlCiAJ
CQlyZXQgPSBpOTE1X3N3X2ZlbmNlX2F3YWl0X2RtYV9mZW5jZSgmcnEtPnN1Ym1pdCwgZmVuY2Us
CiAJCQkJCQkJICAgIEk5MTVfRkVOQ0VfVElNRU9VVCwKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1
L2RybS9pOTE1L2k5MTVfc2NoZWR1bGVyLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3Nj
aGVkdWxlci5jCmluZGV4IGFkNmZmNTJiYzMxNi4uMDBmNWQxMDdmMmI3IDEwMDY0NAotLS0gYS9k
cml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3NjaGVkdWxlci5jCisrKyBiL2RyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2k5MTVfc2NoZWR1bGVyLmMKQEAgLTQ5Miw3ICs0OTIsNiBAQCB2b2lkIGk5MTVfc2No
ZWRfbm9kZV9maW5pKHN0cnVjdCBpOTE1X3NjaGVkX25vZGUgKm5vZGUpCiAJICogc28gd2UgbWF5
IGJlIGNhbGxlZCBvdXQtb2Ytb3JkZXIuCiAJICovCiAJbGlzdF9mb3JfZWFjaF9lbnRyeV9zYWZl
KGRlcCwgdG1wLCAmbm9kZS0+c2lnbmFsZXJzX2xpc3QsIHNpZ25hbF9saW5rKSB7Ci0JCUdFTV9C
VUdfT04oIW5vZGVfc2lnbmFsZWQoZGVwLT5zaWduYWxlcikpOwogCQlHRU1fQlVHX09OKCFsaXN0
X2VtcHR5KCZkZXAtPmRmc19saW5rKSk7CiAKIAkJbGlzdF9kZWwoJmRlcC0+d2FpdF9saW5rKTsK
LS0gCjIuMjQuMAoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X18KSW50ZWwtZ2Z4IG1haWxpbmcgbGlzdApJbnRlbC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3Jn
Cmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vaW50ZWwtZ2Z4

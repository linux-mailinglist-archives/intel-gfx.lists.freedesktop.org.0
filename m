Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id D3BA27427B
	for <lists+intel-gfx@lfdr.de>; Thu, 25 Jul 2019 02:18:41 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 306FA6E2D1;
	Thu, 25 Jul 2019 00:18:40 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga12.intel.com (mga12.intel.com [192.55.52.136])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 5126F6E2B4
 for <intel-gfx@lists.freedesktop.org>; Thu, 25 Jul 2019 00:18:39 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from fmsmga003.fm.intel.com ([10.253.24.29])
 by fmsmga106.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 24 Jul 2019 17:18:39 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.64,304,1559545200"; d="scan'208";a="177816910"
Received: from dceraolo-linux.fm.intel.com ([10.1.27.145])
 by FMSMGA003.fm.intel.com with ESMTP; 24 Jul 2019 17:18:39 -0700
From: Daniele Ceraolo Spurio <daniele.ceraolospurio@intel.com>
To: intel-gfx@lists.freedesktop.org
Date: Wed, 24 Jul 2019 17:18:07 -0700
Message-Id: <20190725001813.4740-3-daniele.ceraolospurio@intel.com>
X-Mailer: git-send-email 2.22.0
In-Reply-To: <20190725001813.4740-1-daniele.ceraolospurio@intel.com>
References: <20190725001813.4740-1-daniele.ceraolospurio@intel.com>
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH v3 2/8] drm/i915: Fix handling of non-supported
 uC
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

VGhlcmUgYXJlIDIgaXNzdWVzIGFyb3VuZCBoYW5kbGluZyBvZiBtaXNzaW5nIHVDIHN1cHBvcnQ6
CgotIFdlIHRyZWF0IGxhY2sgb2YgdUMgSFcgYW5kIGxhY2sgb2YgdUMgRlcgZGVmaW5pdGlvbiBh
cyAyIGRpZmZlcmVudAogIGNhc2VzLCBidXQgYm90aCBvZiB0aGVtIG1lYW4gdGhhdCB3ZSBkb24n
dCBzdXBwb3J0IHRoZSB1QyBvbiB0aGUKICBwbGF0Zm9ybSB3ZSdyZSBydW5uaW5nIG9uLgoKLSBX
ZSByZWx5IG9uIHRoZSBtb2RwYXJhbSB0byBkZWNpZGUgaWYgd2UgY2FuIHRha2UgdUMgcGF0aHMg
b3Igbm90LCBidXQKICB3ZSBkb24ndCBzYW5pdGl6ZSBpdCBpZiBpdCBpcyBzZXQgaW5jb3JyZWN0
bHkgb24gcGxhdGZvcm0gd2l0aCBubyB1QwogIHN1cHBvcnQuCgpUbyBmaXggYm90aCBvZiB0aGVt
LCB1bmlmeSB0aGUgMiBjYXNlcyBpbiBhIHNpbmdsZSBvbmUgYW5kIHNhbml0aXplIHRoZQptb2Rw
YXJhbSBvbiBpbnZhbGlkIGNvbmZpZ3VyYXRpb24gKGFmdGVyIHByaW50aW5nIGFuIGVycm9yIG1l
c3NhZ2UpLgpUaGUgbG9nIGhhcyBiZWVuIGFkYXB0ZWQgYXMgd2VsbCwgc2luY2UgdGhlIHVzZXIg
ZG9lc24ndCBjYXJlIHdoeSB3ZQpkb24ndCBzdXBwb3J0IEd1Qy9IdUMgKG5vIEhXIG9yIG5vIEZX
KSwganVzdCB0aGF0IHdlIGRvIG5vdC4gRGV2ZWxvcGVycwpjYW4gZWFzaWx5IGZpbmQgdGhlIGFu
c3dlciBiYXNlZCBvbiB0aGUgcGxhdGZvcm0sIHNvIHdlIGNhbiBzaW1wbGlmeSB0aGUKbG9nLgoK
Q29ycmVjdGluZyB0aGUgbW9kcGFyYW0gaGFzIGJlZW4gcHJlZmVycmVkIG92ZXIgZmFpbGluZyB0
aGUgbG9hZCBzaW5jZQp0aGlzIGlzIHdoYXQgd2UgdXN1YWxseSBkbyBmb3Igbm9uLXN1cHBvcnRl
ZCBmZWF0dXJlIChlLmcuIHRoZSBub3cgZ29uZQplbmFibGVfcHBndHQgd291bGQgZmFsbCBiYWNr
IHRvIHRoZSBoaWdoZXN0IHN1cHBvcnRlZCBQUEdUVCBtb2RlIGlmIHRoZQpzZWxlY3RlZCBvbmUg
d2FzIG5vdCBhdmFpbGFibGUpLgoKTm90ZSB0aGF0IHRoaXMgcGF0Y2ggcHVycG9zZWx5IGRvZXNu
J3QgY2hhbmdlIHRoZSBiZWhhdmlvciBmb3IgcGxhdGZvcm1zCnRoYXQgZG8gaGF2ZSB1QyBzdXBw
b3J0LCBpbiB3aGljaCBjYXNlIHdlIHdpbGwgc3RpbGwgZmFpbCBpZiBlbmFibGVfZ3VjCmlzIHNl
dCBhbmQgdGhlIGZpcm13YXJlIGlzIG5vdCBhdmFpbGFibGUgb24gdGhlIHN5c3RlbS4KClN1Z2dl
c3RlZC1ieTogTWljaGFsIFdhamRlY3prbyA8bWljaGFsLndhamRlY3prb0BpbnRlbC5jb20+ClNp
Z25lZC1vZmYtYnk6IERhbmllbGUgQ2VyYW9sbyBTcHVyaW8gPGRhbmllbGUuY2VyYW9sb3NwdXJp
b0BpbnRlbC5jb20+CkNjOiBNaWNoYWwgV2FqZGVjemtvIDxtaWNoYWwud2FqZGVjemtvQGludGVs
LmNvbT4KLS0tCiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC91Yy9pbnRlbF9ndWNfZncuYyB8IDEx
ICsrKystLS0KIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L3VjL2ludGVsX2h1Y19mdy5jIHwgMTEg
KysrKy0tLQogZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvdWMvaW50ZWxfdWMuYyAgICAgfCAzNyAr
KysrKysrKysrKystLS0tLS0tLS0tLQogZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvdWMvaW50ZWxf
dWNfZncuYyAgfCAgOCAtLS0tLQogZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvdWMvaW50ZWxfdWNf
ZncuaCAgfCAgNSAtLS0KIDUgZmlsZXMgY2hhbmdlZCwgMzEgaW5zZXJ0aW9ucygrKSwgNDEgZGVs
ZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvdWMvaW50ZWxf
Z3VjX2Z3LmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC91Yy9pbnRlbF9ndWNfZncuYwppbmRl
eCA4NzE2OWU4MjY3NDcuLjE3Y2U3ODI0MGNmOCAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJt
L2k5MTUvZ3QvdWMvaW50ZWxfZ3VjX2Z3LmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3Qv
dWMvaW50ZWxfZ3VjX2Z3LmMKQEAgLTgwLDEyICs4MCwxMCBAQCBzdGF0aWMgdm9pZCBndWNfZndf
c2VsZWN0KHN0cnVjdCBpbnRlbF91Y19mdyAqZ3VjX2Z3KQogCiAJR0VNX0JVR19PTihndWNfZnct
PnR5cGUgIT0gSU5URUxfVUNfRldfVFlQRV9HVUMpOwogCi0JaWYgKCFIQVNfR1RfVUMoaTkxNSkp
IHsKLQkJZ3VjX2Z3LT5mZXRjaF9zdGF0dXMgPSBJTlRFTF9VQ19GSVJNV0FSRV9OT1RfU1VQUE9S
VEVEOwotCQlyZXR1cm47Ci0JfQorCWd1Y19mdy0+ZmV0Y2hfc3RhdHVzID0gSU5URUxfVUNfRklS
TVdBUkVfTk9UX1NVUFBPUlRFRDsKIAotCWd1Y19mdy0+ZmV0Y2hfc3RhdHVzID0gSU5URUxfVUNf
RklSTVdBUkVfTk9UX1NUQVJURUQ7CisJaWYgKCFIQVNfR1RfVUMoaTkxNSkpCisJCXJldHVybjsK
IAogCWlmIChpOTE1X21vZHBhcmFtcy5ndWNfZmlybXdhcmVfcGF0aCkgewogCQlndWNfZnctPnBh
dGggPSBpOTE1X21vZHBhcmFtcy5ndWNfZmlybXdhcmVfcGF0aDsKQEAgLTExMiw2ICsxMTAsOSBA
QCBzdGF0aWMgdm9pZCBndWNfZndfc2VsZWN0KHN0cnVjdCBpbnRlbF91Y19mdyAqZ3VjX2Z3KQog
CQlndWNfZnctPm1ham9yX3Zlcl93YW50ZWQgPSBTS0xfR1VDX0ZXX01BSk9SOwogCQlndWNfZnct
Pm1pbm9yX3Zlcl93YW50ZWQgPSBTS0xfR1VDX0ZXX01JTk9SOwogCX0KKworCWlmIChndWNfZnct
PnBhdGgpCisJCWd1Y19mdy0+ZmV0Y2hfc3RhdHVzID0gSU5URUxfVUNfRklSTVdBUkVfTk9UX1NU
QVJURUQ7CiB9CiAKIC8qKgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvdWMv
aW50ZWxfaHVjX2Z3LmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC91Yy9pbnRlbF9odWNfZncu
YwppbmRleCBmZjZmN2IxNTdlY2IuLmMzYTdiZDU3ZmI1NSAxMDA2NDQKLS0tIGEvZHJpdmVycy9n
cHUvZHJtL2k5MTUvZ3QvdWMvaW50ZWxfaHVjX2Z3LmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5
MTUvZ3QvdWMvaW50ZWxfaHVjX2Z3LmMKQEAgLTc0LDEyICs3NCwxMCBAQCBzdGF0aWMgdm9pZCBo
dWNfZndfc2VsZWN0KHN0cnVjdCBpbnRlbF91Y19mdyAqaHVjX2Z3KQogCiAJR0VNX0JVR19PTiho
dWNfZnctPnR5cGUgIT0gSU5URUxfVUNfRldfVFlQRV9IVUMpOwogCi0JaWYgKCFIQVNfR1RfVUMo
ZGV2X3ByaXYpKSB7Ci0JCWh1Y19mdy0+ZmV0Y2hfc3RhdHVzID0gSU5URUxfVUNfRklSTVdBUkVf
Tk9UX1NVUFBPUlRFRDsKLQkJcmV0dXJuOwotCX0KKwlodWNfZnctPmZldGNoX3N0YXR1cyA9IElO
VEVMX1VDX0ZJUk1XQVJFX05PVF9TVVBQT1JURUQ7CiAKLQlodWNfZnctPmZldGNoX3N0YXR1cyA9
IElOVEVMX1VDX0ZJUk1XQVJFX05PVF9TVEFSVEVEOworCWlmICghSEFTX0dUX1VDKGRldl9wcml2
KSkKKwkJcmV0dXJuOwogCiAJaWYgKGk5MTVfbW9kcGFyYW1zLmh1Y19maXJtd2FyZV9wYXRoKSB7
CiAJCWh1Y19mdy0+cGF0aCA9IGk5MTVfbW9kcGFyYW1zLmh1Y19maXJtd2FyZV9wYXRoOwpAQCAt
MTA2LDYgKzEwNCw5IEBAIHN0YXRpYyB2b2lkIGh1Y19md19zZWxlY3Qoc3RydWN0IGludGVsX3Vj
X2Z3ICpodWNfZncpCiAJCWh1Y19mdy0+bWFqb3JfdmVyX3dhbnRlZCA9IElDTF9IVUNfRldfTUFK
T1I7CiAJCWh1Y19mdy0+bWlub3JfdmVyX3dhbnRlZCA9IElDTF9IVUNfRldfTUlOT1I7CiAJfQor
CisJaWYgKGh1Y19mdy0+cGF0aCkKKwkJaHVjX2Z3LT5mZXRjaF9zdGF0dXMgPSBJTlRFTF9VQ19G
SVJNV0FSRV9OT1RfU1RBUlRFRDsKIH0KIAogLyoqCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9k
cm0vaTkxNS9ndC91Yy9pbnRlbF91Yy5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvdWMvaW50
ZWxfdWMuYwppbmRleCBiZGIxNzFjM2YzNmUuLjNmNjcyZWE3NDU2YiAxMDA2NDQKLS0tIGEvZHJp
dmVycy9ncHUvZHJtL2k5MTUvZ3QvdWMvaW50ZWxfdWMuYworKysgYi9kcml2ZXJzL2dwdS9kcm0v
aTkxNS9ndC91Yy9pbnRlbF91Yy5jCkBAIC02OCw3ICs2OCw3IEBAIHN0YXRpYyBpbnQgX19nZXRf
cGxhdGZvcm1fZW5hYmxlX2d1YyhzdHJ1Y3QgaW50ZWxfdWMgKnVjKQogCWlmIChJTlRFTF9HRU4o
dWNfdG9fZ3QodWMpLT5pOTE1KSA8IDExKQogCQlyZXR1cm4gMDsKIAotCWlmIChpbnRlbF91Y19m
d19pc19zZWxlY3RlZChndWNfZncpICYmIGludGVsX3VjX2Z3X2lzX3NlbGVjdGVkKGh1Y19mdykp
CisJaWYgKGludGVsX3VjX2Z3X3N1cHBvcnRlZChndWNfZncpICYmIGludGVsX3VjX2Z3X3N1cHBv
cnRlZChodWNfZncpKQogCQllbmFibGVfZ3VjIHw9IEVOQUJMRV9HVUNfTE9BRF9IVUM7CiAKIAly
ZXR1cm4gZW5hYmxlX2d1YzsKQEAgLTEyMywyNiArMTIzLDI4IEBAIHN0YXRpYyB2b2lkIHNhbml0
aXplX29wdGlvbnNfZWFybHkoc3RydWN0IGludGVsX3VjICp1YykKIAkJCSB5ZXNubyhpbnRlbF91
Y19pc191c2luZ19odWModWMpKSk7CiAKIAkvKiBWZXJpZnkgR3VDIGZpcm13YXJlIGF2YWlsYWJp
bGl0eSAqLwotCWlmIChpbnRlbF91Y19pc191c2luZ19ndWModWMpICYmICFpbnRlbF91Y19md19p
c19zZWxlY3RlZChndWNfZncpKSB7Ci0JCURSTV9XQVJOKCJJbmNvbXBhdGlibGUgb3B0aW9uIGRl
dGVjdGVkOiAlcz0lZCwgJXMhXG4iLAotCQkJICJlbmFibGVfZ3VjIiwgaTkxNV9tb2RwYXJhbXMu
ZW5hYmxlX2d1YywKLQkJCSAhaW50ZWxfdWNfZndfc3VwcG9ydGVkKGd1Y19mdykgPwotCQkJCSJu
byBHdUMgaGFyZHdhcmUiIDogIm5vIEd1QyBmaXJtd2FyZSIpOworCWlmIChpbnRlbF91Y19pc191
c2luZ19ndWModWMpICYmICFpbnRlbF91Y19md19zdXBwb3J0ZWQoZ3VjX2Z3KSkgeworCQlEUk1f
V0FSTigiSW5jb21wYXRpYmxlIG9wdGlvbiBkZXRlY3RlZDogZW5hYmxlX2d1Yz0lZCwgIgorCQkJ
ICJidXQgR3VDIGlzIG5vdCBzdXBwb3J0ZWQhXG4iLAorCQkJIGk5MTVfbW9kcGFyYW1zLmVuYWJs
ZV9ndWMpOworCQlEUk1fSU5GTygiRGlzYWJsaW5nIEd1Qy9IdUMgbG9hZGluZyFcbiIpOworCQlp
OTE1X21vZHBhcmFtcy5lbmFibGVfZ3VjID0gMDsKIAl9CiAKIAkvKiBWZXJpZnkgSHVDIGZpcm13
YXJlIGF2YWlsYWJpbGl0eSAqLwotCWlmIChpbnRlbF91Y19pc191c2luZ19odWModWMpICYmICFp
bnRlbF91Y19md19pc19zZWxlY3RlZChodWNfZncpKSB7Ci0JCURSTV9XQVJOKCJJbmNvbXBhdGli
bGUgb3B0aW9uIGRldGVjdGVkOiAlcz0lZCwgJXMhXG4iLAotCQkJICJlbmFibGVfZ3VjIiwgaTkx
NV9tb2RwYXJhbXMuZW5hYmxlX2d1YywKLQkJCSAhaW50ZWxfdWNfZndfc3VwcG9ydGVkKGh1Y19m
dykgPwotCQkJCSJubyBIdUMgaGFyZHdhcmUiIDogIm5vIEh1QyBmaXJtd2FyZSIpOworCWlmIChp
bnRlbF91Y19pc191c2luZ19odWModWMpICYmICFpbnRlbF91Y19md19zdXBwb3J0ZWQoaHVjX2Z3
KSkgeworCQlEUk1fV0FSTigiSW5jb21wYXRpYmxlIG9wdGlvbiBkZXRlY3RlZDogZW5hYmxlX2d1
Yz0lZCwgIgorCQkJICJidXQgSHVDIGlzIG5vdCBzdXBwb3J0ZWQhXG4iLAorCQkJIGk5MTVfbW9k
cGFyYW1zLmVuYWJsZV9ndWMpOworCQlEUk1fSU5GTygiRGlzYWJsaW5nIEh1QyBsb2FkaW5nIVxu
Iik7CisJCWk5MTVfbW9kcGFyYW1zLmVuYWJsZV9ndWMgJj0gfkVOQUJMRV9HVUNfTE9BRF9IVUM7
CiAJfQogCiAJLyogWFhYOiBHdUMgc3VibWlzc2lvbiBpcyB1bmF2YWlsYWJsZSBmb3Igbm93ICov
CiAJaWYgKGludGVsX3VjX2lzX3VzaW5nX2d1Y19zdWJtaXNzaW9uKHVjKSkgewotCQlEUk1fSU5G
TygiSW5jb21wYXRpYmxlIG9wdGlvbiBkZXRlY3RlZDogJXM9JWQsICVzIVxuIiwKLQkJCSAiZW5h
YmxlX2d1YyIsIGk5MTVfbW9kcGFyYW1zLmVuYWJsZV9ndWMsCi0JCQkgIkd1QyBzdWJtaXNzaW9u
IG5vdCBzdXBwb3J0ZWQiKTsKKwkJRFJNX0lORk8oIkluY29tcGF0aWJsZSBvcHRpb24gZGV0ZWN0
ZWQ6IGVuYWJsZV9ndWM9JWQsICIKKwkJCSAiYnV0IEd1QyBzdWJtaXNzaW9uIGlzIG5vdCBzdXBw
b3J0ZWQhXG4iLAorCQkJIGk5MTVfbW9kcGFyYW1zLmVuYWJsZV9ndWMpOwogCQlEUk1fSU5GTygi
U3dpdGNoaW5nIHRvIG5vbi1HdUMgc3VibWlzc2lvbiBtb2RlIVxuIik7CiAJCWk5MTVfbW9kcGFy
YW1zLmVuYWJsZV9ndWMgJj0gfkVOQUJMRV9HVUNfU1VCTUlTU0lPTjsKIAl9CkBAIC0xNTMsMTAg
KzE1NSw5IEBAIHN0YXRpYyB2b2lkIHNhbml0aXplX29wdGlvbnNfZWFybHkoc3RydWN0IGludGVs
X3VjICp1YykKIAkJCV9fZ2V0X2RlZmF1bHRfZ3VjX2xvZ19sZXZlbCh1Yyk7CiAKIAlpZiAoaTkx
NV9tb2RwYXJhbXMuZ3VjX2xvZ19sZXZlbCA+IDAgJiYgIWludGVsX3VjX2lzX3VzaW5nX2d1Yyh1
YykpIHsKLQkJRFJNX1dBUk4oIkluY29tcGF0aWJsZSBvcHRpb24gZGV0ZWN0ZWQ6ICVzPSVkLCAl
cyFcbiIsCi0JCQkgImd1Y19sb2dfbGV2ZWwiLCBpOTE1X21vZHBhcmFtcy5ndWNfbG9nX2xldmVs
LAotCQkJICFpbnRlbF91Y19md19zdXBwb3J0ZWQoZ3VjX2Z3KSA/Ci0JCQkJIm5vIEd1QyBoYXJk
d2FyZSIgOiAiR3VDIG5vdCBlbmFibGVkIik7CisJCURSTV9XQVJOKCJJbmNvbXBhdGlibGUgb3B0
aW9uIGRldGVjdGVkOiBndWNfbG9nX2xldmVsPSVkLCAiCisJCQkgImJ1dCBHdUMgaXMgbm90IGVu
YWJsZWQhXG4iLAorCQkJIGk5MTVfbW9kcGFyYW1zLmd1Y19sb2dfbGV2ZWwpOwogCQlpOTE1X21v
ZHBhcmFtcy5ndWNfbG9nX2xldmVsID0gMDsKIAl9CiAKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1
L2RybS9pOTE1L2d0L3VjL2ludGVsX3VjX2Z3LmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC91
Yy9pbnRlbF91Y19mdy5jCmluZGV4IDhjZTcyMTA5MDdjMC4uNDMyYjYzMmIwNGMwIDEwMDY0NAot
LS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC91Yy9pbnRlbF91Y19mdy5jCisrKyBiL2RyaXZl
cnMvZ3B1L2RybS9pOTE1L2d0L3VjL2ludGVsX3VjX2Z3LmMKQEAgLTQ5LDE0ICs0OSw2IEBAIHZv
aWQgaW50ZWxfdWNfZndfZmV0Y2goc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2LAog
CiAJR0VNX0JVR19PTighaW50ZWxfdWNfZndfc3VwcG9ydGVkKHVjX2Z3KSk7CiAKLQlpZiAoIXVj
X2Z3LT5wYXRoKSB7Ci0JCWRldl9pbmZvKGRldl9wcml2LT5kcm0uZGV2LAotCQkJICIlczogTm8g
ZmlybXdhcmUgd2FzIGRlZmluZWQgZm9yICVzIVxuIiwKLQkJCSBpbnRlbF91Y19md190eXBlX3Jl
cHIodWNfZnctPnR5cGUpLAotCQkJIGludGVsX3BsYXRmb3JtX25hbWUoSU5URUxfSU5GTyhkZXZf
cHJpdiktPnBsYXRmb3JtKSk7Ci0JCXJldHVybjsKLQl9Ci0KIAlEUk1fREVCVUdfRFJJVkVSKCIl
cyBmdyBmZXRjaCAlc1xuIiwKIAkJCSBpbnRlbF91Y19md190eXBlX3JlcHIodWNfZnctPnR5cGUp
LCB1Y19mdy0+cGF0aCk7CiAKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L3Vj
L2ludGVsX3VjX2Z3LmggYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC91Yy9pbnRlbF91Y19mdy5o
CmluZGV4IDgzM2QwNGQwNjU3Ni4uNTVhYzllZWFiNDQwIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dw
dS9kcm0vaTkxNS9ndC91Yy9pbnRlbF91Y19mdy5oCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1
L2d0L3VjL2ludGVsX3VjX2Z3LmgKQEAgLTEyNSwxMSArMTI1LDYgQEAgdm9pZCBpbnRlbF91Y19m
d19pbml0X2Vhcmx5KHN0cnVjdCBpbnRlbF91Y19mdyAqdWNfZncsCiAJdWNfZnctPnR5cGUgPSB0
eXBlOwogfQogCi1zdGF0aWMgaW5saW5lIGJvb2wgaW50ZWxfdWNfZndfaXNfc2VsZWN0ZWQoc3Ry
dWN0IGludGVsX3VjX2Z3ICp1Y19mdykKLXsKLQlyZXR1cm4gdWNfZnctPnBhdGggIT0gTlVMTDsK
LX0KLQogc3RhdGljIGlubGluZSBib29sIGludGVsX3VjX2Z3X2lzX2xvYWRlZChzdHJ1Y3QgaW50
ZWxfdWNfZncgKnVjX2Z3KQogewogCXJldHVybiB1Y19mdy0+bG9hZF9zdGF0dXMgPT0gSU5URUxf
VUNfRklSTVdBUkVfU1VDQ0VTUzsKLS0gCjIuMjIuMAoKX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX18KSW50ZWwtZ2Z4IG1haWxpbmcgbGlzdApJbnRlbC1nZnhA
bGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxt
YW4vbGlzdGluZm8vaW50ZWwtZ2Z4

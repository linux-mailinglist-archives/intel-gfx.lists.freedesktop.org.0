Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 2C244660EE
	for <lists+intel-gfx@lfdr.de>; Thu, 11 Jul 2019 22:54:43 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 3C4096E28E;
	Thu, 11 Jul 2019 20:54:41 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga04.intel.com (mga04.intel.com [192.55.52.120])
 by gabe.freedesktop.org (Postfix) with ESMTPS id A601B6E28E
 for <intel-gfx@lists.freedesktop.org>; Thu, 11 Jul 2019 20:54:40 +0000 (UTC)
X-Amp-Result: UNKNOWN
X-Amp-Original-Verdict: FILE UNKNOWN
X-Amp-File-Uploaded: False
Received: from orsmga001.jf.intel.com ([10.7.209.18])
 by fmsmga104.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 11 Jul 2019 13:54:40 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.63,480,1557212400"; d="scan'208";a="249898731"
Received: from smckee-dev.jf.intel.com (HELO intel.com) ([10.7.202.173])
 by orsmga001.jf.intel.com with SMTP; 11 Jul 2019 13:54:38 -0700
Received: by intel.com (sSMTP sendmail emulation);
 Thu, 11 Jul 2019 13:52:44 -0700
Date: Thu, 11 Jul 2019 13:52:44 -0700
From: Shane McKee <shane.mckee@intel.com>
To: Nathan Ciobanu <nathan.d.ciobanu@linux.intel.com>
Message-ID: <20190711205244.GA17360@smckee-dev>
References: <20190710221500.11576-1-jose.souza@intel.com>
 <20190710221500.11576-2-jose.souza@intel.com>
 <20190711194935.GB23857@nc-hades.jf.intel.com>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <20190711194935.GB23857@nc-hades.jf.intel.com>
User-Agent: Mutt/1.9.4 (2018-02-28)
Subject: Re: [Intel-gfx] [PATCH v4 2/2] drm/i915: Enable hotplug retry
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: Jani Nikula <jani.nikula@intel.com>, intel-gfx@lists.freedesktop.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

T24gVGh1LCBKdWwgMTEsIDIwMTkgYXQgMTI6NDk6MzVQTSAtMDcwMCwgTmF0aGFuIENpb2JhbnUg
d3JvdGU6Cj4gT24gV2VkLCBKdWwgMTAsIDIwMTkgYXQgMDM6MTU6MDBQTSAtMDcwMCwgSm9zw6kg
Um9iZXJ0byBkZSBTb3V6YSB3cm90ZToKPiA+IFJpZ2h0IG5vdyB3ZSBhcmUgYXdhcmUgb2YgdHdv
IGNhc2VzIHRoYXQgbmVlZHMgYW5vdGhlciBob3RwbHVnIHJldHJ5Ogo+ID4gLSBVbnBvd2VyZWQg
dHlwZS1jIGRvbmdsZXMKPiA+IC0gSERNSSBzbG93IHVucGx1Zwo+ID4gCj4gPiBCb3RoIGhhdmUg
YSBjb21wbGV0ZSBleHBsYW5hdGlvbiBpbiB0aGUgY29kZSB0byBzY2hlZHVsZSBhbm90aGVyIHJ1
bgo+ID4gb2YgdGhlIGhvdHBsdWcgaGFuZGxlci4KPiA+IAo+ID4gSXQgY291bGQgaGF2ZSBtb3Jl
IGNoZWNrcyB0byBqdXN0IHRyaWdnZXIgdGhlIHJldHJ5IGluIHRob3NlIHR3bwo+ID4gc3BlY2lm
aWMgY2FzZXMgYnV0IHdoeSB3b3VsZCBzaW5rIHNpZ25hbCBhIGxvbmcgcHVsc2UgaWYgdGhlcmUg
aXMKPiA+IG5vIGNoYW5nZT8gQWxzbyB0aGUgZHJhd2JhY2sgb2YgcnVubmluZyB0aGUgaG90cGx1
ZyBoYW5kbGVyIGFnYWluCj4gPiBpcyByZWFsbHkgbG93IGFuZCB0aGF0IGNvdWxkIGZpeCBhbm90
aGVyIGNhc2VzIHRoYXQgd2UgYXJlIG5vdAo+ID4gYXdhcmUuCj4gPiAKPiA+IEFsc28gcmV0cnlp
bmcgZm9yIG9sZCBEUCBwb3J0cyhub24tRERJKSB0byBtYWtlIGl0IGNvbnNpc3RlbnQgYW5kIG5v
dAo+ID4gY2F1c2UgQ0kgZmFpbHVyZXMgaWYgdGhvc2Ugc3lzdGVtcyBhcmUgY29ubmVjdGVkIHRv
IGNoYW1lbGl1bSBib2FyZHMKPiA+IHRoYXQgd2lsbCBiZSB1c2VkIHRvIHNpbXVsYXRlIHRoZSBp
c3N1ZXMgcmVwb3J0ZWQgaW4gaGVyZS4KPiA+IAo+ID4gdjI6IEFsc28gcmV0cnlpbmcgZm9yIG9s
ZCBEUCBwb3J0cyhub24tRERJKShJbXJlKQo+ID4gCj4gPiB2NDogUmVuYW1lZCBJTlRFTF9IT1RQ
TFVHX05PQ0hBTkdFIHRvIElOVEVMX0hPVFBMVUdfVU5DSEFOR0VEIHRvIGtlZXAKPiA+IGl0IGNv
bnNpc3RlbnQoUm9kcmlnbykKPiA+IAo+ID4gQ2M6IFZpbGxlIFN5cmrDpGzDpCA8dmlsbGUuc3ly
amFsYUBsaW51eC5pbnRlbC5jb20+Cj4gPiBDYzogSW1yZSBEZWFrIDxpbXJlLmRlYWtAaW50ZWwu
Y29tPgo+ID4gQ2M6IEphbmkgTmlrdWxhIDxqYW5pLm5pa3VsYUBpbnRlbC5jb20+ClRlc3RlZC1i
eTogU2hhbmUgTWNLZWUgPHNoYW5lLm1ja2VlQGludGVsLmNvbT4KPiA+IFJldmlld2VkLWJ5OiBJ
bXJlIERlYWsgPGltcmUuZGVha0BpbnRlbC5jb20+Cj4gPiBTaWduZWQtb2ZmLWJ5OiBKb3PDqSBS
b2JlcnRvIGRlIFNvdXphIDxqb3NlLnNvdXphQGludGVsLmNvbT4KPiA+IC0tLQo+ID4gIGRyaXZl
cnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGRpLmMgIHwgMjEgKysrKysrKysrKysrKysr
KysKPiA+ICBkcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2RwLmMgICB8ICA3ICsr
KysrKwo+ID4gIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfaGRtaS5jIHwgMjgg
KysrKysrKysrKysrKysrKysrKysrKy0KPiA+ICAzIGZpbGVzIGNoYW5nZWQsIDU1IGluc2VydGlv
bnMoKyksIDEgZGVsZXRpb24oLSkKPiA+IAo+ID4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGRpLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5
L2ludGVsX2RkaS5jCj4gPiBpbmRleCA3MzRjMDA0ODAwZjguLmVhNmQxODczZjZjYiAxMDA2NDQK
PiA+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGRpLmMKPiA+ICsr
KyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGRpLmMKPiA+IEBAIC00MDUy
LDYgKzQwNTIsNyBAQCBpbnRlbF9kZGlfaG90cGx1ZyhzdHJ1Y3QgaW50ZWxfZW5jb2RlciAqZW5j
b2RlciwKPiA+ICAJCSAgc3RydWN0IGludGVsX2Nvbm5lY3RvciAqY29ubmVjdG9yLAo+ID4gIAkJ
ICBib29sIGlycV9yZWNlaXZlZCkKPiA+ICB7Cj4gPiArCXN0cnVjdCBpbnRlbF9kaWdpdGFsX3Bv
cnQgKmRpZ19wb3J0ID0gZW5jX3RvX2RpZ19wb3J0KCZlbmNvZGVyLT5iYXNlKTsKPiA+ICAJc3Ry
dWN0IGRybV9tb2Rlc2V0X2FjcXVpcmVfY3R4IGN0eDsKPiA+ICAJZW51bSBpbnRlbF9ob3RwbHVn
X3N0YXRlIHN0YXRlOwo+ID4gIAlpbnQgcmV0Owo+ID4gQEAgLTQwNzgsNiArNDA3OSwyNiBAQCBp
bnRlbF9kZGlfaG90cGx1ZyhzdHJ1Y3QgaW50ZWxfZW5jb2RlciAqZW5jb2RlciwKPiA+ICAJZHJt
X21vZGVzZXRfYWNxdWlyZV9maW5pKCZjdHgpOwo+ID4gIAlXQVJOKHJldCwgIkFjcXVpcmluZyBt
b2Rlc2V0IGxvY2tzIGZhaWxlZCB3aXRoICVpXG4iLCByZXQpOwo+ID4gIAo+ID4gKwkvKgo+ID4g
KwkgKiBVbnBvd2VyZWQgdHlwZS1jIGRvbmdsZXMgY2FuIHRha2Ugc29tZSB0aW1lIHRvIGJvb3Qg
YW5kIGJlCj4gPiArCSAqIHJlc3BvbnNpYmxlLCBzbyBoZXJlIGdpdmluZyBzb21lIHRpbWUgdG8g
dGhvc2UgZG9uZ2xlcyB0byBwb3dlciB1cAo+ID4gKwkgKiBhbmQgdGhlbiByZXRyeWluZyB0aGUg
cHJvYmUuCj4gPiArCSAqCj4gPiArCSAqIE9uIG1hbnkgcGxhdGZvcm1zIHRoZSBIRE1JIGxpdmUg
c3RhdGUgc2lnbmFsIGlzIGtub3duIHRvIGJlCj4gPiArCSAqIHVucmVsaWFibGUsIHNvIHdlIGNh
bid0IHVzZSBpdCB0byBkZXRlY3QgaWYgYSBzaW5rIGlzIGNvbm5lY3RlZCBvcgo+ID4gKwkgKiBu
b3QuIEluc3RlYWQgd2UgZGV0ZWN0IGlmIGl0J3MgY29ubmVjdGVkIGJhc2VkIG9uIHdoZXRoZXIg
d2UgY2FuCj4gPiArCSAqIHJlYWQgdGhlIEVESUQgb3Igbm90LiBUaGF0IGluIHR1cm4gaGFzIGEg
cHJvYmxlbSBkdXJpbmcgZGlzY29ubmVjdCwKPiA+ICsJICogc2luY2UgdGhlIEhQRCBpbnRlcnJ1
cHQgbWF5IGJlIHJhaXNlZCBiZWZvcmUgdGhlIEREQyBsaW5lcyBnZXQKPiA+ICsJICogZGlzY29u
bmVjdGVkIChkdWUgdG8gaG93IHRoZSByZXF1aXJlZCBsZW5ndGggb2YgRERDIHZzLiBIUEQKPiA+
ICsJICogY29ubmVjdG9yIHBpbnMgYXJlIHNwZWNpZmllZCkgYW5kIHNvIHdlJ2xsIHN0aWxsIGJl
IGFibGUgdG8gZ2V0IGEKPiA+ICsJICogdmFsaWQgRURJRC4gVG8gc29sdmUgdGhpcyBzY2hlZHVs
ZSBhbm90aGVyIGRldGVjdGlvbiBjeWNsZSBpZiB0aGlzCj4gPiArCSAqIHRpbWUgYXJvdW5kIHdl
IGRpZG4ndCBkZXRlY3QgYW55IGNoYW5nZSBpbiB0aGUgc2luaydzIGNvbm5lY3Rpb24KPiA+ICsJ
ICogc3RhdHVzLgo+ID4gKwkgKi8KPiA+ICsJaWYgKHN0YXRlID09IElOVEVMX0hPVFBMVUdfVU5D
SEFOR0VEICYmIGlycV9yZWNlaXZlZCAmJgo+ID4gKwkgICAgIWRpZ19wb3J0LT5kcC5pc19tc3Qp
Cj4gPiArCQlzdGF0ZSA9IElOVEVMX0hPVFBMVUdfUkVUUlk7Cj4gPiArCj4gPiAgCXJldHVybiBz
dGF0ZTsKPiA+ICB9Cj4gPiAgCj4gPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUv
ZGlzcGxheS9pbnRlbF9kcC5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9k
cC5jCj4gPiBpbmRleCA0NDIzYWJiYzc5MDcuLjcxMDZhMmQ4MGY3OSAxMDA2NDQKPiA+IC0tLSBh
L2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZHAuYwo+ID4gKysrIGIvZHJpdmVy
cy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kcC5jCj4gPiBAQCAtNDg4MSw2ICs0ODgxLDEz
IEBAIGludGVsX2RwX2hvdHBsdWcoc3RydWN0IGludGVsX2VuY29kZXIgKmVuY29kZXIsCj4gPiAg
CWRybV9tb2Rlc2V0X2FjcXVpcmVfZmluaSgmY3R4KTsKPiA+ICAJV0FSTihyZXQsICJBY3F1aXJp
bmcgbW9kZXNldCBsb2NrcyBmYWlsZWQgd2l0aCAlaVxuIiwgcmV0KTsKPiA+ICAKPiA+ICsJLyoK
PiA+ICsJICogS2VlcGluZyBpdCBjb25zaXN0ZW50IHdpdGggaW50ZWxfZGRpX2hvdHBsdWcoKSBh
bmQKPiA+ICsJICogaW50ZWxfaGRtaV9ob3RwbHVnKCkuCj4gPiArCSAqLwo+ID4gKwlpZiAoc3Rh
dGUgPT0gSU5URUxfSE9UUExVR19VTkNIQU5HRUQgJiYgaXJxX3JlY2VpdmVkKQo+ID4gKwkJc3Rh
dGUgPSBJTlRFTF9IT1RQTFVHX1JFVFJZOwo+ID4gKwo+ID4gIAlyZXR1cm4gc3RhdGU7Cj4gPiAg
fQo+ID4gIAo+ID4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50
ZWxfaGRtaS5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9oZG1pLmMKPiA+
IGluZGV4IDBlYmVjNjliYmJmYy4uMjZjODU1NmY2OTgwIDEwMDY0NAo+ID4gLS0tIGEvZHJpdmVy
cy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9oZG1pLmMKPiA+ICsrKyBiL2RyaXZlcnMvZ3B1
L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfaGRtaS5jCj4gPiBAQCAtMzE0Myw2ICszMTQzLDMyIEBA
IHZvaWQgaW50ZWxfaGRtaV9pbml0X2Nvbm5lY3RvcihzdHJ1Y3QgaW50ZWxfZGlnaXRhbF9wb3J0
ICppbnRlbF9kaWdfcG9ydCwKPiA+ICAJCURSTV9ERUJVR19LTVMoIkNFQyBub3RpZmllciBnZXQg
ZmFpbGVkXG4iKTsKPiA+ICB9Cj4gPiAgCj4gPiArc3RhdGljIGVudW0gaW50ZWxfaG90cGx1Z19z
dGF0ZQo+ID4gK2ludGVsX2hkbWlfaG90cGx1ZyhzdHJ1Y3QgaW50ZWxfZW5jb2RlciAqZW5jb2Rl
ciwKPiA+ICsJCSAgIHN0cnVjdCBpbnRlbF9jb25uZWN0b3IgKmNvbm5lY3RvciwgYm9vbCBpcnFf
cmVjZWl2ZWQpCj4gPiArewo+ID4gKwllbnVtIGludGVsX2hvdHBsdWdfc3RhdGUgc3RhdGU7Cj4g
PiArCj4gPiArCXN0YXRlID0gaW50ZWxfZW5jb2Rlcl9ob3RwbHVnKGVuY29kZXIsIGNvbm5lY3Rv
ciwgaXJxX3JlY2VpdmVkKTsKPiA+ICsKPiA+ICsJLyoKPiA+ICsJICogT24gbWFueSBwbGF0Zm9y
bXMgdGhlIEhETUkgbGl2ZSBzdGF0ZSBzaWduYWwgaXMga25vd24gdG8gYmUKPiA+ICsJICogdW5y
ZWxpYWJsZSwgc28gd2UgY2FuJ3QgdXNlIGl0IHRvIGRldGVjdCBpZiBhIHNpbmsgaXMgY29ubmVj
dGVkIG9yCj4gPiArCSAqIG5vdC4gSW5zdGVhZCB3ZSBkZXRlY3QgaWYgaXQncyBjb25uZWN0ZWQg
YmFzZWQgb24gd2hldGhlciB3ZSBjYW4KPiA+ICsJICogcmVhZCB0aGUgRURJRCBvciBub3QuIFRo
YXQgaW4gdHVybiBoYXMgYSBwcm9ibGVtIGR1cmluZyBkaXNjb25uZWN0LAo+ID4gKwkgKiBzaW5j
ZSB0aGUgSFBEIGludGVycnVwdCBtYXkgYmUgcmFpc2VkIGJlZm9yZSB0aGUgRERDIGxpbmVzIGdl
dAo+ID4gKwkgKiBkaXNjb25uZWN0ZWQgKGR1ZSB0byBob3cgdGhlIHJlcXVpcmVkIGxlbmd0aCBv
ZiBEREMgdnMuIEhQRAo+ID4gKwkgKiBjb25uZWN0b3IgcGlucyBhcmUgc3BlY2lmaWVkKSBhbmQg
c28gd2UnbGwgc3RpbGwgYmUgYWJsZSB0byBnZXQgYQo+ID4gKwkgKiB2YWxpZCBFRElELiBUbyBz
b2x2ZSB0aGlzIHNjaGVkdWxlIGFub3RoZXIgZGV0ZWN0aW9uIGN5Y2xlIGlmIHRoaXMKPiA+ICsJ
ICogdGltZSBhcm91bmQgd2UgZGlkbid0IGRldGVjdCBhbnkgY2hhbmdlIGluIHRoZSBzaW5rJ3Mg
Y29ubmVjdGlvbgo+ID4gKwkgKiBzdGF0dXMuCj4gPiArCSAqLwo+ID4gKwlpZiAoc3RhdGUgPT0g
SU5URUxfSE9UUExVR19VTkNIQU5HRUQgJiYgaXJxX3JlY2VpdmVkKQo+ID4gKwkJc3RhdGUgPSBJ
TlRFTF9IT1RQTFVHX1JFVFJZOwo+ID4gKwo+ID4gKwlyZXR1cm4gc3RhdGU7Cj4gPiArfQo+ID4g
Kwo+ID4gIHZvaWQgaW50ZWxfaGRtaV9pbml0KHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZf
cHJpdiwKPiA+ICAJCSAgICAgaTkxNV9yZWdfdCBoZG1pX3JlZywgZW51bSBwb3J0IHBvcnQpCj4g
PiAgewo+ID4gQEAgLTMxNjYsNyArMzE5Miw3IEBAIHZvaWQgaW50ZWxfaGRtaV9pbml0KHN0cnVj
dCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiwKPiA+ICAJCQkgJmludGVsX2hkbWlfZW5jX2Z1
bmNzLCBEUk1fTU9ERV9FTkNPREVSX1RNRFMsCj4gPiAgCQkJICJIRE1JICVjIiwgcG9ydF9uYW1l
KHBvcnQpKTsKPiA+ICAKPiA+IC0JaW50ZWxfZW5jb2Rlci0+aG90cGx1ZyA9IGludGVsX2VuY29k
ZXJfaG90cGx1ZzsKPiA+ICsJaW50ZWxfZW5jb2Rlci0+aG90cGx1ZyA9IGludGVsX2hkbWlfaG90
cGx1ZzsKPiA+ICAJaW50ZWxfZW5jb2Rlci0+Y29tcHV0ZV9jb25maWcgPSBpbnRlbF9oZG1pX2Nv
bXB1dGVfY29uZmlnOwo+ID4gIAlpZiAoSEFTX1BDSF9TUExJVChkZXZfcHJpdikpIHsKPiA+ICAJ
CWludGVsX2VuY29kZXItPmRpc2FibGUgPSBwY2hfZGlzYWJsZV9oZG1pOwo+ID4gLS0gCj4gPiAy
LjIyLjAKPiA+IAo+ID4gX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX18KPiA+IEludGVsLWdmeCBtYWlsaW5nIGxpc3QKPiA+IEludGVsLWdmeEBsaXN0cy5mcmVl
ZGVza3RvcC5vcmcKPiA+IGh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlz
dGluZm8vaW50ZWwtZ2Z4Cl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fCkludGVsLWdmeCBtYWlsaW5nIGxpc3QKSW50ZWwtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9w
Lm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2ludGVs
LWdmeA==

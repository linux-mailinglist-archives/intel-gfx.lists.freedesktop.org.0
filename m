Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 8DB6F58C4B
	for <lists+intel-gfx@lfdr.de>; Thu, 27 Jun 2019 22:58:05 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id E6D146E830;
	Thu, 27 Jun 2019 20:58:02 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga06.intel.com (mga06.intel.com [134.134.136.31])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 5CB876E872
 for <intel-gfx@lists.freedesktop.org>; Thu, 27 Jun 2019 20:57:24 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from fmsmga007.fm.intel.com ([10.253.24.52])
 by orsmga104.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 27 Jun 2019 13:57:14 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.63,425,1557212400"; d="scan'208";a="164455802"
Received: from unknown (HELO mwahaha-bdw.ger.corp.intel.com) ([10.252.4.227])
 by fmsmga007.fm.intel.com with ESMTP; 27 Jun 2019 13:57:13 -0700
From: Matthew Auld <matthew.auld@intel.com>
To: intel-gfx@lists.freedesktop.org
Date: Thu, 27 Jun 2019 21:56:28 +0100
Message-Id: <20190627205633.1143-33-matthew.auld@intel.com>
X-Mailer: git-send-email 2.20.1
In-Reply-To: <20190627205633.1143-1-matthew.auld@intel.com>
References: <20190627205633.1143-1-matthew.auld@intel.com>
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH v2 32/37] drm/i915: cpu-map based dumb buffers
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

RnJvbTogQWJkaWVsIEphbnVsZ3VlIDxhYmRpZWwuamFudWxndWVAbGludXguaW50ZWwuY29tPgoK
SWYgdGhlcmUgaXMgbm8gYXBlcnR1cmUgd2UgY2FuJ3QgdXNlIG1hcF9ndHQgdG8gbWFwIGR1bWIg
YnVmZmVycywgc28gd2UKbmVlZCBhIGNwdS1tYXAgYmFzZWQgcGF0aCB0byBkbyBpdC4gV2UgcHJl
ZmVyIG1hcF9ndHQgb24gcGxhdGZvcm1zIHRoYXQKZG8gaGF2ZSBhcGVydHVyZS4KClNpZ25lZC1v
ZmYtYnk6IEFiZGllbCBKYW51bGd1ZSA8YWJkaWVsLmphbnVsZ3VlQGxpbnV4LmludGVsLmNvbT4K
Q2M6IERhbmllbGUgQ2VyYW9sbyBTcHVyaW8gPGRhbmllbGUuY2VyYW9sb3NwdXJpb0BpbnRlbC5j
b20+CkNjOiBUdnJ0a28gVXJzdWxpbiA8dHZydGtvLnVyc3VsaW5AbGludXguaW50ZWwuY29tPgpD
YzogTWF0dGhldyBBdWxkIDxtYXR0aGV3LmF1bGRAaW50ZWwuY29tPgotLS0KIGRyaXZlcnMvZ3B1
L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9tbWFuLmMgICAgICAgICB8IDE1ICsrKysrKysrKysrKysr
KwogZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX29iamVjdF90eXBlcy5oIHwgIDEg
KwogZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kcnYuYyAgICAgICAgICAgICAgICAgIHwgIDIg
Ky0KIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZHJ2LmggICAgICAgICAgICAgICAgICB8ICAy
ICstCiA0IGZpbGVzIGNoYW5nZWQsIDE4IGluc2VydGlvbnMoKyksIDIgZGVsZXRpb25zKC0pCgpk
aWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX21tYW4uYyBiL2Ry
aXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9tbWFuLmMKaW5kZXggNTk0MTY0OGVlMGNl
Li5jZTk1ZDNmMmI4MTkgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1
X2dlbV9tbWFuLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX21tYW4u
YwpAQCAtNTk5LDYgKzU5OSwxOSBAQCBfX2Fzc2lnbl9nZW1fb2JqZWN0X21tYXBfZGF0YShzdHJ1
Y3QgZHJtX2ZpbGUgKmZpbGUsCiAJcmV0dXJuIHJldDsKIH0KIAoraW50CitpOTE1X2dlbV9tbWFw
X2R1bWIoc3RydWN0IGRybV9maWxlICpmaWxlLAorCQkgIHN0cnVjdCBkcm1fZGV2aWNlICpkZXYs
CisJCSAgdTMyIGhhbmRsZSwKKwkJICB1NjQgKm9mZnNldCkKK3sKKwlzdHJ1Y3QgZHJtX2k5MTVf
cHJpdmF0ZSAqaTkxNSA9IGRldi0+ZGV2X3ByaXZhdGU7CisJZW51bSBpOTE1X21tYXBfdHlwZSBt
bWFwX3R5cGUgPSBIQVNfTUFQUEFCTEVfQVBFUlRVUkUoaTkxNSkgPworCQlJOTE1X01NQVBfVFlQ
RV9HVFQgOiBJOTE1X01NQVBfVFlQRV9EVU1CX1dDOworCisJcmV0dXJuIF9fYXNzaWduX2dlbV9v
YmplY3RfbW1hcF9kYXRhKGZpbGUsIGhhbmRsZSwgbW1hcF90eXBlLCBvZmZzZXQpOworfQorCiAv
KioKICAqIGk5MTVfZ2VtX21tYXBfZ3R0X2lvY3RsIC0gcHJlcGFyZSBhbiBvYmplY3QgZm9yIEdU
VCBtbWFwJ2luZwogICogQGRldjogRFJNIGRldmljZQpAQCAtNzEwLDYgKzcyMyw3IEBAIHN0YXRp
YyB2b2lkIHNldF92bWRhdGFfbW1hcF9vZmZzZXQoc3RydWN0IGk5MTVfbW1hcF9vZmZzZXQgKm1t
bywgc3RydWN0IHZtX2FyZWFfCiB7CiAJc3dpdGNoIChtbW8tPm1tYXBfdHlwZSkgewogCWNhc2Ug
STkxNV9NTUFQX1RZUEVfT0ZGU0VUX1dDOgorCWNhc2UgSTkxNV9NTUFQX1RZUEVfRFVNQl9XQzoK
IAkJdm1hLT52bV9wYWdlX3Byb3QgPQogCQkJcGdwcm90X3dyaXRlY29tYmluZSh2bV9nZXRfcGFn
ZV9wcm90KHZtYS0+dm1fZmxhZ3MpKTsKIAkJYnJlYWs7CkBAIC03OTQsNiArODA4LDcgQEAgaW50
IGk5MTVfZ2VtX21tYXAoc3RydWN0IGZpbGUgKmZpbHAsIHN0cnVjdCB2bV9hcmVhX3N0cnVjdCAq
dm1hKQogCWNhc2UgSTkxNV9NTUFQX1RZUEVfT0ZGU0VUX1dDOgogCWNhc2UgSTkxNV9NTUFQX1RZ
UEVfT0ZGU0VUX1dCOgogCWNhc2UgSTkxNV9NTUFQX1RZUEVfT0ZGU0VUX1VDOgorCWNhc2UgSTkx
NV9NTUFQX1RZUEVfRFVNQl9XQzoKIAkJc2V0X3ZtZGF0YV9tbWFwX29mZnNldChtbW8sIHZtYSk7
CiAJCWJyZWFrOwogCWNhc2UgSTkxNV9NTUFQX1RZUEVfR1RUOgpkaWZmIC0tZ2l0IGEvZHJpdmVy
cy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX29iamVjdF90eXBlcy5oIGIvZHJpdmVycy9ncHUv
ZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX29iamVjdF90eXBlcy5oCmluZGV4IGY5NWU1NGEyNTQyNi4u
YTg4OGNhNjRjYzNmIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9n
ZW1fb2JqZWN0X3R5cGVzLmgKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2Vt
X29iamVjdF90eXBlcy5oCkBAIC02Niw2ICs2Niw3IEBAIGVudW0gaTkxNV9tbWFwX3R5cGUgewog
CUk5MTVfTU1BUF9UWVBFX09GRlNFVF9XQywKIAlJOTE1X01NQVBfVFlQRV9PRkZTRVRfV0IsCiAJ
STkxNV9NTUFQX1RZUEVfT0ZGU0VUX1VDLAorCUk5MTVfTU1BUF9UWVBFX0RVTUJfV0MsCiB9Owog
CiBzdHJ1Y3QgaTkxNV9tbWFwX29mZnNldCB7CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0v
aTkxNS9pOTE1X2Rydi5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kcnYuYwppbmRleCA4
ZGFkZDZiOWEwYTkuLjFjM2Q1Y2IyODkzYyAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5
MTUvaTkxNV9kcnYuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2Rydi5jCkBAIC0z
MjI5LDcgKzMyMjksNyBAQCBzdGF0aWMgc3RydWN0IGRybV9kcml2ZXIgZHJpdmVyID0gewogCS5n
ZXRfc2Nhbm91dF9wb3NpdGlvbiA9IGk5MTVfZ2V0X2NydGNfc2Nhbm91dHBvcywKIAogCS5kdW1i
X2NyZWF0ZSA9IGk5MTVfZ2VtX2R1bWJfY3JlYXRlLAotCS5kdW1iX21hcF9vZmZzZXQgPSBpOTE1
X2dlbV9tbWFwX2d0dCwKKwkuZHVtYl9tYXBfb2Zmc2V0ID0gaTkxNV9nZW1fbW1hcF9kdW1iLAog
CS5pb2N0bHMgPSBpOTE1X2lvY3RscywKIAkubnVtX2lvY3RscyA9IEFSUkFZX1NJWkUoaTkxNV9p
b2N0bHMpLAogCS5mb3BzID0gJmk5MTVfZHJpdmVyX2ZvcHMsCmRpZmYgLS1naXQgYS9kcml2ZXJz
L2dwdS9kcm0vaTkxNS9pOTE1X2Rydi5oIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kcnYu
aAppbmRleCBkYzJiZjQ4MTY1ZjAuLjcxNWU2MzBhODcyZCAxMDA2NDQKLS0tIGEvZHJpdmVycy9n
cHUvZHJtL2k5MTUvaTkxNV9kcnYuaAorKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2Ry
di5oCkBAIC0yNTEzLDcgKzI1MTMsNyBAQCBpOTE1X211dGV4X2xvY2tfaW50ZXJydXB0aWJsZShz
dHJ1Y3QgZHJtX2RldmljZSAqZGV2KQogaW50IGk5MTVfZ2VtX2R1bWJfY3JlYXRlKHN0cnVjdCBk
cm1fZmlsZSAqZmlsZV9wcml2LAogCQkJIHN0cnVjdCBkcm1fZGV2aWNlICpkZXYsCiAJCQkgc3Ry
dWN0IGRybV9tb2RlX2NyZWF0ZV9kdW1iICphcmdzKTsKLWludCBpOTE1X2dlbV9tbWFwX2d0dChz
dHJ1Y3QgZHJtX2ZpbGUgKmZpbGVfcHJpdiwgc3RydWN0IGRybV9kZXZpY2UgKmRldiwKK2ludCBp
OTE1X2dlbV9tbWFwX2R1bWIoc3RydWN0IGRybV9maWxlICpmaWxlX3ByaXYsIHN0cnVjdCBkcm1f
ZGV2aWNlICpkZXYsCiAJCSAgICAgIHUzMiBoYW5kbGUsIHU2NCAqb2Zmc2V0KTsKIGludCBpOTE1
X2dlbV9tbWFwX2d0dF92ZXJzaW9uKHZvaWQpOwogCi0tIAoyLjIwLjEKCl9fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCkludGVsLWdmeCBtYWlsaW5nIGxpc3QK
SW50ZWwtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9w
Lm9yZy9tYWlsbWFuL2xpc3RpbmZvL2ludGVsLWdmeA==

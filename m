Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 37FCAF5391
	for <lists+intel-gfx@lfdr.de>; Fri,  8 Nov 2019 19:34:47 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 448D46E0A8;
	Fri,  8 Nov 2019 18:34:45 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from fireflyinternet.com (mail.fireflyinternet.com [109.228.58.192])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 1F7316E037;
 Fri,  8 Nov 2019 18:34:42 +0000 (UTC)
X-Default-Received-SPF: pass (skip=forwardok (res=PASS))
 x-ip-name=78.156.65.138; 
Received: from haswell.alporthouse.com (unverified [78.156.65.138]) 
 by fireflyinternet.com (Firefly Internet (M1)) with ESMTP id 19132882-1500050 
 for multiple; Fri, 08 Nov 2019 18:34:12 +0000
From: Chris Wilson <chris@chris-wilson.co.uk>
To: intel-gfx@lists.freedesktop.org
Date: Fri,  8 Nov 2019 18:34:09 +0000
Message-Id: <20191108183409.24736-1-chris@chris-wilson.co.uk>
X-Mailer: git-send-email 2.24.0
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH i-g-t] i915/gem_exec_schedule: Split pi-ringfull
 into two tests
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: igt-dev@lists.freedesktop.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

cGktcmluZ2Z1bGwgdXNlcyAyIGNvbnRleHRzIHRoYXQgc2hhcmUgYSBidWZmZXIuIFRoZSBpbnRl
bnQgd2FzIHRoYXQgdGhlCmNvbnRleHRzIHdlcmUgaW5kZXBlbmRlbnQsIGJ1dCBpdCB3YXMgdGhl
IGVmZmVjdCBvZiB0aGUgZ2xvYmFsIGxvY2sgaGVsZApieSB0aGUgbG93IHByaW9yaXR5IGNsaWVu
dCB0aGF0IHByZXZlbnRlZCB0aGUgaGlnaCBwcmlvcml0eSBjbGllbnQgZnJvbQpleGVjdXRpbmcu
IEkgYmVnYW4gdG8gYWRkIGEgc2Vjb25kIHZhcmlhbnQgd2hlcmUgdGhlcmUgd2FzIGEgc2hhcmVk
CnJlc291cmNlIHdoaWNoIG1heSBpbmR1Y2UgYSBwcmlvcml0eSBpbnZlcnNpb24sIG9ubHkgdG8g
bm90aWNlIHRoZQpleGlzdGluZyB0ZXN0IGFscmVhZHkgaW1wb3NlZCBhIHNoYXJlZCByZXNvdXJj
ZS4gSGVuY2UgYWRkaW5nIGEgc2Vjb25kCnRlc3QgdG8gcmVydW4gcGktcmluZ2Z1bGwgaW4gYm90
aCB1bnNoYXJlZCBhbmQgc2hhcmVkIHJlc291cmNlIG1vZGVzLgoKU2lnbmVkLW9mZi1ieTogQ2hy
aXMgV2lsc29uIDxjaHJpc0BjaHJpcy13aWxzb24uY28udWs+CkNjOiBKb29uYXMgTGFodGluZW4g
PGpvb25hcy5sYWh0aW5lbkBsaW51eC5pbnRlbC5jb20+CkNjOiBUdnJ0a28gVXJzdWxpbiA8dHZy
dGtvLnVyc3VsaW5AaW50ZWwuY29tPgotLS0KIHRlc3RzL2k5MTUvZ2VtX2V4ZWNfc2NoZWR1bGUu
YyB8IDM4ICsrKysrKysrKysrKysrKysrKysrKysrKysrKysrKystLS0KIDEgZmlsZSBjaGFuZ2Vk
LCAzNSBpbnNlcnRpb25zKCspLCAzIGRlbGV0aW9ucygtKQoKZGlmZiAtLWdpdCBhL3Rlc3RzL2k5
MTUvZ2VtX2V4ZWNfc2NoZWR1bGUuYyBiL3Rlc3RzL2k5MTUvZ2VtX2V4ZWNfc2NoZWR1bGUuYwpp
bmRleCA1YzE1ZjE3NzAuLjg0NTgxYmZmZSAxMDA2NDQKLS0tIGEvdGVzdHMvaTkxNS9nZW1fZXhl
Y19zY2hlZHVsZS5jCisrKyBiL3Rlc3RzL2k5MTUvZ2VtX2V4ZWNfc2NoZWR1bGUuYwpAQCAtMTQ2
OCw3ICsxNDY4LDggQEAgc3RhdGljIHZvaWQgYmluZF90b19jcHUoaW50IGNwdSkKIAlpZ3RfYXNz
ZXJ0KHNjaGVkX3NldGFmZmluaXR5KGdldHBpZCgpLCBzaXplb2YoY3B1X3NldF90KSwgJmFsbG93
ZWQpID09IDApOwogfQogCi1zdGF0aWMgdm9pZCB0ZXN0X3BpX3JpbmdmdWxsKGludCBmZCwgdW5z
aWduZWQgaW50IGVuZ2luZSkKK3N0YXRpYyB2b2lkIHRlc3RfcGlfcmluZ2Z1bGwoaW50IGZkLCB1
bnNpZ25lZCBpbnQgZW5naW5lLCB1bnNpZ25lZCBpbnQgZmxhZ3MpCisjZGVmaW5lIFNIQVJFRCBC
SVQoMCkKIHsKIAljb25zdCB1aW50MzJfdCBiYmUgPSBNSV9CQVRDSF9CVUZGRVJfRU5EOwogCXN0
cnVjdCBzaWdhY3Rpb24gc2EgPSB7IC5zYV9oYW5kbGVyID0gYWxhcm1faGFuZGxlciB9OwpAQCAt
MTQ4MCw2ICsxNDgxLDI0IEBAIHN0YXRpYyB2b2lkIHRlc3RfcGlfcmluZ2Z1bGwoaW50IGZkLCB1
bnNpZ25lZCBpbnQgZW5naW5lKQogCXVpbnQzMl90IHZpcDsKIAlib29sICpyZXN1bHQ7CiAKKwkv
KgorCSAqIFdlIHN0YXJ0IHNpbXBsZS4gQSBsb3cgcHJpb3JpdHkgY2xpZW50IHNob3VsZCBuZXZl
ciBwcmV2ZW50IGEgaGlnaAorCSAqIHByaW9yaXR5IGNsaWVudCBmcm9tIHN1Ym1pdHRpbmcgdGhl
aXIgd29yazsgZXZlbiBpZiB0aGUgbG93IHByaW9yaXR5CisJICogY2xpZW50IGV4aGF1c3RzIHRo
ZWlyIHJpbmdidWZmZXIgYW5kIHNvIGlzIHRocm90dGxlZC4KKwkgKgorCSAqIFNIQVJFRDogQSB2
YXJpYW50IG9uIHRoZSBhYm92ZSBydWxlIGlzIHRoYXQgZXZlbiBpcyB0aGUgMiBjbGllbnRzCisJ
ICogc2hhcmUgYSByZWFkLW9ubHkgcmVzb3VyY2UsIHRoZSBibG9ja2VkIGxvdyBwcmlvcml0eSBj
bGllbnQgc2hvdWxkCisJICogbm90IHByZXZlbnQgdGhlIGhpZ2ggcHJpb3JpdHkgY2xpZW50IGZy
b20gZXhlY3V0aW5nLiBBIGJ1ZmZlciwKKwkgKiBlLmcuIHRoZSBiYXRjaCBidWZmZXIsIHRoYXQg
aXMgc2hhcmVkIG9ubHkgZm9yIHJlYWRzIChubyB3cml0ZQorCSAqIGhhemFyZCwgc28gdGhlIHJl
YWRzIGNhbiBiZSBleGVjdXRlZCBpbiBwYXJhbGxlbCBvciBpbiBhbnkgb3JkZXIpLAorCSAqIHNv
IG5vdCBjYXVzZSBwcmlvcml0eSBpbnZlcnNpb24gZHVlIHRvIHRoZSByZXNvdXJjZSBjb25mbGlj
dC4KKwkgKgorCSAqIEZpcnN0LCB3ZSBoYXZlIHRoZSBsb3cgcHJpb3JpdHkgY29udGV4dCB3aG8g
ZmlsbHMgdGhlaXIgcmluZyBhbmQgc28KKwkgKiBibG9ja3MuIEFzIHNvb24gYXMgdGhhdCBjb250
ZXh0IGJsb2Nrcywgd2UgdHJ5IHRvIHN1Ym1pdCBhIGhpZ2gKKwkgKiBwcmlvcml0eSBiYXRjaCwg
d2hpY2ggc2hvdWxkIGJlIGV4ZWN1dGVkIGltbWVkaWF0ZWx5IGJlZm9yZSB0aGUgbG93CisJICog
cHJpb3JpdHkgY29udGV4dCBpcyB1bmJsb2NrZWQuCisJICovCisKIAlyZXN1bHQgPSBtbWFwKE5V
TEwsIDQwOTYsIFBST1RfV1JJVEUsIE1BUF9TSEFSRUQgfCBNQVBfQU5PTiwgLTEsIDApOwogCWln
dF9hc3NlcnQocmVzdWx0ICE9IE1BUF9GQUlMRUQpOwogCkBAIC0xNTQ1LDYgKzE1NjQsMTIgQEAg
c3RhdGljIHZvaWQgdGVzdF9waV9yaW5nZnVsbChpbnQgZmQsIHVuc2lnbmVkIGludCBlbmdpbmUp
CiAJaWd0X2ZvcmsoY2hpbGQsIDEpIHsKIAkJaW50IGVycjsKIAorCQkvKiBSZXBsYWNlIG91ciBi
YXRjaCB0byBhdm9pZCBjb25mbGljdHMgb3ZlciBzaGFyZWQgcmVzb3VyY2VzPyAqLworCQlpZiAo
IShmbGFncyAmIFNIQVJFRCkpIHsKKwkJCW9ialsxXS5oYW5kbGUgPSBnZW1fY3JlYXRlKGZkLCA0
MDk2KTsKKwkJCWdlbV93cml0ZShmZCwgb2JqWzFdLmhhbmRsZSwgMCwgJmJiZSwgc2l6ZW9mKGJi
ZSkpOworCQl9CisKIAkJcmVzdWx0WzBdID0gdmlwICE9IGV4ZWNidWYucnN2ZDE7CiAKIAkJaWd0
X2RlYnVnKCJXYWtpbmcgcGFyZW50XG4iKTsKQEAgLTE1NTcsNyArMTU4Miw4IEBAIHN0YXRpYyB2
b2lkIHRlc3RfcGlfcmluZ2Z1bGwoaW50IGZkLCB1bnNpZ25lZCBpbnQgZW5naW5lKQogCQlpdHYu
aXRfdmFsdWUudHZfdXNlYyA9IDEwMDAwOwogCQlzZXRpdGltZXIoSVRJTUVSX1JFQUwsICZpdHYs
IE5VTEwpOwogCi0JCS8qIFNpbmNlIHdlIGFyZSB0aGUgaGlnaCBwcmlvcml0eSB0YXNrLCB3ZSBl
eHBlY3QgdG8gYmUKKwkJLyoKKwkJICogU2luY2Ugd2UgYXJlIHRoZSBoaWdoIHByaW9yaXR5IHRh
c2ssIHdlIGV4cGVjdCB0byBiZQogCQkgKiBhYmxlIHRvIGFkZCBvdXJzZWx2ZXMgdG8gKm91ciog
cmluZyB3aXRob3V0IGludGVycnVwdGlvbi4KIAkJICovCiAJCWlndF9kZWJ1ZygiSFAgY2hpbGQg
ZXhlY3V0aW5nXG4iKTsKQEAgLTE1NjksNiArMTU5NSw5IEBAIHN0YXRpYyB2b2lkIHRlc3RfcGlf
cmluZ2Z1bGwoaW50IGZkLCB1bnNpZ25lZCBpbnQgZW5naW5lKQogCQlzZXRpdGltZXIoSVRJTUVS
X1JFQUwsICZpdHYsIE5VTEwpOwogCiAJCXJlc3VsdFsyXSA9IGVyciA9PSAwOworCisJCWlmICgh
KGZsYWdzICYgU0hBUkVEKSkKKwkJCWdlbV9jbG9zZShmZCwgb2JqWzFdLmhhbmRsZSk7CiAJfQog
CiAJLyogUmVsaW5xdWlzaCBDUFUganVzdCB0byBhbGxvdyBjaGlsZCB0byBjcmVhdGUgYSBjb250
ZXh0ICovCkBAIC0xODMxLDcgKzE4NjAsMTAgQEAgaWd0X21haW4KIAkJCQl9CiAKIAkJCQlpZ3Rf
c3VidGVzdF9mKCJwaS1yaW5nZnVsbC0lcyIsIGUtPm5hbWUpCi0JCQkJCXRlc3RfcGlfcmluZ2Z1
bGwoZmQsIGViX3JpbmcoZSkpOworCQkJCQl0ZXN0X3BpX3JpbmdmdWxsKGZkLCBlYl9yaW5nKGUp
LCAwKTsKKworCQkJCWlndF9zdWJ0ZXN0X2YoInBpLWNvbW1vbi0lcyIsIGUtPm5hbWUpCisJCQkJ
CXRlc3RfcGlfcmluZ2Z1bGwoZmQsIGViX3JpbmcoZSksIFNIQVJFRCk7CiAJCQl9CiAJCX0KIAl9
Ci0tIAoyLjI0LjAKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fCkludGVsLWdmeCBtYWlsaW5nIGxpc3QKSW50ZWwtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9y
ZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2ludGVsLWdm
eA==

Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 29D14792C2
	for <lists+intel-gfx@lfdr.de>; Mon, 29 Jul 2019 20:04:16 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 023466E17E;
	Mon, 29 Jul 2019 18:04:14 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga05.intel.com (mga05.intel.com [192.55.52.43])
 by gabe.freedesktop.org (Postfix) with ESMTPS id CB5816E17E
 for <intel-gfx@lists.freedesktop.org>; Mon, 29 Jul 2019 18:04:12 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga007.jf.intel.com ([10.7.209.58])
 by fmsmga105.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 29 Jul 2019 11:04:12 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.64,323,1559545200"; d="scan'208";a="162306555"
Received: from dceraolo-linux.fm.intel.com (HELO [10.1.27.145]) ([10.1.27.145])
 by orsmga007.jf.intel.com with ESMTP; 29 Jul 2019 11:04:11 -0700
To: Michal Wajdeczko <michal.wajdeczko@intel.com>,
 intel-gfx@lists.freedesktop.org
References: <20190729152301.22588-1-michal.wajdeczko@intel.com>
 <20190729152301.22588-5-michal.wajdeczko@intel.com>
From: Daniele Ceraolo Spurio <daniele.ceraolospurio@intel.com>
Message-ID: <b83765ab-42b3-6560-1d83-4453f5e47d3b@intel.com>
Date: Mon, 29 Jul 2019 11:04:00 -0700
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101
 Thunderbird/60.8.0
MIME-Version: 1.0
In-Reply-To: <20190729152301.22588-5-michal.wajdeczko@intel.com>
Content-Language: en-US
Subject: Re: [Intel-gfx] [PATCH 4/4] drm/i915/wopcm: Don't fail on WOPCM
 partitioning failure
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

CgpPbiA3LzI5LzE5IDg6MjMgQU0sIE1pY2hhbCBXYWpkZWN6a28gd3JvdGU6Cj4gV2Ugc2hvdWxk
bid0IGltbWVkaWF0ZWx5IGZhaWwgb24gV09QQ00gcGFydGl0aW9uaW5nIG9yIHByb2dyYW1taW5n
Cj4gYXMgd2UgcGxhbiB0byByZXN0b3JlIGZhbGxiYWNrIG9uIGFueSBHdUMgcmVsYXRlZCBmYWls
dXJlcy4KPiAKPiBXaGlsZSBhcm91bmQsIGFkZCBzb21lIG1vcmUgcHJvYmUgZmFpbHVyZSBpbmpl
Y3Rpb25zLgo+IAoKSSB3YXMgcGxhbm5pbmcgdG8gbW92ZSB0aGUgdUMgd29wY20gcHJvZ3JhbW1p
bmcgdG8gaW50ZWxfdWNfaW5pdF9odygpIAood2hlcmUgeW91IG5vdyBoYXZlIGludGVsX3dvcGNt
X2lzX3JlYWR5KSBzaW5jZSB3ZSdyZSBhY3R1YWxseSBub3QgCmluaXRpYWxpemluZyBhbnkgd29w
Y20gSFcgYnV0IHVDIEhXIHJlbGF0ZWQgdG8gaG93L3doZXJlIHRoZSB1QyBhY2Nlc3NlcyAKdGhl
IHdvcGNtLiBUaGF0IHdvdWxkIGFsbG93IHVzIHRvIHJldHVybiB0aGUgZmFpbHVyZSBkaXJlY3Rs
eSBmcm9tIHRoZSAKZnVuY3Rpb24gd2l0aG91dCBoYXZpbmcgdG8gc2F2ZSBzdGF0ZS4gVGhvdWdo
dHM/CgpEYW5pZWxlCgo+IFNpZ25lZC1vZmYtYnk6IE1pY2hhbCBXYWpkZWN6a28gPG1pY2hhbC53
YWpkZWN6a29AaW50ZWwuY29tPgo+IENjOiBEYW5pZWxlIENlcmFvbG8gU3B1cmlvIDxkYW5pZWxl
LmNlcmFvbG9zcHVyaW9AaW50ZWwuY29tPgo+IENjOiBDaHJpcyBXaWxzb24gPGNocmlzQGNocmlz
LXdpbHNvbi5jby51az4KPiAtLS0KPiAgIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L3VjL2ludGVs
X3VjLmMgfCAgMyArKwo+ICAgZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9nZW0uYyAgICAgICB8
IDEyICstLS0tCj4gICBkcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF93b3BjbS5jICAgIHwgNjYg
KysrKysrKysrKysrKysrLS0tLS0tLS0tLS0tCj4gICBkcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRl
bF93b3BjbS5oICAgIHwgMTEgKysrKy0KPiAgIDQgZmlsZXMgY2hhbmdlZCwgNTAgaW5zZXJ0aW9u
cygrKSwgNDIgZGVsZXRpb25zKC0pCj4gCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9p
OTE1L2d0L3VjL2ludGVsX3VjLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC91Yy9pbnRlbF91
Yy5jCj4gaW5kZXggOWUxMTU2YzI5Y2IxLi5mMDk2MDYzMTg5ZDQgMTAwNjQ0Cj4gLS0tIGEvZHJp
dmVycy9ncHUvZHJtL2k5MTUvZ3QvdWMvaW50ZWxfdWMuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2d0L3VjL2ludGVsX3VjLmMKPiBAQCAtNDEwLDYgKzQxMCw5IEBAIGludCBpbnRlbF91
Y19pbml0X2h3KHN0cnVjdCBpbnRlbF91YyAqdWMpCj4gICAKPiAgIAlHRU1fQlVHX09OKCFpbnRl
bF91Y19md19zdXBwb3J0ZWQoJmd1Yy0+ZncpKTsKPiAgIAo+ICsJaWYgKCFpbnRlbF93b3BjbV9p
c19yZWFkeSgmaTkxNS0+d29wY20pKQo+ICsJCXJldHVybiAtRU5YSU87Cj4gKwo+ICAgCWd1Y19y
ZXNldF9pbnRlcnJ1cHRzKGd1Yyk7Cj4gICAKPiAgIAkvKiBXYUVuYWJsZXVLZXJuZWxIZWFkZXJW
YWxpZEZpeDpza2wgKi8KPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9n
ZW0uYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZ2VtLmMKPiBpbmRleCBjNDM3YWI1NTU0
ZWMuLjAyZTA5ODY0ODU2ZiAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1
X2dlbS5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9nZW0uYwo+IEBAIC0xMjM5
LDExICsxMjM5LDcgQEAgaW50IGk5MTVfZ2VtX2luaXRfaHcoc3RydWN0IGRybV9pOTE1X3ByaXZh
dGUgKmk5MTUpCj4gICAJCWdvdG8gb3V0Owo+ICAgCX0KPiAgIAo+IC0JcmV0ID0gaW50ZWxfd29w
Y21faW5pdF9odygmaTkxNS0+d29wY20sIGd0KTsKPiAtCWlmIChyZXQpIHsKPiAtCQlEUk1fRVJS
T1IoIkVuYWJsaW5nIFdPUENNIGZhaWxlZCAoJWQpXG4iLCByZXQpOwo+IC0JCWdvdG8gb3V0Owo+
IC0JfQo+ICsJaW50ZWxfd29wY21faW5pdF9odygmaTkxNS0+d29wY20sIGd0KTsKPiAgIAo+ICAg
CS8qIFdlIGNhbid0IGVuYWJsZSBjb250ZXh0cyB1bnRpbCBhbGwgZmlybXdhcmUgaXMgbG9hZGVk
ICovCj4gICAJcmV0ID0gaW50ZWxfdWNfaW5pdF9odygmaTkxNS0+Z3QudWMpOwo+IEBAIC0xNDMy
LDEwICsxNDI4LDcgQEAgaW50IGk5MTVfZ2VtX2luaXQoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUg
KmRldl9wcml2KQo+ICAgCQlyZXR1cm4gcmV0Owo+ICAgCj4gICAJaW50ZWxfdWNfZmV0Y2hfZmly
bXdhcmVzKCZkZXZfcHJpdi0+Z3QudWMpOwo+IC0KPiAtCXJldCA9IGludGVsX3dvcGNtX2luaXQo
JmRldl9wcml2LT53b3BjbSk7Cj4gLQlpZiAocmV0KQo+IC0JCWdvdG8gZXJyX3VjX2Z3Owo+ICsJ
aW50ZWxfd29wY21faW5pdCgmZGV2X3ByaXYtPndvcGNtKTsKPiAgIAo+ICAgCS8qIFRoaXMgaXMg
anVzdCBhIHNlY3VyaXR5IGJsYW5rZXQgdG8gcGxhY2F0ZSBkcmFnb25zLgo+ICAgCSAqIE9uIHNv
bWUgc3lzdGVtcywgd2UgdmVyeSBzcG9yYWRpY2FsbHkgb2JzZXJ2ZSB0aGF0IHRoZSBmaXJzdCBU
TEJzCj4gQEAgLTE1NTksNyArMTU1Miw2IEBAIGludCBpOTE1X2dlbV9pbml0KHN0cnVjdCBkcm1f
aTkxNV9wcml2YXRlICpkZXZfcHJpdikKPiAgIAlpbnRlbF91bmNvcmVfZm9yY2V3YWtlX3B1dCgm
ZGV2X3ByaXYtPnVuY29yZSwgRk9SQ0VXQUtFX0FMTCk7Cj4gICAJbXV0ZXhfdW5sb2NrKCZkZXZf
cHJpdi0+ZHJtLnN0cnVjdF9tdXRleCk7Cj4gICAKPiAtZXJyX3VjX2Z3Ogo+ICAgCWludGVsX3Vj
X2NsZWFudXBfZmlybXdhcmVzKCZkZXZfcHJpdi0+Z3QudWMpOwo+ICAgCj4gICAJaWYgKHJldCAh
PSAtRUlPKSB7Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX3dvcGNt
LmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF93b3BjbS5jCj4gaW5kZXggZTE3M2E4ZTYx
YmZkLi44OWIyZmZlZjg3OWEgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50
ZWxfd29wY20uYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX3dvcGNtLmMKPiBA
QCAtMTM3LDcgKzEzNywxMSBAQCBzdGF0aWMgaW5saW5lIGludCBjaGVja19od19yZXN0cmljdGlv
bihzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSwKPiAgIAkJCQkgICAgICAgdTMyIGd1Y193
b3BjbV9iYXNlLCB1MzIgZ3VjX3dvcGNtX3NpemUsCj4gICAJCQkJICAgICAgIHUzMiBodWNfZndf
c2l6ZSkKPiAgIHsKPiAtCWludCBlcnIgPSAwOwo+ICsJaW50IGVycjsKPiArCj4gKwllcnIgPSBp
OTE1X2luamVjdF9sb2FkX2Vycm9yKGk5MTUsIC1FMkJJRyk7Cj4gKwlpZiAoZXJyKQo+ICsJCXJl
dHVybiBlcnI7Cj4gICAKPiAgIAlpZiAoSVNfR0VOKGk5MTUsIDkpKQo+ICAgCQllcnIgPSBnZW45
X2NoZWNrX2R3b3JkX2dhcChndWNfd29wY21fYmFzZSwgZ3VjX3dvcGNtX3NpemUpOwo+IEBAIC0x
NTYsMTIgKzE2MCwxMCBAQCBzdGF0aWMgaW5saW5lIGludCBjaGVja19od19yZXN0cmljdGlvbihz
dHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSwKPiAgICAqIFRoaXMgZnVuY3Rpb24gd2lsbCBw
YXJ0aXRpb24gV09QQ00gc3BhY2UgYmFzZWQgb24gR3VDIGFuZCBIdUMgZmlybXdhcmUgc2l6ZXMK
PiAgICAqIGFuZCB3aWxsIGFsbG9jYXRlIG1heCByZW1haW5pbmcgZm9yIHVzZSBieSBHdUMuIFRo
aXMgZnVuY3Rpb24gd2lsbCBhbHNvCj4gICAgKiBlbmZvcmNlIHBsYXRmb3JtIGRlcGVuZGVudCBo
YXJkd2FyZSByZXN0cmljdGlvbnMgb24gR3VDIFdPUENNIG9mZnNldCBhbmQKPiAtICogc2l6ZS4g
SXQgd2lsbCBmYWlsIHRoZSBXT1BDTSBpbml0IGlmIGFueSBvZiB0aGVzZSBjaGVja3Mgd2VyZSBm
YWlsZWQsIHNvIHRoYXQKPiAtICogdGhlIGZvbGxvd2luZyBHdUMgZmlybXdhcmUgdXBsb2FkaW5n
IHdvdWxkIGJlIGFib3J0ZWQuCj4gLSAqCj4gLSAqIFJldHVybjogMCBvbiBzdWNjZXNzLCBub24t
emVybyBlcnJvciBjb2RlIG9uIGZhaWx1cmUuCj4gKyAqIHNpemUuIEl0IHdpbGwgZmFpbCB0aGUg
V09QQ00gaW5pdCBpZiBhbnkgb2YgdGhlc2UgY2hlY2tzIGZhaWwsIHNvIHRoYXQgdGhlCj4gKyAq
IGZvbGxvd2luZyBXT1BDTSByZWdpc3RlcnMgc2V0dXAgYW5kIEd1QyBmaXJtd2FyZSB1cGxvYWRp
bmcgd291bGQgYmUgYWJvcnRlZC4KPiAgICAqLwo+IC1pbnQgaW50ZWxfd29wY21faW5pdChzdHJ1
Y3QgaW50ZWxfd29wY20gKndvcGNtKQo+ICt2b2lkIGludGVsX3dvcGNtX2luaXQoc3RydWN0IGlu
dGVsX3dvcGNtICp3b3BjbSkKPiAgIHsKPiAgIAlzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkx
NSA9IHdvcGNtX3RvX2k5MTUod29wY20pOwo+ICAgCXUzMiBndWNfZndfc2l6ZSA9IGludGVsX3Vj
X2Z3X2dldF91cGxvYWRfc2l6ZSgmaTkxNS0+Z3QudWMuZ3VjLmZ3KTsKPiBAQCAtMTczLDIzICsx
NzUsMjMgQEAgaW50IGludGVsX3dvcGNtX2luaXQoc3RydWN0IGludGVsX3dvcGNtICp3b3BjbSkK
PiAgIAlpbnQgZXJyOwo+ICAgCj4gICAJaWYgKCFVU0VTX0dVQyhpOTE1KSkKPiAtCQlyZXR1cm4g
MDsKPiArCQlyZXR1cm47Cj4gICAKPiAgIAlHRU1fQlVHX09OKCF3b3BjbS0+c2l6ZSk7Cj4gICAK
PiAgIAlpZiAoaTkxNV9pbmplY3RfcHJvYmVfZmFpbHVyZShpOTE1KSkKPiAtCQlyZXR1cm4gLUUy
QklHOwo+ICsJCXJldHVybjsKPiAgIAo+ICAgCWlmIChndWNfZndfc2l6ZSA+PSB3b3BjbS0+c2l6
ZSkgewo+ICAgCQlEUk1fRVJST1IoIkd1QyBGVyAoJXVLaUIpIGlzIHRvbyBiaWcgdG8gZml0IGlu
IFdPUENNLiIsCj4gICAJCQkgIGd1Y19md19zaXplIC8gMTAyNCk7Cj4gLQkJcmV0dXJuIC1FMkJJ
RzsKPiArCQlnb3RvIGZhaWw7Cj4gICAJfQo+ICAgCj4gICAJaWYgKGh1Y19md19zaXplID49IHdv
cGNtLT5zaXplKSB7Cj4gICAJCURSTV9FUlJPUigiSHVDIEZXICgldUtpQikgaXMgdG9vIGJpZyB0
byBmaXQgaW4gV09QQ00uIiwKPiAgIAkJCSAgaHVjX2Z3X3NpemUgLyAxMDI0KTsKPiAtCQlyZXR1
cm4gLUUyQklHOwo+ICsJCWdvdG8gZmFpbDsKPiAgIAl9Cj4gICAKPiAgIAlndWNfd29wY21fYmFz
ZSA9IEFMSUdOKGh1Y19md19zaXplICsgV09QQ01fUkVTRVJWRURfU0laRSwKPiBAQCAtMTk3LDcg
KzE5OSw3IEBAIGludCBpbnRlbF93b3BjbV9pbml0KHN0cnVjdCBpbnRlbF93b3BjbSAqd29wY20p
Cj4gICAJaWYgKChndWNfd29wY21fYmFzZSArIGN0eF9yc3ZkKSA+PSB3b3BjbS0+c2l6ZSkgewo+
ICAgCQlEUk1fRVJST1IoIkd1QyBXT1BDTSBiYXNlICgldUtpQikgaXMgdG9vIGJpZy5cbiIsCj4g
ICAJCQkgIGd1Y193b3BjbV9iYXNlIC8gMTAyNCk7Cj4gLQkJcmV0dXJuIC1FMkJJRzsKPiArCQln
b3RvIGZhaWw7Cj4gICAJfQo+ICAgCj4gICAJZ3VjX3dvcGNtX3NpemUgPSB3b3BjbS0+c2l6ZSAt
IGd1Y193b3BjbV9iYXNlIC0gY3R4X3JzdmQ7Cj4gQEAgLTIxMSwxOCArMjEzLDE5IEBAIGludCBp
bnRlbF93b3BjbV9pbml0KHN0cnVjdCBpbnRlbF93b3BjbSAqd29wY20pCj4gICAJCURSTV9FUlJP
UigiTmVlZCAldUtpQiBXT1BDTSBmb3IgR3VDLCAldUtpQiBhdmFpbGFibGUuXG4iLAo+ICAgCQkJ
ICAoZ3VjX2Z3X3NpemUgKyBndWNfd29wY21fcnN2ZCkgLyAxMDI0LAo+ICAgCQkJICBndWNfd29w
Y21fc2l6ZSAvIDEwMjQpOwo+IC0JCXJldHVybiAtRTJCSUc7Cj4gKwkJZ290byBmYWlsOwo+ICAg
CX0KPiAgIAo+ICAgCWVyciA9IGNoZWNrX2h3X3Jlc3RyaWN0aW9uKGk5MTUsIGd1Y193b3BjbV9i
YXNlLCBndWNfd29wY21fc2l6ZSwKPiAgIAkJCQkgICBodWNfZndfc2l6ZSk7Cj4gICAJaWYgKGVy
cikKPiAtCQlyZXR1cm4gZXJyOwo+ICsJCWdvdG8gZmFpbDsKPiAgIAo+ICAgCXdvcGNtLT5ndWMu
YmFzZSA9IGd1Y193b3BjbV9iYXNlOwo+ICAgCXdvcGNtLT5ndWMuc2l6ZSA9IGd1Y193b3BjbV9z
aXplOwo+IC0KPiAtCXJldHVybiAwOwo+ICsJcmV0dXJuOwo+ICtmYWlsOgo+ICsJSTkxNV9XQVJO
KGk5MTUsICJXT1BDTSBwYXJ0aXRpb25pbmcgZmFpbGVkLCBHdUMgd2lsbCBmYWlsIHRvIGxvYWQh
XG4iKTsKPiAgIH0KPiAgIAo+ICAgc3RhdGljIGludAo+IEBAIC0yMzEsMTQgKzIzNCwyNSBAQCB3
cml0ZV9hbmRfdmVyaWZ5KHN0cnVjdCBpbnRlbF9ndCAqZ3QsCj4gICB7Cj4gICAJc3RydWN0IGlu
dGVsX3VuY29yZSAqdW5jb3JlID0gZ3QtPnVuY29yZTsKPiAgIAl1MzIgcmVnX3ZhbDsKPiArCWlu
dCBlcnI7Cj4gICAKPiAgIAlHRU1fQlVHX09OKHZhbCAmIH5tYXNrKTsKPiAgIAo+ICsJZXJyID0g
aTkxNV9pbmplY3RfbG9hZF9lcnJvcihndC0+aTkxNSwgLUVJTyk7Cj4gKwlpZiAoZXJyKQo+ICsJ
CXJldHVybiBlcnI7Cj4gKwo+ICAgCWludGVsX3VuY29yZV93cml0ZSh1bmNvcmUsIHJlZywgdmFs
KTsKPiAgIAo+ICAgCXJlZ192YWwgPSBpbnRlbF91bmNvcmVfcmVhZCh1bmNvcmUsIHJlZyk7Cj4g
ICAKPiAtCXJldHVybiAocmVnX3ZhbCAmIG1hc2spICE9ICh2YWwgfCBsb2NrZWRfYml0KSA/IC1F
SU8gOiAwOwo+ICsJaWYgKChyZWdfdmFsICYgbWFzaykgIT0gKHZhbCB8IGxvY2tlZF9iaXQpKSB7
Cj4gKwkJSTkxNV9XQVJOKGd0LT5pOTE1LCAiV09QQ00gcmVnaXN0ZXIgJSN4PSUjeFxuIiwKPiAr
CQkJICBpOTE1X21taW9fcmVnX29mZnNldChyZWcpLCByZWdfdmFsKTsKPiArCQlyZXR1cm4gLUVJ
TzsKPiArCX0KPiArCj4gKwlyZXR1cm4gMDsKPiAgIH0KPiAgIAo+ICAgLyoqCj4gQEAgLTI0OSwx
OSArMjYzLDE2IEBAIHdyaXRlX2FuZF92ZXJpZnkoc3RydWN0IGludGVsX2d0ICpndCwKPiAgICAq
IFNldHVwIHRoZSBHdUMgV09QQ00gc2l6ZSBhbmQgb2Zmc2V0IHJlZ2lzdGVycyB3aXRoIHRoZSBj
YWxjdWxhdGVkIHZhbHVlcy4gSXQKPiAgICAqIHdpbGwgdmVyaWZ5IHRoZSByZWdpc3RlciB2YWx1
ZXMgdG8gbWFrZSBzdXJlIHRoZSByZWdpc3RlcnMgYXJlIGxvY2tlZCB3aXRoCj4gICAgKiBjb3Jy
ZWN0IHZhbHVlcy4KPiAtICoKPiAtICogUmV0dXJuOiAwIG9uIHN1Y2Nlc3MuIC1FSU8gaWYgcmVn
aXN0ZXJzIHdlcmUgbG9ja2VkIHdpdGggaW5jb3JyZWN0IHZhbHVlcy4KPiAgICAqLwo+IC1pbnQg
aW50ZWxfd29wY21faW5pdF9odyhzdHJ1Y3QgaW50ZWxfd29wY20gKndvcGNtLCBzdHJ1Y3QgaW50
ZWxfZ3QgKmd0KQo+ICt2b2lkIGludGVsX3dvcGNtX2luaXRfaHcoc3RydWN0IGludGVsX3dvcGNt
ICp3b3BjbSwgc3RydWN0IGludGVsX2d0ICpndCkKPiAgIHsKPiAgIAlzdHJ1Y3QgZHJtX2k5MTVf
cHJpdmF0ZSAqaTkxNSA9IHdvcGNtX3RvX2k5MTUod29wY20pOwo+IC0Jc3RydWN0IGludGVsX3Vu
Y29yZSAqdW5jb3JlID0gZ3QtPnVuY29yZTsKPiAgIAl1MzIgaHVjX2FnZW50Owo+ICAgCXUzMiBt
YXNrOwo+ICAgCWludCBlcnI7Cj4gICAKPiAtCWlmICghVVNFU19HVUMoaTkxNSkpCj4gLQkJcmV0
dXJuIDA7Cj4gKwlpZiAoIWludGVsX3dvcGNtX2d1Y19zaXplKHdvcGNtKSkKPiArCQlyZXR1cm47
Cj4gICAKPiAgIAlHRU1fQlVHX09OKCFIQVNfR1RfVUMoaTkxNSkpOwo+ICAgCUdFTV9CVUdfT04o
IXdvcGNtLT5ndWMuc2l6ZSk7Cj4gQEAgLTI4MSwxNCArMjkyLDkgQEAgaW50IGludGVsX3dvcGNt
X2luaXRfaHcoc3RydWN0IGludGVsX3dvcGNtICp3b3BjbSwgc3RydWN0IGludGVsX2d0ICpndCkK
PiAgIAlpZiAoZXJyKQo+ICAgCQlnb3RvIGVycl9vdXQ7Cj4gICAKPiAtCXJldHVybiAwOwo+ICsJ
d29wY20tPnJlYWR5ID0gdHJ1ZTsKPiArCXJldHVybjsKPiAgIAo+ICAgZXJyX291dDoKPiAtCURS
TV9FUlJPUigiRmFpbGVkIHRvIGluaXQgV09QQ00gcmVnaXN0ZXJzOlxuIik7Cj4gLQlEUk1fRVJS
T1IoIkRNQV9HVUNfV09QQ01fT0ZGU0VUPSUjeFxuIiwKPiAtCQkgIGludGVsX3VuY29yZV9yZWFk
KHVuY29yZSwgRE1BX0dVQ19XT1BDTV9PRkZTRVQpKTsKPiAtCURSTV9FUlJPUigiR1VDX1dPUENN
X1NJWkU9JSN4XG4iLAo+IC0JCSAgaW50ZWxfdW5jb3JlX3JlYWQodW5jb3JlLCBHVUNfV09QQ01f
U0laRSkpOwo+IC0KPiAtCXJldHVybiBlcnI7Cj4gKwlJOTE1X1dBUk4oaTkxNSwgIldPUENNIHBy
b2dyYW1taW5nIGZhaWxlZCwgR3VDIHdpbGwgZmFpbCB0byBsb2FkIVxuIik7Cj4gICB9Cj4gZGlm
ZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX3dvcGNtLmggYi9kcml2ZXJzL2dw
dS9kcm0vaTkxNS9pbnRlbF93b3BjbS5oCj4gaW5kZXggNTZhYWVkNGQ2NGZmLi5kYWY5YzFkYmUy
MGIgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfd29wY20uaAo+ICsr
KyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX3dvcGNtLmgKPiBAQCAtMTcsNiArMTcsNyBA
QCBzdHJ1Y3QgaW50ZWxfZ3Q7Cj4gICAgKiBAZ3VjOiBHdUMgV09QQ00gUmVnaW9uIGluZm8uCj4g
ICAgKiBAZ3VjLmJhc2U6IEd1QyBXT1BDTSBiYXNlIHdoaWNoIGlzIG9mZnNldCBmcm9tIFdPUENN
IGJhc2UuCj4gICAgKiBAZ3VjLnNpemU6IFNpemUgb2YgdGhlIEd1QyBXT1BDTSByZWdpb24uCj4g
KyAqIEByZWFkeTogaW5kaWNhdGVzIHRoYXQgV09QQ00gcmVnaXN0ZXJzIGFyZSBjb3JyZWN0bHkg
cHJvZ3JhbW1lZC4KPiAgICAqLwo+ICAgc3RydWN0IGludGVsX3dvcGNtIHsKPiAgIAl1MzIgc2l6
ZTsKPiBAQCAtMjQsNiArMjUsNyBAQCBzdHJ1Y3QgaW50ZWxfd29wY20gewo+ICAgCQl1MzIgYmFz
ZTsKPiAgIAkJdTMyIHNpemU7Cj4gICAJfSBndWM7Cj4gKwlib29sIHJlYWR5Owo+ICAgfTsKPiAg
IAo+ICAgLyoqCj4gQEAgLTQyLDcgKzQ0LDEyIEBAIHN0YXRpYyBpbmxpbmUgdTMyIGludGVsX3dv
cGNtX2d1Y19zaXplKHN0cnVjdCBpbnRlbF93b3BjbSAqd29wY20pCj4gICB9Cj4gICAKPiAgIHZv
aWQgaW50ZWxfd29wY21faW5pdF9lYXJseShzdHJ1Y3QgaW50ZWxfd29wY20gKndvcGNtKTsKPiAt
aW50IGludGVsX3dvcGNtX2luaXQoc3RydWN0IGludGVsX3dvcGNtICp3b3BjbSk7Cj4gLWludCBp
bnRlbF93b3BjbV9pbml0X2h3KHN0cnVjdCBpbnRlbF93b3BjbSAqd29wY20sIHN0cnVjdCBpbnRl
bF9ndCAqZ3QpOwo+ICt2b2lkIGludGVsX3dvcGNtX2luaXQoc3RydWN0IGludGVsX3dvcGNtICp3
b3BjbSk7Cj4gK3ZvaWQgaW50ZWxfd29wY21faW5pdF9odyhzdHJ1Y3QgaW50ZWxfd29wY20gKndv
cGNtLCBzdHJ1Y3QgaW50ZWxfZ3QgKmd0KTsKPiArCj4gK3N0YXRpYyBpbmxpbmUgYm9vbCBpbnRl
bF93b3BjbV9pc19yZWFkeShzdHJ1Y3QgaW50ZWxfd29wY20gKndvcGNtKQo+ICt7Cj4gKwlyZXR1
cm4gd29wY20tPnJlYWR5Owo+ICt9Cj4gICAKPiAgICNlbmRpZgo+IApfX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpJbnRlbC1nZnggbWFpbGluZyBsaXN0Cklu
dGVsLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5v
cmcvbWFpbG1hbi9saXN0aW5mby9pbnRlbC1nZng=

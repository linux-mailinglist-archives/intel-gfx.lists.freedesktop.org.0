Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 2214F2B1DD6
	for <lists+intel-gfx@lfdr.de>; Fri, 13 Nov 2020 15:54:20 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 3A7E66E546;
	Fri, 13 Nov 2020 14:54:16 +0000 (UTC)
X-Original-To: Intel-gfx@lists.freedesktop.org
Delivered-To: Intel-gfx@lists.freedesktop.org
Received: from mga09.intel.com (mga09.intel.com [134.134.136.24])
 by gabe.freedesktop.org (Postfix) with ESMTPS id A26EF6E507;
 Fri, 13 Nov 2020 14:54:14 +0000 (UTC)
IronPort-SDR: sMEi5FumjOY1aWvQDOCAQ3gwukOOgdO0JKASP3LloWfIiVCS4HdubjnSSwvJ/KoSDMooCUqEch
 Av7twiAAKcwA==
X-IronPort-AV: E=McAfee;i="6000,8403,9803"; a="170651232"
X-IronPort-AV: E=Sophos;i="5.77,475,1596524400"; d="scan'208";a="170651232"
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga005.jf.intel.com ([10.7.209.41])
 by orsmga102.jf.intel.com with ESMTP/TLS/ECDHE-RSA-AES256-GCM-SHA384;
 13 Nov 2020 06:54:14 -0800
IronPort-SDR: jruQ1lGlb/8u2ib8IyuuHUajEUHABqXCmS4g2Eaju9s6ByC6Vojsi9la0pRZps01euB9htYZZv
 kBZPmRpZsf0g==
X-IronPort-AV: E=Sophos;i="5.77,475,1596524400"; d="scan'208";a="542679889"
Received: from shalomzo-mobl1.ger.corp.intel.com (HELO localhost.localdomain)
 ([10.251.180.188])
 by orsmga005-auth.jf.intel.com with ESMTP/TLS/ECDHE-RSA-AES256-GCM-SHA384;
 13 Nov 2020 06:54:11 -0800
From: Tvrtko Ursulin <tvrtko.ursulin@linux.intel.com>
To: igt-dev@lists.freedesktop.org
Date: Fri, 13 Nov 2020 14:53:56 +0000
Message-Id: <20201113145357.2400122-3-tvrtko.ursulin@linux.intel.com>
X-Mailer: git-send-email 2.25.1
In-Reply-To: <20201113145357.2400122-1-tvrtko.ursulin@linux.intel.com>
References: <20201113145357.2400122-1-tvrtko.ursulin@linux.intel.com>
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH i-g-t 3/4] lsgpu: Add filter type print-out
 selection
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: Intel-gfx@lists.freedesktop.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

RnJvbTogVHZydGtvIFVyc3VsaW4gPHR2cnRrby51cnN1bGluQGludGVsLmNvbT4KCkluIHRoZSBw
cmV2aW91cyBwYXRjaCB3ZSBzd2l0Y2hlZCB0aGUgbHNncHUgb3V0cHV0IHRvIGEgc2hvcnQgYW5k
IHVzZXIKZnJpZW5kbHkgZm9ybWF0IGJ1dCBzb21lIHVzZXJzIHdpbGwgbmVlZCBhIHNob3J0aGFu
ZCBmb3IgZ2V0dGluZyBvdGhlcgp0eXBlcyBvZiBkZXZpY2Ugc2VsZWN0aW9uIGZpbHRlcnMgdGhh
biB0aGUgZGVmYXV0IGRybS4KCkFkZCBzb21lIGNvbW1hbmQgbGluZSBzd2l0Y2hlcyB0byBlbmFi
bGUgdGhpczoKCiQgbHNncHUKY2FyZDAgICAgICAgICAgICAgICAgICAgODA4NjoxOTNCICAgIGRy
bTovZGV2L2RyaS9jYXJkMArilJTilIByZW5kZXJEMTI4ICAgICAgICAgICAgICAgICAgICAgICAg
IGRybTovZGV2L2RyaS9yZW5kZXJEMTI4CgokIGxzZ3B1IC0tc3lzZnMKY2FyZDAgICAgICAgICAg
ICAgICAgICAgODA4NjoxOTNCICAgIHN5czovc3lzL2RldmljZXMvcGNpMDAwMDowMC8wMDAwOjAw
OjAyLjAvZHJtL2NhcmQwCuKUlOKUgHJlbmRlckQxMjggICAgICAgICAgICAgICAgICAgICAgICAg
c3lzOi9zeXMvZGV2aWNlcy9wY2kwMDAwOjAwLzAwMDA6MDA6MDIuMC9kcm0vcmVuZGVyRDEyOAoK
JCBsc2dwdSAtLXBjaQpjYXJkMCAgICAgICAgICAgICAgICAgICA4MDg2OjE5M0IgICAgcGNpOi9z
eXMvZGV2aWNlcy9wY2kwMDAwOjAwLzAwMDA6MDA6MDIuMArilJTilIByZW5kZXJEMTI4CgpTaWdu
ZWQtb2ZmLWJ5OiBUdnJ0a28gVXJzdWxpbiA8dHZydGtvLnVyc3VsaW5AaW50ZWwuY29tPgpTdWdn
ZXN0ZWQtYnk6IFpiaWduaWV3IEtlbXBjennFhHNraSA8emJpZ25pZXcua2VtcGN6eW5za2lAaW50
ZWwuY29tPgpDYzogUGV0cmkgTGF0dmFsYSA8cGV0cmkubGF0dmFsYUBpbnRlbC5jb20+Ci0tLQog
bGliL2lndF9kZXZpY2Vfc2Nhbi5jIHwgNjkgKysrKysrKysrKysrKysrKysrKysrKysrKysrKysr
KystLS0tLS0tLS0tLQogbGliL2lndF9kZXZpY2Vfc2Nhbi5oIHwgMTUgKysrKysrKystLQogdG9v
bHMvaW50ZWxfZ3B1X3RvcC5jIHwgIDYgKysrLQogdG9vbHMvbHNncHUuYyAgICAgICAgIHwgMzIg
KysrKysrKysrKysrKysrLS0tLS0KIDQgZmlsZXMgY2hhbmdlZCwgOTUgaW5zZXJ0aW9ucygrKSwg
MjcgZGVsZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEvbGliL2lndF9kZXZpY2Vfc2Nhbi5jIGIvbGli
L2lndF9kZXZpY2Vfc2Nhbi5jCmluZGV4IGMwY2Q2NzU3ZmMyNy4uZDUxNjNlZmJjYTcxIDEwMDY0
NAotLS0gYS9saWIvaWd0X2RldmljZV9zY2FuLmMKKysrIGIvbGliL2lndF9kZXZpY2Vfc2Nhbi5j
CkBAIC03NDgsNyArNzQ4LDkgQEAgc3RhdGljIGJvb2wgX19jaGVja19lbXB0eShzdHJ1Y3QgaWd0
X2xpc3RfaGVhZCAqdmlldykKIAlyZXR1cm4gZmFsc2U7CiB9CiAKLXN0YXRpYyB2b2lkIGlndF9k
ZXZzX3ByaW50X3NpbXBsZShzdHJ1Y3QgaWd0X2xpc3RfaGVhZCAqdmlldykKK3N0YXRpYyB2b2lk
CitpZ3RfZGV2c19wcmludF9zaW1wbGUoc3RydWN0IGlndF9saXN0X2hlYWQgKnZpZXcsCisJCSAg
ICAgIGNvbnN0IHN0cnVjdCBpZ3RfZGV2aWNlc19wcmludF9mb3JtYXQgKmZtdCkKIHsKIAlzdHJ1
Y3QgaWd0X2RldmljZSAqZGV2OwogCkBAIC03OTIsNyArNzk0LDM2IEBAIF9fZmluZF9wY2koc3Ry
dWN0IGlndF9saXN0X2hlYWQgKnZpZXcsIGNvbnN0IGNoYXIgKmRybSkKIAlyZXR1cm4gTlVMTDsK
IH0KIAotc3RhdGljIHZvaWQgaWd0X2RldnNfcHJpbnRfdXNlcihzdHJ1Y3QgaWd0X2xpc3RfaGVh
ZCAqdmlldykKK3N0YXRpYyB2b2lkIF9fcHJpbnRfZmlsdGVyKGNoYXIgKmJ1ZiwgaW50IGxlbiwK
KwkJCSAgIGNvbnN0IHN0cnVjdCBpZ3RfZGV2aWNlc19wcmludF9mb3JtYXQgKmZtdCwKKwkJCSAg
IHN0cnVjdCBpZ3RfZGV2aWNlICpkZXYsCisJCQkgICBib29sIHJlbmRlcikKK3sKKwlpbnQgcmV0
OworCisJc3dpdGNoIChmbXQtPm9wdGlvbikgeworCWNhc2UgSUdUX1BSSU5UX0RSTToKKwkJcmV0
ID0gc25wcmludGYoYnVmLCBsZW4sICJkcm06JXMiLAorCQkJICAgICAgIHJlbmRlciA/IGRldi0+
ZHJtX3JlbmRlciA6IGRldi0+ZHJtX2NhcmQpOworCQlpZ3RfYXNzZXJ0KHJldCA8IGxlbik7CisJ
CWJyZWFrOworCWNhc2UgSUdUX1BSSU5UX1NZU0ZTOgorCQlyZXQgPSBzbnByaW50ZihidWYsIGxl
biwgInN5czolcyIsIGRldi0+c3lzcGF0aCk7CisJCWlndF9hc3NlcnQocmV0IDwgbGVuKTsKKwkJ
YnJlYWs7CisJY2FzZSBJR1RfUFJJTlRfUENJOgorCQlpZiAoIXJlbmRlcikgeworCQkJcmV0ID0g
c25wcmludGYoYnVmLCBsZW4sICJwY2k6JXMiLAorCQkJCSAgICAgICBkZXYtPnBhcmVudC0+c3lz
cGF0aCk7CisJCQlpZ3RfYXNzZXJ0KHJldCA8IGxlbik7CisJCX0KKwkJYnJlYWs7CisJfTsKK30K
Kworc3RhdGljIHZvaWQKK2lndF9kZXZzX3ByaW50X3VzZXIoc3RydWN0IGlndF9saXN0X2hlYWQg
KnZpZXcsCisJCSAgICBjb25zdCBzdHJ1Y3QgaWd0X2RldmljZXNfcHJpbnRfZm9ybWF0ICpmbXQp
CiB7CiAJc3RydWN0IGlndF9kZXZpY2UgKmRldjsKIApAQCAtODA1LDcgKzgzNiw2IEBAIHN0YXRp
YyB2b2lkIGlndF9kZXZzX3ByaW50X3VzZXIoc3RydWN0IGlndF9saXN0X2hlYWQgKnZpZXcpCiAJ
CXN0cnVjdCBpZ3RfZGV2aWNlICpkZXYyOwogCQljaGFyIGZpbHRlclsyNTZdOwogCQljaGFyICpk
cm1fbmFtZTsKLQkJaW50IHJldDsKIAogCQlpZiAoIWlzX2RybV9zdWJzeXN0ZW0oZGV2KSkKIAkJ
CWNvbnRpbnVlOwpAQCAtODE2LDggKzg0Niw3IEBAIHN0YXRpYyB2b2lkIGlndF9kZXZzX3ByaW50
X3VzZXIoc3RydWN0IGlndF9saXN0X2hlYWQgKnZpZXcpCiAJCWlmICghZHJtX25hbWUgfHwgISor
K2RybV9uYW1lKQogCQkJY29udGludWU7CiAKLQkJcmV0ID0gc25wcmludGYoZmlsdGVyLCBzaXpl
b2YoZmlsdGVyKSwgImRybTolcyIsIGRldi0+ZHJtX2NhcmQpOwotCQlpZ3RfYXNzZXJ0KHJldCA8
IHNpemVvZihmaWx0ZXIpKTsKKwkJX19wcmludF9maWx0ZXIoZmlsdGVyLCBzaXplb2YoZmlsdGVy
KSwgZm10LCBkZXYsIGZhbHNlKTsKIAogCQlwY2lfZGV2ID0gX19maW5kX3BjaSh2aWV3LCBkZXYt
PmRybV9jYXJkKTsKIAkJaWYgKHBjaV9kZXYpCkBAIC04NDgsMTMgKzg3NywxNSBAQCBzdGF0aWMg
dm9pZCBpZ3RfZGV2c19wcmludF91c2VyKHN0cnVjdCBpZ3RfbGlzdF9oZWFkICp2aWV3KQogCQkJ
aWYgKCFkcm1fbmFtZSB8fCAhKisrZHJtX25hbWUpCiAJCQkJY29udGludWU7CiAKLQkJCXJldCA9
IHNucHJpbnRmKGZpbHRlciwgc2l6ZW9mKGZpbHRlciksICJkcm06JXMiLAotCQkJCSAgICAgICBk
ZXYyLT5kcm1fcmVuZGVyKTsKLQkJCWlndF9hc3NlcnQocmV0IDwgc2l6ZW9mKGZpbHRlcikpOwot
Ci0JCQlwcmludGYoIiVzJS0yMnMgICAgICAgICAgICAgJXNcbiIsCi0JCQkgICAgICAgKCsraSA9
PSBudW1fY2hpbGRyZW4pID8gIuKUlOKUgCIgOiAi4pSc4pSAIiwKLQkJCSAgICAgICBkcm1fbmFt
ZSwgZmlsdGVyKTsKKwkJCXByaW50ZigiJXMlLTIycyIsCisJCQkJKCsraSA9PSBudW1fY2hpbGRy
ZW4pID8gIuKUlOKUgCIgOiAi4pSc4pSAIiwgZHJtX25hbWUpOworCQkJaWYgKGZtdC0+b3B0aW9u
ICE9IElHVF9QUklOVF9QQ0kpIHsKKwkJCQlfX3ByaW50X2ZpbHRlcihmaWx0ZXIsIHNpemVvZihm
aWx0ZXIpLCBmbXQsCisJCQkJCSAgICAgICBkZXYyLCB0cnVlKTsKKwkJCQlwcmludGYoIiAgICAg
ICAgICAgICAlc1xuIiwgZmlsdGVyKTsKKwkJCX0gZWxzZSB7CisJCQkJcHJpbnRmKCJcbiIpOwor
CQkJfQogCQl9CiAJfQogfQpAQCAtODc5LDcgKzkxMCwxMCBAQCBzdGF0aWMgdm9pZCBwcmludF9o
dChHSGFzaFRhYmxlICpodCkKIAlnX2xpc3RfZnJlZShrZXlzKTsKIH0KIAotc3RhdGljIHZvaWQg
aWd0X2RldnNfcHJpbnRfZGV0YWlsKHN0cnVjdCBpZ3RfbGlzdF9oZWFkICp2aWV3KQorc3RhdGlj
IHZvaWQKK2lndF9kZXZzX3ByaW50X2RldGFpbChzdHJ1Y3QgaWd0X2xpc3RfaGVhZCAqdmlldywK
KwkJICAgICAgY29uc3Qgc3RydWN0IGlndF9kZXZpY2VzX3ByaW50X2Zvcm1hdCAqZm10KQorCiB7
CiAJc3RydWN0IGlndF9kZXZpY2UgKmRldjsKIApAQCAtOTAzLDcgKzkzNyw4IEBAIHN0YXRpYyB2
b2lkIGlndF9kZXZzX3ByaW50X2RldGFpbChzdHJ1Y3QgaWd0X2xpc3RfaGVhZCAqdmlldykKIH0K
IAogc3RhdGljIHN0cnVjdCBwcmludF9mdW5jIHsKLQl2b2lkICgqcHJuKShzdHJ1Y3QgaWd0X2xp
c3RfaGVhZCAqdmlldyk7CisJdm9pZCAoKnBybikoc3RydWN0IGlndF9saXN0X2hlYWQgKnZpZXcs
CisJCSAgICBjb25zdCBzdHJ1Y3QgaWd0X2RldmljZXNfcHJpbnRfZm9ybWF0ICopOwogfSBwcmlu
dF9mdW5jdGlvbnNbXSA9IHsKIAlbSUdUX1BSSU5UX1NJTVBMRV0gPSB7IC5wcm4gPSBpZ3RfZGV2
c19wcmludF9zaW1wbGUgfSwKIAlbSUdUX1BSSU5UX0RFVEFJTF0gPSB7IC5wcm4gPSBpZ3RfZGV2
c19wcmludF9kZXRhaWwgfSwKQEAgLTkxMiwxNSArOTQ3LDE1IEBAIHN0YXRpYyBzdHJ1Y3QgcHJp
bnRfZnVuYyB7CiAKIC8qKgogICogaWd0X2RldmljZXNfcHJpbnQKLSAqIEBwcmludHR5cGU6IElH
VF9QUklOVF9TSU1QTEUgb3IgSUdUX1BSSU5UX0RFVEFJTAorICogQGZtdDogUHJpbnQgZm9ybWF0
IGFzIHNwZWNpZmllZCBieSBzdHJ1Y3QgaWd0X2RldmljZXNfcHJpbnRfZm9ybWF0CiAgKgogICog
RnVuY3Rpb24gY2FuIGJlIHVzZWQgYnkgZXh0ZXJuYWwgdG9vbCB0byBwcmludCBkZXZpY2UgYXJy
YXkgaW4gc2ltcGxlCiAgKiBvciBkZXRhaWxlZCBmb3JtLiBUaGlzIGZ1bmN0aW9uIGlzIGFkZGVk
IGhlcmUgdG8gYXZvaWQgZXhwb3NpbmcKICAqIGludGVybmFsIGltcGxlbWVudGF0aW9uIGRhdGEg
c3RydWN0dXJlcy4KICAqLwotdm9pZCBpZ3RfZGV2aWNlc19wcmludChlbnVtIGlndF9kZXZpY2Vz
X3ByaW50X3R5cGUgcHJpbnR0eXBlKQordm9pZCBpZ3RfZGV2aWNlc19wcmludChjb25zdCBzdHJ1
Y3QgaWd0X2RldmljZXNfcHJpbnRfZm9ybWF0ICpmbXQpCiB7Ci0JcHJpbnRfZnVuY3Rpb25zW3By
aW50dHlwZV0ucHJuKCZpZ3RfZGV2cy5maWx0ZXJlZCk7CisJcHJpbnRfZnVuY3Rpb25zW2ZtdC0+
dHlwZV0ucHJuKCZpZ3RfZGV2cy5maWx0ZXJlZCwgZm10KTsKIH0KIAogLyoqCmRpZmYgLS1naXQg
YS9saWIvaWd0X2RldmljZV9zY2FuLmggYi9saWIvaWd0X2RldmljZV9zY2FuLmgKaW5kZXggOTgy
MmMyMmNiNjljLi5iYjRiZTcyMzQ1ZmIgMTAwNjQ0Ci0tLSBhL2xpYi9pZ3RfZGV2aWNlX3NjYW4u
aAorKysgYi9saWIvaWd0X2RldmljZV9zY2FuLmgKQEAgLTM1LDExICszNSwyMiBAQAogI2luY2x1
ZGUgPHVuaXN0ZC5oPgogCiBlbnVtIGlndF9kZXZpY2VzX3ByaW50X3R5cGUgewotCUlHVF9QUklO
VF9TSU1QTEUsCisJSUdUX1BSSU5UX1NJTVBMRSA9IDAsCiAJSUdUX1BSSU5UX0RFVEFJTCwKIAlJ
R1RfUFJJTlRfVVNFUiwgLyogRW5kIHVzZXIgZnJpZW5kbHkuICovCiB9OwogCitlbnVtIGlndF9k
ZXZpY2VzX3ByaW50X29wdGlvbiB7CisJSUdUX1BSSU5UX0RSTSA9IDAsCisJSUdUX1BSSU5UX1NZ
U0ZTLAorCUlHVF9QUklOVF9QQ0ksCit9OworCitzdHJ1Y3QgaWd0X2RldmljZXNfcHJpbnRfZm9y
bWF0IHsKKwllbnVtIGlndF9kZXZpY2VzX3ByaW50X3R5cGUgICB0eXBlOworCWVudW0gaWd0X2Rl
dmljZXNfcHJpbnRfb3B0aW9uIG9wdGlvbjsKK307CisKICNkZWZpbmUgSU5URUdSQVRFRF9JOTE1
X0dQVV9QQ0lfSUQgIjAwMDA6MDA6MDIuMCIKICNkZWZpbmUgUENJX1NMT1RfTkFNRV9TSVpFIDEy
CiBzdHJ1Y3QgaWd0X2RldmljZV9jYXJkIHsKQEAgLTUxLDcgKzYyLDcgQEAgc3RydWN0IGlndF9k
ZXZpY2VfY2FyZCB7CiAKIHZvaWQgaWd0X2RldmljZXNfc2Nhbihib29sIGZvcmNlKTsKIAotdm9p
ZCBpZ3RfZGV2aWNlc19wcmludChlbnVtIGlndF9kZXZpY2VzX3ByaW50X3R5cGUgcHJpbnR0eXBl
KTsKK3ZvaWQgaWd0X2RldmljZXNfcHJpbnQoY29uc3Qgc3RydWN0IGlndF9kZXZpY2VzX3ByaW50
X2Zvcm1hdCAqZm10KTsKIHZvaWQgaWd0X2RldmljZXNfcHJpbnRfdmVuZG9ycyh2b2lkKTsKIHZv
aWQgaWd0X2RldmljZV9wcmludF9maWx0ZXJfdHlwZXModm9pZCk7CiAKZGlmZiAtLWdpdCBhL3Rv
b2xzL2ludGVsX2dwdV90b3AuYyBiL3Rvb2xzL2ludGVsX2dwdV90b3AuYwppbmRleCA1MjMwNDcy
ZDJhZjQuLjA3Zjg4ZDU1NWRjOCAxMDA2NDQKLS0tIGEvdG9vbHMvaW50ZWxfZ3B1X3RvcC5jCisr
KyBiL3Rvb2xzL2ludGVsX2dwdV90b3AuYwpAQCAtMTM4Nyw3ICsxMzg3LDExIEBAIGludCBtYWlu
KGludCBhcmdjLCBjaGFyICoqYXJndikKIAlpZ3RfZGV2aWNlc19zY2FuKGZhbHNlKTsKIAogCWlm
IChsaXN0X2RldmljZSkgewotCQlpZ3RfZGV2aWNlc19wcmludChJR1RfUFJJTlRfVVNFUik7CisJ
CXN0cnVjdCBpZ3RfZGV2aWNlc19wcmludF9mb3JtYXQgZm10ID0geworCQkJLnR5cGUgPSBJR1Rf
UFJJTlRfVVNFUgorCQl9OworCisJCWlndF9kZXZpY2VzX3ByaW50KCZmbXQpOwogCQlnb3RvIGV4
aXQ7CiAJfQogCmRpZmYgLS1naXQgYS90b29scy9sc2dwdS5jIGIvdG9vbHMvbHNncHUuYwppbmRl
eCAzYjIzNGI3MzM2MWEuLjE2OWFiMGMyOWU1MCAxMDA2NDQKLS0tIGEvdG9vbHMvbHNncHUuYwor
KysgYi90b29scy9sc2dwdS5jCkBAIC05MSw3ICs5MSwxMSBAQCBzdGF0aWMgY29uc3QgY2hhciAq
dXNhZ2Vfc3RyID0KIAkiICAtdiwgLS1saXN0LXZlbmRvcnMgICAgICAgICAgTGlzdCByZWNvZ25p
emVkIHZlbmRvcnNcbiIKIAkiICAtbCwgLS1saXN0LWZpbHRlci10eXBlcyAgICAgTGlzdCByZWdp
c3RlcmVkIGRldmljZSBmaWx0ZXJzIHR5cGVzXG4iCiAJIiAgLWQsIC0tZGV2aWNlIGZpbHRlciAg
ICAgICAgIERldmljZSBmaWx0ZXIsIGNhbiBiZSBnaXZlbiBtdWx0aXBsZSB0aW1lc1xuIgotCSIg
IC1oLCAtLWhlbHAgICAgICAgICAgICAgICAgICBTaG93IHRoaXMgaGVscCBtZXNzYWdlIGFuZCBl
eGl0XG4iOworCSIgIC1oLCAtLWhlbHAgICAgICAgICAgICAgICAgICBTaG93IHRoaXMgaGVscCBt
ZXNzYWdlIGFuZCBleGl0XG4iCisJIlxuT3B0aW9ucyB2YWxpZCBmb3IgZGVmYXVsdCBwcmludCBv
dXQgbW9kZSBvbmx5OlxuIgorCSIgICAgICAtLWRybSAgICAgICAgICAgICAgICAgICBTaG93IERS
TSBmaWx0ZXJzIChkZWZhdWx0KSBmb3IgZWFjaCBkZXZpY2VcbiIKKwkiICAgICAgLS1zeXNmcyAg
ICAgICAgICAgICAgICAgU2hvdyBzeXNmcyBmaWx0ZXJzIGZvciBlYWNoIGRldmljZVxuIgorCSIg
ICAgICAtLXBjaSAgICAgICAgICAgICAgICAgICBTaG93IFBDSSBmaWx0ZXJzIGZvciBlYWNoIGRl
dmljZVxuIjsKIAogc3RhdGljIHZvaWQgdGVzdF9kZXZpY2Vfb3BlbihzdHJ1Y3QgaWd0X2Rldmlj
ZV9jYXJkICpjYXJkKQogewpAQCAtMTUzLDYgKzE1Nyw5IEBAIHN0YXRpYyBjaGFyICpnZXRfZGV2
aWNlX2Zyb21fcmModm9pZCkKIGludCBtYWluKGludCBhcmdjLCBjaGFyICphcmd2W10pCiB7CiAJ
c3RhdGljIHN0cnVjdCBvcHRpb24gbG9uZ19vcHRpb25zW10gPSB7CisJCXsiZHJtIiwgICAgICAg
ICAgICAgICBub19hcmd1bWVudCwgICAgICAgTlVMTCwgMH0sCisJCXsic3lzZnMiLCAgICAgICAg
ICAgICBub19hcmd1bWVudCwgICAgICAgTlVMTCwgMX0sCisJCXsicGNpIiwgICAgICAgICAgICAg
ICBub19hcmd1bWVudCwgICAgICAgTlVMTCwgMn0sCiAJCXsicHJpbnQtc2ltcGxlIiwgICAgICBu
b19hcmd1bWVudCwgICAgICAgTlVMTCwgT1BUX1BSSU5UX1NJTVBMRX0sCiAJCXsicHJpbnQtZGV0
YWlsIiwgICAgICBub19hcmd1bWVudCwgICAgICAgTlVMTCwgT1BUX1BSSU5UX0RFVEFJTH0sCiAJ
CXsibGlzdC12ZW5kb3JzIiwgICAgICBub19hcmd1bWVudCwgICAgICAgTlVMTCwgT1BUX0xJU1Rf
VkVORE9SU30sCkBAIC0xNjMsMTcgKzE3MCwxOSBAQCBpbnQgbWFpbihpbnQgYXJnYywgY2hhciAq
YXJndltdKQogCX07CiAJaW50IGMsIGluZGV4ID0gMDsKIAljaGFyICplbnZfZGV2aWNlID0gTlVM
TCwgKm9wdF9kZXZpY2UgPSBOVUxMLCAqcmNfZGV2aWNlID0gTlVMTDsKLQllbnVtIGlndF9kZXZp
Y2VzX3ByaW50X3R5cGUgcHJpbnR0eXBlID0gSUdUX1BSSU5UX1VTRVI7CisJc3RydWN0IGlndF9k
ZXZpY2VzX3ByaW50X2Zvcm1hdCBmbXQgPSB7CisJCQkudHlwZSA9IElHVF9QUklOVF9VU0VSLAor
CX07CiAKIAl3aGlsZSAoKGMgPSBnZXRvcHRfbG9uZyhhcmdjLCBhcmd2LCAic3B2bGQ6aCIsCiAJ
CQkJbG9uZ19vcHRpb25zLCAmaW5kZXgpKSAhPSAtMSkgewogCQlzd2l0Y2goYykgewogCiAJCWNh
c2UgT1BUX1BSSU5UX1NJTVBMRToKLQkJCXByaW50dHlwZSA9IElHVF9QUklOVF9TSU1QTEU7CisJ
CQlmbXQudHlwZSA9IElHVF9QUklOVF9TSU1QTEU7CiAJCQlicmVhazsKIAkJY2FzZSBPUFRfUFJJ
TlRfREVUQUlMOgotCQkJcHJpbnR0eXBlID0gSUdUX1BSSU5UX0RFVEFJTDsKKwkJCWZtdC50eXBl
ID0gSUdUX1BSSU5UX0RFVEFJTDsKIAkJCWJyZWFrOwogCQljYXNlIE9QVF9MSVNUX1ZFTkRPUlM6
CiAJCQlnX3Nob3dfdmVuZG9ycyA9IHRydWU7CkBAIC0xODcsNiArMTk2LDE1IEBAIGludCBtYWlu
KGludCBhcmdjLCBjaGFyICphcmd2W10pCiAJCWNhc2UgT1BUX0hFTFA6CiAJCQlnX2hlbHAgPSB0
cnVlOwogCQkJYnJlYWs7CisJCWNhc2UgMDoKKwkJCWZtdC5vcHRpb24gPSBJR1RfUFJJTlRfRFJN
OworCQkJYnJlYWs7CisJCWNhc2UgMToKKwkJCWZtdC5vcHRpb24gPSBJR1RfUFJJTlRfU1lTRlM7
CisJCQlicmVhazsKKwkJY2FzZSAyOgorCQkJZm10Lm9wdGlvbiA9IElHVF9QUklOVF9QQ0k7CisJ
CQlicmVhazsKIAkJfQogCX0KIApAQCAtMjM5LDE0ICsyNTcsMTQgQEAgaW50IG1haW4oaW50IGFy
Z2MsIGNoYXIgKmFyZ3ZbXSkKIAkJcHJpbnRmKCJEZXZpY2UgZGV0YWlsOlxuIik7CiAJCXByaW50
X2NhcmQoJmNhcmQpOwogCQl0ZXN0X2RldmljZV9vcGVuKCZjYXJkKTsKLQkJaWYgKHByaW50dHlw
ZSA9PSBJR1RfUFJJTlRfREVUQUlMKSB7CisJCWlmIChmbXQudHlwZSA9PSBJR1RfUFJJTlRfREVU
QUlMKSB7CiAJCQlwcmludGYoIlxuIik7Ci0JCQlpZ3RfZGV2aWNlc19wcmludChwcmludHR5cGUp
OworCQkJaWd0X2RldmljZXNfcHJpbnQoJmZtdCk7CiAJCX0KIAkJcHJpbnRmKCItLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4iKTsKIAogCX0gZWxzZSB7Ci0JCWln
dF9kZXZpY2VzX3ByaW50KHByaW50dHlwZSk7CisJCWlndF9kZXZpY2VzX3ByaW50KCZmbXQpOwog
CX0KIAogCWZyZWUocmNfZGV2aWNlKTsKLS0gCjIuMjUuMQoKX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX18KSW50ZWwtZ2Z4IG1haWxpbmcgbGlzdApJbnRlbC1n
ZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21h
aWxtYW4vbGlzdGluZm8vaW50ZWwtZ2Z4Cg==

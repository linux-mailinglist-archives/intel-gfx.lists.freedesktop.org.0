Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 43E97EE29C
	for <lists+intel-gfx@lfdr.de>; Mon,  4 Nov 2019 15:34:06 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 9B0546E4CA;
	Mon,  4 Nov 2019 14:34:04 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from fireflyinternet.com (mail.fireflyinternet.com [109.228.58.192])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 7F9E16E4D0
 for <intel-gfx@lists.freedesktop.org>; Mon,  4 Nov 2019 14:34:03 +0000 (UTC)
X-Default-Received-SPF: pass (skip=forwardok (res=PASS))
 x-ip-name=78.156.65.138; 
Received: from localhost (unverified [78.156.65.138]) 
 by fireflyinternet.com (Firefly Internet (M1)) with ESMTP (TLS) id
 19075556-1500050 for multiple; Mon, 04 Nov 2019 14:33:58 +0000
MIME-Version: 1.0
From: Chris Wilson <chris@chris-wilson.co.uk>
User-Agent: alot/0.6
To: Mika Kuoppala <mika.kuoppala@linux.intel.com>,
 intel-gfx@lists.freedesktop.org
References: <20191104135307.21083-1-chris@chris-wilson.co.uk>
 <87o8xrogxi.fsf@gaia.fi.intel.com>
In-Reply-To: <87o8xrogxi.fsf@gaia.fi.intel.com>
Message-ID: <157287803750.6046.6656162525305120776@skylake-alporthouse-com>
Date: Mon, 04 Nov 2019 14:33:57 +0000
Subject: Re: [Intel-gfx] [PATCH] drm/i915/execlists: Reset CSB pointers by
 mmio as well
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

UXVvdGluZyBNaWthIEt1b3BwYWxhICgyMDE5LTExLTA0IDE0OjI3OjIxKQo+IENocmlzIFdpbHNv
biA8Y2hyaXNAY2hyaXMtd2lsc29uLmNvLnVrPiB3cml0ZXM6Cj4gCj4gPiBTb21ldGltZXMgSWNl
bGFrZSBmb3JnZXRzIHRvIHJlc2V0IHRoZSBDU0IgcG9pbnRlcnMgb24gYSBHUFUgcmVzZXQsCj4g
PiBsZWFkaW5nIHRvIGNhcnJ5IG9uIHVwZGF0aW5nIHRoZSBvbGQgdGFpbCBvZiB0aGUgYnVmZmVy
Lgo+ID4KPiA+IDwwPlsgIDYxOC4xMzg0OTBdIGk5MTVfc2VsLTU2MzYgICAgM2QuLjEgNjczNDI1
NDY1dXMgOiB0cmFjZV9wb3J0czogdmVjczA6IHN1Ym1pdCB7IDE0ZGUyOjUwNCwgMDowIH0KPiA+
IDwwPlsgIDYxOC4xMzg0OTBdIGk5MTVfc2VsLTU2MzYgICAgMy4uLi4gNjczNDI1NDkzdXMgOiBp
bnRlbF9lbmdpbmVfcmVzZXQ6IHZlY3MwIGZsYWdzPTEwMAo+ID4gPDA+WyAgNjE4LjEzODQ5MF0g
aTkxNV9zZWwtNTYzNiAgICAzLi4uLiA2NzM0MjU0OTN1cyA6IGV4ZWNsaXN0c19yZXNldF9wcmVw
YXJlOiB2ZWNzMDogZGVwdGg8LTAKPiA+IDwwPlsgIDYxOC4xMzg0OTBdIGk5MTVfc2VsLTU2MzYg
ICAgMy4uLi4gNjczNDI1NDkzdXMgOiBpbnRlbF9lbmdpbmVfc3RvcF9jczogdmVjczAKPiA+IDww
PlsgIDYxOC4xMzg0OTBdIGk5MTVfc2VsLTU2MzYgICAgMy4uLi4gNjczNDI1NTIzdXMgOiBfX2lu
dGVsX2d0X3Jlc2V0OiBlbmdpbmVfbWFzaz00MAo+ID4gPDA+WyAgNjE4LjEzODQ5MF0gaTkxNV9z
ZWwtNTYzNiAgICAzLi4uLiA2NzM0MjU1Njh1cyA6IGV4ZWNsaXN0c19yZXNldDogdmVjczAKPiA+
IDwwPlsgIDYxOC4xMzg0OTBdIGk5MTVfc2VsLTU2MzYgICAgM2QuLjEgNjczNDI1NTY4dXMgOiBw
cm9jZXNzX2NzYjogdmVjczAgY3MtaXJxIGhlYWQ9MSwgdGFpbD0yCj4gPiA8MD5bICA2MTguMTM4
NDkwXSBpOTE1X3NlbC01NjM2ICAgIDNkLi4xIDY3MzQyNTU2OHVzIDogcHJvY2Vzc19jc2I6IHZl
Y3MwIGNzYlsyXTogc3RhdHVzPTB4MDAwMDAwMDE6MHg0MDAwMDAwMAo+ID4gPDA+WyAgNjE4LjEz
ODQ5MF0gaTkxNV9zZWwtNTYzNiAgICAzZC4uMSA2NzM0MjU1Njl1cyA6IHRyYWNlX3BvcnRzOiB2
ZWNzMDogcHJvbW90ZSB7IDE0ZGUyOjUwNCosIDA6MCB9Cj4gPiA8MD5bICA2MTguMTM4NDkwXSBp
OTE1X3NlbC01NjM2ICAgIDNkLi4xIDY3MzQyNTU3MHVzIDogX19pOTE1X3JlcXVlc3RfcmVzZXQ6
IHZlY3MwIHJxPTE0ZGUyOjUwNCwgZ3VpbHR5PyB5ZXMKPiA+IDwwPlsgIDYxOC4xMzg0OTBdIGk5
MTVfc2VsLTU2MzYgICAgM2QuLjEgNjczNDI1NTcxdXMgOiBfX2V4ZWNsaXN0c19yZXNldDogdmVj
czAgcmVwbGF5IHtoZWFkOjJkZTAsIHRhaWw6MmU0OH0KPiA+IDwwPlsgIDYxOC4xMzg0OTBdIGk5
MTVfc2VsLTU2MzYgICAgM2QuLjEgNjczNDI1NTcydXMgOiBfX2k5MTVfcmVxdWVzdF91bnN1Ym1p
dDogdmVjczAgZmVuY2UgMTRkZTI6NTA0LCBjdXJyZW50IDUwMwo+ID4gPDA+WyAgNjE4LjEzODQ5
MF0gaTkxNV9zZWwtNTYzNiAgICAzLi4uLiA2NzM0MzU1NDR1cyA6IGludGVsX2VuZ2luZV9jYW5j
ZWxfc3RvcF9jczogdmVjczAKPiA+IDwwPlsgIDYxOC4xMzg0OTBdIGk5MTVfc2VsLTU2MzYgICAg
My4uLi4gNjczNDM1NTQ0dXMgOiBwcm9jZXNzX2NzYjogdmVjczAgY3MtaXJxIGhlYWQ9MTEsIHRh
aWw9MTEKPiA+IDwwPlsgIDYxOC4xMzg0OTBdIGk5MTVfc2VsLTU2MzYgICAgM2QuLjEgNjczNDM1
NTQ1dXMgOiBfX2k5MTVfcmVxdWVzdF9zdWJtaXQ6IHZlY3MwIGZlbmNlIDE0ZGUyOjUwNCwgY3Vy
cmVudCA1MDMKPiA+IDwwPlsgIDYxOC4xMzg0OTBdIGk5MTVfc2VsLTU2MzYgICAgM2QuLjEgNjcz
NDM1NTQ2dXMgOiBfX2V4ZWNsaXN0c19zdWJtaXNzaW9uX3Rhc2tsZXQ6IHZlY3MwOiBxdWV1ZV9w
cmlvcml0eV9oaW50Oi0yMTQ3NDgzNjQ4LCBzdWJtaXQ6eWVzCj4gPiA8MD5bICA2MTguMTM4NDkw
XSBpOTE1X3NlbC01NjM2ICAgIDNkLi4xIDY3MzQzNTU0OHVzIDogdHJhY2VfcG9ydHM6IHZlY3Mw
OiBzdWJtaXQgeyAxNGRlMjo1MDQqLCAwOjAgfQo+ID4gPDA+WyAgNjE4LjEzODQ5MF0gaTkxNV9z
ZWwtNTYzNiAgICAzLi4uLiA2NzM0MzU1NDl1cyA6IGV4ZWNsaXN0c19yZXNldF9maW5pc2g6IHZl
Y3MwOiBkZXB0aC0+MAo+ID4gPDA+WyAgNjE4LjEzODQ5MF0ga3NvZnRpcnEtMjEgICAgICAyLi5z
LiA2NzM0MzU1OTJ1cyA6IHByb2Nlc3NfY3NiOiB2ZWNzMCBjcy1pcnEgaGVhZD0xMSwgdGFpbD0z
Cj4gPiA8MD5bICA2MTguMTM4NDkwXSBrc29mdGlycS0yMSAgICAgIDIuLnMuIDY3MzQzNTU5M3Vz
IDogcHJvY2Vzc19jc2I6IHZlY3MwIGNzYlswXTogc3RhdHVzPTB4MDAwMDAwMDE6MHg0MDAwMDAw
MAo+ID4gPDA+WyAgNjE4LjEzODQ5MF0ga3NvZnRpcnEtMjEgICAgICAyLi5zLiA2NzM0MzU1OTR1
cyA6IHRyYWNlX3BvcnRzOiB2ZWNzMDogcHJvbW90ZSB7IDE0ZGUyOjUwNCosIDA6MCB9Cj4gPiA8
MD5bICA2MTguMTM4NDkwXSBrc29mdGlycS0yMSAgICAgIDIuLnMuIDY3MzQzNTU5NnVzIDogcHJv
Y2Vzc19jc2I6IHZlY3MwIGNzYlsxXTogc3RhdHVzPTB4MDAwMDAwMTg6MHg0MDAwMDA0MAo+ID4g
PDA+WyAgNjE4LjEzODQ5MF0ga3NvZnRpcnEtMjEgICAgICAyLi5zLiA2NzM0MzU1OTd1cyA6IHRy
YWNlX3BvcnRzOiB2ZWNzMDogY29tcGxldGVkIHsgMTRkZTI6NTA0KiwgMDowIH0KPiA+IDwwPlsg
IDYxOC4xMzg0OTBdIGtzb2Z0aXJxLTIxICAgICAgMi4ucy4gNjczNDM1NjEydXMgOiBwcm9jZXNz
X2NzYjogcHJvY2Vzc19jc2I6MjE4OCBHRU1fQlVHX09OKCFpOTE1X3JlcXVlc3RfY29tcGxldGVk
KCpleGVjbGlzdHMtPmFjdGl2ZSkgJiYgIXJlc2V0X2luX3Byb2dyZXNzKGV4ZWNsaXN0cykpCj4g
Pgo+ID4gQWZ0ZXIgdGhlIHJlc2V0LCB3ZSBkbyBhbm90aGVyIGNsZmx1c2ggYmVmb3JlIGNoZWNr
aW5nIHRoZSBDU0IgdG8gYmUKPiA+IHN1cmUgd2Ugc2VlIHdoYXRldmVyIHdhcyBsZWZ0IGluIHRo
ZSBDU0IgcHJpb3IgdG8gdGhlIHJlc2V0LiBTbyBpdCBpcwo+ID4gdW5saWtlbHkgdG8gYmUgYW4g
aW5jb2hlcmVudCB2aWV3IG9mIHRoZSBDU0IsIGFuZCBtb3JlIGxpa2VseSB0aGF0Cj4gPiBJY2Vs
YWtlIGRpZG4ndCByZXNldCBpdHMgcG9pbnRlcnMuCj4gPgo+ID4gUmVmZXJlbmNlczogNTgyYTZm
OTBhYTBkICgiZHJtL2k5MTUvZXhlY2xpc3RzOiBBZGQgYSBwYXJhbm9pZCBmbHVzaCBvZiB0aGUg
Q1NCIHBvaW50ZXJzIHVwb24gcmVzZXQiKQo+ID4gU2lnbmVkLW9mZi1ieTogQ2hyaXMgV2lsc29u
IDxjaHJpc0BjaHJpcy13aWxzb24uY28udWs+Cj4gPiBDYzogTWlrYSBLdW9wcGFsYSA8bWlrYS5r
dW9wcGFsYUBsaW51eC5pbnRlbC5jb20+Cj4gPiAtLS0KPiA+ICBkcml2ZXJzL2dwdS9kcm0vaTkx
NS9ndC9pbnRlbF9scmMuYyB8IDggKysrKysrKysKPiA+ICAxIGZpbGUgY2hhbmdlZCwgOCBpbnNl
cnRpb25zKCspCj4gPgo+ID4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2lu
dGVsX2xyYy5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfbHJjLmMKPiA+IGluZGV4
IDhkNzlhOTY1ZjM0MS4uYjg2OWE5YzdiM2M2IDEwMDY0NAo+ID4gLS0tIGEvZHJpdmVycy9ncHUv
ZHJtL2k5MTUvZ3QvaW50ZWxfbHJjLmMKPiA+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0
L2ludGVsX2xyYy5jCj4gPiBAQCAtMjk5Niw2ICsyOTk2LDE0IEBAIHN0YXRpYyB2b2lkIHJlc2V0
X2NzYl9wb2ludGVycyhzdHJ1Y3QgaW50ZWxfZW5naW5lX2NzICplbmdpbmUpCj4gPiAgICAgICBX
UklURV9PTkNFKCpleGVjbGlzdHMtPmNzYl93cml0ZSwgcmVzZXRfdmFsdWUpOwo+ID4gICAgICAg
d21iKCk7IC8qIE1ha2Ugc3VyZSB0aGlzIGlzIHZpc2libGUgdG8gSFcgKHBhcmFub2lhPykgKi8K
PiA+ICAKPiA+ICsgICAgIC8qCj4gPiArICAgICAgKiBTb21ldGltZXMgSWNlbGFrZXMgZm9yZ2V0
cyB0byByZXNldCBpdHMgcG9pbnRlcnMgb24gYSBHUFUgcmVzZXQuCj4gPiArICAgICAgKiBCbHVk
Z2VvbiB0aGVtIHdpdGggYSBtbWlvIHVwZGF0ZSB0byBiZSBzdXJlLgo+ID4gKyAgICAgICovCj4g
PiArICAgICBFTkdJTkVfV1JJVEUoZW5naW5lLCBSSU5HX0NPTlRFWFRfU1RBVFVTX1BUUiwKPiA+
ICsgICAgICAgICAgICAgICAgICByZXNldF92YWx1ZSA8PCA4IHwgcmVzZXRfdmFsdWUpOwo+ID4g
KyAgICAgRU5HSU5FX1BPU1RJTkdfUkVBRChlbmdpbmUsIFJJTkdfQ09OVEVYVF9TVEFUVVNfUFRS
KTsKPiA+ICsKPiAKPiBCaWcgaGFtbWVyIGluZGVlZC4gTmV4dCBvbmUgaXMgdGhhdCB3ZSBhc3Nl
cnQgdGhlIHJlc2V0IHZhbHVlCj4gYW5kIGNoZWNrIHRoYXQgZmlyc3Qgb25lIGFmdGVyIHJlc2V0
IGNvbWVzIG91dCB3aXRoIDB4MD8KClllYWgsIEkgd2FzIHRoaW5raW5nIGFib3V0IHRoYXQuIERp
ZG4ndCBzZWVtIHRyaXZpYWwgc2luY2UgaXQncyBub3QKYWx3YXlzIGEgc2luZ2xlIGV2ZW50LiBQ
bHVzIHRoZW4gcmFyZSByZXNldCBjb2RlIGlzIHRoZW4gc3ByZWFkaW5nIGludG8KdGhlIGhvdHBh
dGggOigKLUNocmlzCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fCkludGVsLWdmeCBtYWlsaW5nIGxpc3QKSW50ZWwtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9y
ZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2ludGVsLWdm
eA==

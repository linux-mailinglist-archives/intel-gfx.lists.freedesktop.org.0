Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 7E325F390B
	for <lists+intel-gfx@lfdr.de>; Thu,  7 Nov 2019 20:57:56 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id B40856F78B;
	Thu,  7 Nov 2019 19:57:54 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga14.intel.com (mga14.intel.com [192.55.52.115])
 by gabe.freedesktop.org (Postfix) with ESMTPS id F24956F78B
 for <intel-gfx@lists.freedesktop.org>; Thu,  7 Nov 2019 19:57:52 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga007.jf.intel.com ([10.7.209.58])
 by fmsmga103.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 07 Nov 2019 11:57:52 -0800
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.68,279,1569308400"; d="scan'208";a="192932261"
Received: from fmsmsx103.amr.corp.intel.com ([10.18.124.201])
 by orsmga007.jf.intel.com with ESMTP; 07 Nov 2019 11:57:51 -0800
Received: from FMSMSX110.amr.corp.intel.com (10.18.116.10) by
 FMSMSX103.amr.corp.intel.com (10.18.124.201) with Microsoft SMTP Server (TLS)
 id 14.3.439.0; Thu, 7 Nov 2019 11:57:51 -0800
Received: from fmsmsx106.amr.corp.intel.com ([169.254.5.242]) by
 FMSMSX110.amr.corp.intel.com ([169.254.14.36]) with mapi id 14.03.0439.000;
 Thu, 7 Nov 2019 11:57:51 -0800
From: "Tang, CQ" <cq.tang@intel.com>
To: Daniel Vetter <daniel.vetter@ffwll.ch>, Intel Graphics Development
 <intel-gfx@lists.freedesktop.org>
Thread-Topic: [PATCH 1/3] drm/i915: Switch obj->mm.lock lockdep annotations
 on its head
Thread-Index: AQHVkzaK8oyL7R10+UyGuEWtLLEDL6eAJD9w
Date: Thu, 7 Nov 2019 19:57:50 +0000
Message-ID: <1D440B9B88E22A4ABEF89F9F1F81BC29E9483224@FMSMSX106.amr.corp.intel.com>
References: <20191104173720.2696-1-daniel.vetter@ffwll.ch>
In-Reply-To: <20191104173720.2696-1-daniel.vetter@ffwll.ch>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-titus-metadata-40: eyJDYXRlZ29yeUxhYmVscyI6IiIsIk1ldGFkYXRhIjp7Im5zIjoiaHR0cDpcL1wvd3d3LnRpdHVzLmNvbVwvbnNcL0ludGVsMyIsImlkIjoiOWY2YjUzOWItYzZlZS00ODFiLThiYzItYTUyZGIyNGE4ZjMxIiwicHJvcHMiOlt7Im4iOiJDVFBDbGFzc2lmaWNhdGlvbiIsInZhbHMiOlt7InZhbHVlIjoiQ1RQX05UIn1dfV19LCJTdWJqZWN0TGFiZWxzIjpbXSwiVE1DVmVyc2lvbiI6IjE3LjEwLjE4MDQuNDkiLCJUcnVzdGVkTGFiZWxIYXNoIjoidXJNZmpLQVwvSGhxbVN2RTlJQzNWeWQ0bU5QT0JWcm9GTzQ2eDlhc1VZNmNGN0JpOUgzYlZGU3phNmx1bG9NZDAifQ==
x-ctpclassification: CTP_NT
dlp-product: dlpe-windows
dlp-version: 11.2.0.6
dlp-reaction: no-action
x-originating-ip: [10.1.200.107]
MIME-Version: 1.0
Subject: Re: [Intel-gfx] [PATCH 1/3] drm/i915: Switch obj->mm.lock lockdep
 annotations on its head
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: "Vetter, Daniel" <daniel.vetter@intel.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

PiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fb2JqZWN0LmMKPiArKysg
Yi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fb2JqZWN0LmMKPiBAQCAtMjIsNiAr
MjIsOCBAQAo+ICAgKgo+ICAgKi8KPiAKPiArI2luY2x1ZGUgPGxpbnV4L3NjaGVkL21tLmg+Cj4g
Kwo+ICAjaW5jbHVkZSAiZGlzcGxheS9pbnRlbF9mcm9udGJ1ZmZlci5oIgo+ICAjaW5jbHVkZSAi
Z3QvaW50ZWxfZ3QuaCIKPiAgI2luY2x1ZGUgImk5MTVfZHJ2LmgiCj4gQEAgLTUyLDYgKzU0LDE0
IEBAIHZvaWQgaTkxNV9nZW1fb2JqZWN0X2luaXQoc3RydWN0Cj4gZHJtX2k5MTVfZ2VtX29iamVj
dCAqb2JqLCAgewo+ICAJX19tdXRleF9pbml0KCZvYmotPm1tLmxvY2ssICJvYmotPm1tLmxvY2si
LCBrZXkpOwo+IAo+ICsJaWYgKElTX0VOQUJMRUQoQ09ORklHX0xPQ0tERVApKSB7Cj4gKwkJbXV0
ZXhfbG9ja19uZXN0ZWQoJm9iai0+bW0ubG9jaywKPiBJOTE1X01NX0dFVF9QQUdFUyk7Cj4gKwkJ
ZnNfcmVjbGFpbV9hY3F1aXJlKEdGUF9LRVJORUwpOwo+ICsJCW1pZ2h0X2xvY2soJm9iai0+bW0u
bG9jayk7Cj4gKwkJZnNfcmVjbGFpbV9yZWxlYXNlKEdGUF9LRVJORUwpOwo+ICsJCW11dGV4X3Vu
bG9jaygmb2JqLT5tbS5sb2NrKTsKPiArCX0KPiArCgpJIGxvb2tlZCB0aGUgdXBzdHJlYW0gY29k
ZSBpbiBkcm0tdGlwLCAgIEkgc2VlIG90aGVyIGNoYW5nZXMgYnV0IG5vdCBhYm92ZS4gIElzIHRo
aXMgY29ycmVjdD8KCi0tQ1EKCgo+ICAJc3Bpbl9sb2NrX2luaXQoJm9iai0+dm1hLmxvY2spOwo+
ICAJSU5JVF9MSVNUX0hFQUQoJm9iai0+dm1hLmxpc3QpOwo+IAo+IEBAIC0xODYsNyArMTk2LDcg
QEAgc3RhdGljIHZvaWQgX19pOTE1X2dlbV9mcmVlX29iamVjdHMoc3RydWN0Cj4gZHJtX2k5MTVf
cHJpdmF0ZSAqaTkxNSwKPiAgCQlHRU1fQlVHX09OKCFsaXN0X2VtcHR5KCZvYmotPmx1dF9saXN0
KSk7Cj4gCj4gIAkJYXRvbWljX3NldCgmb2JqLT5tbS5wYWdlc19waW5fY291bnQsIDApOwo+IC0J
CV9faTkxNV9nZW1fb2JqZWN0X3B1dF9wYWdlcyhvYmosIEk5MTVfTU1fTk9STUFMKTsKPiArCQlf
X2k5MTVfZ2VtX29iamVjdF9wdXRfcGFnZXMob2JqKTsKPiAgCQlHRU1fQlVHX09OKGk5MTVfZ2Vt
X29iamVjdF9oYXNfcGFnZXMob2JqKSk7Cj4gIAkJYml0bWFwX2ZyZWUob2JqLT5iaXRfMTcpOwo+
IAo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fb2JqZWN0
LmgKPiBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9vYmplY3QuaAo+IGluZGV4
IDQ1OGNkNTEzMzFmMS4uZWRhZjcxMjZhODRkIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2dlbS9pOTE1X2dlbV9vYmplY3QuaAo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1
L2dlbS9pOTE1X2dlbV9vYmplY3QuaAo+IEBAIC0zMTksMTEgKzMxOSwyMiBAQCBpOTE1X2dlbV9v
YmplY3RfdW5waW5fcGFnZXMoc3RydWN0Cj4gZHJtX2k5MTVfZ2VtX29iamVjdCAqb2JqKQo+IAo+
ICBlbnVtIGk5MTVfbW1fc3ViY2xhc3MgeyAvKiBsb2NrZGVwIHN1YmNsYXNzIGZvciBvYmotCj4g
Pm1tLmxvY2svc3RydWN0X211dGV4ICovCj4gIAlJOTE1X01NX05PUk1BTCA9IDAsCj4gLQlJOTE1
X01NX1NIUklOS0VSIC8qIGNhbGxlZCAicmVjdXJzaXZlbHkiIGZyb20gZGlyZWN0LXJlY2xhaW0t
Cj4gZXNxdWUgKi8KPiArCS8qCj4gKwkgKiBPbmx5IHVzZWQgYnkgc3RydWN0X211dGV4LCB3aGVu
IGNhbGxlZCAicmVjdXJzaXZlbHkiIGZyb20KPiArCSAqIGRpcmVjdC1yZWNsYWltLWVzcXVlLiBT
YWZlIGJlY2F1c2UgdGhlcmUgaXMgb25seSBldmVyeSBvbmUKPiArCSAqIHN0cnVjdF9tdXRleCBp
biB0aGUgZW50aXJlIHN5c3RlbS4KPiArCSAqLwo+ICsJSTkxNV9NTV9TSFJJTktFUiA9IDEsCj4g
KwkvKgo+ICsJICogVXNlZCBmb3Igb2JqLT5tbS5sb2NrIHdoZW4gYWxsb2NhdGluZyBwYWdlcy4g
U2FmZSBiZWNhdXNlIHRoZQo+IG9iamVjdAo+ICsJICogaXNuJ3QgeWV0IG9uIGFueSBMUlUsIGFu
ZCB0aGVyZWZvcmUgdGhlIHNocmlua2VyIGNhbid0IGRlYWRsb2NrIG9uCj4gKwkgKiBpdC4gQXMg
c29vbiBhcyB0aGUgb2JqZWN0IGhhcyBwYWdlcywgb2JqLT5tbS5sb2NrIG5lc3RzIHdpdGhpbgo+
ICsJICogZnNfcmVjbGFpbS4KPiArCSAqLwo+ICsJSTkxNV9NTV9HRVRfUEFHRVMgPSAxLAo+ICB9
Owo+IAo+IC1pbnQgX19pOTE1X2dlbV9vYmplY3RfcHV0X3BhZ2VzKHN0cnVjdCBkcm1faTkxNV9n
ZW1fb2JqZWN0ICpvYmosCj4gLQkJCQllbnVtIGk5MTVfbW1fc3ViY2xhc3Mgc3ViY2xhc3MpOwo+
ICtpbnQgX19pOTE1X2dlbV9vYmplY3RfcHV0X3BhZ2VzKHN0cnVjdCBkcm1faTkxNV9nZW1fb2Jq
ZWN0ICpvYmopOwo+ICB2b2lkIGk5MTVfZ2VtX29iamVjdF90cnVuY2F0ZShzdHJ1Y3QgZHJtX2k5
MTVfZ2VtX29iamVjdCAqb2JqKTsgIHZvaWQKPiBpOTE1X2dlbV9vYmplY3Rfd3JpdGViYWNrKHN0
cnVjdCBkcm1faTkxNV9nZW1fb2JqZWN0ICpvYmopOwo+IAo+IGRpZmYgLS1naXQgYS9kcml2ZXJz
L2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fb2JqZWN0X3R5cGVzLmgKPiBiL2RyaXZlcnMvZ3B1
L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9vYmplY3RfdHlwZXMuaAo+IGluZGV4IDk2MDA4Mzc0YTQx
Mi4uMTVmODI5N2RjMzRlIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9p
OTE1X2dlbV9vYmplY3RfdHlwZXMuaAo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9p
OTE1X2dlbV9vYmplY3RfdHlwZXMuaAo+IEBAIC0xNjIsNyArMTYyLDExIEBAIHN0cnVjdCBkcm1f
aTkxNV9nZW1fb2JqZWN0IHsKPiAgCWF0b21pY190IGJpbmRfY291bnQ7Cj4gCj4gIAlzdHJ1Y3Qg
ewo+IC0JCXN0cnVjdCBtdXRleCBsb2NrOyAvKiBwcm90ZWN0cyB0aGUgcGFnZXMgYW5kIHRoZWly
IHVzZSAqLwo+ICsJCS8qCj4gKwkJICogUHJvdGVjdHMgdGhlIHBhZ2VzIGFuZCB0aGVpciB1c2Uu
IERvIG5vdCB1c2UgZGlyZWN0bHksIGJ1dAo+ICsJCSAqIGluc3RlYWQgZ28gdGhyb3VnaCB0aGUg
cGluL3VucGluIGludGVyZmFjZXMuCj4gKwkJICovCj4gKwkJc3RydWN0IG11dGV4IGxvY2s7Cj4g
IAkJYXRvbWljX3QgcGFnZXNfcGluX2NvdW50Owo+ICAJCWF0b21pY190IHNocmlua19waW47Cj4g
Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9wYWdlcy5j
Cj4gYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fcGFnZXMuYwo+IGluZGV4IDI5
ZjRjMjg1MDc0NS4uZjQwMmMyYzQxNWMyIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9p
OTE1L2dlbS9pOTE1X2dlbV9wYWdlcy5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2Vt
L2k5MTVfZ2VtX3BhZ2VzLmMKPiBAQCAtMTA2LDcgKzEwNiw3IEBAIGludCBfX2k5MTVfZ2VtX29i
amVjdF9nZXRfcGFnZXMoc3RydWN0Cj4gZHJtX2k5MTVfZ2VtX29iamVjdCAqb2JqKSAgewo+ICAJ
aW50IGVycjsKPiAKPiAtCWVyciA9IG11dGV4X2xvY2tfaW50ZXJydXB0aWJsZSgmb2JqLT5tbS5s
b2NrKTsKPiArCWVyciA9IG11dGV4X2xvY2tfaW50ZXJydXB0aWJsZV9uZXN0ZWQoJm9iai0+bW0u
bG9jaywKPiArSTkxNV9NTV9HRVRfUEFHRVMpOwo+ICAJaWYgKGVycikKPiAgCQlyZXR1cm4gZXJy
Owo+IAo+IEBAIC0xOTAsOCArMTkwLDcgQEAgX19pOTE1X2dlbV9vYmplY3RfdW5zZXRfcGFnZXMo
c3RydWN0Cj4gZHJtX2k5MTVfZ2VtX29iamVjdCAqb2JqKQo+ICAJcmV0dXJuIHBhZ2VzOwo+ICB9
Cj4gCj4gLWludCBfX2k5MTVfZ2VtX29iamVjdF9wdXRfcGFnZXMoc3RydWN0IGRybV9pOTE1X2dl
bV9vYmplY3QgKm9iaiwKPiAtCQkJCWVudW0gaTkxNV9tbV9zdWJjbGFzcyBzdWJjbGFzcykKPiAr
aW50IF9faTkxNV9nZW1fb2JqZWN0X3B1dF9wYWdlcyhzdHJ1Y3QgZHJtX2k5MTVfZ2VtX29iamVj
dCAqb2JqKQo+ICB7Cj4gIAlzdHJ1Y3Qgc2dfdGFibGUgKnBhZ2VzOwo+ICAJaW50IGVycjsKPiBA
QCAtMjAyLDcgKzIwMSw3IEBAIGludCBfX2k5MTVfZ2VtX29iamVjdF9wdXRfcGFnZXMoc3RydWN0
Cj4gZHJtX2k5MTVfZ2VtX29iamVjdCAqb2JqLAo+ICAJR0VNX0JVR19PTihhdG9taWNfcmVhZCgm
b2JqLT5iaW5kX2NvdW50KSk7Cj4gCj4gIAkvKiBNYXkgYmUgY2FsbGVkIGJ5IHNocmlua2VyIGZy
b20gd2l0aGluIGdldF9wYWdlcygpIChvbiBhbm90aGVyIGJvKQo+ICovCj4gLQltdXRleF9sb2Nr
X25lc3RlZCgmb2JqLT5tbS5sb2NrLCBzdWJjbGFzcyk7Cj4gKwltdXRleF9sb2NrKCZvYmotPm1t
LmxvY2spOwo+ICAJaWYgKHVubGlrZWx5KGF0b21pY19yZWFkKCZvYmotPm1tLnBhZ2VzX3Bpbl9j
b3VudCkpKSB7Cj4gIAkJZXJyID0gLUVCVVNZOwo+ICAJCWdvdG8gdW5sb2NrOwo+IEBAIC0zMDgs
NyArMzA3LDcgQEAgdm9pZCAqaTkxNV9nZW1fb2JqZWN0X3Bpbl9tYXAoc3RydWN0Cj4gZHJtX2k5
MTVfZ2VtX29iamVjdCAqb2JqLAo+ICAJaWYgKCFpOTE1X2dlbV9vYmplY3RfdHlwZV9oYXMob2Jq
LCBmbGFncykpCj4gIAkJcmV0dXJuIEVSUl9QVFIoLUVOWElPKTsKPiAKPiAtCWVyciA9IG11dGV4
X2xvY2tfaW50ZXJydXB0aWJsZSgmb2JqLT5tbS5sb2NrKTsKPiArCWVyciA9IG11dGV4X2xvY2tf
aW50ZXJydXB0aWJsZV9uZXN0ZWQoJm9iai0+bW0ubG9jaywKPiArSTkxNV9NTV9HRVRfUEFHRVMp
Owo+ICAJaWYgKGVycikKPiAgCQlyZXR1cm4gRVJSX1BUUihlcnIpOwo+IAo+IGRpZmYgLS1naXQg
YS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fcGh5cy5jCj4gYi9kcml2ZXJzL2dw
dS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fcGh5cy5jCj4gaW5kZXggODA0M2ZmNjNkNzNmLi5iMWI3
YzFiMzAzOGEgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2Vt
X3BoeXMuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9waHlzLmMK
PiBAQCAtMTY0LDcgKzE2NCw3IEBAIGludCBpOTE1X2dlbV9vYmplY3RfYXR0YWNoX3BoeXMoc3Ry
dWN0Cj4gZHJtX2k5MTVfZ2VtX29iamVjdCAqb2JqLCBpbnQgYWxpZ24pCj4gIAlpZiAoZXJyKQo+
ICAJCXJldHVybiBlcnI7Cj4gCj4gLQltdXRleF9sb2NrKCZvYmotPm1tLmxvY2spOwo+ICsJbXV0
ZXhfbG9ja19uZXN0ZWQoJm9iai0+bW0ubG9jaywgSTkxNV9NTV9HRVRfUEFHRVMpOwo+IAo+ICAJ
aWYgKG9iai0+bW0ubWFkdiAhPSBJOTE1X01BRFZfV0lMTE5FRUQpIHsKPiAgCQllcnIgPSAtRUZB
VUxUOwo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fc2hy
aW5rZXIuYwo+IGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX3Nocmlua2VyLmMK
PiBpbmRleCBmZDNjZTZkYTg0OTcuLjA2NmIzZGY2NzdlOCAxMDA2NDQKPiAtLS0gYS9kcml2ZXJz
L2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fc2hyaW5rZXIuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1
L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9zaHJpbmtlci5jCj4gQEAgLTU3LDcgKzU3LDcgQEAgc3Rh
dGljIGJvb2wgdW5zYWZlX2Ryb3BfcGFnZXMoc3RydWN0Cj4gZHJtX2k5MTVfZ2VtX29iamVjdCAq
b2JqLAo+ICAJCWZsYWdzID0gSTkxNV9HRU1fT0JKRUNUX1VOQklORF9BQ1RJVkU7Cj4gCj4gIAlp
ZiAoaTkxNV9nZW1fb2JqZWN0X3VuYmluZChvYmosIGZsYWdzKSA9PSAwKQo+IC0JCV9faTkxNV9n
ZW1fb2JqZWN0X3B1dF9wYWdlcyhvYmosIEk5MTVfTU1fU0hSSU5LRVIpOwo+ICsJCV9faTkxNV9n
ZW1fb2JqZWN0X3B1dF9wYWdlcyhvYmopOwo+IAo+ICAJcmV0dXJuICFpOTE1X2dlbV9vYmplY3Rf
aGFzX3BhZ2VzKG9iaik7ICB9IEBAIC0yMDksOCArMjA5LDcgQEAKPiBpOTE1X2dlbV9zaHJpbmso
c3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUsCj4gCj4gIAkJCWlmICh1bnNhZmVfZHJvcF9w
YWdlcyhvYmosIHNocmluaykpIHsKPiAgCQkJCS8qIE1heSBhcnJpdmUgZnJvbSBnZXRfcGFnZXMg
b24gYW5vdGhlciBibwo+ICovCj4gLQkJCQltdXRleF9sb2NrX25lc3RlZCgmb2JqLT5tbS5sb2Nr
LAo+IC0JCQkJCQkgIEk5MTVfTU1fU0hSSU5LRVIpOwo+ICsJCQkJbXV0ZXhfbG9jaygmb2JqLT5t
bS5sb2NrKTsKPiAgCQkJCWlmICghaTkxNV9nZW1fb2JqZWN0X2hhc19wYWdlcyhvYmopKSB7Cj4g
IAkJCQkJdHJ5X3RvX3dyaXRlYmFjayhvYmosIHNocmluayk7Cj4gIAkJCQkJY291bnQgKz0gb2Jq
LT5iYXNlLnNpemUgPj4KPiBQQUdFX1NISUZUOyBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJt
L2k5MTUvZ2VtL2k5MTVfZ2VtX3VzZXJwdHIuYwo+IGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2Vt
L2k5MTVfZ2VtX3VzZXJwdHIuYwo+IGluZGV4IDFlMDQ1YzMzNzA0NC4uZWU2NWM2YWNmMGUyIDEw
MDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV91c2VycHRyLmMK
PiArKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fdXNlcnB0ci5jCj4gQEAg
LTEzMSw3ICsxMzEsNyBAQCB1c2VycHRyX21uX2ludmFsaWRhdGVfcmFuZ2Vfc3RhcnQoc3RydWN0
Cj4gbW11X25vdGlmaWVyICpfbW4sCj4gIAkJcmV0ID0gaTkxNV9nZW1fb2JqZWN0X3VuYmluZChv
YmosCj4gCj4gSTkxNV9HRU1fT0JKRUNUX1VOQklORF9BQ1RJVkUpOwo+ICAJCWlmIChyZXQgPT0g
MCkKPiAtCQkJcmV0ID0gX19pOTE1X2dlbV9vYmplY3RfcHV0X3BhZ2VzKG9iaiwKPiBJOTE1X01N
X1NIUklOS0VSKTsKPiArCQkJcmV0ID0gX19pOTE1X2dlbV9vYmplY3RfcHV0X3BhZ2VzKG9iaik7
Cj4gIAkJaTkxNV9nZW1fb2JqZWN0X3B1dChvYmopOwo+ICAJCWlmIChyZXQpCj4gIAkJCXJldHVy
biByZXQ7Cj4gQEAgLTQ4Myw3ICs0ODMsNyBAQCBfX2k5MTVfZ2VtX3VzZXJwdHJfZ2V0X3BhZ2Vz
X3dvcmtlcihzdHJ1Y3QKPiB3b3JrX3N0cnVjdCAqX3dvcmspCj4gIAkJfQo+ICAJfQo+IAo+IC0J
bXV0ZXhfbG9jaygmb2JqLT5tbS5sb2NrKTsKPiArCW11dGV4X2xvY2tfbmVzdGVkKCZvYmotPm1t
LmxvY2ssIEk5MTVfTU1fR0VUX1BBR0VTKTsKPiAgCWlmIChvYmotPnVzZXJwdHIud29yayA9PSAm
d29yay0+d29yaykgewo+ICAJCXN0cnVjdCBzZ190YWJsZSAqcGFnZXMgPSBFUlJfUFRSKHJldCk7
Cj4gCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9zZWxmdGVzdHMvaHVn
ZV9wYWdlcy5jCj4gYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vc2VsZnRlc3RzL2h1Z2VfcGFn
ZXMuYwo+IGluZGV4IDY4OGM0OWEyNGYzMi4uNWM5NTgzMzQ5MDc3IDEwMDY0NAo+IC0tLSBhL2Ry
aXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9zZWxmdGVzdHMvaHVnZV9wYWdlcy5jCj4gKysrIGIvZHJp
dmVycy9ncHUvZHJtL2k5MTUvZ2VtL3NlbGZ0ZXN0cy9odWdlX3BhZ2VzLmMKPiBAQCAtNTE3LDcg
KzUxNyw3IEBAIHN0YXRpYyBpbnQKPiBpZ3RfbW9ja19tZW1vcnlfcmVnaW9uX2h1Z2VfcGFnZXMo
dm9pZCAqYXJnKQo+ICAJCQlpOTE1X3ZtYV91bnBpbih2bWEpOwo+ICAJCQlpOTE1X3ZtYV9jbG9z
ZSh2bWEpOwo+IAo+IC0JCQlfX2k5MTVfZ2VtX29iamVjdF9wdXRfcGFnZXMob2JqLAo+IEk5MTVf
TU1fTk9STUFMKTsKPiArCQkJX19pOTE1X2dlbV9vYmplY3RfcHV0X3BhZ2VzKG9iaik7Cj4gIAkJ
CWk5MTVfZ2VtX29iamVjdF9wdXQob2JqKTsKPiAgCQl9Cj4gIAl9Cj4gQEAgLTY1MCw3ICs2NTAs
NyBAQCBzdGF0aWMgaW50IGlndF9tb2NrX3BwZ3R0X21pc2FsaWduZWRfZG1hKHZvaWQgKmFyZykK
PiAgCQlpOTE1X3ZtYV9jbG9zZSh2bWEpOwo+IAo+ICAJCWk5MTVfZ2VtX29iamVjdF91bnBpbl9w
YWdlcyhvYmopOwo+IC0JCV9faTkxNV9nZW1fb2JqZWN0X3B1dF9wYWdlcyhvYmosIEk5MTVfTU1f
Tk9STUFMKTsKPiArCQlfX2k5MTVfZ2VtX29iamVjdF9wdXRfcGFnZXMob2JqKTsKPiAgCQlpOTE1
X2dlbV9vYmplY3RfcHV0KG9iaik7Cj4gIAl9Cj4gCj4gQEAgLTY3OCw3ICs2NzgsNyBAQCBzdGF0
aWMgdm9pZCBjbG9zZV9vYmplY3RfbGlzdChzdHJ1Y3QgbGlzdF9oZWFkICpvYmplY3RzLAo+IAo+
ICAJCWxpc3RfZGVsKCZvYmotPnN0X2xpbmspOwo+ICAJCWk5MTVfZ2VtX29iamVjdF91bnBpbl9w
YWdlcyhvYmopOwo+IC0JCV9faTkxNV9nZW1fb2JqZWN0X3B1dF9wYWdlcyhvYmosIEk5MTVfTU1f
Tk9STUFMKTsKPiArCQlfX2k5MTVfZ2VtX29iamVjdF9wdXRfcGFnZXMob2JqKTsKPiAgCQlpOTE1
X2dlbV9vYmplY3RfcHV0KG9iaik7Cj4gIAl9Cj4gIH0KPiBAQCAtOTQ4LDcgKzk0OCw3IEBAIHN0
YXRpYyBpbnQgaWd0X21vY2tfcHBndHRfNjRLKHZvaWQgKmFyZykKPiAgCQkJaTkxNV92bWFfY2xv
c2Uodm1hKTsKPiAKPiAgCQkJaTkxNV9nZW1fb2JqZWN0X3VucGluX3BhZ2VzKG9iaik7Cj4gLQkJ
CV9faTkxNV9nZW1fb2JqZWN0X3B1dF9wYWdlcyhvYmosCj4gSTkxNV9NTV9OT1JNQUwpOwo+ICsJ
CQlfX2k5MTVfZ2VtX29iamVjdF9wdXRfcGFnZXMob2JqKTsKPiAgCQkJaTkxNV9nZW1fb2JqZWN0
X3B1dChvYmopOwo+ICAJCX0KPiAgCX0KPiBAQCAtMTMwMSw3ICsxMzAxLDcgQEAgc3RhdGljIGlu
dCBpZ3RfcHBndHRfZXhoYXVzdF9odWdlKHZvaWQgKmFyZykKPiAgCQkJfQo+IAo+ICAJCQlpOTE1
X2dlbV9vYmplY3RfdW5waW5fcGFnZXMob2JqKTsKPiAtCQkJX19pOTE1X2dlbV9vYmplY3RfcHV0
X3BhZ2VzKG9iaiwKPiBJOTE1X01NX05PUk1BTCk7Cj4gKwkJCV9faTkxNV9nZW1fb2JqZWN0X3B1
dF9wYWdlcyhvYmopOwo+ICAJCQlpOTE1X2dlbV9vYmplY3RfcHV0KG9iaik7Cj4gIAkJfQo+ICAJ
fQo+IEBAIC0xNDQyLDcgKzE0NDIsNyBAQCBzdGF0aWMgaW50IGlndF9wcGd0dF9zbW9rZV9odWdl
KHZvaWQgKmFyZykKPiAgCQl9Cj4gIG91dF91bnBpbjoKPiAgCQlpOTE1X2dlbV9vYmplY3RfdW5w
aW5fcGFnZXMob2JqKTsKPiAtCQlfX2k5MTVfZ2VtX29iamVjdF9wdXRfcGFnZXMob2JqLCBJOTE1
X01NX05PUk1BTCk7Cj4gKwkJX19pOTE1X2dlbV9vYmplY3RfcHV0X3BhZ2VzKG9iaik7Cj4gIG91
dF9wdXQ6Cj4gIAkJaTkxNV9nZW1fb2JqZWN0X3B1dChvYmopOwo+IAo+IEBAIC0xNTMwLDcgKzE1
MzAsNyBAQCBzdGF0aWMgaW50IGlndF9wcGd0dF9zYW5pdHlfY2hlY2sodm9pZCAqYXJnKQo+ICAJ
CQllcnIgPSBpZ3Rfd3JpdGVfaHVnZShjdHgsIG9iaik7Cj4gCj4gIAkJCWk5MTVfZ2VtX29iamVj
dF91bnBpbl9wYWdlcyhvYmopOwo+IC0JCQlfX2k5MTVfZ2VtX29iamVjdF9wdXRfcGFnZXMob2Jq
LAo+IEk5MTVfTU1fTk9STUFMKTsKPiArCQkJX19pOTE1X2dlbV9vYmplY3RfcHV0X3BhZ2VzKG9i
aik7Cj4gIAkJCWk5MTVfZ2VtX29iamVjdF9wdXQob2JqKTsKPiAKPiAgCQkJaWYgKGVycikgewo+
IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9zZWxmdGVzdHMvaW50ZWxfbWVtb3J5
X3JlZ2lvbi5jCj4gYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9zZWxmdGVzdHMvaW50ZWxfbWVtb3J5
X3JlZ2lvbi5jCj4gaW5kZXggMTllMWNjYThmMTQzLi45NWQ2MDlhYmQzOWIgMTAwNjQ0Cj4gLS0t
IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvc2VsZnRlc3RzL2ludGVsX21lbW9yeV9yZWdpb24uYwo+
ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L3NlbGZ0ZXN0cy9pbnRlbF9tZW1vcnlfcmVnaW9u
LmMKPiBAQCAtMzIsNyArMzIsNyBAQCBzdGF0aWMgdm9pZCBjbG9zZV9vYmplY3RzKHN0cnVjdCBp
bnRlbF9tZW1vcnlfcmVnaW9uCj4gKm1lbSwKPiAgCQlpZiAoaTkxNV9nZW1fb2JqZWN0X2hhc19w
aW5uZWRfcGFnZXMob2JqKSkKPiAgCQkJaTkxNV9nZW1fb2JqZWN0X3VucGluX3BhZ2VzKG9iaik7
Cj4gIAkJLyogTm8gcG9sbHV0aW5nIHRoZSBtZW1vcnkgcmVnaW9uIGJldHdlZW4gdGVzdHMgKi8K
PiAtCQlfX2k5MTVfZ2VtX29iamVjdF9wdXRfcGFnZXMob2JqLCBJOTE1X01NX05PUk1BTCk7Cj4g
KwkJX19pOTE1X2dlbV9vYmplY3RfcHV0X3BhZ2VzKG9iaik7Cj4gIAkJbGlzdF9kZWwoJm9iai0+
c3RfbGluayk7Cj4gIAkJaTkxNV9nZW1fb2JqZWN0X3B1dChvYmopOwo+ICAJfQo+IEBAIC0xMjIs
NyArMTIyLDcgQEAgaWd0X29iamVjdF9jcmVhdGUoc3RydWN0IGludGVsX21lbW9yeV9yZWdpb24g
Km1lbSwKPiBzdGF0aWMgdm9pZCBpZ3Rfb2JqZWN0X3JlbGVhc2Uoc3RydWN0IGRybV9pOTE1X2dl
bV9vYmplY3QgKm9iaikgIHsKPiAgCWk5MTVfZ2VtX29iamVjdF91bnBpbl9wYWdlcyhvYmopOwo+
IC0JX19pOTE1X2dlbV9vYmplY3RfcHV0X3BhZ2VzKG9iaiwgSTkxNV9NTV9OT1JNQUwpOwo+ICsJ
X19pOTE1X2dlbV9vYmplY3RfcHV0X3BhZ2VzKG9iaik7Cj4gIAlsaXN0X2RlbCgmb2JqLT5zdF9s
aW5rKTsKPiAgCWk5MTVfZ2VtX29iamVjdF9wdXQob2JqKTsKPiAgfQo+IC0tCj4gMi4yNC4wLnJj
MgoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KSW50ZWwt
Z2Z4IG1haWxpbmcgbGlzdApJbnRlbC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8v
bGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vaW50ZWwtZ2Z4

Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 3FC0B2B9AF4
	for <lists+intel-gfx@lfdr.de>; Thu, 19 Nov 2020 19:54:19 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 03C1F6E7D1;
	Thu, 19 Nov 2020 18:54:17 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga04.intel.com (mga04.intel.com [192.55.52.120])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 892D06E5D5
 for <intel-gfx@lists.freedesktop.org>; Thu, 19 Nov 2020 18:54:15 +0000 (UTC)
IronPort-SDR: Qz3FKsQ8Qs2hhTelWt8vw7kfkSNboHQH3g9F7pZ9O34r9Lsk94MIGdmGwBpJzN6zqBeaBMODIe
 NOYKBUYXRWcA==
X-IronPort-AV: E=McAfee;i="6000,8403,9810"; a="168771160"
X-IronPort-AV: E=Sophos;i="5.78,354,1599548400"; d="scan'208";a="168771160"
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from fmsmga003.fm.intel.com ([10.253.24.29])
 by fmsmga104.fm.intel.com with ESMTP/TLS/ECDHE-RSA-AES256-GCM-SHA384;
 19 Nov 2020 10:54:15 -0800
IronPort-SDR: 0u7wG++bm0qSSYYCK7KEUWTg64HOPlBValXTq8wbhbCCz4isLT4FaOpAoz1xzpC4nMyIs4Uv12
 a7RQSGymWKYg==
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.78,354,1599548400"; d="scan'208";a="368872421"
Received: from stinkbox.fi.intel.com (HELO stinkbox) ([10.237.72.174])
 by FMSMGA003.fm.intel.com with SMTP; 19 Nov 2020 10:54:13 -0800
Received: by stinkbox (sSMTP sendmail emulation);
 Thu, 19 Nov 2020 20:54:12 +0200
From: Ville Syrjala <ville.syrjala@linux.intel.com>
To: intel-gfx@lists.freedesktop.org
Date: Thu, 19 Nov 2020 20:53:52 +0200
Message-Id: <20201119185401.31883-5-ville.syrjala@linux.intel.com>
X-Mailer: git-send-email 2.26.2
In-Reply-To: <20201119185401.31883-1-ville.syrjala@linux.intel.com>
References: <20201119185401.31883-1-ville.syrjala@linux.intel.com>
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH 04/13] drm/i915: Introduce skl_plane_ddb_iter
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

RnJvbTogVmlsbGUgU3lyasOkbMOkIDx2aWxsZS5zeXJqYWxhQGxpbnV4LmludGVsLmNvbT4KCkNv
bGxlY3QgYSBiaXQgb2YgdGhlIHN0dWZmIHVzZWQgZHVyaW5nIHRoZSBwbGFuZSBkZGIKYWxsb2Nh
dGlvbiBpbnRvIGEgc3RydWN0IHdlIGNhbiBwYXNzIGFyb3VuZC4KClNpZ25lZC1vZmYtYnk6IFZp
bGxlIFN5cmrDpGzDpCA8dmlsbGUuc3lyamFsYUBsaW51eC5pbnRlbC5jb20+Ci0tLQogZHJpdmVy
cy9ncHUvZHJtL2k5MTUvaW50ZWxfcG0uYyB8IDk0ICsrKysrKysrKysrKysrKystLS0tLS0tLS0t
LS0tLS0tLQogMSBmaWxlIGNoYW5nZWQsIDQ3IGluc2VydGlvbnMoKyksIDQ3IGRlbGV0aW9ucygt
KQoKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX3BtLmMgYi9kcml2ZXJz
L2dwdS9kcm0vaTkxNS9pbnRlbF9wbS5jCmluZGV4IDJiMTRmMjM3NTllYy4uZDk1MWRhYjg0MGY5
IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9wbS5jCisrKyBiL2RyaXZl
cnMvZ3B1L2RybS9pOTE1L2ludGVsX3BtLmMKQEAgLTQ4MDEsNiArNDgwMSwxMyBAQCBza2xfcGxh
bmVfd21fbGV2ZWwoY29uc3Qgc3RydWN0IGludGVsX2NydGNfc3RhdGUgKmNydGNfc3RhdGUsCiAJ
cmV0dXJuICZ3bS0+d21bbGV2ZWxdOwogfQogCitzdHJ1Y3Qgc2tsX3BsYW5lX2RkYl9pdGVyIHsK
Kwl1NjQgZGF0YV9yYXRlOworCXUxNiB0b3RhbFtJOTE1X01BWF9QTEFORVNdOworCXUxNiB1dl90
b3RhbFtJOTE1X01BWF9QTEFORVNdOworCXUxNiBzdGFydCwgc2l6ZTsKK307CisKIHN0YXRpYyBp
bnQKIHNrbF9hbGxvY2F0ZV9waXBlX2RkYihzdHJ1Y3QgaW50ZWxfYXRvbWljX3N0YXRlICpzdGF0
ZSwKIAkJICAgICAgc3RydWN0IGludGVsX2NydGMgKmNydGMpCkBAIC00ODA5LDEwICs0ODE2LDcg
QEAgc2tsX2FsbG9jYXRlX3BpcGVfZGRiKHN0cnVjdCBpbnRlbF9hdG9taWNfc3RhdGUgKnN0YXRl
LAogCQlpbnRlbF9hdG9taWNfZ2V0X25ld19jcnRjX3N0YXRlKHN0YXRlLCBjcnRjKTsKIAlzdHJ1
Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYgPSB0b19pOTE1KGNydGMtPmJhc2UuZGV2KTsK
IAlzdHJ1Y3Qgc2tsX2RkYl9lbnRyeSAqYWxsb2MgPSAmY3J0Y19zdGF0ZS0+d20uc2tsLmRkYjsK
LQl1MTYgYWxsb2Nfc2l6ZSwgc3RhcnQgPSAwOwotCXUxNiB0b3RhbFtJOTE1X01BWF9QTEFORVNd
ID0ge307Ci0JdTE2IHV2X3RvdGFsW0k5MTVfTUFYX1BMQU5FU10gPSB7fTsKLQl1NjQgdG90YWxf
ZGF0YV9yYXRlOworCXN0cnVjdCBza2xfcGxhbmVfZGRiX2l0ZXIgaXRlciA9IHt9OwogCWVudW0g
cGxhbmVfaWQgcGxhbmVfaWQ7CiAJaW50IG51bV9hY3RpdmU7CiAJdTMyIGJsb2NrczsKQEAgLTQ4
NTQsMjggKzQ4NTgsMjYgQEAgc2tsX2FsbG9jYXRlX3BpcGVfZGRiKHN0cnVjdCBpbnRlbF9hdG9t
aWNfc3RhdGUgKnN0YXRlLAogCX0KIAogCWlmIChJTlRFTF9HRU4oZGV2X3ByaXYpID49IDExKQot
CQl0b3RhbF9kYXRhX3JhdGUgPQotCQkJaWNsX2dldF90b3RhbF9yZWxhdGl2ZV9kYXRhX3JhdGUo
c3RhdGUsIGNydGMpOworCQlpdGVyLmRhdGFfcmF0ZSA9IGljbF9nZXRfdG90YWxfcmVsYXRpdmVf
ZGF0YV9yYXRlKHN0YXRlLCBjcnRjKTsKIAllbHNlCi0JCXRvdGFsX2RhdGFfcmF0ZSA9Ci0JCQlz
a2xfZ2V0X3RvdGFsX3JlbGF0aXZlX2RhdGFfcmF0ZShzdGF0ZSwgY3J0Yyk7CisJCWl0ZXIuZGF0
YV9yYXRlID0gc2tsX2dldF90b3RhbF9yZWxhdGl2ZV9kYXRhX3JhdGUoc3RhdGUsIGNydGMpOwog
CiAJcmV0ID0gc2tsX2RkYl9nZXRfcGlwZV9hbGxvY2F0aW9uX2xpbWl0cyhkZXZfcHJpdiwgY3J0
Y19zdGF0ZSwKIAkJCQkJCSBhbGxvYywgJm51bV9hY3RpdmUpOwogCWlmIChyZXQpCiAJCXJldHVy
biByZXQ7CiAKLQlhbGxvY19zaXplID0gc2tsX2RkYl9lbnRyeV9zaXplKGFsbG9jKTsKLQlpZiAo
YWxsb2Nfc2l6ZSA9PSAwKQorCWl0ZXIuc2l6ZSA9IHNrbF9kZGJfZW50cnlfc2l6ZShhbGxvYyk7
CisJaWYgKGl0ZXIuc2l6ZSA9PSAwKQogCQlyZXR1cm4gMDsKIAogCS8qIEFsbG9jYXRlIGZpeGVk
IG51bWJlciBvZiBibG9ja3MgZm9yIGN1cnNvci4gKi8KLQl0b3RhbFtQTEFORV9DVVJTT1JdID0g
c2tsX2N1cnNvcl9hbGxvY2F0aW9uKGNydGNfc3RhdGUsIG51bV9hY3RpdmUpOwotCWFsbG9jX3Np
emUgLT0gdG90YWxbUExBTkVfQ1VSU09SXTsKKwlpdGVyLnRvdGFsW1BMQU5FX0NVUlNPUl0gPSBz
a2xfY3Vyc29yX2FsbG9jYXRpb24oY3J0Y19zdGF0ZSwgbnVtX2FjdGl2ZSk7CisJaXRlci5zaXpl
IC09IGl0ZXIudG90YWxbUExBTkVfQ1VSU09SXTsKIAlza2xfZGRiX2VudHJ5X2luaXQoJmNydGNf
c3RhdGUtPndtLnNrbC5wbGFuZV9kZGJfeVtQTEFORV9DVVJTT1JdLAotCQkJICAgYWxsb2MtPmVu
ZCAtIHRvdGFsW1BMQU5FX0NVUlNPUl0sIGFsbG9jLT5lbmQpOworCQkJICAgYWxsb2MtPmVuZCAt
IGl0ZXIudG90YWxbUExBTkVfQ1VSU09SXSwgYWxsb2MtPmVuZCk7CiAKLQlpZiAodG90YWxfZGF0
YV9yYXRlID09IDApCisJaWYgKGl0ZXIuZGF0YV9yYXRlID09IDApCiAJCXJldHVybiAwOwogCiAJ
LyoKQEAgLTQ4ODksNyArNDg5MSw3IEBAIHNrbF9hbGxvY2F0ZV9waXBlX2RkYihzdHJ1Y3QgaW50
ZWxfYXRvbWljX3N0YXRlICpzdGF0ZSwKIAkJCQkmY3J0Y19zdGF0ZS0+d20uc2tsLm9wdGltYWwu
cGxhbmVzW3BsYW5lX2lkXTsKIAogCQkJaWYgKHBsYW5lX2lkID09IFBMQU5FX0NVUlNPUikgewot
CQkJCWlmICh3bS0+d21bbGV2ZWxdLm1pbl9kZGJfYWxsb2MgPiB0b3RhbFtQTEFORV9DVVJTT1Jd
KSB7CisJCQkJaWYgKHdtLT53bVtsZXZlbF0ubWluX2RkYl9hbGxvYyA+IGl0ZXIudG90YWxbUExB
TkVfQ1VSU09SXSkgewogCQkJCQlkcm1fV0FSTl9PTigmZGV2X3ByaXYtPmRybSwKIAkJCQkJCSAg
ICB3bS0+d21bbGV2ZWxdLm1pbl9kZGJfYWxsb2MgIT0gVTE2X01BWCk7CiAJCQkJCWJsb2NrcyA9
IFUzMl9NQVg7CkBAIC00OTAyLDggKzQ5MDQsOCBAQCBza2xfYWxsb2NhdGVfcGlwZV9kZGIoc3Ry
dWN0IGludGVsX2F0b21pY19zdGF0ZSAqc3RhdGUsCiAJCQlibG9ja3MgKz0gd20tPnV2X3dtW2xl
dmVsXS5taW5fZGRiX2FsbG9jOwogCQl9CiAKLQkJaWYgKGJsb2NrcyA8PSBhbGxvY19zaXplKSB7
Ci0JCQlhbGxvY19zaXplIC09IGJsb2NrczsKKwkJaWYgKGJsb2NrcyA8PSBpdGVyLnNpemUpIHsK
KwkJCWl0ZXIuc2l6ZSAtPSBibG9ja3M7CiAJCQlicmVhazsKIAkJfQogCX0KQEAgLTQ5MTIsNyAr
NDkxNCw3IEBAIHNrbF9hbGxvY2F0ZV9waXBlX2RkYihzdHJ1Y3QgaW50ZWxfYXRvbWljX3N0YXRl
ICpzdGF0ZSwKIAkJZHJtX2RiZ19rbXMoJmRldl9wcml2LT5kcm0sCiAJCQkgICAgIlJlcXVlc3Rl
ZCBkaXNwbGF5IGNvbmZpZ3VyYXRpb24gZXhjZWVkcyBzeXN0ZW0gRERCIGxpbWl0YXRpb25zIik7
CiAJCWRybV9kYmdfa21zKCZkZXZfcHJpdi0+ZHJtLCAibWluaW11bSByZXF1aXJlZCAlZC8lZFxu
IiwKLQkJCSAgICBibG9ja3MsIGFsbG9jX3NpemUpOworCQkJICAgIGJsb2NrcywgaXRlci5zaXpl
KTsKIAkJcmV0dXJuIC1FSU5WQUw7CiAJfQogCkBAIC00OTI0LDcgKzQ5MjYsNyBAQCBza2xfYWxs
b2NhdGVfcGlwZV9kZGIoc3RydWN0IGludGVsX2F0b21pY19zdGF0ZSAqc3RhdGUsCiAJZm9yX2Vh
Y2hfcGxhbmVfaWRfb25fY3J0YyhjcnRjLCBwbGFuZV9pZCkgewogCQljb25zdCBzdHJ1Y3Qgc2ts
X3BsYW5lX3dtICp3bSA9CiAJCQkmY3J0Y19zdGF0ZS0+d20uc2tsLm9wdGltYWwucGxhbmVzW3Bs
YW5lX2lkXTsKLQkJdTY0IHJhdGU7CisJCXU2NCBkYXRhX3JhdGU7CiAJCXUxNiBleHRyYTsKIAog
CQlpZiAocGxhbmVfaWQgPT0gUExBTkVfQ1VSU09SKQpAQCAtNDkzNCwzMiArNDkzNiwzMCBAQCBz
a2xfYWxsb2NhdGVfcGlwZV9kZGIoc3RydWN0IGludGVsX2F0b21pY19zdGF0ZSAqc3RhdGUsCiAJ
CSAqIFdlJ3ZlIGFjY291bnRlZCBmb3IgYWxsIGFjdGl2ZSBwbGFuZXM7IHJlbWFpbmluZyBwbGFu
ZXMgYXJlCiAJCSAqIGFsbCBkaXNhYmxlZC4KIAkJICovCi0JCWlmICh0b3RhbF9kYXRhX3JhdGUg
PT0gMCkKKwkJaWYgKGl0ZXIuZGF0YV9yYXRlID09IDApCiAJCQlicmVhazsKIAotCQlyYXRlID0g
Y3J0Y19zdGF0ZS0+cGxhbmVfZGF0YV9yYXRlW3BsYW5lX2lkXTsKLQkJZXh0cmEgPSBtaW5fdCh1
MTYsIGFsbG9jX3NpemUsCi0JCQkgICAgICBESVY2NF9VNjRfUk9VTkRfVVAoYWxsb2Nfc2l6ZSAq
IHJhdGUsCi0JCQkJCQkgdG90YWxfZGF0YV9yYXRlKSk7Ci0JCXRvdGFsW3BsYW5lX2lkXSA9IHdt
LT53bVtsZXZlbF0ubWluX2RkYl9hbGxvYyArIGV4dHJhOwotCQlhbGxvY19zaXplIC09IGV4dHJh
OwotCQl0b3RhbF9kYXRhX3JhdGUgLT0gcmF0ZTsKKwkJZGF0YV9yYXRlID0gY3J0Y19zdGF0ZS0+
cGxhbmVfZGF0YV9yYXRlW3BsYW5lX2lkXTsKKwkJZXh0cmEgPSBtaW5fdCh1MTYsIGl0ZXIuc2l6
ZSwKKwkJCSAgICAgIERJVjY0X1U2NF9ST1VORF9VUChpdGVyLnNpemUgKiBkYXRhX3JhdGUsIGl0
ZXIuZGF0YV9yYXRlKSk7CisJCWl0ZXIudG90YWxbcGxhbmVfaWRdID0gd20tPndtW2xldmVsXS5t
aW5fZGRiX2FsbG9jICsgZXh0cmE7CisJCWl0ZXIuc2l6ZSAtPSBleHRyYTsKKwkJaXRlci5kYXRh
X3JhdGUgLT0gZGF0YV9yYXRlOwogCi0JCWlmICh0b3RhbF9kYXRhX3JhdGUgPT0gMCkKKwkJaWYg
KGl0ZXIuZGF0YV9yYXRlID09IDApCiAJCQlicmVhazsKIAotCQlyYXRlID0gY3J0Y19zdGF0ZS0+
dXZfcGxhbmVfZGF0YV9yYXRlW3BsYW5lX2lkXTsKLQkJZXh0cmEgPSBtaW5fdCh1MTYsIGFsbG9j
X3NpemUsCi0JCQkgICAgICBESVY2NF9VNjRfUk9VTkRfVVAoYWxsb2Nfc2l6ZSAqIHJhdGUsCi0J
CQkJCQkgdG90YWxfZGF0YV9yYXRlKSk7Ci0JCXV2X3RvdGFsW3BsYW5lX2lkXSA9IHdtLT51dl93
bVtsZXZlbF0ubWluX2RkYl9hbGxvYyArIGV4dHJhOwotCQlhbGxvY19zaXplIC09IGV4dHJhOwot
CQl0b3RhbF9kYXRhX3JhdGUgLT0gcmF0ZTsKKwkJZGF0YV9yYXRlID0gY3J0Y19zdGF0ZS0+dXZf
cGxhbmVfZGF0YV9yYXRlW3BsYW5lX2lkXTsKKwkJZXh0cmEgPSBtaW5fdCh1MTYsIGl0ZXIuc2l6
ZSwKKwkJCSAgICAgIERJVjY0X1U2NF9ST1VORF9VUChpdGVyLnNpemUgKiBkYXRhX3JhdGUsIGl0
ZXIuZGF0YV9yYXRlKSk7CisJCWl0ZXIudXZfdG90YWxbcGxhbmVfaWRdID0gd20tPnV2X3dtW2xl
dmVsXS5taW5fZGRiX2FsbG9jICsgZXh0cmE7CisJCWl0ZXIuc2l6ZSAtPSBleHRyYTsKKwkJaXRl
ci5kYXRhX3JhdGUgLT0gZGF0YV9yYXRlOwogCX0KLQlkcm1fV0FSTl9PTigmZGV2X3ByaXYtPmRy
bSwgYWxsb2Nfc2l6ZSAhPSAwIHx8IHRvdGFsX2RhdGFfcmF0ZSAhPSAwKTsKKwlkcm1fV0FSTl9P
TigmZGV2X3ByaXYtPmRybSwgaXRlci5zaXplICE9IDAgfHwgaXRlci5kYXRhX3JhdGUgIT0gMCk7
CiAKIAkvKiBTZXQgdGhlIGFjdHVhbCBEREIgc3RhcnQvZW5kIHBvaW50cyBmb3IgZWFjaCBwbGFu
ZSAqLwotCXN0YXJ0ID0gYWxsb2MtPnN0YXJ0OworCWl0ZXIuc3RhcnQgPSBhbGxvYy0+c3RhcnQ7
CiAJZm9yX2VhY2hfcGxhbmVfaWRfb25fY3J0YyhjcnRjLCBwbGFuZV9pZCkgewogCQlzdHJ1Y3Qg
c2tsX2RkYl9lbnRyeSAqcGxhbmVfYWxsb2MgPQogCQkJJmNydGNfc3RhdGUtPndtLnNrbC5wbGFu
ZV9kZGJfeVtwbGFuZV9pZF07CkBAIC00OTcxLDE2ICs0OTcxLDE2IEBAIHNrbF9hbGxvY2F0ZV9w
aXBlX2RkYihzdHJ1Y3QgaW50ZWxfYXRvbWljX3N0YXRlICpzdGF0ZSwKIAogCQkvKiBHZW4xMSsg
dXNlcyBhIHNlcGFyYXRlIHBsYW5lIGZvciBVViB3YXRlcm1hcmtzICovCiAJCWRybV9XQVJOX09O
KCZkZXZfcHJpdi0+ZHJtLAotCQkJICAgIElOVEVMX0dFTihkZXZfcHJpdikgPj0gMTEgJiYgdXZf
dG90YWxbcGxhbmVfaWRdKTsKKwkJCSAgICBJTlRFTF9HRU4oZGV2X3ByaXYpID49IDExICYmIGl0
ZXIudXZfdG90YWxbcGxhbmVfaWRdKTsKIAogCQkvKiBMZWF2ZSBkaXNhYmxlZCBwbGFuZXMgYXQg
KDAsMCkgKi8KLQkJaWYgKHRvdGFsW3BsYW5lX2lkXSkKLQkJCXN0YXJ0ID0gc2tsX2RkYl9lbnRy
eV9pbml0KHBsYW5lX2FsbG9jLCBzdGFydCwKLQkJCQkJCSAgIHN0YXJ0ICsgdG90YWxbcGxhbmVf
aWRdKTsKKwkJaWYgKGl0ZXIudG90YWxbcGxhbmVfaWRdKQorCQkJaXRlci5zdGFydCA9IHNrbF9k
ZGJfZW50cnlfaW5pdChwbGFuZV9hbGxvYywgaXRlci5zdGFydCwKKwkJCQkJCQlpdGVyLnN0YXJ0
ICsgaXRlci50b3RhbFtwbGFuZV9pZF0pOwogCi0JCWlmICh1dl90b3RhbFtwbGFuZV9pZF0pCi0J
CQlzdGFydCA9IHNrbF9kZGJfZW50cnlfaW5pdCh1dl9wbGFuZV9hbGxvYywgc3RhcnQsCi0JCQkJ
CQkgICBzdGFydCArIHV2X3RvdGFsW3BsYW5lX2lkXSk7CisJCWlmIChpdGVyLnV2X3RvdGFsW3Bs
YW5lX2lkXSkKKwkJCWl0ZXIuc3RhcnQgPSBza2xfZGRiX2VudHJ5X2luaXQodXZfcGxhbmVfYWxs
b2MsIGl0ZXIuc3RhcnQsCisJCQkJCQkJaXRlci5zdGFydCArIGl0ZXIudXZfdG90YWxbcGxhbmVf
aWRdKTsKIAl9CiAKIAkvKgpAQCAtNTAwNiw4ICs1MDA2LDggQEAgc2tsX2FsbG9jYXRlX3BpcGVf
ZGRiKHN0cnVjdCBpbnRlbF9hdG9taWNfc3RhdGUgKnN0YXRlLAogCQkJICogIHBsYW5lcyBtdXN0
IGJlIGVuYWJsZWQgYmVmb3JlIHRoZSBsZXZlbCB3aWxsIGJlIHVzZWQuIgogCQkJICogU28gdGhp
cyBpcyBhY3R1YWxseSBzYWZlIHRvIGRvLgogCQkJICovCi0JCQlpZiAod20tPndtW2xldmVsXS5t
aW5fZGRiX2FsbG9jID4gdG90YWxbcGxhbmVfaWRdIHx8Ci0JCQkgICAgd20tPnV2X3dtW2xldmVs
XS5taW5fZGRiX2FsbG9jID4gdXZfdG90YWxbcGxhbmVfaWRdKQorCQkJaWYgKHdtLT53bVtsZXZl
bF0ubWluX2RkYl9hbGxvYyA+IGl0ZXIudG90YWxbcGxhbmVfaWRdIHx8CisJCQkgICAgd20tPnV2
X3dtW2xldmVsXS5taW5fZGRiX2FsbG9jID4gaXRlci51dl90b3RhbFtwbGFuZV9pZF0pCiAJCQkJ
bWVtc2V0KCZ3bS0+d21bbGV2ZWxdLCAwLCBzaXplb2Yod20tPndtW2xldmVsXSkpOwogCiAJCQkv
KgpAQCAtNTAzMSw3ICs1MDMxLDcgQEAgc2tsX2FsbG9jYXRlX3BpcGVfZGRiKHN0cnVjdCBpbnRl
bF9hdG9taWNfc3RhdGUgKnN0YXRlLAogCQlzdHJ1Y3Qgc2tsX3BsYW5lX3dtICp3bSA9CiAJCQkm
Y3J0Y19zdGF0ZS0+d20uc2tsLm9wdGltYWwucGxhbmVzW3BsYW5lX2lkXTsKIAotCQlpZiAod20t
PnRyYW5zX3dtLnBsYW5lX3Jlc19iID49IHRvdGFsW3BsYW5lX2lkXSkKKwkJaWYgKHdtLT50cmFu
c193bS5wbGFuZV9yZXNfYiA+PSBpdGVyLnRvdGFsW3BsYW5lX2lkXSkKIAkJCW1lbXNldCgmd20t
PnRyYW5zX3dtLCAwLCBzaXplb2Yod20tPnRyYW5zX3dtKSk7CiAJfQogCi0tIAoyLjI2LjIKCl9f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCkludGVsLWdmeCBt
YWlsaW5nIGxpc3QKSW50ZWwtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3Rz
LmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2ludGVsLWdmeAo=

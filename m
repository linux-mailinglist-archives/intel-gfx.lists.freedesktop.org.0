Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 73ADD121198
	for <lists+intel-gfx@lfdr.de>; Mon, 16 Dec 2019 18:19:40 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id CFCB56E843;
	Mon, 16 Dec 2019 17:19:37 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga03.intel.com (mga03.intel.com [134.134.136.65])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 34C926E843
 for <intel-gfx@lists.freedesktop.org>; Mon, 16 Dec 2019 17:19:36 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from fmsmga003.fm.intel.com ([10.253.24.29])
 by orsmga103.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 16 Dec 2019 09:19:35 -0800
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.69,322,1571727600"; d="scan'208";a="266313008"
Received: from fmsmsx103.amr.corp.intel.com ([10.18.124.201])
 by FMSMGA003.fm.intel.com with ESMTP; 16 Dec 2019 09:19:34 -0800
Received: from fmsmsx117.amr.corp.intel.com ([169.254.3.123]) by
 FMSMSX103.amr.corp.intel.com ([169.254.2.119]) with mapi id 14.03.0439.000;
 Mon, 16 Dec 2019 09:19:34 -0800
From: "Souza, Jose" <jose.souza@intel.com>
To: "ville.syrjala@linux.intel.com" <ville.syrjala@linux.intel.com>
Thread-Topic: [PATCH v2 rebased 07/11] drm/i915/tgl: Select master
 transcoder for MST stream
Thread-Index: AQHVsFMunUXv68fiYUq3u3YJceSuA6e3f1uAgAYQEAA=
Date: Mon, 16 Dec 2019 17:19:34 +0000
Message-ID: <b246227687890d2459d78b55c9c2a6909c51f6c5.camel@intel.com>
References: <20191211184526.142413-1-jose.souza@intel.com>
 <20191211184526.142413-7-jose.souza@intel.com>
 <20191212204429.GT1208@intel.com>
In-Reply-To: <20191212204429.GT1208@intel.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-originating-ip: [10.254.102.104]
Content-ID: <71595B8FFFC1744284883F95C3A5C8BF@intel.com>
MIME-Version: 1.0
Subject: Re: [Intel-gfx] [PATCH v2 rebased 07/11] drm/i915/tgl: Select
 master transcoder for MST stream
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: "intel-gfx@lists.freedesktop.org" <intel-gfx@lists.freedesktop.org>, "De
 Marchi, Lucas" <lucas.demarchi@intel.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

T24gVGh1LCAyMDE5LTEyLTEyIGF0IDIyOjQ0ICswMjAwLCBWaWxsZSBTeXJqw6Rsw6Qgd3JvdGU6
DQo+IE9uIFdlZCwgRGVjIDExLCAyMDE5IGF0IDEwOjQ1OjIyQU0gLTA4MDAsIEpvc8OpIFJvYmVy
dG8gZGUgU291emENCj4gd3JvdGU6DQo+ID4gT24gVEdMIHRoZSBibGVuZGluZyBvZiBhbGwgdGhl
IHN0cmVhbXMgaGF2ZSBtb3ZlZCBmcm9tIERESSB0bw0KPiA+IHRyYW5zY29kZXIsIHNvIG5vdyBl
dmVyeSB0cmFuc2NvZGVyIHdvcmtpbmcgb3ZlciB0aGUgc2FtZSBNU1QgcG9ydA0KPiA+IG11c3QN
Cj4gPiBzZW5kIGl0cyBzdHJlYW0gdG8gYSBtYXN0ZXIgdHJhbnNjb2RlciBhbmQgbWFzdGVyIHdp
bGwgc2VuZCB0byBEREkNCj4gPiByZXNwZWN0aW5nIHRoZSB0aW1lIHNsb3RzLg0KPiA+IA0KPiA+
IFNvIGhlcmUgYWRkaW5nIGFsbCB0aGUgQ1JUQ3MgdGhhdCBzaGFyZXMgdGhlIHNhbWUgTVNUIHN0
cmVhbSBpZg0KPiA+IG5lZWRlZCBhbmQgY29tcHV0aW5nIHRoZWlyIHN0YXRlIGFnYWluLCBpdCB3
aWxsIHBpY2sgdGhlIGxvd2VzdA0KPiA+IHBpcGUvdHJhbnNjb2RlciBhbW9uZyB0aGUgb25lcyBp
biB0aGUgc2FtZSBzdHJlYW0gdG8gYmUgbWFzdGVyLg0KPiA+IA0KPiA+IE1vc3Qgb2YgdGhlIHRp
bWUgc2tsX2NvbW1pdF9tb2Rlc2V0X2VuYWJsZXMoKSBlbmFibGVzIHBpcGVzIGluIGENCj4gPiBj
cmVzY2VudCBvcmRlciBidXQgZHVlIEREQiBvdmVybGFwcGluZyBpdCBtaWdodCBub3QgaGFwcGVu
LCB0aGlzDQo+ID4gc2NlbmFyaW9zIHdpbGwgYmUgaGFuZGxlZCBpbiB0aGUgbmV4dCBwYXRjaC4N
Cj4gPiANCj4gPiB2MjoNCj4gPiAtIFVzaW5nIHJlY2VudGx5IGFkZGVkIGludGVsX2NydGNfc3Rh
dGVfcmVzZXQoKSB0byBzZXQNCj4gPiBtc3RfbWFzdGVyX3RyYW5zY29kZXIgdG8gaW52YWxpZCB0
cmFuc2NvZGVyIGZvciBhbGwgbm9uIGdlbjEyICYgTVNUDQo+ID4gY29kZSBwYXRocw0KPiA+IC0g
U2V0dGluZyBsb3dlc3QgcGlwZS90cmFuc2NvZGVyIGFzIG1hc3RlciwgcHJldmlvdXNseSBpdCB3
YXMgdGhlDQo+ID4gZmlyc3Qgb25lIGJ1dCBzZXR0aW5nIGEgcHJlZGljdGFibGUgb25lIHdpbGwg
aGVscCBpbiBmdXR1cmUgTVNUIGUNCj4gPiBwb3J0IHN5bmMgaW50ZWdyYXRpb24NCj4gPiAtIE1v
dmluZyB0byBpbnRlbCB0eXBlIGFzIG11Y2ggYXMgd2UgY2FuDQo+ID4gDQo+ID4gQlNwZWM6IDUw
NDkzDQo+ID4gQlNwZWM6IDQ5MTkwDQo+ID4gQ2M6IFZpbGxlIFN5cmrDpGzDpCA8dmlsbGUuc3ly
amFsYUBsaW51eC5pbnRlbC5jb20+DQo+ID4gQ2M6IEx1Y2FzIERlIE1hcmNoaSA8bHVjYXMuZGVt
YXJjaGlAaW50ZWwuY29tPg0KPiA+IFNpZ25lZC1vZmYtYnk6IEpvc8OpIFJvYmVydG8gZGUgU291
emEgPGpvc2Uuc291emFAaW50ZWwuY29tPg0KPiA+IC0tLQ0KPiA+ICBkcml2ZXJzL2dwdS9kcm0v
aTkxNS9kaXNwbGF5L2ludGVsX2F0b21pYy5jICAgfCAgMTQgKysNCj4gPiAgZHJpdmVycy9ncHUv
ZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9hdG9taWMuaCAgIHwgICAzICsNCj4gPiAgZHJpdmVycy9n
cHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kZGkuYyAgICAgIHwgIDE0ICstDQo+ID4gIGRyaXZl
cnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheS5jICB8ICAxMyArLQ0KPiA+ICAu
Li4vZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5X3R5cGVzLmggICAgfCAgIDMgKw0KPiA+
ICBkcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2RwX21zdC5jICAgfCAxMzkNCj4g
PiArKysrKysrKysrKysrKysrLS0NCj4gPiAgZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9p
bnRlbF9kcF9tc3QuaCAgIHwgICA1ICsNCj4gPiAgNyBmaWxlcyBjaGFuZ2VkLCAxNzggaW5zZXJ0
aW9ucygrKSwgMTMgZGVsZXRpb25zKC0pDQo+ID4gDQo+ID4gZGlmZiAtLWdpdCBhL2RyaXZlcnMv
Z3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfYXRvbWljLmMNCj4gPiBiL2RyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2Rpc3BsYXkvaW50ZWxfYXRvbWljLmMNCj4gPiBpbmRleCA2ZTkzYTM5YTZmZWMuLjY5
YTA0MzBjNDYzOCAxMDA2NDQNCj4gPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5
L2ludGVsX2F0b21pYy5jDQo+ID4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9p
bnRlbF9hdG9taWMuYw0KPiA+IEBAIC0yMDYsNiArMjA2LDIwIEBAIGludGVsX2RpZ2l0YWxfY29u
bmVjdG9yX25lZWRzX21vZGVzZXQoc3RydWN0DQo+ID4gaW50ZWxfYXRvbWljX3N0YXRlICpzdGF0
ZSwNCj4gPiAgCSAgICAgICAobmV3X2NydGMgJiYNCj4gPiBkcm1fYXRvbWljX2NydGNfbmVlZHNf
bW9kZXNldCgmbmV3X2NydGNfc3RhdGUtPnVhcGkpKTsNCj4gPiAgfQ0KPiA+ICANCj4gPiArc3Ry
dWN0IGludGVsX2RpZ2l0YWxfY29ubmVjdG9yX3N0YXRlICoNCj4gPiAraW50ZWxfYXRvbWljX2dl
dF9kaWdpdGFsX2Nvbm5lY3Rvcl9zdGF0ZShzdHJ1Y3QgaW50ZWxfYXRvbWljX3N0YXRlDQo+ID4g
KnN0YXRlLA0KPiA+ICsJCQkJCSBzdHJ1Y3QgaW50ZWxfY29ubmVjdG9yDQo+ID4gKmNvbm5lY3Rv
cikNCj4gPiArew0KPiA+ICsJc3RydWN0IGRybV9jb25uZWN0b3Jfc3RhdGUgKmNvbm5lY3Rvcl9z
dGF0ZTsNCj4gPiArDQo+ID4gKwljb25uZWN0b3Jfc3RhdGUgPSBkcm1fYXRvbWljX2dldF9jb25u
ZWN0b3Jfc3RhdGUoJnN0YXRlLT5iYXNlLA0KPiA+ICsJCQkJCQkJICZjb25uZWN0b3ItDQo+ID4g
PmJhc2UpOw0KPiA+ICsJaWYgKElTX0VSUihjb25uZWN0b3Jfc3RhdGUpKQ0KPiA+ICsJCXJldHVy
biBFUlJfQ0FTVChjb25uZWN0b3Jfc3RhdGUpOw0KPiA+ICsNCj4gPiArCXJldHVybiB0b19pbnRl
bF9kaWdpdGFsX2Nvbm5lY3Rvcl9zdGF0ZShjb25uZWN0b3Jfc3RhdGUpOw0KPiA+ICt9DQo+ID4g
Kw0KPiA+ICAvKioNCj4gPiAgICogaW50ZWxfY3J0Y19kdXBsaWNhdGVfc3RhdGUgLSBkdXBsaWNh
dGUgY3J0YyBzdGF0ZQ0KPiA+ICAgKiBAY3J0YzogZHJtIGNydGMNCj4gPiBkaWZmIC0tZ2l0IGEv
ZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9hdG9taWMuaA0KPiA+IGIvZHJpdmVy
cy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9hdG9taWMuaA0KPiA+IGluZGV4IGJhOWNjMjlh
NTg2NS4uNmU4NjM4ZDgzZDI4IDEwMDY0NA0KPiA+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1
L2Rpc3BsYXkvaW50ZWxfYXRvbWljLmgNCj4gPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9k
aXNwbGF5L2ludGVsX2F0b21pYy5oDQo+ID4gQEAgLTM1LDYgKzM1LDkgQEAgc3RydWN0IGRybV9j
b25uZWN0b3Jfc3RhdGUgKg0KPiA+ICBpbnRlbF9kaWdpdGFsX2Nvbm5lY3Rvcl9kdXBsaWNhdGVf
c3RhdGUoc3RydWN0IGRybV9jb25uZWN0b3INCj4gPiAqY29ubmVjdG9yKTsNCj4gPiAgYm9vbCBp
bnRlbF9kaWdpdGFsX2Nvbm5lY3Rvcl9uZWVkc19tb2Rlc2V0KHN0cnVjdA0KPiA+IGludGVsX2F0
b21pY19zdGF0ZSAqc3RhdGUsDQo+ID4gIAkJCQkJICAgc3RydWN0IGludGVsX2Nvbm5lY3Rvcg0K
PiA+ICpjb25uZWN0b3IpOw0KPiA+ICtzdHJ1Y3QgaW50ZWxfZGlnaXRhbF9jb25uZWN0b3Jfc3Rh
dGUgKg0KPiA+ICtpbnRlbF9hdG9taWNfZ2V0X2RpZ2l0YWxfY29ubmVjdG9yX3N0YXRlKHN0cnVj
dCBpbnRlbF9hdG9taWNfc3RhdGUNCj4gPiAqc3RhdGUsDQo+ID4gKwkJCQkJIHN0cnVjdCBpbnRl
bF9jb25uZWN0b3INCj4gPiAqY29ubmVjdG9yKTsNCj4gPiAgDQo+ID4gIHN0cnVjdCBkcm1fY3J0
Y19zdGF0ZSAqaW50ZWxfY3J0Y19kdXBsaWNhdGVfc3RhdGUoc3RydWN0IGRybV9jcnRjDQo+ID4g
KmNydGMpOw0KPiA+ICB2b2lkIGludGVsX2NydGNfZGVzdHJveV9zdGF0ZShzdHJ1Y3QgZHJtX2Ny
dGMgKmNydGMsDQo+ID4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkv
aW50ZWxfZGRpLmMNCj4gPiBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGRp
LmMNCj4gPiBpbmRleCA1YjZmMzI1MTdjNzUuLjZlZTUyMzAwNDVlYiAxMDA2NDQNCj4gPiAtLS0g
YS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2RkaS5jDQo+ID4gKysrIGIvZHJp
dmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kZGkuYw0KPiA+IEBAIC0xOTAzLDggKzE5
MDMsMTMgQEAgaW50ZWxfZGRpX3RyYW5zY29kZXJfZnVuY19yZWdfdmFsX2dldChjb25zdA0KPiA+
IHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpjcnRjX3N0YXRlKQ0KPiA+ICAJCXRlbXAgfD0gVFJB
TlNfRERJX01PREVfU0VMRUNUX0RQX01TVDsNCj4gPiAgCQl0ZW1wIHw9IERESV9QT1JUX1dJRFRI
KGNydGNfc3RhdGUtPmxhbmVfY291bnQpOw0KPiA+ICANCj4gPiAtCQlpZiAoSU5URUxfR0VOKGRl
dl9wcml2KSA+PSAxMikNCj4gPiAtCQkJdGVtcCB8PQ0KPiA+IFRSQU5TX0RESV9NU1RfVFJBTlNQ
T1JUX1NFTEVDVChjcnRjX3N0YXRlLT5jcHVfdHJhbnNjb2Rlcik7DQo+ID4gKwkJaWYgKElOVEVM
X0dFTihkZXZfcHJpdikgPj0gMTIpIHsNCj4gPiArCQkJZW51bSB0cmFuc2NvZGVyIG1hc3RlcjsN
Cj4gPiArDQo+ID4gKwkJCW1hc3RlciA9IGNydGNfc3RhdGUtPm1zdF9tYXN0ZXJfdHJhbnNjb2Rl
cjsNCj4gPiArCQkJV0FSTl9PTihtYXN0ZXIgPT0gSU5WQUxJRF9UUkFOU0NPREVSKTsNCj4gPiAr
CQkJdGVtcCB8PSBUUkFOU19ERElfTVNUX1RSQU5TUE9SVF9TRUxFQ1QobWFzdGVyKTsNCj4gPiAr
CQl9DQo+ID4gIAl9IGVsc2Ugew0KPiA+ICAJCXRlbXAgfD0gVFJBTlNfRERJX01PREVfU0VMRUNU
X0RQX1NTVDsNCj4gPiAgCQl0ZW1wIHw9IERESV9QT1JUX1dJRFRIKGNydGNfc3RhdGUtPmxhbmVf
Y291bnQpOw0KPiA+IEBAIC00Mzc3LDYgKzQzODIsMTEgQEAgdm9pZCBpbnRlbF9kZGlfZ2V0X2Nv
bmZpZyhzdHJ1Y3QNCj4gPiBpbnRlbF9lbmNvZGVyICplbmNvZGVyLA0KPiA+ICAJCXBpcGVfY29u
ZmlnLT5vdXRwdXRfdHlwZXMgfD0gQklUKElOVEVMX09VVFBVVF9EUF9NU1QpOw0KPiA+ICAJCXBp
cGVfY29uZmlnLT5sYW5lX2NvdW50ID0NCj4gPiAgCQkJKCh0ZW1wICYgRERJX1BPUlRfV0lEVEhf
TUFTSykgPj4NCj4gPiBERElfUE9SVF9XSURUSF9TSElGVCkgKyAxOw0KPiA+ICsNCj4gPiArCQlp
ZiAoSU5URUxfR0VOKGRldl9wcml2KSA+PSAxMikNCj4gPiArCQkJcGlwZV9jb25maWctPm1zdF9t
YXN0ZXJfdHJhbnNjb2RlciA9DQo+ID4gKwkJCQkJUkVHX0ZJRUxEX0dFVChUUkFOU19ERElfTVNU
X1RSQQ0KPiA+IE5TUE9SVF9TRUxFQ1RfTUFTSywgdGVtcCk7DQo+ID4gKw0KPiA+ICAJCWludGVs
X2RwX2dldF9tX24oaW50ZWxfY3J0YywgcGlwZV9jb25maWcpOw0KPiA+ICAJCWJyZWFrOw0KPiA+
ICAJZGVmYXVsdDoNCj4gPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxh
eS9pbnRlbF9kaXNwbGF5LmMNCj4gPiBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50
ZWxfZGlzcGxheS5jDQo+ID4gaW5kZXggMzliMDBhMTlkNzUyLi4xY2VjY2UyZjU0ZjggMTAwNjQ0
DQo+ID4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5LmMN
Cj4gPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXkuYw0K
PiA+IEBAIC00Niw2ICs0Niw3IEBADQo+ID4gICNpbmNsdWRlICJkaXNwbGF5L2ludGVsX2NydC5o
Ig0KPiA+ICAjaW5jbHVkZSAiZGlzcGxheS9pbnRlbF9kZGkuaCINCj4gPiAgI2luY2x1ZGUgImRp
c3BsYXkvaW50ZWxfZHAuaCINCj4gPiArI2luY2x1ZGUgImRpc3BsYXkvaW50ZWxfZHBfbXN0Lmgi
DQo+ID4gICNpbmNsdWRlICJkaXNwbGF5L2ludGVsX2RzaS5oIg0KPiA+ICAjaW5jbHVkZSAiZGlz
cGxheS9pbnRlbF9kdm8uaCINCj4gPiAgI2luY2x1ZGUgImRpc3BsYXkvaW50ZWxfZ21idXMuaCIN
Cj4gPiBAQCAtMTE2NjMsNiArMTE2NjQsNyBAQCBzdGF0aWMgdm9pZCBpbnRlbF9jcnRjX3N0YXRl
X3Jlc2V0KHN0cnVjdA0KPiA+IGludGVsX2NydGNfc3RhdGUgKmNydGNfc3RhdGUsDQo+ID4gIAlj
cnRjX3N0YXRlLT5oc3dfd29ya2Fyb3VuZF9waXBlID0gSU5WQUxJRF9QSVBFOw0KPiA+ICAJY3J0
Y19zdGF0ZS0+b3V0cHV0X2Zvcm1hdCA9IElOVEVMX09VVFBVVF9GT1JNQVRfSU5WQUxJRDsNCj4g
PiAgCWNydGNfc3RhdGUtPnNjYWxlcl9zdGF0ZS5zY2FsZXJfaWQgPSAtMTsNCj4gPiArCWNydGNf
c3RhdGUtPm1zdF9tYXN0ZXJfdHJhbnNjb2RlciA9IElOVkFMSURfVFJBTlNDT0RFUjsNCj4gPiAg
fQ0KPiA+ICANCj4gPiAgLyogUmV0dXJucyB0aGUgY3VycmVudGx5IHByb2dyYW1tZWQgbW9kZSBv
ZiB0aGUgZ2l2ZW4gZW5jb2Rlci4gKi8NCj4gPiBAQCAtMTI1MTAsNiArMTI1MTIsOSBAQCBzdGF0
aWMgdm9pZCBpbnRlbF9kdW1wX3BpcGVfY29uZmlnKGNvbnN0DQo+ID4gc3RydWN0IGludGVsX2Ny
dGNfc3RhdGUgKnBpcGVfY29uZmlnLA0KPiA+ICAJCQkgICAgICBwaXBlX2NvbmZpZy0+Y3NjX21v
ZGUsIHBpcGVfY29uZmlnLQ0KPiA+ID5nYW1tYV9tb2RlLA0KPiA+ICAJCQkgICAgICBwaXBlX2Nv
bmZpZy0+Z2FtbWFfZW5hYmxlLCBwaXBlX2NvbmZpZy0NCj4gPiA+Y3NjX2VuYWJsZSk7DQo+ID4g
IA0KPiA+ICsJRFJNX0RFQlVHX0tNUygiTVNUIG1hc3RlciB0cmFuc2NvZGVyOiAlc1xuIiwNCj4g
PiArCQkgICAgICB0cmFuc2NvZGVyX25hbWUocGlwZV9jb25maWctDQo+ID4gPm1zdF9tYXN0ZXJf
dHJhbnNjb2RlcikpOw0KPiA+ICsNCj4gPiAgZHVtcF9wbGFuZXM6DQo+ID4gIAlpZiAoIXN0YXRl
KQ0KPiA+ICAJCXJldHVybjsNCj4gPiBAQCAtMTI2NTEsNiArMTI2NTYsNyBAQCBpbnRlbF9jcnRj
X3ByZXBhcmVfY2xlYXJlZF9zdGF0ZShzdHJ1Y3QNCj4gPiBpbnRlbF9jcnRjX3N0YXRlICpjcnRj
X3N0YXRlKQ0KPiA+ICAJbWVtY3B5KHNhdmVkX3N0YXRlLT5pY2xfcG9ydF9kcGxscywgY3J0Y19z
dGF0ZS0+aWNsX3BvcnRfZHBsbHMsDQo+ID4gIAkgICAgICAgc2l6ZW9mKHNhdmVkX3N0YXRlLT5p
Y2xfcG9ydF9kcGxscykpOw0KPiA+ICAJc2F2ZWRfc3RhdGUtPmNyY19lbmFibGVkID0gY3J0Y19z
dGF0ZS0+Y3JjX2VuYWJsZWQ7DQo+ID4gKwlzYXZlZF9zdGF0ZS0+bXN0X21hc3Rlcl90cmFuc2Nv
ZGVyID0gSU5WQUxJRF9UUkFOU0NPREVSOw0KPiA+ICAJaWYgKElTX0c0WChkZXZfcHJpdikgfHwN
Cj4gPiAgCSAgICBJU19WQUxMRVlWSUVXKGRldl9wcml2KSB8fCBJU19DSEVSUllWSUVXKGRldl9w
cml2KSkNCj4gPiAgCQlzYXZlZF9zdGF0ZS0+d20gPSBjcnRjX3N0YXRlLT53bTsNCj4gPiBAQCAt
MTMyOTAsNiArMTMyOTYsOCBAQCBpbnRlbF9waXBlX2NvbmZpZ19jb21wYXJlKGNvbnN0IHN0cnVj
dA0KPiA+IGludGVsX2NydGNfc3RhdGUgKmN1cnJlbnRfY29uZmlnLA0KPiA+ICAJUElQRV9DT05G
X0NIRUNLX0koZHNjLmRzY19zcGxpdCk7DQo+ID4gIAlQSVBFX0NPTkZfQ0hFQ0tfSShkc2MuY29t
cHJlc3NlZF9icHApOw0KPiA+ICANCj4gPiArCVBJUEVfQ09ORl9DSEVDS19JKG1zdF9tYXN0ZXJf
dHJhbnNjb2Rlcik7DQo+ID4gKw0KPiA+ICAjdW5kZWYgUElQRV9DT05GX0NIRUNLX1gNCj4gPiAg
I3VuZGVmIFBJUEVfQ09ORl9DSEVDS19JDQo+ID4gICN1bmRlZiBQSVBFX0NPTkZfQ0hFQ0tfQk9P
TA0KPiA+IEBAIC0xNDM3NCw3ICsxNDM4Miw3IEBAIHN0YXRpYyB2b2lkDQo+ID4gaW50ZWxfY29t
bWl0X21vZGVzZXRfZGlzYWJsZXMoc3RydWN0IGludGVsX2F0b21pY19zdGF0ZSAqc3RhdGUpDQo+
ID4gIAl1MzIgaGFuZGxlZCA9IDA7DQo+ID4gIAlpbnQgaTsNCj4gPiAgDQo+ID4gLQkvKiBPbmx5
IGRpc2FibGUgcG9ydCBzeW5jIHNsYXZlcyAqLw0KPiA+ICsJLyogT25seSBkaXNhYmxlIHBvcnQg
c3luYyBhbmQgTVNUIHNsYXZlcyAqLw0KPiA+ICAJZm9yX2VhY2hfb2xkbmV3X2ludGVsX2NydGNf
aW5fc3RhdGUoc3RhdGUsIGNydGMsDQo+ID4gb2xkX2NydGNfc3RhdGUsDQo+ID4gIAkJCQkJICAg
IG5ld19jcnRjX3N0YXRlLCBpKSB7DQo+ID4gIAkJaWYgKCFuZWVkc19tb2Rlc2V0KG5ld19jcnRj
X3N0YXRlKSkNCj4gPiBAQCAtMTQzODgsNyArMTQzOTYsOCBAQCBzdGF0aWMgdm9pZA0KPiA+IGlu
dGVsX2NvbW1pdF9tb2Rlc2V0X2Rpc2FibGVzKHN0cnVjdCBpbnRlbF9hdG9taWNfc3RhdGUgKnN0
YXRlKQ0KPiA+ICAJCSAqIHNsYXZlIENSVENzIGFyZSBkaXNhYmxlZCBmaXJzdCBhbmQgdGhlbiBt
YXN0ZXIgQ1JUQw0KPiA+IHNpbmNlDQo+ID4gIAkJICogU2xhdmUgdmJsYW5rcyBhcmUgbWFza2Vk
IHRpbGwgTWFzdGVyIFZibGFua3MuDQo+ID4gIAkJICovDQo+ID4gLQkJaWYgKCFpc190cmFuc19w
b3J0X3N5bmNfc2xhdmUob2xkX2NydGNfc3RhdGUpKQ0KPiA+ICsJCWlmICghaXNfdHJhbnNfcG9y
dF9zeW5jX3NsYXZlKG9sZF9jcnRjX3N0YXRlKSAmJg0KPiA+ICsJCSAgICAhaW50ZWxfZHBfbXN0
X2lzX3NsYXZlX3RyYW5zKG9sZF9jcnRjX3N0YXRlKSkNCj4gPiAgCQkJY29udGludWU7DQo+ID4g
IA0KPiA+ICAJCWludGVsX3ByZV9wbGFuZV91cGRhdGUoc3RhdGUsIGNydGMpOw0KPiA+IGRpZmYg
LS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXlfdHlwZXMu
aA0KPiA+IGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5X3R5cGVz
LmgNCj4gPiBpbmRleCA4M2VhMDQxNDliNzcuLjYzMGE5NDg5MmI3YiAxMDA2NDQNCj4gPiAtLS0g
YS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXlfdHlwZXMuaA0KPiA+
ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheV90eXBlcy5o
DQo+ID4gQEAgLTEwNTQsNiArMTA1NCw5IEBAIHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlIHsNCj4g
PiAgDQo+ID4gIAkvKiBCaXRtYXNrIHRvIGluZGljYXRlIHNsYXZlcyBhdHRhY2hlZCAqLw0KPiA+
ICAJdTggc3luY19tb2RlX3NsYXZlc19tYXNrOw0KPiA+ICsNCj4gPiArCS8qIE9ubHkgdmFsaWQg
b24gVEdMKyAqLw0KPiA+ICsJZW51bSB0cmFuc2NvZGVyIG1zdF9tYXN0ZXJfdHJhbnNjb2RlcjsN
Cj4gPiAgfTsNCj4gPiAgDQo+ID4gIHN0cnVjdCBpbnRlbF9jcnRjIHsNCj4gPiBkaWZmIC0tZ2l0
IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kcF9tc3QuYw0KPiA+IGIvZHJp
dmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kcF9tc3QuYw0KPiA+IGluZGV4IDkyNmU0
OWY0NDlhNi4uMTJmNWU3OTlkOTFmIDEwMDY0NA0KPiA+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9p
OTE1L2Rpc3BsYXkvaW50ZWxfZHBfbXN0LmMNCj4gPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkx
NS9kaXNwbGF5L2ludGVsX2RwX21zdC5jDQo+ID4gQEAgLTg3LDYgKzg3LDQ5IEBAIHN0YXRpYyBp
bnQNCj4gPiBpbnRlbF9kcF9tc3RfY29tcHV0ZV9saW5rX2NvbmZpZyhzdHJ1Y3QgaW50ZWxfZW5j
b2RlciAqZW5jb2RlciwNCj4gPiAgCXJldHVybiAwOw0KPiA+ICB9DQo+ID4gIA0KPiA+ICsvKg0K
PiA+ICsgKiBJdGVyYXRlIG92ZXIgYWxsIGNvbm5lY3RvcnMgYW5kIHNldCBtc3RfbWFzdGVyX3Ry
YW5zY29kZXIgdG8NCj4gPiB0aGUgc21hbGxlc3QNCj4gPiArICogdHJhbnNjb2RlciBpZCB0aGF0
IHNoYXJlcyB0aGUgc2FtZSBNU1QgY29ubmVjdG9yLg0KPiA+ICsgKi8NCj4gPiArc3RhdGljIGlu
dA0KPiA+ICtpbnRlbF9kcF9tc3RfbWFzdGVyX3RyYW5zX2NvbXB1dGUoc3RydWN0IGludGVsX2Vu
Y29kZXIgKmVuY29kZXIsDQo+ID4gKwkJCQkgIHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpjcnRj
X3N0YXRlLA0KPiA+ICsJCQkJICBzdHJ1Y3QgZHJtX2Nvbm5lY3Rvcl9zdGF0ZQ0KPiA+ICpjb25u
ZWN0b3Jfc3RhdGUpDQo+ID4gK3sNCj4gPiArCXN0cnVjdCBpbnRlbF9hdG9taWNfc3RhdGUgKnN0
YXRlID0NCj4gPiB0b19pbnRlbF9hdG9taWNfc3RhdGUoY3J0Y19zdGF0ZS0+dWFwaS5zdGF0ZSk7
DQo+ID4gKwlzdHJ1Y3QgaW50ZWxfY29ubmVjdG9yICpjb25uZWN0b3IgPQ0KPiA+IHRvX2ludGVs
X2Nvbm5lY3Rvcihjb25uZWN0b3Jfc3RhdGUtPmNvbm5lY3Rvcik7DQo+ID4gKwlzdHJ1Y3QgZHJt
X2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYgPSB0b19pOTE1KGVuY29kZXItPmJhc2UuZGV2KTsNCj4g
PiArCXN0cnVjdCBpbnRlbF9kaWdpdGFsX2Nvbm5lY3Rvcl9zdGF0ZSAqaXRlcl9jb25uZWN0b3Jf
c3RhdGU7DQo+ID4gKwlzdHJ1Y3QgaW50ZWxfY29ubmVjdG9yICppdGVyX2Nvbm5lY3RvcjsNCj4g
PiArCWludCBpOw0KPiA+ICsNCj4gPiArCWlmIChJTlRFTF9HRU4oZGV2X3ByaXYpIDwgMTIpDQo+
ID4gKwkJcmV0dXJuIDA7DQo+ID4gKw0KPiA+ICsJY3J0Y19zdGF0ZS0+bXN0X21hc3Rlcl90cmFu
c2NvZGVyID0gSTkxNV9NQVhfVFJBTlNDT0RFUlM7DQo+ID4gKw0KPiA+ICsJZm9yX2VhY2hfbmV3
X2ludGVsX2Nvbm5lY3Rvcl9pbl9zdGF0ZShzdGF0ZSwgaXRlcl9jb25uZWN0b3IsDQo+ID4gKwkJ
CQkJICAgICAgaXRlcl9jb25uZWN0b3Jfc3RhdGUsIGkpDQo+ID4gew0KPiA+ICsJCXN0cnVjdCBp
bnRlbF9jcnRjX3N0YXRlICppdGVyX2NydGNfc3RhdGU7DQo+ID4gKwkJc3RydWN0IGludGVsX2Ny
dGMgKml0ZXJfY3J0YzsNCj4gPiArDQo+ID4gKwkJaWYgKGNvbm5lY3Rvci0+bXN0X3BvcnQgIT0g
aXRlcl9jb25uZWN0b3ItPm1zdF9wb3J0IHx8DQo+ID4gKwkJICAgICFpdGVyX2Nvbm5lY3Rvcl9z
dGF0ZS0+YmFzZS5jcnRjKQ0KPiA+ICsJCQljb250aW51ZTsNCj4gPiArDQo+ID4gKwkJaXRlcl9j
cnRjID0gdG9faW50ZWxfY3J0YyhpdGVyX2Nvbm5lY3Rvcl9zdGF0ZS0NCj4gPiA+YmFzZS5jcnRj
KTsNCj4gPiArCQlpdGVyX2NydGNfc3RhdGUgPQ0KPiA+IGludGVsX2F0b21pY19nZXRfbmV3X2Ny
dGNfc3RhdGUoc3RhdGUsDQo+ID4gKwkJCQkJCQkJICBpdGVyXw0KPiA+IGNydGMpOw0KPiA+ICsJ
CWlmICghaXRlcl9jcnRjX3N0YXRlLT51YXBpLmFjdGl2ZSkNCj4gPiArCQkJY29udGludWU7DQo+
ID4gKw0KPiA+ICsJCWlmIChpdGVyX2NydGNfc3RhdGUtPmNwdV90cmFuc2NvZGVyIDwgY3J0Y19z
dGF0ZS0NCj4gPiA+bXN0X21hc3Rlcl90cmFuc2NvZGVyKQ0KPiA+ICsJCQljcnRjX3N0YXRlLT5t
c3RfbWFzdGVyX3RyYW5zY29kZXIgPQ0KPiA+IGl0ZXJfY3J0Y19zdGF0ZS0+Y3B1X3RyYW5zY29k
ZXI7DQo+ID4gKwl9DQo+ID4gKw0KPiA+ICsJcmV0dXJuIDA7DQo+ID4gK30NCj4gDQo+IFRoaXMg
bG9va3MgbGlrZSBpdCBjYW4gYmUgYSBwdXJlIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0aGUNCj4g
bWFzdGVyIHRyYW5zY29kZXIuDQoNCm9rYXkNCg0KPiANCj4gPiArDQo+ID4gIHN0YXRpYyBpbnQg
aW50ZWxfZHBfbXN0X2NvbXB1dGVfY29uZmlnKHN0cnVjdCBpbnRlbF9lbmNvZGVyDQo+ID4gKmVu
Y29kZXIsDQo+ID4gIAkJCQkgICAgICAgc3RydWN0IGludGVsX2NydGNfc3RhdGUNCj4gPiAqcGlw
ZV9jb25maWcsDQo+ID4gIAkJCQkgICAgICAgc3RydWN0IGRybV9jb25uZWN0b3Jfc3RhdGUNCj4g
PiAqY29ubl9zdGF0ZSkNCj4gPiBAQCAtMTU0LDI0ICsxOTcsODggQEAgc3RhdGljIGludCBpbnRl
bF9kcF9tc3RfY29tcHV0ZV9jb25maWcoc3RydWN0DQo+ID4gaW50ZWxfZW5jb2RlciAqZW5jb2Rl
ciwNCj4gPiAgDQo+ID4gIAlpbnRlbF9kZGlfY29tcHV0ZV9taW5fdm9sdGFnZV9sZXZlbChkZXZf
cHJpdiwgcGlwZV9jb25maWcpOw0KPiA+ICANCj4gPiArCXJldCA9IGludGVsX2RwX21zdF9tYXN0
ZXJfdHJhbnNfY29tcHV0ZShlbmNvZGVyLCBwaXBlX2NvbmZpZywNCj4gPiArCQkJCQkJY29ubl9z
dGF0ZSk7DQo+ID4gKwlpZiAocmV0KQ0KPiA+ICsJCXJldHVybiByZXQ7DQo+ID4gKw0KPiA+ICsJ
cmV0dXJuIDA7DQo+ID4gK30NCj4gPiArDQo+ID4gKy8qDQo+ID4gKyAqIElmIG9uZSBvZiB0aGUg
Y29ubmVjdG9ycyBpbiBhIE1TVCBzdHJlYW0gbmVlZHMgYSBtb2Rlc2V0LCBtYXJrDQo+ID4gYWxs
IENSVENzDQo+ID4gKyAqIHRoYXQgaGF2ZSBhIGNvbm5lY3RvciBpbiB0aGUgc2FtZSBNU1Qgc3Ry
ZWFtIGFzIG1vZGUgY2hhbmdlZCwNCj4gPiArICogaW50ZWxfbW9kZXNldF9waXBlX2NvbmZpZygp
K2ludGVsX2NydGNfY2hlY2tfZmFzdHNldCgpIHdpbGwNCj4gPiB0YWtlIHRvIGRvIGENCj4gPiAr
ICogZmFzdHNldCB3aGVuIHBvc3NpYmxlLg0KPiA+ICsgKi8NCj4gPiArc3RhdGljIGludA0KPiA+
ICtpbnRlbF9kcF9tc3RfYXRvbWljX21hc3Rlcl90cmFuc19jaGVjayhzdHJ1Y3QgaW50ZWxfY29u
bmVjdG9yDQo+ID4gKmNvbm5lY3RvciwNCj4gPiArCQkJCSAgICAgICBzdHJ1Y3QgaW50ZWxfYXRv
bWljX3N0YXRlDQo+ID4gKnN0YXRlKQ0KPiA+ICt7DQo+ID4gKwlzdHJ1Y3QgZHJtX2k5MTVfcHJp
dmF0ZSAqZGV2X3ByaXYgPSB0b19pOTE1KHN0YXRlLT5iYXNlLmRldik7DQo+ID4gKwlzdHJ1Y3Qg
ZHJtX2Nvbm5lY3Rvcl9saXN0X2l0ZXIgY29ubmVjdG9yX2xpc3RfaXRlcjsNCj4gPiArCXN0cnVj
dCBpbnRlbF9jb25uZWN0b3IgKmNvbm5lY3Rvcl9pdGVyOw0KPiA+ICsNCj4gPiArCWlmIChJTlRF
TF9HRU4oZGV2X3ByaXYpIDwgMTIpDQo+ID4gKwkJcmV0dXJuICAwOw0KPiA+ICsNCj4gPiArCWlm
ICghaW50ZWxfZGlnaXRhbF9jb25uZWN0b3JfbmVlZHNfbW9kZXNldChzdGF0ZSwgY29ubmVjdG9y
KSkNCj4gPiArCQlyZXR1cm4gMDsNCj4gPiArDQo+ID4gKwlkcm1fY29ubmVjdG9yX2xpc3RfaXRl
cl9iZWdpbigmZGV2X3ByaXYtPmRybSwNCj4gPiAmY29ubmVjdG9yX2xpc3RfaXRlcik7DQo+ID4g
Kwlmb3JfZWFjaF9pbnRlbF9jb25uZWN0b3JfaXRlcihjb25uZWN0b3JfaXRlciwNCj4gPiAmY29u
bmVjdG9yX2xpc3RfaXRlcikgew0KPiA+ICsJCXN0cnVjdCBpbnRlbF9kaWdpdGFsX2Nvbm5lY3Rv
cl9zdGF0ZQ0KPiA+ICpjb25uZWN0b3JfaXRlcl9zdGF0ZTsNCj4gPiArCQlzdHJ1Y3QgaW50ZWxf
Y3J0Y19zdGF0ZSAqY3J0Y19zdGF0ZTsNCj4gPiArCQlzdHJ1Y3QgaW50ZWxfY3J0YyAqY3J0YzsN
Cj4gPiArDQo+ID4gKwkJaWYgKGNvbm5lY3Rvcl9pdGVyLT5tc3RfcG9ydCAhPSBjb25uZWN0b3It
Pm1zdF9wb3J0KQ0KPiA+ICsJCQljb250aW51ZTsNCj4gDQo+IERvIHdlIG5lZWQgdG8gZXhjbHVk
ZSB0aGUgY29ubmVjdG9yIGl0c2VsZj8gSSBndWVzcyBub3QgcmVhbGx5Pw0KDQpOb3QgcmVhbGx5
IGJ1dCBJIHdpbGwgZG8gaXQuDQoNCj4gDQo+ID4gKw0KPiA+ICsJCWNvbm5lY3Rvcl9pdGVyX3N0
YXRlID0NCj4gPiArCQkJaW50ZWxfYXRvbWljX2dldF9kaWdpdGFsX2Nvbm5lY3Rvcl9zdGF0ZShz
dGF0ZSwNCj4gPiArCQkJCQkJCQkgY29ubmVjDQo+ID4gdG9yX2l0ZXIpOw0KPiA+ICsJCWlmIChJ
U19FUlIoY29ubmVjdG9yX2l0ZXJfc3RhdGUpKSB7DQo+ID4gKwkJCWRybV9jb25uZWN0b3JfbGlz
dF9pdGVyX2VuZCgmY29ubmVjdG9yX2xpc3RfaXRlDQo+ID4gcik7DQo+ID4gKwkJCXJldHVybiBQ
VFJfRVJSKGNvbm5lY3Rvcl9pdGVyX3N0YXRlKTsNCj4gPiArCQl9DQo+ID4gKw0KPiA+ICsJCWlm
ICghY29ubmVjdG9yX2l0ZXJfc3RhdGUtPmJhc2UuY3J0YykNCj4gPiArCQkJY29udGludWU7DQo+
ID4gKw0KPiA+ICsJCWNydGMgPSB0b19pbnRlbF9jcnRjKGNvbm5lY3Rvcl9pdGVyX3N0YXRlLT5i
YXNlLmNydGMpOw0KPiA+ICsJCWNydGNfc3RhdGUgPSBpbnRlbF9hdG9taWNfZ2V0X2NydGNfc3Rh
dGUoJnN0YXRlLT5iYXNlLA0KPiA+IGNydGMpOw0KPiA+ICsJCWlmIChJU19FUlIoY3J0Y19zdGF0
ZSkpIHsNCj4gPiArCQkJZHJtX2Nvbm5lY3Rvcl9saXN0X2l0ZXJfZW5kKCZjb25uZWN0b3JfbGlz
dF9pdGUNCj4gPiByKTsNCj4gPiArCQkJcmV0dXJuIFBUUl9FUlIoY3J0Y19zdGF0ZSk7DQo+ID4g
KwkJfQ0KPiA+ICsNCj4gPiArCQljcnRjX3N0YXRlLT51YXBpLm1vZGVfY2hhbmdlZCA9IHRydWU7
DQo+ID4gKwl9DQo+ID4gKwlkcm1fY29ubmVjdG9yX2xpc3RfaXRlcl9lbmQoJmNvbm5lY3Rvcl9s
aXN0X2l0ZXIpOw0KPiA+ICsNCj4gPiAgCXJldHVybiAwOw0KPiA+ICB9DQo+ID4gIA0KPiA+ICBz
dGF0aWMgaW50DQo+ID4gIGludGVsX2RwX21zdF9hdG9taWNfY2hlY2soc3RydWN0IGRybV9jb25u
ZWN0b3IgKmNvbm5lY3RvciwNCj4gPiAtCQkJICBzdHJ1Y3QgZHJtX2F0b21pY19zdGF0ZSAqc3Rh
dGUpDQo+ID4gKwkJCSAgc3RydWN0IGRybV9hdG9taWNfc3RhdGUgKl9zdGF0ZSkNCj4gPiAgew0K
PiA+ICsJc3RydWN0IGludGVsX2F0b21pY19zdGF0ZSAqc3RhdGUgPQ0KPiA+IHRvX2ludGVsX2F0
b21pY19zdGF0ZShfc3RhdGUpOw0KPiA+ICAJc3RydWN0IGRybV9jb25uZWN0b3Jfc3RhdGUgKm5l
d19jb25uX3N0YXRlID0NCj4gPiAtCQlkcm1fYXRvbWljX2dldF9uZXdfY29ubmVjdG9yX3N0YXRl
KHN0YXRlLCBjb25uZWN0b3IpOw0KPiA+ICsJCWRybV9hdG9taWNfZ2V0X25ld19jb25uZWN0b3Jf
c3RhdGUoJnN0YXRlLT5iYXNlLA0KPiA+IGNvbm5lY3Rvcik7DQo+ID4gIAlzdHJ1Y3QgZHJtX2Nv
bm5lY3Rvcl9zdGF0ZSAqb2xkX2Nvbm5fc3RhdGUgPQ0KPiA+IC0JCWRybV9hdG9taWNfZ2V0X29s
ZF9jb25uZWN0b3Jfc3RhdGUoc3RhdGUsIGNvbm5lY3Rvcik7DQo+ID4gKwkJZHJtX2F0b21pY19n
ZXRfb2xkX2Nvbm5lY3Rvcl9zdGF0ZSgmc3RhdGUtPmJhc2UsDQo+ID4gY29ubmVjdG9yKTsNCj4g
PiAgCXN0cnVjdCBpbnRlbF9jb25uZWN0b3IgKmludGVsX2Nvbm5lY3RvciA9DQo+ID4gIAkJdG9f
aW50ZWxfY29ubmVjdG9yKGNvbm5lY3Rvcik7DQo+ID4gIAlzdHJ1Y3QgZHJtX2NydGMgKm5ld19j
cnRjID0gbmV3X2Nvbm5fc3RhdGUtPmNydGM7DQo+ID4gIAlzdHJ1Y3QgZHJtX2RwX21zdF90b3Bv
bG9neV9tZ3IgKm1ncjsNCj4gPiAgCWludCByZXQ7DQo+ID4gIA0KPiA+IC0JcmV0ID0gaW50ZWxf
ZGlnaXRhbF9jb25uZWN0b3JfYXRvbWljX2NoZWNrKGNvbm5lY3Rvciwgc3RhdGUpOw0KPiA+ICsJ
cmV0ID0gaW50ZWxfZGlnaXRhbF9jb25uZWN0b3JfYXRvbWljX2NoZWNrKGNvbm5lY3RvciwgJnN0
YXRlLQ0KPiA+ID5iYXNlKTsNCj4gPiArCWlmIChyZXQpDQo+ID4gKwkJcmV0dXJuIHJldDsNCj4g
PiArDQo+ID4gKwlyZXQgPSBpbnRlbF9kcF9tc3RfYXRvbWljX21hc3Rlcl90cmFuc19jaGVjayhp
bnRlbF9jb25uZWN0b3IsDQo+ID4gc3RhdGUpOw0KPiA+ICAJaWYgKHJldCkNCj4gPiAgCQlyZXR1
cm4gcmV0Ow0KPiA+ICANCj4gPiBAQCAtMTgyLDEyICsyODksOSBAQCBpbnRlbF9kcF9tc3RfYXRv
bWljX2NoZWNrKHN0cnVjdCBkcm1fY29ubmVjdG9yDQo+ID4gKmNvbm5lY3RvciwNCj4gPiAgCSAq
IGNvbm5lY3Rvcg0KPiA+ICAJICovDQo+ID4gIAlpZiAobmV3X2NydGMpIHsNCj4gPiAtCQlzdHJ1
Y3QgaW50ZWxfYXRvbWljX3N0YXRlICppbnRlbF9zdGF0ZSA9DQo+ID4gLQkJCXRvX2ludGVsX2F0
b21pY19zdGF0ZShzdGF0ZSk7DQo+ID4gIAkJc3RydWN0IGludGVsX2NydGMgKmludGVsX2NydGMg
PQ0KPiA+IHRvX2ludGVsX2NydGMobmV3X2NydGMpOw0KPiA+ICAJCXN0cnVjdCBpbnRlbF9jcnRj
X3N0YXRlICpjcnRjX3N0YXRlID0NCj4gPiAtCQkJaW50ZWxfYXRvbWljX2dldF9uZXdfY3J0Y19z
dGF0ZShpbnRlbF9zdGF0ZSwNCj4gPiAtCQkJCQkJCWludGVsX2NydGMpOw0KPiA+ICsJCQlpbnRl
bF9hdG9taWNfZ2V0X25ld19jcnRjX3N0YXRlKHN0YXRlLA0KPiA+IGludGVsX2NydGMpOw0KPiA+
ICANCj4gPiAgCQlpZiAoIWNydGNfc3RhdGUgfHwNCj4gPiAgCQkgICAgIWRybV9hdG9taWNfY3J0
Y19uZWVkc19tb2Rlc2V0KCZjcnRjX3N0YXRlLT51YXBpKQ0KPiA+IHx8DQo+ID4gQEAgLTE5Niw3
ICszMDAsNyBAQCBpbnRlbF9kcF9tc3RfYXRvbWljX2NoZWNrKHN0cnVjdCBkcm1fY29ubmVjdG9y
DQo+ID4gKmNvbm5lY3RvciwNCj4gPiAgCX0NCj4gPiAgDQo+ID4gIAltZ3IgPSAmZW5jX3RvX21z
dChvbGRfY29ubl9zdGF0ZS0+YmVzdF9lbmNvZGVyKS0+cHJpbWFyeS0NCj4gPiA+ZHAubXN0X21n
cjsNCj4gPiAtCXJldCA9IGRybV9kcF9hdG9taWNfcmVsZWFzZV92Y3BpX3Nsb3RzKHN0YXRlLCBt
Z3IsDQo+ID4gKwlyZXQgPSBkcm1fZHBfYXRvbWljX3JlbGVhc2VfdmNwaV9zbG90cygmc3RhdGUt
PmJhc2UsIG1nciwNCj4gPiAgCQkJCQkgICAgICAgaW50ZWxfY29ubmVjdG9yLT5wb3J0KTsNCj4g
PiAgDQo+ID4gIAlyZXR1cm4gcmV0Ow0KPiA+IEBAIC0yNDEsNiArMzQ1LDkgQEAgc3RhdGljIHZv
aWQgaW50ZWxfbXN0X3Bvc3RfZGlzYWJsZV9kcChzdHJ1Y3QNCj4gPiBpbnRlbF9lbmNvZGVyICpl
bmNvZGVyLA0KPiA+ICAJaW50ZWxfZHAtPmFjdGl2ZV9tc3RfbGlua3MtLTsNCj4gPiAgCWxhc3Rf
bXN0X3N0cmVhbSA9IGludGVsX2RwLT5hY3RpdmVfbXN0X2xpbmtzID09IDA7DQo+ID4gIA0KPiA+
ICsJV0FSTl9PTihJTlRFTF9HRU4oZGV2X3ByaXYpID49IDEyICYmIGxhc3RfbXN0X3N0cmVhbSAm
Jg0KPiA+ICsJCSFpbnRlbF9kcF9tc3RfaXNfbWFzdGVyX3RyYW5zKG9sZF9jcnRjX3N0YXRlKSk7
DQo+ID4gKw0KPiA+ICAJLyoNCj4gPiAgCSAqIEZyb20gVEdMIHNwZWM6ICJJZiBtdWx0aS1zdHJl
YW0gc2xhdmUgdHJhbnNjb2RlcjogQ29uZmlndXJlDQo+ID4gIAkgKiBUcmFuc2NvZGVyIENsb2Nr
IFNlbGVjdCB0byBkaXJlY3Qgbm8gY2xvY2sgdG8gdGhlDQo+ID4gdHJhbnNjb2RlciINCj4gPiBA
QCAtMzIxLDYgKzQyOCw5IEBAIHN0YXRpYyB2b2lkIGludGVsX21zdF9wcmVfZW5hYmxlX2RwKHN0
cnVjdA0KPiA+IGludGVsX2VuY29kZXIgKmVuY29kZXIsDQo+ID4gIAlpbnRlbF9tc3QtPmNvbm5l
Y3RvciA9IGNvbm5lY3RvcjsNCj4gPiAgCWZpcnN0X21zdF9zdHJlYW0gPSBpbnRlbF9kcC0+YWN0
aXZlX21zdF9saW5rcyA9PSAwOw0KPiA+ICANCj4gPiArCVdBUk5fT04oSU5URUxfR0VOKGRldl9w
cml2KSA+PSAxMiAmJiBmaXJzdF9tc3Rfc3RyZWFtICYmDQo+ID4gKwkJIWludGVsX2RwX21zdF9p
c19tYXN0ZXJfdHJhbnMocGlwZV9jb25maWcpKTsNCj4gPiArDQo+ID4gIAlEUk1fREVCVUdfS01T
KCJhY3RpdmUgbGlua3MgJWRcbiIsIGludGVsX2RwLT5hY3RpdmVfbXN0X2xpbmtzKTsNCj4gPiAg
DQo+ID4gIAlpZiAoZmlyc3RfbXN0X3N0cmVhbSkNCj4gPiBAQCAtNzI2LDMgKzgzNiwxNCBAQCBp
bnRlbF9kcF9tc3RfZW5jb2Rlcl9jbGVhbnVwKHN0cnVjdA0KPiA+IGludGVsX2RpZ2l0YWxfcG9y
dCAqaW50ZWxfZGlnX3BvcnQpDQo+ID4gIAlkcm1fZHBfbXN0X3RvcG9sb2d5X21ncl9kZXN0cm95
KCZpbnRlbF9kcC0+bXN0X21ncik7DQo+ID4gIAkvKiBlbmNvZGVycyB3aWxsIGdldCBraWxsZWQg
Ynkgbm9ybWFsIGNsZWFudXAgKi8NCj4gPiAgfQ0KPiA+ICsNCj4gPiArYm9vbCBpbnRlbF9kcF9t
c3RfaXNfbWFzdGVyX3RyYW5zKGNvbnN0IHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlDQo+ID4gKmNy
dGNfc3RhdGUpDQo+ID4gK3sNCj4gPiArCXJldHVybiBjcnRjX3N0YXRlLT5tc3RfbWFzdGVyX3Ry
YW5zY29kZXIgPT0gY3J0Y19zdGF0ZS0NCj4gPiA+Y3B1X3RyYW5zY29kZXI7DQo+ID4gK30NCj4g
PiArDQo+ID4gK2Jvb2wgaW50ZWxfZHBfbXN0X2lzX3NsYXZlX3RyYW5zKGNvbnN0IHN0cnVjdCBp
bnRlbF9jcnRjX3N0YXRlDQo+ID4gKmNydGNfc3RhdGUpDQo+ID4gK3sNCj4gPiArCXJldHVybiBj
cnRjX3N0YXRlLT5tc3RfbWFzdGVyX3RyYW5zY29kZXIgIT0gSU5WQUxJRF9UUkFOU0NPREVSDQo+
ID4gJiYNCj4gPiArCSAgICAgICBjcnRjX3N0YXRlLT5tc3RfbWFzdGVyX3RyYW5zY29kZXIgIT0g
Y3J0Y19zdGF0ZS0NCj4gPiA+Y3B1X3RyYW5zY29kZXI7DQo+ID4gK30NCj4gPiBkaWZmIC0tZ2l0
IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kcF9tc3QuaA0KPiA+IGIvZHJp
dmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kcF9tc3QuaA0KPiA+IGluZGV4IGY2NjBh
ZDgwZGIwNC4uZTQwNzY3Zjc4MzQzIDEwMDY0NA0KPiA+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9p
OTE1L2Rpc3BsYXkvaW50ZWxfZHBfbXN0LmgNCj4gPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkx
NS9kaXNwbGF5L2ludGVsX2RwX21zdC5oDQo+ID4gQEAgLTYsMTAgKzYsMTUgQEANCj4gPiAgI2lm
bmRlZiBfX0lOVEVMX0RQX01TVF9IX18NCj4gPiAgI2RlZmluZSBfX0lOVEVMX0RQX01TVF9IX18N
Cj4gPiAgDQo+ID4gKyNpbmNsdWRlIDxzdGRib29sLmg+DQo+IA0KPiBUaGF0IGRvZXNuJ3Qgc2Vl
bSBsaWtlIHNvbWV0aGluZyB5b3Ugd2FudCB0byBpbmNsdWRlIGluIGtlcm5lbCBjb2RlLg0KDQpU
aGFua3MgZm9yIHRoZSBoZWFkc3VwLCB3aWxsIHJlcGxhY2UgaXQgYnkgI2luY2x1ZGUgPGxpbnV4
L3R5cGVzLmg+DQoNCj4gDQo+ID4gKw0KPiA+ICBzdHJ1Y3QgaW50ZWxfZGlnaXRhbF9wb3J0Ow0K
PiA+ICtzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZTsNCj4gPiAgDQo+ID4gIGludCBpbnRlbF9kcF9t
c3RfZW5jb2Rlcl9pbml0KHN0cnVjdCBpbnRlbF9kaWdpdGFsX3BvcnQNCj4gPiAqaW50ZWxfZGln
X3BvcnQsIGludCBjb25uX2lkKTsNCj4gPiAgdm9pZCBpbnRlbF9kcF9tc3RfZW5jb2Rlcl9jbGVh
bnVwKHN0cnVjdCBpbnRlbF9kaWdpdGFsX3BvcnQNCj4gPiAqaW50ZWxfZGlnX3BvcnQpOw0KPiA+
ICBpbnQgaW50ZWxfZHBfbXN0X2VuY29kZXJfYWN0aXZlX2xpbmtzKHN0cnVjdCBpbnRlbF9kaWdp
dGFsX3BvcnQNCj4gPiAqaW50ZWxfZGlnX3BvcnQpOw0KPiA+ICtib29sIGludGVsX2RwX21zdF9p
c19tYXN0ZXJfdHJhbnMoY29uc3Qgc3RydWN0IGludGVsX2NydGNfc3RhdGUNCj4gPiAqY3J0Y19z
dGF0ZSk7DQo+ID4gK2Jvb2wgaW50ZWxfZHBfbXN0X2lzX3NsYXZlX3RyYW5zKGNvbnN0IHN0cnVj
dCBpbnRlbF9jcnRjX3N0YXRlDQo+ID4gKmNydGNfc3RhdGUpOw0KPiA+ICANCj4gPiAgI2VuZGlm
IC8qIF9fSU5URUxfRFBfTVNUX0hfXyAqLw0KPiA+IC0tIA0KPiA+IDIuMjQuMQ0KX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KSW50ZWwtZ2Z4IG1haWxpbmcg
bGlzdApJbnRlbC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRl
c2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vaW50ZWwtZ2Z4Cg==

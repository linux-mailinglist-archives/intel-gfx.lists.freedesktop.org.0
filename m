Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 55698A768E
	for <lists+intel-gfx@lfdr.de>; Tue,  3 Sep 2019 23:53:09 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id D668D8954A;
	Tue,  3 Sep 2019 21:53:06 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga11.intel.com (mga11.intel.com [192.55.52.93])
 by gabe.freedesktop.org (Postfix) with ESMTPS id F2D138954A
 for <intel-gfx@lists.freedesktop.org>; Tue,  3 Sep 2019 21:53:05 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga007.jf.intel.com ([10.7.209.58])
 by fmsmga102.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 03 Sep 2019 14:53:05 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.64,464,1559545200"; d="scan'208";a="173355841"
Received: from fmsmsx105.amr.corp.intel.com ([10.18.124.203])
 by orsmga007.jf.intel.com with ESMTP; 03 Sep 2019 14:53:05 -0700
Received: from fmsmsx117.amr.corp.intel.com ([169.254.3.91]) by
 FMSMSX105.amr.corp.intel.com ([169.254.4.93]) with mapi id 14.03.0439.000;
 Tue, 3 Sep 2019 14:53:05 -0700
From: "Souza, Jose" <jose.souza@intel.com>
To: "Roper, Matthew D" <matthew.d.roper@intel.com>, "De Marchi, Lucas"
 <lucas.demarchi@intel.com>
Thread-Topic: [PATCH v3 1/7] drm/i915/psr: Only handle interruptions of the
 transcoder in use
Thread-Index: AQHVXkvOv1hhMYuF3E6caqcPNsmOCKca+cYAgAAC5wA=
Date: Tue, 3 Sep 2019 21:53:04 +0000
Message-ID: <bdbe5d04725601e74a3abb8214892d8adf9e3424.camel@intel.com>
References: <20190829092554.32198-1-lucas.demarchi@intel.com>
 <20190829092554.32198-2-lucas.demarchi@intel.com>
 <20190903214240.GJ13677@mdroper-desk.amr.corp.intel.com>
In-Reply-To: <20190903214240.GJ13677@mdroper-desk.amr.corp.intel.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-originating-ip: [10.24.9.135]
Content-ID: <6DAAB07DDCAE0D43809AD343C399E8F2@intel.com>
MIME-Version: 1.0
Subject: Re: [Intel-gfx] [PATCH v3 1/7] drm/i915/psr: Only handle
 interruptions of the transcoder in use
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: "intel-gfx@lists.freedesktop.org" <intel-gfx@lists.freedesktop.org>,
 "Pandiyan, Dhinakaran" <dhinakaran.pandiyan@intel.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

T24gVHVlLCAyMDE5LTA5LTAzIGF0IDE0OjQyIC0wNzAwLCBNYXR0IFJvcGVyIHdyb3RlOg0KPiBP
biBUaHUsIEF1ZyAyOSwgMjAxOSBhdCAwMjoyNTo0OEFNIC0wNzAwLCBMdWNhcyBEZSBNYXJjaGkg
d3JvdGU6DQo+ID4gRnJvbTogSm9zw6kgUm9iZXJ0byBkZSBTb3V6YSA8am9zZS5zb3V6YUBpbnRl
bC5jb20+DQo+ID4gDQo+ID4gSXQgd2FzIGVuYWJsaW5nIGFuZCBjaGVja2luZyBQU1IgaW50ZXJy
dXB0aW9ucyBpbiBldmVyeSB0cmFuc2NvZGVyDQo+ID4gd2hpbGUgaXQgc2hvdWxkIGtlZXAgdGhl
IGludGVycnVwdGlvbnMgb24gdGhlIG5vbi11c2VkIHRyYW5zY29kZXJzDQo+ID4gbWFza2VkLg0K
PiA+IA0KPiA+IFdoaWxlIGRvaW5nIHRoaXMgaXQgZ2l2ZXMgdXMgdHJvdWJsZSBvbiBUaWdlciBM
YWtlIGlmIHdlIGFyZQ0KPiA+IHJlYWRpbmcvd3JpdGluZyB0byByZWdpc3RlcnMgb2YgZGlzYWJs
ZWQgdHJhbnNjb2RlcnMgc2luY2UgZnJvbQ0KPiA+IGdlbjEyDQo+ID4gb253YXJkcyB0aGUgcmVn
aXN0ZXJzIGFyZSByZWxhdGl2ZSB0byB0aGUgdHJhbnNjb2Rlci4gSW5zdGVhZCBvZg0KPiA+IGZv
cmNpbmcNCj4gPiB0aGVtIE9OIHRvIGFjY2VzcyB0aG9zZSByZWdpc3RlcnMsIGp1c3QgYXZvaWQg
dGhlIGFjY2Vzc2VzIGFzIHRoZXkNCj4gPiBhcmUNCj4gPiBub3QgbmVlZGVkLg0KPiA+IA0KPiA+
IHYyIChMdWNhcyk6DQo+ID4gICAtIEV4cGxhaW4gd2h5IHdlIGNhbid0IGtlZXAgYWNjZXNzaW5n
IGFsbCB0cmFuc2NvZGVycw0KPiA+ICAgLSBSZW1vdmUgVE9ETyBhYm91dCBleHRlbmRpbmcgdGhl
IGlycSBoYW5kbGluZyB0byBtdWx0aXBsZQ0KPiA+IGluc3RhbmNlczoNCj4gPiAgICAgd2hlbi9p
ZiBpbXBsZW1lbnRpbmcgbXVsdGlwbGUgaW5zdGFuY2VzIGl0J3MgcHJldHR5IGNsZWFyIGJ5DQo+
ID4gdGhlDQo+ID4gICAgIHNpbmdsZXRvbiBwc3IgdGhhdCBpdCBuZWVkcyB0byBiZSBleHRlbmRl
ZA0KPiA+ICAgLSBGaXggaW50ZWxfcHNyX2RlYnVnX3NldCgpIGNhbGxpbmcgcHNyX2lycV9jb250
cm9sKCkgd2l0aA0KPiA+ICAgICBwc3IudHJhbnNjb2RlciBub3Qgc2V0IHlldCAoZnJvbSBJbXJl
KS4gTm93IHdlIG9ubHkgc2V0IHRoZQ0KPiA+IGRlYnVnDQo+ID4gICAgIHJlZ2lzdGVyIHJpZ2h0
IGF3YXkgaWYgcHNyIGlzIGFscmVhZHkgZW5hYmxlZC4gT3RoZXJ3aXNlIHdlDQo+ID4ganVzdA0K
PiA+ICAgICByZWNvcmQgdGhlIHZhbHVlIHRvIGJlIHNldCB3aGVuIGVuYWJsaW5nIHRoZSBzb3Vy
Y2UuDQo+ID4gICAtIERvIG5vdCBkZXBlbmQgb24gdGhlIHZhbHVlIG9mIFRSQU5TQ09ERVJfQS4g
SnVzdCBiZSByZWxhdGl2ZSB0bw0KPiA+IGl0DQo+ID4gICAgIChmcm9tIEltcmUpDQo+ID4gICAt
IGhhbmRsZSBwc3IgZXJyb3IgbGFzdCBzbyB3ZSBkb24ndCBzY2hlZHVsZSB0aGUgd29yayBiZWZv
cmUNCj4gPiBoYW5kbGluZw0KPiA+ICAgICB0aGUgb3RoZXIgZmxhZ3MNCj4gPiANCj4gPiBDYzog
SW1yZSBEZWFrIDxpbXJlLmRlYWtAaW50ZWwuY29tPg0KPiA+IENjOiBEaGluYWthcmFuIFBhbmRp
eWFuIDxkaGluYWthcmFuLnBhbmRpeWFuQGludGVsLmNvbT4NCj4gPiBTaWduZWQtb2ZmLWJ5OiBK
b3PDqSBSb2JlcnRvIGRlIFNvdXphIDxqb3NlLnNvdXphQGludGVsLmNvbT4NCj4gPiBTaWduZWQt
b2ZmLWJ5OiBMdWNhcyBEZSBNYXJjaGkgPGx1Y2FzLmRlbWFyY2hpQGludGVsLmNvbT4NCj4gPiAt
LS0NCj4gPiAgZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9wc3IuYyB8IDEzNyAr
KysrKysrKystLS0tLS0tLQ0KPiA+IC0tLS0tLQ0KPiA+ICBkcml2ZXJzL2dwdS9kcm0vaTkxNS9p
OTE1X3JlZy5oICAgICAgICAgIHwgIDEzICstLQ0KPiA+ICAyIGZpbGVzIGNoYW5nZWQsIDU3IGlu
c2VydGlvbnMoKyksIDkzIGRlbGV0aW9ucygtKQ0KPiA+IA0KPiA+IGRpZmYgLS1naXQgYS9kcml2
ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX3Bzci5jDQo+ID4gYi9kcml2ZXJzL2dwdS9k
cm0vaTkxNS9kaXNwbGF5L2ludGVsX3Bzci5jDQo+ID4gaW5kZXggNjI5YjhiOThhOTdmLi42ZjJi
ZjUwYjZkODAgMTAwNjQ0DQo+ID4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9p
bnRlbF9wc3IuYw0KPiA+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxf
cHNyLmMNCj4gPiBAQCAtODgsNDggKzg4LDE5IEBAIHN0YXRpYyBib29sIGludGVsX3BzcjJfZW5h
YmxlZChzdHJ1Y3QNCj4gPiBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiwNCj4gPiAgCX0NCj4g
PiAgfQ0KPiA+ICANCj4gPiAtc3RhdGljIGludCBlZHBfcHNyX3NoaWZ0KGVudW0gdHJhbnNjb2Rl
ciBjcHVfdHJhbnNjb2RlcikNCj4gPiArc3RhdGljIHZvaWQgcHNyX2lycV9jb250cm9sKHN0cnVj
dCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdikNCj4gPiAgew0KPiA+IC0Jc3dpdGNoIChjcHVf
dHJhbnNjb2Rlcikgew0KPiA+IC0JY2FzZSBUUkFOU0NPREVSX0E6DQo+ID4gLQkJcmV0dXJuIEVE
UF9QU1JfVFJBTlNDT0RFUl9BX1NISUZUOw0KPiA+IC0JY2FzZSBUUkFOU0NPREVSX0I6DQo+ID4g
LQkJcmV0dXJuIEVEUF9QU1JfVFJBTlNDT0RFUl9CX1NISUZUOw0KPiA+IC0JY2FzZSBUUkFOU0NP
REVSX0M6DQo+ID4gLQkJcmV0dXJuIEVEUF9QU1JfVFJBTlNDT0RFUl9DX1NISUZUOw0KPiA+IC0J
ZGVmYXVsdDoNCj4gPiAtCQlNSVNTSU5HX0NBU0UoY3B1X3RyYW5zY29kZXIpOw0KPiA+IC0JCS8q
IGZhbGx0aHJvdWdoICovDQo+ID4gLQljYXNlIFRSQU5TQ09ERVJfRURQOg0KPiA+IC0JCXJldHVy
biBFRFBfUFNSX1RSQU5TQ09ERVJfRURQX1NISUZUOw0KPiA+IC0JfQ0KPiA+IC19DQo+ID4gLQ0K
PiA+IC1zdGF0aWMgdm9pZCBwc3JfaXJxX2NvbnRyb2woc3RydWN0IGRybV9pOTE1X3ByaXZhdGUg
KmRldl9wcml2LCB1MzINCj4gPiBkZWJ1ZykNCj4gPiAtew0KPiA+IC0JdTMyIGRlYnVnX21hc2ss
IG1hc2s7DQo+ID4gLQllbnVtIHRyYW5zY29kZXIgY3B1X3RyYW5zY29kZXI7DQo+ID4gLQl1MzIg
dHJhbnNjb2RlcnMgPSBCSVQoVFJBTlNDT0RFUl9FRFApOw0KPiA+IC0NCj4gPiAtCWlmIChJTlRF
TF9HRU4oZGV2X3ByaXYpID49IDgpDQo+ID4gLQkJdHJhbnNjb2RlcnMgfD0gQklUKFRSQU5TQ09E
RVJfQSkgfA0KPiA+IC0JCQkgICAgICAgQklUKFRSQU5TQ09ERVJfQikgfA0KPiA+IC0JCQkgICAg
ICAgQklUKFRSQU5TQ09ERVJfQyk7DQo+ID4gLQ0KPiA+IC0JZGVidWdfbWFzayA9IDA7DQo+ID4g
LQltYXNrID0gMDsNCj4gPiAtCWZvcl9lYWNoX2NwdV90cmFuc2NvZGVyX21hc2tlZChkZXZfcHJp
diwgY3B1X3RyYW5zY29kZXIsDQo+ID4gdHJhbnNjb2RlcnMpIHsNCj4gPiAtCQlpbnQgc2hpZnQg
PSBlZHBfcHNyX3NoaWZ0KGNwdV90cmFuc2NvZGVyKTsNCj4gPiAtDQo+ID4gLQkJbWFzayB8PSBF
RFBfUFNSX0VSUk9SKHNoaWZ0KTsNCj4gPiAtCQlkZWJ1Z19tYXNrIHw9IEVEUF9QU1JfUE9TVF9F
WElUKHNoaWZ0KSB8DQo+ID4gLQkJCSAgICAgIEVEUF9QU1JfUFJFX0VOVFJZKHNoaWZ0KTsNCj4g
PiAtCX0NCj4gPiArCWVudW0gdHJhbnNjb2RlciB0cmFucyA9IGRldl9wcml2LT5wc3IudHJhbnNj
b2RlcjsNCj4gPiArCXUzMiB2YWwsIG1hc2s7DQo+ID4gIA0KPiA+IC0JaWYgKGRlYnVnICYgSTkx
NV9QU1JfREVCVUdfSVJRKQ0KPiA+IC0JCW1hc2sgfD0gZGVidWdfbWFzazsNCj4gPiArCW1hc2sg
PSBFRFBfUFNSX0VSUk9SKHRyYW5zKTsNCj4gPiArCWlmIChkZXZfcHJpdi0+cHNyLmRlYnVnICYg
STkxNV9QU1JfREVCVUdfSVJRKQ0KPiA+ICsJCW1hc2sgfD0gRURQX1BTUl9QT1NUX0VYSVQodHJh
bnMpIHwNCj4gPiBFRFBfUFNSX1BSRV9FTlRSWSh0cmFucyk7DQo+ID4gIA0KPiA+IC0JSTkxNV9X
UklURShFRFBfUFNSX0lNUiwgfm1hc2spOw0KPiA+ICsJdmFsID0gSTkxNV9SRUFEKEVEUF9QU1Jf
SU1SKTsNCj4gPiArCXZhbCAmPSB+RURQX1BTUl9UUkFOU19NQVNLKHRyYW5zKTsNCj4gPiArCXZh
bCB8PSB+bWFzazsNCj4gPiArCUk5MTVfV1JJVEUoRURQX1BTUl9JTVIsIHZhbCk7DQo+IA0KPiBJ
IGd1ZXNzIHdlJ3ZlIGRvbmUgdGhpcyBhbGwgYWxvbmcsIGJ1dCBpdCBqdW1wZWQgb3V0IGF0IG1l
IGR1cmluZyB0aGUNCj4gcmV2aWV3IGhlcmUgdGhhdCB3ZSdyZSBzZXR0aW5nIGEgYnVuY2ggb2Yg
Yml0cyB0byAxIHRoYXQgSSBkb24ndA0KPiB0aGluaw0KPiBoYXZlIGEgZGVmaW5lZCBtZWFuaW5n
LiAgSS5lLiwgdGhlIGJzcGVjIGV4cGxpY2l0bHkgaW5kaWNhdGVzIHRoYXQNCj4gMHgwNzA3MDcw
NyB3b3VsZCBiZSAiYWxsIGludGVycnVwdHMgbWFza2VkIiB3aGVyZWFzIHdlJ3JlIHNldHRpbmcN
Cj4gc29tZXRoaW5nIG1vcmUgYWxvbmcgdGhlIGxpbmVzIG9mIDB4RkZGRkJGRiAoZm9yIGFuIGV4
YW1wbGUgd2l0aCBQU1INCj4gb24NCj4gdHJhbnNjb2RlciBBKS4gIA0KPiANCj4gVGhhdCdzIGFw
cGFyZW50bHkgZmluZSBmb3IgY3VycmVudCBwbGF0Zm9ybXMgKHNpbmNlIGl0J3Mgd2hhdCB3ZSd2
ZQ0KPiBiZWVuDQo+IGRvaW5nIGFsbCBhbG9uZyksIGJ1dCBpdCBtYWtlcyBtZSBzbGlnaHRseSBt
b3JlIG5lcnZvdXMgb24gVEdMIGFuZA0KPiBiZXlvbmQgZ2l2ZW4gdGhhdCB0aGUgbmV4dCBwYXRj
aCBzd2l0Y2hlcyB0byB0aGUgcGVyLXRyYW5zY29kZXINCj4gUFNSX0lNUg0KPiByZWdpc3RlcnMg
YW5kIHRob3NlIGV4cGxpY2l0bHkgc2F5IHRoYXQgYml0cyAzMTo0IGFyZSByZXNlcnZlZCBhbmQN
Cj4gbXVzdC1iZS16ZXJvLiAgTWF5YmUgd2Ugc2hvdWxkIGFkZCBhIGNvZGUgY29tbWVudCBhYm91
dCB0aGlzIGp1c3QgaW4NCj4gY2FzZSBpdCBjb21lcyBiYWNrIHRvIGJpdGUgdXMgb24gYSBmdXR1
cmUgcGxhdGZvcm0/DQoNCkxpa2UgeW91IHNhaWQgd2UgZG8gaXQgZm9yIGFsbCBvdGhlciBwbGF0
Zm9ybXMgYW5kIGZvciBhbGwgb3RoZXINCmludGVycnVwdGlvbiByZWdpc3RlcnMgYnV0IGFueXdh
eXMgSSBjYW4gYWRkIGEgY29tbWVudCBvbiB0b3A6DQoNCi8qIE1hc2tpbmcvc2V0dGluZyByZXNl
cnZlZCBiaXRzIHRvbyAqLw0KDQpJdCBpcyBlbm91Z2g/IGRvIHlvdSBoYXZlIGFueSBvdGhlciBz
dWdnZXN0aW9uPw0KDQo+IA0KPiANCj4gTWF0dA0KPiANCj4gPiAgfQ0KPiA+ICANCj4gPiAgc3Rh
dGljIHZvaWQgcHNyX2V2ZW50X3ByaW50KHUzMiB2YWwsIGJvb2wgcHNyMl9lbmFibGVkKQ0KPiA+
IEBAIC0xNzEsNjAgKzE0Miw0OCBAQCBzdGF0aWMgdm9pZCBwc3JfZXZlbnRfcHJpbnQodTMyIHZh
bCwgYm9vbA0KPiA+IHBzcjJfZW5hYmxlZCkNCj4gPiAgDQo+ID4gIHZvaWQgaW50ZWxfcHNyX2ly
cV9oYW5kbGVyKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiwgdTMyDQo+ID4gcHNy
X2lpcikNCj4gPiAgew0KPiA+IC0JdTMyIHRyYW5zY29kZXJzID0gQklUKFRSQU5TQ09ERVJfRURQ
KTsNCj4gPiAtCWVudW0gdHJhbnNjb2RlciBjcHVfdHJhbnNjb2RlcjsNCj4gPiArCWVudW0gdHJh
bnNjb2RlciBjcHVfdHJhbnNjb2RlciA9IGRldl9wcml2LT5wc3IudHJhbnNjb2RlcjsNCj4gPiAg
CWt0aW1lX3QgdGltZV9ucyA9ICBrdGltZV9nZXQoKTsNCj4gPiAtCXUzMiBtYXNrID0gMDsNCj4g
PiAtDQo+ID4gLQlpZiAoSU5URUxfR0VOKGRldl9wcml2KSA+PSA4KQ0KPiA+IC0JCXRyYW5zY29k
ZXJzIHw9IEJJVChUUkFOU0NPREVSX0EpIHwNCj4gPiAtCQkJICAgICAgIEJJVChUUkFOU0NPREVS
X0IpIHwNCj4gPiAtCQkJICAgICAgIEJJVChUUkFOU0NPREVSX0MpOw0KPiA+ICANCj4gPiAtCWZv
cl9lYWNoX2NwdV90cmFuc2NvZGVyX21hc2tlZChkZXZfcHJpdiwgY3B1X3RyYW5zY29kZXIsDQo+
ID4gdHJhbnNjb2RlcnMpIHsNCj4gPiAtCQlpbnQgc2hpZnQgPSBlZHBfcHNyX3NoaWZ0KGNwdV90
cmFuc2NvZGVyKTsNCj4gPiArCWlmIChwc3JfaWlyICYgRURQX1BTUl9QUkVfRU5UUlkoY3B1X3Ry
YW5zY29kZXIpKSB7DQo+ID4gKwkJZGV2X3ByaXYtPnBzci5sYXN0X2VudHJ5X2F0dGVtcHQgPSB0
aW1lX25zOw0KPiA+ICsJCURSTV9ERUJVR19LTVMoIlt0cmFuc2NvZGVyICVzXSBQU1IgZW50cnkg
YXR0ZW1wdCBpbiAyDQo+ID4gdmJsYW5rc1xuIiwNCj4gPiArCQkJICAgICAgdHJhbnNjb2Rlcl9u
YW1lKGNwdV90cmFuc2NvZGVyKSk7DQo+ID4gKwl9DQo+ID4gIA0KPiA+IC0JCWlmIChwc3JfaWly
ICYgRURQX1BTUl9FUlJPUihzaGlmdCkpIHsNCj4gPiAtCQkJRFJNX1dBUk4oIlt0cmFuc2NvZGVy
ICVzXSBQU1IgYXV4IGVycm9yXG4iLA0KPiA+IC0JCQkJIHRyYW5zY29kZXJfbmFtZShjcHVfdHJh
bnNjb2RlcikpOw0KPiA+ICsJaWYgKHBzcl9paXIgJiBFRFBfUFNSX1BPU1RfRVhJVChjcHVfdHJh
bnNjb2RlcikpIHsNCj4gPiArCQlkZXZfcHJpdi0+cHNyLmxhc3RfZXhpdCA9IHRpbWVfbnM7DQo+
ID4gKwkJRFJNX0RFQlVHX0tNUygiW3RyYW5zY29kZXIgJXNdIFBTUiBleGl0IGNvbXBsZXRlZFxu
IiwNCj4gPiArCQkJICAgICAgdHJhbnNjb2Rlcl9uYW1lKGNwdV90cmFuc2NvZGVyKSk7DQo+ID4g
IA0KPiA+IC0JCQlkZXZfcHJpdi0+cHNyLmlycV9hdXhfZXJyb3IgPSB0cnVlOw0KPiA+ICsJCWlm
IChJTlRFTF9HRU4oZGV2X3ByaXYpID49IDkpIHsNCj4gPiArCQkJdTMyIHZhbCA9IEk5MTVfUkVB
RChQU1JfRVZFTlQoY3B1X3RyYW5zY29kZXIpKTsNCj4gPiArCQkJYm9vbCBwc3IyX2VuYWJsZWQg
PSBkZXZfcHJpdi0+cHNyLnBzcjJfZW5hYmxlZDsNCj4gPiAgDQo+ID4gLQkJCS8qDQo+ID4gLQkJ
CSAqIElmIHRoaXMgaW50ZXJydXB0aW9uIGlzIG5vdCBtYXNrZWQgaXQgd2lsbA0KPiA+IGtlZXAN
Cj4gPiAtCQkJICogaW50ZXJydXB0aW5nIHNvIGZhc3QgdGhhdCBpdCBwcmV2ZW50cyB0aGUNCj4g
PiBzY2hlZHVsZWQNCj4gPiAtCQkJICogd29yayB0byBydW4uDQo+ID4gLQkJCSAqIEFsc28gYWZ0
ZXIgYSBQU1IgZXJyb3IsIHdlIGRvbid0IHdhbnQgdG8gYXJtDQo+ID4gUFNSDQo+ID4gLQkJCSAq
IGFnYWluIHNvIHdlIGRvbid0IGNhcmUgYWJvdXQgdW5tYXNrIHRoZQ0KPiA+IGludGVycnVwdGlv
bg0KPiA+IC0JCQkgKiBvciB1bnNldCBpcnFfYXV4X2Vycm9yLg0KPiA+IC0JCQkgKi8NCj4gPiAt
CQkJbWFzayB8PSBFRFBfUFNSX0VSUk9SKHNoaWZ0KTsNCj4gPiAtCQl9DQo+ID4gLQ0KPiA+IC0J
CWlmIChwc3JfaWlyICYgRURQX1BTUl9QUkVfRU5UUlkoc2hpZnQpKSB7DQo+ID4gLQkJCWRldl9w
cml2LT5wc3IubGFzdF9lbnRyeV9hdHRlbXB0ID0gdGltZV9uczsNCj4gPiAtCQkJRFJNX0RFQlVH
X0tNUygiW3RyYW5zY29kZXIgJXNdIFBTUiBlbnRyeQ0KPiA+IGF0dGVtcHQgaW4gMiB2Ymxhbmtz
XG4iLA0KPiA+IC0JCQkJICAgICAgdHJhbnNjb2Rlcl9uYW1lKGNwdV90cmFuc2NvZGVyKSk7DQo+
ID4gKwkJCUk5MTVfV1JJVEUoUFNSX0VWRU5UKGNwdV90cmFuc2NvZGVyKSwgdmFsKTsNCj4gPiAr
CQkJcHNyX2V2ZW50X3ByaW50KHZhbCwgcHNyMl9lbmFibGVkKTsNCj4gPiAgCQl9DQo+ID4gKwl9
DQo+ID4gIA0KPiA+IC0JCWlmIChwc3JfaWlyICYgRURQX1BTUl9QT1NUX0VYSVQoc2hpZnQpKSB7
DQo+ID4gLQkJCWRldl9wcml2LT5wc3IubGFzdF9leGl0ID0gdGltZV9uczsNCj4gPiAtCQkJRFJN
X0RFQlVHX0tNUygiW3RyYW5zY29kZXIgJXNdIFBTUiBleGl0DQo+ID4gY29tcGxldGVkXG4iLA0K
PiA+IC0JCQkJICAgICAgdHJhbnNjb2Rlcl9uYW1lKGNwdV90cmFuc2NvZGVyKSk7DQo+ID4gKwlp
ZiAocHNyX2lpciAmIEVEUF9QU1JfRVJST1IoY3B1X3RyYW5zY29kZXIpKSB7DQo+ID4gKwkJdTMy
IHZhbDsNCj4gPiAgDQo+ID4gLQkJCWlmIChJTlRFTF9HRU4oZGV2X3ByaXYpID49IDkpIHsNCj4g
PiAtCQkJCXUzMiB2YWwgPQ0KPiA+IEk5MTVfUkVBRChQU1JfRVZFTlQoY3B1X3RyYW5zY29kZXIp
KTsNCj4gPiAtCQkJCWJvb2wgcHNyMl9lbmFibGVkID0gZGV2X3ByaXYtDQo+ID4gPnBzci5wc3Iy
X2VuYWJsZWQ7DQo+ID4gKwkJRFJNX1dBUk4oIlt0cmFuc2NvZGVyICVzXSBQU1IgYXV4IGVycm9y
XG4iLA0KPiA+ICsJCQkgdHJhbnNjb2Rlcl9uYW1lKGNwdV90cmFuc2NvZGVyKSk7DQo+ID4gIA0K
PiA+IC0JCQkJSTkxNV9XUklURShQU1JfRVZFTlQoY3B1X3RyYW5zY29kZXIpLA0KPiA+IHZhbCk7
DQo+ID4gLQkJCQlwc3JfZXZlbnRfcHJpbnQodmFsLCBwc3IyX2VuYWJsZWQpOw0KPiA+IC0JCQl9
DQo+ID4gLQkJfQ0KPiA+IC0JfQ0KPiA+ICsJCWRldl9wcml2LT5wc3IuaXJxX2F1eF9lcnJvciA9
IHRydWU7DQo+ID4gIA0KPiA+IC0JaWYgKG1hc2spIHsNCj4gPiAtCQltYXNrIHw9IEk5MTVfUkVB
RChFRFBfUFNSX0lNUik7DQo+ID4gLQkJSTkxNV9XUklURShFRFBfUFNSX0lNUiwgbWFzayk7DQo+
ID4gKwkJLyoNCj4gPiArCQkgKiBJZiB0aGlzIGludGVycnVwdGlvbiBpcyBub3QgbWFza2VkIGl0
IHdpbGwga2VlcA0KPiA+ICsJCSAqIGludGVycnVwdGluZyBzbyBmYXN0IHRoYXQgaXQgcHJldmVu
dHMgdGhlIHNjaGVkdWxlZA0KPiA+ICsJCSAqIHdvcmsgdG8gcnVuLg0KPiA+ICsJCSAqIEFsc28g
YWZ0ZXIgYSBQU1IgZXJyb3IsIHdlIGRvbid0IHdhbnQgdG8gYXJtIFBTUg0KPiA+ICsJCSAqIGFn
YWluIHNvIHdlIGRvbid0IGNhcmUgYWJvdXQgdW5tYXNrIHRoZSBpbnRlcnJ1cHRpb24NCj4gPiAr
CQkgKiBvciB1bnNldCBpcnFfYXV4X2Vycm9yLg0KPiA+ICsJCSAqLw0KPiA+ICsJCXZhbCA9IEk5
MTVfUkVBRChFRFBfUFNSX0lNUik7DQo+ID4gKwkJdmFsIHw9IEVEUF9QU1JfRVJST1IoY3B1X3Ry
YW5zY29kZXIpOw0KPiA+ICsJCUk5MTVfV1JJVEUoRURQX1BTUl9JTVIsIHZhbCk7DQo+ID4gIA0K
PiA+ICAJCXNjaGVkdWxlX3dvcmsoJmRldl9wcml2LT5wc3Iud29yayk7DQo+ID4gIAl9DQo+ID4g
QEAgLTc0Nyw3ICs3MDYsNyBAQCBzdGF0aWMgdm9pZCBpbnRlbF9wc3JfZW5hYmxlX3NvdXJjZShz
dHJ1Y3QNCj4gPiBpbnRlbF9kcCAqaW50ZWxfZHAsDQo+ID4gIA0KPiA+ICAJSTkxNV9XUklURShF
RFBfUFNSX0RFQlVHKGRldl9wcml2LT5wc3IudHJhbnNjb2RlciksIG1hc2spOw0KPiA+ICANCj4g
PiAtCXBzcl9pcnFfY29udHJvbChkZXZfcHJpdiwgZGV2X3ByaXYtPnBzci5kZWJ1Zyk7DQo+ID4g
Kwlwc3JfaXJxX2NvbnRyb2woZGV2X3ByaXYpOw0KPiA+ICB9DQo+ID4gIA0KPiA+ICBzdGF0aWMg
dm9pZCBpbnRlbF9wc3JfZW5hYmxlX2xvY2tlZChzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZQ0KPiA+
ICpkZXZfcHJpdiwNCj4gPiBAQCAtNzcyLDcgKzczMSw3IEBAIHN0YXRpYyB2b2lkIGludGVsX3Bz
cl9lbmFibGVfbG9ja2VkKHN0cnVjdA0KPiA+IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2LA0K
PiA+ICAJICogdG8gYXZvaWQgYW55IHJlbmRlcmluZyBwcm9ibGVtcy4NCj4gPiAgCSAqLw0KPiA+
ICAJdmFsID0gSTkxNV9SRUFEKEVEUF9QU1JfSUlSKTsNCj4gPiAtCXZhbCAmPSBFRFBfUFNSX0VS
Uk9SKGVkcF9wc3Jfc2hpZnQoZGV2X3ByaXYtPnBzci50cmFuc2NvZGVyKSk7DQo+ID4gKwl2YWwg
Jj0gRURQX1BTUl9FUlJPUihkZXZfcHJpdi0+cHNyLnRyYW5zY29kZXIpOw0KPiA+ICAJaWYgKHZh
bCkgew0KPiA+ICAJCWRldl9wcml2LT5wc3Iuc2lua19ub3RfcmVsaWFibGUgPSB0cnVlOw0KPiA+
ICAJCURSTV9ERUJVR19LTVMoIlBTUiBpbnRlcnJ1cHRpb24gZXJyb3Igc2V0LCBub3QgZW5hYmxp
bmcNCj4gPiBQU1JcbiIpOw0KPiA+IEBAIC0xMTIwLDcgKzEwNzksMTMgQEAgaW50IGludGVsX3Bz
cl9kZWJ1Z19zZXQoc3RydWN0DQo+ID4gZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYsIHU2NCB2
YWwpDQo+ID4gIA0KPiA+ICAJb2xkX21vZGUgPSBkZXZfcHJpdi0+cHNyLmRlYnVnICYgSTkxNV9Q
U1JfREVCVUdfTU9ERV9NQVNLOw0KPiA+ICAJZGV2X3ByaXYtPnBzci5kZWJ1ZyA9IHZhbDsNCj4g
PiAtCXBzcl9pcnFfY29udHJvbChkZXZfcHJpdiwgZGV2X3ByaXYtPnBzci5kZWJ1Zyk7DQo+ID4g
Kw0KPiA+ICsJLyoNCj4gPiArCSAqIERvIGl0IHJpZ2h0IGF3YXkgaWYgaXQncyBhbHJlYWR5IGVu
YWJsZWQsIG90aGVyd2lzZSBpdCB3aWxsDQo+ID4gYmUgZG9uZQ0KPiA+ICsJICogd2hlbiBlbmFi
bGluZyB0aGUgc291cmNlLg0KPiA+ICsJICovDQo+ID4gKwlpZiAoZGV2X3ByaXYtPnBzci5lbmFi
bGVkKQ0KPiA+ICsJCXBzcl9pcnFfY29udHJvbChkZXZfcHJpdik7DQo+ID4gIA0KPiA+ICAJbXV0
ZXhfdW5sb2NrKCZkZXZfcHJpdi0+cHNyLmxvY2spOw0KPiA+ICANCj4gPiBkaWZmIC0tZ2l0IGEv
ZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9yZWcuaA0KPiA+IGIvZHJpdmVycy9ncHUvZHJtL2k5
MTUvaTkxNV9yZWcuaA0KPiA+IGluZGV4IDAyZTFlZjEwYzQ3ZS4uNmU3ZGI5YzY1OTgxIDEwMDY0
NA0KPiA+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfcmVnLmgNCj4gPiArKysgYi9k
cml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3JlZy5oDQo+ID4gQEAgLTQyMjUsMTMgKzQyMjUsMTIg
QEAgZW51bSB7DQo+ID4gIC8qIEJzcGVjIGNsYWltcyB0aG9zZSBhcmVuJ3Qgc2hpZnRlZCBidXQg
c3RheSBhdCAweDY0ODAwICovDQo+ID4gICNkZWZpbmUgRURQX1BTUl9JTVIJCQkJX01NSU8oMHg2
NDgzNCkNCj4gPiAgI2RlZmluZSBFRFBfUFNSX0lJUgkJCQlfTU1JTygweDY0ODM4KQ0KPiA+IC0j
ZGVmaW5lICAgRURQX1BTUl9FUlJPUihzaGlmdCkJCQkoMSA8PCAoKHNoaWZ0KQ0KPiA+ICsgMikp
DQo+ID4gLSNkZWZpbmUgICBFRFBfUFNSX1BPU1RfRVhJVChzaGlmdCkJCSgxIDw8ICgoc2hpZnQp
ICsgMSkpDQo+ID4gLSNkZWZpbmUgICBFRFBfUFNSX1BSRV9FTlRSWShzaGlmdCkJCSgxIDw8IChz
aGlmdCkpDQo+ID4gLSNkZWZpbmUgICBFRFBfUFNSX1RSQU5TQ09ERVJfQ19TSElGVAkJMjQNCj4g
PiAtI2RlZmluZSAgIEVEUF9QU1JfVFJBTlNDT0RFUl9CX1NISUZUCQkxNg0KPiA+IC0jZGVmaW5l
ICAgRURQX1BTUl9UUkFOU0NPREVSX0FfU0hJRlQJCTgNCj4gPiAtI2RlZmluZSAgIEVEUF9QU1Jf
VFJBTlNDT0RFUl9FRFBfU0hJRlQJCTANCj4gPiArI2RlZmluZSAgIF9FRFBfUFNSX1RSQU5TX1NI
SUZUKHRyYW5zKQkJKCh0cmFucykgPT0NCj4gPiBUUkFOU0NPREVSX0VEUCA/IFwNCj4gPiArCQkJ
CQkJIDAgOiAoKHRyYW5zKSAtDQo+ID4gVFJBTlNDT0RFUl9BICsgMSkgKiA4KQ0KPiA+ICsjZGVm
aW5lICAgRURQX1BTUl9UUkFOU19NQVNLKHRyYW5zKQkJKDB4NyA8PA0KPiA+IF9FRFBfUFNSX1RS
QU5TX1NISUZUKHRyYW5zKSkNCj4gPiArI2RlZmluZSAgIEVEUF9QU1JfRVJST1IodHJhbnMpCQkJ
KDB4NCA8PA0KPiA+IF9FRFBfUFNSX1RSQU5TX1NISUZUKHRyYW5zKSkNCj4gPiArI2RlZmluZSAg
IEVEUF9QU1JfUE9TVF9FWElUKHRyYW5zKQkJKDB4MiA8PA0KPiA+IF9FRFBfUFNSX1RSQU5TX1NI
SUZUKHRyYW5zKSkNCj4gPiArI2RlZmluZSAgIEVEUF9QU1JfUFJFX0VOVFJZKHRyYW5zKQkJKDB4
MSA8PA0KPiA+IF9FRFBfUFNSX1RSQU5TX1NISUZUKHRyYW5zKSkNCj4gPiAgDQo+ID4gICNkZWZp
bmUgX1NSRF9BVVhfQ1RMX0EJCQkJMHg2MDgxMA0KPiA+ICAjZGVmaW5lIF9TUkRfQVVYX0NUTF9F
RFAJCQkweDZmODEwDQo+ID4gLS0gDQo+ID4gMi4yMy4wDQo+ID4gDQpfX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpJbnRlbC1nZnggbWFpbGluZyBsaXN0Cklu
dGVsLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5v
cmcvbWFpbG1hbi9saXN0aW5mby9pbnRlbC1nZng=

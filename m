Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 7B1D858B56
	for <lists+intel-gfx@lfdr.de>; Thu, 27 Jun 2019 21:59:58 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id DB3DB6E4D0;
	Thu, 27 Jun 2019 19:59:56 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga07.intel.com (mga07.intel.com [134.134.136.100])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 351E96E4D0
 for <intel-gfx@lists.freedesktop.org>; Thu, 27 Jun 2019 19:59:55 +0000 (UTC)
X-Amp-Result: UNKNOWN
X-Amp-Original-Verdict: FILE UNKNOWN
X-Amp-File-Uploaded: False
Received: from fmsmga008.fm.intel.com ([10.253.24.58])
 by orsmga105.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 27 Jun 2019 12:59:54 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.63,424,1557212400"; d="scan'208";a="162749186"
Received: from labuser-z97x-ud5h.jf.intel.com (HELO intel.com) ([10.54.75.49])
 by fmsmga008.fm.intel.com with ESMTP; 27 Jun 2019 12:59:53 -0700
Date: Thu, 27 Jun 2019 13:01:50 -0700
From: Manasi Navare <manasi.d.navare@intel.com>
To: Lucas De Marchi <lucas.de.marchi@gmail.com>
Message-ID: <20190627200150.GC3770@intel.com>
References: <20190624210850.17223-1-manasi.d.navare@intel.com>
 <20190624210850.17223-9-manasi.d.navare@intel.com>
 <CAKi4VAL-tKKmqETqUTtp8zfZ=aAawEvmxesvT9sPBhTg=TY_gA@mail.gmail.com>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <CAKi4VAL-tKKmqETqUTtp8zfZ=aAawEvmxesvT9sPBhTg=TY_gA@mail.gmail.com>
User-Agent: Mutt/1.5.24 (2015-08-30)
Subject: Re: [Intel-gfx] [PATCH v3 8/8] drm/i915/display/icl: In port sync
 mode disable slaves first then masters
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: Jani Nikula <jani.nikula@intel.com>,
 Intel Graphics <intel-gfx@lists.freedesktop.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

T24gTW9uLCBKdW4gMjQsIDIwMTkgYXQgMTE6MzQ6NDJQTSAtMDcwMCwgTHVjYXMgRGUgTWFyY2hp
IHdyb3RlOgo+IE9uIE1vbiwgSnVuIDI0LCAyMDE5IGF0IDI6MDcgUE0gTWFuYXNpIE5hdmFyZSA8
bWFuYXNpLmQubmF2YXJlQGludGVsLmNvbT4gd3JvdGU6Cj4gPgo+ID4gSW4gdGhlIHRyYW5zY29k
ZXIgcG9ydCBzeW5jIG1vZGUsIHRoZSBzbGF2ZSB0cmFuc2NvZGVycyBtYXNrIHRoZWlyIHZibGFu
a3MKPiA+IHVudGlsIG1hc3RlciB0cmFuc2NvZGVyJ3MgdmJsYW5rIHNvIHdoaWxlIGRpc2FibGlu
ZyB0aGVtLCBtYWtlCj4gPiBzdXJlIHNsYXZlcyBhcmUgZGlzYWJsZWQgZmlyc3QgYW5kIHRoZW4g
dGhlIG1hc3RlcnMuCj4gPgo+ID4gQ2M6IFZpbGxlIFN5cmrDpGzDpCA8dmlsbGUuc3lyamFsYUBs
aW51eC5pbnRlbC5jb20+Cj4gPiBDYzogTWFhcnRlbiBMYW5raG9yc3QgPG1hYXJ0ZW4ubGFua2hv
cnN0QGxpbnV4LmludGVsLmNvbT4KPiA+IENjOiBNYXR0IFJvcGVyIDxtYXR0aGV3LmQucm9wZXJA
aW50ZWwuY29tPgo+ID4gQ2M6IEphbmkgTmlrdWxhIDxqYW5pLm5pa3VsYUBpbnRlbC5jb20+Cj4g
PiBTaWduZWQtb2ZmLWJ5OiBNYW5hc2kgTmF2YXJlIDxtYW5hc2kuZC5uYXZhcmVAaW50ZWwuY29t
Pgo+ID4gLS0tCj4gPiAgZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5
LmMgfCAxMTcgKysrKysrKysrKysrKysrKysrLQo+ID4gIDEgZmlsZSBjaGFuZ2VkLCAxMTEgaW5z
ZXJ0aW9ucygrKSwgNiBkZWxldGlvbnMoLSkKPiA+Cj4gPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9n
cHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5LmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkx
NS9kaXNwbGF5L2ludGVsX2Rpc3BsYXkuYwo+ID4gaW5kZXggMGEwZDk3ZWYwM2Q2Li44NTc0NmEy
NmQwZTAgMTAwNjQ0Cj4gPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVs
X2Rpc3BsYXkuYwo+ID4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9k
aXNwbGF5LmMKPiA+IEBAIC0xMzkwMSw2ICsxMzkwMSwxMDYgQEAgc3RhdGljIHZvaWQgaW50ZWxf
Y29tbWl0X21vZGVzZXRfZGlzYWJsZXMoc3RydWN0IGRybV9hdG9taWNfc3RhdGUgKnN0YXRlKQo+
ID4gICAgICAgICB9Cj4gPiAgfQo+ID4KPiA+ICtzdGF0aWMgdm9pZCBpY2xfY29tbWl0X21vZGVz
ZXRfZGlzYWJsZXMoc3RydWN0IGRybV9hdG9taWNfc3RhdGUgKnN0YXRlKQo+ID4gK3sKPiA+ICsg
ICAgICAgc3RydWN0IGRybV9kZXZpY2UgKmRldiA9IHN0YXRlLT5kZXY7Cj4gPiArICAgICAgIHN0
cnVjdCBpbnRlbF9hdG9taWNfc3RhdGUgKmludGVsX3N0YXRlID0gdG9faW50ZWxfYXRvbWljX3N0
YXRlKHN0YXRlKTsKPiA+ICsgICAgICAgc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2
ID0gdG9faTkxNShkZXYpOwo+ID4gKyAgICAgICBzdHJ1Y3QgZHJtX2NydGNfc3RhdGUgKm9sZF9j
cnRjX3N0YXRlLCAqbmV3X2NydGNfc3RhdGU7Cj4gPiArICAgICAgIHN0cnVjdCBpbnRlbF9jcnRj
X3N0YXRlICpuZXdfaW50ZWxfY3J0Y19zdGF0ZSwgKm9sZF9pbnRlbF9jcnRjX3N0YXRlOwo+ID4g
KyAgICAgICBzdHJ1Y3QgZHJtX2NydGMgKmNydGM7Cj4gPiArICAgICAgIHN0cnVjdCBpbnRlbF9j
cnRjICppbnRlbF9jcnRjOwo+ID4gKyAgICAgICBpbnQgaTsKPiA+ICsKPiA+ICsgICAgICAgLyoK
PiA+ICsgICAgICAgICogRGlzYWJsZSBhbGwgdGhlIFBvcnQgU3luYyBTbGF2ZXMgZmlyc3QKPiA+
ICsgICAgICAgICovCj4gPiArICAgICAgIGZvcl9lYWNoX29sZG5ld19jcnRjX2luX3N0YXRlKHN0
YXRlLCBjcnRjLCBvbGRfY3J0Y19zdGF0ZSwgbmV3X2NydGNfc3RhdGUsIGkpIHsKPiA+ICsgICAg
ICAgICAgICAgICBvbGRfaW50ZWxfY3J0Y19zdGF0ZSA9IHRvX2ludGVsX2NydGNfc3RhdGUob2xk
X2NydGNfc3RhdGUpOwo+ID4gKyAgICAgICAgICAgICAgIG5ld19pbnRlbF9jcnRjX3N0YXRlID0g
dG9faW50ZWxfY3J0Y19zdGF0ZShuZXdfY3J0Y19zdGF0ZSk7Cj4gPiArICAgICAgICAgICAgICAg
aW50ZWxfY3J0YyA9IHRvX2ludGVsX2NydGMoY3J0Yyk7Cj4gPiArCj4gPiArICAgICAgICAgICAg
ICAgaWYgKCFuZWVkc19tb2Rlc2V0KG5ld19jcnRjX3N0YXRlKSB8fAo+ID4gKyAgICAgICAgICAg
ICAgICAgICAhaXNfdHJhbnNfcG9ydF9zeW5jX3NsYXZlKG9sZF9pbnRlbF9jcnRjX3N0YXRlKSkK
PiA+ICsgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOwo+ID4gKwo+ID4gKyAgICAgICAg
ICAgICAgIGludGVsX3ByZV9wbGFuZV91cGRhdGUob2xkX2ludGVsX2NydGNfc3RhdGUsIG5ld19p
bnRlbF9jcnRjX3N0YXRlKTsKPiA+ICsKPiA+ICsgICAgICAgICAgICAgICBpZiAob2xkX2NydGNf
c3RhdGUtPmFjdGl2ZSkgewo+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgaW50ZWxfY3J0Y19k
aXNhYmxlX3BsYW5lcyhpbnRlbF9zdGF0ZSwgaW50ZWxfY3J0Yyk7Cj4gPiArCj4gPiArICAgICAg
ICAgICAgICAgICAgICAgICAvKgo+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgICogV2UgbmVl
ZCB0byBkaXNhYmxlIHBpcGUgQ1JDIGJlZm9yZSBkaXNhYmxpbmcgdGhlIHBpcGUsCj4gPiArICAg
ICAgICAgICAgICAgICAgICAgICAgKiBvciB3ZSByYWNlIGFnYWluc3QgdmJsYW5rIG9mZi4KPiA+
ICsgICAgICAgICAgICAgICAgICAgICAgICAqLwo+ID4gKyAgICAgICAgICAgICAgICAgICAgICAg
aW50ZWxfY3J0Y19kaXNhYmxlX3BpcGVfY3JjKGludGVsX2NydGMpOwo+ID4gKwo+ID4gKyAgICAg
ICAgICAgICAgICAgICAgICAgZGV2X3ByaXYtPmRpc3BsYXkuY3J0Y19kaXNhYmxlKG9sZF9pbnRl
bF9jcnRjX3N0YXRlLCBzdGF0ZSk7Cj4gPiArICAgICAgICAgICAgICAgICAgICAgICBpbnRlbF9j
cnRjLT5hY3RpdmUgPSBmYWxzZTsKPiA+ICsgICAgICAgICAgICAgICAgICAgICAgIGludGVsX2Zi
Y19kaXNhYmxlKGludGVsX2NydGMpOwo+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgaW50ZWxf
ZGlzYWJsZV9zaGFyZWRfZHBsbChvbGRfaW50ZWxfY3J0Y19zdGF0ZSk7Cj4gPiArCj4gPiArICAg
ICAgICAgICAgICAgICAgICAgICAvKgo+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgICogVW5k
ZXJydW5zIGRvbid0IGFsd2F5cyByYWlzZSBpbnRlcnJ1cHRzLAo+ID4gKyAgICAgICAgICAgICAg
ICAgICAgICAgICogc28gY2hlY2sgbWFudWFsbHkuCj4gPiArICAgICAgICAgICAgICAgICAgICAg
ICAgKi8KPiA+ICsgICAgICAgICAgICAgICAgICAgICAgIGludGVsX2NoZWNrX2NwdV9maWZvX3Vu
ZGVycnVucyhkZXZfcHJpdik7Cj4gPiArICAgICAgICAgICAgICAgICAgICAgICBpbnRlbF9jaGVj
a19wY2hfZmlmb191bmRlcnJ1bnMoZGV2X3ByaXYpOwo+ID4gKwo+ID4gKyAgICAgICAgICAgICAg
ICAgICAgICAgLyogRklYTUUgdW5pZnkgdGhpcyBmb3IgYWxsIHBsYXRmb3JtcyAqLwo+ID4gKyAg
ICAgICAgICAgICAgICAgICAgICAgaWYgKCFuZXdfY3J0Y19zdGF0ZS0+YWN0aXZlICYmCj4gPiAr
ICAgICAgICAgICAgICAgICAgICAgICAgICAgIUhBU19HTUNIKGRldl9wcml2KSAmJgo+ID4gKyAg
ICAgICAgICAgICAgICAgICAgICAgICAgIGRldl9wcml2LT5kaXNwbGF5LmluaXRpYWxfd2F0ZXJt
YXJrcykKPiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGV2X3ByaXYtPmRpc3Bs
YXkuaW5pdGlhbF93YXRlcm1hcmtzKGludGVsX3N0YXRlLAo+ID4gKyAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3X2lu
dGVsX2NydGNfc3RhdGUpOwo+ID4gKyAgICAgICAgICAgICAgIH0KCkkgd2lsbCBtb3ZlIHRoaXMg
cGFydCBpbnNpZGUgaWYgKG9sZF9jcnRjX3N0YXRlLT5hY3RpdmUpIHRvIGEgaGVscGVyIGZ1bmN0
aW9uLgpBbnkgc3VnZ2VzdGlvbnMgb24gdGhlIG5hbWUgb2YgdGhpcyBoZWxwZXI/CgpNYW5hc2kK
Cj4gPiArICAgICAgIH0KPiA+ICsKPiA+ICsgICAgICAgLyoKPiA+ICsgICAgICAgICogRGlzYWJs
ZSByZXN0IG9mIHRoZSBDUlRDcyBvdGhlciB0aGFuIHNsYXZlcwo+ID4gKyAgICAgICAgKi8KPiA+
ICsgICAgICAgZm9yX2VhY2hfb2xkbmV3X2NydGNfaW5fc3RhdGUoc3RhdGUsIGNydGMsIG9sZF9j
cnRjX3N0YXRlLCBuZXdfY3J0Y19zdGF0ZSwgaSkgewo+ID4gKyAgICAgICAgICAgICAgIG9sZF9p
bnRlbF9jcnRjX3N0YXRlID0gdG9faW50ZWxfY3J0Y19zdGF0ZShvbGRfY3J0Y19zdGF0ZSk7Cj4g
PiArICAgICAgICAgICAgICAgbmV3X2ludGVsX2NydGNfc3RhdGUgPSB0b19pbnRlbF9jcnRjX3N0
YXRlKG5ld19jcnRjX3N0YXRlKTsKPiA+ICsgICAgICAgICAgICAgICBpbnRlbF9jcnRjID0gdG9f
aW50ZWxfY3J0YyhjcnRjKTsKPiA+ICsKPiA+ICsgICAgICAgICAgICAgICBpZiAoIW5lZWRzX21v
ZGVzZXQobmV3X2NydGNfc3RhdGUpIHx8Cj4gPiArICAgICAgICAgICAgICAgICAgIGlzX3RyYW5z
X3BvcnRfc3luY19zbGF2ZShvbGRfaW50ZWxfY3J0Y19zdGF0ZSkpCj4gPiArICAgICAgICAgICAg
ICAgICAgICAgICBjb250aW51ZTsKPiA+ICsKPiA+ICsgICAgICAgICAgICAgICBpbnRlbF9wcmVf
cGxhbmVfdXBkYXRlKG9sZF9pbnRlbF9jcnRjX3N0YXRlLCBuZXdfaW50ZWxfY3J0Y19zdGF0ZSk7
Cj4gPiArCj4gPiArICAgICAgICAgICAgICAgaWYgKG9sZF9jcnRjX3N0YXRlLT5hY3RpdmUpIHsK
PiA+ICsgICAgICAgICAgICAgICAgICAgICAgIGludGVsX2NydGNfZGlzYWJsZV9wbGFuZXMoaW50
ZWxfc3RhdGUsIGludGVsX2NydGMpOwo+ID4gKwo+ID4gKyAgICAgICAgICAgICAgICAgICAgICAg
LyoKPiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAqIFdlIG5lZWQgdG8gZGlzYWJsZSBwaXBl
IENSQyBiZWZvcmUgZGlzYWJsaW5nIHRoZSBwaXBlLAo+ID4gKyAgICAgICAgICAgICAgICAgICAg
ICAgICogb3Igd2UgcmFjZSBhZ2FpbnN0IHZibGFuayBvZmYuCj4gPiArICAgICAgICAgICAgICAg
ICAgICAgICAgKi8KPiA+ICsgICAgICAgICAgICAgICAgICAgICAgIGludGVsX2NydGNfZGlzYWJs
ZV9waXBlX2NyYyhpbnRlbF9jcnRjKTsKPiA+ICsKPiA+ICsgICAgICAgICAgICAgICAgICAgICAg
IGRldl9wcml2LT5kaXNwbGF5LmNydGNfZGlzYWJsZShvbGRfaW50ZWxfY3J0Y19zdGF0ZSwgc3Rh
dGUpOwo+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgaW50ZWxfY3J0Yy0+YWN0aXZlID0gZmFs
c2U7Cj4gPiArICAgICAgICAgICAgICAgICAgICAgICBpbnRlbF9mYmNfZGlzYWJsZShpbnRlbF9j
cnRjKTsKPiA+ICsgICAgICAgICAgICAgICAgICAgICAgIGludGVsX2Rpc2FibGVfc2hhcmVkX2Rw
bGwob2xkX2ludGVsX2NydGNfc3RhdGUpOwo+ID4gKwo+ID4gKyAgICAgICAgICAgICAgICAgICAg
ICAgLyoKPiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAqIFVuZGVycnVucyBkb24ndCBhbHdh
eXMgcmFpc2UgaW50ZXJydXB0cywKPiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAqIHNvIGNo
ZWNrIG1hbnVhbGx5Lgo+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgICovCj4gPiArICAgICAg
ICAgICAgICAgICAgICAgICBpbnRlbF9jaGVja19jcHVfZmlmb191bmRlcnJ1bnMoZGV2X3ByaXYp
Owo+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgaW50ZWxfY2hlY2tfcGNoX2ZpZm9fdW5kZXJy
dW5zKGRldl9wcml2KTsKPiA+ICsKPiA+ICsgICAgICAgICAgICAgICAgICAgICAgIC8qIEZJWE1F
IHVuaWZ5IHRoaXMgZm9yIGFsbCBwbGF0Zm9ybXMgKi8KPiA+ICsgICAgICAgICAgICAgICAgICAg
ICAgIGlmICghbmV3X2NydGNfc3RhdGUtPmFjdGl2ZSAmJgo+ID4gKyAgICAgICAgICAgICAgICAg
ICAgICAgICAgICFIQVNfR01DSChkZXZfcHJpdikgJiYKPiA+ICsgICAgICAgICAgICAgICAgICAg
ICAgICAgICBkZXZfcHJpdi0+ZGlzcGxheS5pbml0aWFsX3dhdGVybWFya3MpCj4gPiArICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgIGRldl9wcml2LT5kaXNwbGF5LmluaXRpYWxfd2F0ZXJt
YXJrcyhpbnRlbF9zdGF0ZSwKPiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld19pbnRlbF9jcnRjX3N0YXRlKTsK
PiA+ICsgICAgICAgICAgICAgICB9Cj4gPiArICAgICAgIH0KPiAKPiBOb3QgYSBmYW4gb2YgdGhp
cyBkdXBsaWNhdGUgY29kZSBoZXJlLiBBdCBsZWFzdCBhIGhlbHBlciBmdW5jdGlvbgo+IHdvdWxk
IGJlIG5lZWRlZC4KPiAKPiBKb3NlLCBkaWRuJ3QgeW91IGhhdmUgYSBwZW5kaW5nIHBhdGNoIHRv
IGRpc2FibGUgaW4gcmV2ZXJzZSBvcmRlciB0bwo+IHNvbHZlIHRoaXMgc2FtZSBwcm9ibGVtPwo+
IAo+IEx1Y2FzIERlIE1hcmNoaQo+IAo+ID4gK30KPiA+ICsKPiA+ICBzdGF0aWMgdm9pZCBpbnRl
bF9jb21taXRfbW9kZXNldF9lbmFibGVzKHN0cnVjdCBkcm1fYXRvbWljX3N0YXRlICpzdGF0ZSkK
PiA+ICB7Cj4gPiAgICAgICAgIHN0cnVjdCBkcm1fY3J0YyAqY3J0YzsKPiA+IEBAIC0xNDI1Nyw2
ICsxNDM1NywxMSBAQCBzdGF0aWMgdm9pZCBpbnRlbF9hdG9taWNfY29tbWl0X3RhaWwoc3RydWN0
IGRybV9hdG9taWNfc3RhdGUgKnN0YXRlKQo+ID4KPiA+ICAgICAgICAgaW50ZWxfYXRvbWljX2Nv
bW1pdF9mZW5jZV93YWl0KGludGVsX3N0YXRlKTsKPiA+Cj4gPiArICAgICAgIGRybV9hdG9taWNf
aGVscGVyX3dhaXRfZm9yX2RlcGVuZGVuY2llcyhzdGF0ZSk7Cj4gPiArCj4gPiArICAgICAgIGlm
IChpbnRlbF9zdGF0ZS0+bW9kZXNldCkKPiA+ICsgICAgICAgICAgICAgICB3YWtlcmVmID0gaW50
ZWxfZGlzcGxheV9wb3dlcl9nZXQoZGV2X3ByaXYsIFBPV0VSX0RPTUFJTl9NT0RFU0VUKTsKPiA+
ICsKPiA+ICAgICAgICAgZm9yX2VhY2hfb2xkbmV3X2NydGNfaW5fc3RhdGUoc3RhdGUsIGNydGMs
IG9sZF9jcnRjX3N0YXRlLCBuZXdfY3J0Y19zdGF0ZSwgaSkgewo+ID4gICAgICAgICAgICAgICAg
IG5ld19pbnRlbF9jcnRjX3N0YXRlID0gdG9faW50ZWxfY3J0Y19zdGF0ZShuZXdfY3J0Y19zdGF0
ZSk7Cj4gPiAgICAgICAgICAgICAgICAgaW50ZWxfY3J0YyA9IHRvX2ludGVsX2NydGMoY3J0Yyk7
Cj4gPiBAQCAtMTQyNjksMTEgKzE0Mzc0LDYgQEAgc3RhdGljIHZvaWQgaW50ZWxfYXRvbWljX2Nv
bW1pdF90YWlsKHN0cnVjdCBkcm1fYXRvbWljX3N0YXRlICpzdGF0ZSkKPiA+ICAgICAgICAgICAg
ICAgICB9Cj4gPiAgICAgICAgIH0KPiA+Cj4gPiAtICAgICAgIGRybV9hdG9taWNfaGVscGVyX3dh
aXRfZm9yX2RlcGVuZGVuY2llcyhzdGF0ZSk7Cj4gPiAtCj4gPiAtICAgICAgIGlmIChpbnRlbF9z
dGF0ZS0+bW9kZXNldCkKPiA+IC0gICAgICAgICAgICAgICB3YWtlcmVmID0gaW50ZWxfZGlzcGxh
eV9wb3dlcl9nZXQoZGV2X3ByaXYsIFBPV0VSX0RPTUFJTl9NT0RFU0VUKTsKPiA+IC0KPiA+ICAg
ICAgICAgZGV2X3ByaXYtPmRpc3BsYXkuY29tbWl0X21vZGVzZXRfZGlzYWJsZXMoc3RhdGUpOwo+
ID4KPiA+ICAgICAgICAgLyogRklYTUU6IEV2ZW50dWFsbHkgZ2V0IHJpZCBvZiBvdXIgaW50ZWxf
Y3J0Yy0+Y29uZmlnIHBvaW50ZXIgKi8KPiA+IEBAIC0xNjE3MCw3ICsxNjI3MCwxMiBAQCB2b2lk
IGludGVsX2luaXRfZGlzcGxheV9ob29rcyhzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3By
aXYpCj4gPiAgICAgICAgIGVsc2UKPiA+ICAgICAgICAgICAgICAgICBkZXZfcHJpdi0+ZGlzcGxh
eS5jb21taXRfbW9kZXNldF9lbmFibGVzID0gaW50ZWxfY29tbWl0X21vZGVzZXRfZW5hYmxlczsK
PiA+Cj4gPiAtICAgICAgIGRldl9wcml2LT5kaXNwbGF5LmNvbW1pdF9tb2Rlc2V0X2Rpc2FibGVz
ID0gaW50ZWxfY29tbWl0X21vZGVzZXRfZGlzYWJsZXM7Cj4gPiArICAgICAgIGlmIChJTlRFTF9H
RU4oZGV2X3ByaXYpID49IDExKQo+ID4gKyAgICAgICAgICAgICAgIGRldl9wcml2LT5kaXNwbGF5
LmNvbW1pdF9tb2Rlc2V0X2Rpc2FibGVzID0KPiA+ICsgICAgICAgICAgICAgICAgICAgICAgIGlj
bF9jb21taXRfbW9kZXNldF9kaXNhYmxlczsKPiA+ICsgICAgICAgZWxzZQo+ID4gKyAgICAgICAg
ICAgICAgIGRldl9wcml2LT5kaXNwbGF5LmNvbW1pdF9tb2Rlc2V0X2Rpc2FibGVzID0KPiA+ICsg
ICAgICAgICAgICAgICAgICAgICAgIGludGVsX2NvbW1pdF9tb2Rlc2V0X2Rpc2FibGVzOwo+ID4K
PiA+ICB9Cj4gPgo+ID4gLS0KPiA+IDIuMTkuMQo+ID4KPiA+IF9fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fCj4gPiBJbnRlbC1nZnggbWFpbGluZyBsaXN0Cj4g
PiBJbnRlbC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCj4gPiBodHRwczovL2xpc3RzLmZyZWVk
ZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2ludGVsLWdmeAo+IAo+IAo+IAo+IC0tIAo+IEx1
Y2FzIERlIE1hcmNoaQpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fXwpJbnRlbC1nZnggbWFpbGluZyBsaXN0CkludGVsLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5v
cmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9pbnRlbC1n
Zng=

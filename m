Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 82C6818A986
	for <lists+intel-gfx@lfdr.de>; Thu, 19 Mar 2020 00:58:59 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id A9E8B6E99B;
	Wed, 18 Mar 2020 23:58:55 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga06.intel.com (mga06.intel.com [134.134.136.31])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 4E9336E94A
 for <intel-gfx@lists.freedesktop.org>; Wed, 18 Mar 2020 23:58:51 +0000 (UTC)
IronPort-SDR: rlpN1U+XifV3wRXBHj5Dg6eDBcoWrPWZo4lbBXW0tZh1euqlK3SkRst7HcaErgzb2qreOtHDmr
 udhFEiEhPUqg==
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga001.jf.intel.com ([10.7.209.18])
 by orsmga104.jf.intel.com with ESMTP/TLS/ECDHE-RSA-AES256-GCM-SHA384;
 18 Mar 2020 16:58:48 -0700
IronPort-SDR: 4/bOhPHGfWEWiXYOZVsBQ/pUC/Vwcz1M5EGdFLg+v7/i+wKXzratEEI+jj2miAUA/gPe2E5jFI
 tyF88tywZQTw==
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.70,569,1574150400"; d="scan'208";a="324346277"
Received: from josouza-mobl2.jf.intel.com (HELO josouza-MOBL2.intel.com)
 ([10.24.15.8])
 by orsmga001.jf.intel.com with ESMTP; 18 Mar 2020 16:58:48 -0700
From: =?UTF-8?q?Jos=C3=A9=20Roberto=20de=20Souza?= <jose.souza@intel.com>
To: intel-gfx@lists.freedesktop.org
Date: Wed, 18 Mar 2020 16:59:52 -0700
Message-Id: <20200318235956.118409-2-jose.souza@intel.com>
X-Mailer: git-send-email 2.25.2
In-Reply-To: <20200318235956.118409-1-jose.souza@intel.com>
References: <20200318235956.118409-1-jose.souza@intel.com>
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH 2/6] drm/i915/display: Add
 intel_display_power_get_without_ack()
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: Cooper Chiou <cooper.chiou@intel.com>,
 Kai-Heng Feng <kai.heng.feng@canonical.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

VG8gaW1wbGVtZW50IElDTCBUQyBzdGF0aWMgc2VxdWVuY2VzIGlzIHJlcXVpcmVkIHRvIGdldCB0
aGUgcG9ydCBhdXgKcG93ZXJ3ZWxsIHdpdGhvdXQgd2FpdCBmb3IgaGFyZHdhcmUgYWNrLgoKQ2M6
IEltcmUgRGVhayA8aW1yZS5kZWFrQGludGVsLmNvbT4KQ2M6IENvb3BlciBDaGlvdSA8Y29vcGVy
LmNoaW91QGludGVsLmNvbT4KQ2M6IEthaS1IZW5nIEZlbmcgPGthaS5oZW5nLmZlbmdAY2Fub25p
Y2FsLmNvbT4KU2lnbmVkLW9mZi1ieTogSm9zw6kgUm9iZXJ0byBkZSBTb3V6YSA8am9zZS5zb3V6
YUBpbnRlbC5jb20+Ci0tLQogLi4uL2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheV9wb3dl
ci5jICAgIHwgNzEgKysrKysrKysrKysrKysrLS0tLQogLi4uL2RybS9pOTE1L2Rpc3BsYXkvaW50
ZWxfZGlzcGxheV9wb3dlci5oICAgIHwgMTIgKysrKwogMiBmaWxlcyBjaGFuZ2VkLCA3MSBpbnNl
cnRpb25zKCspLCAxMiBkZWxldGlvbnMoLSkKCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0v
aTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXlfcG93ZXIuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1
L2Rpc3BsYXkvaW50ZWxfZGlzcGxheV9wb3dlci5jCmluZGV4IDI0NmU0MDZiYjM4NS4uOTAzNWIy
MjBkZmEwIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rp
c3BsYXlfcG93ZXIuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rp
c3BsYXlfcG93ZXIuYwpAQCAtMTU3LDE0ICsxNTcsMjQgQEAgaW50ZWxfZGlzcGxheV9wb3dlcl9k
b21haW5fc3RyKGVudW0gaW50ZWxfZGlzcGxheV9wb3dlcl9kb21haW4gZG9tYWluKQogCX0KIH0K
IAotc3RhdGljIHZvaWQgaW50ZWxfcG93ZXJfd2VsbF9lbmFibGUoc3RydWN0IGRybV9pOTE1X3By
aXZhdGUgKmRldl9wcml2LAotCQkJCSAgICBzdHJ1Y3QgaTkxNV9wb3dlcl93ZWxsICpwb3dlcl93
ZWxsKQorc3RhdGljIHZvaWQgX2ludGVsX3Bvd2VyX3dlbGxfZW5hYmxlKHN0cnVjdCBkcm1faTkx
NV9wcml2YXRlICpkZXZfcHJpdiwKKwkJCQkgICAgIHN0cnVjdCBpOTE1X3Bvd2VyX3dlbGwgKnBv
d2VyX3dlbGwsCisJCQkJICAgICBib29sIHdhaXRfYWNrKQogewogCWRybV9kYmdfa21zKCZkZXZf
cHJpdi0+ZHJtLCAiZW5hYmxpbmcgJXNcbiIsIHBvd2VyX3dlbGwtPmRlc2MtPm5hbWUpOwotCXBv
d2VyX3dlbGwtPmRlc2MtPm9wcy0+ZW5hYmxlKGRldl9wcml2LCBwb3dlcl93ZWxsKTsKKwlpZiAo
d2FpdF9hY2sgfHwgIXBvd2VyX3dlbGwtPmRlc2MtPm9wcy0+ZW5hYmxlX3dpdGhvdXRfYWNrKQor
CQlwb3dlcl93ZWxsLT5kZXNjLT5vcHMtPmVuYWJsZShkZXZfcHJpdiwgcG93ZXJfd2VsbCk7CisJ
ZWxzZQorCQlwb3dlcl93ZWxsLT5kZXNjLT5vcHMtPmVuYWJsZV93aXRob3V0X2FjayhkZXZfcHJp
diwgcG93ZXJfd2VsbCk7CiAJcG93ZXJfd2VsbC0+aHdfZW5hYmxlZCA9IHRydWU7CiB9CiAKK3N0
YXRpYyB2b2lkIGludGVsX3Bvd2VyX3dlbGxfZW5hYmxlKHN0cnVjdCBkcm1faTkxNV9wcml2YXRl
ICpkZXZfcHJpdiwKKwkJCQkgICAgc3RydWN0IGk5MTVfcG93ZXJfd2VsbCAqcG93ZXJfd2VsbCkK
K3sKKwlfaW50ZWxfcG93ZXJfd2VsbF9lbmFibGUoZGV2X3ByaXYsIHBvd2VyX3dlbGwsIHRydWUp
OworfQorCiBzdGF0aWMgdm9pZCBpbnRlbF9wb3dlcl93ZWxsX2Rpc2FibGUoc3RydWN0IGRybV9p
OTE1X3ByaXZhdGUgKmRldl9wcml2LAogCQkJCSAgICAgc3RydWN0IGk5MTVfcG93ZXJfd2VsbCAq
cG93ZXJfd2VsbCkKIHsKQEAgLTE3NCwxMCArMTg0LDExIEBAIHN0YXRpYyB2b2lkIGludGVsX3Bv
d2VyX3dlbGxfZGlzYWJsZShzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYsCiB9CiAK
IHN0YXRpYyB2b2lkIGludGVsX3Bvd2VyX3dlbGxfZ2V0KHN0cnVjdCBkcm1faTkxNV9wcml2YXRl
ICpkZXZfcHJpdiwKLQkJCQkgc3RydWN0IGk5MTVfcG93ZXJfd2VsbCAqcG93ZXJfd2VsbCkKKwkJ
CQkgc3RydWN0IGk5MTVfcG93ZXJfd2VsbCAqcG93ZXJfd2VsbCwKKwkJCQkgYm9vbCB3YWl0X2Fj
aykKIHsKIAlpZiAoIXBvd2VyX3dlbGwtPmNvdW50KyspCi0JCWludGVsX3Bvd2VyX3dlbGxfZW5h
YmxlKGRldl9wcml2LCBwb3dlcl93ZWxsKTsKKwkJX2ludGVsX3Bvd2VyX3dlbGxfZW5hYmxlKGRl
dl9wcml2LCBwb3dlcl93ZWxsLCB3YWl0X2Fjayk7CiB9CiAKIHN0YXRpYyB2b2lkIGludGVsX3Bv
d2VyX3dlbGxfcHV0KHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiwKQEAgLTM1Myw4
ICszNjQsOSBAQCBzdGF0aWMgdm9pZCBnZW45X3dhaXRfZm9yX3Bvd2VyX3dlbGxfZnVzZXMoc3Ry
dWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2LAogCQkJCQkgIFNLTF9GVVNFX1BHX0RJU1Rf
U1RBVFVTKHBnKSwgMSkpOwogfQogCi1zdGF0aWMgdm9pZCBoc3dfcG93ZXJfd2VsbF9lbmFibGUo
c3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2LAotCQkJCSAgc3RydWN0IGk5MTVfcG93
ZXJfd2VsbCAqcG93ZXJfd2VsbCkKK3N0YXRpYyB2b2lkIF9oc3dfcG93ZXJfd2VsbF9lbmFibGUo
c3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2LAorCQkJCSAgIHN0cnVjdCBpOTE1X3Bv
d2VyX3dlbGwgKnBvd2VyX3dlbGwsCisJCQkJICAgYm9vbCB3YWl0X2FjaykKIHsKIAljb25zdCBz
dHJ1Y3QgaTkxNV9wb3dlcl93ZWxsX3JlZ3MgKnJlZ3MgPSBwb3dlcl93ZWxsLT5kZXNjLT5oc3cu
cmVnczsKIAlpbnQgcHdfaWR4ID0gcG93ZXJfd2VsbC0+ZGVzYy0+aHN3LmlkeDsKQEAgLTM3OSw3
ICszOTEsOCBAQCBzdGF0aWMgdm9pZCBoc3dfcG93ZXJfd2VsbF9lbmFibGUoc3RydWN0IGRybV9p
OTE1X3ByaXZhdGUgKmRldl9wcml2LAogCXZhbCA9IGludGVsX2RlX3JlYWQoZGV2X3ByaXYsIHJl
Z3MtPmRyaXZlcik7CiAJaW50ZWxfZGVfd3JpdGUoZGV2X3ByaXYsIHJlZ3MtPmRyaXZlciwKIAkJ
ICAgICAgIHZhbCB8IEhTV19QV1JfV0VMTF9DVExfUkVRKHB3X2lkeCkpOwotCWhzd193YWl0X2Zv
cl9wb3dlcl93ZWxsX2VuYWJsZShkZXZfcHJpdiwgcG93ZXJfd2VsbCk7CisJaWYgKHdhaXRfYWNr
KQorCQloc3dfd2FpdF9mb3JfcG93ZXJfd2VsbF9lbmFibGUoZGV2X3ByaXYsIHBvd2VyX3dlbGwp
OwogCiAJLyogRGlzcGxheSBXQSAjMTE3ODogY25sICovCiAJaWYgKElTX0NBTk5PTkxBS0UoZGV2
X3ByaXYpICYmCkBAIC0zOTgsNiArNDExLDEyIEBAIHN0YXRpYyB2b2lkIGhzd19wb3dlcl93ZWxs
X2VuYWJsZShzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYsCiAJCQkJICAgcG93ZXJf
d2VsbC0+ZGVzYy0+aHN3Lmhhc192Z2EpOwogfQogCitzdGF0aWMgdm9pZCBoc3dfcG93ZXJfd2Vs
bF9lbmFibGUoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2LAorCQkJCSAgc3RydWN0
IGk5MTVfcG93ZXJfd2VsbCAqcG93ZXJfd2VsbCkKK3sKKwlfaHN3X3Bvd2VyX3dlbGxfZW5hYmxl
KGRldl9wcml2LCBwb3dlcl93ZWxsLCB0cnVlKTsKK30KKwogc3RhdGljIHZvaWQgaHN3X3Bvd2Vy
X3dlbGxfZGlzYWJsZShzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYsCiAJCQkJICAg
c3RydWN0IGk5MTVfcG93ZXJfd2VsbCAqcG93ZXJfd2VsbCkKIHsKQEAgLTE5NjAsNyArMTk3OSw4
IEBAIGludGVsX2Rpc3BsYXlfcG93ZXJfZ3JhYl9hc3luY19wdXRfcmVmKHN0cnVjdCBkcm1faTkx
NV9wcml2YXRlICpkZXZfcHJpdiwKIAogc3RhdGljIHZvaWQKIF9faW50ZWxfZGlzcGxheV9wb3dl
cl9nZXRfZG9tYWluKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiwKLQkJCQkgZW51
bSBpbnRlbF9kaXNwbGF5X3Bvd2VyX2RvbWFpbiBkb21haW4pCisJCQkJIGVudW0gaW50ZWxfZGlz
cGxheV9wb3dlcl9kb21haW4gZG9tYWluLAorCQkJCSBib29sIHdhaXRfYWNrKQogewogCXN0cnVj
dCBpOTE1X3Bvd2VyX2RvbWFpbnMgKnBvd2VyX2RvbWFpbnMgPSAmZGV2X3ByaXYtPnBvd2VyX2Rv
bWFpbnM7CiAJc3RydWN0IGk5MTVfcG93ZXJfd2VsbCAqcG93ZXJfd2VsbDsKQEAgLTE5NjksNyAr
MTk4OSw3IEBAIF9faW50ZWxfZGlzcGxheV9wb3dlcl9nZXRfZG9tYWluKHN0cnVjdCBkcm1faTkx
NV9wcml2YXRlICpkZXZfcHJpdiwKIAkJcmV0dXJuOwogCiAJZm9yX2VhY2hfcG93ZXJfZG9tYWlu
X3dlbGwoZGV2X3ByaXYsIHBvd2VyX3dlbGwsIEJJVF9VTEwoZG9tYWluKSkKLQkJaW50ZWxfcG93
ZXJfd2VsbF9nZXQoZGV2X3ByaXYsIHBvd2VyX3dlbGwpOworCQlpbnRlbF9wb3dlcl93ZWxsX2dl
dChkZXZfcHJpdiwgcG93ZXJfd2VsbCwgd2FpdF9hY2spOwogCiAJcG93ZXJfZG9tYWlucy0+ZG9t
YWluX3VzZV9jb3VudFtkb21haW5dKys7CiB9CkBAIC0xOTkzLDcgKzIwMTMsMzQgQEAgaW50ZWxf
d2FrZXJlZl90IGludGVsX2Rpc3BsYXlfcG93ZXJfZ2V0KHN0cnVjdCBkcm1faTkxNV9wcml2YXRl
ICpkZXZfcHJpdiwKIAlpbnRlbF93YWtlcmVmX3Qgd2FrZXJlZiA9IGludGVsX3J1bnRpbWVfcG1f
Z2V0KCZkZXZfcHJpdi0+cnVudGltZV9wbSk7CiAKIAltdXRleF9sb2NrKCZwb3dlcl9kb21haW5z
LT5sb2NrKTsKLQlfX2ludGVsX2Rpc3BsYXlfcG93ZXJfZ2V0X2RvbWFpbihkZXZfcHJpdiwgZG9t
YWluKTsKKwlfX2ludGVsX2Rpc3BsYXlfcG93ZXJfZ2V0X2RvbWFpbihkZXZfcHJpdiwgZG9tYWlu
LCB0cnVlKTsKKwltdXRleF91bmxvY2soJnBvd2VyX2RvbWFpbnMtPmxvY2spOworCisJcmV0dXJu
IHdha2VyZWY7Cit9CisKKy8qKgorICogaW50ZWxfZGlzcGxheV9wb3dlcl9nZXRfd2l0aG91dF9h
Y2sgLSBncmFiIGEgcG93ZXIgZG9tYWluIHJlZmVyZW5jZSB3aXRob3V0CisgKiB3YWl0IGZvciBI
VyBhY2sKKyAqIEBkZXZfcHJpdjogaTkxNSBkZXZpY2UgaW5zdGFuY2UKKyAqIEBkb21haW46IHBv
d2VyIGRvbWFpbiB0byByZWZlcmVuY2UKKyAqCisgKiBUaGlzIGZ1bmN0aW9uIGdyYWJzIGEgcG93
ZXIgZG9tYWluIHJlZmVyZW5jZSBmb3IgQGRvbWFpbiBhbmQgZW5zdXJlcyB0aGF0IHRoZQorICog
cG93ZXIgZG9tYWluIGFuZCBhbGwgaXRzIHBhcmVudHMgYXJlIHBvd2VyZWQgdXAgYnV0IGl0IGRv
bid0IHdhaXQgZm9yCisgKiBoYXJkd2FyZSBhY2sgaWYgc3VwcG9ydGVkIGJ5IGVhY2ggcG93ZXJ3
ZWxsLiBVc2VycyBzaG91bGQgb25seSBncmFiIGEKKyAqIHJlZmVyZW5jZSB0byB0aGUgaW5uZXJt
b3N0IHBvd2VyIGRvbWFpbiB0aGV5IG5lZWQuCisgKgorICogQW55IHBvd2VyIGRvbWFpbiByZWZl
cmVuY2Ugb2J0YWluZWQgYnkgdGhpcyBmdW5jdGlvbiBtdXN0IGhhdmUgYSBzeW1tZXRyaWMKKyAq
IGNhbGwgdG8gaW50ZWxfZGlzcGxheV9wb3dlcl9wdXQoKSB0byByZWxlYXNlIHRoZSByZWZlcmVu
Y2UgYWdhaW4uCisgKi8KK2ludGVsX3dha2VyZWZfdCBpbnRlbF9kaXNwbGF5X3Bvd2VyX2dldF93
aXRob3V0X2FjayhzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYsCisJCQkJCQkgICAg
ZW51bSBpbnRlbF9kaXNwbGF5X3Bvd2VyX2RvbWFpbiBkb21haW4pCit7CisJc3RydWN0IGk5MTVf
cG93ZXJfZG9tYWlucyAqcG93ZXJfZG9tYWlucyA9ICZkZXZfcHJpdi0+cG93ZXJfZG9tYWluczsK
KwlpbnRlbF93YWtlcmVmX3Qgd2FrZXJlZiA9IGludGVsX3J1bnRpbWVfcG1fZ2V0KCZkZXZfcHJp
di0+cnVudGltZV9wbSk7CisKKwltdXRleF9sb2NrKCZwb3dlcl9kb21haW5zLT5sb2NrKTsKKwlf
X2ludGVsX2Rpc3BsYXlfcG93ZXJfZ2V0X2RvbWFpbihkZXZfcHJpdiwgZG9tYWluLCBmYWxzZSk7
CiAJbXV0ZXhfdW5sb2NrKCZwb3dlcl9kb21haW5zLT5sb2NrKTsKIAogCXJldHVybiB3YWtlcmVm
OwpAQCAtMjAyNiw3ICsyMDczLDcgQEAgaW50ZWxfZGlzcGxheV9wb3dlcl9nZXRfaWZfZW5hYmxl
ZChzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYsCiAJbXV0ZXhfbG9jaygmcG93ZXJf
ZG9tYWlucy0+bG9jayk7CiAKIAlpZiAoX19pbnRlbF9kaXNwbGF5X3Bvd2VyX2lzX2VuYWJsZWQo
ZGV2X3ByaXYsIGRvbWFpbikpIHsKLQkJX19pbnRlbF9kaXNwbGF5X3Bvd2VyX2dldF9kb21haW4o
ZGV2X3ByaXYsIGRvbWFpbik7CisJCV9faW50ZWxfZGlzcGxheV9wb3dlcl9nZXRfZG9tYWluKGRl
dl9wcml2LCBkb21haW4sIHRydWUpOwogCQlpc19lbmFibGVkID0gdHJ1ZTsKIAl9IGVsc2Ugewog
CQlpc19lbmFibGVkID0gZmFsc2U7CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9k
aXNwbGF5L2ludGVsX2Rpc3BsYXlfcG93ZXIuaCBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3Bs
YXkvaW50ZWxfZGlzcGxheV9wb3dlci5oCmluZGV4IGRhNjRhNWVkYWU3YS4uNWRiODZjYzg2MmMz
IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXlf
cG93ZXIuaAorKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXlf
cG93ZXIuaApAQCAtMTI5LDYgKzEyOSwxNiBAQCBzdHJ1Y3QgaTkxNV9wb3dlcl93ZWxsX29wcyB7
CiAJICovCiAJdm9pZCAoKmVuYWJsZSkoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2
LAogCQkgICAgICAgc3RydWN0IGk5MTVfcG93ZXJfd2VsbCAqcG93ZXJfd2VsbCk7CisKKwkvKgor
CSAqIEVuYWJsZSB0aGUgd2VsbCBhbmQgcmVzb3VyY2VzIHRoYXQgZGVwZW5kIG9uIGl0IChmb3Ig
ZXhhbXBsZQorCSAqIGludGVycnVwdHMgbG9jYXRlZCBvbiB0aGUgd2VsbCkgd2l0aG91dCByZWFk
aW5nIEhXIGFjay4gQ2FsbGVkIGFmdGVyCisJICogdGhlIDAtPjEgcmVmY291bnQgdHJhbnNpdGlv
bi4KKwkgKiBUaGlzIHdpbGwgYmUgdXNlZCBieSBUQyBzdWJzeXN0ZW0gYW5kIGl0IGlzIGEgb3B0
aW9uYWwgaG9vay4KKwkgKi8KKwl2b2lkICgqZW5hYmxlX3dpdGhvdXRfYWNrKShzdHJ1Y3QgZHJt
X2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYsCisJCQkJICAgc3RydWN0IGk5MTVfcG93ZXJfd2VsbCAq
cG93ZXJfd2VsbCk7CisKIAkvKgogCSAqIERpc2FibGUgdGhlIHdlbGwgYW5kIHJlc291cmNlcyB0
aGF0IGRlcGVuZCBvbiBpdC4gQ2FsbGVkIGFmdGVyCiAJICogdGhlIDEtPjAgcmVmY291bnQgdHJh
bnNpdGlvbi4KQEAgLTI3MCw2ICsyODAsOCBAQCBib29sIF9faW50ZWxfZGlzcGxheV9wb3dlcl9p
c19lbmFibGVkKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiwKIAkJCQkgICAgICBl
bnVtIGludGVsX2Rpc3BsYXlfcG93ZXJfZG9tYWluIGRvbWFpbik7CiBpbnRlbF93YWtlcmVmX3Qg
aW50ZWxfZGlzcGxheV9wb3dlcl9nZXQoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2
LAogCQkJCQllbnVtIGludGVsX2Rpc3BsYXlfcG93ZXJfZG9tYWluIGRvbWFpbik7CitpbnRlbF93
YWtlcmVmX3QgaW50ZWxfZGlzcGxheV9wb3dlcl9nZXRfd2l0aG91dF9hY2soc3RydWN0IGRybV9p
OTE1X3ByaXZhdGUgKmRldl9wcml2LAorCQkJCQkJICAgIGVudW0gaW50ZWxfZGlzcGxheV9wb3dl
cl9kb21haW4gZG9tYWluKTsKIGludGVsX3dha2VyZWZfdAogaW50ZWxfZGlzcGxheV9wb3dlcl9n
ZXRfaWZfZW5hYmxlZChzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYsCiAJCQkJICAg
ZW51bSBpbnRlbF9kaXNwbGF5X3Bvd2VyX2RvbWFpbiBkb21haW4pOwotLSAKMi4yNS4yCgpfX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpJbnRlbC1nZnggbWFp
bGluZyBsaXN0CkludGVsLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5m
cmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9pbnRlbC1nZngK

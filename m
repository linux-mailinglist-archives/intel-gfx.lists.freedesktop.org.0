Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 1E9F92A68EC
	for <lists+intel-gfx@lfdr.de>; Wed,  4 Nov 2020 17:01:56 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 6C2F76E096;
	Wed,  4 Nov 2020 16:01:54 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga01.intel.com (mga01.intel.com [192.55.52.88])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 2344F6E096
 for <intel-gfx@lists.freedesktop.org>; Wed,  4 Nov 2020 16:01:53 +0000 (UTC)
IronPort-SDR: UAIChXnQK9AknjFSE05aTDZlJKSICxBKRyK3NHy+DuqZKUbI1B+dCzJCdzNSAZxmMk7XYlD4tp
 T9k1E1Zx/XqA==
X-IronPort-AV: E=McAfee;i="6000,8403,9795"; a="187100096"
X-IronPort-AV: E=Sophos;i="5.77,451,1596524400"; d="scan'208";a="187100096"
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga004.jf.intel.com ([10.7.209.38])
 by fmsmga101.fm.intel.com with ESMTP/TLS/ECDHE-RSA-AES256-GCM-SHA384;
 04 Nov 2020 08:01:33 -0800
IronPort-SDR: 71gJ6YuuH9XLNQtkgIifmjFEHBs744F+KWsBz6odb141f/HZfVgjuFaoduY4T8YJd2uZPNg1tK
 aPwXgQ/skhoQ==
X-IronPort-AV: E=Sophos;i="5.77,451,1596524400"; d="scan'208";a="471270833"
Received: from htfallsi-mobl2.amr.corp.intel.com (HELO [10.252.48.69])
 ([10.252.48.69])
 by orsmga004-auth.jf.intel.com with ESMTP/TLS/ECDHE-RSA-AES256-GCM-SHA384;
 04 Nov 2020 08:01:17 -0800
To: =?UTF-8?Q?Thomas_Hellstr=c3=b6m?= <thomas.hellstrom@linux.intel.com>,
 intel-gfx@lists.freedesktop.org
References: <20201016104444.1492028-1-maarten.lankhorst@linux.intel.com>
 <20201016104444.1492028-32-maarten.lankhorst@linux.intel.com>
 <ef1ea178-f0d3-1bea-5c08-fd1602ac1f7b@linux.intel.com>
From: Maarten Lankhorst <maarten.lankhorst@linux.intel.com>
Message-ID: <dc6e6c59-a11e-eded-55c0-32a5bbf2f0c0@linux.intel.com>
Date: Wed, 4 Nov 2020 17:01:15 +0100
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:78.0) Gecko/20100101
 Thunderbird/78.4.0
MIME-Version: 1.0
In-Reply-To: <ef1ea178-f0d3-1bea-5c08-fd1602ac1f7b@linux.intel.com>
Content-Language: en-US
Subject: Re: [Intel-gfx] [PATCH v4 31/61] drm/i915: Prepare for obj->mm.lock
 removal
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: =?UTF-8?Q?Thomas_Hellstr=c3=b6m?= <thomas.hellstrom@intel.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

T3AgMDItMTEtMjAyMCBvbSAxMToxMyBzY2hyZWVmIFRob21hcyBIZWxsc3Ryw7ZtOgo+Cj4gT24g
MTAvMTYvMjAgMTI6NDQgUE0sIE1hYXJ0ZW4gTGFua2hvcnN0IHdyb3RlOgo+PiBGcm9tOiBUaG9t
YXMgSGVsbHN0csO2bSA8dGhvbWFzLmhlbGxzdHJvbUBpbnRlbC5jb20+Cj4+Cj4+IFN0b2xlbiBv
YmplY3RzIG5lZWQgdG8gbG9jaywgYW5kIHdlIG1heSBjYWxsIHB1dF9wYWdlcyB3aGVuCj4+IHJl
ZmNvdW50IGRyb3BzIHRvIDAsIGVuc3VyZSBhbGwgY2FsbHMgYXJlIGhhbmRsZWQgY29ycmVjdGx5
Lgo+Pgo+PiBJZGVhLWZyb206IFRob21hcyBIZWxsc3Ryw7ZtIDx0aG9tYXMuaGVsbHN0cm9tQGlu
dGVsLmNvbT4KPj4gU2lnbmVkLW9mZi1ieTogTWFhcnRlbiBMYW5raG9yc3QgPG1hYXJ0ZW4ubGFu
a2hvcnN0QGxpbnV4LmludGVsLmNvbT4KPj4gLS0tCj4+IMKgIGRyaXZlcnMvZ3B1L2RybS9pOTE1
L2dlbS9pOTE1X2dlbV9vYmplY3QuaCB8IDE0ICsrKysrKysrKysrKysrCj4+IMKgIGRyaXZlcnMv
Z3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9wYWdlcy5jwqAgfCAxNCArKysrKysrKysrKystLQo+
PiDCoCBkcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fc3RvbGVuLmMgfCAxMCArKysr
KysrKystCj4+IMKgIDMgZmlsZXMgY2hhbmdlZCwgMzUgaW5zZXJ0aW9ucygrKSwgMyBkZWxldGlv
bnMoLSkKPj4KPj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dl
bV9vYmplY3QuaCBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9vYmplY3QuaAo+
PiBpbmRleCA4ZGI4NGNlMDlkOWYuLmEzYTcwMWQ4NDliZiAxMDA2NDQKPj4gLS0tIGEvZHJpdmVy
cy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX29iamVjdC5oCj4+ICsrKyBiL2RyaXZlcnMvZ3B1
L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9vYmplY3QuaAo+PiBAQCAtMTEyLDYgKzExMiwyMCBAQCBp
OTE1X2dlbV9vYmplY3RfcHV0KHN0cnVjdCBkcm1faTkxNV9nZW1fb2JqZWN0ICpvYmopCj4+IMKg
IMKgICNkZWZpbmUgYXNzZXJ0X29iamVjdF9oZWxkKG9iaikgZG1hX3Jlc3ZfYXNzZXJ0X2hlbGQo
KG9iaiktPmJhc2UucmVzdikKPj4gwqAgKy8qCj4+ICsgKiBJZiBtb3JlIHRoYW4gb25lIHBvdGVu
dGlhbCBzaW11bHRhbmVvdXMgbG9ja2VyLCBhc3NlcnQgaGVsZC4KPj4gKyAqLwo+PiArc3RhdGlj
IGlubGluZSB2b2lkIGFzc2VydF9vYmplY3RfaGVsZF9zaGFyZWQoc3RydWN0IGRybV9pOTE1X2dl
bV9vYmplY3QgKm9iaikKPj4gK3sKPj4gK8KgwqDCoCAvKgo+PiArwqDCoMKgwqAgKiBOb3RlIG1t
IGxpc3QgbG9va3VwIGlzIHByb3RlY3RlZCBieQo+PiArwqDCoMKgwqAgKiBrcmVmX2dldF91bmxl
c3NfemVybygpLgo+PiArwqDCoMKgwqAgKi8KPj4gK8KgwqDCoCBpZiAoSVNfRU5BQkxFRChDT05G
SUdfTE9DS0RFUCkgJiYKPj4gK8KgwqDCoMKgwqDCoMKgIGtyZWZfcmVhZCgmb2JqLT5iYXNlLnJl
ZmNvdW50KSA+IDApCj4+ICvCoMKgwqDCoMKgwqDCoCBsb2NrZGVwX2Fzc2VydF9oZWxkKCZvYmot
Pm1tLmxvY2spOwo+PiArfQo+PiArCj4+IMKgIHN0YXRpYyBpbmxpbmUgaW50IF9faTkxNV9nZW1f
b2JqZWN0X2xvY2soc3RydWN0IGRybV9pOTE1X2dlbV9vYmplY3QgKm9iaiwKPj4gwqDCoMKgwqDC
oMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqAgc3RydWN0IGk5MTVfZ2VtX3d3X2N0
eCAqd3csCj4+IMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgIGJv
b2wgaW50cikKPj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dl
bV9wYWdlcy5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX3BhZ2VzLmMKPj4g
aW5kZXggZWYxZDVmYWJkMDc3Li40MjllYzY1MmMzOTQgMTAwNjQ0Cj4+IC0tLSBhL2RyaXZlcnMv
Z3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9wYWdlcy5jCj4+ICsrKyBiL2RyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2dlbS9pOTE1X2dlbV9wYWdlcy5jCj4+IEBAIC0xOCw3ICsxOCw3IEBAIHZvaWQgX19p
OTE1X2dlbV9vYmplY3Rfc2V0X3BhZ2VzKHN0cnVjdCBkcm1faTkxNV9nZW1fb2JqZWN0ICpvYmos
Cj4+IMKgwqDCoMKgwqAgdW5zaWduZWQgbG9uZyBzdXBwb3J0ZWQgPSBJTlRFTF9JTkZPKGk5MTUp
LT5wYWdlX3NpemVzOwo+PiDCoMKgwqDCoMKgIGludCBpOwo+PiDCoCAtwqDCoMKgIGxvY2tkZXBf
YXNzZXJ0X2hlbGQoJm9iai0+bW0ubG9jayk7Cj4+ICvCoMKgwqAgYXNzZXJ0X29iamVjdF9oZWxk
X3NoYXJlZChvYmopOwo+PiDCoCDCoMKgwqDCoMKgIGlmIChpOTE1X2dlbV9vYmplY3RfaXNfdm9s
YXRpbGUob2JqKSkKPj4gwqDCoMKgwqDCoMKgwqDCoMKgIG9iai0+bW0ubWFkdiA9IEk5MTVfTUFE
Vl9ET05UTkVFRDsKPj4gQEAgLTY3LDYgKzY3LDcgQEAgdm9pZCBfX2k5MTVfZ2VtX29iamVjdF9z
ZXRfcGFnZXMoc3RydWN0IGRybV9pOTE1X2dlbV9vYmplY3QgKm9iaiwKPj4gwqDCoMKgwqDCoMKg
wqDCoMKgIHN0cnVjdCBsaXN0X2hlYWQgKmxpc3Q7Cj4+IMKgwqDCoMKgwqDCoMKgwqDCoCB1bnNp
Z25lZCBsb25nIGZsYWdzOwo+PiDCoCArwqDCoMKgwqDCoMKgwqAgbG9ja2RlcF9hc3NlcnRfaGVs
ZCgmb2JqLT5tbS5sb2NrKTsKPj4gwqDCoMKgwqDCoMKgwqDCoMKgIHNwaW5fbG9ja19pcnFzYXZl
KCZpOTE1LT5tbS5vYmpfbG9jaywgZmxhZ3MpOwo+PiDCoCDCoMKgwqDCoMKgwqDCoMKgwqAgaTkx
NS0+bW0uc2hyaW5rX2NvdW50Kys7Cj4+IEBAIC04OCw2ICs4OSw4IEBAIGludCBfX19faTkxNV9n
ZW1fb2JqZWN0X2dldF9wYWdlcyhzdHJ1Y3QgZHJtX2k5MTVfZ2VtX29iamVjdCAqb2JqKQo+PiDC
oMKgwqDCoMKgIHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICppOTE1ID0gdG9faTkxNShvYmotPmJh
c2UuZGV2KTsKPj4gwqDCoMKgwqDCoCBpbnQgZXJyOwo+PiDCoCArwqDCoMKgIGFzc2VydF9vYmpl
Y3RfaGVsZF9zaGFyZWQob2JqKTsKPj4gKwo+PiDCoMKgwqDCoMKgIGlmICh1bmxpa2VseShvYmot
Pm1tLm1hZHYgIT0gSTkxNV9NQURWX1dJTExORUVEKSkgewo+PiDCoMKgwqDCoMKgwqDCoMKgwqAg
ZHJtX2RiZygmaTkxNS0+ZHJtLAo+PiDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoCAiQXR0ZW1w
dGluZyB0byBvYnRhaW4gYSBwdXJnZWFibGUgb2JqZWN0XG4iKTsKPj4gQEAgLTExNSw2ICsxMTgs
OCBAQCBpbnQgX19pOTE1X2dlbV9vYmplY3RfZ2V0X3BhZ2VzKHN0cnVjdCBkcm1faTkxNV9nZW1f
b2JqZWN0ICpvYmopCj4+IMKgwqDCoMKgwqAgaWYgKGVycikKPj4gwqDCoMKgwqDCoMKgwqDCoMKg
IHJldHVybiBlcnI7Cj4+IMKgICvCoMKgwqAgYXNzZXJ0X29iamVjdF9oZWxkX3NoYXJlZChvYmop
Owo+PiArCj4+IMKgwqDCoMKgwqAgaWYgKHVubGlrZWx5KCFpOTE1X2dlbV9vYmplY3RfaGFzX3Bh
Z2VzKG9iaikpKSB7Cj4+IMKgwqDCoMKgwqDCoMKgwqDCoCBHRU1fQlVHX09OKGk5MTVfZ2VtX29i
amVjdF9oYXNfcGlubmVkX3BhZ2VzKG9iaikpOwo+PiDCoCBAQCAtMTQyLDcgKzE0Nyw3IEBAIHZv
aWQgaTkxNV9nZW1fb2JqZWN0X3RydW5jYXRlKHN0cnVjdCBkcm1faTkxNV9nZW1fb2JqZWN0ICpv
YmopCj4+IMKgIC8qIFRyeSB0byBkaXNjYXJkIHVud2FudGVkIHBhZ2VzICovCj4+IMKgIHZvaWQg
aTkxNV9nZW1fb2JqZWN0X3dyaXRlYmFjayhzdHJ1Y3QgZHJtX2k5MTVfZ2VtX29iamVjdCAqb2Jq
KQo+PiDCoCB7Cj4+IC3CoMKgwqAgbG9ja2RlcF9hc3NlcnRfaGVsZCgmb2JqLT5tbS5sb2NrKTsK
Pj4gK8KgwqDCoCBhc3NlcnRfb2JqZWN0X2hlbGRfc2hhcmVkKG9iaik7Cj4+IMKgwqDCoMKgwqAg
R0VNX0JVR19PTihpOTE1X2dlbV9vYmplY3RfaGFzX3BhZ2VzKG9iaikpOwo+PiDCoCDCoMKgwqDC
oMKgIGlmIChvYmotPm9wcy0+d3JpdGViYWNrKQo+PiBAQCAtMTc1LDYgKzE4MCw4IEBAIF9faTkx
NV9nZW1fb2JqZWN0X3Vuc2V0X3BhZ2VzKHN0cnVjdCBkcm1faTkxNV9nZW1fb2JqZWN0ICpvYmop
Cj4+IMKgIHsKPj4gwqDCoMKgwqDCoCBzdHJ1Y3Qgc2dfdGFibGUgKnBhZ2VzOwo+PiDCoCArwqDC
oMKgIGFzc2VydF9vYmplY3RfaGVsZF9zaGFyZWQob2JqKTsKPj4gKwo+PiDCoMKgwqDCoMKgIHBh
Z2VzID0gZmV0Y2hfYW5kX3plcm8oJm9iai0+bW0ucGFnZXMpOwo+PiDCoMKgwqDCoMKgIGlmIChJ
U19FUlJfT1JfTlVMTChwYWdlcykpCj4+IMKgwqDCoMKgwqDCoMKgwqDCoCByZXR1cm4gcGFnZXM7
Cj4+IEBAIC0yMDIsNiArMjA5LDkgQEAgaW50IF9faTkxNV9nZW1fb2JqZWN0X3B1dF9wYWdlc19s
b2NrZWQoc3RydWN0IGRybV9pOTE1X2dlbV9vYmplY3QgKm9iaikKPj4gwqDCoMKgwqDCoCBpZiAo
aTkxNV9nZW1fb2JqZWN0X2hhc19waW5uZWRfcGFnZXMob2JqKSkKPj4gwqDCoMKgwqDCoMKgwqDC
oMKgIHJldHVybiAtRUJVU1k7Cj4+IMKgICvCoMKgwqAgLyogTWF5IGJlIGNhbGxlZCBieSBzaHJp
bmtlciBmcm9tIHdpdGhpbiBnZXRfcGFnZXMoKSAob24gYW5vdGhlciBibykgKi8KPj4gK8KgwqDC
oCBhc3NlcnRfb2JqZWN0X2hlbGRfc2hhcmVkKG9iaik7Cj4+ICsKPj4gwqDCoMKgwqDCoCBpOTE1
X2dlbV9vYmplY3RfcmVsZWFzZV9tbWFwX29mZnNldChvYmopOwo+PiDCoCDCoMKgwqDCoMKgIC8q
Cj4+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fc3RvbGVu
LmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fc3RvbGVuLmMKPj4gaW5kZXgg
OWE5MjQyYjVhOTlmLi4xZmQyODdjZTg2ZjQgMTAwNjQ0Cj4+IC0tLSBhL2RyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2dlbS9pOTE1X2dlbV9zdG9sZW4uYwo+PiArKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkx
NS9nZW0vaTkxNV9nZW1fc3RvbGVuLmMKPj4gQEAgLTU5MywxMSArNTkzLDE5IEBAIF9faTkxNV9n
ZW1fb2JqZWN0X2NyZWF0ZV9zdG9sZW4oc3RydWN0IGludGVsX21lbW9yeV9yZWdpb24gKm1lbSwK
Pj4gwqDCoMKgwqDCoCBjYWNoZV9sZXZlbCA9IEhBU19MTEMobWVtLT5pOTE1KSA/IEk5MTVfQ0FD
SEVfTExDIDogSTkxNV9DQUNIRV9OT05FOwo+PiDCoMKgwqDCoMKgIGk5MTVfZ2VtX29iamVjdF9z
ZXRfY2FjaGVfY29oZXJlbmN5KG9iaiwgY2FjaGVfbGV2ZWwpOwo+PiDCoCArwqDCoMKgIGlmIChX
QVJOX09OKCFpOTE1X2dlbV9vYmplY3RfdHJ5bG9jayhvYmopKSkgewo+PiArwqDCoMKgwqDCoMKg
wqAgZXJyID0gLUVCVVNZOwo+PiArwqDCoMKgwqDCoMKgwqAgZ290byBjbGVhbnVwOwo+PiArwqDC
oMKgIH0KPgo+IFdlIHNob3VsZCBwcm9iYWJseSBrZWVwIHRoZSBfaXNvbGF0ZWQgYW5ub3RhdGlv
biBoZXJlLiBJIHRoaW5rIGl0IG5lZWRzIHRvIGJlIHVzZWQgZWxzZXdoZXJlIGFueXdheS4KPgo+
IE90aGVyd2lzZQo+Cj4gU2lnbmVkLW9mZi1ieTogVGhvbWFzIEhlbGxzdHLDtm0gPHRob21hcy5o
ZWxsc3Ryb21AbGludXguaW50ZWwuY29tPgo+Cj4KSSB0aGluayBpdCdzIGJlc3Qgbm90IHRvIHJl
aW50cm9kdWNlIGxvY2tfaXNvbGF0ZWQsIGJ1dCBvcGVuIGNvZGUgaXQgd2l0aCBhIGJpZyBjb21t
ZW50IHdoeSBpdCdzIG5lZWRlZCBldmVyeSB0aW1lLiA6KQoKX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX18KSW50ZWwtZ2Z4IG1haWxpbmcgbGlzdApJbnRlbC1n
ZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21h
aWxtYW4vbGlzdGluZm8vaW50ZWwtZ2Z4Cg==

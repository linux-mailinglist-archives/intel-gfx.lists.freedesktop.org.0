Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id C6B97126FE2
	for <lists+intel-gfx@lfdr.de>; Thu, 19 Dec 2019 22:44:39 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 604A56E08E;
	Thu, 19 Dec 2019 21:44:36 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga05.intel.com (mga05.intel.com [192.55.52.43])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 89F096E08E
 for <intel-gfx@lists.freedesktop.org>; Thu, 19 Dec 2019 21:44:35 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from fmsmga002.fm.intel.com ([10.253.24.26])
 by fmsmga105.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 19 Dec 2019 13:44:35 -0800
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.69,333,1571727600"; d="scan'208";a="248470137"
Received: from orsmsx101.amr.corp.intel.com ([10.22.225.128])
 by fmsmga002.fm.intel.com with ESMTP; 19 Dec 2019 13:44:35 -0800
Received: from orsmsx158.amr.corp.intel.com (10.22.240.20) by
 ORSMSX101.amr.corp.intel.com (10.22.225.128) with Microsoft SMTP Server (TLS)
 id 14.3.439.0; Thu, 19 Dec 2019 13:44:34 -0800
Received: from orsmsx101.amr.corp.intel.com ([169.254.8.147]) by
 ORSMSX158.amr.corp.intel.com ([169.254.10.88]) with mapi id 14.03.0439.000;
 Thu, 19 Dec 2019 13:44:34 -0800
From: "Sripada, Radhakrishna" <radhakrishna.sripada@intel.com>
To: "intel-gfx@lists.freedesktop.org" <intel-gfx@lists.freedesktop.org>,
 "Deak, Imre" <imre.deak@intel.com>
Thread-Topic: [Intel-gfx] [PATCH 13/15] drm/i915/tgl: Gen-12 display can
 decompress surfaces compressed by the media engine
Thread-Index: AQHVtb3leD3qQDfG9UirXTy7/gjFLafChZUA
Date: Thu, 19 Dec 2019 21:44:33 +0000
Message-ID: <3508332318f4a4ce93303ea30a73198582d81b67.camel@intel.com>
References: <20191218161105.30638-1-imre.deak@intel.com>
 <20191218161105.30638-14-imre.deak@intel.com>
In-Reply-To: <20191218161105.30638-14-imre.deak@intel.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-originating-ip: [10.24.15.3]
Content-ID: <ACEC344E32092D4197867F788DA27C1F@intel.com>
MIME-Version: 1.0
Subject: Re: [Intel-gfx] [PATCH 13/15] drm/i915/tgl: Gen-12 display can
 decompress surfaces compressed by the media engine
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: "De Marchi, Lucas" <lucas.demarchi@intel.com>, "Chery,
 Nanley G" <nanley.g.chery@intel.com>, "Pandiyan,
 Dhinakaran" <dhinakaran.pandiyan@intel.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

T24gV2VkLCAyMDE5LTEyLTE4IGF0IDE4OjExICswMjAwLCBJbXJlIERlYWsgd3JvdGU6DQo+IEZy
b206IERoaW5ha2FyYW4gUGFuZGl5YW4gPGRoaW5ha2FyYW4ucGFuZGl5YW5AaW50ZWwuY29tPg0K
PiANCj4gRGV0ZWN0IHRoZSBtb2RpZmllciBjb3JyZXNwb25kaW5nIHRvIG1lZGlhIGNvbXByZXNz
aW9uIHRvIGVuYWJsZQ0KPiBkaXNwbGF5IGRlY29tcHJlc3Npb24gZm9yIFlVViBhbmQgeFJHQiBw
YWNrZWQgZm9ybWF0cy4gQSBuZXcgbW9kaWZpZXINCj4gaXMNCj4gYWRkZWQgc28gdGhhdCB0aGUg
ZHJpdmVyIGNhbiBkaXN0aW5ndWlzaCBiZXR3ZWVuIG1lZGlhIGFuZCByZW5kZXINCj4gY29tcHJl
c3NlZCBidWZmZXJzLiBVbmxpa2UgcmVuZGVyIGRlY29tcHJlc3Npb24sIHBsYW5lIDYgYW5kICBw
bGFuZSA3DQo+IGRvIG5vdA0KPiBzdXBwb3J0IG1lZGlhIGRlY29tcHJlc3Npb24uDQo+IA0KPiB2
MjogRml4IGNoZWNrcGF0Y2ggd2FybmluZ3Mgb24gY29kZSBzdHlsZSAoTHVjYXMpDQo+IA0KPiBG
cm9tIERLOg0KPiBTZXBhcmF0ZSBtb2RpZmllciBhcnJheSBmb3IgcGxhbmVzIHRoYXQgY2Fubm90
IGRlY29tcHJlc3MgbWVkaWENCj4gKFZpbGxlKQ0KPiANCj4gdjM6IFN1cHBvcnQgcGxhbmFyIGZv
cm1hdHMNCj4gdjQ6IFN3aXRjaCBwbGFuZSBvcmRlcg0KPiB2NToNCj4gLSBVc2UgZm9ybWF0IGJs
b2NrIGRlc2NyaXB0b3JzIHRvIGdldCBDQ1Mgc3Vic2FtcGxpbmcgY2FsY3VsYXRpb24NCj4gcmln
aHQNCj4gICBldmVyeXdoZXJlLg0KPiAtIEV4dGVuZCB0aGUgcGxhbmUgc3RhdGUgbm9ybWFsIHZp
ZXcgYXJyYXkgdG8gYWNjb21tb2RhdGUgNCBjb2xvcg0KPiBwbGFuZXMuDQo+IC0gVXNlIGhlbHBl
cnMgdG8gY29udmVydCBiZXR3ZWVuIG1haW4gYW5kIENDUyBwbGFuZXMuDQo+IA0KPiBDYzogTmFu
bGV5IEcgQ2hlcnkgPG5hbmxleS5nLmNoZXJ5QGludGVsLmNvbT4NCj4gQ2M6IFZpbGxlIFN5cmrD
pGzDpCA8dmlsbGUuc3lyamFsYUBsaW51eC5pbnRlbC5jb20+DQo+IENjOiBNYXR0IFJvcGVyIDxt
YXR0aGV3LmQucm9wZXJAaW50ZWwuY29tPg0KUmV2aWV3ZWQtYnk6IFJhZGhha3Jpc2huYSBTcmlw
YWRhIDxyYWRoYWtyaXNobmEuc3JpcGFkYUBpbnRlbC5jb20+DQoNCj4gU2lnbmVkLW9mZi1ieTog
RGhpbmFrYXJhbiBQYW5kaXlhbiA8ZGhpbmFrYXJhbi5wYW5kaXlhbkBpbnRlbC5jb20+DQo+IFNp
Z25lZC1vZmYtYnk6IEx1Y2FzIERlIE1hcmNoaSA8bHVjYXMuZGVtYXJjaGlAaW50ZWwuY29tPg0K
PiBTaWduZWQtb2ZmLWJ5OiBJbXJlIERlYWsgPGltcmUuZGVha0BpbnRlbC5jb20+DQo+IC0tLQ0K
PiAgZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5LmMgIHwgMTgwICsr
KysrKysrKysrKysrDQo+IC0tLS0NCj4gIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50
ZWxfZGlzcGxheS5oICB8ICAgMSArDQo+ICAuLi4vZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNw
bGF5X3R5cGVzLmggICAgfCAgIDYgKy0NCj4gIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkv
aW50ZWxfc3ByaXRlLmMgICB8ICA1NSArKysrLS0NCj4gIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2k5
MTVfcmVnLmggICAgICAgICAgICAgICB8ICAgMSArDQo+ICA1IGZpbGVzIGNoYW5nZWQsIDE4OCBp
bnNlcnRpb25zKCspLCA1NSBkZWxldGlvbnMoLSkNCj4gDQo+IGRpZmYgLS1naXQgYS9kcml2ZXJz
L2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXkuYw0KPiBiL2RyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheS5jDQo+IGluZGV4IDhiMzZjMzNiYjYzZS4uMWMy
YmVjZjQ3YmZkIDEwMDY0NA0KPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2lu
dGVsX2Rpc3BsYXkuYw0KPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVs
X2Rpc3BsYXkuYw0KPiBAQCAtMTk0Myw3ICsxOTQzLDkgQEAgc3RhdGljIGJvb2wgaXNfY2NzX3Bs
YW5lKGNvbnN0IHN0cnVjdA0KPiBkcm1fZnJhbWVidWZmZXIgKmZiLCBpbnQgcGxhbmUpDQo+ICAN
Cj4gIHN0YXRpYyBib29sIGlzX2dlbjEyX2Njc19tb2RpZmllcih1NjQgbW9kaWZpZXIpDQo+ICB7
DQo+IC0JcmV0dXJuIG1vZGlmaWVyID09IEk5MTVfRk9STUFUX01PRF9ZX1RJTEVEX0dFTjEyX1JD
X0NDUzsNCj4gKwlyZXR1cm4gbW9kaWZpZXIgPT0gSTkxNV9GT1JNQVRfTU9EX1lfVElMRURfR0VO
MTJfUkNfQ0NTIHx8DQo+ICsJICAgICAgIG1vZGlmaWVyID09IEk5MTVfRk9STUFUX01PRF9ZX1RJ
TEVEX0dFTjEyX01DX0NDUzsNCj4gKw0KPiAgfQ0KPiAgDQo+ICBzdGF0aWMgYm9vbCBpc19nZW4x
Ml9jY3NfcGxhbmUoY29uc3Qgc3RydWN0IGRybV9mcmFtZWJ1ZmZlciAqZmIsIGludA0KPiBwbGFu
ZSkNCj4gQEAgLTE5NzYsOCArMTk3OCw3IEBAIHN0YXRpYyBpbnQgY2NzX3RvX21haW5fcGxhbmUo
Y29uc3Qgc3RydWN0DQo+IGRybV9mcmFtZWJ1ZmZlciAqZmIsIGludCBjY3NfcGxhbmUpDQo+ICB9
DQo+ICANCj4gIC8qIFJldHVybiBlaXRoZXIgdGhlIG1haW4gcGxhbmUncyBDQ1Mgb3IgLSBpZiBu
b3QgYSBDQ1MgRkIgLSBVVg0KPiBwbGFuZSAqLw0KPiAtc3RhdGljIGludA0KPiAtaW50ZWxfbWFp
bl90b19hdXhfcGxhbmUoY29uc3Qgc3RydWN0IGRybV9mcmFtZWJ1ZmZlciAqZmIsIGludA0KPiBt
YWluX3BsYW5lKQ0KPiAraW50IGludGVsX21haW5fdG9fYXV4X3BsYW5lKGNvbnN0IHN0cnVjdCBk
cm1fZnJhbWVidWZmZXIgKmZiLCBpbnQNCj4gbWFpbl9wbGFuZSkNCj4gIHsNCj4gIAlpZiAoaXNf
Y2NzX21vZGlmaWVyKGZiLT5tb2RpZmllcikpDQo+ICAJCXJldHVybiBtYWluX3RvX2Njc19wbGFu
ZShmYiwgbWFpbl9wbGFuZSk7DQo+IEBAIC0yMDEyLDYgKzIwMTMsNyBAQCBpbnRlbF90aWxlX3dp
ZHRoX2J5dGVzKGNvbnN0IHN0cnVjdA0KPiBkcm1fZnJhbWVidWZmZXIgKmZiLCBpbnQgY29sb3Jf
cGxhbmUpDQo+ICAJCQlyZXR1cm4gMTI4Ow0KPiAgCQkvKiBmYWxsIHRocm91Z2ggKi8NCj4gIAlj
YXNlIEk5MTVfRk9STUFUX01PRF9ZX1RJTEVEX0dFTjEyX1JDX0NDUzoNCj4gKwljYXNlIEk5MTVf
Rk9STUFUX01PRF9ZX1RJTEVEX0dFTjEyX01DX0NDUzoNCj4gIAkJaWYgKGlzX2Njc19wbGFuZShm
YiwgY29sb3JfcGxhbmUpKQ0KPiAgCQkJcmV0dXJuIDY0Ow0KPiAgCQkvKiBmYWxsIHRocm91Z2gg
Ki8NCj4gQEAgLTIxNTIsNiArMjE1NCw3IEBAIHN0YXRpYyB1bnNpZ25lZCBpbnQgaW50ZWxfc3Vy
Zl9hbGlnbm1lbnQoY29uc3QNCj4gc3RydWN0IGRybV9mcmFtZWJ1ZmZlciAqZmIsDQo+ICAJCQly
ZXR1cm4gMjU2ICogMTAyNDsNCj4gIAkJcmV0dXJuIDA7DQo+ICAJY2FzZSBJOTE1X0ZPUk1BVF9N
T0RfWV9USUxFRF9HRU4xMl9SQ19DQ1M6DQo+ICsJY2FzZSBJOTE1X0ZPUk1BVF9NT0RfWV9USUxF
RF9HRU4xMl9NQ19DQ1M6DQo+ICAJCXJldHVybiAxNiAqIDEwMjQ7DQo+ICAJY2FzZSBJOTE1X0ZP
Uk1BVF9NT0RfWV9USUxFRF9DQ1M6DQo+ICAJY2FzZSBJOTE1X0ZPUk1BVF9NT0RfWWZfVElMRURf
Q0NTOg0KPiBAQCAtMjUzNiw2ICsyNTM5LDcgQEAgc3RhdGljIHVuc2lnbmVkIGludA0KPiBpbnRl
bF9mYl9tb2RpZmllcl90b190aWxpbmcodTY0IGZiX21vZGlmaWVyKQ0KPiAgCWNhc2UgSTkxNV9G
T1JNQVRfTU9EX1lfVElMRUQ6DQo+ICAJY2FzZSBJOTE1X0ZPUk1BVF9NT0RfWV9USUxFRF9DQ1M6
DQo+ICAJY2FzZSBJOTE1X0ZPUk1BVF9NT0RfWV9USUxFRF9HRU4xMl9SQ19DQ1M6DQo+ICsJY2Fz
ZSBJOTE1X0ZPUk1BVF9NT0RfWV9USUxFRF9HRU4xMl9NQ19DQ1M6DQo+ICAJCXJldHVybiBJOTE1
X1RJTElOR19ZOw0KPiAgCWRlZmF1bHQ6DQo+ICAJCXJldHVybiBJOTE1X1RJTElOR19OT05FOw0K
PiBAQCAtMjU4Nyw2ICsyNTkxLDIxIEBAIHN0YXRpYyBjb25zdCBzdHJ1Y3QgZHJtX2Zvcm1hdF9p
bmZvDQo+IGdlbjEyX2Njc19mb3JtYXRzW10gPSB7DQo+ICAJeyAuZm9ybWF0ID0gRFJNX0ZPUk1B
VF9BQkdSODg4OCwgLmRlcHRoID0gMzIsIC5udW1fcGxhbmVzID0gMiwNCj4gIAkgIC5jaGFyX3Bl
cl9ibG9jayA9IHsgNCwgMSB9LCAuYmxvY2tfdyA9IHsgMSwgMiB9LCAuYmxvY2tfaCA9IHsNCj4g
MSwgMSB9LA0KPiAgCSAgLmhzdWIgPSAxLCAudnN1YiA9IDEsIC5oYXNfYWxwaGEgPSB0cnVlIH0s
DQo+ICsJeyAuZm9ybWF0ID0gRFJNX0ZPUk1BVF9ZVVlWLCAubnVtX3BsYW5lcyA9IDIsDQo+ICsJ
ICAuY2hhcl9wZXJfYmxvY2sgPSB7IDIsIDEgfSwgLmJsb2NrX3cgPSB7IDEsIDIgfSwgLmJsb2Nr
X2ggPSB7DQo+IDEsIDEgfSwNCj4gKwkgIC5oc3ViID0gMiwgLnZzdWIgPSAxLCAuaXNfeXV2ID0g
dHJ1ZSB9LA0KPiArCXsgLmZvcm1hdCA9IERSTV9GT1JNQVRfTlYxMiwgLm51bV9wbGFuZXMgPSA0
LA0KPiArCSAgLmNoYXJfcGVyX2Jsb2NrID0geyAxLCAyLCAxLCAxIH0sIC5ibG9ja193ID0geyAx
LCAxLCA0LCA0IH0sDQo+IC5ibG9ja19oID0geyAxLCAxLCAxLCAxIH0sDQo+ICsJICAuaHN1YiA9
IDIsIC52c3ViID0gMiwgLmlzX3l1diA9IHRydWUgfSwNCj4gKwl7IC5mb3JtYXQgPSBEUk1fRk9S
TUFUX1AwMTAsIC5udW1fcGxhbmVzID0gNCwNCj4gKwkgIC5jaGFyX3Blcl9ibG9jayA9IHsgMiwg
NCwgMSwgMSB9LCAuYmxvY2tfdyA9IHsgMSwgMSwgMiwgMiB9LA0KPiAuYmxvY2tfaCA9IHsgMSwg
MSwgMSwgMSB9LA0KPiArCSAgLmhzdWIgPSAyLCAudnN1YiA9IDIsIC5pc195dXYgPSB0cnVlIH0s
DQo+ICsJeyAuZm9ybWF0ID0gRFJNX0ZPUk1BVF9QMDEyLCAubnVtX3BsYW5lcyA9IDQsDQo+ICsJ
ICAuY2hhcl9wZXJfYmxvY2sgPSB7IDIsIDQsIDEsIDEgfSwgLmJsb2NrX3cgPSB7IDEsIDEsIDIs
IDIgfSwNCj4gLmJsb2NrX2ggPSB7IDEsIDEsIDEsIDEgfSwNCj4gKwkgIC5oc3ViID0gMiwgLnZz
dWIgPSAyLCAuaXNfeXV2ID0gdHJ1ZSB9LA0KPiArCXsgLmZvcm1hdCA9IERSTV9GT1JNQVRfUDAx
NiwgLm51bV9wbGFuZXMgPSA0LA0KPiArCSAgLmNoYXJfcGVyX2Jsb2NrID0geyAyLCA0LCAxLCAx
IH0sIC5ibG9ja193ID0geyAxLCAxLCAyLCAyIH0sDQo+IC5ibG9ja19oID0geyAxLCAxLCAxLCAx
IH0sDQo+ICsJICAuaHN1YiA9IDIsIC52c3ViID0gMiwgLmlzX3l1diA9IHRydWUgfSwNCj4gIH07
DQo+ICANCj4gIHN0YXRpYyBjb25zdCBzdHJ1Y3QgZHJtX2Zvcm1hdF9pbmZvICoNCj4gQEAgLTI2
MTMsNiArMjYzMiw3IEBAIGludGVsX2dldF9mb3JtYXRfaW5mbyhjb25zdCBzdHJ1Y3QNCj4gZHJt
X21vZGVfZmJfY21kMiAqY21kKQ0KPiAgCQkJCQkgIEFSUkFZX1NJWkUoc2tsX2Njc19mb3JtYXRz
KSwNCj4gIAkJCQkJICBjbWQtPnBpeGVsX2Zvcm1hdCk7DQo+ICAJY2FzZSBJOTE1X0ZPUk1BVF9N
T0RfWV9USUxFRF9HRU4xMl9SQ19DQ1M6DQo+ICsJY2FzZSBJOTE1X0ZPUk1BVF9NT0RfWV9USUxF
RF9HRU4xMl9NQ19DQ1M6DQo+ICAJCXJldHVybiBsb29rdXBfZm9ybWF0X2luZm8oZ2VuMTJfY2Nz
X2Zvcm1hdHMsDQo+ICAJCQkJCSAgQVJSQVlfU0laRShnZW4xMl9jY3NfZm9ybWF0cykNCj4gLA0K
PiAgCQkJCQkgIGNtZC0+cGl4ZWxfZm9ybWF0KTsNCj4gQEAgLTI2MjQsNiArMjY0NCw3IEBAIGlu
dGVsX2dldF9mb3JtYXRfaW5mbyhjb25zdCBzdHJ1Y3QNCj4gZHJtX21vZGVfZmJfY21kMiAqY21k
KQ0KPiAgYm9vbCBpc19jY3NfbW9kaWZpZXIodTY0IG1vZGlmaWVyKQ0KPiAgew0KPiAgCXJldHVy
biBtb2RpZmllciA9PSBJOTE1X0ZPUk1BVF9NT0RfWV9USUxFRF9HRU4xMl9SQ19DQ1MgfHwNCj4g
KwkgICAgICAgbW9kaWZpZXIgPT0gSTkxNV9GT1JNQVRfTU9EX1lfVElMRURfR0VOMTJfTUNfQ0NT
IHx8DQo+ICAJICAgICAgIG1vZGlmaWVyID09IEk5MTVfRk9STUFUX01PRF9ZX1RJTEVEX0NDUyB8
fA0KPiAgCSAgICAgICBtb2RpZmllciA9PSBJOTE1X0ZPUk1BVF9NT0RfWWZfVElMRURfQ0NTOw0K
PiAgfQ0KPiBAQCAtMjY5NSw3ICsyNzE2LDcgQEAgaW50ZWxfZmJfc3RyaWRlX2FsaWdubWVudChj
b25zdCBzdHJ1Y3QNCj4gZHJtX2ZyYW1lYnVmZmVyICpmYiwgaW50IGNvbG9yX3BsYW5lKQ0KPiAg
CX0NCj4gIA0KPiAgCXRpbGVfd2lkdGggPSBpbnRlbF90aWxlX3dpZHRoX2J5dGVzKGZiLCBjb2xv
cl9wbGFuZSk7DQo+IC0JaWYgKGlzX2Njc19tb2RpZmllcihmYi0+bW9kaWZpZXIpICYmIGNvbG9y
X3BsYW5lID09IDApIHsNCj4gKwlpZiAoaXNfY2NzX21vZGlmaWVyKGZiLT5tb2RpZmllcikpIHsN
Cj4gIAkJLyoNCj4gIAkJICogRGlzcGxheSBXQSAjMDUzMTogc2tsLGJ4dCxrYmwsZ2xrDQo+ICAJ
CSAqDQo+IEBAIC0yNzA1LDcgKzI3MjYsNyBAQCBpbnRlbF9mYl9zdHJpZGVfYWxpZ25tZW50KGNv
bnN0IHN0cnVjdA0KPiBkcm1fZnJhbWVidWZmZXIgKmZiLCBpbnQgY29sb3JfcGxhbmUpDQo+ICAJ
CSAqIHJlcXVpcmUgdGhlIGVudGlyZSBmYiB0byBhY2NvbW1vZGF0ZSB0aGF0IHRvIGF2b2lkDQo+
ICAJCSAqIHBvdGVudGlhbCBydW50aW1lIGVycm9ycyBhdCBwbGFuZSBjb25maWd1cmF0aW9uDQo+
IHRpbWUuDQo+ICAJCSAqLw0KPiAtCQlpZiAoSVNfR0VOKGRldl9wcml2LCA5KSAmJiBmYi0+d2lk
dGggPiAzODQwKQ0KPiArCQlpZiAoSVNfR0VOKGRldl9wcml2LCA5KSAmJiBjb2xvcl9wbGFuZSA9
PSAwICYmIGZiLQ0KPiA+d2lkdGggPiAzODQwKQ0KPiAgCQkJdGlsZV93aWR0aCAqPSA0Ow0KPiAg
CQkvKg0KPiAgCQkgKiBUaGUgbWFpbiBzdXJmYWNlIHBpdGNoIG11c3QgYmUgcGFkZGVkIHRvIGEg
bXVsdGlwbGUNCj4gb2YgZm91cg0KPiBAQCAtMjgyNyw4ICsyODQ4LDE5IEBAIGludGVsX2ZiX3Bs
YW5lX2dldF9zdWJzYW1wbGluZyhpbnQgKmhzdWIsIGludA0KPiAqdnN1YiwNCj4gIA0KPiAgCSp2
c3ViID0gMzI7DQo+ICB9DQo+ICsNCj4gK3N0YXRpYyB2b2lkDQo+ICtpbnRlbF9mYl9wbGFuZV9k
aW1zKGludCAqdywgaW50ICpoLCBzdHJ1Y3QgZHJtX2ZyYW1lYnVmZmVyICpmYiwgaW50DQo+IGNv
bG9yX3BsYW5lKQ0KPiArew0KPiArCWludCBoc3ViLCB2c3ViOw0KPiArDQo+ICsJaW50ZWxfZmJf
cGxhbmVfZ2V0X3N1YnNhbXBsaW5nKCZoc3ViLCAmdnN1YiwgZmIsIGNvbG9yX3BsYW5lKTsNCj4g
KwkqdyA9IGZiLT53aWR0aCAvIGhzdWI7DQo+ICsJKmggPSBmYi0+aGVpZ2h0IC8gdnN1YjsNCj4g
K30NCj4gKw0KPiAgc3RhdGljIGludA0KPiAtaW50ZWxfZmJfY2hlY2tfY2NzX3h5KHN0cnVjdCBk
cm1fZnJhbWVidWZmZXIgKmZiLCBpbnQgeCwgaW50IHkpDQo+ICtpbnRlbF9mYl9jaGVja19jY3Nf
eHkoc3RydWN0IGRybV9mcmFtZWJ1ZmZlciAqZmIsIGludCBjY3NfcGxhbmUsIGludA0KPiB4LCBp
bnQgeSkNCj4gIHsNCj4gIAlzdHJ1Y3QgaW50ZWxfZnJhbWVidWZmZXIgKmludGVsX2ZiID0gdG9f
aW50ZWxfZnJhbWVidWZmZXIoZmIpOw0KPiAgCWludCBtYWluX3BsYW5lOw0KPiBAQCAtMjgzNiw3
ICsyODY4LDYgQEAgaW50ZWxfZmJfY2hlY2tfY2NzX3h5KHN0cnVjdCBkcm1fZnJhbWVidWZmZXIN
Cj4gKmZiLCBpbnQgeCwgaW50IHkpDQo+ICAJaW50IHRpbGVfd2lkdGgsIHRpbGVfaGVpZ2h0Ow0K
PiAgCWludCBjY3NfeCwgY2NzX3k7DQo+ICAJaW50IG1haW5feCwgbWFpbl95Ow0KPiAtCWludCBj
Y3NfcGxhbmUgPSAxOw0KPiAgDQo+ICAJaWYgKCFpc19jY3NfcGxhbmUoZmIsIGNjc19wbGFuZSkp
DQo+ICAJCXJldHVybiAwOw0KPiBAQCAtMjg5MSw4ICsyOTIyLDcgQEAgaW50ZWxfZmlsbF9mYl9p
bmZvKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlDQo+ICpkZXZfcHJpdiwNCj4gIAkJaW50IHJldDsN
Cj4gIA0KPiAgCQljcHAgPSBmYi0+Zm9ybWF0LT5jcHBbaV07DQo+IC0JCXdpZHRoID0gZHJtX2Zy
YW1lYnVmZmVyX3BsYW5lX3dpZHRoKGZiLT53aWR0aCwgZmIsIGkpOw0KPiAtCQloZWlnaHQgPSBk
cm1fZnJhbWVidWZmZXJfcGxhbmVfaGVpZ2h0KGZiLT5oZWlnaHQsIGZiLA0KPiBpKTsNCj4gKwkJ
aW50ZWxfZmJfcGxhbmVfZGltcygmd2lkdGgsICZoZWlnaHQsIGZiLCBpKTsNCj4gIA0KPiAgCQly
ZXQgPSBpbnRlbF9mYl9vZmZzZXRfdG9feHkoJngsICZ5LCBmYiwgaSk7DQo+ICAJCWlmIChyZXQp
IHsNCj4gQEAgLTI5MDEsNyArMjkzMSw3IEBAIGludGVsX2ZpbGxfZmJfaW5mbyhzdHJ1Y3QgZHJt
X2k5MTVfcHJpdmF0ZQ0KPiAqZGV2X3ByaXYsDQo+ICAJCQlyZXR1cm4gcmV0Ow0KPiAgCQl9DQo+
ICANCj4gLQkJcmV0ID0gaW50ZWxfZmJfY2hlY2tfY2NzX3h5KGZiLCB4LCB5KTsNCj4gKwkJcmV0
ID0gaW50ZWxfZmJfY2hlY2tfY2NzX3h5KGZiLCBpLCB4LCB5KTsNCj4gIAkJaWYgKHJldCkNCj4g
IAkJCXJldHVybiByZXQ7DQo+ICANCj4gQEAgLTM1NTUsNiArMzU4NSw3IEBAIHN0YXRpYyBpbnQg
c2tsX21heF9wbGFuZV93aWR0aChjb25zdCBzdHJ1Y3QNCj4gZHJtX2ZyYW1lYnVmZmVyICpmYiwN
Cj4gIAkJCXJldHVybiA1MTIwOw0KPiAgCWNhc2UgSTkxNV9GT1JNQVRfTU9EX1lfVElMRURfQ0NT
Og0KPiAgCWNhc2UgSTkxNV9GT1JNQVRfTU9EX1lmX1RJTEVEX0NDUzoNCj4gKwljYXNlIEk5MTVf
Rk9STUFUX01PRF9ZX1RJTEVEX0dFTjEyX01DX0NDUzoNCj4gIAkJLyogRklYTUUgQVVYIHBsYW5l
PyAqLw0KPiAgCWNhc2UgSTkxNV9GT1JNQVRfTU9EX1lfVElMRUQ6DQo+ICAJY2FzZSBJOTE1X0ZP
Uk1BVF9NT0RfWWZfVElMRUQ6DQo+IEBAIC0zNjE0LDEwICszNjQ1LDEwIEBAIHN0YXRpYyBpbnQg
aWNsX21heF9wbGFuZV9oZWlnaHQodm9pZCkNCj4gIH0NCj4gIA0KPiAgc3RhdGljIGJvb2wgc2ts
X2NoZWNrX21haW5fY2NzX2Nvb3JkaW5hdGVzKHN0cnVjdCBpbnRlbF9wbGFuZV9zdGF0ZQ0KPiAq
cGxhbmVfc3RhdGUsDQo+IC0JCQkJCSAgIGludCBtYWluX3gsIGludCBtYWluX3ksIHUzMg0KPiBt
YWluX29mZnNldCkNCj4gKwkJCQkJICAgaW50IG1haW5feCwgaW50IG1haW5feSwgdTMyDQo+IG1h
aW5fb2Zmc2V0LA0KPiArCQkJCQkgICBpbnQgY2NzX3BsYW5lKQ0KPiAgew0KPiAgCWNvbnN0IHN0
cnVjdCBkcm1fZnJhbWVidWZmZXIgKmZiID0gcGxhbmVfc3RhdGUtPmh3LmZiOw0KPiAtCWludCBj
Y3NfcGxhbmUgPSBtYWluX3RvX2Njc19wbGFuZShmYiwgMCk7DQo+ICAJaW50IGF1eF94ID0gcGxh
bmVfc3RhdGUtPmNvbG9yX3BsYW5lW2Njc19wbGFuZV0ueDsNCj4gIAlpbnQgYXV4X3kgPSBwbGFu
ZV9zdGF0ZS0+Y29sb3JfcGxhbmVbY2NzX3BsYW5lXS55Ow0KPiAgCXUzMiBhdXhfb2Zmc2V0ID0g
cGxhbmVfc3RhdGUtPmNvbG9yX3BsYW5lW2Njc19wbGFuZV0ub2Zmc2V0Ow0KPiBAQCAtMzcyMyw3
ICszNzU0LDggQEAgc3RhdGljIGludCBza2xfY2hlY2tfbWFpbl9zdXJmYWNlKHN0cnVjdA0KPiBp
bnRlbF9wbGFuZV9zdGF0ZSAqcGxhbmVfc3RhdGUpDQo+ICAJICogdGhleSBtYXRjaCB3aXRoIHRo
ZSBtYWluIHN1cmZhY2UgeC95IG9mZnNldHMuDQo+ICAJICovDQo+ICAJaWYgKGlzX2Njc19tb2Rp
ZmllcihmYi0+bW9kaWZpZXIpKSB7DQo+IC0JCXdoaWxlICghc2tsX2NoZWNrX21haW5fY2NzX2Nv
b3JkaW5hdGVzKHBsYW5lX3N0YXRlLCB4LA0KPiB5LCBvZmZzZXQpKSB7DQo+ICsJCXdoaWxlICgh
c2tsX2NoZWNrX21haW5fY2NzX2Nvb3JkaW5hdGVzKHBsYW5lX3N0YXRlLCB4LA0KPiB5LCBvZmZz
ZXQsDQo+ICsJCQkJCQkgICAgICAgYXV4X3BsYW5lKSkgew0KPiAgCQkJaWYgKG9mZnNldCA9PSAw
KQ0KPiAgCQkJCWJyZWFrOw0KPiAgDQo+IEBAIC0zNzU2LDcgKzM3ODgsOCBAQCBzdGF0aWMgaW50
IHNrbF9jaGVja19udjEyX2F1eF9zdXJmYWNlKHN0cnVjdA0KPiBpbnRlbF9wbGFuZV9zdGF0ZSAq
cGxhbmVfc3RhdGUpDQo+ICB7DQo+ICAJY29uc3Qgc3RydWN0IGRybV9mcmFtZWJ1ZmZlciAqZmIg
PSBwbGFuZV9zdGF0ZS0+aHcuZmI7DQo+ICAJdW5zaWduZWQgaW50IHJvdGF0aW9uID0gcGxhbmVf
c3RhdGUtPmh3LnJvdGF0aW9uOw0KPiAtCWludCBtYXhfd2lkdGggPSBza2xfbWF4X3BsYW5lX3dp
ZHRoKGZiLCAxLCByb3RhdGlvbik7DQo+ICsJaW50IHV2X3BsYW5lID0gMTsNCj4gKwlpbnQgbWF4
X3dpZHRoID0gc2tsX21heF9wbGFuZV93aWR0aChmYiwgdXZfcGxhbmUsIHJvdGF0aW9uKTsNCj4g
IAlpbnQgbWF4X2hlaWdodCA9IDQwOTY7DQo+ICAJaW50IHggPSBwbGFuZV9zdGF0ZS0+dWFwaS5z
cmMueDEgPj4gMTc7DQo+ICAJaW50IHkgPSBwbGFuZV9zdGF0ZS0+dWFwaS5zcmMueTEgPj4gMTc7
DQo+IEBAIC0zNzY0LDggKzM3OTcsOSBAQCBzdGF0aWMgaW50IHNrbF9jaGVja19udjEyX2F1eF9z
dXJmYWNlKHN0cnVjdA0KPiBpbnRlbF9wbGFuZV9zdGF0ZSAqcGxhbmVfc3RhdGUpDQo+ICAJaW50
IGggPSBkcm1fcmVjdF9oZWlnaHQoJnBsYW5lX3N0YXRlLT51YXBpLnNyYykgPj4gMTc7DQo+ICAJ
dTMyIG9mZnNldDsNCj4gIA0KPiAtCWludGVsX2FkZF9mYl9vZmZzZXRzKCZ4LCAmeSwgcGxhbmVf
c3RhdGUsIDEpOw0KPiAtCW9mZnNldCA9IGludGVsX3BsYW5lX2NvbXB1dGVfYWxpZ25lZF9vZmZz
ZXQoJngsICZ5LA0KPiBwbGFuZV9zdGF0ZSwgMSk7DQo+ICsJaW50ZWxfYWRkX2ZiX29mZnNldHMo
JngsICZ5LCBwbGFuZV9zdGF0ZSwgdXZfcGxhbmUpOw0KPiArCW9mZnNldCA9IGludGVsX3BsYW5l
X2NvbXB1dGVfYWxpZ25lZF9vZmZzZXQoJngsICZ5LA0KPiArCQkJCQkJICAgIHBsYW5lX3N0YXRl
LA0KPiB1dl9wbGFuZSk7DQo+ICANCj4gIAkvKiBGSVhNRSBub3QgcXVpdGUgc3VyZSBob3cvaWYg
dGhlc2UgYXBwbHkgdG8gdGhlIGNocm9tYSBwbGFuZQ0KPiAqLw0KPiAgCWlmICh3ID4gbWF4X3dp
ZHRoIHx8IGggPiBtYXhfaGVpZ2h0KSB7DQo+IEBAIC0zNzc0LDkgKzM4MDgsMzkgQEAgc3RhdGlj
IGludCBza2xfY2hlY2tfbnYxMl9hdXhfc3VyZmFjZShzdHJ1Y3QNCj4gaW50ZWxfcGxhbmVfc3Rh
dGUgKnBsYW5lX3N0YXRlKQ0KPiAgCQlyZXR1cm4gLUVJTlZBTDsNCj4gIAl9DQo+ICANCj4gLQlw
bGFuZV9zdGF0ZS0+Y29sb3JfcGxhbmVbMV0ub2Zmc2V0ID0gb2Zmc2V0Ow0KPiAtCXBsYW5lX3N0
YXRlLT5jb2xvcl9wbGFuZVsxXS54ID0geDsNCj4gLQlwbGFuZV9zdGF0ZS0+Y29sb3JfcGxhbmVb
MV0ueSA9IHk7DQo+ICsJaWYgKGlzX2Njc19tb2RpZmllcihmYi0+bW9kaWZpZXIpKSB7DQo+ICsJ
CWludCBjY3NfcGxhbmUgPSBtYWluX3RvX2Njc19wbGFuZShmYiwgdXZfcGxhbmUpOw0KPiArCQlp
bnQgYXV4X29mZnNldCA9IHBsYW5lX3N0YXRlLQ0KPiA+Y29sb3JfcGxhbmVbY2NzX3BsYW5lXS5v
ZmZzZXQ7DQo+ICsJCWludCBhbGlnbm1lbnQgPSBpbnRlbF9zdXJmX2FsaWdubWVudChmYiwgdXZf
cGxhbmUpOw0KPiArDQo+ICsJCWlmIChvZmZzZXQgPiBhdXhfb2Zmc2V0KQ0KPiArCQkJb2Zmc2V0
ID0gaW50ZWxfcGxhbmVfYWRqdXN0X2FsaWduZWRfb2Zmc2V0KCZ4LA0KPiAmeSwNCj4gKwkJCQkJ
CQkJICAgcGxhbg0KPiBlX3N0YXRlLA0KPiArCQkJCQkJCQkgICB1dl9wDQo+IGxhbmUsDQo+ICsJ
CQkJCQkJCSAgIG9mZnMNCj4gZXQsDQo+ICsJCQkJCQkJCSAgIGF1eF8NCj4gb2Zmc2V0ICYgfihh
bGlnbm1lbnQgLSAxKSk7DQo+ICsNCj4gKwkJd2hpbGUgKCFza2xfY2hlY2tfbWFpbl9jY3NfY29v
cmRpbmF0ZXMocGxhbmVfc3RhdGUsIHgsDQo+IHksDQo+ICsJCQkJCQkgICAgICAgb2Zmc2V0LA0K
PiBjY3NfcGxhbmUpKSB7DQo+ICsJCQlpZiAob2Zmc2V0ID09IDApDQo+ICsJCQkJYnJlYWs7DQo+
ICsNCj4gKwkJCW9mZnNldCA9IGludGVsX3BsYW5lX2FkanVzdF9hbGlnbmVkX29mZnNldCgmeCwN
Cj4gJnksDQo+ICsJCQkJCQkJCSAgIHBsYW4NCj4gZV9zdGF0ZSwNCj4gKwkJCQkJCQkJICAgdXZf
cA0KPiBsYW5lLA0KPiArCQkJCQkJCQkgICBvZmZzDQo+IGV0LCBvZmZzZXQgLSBhbGlnbm1lbnQp
Ow0KPiArCQl9DQo+ICsNCj4gKwkJaWYgKHggIT0gcGxhbmVfc3RhdGUtPmNvbG9yX3BsYW5lW2Nj
c19wbGFuZV0ueCB8fA0KPiArCQkgICAgeSAhPSBwbGFuZV9zdGF0ZS0+Y29sb3JfcGxhbmVbY2Nz
X3BsYW5lXS55KSB7DQo+ICsJCQlEUk1fREVCVUdfS01TKCJVbmFibGUgdG8gZmluZCBzdWl0YWJs
ZSBkaXNwbGF5DQo+IHN1cmZhY2Ugb2Zmc2V0IGR1ZSB0byBDQ1NcbiIpOw0KPiArCQkJcmV0dXJu
IC1FSU5WQUw7DQo+ICsJCX0NCj4gKwl9DQo+ICsNCj4gKwlwbGFuZV9zdGF0ZS0+Y29sb3JfcGxh
bmVbdXZfcGxhbmVdLm9mZnNldCA9IG9mZnNldDsNCj4gKwlwbGFuZV9zdGF0ZS0+Y29sb3JfcGxh
bmVbdXZfcGxhbmVdLnggPSB4Ow0KPiArCXBsYW5lX3N0YXRlLT5jb2xvcl9wbGFuZVt1dl9wbGFu
ZV0ueSA9IHk7DQo+ICANCj4gIAlyZXR1cm4gMDsNCj4gIH0NCj4gQEAgLTM3ODYsMjEgKzM4NTAs
NDAgQEAgc3RhdGljIGludCBza2xfY2hlY2tfY2NzX2F1eF9zdXJmYWNlKHN0cnVjdA0KPiBpbnRl
bF9wbGFuZV9zdGF0ZSAqcGxhbmVfc3RhdGUpDQo+ICAJY29uc3Qgc3RydWN0IGRybV9mcmFtZWJ1
ZmZlciAqZmIgPSBwbGFuZV9zdGF0ZS0+aHcuZmI7DQo+ICAJaW50IHNyY194ID0gcGxhbmVfc3Rh
dGUtPnVhcGkuc3JjLngxID4+IDE2Ow0KPiAgCWludCBzcmNfeSA9IHBsYW5lX3N0YXRlLT51YXBp
LnNyYy55MSA+PiAxNjsNCj4gLQlpbnQgaHN1YjsNCj4gLQlpbnQgdnN1YjsNCj4gLQlpbnQgeDsN
Cj4gLQlpbnQgeTsNCj4gIAl1MzIgb2Zmc2V0Ow0KPiArCWludCBjY3NfcGxhbmU7DQo+ICANCj4g
LQlpbnRlbF9mYl9wbGFuZV9nZXRfc3Vic2FtcGxpbmcoJmhzdWIsICZ2c3ViLCBmYiwgMSk7DQo+
IC0JeCA9IHNyY194IC8gaHN1YjsNCj4gLQl5ID0gc3JjX3kgLyB2c3ViOw0KPiAtCWludGVsX2Fk
ZF9mYl9vZmZzZXRzKCZ4LCAmeSwgcGxhbmVfc3RhdGUsIDEpOw0KPiAtCW9mZnNldCA9IGludGVs
X3BsYW5lX2NvbXB1dGVfYWxpZ25lZF9vZmZzZXQoJngsICZ5LA0KPiBwbGFuZV9zdGF0ZSwgMSk7
DQo+ICsJZm9yIChjY3NfcGxhbmUgPSAwOyBjY3NfcGxhbmUgPCBmYi0+Zm9ybWF0LT5udW1fcGxh
bmVzOw0KPiBjY3NfcGxhbmUrKykgew0KPiArCQlpbnQgbWFpbl9oc3ViLCBtYWluX3ZzdWI7DQo+
ICsJCWludCBoc3ViLCB2c3ViOw0KPiArCQlpbnQgeCwgeTsNCj4gKw0KPiArCQlpZiAoIWlzX2Nj
c19wbGFuZShmYiwgY2NzX3BsYW5lKSkNCj4gKwkJCWNvbnRpbnVlOw0KPiArDQo+ICsJCWludGVs
X2ZiX3BsYW5lX2dldF9zdWJzYW1wbGluZygmbWFpbl9oc3ViLCAmbWFpbl92c3ViLA0KPiBmYiwN
Cj4gKwkJCQkJICAgICAgIGNjc190b19tYWluX3BsYW5lKGZiLA0KPiBjY3NfcGxhbmUpKTsNCj4g
KwkJaW50ZWxfZmJfcGxhbmVfZ2V0X3N1YnNhbXBsaW5nKCZoc3ViLCAmdnN1YiwgZmIsDQo+IGNj
c19wbGFuZSk7DQo+ICsNCj4gKwkJaHN1YiAqPSBtYWluX2hzdWI7DQo+ICsJCXZzdWIgKj0gbWFp
bl92c3ViOw0KPiArCQl4ID0gc3JjX3ggLyBoc3ViOw0KPiArCQl5ID0gc3JjX3kgLyB2c3ViOw0K
PiAgDQo+IC0JcGxhbmVfc3RhdGUtPmNvbG9yX3BsYW5lWzFdLm9mZnNldCA9IG9mZnNldDsNCj4g
LQlwbGFuZV9zdGF0ZS0+Y29sb3JfcGxhbmVbMV0ueCA9IHggKiBoc3ViICsgc3JjX3ggJSBoc3Vi
Ow0KPiAtCXBsYW5lX3N0YXRlLT5jb2xvcl9wbGFuZVsxXS55ID0geSAqIHZzdWIgKyBzcmNfeSAl
IHZzdWI7DQo+ICsJCWludGVsX2FkZF9mYl9vZmZzZXRzKCZ4LCAmeSwgcGxhbmVfc3RhdGUsIGNj
c19wbGFuZSk7DQo+ICsNCj4gKwkJb2Zmc2V0ID0gaW50ZWxfcGxhbmVfY29tcHV0ZV9hbGlnbmVk
X29mZnNldCgmeCwgJnksDQo+ICsJCQkJCQkJICAgIHBsYW5lX3N0YXRlDQo+ICwNCj4gKwkJCQkJ
CQkgICAgY2NzX3BsYW5lKTsNCj4gKw0KPiArCQlwbGFuZV9zdGF0ZS0+Y29sb3JfcGxhbmVbY2Nz
X3BsYW5lXS5vZmZzZXQgPSBvZmZzZXQ7DQo+ICsJCXBsYW5lX3N0YXRlLT5jb2xvcl9wbGFuZVtj
Y3NfcGxhbmVdLnggPSAoeCAqIGhzdWIgKw0KPiArCQkJCQkJCSBzcmNfeCAlIGhzdWIpDQo+IC8N
Cj4gKwkJCQkJCQltYWluX2hzdWI7DQo+ICsJCXBsYW5lX3N0YXRlLT5jb2xvcl9wbGFuZVtjY3Nf
cGxhbmVdLnkgPSAoeSAqIHZzdWIgKw0KPiArCQkJCQkJCSBzcmNfeSAlIHZzdWIpDQo+IC8NCj4g
KwkJCQkJCQltYWluX3ZzdWI7DQo+ICsJfQ0KPiAgDQo+ICAJcmV0dXJuIDA7DQo+ICB9DQo+IEBA
IC0zODA5LDYgKzM4OTIsNyBAQCBpbnQgc2tsX2NoZWNrX3BsYW5lX3N1cmZhY2Uoc3RydWN0DQo+
IGludGVsX3BsYW5lX3N0YXRlICpwbGFuZV9zdGF0ZSkNCj4gIHsNCj4gIAljb25zdCBzdHJ1Y3Qg
ZHJtX2ZyYW1lYnVmZmVyICpmYiA9IHBsYW5lX3N0YXRlLT5ody5mYjsNCj4gIAlpbnQgcmV0Ow0K
PiArCWJvb2wgbmVlZHNfYXV4ID0gZmFsc2U7DQo+ICANCj4gIAlyZXQgPSBpbnRlbF9wbGFuZV9j
b21wdXRlX2d0dChwbGFuZV9zdGF0ZSk7DQo+ICAJaWYgKHJldCkNCj4gQEAgLTM4MTgsMjIgKzM5
MDIsMzIgQEAgaW50IHNrbF9jaGVja19wbGFuZV9zdXJmYWNlKHN0cnVjdA0KPiBpbnRlbF9wbGFu
ZV9zdGF0ZSAqcGxhbmVfc3RhdGUpDQo+ICAJCXJldHVybiAwOw0KPiAgDQo+ICAJLyoNCj4gLQkg
KiBIYW5kbGUgdGhlIEFVWCBzdXJmYWNlIGZpcnN0IHNpbmNlDQo+IC0JICogdGhlIG1haW4gc3Vy
ZmFjZSBzZXR1cCBkZXBlbmRzIG9uIGl0Lg0KPiArCSAqIEhhbmRsZSB0aGUgQVVYIHN1cmZhY2Ug
Zmlyc3Qgc2luY2UgdGhlIG1haW4gc3VyZmFjZSBzZXR1cA0KPiBkZXBlbmRzIG9uDQo+ICsJICog
aXQuDQo+ICAJICovDQo+ICsJaWYgKGlzX2Njc19tb2RpZmllcihmYi0+bW9kaWZpZXIpKSB7DQo+
ICsJCW5lZWRzX2F1eCA9IHRydWU7DQo+ICsJCXJldCA9IHNrbF9jaGVja19jY3NfYXV4X3N1cmZh
Y2UocGxhbmVfc3RhdGUpOw0KPiArCQlpZiAocmV0KQ0KPiArCQkJcmV0dXJuIHJldDsNCj4gKwl9
DQo+ICsNCj4gIAlpZiAoaW50ZWxfZm9ybWF0X2luZm9faXNfeXV2X3NlbWlwbGFuYXIoZmItPmZv
cm1hdCwNCj4gIAkJCQkJICAgICAgICBmYi0+bW9kaWZpZXIpKSB7DQo+ICsJCW5lZWRzX2F1eCA9
IHRydWU7DQo+ICAJCXJldCA9IHNrbF9jaGVja19udjEyX2F1eF9zdXJmYWNlKHBsYW5lX3N0YXRl
KTsNCj4gIAkJaWYgKHJldCkNCj4gIAkJCXJldHVybiByZXQ7DQo+IC0JfSBlbHNlIGlmIChpc19j
Y3NfbW9kaWZpZXIoZmItPm1vZGlmaWVyKSkgew0KPiAtCQlyZXQgPSBza2xfY2hlY2tfY2NzX2F1
eF9zdXJmYWNlKHBsYW5lX3N0YXRlKTsNCj4gLQkJaWYgKHJldCkNCj4gLQkJCXJldHVybiByZXQ7
DQo+IC0JfSBlbHNlIHsNCj4gLQkJcGxhbmVfc3RhdGUtPmNvbG9yX3BsYW5lWzFdLm9mZnNldCA9
IH4weGZmZjsNCj4gLQkJcGxhbmVfc3RhdGUtPmNvbG9yX3BsYW5lWzFdLnggPSAwOw0KPiAtCQlw
bGFuZV9zdGF0ZS0+Y29sb3JfcGxhbmVbMV0ueSA9IDA7DQo+ICsJfQ0KPiArDQo+ICsJaWYgKCFu
ZWVkc19hdXgpIHsNCj4gKwkJaW50IGk7DQo+ICsNCj4gKwkJZm9yIChpID0gMTsgaSA8IGZiLT5m
b3JtYXQtPm51bV9wbGFuZXM7IGkrKykgew0KPiArCQkJcGxhbmVfc3RhdGUtPmNvbG9yX3BsYW5l
W2ldLm9mZnNldCA9IH4weGZmZjsNCj4gKwkJCXBsYW5lX3N0YXRlLT5jb2xvcl9wbGFuZVtpXS54
ID0gMDsNCj4gKwkJCXBsYW5lX3N0YXRlLT5jb2xvcl9wbGFuZVtpXS55ID0gMDsNCj4gKwkJfQ0K
PiAgCX0NCj4gIA0KPiAgCXJldCA9IHNrbF9jaGVja19tYWluX3N1cmZhY2UocGxhbmVfc3RhdGUp
Ow0KPiBAQCAtNDQyMyw2ICs0NTE3LDggQEAgc3RhdGljIHUzMiBza2xfcGxhbmVfY3RsX3RpbGlu
Zyh1NjQNCj4gZmJfbW9kaWZpZXIpDQo+ICAJCXJldHVybiBQTEFORV9DVExfVElMRURfWSB8DQo+
ICAJCSAgICAgICBQTEFORV9DVExfUkVOREVSX0RFQ09NUFJFU1NJT05fRU5BQkxFIHwNCj4gIAkJ
ICAgICAgIFBMQU5FX0NUTF9DTEVBUl9DT0xPUl9ESVNBQkxFOw0KPiArCWNhc2UgSTkxNV9GT1JN
QVRfTU9EX1lfVElMRURfR0VOMTJfTUNfQ0NTOg0KPiArCQlyZXR1cm4gUExBTkVfQ1RMX1RJTEVE
X1kgfA0KPiBQTEFORV9DVExfTUVESUFfREVDT01QUkVTU0lPTl9FTkFCTEU7DQo+ICAJY2FzZSBJ
OTE1X0ZPUk1BVF9NT0RfWWZfVElMRUQ6DQo+ICAJCXJldHVybiBQTEFORV9DVExfVElMRURfWUY7
DQo+ICAJY2FzZSBJOTE1X0ZPUk1BVF9NT0RfWWZfVElMRURfQ0NTOg0KPiBAQCAtMTAxNjUsNiAr
MTAyNjEsOCBAQCBza3lsYWtlX2dldF9pbml0aWFsX3BsYW5lX2NvbmZpZyhzdHJ1Y3QNCj4gaW50
ZWxfY3J0YyAqY3J0YywNCj4gIAkJCWZiLT5tb2RpZmllciA9IElOVEVMX0dFTihkZXZfcHJpdikg
Pj0gMTIgPw0KPiAgCQkJCUk5MTVfRk9STUFUX01PRF9ZX1RJTEVEX0dFTjEyX1JDX0NDUyA6DQo+
ICAJCQkJSTkxNV9GT1JNQVRfTU9EX1lfVElMRURfQ0NTOw0KPiArCQllbHNlIGlmICh2YWwgJiBQ
TEFORV9DVExfTUVESUFfREVDT01QUkVTU0lPTl9FTkFCTEUpDQo+ICsJCQlmYi0+bW9kaWZpZXIg
PQ0KPiBJOTE1X0ZPUk1BVF9NT0RfWV9USUxFRF9HRU4xMl9NQ19DQ1M7DQo+ICAJCWVsc2UNCj4g
IAkJCWZiLT5tb2RpZmllciA9IEk5MTVfRk9STUFUX01PRF9ZX1RJTEVEOw0KPiAgCQlicmVhazsN
Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxh
eS5oDQo+IGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5LmgNCj4g
aW5kZXggMGZlZjkyNjNjZGRjLi5iODExMjM0MDc3M2IgMTAwNjQ0DQo+IC0tLSBhL2RyaXZlcnMv
Z3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheS5oDQo+ICsrKyBiL2RyaXZlcnMvZ3B1
L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheS5oDQo+IEBAIC00NzQsNiArNDc0LDcgQEAg
dm9pZCBpbnRlbF9saW5rX2NvbXB1dGVfbV9uKHUxNiBicHAsIGludCBubGFuZXMsDQo+ICAJCQkg
ICAgc3RydWN0IGludGVsX2xpbmtfbV9uICptX24sDQo+ICAJCQkgICAgYm9vbCBjb25zdGFudF9u
LCBib29sIGZlY19lbmFibGUpOw0KPiAgYm9vbCBpc19jY3NfbW9kaWZpZXIodTY0IG1vZGlmaWVy
KTsNCj4gK2ludCBpbnRlbF9tYWluX3RvX2F1eF9wbGFuZShjb25zdCBzdHJ1Y3QgZHJtX2ZyYW1l
YnVmZmVyICpmYiwgaW50DQo+IG1haW5fcGxhbmUpOw0KPiAgdm9pZCBscHRfZGlzYWJsZV9jbGtv
dXRfZHAoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2KTsNCj4gIHUzMiBpbnRlbF9w
bGFuZV9mYl9tYXhfc3RyaWRlKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiwNCj4g
IAkJCSAgICAgIHUzMiBwaXhlbF9mb3JtYXQsIHU2NCBtb2RpZmllcik7DQo+IGRpZmYgLS1naXQg
YS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXlfdHlwZXMuaA0KPiBi
L2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheV90eXBlcy5oDQo+IGlu
ZGV4IDgzZWEwNDE0OWI3Ny4uM2NkZjQ0ZmE0MTY0IDEwMDY0NA0KPiAtLS0gYS9kcml2ZXJzL2dw
dS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXlfdHlwZXMuaA0KPiArKysgYi9kcml2ZXJz
L2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXlfdHlwZXMuaA0KPiBAQCAtOTAsOCAr
OTAsOCBAQCBzdHJ1Y3QgaW50ZWxfZnJhbWVidWZmZXIgew0KPiAgCS8qIGZvciBlYWNoIHBsYW5l
IGluIHRoZSBub3JtYWwgR1RUIHZpZXcgKi8NCj4gIAlzdHJ1Y3Qgew0KPiAgCQl1bnNpZ25lZCBp
bnQgeCwgeTsNCj4gLQl9IG5vcm1hbFsyXTsNCj4gLQkvKiBmb3IgZWFjaCBwbGFuZSBpbiB0aGUg
cm90YXRlZCBHVFQgdmlldyAqLw0KPiArCX0gbm9ybWFsWzRdOw0KPiArCS8qIGZvciBlYWNoIHBs
YW5lIGluIHRoZSByb3RhdGVkIEdUVCB2aWV3IGZvciBuby1DQ1MgZm9ybWF0cyAqLw0KPiAgCXN0
cnVjdCB7DQo+ICAJCXVuc2lnbmVkIGludCB4LCB5Ow0KPiAgCQl1bnNpZ25lZCBpbnQgcGl0Y2g7
IC8qIHBpeGVscyAqLw0KPiBAQCAtNTU1LDcgKzU1NSw3IEBAIHN0cnVjdCBpbnRlbF9wbGFuZV9z
dGF0ZSB7DQo+ICAJCSAqLw0KPiAgCQl1MzIgc3RyaWRlOw0KPiAgCQlpbnQgeCwgeTsNCj4gLQl9
IGNvbG9yX3BsYW5lWzJdOw0KPiArCX0gY29sb3JfcGxhbmVbNF07DQo+ICANCj4gIAkvKiBwbGFu
ZSBjb250cm9sIHJlZ2lzdGVyICovDQo+ICAJdTMyIGN0bDsNCj4gZGlmZiAtLWdpdCBhL2RyaXZl
cnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfc3ByaXRlLmMNCj4gYi9kcml2ZXJzL2dwdS9k
cm0vaTkxNS9kaXNwbGF5L2ludGVsX3Nwcml0ZS5jDQo+IGluZGV4IGI3ZjNhMWIzMzU4Zi4uYmU1
NmI2ZjU2NDExIDEwMDY0NA0KPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2lu
dGVsX3Nwcml0ZS5jDQo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxf
c3ByaXRlLmMNCj4gQEAgLTU4MywxNSArNTgzLDE2IEBAIHNrbF9wcm9ncmFtX3BsYW5lKHN0cnVj
dCBpbnRlbF9wbGFuZSAqcGxhbmUsDQo+ICAJY29uc3Qgc3RydWN0IGRybV9pbnRlbF9zcHJpdGVf
Y29sb3JrZXkgKmtleSA9ICZwbGFuZV9zdGF0ZS0NCj4gPmNrZXk7DQo+ICAJdTMyIHN1cmZfYWRk
ciA9IHBsYW5lX3N0YXRlLT5jb2xvcl9wbGFuZVtjb2xvcl9wbGFuZV0ub2Zmc2V0Ow0KPiAgCXUz
MiBzdHJpZGUgPSBza2xfcGxhbmVfc3RyaWRlKHBsYW5lX3N0YXRlLCBjb2xvcl9wbGFuZSk7DQo+
IC0JdTMyIGF1eF9kaXN0ID0gcGxhbmVfc3RhdGUtPmNvbG9yX3BsYW5lWzFdLm9mZnNldCAtIHN1
cmZfYWRkcjsNCj4gLQl1MzIgYXV4X3N0cmlkZSA9IHNrbF9wbGFuZV9zdHJpZGUocGxhbmVfc3Rh
dGUsIDEpOw0KPiArCWNvbnN0IHN0cnVjdCBkcm1fZnJhbWVidWZmZXIgKmZiID0gcGxhbmVfc3Rh
dGUtPmh3LmZiOw0KPiArCWludCBhdXhfcGxhbmUgPSBpbnRlbF9tYWluX3RvX2F1eF9wbGFuZShm
YiwgY29sb3JfcGxhbmUpOw0KPiArCXUzMiBhdXhfZGlzdCA9IHBsYW5lX3N0YXRlLT5jb2xvcl9w
bGFuZVthdXhfcGxhbmVdLm9mZnNldCAtDQo+IHN1cmZfYWRkcjsNCj4gKwl1MzIgYXV4X3N0cmlk
ZSA9IHNrbF9wbGFuZV9zdHJpZGUocGxhbmVfc3RhdGUsIGF1eF9wbGFuZSk7DQo+ICAJaW50IGNy
dGNfeCA9IHBsYW5lX3N0YXRlLT51YXBpLmRzdC54MTsNCj4gIAlpbnQgY3J0Y195ID0gcGxhbmVf
c3RhdGUtPnVhcGkuZHN0LnkxOw0KPiAgCXUzMiB4ID0gcGxhbmVfc3RhdGUtPmNvbG9yX3BsYW5l
W2NvbG9yX3BsYW5lXS54Ow0KPiAgCXUzMiB5ID0gcGxhbmVfc3RhdGUtPmNvbG9yX3BsYW5lW2Nv
bG9yX3BsYW5lXS55Ow0KPiAgCXUzMiBzcmNfdyA9IGRybV9yZWN0X3dpZHRoKCZwbGFuZV9zdGF0
ZS0+dWFwaS5zcmMpID4+IDE2Ow0KPiAgCXUzMiBzcmNfaCA9IGRybV9yZWN0X2hlaWdodCgmcGxh
bmVfc3RhdGUtPnVhcGkuc3JjKSA+PiAxNjsNCj4gLQljb25zdCBzdHJ1Y3QgZHJtX2ZyYW1lYnVm
ZmVyICpmYiA9IHBsYW5lX3N0YXRlLT5ody5mYjsNCj4gIAl1OCBhbHBoYSA9IHBsYW5lX3N0YXRl
LT5ody5hbHBoYSA+PiA4Ow0KPiAgCXUzMiBwbGFuZV9jb2xvcl9jdGwgPSAwOw0KPiAgCXVuc2ln
bmVkIGxvbmcgaXJxZmxhZ3M7DQo+IEBAIC0yMTA2LDcgKzIxMDcsOCBAQCBzdGF0aWMgaW50IHNr
bF9wbGFuZV9jaGVja19mYihjb25zdCBzdHJ1Y3QNCj4gaW50ZWxfY3J0Y19zdGF0ZSAqY3J0Y19z
dGF0ZSwNCj4gIAkgICAgIGZiLT5tb2RpZmllciA9PSBJOTE1X0ZPUk1BVF9NT0RfWWZfVElMRUQg
fHwNCj4gIAkgICAgIGZiLT5tb2RpZmllciA9PSBJOTE1X0ZPUk1BVF9NT0RfWV9USUxFRF9DQ1Mg
fHwNCj4gIAkgICAgIGZiLT5tb2RpZmllciA9PSBJOTE1X0ZPUk1BVF9NT0RfWWZfVElMRURfQ0NT
IHx8DQo+IC0JICAgICBmYi0+bW9kaWZpZXIgPT0gSTkxNV9GT1JNQVRfTU9EX1lfVElMRURfR0VO
MTJfUkNfQ0NTKSkgew0KPiArCSAgICAgZmItPm1vZGlmaWVyID09IEk5MTVfRk9STUFUX01PRF9Z
X1RJTEVEX0dFTjEyX1JDX0NDUyB8fA0KPiArCSAgICAgZmItPm1vZGlmaWVyID09IEk5MTVfRk9S
TUFUX01PRF9ZX1RJTEVEX0dFTjEyX01DX0NDUykpIHsNCj4gIAkJRFJNX0RFQlVHX0tNUygiWS9Z
ZiB0aWxpbmcgbm90IHN1cHBvcnRlZCBpbiBJRi1JRA0KPiBtb2RlXG4iKTsNCj4gIAkJcmV0dXJu
IC1FSU5WQUw7DQo+ICAJfQ0KPiBAQCAtMjU3Nyw3ICsyNTc5LDE2IEBAIHN0YXRpYyBjb25zdCB1
NjQNCj4gc2tsX3BsYW5lX2Zvcm1hdF9tb2RpZmllcnNfY2NzW10gPSB7DQo+ICAJRFJNX0ZPUk1B
VF9NT0RfSU5WQUxJRA0KPiAgfTsNCj4gIA0KPiAtc3RhdGljIGNvbnN0IHU2NCBnZW4xMl9wbGFu
ZV9mb3JtYXRfbW9kaWZpZXJzX2Njc1tdID0gew0KPiArc3RhdGljIGNvbnN0IHU2NCBnZW4xMl9w
bGFuZV9mb3JtYXRfbW9kaWZpZXJzX21jX2Njc1tdID0gew0KPiArCUk5MTVfRk9STUFUX01PRF9Z
X1RJTEVEX0dFTjEyX01DX0NDUywNCj4gKwlJOTE1X0ZPUk1BVF9NT0RfWV9USUxFRF9HRU4xMl9S
Q19DQ1MsDQo+ICsJSTkxNV9GT1JNQVRfTU9EX1lfVElMRUQsDQo+ICsJSTkxNV9GT1JNQVRfTU9E
X1hfVElMRUQsDQo+ICsJRFJNX0ZPUk1BVF9NT0RfTElORUFSLA0KPiArCURSTV9GT1JNQVRfTU9E
X0lOVkFMSUQNCj4gK307DQo+ICsNCj4gK3N0YXRpYyBjb25zdCB1NjQgZ2VuMTJfcGxhbmVfZm9y
bWF0X21vZGlmaWVyc19yY19jY3NbXSA9IHsNCj4gIAlJOTE1X0ZPUk1BVF9NT0RfWV9USUxFRF9H
RU4xMl9SQ19DQ1MsDQo+ICAJSTkxNV9GT1JNQVRfTU9EX1lfVElMRUQsDQo+ICAJSTkxNV9GT1JN
QVRfTU9EX1hfVElMRUQsDQo+IEBAIC0yNzQyLDEwICsyNzUzLDIxIEBAIHN0YXRpYyBib29sDQo+
IHNrbF9wbGFuZV9mb3JtYXRfbW9kX3N1cHBvcnRlZChzdHJ1Y3QgZHJtX3BsYW5lICpfcGxhbmUs
DQo+ICAJfQ0KPiAgfQ0KPiAgDQo+ICtzdGF0aWMgYm9vbCBnZW4xMl9wbGFuZV9zdXBwb3J0c19t
Y19jY3MoZW51bSBwbGFuZV9pZCBwbGFuZV9pZCkNCj4gK3sNCj4gKwlyZXR1cm4gcGxhbmVfaWQg
PCBQTEFORV9TUFJJVEU0Ow0KPiArfQ0KPiArDQo+ICBzdGF0aWMgYm9vbCBnZW4xMl9wbGFuZV9m
b3JtYXRfbW9kX3N1cHBvcnRlZChzdHJ1Y3QgZHJtX3BsYW5lDQo+ICpfcGxhbmUsDQo+ICAJCQkJ
CSAgICAgdTMyIGZvcm1hdCwgdTY0IG1vZGlmaWVyKQ0KPiAgew0KPiArCXN0cnVjdCBpbnRlbF9w
bGFuZSAqcGxhbmUgPSB0b19pbnRlbF9wbGFuZShfcGxhbmUpOw0KPiArDQo+ICAJc3dpdGNoICht
b2RpZmllcikgew0KPiArCWNhc2UgSTkxNV9GT1JNQVRfTU9EX1lfVElMRURfR0VOMTJfTUNfQ0NT
Og0KPiArCQlpZiAoIWdlbjEyX3BsYW5lX3N1cHBvcnRzX21jX2NjcyhwbGFuZS0+aWQpKQ0KPiAr
CQkJcmV0dXJuIGZhbHNlOw0KPiArCQkvKiBmYWxsIHRocm91Z2ggKi8NCj4gIAljYXNlIERSTV9G
T1JNQVRfTU9EX0xJTkVBUjoNCj4gIAljYXNlIEk5MTVfRk9STUFUX01PRF9YX1RJTEVEOg0KPiAg
CWNhc2UgSTkxNV9GT1JNQVRfTU9EX1lfVElMRUQ6DQo+IEBAIC0yNzYzLDExICsyNzg1LDYgQEAg
c3RhdGljIGJvb2wNCj4gZ2VuMTJfcGxhbmVfZm9ybWF0X21vZF9zdXBwb3J0ZWQoc3RydWN0IGRy
bV9wbGFuZSAqX3BsYW5lLA0KPiAgCQlpZiAoaXNfY2NzX21vZGlmaWVyKG1vZGlmaWVyKSkNCj4g
IAkJCXJldHVybiB0cnVlOw0KPiAgCQkvKiBmYWxsIHRocm91Z2ggKi8NCj4gLQljYXNlIERSTV9G
T1JNQVRfUkdCNTY1Og0KPiAtCWNhc2UgRFJNX0ZPUk1BVF9YUkdCMjEwMTAxMDoNCj4gLQljYXNl
IERSTV9GT1JNQVRfWEJHUjIxMDEwMTA6DQo+IC0JY2FzZSBEUk1fRk9STUFUX0FSR0IyMTAxMDEw
Og0KPiAtCWNhc2UgRFJNX0ZPUk1BVF9BQkdSMjEwMTAxMDoNCj4gIAljYXNlIERSTV9GT1JNQVRf
WVVZVjoNCj4gIAljYXNlIERSTV9GT1JNQVRfWVZZVToNCj4gIAljYXNlIERSTV9GT1JNQVRfVVlW
WToNCj4gQEAgLTI3NzYsNiArMjc5MywxNCBAQCBzdGF0aWMgYm9vbA0KPiBnZW4xMl9wbGFuZV9m
b3JtYXRfbW9kX3N1cHBvcnRlZChzdHJ1Y3QgZHJtX3BsYW5lICpfcGxhbmUsDQo+ICAJY2FzZSBE
Uk1fRk9STUFUX1AwMTA6DQo+ICAJY2FzZSBEUk1fRk9STUFUX1AwMTI6DQo+ICAJY2FzZSBEUk1f
Rk9STUFUX1AwMTY6DQo+ICsJCWlmIChtb2RpZmllciA9PSBJOTE1X0ZPUk1BVF9NT0RfWV9USUxF
RF9HRU4xMl9NQ19DQ1MpDQo+ICsJCQlyZXR1cm4gdHJ1ZTsNCj4gKwkJLyogZmFsbCB0aHJvdWdo
ICovDQo+ICsJY2FzZSBEUk1fRk9STUFUX1JHQjU2NToNCj4gKwljYXNlIERSTV9GT1JNQVRfWFJH
QjIxMDEwMTA6DQo+ICsJY2FzZSBEUk1fRk9STUFUX1hCR1IyMTAxMDEwOg0KPiArCWNhc2UgRFJN
X0ZPUk1BVF9BUkdCMjEwMTAxMDoNCj4gKwljYXNlIERSTV9GT1JNQVRfQUJHUjIxMDEwMTA6DQo+
ICAJY2FzZSBEUk1fRk9STUFUX1hWWVUyMTAxMDEwOg0KPiAgCWNhc2UgRFJNX0ZPUk1BVF9DODoN
Cj4gIAljYXNlIERSTV9GT1JNQVRfWEJHUjE2MTYxNjE2RjoNCj4gQEAgLTI5MDksNiArMjkzNCwx
NCBAQCBzdGF0aWMgY29uc3QgdTMyICppY2xfZ2V0X3BsYW5lX2Zvcm1hdHMoc3RydWN0DQo+IGRy
bV9pOTE1X3ByaXZhdGUgKmRldl9wcml2LA0KPiAgCX0NCj4gIH0NCj4gIA0KPiArc3RhdGljIGNv
bnN0IHU2NCAqZ2VuMTJfZ2V0X3BsYW5lX21vZGlmaWVycyhlbnVtIHBsYW5lX2lkIHBsYW5lX2lk
KQ0KPiArew0KPiArCWlmIChnZW4xMl9wbGFuZV9zdXBwb3J0c19tY19jY3MocGxhbmVfaWQpKQ0K
PiArCQlyZXR1cm4gZ2VuMTJfcGxhbmVfZm9ybWF0X21vZGlmaWVyc19tY19jY3M7DQo+ICsJZWxz
ZQ0KPiArCQlyZXR1cm4gZ2VuMTJfcGxhbmVfZm9ybWF0X21vZGlmaWVyc19yY19jY3M7DQo+ICt9
DQo+ICsNCj4gIHN0YXRpYyBib29sIHNrbF9wbGFuZV9oYXNfY2NzKHN0cnVjdCBkcm1faTkxNV9w
cml2YXRlICpkZXZfcHJpdiwNCj4gIAkJCSAgICAgIGVudW0gcGlwZSBwaXBlLCBlbnVtIHBsYW5l
X2lkIHBsYW5lX2lkKQ0KPiAgew0KPiBAQCAtMjk3NCw3ICszMDA3LDcgQEAgc2tsX3VuaXZlcnNh
bF9wbGFuZV9jcmVhdGUoc3RydWN0DQo+IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2LA0KPiAg
DQo+ICAJcGxhbmUtPmhhc19jY3MgPSBza2xfcGxhbmVfaGFzX2NjcyhkZXZfcHJpdiwgcGlwZSwg
cGxhbmVfaWQpOw0KPiAgCWlmIChJTlRFTF9HRU4oZGV2X3ByaXYpID49IDEyKSB7DQo+IC0JCW1v
ZGlmaWVycyA9IGdlbjEyX3BsYW5lX2Zvcm1hdF9tb2RpZmllcnNfY2NzOw0KPiArCQltb2RpZmll
cnMgPSBnZW4xMl9nZXRfcGxhbmVfbW9kaWZpZXJzKHBsYW5lX2lkKTsNCj4gIAkJcGxhbmVfZnVu
Y3MgPSAmZ2VuMTJfcGxhbmVfZnVuY3M7DQo+ICAJfSBlbHNlIHsNCj4gIAkJaWYgKHBsYW5lLT5o
YXNfY2NzKQ0KPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9yZWcuaA0K
PiBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfcmVnLmgNCj4gaW5kZXggYmJmZWRlYjAwYjdm
Li5iNmRjNzM1ZTg1ZTEgMTAwNjQ0DQo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVf
cmVnLmgNCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9yZWcuaA0KPiBAQCAtNjgw
OCw2ICs2ODA4LDcgQEAgZW51bSB7DQo+ICAjZGVmaW5lICAgUExBTkVfQ1RMX1RJTEVEX1kJCQko
NCA8PCAxMCkNCj4gICNkZWZpbmUgICBQTEFORV9DVExfVElMRURfWUYJCQkoNSA8PCAxMCkNCj4g
ICNkZWZpbmUgICBQTEFORV9DVExfRkxJUF9IT1JJWk9OVEFMCQkoMSA8PCA4KQ0KPiArI2RlZmlu
ZSAgIFBMQU5FX0NUTF9NRURJQV9ERUNPTVBSRVNTSU9OX0VOQUJMRQkoMSA8PCA0KSAvKg0KPiBU
R0wrICovDQo+ICAjZGVmaW5lICAgUExBTkVfQ1RMX0FMUEhBX01BU0sJCQkoMHgzIDw8IDQpIC8q
DQo+IFByZS1HTEsgKi8NCj4gICNkZWZpbmUgICBQTEFORV9DVExfQUxQSEFfRElTQUJMRQkJKDAg
PDwgNCkNCj4gICNkZWZpbmUgICBQTEFORV9DVExfQUxQSEFfU1dfUFJFTVVMVElQTFkJKDIgPDwg
NCkNCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCkludGVs
LWdmeCBtYWlsaW5nIGxpc3QKSW50ZWwtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczov
L2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2ludGVsLWdmeAo=

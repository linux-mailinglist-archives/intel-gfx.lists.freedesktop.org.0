Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 46ADC1F9EEA
	for <lists+intel-gfx@lfdr.de>; Mon, 15 Jun 2020 19:58:56 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id E37476E4B1;
	Mon, 15 Jun 2020 17:58:53 +0000 (UTC)
X-Original-To: Intel-gfx@lists.freedesktop.org
Delivered-To: Intel-gfx@lists.freedesktop.org
Received: from mga09.intel.com (mga09.intel.com [134.134.136.24])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 2EAAF6E4B1
 for <Intel-gfx@lists.freedesktop.org>; Mon, 15 Jun 2020 17:58:51 +0000 (UTC)
IronPort-SDR: zgsCI0lF+Se+Q/yygQkKSQ2P+LX2GTVZyQFm4XfgogtBkLhsUcFBfx+bLSM82yT2na7yCunAM/
 hnS90Rr+qk/Q==
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from fmsmga001.fm.intel.com ([10.253.24.23])
 by orsmga102.jf.intel.com with ESMTP/TLS/ECDHE-RSA-AES256-GCM-SHA384;
 15 Jun 2020 10:58:51 -0700
IronPort-SDR: gjs4vQECXVkHjp04gseQZWJ+e6pWaXj+veZ31OvdzTHsLmOiCbwOXildgf9eQufgrxc0ZgTttI
 iyFov0bF4L/w==
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.73,515,1583222400"; d="scan'208";a="382615575"
Received: from fmsmsx105.amr.corp.intel.com ([10.18.124.203])
 by fmsmga001.fm.intel.com with ESMTP; 15 Jun 2020 10:58:52 -0700
Received: from fmsmsx126.amr.corp.intel.com (10.18.125.43) by
 FMSMSX105.amr.corp.intel.com (10.18.124.203) with Microsoft SMTP Server (TLS)
 id 14.3.439.0; Mon, 15 Jun 2020 10:58:51 -0700
Received: from fmsmsx107.amr.corp.intel.com ([169.254.6.74]) by
 FMSMSX126.amr.corp.intel.com ([169.254.1.76]) with mapi id 14.03.0439.000;
 Mon, 15 Jun 2020 10:58:50 -0700
From: "Ruhl, Michael J" <michael.j.ruhl@intel.com>
To: Tvrtko Ursulin <tvrtko.ursulin@linux.intel.com>,
 "Intel-gfx@lists.freedesktop.org" <Intel-gfx@lists.freedesktop.org>
Thread-Topic: [PATCH v2] drm/i915: Remove redundant
 i915_request_await_object in blit clears
Thread-Index: AQHWQyfBzRq6WwcZhUC28EGcMGIyPqjZ189QgAB3pAD//6YYcA==
Date: Mon, 15 Jun 2020 17:58:49 +0000
Message-ID: <14063C7AD467DE4B82DEDB5C278E8663010F36497B@fmsmsx107.amr.corp.intel.com>
References: <20200615140928.27336-1-tvrtko.ursulin@linux.intel.com>
 <20200615151449.32605-1-tvrtko.ursulin@linux.intel.com>
 <14063C7AD467DE4B82DEDB5C278E8663010F364871@fmsmsx107.amr.corp.intel.com>
 <d99797ba-a7fe-342c-c98e-d606d53ac116@linux.intel.com>
In-Reply-To: <d99797ba-a7fe-342c-c98e-d606d53ac116@linux.intel.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
dlp-product: dlpe-windows
dlp-version: 11.2.0.6
dlp-reaction: no-action
x-originating-ip: [10.1.200.107]
MIME-Version: 1.0
Subject: Re: [Intel-gfx] [PATCH v2] drm/i915: Remove redundant
 i915_request_await_object in blit clears
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: Chris Wilson <chris@chris-wilson.co.uk>, "Auld,
 Matthew" <matthew.auld@intel.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

Pi0tLS0tT3JpZ2luYWwgTWVzc2FnZS0tLS0tDQo+RnJvbTogVHZydGtvIFVyc3VsaW4gPHR2cnRr
by51cnN1bGluQGxpbnV4LmludGVsLmNvbT4NCj5TZW50OiBNb25kYXksIEp1bmUgMTUsIDIwMjAg
MTI6MTYgUE0NCj5UbzogUnVobCwgTWljaGFlbCBKIDxtaWNoYWVsLmoucnVobEBpbnRlbC5jb20+
OyBJbnRlbC0NCj5nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnDQo+Q2M6IFVyc3VsaW4sIFR2cnRr
byA8dHZydGtvLnVyc3VsaW5AaW50ZWwuY29tPjsgQXVsZCwgTWF0dGhldw0KPjxtYXR0aGV3LmF1
bGRAaW50ZWwuY29tPjsgQ2hyaXMgV2lsc29uIDxjaHJpc0BjaHJpcy13aWxzb24uY28udWs+DQo+
U3ViamVjdDogUmU6IFtQQVRDSCB2Ml0gZHJtL2k5MTU6IFJlbW92ZSByZWR1bmRhbnQNCj5pOTE1
X3JlcXVlc3RfYXdhaXRfb2JqZWN0IGluIGJsaXQgY2xlYXJzDQo+DQo+DQo+T24gMTUvMDYvMjAy
MCAxNzoxMSwgUnVobCwgTWljaGFlbCBKIHdyb3RlOg0KPj4+IC0tLS0tT3JpZ2luYWwgTWVzc2Fn
ZS0tLS0tDQo+Pj4gRnJvbTogVHZydGtvIFVyc3VsaW4gPHR2cnRrby51cnN1bGluQGxpbnV4Lmlu
dGVsLmNvbT4NCj4+PiBTZW50OiBNb25kYXksIEp1bmUgMTUsIDIwMjAgMTE6MTUgQU0NCj4+PiBU
bzogSW50ZWwtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZw0KPj4+IENjOiBVcnN1bGluLCBUdnJ0
a28gPHR2cnRrby51cnN1bGluQGludGVsLmNvbT47IEF1bGQsIE1hdHRoZXcNCj4+PiA8bWF0dGhl
dy5hdWxkQGludGVsLmNvbT47IENocmlzIFdpbHNvbiA8Y2hyaXNAY2hyaXMtd2lsc29uLmNvLnVr
PjsNCj5SdWhsLA0KPj4+IE1pY2hhZWwgSiA8bWljaGFlbC5qLnJ1aGxAaW50ZWwuY29tPg0KPj4+
IFN1YmplY3Q6IFtQQVRDSCB2Ml0gZHJtL2k5MTU6IFJlbW92ZSByZWR1bmRhbnQNCj5pOTE1X3Jl
cXVlc3RfYXdhaXRfb2JqZWN0DQo+Pj4gaW4gYmxpdCBjbGVhcnMNCj4+Pg0KPj4+IEZyb206IFR2
cnRrbyBVcnN1bGluIDx0dnJ0a28udXJzdWxpbkBpbnRlbC5jb20+DQo+Pj4NCj4+PiBPbmUgaTkx
NV9yZXF1ZXN0X2F3YWl0X29iamVjdCBpcyBlbm91Z2ggYW5kIHdlIGtlZXAgdGhlIG9uZSB1bmRl
ciB0aGUNCj4+PiBvYmplY3QgbG9jayBzbyBpdCBpcyBmaW5hbC4NCj4+Pg0KPj4+IEF0IHRoZSBz
YW1lIHRpbWUgbW92ZSBhc3luYyBjbGZsdXNoaW5nIHNldHVwIHVuZGVyIHRoZSBzYW1lIGxvY2tl
ZA0KPj4+IHNlY3Rpb24gYW5kIGNvbnNvbGlkYXRlIGNvbW1vbiBjb2RlIGludG8gYSBoZWxwZXIg
ZnVuY3Rpb24uDQo+Pj4NCj4+PiB2MjoNCj4+PiAqIEVtaXQgaW5pdGlhbCBicmVhZGNydW1icyBh
ZnRlciBhd2F5cyBhcmUgc2V0IHVwLiAoQ2hyaXMpDQo+Pj4NCj4+PiBTaWduZWQtb2ZmLWJ5OiBU
dnJ0a28gVXJzdWxpbiA8dHZydGtvLnVyc3VsaW5AaW50ZWwuY29tPg0KPj4+IENjOiBNYXR0aGV3
IEF1bGQgPG1hdHRoZXcuYXVsZEBpbnRlbC5jb20+DQo+Pj4gQ2M6IENocmlzIFdpbHNvbiA8Y2hy
aXNAY2hyaXMtd2lsc29uLmNvLnVrPg0KPj4+IENjOiBNaWNoYWVsIEouIFJ1aGwgPG1pY2hhZWwu
ai5ydWhsQGludGVsLmNvbT4NCj4+PiAtLS0NCj4+PiAuLi4vZ3B1L2RybS9pOTE1L2dlbS9pOTE1
X2dlbV9vYmplY3RfYmx0LmMgICAgfCA1MiArKysrKysrKy0tLS0tLS0tLS0tDQo+Pj4gMSBmaWxl
IGNoYW5nZWQsIDIxIGluc2VydGlvbnMoKyksIDMxIGRlbGV0aW9ucygtKQ0KPj4+DQo+Pj4gZGlm
ZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9vYmplY3RfYmx0LmMN
Cj4+PiBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9vYmplY3RfYmx0LmMNCj4+
PiBpbmRleCBmNDU3ZDcxMzA0OTEuLmJmZGIzMmQ0Njg3NyAxMDA2NDQNCj4+PiAtLS0gYS9kcml2
ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fb2JqZWN0X2JsdC5jDQo+Pj4gKysrIGIvZHJp
dmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX29iamVjdF9ibHQuYw0KPj4+IEBAIC0xMjYs
NiArMTI2LDE3IEBAIHZvaWQgaW50ZWxfZW1pdF92bWFfcmVsZWFzZShzdHJ1Y3QgaW50ZWxfY29u
dGV4dA0KPj4+ICpjZSwgc3RydWN0IGk5MTVfdm1hICp2bWEpDQo+Pj4gCWludGVsX2VuZ2luZV9w
bV9wdXQoY2UtPmVuZ2luZSk7DQo+Pj4gfQ0KPj4+DQo+Pj4gK3N0YXRpYyBpbnQNCj4+PiArbW92
ZV9vYmpfdG9fZ3B1KHN0cnVjdCBkcm1faTkxNV9nZW1fb2JqZWN0ICpvYmosDQo+Pg0KPj4gSSBh
bSBub3QgdW5kZXJzdGFuZGluZyB0aGUgbmFtZSBvZiB0aGlzIGZ1bmN0aW9uLg0KPj4NCj4+IEhv
dyBpcyB0aGUgb2JqZWN0IG1vdmVkIHRvIHRoZSBncHU/ICBJcyBjbGZsdXNoIGEgbW92ZT8gT3Ig
aXMNCj4+IGl0IHRoYXQgaXQgaXMgbW92aW5nIHRvIHRoZSBncHUgZG9tYWluPw0KPj4NCj4+IFdo
YXQgYWJvdXQ6DQo+Pg0KPj4gb2JqX2ZsdXNoX2FuZF93YWl0KCkNCj4+DQo+PiBvciBqdXN0Og0K
Pj4NCj4+IGZsdXNoX2FuZF93YWl0KCkNCj4+DQo+PiA/DQo+Pg0KPj4gT3IgYW0gSSBtaXNzaW5n
IHNvbWV0aGluZz8g8J+Yig0KPg0KPlllcywgdGhlIGZhY3QgSSBoYXZlIHJlbmFtZWQgdGhlIGV4
aXN0aW5nIG1vdmVfdG9fZ3B1IHRvIG1vdmVfb2JqX3RvX2dwdQ0KPndoaWxlIG1vdmluZyBpdCB1
cCBpbiB0aGUgZmlsZSBhbmQgc28gcmlza2VkIGZhbGxpbmcgdmljdGltIHRvIGJpa2UNCj5zaGVk
ZGluZyBub3cuIDpEDQoNCk9rLg0KDQpDb2RlIHBhdGggbWFrZXMgc2Vuc2UgdG8gbWUuDQoNClJl
dmlld2VkLWJ5OiBNaWNoYWVsIEouIFJ1aGwgPG1pY2hhZWwuai5ydWhsQGludGVsLmNvbT4NCg0K
TQ0KDQo+DQo+UmVnYXJkcywNCj4NCj5UdnJ0a28NCj4NCj4+DQo+PiBNaWtlDQo+Pg0KPj4+ICsJ
CXN0cnVjdCBpOTE1X3JlcXVlc3QgKnJxLA0KPj4+ICsJCWJvb2wgd3JpdGUpDQo+Pj4gK3sNCj4+
PiArCWlmIChvYmotPmNhY2hlX2RpcnR5ICYgfm9iai0+Y2FjaGVfY29oZXJlbnQpDQo+Pj4gKwkJ
aTkxNV9nZW1fY2xmbHVzaF9vYmplY3Qob2JqLCAwKTsNCj4+PiArDQo+Pj4gKwlyZXR1cm4gaTkx
NV9yZXF1ZXN0X2F3YWl0X29iamVjdChycSwgb2JqLCB3cml0ZSk7DQo+Pj4gK30NCj4+PiArDQo+
Pj4gaW50IGk5MTVfZ2VtX29iamVjdF9maWxsX2JsdChzdHJ1Y3QgZHJtX2k5MTVfZ2VtX29iamVj
dCAqb2JqLA0KPj4+IAkJCSAgICAgc3RydWN0IGludGVsX2NvbnRleHQgKmNlLA0KPj4+IAkJCSAg
ICAgdTMyIHZhbHVlKQ0KPj4+IEBAIC0xNDMsMTIgKzE1NCw2IEBAIGludCBpOTE1X2dlbV9vYmpl
Y3RfZmlsbF9ibHQoc3RydWN0DQo+Pj4gZHJtX2k5MTVfZ2VtX29iamVjdCAqb2JqLA0KPj4+IAlp
ZiAodW5saWtlbHkoZXJyKSkNCj4+PiAJCXJldHVybiBlcnI7DQo+Pj4NCj4+PiAtCWlmIChvYmot
PmNhY2hlX2RpcnR5ICYgfm9iai0+Y2FjaGVfY29oZXJlbnQpIHsNCj4+PiAtCQlpOTE1X2dlbV9v
YmplY3RfbG9jayhvYmopOw0KPj4+IC0JCWk5MTVfZ2VtX2NsZmx1c2hfb2JqZWN0KG9iaiwgMCk7
DQo+Pj4gLQkJaTkxNV9nZW1fb2JqZWN0X3VubG9jayhvYmopOw0KPj4+IC0JfQ0KPj4+IC0NCj4+
PiAJYmF0Y2ggPSBpbnRlbF9lbWl0X3ZtYV9maWxsX2JsdChjZSwgdm1hLCB2YWx1ZSk7DQo+Pj4g
CWlmIChJU19FUlIoYmF0Y2gpKSB7DQo+Pj4gCQllcnIgPSBQVFJfRVJSKGJhdGNoKTsNCj4+PiBA
QCAtMTY1LDI3ICsxNzAsMjIgQEAgaW50IGk5MTVfZ2VtX29iamVjdF9maWxsX2JsdChzdHJ1Y3QN
Cj4+PiBkcm1faTkxNV9nZW1fb2JqZWN0ICpvYmosDQo+Pj4gCWlmICh1bmxpa2VseShlcnIpKQ0K
Pj4+IAkJZ290byBvdXRfcmVxdWVzdDsNCj4+Pg0KPj4+IC0JZXJyID0gaTkxNV9yZXF1ZXN0X2F3
YWl0X29iamVjdChycSwgb2JqLCB0cnVlKTsNCj4+PiAtCWlmICh1bmxpa2VseShlcnIpKQ0KPj4+
IC0JCWdvdG8gb3V0X3JlcXVlc3Q7DQo+Pj4gLQ0KPj4+IC0JaWYgKGNlLT5lbmdpbmUtPmVtaXRf
aW5pdF9icmVhZGNydW1iKSB7DQo+Pj4gLQkJZXJyID0gY2UtPmVuZ2luZS0+ZW1pdF9pbml0X2Jy
ZWFkY3J1bWIocnEpOw0KPj4+IC0JCWlmICh1bmxpa2VseShlcnIpKQ0KPj4+IC0JCQlnb3RvIG91
dF9yZXF1ZXN0Ow0KPj4+IC0JfQ0KPj4+IC0NCj4+PiAJaTkxNV92bWFfbG9jayh2bWEpOw0KPj4+
IC0JZXJyID0gaTkxNV9yZXF1ZXN0X2F3YWl0X29iamVjdChycSwgdm1hLT5vYmosIHRydWUpOw0K
Pj4+ICsJZXJyID0gbW92ZV9vYmpfdG9fZ3B1KHZtYS0+b2JqLCBycSwgdHJ1ZSk7DQo+Pj4gCWlm
IChlcnIgPT0gMCkNCj4+PiAJCWVyciA9IGk5MTVfdm1hX21vdmVfdG9fYWN0aXZlKHZtYSwgcnEs
DQo+Pj4gRVhFQ19PQkpFQ1RfV1JJVEUpOw0KPj4+IAlpOTE1X3ZtYV91bmxvY2sodm1hKTsNCj4+
PiAJaWYgKHVubGlrZWx5KGVycikpDQo+Pj4gCQlnb3RvIG91dF9yZXF1ZXN0Ow0KPj4+DQo+Pj4g
LQllcnIgPSBjZS0+ZW5naW5lLT5lbWl0X2JiX3N0YXJ0KHJxLA0KPj4+IC0JCQkJCWJhdGNoLT5u
b2RlLnN0YXJ0LCBiYXRjaC0+bm9kZS5zaXplLA0KPj4+IC0JCQkJCTApOw0KPj4+ICsJaWYgKGNl
LT5lbmdpbmUtPmVtaXRfaW5pdF9icmVhZGNydW1iKQ0KPj4+ICsJCWVyciA9IGNlLT5lbmdpbmUt
PmVtaXRfaW5pdF9icmVhZGNydW1iKHJxKTsNCj4+PiArDQo+Pj4gKwlpZiAobGlrZWx5KCFlcnIp
KQ0KPj4+ICsJCWVyciA9IGNlLT5lbmdpbmUtPmVtaXRfYmJfc3RhcnQocnEsDQo+Pj4gKwkJCQkJ
CWJhdGNoLT5ub2RlLnN0YXJ0LA0KPj4+ICsJCQkJCQliYXRjaC0+bm9kZS5zaXplLA0KPj4+ICsJ
CQkJCQkwKTsNCj4+PiBvdXRfcmVxdWVzdDoNCj4+PiAJaWYgKHVubGlrZWx5KGVycikpDQo+Pj4g
CQlpOTE1X3JlcXVlc3Rfc2V0X2Vycm9yX29uY2UocnEsIGVycik7DQo+Pj4gQEAgLTMxNywxNiAr
MzE3LDYgQEAgc3RydWN0IGk5MTVfdm1hICppbnRlbF9lbWl0X3ZtYV9jb3B5X2JsdChzdHJ1Y3QN
Cj4+PiBpbnRlbF9jb250ZXh0ICpjZSwNCj4+PiAJcmV0dXJuIEVSUl9QVFIoZXJyKTsNCj4+PiB9
DQo+Pj4NCj4+PiAtc3RhdGljIGludCBtb3ZlX3RvX2dwdShzdHJ1Y3QgaTkxNV92bWEgKnZtYSwg
c3RydWN0IGk5MTVfcmVxdWVzdCAqcnEsDQo+Ym9vbA0KPj4+IHdyaXRlKQ0KPj4+IC17DQo+Pj4g
LQlzdHJ1Y3QgZHJtX2k5MTVfZ2VtX29iamVjdCAqb2JqID0gdm1hLT5vYmo7DQo+Pj4gLQ0KPj4+
IC0JaWYgKG9iai0+Y2FjaGVfZGlydHkgJiB+b2JqLT5jYWNoZV9jb2hlcmVudCkNCj4+PiAtCQlp
OTE1X2dlbV9jbGZsdXNoX29iamVjdChvYmosIDApOw0KPj4+IC0NCj4+PiAtCXJldHVybiBpOTE1
X3JlcXVlc3RfYXdhaXRfb2JqZWN0KHJxLCBvYmosIHdyaXRlKTsNCj4+PiAtfQ0KPj4+IC0NCj4+
PiBpbnQgaTkxNV9nZW1fb2JqZWN0X2NvcHlfYmx0KHN0cnVjdCBkcm1faTkxNV9nZW1fb2JqZWN0
ICpzcmMsDQo+Pj4gCQkJICAgICBzdHJ1Y3QgZHJtX2k5MTVfZ2VtX29iamVjdCAqZHN0LA0KPj4+
IAkJCSAgICAgc3RydWN0IGludGVsX2NvbnRleHQgKmNlKQ0KPj4+IEBAIC0zNzUsNyArMzY1LDcg
QEAgaW50IGk5MTVfZ2VtX29iamVjdF9jb3B5X2JsdChzdHJ1Y3QNCj4+PiBkcm1faTkxNV9nZW1f
b2JqZWN0ICpzcmMsDQo+Pj4gCQlnb3RvIG91dF9yZXF1ZXN0Ow0KPj4+DQo+Pj4gCWZvciAoaSA9
IDA7IGkgPCBBUlJBWV9TSVpFKHZtYSk7IGkrKykgew0KPj4+IC0JCWVyciA9IG1vdmVfdG9fZ3B1
KHZtYVtpXSwgcnEsIGkpOw0KPj4+ICsJCWVyciA9IG1vdmVfb2JqX3RvX2dwdSh2bWFbaV0tPm9i
aiwgcnEsIGkpOw0KPj4+IAkJaWYgKHVubGlrZWx5KGVycikpDQo+Pj4gCQkJZ290byBvdXRfdW5s
b2NrOw0KPj4+IAl9DQo+Pj4gLS0NCj4+PiAyLjIwLjENCj4+DQpfX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fXwpJbnRlbC1nZnggbWFpbGluZyBsaXN0CkludGVs
LWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcv
bWFpbG1hbi9saXN0aW5mby9pbnRlbC1nZngK

Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id B202F7D99C
	for <lists+intel-gfx@lfdr.de>; Thu,  1 Aug 2019 12:45:13 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 1DC116E49D;
	Thu,  1 Aug 2019 10:45:12 +0000 (UTC)
X-Original-To: Intel-gfx@lists.freedesktop.org
Delivered-To: Intel-gfx@lists.freedesktop.org
Received: from fireflyinternet.com (mail.fireflyinternet.com [109.228.58.192])
 by gabe.freedesktop.org (Postfix) with ESMTPS id B0FA26E48D
 for <Intel-gfx@lists.freedesktop.org>; Thu,  1 Aug 2019 10:45:10 +0000 (UTC)
X-Default-Received-SPF: pass (skip=forwardok (res=PASS))
 x-ip-name=78.156.65.138; 
Received: from localhost (unverified [78.156.65.138]) 
 by fireflyinternet.com (Firefly Internet (M1)) with ESMTP (TLS) id
 17784764-1500050 for multiple; Thu, 01 Aug 2019 11:45:03 +0100
MIME-Version: 1.0
To: Intel-gfx@lists.freedesktop.org,
 Tvrtko Ursulin <tvrtko.ursulin@linux.intel.com>
From: Chris Wilson <chris@chris-wilson.co.uk>
In-Reply-To: <20190801101825.2784-5-tvrtko.ursulin@linux.intel.com>
References: <20190801101825.2784-1-tvrtko.ursulin@linux.intel.com>
 <20190801101825.2784-5-tvrtko.ursulin@linux.intel.com>
Message-ID: <156465630114.2512.5121906080629069813@skylake-alporthouse-com>
User-Agent: alot/0.6
Date: Thu, 01 Aug 2019 11:45:01 +0100
Subject: Re: [Intel-gfx] [RFC 4/4] drm/i915/pmu: Support multiple GPUs
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

UXVvdGluZyBUdnJ0a28gVXJzdWxpbiAoMjAxOS0wOC0wMSAxMToxODoyNSkKPiBGcm9tOiBUdnJ0
a28gVXJzdWxpbiA8dHZydGtvLnVyc3VsaW5AaW50ZWwuY29tPgo+IAo+IFdpdGggZGlzY3JldGUg
Z3JhcGhpY3Mgc3lzdGVtIGNhbiBoYXZlIGJvdGggaW50ZWdyYXRlZCBhbmQgZGlzY3JldGUgR1BV
Cj4gaGFuZGxlZCBieSBpOTE1Lgo+IAo+IEN1cnJlbnRseSB3ZSB1c2UgYSBmaXhlZCBuYW1lICgi
aTkxNSIpIHdoZW4gcmVnaXN0ZXJpbmcgYXMgdGhlIHVuY29yZSBQTVUKPiBwcm92aWRlciB3aGlj
aCBzdG9wcyB3b3JraW5nIGluIHRoaXMgY2FzZS4KPiAKPiBBZGQgYW4gdW5pcXVlIGluc3RhbmNl
IG51bWJlciBpbiBmb3JtIG9mICJpOTE1LTxpbnN0YW5jZT4iIHRvIGVhY2gKPiByZWdpc3RlcmVk
IFBNVSB0byBzdXBwb3J0IHRoaXMuIEZpcnN0IGluc3RhbmNlIGtlZXBzIHRoZSBvbGQgbmFtZSB0
bwo+IHByZXNlcnZlIGNvbXBhdGliaWxpdHkgd2l0aCBleGlzdGluZyB1c2Vyc3BhY2UuCj4gCj4g
U2lnbmVkLW9mZi1ieTogVHZydGtvIFVyc3VsaW4gPHR2cnRrby51cnN1bGluQGludGVsLmNvbT4K
PiBDYzogQ2hyaXMgV2lsc29uIDxjaHJpc0BjaHJpcy13aWxzb24uY28udWs+Cj4gQ2M6IE1pY2hh
bCBXYWpkZWN6a28gPG1pY2hhbC53YWpkZWN6a29AaW50ZWwuY29tPgo+IC0tLQo+IE9uZSBwcm9i
bGVtIGlzIGhvdyB0byB0aWUgY2FycyBhbmQgUE1Vcy4KPiAKPiBTaG91bGQgd2UgYXBwZW5kIHNv
bWV0aGluZyBiZXR0ZXIgdGhhbiB0aGUgb3BhcXVlIGluc3RhbmNlICh3aGljaAo+IGRlcGVuZHMg
b24gcHJvYmluZyBvcmRlcik/IExpa2Ugc29tZSBidXMgc2xvdCBpZD8gQnV0IHRoZW4gd2UgaGF2
ZSB0bwo+IHNheSBnb29kYnllIHRvIHByZXNlcnZpbmcgdGhlICJsZWdhY3kiIG5hbWUgImk5MTUi
Lgo+IAo+IEkgY291bGRuJ3QgZmluZCB0aGF0IHBlcmYgc3VwcG9ydHMgYW55dGhpbmcgZm9yIHRo
ZXNlIHNjZW5hcmlvcy4KPiAKPiBPciBtYXliZSB3ZSBjYW4gYWRkIGEgbmV3IGZpbGUgKHN5c2Zz
PyksIHdoaWNoIHdvdWxkIGJlIGNvcnJlY3RseSB1bmRlcgo+IHRoZSBidXMgaGllcmFyY2h5LCBh
bmQgd291bGQgZXhwb3J0IHRoZSBuYW1lIG9mIHRoZSBQTVUgaW5zdGFuY2UgdG8KPiB1c2U/CgpX
ZSBkZWZpbml0ZWx5IG5lZWQgdG8gYWRkIHNvbWUgbWVhbnMgb2YgdW5pcXVlbHkgaWRlbnRpZnlp
bmcgaTkxNSBpbnRvCnN5c2ZzLCBhbmQgZm9yIHVzIHRvIGxpbmsgZnJvbSBidXMvcGNpL2Rldmlj
ZXMvIEl0IHNlZW1zIG9kZCB0aGF0IHRoaXMKaXMgbm90IGEgc29sdmVkIHByb2JsZW0gOnwgKFdo
aWNoIG1lYW5zIEkndmUgcHJvYmFibHkgbWlzc2VkIGhvdyBpdCBpcwptZWFudCB0byBiZSBkb25l
LikKClN0b3JpbmcgYSBwbXUtbmFtZSBpbnNpZGUgc3lzZnMgc2VlbXMgcmVhc29uYWJsZSwgYW5k
IHBvc3Rwb25lcyB0aGUKcHJvYmxlbSBvZiBwZXJzaXN0ZW50IGRldmljZSBuYW1lcyBmb3IgaTkx
NSB1bnRpbCBsYXRlciA6KQooRndpdywgaG93IGFib3V0IHVzaW5nIGk5MTUtJHtwY2lfYWRkcn0s
IG9yIGV2ZW4ganVzdCAke3BjaV9hZGRyfT8gSQpleHBlY3QgdGhhdCBwZXJmIHdpbGwgZ3JvdyBt
dWx0aXBsZSBsb29rdXAgcGF0aHMgaWYgbW9yZSBob3RwbHVnZ2FibGUKZGV2aWNlcyBzdGFydCBz
dXBwb3J0aW5nIHBlcmYgZXZlbnRzcykKCj4gLS0tCj4gIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2k5
MTVfcG11LmMgfCAyMiArKysrKysrKysrKysrKysrKysrKy0tCj4gIGRyaXZlcnMvZ3B1L2RybS9p
OTE1L2k5MTVfcG11LmggfCAgOCArKysrKysrKwo+ICAyIGZpbGVzIGNoYW5nZWQsIDI4IGluc2Vy
dGlvbnMoKyksIDIgZGVsZXRpb25zKC0pCj4gCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2k5MTVfcG11LmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3BtdS5jCj4gaW5k
ZXggN2M0OGZjZjBjY2NiLi4xMDUyNDZhZTUxNjAgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUv
ZHJtL2k5MTUvaTkxNV9wbXUuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfcG11
LmMKPiBAQCAtMTA1Myw2ICsxMDUzLDggQEAgc3RhdGljIHZvaWQgaTkxNV9wbXVfdW5yZWdpc3Rl
cl9jcHVocF9zdGF0ZShzdHJ1Y3QgaTkxNV9wbXUgKnBtdSkKPiAgICAgICAgIGNwdWhwX3JlbW92
ZV9tdWx0aV9zdGF0ZShjcHVocF9zbG90KTsKPiAgfQo+ICAKPiArc3RhdGljIGF0b21pY190IGk5
MTVfcG11X2luc3RhbmNlID0gQVRPTUlDX0lOSVQoMCk7Cj4gKwo+ICB2b2lkIGk5MTVfcG11X3Jl
Z2lzdGVyKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICppOTE1KQo+ICB7Cj4gICAgICAgICBzdHJ1
Y3QgaTkxNV9wbXUgKnBtdSA9ICZpOTE1LT5wbXU7Cj4gQEAgLTEwODMsOSArMTA4NSwxNyBAQCB2
b2lkIGk5MTVfcG11X3JlZ2lzdGVyKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICppOTE1KQo+ICAg
ICAgICAgaHJ0aW1lcl9pbml0KCZwbXUtPnRpbWVyLCBDTE9DS19NT05PVE9OSUMsIEhSVElNRVJf
TU9ERV9SRUwpOwo+ICAgICAgICAgcG11LT50aW1lci5mdW5jdGlvbiA9IGk5MTVfc2FtcGxlOwo+
ICAKPiAtICAgICAgIHJldCA9IHBlcmZfcG11X3JlZ2lzdGVyKCZwbXUtPmJhc2UsICJpOTE1Iiwg
LTEpOwo+ICsgICAgICAgcG11LT5pbnN0YW5jZSA9IGF0b21pY19pbmNfcmV0dXJuKCZpOTE1X3Bt
dV9pbnN0YW5jZSkgLSAxOwo+ICsgICAgICAgaWYgKHBtdS0+aW5zdGFuY2UpCj4gKyAgICAgICAg
ICAgICAgIHBtdS0+bmFtZSA9IGthc3ByaW50ZihHRlBfS0VSTkVMLCAiaTkxNS0ldSIsIHBtdS0+
aW5zdGFuY2UpOwo+ICsgICAgICAgZWxzZQo+ICsgICAgICAgICAgICAgICBwbXUtPm5hbWUgPSAi
aTkxNSI7Cj4gKyAgICAgICBpZiAoIXBtdS0+bmFtZSkKPiArICAgICAgICAgICAgICAgZ290byBl
cnJfaW5zdGFuY2U7Cj4gKwo+ICsgICAgICAgcmV0ID0gcGVyZl9wbXVfcmVnaXN0ZXIoJnBtdS0+
YmFzZSwgcG11LT5uYW1lLCAtMSk7CgpJaXJjLCB0aGUgbmFtZSBpcyBiYXNpY2FsbHkgb25seSB1
c2VkIHRvIGNvbnN0cnVjdCB0aGUgcGVyZiBzeXNmcywgYW5kCnRoZSB0b29scyBleHRyYWN0IHRo
ZSBldmVudCBuYW1lcyBhbmQgdGFncyBmcm9tIHRoZSBzeXNmcy4gU28gSSB3b25kZXIKaWYgd2Ug
Y291bGQgYWRkIGEgc3ltbGluay4uLgotQ2hyaXMKX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX18KSW50ZWwtZ2Z4IG1haWxpbmcgbGlzdApJbnRlbC1nZnhAbGlz
dHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4v
bGlzdGluZm8vaW50ZWwtZ2Z4

Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 6D506222E5F
	for <lists+intel-gfx@lfdr.de>; Fri, 17 Jul 2020 00:06:09 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id BCF456ED06;
	Thu, 16 Jul 2020 22:06:07 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga02.intel.com (mga02.intel.com [134.134.136.20])
 by gabe.freedesktop.org (Postfix) with ESMTPS id D2CDD6ED04
 for <intel-gfx@lists.freedesktop.org>; Thu, 16 Jul 2020 22:06:05 +0000 (UTC)
IronPort-SDR: kLCo9ijsNBuKNsXthIcwAV+y5UzMLYg3UUkIUrvL4liXTJA81TaVFrtsxkAWG9vY/iTDxudqqo
 0I0KI6Fh85bg==
X-IronPort-AV: E=McAfee;i="6000,8403,9684"; a="137621981"
X-IronPort-AV: E=Sophos;i="5.75,360,1589266800"; d="scan'208";a="137621981"
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga003.jf.intel.com ([10.7.209.27])
 by orsmga101.jf.intel.com with ESMTP/TLS/ECDHE-RSA-AES256-GCM-SHA384;
 16 Jul 2020 15:06:05 -0700
IronPort-SDR: pWCgQRk2XIO74hzO9Jz4XvZ6O5BqQ2rusGwhhHi2xzLpm5+vDZiDBB2ptsuELJSbjEGyaC8xx3
 q4qCN5hFV8TQ==
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.75,360,1589266800"; d="scan'208";a="282596119"
Received: from mdroper-desk1.fm.intel.com ([10.1.27.168])
 by orsmga003.jf.intel.com with ESMTP; 16 Jul 2020 15:06:05 -0700
From: Matt Roper <matthew.d.roper@intel.com>
To: intel-gfx@lists.freedesktop.org
Date: Thu, 16 Jul 2020 15:05:49 -0700
Message-Id: <20200716220551.2730644-4-matthew.d.roper@intel.com>
X-Mailer: git-send-email 2.24.1
In-Reply-To: <20200716220551.2730644-1-matthew.d.roper@intel.com>
References: <20200716220551.2730644-1-matthew.d.roper@intel.com>
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH v8 3/5] drm/i915/rkl: Add DPLL4 support
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: Lucas De Marchi <lucas.demarchi@intel.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

Um9ja2V0IExha2UgaGFzIGEgdGhpcmQgRFBMTCAoY2FsbGVkICdEUExMNCcpIHRoYXQgbXVzdCBi
ZSB1c2VkIHRvCmVuYWJsZSBhIHRoaXJkIGRpc3BsYXkuICBVbmxpa2UgRUhMJ3MgdmFyaWFudCBv
ZiBEUExMNCwgdGhlIFJLTCB2YXJpYW50CmJlaGF2ZXMgdGhlIHNhbWUgYXMgRFBMTDAvMS4gIEFu
ZCBkZXNwaXRlIGl0cyBuYW1lLCB0aGUgRFBMTDQgcmVnaXN0ZXJzCmFyZSBvZmZzZXQgYXMgaWYg
aXQgd2VyZSBEUExMMi4KCnYyOgogLSBBZGQgbmV3IC51cGRhdGVfcmVmX2Nsa3MoKSBob29rLgoK
djM6CiAtIFJlbnVtYmVyIFRCVCBQTEwgdG8gJzMnIGFuZCBzd2l0Y2ggX01NSU9fUExMMyB0byBf
TU1JT19QTEwgKEx1Y2FzKQoKdjQ6CiAtIERvbid0IGRyb3AgX01NSU9fUExMMzsgYWx0aG91Z2gg
aXQncyBub3cgdW51c2VkLCB3ZSdyZSBnb2luZyB0byBuZWVkCiAgIGl0IHZlcnkgc29vbiBhZ2Fp
biBmb3IgdXBjb21pbmcgREcxIHBhdGNoZXMuICAoTHVjYXMpCgp2NToKIC0gRG9uJ3QgcmUtbnVt
YmVyIFRCVCBQTEwgYW5kIGJleW9uZCwganVzdCB1c2UgbmV3IFJLTF9EUExMX0NGR0NSCiAgIG1h
Y3JvcyB0byBsb29rdXAgdGhlIHByb3BlciByZWdpc3RlcnMgaW5zdGVhZC4gIEFsdGhvdWdoIHJl
bnVtYmVyaW5nCiAgIHRoZSBQTExzIG1pZ2h0IGJlIHNvbWV0aGluZyB3ZSB3YW50IHRvIGNvbnNp
ZGVyIGRvd24gdGhlIHJvYWQsIGl0CiAgIG9wZW5zIGEgYmlnIGNhbiBvZiB3b3JtcyByaWdodCBu
b3cgc2luY2UgYSBidW5jaCBvZiBwbGFjZXMgaW4gdGhlCiAgIGNvZGUgaGF2ZSBhbiBhc3N1bXB0
aW9uIHRoYXQgdGhlIFBMTCB0YWJsZSBoYXMgaWR4PT1pZCBhbmQgbm8gaG9sZXMuCiAgIFJlbnVt
YmVyaW5nIGNyZWF0ZXMgYSBob2xlIGZvciBUR0wsIHNvIHdlJ2QgZWl0aGVyIG5lZWQgdG8gYWxs
b3cKICAgaG9sZXMgaW4gdGhlIHRhYmxlIG9yIGJyZWFrIHRoZSBpZHg9PWlkIGludmFyaWFudCwg
Ym90aCBvZiB3aGljaCBhcmUKICAgc29tZXdoYXQgaW52YXNpdmUgY2hhbmdlcyB0byB0aGUgZGVz
aWduLgoKQnNwZWM6IDQ5MjAyCkJzcGVjOiA0OTQ0MwpCc3BlYzogNTAyODgKQnNwZWM6IDUwMjg5
CkNjOiBMdWNhcyBEZSBNYXJjaGkgPGx1Y2FzLmRlbWFyY2hpQGludGVsLmNvbT4KQ2M6IEpvc8Op
IFJvYmVydG8gZGUgU291emEgPGpvc2Uuc291emFAaW50ZWwuY29tPgpTaWduZWQtb2ZmLWJ5OiBN
YXR0IFJvcGVyIDxtYXR0aGV3LmQucm9wZXJAaW50ZWwuY29tPgotLS0KIGRyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2Rpc3BsYXkvaW50ZWxfZHBsbF9tZ3IuYyB8IDQxICsrKysrKysrKysrKysrKystLS0K
IGRyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfcmVnLmggICAgICAgICAgICAgICB8ICA2ICsrLQog
MiBmaWxlcyBjaGFuZ2VkLCA0MCBpbnNlcnRpb25zKCspLCA3IGRlbGV0aW9ucygtKQoKZGlmZiAt
LWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZHBsbF9tZ3IuYyBiL2Ry
aXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZHBsbF9tZ3IuYwppbmRleCBhZWI2ZWUz
OTVjY2UuLjEzNGMyZWNmNGM4MCAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlz
cGxheS9pbnRlbF9kcGxsX21nci5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkv
aW50ZWxfZHBsbF9tZ3IuYwpAQCAtMzUwNCwxMyArMzUwNCwxOSBAQCBzdGF0aWMgYm9vbCBpY2xf
Z2V0X2NvbWJvX3BoeV9kcGxsKHN0cnVjdCBpbnRlbF9hdG9taWNfc3RhdGUgKnN0YXRlLAogCiAJ
aWNsX2NhbGNfZHBsbF9zdGF0ZShkZXZfcHJpdiwgJnBsbF9wYXJhbXMsICZwb3J0X2RwbGwtPmh3
X3N0YXRlKTsKIAotCWlmIChJU19FTEtIQVJUTEFLRShkZXZfcHJpdikgJiYgcG9ydCAhPSBQT1JU
X0EpCisJaWYgKElTX1JPQ0tFVExBS0UoZGV2X3ByaXYpKSB7CiAJCWRwbGxfbWFzayA9CiAJCQlC
SVQoRFBMTF9JRF9FSExfRFBMTDQpIHwKIAkJCUJJVChEUExMX0lEX0lDTF9EUExMMSkgfAogCQkJ
QklUKERQTExfSURfSUNMX0RQTEwwKTsKLQllbHNlCisJfSBlbHNlIGlmIChJU19FTEtIQVJUTEFL
RShkZXZfcHJpdikgJiYgcG9ydCAhPSBQT1JUX0EpIHsKKwkJZHBsbF9tYXNrID0KKwkJCUJJVChE
UExMX0lEX0VITF9EUExMNCkgfAorCQkJQklUKERQTExfSURfSUNMX0RQTEwxKSB8CisJCQlCSVQo
RFBMTF9JRF9JQ0xfRFBMTDApOworCX0gZWxzZSB7CiAJCWRwbGxfbWFzayA9IEJJVChEUExMX0lE
X0lDTF9EUExMMSkgfCBCSVQoRFBMTF9JRF9JQ0xfRFBMTDApOworCX0KIAogCXBvcnRfZHBsbC0+
cGxsID0gaW50ZWxfZmluZF9zaGFyZWRfZHBsbChzdGF0ZSwgY3J0YywKIAkJCQkJCSZwb3J0X2Rw
bGwtPmh3X3N0YXRlLApAQCAtMzc5MSw3ICszNzk3LDEyIEBAIHN0YXRpYyBib29sIGljbF9wbGxf
Z2V0X2h3X3N0YXRlKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiwKIAlpZiAoISh2
YWwgJiBQTExfRU5BQkxFKSkKIAkJZ290byBvdXQ7CiAKLQlpZiAoSU5URUxfR0VOKGRldl9wcml2
KSA+PSAxMikgeworCWlmIChJU19ST0NLRVRMQUtFKGRldl9wcml2KSkgeworCQlod19zdGF0ZS0+
Y2ZnY3IwID0gaW50ZWxfZGVfcmVhZChkZXZfcHJpdiwKKwkJCQkJCSBSS0xfRFBMTF9DRkdDUjAo
aWQpKTsKKwkJaHdfc3RhdGUtPmNmZ2NyMSA9IGludGVsX2RlX3JlYWQoZGV2X3ByaXYsCisJCQkJ
CQkgUktMX0RQTExfQ0ZHQ1IxKGlkKSk7CisJfSBlbHNlIGlmIChJTlRFTF9HRU4oZGV2X3ByaXYp
ID49IDEyKSB7CiAJCWh3X3N0YXRlLT5jZmdjcjAgPSBpbnRlbF9kZV9yZWFkKGRldl9wcml2LAog
CQkJCQkJIFRHTF9EUExMX0NGR0NSMChpZCkpOwogCQlod19zdGF0ZS0+Y2ZnY3IxID0gaW50ZWxf
ZGVfcmVhZChkZXZfcHJpdiwKQEAgLTM4NDQsNyArMzg1NSwxMCBAQCBzdGF0aWMgdm9pZCBpY2xf
ZHBsbF93cml0ZShzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYsCiAJY29uc3QgZW51
bSBpbnRlbF9kcGxsX2lkIGlkID0gcGxsLT5pbmZvLT5pZDsKIAlpOTE1X3JlZ190IGNmZ2NyMF9y
ZWcsIGNmZ2NyMV9yZWc7CiAKLQlpZiAoSU5URUxfR0VOKGRldl9wcml2KSA+PSAxMikgeworCWlm
IChJU19ST0NLRVRMQUtFKGRldl9wcml2KSkgeworCQljZmdjcjBfcmVnID0gUktMX0RQTExfQ0ZH
Q1IwKGlkKTsKKwkJY2ZnY3IxX3JlZyA9IFJLTF9EUExMX0NGR0NSMShpZCk7CisJfSBlbHNlIGlm
IChJTlRFTF9HRU4oZGV2X3ByaXYpID49IDEyKSB7CiAJCWNmZ2NyMF9yZWcgPSBUR0xfRFBMTF9D
RkdDUjAoaWQpOwogCQljZmdjcjFfcmVnID0gVEdMX0RQTExfQ0ZHQ1IxKGlkKTsKIAl9IGVsc2Ug
ewpAQCAtNDI3Niw2ICs0MjkwLDIxIEBAIHN0YXRpYyBjb25zdCBzdHJ1Y3QgaW50ZWxfZHBsbF9t
Z3IgdGdsX3BsbF9tZ3IgPSB7CiAJLmR1bXBfaHdfc3RhdGUgPSBpY2xfZHVtcF9od19zdGF0ZSwK
IH07CiAKK3N0YXRpYyBjb25zdCBzdHJ1Y3QgZHBsbF9pbmZvIHJrbF9wbGxzW10gPSB7CisJeyAi
RFBMTCAwIiwgJmNvbWJvX3BsbF9mdW5jcywgRFBMTF9JRF9JQ0xfRFBMTDAsIDAgfSwKKwl7ICJE
UExMIDEiLCAmY29tYm9fcGxsX2Z1bmNzLCBEUExMX0lEX0lDTF9EUExMMSwgMCB9LAorCXsgIkRQ
TEwgNCIsICZjb21ib19wbGxfZnVuY3MsIERQTExfSURfRUhMX0RQTEw0LCAwIH0sCisJeyB9LAor
fTsKKworc3RhdGljIGNvbnN0IHN0cnVjdCBpbnRlbF9kcGxsX21nciBya2xfcGxsX21nciA9IHsK
KwkuZHBsbF9pbmZvID0gcmtsX3BsbHMsCisJLmdldF9kcGxscyA9IGljbF9nZXRfZHBsbHMsCisJ
LnB1dF9kcGxscyA9IGljbF9wdXRfZHBsbHMsCisJLnVwZGF0ZV9yZWZfY2xrcyA9IGljbF91cGRh
dGVfZHBsbF9yZWZfY2xrcywKKwkuZHVtcF9od19zdGF0ZSA9IGljbF9kdW1wX2h3X3N0YXRlLAor
fTsKKwogLyoqCiAgKiBpbnRlbF9zaGFyZWRfZHBsbF9pbml0IC0gSW5pdGlhbGl6ZSBzaGFyZWQg
RFBMTHMKICAqIEBkZXY6IGRybSBkZXZpY2UKQEAgLTQyODksNyArNDMxOCw5IEBAIHZvaWQgaW50
ZWxfc2hhcmVkX2RwbGxfaW5pdChzdHJ1Y3QgZHJtX2RldmljZSAqZGV2KQogCWNvbnN0IHN0cnVj
dCBkcGxsX2luZm8gKmRwbGxfaW5mbzsKIAlpbnQgaTsKIAotCWlmIChJTlRFTF9HRU4oZGV2X3By
aXYpID49IDEyKQorCWlmIChJU19ST0NLRVRMQUtFKGRldl9wcml2KSkKKwkJZHBsbF9tZ3IgPSAm
cmtsX3BsbF9tZ3I7CisJZWxzZSBpZiAoSU5URUxfR0VOKGRldl9wcml2KSA+PSAxMikKIAkJZHBs
bF9tZ3IgPSAmdGdsX3BsbF9tZ3I7CiAJZWxzZSBpZiAoSVNfRUxLSEFSVExBS0UoZGV2X3ByaXYp
KQogCQlkcGxsX21nciA9ICZlaGxfcGxsX21ncjsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2k5MTVfcmVnLmggYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3JlZy5oCmluZGV4
IDAwNDE0YzQ1Nzk0MS4uYmZkYjZkMjNiNWQ4IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0v
aTkxNS9pOTE1X3JlZy5oCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfcmVnLmgKQEAg
LTEwNTExLDE5ICsxMDUxMSwyMSBAQCBlbnVtIHNrbF9wb3dlcl9nYXRlIHsKIAogI2RlZmluZSBf
VEdMX0RQTEwwX0NGR0NSMAkJMHgxNjQyODQKICNkZWZpbmUgX1RHTF9EUExMMV9DRkdDUjAJCTB4
MTY0MjhDCi0vKiBUT0RPOiBhZGQgRFBMTDQgKi8KICNkZWZpbmUgX1RHTF9UQlRQTExfQ0ZHQ1Iw
CQkweDE2NDI5QwogI2RlZmluZSBUR0xfRFBMTF9DRkdDUjAocGxsKQkJX01NSU9fUExMMyhwbGws
IF9UR0xfRFBMTDBfQ0ZHQ1IwLCBcCiAJCQkJCQkgIF9UR0xfRFBMTDFfQ0ZHQ1IwLCBcCiAJCQkJ
CQkgIF9UR0xfVEJUUExMX0NGR0NSMCkKKyNkZWZpbmUgUktMX0RQTExfQ0ZHQ1IwKHBsbCkJCV9N
TUlPX1BMTChwbGwsIF9UR0xfRFBMTDBfQ0ZHQ1IwLCBcCisJCQkJCQkgIF9UR0xfRFBMTDFfQ0ZH
Q1IwKQogCiAjZGVmaW5lIF9UR0xfRFBMTDBfQ0ZHQ1IxCQkweDE2NDI4OAogI2RlZmluZSBfVEdM
X0RQTEwxX0NGR0NSMQkJMHgxNjQyOTAKLS8qIFRPRE86IGFkZCBEUExMNCAqLwogI2RlZmluZSBf
VEdMX1RCVFBMTF9DRkdDUjEJCTB4MTY0MkEwCiAjZGVmaW5lIFRHTF9EUExMX0NGR0NSMShwbGwp
CQlfTU1JT19QTEwzKHBsbCwgX1RHTF9EUExMMF9DRkdDUjEsIFwKIAkJCQkJCSAgIF9UR0xfRFBM
TDFfQ0ZHQ1IxLCBcCiAJCQkJCQkgICBfVEdMX1RCVFBMTF9DRkdDUjEpCisjZGVmaW5lIFJLTF9E
UExMX0NGR0NSMShwbGwpCQlfTU1JT19QTEwocGxsLCBfVEdMX0RQTEwwX0NGR0NSMSwgXAorCQkJ
CQkJICBfVEdMX0RQTEwxX0NGR0NSMSkKIAogI2RlZmluZSBfREtMX1BIWTFfQkFTRQkJCTB4MTY4
MDAwCiAjZGVmaW5lIF9ES0xfUEhZMl9CQVNFCQkJMHgxNjkwMDAKLS0gCjIuMjQuMQoKX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KSW50ZWwtZ2Z4IG1haWxp
bmcgbGlzdApJbnRlbC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJl
ZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vaW50ZWwtZ2Z4Cg==

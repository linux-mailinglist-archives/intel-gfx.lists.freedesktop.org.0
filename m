Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 9DEC73010E8
	for <lists+intel-gfx@lfdr.de>; Sat, 23 Jan 2021 00:22:45 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 22C1E6EA75;
	Fri, 22 Jan 2021 23:22:39 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga12.intel.com (mga12.intel.com [192.55.52.136])
 by gabe.freedesktop.org (Postfix) with ESMTPS id D41F06EA6D
 for <intel-gfx@lists.freedesktop.org>; Fri, 22 Jan 2021 23:22:31 +0000 (UTC)
IronPort-SDR: x7bpLzlPSAISfNPSvLt5EyQAZx9SRWp2IU7R6O59BuRczroDlMQkvAmHH1IuAk2baZqO/jeapJ
 gVDhg13Zp/AQ==
X-IronPort-AV: E=McAfee;i="6000,8403,9872"; a="158703311"
X-IronPort-AV: E=Sophos;i="5.79,367,1602572400"; d="scan'208";a="158703311"
Received: from orsmga007.jf.intel.com ([10.7.209.58])
 by fmsmga106.fm.intel.com with ESMTP/TLS/ECDHE-RSA-AES256-GCM-SHA384;
 22 Jan 2021 15:22:31 -0800
IronPort-SDR: kobTTFPjuu/aRVMr+xTQiYO9cK8uG2aOfC0iGxkozK4X5x4rHAHfZuyiyPX3T38cNTY4ZPl+aS
 +HY/Gjo2IIQA==
X-IronPort-AV: E=Sophos;i="5.79,367,1602572400"; d="scan'208";a="392466032"
Received: from labuser-z97x-ud5h.jf.intel.com ([10.165.21.211])
 by orsmga007-auth.jf.intel.com with ESMTP/TLS/ECDHE-RSA-AES256-SHA;
 22 Jan 2021 15:22:29 -0800
From: Manasi Navare <manasi.d.navare@intel.com>
To: intel-gfx@lists.freedesktop.org
Date: Fri, 22 Jan 2021 15:26:43 -0800
Message-Id: <20210122232647.22688-14-manasi.d.navare@intel.com>
X-Mailer: git-send-email 2.19.1
In-Reply-To: <20210122232647.22688-1-manasi.d.navare@intel.com>
References: <20210122232647.22688-1-manasi.d.navare@intel.com>
MIME-Version: 1.0
Subject: [Intel-gfx] [CI v5 14/18] drm/i915/display: Add HW state readout
 for VRR
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

VGhpcyBmdW5jdGlvbnMgZ2V0cyB0aGUgVlJSIGNvbmZpZyBmcm9tIHRoZSBWUlIgcmVnaXN0ZXJz
CnRvIG1hdGNoIHRoZSBjcnRjIHN0YXRlIHZhcmlhYmxlcyBmb3IgVlJSLgoKdjI6CiogUmViYXNl
IChNYW5hc2kpCiogVXNlIEhBU19WUlIgKEphbmkgTikKCnYzOgoqIEdldCBwaXBlbGluZV9mdWxs
LCBmbGlwbGluZSAoVmlsbGUpCgpDYzogSmFuaSBOaWt1bGEgPGphbmkubmlrdWxhQGxpbnV4Lmlu
dGVsLmNvbT4KU2lnbmVkLW9mZi1ieTogTWFuYXNpIE5hdmFyZSA8bWFuYXNpLmQubmF2YXJlQGlu
dGVsLmNvbT4KUmV2aWV3ZWQtYnk6IFZpbGxlIFN5cmrDpGzDpCA8dmlsbGUuc3lyamFsYUBsaW51
eC5pbnRlbC5jb20+Ci0tLQogZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNw
bGF5LmMgfCAgMyArKysKIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfdnJyLmMg
ICAgIHwgMjAgKysrKysrKysrKysrKysrKysrKysKIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3Bs
YXkvaW50ZWxfdnJyLmggICAgIHwgIDMgKysrCiAzIGZpbGVzIGNoYW5nZWQsIDI2IGluc2VydGlv
bnMoKykKCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rp
c3BsYXkuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheS5jCmlu
ZGV4IDdmYzNmZmRiYzliNi4uMTM3MmNiMDQyMzE3IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9k
cm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXkuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkx
NS9kaXNwbGF5L2ludGVsX2Rpc3BsYXkuYwpAQCAtODk3OCw2ICs4OTc4LDkgQEAgc3RhdGljIGJv
b2wgaHN3X2dldF9waXBlX2NvbmZpZyhzdHJ1Y3QgaW50ZWxfY3J0YyAqY3J0YywKIAkJaW50ZWxf
Z2V0X3RyYW5zY29kZXJfdGltaW5ncyhjcnRjLCBwaXBlX2NvbmZpZyk7CiAJfQogCisJaWYgKEhB
U19WUlIoZGV2X3ByaXYpKQorCQlpbnRlbF92cnJfZ2V0X2NvbmZpZyhjcnRjLCBwaXBlX2NvbmZp
Zyk7CisKIAlpbnRlbF9nZXRfcGlwZV9zcmNfc2l6ZShjcnRjLCBwaXBlX2NvbmZpZyk7CiAKIAlp
ZiAoSVNfSEFTV0VMTChkZXZfcHJpdikpIHsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9p
OTE1L2Rpc3BsYXkvaW50ZWxfdnJyLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2lu
dGVsX3Zyci5jCmluZGV4IDc3NmI4YzVmOTNhNC4uYzcxMjU0NTYzYTEwIDEwMDY0NAotLS0gYS9k
cml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX3Zyci5jCisrKyBiL2RyaXZlcnMvZ3B1
L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfdnJyLmMKQEAgLTE0NywzICsxNDcsMjMgQEAgdm9pZCBp
bnRlbF92cnJfZGlzYWJsZShjb25zdCBzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqb2xkX2NydGNf
c3RhdGUpCiAJaW50ZWxfZGVfd3JpdGUoZGV2X3ByaXYsIFRSQU5TX1ZSUl9DVEwoY3B1X3RyYW5z
Y29kZXIpLCAwKTsKIAlpbnRlbF9kZV93cml0ZShkZXZfcHJpdiwgVFJBTlNfUFVTSChjcHVfdHJh
bnNjb2RlciksIDApOwogfQorCit2b2lkIGludGVsX3Zycl9nZXRfY29uZmlnKHN0cnVjdCBpbnRl
bF9jcnRjICpjcnRjLAorCQkJICBzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqY3J0Y19zdGF0ZSkK
K3sKKwlzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYgPSB0b19pOTE1KGNydGMtPmJh
c2UuZGV2KTsKKwllbnVtIHRyYW5zY29kZXIgY3B1X3RyYW5zY29kZXIgPSBjcnRjX3N0YXRlLT5j
cHVfdHJhbnNjb2RlcjsKKwl1MzIgdHJhbnNfdnJyX2N0bDsKKworCXRyYW5zX3Zycl9jdGwgPSBp
bnRlbF9kZV9yZWFkKGRldl9wcml2LCBUUkFOU19WUlJfQ1RMKGNwdV90cmFuc2NvZGVyKSk7CisJ
Y3J0Y19zdGF0ZS0+dnJyLmVuYWJsZSA9IHRyYW5zX3Zycl9jdGwgJiBWUlJfQ1RMX1ZSUl9FTkFC
TEU7CisJaWYgKCFjcnRjX3N0YXRlLT52cnIuZW5hYmxlKQorCQlyZXR1cm47CisKKwlpZiAodHJh
bnNfdnJyX2N0bCAmIFZSUl9DVExfUElQRUxJTkVfRlVMTF9PVkVSUklERSkKKwkJY3J0Y19zdGF0
ZS0+dnJyLnBpcGVsaW5lX2Z1bGwgPSBSRUdfRklFTERfR0VUKFZSUl9DVExfUElQRUxJTkVfRlVM
TF9NQVNLLCB0cmFuc192cnJfY3RsKTsKKwlpZiAodHJhbnNfdnJyX2N0bCAmIFZSUl9DVExfRkxJ
UF9MSU5FX0VOKQorCQljcnRjX3N0YXRlLT52cnIuZmxpcGxpbmUgPSBpbnRlbF9kZV9yZWFkKGRl
dl9wcml2LCBUUkFOU19WUlJfRkxJUExJTkUoY3B1X3RyYW5zY29kZXIpKSArIDE7CisJY3J0Y19z
dGF0ZS0+dnJyLnZtYXggPSBpbnRlbF9kZV9yZWFkKGRldl9wcml2LCBUUkFOU19WUlJfVk1BWChj
cHVfdHJhbnNjb2RlcikpICsgMTsKKwljcnRjX3N0YXRlLT52cnIudm1pbiA9IGludGVsX2RlX3Jl
YWQoZGV2X3ByaXYsIFRSQU5TX1ZSUl9WTUlOKGNwdV90cmFuc2NvZGVyKSkgKyAxOworfQpkaWZm
IC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF92cnIuaCBiL2RyaXZl
cnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfdnJyLmgKaW5kZXggNDMzNzljMmJkNGQ5Li43
NjEwMDUxZWRhZDIgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50
ZWxfdnJyLmgKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF92cnIuaApA
QCAtMTUsNiArMTUsNyBAQCBzdHJ1Y3QgaW50ZWxfY3J0YzsKIHN0cnVjdCBpbnRlbF9jcnRjX3N0
YXRlOwogc3RydWN0IGludGVsX2RwOwogc3RydWN0IGludGVsX2VuY29kZXI7CitzdHJ1Y3QgaW50
ZWxfY3J0YzsKIAogYm9vbCBpbnRlbF92cnJfaXNfY2FwYWJsZShzdHJ1Y3QgZHJtX2Nvbm5lY3Rv
ciAqY29ubmVjdG9yKTsKIHZvaWQgaW50ZWxfdnJyX2NoZWNrX21vZGVzZXQoc3RydWN0IGludGVs
X2F0b21pY19zdGF0ZSAqc3RhdGUpOwpAQCAtMjQsNSArMjUsNyBAQCB2b2lkIGludGVsX3Zycl9l
bmFibGUoc3RydWN0IGludGVsX2VuY29kZXIgKmVuY29kZXIsCiAJCSAgICAgIGNvbnN0IHN0cnVj
dCBpbnRlbF9jcnRjX3N0YXRlICpjcnRjX3N0YXRlKTsKIHZvaWQgaW50ZWxfdnJyX3NlbmRfcHVz
aChjb25zdCBzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqY3J0Y19zdGF0ZSk7CiB2b2lkIGludGVs
X3Zycl9kaXNhYmxlKGNvbnN0IHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpvbGRfY3J0Y19zdGF0
ZSk7Cit2b2lkIGludGVsX3Zycl9nZXRfY29uZmlnKHN0cnVjdCBpbnRlbF9jcnRjICpjcnRjLAor
CQkJICBzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqY3J0Y19zdGF0ZSk7CiAKICNlbmRpZiAvKiBf
X0lOVEVMX1ZSUl9IX18gKi8KLS0gCjIuMTkuMQoKX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX18KSW50ZWwtZ2Z4IG1haWxpbmcgbGlzdApJbnRlbC1nZnhAbGlz
dHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4v
bGlzdGluZm8vaW50ZWwtZ2Z4Cg==

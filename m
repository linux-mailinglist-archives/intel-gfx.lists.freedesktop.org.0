Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 35EDEB16E4
	for <lists+intel-gfx@lfdr.de>; Fri, 13 Sep 2019 02:31:37 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 1AFEA6EE5F;
	Fri, 13 Sep 2019 00:31:35 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga17.intel.com (mga17.intel.com [192.55.52.151])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 945016EE5F
 for <intel-gfx@lists.freedesktop.org>; Fri, 13 Sep 2019 00:31:33 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from fmsmga006.fm.intel.com ([10.253.24.20])
 by fmsmga107.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 12 Sep 2019 17:31:33 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.64,489,1559545200"; d="scan'208";a="386235073"
Received: from orsmsx108.amr.corp.intel.com ([10.22.240.6])
 by fmsmga006.fm.intel.com with ESMTP; 12 Sep 2019 17:31:32 -0700
Received: from orsmsx101.amr.corp.intel.com ([169.254.8.119]) by
 ORSMSX108.amr.corp.intel.com ([169.254.2.9]) with mapi id 14.03.0439.000;
 Thu, 12 Sep 2019 17:31:32 -0700
From: "Sripada, Radhakrishna" <radhakrishna.sripada@intel.com>
To: "De Marchi, Lucas" <lucas.demarchi@intel.com>,
 "intel-gfx@lists.freedesktop.org" <intel-gfx@lists.freedesktop.org>
Thread-Topic: [Intel-gfx] [PATCH v3 21/23] drm/i915/tgl: Gen-12 render
 decompression
Thread-Index: AQHVWZBwogJHRZTY8E6XJCwKeVj6nKco4YsA
Date: Fri, 13 Sep 2019 00:31:32 +0000
Message-ID: <8C2593290C2B3E488D763E819AF1F02E15F31C9F@ORSMSX101.amr.corp.intel.com>
References: <20190823082055.5992-1-lucas.demarchi@intel.com>
 <20190823082055.5992-22-lucas.demarchi@intel.com>
In-Reply-To: <20190823082055.5992-22-lucas.demarchi@intel.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-ctpclassification: CTP_NT
x-titus-metadata-40: eyJDYXRlZ29yeUxhYmVscyI6IiIsIk1ldGFkYXRhIjp7Im5zIjoiaHR0cDpcL1wvd3d3LnRpdHVzLmNvbVwvbnNcL0ludGVsMyIsImlkIjoiYjRkNDRkZmQtNmFkNS00MzFiLTg4NjQtNWRlZTk4OGVjMDY2IiwicHJvcHMiOlt7Im4iOiJDVFBDbGFzc2lmaWNhdGlvbiIsInZhbHMiOlt7InZhbHVlIjoiQ1RQX05UIn1dfV19LCJTdWJqZWN0TGFiZWxzIjpbXSwiVE1DVmVyc2lvbiI6IjE3LjEwLjE4MDQuNDkiLCJUcnVzdGVkTGFiZWxIYXNoIjoiXC9mY2xCU1U1aHRPKzg1elNyVjZzQTBDdnJcL2tBTjJ3S2x5Zm9TSDJkdWVDK2V0UjlBb0dNSlpLS1VidTNqN3RzIn0=
dlp-product: dlpe-windows
dlp-version: 11.0.400.15
dlp-reaction: no-action
x-originating-ip: [10.22.254.139]
MIME-Version: 1.0
Subject: Re: [Intel-gfx] [PATCH v3 21/23] drm/i915/tgl: Gen-12 render
 decompression
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: "Vetter, Daniel" <daniel.vetter@intel.com>, "Pandiyan,
 Dhinakaran" <dhinakaran.pandiyan@intel.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

DQoNCj4gLS0tLS1PcmlnaW5hbCBNZXNzYWdlLS0tLS0NCj4gRnJvbTogSW50ZWwtZ2Z4IFttYWls
dG86aW50ZWwtZ2Z4LWJvdW5jZXNAbGlzdHMuZnJlZWRlc2t0b3Aub3JnXSBPbiBCZWhhbGYNCj4g
T2YgTHVjYXMgRGUgTWFyY2hpDQo+IFNlbnQ6IEZyaWRheSwgQXVndXN0IDIzLCAyMDE5IDE6MjEg
QU0NCj4gVG86IGludGVsLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcNCj4gQ2M6IFZldHRlciwg
RGFuaWVsIDxkYW5pZWwudmV0dGVyQGludGVsLmNvbT47IFBhbmRpeWFuLCBEaGluYWthcmFuDQo+
IDxkaGluYWthcmFuLnBhbmRpeWFuQGludGVsLmNvbT4NCj4gU3ViamVjdDogW0ludGVsLWdmeF0g
W1BBVENIIHYzIDIxLzIzXSBkcm0vaTkxNS90Z2w6IEdlbi0xMiByZW5kZXINCj4gZGVjb21wcmVz
c2lvbg0KPiANCj4gRnJvbTogRGhpbmFrYXJhbiBQYW5kaXlhbiA8ZGhpbmFrYXJhbi5wYW5kaXlh
bkBpbnRlbC5jb20+DQo+IA0KPiBHZW4tMTIgZGVjb21wcmVzc2lvbiBpcyBzdXBwb3J0ZWQgd2l0
aCBZLXRpbGVkIG1haW4gc3VyZmFjZS4gVGhlIENDUyBpcw0KPiBsaW5lYXIgYW5kIGhhcyA0IGJp
dHMgb2YgZGF0YSBmb3IgZWFjaCBtYWluIHN1cmZhY2UgY2FjaGUgbGluZSBwYWlyLCBhIHJhdGlv
IG9mDQo+IDE6MjU2LiBHZW4tMTIgZGlzcGxheSBkZWNvbXByZXNzaW9uIGlzIGluY29tcGF0aWJs
ZSB3aXRoIGJ1ZmZlcnMNCj4gY29tcHJlc3NlZCBieSBlYXJsaWVyIEdQVXMsIHNvIG1ha2UgdXNl
IG9mIGEgbmV3IG1vZGlmaWVyIHRvIGlkZW50aWZ5DQo+IGdlbi0xMiBjb21wcmVzc2lvbi4gQW5v
dGhlciBub3RhYmxlIGNoYW5nZSBpcyB0aGF0IGRlY29tcHJlc3Npb24gaXMNCj4gc3VwcG9ydGVk
IG9uIGFsbCBwbGFuZXMgZXhjZXB0IGN1cnNvciBhbmQgb24gYWxsIHBpcGVzLiBUaGlzIHBhdGNo
IGFkZHMNCj4gZGVjb21wcmVzc2lvbiBzdXBwb3J0IGZvciBbQSxYXUJHUjg4OCBwaXhlbCBmb3Jt
YXRzLg0KPiANCj4gQnNwZWM6IDE4NDM3DQo+IA0KPiB2MjogRml4IGNoZWNrcGF0Y2ggd2Fybmlu
Z3MgKEx1Y2FzKQ0KPiANCj4gQ2M6IFZpbGxlIFN5cmrDpGzDpCA8dmlsbGUuc3lyamFsYUBsaW51
eC5pbnRlbC5jb20+DQo+IENjOiBSb2RyaWdvIFZpdmkgPHJvZHJpZ28udml2aUBpbnRlbC5jb20+
DQo+IENjOiBEYW5pZWwgVmV0dGVyIDxkYW5pZWwudmV0dGVyQGludGVsLmNvbT4NCj4gU2lnbmVk
LW9mZi1ieTogRGhpbmFrYXJhbiBQYW5kaXlhbiA8ZGhpbmFrYXJhbi5wYW5kaXlhbkBpbnRlbC5j
b20+DQo+IFNpZ25lZC1vZmYtYnk6IEx1Y2FzIERlIE1hcmNoaSA8bHVjYXMuZGVtYXJjaGlAaW50
ZWwuY29tPg0KPiAtLS0NCj4gIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlz
cGxheS5jIHwgNjMgKysrKysrKysrKysrKysrKystLS0NCj4gZHJpdmVycy9ncHUvZHJtL2k5MTUv
ZGlzcGxheS9pbnRlbF9zcHJpdGUuYyAgfCAyMyArKysrLS0tDQo+ICAyIGZpbGVzIGNoYW5nZWQs
IDcxIGluc2VydGlvbnMoKyksIDE1IGRlbGV0aW9ucygtKQ0KPiANCj4gZGlmZiAtLWdpdCBhL2Ry
aXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheS5jDQo+IGIvZHJpdmVycy9n
cHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5LmMNCj4gaW5kZXggMTA5ZDRmZDk2MWM2
Li4xOTBhZGJmZmUwNTUgMTAwNjQ0DQo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3Bs
YXkvaW50ZWxfZGlzcGxheS5jDQo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkv
aW50ZWxfZGlzcGxheS5jDQo+IEBAIC0xOTEyLDYgKzE5MTIsMTAgQEAgaW50ZWxfdGlsZV93aWR0
aF9ieXRlcyhjb25zdCBzdHJ1Y3QNCj4gZHJtX2ZyYW1lYnVmZmVyICpmYiwgaW50IGNvbG9yX3Bs
YW5lKQ0KPiAgCQlpZiAoY29sb3JfcGxhbmUgPT0gMSkNCj4gIAkJCXJldHVybiAxMjg7DQo+ICAJ
CS8qIGZhbGwgdGhyb3VnaCAqLw0KPiArCWNhc2UgSTkxNV9GT1JNQVRfTU9EX1lfVElMRURfR0VO
MTJfUkNfQ0NTOg0KPiArCQlpZiAoY29sb3JfcGxhbmUgPT0gMSkNCj4gKwkJCXJldHVybiBjcHA7
DQo+ICsJCS8qIGZhbGwgdGhyb3VnaCAqLw0KPiAgCWNhc2UgSTkxNV9GT1JNQVRfTU9EX1lfVElM
RUQ6DQo+ICAJCWlmIChJU19HRU4oZGV2X3ByaXYsIDIpIHx8DQo+IEhBU18xMjhfQllURV9ZX1RJ
TElORyhkZXZfcHJpdikpDQo+ICAJCQlyZXR1cm4gMTI4Ow0KPiBAQCAtMjA0NSw2ICsyMDQ5LDgg
QEAgc3RhdGljIHVuc2lnbmVkIGludCBpbnRlbF9zdXJmX2FsaWdubWVudChjb25zdA0KPiBzdHJ1
Y3QgZHJtX2ZyYW1lYnVmZmVyICpmYiwNCj4gIAkJaWYgKElOVEVMX0dFTihkZXZfcHJpdikgPj0g
OSkNCj4gIAkJCXJldHVybiAyNTYgKiAxMDI0Ow0KPiAgCQlyZXR1cm4gMDsNCj4gKwljYXNlIEk5
MTVfRk9STUFUX01PRF9ZX1RJTEVEX0dFTjEyX1JDX0NDUzoNCj4gKwkJcmV0dXJuIDQgKiA0ICog
MTAyNDsNCj4gIAljYXNlIEk5MTVfRk9STUFUX01PRF9ZX1RJTEVEX0NDUzoNCj4gIAljYXNlIEk5
MTVfRk9STUFUX01PRF9ZZl9USUxFRF9DQ1M6DQo+ICAJY2FzZSBJOTE1X0ZPUk1BVF9NT0RfWV9U
SUxFRDoNCj4gQEAgLTIyNDIsNyArMjI0OCw4IEBAIHN0YXRpYyB1MzIgaW50ZWxfYWRqdXN0X3Rp
bGVfb2Zmc2V0KGludCAqeCwgaW50ICp5LA0KPiANCj4gIHN0YXRpYyBib29sIGlzX3N1cmZhY2Vf
bGluZWFyKHU2NCBtb2RpZmllciwgaW50IGNvbG9yX3BsYW5lKSAgew0KPiAtCXJldHVybiBtb2Rp
ZmllciA9PSBEUk1fRk9STUFUX01PRF9MSU5FQVI7DQo+ICsJcmV0dXJuIG1vZGlmaWVyID09IERS
TV9GT1JNQVRfTU9EX0xJTkVBUiB8fA0KPiArCSAgICAgICAobW9kaWZpZXIgPT0gSTkxNV9GT1JN
QVRfTU9EX1lfVElMRURfR0VOMTJfUkNfQ0NTICYmDQo+ICtjb2xvcl9wbGFuZSA9PSAxKTsNCj4g
IH0NCj4gDQo+ICBzdGF0aWMgdTMyIGludGVsX2FkanVzdF9hbGlnbmVkX29mZnNldChpbnQgKngs
IGludCAqeSwgQEAgLTI0MjksNiArMjQzNiw3DQo+IEBAIHN0YXRpYyB1bnNpZ25lZCBpbnQgaW50
ZWxfZmJfbW9kaWZpZXJfdG9fdGlsaW5nKHU2NCBmYl9tb2RpZmllcikNCj4gIAkJcmV0dXJuIEk5
MTVfVElMSU5HX1g7DQo+ICAJY2FzZSBJOTE1X0ZPUk1BVF9NT0RfWV9USUxFRDoNCj4gIAljYXNl
IEk5MTVfRk9STUFUX01PRF9ZX1RJTEVEX0NDUzoNCj4gKwljYXNlIEk5MTVfRk9STUFUX01PRF9Z
X1RJTEVEX0dFTjEyX1JDX0NDUzoNClNob3VsZG7igJl0IHRoaXMgbW9kaWZpZXIgYmUgYWRkZWQg
dG8gc2tsX21heF9wbGFuZV93aWR0aCBhcyB3ZWxsPw0KDQpUaGFua3MsDQpSYWRoYWtyaXNobmEg
U3JpcGFkYQ0KPiAgCQlyZXR1cm4gSTkxNV9USUxJTkdfWTsNCj4gIAlkZWZhdWx0Og0KPiAgCQly
ZXR1cm4gSTkxNV9USUxJTkdfTk9ORTsNCj4gQEAgLTI0NDksNyArMjQ1Nyw3IEBAIHN0YXRpYyB1
bnNpZ25lZCBpbnQgaW50ZWxfZmJfbW9kaWZpZXJfdG9fdGlsaW5nKHU2NA0KPiBmYl9tb2RpZmll
cikNCj4gICAqIHVzIGEgcmF0aW8gb2Ygb25lIGJ5dGUgaW4gdGhlIENDUyBmb3IgZWFjaCA4eDE2
IHBpeGVscyBpbiB0aGUNCj4gICAqIG1haW4gc3VyZmFjZS4NCj4gICAqLw0KPiAtc3RhdGljIGNv
bnN0IHN0cnVjdCBkcm1fZm9ybWF0X2luZm8gY2NzX2Zvcm1hdHNbXSA9IHsNCj4gK3N0YXRpYyBj
b25zdCBzdHJ1Y3QgZHJtX2Zvcm1hdF9pbmZvIHNrbF9jY3NfZm9ybWF0c1tdID0gew0KPiAgCXsg
LmZvcm1hdCA9IERSTV9GT1JNQVRfWFJHQjg4ODgsIC5kZXB0aCA9IDI0LCAubnVtX3BsYW5lcyA9
IDIsDQo+ICAJICAuY3BwID0geyA0LCAxLCB9LCAuaHN1YiA9IDgsIC52c3ViID0gMTYsIH0sDQo+
ICAJeyAuZm9ybWF0ID0gRFJNX0ZPUk1BVF9YQkdSODg4OCwgLmRlcHRoID0gMjQsIC5udW1fcGxh
bmVzID0gMiwNCj4gQEAgLTI0NjAsNiArMjQ2OCwyNCBAQCBzdGF0aWMgY29uc3Qgc3RydWN0IGRy
bV9mb3JtYXRfaW5mbyBjY3NfZm9ybWF0c1tdDQo+ID0gew0KPiAgCSAgLmNwcCA9IHsgNCwgMSwg
fSwgLmhzdWIgPSA4LCAudnN1YiA9IDE2LCAuaGFzX2FscGhhID0gdHJ1ZSwgfSwgIH07DQo+IA0K
PiArLyoNCj4gKyAqIEdlbi0xMiBjb21wcmVzc2lvbiB1c2VzIDQgYml0cyBvZiBDQ1MgZGF0YSBm
b3IgZWFjaCBjYWNoZSBsaW5lIHBhaXINCj4gK2luIHRoZQ0KPiArICogbWFpbiBzdXJmYWNlLiBB
bmQgZWFjaCA2NEIgQ0NTIGNhY2hlIGxpbmUgcmVwcmVzZW50cyBhbiBhcmVhIG9mIDR4MQ0KPiAr
WS10aWxlcw0KPiArICogaW4gdGhlIG1haW4gc3VyZmFjZS4gV2l0aCA0IGJ5dGUgcGl4ZWxzIGFu
ZCBlYWNoIFktdGlsZSBoYXZpbmcNCj4gK2RpbWVuc2lvbnMgb2YNCj4gKyAqIDMyeDMyIHBpeGVs
cywgdGhlIHJhdGlvIHR1cm5zIG91dCB0byAxQiBpbiB0aGUgQ0NTIGZvciBldmVyeSAyIHggMzIN
Cj4gK3BpeGVscyBpbg0KPiArICogdGhlIG1haW4gc3VyZmFjZS4NCj4gKyAqLw0KPiArc3RhdGlj
IGNvbnN0IHN0cnVjdCBkcm1fZm9ybWF0X2luZm8gZ2VuMTJfY2NzX2Zvcm1hdHNbXSA9IHsNCj4g
Kwl7IC5mb3JtYXQgPSBEUk1fRk9STUFUX1hSR0I4ODg4LCAuZGVwdGggPSAyNCwgLm51bV9wbGFu
ZXMgPSAyLA0KPiArCSAgLmNwcCA9IHsgNCwgMSwgfSwgLmhzdWIgPSAyLCAudnN1YiA9IDMyLCB9
LA0KPiArCXsgLmZvcm1hdCA9IERSTV9GT1JNQVRfWEJHUjg4ODgsIC5kZXB0aCA9IDI0LCAubnVt
X3BsYW5lcyA9IDIsDQo+ICsJICAuY3BwID0geyA0LCAxLCB9LCAuaHN1YiA9IDIsIC52c3ViID0g
MzIsIH0sDQo+ICsJeyAuZm9ybWF0ID0gRFJNX0ZPUk1BVF9BUkdCODg4OCwgLmRlcHRoID0gMzIs
IC5udW1fcGxhbmVzID0gMiwNCj4gKwkgIC5jcHAgPSB7IDQsIDEsIH0sIC5oc3ViID0gMiwgLnZz
dWIgPSAzMiwgLmhhc19hbHBoYSA9IHRydWUgfSwNCj4gKwl7IC5mb3JtYXQgPSBEUk1fRk9STUFU
X0FCR1I4ODg4LCAuZGVwdGggPSAzMiwgLm51bV9wbGFuZXMgPSAyLA0KPiArCSAgLmNwcCA9IHsg
NCwgMSwgfSwgLmhzdWIgPSAyLCAudnN1YiA9IDMyLCAuaGFzX2FscGhhID0gdHJ1ZSB9LCB9Ow0K
PiArDQo+ICBzdGF0aWMgY29uc3Qgc3RydWN0IGRybV9mb3JtYXRfaW5mbyAqDQo+ICBsb29rdXBf
Zm9ybWF0X2luZm8oY29uc3Qgc3RydWN0IGRybV9mb3JtYXRfaW5mbyBmb3JtYXRzW10sDQo+ICAJ
CSAgIGludCBudW1fZm9ybWF0cywgdTMyIGZvcm1hdCkNCj4gQEAgLTI0ODAsOCArMjUwNiwxMiBA
QCBpbnRlbF9nZXRfZm9ybWF0X2luZm8oY29uc3Qgc3RydWN0DQo+IGRybV9tb2RlX2ZiX2NtZDIg
KmNtZCkNCj4gIAlzd2l0Y2ggKGNtZC0+bW9kaWZpZXJbMF0pIHsNCj4gIAljYXNlIEk5MTVfRk9S
TUFUX01PRF9ZX1RJTEVEX0NDUzoNCj4gIAljYXNlIEk5MTVfRk9STUFUX01PRF9ZZl9USUxFRF9D
Q1M6DQo+IC0JCXJldHVybiBsb29rdXBfZm9ybWF0X2luZm8oY2NzX2Zvcm1hdHMsDQo+IC0JCQkJ
CSAgQVJSQVlfU0laRShjY3NfZm9ybWF0cyksDQo+ICsJCXJldHVybiBsb29rdXBfZm9ybWF0X2lu
Zm8oc2tsX2Njc19mb3JtYXRzLA0KPiArCQkJCQkgIEFSUkFZX1NJWkUoc2tsX2Njc19mb3JtYXRz
KSwNCj4gKwkJCQkJICBjbWQtPnBpeGVsX2Zvcm1hdCk7DQo+ICsJY2FzZSBJOTE1X0ZPUk1BVF9N
T0RfWV9USUxFRF9HRU4xMl9SQ19DQ1M6DQo+ICsJCXJldHVybiBsb29rdXBfZm9ybWF0X2luZm8o
Z2VuMTJfY2NzX2Zvcm1hdHMsDQo+ICsJCQkJCSAgQVJSQVlfU0laRShnZW4xMl9jY3NfZm9ybWF0
cyksDQo+ICAJCQkJCSAgY21kLT5waXhlbF9mb3JtYXQpOw0KPiAgCWRlZmF1bHQ6DQo+ICAJCXJl
dHVybiBOVUxMOw0KPiBAQCAtMjQ5MCw3ICsyNTIwLDggQEAgaW50ZWxfZ2V0X2Zvcm1hdF9pbmZv
KGNvbnN0IHN0cnVjdA0KPiBkcm1fbW9kZV9mYl9jbWQyICpjbWQpDQo+IA0KPiAgYm9vbCBpc19j
Y3NfbW9kaWZpZXIodTY0IG1vZGlmaWVyKQ0KPiAgew0KPiAtCXJldHVybiBtb2RpZmllciA9PSBJ
OTE1X0ZPUk1BVF9NT0RfWV9USUxFRF9DQ1MgfHwNCj4gKwlyZXR1cm4gbW9kaWZpZXIgPT0gSTkx
NV9GT1JNQVRfTU9EX1lfVElMRURfR0VOMTJfUkNfQ0NTIHx8DQo+ICsJICAgICAgIG1vZGlmaWVy
ID09IEk5MTVfRk9STUFUX01PRF9ZX1RJTEVEX0NDUyB8fA0KPiAgCSAgICAgICBtb2RpZmllciA9
PSBJOTE1X0ZPUk1BVF9NT0RfWWZfVElMRURfQ0NTOyAgfQ0KPiANCj4gQEAgLTI2NTksNyArMjY5
MCwxMyBAQCBpbnRlbF9maWxsX2ZiX2luZm8oc3RydWN0IGRybV9pOTE1X3ByaXZhdGUNCj4gKmRl
dl9wcml2LA0KPiAgCQkJaW50IG1haW5feCwgbWFpbl95Ow0KPiAgCQkJaW50IGNjc194LCBjY3Nf
eTsNCj4gDQo+IC0JCQlpbnRlbF90aWxlX2RpbXMoZmIsIGksICZ0aWxlX3dpZHRoLCAmdGlsZV9o
ZWlnaHQpOw0KPiArCQkJaWYgKCFpc19zdXJmYWNlX2xpbmVhcihmYi0+bW9kaWZpZXIsIGkpKSB7
DQo+ICsJCQkJaW50ZWxfdGlsZV9kaW1zKGZiLCBpLCAmdGlsZV93aWR0aCwNCj4gJnRpbGVfaGVp
Z2h0KTsNCj4gKwkJCX0gZWxzZSB7DQo+ICsJCQkJdGlsZV93aWR0aCA9IDY0IC8gY3BwOw0KPiAr
CQkJCXRpbGVfaGVpZ2h0ID0gMTsNCj4gKwkJCX0NCj4gKw0KPiAgCQkJdGlsZV93aWR0aCAqPSBo
c3ViOw0KPiAgCQkJdGlsZV9oZWlnaHQgKj0gdnN1YjsNCj4gDQo+IEBAIC00MDUzLDYgKzQwOTAs
OCBAQCBzdGF0aWMgdTMyIHNrbF9wbGFuZV9jdGxfdGlsaW5nKHU2NCBmYl9tb2RpZmllcikNCj4g
IAljYXNlIEk5MTVfRk9STUFUX01PRF9ZX1RJTEVEOg0KPiAgCQlyZXR1cm4gUExBTkVfQ1RMX1RJ
TEVEX1k7DQo+ICAJY2FzZSBJOTE1X0ZPUk1BVF9NT0RfWV9USUxFRF9DQ1M6DQo+ICsJCS8qIGZh
bGwgdGhyb3VnaCAqLw0KPiArCWNhc2UgSTkxNV9GT1JNQVRfTU9EX1lfVElMRURfR0VOMTJfUkNf
Q0NTOg0KPiAgCQlyZXR1cm4gUExBTkVfQ1RMX1RJTEVEX1kgfA0KPiBQTEFORV9DVExfUkVOREVS
X0RFQ09NUFJFU1NJT05fRU5BQkxFOw0KPiAgCWNhc2UgSTkxNV9GT1JNQVRfTU9EX1lmX1RJTEVE
Og0KPiAgCQlyZXR1cm4gUExBTkVfQ1RMX1RJTEVEX1lGOw0KPiBAQCAtOTgyOCw3ICs5ODY3LDkg
QEAgc2t5bGFrZV9nZXRfaW5pdGlhbF9wbGFuZV9jb25maWcoc3RydWN0IGludGVsX2NydGMNCj4g
KmNydGMsDQo+ICAJY2FzZSBQTEFORV9DVExfVElMRURfWToNCj4gIAkJcGxhbmVfY29uZmlnLT50
aWxpbmcgPSBJOTE1X1RJTElOR19ZOw0KPiAgCQlpZiAodmFsICYgUExBTkVfQ1RMX1JFTkRFUl9E
RUNPTVBSRVNTSU9OX0VOQUJMRSkNCj4gLQkJCWZiLT5tb2RpZmllciA9IEk5MTVfRk9STUFUX01P
RF9ZX1RJTEVEX0NDUzsNCj4gKwkJCWZiLT5tb2RpZmllciA9IElOVEVMX0dFTihkZXZfcHJpdikg
Pj0gMTIgPw0KPiArDQo+IAlJOTE1X0ZPUk1BVF9NT0RfWV9USUxFRF9HRU4xMl9SQ19DQ1MgOg0K
PiArCQkJCUk5MTVfRk9STUFUX01PRF9ZX1RJTEVEX0NDUzsNCj4gIAkJZWxzZQ0KPiAgCQkJZmIt
Pm1vZGlmaWVyID0gSTkxNV9GT1JNQVRfTU9EX1lfVElMRUQ7DQo+ICAJCWJyZWFrOw0KPiBAQCAt
MTU2OTUsNiArMTU3MzYsMTQgQEAgc3RhdGljIGludCBpbnRlbF9mcmFtZWJ1ZmZlcl9pbml0KHN0
cnVjdA0KPiBpbnRlbF9mcmFtZWJ1ZmZlciAqaW50ZWxfZmIsDQo+ICAJCSAgICBpc19jY3NfbW9k
aWZpZXIoZmItPm1vZGlmaWVyKSkNCj4gIAkJCXN0cmlkZV9hbGlnbm1lbnQgKj0gNDsNCj4gDQo+
ICsJCS8qDQo+ICsJCSAqIFRoZSBtYWluIHN1cmZhY2UgcGl0Y2ggbXVzdCBiZSBwYWRlZCB0byBh
IG11bHRpcGxlIG9mIGZvdXINCj4gKwkJICogdGlsZSB3aWR0aHMuDQo+ICsJCSAqLw0KPiArCQlp
ZiAoZmItPm1vZGlmaWVyID09DQo+IEk5MTVfRk9STUFUX01PRF9ZX1RJTEVEX0dFTjEyX1JDX0ND
UyAmJg0KPiArCQkgICAgaSA9PSAwKQ0KPiArCQkJc3RyaWRlX2FsaWdubWVudCAqPSA0Ow0KPiAr
DQo+ICAJCWlmIChmYi0+cGl0Y2hlc1tpXSAmIChzdHJpZGVfYWxpZ25tZW50IC0gMSkpIHsNCj4g
IAkJCURSTV9ERUJVR19LTVMoInBsYW5lICVkIHBpdGNoICglZCkgbXVzdCBiZSBhdA0KPiBsZWFz
dCAldSBieXRlIGFsaWduZWRcbiIsDQo+ICAJCQkJICAgICAgaSwgZmItPnBpdGNoZXNbaV0sIHN0
cmlkZV9hbGlnbm1lbnQpOyBkaWZmIC0tDQo+IGdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rp
c3BsYXkvaW50ZWxfc3ByaXRlLmMNCj4gYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2lu
dGVsX3Nwcml0ZS5jDQo+IGluZGV4IDcxZGFlM2MyZjlkYi4uNzNkMzIwMTdiZTg5IDEwMDY0NA0K
PiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX3Nwcml0ZS5jDQo+ICsr
KyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfc3ByaXRlLmMNCj4gQEAgLTU0
Nyw2ICs1NDcsNyBAQCBza2xfcHJvZ3JhbV9wbGFuZShzdHJ1Y3QgaW50ZWxfcGxhbmUgKnBsYW5l
LA0KPiAgCWNvbnN0IHN0cnVjdCBkcm1faW50ZWxfc3ByaXRlX2NvbG9ya2V5ICprZXkgPSAmcGxh
bmVfc3RhdGUtPmNrZXk7DQo+ICAJdTMyIHN1cmZfYWRkciA9IHBsYW5lX3N0YXRlLT5jb2xvcl9w
bGFuZVtjb2xvcl9wbGFuZV0ub2Zmc2V0Ow0KPiAgCXUzMiBzdHJpZGUgPSBza2xfcGxhbmVfc3Ry
aWRlKHBsYW5lX3N0YXRlLCBjb2xvcl9wbGFuZSk7DQo+ICsJdTMyIGF1eF9kaXN0ID0gcGxhbmVf
c3RhdGUtPmNvbG9yX3BsYW5lWzFdLm9mZnNldCAtIHN1cmZfYWRkcjsNCj4gIAl1MzIgYXV4X3N0
cmlkZSA9IHNrbF9wbGFuZV9zdHJpZGUocGxhbmVfc3RhdGUsIDEpOw0KPiAgCWludCBjcnRjX3gg
PSBwbGFuZV9zdGF0ZS0+YmFzZS5kc3QueDE7DQo+ICAJaW50IGNydGNfeSA9IHBsYW5lX3N0YXRl
LT5iYXNlLmRzdC55MTsgQEAgLTU4OCw4ICs1ODksMTAgQEANCj4gc2tsX3Byb2dyYW1fcGxhbmUo
c3RydWN0IGludGVsX3BsYW5lICpwbGFuZSwNCj4gIAlJOTE1X1dSSVRFX0ZXKFBMQU5FX1NUUklE
RShwaXBlLCBwbGFuZV9pZCksIHN0cmlkZSk7DQo+ICAJSTkxNV9XUklURV9GVyhQTEFORV9QT1Mo
cGlwZSwgcGxhbmVfaWQpLCAoY3J0Y195IDw8IDE2KSB8DQo+IGNydGNfeCk7DQo+ICAJSTkxNV9X
UklURV9GVyhQTEFORV9TSVpFKHBpcGUsIHBsYW5lX2lkKSwgKHNyY19oIDw8IDE2KSB8IHNyY193
KTsNCj4gLQlJOTE1X1dSSVRFX0ZXKFBMQU5FX0FVWF9ESVNUKHBpcGUsIHBsYW5lX2lkKSwNCj4g
LQkJICAgICAgKHBsYW5lX3N0YXRlLT5jb2xvcl9wbGFuZVsxXS5vZmZzZXQgLSBzdXJmX2FkZHIp
IHwNCj4gYXV4X3N0cmlkZSk7DQo+ICsNCj4gKwlpZiAoSU5URUxfR0VOKGRldl9wcml2KSA8IDEy
KQ0KPiArCQlhdXhfZGlzdCB8PSBhdXhfc3RyaWRlOw0KPiArCUk5MTVfV1JJVEVfRlcoUExBTkVf
QVVYX0RJU1QocGlwZSwgcGxhbmVfaWQpLCBhdXhfZGlzdCk7DQo+IA0KPiAgCWlmIChpY2xfaXNf
aGRyX3BsYW5lKGRldl9wcml2LCBwbGFuZV9pZCkpIHsNCj4gIAkJdTMyIGN1c19jdGwgPSAwOw0K
PiBAQCAtMTc0NSw3ICsxNzQ4LDggQEAgc3RhdGljIGludCBza2xfcGxhbmVfY2hlY2tfZmIoY29u
c3Qgc3RydWN0DQo+IGludGVsX2NydGNfc3RhdGUgKmNydGNfc3RhdGUsDQo+ICAJICAgIChmYi0+
bW9kaWZpZXIgPT0gSTkxNV9GT1JNQVRfTU9EX1lfVElMRUQgfHwNCj4gIAkgICAgIGZiLT5tb2Rp
ZmllciA9PSBJOTE1X0ZPUk1BVF9NT0RfWWZfVElMRUQgfHwNCj4gIAkgICAgIGZiLT5tb2RpZmll
ciA9PSBJOTE1X0ZPUk1BVF9NT0RfWV9USUxFRF9DQ1MgfHwNCj4gLQkgICAgIGZiLT5tb2RpZmll
ciA9PSBJOTE1X0ZPUk1BVF9NT0RfWWZfVElMRURfQ0NTKSkgew0KPiArCSAgICAgZmItPm1vZGlm
aWVyID09IEk5MTVfRk9STUFUX01PRF9ZZl9USUxFRF9DQ1MgfHwNCj4gKwkgICAgIGZiLT5tb2Rp
ZmllciA9PSBJOTE1X0ZPUk1BVF9NT0RfWV9USUxFRF9HRU4xMl9SQ19DQ1MpKSB7DQo+ICAJCURS
TV9ERUJVR19LTVMoIlkvWWYgdGlsaW5nIG5vdCBzdXBwb3J0ZWQgaW4gSUYtSUQNCj4gbW9kZVxu
Iik7DQo+ICAJCXJldHVybiAtRUlOVkFMOw0KPiAgCX0NCj4gQEAgLTIxNTcsNyArMjE2MSw4IEBA
IHN0YXRpYyBjb25zdCB1NjQgc2tsX3BsYW5lX2Zvcm1hdF9tb2RpZmllcnNfY2NzW10NCj4gPSB7
DQo+ICAJRFJNX0ZPUk1BVF9NT0RfSU5WQUxJRA0KPiAgfTsNCj4gDQo+IC1zdGF0aWMgY29uc3Qg
dTY0IGdlbjEyX3BsYW5lX2Zvcm1hdF9tb2RpZmllcnNfbm9jY3NbXSA9IHsNCj4gK3N0YXRpYyBj
b25zdCB1NjQgZ2VuMTJfcGxhbmVfZm9ybWF0X21vZGlmaWVyc19jY3NbXSA9IHsNCj4gKwlJOTE1
X0ZPUk1BVF9NT0RfWV9USUxFRF9HRU4xMl9SQ19DQ1MsDQo+ICAJSTkxNV9GT1JNQVRfTU9EX1lf
VElMRUQsDQo+ICAJSTkxNV9GT1JNQVRfTU9EX1hfVElMRUQsDQo+ICAJRFJNX0ZPUk1BVF9NT0Rf
TElORUFSLA0KPiBAQCAtMjMxOSw2ICsyMzI0LDcgQEAgc3RhdGljIGJvb2wNCj4gZ2VuMTJfcGxh
bmVfZm9ybWF0X21vZF9zdXBwb3J0ZWQoc3RydWN0IGRybV9wbGFuZSAqX3BsYW5lLA0KPiAgCWNh
c2UgRFJNX0ZPUk1BVF9NT0RfTElORUFSOg0KPiAgCWNhc2UgSTkxNV9GT1JNQVRfTU9EX1hfVElM
RUQ6DQo+ICAJY2FzZSBJOTE1X0ZPUk1BVF9NT0RfWV9USUxFRDoNCj4gKwljYXNlIEk5MTVfRk9S
TUFUX01PRF9ZX1RJTEVEX0dFTjEyX1JDX0NDUzoNCj4gIAkJYnJlYWs7DQo+ICAJZGVmYXVsdDoN
Cj4gIAkJcmV0dXJuIGZhbHNlOw0KPiBAQCAtMjMyOSw2ICsyMzM1LDkgQEAgc3RhdGljIGJvb2wN
Cj4gZ2VuMTJfcGxhbmVfZm9ybWF0X21vZF9zdXBwb3J0ZWQoc3RydWN0IGRybV9wbGFuZSAqX3Bs
YW5lLA0KPiAgCWNhc2UgRFJNX0ZPUk1BVF9YQkdSODg4ODoNCj4gIAljYXNlIERSTV9GT1JNQVRf
QVJHQjg4ODg6DQo+ICAJY2FzZSBEUk1fRk9STUFUX0FCR1I4ODg4Og0KPiArCQlpZiAoaXNfY2Nz
X21vZGlmaWVyKG1vZGlmaWVyKSkNCj4gKwkJCXJldHVybiB0cnVlOw0KPiArCQkvKiBmYWxsIHRo
cm91Z2ggKi8NCj4gIAljYXNlIERSTV9GT1JNQVRfUkdCNTY1Og0KPiAgCWNhc2UgRFJNX0ZPUk1B
VF9YUkdCMjEwMTAxMDoNCj4gIAljYXNlIERSTV9GT1JNQVRfWEJHUjIxMDEwMTA6DQo+IEBAIC0y
NTI0LDEzICsyNTMzLDExIEBAIHNrbF91bml2ZXJzYWxfcGxhbmVfY3JlYXRlKHN0cnVjdA0KPiBk
cm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiwNCj4gIAkJZm9ybWF0cyA9IHNrbF9nZXRfcGxhbmVf
Zm9ybWF0cyhkZXZfcHJpdiwgcGlwZSwNCj4gIAkJCQkJCXBsYW5lX2lkLCAmbnVtX2Zvcm1hdHMp
Ow0KPiANCj4gKwlwbGFuZS0+aGFzX2NjcyA9IHNrbF9wbGFuZV9oYXNfY2NzKGRldl9wcml2LCBw
aXBlLCBwbGFuZV9pZCk7DQo+ICAJaWYgKElOVEVMX0dFTihkZXZfcHJpdikgPj0gMTIpIHsNCj4g
LQkJLyogVE9ETzogSW1wbGVtZW50IHN1cHBvcnQgZm9yIGdlbi0xMiBDQ1MgbW9kaWZpZXJzICov
DQo+IC0JCXBsYW5lLT5oYXNfY2NzID0gZmFsc2U7DQo+IC0JCW1vZGlmaWVycyA9IGdlbjEyX3Bs
YW5lX2Zvcm1hdF9tb2RpZmllcnNfbm9jY3M7DQo+ICsJCW1vZGlmaWVycyA9IGdlbjEyX3BsYW5l
X2Zvcm1hdF9tb2RpZmllcnNfY2NzOw0KPiAgCQlwbGFuZV9mdW5jcyA9ICZnZW4xMl9wbGFuZV9m
dW5jczsNCj4gIAl9IGVsc2Ugew0KPiAtCQlwbGFuZS0+aGFzX2NjcyA9IHNrbF9wbGFuZV9oYXNf
Y2NzKGRldl9wcml2LCBwaXBlLA0KPiBwbGFuZV9pZCk7DQo+ICAJCWlmIChwbGFuZS0+aGFzX2Nj
cykNCj4gIAkJCW1vZGlmaWVycyA9IHNrbF9wbGFuZV9mb3JtYXRfbW9kaWZpZXJzX2NjczsNCj4g
IAkJZWxzZQ0KPiAtLQ0KPiAyLjIzLjANCj4gDQo+IF9fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fDQo+IEludGVsLWdmeCBtYWlsaW5nIGxpc3QNCj4gSW50ZWwt
Z2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZw0KPiBodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9y
Zy9tYWlsbWFuL2xpc3RpbmZvL2ludGVsLWdmeA0KX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX18KSW50ZWwtZ2Z4IG1haWxpbmcgbGlzdApJbnRlbC1nZnhAbGlz
dHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4v
bGlzdGluZm8vaW50ZWwtZ2Z4

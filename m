Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id F3889E6F0
	for <lists+intel-gfx@lfdr.de>; Mon, 29 Apr 2019 17:51:58 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 34E5989317;
	Mon, 29 Apr 2019 15:51:57 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga18.intel.com (mga18.intel.com [134.134.136.126])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 460C589316
 for <intel-gfx@lists.freedesktop.org>; Mon, 29 Apr 2019 15:51:39 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga007.jf.intel.com ([10.7.209.58])
 by orsmga106.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 29 Apr 2019 08:51:35 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.60,410,1549958400"; d="scan'208";a="135381573"
Received: from jssummer-desk.ra.intel.com ([10.54.134.159])
 by orsmga007.jf.intel.com with ESMTP; 29 Apr 2019 08:51:35 -0700
From: Stuart Summers <stuart.summers@intel.com>
To: intel-gfx@lists.freedesktop.org
Date: Mon, 29 Apr 2019 08:51:34 -0700
Message-Id: <20190429155135.6468-5-stuart.summers@intel.com>
X-Mailer: git-send-email 2.21.0.5.gaeb582a983
In-Reply-To: <20190429155135.6468-1-stuart.summers@intel.com>
References: <20190429155135.6468-1-stuart.summers@intel.com>
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH 4/5] drm/i915: Move sseu helper functions to
 intel_sseu.h
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

U2lnbmVkLW9mZi1ieTogU3R1YXJ0IFN1bW1lcnMgPHN0dWFydC5zdW1tZXJzQGludGVsLmNvbT4K
LS0tCiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9zc2V1LmggICAgIHwgNDcgKysrKysr
KysrKysrKysrKysrKysrKysrCiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9kZXZpY2VfaW5m
by5oIHwgNDcgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAyIGZpbGVzIGNoYW5nZWQsIDQ3IGlu
c2VydGlvbnMoKyksIDQ3IGRlbGV0aW9ucygtKQoKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2d0L2ludGVsX3NzZXUuaCBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX3Nz
ZXUuaAppbmRleCBmNWZmNmI3YTc1NmEuLjUxMjdiNGZmOTJiZiAxMDA2NDQKLS0tIGEvZHJpdmVy
cy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfc3NldS5oCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1
L2d0L2ludGVsX3NzZXUuaApAQCAtNjMsMTIgKzYzLDU5IEBAIGludGVsX3NzZXVfZnJvbV9kZXZp
Y2VfaW5mbyhjb25zdCBzdHJ1Y3Qgc3NldV9kZXZfaW5mbyAqc3NldSkKIAlyZXR1cm4gdmFsdWU7
CiB9CiAKK3N0YXRpYyBpbmxpbmUgdW5zaWduZWQgaW50IHNzZXVfc3Vic2xpY2VfdG90YWwoY29u
c3Qgc3RydWN0IHNzZXVfZGV2X2luZm8gKnNzZXUpCit7CisJdW5zaWduZWQgaW50IGksIHRvdGFs
ID0gMDsKKworCWZvciAoaSA9IDA7IGkgPCBBUlJBWV9TSVpFKHNzZXUtPnN1YnNsaWNlX21hc2sp
OyBpKyspCisJCXRvdGFsICs9IGh3ZWlnaHQ4KHNzZXUtPnN1YnNsaWNlX21hc2tbaV0pOworCisJ
cmV0dXJuIHRvdGFsOworfQorCiBzdGF0aWMgaW5saW5lIHVuc2lnbmVkIGludAogc3NldV9zdWJz
bGljZXNfcGVyX3NsaWNlKGNvbnN0IHN0cnVjdCBzc2V1X2Rldl9pbmZvICpzc2V1LCB1OCBzbGlj
ZSkKIHsKIAlyZXR1cm4gaHdlaWdodDgoc3NldS0+c3Vic2xpY2VfbWFza1tzbGljZV0pOwogfQog
CitzdGF0aWMgaW5saW5lIGludCBzc2V1X2V1X2lkeChjb25zdCBzdHJ1Y3Qgc3NldV9kZXZfaW5m
byAqc3NldSwKKwkJCSAgICAgIGludCBzbGljZSwgaW50IHN1YnNsaWNlKQoreworCWludCBzdWJz
bGljZV9zdHJpZGUgPSBESVZfUk9VTkRfVVAoc3NldS0+bWF4X2V1c19wZXJfc3Vic2xpY2UsCisJ
CQkJCSAgIEJJVFNfUEVSX0JZVEUpOworCWludCBzbGljZV9zdHJpZGUgPSBzc2V1LT5tYXhfc3Vi
c2xpY2VzICogc3Vic2xpY2Vfc3RyaWRlOworCisJcmV0dXJuIHNsaWNlICogc2xpY2Vfc3RyaWRl
ICsgc3Vic2xpY2UgKiBzdWJzbGljZV9zdHJpZGU7Cit9CisKK3N0YXRpYyBpbmxpbmUgdTE2IHNz
ZXVfZ2V0X2V1cyhjb25zdCBzdHJ1Y3Qgc3NldV9kZXZfaW5mbyAqc3NldSwKKwkJCSAgICAgICBp
bnQgc2xpY2UsIGludCBzdWJzbGljZSkKK3sKKwlpbnQgaSwgb2Zmc2V0ID0gc3NldV9ldV9pZHgo
c3NldSwgc2xpY2UsIHN1YnNsaWNlKTsKKwl1MTYgZXVfbWFzayA9IDA7CisKKwlmb3IgKGkgPSAw
OworCSAgICAgaSA8IERJVl9ST1VORF9VUChzc2V1LT5tYXhfZXVzX3Blcl9zdWJzbGljZSwgQklU
U19QRVJfQllURSk7IGkrKykgeworCQlldV9tYXNrIHw9ICgodTE2KSBzc2V1LT5ldV9tYXNrW29m
ZnNldCArIGldKSA8PAorCQkJKGkgKiBCSVRTX1BFUl9CWVRFKTsKKwl9CisKKwlyZXR1cm4gZXVf
bWFzazsKK30KKworc3RhdGljIGlubGluZSB2b2lkIHNzZXVfc2V0X2V1cyhzdHJ1Y3Qgc3NldV9k
ZXZfaW5mbyAqc3NldSwKKwkJCQlpbnQgc2xpY2UsIGludCBzdWJzbGljZSwgdTE2IGV1X21hc2sp
Cit7CisJaW50IGksIG9mZnNldCA9IHNzZXVfZXVfaWR4KHNzZXUsIHNsaWNlLCBzdWJzbGljZSk7
CisKKwlmb3IgKGkgPSAwOworCSAgICAgaSA8IERJVl9ST1VORF9VUChzc2V1LT5tYXhfZXVzX3Bl
cl9zdWJzbGljZSwgQklUU19QRVJfQllURSk7IGkrKykgeworCQlzc2V1LT5ldV9tYXNrW29mZnNl
dCArIGldID0KKwkJCShldV9tYXNrID4+IChCSVRTX1BFUl9CWVRFICogaSkpICYgMHhmZjsKKwl9
Cit9CisKIHUzMiBpbnRlbF9zc2V1X21ha2VfcnBjcyhzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAq
aTkxNSwKIAkJCSBjb25zdCBzdHJ1Y3QgaW50ZWxfc3NldSAqcmVxX3NzZXUpOwogCmRpZmYgLS1n
aXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9kZXZpY2VfaW5mby5oIGIvZHJpdmVycy9n
cHUvZHJtL2k5MTUvaW50ZWxfZGV2aWNlX2luZm8uaAppbmRleCA1YTJlMTdkNjE0NmIuLjY0MTJh
OWM3Mjg5OCAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfZGV2aWNlX2lu
Zm8uaAorKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9kZXZpY2VfaW5mby5oCkBAIC0y
MTgsNTMgKzIxOCw2IEBAIHN0cnVjdCBpbnRlbF9kcml2ZXJfY2FwcyB7CiAJYm9vbCBoYXNfbG9n
aWNhbF9jb250ZXh0czoxOwogfTsKIAotc3RhdGljIGlubGluZSB1bnNpZ25lZCBpbnQgc3NldV9z
dWJzbGljZV90b3RhbChjb25zdCBzdHJ1Y3Qgc3NldV9kZXZfaW5mbyAqc3NldSkKLXsKLQl1bnNp
Z25lZCBpbnQgaSwgdG90YWwgPSAwOwotCi0JZm9yIChpID0gMDsgaSA8IEFSUkFZX1NJWkUoc3Nl
dS0+c3Vic2xpY2VfbWFzayk7IGkrKykKLQkJdG90YWwgKz0gaHdlaWdodDgoc3NldS0+c3Vic2xp
Y2VfbWFza1tpXSk7Ci0KLQlyZXR1cm4gdG90YWw7Ci19Ci0KLXN0YXRpYyBpbmxpbmUgaW50IHNz
ZXVfZXVfaWR4KGNvbnN0IHN0cnVjdCBzc2V1X2Rldl9pbmZvICpzc2V1LAotCQkJICAgICAgaW50
IHNsaWNlLCBpbnQgc3Vic2xpY2UpCi17Ci0JaW50IHN1YnNsaWNlX3N0cmlkZSA9IERJVl9ST1VO
RF9VUChzc2V1LT5tYXhfZXVzX3Blcl9zdWJzbGljZSwKLQkJCQkJICAgQklUU19QRVJfQllURSk7
Ci0JaW50IHNsaWNlX3N0cmlkZSA9IHNzZXUtPm1heF9zdWJzbGljZXMgKiBzdWJzbGljZV9zdHJp
ZGU7Ci0KLQlyZXR1cm4gc2xpY2UgKiBzbGljZV9zdHJpZGUgKyBzdWJzbGljZSAqIHN1YnNsaWNl
X3N0cmlkZTsKLX0KLQotc3RhdGljIGlubGluZSB1MTYgc3NldV9nZXRfZXVzKGNvbnN0IHN0cnVj
dCBzc2V1X2Rldl9pbmZvICpzc2V1LAotCQkJICAgICAgIGludCBzbGljZSwgaW50IHN1YnNsaWNl
KQotewotCWludCBpLCBvZmZzZXQgPSBzc2V1X2V1X2lkeChzc2V1LCBzbGljZSwgc3Vic2xpY2Up
OwotCXUxNiBldV9tYXNrID0gMDsKLQotCWZvciAoaSA9IDA7Ci0JICAgICBpIDwgRElWX1JPVU5E
X1VQKHNzZXUtPm1heF9ldXNfcGVyX3N1YnNsaWNlLCBCSVRTX1BFUl9CWVRFKTsgaSsrKSB7Ci0J
CWV1X21hc2sgfD0gKCh1MTYpIHNzZXUtPmV1X21hc2tbb2Zmc2V0ICsgaV0pIDw8Ci0JCQkoaSAq
IEJJVFNfUEVSX0JZVEUpOwotCX0KLQotCXJldHVybiBldV9tYXNrOwotfQotCi1zdGF0aWMgaW5s
aW5lIHZvaWQgc3NldV9zZXRfZXVzKHN0cnVjdCBzc2V1X2Rldl9pbmZvICpzc2V1LAotCQkJCWlu
dCBzbGljZSwgaW50IHN1YnNsaWNlLCB1MTYgZXVfbWFzaykKLXsKLQlpbnQgaSwgb2Zmc2V0ID0g
c3NldV9ldV9pZHgoc3NldSwgc2xpY2UsIHN1YnNsaWNlKTsKLQotCWZvciAoaSA9IDA7Ci0JICAg
ICBpIDwgRElWX1JPVU5EX1VQKHNzZXUtPm1heF9ldXNfcGVyX3N1YnNsaWNlLCBCSVRTX1BFUl9C
WVRFKTsgaSsrKSB7Ci0JCXNzZXUtPmV1X21hc2tbb2Zmc2V0ICsgaV0gPQotCQkJKGV1X21hc2sg
Pj4gKEJJVFNfUEVSX0JZVEUgKiBpKSkgJiAweGZmOwotCX0KLX0KLQogY29uc3QgY2hhciAqaW50
ZWxfcGxhdGZvcm1fbmFtZShlbnVtIGludGVsX3BsYXRmb3JtIHBsYXRmb3JtKTsKIAogdm9pZCBp
bnRlbF9kZXZpY2VfaW5mb19zdWJwbGF0Zm9ybV9pbml0KHN0cnVjdCBkcm1faTkxNV9wcml2YXRl
ICpkZXZfcHJpdik7Ci0tIAoyLjIxLjAuNS5nYWViNTgyYTk4MwoKX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX18KSW50ZWwtZ2Z4IG1haWxpbmcgbGlzdApJbnRl
bC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3Jn
L21haWxtYW4vbGlzdGluZm8vaW50ZWwtZ2Z4

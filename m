Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 3FCCE1136F6
	for <lists+intel-gfx@lfdr.de>; Wed,  4 Dec 2019 22:17:23 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 7A3426E98C;
	Wed,  4 Dec 2019 21:17:21 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from fireflyinternet.com (mail.fireflyinternet.com [109.228.58.192])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 75E7D6E98C
 for <intel-gfx@lists.freedesktop.org>; Wed,  4 Dec 2019 21:17:20 +0000 (UTC)
X-Default-Received-SPF: pass (skip=forwardok (res=PASS))
 x-ip-name=78.156.65.138; 
Received: from haswell.alporthouse.com (unverified [78.156.65.138]) 
 by fireflyinternet.com (Firefly Internet (M1)) with ESMTP id 19463048-1500050 
 for multiple; Wed, 04 Dec 2019 21:17:08 +0000
From: Chris Wilson <chris@chris-wilson.co.uk>
To: intel-gfx@lists.freedesktop.org
Date: Wed,  4 Dec 2019 21:17:03 +0000
Message-Id: <20191204211703.4073569-1-chris@chris-wilson.co.uk>
X-Mailer: git-send-email 2.24.0
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH v3] drm/i915: Copy across scheduler behaviour
 flags across submit fences
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

V2Ugd2FudCB0aGUgYm9uZGVkIHJlcXVlc3QgdG8gaGF2ZSB0aGUgc2FtZSBzY2hlZHVsZXIgcHJv
cGVydGllcyBhcyBpdHMKbWFzdGVyIHNvIHRoYXQgaXQgaXMgcGxhY2VkIGF0IHRoZSBzYW1lIGRl
cHRoIGluIHRoZSBxdWV1ZS4gRm9yIGV4YW1wbGUsCmNvbnNpZGVyIHdlIGhhdmUgcmVxdWVzdHMg
QSwgQiBhbmQgQicsIHdoZXJlIEIgJiBCJyBhcmUgYSBib25kZWQgcGFpciB0bwpydW4gaW4gcGFy
YWxsZWwgb24gdHdvIGVuZ2luZXMuCgoJQSAtPiBCCiAgICAgCSAgICAgXC0gQicKCkIgd2lsbCBy
dW4gYWZ0ZXIgQSBhbmQgc28gbWF5IGJlIHNjaGVkdWxlZCBvbiBhbiBpZGxlIGVuZ2luZSBhbmQg
d2FpdCBvbgpBIHVzaW5nIGEgc2VtYXBob3JlLiBCJyBzZWVzIEIgYmVpbmcgZXhlY3V0ZWQgYW5k
IHNvIGVudGVycyB0aGUgcXVldWUgb24KdGhlIHNhbWUgZW5naW5lIGFzIEEuIEFzIEInIGRpZCBu
b3QgaW5oZXJpdCB0aGUgc2VtYXBob3JlLWNoYWluIGZyb20gQiwKaXQgbWF5IGhhdmUgaGlnaGVy
IHByZWNlZGVuY2UgdGhhbiBBIGFuZCBzbyBwcmVlbXB0cyBleGVjdXRpb24uIEhvd2V2ZXIsCkIn
IHRoZW4gc2l0cyBvbiBhIHNlbWFwaG9yZSB3YWl0aW5nIGZvciBCLCB3aG8gaXMgd2FpdGluZyBm
b3IgQSwgd2hvIGlzCmJsb2NrZWQgYnkgQi4KCkVyZ28gQicgbmVlZHMgdG8gaW5oZXJpdCB0aGUg
c2NoZWR1bGVyIHByb3BlcnRpZXMgZnJvbSBCIChpLmUuIHRoZQpzZW1hcGhvcmUgY2hhaW4pIHNv
IHRoYXQgaXQgaXMgc2NoZWR1bGVkIHdpdGggdGhlIHNhbWUgcHJpb3JpdHkgYXMgQiBhbmQKd2ls
bCBub3QgYmUgZXhlY3V0ZWQgYWhlYWQgb2YgQnMgZGVwZW5kZW5jaWVzLgoKRnVydGhlcm1vcmUs
IHRvIHByZXZlbnQgdGhlIHByaW9yaXRpZXMgY2hhbmdpbmcgdmlhIHRoZSBleHBvc2UgZmVuY2Ug
b24KQicsIHdlIG5lZWQgdG8gY291cGxlIGluIHRoZSBkZXBlbmRlbmNpZXMgZm9yIFBJLiBUaGlz
IHJlcXVpcmVzIHVzIHRvCnJlbGF4IG91ciBzYW5pdHktY2hlY2tzIHRoYXQgZGVwZW5kZW5jaWVz
IGFyZSBzdHJpY3RseSBpbiBvcmRlci4KCkZpeGVzOiBlZTExMzY5MDhlOWIgKCJkcm0vaTkxNS9l
eGVjbGlzdHM6IFZpcnR1YWwgZW5naW5lIGJvbmRpbmciKQpUZXN0Y2FzZTogaWd0L2dlbV9leGVj
X2JhbGFuY2VyL2JvbmRlZC1jaGFpbgpUZXN0Y2FzZTogaWd0L2dlbV9leGVjX2JhbGFuY2VyL2Jv
bmRlZC1zZW1hcGhvcmUKU2lnbmVkLW9mZi1ieTogQ2hyaXMgV2lsc29uIDxjaHJpc0BjaHJpcy13
aWxzb24uY28udWs+CkNjOiBUdnJ0a28gVXJzdWxpbiA8dHZydGtvLnVyc3VsaW5AaW50ZWwuY29t
PgotLS0KRHVlIHRvIGRlZXAgRUxTUCBzdWJtaXNzaW9uLCB0aGUgYm9uZGVkIHBhaXIgbWF5IGJl
IHN1Ym1pdHRlZCBsb25nCmJlZm9yZSBpdHMgbWFzdGVyIHJlYWNoZXMgRUxTUFswXSAtLSB3ZSBu
ZWVkIHRvIHdhaXQgaW4gdGhlIHBhaXJzIGFzIHdlCmFyZSBubyBsb25nZXIgcmVseWluZyBvbiB0
aGUgdXNlciB0byBkbyBzby4KLS0tCiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3JlcXVlc3Qu
YyAgIHwgMTE1ICsrKysrKysrKysrKysrKysrKysrLS0tLS0tCiBkcml2ZXJzL2dwdS9kcm0vaTkx
NS9pOTE1X3NjaGVkdWxlci5jIHwgICAxIC0KIDIgZmlsZXMgY2hhbmdlZCwgOTAgaW5zZXJ0aW9u
cygrKSwgMjYgZGVsZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUv
aTkxNV9yZXF1ZXN0LmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3JlcXVlc3QuYwppbmRl
eCAzMTA5YjhhNzliOWYuLmIwZjBjZmVmMWViMSAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJt
L2k5MTUvaTkxNV9yZXF1ZXN0LmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9yZXF1
ZXN0LmMKQEAgLTMwMCwxMSArMzAwLDExIEBAIHZvaWQgaTkxNV9yZXF1ZXN0X3JldGlyZV91cHRv
KHN0cnVjdCBpOTE1X3JlcXVlc3QgKnJxKQogfQogCiBzdGF0aWMgaW50Ci1fX2k5MTVfcmVxdWVz
dF9hd2FpdF9leGVjdXRpb24oc3RydWN0IGk5MTVfcmVxdWVzdCAqcnEsCi0JCQkgICAgICAgc3Ry
dWN0IGk5MTVfcmVxdWVzdCAqc2lnbmFsLAotCQkJICAgICAgIHZvaWQgKCpob29rKShzdHJ1Y3Qg
aTkxNV9yZXF1ZXN0ICpycSwKLQkJCQkJICAgIHN0cnVjdCBkbWFfZmVuY2UgKnNpZ25hbCksCi0J
CQkgICAgICAgZ2ZwX3QgZ2ZwKQorX19hd2FpdF9leGVjdXRpb24oc3RydWN0IGk5MTVfcmVxdWVz
dCAqcnEsCisJCSAgc3RydWN0IGk5MTVfcmVxdWVzdCAqc2lnbmFsLAorCQkgIHZvaWQgKCpob29r
KShzdHJ1Y3QgaTkxNV9yZXF1ZXN0ICpycSwKKwkJCSAgICAgICBzdHJ1Y3QgZG1hX2ZlbmNlICpz
aWduYWwpLAorCQkgIGdmcF90IGdmcCkKIHsKIAlzdHJ1Y3QgZXhlY3V0ZV9jYiAqY2I7CiAKQEAg
LTM0MSw2ICszNDEsOCBAQCBfX2k5MTVfcmVxdWVzdF9hd2FpdF9leGVjdXRpb24oc3RydWN0IGk5
MTVfcmVxdWVzdCAqcnEsCiAJfQogCXNwaW5fdW5sb2NrX2lycSgmc2lnbmFsLT5sb2NrKTsKIAor
CS8qIENvcHkgYWNyb3NzIHNlbWFwaG9yZSBzdGF0dXMgYXMgd2UgbmVlZCB0aGUgc2FtZSBiZWhh
dmlvdXIgKi8KKwlycS0+c2NoZWQuZmxhZ3MgfD0gc2lnbmFsLT5zY2hlZC5mbGFnczsKIAlyZXR1
cm4gMDsKIH0KIApAQCAtODI0LDMxICs4MjYsMjEgQEAgYWxyZWFkeV9idXN5d2FpdGluZyhzdHJ1
Y3QgaTkxNV9yZXF1ZXN0ICpycSkKIH0KIAogc3RhdGljIGludAotZW1pdF9zZW1hcGhvcmVfd2Fp
dChzdHJ1Y3QgaTkxNV9yZXF1ZXN0ICp0bywKLQkJICAgIHN0cnVjdCBpOTE1X3JlcXVlc3QgKmZy
b20sCi0JCSAgICBnZnBfdCBnZnApCitfX2VtaXRfc2VtYXBob3JlX3dhaXQoc3RydWN0IGk5MTVf
cmVxdWVzdCAqdG8sCisJCSAgICAgIHN0cnVjdCBpOTE1X3JlcXVlc3QgKmZyb20sCisJCSAgICAg
IHUzMiBzZXFubykKIHsKIAljb25zdCBpbnQgaGFzX3Rva2VuID0gSU5URUxfR0VOKHRvLT5pOTE1
KSA+PSAxMjsKIAl1MzIgaHdzcF9vZmZzZXQ7Ci0JaW50IGxlbjsKKwlpbnQgbGVuLCBlcnI7CiAJ
dTMyICpjczsKIAogCUdFTV9CVUdfT04oSU5URUxfR0VOKHRvLT5pOTE1KSA8IDgpOwogCi0JLyog
SnVzdCBlbWl0IHRoZSBmaXJzdCBzZW1hcGhvcmUgd2Ugc2VlIGFzIHJlcXVlc3Qgc3BhY2UgaXMg
bGltaXRlZC4gKi8KLQlpZiAoYWxyZWFkeV9idXN5d2FpdGluZyh0bykgJiBmcm9tLT5lbmdpbmUt
Pm1hc2spCi0JCWdvdG8gYXdhaXRfZmVuY2U7Ci0KLQlpZiAoaTkxNV9yZXF1ZXN0X2F3YWl0X3N0
YXJ0KHRvLCBmcm9tKSA8IDApCi0JCWdvdG8gYXdhaXRfZmVuY2U7Ci0KLQkvKiBPbmx5IHN1Ym1p
dCBvdXIgc3Bpbm5lciBhZnRlciB0aGUgc2lnbmFsZXIgaXMgcnVubmluZyEgKi8KLQlpZiAoX19p
OTE1X3JlcXVlc3RfYXdhaXRfZXhlY3V0aW9uKHRvLCBmcm9tLCBOVUxMLCBnZnApKQotCQlnb3Rv
IGF3YWl0X2ZlbmNlOwotCiAJLyogV2UgbmVlZCB0byBwaW4gdGhlIHNpZ25hbGVyJ3MgSFdTUCB1
bnRpbCB3ZSBhcmUgZmluaXNoZWQgcmVhZGluZy4gKi8KLQlpZiAoaW50ZWxfdGltZWxpbmVfcmVh
ZF9od3NwKGZyb20sIHRvLCAmaHdzcF9vZmZzZXQpKQotCQlnb3RvIGF3YWl0X2ZlbmNlOworCWVy
ciA9IGludGVsX3RpbWVsaW5lX3JlYWRfaHdzcChmcm9tLCB0bywgJmh3c3Bfb2Zmc2V0KTsKKwlp
ZiAoZXJyKQorCQlyZXR1cm4gZXJyOwogCiAJbGVuID0gNDsKIAlpZiAoaGFzX3Rva2VuKQpAQCAt
ODcxLDcgKzg2Myw3IEBAIGVtaXRfc2VtYXBob3JlX3dhaXQoc3RydWN0IGk5MTVfcmVxdWVzdCAq
dG8sCiAJCSBNSV9TRU1BUEhPUkVfUE9MTCB8CiAJCSBNSV9TRU1BUEhPUkVfU0FEX0dURV9TREQp
ICsKIAkJaGFzX3Rva2VuOwotCSpjcysrID0gZnJvbS0+ZmVuY2Uuc2Vxbm87CisJKmNzKysgPSBz
ZXFubzsKIAkqY3MrKyA9IGh3c3Bfb2Zmc2V0OwogCSpjcysrID0gMDsKIAlpZiAoaGFzX3Rva2Vu
KSB7CkBAIC04ODAsNiArODcyLDI4IEBAIGVtaXRfc2VtYXBob3JlX3dhaXQoc3RydWN0IGk5MTVf
cmVxdWVzdCAqdG8sCiAJfQogCiAJaW50ZWxfcmluZ19hZHZhbmNlKHRvLCBjcyk7CisJcmV0dXJu
IDA7Cit9CisKK3N0YXRpYyBpbnQKK2VtaXRfc2VtYXBob3JlX3dhaXQoc3RydWN0IGk5MTVfcmVx
dWVzdCAqdG8sCisJCSAgICBzdHJ1Y3QgaTkxNV9yZXF1ZXN0ICpmcm9tLAorCQkgICAgZ2ZwX3Qg
Z2ZwKQoreworCS8qIEp1c3QgZW1pdCB0aGUgZmlyc3Qgc2VtYXBob3JlIHdlIHNlZSBhcyByZXF1
ZXN0IHNwYWNlIGlzIGxpbWl0ZWQuICovCisJaWYgKGFscmVhZHlfYnVzeXdhaXRpbmcodG8pICYg
ZnJvbS0+ZW5naW5lLT5tYXNrKQorCQlnb3RvIGF3YWl0X2ZlbmNlOworCisJaWYgKGk5MTVfcmVx
dWVzdF9hd2FpdF9zdGFydCh0bywgZnJvbSkgPCAwKQorCQlnb3RvIGF3YWl0X2ZlbmNlOworCisJ
LyogT25seSBzdWJtaXQgb3VyIHNwaW5uZXIgYWZ0ZXIgdGhlIHNpZ25hbGVyIGlzIHJ1bm5pbmch
ICovCisJaWYgKF9fYXdhaXRfZXhlY3V0aW9uKHRvLCBmcm9tLCBOVUxMLCBnZnApKQorCQlnb3Rv
IGF3YWl0X2ZlbmNlOworCisJaWYgKF9fZW1pdF9zZW1hcGhvcmVfd2FpdCh0bywgZnJvbSwgZnJv
bS0+ZmVuY2Uuc2Vxbm8pKQorCQlnb3RvIGF3YWl0X2ZlbmNlOworCiAJdG8tPnNjaGVkLnNlbWFw
aG9yZXMgfD0gZnJvbS0+ZW5naW5lLT5tYXNrOwogCXRvLT5zY2hlZC5mbGFncyB8PSBJOTE1X1ND
SEVEX0hBU19TRU1BUEhPUkVfQ0hBSU47CiAJcmV0dXJuIDA7CkBAIC05OTMsNiArMTAwNyw1OCBA
QCBpOTE1X3JlcXVlc3RfYXdhaXRfZG1hX2ZlbmNlKHN0cnVjdCBpOTE1X3JlcXVlc3QgKnJxLCBz
dHJ1Y3QgZG1hX2ZlbmNlICpmZW5jZSkKIAlyZXR1cm4gMDsKIH0KIAorc3RhdGljIGJvb2wgaW50
ZWxfdGltZWxpbmVfc3luY19oYXNfc3RhcnQoc3RydWN0IGludGVsX3RpbWVsaW5lICp0bCwKKwkJ
CQkJICBzdHJ1Y3QgZG1hX2ZlbmNlICpmZW5jZSkKK3sKKwlyZXR1cm4gX19pbnRlbF90aW1lbGlu
ZV9zeW5jX2lzX2xhdGVyKHRsLAorCQkJCQkgICAgICBmZW5jZS0+Y29udGV4dCwKKwkJCQkJICAg
ICAgZmVuY2UtPnNlcW5vIC0gMSk7Cit9CisKK3N0YXRpYyBpbnQgaW50ZWxfdGltZWxpbmVfc3lu
Y19zZXRfc3RhcnQoc3RydWN0IGludGVsX3RpbWVsaW5lICp0bCwKKwkJCQkJIGNvbnN0IHN0cnVj
dCBkbWFfZmVuY2UgKmZlbmNlKQoreworCXJldHVybiBfX2ludGVsX3RpbWVsaW5lX3N5bmNfc2V0
KHRsLCBmZW5jZS0+Y29udGV4dCwgZmVuY2UtPnNlcW5vIC0gMSk7Cit9CisKK3N0YXRpYyBpbnQK
K19faTkxNV9yZXF1ZXN0X2F3YWl0X2V4ZWN1dGlvbihzdHJ1Y3QgaTkxNV9yZXF1ZXN0ICp0bywK
KwkJCSAgICAgICBzdHJ1Y3QgaTkxNV9yZXF1ZXN0ICpmcm9tLAorCQkJICAgICAgIHZvaWQgKCpo
b29rKShzdHJ1Y3QgaTkxNV9yZXF1ZXN0ICpycSwKKwkJCQkJICAgIHN0cnVjdCBkbWFfZmVuY2Ug
KnNpZ25hbCkpCit7CisJaW50IGVycjsKKworCS8qIFN1Ym1pdCBib3RoIHJlcXVlc3RzIGF0IHRo
ZSBzYW1lIHRpbWUgKi8KKwllcnIgPSBfX2F3YWl0X2V4ZWN1dGlvbih0bywgZnJvbSwgaG9vaywg
STkxNV9GRU5DRV9HRlApOworCWlmIChlcnIpCisJCXJldHVybiBlcnI7CisKKwlpZiAoIXRvLT5l
bmdpbmUtPnNjaGVkdWxlKQorCQlyZXR1cm4gMDsKKworCS8qIFNxdWFzaCByZXBlYXRlZCBkZXBl
bmVuZGljZXMgdG8gdGhlIHNhbWUgdGltZWxpbmVzICovCisJaWYgKGludGVsX3RpbWVsaW5lX3N5
bmNfaGFzX3N0YXJ0KGk5MTVfcmVxdWVzdF90aW1lbGluZSh0byksCisJCQkJCSAgJmZyb20tPmZl
bmNlKSkKKwkJcmV0dXJuIDA7CisKKwkvKiBFbnN1cmUgYm90aCBzdGFydCB0b2dldGhlciBbYWZ0
ZXIgYWxsIHNlbWFwaG9yZXMgaW4gc2lnbmFsXSAqLworCWlmIChpbnRlbF9lbmdpbmVfaGFzX3Nl
bWFwaG9yZXModG8tPmVuZ2luZSkpCisJCWVyciA9X19lbWl0X3NlbWFwaG9yZV93YWl0KHRvLCBm
cm9tLCBmcm9tLT5mZW5jZS5zZXFubyAtIDEpOworCWVsc2UKKwkJZXJyID0gaTkxNV9yZXF1ZXN0
X2F3YWl0X3N0YXJ0KHRvLCBmcm9tKTsKKwlpZiAoZXJyIDwgMCkKKwkJcmV0dXJuIGVycjsKKwor
CS8qIENvdXBsZSB0aGUgZGVwZW5kZW5jeSB0cmVlIGZvciBQSSBvbiB0aGlzIGV4cG9zZWQgdG8t
PmZlbmNlICovCisJZXJyID0gaTkxNV9zY2hlZF9ub2RlX2FkZF9kZXBlbmRlbmN5KCZ0by0+c2No
ZWQsICZmcm9tLT5zY2hlZCk7CisJaWYgKGVyciA8IDApCisJCXJldHVybiBlcnI7CisKKwlyZXR1
cm4gaW50ZWxfdGltZWxpbmVfc3luY19zZXRfc3RhcnQoaTkxNV9yZXF1ZXN0X3RpbWVsaW5lKHRv
KSwKKwkJCQkJICAgICAmZnJvbS0+ZmVuY2UpOworfQorCiBpbnQKIGk5MTVfcmVxdWVzdF9hd2Fp
dF9leGVjdXRpb24oc3RydWN0IGk5MTVfcmVxdWVzdCAqcnEsCiAJCQkgICAgIHN0cnVjdCBkbWFf
ZmVuY2UgKmZlbmNlLApAQCAtMTAyNiw4ICsxMDkyLDcgQEAgaTkxNV9yZXF1ZXN0X2F3YWl0X2V4
ZWN1dGlvbihzdHJ1Y3QgaTkxNV9yZXF1ZXN0ICpycSwKIAkJaWYgKGRtYV9mZW5jZV9pc19pOTE1
KGZlbmNlKSkKIAkJCXJldCA9IF9faTkxNV9yZXF1ZXN0X2F3YWl0X2V4ZWN1dGlvbihycSwKIAkJ
CQkJCQkgICAgIHRvX3JlcXVlc3QoZmVuY2UpLAotCQkJCQkJCSAgICAgaG9vaywKLQkJCQkJCQkg
ICAgIEk5MTVfRkVOQ0VfR0ZQKTsKKwkJCQkJCQkgICAgIGhvb2spOwogCQllbHNlCiAJCQlyZXQg
PSBpOTE1X3N3X2ZlbmNlX2F3YWl0X2RtYV9mZW5jZSgmcnEtPnN1Ym1pdCwgZmVuY2UsCiAJCQkJ
CQkJICAgIEk5MTVfRkVOQ0VfVElNRU9VVCwKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9p
OTE1L2k5MTVfc2NoZWR1bGVyLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3NjaGVkdWxl
ci5jCmluZGV4IGFkNmZmNTJiYzMxNi4uMDBmNWQxMDdmMmI3IDEwMDY0NAotLS0gYS9kcml2ZXJz
L2dwdS9kcm0vaTkxNS9pOTE1X3NjaGVkdWxlci5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1
L2k5MTVfc2NoZWR1bGVyLmMKQEAgLTQ5Miw3ICs0OTIsNiBAQCB2b2lkIGk5MTVfc2NoZWRfbm9k
ZV9maW5pKHN0cnVjdCBpOTE1X3NjaGVkX25vZGUgKm5vZGUpCiAJICogc28gd2UgbWF5IGJlIGNh
bGxlZCBvdXQtb2Ytb3JkZXIuCiAJICovCiAJbGlzdF9mb3JfZWFjaF9lbnRyeV9zYWZlKGRlcCwg
dG1wLCAmbm9kZS0+c2lnbmFsZXJzX2xpc3QsIHNpZ25hbF9saW5rKSB7Ci0JCUdFTV9CVUdfT04o
IW5vZGVfc2lnbmFsZWQoZGVwLT5zaWduYWxlcikpOwogCQlHRU1fQlVHX09OKCFsaXN0X2VtcHR5
KCZkZXAtPmRmc19saW5rKSk7CiAKIAkJbGlzdF9kZWwoJmRlcC0+d2FpdF9saW5rKTsKLS0gCjIu
MjQuMAoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KSW50
ZWwtZ2Z4IG1haWxpbmcgbGlzdApJbnRlbC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBz
Oi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vaW50ZWwtZ2Z4

Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id DBCC1389D5
	for <lists+intel-gfx@lfdr.de>; Fri,  7 Jun 2019 14:08:56 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 4249A89DB5;
	Fri,  7 Jun 2019 12:08:55 +0000 (UTC)
X-Original-To: Intel-gfx@lists.freedesktop.org
Delivered-To: Intel-gfx@lists.freedesktop.org
Received: from mga02.intel.com (mga02.intel.com [134.134.136.20])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 94A0489DB5
 for <Intel-gfx@lists.freedesktop.org>; Fri,  7 Jun 2019 12:08:53 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from fmsmga007.fm.intel.com ([10.253.24.52])
 by orsmga101.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 07 Jun 2019 05:08:53 -0700
X-ExtLoop1: 1
Received: from ssirotki-mobl3.ger.corp.intel.com (HELO localhost.localdomain)
 ([10.251.93.246])
 by fmsmga007.fm.intel.com with ESMTP; 07 Jun 2019 05:08:52 -0700
From: Tvrtko Ursulin <tvrtko.ursulin@linux.intel.com>
To: Intel-gfx@lists.freedesktop.org
Date: Fri,  7 Jun 2019 13:08:36 +0100
Message-Id: <20190607120838.20514-11-tvrtko.ursulin@linux.intel.com>
X-Mailer: git-send-email 2.20.1
In-Reply-To: <20190607120838.20514-1-tvrtko.ursulin@linux.intel.com>
References: <20190607120838.20514-1-tvrtko.ursulin@linux.intel.com>
MIME-Version: 1.0
Subject: [Intel-gfx] [RFC 10/12] drm/i915: Remove I915_WRITE_NOTRACE
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: Jani Nikula <jani.nikula@intel.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

RnJvbTogVHZydGtvIFVyc3VsaW4gPHR2cnRrby51cnN1bGluQGludGVsLmNvbT4KCk9ubHkgYSBm
ZXcgY2FsbCBzaXRlcyByZW1haW4gd2hpY2ggaGF2ZSBiZWVuIGNvbnZlcnRlZCB0byB1bmNvcmUg
bW1pbwphY2Nlc3NvcnMgYW5kIHNvIHRoZSBtYWNybyBjYW4gYmUgcmVtb3ZlZC4KClNpZ25lZC1v
ZmYtYnk6IFR2cnRrbyBVcnN1bGluIDx0dnJ0a28udXJzdWxpbkBpbnRlbC5jb20+Ci0tLQogZHJp
dmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kcnYuaCAgICB8ICAxIC0KIGRyaXZlcnMvZ3B1L2RybS9p
OTE1L2ludGVsX2dtYnVzLmMgfCA0MiArKysrKysrKysrKysrKysrKysrLS0tLS0tLS0tLS0KIDIg
ZmlsZXMgY2hhbmdlZCwgMjcgaW5zZXJ0aW9ucygrKSwgMTYgZGVsZXRpb25zKC0pCgpkaWZmIC0t
Z2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kcnYuaCBiL2RyaXZlcnMvZ3B1L2RybS9p
OTE1L2k5MTVfZHJ2LmgKaW5kZXggMmZjZjZlYjhhYjNmLi4xZWEyZDVmNDJlNTIgMTAwNjQ0Ci0t
LSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZHJ2LmgKKysrIGIvZHJpdmVycy9ncHUvZHJt
L2k5MTUvaTkxNV9kcnYuaApAQCAtMjg1OCw3ICsyODU4LDYgQEAgZXh0ZXJuIHZvaWQgaW50ZWxf
ZGlzcGxheV9wcmludF9lcnJvcl9zdGF0ZShzdHJ1Y3QgZHJtX2k5MTVfZXJyb3Jfc3RhdGVfYnVm
ICplLAogI2RlZmluZSBJOTE1X1JFQUQocmVnX18pCSBfX0k5MTVfUkVHX09QKHJlYWQsIGRldl9w
cml2LCAocmVnX18pKQogI2RlZmluZSBJOTE1X1dSSVRFKHJlZ19fLCB2YWxfXykgX19JOTE1X1JF
R19PUCh3cml0ZSwgZGV2X3ByaXYsIChyZWdfXyksICh2YWxfXykpCiAjZGVmaW5lIEk5MTVfUkVB
RF9OT1RSQUNFKHJlZ19fKQkgX19JOTE1X1JFR19PUChyZWFkX25vdHJhY2UsIGRldl9wcml2LCAo
cmVnX18pKQotI2RlZmluZSBJOTE1X1dSSVRFX05PVFJBQ0UocmVnX18sIHZhbF9fKSBfX0k5MTVf
UkVHX09QKHdyaXRlX25vdHJhY2UsIGRldl9wcml2LCAocmVnX18pLCAodmFsX18pKQogCiAjZGVm
aW5lIFBPU1RJTkdfUkVBRChyZWdfXykJX19JOTE1X1JFR19PUChwb3N0aW5nX3JlYWQsIGRldl9w
cml2LCAocmVnX18pKQogCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9n
bWJ1cy5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfZ21idXMuYwppbmRleCA5NjljZThi
NzFlMzIuLjVlNGM1NDNlODJlOCAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50
ZWxfZ21idXMuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9nbWJ1cy5jCkBAIC0y
MDEsMjcgKzIwMSwzNyBAQCBzdGF0aWMgdTMyIGdldF9yZXNlcnZlZChzdHJ1Y3QgaW50ZWxfZ21i
dXMgKmJ1cykKIHN0YXRpYyBpbnQgZ2V0X2Nsb2NrKHZvaWQgKmRhdGEpCiB7CiAJc3RydWN0IGlu
dGVsX2dtYnVzICpidXMgPSBkYXRhOwotCXN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJp
diA9IGJ1cy0+ZGV2X3ByaXY7CisJc3RydWN0IGludGVsX3VuY29yZSAqdW5jb3JlID0gJmJ1cy0+
ZGV2X3ByaXYtPnVuY29yZTsKIAl1MzIgcmVzZXJ2ZWQgPSBnZXRfcmVzZXJ2ZWQoYnVzKTsKLQlJ
OTE1X1dSSVRFX05PVFJBQ0UoYnVzLT5ncGlvX3JlZywgcmVzZXJ2ZWQgfCBHUElPX0NMT0NLX0RJ
Ul9NQVNLKTsKLQlJOTE1X1dSSVRFX05PVFJBQ0UoYnVzLT5ncGlvX3JlZywgcmVzZXJ2ZWQpOwot
CXJldHVybiAoSTkxNV9SRUFEX05PVFJBQ0UoYnVzLT5ncGlvX3JlZykgJiBHUElPX0NMT0NLX1ZB
TF9JTikgIT0gMDsKKworCWludGVsX3VuY29yZV93cml0ZV9ub3RyYWNlKHVuY29yZSwKKwkJCQkg
ICBidXMtPmdwaW9fcmVnLAorCQkJCSAgIHJlc2VydmVkIHwgR1BJT19DTE9DS19ESVJfTUFTSyk7
CisJaW50ZWxfdW5jb3JlX3dyaXRlX25vdHJhY2UodW5jb3JlLCBidXMtPmdwaW9fcmVnLCByZXNl
cnZlZCk7CisKKwlyZXR1cm4gKGludGVsX3VuY29yZV9yZWFkX25vdHJhY2UodW5jb3JlLCBidXMt
PmdwaW9fcmVnKSAmCisJCUdQSU9fQ0xPQ0tfVkFMX0lOKSAhPSAwOwogfQogCiBzdGF0aWMgaW50
IGdldF9kYXRhKHZvaWQgKmRhdGEpCiB7CiAJc3RydWN0IGludGVsX2dtYnVzICpidXMgPSBkYXRh
OwotCXN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiA9IGJ1cy0+ZGV2X3ByaXY7CisJ
c3RydWN0IGludGVsX3VuY29yZSAqdW5jb3JlID0gJmJ1cy0+ZGV2X3ByaXYtPnVuY29yZTsKIAl1
MzIgcmVzZXJ2ZWQgPSBnZXRfcmVzZXJ2ZWQoYnVzKTsKLQlJOTE1X1dSSVRFX05PVFJBQ0UoYnVz
LT5ncGlvX3JlZywgcmVzZXJ2ZWQgfCBHUElPX0RBVEFfRElSX01BU0spOwotCUk5MTVfV1JJVEVf
Tk9UUkFDRShidXMtPmdwaW9fcmVnLCByZXNlcnZlZCk7Ci0JcmV0dXJuIChJOTE1X1JFQURfTk9U
UkFDRShidXMtPmdwaW9fcmVnKSAmIEdQSU9fREFUQV9WQUxfSU4pICE9IDA7CisKKwlpbnRlbF91
bmNvcmVfd3JpdGVfbm90cmFjZSh1bmNvcmUsCisJCQkJICAgYnVzLT5ncGlvX3JlZywKKwkJCQkg
ICByZXNlcnZlZCB8IEdQSU9fREFUQV9ESVJfTUFTSyk7CisJaW50ZWxfdW5jb3JlX3dyaXRlX25v
dHJhY2UodW5jb3JlLCBidXMtPmdwaW9fcmVnLCByZXNlcnZlZCk7CisKKwlyZXR1cm4gKGludGVs
X3VuY29yZV9yZWFkX25vdHJhY2UodW5jb3JlLCBidXMtPmdwaW9fcmVnKSAmCisJCUdQSU9fREFU
QV9WQUxfSU4pICE9IDA7CiB9CiAKIHN0YXRpYyB2b2lkIHNldF9jbG9jayh2b2lkICpkYXRhLCBp
bnQgc3RhdGVfaGlnaCkKIHsKIAlzdHJ1Y3QgaW50ZWxfZ21idXMgKmJ1cyA9IGRhdGE7Ci0Jc3Ry
dWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2ID0gYnVzLT5kZXZfcHJpdjsKKwlzdHJ1Y3Qg
aW50ZWxfdW5jb3JlICp1bmNvcmUgPSAmYnVzLT5kZXZfcHJpdi0+dW5jb3JlOwogCXUzMiByZXNl
cnZlZCA9IGdldF9yZXNlcnZlZChidXMpOwogCXUzMiBjbG9ja19iaXRzOwogCkBAIC0yMjksMTYg
KzIzOSwxOCBAQCBzdGF0aWMgdm9pZCBzZXRfY2xvY2sodm9pZCAqZGF0YSwgaW50IHN0YXRlX2hp
Z2gpCiAJCWNsb2NrX2JpdHMgPSBHUElPX0NMT0NLX0RJUl9JTiB8IEdQSU9fQ0xPQ0tfRElSX01B
U0s7CiAJZWxzZQogCQljbG9ja19iaXRzID0gR1BJT19DTE9DS19ESVJfT1VUIHwgR1BJT19DTE9D
S19ESVJfTUFTSyB8Ci0JCQlHUElPX0NMT0NLX1ZBTF9NQVNLOworCQkJICAgICBHUElPX0NMT0NL
X1ZBTF9NQVNLOwogCi0JSTkxNV9XUklURV9OT1RSQUNFKGJ1cy0+Z3Bpb19yZWcsIHJlc2VydmVk
IHwgY2xvY2tfYml0cyk7Ci0JUE9TVElOR19SRUFEKGJ1cy0+Z3Bpb19yZWcpOworCWludGVsX3Vu
Y29yZV93cml0ZV9ub3RyYWNlKHVuY29yZSwKKwkJCQkgICBidXMtPmdwaW9fcmVnLAorCQkJCSAg
IHJlc2VydmVkIHwgY2xvY2tfYml0cyk7CisJaW50ZWxfdW5jb3JlX3Bvc3RpbmdfcmVhZCh1bmNv
cmUsIGJ1cy0+Z3Bpb19yZWcpOwogfQogCiBzdGF0aWMgdm9pZCBzZXRfZGF0YSh2b2lkICpkYXRh
LCBpbnQgc3RhdGVfaGlnaCkKIHsKIAlzdHJ1Y3QgaW50ZWxfZ21idXMgKmJ1cyA9IGRhdGE7Ci0J
c3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2ID0gYnVzLT5kZXZfcHJpdjsKKwlzdHJ1
Y3QgaW50ZWxfdW5jb3JlICp1bmNvcmUgPSAmYnVzLT5kZXZfcHJpdi0+dW5jb3JlOwogCXUzMiBy
ZXNlcnZlZCA9IGdldF9yZXNlcnZlZChidXMpOwogCXUzMiBkYXRhX2JpdHM7CiAKQEAgLTI0OCw4
ICsyNjAsOCBAQCBzdGF0aWMgdm9pZCBzZXRfZGF0YSh2b2lkICpkYXRhLCBpbnQgc3RhdGVfaGln
aCkKIAkJZGF0YV9iaXRzID0gR1BJT19EQVRBX0RJUl9PVVQgfCBHUElPX0RBVEFfRElSX01BU0sg
fAogCQkJR1BJT19EQVRBX1ZBTF9NQVNLOwogCi0JSTkxNV9XUklURV9OT1RSQUNFKGJ1cy0+Z3Bp
b19yZWcsIHJlc2VydmVkIHwgZGF0YV9iaXRzKTsKLQlQT1NUSU5HX1JFQUQoYnVzLT5ncGlvX3Jl
Zyk7CisJaW50ZWxfdW5jb3JlX3dyaXRlX25vdHJhY2UodW5jb3JlLCBidXMtPmdwaW9fcmVnLCBy
ZXNlcnZlZCB8IGRhdGFfYml0cyk7CisJaW50ZWxfdW5jb3JlX3Bvc3RpbmdfcmVhZCh1bmNvcmUs
IGJ1cy0+Z3Bpb19yZWcpOwogfQogCiBzdGF0aWMgaW50Ci0tIAoyLjIwLjEKCl9fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCkludGVsLWdmeCBtYWlsaW5nIGxp
c3QKSW50ZWwtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNr
dG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2ludGVsLWdmeA==

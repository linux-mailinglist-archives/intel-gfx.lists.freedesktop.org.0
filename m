Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 4D6B344FF5
	for <lists+intel-gfx@lfdr.de>; Fri, 14 Jun 2019 01:22:29 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id B7D9C89301;
	Thu, 13 Jun 2019 23:22:27 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga11.intel.com (mga11.intel.com [192.55.52.93])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 5DCDC89301
 for <intel-gfx@lists.freedesktop.org>; Thu, 13 Jun 2019 23:22:25 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga007.jf.intel.com ([10.7.209.58])
 by fmsmga102.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 13 Jun 2019 16:22:25 -0700
X-ExtLoop1: 1
Received: from dceraolo-linux.fm.intel.com ([10.1.27.145])
 by orsmga007.jf.intel.com with ESMTP; 13 Jun 2019 16:22:24 -0700
From: Daniele Ceraolo Spurio <daniele.ceraolospurio@intel.com>
To: intel-gfx@lists.freedesktop.org
Date: Thu, 13 Jun 2019 16:21:53 -0700
Message-Id: <20190613232156.34940-6-daniele.ceraolospurio@intel.com>
X-Mailer: git-send-email 2.20.1
In-Reply-To: <20190613232156.34940-1-daniele.ceraolospurio@intel.com>
References: <20190613232156.34940-1-daniele.ceraolospurio@intel.com>
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH v3 5/8] drm/i915: move a few more functions to
 accept the rpm structure
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

Rm9jdXNpbmcgb24gdGhlIGZ1bmN0aW9ucyBjYWxsZWQgaW4gZmV3IHBsYWNlcy4KClNpZ25lZC1v
ZmYtYnk6IERhbmllbGUgQ2VyYW9sbyBTcHVyaW8gPGRhbmllbGUuY2VyYW9sb3NwdXJpb0BpbnRl
bC5jb20+CkNjOiBJbXJlIERlYWsgPGltcmUuZGVha0BpbnRlbC5jb20+ClJldmlld2VkLWJ5OiBD
aHJpcyBXaWxzb24gPGNocmlzQGNocmlzLXdpbHNvbi5jby51az4KLS0tCiBkcml2ZXJzL2dwdS9k
cm0vaTkxNS9pOTE1X2RlYnVnZnMuYyAgICAgICAgICAgfCAgMiArLQogZHJpdmVycy9ncHUvZHJt
L2k5MTUvaTkxNV9kcnYuYyAgICAgICAgICAgICAgIHwgMjIgKysrKysrKysrKy0tLS0tLS0tLQog
ZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfcnVudGltZV9wbS5jICAgICAgIHwgMTkgKysrKysr
Ky0tLS0tLS0tLQogZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfcnVudGltZV9wbS5oICAgICAg
IHwgMTIgKysrKystLS0tLQogLi4uL2dwdS9kcm0vaTkxNS9zZWxmdGVzdHMvbW9ja19nZW1fZGV2
aWNlLmMgIHwgIDIgKy0KIDUgZmlsZXMgY2hhbmdlZCwgMjggaW5zZXJ0aW9ucygrKSwgMjkgZGVs
ZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kZWJ1Z2Zz
LmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2RlYnVnZnMuYwppbmRleCAzMjM4NjM1MDQx
MTEuLjFmYzVhZjRjMTkwNSAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9k
ZWJ1Z2ZzLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kZWJ1Z2ZzLmMKQEAgLTI0
NTksNyArMjQ1OSw3IEBAIHN0YXRpYyBpbnQgaTkxNV9ydW50aW1lX3BtX3N0YXR1cyhzdHJ1Y3Qg
c2VxX2ZpbGUgKm0sIHZvaWQgKnVudXNlZCkKIAlpZiAoSVNfRU5BQkxFRChDT05GSUdfRFJNX0k5
MTVfREVCVUdfUlVOVElNRV9QTSkpIHsKIAkJc3RydWN0IGRybV9wcmludGVyIHAgPSBkcm1fc2Vx
X2ZpbGVfcHJpbnRlcihtKTsKIAotCQlwcmludF9pbnRlbF9ydW50aW1lX3BtX3dha2VyZWYoZGV2
X3ByaXYsICZwKTsKKwkJcHJpbnRfaW50ZWxfcnVudGltZV9wbV93YWtlcmVmKCZkZXZfcHJpdi0+
cnVudGltZV9wbSwgJnApOwogCX0KIAogCXJldHVybiAwOwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9n
cHUvZHJtL2k5MTUvaTkxNV9kcnYuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZHJ2LmMK
aW5kZXggNjIzNmQzMzIzZTcxLi42NWQ1OTkwNjU3MDkgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1
L2RybS9pOTE1L2k5MTVfZHJ2LmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kcnYu
YwpAQCAtOTA5LDcgKzkwOSw3IEBAIHN0YXRpYyBpbnQgaTkxNV9kcml2ZXJfaW5pdF9lYXJseShz
dHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYpCiAJbXV0ZXhfaW5pdCgmZGV2X3ByaXYt
PmhkY3BfY29tcF9tdXRleCk7CiAKIAlpOTE1X21lbWNweV9pbml0X2Vhcmx5KGRldl9wcml2KTsK
LQlpbnRlbF9ydW50aW1lX3BtX2luaXRfZWFybHkoZGV2X3ByaXYpOworCWludGVsX3J1bnRpbWVf
cG1faW5pdF9lYXJseSgmZGV2X3ByaXYtPnJ1bnRpbWVfcG0pOwogCiAJcmV0ID0gaTkxNV93b3Jr
cXVldWVzX2luaXQoZGV2X3ByaXYpOwogCWlmIChyZXQgPCAwKQpAQCAtMTc1MSw3ICsxNzUxLDcg
QEAgc3RhdGljIHZvaWQgaTkxNV9kcml2ZXJfcmVnaXN0ZXIoc3RydWN0IGRybV9pOTE1X3ByaXZh
dGUgKmRldl9wcml2KQogCQlkcm1fa21zX2hlbHBlcl9wb2xsX2luaXQoZGV2KTsKIAogCWludGVs
X3Bvd2VyX2RvbWFpbnNfZW5hYmxlKGRldl9wcml2KTsKLQlpbnRlbF9ydW50aW1lX3BtX2VuYWJs
ZShkZXZfcHJpdik7CisJaW50ZWxfcnVudGltZV9wbV9lbmFibGUoJmRldl9wcml2LT5ydW50aW1l
X3BtKTsKIH0KIAogLyoqCkBAIC0xNzYwLDcgKzE3NjAsNyBAQCBzdGF0aWMgdm9pZCBpOTE1X2Ry
aXZlcl9yZWdpc3RlcihzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYpCiAgKi8KIHN0
YXRpYyB2b2lkIGk5MTVfZHJpdmVyX3VucmVnaXN0ZXIoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUg
KmRldl9wcml2KQogewotCWludGVsX3J1bnRpbWVfcG1fZGlzYWJsZShkZXZfcHJpdik7CisJaW50
ZWxfcnVudGltZV9wbV9kaXNhYmxlKCZkZXZfcHJpdi0+cnVudGltZV9wbSk7CiAJaW50ZWxfcG93
ZXJfZG9tYWluc19kaXNhYmxlKGRldl9wcml2KTsKIAogCWludGVsX2ZiZGV2X3VucmVnaXN0ZXIo
ZGV2X3ByaXYpOwpAQCAtMTk3NywxNiArMTk3NywxNyBAQCB2b2lkIGk5MTVfZHJpdmVyX3VubG9h
ZChzdHJ1Y3QgZHJtX2RldmljZSAqZGV2KQogc3RhdGljIHZvaWQgaTkxNV9kcml2ZXJfcmVsZWFz
ZShzdHJ1Y3QgZHJtX2RldmljZSAqZGV2KQogewogCXN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpk
ZXZfcHJpdiA9IHRvX2k5MTUoZGV2KTsKKwlzdHJ1Y3QgaW50ZWxfcnVudGltZV9wbSAqcnBtID0g
JmRldl9wcml2LT5ydW50aW1lX3BtOwogCi0JZGlzYWJsZV9ycG1fd2FrZXJlZl9hc3NlcnRzKCZk
ZXZfcHJpdi0+cnVudGltZV9wbSk7CisJZGlzYWJsZV9ycG1fd2FrZXJlZl9hc3NlcnRzKHJwbSk7
CiAKIAlpOTE1X2dlbV9maW5pKGRldl9wcml2KTsKIAogCWk5MTVfZ2d0dF9jbGVhbnVwX2h3KGRl
dl9wcml2KTsKIAlpOTE1X2RyaXZlcl9jbGVhbnVwX21taW8oZGV2X3ByaXYpOwogCi0JZW5hYmxl
X3JwbV93YWtlcmVmX2Fzc2VydHMoJmRldl9wcml2LT5ydW50aW1lX3BtKTsKLQlpbnRlbF9ydW50
aW1lX3BtX2NsZWFudXAoZGV2X3ByaXYpOworCWVuYWJsZV9ycG1fd2FrZXJlZl9hc3NlcnRzKHJw
bSk7CisJaW50ZWxfcnVudGltZV9wbV9jbGVhbnVwKHJwbSk7CiAKIAlpOTE1X2RyaXZlcl9jbGVh
bnVwX2Vhcmx5KGRldl9wcml2KTsKIAlpOTE1X2RyaXZlcl9kZXN0cm95KGRldl9wcml2KTsKQEAg
LTIxMzUsOSArMjEzNiwxMCBAQCBzdGF0aWMgaW50IGk5MTVfZHJtX3N1c3BlbmRfbGF0ZShzdHJ1
Y3QgZHJtX2RldmljZSAqZGV2LCBib29sIGhpYmVybmF0aW9uKQogewogCXN0cnVjdCBkcm1faTkx
NV9wcml2YXRlICpkZXZfcHJpdiA9IHRvX2k5MTUoZGV2KTsKIAlzdHJ1Y3QgcGNpX2RldiAqcGRl
diA9IGRldl9wcml2LT5kcm0ucGRldjsKKwlzdHJ1Y3QgaW50ZWxfcnVudGltZV9wbSAqcnBtID0g
JmRldl9wcml2LT5ydW50aW1lX3BtOwogCWludCByZXQ7CiAKLQlkaXNhYmxlX3JwbV93YWtlcmVm
X2Fzc2VydHMoJmRldl9wcml2LT5ydW50aW1lX3BtKTsKKwlkaXNhYmxlX3JwbV93YWtlcmVmX2Fz
c2VydHMocnBtKTsKIAogCWk5MTVfZ2VtX3N1c3BlbmRfbGF0ZShkZXZfcHJpdik7CiAKQEAgLTIx
NzgsOSArMjE4MCw5IEBAIHN0YXRpYyBpbnQgaTkxNV9kcm1fc3VzcGVuZF9sYXRlKHN0cnVjdCBk
cm1fZGV2aWNlICpkZXYsIGJvb2wgaGliZXJuYXRpb24pCiAJCXBjaV9zZXRfcG93ZXJfc3RhdGUo
cGRldiwgUENJX0QzaG90KTsKIAogb3V0OgotCWVuYWJsZV9ycG1fd2FrZXJlZl9hc3NlcnRzKCZk
ZXZfcHJpdi0+cnVudGltZV9wbSk7CisJZW5hYmxlX3JwbV93YWtlcmVmX2Fzc2VydHMocnBtKTsK
IAlpZiAoIWRldl9wcml2LT51bmNvcmUudXNlcl9mb3JjZXdha2UuY291bnQpCi0JCWludGVsX3J1
bnRpbWVfcG1fY2xlYW51cChkZXZfcHJpdik7CisJCWludGVsX3J1bnRpbWVfcG1fY2xlYW51cChy
cG0pOwogCiAJcmV0dXJuIHJldDsKIH0KQEAgLTI5NDQsNyArMjk0Niw3IEBAIHN0YXRpYyBpbnQg
aW50ZWxfcnVudGltZV9zdXNwZW5kKHN0cnVjdCBkZXZpY2UgKmtkZXYpCiAJfQogCiAJZW5hYmxl
X3JwbV93YWtlcmVmX2Fzc2VydHMocnBtKTsKLQlpbnRlbF9ydW50aW1lX3BtX2NsZWFudXAoZGV2
X3ByaXYpOworCWludGVsX3J1bnRpbWVfcG1fY2xlYW51cChycG0pOwogCiAJaWYgKGludGVsX3Vu
Y29yZV9hcm1fdW5jbGFpbWVkX21taW9fZGV0ZWN0aW9uKCZkZXZfcHJpdi0+dW5jb3JlKSkKIAkJ
RFJNX0VSUk9SKCJVbmNsYWltZWQgYWNjZXNzIGRldGVjdGVkIHByaW9yIHRvIHN1c3BlbmRpbmdc
biIpOwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfcnVudGltZV9wbS5j
IGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfcnVudGltZV9wbS5jCmluZGV4IDA3YWFhM2Uw
NjU4Ny4uM2Q5ZWEzNDk4Njc5IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRl
bF9ydW50aW1lX3BtLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfcnVudGltZV9w
bS5jCkBAIC0yNjIsMTMgKzI2MiwxMiBAQCB1bnRyYWNrX2FsbF9pbnRlbF9ydW50aW1lX3BtX3dh
a2VyZWZzKHN0cnVjdCBpbnRlbF9ydW50aW1lX3BtICpycG0pCiAJZHVtcF9hbmRfZnJlZV93YWtl
cmVmX3RyYWNraW5nKCZkYmcpOwogfQogCi12b2lkIHByaW50X2ludGVsX3J1bnRpbWVfcG1fd2Fr
ZXJlZihzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSwKK3ZvaWQgcHJpbnRfaW50ZWxfcnVu
dGltZV9wbV93YWtlcmVmKHN0cnVjdCBpbnRlbF9ydW50aW1lX3BtICpycG0sCiAJCQkJICAgIHN0
cnVjdCBkcm1fcHJpbnRlciAqcCkKIHsKIAlzdHJ1Y3QgaW50ZWxfcnVudGltZV9wbV9kZWJ1ZyBk
YmcgPSB7fTsKIAogCWRvIHsKLQkJc3RydWN0IGludGVsX3J1bnRpbWVfcG0gKnJwbSA9ICZpOTE1
LT5ydW50aW1lX3BtOwogCQl1bnNpZ25lZCBsb25nIGFsbG9jID0gZGJnLmNvdW50OwogCQlkZXBv
dF9zdGFja19oYW5kbGVfdCAqczsKIApAQCAtNTM3LDcgKzUzNiw3IEBAIHZvaWQgaW50ZWxfcnVu
dGltZV9wbV9wdXQoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUsIGludGVsX3dha2VyZWZf
dCB3cmVmKQogCiAvKioKICAqIGludGVsX3J1bnRpbWVfcG1fZW5hYmxlIC0gZW5hYmxlIHJ1bnRp
bWUgcG0KLSAqIEBpOTE1OiBpOTE1IGRldmljZSBpbnN0YW5jZQorICogQHJwbTogdGhlIGludGVs
X3J1bnRpbWVfcG0gc3RydWN0dXJlCiAgKgogICogVGhpcyBmdW5jdGlvbiBlbmFibGVzIHJ1bnRp
bWUgcG0gYXQgdGhlIGVuZCBvZiB0aGUgZHJpdmVyIGxvYWQgc2VxdWVuY2UuCiAgKgpAQCAtNTQ1
LDkgKzU0NCw4IEBAIHZvaWQgaW50ZWxfcnVudGltZV9wbV9wdXQoc3RydWN0IGRybV9pOTE1X3By
aXZhdGUgKmk5MTUsIGludGVsX3dha2VyZWZfdCB3cmVmKQogICogc3Vib3JkaW5hdGUgZGlzcGxh
eSBwb3dlciBkb21haW5zLiBUaGF0IGlzIGRvbmUgYnkKICAqIGludGVsX3Bvd2VyX2RvbWFpbnNf
ZW5hYmxlKCkuCiAgKi8KLXZvaWQgaW50ZWxfcnVudGltZV9wbV9lbmFibGUoc3RydWN0IGRybV9p
OTE1X3ByaXZhdGUgKmk5MTUpCit2b2lkIGludGVsX3J1bnRpbWVfcG1fZW5hYmxlKHN0cnVjdCBp
bnRlbF9ydW50aW1lX3BtICpycG0pCiB7Ci0Jc3RydWN0IGludGVsX3J1bnRpbWVfcG0gKnJwbSA9
ICZpOTE1LT5ydW50aW1lX3BtOwogCXN0cnVjdCBkZXZpY2UgKmtkZXYgPSBycG0tPmtkZXY7CiAK
IAkvKgpAQCAtNTg3LDkgKzU4NSw4IEBAIHZvaWQgaW50ZWxfcnVudGltZV9wbV9lbmFibGUoc3Ry
dWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUpCiAJcG1fcnVudGltZV9wdXRfYXV0b3N1c3BlbmQo
a2Rldik7CiB9CiAKLXZvaWQgaW50ZWxfcnVudGltZV9wbV9kaXNhYmxlKHN0cnVjdCBkcm1faTkx
NV9wcml2YXRlICppOTE1KQordm9pZCBpbnRlbF9ydW50aW1lX3BtX2Rpc2FibGUoc3RydWN0IGlu
dGVsX3J1bnRpbWVfcG0gKnJwbSkKIHsKLQlzdHJ1Y3QgaW50ZWxfcnVudGltZV9wbSAqcnBtID0g
Jmk5MTUtPnJ1bnRpbWVfcG07CiAJc3RydWN0IGRldmljZSAqa2RldiA9IHJwbS0+a2RldjsKIAog
CS8qIFRyYW5zZmVyIHJwbSBvd25lcnNoaXAgYmFjayB0byBjb3JlICovCkBAIC02MDIsOSArNTk5
LDggQEAgdm9pZCBpbnRlbF9ydW50aW1lX3BtX2Rpc2FibGUoc3RydWN0IGRybV9pOTE1X3ByaXZh
dGUgKmk5MTUpCiAJCXBtX3J1bnRpbWVfcHV0KGtkZXYpOwogfQogCi12b2lkIGludGVsX3J1bnRp
bWVfcG1fY2xlYW51cChzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSkKK3ZvaWQgaW50ZWxf
cnVudGltZV9wbV9jbGVhbnVwKHN0cnVjdCBpbnRlbF9ydW50aW1lX3BtICpycG0pCiB7Ci0Jc3Ry
dWN0IGludGVsX3J1bnRpbWVfcG0gKnJwbSA9ICZpOTE1LT5ydW50aW1lX3BtOwogCWludCBjb3Vu
dCA9IGF0b21pY19yZWFkKCZycG0tPndha2VyZWZfY291bnQpOwogCiAJV0FSTihjb3VudCwKQEAg
LTYxNSw5ICs2MTEsMTAgQEAgdm9pZCBpbnRlbF9ydW50aW1lX3BtX2NsZWFudXAoc3RydWN0IGRy
bV9pOTE1X3ByaXZhdGUgKmk5MTUpCiAJdW50cmFja19hbGxfaW50ZWxfcnVudGltZV9wbV93YWtl
cmVmcyhycG0pOwogfQogCi12b2lkIGludGVsX3J1bnRpbWVfcG1faW5pdF9lYXJseShzdHJ1Y3Qg
ZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSkKK3ZvaWQgaW50ZWxfcnVudGltZV9wbV9pbml0X2Vhcmx5
KHN0cnVjdCBpbnRlbF9ydW50aW1lX3BtICpycG0pCiB7Ci0Jc3RydWN0IGludGVsX3J1bnRpbWVf
cG0gKnJwbSA9ICZpOTE1LT5ydW50aW1lX3BtOworCXN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpp
OTE1ID0KKwkJCWNvbnRhaW5lcl9vZihycG0sIHN0cnVjdCBkcm1faTkxNV9wcml2YXRlLCBydW50
aW1lX3BtKTsKIAlzdHJ1Y3QgcGNpX2RldiAqcGRldiA9IGk5MTUtPmRybS5wZGV2OwogCXN0cnVj
dCBkZXZpY2UgKmtkZXYgPSAmcGRldi0+ZGV2OwogCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9k
cm0vaTkxNS9pbnRlbF9ydW50aW1lX3BtLmggYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9y
dW50aW1lX3BtLmgKaW5kZXggNDBjNjUzMGFmNWJiLi4wODkwZTY5OGYxOTYgMTAwNjQ0Ci0tLSBh
L2RyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX3J1bnRpbWVfcG0uaAorKysgYi9kcml2ZXJzL2dw
dS9kcm0vaTkxNS9pbnRlbF9ydW50aW1lX3BtLmgKQEAgLTE2OSwxMCArMTY5LDEwIEBAIGVuYWJs
ZV9ycG1fd2FrZXJlZl9hc3NlcnRzKHN0cnVjdCBpbnRlbF9ydW50aW1lX3BtICpycG0pCiAJCSAg
ICZycG0tPndha2VyZWZfY291bnQpOwogfQogCi12b2lkIGludGVsX3J1bnRpbWVfcG1faW5pdF9l
YXJseShzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYpOwotdm9pZCBpbnRlbF9ydW50
aW1lX3BtX2VuYWJsZShzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYpOwotdm9pZCBp
bnRlbF9ydW50aW1lX3BtX2Rpc2FibGUoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2
KTsKLXZvaWQgaW50ZWxfcnVudGltZV9wbV9jbGVhbnVwKHN0cnVjdCBkcm1faTkxNV9wcml2YXRl
ICpkZXZfcHJpdik7Cit2b2lkIGludGVsX3J1bnRpbWVfcG1faW5pdF9lYXJseShzdHJ1Y3QgaW50
ZWxfcnVudGltZV9wbSAqcnBtKTsKK3ZvaWQgaW50ZWxfcnVudGltZV9wbV9lbmFibGUoc3RydWN0
IGludGVsX3J1bnRpbWVfcG0gKnJwbSk7Cit2b2lkIGludGVsX3J1bnRpbWVfcG1fZGlzYWJsZShz
dHJ1Y3QgaW50ZWxfcnVudGltZV9wbSAqcnBtKTsKK3ZvaWQgaW50ZWxfcnVudGltZV9wbV9jbGVh
bnVwKHN0cnVjdCBpbnRlbF9ydW50aW1lX3BtICpycG0pOwogCiBpbnRlbF93YWtlcmVmX3QgaW50
ZWxfcnVudGltZV9wbV9nZXQoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUpOwogaW50ZWxf
d2FrZXJlZl90IGludGVsX3J1bnRpbWVfcG1fZ2V0X2lmX2luX3VzZShzdHJ1Y3QgZHJtX2k5MTVf
cHJpdmF0ZSAqaTkxNSk7CkBAIC0yMDAsMTAgKzIwMCwxMCBAQCBpbnRlbF9ydW50aW1lX3BtX3B1
dChzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSwgaW50ZWxfd2FrZXJlZl90IHdyZWYpCiB2
b2lkIGludGVsX3J1bnRpbWVfcG1fcHV0X3JhdyhzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkx
NSwgaW50ZWxfd2FrZXJlZl90IHdyZWYpOwogCiAjaWYgSVNfRU5BQkxFRChDT05GSUdfRFJNX0k5
MTVfREVCVUdfUlVOVElNRV9QTSkKLXZvaWQgcHJpbnRfaW50ZWxfcnVudGltZV9wbV93YWtlcmVm
KHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICppOTE1LAordm9pZCBwcmludF9pbnRlbF9ydW50aW1l
X3BtX3dha2VyZWYoc3RydWN0IGludGVsX3J1bnRpbWVfcG0gKnJwbSwKIAkJCQkgICAgc3RydWN0
IGRybV9wcmludGVyICpwKTsKICNlbHNlCi1zdGF0aWMgaW5saW5lIHZvaWQgcHJpbnRfaW50ZWxf
cnVudGltZV9wbV93YWtlcmVmKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICppOTE1LAorc3RhdGlj
IGlubGluZSB2b2lkIHByaW50X2ludGVsX3J1bnRpbWVfcG1fd2FrZXJlZihzdHJ1Y3QgaW50ZWxf
cnVudGltZV9wbSAqcnBtLAogCQkJCQkJICBzdHJ1Y3QgZHJtX3ByaW50ZXIgKnApCiB7CiB9CmRp
ZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9zZWxmdGVzdHMvbW9ja19nZW1fZGV2aWNl
LmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9zZWxmdGVzdHMvbW9ja19nZW1fZGV2aWNlLmMKaW5k
ZXggMGFkNDU2ZGJhMDlmLi5hMTNjMGFmYWRjY2MgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2Ry
bS9pOTE1L3NlbGZ0ZXN0cy9tb2NrX2dlbV9kZXZpY2UuYworKysgYi9kcml2ZXJzL2dwdS9kcm0v
aTkxNS9zZWxmdGVzdHMvbW9ja19nZW1fZGV2aWNlLmMKQEAgLTE2Nyw3ICsxNjcsNyBAQCBzdHJ1
Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqbW9ja19nZW1fZGV2aWNlKHZvaWQpCiAJaTkxNS0+ZHJtLnBk
ZXYgPSBwZGV2OwogCWk5MTUtPmRybS5kZXZfcHJpdmF0ZSA9IGk5MTU7CiAKLQlpbnRlbF9ydW50
aW1lX3BtX2luaXRfZWFybHkoaTkxNSk7CisJaW50ZWxfcnVudGltZV9wbV9pbml0X2Vhcmx5KCZp
OTE1LT5ydW50aW1lX3BtKTsKIAogCS8qIFVzaW5nIHRoZSBnbG9iYWwgR1RUIG1heSBhc2sgcXVl
c3Rpb25zIGFib3V0IEtNUyB1c2Vycywgc28gcHJlcGFyZSAqLwogCWRybV9tb2RlX2NvbmZpZ19p
bml0KCZpOTE1LT5kcm0pOwotLSAKMi4yMC4xCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fXwpJbnRlbC1nZnggbWFpbGluZyBsaXN0CkludGVsLWdmeEBsaXN0
cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9s
aXN0aW5mby9pbnRlbC1nZng=

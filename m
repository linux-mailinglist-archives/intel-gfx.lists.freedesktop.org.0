Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 1637B1430FE
	for <lists+intel-gfx@lfdr.de>; Mon, 20 Jan 2020 18:47:59 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 640706EAA8;
	Mon, 20 Jan 2020 17:47:57 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga09.intel.com (mga09.intel.com [134.134.136.24])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 4A5D46EA55
 for <intel-gfx@lists.freedesktop.org>; Mon, 20 Jan 2020 17:47:55 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga001.jf.intel.com ([10.7.209.18])
 by orsmga102.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 20 Jan 2020 09:47:54 -0800
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.70,342,1574150400"; d="scan'208";a="306978212"
Received: from stinkbox.fi.intel.com (HELO stinkbox) ([10.237.72.174])
 by orsmga001.jf.intel.com with SMTP; 20 Jan 2020 09:47:52 -0800
Received: by stinkbox (sSMTP sendmail emulation);
 Mon, 20 Jan 2020 19:47:52 +0200
From: Ville Syrjala <ville.syrjala@linux.intel.com>
To: intel-gfx@lists.freedesktop.org
Date: Mon, 20 Jan 2020 19:47:18 +0200
Message-Id: <20200120174728.21095-9-ville.syrjala@linux.intel.com>
X-Mailer: git-send-email 2.24.1
In-Reply-To: <20200120174728.21095-1-ville.syrjala@linux.intel.com>
References: <20200120174728.21095-1-ville.syrjala@linux.intel.com>
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH 08/17] drm/i915: Simplify intel_set_cdclk_{pre,
 post}_plane_update() calling convention
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

RnJvbTogVmlsbGUgU3lyasOkbMOkIDx2aWxsZS5zeXJqYWxhQGxpbnV4LmludGVsLmNvbT4KCk1v
dmUgYWxsIHRoZSBvbGQgdnMuIG5ldyBzdGF0ZSBzaGVuYW5pZ2FucwppbnRvIGludGVsX3NldF9j
ZGNsa197cHJlLHBvc3R9X3BsYW5lX3VwZGF0ZSgpIHNvIHRoYXQgdGhlIGNhbGxlcgpkb2Vzbid0
IG5lZWQgdG8ga25vdyBhbnkgb2YgaXQuCgpTaWduZWQtb2ZmLWJ5OiBWaWxsZSBTeXJqw6Rsw6Qg
PHZpbGxlLnN5cmphbGFAbGludXguaW50ZWwuY29tPgotLS0KIGRyaXZlcnMvZ3B1L2RybS9pOTE1
L2Rpc3BsYXkvaW50ZWxfY2RjbGsuYyAgIHwgNDQgKysrKysrKysrKy0tLS0tLS0tLS0KIGRyaXZl
cnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfY2RjbGsuaCAgIHwgMTIgKy0tLS0tCiBkcml2
ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXkuYyB8IDEwICstLS0tCiAzIGZp
bGVzIGNoYW5nZWQsIDI2IGluc2VydGlvbnMoKyksIDQwIGRlbGV0aW9ucygtKQoKZGlmZiAtLWdp
dCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfY2RjbGsuYyBiL2RyaXZlcnMv
Z3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfY2RjbGsuYwppbmRleCAyYTU0OTFlYjhhZjMuLmEy
YjE0MDFkY2ZiYiAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRl
bF9jZGNsay5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfY2RjbGsu
YwpAQCAtMTg4Nyw0MSArMTg4Nyw0MSBAQCBzdGF0aWMgdm9pZCBpbnRlbF9zZXRfY2RjbGsoc3Ry
dWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2LAogfQogCiAvKioKLSAqIGludGVsX3NldF9j
ZGNsa19wcmVfcGxhbmVfdXBkYXRlIC0gUHVzaCB0aGUgQ0RDTEsgY29uZmlndXJhdGlvbiB0byB0
aGUgaGFyZHdhcmUKLSAqIEBkZXZfcHJpdjogaTkxNSBkZXZpY2UKLSAqIEBvbGRfc3RhdGU6IG9s
ZCBDRENMSyBjb25maWd1cmF0aW9uCi0gKiBAbmV3X3N0YXRlOiBuZXcgQ0RDTEsgY29uZmlndXJh
dGlvbgotICogQHBpcGU6IHBpcGUgd2l0aCB3aGljaCB0byBzeW5jaHJvbml6ZSB0aGUgdXBkYXRl
CisgKiBpbnRlbF9zZXRfY2RjbGtfcHJlX3BsYW5lX3VwZGF0ZSAtIFB1c2ggdGhlIENEQ0xLIHN0
YXRlIHRvIHRoZSBoYXJkd2FyZQorICogQHN0YXRlOiBpbnRlbCBhdG9taWMgc3RhdGUKICAqCi0g
KiBQcm9ncmFtIHRoZSBoYXJkd2FyZSBiZWZvcmUgdXBkYXRpbmcgdGhlIEhXIHBsYW5lIHN0YXRl
IGJhc2VkIG9uIHRoZSBwYXNzZWQKLSAqIGluIENEQ0xLIGNvbmZpZ3VyYXRpb24sIGlmIG5lY2Vz
c2FyeS4KKyAqIFByb2dyYW0gdGhlIGhhcmR3YXJlIGJlZm9yZSB1cGRhdGluZyB0aGUgSFcgcGxh
bmUgc3RhdGUgYmFzZWQgb24gdGhlCisgKiBuZXcgQ0RDTEsgc3RhdGUsIGlmIG5lY2Vzc2FyeS4K
ICAqLwogdm9pZAotaW50ZWxfc2V0X2NkY2xrX3ByZV9wbGFuZV91cGRhdGUoc3RydWN0IGRybV9p
OTE1X3ByaXZhdGUgKmRldl9wcml2LAotCQkJCSBjb25zdCBzdHJ1Y3QgaW50ZWxfY2RjbGtfY29u
ZmlnICpvbGRfc3RhdGUsCi0JCQkJIGNvbnN0IHN0cnVjdCBpbnRlbF9jZGNsa19jb25maWcgKm5l
d19zdGF0ZSwKLQkJCQkgZW51bSBwaXBlIHBpcGUpCitpbnRlbF9zZXRfY2RjbGtfcHJlX3BsYW5l
X3VwZGF0ZShzdHJ1Y3QgaW50ZWxfYXRvbWljX3N0YXRlICpzdGF0ZSkKIHsKKwlzdHJ1Y3QgZHJt
X2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYgPSB0b19pOTE1KHN0YXRlLT5iYXNlLmRldik7CisJLyog
Y2FsbGVkIGFmdGVyIGludGVsX2NkY2xrX3N3YXBfc3RhdGUoKSEgKi8KKwljb25zdCBzdHJ1Y3Qg
aW50ZWxfY2RjbGtfY29uZmlnICpvbGRfc3RhdGUgPSAmc3RhdGUtPmNkY2xrLmFjdHVhbDsKKwlj
b25zdCBzdHJ1Y3QgaW50ZWxfY2RjbGtfY29uZmlnICpuZXdfc3RhdGUgPSAmZGV2X3ByaXYtPmNk
Y2xrLmFjdHVhbDsKKwllbnVtIHBpcGUgcGlwZSA9IHN0YXRlLT5jZGNsay5waXBlOworCiAJaWYg
KHBpcGUgPT0gSU5WQUxJRF9QSVBFIHx8IG9sZF9zdGF0ZS0+Y2RjbGsgPD0gbmV3X3N0YXRlLT5j
ZGNsaykKIAkJaW50ZWxfc2V0X2NkY2xrKGRldl9wcml2LCBuZXdfc3RhdGUsIHBpcGUpOwogfQog
CiAvKioKLSAqIGludGVsX3NldF9jZGNsa19wb3N0X3BsYW5lX3VwZGF0ZSAtIFB1c2ggdGhlIENE
Q0xLIGNvbmZpZ3VyYXRpb24gdG8gdGhlIGhhcmR3YXJlCi0gKiBAZGV2X3ByaXY6IGk5MTUgZGV2
aWNlCi0gKiBAb2xkX3N0YXRlOiBvbGQgQ0RDTEsgY29uZmlndXJhdGlvbgotICogQG5ld19zdGF0
ZTogbmV3IENEQ0xLIGNvbmZpZ3VyYXRpb24KLSAqIEBwaXBlOiBwaXBlIHdpdGggd2hpY2ggdG8g
c3luY2hyb25pemUgdGhlIHVwZGF0ZQorICogaW50ZWxfc2V0X2NkY2xrX3Bvc3RfcGxhbmVfdXBk
YXRlIC0gUHVzaCB0aGUgQ0RDTEsgc3RhdGUgdG8gdGhlIGhhcmR3YXJlCisgKiBAc3RhdGU6IGlu
dGVsIGF0b21pYyBzdGF0ZQogICoKLSAqIFByb2dyYW0gdGhlIGhhcmR3YXJlIGFmdGVyIHVwZGF0
aW5nIHRoZSBIVyBwbGFuZSBzdGF0ZSBiYXNlZCBvbiB0aGUgcGFzc2VkCi0gKiBpbiBDRENMSyBj
b25maWd1cmF0aW9uLCBpZiBuZWNlc3NhcnkuCisgKiBQcm9ncmFtIHRoZSBoYXJkd2FyZSBiZWZv
cmUgdXBkYXRpbmcgdGhlIEhXIHBsYW5lIHN0YXRlIGJhc2VkIG9uIHRoZQorICogbmV3IENEQ0xL
IHN0YXRlLCBpZiBuZWNlc3NhcnkuCiAgKi8KIHZvaWQKLWludGVsX3NldF9jZGNsa19wb3N0X3Bs
YW5lX3VwZGF0ZShzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYsCi0JCQkJICBjb25z
dCBzdHJ1Y3QgaW50ZWxfY2RjbGtfY29uZmlnICpvbGRfc3RhdGUsCi0JCQkJICBjb25zdCBzdHJ1
Y3QgaW50ZWxfY2RjbGtfY29uZmlnICpuZXdfc3RhdGUsCi0JCQkJICBlbnVtIHBpcGUgcGlwZSkK
K2ludGVsX3NldF9jZGNsa19wb3N0X3BsYW5lX3VwZGF0ZShzdHJ1Y3QgaW50ZWxfYXRvbWljX3N0
YXRlICpzdGF0ZSkKIHsKKwlzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYgPSB0b19p
OTE1KHN0YXRlLT5iYXNlLmRldik7CisJLyogY2FsbGVkIGFmdGVyIGludGVsX2NkY2xrX3N3YXBf
c3RhdGUoKSEgKi8KKwljb25zdCBzdHJ1Y3QgaW50ZWxfY2RjbGtfY29uZmlnICpvbGRfc3RhdGUg
PSAmc3RhdGUtPmNkY2xrLmFjdHVhbDsKKwljb25zdCBzdHJ1Y3QgaW50ZWxfY2RjbGtfY29uZmln
ICpuZXdfc3RhdGUgPSAmZGV2X3ByaXYtPmNkY2xrLmFjdHVhbDsKKwllbnVtIHBpcGUgcGlwZSA9
IHN0YXRlLT5jZGNsay5waXBlOworCiAJaWYgKHBpcGUgIT0gSU5WQUxJRF9QSVBFICYmIG9sZF9z
dGF0ZS0+Y2RjbGsgPiBuZXdfc3RhdGUtPmNkY2xrKQogCQlpbnRlbF9zZXRfY2RjbGsoZGV2X3By
aXYsIG5ld19zdGF0ZSwgcGlwZSk7CiB9CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkx
NS9kaXNwbGF5L2ludGVsX2NkY2xrLmggYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2lu
dGVsX2NkY2xrLmgKaW5kZXggNzEyY2RhZWE0ZmVmLi5hM2ZiN2I4ZThkMzEgMTAwNjQ0Ci0tLSBh
L2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfY2RjbGsuaAorKysgYi9kcml2ZXJz
L2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2NkY2xrLmgKQEAgLTMzLDE2ICszMyw4IEBAIGJv
b2wgaW50ZWxfY2RjbGtfbmVlZHNfbW9kZXNldChjb25zdCBzdHJ1Y3QgaW50ZWxfY2RjbGtfY29u
ZmlnICphLAogCQkJICAgICAgIGNvbnN0IHN0cnVjdCBpbnRlbF9jZGNsa19jb25maWcgKmIpOwog
dm9pZCBpbnRlbF9jZGNsa19jbGVhcl9zdGF0ZShzdHJ1Y3QgaW50ZWxfYXRvbWljX3N0YXRlICpz
dGF0ZSk7CiB2b2lkIGludGVsX2NkY2xrX3N3YXBfc3RhdGUoc3RydWN0IGludGVsX2F0b21pY19z
dGF0ZSAqc3RhdGUpOwotdm9pZAotaW50ZWxfc2V0X2NkY2xrX3ByZV9wbGFuZV91cGRhdGUoc3Ry
dWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2LAotCQkJCSBjb25zdCBzdHJ1Y3QgaW50ZWxf
Y2RjbGtfY29uZmlnICpvbGRfc3RhdGUsCi0JCQkJIGNvbnN0IHN0cnVjdCBpbnRlbF9jZGNsa19j
b25maWcgKm5ld19zdGF0ZSwKLQkJCQkgZW51bSBwaXBlIHBpcGUpOwotdm9pZAotaW50ZWxfc2V0
X2NkY2xrX3Bvc3RfcGxhbmVfdXBkYXRlKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJp
diwKLQkJCQkgIGNvbnN0IHN0cnVjdCBpbnRlbF9jZGNsa19jb25maWcgKm9sZF9zdGF0ZSwKLQkJ
CQkgIGNvbnN0IHN0cnVjdCBpbnRlbF9jZGNsa19jb25maWcgKm5ld19zdGF0ZSwKLQkJCQkgIGVu
dW0gcGlwZSBwaXBlKTsKK3ZvaWQgaW50ZWxfc2V0X2NkY2xrX3ByZV9wbGFuZV91cGRhdGUoc3Ry
dWN0IGludGVsX2F0b21pY19zdGF0ZSAqc3RhdGUpOwordm9pZCBpbnRlbF9zZXRfY2RjbGtfcG9z
dF9wbGFuZV91cGRhdGUoc3RydWN0IGludGVsX2F0b21pY19zdGF0ZSAqc3RhdGUpOwogdm9pZCBp
bnRlbF9kdW1wX2NkY2xrX2NvbmZpZyhjb25zdCBzdHJ1Y3QgaW50ZWxfY2RjbGtfY29uZmlnICpj
ZGNsa19jb25maWcsCiAJCQkgICAgIGNvbnN0IGNoYXIgKmNvbnRleHQpOwogaW50IGludGVsX21v
ZGVzZXRfY2FsY19jZGNsayhzdHJ1Y3QgaW50ZWxfYXRvbWljX3N0YXRlICpzdGF0ZSk7CmRpZmYg
LS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXkuYyBiL2Ry
aXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheS5jCmluZGV4IGRlMmFiNDRi
OTE1MC4uMjViMGVhYjAxOWNiIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNw
bGF5L2ludGVsX2Rpc3BsYXkuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2lu
dGVsX2Rpc3BsYXkuYwpAQCAtMTU0MTEsMTAgKzE1NDExLDcgQEAgc3RhdGljIHZvaWQgaW50ZWxf
YXRvbWljX2NvbW1pdF90YWlsKHN0cnVjdCBpbnRlbF9hdG9taWNfc3RhdGUgKnN0YXRlKQogCWlm
IChzdGF0ZS0+bW9kZXNldCkgewogCQlkcm1fYXRvbWljX2hlbHBlcl91cGRhdGVfbGVnYWN5X21v
ZGVzZXRfc3RhdGUoZGV2LCAmc3RhdGUtPmJhc2UpOwogCi0JCWludGVsX3NldF9jZGNsa19wcmVf
cGxhbmVfdXBkYXRlKGRldl9wcml2LAotCQkJCQkJICZzdGF0ZS0+Y2RjbGsuYWN0dWFsLAotCQkJ
CQkJICZkZXZfcHJpdi0+Y2RjbGsuYWN0dWFsLAotCQkJCQkJIHN0YXRlLT5jZGNsay5waXBlKTsK
KwkJaW50ZWxfc2V0X2NkY2xrX3ByZV9wbGFuZV91cGRhdGUoc3RhdGUpOwogCiAJCS8qCiAJCSAq
IFNLTCB3b3JrYXJvdW5kOiBic3BlYyByZWNvbW1lbmRzIHdlIGRpc2FibGUgdGhlIFNBR1Ygd2hl
biB3ZQpAQCAtMTU0NTAsMTAgKzE1NDQ3LDcgQEAgc3RhdGljIHZvaWQgaW50ZWxfYXRvbWljX2Nv
bW1pdF90YWlsKHN0cnVjdCBpbnRlbF9hdG9taWNfc3RhdGUgKnN0YXRlKQogCWlmIChzdGF0ZS0+
bW9kZXNldCkgewogCQlpbnRlbF9lbmNvZGVyc191cGRhdGVfY29tcGxldGUoc3RhdGUpOwogCi0J
CWludGVsX3NldF9jZGNsa19wb3N0X3BsYW5lX3VwZGF0ZShkZXZfcHJpdiwKLQkJCQkJCSAgJnN0
YXRlLT5jZGNsay5hY3R1YWwsCi0JCQkJCQkgICZkZXZfcHJpdi0+Y2RjbGsuYWN0dWFsLAotCQkJ
CQkJICBzdGF0ZS0+Y2RjbGsucGlwZSk7CisJCWludGVsX3NldF9jZGNsa19wb3N0X3BsYW5lX3Vw
ZGF0ZShzdGF0ZSk7CiAJfQogCiAJLyogRklYTUU6IFdlIHNob3VsZCBjYWxsIGRybV9hdG9taWNf
aGVscGVyX2NvbW1pdF9od19kb25lKCkgaGVyZQotLSAKMi4yNC4xCgpfX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpJbnRlbC1nZnggbWFpbGluZyBsaXN0Cklu
dGVsLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5v
cmcvbWFpbG1hbi9saXN0aW5mby9pbnRlbC1nZngK

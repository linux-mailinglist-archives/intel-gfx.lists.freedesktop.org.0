Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 66C307D131
	for <lists+intel-gfx@lfdr.de>; Thu,  1 Aug 2019 00:33:27 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 737C86E316;
	Wed, 31 Jul 2019 22:33:25 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga07.intel.com (mga07.intel.com [134.134.136.100])
 by gabe.freedesktop.org (Postfix) with ESMTPS id DED258916D
 for <intel-gfx@lists.freedesktop.org>; Wed, 31 Jul 2019 22:33:24 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga004.jf.intel.com ([10.7.209.38])
 by orsmga105.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 31 Jul 2019 15:33:24 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.64,331,1559545200"; d="scan'208";a="323945619"
Received: from irvmail001.ir.intel.com ([163.33.26.43])
 by orsmga004.jf.intel.com with ESMTP; 31 Jul 2019 15:33:23 -0700
Received: from mwajdecz-MOBL1.ger.corp.intel.com
 (mwajdecz-mobl1.ger.corp.intel.com [10.249.145.58])
 by irvmail001.ir.intel.com (8.14.3/8.13.6/MailSET/Hub) with ESMTP id
 x6VMXLdv019262
 for <intel-gfx@lists.freedesktop.org>; Wed, 31 Jul 2019 23:33:22 +0100
From: Michal Wajdeczko <michal.wajdeczko@intel.com>
To: intel-gfx@lists.freedesktop.org
Date: Wed, 31 Jul 2019 22:33:18 +0000
Message-Id: <20190731223321.36436-2-michal.wajdeczko@intel.com>
X-Mailer: git-send-email 2.21.0.windows.1
In-Reply-To: <20190731223321.36436-1-michal.wajdeczko@intel.com>
References: <20190731223321.36436-1-michal.wajdeczko@intel.com>
MIME-Version: 1.0
Subject: [Intel-gfx] [CI 1/4] drm/i915/uc: Rename intel_uc_is_using* into
 intel_uc_supports*
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

UmVuYW1lIGludGVsX3VjX2lzX3VzaW5nKiBpbnRvIGludGVsX3VjX3N1cHBvcnRzKiB0byBtYWtl
IGNsZWFyCmRpc3RpbmN0aW9uIGZyb20gYWN0dWFsIHN0YXRlIChjb21wYXJlIGludGVsX3VjX2Z3
X2lzX3J1bm5pbmcpCgpTdWdnZXN0ZWQtYnk6IENocmlzIFdpbHNvbiA8Y2hyaXNAY2hyaXMtd2ls
c29uLmNvLnVrPgpTaWduZWQtb2ZmLWJ5OiBNaWNoYWwgV2FqZGVjemtvIDxtaWNoYWwud2FqZGVj
emtvQGludGVsLmNvbT4KQ2M6IENocmlzIFdpbHNvbiA8Y2hyaXNAY2hyaXMtd2lsc29uLmNvLnVr
PgpSZXZpZXdlZC1ieTogQ2hyaXMgV2lsc29uIDxjaHJpc0BjaHJpcy13aWxzb24uY28udWs+Ci0t
LQogZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvdWMvaW50ZWxfZ3VjLmMgfCAgOCArKy0tLQogZHJp
dmVycy9ncHUvZHJtL2k5MTUvZ3QvdWMvaW50ZWxfaHVjLmMgfCAgMiArLQogZHJpdmVycy9ncHUv
ZHJtL2k5MTUvZ3QvdWMvaW50ZWxfdWMuYyAgfCA0NCArKysrKysrKysrKysrLS0tLS0tLS0tLS0t
LQogZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvdWMvaW50ZWxfdWMuaCAgfCAgNiArKy0tCiBkcml2
ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2Rydi5oICAgICAgICB8ICA0ICstLQogNSBmaWxlcyBjaGFu
Z2VkLCAzMiBpbnNlcnRpb25zKCspLCAzMiBkZWxldGlvbnMoLSkKCmRpZmYgLS1naXQgYS9kcml2
ZXJzL2dwdS9kcm0vaTkxNS9ndC91Yy9pbnRlbF9ndWMuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1
L2d0L3VjL2ludGVsX2d1Yy5jCmluZGV4IDEzZmJiZmZkMDVjNy4uZjhmYzM0ODE2ZTJjIDEwMDY0
NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC91Yy9pbnRlbF9ndWMuYworKysgYi9kcml2
ZXJzL2dwdS9kcm0vaTkxNS9ndC91Yy9pbnRlbF9ndWMuYwpAQCAtMTQ0LDcgKzE0NCw3IEBAIHN0
YXRpYyB1MzIgZ3VjX2N0bF9mZWF0dXJlX2ZsYWdzKHN0cnVjdCBpbnRlbF9ndWMgKmd1YykKIHsK
IAl1MzIgZmxhZ3MgPSAwOwogCi0JaWYgKCFpbnRlbF91Y19pc191c2luZ19ndWNfc3VibWlzc2lv
bigmZ3VjX3RvX2d0KGd1YyktPnVjKSkKKwlpZiAoIWludGVsX3VjX3N1cHBvcnRzX2d1Y19zdWJt
aXNzaW9uKCZndWNfdG9fZ3QoZ3VjKS0+dWMpKQogCQlmbGFncyB8PSBHVUNfQ1RMX0RJU0FCTEVf
U0NIRURVTEVSOwogCiAJcmV0dXJuIGZsYWdzOwpAQCAtMTU0LDcgKzE1NCw3IEBAIHN0YXRpYyB1
MzIgZ3VjX2N0bF9jdHhpbmZvX2ZsYWdzKHN0cnVjdCBpbnRlbF9ndWMgKmd1YykKIHsKIAl1MzIg
ZmxhZ3MgPSAwOwogCi0JaWYgKGludGVsX3VjX2lzX3VzaW5nX2d1Y19zdWJtaXNzaW9uKCZndWNf
dG9fZ3QoZ3VjKS0+dWMpKSB7CisJaWYgKGludGVsX3VjX3N1cHBvcnRzX2d1Y19zdWJtaXNzaW9u
KCZndWNfdG9fZ3QoZ3VjKS0+dWMpKSB7CiAJCXUzMiBjdHhudW0sIGJhc2U7CiAKIAkJYmFzZSA9
IGludGVsX2d1Y19nZ3R0X29mZnNldChndWMsIGd1Yy0+c3RhZ2VfZGVzY19wb29sKTsKQEAgLTI5
MCw3ICsyOTAsNyBAQCBpbnQgaW50ZWxfZ3VjX2luaXQoc3RydWN0IGludGVsX2d1YyAqZ3VjKQog
CWlmIChyZXQpCiAJCWdvdG8gZXJyX2FkczsKIAotCWlmIChpbnRlbF91Y19pc191c2luZ19ndWNf
c3VibWlzc2lvbigmZ3QtPnVjKSkgeworCWlmIChpbnRlbF91Y19zdXBwb3J0c19ndWNfc3VibWlz
c2lvbigmZ3QtPnVjKSkgewogCQkvKgogCQkgKiBUaGlzIGlzIHN0dWZmIHdlIG5lZWQgdG8gaGF2
ZSBhdmFpbGFibGUgYXQgZncgbG9hZCB0aW1lCiAJCSAqIGlmIHdlIGFyZSBwbGFubmluZyB0byBl
bmFibGUgc3VibWlzc2lvbiBsYXRlcgpAQCAtMzI5LDcgKzMyOSw3IEBAIHZvaWQgaW50ZWxfZ3Vj
X2Zpbmkoc3RydWN0IGludGVsX2d1YyAqZ3VjKQogCiAJaTkxNV9nZ3R0X2Rpc2FibGVfZ3VjKGd0
LT5nZ3R0KTsKIAotCWlmIChpbnRlbF91Y19pc191c2luZ19ndWNfc3VibWlzc2lvbigmZ3QtPnVj
KSkKKwlpZiAoaW50ZWxfdWNfc3VwcG9ydHNfZ3VjX3N1Ym1pc3Npb24oJmd0LT51YykpCiAJCWlu
dGVsX2d1Y19zdWJtaXNzaW9uX2ZpbmkoZ3VjKTsKIAogCWludGVsX2d1Y19jdF9maW5pKCZndWMt
PmN0KTsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L3VjL2ludGVsX2h1Yy5j
IGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvdWMvaW50ZWxfaHVjLmMKaW5kZXggYzk1MzVjYWJh
ODQ0Li5kNjQyYjE2N2EzODkgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L3Vj
L2ludGVsX2h1Yy5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L3VjL2ludGVsX2h1Yy5j
CkBAIC0xODUsNyArMTg1LDcgQEAgaW50IGludGVsX2h1Y19jaGVja19zdGF0dXMoc3RydWN0IGlu
dGVsX2h1YyAqaHVjKQogCWludGVsX3dha2VyZWZfdCB3YWtlcmVmOwogCXUzMiBzdGF0dXMgPSAw
OwogCi0JaWYgKCFpbnRlbF91Y19pc191c2luZ19odWMoJmd0LT51YykpCisJaWYgKCFpbnRlbF91
Y19zdXBwb3J0c19odWMoJmd0LT51YykpCiAJCXJldHVybiAtRU5PREVWOwogCiAJd2l0aF9pbnRl
bF9ydW50aW1lX3BtKCZndC0+aTkxNS0+cnVudGltZV9wbSwgd2FrZXJlZikKZGlmZiAtLWdpdCBh
L2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L3VjL2ludGVsX3VjLmMgYi9kcml2ZXJzL2dwdS9kcm0v
aTkxNS9ndC91Yy9pbnRlbF91Yy5jCmluZGV4IDY2YjIyNmJlNjc1OS4uNWQ2NzRlNDE4ZTVlIDEw
MDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC91Yy9pbnRlbF91Yy5jCisrKyBiL2Ry
aXZlcnMvZ3B1L2RybS9pOTE1L2d0L3VjL2ludGVsX3VjLmMKQEAgLTk1LDExICs5NSwxMSBAQCBz
dGF0aWMgdm9pZCBzYW5pdGl6ZV9vcHRpb25zX2Vhcmx5KHN0cnVjdCBpbnRlbF91YyAqdWMpCiAK
IAlEUk1fREVCVUdfRFJJVkVSKCJlbmFibGVfZ3VjPSVkIChzdWJtaXNzaW9uOiVzIGh1Yzolcylc
biIsCiAJCQkgaTkxNV9tb2RwYXJhbXMuZW5hYmxlX2d1YywKLQkJCSB5ZXNubyhpbnRlbF91Y19p
c191c2luZ19ndWNfc3VibWlzc2lvbih1YykpLAotCQkJIHllc25vKGludGVsX3VjX2lzX3VzaW5n
X2h1Yyh1YykpKTsKKwkJCSB5ZXNubyhpbnRlbF91Y19zdXBwb3J0c19ndWNfc3VibWlzc2lvbih1
YykpLAorCQkJIHllc25vKGludGVsX3VjX3N1cHBvcnRzX2h1Yyh1YykpKTsKIAogCS8qIFZlcmlm
eSBHdUMgZmlybXdhcmUgYXZhaWxhYmlsaXR5ICovCi0JaWYgKGludGVsX3VjX2lzX3VzaW5nX2d1
Yyh1YykgJiYgIWludGVsX3VjX2Z3X3N1cHBvcnRlZChndWNfZncpKSB7CisJaWYgKGludGVsX3Vj
X3N1cHBvcnRzX2d1Yyh1YykgJiYgIWludGVsX3VjX2Z3X3N1cHBvcnRlZChndWNfZncpKSB7CiAJ
CURSTV9XQVJOKCJJbmNvbXBhdGlibGUgb3B0aW9uIGRldGVjdGVkOiBlbmFibGVfZ3VjPSVkLCAi
CiAJCQkgImJ1dCBHdUMgaXMgbm90IHN1cHBvcnRlZCFcbiIsCiAJCQkgaTkxNV9tb2RwYXJhbXMu
ZW5hYmxlX2d1Yyk7CkBAIC0xMDgsNyArMTA4LDcgQEAgc3RhdGljIHZvaWQgc2FuaXRpemVfb3B0
aW9uc19lYXJseShzdHJ1Y3QgaW50ZWxfdWMgKnVjKQogCX0KIAogCS8qIFZlcmlmeSBIdUMgZmly
bXdhcmUgYXZhaWxhYmlsaXR5ICovCi0JaWYgKGludGVsX3VjX2lzX3VzaW5nX2h1Yyh1YykgJiYg
IWludGVsX3VjX2Z3X3N1cHBvcnRlZChodWNfZncpKSB7CisJaWYgKGludGVsX3VjX3N1cHBvcnRz
X2h1Yyh1YykgJiYgIWludGVsX3VjX2Z3X3N1cHBvcnRlZChodWNfZncpKSB7CiAJCURSTV9XQVJO
KCJJbmNvbXBhdGlibGUgb3B0aW9uIGRldGVjdGVkOiBlbmFibGVfZ3VjPSVkLCAiCiAJCQkgImJ1
dCBIdUMgaXMgbm90IHN1cHBvcnRlZCFcbiIsCiAJCQkgaTkxNV9tb2RwYXJhbXMuZW5hYmxlX2d1
Yyk7CkBAIC0xMTcsNyArMTE3LDcgQEAgc3RhdGljIHZvaWQgc2FuaXRpemVfb3B0aW9uc19lYXJs
eShzdHJ1Y3QgaW50ZWxfdWMgKnVjKQogCX0KIAogCS8qIFhYWDogR3VDIHN1Ym1pc3Npb24gaXMg
dW5hdmFpbGFibGUgZm9yIG5vdyAqLwotCWlmIChpbnRlbF91Y19pc191c2luZ19ndWNfc3VibWlz
c2lvbih1YykpIHsKKwlpZiAoaW50ZWxfdWNfc3VwcG9ydHNfZ3VjX3N1Ym1pc3Npb24odWMpKSB7
CiAJCURSTV9JTkZPKCJJbmNvbXBhdGlibGUgb3B0aW9uIGRldGVjdGVkOiBlbmFibGVfZ3VjPSVk
LCAiCiAJCQkgImJ1dCBHdUMgc3VibWlzc2lvbiBpcyBub3Qgc3VwcG9ydGVkIVxuIiwKIAkJCSBp
OTE1X21vZHBhcmFtcy5lbmFibGVfZ3VjKTsKQEAgLTMwOSwyMSArMzA5LDIxIEBAIHZvaWQgaW50
ZWxfdWNfZmV0Y2hfZmlybXdhcmVzKHN0cnVjdCBpbnRlbF91YyAqdWMpCiB7CiAJc3RydWN0IGRy
bV9pOTE1X3ByaXZhdGUgKmk5MTUgPSB1Y190b19ndCh1YyktPmk5MTU7CiAKLQlpZiAoIWludGVs
X3VjX2lzX3VzaW5nX2d1Yyh1YykpCisJaWYgKCFpbnRlbF91Y19zdXBwb3J0c19ndWModWMpKQog
CQlyZXR1cm47CiAKIAlpbnRlbF91Y19md19mZXRjaCgmdWMtPmd1Yy5mdywgaTkxNSk7CiAKLQlp
ZiAoaW50ZWxfdWNfaXNfdXNpbmdfaHVjKHVjKSkKKwlpZiAoaW50ZWxfdWNfc3VwcG9ydHNfaHVj
KHVjKSkKIAkJaW50ZWxfdWNfZndfZmV0Y2goJnVjLT5odWMuZncsIGk5MTUpOwogfQogCiB2b2lk
IGludGVsX3VjX2NsZWFudXBfZmlybXdhcmVzKHN0cnVjdCBpbnRlbF91YyAqdWMpCiB7Ci0JaWYg
KCFpbnRlbF91Y19pc191c2luZ19ndWModWMpKQorCWlmICghaW50ZWxfdWNfc3VwcG9ydHNfZ3Vj
KHVjKSkKIAkJcmV0dXJuOwogCi0JaWYgKGludGVsX3VjX2lzX3VzaW5nX2h1Yyh1YykpCisJaWYg
KGludGVsX3VjX3N1cHBvcnRzX2h1Yyh1YykpCiAJCWludGVsX3VjX2Z3X2NsZWFudXBfZmV0Y2go
JnVjLT5odWMuZncpOwogCiAJaW50ZWxfdWNfZndfY2xlYW51cF9mZXRjaCgmdWMtPmd1Yy5mdyk7
CkBAIC0zMzUsMjAgKzMzNSwyMCBAQCBpbnQgaW50ZWxfdWNfaW5pdChzdHJ1Y3QgaW50ZWxfdWMg
KnVjKQogCXN0cnVjdCBpbnRlbF9odWMgKmh1YyA9ICZ1Yy0+aHVjOwogCWludCByZXQ7CiAKLQlp
ZiAoIWludGVsX3VjX2lzX3VzaW5nX2d1Yyh1YykpCisJaWYgKCFpbnRlbF91Y19zdXBwb3J0c19n
dWModWMpKQogCQlyZXR1cm4gMDsKIAogCWlmICghaW50ZWxfdWNfZndfc3VwcG9ydGVkKCZndWMt
PmZ3KSkKIAkJcmV0dXJuIC1FTk9ERVY7CiAKIAkvKiBYWFg6IEd1QyBzdWJtaXNzaW9uIGlzIHVu
YXZhaWxhYmxlIGZvciBub3cgKi8KLQlHRU1fQlVHX09OKGludGVsX3VjX2lzX3VzaW5nX2d1Y19z
dWJtaXNzaW9uKHVjKSk7CisJR0VNX0JVR19PTihpbnRlbF91Y19zdXBwb3J0c19ndWNfc3VibWlz
c2lvbih1YykpOwogCiAJcmV0ID0gaW50ZWxfZ3VjX2luaXQoZ3VjKTsKIAlpZiAocmV0KQogCQly
ZXR1cm4gcmV0OwogCi0JaWYgKGludGVsX3VjX2lzX3VzaW5nX2h1Yyh1YykpIHsKKwlpZiAoaW50
ZWxfdWNfc3VwcG9ydHNfaHVjKHVjKSkgewogCQlyZXQgPSBpbnRlbF9odWNfaW5pdChodWMpOwog
CQlpZiAocmV0KQogCQkJZ290byBlcnJfZ3VjOwpAQCAtMzY1LDEyICszNjUsMTIgQEAgdm9pZCBp
bnRlbF91Y19maW5pKHN0cnVjdCBpbnRlbF91YyAqdWMpCiB7CiAJc3RydWN0IGludGVsX2d1YyAq
Z3VjID0gJnVjLT5ndWM7CiAKLQlpZiAoIWludGVsX3VjX2lzX3VzaW5nX2d1Yyh1YykpCisJaWYg
KCFpbnRlbF91Y19zdXBwb3J0c19ndWModWMpKQogCQlyZXR1cm47CiAKIAlHRU1fQlVHX09OKCFp
bnRlbF91Y19md19zdXBwb3J0ZWQoJmd1Yy0+ZncpKTsKIAotCWlmIChpbnRlbF91Y19pc191c2lu
Z19odWModWMpKQorCWlmIChpbnRlbF91Y19zdXBwb3J0c19odWModWMpKQogCQlpbnRlbF9odWNf
ZmluaSgmdWMtPmh1Yyk7CiAKIAlpbnRlbF9ndWNfZmluaShndWMpOwpAQCAtMzkxLDcgKzM5MSw3
IEBAIHN0YXRpYyB2b2lkIF9fdWNfc2FuaXRpemUoc3RydWN0IGludGVsX3VjICp1YykKIAogdm9p
ZCBpbnRlbF91Y19zYW5pdGl6ZShzdHJ1Y3QgaW50ZWxfdWMgKnVjKQogewotCWlmICghaW50ZWxf
dWNfaXNfdXNpbmdfZ3VjKHVjKSkKKwlpZiAoIWludGVsX3VjX3N1cHBvcnRzX2d1Yyh1YykpCiAJ
CXJldHVybjsKIAogCV9fdWNfc2FuaXRpemUodWMpOwpAQCAtNDA0LDExICs0MDQsMTEgQEAgc3Rh
dGljIGludCB1Y19pbml0X3dvcGNtKHN0cnVjdCBpbnRlbF91YyAqdWMpCiAJc3RydWN0IGludGVs
X3VuY29yZSAqdW5jb3JlID0gZ3QtPnVuY29yZTsKIAl1MzIgYmFzZSA9IGludGVsX3dvcGNtX2d1
Y19iYXNlKCZndC0+aTkxNS0+d29wY20pOwogCXUzMiBzaXplID0gaW50ZWxfd29wY21fZ3VjX3Np
emUoJmd0LT5pOTE1LT53b3BjbSk7Ci0JdTMyIGh1Y19hZ2VudCA9IGludGVsX3VjX2lzX3VzaW5n
X2h1Yyh1YykgPyBIVUNfTE9BRElOR19BR0VOVF9HVUMgOiAwOworCXUzMiBodWNfYWdlbnQgPSBp
bnRlbF91Y19zdXBwb3J0c19odWModWMpID8gSFVDX0xPQURJTkdfQUdFTlRfR1VDIDogMDsKIAl1
MzIgbWFzazsKIAlpbnQgZXJyOwogCi0JR0VNX0JVR19PTighaW50ZWxfdWNfaXNfdXNpbmdfZ3Vj
KHVjKSk7CisJR0VNX0JVR19PTighaW50ZWxfdWNfc3VwcG9ydHNfZ3VjKHVjKSk7CiAJR0VNX0JV
R19PTighKGJhc2UgJiBHVUNfV09QQ01fT0ZGU0VUX01BU0spKTsKIAlHRU1fQlVHX09OKGJhc2Ug
JiB+R1VDX1dPUENNX09GRlNFVF9NQVNLKTsKIAlHRU1fQlVHX09OKCEoc2l6ZSAmIEdVQ19XT1BD
TV9TSVpFX01BU0spKTsKQEAgLTQ0Nyw3ICs0NDcsNyBAQCBpbnQgaW50ZWxfdWNfaW5pdF9odyhz
dHJ1Y3QgaW50ZWxfdWMgKnVjKQogCXN0cnVjdCBpbnRlbF9odWMgKmh1YyA9ICZ1Yy0+aHVjOwog
CWludCByZXQsIGF0dGVtcHRzOwogCi0JaWYgKCFpbnRlbF91Y19pc191c2luZ19ndWModWMpKQor
CWlmICghaW50ZWxfdWNfc3VwcG9ydHNfZ3VjKHVjKSkKIAkJcmV0dXJuIDA7CiAKIAlHRU1fQlVH
X09OKCFpbnRlbF91Y19md19zdXBwb3J0ZWQoJmd1Yy0+ZncpKTsKQEAgLTQ3NCw3ICs0NzQsNyBA
QCBpbnQgaW50ZWxfdWNfaW5pdF9odyhzdHJ1Y3QgaW50ZWxfdWMgKnVjKQogCQlpZiAocmV0KQog
CQkJZ290byBlcnJfb3V0OwogCi0JCWlmIChpbnRlbF91Y19pc191c2luZ19odWModWMpKSB7CisJ
CWlmIChpbnRlbF91Y19zdXBwb3J0c19odWModWMpKSB7CiAJCQlyZXQgPSBpbnRlbF9odWNfZndf
dXBsb2FkKGh1Yyk7CiAJCQlpZiAocmV0ICYmIGludGVsX3VjX2Z3X2lzX292ZXJyaWRkZW4oJmh1
Yy0+ZncpKQogCQkJCWdvdG8gZXJyX291dDsKQEAgLTUwOCw3ICs1MDgsNyBAQCBpbnQgaW50ZWxf
dWNfaW5pdF9odyhzdHJ1Y3QgaW50ZWxfdWMgKnVjKQogCWlmIChyZXQpCiAJCWdvdG8gZXJyX2Nv
bW11bmljYXRpb247CiAKLQlpZiAoaW50ZWxfdWNfaXNfdXNpbmdfZ3VjX3N1Ym1pc3Npb24odWMp
KSB7CisJaWYgKGludGVsX3VjX3N1cHBvcnRzX2d1Y19zdWJtaXNzaW9uKHVjKSkgewogCQlyZXQg
PSBpbnRlbF9ndWNfc3VibWlzc2lvbl9lbmFibGUoZ3VjKTsKIAkJaWYgKHJldCkKIAkJCWdvdG8g
ZXJyX2NvbW11bmljYXRpb247CkBAIC01MTcsNyArNTE3LDcgQEAgaW50IGludGVsX3VjX2luaXRf
aHcoc3RydWN0IGludGVsX3VjICp1YykKIAlkZXZfaW5mbyhpOTE1LT5kcm0uZGV2LCAiR3VDIGZp
cm13YXJlIHZlcnNpb24gJXUuJXVcbiIsCiAJCSBndWMtPmZ3Lm1ham9yX3Zlcl9mb3VuZCwgZ3Vj
LT5mdy5taW5vcl92ZXJfZm91bmQpOwogCWRldl9pbmZvKGk5MTUtPmRybS5kZXYsICJHdUMgc3Vi
bWlzc2lvbiAlc1xuIiwKLQkJIGVuYWJsZWRkaXNhYmxlZChpbnRlbF91Y19pc191c2luZ19ndWNf
c3VibWlzc2lvbih1YykpKTsKKwkJIGVuYWJsZWRkaXNhYmxlZChpbnRlbF91Y19zdXBwb3J0c19n
dWNfc3VibWlzc2lvbih1YykpKTsKIAlkZXZfaW5mbyhpOTE1LT5kcm0uZGV2LCAiSHVDICVzXG4i
LAogCQkgZW5hYmxlZGRpc2FibGVkKGludGVsX2h1Y19pc19hdXRoZW50aWNhdGVkKGh1YykpKTsK
IApAQCAtNTUzLDcgKzU1Myw3IEBAIHZvaWQgaW50ZWxfdWNfZmluaV9odyhzdHJ1Y3QgaW50ZWxf
dWMgKnVjKQogCiAJR0VNX0JVR19PTighaW50ZWxfdWNfZndfc3VwcG9ydGVkKCZndWMtPmZ3KSk7
CiAKLQlpZiAoaW50ZWxfdWNfaXNfdXNpbmdfZ3VjX3N1Ym1pc3Npb24odWMpKQorCWlmIChpbnRl
bF91Y19zdXBwb3J0c19ndWNfc3VibWlzc2lvbih1YykpCiAJCWludGVsX2d1Y19zdWJtaXNzaW9u
X2Rpc2FibGUoZ3VjKTsKIAogCWd1Y19kaXNhYmxlX2NvbW11bmljYXRpb24oZ3VjKTsKZGlmZiAt
LWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L3VjL2ludGVsX3VjLmggYi9kcml2ZXJzL2dw
dS9kcm0vaTkxNS9ndC91Yy9pbnRlbF91Yy5oCmluZGV4IDI1ZGE1MWU5NTQxNy4uNjZkOGIxZWU2
ZjFkIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC91Yy9pbnRlbF91Yy5oCisr
KyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L3VjL2ludGVsX3VjLmgKQEAgLTQ5LDE5ICs0OSwx
OSBAQCB2b2lkIGludGVsX3VjX3J1bnRpbWVfc3VzcGVuZChzdHJ1Y3QgaW50ZWxfdWMgKnVjKTsK
IGludCBpbnRlbF91Y19yZXN1bWUoc3RydWN0IGludGVsX3VjICp1Yyk7CiBpbnQgaW50ZWxfdWNf
cnVudGltZV9yZXN1bWUoc3RydWN0IGludGVsX3VjICp1Yyk7CiAKLXN0YXRpYyBpbmxpbmUgYm9v
bCBpbnRlbF91Y19pc191c2luZ19ndWMoc3RydWN0IGludGVsX3VjICp1YykKK3N0YXRpYyBpbmxp
bmUgYm9vbCBpbnRlbF91Y19zdXBwb3J0c19ndWMoc3RydWN0IGludGVsX3VjICp1YykKIHsKIAlH
RU1fQlVHX09OKGk5MTVfbW9kcGFyYW1zLmVuYWJsZV9ndWMgPCAwKTsKIAlyZXR1cm4gaTkxNV9t
b2RwYXJhbXMuZW5hYmxlX2d1YyA+IDA7CiB9CiAKLXN0YXRpYyBpbmxpbmUgYm9vbCBpbnRlbF91
Y19pc191c2luZ19ndWNfc3VibWlzc2lvbihzdHJ1Y3QgaW50ZWxfdWMgKnVjKQorc3RhdGljIGlu
bGluZSBib29sIGludGVsX3VjX3N1cHBvcnRzX2d1Y19zdWJtaXNzaW9uKHN0cnVjdCBpbnRlbF91
YyAqdWMpCiB7CiAJR0VNX0JVR19PTihpOTE1X21vZHBhcmFtcy5lbmFibGVfZ3VjIDwgMCk7CiAJ
cmV0dXJuIGk5MTVfbW9kcGFyYW1zLmVuYWJsZV9ndWMgJiBFTkFCTEVfR1VDX1NVQk1JU1NJT047
CiB9CiAKLXN0YXRpYyBpbmxpbmUgYm9vbCBpbnRlbF91Y19pc191c2luZ19odWMoc3RydWN0IGlu
dGVsX3VjICp1YykKK3N0YXRpYyBpbmxpbmUgYm9vbCBpbnRlbF91Y19zdXBwb3J0c19odWMoc3Ry
dWN0IGludGVsX3VjICp1YykKIHsKIAlHRU1fQlVHX09OKGk5MTVfbW9kcGFyYW1zLmVuYWJsZV9n
dWMgPCAwKTsKIAlyZXR1cm4gaTkxNV9tb2RwYXJhbXMuZW5hYmxlX2d1YyAmIEVOQUJMRV9HVUNf
TE9BRF9IVUM7CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2Rydi5oIGIv
ZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kcnYuaAppbmRleCA0ZjQ5MmMwNWQwNjUuLjc0YWI3
NjI0NzAxOCAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kcnYuaAorKysg
Yi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2Rydi5oCkBAIC0yMjc1LDggKzIyNzUsOCBAQCBJ
U19TVUJQTEFURk9STShjb25zdCBzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSwKICNkZWZp
bmUgSEFTX0dUX1VDKGRldl9wcml2KQkoSU5URUxfSU5GTyhkZXZfcHJpdiktPmhhc19ndF91YykK
IAogLyogSGF2aW5nIEd1QyBpcyBub3QgdGhlIHNhbWUgYXMgdXNpbmcgR3VDICovCi0jZGVmaW5l
IFVTRVNfR1VDKGRldl9wcml2KQkJaW50ZWxfdWNfaXNfdXNpbmdfZ3VjKCYoZGV2X3ByaXYpLT5n
dC51YykKLSNkZWZpbmUgVVNFU19HVUNfU1VCTUlTU0lPTihkZXZfcHJpdikJaW50ZWxfdWNfaXNf
dXNpbmdfZ3VjX3N1Ym1pc3Npb24oJihkZXZfcHJpdiktPmd0LnVjKQorI2RlZmluZSBVU0VTX0dV
QyhkZXZfcHJpdikJCWludGVsX3VjX3N1cHBvcnRzX2d1YygmKGRldl9wcml2KS0+Z3QudWMpCisj
ZGVmaW5lIFVTRVNfR1VDX1NVQk1JU1NJT04oZGV2X3ByaXYpCWludGVsX3VjX3N1cHBvcnRzX2d1
Y19zdWJtaXNzaW9uKCYoZGV2X3ByaXYpLT5ndC51YykKIAogI2RlZmluZSBIQVNfUE9PTEVEX0VV
KGRldl9wcml2KQkoSU5URUxfSU5GTyhkZXZfcHJpdiktPmhhc19wb29sZWRfZXUpCiAKLS0gCjIu
MTkuMgoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KSW50
ZWwtZ2Z4IG1haWxpbmcgbGlzdApJbnRlbC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBz
Oi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vaW50ZWwtZ2Z4

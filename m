Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 7933E94AAA
	for <lists+intel-gfx@lfdr.de>; Mon, 19 Aug 2019 18:45:01 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 7FD9E6E225;
	Mon, 19 Aug 2019 16:44:59 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from fireflyinternet.com (mail.fireflyinternet.com [109.228.58.192])
 by gabe.freedesktop.org (Postfix) with ESMTPS id A34CD89C37
 for <intel-gfx@lists.freedesktop.org>; Mon, 19 Aug 2019 16:44:57 +0000 (UTC)
X-Default-Received-SPF: pass (skip=forwardok (res=PASS))
 x-ip-name=78.156.65.138; 
Received: from haswell.alporthouse.com (unverified [78.156.65.138]) 
 by fireflyinternet.com (Firefly Internet (M1)) with ESMTP id 18192153-1500050 
 for multiple; Mon, 19 Aug 2019 17:44:49 +0100
From: Chris Wilson <chris@chris-wilson.co.uk>
To: intel-gfx@lists.freedesktop.org
Date: Mon, 19 Aug 2019 17:44:39 +0100
Message-Id: <20190819164448.22132-1-chris@chris-wilson.co.uk>
X-Mailer: git-send-email 2.23.0.rc1
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH 01/10] drm/i915: Use 0 for the unordered context
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

U2luY2UgY29tbWl0IDA3OGRlYzMzMjZlMiAoImRtYS1idWY6IGFkZCBkbWFfZmVuY2VfZ2V0X3N0
dWIiKSB0aGUgMApmZW5jZSBjb250ZXh0IGJlY2FtZSBhbiBpbXBvc3NpYmxlIG1hdGNoIGFzIGl0
IGlzIHVzZWQgZm9yIGFuIGFsd2F5cwpzaWduYWxlZCBmZW5jZS4gV2UgY2FuIHNpbXBsaWZ5IG91
ciB0aW1lbGluZSB0cmFja2luZyBieSBrbm93aW5nIHRoYXQgMAphbHdheXMgbWVhbnMgbm8gbWF0
Y2guCgpTaWduZWQtb2ZmLWJ5OiBDaHJpcyBXaWxzb24gPGNocmlzQGNocmlzLXdpbHNvbi5jby51
az4KLS0tCiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fY2xmbHVzaC5jICAgIHwg
MyArLS0KIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9jbGllbnRfYmx0LmMgfCA3
ICstLS0tLS0KIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9mZW5jZS5jICAgICAg
fCAzICstLQogZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kcnYuaCAgICAgICAgICAgICAgICB8
IDIgLS0KIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZ2VtLmMgICAgICAgICAgICAgICAgfCAy
IC0tCiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3JlcXVlc3QuYyAgICAgICAgICAgIHwgNCAr
Ky0tCiA2IGZpbGVzIGNoYW5nZWQsIDUgaW5zZXJ0aW9ucygrKSwgMTYgZGVsZXRpb25zKC0pCgpk
aWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX2NsZmx1c2guYyBi
L2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9jbGZsdXNoLmMKaW5kZXggNzI0MjQy
ZWMzOTcyLi5mYjBlZjE3NmJhNWIgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dl
bS9pOTE1X2dlbV9jbGZsdXNoLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVf
Z2VtX2NsZmx1c2guYwpAQCAtMTM0LDggKzEzNCw3IEBAIGJvb2wgaTkxNV9nZW1fY2xmbHVzaF9v
YmplY3Qoc3RydWN0IGRybV9pOTE1X2dlbV9vYmplY3QgKm9iaiwKIAkJZG1hX2ZlbmNlX2luaXQo
JmNsZmx1c2gtPmRtYSwKIAkJCSAgICAgICAmaTkxNV9jbGZsdXNoX29wcywKIAkJCSAgICAgICAm
Y2xmbHVzaF9sb2NrLAotCQkJICAgICAgIHRvX2k5MTUob2JqLT5iYXNlLmRldiktPm1tLnVub3Jk
ZXJlZF90aW1lbGluZSwKLQkJCSAgICAgICAwKTsKKwkJCSAgICAgICAwLCAwKTsKIAkJaTkxNV9z
d19mZW5jZV9pbml0KCZjbGZsdXNoLT53YWl0LCBpOTE1X2NsZmx1c2hfbm90aWZ5KTsKIAogCQlj
bGZsdXNoLT5vYmogPSBpOTE1X2dlbV9vYmplY3RfZ2V0KG9iaik7CmRpZmYgLS1naXQgYS9kcml2
ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fY2xpZW50X2JsdC5jIGIvZHJpdmVycy9ncHUv
ZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX2NsaWVudF9ibHQuYwppbmRleCA4MThhYzY5MTViYzUuLmY5
OTkyMDY1Mjc1MSAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2Vt
X2NsaWVudF9ibHQuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fY2xp
ZW50X2JsdC5jCkBAIC0yNjcsNyArMjY3LDYgQEAgaW50IGk5MTVfZ2VtX3NjaGVkdWxlX2ZpbGxf
cGFnZXNfYmx0KHN0cnVjdCBkcm1faTkxNV9nZW1fb2JqZWN0ICpvYmosCiAJCQkJICAgICBzdHJ1
Y3QgaTkxNV9wYWdlX3NpemVzICpwYWdlX3NpemVzLAogCQkJCSAgICAgdTMyIHZhbHVlKQogewot
CXN0cnVjdCBkcm1faTkxNV9wcml2YXRlICppOTE1ID0gdG9faTkxNShvYmotPmJhc2UuZGV2KTsK
IAlzdHJ1Y3QgY2xlYXJfcGFnZXNfd29yayAqd29yazsKIAlzdHJ1Y3QgaTkxNV9zbGVldmUgKnNs
ZWV2ZTsKIAlpbnQgZXJyOwpAQCAtMjkwLDExICsyODksNyBAQCBpbnQgaTkxNV9nZW1fc2NoZWR1
bGVfZmlsbF9wYWdlc19ibHQoc3RydWN0IGRybV9pOTE1X2dlbV9vYmplY3QgKm9iaiwKIAogCWlu
aXRfaXJxX3dvcmsoJndvcmstPmlycV93b3JrLCBjbGVhcl9wYWdlc19zaWduYWxfaXJxX3dvcmtl
cik7CiAKLQlkbWFfZmVuY2VfaW5pdCgmd29yay0+ZG1hLAotCQkgICAgICAgJmNsZWFyX3BhZ2Vz
X3dvcmtfb3BzLAotCQkgICAgICAgJmZlbmNlX2xvY2ssCi0JCSAgICAgICBpOTE1LT5tbS51bm9y
ZGVyZWRfdGltZWxpbmUsCi0JCSAgICAgICAwKTsKKwlkbWFfZmVuY2VfaW5pdCgmd29yay0+ZG1h
LCAmY2xlYXJfcGFnZXNfd29ya19vcHMsICZmZW5jZV9sb2NrLCAwLCAwKTsKIAlpOTE1X3N3X2Zl
bmNlX2luaXQoJndvcmstPndhaXQsIGNsZWFyX3BhZ2VzX3dvcmtfbm90aWZ5KTsKIAogCWk5MTVf
Z2VtX29iamVjdF9sb2NrKG9iaik7CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9n
ZW0vaTkxNV9nZW1fZmVuY2UuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9m
ZW5jZS5jCmluZGV4IDU0OTZmMzNhOTA2NC4uMmY2MTAwZWMyNjA4IDEwMDY0NAotLS0gYS9kcml2
ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fZmVuY2UuYworKysgYi9kcml2ZXJzL2dwdS9k
cm0vaTkxNS9nZW0vaTkxNV9nZW1fZmVuY2UuYwpAQCAtNjksOCArNjksNyBAQCBpOTE1X2dlbV9v
YmplY3RfbG9ja19mZW5jZShzdHJ1Y3QgZHJtX2k5MTVfZ2VtX29iamVjdCAqb2JqKQogCiAJaTkx
NV9zd19mZW5jZV9pbml0KCZzdHViLT5jaGFpbiwgc3R1Yl9ub3RpZnkpOwogCWRtYV9mZW5jZV9p
bml0KCZzdHViLT5kbWEsICZzdHViX2ZlbmNlX29wcywgJnN0dWItPmNoYWluLndhaXQubG9jaywK
LQkJICAgICAgIHRvX2k5MTUob2JqLT5iYXNlLmRldiktPm1tLnVub3JkZXJlZF90aW1lbGluZSwK
LQkJICAgICAgIDApOworCQkgICAgICAgMCwgMCk7CiAKIAlpZiAoaTkxNV9zd19mZW5jZV9hd2Fp
dF9yZXNlcnZhdGlvbigmc3R1Yi0+Y2hhaW4sCiAJCQkJCSAgICBvYmotPmJhc2UucmVzdiwgTlVM
TCwKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZHJ2LmggYi9kcml2ZXJz
L2dwdS9kcm0vaTkxNS9pOTE1X2Rydi5oCmluZGV4IDBmODFjZWQwYTA2Mi4uYjYwMzJhZjkwNGJj
IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2Rydi5oCisrKyBiL2RyaXZl
cnMvZ3B1L2RybS9pOTE1L2k5MTVfZHJ2LmgKQEAgLTc0OCw4ICs3NDgsNiBAQCBzdHJ1Y3QgaTkx
NV9nZW1fbW0gewogCSAqLwogCXN0cnVjdCB3b3JrcXVldWVfc3RydWN0ICp1c2VycHRyX3dxOwog
Ci0JdTY0IHVub3JkZXJlZF90aW1lbGluZTsKLQogCS8qKiBCaXQgNiBzd2l6emxpbmcgcmVxdWly
ZWQgZm9yIFggdGlsaW5nICovCiAJdTMyIGJpdF82X3N3aXp6bGVfeDsKIAkvKiogQml0IDYgc3dp
enpsaW5nIHJlcXVpcmVkIGZvciBZIHRpbGluZyAqLwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUv
ZHJtL2k5MTUvaTkxNV9nZW0uYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZ2VtLmMKaW5k
ZXggY2RmMmRiZjg0YWEzLi4yMjAyMWRhMjgyMzkgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2k5MTVfZ2VtLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9nZW0uYwpA
QCAtMTQxMSw4ICsxNDExLDYgQEAgaW50IGk5MTVfZ2VtX2luaXQoc3RydWN0IGRybV9pOTE1X3By
aXZhdGUgKmRldl9wcml2KQogCQlta3dyaXRlX2RldmljZV9pbmZvKGRldl9wcml2KS0+cGFnZV9z
aXplcyA9CiAJCQlJOTE1X0dUVF9QQUdFX1NJWkVfNEs7CiAKLQlkZXZfcHJpdi0+bW0udW5vcmRl
cmVkX3RpbWVsaW5lID0gZG1hX2ZlbmNlX2NvbnRleHRfYWxsb2MoMSk7Ci0KIAlpbnRlbF90aW1l
bGluZXNfaW5pdChkZXZfcHJpdik7CiAKIAlyZXQgPSBpOTE1X2dlbV9pbml0X3VzZXJwdHIoZGV2
X3ByaXYpOwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9yZXF1ZXN0LmMg
Yi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3JlcXVlc3QuYwppbmRleCA4ZmUzN2FiMzBkOTAu
Ljg2YzhkZDQ0MjE2YiAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9yZXF1
ZXN0LmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9yZXF1ZXN0LmMKQEAgLTkxNSw3
ICs5MTUsNyBAQCBpOTE1X3JlcXVlc3RfYXdhaXRfZG1hX2ZlbmNlKHN0cnVjdCBpOTE1X3JlcXVl
c3QgKnJxLCBzdHJ1Y3QgZG1hX2ZlbmNlICpmZW5jZSkKIAkJCWNvbnRpbnVlOwogCiAJCS8qIFNx
dWFzaCByZXBlYXRlZCB3YWl0cyB0byB0aGUgc2FtZSB0aW1lbGluZXMgKi8KLQkJaWYgKGZlbmNl
LT5jb250ZXh0ICE9IHJxLT5pOTE1LT5tbS51bm9yZGVyZWRfdGltZWxpbmUgJiYKKwkJaWYgKGZl
bmNlLT5jb250ZXh0ICYmCiAJCSAgICBpbnRlbF90aW1lbGluZV9zeW5jX2lzX2xhdGVyKHJxLT50
aW1lbGluZSwgZmVuY2UpKQogCQkJY29udGludWU7CiAKQEAgLTkyOSw3ICs5MjksNyBAQCBpOTE1
X3JlcXVlc3RfYXdhaXRfZG1hX2ZlbmNlKHN0cnVjdCBpOTE1X3JlcXVlc3QgKnJxLCBzdHJ1Y3Qg
ZG1hX2ZlbmNlICpmZW5jZSkKIAkJCXJldHVybiByZXQ7CiAKIAkJLyogUmVjb3JkIHRoZSBsYXRl
c3QgZmVuY2UgdXNlZCBhZ2FpbnN0IGVhY2ggdGltZWxpbmUgKi8KLQkJaWYgKGZlbmNlLT5jb250
ZXh0ICE9IHJxLT5pOTE1LT5tbS51bm9yZGVyZWRfdGltZWxpbmUpCisJCWlmIChmZW5jZS0+Y29u
dGV4dCkKIAkJCWludGVsX3RpbWVsaW5lX3N5bmNfc2V0KHJxLT50aW1lbGluZSwgZmVuY2UpOwog
CX0gd2hpbGUgKC0tbmNoaWxkKTsKIAotLSAKMi4yMy4wLnJjMQoKX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX18KSW50ZWwtZ2Z4IG1haWxpbmcgbGlzdApJbnRl
bC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3Jn
L21haWxtYW4vbGlzdGluZm8vaW50ZWwtZ2Z4

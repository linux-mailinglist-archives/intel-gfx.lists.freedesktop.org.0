Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 67AC0CA001
	for <lists+intel-gfx@lfdr.de>; Thu,  3 Oct 2019 16:02:38 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 94BB96E9E5;
	Thu,  3 Oct 2019 14:02:36 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga11.intel.com (mga11.intel.com [192.55.52.93])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 110256E9E5
 for <intel-gfx@lists.freedesktop.org>; Thu,  3 Oct 2019 14:02:35 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga007.jf.intel.com ([10.7.209.58])
 by fmsmga102.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 03 Oct 2019 07:02:34 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.67,252,1566889200"; d="scan'208";a="182391087"
Received: from stinkbox.fi.intel.com (HELO stinkbox) ([10.237.72.174])
 by orsmga007.jf.intel.com with SMTP; 03 Oct 2019 07:02:32 -0700
Received: by stinkbox (sSMTP sendmail emulation);
 Thu, 03 Oct 2019 17:02:31 +0300
From: Ville Syrjala <ville.syrjala@linux.intel.com>
To: intel-gfx@lists.freedesktop.org
Date: Thu,  3 Oct 2019 17:02:31 +0300
Message-Id: <20191003140231.24408-1-ville.syrjala@linux.intel.com>
X-Mailer: git-send-email 2.21.0
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH] drm/i915: Implement a better i945gm vblank irq
 vs. C-states workaround
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

RnJvbTogVmlsbGUgU3lyasOkbMOkIDx2aWxsZS5zeXJqYWxhQGxpbnV4LmludGVsLmNvbT4KClRo
ZSBjdXJyZW50ICJkaXNhYmxlIEMzKyIgd29ya2Fyb3VuZCBmb3IgdGhlIGRlbGF5ZWQgdmJsYW5r
CmlycXMgb24gaTk0NWdtIG5vIGxvbmdlciB3b3Jrcy4gSSdtIG5vdCBzdXJlIHdoYXQgY2hhbmdl
ZCwgYnV0Cm5vdyBJIG5lZWQgdG8gYWxzbyBkaXNhYmxlIEMyLiBJIGFsc28gZ290IG15IGhhbmRz
IG9uIGEgaTkxNWdtCm1hY2hpbmUgdGhhdCBzdWZmZXJzIGZyb20gdGhlIHNhbWUgaXNzdWUuCgpB
ZnRlciBzb21lIGZ1cmlvdXMgcG9raW5nIG9mIHJlZ2lzdGVycyBJIG1hbmFnZWQgdG8gZmluZCBh
CmJldHRlciB3b3JrYXJvdW5kOiBUaGUgIkRvIG5vdCBUdXJuIG9mZiBDb3JlIFJlbmRlciBDbG9j
ayBpbiBDCnN0YXRlcyIgYml0LiBXaXRoIHRoYXQgSSBubyBsb25nZXIgaGF2ZSB0byBkaXNhYmxl
IGFueSBDLXN0YXRlcywKYW5kIGFzIGEgbmljZSBib251cyB0aGUgcG93ZXIgY29zdCBpcyBvbmx5
IH4xLzQgb2YgdGhlCiJkaXNhYmxlIEMzKyIgbWV0aG9kICh3aGljaCBtaW5kIHlvdSBkb2Vzbid0
IGV2ZW4gd29yayBhbnltb3JlLAphbmQgc28gd291bGQgaGF2ZSBhbiBldmVuIGhpZ2hlciBwb3dl
ciBjb3N0IGlmIHdlIG1hZGUgaXQgd29yawpieSBhbHNvIGRpc2FibGluZyBDMikuCgpTbyBsZXQn
cyB0aHJvdyBvdXQgYWxsIHRoZSBjcHVpZGxlL3FvcyBjcmFwIGFuZCBqdXN0IHRvZ2dsZQp0aGUg
bWFnaWMgYml0IGFzIG5lZWRlZC4gQW5kIHdlIGV4dGVuZCB0aGUgd29ya2Fyb3VuZCB0byBjb3Zl
cgppOTE1Z20gYXMgd2VsbC4KCkNjOiBDaHJpcyBXaWxzb24gPGNocmlzQGNocmlzLXdpbHNvbi5j
by51az4KU2lnbmVkLW9mZi1ieTogVmlsbGUgU3lyasOkbMOkIDx2aWxsZS5zeXJqYWxhQGxpbnV4
LmludGVsLmNvbT4KLS0tCiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3Bs
YXkuYyB8IDEwICstLQogZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kcnYuaCAgICAgICAgICAg
ICAgfCAgOSArLS0KIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfaXJxLmMgICAgICAgICAgICAg
IHwgNzkgKysrLS0tLS0tLS0tLS0tLS0tLS0KIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfaXJx
LmggICAgICAgICAgICAgIHwgIDQgKy0KIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfcmVnLmgg
ICAgICAgICAgICAgIHwgIDEgKwogNSBmaWxlcyBjaGFuZ2VkLCAyMiBpbnNlcnRpb25zKCspLCA4
MSBkZWxldGlvbnMoLSkKCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5
L2ludGVsX2Rpc3BsYXkuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlz
cGxheS5jCmluZGV4IGMzYWM1YTVjNTE4NS4uOGYwNzdlMmQwZGZkIDEwMDY0NAotLS0gYS9kcml2
ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXkuYworKysgYi9kcml2ZXJzL2dw
dS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXkuYwpAQCAtMTUwOTIsMTIgKzE1MDkyLDEy
IEBAIHN0YXRpYyBjb25zdCBzdHJ1Y3QgZHJtX2NydGNfZnVuY3MgaTk2NV9jcnRjX2Z1bmNzID0g
ewogCS5kaXNhYmxlX3ZibGFuayA9IGk5NjVfZGlzYWJsZV92YmxhbmssCiB9OwogCi1zdGF0aWMg
Y29uc3Qgc3RydWN0IGRybV9jcnRjX2Z1bmNzIGk5NDVnbV9jcnRjX2Z1bmNzID0geworc3RhdGlj
IGNvbnN0IHN0cnVjdCBkcm1fY3J0Y19mdW5jcyBpOTE1Z21fY3J0Y19mdW5jcyA9IHsKIAlJTlRF
TF9DUlRDX0ZVTkNTLAogCiAJLmdldF92YmxhbmtfY291bnRlciA9IGk5MTVfZ2V0X3ZibGFua19j
b3VudGVyLAotCS5lbmFibGVfdmJsYW5rID0gaTk0NWdtX2VuYWJsZV92YmxhbmssCi0JLmRpc2Fi
bGVfdmJsYW5rID0gaTk0NWdtX2Rpc2FibGVfdmJsYW5rLAorCS5lbmFibGVfdmJsYW5rID0gaTkx
NWdtX2VuYWJsZV92YmxhbmssCisJLmRpc2FibGVfdmJsYW5rID0gaTkxNWdtX2Rpc2FibGVfdmJs
YW5rLAogfTsKIAogc3RhdGljIGNvbnN0IHN0cnVjdCBkcm1fY3J0Y19mdW5jcyBpOTE1X2NydGNf
ZnVuY3MgPSB7CkBAIC0xNTE2OCw4ICsxNTE2OCw4IEBAIHN0YXRpYyBpbnQgaW50ZWxfY3J0Y19p
bml0KHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiwgZW51bSBwaXBlIHBpcGUpCiAJ
CQlmdW5jcyA9ICZnNHhfY3J0Y19mdW5jczsKIAkJZWxzZSBpZiAoSVNfR0VOKGRldl9wcml2LCA0
KSkKIAkJCWZ1bmNzID0gJmk5NjVfY3J0Y19mdW5jczsKLQkJZWxzZSBpZiAoSVNfSTk0NUdNKGRl
dl9wcml2KSkKLQkJCWZ1bmNzID0gJmk5NDVnbV9jcnRjX2Z1bmNzOworCQllbHNlIGlmIChJU19J
OTQ1R00oZGV2X3ByaXYpIHx8IElTX0k5MTVHTShkZXZfcHJpdikpCisJCQlmdW5jcyA9ICZpOTE1
Z21fY3J0Y19mdW5jczsKIAkJZWxzZSBpZiAoSVNfR0VOKGRldl9wcml2LCAzKSkKIAkJCWZ1bmNz
ID0gJmk5MTVfY3J0Y19mdW5jczsKIAkJZWxzZQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJt
L2k5MTUvaTkxNV9kcnYuaCBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZHJ2LmgKaW5kZXgg
MzM3ZDgzMDY0MTZhLi41YTZmMmRlMmMxNzUgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9p
OTE1L2k5MTVfZHJ2LmgKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kcnYuaApAQCAt
MTczMCwxMyArMTczMCw4IEBAIHN0cnVjdCBkcm1faTkxNV9wcml2YXRlIHsKIAkJc3RydWN0IHdv
cmtfc3RydWN0IGlkbGVfd29yazsKIAl9IGdlbTsKIAotCS8qIEZvciBpOTQ1Z20gdmJsYW5rIGly
cSB2cy4gQzMgd29ya2Fyb3VuZCAqLwotCXN0cnVjdCB7Ci0JCXN0cnVjdCB3b3JrX3N0cnVjdCB3
b3JrOwotCQlzdHJ1Y3QgcG1fcW9zX3JlcXVlc3QgcG1fcW9zOwotCQl1OCBjM19kaXNhYmxlX2xh
dGVuY3k7Ci0JCXU4IGVuYWJsZWQ7Ci0JfSBpOTQ1Z21fdmJsYW5rOworCS8qIEZvciBpOTE1Z20v
aTk0NWdtIHZibGFuayBpcnEgd29ya2Fyb3VuZCAqLworCXU4IHZibGFua19lbmFibGVkOwogCiAJ
LyogcGVyZm9ybSBQSFkgc3RhdGUgc2FuaXR5IGNoZWNrcz8gKi8KIAlib29sIGNodl9waHlfYXNz
ZXJ0WzJdOwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9pcnEuYyBiL2Ry
aXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfaXJxLmMKaW5kZXggYmM4M2YwOTQwNjVhLi5mMjM3MWI2
MDgzYzYgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfaXJxLmMKKysrIGIv
ZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9pcnEuYwpAQCAtMjksNyArMjksNiBAQAogI2RlZmlu
ZSBwcl9mbXQoZm10KSBLQlVJTERfTU9ETkFNRSAiOiAiIGZtdAogCiAjaW5jbHVkZSA8bGludXgv
Y2lyY19idWYuaD4KLSNpbmNsdWRlIDxsaW51eC9jcHVpZGxlLmg+CiAjaW5jbHVkZSA8bGludXgv
c2xhYi5oPgogI2luY2x1ZGUgPGxpbnV4L3N5c3JxLmg+CiAKQEAgLTI5MTAsMTIgKzI5MDksMTgg
QEAgaW50IGk4eHhfZW5hYmxlX3ZibGFuayhzdHJ1Y3QgZHJtX2NydGMgKmNydGMpCiAJcmV0dXJu
IDA7CiB9CiAKLWludCBpOTQ1Z21fZW5hYmxlX3ZibGFuayhzdHJ1Y3QgZHJtX2NydGMgKmNydGMp
CitpbnQgaTkxNWdtX2VuYWJsZV92Ymxhbmsoc3RydWN0IGRybV9jcnRjICpjcnRjKQogewogCXN0
cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiA9IHRvX2k5MTUoY3J0Yy0+ZGV2KTsKIAot
CWlmIChkZXZfcHJpdi0+aTk0NWdtX3ZibGFuay5lbmFibGVkKysgPT0gMCkKLQkJc2NoZWR1bGVf
d29yaygmZGV2X3ByaXYtPmk5NDVnbV92Ymxhbmsud29yayk7CisJLyoKKwkgKiBWYmxhbmsgaW50
ZXJydXB0cyBmYWlsIHRvIHdha2UgdGhlIGRldmljZSB1cCBmcm9tIEMyKy4KKwkgKiBEaXNhYmxp
bmcgcmVuZGVyIGNsb2NrIGdhdGluZyBkdXJpbmcgQy1zdGF0ZXMgYXZvaWRzCisJICogdGhlIHBy
b2JsZW0uIFRoZXJlIGlzIGEgc21hbGwgcG93ZXIgY29zdCBzbyB3ZSBkbyB0aGlzCisJICogb25s
eSB3aGVuIHZibGFuayBpbnRlcnJ1cHRzIGFyZSBhY3R1YWxseSBlbmFibGVkLgorCSAqLworCWlm
IChkZXZfcHJpdi0+dmJsYW5rX2VuYWJsZWQrKyA9PSAwKQorCQlJOTE1X1dSSVRFKFNDUEQwLCBf
TUFTS0VEX0JJVF9FTkFCTEUoQ1NUQVRFX1JFTkRFUl9DTE9DS19HQVRFX0RJU0FCTEUpKTsKIAog
CXJldHVybiBpOHh4X2VuYWJsZV92YmxhbmsoY3J0Yyk7CiB9CkBAIC0yOTg4LDE0ICsyOTkzLDE0
IEBAIHZvaWQgaTh4eF9kaXNhYmxlX3ZibGFuayhzdHJ1Y3QgZHJtX2NydGMgKmNydGMpCiAJc3Bp
bl91bmxvY2tfaXJxcmVzdG9yZSgmZGV2X3ByaXYtPmlycV9sb2NrLCBpcnFmbGFncyk7CiB9CiAK
LXZvaWQgaTk0NWdtX2Rpc2FibGVfdmJsYW5rKHN0cnVjdCBkcm1fY3J0YyAqY3J0YykKK3ZvaWQg
aTkxNWdtX2Rpc2FibGVfdmJsYW5rKHN0cnVjdCBkcm1fY3J0YyAqY3J0YykKIHsKIAlzdHJ1Y3Qg
ZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYgPSB0b19pOTE1KGNydGMtPmRldik7CiAKIAlpOHh4
X2Rpc2FibGVfdmJsYW5rKGNydGMpOwogCi0JaWYgKC0tZGV2X3ByaXYtPmk5NDVnbV92Ymxhbmsu
ZW5hYmxlZCA9PSAwKQotCQlzY2hlZHVsZV93b3JrKCZkZXZfcHJpdi0+aTk0NWdtX3ZibGFuay53
b3JrKTsKKwlpZiAoLS1kZXZfcHJpdi0+dmJsYW5rX2VuYWJsZWQgPT0gMCkKKwkJSTkxNV9XUklU
RShTQ1BEMCwgX01BU0tFRF9CSVRfRElTQUJMRShDU1RBVEVfUkVOREVSX0NMT0NLX0dBVEVfRElT
QUJMRSkpOwogfQogCiB2b2lkIGk5NjVfZGlzYWJsZV92Ymxhbmsoc3RydWN0IGRybV9jcnRjICpj
cnRjKQpAQCAtMzAzNCw2MCArMzAzOSw2IEBAIHZvaWQgYmR3X2Rpc2FibGVfdmJsYW5rKHN0cnVj
dCBkcm1fY3J0YyAqY3J0YykKIAlzcGluX3VubG9ja19pcnFyZXN0b3JlKCZkZXZfcHJpdi0+aXJx
X2xvY2ssIGlycWZsYWdzKTsKIH0KIAotc3RhdGljIHZvaWQgaTk0NWdtX3ZibGFua193b3JrX2Z1
bmMoc3RydWN0IHdvcmtfc3RydWN0ICp3b3JrKQotewotCXN0cnVjdCBkcm1faTkxNV9wcml2YXRl
ICpkZXZfcHJpdiA9Ci0JCWNvbnRhaW5lcl9vZih3b3JrLCBzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0
ZSwgaTk0NWdtX3ZibGFuay53b3JrKTsKLQotCS8qCi0JICogVmJsYW5rIGludGVycnVwdHMgZmFp
bCB0byB3YWtlIHVwIHRoZSBkZXZpY2UgZnJvbSBDMywKLQkgKiBoZW5jZSB3ZSB3YW50IHRvIHBy
ZXZlbnQgQzMgdXNhZ2Ugd2hpbGUgdmJsYW5rIGludGVycnVwdHMKLQkgKiBhcmUgZW5hYmxlZC4K
LQkgKi8KLQlwbV9xb3NfdXBkYXRlX3JlcXVlc3QoJmRldl9wcml2LT5pOTQ1Z21fdmJsYW5rLnBt
X3FvcywKLQkJCSAgICAgIFJFQURfT05DRShkZXZfcHJpdi0+aTk0NWdtX3ZibGFuay5lbmFibGVk
KSA/Ci0JCQkgICAgICBkZXZfcHJpdi0+aTk0NWdtX3ZibGFuay5jM19kaXNhYmxlX2xhdGVuY3kg
OgotCQkJICAgICAgUE1fUU9TX0RFRkFVTFRfVkFMVUUpOwotfQotCi1zdGF0aWMgaW50IGNzdGF0
ZV9kaXNhYmxlX2xhdGVuY3koY29uc3QgY2hhciAqbmFtZSkKLXsKLQljb25zdCBzdHJ1Y3QgY3B1
aWRsZV9kcml2ZXIgKmRydjsKLQlpbnQgaTsKLQotCWRydiA9IGNwdWlkbGVfZ2V0X2RyaXZlcigp
OwotCWlmICghZHJ2KQotCQlyZXR1cm4gMDsKLQotCWZvciAoaSA9IDA7IGkgPCBkcnYtPnN0YXRl
X2NvdW50OyBpKyspIHsKLQkJY29uc3Qgc3RydWN0IGNwdWlkbGVfc3RhdGUgKnN0YXRlID0gJmRy
di0+c3RhdGVzW2ldOwotCi0JCWlmICghc3RyY21wKHN0YXRlLT5uYW1lLCBuYW1lKSkKLQkJCXJl
dHVybiBzdGF0ZS0+ZXhpdF9sYXRlbmN5ID8KLQkJCQlzdGF0ZS0+ZXhpdF9sYXRlbmN5IC0gMSA6
IDA7Ci0JfQotCi0JcmV0dXJuIDA7Ci19Ci0KLXN0YXRpYyB2b2lkIGk5NDVnbV92Ymxhbmtfd29y
a19pbml0KHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdikKLXsKLQlJTklUX1dPUkso
JmRldl9wcml2LT5pOTQ1Z21fdmJsYW5rLndvcmssCi0JCSAgaTk0NWdtX3ZibGFua193b3JrX2Z1
bmMpOwotCi0JZGV2X3ByaXYtPmk5NDVnbV92YmxhbmsuYzNfZGlzYWJsZV9sYXRlbmN5ID0KLQkJ
Y3N0YXRlX2Rpc2FibGVfbGF0ZW5jeSgiQzMiKTsKLQlwbV9xb3NfYWRkX3JlcXVlc3QoJmRldl9w
cml2LT5pOTQ1Z21fdmJsYW5rLnBtX3FvcywKLQkJCSAgIFBNX1FPU19DUFVfRE1BX0xBVEVOQ1ks
Ci0JCQkgICBQTV9RT1NfREVGQVVMVF9WQUxVRSk7Ci19Ci0KLXN0YXRpYyB2b2lkIGk5NDVnbV92
Ymxhbmtfd29ya19maW5pKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdikKLXsKLQlj
YW5jZWxfd29ya19zeW5jKCZkZXZfcHJpdi0+aTk0NWdtX3ZibGFuay53b3JrKTsKLQlwbV9xb3Nf
cmVtb3ZlX3JlcXVlc3QoJmRldl9wcml2LT5pOTQ1Z21fdmJsYW5rLnBtX3Fvcyk7Ci19Ci0KIHN0
YXRpYyB2b2lkIGlieF9pcnFfcmVzZXQoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2
KQogewogCXN0cnVjdCBpbnRlbF91bmNvcmUgKnVuY29yZSA9ICZkZXZfcHJpdi0+dW5jb3JlOwpA
QCAtNDI5OCw5ICs0MjQ5LDYgQEAgdm9pZCBpbnRlbF9pcnFfaW5pdChzdHJ1Y3QgZHJtX2k5MTVf
cHJpdmF0ZSAqZGV2X3ByaXYpCiAJc3RydWN0IGludGVsX3JwcyAqcnBzID0gJmRldl9wcml2LT5n
dF9wbS5ycHM7CiAJaW50IGk7CiAKLQlpZiAoSVNfSTk0NUdNKGRldl9wcml2KSkKLQkJaTk0NWdt
X3ZibGFua193b3JrX2luaXQoZGV2X3ByaXYpOwotCiAJaW50ZWxfaHBkX2luaXRfd29yayhkZXZf
cHJpdik7CiAKIAlJTklUX1dPUksoJnJwcy0+d29yaywgZ2VuNl9wbV9ycHNfd29yayk7CkBAIC00
Mzg4LDkgKzQzMzYsNiBAQCB2b2lkIGludGVsX2lycV9maW5pKHN0cnVjdCBkcm1faTkxNV9wcml2
YXRlICppOTE1KQogewogCWludCBpOwogCi0JaWYgKElTX0k5NDVHTShpOTE1KSkKLQkJaTk0NWdt
X3ZibGFua193b3JrX2ZpbmkoaTkxNSk7Ci0KIAlmb3IgKGkgPSAwOyBpIDwgTUFYX0wzX1NMSUNF
UzsgKytpKQogCQlrZnJlZShpOTE1LT5sM19wYXJpdHkucmVtYXBfaW5mb1tpXSk7CiB9CmRpZmYg
LS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2lycS5oIGIvZHJpdmVycy9ncHUvZHJt
L2k5MTUvaTkxNV9pcnEuaAppbmRleCA4ZTdlNjA3MTc3N2UuLjE5YTNiYzAxOTUzNSAxMDA2NDQK
LS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9pcnEuaAorKysgYi9kcml2ZXJzL2dwdS9k
cm0vaTkxNS9pOTE1X2lycS5oCkBAIC0xMjIsMTIgKzEyMiwxMiBAQCB1MzIgaTkxNV9nZXRfdmJs
YW5rX2NvdW50ZXIoc3RydWN0IGRybV9jcnRjICpjcnRjKTsKIHUzMiBnNHhfZ2V0X3ZibGFua19j
b3VudGVyKHN0cnVjdCBkcm1fY3J0YyAqY3J0Yyk7CiAKIGludCBpOHh4X2VuYWJsZV92Ymxhbmso
c3RydWN0IGRybV9jcnRjICpjcnRjKTsKLWludCBpOTQ1Z21fZW5hYmxlX3ZibGFuayhzdHJ1Y3Qg
ZHJtX2NydGMgKmNydGMpOworaW50IGk5MTVnbV9lbmFibGVfdmJsYW5rKHN0cnVjdCBkcm1fY3J0
YyAqY3J0Yyk7CiBpbnQgaTk2NV9lbmFibGVfdmJsYW5rKHN0cnVjdCBkcm1fY3J0YyAqY3J0Yyk7
CiBpbnQgaWxrX2VuYWJsZV92Ymxhbmsoc3RydWN0IGRybV9jcnRjICpjcnRjKTsKIGludCBiZHdf
ZW5hYmxlX3ZibGFuayhzdHJ1Y3QgZHJtX2NydGMgKmNydGMpOwogdm9pZCBpOHh4X2Rpc2FibGVf
dmJsYW5rKHN0cnVjdCBkcm1fY3J0YyAqY3J0Yyk7Ci12b2lkIGk5NDVnbV9kaXNhYmxlX3ZibGFu
ayhzdHJ1Y3QgZHJtX2NydGMgKmNydGMpOwordm9pZCBpOTE1Z21fZGlzYWJsZV92Ymxhbmsoc3Ry
dWN0IGRybV9jcnRjICpjcnRjKTsKIHZvaWQgaTk2NV9kaXNhYmxlX3ZibGFuayhzdHJ1Y3QgZHJt
X2NydGMgKmNydGMpOwogdm9pZCBpbGtfZGlzYWJsZV92Ymxhbmsoc3RydWN0IGRybV9jcnRjICpj
cnRjKTsKIHZvaWQgYmR3X2Rpc2FibGVfdmJsYW5rKHN0cnVjdCBkcm1fY3J0YyAqY3J0Yyk7CmRp
ZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3JlZy5oIGIvZHJpdmVycy9ncHUv
ZHJtL2k5MTUvaTkxNV9yZWcuaAppbmRleCBlZWZkNzg5YjlhMjguLjEzZGQxZGYwYzg1MyAxMDA2
NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9yZWcuaAorKysgYi9kcml2ZXJzL2dw
dS9kcm0vaTkxNS9pOTE1X3JlZy5oCkBAIC0yNzA5LDYgKzI3MDksNyBAQCBzdGF0aWMgaW5saW5l
IGJvb2wgaTkxNV9tbWlvX3JlZ192YWxpZChpOTE1X3JlZ190IHJlZykKICNkZWZpbmUgVkxWX0dV
X0NUTDAJX01NSU8oVkxWX0RJU1BMQVlfQkFTRSArIDB4MjAzMCkKICNkZWZpbmUgVkxWX0dVX0NU
TDEJX01NSU8oVkxWX0RJU1BMQVlfQkFTRSArIDB4MjAzNCkKICNkZWZpbmUgU0NQRDAJCV9NTUlP
KDB4MjA5YykgLyogOTE1KyBvbmx5ICovCisjZGVmaW5lICBDU1RBVEVfUkVOREVSX0NMT0NLX0dB
VEVfRElTQUJMRQkoMSA8PCA1KQogI2RlZmluZSBHRU4yX0lFUglfTU1JTygweDIwYTApCiAjZGVm
aW5lIEdFTjJfSUlSCV9NTUlPKDB4MjBhNCkKICNkZWZpbmUgR0VOMl9JTVIJX01NSU8oMHgyMGE4
KQotLSAKMi4yMS4wCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fXwpJbnRlbC1nZnggbWFpbGluZyBsaXN0CkludGVsLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5v
cmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9pbnRlbC1n
Zng=

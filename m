Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 9A5D97714B
	for <lists+intel-gfx@lfdr.de>; Fri, 26 Jul 2019 20:32:15 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 383056EE1F;
	Fri, 26 Jul 2019 18:32:13 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga17.intel.com (mga17.intel.com [192.55.52.151])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 407546EE1E
 for <intel-gfx@lists.freedesktop.org>; Fri, 26 Jul 2019 18:32:12 +0000 (UTC)
X-Amp-Result: UNKNOWN
X-Amp-Original-Verdict: FILE UNKNOWN
X-Amp-File-Uploaded: False
Received: from fmsmga005.fm.intel.com ([10.253.24.32])
 by fmsmga107.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 26 Jul 2019 11:32:11 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.64,311,1559545200"; d="scan'208";a="369630435"
Received: from mdroper-desk.fm.intel.com (HELO
 mdroper-desk.amr.corp.intel.com) ([10.105.128.126])
 by fmsmga005.fm.intel.com with ESMTP; 26 Jul 2019 11:32:11 -0700
Date: Fri, 26 Jul 2019 11:32:11 -0700
From: Matt Roper <matthew.d.roper@intel.com>
To: Lucas De Marchi <lucas.demarchi@intel.com>
Message-ID: <20190726183211.GC1672@mdroper-desk.amr.corp.intel.com>
References: <20190725234813.27179-1-lucas.demarchi@intel.com>
 <20190725234813.27179-2-lucas.demarchi@intel.com>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <20190725234813.27179-2-lucas.demarchi@intel.com>
User-Agent: Mutt/1.12.0 (2019-05-25)
Subject: Re: [Intel-gfx] [PATCH 1/3] drm/i915/tgl: Add hpd interrupt handling
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: intel-gfx@lists.freedesktop.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

T24gVGh1LCBKdWwgMjUsIDIwMTkgYXQgMDQ6NDg6MTFQTSAtMDcwMCwgTHVjYXMgRGUgTWFyY2hp
IHdyb3RlOgo+IEFkZCBob3RkcGx1ZyBkZXRlY3Rpb24gZm9yIGFsbCBwb3J0cyBvbiBUR1AuIGlj
cF9ocGRfZGV0ZWN0aW9uX3NldHVwKCkKPiBpcyByZWZhY3RvcmVkIHRvIGJlIHNoYXJlZCB3aXRo
IFRHUC4KPiAKPiBXaGlsZSB3ZSBpbmNyZWFzZSB0aGUgbnVtYmVyIG9mIHBpbnMsIGFkZCBhIEJV
SUxEX0JVR19PTigpIHRvIGF2b2lkCj4gZ29pbmcgb3ZlciB0aGUgbnVtYmVyIG9mIGJpdHMgYWxs
b3dlZC4KPiAKPiB2MjogdXNlIEJJVFNfUEVSX1RZUEUgYW5kIGNvcnJlY3QgdHlwZSBmb3IgQlVJ
TERfQlVHX09OKCkgY2hlY2sKPiAgICAgKHJlcXVlc3RlZCBieSBWaWxsZSkKPiAKPiBDYzogVmls
bGUgU3lyasOkbMOkIDx2aWxsZS5zeXJqYWxhQGxpbnV4LmludGVsLmNvbT4KPiBDYzogSm9zZSBT
b3V6YSA8am9zZS5zb3V6YUBpbnRlbC5jb20+Cj4gQ2M6IFJvZHJpZ28gVml2aSA8cm9kcmlnby52
aXZpQGludGVsLmNvbT4KPiBTaWduZWQtb2ZmLWJ5OiBMdWNhcyBEZSBNYXJjaGkgPGx1Y2FzLmRl
bWFyY2hpQGludGVsLmNvbT4KPiAtLS0KPiAgZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9p
bnRlbF9ob3RwbHVnLmMgfCAgIDYgKwo+ICBkcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2Rydi5o
ICAgICAgICAgICAgICB8ICAgNCArCj4gIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfaXJxLmMg
ICAgICAgICAgICAgIHwgMTI4ICsrKysrKysrKysrKysrKysrLS0KPiAgZHJpdmVycy9ncHUvZHJt
L2k5MTUvaTkxNV9yZWcuaCAgICAgICAgICAgICAgfCAgMjggKysrLQo+ICA0IGZpbGVzIGNoYW5n
ZWQsIDE1NCBpbnNlcnRpb25zKCspLCAxMiBkZWxldGlvbnMoLSkKPiAKPiBkaWZmIC0tZ2l0IGEv
ZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9ob3RwbHVnLmMgYi9kcml2ZXJzL2dw
dS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2hvdHBsdWcuYwo+IGluZGV4IDM0MjU4N2Q5MWQ1Ny4u
Yzg0NGFlNDQ4MGFmIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkv
aW50ZWxfaG90cGx1Zy5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRl
bF9ob3RwbHVnLmMKPiBAQCAtMTA0LDYgKzEwNCwxMiBAQCBlbnVtIGhwZF9waW4gaW50ZWxfaHBk
X3Bpbl9kZWZhdWx0KHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiwKPiAgCQlpZiAo
SVNfQ05MX1dJVEhfUE9SVF9GKGRldl9wcml2KSkKPiAgCQkJcmV0dXJuIEhQRF9QT1JUX0U7Cj4g
IAkJcmV0dXJuIEhQRF9QT1JUX0Y7Cj4gKwljYXNlIFBPUlRfRzoKPiArCQlyZXR1cm4gSFBEX1BP
UlRfRzsKPiArCWNhc2UgUE9SVF9IOgo+ICsJCXJldHVybiBIUERfUE9SVF9IOwo+ICsJY2FzZSBQ
T1JUX0k6Cj4gKwkJcmV0dXJuIEhQRF9QT1JUX0k7Cj4gIAlkZWZhdWx0Ogo+ICAJCU1JU1NJTkdf
Q0FTRShwb3J0KTsKPiAgCQlyZXR1cm4gSFBEX05PTkU7Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMv
Z3B1L2RybS9pOTE1L2k5MTVfZHJ2LmggYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2Rydi5o
Cj4gaW5kZXggNTlkNGExMTQ2MDM5Li5hMmU2YjQ5NWYwMzMgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVy
cy9ncHUvZHJtL2k5MTUvaTkxNV9kcnYuaAo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5
MTVfZHJ2LmgKPiBAQCAtMTUzLDYgKzE1MywxMCBAQCBlbnVtIGhwZF9waW4gewo+ICAJSFBEX1BP
UlRfRCwKPiAgCUhQRF9QT1JUX0UsCj4gIAlIUERfUE9SVF9GLAo+ICsJSFBEX1BPUlRfRywKPiAr
CUhQRF9QT1JUX0gsCj4gKwlIUERfUE9SVF9JLAo+ICsKPiAgCUhQRF9OVU1fUElOUwo+ICB9Owo+
ICAKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9pcnEuYyBiL2RyaXZl
cnMvZ3B1L2RybS9pOTE1L2k5MTVfaXJxLmMKPiBpbmRleCBhMTdkNGZkMTc5NjIuLjM0NTI3Y2Rk
OTM4OCAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2lycS5jCj4gKysr
IGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9pcnEuYwo+IEBAIC0xNTAsNiArMTUwLDE4IEBA
IHN0YXRpYyBjb25zdCB1MzIgaHBkX21jY1tIUERfTlVNX1BJTlNdID0gewo+ICAJW0hQRF9QT1JU
X0NdID0gU0RFX1RDMV9IT1RQTFVHX0lDUAo+ICB9Owo+ICAKPiArc3RhdGljIGNvbnN0IHUzMiBo
cGRfdGdwW0hQRF9OVU1fUElOU10gPSB7Cj4gKwlbSFBEX1BPUlRfQV0gPSBTREVfRERJQV9IT1RQ
TFVHX0lDUCwKPiArCVtIUERfUE9SVF9CXSA9IFNERV9ERElCX0hPVFBMVUdfSUNQLAo+ICsJW0hQ
RF9QT1JUX0NdID0gU0RFX0RESUNfSE9UUExVR19UR1AsCj4gKwlbSFBEX1BPUlRfRF0gPSBTREVf
VEMxX0hPVFBMVUdfSUNQLAo+ICsJW0hQRF9QT1JUX0VdID0gU0RFX1RDMl9IT1RQTFVHX0lDUCwK
PiArCVtIUERfUE9SVF9GXSA9IFNERV9UQzNfSE9UUExVR19JQ1AsCj4gKwlbSFBEX1BPUlRfR10g
PSBTREVfVEM0X0hPVFBMVUdfSUNQLAo+ICsJW0hQRF9QT1JUX0hdID0gU0RFX1RDNV9IT1RQTFVH
X1RHUCwKPiArCVtIUERfUE9SVF9JXSA9IFNERV9UQzZfSE9UUExVR19UR1AsCj4gK307Cj4gKwo+
ICBzdGF0aWMgdm9pZCBnZW4zX2lycV9yZXNldChzdHJ1Y3QgaW50ZWxfdW5jb3JlICp1bmNvcmUs
IGk5MTVfcmVnX3QgaW1yLAo+ICAJCQkgICBpOTE1X3JlZ190IGlpciwgaTkxNV9yZWdfdCBpZXIp
Cj4gIHsKPiBAQCAtMTcyNCw2ICsxNzM2LDQwIEBAIHN0YXRpYyBib29sIGljcF90Y19wb3J0X2hv
dHBsdWdfbG9uZ19kZXRlY3QoZW51bSBocGRfcGluIHBpbiwgdTMyIHZhbCkKPiAgCX0KPiAgfQo+
ICAKPiArc3RhdGljIGJvb2wgdGdwX2RkaV9wb3J0X2hvdHBsdWdfbG9uZ19kZXRlY3QoZW51bSBo
cGRfcGluIHBpbiwgdTMyIHZhbCkKPiArewo+ICsJc3dpdGNoIChwaW4pIHsKPiArCWNhc2UgSFBE
X1BPUlRfQToKPiArCQlyZXR1cm4gdmFsICYgSUNQX0RESUFfSFBEX0xPTkdfREVURUNUOwo+ICsJ
Y2FzZSBIUERfUE9SVF9COgo+ICsJCXJldHVybiB2YWwgJiBJQ1BfRERJQl9IUERfTE9OR19ERVRF
Q1Q7Cj4gKwljYXNlIEhQRF9QT1JUX0M6Cj4gKwkJcmV0dXJuIHZhbCAmIFRHUF9ERElDX0hQRF9M
T05HX0RFVEVDVDsKPiArCWRlZmF1bHQ6Cj4gKwkJcmV0dXJuIGZhbHNlOwo+ICsJfQo+ICt9Cj4g
Kwo+ICtzdGF0aWMgYm9vbCB0Z3BfdGNfcG9ydF9ob3RwbHVnX2xvbmdfZGV0ZWN0KGVudW0gaHBk
X3BpbiBwaW4sIHUzMiB2YWwpCj4gK3sKPiArCXN3aXRjaCAocGluKSB7Cj4gKwljYXNlIEhQRF9Q
T1JUX0Q6Cj4gKwkJcmV0dXJuIHZhbCAmIElDUF9UQ19IUERfTE9OR19ERVRFQ1QoUE9SVF9UQzEp
Owo+ICsJY2FzZSBIUERfUE9SVF9FOgo+ICsJCXJldHVybiB2YWwgJiBJQ1BfVENfSFBEX0xPTkdf
REVURUNUKFBPUlRfVEMyKTsKPiArCWNhc2UgSFBEX1BPUlRfRjoKPiArCQlyZXR1cm4gdmFsICYg
SUNQX1RDX0hQRF9MT05HX0RFVEVDVChQT1JUX1RDMyk7Cj4gKwljYXNlIEhQRF9QT1JUX0c6Cj4g
KwkJcmV0dXJuIHZhbCAmIElDUF9UQ19IUERfTE9OR19ERVRFQ1QoUE9SVF9UQzQpOwo+ICsJY2Fz
ZSBIUERfUE9SVF9IOgo+ICsJCXJldHVybiB2YWwgJiBJQ1BfVENfSFBEX0xPTkdfREVURUNUKFBP
UlRfVEM1KTsKPiArCWNhc2UgSFBEX1BPUlRfSToKPiArCQlyZXR1cm4gdmFsICYgSUNQX1RDX0hQ
RF9MT05HX0RFVEVDVChQT1JUX1RDNik7Cj4gKwlkZWZhdWx0Ogo+ICsJCXJldHVybiBmYWxzZTsK
PiArCX0KPiArfQo+ICsKPiAgc3RhdGljIGJvb2wgc3B0X3BvcnRfaG90cGx1ZzJfbG9uZ19kZXRl
Y3QoZW51bSBocGRfcGluIHBpbiwgdTMyIHZhbCkKPiAgewo+ICAJc3dpdGNoIChwaW4pIHsKPiBA
QCAtMTgwMyw2ICsxODQ5LDggQEAgc3RhdGljIHZvaWQgaW50ZWxfZ2V0X2hwZF9waW5zKHN0cnVj
dCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiwKPiAgewo+ICAJZW51bSBocGRfcGluIHBpbjsK
PiAgCj4gKwlCVUlMRF9CVUdfT04oQklUU19QRVJfVFlQRSgqcGluX21hc2spIDwgSFBEX05VTV9Q
SU5TKTsKPiArCj4gIAlmb3JfZWFjaF9ocGRfcGluKHBpbikgewo+ICAJCWlmICgoaHBkW3Bpbl0g
JiBob3RwbHVnX3RyaWdnZXIpID09IDApCj4gIAkJCWNvbnRpbnVlOwo+IEBAIC0yNTYxLDYgKzI2
MDksNDMgQEAgc3RhdGljIHZvaWQgaWNwX2lycV9oYW5kbGVyKHN0cnVjdCBkcm1faTkxNV9wcml2
YXRlICpkZXZfcHJpdiwgdTMyIHBjaF9paXIsCj4gIAkJZ21idXNfaXJxX2hhbmRsZXIoZGV2X3By
aXYpOwo+ICB9Cj4gIAo+ICtzdGF0aWMgdm9pZCB0Z3BfaXJxX2hhbmRsZXIoc3RydWN0IGRybV9p
OTE1X3ByaXZhdGUgKmRldl9wcml2LCB1MzIgcGNoX2lpcikKClRoaXMgZnVuY3Rpb24gd2luZHMg
dXAgYmVpbmcgcHJldHR5IHNpbWlsYXIgdG8gaWNwX2lycV9oYW5kbGVyLiAgV291bGQKaXQgYmUg
c2ltcGxlciB0byBqdXN0IHJldXNlIHRoZSBpY3AgaGFuZGxlciBhbmQgc2V0IHRoZSBhcHByb3By
aWF0ZQptYXNrcyBhbmQgbG9uZyBkZXRlY3QgaGFuZGxlciBiYXNlZCBvbiBwbGF0Zm9ybSBhdCB0
aGUgdG9wPwoKRldJVywgSSBuZWVkIHRvIGRvIGEgc2ltaWxhciBjaGFuZ2UgdG8gdGhlIElDUCBo
YW5kbGVyIGZvciBFSEwgYW55d2F5Owpzb21ldGhpbmcgbGlrZToKCiAgICAgICAgaWYgKEhBU19Q
Q0hfTUNDKGRldl9wcml2KSkgewogICAgICAgICAgICAgICAgZGRpX2hvdHBsdWdfdHJpZ2dlciA9
IHBjaF9paXIgJiBTREVfRERJX01BU0tfVEdQOwogICAgICAgICAgICAgICAgdGNfaG90cGx1Z190
cmlnZ2VyID0gMDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgZGRpX2hvdHBsdWdf
dHJpZ2dlciA9IHBjaF9paXIgJiBTREVfRERJX01BU0tfSUNQOwogICAgICAgICAgICAgICAgdGNf
aG90cGx1Z190cmlnZ2VyID0gcGNoX2lpciAmIFNERV9UQ19NQVNLX0lDUDsKICAgICAgICB9Cgp0
byBhY2NvdW50IGZvciB0aGUgZXh0cmEgcG9ydCBDIG9uIEVITCB0aGF0IHdlJ3JlIGN1cnJlbnRs
eSBtaXNzaW5nLgpBZGRpbmcgVEdQIGFzIG9uZSBtb3JlIGNhc2UgKGFuZCBhc3NpZ25pbmcgdGhl
IGxvbmcgZGV0ZWN0IGhhbmRsZXIgdG9vKQptaWdodCBiZSBlYXNpZXIuCgoKUmVnYXJkbGVzcyBv
ZiB3aGF0IHlvdSBkZWNpZGUsIHRoZSByZXN0IG9mIHRoaXMgcGF0Y2ggc2VlbXMgdG8gbWF0Y2gK
d2hhdCBJIHNlZSBpbiB0aGUgVEdMIGJzcGVjLCBzbwoKUmV2aWV3ZWQtYnk6IE1hdHQgUm9wZXIg
PG1hdHRoZXcuZC5yb3BlckBpbnRlbC5jb20+CgoKPiArewo+ICsJdTMyIGRkaV9ob3RwbHVnX3Ry
aWdnZXIgPSBwY2hfaWlyICYgU0RFX0RESV9NQVNLX1RHUDsKPiArCXUzMiB0Y19ob3RwbHVnX3Ry
aWdnZXIgPSBwY2hfaWlyICYgU0RFX1RDX01BU0tfVEdQOwo+ICsJdTMyIHBpbl9tYXNrID0gMCwg
bG9uZ19tYXNrID0gMDsKPiArCj4gKwlpZiAoZGRpX2hvdHBsdWdfdHJpZ2dlcikgewo+ICsJCXUz
MiBkaWdfaG90cGx1Z19yZWc7Cj4gKwo+ICsJCWRpZ19ob3RwbHVnX3JlZyA9IEk5MTVfUkVBRChT
SE9UUExVR19DVExfRERJKTsKPiArCQlJOTE1X1dSSVRFKFNIT1RQTFVHX0NUTF9EREksIGRpZ19o
b3RwbHVnX3JlZyk7Cj4gKwo+ICsJCWludGVsX2dldF9ocGRfcGlucyhkZXZfcHJpdiwgJnBpbl9t
YXNrLCAmbG9uZ19tYXNrLAo+ICsJCQkJICAgZGRpX2hvdHBsdWdfdHJpZ2dlciwKPiArCQkJCSAg
IGRpZ19ob3RwbHVnX3JlZywgaHBkX3RncCwKPiArCQkJCSAgIHRncF9kZGlfcG9ydF9ob3RwbHVn
X2xvbmdfZGV0ZWN0KTsKPiArCX0KPiArCj4gKwlpZiAodGNfaG90cGx1Z190cmlnZ2VyKSB7Cj4g
KwkJdTMyIGRpZ19ob3RwbHVnX3JlZzsKPiArCj4gKwkJZGlnX2hvdHBsdWdfcmVnID0gSTkxNV9S
RUFEKFNIT1RQTFVHX0NUTF9UQyk7Cj4gKwkJSTkxNV9XUklURShTSE9UUExVR19DVExfVEMsIGRp
Z19ob3RwbHVnX3JlZyk7Cj4gKwo+ICsJCWludGVsX2dldF9ocGRfcGlucyhkZXZfcHJpdiwgJnBp
bl9tYXNrLCAmbG9uZ19tYXNrLAo+ICsJCQkJICAgdGNfaG90cGx1Z190cmlnZ2VyLAo+ICsJCQkJ
ICAgZGlnX2hvdHBsdWdfcmVnLCBocGRfdGdwLAo+ICsJCQkJICAgdGdwX3RjX3BvcnRfaG90cGx1
Z19sb25nX2RldGVjdCk7Cj4gKwl9Cj4gKwo+ICsJaWYgKHBpbl9tYXNrKQo+ICsJCWludGVsX2hw
ZF9pcnFfaGFuZGxlcihkZXZfcHJpdiwgcGluX21hc2ssIGxvbmdfbWFzayk7Cj4gKwo+ICsJaWYg
KHBjaF9paXIgJiBTREVfR01CVVNfSUNQKQo+ICsJCWdtYnVzX2lycV9oYW5kbGVyKGRldl9wcml2
KTsKPiArfQo+ICsKPiAgc3RhdGljIHZvaWQgc3B0X2lycV9oYW5kbGVyKHN0cnVjdCBkcm1faTkx
NV9wcml2YXRlICpkZXZfcHJpdiwgdTMyIHBjaF9paXIpCj4gIHsKPiAgCXUzMiBob3RwbHVnX3Ry
aWdnZXIgPSBwY2hfaWlyICYgU0RFX0hPVFBMVUdfTUFTS19TUFQgJgo+IEBAIC0yOTgzLDcgKzMw
NjgsOSBAQCBnZW44X2RlX2lycV9oYW5kbGVyKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZf
cHJpdiwgdTMyIG1hc3Rlcl9jdGwpCj4gIAkJCUk5MTVfV1JJVEUoU0RFSUlSLCBpaXIpOwo+ICAJ
CQlyZXQgPSBJUlFfSEFORExFRDsKPiAgCj4gLQkJCWlmIChJTlRFTF9QQ0hfVFlQRShkZXZfcHJp
dikgPj0gUENIX01DQykKPiArCQkJaWYgKElOVEVMX1BDSF9UWVBFKGRldl9wcml2KSA+PSBQQ0hf
VEdQKQo+ICsJCQkJdGdwX2lycV9oYW5kbGVyKGRldl9wcml2LCBpaXIpOwo+ICsJCQllbHNlIGlm
IChJTlRFTF9QQ0hfVFlQRShkZXZfcHJpdikgPj0gUENIX01DQykKPiAgCQkJCWljcF9pcnFfaGFu
ZGxlcihkZXZfcHJpdiwgaWlyLCBocGRfbWNjKTsKPiAgCQkJZWxzZSBpZiAoSU5URUxfUENIX1RZ
UEUoZGV2X3ByaXYpID49IFBDSF9JQ1ApCj4gIAkJCQlpY3BfaXJxX2hhbmRsZXIoZGV2X3ByaXYs
IGlpciwgaHBkX2ljcCk7Cj4gQEAgLTM3NzgsMjAgKzM4NjUsMTggQEAgc3RhdGljIHZvaWQgaWJ4
X2hwZF9pcnFfc2V0dXAoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2KQo+ICAJaWJ4
X2hwZF9kZXRlY3Rpb25fc2V0dXAoZGV2X3ByaXYpOwo+ICB9Cj4gIAo+IC1zdGF0aWMgdm9pZCBp
Y3BfaHBkX2RldGVjdGlvbl9zZXR1cChzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYp
Cj4gK3N0YXRpYyB2b2lkIGljcF9ocGRfZGV0ZWN0aW9uX3NldHVwKHN0cnVjdCBkcm1faTkxNV9w
cml2YXRlICpkZXZfcHJpdiwKPiArCQkJCSAgICB1MzIgZGRpX2hvdHBsdWdfZW5hYmxlX21hc2ss
Cj4gKwkJCQkgICAgdTMyIHRjX2hvdHBsdWdfZW5hYmxlX21hc2spCj4gIHsKPiAgCXUzMiBob3Rw
bHVnOwo+ICAKPiAgCWhvdHBsdWcgPSBJOTE1X1JFQUQoU0hPVFBMVUdfQ1RMX0RESSk7Cj4gLQlo
b3RwbHVnIHw9IElDUF9ERElBX0hQRF9FTkFCTEUgfAo+IC0JCSAgIElDUF9ERElCX0hQRF9FTkFC
TEU7Cj4gKwlob3RwbHVnIHw9IGRkaV9ob3RwbHVnX2VuYWJsZV9tYXNrOwo+ICAJSTkxNV9XUklU
RShTSE9UUExVR19DVExfRERJLCBob3RwbHVnKTsKPiAgCj4gIAlob3RwbHVnID0gSTkxNV9SRUFE
KFNIT1RQTFVHX0NUTF9UQyk7Cj4gLQlob3RwbHVnIHw9IElDUF9UQ19IUERfRU5BQkxFKFBPUlRf
VEMxKSB8Cj4gLQkJICAgSUNQX1RDX0hQRF9FTkFCTEUoUE9SVF9UQzIpIHwKPiAtCQkgICBJQ1Bf
VENfSFBEX0VOQUJMRShQT1JUX1RDMykgfAo+IC0JCSAgIElDUF9UQ19IUERfRU5BQkxFKFBPUlRf
VEM0KTsKPiArCWhvdHBsdWcgfD0gdGNfaG90cGx1Z19lbmFibGVfbWFzazsKPiAgCUk5MTVfV1JJ
VEUoU0hPVFBMVUdfQ1RMX1RDLCBob3RwbHVnKTsKPiAgfQo+ICAKPiBAQCAtMzgwNCw3ICszODg5
LDIxIEBAIHN0YXRpYyB2b2lkIGljcF9ocGRfaXJxX3NldHVwKHN0cnVjdCBkcm1faTkxNV9wcml2
YXRlICpkZXZfcHJpdikKPiAgCj4gIAlpYnhfZGlzcGxheV9pbnRlcnJ1cHRfdXBkYXRlKGRldl9w
cml2LCBob3RwbHVnX2lycXMsIGVuYWJsZWRfaXJxcyk7Cj4gIAo+IC0JaWNwX2hwZF9kZXRlY3Rp
b25fc2V0dXAoZGV2X3ByaXYpOwo+ICsJaWNwX2hwZF9kZXRlY3Rpb25fc2V0dXAoZGV2X3ByaXYs
IElDUF9ERElfSFBEX0VOQUJMRV9NQVNLLAo+ICsJCQkJSUNQX1RDX0hQRF9FTkFCTEVfTUFTSyk7
Cj4gK30KPiArCj4gK3N0YXRpYyB2b2lkIHRncF9ocGRfaXJxX3NldHVwKHN0cnVjdCBkcm1faTkx
NV9wcml2YXRlICpkZXZfcHJpdikKPiArewo+ICsJdTMyIGhvdHBsdWdfaXJxcywgZW5hYmxlZF9p
cnFzOwo+ICsKPiArCWhvdHBsdWdfaXJxcyA9IFNERV9ERElfTUFTS19UR1AgfCBTREVfVENfTUFT
S19UR1A7Cj4gKwllbmFibGVkX2lycXMgPSBpbnRlbF9ocGRfZW5hYmxlZF9pcnFzKGRldl9wcml2
LCBocGRfdGdwKTsKPiArCj4gKwlpYnhfZGlzcGxheV9pbnRlcnJ1cHRfdXBkYXRlKGRldl9wcml2
LCBob3RwbHVnX2lycXMsIGVuYWJsZWRfaXJxcyk7Cj4gKwo+ICsJaWNwX2hwZF9kZXRlY3Rpb25f
c2V0dXAoZGV2X3ByaXYsIFRHUF9ERElfSFBEX0VOQUJMRV9NQVNLLAo+ICsJCQkJVEdQX1RDX0hQ
RF9FTkFCTEVfTUFTSyk7Cj4gIH0KPiAgCj4gIHN0YXRpYyB2b2lkIGdlbjExX2hwZF9kZXRlY3Rp
b25fc2V0dXAoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2KQo+IEBAIC0zODQxLDcg
KzM5NDAsOSBAQCBzdGF0aWMgdm9pZCBnZW4xMV9ocGRfaXJxX3NldHVwKHN0cnVjdCBkcm1faTkx
NV9wcml2YXRlICpkZXZfcHJpdikKPiAgCj4gIAlnZW4xMV9ocGRfZGV0ZWN0aW9uX3NldHVwKGRl
dl9wcml2KTsKPiAgCj4gLQlpZiAoSU5URUxfUENIX1RZUEUoZGV2X3ByaXYpID49IFBDSF9JQ1Ap
Cj4gKwlpZiAoSU5URUxfUENIX1RZUEUoZGV2X3ByaXYpID49IFBDSF9UR1ApCj4gKwkJdGdwX2hw
ZF9pcnFfc2V0dXAoZGV2X3ByaXYpOwo+ICsJZWxzZSBpZiAoSU5URUxfUENIX1RZUEUoZGV2X3By
aXYpID49IFBDSF9JQ1ApCj4gIAkJaWNwX2hwZF9pcnFfc2V0dXAoZGV2X3ByaXYpOwo+ICB9Cj4g
IAo+IEBAIC00MjkxLDcgKzQzOTIsMTIgQEAgc3RhdGljIHZvaWQgaWNwX2lycV9wb3N0aW5zdGFs
bChzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYpCj4gIAlnZW4zX2Fzc2VydF9paXJf
aXNfemVybygmZGV2X3ByaXYtPnVuY29yZSwgU0RFSUlSKTsKPiAgCUk5MTVfV1JJVEUoU0RFSU1S
LCB+bWFzayk7Cj4gIAo+IC0JaWNwX2hwZF9kZXRlY3Rpb25fc2V0dXAoZGV2X3ByaXYpOwo+ICsJ
aWYgKEhBU19QQ0hfVEdQKGRldl9wcml2KSkKPiArCQlpY3BfaHBkX2RldGVjdGlvbl9zZXR1cChk
ZXZfcHJpdiwgVEdQX0RESV9IUERfRU5BQkxFX01BU0ssCj4gKwkJCQkJVEdQX1RDX0hQRF9FTkFC
TEVfTUFTSyk7Cj4gKwllbHNlCj4gKwkJaWNwX2hwZF9kZXRlY3Rpb25fc2V0dXAoZGV2X3ByaXYs
IElDUF9ERElfSFBEX0VOQUJMRV9NQVNLLAo+ICsJCQkJCUlDUF9UQ19IUERfRU5BQkxFX01BU0sp
Owo+ICB9Cj4gIAo+ICBzdGF0aWMgdm9pZCBnZW4xMV9pcnFfcG9zdGluc3RhbGwoc3RydWN0IGRy
bV9pOTE1X3ByaXZhdGUgKmRldl9wcml2KQo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0v
aTkxNS9pOTE1X3JlZy5oIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9yZWcuaAo+IGluZGV4
IDI0ZjJhNTJhMmI0Mi4uYzUwNDIzOTZkYmIxIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2k5MTVfcmVnLmgKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3JlZy5o
Cj4gQEAgLTc4NjEsMTIgKzc4NjEsMTUgQEAgZW51bSB7Cj4gIAkJCQkgU0RFX0ZESV9SWEJfQ1BU
IHwgXAo+ICAJCQkJIFNERV9GRElfUlhBX0NQVCkKPiAgCj4gLS8qIHNvdXRoIGRpc3BsYXkgZW5n
aW5lIGludGVycnVwdDogSUNQICovCj4gKy8qIHNvdXRoIGRpc3BsYXkgZW5naW5lIGludGVycnVw
dDogSUNQL1RHUCAqLwo+ICsjZGVmaW5lIFNERV9UQzZfSE9UUExVR19UR1AJCSgxIDw8IDI5KQo+
ICsjZGVmaW5lIFNERV9UQzVfSE9UUExVR19UR1AJCSgxIDw8IDI4KQo+ICAjZGVmaW5lIFNERV9U
QzRfSE9UUExVR19JQ1AJCSgxIDw8IDI3KQo+ICAjZGVmaW5lIFNERV9UQzNfSE9UUExVR19JQ1AJ
CSgxIDw8IDI2KQo+ICAjZGVmaW5lIFNERV9UQzJfSE9UUExVR19JQ1AJCSgxIDw8IDI1KQo+ICAj
ZGVmaW5lIFNERV9UQzFfSE9UUExVR19JQ1AJCSgxIDw8IDI0KQo+ICAjZGVmaW5lIFNERV9HTUJV
U19JQ1AJCQkoMSA8PCAyMykKPiArI2RlZmluZSBTREVfRERJQ19IT1RQTFVHX1RHUAkJKDEgPDwg
MTgpCj4gICNkZWZpbmUgU0RFX0RESUJfSE9UUExVR19JQ1AJCSgxIDw8IDE3KQo+ICAjZGVmaW5l
IFNERV9ERElBX0hPVFBMVUdfSUNQCQkoMSA8PCAxNikKPiAgI2RlZmluZSBTREVfVENfSE9UUExV
R19JQ1AodGNfcG9ydCkJKDEgPDwgKCh0Y19wb3J0KSArIDI0KSkKPiBAQCAtNzg3Nyw2ICs3ODgw
LDExIEBAIGVudW0gewo+ICAJCQkJCSBTREVfVEMzX0hPVFBMVUdfSUNQIHwJXAo+ICAJCQkJCSBT
REVfVEMyX0hPVFBMVUdfSUNQIHwJXAo+ICAJCQkJCSBTREVfVEMxX0hPVFBMVUdfSUNQKQo+ICsj
ZGVmaW5lIFNERV9ERElfTUFTS19UR1AJCShTREVfRERJQ19IT1RQTFVHX1RHUCB8IFwKPiArCQkJ
CQkgU0RFX0RESV9NQVNLX0lDUCkKPiArI2RlZmluZSBTREVfVENfTUFTS19UR1AJCQkoU0RFX1RD
Nl9IT1RQTFVHX1RHUCB8CVwKPiArCQkJCQkgU0RFX1RDNV9IT1RQTFVHX1RHUCB8CVwKPiArCQkJ
CQkgU0RFX1RDX01BU0tfSUNQKQo+ICAKPiAgI2RlZmluZSBTREVJU1IgIF9NTUlPKDB4YzQwMDAp
Cj4gICNkZWZpbmUgU0RFSU1SICBfTU1JTygweGM0MDA0KQo+IEBAIC03OTQ0LDYgKzc5NTIsMTIg
QEAgZW51bSB7Cj4gICAqLwo+ICAKPiAgI2RlZmluZSBTSE9UUExVR19DVExfRERJCQkJX01NSU8o
MHhjNDAzMCkKPiArI2RlZmluZSAgIFRHUF9ERElDX0hQRF9FTkFCTEUJCQkoMSA8PCAxMSkKPiAr
I2RlZmluZSAgIFRHUF9ERElDX0hQRF9TVEFUVVNfTUFTSwkJKDMgPDwgOCkKPiArI2RlZmluZSAg
IFRHUF9ERElDX0hQRF9OT19ERVRFQ1QJCSgwIDw8IDgpCj4gKyNkZWZpbmUgICBUR1BfRERJQ19I
UERfU0hPUlRfREVURUNUCQkoMSA8PCA4KQo+ICsjZGVmaW5lICAgVEdQX0RESUNfSFBEX0xPTkdf
REVURUNUCQkoMiA8PCA4KQo+ICsjZGVmaW5lICAgVEdQX0RESUNfSFBEX1NIT1JUX0xPTkdfREVU
RUNUCSgzIDw8IDgpCj4gICNkZWZpbmUgICBJQ1BfRERJQl9IUERfRU5BQkxFCQkJKDEgPDwgNykK
PiAgI2RlZmluZSAgIElDUF9ERElCX0hQRF9TVEFUVVNfTUFTSwkJKDMgPDwgNCkKPiAgI2RlZmlu
ZSAgIElDUF9ERElCX0hQRF9OT19ERVRFQ1QJCSgwIDw8IDQpCj4gQEAgLTgwNjcsNiArODA4MSwx
OCBAQCBlbnVtIHsKPiAgI2RlZmluZSAgIElDUF9UQ19IUERfTE9OR19ERVRFQ1QodGNfcG9ydCkJ
KDIgPDwgKHRjX3BvcnQpICogNCkKPiAgI2RlZmluZSAgIElDUF9UQ19IUERfU0hPUlRfREVURUNU
KHRjX3BvcnQpCSgxIDw8ICh0Y19wb3J0KSAqIDQpCj4gIAo+ICsjZGVmaW5lIElDUF9ERElfSFBE
X0VOQUJMRV9NQVNLCQkoSUNQX0RESUJfSFBEX0VOQUJMRSB8CVwKPiArCQkJCQkgSUNQX0RESUFf
SFBEX0VOQUJMRSkKPiArI2RlZmluZSBJQ1BfVENfSFBEX0VOQUJMRV9NQVNLCQkoSUNQX1RDX0hQ
RF9FTkFCTEUoUE9SVF9UQzQpIHwgXAo+ICsJCQkJCSBJQ1BfVENfSFBEX0VOQUJMRShQT1JUX1RD
MykgfCBcCj4gKwkJCQkJIElDUF9UQ19IUERfRU5BQkxFKFBPUlRfVEMyKSB8IFwKPiArCQkJCQkg
SUNQX1RDX0hQRF9FTkFCTEUoUE9SVF9UQzEpKQo+ICsjZGVmaW5lIFRHUF9ERElfSFBEX0VOQUJM
RV9NQVNLCQkoVEdQX0RESUNfSFBEX0VOQUJMRSB8CVwKPiArCQkJCQkgSUNQX0RESV9IUERfRU5B
QkxFX01BU0spCj4gKyNkZWZpbmUgVEdQX1RDX0hQRF9FTkFCTEVfTUFTSwkJKElDUF9UQ19IUERf
RU5BQkxFKFBPUlRfVEM2KSB8IFwKPiArCQkJCQkgSUNQX1RDX0hQRF9FTkFCTEUoUE9SVF9UQzUp
IHwgXAo+ICsJCQkJCSBJQ1BfVENfSFBEX0VOQUJMRV9NQVNLKQo+ICsKPiAgI2RlZmluZSBfUENI
X0RQTExfQSAgICAgICAgICAgICAgMHhjNjAxNAo+ICAjZGVmaW5lIF9QQ0hfRFBMTF9CICAgICAg
ICAgICAgICAweGM2MDE4Cj4gICNkZWZpbmUgUENIX0RQTEwocGxsKSBfTU1JTygocGxsKSA9PSAw
ID8gX1BDSF9EUExMX0EgOiBfUENIX0RQTExfQikKPiAtLSAKPiAyLjIxLjAKPiAKPiBfX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwo+IEludGVsLWdmeCBtYWls
aW5nIGxpc3QKPiBJbnRlbC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCj4gaHR0cHM6Ly9saXN0
cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9pbnRlbC1nZngKCi0tIApNYXR0IFJv
cGVyCkdyYXBoaWNzIFNvZnR3YXJlIEVuZ2luZWVyCklvVEcgUGxhdGZvcm0gRW5hYmxpbmcgJiBE
ZXZlbG9wbWVudApJbnRlbCBDb3Jwb3JhdGlvbgooOTE2KSAzNTYtMjc5NQpfX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpJbnRlbC1nZnggbWFpbGluZyBsaXN0
CkludGVsLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3Rv
cC5vcmcvbWFpbG1hbi9saXN0aW5mby9pbnRlbC1nZng=

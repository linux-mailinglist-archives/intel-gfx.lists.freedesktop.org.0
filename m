Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id E09063C9BFC
	for <lists+intel-gfx@lfdr.de>; Thu, 15 Jul 2021 11:35:49 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 536B56E7E5;
	Thu, 15 Jul 2021 09:35:48 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga14.intel.com (mga14.intel.com [192.55.52.115])
 by gabe.freedesktop.org (Postfix) with ESMTPS id AD9546E7EC
 for <intel-gfx@lists.freedesktop.org>; Thu, 15 Jul 2021 09:35:47 +0000 (UTC)
X-IronPort-AV: E=McAfee;i="6200,9189,10045"; a="210325733"
X-IronPort-AV: E=Sophos;i="5.84,240,1620716400"; d="scan'208";a="210325733"
Received: from fmsmga001.fm.intel.com ([10.253.24.23])
 by fmsmga103.fm.intel.com with ESMTP/TLS/ECDHE-RSA-AES256-GCM-SHA384;
 15 Jul 2021 02:35:47 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.84,240,1620716400"; d="scan'208";a="572942711"
Received: from stinkbox.fi.intel.com (HELO stinkbox) ([10.237.72.171])
 by fmsmga001.fm.intel.com with SMTP; 15 Jul 2021 02:35:45 -0700
Received: by stinkbox (sSMTP sendmail emulation);
 Thu, 15 Jul 2021 12:35:44 +0300
From: Ville Syrjala <ville.syrjala@linux.intel.com>
To: intel-gfx@lists.freedesktop.org
Date: Thu, 15 Jul 2021 12:35:22 +0300
Message-Id: <20210715093530.31711-6-ville.syrjala@linux.intel.com>
X-Mailer: git-send-email 2.31.1
In-Reply-To: <20210715093530.31711-1-ville.syrjala@linux.intel.com>
References: <20210715093530.31711-1-ville.syrjala@linux.intel.com>
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH 05/13] drm/i915: Clean dpll calling convention
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

RnJvbTogVmlsbGUgU3lyasOkbMOkIDx2aWxsZS5zeXJqYWxhQGxpbnV4LmludGVsLmNvbT4KClN0
b3AgcGFzc2luZyBib3RoIHRoZSBjcnRjIGFuZCBpdHMgc3RhdGUgdG8gdGhlIERQTEwgZnVuY3Rp
b25zLgpUaGUgc3RhdGUgYWxvbmUgaXMgZW5vdWdoLgoKU2lnbmVkLW9mZi1ieTogVmlsbGUgU3ly
asOkbMOkIDx2aWxsZS5zeXJqYWxhQGxpbnV4LmludGVsLmNvbT4KLS0tCiBkcml2ZXJzL2dwdS9k
cm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXkuYyB8ICAxMiArLQogZHJpdmVycy9ncHUvZHJt
L2k5MTUvZGlzcGxheS9pbnRlbF9kcGxsLmMgICAgfCAxNDIgKysrKysrKysrLS0tLS0tLS0tLQog
ZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kcGxsLmggICAgfCAgMjEgKy0tCiBk
cml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2Rydi5oICAgICAgICAgICAgICB8ICAgMyArLQogNCBm
aWxlcyBjaGFuZ2VkLCA4MiBpbnNlcnRpb25zKCspLCA5NiBkZWxldGlvbnMoLSkKCmRpZmYgLS1n
aXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXkuYyBiL2RyaXZl
cnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheS5jCmluZGV4IDhhNGMzYTVlNTQ2
Mi4uOTA3YzNjYTMxOWFhIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5
L2ludGVsX2Rpc3BsYXkuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVs
X2Rpc3BsYXkuYwpAQCAtMzkzNSwxMSArMzkzNSwxMSBAQCBzdGF0aWMgdm9pZCB2YWxsZXl2aWV3
X2NydGNfZW5hYmxlKHN0cnVjdCBpbnRlbF9hdG9taWNfc3RhdGUgKnN0YXRlLAogCWludGVsX2Vu
Y29kZXJzX3ByZV9wbGxfZW5hYmxlKHN0YXRlLCBjcnRjKTsKIAogCWlmIChJU19DSEVSUllWSUVX
KGRldl9wcml2KSkgewotCQljaHZfcHJlcGFyZV9wbGwoY3J0YywgbmV3X2NydGNfc3RhdGUpOwot
CQljaHZfZW5hYmxlX3BsbChjcnRjLCBuZXdfY3J0Y19zdGF0ZSk7CisJCWNodl9wcmVwYXJlX3Bs
bChuZXdfY3J0Y19zdGF0ZSk7CisJCWNodl9lbmFibGVfcGxsKG5ld19jcnRjX3N0YXRlKTsKIAl9
IGVsc2UgewotCQl2bHZfcHJlcGFyZV9wbGwoY3J0YywgbmV3X2NydGNfc3RhdGUpOwotCQl2bHZf
ZW5hYmxlX3BsbChjcnRjLCBuZXdfY3J0Y19zdGF0ZSk7CisJCXZsdl9wcmVwYXJlX3BsbChuZXdf
Y3J0Y19zdGF0ZSk7CisJCXZsdl9lbmFibGVfcGxsKG5ld19jcnRjX3N0YXRlKTsKIAl9CiAKIAlp
bnRlbF9lbmNvZGVyc19wcmVfZW5hYmxlKHN0YXRlLCBjcnRjKTsKQEAgLTM5OTgsNyArMzk5OCw3
IEBAIHN0YXRpYyB2b2lkIGk5eHhfY3J0Y19lbmFibGUoc3RydWN0IGludGVsX2F0b21pY19zdGF0
ZSAqc3RhdGUsCiAKIAlpbnRlbF9lbmNvZGVyc19wcmVfZW5hYmxlKHN0YXRlLCBjcnRjKTsKIAot
CWk5eHhfZW5hYmxlX3BsbChjcnRjLCBuZXdfY3J0Y19zdGF0ZSk7CisJaTl4eF9lbmFibGVfcGxs
KG5ld19jcnRjX3N0YXRlKTsKIAogCWk5eHhfcGZpdF9lbmFibGUobmV3X2NydGNfc3RhdGUpOwog
CkBAIC03MjcyLDcgKzcyNzIsNyBAQCBzdGF0aWMgaW50IGludGVsX2NydGNfYXRvbWljX2NoZWNr
KHN0cnVjdCBpbnRlbF9hdG9taWNfc3RhdGUgKnN0YXRlLAogCSAgICBkZXZfcHJpdi0+ZGlzcGxh
eS5jcnRjX2NvbXB1dGVfY2xvY2sgJiYKIAkgICAgIWNydGNfc3RhdGUtPmJpZ2pvaW5lcl9zbGF2
ZSAmJgogCSAgICAhZHJtX1dBUk5fT04oJmRldl9wcml2LT5kcm0sIGNydGNfc3RhdGUtPnNoYXJl
ZF9kcGxsKSkgewotCQlyZXQgPSBkZXZfcHJpdi0+ZGlzcGxheS5jcnRjX2NvbXB1dGVfY2xvY2so
Y3J0YywgY3J0Y19zdGF0ZSk7CisJCXJldCA9IGRldl9wcml2LT5kaXNwbGF5LmNydGNfY29tcHV0
ZV9jbG9jayhjcnRjX3N0YXRlKTsKIAkJaWYgKHJldCkKIAkJCXJldHVybiByZXQ7CiAJfQpkaWZm
IC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kcGxsLmMgYi9kcml2
ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2RwbGwuYwppbmRleCAxM2VkMjcxMWI5N2Eu
LmIyNzkyMmNhMTA5YiAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9p
bnRlbF9kcGxsLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kcGxs
LmMKQEAgLTc3NywxMCArNzc3LDEwIEBAIHN0YXRpYyB1MzIgcG52X2RwbGxfY29tcHV0ZV9mcChj
b25zdCBzdHJ1Y3QgZHBsbCAqZHBsbCkKIAlyZXR1cm4gKDEgPDwgZHBsbC0+bikgPDwgMTYgfCBk
cGxsLT5tMjsKIH0KIAotc3RhdGljIHZvaWQgaTl4eF91cGRhdGVfcGxsX2RpdmlkZXJzKHN0cnVj
dCBpbnRlbF9jcnRjICpjcnRjLAotCQkJCSAgICAgc3RydWN0IGludGVsX2NydGNfc3RhdGUgKmNy
dGNfc3RhdGUsCitzdGF0aWMgdm9pZCBpOXh4X3VwZGF0ZV9wbGxfZGl2aWRlcnMoc3RydWN0IGlu
dGVsX2NydGNfc3RhdGUgKmNydGNfc3RhdGUsCiAJCQkJICAgICBjb25zdCBzdHJ1Y3QgZHBsbCAq
cmVkdWNlZF9jbG9jaykKIHsKKwlzdHJ1Y3QgaW50ZWxfY3J0YyAqY3J0YyA9IHRvX2ludGVsX2Ny
dGMoY3J0Y19zdGF0ZS0+dWFwaS5jcnRjKTsKIAlzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2
X3ByaXYgPSB0b19pOTE1KGNydGMtPmJhc2UuZGV2KTsKIAljb25zdCBzdHJ1Y3QgZHBsbCAqY2xv
Y2sgPSAmY3J0Y19zdGF0ZS0+ZHBsbDsKIAl1MzIgZnAsIGZwMiA9IDA7CkBAIC04MDUsMTUgKzgw
NSwxNSBAQCBzdGF0aWMgdm9pZCBpOXh4X3VwZGF0ZV9wbGxfZGl2aWRlcnMoc3RydWN0IGludGVs
X2NydGMgKmNydGMsCiAJfQogfQogCi1zdGF0aWMgdm9pZCBpOXh4X2NvbXB1dGVfZHBsbChzdHJ1
Y3QgaW50ZWxfY3J0YyAqY3J0YywKLQkJCSAgICAgIHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpj
cnRjX3N0YXRlLAorc3RhdGljIHZvaWQgaTl4eF9jb21wdXRlX2RwbGwoc3RydWN0IGludGVsX2Ny
dGNfc3RhdGUgKmNydGNfc3RhdGUsCiAJCQkgICAgICBjb25zdCBzdHJ1Y3QgZHBsbCAqcmVkdWNl
ZF9jbG9jaykKIHsKKwlzdHJ1Y3QgaW50ZWxfY3J0YyAqY3J0YyA9IHRvX2ludGVsX2NydGMoY3J0
Y19zdGF0ZS0+dWFwaS5jcnRjKTsKIAlzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYg
PSB0b19pOTE1KGNydGMtPmJhc2UuZGV2KTsKIAljb25zdCBzdHJ1Y3QgZHBsbCAqY2xvY2sgPSAm
Y3J0Y19zdGF0ZS0+ZHBsbDsKIAl1MzIgZHBsbDsKIAotCWk5eHhfdXBkYXRlX3BsbF9kaXZpZGVy
cyhjcnRjLCBjcnRjX3N0YXRlLCByZWR1Y2VkX2Nsb2NrKTsKKwlpOXh4X3VwZGF0ZV9wbGxfZGl2
aWRlcnMoY3J0Y19zdGF0ZSwgcmVkdWNlZF9jbG9jayk7CiAKIAlkcGxsID0gRFBMTF9WR0FfTU9E
RV9ESVM7CiAKQEAgLTg3OCwxNiArODc4LDE1IEBAIHN0YXRpYyB2b2lkIGk5eHhfY29tcHV0ZV9k
cGxsKHN0cnVjdCBpbnRlbF9jcnRjICpjcnRjLAogCX0KIH0KIAotc3RhdGljIHZvaWQgaTh4eF9j
b21wdXRlX2RwbGwoc3RydWN0IGludGVsX2NydGMgKmNydGMsCi0JCQkgICAgICBzdHJ1Y3QgaW50
ZWxfY3J0Y19zdGF0ZSAqY3J0Y19zdGF0ZSwKK3N0YXRpYyB2b2lkIGk4eHhfY29tcHV0ZV9kcGxs
KHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpjcnRjX3N0YXRlLAogCQkJICAgICAgY29uc3Qgc3Ry
dWN0IGRwbGwgKnJlZHVjZWRfY2xvY2spCiB7Ci0Jc3RydWN0IGRybV9kZXZpY2UgKmRldiA9IGNy
dGMtPmJhc2UuZGV2OwotCXN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiA9IHRvX2k5
MTUoZGV2KTsKKwlzdHJ1Y3QgaW50ZWxfY3J0YyAqY3J0YyA9IHRvX2ludGVsX2NydGMoY3J0Y19z
dGF0ZS0+dWFwaS5jcnRjKTsKKwlzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYgPSB0
b19pOTE1KGNydGMtPmJhc2UuZGV2KTsKIAljb25zdCBzdHJ1Y3QgZHBsbCAqY2xvY2sgPSAmY3J0
Y19zdGF0ZS0+ZHBsbDsKIAl1MzIgZHBsbDsKIAotCWk5eHhfdXBkYXRlX3BsbF9kaXZpZGVycyhj
cnRjLCBjcnRjX3N0YXRlLCByZWR1Y2VkX2Nsb2NrKTsKKwlpOXh4X3VwZGF0ZV9wbGxfZGl2aWRl
cnMoY3J0Y19zdGF0ZSwgcmVkdWNlZF9jbG9jayk7CiAKIAlkcGxsID0gRFBMTF9WR0FfTU9ERV9E
SVM7CiAKQEAgLTkyOCw5ICs5MjcsOSBAQCBzdGF0aWMgdm9pZCBpOHh4X2NvbXB1dGVfZHBsbChz
dHJ1Y3QgaW50ZWxfY3J0YyAqY3J0YywKIAljcnRjX3N0YXRlLT5kcGxsX2h3X3N0YXRlLmRwbGwg
PSBkcGxsOwogfQogCi1zdGF0aWMgaW50IGhzd19jcnRjX2NvbXB1dGVfY2xvY2soc3RydWN0IGlu
dGVsX2NydGMgKmNydGMsCi0JCQkJICBzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqY3J0Y19zdGF0
ZSkKK3N0YXRpYyBpbnQgaHN3X2NydGNfY29tcHV0ZV9jbG9jayhzdHJ1Y3QgaW50ZWxfY3J0Y19z
dGF0ZSAqY3J0Y19zdGF0ZSkKIHsKKwlzdHJ1Y3QgaW50ZWxfY3J0YyAqY3J0YyA9IHRvX2ludGVs
X2NydGMoY3J0Y19zdGF0ZS0+dWFwaS5jcnRjKTsKIAlzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAq
ZGV2X3ByaXYgPSB0b19pOTE1KGNydGMtPmJhc2UuZGV2KTsKIAlzdHJ1Y3QgaW50ZWxfYXRvbWlj
X3N0YXRlICpzdGF0ZSA9CiAJCXRvX2ludGVsX2F0b21pY19zdGF0ZShjcnRjX3N0YXRlLT51YXBp
LnN0YXRlKTsKQEAgLTk1NiwxMCArOTU1LDEwIEBAIHN0YXRpYyBib29sIGlsa19uZWVkc19mYl9j
Yl90dW5lKGNvbnN0IHN0cnVjdCBkcGxsICpkcGxsLCBpbnQgZmFjdG9yKQogCXJldHVybiBpOXh4
X2RwbGxfY29tcHV0ZV9tKGRwbGwpIDwgZmFjdG9yICogZHBsbC0+bjsKIH0KIAotc3RhdGljIHZv
aWQgaWxrX3VwZGF0ZV9wbGxfZGl2aWRlcnMoc3RydWN0IGludGVsX2NydGMgKmNydGMsCi0JCQkJ
ICAgIHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpjcnRjX3N0YXRlLAorc3RhdGljIHZvaWQgaWxr
X3VwZGF0ZV9wbGxfZGl2aWRlcnMoc3RydWN0IGludGVsX2NydGNfc3RhdGUgKmNydGNfc3RhdGUs
CiAJCQkJICAgIGNvbnN0IHN0cnVjdCBkcGxsICpyZWR1Y2VkX2Nsb2NrKQogeworCXN0cnVjdCBp
bnRlbF9jcnRjICpjcnRjID0gdG9faW50ZWxfY3J0YyhjcnRjX3N0YXRlLT51YXBpLmNydGMpOwog
CXN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiA9IHRvX2k5MTUoY3J0Yy0+YmFzZS5k
ZXYpOwogCWNvbnN0IHN0cnVjdCBkcGxsICpjbG9jayA9ICZjcnRjX3N0YXRlLT5kcGxsOwogCXUz
MiBmcCwgZnAyID0gMDsKQEAgLTk5MywxNSArOTkyLDE1IEBAIHN0YXRpYyB2b2lkIGlsa191cGRh
dGVfcGxsX2RpdmlkZXJzKHN0cnVjdCBpbnRlbF9jcnRjICpjcnRjLAogCWNydGNfc3RhdGUtPmRw
bGxfaHdfc3RhdGUuZnAxID0gcmVkdWNlZF9jbG9jayA/IGZwMiA6IGZwOwogfQogCi1zdGF0aWMg
dm9pZCBpbGtfY29tcHV0ZV9kcGxsKHN0cnVjdCBpbnRlbF9jcnRjICpjcnRjLAotCQkJICAgICBz
dHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqY3J0Y19zdGF0ZSwKK3N0YXRpYyB2b2lkIGlsa19jb21w
dXRlX2RwbGwoc3RydWN0IGludGVsX2NydGNfc3RhdGUgKmNydGNfc3RhdGUsCiAJCQkgICAgIGNv
bnN0IHN0cnVjdCBkcGxsICpyZWR1Y2VkX2Nsb2NrKQogeworCXN0cnVjdCBpbnRlbF9jcnRjICpj
cnRjID0gdG9faW50ZWxfY3J0YyhjcnRjX3N0YXRlLT51YXBpLmNydGMpOwogCXN0cnVjdCBkcm1f
aTkxNV9wcml2YXRlICpkZXZfcHJpdiA9IHRvX2k5MTUoY3J0Yy0+YmFzZS5kZXYpOwogCWNvbnN0
IHN0cnVjdCBkcGxsICpjbG9jayA9ICZjcnRjX3N0YXRlLT5kcGxsOwogCXUzMiBkcGxsOwogCi0J
aWxrX3VwZGF0ZV9wbGxfZGl2aWRlcnMoY3J0YywgY3J0Y19zdGF0ZSwgcmVkdWNlZF9jbG9jayk7
CisJaWxrX3VwZGF0ZV9wbGxfZGl2aWRlcnMoY3J0Y19zdGF0ZSwgcmVkdWNlZF9jbG9jayk7CiAK
IAlkcGxsID0gMDsKIApAQCAtMTA2OSw5ICsxMDY4LDkgQEAgc3RhdGljIHZvaWQgaWxrX2NvbXB1
dGVfZHBsbChzdHJ1Y3QgaW50ZWxfY3J0YyAqY3J0YywKIAljcnRjX3N0YXRlLT5kcGxsX2h3X3N0
YXRlLmRwbGwgPSBkcGxsOwogfQogCi1zdGF0aWMgaW50IGlsa19jcnRjX2NvbXB1dGVfY2xvY2so
c3RydWN0IGludGVsX2NydGMgKmNydGMsCi0JCQkJICBzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAq
Y3J0Y19zdGF0ZSkKK3N0YXRpYyBpbnQgaWxrX2NydGNfY29tcHV0ZV9jbG9jayhzdHJ1Y3QgaW50
ZWxfY3J0Y19zdGF0ZSAqY3J0Y19zdGF0ZSkKIHsKKwlzdHJ1Y3QgaW50ZWxfY3J0YyAqY3J0YyA9
IHRvX2ludGVsX2NydGMoY3J0Y19zdGF0ZS0+dWFwaS5jcnRjKTsKIAlzdHJ1Y3QgZHJtX2k5MTVf
cHJpdmF0ZSAqZGV2X3ByaXYgPSB0b19pOTE1KGNydGMtPmJhc2UuZGV2KTsKIAlzdHJ1Y3QgaW50
ZWxfYXRvbWljX3N0YXRlICpzdGF0ZSA9CiAJCXRvX2ludGVsX2F0b21pY19zdGF0ZShjcnRjX3N0
YXRlLT51YXBpLnN0YXRlKTsKQEAgLTExMTYsNyArMTExNSw3IEBAIHN0YXRpYyBpbnQgaWxrX2Ny
dGNfY29tcHV0ZV9jbG9jayhzdHJ1Y3QgaW50ZWxfY3J0YyAqY3J0YywKIAkJcmV0dXJuIC1FSU5W
QUw7CiAJfQogCi0JaWxrX2NvbXB1dGVfZHBsbChjcnRjLCBjcnRjX3N0YXRlLCBOVUxMKTsKKwlp
bGtfY29tcHV0ZV9kcGxsKGNydGNfc3RhdGUsIE5VTEwpOwogCiAJaWYgKCFpbnRlbF9yZXNlcnZl
X3NoYXJlZF9kcGxscyhzdGF0ZSwgY3J0YywgTlVMTCkpIHsKIAkJZHJtX2RiZ19rbXMoJmRldl9w
cml2LT5kcm0sCkBAIC0xMTI4LDkgKzExMjcsMTAgQEAgc3RhdGljIGludCBpbGtfY3J0Y19jb21w
dXRlX2Nsb2NrKHN0cnVjdCBpbnRlbF9jcnRjICpjcnRjLAogCXJldHVybiAwOwogfQogCi12b2lk
IHZsdl9jb21wdXRlX2RwbGwoc3RydWN0IGludGVsX2NydGMgKmNydGMsCi0JCSAgICAgIHN0cnVj
dCBpbnRlbF9jcnRjX3N0YXRlICpwaXBlX2NvbmZpZykKK3ZvaWQgdmx2X2NvbXB1dGVfZHBsbChz
dHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqcGlwZV9jb25maWcpCiB7CisJc3RydWN0IGludGVsX2Ny
dGMgKmNydGMgPSB0b19pbnRlbF9jcnRjKHBpcGVfY29uZmlnLT51YXBpLmNydGMpOworCiAJcGlw
ZV9jb25maWctPmRwbGxfaHdfc3RhdGUuZHBsbCA9IERQTExfSU5URUdSQVRFRF9SRUZfQ0xLX1ZM
ViB8CiAJCURQTExfUkVGX0NMS19FTkFCTEVfVkxWIHwgRFBMTF9WR0FfTU9ERV9ESVM7CiAJaWYg
KGNydGMtPnBpcGUgIT0gUElQRV9BKQpAQCAtMTE0NSw5ICsxMTQ1LDEwIEBAIHZvaWQgdmx2X2Nv
bXB1dGVfZHBsbChzdHJ1Y3QgaW50ZWxfY3J0YyAqY3J0YywKIAkJKHBpcGVfY29uZmlnLT5waXhl
bF9tdWx0aXBsaWVyIC0gMSkgPDwgRFBMTF9NRF9VRElfTVVMVElQTElFUl9TSElGVDsKIH0KIAot
dm9pZCBjaHZfY29tcHV0ZV9kcGxsKHN0cnVjdCBpbnRlbF9jcnRjICpjcnRjLAotCQkgICAgICBz
dHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqcGlwZV9jb25maWcpCit2b2lkIGNodl9jb21wdXRlX2Rw
bGwoc3RydWN0IGludGVsX2NydGNfc3RhdGUgKnBpcGVfY29uZmlnKQogeworCXN0cnVjdCBpbnRl
bF9jcnRjICpjcnRjID0gdG9faW50ZWxfY3J0YyhwaXBlX2NvbmZpZy0+dWFwaS5jcnRjKTsKKwog
CXBpcGVfY29uZmlnLT5kcGxsX2h3X3N0YXRlLmRwbGwgPSBEUExMX1NTQ19SRUZfQ0xLX0NIViB8
CiAJCURQTExfUkVGX0NMS19FTkFCTEVfVkxWIHwgRFBMTF9WR0FfTU9ERV9ESVM7CiAJaWYgKGNy
dGMtPnBpcGUgIT0gUElQRV9BKQpAQCAtMTE2MSw4ICsxMTYyLDcgQEAgdm9pZCBjaHZfY29tcHV0
ZV9kcGxsKHN0cnVjdCBpbnRlbF9jcnRjICpjcnRjLAogCQkocGlwZV9jb25maWctPnBpeGVsX211
bHRpcGxpZXIgLSAxKSA8PCBEUExMX01EX1VESV9NVUxUSVBMSUVSX1NISUZUOwogfQogCi1zdGF0
aWMgaW50IGNodl9jcnRjX2NvbXB1dGVfY2xvY2soc3RydWN0IGludGVsX2NydGMgKmNydGMsCi0J
CQkJICBzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqY3J0Y19zdGF0ZSkKK3N0YXRpYyBpbnQgY2h2
X2NydGNfY29tcHV0ZV9jbG9jayhzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqY3J0Y19zdGF0ZSkK
IHsKIAlpbnQgcmVmY2xrID0gMTAwMDAwOwogCWNvbnN0IHN0cnVjdCBpbnRlbF9saW1pdCAqbGlt
aXQgPSAmaW50ZWxfbGltaXRzX2NodjsKQEAgLTExNzgsMTMgKzExNzgsMTIgQEAgc3RhdGljIGlu
dCBjaHZfY3J0Y19jb21wdXRlX2Nsb2NrKHN0cnVjdCBpbnRlbF9jcnRjICpjcnRjLAogCQlyZXR1
cm4gLUVJTlZBTDsKIAl9CiAKLQljaHZfY29tcHV0ZV9kcGxsKGNydGMsIGNydGNfc3RhdGUpOwor
CWNodl9jb21wdXRlX2RwbGwoY3J0Y19zdGF0ZSk7CiAKIAlyZXR1cm4gMDsKIH0KIAotc3RhdGlj
IGludCB2bHZfY3J0Y19jb21wdXRlX2Nsb2NrKHN0cnVjdCBpbnRlbF9jcnRjICpjcnRjLAotCQkJ
CSAgc3RydWN0IGludGVsX2NydGNfc3RhdGUgKmNydGNfc3RhdGUpCitzdGF0aWMgaW50IHZsdl9j
cnRjX2NvbXB1dGVfY2xvY2soc3RydWN0IGludGVsX2NydGNfc3RhdGUgKmNydGNfc3RhdGUpCiB7
CiAJaW50IHJlZmNsayA9IDEwMDAwMDsKIAljb25zdCBzdHJ1Y3QgaW50ZWxfbGltaXQgKmxpbWl0
ID0gJmludGVsX2xpbWl0c192bHY7CkBAIC0xMjAwLDE0ICsxMTk5LDE0IEBAIHN0YXRpYyBpbnQg
dmx2X2NydGNfY29tcHV0ZV9jbG9jayhzdHJ1Y3QgaW50ZWxfY3J0YyAqY3J0YywKIAkJcmV0dXJu
IC1FSU5WQUw7CiAJfQogCi0Jdmx2X2NvbXB1dGVfZHBsbChjcnRjLCBjcnRjX3N0YXRlKTsKKwl2
bHZfY29tcHV0ZV9kcGxsKGNydGNfc3RhdGUpOwogCiAJcmV0dXJuIDA7CiB9CiAKLXN0YXRpYyBp
bnQgZzR4X2NydGNfY29tcHV0ZV9jbG9jayhzdHJ1Y3QgaW50ZWxfY3J0YyAqY3J0YywKLQkJCQkg
IHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpjcnRjX3N0YXRlKQorc3RhdGljIGludCBnNHhfY3J0
Y19jb21wdXRlX2Nsb2NrKHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpjcnRjX3N0YXRlKQogewor
CXN0cnVjdCBpbnRlbF9jcnRjICpjcnRjID0gdG9faW50ZWxfY3J0YyhjcnRjX3N0YXRlLT51YXBp
LmNydGMpOwogCXN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiA9IHRvX2k5MTUoY3J0
Yy0+YmFzZS5kZXYpOwogCWNvbnN0IHN0cnVjdCBpbnRlbF9saW1pdCAqbGltaXQ7CiAJaW50IHJl
ZmNsayA9IDk2MDAwOwpAQCAtMTI0NSwxNiArMTI0NCwxNSBAQCBzdGF0aWMgaW50IGc0eF9jcnRj
X2NvbXB1dGVfY2xvY2soc3RydWN0IGludGVsX2NydGMgKmNydGMsCiAJCXJldHVybiAtRUlOVkFM
OwogCX0KIAotCWk5eHhfY29tcHV0ZV9kcGxsKGNydGMsIGNydGNfc3RhdGUsIE5VTEwpOworCWk5
eHhfY29tcHV0ZV9kcGxsKGNydGNfc3RhdGUsIE5VTEwpOwogCiAJcmV0dXJuIDA7CiB9CiAKLXN0
YXRpYyBpbnQgcG52X2NydGNfY29tcHV0ZV9jbG9jayhzdHJ1Y3QgaW50ZWxfY3J0YyAqY3J0YywK
LQkJCQkgIHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpjcnRjX3N0YXRlKQorc3RhdGljIGludCBw
bnZfY3J0Y19jb21wdXRlX2Nsb2NrKHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpjcnRjX3N0YXRl
KQogewotCXN0cnVjdCBkcm1fZGV2aWNlICpkZXYgPSBjcnRjLT5iYXNlLmRldjsKLQlzdHJ1Y3Qg
ZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYgPSB0b19pOTE1KGRldik7CisJc3RydWN0IGludGVs
X2NydGMgKmNydGMgPSB0b19pbnRlbF9jcnRjKGNydGNfc3RhdGUtPnVhcGkuY3J0Yyk7CisJc3Ry
dWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2ID0gdG9faTkxNShjcnRjLT5iYXNlLmRldik7
CiAJY29uc3Qgc3RydWN0IGludGVsX2xpbWl0ICpsaW1pdDsKIAlpbnQgcmVmY2xrID0gOTYwMDA7
CiAKQEAgLTEyODIsMTYgKzEyODAsMTUgQEAgc3RhdGljIGludCBwbnZfY3J0Y19jb21wdXRlX2Ns
b2NrKHN0cnVjdCBpbnRlbF9jcnRjICpjcnRjLAogCQlyZXR1cm4gLUVJTlZBTDsKIAl9CiAKLQlp
OXh4X2NvbXB1dGVfZHBsbChjcnRjLCBjcnRjX3N0YXRlLCBOVUxMKTsKKwlpOXh4X2NvbXB1dGVf
ZHBsbChjcnRjX3N0YXRlLCBOVUxMKTsKIAogCXJldHVybiAwOwogfQogCi1zdGF0aWMgaW50IGk5
eHhfY3J0Y19jb21wdXRlX2Nsb2NrKHN0cnVjdCBpbnRlbF9jcnRjICpjcnRjLAotCQkJCSAgIHN0
cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpjcnRjX3N0YXRlKQorc3RhdGljIGludCBpOXh4X2NydGNf
Y29tcHV0ZV9jbG9jayhzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqY3J0Y19zdGF0ZSkKIHsKLQlz
dHJ1Y3QgZHJtX2RldmljZSAqZGV2ID0gY3J0Yy0+YmFzZS5kZXY7Ci0Jc3RydWN0IGRybV9pOTE1
X3ByaXZhdGUgKmRldl9wcml2ID0gdG9faTkxNShkZXYpOworCXN0cnVjdCBpbnRlbF9jcnRjICpj
cnRjID0gdG9faW50ZWxfY3J0YyhjcnRjX3N0YXRlLT51YXBpLmNydGMpOworCXN0cnVjdCBkcm1f
aTkxNV9wcml2YXRlICpkZXZfcHJpdiA9IHRvX2k5MTUoY3J0Yy0+YmFzZS5kZXYpOwogCWNvbnN0
IHN0cnVjdCBpbnRlbF9saW1pdCAqbGltaXQ7CiAJaW50IHJlZmNsayA9IDk2MDAwOwogCkBAIC0x
MzE5LDE2ICsxMzE2LDE1IEBAIHN0YXRpYyBpbnQgaTl4eF9jcnRjX2NvbXB1dGVfY2xvY2soc3Ry
dWN0IGludGVsX2NydGMgKmNydGMsCiAJCXJldHVybiAtRUlOVkFMOwogCX0KIAotCWk5eHhfY29t
cHV0ZV9kcGxsKGNydGMsIGNydGNfc3RhdGUsIE5VTEwpOworCWk5eHhfY29tcHV0ZV9kcGxsKGNy
dGNfc3RhdGUsIE5VTEwpOwogCiAJcmV0dXJuIDA7CiB9CiAKLXN0YXRpYyBpbnQgaTh4eF9jcnRj
X2NvbXB1dGVfY2xvY2soc3RydWN0IGludGVsX2NydGMgKmNydGMsCi0JCQkJICAgc3RydWN0IGlu
dGVsX2NydGNfc3RhdGUgKmNydGNfc3RhdGUpCitzdGF0aWMgaW50IGk4eHhfY3J0Y19jb21wdXRl
X2Nsb2NrKHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpjcnRjX3N0YXRlKQogewotCXN0cnVjdCBk
cm1fZGV2aWNlICpkZXYgPSBjcnRjLT5iYXNlLmRldjsKLQlzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0
ZSAqZGV2X3ByaXYgPSB0b19pOTE1KGRldik7CisJc3RydWN0IGludGVsX2NydGMgKmNydGMgPSB0
b19pbnRlbF9jcnRjKGNydGNfc3RhdGUtPnVhcGkuY3J0Yyk7CisJc3RydWN0IGRybV9pOTE1X3By
aXZhdGUgKmRldl9wcml2ID0gdG9faTkxNShjcnRjLT5iYXNlLmRldik7CiAJY29uc3Qgc3RydWN0
IGludGVsX2xpbWl0ICpsaW1pdDsKIAlpbnQgcmVmY2xrID0gNDgwMDA7CiAKQEAgLTEzNTgsNyAr
MTM1NCw3IEBAIHN0YXRpYyBpbnQgaTh4eF9jcnRjX2NvbXB1dGVfY2xvY2soc3RydWN0IGludGVs
X2NydGMgKmNydGMsCiAJCXJldHVybiAtRUlOVkFMOwogCX0KIAotCWk4eHhfY29tcHV0ZV9kcGxs
KGNydGMsIGNydGNfc3RhdGUsIE5VTEwpOworCWk4eHhfY29tcHV0ZV9kcGxsKGNydGNfc3RhdGUs
IE5VTEwpOwogCiAJcmV0dXJuIDA7CiB9CkBAIC0xMzkyLDkgKzEzODgsOSBAQCBzdGF0aWMgYm9v
bCBpOXh4X2hhc19wcHMoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2KQogCXJldHVy
biBJU19QSU5FVklFVyhkZXZfcHJpdikgfHwgSVNfTU9CSUxFKGRldl9wcml2KTsKIH0KIAotdm9p
ZCBpOXh4X2VuYWJsZV9wbGwoc3RydWN0IGludGVsX2NydGMgKmNydGMsCi0JCSAgICAgY29uc3Qg
c3RydWN0IGludGVsX2NydGNfc3RhdGUgKmNydGNfc3RhdGUpCit2b2lkIGk5eHhfZW5hYmxlX3Bs
bChjb25zdCBzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqY3J0Y19zdGF0ZSkKIHsKKwlzdHJ1Y3Qg
aW50ZWxfY3J0YyAqY3J0YyA9IHRvX2ludGVsX2NydGMoY3J0Y19zdGF0ZS0+dWFwaS5jcnRjKTsK
IAlzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYgPSB0b19pOTE1KGNydGMtPmJhc2Uu
ZGV2KTsKIAlpOTE1X3JlZ190IHJlZyA9IERQTEwoY3J0Yy0+cGlwZSk7CiAJdTMyIGRwbGwgPSBj
cnRjX3N0YXRlLT5kcGxsX2h3X3N0YXRlLmRwbGw7CkBAIC0xNDY3LDkgKzE0NjMsOSBAQCBzdGF0
aWMgdm9pZCB2bHZfcGxsYl9yZWNhbF9vcGFtcChzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2
X3ByaXYsCiAJdmx2X2RwaW9fd3JpdGUoZGV2X3ByaXYsIHBpcGUsIFZMVl9SRUZfRFcxMywgcmVn
X3ZhbCk7CiB9CiAKLXN0YXRpYyB2b2lkIF92bHZfZW5hYmxlX3BsbChzdHJ1Y3QgaW50ZWxfY3J0
YyAqY3J0YywKLQkJCSAgICBjb25zdCBzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqcGlwZV9jb25m
aWcpCitzdGF0aWMgdm9pZCBfdmx2X2VuYWJsZV9wbGwoY29uc3Qgc3RydWN0IGludGVsX2NydGNf
c3RhdGUgKnBpcGVfY29uZmlnKQogeworCXN0cnVjdCBpbnRlbF9jcnRjICpjcnRjID0gdG9faW50
ZWxfY3J0YyhwaXBlX2NvbmZpZy0+dWFwaS5jcnRjKTsKIAlzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0
ZSAqZGV2X3ByaXYgPSB0b19pOTE1KGNydGMtPmJhc2UuZGV2KTsKIAllbnVtIHBpcGUgcGlwZSA9
IGNydGMtPnBpcGU7CiAKQEAgLTE0ODEsOSArMTQ3Nyw5IEBAIHN0YXRpYyB2b2lkIF92bHZfZW5h
YmxlX3BsbChzdHJ1Y3QgaW50ZWxfY3J0YyAqY3J0YywKIAkJZHJtX2VycigmZGV2X3ByaXYtPmRy
bSwgIkRQTEwgJWQgZmFpbGVkIHRvIGxvY2tcbiIsIHBpcGUpOwogfQogCi12b2lkIHZsdl9lbmFi
bGVfcGxsKHN0cnVjdCBpbnRlbF9jcnRjICpjcnRjLAotCQkgICAgY29uc3Qgc3RydWN0IGludGVs
X2NydGNfc3RhdGUgKnBpcGVfY29uZmlnKQordm9pZCB2bHZfZW5hYmxlX3BsbChjb25zdCBzdHJ1
Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqcGlwZV9jb25maWcpCiB7CisJc3RydWN0IGludGVsX2NydGMg
KmNydGMgPSB0b19pbnRlbF9jcnRjKHBpcGVfY29uZmlnLT51YXBpLmNydGMpOwogCXN0cnVjdCBk
cm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiA9IHRvX2k5MTUoY3J0Yy0+YmFzZS5kZXYpOwogCWVu
dW0gcGlwZSBwaXBlID0gY3J0Yy0+cGlwZTsKIApAQCAtMTQ5Myw3ICsxNDg5LDcgQEAgdm9pZCB2
bHZfZW5hYmxlX3BsbChzdHJ1Y3QgaW50ZWxfY3J0YyAqY3J0YywKIAlhc3NlcnRfcGFuZWxfdW5s
b2NrZWQoZGV2X3ByaXYsIHBpcGUpOwogCiAJaWYgKHBpcGVfY29uZmlnLT5kcGxsX2h3X3N0YXRl
LmRwbGwgJiBEUExMX1ZDT19FTkFCTEUpCi0JCV92bHZfZW5hYmxlX3BsbChjcnRjLCBwaXBlX2Nv
bmZpZyk7CisJCV92bHZfZW5hYmxlX3BsbChwaXBlX2NvbmZpZyk7CiAKIAlpbnRlbF9kZV93cml0
ZShkZXZfcHJpdiwgRFBMTF9NRChwaXBlKSwKIAkJICAgICAgIHBpcGVfY29uZmlnLT5kcGxsX2h3
X3N0YXRlLmRwbGxfbWQpOwpAQCAtMTUwMSw5ICsxNDk3LDkgQEAgdm9pZCB2bHZfZW5hYmxlX3Bs
bChzdHJ1Y3QgaW50ZWxfY3J0YyAqY3J0YywKIH0KIAogCi1zdGF0aWMgdm9pZCBfY2h2X2VuYWJs
ZV9wbGwoc3RydWN0IGludGVsX2NydGMgKmNydGMsCi0JCQkgICAgY29uc3Qgc3RydWN0IGludGVs
X2NydGNfc3RhdGUgKnBpcGVfY29uZmlnKQorc3RhdGljIHZvaWQgX2Nodl9lbmFibGVfcGxsKGNv
bnN0IHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpwaXBlX2NvbmZpZykKIHsKKwlzdHJ1Y3QgaW50
ZWxfY3J0YyAqY3J0YyA9IHRvX2ludGVsX2NydGMocGlwZV9jb25maWctPnVhcGkuY3J0Yyk7CiAJ
c3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2ID0gdG9faTkxNShjcnRjLT5iYXNlLmRl
dik7CiAJZW51bSBwaXBlIHBpcGUgPSBjcnRjLT5waXBlOwogCWVudW0gZHBpb19jaGFubmVsIHBv
cnQgPSB2bHZfcGlwZV90b19jaGFubmVsKHBpcGUpOwpAQCAtMTUzMSw5ICsxNTI3LDkgQEAgc3Rh
dGljIHZvaWQgX2Nodl9lbmFibGVfcGxsKHN0cnVjdCBpbnRlbF9jcnRjICpjcnRjLAogCQlkcm1f
ZXJyKCZkZXZfcHJpdi0+ZHJtLCAiUExMICVkIGZhaWxlZCB0byBsb2NrXG4iLCBwaXBlKTsKIH0K
IAotdm9pZCBjaHZfZW5hYmxlX3BsbChzdHJ1Y3QgaW50ZWxfY3J0YyAqY3J0YywKLQkJICAgIGNv
bnN0IHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpwaXBlX2NvbmZpZykKK3ZvaWQgY2h2X2VuYWJs
ZV9wbGwoY29uc3Qgc3RydWN0IGludGVsX2NydGNfc3RhdGUgKnBpcGVfY29uZmlnKQogeworCXN0
cnVjdCBpbnRlbF9jcnRjICpjcnRjID0gdG9faW50ZWxfY3J0YyhwaXBlX2NvbmZpZy0+dWFwaS5j
cnRjKTsKIAlzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYgPSB0b19pOTE1KGNydGMt
PmJhc2UuZGV2KTsKIAllbnVtIHBpcGUgcGlwZSA9IGNydGMtPnBpcGU7CiAKQEAgLTE1NDMsNyAr
MTUzOSw3IEBAIHZvaWQgY2h2X2VuYWJsZV9wbGwoc3RydWN0IGludGVsX2NydGMgKmNydGMsCiAJ
YXNzZXJ0X3BhbmVsX3VubG9ja2VkKGRldl9wcml2LCBwaXBlKTsKIAogCWlmIChwaXBlX2NvbmZp
Zy0+ZHBsbF9od19zdGF0ZS5kcGxsICYgRFBMTF9WQ09fRU5BQkxFKQotCQlfY2h2X2VuYWJsZV9w
bGwoY3J0YywgcGlwZV9jb25maWcpOworCQlfY2h2X2VuYWJsZV9wbGwocGlwZV9jb25maWcpOwog
CiAJaWYgKHBpcGUgIT0gUElQRV9BKSB7CiAJCS8qCkBAIC0xNTcyLDExICsxNTY4LDEwIEBAIHZv
aWQgY2h2X2VuYWJsZV9wbGwoc3RydWN0IGludGVsX2NydGMgKmNydGMsCiAJfQogfQogCi12b2lk
IHZsdl9wcmVwYXJlX3BsbChzdHJ1Y3QgaW50ZWxfY3J0YyAqY3J0YywKLQkJICAgICBjb25zdCBz
dHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqcGlwZV9jb25maWcpCit2b2lkIHZsdl9wcmVwYXJlX3Bs
bChjb25zdCBzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqcGlwZV9jb25maWcpCiB7Ci0Jc3RydWN0
IGRybV9kZXZpY2UgKmRldiA9IGNydGMtPmJhc2UuZGV2OwotCXN0cnVjdCBkcm1faTkxNV9wcml2
YXRlICpkZXZfcHJpdiA9IHRvX2k5MTUoZGV2KTsKKwlzdHJ1Y3QgaW50ZWxfY3J0YyAqY3J0YyA9
IHRvX2ludGVsX2NydGMocGlwZV9jb25maWctPnVhcGkuY3J0Yyk7CisJc3RydWN0IGRybV9pOTE1
X3ByaXZhdGUgKmRldl9wcml2ID0gdG9faTkxNShjcnRjLT5iYXNlLmRldik7CiAJZW51bSBwaXBl
IHBpcGUgPSBjcnRjLT5waXBlOwogCXUzMiBtZGl2OwogCXUzMiBiZXN0biwgYmVzdG0xLCBiZXN0
bTIsIGJlc3RwMSwgYmVzdHAyOwpAQCAtMTY3MSwxMSArMTY2NiwxMCBAQCB2b2lkIHZsdl9wcmVw
YXJlX3BsbChzdHJ1Y3QgaW50ZWxfY3J0YyAqY3J0YywKIAl2bHZfZHBpb19wdXQoZGV2X3ByaXYp
OwogfQogCi12b2lkIGNodl9wcmVwYXJlX3BsbChzdHJ1Y3QgaW50ZWxfY3J0YyAqY3J0YywKLQkJ
ICAgICBjb25zdCBzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqcGlwZV9jb25maWcpCit2b2lkIGNo
dl9wcmVwYXJlX3BsbChjb25zdCBzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqcGlwZV9jb25maWcp
CiB7Ci0Jc3RydWN0IGRybV9kZXZpY2UgKmRldiA9IGNydGMtPmJhc2UuZGV2OwotCXN0cnVjdCBk
cm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiA9IHRvX2k5MTUoZGV2KTsKKwlzdHJ1Y3QgaW50ZWxf
Y3J0YyAqY3J0YyA9IHRvX2ludGVsX2NydGMocGlwZV9jb25maWctPnVhcGkuY3J0Yyk7CisJc3Ry
dWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2ID0gdG9faTkxNShjcnRjLT5iYXNlLmRldik7
CiAJZW51bSBwaXBlIHBpcGUgPSBjcnRjLT5waXBlOwogCWVudW0gZHBpb19jaGFubmVsIHBvcnQg
PSB2bHZfcGlwZV90b19jaGFubmVsKHBpcGUpOwogCXUzMiBsb29wZmlsdGVyLCB0cmlidWZfY2Fs
Y250cjsKQEAgLTE4MDIsMTMgKzE3OTYsMTMgQEAgaW50IHZsdl9mb3JjZV9wbGxfb24oc3RydWN0
IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2LCBlbnVtIHBpcGUgcGlwZSwKIAlwaXBlX2NvbmZp
Zy0+b3V0cHV0X3R5cGVzID0gQklUKElOVEVMX09VVFBVVF9FRFApOwogCiAJaWYgKElTX0NIRVJS
WVZJRVcoZGV2X3ByaXYpKSB7Ci0JCWNodl9jb21wdXRlX2RwbGwoY3J0YywgcGlwZV9jb25maWcp
OwotCQljaHZfcHJlcGFyZV9wbGwoY3J0YywgcGlwZV9jb25maWcpOwotCQljaHZfZW5hYmxlX3Bs
bChjcnRjLCBwaXBlX2NvbmZpZyk7CisJCWNodl9jb21wdXRlX2RwbGwocGlwZV9jb25maWcpOwor
CQljaHZfcHJlcGFyZV9wbGwocGlwZV9jb25maWcpOworCQljaHZfZW5hYmxlX3BsbChwaXBlX2Nv
bmZpZyk7CiAJfSBlbHNlIHsKLQkJdmx2X2NvbXB1dGVfZHBsbChjcnRjLCBwaXBlX2NvbmZpZyk7
Ci0JCXZsdl9wcmVwYXJlX3BsbChjcnRjLCBwaXBlX2NvbmZpZyk7Ci0JCXZsdl9lbmFibGVfcGxs
KGNydGMsIHBpcGVfY29uZmlnKTsKKwkJdmx2X2NvbXB1dGVfZHBsbChwaXBlX2NvbmZpZyk7CisJ
CXZsdl9wcmVwYXJlX3BsbChwaXBlX2NvbmZpZyk7CisJCXZsdl9lbmFibGVfcGxsKHBpcGVfY29u
ZmlnKTsKIAl9CiAKIAlrZnJlZShwaXBlX2NvbmZpZyk7CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dw
dS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2RwbGwuaCBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rp
c3BsYXkvaW50ZWxfZHBsbC5oCmluZGV4IGUyZjg0NTkwMmFiZi4uMjlmMzEwNzVjZGYwIDEwMDY0
NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2RwbGwuaAorKysgYi9k
cml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2RwbGwuaApAQCAtMTksMjcgKzE5LDIw
IEBAIGludCB2bHZfY2FsY19kcGxsX3BhcmFtcyhpbnQgcmVmY2xrLCBzdHJ1Y3QgZHBsbCAqY2xv
Y2spOwogaW50IHBudl9jYWxjX2RwbGxfcGFyYW1zKGludCByZWZjbGssIHN0cnVjdCBkcGxsICpj
bG9jayk7CiBpbnQgaTl4eF9jYWxjX2RwbGxfcGFyYW1zKGludCByZWZjbGssIHN0cnVjdCBkcGxs
ICpjbG9jayk7CiB1MzIgaTl4eF9kcGxsX2NvbXB1dGVfZnAoY29uc3Qgc3RydWN0IGRwbGwgKmRw
bGwpOwotdm9pZCB2bHZfY29tcHV0ZV9kcGxsKHN0cnVjdCBpbnRlbF9jcnRjICpjcnRjLAotCQkg
ICAgICBzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqcGlwZV9jb25maWcpOwotdm9pZCBjaHZfY29t
cHV0ZV9kcGxsKHN0cnVjdCBpbnRlbF9jcnRjICpjcnRjLAotCQkgICAgICBzdHJ1Y3QgaW50ZWxf
Y3J0Y19zdGF0ZSAqcGlwZV9jb25maWcpOwordm9pZCB2bHZfY29tcHV0ZV9kcGxsKHN0cnVjdCBp
bnRlbF9jcnRjX3N0YXRlICpjcnRjX3N0YXRlKTsKK3ZvaWQgY2h2X2NvbXB1dGVfZHBsbChzdHJ1
Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqY3J0Y19zdGF0ZSk7CiAKIGludCB2bHZfZm9yY2VfcGxsX29u
KHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiwgZW51bSBwaXBlIHBpcGUsCiAJCSAg
ICAgY29uc3Qgc3RydWN0IGRwbGwgKmRwbGwpOwogdm9pZCB2bHZfZm9yY2VfcGxsX29mZihzdHJ1
Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYsIGVudW0gcGlwZSBwaXBlKTsKLXZvaWQgaTl4
eF9lbmFibGVfcGxsKHN0cnVjdCBpbnRlbF9jcnRjICpjcnRjLAotCQkgICAgIGNvbnN0IHN0cnVj
dCBpbnRlbF9jcnRjX3N0YXRlICpjcnRjX3N0YXRlKTsKLXZvaWQgdmx2X2VuYWJsZV9wbGwoc3Ry
dWN0IGludGVsX2NydGMgKmNydGMsCi0JCSAgICBjb25zdCBzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0
ZSAqcGlwZV9jb25maWcpOwotdm9pZCBjaHZfZW5hYmxlX3BsbChzdHJ1Y3QgaW50ZWxfY3J0YyAq
Y3J0YywKLQkJICAgIGNvbnN0IHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpwaXBlX2NvbmZpZyk7
Cit2b2lkIGk5eHhfZW5hYmxlX3BsbChjb25zdCBzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqY3J0
Y19zdGF0ZSk7Cit2b2lkIHZsdl9lbmFibGVfcGxsKGNvbnN0IHN0cnVjdCBpbnRlbF9jcnRjX3N0
YXRlICpjcnRjX3N0YXRlKTsKK3ZvaWQgY2h2X2VuYWJsZV9wbGwoY29uc3Qgc3RydWN0IGludGVs
X2NydGNfc3RhdGUgKmNydGNfc3RhdGUpOwogdm9pZCB2bHZfZGlzYWJsZV9wbGwoc3RydWN0IGRy
bV9pOTE1X3ByaXZhdGUgKmRldl9wcml2LCBlbnVtIHBpcGUgcGlwZSk7CiB2b2lkIGNodl9kaXNh
YmxlX3BsbChzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYsIGVudW0gcGlwZSBwaXBl
KTsKIHZvaWQgaTl4eF9kaXNhYmxlX3BsbChjb25zdCBzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAq
Y3J0Y19zdGF0ZSk7Ci12b2lkIHZsdl9wcmVwYXJlX3BsbChzdHJ1Y3QgaW50ZWxfY3J0YyAqY3J0
YywKLQkJICAgICBjb25zdCBzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqcGlwZV9jb25maWcpOwot
dm9pZCBjaHZfcHJlcGFyZV9wbGwoc3RydWN0IGludGVsX2NydGMgKmNydGMsCi0JCSAgICAgY29u
c3Qgc3RydWN0IGludGVsX2NydGNfc3RhdGUgKnBpcGVfY29uZmlnKTsKK3ZvaWQgdmx2X3ByZXBh
cmVfcGxsKGNvbnN0IHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpjcnRjX3N0YXRlKTsKK3ZvaWQg
Y2h2X3ByZXBhcmVfcGxsKGNvbnN0IHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpjcnRjX3N0YXRl
KTsKIGJvb2wgYnh0X2ZpbmRfYmVzdF9kcGxsKHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpjcnRj
X3N0YXRlLAogCQkJc3RydWN0IGRwbGwgKmJlc3RfY2xvY2spOwogaW50IGNodl9jYWxjX2RwbGxf
cGFyYW1zKGludCByZWZjbGssIHN0cnVjdCBkcGxsICpwbGxfY2xvY2spOwpkaWZmIC0tZ2l0IGEv
ZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kcnYuaCBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5
MTVfZHJ2LmgKaW5kZXggZGE1ZjIzMGUyZDRiLi4wMmEyYWIwMGE0MDkgMTAwNjQ0Ci0tLSBhL2Ry
aXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZHJ2LmgKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUv
aTkxNV9kcnYuaApAQCAtMzUyLDggKzM1Miw3IEBAIHN0cnVjdCBkcm1faTkxNV9kaXNwbGF5X2Z1
bmNzIHsKIAkJCQlzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqKTsKIAl2b2lkICgqZ2V0X2luaXRp
YWxfcGxhbmVfY29uZmlnKShzdHJ1Y3QgaW50ZWxfY3J0YyAqLAogCQkJCQkgc3RydWN0IGludGVs
X2luaXRpYWxfcGxhbmVfY29uZmlnICopOwotCWludCAoKmNydGNfY29tcHV0ZV9jbG9jaykoc3Ry
dWN0IGludGVsX2NydGMgKmNydGMsCi0JCQkJICBzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqY3J0
Y19zdGF0ZSk7CisJaW50ICgqY3J0Y19jb21wdXRlX2Nsb2NrKShzdHJ1Y3QgaW50ZWxfY3J0Y19z
dGF0ZSAqY3J0Y19zdGF0ZSk7CiAJdm9pZCAoKmNydGNfZW5hYmxlKShzdHJ1Y3QgaW50ZWxfYXRv
bWljX3N0YXRlICpzdGF0ZSwKIAkJCSAgICBzdHJ1Y3QgaW50ZWxfY3J0YyAqY3J0Yyk7CiAJdm9p
ZCAoKmNydGNfZGlzYWJsZSkoc3RydWN0IGludGVsX2F0b21pY19zdGF0ZSAqc3RhdGUsCi0tIAoy
LjMxLjEKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCklu
dGVsLWdmeCBtYWlsaW5nIGxpc3QKSW50ZWwtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRw
czovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2ludGVsLWdmeAo=

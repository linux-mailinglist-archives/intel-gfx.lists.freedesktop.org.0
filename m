Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 5A6B4389D6
	for <lists+intel-gfx@lfdr.de>; Fri,  7 Jun 2019 14:08:59 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 5949A89DBA;
	Fri,  7 Jun 2019 12:08:57 +0000 (UTC)
X-Original-To: Intel-gfx@lists.freedesktop.org
Delivered-To: Intel-gfx@lists.freedesktop.org
Received: from mga02.intel.com (mga02.intel.com [134.134.136.20])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 43A1689DA3
 for <Intel-gfx@lists.freedesktop.org>; Fri,  7 Jun 2019 12:08:51 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from fmsmga007.fm.intel.com ([10.253.24.52])
 by orsmga101.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 07 Jun 2019 05:08:51 -0700
X-ExtLoop1: 1
Received: from ssirotki-mobl3.ger.corp.intel.com (HELO localhost.localdomain)
 ([10.251.93.246])
 by fmsmga007.fm.intel.com with ESMTP; 07 Jun 2019 05:08:49 -0700
From: Tvrtko Ursulin <tvrtko.ursulin@linux.intel.com>
To: Intel-gfx@lists.freedesktop.org
Date: Fri,  7 Jun 2019 13:08:34 +0100
Message-Id: <20190607120838.20514-9-tvrtko.ursulin@linux.intel.com>
X-Mailer: git-send-email 2.20.1
In-Reply-To: <20190607120838.20514-1-tvrtko.ursulin@linux.intel.com>
References: <20190607120838.20514-1-tvrtko.ursulin@linux.intel.com>
MIME-Version: 1.0
Subject: [Intel-gfx] [RFC 08/12] drm/i915: Remove I915_POSTING_READ_FW
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: Jani Nikula <jani.nikula@intel.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

RnJvbTogVHZydGtvIFVyc3VsaW4gPHR2cnRrby51cnN1bGluQGludGVsLmNvbT4KCk9ubHkgYSBm
ZXcgY2FsbCBzaXRlcyByZW1haW4gd2hpY2ggaGF2ZSBiZWVuIGNvbnZlcnRlZCB0byB1bmNvcmUg
bW1pbwphY2Nlc3NvcnMgYW5kIHNvIHRoZSBtYWNybyBjYW4gYmUgcmVtb3ZlZC4KClNpZ25lZC1v
ZmYtYnk6IFR2cnRrbyBVcnN1bGluIDx0dnJ0a28udXJzdWxpbkBpbnRlbC5jb20+Ci0tLQogZHJp
dmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kcnYuaCAgICAgICAgICAgICB8ICAxIC0KIGRyaXZlcnMv
Z3B1L2RybS9pOTE1L2k5MTVfZ2VtLmMgICAgICAgICAgICAgfCAgOSArKystLS0KIGRyaXZlcnMv
Z3B1L2RybS9pOTE1L2k5MTVfaXJxLmMgICAgICAgICAgICAgfCAgMiArLQogZHJpdmVycy9ncHUv
ZHJtL2k5MTUvaW50ZWxfZ3VjX3N1Ym1pc3Npb24uYyB8ICA0ICstLQogZHJpdmVycy9ncHUvZHJt
L2k5MTUvaW50ZWxfcG0uYyAgICAgICAgICAgICB8IDMxICsrKysrKysrKysrLS0tLS0tLS0tLQog
NSBmaWxlcyBjaGFuZ2VkLCAyNCBpbnNlcnRpb25zKCspLCAyMyBkZWxldGlvbnMoLSkKCmRpZmYg
LS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2Rydi5oIGIvZHJpdmVycy9ncHUvZHJt
L2k5MTUvaTkxNV9kcnYuaAppbmRleCAxMzgxNTc5NWUxOTcuLjlkY2VjOTM0MjZkZSAxMDA2NDQK
LS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kcnYuaAorKysgYi9kcml2ZXJzL2dwdS9k
cm0vaTkxNS9pOTE1X2Rydi5oCkBAIC0yODkxLDcgKzI4OTEsNiBAQCBleHRlcm4gdm9pZCBpbnRl
bF9kaXNwbGF5X3ByaW50X2Vycm9yX3N0YXRlKHN0cnVjdCBkcm1faTkxNV9lcnJvcl9zdGF0ZV9i
dWYgKmUsCiAgKi8KICNkZWZpbmUgSTkxNV9SRUFEX0ZXKHJlZ19fKSBfX0k5MTVfUkVHX09QKHJl
YWRfZncsIGRldl9wcml2LCAocmVnX18pKQogI2RlZmluZSBJOTE1X1dSSVRFX0ZXKHJlZ19fLCB2
YWxfXykgX19JOTE1X1JFR19PUCh3cml0ZV9mdywgZGV2X3ByaXYsIChyZWdfXyksICh2YWxfXykp
Ci0jZGVmaW5lIFBPU1RJTkdfUkVBRF9GVyhyZWdfXykgX19JOTE1X1JFR19PUChwb3N0aW5nX3Jl
YWRfZncsIGRldl9wcml2LCAocmVnX18pKQogCiAvKiAiQnJvYWRjYXN0IFJHQiIgcHJvcGVydHkg
Ki8KICNkZWZpbmUgSU5URUxfQlJPQURDQVNUX1JHQl9BVVRPIDAKZGlmZiAtLWdpdCBhL2RyaXZl
cnMvZ3B1L2RybS9pOTE1L2k5MTVfZ2VtLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2dl
bS5jCmluZGV4IDlmMmUyMTNjNjA0Ni4uOTRkODViMGZiODYwIDEwMDY0NAotLS0gYS9kcml2ZXJz
L2dwdS9kcm0vaTkxNS9pOTE1X2dlbS5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVf
Z2VtLmMKQEAgLTI2MywxMSArMjYzLDEyIEBAIHZvaWQgaTkxNV9nZW1fZmx1c2hfZ2d0dF93cml0
ZXMoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2KQogCWk5MTVfZ2VtX2NoaXBzZXRf
Zmx1c2goZGV2X3ByaXYpOwogCiAJd2l0aF9pbnRlbF9ydW50aW1lX3BtKGRldl9wcml2LCB3YWtl
cmVmKSB7Ci0JCXNwaW5fbG9ja19pcnEoJmRldl9wcml2LT51bmNvcmUubG9jayk7CisJCXN0cnVj
dCBpbnRlbF91bmNvcmUgKnVuY29yZSA9ICZkZXZfcHJpdi0+dW5jb3JlOwogCi0JCVBPU1RJTkdf
UkVBRF9GVyhSSU5HX0hFQUQoUkVOREVSX1JJTkdfQkFTRSkpOwotCi0JCXNwaW5fdW5sb2NrX2ly
cSgmZGV2X3ByaXYtPnVuY29yZS5sb2NrKTsKKwkJc3Bpbl9sb2NrX2lycSgmdW5jb3JlLT5sb2Nr
KTsKKwkJaW50ZWxfdW5jb3JlX3Bvc3RpbmdfcmVhZF9mdyh1bmNvcmUsCisJCQkJCSAgICAgUklO
R19IRUFEKFJFTkRFUl9SSU5HX0JBU0UpKTsKKwkJc3Bpbl91bmxvY2tfaXJxKCZ1bmNvcmUtPmxv
Y2spOwogCX0KIH0KIApkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9pcnEu
YyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfaXJxLmMKaW5kZXggY2E4ZjQyMjZlNTk4Li4w
NzYzZmZmZmVhNTMgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfaXJxLmMK
KysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9pcnEuYwpAQCAtMzg2LDcgKzM4Niw3IEBA
IHN0YXRpYyB2b2lkIGlsa191cGRhdGVfZ3RfaXJxKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpk
ZXZfcHJpdiwKIHZvaWQgZ2VuNV9lbmFibGVfZ3RfaXJxKHN0cnVjdCBkcm1faTkxNV9wcml2YXRl
ICpkZXZfcHJpdiwgdTMyIG1hc2spCiB7CiAJaWxrX3VwZGF0ZV9ndF9pcnEoZGV2X3ByaXYsIG1h
c2ssIG1hc2spOwotCVBPU1RJTkdfUkVBRF9GVyhHVElNUik7CisJaW50ZWxfdW5jb3JlX3Bvc3Rp
bmdfcmVhZF9mdygmZGV2X3ByaXYtPnVuY29yZSwgR1RJTVIpOwogfQogCiB2b2lkIGdlbjVfZGlz
YWJsZV9ndF9pcnEoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2LCB1MzIgbWFzaykK
ZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX2d1Y19zdWJtaXNzaW9uLmMg
Yi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9ndWNfc3VibWlzc2lvbi5jCmluZGV4IDg5NTky
ZWY3NzhiOC4uOTdmNjk3MGQ4ZGE4IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9p
bnRlbF9ndWNfc3VibWlzc2lvbi5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX2d1
Y19zdWJtaXNzaW9uLmMKQEAgLTU1NywxMCArNTU3LDEwIEBAIHN0YXRpYyB2b2lkIGd1Y19hZGRf
cmVxdWVzdChzdHJ1Y3QgaW50ZWxfZ3VjICpndWMsIHN0cnVjdCBpOTE1X3JlcXVlc3QgKnJxKQog
ICovCiBzdGF0aWMgdm9pZCBmbHVzaF9nZ3R0X3dyaXRlcyhzdHJ1Y3QgaTkxNV92bWEgKnZtYSkK
IHsKLQlzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYgPSB2bWEtPnZtLT5pOTE1Owor
CXN0cnVjdCBkcm1faTkxNV9wcml2YXRlICppOTE1ID0gdm1hLT52bS0+aTkxNTsKIAogCWlmIChp
OTE1X3ZtYV9pc19tYXBfYW5kX2ZlbmNlYWJsZSh2bWEpKQotCQlQT1NUSU5HX1JFQURfRlcoR1VD
X1NUQVRVUyk7CisJCWludGVsX3VuY29yZV9wb3N0aW5nX3JlYWRfZncoJmk5MTUtPnVuY29yZSwg
R1VDX1NUQVRVUyk7CiB9CiAKIHN0YXRpYyB2b2lkIGluamVjdF9wcmVlbXB0X2NvbnRleHQoc3Ry
dWN0IHdvcmtfc3RydWN0ICp3b3JrKQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUv
aW50ZWxfcG0uYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX3BtLmMKaW5kZXggOTNlNDEx
ZTZhZDE5Li44NDU4OGZmODczMmYgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2lu
dGVsX3BtLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfcG0uYwpAQCAtMTk0OSw2
ICsxOTQ5LDcgQEAgc3RhdGljIHZvaWQgdmx2X2F0b21pY191cGRhdGVfZmlmbyhzdHJ1Y3QgaW50
ZWxfYXRvbWljX3N0YXRlICpzdGF0ZSwKIHsKIAlzdHJ1Y3QgaW50ZWxfY3J0YyAqY3J0YyA9IHRv
X2ludGVsX2NydGMoY3J0Y19zdGF0ZS0+YmFzZS5jcnRjKTsKIAlzdHJ1Y3QgZHJtX2k5MTVfcHJp
dmF0ZSAqZGV2X3ByaXYgPSB0b19pOTE1KGNydGMtPmJhc2UuZGV2KTsKKwlzdHJ1Y3QgaW50ZWxf
dW5jb3JlICp1bmNvcmUgPSAmZGV2X3ByaXYtPnVuY29yZTsKIAljb25zdCBzdHJ1Y3Qgdmx2X2Zp
Zm9fc3RhdGUgKmZpZm9fc3RhdGUgPQogCQkmY3J0Y19zdGF0ZS0+d20udmx2LmZpZm9fc3RhdGU7
CiAJaW50IHNwcml0ZTBfc3RhcnQsIHNwcml0ZTFfc3RhcnQsIGZpZm9fc2l6ZTsKQEAgLTE5NzQs
MTMgKzE5NzUsMTMgQEAgc3RhdGljIHZvaWQgdmx2X2F0b21pY191cGRhdGVfZmlmbyhzdHJ1Y3Qg
aW50ZWxfYXRvbWljX3N0YXRlICpzdGF0ZSwKIAkgKiBpbnRlbF9waXBlX3VwZGF0ZV9zdGFydCgp
IGhhcyBhbHJlYWR5IGRpc2FibGVkIGludGVycnVwdHMKIAkgKiBmb3IgdXMsIHNvIGEgcGxhaW4g
c3Bpbl9sb2NrKCkgaXMgc3VmZmljaWVudCBoZXJlLgogCSAqLwotCXNwaW5fbG9jaygmZGV2X3By
aXYtPnVuY29yZS5sb2NrKTsKKwlzcGluX2xvY2soJnVuY29yZS0+bG9jayk7CiAKIAlzd2l0Y2gg
KGNydGMtPnBpcGUpIHsKIAkJdTMyIGRzcGFyYiwgZHNwYXJiMiwgZHNwYXJiMzsKIAljYXNlIFBJ
UEVfQToKLQkJZHNwYXJiID0gSTkxNV9SRUFEX0ZXKERTUEFSQik7Ci0JCWRzcGFyYjIgPSBJOTE1
X1JFQURfRlcoRFNQQVJCMik7CisJCWRzcGFyYiA9IGludGVsX3VuY29yZV9yZWFkX2Z3KHVuY29y
ZSwgRFNQQVJCKTsKKwkJZHNwYXJiMiA9IGludGVsX3VuY29yZV9yZWFkX2Z3KHVuY29yZSwgRFNQ
QVJCMik7CiAKIAkJZHNwYXJiICY9IH4oVkxWX0ZJRk8oU1BSSVRFQSwgMHhmZikgfAogCQkJICAg
IFZMVl9GSUZPKFNQUklURUIsIDB4ZmYpKTsKQEAgLTE5OTIsMTIgKzE5OTMsMTIgQEAgc3RhdGlj
IHZvaWQgdmx2X2F0b21pY191cGRhdGVfZmlmbyhzdHJ1Y3QgaW50ZWxfYXRvbWljX3N0YXRlICpz
dGF0ZSwKIAkJZHNwYXJiMiB8PSAoVkxWX0ZJRk8oU1BSSVRFQV9ISSwgc3ByaXRlMF9zdGFydCA+
PiA4KSB8CiAJCQkgICBWTFZfRklGTyhTUFJJVEVCX0hJLCBzcHJpdGUxX3N0YXJ0ID4+IDgpKTsK
IAotCQlJOTE1X1dSSVRFX0ZXKERTUEFSQiwgZHNwYXJiKTsKLQkJSTkxNV9XUklURV9GVyhEU1BB
UkIyLCBkc3BhcmIyKTsKKwkJaW50ZWxfdW5jb3JlX3dyaXRlX2Z3KHVuY29yZSwgRFNQQVJCLCBk
c3BhcmIpOworCQlpbnRlbF91bmNvcmVfd3JpdGVfZncodW5jb3JlLCBEU1BBUkIyLCBkc3BhcmIy
KTsKIAkJYnJlYWs7CiAJY2FzZSBQSVBFX0I6Ci0JCWRzcGFyYiA9IEk5MTVfUkVBRF9GVyhEU1BB
UkIpOwotCQlkc3BhcmIyID0gSTkxNV9SRUFEX0ZXKERTUEFSQjIpOworCQlkc3BhcmIgPSBpbnRl
bF91bmNvcmVfcmVhZF9mdyh1bmNvcmUsIERTUEFSQik7CisJCWRzcGFyYjIgPSBpbnRlbF91bmNv
cmVfcmVhZF9mdyh1bmNvcmUsIERTUEFSQjIpOwogCiAJCWRzcGFyYiAmPSB+KFZMVl9GSUZPKFNQ
UklURUMsIDB4ZmYpIHwKIAkJCSAgICBWTFZfRklGTyhTUFJJVEVELCAweGZmKSk7CkBAIC0yMDA5
LDEyICsyMDEwLDEyIEBAIHN0YXRpYyB2b2lkIHZsdl9hdG9taWNfdXBkYXRlX2ZpZm8oc3RydWN0
IGludGVsX2F0b21pY19zdGF0ZSAqc3RhdGUsCiAJCWRzcGFyYjIgfD0gKFZMVl9GSUZPKFNQUklU
RUNfSEksIHNwcml0ZTBfc3RhcnQgPj4gOCkgfAogCQkJICAgVkxWX0ZJRk8oU1BSSVRFRF9ISSwg
c3ByaXRlMV9zdGFydCA+PiA4KSk7CiAKLQkJSTkxNV9XUklURV9GVyhEU1BBUkIsIGRzcGFyYik7
Ci0JCUk5MTVfV1JJVEVfRlcoRFNQQVJCMiwgZHNwYXJiMik7CisJCWludGVsX3VuY29yZV93cml0
ZV9mdyh1bmNvcmUsIERTUEFSQiwgZHNwYXJiKTsKKwkJaW50ZWxfdW5jb3JlX3dyaXRlX2Z3KHVu
Y29yZSwgRFNQQVJCMiwgZHNwYXJiMik7CiAJCWJyZWFrOwogCWNhc2UgUElQRV9DOgotCQlkc3Bh
cmIzID0gSTkxNV9SRUFEX0ZXKERTUEFSQjMpOwotCQlkc3BhcmIyID0gSTkxNV9SRUFEX0ZXKERT
UEFSQjIpOworCQlkc3BhcmIzID0gaW50ZWxfdW5jb3JlX3JlYWRfZncodW5jb3JlLCBEU1BBUkIz
KTsKKwkJZHNwYXJiMiA9IGludGVsX3VuY29yZV9yZWFkX2Z3KHVuY29yZSwgRFNQQVJCMik7CiAK
IAkJZHNwYXJiMyAmPSB+KFZMVl9GSUZPKFNQUklURUUsIDB4ZmYpIHwKIAkJCSAgICAgVkxWX0ZJ
Rk8oU1BSSVRFRiwgMHhmZikpOwpAQCAtMjAyNiwxNiArMjAyNywxNiBAQCBzdGF0aWMgdm9pZCB2
bHZfYXRvbWljX3VwZGF0ZV9maWZvKHN0cnVjdCBpbnRlbF9hdG9taWNfc3RhdGUgKnN0YXRlLAog
CQlkc3BhcmIyIHw9IChWTFZfRklGTyhTUFJJVEVFX0hJLCBzcHJpdGUwX3N0YXJ0ID4+IDgpIHwK
IAkJCSAgIFZMVl9GSUZPKFNQUklURUZfSEksIHNwcml0ZTFfc3RhcnQgPj4gOCkpOwogCi0JCUk5
MTVfV1JJVEVfRlcoRFNQQVJCMywgZHNwYXJiMyk7Ci0JCUk5MTVfV1JJVEVfRlcoRFNQQVJCMiwg
ZHNwYXJiMik7CisJCWludGVsX3VuY29yZV93cml0ZV9mdyh1bmNvcmUsIERTUEFSQjMsIGRzcGFy
YjMpOworCQlpbnRlbF91bmNvcmVfd3JpdGVfZncodW5jb3JlLCBEU1BBUkIyLCBkc3BhcmIyKTsK
IAkJYnJlYWs7CiAJZGVmYXVsdDoKIAkJYnJlYWs7CiAJfQogCi0JUE9TVElOR19SRUFEX0ZXKERT
UEFSQik7CisJaW50ZWxfdW5jb3JlX3Bvc3RpbmdfcmVhZF9mdyh1bmNvcmUsIERTUEFSQik7CiAK
LQlzcGluX3VubG9jaygmZGV2X3ByaXYtPnVuY29yZS5sb2NrKTsKKwlzcGluX3VubG9jaygmdW5j
b3JlLT5sb2NrKTsKIH0KIAogI3VuZGVmIFZMVl9GSUZPCi0tIAoyLjIwLjEKCl9fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCkludGVsLWdmeCBtYWlsaW5nIGxp
c3QKSW50ZWwtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNr
dG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2ludGVsLWdmeA==

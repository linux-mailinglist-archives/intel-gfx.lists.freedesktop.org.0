Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id BB09A72B55
	for <lists+intel-gfx@lfdr.de>; Wed, 24 Jul 2019 11:27:47 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 779C86E4CD;
	Wed, 24 Jul 2019 09:27:45 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from fireflyinternet.com (mail.fireflyinternet.com [109.228.58.192])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 36E3B6E4CD
 for <intel-gfx@lists.freedesktop.org>; Wed, 24 Jul 2019 09:27:44 +0000 (UTC)
X-Default-Received-SPF: pass (skip=forwardok (res=PASS))
 x-ip-name=78.156.65.138; 
Received: from localhost (unverified [78.156.65.138]) 
 by fireflyinternet.com (Firefly Internet (M1)) with ESMTP (TLS) id
 17559495-1500050 for multiple; Wed, 24 Jul 2019 10:27:40 +0100
MIME-Version: 1.0
From: Chris Wilson <chris@chris-wilson.co.uk>
User-Agent: alot/0.6
To: Tvrtko Ursulin <tvrtko.ursulin@linux.intel.com>,
 intel-gfx@lists.freedesktop.org
References: <20190723183842.20372-1-chris@chris-wilson.co.uk>
 <47e0d7f4-71ac-ebb4-41b6-76a71fe59156@linux.intel.com>
In-Reply-To: <47e0d7f4-71ac-ebb4-41b6-76a71fe59156@linux.intel.com>
Message-ID: <156396045850.31349.7075365521794770626@skylake-alporthouse-com>
Date: Wed, 24 Jul 2019 10:27:38 +0100
Subject: Re: [Intel-gfx] [PATCH 01/23] drm/i915: Move aliasing_ppgtt
 underneath its i915_ggtt
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

UXVvdGluZyBUdnJ0a28gVXJzdWxpbiAoMjAxOS0wNy0yNCAwOTo1NjozNCkKPiAKPiBPbiAyMy8w
Ny8yMDE5IDE5OjM4LCBDaHJpcyBXaWxzb24gd3JvdGU6Cj4gPiBUaGUgYWxpYXNpbmdfcHBndHQg
cHJvdmlkZXMgYSBQSU5fVVNFUiBhbGlhcyBmb3IgdGhlIGdsb2JhbCBndHQsIHNvIG1vdmUKPiA+
IGl0IHVuZGVyIHRoZSBpOTE1X2dndHQgdG8gc2ltcGxpZnkgbGF0ZXIgdHJhbnNmb3JtYXRpb25z
IHRvIGVuYWJsZQo+ID4gaW50ZWxfY29udGV4dC52bS4KPiAKPiBDYW4geW91IHBpbiBwb2ludCB3
aGF0IGV4YWN0bHkgaXQgbWFrZXMgZWFzaWVyIGluIHRoZSBmb2xsb3dpbmcgcGF0Y2g/IAo+IEp1
c3QgdGhlIF9fY29udGV4dF9waW5fcHBndHQgY2hhbmdlPyBJIGhhdmUgcmVzZXJ2YXRpb25zIGFi
b3V0IGdndHQgCj4gZW1iZWRkaW5nIGFsaWFzaW5nIHBwZ3R0LiBCdXQgSSBndWVzcyBpdCBpcyBo
YW5keSBmb3Igc29tZSB1c2FnZXMuCgpUaGUgYWxpYXNpbmdfZ2d0dCBpcyBhbiBhZGp1bmN0IG9m
IGk5MTVfZ2d0dC4gQ29uY2VwdHVhbGx5LCB3ZSByZXBsYWNlCnRoZSBnZ3R0IHdpdGggb25lIHRo
YXQgaGFzIGJvdGggZ2xvYmFsIGFuZCB1c2VyIHRyYWNraW5nIHdpdGggYSByZXNlcnZlZApzbGlj
ZSBmb3IgdGhlIGFsaWFzaW5nIHBkLiBJdCBzaG91bGQgYmUgYSBmdW5jdGlvbiBvZiBndCBub3Qg
bW0sIGFuZCBpdApwdXJlbHkgYW4gZXh0ZW5zaW9uIG9mIG91ciBnZ3R0LgoKRm9yIGFsaWFzaW5n
IFtnZW42XSB1c2VyIGNvbnRleHRzLCBvdXIgYWRkcmVzcyBzcGFjZSByZWZlcnMgdG8gdGhlCmk5
MTVfZ2d0dCwgYnV0IHdlIG11c3Qgd3JpdGUgb3VyIGVudHJpZXMgKGZvciB0aGUgbW9zdCBwYXJ0
KSBpbnRvIHRoZQphbGlhcy4gSGF2aW5nIGNlLT52bSBhbHdheXMgcG9pbnRpbmcgdG8gdGhlIGNv
cnJlY3QgZ3R0IGhhcyBiZWVuIGhpZ2ggb24KdGhlIHdpc2ggbGlzdCBmb3IgYWJvdXQgNiB5ZWFy
cywgaXQganVzdCBuZXZlciBmZWxsIGludG8gcGxhY2UuIFRoaXMgSQpmZWVsIGlzIHRoZSBtaXNz
aW5nIGxpbmsuCgo+ID4gK3N0YXRpYyBzdHJ1Y3QgaTkxNV9hZGRyZXNzX3NwYWNlICp2bV9hbGlh
cyhzdHJ1Y3QgaW50ZWxfY29udGV4dCAqY2UpCj4gPiArewo+ID4gKyAgICAgc3RydWN0IGk5MTVf
YWRkcmVzc19zcGFjZSAqdm07Cj4gPiArCj4gPiArICAgICB2bSA9IGNlLT5nZW1fY29udGV4dC0+
dm07Cj4gPiArICAgICBpZiAoIXZtKQo+ID4gKyAgICAgICAgICAgICB2bSA9ICZjZS0+ZW5naW5l
LT5ndC0+Z2d0dC0+YWxpYXMtPnZtOwo+ID4gKwo+ID4gKyAgICAgcmV0dXJuIHZtOwo+IAo+IHZt
X29yX2FsaWFzPyBTdGlsbCBub3QgZ29vZC4uIGdldF92bSBtaWdodCBwYXNzIHNpbmNlIGl0IGlz
IGxvY2FsPwoKdm0gaXMgYSBwZXJmZWN0bHkgYWNjZXB0YWJsZSBhbGlhcyBmb3IgaXRzZWxmLiBJ
IHByZWZlciB2bV9hbGlhcygpIGFzIEkKdGhpbmsgaXQgbWFrZXMgaXQgY2xlYXJlciB0aGF0IHdl
IGFyZSBwcmluY2lwYWxseSBjb25jZXJuZWQgd2l0aCB0aGUKUElOX1VTRVIgYXNwZWN0IG9mIHRo
ZSBndHQuCgo+ID4gK30KPiA+ICsKPiA+ICtzdGF0aWMgaW50IF9fY29udGV4dF9waW5fcHBndHQo
c3RydWN0IGludGVsX2NvbnRleHQgKmNlKQo+ID4gICB7Cj4gPiAgICAgICBzdHJ1Y3QgaTkxNV9h
ZGRyZXNzX3NwYWNlICp2bTsKPiA+ICAgICAgIGludCBlcnIgPSAwOwo+ID4gICAKPiA+IC0gICAg
IHZtID0gY3R4LT52bSA/OiAmY3R4LT5pOTE1LT5tbS5hbGlhc2luZ19wcGd0dC0+dm07Cj4gPiAr
ICAgICB2bSA9IHZtX2FsaWFzKGNlKTsKPiA+ICAgICAgIGlmICh2bSkKPiAKPiBDYW4ndCByZXR1
cm4gTlVMTCBpdCBzZWVtcy4gKFNhbWUgYmVsb3cuKQoKQXJlIHlvdSBzbyBzdXJlPwoKY2UtPmdl
bV9jb250ZXh0LT52bSBpcyBvbmx5ICFOVUxMIGlmIHRoZXJlIGlzIGEgZnVsbC1wcGd0dAomZ2d0
dC0+YWxpYXMtPnZtIGlzIG9ubHkgIU5VTEwgaWYgdGhlcmUgaXMgYW4gYWxpYXNpbmctcHBndHQK
ClRoZXJlIG1heSBiZSBjb250ZXh0cyB3aXRoIG5laXRoZXIgKGdlbjQsIGdlbjUpLgoKPiA+IEBA
IC0xNzAxLDcgKzE3MTIsNyBAQCBzdGF0aWMgaW5saW5lIGludCBtaV9zZXRfY29udGV4dChzdHJ1
Y3QgaTkxNV9yZXF1ZXN0ICpycSwgdTMyIGZsYWdzKQo+ID4gICAgICAgcmV0dXJuIDA7Cj4gPiAg
IH0KPiA+ICAgCj4gPiAtc3RhdGljIGludCByZW1hcF9sMyhzdHJ1Y3QgaTkxNV9yZXF1ZXN0ICpy
cSwgaW50IHNsaWNlKQo+ID4gK3N0YXRpYyBpbnQgcmVtYXBfbDNfc2xpY2Uoc3RydWN0IGk5MTVf
cmVxdWVzdCAqcnEsIGludCBzbGljZSkKPiA+ICAgewo+ID4gICAgICAgdTMyICpjcywgKnJlbWFw
X2luZm8gPSBycS0+aTkxNS0+bDNfcGFyaXR5LnJlbWFwX2luZm9bc2xpY2VdOwo+ID4gICAgICAg
aW50IGk7Cj4gPiBAQCAtMTcyOSwxNSArMTc0MCwzNCBAQCBzdGF0aWMgaW50IHJlbWFwX2wzKHN0
cnVjdCBpOTE1X3JlcXVlc3QgKnJxLCBpbnQgc2xpY2UpCj4gPiAgICAgICByZXR1cm4gMDsKPiA+
ICAgfQo+ID4gICAKPiA+ICtzdGF0aWMgaW50IHJlbWFwX2wzKHN0cnVjdCBpOTE1X3JlcXVlc3Qg
KnJxKQo+ID4gK3sKPiA+ICsgICAgIHN0cnVjdCBpOTE1X2dlbV9jb250ZXh0ICpjdHggPSBycS0+
Z2VtX2NvbnRleHQ7Cj4gPiArICAgICBpbnQgaSwgZXJyOwo+ID4gKwo+ID4gKyAgICAgaWYgKCFj
dHgtPnJlbWFwX3NsaWNlKQo+ID4gKyAgICAgICAgICAgICByZXR1cm4gMDsKPiA+ICsKPiA+ICsg
ICAgIGZvciAoaSA9IDA7IGkgPCBNQVhfTDNfU0xJQ0VTOyBpKyspIHsKPiAKPiBlcnIgZGVjbGFy
YXRpb24gY291bGQgZ28gaGVyZSBidXQgbWVoLi4KPiAKPiA+ICsgICAgICAgICAgICAgaWYgKCEo
Y3R4LT5yZW1hcF9zbGljZSAmIEJJVChpKSkpCj4gPiArICAgICAgICAgICAgICAgICAgICAgY29u
dGludWU7Cj4gPiArCj4gPiArICAgICAgICAgICAgIGVyciA9IHJlbWFwX2wzX3NsaWNlKHJxLCBp
KTsKPiA+ICsgICAgICAgICAgICAgaWYgKGVycikKPiA+ICsgICAgICAgICAgICAgICAgICAgICBy
ZXR1cm4gZXJyOwo+IAo+IC4uLiBvciBjb3VsZCBzdGF5IGF0IHRvcCBhbmQgaGVyZSB5b3UgYnJl
YWsgYW5kIHJldHVybiBlcnIgYXQgdGhlIGVuZC4gCj4gTW9yZSBtZWguIERlcGVuZGluZyB3aGV0
aGVyIGl0IGlzIGltcG9ydGFudCBvciBub3QgdG8gY2xlYXIgCj4gY3R4LT5yZW1hcF9zbGljZSBv
biBlcnJvci4KCldlIGRvbid0IHdhbnQgdG8gY2xlYXIgcmVtYXBfc2xpY2Ugb24gZXJyb3IgYXMg
d2UgaGF2ZW4ndCBhcHBsaWVkIGl0IGFuZApzaG91bGQgdHJ5IGFnYWluIG9uIHRoZSBuZXh0IGF0
dGVtcHRlZCByZXF1ZXN0LgoKPiA+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9p
OTE1X2dlbV9ndHQuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZ2VtX2d0dC5jCj4gPiBp
bmRleCA0ZGQxZmE5NTYxNDMuLjgzMDRiOThiMGJmOCAxMDA2NDQKPiA+IC0tLSBhL2RyaXZlcnMv
Z3B1L2RybS9pOTE1L2k5MTVfZ2VtX2d0dC5jCj4gPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkx
NS9pOTE1X2dlbV9ndHQuYwo+ID4gQEAgLTI0NDYsMTggKzI0NDYsMTggQEAgc3RhdGljIGludCBh
bGlhc2luZ19ndHRfYmluZF92bWEoc3RydWN0IGk5MTVfdm1hICp2bWEsCj4gPiAgICAgICAgICAg
ICAgIHB0ZV9mbGFncyB8PSBQVEVfUkVBRF9PTkxZOwo+ID4gICAKPiA+ICAgICAgIGlmIChmbGFn
cyAmIEk5MTVfVk1BX0xPQ0FMX0JJTkQpIHsKPiA+IC0gICAgICAgICAgICAgc3RydWN0IGk5MTVf
cHBndHQgKmFwcGd0dCA9IGk5MTUtPm1tLmFsaWFzaW5nX3BwZ3R0Owo+ID4gKyAgICAgICAgICAg
ICBzdHJ1Y3QgaTkxNV9wcGd0dCAqYWxpYXMgPSBpOTE1X3ZtX3RvX2dndHQodm1hLT52bSktPmFs
aWFzOwo+IAo+IEtlZXBpbmcgdGhlIHZhcmlhYmxlIG5hbWUgd291bGQgaGF2ZSByZWR1Y2VkIHRo
ZSBjaHVybi4KCkkgd2VudCBmb3IgY29uc2lzdGVuY3kgd2l0aCB0aGUgbW9yZSBzdWNjaW5jdCBu
YW1lLgotQ2hyaXMKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X18KSW50ZWwtZ2Z4IG1haWxpbmcgbGlzdApJbnRlbC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3Jn
Cmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vaW50ZWwtZ2Z4

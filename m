Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id F3841217A2
	for <lists+intel-gfx@lfdr.de>; Fri, 17 May 2019 13:25:35 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 8F6F389483;
	Fri, 17 May 2019 11:25:33 +0000 (UTC)
X-Original-To: Intel-gfx@lists.freedesktop.org
Delivered-To: Intel-gfx@lists.freedesktop.org
Received: from mga04.intel.com (mga04.intel.com [192.55.52.120])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 43D17891C1;
 Fri, 17 May 2019 11:25:31 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from fmsmga005.fm.intel.com ([10.253.24.32])
 by fmsmga104.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 17 May 2019 04:25:31 -0700
X-ExtLoop1: 1
Received: from kmarenda-mobl2.ger.corp.intel.com (HELO localhost.localdomain)
 ([10.252.11.159])
 by fmsmga005.fm.intel.com with ESMTP; 17 May 2019 04:25:30 -0700
From: Tvrtko Ursulin <tvrtko.ursulin@linux.intel.com>
To: igt-dev@lists.freedesktop.org
Date: Fri, 17 May 2019 12:25:02 +0100
Message-Id: <20190517112526.6738-2-tvrtko.ursulin@linux.intel.com>
X-Mailer: git-send-email 2.20.1
In-Reply-To: <20190517112526.6738-1-tvrtko.ursulin@linux.intel.com>
References: <20190517112526.6738-1-tvrtko.ursulin@linux.intel.com>
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH i-g-t 01/25] scripts/trace.pl: Fix after
 intel_engine_notify removal
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: Intel-gfx@lists.freedesktop.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

RnJvbTogVHZydGtvIFVyc3VsaW4gPHR2cnRrby51cnN1bGluQGludGVsLmNvbT4KCkFmdGVyIHRo
ZSByZW1vdmFsIG9mIGVuZ2luZSBnbG9iYWwgc2Vxbm9zIGFuZCB0aGUgY29ycmVzcG9uZGluZwpp
bnRlbF9lbmdpbmVfbm90aWZ5IHRyYWNlcG9pbnRzIHRoZSBzY3JpcHQgbmVlZHMgdG8gYmUgYWRq
dXN0ZWQgdG8gY29wZQp3aXRoIHRoZSBuZXcgc3RhdGUgb2YgdGhpbmdzLgoKVG8ga2VlcCB3b3Jr
aW5nIGl0IHN3aXRjaGVzIG92ZXIgdXNpbmcgdGhlIGRtYV9mZW5jZTpkbWFfZmVuY2Vfc2lnbmFs
ZWQ6CnRyYWNlcG9pbnQgYW5kIGtlZXBzIG9uZSBleHRyYSBpbnRlcm5hbCBtYXAgdG8gY29ubmVj
dCB0aGUgY3R4LXNlcW5vIHBhaXJzCndpdGggZW5naW5lcy4KCkl0IGFsc28gbmVlZHMgdG8ga2V5
IHRoZSBjb21wbGV0aW9uIGV2ZW50cyBvbiB0aGUgZnVsbCBlbmdpbmUvY3R4L3NlcW5vCnRva2Vu
cywgYW5kIGFkanVzdCBjb3JyZXNwb25kaW5nbHkgdGhlIHRpbWVsaW5lIHNvcnRpbmcgbG9naWMu
Cgp2MjoKICogRG8gbm90IHVzZSBsYXRlIG5vdGlmaWNhdGlvbnMgKHJlY2VpdmVkIGFmdGVyIGNv
bnRleHQgY29tcGxldGUpIHdoZW4KICAgc3BsaXR0aW5nIHVwIGNvYWxlc2NlZCByZXF1ZXN0cy4g
VGhleSBhcmUgbm93IG11Y2ggbW9yZSBsaWtlbHkgYW5kIGNhbgogICBub3QgYmUgdXNlZC4KCnYz
OgogKiBQdWxsIGEgaHVuayB3aGljaCBtb3ZlZCBmb3J3YXJkIGR1cmluZyByZWJhc2VzIGJhY2sg
aGVyZS4KClNpZ25lZC1vZmYtYnk6IFR2cnRrbyBVcnN1bGluIDx0dnJ0a28udXJzdWxpbkBpbnRl
bC5jb20+ClJldmlld2VkLWJ5OiBDaHJpcyBXaWxzb24gPGNocmlzQGNocmlzLXdpbHNvbi5jby51
az4KLS0tCiBzY3JpcHRzL3RyYWNlLnBsIHwgNjYgKysrKysrKysrKysrKysrKysrKysrKy0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAxIGZpbGUgY2hhbmdlZCwgMzAgaW5zZXJ0aW9ucygrKSwg
MzYgZGVsZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEvc2NyaXB0cy90cmFjZS5wbCBiL3NjcmlwdHMv
dHJhY2UucGwKaW5kZXggMThmOWYzYjE4Mzk2Li5iN2JiYWJjNzlmNjggMTAwNzU1Ci0tLSBhL3Nj
cmlwdHMvdHJhY2UucGwKKysrIGIvc2NyaXB0cy90cmFjZS5wbApAQCAtMjcsNyArMjcsOCBAQCB1
c2Ugd2FybmluZ3M7CiB1c2UgNS4wMTA7CiAKIG15ICRnaWQgPSAwOwotbXkgKCVkYiwgJXF1ZXVl
LCAlc3VibWl0LCAlbm90aWZ5LCAlcmluZ3MsICVjdHhkYiwgJXJpbmdtYXAsICVyZXF3YWl0LCAl
Y3R4dGltZWxpbmVzKTsKK215ICglZGIsICVxdWV1ZSwgJXN1Ym1pdCwgJW5vdGlmeSwgJXJpbmdz
LCAlY3R4ZGIsICVyaW5nbWFwLCAlcmVxd2FpdCwKKyAgICAlY3R4dGltZWxpbmVzLCAlY3R4ZW5n
aW5lcyk7CiBteSBAZnJlcXM7CiAKIG15ICRtYXhfaXRlbXMgPSAzMDAwOwpAQCAtNjYsNyArNjcs
NyBAQCBOb3RlczoKIAkJCSAgICAgICBpOTE1Omk5MTVfcmVxdWVzdF9zdWJtaXQsIFwKIAkJCSAg
ICAgICBpOTE1Omk5MTVfcmVxdWVzdF9pbiwgXAogCQkJICAgICAgIGk5MTU6aTkxNV9yZXF1ZXN0
X291dCwgXAotCQkJICAgICAgIGk5MTU6aW50ZWxfZW5naW5lX25vdGlmeSwgXAorCQkJICAgICAg
IGRtYV9mZW5jZTpkbWFfZmVuY2Vfc2lnbmFsZWQsIFwKIAkJCSAgICAgICBpOTE1Omk5MTVfcmVx
dWVzdF93YWl0X2JlZ2luLCBcCiAJCQkgICAgICAgaTkxNTppOTE1X3JlcXVlc3Rfd2FpdF9lbmQg
XAogCQkJICAgICAgIFtjb21tYW5kLXRvLWJlLXByb2ZpbGVkXQpAQCAtMTYxLDcgKzE2Miw3IEBA
IHN1YiBhcmdfdHJhY2UKIAkJICAgICAgICdpOTE1Omk5MTVfcmVxdWVzdF9zdWJtaXQnLAogCQkg
ICAgICAgJ2k5MTU6aTkxNV9yZXF1ZXN0X2luJywKIAkJICAgICAgICdpOTE1Omk5MTVfcmVxdWVz
dF9vdXQnLAotCQkgICAgICAgJ2k5MTU6aW50ZWxfZW5naW5lX25vdGlmeScsCisJCSAgICAgICAn
ZG1hX2ZlbmNlOmRtYV9mZW5jZV9zaWduYWxlZCcsCiAJCSAgICAgICAnaTkxNTppOTE1X3JlcXVl
c3Rfd2FpdF9iZWdpbicsCiAJCSAgICAgICAnaTkxNTppOTE1X3JlcXVlc3Rfd2FpdF9lbmQnICk7
CiAKQEAgLTMxMiwxMyArMzEzLDYgQEAgc3ViIGRiX2tleQogCXJldHVybiAkcmluZyAuICcvJyAu
ICRjdHggLiAnLycgLiAkc2Vxbm87CiB9CiAKLXN1YiBnbG9iYWxfa2V5Ci17Ci0JbXkgKCRyaW5n
LCAkc2Vxbm8pID0gQF87Ci0KLQlyZXR1cm4gJHJpbmcgLiAnLycgLiAkc2Vxbm87Ci19Ci0KIHN1
YiBzYW5pdGl6ZV9jdHgKIHsKIAlteSAoJGN0eCwgJHJpbmcpID0gQF87CkBAIC00MTksNiArNDEz
LDggQEAgd2hpbGUgKDw+KSB7CiAJCSRyZXF7J3JpbmcnfSA9ICRyaW5nOwogCQkkcmVxeydzZXFu
byd9ID0gJHNlcW5vOwogCQkkcmVxeydjdHgnfSA9ICRjdHg7CisJCWRpZSBpZiBleGlzdHMgJGN0
eGVuZ2luZXN7JGN0eH0gYW5kICRjdHhlbmdpbmVzeyRjdHh9IG5lICRyaW5nOworCQkkY3R4ZW5n
aW5lc3skY3R4fSA9ICRyaW5nOwogCQkkY3R4dGltZWxpbmVzeyRjdHggLiAnLycgLiAkcmluZ30g
PSAxOwogCQkkcmVxeyduYW1lJ30gPSAkY3R4IC4gJy8nIC4gJHNlcW5vOwogCQkkcmVxeydnbG9i
YWwnfSA9ICR0cHsnZ2xvYmFsJ307CkBAIC00MjksMTYgKzQyNSwyMyBAQCB3aGlsZSAoPD4pIHsK
IAkJJHJpbmdtYXB7JHJpbmdzeyRyaW5nfX0gPSAkcmluZzsKIAkJJGRieyRrZXl9ID0gXCVyZXE7
CiAJfSBlbHNpZiAoJHRwX25hbWUgZXEgJ2k5MTU6aTkxNV9yZXF1ZXN0X291dDonKSB7Ci0JCW15
ICRna2V5ID0gZ2xvYmFsX2tleSgkcmluZywgJHRweydnbG9iYWwnfSk7CisJCW15ICRna2V5Owog
CisJCWRpZSB1bmxlc3MgZXhpc3RzICRjdHhlbmdpbmVzeyRjdHh9OwogCQlkaWUgdW5sZXNzIGV4
aXN0cyAkZGJ7JGtleX07CiAJCWRpZSB1bmxlc3MgZXhpc3RzICRkYnska2V5fS0+eydzdGFydCd9
OwogCQlkaWUgaWYgZXhpc3RzICRkYnska2V5fS0+eydlbmQnfTsKIAorCQkkZ2tleSA9IGRiX2tl
eSgkY3R4ZW5naW5lc3skY3R4fSwgJGN0eCwgJHNlcW5vKTsKKwogCQkkZGJ7JGtleX0tPnsnZW5k
J30gPSAkdGltZTsKIAkJJGRieyRrZXl9LT57J25vdGlmeSd9ID0gJG5vdGlmeXskZ2tleX0gaWYg
ZXhpc3RzICRub3RpZnl7JGdrZXl9OwotCX0gZWxzaWYgKCR0cF9uYW1lIGVxICdpOTE1OmludGVs
X2VuZ2luZV9ub3RpZnk6JykgewotCQlteSAkZ2tleSA9IGdsb2JhbF9rZXkoJHJpbmcsICRzZXFu
byk7CisJfSBlbHNpZiAoJHRwX25hbWUgZXEgJ2RtYV9mZW5jZTpkbWFfZmVuY2Vfc2lnbmFsZWQ6
JykgeworCQlteSAkZ2tleTsKKworCQlkaWUgdW5sZXNzIGV4aXN0cyAkY3R4ZW5naW5lc3skdHB7
J2NvbnRleHQnfX07CisKKwkJJGdrZXkgPSBkYl9rZXkoJGN0eGVuZ2luZXN7JHRweydjb250ZXh0
J319LCAkdHB7J2NvbnRleHQnfSwgJHRweydzZXFubyd9KTsKIAogCQkkbm90aWZ5eyRna2V5fSA9
ICR0aW1lIHVubGVzcyBleGlzdHMgJG5vdGlmeXskZ2tleX07CiAJfSBlbHNpZiAoJHRwX25hbWUg
ZXEgJ2k5MTU6aW50ZWxfZ3B1X2ZyZXFfY2hhbmdlOicpIHsKQEAgLTQ1Miw3ICs0NTUsNyBAQCB3
aGlsZSAoPD4pIHsKICMgZmluZCB0aGUgbGFyZ2VzdCBzZXFubyB0byBiZSB1c2VkIGZvciB0aW1l
bGluZSBzb3J0aW5nIHB1cnBvc2VzLgogbXkgJG1heF9zZXFubyA9IDA7CiBmb3JlYWNoIG15ICRr
ZXkgKGtleXMgJWRiKSB7Ci0JbXkgJGdrZXkgPSBnbG9iYWxfa2V5KCRkYnska2V5fS0+eydyaW5n
J30sICRkYnska2V5fS0+eydnbG9iYWwnfSk7CisJbXkgJGdrZXkgPSBkYl9rZXkoJGRieyRrZXl9
LT57J3JpbmcnfSwgJGRieyRrZXl9LT57J2N0eCd9LCAkZGJ7JGtleX0tPnsnc2Vxbm8nfSk7CiAK
IAlkaWUgdW5sZXNzIGV4aXN0cyAkZGJ7JGtleX0tPnsnc3RhcnQnfTsKIApAQCAtNDc4LDE0ICs0
ODEsMTMgQEAgbXkgJGtleV9jb3VudCA9IHNjYWxhcihrZXlzICVkYik7CiAKIG15ICVlbmdpbmVf
dGltZWxpbmVzOwogCi1zdWIgc29ydEVuZ2luZSB7Ci0JbXkgJGFzID0gJGRieyRhfS0+eydnbG9i
YWwnfTsKLQlteSAkYnMgPSAkZGJ7JGJ9LT57J2dsb2JhbCd9Oworc3ViIHNvcnRTdGFydCB7CisJ
bXkgJGFzID0gJGRieyRhfS0+eydzdGFydCd9OworCW15ICRicyA9ICRkYnskYn0tPnsnc3RhcnQn
fTsKIAlteSAkdmFsOwogCiAJJHZhbCA9ICRhcyA8PT4gJGJzOwotCi0JZGllIGlmICR2YWwgPT0g
MDsKKwkkdmFsID0gJGEgY21wICRiIGlmICR2YWwgPT0gMDsKIAogCXJldHVybiAkdmFsOwogfQpA
QCAtNDk3LDkgKzQ5OSw3IEBAIHN1YiBnZXRfZW5naW5lX3RpbWVsaW5lIHsKIAlyZXR1cm4gJGVu
Z2luZV90aW1lbGluZXN7JHJpbmd9IGlmIGV4aXN0cyAkZW5naW5lX3RpbWVsaW5lc3skcmluZ307
CiAKIAlAdGltZWxpbmUgPSBncmVwIHsgJGRieyRffS0+eydyaW5nJ30gZXEgJHJpbmcgfSBrZXlz
ICVkYjsKLQkjIEZJWE1FIHNlcW5vIHJlc3RhcnQKLQlAdGltZWxpbmUgPSBzb3J0IHNvcnRFbmdp
bmUgQHRpbWVsaW5lOwotCisJQHRpbWVsaW5lID0gc29ydCBzb3J0U3RhcnQgQHRpbWVsaW5lOwog
CSRlbmdpbmVfdGltZWxpbmVzeyRyaW5nfSA9IFxAdGltZWxpbmU7CiAKIAlyZXR1cm4gXEB0aW1l
bGluZTsKQEAgLTU2MSwyMCArNTYxLDEwIEBAIGZvcmVhY2ggbXkgJGdpZCAoc29ydCBrZXlzICVy
aW5ncykgewogCQkJJGRieyRrZXl9LT57J25vLW5vdGlmeSd9ID0gMTsKIAkJfQogCQkkZGJ7JGtl
eX0tPnsnZW5kJ30gPSAkZW5kOworCQkkZGJ7JGtleX0tPnsnbm90aWZ5J30gPSAkZW5kIGlmICRk
Ynska2V5fS0+eydub3RpZnknfSA+ICRlbmQ7CiAJfQogfQogCi1zdWIgc29ydFN0YXJ0IHsKLQlt
eSAkYXMgPSAkZGJ7JGF9LT57J3N0YXJ0J307Ci0JbXkgJGJzID0gJGRieyRifS0+eydzdGFydCd9
OwotCW15ICR2YWw7Ci0KLQkkdmFsID0gJGFzIDw9PiAkYnM7Ci0JJHZhbCA9ICRhIGNtcCAkYiBp
ZiAkdmFsID09IDA7Ci0KLQlyZXR1cm4gJHZhbDsKLX0KLQogbXkgJHJlX3NvcnQgPSAxOwogbXkg
QHNvcnRlZF9rZXlzOwogCkBAIC02NzAsOSArNjYwLDEzIEBAIGlmICgkY29ycmVjdF9kdXJhdGlv
bnMpIHsKIAkJCW5leHQgdW5sZXNzIGV4aXN0cyAkZGJ7JGtleX0tPnsnbm8tZW5kJ307CiAJCQls
YXN0IGlmICRwb3MgPT0gJCN7JHRpbWVsaW5lfTsKIAotCQkJIyBTaGlmdCBmb2xsb3dpbmcgcmVx
dWVzdCB0byBzdGFydCBhZnRlciB0aGUgY3VycmVudCBvbmUKKwkJCSMgU2hpZnQgZm9sbG93aW5n
IHJlcXVlc3QgdG8gc3RhcnQgYWZ0ZXIgdGhlIGN1cnJlbnQKKwkJCSMgb25lLCBidXQgb25seSBp
ZiB0aGF0IHdvdWxkbid0IG1ha2UgaXQgemVybyBkdXJhdGlvbiwKKwkJCSMgd2hpY2ggd291bGQg
aW5kaWNhdGUgbm90aWZ5IGFycml2ZWQgYWZ0ZXIgY29udGV4dAorCQkJIyBjb21wbGV0ZS4KIAkJ
CSRuZXh0X2tleSA9ICR7JHRpbWVsaW5lfVskcG9zICsgMV07Ci0JCQlpZiAoZXhpc3RzICRkYnsk
a2V5fS0+eydub3RpZnknfSkgeworCQkJaWYgKGV4aXN0cyAkZGJ7JGtleX0tPnsnbm90aWZ5J30g
YW5kCisJCQkgICAgJGRieyRrZXl9LT57J25vdGlmeSd9IDwgJGRieyRrZXl9LT57J2VuZCd9KSB7
CiAJCQkJJGRieyRuZXh0X2tleX0tPnsnZW5naW5lLXN0YXJ0J30gPSAkZGJ7JG5leHRfa2V5fS0+
eydzdGFydCd9OwogCQkJCSRkYnskbmV4dF9rZXl9LT57J3N0YXJ0J30gPSAkZGJ7JGtleX0tPnsn
bm90aWZ5J307CiAJCQkJJHJlX3NvcnQgPSAxOwpAQCAtNzUwLDkgKzc0NCw5IEBAIGZvcmVhY2gg
bXkgJGdpZCAoc29ydCBrZXlzICVyaW5ncykgewogCSMgRXh0cmFjdCBhbGwgR1BVIGJ1c3kgaW50
ZXJ2YWxzIGFuZCBzb3J0IHRoZW0uCiAJZm9yZWFjaCBteSAka2V5IChAc29ydGVkX2tleXMpIHsK
IAkJbmV4dCB1bmxlc3MgJGRieyRrZXl9LT57J3JpbmcnfSBlcSAkcmluZzsKKwkJZGllIGlmICRk
Ynska2V5fS0+eydzdGFydCd9ID4gJGRieyRrZXl9LT57J2VuZCd9OwogCQlwdXNoIEBzXywgJGRi
eyRrZXl9LT57J3N0YXJ0J307CiAJCXB1c2ggQGVfLCAkZGJ7JGtleX0tPnsnZW5kJ307Ci0JCWRp
ZSBpZiAkZGJ7JGtleX0tPnsnc3RhcnQnfSA+ICRkYnska2V5fS0+eydlbmQnfTsKIAl9CiAKIAlk
aWUgdW5sZXNzICQjc18gPT0gJCNlXzsKLS0gCjIuMjAuMQoKX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX18KSW50ZWwtZ2Z4IG1haWxpbmcgbGlzdApJbnRlbC1n
ZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21h
aWxtYW4vbGlzdGluZm8vaW50ZWwtZ2Z4

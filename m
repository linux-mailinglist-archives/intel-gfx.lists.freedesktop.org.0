Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id B304B3D1D82
	for <lists+intel-gfx@lfdr.de>; Thu, 22 Jul 2021 07:39:29 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id BB7466E9E5;
	Thu, 22 Jul 2021 05:39:26 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga11.intel.com (mga11.intel.com [192.55.52.93])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 1BDE56E85E
 for <intel-gfx@lists.freedesktop.org>; Thu, 22 Jul 2021 05:39:25 +0000 (UTC)
X-IronPort-AV: E=McAfee;i="6200,9189,10052"; a="208456070"
X-IronPort-AV: E=Sophos;i="5.84,260,1620716400"; d="scan'208";a="208456070"
Received: from fmsmga008.fm.intel.com ([10.253.24.58])
 by fmsmga102.fm.intel.com with ESMTP/TLS/ECDHE-RSA-AES256-GCM-SHA384;
 21 Jul 2021 22:39:24 -0700
X-IronPort-AV: E=Sophos;i="5.84,260,1620716400"; d="scan'208";a="470415075"
Received: from jkandi-mobl.amr.corp.intel.com (HELO josouza-mobl2.intel.com)
 ([10.209.170.189])
 by fmsmga008-auth.fm.intel.com with ESMTP/TLS/ECDHE-RSA-AES256-GCM-SHA384;
 21 Jul 2021 22:39:24 -0700
From: =?UTF-8?q?Jos=C3=A9=20Roberto=20de=20Souza?= <jose.souza@intel.com>
To: intel-gfx@lists.freedesktop.org
Date: Wed, 21 Jul 2021 22:43:31 -0700
Message-Id: <20210722054338.12891-3-jose.souza@intel.com>
X-Mailer: git-send-email 2.32.0
In-Reply-To: <20210722054338.12891-1-jose.souza@intel.com>
References: <20210722054338.12891-1-jose.souza@intel.com>
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH 03/10] drm/i915/bios: Enable parse of two
 integrated panels timing data
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: Jani Nikula <jani.nikula@intel.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

Q29udGludWluZyB0aGUgY29udmVyc2lvbiBmcm9tIHNpbmdsZSBpbnRlZ3JhdGVkIFZCVCBkYXRh
IHRvIHR3by4KCkNjOiBWaWxsZSBTeXJqw6Rsw6QgPHZpbGxlLnN5cmphbGFAbGludXguaW50ZWwu
Y29tPgpDYzogSmFuaSBOaWt1bGEgPGphbmkubmlrdWxhQGludGVsLmNvbT4KU2lnbmVkLW9mZi1i
eTogSm9zw6kgUm9iZXJ0byBkZSBTb3V6YSA8am9zZS5zb3V6YUBpbnRlbC5jb20+Ci0tLQogZHJp
dmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9iaW9zLmMgICAgfCA1MyArKysrKysrKysr
KysrLS0tLS0tLQogZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9iaW9zLmggICAg
fCAgMSArCiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2RzaV92YnQuYyB8ICA3
ICsrLQogZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9wYW5lbC5jICAgfCAgNyAr
LS0KIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZHJ2LmggICAgICAgICAgICAgIHwgIDMgKy0K
IDUgZmlsZXMgY2hhbmdlZCwgNDggaW5zZXJ0aW9ucygrKSwgMjMgZGVsZXRpb25zKC0pCgpkaWZm
IC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9iaW9zLmMgYi9kcml2
ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Jpb3MuYwppbmRleCAyYjkwZWZiNDFlY2Nl
Li41OTA2ZTlmYThmOTc2IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5
L2ludGVsX2Jpb3MuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Jp
b3MuYwpAQCAtMjg5LDE0ICsyODksMTUgQEAgcGFyc2VfcGFuZWxfb3B0aW9ucyhzdHJ1Y3QgZHJt
X2k5MTVfcHJpdmF0ZSAqaTkxNSwKIC8qIFRyeSB0byBmaW5kIGludGVncmF0ZWQgcGFuZWwgdGlt
aW5nIGRhdGEgKi8KIHN0YXRpYyB2b2lkCiBwYXJzZV9sZnBfcGFuZWxfZHRkKHN0cnVjdCBkcm1f
aTkxNV9wcml2YXRlICppOTE1LAotCQkgICAgY29uc3Qgc3RydWN0IGJkYl9oZWFkZXIgKmJkYikK
KwkJICAgIGNvbnN0IHN0cnVjdCBiZGJfaGVhZGVyICpiZGIsCisJCSAgICBzdHJ1Y3QgZGRpX3Zi
dF9wb3J0X2luZm8gKmluZm8sCisJCSAgICBpbnQgcGFuZWxfaW5kZXgpCiB7CiAJY29uc3Qgc3Ry
dWN0IGJkYl9sdmRzX2xmcF9kYXRhICpsdmRzX2xmcF9kYXRhOwogCWNvbnN0IHN0cnVjdCBiZGJf
bHZkc19sZnBfZGF0YV9wdHJzICpsdmRzX2xmcF9kYXRhX3B0cnM7CiAJY29uc3Qgc3RydWN0IGx2
ZHNfZHZvX3RpbWluZyAqcGFuZWxfZHZvX3RpbWluZzsKIAljb25zdCBzdHJ1Y3QgbHZkc19mcF90
aW1pbmcgKmZwX3RpbWluZzsKIAlzdHJ1Y3QgZHJtX2Rpc3BsYXlfbW9kZSAqcGFuZWxfZml4ZWRf
bW9kZTsKLQlpbnQgcGFuZWxfdHlwZSA9IGk5MTUtPnZidC5wYW5lbF90eXBlOwogCiAJbHZkc19s
ZnBfZGF0YSA9IGZpbmRfc2VjdGlvbihiZGIsIEJEQl9MVkRTX0xGUF9EQVRBKTsKIAlpZiAoIWx2
ZHNfbGZwX2RhdGEpCkBAIC0zMDgsNyArMzA5LDcgQEAgcGFyc2VfbGZwX3BhbmVsX2R0ZChzdHJ1
Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSwKIAogCXBhbmVsX2R2b190aW1pbmcgPSBnZXRfbHZk
c19kdm9fdGltaW5nKGx2ZHNfbGZwX2RhdGEsCiAJCQkJCSAgICAgICBsdmRzX2xmcF9kYXRhX3B0
cnMsCi0JCQkJCSAgICAgICBwYW5lbF90eXBlKTsKKwkJCQkJICAgICAgIHBhbmVsX2luZGV4KTsK
IAogCXBhbmVsX2ZpeGVkX21vZGUgPSBremFsbG9jKHNpemVvZigqcGFuZWxfZml4ZWRfbW9kZSks
IEdGUF9LRVJORUwpOwogCWlmICghcGFuZWxfZml4ZWRfbW9kZSkKQEAgLTMxNiw3ICszMTcsNyBA
QCBwYXJzZV9sZnBfcGFuZWxfZHRkKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICppOTE1LAogCiAJ
ZmlsbF9kZXRhaWxfdGltaW5nX2RhdGEocGFuZWxfZml4ZWRfbW9kZSwgcGFuZWxfZHZvX3RpbWlu
Zyk7CiAKLQlpOTE1LT52YnQubGZwX2x2ZHNfdmJ0X21vZGUgPSBwYW5lbF9maXhlZF9tb2RlOwor
CWluZm8tPmxmcF9sdmRzX3ZidF9tb2RlID0gcGFuZWxfZml4ZWRfbW9kZTsKIAogCWRybV9kYmdf
a21zKCZpOTE1LT5kcm0sCiAJCSAgICAiRm91bmQgcGFuZWwgbW9kZSBpbiBCSU9TIFZCVCBsZWdh
Y3kgbGZwIHRhYmxlOlxuIik7CkBAIC0zMjQsNyArMzI1LDcgQEAgcGFyc2VfbGZwX3BhbmVsX2R0
ZChzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSwKIAogCWZwX3RpbWluZyA9IGdldF9sdmRz
X2ZwX3RpbWluZyhiZGIsIGx2ZHNfbGZwX2RhdGEsCiAJCQkJICAgICAgIGx2ZHNfbGZwX2RhdGFf
cHRycywKLQkJCQkgICAgICAgcGFuZWxfdHlwZSk7CisJCQkJICAgICAgIHBhbmVsX2luZGV4KTsK
IAlpZiAoZnBfdGltaW5nKSB7CiAJCS8qIGNoZWNrIHRoZSByZXNvbHV0aW9uLCBqdXN0IHRvIGJl
IHN1cmUgKi8KIAkJaWYgKGZwX3RpbWluZy0+eF9yZXMgPT0gcGFuZWxfZml4ZWRfbW9kZS0+aGRp
c3BsYXkgJiYKQEAgLTMzOSw3ICszNDAsOSBAQCBwYXJzZV9sZnBfcGFuZWxfZHRkKHN0cnVjdCBk
cm1faTkxNV9wcml2YXRlICppOTE1LAogCiBzdGF0aWMgdm9pZAogcGFyc2VfZ2VuZXJpY19kdGQo
c3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUsCi0JCSAgY29uc3Qgc3RydWN0IGJkYl9oZWFk
ZXIgKmJkYikKKwkJICBjb25zdCBzdHJ1Y3QgYmRiX2hlYWRlciAqYmRiLAorCQkgIHN0cnVjdCBk
ZGlfdmJ0X3BvcnRfaW5mbyAqaW5mbywKKwkJICBpbnQgcGFuZWxfaW5kZXgpCiB7CiAJY29uc3Qg
c3RydWN0IGJkYl9nZW5lcmljX2R0ZCAqZ2VuZXJpY19kdGQ7CiAJY29uc3Qgc3RydWN0IGdlbmVy
aWNfZHRkX2VudHJ5ICpkdGQ7CkBAIC0zNjMsMTQgKzM2NiwxNCBAQCBwYXJzZV9nZW5lcmljX2R0
ZChzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSwKIAogCW51bV9kdGQgPSAoZ2V0X2Jsb2Nr
c2l6ZShnZW5lcmljX2R0ZCkgLQogCQkgICBzaXplb2Yoc3RydWN0IGJkYl9nZW5lcmljX2R0ZCkp
IC8gZ2VuZXJpY19kdGQtPmdkdGRfc2l6ZTsKLQlpZiAoaTkxNS0+dmJ0LnBhbmVsX3R5cGUgPj0g
bnVtX2R0ZCkgeworCWlmIChwYW5lbF9pbmRleCA+PSBudW1fZHRkKSB7CiAJCWRybV9lcnIoJmk5
MTUtPmRybSwKLQkJCSJQYW5lbCB0eXBlICVkIG5vdCBmb3VuZCBpbiB0YWJsZSBvZiAlZCBEVEQn
c1xuIiwKLQkJCWk5MTUtPnZidC5wYW5lbF90eXBlLCBudW1fZHRkKTsKKwkJCSJQYW5lbCBpbmRl
eCAlZCBub3QgZm91bmQgaW4gdGFibGUgb2YgJWQgRFREJ3NcbiIsCisJCQlwYW5lbF9pbmRleCwg
bnVtX2R0ZCk7CiAJCXJldHVybjsKIAl9CiAKLQlkdGQgPSAmZ2VuZXJpY19kdGQtPmR0ZFtpOTE1
LT52YnQucGFuZWxfdHlwZV07CisJZHRkID0gJmdlbmVyaWNfZHRkLT5kdGRbcGFuZWxfaW5kZXhd
OwogCiAJcGFuZWxfZml4ZWRfbW9kZSA9IGt6YWxsb2Moc2l6ZW9mKCpwYW5lbF9maXhlZF9tb2Rl
KSwgR0ZQX0tFUk5FTCk7CiAJaWYgKCFwYW5lbF9maXhlZF9tb2RlKQpAQCAtNDEzLDEyICs0MTYs
MTQgQEAgcGFyc2VfZ2VuZXJpY19kdGQoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUsCiAJ
CSAgICAiRm91bmQgcGFuZWwgbW9kZSBpbiBCSU9TIFZCVCBnZW5lcmljIGR0ZCB0YWJsZTpcbiIp
OwogCWRybV9tb2RlX2RlYnVnX3ByaW50bW9kZWxpbmUocGFuZWxfZml4ZWRfbW9kZSk7CiAKLQlp
OTE1LT52YnQubGZwX2x2ZHNfdmJ0X21vZGUgPSBwYW5lbF9maXhlZF9tb2RlOworCWluZm8tPmxm
cF9sdmRzX3ZidF9tb2RlID0gcGFuZWxfZml4ZWRfbW9kZTsKIH0KIAogc3RhdGljIHZvaWQKIHBh
cnNlX3BhbmVsX2R0ZChzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSwKLQkJY29uc3Qgc3Ry
dWN0IGJkYl9oZWFkZXIgKmJkYikKKwkJY29uc3Qgc3RydWN0IGJkYl9oZWFkZXIgKmJkYiwKKwkJ
c3RydWN0IGRkaV92YnRfcG9ydF9pbmZvICppbmZvLAorCQlpbnQgcGFuZWxfaW5kZXgpCiB7CiAJ
LyoKIAkgKiBPbGRlciBWQlRzIHByb3ZpZGVkIHByb3ZpZGVkIERURCBpbmZvcm1hdGlvbiBmb3Ig
aW50ZXJuYWwgZGlzcGxheXMKQEAgLTQyOSw5ICs0MzQsOSBAQCBwYXJzZV9wYW5lbF9kdGQoc3Ry
dWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUsCiAJICogYmFjayB0byB0cnlpbmcgdGhlIG9sZCBM
RlAgYmxvY2sgaWYgdGhhdCBmYWlscy4KIAkgKi8KIAlpZiAoYmRiLT52ZXJzaW9uID49IDIyOSkK
LQkJcGFyc2VfZ2VuZXJpY19kdGQoaTkxNSwgYmRiKTsKLQlpZiAoIWk5MTUtPnZidC5sZnBfbHZk
c192YnRfbW9kZSkKLQkJcGFyc2VfbGZwX3BhbmVsX2R0ZChpOTE1LCBiZGIpOworCQlwYXJzZV9n
ZW5lcmljX2R0ZChpOTE1LCBiZGIsIGluZm8sIHBhbmVsX2luZGV4KTsKKwlpZiAoIWluZm8tPmxm
cF9sdmRzX3ZidF9tb2RlKQorCQlwYXJzZV9sZnBfcGFuZWxfZHRkKGk5MTUsIGJkYiwgaW5mbywg
cGFuZWxfaW5kZXgpOwogfQogCiBzdGF0aWMgdm9pZApAQCAtMTk4MSw2ICsxOTg2LDcgQEAgc3Rh
dGljIHZvaWQgcGFyc2VfaW50ZWdyYXRlZF9wYW5lbChzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAq
aTkxNSwKIAlwYXJzZV9wYW5lbF9vcHRpb25zKGk5MTUsIGJkYiwgaW5mbywgcGFuZWxfaW5kZXgp
OwogCXBhcnNlX3Bvd2VyX2NvbnNlcnZhdGlvbl9mZWF0dXJlcyhpOTE1LCBiZGIsIGluZm8sIHBh
bmVsX2luZGV4KTsKIAlwYXJzZV9kcml2ZXJfZmVhdHVyZXNfZHJyc19vbmx5KGk5MTUsIGJkYiwg
aW5mbyk7CisJcGFyc2VfcGFuZWxfZHRkKGk5MTUsIGJkYiwgaW5mbywgcGFuZWxfaW5kZXgpOwog
fQogCiBzdGF0aWMgdm9pZCBwYXJzZV9kZGlfcG9ydChzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAq
aTkxNSwKQEAgLTI0NzUsNyArMjQ4MSw2IEBAIHZvaWQgaW50ZWxfYmlvc19pbml0KHN0cnVjdCBk
cm1faTkxNV9wcml2YXRlICppOTE1KQogCXBhcnNlX2dlbmVyYWxfZmVhdHVyZXMoaTkxNSwgYmRi
KTsKIAlwYXJzZV9nZW5lcmFsX2RlZmluaXRpb25zKGk5MTUsIGJkYik7CiAJcGFyc2VfcGFuZWxf
dHlwZShpOTE1LCBiZGIpOwotCXBhcnNlX3BhbmVsX2R0ZChpOTE1LCBiZGIpOwogCXBhcnNlX2xm
cF9iYWNrbGlnaHQoaTkxNSwgYmRiKTsKIAlwYXJzZV9zZHZvX3BhbmVsX2RhdGEoaTkxNSwgYmRi
KTsKIAlwYXJzZV9kcml2ZXJfZmVhdHVyZXMoaTkxNSwgYmRiKTsKQEAgLTI1MDgsNiArMjUxMyw3
IEBAIHZvaWQgaW50ZWxfYmlvc19pbml0KHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICppOTE1KQog
dm9pZCBpbnRlbF9iaW9zX2RyaXZlcl9yZW1vdmUoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5
MTUpCiB7CiAJc3RydWN0IGludGVsX2Jpb3NfZW5jb2Rlcl9kYXRhICpkZXZkYXRhLCAqbjsKKwlp
bnQgaTsKIAogCWxpc3RfZm9yX2VhY2hfZW50cnlfc2FmZShkZXZkYXRhLCBuLCAmaTkxNS0+dmJ0
LmRpc3BsYXlfZGV2aWNlcywgbm9kZSkgewogCQlsaXN0X2RlbCgmZGV2ZGF0YS0+bm9kZSk7CkBA
IC0yNTE1LDEwICsyNTIxLDEzIEBAIHZvaWQgaW50ZWxfYmlvc19kcml2ZXJfcmVtb3ZlKHN0cnVj
dCBkcm1faTkxNV9wcml2YXRlICppOTE1KQogCQlrZnJlZShkZXZkYXRhKTsKIAl9CiAKKwlmb3Ig
KGkgPSAwOyBpIDwgSTkxNV9NQVhfUE9SVFM7IGkrKykgeworCQlrZnJlZShpOTE1LT52YnQuZGRp
X3BvcnRfaW5mb1tpXS5sZnBfbHZkc192YnRfbW9kZSk7CisJCWk5MTUtPnZidC5kZGlfcG9ydF9p
bmZvW2ldLmxmcF9sdmRzX3ZidF9tb2RlID0gTlVMTDsKKwl9CisKIAlrZnJlZShpOTE1LT52YnQu
c2R2b19sdmRzX3ZidF9tb2RlKTsKIAlpOTE1LT52YnQuc2R2b19sdmRzX3ZidF9tb2RlID0gTlVM
TDsKLQlrZnJlZShpOTE1LT52YnQubGZwX2x2ZHNfdmJ0X21vZGUpOwotCWk5MTUtPnZidC5sZnBf
bHZkc192YnRfbW9kZSA9IE5VTEw7CiAJa2ZyZWUoaTkxNS0+dmJ0LmRzaS5kYXRhKTsKIAlpOTE1
LT52YnQuZHNpLmRhdGEgPSBOVUxMOwogCWtmcmVlKGk5MTUtPnZidC5kc2kucHBzKTsKQEAgLTMx
MDYsMyArMzExNSwxMSBAQCBpbnRlbF9iaW9zX2RycnNfdHlwZShzdHJ1Y3QgaW50ZWxfZW5jb2Rl
ciAqZW5jb2RlcikKIAogCXJldHVybiBpOTE1LT52YnQuZGRpX3BvcnRfaW5mb1tlbmNvZGVyLT5w
b3J0XS5kcnJzX3R5cGU7CiB9CisKK2NvbnN0IHN0cnVjdCBkcm1fZGlzcGxheV9tb2RlICoKK2lu
dGVsX2Jpb3NfbGZwX2x2ZHNfaW5mbyhzdHJ1Y3QgaW50ZWxfZW5jb2RlciAqZW5jb2RlcikKK3sK
KwlzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSA9IHRvX2k5MTUoZW5jb2Rlci0+YmFzZS5k
ZXYpOworCisJcmV0dXJuIGk5MTUtPnZidC5kZGlfcG9ydF9pbmZvW2VuY29kZXItPnBvcnRdLmxm
cF9sdmRzX3ZidF9tb2RlOworfQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlz
cGxheS9pbnRlbF9iaW9zLmggYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Jp
b3MuaAppbmRleCBiYWQyODJiNjRjNWU2Li5mMTMzYzUxYzE1NWNkIDEwMDY0NAotLS0gYS9kcml2
ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Jpb3MuaAorKysgYi9kcml2ZXJzL2dwdS9k
cm0vaTkxNS9kaXNwbGF5L2ludGVsX2Jpb3MuaApAQCAtMjY3LDUgKzI2Nyw2IEBAIGludCBpbnRl
bF9iaW9zX2VuY29kZXJfZHBfYm9vc3RfbGV2ZWwoY29uc3Qgc3RydWN0IGludGVsX2Jpb3NfZW5j
b2Rlcl9kYXRhICpkZXZkCiBpbnQgaW50ZWxfYmlvc19lbmNvZGVyX2hkbWlfYm9vc3RfbGV2ZWwo
Y29uc3Qgc3RydWN0IGludGVsX2Jpb3NfZW5jb2Rlcl9kYXRhICpkZXZkYXRhKTsKIAogZW51bSBk
cnJzX3N1cHBvcnRfdHlwZSBpbnRlbF9iaW9zX2RycnNfdHlwZShzdHJ1Y3QgaW50ZWxfZW5jb2Rl
ciAqZW5jb2Rlcik7Citjb25zdCBzdHJ1Y3QgZHJtX2Rpc3BsYXlfbW9kZSAqaW50ZWxfYmlvc19s
ZnBfbHZkc19pbmZvKHN0cnVjdCBpbnRlbF9lbmNvZGVyICplbmNvZGVyKTsKIAogI2VuZGlmIC8q
IF9JTlRFTF9CSU9TX0hfICovCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNw
bGF5L2ludGVsX2RzaV92YnQuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxf
ZHNpX3ZidC5jCmluZGV4IGMyYTJjZDFmODRkYzUuLjIyMThkZTA3NzNiZjAgMTAwNjQ0Ci0tLSBh
L2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZHNpX3ZidC5jCisrKyBiL2RyaXZl
cnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZHNpX3ZidC5jCkBAIC03MjksMTAgKzcyOSwx
NSBAQCBib29sIGludGVsX2RzaV92YnRfaW5pdChzdHJ1Y3QgaW50ZWxfZHNpICppbnRlbF9kc2ks
IHUxNiBwYW5lbF9pZCkKIAlzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYgPSB0b19p
OTE1KGRldik7CiAJc3RydWN0IG1pcGlfY29uZmlnICptaXBpX2NvbmZpZyA9IGRldl9wcml2LT52
YnQuZHNpLmNvbmZpZzsKIAlzdHJ1Y3QgbWlwaV9wcHNfZGF0YSAqcHBzID0gZGV2X3ByaXYtPnZi
dC5kc2kucHBzOwotCXN0cnVjdCBkcm1fZGlzcGxheV9tb2RlICptb2RlID0gZGV2X3ByaXYtPnZi
dC5sZnBfbHZkc192YnRfbW9kZTsKKwljb25zdCBzdHJ1Y3QgZHJtX2Rpc3BsYXlfbW9kZSAqbW9k
ZSA9IGludGVsX2Jpb3NfbGZwX2x2ZHNfaW5mbygmaW50ZWxfZHNpLT5iYXNlKTsKIAl1MTYgYnVy
c3RfbW9kZV9yYXRpbzsKIAllbnVtIHBvcnQgcG9ydDsKIAorCWlmICghbW9kZSkgeworCQlkcm1f
ZGJnX2ttcygmZGV2X3ByaXYtPmRybSwgImxmcF9sdmRzX3ZidF9tb2RlIG5vdCBzZXRcbiIpOwor
CQlyZXR1cm4gZmFsc2U7CisJfQorCiAJZHJtX2RiZ19rbXMoJmRldl9wcml2LT5kcm0sICJcbiIp
OwogCiAJaW50ZWxfZHNpLT5lb3RwX3BrdCA9IG1pcGlfY29uZmlnLT5lb3RfcGt0X2Rpc2FibGVk
ID8gMCA6IDE7CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVs
X3BhbmVsLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX3BhbmVsLmMKaW5k
ZXggN2Q3YTYwYjRkMmRlNy4uYTg4ZTMwYzk2NmZlNyAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUv
ZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9wYW5lbC5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1
L2Rpc3BsYXkvaW50ZWxfcGFuZWwuYwpAQCAtMTUzLDEyICsxNTMsMTMgQEAgaW50ZWxfcGFuZWxf
dmJ0X2ZpeGVkX21vZGUoc3RydWN0IGludGVsX2Nvbm5lY3RvciAqY29ubmVjdG9yKQogCXN0cnVj
dCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiA9IHRvX2k5MTUoY29ubmVjdG9yLT5iYXNlLmRl
dik7CiAJc3RydWN0IGRybV9kaXNwbGF5X2luZm8gKmluZm8gPSAmY29ubmVjdG9yLT5iYXNlLmRp
c3BsYXlfaW5mbzsKIAlzdHJ1Y3QgZHJtX2Rpc3BsYXlfbW9kZSAqZml4ZWRfbW9kZTsKKwljb25z
dCBzdHJ1Y3QgZHJtX2Rpc3BsYXlfbW9kZSAqbGZwX2x2ZHNfdmJ0X21vZGU7CiAKLQlpZiAoIWRl
dl9wcml2LT52YnQubGZwX2x2ZHNfdmJ0X21vZGUpCisJbGZwX2x2ZHNfdmJ0X21vZGUgPSBpbnRl
bF9iaW9zX2xmcF9sdmRzX2luZm8oY29ubmVjdG9yLT5lbmNvZGVyKTsKKwlpZiAoIWxmcF9sdmRz
X3ZidF9tb2RlKQogCQlyZXR1cm4gTlVMTDsKIAotCWZpeGVkX21vZGUgPSBkcm1fbW9kZV9kdXBs
aWNhdGUoJmRldl9wcml2LT5kcm0sCi0JCQkJCWRldl9wcml2LT52YnQubGZwX2x2ZHNfdmJ0X21v
ZGUpOworCWZpeGVkX21vZGUgPSBkcm1fbW9kZV9kdXBsaWNhdGUoJmRldl9wcml2LT5kcm0sIGxm
cF9sdmRzX3ZidF9tb2RlKTsKIAlpZiAoIWZpeGVkX21vZGUpCiAJCXJldHVybiBOVUxMOwogCmRp
ZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2Rydi5oIGIvZHJpdmVycy9ncHUv
ZHJtL2k5MTUvaTkxNV9kcnYuaAppbmRleCBkOTkwY2ViMjNjODVlLi42MmEwYzFmNjRmODcwIDEw
MDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2Rydi5oCisrKyBiL2RyaXZlcnMv
Z3B1L2RybS9pOTE1L2k5MTVfZHJ2LmgKQEAgLTY1OCw2ICs2NTgsOCBAQCBzdHJ1Y3QgZGRpX3Zi
dF9wb3J0X2luZm8gewogCWludCBkcF9tYXhfbGlua19yYXRlOwkJLyogMCBmb3Igbm90IGxpbWl0
ZWQgYnkgVkJUICovCiAKIAllbnVtIGRycnNfc3VwcG9ydF90eXBlIGRycnNfdHlwZTsKKworCXN0
cnVjdCBkcm1fZGlzcGxheV9tb2RlICpsZnBfbHZkc192YnRfbW9kZTsgLyogaWYgYW55ICovCiB9
OwogCiBlbnVtIHBzcl9saW5lc190b193YWl0IHsKQEAgLTY3MSw3ICs2NzMsNiBAQCBzdHJ1Y3Qg
aW50ZWxfdmJ0X2RhdGEgewogCS8qIGJkYiB2ZXJzaW9uICovCiAJdTE2IHZlcnNpb247CiAKLQlz
dHJ1Y3QgZHJtX2Rpc3BsYXlfbW9kZSAqbGZwX2x2ZHNfdmJ0X21vZGU7IC8qIGlmIGFueSAqLwog
CXN0cnVjdCBkcm1fZGlzcGxheV9tb2RlICpzZHZvX2x2ZHNfdmJ0X21vZGU7IC8qIGlmIGFueSAq
LwogCiAJLyogRmVhdHVyZSBiaXRzICovCi0tIAoyLjMyLjAKCl9fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fCkludGVsLWdmeCBtYWlsaW5nIGxpc3QKSW50ZWwt
Z2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9t
YWlsbWFuL2xpc3RpbmZvL2ludGVsLWdmeAo=

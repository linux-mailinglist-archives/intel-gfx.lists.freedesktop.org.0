Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id B4E692880B
	for <lists+intel-gfx@lfdr.de>; Thu, 23 May 2019 21:26:43 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 1275689DCF;
	Thu, 23 May 2019 19:26:42 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga07.intel.com (mga07.intel.com [134.134.136.100])
 by gabe.freedesktop.org (Postfix) with ESMTPS id C876289DCF
 for <intel-gfx@lists.freedesktop.org>; Thu, 23 May 2019 19:26:40 +0000 (UTC)
X-Amp-Result: UNSCANNABLE
X-Amp-File-Uploaded: False
Received: from fmsmga003.fm.intel.com ([10.253.24.29])
 by orsmga105.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 23 May 2019 12:26:40 -0700
X-ExtLoop1: 1
Received: from stinkbox.fi.intel.com (HELO stinkbox) ([10.237.72.174])
 by FMSMGA003.fm.intel.com with SMTP; 23 May 2019 12:26:38 -0700
Received: by stinkbox (sSMTP sendmail emulation);
 Thu, 23 May 2019 22:26:37 +0300
Date: Thu, 23 May 2019 22:26:37 +0300
From: Ville =?iso-8859-1?Q?Syrj=E4l=E4?= <ville.syrjala@linux.intel.com>
To: Rodrigo Vivi <rodrigo.vivi@intel.com>
Message-ID: <20190523192637.GB5942@intel.com>
References: <20190523191935.19857-1-rodrigo.vivi@intel.com>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <20190523191935.19857-1-rodrigo.vivi@intel.com>
User-Agent: Mutt/1.10.1 (2018-07-13)
Subject: Re: [Intel-gfx] [CI] drm/i915: We don't need display's
 suspend/resume operations when !HAS_DISPLAY
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: intel-gfx@lists.freedesktop.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

T24gVGh1LCBNYXkgMjMsIDIwMTkgYXQgMTI6MTk6MzVQTSAtMDcwMCwgUm9kcmlnbyBWaXZpIHdy
b3RlOgo+IFN1c3BlbmQgcmVzdW1lIGlzIGJyb2tlbiBpZiB3ZSB0cnkgdG8gZW5hYmxlL2Rpc2Fi
bGUgZGM5IG9uCj4gY2FzZXMgd2l0aCBkaXNhYmxlZCBkaXNwbGF5cy4KPiAKPiB2MjogTWFrZSBj
aGVja3BhdGNoIGhhcHB5Ogo+IC06Nzg6IFdBUk5JTkc6QlJBQ0VTOiBicmFjZXMge30gYXJlIG5v
dCBuZWNlc3NhcnkgZm9yIHNpbmdsZSBzdGF0ZW1lbnQgYmxvY2tzCj4gCj4gQ2M6IEpvc8OpIFJv
YmVydG8gZGUgU291emEgPGpvc2Uuc291emFAaW50ZWwuY29tPgo+IFNpZ25lZC1vZmYtYnk6IFJv
ZHJpZ28gVml2aSA8cm9kcmlnby52aXZpQGludGVsLmNvbT4KPiBSZXZpZXdlZC1ieTogSm9zw6kg
Um9iZXJ0byBkZSBTb3V6YSA8am9zZS5zb3V6YUBpbnRlbC5jb20+Cj4gLS0tCj4gIGRyaXZlcnMv
Z3B1L2RybS9pOTE1L2k5MTVfZHJ2LmMgfCAxMDQgKysrKysrKysrKysrKysrKysrKysrKy0tLS0t
LS0tLS0KPiAgMSBmaWxlIGNoYW5nZWQsIDcxIGluc2VydGlvbnMoKyksIDMzIGRlbGV0aW9ucygt
KQo+IAo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2Rydi5jIGIvZHJp
dmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kcnYuYwo+IGluZGV4IDgzZDJlYjllNzRjYi4uMDEwMGM3
ZTk0MGM2IDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZHJ2LmMKPiAr
KysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2Rydi5jCj4gQEAgLTIxMTgsNiArMjExOCwx
NSBAQCBnZXRfc3VzcGVuZF9tb2RlKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiwg
Ym9vbCBoaWJlcm5hdGUpCj4gIAlyZXR1cm4gSTkxNV9EUk1fU1VTUEVORF9NRU07Cj4gIH0KPiAg
Cj4gK3N0YXRpYyB2b2lkIGludGVsX2Rpc3BsYXlfc3VzcGVuZF9sYXRlKHN0cnVjdCBkcm1faTkx
NV9wcml2YXRlICpkZXZfcHJpdikKPiArewo+ICsJaWYgKCFIQVNfRElTUExBWShkZXZfcHJpdikp
Cj4gKwkJcmV0dXJuOwo+ICsKPiArCWlmIChJTlRFTF9HRU4oZGV2X3ByaXYpID49IDExIHx8IElT
X0dFTjlfTFAoZGV2X3ByaXYpKQo+ICsJCWJ4dF9lbmFibGVfZGM5KGRldl9wcml2KTsKPiArfQo+
ICsKPiAgc3RhdGljIGludCBpOTE1X2RybV9zdXNwZW5kX2xhdGUoc3RydWN0IGRybV9kZXZpY2Ug
KmRldiwgYm9vbCBoaWJlcm5hdGlvbikKPiAgewo+ICAJc3RydWN0IGRybV9pOTE1X3ByaXZhdGUg
KmRldl9wcml2ID0gdG9faTkxNShkZXYpOwo+IEBAIC0yMTMzLDEwICsyMTQyLDEwIEBAIHN0YXRp
YyBpbnQgaTkxNV9kcm1fc3VzcGVuZF9sYXRlKHN0cnVjdCBkcm1fZGV2aWNlICpkZXYsIGJvb2wg
aGliZXJuYXRpb24pCj4gIAlpbnRlbF9wb3dlcl9kb21haW5zX3N1c3BlbmQoZGV2X3ByaXYsCj4g
IAkJCQkgICAgZ2V0X3N1c3BlbmRfbW9kZShkZXZfcHJpdiwgaGliZXJuYXRpb24pKTsKPiAgCj4g
KwlpbnRlbF9kaXNwbGF5X3N1c3BlbmRfbGF0ZShkZXZfcHJpdik7Cj4gKwo+ICAJcmV0ID0gMDsK
PiAtCWlmIChJTlRFTF9HRU4oZGV2X3ByaXYpID49IDExIHx8IElTX0dFTjlfTFAoZGV2X3ByaXYp
KQo+IC0JCWJ4dF9lbmFibGVfZGM5KGRldl9wcml2KTsKPiAtCWVsc2UgaWYgKElTX0hBU1dFTEwo
ZGV2X3ByaXYpIHx8IElTX0JST0FEV0VMTChkZXZfcHJpdikpCj4gKwlpZiAoSVNfSEFTV0VMTChk
ZXZfcHJpdikgfHwgSVNfQlJPQURXRUxMKGRldl9wcml2KSkKPiAgCQloc3dfZW5hYmxlX3BjOChk
ZXZfcHJpdik7CgpUaGUgcGM4IHN0dWZmIGlzIGFsc28gYWJvdXQgZGlzcGxheS4KCj4gIAllbHNl
IGlmIChJU19WQUxMRVlWSUVXKGRldl9wcml2KSB8fCBJU19DSEVSUllWSUVXKGRldl9wcml2KSkK
PiAgCQlyZXQgPSB2bHZfc3VzcGVuZF9jb21wbGV0ZShkZXZfcHJpdik7Cj4gQEAgLTIyNjYsNiAr
MjI3NSwxNyBAQCBzdGF0aWMgaW50IGk5MTVfZHJtX3Jlc3VtZShzdHJ1Y3QgZHJtX2RldmljZSAq
ZGV2KQo+ICAJcmV0dXJuIDA7Cj4gIH0KPiAgCj4gK3N0YXRpYyB2b2lkIGludGVsX2Rpc3BsYXlf
cmVzdW1lX2Vhcmx5KHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdikKPiArewo+ICsJ
aWYgKCFIQVNfRElTUExBWShkZXZfcHJpdikpCj4gKwkJcmV0dXJuOwo+ICsKPiArCWlmIChJTlRF
TF9HRU4oZGV2X3ByaXYpID49IDExIHx8IElTX0dFTjlfTFAoZGV2X3ByaXYpKSB7Cj4gKwkJZ2Vu
OV9zYW5pdGl6ZV9kY19zdGF0ZShkZXZfcHJpdik7Cj4gKwkJYnh0X2Rpc2FibGVfZGM5KGRldl9w
cml2KTsKPiArCX0KPiArfQo+ICsKPiAgc3RhdGljIGludCBpOTE1X2RybV9yZXN1bWVfZWFybHko
c3RydWN0IGRybV9kZXZpY2UgKmRldikKPiAgewo+ICAJc3RydWN0IGRybV9pOTE1X3ByaXZhdGUg
KmRldl9wcml2ID0gdG9faTkxNShkZXYpOwo+IEBAIC0yMzI4LDEyICsyMzQ4LDEwIEBAIHN0YXRp
YyBpbnQgaTkxNV9kcm1fcmVzdW1lX2Vhcmx5KHN0cnVjdCBkcm1fZGV2aWNlICpkZXYpCj4gIAo+
ICAJaTkxNV9jaGVja19hbmRfY2xlYXJfZmF1bHRzKGRldl9wcml2KTsKPiAgCj4gLQlpZiAoSU5U
RUxfR0VOKGRldl9wcml2KSA+PSAxMSB8fCBJU19HRU45X0xQKGRldl9wcml2KSkgewo+IC0JCWdl
bjlfc2FuaXRpemVfZGNfc3RhdGUoZGV2X3ByaXYpOwo+IC0JCWJ4dF9kaXNhYmxlX2RjOShkZXZf
cHJpdik7Cj4gLQl9IGVsc2UgaWYgKElTX0hBU1dFTEwoZGV2X3ByaXYpIHx8IElTX0JST0FEV0VM
TChkZXZfcHJpdikpIHsKPiArCWludGVsX2Rpc3BsYXlfcmVzdW1lX2Vhcmx5KGRldl9wcml2KTsK
PiArCj4gKwlpZiAoSVNfSEFTV0VMTChkZXZfcHJpdikgfHwgSVNfQlJPQURXRUxMKGRldl9wcml2
KSkKPiAgCQloc3dfZGlzYWJsZV9wYzgoZGV2X3ByaXYpOwo+IC0JfQo+ICAKPiAgCWludGVsX3Vu
Y29yZV9zYW5pdGl6ZShkZXZfcHJpdik7Cj4gIAo+IEBAIC0yODY5LDYgKzI4ODcsMjAgQEAgc3Rh
dGljIGludCB2bHZfcmVzdW1lX3ByZXBhcmUoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9w
cml2LAo+ICAJcmV0dXJuIHJldDsKPiAgfQo+ICAKPiArc3RhdGljIHZvaWQgaW50ZWxfcnVudGlt
ZV9kaXNwbGF5X3N1c3BlbmQoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2KQo+ICt7
Cj4gKwlpZiAoIUhBU19ESVNQTEFZKGRldl9wcml2KSkKPiArCQlyZXR1cm47Cj4gKwo+ICsJaWYg
KElOVEVMX0dFTihkZXZfcHJpdikgPj0gMTEpIHsKPiArCQlpY2xfZGlzcGxheV9jb3JlX3VuaW5p
dChkZXZfcHJpdik7Cj4gKwkJYnh0X2VuYWJsZV9kYzkoZGV2X3ByaXYpOwo+ICsJfSBlbHNlIGlm
IChJU19HRU45X0xQKGRldl9wcml2KSkgewo+ICsJCWJ4dF9kaXNwbGF5X2NvcmVfdW5pbml0KGRl
dl9wcml2KTsKPiArCQlieHRfZW5hYmxlX2RjOShkZXZfcHJpdik7Cj4gKwl9Cj4gK30KPiArCj4g
IHN0YXRpYyBpbnQgaW50ZWxfcnVudGltZV9zdXNwZW5kKHN0cnVjdCBkZXZpY2UgKmtkZXYpCj4g
IHsKPiAgCXN0cnVjdCBwY2lfZGV2ICpwZGV2ID0gdG9fcGNpX2RldihrZGV2KTsKPiBAQCAtMjg5
OCwxNCArMjkzMCwxMCBAQCBzdGF0aWMgaW50IGludGVsX3J1bnRpbWVfc3VzcGVuZChzdHJ1Y3Qg
ZGV2aWNlICprZGV2KQo+ICAKPiAgCWludGVsX3VuY29yZV9zdXNwZW5kKCZkZXZfcHJpdi0+dW5j
b3JlKTsKPiAgCj4gKwlpbnRlbF9ydW50aW1lX2Rpc3BsYXlfc3VzcGVuZChkZXZfcHJpdik7Cj4g
Kwo+ICAJcmV0ID0gMDsKPiAtCWlmIChJTlRFTF9HRU4oZGV2X3ByaXYpID49IDExKSB7Cj4gLQkJ
aWNsX2Rpc3BsYXlfY29yZV91bmluaXQoZGV2X3ByaXYpOwo+IC0JCWJ4dF9lbmFibGVfZGM5KGRl
dl9wcml2KTsKPiAtCX0gZWxzZSBpZiAoSVNfR0VOOV9MUChkZXZfcHJpdikpIHsKPiAtCQlieHRf
ZGlzcGxheV9jb3JlX3VuaW5pdChkZXZfcHJpdik7Cj4gLQkJYnh0X2VuYWJsZV9kYzkoZGV2X3By
aXYpOwo+IC0JfSBlbHNlIGlmIChJU19IQVNXRUxMKGRldl9wcml2KSB8fCBJU19CUk9BRFdFTEwo
ZGV2X3ByaXYpKSB7Cj4gKwlpZiAoSVNfSEFTV0VMTChkZXZfcHJpdikgfHwgSVNfQlJPQURXRUxM
KGRldl9wcml2KSkgewo+ICAJCWhzd19lbmFibGVfcGM4KGRldl9wcml2KTsKPiAgCX0gZWxzZSBp
ZiAoSVNfVkFMTEVZVklFVyhkZXZfcHJpdikgfHwgSVNfQ0hFUlJZVklFVyhkZXZfcHJpdikpIHsK
PiAgCQlyZXQgPSB2bHZfc3VzcGVuZF9jb21wbGV0ZShkZXZfcHJpdik7Cj4gQEAgLTI5NjcsNiAr
Mjk5NSwzMSBAQCBzdGF0aWMgaW50IGludGVsX3J1bnRpbWVfc3VzcGVuZChzdHJ1Y3QgZGV2aWNl
ICprZGV2KQo+ICAJcmV0dXJuIDA7Cj4gIH0KPiAgCj4gK3N0YXRpYyB2b2lkIGludGVsX3J1bnRp
bWVfZGlzcGxheV9yZXN1bWUoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2KQo+ICt7
Cj4gKwlpZiAoIUhBU19ESVNQTEFZKGRldl9wcml2KSkKPiArCQlyZXR1cm47Cj4gKwo+ICsJaWYg
KElOVEVMX0dFTihkZXZfcHJpdikgPj0gMTEpIHsKPiArCQlieHRfZGlzYWJsZV9kYzkoZGV2X3By
aXYpOwo+ICsJCWljbF9kaXNwbGF5X2NvcmVfaW5pdChkZXZfcHJpdiwgdHJ1ZSk7Cj4gKwkJaWYg
KGRldl9wcml2LT5jc3IuZG1jX3BheWxvYWQpIHsKPiArCQkJaWYgKGRldl9wcml2LT5jc3IuYWxs
b3dlZF9kY19tYXNrICYKPiArCQkJICAgIERDX1NUQVRFX0VOX1VQVE9fREM2KQo+ICsJCQkJc2ts
X2VuYWJsZV9kYzYoZGV2X3ByaXYpOwo+ICsJCQllbHNlIGlmIChkZXZfcHJpdi0+Y3NyLmFsbG93
ZWRfZGNfbWFzayAmCj4gKwkJCQkgRENfU1RBVEVfRU5fVVBUT19EQzUpCj4gKwkJCQlnZW45X2Vu
YWJsZV9kYzUoZGV2X3ByaXYpOwo+ICsJCX0KPiArCX0gZWxzZSBpZiAoSVNfR0VOOV9MUChkZXZf
cHJpdikpIHsKPiArCQlieHRfZGlzYWJsZV9kYzkoZGV2X3ByaXYpOwo+ICsJCWJ4dF9kaXNwbGF5
X2NvcmVfaW5pdChkZXZfcHJpdiwgdHJ1ZSk7Cj4gKwkJaWYgKGRldl9wcml2LT5jc3IuZG1jX3Bh
eWxvYWQgJiYKPiArCQkgICAgKGRldl9wcml2LT5jc3IuYWxsb3dlZF9kY19tYXNrICYgRENfU1RB
VEVfRU5fVVBUT19EQzUpKQo+ICsJCQlnZW45X2VuYWJsZV9kYzUoZGV2X3ByaXYpOwo+ICsJfQo+
ICt9Cj4gKwo+ICBzdGF0aWMgaW50IGludGVsX3J1bnRpbWVfcmVzdW1lKHN0cnVjdCBkZXZpY2Ug
KmtkZXYpCj4gIHsKPiAgCXN0cnVjdCBwY2lfZGV2ICpwZGV2ID0gdG9fcGNpX2RldihrZGV2KTsK
PiBAQCAtMjk4NywyNCArMzA0MCw5IEBAIHN0YXRpYyBpbnQgaW50ZWxfcnVudGltZV9yZXN1bWUo
c3RydWN0IGRldmljZSAqa2RldikKPiAgCWlmIChpbnRlbF91bmNvcmVfdW5jbGFpbWVkX21taW8o
JmRldl9wcml2LT51bmNvcmUpKQo+ICAJCURSTV9ERUJVR19EUklWRVIoIlVuY2xhaW1lZCBhY2Nl
c3MgZHVyaW5nIHN1c3BlbmQsIGJpb3M/XG4iKTsKPiAgCj4gLQlpZiAoSU5URUxfR0VOKGRldl9w
cml2KSA+PSAxMSkgewo+IC0JCWJ4dF9kaXNhYmxlX2RjOShkZXZfcHJpdik7Cj4gLQkJaWNsX2Rp
c3BsYXlfY29yZV9pbml0KGRldl9wcml2LCB0cnVlKTsKPiAtCQlpZiAoZGV2X3ByaXYtPmNzci5k
bWNfcGF5bG9hZCkgewo+IC0JCQlpZiAoZGV2X3ByaXYtPmNzci5hbGxvd2VkX2RjX21hc2sgJgo+
IC0JCQkgICAgRENfU1RBVEVfRU5fVVBUT19EQzYpCj4gLQkJCQlza2xfZW5hYmxlX2RjNihkZXZf
cHJpdik7Cj4gLQkJCWVsc2UgaWYgKGRldl9wcml2LT5jc3IuYWxsb3dlZF9kY19tYXNrICYKPiAt
CQkJCSBEQ19TVEFURV9FTl9VUFRPX0RDNSkKPiAtCQkJCWdlbjlfZW5hYmxlX2RjNShkZXZfcHJp
dik7Cj4gLQkJfQo+IC0JfSBlbHNlIGlmIChJU19HRU45X0xQKGRldl9wcml2KSkgewo+IC0JCWJ4
dF9kaXNhYmxlX2RjOShkZXZfcHJpdik7Cj4gLQkJYnh0X2Rpc3BsYXlfY29yZV9pbml0KGRldl9w
cml2LCB0cnVlKTsKPiAtCQlpZiAoZGV2X3ByaXYtPmNzci5kbWNfcGF5bG9hZCAmJgo+IC0JCSAg
ICAoZGV2X3ByaXYtPmNzci5hbGxvd2VkX2RjX21hc2sgJiBEQ19TVEFURV9FTl9VUFRPX0RDNSkp
Cj4gLQkJCWdlbjlfZW5hYmxlX2RjNShkZXZfcHJpdik7Cj4gLQl9IGVsc2UgaWYgKElTX0hBU1dF
TEwoZGV2X3ByaXYpIHx8IElTX0JST0FEV0VMTChkZXZfcHJpdikpIHsKPiArCWludGVsX3J1bnRp
bWVfZGlzcGxheV9yZXN1bWUoZGV2X3ByaXYpOwo+ICsKPiArCWlmIChJU19IQVNXRUxMKGRldl9w
cml2KSB8fCBJU19CUk9BRFdFTEwoZGV2X3ByaXYpKSB7Cj4gIAkJaHN3X2Rpc2FibGVfcGM4KGRl
dl9wcml2KTsKPiAgCX0gZWxzZSBpZiAoSVNfVkFMTEVZVklFVyhkZXZfcHJpdikgfHwgSVNfQ0hF
UlJZVklFVyhkZXZfcHJpdikpIHsKPiAgCQlyZXQgPSB2bHZfcmVzdW1lX3ByZXBhcmUoZGV2X3By
aXYsIHRydWUpOwo+IC0tIAo+IDIuMjAuMQo+IAo+IF9fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fCj4gSW50ZWwtZ2Z4IG1haWxpbmcgbGlzdAo+IEludGVsLWdm
eEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKPiBodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9t
YWlsbWFuL2xpc3RpbmZvL2ludGVsLWdmeAoKLS0gClZpbGxlIFN5cmrDpGzDpApJbnRlbApfX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpJbnRlbC1nZnggbWFp
bGluZyBsaXN0CkludGVsLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5m
cmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9pbnRlbC1nZng=

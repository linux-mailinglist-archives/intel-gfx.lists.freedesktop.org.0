Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 2BF7C3DAE82
	for <lists+intel-gfx@lfdr.de>; Thu, 29 Jul 2021 23:51:29 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 020C46EE7B;
	Thu, 29 Jul 2021 21:51:25 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga12.intel.com (mga12.intel.com [192.55.52.136])
 by gabe.freedesktop.org (Postfix) with ESMTPS id A02DC896B5
 for <intel-gfx@lists.freedesktop.org>; Thu, 29 Jul 2021 21:51:23 +0000 (UTC)
X-IronPort-AV: E=McAfee;i="6200,9189,10060"; a="192578345"
X-IronPort-AV: E=Sophos;i="5.84,279,1620716400"; d="scan'208";a="192578345"
Received: from fmsmga006.fm.intel.com ([10.253.24.20])
 by fmsmga106.fm.intel.com with ESMTP/TLS/ECDHE-RSA-AES256-GCM-SHA384;
 29 Jul 2021 14:51:23 -0700
X-IronPort-AV: E=Sophos;i="5.84,279,1620716400"; d="scan'208";a="664570761"
Received: from josouza-mobl2.jf.intel.com (HELO josouza-mobl2.intel.com)
 ([10.24.14.59])
 by fmsmga006-auth.fm.intel.com with ESMTP/TLS/ECDHE-RSA-AES256-GCM-SHA384;
 29 Jul 2021 14:51:22 -0700
From: =?UTF-8?q?Jos=C3=A9=20Roberto=20de=20Souza?= <jose.souza@intel.com>
To: intel-gfx@lists.freedesktop.org
Date: Thu, 29 Jul 2021 14:55:39 -0700
Message-Id: <20210729215545.192606-4-jose.souza@intel.com>
X-Mailer: git-send-email 2.32.0
In-Reply-To: <20210729215545.192606-1-jose.souza@intel.com>
References: <20210729215545.192606-1-jose.souza@intel.com>
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH CI 04/10] drm/i915/bios: Enable parse of two
 integrated panels backlight data
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: Jani Nikula <jani.nikula@intel.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

Q29udGludWluZyB0aGUgY29udmVyc2lvbiBmcm9tIHNpbmdsZSBpbnRlZ3JhdGVkIFZCVCBkYXRh
IHRvIHR3bywgbm93CmhhbmRsaW5nIGJhY2tsaWdodCBkYXRhLgoKUmV2aWV3ZWQtYnk6IE1hdHQg
QXR3b29kIDxtYXR0aGV3LnMuYXR3b29kQGludGVsLmNvbT4KQ2M6IFZpbGxlIFN5cmrDpGzDpCA8
dmlsbGUuc3lyamFsYUBsaW51eC5pbnRlbC5jb20+CkNjOiBKYW5pIE5pa3VsYSA8amFuaS5uaWt1
bGFAaW50ZWwuY29tPgpTaWduZWQtb2ZmLWJ5OiBKb3PDqSBSb2JlcnRvIGRlIFNvdXphIDxqb3Nl
LnNvdXphQGludGVsLmNvbT4KLS0tCiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVs
X2Jpb3MuYyAgICAgfCA1OSArKysrKysrKysrKy0tLS0tLS0tCiBkcml2ZXJzL2dwdS9kcm0vaTkx
NS9kaXNwbGF5L2ludGVsX2Jpb3MuaCAgICAgfCAgMSArCiAuLi4vZHJtL2k5MTUvZGlzcGxheS9p
bnRlbF9kcF9hdXhfYmFja2xpZ2h0LmMgfCAxMSArKy0tCiAuLi4vaTkxNS9kaXNwbGF5L2ludGVs
X2RzaV9kY3NfYmFja2xpZ2h0LmMgICAgfCAgNSArLQogZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlz
cGxheS9pbnRlbF9wYW5lbC5jICAgIHwgMzIgKysrKysrLS0tLQogZHJpdmVycy9ncHUvZHJtL2k5
MTUvZGlzcGxheS9pbnRlbF9wcHMuYyAgICAgIHwgIDggKystCiBkcml2ZXJzL2dwdS9kcm0vaTkx
NS9pOTE1X2Rydi5oICAgICAgICAgICAgICAgfCAxOCArKystLS0KIDcgZmlsZXMgY2hhbmdlZCwg
ODMgaW5zZXJ0aW9ucygrKSwgNTEgZGVsZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9n
cHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9iaW9zLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9k
aXNwbGF5L2ludGVsX2Jpb3MuYwppbmRleCBmZGRlODc3Nzg1NGVlLi5kZTQ2MWNjOWZlYWQ5IDEw
MDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Jpb3MuYworKysg
Yi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Jpb3MuYwpAQCAtNDQxLDExICs0
NDEsMTIgQEAgcGFyc2VfcGFuZWxfZHRkKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICppOTE1LAog
CiBzdGF0aWMgdm9pZAogcGFyc2VfbGZwX2JhY2tsaWdodChzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0
ZSAqaTkxNSwKLQkJICAgIGNvbnN0IHN0cnVjdCBiZGJfaGVhZGVyICpiZGIpCisJCSAgICBjb25z
dCBzdHJ1Y3QgYmRiX2hlYWRlciAqYmRiLAorCQkgICAgc3RydWN0IGRkaV92YnRfcG9ydF9pbmZv
ICppbmZvLAorCQkgICAgaW50IHBhbmVsX2luZGV4KQogewogCWNvbnN0IHN0cnVjdCBiZGJfbGZw
X2JhY2tsaWdodF9kYXRhICpiYWNrbGlnaHRfZGF0YTsKIAljb25zdCBzdHJ1Y3QgbGZwX2JhY2ts
aWdodF9kYXRhX2VudHJ5ICplbnRyeTsKLQlpbnQgcGFuZWxfdHlwZSA9IGk5MTUtPnZidC5wYW5l
bF90eXBlOwogCXUxNiBsZXZlbDsKIAogCWJhY2tsaWdodF9kYXRhID0gZmluZF9zZWN0aW9uKGJk
YiwgQkRCX0xWRFNfQkFDS0xJR0hUKTsKQEAgLTQ1OSwzOCArNDYwLDM4IEBAIHBhcnNlX2xmcF9i
YWNrbGlnaHQoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUsCiAJCXJldHVybjsKIAl9CiAK
LQllbnRyeSA9ICZiYWNrbGlnaHRfZGF0YS0+ZGF0YVtwYW5lbF90eXBlXTsKKwllbnRyeSA9ICZi
YWNrbGlnaHRfZGF0YS0+ZGF0YVtwYW5lbF9pbmRleF07CiAKLQlpOTE1LT52YnQuYmFja2xpZ2h0
LnByZXNlbnQgPSBlbnRyeS0+dHlwZSA9PSBCREJfQkFDS0xJR0hUX1RZUEVfUFdNOwotCWlmICgh
aTkxNS0+dmJ0LmJhY2tsaWdodC5wcmVzZW50KSB7CisJaW5mby0+YmFja2xpZ2h0LnByZXNlbnQg
PSBlbnRyeS0+dHlwZSA9PSBCREJfQkFDS0xJR0hUX1RZUEVfUFdNOworCWlmICghaW5mby0+YmFj
a2xpZ2h0LnByZXNlbnQpIHsKIAkJZHJtX2RiZ19rbXMoJmk5MTUtPmRybSwKIAkJCSAgICAiUFdN
IGJhY2tsaWdodCBub3QgcHJlc2VudCBpbiBWQlQgKHR5cGUgJXUpXG4iLAogCQkJICAgIGVudHJ5
LT50eXBlKTsKIAkJcmV0dXJuOwogCX0KIAotCWk5MTUtPnZidC5iYWNrbGlnaHQudHlwZSA9IElO
VEVMX0JBQ0tMSUdIVF9ESVNQTEFZX0RESTsKKwlpbmZvLT5iYWNrbGlnaHQudHlwZSA9IElOVEVM
X0JBQ0tMSUdIVF9ESVNQTEFZX0RESTsKIAlpZiAoYmRiLT52ZXJzaW9uID49IDE5MSAmJgogCSAg
ICBnZXRfYmxvY2tzaXplKGJhY2tsaWdodF9kYXRhKSA+PSBzaXplb2YoKmJhY2tsaWdodF9kYXRh
KSkgewogCQljb25zdCBzdHJ1Y3QgbGZwX2JhY2tsaWdodF9jb250cm9sX21ldGhvZCAqbWV0aG9k
OwogCi0JCW1ldGhvZCA9ICZiYWNrbGlnaHRfZGF0YS0+YmFja2xpZ2h0X2NvbnRyb2xbcGFuZWxf
dHlwZV07Ci0JCWk5MTUtPnZidC5iYWNrbGlnaHQudHlwZSA9IG1ldGhvZC0+dHlwZTsKLQkJaTkx
NS0+dmJ0LmJhY2tsaWdodC5jb250cm9sbGVyID0gbWV0aG9kLT5jb250cm9sbGVyOworCQltZXRo
b2QgPSAmYmFja2xpZ2h0X2RhdGEtPmJhY2tsaWdodF9jb250cm9sW3BhbmVsX2luZGV4XTsKKwkJ
aW5mby0+YmFja2xpZ2h0LnR5cGUgPSBtZXRob2QtPnR5cGU7CisJCWluZm8tPmJhY2tsaWdodC5j
b250cm9sbGVyID0gbWV0aG9kLT5jb250cm9sbGVyOwogCX0KIAotCWk5MTUtPnZidC5iYWNrbGln
aHQucHdtX2ZyZXFfaHogPSBlbnRyeS0+cHdtX2ZyZXFfaHo7Ci0JaTkxNS0+dmJ0LmJhY2tsaWdo
dC5hY3RpdmVfbG93X3B3bSA9IGVudHJ5LT5hY3RpdmVfbG93X3B3bTsKKwlpbmZvLT5iYWNrbGln
aHQucHdtX2ZyZXFfaHogPSBlbnRyeS0+cHdtX2ZyZXFfaHo7CisJaW5mby0+YmFja2xpZ2h0LmFj
dGl2ZV9sb3dfcHdtID0gZW50cnktPmFjdGl2ZV9sb3dfcHdtOwogCiAJaWYgKGJkYi0+dmVyc2lv
biA+PSAyMzQpIHsKIAkJdTE2IG1pbl9sZXZlbDsKIAkJYm9vbCBzY2FsZTsKIAotCQlsZXZlbCA9
IGJhY2tsaWdodF9kYXRhLT5icmlnaHRuZXNzX2xldmVsW3BhbmVsX3R5cGVdLmxldmVsOwotCQlt
aW5fbGV2ZWwgPSBiYWNrbGlnaHRfZGF0YS0+YnJpZ2h0bmVzc19taW5fbGV2ZWxbcGFuZWxfdHlw
ZV0ubGV2ZWw7CisJCWxldmVsID0gYmFja2xpZ2h0X2RhdGEtPmJyaWdodG5lc3NfbGV2ZWxbcGFu
ZWxfaW5kZXhdLmxldmVsOworCQltaW5fbGV2ZWwgPSBiYWNrbGlnaHRfZGF0YS0+YnJpZ2h0bmVz
c19taW5fbGV2ZWxbcGFuZWxfaW5kZXhdLmxldmVsOwogCiAJCWlmIChiZGItPnZlcnNpb24gPj0g
MjM2KQotCQkJc2NhbGUgPSBiYWNrbGlnaHRfZGF0YS0+YnJpZ2h0bmVzc19wcmVjaXNpb25fYml0
c1twYW5lbF90eXBlXSA9PSAxNjsKKwkJCXNjYWxlID0gYmFja2xpZ2h0X2RhdGEtPmJyaWdodG5l
c3NfcHJlY2lzaW9uX2JpdHNbcGFuZWxfaW5kZXhdID09IDE2OwogCQllbHNlCiAJCQlzY2FsZSA9
IGxldmVsID4gMjU1OwogCkBAIC01MDEsMjAgKzUwMiwyMCBAQCBwYXJzZV9sZnBfYmFja2xpZ2h0
KHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICppOTE1LAogCQkJZHJtX3dhcm4oJmk5MTUtPmRybSwg
IkJyaWdodG5lc3MgbWluIGxldmVsID4gMjU1XG4iKTsKIAkJCWxldmVsID0gMjU1OwogCQl9Ci0J
CWk5MTUtPnZidC5iYWNrbGlnaHQubWluX2JyaWdodG5lc3MgPSBtaW5fbGV2ZWw7CisJCWluZm8t
PmJhY2tsaWdodC5taW5fYnJpZ2h0bmVzcyA9IG1pbl9sZXZlbDsKIAl9IGVsc2UgewotCQlsZXZl
bCA9IGJhY2tsaWdodF9kYXRhLT5sZXZlbFtwYW5lbF90eXBlXTsKLQkJaTkxNS0+dmJ0LmJhY2ts
aWdodC5taW5fYnJpZ2h0bmVzcyA9IGVudHJ5LT5taW5fYnJpZ2h0bmVzczsKKwkJbGV2ZWwgPSBi
YWNrbGlnaHRfZGF0YS0+bGV2ZWxbcGFuZWxfaW5kZXhdOworCQlpbmZvLT5iYWNrbGlnaHQubWlu
X2JyaWdodG5lc3MgPSBlbnRyeS0+bWluX2JyaWdodG5lc3M7CiAJfQogCiAJZHJtX2RiZ19rbXMo
Jmk5MTUtPmRybSwKIAkJICAgICJWQlQgYmFja2xpZ2h0IFBXTSBtb2R1bGF0aW9uIGZyZXF1ZW5j
eSAldSBIeiwgIgogCQkgICAgImFjdGl2ZSAlcywgbWluIGJyaWdodG5lc3MgJXUsIGxldmVsICV1
LCBjb250cm9sbGVyICV1XG4iLAotCQkgICAgaTkxNS0+dmJ0LmJhY2tsaWdodC5wd21fZnJlcV9o
eiwKLQkJICAgIGk5MTUtPnZidC5iYWNrbGlnaHQuYWN0aXZlX2xvd19wd20gPyAibG93IiA6ICJo
aWdoIiwKLQkJICAgIGk5MTUtPnZidC5iYWNrbGlnaHQubWluX2JyaWdodG5lc3MsCisJCSAgICBp
bmZvLT5iYWNrbGlnaHQucHdtX2ZyZXFfaHosCisJCSAgICBpbmZvLT5iYWNrbGlnaHQuYWN0aXZl
X2xvd19wd20gPyAibG93IiA6ICJoaWdoIiwKKwkJICAgIGluZm8tPmJhY2tsaWdodC5taW5fYnJp
Z2h0bmVzcywKIAkJICAgIGxldmVsLAotCQkgICAgaTkxNS0+dmJ0LmJhY2tsaWdodC5jb250cm9s
bGVyKTsKKwkJICAgIGluZm8tPmJhY2tsaWdodC5jb250cm9sbGVyKTsKIH0KIAogLyogVHJ5IHRv
IGZpbmQgc2R2byBwYW5lbCBkYXRhICovCkBAIC0xOTg3LDYgKzE5ODgsNyBAQCBzdGF0aWMgdm9p
ZCBwYXJzZV9pbnRlZ3JhdGVkX3BhbmVsKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICppOTE1LAog
CXBhcnNlX3Bvd2VyX2NvbnNlcnZhdGlvbl9mZWF0dXJlcyhpOTE1LCBiZGIsIGluZm8sIHBhbmVs
X2luZGV4KTsKIAlwYXJzZV9kcml2ZXJfZmVhdHVyZXNfZHJyc19vbmx5KGk5MTUsIGJkYiwgaW5m
byk7CiAJcGFyc2VfcGFuZWxfZHRkKGk5MTUsIGJkYiwgaW5mbywgcGFuZWxfaW5kZXgpOworCXBh
cnNlX2xmcF9iYWNrbGlnaHQoaTkxNSwgYmRiLCBpbmZvLCBwYW5lbF9pbmRleCk7CiB9CiAKIHN0
YXRpYyB2b2lkIHBhcnNlX2RkaV9wb3J0KHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICppOTE1LApA
QCAtMjEyMCw2ICsyMTIyLDkgQEAgc3RhdGljIHZvaWQgcGFyc2VfZGRpX3BvcnQoc3RydWN0IGRy
bV9pOTE1X3ByaXZhdGUgKmk5MTUsCiAJCQkgICAgcG9ydF9uYW1lKHBvcnQpLCBpbmZvLT5kcF9t
YXhfbGlua19yYXRlKTsKIAl9CiAKKwkvKiBEZWZhdWx0IHRvIGhhdmluZyBiYWNrbGlnaHQgKi8K
KwlpbmZvLT5iYWNrbGlnaHQucHJlc2VudCA9IHRydWU7CisKIAlwYXJzZV9pbnRlZ3JhdGVkX3Bh
bmVsKGk5MTUsIGRldmRhdGEsIGluZm8pOwogCiAJaW5mby0+ZGV2ZGF0YSA9IGRldmRhdGE7CkBA
IC0yMjQ1LDkgKzIyNTAsNiBAQCBpbml0X3ZidF9kZWZhdWx0cyhzdHJ1Y3QgZHJtX2k5MTVfcHJp
dmF0ZSAqaTkxNSkKIHsKIAlpOTE1LT52YnQuY3J0X2RkY19waW4gPSBHTUJVU19QSU5fVkdBRERD
OwogCi0JLyogRGVmYXVsdCB0byBoYXZpbmcgYmFja2xpZ2h0ICovCi0JaTkxNS0+dmJ0LmJhY2ts
aWdodC5wcmVzZW50ID0gdHJ1ZTsKLQogCS8qIFNEVk8gcGFuZWwgZGF0YSAqLwogCWk5MTUtPnZi
dC5zZHZvX2x2ZHNfdmJ0X21vZGUgPSBOVUxMOwogCkBAIC0yNDgyLDcgKzI0ODQsNiBAQCB2b2lk
IGludGVsX2Jpb3NfaW5pdChzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSkKIAlwYXJzZV9n
ZW5lcmFsX2ZlYXR1cmVzKGk5MTUsIGJkYik7CiAJcGFyc2VfZ2VuZXJhbF9kZWZpbml0aW9ucyhp
OTE1LCBiZGIpOwogCXBhcnNlX3BhbmVsX3R5cGUoaTkxNSwgYmRiKTsKLQlwYXJzZV9sZnBfYmFj
a2xpZ2h0KGk5MTUsIGJkYik7CiAJcGFyc2Vfc2R2b19wYW5lbF9kYXRhKGk5MTUsIGJkYik7CiAJ
cGFyc2VfZHJpdmVyX2ZlYXR1cmVzKGk5MTUsIGJkYik7CiAJcGFyc2VfZWRwKGk5MTUsIGJkYik7
CkBAIC0zMTI0LDMgKzMxMjUsMTEgQEAgaW50ZWxfYmlvc19sZnBfbHZkc19pbmZvKHN0cnVjdCBp
bnRlbF9lbmNvZGVyICplbmNvZGVyKQogCiAJcmV0dXJuIGk5MTUtPnZidC5kZGlfcG9ydF9pbmZv
W2VuY29kZXItPnBvcnRdLmxmcF9sdmRzX3ZidF9tb2RlOwogfQorCitjb25zdCBzdHJ1Y3QgdmJ0
X2JhY2tsaWdodF9pbmZvICoKK2ludGVsX2Jpb3NfYmFja2xpZ2h0X2luZm8oc3RydWN0IGludGVs
X2VuY29kZXIgKmVuY29kZXIpCit7CisJc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUgPSB0
b19pOTE1KGVuY29kZXItPmJhc2UuZGV2KTsKKworCXJldHVybiAmaTkxNS0+dmJ0LmRkaV9wb3J0
X2luZm9bZW5jb2Rlci0+cG9ydF0uYmFja2xpZ2h0OworfQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9n
cHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9iaW9zLmggYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9k
aXNwbGF5L2ludGVsX2Jpb3MuaAppbmRleCBmMTMzYzUxYzE1NWNkLi41YjYxNjdjOTdhOGQ5IDEw
MDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Jpb3MuaAorKysg
Yi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Jpb3MuaApAQCAtMjY4LDUgKzI2
OCw2IEBAIGludCBpbnRlbF9iaW9zX2VuY29kZXJfaGRtaV9ib29zdF9sZXZlbChjb25zdCBzdHJ1
Y3QgaW50ZWxfYmlvc19lbmNvZGVyX2RhdGEgKmRlCiAKIGVudW0gZHJyc19zdXBwb3J0X3R5cGUg
aW50ZWxfYmlvc19kcnJzX3R5cGUoc3RydWN0IGludGVsX2VuY29kZXIgKmVuY29kZXIpOwogY29u
c3Qgc3RydWN0IGRybV9kaXNwbGF5X21vZGUgKmludGVsX2Jpb3NfbGZwX2x2ZHNfaW5mbyhzdHJ1
Y3QgaW50ZWxfZW5jb2RlciAqZW5jb2Rlcik7Citjb25zdCBzdHJ1Y3QgdmJ0X2JhY2tsaWdodF9p
bmZvICppbnRlbF9iaW9zX2JhY2tsaWdodF9pbmZvKHN0cnVjdCBpbnRlbF9lbmNvZGVyICplbmNv
ZGVyKTsKIAogI2VuZGlmIC8qIF9JTlRFTF9CSU9TX0hfICovCmRpZmYgLS1naXQgYS9kcml2ZXJz
L2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2RwX2F1eF9iYWNrbGlnaHQuYyBiL2RyaXZlcnMv
Z3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZHBfYXV4X2JhY2tsaWdodC5jCmluZGV4IDZhYzU2
ODYxN2VmMzcuLjQwMWE5ZDk1MzMxNTggMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1
L2Rpc3BsYXkvaW50ZWxfZHBfYXV4X2JhY2tsaWdodC5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9p
OTE1L2Rpc3BsYXkvaW50ZWxfZHBfYXV4X2JhY2tsaWdodC5jCkBAIC0zMTAsMTMgKzMxMCwxNCBA
QCBzdGF0aWMgaW50IGludGVsX2RwX2F1eF92ZXNhX3NldHVwX2JhY2tsaWdodChzdHJ1Y3QgaW50
ZWxfY29ubmVjdG9yICpjb25uZWN0b3IsCiB7CiAJc3RydWN0IGludGVsX2RwICppbnRlbF9kcCA9
IGludGVsX2F0dGFjaGVkX2RwKGNvbm5lY3Rvcik7CiAJc3RydWN0IGludGVsX3BhbmVsICpwYW5l
bCA9ICZjb25uZWN0b3ItPnBhbmVsOwotCXN0cnVjdCBkcm1faTkxNV9wcml2YXRlICppOTE1ID0g
ZHBfdG9faTkxNShpbnRlbF9kcCk7CisJY29uc3Qgc3RydWN0IHZidF9iYWNrbGlnaHRfaW5mbyAq
YmFja2xpZ2h0X2luZm87CiAJdTE2IGN1cnJlbnRfbGV2ZWw7CiAJdTggY3VycmVudF9tb2RlOwog
CWludCByZXQ7CiAKKwliYWNrbGlnaHRfaW5mbyA9IGludGVsX2Jpb3NfYmFja2xpZ2h0X2luZm8o
Y29ubmVjdG9yLT5lbmNvZGVyKTsKIAlyZXQgPSBkcm1fZWRwX2JhY2tsaWdodF9pbml0KCZpbnRl
bF9kcC0+YXV4LCAmcGFuZWwtPmJhY2tsaWdodC5lZHAudmVzYS5pbmZvLAotCQkJCSAgICAgaTkx
NS0+dmJ0LmJhY2tsaWdodC5wd21fZnJlcV9oeiwgaW50ZWxfZHAtPmVkcF9kcGNkLAorCQkJCSAg
ICAgYmFja2xpZ2h0X2luZm8tPnB3bV9mcmVxX2h6LCBpbnRlbF9kcC0+ZWRwX2RwY2QsCiAJCQkJ
ICAgICAmY3VycmVudF9sZXZlbCwgJmN1cnJlbnRfbW9kZSk7CiAJaWYgKHJldCA8IDApCiAJCXJl
dHVybiByZXQ7CkBAIC0zODMsNyArMzg0LDkgQEAgaW50IGludGVsX2RwX2F1eF9pbml0X2JhY2ts
aWdodF9mdW5jcyhzdHJ1Y3QgaW50ZWxfY29ubmVjdG9yICpjb25uZWN0b3IpCiAJc3RydWN0IGlu
dGVsX2RwICppbnRlbF9kcCA9IGVuY190b19pbnRlbF9kcChjb25uZWN0b3ItPmVuY29kZXIpOwog
CXN0cnVjdCBkcm1faTkxNV9wcml2YXRlICppOTE1ID0gZHBfdG9faTkxNShpbnRlbF9kcCk7CiAJ
Ym9vbCB0cnlfaW50ZWxfaW50ZXJmYWNlID0gZmFsc2UsIHRyeV92ZXNhX2ludGVyZmFjZSA9IGZh
bHNlOworCWNvbnN0IHN0cnVjdCB2YnRfYmFja2xpZ2h0X2luZm8gKmJhY2tsaWdodF9pbmZvOwog
CisJYmFja2xpZ2h0X2luZm8gPSBpbnRlbF9iaW9zX2JhY2tsaWdodF9pbmZvKGNvbm5lY3Rvci0+
ZW5jb2Rlcik7CiAJLyogQ2hlY2sgdGhlIFZCVCBhbmQgdXNlcidzIG1vZHVsZSBwYXJhbWV0ZXJz
IHRvIGZpZ3VyZSBvdXQgd2hpY2gKIAkgKiBpbnRlcmZhY2VzIHRvIHByb2JlCiAJICovCkBAIC0z
OTEsNyArMzk0LDcgQEAgaW50IGludGVsX2RwX2F1eF9pbml0X2JhY2tsaWdodF9mdW5jcyhzdHJ1
Y3QgaW50ZWxfY29ubmVjdG9yICpjb25uZWN0b3IpCiAJY2FzZSBJTlRFTF9EUF9BVVhfQkFDS0xJ
R0hUX09GRjoKIAkJcmV0dXJuIC1FTk9ERVY7CiAJY2FzZSBJTlRFTF9EUF9BVVhfQkFDS0xJR0hU
X0FVVE86Ci0JCXN3aXRjaCAoaTkxNS0+dmJ0LmJhY2tsaWdodC50eXBlKSB7CisJCXN3aXRjaCAo
YmFja2xpZ2h0X2luZm8tPnR5cGUpIHsKIAkJY2FzZSBJTlRFTF9CQUNLTElHSFRfVkVTQV9FRFBf
QVVYX0lOVEVSRkFDRToKIAkJCXRyeV92ZXNhX2ludGVyZmFjZSA9IHRydWU7CiAJCQlicmVhazsK
QEAgLTQwMyw3ICs0MDYsNyBAQCBpbnQgaW50ZWxfZHBfYXV4X2luaXRfYmFja2xpZ2h0X2Z1bmNz
KHN0cnVjdCBpbnRlbF9jb25uZWN0b3IgKmNvbm5lY3RvcikKIAkJfQogCQlicmVhazsKIAljYXNl
IElOVEVMX0RQX0FVWF9CQUNLTElHSFRfT046Ci0JCWlmIChpOTE1LT52YnQuYmFja2xpZ2h0LnR5
cGUgIT0gSU5URUxfQkFDS0xJR0hUX1ZFU0FfRURQX0FVWF9JTlRFUkZBQ0UpCisJCWlmIChiYWNr
bGlnaHRfaW5mby0+dHlwZSAhPSBJTlRFTF9CQUNLTElHSFRfVkVTQV9FRFBfQVVYX0lOVEVSRkFD
RSkKIAkJCXRyeV9pbnRlbF9pbnRlcmZhY2UgPSB0cnVlOwogCiAJCXRyeV92ZXNhX2ludGVyZmFj
ZSA9IHRydWU7CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVs
X2RzaV9kY3NfYmFja2xpZ2h0LmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVs
X2RzaV9kY3NfYmFja2xpZ2h0LmMKaW5kZXggNTg0YzE0YzRjYmQwZS4uNGRiZDBjNjc1NGFmOSAx
MDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kc2lfZGNzX2Jh
Y2tsaWdodC5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZHNpX2Rj
c19iYWNrbGlnaHQuYwpAQCAtMTY2LDExICsxNjYsMTIgQEAgc3RhdGljIGNvbnN0IHN0cnVjdCBp
bnRlbF9wYW5lbF9ibF9mdW5jcyBkY3NfYmxfZnVuY3MgPSB7CiBpbnQgaW50ZWxfZHNpX2Rjc19p
bml0X2JhY2tsaWdodF9mdW5jcyhzdHJ1Y3QgaW50ZWxfY29ubmVjdG9yICppbnRlbF9jb25uZWN0
b3IpCiB7CiAJc3RydWN0IGRybV9kZXZpY2UgKmRldiA9IGludGVsX2Nvbm5lY3Rvci0+YmFzZS5k
ZXY7Ci0Jc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2ID0gdG9faTkxNShkZXYpOwog
CXN0cnVjdCBpbnRlbF9lbmNvZGVyICplbmNvZGVyID0gaW50ZWxfYXR0YWNoZWRfZW5jb2Rlcihp
bnRlbF9jb25uZWN0b3IpOwogCXN0cnVjdCBpbnRlbF9wYW5lbCAqcGFuZWwgPSAmaW50ZWxfY29u
bmVjdG9yLT5wYW5lbDsKKwljb25zdCBzdHJ1Y3QgdmJ0X2JhY2tsaWdodF9pbmZvICpiYWNrbGln
aHRfaW5mbzsKIAotCWlmIChkZXZfcHJpdi0+dmJ0LmJhY2tsaWdodC50eXBlICE9IElOVEVMX0JB
Q0tMSUdIVF9EU0lfRENTKQorCWJhY2tsaWdodF9pbmZvID0gaW50ZWxfYmlvc19iYWNrbGlnaHRf
aW5mbyhlbmNvZGVyKTsKKwlpZiAoYmFja2xpZ2h0X2luZm8tPnR5cGUgIT0gSU5URUxfQkFDS0xJ
R0hUX0RTSV9EQ1MpCiAJCXJldHVybiAtRU5PREVWOwogCiAJaWYgKGRybV9XQVJOX09OKGRldiwg
ZW5jb2Rlci0+dHlwZSAhPSBJTlRFTF9PVVRQVVRfRFNJKSkKZGlmZiAtLWdpdCBhL2RyaXZlcnMv
Z3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfcGFuZWwuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1
L2Rpc3BsYXkvaW50ZWxfcGFuZWwuYwppbmRleCBhODhlMzBjOTY2ZmU3Li45Yzg5MjQ3NmQ4NjIx
IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX3BhbmVsLmMK
KysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9wYW5lbC5jCkBAIC0xNTk2
LDkgKzE1OTYsMTQgQEAgc3RhdGljIHUzMiB2bHZfaHpfdG9fcHdtKHN0cnVjdCBpbnRlbF9jb25u
ZWN0b3IgKmNvbm5lY3RvciwgdTMyIHB3bV9mcmVxX2h6KQogCXJldHVybiBESVZfUk9VTkRfQ0xP
U0VTVChjbG9jaywgcHdtX2ZyZXFfaHogKiBtdWwpOwogfQogCi1zdGF0aWMgdTE2IGdldF92YnRf
cHdtX2ZyZXEoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2KQorc3RhdGljIHUxNiBn
ZXRfdmJ0X3B3bV9mcmVxKHN0cnVjdCBpbnRlbF9jb25uZWN0b3IgKmNvbm5lY3RvcikKIHsKLQl1
MTYgcHdtX2ZyZXFfaHogPSBkZXZfcHJpdi0+dmJ0LmJhY2tsaWdodC5wd21fZnJlcV9oejsKKwlz
dHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYgPSB0b19pOTE1KGNvbm5lY3Rvci0+YmFz
ZS5kZXYpOworCWNvbnN0IHN0cnVjdCB2YnRfYmFja2xpZ2h0X2luZm8gKmJhY2tsaWdodF9pbmZv
OworCXUxNiBwd21fZnJlcV9oejsKKworCWJhY2tsaWdodF9pbmZvID0gaW50ZWxfYmlvc19iYWNr
bGlnaHRfaW5mbyhjb25uZWN0b3ItPmVuY29kZXIpOworCXB3bV9mcmVxX2h6ID0gYmFja2xpZ2h0
X2luZm8tPnB3bV9mcmVxX2h6OwogCiAJaWYgKHB3bV9mcmVxX2h6KSB7CiAJCWRybV9kYmdfa21z
KCZkZXZfcHJpdi0+ZHJtLApAQCAtMTYxOCw3ICsxNjIzLDcgQEAgc3RhdGljIHUzMiBnZXRfYmFj
a2xpZ2h0X21heF92YnQoc3RydWN0IGludGVsX2Nvbm5lY3RvciAqY29ubmVjdG9yKQogewogCXN0
cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiA9IHRvX2k5MTUoY29ubmVjdG9yLT5iYXNl
LmRldik7CiAJc3RydWN0IGludGVsX3BhbmVsICpwYW5lbCA9ICZjb25uZWN0b3ItPnBhbmVsOwot
CXUxNiBwd21fZnJlcV9oeiA9IGdldF92YnRfcHdtX2ZyZXEoZGV2X3ByaXYpOworCXUxNiBwd21f
ZnJlcV9oeiA9IGdldF92YnRfcHdtX2ZyZXEoY29ubmVjdG9yKTsKIAl1MzIgcHdtOwogCiAJaWYg
KCFwYW5lbC0+YmFja2xpZ2h0LnB3bV9mdW5jcy0+aHpfdG9fcHdtKSB7CkBAIC0xNjQzLDExICsx
NjQ4LDE0IEBAIHN0YXRpYyB1MzIgZ2V0X2JhY2tsaWdodF9tYXhfdmJ0KHN0cnVjdCBpbnRlbF9j
b25uZWN0b3IgKmNvbm5lY3RvcikKIHN0YXRpYyB1MzIgZ2V0X2JhY2tsaWdodF9taW5fdmJ0KHN0
cnVjdCBpbnRlbF9jb25uZWN0b3IgKmNvbm5lY3RvcikKIHsKIAlzdHJ1Y3QgZHJtX2k5MTVfcHJp
dmF0ZSAqZGV2X3ByaXYgPSB0b19pOTE1KGNvbm5lY3Rvci0+YmFzZS5kZXYpOworCWNvbnN0IHN0
cnVjdCB2YnRfYmFja2xpZ2h0X2luZm8gKmJhY2tsaWdodF9pbmZvOwogCXN0cnVjdCBpbnRlbF9w
YW5lbCAqcGFuZWwgPSAmY29ubmVjdG9yLT5wYW5lbDsKIAlpbnQgbWluOwogCiAJZHJtX1dBUk5f
T04oJmRldl9wcml2LT5kcm0sIHBhbmVsLT5iYWNrbGlnaHQucHdtX2xldmVsX21heCA9PSAwKTsK
IAorCWJhY2tsaWdodF9pbmZvID0gaW50ZWxfYmlvc19iYWNrbGlnaHRfaW5mbyhjb25uZWN0b3It
PmVuY29kZXIpOworCiAJLyoKIAkgKiBYWFg6IElmIHRoZSB2YnQgdmFsdWUgaXMgMjU1LCBpdCBt
YWtlcyBtaW4gZXF1YWwgdG8gbWF4LCB3aGljaCBsZWFkcwogCSAqIHRvIHByb2JsZW1zLiBUaGVy
ZSBhcmUgc3VjaCBtYWNoaW5lcyBvdXQgdGhlcmUuIEVpdGhlciBvdXIKQEAgLTE2NTUsMTEgKzE2
NjMsMTEgQEAgc3RhdGljIHUzMiBnZXRfYmFja2xpZ2h0X21pbl92YnQoc3RydWN0IGludGVsX2Nv
bm5lY3RvciAqY29ubmVjdG9yKQogCSAqIGFnYWluc3QgdGhpcyBieSBsZXR0aW5nIHRoZSBtaW5p
bXVtIGJlIGF0IG1vc3QgKGFyYml0cmFyaWx5IGNob3NlbikKIAkgKiAyNSUgb2YgdGhlIG1heC4K
IAkgKi8KLQltaW4gPSBjbGFtcF90KGludCwgZGV2X3ByaXYtPnZidC5iYWNrbGlnaHQubWluX2Jy
aWdodG5lc3MsIDAsIDY0KTsKLQlpZiAobWluICE9IGRldl9wcml2LT52YnQuYmFja2xpZ2h0Lm1p
bl9icmlnaHRuZXNzKSB7CisJbWluID0gY2xhbXBfdChpbnQsIGJhY2tsaWdodF9pbmZvLT5taW5f
YnJpZ2h0bmVzcywgMCwgNjQpOworCWlmIChtaW4gIT0gYmFja2xpZ2h0X2luZm8tPm1pbl9icmln
aHRuZXNzKSB7CiAJCWRybV9kYmdfa21zKCZkZXZfcHJpdi0+ZHJtLAogCQkJICAgICJjbGFtcGlu
ZyBWQlQgbWluIGJhY2tsaWdodCAlZC8yNTUgdG8gJWQvMjU1XG4iLAotCQkJICAgIGRldl9wcml2
LT52YnQuYmFja2xpZ2h0Lm1pbl9icmlnaHRuZXNzLCBtaW4pOworCQkJICAgIGJhY2tsaWdodF9p
bmZvLT5taW5fYnJpZ2h0bmVzcywgbWluKTsKIAl9CiAKIAkvKiB2YnQgdmFsdWUgaXMgYSBjb2Vm
ZmljaWVudCBpbiByYW5nZSBbMC4uMjU1XSAqLwpAQCAtMTg0NSwxMCArMTg1MywxMiBAQCBzdGF0
aWMgaW50CiBieHRfc2V0dXBfYmFja2xpZ2h0KHN0cnVjdCBpbnRlbF9jb25uZWN0b3IgKmNvbm5l
Y3RvciwgZW51bSBwaXBlIHVudXNlZCkKIHsKIAlzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2
X3ByaXYgPSB0b19pOTE1KGNvbm5lY3Rvci0+YmFzZS5kZXYpOworCWNvbnN0IHN0cnVjdCB2YnRf
YmFja2xpZ2h0X2luZm8gKmJhY2tsaWdodF9pbmZvOwogCXN0cnVjdCBpbnRlbF9wYW5lbCAqcGFu
ZWwgPSAmY29ubmVjdG9yLT5wYW5lbDsKIAl1MzIgcHdtX2N0bCwgdmFsOwogCi0JcGFuZWwtPmJh
Y2tsaWdodC5jb250cm9sbGVyID0gZGV2X3ByaXYtPnZidC5iYWNrbGlnaHQuY29udHJvbGxlcjsK
KwliYWNrbGlnaHRfaW5mbyA9IGludGVsX2Jpb3NfYmFja2xpZ2h0X2luZm8oY29ubmVjdG9yLT5l
bmNvZGVyKTsKKwlwYW5lbC0+YmFja2xpZ2h0LmNvbnRyb2xsZXIgPSBiYWNrbGlnaHRfaW5mby0+
Y29udHJvbGxlcjsKIAogCXB3bV9jdGwgPSBpbnRlbF9kZV9yZWFkKGRldl9wcml2LAogCQkJCUJY
VF9CTENfUFdNX0NUTChwYW5lbC0+YmFja2xpZ2h0LmNvbnRyb2xsZXIpKTsKQEAgLTE5NTAsMTEg
KzE5NjAsMTEgQEAgc3RhdGljIGludCBleHRfcHdtX3NldHVwX2JhY2tsaWdodChzdHJ1Y3QgaW50
ZWxfY29ubmVjdG9yICpjb25uZWN0b3IsCiAKIAkJZHJtX2RiZ19rbXMoJmRldl9wcml2LT5kcm0s
ICJQV00gYWxyZWFkeSBlbmFibGVkIGF0IGZyZXEgJWxkLCBWQlQgZnJlcSAlZCwgbGV2ZWwgJWRc
biIsCiAJCQkgICAgTlNFQ19QRVJfU0VDIC8gKHVuc2lnbmVkIGxvbmcpcGFuZWwtPmJhY2tsaWdo
dC5wd21fc3RhdGUucGVyaW9kLAotCQkJICAgIGdldF92YnRfcHdtX2ZyZXEoZGV2X3ByaXYpLCBs
ZXZlbCk7CisJCQkgICAgZ2V0X3ZidF9wd21fZnJlcShjb25uZWN0b3IpLCBsZXZlbCk7CiAJfSBl
bHNlIHsKIAkJLyogU2V0IHBlcmlvZCBmcm9tIFZCVCBmcmVxdWVuY3ksIGxlYXZlIG90aGVyIHNl
dHRpbmdzIGF0IDAuICovCiAJCXBhbmVsLT5iYWNrbGlnaHQucHdtX3N0YXRlLnBlcmlvZCA9Ci0J
CQlOU0VDX1BFUl9TRUMgLyBnZXRfdmJ0X3B3bV9mcmVxKGRldl9wcml2KTsKKwkJCU5TRUNfUEVS
X1NFQyAvIGdldF92YnRfcHdtX2ZyZXEoY29ubmVjdG9yKTsKIAl9CiAKIAlkcm1faW5mbygmZGV2
X3ByaXYtPmRybSwgIlVzaW5nICVzIFBXTSBmb3IgTENEIGJhY2tsaWdodCBjb250cm9sXG4iLApA
QCAtMjAzNywxMCArMjA0NywxMiBAQCBpbnQgaW50ZWxfcGFuZWxfc2V0dXBfYmFja2xpZ2h0KHN0
cnVjdCBkcm1fY29ubmVjdG9yICpjb25uZWN0b3IsIGVudW0gcGlwZSBwaXBlKQogewogCXN0cnVj
dCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiA9IHRvX2k5MTUoY29ubmVjdG9yLT5kZXYpOwog
CXN0cnVjdCBpbnRlbF9jb25uZWN0b3IgKmludGVsX2Nvbm5lY3RvciA9IHRvX2ludGVsX2Nvbm5l
Y3Rvcihjb25uZWN0b3IpOworCWNvbnN0IHN0cnVjdCB2YnRfYmFja2xpZ2h0X2luZm8gKmJhY2ts
aWdodF9pbmZvOwogCXN0cnVjdCBpbnRlbF9wYW5lbCAqcGFuZWwgPSAmaW50ZWxfY29ubmVjdG9y
LT5wYW5lbDsKIAlpbnQgcmV0OwogCi0JaWYgKCFkZXZfcHJpdi0+dmJ0LmJhY2tsaWdodC5wcmVz
ZW50KSB7CisJYmFja2xpZ2h0X2luZm8gPSBpbnRlbF9iaW9zX2JhY2tsaWdodF9pbmZvKGludGVs
X2Nvbm5lY3Rvci0+ZW5jb2Rlcik7CisJaWYgKCFiYWNrbGlnaHRfaW5mby0+cHJlc2VudCkgewog
CQlpZiAoZGV2X3ByaXYtPnF1aXJrcyAmIFFVSVJLX0JBQ0tMSUdIVF9QUkVTRU5UKSB7CiAJCQlk
cm1fZGJnX2ttcygmZGV2X3ByaXYtPmRybSwKIAkJCQkgICAgIm5vIGJhY2tsaWdodCBwcmVzZW50
IHBlciBWQlQsIGJ1dCBwcmVzZW50IHBlciBxdWlya1xuIik7CmRpZmYgLS1naXQgYS9kcml2ZXJz
L2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX3Bwcy5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUv
ZGlzcGxheS9pbnRlbF9wcHMuYwppbmRleCBhMzZlYzRhODE4ZmY1Li45Njg5NGQ3MGE5MmMxIDEw
MDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX3Bwcy5jCisrKyBi
L2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfcHBzLmMKQEAgLTIwNyw3ICsyMDcs
MTMgQEAgc3RhdGljIGludAogYnh0X3Bvd2VyX3NlcXVlbmNlcl9pZHgoc3RydWN0IGludGVsX2Rw
ICppbnRlbF9kcCkKIHsKIAlzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYgPSBkcF90
b19pOTE1KGludGVsX2RwKTsKLQlpbnQgYmFja2xpZ2h0X2NvbnRyb2xsZXIgPSBkZXZfcHJpdi0+
dmJ0LmJhY2tsaWdodC5jb250cm9sbGVyOworCXN0cnVjdCBpbnRlbF9kaWdpdGFsX3BvcnQgKmRp
Z19wb3J0ID0gZHBfdG9fZGlnX3BvcnQoaW50ZWxfZHApOworCXN0cnVjdCBpbnRlbF9lbmNvZGVy
ICplbmNvZGVyID0gJmRpZ19wb3J0LT5iYXNlOworCWNvbnN0IHN0cnVjdCB2YnRfYmFja2xpZ2h0
X2luZm8gKmJhY2tsaWdodF9pbmZvOworCWludCBiYWNrbGlnaHRfY29udHJvbGxlcjsKKworCWJh
Y2tsaWdodF9pbmZvID0gaW50ZWxfYmlvc19iYWNrbGlnaHRfaW5mbyhlbmNvZGVyKTsKKwliYWNr
bGlnaHRfY29udHJvbGxlciA9IGJhY2tsaWdodF9pbmZvLT5jb250cm9sbGVyOwogCiAJbG9ja2Rl
cF9hc3NlcnRfaGVsZCgmZGV2X3ByaXYtPnBwc19tdXRleCk7CiAKZGlmZiAtLWdpdCBhL2RyaXZl
cnMvZ3B1L2RybS9pOTE1L2k5MTVfZHJ2LmggYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2Ry
di5oCmluZGV4IGVmM2E4NmU0YWJhMDIuLjY5OWQwZTQ2MDNhMzggMTAwNjQ0Ci0tLSBhL2RyaXZl
cnMvZ3B1L2RybS9pOTE1L2k5MTVfZHJ2LmgKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkx
NV9kcnYuaApAQCAtNjU0LDYgKzY1NCwxNSBAQCBzdHJ1Y3QgZGRpX3ZidF9wb3J0X2luZm8gewog
CWVudW0gZHJyc19zdXBwb3J0X3R5cGUgZHJyc190eXBlOwogCiAJc3RydWN0IGRybV9kaXNwbGF5
X21vZGUgKmxmcF9sdmRzX3ZidF9tb2RlOyAvKiBpZiBhbnkgKi8KKworCXN0cnVjdCB2YnRfYmFj
a2xpZ2h0X2luZm8geworCQl1MTYgcHdtX2ZyZXFfaHo7CisJCWJvb2wgcHJlc2VudDsKKwkJYm9v
bCBhY3RpdmVfbG93X3B3bTsKKwkJdTggbWluX2JyaWdodG5lc3M7CS8qIG1pbl9icmlnaHRuZXNz
LzI1NSBvZiBtYXggKi8KKwkJdTggY29udHJvbGxlcjsJCS8qIGJyaWdodG5lc3MgY29udHJvbGxl
ciBudW1iZXIgKi8KKwkJZW51bSBpbnRlbF9iYWNrbGlnaHRfdHlwZSB0eXBlOworCX0gYmFja2xp
Z2h0OwogfTsKIAogZW51bSBwc3JfbGluZXNfdG9fd2FpdCB7CkBAIC03MDQsMTUgKzcxMyw2IEBA
IHN0cnVjdCBpbnRlbF92YnRfZGF0YSB7CiAJCWludCBwc3IyX3RwMl90cDNfd2FrZXVwX3RpbWVf
dXM7CiAJfSBwc3I7CiAKLQlzdHJ1Y3QgewotCQl1MTYgcHdtX2ZyZXFfaHo7Ci0JCWJvb2wgcHJl
c2VudDsKLQkJYm9vbCBhY3RpdmVfbG93X3B3bTsKLQkJdTggbWluX2JyaWdodG5lc3M7CS8qIG1p
bl9icmlnaHRuZXNzLzI1NSBvZiBtYXggKi8KLQkJdTggY29udHJvbGxlcjsJCS8qIGJyaWdodG5l
c3MgY29udHJvbGxlciBudW1iZXIgKi8KLQkJZW51bSBpbnRlbF9iYWNrbGlnaHRfdHlwZSB0eXBl
OwotCX0gYmFja2xpZ2h0OwotCiAJLyogTUlQSSBEU0kgKi8KIAlzdHJ1Y3QgewogCQl1MTYgcGFu
ZWxfaWQ7Ci0tIAoyLjMyLjAKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fCkludGVsLWdmeCBtYWlsaW5nIGxpc3QKSW50ZWwtZ2Z4QGxpc3RzLmZyZWVkZXNr
dG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2lu
dGVsLWdmeAo=

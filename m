Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 9C394C1215
	for <lists+intel-gfx@lfdr.de>; Sat, 28 Sep 2019 22:03:06 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 3F2F46E064;
	Sat, 28 Sep 2019 20:03:04 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mail.kernel.org (mail.kernel.org [198.145.29.99])
 by gabe.freedesktop.org (Postfix) with ESMTPS id C645A6E064
 for <intel-gfx@lists.freedesktop.org>; Sat, 28 Sep 2019 20:03:03 +0000 (UTC)
Received: from localhost (unknown [40.117.208.15])
 (using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
 (No client certificate requested)
 by mail.kernel.org (Postfix) with ESMTPSA id 53F9220863;
 Sat, 28 Sep 2019 20:03:03 +0000 (UTC)
Date: Sat, 28 Sep 2019 20:03:02 +0000
From: Sasha Levin <sashal@kernel.org>
To: Sasha Levin <sashal@kernel.org>
To: Chris Wilson <chris@chris-wilson.co.uk>
To: intel-gfx@lists.freedesktop.org
In-Reply-To: <20190927163400.22767-1-chris@chris-wilson.co.uk>
References: <20190927163400.22767-1-chris@chris-wilson.co.uk>
Message-Id: <20190928200303.53F9220863@mail.kernel.org>
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple;
 d=kernel.org; s=default; t=1569700983;
 bh=8FLh80hl7xPr/I7E9guvrOisZ7ERmVPvwwRecs3ULMI=;
 h=Date:From:To:To:To:Cc:Cc:Cc:Cc:Cc:Subject:In-Reply-To:References:
 From;
 b=G42Klr5BIjdVYI/iJ15H1cNo8j4fu2CWHhNxu17PeonNNgM7OVXYvGSfSecyzWYhq
 QGUzlxFwUMlvXuJ0Z9wlsU+k5PvRUKca8IomMHR5i0b52/0OaklrRdy3eDuIUh/K1v
 q8VDezWmbfipYVumt72fuQwhNQie0jsTkc7xKWWQ=
Subject: Re: [Intel-gfx] [PATCH] drm/i915/userptr: Never allow userptr into
 the mappable GGTT
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: , Daniel Vetter <daniel.vetter@ffwll.ch>, stable@vger.kernel.org
MIME-Version: 1.0
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

SGksCgpbVGhpcyBpcyBhbiBhdXRvbWF0ZWQgZW1haWxdCgpUaGlzIGNvbW1pdCBoYXMgYmVlbiBw
cm9jZXNzZWQgYmVjYXVzZSBpdCBjb250YWlucyBhIC1zdGFibGUgdGFnLgpUaGUgc3RhYmxlIHRh
ZyBpbmRpY2F0ZXMgdGhhdCBpdCdzIHJlbGV2YW50IGZvciB0aGUgZm9sbG93aW5nIHRyZWVzOiBh
bGwKClRoZSBib3QgaGFzIHRlc3RlZCB0aGUgZm9sbG93aW5nIHRyZWVzOiB2NS4zLjEsIHY1LjIu
MTcsIHY0LjE5Ljc1LCB2NC4xNC4xNDYsIHY0LjkuMTk0LCB2NC40LjE5NC4KCnY1LjMuMTogQnVp
bGQgT0shCnY1LjIuMTc6IEZhaWxlZCB0byBhcHBseSEgUG9zc2libGUgZGVwZW5kZW5jaWVzOgog
ICAgMDk0MDc1NzlhYmY1ICgiZHJtL2k5MTU6IFN0b3JlIHRoZSBkZWZhdWx0IHNzZXUgc2V0dXAg
b24gdGhlIGVuZ2luZSIpCiAgICAxMTJlZDJkMzFhNDYgKCJkcm0vaTkxNTogTW92ZSBHcmFwaGlj
c1RlY2hub2xvZ3kgZmlsZXMgdW5kZXIgZ3QvIikKICAgIDVlNWQyZTIwOWUwOCAoImRybS9pOTE1
OiBTcGxpdCBHRU0gb2JqZWN0IHR5cGUgZGVmaW5pdGlvbiB0byBpdHMgb3duIGhlYWRlciIpCgp2
NC4xOS43NTogRmFpbGVkIHRvIGFwcGx5ISBQb3NzaWJsZSBkZXBlbmRlbmNpZXM6CiAgICA0MWI0
ZGVlYWExMjMgKCJSRE1BL3VtZW06IE1ha2UgaWJfdW1lbV9vZHAgaW50byBhIHN1YiBzdHJ1Y3R1
cmUgb2YgaWJfdW1lbSIpCiAgICA0ODRkOWE4NDRkMGQgKCJkcm0vaTkxNS91c2VycHRyOiBBdm9p
ZCBzdHJ1Y3RfbXV0ZXggcmVjdXJzaW9uIGZvciBtbXVfaW52YWxpZGF0ZV9yYW5nZV9zdGFydCIp
CiAgICA1OTdlY2M1YTA5NTQgKCJSRE1BL3VtZW06IEdldCByaWQgb2Ygc3RydWN0IGliX3VtZW0u
b2RwX2RhdGEiKQogICAgNWQ2NTI3YTc4NGY3ICgibW0vbW11X25vdGlmaWVyOiB1c2Ugc3RydWN0
dXJlIGZvciBpbnZhbGlkYXRlX3JhbmdlX3N0YXJ0L2VuZCBjYWxsYmFjayIpCiAgICBiNTIzMWIw
MTlkNzYgKCJSRE1BL3VtZW06IFVzZSBpYl91bWVtX29kcCBpbiBhbGwgZnVuY3Rpb24gc2lnbmF0
dXJlcyBjb25uZWN0ZWQgdG8gT0RQIikKICAgIGM5OTkwYWIzOWI2ZSAoIlJETUEvdW1lbTogTW92
ZSBhbGwgdGhlIE9EUCByZWxhdGVkIHN0dWZmIG91dCBvZiB1Y29udGV4dCBhbmQgaW50byBwZXJf
bW0iKQogICAgZDRiNGRkMWI5NzA2ICgiUkRNQS91bWVtOiBEbyBub3QgdXNlIGN1cnJlbnQtPnRn
aWQgdG8gdHJhY2sgdGhlIG1tX3N0cnVjdCIpCgp2NC4xNC4xNDY6IEZhaWxlZCB0byBhcHBseSEg
UG9zc2libGUgZGVwZW5kZW5jaWVzOgogICAgMTc1MzNiZjk1NzE5ICgiZHJtL2k5MTU6IFJlbmFt
ZSBsdmRzX3VzZV9zc2MgbW9kcGFyYW0gdG8gcGFuZWxfdXNlX3NzYyIpCiAgICAzZGNmNGYyMDdl
OGUgKCJkcm0vaTkxNTogRXh0ZW5kIHByaXZhdGUgaTkxNV9wYXJhbV9uYW1lZCBtYWNybyB3aXRo
IGRlc2NyaXB0aW9uIikKICAgIDQ4NGQ5YTg0NGQwZCAoImRybS9pOTE1L3VzZXJwdHI6IEF2b2lk
IHN0cnVjdF9tdXRleCByZWN1cnNpb24gZm9yIG1tdV9pbnZhbGlkYXRlX3JhbmdlX3N0YXJ0IikK
ICAgIDRmMDQ0YTg4YTg2YSAoImRybS9pOTE1OiBSZW5hbWUgZ2xvYmFsIGk5MTUgdG8gaTkxNV9t
b2RwYXJhbXMiKQogICAgNTYwMjQ1MmU0Yzk5ICgiZHJtL2k5MTU6IFVzZSBfX3NnX2FsbG9jX3Rh
YmxlX2Zyb21fcGFnZXMgZm9yIHVzZXJwdHIgYWxsb2NhdGlvbnMiKQogICAgNmQyY2I1YWEzODNi
ICgiZHJtL2k5MTUvZXhlY2xpc3RzOiBSZWFkIHRoZSBjb250ZXh0LXN0YXR1cyBidWZmZXIgZnJv
bSB0aGUgSFdTUCIpCiAgICA4OGM4ODBiYmRlYmUgKCJkcm0vaTkxNTogTGlmdCBoYXMtcGlubmVk
LXBhZ2VzIGFzc2VydCB0byBjYWxsZXIgb2YgX19fX2k5MTVfZ2VtX29iamVjdF9nZXRfcGFnZXMi
KQogICAgYTVjMDgxNjYyNjVhICgiZHJtL2k5MTU6IGludHJvZHVjZSBwYWdlX3NpemUgbWVtYmVy
cyIpCiAgICBhY2QxYzFlNjIxZmMgKCJkcm0vaTkxNTogUmVmYWN0b3IgdW5zZXR0dGluZyBvYmot
Pm1tLnBhZ2VzIikKICAgIGM5NTQ2OTMyNDUxOCAoImRybS9pOTE1OiBJbnRyb2R1Y2UgY3VzdG9t
IHZhcmlhbnQgb2YgbW9kdWxlX3BhcmFtX25hbWVkIG1hY3JvIikKICAgIGYxZmE0ZjQ0MmM4MiAo
ImRybS9pOTE1OiBSZWZhY3RvciB0ZXN0aW5nIG9iai0+bW0ucGFnZXMiKQoKdjQuOS4xOTQ6IEZh
aWxlZCB0byBhcHBseSEgUG9zc2libGUgZGVwZW5kZW5jaWVzOgogICAgMDNhYzg0ZjE4MzBlICgi
ZHJtL2k5MTU6IFBhc3MgYXJvdW5kIHNnX3RhYmxlIHRvIGdldF9wYWdlcy9wdXRfcGFnZXMgYmFj
a2VuZCIpCiAgICAwZTcwNDQ3NjA1ZjQgKCJkcm0vaTkxNTogTW92ZSBjb21tb24gY29kZSBvdXQg
b2YgaTkxNV9ncHVfZXJyb3IuYyIpCiAgICAxYjM2NTk1ZmZiMzUgKCJkcm0vaTkxNTogU2hvdyBS
SU5HIHJlZ2lzdGVycyB0aHJvdWdoIGRlYnVnZnMiKQogICAgMjc1ZjAzOWRiNTZmICgiZHJtL2k5
MTU6IE1vdmUgdXNlciBmYXVsdCB0cmFja2luZyB0byBhIHNlcGFyYXRlIGxpc3QiKQogICAgMzU5
NGEzZTIxZjFmICgiZHJtL2k5MTU6IFJlbW92ZSBzdXBlcmZsdW91cyBsb2NraW5nIGFyb3VuZCB1
c2VyZmF1bHRfbGlzdCIpCiAgICAzYjNmMTY1MGIxY2EgKCJkcm0vaTkxNTogQWxsb2NhdGUgaW50
ZWxfZW5naW5lX2NzIHN0cnVjdHVyZSBvbmx5IGZvciB0aGUgZW5hYmxlZCBlbmdpbmVzIikKICAg
IDQ4NGQ5YTg0NGQwZCAoImRybS9pOTE1L3VzZXJwdHI6IEF2b2lkIHN0cnVjdF9tdXRleCByZWN1
cnNpb24gZm9yIG1tdV9pbnZhbGlkYXRlX3JhbmdlX3N0YXJ0IikKICAgIDU0ODYyNWVlOGZkZSAo
ImRybS9pOTE1OiBJbXByb3ZlIGxvY2tkZXAgdHJhY2tpbmcgZm9yIG9iai0+bW0ubG9jayIpCiAg
ICA3YzEwOGZkOGZlYWMgKCJkcm0vaTkxNTogTW92ZSBmZW5jZSBjYW5jZWxsYXRpb24gdG8gcnVu
dGltZSBzdXNwZW5kIikKICAgIDhiYWExZjA0YjllZCAoImRybS9pOTE1OiBVcGRhdGUgZGVidWdm
cyBkZXNjcmliZV9vYmooKSB0byBzaG93IGZhdWx0LW1hcHBhYmxlIikKICAgIDk2ZDc3NjM0NTI3
NyAoImRybS9pOTE1OiBVc2UgYSByYWRpeHRyZWUgZm9yIHJhbmRvbSBhY2Nlc3MgdG8gdGhlIG9i
amVjdCdzIGJhY2tpbmcgc3RvcmFnZSIpCiAgICA5Yzg3MGQwMzY3NGYgKCJkcm0vaTkxNTogVXNl
IFJQTSBhcyB0aGUgYmFycmllciBmb3IgY29udHJvbGxpbmcgdXNlciBtbWFwIGFjY2VzcyIpCiAg
ICBhNGY1ZWE2NGYwYTggKCJkcm0vaTkxNTogUmVmYWN0b3Igb2JqZWN0IHBhZ2UgQVBJIikKICAg
IGQ2MzY5NTFlYzAxYiAoImRybS9pOTE1OiBDbGVhbnVwIGluc3Rkb25lIGNvbGxlY3Rpb24iKQog
ICAgZjhhN2ZkZTQ1NjEwICgiZHJtL2k5MTU6IERlZmVyIGFjdGl2ZSByZWZlcmVuY2UgdW50aWwg
cmVxdWlyZWQiKQoKdjQuNC4xOTQ6IEZhaWxlZCB0byBhcHBseSEgUG9zc2libGUgZGVwZW5kZW5j
aWVzOgogICAgMDMzOTA4YWVkNWE1ICgiZHJtL2k5MTU6IG1hcmsgR0VNIG9iamVjdCBwYWdlcyBk
aXJ0eSB3aGVuIG1hcHBlZCAmIHdyaXR0ZW4gYnkgdGhlIENQVSIpCiAgICAwM2FjODRmMTgzMGUg
KCJkcm0vaTkxNTogUGFzcyBhcm91bmQgc2dfdGFibGUgdG8gZ2V0X3BhZ2VzL3B1dF9wYWdlcyBi
YWNrZW5kIikKICAgIDA5Y2JmZWFmMWE1YSAoIm1tLCBmczogZ2V0IHJpZCBvZiBQQUdFX0NBQ0hF
XyogYW5kIHBhZ2VfY2FjaGVfe2dldCxyZWxlYXNlfSBtYWNyb3MiKQogICAgMGU3NDllNTQyNDRl
ICgiZGF4OiBpbmNyZWFzZSBncmFudWxhcml0eSBvZiBkYXhfY2xlYXJfYmxvY2tzKCkgb3BlcmF0
aW9ucyIpCiAgICA0NDIwY2ZkM2Y1MWMgKCJzdGFnaW5nOiBsdXN0cmU6IGZvcm1hdCBwcm9wZXJs
eSBhbGwgY29tbWVudCBibG9ja3MgZm9yIExOZXQgY29yZSIpCiAgICA0ODRkOWE4NDRkMGQgKCJk
cm0vaTkxNS91c2VycHRyOiBBdm9pZCBzdHJ1Y3RfbXV0ZXggcmVjdXJzaW9uIGZvciBtbXVfaW52
YWxpZGF0ZV9yYW5nZV9zdGFydCIpCiAgICA0YzM1MjM2MjNkYzAgKCJuZXQ6IGFkZCBkcml2ZXIg
Zm9yIE5ldHJvbm9tZSBORlA0MDAwL05GUDYwMDAgTklDIFZGcyIpCiAgICA1MmRiNDAwZmNkNTAg
KCJwbWVtLCBkYXg6IGNsZWFuIHVwIGNsZWFyX3BtZW0oKSIpCiAgICA1NDg2MjVlZThmZGUgKCJk
cm0vaTkxNTogSW1wcm92ZSBsb2NrZGVwIHRyYWNraW5nIGZvciBvYmotPm1tLmxvY2siKQogICAg
NWZkODgzMzdkMjA5ICgic3RhZ2luZzogbHVzdHJlOiBmaXggYWxsIGNvbmRpdGlvbmFsIGNvbXBh
cmlzb24gdG8gemVybyBpbiBMTmV0IGxheWVyIikKICAgIDg1ZDEyMjVlYzA2NiAoImRybS9pOTE1
OiBJbnRyb2R1Y2UgJiB1c2UgbmV3IGxpZ2h0d2VpZ2h0IFNHTCBpdGVyYXRvcnMiKQogICAgYTE4
ODIyMmI2ZWQyICgibmV0OiBSZW5hbWUgTkVUSUZfRl9BTExfQ1NVTSB0byBORVRJRl9GX0NTVU1f
TUFTSyIpCiAgICBiMmUwZDE2MjVlMTkgKCJkYXg6IGZpeCBsaWZldGltZSBvZiBpbi1rZXJuZWwg
ZGF4IG1hcHBpbmdzIHdpdGggZGF4X21hcF9hdG9taWMoKSIpCiAgICBiOWJjZDE0YTJiOTEgKCJk
cm0vaTkxNTogRXh0cmFjdCBjaGVja2luZyBmb3IgYmFja2luZyBzdHJ1Y3QgcGFnZXMgdG8gYSBo
ZWxwZXIiKQogICAgZDFhNWYyYjRkOGExICgiYmxvY2s6IHVzZSBEQVggZm9yIHBhcnRpdGlvbiB0
YWJsZSByZWFkcyIpCiAgICBkZTQ3MjY2NDliNmIgKCJkcm0vaTkxNTogQWxsb3cgaTkxNV9nZW1f
b2JqZWN0X2dldF9wYWdlKCkgb24gdXNlcnB0ciBhcyB3ZWxsIikKICAgIGUxMDYyNGY4YzA5NyAo
InBtZW06IGZhaWwgaW8tcmVxdWVzdHMgdG8ga25vd24gYmFkIGJsb2NrcyIpCgoKTk9URTogVGhl
IHBhdGNoIHdpbGwgbm90IGJlIHF1ZXVlZCB0byBzdGFibGUgdHJlZXMgdW50aWwgaXQgaXMgdXBz
dHJlYW0uCgpIb3cgc2hvdWxkIHdlIHByb2NlZWQgd2l0aCB0aGlzIHBhdGNoPwoKLS0KVGhhbmtz
LApTYXNoYQpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpJ
bnRlbC1nZnggbWFpbGluZyBsaXN0CkludGVsLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0
cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9pbnRlbC1nZng=

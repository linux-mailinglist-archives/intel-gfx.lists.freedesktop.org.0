Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 140F82DA6D
	for <lists+intel-gfx@lfdr.de>; Wed, 29 May 2019 12:24:59 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 06BDE6E0EA;
	Wed, 29 May 2019 10:24:57 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from fireflyinternet.com (mail.fireflyinternet.com [109.228.58.192])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 8A87E6E0E2;
 Wed, 29 May 2019 10:24:54 +0000 (UTC)
X-Default-Received-SPF: pass (skip=forwardok (res=PASS))
 x-ip-name=78.156.65.138; 
Received: from localhost (unverified [78.156.65.138]) 
 by fireflyinternet.com (Firefly Internet (M1)) with ESMTP (TLS) id
 16717988-1500050 for multiple; Wed, 29 May 2019 11:24:52 +0100
MIME-Version: 1.0
To: Mika Kuoppala <mika.kuoppala@linux.intel.com>,
 intel-gfx@lists.freedesktop.org
From: Chris Wilson <chris@chris-wilson.co.uk>
In-Reply-To: <87ef4ho9bh.fsf@gaia.fi.intel.com>
References: <20190529095805.31851-1-chris@chris-wilson.co.uk>
 <87ef4ho9bh.fsf@gaia.fi.intel.com>
Message-ID: <155912548956.13891.16600713179238619259@skylake-alporthouse-com>
User-Agent: alot/0.6
Date: Wed, 29 May 2019 11:24:49 +0100
Subject: Re: [Intel-gfx] [igt-dev] [PATCH i-g-t] i915/gem_workarounds:
 Verify regs directly
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: igt-dev@lists.freedesktop.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

UXVvdGluZyBNaWthIEt1b3BwYWxhICgyMDE5LTA1LTI5IDExOjE1OjQ2KQo+IENocmlzIFdpbHNv
biA8Y2hyaXNAY2hyaXMtd2lsc29uLmNvLnVrPiB3cml0ZXM6Cj4gCj4gPiBJdCBzZWVtcyBsaWtl
IHRoZSBIVyB2YWxpZGF0b3IgaXMgZ2V0dGluZyBiZXR0ZXIgYXQgcHJldmVudGluZyBvdXIKPiA+
IHNub29waW5nIG9mIHN5c3RlbSByZWdpc3RlcnMgZnJvbSBub24tcHJpdmlsZWdlZCBiYXRjaGVz
ISBJZiB3ZSBjYW4ndAo+ID4gdXNlIFNSTSwgbGV0J3MgcHJvYmUgdGhlIHJlZ2lzdGVyIGRpcmVj
dGx5IHRocm91Z2ggbW1pbywgbWFraW5nIHN1cmUgd2UKPiA+IGhhdmUgdGhlIGNvbnRleHQgc3Bp
bm5pbmcgb24gdGhlIEdQVSBmaXJzdC4KPiA+Cj4gPiB2MjogSG9sZCBmb3JjZXdha2UganVzdCBp
biBjYXNlIHRoZSBzcGlubmluZyBiYXRjaCBpc24ndCBlbm91Z2ggdG8KPiA+IGp1c3RpZnkgb3Vy
IHJlZ2lzdGVyIGFjY2Vzcy4KPiA+Cj4gCj4gSWYgSSByZWNhbGwgY29ycmVjdGx5LCBlaXRoZXIg
b2YgdGhlbSBzZXBhcmF0ZWx5IGRpZG4ndAo+IHdvcmsuIEFuZCB0aGVyZSB3YXMgZGVsYXkgYWZ0
ZXIgZ3JhYmJpbmcgdGhlIGZ3IGJlZm9yZQo+IHRoZSByZWdpc3RlciBjb250ZW50cyBhcHBlYXJl
ZC4gRG9uJ3QgcmVtZW1iZXIgdGhlIGdlbiB0aG8uCgpUaGF0IHdvdWxkIGJlIGEga2VybmVsIGJ1
ZyAvIEhXIGJ1Zy4gRWl0aGVyIHdlIGZhaWwgaW4gb3VyIGFjayBzZXF1ZW5jZQoobWF5YmUgbGV0
IHRoZSByZWFkIG92ZXJ0YWtlIHRoZSBmdyBhY2sgb3Igc29tZXRoaW5nIGVxdWFsbHkgaW1wb3Nz
aWJsZSksCm9yIHRoZSBIVyBmYWlscyBpbiBpdHMuCgpJZiB5b3UgY2FuIHRoaW5rIG9mIGEgd2F5
IG9mIHNwb3R0aW5nIGl0LCBhZGQgaXQgdG8Kc2VsZnRlc3RzL2ludGVsX3VuY29yZSAtLSBpdCdz
IGV4YWN0bHkgdGhlIHR5cGUgb2YgdGVzdCB3ZSBuZWVkIGluIGJyaW5nCnVwLCB2ZXJpZnlpbmcg
b3VyIG1taW8gaXMgYWNjdXJhdGUuCgo+ID4gQnVnemlsbGE6IGh0dHBzOi8vYnVncy5mcmVlZGVz
a3RvcC5vcmcvc2hvd19idWcuY2dpP2lkPTExMDU0NAo+ID4gU2lnbmVkLW9mZi1ieTogQ2hyaXMg
V2lsc29uIDxjaHJpc0BjaHJpcy13aWxzb24uY28udWs+Cj4gPiBDYzogTWF0dGhldyBBdWxkIDxt
YXR0aGV3LndpbGxpYW0uYXVsZEBnbWFpbC5jb20+Cj4gPiAtLS0KPiA+ICB0ZXN0cy9pOTE1L2dl
bV93b3JrYXJvdW5kcy5jIHwgODggKysrKysrKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
Cj4gPiAgMSBmaWxlIGNoYW5nZWQsIDE3IGluc2VydGlvbnMoKyksIDcxIGRlbGV0aW9ucygtKQo+
ID4KPiA+IGRpZmYgLS1naXQgYS90ZXN0cy9pOTE1L2dlbV93b3JrYXJvdW5kcy5jIGIvdGVzdHMv
aTkxNS9nZW1fd29ya2Fyb3VuZHMuYwo+ID4gaW5kZXggNDRlM2RjZThhLi4yNzY3YjA0ZDcgMTAw
NjQ0Cj4gPiAtLS0gYS90ZXN0cy9pOTE1L2dlbV93b3JrYXJvdW5kcy5jCj4gPiArKysgYi90ZXN0
cy9pOTE1L2dlbV93b3JrYXJvdW5kcy5jCj4gPiBAQCAtODAsNzAgKzgwLDI3IEBAIHN0YXRpYyBi
b29sIHdyaXRlX29ubHkoY29uc3QgdWludDMyX3QgYWRkcikKPiA+ICAgICAgIHJldHVybiBmYWxz
ZTsKPiA+ICB9Cj4gPiAgCj4gPiAtI2RlZmluZSBNSV9TVE9SRV9SRUdJU1RFUl9NRU0gKDB4MjQg
PDwgMjMpCj4gPiAtCj4gPiAtc3RhdGljIGludCB3b3JrYXJvdW5kX2ZhaWxfY291bnQoaW50IGZk
LCB1aW50MzJfdCBjdHgpCj4gPiArc3RhdGljIGludCB3b3JrYXJvdW5kX2ZhaWxfY291bnQoaW50
IGk5MTUsIHVpbnQzMl90IGN0eCkKPiA+ICB7Cj4gPiAtICAgICBzdHJ1Y3QgZHJtX2k5MTVfZ2Vt
X2V4ZWNfb2JqZWN0MiBvYmpbMl07Cj4gPiAtICAgICBzdHJ1Y3QgZHJtX2k5MTVfZ2VtX3JlbG9j
YXRpb25fZW50cnkgKnJlbG9jOwo+ID4gLSAgICAgc3RydWN0IGRybV9pOTE1X2dlbV9leGVjYnVm
ZmVyMiBleGVjYnVmOwo+ID4gLSAgICAgdWludDMyX3QgcmVzdWx0X3N6LCBiYXRjaF9zejsKPiA+
IC0gICAgIHVpbnQzMl90ICpiYXNlLCAqb3V0Owo+ID4gLSAgICAgaW50IGZhaWxfY291bnQgPSAw
Owo+ID4gLQo+ID4gLSAgICAgcmVsb2MgPSBjYWxsb2MobnVtX3dhX3JlZ3MsIHNpemVvZigqcmVs
b2MpKTsKPiA+IC0gICAgIGlndF9hc3NlcnQocmVsb2MpOwo+ID4gLQo+ID4gLSAgICAgcmVzdWx0
X3N6ID0gNCAqIG51bV93YV9yZWdzOwo+ID4gLSAgICAgcmVzdWx0X3N6ID0gUEFHRV9BTElHTihy
ZXN1bHRfc3opOwo+ID4gLQo+ID4gLSAgICAgYmF0Y2hfc3ogPSAxNiAqIG51bV93YV9yZWdzICsg
NDsKPiA+IC0gICAgIGJhdGNoX3N6ID0gUEFHRV9BTElHTihiYXRjaF9zeik7Cj4gPiAtCj4gPiAt
ICAgICBtZW1zZXQob2JqLCAwLCBzaXplb2Yob2JqKSk7Cj4gPiAtICAgICBvYmpbMF0uaGFuZGxl
ID0gZ2VtX2NyZWF0ZShmZCwgcmVzdWx0X3N6KTsKPiA+IC0gICAgIGdlbV9zZXRfY2FjaGluZyhm
ZCwgb2JqWzBdLmhhbmRsZSwgSTkxNV9DQUNISU5HX0NBQ0hFRCk7Cj4gPiAtICAgICBvYmpbMV0u
aGFuZGxlID0gZ2VtX2NyZWF0ZShmZCwgYmF0Y2hfc3opOwo+ID4gLSAgICAgb2JqWzFdLnJlbG9j
c19wdHIgPSB0b191c2VyX3BvaW50ZXIocmVsb2MpOwo+ID4gLSAgICAgb2JqWzFdLnJlbG9jYXRp
b25fY291bnQgPSBudW1fd2FfcmVnczsKPiA+IC0KPiA+IC0gICAgIG91dCA9IGJhc2UgPSBnZW1f
bW1hcF9fY3B1KGZkLCBvYmpbMV0uaGFuZGxlLCAwLCBiYXRjaF9zeiwgUFJPVF9XUklURSk7Cj4g
PiAtICAgICBmb3IgKGludCBpID0gMDsgaSA8IG51bV93YV9yZWdzOyBpKyspIHsKPiA+IC0gICAg
ICAgICAgICAgKm91dCsrID0gTUlfU1RPUkVfUkVHSVNURVJfTUVNIHwgKChnZW4gPj0gOCA/IDQg
OiAyKSAtIDIpOwo+ID4gLSAgICAgICAgICAgICAqb3V0KysgPSB3YV9yZWdzW2ldLmFkZHI7Cj4g
PiAtICAgICAgICAgICAgIHJlbG9jW2ldLnRhcmdldF9oYW5kbGUgPSBvYmpbMF0uaGFuZGxlOwo+
ID4gLSAgICAgICAgICAgICByZWxvY1tpXS5vZmZzZXQgPSAob3V0IC0gYmFzZSkgKiBzaXplb2Yo
Km91dCk7Cj4gPiAtICAgICAgICAgICAgIHJlbG9jW2ldLmRlbHRhID0gaSAqIHNpemVvZih1aW50
MzJfdCk7Cj4gPiAtICAgICAgICAgICAgIHJlbG9jW2ldLnJlYWRfZG9tYWlucyA9IEk5MTVfR0VN
X0RPTUFJTl9JTlNUUlVDVElPTjsKPiA+IC0gICAgICAgICAgICAgcmVsb2NbaV0ud3JpdGVfZG9t
YWluID0gSTkxNV9HRU1fRE9NQUlOX0lOU1RSVUNUSU9OOwo+ID4gLSAgICAgICAgICAgICAqb3V0
KysgPSByZWxvY1tpXS5kZWx0YTsKPiA+IC0gICAgICAgICAgICAgaWYgKGdlbiA+PSA4KQo+ID4g
LSAgICAgICAgICAgICAgICAgICAgICpvdXQrKyA9IDA7Cj4gPiAtICAgICB9Cj4gPiAtICAgICAq
b3V0KysgPSBNSV9CQVRDSF9CVUZGRVJfRU5EOwo+ID4gLSAgICAgbXVubWFwKGJhc2UsIGJhdGNo
X3N6KTsKPiA+ICsgICAgIGlndF9zcGluX3QgKnNwaW47Cj4gPiArICAgICBpbnQgZncsIGZhaWwg
PSAwOwo+ID4gIAo+ID4gLSAgICAgbWVtc2V0KCZleGVjYnVmLCAwLCBzaXplb2YoZXhlY2J1Zikp
Owo+ID4gLSAgICAgZXhlY2J1Zi5idWZmZXJzX3B0ciA9IHRvX3VzZXJfcG9pbnRlcihvYmopOwo+
ID4gLSAgICAgZXhlY2J1Zi5idWZmZXJfY291bnQgPSAyOwo+ID4gLSAgICAgZXhlY2J1Zi5yc3Zk
MSA9IGN0eDsKPiA+IC0gICAgIGdlbV9leGVjYnVmKGZkLCAmZXhlY2J1Zik7Cj4gPiArICAgICBz
cGluID0gaWd0X3NwaW5fbmV3KGk5MTUsIC5jdHggPSBjdHgsIC5mbGFncyA9IElHVF9TUElOX1BP
TExfUlVOKTsKPiA+ICsgICAgIGlndF9zcGluX2J1c3l3YWl0X3VudGlsX3N0YXJ0ZWQoc3Bpbik7
Cj4gPiAgCj4gPiAtICAgICBnZW1fc2V0X2RvbWFpbihmZCwgb2JqWzBdLmhhbmRsZSwgSTkxNV9H
RU1fRE9NQUlOX0NQVSwgMCk7Cj4gPiAtCj4gPiAtICAgICBpZ3RfZGVidWcoIkFkZHJlc3NcdHZh
bFx0XHRtYXNrXHRcdHJlYWRcdFx0cmVzdWx0XG4iKTsKPiA+IC0KPiA+IC0gICAgIG91dCA9IGdl
bV9tbWFwX19jcHUoZmQsIG9ialswXS5oYW5kbGUsIDAsIHJlc3VsdF9zeiwgUFJPVF9SRUFEKTsK
PiA+ICsgICAgIGZ3ID0gaWd0X29wZW5fZm9yY2V3YWtlX2hhbmRsZShpOTE1KTsKPiAKPiBhc3Nl
cnQgdGhhdCBpdCB3ZW50IGZpbmU/CgpEbyB3ZSBhbHdheXMgZXhwZWN0IHRoZSBkZWJ1Z2ZzIHRv
IGJlIHByZXNlbnQ/IERvIHdlIHN0cmljdGx5IG5lZWQgaXQ/CmlndF9kZWJ1ZyBpZiBpdCBpc24n
dCBwcmVzZW50IGFuZCBjb3JyZWxhdGUgdGhhdCB0byBhIGZhaWwuCiAKPiBQZXJoYXBzIGJvdGgg
d2lsbCBub3cgZG8gdGhlIHRyaWNrLiBCdXQgaWYgaXQgZmFpbHMKPiBnZXQgdGhlIGZvcmNld2Fr
ZSBiZWZvcmUgc3Bpbm5lciBzbyB5b3UgZ2V0IG1vcmUgZGVsYXkuCgpOYWgsIEkgdm90ZSB0aGF0
IGluIHRoYXQgY2FzZSBmb3JjZXdha2UgaXMgYnJva2VuIGFuZCBuZWVkcyBhIGtlcm5lbCBmaXgs
CmFzIHdlIGRvbid0IGhhdmUgYW55IHN1Y2ggZGVsYXkgd2hlbiB1c2luZyBJOTE1X1JFQUQoKS4K
LUNocmlzCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCklu
dGVsLWdmeCBtYWlsaW5nIGxpc3QKSW50ZWwtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRw
czovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2ludGVsLWdmeA==

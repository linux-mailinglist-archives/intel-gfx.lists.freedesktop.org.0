Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id B22A5349BDB
	for <lists+intel-gfx@lfdr.de>; Thu, 25 Mar 2021 22:48:30 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id A290F6EE5A;
	Thu, 25 Mar 2021 21:48:28 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga17.intel.com (mga17.intel.com [192.55.52.151])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 864756EE57
 for <intel-gfx@lists.freedesktop.org>; Thu, 25 Mar 2021 21:48:23 +0000 (UTC)
IronPort-SDR: PIip2mE8e3xvnEmzzox6qRf6rII5bOPeKtjkuv4YhSZIXaDwk9B49ylq0LcNzD/o4duUYFHrPb
 hQ1UW4MgAsMA==
X-IronPort-AV: E=McAfee;i="6000,8403,9934"; a="171005040"
X-IronPort-AV: E=Sophos;i="5.81,278,1610438400"; d="scan'208";a="171005040"
Received: from orsmga003.jf.intel.com ([10.7.209.27])
 by fmsmga107.fm.intel.com with ESMTP/TLS/ECDHE-RSA-AES256-GCM-SHA384;
 25 Mar 2021 14:48:23 -0700
IronPort-SDR: EhlTo+3KALr1x+bw+ZehRruYgUqgtnbwI9w5fqPdtVAiGkZtmMRDAcQTlQHLRfk4n9DE0Au6UV
 SgDaRMdo60yw==
X-IronPort-AV: E=Sophos;i="5.81,278,1610438400"; d="scan'208";a="375235651"
Received: from ideak-desk.fi.intel.com ([10.237.68.141])
 by orsmga003-auth.jf.intel.com with ESMTP/TLS/ECDHE-RSA-AES256-GCM-SHA384;
 25 Mar 2021 14:48:22 -0700
From: Imre Deak <imre.deak@intel.com>
To: intel-gfx@lists.freedesktop.org
Date: Thu, 25 Mar 2021 23:47:52 +0200
Message-Id: <20210325214808.2071517-10-imre.deak@intel.com>
X-Mailer: git-send-email 2.25.1
In-Reply-To: <20210325214808.2071517-1-imre.deak@intel.com>
References: <20210325214808.2071517-1-imre.deak@intel.com>
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH v2 09/25] drm/i915/intel_fb: Pull FB plane
 functions from intel_sprite.c
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

TW92ZSB0aGUgRkIgcGxhbmUgc3BlY2lmaWMgZnVuY3Rpb24gZnJvbSBpbnRlbF9zcHJpdGUuYyB0
byBpbnRlbF9mYi5jCgpTaWduZWQtb2ZmLWJ5OiBJbXJlIERlYWsgPGltcmUuZGVha0BpbnRlbC5j
b20+ClJldmlld2VkLWJ5OiBWaWxsZSBTeXJqw6Rsw6QgPHZpbGxlLnN5cmphbGFAbGludXguaW50
ZWwuY29tPgotLS0KIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZmIuYyAgICAg
fCAzMiArKysrKysrKysrKysrKysrKysrKysKIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkv
aW50ZWxfZmIuaCAgICAgfCAgNCArKysKIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50
ZWxfc3ByaXRlLmMgfCAzMiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0KIGRyaXZlcnMvZ3B1L2RybS9p
OTE1L2Rpc3BsYXkvaW50ZWxfc3ByaXRlLmggfCAgMSAtCiA0IGZpbGVzIGNoYW5nZWQsIDM2IGlu
c2VydGlvbnMoKyksIDMzIGRlbGV0aW9ucygtKQoKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2Rpc3BsYXkvaW50ZWxfZmIuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkv
aW50ZWxfZmIuYwppbmRleCAxN2M2YmQ3NjgwZDliLi44YjE0ZTA2OWZjNzEwIDEwMDY0NAotLS0g
YS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2ZiLmMKKysrIGIvZHJpdmVycy9n
cHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9mYi5jCkBAIC02NCwzICs2NCwzNSBAQCBpbnQgc2ts
X21haW5fdG9fYXV4X3BsYW5lKGNvbnN0IHN0cnVjdCBkcm1fZnJhbWVidWZmZXIgKmZiLCBpbnQg
bWFpbl9wbGFuZSkKIAllbHNlCiAJCXJldHVybiAwOwogfQorCitpbnQgaW50ZWxfcGxhbmVfY2hl
Y2tfc3RyaWRlKGNvbnN0IHN0cnVjdCBpbnRlbF9wbGFuZV9zdGF0ZSAqcGxhbmVfc3RhdGUpCit7
CisJc3RydWN0IGludGVsX3BsYW5lICpwbGFuZSA9IHRvX2ludGVsX3BsYW5lKHBsYW5lX3N0YXRl
LT51YXBpLnBsYW5lKTsKKwljb25zdCBzdHJ1Y3QgZHJtX2ZyYW1lYnVmZmVyICpmYiA9IHBsYW5l
X3N0YXRlLT5ody5mYjsKKwl1bnNpZ25lZCBpbnQgcm90YXRpb24gPSBwbGFuZV9zdGF0ZS0+aHcu
cm90YXRpb247CisJdTMyIHN0cmlkZSwgbWF4X3N0cmlkZTsKKworCS8qCisJICogV2UgaWdub3Jl
IHN0cmlkZSBmb3IgYWxsIGludmlzaWJsZSBwbGFuZXMgdGhhdAorCSAqIGNhbiBiZSByZW1hcHBl
ZC4gT3RoZXJ3aXNlIHdlIGNvdWxkIGVuZCB1cAorCSAqIHdpdGggYSBmYWxzZSBwb3NpdGl2ZSB3
aGVuIHRoZSByZW1hcHBpbmcgZGlkbid0CisJICoga2ljayBpbiBkdWUgdGhlIHBsYW5lIGJlaW5n
IGludmlzaWJsZS4KKwkgKi8KKwlpZiAoaW50ZWxfcGxhbmVfY2FuX3JlbWFwKHBsYW5lX3N0YXRl
KSAmJgorCSAgICAhcGxhbmVfc3RhdGUtPnVhcGkudmlzaWJsZSkKKwkJcmV0dXJuIDA7CisKKwkv
KiBGSVhNRSBvdGhlciBjb2xvciBwbGFuZXM/ICovCisJc3RyaWRlID0gcGxhbmVfc3RhdGUtPmNv
bG9yX3BsYW5lWzBdLnN0cmlkZTsKKwltYXhfc3RyaWRlID0gcGxhbmUtPm1heF9zdHJpZGUocGxh
bmUsIGZiLT5mb3JtYXQtPmZvcm1hdCwKKwkJCQkgICAgICAgZmItPm1vZGlmaWVyLCByb3RhdGlv
bik7CisKKwlpZiAoc3RyaWRlID4gbWF4X3N0cmlkZSkgeworCQlEUk1fREVCVUdfS01TKCJbRkI6
JWRdIHN0cmlkZSAoJWQpIGV4Y2VlZHMgW1BMQU5FOiVkOiVzXSBtYXggc3RyaWRlICglZClcbiIs
CisJCQkgICAgICBmYi0+YmFzZS5pZCwgc3RyaWRlLAorCQkJICAgICAgcGxhbmUtPmJhc2UuYmFz
ZS5pZCwgcGxhbmUtPmJhc2UubmFtZSwgbWF4X3N0cmlkZSk7CisJCXJldHVybiAtRUlOVkFMOwor
CX0KKworCXJldHVybiAwOworfQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlz
cGxheS9pbnRlbF9mYi5oIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9mYi5o
CmluZGV4IDZlYTIyMDQzOGY5YWMuLjhjMTVmNGM5NTYxYjEgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMv
Z3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZmIuaAorKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkx
NS9kaXNwbGF5L2ludGVsX2ZiLmgKQEAgLTEwLDYgKzEwLDggQEAKIAogc3RydWN0IGRybV9mcmFt
ZWJ1ZmZlcjsKIAorc3RydWN0IGludGVsX3BsYW5lX3N0YXRlOworCiBib29sIGlzX2Njc19wbGFu
ZShjb25zdCBzdHJ1Y3QgZHJtX2ZyYW1lYnVmZmVyICpmYiwgaW50IHBsYW5lKTsKIGJvb2wgaXNf
Z2VuMTJfY2NzX3BsYW5lKGNvbnN0IHN0cnVjdCBkcm1fZnJhbWVidWZmZXIgKmZiLCBpbnQgcGxh
bmUpOwogYm9vbCBpc19nZW4xMl9jY3NfY2NfcGxhbmUoY29uc3Qgc3RydWN0IGRybV9mcmFtZWJ1
ZmZlciAqZmIsIGludCBwbGFuZSk7CkBAIC0yMCw0ICsyMiw2IEBAIGludCBtYWluX3RvX2Njc19w
bGFuZShjb25zdCBzdHJ1Y3QgZHJtX2ZyYW1lYnVmZmVyICpmYiwgaW50IG1haW5fcGxhbmUpOwog
aW50IHNrbF9jY3NfdG9fbWFpbl9wbGFuZShjb25zdCBzdHJ1Y3QgZHJtX2ZyYW1lYnVmZmVyICpm
YiwgaW50IGNjc19wbGFuZSk7CiBpbnQgc2tsX21haW5fdG9fYXV4X3BsYW5lKGNvbnN0IHN0cnVj
dCBkcm1fZnJhbWVidWZmZXIgKmZiLCBpbnQgbWFpbl9wbGFuZSk7CiAKK2ludCBpbnRlbF9wbGFu
ZV9jaGVja19zdHJpZGUoY29uc3Qgc3RydWN0IGludGVsX3BsYW5lX3N0YXRlICpwbGFuZV9zdGF0
ZSk7CisKICNlbmRpZiAvKiBfX0lOVEVMX0ZCX0hfXyAqLwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9n
cHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9zcHJpdGUuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1
L2Rpc3BsYXkvaW50ZWxfc3ByaXRlLmMKaW5kZXggZDU1YTEzMzEyODg1Yi4uYWYyZDYxN2Q5ZWIy
YiAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9zcHJpdGUu
YworKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX3Nwcml0ZS5jCkBAIC00
OSwzOCArNDksNiBAQAogI2luY2x1ZGUgImk5eHhfcGxhbmUuaCIKICNpbmNsdWRlICJpbnRlbF92
cnIuaCIKIAotaW50IGludGVsX3BsYW5lX2NoZWNrX3N0cmlkZShjb25zdCBzdHJ1Y3QgaW50ZWxf
cGxhbmVfc3RhdGUgKnBsYW5lX3N0YXRlKQotewotCXN0cnVjdCBpbnRlbF9wbGFuZSAqcGxhbmUg
PSB0b19pbnRlbF9wbGFuZShwbGFuZV9zdGF0ZS0+dWFwaS5wbGFuZSk7Ci0JY29uc3Qgc3RydWN0
IGRybV9mcmFtZWJ1ZmZlciAqZmIgPSBwbGFuZV9zdGF0ZS0+aHcuZmI7Ci0JdW5zaWduZWQgaW50
IHJvdGF0aW9uID0gcGxhbmVfc3RhdGUtPmh3LnJvdGF0aW9uOwotCXUzMiBzdHJpZGUsIG1heF9z
dHJpZGU7Ci0KLQkvKgotCSAqIFdlIGlnbm9yZSBzdHJpZGUgZm9yIGFsbCBpbnZpc2libGUgcGxh
bmVzIHRoYXQKLQkgKiBjYW4gYmUgcmVtYXBwZWQuIE90aGVyd2lzZSB3ZSBjb3VsZCBlbmQgdXAK
LQkgKiB3aXRoIGEgZmFsc2UgcG9zaXRpdmUgd2hlbiB0aGUgcmVtYXBwaW5nIGRpZG4ndAotCSAq
IGtpY2sgaW4gZHVlIHRoZSBwbGFuZSBiZWluZyBpbnZpc2libGUuCi0JICovCi0JaWYgKGludGVs
X3BsYW5lX2Nhbl9yZW1hcChwbGFuZV9zdGF0ZSkgJiYKLQkgICAgIXBsYW5lX3N0YXRlLT51YXBp
LnZpc2libGUpCi0JCXJldHVybiAwOwotCi0JLyogRklYTUUgb3RoZXIgY29sb3IgcGxhbmVzPyAq
LwotCXN0cmlkZSA9IHBsYW5lX3N0YXRlLT5jb2xvcl9wbGFuZVswXS5zdHJpZGU7Ci0JbWF4X3N0
cmlkZSA9IHBsYW5lLT5tYXhfc3RyaWRlKHBsYW5lLCBmYi0+Zm9ybWF0LT5mb3JtYXQsCi0JCQkJ
ICAgICAgIGZiLT5tb2RpZmllciwgcm90YXRpb24pOwotCi0JaWYgKHN0cmlkZSA+IG1heF9zdHJp
ZGUpIHsKLQkJRFJNX0RFQlVHX0tNUygiW0ZCOiVkXSBzdHJpZGUgKCVkKSBleGNlZWRzIFtQTEFO
RTolZDolc10gbWF4IHN0cmlkZSAoJWQpXG4iLAotCQkJICAgICAgZmItPmJhc2UuaWQsIHN0cmlk
ZSwKLQkJCSAgICAgIHBsYW5lLT5iYXNlLmJhc2UuaWQsIHBsYW5lLT5iYXNlLm5hbWUsIG1heF9z
dHJpZGUpOwotCQlyZXR1cm4gLUVJTlZBTDsKLQl9Ci0KLQlyZXR1cm4gMDsKLX0KLQogaW50IGlu
dGVsX3BsYW5lX2NoZWNrX3NyY19jb29yZGluYXRlcyhzdHJ1Y3QgaW50ZWxfcGxhbmVfc3RhdGUg
KnBsYW5lX3N0YXRlKQogewogCWNvbnN0IHN0cnVjdCBkcm1fZnJhbWVidWZmZXIgKmZiID0gcGxh
bmVfc3RhdGUtPmh3LmZiOwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxh
eS9pbnRlbF9zcHJpdGUuaCBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfc3By
aXRlLmgKaW5kZXggZjY5ODlkYTJkYzRiZC4uYzA4NWViODc3MDVjYyAxMDA2NDQKLS0tIGEvZHJp
dmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9zcHJpdGUuaAorKysgYi9kcml2ZXJzL2dw
dS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX3Nwcml0ZS5oCkBAIC0zNSw3ICszNSw2IEBAIGludCBp
bnRlbF9zcHJpdGVfc2V0X2NvbG9ya2V5X2lvY3RsKHN0cnVjdCBkcm1fZGV2aWNlICpkZXYsIHZv
aWQgKmRhdGEsCiAJCQkJICAgIHN0cnVjdCBkcm1fZmlsZSAqZmlsZV9wcml2KTsKIHZvaWQgaW50
ZWxfcGlwZV91cGRhdGVfc3RhcnQoY29uc3Qgc3RydWN0IGludGVsX2NydGNfc3RhdGUgKm5ld19j
cnRjX3N0YXRlKTsKIHZvaWQgaW50ZWxfcGlwZV91cGRhdGVfZW5kKHN0cnVjdCBpbnRlbF9jcnRj
X3N0YXRlICpuZXdfY3J0Y19zdGF0ZSk7Ci1pbnQgaW50ZWxfcGxhbmVfY2hlY2tfc3RyaWRlKGNv
bnN0IHN0cnVjdCBpbnRlbF9wbGFuZV9zdGF0ZSAqcGxhbmVfc3RhdGUpOwogaW50IGludGVsX3Bs
YW5lX2NoZWNrX3NyY19jb29yZGluYXRlcyhzdHJ1Y3QgaW50ZWxfcGxhbmVfc3RhdGUgKnBsYW5l
X3N0YXRlKTsKIGludCBjaHZfcGxhbmVfY2hlY2tfcm90YXRpb24oY29uc3Qgc3RydWN0IGludGVs
X3BsYW5lX3N0YXRlICpwbGFuZV9zdGF0ZSk7CiAKLS0gCjIuMjUuMQoKX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KSW50ZWwtZ2Z4IG1haWxpbmcgbGlzdApJ
bnRlbC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Au
b3JnL21haWxtYW4vbGlzdGluZm8vaW50ZWwtZ2Z4Cg==

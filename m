Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id AB84C5F6BA
	for <lists+intel-gfx@lfdr.de>; Thu,  4 Jul 2019 12:40:24 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 229956E2B4;
	Thu,  4 Jul 2019 10:40:23 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from fireflyinternet.com (mail.fireflyinternet.com [109.228.58.192])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 03DCB6E2B4
 for <intel-gfx@lists.freedesktop.org>; Thu,  4 Jul 2019 10:40:21 +0000 (UTC)
X-Default-Received-SPF: pass (skip=forwardok (res=PASS))
 x-ip-name=78.156.65.138; 
Received: from localhost (unverified [78.156.65.138]) 
 by fireflyinternet.com (Firefly Internet (M1)) with ESMTP (TLS) id
 17126610-1500050 for multiple; Thu, 04 Jul 2019 11:40:13 +0100
MIME-Version: 1.0
To: Matthew Auld <matthew.auld@intel.com>, intel-gfx@lists.freedesktop.org
From: Chris Wilson <chris@chris-wilson.co.uk>
In-Reply-To: <463eddd4-b1d0-c9a9-0180-1f0b8f0a77da@intel.com>
References: <20190703171913.16585-1-chris@chris-wilson.co.uk>
 <20190703171913.16585-3-chris@chris-wilson.co.uk>
 <463eddd4-b1d0-c9a9-0180-1f0b8f0a77da@intel.com>
Message-ID: <156223681162.25091.7279882878767329826@skylake-alporthouse-com>
User-Agent: alot/0.6
Date: Thu, 04 Jul 2019 11:40:11 +0100
Subject: Re: [Intel-gfx] [PATCH 2/3] drm/i915/gtt: Defer the free for alloc
 error paths
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: Mika Kuoppala <mika.kuoppala@intel.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

UXVvdGluZyBNYXR0aGV3IEF1bGQgKDIwMTktMDctMDQgMTE6Mjg6MTgpCj4gT24gMDMvMDcvMjAx
OSAxODoxOSwgQ2hyaXMgV2lsc29uIHdyb3RlOgo+ID4gSWYgd2UgaGl0IGFuIGVycm9yIHdoaWxl
IGFsbG9jYXRpbmcgdGhlIHBhZ2UgdGFibGVzLCB3ZSBoYXZlIHRvIHVud2luZAo+ID4gdGhlIGlu
Y29tcGxldGUgdXBkYXRlcywgYW5kIHdpc2ggdG8gZnJlZSB0aGUgdW51c2VkIHBkLiBIb3dldmVy
LCB3ZSBhcmUKPiA+IG5vdCBhbGxvd2VkIHRvIGJlIGhvZGluZyB0aGUgc3BpbmxvY2sgYXQgdGhh
dCBwb2ludCwgYW5kIHNvIG11c3QgdXNlIHRoZQo+IAo+IGhvbGRpbmcKPiAKPiA+IGxhdGVyIGZy
ZWUgdG8gZGVmZXIgaXQgdW50aWwgYWZ0ZXIgd2UgZHJvcCB0aGUgbG9jay4KPiA+IAo+ID4gPDM+
IFs0MTQuMzYzNzk1XSBCVUc6IHNsZWVwaW5nIGZ1bmN0aW9uIGNhbGxlZCBmcm9tIGludmFsaWQg
Y29udGV4dCBhdCBkcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2dlbV9ndHQuYzo0NzIKPiA+IDwz
PiBbNDE0LjM2NDE2N10gaW5fYXRvbWljKCk6IDEsIGlycXNfZGlzYWJsZWQoKTogMCwgcGlkOiAz
OTA1LCBuYW1lOiBpOTE1X3NlbGZ0ZXN0Cj4gPiA8ND4gWzQxNC4zNjQ0MDZdIDMgbG9ja3MgaGVs
ZCBieSBpOTE1X3NlbGZ0ZXN0LzM5MDU6Cj4gPiA8ND4gWzQxNC4zNjQ0MDhdICAjMDogMDAwMDAw
MDAzNGZlOGFhOCAoJmRldi0+bXV0ZXgpey4uLi59LCBhdDogZGV2aWNlX2RyaXZlcl9hdHRhY2gr
MHgxOC8weDUwCj4gPiA8ND4gWzQxNC4zNjQ0MTVdICAjMTogMDAwMDAwMDA2YmQ4YTU2MCAoJmRl
di0+c3RydWN0X211dGV4KXsrLisufSwgYXQ6IGlndF9jdHhfZXhlYysweGI3LzB4NDEwIFtpOTE1
XQo+ID4gPDQ+IFs0MTQuMzY0NDc2XSAgIzI6IDAwMDAwMDAwM2RmZGM3NjYgKCYoJnBkLT5sb2Nr
KS0+cmxvY2speysuKy59LCBhdDogZ2VuOF9wcGd0dF9hbGxvY19wZHArMHg0NDgvMHg1NDAgW2k5
MTVdCj4gPiA8Mz4gWzQxNC4zNjQ1MjldIFByZWVtcHRpb24gZGlzYWJsZWQgYXQ6Cj4gPiA8ND4g
WzQxNC4zNjQ1MzBdIFs8MDAwMDAwMDAwMDAwMDAwMD5dIDB4MAo+ID4gPDQ+IFs0MTQuMzY0Njk2
XSBDUFU6IDAgUElEOiAzOTA1IENvbW06IGk5MTVfc2VsZnRlc3QgVGFpbnRlZDogRyAgICAgVSAg
ICAgICAgICAgIDUuMi4wLXJjNy1DSS1DSV9EUk1fNjQwMysgIzEKPiA+IDw0PiBbNDE0LjM2NDY5
OF0gSGFyZHdhcmUgbmFtZTogUUVNVSBTdGFuZGFyZCBQQyAoaTQ0MEZYICsgUElJWCwgMTk5Niks
IEJJT1MgcmVsLTEuMTAuMS0wLWc4ODkxNjk3LXByZWJ1aWx0LnFlbXUtcHJvamVjdC5vcmcgMDQv
MDEvMjAxNAo+ID4gPDQ+IFs0MTQuMzY0Njk5XSBDYWxsIFRyYWNlOgo+ID4gPDQ+IFs0MTQuMzY0
NzA0XSAgZHVtcF9zdGFjaysweDY3LzB4OWIKPiA+IDw0PiBbNDE0LjM2NDcwOF0gIF9fX21pZ2h0
X3NsZWVwKzB4MTY3LzB4MjUwCj4gPiA8ND4gWzQxNC4zNjQ3NzddICB2bV9mcmVlX3BhZ2UrMHgy
NC8weGMwIFtpOTE1XQo+ID4gPDQ+IFs0MTQuMzY0ODUyXSAgZnJlZV9wZCsweGYvMHgyMCBbaTkx
NV0KPiA+IDw0PiBbNDE0LjM2NDg5N10gIGdlbjhfcHBndHRfYWxsb2NfcGRwKzB4NDg5LzB4NTQw
IFtpOTE1XQo+ID4gPDQ+IFs0MTQuMzY0OTQ2XSAgZ2VuOF9wcGd0dF9hbGxvY180bHZsKzB4OGUv
MHgyZTAgW2k5MTVdCj4gPiA8ND4gWzQxNC4zNjQ5OTJdICBwcGd0dF9iaW5kX3ZtYSsweDJlLzB4
NjAgW2k5MTVdCj4gPiA8ND4gWzQxNC4zNjUwMzldICBpOTE1X3ZtYV9iaW5kKzB4ZTgvMHgyYzAg
W2k5MTVdCj4gPiA8ND4gWzQxNC4zNjUwODhdICBfX2k5MTVfdm1hX2RvX3BpbisweGExLzB4ZDIw
IFtpOTE1XQo+ID4gCj4gPiBGaXhlczogMWQxYjU0OTBiOTFjICgiZHJtL2k5MTUvZ3R0OiBSZXBs
YWNlIHN0cnVjdF9tdXRleCBzZXJpYWxpc2F0aW9uIGZvciBhbGxvY2F0aW9uIikKPiA+IFNpZ25l
ZC1vZmYtYnk6IENocmlzIFdpbHNvbiA8Y2hyaXNAY2hyaXMtd2lsc29uLmNvLnVrPgo+ID4gQ2M6
IE1hdHRoZXcgQXVsZCA8bWF0dGhldy5hdWxkQGludGVsLmNvbT4KPiA+IENjOiBNaWthIEt1b3Bw
YWxhIDxtaWthLmt1b3BwYWxhQGludGVsLmNvbT4KPiA+IC0tLQo+ID4gICBkcml2ZXJzL2dwdS9k
cm0vaTkxNS9pOTE1X2dlbV9ndHQuYyB8IDYgKysrKy0tCj4gPiAgIDEgZmlsZSBjaGFuZ2VkLCA0
IGluc2VydGlvbnMoKyksIDIgZGVsZXRpb25zKC0pCj4gPiAKPiA+IGRpZmYgLS1naXQgYS9kcml2
ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2dlbV9ndHQuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5
MTVfZ2VtX2d0dC5jCj4gPiBpbmRleCA5ZTc2MzQ3ZTAzOWUuLjEwNjU3NTNlODZmYiAxMDA2NDQK
PiA+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZ2VtX2d0dC5jCj4gPiArKysgYi9k
cml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2dlbV9ndHQuYwo+ID4gQEAgLTE0ODksNyArMTQ4OSw4
IEBAIHN0YXRpYyBpbnQgZ2VuOF9wcGd0dF9hbGxvY19wZHAoc3RydWN0IGk5MTVfYWRkcmVzc19z
cGFjZSAqdm0sCj4gPiAgICAgICAgICAgICAgIGdlbjhfcHBndHRfc2V0X3BkcGUocGRwLCB2bS0+
c2NyYXRjaF9wZCwgcGRwZSk7Cj4gPiAgICAgICAgICAgICAgIEdFTV9CVUdfT04oIWF0b21pY19y
ZWFkKCZwZHAtPnVzZWQpKTsKPiA+ICAgICAgICAgICAgICAgYXRvbWljX2RlYygmcGRwLT51c2Vk
KTsKPiA+IC0gICAgICAgICAgICAgZnJlZV9wZCh2bSwgcGQpOwo+ID4gKyAgICAgICAgICAgICBH
RU1fQlVHX09OKGFsbG9jKTsKPiAKPiBQcmV0dHkgc3VyZSBpdCdzIHBvc3NpYmxlIGZvciBhbGxv
YyAhPSBOVUxMIGF0IHRoaXMgcG9pbnQuLi50d28gdGhyZWFkcywgCj4gb25lIGlzIGxhdGUgdG8g
dGhlIHBhcnR5LCB3ZSBhcmUgdW5sdWNreSBhbmQgaGl0IHRoZSB1bndpbmRfcGQgcGF0aC4gTm8/
CgpIbW0uIEkgd2FzIHRoaW5raW5nIHdlIHdvdWxkIG9ubHkgZ2V0IGhlcmUgb24gYW4gYWxsb2Mg
ZmFpbHVyZSBwYXRoLCBidXQKeWVhaCwgdGhlIEJVR19PTiB3YXMgYSBjYXNlIGZvciBkb3VidC4K
CkRyYXQuCi1DaHJpcwpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fXwpJbnRlbC1nZnggbWFpbGluZyBsaXN0CkludGVsLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5v
cmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9pbnRlbC1n
Zng=

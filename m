Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 0EB45857C0
	for <lists+intel-gfx@lfdr.de>; Thu,  8 Aug 2019 03:44:49 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 58A566E781;
	Thu,  8 Aug 2019 01:44:47 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga06.intel.com (mga06.intel.com [134.134.136.31])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 38ACB6E784
 for <intel-gfx@lists.freedesktop.org>; Thu,  8 Aug 2019 01:44:44 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga007.jf.intel.com ([10.7.209.58])
 by orsmga104.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 07 Aug 2019 18:44:44 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.64,358,1559545200"; d="scan'208";a="165538123"
Received: from dceraolo-linux.fm.intel.com ([10.1.27.145])
 by orsmga007.jf.intel.com with ESMTP; 07 Aug 2019 18:44:44 -0700
From: Daniele Ceraolo Spurio <daniele.ceraolospurio@intel.com>
To: intel-gfx@lists.freedesktop.org
Date: Wed,  7 Aug 2019 18:44:22 -0700
Message-Id: <20190808014423.20377-3-daniele.ceraolospurio@intel.com>
X-Mailer: git-send-email 2.22.0
In-Reply-To: <20190808014423.20377-1-daniele.ceraolospurio@intel.com>
References: <20190808014423.20377-1-daniele.ceraolospurio@intel.com>
MIME-Version: 1.0
Subject: [Intel-gfx] [RFC 2/3] drm/i915: introduce display_uncore
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

QSBmb3JjZXdha2UtbGVzcyB1bmNvcmUgdG8gYmUgdXNlZCB0byBkZWNvdXBsZSBHVCBhY2Nlc3Nl
cyBmcm9tIGRpc3BsYXkKb25lcyB0byBhdm9pZCBzZXJpYWxpemluZyB0aGVtIHdoZW4gdGhlcmUg
aXMgbm8gbmVlZC4KCk5ldyBhY2Nlc3NvcnMgdGhhdCBpbXBsaWNpdGx5IHVzZSB0aGUgbmV3IHVu
Y29yZSBoYXZlIGFsc28gYmVlbiBhZGRlZC4KVG8gYXZvaWQgYWNjZXNzaW5nIHRoZSBzYW1lIHJl
Z2lzdGVyIGZyb20gMiBkaWZmZXJlbnQgdW5jb3JlcyAod2hpY2gKY291bGQgY2F1c2UgaGFyZCBo
YW5ncyksIHRoZSBuZXcgYWNjZXNzb3JzIGV4cGVjdCByZWdpc3RlcnMgdG8gYmUKZGVmaW5lZCB3
aXRoIHRoZSBuZXcgX0RFX01NSU8gbWFjcm8uCgpTaWduZWQtb2ZmLWJ5OiBEYW5pZWxlIENlcmFv
bG8gU3B1cmlvIDxkYW5pZWxlLmNlcmFvbG9zcHVyaW9AaW50ZWwuY29tPgpDYzogVmlsbGUgU3ly
asOkbMOkIDx2aWxsZS5zeXJqYWxhQGxpbnV4LmludGVsLmNvbT4KLS0tCiAuLi4vZ3B1L2RybS9p
OTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheV9yZWcuaCAgfCAyMiArKysrKysrKysrKysrCiBkcml2
ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2Rydi5jICAgICAgICAgICAgICAgfCAxNyArKysrKysrKy0t
CiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2Rydi5oICAgICAgICAgICAgICAgfCAzMSArKysr
KysrKysrKysrKysrKysrCiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF91bmNvcmUuYyAgICAg
ICAgICAgfCAgOSArKysrKy0KIDQgZmlsZXMgY2hhbmdlZCwgNzYgaW5zZXJ0aW9ucygrKSwgMyBk
ZWxldGlvbnMoLSkKIGNyZWF0ZSBtb2RlIDEwMDY0NCBkcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNw
bGF5L2ludGVsX2Rpc3BsYXlfcmVnLmgKCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkx
NS9kaXNwbGF5L2ludGVsX2Rpc3BsYXlfcmVnLmggYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNw
bGF5L2ludGVsX2Rpc3BsYXlfcmVnLmgKbmV3IGZpbGUgbW9kZSAxMDA2NDQKaW5kZXggMDAwMDAw
MDAwMDAwLi5hYzBjNjk3NTI3MWQKLS0tIC9kZXYvbnVsbAorKysgYi9kcml2ZXJzL2dwdS9kcm0v
aTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXlfcmVnLmgKQEAgLTAsMCArMSwyMiBAQAorLyogU1BE
WC1MaWNlbnNlLUlkZW50aWZpZXI6IE1JVCAqLworLyoKKyAqIENvcHlyaWdodCDCqSAyMDE5IElu
dGVsIENvcnBvcmF0aW9uCisgKi8KKworI2lmbmRlZiBfSU5URUxfRElTUExBWV9SRUdfSF8KKyNk
ZWZpbmUgX0lOVEVMX0RJU1BMQVlfUkVHX0hfCisKKyNpbmNsdWRlICJpOTE1X3JlZy5oIgorCit0
eXBlZGVmIHN0cnVjdCB7CisJY29uc3QgaTkxNV9yZWdfdCByZWc7Cit9IGludGVsX2RlX3JlZ190
OworCisjZGVmaW5lIF9ERV9NTUlPKHIpICgoY29uc3QgaW50ZWxfZGVfcmVnX3QpeyAucmVnID0g
X01NSU8ocikgfSkKKworc3RhdGljIGlubGluZSBpOTE1X3JlZ190IGludGVsX2RlX3JlZ190b19t
bWlvKGludGVsX2RlX3JlZ190IHJlZykKK3sKKwlyZXR1cm4gcmVnLnJlZzsKK30KKworI2VuZGlm
CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2Rydi5jIGIvZHJpdmVycy9n
cHUvZHJtL2k5MTUvaTkxNV9kcnYuYwppbmRleCBmYmJmZjRhMTMzYmEuLmFmMDE1ZWNmM2RjYyAx
MDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kcnYuYworKysgYi9kcml2ZXJz
L2dwdS9kcm0vaTkxNS9pOTE1X2Rydi5jCkBAIC03NDYsNiArNzQ2LDcgQEAgc3RhdGljIGludCBp
OTE1X2RyaXZlcl9lYXJseV9wcm9iZShzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYp
CiAKIAlpbnRlbF91bmNvcmVfbW1pb19kZWJ1Z19pbml0X2Vhcmx5KCZkZXZfcHJpdi0+bW1pb19k
ZWJ1Zyk7CiAJaW50ZWxfdW5jb3JlX2luaXRfZWFybHkoJmRldl9wcml2LT51bmNvcmUsIGRldl9w
cml2KTsKKwlpbnRlbF91bmNvcmVfaW5pdF9lYXJseSgmZGV2X3ByaXYtPmRlX3VuY29yZSwgZGV2
X3ByaXYpOwogCiAJc3Bpbl9sb2NrX2luaXQoJmRldl9wcml2LT5pcnFfbG9jayk7CiAJc3Bpbl9s
b2NrX2luaXQoJmRldl9wcml2LT5ncHVfZXJyb3IubG9jayk7CkBAIC04NDEsNiArODQyLDEwIEBA
IHN0YXRpYyBpbnQgaTkxNV9kcml2ZXJfbW1pb19wcm9iZShzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0
ZSAqZGV2X3ByaXYpCiAJaWYgKHJldCA8IDApCiAJCWdvdG8gZXJyX2JyaWRnZTsKIAorCXJldCA9
IGludGVsX3VuY29yZV9pbml0X21taW8oJmRldl9wcml2LT5kZV91bmNvcmUpOworCWlmIChyZXQg
PCAwKQorCQlnb3RvIGVycl91bmNvcmU7CisKIAkvKiBUcnkgdG8gbWFrZSBzdXJlIE1DSEJBUiBp
cyBlbmFibGVkIGJlZm9yZSBwb2tpbmcgYXQgaXQgKi8KIAlpbnRlbF9zZXR1cF9tY2hiYXIoZGV2
X3ByaXYpOwogCkBAIC04NTIsMTQgKzg1NywxNiBAQCBzdGF0aWMgaW50IGk5MTVfZHJpdmVyX21t
aW9fcHJvYmUoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2KQogCiAJcmV0ID0gaW50
ZWxfZW5naW5lc19pbml0X21taW8oZGV2X3ByaXYpOwogCWlmIChyZXQpCi0JCWdvdG8gZXJyX3Vu
Y29yZTsKKwkJZ290byBlcnJfbWNoYmFyOwogCiAJaTkxNV9nZW1faW5pdF9tbWlvKGRldl9wcml2
KTsKIAogCXJldHVybiAwOwogCi1lcnJfdW5jb3JlOgorZXJyX21jaGJhcjoKIAlpbnRlbF90ZWFy
ZG93bl9tY2hiYXIoZGV2X3ByaXYpOworCWludGVsX3VuY29yZV9maW5pX21taW8oJmRldl9wcml2
LT5kZV91bmNvcmUpOworZXJyX3VuY29yZToKIAlpbnRlbF91bmNvcmVfZmluaV9tbWlvKCZkZXZf
cHJpdi0+dW5jb3JlKTsKIGVycl9icmlkZ2U6CiAJcGNpX2Rldl9wdXQoZGV2X3ByaXYtPmJyaWRn
ZV9kZXYpOwpAQCAtODc1LDYgKzg4Miw3IEBAIHN0YXRpYyB2b2lkIGk5MTVfZHJpdmVyX21taW9f
cmVsZWFzZShzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYpCiB7CiAJaW50ZWxfZW5n
aW5lc19jbGVhbnVwKGRldl9wcml2KTsKIAlpbnRlbF90ZWFyZG93bl9tY2hiYXIoZGV2X3ByaXYp
OworCWludGVsX3VuY29yZV9maW5pX21taW8oJmRldl9wcml2LT5kZV91bmNvcmUpOwogCWludGVs
X3VuY29yZV9maW5pX21taW8oJmRldl9wcml2LT51bmNvcmUpOwogCXBjaV9kZXZfcHV0KGRldl9w
cml2LT5icmlkZ2VfZGV2KTsKIH0KQEAgLTIwMTAsNiArMjAxOCw3IEBAIHN0YXRpYyBpbnQgaTkx
NV9kcm1fc3VzcGVuZF9sYXRlKHN0cnVjdCBkcm1fZGV2aWNlICpkZXYsIGJvb2wgaGliZXJuYXRp
b24pCiAKIAlpOTE1X2dlbV9zdXNwZW5kX2xhdGUoZGV2X3ByaXYpOwogCisJaW50ZWxfdW5jb3Jl
X3N1c3BlbmQoJmRldl9wcml2LT5kZV91bmNvcmUpOwogCWludGVsX3VuY29yZV9zdXNwZW5kKCZk
ZXZfcHJpdi0+dW5jb3JlKTsKIAogCWludGVsX3Bvd2VyX2RvbWFpbnNfc3VzcGVuZChkZXZfcHJp
diwKQEAgLTIxOTksNiArMjIwOCw3IEBAIHN0YXRpYyBpbnQgaTkxNV9kcm1fcmVzdW1lX2Vhcmx5
KHN0cnVjdCBkcm1fZGV2aWNlICpkZXYpCiAJCQkgIHJldCk7CiAKIAlpbnRlbF91bmNvcmVfcmVz
dW1lX2Vhcmx5KCZkZXZfcHJpdi0+dW5jb3JlKTsKKwlpbnRlbF91bmNvcmVfcmVzdW1lX2Vhcmx5
KCZkZXZfcHJpdi0+ZGVfdW5jb3JlKTsKIAogCWludGVsX2d0X2NoZWNrX2FuZF9jbGVhcl9mYXVs
dHMoJmRldl9wcml2LT5ndCk7CiAKQEAgLTI3NjQsNiArMjc3NCw3IEBAIHN0YXRpYyBpbnQgaW50
ZWxfcnVudGltZV9zdXNwZW5kKHN0cnVjdCBkZXZpY2UgKmtkZXYpCiAKIAlpbnRlbF9ydW50aW1l
X3BtX2Rpc2FibGVfaW50ZXJydXB0cyhkZXZfcHJpdik7CiAKKwlpbnRlbF91bmNvcmVfc3VzcGVu
ZCgmZGV2X3ByaXYtPmRlX3VuY29yZSk7CiAJaW50ZWxfdW5jb3JlX3N1c3BlbmQoJmRldl9wcml2
LT51bmNvcmUpOwogCiAJaW50ZWxfZGlzcGxheV9wb3dlcl9zdXNwZW5kKGRldl9wcml2KTsKQEAg
LTI3NzQsNiArMjc4NSw3IEBAIHN0YXRpYyBpbnQgaW50ZWxfcnVudGltZV9zdXNwZW5kKHN0cnVj
dCBkZXZpY2UgKmtkZXYpCiAJaWYgKHJldCkgewogCQlEUk1fRVJST1IoIlJ1bnRpbWUgc3VzcGVu
ZCBmYWlsZWQsIGRpc2FibGluZyBpdCAoJWQpXG4iLCByZXQpOwogCQlpbnRlbF91bmNvcmVfcnVu
dGltZV9yZXN1bWUoJmRldl9wcml2LT51bmNvcmUpOworCQlpbnRlbF91bmNvcmVfcnVudGltZV9y
ZXN1bWUoJmRldl9wcml2LT5kZV91bmNvcmUpOwogCiAJCWludGVsX3J1bnRpbWVfcG1fZW5hYmxl
X2ludGVycnVwdHMoZGV2X3ByaXYpOwogCkBAIC0yODUxLDYgKzI4NjMsNyBAQCBzdGF0aWMgaW50
IGludGVsX3J1bnRpbWVfcmVzdW1lKHN0cnVjdCBkZXZpY2UgKmtkZXYpCiAJCXJldCA9IHZsdl9y
ZXN1bWVfcHJlcGFyZShkZXZfcHJpdiwgdHJ1ZSk7CiAKIAlpbnRlbF91bmNvcmVfcnVudGltZV9y
ZXN1bWUoJmRldl9wcml2LT51bmNvcmUpOworCWludGVsX3VuY29yZV9ydW50aW1lX3Jlc3VtZSgm
ZGV2X3ByaXYtPmRlX3VuY29yZSk7CiAKIAlpbnRlbF9ydW50aW1lX3BtX2VuYWJsZV9pbnRlcnJ1
cHRzKGRldl9wcml2KTsKIApkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9k
cnYuaCBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZHJ2LmgKaW5kZXggMTNjMjdhNzVkY2E4
Li4wMTViNDkwYzE0ZDYgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZHJ2
LmgKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kcnYuaApAQCAtNjYsNiArNjYsNyBA
QAogI2luY2x1ZGUgImRpc3BsYXkvaW50ZWxfYmlvcy5oIgogI2luY2x1ZGUgImRpc3BsYXkvaW50
ZWxfZGlzcGxheS5oIgogI2luY2x1ZGUgImRpc3BsYXkvaW50ZWxfZGlzcGxheV9wb3dlci5oIgor
I2luY2x1ZGUgImRpc3BsYXkvaW50ZWxfZGlzcGxheV9yZWcuaCIKICNpbmNsdWRlICJkaXNwbGF5
L2ludGVsX2RwbGxfbWdyLmgiCiAjaW5jbHVkZSAiZGlzcGxheS9pbnRlbF9mcm9udGJ1ZmZlci5o
IgogI2luY2x1ZGUgImRpc3BsYXkvaW50ZWxfb3ByZWdpb24uaCIKQEAgLTEzNDYsNiArMTM0Nyw3
IEBAIHN0cnVjdCBkcm1faTkxNV9wcml2YXRlIHsKIAlyZXNvdXJjZV9zaXplX3Qgc3RvbGVuX3Vz
YWJsZV9zaXplOwkvKiBUb3RhbCBzaXplIG1pbnVzIHJlc2VydmVkIHJhbmdlcyAqLwogCiAJc3Ry
dWN0IGludGVsX3VuY29yZSB1bmNvcmU7CisJc3RydWN0IGludGVsX3VuY29yZSBkZV91bmNvcmU7
CiAJc3RydWN0IGludGVsX3VuY29yZV9tbWlvX2RlYnVnIG1taW9fZGVidWc7CiAKIAlzdHJ1Y3Qg
aTkxNV92aXJ0dWFsX2dwdSB2Z3B1OwpAQCAtMjY4Nyw2ICsyNjg5LDM1IEBAIGludCBpOTE1X3Jl
Z19yZWFkX2lvY3RsKHN0cnVjdCBkcm1fZGV2aWNlICpkZXYsIHZvaWQgKmRhdGEsCiAjZGVmaW5l
IEk5MTVfUkVBRF9GVyhyZWdfXykgX19JOTE1X1JFR19PUChyZWFkX2Z3LCBkZXZfcHJpdiwgKHJl
Z19fKSkKICNkZWZpbmUgSTkxNV9XUklURV9GVyhyZWdfXywgdmFsX18pIF9fSTkxNV9SRUdfT1Ao
d3JpdGVfZncsIGRldl9wcml2LCAocmVnX18pLCAodmFsX18pKQogCisvKgorICogVGhlIGZvbGxv
d2luZyBhcmUgbW1pby1hY2Nlc3NvcnMgdGhhdCB1c2UgYW4gaW5kZXBlbmRlbnQgbG9jayBhbmQg
c2tpcCBhbGwKKyAqIHRoZSBmb3JjZXdha2UgbG9naWMsIHRvIGJlIHVzZWQgdG8gYWNjZXNzIGRp
c3BsYXkgcmVnaXN0ZXJzLCB3aGljaCBhcmUKKyAqIG91dHNpZGUgdGhlIEdUIGZvcmNld2FrZSB3
ZWxscy4KKyAqLworc3RhdGljIGlubGluZSB1MzIKK2ludGVsX2RlX3JlYWQoc3RydWN0IGRybV9p
OTE1X3ByaXZhdGUgKmk5MTUsIGludGVsX2RlX3JlZ190IHJlZykKK3sKKwlyZXR1cm4gaW50ZWxf
dW5jb3JlX3JlYWQoJmk5MTUtPmRlX3VuY29yZSwgaW50ZWxfZGVfcmVnX3RvX21taW8ocmVnKSk7
Cit9CisKK3N0YXRpYyBpbmxpbmUgdm9pZAoraW50ZWxfZGVfcG9zdGluZ19yZWFkKHN0cnVjdCBk
cm1faTkxNV9wcml2YXRlICppOTE1LCBpbnRlbF9kZV9yZWdfdCByZWcpCit7CisJaW50ZWxfdW5j
b3JlX3Bvc3RpbmdfcmVhZCgmaTkxNS0+ZGVfdW5jb3JlLCBpbnRlbF9kZV9yZWdfdG9fbW1pbyhy
ZWcpKTsKK30KKworc3RhdGljIGlubGluZSB2b2lkCitpbnRlbF9kZV93cml0ZShzdHJ1Y3QgZHJt
X2k5MTVfcHJpdmF0ZSAqaTkxNSwgaW50ZWxfZGVfcmVnX3QgcmVnLCB1MzIgdmFsKQoreworCWlu
dGVsX3VuY29yZV93cml0ZSgmaTkxNS0+ZGVfdW5jb3JlLCBpbnRlbF9kZV9yZWdfdG9fbW1pbyhy
ZWcpLCB2YWwpOworfQorCitzdGF0aWMgaW5saW5lIHZvaWQKK2ludGVsX2RlX3JtdyhzdHJ1Y3Qg
ZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSwgaW50ZWxfZGVfcmVnX3QgcmVnLCB1MzIgY2xlYXIsIHUz
MiBzZXQpCit7CisJaW50ZWxfdW5jb3JlX3JtdygmaTkxNS0+ZGVfdW5jb3JlLCBpbnRlbF9kZV9y
ZWdfdG9fbW1pbyhyZWcpLCBjbGVhciwgc2V0KTsKK30KKwogdm9pZCBpOTE1X21lbWNweV9pbml0
X2Vhcmx5KHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdik7CiBib29sIGk5MTVfbWVt
Y3B5X2Zyb21fd2Modm9pZCAqZHN0LCBjb25zdCB2b2lkICpzcmMsIHVuc2lnbmVkIGxvbmcgbGVu
KTsKIApkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfdW5jb3JlLmMgYi9k
cml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF91bmNvcmUuYwppbmRleCA5ZTU4M2YxM2E5ZTQuLmZi
YTVlMmE2Mzg4OCAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfdW5jb3Jl
LmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfdW5jb3JlLmMKQEAgLTE3MDIsNiAr
MTcwMiwxMiBAQCBzdGF0aWMgaW50IHVuY29yZV9mb3JjZXdha2VfaW5pdChzdHJ1Y3QgaW50ZWxf
dW5jb3JlICp1bmNvcmUpCiAJcmV0dXJuIDA7CiB9CiAKK3N0YXRpYyBib29sCitpbnRlbF91bmNv
cmVfaXNfZGlzcGxheShjb25zdCBzdHJ1Y3QgaW50ZWxfdW5jb3JlICp1bmNvcmUpCit7CisJcmV0
dXJuIHVuY29yZSA9PSAmdW5jb3JlLT5pOTE1LT5kZV91bmNvcmU7Cit9CisKIGludCBpbnRlbF91
bmNvcmVfaW5pdF9tbWlvKHN0cnVjdCBpbnRlbF91bmNvcmUgKnVuY29yZSkKIHsKIAlzdHJ1Y3Qg
ZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSA9IHVuY29yZS0+aTkxNTsKQEAgLTE3MTEsNyArMTcxNyw4
IEBAIGludCBpbnRlbF91bmNvcmVfaW5pdF9tbWlvKHN0cnVjdCBpbnRlbF91bmNvcmUgKnVuY29y
ZSkKIAlpZiAocmV0KQogCQlyZXR1cm4gcmV0OwogCi0JaWYgKElOVEVMX0dFTihpOTE1KSA+IDUg
JiYgIWludGVsX3ZncHVfYWN0aXZlKGk5MTUpKQorCWlmIChJTlRFTF9HRU4oaTkxNSkgPiA1ICYm
ICFpbnRlbF92Z3B1X2FjdGl2ZShpOTE1KSAmJgorCSAgICAhaW50ZWxfdW5jb3JlX2lzX2Rpc3Bs
YXkodW5jb3JlKSkKIAkJdW5jb3JlLT5mbGFncyB8PSBVTkNPUkVfSEFTX0ZPUkNFV0FLRTsKIAog
CWlmICghaW50ZWxfdW5jb3JlX2hhc19mb3JjZXdha2UodW5jb3JlKSkgewotLSAKMi4yMi4wCgpf
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpJbnRlbC1nZngg
bWFpbGluZyBsaXN0CkludGVsLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0
cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9pbnRlbC1nZng=

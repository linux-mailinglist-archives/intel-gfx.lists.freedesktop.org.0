Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 57E72C0BC0
	for <lists+intel-gfx@lfdr.de>; Fri, 27 Sep 2019 20:46:34 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id ACC436E1F7;
	Fri, 27 Sep 2019 18:46:32 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga03.intel.com (mga03.intel.com [134.134.136.65])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 72A496E1F7
 for <intel-gfx@lists.freedesktop.org>; Fri, 27 Sep 2019 18:46:31 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from fmsmga001.fm.intel.com ([10.253.24.23])
 by orsmga103.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 27 Sep 2019 11:46:30 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.64,556,1559545200"; d="scan'208";a="204231389"
Received: from fmsmsx107.amr.corp.intel.com ([10.18.124.205])
 by fmsmga001.fm.intel.com with ESMTP; 27 Sep 2019 11:46:30 -0700
Received: from FMSMSX110.amr.corp.intel.com (10.18.116.10) by
 fmsmsx107.amr.corp.intel.com (10.18.124.205) with Microsoft SMTP Server (TLS)
 id 14.3.439.0; Fri, 27 Sep 2019 11:46:30 -0700
Received: from fmsmsx107.amr.corp.intel.com ([169.254.6.84]) by
 FMSMSX110.amr.corp.intel.com ([169.254.14.97]) with mapi id 14.03.0439.000;
 Fri, 27 Sep 2019 11:46:29 -0700
From: "Ruhl, Michael J" <michael.j.ruhl@intel.com>
To: "Auld, Matthew" <matthew.auld@intel.com>,
 "intel-gfx@lists.freedesktop.org" <intel-gfx@lists.freedesktop.org>
Thread-Topic: [Intel-gfx] [PATCH 04/22] drm/i915/region: support continuous
 allocations
Thread-Index: AQHVdVnVRBtCd4VrO0SGeY+kngg6K6c/2/xQ
Date: Fri, 27 Sep 2019 18:46:29 +0000
Message-ID: <14063C7AD467DE4B82DEDB5C278E8663D9BFA00F@fmsmsx107.amr.corp.intel.com>
References: <20190927173409.31175-1-matthew.auld@intel.com>
 <20190927173409.31175-5-matthew.auld@intel.com>
In-Reply-To: <20190927173409.31175-5-matthew.auld@intel.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-ctpclassification: CTP_NT
x-titus-metadata-40: eyJDYXRlZ29yeUxhYmVscyI6IiIsIk1ldGFkYXRhIjp7Im5zIjoiaHR0cDpcL1wvd3d3LnRpdHVzLmNvbVwvbnNcL0ludGVsMyIsImlkIjoiNjEzYmVmMjAtZjAyNi00MjM5LWIwNWYtM2Q1OTViZGNkM2QxIiwicHJvcHMiOlt7Im4iOiJDVFBDbGFzc2lmaWNhdGlvbiIsInZhbHMiOlt7InZhbHVlIjoiQ1RQX05UIn1dfV19LCJTdWJqZWN0TGFiZWxzIjpbXSwiVE1DVmVyc2lvbiI6IjE3LjEwLjE4MDQuNDkiLCJUcnVzdGVkTGFiZWxIYXNoIjoidTlyZGFFcG5zbWdYcmo4TXBJQ3BlUmJYTndkTCs3K2dpNlFObmFtK1dhbHh1U0MrOXpxcnBTcUltdm5obm1jZCJ9
dlp-product: dlpe-windows
dlp-version: 11.2.0.6
dlp-reaction: no-action
x-originating-ip: [10.1.200.107]
MIME-Version: 1.0
Subject: Re: [Intel-gfx] [PATCH 04/22] drm/i915/region: support continuous
 allocations
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: "daniel.vetter@ffwll.ch" <daniel.vetter@ffwll.ch>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

Pi0tLS0tT3JpZ2luYWwgTWVzc2FnZS0tLS0tDQo+RnJvbTogSW50ZWwtZ2Z4IFttYWlsdG86aW50
ZWwtZ2Z4LWJvdW5jZXNAbGlzdHMuZnJlZWRlc2t0b3Aub3JnXSBPbiBCZWhhbGYgT2YNCj5NYXR0
aGV3IEF1bGQNCj5TZW50OiBGcmlkYXksIFNlcHRlbWJlciAyNywgMjAxOSAxOjM0IFBNDQo+VG86
IGludGVsLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcNCj5DYzogZGFuaWVsLnZldHRlckBmZnds
bC5jaA0KPlN1YmplY3Q6IFtJbnRlbC1nZnhdIFtQQVRDSCAwNC8yMl0gZHJtL2k5MTUvcmVnaW9u
OiBzdXBwb3J0IGNvbnRpbnVvdXMNCj5hbGxvY2F0aW9ucw0KPg0KPlNvbWUga2VybmVsIGludGVy
bmFsIG9iamVjdHMgbWF5IG5lZWQgdG8gYmUgYWxsb2NhdGVkIGFzIGEgY29udGludW91cw0KDQpO
aXQ6DQoNCllvdSByZWZlciB0byB0aGUgImNvbnRpbnVvdXMgYmxvY2siLCBidXQgdGhlIHRoZW4g
eW91IGNyZWF0ZSB0aGUgIkNPTlRJR1VPVVMiDQphbGxvY2F0aW9ucy4NCg0Kcy9jb250aW51b3Vz
L2NvbnRpZ3VvdXM/DQoNCk1pa2UNCg0KPmJsb2NrLCBhbHNvIHRoaW5raW5nIGFoZWFkIHRoZSB2
YXJpb3VzIGtlcm5lbCBpb19tYXBwaW5nIGludGVyZmFjZXMgc2VlbQ0KPnRvIGV4cGVjdCBpdCwg
YWx0aG91Z2ggdGhpcyBpcyBwdXJlbHkgYSBsaW1pdGF0aW9uIGluIHRoZSBrZXJuZWwNCj5BUEku
Li5zbyBwZXJoYXBzIHNvbWV0aGluZyB0byBiZSBpbXByb3ZlZC4NCj4NCj5TaWduZWQtb2ZmLWJ5
OiBNYXR0aGV3IEF1bGQgPG1hdHRoZXcuYXVsZEBpbnRlbC5jb20+DQo+Q2M6IEpvb25hcyBMYWh0
aW5lbiA8am9vbmFzLmxhaHRpbmVuQGxpbnV4LmludGVsLmNvbT4NCj5DYzogQWJkaWVsIEphbnVs
Z3VlIDxhYmRpZWwuamFudWxndWVAbGludXguaW50ZWwuY29tPg0KPi0tLQ0KPiAuLi4vZ3B1L2Ry
bS9pOTE1L2dlbS9pOTE1X2dlbV9vYmplY3RfdHlwZXMuaCAgfCAgIDQgKw0KPiBkcml2ZXJzL2dw
dS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fcmVnaW9uLmMgICAgfCAgMTUgKy0NCj4gZHJpdmVycy9n
cHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX3JlZ2lvbi5oICAgIHwgICAzICstDQo+IC4uLi9ncHUv
ZHJtL2k5MTUvZ2VtL3NlbGZ0ZXN0cy9odWdlX3BhZ2VzLmMgICB8ICAgMyArLQ0KPiBkcml2ZXJz
L2dwdS9kcm0vaTkxNS9pbnRlbF9tZW1vcnlfcmVnaW9uLmMgICAgfCAgMTMgKy0NCj4gZHJpdmVy
cy9ncHUvZHJtL2k5MTUvaW50ZWxfbWVtb3J5X3JlZ2lvbi5oICAgIHwgICAzICstDQo+IC4uLi9k
cm0vaTkxNS9zZWxmdGVzdHMvaW50ZWxfbWVtb3J5X3JlZ2lvbi5jICB8IDE2MyArKysrKysrKysr
KysrKysrKysNCj4gZHJpdmVycy9ncHUvZHJtL2k5MTUvc2VsZnRlc3RzL21vY2tfcmVnaW9uLmMg
IHwgICAyICstDQo+IDggZmlsZXMgY2hhbmdlZCwgMTk3IGluc2VydGlvbnMoKyksIDkgZGVsZXRp
b25zKC0pDQo+DQo+ZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dl
bV9vYmplY3RfdHlwZXMuaA0KPmIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX29i
amVjdF90eXBlcy5oDQo+aW5kZXggZDM2Yzg2MGM5YzZmLi43YWNkMzgzZjE3NGYgMTAwNjQ0DQo+
LS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX29iamVjdF90eXBlcy5oDQo+
KysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX29iamVjdF90eXBlcy5oDQo+
QEAgLTExNyw2ICsxMTcsMTAgQEAgc3RydWN0IGRybV9pOTE1X2dlbV9vYmplY3Qgew0KPg0KPiAJ
STkxNV9TRUxGVEVTVF9ERUNMQVJFKHN0cnVjdCBsaXN0X2hlYWQgc3RfbGluayk7DQo+DQo+Kwl1
bnNpZ25lZCBsb25nIGZsYWdzOw0KPisjZGVmaW5lIEk5MTVfQk9fQUxMT0NfQ09OVElHVU9VUyBC
SVQoMCkNCj4rI2RlZmluZSBJOTE1X0JPX0FMTE9DX0ZMQUdTIChJOTE1X0JPX0FMTE9DX0NPTlRJ
R1VPVVMpDQo+Kw0KPiAJLyoNCj4gCSAqIElzIHRoZSBvYmplY3QgdG8gYmUgbWFwcGVkIGFzIHJl
YWQtb25seSB0byB0aGUgR1BVDQo+IAkgKiBPbmx5IGhvbm91cmVkIGlmIGhhcmR3YXJlIGhhcyBy
ZWxldmFudCBwdGUgYml0DQo+ZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9p
OTE1X2dlbV9yZWdpb24uYw0KPmIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX3Jl
Z2lvbi5jDQo+aW5kZXggNWMzYmZjMTIxOTIxLi5iMzE3YTVjODQxNDQgMTAwNjQ0DQo+LS0tIGEv
ZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX3JlZ2lvbi5jDQo+KysrIGIvZHJpdmVy
cy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX3JlZ2lvbi5jDQo+QEAgLTIzLDEwICsyMywxMCBA
QCBpOTE1X2dlbV9vYmplY3RfZ2V0X3BhZ2VzX2J1ZGR5KHN0cnVjdA0KPmRybV9pOTE1X2dlbV9v
YmplY3QgKm9iaikNCj4gew0KPiAJc3RydWN0IGludGVsX21lbW9yeV9yZWdpb24gKm1lbSA9IG9i
ai0+bW0ucmVnaW9uOw0KPiAJc3RydWN0IGxpc3RfaGVhZCAqYmxvY2tzID0gJm9iai0+bW0uYmxv
Y2tzOw0KPi0JdW5zaWduZWQgaW50IGZsYWdzID0gSTkxNV9BTExPQ19NSU5fUEFHRV9TSVpFOw0K
PiAJcmVzb3VyY2Vfc2l6ZV90IHNpemUgPSBvYmotPmJhc2Uuc2l6ZTsNCj4gCXJlc291cmNlX3Np
emVfdCBwcmV2X2VuZDsNCj4gCXN0cnVjdCBpOTE1X2J1ZGR5X2Jsb2NrICpibG9jazsNCj4rCXVu
c2lnbmVkIGludCBmbGFnczsNCj4gCXN0cnVjdCBzZ190YWJsZSAqc3Q7DQo+IAlzdHJ1Y3Qgc2Nh
dHRlcmxpc3QgKnNnOw0KPiAJdW5zaWduZWQgaW50IHNnX3BhZ2Vfc2l6ZXM7DQo+QEAgLTQyLDYg
KzQyLDEwIEBAIGk5MTVfZ2VtX29iamVjdF9nZXRfcGFnZXNfYnVkZHkoc3RydWN0DQo+ZHJtX2k5
MTVfZ2VtX29iamVjdCAqb2JqKQ0KPiAJCXJldHVybiAtRU5PTUVNOw0KPiAJfQ0KPg0KPisJZmxh
Z3MgPSBJOTE1X0FMTE9DX01JTl9QQUdFX1NJWkU7DQo+KwlpZiAob2JqLT5mbGFncyAmIEk5MTVf
Qk9fQUxMT0NfQ09OVElHVU9VUykNCj4rCQlmbGFncyB8PSBJOTE1X0FMTE9DX0NPTlRJR1VPVVM7
DQo+Kw0KPiAJcmV0ID0gX19pbnRlbF9tZW1vcnlfcmVnaW9uX2dldF9wYWdlc19idWRkeShtZW0s
IHNpemUsIGZsYWdzLA0KPmJsb2Nrcyk7DQo+IAlpZiAocmV0KQ0KPiAJCWdvdG8gZXJyX2ZyZWVf
c2c7DQo+QEAgLTU2LDcgKzYwLDggQEAgaTkxNV9nZW1fb2JqZWN0X2dldF9wYWdlc19idWRkeShz
dHJ1Y3QNCj5kcm1faTkxNV9nZW1fb2JqZWN0ICpvYmopDQo+IAlsaXN0X2Zvcl9lYWNoX2VudHJ5
KGJsb2NrLCBibG9ja3MsIGxpbmspIHsNCj4gCQl1NjQgYmxvY2tfc2l6ZSwgb2Zmc2V0Ow0KPg0K
Pi0JCWJsb2NrX3NpemUgPSBpOTE1X2J1ZGR5X2Jsb2NrX3NpemUoJm1lbS0+bW0sIGJsb2NrKTsN
Cj4rCQlibG9ja19zaXplID0gbWluX3QodTY0LCBzaXplLA0KPisJCQkJICAgaTkxNV9idWRkeV9i
bG9ja19zaXplKCZtZW0tPm1tLA0KPmJsb2NrKSk7DQo+IAkJb2Zmc2V0ID0gaTkxNV9idWRkeV9i
bG9ja19vZmZzZXQoYmxvY2spOw0KPg0KPiAJCUdFTV9CVUdfT04ob3ZlcmZsb3dzX3R5cGUoYmxv
Y2tfc2l6ZSwgc2ctPmxlbmd0aCkpOw0KPkBAIC05OCwxMCArMTAzLDEyIEBAIGk5MTVfZ2VtX29i
amVjdF9nZXRfcGFnZXNfYnVkZHkoc3RydWN0DQo+ZHJtX2k5MTVfZ2VtX29iamVjdCAqb2JqKQ0K
PiB9DQo+DQo+IHZvaWQgaTkxNV9nZW1fb2JqZWN0X2luaXRfbWVtb3J5X3JlZ2lvbihzdHJ1Y3Qg
ZHJtX2k5MTVfZ2VtX29iamVjdA0KPipvYmosDQo+LQkJCQkJc3RydWN0IGludGVsX21lbW9yeV9y
ZWdpb24gKm1lbSkNCj4rCQkJCQlzdHJ1Y3QgaW50ZWxfbWVtb3J5X3JlZ2lvbiAqbWVtLA0KPisJ
CQkJCXVuc2lnbmVkIGxvbmcgZmxhZ3MpDQo+IHsNCj4gCUlOSVRfTElTVF9IRUFEKCZvYmotPm1t
LmJsb2Nrcyk7DQo+IAlvYmotPm1tLnJlZ2lvbiA9IG1lbTsNCj4rCW9iai0+ZmxhZ3MgPSBmbGFn
czsNCj4gfQ0KPg0KPiB2b2lkIGk5MTVfZ2VtX29iamVjdF9yZWxlYXNlX21lbW9yeV9yZWdpb24o
c3RydWN0DQo+ZHJtX2k5MTVfZ2VtX29iamVjdCAqb2JqKQ0KPkBAIC0xMTUsNiArMTIyLDggQEAg
aTkxNV9nZW1fb2JqZWN0X2NyZWF0ZV9yZWdpb24oc3RydWN0DQo+aW50ZWxfbWVtb3J5X3JlZ2lv
biAqbWVtLA0KPiB7DQo+IAlzdHJ1Y3QgZHJtX2k5MTVfZ2VtX29iamVjdCAqb2JqOw0KPg0KPisJ
R0VNX0JVR19PTihmbGFncyAmIH5JOTE1X0JPX0FMTE9DX0ZMQUdTKTsNCj4rDQo+IAlpZiAoIW1l
bSkNCj4gCQlyZXR1cm4gRVJSX1BUUigtRU5PREVWKTsNCj4NCj5kaWZmIC0tZ2l0IGEvZHJpdmVy
cy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX3JlZ2lvbi5oDQo+Yi9kcml2ZXJzL2dwdS9kcm0v
aTkxNS9nZW0vaTkxNV9nZW1fcmVnaW9uLmgNCj5pbmRleCBlYmRkYzg2ZDc4ZjcuLmYyZmY2Zjhi
ZmY3NCAxMDA2NDQNCj4tLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fcmVn
aW9uLmgNCj4rKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fcmVnaW9uLmgN
Cj5AQCAtMTcsNyArMTcsOCBAQCB2b2lkIGk5MTVfZ2VtX29iamVjdF9wdXRfcGFnZXNfYnVkZHko
c3RydWN0DQo+ZHJtX2k5MTVfZ2VtX29iamVjdCAqb2JqLA0KPiAJCQkJICAgICBzdHJ1Y3Qgc2df
dGFibGUgKnBhZ2VzKTsNCj4NCj4gdm9pZCBpOTE1X2dlbV9vYmplY3RfaW5pdF9tZW1vcnlfcmVn
aW9uKHN0cnVjdCBkcm1faTkxNV9nZW1fb2JqZWN0DQo+Km9iaiwNCj4tCQkJCQlzdHJ1Y3QgaW50
ZWxfbWVtb3J5X3JlZ2lvbiAqbWVtKTsNCj4rCQkJCQlzdHJ1Y3QgaW50ZWxfbWVtb3J5X3JlZ2lv
biAqbWVtLA0KPisJCQkJCXVuc2lnbmVkIGxvbmcgZmxhZ3MpOw0KPiB2b2lkIGk5MTVfZ2VtX29i
amVjdF9yZWxlYXNlX21lbW9yeV9yZWdpb24oc3RydWN0DQo+ZHJtX2k5MTVfZ2VtX29iamVjdCAq
b2JqKTsNCj4NCj4gc3RydWN0IGRybV9pOTE1X2dlbV9vYmplY3QgKg0KPmRpZmYgLS1naXQgYS9k
cml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vc2VsZnRlc3RzL2h1Z2VfcGFnZXMuYw0KPmIvZHJpdmVy
cy9ncHUvZHJtL2k5MTUvZ2VtL3NlbGZ0ZXN0cy9odWdlX3BhZ2VzLmMNCj5pbmRleCA0ZTE4MDVh
YWViOTkuLmY5ZmJmMjg2NTc4MiAxMDA2NDQNCj4tLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9n
ZW0vc2VsZnRlc3RzL2h1Z2VfcGFnZXMuYw0KPisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dl
bS9zZWxmdGVzdHMvaHVnZV9wYWdlcy5jDQo+QEAgLTQ3MSw3ICs0NzEsOCBAQCBzdGF0aWMgaW50
IGlndF9tb2NrX21lbW9yeV9yZWdpb25faHVnZV9wYWdlcyh2b2lkDQo+KmFyZykNCj4gCQl1bnNp
Z25lZCBpbnQgcGFnZV9zaXplID0gQklUKGJpdCk7DQo+IAkJcmVzb3VyY2Vfc2l6ZV90IHBoeXM7
DQo+DQo+LQkJb2JqID0gaTkxNV9nZW1fb2JqZWN0X2NyZWF0ZV9yZWdpb24obWVtLCBwYWdlX3Np
emUsIDApOw0KPisJCW9iaiA9IGk5MTVfZ2VtX29iamVjdF9jcmVhdGVfcmVnaW9uKG1lbSwgcGFn
ZV9zaXplLA0KPisNCj5JOTE1X0JPX0FMTE9DX0NPTlRJR1VPVVMpOw0KPiAJCWlmIChJU19FUlIo
b2JqKSkgew0KPiAJCQllcnIgPSBQVFJfRVJSKG9iaik7DQo+IAkJCWdvdG8gb3V0X2Rlc3Ryb3lf
ZGV2aWNlOw0KPmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9tZW1vcnlf
cmVnaW9uLmMNCj5iL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX21lbW9yeV9yZWdpb24uYw0K
PmluZGV4IGU0OGQ1YzM3YzRkZi4uN2E2Njg3MmQ5ZWFjIDEwMDY0NA0KPi0tLSBhL2RyaXZlcnMv
Z3B1L2RybS9pOTE1L2ludGVsX21lbW9yeV9yZWdpb24uYw0KPisrKyBiL2RyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2ludGVsX21lbW9yeV9yZWdpb24uYw0KPkBAIC00Nyw4ICs0Nyw4IEBAIF9faW50ZWxf
bWVtb3J5X3JlZ2lvbl9nZXRfcGFnZXNfYnVkZHkoc3RydWN0DQo+aW50ZWxfbWVtb3J5X3JlZ2lv
biAqbWVtLA0KPiAJCQkJICAgICAgdW5zaWduZWQgaW50IGZsYWdzLA0KPiAJCQkJICAgICAgc3Ry
dWN0IGxpc3RfaGVhZCAqYmxvY2tzKQ0KPiB7DQo+LQl1bnNpZ25lZCBsb25nIG5fcGFnZXMgPSBz
aXplID4+IGlsb2cyKG1lbS0+bW0uY2h1bmtfc2l6ZSk7DQo+IAl1bnNpZ25lZCBpbnQgbWluX29y
ZGVyID0gMDsNCj4rCXVuc2lnbmVkIGxvbmcgbl9wYWdlczsNCj4NCj4gCUdFTV9CVUdfT04oIUlT
X0FMSUdORUQoc2l6ZSwgbWVtLT5tbS5jaHVua19zaXplKSk7DQo+IAlHRU1fQlVHX09OKCFsaXN0
X2VtcHR5KGJsb2NrcykpOw0KPkBAIC01OCw2ICs1OCwxMyBAQCBfX2ludGVsX21lbW9yeV9yZWdp
b25fZ2V0X3BhZ2VzX2J1ZGR5KHN0cnVjdA0KPmludGVsX21lbW9yeV9yZWdpb24gKm1lbSwNCj4g
CQkJICAgIGlsb2cyKG1lbS0+bW0uY2h1bmtfc2l6ZSk7DQo+IAl9DQo+DQo+KwlpZiAoZmxhZ3Mg
JiBJOTE1X0FMTE9DX0NPTlRJR1VPVVMpIHsNCj4rCQlzaXplID0gcm91bmR1cF9wb3dfb2ZfdHdv
KHNpemUpOw0KPisJCW1pbl9vcmRlciA9IGlsb2cyKHNpemUpIC0gaWxvZzIobWVtLT5tbS5jaHVu
a19zaXplKTsNCj4rCX0NCj4rDQo+KwluX3BhZ2VzID0gc2l6ZSA+PiBpbG9nMihtZW0tPm1tLmNo
dW5rX3NpemUpOw0KPisNCj4gCW11dGV4X2xvY2soJm1lbS0+bW1fbG9jayk7DQo+DQo+IAlkbyB7
DQo+QEAgLTEwNCw3ICsxMTEsOSBAQCBfX2ludGVsX21lbW9yeV9yZWdpb25fZ2V0X2Jsb2NrX2J1
ZGR5KHN0cnVjdA0KPmludGVsX21lbW9yeV9yZWdpb24gKm1lbSwNCj4gCWludCByZXQ7DQo+DQo+
IAlJTklUX0xJU1RfSEVBRCgmYmxvY2tzKTsNCj4tCXJldCA9IF9faW50ZWxfbWVtb3J5X3JlZ2lv
bl9nZXRfcGFnZXNfYnVkZHkobWVtLCBzaXplLCAwLA0KPiZibG9ja3MpOw0KPisJcmV0ID0gX19p
bnRlbF9tZW1vcnlfcmVnaW9uX2dldF9wYWdlc19idWRkeShtZW0sIHNpemUsDQo+KwkJCQkJCSAg
ICBJOTE1X0FMTE9DX0NPTlRJR1VPVVMsDQo+KwkJCQkJCSAgICAmYmxvY2tzKTsNCj4gCWlmIChy
ZXQpDQo+IAkJcmV0dXJuIEVSUl9QVFIocmV0KTsNCj4NCj5kaWZmIC0tZ2l0IGEvZHJpdmVycy9n
cHUvZHJtL2k5MTUvaW50ZWxfbWVtb3J5X3JlZ2lvbi5oDQo+Yi9kcml2ZXJzL2dwdS9kcm0vaTkx
NS9pbnRlbF9tZW1vcnlfcmVnaW9uLmgNCj5pbmRleCBhZTFjZTI5OGJjZDEuLjFkYWQ1MWIyZmM5
NiAxMDA2NDQNCj4tLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9tZW1vcnlfcmVnaW9u
LmgNCj4rKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9tZW1vcnlfcmVnaW9uLmgNCj5A
QCAtMTcsNyArMTcsOCBAQCBzdHJ1Y3QgZHJtX2k5MTVfZ2VtX29iamVjdDsNCj4gc3RydWN0IGlu
dGVsX21lbW9yeV9yZWdpb247DQo+IHN0cnVjdCBzZ190YWJsZTsNCj4NCj4tI2RlZmluZSBJOTE1
X0FMTE9DX01JTl9QQUdFX1NJWkUgICBCSVQoMCkNCj4rI2RlZmluZSBJOTE1X0FMTE9DX01JTl9Q
QUdFX1NJWkUgIEJJVCgwKQ0KPisjZGVmaW5lIEk5MTVfQUxMT0NfQ09OVElHVU9VUyAgICAgQklU
KDEpDQo+DQo+IHN0cnVjdCBpbnRlbF9tZW1vcnlfcmVnaW9uX29wcyB7DQo+IAl1bnNpZ25lZCBp
bnQgZmxhZ3M7DQo+ZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L3NlbGZ0ZXN0cy9p
bnRlbF9tZW1vcnlfcmVnaW9uLmMNCj5iL2RyaXZlcnMvZ3B1L2RybS9pOTE1L3NlbGZ0ZXN0cy9p
bnRlbF9tZW1vcnlfcmVnaW9uLmMNCj5pbmRleCA1NGY5YTYyNGI0ZTEuLmM0M2QwMGVjMzhlYSAx
MDA2NDQNCj4tLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9zZWxmdGVzdHMvaW50ZWxfbWVtb3J5
X3JlZ2lvbi5jDQo+KysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvc2VsZnRlc3RzL2ludGVsX21l
bW9yeV9yZWdpb24uYw0KPkBAIC0xMyw2ICsxMyw3IEBADQo+DQo+ICNpbmNsdWRlICJnZW0vaTkx
NV9nZW1fcmVnaW9uLmgiDQo+ICNpbmNsdWRlICJnZW0vc2VsZnRlc3RzL21vY2tfY29udGV4dC5o
Ig0KPisjaW5jbHVkZSAic2VsZnRlc3RzL2k5MTVfcmFuZG9tLmgiDQo+DQo+IHN0YXRpYyB2b2lk
IGNsb3NlX29iamVjdHMoc3RydWN0IGxpc3RfaGVhZCAqb2JqZWN0cykNCj4gew0KPkBAIC04OSwx
MCArOTAsMTcyIEBAIHN0YXRpYyBpbnQgaWd0X21vY2tfZmlsbCh2b2lkICphcmcpDQo+IAlyZXR1
cm4gZXJyOw0KPiB9DQo+DQo+K3N0YXRpYyBzdHJ1Y3QgZHJtX2k5MTVfZ2VtX29iamVjdCAqDQo+
K2lndF9vYmplY3RfY3JlYXRlKHN0cnVjdCBpbnRlbF9tZW1vcnlfcmVnaW9uICptZW0sDQo+KwkJ
ICBzdHJ1Y3QgbGlzdF9oZWFkICpvYmplY3RzLA0KPisJCSAgdTY0IHNpemUsDQo+KwkJICB1bnNp
Z25lZCBpbnQgZmxhZ3MpDQo+K3sNCj4rCXN0cnVjdCBkcm1faTkxNV9nZW1fb2JqZWN0ICpvYmo7
DQo+KwlpbnQgZXJyOw0KPisNCj4rCW9iaiA9IGk5MTVfZ2VtX29iamVjdF9jcmVhdGVfcmVnaW9u
KG1lbSwgc2l6ZSwgZmxhZ3MpOw0KPisJaWYgKElTX0VSUihvYmopKQ0KPisJCXJldHVybiBvYmo7
DQo+Kw0KPisJZXJyID0gaTkxNV9nZW1fb2JqZWN0X3Bpbl9wYWdlcyhvYmopOw0KPisJaWYgKGVy
cikNCj4rCQlnb3RvIHB1dDsNCj4rDQo+KwlsaXN0X2FkZCgmb2JqLT5zdF9saW5rLCBvYmplY3Rz
KTsNCj4rCXJldHVybiBvYmo7DQo+Kw0KPitwdXQ6DQo+KwlpOTE1X2dlbV9vYmplY3RfcHV0KG9i
aik7DQo+KwlyZXR1cm4gRVJSX1BUUihlcnIpOw0KPit9DQo+Kw0KPit2b2lkIGlndF9vYmplY3Rf
cmVsZWFzZShzdHJ1Y3QgZHJtX2k5MTVfZ2VtX29iamVjdCAqb2JqKQ0KPit7DQo+KwlpOTE1X2dl
bV9vYmplY3RfdW5waW5fcGFnZXMob2JqKTsNCj4rCV9faTkxNV9nZW1fb2JqZWN0X3B1dF9wYWdl
cyhvYmosIEk5MTVfTU1fTk9STUFMKTsNCj4rCWk5MTVfZ2VtX29iamVjdF9wdXQob2JqKTsNCj4r
CWxpc3RfZGVsKCZvYmotPnN0X2xpbmspOw0KPit9DQo+Kw0KPitzdGF0aWMgaW50IGlndF9tb2Nr
X2NvbnRpbnVvdXModm9pZCAqYXJnKQ0KPit7DQo+KwlzdHJ1Y3QgaW50ZWxfbWVtb3J5X3JlZ2lv
biAqbWVtID0gYXJnOw0KPisJc3RydWN0IGRybV9pOTE1X2dlbV9vYmplY3QgKm9iajsNCj4rCXVu
c2lnbmVkIGxvbmcgbl9vYmplY3RzOw0KPisJTElTVF9IRUFEKG9iamVjdHMpOw0KPisJTElTVF9I
RUFEKGhvbGVzKTsNCj4rCUk5MTVfUk5EX1NUQVRFKHBybmcpOw0KPisJcmVzb3VyY2Vfc2l6ZV90
IHRhcmdldDsNCj4rCXJlc291cmNlX3NpemVfdCB0b3RhbDsNCj4rCXJlc291cmNlX3NpemVfdCBt
aW47DQo+KwlpbnQgZXJyID0gMDsNCj4rDQo+Kwl0b3RhbCA9IHJlc291cmNlX3NpemUoJm1lbS0+
cmVnaW9uKTsNCj4rDQo+KwkvKiBNaW4gc2l6ZSAqLw0KPisJb2JqID0gaWd0X29iamVjdF9jcmVh
dGUobWVtLCAmb2JqZWN0cywgbWVtLT5tbS5jaHVua19zaXplLA0KPisJCQkJSTkxNV9CT19BTExP
Q19DT05USUdVT1VTKTsNCj4rCWlmIChJU19FUlIob2JqKSkNCj4rCQlyZXR1cm4gUFRSX0VSUihv
YmopOw0KPisNCj4rCWlmIChvYmotPm1tLnBhZ2VzLT5uZW50cyAhPSAxKSB7DQo+KwkJcHJfZXJy
KCIlcyBtaW4gb2JqZWN0IHNwYW5zIG11bHRpcGxlIHNnIGVudHJpZXNcbiIsDQo+X19mdW5jX18p
Ow0KPisJCWVyciA9IC1FSU5WQUw7DQo+KwkJZ290byBlcnJfY2xvc2Vfb2JqZWN0czsNCj4rCX0N
Cj4rDQo+KwlpZ3Rfb2JqZWN0X3JlbGVhc2Uob2JqKTsNCj4rDQo+KwkvKiBNYXggc2l6ZSAqLw0K
PisJb2JqID0gaWd0X29iamVjdF9jcmVhdGUobWVtLCAmb2JqZWN0cywgdG90YWwsDQo+STkxNV9C
T19BTExPQ19DT05USUdVT1VTKTsNCj4rCWlmIChJU19FUlIob2JqKSkNCj4rCQlyZXR1cm4gUFRS
X0VSUihvYmopOw0KPisNCj4rCWlmIChvYmotPm1tLnBhZ2VzLT5uZW50cyAhPSAxKSB7DQo+KwkJ
cHJfZXJyKCIlcyBtYXggb2JqZWN0IHNwYW5zIG11bHRpcGxlIHNnIGVudHJpZXNcbiIsDQo+X19m
dW5jX18pOw0KPisJCWVyciA9IC1FSU5WQUw7DQo+KwkJZ290byBlcnJfY2xvc2Vfb2JqZWN0czsN
Cj4rCX0NCj4rDQo+KwlpZ3Rfb2JqZWN0X3JlbGVhc2Uob2JqKTsNCj4rDQo+KwkvKiBJbnRlcm5h
bCBmcmFnbWVudGF0aW9uIHNob3VsZCBub3QgYmxlZWQgaW50byB0aGUgb2JqZWN0IHNpemUgKi8N
Cj4rCXRhcmdldCA9IHJvdW5kX3VwKHByYW5kb21fdTMyX3N0YXRlKCZwcm5nKSAlIHRvdGFsLCBQ
QUdFX1NJWkUpOw0KPisJdGFyZ2V0ID0gbWF4X3QodTY0LCBQQUdFX1NJWkUsIHRhcmdldCk7DQo+
Kw0KPisJb2JqID0gaWd0X29iamVjdF9jcmVhdGUobWVtLCAmb2JqZWN0cywgdGFyZ2V0LA0KPisJ
CQkJSTkxNV9CT19BTExPQ19DT05USUdVT1VTKTsNCj4rCWlmIChJU19FUlIob2JqKSkNCj4rCQly
ZXR1cm4gUFRSX0VSUihvYmopOw0KPisNCj4rCWlmIChvYmotPmJhc2Uuc2l6ZSAhPSB0YXJnZXQp
IHsNCj4rCQlwcl9lcnIoIiVzIG9iai0+YmFzZS5zaXplKCVsbHgpICE9IHRhcmdldCglbGx4KVxu
IiwgX19mdW5jX18sDQo+KwkJICAgICAgICh1NjQpb2JqLT5iYXNlLnNpemUsICh1NjQpdGFyZ2V0
KTsNCj4rCQllcnIgPSAtRUlOVkFMOw0KPisJCWdvdG8gZXJyX2Nsb3NlX29iamVjdHM7DQo+Kwl9
DQo+Kw0KPisJaWYgKG9iai0+bW0ucGFnZXMtPm5lbnRzICE9IDEpIHsNCj4rCQlwcl9lcnIoIiVz
IG9iamVjdCBzcGFucyBtdWx0aXBsZSBzZyBlbnRyaWVzXG4iLCBfX2Z1bmNfXyk7DQo+KwkJZXJy
ID0gLUVJTlZBTDsNCj4rCQlnb3RvIGVycl9jbG9zZV9vYmplY3RzOw0KPisJfQ0KPisNCj4rCWln
dF9vYmplY3RfcmVsZWFzZShvYmopOw0KPisNCj4rCS8qDQo+KwkgKiBUcnkgdG8gZnJhZ21lbnQg
dGhlIGFkZHJlc3Mgc3BhY2UsIHN1Y2ggdGhhdCBoYWxmIG9mIGl0IGlzIGZyZWUsIGJ1dA0KPisJ
ICogdGhlIG1heCBjb250aWd1b3VzIGJsb2NrIHNpemUgaXMgU1pfNjRLLg0KPisJICovDQo+Kw0K
PisJdGFyZ2V0ID0gU1pfNjRLOw0KPisJbl9vYmplY3RzID0gZGl2NjRfdTY0KHRvdGFsLCB0YXJn
ZXQpOw0KPisNCj4rCXdoaWxlIChuX29iamVjdHMtLSkgew0KPisJCXN0cnVjdCBsaXN0X2hlYWQg
Kmxpc3Q7DQo+Kw0KPisJCWlmIChuX29iamVjdHMgJSAyKQ0KPisJCQlsaXN0ID0gJmhvbGVzOw0K
PisJCWVsc2UNCj4rCQkJbGlzdCA9ICZvYmplY3RzOw0KPisNCj4rCQlvYmogPSBpZ3Rfb2JqZWN0
X2NyZWF0ZShtZW0sIGxpc3QsIHRhcmdldCwNCj4rCQkJCQlJOTE1X0JPX0FMTE9DX0NPTlRJR1VP
VVMpOw0KPisJCWlmIChJU19FUlIob2JqKSkgew0KPisJCQllcnIgPSBQVFJfRVJSKG9iaik7DQo+
KwkJCWdvdG8gZXJyX2Nsb3NlX29iamVjdHM7DQo+KwkJfQ0KPisJfQ0KPisNCj4rCWNsb3NlX29i
amVjdHMoJmhvbGVzKTsNCj4rDQo+KwltaW4gPSB0YXJnZXQ7DQo+Kwl0YXJnZXQgPSB0b3RhbCA+
PiAxOw0KPisNCj4rCS8qIE1ha2Ugc3VyZSB3ZSBjYW4gc3RpbGwgYWxsb2NhdGUgYWxsIHRoZSBm
cmFnbWVudGVkIHNwYWNlICovDQo+KwlvYmogPSBpZ3Rfb2JqZWN0X2NyZWF0ZShtZW0sICZvYmpl
Y3RzLCB0YXJnZXQsIDApOw0KPisJaWYgKElTX0VSUihvYmopKQ0KPisJCXJldHVybiBQVFJfRVJS
KG9iaik7DQo+Kw0KPisJaWd0X29iamVjdF9yZWxlYXNlKG9iaik7DQo+Kw0KPisJLyoNCj4rCSAq
IEV2ZW4gdGhvdWdoIHdlIGhhdmUgZW5vdWdoIGZyZWUgc3BhY2UsIHdlIGRvbid0IGhhdmUgYSBi
aWcNCj5lbm91Z2gNCj4rCSAqIGNvbnRpZ3VvdXMgYmxvY2suIE1ha2Ugc3VyZSB0aGF0IGhvbGRz
IHRydWUuDQo+KwkgKi8NCj4rDQo+KwlkbyB7DQo+KwkJYm9vbCBzaG91bGRfZmFpbCA9IHRhcmdl
dCA+IG1pbjsNCj4rDQo+KwkJb2JqID0gaWd0X29iamVjdF9jcmVhdGUobWVtLCAmb2JqZWN0cywg
dGFyZ2V0LA0KPisJCQkJCUk5MTVfQk9fQUxMT0NfQ09OVElHVU9VUyk7DQo+KwkJaWYgKHNob3Vs
ZF9mYWlsICE9IElTX0VSUihvYmopKSB7DQo+KwkJCXByX2VycigiJXMgdGFyZ2V0IGFsbG9jYXRp
b24oJWxseCkgbWlzbWF0Y2hcbiIsDQo+KwkJCSAgICAgICBfX2Z1bmNfXywgKHU2NCl0YXJnZXQp
Ow0KPisJCQllcnIgPSAtRUlOVkFMOw0KPisJCQlnb3RvIGVycl9jbG9zZV9vYmplY3RzOw0KPisJ
CX0NCj4rDQo+KwkJdGFyZ2V0ID4+PSAxOw0KPisJfSB3aGlsZSAodGFyZ2V0ID49IG1lbS0+bW0u
Y2h1bmtfc2l6ZSk7DQo+Kw0KPitlcnJfY2xvc2Vfb2JqZWN0czoNCj4rCWxpc3Rfc3BsaWNlX3Rh
aWwoJmhvbGVzLCAmb2JqZWN0cyk7DQo+KwljbG9zZV9vYmplY3RzKCZvYmplY3RzKTsNCj4rCXJl
dHVybiBlcnI7DQo+K30NCj4rDQo+IGludCBpbnRlbF9tZW1vcnlfcmVnaW9uX21vY2tfc2VsZnRl
c3RzKHZvaWQpDQo+IHsNCj4gCXN0YXRpYyBjb25zdCBzdHJ1Y3QgaTkxNV9zdWJ0ZXN0IHRlc3Rz
W10gPSB7DQo+IAkJU1VCVEVTVChpZ3RfbW9ja19maWxsKSwNCj4rCQlTVUJURVNUKGlndF9tb2Nr
X2NvbnRpbnVvdXMpLA0KPiAJfTsNCj4gCXN0cnVjdCBpbnRlbF9tZW1vcnlfcmVnaW9uICptZW07
DQo+IAlzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNTsNCj5kaWZmIC0tZ2l0IGEvZHJpdmVy
cy9ncHUvZHJtL2k5MTUvc2VsZnRlc3RzL21vY2tfcmVnaW9uLmMNCj5iL2RyaXZlcnMvZ3B1L2Ry
bS9pOTE1L3NlbGZ0ZXN0cy9tb2NrX3JlZ2lvbi5jDQo+aW5kZXggMGU5YTU3NWVkZTNiLi43YjBj
OTlkZGMyZDUgMTAwNjQ0DQo+LS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvc2VsZnRlc3RzL21v
Y2tfcmVnaW9uLmMNCj4rKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9zZWxmdGVzdHMvbW9ja19y
ZWdpb24uYw0KPkBAIC0zNiw3ICszNiw3IEBAIG1vY2tfb2JqZWN0X2NyZWF0ZShzdHJ1Y3QgaW50
ZWxfbWVtb3J5X3JlZ2lvbg0KPiptZW0sDQo+DQo+IAlpOTE1X2dlbV9vYmplY3Rfc2V0X2NhY2hl
X2NvaGVyZW5jeShvYmosIEk5MTVfQ0FDSEVfTk9ORSk7DQo+DQo+LQlpOTE1X2dlbV9vYmplY3Rf
aW5pdF9tZW1vcnlfcmVnaW9uKG9iaiwgbWVtKTsNCj4rCWk5MTVfZ2VtX29iamVjdF9pbml0X21l
bW9yeV9yZWdpb24ob2JqLCBtZW0sIGZsYWdzKTsNCj4NCj4gCXJldHVybiBvYmo7DQo+IH0NCj4t
LQ0KPjIuMjAuMQ0KPg0KPl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fDQo+SW50ZWwtZ2Z4IG1haWxpbmcgbGlzdA0KPkludGVsLWdmeEBsaXN0cy5mcmVlZGVz
a3RvcC5vcmcNCj5odHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZv
L2ludGVsLWdmeA0KX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X18KSW50ZWwtZ2Z4IG1haWxpbmcgbGlzdApJbnRlbC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3Jn
Cmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vaW50ZWwtZ2Z4

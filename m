Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 300F034A801
	for <lists+intel-gfx@lfdr.de>; Fri, 26 Mar 2021 14:22:05 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 880916F3D1;
	Fri, 26 Mar 2021 13:22:03 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga14.intel.com (mga14.intel.com [192.55.52.115])
 by gabe.freedesktop.org (Postfix) with ESMTPS id CBC786F3D1
 for <intel-gfx@lists.freedesktop.org>; Fri, 26 Mar 2021 13:22:02 +0000 (UTC)
IronPort-SDR: byFG/NBOtmgrLq0J+kFeSXY8zWFDAfZkEDkVO8QCp7T2RU5ld+4KDMrnjbiEfXoirK1W0ZBOlE
 ZnYD5cmKq5iw==
X-IronPort-AV: E=McAfee;i="6000,8403,9934"; a="190584873"
X-IronPort-AV: E=Sophos;i="5.81,280,1610438400"; d="scan'208";a="190584873"
Received: from orsmga008.jf.intel.com ([10.7.209.65])
 by fmsmga103.fm.intel.com with ESMTP/TLS/ECDHE-RSA-AES256-GCM-SHA384;
 26 Mar 2021 06:22:01 -0700
IronPort-SDR: 4wlUso6ZFxLlSDWt6qxLKhh6syRiaLqjZY9NGsmbjluwbbVbJUsnBm/rbVNLe7QfCD81e1s3wO
 2bcOeTNdoMUw==
X-IronPort-AV: E=Sophos;i="5.81,280,1610438400"; d="scan'208";a="416532615"
Received: from mpaulits-mobl1.ger.corp.intel.com (HELO localhost)
 ([10.252.55.191])
 by orsmga008-auth.jf.intel.com with ESMTP/TLS/ECDHE-RSA-AES256-GCM-SHA384;
 26 Mar 2021 06:21:59 -0700
From: Jani Nikula <jani.nikula@intel.com>
To: intel-gfx@lists.freedesktop.org
Date: Fri, 26 Mar 2021 15:21:34 +0200
Message-Id: <79b6c48211c6b214165391d350d556bad748f747.1616764798.git.jani.nikula@intel.com>
X-Mailer: git-send-email 2.20.1
In-Reply-To: <cover.1616764798.git.jani.nikula@intel.com>
References: <cover.1616764798.git.jani.nikula@intel.com>
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH v4 3/7] drm/i915: switch KBL to the new stepping
 scheme
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: jani.nikula@intel.com
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

QWRkIG5ldyBzeW1ib2xpYyBuYW1lcyBmb3IgcmV2aXNpb24gaWRzLCBhbmQgY29udmVydCBLQkwg
cmV2aWRzIHRvIHVzZQp0aGVtIHZpYSB0aGUgbmV3IHN0ZXBwaW5nIGNoZWNrIG1hY3Jvcy4KClRo
aXMgYWxzbyBmaXhlcyB0aGVvcmV0aWNhbCBvdXQgb2YgYm91bmRzIGFjY2VzcyB0byBrYmxfcmV2
aWRzIGFycmF5LgoKdjM6IHVwZ3JhZGUgZGJnIHRvIHdhcm4gb24gdW5rbm93biByZXZpZCAoSm9z
w6kpCgp2MjogUmVuYW1lIHN0ZXBwaW5nLT5zdGVwCgpSZXZpZXdlZC1ieTogSm9zw6kgUm9iZXJ0
byBkZSBTb3V6YSA8am9zZS5zb3V6YUBpbnRlbC5jb20+ClNpZ25lZC1vZmYtYnk6IEphbmkgTmlr
dWxhIDxqYW5pLm5pa3VsYUBpbnRlbC5jb20+CgotLS0KClRoZSBpbml0aWFsaXphdGlvbiBzb3Vu
ZHMgbGlrZSBhbiBlYXJseSBwYXJ0IG9mCmludGVsX2RldmljZV9pbmZvX3J1bnRpbWVfaW5pdCgp
LCBhbmQgaW5kZWVkIHRvdWNoZXMgcnVudGltZSBpbmZvLgotLS0KIGRyaXZlcnMvZ3B1L2RybS9p
OTE1L2d0L2dlbjhfZW5naW5lX2NzLmMgICAgfCAgMiArLQogZHJpdmVycy9ncHUvZHJtL2k5MTUv
Z3QvaW50ZWxfd29ya2Fyb3VuZHMuYyB8ICA2ICstCiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1
X2Rydi5jICAgICAgICAgICAgIHwgIDMgKy0KIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZHJ2
LmggICAgICAgICAgICAgfCAyNCArKy0tLS0tCiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9w
bS5jICAgICAgICAgICAgIHwgIDQgKy0KIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX3N0ZXAu
YyAgICAgICAgICAgfCA2OSArKysrKysrKysrKysrKysrKystLS0KIGRyaXZlcnMvZ3B1L2RybS9p
OTE1L2ludGVsX3N0ZXAuaCAgICAgICAgICAgfCAxMSArKystCiA3IGZpbGVzIGNoYW5nZWQsIDgy
IGluc2VydGlvbnMoKyksIDM3IGRlbGV0aW9ucygtKQoKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1
L2RybS9pOTE1L2d0L2dlbjhfZW5naW5lX2NzLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9n
ZW44X2VuZ2luZV9jcy5jCmluZGV4IDRiNjllZGUzNDg1ZC4uNzMyYzJlZDFkOTMzIDEwMDY0NAot
LS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9nZW44X2VuZ2luZV9jcy5jCisrKyBiL2RyaXZl
cnMvZ3B1L2RybS9pOTE1L2d0L2dlbjhfZW5naW5lX2NzLmMKQEAgLTQyLDcgKzQyLDcgQEAgaW50
IGdlbjhfZW1pdF9mbHVzaF9yY3Moc3RydWN0IGk5MTVfcmVxdWVzdCAqcnEsIHUzMiBtb2RlKQog
CQkJdmZfZmx1c2hfd2EgPSB0cnVlOwogCiAJCS8qIFdhRm9yR0FNSGFuZzprYmwgKi8KLQkJaWYg
KElTX0tCTF9HVF9SRVZJRChycS0+ZW5naW5lLT5pOTE1LCAwLCBLQkxfUkVWSURfQjApKQorCQlp
ZiAoSVNfS0JMX0dUX1NURVAocnEtPmVuZ2luZS0+aTkxNSwgMCwgU1RFUF9CMCkpCiAJCQlkY19m
bHVzaF93YSA9IHRydWU7CiAJfQogCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9n
dC9pbnRlbF93b3JrYXJvdW5kcy5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfd29y
a2Fyb3VuZHMuYwppbmRleCAwZWViYjllYjdkM2MuLjlhZjAxMjc3ZTUxZiAxMDA2NDQKLS0tIGEv
ZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfd29ya2Fyb3VuZHMuYworKysgYi9kcml2ZXJz
L2dwdS9kcm0vaTkxNS9ndC9pbnRlbF93b3JrYXJvdW5kcy5jCkBAIC00ODEsNyArNDgxLDcgQEAg
c3RhdGljIHZvaWQga2JsX2N0eF93b3JrYXJvdW5kc19pbml0KHN0cnVjdCBpbnRlbF9lbmdpbmVf
Y3MgKmVuZ2luZSwKIAlnZW45X2N0eF93b3JrYXJvdW5kc19pbml0KGVuZ2luZSwgd2FsKTsKIAog
CS8qIFdhVG9FbmFibGVId0ZpeEZvclB1c2hDb25zdEhXQnVnOmtibCAqLwotCWlmIChJU19LQkxf
R1RfUkVWSUQoaTkxNSwgS0JMX1JFVklEX0MwLCBSRVZJRF9GT1JFVkVSKSkKKwlpZiAoSVNfS0JM
X0dUX1NURVAoaTkxNSwgU1RFUF9DMCwgU1RFUF9GT1JFVkVSKSkKIAkJd2FfbWFza2VkX2VuKHdh
bCwgQ09NTU9OX1NMSUNFX0NISUNLRU4yLAogCQkJICAgICBHRU44X1NCRV9ESVNBQkxFX1JFUExB
WV9CVUZfT1BUSU1JWkFUSU9OKTsKIApAQCAtODk5LDcgKzg5OSw3IEBAIGtibF9ndF93b3JrYXJv
dW5kc19pbml0KHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICppOTE1LCBzdHJ1Y3QgaTkxNV93YV9s
aXN0ICp3YWwpCiAJZ2VuOV9ndF93b3JrYXJvdW5kc19pbml0KGk5MTUsIHdhbCk7CiAKIAkvKiBX
YURpc2FibGVEeW5hbWljQ3JlZGl0U2hhcmluZzprYmwgKi8KLQlpZiAoSVNfS0JMX0dUX1JFVklE
KGk5MTUsIDAsIEtCTF9SRVZJRF9CMCkpCisJaWYgKElTX0tCTF9HVF9TVEVQKGk5MTUsIDAsIFNU
RVBfQjApKQogCQl3YV93cml0ZV9vcih3YWwsCiAJCQkgICAgR0FNVF9DSEtOX0JJVF9SRUcsCiAJ
CQkgICAgR0FNVF9DSEtOX0RJU0FCTEVfRFlOQU1JQ19DUkVESVRfU0hBUklORyk7CkBAIC0yMDIw
LDcgKzIwMjAsNyBAQCB4Y3NfZW5naW5lX3dhX2luaXQoc3RydWN0IGludGVsX2VuZ2luZV9jcyAq
ZW5naW5lLCBzdHJ1Y3QgaTkxNV93YV9saXN0ICp3YWwpCiAJc3RydWN0IGRybV9pOTE1X3ByaXZh
dGUgKmk5MTUgPSBlbmdpbmUtPmk5MTU7CiAKIAkvKiBXYUtCTFZFQ1NTZW1hcGhvcmVXYWl0UG9s
bDprYmwgKi8KLQlpZiAoSVNfS0JMX0dUX1JFVklEKGk5MTUsIEtCTF9SRVZJRF9BMCwgS0JMX1JF
VklEX0UwKSkgeworCWlmIChJU19LQkxfR1RfU1RFUChpOTE1LCBTVEVQX0EwLCBTVEVQX0UwKSkg
ewogCQl3YV93cml0ZSh3YWwsCiAJCQkgUklOR19TRU1BX1dBSVRfUE9MTChlbmdpbmUtPm1taW9f
YmFzZSksCiAJCQkgMSk7CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2Ry
di5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kcnYuYwppbmRleCBiMjAxOGU4NWFmYzIu
LmMyMzI5YmM0NGY1NSAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kcnYu
YworKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2Rydi5jCkBAIC0yNzIsNyArMjcyLDcg
QEAgc3RhdGljIHZvaWQgaW50ZWxfZGV0ZWN0X3ByZXByb2R1Y3Rpb25faHcoc3RydWN0IGRybV9p
OTE1X3ByaXZhdGUgKmRldl9wcml2KQogCXByZSB8PSBJU19IU1dfRUFSTFlfU0RWKGRldl9wcml2
KTsKIAlwcmUgfD0gSVNfU0tMX1JFVklEKGRldl9wcml2LCAwLCBTS0xfUkVWSURfRjApOwogCXBy
ZSB8PSBJU19CWFRfUkVWSUQoZGV2X3ByaXYsIDAsIEJYVF9SRVZJRF9CX0xBU1QpOwotCXByZSB8
PSBJU19LQkxfR1RfUkVWSUQoZGV2X3ByaXYsIDAsIEtCTF9SRVZJRF9BMCk7CisJcHJlIHw9IElT
X0tCTF9HVF9TVEVQKGRldl9wcml2LCAwLCBTVEVQX0EwKTsKIAlwcmUgfD0gSVNfR0xLX1JFVklE
KGRldl9wcml2LCAwLCBHTEtfUkVWSURfQTIpOwogCiAJaWYgKHByZSkgewpAQCAtMzA2LDYgKzMw
Niw3IEBAIHN0YXRpYyBpbnQgaTkxNV9kcml2ZXJfZWFybHlfcHJvYmUoc3RydWN0IGRybV9pOTE1
X3ByaXZhdGUgKmRldl9wcml2KQogCQlyZXR1cm4gLUVOT0RFVjsKIAogCWludGVsX2RldmljZV9p
bmZvX3N1YnBsYXRmb3JtX2luaXQoZGV2X3ByaXYpOworCWludGVsX3N0ZXBfaW5pdChkZXZfcHJp
dik7CiAKIAlpbnRlbF91bmNvcmVfbW1pb19kZWJ1Z19pbml0X2Vhcmx5KCZkZXZfcHJpdi0+bW1p
b19kZWJ1Zyk7CiAJaW50ZWxfdW5jb3JlX2luaXRfZWFybHkoJmRldl9wcml2LT51bmNvcmUsIGRl
dl9wcml2KTsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZHJ2LmggYi9k
cml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2Rydi5oCmluZGV4IDM4MDA4OGZkNmRjZi4uZmYzOTJm
N2M4NTA3IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2Rydi5oCisrKyBi
L2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZHJ2LmgKQEAgLTE0NjYsMjYgKzE0NjYsMTAgQEAg
SVNfU1VCUExBVEZPUk0oY29uc3Qgc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUsCiAjZGVm
aW5lIElTX0JYVF9SRVZJRChkZXZfcHJpdiwgc2luY2UsIHVudGlsKSBcCiAJKElTX0JST1hUT04o
ZGV2X3ByaXYpICYmIElTX1JFVklEKGRldl9wcml2LCBzaW5jZSwgdW50aWwpKQogCi1lbnVtIHsK
LQlLQkxfUkVWSURfQTAsCi0JS0JMX1JFVklEX0IwLAotCUtCTF9SRVZJRF9CMSwKLQlLQkxfUkVW
SURfQzAsCi0JS0JMX1JFVklEX0QwLAotCUtCTF9SRVZJRF9EMSwKLQlLQkxfUkVWSURfRTAsCi0J
S0JMX1JFVklEX0YwLAotCUtCTF9SRVZJRF9HMCwKLX07Ci0KLSNkZWZpbmUgSVNfS0JMX0dUX1JF
VklEKGRldl9wcml2LCBzaW5jZSwgdW50aWwpIFwKLQkoSVNfS0FCWUxBS0UoZGV2X3ByaXYpICYm
IFwKLQkga2JsX3Jldmlkc1tJTlRFTF9SRVZJRChkZXZfcHJpdildLmd0X3N0ZXBwaW5nID49IHNp
bmNlICYmIFwKLQkga2JsX3Jldmlkc1tJTlRFTF9SRVZJRChkZXZfcHJpdildLmd0X3N0ZXBwaW5n
IDw9IHVudGlsKQotI2RlZmluZSBJU19LQkxfRElTUF9SRVZJRChkZXZfcHJpdiwgc2luY2UsIHVu
dGlsKSBcCi0JKElTX0tBQllMQUtFKGRldl9wcml2KSAmJiBcCi0JIGtibF9yZXZpZHNbSU5URUxf
UkVWSUQoZGV2X3ByaXYpXS5kaXNwX3N0ZXBwaW5nID49IHNpbmNlICYmIFwKLQkga2JsX3Jldmlk
c1tJTlRFTF9SRVZJRChkZXZfcHJpdildLmRpc3Bfc3RlcHBpbmcgPD0gdW50aWwpCisjZGVmaW5l
IElTX0tCTF9HVF9TVEVQKGRldl9wcml2LCBzaW5jZSwgdW50aWwpIFwKKwkoSVNfS0FCWUxBS0Uo
ZGV2X3ByaXYpICYmIElTX0dUX1NURVAoZGV2X3ByaXYsIHNpbmNlLCB1bnRpbCkpCisjZGVmaW5l
IElTX0tCTF9ESVNQTEFZX1NURVAoZGV2X3ByaXYsIHNpbmNlLCB1bnRpbCkgXAorCShJU19LQUJZ
TEFLRShkZXZfcHJpdikgJiYgSVNfRElTUExBWV9TVEVQKGRldl9wcml2LCBzaW5jZSwgdW50aWwp
KQogCiAjZGVmaW5lIEdMS19SRVZJRF9BMAkJMHgwCiAjZGVmaW5lIEdMS19SRVZJRF9BMQkJMHgx
CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9wbS5jIGIvZHJpdmVycy9n
cHUvZHJtL2k5MTUvaW50ZWxfcG0uYwppbmRleCBiMmFlZGUyYmU4OWQuLmUyZGQzMTQwZWIwYiAx
MDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfcG0uYworKysgYi9kcml2ZXJz
L2dwdS9kcm0vaTkxNS9pbnRlbF9wbS5jCkBAIC03MjMzLDEyICs3MjMzLDEyIEBAIHN0YXRpYyB2
b2lkIGtibF9pbml0X2Nsb2NrX2dhdGluZyhzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3By
aXYpCiAJCSAgIEZCQ19MTENfRlVMTFlfT1BFTik7CiAKIAkvKiBXYURpc2FibGVTREVVbml0Q2xv
Y2tHYXRpbmc6a2JsICovCi0JaWYgKElTX0tCTF9HVF9SRVZJRChkZXZfcHJpdiwgMCwgS0JMX1JF
VklEX0IwKSkKKwlpZiAoSVNfS0JMX0dUX1NURVAoZGV2X3ByaXYsIDAsIFNURVBfQjApKQogCQlp
bnRlbF91bmNvcmVfd3JpdGUoJmRldl9wcml2LT51bmNvcmUsIEdFTjhfVUNHQ1RMNiwgaW50ZWxf
dW5jb3JlX3JlYWQoJmRldl9wcml2LT51bmNvcmUsIEdFTjhfVUNHQ1RMNikgfAogCQkJICAgR0VO
OF9TREVVTklUX0NMT0NLX0dBVEVfRElTQUJMRSk7CiAKIAkvKiBXYURpc2FibGVHYW1DbG9ja0dh
dGluZzprYmwgKi8KLQlpZiAoSVNfS0JMX0dUX1JFVklEKGRldl9wcml2LCAwLCBLQkxfUkVWSURf
QjApKQorCWlmIChJU19LQkxfR1RfU1RFUChkZXZfcHJpdiwgMCwgU1RFUF9CMCkpCiAJCWludGVs
X3VuY29yZV93cml0ZSgmZGV2X3ByaXYtPnVuY29yZSwgR0VONl9VQ0dDVEwxLCBpbnRlbF91bmNv
cmVfcmVhZCgmZGV2X3ByaXYtPnVuY29yZSwgR0VONl9VQ0dDVEwxKSB8CiAJCQkgICBHRU42X0dB
TVVOSVRfQ0xPQ0tfR0FURV9ESVNBQkxFKTsKIApkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJt
L2k5MTUvaW50ZWxfc3RlcC5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfc3RlcC5jCmlu
ZGV4IGUxOTgyMGNiZThlMy4uZTlmZjQ4MWIyZWRhIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9k
cm0vaTkxNS9pbnRlbF9zdGVwLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfc3Rl
cC5jCkBAIC0xMywxNSArMTMsMTcgQEAKICAqIGNhbiB0ZXN0IGFnYWluc3QgaW4gYSByZWd1bGFy
IG1hbm5lci4KICAqLwogCi1jb25zdCBzdHJ1Y3QgaTkxNV9yZXZfc3RlcHBpbmdzIGtibF9yZXZp
ZHNbXSA9IHsKLQlbMF0gPSB7IC5ndF9zdGVwcGluZyA9IEtCTF9SRVZJRF9BMCwgLmRpc3Bfc3Rl
cHBpbmcgPSBLQkxfUkVWSURfQTAgfSwKLQlbMV0gPSB7IC5ndF9zdGVwcGluZyA9IEtCTF9SRVZJ
RF9CMCwgLmRpc3Bfc3RlcHBpbmcgPSBLQkxfUkVWSURfQjAgfSwKLQlbMl0gPSB7IC5ndF9zdGVw
cGluZyA9IEtCTF9SRVZJRF9DMCwgLmRpc3Bfc3RlcHBpbmcgPSBLQkxfUkVWSURfQjAgfSwKLQlb
M10gPSB7IC5ndF9zdGVwcGluZyA9IEtCTF9SRVZJRF9EMCwgLmRpc3Bfc3RlcHBpbmcgPSBLQkxf
UkVWSURfQjAgfSwKLQlbNF0gPSB7IC5ndF9zdGVwcGluZyA9IEtCTF9SRVZJRF9GMCwgLmRpc3Bf
c3RlcHBpbmcgPSBLQkxfUkVWSURfQzAgfSwKLQlbNV0gPSB7IC5ndF9zdGVwcGluZyA9IEtCTF9S
RVZJRF9DMCwgLmRpc3Bfc3RlcHBpbmcgPSBLQkxfUkVWSURfQjEgfSwKLQlbNl0gPSB7IC5ndF9z
dGVwcGluZyA9IEtCTF9SRVZJRF9EMSwgLmRpc3Bfc3RlcHBpbmcgPSBLQkxfUkVWSURfQjEgfSwK
LQlbN10gPSB7IC5ndF9zdGVwcGluZyA9IEtCTF9SRVZJRF9HMCwgLmRpc3Bfc3RlcHBpbmcgPSBL
QkxfUkVWSURfQzAgfSwKKworLyogRklYTUU6IHdoYXQgYWJvdXQgUkVWSURfRTAgKi8KK3N0YXRp
YyBjb25zdCBzdHJ1Y3QgaTkxNV9yZXZfc3RlcHBpbmdzIGtibF9yZXZpZHNbXSA9IHsKKwlbMF0g
PSB7IC5ndF9zdGVwcGluZyA9IFNURVBfQTAsIC5kaXNwX3N0ZXBwaW5nID0gU1RFUF9BMCB9LAor
CVsxXSA9IHsgLmd0X3N0ZXBwaW5nID0gU1RFUF9CMCwgLmRpc3Bfc3RlcHBpbmcgPSBTVEVQX0Iw
IH0sCisJWzJdID0geyAuZ3Rfc3RlcHBpbmcgPSBTVEVQX0MwLCAuZGlzcF9zdGVwcGluZyA9IFNU
RVBfQjAgfSwKKwlbM10gPSB7IC5ndF9zdGVwcGluZyA9IFNURVBfRDAsIC5kaXNwX3N0ZXBwaW5n
ID0gU1RFUF9CMCB9LAorCVs0XSA9IHsgLmd0X3N0ZXBwaW5nID0gU1RFUF9GMCwgLmRpc3Bfc3Rl
cHBpbmcgPSBTVEVQX0MwIH0sCisJWzVdID0geyAuZ3Rfc3RlcHBpbmcgPSBTVEVQX0MwLCAuZGlz
cF9zdGVwcGluZyA9IFNURVBfQjEgfSwKKwlbNl0gPSB7IC5ndF9zdGVwcGluZyA9IFNURVBfRDEs
IC5kaXNwX3N0ZXBwaW5nID0gU1RFUF9CMSB9LAorCVs3XSA9IHsgLmd0X3N0ZXBwaW5nID0gU1RF
UF9HMCwgLmRpc3Bfc3RlcHBpbmcgPSBTVEVQX0MwIH0sCiB9OwogCiBjb25zdCBzdHJ1Y3QgaTkx
NV9yZXZfc3RlcHBpbmdzIHRnbF91eV9yZXZpZF9zdGVwX3RibFtdID0gewpAQCAtNDQsMyArNDYs
NTIgQEAgY29uc3Qgc3RydWN0IGk5MTVfcmV2X3N0ZXBwaW5ncyBhZGxzX3JldmlkX3N0ZXBfdGJs
W10gPSB7CiAJWzB4OF0gPSB7IC5ndF9zdGVwcGluZyA9IFNURVBfQzAsIC5kaXNwX3N0ZXBwaW5n
ID0gU1RFUF9CMCB9LAogCVsweENdID0geyAuZ3Rfc3RlcHBpbmcgPSBTVEVQX0QwLCAuZGlzcF9z
dGVwcGluZyA9IFNURVBfQzAgfSwKIH07CisKK3ZvaWQgaW50ZWxfc3RlcF9pbml0KHN0cnVjdCBk
cm1faTkxNV9wcml2YXRlICppOTE1KQoreworCWNvbnN0IHN0cnVjdCBpOTE1X3Jldl9zdGVwcGlu
Z3MgKnJldmlkcyA9IE5VTEw7CisJaW50IHNpemUgPSAwOworCWludCByZXZpZCA9IElOVEVMX1JF
VklEKGk5MTUpOworCXN0cnVjdCBpOTE1X3Jldl9zdGVwcGluZ3Mgc3RlcCA9IHt9OworCisJaWYg
KElTX0tBQllMQUtFKGk5MTUpKSB7CisJCXJldmlkcyA9IGtibF9yZXZpZHM7CisJCXNpemUgPSBB
UlJBWV9TSVpFKGtibF9yZXZpZHMpOworCX0KKworCS8qIE5vdCB1c2luZyB0aGUgc3RlcHBpbmcg
c2NoZW1lIGZvciB0aGUgcGxhdGZvcm0geWV0LiAqLworCWlmICghcmV2aWRzKQorCQlyZXR1cm47
CisKKwlpZiAocmV2aWQgPCBzaXplICYmIHJldmlkc1tyZXZpZF0uZ3Rfc3RlcHBpbmcgIT0gU1RF
UF9OT05FKSB7CisJCXN0ZXAgPSByZXZpZHNbcmV2aWRdOworCX0gZWxzZSB7CisJCWRybV93YXJu
KCZpOTE1LT5kcm0sICJVbmtub3duIHJldmlkIDB4JTAyeFxuIiwgcmV2aWQpOworCisJCS8qCisJ
CSAqIElmIHdlIGhpdCBhIGdhcCBpbiB0aGUgcmV2aWQgYXJyYXksIHVzZSB0aGUgaW5mb3JtYXRp
b24gZm9yCisJCSAqIHRoZSBuZXh0IHJldmlkLgorCQkgKgorCQkgKiBUaGlzIG1heSBiZSB3cm9u
ZyBpbiBhbGwgc29ydHMgb2Ygd2F5cywgZXNwZWNpYWxseSBpZiB0aGUKKwkJICogc3RlcHBpbmdz
IGluIHRoZSBhcnJheSBhcmUgbm90IG1vbm90b25pY2FsbHkgaW5jcmVhc2luZywgYnV0CisJCSAq
IGl0J3MgYmV0dGVyIHRoYW4gZGVmYXVsdGluZyB0byAwLgorCQkgKi8KKwkJd2hpbGUgKHJldmlk
IDwgc2l6ZSAmJiByZXZpZHNbcmV2aWRdLmd0X3N0ZXBwaW5nID09IFNURVBfTk9ORSkKKwkJCXJl
dmlkKys7CisKKwkJaWYgKHJldmlkIDwgc2l6ZSkgeworCQkJZHJtX2RiZygmaTkxNS0+ZHJtLCAi
VXNpbmcgc3RlcHBpbmdzIGZvciByZXZpZCAweCUwMnhcbiIsCisJCQkJcmV2aWQpOworCQkJc3Rl
cCA9IHJldmlkc1tyZXZpZF07CisJCX0gZWxzZSB7CisJCQlkcm1fZGJnKCZpOTE1LT5kcm0sICJV
c2luZyBmdXR1cmUgc3RlcHBpbmdzXG4iKTsKKwkJCXN0ZXAuZ3Rfc3RlcHBpbmcgPSBTVEVQX0ZV
VFVSRTsKKwkJCXN0ZXAuZGlzcF9zdGVwcGluZyA9IFNURVBfRlVUVVJFOworCQl9CisJfQorCisJ
aWYgKGRybV9XQVJOX09OKCZpOTE1LT5kcm0sIHN0ZXAuZ3Rfc3RlcHBpbmcgPT0gU1RFUF9OT05F
KSkKKwkJcmV0dXJuOworCisJUlVOVElNRV9JTkZPKGk5MTUpLT5zdGVwID0gc3RlcDsKK30KZGlm
ZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX3N0ZXAuaCBiL2RyaXZlcnMvZ3B1
L2RybS9pOTE1L2ludGVsX3N0ZXAuaAppbmRleCA4YjNlZjE5ZDkzNWIuLmIyOWUxNWY3MTIxNCAx
MDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfc3RlcC5oCisrKyBiL2RyaXZl
cnMvZ3B1L2RybS9pOTE1L2ludGVsX3N0ZXAuaApAQCAtOCw2ICs4LDggQEAKIAogI2luY2x1ZGUg
PGxpbnV4L3R5cGVzLmg+CiAKK3N0cnVjdCBkcm1faTkxNV9wcml2YXRlOworCiBzdHJ1Y3QgaTkx
NV9yZXZfc3RlcHBpbmdzIHsKIAl1OCBndF9zdGVwcGluZzsKIAl1OCBkaXNwX3N0ZXBwaW5nOwpA
QCAtMTcsNyArMTksNiBAQCBzdHJ1Y3QgaTkxNV9yZXZfc3RlcHBpbmdzIHsKICNkZWZpbmUgVEdM
X1JFVklEX1NURVBfVEJMX1NJWkUJCTIKICNkZWZpbmUgQURMU19SRVZJRF9TVEVQX1RCTF9TSVpF
CTEzCiAKLWV4dGVybiBjb25zdCBzdHJ1Y3QgaTkxNV9yZXZfc3RlcHBpbmdzIGtibF9yZXZpZHNb
XTsKIGV4dGVybiBjb25zdCBzdHJ1Y3QgaTkxNV9yZXZfc3RlcHBpbmdzIHRnbF91eV9yZXZpZF9z
dGVwX3RibFtUR0xfVVlfUkVWSURfU1RFUF9UQkxfU0laRV07CiBleHRlcm4gY29uc3Qgc3RydWN0
IGk5MTVfcmV2X3N0ZXBwaW5ncyB0Z2xfcmV2aWRfc3RlcF90YmxbVEdMX1JFVklEX1NURVBfVEJM
X1NJWkVdOwogZXh0ZXJuIGNvbnN0IHN0cnVjdCBpOTE1X3Jldl9zdGVwcGluZ3MgYWRsc19yZXZp
ZF9zdGVwX3RibFtBRExTX1JFVklEX1NURVBfVEJMX1NJWkVdOwpAQCAtMzQsNiArMzUsMTQgQEAg
ZW51bSBpbnRlbF9zdGVwIHsKIAlTVEVQX0IxLAogCVNURVBfQzAsCiAJU1RFUF9EMCwKKwlTVEVQ
X0QxLAorCVNURVBfRTAsCisJU1RFUF9GMCwKKwlTVEVQX0cwLAorCVNURVBfRlVUVVJFLAorCVNU
RVBfRk9SRVZFUiwKIH07CiAKK3ZvaWQgaW50ZWxfc3RlcF9pbml0KHN0cnVjdCBkcm1faTkxNV9w
cml2YXRlICppOTE1KTsKKwogI2VuZGlmIC8qIF9fSU5URUxfU1RFUF9IX18gKi8KLS0gCjIuMjAu
MQoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KSW50ZWwt
Z2Z4IG1haWxpbmcgbGlzdApJbnRlbC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8v
bGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vaW50ZWwtZ2Z4Cg==

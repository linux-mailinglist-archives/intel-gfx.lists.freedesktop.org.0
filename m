Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id F036E1B224C
	for <lists+intel-gfx@lfdr.de>; Tue, 21 Apr 2020 11:05:46 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id A066B6E2B2;
	Tue, 21 Apr 2020 09:05:44 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from fireflyinternet.com (mail.fireflyinternet.com [109.228.58.192])
 by gabe.freedesktop.org (Postfix) with ESMTPS id AD0406E233
 for <intel-gfx@lists.freedesktop.org>; Tue, 21 Apr 2020 09:05:40 +0000 (UTC)
X-Default-Received-SPF: pass (skip=forwardok (res=PASS))
 x-ip-name=78.156.65.138; 
Received: from build.alporthouse.com (unverified [78.156.65.138]) 
 by fireflyinternet.com (Firefly Internet (M1)) with ESMTP id 20968110-1500050 
 for <intel-gfx@lists.freedesktop.org>; Tue, 21 Apr 2020 10:05:37 +0100
From: Chris Wilson <chris@chris-wilson.co.uk>
To: intel-gfx@lists.freedesktop.org
Date: Tue, 21 Apr 2020 10:05:36 +0100
Message-Id: <20200421090536.31717-2-chris@chris-wilson.co.uk>
X-Mailer: git-send-email 2.20.1
In-Reply-To: <20200421090536.31717-1-chris@chris-wilson.co.uk>
References: <20200421090536.31717-1-chris@chris-wilson.co.uk>
MIME-Version: 1.0
Subject: [Intel-gfx] [CI 2/2] drm/i915/gt: Use the RPM config register to
 determine clk frequencies
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

Rm9yIG1hbnkgY29uZmlndXJhdGlvbiBkZXRhaWxzIHdpdGhpbiBSQzYgYW5kIFJQUyB3ZSBhcmUg
cHJvZ3JhbW1pbmcKaW50ZXJ2YWxzIGZvciB0aGUgaW50ZXJuYWwgY2xvY2tzLiBGcm9tIGdlbjEx
LCB0aGVzZSBjbG9ja3MgYXJlCmNvbmZpZ3VyYXRpb24gdmlhIHRoZSBSUE1fQ09ORklHIGFuZCBz
byBmb3IgY29udmVuaWVuY2UsIHdlIHdvdWxkIGxpa2UKdG8gY29udmVydCB0by9mcm9tIG1vcmUg
bmF0dXJhbCB1bml0cyAobnMpLgoKU2lnbmVkLW9mZi1ieTogQ2hyaXMgV2lsc29uIDxjaHJpc0Bj
aHJpcy13aWxzb24uY28udWs+CkNjOiBBbmRpIFNoeXRpIDxhbmRpLnNoeXRpQGludGVsLmNvbT4K
Q2M6IE1pa2EgS3VvcHBhbGEgPG1pa2Eua3VvcHBhbGFAbGludXguaW50ZWwuY29tPgpSZXZpZXdl
ZC1ieTogQW5kaSBTaHl0aSA8YW5kaS5zaHl0aUBpbnRlbC5jb20+Ci0tLQogZHJpdmVycy9ncHUv
ZHJtL2k5MTUvTWFrZWZpbGUgICAgICAgICAgICAgICAgIHwgICAxICsKIGRyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2d0L2RlYnVnZnNfZ3RfcG0uYyAgICAgICB8ICAyNyArKy0tLQogZHJpdmVycy9ncHUv
ZHJtL2k5MTUvZ3QvaW50ZWxfZ3QuYyAgICAgICAgICAgIHwgICAzICsKIC4uLi9ncHUvZHJtL2k5
MTUvZ3QvaW50ZWxfZ3RfY2xvY2tfdXRpbHMuYyAgICB8IDEwMiArKysrKysrKysrKysrKysrKysK
IC4uLi9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZ3RfY2xvY2tfdXRpbHMuaCAgICB8ICAyNyArKysr
KwogZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZ3RfcG0uYyAgICAgICAgIHwgICAzICsK
IGRyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2d0X3R5cGVzLmggICAgICB8ICAgOSArLQog
ZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfcnBzLmMgICAgICAgICAgIHwgIDM2ICsrKyst
LS0KIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L3NlbGZ0ZXN0X3Jwcy5jICAgICAgICB8ICAgNyAr
LQogZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kZWJ1Z2ZzLmMgICAgICAgICAgIHwgIDM0ICsr
Ky0tLQogZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9yZWcuaCAgICAgICAgICAgICAgIHwgIDI1
IC0tLS0tCiAxMSBmaWxlcyBjaGFuZ2VkLCAyMDUgaW5zZXJ0aW9ucygrKSwgNjkgZGVsZXRpb25z
KC0pCiBjcmVhdGUgbW9kZSAxMDA2NDQgZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZ3Rf
Y2xvY2tfdXRpbHMuYwogY3JlYXRlIG1vZGUgMTAwNjQ0IGRyaXZlcnMvZ3B1L2RybS9pOTE1L2d0
L2ludGVsX2d0X2Nsb2NrX3V0aWxzLmgKCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkx
NS9NYWtlZmlsZSBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L01ha2VmaWxlCmluZGV4IDZmMTEyZDhm
ODBjYS4uY2UyNGE0ZWU5NTkxIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9NYWtl
ZmlsZQorKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9NYWtlZmlsZQpAQCAtOTEsNiArOTEsNyBA
QCBndC15ICs9IFwKIAlndC9pbnRlbF9nZ3R0Lm8gXAogCWd0L2ludGVsX2dndHRfZmVuY2luZy5v
IFwKIAlndC9pbnRlbF9ndC5vIFwKKwlndC9pbnRlbF9ndF9jbG9ja191dGlscy5vIFwKIAlndC9p
bnRlbF9ndF9pcnEubyBcCiAJZ3QvaW50ZWxfZ3RfcG0ubyBcCiAJZ3QvaW50ZWxfZ3RfcG1faXJx
Lm8gXApkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvZGVidWdmc19ndF9wbS5j
IGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvZGVidWdmc19ndF9wbS5jCmluZGV4IGFhYjMwZDkw
ODA3Mi4uZDRlM2I0YzBjNDhmIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9k
ZWJ1Z2ZzX2d0X3BtLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvZGVidWdmc19ndF9w
bS5jCkBAIC0xMCw2ICsxMCw3IEBACiAjaW5jbHVkZSAiZGVidWdmc19ndF9wbS5oIgogI2luY2x1
ZGUgImk5MTVfZHJ2LmgiCiAjaW5jbHVkZSAiaW50ZWxfZ3QuaCIKKyNpbmNsdWRlICJpbnRlbF9n
dF9jbG9ja191dGlscy5oIgogI2luY2x1ZGUgImludGVsX2xsYy5oIgogI2luY2x1ZGUgImludGVs
X3JjNi5oIgogI2luY2x1ZGUgImludGVsX3Jwcy5oIgpAQCAtMzk0LDIxICszOTUsMjMgQEAgc3Rh
dGljIGludCBmcmVxdWVuY3lfc2hvdyhzdHJ1Y3Qgc2VxX2ZpbGUgKm0sIHZvaWQgKnVudXNlZCkK
IAkJc2VxX3ByaW50ZihtLCAiUlBERUNMSU1JVDogMHglMDh4XG4iLCBycGRlY2xpbWl0KTsKIAkJ
c2VxX3ByaW50ZihtLCAiUlBOU1dSRVE6ICVkTUh6XG4iLCByZXFmKTsKIAkJc2VxX3ByaW50Ziht
LCAiQ0FHRjogJWRNSHpcbiIsIGNhZ2YpOwotCQlzZXFfcHJpbnRmKG0sICJSUCBDVVIgVVAgRUk6
ICVkICglZHVzKVxuIiwKLQkJCSAgIHJwdXBlaSwgR1RfUE1fSU5URVJWQUxfVE9fVVMoaTkxNSwg
cnB1cGVpKSk7Ci0JCXNlcV9wcmludGYobSwgIlJQIENVUiBVUDogJWQgKCVkdXMpXG4iLAotCQkJ
ICAgcnBjdXJ1cCwgR1RfUE1fSU5URVJWQUxfVE9fVVMoaTkxNSwgcnBjdXJ1cCkpOwotCQlzZXFf
cHJpbnRmKG0sICJSUCBQUkVWIFVQOiAlZCAoJWR1cylcbiIsCi0JCQkgICBycHByZXZ1cCwgR1Rf
UE1fSU5URVJWQUxfVE9fVVMoaTkxNSwgcnBwcmV2dXApKTsKKwkJc2VxX3ByaW50ZihtLCAiUlAg
Q1VSIFVQIEVJOiAlZCAoJWRucylcbiIsCisJCQkgICBycHVwZWksIGludGVsX2d0X3BtX2ludGVy
dmFsX3RvX25zKGd0LCBycHVwZWkpKTsKKwkJc2VxX3ByaW50ZihtLCAiUlAgQ1VSIFVQOiAlZCAo
JWRucylcbiIsCisJCQkgICBycGN1cnVwLCBpbnRlbF9ndF9wbV9pbnRlcnZhbF90b19ucyhndCwg
cnBjdXJ1cCkpOworCQlzZXFfcHJpbnRmKG0sICJSUCBQUkVWIFVQOiAlZCAoJWRucylcbiIsCisJ
CQkgICBycHByZXZ1cCwgaW50ZWxfZ3RfcG1faW50ZXJ2YWxfdG9fbnMoZ3QsIHJwcHJldnVwKSk7
CiAJCXNlcV9wcmludGYobSwgIlVwIHRocmVzaG9sZDogJWQlJVxuIiwKIAkJCSAgIHJwcy0+cG93
ZXIudXBfdGhyZXNob2xkKTsKIAotCQlzZXFfcHJpbnRmKG0sICJSUCBDVVIgRE9XTiBFSTogJWQg
KCVkdXMpXG4iLAotCQkJICAgcnBkb3duZWksIEdUX1BNX0lOVEVSVkFMX1RPX1VTKGk5MTUsIHJw
ZG93bmVpKSk7Ci0JCXNlcV9wcmludGYobSwgIlJQIENVUiBET1dOOiAlZCAoJWR1cylcbiIsCi0J
CQkgICBycGN1cmRvd24sIEdUX1BNX0lOVEVSVkFMX1RPX1VTKGk5MTUsIHJwY3VyZG93bikpOwot
CQlzZXFfcHJpbnRmKG0sICJSUCBQUkVWIERPV046ICVkICglZHVzKVxuIiwKLQkJCSAgIHJwcHJl
dmRvd24sIEdUX1BNX0lOVEVSVkFMX1RPX1VTKGk5MTUsIHJwcHJldmRvd24pKTsKKwkJc2VxX3By
aW50ZihtLCAiUlAgQ1VSIERPV04gRUk6ICVkICglZG5zKVxuIiwKKwkJCSAgIHJwZG93bmVpLCBp
bnRlbF9ndF9wbV9pbnRlcnZhbF90b19ucyhndCwgcnBkb3duZWkpKTsKKwkJc2VxX3ByaW50Ziht
LCAiUlAgQ1VSIERPV046ICVkICglZG5zKVxuIiwKKwkJCSAgIHJwY3VyZG93biwKKwkJCSAgIGlu
dGVsX2d0X3BtX2ludGVydmFsX3RvX25zKGd0LCBycGN1cmRvd24pKTsKKwkJc2VxX3ByaW50Ziht
LCAiUlAgUFJFViBET1dOOiAlZCAoJWRucylcbiIsCisJCQkgICBycHByZXZkb3duLAorCQkJICAg
aW50ZWxfZ3RfcG1faW50ZXJ2YWxfdG9fbnMoZ3QsIHJwcHJldmRvd24pKTsKIAkJc2VxX3ByaW50
ZihtLCAiRG93biB0aHJlc2hvbGQ6ICVkJSVcbiIsCiAJCQkgICBycHMtPnBvd2VyLmRvd25fdGhy
ZXNob2xkKTsKIApkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZ3Qu
YyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2d0LmMKaW5kZXggMWM5OWNjNzIzMDVh
Li5kOWNmODE5NGM5OTcgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVs
X2d0LmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZ3QuYwpAQCAtNyw2ICs3
LDcgQEAKICNpbmNsdWRlICJpOTE1X2Rydi5oIgogI2luY2x1ZGUgImludGVsX2NvbnRleHQuaCIK
ICNpbmNsdWRlICJpbnRlbF9ndC5oIgorI2luY2x1ZGUgImludGVsX2d0X2Nsb2NrX3V0aWxzLmgi
CiAjaW5jbHVkZSAiaW50ZWxfZ3RfcG0uaCIKICNpbmNsdWRlICJpbnRlbF9ndF9yZXF1ZXN0cy5o
IgogI2luY2x1ZGUgImludGVsX21vY3MuaCIKQEAgLTU3Niw2ICs1NzcsOCBAQCBpbnQgaW50ZWxf
Z3RfaW5pdChzdHJ1Y3QgaW50ZWxfZ3QgKmd0KQogCSAqLwogCWludGVsX3VuY29yZV9mb3JjZXdh
a2VfZ2V0KGd0LT51bmNvcmUsIEZPUkNFV0FLRV9BTEwpOwogCisJaW50ZWxfZ3RfaW5pdF9jbG9j
a19mcmVxdWVuY3koZ3QpOworCiAJZXJyID0gaW50ZWxfZ3RfaW5pdF9zY3JhdGNoKGd0LCBJU19H
RU4oZ3QtPmk5MTUsIDIpID8gU1pfMjU2SyA6IFNaXzRLKTsKIAlpZiAoZXJyKQogCQlnb3RvIG91
dF9mdzsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2d0X2Nsb2Nr
X3V0aWxzLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9ndF9jbG9ja191dGlscy5j
Cm5ldyBmaWxlIG1vZGUgMTAwNjQ0CmluZGV4IDAwMDAwMDAwMDAwMC4uODUyYTdkNzMxYjNiCi0t
LSAvZGV2L251bGwKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZ3RfY2xvY2tf
dXRpbHMuYwpAQCAtMCwwICsxLDEwMiBAQAorLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IE1J
VAorLyoKKyAqIENvcHlyaWdodCDCqSAyMDIwIEludGVsIENvcnBvcmF0aW9uCisgKi8KKworI2lu
Y2x1ZGUgImk5MTVfZHJ2LmgiCisjaW5jbHVkZSAiaW50ZWxfZ3QuaCIKKyNpbmNsdWRlICJpbnRl
bF9ndF9jbG9ja191dGlscy5oIgorCisjZGVmaW5lIE1IWl8xOV8yIDE5MjAwMDAwIC8qIDE5LjJN
SHosIDUyLjA4M25zICovCisjZGVmaW5lIE1IWl8yNCAyNDAwMDAwMCAvKiAyNE1IeiwgODMuMzMz
bnMgKi8KKyNkZWZpbmUgTUhaXzI1IDI1MDAwMDAwIC8qIDI1TUh6LCA4MG5zICovCisKK3N0YXRp
YyB1MzIgcmVhZF9jbG9ja19mcmVxdWVuY3koY29uc3Qgc3RydWN0IGludGVsX2d0ICpndCkKK3sK
KwlpZiAoSU5URUxfR0VOKGd0LT5pOTE1KSA+PSAxMSkgeworCQl1MzIgY29uZmlnOworCisJCWNv
bmZpZyA9IGludGVsX3VuY29yZV9yZWFkKGd0LT51bmNvcmUsIFJQTV9DT05GSUcwKTsKKwkJY29u
ZmlnICY9IEdFTjExX1JQTV9DT05GSUcwX0NSWVNUQUxfQ0xPQ0tfRlJFUV9NQVNLOworCQljb25m
aWcgPj49IEdFTjExX1JQTV9DT05GSUcwX0NSWVNUQUxfQ0xPQ0tfRlJFUV9TSElGVDsKKworCQlz
d2l0Y2ggKGNvbmZpZykgeworCQljYXNlIDA6IHJldHVybiBNSFpfMjQ7CisJCWNhc2UgMToKKwkJ
Y2FzZSAyOiByZXR1cm4gTUhaXzE5XzI7CisJCWRlZmF1bHQ6CisJCWNhc2UgMzogcmV0dXJuIE1I
Wl8yNTsKKwkJfQorCX0gZWxzZSBpZiAoSU5URUxfR0VOKGd0LT5pOTE1KSA+PSA5KSB7CisJCWlm
IChJU19HRU45X0xQKGd0LT5pOTE1KSkKKwkJCXJldHVybiBNSFpfMTlfMjsKKwkJZWxzZQorCQkJ
cmV0dXJuIE1IWl8yNDsKKwl9IGVsc2UgeworCQlyZXR1cm4gTUhaXzI1OworCX0KK30KKwordm9p
ZCBpbnRlbF9ndF9pbml0X2Nsb2NrX2ZyZXF1ZW5jeShzdHJ1Y3QgaW50ZWxfZ3QgKmd0KQorewor
CS8qCisJICogTm90ZSB0aGF0IG9uIGdlbjExKywgdGhlIGNsb2NrIGZyZXF1ZW5jeSBtYXkgYmUg
cmVjb25maWd1cmVkLgorCSAqIFdlIGRvIG5vdCwgYW5kIHdlIGFzc3VtZSBub2JvZHkgZWxzZSBk
b2VzLgorCSAqLworCWd0LT5jbG9ja19mcmVxdWVuY3kgPSByZWFkX2Nsb2NrX2ZyZXF1ZW5jeShn
dCk7CisJR1RfVFJBQ0UoZ3QsCisJCSAiVXNpbmcgY2xvY2sgZnJlcXVlbmN5OiAlZGtIelxuIiwK
KwkJIGd0LT5jbG9ja19mcmVxdWVuY3kgLyAxMDAwKTsKK30KKworI2lmIElTX0VOQUJMRUQoQ09O
RklHX0RSTV9JOTE1X0RFQlVHX0dFTSkKK3ZvaWQgaW50ZWxfZ3RfY2hlY2tfY2xvY2tfZnJlcXVl
bmN5KGNvbnN0IHN0cnVjdCBpbnRlbF9ndCAqZ3QpCit7CisJaWYgKGd0LT5jbG9ja19mcmVxdWVu
Y3kgIT0gcmVhZF9jbG9ja19mcmVxdWVuY3koZ3QpKSB7CisJCWRldl9lcnIoZ3QtPmk5MTUtPmRy
bS5kZXYsCisJCQkiR1QgY2xvY2sgZnJlcXVlbmN5IGNoYW5nZWQsIHdhcyAldUh6LCBub3cgJXVI
eiFcbiIsCisJCQlndC0+Y2xvY2tfZnJlcXVlbmN5LAorCQkJcmVhZF9jbG9ja19mcmVxdWVuY3ko
Z3QpKTsKKwl9Cit9CisjZW5kaWYKKworc3RhdGljIHU2NCBkaXZfdTY0X3JvdW5kdXAodTY0IG5v
bSwgdTMyIGRlbikKK3sKKwlyZXR1cm4gZGl2X3U2NChub20gKyBkZW4gLSAxLCBkZW4pOworfQor
Cit1MzIgaW50ZWxfZ3RfY2xvY2tfaW50ZXJ2YWxfdG9fbnMoY29uc3Qgc3RydWN0IGludGVsX2d0
ICpndCwgdTMyIGNvdW50KQoreworCXJldHVybiBkaXZfdTY0X3JvdW5kdXAobXVsX3UzMl91MzIo
Y291bnQsIDEwMDAgKiAxMDAwICogMTAwMCksCisJCQkgICAgICAgZ3QtPmNsb2NrX2ZyZXF1ZW5j
eSk7Cit9CisKK3UzMiBpbnRlbF9ndF9wbV9pbnRlcnZhbF90b19ucyhjb25zdCBzdHJ1Y3QgaW50
ZWxfZ3QgKmd0LCB1MzIgY291bnQpCit7CisJcmV0dXJuIGludGVsX2d0X2Nsb2NrX2ludGVydmFs
X3RvX25zKGd0LCAxNiAqIGNvdW50KTsKK30KKwordTMyIGludGVsX2d0X25zX3RvX2Nsb2NrX2lu
dGVydmFsKGNvbnN0IHN0cnVjdCBpbnRlbF9ndCAqZ3QsIHUzMiBucykKK3sKKwlyZXR1cm4gZGl2
X3U2NF9yb3VuZHVwKG11bF91MzJfdTMyKGd0LT5jbG9ja19mcmVxdWVuY3ksIG5zKSwKKwkJCSAg
ICAgICAxMDAwICogMTAwMCAqIDEwMDApOworfQorCit1MzIgaW50ZWxfZ3RfbnNfdG9fcG1faW50
ZXJ2YWwoY29uc3Qgc3RydWN0IGludGVsX2d0ICpndCwgdTMyIG5zKQoreworCXUzMiB2YWw7CisK
KwkvKgorCSAqIE1ha2UgdGhlc2UgYSBtdWx0aXBsZSBvZiBtYWdpYyAyNSB0byBhdm9pZCBTTkIg
KGVnLiBEZWxsIFhQUworCSAqIDgzMDApIGZyZWV6aW5nIHVwIGFyb3VuZCBHUFUgaGFuZ3MuIExv
b2tzIGFzIGlmIGV2ZW4KKwkgKiBzY2hlZHVsaW5nL3RpbWVyIGludGVycnVwdHMgc3RhcnQgbWlz
YmVoYXZpbmcgaWYgdGhlIFJQUworCSAqIEVJL3RocmVzaG9sZHMgYXJlICJiYWQiLCBsZWFkaW5n
IHRvIGEgdmVyeSBzbHVnZ2lzaCBvciBldmVuCisJICogZnJvemVuIG1hY2hpbmUuCisJICovCisJ
dmFsID0gRElWX1JPVU5EX1VQKGludGVsX2d0X25zX3RvX2Nsb2NrX2ludGVydmFsKGd0LCBucyks
IDE2KTsKKwlpZiAoSVNfR0VOKGd0LT5pOTE1LCA2KSkKKwkJdmFsID0gcm91bmR1cCh2YWwsIDI1
KTsKKworCXJldHVybiB2YWw7Cit9CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9n
dC9pbnRlbF9ndF9jbG9ja191dGlscy5oIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxf
Z3RfY2xvY2tfdXRpbHMuaApuZXcgZmlsZSBtb2RlIDEwMDY0NAppbmRleCAwMDAwMDAwMDAwMDAu
LmY3OTNjODlmMmNiZAotLS0gL2Rldi9udWxsCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0
L2ludGVsX2d0X2Nsb2NrX3V0aWxzLmgKQEAgLTAsMCArMSwyNyBAQAorLyogU1BEWC1MaWNlbnNl
LUlkZW50aWZpZXI6IE1JVCAqLworLyoKKyAqIENvcHlyaWdodCDCqSAyMDIwIEludGVsIENvcnBv
cmF0aW9uCisgKi8KKworI2lmbmRlZiBfX0lOVEVMX0dUX0NMT0NLX1VUSUxTX0hfXworI2RlZmlu
ZSBfX0lOVEVMX0dUX0NMT0NLX1VUSUxTX0hfXworCisjaW5jbHVkZSA8bGludXgvdHlwZXMuaD4K
Kworc3RydWN0IGludGVsX2d0OworCit2b2lkIGludGVsX2d0X2luaXRfY2xvY2tfZnJlcXVlbmN5
KHN0cnVjdCBpbnRlbF9ndCAqZ3QpOworCisjaWYgSVNfRU5BQkxFRChDT05GSUdfRFJNX0k5MTVf
REVCVUdfR0VNKQordm9pZCBpbnRlbF9ndF9jaGVja19jbG9ja19mcmVxdWVuY3koY29uc3Qgc3Ry
dWN0IGludGVsX2d0ICpndCk7CisjZWxzZQorc3RhdGljIGlubGluZSB2b2lkIGludGVsX2d0X2No
ZWNrX2Nsb2NrX2ZyZXF1ZW5jeShjb25zdCBzdHJ1Y3QgaW50ZWxfZ3QgKmd0KSB7fQorI2VuZGlm
CisKK3UzMiBpbnRlbF9ndF9jbG9ja19pbnRlcnZhbF90b19ucyhjb25zdCBzdHJ1Y3QgaW50ZWxf
Z3QgKmd0LCB1MzIgY291bnQpOwordTMyIGludGVsX2d0X3BtX2ludGVydmFsX3RvX25zKGNvbnN0
IHN0cnVjdCBpbnRlbF9ndCAqZ3QsIHUzMiBjb3VudCk7CisKK3UzMiBpbnRlbF9ndF9uc190b19j
bG9ja19pbnRlcnZhbChjb25zdCBzdHJ1Y3QgaW50ZWxfZ3QgKmd0LCB1MzIgbnMpOwordTMyIGlu
dGVsX2d0X25zX3RvX3BtX2ludGVydmFsKGNvbnN0IHN0cnVjdCBpbnRlbF9ndCAqZ3QsIHUzMiBu
cyk7CisKKyNlbmRpZiAvKiBfX0lOVEVMX0dUX0NMT0NLX1VUSUxTX0hfXyAqLwpkaWZmIC0tZ2l0
IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZ3RfcG0uYyBiL2RyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2d0L2ludGVsX2d0X3BtLmMKaW5kZXggNmJkYjc0ODkyYTFlLi40YzRjNzRlZjRmMjEg
MTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2d0X3BtLmMKKysrIGIv
ZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZ3RfcG0uYwpAQCAtMTIsNiArMTIsNyBAQAog
I2luY2x1ZGUgImludGVsX2NvbnRleHQuaCIKICNpbmNsdWRlICJpbnRlbF9lbmdpbmVfcG0uaCIK
ICNpbmNsdWRlICJpbnRlbF9ndC5oIgorI2luY2x1ZGUgImludGVsX2d0X2Nsb2NrX3V0aWxzLmgi
CiAjaW5jbHVkZSAiaW50ZWxfZ3RfcG0uaCIKICNpbmNsdWRlICJpbnRlbF9ndF9yZXF1ZXN0cy5o
IgogI2luY2x1ZGUgImludGVsX2xsYy5oIgpAQCAtMTM4LDYgKzEzOSw4IEBAIHN0YXRpYyB2b2lk
IGd0X3Nhbml0aXplKHN0cnVjdCBpbnRlbF9ndCAqZ3QsIGJvb2wgZm9yY2UpCiAJd2FrZXJlZiA9
IGludGVsX3J1bnRpbWVfcG1fZ2V0KGd0LT51bmNvcmUtPnJwbSk7CiAJaW50ZWxfdW5jb3JlX2Zv
cmNld2FrZV9nZXQoZ3QtPnVuY29yZSwgRk9SQ0VXQUtFX0FMTCk7CiAKKwlpbnRlbF9ndF9jaGVj
a19jbG9ja19mcmVxdWVuY3koZ3QpOworCiAJLyoKIAkgKiBBcyB3ZSBoYXZlIGp1c3QgcmVzdW1l
ZCB0aGUgbWFjaGluZSBhbmQgd29rZW4gdGhlIGRldmljZSB1cCBmcm9tCiAJICogZGVlcCBQQ0kg
c2xlZXAgKHByZXN1bWFibHkgRDNfY29sZCksIGFzc3VtZSB0aGUgSFcgaGFzIGJlZW4gcmVzZXQK
ZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2d0X3R5cGVzLmggYi9k
cml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9ndF90eXBlcy5oCmluZGV4IDk2ODkwZGQxMmI1
Zi4uZDAyY2NiNzM1ZTI0IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRl
bF9ndF90eXBlcy5oCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2d0X3R5cGVz
LmgKQEAgLTYxLDYgKzYxLDcgQEAgc3RydWN0IGludGVsX2d0IHsKIAlzdHJ1Y3QgbGlzdF9oZWFk
IGNsb3NlZF92bWE7CiAJc3BpbmxvY2tfdCBjbG9zZWRfbG9jazsgLyogZ3VhcmRzIHRoZSBsaXN0
IG9mIGNsb3NlZF92bWEgKi8KIAorCWt0aW1lX3QgbGFzdF9pbml0X3RpbWU7CiAJc3RydWN0IGlu
dGVsX3Jlc2V0IHJlc2V0OwogCiAJLyoqCkBAIC03MiwxNCArNzMsMTIgQEAgc3RydWN0IGludGVs
X2d0IHsKIAkgKi8KIAlpbnRlbF93YWtlcmVmX3QgYXdha2U7CiAKKwl1MzIgY2xvY2tfZnJlcXVl
bmN5OworCiAJc3RydWN0IGludGVsX2xsYyBsbGM7CiAJc3RydWN0IGludGVsX3JjNiByYzY7CiAJ
c3RydWN0IGludGVsX3JwcyBycHM7CiAKLQlrdGltZV90IGxhc3RfaW5pdF90aW1lOwotCi0Jc3Ry
dWN0IGk5MTVfdm1hICpzY3JhdGNoOwotCiAJc3BpbmxvY2tfdCBpcnFfbG9jazsKIAl1MzIgZ3Rf
aW1yOwogCXUzMiBwbV9pZXI7CkBAIC05Nyw2ICs5Niw4IEBAIHN0cnVjdCBpbnRlbF9ndCB7CiAJ
ICogUmVzZXJ2ZWQgZm9yIGV4Y2x1c2l2ZSB1c2UgYnkgdGhlIGtlcm5lbC4KIAkgKi8KIAlzdHJ1
Y3QgaTkxNV9hZGRyZXNzX3NwYWNlICp2bTsKKworCXN0cnVjdCBpOTE1X3ZtYSAqc2NyYXRjaDsK
IH07CiAKIGVudW0gaW50ZWxfZ3Rfc2NyYXRjaF9maWVsZCB7CmRpZmYgLS1naXQgYS9kcml2ZXJz
L2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9ycHMuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2lu
dGVsX3Jwcy5jCmluZGV4IGM0ZGE0MWE5MDg5MS4uNzlkMjUxNWM3ZmI4IDEwMDY0NAotLS0gYS9k
cml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9ycHMuYworKysgYi9kcml2ZXJzL2dwdS9kcm0v
aTkxNS9ndC9pbnRlbF9ycHMuYwpAQCAtOCw2ICs4LDcgQEAKIAogI2luY2x1ZGUgImk5MTVfZHJ2
LmgiCiAjaW5jbHVkZSAiaW50ZWxfZ3QuaCIKKyNpbmNsdWRlICJpbnRlbF9ndF9jbG9ja191dGls
cy5oIgogI2luY2x1ZGUgImludGVsX2d0X2lycS5oIgogI2luY2x1ZGUgImludGVsX2d0X3BtX2ly
cS5oIgogI2luY2x1ZGUgImludGVsX3Jwcy5oIgpAQCAtNTM2LDggKzUzNyw4IEBAIHN0YXRpYyB1
MzIgcnBzX2xpbWl0cyhzdHJ1Y3QgaW50ZWxfcnBzICpycHMsIHU4IHZhbCkKIAogc3RhdGljIHZv
aWQgcnBzX3NldF9wb3dlcihzdHJ1Y3QgaW50ZWxfcnBzICpycHMsIGludCBuZXdfcG93ZXIpCiB7
Ci0Jc3RydWN0IGludGVsX3VuY29yZSAqdW5jb3JlID0gcnBzX3RvX3VuY29yZShycHMpOwotCXN0
cnVjdCBkcm1faTkxNV9wcml2YXRlICppOTE1ID0gcnBzX3RvX2k5MTUocnBzKTsKKwlzdHJ1Y3Qg
aW50ZWxfZ3QgKmd0ID0gcnBzX3RvX2d0KHJwcyk7CisJc3RydWN0IGludGVsX3VuY29yZSAqdW5j
b3JlID0gZ3QtPnVuY29yZTsKIAl1MzIgdGhyZXNob2xkX3VwID0gMCwgdGhyZXNob2xkX2Rvd24g
PSAwOyAvKiBpbiAlICovCiAJdTMyIGVpX3VwID0gMCwgZWlfZG93biA9IDA7CiAKQEAgLTU4Miwy
MyArNTgzLDI1IEBAIHN0YXRpYyB2b2lkIHJwc19zZXRfcG93ZXIoc3RydWN0IGludGVsX3JwcyAq
cnBzLCBpbnQgbmV3X3Bvd2VyKQogCS8qIFdoZW4gYnl0IGNhbiBzdXJ2aXZlIHdpdGhvdXQgc3lz
dGVtIGhhbmcgd2l0aCBkeW5hbWljCiAJICogc3cgZnJlcSBhZGp1c3RtZW50cywgdGhpcyByZXN0
cmljdGlvbiBjYW4gYmUgbGlmdGVkLgogCSAqLwotCWlmIChJU19WQUxMRVlWSUVXKGk5MTUpKQor
CWlmIChJU19WQUxMRVlWSUVXKGd0LT5pOTE1KSkKIAkJZ290byBza2lwX2h3X3dyaXRlOwogCi0J
R1RfVFJBQ0UocnBzX3RvX2d0KHJwcyksCisJR1RfVFJBQ0UoZ3QsCiAJCSAiY2hhbmdpbmcgcG93
ZXIgbW9kZSBbJWRdLCB1cCAlZCUlIEAgJWR1cywgZG93biAlZCUlIEAgJWR1c1xuIiwKIAkJIG5l
d19wb3dlciwgdGhyZXNob2xkX3VwLCBlaV91cCwgdGhyZXNob2xkX2Rvd24sIGVpX2Rvd24pOwog
Ci0Jc2V0KHVuY29yZSwgR0VONl9SUF9VUF9FSSwgR1RfSU5URVJWQUxfRlJPTV9VUyhpOTE1LCBl
aV91cCkpOworCXNldCh1bmNvcmUsIEdFTjZfUlBfVVBfRUksCisJICAgIGludGVsX2d0X25zX3Rv
X3BtX2ludGVydmFsKGd0LCBlaV91cCAqIDEwMDApKTsKIAlzZXQodW5jb3JlLCBHRU42X1JQX1VQ
X1RIUkVTSE9MRCwKLQkgICAgR1RfSU5URVJWQUxfRlJPTV9VUyhpOTE1LCBlaV91cCAqIHRocmVz
aG9sZF91cCAvIDEwMCkpOworCSAgICBpbnRlbF9ndF9uc190b19wbV9pbnRlcnZhbChndCwgZWlf
dXAgKiB0aHJlc2hvbGRfdXAgKiAxMCkpOwogCi0Jc2V0KHVuY29yZSwgR0VONl9SUF9ET1dOX0VJ
LCBHVF9JTlRFUlZBTF9GUk9NX1VTKGk5MTUsIGVpX2Rvd24pKTsKKwlzZXQodW5jb3JlLCBHRU42
X1JQX0RPV05fRUksCisJICAgIGludGVsX2d0X25zX3RvX3BtX2ludGVydmFsKGd0LCBlaV9kb3du
ICogMTAwMCkpOwogCXNldCh1bmNvcmUsIEdFTjZfUlBfRE9XTl9USFJFU0hPTEQsCi0JICAgIEdU
X0lOVEVSVkFMX0ZST01fVVMoaTkxNSwgZWlfZG93biAqIHRocmVzaG9sZF9kb3duIC8gMTAwKSk7
CisJICAgIGludGVsX2d0X25zX3RvX3BtX2ludGVydmFsKGd0LCBlaV9kb3duICogdGhyZXNob2xk
X2Rvd24gKiAxMCkpOwogCiAJc2V0KHVuY29yZSwgR0VONl9SUF9DT05UUk9MLAotCSAgICAoSU5U
RUxfR0VOKGk5MTUpID4gOSA/IDAgOiBHRU42X1JQX01FRElBX1RVUkJPKSB8CisJICAgIChJTlRF
TF9HRU4oZ3QtPmk5MTUpID4gOSA/IDAgOiBHRU42X1JQX01FRElBX1RVUkJPKSB8CiAJICAgIEdF
TjZfUlBfTUVESUFfSFdfTk9STUFMX01PREUgfAogCSAgICBHRU42X1JQX01FRElBX0lTX0dGWCB8
CiAJICAgIEdFTjZfUlBfRU5BQkxFIHwKQEAgLTkzNSwxMSArOTM4LDExIEBAIHN0YXRpYyBib29s
IHJwc19yZXNldChzdHJ1Y3QgaW50ZWxfcnBzICpycHMpCiAvKiBTZWUgdGhlIEdlbjlfR1RfUE1f
UHJvZ3JhbW1pbmdfR3VpZGUgZG9jIGZvciB0aGUgYmVsb3cgKi8KIHN0YXRpYyBib29sIGdlbjlf
cnBzX2VuYWJsZShzdHJ1Y3QgaW50ZWxfcnBzICpycHMpCiB7Ci0Jc3RydWN0IGRybV9pOTE1X3By
aXZhdGUgKmk5MTUgPSBycHNfdG9faTkxNShycHMpOwotCXN0cnVjdCBpbnRlbF91bmNvcmUgKnVu
Y29yZSA9IHJwc190b191bmNvcmUocnBzKTsKKwlzdHJ1Y3QgaW50ZWxfZ3QgKmd0ID0gcnBzX3Rv
X2d0KHJwcyk7CisJc3RydWN0IGludGVsX3VuY29yZSAqdW5jb3JlID0gZ3QtPnVuY29yZTsKIAog
CS8qIFByb2dyYW0gZGVmYXVsdHMgYW5kIHRocmVzaG9sZHMgZm9yIFJQUyAqLwotCWlmIChJU19H
RU4oaTkxNSwgOSkpCisJaWYgKElTX0dFTihndC0+aTkxNSwgOSkpCiAJCWludGVsX3VuY29yZV93
cml0ZV9mdyh1bmNvcmUsIEdFTjZfUkNfVklERU9fRlJFUSwKIAkJCQkgICAgICBHRU45X0ZSRVFV
RU5DWShycHMtPnJwMV9mcmVxKSk7CiAKQEAgLTEyMjIsNiArMTIyNSwxMSBAQCB2b2lkIGludGVs
X3Jwc19lbmFibGUoc3RydWN0IGludGVsX3JwcyAqcnBzKQogCXN0cnVjdCBkcm1faTkxNV9wcml2
YXRlICppOTE1ID0gcnBzX3RvX2k5MTUocnBzKTsKIAlzdHJ1Y3QgaW50ZWxfdW5jb3JlICp1bmNv
cmUgPSBycHNfdG9fdW5jb3JlKHJwcyk7CiAKKwlpZiAoIUhBU19SUFMoaTkxNSkpCisJCXJldHVy
bjsKKworCWludGVsX2d0X2NoZWNrX2Nsb2NrX2ZyZXF1ZW5jeShycHNfdG9fZ3QocnBzKSk7CisK
IAlpbnRlbF91bmNvcmVfZm9yY2V3YWtlX2dldCh1bmNvcmUsIEZPUkNFV0FLRV9BTEwpOwogCWlm
IChJU19DSEVSUllWSUVXKGk5MTUpKQogCQlycHMtPmVuYWJsZWQgPSBjaHZfcnBzX2VuYWJsZShy
cHMpOwpAQCAtMTc1OCw3ICsxNzY2LDcgQEAgc3RhdGljIHUzMiByZWFkX2NhZ2Yoc3RydWN0IGlu
dGVsX3JwcyAqcnBzKQogCQlmcmVxID0gdmx2X3B1bml0X3JlYWQoaTkxNSwgUFVOSVRfUkVHX0dQ
VV9GUkVRX1NUUyk7CiAJCXZsdl9wdW5pdF9wdXQoaTkxNSk7CiAJfSBlbHNlIHsKLQkJZnJlcSA9
IGludGVsX3VuY29yZV9yZWFkKHJwc190b19ndChycHMpLT51bmNvcmUsIEdFTjZfUlBTVEFUMSk7
CisJCWZyZXEgPSBpbnRlbF91bmNvcmVfcmVhZChycHNfdG9fdW5jb3JlKHJwcyksIEdFTjZfUlBT
VEFUMSk7CiAJfQogCiAJcmV0dXJuIGludGVsX3Jwc19nZXRfY2FnZihycHMsIGZyZXEpOwpAQCAt
MTc2Niw3ICsxNzc0LDcgQEAgc3RhdGljIHUzMiByZWFkX2NhZ2Yoc3RydWN0IGludGVsX3JwcyAq
cnBzKQogCiB1MzIgaW50ZWxfcnBzX3JlYWRfYWN0dWFsX2ZyZXF1ZW5jeShzdHJ1Y3QgaW50ZWxf
cnBzICpycHMpCiB7Ci0Jc3RydWN0IGludGVsX3J1bnRpbWVfcG0gKnJwbSA9IHJwc190b19ndChy
cHMpLT51bmNvcmUtPnJwbTsKKwlzdHJ1Y3QgaW50ZWxfcnVudGltZV9wbSAqcnBtID0gcnBzX3Rv
X3VuY29yZShycHMpLT5ycG07CiAJaW50ZWxfd2FrZXJlZl90IHdha2VyZWY7CiAJdTMyIGZyZXEg
PSAwOwogCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9zZWxmdGVzdF9ycHMu
YyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L3NlbGZ0ZXN0X3Jwcy5jCmluZGV4IGUwYTc5MWVh
Yzc1Mi4uMzNmMjkxMjliM2Y2IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9z
ZWxmdGVzdF9ycHMuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9zZWxmdGVzdF9ycHMu
YwpAQCAtNyw2ICs3LDcgQEAKIAogI2luY2x1ZGUgImludGVsX2VuZ2luZV9wbS5oIgogI2luY2x1
ZGUgImludGVsX2dwdV9jb21tYW5kcy5oIgorI2luY2x1ZGUgImludGVsX2d0X2Nsb2NrX3V0aWxz
LmgiCiAjaW5jbHVkZSAiaW50ZWxfZ3RfcG0uaCIKICNpbmNsdWRlICJpbnRlbF9yYzYuaCIKICNp
bmNsdWRlICJzZWxmdGVzdF9ycHMuaCIKQEAgLTY4NCw3ICs2ODUsOCBAQCBzdGF0aWMgaW50IF9f
cnBzX3VwX2ludGVycnVwdChzdHJ1Y3QgaW50ZWxfcnBzICpycHMsCiAJfQogCiAJdGltZW91dCA9
IGludGVsX3VuY29yZV9yZWFkKHVuY29yZSwgR0VONl9SUF9VUF9FSSk7Ci0JdGltZW91dCA9IEdU
X1BNX0lOVEVSVkFMX1RPX1VTKGVuZ2luZS0+aTkxNSwgdGltZW91dCk7CisJdGltZW91dCA9IGlu
dGVsX2d0X3BtX2ludGVydmFsX3RvX25zKGVuZ2luZS0+Z3QsIHRpbWVvdXQpOworCXRpbWVvdXQg
Lz0gMTAwMDsKIAogCXNsZWVwX2Zvcl9laShycHMsIHRpbWVvdXQpOwogCUdFTV9CVUdfT04oaTkx
NV9yZXF1ZXN0X2NvbXBsZXRlZChycSkpOwpAQCAtNzMxLDcgKzczMyw4IEBAIHN0YXRpYyBpbnQg
X19ycHNfZG93bl9pbnRlcnJ1cHQoc3RydWN0IGludGVsX3JwcyAqcnBzLAogCX0KIAogCXRpbWVv
dXQgPSBpbnRlbF91bmNvcmVfcmVhZCh1bmNvcmUsIEdFTjZfUlBfRE9XTl9FSSk7Ci0JdGltZW91
dCA9IEdUX1BNX0lOVEVSVkFMX1RPX1VTKGVuZ2luZS0+aTkxNSwgdGltZW91dCk7CisJdGltZW91
dCA9IGludGVsX2d0X3BtX2ludGVydmFsX3RvX25zKGVuZ2luZS0+Z3QsIHRpbWVvdXQpOworCXRp
bWVvdXQgLz0gMTAwMDsKIAogCXNsZWVwX2Zvcl9laShycHMsIHRpbWVvdXQpOwogCmRpZmYgLS1n
aXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2RlYnVnZnMuYyBiL2RyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2k5MTVfZGVidWdmcy5jCmluZGV4IGFhMzVhNTlmMWM3ZC4uZTNjNWZmMjVjODA3IDEw
MDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2RlYnVnZnMuYworKysgYi9kcml2
ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2RlYnVnZnMuYwpAQCAtMzIsNiArMzIsNyBAQAogI2luY2x1
ZGUgPGRybS9kcm1fZGVidWdmcy5oPgogCiAjaW5jbHVkZSAiZ2VtL2k5MTVfZ2VtX2NvbnRleHQu
aCIKKyNpbmNsdWRlICJndC9pbnRlbF9ndF9jbG9ja191dGlscy5oIgogI2luY2x1ZGUgImd0L2lu
dGVsX2d0X3BtLmgiCiAjaW5jbHVkZSAiZ3QvaW50ZWxfZ3RfcmVxdWVzdHMuaCIKICNpbmNsdWRl
ICJndC9pbnRlbF9yZXNldC5oIgpAQCAtOTI2LDIxICs5MjcsMzAgQEAgc3RhdGljIGludCBpOTE1
X2ZyZXF1ZW5jeV9pbmZvKHN0cnVjdCBzZXFfZmlsZSAqbSwgdm9pZCAqdW51c2VkKQogCQlzZXFf
cHJpbnRmKG0sICJSUERFQ0xJTUlUOiAweCUwOHhcbiIsIHJwZGVjbGltaXQpOwogCQlzZXFfcHJp
bnRmKG0sICJSUE5TV1JFUTogJWRNSHpcbiIsIHJlcWYpOwogCQlzZXFfcHJpbnRmKG0sICJDQUdG
OiAlZE1IelxuIiwgY2FnZik7Ci0JCXNlcV9wcmludGYobSwgIlJQIENVUiBVUCBFSTogJWQgKCVk
dXMpXG4iLAotCQkJICAgcnB1cGVpLCBHVF9QTV9JTlRFUlZBTF9UT19VUyhkZXZfcHJpdiwgcnB1
cGVpKSk7Ci0JCXNlcV9wcmludGYobSwgIlJQIENVUiBVUDogJWQgKCVkdXMpXG4iLAotCQkJICAg
cnBjdXJ1cCwgR1RfUE1fSU5URVJWQUxfVE9fVVMoZGV2X3ByaXYsIHJwY3VydXApKTsKLQkJc2Vx
X3ByaW50ZihtLCAiUlAgUFJFViBVUDogJWQgKCVkdXMpXG4iLAotCQkJICAgcnBwcmV2dXAsIEdU
X1BNX0lOVEVSVkFMX1RPX1VTKGRldl9wcml2LCBycHByZXZ1cCkpOworCQlzZXFfcHJpbnRmKG0s
ICJSUCBDVVIgVVAgRUk6ICVkICglZG5zKVxuIiwKKwkJCSAgIHJwdXBlaSwKKwkJCSAgIGludGVs
X2d0X3BtX2ludGVydmFsX3RvX25zKCZkZXZfcHJpdi0+Z3QsIHJwdXBlaSkpOworCQlzZXFfcHJp
bnRmKG0sICJSUCBDVVIgVVA6ICVkICglZHVuKVxuIiwKKwkJCSAgIHJwY3VydXAsCisJCQkgICBp
bnRlbF9ndF9wbV9pbnRlcnZhbF90b19ucygmZGV2X3ByaXYtPmd0LCBycGN1cnVwKSk7CisJCXNl
cV9wcmludGYobSwgIlJQIFBSRVYgVVA6ICVkICglZG5zKVxuIiwKKwkJCSAgIHJwcHJldnVwLAor
CQkJICAgaW50ZWxfZ3RfcG1faW50ZXJ2YWxfdG9fbnMoJmRldl9wcml2LT5ndCwgcnBwcmV2dXAp
KTsKIAkJc2VxX3ByaW50ZihtLCAiVXAgdGhyZXNob2xkOiAlZCUlXG4iLAogCQkJICAgcnBzLT5w
b3dlci51cF90aHJlc2hvbGQpOwogCi0JCXNlcV9wcmludGYobSwgIlJQIENVUiBET1dOIEVJOiAl
ZCAoJWR1cylcbiIsCi0JCQkgICBycGRvd25laSwgR1RfUE1fSU5URVJWQUxfVE9fVVMoZGV2X3By
aXYsIHJwZG93bmVpKSk7Ci0JCXNlcV9wcmludGYobSwgIlJQIENVUiBET1dOOiAlZCAoJWR1cylc
biIsCi0JCQkgICBycGN1cmRvd24sIEdUX1BNX0lOVEVSVkFMX1RPX1VTKGRldl9wcml2LCBycGN1
cmRvd24pKTsKLQkJc2VxX3ByaW50ZihtLCAiUlAgUFJFViBET1dOOiAlZCAoJWR1cylcbiIsCi0J
CQkgICBycHByZXZkb3duLCBHVF9QTV9JTlRFUlZBTF9UT19VUyhkZXZfcHJpdiwgcnBwcmV2ZG93
bikpOworCQlzZXFfcHJpbnRmKG0sICJSUCBDVVIgRE9XTiBFSTogJWQgKCVkbnMpXG4iLAorCQkJ
ICAgcnBkb3duZWksCisJCQkgICBpbnRlbF9ndF9wbV9pbnRlcnZhbF90b19ucygmZGV2X3ByaXYt
Pmd0LAorCQkJCQkJICAgICAgcnBkb3duZWkpKTsKKwkJc2VxX3ByaW50ZihtLCAiUlAgQ1VSIERP
V046ICVkICglZG5zKVxuIiwKKwkJCSAgIHJwY3VyZG93biwKKwkJCSAgIGludGVsX2d0X3BtX2lu
dGVydmFsX3RvX25zKCZkZXZfcHJpdi0+Z3QsCisJCQkJCQkgICAgICBycGN1cmRvd24pKTsKKwkJ
c2VxX3ByaW50ZihtLCAiUlAgUFJFViBET1dOOiAlZCAoJWRucylcbiIsCisJCQkgICBycHByZXZk
b3duLAorCQkJICAgaW50ZWxfZ3RfcG1faW50ZXJ2YWxfdG9fbnMoJmRldl9wcml2LT5ndCwKKwkJ
CQkJCSAgICAgIHJwcHJldmRvd24pKTsKIAkJc2VxX3ByaW50ZihtLCAiRG93biB0aHJlc2hvbGQ6
ICVkJSVcbiIsCiAJCQkgICBycHMtPnBvd2VyLmRvd25fdGhyZXNob2xkKTsKIApkaWZmIC0tZ2l0
IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9yZWcuaCBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1
L2k5MTVfcmVnLmgKaW5kZXggNGExOTY1NDY3Mzc0Li45ODFiNTJhYTVlZDggMTAwNjQ0Ci0tLSBh
L2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfcmVnLmgKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5
MTUvaTkxNV9yZWcuaApAQCAtNDAxNSwzMSArNDAxNSw2IEBAIHN0YXRpYyBpbmxpbmUgYm9vbCBp
OTE1X21taW9fcmVnX3ZhbGlkKGk5MTVfcmVnX3QgcmVnKQogI2RlZmluZSBCWFRfUlBfU1RBVEVf
Q0FQICAgICAgICBfTU1JTygweDEzODE3MCkKICNkZWZpbmUgR0VOOV9SUF9TVEFURV9MSU1JVFMJ
X01NSU8oMHgxMzgxNDgpCiAKLS8qCi0gKiBNYWtlIHRoZXNlIGEgbXVsdGlwbGUgb2YgbWFnaWMg
MjUgdG8gYXZvaWQgU05CIChlZy4gRGVsbCBYUFMKLSAqIDgzMDApIGZyZWV6aW5nIHVwIGFyb3Vu
ZCBHUFUgaGFuZ3MuIExvb2tzIGFzIGlmIGV2ZW4KLSAqIHNjaGVkdWxpbmcvdGltZXIgaW50ZXJy
dXB0cyBzdGFydCBtaXNiZWhhdmluZyBpZiB0aGUgUlBTCi0gKiBFSS90aHJlc2hvbGRzIGFyZSAi
YmFkIiwgbGVhZGluZyB0byBhIHZlcnkgc2x1Z2dpc2ggb3IgZXZlbgotICogZnJvemVuIG1hY2hp
bmUuCi0gKi8KLSNkZWZpbmUgSU5URVJWQUxfMV8yOF9VUyh1cykJcm91bmR1cCgoKHVzKSAqIDEw
MCkgPj4gNywgMjUpCi0jZGVmaW5lIElOVEVSVkFMXzFfMzNfVVModXMpCSgoKHVzKSAqIDMpICAg
Pj4gMikKLSNkZWZpbmUgSU5URVJWQUxfMF84MzNfVVModXMpCSgoKHVzKSAqIDYpIC8gNSkKLSNk
ZWZpbmUgR1RfSU5URVJWQUxfRlJPTV9VUyhkZXZfcHJpdiwgdXMpIChJTlRFTF9HRU4oZGV2X3By
aXYpID49IDkgPyBcCi0JCQkJKElTX0dFTjlfTFAoZGV2X3ByaXYpID8gXAotCQkJCUlOVEVSVkFM
XzBfODMzX1VTKHVzKSA6IFwKLQkJCQlJTlRFUlZBTF8xXzMzX1VTKHVzKSkgOiBcCi0JCQkJSU5U
RVJWQUxfMV8yOF9VUyh1cykpCi0KLSNkZWZpbmUgSU5URVJWQUxfMV8yOF9UT19VUyhpbnRlcnZh
bCkgICgoKGludGVydmFsKSA8PCA3KSAvIDEwMCkKLSNkZWZpbmUgSU5URVJWQUxfMV8zM19UT19V
UyhpbnRlcnZhbCkgICgoKGludGVydmFsKSA8PCAyKSAvIDMpCi0jZGVmaW5lIElOVEVSVkFMXzBf
ODMzX1RPX1VTKGludGVydmFsKSAoKChpbnRlcnZhbCkgKiA1KSAgLyA2KQotI2RlZmluZSBHVF9Q
TV9JTlRFUlZBTF9UT19VUyhkZXZfcHJpdiwgaW50ZXJ2YWwpIChJTlRFTF9HRU4oZGV2X3ByaXYp
ID49IDkgPyBcCi0gICAgICAgICAgICAgICAgICAgICAgICAgICAoSVNfR0VOOV9MUChkZXZfcHJp
dikgPyBcCi0gICAgICAgICAgICAgICAgICAgICAgICAgICBJTlRFUlZBTF8wXzgzM19UT19VUyhp
bnRlcnZhbCkgOiBcCi0gICAgICAgICAgICAgICAgICAgICAgICAgICBJTlRFUlZBTF8xXzMzX1RP
X1VTKGludGVydmFsKSkgOiBcCi0gICAgICAgICAgICAgICAgICAgICAgICAgICBJTlRFUlZBTF8x
XzI4X1RPX1VTKGludGVydmFsKSkKLQogLyoKICAqIExvZ2ljYWwgQ29udGV4dCByZWdzCiAgKi8K
LS0gCjIuMjAuMQoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X18KSW50ZWwtZ2Z4IG1haWxpbmcgbGlzdApJbnRlbC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3Jn
Cmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vaW50ZWwtZ2Z4
Cg==

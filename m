Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 1A8AC13BCD9
	for <lists+intel-gfx@lfdr.de>; Wed, 15 Jan 2020 10:53:23 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 5B7376E8E8;
	Wed, 15 Jan 2020 09:53:21 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga18.intel.com (mga18.intel.com [134.134.136.126])
 by gabe.freedesktop.org (Postfix) with ESMTPS id AA8166E8E8
 for <intel-gfx@lists.freedesktop.org>; Wed, 15 Jan 2020 09:53:19 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from fmsmga003.fm.intel.com ([10.253.24.29])
 by orsmga106.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 15 Jan 2020 01:53:19 -0800
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.70,322,1574150400"; d="scan'208";a="273604564"
Received: from slisovsk-lenovo-ideapad-720s-13ikb.fi.intel.com ([10.237.72.89])
 by FMSMGA003.fm.intel.com with ESMTP; 15 Jan 2020 01:53:17 -0800
From: Stanislav Lisovskiy <stanislav.lisovskiy@intel.com>
To: intel-gfx@lists.freedesktop.org
Date: Wed, 15 Jan 2020 11:50:54 +0200
Message-Id: <20200115095054.10660-6-stanislav.lisovskiy@intel.com>
X-Mailer: git-send-email 2.24.1.485.gad05a3d8e5
In-Reply-To: <20200115095054.10660-1-stanislav.lisovskiy@intel.com>
References: <20200115095054.10660-1-stanislav.lisovskiy@intel.com>
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH v11 5/5] drm/i915: Correctly map DBUF slices to
 pipes
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

QWRkZWQgcHJvcGVyIERCdWYgc2xpY2UgbWFwcGluZyB0byBjb3JyZXNwb25kZW50CnBpcGVzLCBk
ZXBlbmRpbmcgb24gcGlwZSBjb25maWd1cmF0aW9uIGFzIHN0YXRlZAppbiBCU3BlYy4KCnYyOgog
ICAgLSBSZW1vdmUgdW5uZWVkZWQgYnJhY2VzCiAgICAtIFN0b3AgdXNpbmcgbWFjcm8gZm9yIERC
dWYgYXNzaWdubWVudHMgYXMKICAgICAgaXQgc2VlbXMgdG8gcmVkdWNlIHJlYWRhYmlsaXR5LgoK
djM6IFN0YXJ0IHVzaW5nIGVuYWJsZWQgc2xpY2VzIG1hc2sgaW4gZGV2X3ByaXYKCnY0OiBSZW5h
bWVkICJlbmFibGVkX3NsaWNlcyIgdXNlZCBpbiBkZXZfcHJpdgogICAgdG8gImVuYWJsZWRfZGJ1
Zl9zbGljZXNfbWFzayIoTWF0dCBSb3BlcikKCnY1OiAtIFJlbW92ZWQgcmVkdW5kYW50IHBhcmFt
ZXRlcnMgZnJvbQogICAgICBpbnRlbF9nZXRfZGRiX3NpemUgZnVuY3Rpb24uKE1hdHQgUm9wZXIp
CiAgICAtIE1hZGUgaTkxNV9wb3NzaWJsZV9kYnVmX3NsaWNlcyBzdGF0aWMoTWF0dCBSb3BlcikK
ICAgIC0gUmVuYW1lZCB0b3RhbF93aWR0aCBpbnRvIHRvdGFsX3dpZHRoX2luX3JhbmdlCiAgICAg
IHNvIHRoYXQgaXQgbm93IHJlZmxlY3RzIHRoYXQgdGhpcyBpcyBub3QKICAgICAgYSB0b3RhbCBw
aXBlIHdpZHRoIGJ1dCB0aGUgb25lIGluIGN1cnJlbnQKICAgICAgZGJ1ZiBzbGljZSBhbGxvd2Vk
IHJhbmdlIGZvciBwaXBlLihNYXR0IFJvcGVyKQogICAgLSBSZW1vdmVkIDR0aCBwaXBlIGZvciBJ
Q0wgaW4gREJ1ZiBhc3NpZ25tZW50CiAgICAgIHRhYmxlKE1hdHQgUm9wZXIpCiAgICAtIEZpeGVk
IHdyb25nIERCdWYgc2xpY2UgaW4gREJ1ZiB0YWJsZSBmb3IgVEdMCiAgICAgIChNYXR0IFJvcGVy
KQogICAgLSBBZGRlZCBjb21tZW50IHJlZ2FyZGluZyB3aHkgd2UgY3VycmVudGx5IG5vdAogICAg
ICB1c2luZyBwaXBlIHJhdGlvIGZvciBEQnVmIGFzc2lnbm1lbnQgZm9yIElDTAoKdjY6IC0gQ2hh
bmdlZCB1MzIgdG8gdW5zaWduZWQgaW50IGluCiAgICAgIGljbF9nZXRfZmlyc3RfZGJ1Zl9zbGlj
ZV9vZmZzZXQgZnVuY3Rpb24gc2lnbmF0dXJlCiAgICAgIChWaWxsZSBTeXJqw6Rsw6QpCiAgICAt
IENoYW5nZWQgYWxzbyB1MzIgdG8gdTggaW4gZGJ1ZiBzbGljZSBtYXNrIHN0cnVjdHVyZQogICAg
ICAoVmlsbGUgU3lyasOkbMOkKQogICAgLSBTd2l0Y2hlZCBmcm9tIERCVUZfUzFfQklUIHRvIGVu
dW0gKyBleHBsaWNpdAogICAgICBCSVQoREJVRl9TMSkgYWNjZXNzKFZpbGxlIFN5cmrDpGzDpCkK
ICAgIC0gU3dpdGNoZWQgdG8gbmFtZWQgaW5pdGlhbGl6ZXJzIGluIERCdWYgYXNzaWdubWVudAog
ICAgICBhcnJheXMoVmlsbGUgU3lyasOkbMOkKQogICAgLSBEQnVmIGFzc2lnbm1lbnQgYXJyYXlz
IG5vdyB1c2UgYXV0b2dlbmVyYXRpb24gdG9vbAogICAgICBmcm9tCiAgICAgIGh0dHBzOi8vcGF0
Y2h3b3JrLmZyZWVkZXNrdG9wLm9yZy9zZXJpZXMvNzA0OTMvCiAgICAgIHRvIGF2b2lkIHR5cG9z
LgogICAgLSBSZW5hbWVkIGk5MTVfZmluZF9waXBlX2NvbmYgdG8gKl9jb21wdXRlX2RidWZfc2xp
Y2VzCiAgICAgIChWaWxsZSBTeXJqw6Rsw6QpCiAgICAtIENoYW5nZWQgcGxhdGZvcm1zIG9yZGVy
aW5nIGluIHNrbF9jb21wdXRlX2RidWZfc2xpY2VzCiAgICAgIHRvIGJlIGZyb20gbmV3ZXN0IHRv
IG9sZGVzdChWaWxsZSBTeXJqw6Rsw6QpCgpTaWduZWQtb2ZmLWJ5OiBTdGFuaXNsYXYgTGlzb3Zz
a2l5IDxzdGFuaXNsYXYubGlzb3Zza2l5QGludGVsLmNvbT4KLS0tCiBkcml2ZXJzL2dwdS9kcm0v
aTkxNS9pbnRlbF9wbS5jIHwgMzg0ICsrKysrKysrKysrKysrKysrKysrKysrKysrKysrKy0tCiBk
cml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9wbS5oIHwgICAyICsKIDIgZmlsZXMgY2hhbmdlZCwg
MzY4IGluc2VydGlvbnMoKyksIDE4IGRlbGV0aW9ucygtKQoKZGlmZiAtLWdpdCBhL2RyaXZlcnMv
Z3B1L2RybS9pOTE1L2ludGVsX3BtLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9wbS5j
CmluZGV4IGU1YjgyMjY0Y2E1Zi4uZGY3ZDhmZWQyZTAyIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dw
dS9kcm0vaTkxNS9pbnRlbF9wbS5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX3Bt
LmMKQEAgLTM4NjAsMTMgKzM4NjAsMjkgQEAgYm9vbCBpbnRlbF9jYW5fZW5hYmxlX3NhZ3Yoc3Ry
dWN0IGludGVsX2F0b21pY19zdGF0ZSAqc3RhdGUpCiAJcmV0dXJuIHRydWU7CiB9CiAKLXN0YXRp
YyB1MTYgaW50ZWxfZ2V0X2RkYl9zaXplKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJp
diwKLQkJCSAgICAgIGNvbnN0IHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpjcnRjX3N0YXRlLAot
CQkJICAgICAgY29uc3QgdTY0IHRvdGFsX2RhdGFfcmF0ZSwKLQkJCSAgICAgIGNvbnN0IGludCBu
dW1fYWN0aXZlKQorLyoKKyAqIENhbGN1bGF0ZSBpbml0aWFsIERCdWYgc2xpY2Ugb2Zmc2V0LCBi
YXNlZCBvbiBzbGljZSBzaXplCisgKiBhbmQgbWFzayhpLmUgaWYgc2xpY2Ugc2l6ZSBpcyAxMDI0
IGFuZCBzZWNvbmQgc2xpY2UgaXMgZW5hYmxlZAorICogb2Zmc2V0IHdvdWxkIGJlIDEwMjQpCisg
Ki8KK3N0YXRpYyB1bnNpZ25lZCBpbnQKK2ljbF9nZXRfZmlyc3RfZGJ1Zl9zbGljZV9vZmZzZXQo
dTMyIGRidWZfc2xpY2VfbWFzaywKKwkJCQl1MzIgc2xpY2Vfc2l6ZSwKKwkJCQl1MzIgZGRiX3Np
emUpCit7CisJdW5zaWduZWQgaW50IG9mZnNldCA9IDA7CisKKwlpZiAoIWRidWZfc2xpY2VfbWFz
aykKKwkJcmV0dXJuIDA7CisKKwlvZmZzZXQgPSAoZmZzKGRidWZfc2xpY2VfbWFzaykgLSAxKSAq
IHNsaWNlX3NpemU7CisKKwlXQVJOX09OKG9mZnNldCA+PSBkZGJfc2l6ZSk7CisJcmV0dXJuIG9m
ZnNldDsKK30KKworc3RhdGljIHUxNiBpbnRlbF9nZXRfZGRiX3NpemUoc3RydWN0IGRybV9pOTE1
X3ByaXZhdGUgKmRldl9wcml2KQogewotCXN0cnVjdCBkcm1fYXRvbWljX3N0YXRlICpzdGF0ZSA9
IGNydGNfc3RhdGUtPnVhcGkuc3RhdGU7Ci0Jc3RydWN0IGludGVsX2F0b21pY19zdGF0ZSAqaW50
ZWxfc3RhdGUgPSB0b19pbnRlbF9hdG9taWNfc3RhdGUoc3RhdGUpOwogCXUxNiBkZGJfc2l6ZSA9
IElOVEVMX0lORk8oZGV2X3ByaXYpLT5kZGJfc2l6ZTsKIAogCVdBUk5fT04oZGRiX3NpemUgPT0g
MCk7CkBAIC0zODc0LDEyICszODkwLDEyIEBAIHN0YXRpYyB1MTYgaW50ZWxfZ2V0X2RkYl9zaXpl
KHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiwKIAlpZiAoSU5URUxfR0VOKGRldl9w
cml2KSA8IDExKQogCQlyZXR1cm4gZGRiX3NpemUgLSA0OyAvKiA0IGJsb2NrcyBmb3IgYnlwYXNz
IHBhdGggYWxsb2NhdGlvbiAqLwogCi0JaW50ZWxfc3RhdGUtPmVuYWJsZWRfZGJ1Zl9zbGljZXNf
bWFzayA9IEJJVChEQlVGX1MxKTsKLQlkZGJfc2l6ZSAvPSAyOwotCiAJcmV0dXJuIGRkYl9zaXpl
OwogfQogCitzdGF0aWMgdTggc2tsX2NvbXB1dGVfZGJ1Zl9zbGljZXMoY29uc3Qgc3RydWN0IGlu
dGVsX2NydGNfc3RhdGUgKmNydGNfc3RhdGUsCisJCQkJICB1MzIgYWN0aXZlX3BpcGVzKTsKKwog
c3RhdGljIHZvaWQKIHNrbF9kZGJfZ2V0X3BpcGVfYWxsb2NhdGlvbl9saW1pdHMoc3RydWN0IGRy
bV9pOTE1X3ByaXZhdGUgKmRldl9wcml2LAogCQkJCSAgIGNvbnN0IHN0cnVjdCBpbnRlbF9jcnRj
X3N0YXRlICpjcnRjX3N0YXRlLApAQCAtMzg5MSwxMCArMzkwNywxNyBAQCBza2xfZGRiX2dldF9w
aXBlX2FsbG9jYXRpb25fbGltaXRzKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiwK
IAlzdHJ1Y3QgaW50ZWxfYXRvbWljX3N0YXRlICppbnRlbF9zdGF0ZSA9IHRvX2ludGVsX2F0b21p
Y19zdGF0ZShzdGF0ZSk7CiAJc3RydWN0IGRybV9jcnRjICpmb3JfY3J0YyA9IGNydGNfc3RhdGUt
PnVhcGkuY3J0YzsKIAljb25zdCBzdHJ1Y3QgaW50ZWxfY3J0YyAqY3J0YzsKLQl1MzIgcGlwZV93
aWR0aCA9IDAsIHRvdGFsX3dpZHRoID0gMCwgd2lkdGhfYmVmb3JlX3BpcGUgPSAwOworCXUzMiBw
aXBlX3dpZHRoID0gMCwgdG90YWxfd2lkdGhfaW5fcmFuZ2UgPSAwLCB3aWR0aF9iZWZvcmVfcGlw
ZSA9IDA7CiAJZW51bSBwaXBlIGZvcl9waXBlID0gdG9faW50ZWxfY3J0Yyhmb3JfY3J0YyktPnBp
cGU7CiAJdTE2IGRkYl9zaXplOworCXUzMiBkZGJfcmFuZ2Vfc2l6ZTsKIAl1MzIgaTsKKwl1MzIg
ZGJ1Zl9zbGljZV9tYXNrOworCXUzMiBhY3RpdmVfcGlwZXM7CisJdTMyIG9mZnNldDsKKwl1MzIg
c2xpY2Vfc2l6ZTsKKwl1MzIgdG90YWxfc2xpY2VfbWFzazsKKwl1MzIgc3RhcnQsIGVuZDsKIAog
CWlmIChXQVJOX09OKCFzdGF0ZSkgfHwgIWNydGNfc3RhdGUtPmh3LmFjdGl2ZSkgewogCQlhbGxv
Yy0+c3RhcnQgPSAwOwpAQCAtMzkwNCwxMiArMzkyNywxNSBAQCBza2xfZGRiX2dldF9waXBlX2Fs
bG9jYXRpb25fbGltaXRzKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiwKIAl9CiAK
IAlpZiAoaW50ZWxfc3RhdGUtPmFjdGl2ZV9waXBlX2NoYW5nZXMpCi0JCSpudW1fYWN0aXZlID0g
aHdlaWdodDgoaW50ZWxfc3RhdGUtPmFjdGl2ZV9waXBlcyk7CisJCWFjdGl2ZV9waXBlcyA9IGlu
dGVsX3N0YXRlLT5hY3RpdmVfcGlwZXM7CiAJZWxzZQotCQkqbnVtX2FjdGl2ZSA9IGh3ZWlnaHQ4
KGRldl9wcml2LT5hY3RpdmVfcGlwZXMpOworCQlhY3RpdmVfcGlwZXMgPSBkZXZfcHJpdi0+YWN0
aXZlX3BpcGVzOworCisJKm51bV9hY3RpdmUgPSBod2VpZ2h0OChhY3RpdmVfcGlwZXMpOworCisJ
ZGRiX3NpemUgPSBpbnRlbF9nZXRfZGRiX3NpemUoZGV2X3ByaXYpOwogCi0JZGRiX3NpemUgPSBp
bnRlbF9nZXRfZGRiX3NpemUoZGV2X3ByaXYsIGNydGNfc3RhdGUsIHRvdGFsX2RhdGFfcmF0ZSwK
LQkJCQkgICAgICAqbnVtX2FjdGl2ZSk7CisJc2xpY2Vfc2l6ZSA9IGRkYl9zaXplIC8gSU5URUxf
SU5GTyhkZXZfcHJpdiktPm51bV9zdXBwb3J0ZWRfZGJ1Zl9zbGljZXM7CiAKIAkvKgogCSAqIElm
IHRoZSBzdGF0ZSBkb2Vzbid0IGNoYW5nZSB0aGUgYWN0aXZlIENSVEMncyBvciB0aGVyZSBpcyBu
bwpAQCAtMzkyOCwyMiArMzk1NCw3MSBAQCBza2xfZGRiX2dldF9waXBlX2FsbG9jYXRpb25fbGlt
aXRzKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiwKIAkJcmV0dXJuOwogCX0KIAor
CS8qCisJICogR2V0IGFsbG93ZWQgREJ1ZiBzbGljZXMgZm9yIGNvcnJlc3BvbmRlbnQgcGlwZSBh
bmQgcGxhdGZvcm0uCisJICovCisJZGJ1Zl9zbGljZV9tYXNrID0gc2tsX2NvbXB1dGVfZGJ1Zl9z
bGljZXMoY3J0Y19zdGF0ZSwgYWN0aXZlX3BpcGVzKTsKKworCURSTV9ERUJVR19LTVMoIkRCdWYg
c2xpY2UgbWFzayAleCBwaXBlICVkIGFjdGl2ZSBwaXBlcyAleFxuIiwKKwkJICAgICAgZGJ1Zl9z
bGljZV9tYXNrLAorCQkgICAgICBmb3JfcGlwZSwgYWN0aXZlX3BpcGVzKTsKKworCS8qCisJICog
RmlndXJlIG91dCBhdCB3aGljaCBEQnVmIHNsaWNlIHdlIHN0YXJ0LCBpLmUgaWYgd2Ugc3RhcnQg
YXQgRGJ1ZiBTMgorCSAqIGFuZCBzbGljZSBzaXplIGlzIDEwMjQsIHRoZSBvZmZzZXQgd291bGQg
YmUgMTAyNAorCSAqLworCW9mZnNldCA9IGljbF9nZXRfZmlyc3RfZGJ1Zl9zbGljZV9vZmZzZXQo
ZGJ1Zl9zbGljZV9tYXNrLAorCQkJCQkJIHNsaWNlX3NpemUsIGRkYl9zaXplKTsKKworCS8qCisJ
ICogRmlndXJlIG91dCB0b3RhbCBzaXplIG9mIGFsbG93ZWQgREJ1ZiBzbGljZXMsIHdoaWNoIGlz
IGJhc2ljYWxseQorCSAqIGEgbnVtYmVyIG9mIGFsbG93ZWQgc2xpY2VzIGZvciB0aGF0IHBpcGUg
bXVsdGlwbGllZCBieSBzbGljZSBzaXplLgorCSAqIEluc2lkZSBvZiB0aGlzCisJICogcmFuZ2Ug
ZGRiIGVudHJpZXMgYXJlIHN0aWxsIGFsbG9jYXRlZCBpbiBwcm9wb3J0aW9uIHRvIGRpc3BsYXkg
d2lkdGguCisJICovCisJZGRiX3JhbmdlX3NpemUgPSBod2VpZ2h0OChkYnVmX3NsaWNlX21hc2sp
ICogc2xpY2Vfc2l6ZTsKKwogCS8qCiAJICogV2F0ZXJtYXJrL2RkYiByZXF1aXJlbWVudCBoaWdo
bHkgZGVwZW5kcyB1cG9uIHdpZHRoIG9mIHRoZQogCSAqIGZyYW1lYnVmZmVyLCBTbyBpbnN0ZWFk
IG9mIGFsbG9jYXRpbmcgRERCIGVxdWFsbHkgYW1vbmcgcGlwZXMKIAkgKiBkaXN0cmlidXRlIERE
QiBiYXNlZCBvbiByZXNvbHV0aW9uL3dpZHRoIG9mIHRoZSBkaXNwbGF5LgogCSAqLworCXRvdGFs
X3NsaWNlX21hc2sgPSBkYnVmX3NsaWNlX21hc2s7CiAJZm9yX2VhY2hfbmV3X2ludGVsX2NydGNf
aW5fc3RhdGUoaW50ZWxfc3RhdGUsIGNydGMsIGNydGNfc3RhdGUsIGkpIHsKIAkJY29uc3Qgc3Ry
dWN0IGRybV9kaXNwbGF5X21vZGUgKmFkanVzdGVkX21vZGUgPQogCQkJJmNydGNfc3RhdGUtPmh3
LmFkanVzdGVkX21vZGU7CiAJCWVudW0gcGlwZSBwaXBlID0gY3J0Yy0+cGlwZTsKIAkJaW50IGhk
aXNwbGF5LCB2ZGlzcGxheTsKKwkJdTMyIHBpcGVfZGJ1Zl9zbGljZV9tYXNrOwogCi0JCWlmICgh
Y3J0Y19zdGF0ZS0+aHcuZW5hYmxlKQorCQlpZiAoIWNydGNfc3RhdGUtPmh3LmFjdGl2ZSkKKwkJ
CWNvbnRpbnVlOworCisJCXBpcGVfZGJ1Zl9zbGljZV9tYXNrID0gc2tsX2NvbXB1dGVfZGJ1Zl9z
bGljZXMoY3J0Y19zdGF0ZSwKKwkJCQkJCQkgICAgICAgYWN0aXZlX3BpcGVzKTsKKworCQkvKgor
CQkgKiBBY2NvcmRpbmcgdG8gQlNwZWMgcGlwZSBjYW4gc2hhcmUgb25lIGRidWYgc2xpY2Ugd2l0
aCBhbm90aGVyCisJCSAqIHBpcGVzIG9yIHBpcGUgY2FuIHVzZSBtdWx0aXBsZSBkYnVmcywgaW4g
Ym90aCBjYXNlcyB3ZQorCQkgKiBhY2NvdW50IGZvciBvdGhlciBwaXBlcyBvbmx5IGlmIHRoZXkg
aGF2ZSBleGFjdGx5IHNhbWUgbWFzay4KKwkJICogSG93ZXZlciB3ZSBuZWVkIHRvIGFjY291bnQg
aG93IG1hbnkgc2xpY2VzIHdlIHNob3VsZCBlbmFibGUKKwkJICogaW4gdG90YWwuCisJCSAqLwor
CQl0b3RhbF9zbGljZV9tYXNrIHw9IHBpcGVfZGJ1Zl9zbGljZV9tYXNrOworCisJCS8qCisJCSAq
IERvIG5vdCBhY2NvdW50IHBpcGVzIHVzaW5nIG90aGVyIHNsaWNlIHNldHMKKwkJICogbHVja2ls
eSBhcyBvZiBjdXJyZW50IEJTcGVjIHNsaWNlIHNldHMgZG8gbm90IHBhcnRpYWxseQorCQkgKiBp
bnRlcnNlY3QocGlwZXMgc2hhcmUgZWl0aGVyIHNhbWUgb25lIHNsaWNlIG9yIHNhbWUgc2xpY2Ug
c2V0CisJCSAqIGkuZSBubyBwYXJ0aWFsIGludGVyc2VjdGlvbiksIHNvIGl0IGlzIGVub3VnaCB0
byBjaGVjayBmb3IKKwkJICogZXF1YWxpdHkgZm9yIG5vdy4KKwkJICovCisJCWlmIChkYnVmX3Ns
aWNlX21hc2sgIT0gcGlwZV9kYnVmX3NsaWNlX21hc2spCiAJCQljb250aW51ZTsKIAogCQlkcm1f
bW9kZV9nZXRfaHZfdGltaW5nKGFkanVzdGVkX21vZGUsICZoZGlzcGxheSwgJnZkaXNwbGF5KTsK
LQkJdG90YWxfd2lkdGggKz0gaGRpc3BsYXk7CisKKwkJdG90YWxfd2lkdGhfaW5fcmFuZ2UgKz0g
aGRpc3BsYXk7CiAKIAkJaWYgKHBpcGUgPCBmb3JfcGlwZSkKIAkJCXdpZHRoX2JlZm9yZV9waXBl
ICs9IGhkaXNwbGF5OwpAQCAtMzk1MSw4ICs0MDI2LDIwIEBAIHNrbF9kZGJfZ2V0X3BpcGVfYWxs
b2NhdGlvbl9saW1pdHMoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2LAogCQkJcGlw
ZV93aWR0aCA9IGhkaXNwbGF5OwogCX0KIAotCWFsbG9jLT5zdGFydCA9IGRkYl9zaXplICogd2lk
dGhfYmVmb3JlX3BpcGUgLyB0b3RhbF93aWR0aDsKLQlhbGxvYy0+ZW5kID0gZGRiX3NpemUgKiAo
d2lkdGhfYmVmb3JlX3BpcGUgKyBwaXBlX3dpZHRoKSAvIHRvdGFsX3dpZHRoOworCWludGVsX3N0
YXRlLT5lbmFibGVkX2RidWZfc2xpY2VzX21hc2sgPSB0b3RhbF9zbGljZV9tYXNrOworCisJc3Rh
cnQgPSBkZGJfcmFuZ2Vfc2l6ZSAqIHdpZHRoX2JlZm9yZV9waXBlIC8gdG90YWxfd2lkdGhfaW5f
cmFuZ2U7CisJZW5kID0gZGRiX3JhbmdlX3NpemUgKgorCQkod2lkdGhfYmVmb3JlX3BpcGUgKyBw
aXBlX3dpZHRoKSAvIHRvdGFsX3dpZHRoX2luX3JhbmdlOworCisJYWxsb2MtPnN0YXJ0ID0gb2Zm
c2V0ICsgc3RhcnQ7CisJYWxsb2MtPmVuZCA9IG9mZnNldCArIGVuZDsKKworCURSTV9ERUJVR19L
TVMoIlBpcGUgJWQgZGRiICVkLSVkXG4iLCBmb3JfcGlwZSwKKwkJICAgICAgYWxsb2MtPnN0YXJ0
LCBhbGxvYy0+ZW5kKTsKKwlEUk1fREVCVUdfS01TKCJFbmFibGVkIGRkYiBzbGljZXMgbWFzayAl
eCBudW0gc3VwcG9ydGVkICVkXG4iLAorCQkgICAgICBpbnRlbF9zdGF0ZS0+ZW5hYmxlZF9kYnVm
X3NsaWNlc19tYXNrLAorCQkgICAgICBJTlRFTF9JTkZPKGRldl9wcml2KS0+bnVtX3N1cHBvcnRl
ZF9kYnVmX3NsaWNlcyk7CiB9CiAKIHN0YXRpYyBpbnQgc2tsX2NvbXB1dGVfd21fcGFyYW1zKGNv
bnN0IHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpjcnRjX3N0YXRlLApAQCAtNDEyMyw2ICs0MjEw
LDI2NyBAQCBza2xfcGxhbmVfZG93bnNjYWxlX2Ftb3VudChjb25zdCBzdHJ1Y3QgaW50ZWxfY3J0
Y19zdGF0ZSAqY3J0Y19zdGF0ZSwKIAlyZXR1cm4gbXVsX2ZpeGVkMTYoZG93bnNjYWxlX3csIGRv
d25zY2FsZV9oKTsKIH0KIAorc3RydWN0IGRidWZfc2xpY2VfY29uZl9lbnRyeSB7CisJdTggYWN0
aXZlX3BpcGVzOworCXU4IGRidWZfbWFza1tJOTE1X01BWF9QSVBFU107Cit9OworCisvKgorICog
VGFibGUgdGFrZW4gZnJvbSBCc3BlYyAxMjcxNgorICogUGlwZXMgZG8gaGF2ZSBzb21lIHByZWZl
cnJlZCBEQnVmIHNsaWNlIGFmZmluaXR5LAorICogcGx1cyB0aGVyZSBhcmUgc29tZSBoYXJkY29k
ZWQgcmVxdWlyZW1lbnRzIG9uIGhvdworICogdGhvc2Ugc2hvdWxkIGJlIGRpc3RyaWJ1dGVkIGZv
ciBtdWx0aXBpcGUgc2NlbmFyaW9zLgorICogRm9yIG1vcmUgREJ1ZiBzbGljZXMgYWxnb3JpdGht
IGNhbiBnZXQgZXZlbiBtb3JlIG1lc3N5CisgKiBhbmQgbGVzcyByZWFkYWJsZSwgc28gZGVjaWRl
ZCB0byB1c2UgYSB0YWJsZSBhbG1vc3QKKyAqIGFzIGlzIGZyb20gQlNwZWMgaXRzZWxmIC0gdGhh
dCB3YXkgaXQgaXMgYXQgbGVhc3QgZWFzaWVyCisgKiB0byBjb21wYXJlLCBjaGFuZ2UgYW5kIGNo
ZWNrLgorICovCitzdGF0aWMgc3RydWN0IGRidWZfc2xpY2VfY29uZl9lbnRyeSBpY2xfYWxsb3dl
ZF9kYnVmc1tdID0KKy8qIEF1dG9nZW5lcmF0ZWQgd2l0aCBpZ3QvdG9vbHMvaW50ZWxfZGJ1Zl9t
YXAgdG9vbDogKi8KK3sKKwl7CisJCS5hY3RpdmVfcGlwZXMgPSBCSVQoUElQRV9BKSwKKwkJewor
CQkJW1BJUEVfQV0gPSBCSVQoREJVRl9TMSkgfCBCSVQoREJVRl9TMikKKwkJfQorCX0sCisJewor
CQkuYWN0aXZlX3BpcGVzID0gQklUKFBJUEVfQiksCisJCXsKKwkJCVtQSVBFX0JdID0gQklUKERC
VUZfUzEpIHwgQklUKERCVUZfUzIpCisJCX0KKwl9LAorCXsKKwkJLmFjdGl2ZV9waXBlcyA9IEJJ
VChQSVBFX0EpIHwgQklUKFBJUEVfQiksCisJCXsKKwkJCVtQSVBFX0FdID0gQklUKERCVUZfUzEp
LAorCQkJW1BJUEVfQl0gPSBCSVQoREJVRl9TMikKKwkJfQorCX0sCisJeworCQkuYWN0aXZlX3Bp
cGVzID0gQklUKFBJUEVfQyksCisJCXsKKwkJCVtQSVBFX0NdID0gQklUKERCVUZfUzIpIHwgQklU
KERCVUZfUzEpCisJCX0KKwl9LAorCXsKKwkJLmFjdGl2ZV9waXBlcyA9IEJJVChQSVBFX0EpIHwg
QklUKFBJUEVfQyksCisJCXsKKwkJCVtQSVBFX0FdID0gQklUKERCVUZfUzEpLAorCQkJW1BJUEVf
Q10gPSBCSVQoREJVRl9TMikKKwkJfQorCX0sCisJeworCQkuYWN0aXZlX3BpcGVzID0gQklUKFBJ
UEVfQikgfCBCSVQoUElQRV9DKSwKKwkJeworCQkJW1BJUEVfQl0gPSBCSVQoREJVRl9TMSksCisJ
CQlbUElQRV9DXSA9IEJJVChEQlVGX1MyKQorCQl9CisJfSwKKwl7CisJCS5hY3RpdmVfcGlwZXMg
PSBCSVQoUElQRV9BKSB8IEJJVChQSVBFX0IpIHwgQklUKFBJUEVfQyksCisJCXsKKwkJCVtQSVBF
X0FdID0gQklUKERCVUZfUzEpLAorCQkJW1BJUEVfQl0gPSBCSVQoREJVRl9TMSksCisJCQlbUElQ
RV9DXSA9IEJJVChEQlVGX1MyKQorCQl9CisJfSwKK307CisKKy8qCisgKiBUYWJsZSB0YWtlbiBm
cm9tIEJzcGVjIDQ5MjU1CisgKiBQaXBlcyBkbyBoYXZlIHNvbWUgcHJlZmVycmVkIERCdWYgc2xp
Y2UgYWZmaW5pdHksCisgKiBwbHVzIHRoZXJlIGFyZSBzb21lIGhhcmRjb2RlZCByZXF1aXJlbWVu
dHMgb24gaG93CisgKiB0aG9zZSBzaG91bGQgYmUgZGlzdHJpYnV0ZWQgZm9yIG11bHRpcGlwZSBz
Y2VuYXJpb3MuCisgKiBGb3IgbW9yZSBEQnVmIHNsaWNlcyBhbGdvcml0aG0gY2FuIGdldCBldmVu
IG1vcmUgbWVzc3kKKyAqIGFuZCBsZXNzIHJlYWRhYmxlLCBzbyBkZWNpZGVkIHRvIHVzZSBhIHRh
YmxlIGFsbW9zdAorICogYXMgaXMgZnJvbSBCU3BlYyBpdHNlbGYgLSB0aGF0IHdheSBpdCBpcyBh
dCBsZWFzdCBlYXNpZXIKKyAqIHRvIGNvbXBhcmUsIGNoYW5nZSBhbmQgY2hlY2suCisgKi8KK3N0
YXRpYyBzdHJ1Y3QgZGJ1Zl9zbGljZV9jb25mX2VudHJ5IHRnbF9hbGxvd2VkX2RidWZzW10gPQor
LyogQXV0b2dlbmVyYXRlZCB3aXRoIGlndC90b29scy9pbnRlbF9kYnVmX21hcCB0b29sOiAqLwor
eworCXsKKwkJLmFjdGl2ZV9waXBlcyA9IEJJVChQSVBFX0EpLAorCQl7CisJCQlbUElQRV9BXSA9
IEJJVChEQlVGX1MxKSB8IEJJVChEQlVGX1MyKQorCQl9CisJfSwKKwl7CisJCS5hY3RpdmVfcGlw
ZXMgPSBCSVQoUElQRV9CKSwKKwkJeworCQkJW1BJUEVfQl0gPSBCSVQoREJVRl9TMSkgfCBCSVQo
REJVRl9TMikKKwkJfQorCX0sCisJeworCQkuYWN0aXZlX3BpcGVzID0gQklUKFBJUEVfQSkgfCBC
SVQoUElQRV9CKSwKKwkJeworCQkJW1BJUEVfQV0gPSBCSVQoREJVRl9TMiksCisJCQlbUElQRV9C
XSA9IEJJVChEQlVGX1MxKQorCQl9CisJfSwKKwl7CisJCS5hY3RpdmVfcGlwZXMgPSBCSVQoUElQ
RV9DKSwKKwkJeworCQkJW1BJUEVfQ10gPSBCSVQoREJVRl9TMikgfCBCSVQoREJVRl9TMSkKKwkJ
fQorCX0sCisJeworCQkuYWN0aXZlX3BpcGVzID0gQklUKFBJUEVfQSkgfCBCSVQoUElQRV9DKSwK
KwkJeworCQkJW1BJUEVfQV0gPSBCSVQoREJVRl9TMSksCisJCQlbUElQRV9DXSA9IEJJVChEQlVG
X1MyKQorCQl9CisJfSwKKwl7CisJCS5hY3RpdmVfcGlwZXMgPSBCSVQoUElQRV9CKSB8IEJJVChQ
SVBFX0MpLAorCQl7CisJCQlbUElQRV9CXSA9IEJJVChEQlVGX1MxKSwKKwkJCVtQSVBFX0NdID0g
QklUKERCVUZfUzIpCisJCX0KKwl9LAorCXsKKwkJLmFjdGl2ZV9waXBlcyA9IEJJVChQSVBFX0Ep
IHwgQklUKFBJUEVfQikgfCBCSVQoUElQRV9DKSwKKwkJeworCQkJW1BJUEVfQV0gPSBCSVQoREJV
Rl9TMSksCisJCQlbUElQRV9CXSA9IEJJVChEQlVGX1MxKSwKKwkJCVtQSVBFX0NdID0gQklUKERC
VUZfUzIpCisJCX0KKwl9LAorCXsKKwkJLmFjdGl2ZV9waXBlcyA9IEJJVChQSVBFX0QpLAorCQl7
CisJCQlbUElQRV9EXSA9IEJJVChEQlVGX1MyKSB8IEJJVChEQlVGX1MxKQorCQl9CisJfSwKKwl7
CisJCS5hY3RpdmVfcGlwZXMgPSBCSVQoUElQRV9BKSB8IEJJVChQSVBFX0QpLAorCQl7CisJCQlb
UElQRV9BXSA9IEJJVChEQlVGX1MxKSwKKwkJCVtQSVBFX0RdID0gQklUKERCVUZfUzIpCisJCX0K
Kwl9LAorCXsKKwkJLmFjdGl2ZV9waXBlcyA9IEJJVChQSVBFX0IpIHwgQklUKFBJUEVfRCksCisJ
CXsKKwkJCVtQSVBFX0JdID0gQklUKERCVUZfUzEpLAorCQkJW1BJUEVfRF0gPSBCSVQoREJVRl9T
MikKKwkJfQorCX0sCisJeworCQkuYWN0aXZlX3BpcGVzID0gQklUKFBJUEVfQSkgfCBCSVQoUElQ
RV9CKSB8IEJJVChQSVBFX0QpLAorCQl7CisJCQlbUElQRV9BXSA9IEJJVChEQlVGX1MxKSwKKwkJ
CVtQSVBFX0JdID0gQklUKERCVUZfUzEpLAorCQkJW1BJUEVfRF0gPSBCSVQoREJVRl9TMikKKwkJ
fQorCX0sCisJeworCQkuYWN0aXZlX3BpcGVzID0gQklUKFBJUEVfQykgfCBCSVQoUElQRV9EKSwK
KwkJeworCQkJW1BJUEVfQ10gPSBCSVQoREJVRl9TMSksCisJCQlbUElQRV9EXSA9IEJJVChEQlVG
X1MyKQorCQl9CisJfSwKKwl7CisJCS5hY3RpdmVfcGlwZXMgPSBCSVQoUElQRV9BKSB8IEJJVChQ
SVBFX0MpIHwgQklUKFBJUEVfRCksCisJCXsKKwkJCVtQSVBFX0FdID0gQklUKERCVUZfUzEpLAor
CQkJW1BJUEVfQ10gPSBCSVQoREJVRl9TMiksCisJCQlbUElQRV9EXSA9IEJJVChEQlVGX1MyKQor
CQl9CisJfSwKKwl7CisJCS5hY3RpdmVfcGlwZXMgPSBCSVQoUElQRV9CKSB8IEJJVChQSVBFX0Mp
IHwgQklUKFBJUEVfRCksCisJCXsKKwkJCVtQSVBFX0JdID0gQklUKERCVUZfUzEpLAorCQkJW1BJ
UEVfQ10gPSBCSVQoREJVRl9TMiksCisJCQlbUElQRV9EXSA9IEJJVChEQlVGX1MyKQorCQl9CisJ
fSwKKwl7CisJCS5hY3RpdmVfcGlwZXMgPQorCQkJQklUKFBJUEVfQSkgfCBCSVQoUElQRV9CKSB8
IEJJVChQSVBFX0MpIHwgQklUKFBJUEVfRCksCisJCXsKKwkJCVtQSVBFX0FdID0gQklUKERCVUZf
UzEpLAorCQkJW1BJUEVfQl0gPSBCSVQoREJVRl9TMSksCisJCQlbUElQRV9DXSA9IEJJVChEQlVG
X1MyKSwKKwkJCVtQSVBFX0RdID0gQklUKERCVUZfUzIpCisJCX0KKwl9LAorfTsKKworc3RhdGlj
IHU4IGNvbXB1dGVfZGJ1Zl9zbGljZXMoZW51bSBwaXBlIHBpcGUsCisJCQkgICAgICB1MzIgYWN0
aXZlX3BpcGVzLAorCQkJICAgICAgY29uc3Qgc3RydWN0IGRidWZfc2xpY2VfY29uZl9lbnRyeSAq
ZGJ1Zl9zbGljZXMsCisJCQkgICAgICBpbnQgc2l6ZSkKK3sKKwlpbnQgaTsKKworCWZvciAoaSA9
IDA7IGkgPCBzaXplOyBpKyspIHsKKwkJaWYgKGRidWZfc2xpY2VzW2ldLmFjdGl2ZV9waXBlcyA9
PSBhY3RpdmVfcGlwZXMpCisJCQlyZXR1cm4gZGJ1Zl9zbGljZXNbaV0uZGJ1Zl9tYXNrW3BpcGVd
OworCX0KKwlyZXR1cm4gMDsKK30KKworLyoKKyAqIFRoaXMgZnVuY3Rpb24gZmluZHMgYW4gZW50
cnkgd2l0aCBzYW1lIGVuYWJsZWQgcGlwZSBjb25maWd1cmF0aW9uIGFuZAorICogcmV0dXJucyBj
b3JyZXNwb25kZW50IERCdWYgc2xpY2UgbWFzayBhcyBzdGF0ZWQgaW4gQlNwZWMgZm9yIHBhcnRp
Y3VsYXIKKyAqIHBsYXRmb3JtLgorICovCitzdGF0aWMgdTMyIGljbF9jb21wdXRlX2RidWZfc2xp
Y2VzKGVudW0gcGlwZSBwaXBlLAorCQkJCSAgIHUzMiBhY3RpdmVfcGlwZXMsCisJCQkJICAgY29u
c3Qgc3RydWN0IGludGVsX2NydGNfc3RhdGUgKmNydGNfc3RhdGUpCit7CisJLyoKKwkgKiBGSVhN
RTogRm9yIElDTCB0aGlzIGlzIHN0aWxsIGEgYml0IHVuY2xlYXIgYXMgcHJldiBCU3BlYyByZXZp
c2lvbgorCSAqIHJlcXVpcmVkIGNhbGN1bGF0aW5nICJwaXBlIHJhdGlvIiBpbiBvcmRlciB0byBk
ZXRlcm1pbmUKKwkgKiBpZiBvbmUgb3IgdHdvIHNsaWNlcyBjYW4gYmUgdXNlZCBmb3Igc2luZ2xl
IHBpcGUgY29uZmlndXJhdGlvbnMKKwkgKiBhcyBhZGRpdGlvbmFsIGNvbnN0cmFpbnQgdG8gdGhl
IGV4aXN0aW5nIHRhYmxlLgorCSAqIEhvd2V2ZXIgYmFzZWQgb24gcmVjZW50IGluZm8sIGl0IHNo
b3VsZCBiZSBub3QgInBpcGUgcmF0aW8iCisJICogYnV0IHJhdGhlciByYXRpbyBiZXR3ZWVuIHBp
eGVsX3JhdGUgYW5kIGNkY2xrIHdpdGggYWRkaXRpb25hbAorCSAqIGNvbnN0YW50cywgc28gZm9y
IG5vdyB3ZSBhcmUgdXNpbmcgb25seSB0YWJsZSB1bnRpbCB0aGlzIGlzCisJICogY2xhcmlmaWVk
LiBBbHNvIHRoaXMgaXMgdGhlIHJlYXNvbiB3aHkgY3J0Y19zdGF0ZSBwYXJhbSBpcworCSAqIHN0
aWxsIGhlcmUgLSB3ZSB3aWxsIG5lZWQgaXQgb25jZSB0aG9zZSBhZGRpdGlvbmFsIGNvbnN0cmFp
bnRzCisJICogcG9wIHVwLgorCSAqLworCXJldHVybiBjb21wdXRlX2RidWZfc2xpY2VzKHBpcGUs
IGFjdGl2ZV9waXBlcywKKwkJCQkgICBpY2xfYWxsb3dlZF9kYnVmcywKKwkJCQkgICBBUlJBWV9T
SVpFKGljbF9hbGxvd2VkX2RidWZzKSk7Cit9CisKK3N0YXRpYyB1MzIgdGdsX2NvbXB1dGVfZGJ1
Zl9zbGljZXMoZW51bSBwaXBlIHBpcGUsCisJCQkJICAgdTMyIGFjdGl2ZV9waXBlcywKKwkJCQkg
ICBjb25zdCBzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqY3J0Y19zdGF0ZSkKK3sKKwlyZXR1cm4g
Y29tcHV0ZV9kYnVmX3NsaWNlcyhwaXBlLCBhY3RpdmVfcGlwZXMsCisJCQkJICAgdGdsX2FsbG93
ZWRfZGJ1ZnMsCisJCQkJICAgQVJSQVlfU0laRSh0Z2xfYWxsb3dlZF9kYnVmcykpOworfQorCitz
dGF0aWMgdTggc2tsX2NvbXB1dGVfZGJ1Zl9zbGljZXMoY29uc3Qgc3RydWN0IGludGVsX2NydGNf
c3RhdGUgKmNydGNfc3RhdGUsCisJCQkJICB1MzIgYWN0aXZlX3BpcGVzKQoreworCXN0cnVjdCBp
bnRlbF9jcnRjICpjcnRjID0gdG9faW50ZWxfY3J0YyhjcnRjX3N0YXRlLT51YXBpLmNydGMpOwor
CXN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiA9IHRvX2k5MTUoY3J0Yy0+YmFzZS5k
ZXYpOworCWVudW0gcGlwZSBwaXBlID0gY3J0Yy0+cGlwZTsKKworCWlmIChJU19HRU4oZGV2X3By
aXYsIDEyKSkKKwkJcmV0dXJuIHRnbF9jb21wdXRlX2RidWZfc2xpY2VzKHBpcGUsCisJCQkJCSAg
ICAgICBhY3RpdmVfcGlwZXMsCisJCQkJCSAgICAgICBjcnRjX3N0YXRlKTsKKwllbHNlIGlmIChJ
U19HRU4oZGV2X3ByaXYsIDExKSkKKwkJcmV0dXJuIGljbF9jb21wdXRlX2RidWZfc2xpY2VzKHBp
cGUsCisJCQkJCSAgICAgICBhY3RpdmVfcGlwZXMsCisJCQkJCSAgICAgICBjcnRjX3N0YXRlKTsK
KwkvKgorCSAqIEZvciBhbnl0aGluZyBlbHNlIGp1c3QgcmV0dXJuIG9uZSBzbGljZSB5ZXQuCisJ
ICogU2hvdWxkIGJlIGV4dGVuZGVkIGZvciBvdGhlciBwbGF0Zm9ybXMuCisJICovCisJcmV0dXJu
IEJJVChEQlVGX1MxKTsKK30KKwogc3RhdGljIHU2NAogc2tsX3BsYW5lX3JlbGF0aXZlX2RhdGFf
cmF0ZShjb25zdCBzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqY3J0Y19zdGF0ZSwKIAkJCSAgICAg
Y29uc3Qgc3RydWN0IGludGVsX3BsYW5lX3N0YXRlICpwbGFuZV9zdGF0ZSwKZGlmZiAtLWdpdCBh
L2RyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX3BtLmggYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9p
bnRlbF9wbS5oCmluZGV4IGQ2MGE4NTQyMWM1YS4uZjg1M2JjMTg0ZGQ2IDEwMDY0NAotLS0gYS9k
cml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9wbS5oCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1
L2ludGVsX3BtLmgKQEAgLTU3LDYgKzU3LDggQEAgYm9vbCBpbGtfZGlzYWJsZV9scF93bShzdHJ1
Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYpOwogdm9pZCBpbnRlbF9pbml0X2lwYyhzdHJ1
Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYpOwogdm9pZCBpbnRlbF9lbmFibGVfaXBjKHN0
cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdik7CiAKK2ludCBpbnRlbF9kYnVmX21heF9z
bGljZXMoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2KTsKKwogYm9vbCBpbnRlbF9z
ZXRfbWVtb3J5X2N4c3Ioc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2LCBib29sIGVu
YWJsZSk7CiAKICNlbmRpZiAvKiBfX0lOVEVMX1BNX0hfXyAqLwotLSAKMi4yNC4xLjQ4NS5nYWQw
NWEzZDhlNQoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18K
SW50ZWwtZ2Z4IG1haWxpbmcgbGlzdApJbnRlbC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0
dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vaW50ZWwtZ2Z4Cg==

Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 80F0DF3D14
	for <lists+intel-gfx@lfdr.de>; Fri,  8 Nov 2019 01:51:36 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 13EA26F81F;
	Fri,  8 Nov 2019 00:51:34 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga14.intel.com (mga14.intel.com [192.55.52.115])
 by gabe.freedesktop.org (Postfix) with ESMTPS id C08326F81D
 for <intel-gfx@lists.freedesktop.org>; Fri,  8 Nov 2019 00:51:32 +0000 (UTC)
X-Amp-Result: UNKNOWN
X-Amp-Original-Verdict: FILE UNKNOWN
X-Amp-File-Uploaded: False
Received: from fmsmga001.fm.intel.com ([10.253.24.23])
 by fmsmga103.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 07 Nov 2019 16:51:32 -0800
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.68,279,1569308400"; d="scan'208";a="213137505"
Received: from mdroper-desk1.fm.intel.com (HELO
 mdroper-desk1.amr.corp.intel.com) ([10.1.27.135])
 by fmsmga001.fm.intel.com with ESMTP; 07 Nov 2019 16:51:32 -0800
Date: Thu, 7 Nov 2019 16:52:34 -0800
From: Matt Roper <matthew.d.roper@intel.com>
To: Stanislav Lisovskiy <stanislav.lisovskiy@intel.com>
Message-ID: <20191108005234.GH11795@mdroper-desk1.amr.corp.intel.com>
References: <20191107212234.21815-1-stanislav.lisovskiy@intel.com>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <20191107212234.21815-1-stanislav.lisovskiy@intel.com>
User-Agent: Mutt/1.12.1 (2019-06-15)
Subject: Re: [Intel-gfx] [PATCH v5] drm/i915: Enable second dbuf slice for
 ICL and TGL
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: intel-gfx@lists.freedesktop.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

T24gVGh1LCBOb3YgMDcsIDIwMTkgYXQgMTE6MjI6MzRQTSArMDIwMCwgU3RhbmlzbGF2IExpc292
c2tpeSB3cm90ZToKPiBBbHNvIGltcGxlbWVudGVkIGFsZ29yaXRobSBmb3IgY2hvb3NpbmcgREJ1
ZiBzbGljZSBjb25maWd1cmF0aW9uCj4gYmFzZWQgb24gYWN0aXZlIHBpcGVzLCBwaXBlIHJhdGlv
IGFzIHN0YXRlZCBpbiBCU3BlYyAxMjcxNi4KPiAKPiBOb3cgcGlwZSBhbGxvY2F0aW9uIHN0aWxs
IHN0YXlzIHByb3BvcnRpb25hbCB0byBwaXBlIHdpZHRoIGFzIGJlZm9yZSwKPiBob3dldmVyIHdp
dGhpbiBhbGxvd2VkIERCdWYgc2xpY2UgZm9yIHRoaXMgcGFydGljdWxhciBjb25maWd1cmF0aW9u
Lgo+IAo+IHYyOiBSZW1vdmUgdW5uZWVkZWQgY2hlY2sgZnJvbSBjb21taXQgYXMgZGRiIGVuYWJs
ZWQgc2xpY2VzIG1pZ2h0Cj4gICAgIG5vdyBkaWZmZXIgZnJvbSBodyBzdGF0ZS4KPiAKPiB2Mzog
LSBBZGRlZCBuZXcgZmllbGQgInN1cHBvcnRlZF9zbGljZXMiIHRvIGRkYiB0byBzZXBhcmF0ZSBt
YXgKPiAgICAgICBzdXBwb3J0ZWQgc2xpY2VzIHZzIGN1cnJlbnRseSBlbmFibGVkLCB0byBhdm9p
ZCBjb25mdXNpb24uCj4gICAgIC0gUmVtb3ZlZCBvYnNvbGV0ZSBjb21tZW50cyBhbmQgY29kZSBy
ZWxhdGVkIHRvIERCdWYoTWF0dGhldyBSb3BlcikuCj4gICAgIC0gU29tZSBjb2RlIHN0eWxlIGFu
ZCBsb25nIGxpbmUgcmVtb3ZhbChNYXR0aGV3IFJvcGVyKS4KPiAgICAgLSBBZGRlZCBXQVJOX09O
IHRvIG5ldyBkZGIgcmFuZ2Ugb2Zmc2V0IGNhbGMgZnVuY3Rpb24oTWF0dGhldyBSb3BlcikuCj4g
ICAgIC0gUmVtb3ZlZCBwbGF0Zm9ybSBzcGVjaWZpYyBjYWxsIHRvIGNhbGMgcGlwZSByYXRpbyBm
cm9tIGRkYgo+ICAgICAgIGFsbG9jYXRpb24gZnVuY3Rpb24gYW5kIGZpeGVkIHRoZSByZXR1cm4g
dmFsdWUoTWF0dGhldyBSb3BlcikKPiAgICAgLSBSZWZhY3RvcmVkIERCVUYgc2xpY2UgYWxsb2Nh
dGlvbiB0YWJsZSB0byBpbXByb3ZlIHJlYWRhYmlsaXR5Cj4gICAgIC0gQWRkZWQgREJVRiBzbGlj
ZSBhbGxvY2F0aW9uIGZvciBUR0wgYXMgd2VsbC4KPiAgICAgLSBJQ0woaG93ZXZlciBub3QgVEdM
KSBzZWVtcyB0byB2b2x1bnRhcmlseSBlbmFibGUgc2Vjb25kIERCdWYgc2xpY2UKPiAgICAgICBh
ZnRlciBwbSBzdXNwZW5kL3Jlc3VtZSBjYXVzaW5nIGEgbWlzbWF0Y2ggZmFpbHVyZSwgYmVjYXVz
ZSB3ZQo+ICAgICAgIHVwZGF0ZSBEQnVmIHNsaWNlcyBvbmx5IGlmIHdlIGRvIGEgbW9kZXNldCwg
aG93ZXZlciB0aGlzIGNoZWNrCj4gICAgICAgaXMgZG9uZSBhbHdheXMuIEZpeGVkIGl0IHRvIGJl
IGRvbmUgb25seSB3aGVuIG1vZGVzZXQgZm9yIElDTC4KPiAKPiB2NDogLSBOb3cgZW5hYmxlZCBz
bGljZXMgaXMgbm90IGFjdHVhbGx5IGEgbnVtYmVyLCBidXQgYSBiaXRtYXNrLAo+ICAgICAgIGJl
Y2F1c2Ugd2UgbWlnaHQgbmVlZCB0byBlbmFibGUgc2Vjb25kIHNsaWNlIG9ubHkgYW5kIG51bWJl
cgo+ICAgICAgIG9mIHNsaWNlcyB3b3VsZCBzdGlsbCAxIGFuZCB0aGF0IGN1cnJlbnQgY29kZSBk
b2Vzbid0IGFsbG93Lgo+ICAgICAtIFJlbW92ZSByZWR1bmRhbnQgZHVwbGljYXRlIGNvZGUgdG8g
aGF2ZSBzb21lIHVuaWZpZWQgd2F5IG9mCj4gICAgICAgZW5hYmxpbmcgZGJ1ZiBzbGljZXMgaW5z
dGVhZCBvZiBoYXJkY29kaW5nLgo+IAo+IHY1OiAtIEZpeCBmYWlsaW5nIGdlbjlfYXNzZXJ0X2Ri
dWZfZW5hYmxlZCBhcyBpdCB3YXMgbmFpdmVseSB0aGlua2luZwo+ICAgICAgIHRoYXQgd2UgaGF2
ZSBvbmx5IG9uZSBEQlVGX0NUTCBzbGljZS4gTm93IGFub3RoZXIgdmVyc2lvbiBmb3IKPiAgICAg
ICBnZW4xMSB3aWxsIGNoZWNrIGJvdGggc2xpY2VzIGFzIG9ubHkgc2Vjb25kIG9uZSBjYW4gYmUg
ZW5hYmxlZCwKPiAgICAgICB0byBrZWVwIENJIGhhcHB5Lgo+IAo+IFNpZ25lZC1vZmYtYnk6IFN0
YW5pc2xhdiBMaXNvdnNraXkgPHN0YW5pc2xhdi5saXNvdnNraXlAaW50ZWwuY29tPgo+IENjOiBN
YXR0aGV3IFJvcGVyIDxtYXR0aGV3LmQucm9wZXJAaW50ZWwuY29tPgo+IENjOiBWaWxsZSBTeXJq
w6Rsw6QgPHZpbGxlLnN5cmphbGFAaW50ZWwuY29tPgo+IENjOiBKYW1lcyBBdXNtdXMgPGphbWVz
LmF1c211c0BpbnRlbC5jb20+Cj4gLS0tCj4gIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkv
aW50ZWxfZGlzcGxheS5jICB8ICAyMiArLQo+ICAuLi4vZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9k
aXNwbGF5X3Bvd2VyLmMgICAgfCAxMDMgKysrLS0KPiAgLi4uL2RybS9pOTE1L2Rpc3BsYXkvaW50
ZWxfZGlzcGxheV9wb3dlci5oICAgIHwgICAyICsKPiAgZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkx
NV9kcnYuYyAgICAgICAgICAgICAgIHwgICA1ICsKPiAgZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkx
NV9kcnYuaCAgICAgICAgICAgICAgIHwgICAzICstCj4gIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2k5
MTVfcmVnLmggICAgICAgICAgICAgICB8ICAgMiArCj4gIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2lu
dGVsX3BtLmMgICAgICAgICAgICAgICB8IDM5MSArKysrKysrKysrKysrKysrLS0KPiAgNyBmaWxl
cyBjaGFuZ2VkLCA0NDEgaW5zZXJ0aW9ucygrKSwgODcgZGVsZXRpb25zKC0pCj4gCj4gZGlmZiAt
LWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheS5jIGIvZHJp
dmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5LmMKPiBpbmRleCA4NzZmYzI1
OTY4YmYuLmVlNjNkYTE4NzcyYSAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9k
aXNwbGF5L2ludGVsX2Rpc3BsYXkuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3Bs
YXkvaW50ZWxfZGlzcGxheS5jCj4gQEAgLTEzMzg2LDggKzEzMzg2LDkgQEAgc3RhdGljIHZvaWQg
dmVyaWZ5X3dtX3N0YXRlKHN0cnVjdCBpbnRlbF9jcnRjICpjcnRjLAo+ICAJc3dfZGRiID0gJmRl
dl9wcml2LT53bS5za2xfaHcuZGRiOwo+ICAKPiAgCWlmIChJTlRFTF9HRU4oZGV2X3ByaXYpID49
IDExICYmCj4gLQkgICAgaHctPmRkYi5lbmFibGVkX3NsaWNlcyAhPSBzd19kZGItPmVuYWJsZWRf
c2xpY2VzKQo+IC0JCURSTV9FUlJPUigibWlzbWF0Y2ggaW4gREJVRiBTbGljZXMgKGV4cGVjdGVk
ICV1LCBnb3QgJXUpXG4iLAo+ICsJICAgIGh3LT5kZGIuZW5hYmxlZF9zbGljZXMgIT0gc3dfZGRi
LT5lbmFibGVkX3NsaWNlcyAmJgo+ICsJICAgIG5lZWRzX21vZGVzZXQobmV3X2NydGNfc3RhdGUp
KQo+ICsJCURSTV9FUlJPUigibWlzbWF0Y2ggaW4gREJVRiBTbGljZXMgKGV4cGVjdGVkICV4LCBn
b3QgJXgpXG4iLAo+ICAJCQkgIHN3X2RkYi0+ZW5hYmxlZF9zbGljZXMsCj4gIAkJCSAgaHctPmRk
Yi5lbmFibGVkX3NsaWNlcyk7CgpJcyB0aGlzIHJlbGF0ZWQgdG8geW91ciBjaGFuZ2Vsb2cgY29t
bWVudCBhYm92ZT8KCiAgICAtIElDTChob3dldmVyIG5vdCBUR0wpIHNlZW1zIHRvIHZvbHVudGFy
aWx5IGVuYWJsZSBzZWNvbmQgREJ1ZiBzbGljZQogICAgICBhZnRlciBwbSBzdXNwZW5kL3Jlc3Vt
ZSBjYXVzaW5nIGEgbWlzbWF0Y2ggZmFpbHVyZSwgYmVjYXVzZSB3ZQogICAgICB1cGRhdGUgREJ1
ZiBzbGljZXMgb25seSBpZiB3ZSBkbyBhIG1vZGVzZXQsIGhvd2V2ZXIgdGhpcyBjaGVjawogICAg
ICBpcyBkb25lIGFsd2F5cy4gRml4ZWQgaXQgdG8gYmUgZG9uZSBvbmx5IHdoZW4gbW9kZXNldCBm
b3IgSUNMLgoKSXQgbG9va3MgbGlrZSB5b3UgYWRkZWQgYW4gaWNsX2RidWZfc2xpY2VzX3Jlc3Rv
cmUoKSBmdW5jdGlvbiB0aGF0IHRyaWVzCnRvIHNhbml0aXplIHRoZSBkYnVmIHByb2dyYW1taW5n
IG9uIHJlc3VtZTsgaXMgdGhhdCBub3Qgc3VmZmljaWVudCB0bwphZGRyZXNzIHRoaXM/Cgo+ICAK
PiBAQCAtMTQ2MTMsMTYgKzE0NjE0LDIxIEBAIHN0YXRpYyB2b2lkIHNrbF9jb21taXRfbW9kZXNl
dF9lbmFibGVzKHN0cnVjdCBpbnRlbF9hdG9taWNfc3RhdGUgKnN0YXRlKQo+ICAJaW50IGk7Cj4g
IAl1OCBod19lbmFibGVkX3NsaWNlcyA9IGRldl9wcml2LT53bS5za2xfaHcuZGRiLmVuYWJsZWRf
c2xpY2VzOwo+ICAJdTggcmVxdWlyZWRfc2xpY2VzID0gc3RhdGUtPndtX3Jlc3VsdHMuZGRiLmVu
YWJsZWRfc2xpY2VzOwo+IC0Jc3RydWN0IHNrbF9kZGJfZW50cnkgZW50cmllc1tJOTE1X01BWF9Q
SVBFU10gPSB7fTsKPiArCXU4IHNsaWNlc191bmlvbiA9IGh3X2VuYWJsZWRfc2xpY2VzIHwgcmVx
dWlyZWRfc2xpY2VzOwo+ICsJdTggc2xpY2VzX2ludGVyc2VjdGlvbiA9IHNsaWNlc191bmlvbiAm
IHJlcXVpcmVkX3NsaWNlczsKCklzbid0IHRoaXMgdGhlIHNhbWUgYXMgInNsaWNlc19pbnRlcnNl
Y3Rpb24gPSByZXF1aXJlZF9zbGljZXM/IgoKPiAgCj4gKwlzdHJ1Y3Qgc2tsX2RkYl9lbnRyeSBl
bnRyaWVzW0k5MTVfTUFYX1BJUEVTXSA9IHt9OwoKRGlkIHlvdSBtZWFuIHRvIG1vdmUgdGhpcyBs
aW5lIChhbmQgYWRkIGEgc3BhY2UgYmVmb3JlIGl0IGJ1dCBub3QKYWZ0ZXIpPwoKPiAgCWZvcl9l
YWNoX29sZG5ld19pbnRlbF9jcnRjX2luX3N0YXRlKHN0YXRlLCBjcnRjLCBvbGRfY3J0Y19zdGF0
ZSwgbmV3X2NydGNfc3RhdGUsIGkpCj4gIAkJLyogaWdub3JlIGFsbG9jYXRpb25zIGZvciBjcnRj
J3MgdGhhdCBoYXZlIGJlZW4gdHVybmVkIG9mZi4gKi8KPiAgCQlpZiAobmV3X2NydGNfc3RhdGUt
Pmh3LmFjdGl2ZSkKPiAgCQkJZW50cmllc1tpXSA9IG9sZF9jcnRjX3N0YXRlLT53bS5za2wuZGRi
Owo+ICAKPiAtCS8qIElmIDJuZCBEQnVmIHNsaWNlIHJlcXVpcmVkLCBlbmFibGUgaXQgaGVyZSAq
Lwo+IC0JaWYgKElOVEVMX0dFTihkZXZfcHJpdikgPj0gMTEgJiYgcmVxdWlyZWRfc2xpY2VzID4g
aHdfZW5hYmxlZF9zbGljZXMpCj4gLQkJaWNsX2RidWZfc2xpY2VzX3VwZGF0ZShkZXZfcHJpdiwg
cmVxdWlyZWRfc2xpY2VzKTsKPiArCURSTV9ERUJVR19LTVMoIkRCdWYgcmVxIHNsaWNlcyAlZCBo
dyBzbGljZXMgJWRcbiIsCj4gKwkJICAgICAgcmVxdWlyZWRfc2xpY2VzLCBod19lbmFibGVkX3Ns
aWNlcyk7Cj4gKwo+ICsJLyogSWYgc29tZSBvdGhlciBEQnVmIHNsaWNlIHJlcXVpcmVkLCBlbmFi
bGUgaXQgaGVyZSAqLwoKTWlub3Igbml0cGljaywgYnV0IGl0IG1pZ2h0IGJlIG1vcmUgY2xlYXIg
dG8gd3JpdGUgdGhpcyBhcyAiRW5hYmxlIGRidWYKc2xpY2VzIG5lY2Vzc2FyeSB0byBzdXBwb3J0
IGJvdGggdGhlIG9sZCBjb25maWd1cmF0aW9uIGFuZCBuZXcKY29uZmlndXJhdGlvbi4iICBJLmUu
LCB0aGF0IGhlbHBzIGNsYXJpZnkgd2h5IHdlIGRvbid0IGp1c3QganVtcApzdHJhaWdodCB0byB0
aGUgZmluYWwgZGJ1ZiBjb25maWd1cmF0aW9uIGhlcmUuCgo+ICsJaWYgKElOVEVMX0dFTihkZXZf
cHJpdikgPj0gMTEgJiYgcmVxdWlyZWRfc2xpY2VzICE9IGh3X2VuYWJsZWRfc2xpY2VzKQo+ICsJ
CWljbF9kYnVmX3NsaWNlc191cGRhdGUoZGV2X3ByaXYsIHNsaWNlc191bmlvbik7Cj4gIAo+ICAJ
LyoKPiAgCSAqIFdoZW5ldmVyIHRoZSBudW1iZXIgb2YgYWN0aXZlIHBpcGVzIGNoYW5nZXMsIHdl
IG5lZWQgdG8gbWFrZSBzdXJlIHdlCj4gQEAgLTE0NjgyLDggKzE0Njg4LDggQEAgc3RhdGljIHZv
aWQgc2tsX2NvbW1pdF9tb2Rlc2V0X2VuYWJsZXMoc3RydWN0IGludGVsX2F0b21pY19zdGF0ZSAq
c3RhdGUpCj4gIAl9IHdoaWxlIChwcm9ncmVzcyk7Cj4gIAo+ICAJLyogSWYgMm5kIERCdWYgc2xp
Y2UgaXMgbm8gbW9yZSByZXF1aXJlZCBkaXNhYmxlIGl0ICovCgpBIGNvcnJlc3BvbmRpbmcgY2hh
bmdlIGNvdWxkIGJlIG1hZGUgdG8gdGhpcyBjb21tZW50IChhbmQgcmVtb3ZpbmcgdGhlCiIybmQi
IHRlcm1pbm9sb2d5IHdvdWxkIGZ1dHVyZS1wcm9vZiB0aGUgY29tbWVudCBpbiBjYXNlIGEgZnV0
dXJlCnBsYXRmb3JtIGhhcyBtb3JlIHRoYW4ganVzdCB0d28gc2xpY2VzKS4KCj4gLQlpZiAoSU5U
RUxfR0VOKGRldl9wcml2KSA+PSAxMSAmJiByZXF1aXJlZF9zbGljZXMgPCBod19lbmFibGVkX3Ns
aWNlcykKPiAtCQlpY2xfZGJ1Zl9zbGljZXNfdXBkYXRlKGRldl9wcml2LCByZXF1aXJlZF9zbGlj
ZXMpOwo+ICsJaWYgKElOVEVMX0dFTihkZXZfcHJpdikgPj0gMTEgJiYgcmVxdWlyZWRfc2xpY2Vz
ICE9IGh3X2VuYWJsZWRfc2xpY2VzKQo+ICsJCWljbF9kYnVmX3NsaWNlc191cGRhdGUoZGV2X3By
aXYsIHNsaWNlc19pbnRlcnNlY3Rpb24pOwoKQXMgbm90ZWQgYWJvdmUsIHNsaWNlc19pbnRlcnNl
Y3Rpb24gaXMgZXF1aXZhbGVudCB0byByZXF1aXJlZF9zbGljZXMuCgo+ICB9Cj4gIAo+ICBzdGF0
aWMgdm9pZCBpbnRlbF9hdG9taWNfaGVscGVyX2ZyZWVfc3RhdGUoc3RydWN0IGRybV9pOTE1X3By
aXZhdGUgKmRldl9wcml2KQo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNw
bGF5L2ludGVsX2Rpc3BsYXlfcG93ZXIuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkv
aW50ZWxfZGlzcGxheV9wb3dlci5jCj4gaW5kZXggY2UxYjY0ZjRkZDQ0Li5jMDRlYmIxOWJiNGYg
MTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5
X3Bvd2VyLmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3Bs
YXlfcG93ZXIuYwo+IEBAIC0xMDQwLDYgKzEwNDAsMjEgQEAgc3RhdGljIHZvaWQgZ2VuOV9hc3Nl
cnRfZGJ1Zl9lbmFibGVkKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdikKPiAgCSAg
ICAgIlVuZXhwZWN0ZWQgREJ1ZiBwb3dlciBwb3dlciBzdGF0ZSAoMHglMDh4KVxuIiwgdG1wKTsK
PiAgfQo+ICAKPiArc3RhdGljIHZvaWQgZ2VuMTFfYXNzZXJ0X2RidWZfZW5hYmxlZChzdHJ1Y3Qg
ZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYpCj4gK3sKPiArCXUzMiB0bXAgPSBJOTE1X1JFQUQo
REJVRl9DVExfUzEpOwo+ICsJdTMyIHRtcDIgPSBJOTE1X1JFQUQoREJVRl9DVExfUzIpOwo+ICsJ
Ym9vbCBzMV9lbmFibGVkID0gKHRtcCAmIChEQlVGX1BPV0VSX1NUQVRFIHwgREJVRl9QT1dFUl9S
RVFVRVNUKSkgPT0KPiArCQkJICAoREJVRl9QT1dFUl9TVEFURSB8IERCVUZfUE9XRVJfUkVRVUVT
VCk7Cj4gKwo+ICsJYm9vbCBzMl9lbmFibGVkID0gKHRtcDIgJiAoREJVRl9QT1dFUl9TVEFURSB8
IERCVUZfUE9XRVJfUkVRVUVTVCkpID09Cj4gKwkJCSAgKERCVUZfUE9XRVJfU1RBVEUgfCBEQlVG
X1BPV0VSX1JFUVVFU1QpOwo+ICsKPiArCVdBUk4oIXMxX2VuYWJsZWQgJiYgIXMyX2VuYWJsZWQs
Cj4gKwkgICAgICJVbmV4cGVjdGVkIERCdWYgcG93ZXIgcG93ZXIgc3RhdGUgKDB4JTA4eCwgMHgl
MDh4KVxuIiwgdG1wLAo+ICsJCQkJCQkJCSAgICAgdG1wMik7Cj4gK30KPiArCj4gIHN0YXRpYyB2
b2lkIGdlbjlfZGlzYWJsZV9kY19zdGF0ZXMoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9w
cml2KQo+ICB7Cj4gIAlzdHJ1Y3QgaW50ZWxfY2RjbGtfc3RhdGUgY2RjbGtfc3RhdGUgPSB7fTsK
PiBAQCAtMTA1NSw3ICsxMDcwLDEwIEBAIHN0YXRpYyB2b2lkIGdlbjlfZGlzYWJsZV9kY19zdGF0
ZXMoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2KQo+ICAJLyogQ2FuJ3QgcmVhZCBv
dXQgdm9sdGFnZV9sZXZlbCBzbyBjYW4ndCB1c2UgaW50ZWxfY2RjbGtfY2hhbmdlZCgpICovCj4g
IAlXQVJOX09OKGludGVsX2NkY2xrX25lZWRzX21vZGVzZXQoJmRldl9wcml2LT5jZGNsay5odywg
JmNkY2xrX3N0YXRlKSk7Cj4gIAo+IC0JZ2VuOV9hc3NlcnRfZGJ1Zl9lbmFibGVkKGRldl9wcml2
KTsKPiArCWlmIChJTlRFTF9HRU4oZGV2X3ByaXYpID49IDExKQo+ICsJCWdlbjExX2Fzc2VydF9k
YnVmX2VuYWJsZWQoZGV2X3ByaXYpOwo+ICsJZWxzZQo+ICsJCWdlbjlfYXNzZXJ0X2RidWZfZW5h
YmxlZChkZXZfcHJpdik7Cj4gIAo+ICAJaWYgKElTX0dFTjlfTFAoZGV2X3ByaXYpKQo+ICAJCWJ4
dF92ZXJpZnlfZGRpX3BoeV9wb3dlcl93ZWxscyhkZXZfcHJpdik7Cj4gQEAgLTQyNTQsMzEgKzQy
NzIsNTMgQEAgc3RhdGljIHZvaWQgZ2VuOV9kYnVmX2Rpc2FibGUoc3RydWN0IGRybV9pOTE1X3By
aXZhdGUgKmRldl9wcml2KQo+ICAJaW50ZWxfZGJ1Zl9zbGljZV9zZXQoZGV2X3ByaXYsIERCVUZf
Q1RMLCBmYWxzZSk7Cj4gIH0KPiAgCj4gLXN0YXRpYyB1OCBpbnRlbF9kYnVmX21heF9zbGljZXMo
c3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2KQo+ICt1OCBpbnRlbF9kYnVmX21heF9z
bGljZXMoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2KQoKSSByZWFsaXplIHlvdXIg
cGF0Y2ggZGlkbid0IGludHJvZHVjZSBpdCwgYW5kIGl0IHJlYWxseSBkb2Vzbid0IG1hdHRlciwK
YnV0IHdoZW4gSSBzZWUgdTggb3Igc2ltaWxhciB1c2VkIGFzIGEgcmV0dXJuIHR5cGUgSSBzb3J0
IG9mIGV4cGVjdCB0aGUKdmFsdWUgdG8gYmUgYSBiaXRtYXNrLiAgV2hlbiBpdCdzIGp1c3QgYSBj
b3VudCBJIGRvbid0IHNlZSBtdWNoIHJlYXNvbgp0byBub3QganVzdCB1c2UgYSB2YW5pbGxhICdp
bnQsJyBldmVuIHdoZW4gdGhlIGV4cGVjdGVkIHJldHVybiB2YWx1ZXMKYXJlIGxpa2VseSB0byBi
ZSBzbWFsbC4gIEJ1dCBpdCBkb2Vzbid0IHJlYWxseSBtYXR0ZXIsIHNvIEknbGwgbGVhdmUgaXQK
dXAgdG8geW91IHdoZXRoZXIgeW91IHdhbnQgdG8gY2hhbmdlIGl0LgoKT2YgY291cnNlIGlmIHdl
IG1vdmUgdGhpcyBpbnRvIGludGVsX2RldmljZV9pbmZvIChhcyBJIHN1Z2dlc3QgZmFydGhlcgpk
b3duKSwgd2UgY291bGQganVzdCBkcm9wIHRoaXMgZnVuY3Rpb24gY29tcGxldGVseS4KCj4gIHsK
PiAgCWlmIChJTlRFTF9HRU4oZGV2X3ByaXYpIDwgMTEpCj4gIAkJcmV0dXJuIDE7Cj4gIAlyZXR1
cm4gMjsKPiAgfQo+ICAKPiArdm9pZCBpY2xfZGJ1Zl9zbGljZXNfcmVzdG9yZShzdHJ1Y3QgZHJt
X2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYpCj4gK3sKPiArCWNvbnN0IHU4IGh3X2VuYWJsZWRfc2xp
Y2VzID0gZGV2X3ByaXYtPndtLnNrbF9ody5kZGIuZW5hYmxlZF9zbGljZXM7Cj4gKwo+ICsJaWNs
X2RidWZfc2xpY2VzX3VwZGF0ZShkZXZfcHJpdiwgaHdfZW5hYmxlZF9zbGljZXMpOwo+ICt9Cj4g
Kwo+ICB2b2lkIGljbF9kYnVmX3NsaWNlc191cGRhdGUoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUg
KmRldl9wcml2LAo+ICAJCQkgICAgdTggcmVxX3NsaWNlcykKPiAgewo+IC0JY29uc3QgdTggaHdf
ZW5hYmxlZF9zbGljZXMgPSBkZXZfcHJpdi0+d20uc2tsX2h3LmRkYi5lbmFibGVkX3NsaWNlczsK
PiAtCWJvb2wgcmV0Owo+ICsJYm9vbCByZXQgPSB0cnVlOwo+ICsJaW50IGk7Cj4gKwlpbnQgbWF4
X3NsaWNlcyA9IGludGVsX2RidWZfbWF4X3NsaWNlcyhkZXZfcHJpdik7Cj4gIAo+IC0JaWYgKHJl
cV9zbGljZXMgPiBpbnRlbF9kYnVmX21heF9zbGljZXMoZGV2X3ByaXYpKSB7Cj4gKwlpZiAoaHdl
aWdodDgocmVxX3NsaWNlcykgPiBpbnRlbF9kYnVmX21heF9zbGljZXMoZGV2X3ByaXYpKSB7Cj4g
IAkJRFJNX0VSUk9SKCJJbnZhbGlkIG51bWJlciBvZiBkYnVmIHNsaWNlcyByZXF1ZXN0ZWRcbiIp
Owo+ICAJCXJldHVybjsKPiAgCX0KPiAgCj4gLQlpZiAocmVxX3NsaWNlcyA9PSBod19lbmFibGVk
X3NsaWNlcyB8fCByZXFfc2xpY2VzID09IDApCj4gLQkJcmV0dXJuOwo+ICsJRFJNX0RFQlVHX0tN
UygiVXBkYXRpbmcgZGJ1ZiBzbGljZXMgdG8gJXhcbiIsIHJlcV9zbGljZXMpOwo+ICAKPiAtCWlm
IChyZXFfc2xpY2VzID4gaHdfZW5hYmxlZF9zbGljZXMpCj4gLQkJcmV0ID0gaW50ZWxfZGJ1Zl9z
bGljZV9zZXQoZGV2X3ByaXYsIERCVUZfQ1RMX1MyLCB0cnVlKTsKPiAtCWVsc2UKPiAtCQlyZXQg
PSBpbnRlbF9kYnVmX3NsaWNlX3NldChkZXZfcHJpdiwgREJVRl9DVExfUzIsIGZhbHNlKTsKPiAr
CWZvciAoaSA9IDA7IGkgPCBtYXhfc2xpY2VzOyBpKyspIHsKPiArCQlpbnQgc2xpY2VfYml0ID0g
MSA8PCBpOwoKQklUKGkpIHdvdWxkIGJlIHNsaWdodGx5IGNsZWFuZXIuCgo+ICsJCWJvb2wgc2xp
Y2Vfc2V0ID0gKChzbGljZV9iaXQpICYgcmVxX3NsaWNlcykgIT0gMDsKClVubmVjZXNzYXJ5IHBh
cmVucy4KCj4gKwo+ICsJCXN3aXRjaCAoc2xpY2VfYml0KSB7Cj4gKwkJY2FzZSBEQlVGX1MxX0JJ
VDoKPiArCQkJcmV0ID0gcmV0ICYmIGludGVsX2RidWZfc2xpY2Vfc2V0KGRldl9wcml2LAo+ICsJ
CQkJCQkJICBEQlVGX0NUTF9TMSwKPiArCQkJCQkJCSAgc2xpY2Vfc2V0KTsKPiArCQkJYnJlYWs7
Cj4gKwkJY2FzZSBEQlVGX1MyX0JJVDoKPiArCQkJcmV0ID0gcmV0ICYmIGludGVsX2RidWZfc2xp
Y2Vfc2V0KGRldl9wcml2LAo+ICsJCQkJCQkJICBEQlVGX0NUTF9TMiwKPiArCQkJCQkJCSAgc2xp
Y2Vfc2V0KTsKPiArCQkJYnJlYWs7Cj4gKwkJZGVmYXVsdDoKPiArCQkJV0FSTigxLCAiVW5zdXBw
b3J0ZWQgREJVRiBzbGljZSIpOwoKU2hvdWxkIHByb2JhYmx5IHVzZSBNSVNTSU5HX0NBU0Uoc2xp
Y2VfYml0KSBoZXJlLgoKPiArCQl9Cj4gKwl9Cj4gIAo+ICAJaWYgKHJldCkKPiAgCQlkZXZfcHJp
di0+d20uc2tsX2h3LmRkYi5lbmFibGVkX3NsaWNlcyA9IHJlcV9zbGljZXM7CgpJJ20gbm90IHN1
cmUgaG93IHZhbHVhYmxlIHRoZSBzdWNjZXNzLXRyYWNraW5nIGluIHRoaXMgZnVuY3Rpb24gaXMu
ICBJZgp3ZSBmYWlsIHRvIHBvd2VyIHVwL2Rvd24gdGhlIHNsaWNlIHNvbWV0aGluZyB3ZW50IHJl
YWxseSB3cm9uZyBhbmQgd2UncmUKcHJvYmFibHkgZ29pbmcgdG8gYmUgaW4gYW4gaW5jb25zaXN0
ZW50IHN0YXRlIG5vIG1hdHRlciB3aGF0IChwb3NzaWJseQphbGxvY2F0aW5nIEREQiBibG9ja3Mg
dG8gYSBzbGljZSB0aGF0IG5ldmVyIHBvd2VyZWQgdXApLiAgV2UgYWxyZWFkeQpwcmludCB3YXJu
aW5ncyBpbiBpbnRlbF9kYnVmX3NsaWNlX3NldCgpIGlmIHdlIGZhaWwsIHNvIEknZCBiZSBpbmNs
aW5lZAp0byBqdXN0IHNldCBlbmFibGVkIHNsaWNlcyB1bmNvbmRpdGlvbmFsbHkgaGVyZSBhbmQg
aG9wZSB0aGF0IGl0IHdhcwpqdXN0IGEgbWF0dGVyIG9mIHRoZSBoYXJkd2FyZSBiZWluZyBleHRy
YSBzbG93IHRvIGhvbm9yIG91ciByZXF1ZXN0IChzbwp0aGUgc2xpY2Ugd291bGQgYWN0dWFsbHkg
cG93ZXIgdXAvZG93biB3aXRoIGEgbGl0dGxlIG1vcmUgdGltZSkuICBXZSdyZQphbHJlYWR5IGlu
IHRoZSBhdG9taWMgY29tbWl0IHBoYXNlIGF0IHRoaXMgcG9pbnQsIHNvIHRoZXJlIGlzbid0IG11
Y2ggd2UKY2FuIHJlYWxseSBkbyBhcyBmYXIgYXMgZmFpbGluZyBncmFjZWZ1bGx5IGluIGNhc2Vz
IHdoZXJlIHRoZSBzbGljZQpkaWRuJ3QgcG93ZXIgdXAuCgo+IEBAIC00Mjg2LDQwICs0MzI2LDIx
IEBAIHZvaWQgaWNsX2RidWZfc2xpY2VzX3VwZGF0ZShzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAq
ZGV2X3ByaXYsCj4gIAo+ICBzdGF0aWMgdm9pZCBpY2xfZGJ1Zl9lbmFibGUoc3RydWN0IGRybV9p
OTE1X3ByaXZhdGUgKmRldl9wcml2KQo+ICB7Cj4gLQlJOTE1X1dSSVRFKERCVUZfQ1RMX1MxLCBJ
OTE1X1JFQUQoREJVRl9DVExfUzEpIHwgREJVRl9QT1dFUl9SRVFVRVNUKTsKPiAtCUk5MTVfV1JJ
VEUoREJVRl9DVExfUzIsIEk5MTVfUkVBRChEQlVGX0NUTF9TMikgfCBEQlVGX1BPV0VSX1JFUVVF
U1QpOwo+IC0JUE9TVElOR19SRUFEKERCVUZfQ1RMX1MyKTsKPiAtCj4gLQl1ZGVsYXkoMTApOwo+
IC0KPiAtCWlmICghKEk5MTVfUkVBRChEQlVGX0NUTF9TMSkgJiBEQlVGX1BPV0VSX1NUQVRFKSB8
fAo+IC0JICAgICEoSTkxNV9SRUFEKERCVUZfQ1RMX1MyKSAmIERCVUZfUE9XRVJfU1RBVEUpKQo+
IC0JCURSTV9FUlJPUigiREJ1ZiBwb3dlciBlbmFibGUgdGltZW91dFxuIik7Cj4gLQllbHNlCj4g
LQkJLyoKPiAtCQkgKiBGSVhNRTogZm9yIG5vdyBwcmV0ZW5kIHRoYXQgd2Ugb25seSBoYXZlIDEg
c2xpY2UsIHNlZQo+IC0JCSAqIGludGVsX2VuYWJsZWRfZGJ1Zl9zbGljZXNfbnVtKCkuCj4gLQkJ
ICovCj4gLQkJZGV2X3ByaXYtPndtLnNrbF9ody5kZGIuZW5hYmxlZF9zbGljZXMgPSAxOwo+ICsJ
LyoKPiArCSAqIEZvciBub3cgcHJldGVuZCB0aGF0IHdlIG9ubHkgaGF2ZSAxIHNsaWNlLCB3ZSB3
aWxsCj4gKwkgKiBmaWd1cmUgb3V0IGxhdGVyIHdoaWNoIHNsaWNlcyB3ZSBoYXZlIGFuZCB3aGF0
IHdlIG5lZWQuCj4gKwkgKi8KCkknZCB3cml0ZSB0aGlzIGNvbW1lbnQgbW9yZSBhcyAiSnVzdCBw
b3dlciB1cCBzbGljZSAxIGZvciBub3c7IHdlIGNhbgplbmFibGUgb3RoZXIgc2xpY2UocykgbGF0
ZXIgYXMgbmVjZXNzYXJ5LiIKCj4gKwlkZXZfcHJpdi0+d20uc2tsX2h3LmRkYi5lbmFibGVkX3Ns
aWNlcyA9IDE7CgpTaW5jZSB0aGlzIGlzIGEgYml0bWFzaywgdXNpbmcgREJVRl9TMV9CSVQgaGVy
ZSB3b3VsZCBhZGQgY2xhcml0eS4KCj4gKwlpY2xfZGJ1Zl9zbGljZXNfcmVzdG9yZShkZXZfcHJp
dik7Cj4gIH0KPiAgCj4gIHN0YXRpYyB2b2lkIGljbF9kYnVmX2Rpc2FibGUoc3RydWN0IGRybV9p
OTE1X3ByaXZhdGUgKmRldl9wcml2KQo+ICB7Cj4gLQlJOTE1X1dSSVRFKERCVUZfQ1RMX1MxLCBJ
OTE1X1JFQUQoREJVRl9DVExfUzEpICYgfkRCVUZfUE9XRVJfUkVRVUVTVCk7Cj4gLQlJOTE1X1dS
SVRFKERCVUZfQ1RMX1MyLCBJOTE1X1JFQUQoREJVRl9DVExfUzIpICYgfkRCVUZfUE9XRVJfUkVR
VUVTVCk7Cj4gLQlQT1NUSU5HX1JFQUQoREJVRl9DVExfUzIpOwo+IC0KPiAtCXVkZWxheSgxMCk7
Cj4gLQo+IC0JaWYgKChJOTE1X1JFQUQoREJVRl9DVExfUzEpICYgREJVRl9QT1dFUl9TVEFURSkg
fHwKPiAtCSAgICAoSTkxNV9SRUFEKERCVUZfQ1RMX1MyKSAmIERCVUZfUE9XRVJfU1RBVEUpKQo+
IC0JCURSTV9FUlJPUigiREJ1ZiBwb3dlciBkaXNhYmxlIHRpbWVvdXQhXG4iKTsKPiAtCWVsc2UK
PiAtCQkvKgo+IC0JCSAqIEZJWE1FOiBmb3Igbm93IHByZXRlbmQgdGhhdCB0aGUgZmlyc3Qgc2xp
Y2UgaXMgYWx3YXlzCj4gLQkJICogZW5hYmxlZCwgc2VlIGludGVsX2VuYWJsZWRfZGJ1Zl9zbGlj
ZXNfbnVtKCkuCj4gLQkJICovCj4gLQkJZGV2X3ByaXYtPndtLnNrbF9ody5kZGIuZW5hYmxlZF9z
bGljZXMgPSAxOwo+ICsJLyoKPiArCSAqIERpc2FibGUgYWxsIHNsaWNlcwo+ICsJICovCj4gKwlk
ZXZfcHJpdi0+d20uc2tsX2h3LmRkYi5lbmFibGVkX3NsaWNlcyA9IDA7Cj4gKwlpY2xfZGJ1Zl9z
bGljZXNfcmVzdG9yZShkZXZfcHJpdik7Cj4gIH0KPiAgCj4gIHN0YXRpYyB2b2lkIGljbF9tYnVz
X2luaXQoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2KQo+IGRpZmYgLS1naXQgYS9k
cml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXlfcG93ZXIuaCBiL2RyaXZl
cnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheV9wb3dlci5oCj4gaW5kZXggMWRh
MDRmM2UwZmIzLi40ZDViYjBhY2NlZjcgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5
MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5X3Bvd2VyLmgKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0v
aTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXlfcG93ZXIuaAo+IEBAIC0zMTEsOCArMzExLDEwIEBA
IGludGVsX2Rpc3BsYXlfcG93ZXJfcHV0X2FzeW5jKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpp
OTE1LAo+ICAJZm9yICgod2YpID0gaW50ZWxfZGlzcGxheV9wb3dlcl9nZXQoKGk5MTUpLCAoZG9t
YWluKSk7ICh3Zik7IFwKPiAgCSAgICAgaW50ZWxfZGlzcGxheV9wb3dlcl9wdXRfYXN5bmMoKGk5
MTUpLCAoZG9tYWluKSwgKHdmKSksICh3ZikgPSAwKQo+ICAKPiArdTggaW50ZWxfZGJ1Zl9tYXhf
c2xpY2VzKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdik7Cj4gIHZvaWQgaWNsX2Ri
dWZfc2xpY2VzX3VwZGF0ZShzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYsCj4gIAkJ
CSAgICB1OCByZXFfc2xpY2VzKTsKPiArdm9pZCBpY2xfZGJ1Zl9zbGljZXNfcmVzdG9yZShzdHJ1
Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYpOwo+ICAKPiAgdm9pZCBjaHZfcGh5X3Bvd2Vy
Z2F0ZV9sYW5lcyhzdHJ1Y3QgaW50ZWxfZW5jb2RlciAqZW5jb2RlciwKPiAgCQkJICAgICBib29s
IG92ZXJyaWRlLCB1bnNpZ25lZCBpbnQgbWFzayk7Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1
L2RybS9pOTE1L2k5MTVfZHJ2LmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2Rydi5jCj4g
aW5kZXggODJlNGU2YmYwOGMzLi4wMzA3YWVjMmM5MjggMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9n
cHUvZHJtL2k5MTUvaTkxNV9kcnYuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVf
ZHJ2LmMKPiBAQCAtNTEsNiArNTEsNyBAQAo+ICAjaW5jbHVkZSAiZGlzcGxheS9pbnRlbF9idy5o
Igo+ICAjaW5jbHVkZSAiZGlzcGxheS9pbnRlbF9jZGNsay5oIgo+ICAjaW5jbHVkZSAiZGlzcGxh
eS9pbnRlbF9kaXNwbGF5X3R5cGVzLmgiCj4gKyNpbmNsdWRlICJkaXNwbGF5L2ludGVsX2Rpc3Bs
YXlfcG93ZXIuaCIKPiAgI2luY2x1ZGUgImRpc3BsYXkvaW50ZWxfZHAuaCIKPiAgI2luY2x1ZGUg
ImRpc3BsYXkvaW50ZWxfZmJkZXYuaCIKPiAgI2luY2x1ZGUgImRpc3BsYXkvaW50ZWxfaG90cGx1
Zy5oIgo+IEBAIC0yNTg4LDYgKzI1ODksMTAgQEAgc3RhdGljIGludCBpbnRlbF9ydW50aW1lX3Jl
c3VtZShzdHJ1Y3QgZGV2aWNlICprZGV2KQo+ICAJaWYgKElTX1ZBTExFWVZJRVcoZGV2X3ByaXYp
IHx8IElTX0NIRVJSWVZJRVcoZGV2X3ByaXYpKQo+ICAJCXJldCA9IHZsdl9yZXN1bWVfcHJlcGFy
ZShkZXZfcHJpdiwgdHJ1ZSk7Cj4gIAo+ICsJLyogV2VpcmQgaGFjayB0byBmaXggSUNMIGhhcmR3
YXJlIGJ1ZywgYXMgaXQgcmVzZXRzIERCVUYgc2xpY2VzIHJlZyAqLwo+ICsJaWYgKElOVEVMX0dF
TihkZXZfcHJpdikgPT0gMTEpCj4gKwkJaWNsX2RidWZfc2xpY2VzX3Jlc3RvcmUoZGV2X3ByaXYp
Owo+ICsKPiAgCWludGVsX3VuY29yZV9ydW50aW1lX3Jlc3VtZSgmZGV2X3ByaXYtPnVuY29yZSk7
Cj4gIAo+ICAJaW50ZWxfcnVudGltZV9wbV9lbmFibGVfaW50ZXJydXB0cyhkZXZfcHJpdik7Cj4g
ZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZHJ2LmggYi9kcml2ZXJzL2dw
dS9kcm0vaTkxNS9pOTE1X2Rydi5oCj4gaW5kZXggN2UwZjY3YmFiZTIwLi43OGJkMDEwY2I1OWEg
MTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kcnYuaAo+ICsrKyBiL2Ry
aXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZHJ2LmgKPiBAQCAtODA0LDcgKzgwNCw4IEBAIHN0YXRp
YyBpbmxpbmUgYm9vbCBza2xfZGRiX2VudHJ5X2VxdWFsKGNvbnN0IHN0cnVjdCBza2xfZGRiX2Vu
dHJ5ICplMSwKPiAgfQo+ICAKPiAgc3RydWN0IHNrbF9kZGJfYWxsb2NhdGlvbiB7Cj4gLQl1OCBl
bmFibGVkX3NsaWNlczsgLyogR0VOMTEgaGFzIGNvbmZpZ3VyYWJsZSAyIHNsaWNlcyAqLwo+ICsJ
dTggZW5hYmxlZF9zbGljZXM7ICAgLyogQml0bWFzayBvZiBjdXJyZW50bHkgZW5hYmxlZCBEQnVm
IHNsaWNlcyAqLwo+ICsJdTggc3VwcG9ydGVkX3NsaWNlczsgLyogR0VOIDExIHN1cHBvcnRzIDIg
c2xpY2VzICovCgpUaGlzIG1pZ2h0IGZpdCBiZXR0ZXIgaW4gaW50ZWxfZGV2aWNlX2luZm8sIHBv
c3NpYmx5IG5leHQgdG8gdGhlCmRlZmluaXRpb24gb2YgZGRiX3NpemU/CgoKPiAgfTsKPiAgCj4g
IHN0cnVjdCBza2xfZGRiX3ZhbHVlcyB7Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9p
OTE1L2k5MTVfcmVnLmggYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3JlZy5oCj4gaW5kZXgg
YTYwN2VhNTIwODI5Li43ZWNhMmFkYmIyODEgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJt
L2k5MTUvaTkxNV9yZWcuaAo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfcmVnLmgK
PiBAQCAtNzczNCw2ICs3NzM0LDggQEAgZW51bSB7Cj4gICNkZWZpbmUgRElTUF9BUkJfQ1RMMglf
TU1JTygweDQ1MDA0KQo+ICAjZGVmaW5lICBESVNQX0RBVEFfUEFSVElUSU9OXzVfNgkoMSA8PCA2
KQo+ICAjZGVmaW5lICBESVNQX0lQQ19FTkFCTEUJCSgxIDw8IDMpCj4gKyNkZWZpbmUgREJVRl9T
MV9CSVQJCQkxCj4gKyNkZWZpbmUgREJVRl9TMl9CSVQJCQkyCgpUaGVzZSBzaG91bGQgcHJvYmFi
bHkgYmUgQklUKDApIGFuZCBCSVQoMSkgZm9yIGNsYXJpdHkuICBBbHRlcm5hdGl2ZWx5LAp5b3Ug
Y291bGQgcGFyYW1ldGVyaXplIHRoZSBtYWNybyBhcyBzb21ldGhpbmcgbGlrZQoKICAjZGVmaW5l
IERCVUZfU0xJQ0UoaSkgICBCSVQoaS0xKQoKPiAgI2RlZmluZSBEQlVGX0NUTAlfTU1JTygweDQ1
MDA4KQo+ICAjZGVmaW5lIERCVUZfQ1RMX1MxCV9NTUlPKDB4NDUwMDgpCj4gICNkZWZpbmUgREJV
Rl9DVExfUzIJX01NSU8oMHg0NEZFOCkKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5
MTUvaW50ZWxfcG0uYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX3BtLmMKPiBpbmRleCAy
ZDM4OWU0MzdlODcuLmViZTUzN2E0Nzg3OSAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0v
aTkxNS9pbnRlbF9wbS5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfcG0uYwo+
IEBAIC0zNTg2LDI0ICszNTg2LDIwIEBAIGJvb2wgaWxrX2Rpc2FibGVfbHBfd20oc3RydWN0IGRy
bV9kZXZpY2UgKmRldikKPiAgCXJldHVybiBfaWxrX2Rpc2FibGVfbHBfd20oZGV2X3ByaXYsIFdN
X0RJUlRZX0xQX0FMTCk7Cj4gIH0KPiAgCj4gLXN0YXRpYyB1OCBpbnRlbF9lbmFibGVkX2RidWZf
c2xpY2VzX251bShzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYpCj4gK3N0YXRpYyB1
OCBpbnRlbF9lbmFibGVkX2RidWZfc2xpY2VzKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZf
cHJpdikKPiAgewo+IC0JdTggZW5hYmxlZF9zbGljZXM7Cj4gLQo+IC0JLyogU2xpY2UgMSB3aWxs
IGFsd2F5cyBiZSBlbmFibGVkICovCj4gLQllbmFibGVkX3NsaWNlcyA9IDE7Cj4gKwl1OCBlbmFi
bGVkX3NsaWNlcyA9IDA7Cj4gIAo+ICAJLyogR2VuIHByaW9yIHRvIEdFTjExIGhhdmUgb25seSBv
bmUgREJ1ZiBzbGljZSAqLwo+ICAJaWYgKElOVEVMX0dFTihkZXZfcHJpdikgPCAxMSkKPiAtCQly
ZXR1cm4gZW5hYmxlZF9zbGljZXM7Cj4gKwkJcmV0dXJuIDE7Cj4gIAo+IC0JLyoKPiAtCSAqIEZJ
WE1FOiBmb3Igbm93IHdlJ2xsIG9ubHkgZXZlciB1c2UgMSBzbGljZTsgcHJldGVuZCB0aGF0IHdl
IGhhdmUKPiAtCSAqIG9ubHkgdGhhdCAxIHNsaWNlIGVuYWJsZWQgdW50aWwgd2UgaGF2ZSBhIHBy
b3BlciB3YXkgZm9yIG9uLWRlbWFuZAo+IC0JICogdG9nZ2xpbmcgb2YgdGhlIHNlY29uZCBzbGlj
ZS4KPiAtCSAqLwo+IC0JaWYgKDAgJiYgSTkxNV9SRUFEKERCVUZfQ1RMX1MyKSAmIERCVUZfUE9X
RVJfU1RBVEUpCj4gLQkJZW5hYmxlZF9zbGljZXMrKzsKPiArCS8qIENoZWNrIGlmIHNlY29uZCBE
QnVmIHNsaWNlIGlzIGVuYWJsZWQgKi8KPiArCWlmIChJOTE1X1JFQUQoREJVRl9DVExfUzEpICYg
REJVRl9QT1dFUl9TVEFURSkKPiArCQllbmFibGVkX3NsaWNlcyB8PSAxOwo+ICsKPiArCWlmIChJ
OTE1X1JFQUQoREJVRl9DVExfUzIpICYgREJVRl9QT1dFUl9TVEFURSkKPiArCQllbmFibGVkX3Ns
aWNlcyB8PSAyOwoKVGhlc2Ugc2hvdWxkIGJlICJlbmFibGVkX3NsaWNlcyB8PSBEQlVGX1MjX0JJ
VCIgZm9yIGNsYXJpdHkuCgo+ICAKPiAgCXJldHVybiBlbmFibGVkX3NsaWNlczsKPiAgfQo+IEBA
IC0zODEyLDM2ICszODA4LDQ0IEBAIHN0YXRpYyB1MTYgaW50ZWxfZ2V0X2RkYl9zaXplKHN0cnVj
dCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiwKPiAgCQkJICAgICAgY29uc3QgaW50IG51bV9h
Y3RpdmUsCj4gIAkJCSAgICAgIHN0cnVjdCBza2xfZGRiX2FsbG9jYXRpb24gKmRkYikKPiAgewo+
IC0JY29uc3Qgc3RydWN0IGRybV9kaXNwbGF5X21vZGUgKmFkanVzdGVkX21vZGU7Cj4gLQl1NjQg
dG90YWxfZGF0YV9idzsKPiAgCXUxNiBkZGJfc2l6ZSA9IElOVEVMX0lORk8oZGV2X3ByaXYpLT5k
ZGJfc2l6ZTsKPiAgCj4gIAlXQVJOX09OKGRkYl9zaXplID09IDApOwo+ICsJZGRiLT5zdXBwb3J0
ZWRfc2xpY2VzID0gaW50ZWxfZGJ1Zl9tYXhfc2xpY2VzKGRldl9wcml2KTsKPiAgCj4gIAlpZiAo
SU5URUxfR0VOKGRldl9wcml2KSA8IDExKQo+ICAJCXJldHVybiBkZGJfc2l6ZSAtIDQ7IC8qIDQg
YmxvY2tzIGZvciBieXBhc3MgcGF0aCBhbGxvY2F0aW9uICovCj4gIAo+IC0JYWRqdXN0ZWRfbW9k
ZSA9ICZjcnRjX3N0YXRlLT5ody5hZGp1c3RlZF9tb2RlOwo+IC0JdG90YWxfZGF0YV9idyA9IHRv
dGFsX2RhdGFfcmF0ZSAqIGRybV9tb2RlX3ZyZWZyZXNoKGFkanVzdGVkX21vZGUpOwo+ICsJcmV0
dXJuIGRkYl9zaXplOwo+ICt9Cj4gIAo+IC0JLyoKPiAtCSAqIDEyR0IvcyBpcyBtYXhpbXVtIEJX
IHN1cHBvcnRlZCBieSBzaW5nbGUgREJ1ZiBzbGljZS4KPiAtCSAqCj4gLQkgKiBGSVhNRSBkYnVm
IHNsaWNlIGNvZGUgaXMgYnJva2VuOgo+IC0JICogLSBtdXN0IHdhaXQgZm9yIHBsYW5lcyB0byBz
dG9wIHVzaW5nIHRoZSBzbGljZSBiZWZvcmUgcG93ZXJpbmcgaXQgb2ZmCj4gLQkgKiAtIHBsYW5l
IHN0cmFkZGxpbmcgYm90aCBzbGljZXMgaXMgaWxsZWdhbCBpbiBtdWx0aS1waXBlIHNjZW5hcmlv
cwo+IC0JICogLSBzaG91bGQgdmFsaWRhdGUgd2Ugc3RheSB3aXRoaW4gdGhlIGh3IGJhbmR3aWR0
aCBsaW1pdHMKPiAtCSAqLwo+IC0JaWYgKDAgJiYgKG51bV9hY3RpdmUgPiAxIHx8IHRvdGFsX2Rh
dGFfYncgPj0gR0JwcygxMikpKSB7Cj4gLQkJZGRiLT5lbmFibGVkX3NsaWNlcyA9IDI7Cj4gLQl9
IGVsc2Ugewo+IC0JCWRkYi0+ZW5hYmxlZF9zbGljZXMgPSAxOwo+IC0JCWRkYl9zaXplIC89IDI7
Cj4gLQl9Cj4gKy8qCj4gKyAqIENhbGN1bGF0ZSBpbml0aWFsIERCdWYgc2xpY2Ugb2Zmc2V0LCBi
YXNlZCBvbiBzbGljZSBzaXplCj4gKyAqIGFuZCBtYXNrKGkuZSBpZiBzbGljZSBzaXplIGlzIDEw
MjQgYW5kIHNlY29uZCBzbGljZSBpcyBlbmFibGVkCj4gKyAqIG9mZnNldCB3b3VsZCBiZSAxMDI0
KQo+ICsgKi8KPiArc3RhdGljIHUzMiBza2xfZ2V0X2ZpcnN0X2RidWZfc2xpY2Vfb2Zmc2V0KHUz
MiBkYnVmX3NsaWNlX21hc2ssCj4gKwkJCQkJICAgdTMyIHNsaWNlX3NpemUsIHUzMiBkZGJfc2l6
ZSkKPiArewo+ICsJdTMyIG9mZnNldCA9IDA7Cj4gIAo+IC0JcmV0dXJuIGRkYl9zaXplOwo+ICsJ
aWYgKCFkYnVmX3NsaWNlX21hc2spCj4gKwkJcmV0dXJuIDA7Cj4gKwo+ICsJd2hpbGUgKCEoZGJ1
Zl9zbGljZV9tYXNrICYgMSkpIHsKPiArCQlkYnVmX3NsaWNlX21hc2sgPj49IDE7Cj4gKwkJb2Zm
c2V0ICs9IHNsaWNlX3NpemU7Cj4gKwkJaWYgKG9mZnNldCA+PSBkZGJfc2l6ZSkKPiArCQkJYnJl
YWs7Cj4gKwl9Cj4gKwlXQVJOX09OKG9mZnNldCA+PSBkZGJfc2l6ZSk7Cj4gKwlyZXR1cm4gb2Zm
c2V0OwoKSSB0aGluayB3ZSBjb3VsZCBzaW1wbGlmeSB0aGlzIGZ1bmN0aW9uIHdpdGggZmZzKCk6
CgogICAgc3RhdGljIHUzMiBza2xfZ2V0X2ZpcnN0X2RidWZfc2xpY2Vfb2Zmc2V0KHUzMiBkYnVm
X3NsaWNlX21hc2ssCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgdTMyIHNsaWNlX3NpemUsIHUzMiBkZGJfc2l6ZSkKICAgIHsKICAgICAgICAgICAgdTMyIG9m
ZnNldCA9IGZmcyhkYnVmX3NsaWNlX21hc2spICogc2xpY2Vfc2l6ZTsKCiAgICAgICAgICAgIFdB
Uk5fT04ob2Zmc2V0ID49IGRkYl9zaXplKTsKICAgICAgICAgICAgcmV0dXJuIG9mZnNldDsKICAg
IH0KCm9yIGp1c3QgaW5saW5lIGl0IGludG8gdGhlIGNhbGxzaXRlIG5vdyB0aGF0IGl0J3Mgc2hv
cnQgZW5vdWdoLgoKPiAgfQo+ICAKPiArc3RhdGljIHUzMiBpOTE1X2dldF9hbGxvd2VkX2RidWZf
bWFzayhzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYsCj4gKwkJCQkgICAgICBpbnQg
cGlwZSwgdTMyIGFjdGl2ZV9waXBlcywKPiArCQkJCSAgICAgIGNvbnN0IHN0cnVjdCBpbnRlbF9j
cnRjX3N0YXRlICpjcnRjX3N0YXRlKTsKPiArCj4gIHN0YXRpYyB2b2lkCj4gIHNrbF9kZGJfZ2V0
X3BpcGVfYWxsb2NhdGlvbl9saW1pdHMoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2
LAo+ICAJCQkJICAgY29uc3Qgc3RydWN0IGludGVsX2NydGNfc3RhdGUgKmNydGNfc3RhdGUsCj4g
QEAgLTM4NTcsNyArMzg2MSwxNCBAQCBza2xfZGRiX2dldF9waXBlX2FsbG9jYXRpb25fbGltaXRz
KHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiwKPiAgCXUzMiBwaXBlX3dpZHRoID0g
MCwgdG90YWxfd2lkdGggPSAwLCB3aWR0aF9iZWZvcmVfcGlwZSA9IDA7Cj4gIAllbnVtIHBpcGUg
Zm9yX3BpcGUgPSB0b19pbnRlbF9jcnRjKGZvcl9jcnRjKS0+cGlwZTsKPiAgCXUxNiBkZGJfc2l6
ZTsKPiArCXUzMiBkZGJfcmFuZ2Vfc2l6ZTsKPiAgCXUzMiBpOwo+ICsJdTMyIGRidWZfc2xpY2Vf
bWFzazsKPiArCXUzMiBhY3RpdmVfcGlwZXM7Cj4gKwl1MzIgb2Zmc2V0Owo+ICsJdTMyIHNsaWNl
X3NpemU7Cj4gKwl1MzIgdG90YWxfc2xpY2VfbWFzazsKPiArCXUzMiBzdGFydCwgZW5kOwo+ICAK
PiAgCWlmIChXQVJOX09OKCFzdGF0ZSkgfHwgIWNydGNfc3RhdGUtPmh3LmFjdGl2ZSkgewo+ICAJ
CWFsbG9jLT5zdGFydCA9IDA7Cj4gQEAgLTM4NjYsMTQgKzM4NzcsMjMgQEAgc2tsX2RkYl9nZXRf
cGlwZV9hbGxvY2F0aW9uX2xpbWl0cyhzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYs
Cj4gIAkJcmV0dXJuOwo+ICAJfQo+ICAKPiAtCWlmIChpbnRlbF9zdGF0ZS0+YWN0aXZlX3BpcGVf
Y2hhbmdlcykKPiArCWlmIChpbnRlbF9zdGF0ZS0+YWN0aXZlX3BpcGVfY2hhbmdlcykgewo+ICAJ
CSpudW1fYWN0aXZlID0gaHdlaWdodDgoaW50ZWxfc3RhdGUtPmFjdGl2ZV9waXBlcyk7Cj4gLQll
bHNlCj4gKwkJYWN0aXZlX3BpcGVzID0gaW50ZWxfc3RhdGUtPmFjdGl2ZV9waXBlczsKPiArCX0g
ZWxzZSB7Cj4gIAkJKm51bV9hY3RpdmUgPSBod2VpZ2h0OChkZXZfcHJpdi0+YWN0aXZlX3BpcGVz
KTsKPiArCQlhY3RpdmVfcGlwZXMgPSBkZXZfcHJpdi0+YWN0aXZlX3BpcGVzOwo+ICsJfQoKQXQg
dGhlIG1vbWVudCB0aGlzIGlzIHN0aWxsIHNhZmUgKGFueSBjaGFuZ2VzIHRvIGFjdGl2ZV9waXBl
cyByZXF1aXJlcwpncmFiYmluZyB0aGUgbG9ja3Mgb24gKmFsbCogQ1JUQ3Mgb24gZ2VuOSspLCBi
dXQgb25jZSB3ZSBsYW5kIHlvdXIKZGJ1ZiBzdXBwb3J0LCB3ZSBzaG91bGQgY29tZSBiYWNrIGFu
ZCBtYWtlIHRoZSBsb2NraW5nIG1vcmUgZmluZS1ncmFpbmVkCnNpbmNlIGF0IHRoYXQgcG9pbnQg
SSBkb24ndCB0aGluayB0aGVyZSBzaG91bGQgYmUgYSBuZWVkIGZvciBhIG1vZGVzZXQKdGhhdCBh
ZmZlY3RzIG9uZSBzbGljZSB0byBibG9jayBtb2Rlc2V0cyBhZ2FpbnN0IENSVENzIHVzaW5nIG90
aGVyCnNsaWNlcy4KCj4gIAo+ICAJZGRiX3NpemUgPSBpbnRlbF9nZXRfZGRiX3NpemUoZGV2X3By
aXYsIGNydGNfc3RhdGUsIHRvdGFsX2RhdGFfcmF0ZSwKPiAgCQkJCSAgICAgICpudW1fYWN0aXZl
LCBkZGIpOwo+ICAKPiArCURSTV9ERUJVR19LTVMoIkdvdCB0b3RhbCBkZGIgc2l6ZSAlZFxuIiwg
ZGRiX3NpemUpOwo+ICsKPiArCXNsaWNlX3NpemUgPSBkZGJfc2l6ZSAvIGRkYi0+c3VwcG9ydGVk
X3NsaWNlczsKPiArCj4gKwlEUk1fREVCVUdfS01TKCJHb3QgREJ1ZiBzbGljZSBzaXplICVkXG4i
LCBzbGljZV9zaXplKTsKPiArCj4gIAkvKgo+ICAJICogSWYgdGhlIHN0YXRlIGRvZXNuJ3QgY2hh
bmdlIHRoZSBhY3RpdmUgQ1JUQydzIG9yIHRoZXJlIGlzIG5vCj4gIAkgKiBtb2Rlc2V0IHJlcXVl
c3QsIHRoZW4gdGhlcmUncyBubyBuZWVkIHRvIHJlY2FsY3VsYXRlOwo+IEBAIC0zODkxLDIwICsz
OTExLDczIEBAIHNrbF9kZGJfZ2V0X3BpcGVfYWxsb2NhdGlvbl9saW1pdHMoc3RydWN0IGRybV9p
OTE1X3ByaXZhdGUgKmRldl9wcml2LAo+ICAJCXJldHVybjsKPiAgCX0KPiAgCj4gKwkvKgo+ICsJ
ICogR2V0IGFsbG93ZWQgREJ1ZiBzbGljZXMgZm9yIGNvcnJlc3BvbmRlbnQgcGlwZSBhbmQgcGxh
dGZvcm0uCj4gKwkgKi8KPiArCWRidWZfc2xpY2VfbWFzayA9IGk5MTVfZ2V0X2FsbG93ZWRfZGJ1
Zl9tYXNrKGRldl9wcml2LCBmb3JfcGlwZSwKPiArCQkJCQkJICAgICBhY3RpdmVfcGlwZXMsIGNy
dGNfc3RhdGUpOwo+ICsKPiArCURSTV9ERUJVR19LTVMoIkRCdWYgc2xpY2UgbWFzayAleCBwaXBl
ICVkIGFjdGl2ZSBwaXBlcyAleFxuIiwKPiArCQkgICAgICBkYnVmX3NsaWNlX21hc2ssCj4gKwkJ
ICAgICAgZm9yX3BpcGUsIGFjdGl2ZV9waXBlcyk7Cj4gKwo+ICsJLyoKPiArCSAqIEZpZ3VyZSBv
dXQgYXQgd2hpY2ggREJ1ZiBzbGljZSB3ZSBzdGFydCwgaS5lIGlmIHdlIHN0YXJ0IGF0IERidWYg
UzIKPiArCSAqIGFuZCBzbGljZSBzaXplIGlzIDEwMjQsIHRoZSBvZmZzZXQgd291bGQgYmUgMTAy
NAo+ICsJICovCj4gKwlvZmZzZXQgPSBza2xfZ2V0X2ZpcnN0X2RidWZfc2xpY2Vfb2Zmc2V0KGRi
dWZfc2xpY2VfbWFzaywKPiArCQkJCQkJIHNsaWNlX3NpemUsIGRkYl9zaXplKTsKPiArCj4gKwkv
Kgo+ICsJICogRmlndXJlIG91dCB0b3RhbCBzaXplIG9mIGFsbG93ZWQgREJ1ZiBzbGljZXMsIHdo
aWNoIGlzIGJhc2ljYWxseQo+ICsJICogYSBudW1iZXIgb2YgYWxsb3dlZCBzbGljZXMgZm9yIHRo
YXQgcGlwZSBtdWx0aXBsaWVkIGJ5IHNsaWNlIHNpemUuCj4gKwkgKiBXZSBtaWdodCBzdGlsbCBo
YXZlIHNvbWUgZGJ1ZiBzbGljZXMgZGlzYWJsZWQgaW4gY2FzZSBpZiB0aG9zZQo+ICsJICogYXJl
IG5vdCBuZWVkZWQgYmFzZWQgb24gYmFuZHdpZHRoIHJlcXVpcmVtZW50cyBhbmQgbnVtX2FjdGl2
ZSBwaXBlcywKPiArCSAqIHNvIHN0aWNrIHRvIHJlYWwgZGRiIHNpemUgaWYgaXQgaGFwcGVucyB0
byBiZSBsZXNzLiBJbnNpZGUgb2YgdGhpcwo+ICsJICogcmFuZ2UgZGRiIGVudHJpZXMgYXJlIHN0
aWxsIGFsbG9jYXRlZCBpbiBwcm9wb3J0aW9uIHRvIGRpc3BsYXkgd2lkdGguCj4gKwkgKi8KPiAr
CWRkYl9yYW5nZV9zaXplID0gbWluKGh3ZWlnaHQ4KGRidWZfc2xpY2VfbWFzaykgKiBzbGljZV9z
aXplLAo+ICsJCQkgICAgICh1bnNpZ25lZCBpbnQpZGRiX3NpemUpOwoKSXNuJ3QgZGRiX3NpemUg
dGhlIHRvdGFsIHNpemUgb2YgdGhlIGRkYiBhc3N1bWluZyBhbGwgc2xpY2VzIGFyZQplbmFibGVk
PyAgSSBkb24ndCBzZWUgaG93IHRoYXQgY291bGQgYmUgbGVzcyB0aGFuIG1hc2sgKiBzbGljZV9z
aXplPwoKCk1hdHQKCj4gKwo+ICAJLyoKPiAgCSAqIFdhdGVybWFyay9kZGIgcmVxdWlyZW1lbnQg
aGlnaGx5IGRlcGVuZHMgdXBvbiB3aWR0aCBvZiB0aGUKPiAgCSAqIGZyYW1lYnVmZmVyLCBTbyBp
bnN0ZWFkIG9mIGFsbG9jYXRpbmcgRERCIGVxdWFsbHkgYW1vbmcgcGlwZXMKPiAgCSAqIGRpc3Ry
aWJ1dGUgRERCIGJhc2VkIG9uIHJlc29sdXRpb24vd2lkdGggb2YgdGhlIGRpc3BsYXkuCj4gIAkg
Ki8KPiArCXRvdGFsX3NsaWNlX21hc2sgPSBkYnVmX3NsaWNlX21hc2s7Cj4gIAlmb3JfZWFjaF9u
ZXdfaW50ZWxfY3J0Y19pbl9zdGF0ZShpbnRlbF9zdGF0ZSwgY3J0YywgY3J0Y19zdGF0ZSwgaSkg
ewo+ICAJCWNvbnN0IHN0cnVjdCBkcm1fZGlzcGxheV9tb2RlICphZGp1c3RlZF9tb2RlID0KPiAg
CQkJJmNydGNfc3RhdGUtPmh3LmFkanVzdGVkX21vZGU7Cj4gIAkJZW51bSBwaXBlIHBpcGUgPSBj
cnRjLT5waXBlOwo+ICAJCWludCBoZGlzcGxheSwgdmRpc3BsYXk7Cj4gKwkJdTMyIHBpcGVfZGJ1
Zl9zbGljZV9tYXNrID0gXAo+ICsJCQlpOTE1X2dldF9hbGxvd2VkX2RidWZfbWFzayhkZXZfcHJp
diwKPiArCQkJCQkJcGlwZSwKPiArCQkJCQkJYWN0aXZlX3BpcGVzLAo+ICsJCQkJCQljcnRjX3N0
YXRlKTsKPiAgCj4gIAkJaWYgKCFjcnRjX3N0YXRlLT5ody5lbmFibGUpCj4gIAkJCWNvbnRpbnVl
Owo+ICAKPiArCQkvKgo+ICsJCSAqIEFjY29yZGluZyB0byBCU3BlYyBwaXBlIGNhbiBzaGFyZSBv
bmUgZGJ1ZiBzbGljZSB3aXRoIGFub3RoZXIKPiArCQkgKiBwaXBlcyBvciBwaXBlIGNhbiB1c2Ug
bXVsdGlwbGUgZGJ1ZnMsIGluIGJvdGggY2FzZXMgd2UKPiArCQkgKiBhY2NvdW50IGZvciBvdGhl
ciBwaXBlcyBvbmx5IGlmIHRoZXkgaGF2ZSBleGFjdGx5IHNhbWUgbWFzay4KPiArCQkgKiBIb3dl
dmVyIHdlIG5lZWQgdG8gYWNjb3VudCBob3cgbWFueSBzbGljZXMgd2Ugc2hvdWxkIGVuYWJsZQo+
ICsJCSAqIGluIHRvdGFsLgo+ICsJCSAqLwo+ICsJCXRvdGFsX3NsaWNlX21hc2sgfD0gcGlwZV9k
YnVmX3NsaWNlX21hc2s7Cj4gKwo+ICsJCS8qCj4gKwkJICogRG8gbm90IGFjY291bnQgcGlwZXMg
dXNpbmcgb3RoZXIgc2xpY2Ugc2V0cwo+ICsJCSAqIGx1Y2tpbHkgYXMgb2YgY3VycmVudCBCU3Bl
YyBzbGljZSBzZXRzIGRvIG5vdCBwYXJ0aWFsbHkKPiArCQkgKiBpbnRlcnNlY3QocGlwZXMgc2hh
cmUgZWl0aGVyIHNhbWUgb25lIHNsaWNlIG9yIHNhbWUgc2xpY2Ugc2V0Cj4gKwkJICogaS5lIG5v
IHBhcnRpYWwgaW50ZXJzZWN0aW9uKSwgc28gaXQgaXMgZW5vdWdoIHRvIGNoZWNrIGZvcgo+ICsJ
CSAqIGVxdWFsaXR5IGZvciBub3cuCj4gKwkJICovCj4gKwkJaWYgKGRidWZfc2xpY2VfbWFzayAh
PSBwaXBlX2RidWZfc2xpY2VfbWFzaykKPiArCQkJY29udGludWU7Cj4gKwo+ICAJCWRybV9tb2Rl
X2dldF9odl90aW1pbmcoYWRqdXN0ZWRfbW9kZSwgJmhkaXNwbGF5LCAmdmRpc3BsYXkpOwo+ICAJ
CXRvdGFsX3dpZHRoICs9IGhkaXNwbGF5Owo+ICAKPiBAQCAtMzkxNCw4ICszOTg3LDE5IEBAIHNr
bF9kZGJfZ2V0X3BpcGVfYWxsb2NhdGlvbl9saW1pdHMoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUg
KmRldl9wcml2LAo+ICAJCQlwaXBlX3dpZHRoID0gaGRpc3BsYXk7Cj4gIAl9Cj4gIAo+IC0JYWxs
b2MtPnN0YXJ0ID0gZGRiX3NpemUgKiB3aWR0aF9iZWZvcmVfcGlwZSAvIHRvdGFsX3dpZHRoOwo+
IC0JYWxsb2MtPmVuZCA9IGRkYl9zaXplICogKHdpZHRoX2JlZm9yZV9waXBlICsgcGlwZV93aWR0
aCkgLyB0b3RhbF93aWR0aDsKPiArCWRkYi0+ZW5hYmxlZF9zbGljZXMgPSB0b3RhbF9zbGljZV9t
YXNrOwo+ICsKPiArCXN0YXJ0ID0gZGRiX3JhbmdlX3NpemUgKiB3aWR0aF9iZWZvcmVfcGlwZSAv
IHRvdGFsX3dpZHRoOwo+ICsJZW5kID0gZGRiX3JhbmdlX3NpemUgKiAod2lkdGhfYmVmb3JlX3Bp
cGUgKyBwaXBlX3dpZHRoKSAvIHRvdGFsX3dpZHRoOwo+ICsKPiArCWFsbG9jLT5zdGFydCA9IG9m
ZnNldCArIHN0YXJ0Owo+ICsJYWxsb2MtPmVuZCA9IG9mZnNldCArIGVuZDsKPiArCj4gKwlEUk1f
REVCVUdfS01TKCJQaXBlICVkIGRkYiAlZC0lZFxuIiwgZm9yX3BpcGUsCj4gKwkJICAgICAgYWxs
b2MtPnN0YXJ0LCBhbGxvYy0+ZW5kKTsKPiArCURSTV9ERUJVR19LTVMoIkVuYWJsZWQgZGRiIHNs
aWNlcyBtYXNrICV4IG51bSBzdXBwb3J0ZWQgJWRcbiIsCj4gKwkJICAgICAgZGRiLT5lbmFibGVk
X3NsaWNlcywKPiArCQkgICAgICBkZGItPnN1cHBvcnRlZF9zbGljZXMpOwo+ICB9Cj4gIAo+ICBz
dGF0aWMgaW50IHNrbF9jb21wdXRlX3dtX3BhcmFtcyhjb25zdCBzdHJ1Y3QgaW50ZWxfY3J0Y19z
dGF0ZSAqY3J0Y19zdGF0ZSwKPiBAQCAtNDAzNiw3ICs0MTIwLDggQEAgdm9pZCBza2xfcGlwZV9k
ZGJfZ2V0X2h3X3N0YXRlKHN0cnVjdCBpbnRlbF9jcnRjICpjcnRjLAo+ICB2b2lkIHNrbF9kZGJf
Z2V0X2h3X3N0YXRlKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiwKPiAgCQkJICBz
dHJ1Y3Qgc2tsX2RkYl9hbGxvY2F0aW9uICpkZGIgLyogb3V0ICovKQo+ICB7Cj4gLQlkZGItPmVu
YWJsZWRfc2xpY2VzID0gaW50ZWxfZW5hYmxlZF9kYnVmX3NsaWNlc19udW0oZGV2X3ByaXYpOwo+
ICsJZGRiLT5lbmFibGVkX3NsaWNlcyA9IGludGVsX2VuYWJsZWRfZGJ1Zl9zbGljZXMoZGV2X3By
aXYpOwo+ICsJRFJNX0RFQlVHX0tNUygiR290IGh3IGRidWYgc2xpY2VzIG1hc2sgJXhcbiIsIGRk
Yi0+ZW5hYmxlZF9zbGljZXMpOwo+ICB9Cj4gIAo+ICAvKgo+IEBAIC00MTY0LDYgKzQyNDksMjM4
IEBAIHNrbF9nZXRfdG90YWxfcmVsYXRpdmVfZGF0YV9yYXRlKHN0cnVjdCBpbnRlbF9jcnRjX3N0
YXRlICpjcnRjX3N0YXRlLAo+ICAJcmV0dXJuIHRvdGFsX2RhdGFfcmF0ZTsKPiAgfQo+ICAKPiAr
dWludF9maXhlZF8xNl8xNl90Cj4gK3NrbF9waXBlX2Rvd25zY2FsZV9hbW91bnQoY29uc3Qgc3Ry
dWN0IGludGVsX2NydGNfc3RhdGUgKmNydGNfc3RhdGUpCj4gK3sKPiArCXUzMiBzcmNfdywgc3Jj
X2gsIGRzdF93LCBkc3RfaDsKPiArCXVpbnRfZml4ZWRfMTZfMTZfdCBmcF93X3JhdGlvLCBmcF9o
X3JhdGlvOwo+ICsJdWludF9maXhlZF8xNl8xNl90IGRvd25zY2FsZV9oLCBkb3duc2NhbGVfdzsK
PiArCWNvbnN0IHN0cnVjdCBkcm1fZGlzcGxheV9tb2RlICphZGp1c3RlZF9tb2RlID0gJmNydGNf
c3RhdGUtPmh3LmFkanVzdGVkX21vZGU7Cj4gKwo+ICsJc3JjX3cgPSBjcnRjX3N0YXRlLT5waXBl
X3NyY193Owo+ICsJc3JjX2ggPSBjcnRjX3N0YXRlLT5waXBlX3NyY19oOwo+ICsJZHN0X3cgPSBh
ZGp1c3RlZF9tb2RlLT5jcnRjX2hkaXNwbGF5Owo+ICsJZHN0X2ggPSBhZGp1c3RlZF9tb2RlLT5j
cnRjX3ZkaXNwbGF5Owo+ICsKPiArCWZwX3dfcmF0aW8gPSBkaXZfZml4ZWQxNihzcmNfdywgZHN0
X3cpOwo+ICsJZnBfaF9yYXRpbyA9IGRpdl9maXhlZDE2KHNyY19oLCBkc3RfaCk7Cj4gKwlkb3du
c2NhbGVfdyA9IG1heF9maXhlZDE2KGZwX3dfcmF0aW8sIHUzMl90b19maXhlZDE2KDEpKTsKPiAr
CWRvd25zY2FsZV9oID0gbWF4X2ZpeGVkMTYoZnBfaF9yYXRpbywgdTMyX3RvX2ZpeGVkMTYoMSkp
Owo+ICsKPiArCXJldHVybiBtdWxfZml4ZWQxNihkb3duc2NhbGVfdywgZG93bnNjYWxlX2gpOwo+
ICt9Cj4gKwo+ICt1aW50X2ZpeGVkXzE2XzE2X3QKPiAraWNsX2dldF9waXBlX3JhdGlvKGNvbnN0
IHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpjcnRjX3N0YXRlKQo+ICt7Cj4gKwlzdHJ1Y3QgZHJt
X3BsYW5lICpwbGFuZTsKPiArCWNvbnN0IHN0cnVjdCBkcm1fcGxhbmVfc3RhdGUgKmRybV9wbGFu
ZV9zdGF0ZTsKPiArCXVpbnRfZml4ZWRfMTZfMTZfdCBwaXBlX2Rvd25zY2FsZSwgcGlwZV9yYXRp
bzsKPiArCXVpbnRfZml4ZWRfMTZfMTZfdCBtYXhfZG93bnNjYWxlID0gdTMyX3RvX2ZpeGVkMTYo
MSk7Cj4gKwlzdHJ1Y3QgaW50ZWxfY3J0YyAqY3J0YyA9IHRvX2ludGVsX2NydGMoY3J0Y19zdGF0
ZS0+dWFwaS5jcnRjKTsKPiArCj4gKwlpZiAoIWNydGNfc3RhdGUtPnVhcGkuZW5hYmxlKQo+ICsJ
CXJldHVybiBtYXhfZG93bnNjYWxlOwo+ICsKPiArCWRybV9hdG9taWNfY3J0Y19zdGF0ZV9mb3Jf
ZWFjaF9wbGFuZV9zdGF0ZShwbGFuZSwgZHJtX3BsYW5lX3N0YXRlLCAmY3J0Y19zdGF0ZS0+dWFw
aSkgewo+ICsJCXVpbnRfZml4ZWRfMTZfMTZfdCBwbGFuZV9kb3duc2NhbGU7Cj4gKwkJY29uc3Qg
c3RydWN0IGludGVsX3BsYW5lX3N0YXRlICpwbGFuZV9zdGF0ZSA9Cj4gKwkJCXRvX2ludGVsX3Bs
YW5lX3N0YXRlKGRybV9wbGFuZV9zdGF0ZSk7Cj4gKwo+ICsJCWlmICghaW50ZWxfd21fcGxhbmVf
dmlzaWJsZShjcnRjX3N0YXRlLCBwbGFuZV9zdGF0ZSkpCj4gKwkJCWNvbnRpbnVlOwo+ICsKPiAr
CQlwbGFuZV9kb3duc2NhbGUgPSBza2xfcGxhbmVfZG93bnNjYWxlX2Ftb3VudChjcnRjX3N0YXRl
LCBwbGFuZV9zdGF0ZSk7Cj4gKwo+ICsJCURSTV9ERUJVR19LTVMoIlBsYW5lICVkIGRvd25zY2Fs
ZSBhbW91bnQgJWQuJWRcbiIsCj4gKwkJCSAgICAgIHRvX2ludGVsX3BsYW5lKHBsYW5lKS0+aWQs
Cj4gKwkJCSAgICAgIHBsYW5lX2Rvd25zY2FsZS52YWwgPj4gMTYsCj4gKwkJCSAgICAgIHBsYW5l
X2Rvd25zY2FsZS52YWwgJiAweGZmZmYpOwo+ICsKPiArCQltYXhfZG93bnNjYWxlID0gbWF4X2Zp
eGVkMTYocGxhbmVfZG93bnNjYWxlLCBtYXhfZG93bnNjYWxlKTsKPiArCX0KPiArCj4gKwo+ICsJ
cGlwZV9kb3duc2NhbGUgPSBza2xfcGlwZV9kb3duc2NhbGVfYW1vdW50KGNydGNfc3RhdGUpOwo+
ICsKPiArCURSTV9ERUJVR19LTVMoIlBpcGUgJWQgZG93bnNjYWxlIGFtb3VudCAlZC4lZFxuIiwK
PiArCQkgICAgICAgY3J0Yy0+cGlwZSwgcGlwZV9kb3duc2NhbGUudmFsID4+IDE2LAo+ICsJCSAg
ICAgICBwaXBlX2Rvd25zY2FsZS52YWwgJiAweGZmZmYpOwo+ICsKPiArCXBpcGVfZG93bnNjYWxl
ID0gbXVsX2ZpeGVkMTYocGlwZV9kb3duc2NhbGUsIG1heF9kb3duc2NhbGUpOwo+ICsKPiArCS8q
IENvbnZlcnQgcmVzdWx0IHRvIHBlcmNlbnRhZ2UgKi8KPiArCXBpcGVfcmF0aW8gPSB1MzJfdG9f
Zml4ZWQxNigxMDAgKiBkaXZfcm91bmRfdXBfdTMyX2ZpeGVkMTYoMSwgcGlwZV9kb3duc2NhbGUp
KTsKPiArCj4gKwlEUk1fREVCVUdfS01TKCJQaXBlICVkIHJhdGlvICVkLiVkXG4iLCBjcnRjLT5w
aXBlLAo+ICsJCSAgICAgIHBpcGVfcmF0aW8udmFsID4+IDE2LCBwaXBlX3JhdGlvLnZhbCAmIDB4
ZmZmZik7Cj4gKwo+ICsJcmV0dXJuIHBpcGVfcmF0aW87Cj4gK30KPiArCj4gK3N0cnVjdCBkYnVm
X3NsaWNlX2NvbmZfZW50cnkgewo+ICsJdTMyIGRidWZfbWFza1tJOTE1X01BWF9QSVBFU107Cj4g
Kwl1MzIgYWN0aXZlX3BpcGVzOwo+ICt9Owo+ICsKPiArCj4gKyNkZWZpbmUgSUNMX1BJUEVfQV9E
QlVGX1NMSUNFUyhEQnVmMSkgIFwKPiArCXsgeyBEQnVmMSwgMCwgMCwgMCB9LCBCSVQoUElQRV9B
KSB9Cj4gKyNkZWZpbmUgSUNMX1BJUEVfQl9EQlVGX1NMSUNFUyhEQnVmMSkgIFwKPiArCXsgeyAw
LCBEQnVmMSwgMCwgMCB9LCBCSVQoUElQRV9CKSB9Cj4gKyNkZWZpbmUgSUNMX1BJUEVfQ19EQlVG
X1NMSUNFUyhEQnVmMSkgIFwKPiArCXsgeyAwLCAwLCBEQnVmMSwgMCB9LCBCSVQoUElQRV9DKSB9
Cj4gKyNkZWZpbmUgSUNMX1BJUEVfRF9EQlVGX1NMSUNFUyhEQnVmMSkgIFwKPiArCXsgeyAwLCAw
LCAwLCBEQnVmMSB9LCBCSVQoUElQRV9EKSB9Cj4gKyNkZWZpbmUgSUNMX1BJUEVfQUJfREJVRl9T
TElDRVMoREJ1ZjEsIERCdWYyKSAgIFwKPiArCXsgeyBEQnVmMSwgREJ1ZjIsIDAsIDAgfSwgQklU
KFBJUEVfQSkgfCBCSVQoUElQRV9CKSB9Cj4gKyNkZWZpbmUgSUNMX1BJUEVfQkNfREJVRl9TTElD
RVMoREJ1ZjEsIERCdWYyKSAgIFwKPiArCXsgeyAwLCBEQnVmMSwgREJ1ZjIsIDAgfSwgQklUKFBJ
UEVfQikgfCBCSVQoUElQRV9DKSB9Cj4gKyNkZWZpbmUgSUNMX1BJUEVfQkRfREJVRl9TTElDRVMo
REJ1ZjEsIERCdWYyKSAgIFwKPiArCXsgeyAwLCBEQnVmMSwgMCwgREJ1ZjIgfSwgQklUKFBJUEVf
QikgfCBCSVQoUElQRV9EKSB9Cj4gKyNkZWZpbmUgSUNMX1BJUEVfQUNfREJVRl9TTElDRVMoREJ1
ZjEsIERCdWYyKSAgIFwKPiArCXsgeyBEQnVmMSwgMCwgREJ1ZjIsIDAgfSwgQklUKFBJUEVfQSkg
fCBCSVQoUElQRV9DKSB9Cj4gKyNkZWZpbmUgSUNMX1BJUEVfQURfREJVRl9TTElDRVMoREJ1ZjEs
IERCdWYyKSAgIFwKPiArCXsgeyBEQnVmMSwgMCwgMCwgREJ1ZjIgfSwgQklUKFBJUEVfQSkgfCBC
SVQoUElQRV9EKSB9Cj4gKyNkZWZpbmUgSUNMX1BJUEVfQ0RfREJVRl9TTElDRVMoREJ1ZjEsIERC
dWYyKSAgIFwKPiArCXsgeyAwLCAwLCBEQnVmMSwgREJ1ZjIgfSwgQklUKFBJUEVfQykgfCBCSVQo
UElQRV9EKSB9Cj4gKyNkZWZpbmUgSUNMX1BJUEVfQUJDX0RCVUZfU0xJQ0VTKERCdWYxLCBEQnVm
MiwgREJ1ZjMpICBcCj4gKwl7IHsgREJ1ZjEsIERCdWYyLCBEQnVmMywgMCB9LCBCSVQoUElQRV9B
KSB8IEJJVChQSVBFX0IpIHwgQklUKFBJUEVfQykgfQo+ICsjZGVmaW5lIElDTF9QSVBFX0FDRF9E
QlVGX1NMSUNFUyhEQnVmMSwgREJ1ZjIsIERCdWYzKSAgXAo+ICsJeyB7IERCdWYxLCAwLCBEQnVm
MiwgREJ1ZjMgfSwgQklUKFBJUEVfQSkgfCBCSVQoUElQRV9DKSB8IEJJVChQSVBFX0QpIH0KPiAr
I2RlZmluZSBJQ0xfUElQRV9CQ0RfREJVRl9TTElDRVMoREJ1ZjEsIERCdWYyLCBEQnVmMykgIFwK
PiArCXsgeyAwLCBEQnVmMSwgREJ1ZjIsIERCdWYzIH0sIEJJVChQSVBFX0IpIHwgQklUKFBJUEVf
QykgfCBCSVQoUElQRV9EKSB9Cj4gKyNkZWZpbmUgSUNMX1BJUEVfQUJEX0RCVUZfU0xJQ0VTKERC
dWYxLCBEQnVmMiwgREJ1ZjMpICBcCj4gKwl7IHsgREJ1ZjEsIERCdWYyLCAwLCBEQnVmMyB9LCBC
SVQoUElQRV9BKSB8IEJJVChQSVBFX0IpIHwgQklUKFBJUEVfRCkgfQo+ICsjZGVmaW5lIElDTF9Q
SVBFX0FCQ19EQlVGX1NMSUNFUyhEQnVmMSwgREJ1ZjIsIERCdWYzKSAgXAo+ICsJeyB7IERCdWYx
LCBEQnVmMiwgREJ1ZjMsIDAgfSwgQklUKFBJUEVfQSkgfCBCSVQoUElQRV9CKSB8IEJJVChQSVBF
X0MpIH0KPiArI2RlZmluZSBJQ0xfUElQRV9BQkNEX0RCVUZfU0xJQ0VTKERCdWYxLCBEQnVmMiwg
REJ1ZjMsIERCdWY0KSAgXAo+ICsJeyB7IERCdWYxLCBEQnVmMiwgREJ1ZjMsIERCdWY0IH0sIEJJ
VChQSVBFX0EpIHwgQklUKFBJUEVfQikgfCBcCj4gKwkJCQkJICBCSVQoUElQRV9DKSB8IEJJVChQ
SVBFX0QpIH0KPiArCj4gKy8qCj4gKyAqIFRhYmxlIHRha2VuIGZyb20gQnNwZWMgMTI3MTYKPiAr
ICogUGlwZXMgZG8gaGF2ZSBzb21lIHByZWZlcnJlZCBEQnVmIHNsaWNlIGFmZmluaXR5LAo+ICsg
KiBwbHVzIHRoZXJlIGFyZSBzb21lIGhhcmRjb2RlZCByZXF1aXJlbWVudHMgb24gaG93Cj4gKyAq
IHRob3NlIHNob3VsZCBiZSBkaXN0cmlidXRlZCBmb3IgbXVsdGlwaXBlIHNjZW5hcmlvcy4KPiAr
ICogRm9yIG1vcmUgREJ1ZiBzbGljZXMgYWxnb3JpdGhtIGNhbiBnZXQgZXZlbiBtb3JlIG1lc3N5
Cj4gKyAqIGFuZCBsZXNzIHJlYWRhYmxlLCBzbyBkZWNpZGVkIHRvIHVzZSBhIHRhYmxlIGFsbW9z
dAo+ICsgKiBhcyBpcyBmcm9tIEJTcGVjIGl0c2VsZiAtIHRoYXQgd2F5IGl0IGlzIGF0IGxlYXN0
IGVhc2llcgo+ICsgKiB0byBjb21wYXJlLCBjaGFuZ2UgYW5kIGNoZWNrLgo+ICsgKi8KPiArc3Ry
dWN0IGRidWZfc2xpY2VfY29uZl9lbnRyeSBpY2xfYWxsb3dlZF9kYnVmc1tdID0gewo+ICt7IHsg
MCwgMCwgMCwgMCB9LCAwIH0sCj4gK0lDTF9QSVBFX0FfREJVRl9TTElDRVMoREJVRl9TMV9CSVQg
fCBEQlVGX1MyX0JJVCksICAvKiBwaXBlIHJhdGlvIDwgODguOCAqLwo+ICtJQ0xfUElQRV9BX0RC
VUZfU0xJQ0VTKERCVUZfUzFfQklUKSwgICAgICAgICAgICAgICAgLyogZm9yIHBpcGUgcmF0aW8g
Pj0gODguOCAqLwo+ICtJQ0xfUElQRV9CX0RCVUZfU0xJQ0VTKERCVUZfUzFfQklUIHwgREJVRl9T
Ml9CSVQpLCAgLyogcGlwZSByYXRpbyA8IDg4LjggKi8KPiArSUNMX1BJUEVfQl9EQlVGX1NMSUNF
UyhEQlVGX1MxX0JJVCksICAgICAgICAgICAgICAgIC8qIGZvciBwaXBlIHJhdGlvID49IDg4Ljgg
Ki8KPiArSUNMX1BJUEVfQ19EQlVGX1NMSUNFUyhEQlVGX1MxX0JJVCB8IERCVUZfUzJfQklUKSwg
IC8qIHBpcGUgcmF0aW8gPCA4OC44ICovCj4gK0lDTF9QSVBFX0NfREJVRl9TTElDRVMoREJVRl9T
Ml9CSVQpLCAgICAgICAgICAgICAgICAvKiBmb3IgcGlwZSByYXRpbyA+PSA4OC44ICovCj4gK0lD
TF9QSVBFX0FCX0RCVUZfU0xJQ0VTKERCVUZfUzFfQklULCBEQlVGX1MyX0JJVCksCj4gK0lDTF9Q
SVBFX0FDX0RCVUZfU0xJQ0VTKERCVUZfUzFfQklULCBEQlVGX1MyX0JJVCksCj4gK0lDTF9QSVBF
X0JDX0RCVUZfU0xJQ0VTKERCVUZfUzFfQklULCBEQlVGX1MyX0JJVCksCj4gK0lDTF9QSVBFX0FC
Q19EQlVGX1NMSUNFUyhEQlVGX1MxX0JJVCwgREJVRl9TMV9CSVQsIERCVUZfUzJfQklUKSwKPiAr
fTsKPiArCj4gKy8qCj4gKyAqIFRhYmxlIHRha2VuIGZyb20gQnNwZWMgNDkyNTUKPiArICogUGlw
ZXMgZG8gaGF2ZSBzb21lIHByZWZlcnJlZCBEQnVmIHNsaWNlIGFmZmluaXR5LAo+ICsgKiBwbHVz
IHRoZXJlIGFyZSBzb21lIGhhcmRjb2RlZCByZXF1aXJlbWVudHMgb24gaG93Cj4gKyAqIHRob3Nl
IHNob3VsZCBiZSBkaXN0cmlidXRlZCBmb3IgbXVsdGlwaXBlIHNjZW5hcmlvcy4KPiArICogRm9y
IG1vcmUgREJ1ZiBzbGljZXMgYWxnb3JpdGhtIGNhbiBnZXQgZXZlbiBtb3JlIG1lc3N5Cj4gKyAq
IGFuZCBsZXNzIHJlYWRhYmxlLCBzbyBkZWNpZGVkIHRvIHVzZSBhIHRhYmxlIGFsbW9zdAo+ICsg
KiBhcyBpcyBmcm9tIEJTcGVjIGl0c2VsZiAtIHRoYXQgd2F5IGl0IGlzIGF0IGxlYXN0IGVhc2ll
cgo+ICsgKiB0byBjb21wYXJlLCBjaGFuZ2UgYW5kIGNoZWNrLgo+ICsgKi8KPiArc3RydWN0IGRi
dWZfc2xpY2VfY29uZl9lbnRyeSB0Z2xfYWxsb3dlZF9kYnVmc1tdID0gewo+ICt7IHsgMCwgMCwg
MCwgMCB9LCAwIH0sCj4gK0lDTF9QSVBFX0FfREJVRl9TTElDRVMoREJVRl9TMV9CSVQgfCBEQlVG
X1MyX0JJVCksCj4gK0lDTF9QSVBFX0JfREJVRl9TTElDRVMoREJVRl9TMV9CSVQgfCBEQlVGX1My
X0JJVCksCj4gK0lDTF9QSVBFX0NfREJVRl9TTElDRVMoREJVRl9TMV9CSVQgfCBEQlVGX1MyX0JJ
VCksCj4gK0lDTF9QSVBFX0RfREJVRl9TTElDRVMoREJVRl9TMV9CSVQgfCBEQlVGX1MyX0JJVCks
Cj4gK0lDTF9QSVBFX0FCX0RCVUZfU0xJQ0VTKERCVUZfUzFfQklULCBEQlVGX1MyX0JJVCksCj4g
K0lDTF9QSVBFX0FDX0RCVUZfU0xJQ0VTKERCVUZfUzFfQklULCBEQlVGX1MyX0JJVCksCj4gK0lD
TF9QSVBFX0JDX0RCVUZfU0xJQ0VTKERCVUZfUzFfQklULCBEQlVGX1MyX0JJVCksCj4gK0lDTF9Q
SVBFX0FEX0RCVUZfU0xJQ0VTKERCVUZfUzFfQklULCBEQlVGX1MyX0JJVCksCj4gK0lDTF9QSVBF
X0JEX0RCVUZfU0xJQ0VTKERCVUZfUzFfQklULCBEQlVGX1MyX0JJVCksCj4gK0lDTF9QSVBFX0NE
X0RCVUZfU0xJQ0VTKERCVUZfUzFfQklULCBEQlVGX1MyX0JJVCksCj4gK0lDTF9QSVBFX0FCRF9E
QlVGX1NMSUNFUyhEQlVGX1MxX0JJVCwgREJVRl9TMV9CSVQsIERCVUZfUzJfQklUKSwKPiArSUNM
X1BJUEVfQUJDX0RCVUZfU0xJQ0VTKERCVUZfUzFfQklULCBEQlVGX1MxX0JJVCwgREJVRl9TMl9C
SVQpLAo+ICtJQ0xfUElQRV9BQ0RfREJVRl9TTElDRVMoREJVRl9TMV9CSVQsIERCVUZfUzJfQklU
LCBEQlVGX1MyX0JJVCksCj4gK0lDTF9QSVBFX0JDRF9EQlVGX1NMSUNFUyhEQlVGX1MxX0JJVCwg
REJVRl9TMl9CSVQsIERCVUZfUzJfQklUKSwKPiArSUNMX1BJUEVfQUJDRF9EQlVGX1NMSUNFUyhE
QlVGX1MxX0JJVCwgREJVRl9TMV9CSVQsIERCVUZfUzJfQklULCBEQlVGX1MyX0JJVCksCj4gK307
Cj4gKwo+ICsvKgo+ICsgKiBUaGlzIGZ1bmN0aW9uIGZpbmRzIGFuIGVudHJ5IHdpdGggc2FtZSBl
bmFibGVkIHBpcGUgY29uZmlndXJhdGlvbiBhbmQKPiArICogcmV0dXJucyBjb3JyZXNwb25kZW50
IERCdWYgc2xpY2UgbWFzayBhcyBzdGF0ZWQgaW4gQlNwZWMgZm9yIHBhcnRpY3VsYXIKPiArICog
cGxhdGZvcm0uCj4gKyAqLwo+ICtzdGF0aWMgdTMyIGljbF9nZXRfYWxsb3dlZF9kYnVmX21hc2so
aW50IHBpcGUsCj4gKwkJCQkgICAgIHUzMiBhY3RpdmVfcGlwZXMsCj4gKwkJCQkgICAgIGNvbnN0
IHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpjcnRjX3N0YXRlKQo+ICt7Cj4gKwlpbnQgaTsKPiAr
CXVpbnRfZml4ZWRfMTZfMTZfdCBwaXBlX3JhdGlvOwo+ICsKPiArCS8qCj4gKwkgKiBDYWxjdWxh
dGUgcGlwZSByYXRpbyBhcyBzdGF0ZWQgaW4gQlNwZWMgMjg2OTIKPiArCSAqLwo+ICsJcGlwZV9y
YXRpbyA9IGljbF9nZXRfcGlwZV9yYXRpbyhjcnRjX3N0YXRlKTsKPiArCj4gKwlmb3IgKGkgPSAw
OyBpIDwgQVJSQVlfU0laRShpY2xfYWxsb3dlZF9kYnVmcyk7IGkrKykgewo+ICsJCWlmIChpY2xf
YWxsb3dlZF9kYnVmc1tpXS5hY3RpdmVfcGlwZXMgPT0gYWN0aXZlX3BpcGVzKSB7Cj4gKwkJCWlm
IChod2VpZ2h0MzIoYWN0aXZlX3BpcGVzKSA9PSAxKSB7Cj4gKwkJCQkvKgo+ICsJCQkJICogQWNj
b3JkaW5nIHRvIEJTcGVjIDEyNzE2OiBpZiByYXRpbyA+PSA4OC44Cj4gKwkJCQkgKiBhbHdheXMg
dXNlIHNpbmdsZSBkYnVmIHNsaWNlLgo+ICsJCQkJICovCj4gKwkJCQlpZiAocGlwZV9yYXRpby52
YWwgPj0gZGl2X2ZpeGVkMTYoODg4LCAxMCkudmFsKQo+ICsJCQkJCSsraTsKPiArCQkJfQo+ICsJ
CQlyZXR1cm4gaWNsX2FsbG93ZWRfZGJ1ZnNbaV0uZGJ1Zl9tYXNrW3BpcGVdOwo+ICsJCX0KPiAr
CX0KPiArCXJldHVybiAwOwo+ICt9Cj4gKwo+ICsvKgo+ICsgKiBUaGlzIGZ1bmN0aW9uIGZpbmRz
IGFuIGVudHJ5IHdpdGggc2FtZSBlbmFibGVkIHBpcGUgY29uZmlndXJhdGlvbiBhbmQKPiArICog
cmV0dXJucyBjb3JyZXNwb25kZW50IERCdWYgc2xpY2UgbWFzayBhcyBzdGF0ZWQgaW4gQlNwZWMg
Zm9yIHBhcnRpY3VsYXIKPiArICogcGxhdGZvcm0uCj4gKyAqLwo+ICtzdGF0aWMgdTMyIHRnbF9n
ZXRfYWxsb3dlZF9kYnVmX21hc2soaW50IHBpcGUsCj4gKwkJCQkgICAgIHUzMiBhY3RpdmVfcGlw
ZXMsCj4gKwkJCQkgICAgIGNvbnN0IHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpjcnRjX3N0YXRl
KQo+ICt7Cj4gKwlpbnQgaTsKPiArCj4gKwlmb3IgKGkgPSAwOyBpIDwgQVJSQVlfU0laRSh0Z2xf
YWxsb3dlZF9kYnVmcyk7IGkrKykgewo+ICsJCWlmICh0Z2xfYWxsb3dlZF9kYnVmc1tpXS5hY3Rp
dmVfcGlwZXMgPT0gYWN0aXZlX3BpcGVzKQo+ICsJCQlyZXR1cm4gdGdsX2FsbG93ZWRfZGJ1ZnNb
aV0uZGJ1Zl9tYXNrW3BpcGVdOwo+ICsJfQo+ICsJcmV0dXJuIDA7Cj4gK30KPiArCj4gK3UzMiBp
OTE1X2dldF9hbGxvd2VkX2RidWZfbWFzayhzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3By
aXYsCj4gKwkJCQkgICAgICBpbnQgcGlwZSwgdTMyIGFjdGl2ZV9waXBlcywKPiArCQkJCSAgICAg
IGNvbnN0IHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpjcnRjX3N0YXRlKQo+ICt7Cj4gKwlpZiAo
SVNfR0VOKGRldl9wcml2LCAxMSkpCj4gKwkJcmV0dXJuIGljbF9nZXRfYWxsb3dlZF9kYnVmX21h
c2socGlwZSwKPiArCQkJCQkJIGFjdGl2ZV9waXBlcywKPiArCQkJCQkJIGNydGNfc3RhdGUpOwo+
ICsJZWxzZSBpZiAoSVNfR0VOKGRldl9wcml2LCAxMikpCj4gKwkJcmV0dXJuIHRnbF9nZXRfYWxs
b3dlZF9kYnVmX21hc2socGlwZSwKPiArCQkJCQkJIGFjdGl2ZV9waXBlcywKPiArCQkJCQkJIGNy
dGNfc3RhdGUpOwo+ICsJLyoKPiArCSAqIEZvciBhbnl0aGluZyBlbHNlIGp1c3QgcmV0dXJuIG9u
ZSBzbGljZSB5ZXQuCj4gKwkgKiBTaG91bGQgYmUgZXh0ZW5kZWQgZm9yIG90aGVyIHBsYXRmb3Jt
cy4KPiArCSAqLwo+ICsJcmV0dXJuIERCVUZfUzFfQklUOwo+ICt9Cj4gKwo+ICBzdGF0aWMgdTY0
Cj4gIGljbF9nZXRfdG90YWxfcmVsYXRpdmVfZGF0YV9yYXRlKHN0cnVjdCBpbnRlbF9jcnRjX3N0
YXRlICpjcnRjX3N0YXRlLAo+ICAJCQkJIHU2NCAqcGxhbmVfZGF0YV9yYXRlKQo+IC0tIAo+IDIu
MTcuMQo+IAoKLS0gCk1hdHQgUm9wZXIKR3JhcGhpY3MgU29mdHdhcmUgRW5naW5lZXIKVlRULU9T
R0MgUGxhdGZvcm0gRW5hYmxlbWVudApJbnRlbCBDb3Jwb3JhdGlvbgooOTE2KSAzNTYtMjc5NQpf
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpJbnRlbC1nZngg
bWFpbGluZyBsaXN0CkludGVsLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0
cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9pbnRlbC1nZng=

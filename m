Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 1807CC8D7B
	for <lists+intel-gfx@lfdr.de>; Wed,  2 Oct 2019 17:58:20 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 8A29A6E28A;
	Wed,  2 Oct 2019 15:58:17 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga12.intel.com (mga12.intel.com [192.55.52.136])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 9A13C6E28A
 for <intel-gfx@lists.freedesktop.org>; Wed,  2 Oct 2019 15:58:16 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from fmsmga008.fm.intel.com ([10.253.24.58])
 by fmsmga106.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 02 Oct 2019 08:58:15 -0700
X-IronPort-AV: E=Sophos;i="5.67,249,1566889200"; d="scan'208";a="190982545"
Received: from paaron-mobl.ger.corp.intel.com (HELO [10.251.93.134])
 ([10.251.93.134])
 by fmsmga008-auth.fm.intel.com with ESMTP/TLS/AES256-SHA;
 02 Oct 2019 08:58:14 -0700
To: Chris Wilson <chris@chris-wilson.co.uk>, intel-gfx@lists.freedesktop.org
References: <20191002112000.12280-1-chris@chris-wilson.co.uk>
 <20191002112000.12280-14-chris@chris-wilson.co.uk>
From: Tvrtko Ursulin <tvrtko.ursulin@linux.intel.com>
Organization: Intel Corporation UK Plc
Message-ID: <5040463d-bf8b-d488-0537-22d21d843564@linux.intel.com>
Date: Wed, 2 Oct 2019 16:58:13 +0100
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101
 Thunderbird/60.8.0
MIME-Version: 1.0
In-Reply-To: <20191002112000.12280-14-chris@chris-wilson.co.uk>
Content-Language: en-US
Subject: Re: [Intel-gfx] [PATCH 14/30] drm/i915: Move request runtime
 management onto gt
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

Ck9uIDAyLzEwLzIwMTkgMTI6MTksIENocmlzIFdpbHNvbiB3cm90ZToKPiBSZXF1ZXN0cyBhcmUg
cnVuIGZyb20gdGhlIGd0IGFuZCBhcmUgdGlkZWQgaW50byB0aGUgZ3QgcnVudGltZSBwb3dlcgo+
IG1hbmFnZW1lbnQsIHNvIHB1bGwgdGhlIHJ1bnRpbWUgcmVxdWVzdCBtYW5hZ2VtZW50IHVuZGVy
IGd0Lwo+IAo+IFNpZ25lZC1vZmYtYnk6IENocmlzIFdpbHNvbiA8Y2hyaXNAY2hyaXMtd2lsc29u
LmNvLnVrPgo+IC0tLQo+ICAgZHJpdmVycy9ncHUvZHJtL2k5MTUvTWFrZWZpbGUgICAgICAgICAg
ICAgICAgIHwgICAxICsKPiAgIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9tbWFu
LmMgICAgICB8ICAgNCArLQo+ICAgZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX3Bt
LmMgICAgICAgIHwgIDI4ICstLS0KPiAgIC4uLi9kcm0vaTkxNS9nZW0vc2VsZnRlc3RzL2k5MTVf
Z2VtX2NvbnRleHQuYyB8ICAgNSArLQo+ICAgLi4uL2RybS9pOTE1L2dlbS9zZWxmdGVzdHMvaTkx
NV9nZW1fbW1hbi5jICAgIHwgICAyICstCj4gICBkcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRl
bF9ndC5jICAgICAgICAgICAgfCAgIDIgKwo+ICAgZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50
ZWxfZ3RfcG0uYyAgICAgICAgIHwgICA1ICstCj4gICBkcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9p
bnRlbF9ndF9yZXF1ZXN0cy5jICAgfCAxMjMgKysrKysrKysrKysrKysrKysrCj4gICBkcml2ZXJz
L2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9ndF9yZXF1ZXN0cy5oICAgfCAgMjQgKysrKwo+ICAgZHJp
dmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZ3RfdHlwZXMuaCAgICAgIHwgIDExICsrCj4gICBk
cml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9zZWxmdGVzdF90aW1lbGluZS5jICAgfCAgIDggKy0KPiAg
IGRyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZGVidWdmcy5jICAgICAgICAgICB8ICAxNyArLS0K
PiAgIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZHJ2LmggICAgICAgICAgICAgICB8ICAxMCAt
LQo+ICAgZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9nZW0uYyAgICAgICAgICAgICAgIHwgIDE3
IC0tLQo+ICAgZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9nZW1fZXZpY3QuYyAgICAgICAgIHwg
IDE0ICstCj4gICBkcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2dlbV9ndHQuYyAgICAgICAgICAg
fCAgIDUgKy0KPiAgIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfcmVxdWVzdC5jICAgICAgICAg
ICB8ICA2NCArLS0tLS0tLS0KPiAgIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfcmVxdWVzdC5o
ICAgICAgICAgICB8ICAgNyArLQo+ICAgLi4uL2dwdS9kcm0vaTkxNS9zZWxmdGVzdHMvaWd0X2Zs
dXNoX3Rlc3QuYyAgIHwgICA5ICstCj4gICAuLi4vZ3B1L2RybS9pOTE1L3NlbGZ0ZXN0cy9pZ3Rf
bGl2ZV90ZXN0LmMgICAgfCAgIDUgKy0KPiAgIC4uLi9ncHUvZHJtL2k5MTUvc2VsZnRlc3RzL21v
Y2tfZ2VtX2RldmljZS5jICB8ICAxMCArLQo+ICAgMjEgZmlsZXMgY2hhbmdlZCwgMjEzIGluc2Vy
dGlvbnMoKyksIDE1OCBkZWxldGlvbnMoLSkKPiAgIGNyZWF0ZSBtb2RlIDEwMDY0NCBkcml2ZXJz
L2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9ndF9yZXF1ZXN0cy5jCj4gICBjcmVhdGUgbW9kZSAxMDA2
NDQgZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZ3RfcmVxdWVzdHMuaAo+IAo+IGRpZmYg
LS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9NYWtlZmlsZSBiL2RyaXZlcnMvZ3B1L2RybS9p
OTE1L01ha2VmaWxlCj4gaW5kZXggZDJiNTNiNWFkZDgxLi4wNmUxODc2ZDAyNTAgMTAwNjQ0Cj4g
LS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvTWFrZWZpbGUKPiArKysgYi9kcml2ZXJzL2dwdS9k
cm0vaTkxNS9NYWtlZmlsZQo+IEBAIC04Myw2ICs4Myw3IEBAIGd0LXkgKz0gXAo+ICAgCWd0L2lu
dGVsX2d0X2lycS5vIFwKPiAgIAlndC9pbnRlbF9ndF9wbS5vIFwKPiAgIAlndC9pbnRlbF9ndF9w
bV9pcnEubyBcCj4gKwlndC9pbnRlbF9ndF9yZXF1ZXN0cy5vIFwKPiAgIAlndC9pbnRlbF9oYW5n
Y2hlY2subyBcCj4gICAJZ3QvaW50ZWxfbHJjLm8gXAo+ICAgCWd0L2ludGVsX3JjNi5vIFwKPiBk
aWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX21tYW4uYyBiL2Ry
aXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9tbWFuLmMKPiBpbmRleCA0NWJiZDIyYzE0
ZjEuLmZkNDEyMmQ4YzBhOSAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0v
aTkxNV9nZW1fbW1hbi5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2Vt
X21tYW4uYwo+IEBAIC04LDYgKzgsNyBAQAo+ICAgI2luY2x1ZGUgPGxpbnV4L3NpemVzLmg+Cj4g
ICAKPiAgICNpbmNsdWRlICJndC9pbnRlbF9ndC5oIgo+ICsjaW5jbHVkZSAiZ3QvaW50ZWxfZ3Rf
cmVxdWVzdHMuaCIKPiAgIAo+ICAgI2luY2x1ZGUgImk5MTVfZHJ2LmgiCj4gICAjaW5jbHVkZSAi
aTkxNV9nZW1fZ3R0LmgiCj4gQEAgLTQyNCw2ICs0MjUsNyBAQCB2b2lkIGk5MTVfZ2VtX29iamVj
dF9yZWxlYXNlX21tYXAoc3RydWN0IGRybV9pOTE1X2dlbV9vYmplY3QgKm9iaikKPiAgIHN0YXRp
YyBpbnQgY3JlYXRlX21tYXBfb2Zmc2V0KHN0cnVjdCBkcm1faTkxNV9nZW1fb2JqZWN0ICpvYmop
Cj4gICB7Cj4gICAJc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUgPSB0b19pOTE1KG9iai0+
YmFzZS5kZXYpOwo+ICsJc3RydWN0IGludGVsX2d0ICpndCA9ICZpOTE1LT5ndDsKPiAgIAlpbnQg
ZXJyOwo+ICAgCj4gICAJZXJyID0gZHJtX2dlbV9jcmVhdGVfbW1hcF9vZmZzZXQoJm9iai0+YmFz
ZSk7Cj4gQEAgLTQzMSw3ICs0MzMsNyBAQCBzdGF0aWMgaW50IGNyZWF0ZV9tbWFwX29mZnNldChz
dHJ1Y3QgZHJtX2k5MTVfZ2VtX29iamVjdCAqb2JqKQo+ICAgCQlyZXR1cm4gMDsKPiAgIAo+ICAg
CS8qIEF0dGVtcHQgdG8gcmVhcCBzb21lIG1tYXAgc3BhY2UgZnJvbSBkZWFkIG9iamVjdHMgKi8K
PiAtCWVyciA9IGk5MTVfcmV0aXJlX3JlcXVlc3RzX3RpbWVvdXQoaTkxNSwgTUFYX1NDSEVEVUxF
X1RJTUVPVVQpOwo+ICsJZXJyID0gaW50ZWxfZ3RfcmV0aXJlX3JlcXVlc3RzX3RpbWVvdXQoZ3Qs
IE1BWF9TQ0hFRFVMRV9USU1FT1VUKTsKPiAgIAlpZiAoZXJyKQo+ICAgCQlyZXR1cm4gZXJyOwo+
ICAgCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9wbS5j
IGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX3BtLmMKPiBpbmRleCA5MGIyMTEy
NTdmMmQuLjkxOTRkODQ2NGJmNyAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9n
ZW0vaTkxNV9nZW1fcG0uYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dl
bV9wbS5jCj4gQEAgLTcsMzEgKzcsMTggQEAKPiAgICNpbmNsdWRlICJnZW0vaTkxNV9nZW1fcG0u
aCIKPiAgICNpbmNsdWRlICJndC9pbnRlbF9ndC5oIgo+ICAgI2luY2x1ZGUgImd0L2ludGVsX2d0
X3BtLmgiCj4gKyNpbmNsdWRlICJndC9pbnRlbF9ndF9yZXF1ZXN0cy5oIgo+ICAgCj4gICAjaW5j
bHVkZSAiaTkxNV9kcnYuaCIKPiAgICNpbmNsdWRlICJpOTE1X2dsb2JhbHMuaCIKPiAgIAo+ICAg
c3RhdGljIHZvaWQgaTkxNV9nZW1fcGFyayhzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSkK
PiAgIHsKPiAtCWNhbmNlbF9kZWxheWVkX3dvcmsoJmk5MTUtPmdlbS5yZXRpcmVfd29yayk7Cj4g
LQo+ICAgCWk5MTVfdm1hX3BhcmtlZChpOTE1KTsKPiAgIAo+ICAgCWk5MTVfZ2xvYmFsc19wYXJr
KCk7Cj4gICB9Cj4gICAKPiAtc3RhdGljIHZvaWQgcmV0aXJlX3dvcmtfaGFuZGxlcihzdHJ1Y3Qg
d29ya19zdHJ1Y3QgKndvcmspCj4gLXsKPiAtCXN0cnVjdCBkcm1faTkxNV9wcml2YXRlICppOTE1
ID0KPiAtCQljb250YWluZXJfb2Yod29yaywgdHlwZW9mKCppOTE1KSwgZ2VtLnJldGlyZV93b3Jr
LndvcmspOwo+IC0KPiAtCWk5MTVfcmV0aXJlX3JlcXVlc3RzKGk5MTUpOwo+IC0KPiAtCXF1ZXVl
X2RlbGF5ZWRfd29yayhpOTE1LT53cSwKPiAtCQkJICAgJmk5MTUtPmdlbS5yZXRpcmVfd29yaywK
PiAtCQkJICAgcm91bmRfamlmZmllc191cF9yZWxhdGl2ZShIWikpOwo+IC19Cj4gLQo+ICAgc3Rh
dGljIGludCBwbV9ub3RpZmllcihzdHJ1Y3Qgbm90aWZpZXJfYmxvY2sgKm5iLAo+ICAgCQkgICAg
ICAgdW5zaWduZWQgbG9uZyBhY3Rpb24sCj4gICAJCSAgICAgICB2b2lkICpkYXRhKQo+IEBAIC00
Miw5ICsyOSw2IEBAIHN0YXRpYyBpbnQgcG1fbm90aWZpZXIoc3RydWN0IG5vdGlmaWVyX2Jsb2Nr
ICpuYiwKPiAgIAlzd2l0Y2ggKGFjdGlvbikgewo+ICAgCWNhc2UgSU5URUxfR1RfVU5QQVJLOgo+
ICAgCQlpOTE1X2dsb2JhbHNfdW5wYXJrKCk7Cj4gLQkJcXVldWVfZGVsYXllZF93b3JrKGk5MTUt
PndxLAo+IC0JCQkJICAgJmk5MTUtPmdlbS5yZXRpcmVfd29yaywKPiAtCQkJCSAgIHJvdW5kX2pp
ZmZpZXNfdXBfcmVsYXRpdmUoSFopKTsKPiAgIAkJYnJlYWs7Cj4gICAKPiAgIAljYXNlIElOVEVM
X0dUX1BBUks6Cj4gQEAgLTU5LDcgKzQzLDcgQEAgc3RhdGljIGJvb2wgc3dpdGNoX3RvX2tlcm5l
bF9jb250ZXh0X3N5bmMoc3RydWN0IGludGVsX2d0ICpndCkKPiAgIHsKPiAgIAlib29sIHJlc3Vs
dCA9ICFpbnRlbF9ndF9pc193ZWRnZWQoZ3QpOwo+ICAgCj4gLQlpZiAoaTkxNV9nZW1fd2FpdF9m
b3JfaWRsZShndC0+aTkxNSwgSTkxNV9HRU1fSURMRV9USU1FT1VUKSA9PSAtRVRJTUUpIHsKPiAr
CWlmIChpbnRlbF9ndF93YWl0X2Zvcl9pZGxlKGd0LCBJOTE1X0dFTV9JRExFX1RJTUVPVVQpID09
IC1FVElNRSkgewo+ICAgCQkvKiBYWFggaGlkZSB3YXJuaW5nIGZyb20gZ2VtX2VpbyAqLwo+ICAg
CQlpZiAoaTkxNV9tb2RwYXJhbXMucmVzZXQpIHsKPiAgIAkJCWRldl9lcnIoZ3QtPmk5MTUtPmRy
bS5kZXYsCj4gQEAgLTEyMiwxNCArMTA2LDEyIEBAIHZvaWQgaTkxNV9nZW1fc3VzcGVuZChzdHJ1
Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSkKPiAgIAkgKiBzdGF0ZS4gRm9ydHVuYXRlbHksIHRo
ZSBrZXJuZWxfY29udGV4dCBpcyBkaXNwb3NhYmxlIGFuZCB3ZSBkbwo+ICAgCSAqIG5vdCByZWx5
IG9uIGl0cyBzdGF0ZS4KPiAgIAkgKi8KPiAtCXN3aXRjaF90b19rZXJuZWxfY29udGV4dF9zeW5j
KCZpOTE1LT5ndCk7Cj4gKwlpbnRlbF9ndF9zdXNwZW5kKCZpOTE1LT5ndCk7Cj4gKwlpbnRlbF91
Y19zdXNwZW5kKCZpOTE1LT5ndC51Yyk7Cj4gICAKPiAgIAljYW5jZWxfZGVsYXllZF93b3JrX3N5
bmMoJmk5MTUtPmd0LmhhbmdjaGVjay53b3JrKTsKPiAgIAo+ICAgCWk5MTVfZ2VtX2RyYWluX2Zy
ZWVkX29iamVjdHMoaTkxNSk7Cj4gLQo+IC0JaW50ZWxfdWNfc3VzcGVuZCgmaTkxNS0+Z3QudWMp
Owo+IC0JaW50ZWxfZ3Rfc3VzcGVuZCgmaTkxNS0+Z3QpOwo+ICAgfQo+ICAgCj4gICBzdGF0aWMg
c3RydWN0IGRybV9pOTE1X2dlbV9vYmplY3QgKmZpcnN0X21tX29iamVjdChzdHJ1Y3QgbGlzdF9o
ZWFkICpsaXN0KQo+IEBAIC0yMzksOCArMjIxLDYgQEAgdm9pZCBpOTE1X2dlbV9yZXN1bWUoc3Ry
dWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUpCj4gICAKPiAgIHZvaWQgaTkxNV9nZW1faW5pdF9f
cG0oc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUpCj4gICB7Cj4gLQlJTklUX0RFTEFZRURf
V09SSygmaTkxNS0+Z2VtLnJldGlyZV93b3JrLCByZXRpcmVfd29ya19oYW5kbGVyKTsKPiAtCj4g
ICAJaTkxNS0+Z2VtLnBtX25vdGlmaWVyLm5vdGlmaWVyX2NhbGwgPSBwbV9ub3RpZmllcjsKPiAg
IAlibG9ja2luZ19ub3RpZmllcl9jaGFpbl9yZWdpc3RlcigmaTkxNS0+Z3QucG1fbm90aWZpY2F0
aW9ucywKPiAgIAkJCQkJICZpOTE1LT5nZW0ucG1fbm90aWZpZXIpOwo+IGRpZmYgLS1naXQgYS9k
cml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vc2VsZnRlc3RzL2k5MTVfZ2VtX2NvbnRleHQuYyBiL2Ry
aXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9zZWxmdGVzdHMvaTkxNV9nZW1fY29udGV4dC5jCj4gaW5k
ZXggZjkwMmFlZWUxNzU1Li4yMjg4NzU3ODA4YWUgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUv
ZHJtL2k5MTUvZ2VtL3NlbGZ0ZXN0cy9pOTE1X2dlbV9jb250ZXh0LmMKPiArKysgYi9kcml2ZXJz
L2dwdS9kcm0vaTkxNS9nZW0vc2VsZnRlc3RzL2k5MTVfZ2VtX2NvbnRleHQuYwo+IEBAIC04LDYg
KzgsNyBAQAo+ICAgCj4gICAjaW5jbHVkZSAiZ2VtL2k5MTVfZ2VtX3BtLmgiCj4gICAjaW5jbHVk
ZSAiZ3QvaW50ZWxfZ3QuaCIKPiArI2luY2x1ZGUgImd0L2ludGVsX2d0X3JlcXVlc3RzLmgiCj4g
ICAjaW5jbHVkZSAiZ3QvaW50ZWxfcmVzZXQuaCIKPiAgICNpbmNsdWRlICJpOTE1X3NlbGZ0ZXN0
LmgiCj4gICAKPiBAQCAtNTE4LDcgKzUxOSw3IEBAIGNyZWF0ZV90ZXN0X29iamVjdChzdHJ1Y3Qg
aTkxNV9hZGRyZXNzX3NwYWNlICp2bSwKPiAgIAlpbnQgZXJyOwo+ICAgCj4gICAJLyogS2VlcCBp
biBHRU0ncyBnb29kIGdyYWNlcyAqLwo+IC0JaTkxNV9yZXRpcmVfcmVxdWVzdHModm0tPmk5MTUp
Owo+ICsJaW50ZWxfZ3RfcmV0aXJlX3JlcXVlc3RzKHZtLT5ndCk7Cj4gICAKPiAgIAlzaXplID0g
bWluKHZtLT50b3RhbCAvIDIsIDEwMjR1bGwgKiBEV19QRVJfUEFHRSAqIFBBR0VfU0laRSk7Cj4g
ICAJc2l6ZSA9IHJvdW5kX2Rvd24oc2l6ZSwgRFdfUEVSX1BBR0UgKiBQQUdFX1NJWkUpOwo+IEBA
IC0xMTM2LDcgKzExMzcsNyBAQCBfX3NzZXVfZmluaXNoKGNvbnN0IGNoYXIgKm5hbWUsCj4gICAJ
CWlndF9zcGlubmVyX2VuZChzcGluKTsKPiAgIAo+ICAgCWlmICgoZmxhZ3MgJiBURVNUX0lETEUp
ICYmIHJldCA9PSAwKSB7Cj4gLQkJcmV0ID0gaTkxNV9nZW1fd2FpdF9mb3JfaWRsZShjZS0+ZW5n
aW5lLT5pOTE1LAo+ICsJCXJldCA9IGludGVsX2d0X3dhaXRfZm9yX2lkbGUoY2UtPmVuZ2luZS0+
Z3QsCj4gICAJCQkJCSAgICAgTUFYX1NDSEVEVUxFX1RJTUVPVVQpOwo+ICAgCQlpZiAocmV0KQo+
ICAgCQkJcmV0dXJuIHJldDsKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2Vt
L3NlbGZ0ZXN0cy9pOTE1X2dlbV9tbWFuLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vc2Vs
ZnRlc3RzL2k5MTVfZ2VtX21tYW4uYwo+IGluZGV4IDRiYTZlZDVjODMxMy4uMWNkMjVjZmQwMjQ2
IDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9zZWxmdGVzdHMvaTkxNV9n
ZW1fbW1hbi5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL3NlbGZ0ZXN0cy9pOTE1
X2dlbV9tbWFuLmMKPiBAQCAtNTczLDcgKzU3Myw3IEBAIHN0YXRpYyB2b2lkIGRpc2FibGVfcmV0
aXJlX3dvcmtlcihzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSkKPiAgIHsKPiAgIAlpOTE1
X2dlbV9kcml2ZXJfdW5yZWdpc3Rlcl9fc2hyaW5rZXIoaTkxNSk7Cj4gICAJaW50ZWxfZ3RfcG1f
Z2V0KCZpOTE1LT5ndCk7Cj4gLQljYW5jZWxfZGVsYXllZF93b3JrX3N5bmMoJmk5MTUtPmdlbS5y
ZXRpcmVfd29yayk7Cj4gKwljYW5jZWxfZGVsYXllZF93b3JrX3N5bmMoJmk5MTUtPmd0LnJlcXVl
c3RzLnJldGlyZV93b3JrKTsKPiAgIH0KPiAgIAo+ICAgc3RhdGljIHZvaWQgcmVzdG9yZV9yZXRp
cmVfd29ya2VyKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICppOTE1KQo+IGRpZmYgLS1naXQgYS9k
cml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9ndC5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUv
Z3QvaW50ZWxfZ3QuYwo+IGluZGV4IDcyMDU1OTUzNjliZS4uNTMyMjA3NDFlNDllIDEwMDY0NAo+
IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2d0LmMKPiArKysgYi9kcml2ZXJz
L2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9ndC5jCj4gQEAgLTYsNiArNiw3IEBACj4gICAjaW5jbHVk
ZSAiaTkxNV9kcnYuaCIKPiAgICNpbmNsdWRlICJpbnRlbF9ndC5oIgo+ICAgI2luY2x1ZGUgImlu
dGVsX2d0X3BtLmgiCj4gKyNpbmNsdWRlICJpbnRlbF9ndF9yZXF1ZXN0cy5oIgo+ICAgI2luY2x1
ZGUgImludGVsX21vY3MuaCIKPiAgICNpbmNsdWRlICJpbnRlbF9yYzYuaCIKPiAgICNpbmNsdWRl
ICJpbnRlbF91bmNvcmUuaCIKPiBAQCAtMjMsNiArMjQsNyBAQCB2b2lkIGludGVsX2d0X2luaXRf
ZWFybHkoc3RydWN0IGludGVsX2d0ICpndCwgc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUp
Cj4gICAKPiAgIAlpbnRlbF9ndF9pbml0X2hhbmdjaGVjayhndCk7Cj4gICAJaW50ZWxfZ3RfaW5p
dF9yZXNldChndCk7Cj4gKwlpbnRlbF9ndF9pbml0X3JlcXVlc3RzKGd0KTsKPiAgIAlpbnRlbF9n
dF9wbV9pbml0X2Vhcmx5KGd0KTsKPiAgIAlpbnRlbF91Y19pbml0X2Vhcmx5KCZndC0+dWMpOwo+
ICAgfQo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9ndF9wbS5j
IGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZ3RfcG0uYwo+IGluZGV4IGJkYjM0ZjAz
ZWM0Ny4uZDJlODBiYTY0ZDY5IDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0
L2ludGVsX2d0X3BtLmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9ndF9w
bS5jCj4gQEAgLTEwLDYgKzEwLDcgQEAKPiAgICNpbmNsdWRlICJpbnRlbF9lbmdpbmVfcG0uaCIK
PiAgICNpbmNsdWRlICJpbnRlbF9ndC5oIgo+ICAgI2luY2x1ZGUgImludGVsX2d0X3BtLmgiCj4g
KyNpbmNsdWRlICJpbnRlbF9ndF9yZXF1ZXN0cy5oIgo+ICAgI2luY2x1ZGUgImludGVsX3BtLmgi
Cj4gICAjaW5jbHVkZSAiaW50ZWxfcmM2LmgiCj4gICAjaW5jbHVkZSAiaW50ZWxfd2FrZXJlZi5o
Igo+IEBAIC00OSw2ICs1MCw3IEBAIHN0YXRpYyBpbnQgX19ndF91bnBhcmsoc3RydWN0IGludGVs
X3dha2VyZWYgKndmKQo+ICAgCWk5MTVfcG11X2d0X3VucGFya2VkKGk5MTUpOwo+ICAgCj4gICAJ
aW50ZWxfZ3RfcXVldWVfaGFuZ2NoZWNrKGd0KTsKPiArCWludGVsX2d0X3VucGFya19yZXF1ZXN0
cyhndCk7Cj4gICAKPiAgIAlwbV9ub3RpZnkoZ3QsIElOVEVMX0dUX1VOUEFSSyk7Cj4gICAKPiBA
QCAtNjQsNiArNjYsNyBAQCBzdGF0aWMgaW50IF9fZ3RfcGFyayhzdHJ1Y3QgaW50ZWxfd2FrZXJl
ZiAqd2YpCj4gICAJR0VNX1RSQUNFKCJcbiIpOwo+ICAgCj4gICAJcG1fbm90aWZ5KGd0LCBJTlRF
TF9HVF9QQVJLKTsKPiArCWludGVsX2d0X3BhcmtfcmVxdWVzdHMoZ3QpOwo+ICAgCj4gICAJaTkx
NV9wbXVfZ3RfcGFya2VkKGk5MTUpOwo+ICAgCWlmIChJTlRFTF9HRU4oaTkxNSkgPj0gNikKPiBA
QCAtMTk2LDcgKzE5OSw3IEBAIGludCBpbnRlbF9ndF9yZXN1bWUoc3RydWN0IGludGVsX2d0ICpn
dCkKPiAgIAo+ICAgc3RhdGljIHZvaWQgd2FpdF9mb3JfaWRsZShzdHJ1Y3QgaW50ZWxfZ3QgKmd0
KQo+ICAgewo+IC0JaWYgKGk5MTVfZ2VtX3dhaXRfZm9yX2lkbGUoZ3QtPmk5MTUsIEk5MTVfR0VN
X0lETEVfVElNRU9VVCkgPT0gLUVUSU1FKSB7Cj4gKwlpZiAoaW50ZWxfZ3Rfd2FpdF9mb3JfaWRs
ZShndCwgSTkxNV9HRU1fSURMRV9USU1FT1VUKSA9PSAtRVRJTUUpIHsKPiAgIAkJLyoKPiAgIAkJ
ICogRm9yY2libHkgY2FuY2VsIG91dHN0YW5kaW5nIHdvcmsgYW5kIGxlYXZlCj4gICAJCSAqIHRo
ZSBncHUgcXVpZXQuCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVs
X2d0X3JlcXVlc3RzLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9ndF9yZXF1ZXN0
cy5jCj4gbmV3IGZpbGUgbW9kZSAxMDA2NDQKPiBpbmRleCAwMDAwMDAwMDAwMDAuLjhhZWQ4OWZk
MmNkYwo+IC0tLSAvZGV2L251bGwKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRl
bF9ndF9yZXF1ZXN0cy5jCj4gQEAgLTAsMCArMSwxMjMgQEAKPiArLyoKPiArICogU1BEWC1MaWNl
bnNlLUlkZW50aWZpZXI6IE1JVAo+ICsgKgo+ICsgKiBDb3B5cmlnaHQgwqkgMjAxOSBJbnRlbCBD
b3Jwb3JhdGlvbgo+ICsgKi8KPiArCj4gKyNpbmNsdWRlICJpOTE1X3JlcXVlc3QuaCIKPiArI2lu
Y2x1ZGUgImludGVsX2d0LmgiCj4gKyNpbmNsdWRlICJpbnRlbF9ndF9wbS5oIgo+ICsjaW5jbHVk
ZSAiaW50ZWxfZ3RfcmVxdWVzdHMuaCIKPiArI2luY2x1ZGUgImludGVsX3RpbWVsaW5lLmgiCj4g
Kwo+ICtzdGF0aWMgdm9pZCByZXRpcmVfcmVxdWVzdHMoc3RydWN0IGludGVsX3RpbWVsaW5lICp0
bCkKPiArewo+ICsJc3RydWN0IGk5MTVfcmVxdWVzdCAqcnEsICpybjsKPiArCj4gKwlsaXN0X2Zv
cl9lYWNoX2VudHJ5X3NhZmUocnEsIHJuLCAmdGwtPnJlcXVlc3RzLCBsaW5rKQo+ICsJCWlmICgh
aTkxNV9yZXF1ZXN0X3JldGlyZShycSkpCj4gKwkJCWJyZWFrOwo+ICt9Cj4gKwo+ICtsb25nIGlu
dGVsX2d0X3JldGlyZV9yZXF1ZXN0c190aW1lb3V0KHN0cnVjdCBpbnRlbF9ndCAqZ3QsIGxvbmcg
dGltZW91dCkKPiArewo+ICsJc3RydWN0IGludGVsX2d0X3RpbWVsaW5lcyAqdGltZWxpbmVzID0g
Jmd0LT50aW1lbGluZXM7Cj4gKwlzdHJ1Y3QgaW50ZWxfdGltZWxpbmUgKnRsLCAqdG47Cj4gKwl1
bnNpZ25lZCBsb25nIGFjdGl2ZV9jb3VudCA9IDA7Cj4gKwl1bnNpZ25lZCBsb25nIGZsYWdzOwo+
ICsJYm9vbCBpbnRlcnJ1cHRpYmxlOwo+ICsJTElTVF9IRUFEKGZyZWUpOwo+ICsKPiArCWludGVy
cnVwdGlibGUgPSB0cnVlOwo+ICsJaWYgKHVubGlrZWx5KHRpbWVvdXQgPCAwKSkKPiArCQl0aW1l
b3V0ID0gLXRpbWVvdXQsIGludGVycnVwdGlibGUgPSBmYWxzZTsKPiArCj4gKwlzcGluX2xvY2tf
aXJxc2F2ZSgmdGltZWxpbmVzLT5sb2NrLCBmbGFncyk7Cj4gKwlsaXN0X2Zvcl9lYWNoX2VudHJ5
X3NhZmUodGwsIHRuLCAmdGltZWxpbmVzLT5hY3RpdmVfbGlzdCwgbGluaykgewo+ICsJCWlmICgh
bXV0ZXhfdHJ5bG9jaygmdGwtPm11dGV4KSkKPiArCQkJY29udGludWU7Cj4gKwo+ICsJCWludGVs
X3RpbWVsaW5lX2dldCh0bCk7Cj4gKwkJR0VNX0JVR19PTighdGwtPmFjdGl2ZV9jb3VudCk7Cj4g
KwkJdGwtPmFjdGl2ZV9jb3VudCsrOyAvKiBwaW4gdGhlIGxpc3QgZWxlbWVudCAqLwo+ICsJCXNw
aW5fdW5sb2NrX2lycXJlc3RvcmUoJnRpbWVsaW5lcy0+bG9jaywgZmxhZ3MpOwo+ICsKPiArCQlp
ZiAodGltZW91dCA+IDApIHsKPiArCQkJc3RydWN0IGRtYV9mZW5jZSAqZmVuY2U7Cj4gKwo+ICsJ
CQlmZW5jZSA9IGk5MTVfYWN0aXZlX2ZlbmNlX2dldCgmdGwtPmxhc3RfcmVxdWVzdCk7Cj4gKwkJ
CWlmIChmZW5jZSkgewo+ICsJCQkJdGltZW91dCA9IGRtYV9mZW5jZV93YWl0X3RpbWVvdXQoZmVu
Y2UsCj4gKwkJCQkJCQkJIHRydWUsCj4gKwkJCQkJCQkJIHRpbWVvdXQpOwo+ICsJCQkJZG1hX2Zl
bmNlX3B1dChmZW5jZSk7Cj4gKwkJCX0KPiArCQl9Cj4gKwo+ICsJCXJldGlyZV9yZXF1ZXN0cyh0
bCk7Cj4gKwo+ICsJCXNwaW5fbG9ja19pcnFzYXZlKCZ0aW1lbGluZXMtPmxvY2ssIGZsYWdzKTsK
PiArCj4gKwkJLyogUmVzdW1lIGl0ZXJhdGlvbiBhZnRlciBkcm9wcGluZyBsb2NrICovCj4gKwkJ
bGlzdF9zYWZlX3Jlc2V0X25leHQodGwsIHRuLCBsaW5rKTsKPiArCQlpZiAoLS10bC0+YWN0aXZl
X2NvdW50KQo+ICsJCQlhY3RpdmVfY291bnQgKz0gISFyY3VfYWNjZXNzX3BvaW50ZXIodGwtPmxh
c3RfcmVxdWVzdC5mZW5jZSk7Cj4gKwkJZWxzZQo+ICsJCQlsaXN0X2RlbCgmdGwtPmxpbmspOwo+
ICsKPiArCQltdXRleF91bmxvY2soJnRsLT5tdXRleCk7Cj4gKwo+ICsJCS8qIERlZmVyIHRoZSBm
aW5hbCByZWxlYXNlIHRvIGFmdGVyIHRoZSBzcGlubG9jayAqLwo+ICsJCWlmIChyZWZjb3VudF9k
ZWNfYW5kX3Rlc3QoJnRsLT5rcmVmLnJlZmNvdW50KSkgewo+ICsJCQlHRU1fQlVHX09OKHRsLT5h
Y3RpdmVfY291bnQpOwo+ICsJCQlsaXN0X2FkZCgmdGwtPmxpbmssICZmcmVlKTsKPiArCQl9Cj4g
Kwl9Cj4gKwlzcGluX3VubG9ja19pcnFyZXN0b3JlKCZ0aW1lbGluZXMtPmxvY2ssIGZsYWdzKTsK
PiArCj4gKwlsaXN0X2Zvcl9lYWNoX2VudHJ5X3NhZmUodGwsIHRuLCAmZnJlZSwgbGluaykKPiAr
CQlfX2ludGVsX3RpbWVsaW5lX2ZyZWUoJnRsLT5rcmVmKTsKPiArCj4gKwlyZXR1cm4gYWN0aXZl
X2NvdW50ID8gdGltZW91dCA6IDA7Cj4gK30KPiArCj4gK2ludCBpbnRlbF9ndF93YWl0X2Zvcl9p
ZGxlKHN0cnVjdCBpbnRlbF9ndCAqZ3QsIGxvbmcgdGltZW91dCkKPiArewo+ICsJLyogSWYgdGhl
IGRldmljZSBpcyBhc2xlZXAsIHdlIGhhdmUgbm8gcmVxdWVzdHMgb3V0c3RhbmRpbmcgKi8KPiAr
CWlmICghaW50ZWxfZ3RfcG1faXNfYXdha2UoZ3QpKQo+ICsJCXJldHVybiAwOwo+ICsKPiArCXdo
aWxlICgodGltZW91dCA9IGludGVsX2d0X3JldGlyZV9yZXF1ZXN0c190aW1lb3V0KGd0LCB0aW1l
b3V0KSkgPiAwKSB7Cj4gKwkJY29uZF9yZXNjaGVkKCk7Cj4gKwkJaWYgKHNpZ25hbF9wZW5kaW5n
KGN1cnJlbnQpKQo+ICsJCQlyZXR1cm4gLUVJTlRSOwo+ICsJfQo+ICsKPiArCXJldHVybiB0aW1l
b3V0Owo+ICt9Cj4gKwo+ICtzdGF0aWMgdm9pZCByZXRpcmVfd29ya19oYW5kbGVyKHN0cnVjdCB3
b3JrX3N0cnVjdCAqd29yaykKPiArewo+ICsJc3RydWN0IGludGVsX2d0ICpndCA9Cj4gKwkJY29u
dGFpbmVyX29mKHdvcmssIHR5cGVvZigqZ3QpLCByZXF1ZXN0cy5yZXRpcmVfd29yay53b3JrKTsK
PiArCj4gKwlpbnRlbF9ndF9yZXRpcmVfcmVxdWVzdHMoZ3QpOwo+ICsJc2NoZWR1bGVfZGVsYXll
ZF93b3JrKCZndC0+cmVxdWVzdHMucmV0aXJlX3dvcmssCj4gKwkJCSAgICAgIHJvdW5kX2ppZmZp
ZXNfdXBfcmVsYXRpdmUoSFopKTsKPiArfQo+ICsKPiArdm9pZCBpbnRlbF9ndF9pbml0X3JlcXVl
c3RzKHN0cnVjdCBpbnRlbF9ndCAqZ3QpCj4gK3sKPiArCUlOSVRfREVMQVlFRF9XT1JLKCZndC0+
cmVxdWVzdHMucmV0aXJlX3dvcmssIHJldGlyZV93b3JrX2hhbmRsZXIpOwo+ICt9Cj4gKwo+ICt2
b2lkIGludGVsX2d0X3BhcmtfcmVxdWVzdHMoc3RydWN0IGludGVsX2d0ICpndCkKPiArewo+ICsJ
Y2FuY2VsX2RlbGF5ZWRfd29yaygmZ3QtPnJlcXVlc3RzLnJldGlyZV93b3JrKTsKPiArfQo+ICsK
PiArdm9pZCBpbnRlbF9ndF91bnBhcmtfcmVxdWVzdHMoc3RydWN0IGludGVsX2d0ICpndCkKPiAr
ewo+ICsJc2NoZWR1bGVfZGVsYXllZF93b3JrKCZndC0+cmVxdWVzdHMucmV0aXJlX3dvcmssCj4g
KwkJCSAgICAgIHJvdW5kX2ppZmZpZXNfdXBfcmVsYXRpdmUoSFopKTsKPiArfQo+IGRpZmYgLS1n
aXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9ndF9yZXF1ZXN0cy5oIGIvZHJpdmVy
cy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZ3RfcmVxdWVzdHMuaAo+IG5ldyBmaWxlIG1vZGUgMTAw
NjQ0Cj4gaW5kZXggMDAwMDAwMDAwMDAwLi5iZDMxY2JjZTQ3ZTAKPiAtLS0gL2Rldi9udWxsCj4g
KysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZ3RfcmVxdWVzdHMuaAo+IEBAIC0w
LDAgKzEsMjQgQEAKPiArLyoKPiArICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IE1JVAo+ICsg
Kgo+ICsgKiBDb3B5cmlnaHQgwqkgMjAxOSBJbnRlbCBDb3Jwb3JhdGlvbgo+ICsgKi8KPiArCj4g
KyNpZm5kZWYgSU5URUxfR1RfUkVRVUVTVFNfSAo+ICsjZGVmaW5lIElOVEVMX0dUX1JFUVVFU1RT
X0gKPiArCj4gK3N0cnVjdCBpbnRlbF9ndDsKPiArCj4gK2xvbmcgaW50ZWxfZ3RfcmV0aXJlX3Jl
cXVlc3RzX3RpbWVvdXQoc3RydWN0IGludGVsX2d0ICpndCwgbG9uZyB0aW1lb3V0KTsKPiArc3Rh
dGljIGlubGluZSB2b2lkIGludGVsX2d0X3JldGlyZV9yZXF1ZXN0cyhzdHJ1Y3QgaW50ZWxfZ3Qg
Kmd0KQo+ICt7Cj4gKwlpbnRlbF9ndF9yZXRpcmVfcmVxdWVzdHNfdGltZW91dChndCwgMCk7Cj4g
K30KPiArCj4gK2ludCBpbnRlbF9ndF93YWl0X2Zvcl9pZGxlKHN0cnVjdCBpbnRlbF9ndCAqZ3Qs
IGxvbmcgdGltZW91dCk7Cj4gKwo+ICt2b2lkIGludGVsX2d0X2luaXRfcmVxdWVzdHMoc3RydWN0
IGludGVsX2d0ICpndCk7Cj4gK3ZvaWQgaW50ZWxfZ3RfcGFya19yZXF1ZXN0cyhzdHJ1Y3QgaW50
ZWxfZ3QgKmd0KTsKPiArdm9pZCBpbnRlbF9ndF91bnBhcmtfcmVxdWVzdHMoc3RydWN0IGludGVs
X2d0ICpndCk7Cj4gKwo+ICsjZW5kaWYgLyogSU5URUxfR1RfUkVRVUVTVFNfSCAqLwo+IGRpZmYg
LS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9ndF90eXBlcy5oIGIvZHJpdmVy
cy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZ3RfdHlwZXMuaAo+IGluZGV4IDcxMzRmMTMxOWJiZS4u
ODAyZjUxNmEzNDMwIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVs
X2d0X3R5cGVzLmgKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9ndF90eXBl
cy5oCj4gQEAgLTUwLDYgKzUwLDE3IEBAIHN0cnVjdCBpbnRlbF9ndCB7Cj4gICAJCXN0cnVjdCBs
aXN0X2hlYWQgaHdzcF9mcmVlX2xpc3Q7Cj4gICAJfSB0aW1lbGluZXM7Cj4gICAKPiArCXN0cnVj
dCBpbnRlbF9ndF9yZXF1ZXN0cyB7Cj4gKwkJLyoqCj4gKwkJICogV2UgbGVhdmUgdGhlIHVzZXIg
SVJRIG9mZiBhcyBtdWNoIGFzIHBvc3NpYmxlLAo+ICsJCSAqIGJ1dCB0aGlzIG1lYW5zIHRoYXQg
cmVxdWVzdHMgd2lsbCBmaW5pc2ggYW5kIG5ldmVyCj4gKwkJICogYmUgcmV0aXJlZCBvbmNlIHRo
ZSBzeXN0ZW0gZ29lcyBpZGxlLiBTZXQgYSB0aW1lciB0bwo+ICsJCSAqIGZpcmUgcGVyaW9kaWNh
bGx5IHdoaWxlIHRoZSByaW5nIGlzIHJ1bm5pbmcuIFdoZW4gaXQKPiArCQkgKiBmaXJlcywgZ28g
cmV0aXJlIHJlcXVlc3RzLgo+ICsJCSAqLwo+ICsJCXN0cnVjdCBkZWxheWVkX3dvcmsgcmV0aXJl
X3dvcms7Cj4gKwl9IHJlcXVlc3RzOwo+ICsKPiAgIAlzdHJ1Y3QgaW50ZWxfd2FrZXJlZiB3YWtl
cmVmOwo+ICAgCWF0b21pY190IHVzZXJfd2FrZXJlZjsKPiAgIAo+IGRpZmYgLS1naXQgYS9kcml2
ZXJzL2dwdS9kcm0vaTkxNS9ndC9zZWxmdGVzdF90aW1lbGluZS5jIGIvZHJpdmVycy9ncHUvZHJt
L2k5MTUvZ3Qvc2VsZnRlc3RfdGltZWxpbmUuYwo+IGluZGV4IDE2YWJmYWJmMDhjNy4uZDZkZjQw
Y2RjOGE2IDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L3NlbGZ0ZXN0X3Rp
bWVsaW5lLmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9zZWxmdGVzdF90aW1lbGlu
ZS5jCj4gQEAgLTgsNiArOCw3IEBACj4gICAKPiAgICNpbmNsdWRlICJpbnRlbF9lbmdpbmVfcG0u
aCIKPiAgICNpbmNsdWRlICJpbnRlbF9ndC5oIgo+ICsjaW5jbHVkZSAiaW50ZWxfZ3RfcmVxdWVz
dHMuaCIKPiAgIAo+ICAgI2luY2x1ZGUgIi4uL3NlbGZ0ZXN0cy9pOTE1X3JhbmRvbS5oIgo+ICAg
I2luY2x1ZGUgIi4uL2k5MTVfc2VsZnRlc3QuaCIKPiBAQCAtNjQxLDYgKzY0Miw3IEBAIHN0YXRp
YyBpbnQgbGl2ZV9od3NwX2FsdGVybmF0ZSh2b2lkICphcmcpCj4gICBzdGF0aWMgaW50IGxpdmVf
aHdzcF93cmFwKHZvaWQgKmFyZykKPiAgIHsKPiAgIAlzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAq
aTkxNSA9IGFyZzsKPiArCXN0cnVjdCBpbnRlbF9ndCAqZ3QgPSAmaTkxNS0+Z3Q7Cj4gICAJc3Ry
dWN0IGludGVsX2VuZ2luZV9jcyAqZW5naW5lOwo+ICAgCXN0cnVjdCBpbnRlbF90aW1lbGluZSAq
dGw7Cj4gICAJZW51bSBpbnRlbF9lbmdpbmVfaWQgaWQ7Cj4gQEAgLTY1MSw3ICs2NTMsNyBAQCBz
dGF0aWMgaW50IGxpdmVfaHdzcF93cmFwKHZvaWQgKmFyZykKPiAgIAkgKiBmb3JlaWduIEdQVSBy
ZWZlcmVuY2VzLgo+ICAgCSAqLwo+ICAgCj4gLQl0bCA9IGludGVsX3RpbWVsaW5lX2NyZWF0ZSgm
aTkxNS0+Z3QsIE5VTEwpOwo+ICsJdGwgPSBpbnRlbF90aW1lbGluZV9jcmVhdGUoZ3QsIE5VTEwp
Owo+ICAgCWlmIChJU19FUlIodGwpKQo+ICAgCQlyZXR1cm4gUFRSX0VSUih0bCk7Cj4gICAKPiBA
QCAtNjYyLDcgKzY2NCw3IEBAIHN0YXRpYyBpbnQgbGl2ZV9od3NwX3dyYXAodm9pZCAqYXJnKQo+
ICAgCWlmIChlcnIpCj4gICAJCWdvdG8gb3V0X2ZyZWU7Cj4gICAKPiAtCWZvcl9lYWNoX2VuZ2lu
ZShlbmdpbmUsIGk5MTUsIGlkKSB7Cj4gKwlmb3JfZWFjaF9lbmdpbmUoZW5naW5lLCBndC0+aTkx
NSwgaWQpIHsKPiAgIAkJY29uc3QgdTMyICpod3NwX3NlcW5vWzJdOwo+ICAgCQlzdHJ1Y3QgaTkx
NV9yZXF1ZXN0ICpycTsKPiAgIAkJdTMyIHNlcW5vWzJdOwo+IEBAIC03MzQsNyArNzM2LDcgQEAg
c3RhdGljIGludCBsaXZlX2h3c3Bfd3JhcCh2b2lkICphcmcpCj4gICAJCQlnb3RvIG91dDsKPiAg
IAkJfQo+ICAgCj4gLQkJaTkxNV9yZXRpcmVfcmVxdWVzdHMoaTkxNSk7IC8qIHJlY3ljbGUgSFdT
UCAqLwo+ICsJCWludGVsX2d0X3JldGlyZV9yZXF1ZXN0cyhndCk7IC8qIHJlY3ljbGUgSFdTUCAq
Lwo+ICAgCX0KPiAgIAo+ICAgb3V0Ogo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkx
NS9pOTE1X2RlYnVnZnMuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZGVidWdmcy5jCj4g
aW5kZXggNTg4OGE2NThlMmI3Li4yYWZjNDFlNDNiNmUgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9n
cHUvZHJtL2k5MTUvaTkxNV9kZWJ1Z2ZzLmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9p
OTE1X2RlYnVnZnMuYwo+IEBAIC00MSw2ICs0MSw3IEBACj4gICAKPiAgICNpbmNsdWRlICJnZW0v
aTkxNV9nZW1fY29udGV4dC5oIgo+ICAgI2luY2x1ZGUgImd0L2ludGVsX2d0X3BtLmgiCj4gKyNp
bmNsdWRlICJndC9pbnRlbF9ndF9yZXF1ZXN0cy5oIgo+ICAgI2luY2x1ZGUgImd0L2ludGVsX3Jl
c2V0LmgiCj4gICAjaW5jbHVkZSAiZ3QvaW50ZWxfcmM2LmgiCj4gICAjaW5jbHVkZSAiZ3QvdWMv
aW50ZWxfZ3VjX3N1Ym1pc3Npb24uaCIKPiBAQCAtMzYyMSwzMyArMzYyMiwzMyBAQCBzdGF0aWMg
aW50Cj4gICBpOTE1X2Ryb3BfY2FjaGVzX3NldCh2b2lkICpkYXRhLCB1NjQgdmFsKQo+ICAgewo+
ICAgCXN0cnVjdCBkcm1faTkxNV9wcml2YXRlICppOTE1ID0gZGF0YTsKPiArCXN0cnVjdCBpbnRl
bF9ndCAqZ3QgPSAmaTkxNS0+Z3Q7Cj4gICAJaW50IHJldDsKPiAgIAo+ICAgCURSTV9ERUJVRygi
RHJvcHBpbmcgY2FjaGVzOiAweCUwOGxseCBbMHglMDhsbHhdXG4iLAo+ICAgCQkgIHZhbCwgdmFs
ICYgRFJPUF9BTEwpOwo+ICAgCj4gICAJaWYgKHZhbCAmIERST1BfUkVTRVRfQUNUSVZFICYmCj4g
LQkgICAgd2FpdF9mb3IoaW50ZWxfZW5naW5lc19hcmVfaWRsZSgmaTkxNS0+Z3QpLAo+IC0JCSAg
ICAgSTkxNV9JRExFX0VOR0lORVNfVElNRU9VVCkpCj4gLQkJaW50ZWxfZ3Rfc2V0X3dlZGdlZCgm
aTkxNS0+Z3QpOwo+ICsJICAgIHdhaXRfZm9yKGludGVsX2VuZ2luZXNfYXJlX2lkbGUoZ3QpLCBJ
OTE1X0lETEVfRU5HSU5FU19USU1FT1VUKSkKPiArCQlpbnRlbF9ndF9zZXRfd2VkZ2VkKGd0KTsK
PiAgIAo+ICAgCWlmICh2YWwgJiBEUk9QX1JFVElSRSkKPiAtCQlpOTE1X3JldGlyZV9yZXF1ZXN0
cyhpOTE1KTsKPiArCQlpbnRlbF9ndF9yZXRpcmVfcmVxdWVzdHMoZ3QpOwo+ICAgCj4gICAJaWYg
KHZhbCAmIChEUk9QX0lETEUgfCBEUk9QX0FDVElWRSkpIHsKPiAtCQlyZXQgPSBpOTE1X2dlbV93
YWl0X2Zvcl9pZGxlKGk5MTUsIE1BWF9TQ0hFRFVMRV9USU1FT1VUKTsKPiArCQlyZXQgPSBpbnRl
bF9ndF93YWl0X2Zvcl9pZGxlKGd0LCBNQVhfU0NIRURVTEVfVElNRU9VVCk7Cj4gICAJCWlmIChy
ZXQpCj4gICAJCQlyZXR1cm4gcmV0Owo+ICAgCX0KPiAgIAo+ICAgCWlmICh2YWwgJiBEUk9QX0lE
TEUpIHsKPiAtCQlyZXQgPSBpbnRlbF9ndF9wbV93YWl0X2Zvcl9pZGxlKCZpOTE1LT5ndCk7Cj4g
KwkJcmV0ID0gaW50ZWxfZ3RfcG1fd2FpdF9mb3JfaWRsZShndCk7Cj4gICAJCWlmIChyZXQpCj4g
ICAJCQlyZXR1cm4gcmV0Owo+ICAgCX0KPiAgIAo+IC0JaWYgKHZhbCAmIERST1BfUkVTRVRfQUNU
SVZFICYmIGludGVsX2d0X3Rlcm1pbmFsbHlfd2VkZ2VkKCZpOTE1LT5ndCkpCj4gLQkJaW50ZWxf
Z3RfaGFuZGxlX2Vycm9yKCZpOTE1LT5ndCwgQUxMX0VOR0lORVMsIDAsIE5VTEwpOwo+ICsJaWYg
KHZhbCAmIERST1BfUkVTRVRfQUNUSVZFICYmIGludGVsX2d0X3Rlcm1pbmFsbHlfd2VkZ2VkKGd0
KSkKPiArCQlpbnRlbF9ndF9oYW5kbGVfZXJyb3IoZ3QsIEFMTF9FTkdJTkVTLCAwLCBOVUxMKTsK
PiAgIAo+ICAgCWZzX3JlY2xhaW1fYWNxdWlyZShHRlBfS0VSTkVMKTsKPiAgIAlpZiAodmFsICYg
RFJPUF9CT1VORCkKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kcnYu
aCBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZHJ2LmgKPiBpbmRleCA0NGYzNDYzZmY5ZjEu
LmNiNjNiMmJkMGNlOCAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2Ry
di5oCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kcnYuaAo+IEBAIC0xNzEwLDE1
ICsxNzEwLDYgQEAgc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgewo+ICAgCj4gICAJc3RydWN0IHsK
PiAgIAkJc3RydWN0IG5vdGlmaWVyX2Jsb2NrIHBtX25vdGlmaWVyOwo+IC0KPiAtCQkvKioKPiAt
CQkgKiBXZSBsZWF2ZSB0aGUgdXNlciBJUlEgb2ZmIGFzIG11Y2ggYXMgcG9zc2libGUsCj4gLQkJ
ICogYnV0IHRoaXMgbWVhbnMgdGhhdCByZXF1ZXN0cyB3aWxsIGZpbmlzaCBhbmQgbmV2ZXIKPiAt
CQkgKiBiZSByZXRpcmVkIG9uY2UgdGhlIHN5c3RlbSBnb2VzIGlkbGUuIFNldCBhIHRpbWVyIHRv
Cj4gLQkJICogZmlyZSBwZXJpb2RpY2FsbHkgd2hpbGUgdGhlIHJpbmcgaXMgcnVubmluZy4gV2hl
biBpdAo+IC0JCSAqIGZpcmVzLCBnbyByZXRpcmUgcmVxdWVzdHMuCj4gLQkJICovCj4gLQkJc3Ry
dWN0IGRlbGF5ZWRfd29yayByZXRpcmVfd29yazsKPiAgIAl9IGdlbTsKPiAgIAo+ICAgCS8qIEZv
ciBpOTQ1Z20gdmJsYW5rIGlycSB2cy4gQzMgd29ya2Fyb3VuZCAqLwo+IEBAIC0yMzIxLDcgKzIz
MTIsNiBAQCB2b2lkIGk5MTVfZ2VtX2RyaXZlcl9yZWdpc3RlcihzdHJ1Y3QgZHJtX2k5MTVfcHJp
dmF0ZSAqaTkxNSk7Cj4gICB2b2lkIGk5MTVfZ2VtX2RyaXZlcl91bnJlZ2lzdGVyKHN0cnVjdCBk
cm1faTkxNV9wcml2YXRlICppOTE1KTsKPiAgIHZvaWQgaTkxNV9nZW1fZHJpdmVyX3JlbW92ZShz
dHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYpOwo+ICAgdm9pZCBpOTE1X2dlbV9kcml2
ZXJfcmVsZWFzZShzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYpOwo+IC1pbnQgaTkx
NV9nZW1fd2FpdF9mb3JfaWRsZShzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYsIGxv
bmcgdGltZW91dCk7Cj4gICB2b2lkIGk5MTVfZ2VtX3N1c3BlbmQoc3RydWN0IGRybV9pOTE1X3By
aXZhdGUgKmRldl9wcml2KTsKPiAgIHZvaWQgaTkxNV9nZW1fc3VzcGVuZF9sYXRlKHN0cnVjdCBk
cm1faTkxNV9wcml2YXRlICpkZXZfcHJpdik7Cj4gICB2b2lkIGk5MTVfZ2VtX3Jlc3VtZShzdHJ1
Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYpOwo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dw
dS9kcm0vaTkxNS9pOTE1X2dlbS5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9nZW0uYwo+
IGluZGV4IDdjODJmYzM5ZjY1NS4uNWE2NjRiZGVhZDhjIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMv
Z3B1L2RybS9pOTE1L2k5MTVfZ2VtLmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1
X2dlbS5jCj4gQEAgLTg4MywyMyArODgzLDYgQEAgdm9pZCBpOTE1X2dlbV9ydW50aW1lX3N1c3Bl
bmQoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUpCj4gICAJfQo+ICAgfQo+ICAgCj4gLWlu
dCBpOTE1X2dlbV93YWl0X2Zvcl9pZGxlKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICppOTE1LCBs
b25nIHRpbWVvdXQpCj4gLXsKPiAtCXN0cnVjdCBpbnRlbF9ndCAqZ3QgPSAmaTkxNS0+Z3Q7Cj4g
LQo+IC0JLyogSWYgdGhlIGRldmljZSBpcyBhc2xlZXAsIHdlIGhhdmUgbm8gcmVxdWVzdHMgb3V0
c3RhbmRpbmcgKi8KPiAtCWlmICghaW50ZWxfZ3RfcG1faXNfYXdha2UoZ3QpKQo+IC0JCXJldHVy
biAwOwo+IC0KPiAtCXdoaWxlICgodGltZW91dCA9IGk5MTVfcmV0aXJlX3JlcXVlc3RzX3RpbWVv
dXQoaTkxNSwgdGltZW91dCkpID4gMCkgewo+IC0JCWNvbmRfcmVzY2hlZCgpOwo+IC0JCWlmIChz
aWduYWxfcGVuZGluZyhjdXJyZW50KSkKPiAtCQkJcmV0dXJuIC1FSU5UUjsKPiAtCX0KPiAtCj4g
LQlyZXR1cm4gdGltZW91dDsKPiAtfQo+IC0KPiAgIHN0cnVjdCBpOTE1X3ZtYSAqCj4gICBpOTE1
X2dlbV9vYmplY3RfZ2d0dF9waW4oc3RydWN0IGRybV9pOTE1X2dlbV9vYmplY3QgKm9iaiwKPiAg
IAkJCSBjb25zdCBzdHJ1Y3QgaTkxNV9nZ3R0X3ZpZXcgKnZpZXcsCj4gZGlmZiAtLWdpdCBhL2Ry
aXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZ2VtX2V2aWN0LmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkx
NS9pOTE1X2dlbV9ldmljdC5jCj4gaW5kZXggMGE0MTJmNmQwMWQ3Li43ZTYyYzMxMDI5MGYgMTAw
NjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9nZW1fZXZpY3QuYwo+ICsrKyBi
L2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZ2VtX2V2aWN0LmMKPiBAQCAtMjksNiArMjksNyBA
QAo+ICAgI2luY2x1ZGUgPGRybS9pOTE1X2RybS5oPgo+ICAgCj4gICAjaW5jbHVkZSAiZ2VtL2k5
MTVfZ2VtX2NvbnRleHQuaCIKPiArI2luY2x1ZGUgImd0L2ludGVsX2d0X3JlcXVlc3RzLmgiCj4g
ICAKPiAgICNpbmNsdWRlICJpOTE1X2Rydi5oIgo+ICAgI2luY2x1ZGUgImk5MTVfdHJhY2UuaCIK
PiBAQCAtMzcsNyArMzgsNyBAQCBJOTE1X1NFTEZURVNUX0RFQ0xBUkUoc3RhdGljIHN0cnVjdCBp
Z3RfZXZpY3RfY3RsIHsKPiAgIAlib29sIGZhaWxfaWZfYnVzeToxOwo+ICAgfSBpZ3RfZXZpY3Rf
Y3RsOykKPiAgIAo+IC1zdGF0aWMgaW50IGdndHRfZmx1c2goc3RydWN0IGRybV9pOTE1X3ByaXZh
dGUgKmk5MTUpCj4gK3N0YXRpYyBpbnQgZ2d0dF9mbHVzaChzdHJ1Y3QgaW50ZWxfZ3QgKmd0KQo+
ICAgewo+ICAgCS8qCj4gICAJICogTm90IGV2ZXJ5dGhpbmcgaW4gdGhlIEdHVFQgaXMgdHJhY2tl
ZCB2aWEgdm1hIChvdGhlcndpc2Ugd2UKPiBAQCAtNDYsNyArNDcsNyBAQCBzdGF0aWMgaW50IGdn
dHRfZmx1c2goc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUpCj4gICAJICogdGhlIGhvcGVz
IHRoYXQgd2UgY2FuIHRoZW4gcmVtb3ZlIGNvbnRleHRzIGFuZCB0aGUgbGlrZSBvbmx5Cj4gICAJ
ICogYm91bmQgYnkgdGhlaXIgYWN0aXZlIHJlZmVyZW5jZS4KPiAgIAkgKi8KPiAtCXJldHVybiBp
OTE1X2dlbV93YWl0X2Zvcl9pZGxlKGk5MTUsIE1BWF9TQ0hFRFVMRV9USU1FT1VUKTsKPiArCXJl
dHVybiBpbnRlbF9ndF93YWl0X2Zvcl9pZGxlKGd0LCBNQVhfU0NIRURVTEVfVElNRU9VVCk7Cj4g
ICB9Cj4gICAKPiAgIHN0YXRpYyBib29sCj4gQEAgLTkyLDcgKzkzLDYgQEAgaTkxNV9nZW1fZXZp
Y3Rfc29tZXRoaW5nKHN0cnVjdCBpOTE1X2FkZHJlc3Nfc3BhY2UgKnZtLAo+ICAgCQkJIHU2NCBz
dGFydCwgdTY0IGVuZCwKPiAgIAkJCSB1bnNpZ25lZCBmbGFncykKPiAgIHsKPiAtCXN0cnVjdCBk
cm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiA9IHZtLT5pOTE1Owo+ICAgCXN0cnVjdCBkcm1fbW1f
c2NhbiBzY2FuOwo+ICAgCXN0cnVjdCBsaXN0X2hlYWQgZXZpY3Rpb25fbGlzdDsKPiAgIAlzdHJ1
Y3QgaTkxNV92bWEgKnZtYSwgKm5leHQ7Cj4gQEAgLTEyNCw3ICsxMjQsNyBAQCBpOTE1X2dlbV9l
dmljdF9zb21ldGhpbmcoc3RydWN0IGk5MTVfYWRkcmVzc19zcGFjZSAqdm0sCj4gICAJCQkJICAg
IG1pbl9zaXplLCBhbGlnbm1lbnQsIGNvbG9yLAo+ICAgCQkJCSAgICBzdGFydCwgZW5kLCBtb2Rl
KTsKPiAgIAo+IC0JaTkxNV9yZXRpcmVfcmVxdWVzdHModm0tPmk5MTUpOwo+ICsJaW50ZWxfZ3Rf
cmV0aXJlX3JlcXVlc3RzKHZtLT5ndCk7Cj4gICAKPiAgIHNlYXJjaF9hZ2FpbjoKPiAgIAlhY3Rp
dmUgPSBOVUxMOwo+IEBAIC0xOTcsNyArMTk3LDcgQEAgaTkxNV9nZW1fZXZpY3Rfc29tZXRoaW5n
KHN0cnVjdCBpOTE1X2FkZHJlc3Nfc3BhY2UgKnZtLAo+ICAgCWlmIChJOTE1X1NFTEZURVNUX09O
TFkoaWd0X2V2aWN0X2N0bC5mYWlsX2lmX2J1c3kpKQo+ICAgCQlyZXR1cm4gLUVCVVNZOwo+ICAg
Cj4gLQlyZXQgPSBnZ3R0X2ZsdXNoKGRldl9wcml2KTsKPiArCXJldCA9IGdndHRfZmx1c2godm0t
Pmd0KTsKPiAgIAlpZiAocmV0KQo+ICAgCQlyZXR1cm4gcmV0Owo+ICAgCj4gQEAgLTI3MCw3ICsy
NzAsNyBAQCBpbnQgaTkxNV9nZW1fZXZpY3RfZm9yX25vZGUoc3RydWN0IGk5MTVfYWRkcmVzc19z
cGFjZSAqdm0sCj4gICAJICogYSBzdHJheSBwaW4gKHByZXZlbnRpbmcgZXZpY3Rpb24pIHRoYXQg
Y2FuIG9ubHkgYmUgcmVzb2x2ZWQgYnkKPiAgIAkgKiByZXRpcmluZy4KPiAgIAkgKi8KPiAtCWk5
MTVfcmV0aXJlX3JlcXVlc3RzKHZtLT5pOTE1KTsKPiArCWludGVsX2d0X3JldGlyZV9yZXF1ZXN0
cyh2bS0+Z3QpOwo+ICAgCj4gICAJaWYgKGk5MTVfdm1faGFzX2NhY2hlX2NvbG9yaW5nKHZtKSkg
ewo+ICAgCQkvKiBFeHBhbmQgc2VhcmNoIHRvIGNvdmVyIG5laWdoYm91cmluZyBndWFyZCBwYWdl
cyAob3IgbGFjayEpICovCj4gQEAgLTM3Miw3ICszNzIsNyBAQCBpbnQgaTkxNV9nZW1fZXZpY3Rf
dm0oc3RydWN0IGk5MTVfYWRkcmVzc19zcGFjZSAqdm0pCj4gICAJICogc3dpdGNoIG90aGVyd2lz
ZSBpcyBpbmVmZmVjdGl2ZS4KPiAgIAkgKi8KPiAgIAlpZiAoaTkxNV9pc19nZ3R0KHZtKSkgewo+
IC0JCXJldCA9IGdndHRfZmx1c2godm0tPmk5MTUpOwo+ICsJCXJldCA9IGdndHRfZmx1c2godm0t
Pmd0KTsKPiAgIAkJaWYgKHJldCkKPiAgIAkJCXJldHVybiByZXQ7Cj4gICAJfQo+IGRpZmYgLS1n
aXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2dlbV9ndHQuYyBiL2RyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2k5MTVfZ2VtX2d0dC5jCj4gaW5kZXggMDgyZmNmOTA4NWE2Li4xZDI2NjM0Y2E1OTcg
MTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9nZW1fZ3R0LmMKPiArKysg
Yi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2dlbV9ndHQuYwo+IEBAIC0zOCw2ICszOCw3IEBA
Cj4gICAKPiAgICNpbmNsdWRlICJkaXNwbGF5L2ludGVsX2Zyb250YnVmZmVyLmgiCj4gICAjaW5j
bHVkZSAiZ3QvaW50ZWxfZ3QuaCIKPiArI2luY2x1ZGUgImd0L2ludGVsX2d0X3JlcXVlc3RzLmgi
Cj4gICAKPiAgICNpbmNsdWRlICJpOTE1X2Rydi5oIgo+ICAgI2luY2x1ZGUgImk5MTVfc2NhdHRl
cmxpc3QuaCIKPiBAQCAtMjUyOSw4ICsyNTMwLDggQEAgdm9pZCBpOTE1X2dlbV9ndHRfZmluaXNo
X3BhZ2VzKHN0cnVjdCBkcm1faTkxNV9nZW1fb2JqZWN0ICpvYmosCj4gICAKPiAgIAlpZiAodW5s
aWtlbHkoZ2d0dC0+ZG9faWRsZV9tYXBzKSkgewo+ICAgCQkvKiBYWFggVGhpcyBkb2VzIG5vdCBw
cmV2ZW50IG1vcmUgcmVxdWVzdHMgYmVpbmcgc3VibWl0dGVkISAqLwo+IC0JCWlmIChpOTE1X3Jl
dGlyZV9yZXF1ZXN0c190aW1lb3V0KGRldl9wcml2LAo+IC0JCQkJCQkgLU1BWF9TQ0hFRFVMRV9U
SU1FT1VUKSkgewo+ICsJCWlmIChpbnRlbF9ndF9yZXRpcmVfcmVxdWVzdHNfdGltZW91dChnZ3R0
LT52bS5ndCwKPiArCQkJCQkJICAgICAtTUFYX1NDSEVEVUxFX1RJTUVPVVQpKSB7Cj4gICAJCQlE
Uk1fRVJST1IoIkZhaWxlZCB0byB3YWl0IGZvciBpZGxlOyBWVCdkIG1heSBoYW5nLlxuIik7Cj4g
ICAJCQkvKiBXYWl0IGEgYml0LCBpbiBob3BlcyBpdCBhdm9pZHMgdGhlIGhhbmcgKi8KPiAgIAkJ
CXVkZWxheSgxMCk7Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfcmVx
dWVzdC5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9yZXF1ZXN0LmMKPiBpbmRleCA1MmY3
YzRlNWI2NDQuLjQzN2Y5ZmM2MjgyZSAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkx
NS9pOTE1X3JlcXVlc3QuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfcmVxdWVz
dC5jCj4gQEAgLTIxNiw3ICsyMTYsNyBAQCBzdGF0aWMgdm9pZCByZW1vdmVfZnJvbV9lbmdpbmUo
c3RydWN0IGk5MTVfcmVxdWVzdCAqcnEpCj4gICAJc3Bpbl91bmxvY2soJmxvY2tlZC0+YWN0aXZl
LmxvY2spOwo+ICAgfQo+ICAgCj4gLXN0YXRpYyBib29sIGk5MTVfcmVxdWVzdF9yZXRpcmUoc3Ry
dWN0IGk5MTVfcmVxdWVzdCAqcnEpCj4gK2Jvb2wgaTkxNV9yZXF1ZXN0X3JldGlyZShzdHJ1Y3Qg
aTkxNV9yZXF1ZXN0ICpycSkKPiAgIHsKPiAgIAlpZiAoIWk5MTVfcmVxdWVzdF9jb21wbGV0ZWQo
cnEpKQo+ICAgCQlyZXR1cm4gZmFsc2U7Cj4gQEAgLTE1MDgsNjggKzE1MDgsNiBAQCBsb25nIGk5
MTVfcmVxdWVzdF93YWl0KHN0cnVjdCBpOTE1X3JlcXVlc3QgKnJxLAo+ICAgCXJldHVybiB0aW1l
b3V0Owo+ICAgfQo+ICAgCj4gLWxvbmcgaTkxNV9yZXRpcmVfcmVxdWVzdHNfdGltZW91dChzdHJ1
Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSwgbG9uZyB0aW1lb3V0KQo+IC17Cj4gLQlzdHJ1Y3Qg
aW50ZWxfZ3RfdGltZWxpbmVzICp0aW1lbGluZXMgPSAmaTkxNS0+Z3QudGltZWxpbmVzOwo+IC0J
c3RydWN0IGludGVsX3RpbWVsaW5lICp0bCwgKnRuOwo+IC0JdW5zaWduZWQgbG9uZyBhY3RpdmVf
Y291bnQgPSAwOwo+IC0JdW5zaWduZWQgbG9uZyBmbGFnczsKPiAtCWJvb2wgaW50ZXJydXB0aWJs
ZTsKPiAtCUxJU1RfSEVBRChmcmVlKTsKPiAtCj4gLQlpbnRlcnJ1cHRpYmxlID0gdHJ1ZTsKPiAt
CWlmICh0aW1lb3V0IDwgMCkKPiAtCQl0aW1lb3V0ID0gLXRpbWVvdXQsIGludGVycnVwdGlibGUg
PSBmYWxzZTsKPiAtCj4gLQlzcGluX2xvY2tfaXJxc2F2ZSgmdGltZWxpbmVzLT5sb2NrLCBmbGFn
cyk7Cj4gLQlsaXN0X2Zvcl9lYWNoX2VudHJ5X3NhZmUodGwsIHRuLCAmdGltZWxpbmVzLT5hY3Rp
dmVfbGlzdCwgbGluaykgewo+IC0JCWlmICghbXV0ZXhfdHJ5bG9jaygmdGwtPm11dGV4KSkKPiAt
CQkJY29udGludWU7Cj4gLQo+IC0JCWludGVsX3RpbWVsaW5lX2dldCh0bCk7Cj4gLQkJR0VNX0JV
R19PTighdGwtPmFjdGl2ZV9jb3VudCk7Cj4gLQkJdGwtPmFjdGl2ZV9jb3VudCsrOyAvKiBwaW4g
dGhlIGxpc3QgZWxlbWVudCAqLwo+IC0JCXNwaW5fdW5sb2NrX2lycXJlc3RvcmUoJnRpbWVsaW5l
cy0+bG9jaywgZmxhZ3MpOwo+IC0KPiAtCQlpZiAodGltZW91dCA+IDApIHsKPiAtCQkJc3RydWN0
IGRtYV9mZW5jZSAqZmVuY2U7Cj4gLQo+IC0JCQlmZW5jZSA9IGk5MTVfYWN0aXZlX2ZlbmNlX2dl
dCgmdGwtPmxhc3RfcmVxdWVzdCk7Cj4gLQkJCWlmIChmZW5jZSkgewo+IC0JCQkJdGltZW91dCA9
IGRtYV9mZW5jZV93YWl0X3RpbWVvdXQoZmVuY2UsCj4gLQkJCQkJCQkJIGludGVycnVwdGlibGUs
Cj4gLQkJCQkJCQkJIHRpbWVvdXQpOwo+IC0JCQkJZG1hX2ZlbmNlX3B1dChmZW5jZSk7Cj4gLQkJ
CX0KPiAtCQl9Cj4gLQo+IC0JCXJldGlyZV9yZXF1ZXN0cyh0bCk7Cj4gLQo+IC0JCXNwaW5fbG9j
a19pcnFzYXZlKCZ0aW1lbGluZXMtPmxvY2ssIGZsYWdzKTsKPiAtCj4gLQkJLyogUmVzdW1lIGl0
ZXJhdGlvbiBhZnRlciBkcm9wcGluZyBsb2NrICovCj4gLQkJbGlzdF9zYWZlX3Jlc2V0X25leHQo
dGwsIHRuLCBsaW5rKTsKPiAtCQlpZiAoLS10bC0+YWN0aXZlX2NvdW50KQo+IC0JCQlhY3RpdmVf
Y291bnQgKz0gISFyY3VfYWNjZXNzX3BvaW50ZXIodGwtPmxhc3RfcmVxdWVzdC5mZW5jZSk7Cj4g
LQkJZWxzZQo+IC0JCQlsaXN0X2RlbCgmdGwtPmxpbmspOwo+IC0KPiAtCQltdXRleF91bmxvY2so
JnRsLT5tdXRleCk7Cj4gLQo+IC0JCS8qIERlZmVyIHRoZSBmaW5hbCByZWxlYXNlIHRvIGFmdGVy
IHRoZSBzcGlubG9jayAqLwo+IC0JCWlmIChyZWZjb3VudF9kZWNfYW5kX3Rlc3QoJnRsLT5rcmVm
LnJlZmNvdW50KSkgewo+IC0JCQlHRU1fQlVHX09OKHRsLT5hY3RpdmVfY291bnQpOwo+IC0JCQls
aXN0X2FkZCgmdGwtPmxpbmssICZmcmVlKTsKPiAtCQl9Cj4gLQl9Cj4gLQlzcGluX3VubG9ja19p
cnFyZXN0b3JlKCZ0aW1lbGluZXMtPmxvY2ssIGZsYWdzKTsKPiAtCj4gLQlsaXN0X2Zvcl9lYWNo
X2VudHJ5X3NhZmUodGwsIHRuLCAmZnJlZSwgbGluaykKPiAtCQlfX2ludGVsX3RpbWVsaW5lX2Zy
ZWUoJnRsLT5rcmVmKTsKPiAtCj4gLQlyZXR1cm4gYWN0aXZlX2NvdW50ID8gdGltZW91dCA6IDA7
Cj4gLX0KPiAtCj4gICAjaWYgSVNfRU5BQkxFRChDT05GSUdfRFJNX0k5MTVfU0VMRlRFU1QpCj4g
ICAjaW5jbHVkZSAic2VsZnRlc3RzL21vY2tfcmVxdWVzdC5jIgo+ICAgI2luY2x1ZGUgInNlbGZ0
ZXN0cy9pOTE1X3JlcXVlc3QuYyIKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUv
aTkxNV9yZXF1ZXN0LmggYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3JlcXVlc3QuaAo+IGlu
ZGV4IDI1NmIwNzE1MTgwZi4uNmE5NTI0MmIyODBkIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1
L2RybS9pOTE1L2k5MTVfcmVxdWVzdC5oCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkx
NV9yZXF1ZXN0LmgKPiBAQCAtMjUwLDYgKzI1MCw3IEBAIHN0cnVjdCBpOTE1X3JlcXVlc3QgKl9f
aTkxNV9yZXF1ZXN0X2NvbW1pdChzdHJ1Y3QgaTkxNV9yZXF1ZXN0ICpyZXF1ZXN0KTsKPiAgIHZv
aWQgX19pOTE1X3JlcXVlc3RfcXVldWUoc3RydWN0IGk5MTVfcmVxdWVzdCAqcnEsCj4gICAJCQkg
IGNvbnN0IHN0cnVjdCBpOTE1X3NjaGVkX2F0dHIgKmF0dHIpOwo+ICAgCj4gK2Jvb2wgaTkxNV9y
ZXF1ZXN0X3JldGlyZShzdHJ1Y3QgaTkxNV9yZXF1ZXN0ICpycSk7Cj4gICB2b2lkIGk5MTVfcmVx
dWVzdF9yZXRpcmVfdXB0byhzdHJ1Y3QgaTkxNV9yZXF1ZXN0ICpycSk7Cj4gICAKPiAgIHN0YXRp
YyBpbmxpbmUgc3RydWN0IGk5MTVfcmVxdWVzdCAqCj4gQEAgLTQ1OSwxMCArNDYwLDQgQEAgaTkx
NV9yZXF1ZXN0X2FjdGl2ZV90aW1lbGluZShzdHJ1Y3QgaTkxNV9yZXF1ZXN0ICpycSkKPiAgIAkJ
CQkJIGxvY2tkZXBfaXNfaGVsZCgmcnEtPmVuZ2luZS0+YWN0aXZlLmxvY2spKTsKPiAgIH0KPiAg
IAo+IC1sb25nIGk5MTVfcmV0aXJlX3JlcXVlc3RzX3RpbWVvdXQoc3RydWN0IGRybV9pOTE1X3By
aXZhdGUgKmk5MTUsIGxvbmcgdGltZW91dCk7Cj4gLXN0YXRpYyBpbmxpbmUgdm9pZCBpOTE1X3Jl
dGlyZV9yZXF1ZXN0cyhzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSkKPiAtewo+IC0JaTkx
NV9yZXRpcmVfcmVxdWVzdHNfdGltZW91dChpOTE1LCAwKTsKPiAtfQo+IC0KPiAgICNlbmRpZiAv
KiBJOTE1X1JFUVVFU1RfSCAqLwo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9z
ZWxmdGVzdHMvaWd0X2ZsdXNoX3Rlc3QuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L3NlbGZ0ZXN0
cy9pZ3RfZmx1c2hfdGVzdC5jCj4gaW5kZXggZWQ0OTZiZDZkODRmLi43YjA5MzllM2YwMDcgMTAw
NjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvc2VsZnRlc3RzL2lndF9mbHVzaF90ZXN0
LmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9zZWxmdGVzdHMvaWd0X2ZsdXNoX3Rlc3Qu
Ywo+IEBAIC00LDggKzQsOCBAQAo+ICAgICogQ29weXJpZ2h0IMKpIDIwMTggSW50ZWwgQ29ycG9y
YXRpb24KPiAgICAqLwo+ICAgCj4gLSNpbmNsdWRlICJnZW0vaTkxNV9nZW1fY29udGV4dC5oIgo+
ICAgI2luY2x1ZGUgImd0L2ludGVsX2d0LmgiCj4gKyNpbmNsdWRlICJndC9pbnRlbF9ndF9yZXF1
ZXN0cy5oIgo+ICAgCj4gICAjaW5jbHVkZSAiaTkxNV9kcnYuaCIKPiAgICNpbmNsdWRlICJpOTE1
X3NlbGZ0ZXN0LmgiCj4gQEAgLTE0LDExICsxNCwxMiBAQAo+ICAgCj4gICBpbnQgaWd0X2ZsdXNo
X3Rlc3Qoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUpCj4gICB7Cj4gLQlpbnQgcmV0ID0g
aW50ZWxfZ3RfaXNfd2VkZ2VkKCZpOTE1LT5ndCkgPyAtRUlPIDogMDsKPiArCXN0cnVjdCBpbnRl
bF9ndCAqZ3QgPSAmaTkxNS0+Z3Q7Cj4gKwlpbnQgcmV0ID0gaW50ZWxfZ3RfaXNfd2VkZ2VkKGd0
KSA/IC1FSU8gOiAwOwo+ICAgCj4gICAJY29uZF9yZXNjaGVkKCk7Cj4gICAKPiAtCWlmIChpOTE1
X2dlbV93YWl0X2Zvcl9pZGxlKGk5MTUsIEhaIC8gNSkgPT0gLUVUSU1FKSB7Cj4gKwlpZiAoaW50
ZWxfZ3Rfd2FpdF9mb3JfaWRsZShndCwgSFogLyA1KSA9PSAtRVRJTUUpIHsKPiAgIAkJcHJfZXJy
KCIlcFMgdGltZWQgb3V0LCBjYW5jZWxsaW5nIGFsbCBmdXJ0aGVyIHRlc3RpbmcuXG4iLAo+ICAg
CQkgICAgICAgX19idWlsdGluX3JldHVybl9hZGRyZXNzKDApKTsKPiAgIAo+IEBAIC0yNiw3ICsy
Nyw3IEBAIGludCBpZ3RfZmx1c2hfdGVzdChzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSkK
PiAgIAkJCSAgX19idWlsdGluX3JldHVybl9hZGRyZXNzKDApKTsKPiAgIAkJR0VNX1RSQUNFX0RV
TVAoKTsKPiAgIAo+IC0JCWludGVsX2d0X3NldF93ZWRnZWQoJmk5MTUtPmd0KTsKPiArCQlpbnRl
bF9ndF9zZXRfd2VkZ2VkKGd0KTsKPiAgIAkJcmV0ID0gLUVJTzsKPiAgIAl9Cj4gICAKPiBkaWZm
IC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvc2VsZnRlc3RzL2lndF9saXZlX3Rlc3QuYyBi
L2RyaXZlcnMvZ3B1L2RybS9pOTE1L3NlbGZ0ZXN0cy9pZ3RfbGl2ZV90ZXN0LmMKPiBpbmRleCBl
YWU5MGY5N2RmNmMuLjgxMGI2MDEwMGMyYyAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0v
aTkxNS9zZWxmdGVzdHMvaWd0X2xpdmVfdGVzdC5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5
MTUvc2VsZnRlc3RzL2lndF9saXZlX3Rlc3QuYwo+IEBAIC00LDcgKzQsOCBAQAo+ICAgICogQ29w
eXJpZ2h0IMKpIDIwMTggSW50ZWwgQ29ycG9yYXRpb24KPiAgICAqLwo+ICAgCj4gLSNpbmNsdWRl
ICIuLi9pOTE1X2Rydi5oIgo+ICsjaW5jbHVkZSAiaTkxNV9kcnYuaCIKPiArI2luY2x1ZGUgImd0
L2ludGVsX2d0X3JlcXVlc3RzLmgiCj4gICAKPiAgICNpbmNsdWRlICIuLi9pOTE1X3NlbGZ0ZXN0
LmgiCj4gICAjaW5jbHVkZSAiaWd0X2ZsdXNoX3Rlc3QuaCIKPiBAQCAtMjMsNyArMjQsNyBAQCBp
bnQgaWd0X2xpdmVfdGVzdF9iZWdpbihzdHJ1Y3QgaWd0X2xpdmVfdGVzdCAqdCwKPiAgIAl0LT5m
dW5jID0gZnVuYzsKPiAgIAl0LT5uYW1lID0gbmFtZTsKPiAgIAo+IC0JZXJyID0gaTkxNV9nZW1f
d2FpdF9mb3JfaWRsZShpOTE1LCBNQVhfU0NIRURVTEVfVElNRU9VVCk7Cj4gKwllcnIgPSBpbnRl
bF9ndF93YWl0X2Zvcl9pZGxlKCZpOTE1LT5ndCwgTUFYX1NDSEVEVUxFX1RJTUVPVVQpOwo+ICAg
CWlmIChlcnIpIHsKPiAgIAkJcHJfZXJyKCIlcyglcyk6IGZhaWxlZCB0byBpZGxlIGJlZm9yZSwg
d2l0aCBlcnI9JWQhIiwKPiAgIAkJICAgICAgIGZ1bmMsIG5hbWUsIGVycik7Cj4gZGlmZiAtLWdp
dCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L3NlbGZ0ZXN0cy9tb2NrX2dlbV9kZXZpY2UuYyBiL2Ry
aXZlcnMvZ3B1L2RybS9pOTE1L3NlbGZ0ZXN0cy9tb2NrX2dlbV9kZXZpY2UuYwo+IGluZGV4IDNi
NTg5YmJiMmMyZC4uNGU2Y2RlMGQ0ODU5IDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9p
OTE1L3NlbGZ0ZXN0cy9tb2NrX2dlbV9kZXZpY2UuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9p
OTE1L3NlbGZ0ZXN0cy9tb2NrX2dlbV9kZXZpY2UuYwo+IEBAIC0yNiw2ICsyNiw3IEBACj4gICAj
aW5jbHVkZSA8bGludXgvcG1fcnVudGltZS5oPgo+ICAgCj4gICAjaW5jbHVkZSAiZ3QvaW50ZWxf
Z3QuaCIKPiArI2luY2x1ZGUgImd0L2ludGVsX2d0X3JlcXVlc3RzLmgiCj4gICAjaW5jbHVkZSAi
Z3QvbW9ja19lbmdpbmUuaCIKPiAgIAo+ICAgI2luY2x1ZGUgIm1vY2tfcmVxdWVzdC5oIgo+IEBA
IC00NCw3ICs0NSw4IEBAIHZvaWQgbW9ja19kZXZpY2VfZmx1c2goc3RydWN0IGRybV9pOTE1X3By
aXZhdGUgKmk5MTUpCj4gICAJZG8gewo+ICAgCQlmb3JfZWFjaF9lbmdpbmUoZW5naW5lLCBpOTE1
LCBpZCkKPiAgIAkJCW1vY2tfZW5naW5lX2ZsdXNoKGVuZ2luZSk7Cj4gLQl9IHdoaWxlIChpOTE1
X3JldGlyZV9yZXF1ZXN0c190aW1lb3V0KGk5MTUsIE1BWF9TQ0hFRFVMRV9USU1FT1VUKSk7Cj4g
Kwl9IHdoaWxlIChpbnRlbF9ndF9yZXRpcmVfcmVxdWVzdHNfdGltZW91dCgmaTkxNS0+Z3QsCj4g
KwkJCQkJCSAgTUFYX1NDSEVEVUxFX1RJTUVPVVQpKTsKPiAgIH0KPiAgIAo+ICAgc3RhdGljIHZv
aWQgbW9ja19kZXZpY2VfcmVsZWFzZShzdHJ1Y3QgZHJtX2RldmljZSAqZGV2KQo+IEBAIC05OCwx
MCArMTAwLDYgQEAgc3RhdGljIHZvaWQgcmVsZWFzZV9kZXYoc3RydWN0IGRldmljZSAqZGV2KQo+
ICAgCWtmcmVlKHBkZXYpOwo+ICAgfQo+ICAgCj4gLXN0YXRpYyB2b2lkIG1vY2tfcmV0aXJlX3dv
cmtfaGFuZGxlcihzdHJ1Y3Qgd29ya19zdHJ1Y3QgKndvcmspCj4gLXsKPiAtfQo+IC0KPiAgIHN0
YXRpYyBpbnQgcG1fZG9tYWluX3Jlc3VtZShzdHJ1Y3QgZGV2aWNlICpkZXYpCj4gICB7Cj4gICAJ
cmV0dXJuIHBtX2dlbmVyaWNfcnVudGltZV9yZXN1bWUoZGV2KTsKPiBAQCAtMTgxLDggKzE3OSw2
IEBAIHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICptb2NrX2dlbV9kZXZpY2Uodm9pZCkKPiAgIAo+
ICAgCW1vY2tfaW5pdF9jb250ZXh0cyhpOTE1KTsKPiAgIAo+IC0JSU5JVF9ERUxBWUVEX1dPUkso
Jmk5MTUtPmdlbS5yZXRpcmVfd29yaywgbW9ja19yZXRpcmVfd29ya19oYW5kbGVyKTsKPiAtCj4g
ICAJaW50ZWxfdGltZWxpbmVzX2luaXQoaTkxNSk7Cj4gICAKPiAgIAltdXRleF9sb2NrKCZpOTE1
LT5kcm0uc3RydWN0X211dGV4KTsKPiAKClJldmlld2VkLWJ5OiBUdnJ0a28gVXJzdWxpbiA8dHZy
dGtvLnVyc3VsaW5AaW50ZWwuY29tPgoKUmVnYXJkcywKClR2cnRrbwpfX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpJbnRlbC1nZnggbWFpbGluZyBsaXN0Cklu
dGVsLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5v
cmcvbWFpbG1hbi9saXN0aW5mby9pbnRlbC1nZng=

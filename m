Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 221F22853B
	for <lists+intel-gfx@lfdr.de>; Thu, 23 May 2019 19:45:23 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 5D3856E059;
	Thu, 23 May 2019 17:45:21 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga12.intel.com (mga12.intel.com [192.55.52.136])
 by gabe.freedesktop.org (Postfix) with ESMTPS id EE2F16E03A
 for <intel-gfx@lists.freedesktop.org>; Thu, 23 May 2019 17:45:19 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga003.jf.intel.com ([10.7.209.27])
 by fmsmga106.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 23 May 2019 10:45:19 -0700
X-ExtLoop1: 1
Received: from orsmsx105.amr.corp.intel.com ([10.22.225.132])
 by orsmga003.jf.intel.com with ESMTP; 23 May 2019 10:45:19 -0700
Received: from orsmsx108.amr.corp.intel.com ([169.254.2.171]) by
 ORSMSX105.amr.corp.intel.com ([169.254.2.95]) with mapi id 14.03.0415.000;
 Thu, 23 May 2019 10:45:18 -0700
From: "Srivatsa, Anusha" <anusha.srivatsa@intel.com>
To: "De Marchi, Lucas" <lucas.demarchi@intel.com>,
 "intel-gfx@lists.freedesktop.org" <intel-gfx@lists.freedesktop.org>
Thread-Topic: [PATCH 02/10] drm/i915/dmc: extract fw_info and table walk
 from intel_package_header
Thread-Index: AQHVEUDxGWfGzPfYeEq7xMufvITv+6Z4++rQ
Date: Thu, 23 May 2019 17:45:17 +0000
Message-ID: <83F5C7385F545743AD4FB2A62F75B073480B509E@ORSMSX108.amr.corp.intel.com>
References: <20190523082420.10352-1-lucas.demarchi@intel.com>
 <20190523082420.10352-2-lucas.demarchi@intel.com>
In-Reply-To: <20190523082420.10352-2-lucas.demarchi@intel.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
dlp-product: dlpe-windows
dlp-version: 11.0.600.7
dlp-reaction: no-action
x-ctpclassification: CTP_NT
x-titus-metadata-40: eyJDYXRlZ29yeUxhYmVscyI6IiIsIk1ldGFkYXRhIjp7Im5zIjoiaHR0cDpcL1wvd3d3LnRpdHVzLmNvbVwvbnNcL0ludGVsMyIsImlkIjoiMTA1MmZlMzQtYTllNi00NThkLWExMDktOWRjMjQzNjgzZDgzIiwicHJvcHMiOlt7Im4iOiJDVFBDbGFzc2lmaWNhdGlvbiIsInZhbHMiOlt7InZhbHVlIjoiQ1RQX05UIn1dfV19LCJTdWJqZWN0TGFiZWxzIjpbXSwiVE1DVmVyc2lvbiI6IjE3LjEwLjE4MDQuNDkiLCJUcnVzdGVkTGFiZWxIYXNoIjoiWllweGJwZzdWaXZtQXNLclNENkltbmpScWRDMERsVndZV1RuYmN3dm9KV0p6dzdQTU00RVwvSHVVd2lWNTRDYVIifQ==
x-originating-ip: [10.22.254.139]
MIME-Version: 1.0
Subject: Re: [Intel-gfx] [PATCH 02/10] drm/i915/dmc: extract fw_info and
 table walk from intel_package_header
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

Cgo+LS0tLS1PcmlnaW5hbCBNZXNzYWdlLS0tLS0KPkZyb206IERlIE1hcmNoaSwgTHVjYXMKPlNl
bnQ6IFRodXJzZGF5LCBNYXkgMjMsIDIwMTkgMToyNCBBTQo+VG86IGludGVsLWdmeEBsaXN0cy5m
cmVlZGVza3RvcC5vcmcKPkNjOiBKYW5pIE5pa3VsYSA8amFuaS5uaWt1bGFAbGludXguaW50ZWwu
Y29tPjsgU3JpdmF0c2EsIEFudXNoYQo+PGFudXNoYS5zcml2YXRzYUBpbnRlbC5jb20+OyBWaXZp
LCBSb2RyaWdvIDxyb2RyaWdvLnZpdmlAaW50ZWwuY29tPjsgRGUKPk1hcmNoaSwgTHVjYXMgPGx1
Y2FzLmRlbWFyY2hpQGludGVsLmNvbT4KPlN1YmplY3Q6IFtQQVRDSCAwMi8xMF0gZHJtL2k5MTUv
ZG1jOiBleHRyYWN0IGZ3X2luZm8gYW5kIHRhYmxlIHdhbGsgZnJvbQo+aW50ZWxfcGFja2FnZV9o
ZWFkZXIKPgo+TW92ZSBmd19pbmZvIG91dCBvZiBzdHJ1Y3QgaW50ZWxfcGFja2FnZV9oZWFkZXIg
dG8gYWxsb3cgaXQgdG8gZ3JvdyBtb3JlIGVhc2lseQo+aW4gZnV0dXJlLiBUbyBtYWtlIGEgY2xl
YW5lciBtb3ZlLCBsZXQncyBhbHNvIGV4dHJhY3QgYSBmdW5jdGlvbiB0byBzZWFyY2ggdGhlCj5o
ZWFkZXIgZm9yIHRoZSBkbWNfb2Zmc2V0Lgo+Cj5XaGlsZSByZXZpZXdpbmcgdGhpcyBjb2RlIEkg
d29uZGVyZWQgd2h5IHdlIGNvbnRpbnVlZCB0aGUgc2VhcmNoIGV2ZW4gYWZ0ZXIKPmZpbmRpbmcg
YSBzdWl0YWJsZSBmaXJtd2FyZS4gQWRkIGEgY29tbWVudCB0byBleHBsYWluIHdlIHdpbGwgY29u
dGludWUgdG8gdHJ5IHRvCj5maW5kIGEgbW9yZSBzcGVjaWZpYyBmaXJtd2FyZSB2ZXJzaW9uLCBl
dmVuIGlmIHRoaXMgaXMgbm90IHJlcXVpcmVkIGJ5IHRoZSBzcGVjLgo+Cj5TaWduZWQtb2ZmLWJ5
OiBMdWNhcyBEZSBNYXJjaGkgPGx1Y2FzLmRlbWFyY2hpQGludGVsLmNvbT4KUmV2aWV3ZWQtYnk6
IEFudXNoYSBTcml2YXRzYSA8YW51c2hhLnNyaXZhdHNhQGludGVsLmNvbT4KCj4tLS0KPiBkcml2
ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9jc3IuYyB8IDY4ICsrKysrKysrKysrKysrKysrKysrKysr
Ky0tLS0tLS0tCj4gMSBmaWxlIGNoYW5nZWQsIDUxIGluc2VydGlvbnMoKyksIDE3IGRlbGV0aW9u
cygtKQo+Cj5kaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfY3NyLmMgYi9k
cml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9jc3IuYwo+aW5kZXggYjA1ZTdhNmFlYmM3Li4wMWFl
MzU2ZTY5Y2MgMTAwNjQ0Cj4tLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9jc3IuYwo+
KysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfY3NyLmMKPkBAIC03MCw2ICs3MCw3IEBA
IE1PRFVMRV9GSVJNV0FSRShTS0xfQ1NSX1BBVEgpOwo+TU9EVUxFX0ZJUk1XQVJFKEJYVF9DU1Jf
UEFUSCk7Cj4KPiAjZGVmaW5lIENTUl9ERUZBVUxUX0ZXX09GRlNFVAkJMHhGRkZGRkZGRgo+KyNk
ZWZpbmUgUEFDS0FHRV9NQVhfRldfSU5GT19FTlRSSUVTCTIwCj4KPiBzdHJ1Y3QgaW50ZWxfY3Nz
X2hlYWRlciB7Cj4gCS8qIDB4MDkgZm9yIERNQyAqLwo+QEAgLTEzOSw4ICsxNDAsNiBAQCBzdHJ1
Y3QgaW50ZWxfcGFja2FnZV9oZWFkZXIgewo+Cj4gCS8qIE51bWJlciBvZiB2YWxpZCBlbnRyaWVz
IGluIHRoZSBGV0luZm8gYXJyYXkgYmVsb3cgKi8KPiAJdTMyIG51bV9lbnRyaWVzOwo+LQo+LQlz
dHJ1Y3QgaW50ZWxfZndfaW5mbyBmd19pbmZvWzIwXTsKPiB9IF9fcGFja2VkOwo+Cj4gc3RydWN0
IGludGVsX2RtY19oZWFkZXIgewo+QEAgLTI5Miw2ICsyOTEsNDYgQEAgdm9pZCBpbnRlbF9jc3Jf
bG9hZF9wcm9ncmFtKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlCj4qZGV2X3ByaXYpCj4gCWdlbjlf
c2V0X2RjX3N0YXRlX2RlYnVnbWFzayhkZXZfcHJpdik7Cj4gfQo+Cj4rLyoKPisgKiBTZWFyY2gg
ZndfaW5mbyB0YWJsZSBmb3IgZG1jX29mZnNldCB0byBmaW5kIGZpcm13YXJlIGJpbmFyeToKPitu
dW1fZW50cmllcyBpcwo+KyAqIGFscmVhZHkgc2FuaXRpemVkLgo+KyAqLwo+K3N0YXRpYyB1MzIg
ZmluZF9kbWNfZndfb2Zmc2V0KGNvbnN0IHN0cnVjdCBpbnRlbF9md19pbmZvICpmd19pbmZvLAo+
KwkJCSAgICAgIHVuc2lnbmVkIGludCBudW1fZW50cmllcywKPisJCQkgICAgICBjb25zdCBzdHJ1
Y3Qgc3RlcHBpbmdfaW5mbyAqc2kpIHsKPisJdTMyIGRtY19vZmZzZXQgPSBDU1JfREVGQVVMVF9G
V19PRkZTRVQ7Cj4rCXVuc2lnbmVkIGludCBpOwo+Kwo+Kwlmb3IgKGkgPSAwOyBpIDwgbnVtX2Vu
dHJpZXM7IGkrKykgewo+KwkJaWYgKGZ3X2luZm9baV0uc3Vic3RlcHBpbmcgPT0gJyonICYmCj4r
CQkgICAgc2ktPnN0ZXBwaW5nID09IGZ3X2luZm9baV0uc3RlcHBpbmcpIHsKPisJCQlkbWNfb2Zm
c2V0ID0gZndfaW5mb1tpXS5vZmZzZXQ7Cj4rCQkJYnJlYWs7Cj4rCQl9Cj4rCj4rCQlpZiAoc2kt
PnN0ZXBwaW5nID09IGZ3X2luZm9baV0uc3RlcHBpbmcgJiYKPisJCSAgICBzaS0+c3Vic3RlcHBp
bmcgPT0gZndfaW5mb1tpXS5zdWJzdGVwcGluZykgewo+KwkJCWRtY19vZmZzZXQgPSBmd19pbmZv
W2ldLm9mZnNldDsKPisJCQlicmVhazsKPisJCX0KPisKPisJCWlmIChmd19pbmZvW2ldLnN0ZXBw
aW5nID09ICcqJyAmJgo+KwkJICAgIGZ3X2luZm9baV0uc3Vic3RlcHBpbmcgPT0gJyonKSB7Cj4r
CQkJLyoKPisJCQkgKiBJbiB0aGVvcnkgd2Ugc2hvdWxkIHN0b3AgdGhlIHNlYXJjaCBhcyBnZW5l
cmljCj4rCQkJICogZW50cmllcyBzaG91bGQgYWx3YXMgY29tZSBhZnRlciB0aGUgbW9yZSBzcGVj
aWZpYwo+KwkJCSAqIG9uZXMsIGJ1dCBsZXQncyBjb250aW51ZSB0byBtYWtlIHN1cmUgdG8gd29y
ayBldmVuCj4rCQkJICogd2l0aCAiYnJva2VuIiBmaXJtd2FyZXMuIElmIHdlIGRvbid0IGZpbmQg
YSBtb3JlCj4rCQkJICogc3BlY2lmaWMgb25lLCB0aGVuIHdlIHVzZSB0aGlzIGVudHJ5Cj4rCQkJ
ICovCj4rCQkJZG1jX29mZnNldCA9IGZ3X2luZm9baV0ub2Zmc2V0Owo+KwkJfQo+Kwl9Cj4rCj4r
CXJldHVybiBkbWNfb2Zmc2V0Owo+K30KPisKPiBzdGF0aWMgdTMyICpwYXJzZV9jc3JfZncoc3Ry
dWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2LAo+IAkJCSBjb25zdCBzdHJ1Y3QgZmlybXdh
cmUgKmZ3KQo+IHsKPkBAIC0zMDAsNyArMzM5LDcgQEAgc3RhdGljIHUzMiAqcGFyc2VfY3NyX2Z3
KHN0cnVjdCBkcm1faTkxNV9wcml2YXRlCj4qZGV2X3ByaXYsCj4gCXN0cnVjdCBpbnRlbF9kbWNf
aGVhZGVyICpkbWNfaGVhZGVyOwo+IAlzdHJ1Y3QgaW50ZWxfY3NyICpjc3IgPSAmZGV2X3ByaXYt
PmNzcjsKPiAJY29uc3Qgc3RydWN0IHN0ZXBwaW5nX2luZm8gKnNpID0gaW50ZWxfZ2V0X3N0ZXBw
aW5nX2luZm8oZGV2X3ByaXYpOwo+LQl1MzIgZG1jX29mZnNldCA9IENTUl9ERUZBVUxUX0ZXX09G
RlNFVCwgcmVhZGNvdW50ID0gMCwgbmJ5dGVzOwo+Kwl1MzIgZG1jX29mZnNldCwgbnVtX2VudHJp
ZXMsIHJlYWRjb3VudCA9IDAsIG5ieXRlczsKPiAJdTMyIGk7Cj4gCXUzMiAqZG1jX3BheWxvYWQ7
Cj4KPkBAIC0zNDIsMjcgKzM4MSwyMiBAQCBzdGF0aWMgdTMyICpwYXJzZV9jc3JfZncoc3RydWN0
IGRybV9pOTE1X3ByaXZhdGUKPipkZXZfcHJpdiwKPiAJCQkgIChwYWNrYWdlX2hlYWRlci0+aGVh
ZGVyX2xlbiAqIDQpKTsKPiAJCXJldHVybiBOVUxMOwo+IAl9Cj4rCj4gCXJlYWRjb3VudCArPSBz
aXplb2Yoc3RydWN0IGludGVsX3BhY2thZ2VfaGVhZGVyKTsKPisJbnVtX2VudHJpZXMgPSBwYWNr
YWdlX2hlYWRlci0+bnVtX2VudHJpZXM7Cj4rCWlmIChXQVJOX09OKHBhY2thZ2VfaGVhZGVyLT5u
dW1fZW50cmllcyA+Cj5QQUNLQUdFX01BWF9GV19JTkZPX0VOVFJJRVMpKQo+KwkJbnVtX2VudHJp
ZXMgPSBQQUNLQUdFX01BWF9GV19JTkZPX0VOVFJJRVM7Cj4KPi0JLyogU2VhcmNoIGZvciBkbWNf
b2Zmc2V0IHRvIGZpbmQgZmlyd2FyZSBiaW5hcnkuICovCj4tCWZvciAoaSA9IDA7IGkgPCBwYWNr
YWdlX2hlYWRlci0+bnVtX2VudHJpZXM7IGkrKykgewo+LQkJaWYgKHBhY2thZ2VfaGVhZGVyLT5m
d19pbmZvW2ldLnN1YnN0ZXBwaW5nID09ICcqJyAmJgo+LQkJICAgIHNpLT5zdGVwcGluZyA9PSBw
YWNrYWdlX2hlYWRlci0+ZndfaW5mb1tpXS5zdGVwcGluZykgewo+LQkJCWRtY19vZmZzZXQgPSBw
YWNrYWdlX2hlYWRlci0+ZndfaW5mb1tpXS5vZmZzZXQ7Cj4tCQkJYnJlYWs7Cj4tCQl9IGVsc2Ug
aWYgKHNpLT5zdGVwcGluZyA9PSBwYWNrYWdlX2hlYWRlci0+ZndfaW5mb1tpXS5zdGVwcGluZwo+
JiYKPi0JCQkgICBzaS0+c3Vic3RlcHBpbmcgPT0gcGFja2FnZV9oZWFkZXItCj4+ZndfaW5mb1tp
XS5zdWJzdGVwcGluZykgewo+LQkJCWRtY19vZmZzZXQgPSBwYWNrYWdlX2hlYWRlci0+ZndfaW5m
b1tpXS5vZmZzZXQ7Cj4tCQkJYnJlYWs7Cj4tCQl9IGVsc2UgaWYgKHBhY2thZ2VfaGVhZGVyLT5m
d19pbmZvW2ldLnN0ZXBwaW5nID09ICcqJyAmJgo+LQkJCSAgIHBhY2thZ2VfaGVhZGVyLT5md19p
bmZvW2ldLnN1YnN0ZXBwaW5nID09ICcqJykKPi0JCQlkbWNfb2Zmc2V0ID0gcGFja2FnZV9oZWFk
ZXItPmZ3X2luZm9baV0ub2Zmc2V0Owo+LQl9Cj4rCWRtY19vZmZzZXQgPSBmaW5kX2RtY19md19v
ZmZzZXQoKHN0cnVjdCBpbnRlbF9md19pbmZvICopCj4rCQkJCQkmZnctPmRhdGFbcmVhZGNvdW50
XSwgbnVtX2VudHJpZXMsIHNpKTsKPiAJaWYgKGRtY19vZmZzZXQgPT0gQ1NSX0RFRkFVTFRfRldf
T0ZGU0VUKSB7Cj4gCQlEUk1fRVJST1IoIkRNQyBmaXJtd2FyZSBub3Qgc3VwcG9ydGVkIGZvciAl
YyBzdGVwcGluZ1xuIiwKPiAJCQkgIHNpLT5zdGVwcGluZyk7Cj4gCQlyZXR1cm4gTlVMTDsKPiAJ
fQo+KwkvKiB3ZSBhbHdheXMgaGF2ZSBzcGFjZSBmb3IgUEFDS0FHRV9NQVhfRldfSU5GT19FTlRS
SUVTICovCj4rCXJlYWRjb3VudCArPSBQQUNLQUdFX01BWF9GV19JTkZPX0VOVFJJRVMgKiBzaXpl
b2Yoc3RydWN0Cj4raW50ZWxfZndfaW5mbyk7Cj4rCj4gCS8qIENvbnZlcnQgZG1jX29mZnNldCBp
bnRvIG51bWJlciBvZiBieXRlcy4gQnkgZGVmYXVsdCBpdCBpcyBpbiBkd29yZHMqLwo+IAlkbWNf
b2Zmc2V0ICo9IDQ7Cj4gCXJlYWRjb3VudCArPSBkbWNfb2Zmc2V0Owo+LS0KPjIuMjEuMAoKX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KSW50ZWwtZ2Z4IG1h
aWxpbmcgbGlzdApJbnRlbC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMu
ZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vaW50ZWwtZ2Z4

Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 5EEB827A20
	for <lists+intel-gfx@lfdr.de>; Thu, 23 May 2019 12:14:30 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id D784B89D7B;
	Thu, 23 May 2019 10:14:28 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from fireflyinternet.com (mail.fireflyinternet.com [109.228.58.192])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 509FB89D7B
 for <intel-gfx@lists.freedesktop.org>; Thu, 23 May 2019 10:14:27 +0000 (UTC)
X-Default-Received-SPF: pass (skip=forwardok (res=PASS))
 x-ip-name=78.156.65.138; 
Received: from localhost (unverified [78.156.65.138]) 
 by fireflyinternet.com (Firefly Internet (M1)) with ESMTP (TLS) id
 16652479-1500050 for multiple; Thu, 23 May 2019 11:14:22 +0100
MIME-Version: 1.0
From: Chris Wilson <chris@chris-wilson.co.uk>
User-Agent: alot/0.6
To: Tvrtko Ursulin <tvrtko.ursulin@linux.intel.com>,
 intel-gfx@lists.freedesktop.org
References: <20190523064933.23604-1-chris@chris-wilson.co.uk>
 <d482e1a9-a485-d513-bb7d-cb2e39f7bb24@linux.intel.com>
 <f128a09c-1d1d-bea7-1487-3b3e766da3be@linux.intel.com>
 <155860607057.28319.10417661639080544175@skylake-alporthouse-com>
In-Reply-To: <155860607057.28319.10417661639080544175@skylake-alporthouse-com>
Message-ID: <155860646158.28319.15538918828538407611@skylake-alporthouse-com>
Date: Thu, 23 May 2019 11:14:21 +0100
Subject: Re: [Intel-gfx] [PATCH] drm/i915/gtt: Always acquire struct_mutex
 for gen6_ppgtt_cleanup
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

UXVvdGluZyBDaHJpcyBXaWxzb24gKDIwMTktMDUtMjMgMTE6MDc6NTApCj4gUXVvdGluZyBUdnJ0
a28gVXJzdWxpbiAoMjAxOS0wNS0yMyAxMTowMTowOSkKPiA+IAo+ID4gT24gMjMvMDUvMjAxOSAx
MDoyMSwgVHZydGtvIFVyc3VsaW4gd3JvdGU6Cj4gPiA+IAo+ID4gPiBPbiAyMy8wNS8yMDE5IDA3
OjQ5LCBDaHJpcyBXaWxzb24gd3JvdGU6Cj4gPiA+PiBXZSByZWFycmFuZ2VkIHRoZSB2bV9kZXN0
cm95X2lvY3RsIHRvIGF2b2lkIHRha2luZyBzdHJ1Y3RfbXV0ZXgsIGxpdHRsZQo+ID4gPj4gcmVh
bGlzaW5nIHRoYXQgYnVyaWVkIHVuZGVybmVhdGggdGhlIGdlbjYgcHBndHQgcmVsZWFzZSBwYXRo
IHdhcyBhCj4gPiA+PiBzdHJ1Y3RfbXV0ZXggcmVxdWlyZW1lbnQgKHRvIHJlbW92ZSBpdHMgR0dU
VCB2bWEpLiBVbnRpbCB0aGF0Cj4gPiA+PiBzdHJ1Y3RfbXV0ZXggaXMgdmFucXVpc2hlZCwgdGFr
ZSBhIGRldG91ciBpbiBnZW42X3BwZ3R0X2NsZWFudXAgdG8gZG8KPiA+ID4+IHRoZSBpOTE1X3Zt
YV9kZXN0cm95IGZyb20gaW5zaWRlIGEgd29ya2VyIHVuZGVyIHRoZSBzdHJ1Y3RfbXV0ZXguCj4g
PiA+Pgo+ID4gPj4gPDQ+IFsyNTcuNzQwMTYwXSBXQVJOX09OKGRlYnVnX2xvY2tzICYmIAo+ID4g
Pj4gIWxvY2tfaXNfaGVsZCgmKCZ2bWEtPnZtLT5pOTE1LT5kcm0uc3RydWN0X211dGV4KS0+ZGVw
X21hcCkpCj4gPiA+PiA8ND4gWzI1Ny43NDAyMTNdIFdBUk5JTkc6IENQVTogMyBQSUQ6IDE1MDcg
YXQgCj4gPiA+PiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3ZtYS5jOjg0MSBpOTE1X3ZtYV9k
ZXN0cm95KzB4MWFlLzB4M2EwIFtpOTE1XQo+ID4gPj4gPDQ+IFsyNTcuNzQwMjE0XSBNb2R1bGVz
IGxpbmtlZCBpbjogc25kX2hkYV9jb2RlY19oZG1pIGk5MTUgCj4gPiA+PiB4ODZfcGtnX3RlbXBf
dGhlcm1hbCBtZWlfaGRjcCBjb3JldGVtcCBjcmN0MTBkaWZfcGNsbXVsIGNyYzMyX3BjbG11bCAK
PiA+ID4+IGdoYXNoX2NsbXVsbmlfaW50ZWwgc25kX2hkYV9jb2RlY19yZWFsdGVrIHNuZF9oZGFf
Y29kZWNfZ2VuZXJpYyAKPiA+ID4+IHNuZF9oZGFfaW50ZWwgc25kX2hkYV9jb2RlYyBzbmRfaHdk
ZXAgc25kX2hkYV9jb3JlIHI4MTY5IHJlYWx0ZWsgCj4gPiA+PiBzbmRfcGNtIG1laV9tZSBtZWkg
cHJpbWVfbnVtYmVycyBscGNfaWNoCj4gPiA+PiA8ND4gWzI1Ny43NDAyMjRdIENQVTogMyBQSUQ6
IDE1MDcgQ29tbTogZ2VtX3ZtX2NyZWF0ZSBUYWludGVkOiBHICAgICAKPiA+ID4+IFXCoMKgwqDC
oMKgwqDCoMKgwqDCoMKgIDUuMi4wLXJjMS1DSS1DSV9EUk1fNjExOCsgIzEKPiA+ID4+IDw0PiBb
MjU3Ljc0MDIyNV0gSGFyZHdhcmUgbmFtZTogTVNJIE1TLTc5MjQvWjk3TS1HNDMoTVMtNzkyNCks
IEJJT1MgCj4gPiA+PiBWMS4xMiAwMi8xNS8yMDE2Cj4gPiA+PiA8ND4gWzI1Ny43NDAyNDldIFJJ
UDogMDAxMDppOTE1X3ZtYV9kZXN0cm95KzB4MWFlLzB4M2EwIFtpOTE1XQo+ID4gPj4gPDQ+IFsy
NTcuNzQwMjUwXSBDb2RlOiAwMCAwMCAwMCA0OCA4MSBjNyBjOCAwMCAwMCAwMCBlOCBlZCAwOCBm
MCBlMCA4NSAKPiA+ID4+IGMwIDBmIDg1IDc4IGZlIGZmIGZmIDQ4IGM3IGM2IGU4IGVjIDMwIGEw
IDQ4IGM3IGM3IGRhIDU1IDMzIGEwIGU4IDQyIAo+ID4gPj4gOGMgZTkgZTAgPDBmPiAwYiA4YiA4
MyA0MCAwMSAwMCAwMCA4NSBjMCAwZiA4NCA2MyBmZSBmZiBmZiA0OCBjNyBjMSBjMSAKPiA+ID4+
IDU4IDMzCj4gPiA+PiA8ND4gWzI1Ny43NDAyNTFdIFJTUDogMDAxODpmZmZmYzkwMDAwYWFmYzY4
IEVGTEFHUzogMDAwMTAyODIKPiA+ID4+IDw0PiBbMjU3Ljc0MDI1Ml0gUkFYOiAwMDAwMDAwMDAw
MDAwMDAwIFJCWDogZmZmZjg4ODNmNzk1Nzg0MCBSQ1g6IAo+ID4gPj4gMDAwMDAwMDAwMDAwMDAw
Mwo+ID4gPj4gPDQ+IFsyNTcuNzQwMjUzXSBSRFg6IDAwMDAwMDAwMDAwMDAwNDYgUlNJOiAwMDAw
MDAwMDAwMDAwMDA2IFJESTogCj4gPiA+PiBmZmZmZmZmZjgyMTJkMWI5Cj4gPiA+PiA8ND4gWzI1
Ny43NDAyNTRdIFJCUDogZmZmZmM5MDAwMGFhZmNjOCBSMDg6IDAwMDAwMDAwMDAwMDAwMDAgUjA5
OiAKPiA+ID4+IDAwMDAwMDAwMDAwMDAwMDAKPiA+ID4+IDw0PiBbMjU3Ljc0MDI1NV0gUjEwOiAw
MDAwMDAwMDAwMDAwMDAwIFIxMTogMDAwMDAwMDAwMDAwMDAwMCBSMTI6IAo+ID4gPj4gZmZmZjg4
ODNmNGQ1YzJhOAo+ID4gPj4gPDQ+IFsyNTcuNzQwMjU2XSBSMTM6IGZmZmY4ODgzZjRkNWQ2ODAg
UjE0OiBmZmZmODg4M2Y0ZDVjNjY4IFIxNTogCj4gPiA+PiBmZmZmODg4M2Y0ZDVjMmYwCj4gPiA+
PiA8ND4gWzI1Ny43NDAyNTddIEZTOsKgIDAwMDA3Zjc3N2ZhOGZlNDAoMDAwMCkgR1M6ZmZmZjg4
ODQwZjc4MDAwMCgwMDAwKSAKPiA+ID4+IGtubEdTOjAwMDAwMDAwMDAwMDAwMDAKPiA+ID4+IDw0
PiBbMjU3Ljc0MDI1OF0gQ1M6wqAgMDAxMCBEUzogMDAwMCBFUzogMDAwMCBDUjA6IDAwMDAwMDAw
ODAwNTAwMzMKPiA+ID4+IDw0PiBbMjU3Ljc0MDI1OV0gQ1IyOiAwMDAwN2Y3NzdmNjUyMmIwIENS
MzogMDAwMDAwMDNjNjEyYTAwNiBDUjQ6IAo+ID4gPj4gMDAwMDAwMDAwMDE2MDZlMAo+ID4gPj4g
PDQ+IFsyNTcuNzQwMjYwXSBDYWxsIFRyYWNlOgo+ID4gPj4gPDQ+IFsyNTcuNzQwMjgzXcKgIGdl
bjZfcHBndHRfY2xlYW51cCsweDI1LzB4NjAgW2k5MTVdCj4gPiA+PiA8ND4gWzI1Ny43NDAzMDZd
wqAgaTkxNV9wcGd0dF9yZWxlYXNlKzB4MTAyLzB4MjkwIFtpOTE1XQo+ID4gPj4gPDQ+IFsyNTcu
NzQwMzMwXcKgIGk5MTVfZ2VtX3ZtX2Rlc3Ryb3lfaW9jdGwrMHg3Yy8weGEwIFtpOTE1XQo+ID4g
Pj4gPDQ+IFsyNTcuNzQwMzc2XcKgID8gaTkxNV9nZW1fdm1fY3JlYXRlX2lvY3RsKzB4MTYwLzB4
MTYwIFtpOTE1XQo+ID4gPj4gPDQ+IFsyNTcuNzQwMzc5XcKgIGRybV9pb2N0bF9rZXJuZWwrMHg4
My8weGYwCj4gPiA+PiA8ND4gWzI1Ny43NDAzODJdwqAgZHJtX2lvY3RsKzB4MmYzLzB4M2IwCj4g
PiA+PiA8ND4gWzI1Ny43NDA0MjJdwqAgPyBpOTE1X2dlbV92bV9jcmVhdGVfaW9jdGwrMHgxNjAv
MHgxNjAgW2k5MTVdCj4gPiA+PiA8ND4gWzI1Ny43NDA0MjZdwqAgPyBfcmF3X3NwaW5fdW5sb2Nr
X2lycXJlc3RvcmUrMHgzOS8weDYwCj4gPiA+PiA8ND4gWzI1Ny43NDA0MzBdwqAgZG9fdmZzX2lv
Y3RsKzB4YTAvMHg2ZTAKPiA+ID4+IDw0PiBbMjU3Ljc0MDQzM13CoCA/IGxvY2tfYWNxdWlyZSsw
eGE2LzB4MWMwCj4gPiA+PiA8ND4gWzI1Ny43NDA0MzZdwqAgPyBfX3Rhc2tfcGlkX25yX25zKzB4
YjkvMHgxZjAKPiA+ID4+IDw0PiBbMjU3Ljc0MDQzOV3CoCBrc3lzX2lvY3RsKzB4MzUvMHg2MAo+
ID4gPj4gPDQ+IFsyNTcuNzQwNDQxXcKgIF9feDY0X3N5c19pb2N0bCsweDExLzB4MjAKPiA+ID4+
IDw0PiBbMjU3Ljc0MDQ0M13CoCBkb19zeXNjYWxsXzY0KzB4NTUvMHgxYzAKPiA+ID4+IDw0PiBb
MjU3Ljc0MDQ0NV3CoCBlbnRyeV9TWVNDQUxMXzY0X2FmdGVyX2h3ZnJhbWUrMHg0OS8weGJlCj4g
PiA+Pgo+ID4gPj4gUmVmZXJlbmNlczogZTA2OTVkYjcyOThlICgiZHJtL2k5MTU6IENyZWF0ZS9k
ZXN0cm95IFZNIChwcEdUVCkgZm9yIHVzZSAKPiA+ID4+IHdpdGggY29udGV4dHMiKQo+ID4gPj4g
Rml4ZXM6IDdmM2YzMTdhNjZjYSAoImRybS9pOTE1OiBSZXN0b3JlIGNvbnRyb2wgb3ZlciBwcGd0
dCBmb3IgY29udGV4dCAKPiA+ID4+IGNyZWF0aW9uIEFCSSIpCj4gPiA+PiBTaWduZWQtb2ZmLWJ5
OiBDaHJpcyBXaWxzb24gPGNocmlzQGNocmlzLXdpbHNvbi5jby51az4KPiA+ID4+IENjOiBUdnJ0
a28gVXJzdWxpbiA8dHZydGtvLnVyc3VsaW5AaW50ZWwuY29tPgo+ID4gPj4gLS0tCj4gPiA+PiDC
oCBkcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2dlbV9ndHQuYyB8IDMyICsrKysrKysrKysrKysr
KysrKysrKysrKysrKy0tCj4gPiA+PiDCoCBkcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2dlbV9n
dHQuaCB8wqAgMiArKwo+ID4gPj4gwqAgMiBmaWxlcyBjaGFuZ2VkLCAzMiBpbnNlcnRpb25zKCsp
LCAyIGRlbGV0aW9ucygtKQo+ID4gPj4KPiA+ID4+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9k
cm0vaTkxNS9pOTE1X2dlbV9ndHQuYyAKPiA+ID4+IGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkx
NV9nZW1fZ3R0LmMKPiA+ID4+IGluZGV4IDllZDQxYWVmYjQ1Ni4uNWEzNTAyNTE3NjZhIDEwMDY0
NAo+ID4gPj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9nZW1fZ3R0LmMKPiA+ID4+
ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZ2VtX2d0dC5jCj4gPiA+PiBAQCAtMTgy
OCwxMSArMTgyOCwzMyBAQCBzdGF0aWMgdm9pZCBnZW42X3BwZ3R0X2ZyZWVfcGQoc3RydWN0IAo+
ID4gPj4gZ2VuNl9od19wcGd0dCAqcHBndHQpCj4gPiA+PiDCoMKgwqDCoMKgwqDCoMKgwqDCoMKg
wqDCoCBmcmVlX3B0KCZwcGd0dC0+YmFzZS52bSwgcHQpOwo+ID4gPj4gwqAgfQo+ID4gPj4gK3N0
cnVjdCBnZW42X3BwZ3R0X2NsZWFudXBfd29yayB7Cj4gPiA+PiArwqDCoMKgIHN0cnVjdCB3b3Jr
X3N0cnVjdCBiYXNlOwo+ID4gPj4gK8KgwqDCoCBzdHJ1Y3QgaTkxNV92bWEgKnZtYTsKPiA+ID4+
ICt9Owo+ID4gPj4gKwo+ID4gPj4gK3N0YXRpYyB2b2lkIGdlbjZfcHBndHRfY2xlYW51cF93b3Jr
KHN0cnVjdCB3b3JrX3N0cnVjdCAqd3JrKQo+ID4gPj4gK3sKPiA+ID4+ICvCoMKgwqAgc3RydWN0
IGdlbjZfcHBndHRfY2xlYW51cF93b3JrICp3b3JrID0KPiA+ID4+ICvCoMKgwqDCoMKgwqDCoCBj
b250YWluZXJfb2Yod3JrLCB0eXBlb2YoKndvcmspLCBiYXNlKTsKPiA+ID4+ICvCoMKgwqAgc3Ry
dWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUgPSB3b3JrLT52bWEtPnZtLT5pOTE1Owo+ID4gPiAK
PiA+ID4gRG9lcyB0aGUgc2VxdWVuY2UgbmVlZCBhbiBleHRyYSByZWZlcmVuY2Ugb24gcHBndHQg
Zm9yIGRlcmVmZXJlbmNpbmcgdGhlIAo+ID4gPiB2bSBoZXJlPyBBbHRlcm5hdGl2ZWx5IHN0b3Jp
bmcgaTkxNSBpbiB0aGUgd29yayBzdHJ1Y3QgY291bGQgd29yayBhcm91bmQgCj4gPiA+IHRoYXQu
Cj4gPiAKPiA+IE5vcGUgLSB2bWEgaGFzIGEgcG9pbnRlciB0byB2bSBhcyB3ZWxsIHdoaWNoIGl0
IHdpbGwgZGVyZWZlcmVuY2UuIFNvIGlmIAo+ID4gcmVmZXJlbmNlIGlzIG5lZWRlZCBpdCdzIG5l
ZWRlZCAtIGl0IGxvb2tzIGxpa2UgaXQgaXMgdG8gbWUsIHNpbmNlIG9ubHkgCj4gPiBjb250ZXh0
cyB0YWtlIHRoZW0sIHdoaWNoIHZtYSdzIHN0aWxsIHJlbHkgb24sIHJpZ2h0Pwo+IAo+IE5haCwg
dm0gaXMgZGVjaWRlZGx5IGRlYWQgYXQgdGhpcyBwb2ludCwgd2UganVzdCBuZWVkIHRvIHN0dWZm
IHRoZSBpOTE1Cj4gcG9pbnRlciBpbnRvIHRoZSBjbGVhbnVwX3dvcmsuCgpBcmdoLiB2bWEgaXMg
aW4gZ2d0dCwgc28gdm1hLT52bSBpcyBhbGl2ZSBhbmQga2lja2luZyAtLSBub3QgdGhlIHZtIHdl
Cmp1c3QgZGVzdHJveWVkLgotQ2hyaXMKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX18KSW50ZWwtZ2Z4IG1haWxpbmcgbGlzdApJbnRlbC1nZnhAbGlzdHMuZnJl
ZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGlu
Zm8vaW50ZWwtZ2Z4

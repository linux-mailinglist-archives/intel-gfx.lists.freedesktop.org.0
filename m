Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 71EDD32EEFA
	for <lists+intel-gfx@lfdr.de>; Fri,  5 Mar 2021 16:36:35 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id B33846EBD0;
	Fri,  5 Mar 2021 15:36:33 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga12.intel.com (mga12.intel.com [192.55.52.136])
 by gabe.freedesktop.org (Postfix) with ESMTPS id A17046EBFE
 for <intel-gfx@lists.freedesktop.org>; Fri,  5 Mar 2021 15:36:32 +0000 (UTC)
IronPort-SDR: JlbFghcBAbbhwF/M5OBKQVjphR3k4fCkZuQfTuTZ8L64CXWhKL9Ew2PYBe5nZWb4MYT3v6z0er
 lEiCeLWFquvw==
X-IronPort-AV: E=McAfee;i="6000,8403,9914"; a="166929617"
X-IronPort-AV: E=Sophos;i="5.81,225,1610438400"; d="scan'208";a="166929617"
Received: from orsmga006.jf.intel.com ([10.7.209.51])
 by fmsmga106.fm.intel.com with ESMTP/TLS/ECDHE-RSA-AES256-GCM-SHA384;
 05 Mar 2021 07:36:32 -0800
IronPort-SDR: sDgmShMdGoPWKWjGJNMxsSMX80V/rmVQCuTkFu0WG0SWcy0IAhcSL3wuDMWtVkCfOvsULNupRp
 aByebCXMz2iA==
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.81,225,1610438400"; d="scan'208";a="370241156"
Received: from stinkbox.fi.intel.com (HELO stinkbox) ([10.237.72.171])
 by orsmga006.jf.intel.com with SMTP; 05 Mar 2021 07:36:29 -0800
Received: by stinkbox (sSMTP sendmail emulation);
 Fri, 05 Mar 2021 17:36:28 +0200
From: Ville Syrjala <ville.syrjala@linux.intel.com>
To: intel-gfx@lists.freedesktop.org
Date: Fri,  5 Mar 2021 17:36:10 +0200
Message-Id: <20210305153610.12177-7-ville.syrjala@linux.intel.com>
X-Mailer: git-send-email 2.26.2
In-Reply-To: <20210305153610.12177-1-ville.syrjala@linux.intel.com>
References: <20210305153610.12177-1-ville.syrjala@linux.intel.com>
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH 6/6] drm/i915: s/plane_res_b/blocks/ etc.
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

RnJvbTogVmlsbGUgU3lyasOkbMOkIDx2aWxsZS5zeXJqYWxhQGxpbnV4LmludGVsLmNvbT4KClJl
bmFtZSBhIGJ1bmNoIG9mIHRoZSBza2wrIHdhdGVybWFyayBzdHJ1Y3QgbWVtYmVycyB0bwpoYXZl
IHNlbnNpYmxlIG5hbWVzLiBBdm9pZHMgbWUgaGF2aW5nIHRvIHRoaW5rIHdoYXQKcGxhbmVfcmVz
X2IvZXRjLiBtZWFucy4KCkNjOiBTdGFuaXNsYXYgTGlzb3Zza2l5IDxzdGFuaXNsYXYubGlzb3Zz
a2l5QGludGVsLmNvbT4KU2lnbmVkLW9mZi1ieTogVmlsbGUgU3lyasOkbMOkIDx2aWxsZS5zeXJq
YWxhQGxpbnV4LmludGVsLmNvbT4KLS0tCiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2lu
dGVsX2Rpc3BsYXkuYyAgfCAgMjQgKy0tCiAuLi4vZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNw
bGF5X3R5cGVzLmggICAgfCAgIDYgKy0KIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX3BtLmMg
ICAgICAgICAgICAgICB8IDE5OCArKysrKysrKystLS0tLS0tLS0KIDMgZmlsZXMgY2hhbmdlZCwg
MTEyIGluc2VydGlvbnMoKyksIDExNiBkZWxldGlvbnMoLSkKCmRpZmYgLS1naXQgYS9kcml2ZXJz
L2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXkuYyBiL2RyaXZlcnMvZ3B1L2RybS9p
OTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheS5jCmluZGV4IDA3NmQzODFkMzM4Ny4uYWQ2NTY3ZjA0
YmZhIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3Bs
YXkuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXkuYwpA
QCAtOTQzMywxMiArOTQzMywxMiBAQCBzdGF0aWMgdm9pZCB2ZXJpZnlfd21fc3RhdGUoc3RydWN0
IGludGVsX2NydGMgKmNydGMsCiAJCQlkcm1fZXJyKCZkZXZfcHJpdi0+ZHJtLAogCQkJCSJbUExB
TkU6JWQ6JXNdIG1pc21hdGNoIGluIFdNJWQgKGV4cGVjdGVkIGU9JWQgYj0ldSBsPSV1LCBnb3Qg
ZT0lZCBiPSV1IGw9JXUpXG4iLAogCQkJCXBsYW5lLT5iYXNlLmJhc2UuaWQsIHBsYW5lLT5iYXNl
Lm5hbWUsIGxldmVsLAotCQkJCXN3X3dtX2xldmVsLT5wbGFuZV9lbiwKLQkJCQlzd193bV9sZXZl
bC0+cGxhbmVfcmVzX2IsCi0JCQkJc3dfd21fbGV2ZWwtPnBsYW5lX3Jlc19sLAotCQkJCWh3X3dt
X2xldmVsLT5wbGFuZV9lbiwKLQkJCQlod193bV9sZXZlbC0+cGxhbmVfcmVzX2IsCi0JCQkJaHdf
d21fbGV2ZWwtPnBsYW5lX3Jlc19sKTsKKwkJCQlzd193bV9sZXZlbC0+ZW5hYmxlLAorCQkJCXN3
X3dtX2xldmVsLT5ibG9ja3MsCisJCQkJc3dfd21fbGV2ZWwtPmxpbmVzLAorCQkJCWh3X3dtX2xl
dmVsLT5lbmFibGUsCisJCQkJaHdfd21fbGV2ZWwtPmJsb2NrcywKKwkJCQlod193bV9sZXZlbC0+
bGluZXMpOwogCQl9CiAKIAkJaHdfd21fbGV2ZWwgPSAmaHctPndtLnBsYW5lc1twbGFuZS0+aWRd
LnRyYW5zX3dtOwpAQCAtOTQ0OCwxMiArOTQ0OCwxMiBAQCBzdGF0aWMgdm9pZCB2ZXJpZnlfd21f
c3RhdGUoc3RydWN0IGludGVsX2NydGMgKmNydGMsCiAJCQlkcm1fZXJyKCZkZXZfcHJpdi0+ZHJt
LAogCQkJCSJbUExBTkU6JWQ6JXNdIG1pc21hdGNoIGluIHRyYW5zIFdNIChleHBlY3RlZCBlPSVk
IGI9JXUgbD0ldSwgZ290IGU9JWQgYj0ldSBsPSV1KVxuIiwKIAkJCQlwbGFuZS0+YmFzZS5iYXNl
LmlkLCBwbGFuZS0+YmFzZS5uYW1lLAotCQkJCXN3X3dtX2xldmVsLT5wbGFuZV9lbiwKLQkJCQlz
d193bV9sZXZlbC0+cGxhbmVfcmVzX2IsCi0JCQkJc3dfd21fbGV2ZWwtPnBsYW5lX3Jlc19sLAot
CQkJCWh3X3dtX2xldmVsLT5wbGFuZV9lbiwKLQkJCQlod193bV9sZXZlbC0+cGxhbmVfcmVzX2Is
Ci0JCQkJaHdfd21fbGV2ZWwtPnBsYW5lX3Jlc19sKTsKKwkJCQlzd193bV9sZXZlbC0+ZW5hYmxl
LAorCQkJCXN3X3dtX2xldmVsLT5ibG9ja3MsCisJCQkJc3dfd21fbGV2ZWwtPmxpbmVzLAorCQkJ
CWh3X3dtX2xldmVsLT5lbmFibGUsCisJCQkJaHdfd21fbGV2ZWwtPmJsb2NrcywKKwkJCQlod193
bV9sZXZlbC0+bGluZXMpOwogCQl9CiAKIAkJLyogRERCICovCmRpZmYgLS1naXQgYS9kcml2ZXJz
L2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXlfdHlwZXMuaCBiL2RyaXZlcnMvZ3B1
L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheV90eXBlcy5oCmluZGV4IDhkOTExM2ZhODJj
Ny4uYjZlYWE4ZWUyYjY2IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5
L2ludGVsX2Rpc3BsYXlfdHlwZXMuaAorKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5
L2ludGVsX2Rpc3BsYXlfdHlwZXMuaApAQCAtNzIxLDkgKzcyMSw5IEBAIHN0cnVjdCBpbnRlbF9w
aXBlX3dtIHsKIAogc3RydWN0IHNrbF93bV9sZXZlbCB7CiAJdTE2IG1pbl9kZGJfYWxsb2M7Ci0J
dTE2IHBsYW5lX3Jlc19iOwotCXU4IHBsYW5lX3Jlc19sOwotCWJvb2wgcGxhbmVfZW47CisJdTE2
IGJsb2NrczsKKwl1OCBsaW5lczsKKwlib29sIGVuYWJsZTsKIAlib29sIGlnbm9yZV9saW5lczsK
IAlib29sIGNhbl9zYWd2OwogfTsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2lu
dGVsX3BtLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9wbS5jCmluZGV4IDNlMjZkOGI2
NjdhMS4uNTU5YmMzYmE5YTc0IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRl
bF9wbS5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX3BtLmMKQEAgLTM4OTMsMTIg
KzM4OTMsMTIgQEAgc3RhdGljIGJvb2wgc2tsX2NydGNfY2FuX2VuYWJsZV9zYWd2KGNvbnN0IHN0
cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpjcnRjX3N0YXRlKQogCQlpbnQgbGV2ZWw7CiAKIAkJLyog
U2tpcCB0aGlzIHBsYW5lIGlmIGl0J3Mgbm90IGVuYWJsZWQgKi8KLQkJaWYgKCF3bS0+d21bMF0u
cGxhbmVfZW4pCisJCWlmICghd20tPndtWzBdLmVuYWJsZSkKIAkJCWNvbnRpbnVlOwogCiAJCS8q
IEZpbmQgdGhlIGhpZ2hlc3QgZW5hYmxlZCB3bSBsZXZlbCBmb3IgdGhpcyBwbGFuZSAqLwogCQlm
b3IgKGxldmVsID0gaWxrX3dtX21heF9sZXZlbChkZXZfcHJpdik7Ci0JCSAgICAgIXdtLT53bVts
ZXZlbF0ucGxhbmVfZW47IC0tbGV2ZWwpCisJCSAgICAgIXdtLT53bVtsZXZlbF0uZW5hYmxlOyAt
LWxldmVsKQogCQkgICAgIHsgfQogCiAJCS8qIEhpZ2hlc3QgY29tbW9uIGVuYWJsZWQgd20gbGV2
ZWwgZm9yIGFsbCBwbGFuZXMgKi8KQEAgLTM5MTcsNyArMzkxNyw3IEBAIHN0YXRpYyBib29sIHNr
bF9jcnRjX2Nhbl9lbmFibGVfc2Fndihjb25zdCBzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqY3J0
Y19zdGF0ZSkKIAkJICogQWxsIGVuYWJsZWQgcGxhbmVzIG11c3QgaGF2ZSBlbmFibGVkIGEgY29t
bW9uIHdtIGxldmVsIHRoYXQKIAkJICogY2FuIHRvbGVyYXRlIG1lbW9yeSBsYXRlbmNpZXMgaGln
aGVyIHRoYW4gc2Fndl9ibG9ja190aW1lX3VzCiAJCSAqLwotCQlpZiAod20tPndtWzBdLnBsYW5l
X2VuICYmICF3bS0+d21bbWF4X2xldmVsXS5jYW5fc2FndikKKwkJaWYgKHdtLT53bVswXS5lbmFi
bGUgJiYgIXdtLT53bVttYXhfbGV2ZWxdLmNhbl9zYWd2KQogCQkJcmV0dXJuIGZhbHNlOwogCX0K
IApAQCAtMzkzNiw3ICszOTM2LDcgQEAgc3RhdGljIGJvb2wgdGdsX2NydGNfY2FuX2VuYWJsZV9z
YWd2KGNvbnN0IHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpjcnRjX3N0YXRlKQogCQljb25zdCBz
dHJ1Y3Qgc2tsX3BsYW5lX3dtICp3bSA9CiAJCQkmY3J0Y19zdGF0ZS0+d20uc2tsLm9wdGltYWwu
cGxhbmVzW3BsYW5lX2lkXTsKIAotCQlpZiAod20tPndtWzBdLnBsYW5lX2VuICYmICF3bS0+c2Fn
di53bTAucGxhbmVfZW4pCisJCWlmICh3bS0+d21bMF0uZW5hYmxlICYmICF3bS0+c2Fndi53bTAu
ZW5hYmxlKQogCQkJcmV0dXJuIGZhbHNlOwogCX0KIApAQCAtNDk4Nyw5ICs0OTg3LDkgQEAgc2ts
X2FsbG9jYXRlX3BsYW5lX2RkYihzdHJ1Y3QgaW50ZWxfYXRvbWljX3N0YXRlICpzdGF0ZSwKIAkJ
CSAqIFVuZGVycnVucyB3aXRoIFdNMSsgZGlzYWJsZWQKIAkJCSAqLwogCQkJaWYgKElTX0dFTihk
ZXZfcHJpdiwgMTEpICYmCi0JCQkgICAgbGV2ZWwgPT0gMSAmJiB3bS0+d21bMF0ucGxhbmVfZW4p
IHsKLQkJCQl3bS0+d21bbGV2ZWxdLnBsYW5lX3Jlc19iID0gd20tPndtWzBdLnBsYW5lX3Jlc19i
OwotCQkJCXdtLT53bVtsZXZlbF0ucGxhbmVfcmVzX2wgPSB3bS0+d21bMF0ucGxhbmVfcmVzX2w7
CisJCQkgICAgbGV2ZWwgPT0gMSAmJiB3bS0+d21bMF0uZW5hYmxlKSB7CisJCQkJd20tPndtW2xl
dmVsXS5ibG9ja3MgPSB3bS0+d21bMF0uYmxvY2tzOworCQkJCXdtLT53bVtsZXZlbF0ubGluZXMg
PSB3bS0+d21bMF0ubGluZXM7CiAJCQkJd20tPndtW2xldmVsXS5pZ25vcmVfbGluZXMgPSB3bS0+
d21bMF0uaWdub3JlX2xpbmVzOwogCQkJfQogCQl9CkBAIC01MjEwLDcgKzUyMTAsNyBAQCBzdGF0
aWMgdm9pZCBza2xfY29tcHV0ZV9wbGFuZV93bShjb25zdCBzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0
ZSAqY3J0Y19zdGF0ZSwKIAlzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYgPSB0b19p
OTE1KGNydGNfc3RhdGUtPnVhcGkuY3J0Yy0+ZGV2KTsKIAl1aW50X2ZpeGVkXzE2XzE2X3QgbWV0
aG9kMSwgbWV0aG9kMjsKIAl1aW50X2ZpeGVkXzE2XzE2X3Qgc2VsZWN0ZWRfcmVzdWx0OwotCXUz
MiByZXNfYmxvY2tzLCByZXNfbGluZXMsIG1pbl9kZGJfYWxsb2MgPSAwOworCXUzMiBibG9ja3Ms
IGxpbmVzLCBtaW5fZGRiX2FsbG9jID0gMDsKIAogCWlmIChsYXRlbmN5ID09IDApIHsKIAkJLyog
cmVqZWN0IGl0ICovCkBAIC01MjU2LDI0ICs1MjU2LDIyIEBAIHN0YXRpYyB2b2lkIHNrbF9jb21w
dXRlX3BsYW5lX3dtKGNvbnN0IHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpjcnRjX3N0YXRlLAog
CQl9CiAJfQogCi0JcmVzX2Jsb2NrcyA9IGZpeGVkMTZfdG9fdTMyX3JvdW5kX3VwKHNlbGVjdGVk
X3Jlc3VsdCkgKyAxOwotCXJlc19saW5lcyA9IGRpdl9yb3VuZF91cF9maXhlZDE2KHNlbGVjdGVk
X3Jlc3VsdCwKLQkJCQkJIHdwLT5wbGFuZV9ibG9ja3NfcGVyX2xpbmUpOworCWJsb2NrcyA9IGZp
eGVkMTZfdG9fdTMyX3JvdW5kX3VwKHNlbGVjdGVkX3Jlc3VsdCkgKyAxOworCWxpbmVzID0gZGl2
X3JvdW5kX3VwX2ZpeGVkMTYoc2VsZWN0ZWRfcmVzdWx0LAorCQkJCSAgICAgd3AtPnBsYW5lX2Js
b2Nrc19wZXJfbGluZSk7CiAKIAlpZiAoSVNfR0VOOV9CQyhkZXZfcHJpdikgfHwgSVNfQlJPWFRP
TihkZXZfcHJpdikpIHsKIAkJLyogRGlzcGxheSBXQSAjMTEyNTogc2tsLGJ4dCxrYmwgKi8KIAkJ
aWYgKGxldmVsID09IDAgJiYgd3AtPnJjX3N1cmZhY2UpCi0JCQlyZXNfYmxvY2tzICs9Ci0JCQkJ
Zml4ZWQxNl90b191MzJfcm91bmRfdXAod3AtPnlfdGlsZV9taW5pbXVtKTsKKwkJCWJsb2NrcyAr
PSBmaXhlZDE2X3RvX3UzMl9yb3VuZF91cCh3cC0+eV90aWxlX21pbmltdW0pOwogCiAJCS8qIERp
c3BsYXkgV0EgIzExMjY6IHNrbCxieHQsa2JsICovCiAJCWlmIChsZXZlbCA+PSAxICYmIGxldmVs
IDw9IDcpIHsKIAkJCWlmICh3cC0+eV90aWxlZCkgewotCQkJCXJlc19ibG9ja3MgKz0KLQkJCQkg
ICAgZml4ZWQxNl90b191MzJfcm91bmRfdXAod3AtPnlfdGlsZV9taW5pbXVtKTsKLQkJCQlyZXNf
bGluZXMgKz0gd3AtPnlfbWluX3NjYW5saW5lczsKKwkJCQlibG9ja3MgKz0gZml4ZWQxNl90b191
MzJfcm91bmRfdXAod3AtPnlfdGlsZV9taW5pbXVtKTsKKwkJCQlsaW5lcyArPSB3cC0+eV9taW5f
c2NhbmxpbmVzOwogCQkJfSBlbHNlIHsKLQkJCQlyZXNfYmxvY2tzKys7CisJCQkJYmxvY2tzKys7
CiAJCQl9CiAKIAkJCS8qCkBAIC01MjgyLDggKzUyODAsOCBAQCBzdGF0aWMgdm9pZCBza2xfY29t
cHV0ZV9wbGFuZV93bShjb25zdCBzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqY3J0Y19zdGF0ZSwK
IAkJCSAqIEFzc3VtcHRpb24gaW4gRERCIGFsZ29yaXRobSBvcHRpbWl6YXRpb24gZm9yIHNwZWNp
YWwKIAkJCSAqIGNhc2VzLiBBbHNvIGNvdmVycyBEaXNwbGF5IFdBICMxMTI1IGZvciBSQy4KIAkJ
CSAqLwotCQkJaWYgKHJlc3VsdF9wcmV2LT5wbGFuZV9yZXNfYiA+IHJlc19ibG9ja3MpCi0JCQkJ
cmVzX2Jsb2NrcyA9IHJlc3VsdF9wcmV2LT5wbGFuZV9yZXNfYjsKKwkJCWlmIChyZXN1bHRfcHJl
di0+YmxvY2tzID4gYmxvY2tzKQorCQkJCWJsb2NrcyA9IHJlc3VsdF9wcmV2LT5ibG9ja3M7CiAJ
CX0KIAl9CiAKQEAgLTUyOTEsNDAgKzUyODksMzkgQEAgc3RhdGljIHZvaWQgc2tsX2NvbXB1dGVf
cGxhbmVfd20oY29uc3Qgc3RydWN0IGludGVsX2NydGNfc3RhdGUgKmNydGNfc3RhdGUsCiAJCWlm
ICh3cC0+eV90aWxlZCkgewogCQkJaW50IGV4dHJhX2xpbmVzOwogCi0JCQlpZiAocmVzX2xpbmVz
ICUgd3AtPnlfbWluX3NjYW5saW5lcyA9PSAwKQorCQkJaWYgKGxpbmVzICUgd3AtPnlfbWluX3Nj
YW5saW5lcyA9PSAwKQogCQkJCWV4dHJhX2xpbmVzID0gd3AtPnlfbWluX3NjYW5saW5lczsKIAkJ
CWVsc2UKIAkJCQlleHRyYV9saW5lcyA9IHdwLT55X21pbl9zY2FubGluZXMgKiAyIC0KLQkJCQkJ
cmVzX2xpbmVzICUgd3AtPnlfbWluX3NjYW5saW5lczsKKwkJCQkJbGluZXMgJSB3cC0+eV9taW5f
c2NhbmxpbmVzOwogCi0JCQltaW5fZGRiX2FsbG9jID0gbXVsX3JvdW5kX3VwX3UzMl9maXhlZDE2
KHJlc19saW5lcyArIGV4dHJhX2xpbmVzLAorCQkJbWluX2RkYl9hbGxvYyA9IG11bF9yb3VuZF91
cF91MzJfZml4ZWQxNihsaW5lcyArIGV4dHJhX2xpbmVzLAogCQkJCQkJCQkgd3AtPnBsYW5lX2Js
b2Nrc19wZXJfbGluZSk7CiAJCX0gZWxzZSB7Ci0JCQltaW5fZGRiX2FsbG9jID0gcmVzX2Jsb2Nr
cyArCi0JCQkJRElWX1JPVU5EX1VQKHJlc19ibG9ja3MsIDEwKTsKKwkJCW1pbl9kZGJfYWxsb2Mg
PSBibG9ja3MgKyBESVZfUk9VTkRfVVAoYmxvY2tzLCAxMCk7CiAJCX0KIAl9CiAKIAlpZiAoIXNr
bF93bV9oYXNfbGluZXMoZGV2X3ByaXYsIGxldmVsKSkKLQkJcmVzX2xpbmVzID0gMDsKKwkJbGlu
ZXMgPSAwOwogCi0JaWYgKHJlc19saW5lcyA+IDMxKSB7CisJaWYgKGxpbmVzID4gMzEpIHsKIAkJ
LyogcmVqZWN0IGl0ICovCiAJCXJlc3VsdC0+bWluX2RkYl9hbGxvYyA9IFUxNl9NQVg7CiAJCXJl
dHVybjsKIAl9CiAKIAkvKgotCSAqIElmIHJlc19saW5lcyBpcyB2YWxpZCwgYXNzdW1lIHdlIGNh
biB1c2UgdGhpcyB3YXRlcm1hcmsgbGV2ZWwKKwkgKiBJZiBsaW5lcyBpcyB2YWxpZCwgYXNzdW1l
IHdlIGNhbiB1c2UgdGhpcyB3YXRlcm1hcmsgbGV2ZWwKIAkgKiBmb3Igbm93LiAgV2UnbGwgY29t
ZSBiYWNrIGFuZCBkaXNhYmxlIGl0IGFmdGVyIHdlIGNhbGN1bGF0ZSB0aGUKIAkgKiBEREIgYWxs
b2NhdGlvbiBpZiBpdCB0dXJucyBvdXQgd2UgZG9uJ3QgYWN0dWFsbHkgaGF2ZSBlbm91Z2gKIAkg
KiBibG9ja3MgdG8gc2F0aXNmeSBpdC4KIAkgKi8KLQlyZXN1bHQtPnBsYW5lX3Jlc19iID0gcmVz
X2Jsb2NrczsKLQlyZXN1bHQtPnBsYW5lX3Jlc19sID0gcmVzX2xpbmVzOworCXJlc3VsdC0+Ymxv
Y2tzID0gYmxvY2tzOworCXJlc3VsdC0+bGluZXMgPSBsaW5lczsKIAkvKiBCc3BlYyBzYXlzOiB2
YWx1ZSA+PSBwbGFuZSBkZGIgYWxsb2NhdGlvbiAtPiBpbnZhbGlkLCBoZW5jZSB0aGUgKzEgaGVy
ZSAqLwotCXJlc3VsdC0+bWluX2RkYl9hbGxvYyA9IG1heChtaW5fZGRiX2FsbG9jLCByZXNfYmxv
Y2tzKSArIDE7Ci0JcmVzdWx0LT5wbGFuZV9lbiA9IHRydWU7CisJcmVzdWx0LT5taW5fZGRiX2Fs
bG9jID0gbWF4KG1pbl9kZGJfYWxsb2MsIGJsb2NrcykgKyAxOworCXJlc3VsdC0+ZW5hYmxlID0g
dHJ1ZTsKIAogCWlmIChJTlRFTF9HRU4oZGV2X3ByaXYpIDwgMTIpCiAJCXJlc3VsdC0+Y2FuX3Nh
Z3YgPSBsYXRlbmN5ID49IGRldl9wcml2LT5zYWd2X2Jsb2NrX3RpbWVfdXM7CkBAIC01MzcwLDcg
KzUzNjcsNyBAQCBzdGF0aWMgdm9pZCBza2xfY29tcHV0ZV90cmFuc2l0aW9uX3dtKHN0cnVjdCBk
cm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiwKIAkJCQkgICAgICBjb25zdCBzdHJ1Y3Qgc2tsX3dt
X3BhcmFtcyAqd3ApCiB7CiAJdTE2IHRyYW5zX21pbiwgdHJhbnNfYW1vdW50LCB0cmFuc195X3Rp
bGVfbWluOwotCXUxNiB3bTBfc2VsX3Jlc19iLCB0cmFuc19vZmZzZXRfYiwgcmVzX2Jsb2NrczsK
Kwl1MTYgd20wX2Jsb2NrcywgdHJhbnNfb2Zmc2V0LCBibG9ja3M7CiAKIAkvKiBUcmFuc2l0aW9u
IFdNIGRvbid0IG1ha2UgYW55IHNlbnNlIGlmIGlwYyBpcyBkaXNhYmxlZCAqLwogCWlmICghZGV2
X3ByaXYtPmlwY19lbmFibGVkKQpAQCAtNTM5NCwzOCArNTM5MSwzNyBAQCBzdGF0aWMgdm9pZCBz
a2xfY29tcHV0ZV90cmFuc2l0aW9uX3dtKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJp
diwKIAllbHNlCiAJCXRyYW5zX2Ftb3VudCA9IDEwOyAvKiBUaGlzIGlzIGNvbmZpZ3VyYWJsZSBh
bW91bnQgKi8KIAotCXRyYW5zX29mZnNldF9iID0gdHJhbnNfbWluICsgdHJhbnNfYW1vdW50Owor
CXRyYW5zX29mZnNldCA9IHRyYW5zX21pbiArIHRyYW5zX2Ftb3VudDsKIAogCS8qCiAJICogVGhl
IHNwZWMgYXNrcyBmb3IgU2VsZWN0ZWQgUmVzdWx0IEJsb2NrcyBmb3Igd20wICh0aGUgcmVhbCB2
YWx1ZSksCiAJICogbm90IFJlc3VsdCBCbG9ja3MgKHRoZSBpbnRlZ2VyIHZhbHVlKS4gUGF5IGF0
dGVudGlvbiB0byB0aGUgY2FwaXRhbAotCSAqIGxldHRlcnMuIFRoZSB2YWx1ZSB3bV9sMC0+cGxh
bmVfcmVzX2IgaXMgYWN0dWFsbHkgUmVzdWx0IEJsb2NrcywgYnV0CisJICogbGV0dGVycy4gVGhl
IHZhbHVlIHdtX2wwLT5ibG9ja3MgaXMgYWN0dWFsbHkgUmVzdWx0IEJsb2NrcywgYnV0CiAJICog
c2luY2UgUmVzdWx0IEJsb2NrcyBpcyB0aGUgY2VpbGluZyBvZiBTZWxlY3RlZCBSZXN1bHQgQmxv
Y2tzIHBsdXMgMSwKIAkgKiBhbmQgc2luY2Ugd2UgbGF0ZXIgd2lsbCBoYXZlIHRvIGdldCB0aGUg
Y2VpbGluZyBvZiB0aGUgc3VtIGluIHRoZQogCSAqIHRyYW5zaXRpb24gd2F0ZXJtYXJrcyBjYWxj
dWxhdGlvbiwgd2UgY2FuIGp1c3QgcHJldGVuZCBTZWxlY3RlZAogCSAqIFJlc3VsdCBCbG9ja3Mg
aXMgUmVzdWx0IEJsb2NrcyBtaW51cyAxIGFuZCBpdCBzaG91bGQgd29yayBmb3IgdGhlCiAJICog
Y3VycmVudCBwbGF0Zm9ybXMuCiAJICovCi0Jd20wX3NlbF9yZXNfYiA9IHdtMC0+cGxhbmVfcmVz
X2IgLSAxOworCXdtMF9ibG9ja3MgPSB3bTAtPmJsb2NrcyAtIDE7CiAKIAlpZiAod3AtPnlfdGls
ZWQpIHsKIAkJdHJhbnNfeV90aWxlX21pbiA9CiAJCQkodTE2KW11bF9yb3VuZF91cF91MzJfZml4
ZWQxNigyLCB3cC0+eV90aWxlX21pbmltdW0pOwotCQlyZXNfYmxvY2tzID0gbWF4KHdtMF9zZWxf
cmVzX2IsIHRyYW5zX3lfdGlsZV9taW4pICsKLQkJCQl0cmFuc19vZmZzZXRfYjsKKwkJYmxvY2tz
ID0gbWF4KHdtMF9ibG9ja3MsIHRyYW5zX3lfdGlsZV9taW4pICsgdHJhbnNfb2Zmc2V0OwogCX0g
ZWxzZSB7Ci0JCXJlc19ibG9ja3MgPSB3bTBfc2VsX3Jlc19iICsgdHJhbnNfb2Zmc2V0X2I7CisJ
CWJsb2NrcyA9IHdtMF9ibG9ja3MgKyB0cmFuc19vZmZzZXQ7CiAJfQotCXJlc19ibG9ja3MrKzsK
KwlibG9ja3MrKzsKIAogCS8qCiAJICogSnVzdCBhc3N1bWUgd2UgY2FuIGVuYWJsZSB0aGUgdHJh
bnNpdGlvbiB3YXRlcm1hcmsuICBBZnRlcgogCSAqIGNvbXB1dGluZyB0aGUgRERCIHdlJ2xsIGNv
bWUgYmFjayBhbmQgZGlzYWJsZSBpdCBpZiB0aGF0CiAJICogYXNzdW1wdGlvbiB0dXJucyBvdXQg
dG8gYmUgZmFsc2UuCiAJICovCi0JdHJhbnNfd20tPnBsYW5lX3Jlc19iID0gcmVzX2Jsb2NrczsK
LQl0cmFuc193bS0+bWluX2RkYl9hbGxvYyA9IG1heF90KHUxNiwgd20wLT5taW5fZGRiX2FsbG9j
LCByZXNfYmxvY2tzICsgMSk7Ci0JdHJhbnNfd20tPnBsYW5lX2VuID0gdHJ1ZTsKKwl0cmFuc193
bS0+YmxvY2tzID0gYmxvY2tzOworCXRyYW5zX3dtLT5taW5fZGRiX2FsbG9jID0gbWF4X3QodTE2
LCB3bTAtPm1pbl9kZGJfYWxsb2MsIGJsb2NrcyArIDEpOworCXRyYW5zX3dtLT5lbmFibGUgPSB0
cnVlOwogfQogCiBzdGF0aWMgaW50IHNrbF9idWlsZF9wbGFuZV93bV9zaW5nbGUoc3RydWN0IGlu
dGVsX2NydGNfc3RhdGUgKmNydGNfc3RhdGUsCkBAIC01NjAwLDEyICs1NTk2LDEyIEBAIHN0YXRp
YyB2b2lkIHNrbF93cml0ZV93bV9sZXZlbChzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3By
aXYsCiB7CiAJdTMyIHZhbCA9IDA7CiAKLQlpZiAobGV2ZWwtPnBsYW5lX2VuKQorCWlmIChsZXZl
bC0+ZW5hYmxlKQogCQl2YWwgfD0gUExBTkVfV01fRU47CiAJaWYgKGxldmVsLT5pZ25vcmVfbGlu
ZXMpCiAJCXZhbCB8PSBQTEFORV9XTV9JR05PUkVfTElORVM7Ci0JdmFsIHw9IGxldmVsLT5wbGFu
ZV9yZXNfYjsKLQl2YWwgfD0gbGV2ZWwtPnBsYW5lX3Jlc19sIDw8IFBMQU5FX1dNX0xJTkVTX1NI
SUZUOworCXZhbCB8PSBsZXZlbC0+YmxvY2tzOworCXZhbCB8PSBsZXZlbC0+bGluZXMgPDwgUExB
TkVfV01fTElORVNfU0hJRlQ7CiAKIAlpbnRlbF9kZV93cml0ZV9mdyhkZXZfcHJpdiwgcmVnLCB2
YWwpOwogfQpAQCAtNTY3MCwxMCArNTY2NiwxMCBAQCB2b2lkIHNrbF93cml0ZV9jdXJzb3Jfd20o
c3RydWN0IGludGVsX3BsYW5lICpwbGFuZSwKIGJvb2wgc2tsX3dtX2xldmVsX2VxdWFscyhjb25z
dCBzdHJ1Y3Qgc2tsX3dtX2xldmVsICpsMSwKIAkJCSBjb25zdCBzdHJ1Y3Qgc2tsX3dtX2xldmVs
ICpsMikKIHsKLQlyZXR1cm4gbDEtPnBsYW5lX2VuID09IGwyLT5wbGFuZV9lbiAmJgorCXJldHVy
biBsMS0+ZW5hYmxlID09IGwyLT5lbmFibGUgJiYKIAkJbDEtPmlnbm9yZV9saW5lcyA9PSBsMi0+
aWdub3JlX2xpbmVzICYmCi0JCWwxLT5wbGFuZV9yZXNfbCA9PSBsMi0+cGxhbmVfcmVzX2wgJiYK
LQkJbDEtPnBsYW5lX3Jlc19iID09IGwyLT5wbGFuZV9yZXNfYjsKKwkJbDEtPmxpbmVzID09IGwy
LT5saW5lcyAmJgorCQlsMS0+YmxvY2tzID09IGwyLT5ibG9ja3M7CiB9CiAKIHN0YXRpYyBib29s
IHNrbF9wbGFuZV93bV9lcXVhbHMoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2LApA
QCAtNTkyNyw2NiArNTkyMyw2NiBAQCBza2xfcHJpbnRfd21fY2hhbmdlcyhzdHJ1Y3QgaW50ZWxf
YXRvbWljX3N0YXRlICpzdGF0ZSkKIAkJCQkgICAgIltQTEFORTolZDolc10gICBsZXZlbCAlY3dt
MCwlY3dtMSwlY3dtMiwlY3dtMywlY3dtNCwlY3dtNSwlY3dtNiwlY3dtNywlY3R3bSwlY3N3bSwl
Y3N0d20iCiAJCQkJICAgICIgLT4gJWN3bTAsJWN3bTEsJWN3bTIsJWN3bTMsJWN3bTQsJWN3bTUs
JWN3bTYsJWN3bTcsJWN0d20sJWNzd20sJWNzdHdtXG4iLAogCQkJCSAgICBwbGFuZS0+YmFzZS5i
YXNlLmlkLCBwbGFuZS0+YmFzZS5uYW1lLAotCQkJCSAgICBlbmFzdChvbGRfd20tPndtWzBdLnBs
YW5lX2VuKSwgZW5hc3Qob2xkX3dtLT53bVsxXS5wbGFuZV9lbiksCi0JCQkJICAgIGVuYXN0KG9s
ZF93bS0+d21bMl0ucGxhbmVfZW4pLCBlbmFzdChvbGRfd20tPndtWzNdLnBsYW5lX2VuKSwKLQkJ
CQkgICAgZW5hc3Qob2xkX3dtLT53bVs0XS5wbGFuZV9lbiksIGVuYXN0KG9sZF93bS0+d21bNV0u
cGxhbmVfZW4pLAotCQkJCSAgICBlbmFzdChvbGRfd20tPndtWzZdLnBsYW5lX2VuKSwgZW5hc3Qo
b2xkX3dtLT53bVs3XS5wbGFuZV9lbiksCi0JCQkJICAgIGVuYXN0KG9sZF93bS0+dHJhbnNfd20u
cGxhbmVfZW4pLAotCQkJCSAgICBlbmFzdChvbGRfd20tPnNhZ3Yud20wLnBsYW5lX2VuKSwKLQkJ
CQkgICAgZW5hc3Qob2xkX3dtLT5zYWd2LnRyYW5zX3dtLnBsYW5lX2VuKSwKLQkJCQkgICAgZW5h
c3QobmV3X3dtLT53bVswXS5wbGFuZV9lbiksIGVuYXN0KG5ld193bS0+d21bMV0ucGxhbmVfZW4p
LAotCQkJCSAgICBlbmFzdChuZXdfd20tPndtWzJdLnBsYW5lX2VuKSwgZW5hc3QobmV3X3dtLT53
bVszXS5wbGFuZV9lbiksCi0JCQkJICAgIGVuYXN0KG5ld193bS0+d21bNF0ucGxhbmVfZW4pLCBl
bmFzdChuZXdfd20tPndtWzVdLnBsYW5lX2VuKSwKLQkJCQkgICAgZW5hc3QobmV3X3dtLT53bVs2
XS5wbGFuZV9lbiksIGVuYXN0KG5ld193bS0+d21bN10ucGxhbmVfZW4pLAotCQkJCSAgICBlbmFz
dChuZXdfd20tPnRyYW5zX3dtLnBsYW5lX2VuKSwKLQkJCQkgICAgZW5hc3QobmV3X3dtLT5zYWd2
LndtMC5wbGFuZV9lbiksCi0JCQkJICAgIGVuYXN0KG5ld193bS0+c2Fndi50cmFuc193bS5wbGFu
ZV9lbikpOworCQkJCSAgICBlbmFzdChvbGRfd20tPndtWzBdLmVuYWJsZSksIGVuYXN0KG9sZF93
bS0+d21bMV0uZW5hYmxlKSwKKwkJCQkgICAgZW5hc3Qob2xkX3dtLT53bVsyXS5lbmFibGUpLCBl
bmFzdChvbGRfd20tPndtWzNdLmVuYWJsZSksCisJCQkJICAgIGVuYXN0KG9sZF93bS0+d21bNF0u
ZW5hYmxlKSwgZW5hc3Qob2xkX3dtLT53bVs1XS5lbmFibGUpLAorCQkJCSAgICBlbmFzdChvbGRf
d20tPndtWzZdLmVuYWJsZSksIGVuYXN0KG9sZF93bS0+d21bN10uZW5hYmxlKSwKKwkJCQkgICAg
ZW5hc3Qob2xkX3dtLT50cmFuc193bS5lbmFibGUpLAorCQkJCSAgICBlbmFzdChvbGRfd20tPnNh
Z3Yud20wLmVuYWJsZSksCisJCQkJICAgIGVuYXN0KG9sZF93bS0+c2Fndi50cmFuc193bS5lbmFi
bGUpLAorCQkJCSAgICBlbmFzdChuZXdfd20tPndtWzBdLmVuYWJsZSksIGVuYXN0KG5ld193bS0+
d21bMV0uZW5hYmxlKSwKKwkJCQkgICAgZW5hc3QobmV3X3dtLT53bVsyXS5lbmFibGUpLCBlbmFz
dChuZXdfd20tPndtWzNdLmVuYWJsZSksCisJCQkJICAgIGVuYXN0KG5ld193bS0+d21bNF0uZW5h
YmxlKSwgZW5hc3QobmV3X3dtLT53bVs1XS5lbmFibGUpLAorCQkJCSAgICBlbmFzdChuZXdfd20t
PndtWzZdLmVuYWJsZSksIGVuYXN0KG5ld193bS0+d21bN10uZW5hYmxlKSwKKwkJCQkgICAgZW5h
c3QobmV3X3dtLT50cmFuc193bS5lbmFibGUpLAorCQkJCSAgICBlbmFzdChuZXdfd20tPnNhZ3Yu
d20wLmVuYWJsZSksCisJCQkJICAgIGVuYXN0KG5ld193bS0+c2Fndi50cmFuc193bS5lbmFibGUp
KTsKIAogCQkJZHJtX2RiZ19rbXMoJmRldl9wcml2LT5kcm0sCiAJCQkJICAgICJbUExBTkU6JWQ6
JXNdICAgbGluZXMgJWMlM2QsJWMlM2QsJWMlM2QsJWMlM2QsJWMlM2QsJWMlM2QsJWMlM2QsJWMl
M2QsJWMlM2QsJWMlM2QsJWMlNGQiCiAJCQkJICAgICAgIiAtPiAlYyUzZCwlYyUzZCwlYyUzZCwl
YyUzZCwlYyUzZCwlYyUzZCwlYyUzZCwlYyUzZCwlYyUzZCwlYyUzZCwlYyU0ZFxuIiwKIAkJCQkg
ICAgcGxhbmUtPmJhc2UuYmFzZS5pZCwgcGxhbmUtPmJhc2UubmFtZSwKLQkJCQkgICAgZW5hc3Qo
b2xkX3dtLT53bVswXS5pZ25vcmVfbGluZXMpLCBvbGRfd20tPndtWzBdLnBsYW5lX3Jlc19sLAot
CQkJCSAgICBlbmFzdChvbGRfd20tPndtWzFdLmlnbm9yZV9saW5lcyksIG9sZF93bS0+d21bMV0u
cGxhbmVfcmVzX2wsCi0JCQkJICAgIGVuYXN0KG9sZF93bS0+d21bMl0uaWdub3JlX2xpbmVzKSwg
b2xkX3dtLT53bVsyXS5wbGFuZV9yZXNfbCwKLQkJCQkgICAgZW5hc3Qob2xkX3dtLT53bVszXS5p
Z25vcmVfbGluZXMpLCBvbGRfd20tPndtWzNdLnBsYW5lX3Jlc19sLAotCQkJCSAgICBlbmFzdChv
bGRfd20tPndtWzRdLmlnbm9yZV9saW5lcyksIG9sZF93bS0+d21bNF0ucGxhbmVfcmVzX2wsCi0J
CQkJICAgIGVuYXN0KG9sZF93bS0+d21bNV0uaWdub3JlX2xpbmVzKSwgb2xkX3dtLT53bVs1XS5w
bGFuZV9yZXNfbCwKLQkJCQkgICAgZW5hc3Qob2xkX3dtLT53bVs2XS5pZ25vcmVfbGluZXMpLCBv
bGRfd20tPndtWzZdLnBsYW5lX3Jlc19sLAotCQkJCSAgICBlbmFzdChvbGRfd20tPndtWzddLmln
bm9yZV9saW5lcyksIG9sZF93bS0+d21bN10ucGxhbmVfcmVzX2wsCi0JCQkJICAgIGVuYXN0KG9s
ZF93bS0+dHJhbnNfd20uaWdub3JlX2xpbmVzKSwgb2xkX3dtLT50cmFuc193bS5wbGFuZV9yZXNf
bCwKLQkJCQkgICAgZW5hc3Qob2xkX3dtLT5zYWd2LndtMC5pZ25vcmVfbGluZXMpLCBvbGRfd20t
PnNhZ3Yud20wLnBsYW5lX3Jlc19sLAotCQkJCSAgICBlbmFzdChvbGRfd20tPnNhZ3YudHJhbnNf
d20uaWdub3JlX2xpbmVzKSwgb2xkX3dtLT5zYWd2LnRyYW5zX3dtLnBsYW5lX3Jlc19sLAotCQkJ
CSAgICBlbmFzdChuZXdfd20tPndtWzBdLmlnbm9yZV9saW5lcyksIG5ld193bS0+d21bMF0ucGxh
bmVfcmVzX2wsCi0JCQkJICAgIGVuYXN0KG5ld193bS0+d21bMV0uaWdub3JlX2xpbmVzKSwgbmV3
X3dtLT53bVsxXS5wbGFuZV9yZXNfbCwKLQkJCQkgICAgZW5hc3QobmV3X3dtLT53bVsyXS5pZ25v
cmVfbGluZXMpLCBuZXdfd20tPndtWzJdLnBsYW5lX3Jlc19sLAotCQkJCSAgICBlbmFzdChuZXdf
d20tPndtWzNdLmlnbm9yZV9saW5lcyksIG5ld193bS0+d21bM10ucGxhbmVfcmVzX2wsCi0JCQkJ
ICAgIGVuYXN0KG5ld193bS0+d21bNF0uaWdub3JlX2xpbmVzKSwgbmV3X3dtLT53bVs0XS5wbGFu
ZV9yZXNfbCwKLQkJCQkgICAgZW5hc3QobmV3X3dtLT53bVs1XS5pZ25vcmVfbGluZXMpLCBuZXdf
d20tPndtWzVdLnBsYW5lX3Jlc19sLAotCQkJCSAgICBlbmFzdChuZXdfd20tPndtWzZdLmlnbm9y
ZV9saW5lcyksIG5ld193bS0+d21bNl0ucGxhbmVfcmVzX2wsCi0JCQkJICAgIGVuYXN0KG5ld193
bS0+d21bN10uaWdub3JlX2xpbmVzKSwgbmV3X3dtLT53bVs3XS5wbGFuZV9yZXNfbCwKLQkJCQkg
ICAgZW5hc3QobmV3X3dtLT50cmFuc193bS5pZ25vcmVfbGluZXMpLCBuZXdfd20tPnRyYW5zX3dt
LnBsYW5lX3Jlc19sLAotCQkJCSAgICBlbmFzdChuZXdfd20tPnNhZ3Yud20wLmlnbm9yZV9saW5l
cyksIG5ld193bS0+c2Fndi53bTAucGxhbmVfcmVzX2wsCi0JCQkJICAgIGVuYXN0KG5ld193bS0+
c2Fndi50cmFuc193bS5pZ25vcmVfbGluZXMpLCBuZXdfd20tPnNhZ3YudHJhbnNfd20ucGxhbmVf
cmVzX2wpOworCQkJCSAgICBlbmFzdChvbGRfd20tPndtWzBdLmlnbm9yZV9saW5lcyksIG9sZF93
bS0+d21bMF0ubGluZXMsCisJCQkJICAgIGVuYXN0KG9sZF93bS0+d21bMV0uaWdub3JlX2xpbmVz
KSwgb2xkX3dtLT53bVsxXS5saW5lcywKKwkJCQkgICAgZW5hc3Qob2xkX3dtLT53bVsyXS5pZ25v
cmVfbGluZXMpLCBvbGRfd20tPndtWzJdLmxpbmVzLAorCQkJCSAgICBlbmFzdChvbGRfd20tPndt
WzNdLmlnbm9yZV9saW5lcyksIG9sZF93bS0+d21bM10ubGluZXMsCisJCQkJICAgIGVuYXN0KG9s
ZF93bS0+d21bNF0uaWdub3JlX2xpbmVzKSwgb2xkX3dtLT53bVs0XS5saW5lcywKKwkJCQkgICAg
ZW5hc3Qob2xkX3dtLT53bVs1XS5pZ25vcmVfbGluZXMpLCBvbGRfd20tPndtWzVdLmxpbmVzLAor
CQkJCSAgICBlbmFzdChvbGRfd20tPndtWzZdLmlnbm9yZV9saW5lcyksIG9sZF93bS0+d21bNl0u
bGluZXMsCisJCQkJICAgIGVuYXN0KG9sZF93bS0+d21bN10uaWdub3JlX2xpbmVzKSwgb2xkX3dt
LT53bVs3XS5saW5lcywKKwkJCQkgICAgZW5hc3Qob2xkX3dtLT50cmFuc193bS5pZ25vcmVfbGlu
ZXMpLCBvbGRfd20tPnRyYW5zX3dtLmxpbmVzLAorCQkJCSAgICBlbmFzdChvbGRfd20tPnNhZ3Yu
d20wLmlnbm9yZV9saW5lcyksIG9sZF93bS0+c2Fndi53bTAubGluZXMsCisJCQkJICAgIGVuYXN0
KG9sZF93bS0+c2Fndi50cmFuc193bS5pZ25vcmVfbGluZXMpLCBvbGRfd20tPnNhZ3YudHJhbnNf
d20ubGluZXMsCisJCQkJICAgIGVuYXN0KG5ld193bS0+d21bMF0uaWdub3JlX2xpbmVzKSwgbmV3
X3dtLT53bVswXS5saW5lcywKKwkJCQkgICAgZW5hc3QobmV3X3dtLT53bVsxXS5pZ25vcmVfbGlu
ZXMpLCBuZXdfd20tPndtWzFdLmxpbmVzLAorCQkJCSAgICBlbmFzdChuZXdfd20tPndtWzJdLmln
bm9yZV9saW5lcyksIG5ld193bS0+d21bMl0ubGluZXMsCisJCQkJICAgIGVuYXN0KG5ld193bS0+
d21bM10uaWdub3JlX2xpbmVzKSwgbmV3X3dtLT53bVszXS5saW5lcywKKwkJCQkgICAgZW5hc3Qo
bmV3X3dtLT53bVs0XS5pZ25vcmVfbGluZXMpLCBuZXdfd20tPndtWzRdLmxpbmVzLAorCQkJCSAg
ICBlbmFzdChuZXdfd20tPndtWzVdLmlnbm9yZV9saW5lcyksIG5ld193bS0+d21bNV0ubGluZXMs
CisJCQkJICAgIGVuYXN0KG5ld193bS0+d21bNl0uaWdub3JlX2xpbmVzKSwgbmV3X3dtLT53bVs2
XS5saW5lcywKKwkJCQkgICAgZW5hc3QobmV3X3dtLT53bVs3XS5pZ25vcmVfbGluZXMpLCBuZXdf
d20tPndtWzddLmxpbmVzLAorCQkJCSAgICBlbmFzdChuZXdfd20tPnRyYW5zX3dtLmlnbm9yZV9s
aW5lcyksIG5ld193bS0+dHJhbnNfd20ubGluZXMsCisJCQkJICAgIGVuYXN0KG5ld193bS0+c2Fn
di53bTAuaWdub3JlX2xpbmVzKSwgbmV3X3dtLT5zYWd2LndtMC5saW5lcywKKwkJCQkgICAgZW5h
c3QobmV3X3dtLT5zYWd2LnRyYW5zX3dtLmlnbm9yZV9saW5lcyksIG5ld193bS0+c2Fndi50cmFu
c193bS5saW5lcyk7CiAKIAkJCWRybV9kYmdfa21zKCZkZXZfcHJpdi0+ZHJtLAogCQkJCSAgICAi
W1BMQU5FOiVkOiVzXSAgYmxvY2tzICU0ZCwlNGQsJTRkLCU0ZCwlNGQsJTRkLCU0ZCwlNGQsJTRk
LCU0ZCwlNWQiCiAJCQkJICAgICIgLT4gJTRkLCU0ZCwlNGQsJTRkLCU0ZCwlNGQsJTRkLCU0ZCwl
NGQsJTRkLCU1ZFxuIiwKIAkJCQkgICAgcGxhbmUtPmJhc2UuYmFzZS5pZCwgcGxhbmUtPmJhc2Uu
bmFtZSwKLQkJCQkgICAgb2xkX3dtLT53bVswXS5wbGFuZV9yZXNfYiwgb2xkX3dtLT53bVsxXS5w
bGFuZV9yZXNfYiwKLQkJCQkgICAgb2xkX3dtLT53bVsyXS5wbGFuZV9yZXNfYiwgb2xkX3dtLT53
bVszXS5wbGFuZV9yZXNfYiwKLQkJCQkgICAgb2xkX3dtLT53bVs0XS5wbGFuZV9yZXNfYiwgb2xk
X3dtLT53bVs1XS5wbGFuZV9yZXNfYiwKLQkJCQkgICAgb2xkX3dtLT53bVs2XS5wbGFuZV9yZXNf
Yiwgb2xkX3dtLT53bVs3XS5wbGFuZV9yZXNfYiwKLQkJCQkgICAgb2xkX3dtLT50cmFuc193bS5w
bGFuZV9yZXNfYiwKLQkJCQkgICAgb2xkX3dtLT5zYWd2LndtMC5wbGFuZV9yZXNfYiwKLQkJCQkg
ICAgb2xkX3dtLT5zYWd2LnRyYW5zX3dtLnBsYW5lX3Jlc19iLAotCQkJCSAgICBuZXdfd20tPndt
WzBdLnBsYW5lX3Jlc19iLCBuZXdfd20tPndtWzFdLnBsYW5lX3Jlc19iLAotCQkJCSAgICBuZXdf
d20tPndtWzJdLnBsYW5lX3Jlc19iLCBuZXdfd20tPndtWzNdLnBsYW5lX3Jlc19iLAotCQkJCSAg
ICBuZXdfd20tPndtWzRdLnBsYW5lX3Jlc19iLCBuZXdfd20tPndtWzVdLnBsYW5lX3Jlc19iLAot
CQkJCSAgICBuZXdfd20tPndtWzZdLnBsYW5lX3Jlc19iLCBuZXdfd20tPndtWzddLnBsYW5lX3Jl
c19iLAotCQkJCSAgICBuZXdfd20tPnRyYW5zX3dtLnBsYW5lX3Jlc19iLAotCQkJCSAgICBuZXdf
d20tPnNhZ3Yud20wLnBsYW5lX3Jlc19iLAotCQkJCSAgICBuZXdfd20tPnNhZ3YudHJhbnNfd20u
cGxhbmVfcmVzX2IpOworCQkJCSAgICBvbGRfd20tPndtWzBdLmJsb2Nrcywgb2xkX3dtLT53bVsx
XS5ibG9ja3MsCisJCQkJICAgIG9sZF93bS0+d21bMl0uYmxvY2tzLCBvbGRfd20tPndtWzNdLmJs
b2NrcywKKwkJCQkgICAgb2xkX3dtLT53bVs0XS5ibG9ja3MsIG9sZF93bS0+d21bNV0uYmxvY2tz
LAorCQkJCSAgICBvbGRfd20tPndtWzZdLmJsb2Nrcywgb2xkX3dtLT53bVs3XS5ibG9ja3MsCisJ
CQkJICAgIG9sZF93bS0+dHJhbnNfd20uYmxvY2tzLAorCQkJCSAgICBvbGRfd20tPnNhZ3Yud20w
LmJsb2NrcywKKwkJCQkgICAgb2xkX3dtLT5zYWd2LnRyYW5zX3dtLmJsb2NrcywKKwkJCQkgICAg
bmV3X3dtLT53bVswXS5ibG9ja3MsIG5ld193bS0+d21bMV0uYmxvY2tzLAorCQkJCSAgICBuZXdf
d20tPndtWzJdLmJsb2NrcywgbmV3X3dtLT53bVszXS5ibG9ja3MsCisJCQkJICAgIG5ld193bS0+
d21bNF0uYmxvY2tzLCBuZXdfd20tPndtWzVdLmJsb2NrcywKKwkJCQkgICAgbmV3X3dtLT53bVs2
XS5ibG9ja3MsIG5ld193bS0+d21bN10uYmxvY2tzLAorCQkJCSAgICBuZXdfd20tPnRyYW5zX3dt
LmJsb2NrcywKKwkJCQkgICAgbmV3X3dtLT5zYWd2LndtMC5ibG9ja3MsCisJCQkJICAgIG5ld193
bS0+c2Fndi50cmFuc193bS5ibG9ja3MpOwogCiAJCQlkcm1fZGJnX2ttcygmZGV2X3ByaXYtPmRy
bSwKIAkJCQkgICAgIltQTEFORTolZDolc10gbWluX2RkYiAlNGQsJTRkLCU0ZCwlNGQsJTRkLCU0
ZCwlNGQsJTRkLCU0ZCwlNGQsJTVkIgpAQCAtNjIxMCwxMCArNjIwNiwxMCBAQCBzdGF0aWMgdm9p
ZCBpbGtfb3B0aW1pemVfd2F0ZXJtYXJrcyhzdHJ1Y3QgaW50ZWxfYXRvbWljX3N0YXRlICpzdGF0
ZSwKIAogc3RhdGljIHZvaWQgc2tsX3dtX2xldmVsX2Zyb21fcmVnX3ZhbCh1MzIgdmFsLCBzdHJ1
Y3Qgc2tsX3dtX2xldmVsICpsZXZlbCkKIHsKLQlsZXZlbC0+cGxhbmVfZW4gPSB2YWwgJiBQTEFO
RV9XTV9FTjsKKwlsZXZlbC0+ZW5hYmxlID0gdmFsICYgUExBTkVfV01fRU47CiAJbGV2ZWwtPmln
bm9yZV9saW5lcyA9IHZhbCAmIFBMQU5FX1dNX0lHTk9SRV9MSU5FUzsKLQlsZXZlbC0+cGxhbmVf
cmVzX2IgPSB2YWwgJiBQTEFORV9XTV9CTE9DS1NfTUFTSzsKLQlsZXZlbC0+cGxhbmVfcmVzX2wg
PSAodmFsID4+IFBMQU5FX1dNX0xJTkVTX1NISUZUKSAmCisJbGV2ZWwtPmJsb2NrcyA9IHZhbCAm
IFBMQU5FX1dNX0JMT0NLU19NQVNLOworCWxldmVsLT5saW5lcyA9ICh2YWwgPj4gUExBTkVfV01f
TElORVNfU0hJRlQpICYKIAkJUExBTkVfV01fTElORVNfTUFTSzsKIH0KIAotLSAKMi4yNi4yCgpf
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpJbnRlbC1nZngg
bWFpbGluZyBsaXN0CkludGVsLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0
cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9pbnRlbC1nZngK

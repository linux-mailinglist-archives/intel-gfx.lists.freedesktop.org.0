Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 5F299B7470
	for <lists+intel-gfx@lfdr.de>; Thu, 19 Sep 2019 09:51:43 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id AD5CA6FA67;
	Thu, 19 Sep 2019 07:51:41 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from fireflyinternet.com (mail.fireflyinternet.com [109.228.58.192])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 14E666FA67
 for <intel-gfx@lists.freedesktop.org>; Thu, 19 Sep 2019 07:51:39 +0000 (UTC)
X-Default-Received-SPF: pass (skip=forwardok (res=PASS))
 x-ip-name=78.156.65.138; 
Received: from localhost (unverified [78.156.65.138]) 
 by fireflyinternet.com (Firefly Internet (M1)) with ESMTP (TLS) id
 18541629-1500050 for multiple; Thu, 19 Sep 2019 08:51:02 +0100
MIME-Version: 1.0
To: Daniele Ceraolo Spurio <daniele.ceraolospurio@intel.com>,
 intel-gfx@lists.freedesktop.org
From: Chris Wilson <chris@chris-wilson.co.uk>
In-Reply-To: <20190919015330.15435-1-daniele.ceraolospurio@intel.com>
References: <20190919015330.15435-1-daniele.ceraolospurio@intel.com>
Message-ID: <156887946078.5729.15287845272089689153@skylake-alporthouse-com>
User-Agent: alot/0.6
Date: Thu, 19 Sep 2019 08:51:00 +0100
Subject: Re: [Intel-gfx] [PATCH v2] drm/i915: fix SFC reset flow
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: Owen Zhang <owen.zhang@intel.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

UXVvdGluZyBEYW5pZWxlIENlcmFvbG8gU3B1cmlvICgyMDE5LTA5LTE5IDAyOjUzOjMwKQo+IE91
ciBhc3N1bXB0aW9uIHRoYXQgdGhlIHdlIGNhbiBhc2sgdGhlIEhXIHRvIGxvY2sgdGhlIFNGQyBl
dmVuIGlmIG5vdAo+IGN1cnJlbnRseSBpbiB1c2UgZG9lcyBub3QgbWF0Y2ggdGhlIEhXIGNvbW1p
dG1lbnQuIFRoZSBleHBlY3RhdGlvbiBmcm9tCj4gdGhlIEhXIGlzIHRoYXQgU1cgd2lsbCBub3Qg
dHJ5IHRvIGxvY2sgdGhlIFNGQyBpZiB0aGUgZW5naW5lIGlzIG5vdAo+IHVzaW5nIGl0IGFuZCBp
ZiB3ZSBkbyB0aGF0IHRoZSBiZWhhdmlvciBpcyB1bmRlZmluZWQ7IG9uIElDTCB0aGUgSFcKPiBl
bmRzIHVwIHRvIHJldHVybmluZyB0aGUgYWNrIGFuZCBpZ25vcmluZyBvdXIgbG9jayByZXF1ZXN0
LCBidXQgdGhpcyBpcwo+IG5vdCBndWFyYW50ZWVkIGFuZCB3ZSBzaG91bGRuJ3QgZXhwZWN0IGl0
IGdvaW5nIGZvcndhcmQuCj4gCj4gQWxzbywgZmFpbGluZyB0byBnZXQgdGhlIGFjayB3aGlsZSB0
aGUgU0ZDIGlzIGluIHVzZSBtZWFucyB0aGF0IHdlIGNhbid0Cj4gY2xlYW5seSByZXNldCBpdCwg
c28gZmFpbCB0aGUgZW5naW5lIHJlc2V0IGluIHRoYXQgc2NlbmFyaW8uCj4gCj4gdjI6IGRyb3Ag
cm13IGNoYW5nZSwga2VlcCB0aGUgbG9nIGFzIGRlYnVnIGFuZCBoYW5kbGUgZmFpbHVyZSAoQ2hy
aXMpLAo+ICAgICBpbXByb3ZlIGNvbW1lbnRzIChUdnJ0a28pLgo+IAo+IFJlcG9ydGVkLWJ5OiBP
d2VuIFpoYW5nIDxvd2VuLnpoYW5nQGludGVsLmNvbT4KPiBTaWduZWQtb2ZmLWJ5OiBEYW5pZWxl
IENlcmFvbG8gU3B1cmlvIDxkYW5pZWxlLmNlcmFvbG9zcHVyaW9AaW50ZWwuY29tPgo+IENjOiBU
dnJ0a28gVXJzdWxpbiA8dHZydGtvLnVyc3VsaW5AbGludXguaW50ZWwuY29tPgo+IENjOiBDaHJp
cyBXaWxzb24gPGNocmlzQGNocmlzLXdpbHNvbi5jby51az4KPiAtLS0KPiAgZHJpdmVycy9ncHUv
ZHJtL2k5MTUvZ3QvaW50ZWxfcmVzZXQuYyB8IDUxICsrKysrKysrKysrKysrKysrLS0tLS0tLS0t
LQo+ICAxIGZpbGUgY2hhbmdlZCwgMzMgaW5zZXJ0aW9ucygrKSwgMTggZGVsZXRpb25zKC0pCj4g
Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX3Jlc2V0LmMgYi9k
cml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9yZXNldC5jCj4gaW5kZXggODMyNzIyMGFjNTU4
Li43OTdjZjUwNjI1Y2IgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50
ZWxfcmVzZXQuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX3Jlc2V0LmMK
PiBAQCAtMzA5LDcgKzMwOSw3IEBAIHN0YXRpYyBpbnQgZ2VuNl9yZXNldF9lbmdpbmVzKHN0cnVj
dCBpbnRlbF9ndCAqZ3QsCj4gICAgICAgICByZXR1cm4gZ2VuNl9od19kb21haW5fcmVzZXQoZ3Qs
IGh3X21hc2spOwo+ICB9Cj4gIAo+IC1zdGF0aWMgdTMyIGdlbjExX2xvY2tfc2ZjKHN0cnVjdCBp
bnRlbF9lbmdpbmVfY3MgKmVuZ2luZSkKPiArc3RhdGljIGludCBnZW4xMV9sb2NrX3NmYyhzdHJ1
Y3QgaW50ZWxfZW5naW5lX2NzICplbmdpbmUsIHUzMiAqaHdfbWFzaykKPiAgewo+ICAgICAgICAg
c3RydWN0IGludGVsX3VuY29yZSAqdW5jb3JlID0gZW5naW5lLT51bmNvcmU7Cj4gICAgICAgICB1
OCB2ZGJveF9zZmNfYWNjZXNzID0gUlVOVElNRV9JTkZPKGVuZ2luZS0+aTkxNSktPnZkYm94X3Nm
Y19hY2Nlc3M7Cj4gQEAgLTMxOCw2ICszMTgsNyBAQCBzdGF0aWMgdTMyIGdlbjExX2xvY2tfc2Zj
KHN0cnVjdCBpbnRlbF9lbmdpbmVfY3MgKmVuZ2luZSkKPiAgICAgICAgIGk5MTVfcmVnX3Qgc2Zj
X3VzYWdlOwo+ICAgICAgICAgdTMyIHNmY191c2FnZV9iaXQ7Cj4gICAgICAgICB1MzIgc2ZjX3Jl
c2V0X2JpdDsKPiArICAgICAgIGludCByZXQ7Cj4gIAo+ICAgICAgICAgc3dpdGNoIChlbmdpbmUt
PmNsYXNzKSB7Cj4gICAgICAgICBjYXNlIFZJREVPX0RFQ09ERV9DTEFTUzoKPiBAQCAtMzUyLDI4
ICszNTMsMzMgQEAgc3RhdGljIHUzMiBnZW4xMV9sb2NrX3NmYyhzdHJ1Y3QgaW50ZWxfZW5naW5l
X2NzICplbmdpbmUpCj4gICAgICAgICB9Cj4gIAo+ICAgICAgICAgLyoKPiAtICAgICAgICAqIFRl
bGwgdGhlIGVuZ2luZSB0aGF0IGEgc29mdHdhcmUgcmVzZXQgaXMgZ29pbmcgdG8gaGFwcGVuLiBU
aGUgZW5naW5lCj4gLSAgICAgICAgKiB3aWxsIHRoZW4gdHJ5IHRvIGZvcmNlIGxvY2sgdGhlIFNG
QyAoaWYgY3VycmVudGx5IGxvY2tlZCwgaXQgd2lsbAo+IC0gICAgICAgICogcmVtYWluIHNvIHVu
dGlsIHdlIHRlbGwgdGhlIGVuZ2luZSBpdCBpcyBzYWZlIHRvIHVubG9jazsgaWYgY3VycmVudGx5
Cj4gLSAgICAgICAgKiB1bmxvY2tlZCwgaXQgd2lsbCBpZ25vcmUgdGhpcyBhbmQgYWxsIG5ldyBs
b2NrIHJlcXVlc3RzKS4gSWYgU0ZDCj4gLSAgICAgICAgKiBlbmRzIHVwIGJlaW5nIGxvY2tlZCB0
byB0aGUgZW5naW5lIHdlIHdhbnQgdG8gcmVzZXQsIHdlIGhhdmUgdG8gcmVzZXQKPiAtICAgICAg
ICAqIGl0IGFzIHdlbGwgKHdlIHdpbGwgdW5sb2NrIGl0IG9uY2UgdGhlIHJlc2V0IHNlcXVlbmNl
IGlzIGNvbXBsZXRlZCkuCj4gKyAgICAgICAgKiBJZiB0aGUgZW5naW5lIGlzIHVzaW5nIGEgU0ZD
LCB0ZWxsIHRoZSBlbmdpbmUgdGhhdCBhIHNvZnR3YXJlIHJlc2V0Cj4gKyAgICAgICAgKiBpcyBn
b2luZyB0byBoYXBwZW4uIFRoZSBlbmdpbmUgd2lsbCB0aGVuIHRyeSB0byBmb3JjZSBsb2NrIHRo
ZSBTRkMuCj4gKyAgICAgICAgKiBJZiBTRkMgZW5kcyB1cCBiZWluZyBsb2NrZWQgdG8gdGhlIGVu
Z2luZSB3ZSB3YW50IHRvIHJlc2V0LCB3ZSBoYXZlCj4gKyAgICAgICAgKiB0byByZXNldCBpdCBh
cyB3ZWxsICh3ZSB3aWxsIHVubG9jayBpdCBvbmNlIHRoZSByZXNldCBzZXF1ZW5jZSBpcwo+ICsg
ICAgICAgICogY29tcGxldGVkKS4KPiAgICAgICAgICAqLwo+ICsgICAgICAgaWYgKCEoaW50ZWxf
dW5jb3JlX3JlYWRfZncodW5jb3JlLCBzZmNfdXNhZ2UpICYgc2ZjX3VzYWdlX2JpdCkpCj4gKyAg
ICAgICAgICAgICAgIHJldHVybiAwOwo+ICsKPiAgICAgICAgIHJtd19zZXRfZncodW5jb3JlLCBz
ZmNfZm9yY2VkX2xvY2ssIHNmY19mb3JjZWRfbG9ja19iaXQpOwo+ICAKPiAtICAgICAgIGlmIChf
X2ludGVsX3dhaXRfZm9yX3JlZ2lzdGVyX2Z3KHVuY29yZSwKPiAtICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgIHNmY19mb3JjZWRfbG9ja19hY2ssCj4gLSAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZmNfZm9yY2VkX2xvY2tfYWNrX2JpdCwKPiAt
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNmY19mb3JjZWRfbG9ja19h
Y2tfYml0LAo+IC0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMTAwMCwg
MCwgTlVMTCkpIHsKPiAtICAgICAgICAgICAgICAgRFJNX0RFQlVHX0RSSVZFUigiV2FpdCBmb3Ig
U0ZDIGZvcmNlZCBsb2NrIGFjayBmYWlsZWRcbiIpOwo+ICsgICAgICAgcmV0ID0gX19pbnRlbF93
YWl0X2Zvcl9yZWdpc3Rlcl9mdyh1bmNvcmUsCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgIHNmY19mb3JjZWRfbG9ja19hY2ssCj4gKyAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgIHNmY19mb3JjZWRfbG9ja19hY2tfYml0LAo+ICsgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZmNfZm9yY2VkX2xvY2tfYWNr
X2JpdCwKPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMTAwMCwg
MCwgTlVMTCk7Cj4gKwo+ICsgICAgICAgLyogd2FzIHRoZSBTRkMgcmVsZWFzZWQgd2hpbGUgd2Ug
d2VyZSB0cnlpbmcgdG8gbG9jayBpdD8gKi8KPiArICAgICAgIGlmICghKGludGVsX3VuY29yZV9y
ZWFkX2Z3KHVuY29yZSwgc2ZjX3VzYWdlKSAmIHNmY191c2FnZV9iaXQpKQo+ICAgICAgICAgICAg
ICAgICByZXR1cm4gMDsKPiAtICAgICAgIH0KPiAgCj4gLSAgICAgICBpZiAoaW50ZWxfdW5jb3Jl
X3JlYWRfZncodW5jb3JlLCBzZmNfdXNhZ2UpICYgc2ZjX3VzYWdlX2JpdCkKPiAtICAgICAgICAg
ICAgICAgcmV0dXJuIHNmY19yZXNldF9iaXQ7Cj4gKyAgICAgICBpZiAocmV0KQo+ICsgICAgICAg
ICAgICAgICBEUk1fREVCVUdfRFJJVkVSKCJXYWl0IGZvciBTRkMgZm9yY2VkIGxvY2sgYWNrIGZh
aWxlZFxuIik7CgpUaGlzIHVubmVydmVzIG1lIGFzIG9uIHRoZSBsb2NrX3NmYyBpdCB3b3VsZCBy
ZXN1bHQgaW4gbG90cyBvZiBmdWxsLWdwdQpyZXNldHMuIEhvd2V2ZXIsIEkgZG8gYmVsaWV2ZSB0
aGF0IHdlIGNhdGNoIHRob3NlIGZhbGxiYWNrcyBpbiBvdXIKc2VsZnRlc3RzIC0tIHNvIHRoZSB0
ZXN0cyB0aGF0IHdlcmUgdHJpZ2dlcmluZyB0aGUgd2FpdCB0aW1lb3V0IG11c3QgYmUKdGFraW5n
IHRoZSBlYXJsaWVyIHJldHVybiBmb3Igc2ZjX3VzYWdlID09IDAKCk5vdCBoYXZpbmcgcGVyLWVu
Z2luZSByZXNldCBpcyBncmVhdGx5IHVwc2V0dGluZzsgd2UgYXJlIGJha2luZyB0aGUKYXNzdW1w
dGlvbiB3ZSBjYW4gcmVzZXQgZW5naW5lcyAmIGNvbnRleHRzIGluZGVwZW5kZW50bHkgaW50byBv
dXIgc3lzdGVtCm1hbmFnZW1lbnQuIFdlIHJlbHkgb24gaXQuLi4KCkhvd2V2ZXIsIHRoaXMgcGFz
c2VkIG9uIGljbCBzbyBpdCBjYW4ndCBiZSBhbGwgYmFkIQpBY2tlZC1ieTogQ2hyaXMgV2lsc29u
IDxjaHJpc0BjaHJpcy13aWxzb24uY28udWs+Ci1DaHJpcwpfX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fXwpJbnRlbC1nZnggbWFpbGluZyBsaXN0CkludGVsLWdm
eEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFp
bG1hbi9saXN0aW5mby9pbnRlbC1nZng=

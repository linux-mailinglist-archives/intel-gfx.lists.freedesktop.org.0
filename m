Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 9445A177D8B
	for <lists+intel-gfx@lfdr.de>; Tue,  3 Mar 2020 18:33:40 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id EC4A86E92C;
	Tue,  3 Mar 2020 17:33:38 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga05.intel.com (mga05.intel.com [192.55.52.43])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 08AA06E92B
 for <intel-gfx@lists.freedesktop.org>; Tue,  3 Mar 2020 17:33:37 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga006.jf.intel.com ([10.7.209.51])
 by fmsmga105.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 03 Mar 2020 09:33:28 -0800
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.70,511,1574150400"; d="scan'208";a="243659862"
Received: from stinkbox.fi.intel.com (HELO stinkbox) ([10.237.72.174])
 by orsmga006.jf.intel.com with SMTP; 03 Mar 2020 09:33:26 -0800
Received: by stinkbox (sSMTP sendmail emulation);
 Tue, 03 Mar 2020 19:33:25 +0200
From: Ville Syrjala <ville.syrjala@linux.intel.com>
To: intel-gfx@lists.freedesktop.org
Date: Tue,  3 Mar 2020 19:33:08 +0200
Message-Id: <20200303173313.28117-5-ville.syrjala@linux.intel.com>
X-Mailer: git-send-email 2.24.1
In-Reply-To: <20200303173313.28117-1-ville.syrjala@linux.intel.com>
References: <20200303173313.28117-1-ville.syrjala@linux.intel.com>
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH v2 4/9] drm/i915: s/blob_data/lut/
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

RnJvbTogVmlsbGUgU3lyasOkbMOkIDx2aWxsZS5zeXJqYWxhQGxpbnV4LmludGVsLmNvbT4KCldl
J3JlIHRhbGtpbmcgYWJvdXQgTFVUIGNvbnRlbnRzIGhlcmUgc28gbGV0J3MgY2FsbCB0aGUgdGhp
bmcKJ2x1dCcgcmF0aGVyIHRoYW4gJ2Jsb2JfZGF0YScuIFRoaXMgaXMgdGhlIG5hbWUgdGhlIGxv
YWRfbHV0KCkKY29kZSB1c2VkIGJlZm9yZSBhbHJlYWR5LgoKU2lnbmVkLW9mZi1ieTogVmlsbGUg
U3lyasOkbMOkIDx2aWxsZS5zeXJqYWxhQGxpbnV4LmludGVsLmNvbT4KLS0tCiBkcml2ZXJzL2dw
dS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2NvbG9yLmMgfCA2NiArKysrKysrKysrKy0tLS0tLS0t
LS0tCiAxIGZpbGUgY2hhbmdlZCwgMzMgaW5zZXJ0aW9ucygrKSwgMzMgZGVsZXRpb25zKC0pCgpk
aWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9jb2xvci5jIGIv
ZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9jb2xvci5jCmluZGV4IGUzYWJhYTE5
MDhhOS4uZjkwZjExMzM1NWJjIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNw
bGF5L2ludGVsX2NvbG9yLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRl
bF9jb2xvci5jCkBAIC0xNjk0LDcgKzE2OTQsNyBAQCBpOXh4X3JlYWRfbHV0XzgoY29uc3Qgc3Ry
dWN0IGludGVsX2NydGNfc3RhdGUgKmNydGNfc3RhdGUpCiAJc3RydWN0IGRybV9pOTE1X3ByaXZh
dGUgKmRldl9wcml2ID0gdG9faTkxNShjcnRjLT5iYXNlLmRldik7CiAJZW51bSBwaXBlIHBpcGUg
PSBjcnRjLT5waXBlOwogCXN0cnVjdCBkcm1fcHJvcGVydHlfYmxvYiAqYmxvYjsKLQlzdHJ1Y3Qg
ZHJtX2NvbG9yX2x1dCAqYmxvYl9kYXRhOworCXN0cnVjdCBkcm1fY29sb3JfbHV0ICpsdXQ7CiAJ
dTMyIGksIHZhbDsKIAogCWJsb2IgPSBkcm1fcHJvcGVydHlfY3JlYXRlX2Jsb2IoJmRldl9wcml2
LT5kcm0sCkBAIC0xNzAzLDE2ICsxNzAzLDE2IEBAIGk5eHhfcmVhZF9sdXRfOChjb25zdCBzdHJ1
Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqY3J0Y19zdGF0ZSkKIAlpZiAoSVNfRVJSKGJsb2IpKQogCQly
ZXR1cm4gTlVMTDsKIAotCWJsb2JfZGF0YSA9IGJsb2ItPmRhdGE7CisJbHV0ID0gYmxvYi0+ZGF0
YTsKIAogCWZvciAoaSA9IDA7IGkgPCBMRUdBQ1lfTFVUX0xFTkdUSDsgaSsrKSB7CiAJCXZhbCA9
IGludGVsX2RlX3JlYWQoZGV2X3ByaXYsIFBBTEVUVEUocGlwZSwgaSkpOwogCi0JCWJsb2JfZGF0
YVtpXS5yZWQgPSBpbnRlbF9jb2xvcl9sdXRfcGFjayhSRUdfRklFTERfR0VUKAorCQlsdXRbaV0u
cmVkID0gaW50ZWxfY29sb3JfbHV0X3BhY2soUkVHX0ZJRUxEX0dFVCgKIAkJCQkJCQlMR0NfUEFM
RVRURV9SRURfTUFTSywgdmFsKSwgOCk7Ci0JCWJsb2JfZGF0YVtpXS5ncmVlbiA9IGludGVsX2Nv
bG9yX2x1dF9wYWNrKFJFR19GSUVMRF9HRVQoCisJCWx1dFtpXS5ncmVlbiA9IGludGVsX2NvbG9y
X2x1dF9wYWNrKFJFR19GSUVMRF9HRVQoCiAJCQkJCQkJICBMR0NfUEFMRVRURV9HUkVFTl9NQVNL
LCB2YWwpLCA4KTsKLQkJYmxvYl9kYXRhW2ldLmJsdWUgPSBpbnRlbF9jb2xvcl9sdXRfcGFjayhS
RUdfRklFTERfR0VUKAorCQlsdXRbaV0uYmx1ZSA9IGludGVsX2NvbG9yX2x1dF9wYWNrKFJFR19G
SUVMRF9HRVQoCiAJCQkJCQkJIExHQ19QQUxFVFRFX0JMVUVfTUFTSywgdmFsKSwgOCk7CiAJfQog
CkBAIC0xNzM1LDcgKzE3MzUsNyBAQCBpOTY1X3JlYWRfbHV0XzEwcDYoY29uc3Qgc3RydWN0IGlu
dGVsX2NydGNfc3RhdGUgKmNydGNfc3RhdGUpCiAJdTMyIGx1dF9zaXplID0gSU5URUxfSU5GTyhk
ZXZfcHJpdiktPmNvbG9yLmdhbW1hX2x1dF9zaXplOwogCWVudW0gcGlwZSBwaXBlID0gY3J0Yy0+
cGlwZTsKIAlzdHJ1Y3QgZHJtX3Byb3BlcnR5X2Jsb2IgKmJsb2I7Ci0Jc3RydWN0IGRybV9jb2xv
cl9sdXQgKmJsb2JfZGF0YTsKKwlzdHJ1Y3QgZHJtX2NvbG9yX2x1dCAqbHV0OwogCXUzMiBpLCB2
YWwxLCB2YWwyOwogCiAJYmxvYiA9IGRybV9wcm9wZXJ0eV9jcmVhdGVfYmxvYigmZGV2X3ByaXYt
PmRybSwKQEAgLTE3NDQsMjUgKzE3NDQsMjUgQEAgaTk2NV9yZWFkX2x1dF8xMHA2KGNvbnN0IHN0
cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpjcnRjX3N0YXRlKQogCWlmIChJU19FUlIoYmxvYikpCiAJ
CXJldHVybiBOVUxMOwogCi0JYmxvYl9kYXRhID0gYmxvYi0+ZGF0YTsKKwlsdXQgPSBibG9iLT5k
YXRhOwogCiAJZm9yIChpID0gMDsgaSA8IGx1dF9zaXplIC0gMTsgaSsrKSB7CiAJCXZhbDEgPSBp
bnRlbF9kZV9yZWFkKGRldl9wcml2LCBQQUxFVFRFKHBpcGUsIDIgKiBpICsgMCkpOwogCQl2YWwy
ID0gaW50ZWxfZGVfcmVhZChkZXZfcHJpdiwgUEFMRVRURShwaXBlLCAyICogaSArIDEpKTsKIAot
CQlibG9iX2RhdGFbaV0ucmVkID0gUkVHX0ZJRUxEX0dFVChQQUxFVFRFX1JFRF9NQVNLLCB2YWwy
KSA8PCA4IHwKKwkJbHV0W2ldLnJlZCA9IFJFR19GSUVMRF9HRVQoUEFMRVRURV9SRURfTUFTSywg
dmFsMikgPDwgOCB8CiAJCQkJCQkgUkVHX0ZJRUxEX0dFVChQQUxFVFRFX1JFRF9NQVNLLCB2YWwx
KTsKLQkJYmxvYl9kYXRhW2ldLmdyZWVuID0gUkVHX0ZJRUxEX0dFVChQQUxFVFRFX0dSRUVOX01B
U0ssIHZhbDIpIDw8IDggfAorCQlsdXRbaV0uZ3JlZW4gPSBSRUdfRklFTERfR0VUKFBBTEVUVEVf
R1JFRU5fTUFTSywgdmFsMikgPDwgOCB8CiAJCQkJCQkgICBSRUdfRklFTERfR0VUKFBBTEVUVEVf
R1JFRU5fTUFTSywgdmFsMSk7Ci0JCWJsb2JfZGF0YVtpXS5ibHVlID0gUkVHX0ZJRUxEX0dFVChQ
QUxFVFRFX0JMVUVfTUFTSywgdmFsMikgPDwgOCB8CisJCWx1dFtpXS5ibHVlID0gUkVHX0ZJRUxE
X0dFVChQQUxFVFRFX0JMVUVfTUFTSywgdmFsMikgPDwgOCB8CiAJCQkJCQkgIFJFR19GSUVMRF9H
RVQoUEFMRVRURV9CTFVFX01BU0ssIHZhbDEpOwogCX0KIAotCWJsb2JfZGF0YVtpXS5yZWQgPSBS
RUdfRklFTERfR0VUKFBJUEVHQ01BWF9SR0JfTUFTSywKKwlsdXRbaV0ucmVkID0gUkVHX0ZJRUxE
X0dFVChQSVBFR0NNQVhfUkdCX01BU0ssCiAJCQkJCSBpbnRlbF9kZV9yZWFkKGRldl9wcml2LCBQ
SVBFR0NNQVgocGlwZSwgMCkpKTsKLQlibG9iX2RhdGFbaV0uZ3JlZW4gPSBSRUdfRklFTERfR0VU
KFBJUEVHQ01BWF9SR0JfTUFTSywKKwlsdXRbaV0uZ3JlZW4gPSBSRUdfRklFTERfR0VUKFBJUEVH
Q01BWF9SR0JfTUFTSywKIAkJCQkJICAgaW50ZWxfZGVfcmVhZChkZXZfcHJpdiwgUElQRUdDTUFY
KHBpcGUsIDEpKSk7Ci0JYmxvYl9kYXRhW2ldLmJsdWUgPSBSRUdfRklFTERfR0VUKFBJUEVHQ01B
WF9SR0JfTUFTSywKKwlsdXRbaV0uYmx1ZSA9IFJFR19GSUVMRF9HRVQoUElQRUdDTUFYX1JHQl9N
QVNLLAogCQkJCQkgIGludGVsX2RlX3JlYWQoZGV2X3ByaXYsIFBJUEVHQ01BWChwaXBlLCAyKSkp
OwogCiAJcmV0dXJuIGJsb2I7CkBAIC0xNzg3LDcgKzE3ODcsNyBAQCBjaHZfcmVhZF9jZ21fbHV0
KGNvbnN0IHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpjcnRjX3N0YXRlKQogCXUzMiBsdXRfc2l6
ZSA9IElOVEVMX0lORk8oZGV2X3ByaXYpLT5jb2xvci5nYW1tYV9sdXRfc2l6ZTsKIAllbnVtIHBp
cGUgcGlwZSA9IGNydGMtPnBpcGU7CiAJc3RydWN0IGRybV9wcm9wZXJ0eV9ibG9iICpibG9iOwot
CXN0cnVjdCBkcm1fY29sb3JfbHV0ICpibG9iX2RhdGE7CisJc3RydWN0IGRybV9jb2xvcl9sdXQg
Kmx1dDsKIAl1MzIgaSwgdmFsOwogCiAJYmxvYiA9IGRybV9wcm9wZXJ0eV9jcmVhdGVfYmxvYigm
ZGV2X3ByaXYtPmRybSwKQEAgLTE3OTYsMTcgKzE3OTYsMTcgQEAgY2h2X3JlYWRfY2dtX2x1dChj
b25zdCBzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqY3J0Y19zdGF0ZSkKIAlpZiAoSVNfRVJSKGJs
b2IpKQogCQlyZXR1cm4gTlVMTDsKIAotCWJsb2JfZGF0YSA9IGJsb2ItPmRhdGE7CisJbHV0ID0g
YmxvYi0+ZGF0YTsKIAogCWZvciAoaSA9IDA7IGkgPCBsdXRfc2l6ZTsgaSsrKSB7CiAJCXZhbCA9
IGludGVsX2RlX3JlYWQoZGV2X3ByaXYsIENHTV9QSVBFX0dBTU1BKHBpcGUsIGksIDApKTsKLQkJ
YmxvYl9kYXRhW2ldLmdyZWVuID0gaW50ZWxfY29sb3JfbHV0X3BhY2soUkVHX0ZJRUxEX0dFVCgK
KwkJbHV0W2ldLmdyZWVuID0gaW50ZWxfY29sb3JfbHV0X3BhY2soUkVHX0ZJRUxEX0dFVCgKIAkJ
CQkJCQkgIENHTV9QSVBFX0dBTU1BX0dSRUVOX01BU0ssIHZhbCksIDEwKTsKLQkJYmxvYl9kYXRh
W2ldLmJsdWUgPSBpbnRlbF9jb2xvcl9sdXRfcGFjayhSRUdfRklFTERfR0VUKAorCQlsdXRbaV0u
Ymx1ZSA9IGludGVsX2NvbG9yX2x1dF9wYWNrKFJFR19GSUVMRF9HRVQoCiAJCQkJCQkJIENHTV9Q
SVBFX0dBTU1BX0JMVUVfTUFTSywgdmFsKSwgMTApOwogCiAJCXZhbCA9IGludGVsX2RlX3JlYWQo
ZGV2X3ByaXYsIENHTV9QSVBFX0dBTU1BKHBpcGUsIGksIDEpKTsKLQkJYmxvYl9kYXRhW2ldLnJl
ZCA9IGludGVsX2NvbG9yX2x1dF9wYWNrKFJFR19GSUVMRF9HRVQoCisJCWx1dFtpXS5yZWQgPSBp
bnRlbF9jb2xvcl9sdXRfcGFjayhSRUdfRklFTERfR0VUKAogCQkJCQkJCUNHTV9QSVBFX0dBTU1B
X1JFRF9NQVNLLCB2YWwpLCAxMCk7CiAJfQogCkBAIC0xODI4LDcgKzE4MjgsNyBAQCBpbGtfcmVh
ZF9sdXRfOChjb25zdCBzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqY3J0Y19zdGF0ZSkKIAlzdHJ1
Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYgPSB0b19pOTE1KGNydGMtPmJhc2UuZGV2KTsK
IAllbnVtIHBpcGUgcGlwZSA9IGNydGMtPnBpcGU7CiAJc3RydWN0IGRybV9wcm9wZXJ0eV9ibG9i
ICpibG9iOwotCXN0cnVjdCBkcm1fY29sb3JfbHV0ICpibG9iX2RhdGE7CisJc3RydWN0IGRybV9j
b2xvcl9sdXQgKmx1dDsKIAl1MzIgaSwgdmFsOwogCiAJYmxvYiA9IGRybV9wcm9wZXJ0eV9jcmVh
dGVfYmxvYigmZGV2X3ByaXYtPmRybSwKQEAgLTE4MzcsMTYgKzE4MzcsMTYgQEAgaWxrX3JlYWRf
bHV0XzgoY29uc3Qgc3RydWN0IGludGVsX2NydGNfc3RhdGUgKmNydGNfc3RhdGUpCiAJaWYgKElT
X0VSUihibG9iKSkKIAkJcmV0dXJuIE5VTEw7CiAKLQlibG9iX2RhdGEgPSBibG9iLT5kYXRhOwor
CWx1dCA9IGJsb2ItPmRhdGE7CiAKIAlmb3IgKGkgPSAwOyBpIDwgTEVHQUNZX0xVVF9MRU5HVEg7
IGkrKykgewogCQl2YWwgPSBpbnRlbF9kZV9yZWFkKGRldl9wcml2LCBMR0NfUEFMRVRURShwaXBl
LCBpKSk7CiAKLQkJYmxvYl9kYXRhW2ldLnJlZCA9IGludGVsX2NvbG9yX2x1dF9wYWNrKFJFR19G
SUVMRF9HRVQoCisJCWx1dFtpXS5yZWQgPSBpbnRlbF9jb2xvcl9sdXRfcGFjayhSRUdfRklFTERf
R0VUKAogCQkJCQkJCUxHQ19QQUxFVFRFX1JFRF9NQVNLLCB2YWwpLCA4KTsKLQkJYmxvYl9kYXRh
W2ldLmdyZWVuID0gaW50ZWxfY29sb3JfbHV0X3BhY2soUkVHX0ZJRUxEX0dFVCgKKwkJbHV0W2ld
LmdyZWVuID0gaW50ZWxfY29sb3JfbHV0X3BhY2soUkVHX0ZJRUxEX0dFVCgKIAkJCQkJCQkgIExH
Q19QQUxFVFRFX0dSRUVOX01BU0ssIHZhbCksIDgpOwotCQlibG9iX2RhdGFbaV0uYmx1ZSA9IGlu
dGVsX2NvbG9yX2x1dF9wYWNrKFJFR19GSUVMRF9HRVQoCisJCWx1dFtpXS5ibHVlID0gaW50ZWxf
Y29sb3JfbHV0X3BhY2soUkVHX0ZJRUxEX0dFVCgKIAkJCQkJCQkgTEdDX1BBTEVUVEVfQkxVRV9N
QVNLLCB2YWwpLCA4KTsKIAl9CiAKQEAgLTE4NjEsNyArMTg2MSw3IEBAIGlsa19yZWFkX2x1dF8x
MChjb25zdCBzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqY3J0Y19zdGF0ZSkKIAl1MzIgbHV0X3Np
emUgPSBJTlRFTF9JTkZPKGRldl9wcml2KS0+Y29sb3IuZ2FtbWFfbHV0X3NpemU7CiAJZW51bSBw
aXBlIHBpcGUgPSBjcnRjLT5waXBlOwogCXN0cnVjdCBkcm1fcHJvcGVydHlfYmxvYiAqYmxvYjsK
LQlzdHJ1Y3QgZHJtX2NvbG9yX2x1dCAqYmxvYl9kYXRhOworCXN0cnVjdCBkcm1fY29sb3JfbHV0
ICpsdXQ7CiAJdTMyIGksIHZhbDsKIAogCWJsb2IgPSBkcm1fcHJvcGVydHlfY3JlYXRlX2Jsb2Io
JmRldl9wcml2LT5kcm0sCkBAIC0xODcwLDE2ICsxODcwLDE2IEBAIGlsa19yZWFkX2x1dF8xMChj
b25zdCBzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqY3J0Y19zdGF0ZSkKIAlpZiAoSVNfRVJSKGJs
b2IpKQogCQlyZXR1cm4gTlVMTDsKIAotCWJsb2JfZGF0YSA9IGJsb2ItPmRhdGE7CisJbHV0ID0g
YmxvYi0+ZGF0YTsKIAogCWZvciAoaSA9IDA7IGkgPCBsdXRfc2l6ZTsgaSsrKSB7CiAJCXZhbCA9
IGludGVsX2RlX3JlYWQoZGV2X3ByaXYsIFBSRUNfUEFMRVRURShwaXBlLCBpKSk7CiAKLQkJYmxv
Yl9kYXRhW2ldLnJlZCA9IGludGVsX2NvbG9yX2x1dF9wYWNrKFJFR19GSUVMRF9HRVQoCisJCWx1
dFtpXS5yZWQgPSBpbnRlbF9jb2xvcl9sdXRfcGFjayhSRUdfRklFTERfR0VUKAogCQkJCQkJCVBS
RUNfUEFMRVRURV9SRURfTUFTSywgdmFsKSwgMTApOwotCQlibG9iX2RhdGFbaV0uZ3JlZW4gPSBp
bnRlbF9jb2xvcl9sdXRfcGFjayhSRUdfRklFTERfR0VUKAorCQlsdXRbaV0uZ3JlZW4gPSBpbnRl
bF9jb2xvcl9sdXRfcGFjayhSRUdfRklFTERfR0VUKAogCQkJCQkJCSAgUFJFQ19QQUxFVFRFX0dS
RUVOX01BU0ssIHZhbCksIDEwKTsKLQkJYmxvYl9kYXRhW2ldLmJsdWUgPSBpbnRlbF9jb2xvcl9s
dXRfcGFjayhSRUdfRklFTERfR0VUKAorCQlsdXRbaV0uYmx1ZSA9IGludGVsX2NvbG9yX2x1dF9w
YWNrKFJFR19GSUVMRF9HRVQoCiAJCQkJCQkJIFBSRUNfUEFMRVRURV9CTFVFX01BU0ssIHZhbCks
IDEwKTsKIAl9CiAKQEAgLTE5MDgsNyArMTkwOCw3IEBAIGdsa19yZWFkX2x1dF8xMChjb25zdCBz
dHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqY3J0Y19zdGF0ZSwgdTMyIHByZWNfaW5kZXgpCiAJaW50
IGh3X2x1dF9zaXplID0gaXZiX2x1dF8xMF9zaXplKHByZWNfaW5kZXgpOwogCWVudW0gcGlwZSBw
aXBlID0gY3J0Yy0+cGlwZTsKIAlzdHJ1Y3QgZHJtX3Byb3BlcnR5X2Jsb2IgKmJsb2I7Ci0Jc3Ry
dWN0IGRybV9jb2xvcl9sdXQgKmJsb2JfZGF0YTsKKwlzdHJ1Y3QgZHJtX2NvbG9yX2x1dCAqbHV0
OwogCXUzMiBpLCB2YWw7CiAKIAlibG9iID0gZHJtX3Byb3BlcnR5X2NyZWF0ZV9ibG9iKCZkZXZf
cHJpdi0+ZHJtLApAQCAtMTkxNyw3ICsxOTE3LDcgQEAgZ2xrX3JlYWRfbHV0XzEwKGNvbnN0IHN0
cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpjcnRjX3N0YXRlLCB1MzIgcHJlY19pbmRleCkKIAlpZiAo
SVNfRVJSKGJsb2IpKQogCQlyZXR1cm4gTlVMTDsKIAotCWJsb2JfZGF0YSA9IGJsb2ItPmRhdGE7
CisJbHV0ID0gYmxvYi0+ZGF0YTsKIAogCWludGVsX2RlX3dyaXRlKGRldl9wcml2LCBQUkVDX1BB
TF9JTkRFWChwaXBlKSwKIAkJICAgICAgIHByZWNfaW5kZXggfCBQQUxfUFJFQ19BVVRPX0lOQ1JF
TUVOVCk7CkBAIC0xOTI1LDExICsxOTI1LDExIEBAIGdsa19yZWFkX2x1dF8xMChjb25zdCBzdHJ1
Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqY3J0Y19zdGF0ZSwgdTMyIHByZWNfaW5kZXgpCiAJZm9yIChp
ID0gMDsgaSA8IGh3X2x1dF9zaXplOyBpKyspIHsKIAkJdmFsID0gaW50ZWxfZGVfcmVhZChkZXZf
cHJpdiwgUFJFQ19QQUxfREFUQShwaXBlKSk7CiAKLQkJYmxvYl9kYXRhW2ldLnJlZCA9IGludGVs
X2NvbG9yX2x1dF9wYWNrKFJFR19GSUVMRF9HRVQoCisJCWx1dFtpXS5yZWQgPSBpbnRlbF9jb2xv
cl9sdXRfcGFjayhSRUdfRklFTERfR0VUKAogCQkJCQkJCVBSRUNfUEFMX0RBVEFfUkVEX01BU0ss
IHZhbCksIDEwKTsKLQkJYmxvYl9kYXRhW2ldLmdyZWVuID0gaW50ZWxfY29sb3JfbHV0X3BhY2so
UkVHX0ZJRUxEX0dFVCgKKwkJbHV0W2ldLmdyZWVuID0gaW50ZWxfY29sb3JfbHV0X3BhY2soUkVH
X0ZJRUxEX0dFVCgKIAkJCQkJCQlQUkVDX1BBTF9EQVRBX0dSRUVOX01BU0ssIHZhbCksIDEwKTsK
LQkJYmxvYl9kYXRhW2ldLmJsdWUgPSBpbnRlbF9jb2xvcl9sdXRfcGFjayhSRUdfRklFTERfR0VU
KAorCQlsdXRbaV0uYmx1ZSA9IGludGVsX2NvbG9yX2x1dF9wYWNrKFJFR19GSUVMRF9HRVQoCiAJ
CQkJCQkJUFJFQ19QQUxfREFUQV9CTFVFX01BU0ssIHZhbCksIDEwKTsKIAl9CiAKLS0gCjIuMjQu
MQoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KSW50ZWwt
Z2Z4IG1haWxpbmcgbGlzdApJbnRlbC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8v
bGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vaW50ZWwtZ2Z4Cg==

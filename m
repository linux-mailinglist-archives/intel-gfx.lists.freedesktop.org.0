Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 5F65D10EC2E
	for <lists+intel-gfx@lfdr.de>; Mon,  2 Dec 2019 16:19:02 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 9F0F16E209;
	Mon,  2 Dec 2019 15:19:00 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga02.intel.com (mga02.intel.com [134.134.136.20])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 99AD2892D4
 for <intel-gfx@lists.freedesktop.org>; Mon,  2 Dec 2019 15:18:59 +0000 (UTC)
X-Amp-Result: UNKNOWN
X-Amp-Original-Verdict: FILE UNKNOWN
X-Amp-File-Uploaded: False
Received: from orsmga008.jf.intel.com ([10.7.209.65])
 by orsmga101.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 02 Dec 2019 07:18:45 -0800
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.69,268,1571727600"; d="scan'208";a="204592646"
Received: from ramaling-i9x.iind.intel.com (HELO intel.com) ([10.99.66.154])
 by orsmga008.jf.intel.com with ESMTP; 02 Dec 2019 07:18:44 -0800
Date: Mon, 2 Dec 2019 20:48:12 +0530
From: Ramalingam C <ramalingam.c@intel.com>
To: Ville Syrjala <ville.syrjala@linux.intel.com>
Message-ID: <20191202151812.GF15371@intel.com>
References: <20191129185434.25549-1-ville.syrjala@linux.intel.com>
 <20191129185434.25549-9-ville.syrjala@linux.intel.com>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <20191129185434.25549-9-ville.syrjala@linux.intel.com>
User-Agent: Mutt/1.10.1 (2018-07-13)
Subject: Re: [Intel-gfx] [PATCH v2 8/9] drm/i915: Dump both the uapi and hw
 states for crtcs and planes
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: intel-gfx@lists.freedesktop.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

T24gMjAxOS0xMS0yOSBhdCAyMDo1NDozMyArMDIwMCwgVmlsbGUgU3lyamFsYSB3cm90ZToKPiBG
cm9tOiBWaWxsZSBTeXJqw6Rsw6QgPHZpbGxlLnN5cmphbGFAbGludXguaW50ZWwuY29tPgo+IAo+
IExldCdzIG1ha2UgdGhlIGRpc3BsYXkgaW5mbyBtb3JlIHVzZWZ1bCBieSBkdW1waW5nIGJvdGgK
PiB0aGUgdWFwaSBhbmQgaHcgc3RhdGVzIGZvciBlYWNoIGNydGMvcGxhbmUuCgpMb29rcyBnb29k
IHRvIG1lLgoKUmV2aWV3ZWQtYnk6IFJhbWFsaW5nYW0gQyA8cmFtYWxpbmdhbS5jQGludGVsLmNv
bT4KCj4gCj4gU2lnbmVkLW9mZi1ieTogVmlsbGUgU3lyasOkbMOkIDx2aWxsZS5zeXJqYWxhQGxp
bnV4LmludGVsLmNvbT4KPiAtLS0KPiAgZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kZWJ1Z2Zz
LmMgfCAxMTYgKysrKysrKysrKysrKysrKystLS0tLS0tLS0tLQo+ICAxIGZpbGUgY2hhbmdlZCwg
NzMgaW5zZXJ0aW9ucygrKSwgNDMgZGVsZXRpb25zKC0pCj4gCj4gZGlmZiAtLWdpdCBhL2RyaXZl
cnMvZ3B1L2RybS9pOTE1L2k5MTVfZGVidWdmcy5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkx
NV9kZWJ1Z2ZzLmMKPiBpbmRleCA0ZGZmYmZmMWI4YmQuLjQxNGRhMGE1NDJkNiAxMDA2NDQKPiAt
LS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2RlYnVnZnMuYwo+ICsrKyBiL2RyaXZlcnMv
Z3B1L2RybS9pOTE1L2k5MTVfZGVidWdmcy5jCj4gQEAgLTI1NTYsNDUgKzI1NTYsNjggQEAgc3Rh
dGljIHZvaWQgcGxhbmVfcm90YXRpb24oY2hhciAqYnVmLCBzaXplX3QgYnVmc2l6ZSwgdW5zaWdu
ZWQgaW50IHJvdGF0aW9uKQo+ICAJCSByb3RhdGlvbik7Cj4gIH0KPiAgCj4gK3N0YXRpYyB2b2lk
IGludGVsX3BsYW5lX3VhcGlfaW5mbyhzdHJ1Y3Qgc2VxX2ZpbGUgKm0sIHN0cnVjdCBpbnRlbF9w
bGFuZSAqcGxhbmUpCj4gK3sKPiArCWNvbnN0IHN0cnVjdCBpbnRlbF9wbGFuZV9zdGF0ZSAqcGxh
bmVfc3RhdGUgPQo+ICsJCXRvX2ludGVsX3BsYW5lX3N0YXRlKHBsYW5lLT5iYXNlLnN0YXRlKTsK
PiArCWNvbnN0IHN0cnVjdCBkcm1fZnJhbWVidWZmZXIgKmZiID0gcGxhbmVfc3RhdGUtPnVhcGku
ZmI7Cj4gKwlzdHJ1Y3QgZHJtX2Zvcm1hdF9uYW1lX2J1ZiBmb3JtYXRfbmFtZTsKPiArCXN0cnVj
dCBkcm1fcmVjdCBzcmMsIGRzdDsKPiArCWNoYXIgcm90X3N0cls0OF07Cj4gKwo+ICsJc3JjID0g
ZHJtX3BsYW5lX3N0YXRlX3NyYygmcGxhbmVfc3RhdGUtPnVhcGkpOwo+ICsJZHN0ID0gZHJtX3Bs
YW5lX3N0YXRlX2Rlc3QoJnBsYW5lX3N0YXRlLT51YXBpKTsKPiArCj4gKwlpZiAoZmIpCj4gKwkJ
ZHJtX2dldF9mb3JtYXRfbmFtZShmYi0+Zm9ybWF0LT5mb3JtYXQsICZmb3JtYXRfbmFtZSk7Cj4g
Kwo+ICsJcGxhbmVfcm90YXRpb24ocm90X3N0ciwgc2l6ZW9mKHJvdF9zdHIpLAo+ICsJCSAgICAg
ICBwbGFuZV9zdGF0ZS0+dWFwaS5yb3RhdGlvbik7Cj4gKwo+ICsJc2VxX3ByaW50ZihtLCAiXHRc
dHVhcGk6IGZiPSVkLCVzLCVkeCVkLCBzcmM9IiBEUk1fUkVDVF9GUF9GTVQgIiwgZHN0PSIgRFJN
X1JFQ1RfRk1UICIsIHJvdGF0aW9uPSVzXG4iLAo+ICsJCSAgIGZiID8gZmItPmJhc2UuaWQgOiAw
LCBmYiA/IGZvcm1hdF9uYW1lLnN0ciA6ICJuL2EiLAo+ICsJCSAgIGZiID8gZmItPndpZHRoIDog
MCwgZmIgPyBmYi0+aGVpZ2h0IDogMCwKPiArCQkgICBEUk1fUkVDVF9GUF9BUkcoJnNyYyksCj4g
KwkJICAgRFJNX1JFQ1RfQVJHKCZkc3QpLAo+ICsJCSAgIHJvdF9zdHIpOwo+ICt9Cj4gKwo+ICtz
dGF0aWMgdm9pZCBpbnRlbF9wbGFuZV9od19pbmZvKHN0cnVjdCBzZXFfZmlsZSAqbSwgc3RydWN0
IGludGVsX3BsYW5lICpwbGFuZSkKPiArewo+ICsJY29uc3Qgc3RydWN0IGludGVsX3BsYW5lX3N0
YXRlICpwbGFuZV9zdGF0ZSA9Cj4gKwkJdG9faW50ZWxfcGxhbmVfc3RhdGUocGxhbmUtPmJhc2Uu
c3RhdGUpOwo+ICsJY29uc3Qgc3RydWN0IGRybV9mcmFtZWJ1ZmZlciAqZmIgPSBwbGFuZV9zdGF0
ZS0+aHcuZmI7Cj4gKwlzdHJ1Y3QgZHJtX2Zvcm1hdF9uYW1lX2J1ZiBmb3JtYXRfbmFtZTsKPiAr
CWNoYXIgcm90X3N0cls0OF07Cj4gKwo+ICsJaWYgKCFmYikKPiArCQlyZXR1cm47Cj4gKwo+ICsJ
ZHJtX2dldF9mb3JtYXRfbmFtZShmYi0+Zm9ybWF0LT5mb3JtYXQsICZmb3JtYXRfbmFtZSk7Cj4g
Kwo+ICsJcGxhbmVfcm90YXRpb24ocm90X3N0ciwgc2l6ZW9mKHJvdF9zdHIpLAo+ICsJCSAgICAg
ICBwbGFuZV9zdGF0ZS0+aHcucm90YXRpb24pOwo+ICsKPiArCXNlcV9wcmludGYobSwgIlx0XHRo
dzogZmI9JWQsJXMsJWR4JWQsIHZpc2libGU9JXMsIHNyYz0iIERSTV9SRUNUX0ZQX0ZNVCAiLCBk
c3Q9IiBEUk1fUkVDVF9GTVQgIiwgcm90YXRpb249JXNcbiIsCj4gKwkJICAgZmIgPyBmYi0+YmFz
ZS5pZCA6IDAsIGZiID8gZm9ybWF0X25hbWUuc3RyIDogIm4vYSIsCj4gKwkJICAgZmIgPyBmYi0+
d2lkdGggOiAwLCBmYiA/IGZiLT5oZWlnaHQgOiAwLAo+ICsJCSAgIHllc25vKHBsYW5lX3N0YXRl
LT51YXBpLnZpc2libGUpLAo+ICsJCSAgIERSTV9SRUNUX0ZQX0FSRygmcGxhbmVfc3RhdGUtPnVh
cGkuc3JjKSwKPiArCQkgICBEUk1fUkVDVF9BUkcoJnBsYW5lX3N0YXRlLT51YXBpLmRzdCksCj4g
KwkJICAgcm90X3N0cik7Cj4gK30KPiArCj4gIHN0YXRpYyB2b2lkIGludGVsX3BsYW5lX2luZm8o
c3RydWN0IHNlcV9maWxlICptLCBzdHJ1Y3QgaW50ZWxfY3J0YyAqY3J0YykKPiAgewo+ICAJc3Ry
dWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2ID0gbm9kZV90b19pOTE1KG0tPnByaXZhdGUp
Owo+IC0Jc3RydWN0IGRybV9kZXZpY2UgKmRldiA9ICZkZXZfcHJpdi0+ZHJtOwo+ICAJc3RydWN0
IGludGVsX3BsYW5lICpwbGFuZTsKPiAgCj4gLQlmb3JfZWFjaF9pbnRlbF9wbGFuZV9vbl9jcnRj
KGRldiwgY3J0YywgcGxhbmUpIHsKPiAtCQljb25zdCBzdHJ1Y3QgaW50ZWxfcGxhbmVfc3RhdGUg
KnBsYW5lX3N0YXRlID0KPiAtCQkJdG9faW50ZWxfcGxhbmVfc3RhdGUocGxhbmUtPmJhc2Uuc3Rh
dGUpOwo+IC0JCWNvbnN0IHN0cnVjdCBkcm1fZnJhbWVidWZmZXIgKmZiOwo+IC0JCXN0cnVjdCBk
cm1fZm9ybWF0X25hbWVfYnVmIGZvcm1hdF9uYW1lOwo+IC0JCXN0cnVjdCBkcm1fcmVjdCBzcmMs
IGRzdDsKPiAtCQljaGFyIHJvdF9zdHJbNDhdOwo+IC0KPiAtCQlpZiAoIXBsYW5lX3N0YXRlKSB7
Cj4gLQkJCXNlcV9wdXRzKG0sICJwbGFuZS0+c3RhdGUgaXMgTlVMTCFcbiIpOwo+IC0JCQljb250
aW51ZTsKPiAtCQl9Cj4gLQo+IC0JCXNyYyA9IGRybV9wbGFuZV9zdGF0ZV9zcmMoJnBsYW5lX3N0
YXRlLT51YXBpKTsKPiAtCQlkc3QgPSBkcm1fcGxhbmVfc3RhdGVfZGVzdCgmcGxhbmVfc3RhdGUt
PnVhcGkpOwo+IC0KPiAtCQlmYiA9IHBsYW5lX3N0YXRlLT51YXBpLmZiOwo+IC0JCWlmIChmYikK
PiAtCQkJZHJtX2dldF9mb3JtYXRfbmFtZShmYi0+Zm9ybWF0LT5mb3JtYXQsICZmb3JtYXRfbmFt
ZSk7Cj4gLQo+IC0JCXBsYW5lX3JvdGF0aW9uKHJvdF9zdHIsIHNpemVvZihyb3Rfc3RyKSwKPiAt
CQkJICAgICAgIHBsYW5lX3N0YXRlLT51YXBpLnJvdGF0aW9uKTsKPiAtCj4gLQkJc2VxX3ByaW50
ZihtLCAiXHRbUExBTkU6JWQ6JXNdOiB0eXBlPSVzLCBmYj0lZCwlcywlZHglZCwgc3JjPSIgRFJN
X1JFQ1RfRlBfRk1UICIsIGRzdD0iIERSTV9SRUNUX0ZNVCAiLCByb3RhdGlvbj0lc1xuIiwKPiAr
CWZvcl9lYWNoX2ludGVsX3BsYW5lX29uX2NydGMoJmRldl9wcml2LT5kcm0sIGNydGMsIHBsYW5l
KSB7Cj4gKwkJc2VxX3ByaW50ZihtLCAiXHRbUExBTkU6JWQ6JXNdOiB0eXBlPSVzXG4iLAo+ICAJ
CQkgICBwbGFuZS0+YmFzZS5iYXNlLmlkLCBwbGFuZS0+YmFzZS5uYW1lLAo+IC0JCQkgICBwbGFu
ZV90eXBlKHBsYW5lLT5iYXNlLnR5cGUpLAo+IC0JCQkgICBmYiA/IGZiLT5iYXNlLmlkIDogMCwK
PiAtCQkJICAgZmIgPyBmb3JtYXRfbmFtZS5zdHIgOiAibi9hIiwKPiAtCQkJICAgZmIgPyBmYi0+
d2lkdGggOiAwLAo+IC0JCQkgICBmYiA/IGZiLT5oZWlnaHQgOiAwLAo+IC0JCQkgICBEUk1fUkVD
VF9GUF9BUkcoJnNyYyksCj4gLQkJCSAgIERSTV9SRUNUX0FSRygmZHN0KSwKPiAtCQkJICAgcm90
X3N0cik7Cj4gKwkJCSAgIHBsYW5lX3R5cGUocGxhbmUtPmJhc2UudHlwZSkpOwo+ICsJCWludGVs
X3BsYW5lX3VhcGlfaW5mbyhtLCBwbGFuZSk7Cj4gKwkJaW50ZWxfcGxhbmVfaHdfaW5mbyhtLCBw
bGFuZSk7Cj4gIAl9Cj4gIH0KPiAgCj4gQEAgLTI2MzEsMjYgKzI2NTQsMzMgQEAgc3RhdGljIHZv
aWQgaW50ZWxfY3J0Y19pbmZvKHN0cnVjdCBzZXFfZmlsZSAqbSwgc3RydWN0IGludGVsX2NydGMg
KmNydGMpCj4gIAljb25zdCBzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqY3J0Y19zdGF0ZSA9Cj4g
IAkJdG9faW50ZWxfY3J0Y19zdGF0ZShjcnRjLT5iYXNlLnN0YXRlKTsKPiAgCj4gLQlzZXFfcHJp
bnRmKG0sICJbQ1JUQzolZDolc106IGFjdGl2ZT0lcywgKHNpemU9JWR4JWQpLCBkaXRoZXI9JXMs
IGJwcD0lZFxuIiwKPiAtCQkgICBjcnRjLT5iYXNlLmJhc2UuaWQsIGNydGMtPmJhc2UubmFtZSwK
PiAtCQkgICB5ZXNubyhjcnRjX3N0YXRlLT5ody5hY3RpdmUpLAo+IC0JCSAgIGNydGNfc3RhdGUt
PnBpcGVfc3JjX3csIGNydGNfc3RhdGUtPnBpcGVfc3JjX2gsCj4gLQkJICAgeWVzbm8oY3J0Y19z
dGF0ZS0+ZGl0aGVyKSwgY3J0Y19zdGF0ZS0+cGlwZV9icHApOwo+ICsJc2VxX3ByaW50ZihtLCAi
W0NSVEM6JWQ6JXNdOlxuIiwKPiArCQkgICBjcnRjLT5iYXNlLmJhc2UuaWQsIGNydGMtPmJhc2Uu
bmFtZSk7Cj4gIAo+IC0JaWYgKGNydGNfc3RhdGUtPmh3LmFjdGl2ZSkgewo+IC0JCWNvbnN0IHN0
cnVjdCBkcm1fZGlzcGxheV9tb2RlICptb2RlID0KPiAtCQkJJmNydGNfc3RhdGUtPmh3Lm1vZGU7
Cj4gKwlzZXFfcHJpbnRmKG0sICJcdHVhcGk6IGVuYWJsZT0lcywgYWN0aXZlPSVzLCBtb2RlPSIg
RFJNX01PREVfRk1UICJcbiIsCj4gKwkJICAgeWVzbm8oY3J0Y19zdGF0ZS0+dWFwaS5lbmFibGUp
LAo+ICsJCSAgIHllc25vKGNydGNfc3RhdGUtPnVhcGkuYWN0aXZlKSwKPiArCQkgICBEUk1fTU9E
RV9BUkcoJmNydGNfc3RhdGUtPnVhcGkubW9kZSkpOwo+ICsKPiArCWlmIChjcnRjX3N0YXRlLT5o
dy5lbmFibGUpIHsKPiAgCQlzdHJ1Y3QgaW50ZWxfZW5jb2RlciAqZW5jb2RlcjsKPiAgCj4gLQkJ
c2VxX3ByaW50ZihtLCAiXHRtb2RlOiAiIERSTV9NT0RFX0ZNVCAiXG4iLCBEUk1fTU9ERV9BUkco
bW9kZSkpOwo+ICsJCXNlcV9wcmludGYobSwgIlx0aHc6IGFjdGl2ZT0lcywgYWRqdXN0ZWRfbW9k
ZT0iIERSTV9NT0RFX0ZNVCAiXG4iLAo+ICsJCQkgICB5ZXNubyhjcnRjX3N0YXRlLT5ody5hY3Rp
dmUpLAo+ICsJCQkgICBEUk1fTU9ERV9BUkcoJmNydGNfc3RhdGUtPmh3LmFkanVzdGVkX21vZGUp
KTsKPiArCj4gKwkJc2VxX3ByaW50ZihtLCAiXHRwaXBlIHNyYyBzaXplPSVkeCVkLCBkaXRoZXI9
JXMsIGJwcD0lZFxuIiwKPiArCQkJICAgY3J0Y19zdGF0ZS0+cGlwZV9zcmNfdywgY3J0Y19zdGF0
ZS0+cGlwZV9zcmNfaCwKPiArCQkJICAgeWVzbm8oY3J0Y19zdGF0ZS0+ZGl0aGVyKSwgY3J0Y19z
dGF0ZS0+cGlwZV9icHApOwo+ICAKPiAgCQlmb3JfZWFjaF9lbmNvZGVyX29uX2NydGMoJmRldl9w
cml2LT5kcm0sICZjcnRjLT5iYXNlLCBlbmNvZGVyKQo+ICAJCQlpbnRlbF9lbmNvZGVyX2luZm8o
bSwgY3J0YywgZW5jb2Rlcik7Cj4gIAo+ICAJCWludGVsX3NjYWxlcl9pbmZvKG0sIGNydGMpOwo+
IC0JCWludGVsX3BsYW5lX2luZm8obSwgY3J0Yyk7Cj4gIAl9Cj4gIAo+ICsJaW50ZWxfcGxhbmVf
aW5mbyhtLCBjcnRjKTsKPiArCj4gIAlzZXFfcHJpbnRmKG0sICJcdHVuZGVycnVuIHJlcG9ydGlu
ZzogY3B1PSVzIHBjaD0lc1xuIiwKPiAgCQkgICB5ZXNubyghY3J0Yy0+Y3B1X2ZpZm9fdW5kZXJy
dW5fZGlzYWJsZWQpLAo+ICAJCSAgIHllc25vKCFjcnRjLT5wY2hfZmlmb191bmRlcnJ1bl9kaXNh
YmxlZCkpOwo+IC0tIAo+IDIuMjMuMAo+IAo+IF9fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fCj4gSW50ZWwtZ2Z4IG1haWxpbmcgbGlzdAo+IEludGVsLWdmeEBs
aXN0cy5mcmVlZGVza3RvcC5vcmcKPiBodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWls
bWFuL2xpc3RpbmZvL2ludGVsLWdmeApfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fXwpJbnRlbC1nZnggbWFpbGluZyBsaXN0CkludGVsLWdmeEBsaXN0cy5mcmVl
ZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5m
by9pbnRlbC1nZng=

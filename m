Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id BAB09F0725
	for <lists+intel-gfx@lfdr.de>; Tue,  5 Nov 2019 21:42:11 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 4F1236E9F8;
	Tue,  5 Nov 2019 20:42:09 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from us-smtp-1.mimecast.com (us-smtp-delivery-1.mimecast.com
 [205.139.110.120])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 424216E9F1
 for <intel-gfx@lists.freedesktop.org>; Tue,  5 Nov 2019 20:42:07 +0000 (UTC)
Received: from mail-wr1-f72.google.com (mail-wr1-f72.google.com
 [209.85.221.72]) (Using TLS) by relay.mimecast.com with ESMTP id
 us-mta-224-WGQafzZtPkuE1jx89lO7vg-1; Tue, 05 Nov 2019 15:42:02 -0500
Received: by mail-wr1-f72.google.com with SMTP id 7so13016853wrl.2
 for <intel-gfx@lists.freedesktop.org>; Tue, 05 Nov 2019 12:42:01 -0800 (PST)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:subject:to:references:from:message-id:date
 :user-agent:mime-version:in-reply-to:content-language
 :content-transfer-encoding;
 bh=/qPu/p+FjgMD+6VknRGsmBTolXaVQKFA5i/G8cOBUck=;
 b=ZaFszqdw6bjXRB9Sl+c+jo3buJdELHS1HZL2ToZ6q7SH/vOKYlBhpZmpa6Ikh3IzYj
 rp0rL1na5NtvtBGPG+Q9RF7rKvMCTYFvSiD+67/y/WlPDhrlWusYOiwcGNYIfgFBfU2f
 BaKWfqh1sPOpbbQklwEi5Hv5+0nePrZ3rhYcc0cJFdbIwFxiGVQ1Bk818mtlvN1JqrRj
 TB036UoHCNKs9Opek5H+EukltLQnW7kYWt7CNzVI63+HD7vUhqcD9o4BigKoaYUmhjD2
 QvMU1Nlgm9wVu0kRhOVIt96CFeMBKtKCARJwQh+xJbBl0Q6svtoLa3JLlo3k8NAcsA+5
 PyMA==
X-Gm-Message-State: APjAAAWtZ02tE0rdmQRHwrBUAPdVLIPcLB53GCTzM4vxzwmizC03nOG8
 c1C73sM93JDknmdrPS3bTFxUHPgmUEDfpictHWYK8lb/dBCg/TwWAeVDuhWNrZ800khv9G6LBgj
 YFo45kzodeEgpB24/piCM/V3Bf1JI
X-Received: by 2002:a1c:7f44:: with SMTP id a65mr750749wmd.19.1572986520133;
 Tue, 05 Nov 2019 12:42:00 -0800 (PST)
X-Google-Smtp-Source: APXvYqwvCuHpiRLxC1/zdsNibqGoUpV/Ng1pNpBVIMThvXHQ4K0ryqC/G1aZ3oNWQFLuvkoC9PxRzg==
X-Received: by 2002:a1c:7f44:: with SMTP id a65mr750730wmd.19.1572986519753;
 Tue, 05 Nov 2019 12:41:59 -0800 (PST)
Received: from shalem.localdomain
 (2001-1c00-0c14-2800-ec23-a060-24d5-2453.cable.dynamic.v6.ziggo.nl.
 [2001:1c00:c14:2800:ec23:a060:24d5:2453])
 by smtp.gmail.com with ESMTPSA id g133sm454186wme.42.2019.11.05.12.41.58
 (version=TLS1_3 cipher=TLS_AES_128_GCM_SHA256 bits=128/128);
 Tue, 05 Nov 2019 12:41:58 -0800 (PST)
To: Ville Syrjala <ville.syrjala@linux.intel.com>,
 intel-gfx@lists.freedesktop.org
References: <20191030190815.7359-1-ville.syrjala@linux.intel.com>
From: Hans de Goede <hdegoede@redhat.com>
Message-ID: <d76a7724-be92-f464-de57-48ee93d7b1d0@redhat.com>
Date: Tue, 5 Nov 2019 21:41:58 +0100
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:68.0) Gecko/20100101
 Thunderbird/68.2.0
MIME-Version: 1.0
In-Reply-To: <20191030190815.7359-1-ville.syrjala@linux.intel.com>
Content-Language: en-US
X-MC-Unique: WGQafzZtPkuE1jx89lO7vg-1
X-Mimecast-Spam-Score: 0
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=redhat.com; 
 s=mimecast20190719; t=1572986526;
 h=from:from:reply-to:subject:subject:date:date:message-id:message-id:
 to:to:cc:mime-version:mime-version:content-type:content-type:
 content-transfer-encoding:content-transfer-encoding:
 in-reply-to:in-reply-to:references:references;
 bh=DezN6X1NRdALeXZm0UfquZiiLgWWMEodcj2BkJ1UsXs=;
 b=PeUmxqF6pqCd/ZKVsk/KIc3exuScZo10v6OTkCoiRqt47x6fSYgV23RCdGgsjIbVgIaPxt
 OAMA58XJu5RYDZCuvOx2hZyGSsMBnHi0aOkyMO5Q+7gM9XIPv7a0SH80xDzrAtzHCDIjDv
 pek5DEtEbCgyGIFypZERBnLoQJO/WNM=
Subject: Re: [Intel-gfx] [PATCH] drm/i915: Preload LUTs if the hw isn't
 currently using them
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

SGksCgpPbiAzMC0xMC0yMDE5IDIwOjA4LCBWaWxsZSBTeXJqYWxhIHdyb3RlOgo+IEZyb206IFZp
bGxlIFN5cmrDpGzDpCA8dmlsbGUuc3lyamFsYUBsaW51eC5pbnRlbC5jb20+Cj4gCj4gVGhlIExV
VHMgYXJlIHNpbmdsZSBidWZmZXJlZCBzbyBpbiBvcmRlciB0byBwcm9ncmFtIHRoZW0gd2l0aG91
dAo+IHRlYXJpbmcgd2UnZCBoYXZlIHRvIGRvIGl0IGR1cmluZyB2YmxhbmsgKGFjdHVhbGx5IHRv
IGJlIDEwMCUKPiBlZmZlY3RpdmUgaXQgaGFzIHRvIGhhcHBlbiBiZXR3ZWVuIHN0YXJ0IG9mIHZi
bGFuayBhbmQgZnJhbWUgc3RhcnQpLgo+IFdlIGhhdmUgbm8gcHJvcGVyIG1lY2hhbmlzbSBmb3Ig
dGhhdCBhdCB0aGUgbW9tZW50IHNvIHdlIGp1c3QKPiBkZWZlciBsb2FkaW5nIHRoZW0gYWZ0ZXIg
dGhlIHZibGFuayB3YWl0cyBoYXZlIGhhcHBlbmVkLiBUaGF0Cj4gaXMgbm90IHF1aXRlIHN1ZmZp
Y2llbnQgKGVzcGVjaWFsbHkgd2hlbiBjb21taXR0aW5nIG11bHRpcGxlIHBpcGVzCj4gd2hvc2Ug
dmJsYW5rcyBkb24ndCBsaW5lIHVwKSBzbyB0aGUgTFVUIGxvYWQgd2lsbCBvZnRlbiBsZWFrIGlu
dG8KPiB0aGUgZm9sbG93aW5nIGZyYW1lIGNhdXNpbmcgdGVhcmluZy4KPiAKPiBIb3dldmVyIGlu
IGNhc2UgdGhlIGhhcmR3YXJlIHdhc24ndCBwcmV2aW91c2x5IHVzaW5nIHRoZSBMVVQgd2UKPiBj
YW4gcHJlbG9hZCBpdCBiZWZvcmUgc2V0dGluZyB0aGUgZW5hYmxlIGJpdCAod2hpY2ggaXMgZG91
YmxlCj4gYnVmZmVyZWQgc28gd29uJ3QgdGVhcikuIExldCdzIGRldGVybWluZSBpZiB3ZSBjYW4g
ZG8gc3VjaAo+IHByZWxvYWRpbmcgYW5kIG1ha2UgaXQgaGFwcGVuLiBTbGlnaHQgdmFyaWF0aW9u
IGJldHdlZW4gdGhlCj4gaGFyZHdhcmUgcmVxdWlyZXMgc29tZSBwbGF0Zm9ybXMgc3BlY2lmaWNz
IGluIHRoZSBjaGVja3MuCj4gCj4gSGFucyBpcyBzZWVpbmcgdWdseSBjb2xvcmVkIGZsYXNoIG9u
IFZMVi9DSFYgbWFjY2hpbmVzIChHUEQgd2luCj4gYW5kIEFzdXMgVDEwMEhBKSB3aGVuIHRoZSBn
YW1tYSBMVVQgZ2V0cyBsb2FkZWQgZm9yIHRoZSBmaXJzdAo+IHRpbWUgYXMgdGhlIEJJT1MgaGFz
IGxlZnQgc29tZSBqdW5rIGluIHRoZSBMVVQgbWVtb3J5Lgo+IAo+IENjOiBIYW5zIGRlIEdvZWRl
IDxoZGVnb2VkZUByZWRoYXQuY29tPgo+IEZpeGVzOiAwNTFhNmQ4ZDNjYTAgKCJkcm0vaTkxNTog
TW92ZSBMVVQgcHJvZ3JhbW1pbmcgdG8gaGFwcGVuIGFmdGVyIHZibGFuayB3YWl0cyIpCj4gU2ln
bmVkLW9mZi1ieTogVmlsbGUgU3lyasOkbMOkIDx2aWxsZS5zeXJqYWxhQGxpbnV4LmludGVsLmNv
bT4KClRoYW5rIHlvdSB2ZXJ5IG11Y2ggZm9yIHRoaXMgZml4LgoKSSd2ZSBnaXZlbiBpdCBhIHRl
c3QgcnVuIGFuZCBpdCBmaXhlcyB0aGUgZmxhc2guIFRoZSBjb2RlIGFsc28gbG9va3MgZ29vZCB0
byBtZToKClRlc3RlZC1ieTogSGFucyBkZSBHb2VkZSA8aGRlZ29lZGVAcmVkaGF0LmNvbT4KUmV2
aWV3ZWQtYnk6IEhhbnMgZGUgR29lZGUgPGhkZWdvZWRlQHJlZGhhdC5jb20+CgpSZWdhcmRzLAoK
SGFucwoKCj4gLS0tCj4gICBkcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2F0b21p
Yy5jICAgfCAgMSArCj4gICBkcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2NvbG9y
LmMgICAgfCA2MSArKysrKysrKysrKysrKysrKysrCj4gICBkcml2ZXJzL2dwdS9kcm0vaTkxNS9k
aXNwbGF5L2ludGVsX2Rpc3BsYXkuYyAgfCAgNiArKwo+ICAgLi4uL2RybS9pOTE1L2Rpc3BsYXkv
aW50ZWxfZGlzcGxheV90eXBlcy5oICAgIHwgIDEgKwo+ICAgNCBmaWxlcyBjaGFuZ2VkLCA2OSBp
bnNlcnRpb25zKCspCj4gCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3Bs
YXkvaW50ZWxfYXRvbWljLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2F0
b21pYy5jCj4gaW5kZXggOWNkNmQyMzQ4YTFlLi5jMjg3NWIxMGFkZjkgMTAwNjQ0Cj4gLS0tIGEv
ZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9hdG9taWMuYwo+ICsrKyBiL2RyaXZl
cnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfYXRvbWljLmMKPiBAQCAtMjAwLDYgKzIwMCw3
IEBAIGludGVsX2NydGNfZHVwbGljYXRlX3N0YXRlKHN0cnVjdCBkcm1fY3J0YyAqY3J0YykKPiAg
IAljcnRjX3N0YXRlLT51cGRhdGVfd21fcHJlID0gZmFsc2U7Cj4gICAJY3J0Y19zdGF0ZS0+dXBk
YXRlX3dtX3Bvc3QgPSBmYWxzZTsKPiAgIAljcnRjX3N0YXRlLT5maWZvX2NoYW5nZWQgPSBmYWxz
ZTsKPiArCWNydGNfc3RhdGUtPnByZWxvYWRfbHV0cyA9IGZhbHNlOwo+ICAgCWNydGNfc3RhdGUt
PndtLm5lZWRfcG9zdHZibF91cGRhdGUgPSBmYWxzZTsKPiAgIAljcnRjX3N0YXRlLT5mYl9iaXRz
ID0gMDsKPiAgIAljcnRjX3N0YXRlLT51cGRhdGVfcGxhbmVzID0gMDsKPiBkaWZmIC0tZ2l0IGEv
ZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9jb2xvci5jIGIvZHJpdmVycy9ncHUv
ZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9jb2xvci5jCj4gaW5kZXggZmE0NGViNzNkMDg4Li5kMzM2
NzZlODIxNDAgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRl
bF9jb2xvci5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9jb2xv
ci5jCj4gQEAgLTEwMjIsNiArMTAyMiw1NSBAQCB2b2lkIGludGVsX2NvbG9yX2NvbW1pdChjb25z
dCBzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqY3J0Y19zdGF0ZSkKPiAgIAlkZXZfcHJpdi0+ZGlz
cGxheS5jb2xvcl9jb21taXQoY3J0Y19zdGF0ZSk7Cj4gICB9Cj4gICAKPiArc3RhdGljIGJvb2wg
aW50ZWxfY2FuX3ByZWxvYWRfbHV0cyhjb25zdCBzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqbmV3
X2NydGNfc3RhdGUpCj4gK3sKPiArCXN0cnVjdCBpbnRlbF9jcnRjICpjcnRjID0gdG9faW50ZWxf
Y3J0YyhuZXdfY3J0Y19zdGF0ZS0+YmFzZS5jcnRjKTsKPiArCXN0cnVjdCBpbnRlbF9hdG9taWNf
c3RhdGUgKnN0YXRlID0KPiArCQl0b19pbnRlbF9hdG9taWNfc3RhdGUobmV3X2NydGNfc3RhdGUt
PmJhc2Uuc3RhdGUpOwo+ICsJY29uc3Qgc3RydWN0IGludGVsX2NydGNfc3RhdGUgKm9sZF9jcnRj
X3N0YXRlID0KPiArCQlpbnRlbF9hdG9taWNfZ2V0X29sZF9jcnRjX3N0YXRlKHN0YXRlLCBjcnRj
KTsKPiArCj4gKwlyZXR1cm4gIW9sZF9jcnRjX3N0YXRlLT5iYXNlLmdhbW1hX2x1dCAmJgo+ICsJ
CSFvbGRfY3J0Y19zdGF0ZS0+YmFzZS5kZWdhbW1hX2x1dDsKPiArfQo+ICsKPiArc3RhdGljIGJv
b2wgY2h2X2Nhbl9wcmVsb2FkX2x1dHMoY29uc3Qgc3RydWN0IGludGVsX2NydGNfc3RhdGUgKm5l
d19jcnRjX3N0YXRlKQo+ICt7Cj4gKwlzdHJ1Y3QgaW50ZWxfY3J0YyAqY3J0YyA9IHRvX2ludGVs
X2NydGMobmV3X2NydGNfc3RhdGUtPmJhc2UuY3J0Yyk7Cj4gKwlzdHJ1Y3QgaW50ZWxfYXRvbWlj
X3N0YXRlICpzdGF0ZSA9Cj4gKwkJdG9faW50ZWxfYXRvbWljX3N0YXRlKG5ld19jcnRjX3N0YXRl
LT5iYXNlLnN0YXRlKTsKPiArCWNvbnN0IHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpvbGRfY3J0
Y19zdGF0ZSA9Cj4gKwkJaW50ZWxfYXRvbWljX2dldF9vbGRfY3J0Y19zdGF0ZShzdGF0ZSwgY3J0
Yyk7Cj4gKwo+ICsJLyoKPiArCSAqIENHTV9QSVBFX01PREUgaXMgaXRzZWxmIHNpbmdsZSBidWZm
ZXJlZC4gV2UnZCBoYXZlIHRvCj4gKwkgKiBzb21laG93IHNwbGl0IGl0IG91dCBmcm9tIGNodl9s
b2FkX2x1dHMoKSBpZiB3ZSB3YW50ZWQKPiArCSAqIHRoZSBhYmlsaXR5IHRvIHByZWxvYWQgdGhl
IEdDTSBMVVRzL0NTQyB3aXRob3V0IHRlYXJpbmcuCj4gKwkgKi8KPiArCWlmIChvbGRfY3J0Y19z
dGF0ZS0+Y2dtX21vZGUgfHwgbmV3X2NydGNfc3RhdGUtPmNnbV9tb2RlKQo+ICsJCXJldHVybiBm
YWxzZTsKPiArCj4gKwlyZXR1cm4gIW9sZF9jcnRjX3N0YXRlLT5iYXNlLmdhbW1hX2x1dDsKPiAr
fQo+ICsKPiArc3RhdGljIGJvb2wgZ2xrX2Nhbl9wcmVsb2FkX2x1dHMoY29uc3Qgc3RydWN0IGlu
dGVsX2NydGNfc3RhdGUgKm5ld19jcnRjX3N0YXRlKQo+ICt7Cj4gKwlzdHJ1Y3QgaW50ZWxfY3J0
YyAqY3J0YyA9IHRvX2ludGVsX2NydGMobmV3X2NydGNfc3RhdGUtPmJhc2UuY3J0Yyk7Cj4gKwlz
dHJ1Y3QgaW50ZWxfYXRvbWljX3N0YXRlICpzdGF0ZSA9Cj4gKwkJdG9faW50ZWxfYXRvbWljX3N0
YXRlKG5ld19jcnRjX3N0YXRlLT5iYXNlLnN0YXRlKTsKPiArCWNvbnN0IHN0cnVjdCBpbnRlbF9j
cnRjX3N0YXRlICpvbGRfY3J0Y19zdGF0ZSA9Cj4gKwkJaW50ZWxfYXRvbWljX2dldF9vbGRfY3J0
Y19zdGF0ZShzdGF0ZSwgY3J0Yyk7Cj4gKwo+ICsJLyoKPiArCSAqIFRoZSBoYXJkd2FyZSBkZWdh
bW1hIGlzIGFjdGl2ZSB3aGVuZXZlciB0aGUgcGlwZQo+ICsJICogQ1NDIGlzIGFjdGl2ZS4gVGh1
cyBldmVuIGlmIHRoZSBvbGQgc3RhdGUgaGFzIG5vCj4gKwkgKiBzb2Z0d2FyZSBkZWdhbW1hIHdl
IG5lZWQgdG8gYXZvaWQgY2xvYmJlcmluZyB0aGUKPiArCSAqIGxpbmVhciBoYXJkd2FyZSBkZWdh
bW1hIG1pZCBzY2Fub3V0Lgo+ICsJICovCj4gKwlyZXR1cm4gIW9sZF9jcnRjX3N0YXRlLT5jc2Nf
ZW5hYmxlICYmCj4gKwkJIW9sZF9jcnRjX3N0YXRlLT5iYXNlLmdhbW1hX2x1dDsKPiArfQo+ICsK
PiAgIGludCBpbnRlbF9jb2xvcl9jaGVjayhzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqY3J0Y19z
dGF0ZSkKPiAgIHsKPiAgIAlzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYgPSB0b19p
OTE1KGNydGNfc3RhdGUtPmJhc2UuY3J0Yy0+ZGV2KTsKPiBAQCAtMTE2NSw2ICsxMjE0LDggQEAg
c3RhdGljIGludCBpOXh4X2NvbG9yX2NoZWNrKHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpjcnRj
X3N0YXRlKQo+ICAgCWlmIChyZXQpCj4gICAJCXJldHVybiByZXQ7Cj4gICAKPiArCWNydGNfc3Rh
dGUtPnByZWxvYWRfbHV0cyA9IGludGVsX2Nhbl9wcmVsb2FkX2x1dHMoY3J0Y19zdGF0ZSk7Cj4g
Kwo+ICAgCXJldHVybiAwOwo+ICAgfQo+ICAgCj4gQEAgLTEyMTcsNiArMTI2OCw4IEBAIHN0YXRp
YyBpbnQgY2h2X2NvbG9yX2NoZWNrKHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpjcnRjX3N0YXRl
KQo+ICAgCWlmIChyZXQpCj4gICAJCXJldHVybiByZXQ7Cj4gICAKPiArCWNydGNfc3RhdGUtPnBy
ZWxvYWRfbHV0cyA9IGNodl9jYW5fcHJlbG9hZF9sdXRzKGNydGNfc3RhdGUpOwo+ICsKPiAgIAly
ZXR1cm4gMDsKPiAgIH0KPiAgIAo+IEBAIC0xMjcxLDYgKzEzMjQsOCBAQCBzdGF0aWMgaW50IGls
a19jb2xvcl9jaGVjayhzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqY3J0Y19zdGF0ZSkKPiAgIAlp
ZiAocmV0KQo+ICAgCQlyZXR1cm4gcmV0Owo+ICAgCj4gKwljcnRjX3N0YXRlLT5wcmVsb2FkX2x1
dHMgPSBpbnRlbF9jYW5fcHJlbG9hZF9sdXRzKGNydGNfc3RhdGUpOwo+ICsKPiAgIAlyZXR1cm4g
MDsKPiAgIH0KPiAgIAo+IEBAIC0xMzI4LDYgKzEzODMsOCBAQCBzdGF0aWMgaW50IGl2Yl9jb2xv
cl9jaGVjayhzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqY3J0Y19zdGF0ZSkKPiAgIAlpZiAocmV0
KQo+ICAgCQlyZXR1cm4gcmV0Owo+ICAgCj4gKwljcnRjX3N0YXRlLT5wcmVsb2FkX2x1dHMgPSBp
bnRlbF9jYW5fcHJlbG9hZF9sdXRzKGNydGNfc3RhdGUpOwo+ICsKPiAgIAlyZXR1cm4gMDsKPiAg
IH0KPiAgIAo+IEBAIC0xMzY2LDYgKzE0MjMsOCBAQCBzdGF0aWMgaW50IGdsa19jb2xvcl9jaGVj
ayhzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqY3J0Y19zdGF0ZSkKPiAgIAlpZiAocmV0KQo+ICAg
CQlyZXR1cm4gcmV0Owo+ICAgCj4gKwljcnRjX3N0YXRlLT5wcmVsb2FkX2x1dHMgPSBnbGtfY2Fu
X3ByZWxvYWRfbHV0cyhjcnRjX3N0YXRlKTsKPiArCj4gICAJcmV0dXJuIDA7Cj4gICB9Cj4gICAK
PiBAQCAtMTQxNSw2ICsxNDc0LDggQEAgc3RhdGljIGludCBpY2xfY29sb3JfY2hlY2soc3RydWN0
IGludGVsX2NydGNfc3RhdGUgKmNydGNfc3RhdGUpCj4gICAKPiAgIAljcnRjX3N0YXRlLT5jc2Nf
bW9kZSA9IGljbF9jc2NfbW9kZShjcnRjX3N0YXRlKTsKPiAgIAo+ICsJY3J0Y19zdGF0ZS0+cHJl
bG9hZF9sdXRzID0gaW50ZWxfY2FuX3ByZWxvYWRfbHV0cyhjcnRjX3N0YXRlKTsKPiArCj4gICAJ
cmV0dXJuIDA7Cj4gICB9Cj4gICAKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUv
ZGlzcGxheS9pbnRlbF9kaXNwbGF5LmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2lu
dGVsX2Rpc3BsYXkuYwo+IGluZGV4IGEyMzM3NTYyMTE4NS4uZGQ2NTViYTM1NjBjIDEwMDY0NAo+
IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheS5jCj4gKysr
IGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5LmMKPiBAQCAtMTQy
MDEsNiArMTQyMDEsMTEgQEAgc3RhdGljIHZvaWQgaW50ZWxfdXBkYXRlX2NydGMoc3RydWN0IGlu
dGVsX2NydGMgKmNydGMsCj4gICAJCS8qIHZibGFua3Mgd29yayBhZ2FpbiwgcmUtZW5hYmxlIHBp
cGUgQ1JDLiAqLwo+ICAgCQlpbnRlbF9jcnRjX2VuYWJsZV9waXBlX2NyYyhjcnRjKTsKPiAgIAl9
IGVsc2Ugewo+ICsJCWlmIChuZXdfY3J0Y19zdGF0ZS0+cHJlbG9hZF9sdXRzICYmCj4gKwkJICAg
IChuZXdfY3J0Y19zdGF0ZS0+YmFzZS5jb2xvcl9tZ210X2NoYW5nZWQgfHwKPiArCQkgICAgIG5l
d19jcnRjX3N0YXRlLT51cGRhdGVfcGlwZSkpCj4gKwkJCWludGVsX2NvbG9yX2xvYWRfbHV0cyhu
ZXdfY3J0Y19zdGF0ZSk7Cj4gKwo+ICAgCQlpbnRlbF9wcmVfcGxhbmVfdXBkYXRlKG9sZF9jcnRj
X3N0YXRlLCBuZXdfY3J0Y19zdGF0ZSk7Cj4gICAKPiAgIAkJaWYgKG5ld19jcnRjX3N0YXRlLT51
cGRhdGVfcGlwZSkKPiBAQCAtMTQ3MTMsNiArMTQ3MTgsNyBAQCBzdGF0aWMgdm9pZCBpbnRlbF9h
dG9taWNfY29tbWl0X3RhaWwoc3RydWN0IGludGVsX2F0b21pY19zdGF0ZSAqc3RhdGUpCj4gICAJ
Zm9yX2VhY2hfbmV3X2ludGVsX2NydGNfaW5fc3RhdGUoc3RhdGUsIGNydGMsIG5ld19jcnRjX3N0
YXRlLCBpKSB7Cj4gICAJCWlmIChuZXdfY3J0Y19zdGF0ZS0+YmFzZS5hY3RpdmUgJiYKPiAgIAkJ
ICAgICFuZWVkc19tb2Rlc2V0KG5ld19jcnRjX3N0YXRlKSAmJgo+ICsJCSAgICAhbmV3X2NydGNf
c3RhdGUtPnByZWxvYWRfbHV0cyAmJgo+ICAgCQkgICAgKG5ld19jcnRjX3N0YXRlLT5iYXNlLmNv
bG9yX21nbXRfY2hhbmdlZCB8fAo+ICAgCQkgICAgIG5ld19jcnRjX3N0YXRlLT51cGRhdGVfcGlw
ZSkpCj4gICAJCQlpbnRlbF9jb2xvcl9sb2FkX2x1dHMobmV3X2NydGNfc3RhdGUpOwo+IGRpZmYg
LS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXlfdHlwZXMu
aCBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheV90eXBlcy5oCj4g
aW5kZXggNDAxODRlODIzYzg0Li5hZTMzMjExNWRhZWUgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9n
cHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5X3R5cGVzLmgKPiArKysgYi9kcml2ZXJz
L2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXlfdHlwZXMuaAo+IEBAIC03NzUsNiAr
Nzc1LDcgQEAgc3RydWN0IGludGVsX2NydGNfc3RhdGUgewo+ICAgCWJvb2wgZGlzYWJsZV9jeHNy
Owo+ICAgCWJvb2wgdXBkYXRlX3dtX3ByZSwgdXBkYXRlX3dtX3Bvc3Q7IC8qIHdhdGVybWFya3Mg
YXJlIHVwZGF0ZWQgKi8KPiAgIAlib29sIGZpZm9fY2hhbmdlZDsgLyogRklGTyBzcGxpdCBpcyBj
aGFuZ2VkICovCj4gKwlib29sIHByZWxvYWRfbHV0czsKPiAgIAo+ICAgCS8qIFBpcGUgc291cmNl
IHNpemUgKGllLiBwYW5lbCBmaXR0ZXIgaW5wdXQgc2l6ZSkKPiAgIAkgKiBBbGwgcGxhbmVzIHdp
bGwgYmUgcG9zaXRpb25lZCBpbnNpZGUgdGhpcyBzcGFjZSwKPiAKCl9fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCkludGVsLWdmeCBtYWlsaW5nIGxpc3QKSW50
ZWwtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9y
Zy9tYWlsbWFuL2xpc3RpbmZvL2ludGVsLWdmeA==

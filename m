Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id DCD7199750
	for <lists+intel-gfx@lfdr.de>; Thu, 22 Aug 2019 16:50:40 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 5300E6E4F8;
	Thu, 22 Aug 2019 14:50:39 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mail-ed1-x544.google.com (mail-ed1-x544.google.com
 [IPv6:2a00:1450:4864:20::544])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 353F76E4F8
 for <intel-gfx@lists.freedesktop.org>; Thu, 22 Aug 2019 14:50:37 +0000 (UTC)
Received: by mail-ed1-x544.google.com with SMTP id z51so8296939edz.13
 for <intel-gfx@lists.freedesktop.org>; Thu, 22 Aug 2019 07:50:37 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id:in-reply-to
 :references:mime-version:content-transfer-encoding;
 bh=mNvarGM4cBUzSRVeydoiHDGdjfOAF/fmkaXUCRxtFdk=;
 b=bAVs47osnXX090Ocb4ZrCRTmygk+K2s5QA6TPIC3N10bLagbjYwVJo5Hd5EEc2apDY
 twzB/YSW6AciOSQVankWAwdXcQkvli72i+K7ZBBh0EEi8HLcx1bDJJO4C80VXY0l3pb7
 pD8YHthh8WRsO5AeuYHokm/EzPtmQPeo+0t+sLmYJgmZ8AX0JW5J7qQ2vxrkZPEEdS9N
 cl44M2W/hJegISjbhAvXdVT8N7yDfdqd/1fIY6ff8JoX1kylG9HGSbvnlZKq4HDpRGoS
 DP0vy1uXVNX5rn+3QfdG+QkcylutKm+TFR+cbvW6ZLhLgkNf51MDKmd80P+OQXBa+hRY
 9zrg==
X-Gm-Message-State: APjAAAW5e9GI2Pe86V8R044TvZL+5TuDNpL5xLjr9VFCRjSgOD9Ulo/I
 +wnikCzqHAkGbwWycbTLXNa7rRjpwfequw==
X-Google-Smtp-Source: APXvYqydQ02RTgYdadFK6YhUVfKO9GxV8m4Jg70KrEDRicetcpuH9MHGhoaozAgvvsqXG2pNyLDIug==
X-Received: by 2002:a17:906:f211:: with SMTP id
 gt17mr35455358ejb.263.1566485435251; 
 Thu, 22 Aug 2019 07:50:35 -0700 (PDT)
Received: from phenom.ffwll.local (212-51-149-96.fiber7.init7.net.
 [212.51.149.96])
 by smtp.gmail.com with ESMTPSA id b18sm3689726eju.0.2019.08.22.07.50.34
 (version=TLS1_3 cipher=TLS_AES_256_GCM_SHA384 bits=256/256);
 Thu, 22 Aug 2019 07:50:34 -0700 (PDT)
From: Daniel Vetter <daniel.vetter@ffwll.ch>
To: Intel Graphics Development <intel-gfx@lists.freedesktop.org>
Date: Thu, 22 Aug 2019 16:50:27 +0200
Message-Id: <20190822145027.12572-1-daniel.vetter@ffwll.ch>
X-Mailer: git-send-email 2.23.0.rc1
In-Reply-To: <20190820081951.25053-1-daniel.vetter@ffwll.ch>
References: <20190820081951.25053-1-daniel.vetter@ffwll.ch>
MIME-Version: 1.0
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=ffwll.ch; s=google;
 h=from:to:cc:subject:date:message-id:in-reply-to:references
 :mime-version:content-transfer-encoding;
 bh=mNvarGM4cBUzSRVeydoiHDGdjfOAF/fmkaXUCRxtFdk=;
 b=fv/iCbY6RM9IvU1NuBLS5qgvIkdL4iO2T6IR6bEfCyqv4A7meq6czfioqP6TDJ5YfA
 Cs6RpwUdvCilqBQ1bDXzJrBouRTdj0JjRVvIgz5sZKh8KJ7wyIWC0cncQ6ULwTnCxnnB
 hCl7DGI0fWfRMGsT2129tsKVany2ZnZ9ed/yk=
Subject: [Intel-gfx] [PATCH] drm/i915: Switch obj->mm.lock lockdep
 annotations on its head
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: Daniel Vetter <daniel.vetter@ffwll.ch>,
 Daniel Vetter <daniel.vetter@intel.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

VGhlIHRyb3VibGUgd2l0aCBoYXZpbmcgYSBwbGFpbiBuZXN0aW5nIGZsYWcgZm9yIGxvY2tzIHdo
aWNoIGRvIG5vdApuYXR1cmFsbHkgbmVzdCAodW5saWtlIGJsb2NrIGRldmljZXMgYW5kIHRoZWly
IHBhcnRpdGlvbnMsIHdoaWNoIGlzCnRoZSBvcmlnaW5hbCBtb3RpdmF0aW9uIGZvciBuZXN0aW5n
IGxldmVscykgaXMgdGhhdCBsb2NrZGVwIHdpbGwKbmV2ZXIgc3BvdCBhIHRydWUgZGVhZGxvY2sg
aWYgeW91IHNjcmV3IHVwLgoKVGhpcyBwYXRjaCBpcyBhbiBhdHRlbXB0IGF0IHRyeWluZyBiZXR0
ZXIsIGJ5IGhpZ2hsaWdodGluZyBhIGJpdCBtb3JlCnRoZSBhY3R1YWwgbmF0dXJlIG9mIHRoZSBu
ZXN0aW5nIHRoYXQncyBnb2luZyBvbi4gRXNzZW50aWFsbHkgd2UgaGF2ZQp0d28ga2luZHMgb2Yg
b2JqZWN0czoKCi0gb2JqZWN0cyB3aXRob3V0IHBhZ2VzIGFsbG9jYXRlZCwgd2hpY2ggY2Fubm90
IGJlIG9uIGFueSBscnUgYW5kIGFyZQogIGhlbmNlIGluYWNjZXNzaWJsZSB0byB0aGUgc2hyaW5r
ZXIuCgotIG9iamVjdHMgd2hpY2ggaGF2ZSBwYWdlcyBhbGxvY2F0ZWQsIHdoaWNoIGFyZSBvbiBh
biBscnUsIGFuZCB3aGljaAogIHRoZSBzaHJpbmtlciBjYW4gZGVjaWRlIHRvIHRocm93IG91dC4K
CkZvciB0aGUgZm9ybWVyIHR5cGUgb2Ygb2JqZWN0LCBtZW1vcnkgYWxsY29hdGlvbnMgd2hpbGUg
aG9sZGluZwpvYmotPm1tLmxvY2sgYXJlIHBlcm1pc3NpYmxlLiBGb3IgdGhlIGxhdHRlciB0aGV5
IGFyZSBub3QuIEFuZApnZXQvcHV0X3BhZ2VzIHRyYW5zaXRpb25zIGJldHdlZW4gdGhlIHR3byB0
eXBlcyBvZiBvYmplY3RzLgoKVGhpcyBpcyBzdGlsbCBub3QgZW50aXJlbHkgZm9vbC1wcm9vZiBz
aW5jZSB0aGUgcnVsZXMgbWlnaHQgY2hhbmNlLgpCdXQgYXMgbG9uZyBhcyB3ZSBydW4gc3VjaCBh
IGNvZGUgZXZlciBhdCBydW50aW1lIGxvY2tkZXAgc2hvdWxkIGJlCmFibGUgdG8gb2JzZXJ2ZSB0
aGUgaW5jb25zaXN0ZW5jeSBhbmQgY29tcGxhaW4gKGxpa2Ugd2l0aCBhbnkgb3RoZXIKbG9ja2Rl
cCBjbGFzcyB0aGF0IHdlJ3ZlIHNwbGl0IHVwIGluIG11bHRpcGxlIGNsYXNzZXMpLiBCdXQgdGhl
cmUgYXJlCmEgZmV3IGNsZWFyIGJlbmVmaXRzOgoKLSBXZSBjYW4gZHJvcCB0aGUgbmVzdGluZyBm
bGFnIHBhcmFtZXRlciBmcm9tCiAgX19pOTE1X2dlbV9vYmplY3RfcHV0X3BhZ2VzLCBiZWNhdXNl
IHRoYXQgZnVuY3Rpb24gYnkgZGVmaW5pdGlvbiBpcwogIG5ldmVyIGdvaW5nIGFsbG9jYXRlIG1l
bW9yeSwgYW5kIGNhbGxpbmcgaXQgb24gYW4gb2JqZWN0IHdoaWNoCiAgZG9lc24ndCBoYXZlIGl0
cyBwYWdlcyBhbGxvY2F0ZWQgd291bGQgYmUgYSBidWcuCgotIFdlIHN0cmljdGx5IGNhdGNoIG1v
cmUgYnVncywgc2luY2UgdGhlcmUncyBub3Qgb25seSBvbmUgcGxhY2UgaW4gdGhlCiAgZW50aXJl
IHRyZWUgd2hpY2ggaXMgYW5ub3RhdGVkIHdpdGggdGhlIHNwZWNpYWwgY2xhc3MuIEFsbCB0aGUK
ICBvdGhlciBwbGFjZXMgdGhhdCBoYWQgZXhwbGljaXQgbG9ja2RlcCBuZXN0aW5nIGFubm90YXRp
b25zIHdlJ3JlIG5vdwogIGdvaW5nIHRvIGxlYXZlIHVwIHRvIGxvY2tkZXAgYWdhaW4uCgotIFNw
ZWNpZmljYWxseSB0aGlzIGNhdGNoZXMgc3R1ZmYgbGlrZSBjYWxsaW5nIGdldF9wYWdlcyBmcm9t
CiAgcHV0X3BhZ2VzICh3aGljaCBpc24ndCByZWFsbHkgYSBnb29kIGlkZWEsIGlmIHdlIGNhbiBj
YWxsIHB1dF9wYWdlcwogIHNvIGNvdWxkIHRoZSBzaHJpbmtlcikuIEkndmUgc2VlbiBwYXRjaGVz
IGRvIGV4YWN0bHkgdGhhdC4KCk9mIGNvdXJzZSBJIGZ1bGx5IGV4cGVjdCBDSSB3aWxsIHNob3cg
bWUgZm9yIHRoZSBmb29sIEkgYW0gd2l0aCB0aGlzCm9uZSBoZXJlIDotKQoKdjI6IFRoZXJlIGNh
biBvbmx5IGJlIG9uZSAobG9ja2RlcCBvbmx5IGhhcyBhIGNhY2hlIGZvciB0aGUgZmlyc3QKc3Vi
Y2xhc3MsIG5vdCBmb3IgZGVlcGVyIG9uZXMsIGFuZCB3ZSBkb24ndCB3YW50IHRvIG1ha2UgdGhl
c2UgbG9ja3MKZXZlbiBzbG93ZXIpLiBTdGlsbCBzZXBhcmF0ZSBlbnVtcyBmb3IgYmV0dGVyIGRv
Y3VtZW50YXRpb24uCgpSZWFsIGZpeDogZG9uIGZvcmdldCBhYm91dCBwaHlzIG9ianMgYW5kIHBp
bl9tYXAoKSwgYW5kIGZpeCB0aGUKc2hyaW5rZXIgdG8gaGF2ZSB0aGUgcmlnaHQgYW5ub3RhdGlv
bnMgLi4uIHNpbGx5IG1lLgoKdjM6IEZvcmdvdCB1c2VydHB0ciB0b28gLi4uCgp2NDogSW1wcm92
ZSBjb21tZW50IGZvciBwYWdlc19waW5fY291bnQsIGRyb3AgdGhlIElNUE9SVEFOVCBjb21tZW50
CmFuZCBpbnN0ZWFkIHByaW1lIGxvY2tkZXAgKENocmlzKS4KCnY1OiBBcHBlYXNlIGNoZWNrcGF0
Y2gsIG5vIGRvdWJsZSBlbXB0eSBsaW5lcyAoQ2hyaXMpCgpDYzogQ2hyaXMgV2lsc29uIDxjaHJp
c0BjaHJpcy13aWxzb24uY28udWs+CkNjOiAiVGFuZywgQ1EiIDxjcS50YW5nQGludGVsLmNvbT4K
Q2M6IFR2cnRrbyBVcnN1bGluIDx0dnJ0a28udXJzdWxpbkBpbnRlbC5jb20+CkNjOiBKb29uYXMg
TGFodGluZW4gPGpvb25hcy5sYWh0aW5lbkBsaW51eC5pbnRlbC5jb20+ClJldmlld2VkLWJ5OiBD
aHJpcyBXaWxzb24gPGNocmlzQGNocmlzLXdpbHNvbi5jby51az4KU2lnbmVkLW9mZi1ieTogRGFu
aWVsIFZldHRlciA8ZGFuaWVsLnZldHRlckBpbnRlbC5jb20+Ci0tLQogZHJpdmVycy9ncHUvZHJt
L2k5MTUvZ2VtL2k5MTVfZ2VtX29iamVjdC5jICAgICAgIHwgMTIgKysrKysrKysrKystCiBkcml2
ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fb2JqZWN0LmggICAgICAgfCAxNiArKysrKysr
KysrKysrLS0tCiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fb2JqZWN0X3R5cGVz
LmggfCAgNiArKysrKy0KIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9wYWdlcy5j
ICAgICAgICB8ICA5ICsrKystLS0tLQogZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2Vt
X3BoeXMuYyAgICAgICAgIHwgIDIgKy0KIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dl
bV9zaHJpbmtlci5jICAgICB8ICA1ICsrLS0tCiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkx
NV9nZW1fdXNlcnB0ci5jICAgICAgfCAgNCArKy0tCiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0v
c2VsZnRlc3RzL2h1Z2VfcGFnZXMuYyAgfCAxMiArKysrKystLS0tLS0KIDggZmlsZXMgY2hhbmdl
ZCwgNDQgaW5zZXJ0aW9ucygrKSwgMjIgZGVsZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEvZHJpdmVy
cy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX29iamVjdC5jIGIvZHJpdmVycy9ncHUvZHJtL2k5
MTUvZ2VtL2k5MTVfZ2VtX29iamVjdC5jCmluZGV4IGQ3ODU1ZGM1YTVjNS4uMWJkZDc0ODViYzcy
IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fb2JqZWN0LmMK
KysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX29iamVjdC5jCkBAIC0yMiw2
ICsyMiw4IEBACiAgKgogICovCiAKKyNpbmNsdWRlIDxsaW51eC9zY2hlZC9tbS5oPgorCiAjaW5j
bHVkZSAiZGlzcGxheS9pbnRlbF9mcm9udGJ1ZmZlci5oIgogI2luY2x1ZGUgImd0L2ludGVsX2d0
LmgiCiAjaW5jbHVkZSAiaTkxNV9kcnYuaCIKQEAgLTUxLDYgKzUzLDE0IEBAIHZvaWQgaTkxNV9n
ZW1fb2JqZWN0X2luaXQoc3RydWN0IGRybV9pOTE1X2dlbV9vYmplY3QgKm9iaiwKIHsKIAltdXRl
eF9pbml0KCZvYmotPm1tLmxvY2spOwogCisJaWYgKElTX0VOQUJMRUQoQ09ORklHX0xPQ0tERVAp
KSB7CisJCW11dGV4X2xvY2tfbmVzdGVkKCZvYmotPm1tLmxvY2ssIEk5MTVfTU1fR0VUX1BBR0VT
KTsKKwkJZnNfcmVjbGFpbV9hY3F1aXJlKEdGUF9LRVJORUwpOworCQltaWdodF9sb2NrKCZvYmot
Pm1tLmxvY2spOworCQlmc19yZWNsYWltX3JlbGVhc2UoR0ZQX0tFUk5FTCk7CisJCW11dGV4X3Vu
bG9jaygmb2JqLT5tbS5sb2NrKTsKKwl9CisKIAlzcGluX2xvY2tfaW5pdCgmb2JqLT52bWEubG9j
ayk7CiAJSU5JVF9MSVNUX0hFQUQoJm9iai0+dm1hLmxpc3QpOwogCkBAIC0xNzYsNyArMTg2LDcg
QEAgc3RhdGljIHZvaWQgX19pOTE1X2dlbV9mcmVlX29iamVjdHMoc3RydWN0IGRybV9pOTE1X3By
aXZhdGUgKmk5MTUsCiAJCUdFTV9CVUdfT04oIWxpc3RfZW1wdHkoJm9iai0+bHV0X2xpc3QpKTsK
IAogCQlhdG9taWNfc2V0KCZvYmotPm1tLnBhZ2VzX3Bpbl9jb3VudCwgMCk7Ci0JCV9faTkxNV9n
ZW1fb2JqZWN0X3B1dF9wYWdlcyhvYmosIEk5MTVfTU1fTk9STUFMKTsKKwkJX19pOTE1X2dlbV9v
YmplY3RfcHV0X3BhZ2VzKG9iaik7CiAJCUdFTV9CVUdfT04oaTkxNV9nZW1fb2JqZWN0X2hhc19w
YWdlcyhvYmopKTsKIAkJYml0bWFwX2ZyZWUob2JqLT5iaXRfMTcpOwogCmRpZmYgLS1naXQgYS9k
cml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fb2JqZWN0LmggYi9kcml2ZXJzL2dwdS9k
cm0vaTkxNS9nZW0vaTkxNV9nZW1fb2JqZWN0LmgKaW5kZXggNWVmYjk5MzZlMDViLi5hMGIxZmE4
YTMyMjQgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9vYmpl
Y3QuaAorKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fb2JqZWN0LmgKQEAg
LTI4MSwxMSArMjgxLDIxIEBAIGk5MTVfZ2VtX29iamVjdF91bnBpbl9wYWdlcyhzdHJ1Y3QgZHJt
X2k5MTVfZ2VtX29iamVjdCAqb2JqKQogCiBlbnVtIGk5MTVfbW1fc3ViY2xhc3MgeyAvKiBsb2Nr
ZGVwIHN1YmNsYXNzIGZvciBvYmotPm1tLmxvY2svc3RydWN0X211dGV4ICovCiAJSTkxNV9NTV9O
T1JNQUwgPSAwLAotCUk5MTVfTU1fU0hSSU5LRVIgLyogY2FsbGVkICJyZWN1cnNpdmVseSIgZnJv
bSBkaXJlY3QtcmVjbGFpbS1lc3F1ZSAqLworCS8qCisJICogT25seSB1c2VkIGJ5IHN0cnVjdF9t
dXRleCwgd2hlbiBjYWxsZWQgInJlY3Vyc2l2ZWx5IiBmcm9tCisJICogZGlyZWN0LXJlY2xhaW0t
ZXNxdWUuIFNhZmUgYmVjYXVzZSB0aGVyZSBpcyBvbmx5IGV2ZXJ5IG9uZQorCSAqIHN0cnVjdF9t
dXRleCBpbiB0aGUgZW50aXJlIHN5c3RlbS4gKi8KKwlJOTE1X01NX1NIUklOS0VSID0gMSwKKwkv
KgorCSAqIFVzZWQgZm9yIG9iai0+bW0ubG9jayB3aGVuIGFsbG9jYXRpbmcgcGFnZXMuIFNhZmUg
YmVjYXVzZSB0aGUgb2JqZWN0CisJICogaXNuJ3QgeWV0IG9uIGFueSBMUlUsIGFuZCB0aGVyZWZv
cmUgdGhlIHNocmlua2VyIGNhbid0IGRlYWRsb2NrIG9uCisJICogaXQuIEFzIHNvb24gYXMgdGhl
IG9iamVjdCBoYXMgcGFnZXMsIG9iai0+bW0ubG9jayBuZXN0cyB3aXRoaW4KKwkgKiBmc19yZWNs
YWltLgorCSAqLworCUk5MTVfTU1fR0VUX1BBR0VTID0gMSwKIH07CiAKLWludCBfX2k5MTVfZ2Vt
X29iamVjdF9wdXRfcGFnZXMoc3RydWN0IGRybV9pOTE1X2dlbV9vYmplY3QgKm9iaiwKLQkJCQll
bnVtIGk5MTVfbW1fc3ViY2xhc3Mgc3ViY2xhc3MpOworaW50IF9faTkxNV9nZW1fb2JqZWN0X3B1
dF9wYWdlcyhzdHJ1Y3QgZHJtX2k5MTVfZ2VtX29iamVjdCAqb2JqKTsKIHZvaWQgaTkxNV9nZW1f
b2JqZWN0X3RydW5jYXRlKHN0cnVjdCBkcm1faTkxNV9nZW1fb2JqZWN0ICpvYmopOwogdm9pZCBp
OTE1X2dlbV9vYmplY3Rfd3JpdGViYWNrKHN0cnVjdCBkcm1faTkxNV9nZW1fb2JqZWN0ICpvYmop
OwogCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fb2JqZWN0
X3R5cGVzLmggYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fb2JqZWN0X3R5cGVz
LmgKaW5kZXggZWRlMGViNDIxOGE4Li43YjdjZjcxMWEyMWEgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMv
Z3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9vYmplY3RfdHlwZXMuaAorKysgYi9kcml2ZXJzL2dw
dS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fb2JqZWN0X3R5cGVzLmgKQEAgLTE1Niw3ICsxNTYsMTEg
QEAgc3RydWN0IGRybV9pOTE1X2dlbV9vYmplY3QgewogCXVuc2lnbmVkIGludCBwaW5fZ2xvYmFs
OwogCiAJc3RydWN0IHsKLQkJc3RydWN0IG11dGV4IGxvY2s7IC8qIHByb3RlY3RzIHRoZSBwYWdl
cyBhbmQgdGhlaXIgdXNlICovCisJCS8qCisJCSAqIFByb3RlY3RzIHRoZSBwYWdlcyBhbmQgdGhl
aXIgdXNlLiBEbyBub3QgdXNlIGRpcmVjdGx5LCBidXQKKwkJICogaW5zdGVhZCBnbyB0aHJvdWdo
IHRoZSBwaW4vdW5waW4gaW50ZXJmYWNlcy4KKwkJICovCisJCXN0cnVjdCBtdXRleCBsb2NrOwog
CQlhdG9taWNfdCBwYWdlc19waW5fY291bnQ7CiAKIAkJc3RydWN0IHNnX3RhYmxlICpwYWdlczsK
ZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9wYWdlcy5jIGIv
ZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX3BhZ2VzLmMKaW5kZXggMThmMGNlMDEz
NWMxLi4yMDI1MjZlODkxMGYgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9p
OTE1X2dlbV9wYWdlcy5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9w
YWdlcy5jCkBAIC0xMDEsNyArMTAxLDcgQEAgaW50IF9faTkxNV9nZW1fb2JqZWN0X2dldF9wYWdl
cyhzdHJ1Y3QgZHJtX2k5MTVfZ2VtX29iamVjdCAqb2JqKQogewogCWludCBlcnI7CiAKLQllcnIg
PSBtdXRleF9sb2NrX2ludGVycnVwdGlibGUoJm9iai0+bW0ubG9jayk7CisJZXJyID0gbXV0ZXhf
bG9ja19pbnRlcnJ1cHRpYmxlX25lc3RlZCgmb2JqLT5tbS5sb2NrLCBJOTE1X01NX0dFVF9QQUdF
Uyk7CiAJaWYgKGVycikKIAkJcmV0dXJuIGVycjsKIApAQCAtMTc5LDggKzE3OSw3IEBAIF9faTkx
NV9nZW1fb2JqZWN0X3Vuc2V0X3BhZ2VzKHN0cnVjdCBkcm1faTkxNV9nZW1fb2JqZWN0ICpvYmop
CiAJcmV0dXJuIHBhZ2VzOwogfQogCi1pbnQgX19pOTE1X2dlbV9vYmplY3RfcHV0X3BhZ2VzKHN0
cnVjdCBkcm1faTkxNV9nZW1fb2JqZWN0ICpvYmosCi0JCQkJZW51bSBpOTE1X21tX3N1YmNsYXNz
IHN1YmNsYXNzKQoraW50IF9faTkxNV9nZW1fb2JqZWN0X3B1dF9wYWdlcyhzdHJ1Y3QgZHJtX2k5
MTVfZ2VtX29iamVjdCAqb2JqKQogewogCXN0cnVjdCBzZ190YWJsZSAqcGFnZXM7CiAJaW50IGVy
cjsKQEAgLTE5MSw3ICsxOTAsNyBAQCBpbnQgX19pOTE1X2dlbV9vYmplY3RfcHV0X3BhZ2VzKHN0
cnVjdCBkcm1faTkxNV9nZW1fb2JqZWN0ICpvYmosCiAJR0VNX0JVR19PTihhdG9taWNfcmVhZCgm
b2JqLT5iaW5kX2NvdW50KSk7CiAKIAkvKiBNYXkgYmUgY2FsbGVkIGJ5IHNocmlua2VyIGZyb20g
d2l0aGluIGdldF9wYWdlcygpIChvbiBhbm90aGVyIGJvKSAqLwotCW11dGV4X2xvY2tfbmVzdGVk
KCZvYmotPm1tLmxvY2ssIHN1YmNsYXNzKTsKKwltdXRleF9sb2NrKCZvYmotPm1tLmxvY2spOwog
CWlmICh1bmxpa2VseShhdG9taWNfcmVhZCgmb2JqLT5tbS5wYWdlc19waW5fY291bnQpKSkgewog
CQllcnIgPSAtRUJVU1k7CiAJCWdvdG8gdW5sb2NrOwpAQCAtMjg1LDcgKzI4NCw3IEBAIHZvaWQg
Kmk5MTVfZ2VtX29iamVjdF9waW5fbWFwKHN0cnVjdCBkcm1faTkxNV9nZW1fb2JqZWN0ICpvYmos
CiAJaWYgKHVubGlrZWx5KCFpOTE1X2dlbV9vYmplY3RfaGFzX3N0cnVjdF9wYWdlKG9iaikpKQog
CQlyZXR1cm4gRVJSX1BUUigtRU5YSU8pOwogCi0JZXJyID0gbXV0ZXhfbG9ja19pbnRlcnJ1cHRp
YmxlKCZvYmotPm1tLmxvY2spOworCWVyciA9IG11dGV4X2xvY2tfaW50ZXJydXB0aWJsZV9uZXN0
ZWQoJm9iai0+bW0ubG9jaywgSTkxNV9NTV9HRVRfUEFHRVMpOwogCWlmIChlcnIpCiAJCXJldHVy
biBFUlJfUFRSKGVycik7CiAKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9p
OTE1X2dlbV9waHlzLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fcGh5cy5j
CmluZGV4IDc2ODM1NjkwODE2MC4uMmFlYTg5NjBmMGYxIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dw
dS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fcGh5cy5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1
L2dlbS9pOTE1X2dlbV9waHlzLmMKQEAgLTE2Myw3ICsxNjMsNyBAQCBpbnQgaTkxNV9nZW1fb2Jq
ZWN0X2F0dGFjaF9waHlzKHN0cnVjdCBkcm1faTkxNV9nZW1fb2JqZWN0ICpvYmosIGludCBhbGln
bikKIAlpZiAoZXJyKQogCQlyZXR1cm4gZXJyOwogCi0JbXV0ZXhfbG9jaygmb2JqLT5tbS5sb2Nr
KTsKKwltdXRleF9sb2NrX25lc3RlZCgmb2JqLT5tbS5sb2NrLCBJOTE1X01NX0dFVF9QQUdFUyk7
CiAKIAlpZiAob2JqLT5tbS5tYWR2ICE9IEk5MTVfTUFEVl9XSUxMTkVFRCkgewogCQllcnIgPSAt
RUZBVUxUOwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX3No
cmlua2VyLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fc2hyaW5rZXIuYwpp
bmRleCBlZGQyMWQxNGU2NGYuLjBiMGQ2ZTI3Yjk5NiAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUv
ZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX3Nocmlua2VyLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5
MTUvZ2VtL2k5MTVfZ2VtX3Nocmlua2VyLmMKQEAgLTk4LDcgKzk4LDcgQEAgc3RhdGljIGJvb2wg
dW5zYWZlX2Ryb3BfcGFnZXMoc3RydWN0IGRybV9pOTE1X2dlbV9vYmplY3QgKm9iaiwKIAkJZmxh
Z3MgPSBJOTE1X0dFTV9PQkpFQ1RfVU5CSU5EX0FDVElWRTsKIAogCWlmIChpOTE1X2dlbV9vYmpl
Y3RfdW5iaW5kKG9iaiwgZmxhZ3MpID09IDApCi0JCV9faTkxNV9nZW1fb2JqZWN0X3B1dF9wYWdl
cyhvYmosIEk5MTVfTU1fU0hSSU5LRVIpOworCQlfX2k5MTVfZ2VtX29iamVjdF9wdXRfcGFnZXMo
b2JqKTsKIAogCXJldHVybiAhaTkxNV9nZW1fb2JqZWN0X2hhc19wYWdlcyhvYmopOwogfQpAQCAt
MjU0LDggKzI1NCw3IEBAIGk5MTVfZ2VtX3NocmluayhzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAq
aTkxNSwKIAogCQkJaWYgKHVuc2FmZV9kcm9wX3BhZ2VzKG9iaiwgc2hyaW5rKSkgewogCQkJCS8q
IE1heSBhcnJpdmUgZnJvbSBnZXRfcGFnZXMgb24gYW5vdGhlciBibyAqLwotCQkJCW11dGV4X2xv
Y2tfbmVzdGVkKCZvYmotPm1tLmxvY2ssCi0JCQkJCQkgIEk5MTVfTU1fU0hSSU5LRVIpOworCQkJ
CW11dGV4X2xvY2soJm9iai0+bW0ubG9jayk7CiAJCQkJaWYgKCFpOTE1X2dlbV9vYmplY3RfaGFz
X3BhZ2VzKG9iaikpIHsKIAkJCQkJdHJ5X3RvX3dyaXRlYmFjayhvYmosIHNocmluayk7CiAJCQkJ
CWNvdW50ICs9IG9iai0+YmFzZS5zaXplID4+IFBBR0VfU0hJRlQ7CmRpZmYgLS1naXQgYS9kcml2
ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fdXNlcnB0ci5jIGIvZHJpdmVycy9ncHUvZHJt
L2k5MTUvZ2VtL2k5MTVfZ2VtX3VzZXJwdHIuYwppbmRleCA3MGRjNTA2YTU0MjYuLmYzYjNiYzdj
MzJjYiAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX3VzZXJw
dHIuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fdXNlcnB0ci5jCkBA
IC0xNTgsNyArMTU4LDcgQEAgdXNlcnB0cl9tbl9pbnZhbGlkYXRlX3JhbmdlX3N0YXJ0KHN0cnVj
dCBtbXVfbm90aWZpZXIgKl9tbiwKIAkJcmV0ID0gaTkxNV9nZW1fb2JqZWN0X3VuYmluZChvYmos
CiAJCQkJCSAgICAgSTkxNV9HRU1fT0JKRUNUX1VOQklORF9BQ1RJVkUpOwogCQlpZiAocmV0ID09
IDApCi0JCQlyZXQgPSBfX2k5MTVfZ2VtX29iamVjdF9wdXRfcGFnZXMob2JqLCBJOTE1X01NX1NI
UklOS0VSKTsKKwkJCXJldCA9IF9faTkxNV9nZW1fb2JqZWN0X3B1dF9wYWdlcyhvYmopOwogCQlp
OTE1X2dlbV9vYmplY3RfcHV0KG9iaik7CiAJCWlmIChyZXQpCiAJCQlnb3RvIHVubG9jazsKQEAg
LTUxNCw3ICs1MTQsNyBAQCBfX2k5MTVfZ2VtX3VzZXJwdHJfZ2V0X3BhZ2VzX3dvcmtlcihzdHJ1
Y3Qgd29ya19zdHJ1Y3QgKl93b3JrKQogCQl9CiAJfQogCi0JbXV0ZXhfbG9jaygmb2JqLT5tbS5s
b2NrKTsKKwltdXRleF9sb2NrX25lc3RlZCgmb2JqLT5tbS5sb2NrLCBJOTE1X01NX0dFVF9QQUdF
Uyk7CiAJaWYgKG9iai0+dXNlcnB0ci53b3JrID09ICZ3b3JrLT53b3JrKSB7CiAJCXN0cnVjdCBz
Z190YWJsZSAqcGFnZXMgPSBFUlJfUFRSKHJldCk7CiAKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1
L2RybS9pOTE1L2dlbS9zZWxmdGVzdHMvaHVnZV9wYWdlcy5jIGIvZHJpdmVycy9ncHUvZHJtL2k5
MTUvZ2VtL3NlbGZ0ZXN0cy9odWdlX3BhZ2VzLmMKaW5kZXggOGRlODNjNmQ4MWY1Li44MWFmODU5
NzE4NTYgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9zZWxmdGVzdHMvaHVn
ZV9wYWdlcy5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9zZWxmdGVzdHMvaHVnZV9w
YWdlcy5jCkBAIC01NjIsNyArNTYyLDcgQEAgc3RhdGljIGludCBpZ3RfbW9ja19wcGd0dF9taXNh
bGlnbmVkX2RtYSh2b2lkICphcmcpCiAJCWk5MTVfdm1hX2Nsb3NlKHZtYSk7CiAKIAkJaTkxNV9n
ZW1fb2JqZWN0X3VucGluX3BhZ2VzKG9iaik7Ci0JCV9faTkxNV9nZW1fb2JqZWN0X3B1dF9wYWdl
cyhvYmosIEk5MTVfTU1fTk9STUFMKTsKKwkJX19pOTE1X2dlbV9vYmplY3RfcHV0X3BhZ2VzKG9i
aik7CiAJCWk5MTVfZ2VtX29iamVjdF9wdXQob2JqKTsKIAl9CiAKQEAgLTU5MCw3ICs1OTAsNyBA
QCBzdGF0aWMgdm9pZCBjbG9zZV9vYmplY3RfbGlzdChzdHJ1Y3QgbGlzdF9oZWFkICpvYmplY3Rz
LAogCiAJCWxpc3RfZGVsKCZvYmotPnN0X2xpbmspOwogCQlpOTE1X2dlbV9vYmplY3RfdW5waW5f
cGFnZXMob2JqKTsKLQkJX19pOTE1X2dlbV9vYmplY3RfcHV0X3BhZ2VzKG9iaiwgSTkxNV9NTV9O
T1JNQUwpOworCQlfX2k5MTVfZ2VtX29iamVjdF9wdXRfcGFnZXMob2JqKTsKIAkJaTkxNV9nZW1f
b2JqZWN0X3B1dChvYmopOwogCX0KIH0KQEAgLTg2MCw3ICs4NjAsNyBAQCBzdGF0aWMgaW50IGln
dF9tb2NrX3BwZ3R0XzY0Syh2b2lkICphcmcpCiAJCQlpOTE1X3ZtYV9jbG9zZSh2bWEpOwogCiAJ
CQlpOTE1X2dlbV9vYmplY3RfdW5waW5fcGFnZXMob2JqKTsKLQkJCV9faTkxNV9nZW1fb2JqZWN0
X3B1dF9wYWdlcyhvYmosIEk5MTVfTU1fTk9STUFMKTsKKwkJCV9faTkxNV9nZW1fb2JqZWN0X3B1
dF9wYWdlcyhvYmopOwogCQkJaTkxNV9nZW1fb2JqZWN0X3B1dChvYmopOwogCQl9CiAJfQpAQCAt
MTE2NCw3ICsxMTY0LDcgQEAgc3RhdGljIGludCBpZ3RfcHBndHRfZXhoYXVzdF9odWdlKHZvaWQg
KmFyZykKIAkJCX0KIAogCQkJaTkxNV9nZW1fb2JqZWN0X3VucGluX3BhZ2VzKG9iaik7Ci0JCQlf
X2k5MTVfZ2VtX29iamVjdF9wdXRfcGFnZXMob2JqLCBJOTE1X01NX05PUk1BTCk7CisJCQlfX2k5
MTVfZ2VtX29iamVjdF9wdXRfcGFnZXMob2JqKTsKIAkJCWk5MTVfZ2VtX29iamVjdF9wdXQob2Jq
KTsKIAkJfQogCX0KQEAgLTEyMjYsNyArMTIyNiw3IEBAIHN0YXRpYyBpbnQgaWd0X3BwZ3R0X2lu
dGVybmFsX2h1Z2Uodm9pZCAqYXJnKQogCQl9CiAKIAkJaTkxNV9nZW1fb2JqZWN0X3VucGluX3Bh
Z2VzKG9iaik7Ci0JCV9faTkxNV9nZW1fb2JqZWN0X3B1dF9wYWdlcyhvYmosIEk5MTVfTU1fTk9S
TUFMKTsKKwkJX19pOTE1X2dlbV9vYmplY3RfcHV0X3BhZ2VzKG9iaik7CiAJCWk5MTVfZ2VtX29i
amVjdF9wdXQob2JqKTsKIAl9CiAKQEAgLTEyOTUsNyArMTI5NSw3IEBAIHN0YXRpYyBpbnQgaWd0
X3BwZ3R0X2dlbWZzX2h1Z2Uodm9pZCAqYXJnKQogCQl9CiAKIAkJaTkxNV9nZW1fb2JqZWN0X3Vu
cGluX3BhZ2VzKG9iaik7Ci0JCV9faTkxNV9nZW1fb2JqZWN0X3B1dF9wYWdlcyhvYmosIEk5MTVf
TU1fTk9STUFMKTsKKwkJX19pOTE1X2dlbV9vYmplY3RfcHV0X3BhZ2VzKG9iaik7CiAJCWk5MTVf
Z2VtX29iamVjdF9wdXQob2JqKTsKIAl9CiAKLS0gCjIuMjMuMC5yYzEKCl9fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCkludGVsLWdmeCBtYWlsaW5nIGxpc3QK
SW50ZWwtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9w
Lm9yZy9tYWlsbWFuL2xpc3RpbmZvL2ludGVsLWdmeA==

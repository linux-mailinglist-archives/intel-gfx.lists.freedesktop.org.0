Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 0EEF5175EE
	for <lists+intel-gfx@lfdr.de>; Wed,  8 May 2019 12:25:37 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 53ECD89065;
	Wed,  8 May 2019 10:25:34 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga02.intel.com (mga02.intel.com [134.134.136.20])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 2FC9E89065
 for <intel-gfx@lists.freedesktop.org>; Wed,  8 May 2019 10:25:33 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from fmsmga005.fm.intel.com ([10.253.24.32])
 by orsmga101.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 08 May 2019 03:25:32 -0700
X-ExtLoop1: 1
Received: from jzapadkx-mobl1.ger.corp.intel.com (HELO [10.252.0.159])
 ([10.252.0.159])
 by fmsmga005.fm.intel.com with ESMTP; 08 May 2019 03:25:31 -0700
To: Chris Wilson <chris@chris-wilson.co.uk>, intel-gfx@lists.freedesktop.org
References: <20190508080704.24223-1-chris@chris-wilson.co.uk>
 <20190508080704.24223-11-chris@chris-wilson.co.uk>
From: Tvrtko Ursulin <tvrtko.ursulin@linux.intel.com>
Organization: Intel Corporation UK Plc
Message-ID: <29581921-b84b-eaaa-a1e2-bf399faf438c@linux.intel.com>
Date: Wed, 8 May 2019 11:25:30 +0100
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101
 Thunderbird/60.6.1
MIME-Version: 1.0
In-Reply-To: <20190508080704.24223-11-chris@chris-wilson.co.uk>
Content-Language: en-US
Subject: Re: [Intel-gfx] [PATCH 11/40] drm/i915: Extend
 I915_CONTEXT_PARAM_SSEU to support local ctx->engine[]
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

Ck9uIDA4LzA1LzIwMTkgMDk6MDYsIENocmlzIFdpbHNvbiB3cm90ZToKPiBBbGxvdyB0aGUgdXNl
ciB0byBzcGVjaWZ5IGEgbG9jYWwgZW5naW5lIGluZGV4IChhcyBvcHBvc2VkIHRvCj4gY2xhc3M6
aW5kZXgpIHRoYXQgdGhleSBjYW4gdXNlIHRvIHJlZmVyIHRvIGEgcHJlc2V0IGVuZ2luZSBpbnNp
ZGUgdGhlCj4gY3R4LT5lbmdpbmVbXSBhcnJheSBkZWZpbmVkIGJ5IGFuIGVhcmxpZXIgSTkxNV9D
T05URVhUX1BBUkFNX0VOR0lORVMuCj4gVGhpcyB3aWxsIGJlIHVzZWZ1bCBmb3Igc2V0dGluZyBT
U0VVIHBhcmFtZXRlcnMgb24gdmlydHVhbCBlbmdpbmVzIHRoYXQKPiBhcmUgbG9jYWwgdG8gdGhl
IGNvbnRleHQgYW5kIGRvIG5vdCBoYXZlIGEgdmFsaWQgZ2xvYmFsIGNsYXNzOmluc3RhbmNlCj4g
bG9va3VwLgo+IAo+IE5vdGUgdGhhdCBkdWUgdG8gdGhlIGFtYmlndWl0eSBpbiB1c2luZyBjbGFz
czppbnN0YW5jZSB3aXRoCj4gY3R4LT5lbmdpbmVzW10sIGlmIGEgdXNlciBzdXBwbGllZCBlbmdp
bmUgbWFwIGlzIGFjdGl2ZSB0aGUgdXNlciBtdXN0Cj4gc3BlY2lmeSB0aGUgZW5naW5lIHRvIGFs
dGVyIGJ5IGl0cyBpbmRleCBpbnRvIHRoZSBjdHgtPmVuZ2luZXNbXS4KPiAKPiBTaWduZWQtb2Zm
LWJ5OiBDaHJpcyBXaWxzb24gPGNocmlzQGNocmlzLXdpbHNvbi5jby51az4KPiBDYzogVHZydGtv
IFVyc3VsaW4gPHR2cnRrby51cnN1bGluQGludGVsLmNvbT4KPiAtLS0KPiAgIGRyaXZlcnMvZ3B1
L2RybS9pOTE1L2k5MTVfZ2VtX2NvbnRleHQuYyB8IDI0ICsrKysrKysrKysrKysrKysrKysrLS0t
LQo+ICAgaW5jbHVkZS91YXBpL2RybS9pOTE1X2RybS5oICAgICAgICAgICAgIHwgIDMgKystCj4g
ICAyIGZpbGVzIGNoYW5nZWQsIDIyIGluc2VydGlvbnMoKyksIDUgZGVsZXRpb25zKC0pCj4gCj4g
ZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZ2VtX2NvbnRleHQuYyBiL2Ry
aXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZ2VtX2NvbnRleHQuYwo+IGluZGV4IDIxYmZjZDUyOTA5
Ny4uNWZkYjQ0NzE0YTVjIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVf
Z2VtX2NvbnRleHQuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZ2VtX2NvbnRl
eHQuYwo+IEBAIC0xMzYzLDYgKzEzNjMsNyBAQCBzdGF0aWMgaW50IHNldF9zc2V1KHN0cnVjdCBp
OTE1X2dlbV9jb250ZXh0ICpjdHgsCj4gICAJc3RydWN0IGRybV9pOTE1X2dlbV9jb250ZXh0X3Bh
cmFtX3NzZXUgdXNlcl9zc2V1Owo+ICAgCXN0cnVjdCBpbnRlbF9jb250ZXh0ICpjZTsKPiAgIAlz
dHJ1Y3QgaW50ZWxfc3NldSBzc2V1Owo+ICsJdW5zaWduZWQgbG9uZyBsb29rdXA7Cj4gICAJaW50
IHJldDsKPiAgIAo+ICAgCWlmIChhcmdzLT5zaXplIDwgc2l6ZW9mKHVzZXJfc3NldSkpCj4gQEAg
LTEzNzUsMTAgKzEzNzYsMTcgQEAgc3RhdGljIGludCBzZXRfc3NldShzdHJ1Y3QgaTkxNV9nZW1f
Y29udGV4dCAqY3R4LAo+ICAgCQkJICAgc2l6ZW9mKHVzZXJfc3NldSkpKQo+ICAgCQlyZXR1cm4g
LUVGQVVMVDsKPiAgIAo+IC0JaWYgKHVzZXJfc3NldS5mbGFncyB8fCB1c2VyX3NzZXUucnN2ZCkK
PiArCWlmICh1c2VyX3NzZXUucnN2ZCkKPiAgIAkJcmV0dXJuIC1FSU5WQUw7Cj4gICAKPiAtCWNl
ID0gbG9va3VwX3VzZXJfZW5naW5lKGN0eCwgMCwgJnVzZXJfc3NldS5lbmdpbmUpOwo+ICsJaWYg
KHVzZXJfc3NldS5mbGFncyAmIH4oSTkxNV9DT05URVhUX1NTRVVfRkxBR19FTkdJTkVfSU5ERVgp
KQo+ICsJCXJldHVybiAtRUlOVkFMOwo+ICsKPiArCWxvb2t1cCA9IDA7Cj4gKwlpZiAodXNlcl9z
c2V1LmZsYWdzICYgSTkxNV9DT05URVhUX1NTRVVfRkxBR19FTkdJTkVfSU5ERVgpCj4gKwkJbG9v
a3VwIHw9IExPT0tVUF9VU0VSX0lOREVYOwo+ICsKPiArCWNlID0gbG9va3VwX3VzZXJfZW5naW5l
KGN0eCwgbG9va3VwLCAmdXNlcl9zc2V1LmVuZ2luZSk7Cj4gICAJaWYgKElTX0VSUihjZSkpCj4g
ICAJCXJldHVybiBQVFJfRVJSKGNlKTsKPiAgIAo+IEBAIC0xNzk1LDYgKzE4MDMsNyBAQCBzdGF0
aWMgaW50IGdldF9zc2V1KHN0cnVjdCBpOTE1X2dlbV9jb250ZXh0ICpjdHgsCj4gICB7Cj4gICAJ
c3RydWN0IGRybV9pOTE1X2dlbV9jb250ZXh0X3BhcmFtX3NzZXUgdXNlcl9zc2V1Owo+ICAgCXN0
cnVjdCBpbnRlbF9jb250ZXh0ICpjZTsKPiArCXVuc2lnbmVkIGxvbmcgbG9va3VwOwo+ICAgCWlu
dCBlcnI7Cj4gICAKPiAgIAlpZiAoYXJncy0+c2l6ZSA9PSAwKQo+IEBAIC0xODA2LDEwICsxODE1
LDE3IEBAIHN0YXRpYyBpbnQgZ2V0X3NzZXUoc3RydWN0IGk5MTVfZ2VtX2NvbnRleHQgKmN0eCwK
PiAgIAkJCSAgIHNpemVvZih1c2VyX3NzZXUpKSkKPiAgIAkJcmV0dXJuIC1FRkFVTFQ7Cj4gICAK
PiAtCWlmICh1c2VyX3NzZXUuZmxhZ3MgfHwgdXNlcl9zc2V1LnJzdmQpCj4gKwlpZiAodXNlcl9z
c2V1LnJzdmQpCj4gICAJCXJldHVybiAtRUlOVkFMOwo+ICAgCj4gLQljZSA9IGxvb2t1cF91c2Vy
X2VuZ2luZShjdHgsIDAsICZ1c2VyX3NzZXUuZW5naW5lKTsKPiArCWlmICh1c2VyX3NzZXUuZmxh
Z3MgJiB+KEk5MTVfQ09OVEVYVF9TU0VVX0ZMQUdfRU5HSU5FX0lOREVYKSkKPiArCQlyZXR1cm4g
LUVJTlZBTDsKPiArCj4gKwlsb29rdXAgPSAwOwo+ICsJaWYgKHVzZXJfc3NldS5mbGFncyAmIEk5
MTVfQ09OVEVYVF9TU0VVX0ZMQUdfRU5HSU5FX0lOREVYKQo+ICsJCWxvb2t1cCB8PSBMT09LVVBf
VVNFUl9JTkRFWDsKPiArCj4gKwljZSA9IGxvb2t1cF91c2VyX2VuZ2luZShjdHgsIGxvb2t1cCwg
JnVzZXJfc3NldS5lbmdpbmUpOwo+ICAgCWlmIChJU19FUlIoY2UpKQo+ICAgCQlyZXR1cm4gUFRS
X0VSUihjZSk7Cj4gICAKPiBkaWZmIC0tZ2l0IGEvaW5jbHVkZS91YXBpL2RybS9pOTE1X2RybS5o
IGIvaW5jbHVkZS91YXBpL2RybS9pOTE1X2RybS5oCj4gaW5kZXggOGUxYmIyMjkyNmU0Li44MmJk
NDg4ZWQwZDEgMTAwNjQ0Cj4gLS0tIGEvaW5jbHVkZS91YXBpL2RybS9pOTE1X2RybS5oCj4gKysr
IGIvaW5jbHVkZS91YXBpL2RybS9pOTE1X2RybS5oCj4gQEAgLTE1NzYsOSArMTU3NiwxMCBAQCBz
dHJ1Y3QgZHJtX2k5MTVfZ2VtX2NvbnRleHRfcGFyYW1fc3NldSB7Cj4gICAJc3RydWN0IGk5MTVf
ZW5naW5lX2NsYXNzX2luc3RhbmNlIGVuZ2luZTsKPiAgIAo+ICAgCS8qCj4gLQkgKiBVbnVzZWQg
Zm9yIG5vdy4gTXVzdCBiZSBjbGVhcmVkIHRvIHplcm8uCj4gKwkgKiBVbmtub3duIGZsYWdzIG11
c3QgYmUgY2xlYXJlZCB0byB6ZXJvLgo+ICAgCSAqLwo+ICAgCV9fdTMyIGZsYWdzOwo+ICsjZGVm
aW5lIEk5MTVfQ09OVEVYVF9TU0VVX0ZMQUdfRU5HSU5FX0lOREVYICgxdSA8PCAwKQo+ICAgCj4g
ICAJLyoKPiAgIAkgKiBNYXNrIG9mIHNsaWNlcyB0byBlbmFibGUgZm9yIHRoZSBjb250ZXh0LiBW
YWxpZCB2YWx1ZXMgYXJlIGEgc3Vic2V0Cj4gCgpSZXZpZXdlZC1ieTogVHZydGtvIFVyc3VsaW4g
PHR2cnRrby51cnN1bGluQGludGVsLmNvbT4KClJlZ2FyZHMsCgpUdnJ0a28KX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KSW50ZWwtZ2Z4IG1haWxpbmcgbGlz
dApJbnRlbC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0
b3Aub3JnL21haWxtYW4vbGlzdGluZm8vaW50ZWwtZ2Z4

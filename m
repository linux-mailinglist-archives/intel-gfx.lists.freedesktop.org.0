Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id CC949118589
	for <lists+intel-gfx@lfdr.de>; Tue, 10 Dec 2019 11:51:32 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 3DA886E8AA;
	Tue, 10 Dec 2019 10:51:31 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga17.intel.com (mga17.intel.com [192.55.52.151])
 by gabe.freedesktop.org (Postfix) with ESMTPS id A6E046E8AA
 for <intel-gfx@lists.freedesktop.org>; Tue, 10 Dec 2019 10:51:30 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga004.jf.intel.com ([10.7.209.38])
 by fmsmga107.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 10 Dec 2019 02:51:30 -0800
X-IronPort-AV: E=Sophos;i="5.69,299,1571727600"; d="scan'208";a="363226290"
Received: from rmoran-mobl1.ger.corp.intel.com (HELO localhost)
 ([10.252.35.46])
 by orsmga004-auth.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 10 Dec 2019 02:51:27 -0800
From: Jani Nikula <jani.nikula@intel.com>
To: intel-gfx@lists.freedesktop.org
Date: Tue, 10 Dec 2019 12:50:48 +0200
Message-Id: <620688ec302f7f49cc539c6c1653bfaf6092fce0.1575974743.git.jani.nikula@intel.com>
X-Mailer: git-send-email 2.20.1
In-Reply-To: <cover.1575974743.git.jani.nikula@intel.com>
References: <cover.1575974743.git.jani.nikula@intel.com>
MIME-Version: 1.0
Organization: Intel Finland Oy - BIC 0357606-4 - Westendinkatu 7, 02160 Espoo
Subject: [Intel-gfx] [v4.1 04/16] drm/i915/dsc: move DP specific compute
 params to intel_dp.c
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: jani.nikula@intel.com
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

VHVybnMgb3V0IGZ1dHVyZSBEU0kgc3BlY2lmaWMgcGFyYW1ldGVycyBhcmVuJ3Qgd29ya2FibGUg
d2l0aCB0aGUKYXBwcm9hY2ggb2YgaGF2aW5nIHRoZSBlbmNvZGVyIHNwZWNpZmljIGZ1bmN0aW9u
cyBpbiBpbnRlbF92ZHNjLmMuIE1ha2UKaW50ZWxfZHNjX2NvbXB1dGVfcGFyYW1zKCkgYSBoZWxw
ZXIgdGhhdCBkb2VzIHRoZSBlbmNvZGVyIGluZGVwZW5kZW50CnBhcnRzLCBhbmQgaGF2ZSBlbmNv
ZGVyIGNvZGUgY2FsbCBpdC4gTW92ZSBpbnRlbF9kc2NfZHBfY29tcHV0ZV9wYXJhbXMoKQp0byBp
bnRlbF9kcC5jIGFzIGludGVsX2RwX2RzY19jb21wdXRlX3BhcmFtcygpLgoKTm8gZnVuY3Rpb25h
bCBjaGFuZ2VzLgoKdjI6IFJlbmFtZSBwaXBlX2NvbmZpZyB0byBjcnRjX3N0YXRlIHdoaWxlIGF0
IGl0LgoKQ2M6IE1hbmFzaSBOYXZhcmUgPG1hbmFzaS5kLm5hdmFyZUBpbnRlbC5jb20+CkNjOiBW
YW5kaXRhIEt1bGthcm5pIDx2YW5kaXRhLmt1bGthcm5pQGludGVsLmNvbT4KQ2M6IFZpbGxlIFN5
cmrDpGzDpCA8dmlsbGUuc3lyamFsYUBsaW51eC5pbnRlbC5jb20+ClJldmlld2VkLWJ5OiBWYW5k
aXRhIEt1bGthcm5pIDx2YW5kaXRhLmt1bGthcm5pQGludGVsLmNvbT4KU2lnbmVkLW9mZi1ieTog
SmFuaSBOaWt1bGEgPGphbmkubmlrdWxhQGludGVsLmNvbT4KLS0tCiBkcml2ZXJzL2dwdS9kcm0v
aTkxNS9kaXNwbGF5L2ludGVsX2RwLmMgICB8IDQ3ICsrKysrKysrKysrKysrKysrKysrKy0KIGRy
aXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfdmRzYy5jIHwgNDggKy0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0KIDIgZmlsZXMgY2hhbmdlZCwgNDcgaW5zZXJ0aW9ucygrKSwgNDggZGVsZXRp
b25zKC0pCgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9k
cC5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kcC5jCmluZGV4IDBmNDk2
MTE1YzM0NS4uNmY3ZDE1YjVjZGZhIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9k
aXNwbGF5L2ludGVsX2RwLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRl
bF9kcC5jCkBAIC0yMDQ2LDYgKzIwNDYsNTEgQEAgc3RhdGljIGludCBpbnRlbF9kcF9kc2NfY29t
cHV0ZV9icHAoc3RydWN0IGludGVsX2RwICppbnRlbF9kcCwgdTggZHNjX21heF9icGMpCiAJcmV0
dXJuIDA7CiB9CiAKKyNkZWZpbmUgRFNDX1NVUFBPUlRFRF9WRVJTSU9OX01JTgkJMQorCitzdGF0
aWMgaW50IGludGVsX2RwX2RzY19jb21wdXRlX3BhcmFtcyhzdHJ1Y3QgaW50ZWxfZW5jb2RlciAq
ZW5jb2RlciwKKwkJCQkgICAgICAgc3RydWN0IGludGVsX2NydGNfc3RhdGUgKmNydGNfc3RhdGUp
Cit7CisJc3RydWN0IGludGVsX2RwICppbnRlbF9kcCA9IGVuY190b19pbnRlbF9kcCgmZW5jb2Rl
ci0+YmFzZSk7CisJc3RydWN0IGRybV9kc2NfY29uZmlnICp2ZHNjX2NmZyA9ICZjcnRjX3N0YXRl
LT5kc2MuY29uZmlnOworCXU4IGxpbmVfYnVmX2RlcHRoOworCWludCByZXQ7CisKKwlyZXQgPSBp
bnRlbF9kc2NfY29tcHV0ZV9wYXJhbXMoZW5jb2RlciwgY3J0Y19zdGF0ZSk7CisJaWYgKHJldCkK
KwkJcmV0dXJuIHJldDsKKworCXZkc2NfY2ZnLT5kc2NfdmVyc2lvbl9tYWpvciA9CisJCShpbnRl
bF9kcC0+ZHNjX2RwY2RbRFBfRFNDX1JFViAtIERQX0RTQ19TVVBQT1JUXSAmCisJCSBEUF9EU0Nf
TUFKT1JfTUFTSykgPj4gRFBfRFNDX01BSk9SX1NISUZUOworCXZkc2NfY2ZnLT5kc2NfdmVyc2lv
bl9taW5vciA9CisJCW1pbihEU0NfU1VQUE9SVEVEX1ZFUlNJT05fTUlOLAorCQkgICAgKGludGVs
X2RwLT5kc2NfZHBjZFtEUF9EU0NfUkVWIC0gRFBfRFNDX1NVUFBPUlRdICYKKwkJICAgICBEUF9E
U0NfTUlOT1JfTUFTSykgPj4gRFBfRFNDX01JTk9SX1NISUZUKTsKKworCXZkc2NfY2ZnLT5jb252
ZXJ0X3JnYiA9IGludGVsX2RwLT5kc2NfZHBjZFtEUF9EU0NfREVDX0NPTE9SX0ZPUk1BVF9DQVAg
LSBEUF9EU0NfU1VQUE9SVF0gJgorCQlEUF9EU0NfUkdCOworCisJbGluZV9idWZfZGVwdGggPSBk
cm1fZHBfZHNjX3NpbmtfbGluZV9idWZfZGVwdGgoaW50ZWxfZHAtPmRzY19kcGNkKTsKKwlpZiAo
IWxpbmVfYnVmX2RlcHRoKSB7CisJCURSTV9ERUJVR19LTVMoIkRTQyBTaW5rIExpbmUgQnVmZmVy
IERlcHRoIGludmFsaWRcbiIpOworCQlyZXR1cm4gLUVJTlZBTDsKKwl9CisKKwlpZiAodmRzY19j
ZmctPmRzY192ZXJzaW9uX21pbm9yID09IDIpCisJCXZkc2NfY2ZnLT5saW5lX2J1Zl9kZXB0aCA9
IChsaW5lX2J1Zl9kZXB0aCA9PSBEU0NfMV8yX01BWF9MSU5FQlVGX0RFUFRIX0JJVFMpID8KKwkJ
CURTQ18xXzJfTUFYX0xJTkVCVUZfREVQVEhfVkFMIDogbGluZV9idWZfZGVwdGg7CisJZWxzZQor
CQl2ZHNjX2NmZy0+bGluZV9idWZfZGVwdGggPSAobGluZV9idWZfZGVwdGggPiBEU0NfMV8xX01B
WF9MSU5FQlVGX0RFUFRIX0JJVFMpID8KKwkJCURTQ18xXzFfTUFYX0xJTkVCVUZfREVQVEhfQklU
UyA6IGxpbmVfYnVmX2RlcHRoOworCisJdmRzY19jZmctPmJsb2NrX3ByZWRfZW5hYmxlID0KKwkJ
aW50ZWxfZHAtPmRzY19kcGNkW0RQX0RTQ19CTEtfUFJFRElDVElPTl9TVVBQT1JUIC0gRFBfRFND
X1NVUFBPUlRdICYKKwkJRFBfRFNDX0JMS19QUkVESUNUSU9OX0lTX1NVUFBPUlRFRDsKKworCXJl
dHVybiBkcm1fZHNjX2NvbXB1dGVfcmNfcGFyYW1ldGVycyh2ZHNjX2NmZyk7Cit9CisKIHN0YXRp
YyBpbnQgaW50ZWxfZHBfZHNjX2NvbXB1dGVfY29uZmlnKHN0cnVjdCBpbnRlbF9kcCAqaW50ZWxf
ZHAsCiAJCQkJICAgICAgIHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpwaXBlX2NvbmZpZywKIAkJ
CQkgICAgICAgc3RydWN0IGRybV9jb25uZWN0b3Jfc3RhdGUgKmNvbm5fc3RhdGUsCkBAIC0yMTMy
LDcgKzIxNzcsNyBAQCBzdGF0aWMgaW50IGludGVsX2RwX2RzY19jb21wdXRlX2NvbmZpZyhzdHJ1
Y3QgaW50ZWxfZHAgKmludGVsX2RwLAogCQl9CiAJfQogCi0JcmV0ID0gaW50ZWxfZHNjX2NvbXB1
dGVfcGFyYW1zKCZkaWdfcG9ydC0+YmFzZSwgcGlwZV9jb25maWcpOworCXJldCA9IGludGVsX2Rw
X2RzY19jb21wdXRlX3BhcmFtcygmZGlnX3BvcnQtPmJhc2UsIHBpcGVfY29uZmlnKTsKIAlpZiAo
cmV0IDwgMCkgewogCQlEUk1fREVCVUdfS01TKCJDYW5ub3QgY29tcHV0ZSB2YWxpZCBEU0MgcGFy
YW1ldGVycyBmb3IgSW5wdXQgQnBwID0gJWQgIgogCQkJICAgICAgIkNvbXByZXNzZWQgQlBQID0g
JWRcbiIsCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX3Zk
c2MuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfdmRzYy5jCmluZGV4IGIy
M2JhOGQxMDhkYi4uODM0ZDY2NWE0N2QyIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkx
NS9kaXNwbGF5L2ludGVsX3Zkc2MuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5
L2ludGVsX3Zkc2MuYwpAQCAtMzAsOCArMzAsNiBAQCBlbnVtIENPTFVNTl9JTkRFWF9CUEMgewog
CU1BWF9DT0xVTU5fSU5ERVgKIH07CiAKLSNkZWZpbmUgRFNDX1NVUFBPUlRFRF9WRVJTSU9OX01J
TgkJMQotCiAvKiBGcm9tIERTQ192MS4xMSBzcGVjLCByY19wYXJhbWV0ZXJfU2V0IHN5bnRheCBl
bGVtZW50IHR5cGljYWxseSBjb25zdGFudCAqLwogc3RhdGljIGNvbnN0IHUxNiByY19idWZfdGhy
ZXNoW10gPSB7CiAJODk2LCAxNzkyLCAyNjg4LCAzNTg0LCA0NDgwLCA1Mzc2LCA2MjcyLCA2NzIw
LCA3MTY4LCA3NjE2LApAQCAtMzM1LDQ1ICszMzMsNiBAQCBzdGF0aWMgY29uc3Qgc3RydWN0IHJj
X3BhcmFtZXRlcnMgKmdldF9yY19wYXJhbXModTE2IGNvbXByZXNzZWRfYnBwLAogCXJldHVybiAm
cmNfcGFyYW1ldGVyc1tyb3dfaW5kZXhdW2NvbHVtbl9pbmRleF07CiB9CiAKLS8qIFZhbHVlcyBm
aWxsZWQgZnJvbSBEU0MgU2luayBEUENEICovCi1zdGF0aWMgaW50IGludGVsX2RzY19kcF9jb21w
dXRlX3BhcmFtcyhzdHJ1Y3QgaW50ZWxfZW5jb2RlciAqZW5jb2RlciwKLQkJCQkgICAgICAgc3Ry
dWN0IGludGVsX2NydGNfc3RhdGUgKnBpcGVfY29uZmlnKQotewotCXN0cnVjdCBpbnRlbF9kcCAq
aW50ZWxfZHAgPSBlbmNfdG9faW50ZWxfZHAoJmVuY29kZXItPmJhc2UpOwotCXN0cnVjdCBkcm1f
ZHNjX2NvbmZpZyAqdmRzY19jZmcgPSAmcGlwZV9jb25maWctPmRzYy5jb25maWc7Ci0JdTggbGlu
ZV9idWZfZGVwdGg7Ci0KLQl2ZHNjX2NmZy0+ZHNjX3ZlcnNpb25fbWFqb3IgPQotCQkoaW50ZWxf
ZHAtPmRzY19kcGNkW0RQX0RTQ19SRVYgLSBEUF9EU0NfU1VQUE9SVF0gJgotCQkgRFBfRFNDX01B
Sk9SX01BU0spID4+IERQX0RTQ19NQUpPUl9TSElGVDsKLQl2ZHNjX2NmZy0+ZHNjX3ZlcnNpb25f
bWlub3IgPQotCQltaW4oRFNDX1NVUFBPUlRFRF9WRVJTSU9OX01JTiwKLQkJICAgIChpbnRlbF9k
cC0+ZHNjX2RwY2RbRFBfRFNDX1JFViAtIERQX0RTQ19TVVBQT1JUXSAmCi0JCSAgICAgRFBfRFND
X01JTk9SX01BU0spID4+IERQX0RTQ19NSU5PUl9TSElGVCk7Ci0KLQl2ZHNjX2NmZy0+Y29udmVy
dF9yZ2IgPSBpbnRlbF9kcC0+ZHNjX2RwY2RbRFBfRFNDX0RFQ19DT0xPUl9GT1JNQVRfQ0FQIC0g
RFBfRFNDX1NVUFBPUlRdICYKLQkJRFBfRFNDX1JHQjsKLQotCWxpbmVfYnVmX2RlcHRoID0gZHJt
X2RwX2RzY19zaW5rX2xpbmVfYnVmX2RlcHRoKGludGVsX2RwLT5kc2NfZHBjZCk7Ci0JaWYgKCFs
aW5lX2J1Zl9kZXB0aCkgewotCQlEUk1fREVCVUdfS01TKCJEU0MgU2luayBMaW5lIEJ1ZmZlciBE
ZXB0aCBpbnZhbGlkXG4iKTsKLQkJcmV0dXJuIC1FSU5WQUw7Ci0JfQotCi0JaWYgKHZkc2NfY2Zn
LT5kc2NfdmVyc2lvbl9taW5vciA9PSAyKQotCQl2ZHNjX2NmZy0+bGluZV9idWZfZGVwdGggPSAo
bGluZV9idWZfZGVwdGggPT0gRFNDXzFfMl9NQVhfTElORUJVRl9ERVBUSF9CSVRTKSA/Ci0JCQlE
U0NfMV8yX01BWF9MSU5FQlVGX0RFUFRIX1ZBTCA6IGxpbmVfYnVmX2RlcHRoOwotCWVsc2UKLQkJ
dmRzY19jZmctPmxpbmVfYnVmX2RlcHRoID0gKGxpbmVfYnVmX2RlcHRoID4gRFNDXzFfMV9NQVhf
TElORUJVRl9ERVBUSF9CSVRTKSA/Ci0JCQlEU0NfMV8xX01BWF9MSU5FQlVGX0RFUFRIX0JJVFMg
OiBsaW5lX2J1Zl9kZXB0aDsKLQotCXZkc2NfY2ZnLT5ibG9ja19wcmVkX2VuYWJsZSA9Ci0JCQlp
bnRlbF9kcC0+ZHNjX2RwY2RbRFBfRFNDX0JMS19QUkVESUNUSU9OX1NVUFBPUlQgLSBEUF9EU0Nf
U1VQUE9SVF0gJgotCQlEUF9EU0NfQkxLX1BSRURJQ1RJT05fSVNfU1VQUE9SVEVEOwotCi0JcmV0
dXJuIDA7Ci19Ci0KIGludCBpbnRlbF9kc2NfY29tcHV0ZV9wYXJhbXMoc3RydWN0IGludGVsX2Vu
Y29kZXIgKmVuY29kZXIsCiAJCQkgICAgIHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpwaXBlX2Nv
bmZpZykKIHsKQEAgLTM4MSw3ICszNDAsNiBAQCBpbnQgaW50ZWxfZHNjX2NvbXB1dGVfcGFyYW1z
KHN0cnVjdCBpbnRlbF9lbmNvZGVyICplbmNvZGVyLAogCXUxNiBjb21wcmVzc2VkX2JwcCA9IHBp
cGVfY29uZmlnLT5kc2MuY29tcHJlc3NlZF9icHA7CiAJY29uc3Qgc3RydWN0IHJjX3BhcmFtZXRl
cnMgKnJjX3BhcmFtczsKIAl1OCBpID0gMDsKLQlpbnQgcmV0OwogCiAJdmRzY19jZmctPnBpY193
aWR0aCA9IHBpcGVfY29uZmlnLT5ody5hZGp1c3RlZF9tb2RlLmNydGNfaGRpc3BsYXk7CiAJdmRz
Y19jZmctPnBpY19oZWlnaHQgPSBwaXBlX2NvbmZpZy0+aHcuYWRqdXN0ZWRfbW9kZS5jcnRjX3Zk
aXNwbGF5OwpAQCAtNDcwLDExICs0MjgsNyBAQCBpbnQgaW50ZWxfZHNjX2NvbXB1dGVfcGFyYW1z
KHN0cnVjdCBpbnRlbF9lbmNvZGVyICplbmNvZGVyLAogCXZkc2NfY2ZnLT5pbml0aWFsX3NjYWxl
X3ZhbHVlID0gKHZkc2NfY2ZnLT5yY19tb2RlbF9zaXplIDw8IDMpIC8KIAkJKHZkc2NfY2ZnLT5y
Y19tb2RlbF9zaXplIC0gdmRzY19jZmctPmluaXRpYWxfb2Zmc2V0KTsKIAotCXJldCA9IGludGVs
X2RzY19kcF9jb21wdXRlX3BhcmFtcyhlbmNvZGVyLCBwaXBlX2NvbmZpZyk7Ci0JaWYgKHJldCkK
LQkJcmV0dXJuIHJldDsKLQotCXJldHVybiBkcm1fZHNjX2NvbXB1dGVfcmNfcGFyYW1ldGVycyh2
ZHNjX2NmZyk7CisJcmV0dXJuIDA7CiB9CiAKIGVudW0gaW50ZWxfZGlzcGxheV9wb3dlcl9kb21h
aW4KLS0gCjIuMjAuMQoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX18KSW50ZWwtZ2Z4IG1haWxpbmcgbGlzdApJbnRlbC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Au
b3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vaW50ZWwt
Z2Z4Cg==

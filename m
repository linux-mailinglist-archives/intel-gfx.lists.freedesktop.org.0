Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 0A1C310FAA0
	for <lists+intel-gfx@lfdr.de>; Tue,  3 Dec 2019 10:18:58 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 49A736E447;
	Tue,  3 Dec 2019 09:18:56 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga12.intel.com (mga12.intel.com [192.55.52.136])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 482786E43F
 for <intel-gfx@lists.freedesktop.org>; Tue,  3 Dec 2019 09:18:54 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga008.jf.intel.com ([10.7.209.65])
 by fmsmga106.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 03 Dec 2019 01:18:53 -0800
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.69,272,1571727600"; d="scan'208";a="204908247"
Received: from madam7x-mobl3.ger.corp.intel.com (HELO [10.252.34.197])
 ([10.252.34.197])
 by orsmga008.jf.intel.com with ESMTP; 03 Dec 2019 01:18:52 -0800
To: =?UTF-8?B?VmlsbGUgU3lyasOkbMOk?= <ville.syrjala@linux.intel.com>
References: <20191114160522.9699-1-maarten.lankhorst@linux.intel.com>
 <20191114160522.9699-4-maarten.lankhorst@linux.intel.com>
 <20191128190423.GZ1208@intel.com>
From: Maarten Lankhorst <maarten.lankhorst@linux.intel.com>
Message-ID: <1172764a-3e43-29bb-848f-8bee4161ae45@linux.intel.com>
Date: Tue, 3 Dec 2019 10:18:51 +0100
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101
 Thunderbird/60.9.0
MIME-Version: 1.0
In-Reply-To: <20191128190423.GZ1208@intel.com>
Content-Language: en-US
Subject: Re: [Intel-gfx] [PATCH 04/11] drm/i915/dp: Allow big joiner modes
 in intel_dp_mode_valid(), v3.
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: intel-gfx@lists.freedesktop.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

T3AgMjgtMTEtMjAxOSBvbSAyMDowNCBzY2hyZWVmIFZpbGxlIFN5cmrDpGzDpDoKPiBPbiBUaHUs
IE5vdiAxNCwgMjAxOSBhdCAwNTowNToxNVBNICswMTAwLCBNYWFydGVuIExhbmtob3JzdCB3cm90
ZToKPj4gU21hbGwgY2hhbmdlcyB0byBpbnRlbF9kcF9tb2RlX3ZhbGlkKCksIGFsbG93IGxpc3Rp
bmcgbW9kZXMgdGhhdAo+PiBjYW4gb25seSBiZSBzdXBwb3J0ZWQgaW4gdGhlIGJpZ2pvaW5lciBj
b25maWd1cmF0aW9uLCB3aGljaCBpcwo+PiBub3Qgc3VwcG9ydGVkIHlldC4KPj4KPj4gZURQIGRv
ZXMgbm90IHN1cHBvcnQgYmlnam9pbmVyLCBzbyBkbyBub3QgZXhwb3NlIGJpZ2pvaW5lciBvbmx5
Cj4+IG1vZGVzIG9uIHRoZSBlRFAgcG9ydC4KPj4KPj4gQ2hhbmdlcyBzaW5jZSB2MToKPj4gLSBE
aXNhbGxvdyBiaWdqb2luZXIgb24gZURQLgo+PiBDaGFuZ2VzIHNpbmNlIHYyOgo+PiAtIFJlbmFt
ZSBpbnRlbF9kcF9kb3duc3RyZWFtX21heF9kb3RjbG9jayB0byBpbnRlbF9kcF9tYXhfZG90Y2xv
Y2ssCj4+ICAgYW5kIHNwbGl0IG9mZiB0aGUgZG93bnN0cmVhbSBhbmQgc291cmNlIGNoZWNraW5n
IHRvIGl0cyBvd24gZnVuY3Rpb24uCj4+ICAgKFZpbGxlKQo+Pgo+PiBTaWduZWQtb2ZmLWJ5OiBN
YWFydGVuIExhbmtob3JzdCA8bWFhcnRlbi5sYW5raG9yc3RAbGludXguaW50ZWwuY29tPgo+PiAt
LS0KPj4gIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZHAuYyB8IDExNyArKysr
KysrKysrKysrKysrKystLS0tLS0KPj4gIDEgZmlsZSBjaGFuZ2VkLCA4OSBpbnNlcnRpb25zKCsp
LCAyOCBkZWxldGlvbnMoLSkKPj4KPj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1
L2Rpc3BsYXkvaW50ZWxfZHAuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxf
ZHAuYwo+PiBpbmRleCAzMTIzOTU4ZTIwODEuLjliN2RmOGU4NWVhMiAxMDA2NDQKPj4gLS0tIGEv
ZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kcC5jCj4+ICsrKyBiL2RyaXZlcnMv
Z3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZHAuYwo+PiBAQCAtMjQzLDI1ICsyNDMsMzcgQEAg
aW50ZWxfZHBfbWF4X2RhdGFfcmF0ZShpbnQgbWF4X2xpbmtfY2xvY2ssIGludCBtYXhfbGFuZXMp
Cj4+ICAJcmV0dXJuIG1heF9saW5rX2Nsb2NrICogbWF4X2xhbmVzOwo+PiAgfQo+PiAgCj4+IC1z
dGF0aWMgaW50Cj4+IC1pbnRlbF9kcF9kb3duc3RyZWFtX21heF9kb3RjbG9jayhzdHJ1Y3QgaW50
ZWxfZHAgKmludGVsX2RwKQo+PiArc3RhdGljIGludCBzb3VyY2VfbWF4X2RvdGNsb2NrKHN0cnVj
dCBpbnRlbF9kcCAqaW50ZWxfZHAsIGJvb2wgYWxsb3dfYmlnam9pbmVyKQo+PiAgewo+PiAgCXN0
cnVjdCBpbnRlbF9kaWdpdGFsX3BvcnQgKmludGVsX2RpZ19wb3J0ID0gZHBfdG9fZGlnX3BvcnQo
aW50ZWxfZHApOwo+PiAgCXN0cnVjdCBpbnRlbF9lbmNvZGVyICplbmNvZGVyID0gJmludGVsX2Rp
Z19wb3J0LT5iYXNlOwo+PiAtCXN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiA9IHRv
X2k5MTUoZW5jb2Rlci0+YmFzZS5kZXYpOwo+PiAtCWludCBtYXhfZG90Y2xrID0gZGV2X3ByaXYt
Pm1heF9kb3RjbGtfZnJlcTsKPj4gLQlpbnQgZHNfbWF4X2RvdGNsazsKPj4gKwlzdHJ1Y3QgZHJt
X2k5MTVfcHJpdmF0ZSAqaTkxNSA9IHRvX2k5MTUoZW5jb2Rlci0+YmFzZS5kZXYpOwo+PiArCj4+
ICsJaWYgKGFsbG93X2JpZ2pvaW5lciAmJiBJTlRFTF9HRU4oaTkxNSkgPj0gMTEgJiYgIWludGVs
X2RwX2lzX2VkcChpbnRlbF9kcCkpCj4gU2hvdWxkIHRoZSBlZHAgY2hlY2sgYWN0dWFsbHkgYmUg
Y2hlY2sgZm9yIHRoZSBlZHAgdHJhbnNjb2Rlcgo+IChpZS4gcG9ydCBBKSBvbiBpY2w/Cklzbid0
IHRoYXQgZXF1aXZhbGVudCB0byB0aGlzIGNoZWNrPwo+Cj4+ICsJCXJldHVybiAyICogaTkxNS0+
bWF4X2RvdGNsa19mcmVxOwo+PiArCj4+ICsJcmV0dXJuIGk5MTUtPm1heF9kb3RjbGtfZnJlcTsK
Pj4gK30KPj4gIAo+PiArc3RhdGljIGludCBkb3duc3RyZWFtX21heF9kb3RjbG9jayhzdHJ1Y3Qg
aW50ZWxfZHAgKmludGVsX2RwKQo+PiArewo+PiAgCWludCB0eXBlID0gaW50ZWxfZHAtPmRvd25z
dHJlYW1fcG9ydHNbMF0gJiBEUF9EU19QT1JUX1RZUEVfTUFTSzsKPj4gIAo+PiAgCWlmICh0eXBl
ICE9IERQX0RTX1BPUlRfVFlQRV9WR0EpCj4+IC0JCXJldHVybiBtYXhfZG90Y2xrOwo+PiArCQly
ZXR1cm4gMDsKPj4gIAo+PiAtCWRzX21heF9kb3RjbGsgPSBkcm1fZHBfZG93bnN0cmVhbV9tYXhf
Y2xvY2soaW50ZWxfZHAtPmRwY2QsCj4+IC0JCQkJCQkgICAgaW50ZWxfZHAtPmRvd25zdHJlYW1f
cG9ydHMpOwo+PiArCXJldHVybiBkcm1fZHBfZG93bnN0cmVhbV9tYXhfY2xvY2soaW50ZWxfZHAt
PmRwY2QsCj4+ICsJCQkJCSAgIGludGVsX2RwLT5kb3duc3RyZWFtX3BvcnRzKTsKPj4gK30KPj4g
Kwo+PiArc3RhdGljIGludAo+PiAraW50ZWxfZHBfbWF4X2RvdGNsb2NrKHN0cnVjdCBpbnRlbF9k
cCAqaW50ZWxfZHAsIGJvb2wgYWxsb3dfYmlnam9pbmVyKQo+PiArewo+PiArCWludCBtYXhfZG90
Y2xrID0gc291cmNlX21heF9kb3RjbG9jayhpbnRlbF9kcCwgYWxsb3dfYmlnam9pbmVyKTsKPj4g
KwlpbnQgZHNfbWF4X2RvdGNsayA9IGRvd25zdHJlYW1fbWF4X2RvdGNsb2NrKGludGVsX2RwKTsK
Pj4gIAo+PiAgCWlmIChkc19tYXhfZG90Y2xrICE9IDApCj4+IC0JCW1heF9kb3RjbGsgPSBtaW4o
bWF4X2RvdGNsaywgZHNfbWF4X2RvdGNsayk7Cj4+ICsJCXJldHVybiBtaW4obWF4X2RvdGNsaywg
ZHNfbWF4X2RvdGNsayk7Cj4+ICAKPj4gIAlyZXR1cm4gbWF4X2RvdGNsazsKPj4gIH0KPj4gQEAg
LTUwNiw3ICs1MTgsOCBAQCBzbWFsbF9qb2luZXJfcmFtX3NpemVfYml0cyhzdHJ1Y3QgZHJtX2k5
MTVfcHJpdmF0ZSAqaTkxNSkKPj4gIAo+PiAgc3RhdGljIHUxNiBpbnRlbF9kcF9kc2NfZ2V0X291
dHB1dF9icHAoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUsCj4+ICAJCQkJICAgICAgIHUz
MiBsaW5rX2Nsb2NrLCB1MzIgbGFuZV9jb3VudCwKPj4gLQkJCQkgICAgICAgdTMyIG1vZGVfY2xv
Y2ssIHUzMiBtb2RlX2hkaXNwbGF5KQo+PiArCQkJCSAgICAgICB1MzIgbW9kZV9jbG9jaywgdTMy
IG1vZGVfaGRpc3BsYXksCj4+ICsJCQkJICAgICAgIGJvb2wgYmlnam9pbmVyKQo+PiAgewo+PiAg
CXUzMiBiaXRzX3Blcl9waXhlbCwgbWF4X2JwcF9zbWFsbF9qb2luZXJfcmFtOwo+PiAgCWludCBp
Owo+PiBAQCAtNTI0LDYgKzUzNywxMCBAQCBzdGF0aWMgdTE2IGludGVsX2RwX2RzY19nZXRfb3V0
cHV0X2JwcChzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSwKPj4gIAkvKiBTbWFsbCBKb2lu
ZXIgQ2hlY2s6IG91dHB1dCBicHAgPD0gam9pbmVyIFJBTSAoYml0cykgLyBIb3Jpei4gd2lkdGgg
Ki8KPj4gIAltYXhfYnBwX3NtYWxsX2pvaW5lcl9yYW0gPSBzbWFsbF9qb2luZXJfcmFtX3NpemVf
Yml0cyhpOTE1KSAvCj4+ICAJCW1vZGVfaGRpc3BsYXk7Cj4+ICsKPj4gKwlpZiAoYmlnam9pbmVy
KQo+PiArCQltYXhfYnBwX3NtYWxsX2pvaW5lcl9yYW0gKj0gMjsKPj4gKwo+PiAgCURSTV9ERUJV
R19LTVMoIk1heCBzbWFsbCBqb2luZXIgYnBwOiAldVxuIiwgbWF4X2JwcF9zbWFsbF9qb2luZXJf
cmFtKTsKPj4gIAo+PiAgCS8qCj4+IEBAIC01MzIsNiArNTQ5LDE1IEBAIHN0YXRpYyB1MTYgaW50
ZWxfZHBfZHNjX2dldF9vdXRwdXRfYnBwKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICppOTE1LAo+
PiAgCSAqLwo+PiAgCWJpdHNfcGVyX3BpeGVsID0gbWluKGJpdHNfcGVyX3BpeGVsLCBtYXhfYnBw
X3NtYWxsX2pvaW5lcl9yYW0pOwo+PiAgCj4+ICsJaWYgKGJpZ2pvaW5lcikgewo+PiArCQl1MzIg
bWF4X2JwcF9iaWdqb2luZXIgPQo+PiArCQkJaTkxNS0+bWF4X2NkY2xrX2ZyZXEgKiA0OCAvCj4+
ICsJCQlpbnRlbF9kcF9tb2RlX3RvX2ZlY19jbG9jayhtb2RlX2Nsb2NrKTsKPj4gKwo+PiArCQlE
Uk1fREVCVUdfS01TKCJNYXggYmlnIGpvaW5lciBicHA6ICV1XG4iLCBtYXhfYnBwX2JpZ2pvaW5l
cik7Cj4+ICsJCWJpdHNfcGVyX3BpeGVsID0gbWluKGJpdHNfcGVyX3BpeGVsLCBtYXhfYnBwX2Jp
Z2pvaW5lcik7Cj4+ICsJfQo+PiArCj4+ICAJLyogRXJyb3Igb3V0IGlmIHRoZSBtYXggYnBwIGlz
IGxlc3MgdGhhbiBzbWFsbGVzdCBhbGxvd2VkIHZhbGlkIGJwcCAqLwo+PiAgCWlmIChiaXRzX3Bl
cl9waXhlbCA8IHZhbGlkX2RzY19icHBbMF0pIHsKPj4gIAkJRFJNX0RFQlVHX0tNUygiVW5zdXBw
b3J0ZWQgQlBQICV1LCBtaW4gJXVcbiIsCj4+IEBAIC01NTQsNyArNTgwLDggQEAgc3RhdGljIHUx
NiBpbnRlbF9kcF9kc2NfZ2V0X291dHB1dF9icHAoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5
MTUsCj4+ICB9Cj4+ICAKPj4gIHN0YXRpYyB1OCBpbnRlbF9kcF9kc2NfZ2V0X3NsaWNlX2NvdW50
KHN0cnVjdCBpbnRlbF9kcCAqaW50ZWxfZHAsCj4+IC0JCQkJICAgICAgIGludCBtb2RlX2Nsb2Nr
LCBpbnQgbW9kZV9oZGlzcGxheSkKPj4gKwkJCQkgICAgICAgaW50IG1vZGVfY2xvY2ssIGludCBt
b2RlX2hkaXNwbGF5LAo+PiArCQkJCSAgICAgICBib29sIGJpZ2pvaW5lcikKPj4gIHsKPj4gIAl1
OCBtaW5fc2xpY2VfY291bnQsIGk7Cj4+ICAJaW50IG1heF9zbGljZV93aWR0aDsKPj4gQEAgLTU3
OSwxMiArNjA2LDIwIEBAIHN0YXRpYyB1OCBpbnRlbF9kcF9kc2NfZ2V0X3NsaWNlX2NvdW50KHN0
cnVjdCBpbnRlbF9kcCAqaW50ZWxfZHAsCj4+ICAKPj4gIAkvKiBGaW5kIHRoZSBjbG9zZXN0IG1h
dGNoIHRvIHRoZSB2YWxpZCBzbGljZSBjb3VudCB2YWx1ZXMgKi8KPj4gIAlmb3IgKGkgPSAwOyBp
IDwgQVJSQVlfU0laRSh2YWxpZF9kc2Nfc2xpY2Vjb3VudCk7IGkrKykgewo+PiAtCQlpZiAodmFs
aWRfZHNjX3NsaWNlY291bnRbaV0gPgo+PiAtCQkgICAgZHJtX2RwX2RzY19zaW5rX21heF9zbGlj
ZV9jb3VudChpbnRlbF9kcC0+ZHNjX2RwY2QsCj4+IC0JCQkJCQkgICAgZmFsc2UpKQo+PiArCQl1
OCB0ZXN0X3NsaWNlX2NvdW50ID0gYmlnam9pbmVyID8KPiBUaGUgdGVzdF8gcHJlZml4IGlzIHRo
cm93aW5nIG1lIG9mZi4gSnVzdCBzbGljZV9jb3VudD8KPgo+PiArCQkJMiAqIHZhbGlkX2RzY19z
bGljZWNvdW50W2ldIDoKPj4gKwkJCXZhbGlkX2RzY19zbGljZWNvdW50W2ldOwo+PiArCj4+ICsJ
CWlmICh0ZXN0X3NsaWNlX2NvdW50ID4KPj4gKwkJICAgIGRybV9kcF9kc2Nfc2lua19tYXhfc2xp
Y2VfY291bnQoaW50ZWxfZHAtPmRzY19kcGNkLCBmYWxzZSkpCj4+ICAJCQlicmVhazsKPj4gLQkJ
aWYgKG1pbl9zbGljZV9jb3VudCAgPD0gdmFsaWRfZHNjX3NsaWNlY291bnRbaV0pCj4+IC0JCQly
ZXR1cm4gdmFsaWRfZHNjX3NsaWNlY291bnRbaV07Cj4+ICsKPj4gKwkJLyogYmlnIGpvaW5lciBu
ZWVkcyBzbWFsbCBqb2luZXIgdG8gYmUgZW5hYmxlZCAqLwo+PiArCQlpZiAoYmlnam9pbmVyICYm
IHRlc3Rfc2xpY2VfY291bnQgPCA0KQo+PiArCQkJY29udGludWU7Cj4+ICsKPj4gKwkJaWYgKG1p
bl9zbGljZV9jb3VudCA8PSB0ZXN0X3NsaWNlX2NvdW50KQo+IHNsaWNlX2NvdW50ID4gbWluX3Ns
aWNlX2NvdW50PyBXb3VsZCBmZWVsIGEgYml0IG1vcmUgbmF0dXJhbHRvIG1lLgpZZWFoIG1ha2Vz
IHNlbnNlLgo+PiArCQkJcmV0dXJuIHRlc3Rfc2xpY2VfY291bnQ7Cj4+ICAJfQo+PiAgCj4+ICAJ
RFJNX0RFQlVHX0tNUygiVW5zdXBwb3J0ZWQgU2xpY2UgQ291bnQgJWRcbiIsIG1pbl9zbGljZV9j
b3VudCk7Cj4+IEBAIC02MjMsMTEgKzY1OCwxNSBAQCBpbnRlbF9kcF9tb2RlX3ZhbGlkKHN0cnVj
dCBkcm1fY29ubmVjdG9yICpjb25uZWN0b3IsCj4+ICAJaW50IG1heF9kb3RjbGs7Cj4+ICAJdTE2
IGRzY19tYXhfb3V0cHV0X2JwcCA9IDA7Cj4+ICAJdTggZHNjX3NsaWNlX2NvdW50ID0gMDsKPj4g
Kwlib29sIGRzYyA9IGZhbHNlLCBiaWdqb2luZXIgPSBmYWxzZTsKPj4gIAo+PiAgCWlmIChtb2Rl
LT5mbGFncyAmIERSTV9NT0RFX0ZMQUdfREJMU0NBTikKPj4gIAkJcmV0dXJuIE1PREVfTk9fREJM
RVNDQU47Cj4+ICAKPj4gLQltYXhfZG90Y2xrID0gaW50ZWxfZHBfZG93bnN0cmVhbV9tYXhfZG90
Y2xvY2soaW50ZWxfZHApOwo+PiArCWlmIChtb2RlLT5mbGFncyAmIERSTV9NT0RFX0ZMQUdfREJM
Q0xLKQo+PiArCQlyZXR1cm4gTU9ERV9IX0lMTEVHQUw7Cj4+ICsKPj4gKwltYXhfZG90Y2xrID0g
aW50ZWxfZHBfbWF4X2RvdGNsb2NrKGludGVsX2RwLCBmYWxzZSk7Cj4+ICAKPj4gIAlpZiAoaW50
ZWxfZHBfaXNfZWRwKGludGVsX2RwKSAmJiBmaXhlZF9tb2RlKSB7Cj4+ICAJCWlmIChtb2RlLT5o
ZGlzcGxheSA+IGZpeGVkX21vZGUtPmhkaXNwbGF5KQo+PiBAQCAtNjM5LDYgKzY3OCwyMSBAQCBp
bnRlbF9kcF9tb2RlX3ZhbGlkKHN0cnVjdCBkcm1fY29ubmVjdG9yICpjb25uZWN0b3IsCj4+ICAJ
CXRhcmdldF9jbG9jayA9IGZpeGVkX21vZGUtPmNsb2NrOwo+PiAgCX0KPj4gIAo+PiArCWlmICht
b2RlLT5jbG9jayA8IDEwMDAwKQo+PiArCQlyZXR1cm4gTU9ERV9DTE9DS19MT1c7Cj4+ICsKPj4g
KwlpZiAodGFyZ2V0X2Nsb2NrID4gbWF4X2RvdGNsaykgewo+PiArCQlpZiAoaW50ZWxfZHBfaXNf
ZWRwKGludGVsX2RwKSkKPj4gKwkJCXJldHVybiBNT0RFX0NMT0NLX0hJR0g7Cj4+ICsKPj4gKwkJ
bWF4X2RvdGNsayA9IGludGVsX2RwX21heF9kb3RjbG9jayhpbnRlbF9kcCwgdHJ1ZSk7Cj4+ICsK
Pj4gKwkJaWYgKHRhcmdldF9jbG9jayA+IG1heF9kb3RjbGspCj4+ICsJCQlyZXR1cm4gTU9ERV9D
TE9DS19ISUdIOwo+PiArCj4+ICsJCWJpZ2pvaW5lciA9IHRydWU7Cj4+ICsJfQo+PiArCj4+ICAJ
bWF4X2xpbmtfY2xvY2sgPSBpbnRlbF9kcF9tYXhfbGlua19yYXRlKGludGVsX2RwKTsKPj4gIAlt
YXhfbGFuZXMgPSBpbnRlbF9kcF9tYXhfbGFuZV9jb3VudChpbnRlbF9kcCk7Cj4+ICAKPj4gQEAg
LTY2NiwyMyArNzIwLDI4IEBAIGludGVsX2RwX21vZGVfdmFsaWQoc3RydWN0IGRybV9jb25uZWN0
b3IgKmNvbm5lY3RvciwKPj4gIAkJCQkJCQkgICAgbWF4X2xpbmtfY2xvY2ssCj4+ICAJCQkJCQkJ
ICAgIG1heF9sYW5lcywKPj4gIAkJCQkJCQkgICAgdGFyZ2V0X2Nsb2NrLAo+PiAtCQkJCQkJCSAg
ICBtb2RlLT5oZGlzcGxheSkgPj4gNDsKPj4gKwkJCQkJCQkgICAgbW9kZS0+aGRpc3BsYXksCj4+
ICsJCQkJCQkJICAgIGJpZ2pvaW5lcikgPj4gNDsKPj4gIAkJCWRzY19zbGljZV9jb3VudCA9Cj4+
ICAJCQkJaW50ZWxfZHBfZHNjX2dldF9zbGljZV9jb3VudChpbnRlbF9kcCwKPj4gIAkJCQkJCQkg
ICAgIHRhcmdldF9jbG9jaywKPj4gLQkJCQkJCQkgICAgIG1vZGUtPmhkaXNwbGF5KTsKPj4gKwkJ
CQkJCQkgICAgIG1vZGUtPmhkaXNwbGF5LAo+PiArCQkJCQkJCSAgICAgYmlnam9pbmVyKTsKPj4g
IAkJfQo+PiArCj4+ICsJCWRzYyA9IGRzY19tYXhfb3V0cHV0X2JwcCAmJiBkc2Nfc2xpY2VfY291
bnQ7Cj4+ICAJfQo+PiAgCj4+IC0JaWYgKChtb2RlX3JhdGUgPiBtYXhfcmF0ZSAmJiAhKGRzY19t
YXhfb3V0cHV0X2JwcCAmJiBkc2Nfc2xpY2VfY291bnQpKSB8fAo+PiAtCSAgICB0YXJnZXRfY2xv
Y2sgPiBtYXhfZG90Y2xrKQo+PiArCS8qIGJpZyBqb2luZXIgY29uZmlndXJhdGlvbiBuZWVkcyBE
U0MgKi8KPj4gKwlpZiAoYmlnam9pbmVyICYmICFkc2MpIHsKPj4gKwkJRFJNX0RFQlVHX0tNUygi
TGluayBjbG9jayBuZWVkcyBiaWdqb2luZXIsIGJ1dCBEU0Mgb3IgRkVDIG5vdCBhdmFpbGFibGVc
biIpOwo+IEkgZG9uJ3QgdGhpbmsgd2Ugc3BldyBkZWJ1Z3MgZnJvbSBtb2RlX3ZhbGlkKCkgZWxz
ZXdoZXJlLgpHb29kIGZvciBkZWJ1Z2dpbmcsIGJ1dCB5ZWFoIGNhbiBraWxsIGRlYnVnIG1lc3Nh
Z2VzIGlmIHdhbnRlZC4KPj4gIAkJcmV0dXJuIE1PREVfQ0xPQ0tfSElHSDsKPj4gKwl9Cj4+ICAK
Pj4gLQlpZiAobW9kZS0+Y2xvY2sgPCAxMDAwMCkKPj4gLQkJcmV0dXJuIE1PREVfQ0xPQ0tfTE9X
Owo+PiAtCj4+IC0JaWYgKG1vZGUtPmZsYWdzICYgRFJNX01PREVfRkxBR19EQkxDTEspCj4+IC0J
CXJldHVybiBNT0RFX0hfSUxMRUdBTDsKPj4gKwlpZiAobW9kZV9yYXRlID4gbWF4X3JhdGUgJiYg
IWRzYykgewo+IE5vdCBhIGh1Z2UgZmFuIG9mIHRoaXMgZHNjIGJvb2xlYW4uIFdvdWxkIGZlZWwg
bW9yZSBuYXR1cmFsIGlmIHRoZSBkc2MKPiB0aGluZyB3b3VsZCBjb21wdXRlIGEgbmV3IG1vZGVf
cmF0ZSB3aXRoIG1heCBhY2hpZXZhYmxlIGNvbXByZXNzaW9uLAo+IG9yIHNvbWV0aGluZyBhbG9u
ZyB0aG9zZSBsaW5lcy4gQnV0IHRoaXMgY291bGQgYmUgY2xlYW5lZCB1cCBsYXRlci4KWWVhaC4K
Pgo+PiArCQlEUk1fREVCVUdfS01TKCJDYW5ub3QgZHJpdmUgd2l0aG91dCBEU0NcbiIpOwo+PiAr
CQlyZXR1cm4gTU9ERV9DTE9DS19ISUdIOwo+PiArCX0KPj4gIAo+PiAgCXJldHVybiBpbnRlbF9t
b2RlX3ZhbGlkX21heF9wbGFuZV9zaXplKGRldl9wcml2LCBtb2RlKTsKPj4gIH0KPj4gQEAgLTIx
MDQsMTEgKzIxNjMsMTMgQEAgc3RhdGljIGludCBpbnRlbF9kcF9kc2NfY29tcHV0ZV9jb25maWco
c3RydWN0IGludGVsX2RwICppbnRlbF9kcCwKPj4gIAkJCQkJCSAgICBwaXBlX2NvbmZpZy0+cG9y
dF9jbG9jaywKPj4gIAkJCQkJCSAgICBwaXBlX2NvbmZpZy0+bGFuZV9jb3VudCwKPj4gIAkJCQkJ
CSAgICBhZGp1c3RlZF9tb2RlLT5jcnRjX2Nsb2NrLAo+PiAtCQkJCQkJICAgIGFkanVzdGVkX21v
ZGUtPmNydGNfaGRpc3BsYXkpOwo+PiArCQkJCQkJICAgIGFkanVzdGVkX21vZGUtPmNydGNfaGRp
c3BsYXksCj4+ICsJCQkJCQkgICAgZmFsc2UpOwo+PiAgCQlkc2NfZHBfc2xpY2VfY291bnQgPQo+
PiAgCQkJaW50ZWxfZHBfZHNjX2dldF9zbGljZV9jb3VudChpbnRlbF9kcCwKPj4gIAkJCQkJCSAg
ICAgYWRqdXN0ZWRfbW9kZS0+Y3J0Y19jbG9jaywKPj4gLQkJCQkJCSAgICAgYWRqdXN0ZWRfbW9k
ZS0+Y3J0Y19oZGlzcGxheSk7Cj4+ICsJCQkJCQkgICAgIGFkanVzdGVkX21vZGUtPmNydGNfaGRp
c3BsYXksCj4+ICsJCQkJCQkgICAgIGZhbHNlKTsKPj4gIAkJaWYgKCFkc2NfbWF4X291dHB1dF9i
cHAgfHwgIWRzY19kcF9zbGljZV9jb3VudCkgewo+PiAgCQkJRFJNX0RFQlVHX0tNUygiQ29tcHJl
c3NlZCBCUFAvU2xpY2UgQ291bnQgbm90IHN1cHBvcnRlZFxuIik7Cj4+ICAJCQlyZXR1cm4gLUVJ
TlZBTDsKPj4gLS0gCj4+IDIuMjQuMAo+Pgo+PiBfX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fXwo+PiBJbnRlbC1nZnggbWFpbGluZyBsaXN0Cj4+IEludGVsLWdm
eEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKPj4gaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcv
bWFpbG1hbi9saXN0aW5mby9pbnRlbC1nZngKCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fXwpJbnRlbC1nZnggbWFpbGluZyBsaXN0CkludGVsLWdmeEBsaXN0
cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9s
aXN0aW5mby9pbnRlbC1nZng=

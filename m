Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id A28F83B8A4
	for <lists+intel-gfx@lfdr.de>; Mon, 10 Jun 2019 17:54:38 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 9F1B489182;
	Mon, 10 Jun 2019 15:54:36 +0000 (UTC)
X-Original-To: Intel-gfx@lists.freedesktop.org
Delivered-To: Intel-gfx@lists.freedesktop.org
Received: from mga02.intel.com (mga02.intel.com [134.134.136.20])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 7D4438918A
 for <Intel-gfx@lists.freedesktop.org>; Mon, 10 Jun 2019 15:54:34 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from fmsmga001.fm.intel.com ([10.253.24.23])
 by orsmga101.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 10 Jun 2019 08:54:34 -0700
X-ExtLoop1: 1
Received: from jwwillia-mobl1.amr.corp.intel.com (HELO localhost.localdomain)
 ([10.252.8.43])
 by fmsmga001.fm.intel.com with ESMTP; 10 Jun 2019 08:54:33 -0700
From: Tvrtko Ursulin <tvrtko.ursulin@linux.intel.com>
To: Intel-gfx@lists.freedesktop.org
Date: Mon, 10 Jun 2019 16:54:12 +0100
Message-Id: <20190610155419.23723-8-tvrtko.ursulin@linux.intel.com>
X-Mailer: git-send-email 2.20.1
In-Reply-To: <20190610155419.23723-1-tvrtko.ursulin@linux.intel.com>
References: <20190610155419.23723-1-tvrtko.ursulin@linux.intel.com>
MIME-Version: 1.0
Subject: [Intel-gfx] [RFC 07/14] drm/i915: Convert gt workarounds to intel_gt
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

RnJvbTogVHZydGtvIFVyc3VsaW4gPHR2cnRrby51cnN1bGluQGludGVsLmNvbT4KCk1vcmUgY29u
dmVyc2lvbiBvZiBpOTE1X2dlbV9pbml0X2h3IHRvIHVuY29yZS4KClNpZ25lZC1vZmYtYnk6IFR2
cnRrbyBVcnN1bGluIDx0dnJ0a28udXJzdWxpbkBpbnRlbC5jb20+Ci0tLQogZHJpdmVycy9ncHUv
ZHJtL2k5MTUvZ3QvaW50ZWxfd29ya2Fyb3VuZHMuYyB8IDExICsrKysrKy0tLS0tCiBkcml2ZXJz
L2dwdS9kcm0vaTkxNS9ndC9pbnRlbF93b3JrYXJvdW5kcy5oIHwgIDYgKysrLS0tCiBkcml2ZXJz
L2dwdS9kcm0vaTkxNS9pOTE1X2dlbS5jICAgICAgICAgICAgIHwgIDQgKystLQogMyBmaWxlcyBj
aGFuZ2VkLCAxMSBpbnNlcnRpb25zKCspLCAxMCBkZWxldGlvbnMoLSkKCmRpZmYgLS1naXQgYS9k
cml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF93b3JrYXJvdW5kcy5jIGIvZHJpdmVycy9ncHUv
ZHJtL2k5MTUvZ3QvaW50ZWxfd29ya2Fyb3VuZHMuYwppbmRleCAxNjViMGE0NWUwMDkuLjk5ZjQz
MTU4YjdkNiAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfd29ya2Fy
b3VuZHMuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF93b3JrYXJvdW5kcy5j
CkBAIC02LDYgKzYsNyBAQAogCiAjaW5jbHVkZSAiaTkxNV9kcnYuaCIKICNpbmNsdWRlICJpbnRl
bF9jb250ZXh0LmgiCisjaW5jbHVkZSAiaW50ZWxfZ3QuaCIKICNpbmNsdWRlICJpbnRlbF93b3Jr
YXJvdW5kcy5oIgogCiAvKioKQEAgLTk4NCw5ICs5ODUsOSBAQCB3YV9saXN0X2FwcGx5KHN0cnVj
dCBpbnRlbF91bmNvcmUgKnVuY29yZSwgY29uc3Qgc3RydWN0IGk5MTVfd2FfbGlzdCAqd2FsKQog
CXNwaW5fdW5sb2NrX2lycXJlc3RvcmUoJnVuY29yZS0+bG9jaywgZmxhZ3MpOwogfQogCi12b2lk
IGludGVsX2d0X2FwcGx5X3dvcmthcm91bmRzKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICppOTE1
KQordm9pZCBpbnRlbF9ndF9hcHBseV93b3JrYXJvdW5kcyhzdHJ1Y3QgaW50ZWxfZ3QgKmd0KQog
ewotCXdhX2xpc3RfYXBwbHkoJmk5MTUtPnVuY29yZSwgJmk5MTUtPmd0X3dhX2xpc3QpOworCXdh
X2xpc3RfYXBwbHkoZ3RfdG9fdW5jb3JlKGd0KSwgJmd0X3RvX2k5MTUoZ3QpLT5ndF93YV9saXN0
KTsKIH0KIAogc3RhdGljIGJvb2wgd2FfbGlzdF92ZXJpZnkoc3RydWN0IGludGVsX3VuY29yZSAq
dW5jb3JlLApAQCAtMTAwNSwxMCArMTAwNiwxMCBAQCBzdGF0aWMgYm9vbCB3YV9saXN0X3Zlcmlm
eShzdHJ1Y3QgaW50ZWxfdW5jb3JlICp1bmNvcmUsCiAJcmV0dXJuIG9rOwogfQogCi1ib29sIGlu
dGVsX2d0X3ZlcmlmeV93b3JrYXJvdW5kcyhzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSwK
LQkJCQkgY29uc3QgY2hhciAqZnJvbSkKK2Jvb2wgaW50ZWxfZ3RfdmVyaWZ5X3dvcmthcm91bmRz
KHN0cnVjdCBpbnRlbF9ndCAqZ3QsIGNvbnN0IGNoYXIgKmZyb20pCiB7Ci0JcmV0dXJuIHdhX2xp
c3RfdmVyaWZ5KCZpOTE1LT51bmNvcmUsICZpOTE1LT5ndF93YV9saXN0LCBmcm9tKTsKKwlyZXR1
cm4gd2FfbGlzdF92ZXJpZnkoZ3RfdG9fdW5jb3JlKGd0KSwKKwkJCSAgICAgICZndF90b19pOTE1
KGd0KS0+Z3Rfd2FfbGlzdCwgZnJvbSk7CiB9CiAKIHN0YXRpYyB2b2lkCmRpZmYgLS1naXQgYS9k
cml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF93b3JrYXJvdW5kcy5oIGIvZHJpdmVycy9ncHUv
ZHJtL2k5MTUvZ3QvaW50ZWxfd29ya2Fyb3VuZHMuaAppbmRleCAzNzYxYTZlZTU4YmIuLjhjOWM3
NjljMjIwNCAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfd29ya2Fy
b3VuZHMuaAorKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF93b3JrYXJvdW5kcy5o
CkBAIC0xNCw2ICsxNCw3IEBACiBzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZTsKIHN0cnVjdCBpOTE1
X3JlcXVlc3Q7CiBzdHJ1Y3QgaW50ZWxfZW5naW5lX2NzOworc3RydWN0IGludGVsX2d0OwogCiBz
dGF0aWMgaW5saW5lIHZvaWQgaW50ZWxfd2FfbGlzdF9mcmVlKHN0cnVjdCBpOTE1X3dhX2xpc3Qg
KndhbCkKIHsKQEAgLTI1LDkgKzI2LDggQEAgdm9pZCBpbnRlbF9lbmdpbmVfaW5pdF9jdHhfd2Eo
c3RydWN0IGludGVsX2VuZ2luZV9jcyAqZW5naW5lKTsKIGludCBpbnRlbF9lbmdpbmVfZW1pdF9j
dHhfd2Eoc3RydWN0IGk5MTVfcmVxdWVzdCAqcnEpOwogCiB2b2lkIGludGVsX2d0X2luaXRfd29y
a2Fyb3VuZHMoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUpOwotdm9pZCBpbnRlbF9ndF9h
cHBseV93b3JrYXJvdW5kcyhzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSk7Ci1ib29sIGlu
dGVsX2d0X3ZlcmlmeV93b3JrYXJvdW5kcyhzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSwK
LQkJCQkgY29uc3QgY2hhciAqZnJvbSk7Cit2b2lkIGludGVsX2d0X2FwcGx5X3dvcmthcm91bmRz
KHN0cnVjdCBpbnRlbF9ndCAqZ3QpOworYm9vbCBpbnRlbF9ndF92ZXJpZnlfd29ya2Fyb3VuZHMo
c3RydWN0IGludGVsX2d0ICpndCwgY29uc3QgY2hhciAqZnJvbSk7CiAKIHZvaWQgaW50ZWxfZW5n
aW5lX2luaXRfd2hpdGVsaXN0KHN0cnVjdCBpbnRlbF9lbmdpbmVfY3MgKmVuZ2luZSk7CiB2b2lk
IGludGVsX2VuZ2luZV9hcHBseV93aGl0ZWxpc3Qoc3RydWN0IGludGVsX2VuZ2luZV9jcyAqZW5n
aW5lKTsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZ2VtLmMgYi9kcml2
ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2dlbS5jCmluZGV4IGNjOGQyODk4MTRjZC4uOWRkMDE0Nzcw
ZTA2IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2dlbS5jCisrKyBiL2Ry
aXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZ2VtLmMKQEAgLTEyNDcsOSArMTI0Nyw5IEBAIGludCBp
OTE1X2dlbV9pbml0X2h3KHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdikKIAkJCSAg
IExPV0VSX1NMSUNFX0VOQUJMRUQgOiBMT1dFUl9TTElDRV9ESVNBQkxFRCk7CiAKIAkvKiBBcHBs
eSB0aGUgR1Qgd29ya2Fyb3VuZHMuLi4gKi8KLQlpbnRlbF9ndF9hcHBseV93b3JrYXJvdW5kcyhk
ZXZfcHJpdik7CisJaW50ZWxfZ3RfYXBwbHlfd29ya2Fyb3VuZHMoJmRldl9wcml2LT5ndCk7CiAJ
LyogLi4uYW5kIGRldGVybWluZSB3aGV0aGVyIHRoZXkgYXJlIHN0aWNraW5nLiAqLwotCWludGVs
X2d0X3ZlcmlmeV93b3JrYXJvdW5kcyhkZXZfcHJpdiwgImluaXQiKTsKKwlpbnRlbF9ndF92ZXJp
Znlfd29ya2Fyb3VuZHMoJmRldl9wcml2LT5ndCwgImluaXQiKTsKIAogCWludGVsX2d0X2luaXRf
c3dpenpsaW5nKCZkZXZfcHJpdi0+Z3QpOwogCi0tIAoyLjIwLjEKCl9fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCkludGVsLWdmeCBtYWlsaW5nIGxpc3QKSW50
ZWwtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9y
Zy9tYWlsbWFuL2xpc3RpbmZvL2ludGVsLWdmeA==

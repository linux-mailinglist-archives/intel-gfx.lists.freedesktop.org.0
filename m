Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id E52F5A32CE
	for <lists+intel-gfx@lfdr.de>; Fri, 30 Aug 2019 10:42:20 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 02FF36E296;
	Fri, 30 Aug 2019 08:42:19 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga07.intel.com (mga07.intel.com [134.134.136.100])
 by gabe.freedesktop.org (Postfix) with ESMTPS id E24F76E290
 for <intel-gfx@lists.freedesktop.org>; Fri, 30 Aug 2019 08:42:16 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from fmsmga005.fm.intel.com ([10.253.24.32])
 by orsmga105.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 30 Aug 2019 01:42:16 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.64,446,1559545200"; d="scan'208";a="381059278"
Received: from genxfsim-shark-bay-client-platform.iind.intel.com
 ([10.223.34.144])
 by fmsmga005.fm.intel.com with ESMTP; 30 Aug 2019 01:42:12 -0700
From: Swati Sharma <swati2.sharma@intel.com>
To: intel-gfx@lists.freedesktop.org
Date: Fri, 30 Aug 2019 14:01:45 +0530
Message-Id: <1567153913-20166-4-git-send-email-swati2.sharma@intel.com>
X-Mailer: git-send-email 1.9.1
In-Reply-To: <1567153913-20166-1-git-send-email-swati2.sharma@intel.com>
References: <1567153913-20166-1-git-send-email-swati2.sharma@intel.com>
Subject: [Intel-gfx] [v9][PATCH 03/11] drm/i915/display: Add func to compare
 hw/sw gamma lut
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: jani.nikula@intel.com, daniel.vetter@ffwll.ch, ankit.k.nautiyal@intel.com
MIME-Version: 1.0
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

QWRkIGZ1bmMgaW50ZWxfY29sb3JfbHV0X2VxdWFsKCkgdG8gY29tcGFyZSBody9zdyBnYW1tYQps
dXQgdmFsdWVzLiBTaW5jZSBody9zdyBnYW1tYSBsdXQgc2l6ZXMgYW5kIGx1dCBlbnRyaWVzIGNv
bXBhcmlzb24Kd2lsbCBiZSBkaWZmZXJlbnQgZm9yIGRpZmZlcmVudCBnYW1tYSBtb2RlcywgYWRk
IGdhbW1hIG1vZGUgZGVwZW5kZW50CmNoZWNrcy4KCnYzOiAtUmViYXNlCnY0OiAtUmVuYW1lZCBp
bnRlbF9jb21wYXJlX2NvbG9yX2x1dCgpIHRvIGludGVsX2NvbG9yX2x1dF9lcXVhbCgpIFtKYW5p
XQogICAgLUFkZGVkIHRoZSBkZWZhdWx0IGxhYmVsIGFib3ZlIHRoZSBjb3JyZWN0IGxhYmVsIFtK
YW5pXQogICAgLUNvcnJlY3RlZCBzbWF0Y2ggd2FybiAidmFyaWFibGUgZGVyZWZlcmVuY2VkIGJl
Zm9yZSBjaGVjayIKICAgICBbRGFuIENhcnBlbnRlcl0KdjU6IC1BZGRlZCBjb25kaXRpb24gKCFi
bG9iMSAmJiAhYmxvYjIpIHJldHVybiB0cnVlIFtKYW5pXQp2NjogLU1hZGUgcGF0Y2gxMSBhcyBw
YXRjaDMgW0phbmldCnY4OiAtU3BsaXQgcGF0Y2ggMyBpbnRvIDQgcGF0Y2hlcwogICAgLU9wdGlt
aXplZCBibG9iIGNoZWNrIGNvbmRpdGlvbiBbVmlsbGVdCnY5OiAtRXhjbHVkZSBzcGlsdCBnYW1t
YSBtb2RlIChiZHcgYW5kIGl2YiBwbGF0Zm9ybXMpCiAgICAgYXMgdGhlcmUgaXMgZXhjZXB0aW9u
IGluIHdheSBnYW1tYSB2YWx1ZXMgYXJlIHdyaXR0ZW4gaW4KICAgICBoYXJkd2FyZSBbVmlsbGVd
CiAgICAtQWRkZWQgZXhjZXB0aW9uIG1hZGUgaW4gY29tbWl0IFtVbWFdCiAgICAtRHJvcGVlZCBl
bHNlLCBjaGFyYWN0ZXIgbGltaXQgYW5kIGluZGVudGF0aW9uIFtVbWFdCiAgICAtQWRkZWQgbXVs
dGkgc2VnbWVudGVkIGdhbWEgbW9kZSBmb3IgaWNsKyBwbGF0Zm9ybXMgW1VtYV0KClNpZ25lZC1v
ZmYtYnk6IFN3YXRpIFNoYXJtYSA8c3dhdGkyLnNoYXJtYUBpbnRlbC5jb20+Ci0tLQogZHJpdmVy
cy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9jb2xvci5jIHwgMTA0ICsrKysrKysrKysrKysr
KysrKysrKysrKysrKysrCiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2NvbG9y
LmggfCAgIDYgKysKIDIgZmlsZXMgY2hhbmdlZCwgMTEwIGluc2VydGlvbnMoKykKCmRpZmYgLS1n
aXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2NvbG9yLmMgYi9kcml2ZXJz
L2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2NvbG9yLmMKaW5kZXggZGNjNjVkNy4uMTQxZWZi
MCAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9jb2xvci5j
CisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfY29sb3IuYwpAQCAtMTQ3
MCw2ICsxNDcwLDExMCBAQCBpbnQgaW50ZWxfY29sb3JfZ2V0X2dhbW1hX2JpdF9wcmVjaXNpb24o
Y29uc3Qgc3RydWN0IGludGVsX2NydGNfc3RhdGUgKmNydGNfc3RhdAogCXJldHVybiAwOwogfQog
CitzdGF0aWMgaW5saW5lIGJvb2wgZXJyX2NoZWNrKHN0cnVjdCBkcm1fY29sb3JfbHV0ICpzd19s
dXQsCisJCQkgICAgIHN0cnVjdCBkcm1fY29sb3JfbHV0ICpod19sdXQsIHUzMiBlcnIpCit7CisJ
cmV0dXJuICgoYWJzKChsb25nKWh3X2x1dC0+cmVkIC0gc3dfbHV0LT5yZWQpKSA8PSBlcnIpICYm
CisJCSgoYWJzKChsb25nKWh3X2x1dC0+Ymx1ZSAtIHN3X2x1dC0+Ymx1ZSkpIDw9IGVycikgJiYK
KwkJKChhYnMoKGxvbmcpaHdfbHV0LT5ncmVlbiAtIHN3X2x1dC0+Z3JlZW4pKSA8PSBlcnIpOwor
fQorCitzdGF0aWMgaW5saW5lIGJvb2wgaW50ZWxfY29sb3JfbHV0X2VudHJ5X2VxdWFsKHN0cnVj
dCBkcm1fY29sb3JfbHV0ICpzd19sdXQsCisJCQkJCSAgICAgICBzdHJ1Y3QgZHJtX2NvbG9yX2x1
dCAqaHdfbHV0LAorCQkJCQkgICAgICAgaW50IGh3X2x1dF9zaXplLCB1MzIgZXJyKQoreworCWlu
dCBpOworCisJZm9yIChpID0gMDsgaSA8IGh3X2x1dF9zaXplOyBpKyspIHsKKwkJaWYgKCFlcnJf
Y2hlY2soJmh3X2x1dFtpXSwgJnN3X2x1dFtpXSwgZXJyKSkKKwkJCXJldHVybiBmYWxzZTsKKwl9
CisKKwlyZXR1cm4gdHJ1ZTsKK30KKworc3RhdGljIGlubGluZSBib29sIGludGVsX2NvbG9yX2x1
dF9lbnRyeV9lcXVhbF9tdWx0aShzdHJ1Y3QgZHJtX2NvbG9yX2x1dCAqc3dfbHV0LAorCQkJCQkJ
ICAgICBzdHJ1Y3QgZHJtX2NvbG9yX2x1dCAqaHdfbHV0LAorCQkJCQkJICAgICB1MzIgZXJyKQor
eworCWludCBpOworCisJZm9yIChpID0gMDsgaSA8IDk7IGkrKykgeworCQlpZiAoIWVycl9jaGVj
aygmaHdfbHV0W2ldLCAmc3dfbHV0W2ldLCBlcnIpKQorCQkJcmV0dXJuIGZhbHNlOworCX0KKwor
CWZvciAoaSA9IDE7IGkgPCAgMjU3OyBpKyspIHsKKwkJaWYgKCFlcnJfY2hlY2soJmh3X2x1dFs4
ICsgaV0sICZzd19sdXRbaSAqIDhdLCBlcnIpKQorCQkJcmV0dXJuIGZhbHNlOworCX0KKworCWZv
ciAoaSA9IDA7IGkgPCAyNTY7IGkrKykgeworCQlpZiAoIWVycl9jaGVjaygmaHdfbHV0WzI2NSAr
IGldLCAmc3dfbHV0W2kgKiA4ICogMTI4XSwgZXJyKSkKKwkJCXJldHVybiBmYWxzZTsKKwl9CisK
KwlyZXR1cm4gdHJ1ZTsKK30KKworYm9vbCBpbnRlbF9jb2xvcl9sdXRfZXF1YWwoc3RydWN0IGRy
bV9wcm9wZXJ0eV9ibG9iICpibG9iMSwKKwkJCSAgIHN0cnVjdCBkcm1fcHJvcGVydHlfYmxvYiAq
YmxvYjIsCisJCQkgICB1MzIgZ2FtbWFfbW9kZSwgdTMyIGJpdF9wcmVjaXNpb24pCit7CisJc3Ry
dWN0IGRybV9jb2xvcl9sdXQgKnN3X2x1dCwgKmh3X2x1dDsKKwlpbnQgc3dfbHV0X3NpemUsIGh3
X2x1dF9zaXplOworCXUzMiBlcnI7CisKKwlpZiAoIWJsb2IxICE9ICFibG9iMikKKwkJcmV0dXJu
IGZhbHNlOworCisJaWYgKCFibG9iMSkKKwkJcmV0dXJuIHRydWU7CisKKwlzd19sdXRfc2l6ZSA9
IGRybV9jb2xvcl9sdXRfc2l6ZShibG9iMSk7CisJaHdfbHV0X3NpemUgPSBkcm1fY29sb3JfbHV0
X3NpemUoYmxvYjIpOworCisJLyogY2hlY2sgc3cgYW5kIGh3IGx1dCBzaXplICovCisJc3dpdGNo
IChnYW1tYV9tb2RlKSB7CisJY2FzZSBHQU1NQV9NT0RFX01PREVfOEJJVDoKKwljYXNlIEdBTU1B
X01PREVfTU9ERV8xMEJJVDoKKwkJaWYgKHN3X2x1dF9zaXplICE9IGh3X2x1dF9zaXplKQorCQkJ
cmV0dXJuIGZhbHNlOworCQlicmVhazsKKwljYXNlIEdBTU1BX01PREVfTU9ERV8xMkJJVF9NVUxU
SV9TRUdNRU5URUQ6CisJCWlmICgoc3dfbHV0X3NpemUgIT0gMjYyMTQ1KSB8fCAoaHdfbHV0X3Np
emUgIT0gNTIxKSkKKwkJCXJldHVybiBmYWxzZTsKKwkJYnJlYWs7CisJZGVmYXVsdDoKKwkJTUlT
U0lOR19DQVNFKGdhbW1hX21vZGUpOworCQkJcmV0dXJuIGZhbHNlOworCX0KKworCXN3X2x1dCA9
IGJsb2IxLT5kYXRhOworCWh3X2x1dCA9IGJsb2IyLT5kYXRhOworCisJZXJyID0gMHhmZmZmID4+
IGJpdF9wcmVjaXNpb247CisKKwkvKiBjaGVjayBzdyBhbmQgaHcgbHV0IGVudHJ5IHRvIGJlIGVx
dWFsICovCisJc3dpdGNoIChnYW1tYV9tb2RlKSB7CisJY2FzZSBHQU1NQV9NT0RFX01PREVfOEJJ
VDoKKwljYXNlIEdBTU1BX01PREVfTU9ERV8xMEJJVDoKKwkJaWYgKCFpbnRlbF9jb2xvcl9sdXRf
ZW50cnlfZXF1YWwoc3dfbHV0LCBod19sdXQsCisJCQkJCQkgaHdfbHV0X3NpemUsIGVycikpCisJ
CQlyZXR1cm4gZmFsc2U7CisJCWJyZWFrOworCWNhc2UgR0FNTUFfTU9ERV9NT0RFXzEyQklUX01V
TFRJX1NFR01FTlRFRDoKKwkJaWYgKCFpbnRlbF9jb2xvcl9sdXRfZW50cnlfZXF1YWxfbXVsdGko
c3dfbHV0LCBod19sdXQsIGVycikpCisJCQlyZXR1cm4gZmFsc2U7CisJCWJyZWFrOworCWRlZmF1
bHQ6CisJCU1JU1NJTkdfQ0FTRShnYW1tYV9tb2RlKTsKKwkJCXJldHVybiBmYWxzZTsKKwl9CisK
KwlyZXR1cm4gdHJ1ZTsKK30KKwogdm9pZCBpbnRlbF9jb2xvcl9pbml0KHN0cnVjdCBpbnRlbF9j
cnRjICpjcnRjKQogewogCXN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiA9IHRvX2k5
MTUoY3J0Yy0+YmFzZS5kZXYpOwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlz
cGxheS9pbnRlbF9jb2xvci5oIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9j
b2xvci5oCmluZGV4IDAyMjZkM2EuLjE3MzcyN2EgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2Rpc3BsYXkvaW50ZWxfY29sb3IuaAorKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9k
aXNwbGF5L2ludGVsX2NvbG9yLmgKQEAgLTYsOCArNiwxMSBAQAogI2lmbmRlZiBfX0lOVEVMX0NP
TE9SX0hfXwogI2RlZmluZSBfX0lOVEVMX0NPTE9SX0hfXwogCisjaW5jbHVkZSA8bGludXgvdHlw
ZXMuaD4KKwogc3RydWN0IGludGVsX2NydGNfc3RhdGU7CiBzdHJ1Y3QgaW50ZWxfY3J0YzsKK3N0
cnVjdCBkcm1fcHJvcGVydHlfYmxvYjsKIAogdm9pZCBpbnRlbF9jb2xvcl9pbml0KHN0cnVjdCBp
bnRlbF9jcnRjICpjcnRjKTsKIGludCBpbnRlbF9jb2xvcl9jaGVjayhzdHJ1Y3QgaW50ZWxfY3J0
Y19zdGF0ZSAqY3J0Y19zdGF0ZSk7CkBAIC0xNSw1ICsxOCw4IEBACiB2b2lkIGludGVsX2NvbG9y
X2xvYWRfbHV0cyhjb25zdCBzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqY3J0Y19zdGF0ZSk7CiB2
b2lkIGludGVsX2NvbG9yX2dldF9jb25maWcoc3RydWN0IGludGVsX2NydGNfc3RhdGUgKmNydGNf
c3RhdGUpOwogaW50IGludGVsX2NvbG9yX2dldF9nYW1tYV9iaXRfcHJlY2lzaW9uKGNvbnN0IHN0
cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpjcnRjX3N0YXRlKTsKK2Jvb2wgaW50ZWxfY29sb3JfbHV0
X2VxdWFsKHN0cnVjdCBkcm1fcHJvcGVydHlfYmxvYiAqYmxvYjEsCisJCQkgICBzdHJ1Y3QgZHJt
X3Byb3BlcnR5X2Jsb2IgKmJsb2IyLAorCQkJICAgdTMyIGdhbW1hX21vZGUsIHUzMiBiaXRfcHJl
Y2lzaW9uKTsKIAogI2VuZGlmIC8qIF9fSU5URUxfQ09MT1JfSF9fICovCi0tIAoxLjkuMQoKX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KSW50ZWwtZ2Z4IG1h
aWxpbmcgbGlzdApJbnRlbC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMu
ZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vaW50ZWwtZ2Z4

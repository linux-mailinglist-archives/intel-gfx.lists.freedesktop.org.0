Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 91F46FB01B
	for <lists+intel-gfx@lfdr.de>; Wed, 13 Nov 2019 13:02:22 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 7DE346ECEF;
	Wed, 13 Nov 2019 12:02:20 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga05.intel.com (mga05.intel.com [192.55.52.43])
 by gabe.freedesktop.org (Postfix) with ESMTPS id B9BCF6ECEF
 for <intel-gfx@lists.freedesktop.org>; Wed, 13 Nov 2019 12:02:19 +0000 (UTC)
X-Amp-Result: UNKNOWN
X-Amp-Original-Verdict: FILE UNKNOWN
X-Amp-File-Uploaded: False
Received: from fmsmga001.fm.intel.com ([10.253.24.23])
 by fmsmga105.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 13 Nov 2019 04:02:19 -0800
X-IronPort-AV: E=Sophos;i="5.68,300,1569308400"; d="scan'208";a="214304922"
Received: from ideak-desk.fi.intel.com ([10.237.68.142])
 by fmsmga001-auth.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 13 Nov 2019 04:02:17 -0800
Date: Wed, 13 Nov 2019 14:00:30 +0200
From: Imre Deak <imre.deak@intel.com>
To: Anshuamn Gupta <anshuman.gupta@intel.com>
Message-ID: <20191113120030.GD311@ideak-desk.fi.intel.com>
References: <20191101001422.209326-1-jose.souza@intel.com>
 <20191101001422.209326-3-jose.souza@intel.com>
 <20191113113821.GC17487@intel.com>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <20191113113821.GC17487@intel.com>
User-Agent: Mutt/1.9.4 (2018-02-28)
Subject: Re: [Intel-gfx] [PATCH 3/3] drm/i915/dc3co: Avoid full modeset when
 EXITLINE needs to be changed
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Reply-To: imre.deak@intel.com
Cc: intel-gfx@lists.freedesktop.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

T24gV2VkLCBOb3YgMTMsIDIwMTkgYXQgMDU6MDg6MjFQTSArMDUzMCwgQW5zaHVhbW4gR3VwdGEg
d3JvdGU6Cj4gT24gMjAxOS0xMC0zMSBhdCAxNzoxNDoyMiAtMDcwMCwgSm9zw6kgUm9iZXJ0byBk
ZSBTb3V6YSB3cm90ZToKPiA+IEEgcmVjZW50IGNoYW5nZSBpbiBCU3BlYyBhbGxvdyB1cyB0byBj
aGFuZ2UgRVhUTElORSB3aGlsZSB0cmFuc2NvZGVyCj4gPiBpcyBlbmFibGVkIHNvIHRoaXMgYWxs
b3cgdXMgdG8gY2hhbmdlIGl0IGV2ZW4gd2hlbiBkb2luZyB0aGUgZmlyc3QKPiA+IGZhc3RzZXQg
YWZ0ZXIgdGFraW5nIG92ZXIgcHJldmlvdXMgaGFyZHdhcmUgc3RhdGUgc2V0IGJ5IEJJT1MuCj4g
PiBCSU9TIGRvbid0IGVuYWJsZSBQU1IsIHNvIGlmIHNpbmsgc3VwcG9ydHMgUFNSIGl0IHdpbGwg
YmUgZW5hYmxlZCBvbgo+ID4gdGhlIGZpcnN0IGZhc3RzZXQsIHNvIG1vdmluZyB0aGUgRVhUTElO
RSBjb21wdXRlIGFuZCBzZXQgdG8gUFNSIGZsb3dzCj4gPiBhbGxvdyB1cyB0byBzaW1wbGZ5IGEg
YnVuY2ggb2YgY29kZS4KPiA+IAo+ID4gVGhpcyB3aWxsIHNhdmUgYSBsb3Qgb2YgdGltZSBpbiBh
bGwgdGhlIElHVCB0ZXN0cyB0aGF0IHVzZXMgQ1JDLCBhcwo+ID4gd2hlbiBQU1IyIGlzIGVuYWJs
ZWQgQ1JDcyBhcmUgbm90IGdlbmVyYXRlZCwgc28gd2Ugc3dpdGNoIHRvIFBTUjEsIHNvCj4gPiB0
aGUgcHJldmlvdXMgY29kZSB3b3VsZCBjb21wdXRlIGRjM2NvX2V4aXRsaW5lPTAgY2F1c2luZyBh
IGZ1bGwKPiA+IG1vZGVzZXQgdGhhdCB3b3VsZCBzaHV0ZG93biBwaXBlLCBlbmFibGUgYW5kIHRy
YWluIGxpbmsuCj4gPiAKPiA+IEJTcGVjOiA0OTE5Ngo+Cj4gSSBhbSBub3QgYWJsZSB0byBmaW5k
IGl0IGV4cGxpY2l0bHkgdGhhdCB3ZSBjYW4gY2hhbmdlIEVYSVRMSU5FIHdoaWxlCj4gdHJhbnNj
b2RlciBpcyBlbmFibGVkIGluIGluZGV4IDQ5MTk2LiAgV2hpY2ggY2hhbmdlIGFjdHVhbGx5IHUg
YXJlCj4gcmVmZXJyaW5nPwoKTG9va3MgbGlrZSBhIHJlY2VudCBjaGFuZ2UgYXQKaHR0cHM6Ly9n
ZnhzcGVjcy5pbnRlbC5jb20vUHJlZGF0b3IvSG9tZS9JbmRleC81MDQ5NwpleHBsaWNpdGx5IGFs
bG93cyBwcm9ncmFtbWluZyBpdCBhbnl0aW1lIGJlZm9yZSBEQzNjbyBpcyBlbmFibGVkLgoKPiA+
IENjOiBJbXJlIERlYWsgPGltcmUuZGVha0BpbnRlbC5jb20+Cj4gPiBDYzogQW5zaHVtYW4gR3Vw
dGEgPGFuc2h1bWFuLmd1cHRhQGludGVsLmNvbT4KPiA+IFNpZ25lZC1vZmYtYnk6IEpvc8OpIFJv
YmVydG8gZGUgU291emEgPGpvc2Uuc291emFAaW50ZWwuY29tPgo+ID4gLS0tCj4gPiAgZHJpdmVy
cy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kZGkuYyAgICAgfCA4NiAtLS0tLS0tLS0tLS0t
LS0tLS0tLQo+ID4gIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheS5j
IHwgIDEgLQo+ID4gIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfcHNyLmMgICAg
IHwgNDcgKysrKysrKysrKysKPiA+ICAzIGZpbGVzIGNoYW5nZWQsIDQ3IGluc2VydGlvbnMoKyks
IDg3IGRlbGV0aW9ucygtKQo+ID4gCj4gPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5
MTUvZGlzcGxheS9pbnRlbF9kZGkuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50
ZWxfZGRpLmMKPiA+IGluZGV4IGI1MWYyNDRhZDdhNS4uZjUyZmI3NjE5ZDQ2IDEwMDY0NAo+ID4g
LS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kZGkuYwo+ID4gKysrIGIv
ZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kZGkuYwo+ID4gQEAgLTMzMzksODYg
KzMzMzksNiBAQCBzdGF0aWMgdm9pZCBpbnRlbF9kZGlfZGlzYWJsZV9mZWNfc3RhdGUoc3RydWN0
IGludGVsX2VuY29kZXIgKmVuY29kZXIsCj4gPiAgCVBPU1RJTkdfUkVBRChpbnRlbF9kcC0+cmVn
cy5kcF90cF9jdGwpOwo+ID4gIH0KPiA+ICAKPiA+IC1zdGF0aWMgdm9pZAo+ID4gLXRnbF9jbGVh
cl9wc3IyX3RyYW5zY29kZXJfZXhpdGxpbmUoY29uc3Qgc3RydWN0IGludGVsX2NydGNfc3RhdGUg
KmNzdGF0ZSkKPiA+IC17Cj4gPiAtCXN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiA9
IHRvX2k5MTUoY3N0YXRlLT5iYXNlLmNydGMtPmRldik7Cj4gPiAtCXUzMiB2YWw7Cj4gPiAtCj4g
PiAtCWlmICghY3N0YXRlLT5kYzNjb19leGl0bGluZSkKPiA+IC0JCXJldHVybjsKPiA+IC0KPiA+
IC0JdmFsID0gSTkxNV9SRUFEKEVYSVRMSU5FKGNzdGF0ZS0+Y3B1X3RyYW5zY29kZXIpKTsKPiA+
IC0JdmFsICY9IH4oRVhJVExJTkVfTUFTSyB8IEVYSVRMSU5FX0VOQUJMRSk7Cj4gPiAtCUk5MTVf
V1JJVEUoRVhJVExJTkUoY3N0YXRlLT5jcHVfdHJhbnNjb2RlciksIHZhbCk7Cj4gPiAtfQo+ID4g
LQo+ID4gLXN0YXRpYyB2b2lkCj4gPiAtdGdsX3NldF9wc3IyX3RyYW5zY29kZXJfZXhpdGxpbmUo
Y29uc3Qgc3RydWN0IGludGVsX2NydGNfc3RhdGUgKmNzdGF0ZSkKPiA+IC17Cj4gPiAtCXUzMiB2
YWwsIGV4aXRfc2NhbmxpbmVzOwo+ID4gLQlzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3By
aXYgPSB0b19pOTE1KGNzdGF0ZS0+YmFzZS5jcnRjLT5kZXYpOwo+ID4gLQo+ID4gLQlpZiAoIWNz
dGF0ZS0+ZGMzY29fZXhpdGxpbmUpCj4gPiAtCQlyZXR1cm47Cj4gPiAtCj4gPiAtCWV4aXRfc2Nh
bmxpbmVzID0gY3N0YXRlLT5kYzNjb19leGl0bGluZTsKPiA+IC0JZXhpdF9zY2FubGluZXMgPDw9
IEVYSVRMSU5FX1NISUZUOwo+ID4gLQl2YWwgPSBJOTE1X1JFQUQoRVhJVExJTkUoY3N0YXRlLT5j
cHVfdHJhbnNjb2RlcikpOwo+ID4gLQl2YWwgJj0gfihFWElUTElORV9NQVNLIHwgRVhJVExJTkVf
RU5BQkxFKTsKPiA+IC0JdmFsIHw9IGV4aXRfc2NhbmxpbmVzOwo+ID4gLQl2YWwgfD0gRVhJVExJ
TkVfRU5BQkxFOwo+ID4gLQlJOTE1X1dSSVRFKEVYSVRMSU5FKGNzdGF0ZS0+Y3B1X3RyYW5zY29k
ZXIpLCB2YWwpOwo+ID4gLX0KPiA+IC0KPiA+IC1zdGF0aWMgdm9pZCB0Z2xfZGMzY29fZXhpdGxp
bmVfY29tcHV0ZV9jb25maWcoc3RydWN0IGludGVsX2VuY29kZXIgKmVuY29kZXIsCj4gPiAtCQkJ
CQkgICAgICBzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqY3N0YXRlKQo+ID4gLXsKPiA+IC0JdTMy
IGV4aXRfc2NhbmxpbmVzOwo+ID4gLQlzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYg
PSB0b19pOTE1KGNzdGF0ZS0+YmFzZS5jcnRjLT5kZXYpOwo+ID4gLQl1MzIgY3J0Y192ZGlzcGxh
eSA9IGNzdGF0ZS0+YmFzZS5hZGp1c3RlZF9tb2RlLmNydGNfdmRpc3BsYXk7Cj4gPiAtCj4gPiAt
CWNzdGF0ZS0+ZGMzY29fZXhpdGxpbmUgPSAwOwo+ID4gLQo+ID4gLQlpZiAoIShkZXZfcHJpdi0+
Y3NyLmFsbG93ZWRfZGNfbWFzayAmIERDX1NUQVRFX0VOX0RDM0NPKSkKPiA+IC0JCXJldHVybjsK
PiA+IC0KPiA+IC0JLyogQi5TcGVjczo0OTE5NiBEQzNDTyBvbmx5IHdvcmtzIHdpdGggcGlwZUEg
YW5kIERESUEuKi8KPiA+IC0JaWYgKHRvX2ludGVsX2NydGMoY3N0YXRlLT5iYXNlLmNydGMpLT5w
aXBlICE9IFBJUEVfQSB8fAo+ID4gLQkgICAgZW5jb2Rlci0+cG9ydCAhPSBQT1JUX0EpCj4gPiAt
CQlyZXR1cm47Cj4gPiAtCj4gPiAtCWlmICghY3N0YXRlLT5oYXNfcHNyMiB8fCAhY3N0YXRlLT5i
YXNlLmFjdGl2ZSkKPiA+IC0JCXJldHVybjsKPiA+IC0KPiA+IC0JLyoKPiA+IC0JICogREMzQ08g
RXhpdCB0aW1lIDIwMHVzIEIuU3BlYyA0OTE5Ngo+ID4gLQkgKiBQU1IyIHRyYW5zY29kZXIgRWFy
bHkgRXhpdCBzY2FubGluZXMgPSBST1VORFVQKDIwMCAvIGxpbmUgdGltZSkgKyAxCj4gPiAtCSAq
Lwo+ID4gLQlleGl0X3NjYW5saW5lcyA9Cj4gPiAtCQlpbnRlbF91c2Vjc190b19zY2FubGluZXMo
JmNzdGF0ZS0+YmFzZS5hZGp1c3RlZF9tb2RlLCAyMDApICsgMTsKPiA+IC0KPiA+IC0JaWYgKFdB
Uk5fT04oZXhpdF9zY2FubGluZXMgPiBjcnRjX3ZkaXNwbGF5KSkKPiA+IC0JCXJldHVybjsKPiA+
IC0KPiA+IC0JY3N0YXRlLT5kYzNjb19leGl0bGluZSA9IGNydGNfdmRpc3BsYXkgLSBleGl0X3Nj
YW5saW5lczsKPiA+IC0JRFJNX0RFQlVHX0tNUygiREMzQ08gZXhpdCBzY2FubGluZXMgJWRcbiIs
IGNzdGF0ZS0+ZGMzY29fZXhpdGxpbmUpOwo+ID4gLX0KPiA+IC0KPiA+IC1zdGF0aWMgdm9pZCB0
Z2xfZGMzY29fZXhpdGxpbmVfZ2V0X2NvbmZpZyhzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqY3J0
Y19zdGF0ZSkKPiA+IC17Cj4gPiAtCXUzMiB2YWw7Cj4gPiAtCXN0cnVjdCBkcm1faTkxNV9wcml2
YXRlICpkZXZfcHJpdiA9IHRvX2k5MTUoY3J0Y19zdGF0ZS0+YmFzZS5jcnRjLT5kZXYpOwo+ID4g
LQo+ID4gLQlpZiAoSU5URUxfR0VOKGRldl9wcml2KSA8IDEyKQo+ID4gLQkJcmV0dXJuOwo+ID4g
LQo+ID4gLQl2YWwgPSBJOTE1X1JFQUQoRVhJVExJTkUoY3J0Y19zdGF0ZS0+Y3B1X3RyYW5zY29k
ZXIpKTsKPiA+IC0KPiA+IC0JaWYgKHZhbCAmIEVYSVRMSU5FX0VOQUJMRSkKPiA+IC0JCWNydGNf
c3RhdGUtPmRjM2NvX2V4aXRsaW5lID0gdmFsICYgRVhJVExJTkVfTUFTSzsKPiA+IC19Cj4gPiAt
Cj4gPiAgc3RhdGljIHZvaWQgdGdsX2RkaV9wcmVfZW5hYmxlX2RwKHN0cnVjdCBpbnRlbF9lbmNv
ZGVyICplbmNvZGVyLAo+ID4gIAkJCQkgIGNvbnN0IHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpj
cnRjX3N0YXRlLAo+ID4gIAkJCQkgIGNvbnN0IHN0cnVjdCBkcm1fY29ubmVjdG9yX3N0YXRlICpj
b25uX3N0YXRlKQo+ID4gQEAgLTM0MzEsNyArMzM1MSw2IEBAIHN0YXRpYyB2b2lkIHRnbF9kZGlf
cHJlX2VuYWJsZV9kcChzdHJ1Y3QgaW50ZWxfZW5jb2RlciAqZW5jb2RlciwKPiA+ICAJaW50IGxl
dmVsID0gaW50ZWxfZGRpX2RwX2xldmVsKGludGVsX2RwKTsKPiA+ICAJZW51bSB0cmFuc2NvZGVy
IHRyYW5zY29kZXIgPSBjcnRjX3N0YXRlLT5jcHVfdHJhbnNjb2RlcjsKPiA+ICAKPiA+IC0JdGds
X3NldF9wc3IyX3RyYW5zY29kZXJfZXhpdGxpbmUoY3J0Y19zdGF0ZSk7Cj4gPiAgCWludGVsX2Rw
X3NldF9saW5rX3BhcmFtcyhpbnRlbF9kcCwgY3J0Y19zdGF0ZS0+cG9ydF9jbG9jaywKPiA+ICAJ
CQkJIGNydGNfc3RhdGUtPmxhbmVfY291bnQsIGlzX21zdCk7Cj4gPiAgCj4gPiBAQCAtMzc2MCw3
ICszNjc5LDYgQEAgc3RhdGljIHZvaWQgaW50ZWxfZGRpX3Bvc3RfZGlzYWJsZV9kcChzdHJ1Y3Qg
aW50ZWxfZW5jb2RlciAqZW5jb2RlciwKPiA+ICAJCQkJCQkgIGRpZ19wb3J0LT5kZGlfaW9fcG93
ZXJfZG9tYWluKTsKPiA+ICAKPiA+ICAJaW50ZWxfZGRpX2Nsa19kaXNhYmxlKGVuY29kZXIpOwo+
ID4gLQl0Z2xfY2xlYXJfcHNyMl90cmFuc2NvZGVyX2V4aXRsaW5lKG9sZF9jcnRjX3N0YXRlKTsK
PiA+ICB9Cj4gPiAgCj4gPiAgc3RhdGljIHZvaWQgaW50ZWxfZGRpX3Bvc3RfZGlzYWJsZV9oZG1p
KHN0cnVjdCBpbnRlbF9lbmNvZGVyICplbmNvZGVyLAo+ID4gQEAgLTQzMDgsOSArNDIyNiw2IEBA
IHZvaWQgaW50ZWxfZGRpX2dldF9jb25maWcoc3RydWN0IGludGVsX2VuY29kZXIgKmVuY29kZXIs
Cj4gPiAgCQlicmVhazsKPiA+ICAJfQo+ID4gIAo+ID4gLQlpZiAoZW5jb2Rlci0+dHlwZSA9PSBJ
TlRFTF9PVVRQVVRfRURQKQo+ID4gLQkJdGdsX2RjM2NvX2V4aXRsaW5lX2dldF9jb25maWcocGlw
ZV9jb25maWcpOwo+ID4gLQo+ID4gIAlwaXBlX2NvbmZpZy0+aGFzX2F1ZGlvID0KPiA+ICAJCWlu
dGVsX2RkaV9pc19hdWRpb19lbmFibGVkKGRldl9wcml2LCBjcHVfdHJhbnNjb2Rlcik7Cj4gPiAg
Cj4gPiBAQCAtNDM5Miw3ICs0MzA3LDYgQEAgc3RhdGljIGludCBpbnRlbF9kZGlfY29tcHV0ZV9j
b25maWcoc3RydWN0IGludGVsX2VuY29kZXIgKmVuY29kZXIsCj4gPiAgCQlyZXQgPSBpbnRlbF9o
ZG1pX2NvbXB1dGVfY29uZmlnKGVuY29kZXIsIHBpcGVfY29uZmlnLCBjb25uX3N0YXRlKTsKPiA+
ICAJfSBlbHNlIHsKPiA+ICAJCXJldCA9IGludGVsX2RwX2NvbXB1dGVfY29uZmlnKGVuY29kZXIs
IHBpcGVfY29uZmlnLCBjb25uX3N0YXRlKTsKPiA+IC0JCXRnbF9kYzNjb19leGl0bGluZV9jb21w
dXRlX2NvbmZpZyhlbmNvZGVyLCBwaXBlX2NvbmZpZyk7Cj4gPiAgCX0KPiA+ICAKPiA+ICAJaWYg
KHJldCkKPiA+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVs
X2Rpc3BsYXkuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheS5j
Cj4gPiBpbmRleCAzNDhjZTA0NTY2OTYuLjZjMWM5M2IyYTgxZiAxMDA2NDQKPiA+IC0tLSBhL2Ry
aXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheS5jCj4gPiArKysgYi9kcml2
ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXkuYwo+ID4gQEAgLTEzMDkxLDcg
KzEzMDkxLDYgQEAgaW50ZWxfcGlwZV9jb25maWdfY29tcGFyZShjb25zdCBzdHJ1Y3QgaW50ZWxf
Y3J0Y19zdGF0ZSAqY3VycmVudF9jb25maWcsCj4gPiAgCj4gPiAgCVBJUEVfQ09ORl9DSEVDS19J
KHBpeGVsX211bHRpcGxpZXIpOwo+ID4gIAlQSVBFX0NPTkZfQ0hFQ0tfSShvdXRwdXRfZm9ybWF0
KTsKPiA+IC0JUElQRV9DT05GX0NIRUNLX0koZGMzY29fZXhpdGxpbmUpOwo+ID4gIAlQSVBFX0NP
TkZfQ0hFQ0tfQk9PTChoYXNfaGRtaV9zaW5rKTsKPiA+ICAJaWYgKChJTlRFTF9HRU4oZGV2X3By
aXYpIDwgOCAmJiAhSVNfSEFTV0VMTChkZXZfcHJpdikpIHx8Cj4gPiAgCSAgICBJU19WQUxMRVlW
SUVXKGRldl9wcml2KSB8fCBJU19DSEVSUllWSUVXKGRldl9wcml2KSkKPiA+IGRpZmYgLS1naXQg
YS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX3Bzci5jIGIvZHJpdmVycy9ncHUv
ZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9wc3IuYwo+ID4gaW5kZXggYmI5YjUzNDliNzJhLi4wNmEw
YTFjOTYyMWUgMTAwNjQ0Cj4gPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2lu
dGVsX3Bzci5jCj4gPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX3Bz
ci5jCj4gPiBAQCAtNTk2LDYgKzU5NiwzNyBAQCBzdGF0aWMgdm9pZCB0Z2xfZGlzYWxsb3dfZGMz
Y29fb25fcHNyMl9leGl0KHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdikKPiA+ICAJ
dGdsX3BzcjJfZGlzYWJsZV9kYzNjbyhkZXZfcHJpdik7Cj4gPiAgfQo+ID4gIAo+ID4gK3N0YXRp
YyB2b2lkCj4gPiArdGdsX2RjM2NvX2V4aXRsaW5lX2NvbXB1dGVfY29uZmlnKHN0cnVjdCBpbnRl
bF9kcCAqaW50ZWxfZHAsCj4gPiArCQkJCSAgc3RydWN0IGludGVsX2NydGNfc3RhdGUgKmNydGNf
c3RhdGUpCj4gPiArewo+ID4gKwljb25zdCB1MzIgY3J0Y192ZGlzcGxheSA9IGNydGNfc3RhdGUt
PmJhc2UuYWRqdXN0ZWRfbW9kZS5jcnRjX3ZkaXNwbGF5Owo+ID4gKwlzdHJ1Y3QgaW50ZWxfZGln
aXRhbF9wb3J0ICpkaWdfcG9ydCA9IGRwX3RvX2RpZ19wb3J0KGludGVsX2RwKTsKPiA+ICsJc3Ry
dWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2ID0gZHBfdG9faTkxNShpbnRlbF9kcCk7Cj4g
PiArCXUzMiBleGl0X3NjYW5saW5lczsKPiA+ICsKPiA+ICsJaWYgKCEoZGV2X3ByaXYtPmNzci5h
bGxvd2VkX2RjX21hc2sgJiBEQ19TVEFURV9FTl9EQzNDTykpCj4gPiArCQlyZXR1cm47Cj4gPiAr
Cj4gPiArCS8qIEIuU3BlY3M6NDkxOTYgREMzQ08gb25seSB3b3JrcyB3aXRoIHBpcGVBIGFuZCBE
RElBLiovCj4gPiArCWlmICh0b19pbnRlbF9jcnRjKGNydGNfc3RhdGUtPmJhc2UuY3J0YyktPnBp
cGUgIT0gUElQRV9BIHx8Cj4gPiArCSAgICBkaWdfcG9ydC0+YmFzZS5wb3J0ICE9IFBPUlRfQSkK
PiA+ICsJCXJldHVybjsKPiA+ICsKPiA+ICsJLyoKPiA+ICsJICogREMzQ08gRXhpdCB0aW1lIDIw
MHVzIEIuU3BlYyA0OTE5Ngo+ID4gKwkgKiBQU1IyIHRyYW5zY29kZXIgRWFybHkgRXhpdCBzY2Fu
bGluZXMgPSBST1VORFVQKDIwMCAvIGxpbmUgdGltZSkgKyAxCj4gPiArCSAqLwo+ID4gKwlleGl0
X3NjYW5saW5lcyA9Cj4gPiArCQlpbnRlbF91c2Vjc190b19zY2FubGluZXMoJmNydGNfc3RhdGUt
PmJhc2UuYWRqdXN0ZWRfbW9kZSwgMjAwKSArIDE7Cj4gPiArCj4gPiArCWlmIChXQVJOX09OKGV4
aXRfc2NhbmxpbmVzID4gY3J0Y192ZGlzcGxheSkpCj4gPiArCQlyZXR1cm47Cj4gPiArCj4gPiAr
CWNydGNfc3RhdGUtPmRjM2NvX2V4aXRsaW5lID0gY3J0Y192ZGlzcGxheSAtIGV4aXRfc2Nhbmxp
bmVzOwo+ID4gKwlEUk1fREVCVUdfS01TKCJEQzNDTyBleGl0IHNjYW5saW5lcyAlZFxuIiwgY3J0
Y19zdGF0ZS0+ZGMzY29fZXhpdGxpbmUpOwo+ID4gK30KPiA+ICsKPiA+ICBzdGF0aWMgYm9vbCBp
bnRlbF9wc3IyX2NvbmZpZ192YWxpZChzdHJ1Y3QgaW50ZWxfZHAgKmludGVsX2RwLAo+ID4gIAkJ
CQkgICAgc3RydWN0IGludGVsX2NydGNfc3RhdGUgKmNydGNfc3RhdGUpCj4gPiAgewo+ID4gQEAg
LTY1OCw2ICs2ODksNyBAQCBzdGF0aWMgYm9vbCBpbnRlbF9wc3IyX2NvbmZpZ192YWxpZChzdHJ1
Y3QgaW50ZWxfZHAgKmludGVsX2RwLAo+ID4gIAkJcmV0dXJuIGZhbHNlOwo+ID4gIAl9Cj4gPiAg
Cj4gPiArCXRnbF9kYzNjb19leGl0bGluZV9jb21wdXRlX2NvbmZpZyhpbnRlbF9kcCwgY3J0Y19z
dGF0ZSk7Cj4gPiAgCXJldHVybiB0cnVlOwo+ID4gIH0KPiA+ICAKPiA+IEBAIC03NzUsNiArODA3
LDIxIEBAIHN0YXRpYyB2b2lkIGludGVsX3Bzcl9lbmFibGVfc291cmNlKHN0cnVjdCBpbnRlbF9k
cCAqaW50ZWxfZHAsCj4gPiAgCUk5MTVfV1JJVEUoRURQX1BTUl9ERUJVRyhkZXZfcHJpdi0+cHNy
LnRyYW5zY29kZXIpLCBtYXNrKTsKPiA+ICAKPiA+ICAJcHNyX2lycV9jb250cm9sKGRldl9wcml2
KTsKPiA+ICsKPiA+ICsJaWYgKElOVEVMX0dFTihkZXZfcHJpdikgPj0gMTIgJiYgZGV2X3ByaXYt
PnBzci5wc3IyX2VuYWJsZWQpIHsKPiA+ICsJCXUzMiB2YWw7Cj4gPiArCj4gPiArCQkvKgo+ID4g
KwkJICogVE9ETzogaWYgZnV0dXJlIHBsYXRmb3JtcyBzdXBwb3J0cyBEQzNDTyBpbiBtb3JlIHRo
YW4gb25lCj4gPiArCQkgKiB0cmFuc2NvZGVyLCBFWElUTElORSB3aWxsIG5lZWQgdG8gYmUgdW5z
ZXQgd2hlbiBkaXNhYmxpbmcgUFNSCj4gPiArCQkgKi8KPiA+ICsJCXZhbCA9IEk5MTVfUkVBRChF
WElUTElORShjcHVfdHJhbnNjb2RlcikpOwo+ID4gKwkJdmFsICY9IH4oRVhJVExJTkVfTUFTSyB8
IEVYSVRMSU5FX0VOQUJMRSk7Cj4gPiArCQl2YWwgfD0gY3J0Y19zdGF0ZS0+ZGMzY29fZXhpdGxp
bmUgPDwgRVhJVExJTkVfU0hJRlQ7Cj4gPiArCQlpZiAoY3J0Y19zdGF0ZS0+ZGMzY29fZXhpdGxp
bmUpCj4gPiArCQkJdmFsIHw9IEVYSVRMSU5FX0VOQUJMRTsKPiA+ICsJCUk5MTVfV1JJVEUoRVhJ
VExJTkUoY3B1X3RyYW5zY29kZXIpLCB2YWwpOwo+ID4gKwl9Cj4gPiAgfQo+ID4gIAo+ID4gIHN0
YXRpYyB2b2lkIGludGVsX3Bzcl9lbmFibGVfbG9ja2VkKHN0cnVjdCBkcm1faTkxNV9wcml2YXRl
ICpkZXZfcHJpdiwKPiA+IC0tIAo+ID4gMi4yMy4wCj4gPiAKX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX18KSW50ZWwtZ2Z4IG1haWxpbmcgbGlzdApJbnRlbC1n
ZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21h
aWxtYW4vbGlzdGluZm8vaW50ZWwtZ2Z4

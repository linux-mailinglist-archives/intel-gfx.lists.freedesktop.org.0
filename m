Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id A0CA823075
	for <lists+intel-gfx@lfdr.de>; Mon, 20 May 2019 11:35:39 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id DB7BD8914C;
	Mon, 20 May 2019 09:35:37 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from fireflyinternet.com (mail.fireflyinternet.com [109.228.58.192])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 42F398914C
 for <intel-gfx@lists.freedesktop.org>; Mon, 20 May 2019 09:35:36 +0000 (UTC)
X-Default-Received-SPF: pass (skip=forwardok (res=PASS))
 x-ip-name=78.156.65.138; 
Received: from localhost (unverified [78.156.65.138]) 
 by fireflyinternet.com (Firefly Internet (M1)) with ESMTP (TLS) id
 16612514-1500050 for multiple; Mon, 20 May 2019 10:35:27 +0100
MIME-Version: 1.0
To: Michal Wajdeczko <michal.wajdeczko@intel.com>,
 intel-gfx@lists.freedesktop.org
From: Chris Wilson <chris@chris-wilson.co.uk>
In-Reply-To: <20190519215043.10712-1-michal.wajdeczko@intel.com>
References: <20190519215043.10712-1-michal.wajdeczko@intel.com>
Message-ID: <155834492612.6928.8334805033823811349@skylake-alporthouse-com>
User-Agent: alot/0.6
Date: Mon, 20 May 2019 10:35:26 +0100
Subject: Re: [Intel-gfx] [PATCH v2] drm/i915/huc: Don't try to check HuC
 status if it's not loaded
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

UXVvdGluZyBNaWNoYWwgV2FqZGVjemtvICgyMDE5LTA1LTE5IDIyOjUwOjQzKQo+IElmIHdlIG5l
dmVyIGF0dGVtcHRlZCB0byBsb2FkIEh1QyBmaXJtd2FyZSwgb3Igd2UgYWxyZWFkeSB3ZWRnZWQK
PiBvciByZXNldCBHdUMvSHVDLCB0aGVuIHRoZXJlIGlzIG5vIHJlYXNvbiB0byB3YWtlIHVwIHRo
ZSBkZXZpY2UKPiB0byBjaGVjayBvbmUgYml0IGluIHRoZSByZWdpc3RlciB0aGF0IHdpbGwgYmUg
Zm9yIHN1cmUgY2xlYXJlZC4KPiAKPiB2MjogY2hlY2sgaWYgSHVDIHdhcyBlbmFibGVkOyBzdWJ0
bGUgY2hhbmdlIGluIEFCSQo+ICAgICByZXVzZSBodXNfaXNfbG9hZCBoZWxwZXIKPiAKPiBTdWdn
ZXN0ZWQtYnk6IENocmlzIFdpbHNvbiA8Y2hyaXNAY2hyaXMtd2lsc29uLmNvLnVrPgo+IFNpZ25l
ZC1vZmYtYnk6IE1pY2hhbCBXYWpkZWN6a28gPG1pY2hhbC53YWpkZWN6a29AaW50ZWwuY29tPgo+
IENjOiBDaHJpcyBXaWxzb24gPGNocmlzQGNocmlzLXdpbHNvbi5jby51az4KPiBDYzogVG9ueSBZ
ZSA8dG9ueS55ZUBpbnRlbC5jb20+Cj4gLS0tCj4gIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVs
X2h1Yy5jIHwgMjAgKysrKysrKysrKysrLS0tLS0tLS0KPiAgZHJpdmVycy9ncHUvZHJtL2k5MTUv
aW50ZWxfaHVjLmggfCAgNSArKysrKwo+ICAyIGZpbGVzIGNoYW5nZWQsIDE3IGluc2VydGlvbnMo
KyksIDggZGVsZXRpb25zKC0pCj4gCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1
L2ludGVsX2h1Yy5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfaHVjLmMKPiBpbmRleCAx
ZmYxZmIwMTVlNTguLmJmZGViZWMxY2ZjOCAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0v
aTkxNS9pbnRlbF9odWMuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX2h1Yy5j
Cj4gQEAgLTExMyw3ICsxMTMsNyBAQCBpbnQgaW50ZWxfaHVjX2F1dGgoc3RydWN0IGludGVsX2h1
YyAqaHVjKQo+ICAgICAgICAgdTMyIHN0YXR1czsKPiAgICAgICAgIGludCByZXQ7Cj4gIAo+IC0g
ICAgICAgaWYgKGh1Yy0+ZncubG9hZF9zdGF0dXMgIT0gSU5URUxfVUNfRklSTVdBUkVfU1VDQ0VT
UykKPiArICAgICAgIGlmICghaW50ZWxfaHVjX2lzX2xvYWRlZChodWMpKQo+ICAgICAgICAgICAg
ICAgICByZXR1cm4gLUVOT0VYRUM7Cj4gIAo+ICAgICAgICAgcmV0ID0gaW50ZWxfZ3VjX2F1dGhf
aHVjKGd1YywKPiBAQCAtMTUwLDIxICsxNTAsMjUgQEAgaW50IGludGVsX2h1Y19hdXRoKHN0cnVj
dCBpbnRlbF9odWMgKmh1YykKPiAgICogVGhpcyBmdW5jdGlvbiByZWFkcyBzdGF0dXMgcmVnaXN0
ZXIgdG8gdmVyaWZ5IGlmIEh1Qwo+ICAgKiBmaXJtd2FyZSB3YXMgc3VjY2Vzc2Z1bGx5IGxvYWRl
ZC4KPiAgICoKPiAtICogUmV0dXJuczogMSBpZiBIdUMgZmlybXdhcmUgaXMgbG9hZGVkIGFuZCB2
ZXJpZmllZCwKPiAtICogMCBpZiBIdUMgZmlybXdhcmUgaXMgbm90IGxvYWRlZCBhbmQgLUVOT0RF
ViBpZiBIdUMKPiAtICogaXMgbm90IHByZXNlbnQgb24gdGhpcyBwbGF0Zm9ybS4KPiArICogUmV0
dXJuczogMSBpZiBIdUMgZmlybXdhcmUgaXMgbG9hZGVkIGFuZCB2ZXJpZmllZCwgMCBpZiBIdUMg
ZmlybXdhcmUgaXMgbm90Cj4gKyAqIGVuYWJsZWQsIC1FTk9QS0cgaWYgSHVDIGZpcm13YXJlIGlz
IG5vdCBsb2FkZWQgYW5kIC1FTk9ERVYgaWYgSHVDIGlzIG5vdAo+ICsgKiBwcmVzZW50IG9uIHRo
aXMgcGxhdGZvcm0uCj4gICAqLwo+ICBpbnQgaW50ZWxfaHVjX2NoZWNrX3N0YXR1cyhzdHJ1Y3Qg
aW50ZWxfaHVjICpodWMpCj4gIHsKPiAgICAgICAgIHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpk
ZXZfcHJpdiA9IGh1Y190b19pOTE1KGh1Yyk7Cj4gICAgICAgICBpbnRlbF93YWtlcmVmX3Qgd2Fr
ZXJlZjsKPiAtICAgICAgIGJvb2wgc3RhdHVzID0gZmFsc2U7Cj4gKyAgICAgICBib29sIHZlcmlm
aWVkID0gZmFsc2U7Cj4gIAo+ICAgICAgICAgaWYgKCFIQVNfSFVDKGRldl9wcml2KSkKPiAgICAg
ICAgICAgICAgICAgcmV0dXJuIC1FTk9ERVY7Cj4gIAo+IC0gICAgICAgd2l0aF9pbnRlbF9ydW50
aW1lX3BtKGRldl9wcml2LCB3YWtlcmVmKQo+IC0gICAgICAgICAgICAgICBzdGF0dXMgPSBJOTE1
X1JFQUQoSFVDX1NUQVRVUzIpICYgSFVDX0ZXX1ZFUklGSUVEOwo+ICsgICAgICAgaWYgKCFVU0VT
X0hVQyhkZXZfcHJpdikpCj4gKyAgICAgICAgICAgICAgIHJldHVybiAwOwoKSG1tLCBFT1BOT1RT
VVBQIGhlcmUgZm9yIHRoZSB1c2VyIGRpc2FibGVkIGNhc2U/CgpUaGVuCgppZiAoIWludGVsX2h1
Y19pc19sb2FkZWQoaHVjKSkKCXJldHVybiAtRU5PUEtHOwoKYm9vbCB2ZXJpZmllZCA9IGZhbHNl
Owp3aXRoX2ludGVsX3J1bnRpbWVfcG0oZGV2X3ByaXYsIHdha2VyZWYpCgl2ZXJpZmllZCA9IEk5
MTVfUkVBRChIVUNfU1RBVFVTMikgJiBIVUNfRldfVkVSSUZJRUQ7CnJldHVybiB2ZXJpZmllZC4K
ClRoYXQga2VlcHMgaXQgYSBiaXQgZmxhdHRlciB3aXRoIHRoZSBzcGVjaWFsIGNhc2luZyBzZXBh
cmF0ZSBhbmQgdGhlIDAvMQpyZXN1bHQgYXMgZ2l2ZW4gYnkgdGhlIHJlZ2lzdGVyIHN0YXR1cy4g
VGhlbiBpZiBuZWdhdGl2ZSwgd2Uga25vdyBvbmUgb2YKdGhlIHByZWNvbmRpdGlvbnMgZm9yIHVz
aW5nIEh1QyBpcyBub3QgYXZhaWxhYmxlLCBhbmQgaWYgMCBzb21ldGhpbmcgd2VudAp3cm9uZyBp
biBtbWlvIHNldHVwLgoKRG9lcyB0aGF0IG1ha2Ugc2Vuc2U/Cgo+IC0gICAgICAgcmV0dXJuIHN0
YXR1czsKPiArICAgICAgIGlmIChpbnRlbF9odWNfaXNfbG9hZGVkKGh1YykpCj4gKyAgICAgICAg
ICAgICAgIHdpdGhfaW50ZWxfcnVudGltZV9wbShkZXZfcHJpdiwgd2FrZXJlZikKPiArICAgICAg
ICAgICAgICAgICAgICAgICB2ZXJpZmllZCA9IEk5MTVfUkVBRChIVUNfU1RBVFVTMikgJiBIVUNf
RldfVkVSSUZJRUQ7Cj4gKwo+ICsgICAgICAgcmV0dXJuIHZlcmlmaWVkID8gMSA6IC1FTk9QS0c7
Cj4gIH0KPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfaHVjLmggYi9k
cml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9odWMuaAo+IGluZGV4IGEwYzIxYWUwMmE5OS4uY2Rl
M2QzMDM3MThkIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX2h1Yy5o
Cj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfaHVjLmgKPiBAQCAtNDQsNiArNDQs
MTEgQEAgdm9pZCBpbnRlbF9odWNfZmluaShzdHJ1Y3QgaW50ZWxfaHVjICpodWMpOwo+ICBpbnQg
aW50ZWxfaHVjX2F1dGgoc3RydWN0IGludGVsX2h1YyAqaHVjKTsKPiAgaW50IGludGVsX2h1Y19j
aGVja19zdGF0dXMoc3RydWN0IGludGVsX2h1YyAqaHVjKTsKPiAgCj4gK3N0YXRpYyBpbmxpbmUg
Ym9vbCBpbnRlbF9odWNfaXNfbG9hZGVkKHN0cnVjdCBpbnRlbF9odWMgKmh1YykKPiArewo+ICsg
ICAgICAgcmV0dXJuIGludGVsX3VjX2Z3X2lzX2xvYWRlZCgmaHVjLT5mdyk7Cj4gK30KPiArCj4g
IHN0YXRpYyBpbmxpbmUgdm9pZCBpbnRlbF9odWNfZmluaV9taXNjKHN0cnVjdCBpbnRlbF9odWMg
Kmh1YykKPiAgewo+ICAgICAgICAgaW50ZWxfdWNfZndfY2xlYW51cF9mZXRjaCgmaHVjLT5mdyk7
Cj4gLS0gCj4gMi4xOS4yCj4gCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fCkludGVsLWdmeCBtYWlsaW5nIGxpc3QKSW50ZWwtZ2Z4QGxpc3RzLmZyZWVkZXNr
dG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2lu
dGVsLWdmeA==

Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id BF53A9857E
	for <lists+intel-gfx@lfdr.de>; Wed, 21 Aug 2019 22:22:41 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id E40B46EA01;
	Wed, 21 Aug 2019 20:22:39 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga09.intel.com (mga09.intel.com [134.134.136.24])
 by gabe.freedesktop.org (Postfix) with ESMTPS id EF95C6EA01
 for <intel-gfx@lists.freedesktop.org>; Wed, 21 Aug 2019 20:22:38 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga007.jf.intel.com ([10.7.209.58])
 by orsmga102.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 21 Aug 2019 13:22:38 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.64,412,1559545200"; d="scan'208";a="169538899"
Received: from fmsmsx108.amr.corp.intel.com ([10.18.124.206])
 by orsmga007.jf.intel.com with ESMTP; 21 Aug 2019 13:22:38 -0700
Received: from fmsmsx154.amr.corp.intel.com (10.18.116.70) by
 FMSMSX108.amr.corp.intel.com (10.18.124.206) with Microsoft SMTP Server (TLS)
 id 14.3.439.0; Wed, 21 Aug 2019 13:22:37 -0700
Received: from fmsmsx117.amr.corp.intel.com ([169.254.3.69]) by
 FMSMSX154.amr.corp.intel.com ([169.254.6.73]) with mapi id 14.03.0439.000;
 Wed, 21 Aug 2019 13:22:37 -0700
From: "Souza, Jose" <jose.souza@intel.com>
To: "Navare, Manasi D" <manasi.d.navare@intel.com>
Thread-Topic: [PATCH v2] drm/i915/tgl: Implement TGL DisplayPort training
 sequence
Thread-Index: AQHVV6Ld8Ps09EEmM06Mzb9Q2yAuDqcFHjKAgAFkN4A=
Date: Wed, 21 Aug 2019 20:22:36 +0000
Message-ID: <10519e913b657f84c536390ba1edc00f699f041e.camel@intel.com>
References: <20190817093902.2171-26-lucas.demarchi@intel.com>
 <20190820220138.10343-1-jose.souza@intel.com>
 <20190820230739.GC25055@intel.com>
In-Reply-To: <20190820230739.GC25055@intel.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-originating-ip: [10.24.9.135]
Content-ID: <3436EF98478E9B4DAC82E8D7586C02E4@intel.com>
MIME-Version: 1.0
Subject: Re: [Intel-gfx] [PATCH v2] drm/i915/tgl: Implement TGL DisplayPort
 training sequence
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: "De Marchi, Lucas" <lucas.demarchi@intel.com>,
 "intel-gfx@lists.freedesktop.org" <intel-gfx@lists.freedesktop.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

T24gVHVlLCAyMDE5LTA4LTIwIGF0IDE2OjA3IC0wNzAwLCBNYW5hc2kgTmF2YXJlIHdyb3RlOg0K
PiBPbiBUdWUsIEF1ZyAyMCwgMjAxOSBhdCAwMzowMTozOFBNIC0wNzAwLCBKb3PDqSBSb2JlcnRv
IGRlIFNvdXphDQo+IHdyb3RlOg0KPiA+IE9uIFRHTCBzb21lIHJlZ2lzdGVycyBtb3ZlZCBmcm9t
IERESSB0byB0cmFuc2NvZGVyIGFuZCB0aGUNCj4gPiBEaXNwbGF5UG9ydCB0cmFpbmluZyBzZXF1
ZW5jZSBoYXMgYSBzZXBhcmF0ZSBCU3BlYyBwYWdlLg0KPiA+IA0KPiA+IEkgc3RhcnRlZCBhZGRp
bmcgJ2lmcycgdG8gdGhlIG9yaWdpbmFsIGludGVsX2RkaV9wcmVfZW5hYmxlX2RwKCkNCj4gPiBi
dXQNCj4gPiBpdCB3YXMgYmVjb21pbmcgcmVhbGx5IGhhcmQgdG8gZm9sbG93LCBzbyBhIG5ldyBh
bmQgY2xlYW5lcg0KPiA+IGZ1bmN0aW9uDQo+ID4gZm9yIFRHTCB3YXMgYWRkZWQgd2l0aCBjb21t
ZW50cyBvZiBhbGwgc3RlcHMuIEl0J3Mgc2ltaWxhciB0byBJQ0wsDQo+ID4gYnV0DQo+ID4gZGlm
ZmVyZW50IGVub3VnaCB0byBkZXNlcnZlIGEgbmV3IGZ1bmN0aW9uDQo+ID4gDQo+ID4gVGhlIHJl
c3Qgb2YgRGlzcGxheVBvcnQgZW5hYmxlIGFuZCB0aGUgd2hvbGUgZGlzYWJsZSBzZXF1ZW5jZXMN
Cj4gPiByZW1haW5lZCB0aGUgc2FtZS4NCj4gPiANCj4gPiB2MjogRkVDIGFuZCBEU0Mgc2hvdWxk
IGJlIGVuYWJsZWQgb24gc2luayBzaWRlIGJlZm9yZSBzdGFydCBsaW5rDQo+ID4gdHJhaW5pbmco
TWFhcnRlbiByZXBvcnRlZCBhbmQgTWFuYXNpIGNvbmZpcm1lZCB0aGUgRFNDIHBhcnQpDQo+ID4g
DQo+ID4gQlNwZWM6IDQ5MTkwDQo+ID4gQ2M6IE1hYXJ0ZW4gTGFua2hvcnN0IDxtYWFydGVuLmxh
bmtob3JzdEBsaW51eC5pbnRlbC5jb20+DQo+ID4gQ2M6IE1hbmFzaSBOYXZhcmUgPG1hbmFzaS5k
Lm5hdmFyZUBpbnRlbC5jb20+DQo+ID4gQ2M6IFZpbGxlIFN5cmrDpGzDpCA8dmlsbGUuc3lyamFs
YUBsaW51eC5pbnRlbC5jb20+DQo+ID4gU2lnbmVkLW9mZi1ieTogSm9zw6kgUm9iZXJ0byBkZSBT
b3V6YSA8am9zZS5zb3V6YUBpbnRlbC5jb20+DQo+ID4gU2lnbmVkLW9mZi1ieTogTHVjYXMgRGUg
TWFyY2hpIDxsdWNhcy5kZW1hcmNoaUBpbnRlbC5jb20+DQo+ID4gLS0tDQo+ID4gIGRyaXZlcnMv
Z3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGRpLmMgfCAxMzgNCj4gPiArKysrKysrKysrKysr
KysrKysrKysrLQ0KPiA+ICBkcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2RwLmMg
IHwgICA4ICstDQo+ID4gIDIgZmlsZXMgY2hhbmdlZCwgMTM4IGluc2VydGlvbnMoKyksIDggZGVs
ZXRpb25zKC0pDQo+ID4gDQo+ID4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rp
c3BsYXkvaW50ZWxfZGRpLmMNCj4gPiBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50
ZWxfZGRpLmMNCj4gPiBpbmRleCA4ZWIyYjNlYzAxZWQuLjFjMTUzNGUyZDgzMyAxMDA2NDQNCj4g
PiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2RkaS5jDQo+ID4gKysr
IGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kZGkuYw0KPiA+IEBAIC0xNzYx
LDcgKzE3NjEsMTQgQEAgdm9pZCBpbnRlbF9kZGlfc2V0X3ZjX3BheWxvYWRfYWxsb2MoY29uc3QN
Cj4gPiBzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqY3J0Y19zdGF0ZSwNCj4gPiAgCUk5MTVfV1JJ
VEUoVFJBTlNfRERJX0ZVTkNfQ1RMKGNwdV90cmFuc2NvZGVyKSwgdGVtcCk7DQo+ID4gIH0NCj4g
PiAgDQo+ID4gLXZvaWQgaW50ZWxfZGRpX2VuYWJsZV90cmFuc2NvZGVyX2Z1bmMoY29uc3Qgc3Ry
dWN0DQo+ID4gaW50ZWxfY3J0Y19zdGF0ZSAqY3J0Y19zdGF0ZSkNCj4gPiArLyoNCj4gPiArICog
UmV0dXJucyB0aGUgVFJBTlNfRERJX0ZVTkNfQ1RMIHZhbHVlIGJhc2VkIG9uIENSVEMgc3RhdGUu
DQo+ID4gKyAqDQo+ID4gKyAqIE9ubHkgaW50ZW5kZWQgdG8gYmUgdXNlZCBieSBpbnRlbF9kZGlf
ZW5hYmxlX3RyYW5zY29kZXJfZnVuYygpDQo+ID4gYW5kDQo+ID4gKyAqIGludGVsX2RkaV9jb25m
aWdfdHJhbnNjb2Rlcl9mdW5jKCkuDQo+ID4gKyAqLw0KPiA+ICtzdGF0aWMgdTMyDQo+ID4gK2lu
dGVsX2RkaV90cmFuc2NvZGVyX2Z1bmNfcmVnX3ZhbF9nZXQoY29uc3Qgc3RydWN0DQo+ID4gaW50
ZWxfY3J0Y19zdGF0ZSAqY3J0Y19zdGF0ZSkNCj4gPiAgew0KPiA+ICAJc3RydWN0IGludGVsX2Ny
dGMgKmNydGMgPSB0b19pbnRlbF9jcnRjKGNydGNfc3RhdGUtPmJhc2UuY3J0Yyk7DQo+ID4gIAlz
dHJ1Y3QgaW50ZWxfZW5jb2RlciAqZW5jb2RlciA9DQo+ID4gaW50ZWxfZGRpX2dldF9jcnRjX2Vu
Y29kZXIoY3J0Yyk7DQo+ID4gQEAgLTE4NDUsNiArMTg1MiwzMyBAQCB2b2lkIGludGVsX2RkaV9l
bmFibGVfdHJhbnNjb2Rlcl9mdW5jKGNvbnN0DQo+ID4gc3RydWN0IGludGVsX2NydGNfc3RhdGUg
KmNydGNfc3RhdGUpDQo+ID4gIAkJdGVtcCB8PSBERElfUE9SVF9XSURUSChjcnRjX3N0YXRlLT5s
YW5lX2NvdW50KTsNCj4gPiAgCX0NCj4gPiAgDQo+ID4gKwlyZXR1cm4gdGVtcDsNCj4gPiArfQ0K
PiA+ICsNCj4gPiArdm9pZCBpbnRlbF9kZGlfZW5hYmxlX3RyYW5zY29kZXJfZnVuYyhjb25zdCBz
dHJ1Y3QNCj4gPiBpbnRlbF9jcnRjX3N0YXRlICpjcnRjX3N0YXRlKQ0KPiA+ICt7DQo+ID4gKwlz
dHJ1Y3QgaW50ZWxfY3J0YyAqY3J0YyA9IHRvX2ludGVsX2NydGMoY3J0Y19zdGF0ZS0+YmFzZS5j
cnRjKTsNCj4gPiArCXN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiA9IHRvX2k5MTUo
Y3J0Yy0+YmFzZS5kZXYpOw0KPiA+ICsJZW51bSB0cmFuc2NvZGVyIGNwdV90cmFuc2NvZGVyID0g
Y3J0Y19zdGF0ZS0+Y3B1X3RyYW5zY29kZXI7DQo+ID4gKwl1MzIgdGVtcDsNCj4gPiArDQo+ID4g
Kwl0ZW1wID0gaW50ZWxfZGRpX3RyYW5zY29kZXJfZnVuY19yZWdfdmFsX2dldChjcnRjX3N0YXRl
KTsNCj4gPiArCUk5MTVfV1JJVEUoVFJBTlNfRERJX0ZVTkNfQ1RMKGNwdV90cmFuc2NvZGVyKSwg
dGVtcCk7DQo+ID4gK30NCj4gPiArDQo+ID4gKy8qDQo+ID4gKyAqIFNhbWUgYXMgaW50ZWxfZGRp
X2VuYWJsZV90cmFuc2NvZGVyX2Z1bmMoKSBidXQgaXQgZG8gbm90IHNldA0KPiA+IHRoZSBlbmFi
bGUgYml0DQo+ID4gKyAqLw0KPiA+ICtzdGF0aWMgdm9pZA0KPiA+ICtpbnRlbF9kZGlfY29uZmln
X3RyYW5zY29kZXJfZnVuYyhjb25zdCBzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZQ0KPiA+ICpjcnRj
X3N0YXRlKQ0KPiA+ICt7DQo+ID4gKwlzdHJ1Y3QgaW50ZWxfY3J0YyAqY3J0YyA9IHRvX2ludGVs
X2NydGMoY3J0Y19zdGF0ZS0+YmFzZS5jcnRjKTsNCj4gPiArCXN0cnVjdCBkcm1faTkxNV9wcml2
YXRlICpkZXZfcHJpdiA9IHRvX2k5MTUoY3J0Yy0+YmFzZS5kZXYpOw0KPiA+ICsJZW51bSB0cmFu
c2NvZGVyIGNwdV90cmFuc2NvZGVyID0gY3J0Y19zdGF0ZS0+Y3B1X3RyYW5zY29kZXI7DQo+ID4g
Kwl1MzIgdGVtcDsNCj4gPiArDQo+ID4gKwl0ZW1wID0gaW50ZWxfZGRpX3RyYW5zY29kZXJfZnVu
Y19yZWdfdmFsX2dldChjcnRjX3N0YXRlKTsNCj4gPiArCXRlbXAgJj0gflRSQU5TX0RESV9GVU5D
X0VOQUJMRTsNCj4gPiAgCUk5MTVfV1JJVEUoVFJBTlNfRERJX0ZVTkNfQ1RMKGNwdV90cmFuc2Nv
ZGVyKSwgdGVtcCk7DQo+ID4gIH0NCj4gPiAgDQo+ID4gQEAgLTMxNjAsOSArMzE5NCw5MyBAQCBz
dGF0aWMgdm9pZA0KPiA+IGludGVsX2RkaV9kaXNhYmxlX2ZlY19zdGF0ZShzdHJ1Y3QgaW50ZWxf
ZW5jb2RlciAqZW5jb2RlciwNCj4gPiAgCVBPU1RJTkdfUkVBRChEUF9UUF9DVEwocG9ydCkpOw0K
PiA+ICB9DQo+ID4gIA0KPiA+IC1zdGF0aWMgdm9pZCBpbnRlbF9kZGlfcHJlX2VuYWJsZV9kcChz
dHJ1Y3QgaW50ZWxfZW5jb2RlciAqZW5jb2RlciwNCj4gPiAtCQkJCSAgICBjb25zdCBzdHJ1Y3Qg
aW50ZWxfY3J0Y19zdGF0ZQ0KPiA+ICpjcnRjX3N0YXRlLA0KPiA+IC0JCQkJICAgIGNvbnN0IHN0
cnVjdCBkcm1fY29ubmVjdG9yX3N0YXRlDQo+ID4gKmNvbm5fc3RhdGUpDQo+ID4gK3N0YXRpYyB2
b2lkIHRnbF9kZGlfcHJlX2VuYWJsZV9kcChzdHJ1Y3QgaW50ZWxfZW5jb2RlciAqZW5jb2RlciwN
Cj4gPiArCQkJCSAgY29uc3Qgc3RydWN0IGludGVsX2NydGNfc3RhdGUNCj4gPiAqY3J0Y19zdGF0
ZSwNCj4gPiArCQkJCSAgY29uc3Qgc3RydWN0IGRybV9jb25uZWN0b3Jfc3RhdGUNCj4gPiAqY29u
bl9zdGF0ZSkNCj4gPiArew0KPiA+ICsJc3RydWN0IGludGVsX2RwICppbnRlbF9kcCA9IGVuY190
b19pbnRlbF9kcCgmZW5jb2Rlci0+YmFzZSk7DQo+ID4gKwlzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0
ZSAqZGV2X3ByaXYgPSB0b19pOTE1KGVuY29kZXItPmJhc2UuZGV2KTsNCj4gPiArCWVudW0gcGh5
IHBoeSA9IGludGVsX3BvcnRfdG9fcGh5KGRldl9wcml2LCBlbmNvZGVyLT5wb3J0KTsNCj4gPiAr
CXN0cnVjdCBpbnRlbF9kaWdpdGFsX3BvcnQgKmRpZ19wb3J0ID0gZW5jX3RvX2RpZ19wb3J0KCZl
bmNvZGVyLQ0KPiA+ID5iYXNlKTsNCj4gPiArCWJvb2wgaXNfbXN0ID0gaW50ZWxfY3J0Y19oYXNf
dHlwZShjcnRjX3N0YXRlLA0KPiA+IElOVEVMX09VVFBVVF9EUF9NU1QpOw0KPiA+ICsJaW50IGxl
dmVsID0gaW50ZWxfZGRpX2RwX2xldmVsKGludGVsX2RwKTsNCj4gPiArDQo+ID4gKwlpbnRlbF9k
cF9zZXRfbGlua19wYXJhbXMoaW50ZWxfZHAsIGNydGNfc3RhdGUtPnBvcnRfY2xvY2ssDQo+ID4g
KwkJCQkgY3J0Y19zdGF0ZS0+bGFuZV9jb3VudCwgaXNfbXN0KTsNCj4gPiArDQo+ID4gKwkvKiAx
LmEgZ290IG9uIGludGVsX2F0b21pY19jb21taXRfdGFpbCgpICovDQo+IA0KPiBJIHRoaW5rIGlm
IHRoaXMgY29tbWVudCBpcyBrZXB0IGluIHRoZSBjb2RlLCBiZXR0ZXIgZWxhYm9yYXRlIG9uIHdo
YXQNCj4gMSBpcw0KPiANCj4gPiArDQo+ID4gKwkvKiAyLiAqLw0KPiA+ICsJaW50ZWxfZWRwX3Bh
bmVsX29uKGludGVsX2RwKTsNCj4gPiArDQo+ID4gKwkvKg0KPiA+ICsJICogMS5iLCAzLiBhbmQg
NC4gaXMgZG9uZSBieSBiZWZvcmUgdGhpcyBmdW5jdGlvbnMgYnkNCj4gPiArCSAqIGhhc3dlbGxf
Y3J0Y19lbmFibGUoKS0+aW50ZWxfZW5jb2RlcnNfcHJlX3BsbF9lbmFibGUoKSBhbmQNCj4gPiAr
CSAqIGhhc3dlbGxfY3J0Y19lbmFibGUoKS0+aW50ZWxfZW5hYmxlX3NoYXJlZF9kcGxsKCkNCj4g
PiArCSAqLw0KPiANCj4gQ3VycmVudGx5IHRoZXJlIGlzIG9ubHkgZ2VuMTFfZHNpX3ByZV9wbGxf
ZW5hYmxlIHByZV9wbGxfZW5hYmxlIGhvb2ssDQo+IGlzIHRoZXJlIGEgDQo+IHNlcGFyYXRlIGdl
bjEyIGhvb2sgZm9yIHBvcnQgY2xvY2sgcHJvZ3JhbW1pbmcgaW4gc3RlcCA0Pw0KDQpObyBzZXBh
cmF0ZWQsIGl0IHVzZXMgdGhlIHNhbWUgb25lIGZvciBhbGwgcGxhdGZvcm1zIHRoYXQgc3VwcG9y
dHMgRERJOg0KaW50ZWxfZGRpX3ByZV9wbGxfZW5hYmxlKCkNCg0KPiANCj4gPiArDQo+ID4gKwkv
KiA1LiAqLw0KPiA+ICsJaWYgKCFpbnRlbF9waHlfaXNfdGMoZGV2X3ByaXYsIHBoeSkgfHwNCj4g
PiArCSAgICBkaWdfcG9ydC0+dGNfbW9kZSAhPSBUQ19QT1JUX1RCVF9BTFQpDQo+ID4gKwkJaW50
ZWxfZGlzcGxheV9wb3dlcl9nZXQoZGV2X3ByaXYsDQo+ID4gKwkJCQkJZGlnX3BvcnQtPmRkaV9p
b19wb3dlcl9kb21haW4pOw0KPiA+ICsNCj4gPiArCS8qIDYuICovDQo+ID4gKwlpY2xfcHJvZ3Jh
bV9tZ19kcF9tb2RlKGRpZ19wb3J0KTsNCj4gPiArDQo+ID4gKwkvKg0KPiA+ICsJICogNy5hIC0g
U3RlcHMgaW4gdGhpcyBmdW5jdGlvbiB0aGF0IHNob3VsZCBvbmx5IGJlIGV4ZWN1dGVkDQo+ID4g
b3ZlciBNU1QNCj4gPiArCSAqIG1hc3RlciBhcyBNU1QgZW5jb2RlcnMgd2lsbCBvbmx5IGJlIGV4
ZWN1dGVkIG9uIE1TVCBtYXN0ZXINCj4gPiBhcyBNU1QNCj4gPiArCSAqIGVuY29kZXIgaGF2ZSBo
YXZlIGl0J3Mgb3duIHByZV9lbmFibGUoKSBob29rDQo+ID4gKwkgKi8NCj4gPiArCWludGVsX2Rk
aV9lbmFibGVfcGlwZV9jbG9jayhjcnRjX3N0YXRlKTsNCj4gPiArDQo+ID4gKwkvKiA3LmIgKi8N
Cj4gPiArCWludGVsX2RkaV9jb25maWdfdHJhbnNjb2Rlcl9mdW5jKGNydGNfc3RhdGUpOw0KPiA+
ICsNCj4gPiArCS8qIDcuZCAqLw0KPiA+ICsJaWNsX2Rpc2FibGVfcGh5X2Nsb2NrX2dhdGluZyhk
aWdfcG9ydCk7DQo+ID4gKw0KPiA+ICsJLyogNy5lICovDQo+ID4gKwlpY2xfZGRpX3Zzd2luZ19z
ZXF1ZW5jZShlbmNvZGVyLCBjcnRjX3N0YXRlLT5wb3J0X2Nsb2NrLCBsZXZlbCwNCj4gPiArCQkJ
CWVuY29kZXItPnR5cGUpOw0KPiA+ICsNCj4gPiArCS8qIDcuZiAqLw0KPiA+ICsJaWYgKGludGVs
X3BoeV9pc19jb21ibyhkZXZfcHJpdiwgcGh5KSkgew0KPiA+ICsJCWJvb2wgbGFuZV9yZXZlcnNh
bCA9DQo+ID4gKwkJCWRpZ19wb3J0LT5zYXZlZF9wb3J0X2JpdHMgJg0KPiA+IERESV9CVUZfUE9S
VF9SRVZFUlNBTDsNCj4gPiArDQo+ID4gKwkJaW50ZWxfY29tYm9fcGh5X3Bvd2VyX3VwX2xhbmVz
KGRldl9wcml2LCBwaHksIGZhbHNlLA0KPiA+ICsJCQkJCSAgICAgICBjcnRjX3N0YXRlLT5sYW5l
X2NvdW50LA0KPiA+ICsJCQkJCSAgICAgICBsYW5lX3JldmVyc2FsKTsNCj4gPiArCX0NCj4gPiAr
DQo+ID4gKwkvKiA3LmcgKi8NCj4gPiArCWludGVsX2RkaV9pbml0X2RwX2J1Zl9yZWcoZW5jb2Rl
cik7DQo+ID4gKw0KPiA+ICsJaWYgKCFpc19tc3QpDQo+ID4gKwkJaW50ZWxfZHBfc2lua19kcG1z
KGludGVsX2RwLCBEUk1fTU9ERV9EUE1TX09OKTsNCj4gPiArDQo+ID4gKwlpbnRlbF9kcF9zaW5r
X3NldF9kZWNvbXByZXNzaW9uX3N0YXRlKGludGVsX2RwLCBjcnRjX3N0YXRlLA0KPiA+IHRydWUp
Ow0KPiA+ICsJLyoNCj4gPiArCSAqIERESSBGRUM6ICJhbnRpY2lwYXRlcyBlbmFibGluZyBGRUMg
ZW5jb2Rpbmcgc2V0cyB0aGUNCj4gPiBGRUNfUkVBRFkgYml0DQo+ID4gKwkgKiBpbiB0aGUgRkVD
X0NPTkZJR1VSQVRJT04gcmVnaXN0ZXIgdG8gMSBiZWZvcmUgaW5pdGlhdGluZw0KPiA+IGxpbmsN
Cj4gPiArCSAqIHRyYWluaW5nDQo+ID4gKwkgKi8NCj4gPiArCWludGVsX2RwX3Npbmtfc2V0X2Zl
Y19yZWFkeShpbnRlbF9kcCwgY3J0Y19zdGF0ZSk7DQo+ID4gKwkvKiA3LmMsIDcuaCwgNy5pLCA3
LmogKi8NCj4gPiArCWludGVsX2RwX3N0YXJ0X2xpbmtfdHJhaW4oaW50ZWxfZHApOw0KPiA+ICsN
Cj4gPiArCS8qIDcuayAqLw0KPiA+ICsJaW50ZWxfZHBfc3RvcF9saW5rX3RyYWluKGludGVsX2Rw
KTsNCj4gDQo+IGludGVsX2RkaV9lbmFibGVfZmVjKGVuY29kZXIsIGNydGNfc3RhdGUpOyBjYWxs
IGJlZm9yZSBkc2NfZW5hYmxlDQo+IGNhbGwgaXMgbWlzc2luZw0KDQpPdWNoLCB0aGFua3MuDQpX
aWxsIGZpeCB0aGF0Lg0KDQo+IA0KPiBNYW5hc2kNCj4gDQo+ID4gKw0KPiA+ICsJLyogNy5sICov
DQo+ID4gKwlpbnRlbF9kc2NfZW5hYmxlKGVuY29kZXIsIGNydGNfc3RhdGUpOw0KPiA+ICt9DQo+
ID4gKw0KPiA+ICtzdGF0aWMgdm9pZCBoc3dfZGRpX3ByZV9lbmFibGVfZHAoc3RydWN0IGludGVs
X2VuY29kZXIgKmVuY29kZXIsDQo+ID4gKwkJCQkgIGNvbnN0IHN0cnVjdCBpbnRlbF9jcnRjX3N0
YXRlDQo+ID4gKmNydGNfc3RhdGUsDQo+ID4gKwkJCQkgIGNvbnN0IHN0cnVjdCBkcm1fY29ubmVj
dG9yX3N0YXRlDQo+ID4gKmNvbm5fc3RhdGUpDQo+ID4gIHsNCj4gPiAgCXN0cnVjdCBpbnRlbF9k
cCAqaW50ZWxfZHAgPSBlbmNfdG9faW50ZWxfZHAoJmVuY29kZXItPmJhc2UpOw0KPiA+ICAJc3Ry
dWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2ID0gdG9faTkxNShlbmNvZGVyLT5iYXNlLmRl
dik7DQo+ID4gQEAgLTMyMjgsNiArMzM0NiwxOCBAQCBzdGF0aWMgdm9pZCBpbnRlbF9kZGlfcHJl
X2VuYWJsZV9kcChzdHJ1Y3QNCj4gPiBpbnRlbF9lbmNvZGVyICplbmNvZGVyLA0KPiA+ICAJaW50
ZWxfZHNjX2VuYWJsZShlbmNvZGVyLCBjcnRjX3N0YXRlKTsNCj4gPiAgfQ0KPiA+ICANCj4gPiAr
c3RhdGljIHZvaWQgaW50ZWxfZGRpX3ByZV9lbmFibGVfZHAoc3RydWN0IGludGVsX2VuY29kZXIg
KmVuY29kZXIsDQo+ID4gKwkJCQkgICAgY29uc3Qgc3RydWN0IGludGVsX2NydGNfc3RhdGUNCj4g
PiAqY3J0Y19zdGF0ZSwNCj4gPiArCQkJCSAgICBjb25zdCBzdHJ1Y3QgZHJtX2Nvbm5lY3Rvcl9z
dGF0ZQ0KPiA+ICpjb25uX3N0YXRlKQ0KPiA+ICt7DQo+ID4gKwlzdHJ1Y3QgZHJtX2k5MTVfcHJp
dmF0ZSAqZGV2X3ByaXYgPSB0b19pOTE1KGVuY29kZXItPmJhc2UuZGV2KTsNCj4gPiArDQo+ID4g
KwlpZiAoSU5URUxfR0VOKGRldl9wcml2KSA+PSAxMikNCj4gPiArCQl0Z2xfZGRpX3ByZV9lbmFi
bGVfZHAoZW5jb2RlciwgY3J0Y19zdGF0ZSwgY29ubl9zdGF0ZSk7DQo+ID4gKwllbHNlDQo+ID4g
KwkJaHN3X2RkaV9wcmVfZW5hYmxlX2RwKGVuY29kZXIsIGNydGNfc3RhdGUsIGNvbm5fc3RhdGUp
Ow0KPiA+ICt9DQo+ID4gKw0KPiA+ICBzdGF0aWMgdm9pZCBpbnRlbF9kZGlfcHJlX2VuYWJsZV9o
ZG1pKHN0cnVjdCBpbnRlbF9lbmNvZGVyDQo+ID4gKmVuY29kZXIsDQo+ID4gIAkJCQkgICAgICBj
b25zdCBzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZQ0KPiA+ICpjcnRjX3N0YXRlLA0KPiA+ICAJCQkJ
ICAgICAgY29uc3Qgc3RydWN0IGRybV9jb25uZWN0b3Jfc3RhdGUNCj4gPiAqY29ubl9zdGF0ZSkN
Cj4gPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kcC5j
DQo+ID4gYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2RwLmMNCj4gPiBpbmRl
eCA1YzQ1YTNiYjEwMmQuLjFhNTljNTBmN2UwYSAxMDA2NDQNCj4gPiAtLS0gYS9kcml2ZXJzL2dw
dS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2RwLmMNCj4gPiArKysgYi9kcml2ZXJzL2dwdS9kcm0v
aTkxNS9kaXNwbGF5L2ludGVsX2RwLmMNCj4gPiBAQCAtMzk1MCwxMyArMzk1MCwxMyBAQCB2b2lk
IGludGVsX2RwX3NldF9pZGxlX2xpbmtfdHJhaW4oc3RydWN0DQo+ID4gaW50ZWxfZHAgKmludGVs
X2RwKQ0KPiA+ICAJSTkxNV9XUklURShEUF9UUF9DVEwocG9ydCksIHZhbCk7DQo+ID4gIA0KPiA+
ICAJLyoNCj4gPiAtCSAqIE9uIFBPUlRfQSB3ZSBjYW4gaGF2ZSBvbmx5IGVEUCBpbiBTU1QgbW9k
ZS4gVGhlcmUgdGhlIG9ubHkNCj4gPiByZWFzb24NCj4gPiAtCSAqIHdlIG5lZWQgdG8gc2V0IGlk
bGUgdHJhbnNtaXNzaW9uIG1vZGUgaXMgdG8gd29yayBhcm91bmQgYSBIVw0KPiA+IGlzc3VlDQo+
ID4gLQkgKiB3aGVyZSB3ZSBlbmFibGUgdGhlIHBpcGUgd2hpbGUgbm90IGluIGlkbGUgbGluay10
cmFpbmluZw0KPiA+IG1vZGUuDQo+ID4gKwkgKiBVbnRpbCBUR0wgb24gUE9SVF9BIHdlIGNhbiBo
YXZlIG9ubHkgZURQIGluIFNTVCBtb2RlLiBUaGVyZQ0KPiA+IHRoZSBvbmx5DQo+ID4gKwkgKiBy
ZWFzb24gd2UgbmVlZCB0byBzZXQgaWRsZSB0cmFuc21pc3Npb24gbW9kZSBpcyB0byB3b3JrDQo+
ID4gYXJvdW5kIGEgSFcNCj4gPiArCSAqIGlzc3VlIHdoZXJlIHdlIGVuYWJsZSB0aGUgcGlwZSB3
aGlsZSBub3QgaW4gaWRsZSBsaW5rLQ0KPiA+IHRyYWluaW5nIG1vZGUuDQo+ID4gIAkgKiBJbiB0
aGlzIGNhc2UgdGhlcmUgaXMgcmVxdWlyZW1lbnQgdG8gd2FpdCBmb3IgYSBtaW5pbXVtDQo+ID4g
bnVtYmVyIG9mDQo+ID4gIAkgKiBpZGxlIHBhdHRlcm5zIHRvIGJlIHNlbnQuDQo+ID4gIAkgKi8N
Cj4gPiAtCWlmIChwb3J0ID09IFBPUlRfQSkNCj4gPiArCWlmIChwb3J0ID09IFBPUlRfQSAmJiBJ
TlRFTF9HRU4oZGV2X3ByaXYpIDwgMTIpDQo+ID4gIAkJcmV0dXJuOw0KPiA+ICANCj4gPiAgCWlm
IChpbnRlbF9kZV93YWl0X2Zvcl9zZXQoZGV2X3ByaXYsIERQX1RQX1NUQVRVUyhwb3J0KSwNCj4g
PiAtLSANCj4gPiAyLjIyLjENCj4gPiANCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fCkludGVsLWdmeCBtYWlsaW5nIGxpc3QKSW50ZWwtZ2Z4QGxpc3RzLmZy
ZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3Rp
bmZvL2ludGVsLWdmeA==

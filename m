Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 99F543B01E5
	for <lists+intel-gfx@lfdr.de>; Tue, 22 Jun 2021 12:55:58 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 6D9C56E499;
	Tue, 22 Jun 2021 10:55:52 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mail-qk1-x72c.google.com (mail-qk1-x72c.google.com
 [IPv6:2607:f8b0:4864:20::72c])
 by gabe.freedesktop.org (Postfix) with ESMTPS id BA7416E48C;
 Tue, 22 Jun 2021 10:55:50 +0000 (UTC)
Received: by mail-qk1-x72c.google.com with SMTP id o6so2890204qkh.4;
 Tue, 22 Jun 2021 03:55:50 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20161025;
 h=mime-version:references:in-reply-to:from:date:message-id:subject:to
 :cc:content-transfer-encoding;
 bh=CRoL11pDbArCAKMVL0BaPMkzdKsbMpA4VloJGfbRwVg=;
 b=gbzWXd4/95RWD1DAsavMbFJziRdPSUzHPg2MFV4LRIvTTl+z/6/oGiF54et+4F+M1S
 3/J/tXnQVBBDq7uRwAwGf89brfp97mC/ZVGanJUZUQ9G7gKrrIvnZBSnNJuPB+NyNuMu
 ivG/y05ZnVIwi9fRzokw+nRywoONctkBwnAsnGPOURLGkOm+zZBtVsPrNuoS+KKZ7TDl
 9gQxvUwxyEc/lH/ocj/nB5koc+oAU7YkF5yvi0Nbc/yVUDS/sVZNAumEIBzMT6W6hRxq
 9RyLEY3ITqKJY8hQyglA1g49TM3sdZhN5DdhV/BhNlHrjqkKNTHxHCsX3JU8jYKWZPBI
 OIZw==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:mime-version:references:in-reply-to:from:date
 :message-id:subject:to:cc:content-transfer-encoding;
 bh=CRoL11pDbArCAKMVL0BaPMkzdKsbMpA4VloJGfbRwVg=;
 b=OUC2uzdxo2qnkyKLehMZhpCJGkv8u7rr4hy9t/Z0Vq3j83mqe5hOGdqtAsze8AL1AC
 CqYgCDAbyD0qsTjJICLGGsPPJALxf056nIxMA5XhI5y7z+xLzyckwy2xmAVPlKNlxf7+
 suL7o1TSavq3oS3Xcd/5IpnFdn3lYKxNlIgXgciL9IVIhYf+N4Fxge6fRfyC2Au6jU61
 Di5w0ReLvzgLYyuZKSAgMLMxy8OerTEi1KsyqcRFDNU0xTgZqa3iZcMuyE5wf5/c8V/E
 V1Tz4D7UNEI52jvVTRsnAcYQfnSVy9NIB2ag9I6ttroESSlWDmAu6v8zZ5WQ+PSF62Sq
 g4mw==
X-Gm-Message-State: AOAM533W+dhG+BXMrjFHywjzYPBBLh5TL9IW9DtFBEs88706ay2SVF2S
 +U8Yw40drp6ZzUfJUoNcTZg5w5CLxsDFbbJD2PY=
X-Google-Smtp-Source: ABdhPJxovPQAuals3XWwgHv+NwEiSdGXD8OvWQpzp9t562ss0KanKWh03FYFggeI1sD+436S79X2jy4SpfTtcg3xWJE=
X-Received: by 2002:a37:4388:: with SMTP id q130mr3468485qka.460.1624359349830; 
 Tue, 22 Jun 2021 03:55:49 -0700 (PDT)
MIME-Version: 1.0
References: <20210622093418.153400-1-thomas.hellstrom@linux.intel.com>
 <20210622093418.153400-4-thomas.hellstrom@linux.intel.com>
In-Reply-To: <20210622093418.153400-4-thomas.hellstrom@linux.intel.com>
From: Matthew Auld <matthew.william.auld@gmail.com>
Date: Tue, 22 Jun 2021 11:55:23 +0100
Message-ID: <CAM0jSHOZKGZ_yGyV0HC8FNSX2yQWF95jirihMKhXE353jr-a2w@mail.gmail.com>
To: =?UTF-8?Q?Thomas_Hellstr=C3=B6m?= <thomas.hellstrom@linux.intel.com>
Subject: Re: [Intel-gfx] [PATCH v7 3/3] drm/i915/ttm: Use TTM for system
 memory
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: Intel Graphics Development <intel-gfx@lists.freedesktop.org>,
 Matthew Auld <matthew.auld@intel.com>,
 ML dri-devel <dri-devel@lists.freedesktop.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

T24gVHVlLCAyMiBKdW4gMjAyMSBhdCAxMDozNCwgVGhvbWFzIEhlbGxzdHLDtm0KPHRob21hcy5o
ZWxsc3Ryb21AbGludXguaW50ZWwuY29tPiB3cm90ZToKPgo+IEZvciBkaXNjcmV0ZSwgdXNlIFRU
TSBmb3IgYm90aCBjYWNoZWQgYW5kIFdDIHN5c3RlbSBtZW1vcnkuIFRoYXQgbWVhbnMKPiB3ZSBj
dXJyZW50bHkgcmVseSBvbiB0aGUgVFRNIG1lbW9yeSBhY2NvdW50aW5nIC8gc2hyaW5rZXIuIEZv
ciBjYWNoZWQKPiBzeXN0ZW0gbWVtb3J5IHdlIHNob3VsZCBjb25zaWRlciByZW1haW5pbmcgc2ht
ZW0tYmFja2VkLCB3aGljaCBjYW4gYmUKPiBpbXBsZW1lbnRlZCBmcm9tIG91ciB0dG1fdHRfcG9w
dWxhdGUgY2FsbGJhY2suIFdlIGNhbiB0aGVuIGFsc28gcmV1c2Ugb3VyCj4gb3duIHZlcnkgZWxh
Ym9yYXRlIHNocmlua2VyIGZvciB0aGF0IG1lbW9yeS4KPgo+IFNpZ25lZC1vZmYtYnk6IFRob21h
cyBIZWxsc3Ryw7ZtIDx0aG9tYXMuaGVsbHN0cm9tQGxpbnV4LmludGVsLmNvbT4KPiBSZXZpZXdl
ZC1ieTogTWF0dGhldyBBdWxkIDxtYXR0aGV3LmF1bGRAaW50ZWwuY29tPgo+IC0tLQo+IHYyOgo+
IC0gRml4IElTX0VSUl9PUl9OVUxMKCkgY2hlY2sgdG8gSVNfRVJSKCkgKFJlcG9ydGVkIGJ5IE1h
dHRoZXcgQXVsZCkKPiB2MzoKPiAtIENvbW1pdCBtZXNzYWdlIHR5cG8gZml4Cj4gdjY6Cj4gLSBG
aXggVE9ETzpzIGZvciBzdXBwb3J0aW5nIHN5c3RlbSBtZW1vcnkgd2l0aCBUVE0uCj4gLSBVcGRh
dGUgdGhlIG9iamVjdCBHRU0gcmVnaW9uIGFmdGVyIGEgVFRNIG1vdmUgaWYgY29tcGF0aWJsZS4K
PiAtIEFkZCBhIGNvdXBsZSBvZiB3YXJuaW5ncyBmb3Igc2htZW0gb24gREdGWC4KPiAtLS0KPiAg
ZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX3NobWVtLmMgIHwgIDMgKysKPiAgZHJp
dmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX3R0bS5jICAgIHwgNTEgKysrKysrKysrKysr
KysrKystLS0tLQo+ICBkcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2Rydi5oICAgICAgICAgICAg
fCAgMyAtLQo+ICBkcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9tZW1vcnlfcmVnaW9uLmMgfCAg
NyArKy0KPiAgZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfbWVtb3J5X3JlZ2lvbi5oIHwgIDgg
KysrKwo+ICA1IGZpbGVzIGNoYW5nZWQsIDU4IGluc2VydGlvbnMoKyksIDE0IGRlbGV0aW9ucygt
KQo+Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9zaG1l
bS5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX3NobWVtLmMKPiBpbmRleCA3
YWExYzk1YzdiN2QuLjM2NDhhZTFkNjYyOCAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0v
aTkxNS9nZW0vaTkxNV9nZW1fc2htZW0uYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dl
bS9pOTE1X2dlbV9zaG1lbS5jCj4gQEAgLTI4NCw2ICsyODQsNyBAQCBfX2k5MTVfZ2VtX29iamVj
dF9yZWxlYXNlX3NobWVtKHN0cnVjdCBkcm1faTkxNV9nZW1fb2JqZWN0ICpvYmosCj4gICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICBib29sIG5lZWRzX2NsZmx1c2gpCj4gIHsKPiAgICAg
ICAgIEdFTV9CVUdfT04ob2JqLT5tbS5tYWR2ID09IF9fSTkxNV9NQURWX1BVUkdFRCk7Cj4gKyAg
ICAgICBHRU1fV0FSTl9PTihJU19ER0ZYKHRvX2k5MTUob2JqLT5iYXNlLmRldikpKTsKPgo+ICAg
ICAgICAgaWYgKG9iai0+bW0ubWFkdiA9PSBJOTE1X01BRFZfRE9OVE5FRUQpCj4gICAgICAgICAg
ICAgICAgIG9iai0+bW0uZGlydHkgPSBmYWxzZTsKPiBAQCAtMzAyLDYgKzMwMyw3IEBAIHZvaWQg
aTkxNV9nZW1fb2JqZWN0X3B1dF9wYWdlc19zaG1lbShzdHJ1Y3QgZHJtX2k5MTVfZ2VtX29iamVj
dCAqb2JqLCBzdHJ1Y3Qgc2dfCj4gICAgICAgICBzdHJ1Y3QgcGFnZXZlYyBwdmVjOwo+ICAgICAg
ICAgc3RydWN0IHBhZ2UgKnBhZ2U7Cj4KPiArICAgICAgIEdFTV9XQVJOX09OKElTX0RHRlgodG9f
aTkxNShvYmotPmJhc2UuZGV2KSkpOwo+ICAgICAgICAgX19pOTE1X2dlbV9vYmplY3RfcmVsZWFz
ZV9zaG1lbShvYmosIHBhZ2VzLCB0cnVlKTsKPgo+ICAgICAgICAgaTkxNV9nZW1fZ3R0X2Zpbmlz
aF9wYWdlcyhvYmosIHBhZ2VzKTsKPiBAQCAtNTYwLDYgKzU2Miw3IEBAIGk5MTVfZ2VtX29iamVj
dF9jcmVhdGVfc2htZW1fZnJvbV9kYXRhKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJp
diwKPiAgICAgICAgIHJlc291cmNlX3NpemVfdCBvZmZzZXQ7Cj4gICAgICAgICBpbnQgZXJyOwo+
Cj4gKyAgICAgICBHRU1fV0FSTl9PTihJU19ER0ZYKGRldl9wcml2KSk7Cj4gICAgICAgICBvYmog
PSBpOTE1X2dlbV9vYmplY3RfY3JlYXRlX3NobWVtKGRldl9wcml2LCByb3VuZF91cChzaXplLCBQ
QUdFX1NJWkUpKTsKPiAgICAgICAgIGlmIChJU19FUlIob2JqKSkKPiAgICAgICAgICAgICAgICAg
cmV0dXJuIG9iajsKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVf
Z2VtX3R0bS5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX3R0bS5jCj4gaW5k
ZXggOTY2YjI5MmQwN2RhLi4wNzA5N2YxNTAwNjUgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUv
ZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX3R0bS5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUv
Z2VtL2k5MTVfZ2VtX3R0bS5jCj4gQEAgLTI4Niw2ICsyODYsMjUgQEAgc3RhdGljIHZvaWQgaTkx
NV90dG1fYWRqdXN0X2dlbV9hZnRlcl9tb3ZlKHN0cnVjdCBkcm1faTkxNV9nZW1fb2JqZWN0ICpv
YmopCj4gIHsKPiAgICAgICAgIHN0cnVjdCB0dG1fYnVmZmVyX29iamVjdCAqYm8gPSBpOTE1X2dl
bV90b190dG0ob2JqKTsKPiAgICAgICAgIHVuc2lnbmVkIGludCBjYWNoZV9sZXZlbDsKPiArICAg
ICAgIHVuc2lnbmVkIGludCBpOwo+ICsKPiArICAgICAgIC8qCj4gKyAgICAgICAgKiBJZiBvYmpl
Y3Qgd2FzIG1vdmVkIHRvIGFuIGFsbG93YWJsZSByZWdpb24sIHVwZGF0ZSB0aGUgb2JqZWN0Cj4g
KyAgICAgICAgKiByZWdpb24gdG8gY29uc2lkZXIgaXQgbWlncmF0ZWQuIE5vdGUgdGhhdCBpZiBp
dCdzIGN1cnJlbnRseSBub3QKPiArICAgICAgICAqIGluIGFuIGFsbG93YWJsZSByZWdpb24sIGl0
J3MgZXZpY3RlZCBhbmQgd2UgZG9uJ3QgdXBkYXRlIHRoZQo+ICsgICAgICAgICogb2JqZWN0IHJl
Z2lvbi4KPiArICAgICAgICAqLwo+ICsgICAgICAgaWYgKGludGVsX3JlZ2lvbl90b190dG1fdHlw
ZShvYmotPm1tLnJlZ2lvbikgIT0gYm8tPnJlc291cmNlLT5tZW1fdHlwZSkgewo+ICsgICAgICAg
ICAgICAgICBmb3IgKGkgPSAwOyBpIDwgb2JqLT5tbS5uX3BsYWNlbWVudHM7ICsraSkgewo+ICsg
ICAgICAgICAgICAgICAgICAgICAgIHN0cnVjdCBpbnRlbF9tZW1vcnlfcmVnaW9uICptciA9IG9i
ai0+bW0ucGxhY2VtZW50c1tpXTsKPiArCj4gKyAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlu
dGVsX3JlZ2lvbl90b190dG1fdHlwZShtcikgPT0gYm8tPnJlc291cmNlLT5tZW1fdHlwZSAmJgo+
ICsgICAgICAgICAgICAgICAgICAgICAgICAgICBtciAhPSBvYmotPm1tLnJlZ2lvbikgewo+ICsg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW50ZWxfbWVtb3J5X3JlZ2lvbl9wdXQob2Jq
LT5tbS5yZWdpb24pOwo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLT5tbS5y
ZWdpb24gPSBpbnRlbF9tZW1vcnlfcmVnaW9uX2dldChtcik7CgpicmVhazs/CgppOTE1X2dlbV9v
YmplY3Rfe2luaXQsIHJlbGVhc2V9X21lbW9yeV9yZWdpb24/CgpUaGVyZSBpcyBhbHNvIHRoZSBy
ZWdpb25fbGluayBzdHVmZiwgYnV0IEkgZ3Vlc3Mgd2UgY2FuIG51a2UgdGhhdD8KCgo+ICsgICAg
ICAgICAgICAgICAgICAgICAgIH0KPiArICAgICAgICAgICAgICAgfQo+ICsgICAgICAgfQo+Cj4g
ICAgICAgICBvYmotPm1lbV9mbGFncyAmPSB+KEk5MTVfQk9fRkxBR19TVFJVQ1RfUEFHRSB8IEk5
MTVfQk9fRkxBR19JT01FTSk7Cj4KPiBAQCAtNjE1LDEzICs2MzQsNiBAQCBzdGF0aWMgaW50IGk5
MTVfdHRtX2dldF9wYWdlcyhzdHJ1Y3QgZHJtX2k5MTVfZ2VtX29iamVjdCAqb2JqKQo+ICAgICAg
ICAgLyogTW92ZSB0byB0aGUgcmVxdWVzdGVkIHBsYWNlbWVudC4gKi8KPiAgICAgICAgIGk5MTVf
dHRtX3BsYWNlbWVudF9mcm9tX29iaihvYmosICZyZXF1ZXN0ZWQsIGJ1c3ksICZwbGFjZW1lbnQp
Owo+Cj4gLSAgICAgICAvKgo+IC0gICAgICAgICogRm9yIG5vdyB3ZSBzdXBwb3J0IExNRU0gb25s
eSB3aXRoIFRUTS4KPiAtICAgICAgICAqIFRPRE86IFJlbW92ZSB3aXRoIHN5c3RlbSBzdXBwb3J0
Cj4gLSAgICAgICAgKi8KPiAtICAgICAgIEdFTV9CVUdfT04ocmVxdWVzdGVkLm1lbV90eXBlIDwg
STkxNV9QTF9MTUVNMCB8fAo+IC0gICAgICAgICAgICAgICAgICBidXN5WzBdLm1lbV90eXBlIDwg
STkxNV9QTF9MTUVNMCk7Cj4gLQo+ICAgICAgICAgLyogRmlyc3QgdHJ5IG9ubHkgdGhlIHJlcXVl
c3RlZCBwbGFjZW1lbnQuIE5vIGV2aWN0aW9uLiAqLwo+ICAgICAgICAgcmVhbF9udW1fYnVzeSA9
IGZldGNoX2FuZF96ZXJvKCZwbGFjZW1lbnQubnVtX2J1c3lfcGxhY2VtZW50KTsKPiAgICAgICAg
IHJldCA9IHR0bV9ib192YWxpZGF0ZShibywgJnBsYWNlbWVudCwgJmN0eCk7Cj4gQEAgLTYzNSw5
ICs2NDcsNiBAQCBzdGF0aWMgaW50IGk5MTVfdHRtX2dldF9wYWdlcyhzdHJ1Y3QgZHJtX2k5MTVf
Z2VtX29iamVjdCAqb2JqKQo+ICAgICAgICAgICAgICAgICAgICAgcmV0ID09IC1FQUdBSU4pCj4g
ICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldDsKPgo+IC0gICAgICAgICAgICAgICAv
KiBUT0RPOiBSZW1vdmUgdGhpcyB3aGVuIHdlIHN1cHBvcnQgc3lzdGVtIGFzIFRUTS4gKi8KPiAt
ICAgICAgICAgICAgICAgcmVhbF9udW1fYnVzeSA9IDE7Cj4gLQo+ICAgICAgICAgICAgICAgICAv
Kgo+ICAgICAgICAgICAgICAgICAgKiBJZiB0aGUgaW5pdGlhbCBhdHRlbXB0IGZhaWxzLCBhbGxv
dyBhbGwgYWNjZXB0ZWQgcGxhY2VtZW50cywKPiAgICAgICAgICAgICAgICAgICogZXZpY3Rpbmcg
aWYgbmVjZXNzYXJ5Lgo+IEBAIC04NzIsMyArODgxLDI1IEBAIGludCBfX2k5MTVfZ2VtX3R0bV9v
YmplY3RfaW5pdChzdHJ1Y3QgaW50ZWxfbWVtb3J5X3JlZ2lvbiAqbWVtLAo+Cj4gICAgICAgICBy
ZXR1cm4gMDsKPiAgfQo+ICsKPiArc3RhdGljIGNvbnN0IHN0cnVjdCBpbnRlbF9tZW1vcnlfcmVn
aW9uX29wcyB0dG1fc3lzdGVtX3JlZ2lvbl9vcHMgPSB7Cj4gKyAgICAgICAuaW5pdF9vYmplY3Qg
PSBfX2k5MTVfZ2VtX3R0bV9vYmplY3RfaW5pdCwKPiArfTsKPiArCj4gK3N0cnVjdCBpbnRlbF9t
ZW1vcnlfcmVnaW9uICoKPiAraTkxNV9nZW1fdHRtX3N5c3RlbV9zZXR1cChzdHJ1Y3QgZHJtX2k5
MTVfcHJpdmF0ZSAqaTkxNSwKPiArICAgICAgICAgICAgICAgICAgICAgICAgIHUxNiB0eXBlLCB1
MTYgaW5zdGFuY2UpCj4gK3sKPiArICAgICAgIHN0cnVjdCBpbnRlbF9tZW1vcnlfcmVnaW9uICpt
cjsKPiArCj4gKyAgICAgICBtciA9IGludGVsX21lbW9yeV9yZWdpb25fY3JlYXRlKGk5MTUsIDAs
Cj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFscmFtX3BhZ2Vz
KCkgPDwgUEFHRV9TSElGVCwKPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgUEFHRV9TSVpFLCAwLAo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICB0eXBlLCBpbnN0YW5jZSwKPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgJnR0bV9zeXN0ZW1fcmVnaW9uX29wcyk7Cj4gKyAgICAgICBpZiAoSVNfRVJSKG1yKSkKPiAr
ICAgICAgICAgICAgICAgcmV0dXJuIG1yOwo+ICsKPiArICAgICAgIGludGVsX21lbW9yeV9yZWdp
b25fc2V0X25hbWUobXIsICJzeXN0ZW0tdHRtIik7Cj4gKyAgICAgICByZXR1cm4gbXI7Cj4gK30K
PiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kcnYuaCBiL2RyaXZlcnMv
Z3B1L2RybS9pOTE1L2k5MTVfZHJ2LmgKPiBpbmRleCAwMWUxMWZlMzg2NDIuLmJmYmZiYWU1NzU3
MyAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2Rydi5oCj4gKysrIGIv
ZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kcnYuaAo+IEBAIC0xNzUxLDkgKzE3NTEsNiBAQCB2
b2lkIGk5MTVfZ2VtX2NsZWFudXBfdXNlcnB0cihzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2
X3ByaXYpOwo+ICB2b2lkIGk5MTVfZ2VtX2luaXRfZWFybHkoc3RydWN0IGRybV9pOTE1X3ByaXZh
dGUgKmRldl9wcml2KTsKPiAgdm9pZCBpOTE1X2dlbV9jbGVhbnVwX2Vhcmx5KHN0cnVjdCBkcm1f
aTkxNV9wcml2YXRlICpkZXZfcHJpdik7Cj4KPiAtc3RydWN0IGludGVsX21lbW9yeV9yZWdpb24g
Kmk5MTVfZ2VtX3NobWVtX3NldHVwKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICppOTE1LAo+IC0g
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1MTYgdHlwZSwg
dTE2IGluc3RhbmNlKTsKPiAtCj4gIHN0YXRpYyBpbmxpbmUgdm9pZCBpOTE1X2dlbV9kcmFpbl9m
cmVlZF9vYmplY3RzKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICppOTE1KQo+ICB7Cj4gICAgICAg
ICAvKgo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9tZW1vcnlfcmVn
aW9uLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9tZW1vcnlfcmVnaW9uLmMKPiBpbmRl
eCBkZjU5Zjg4NGQzN2MuLjc3OWViMmZhOTBiNiAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9k
cm0vaTkxNS9pbnRlbF9tZW1vcnlfcmVnaW9uLmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkx
NS9pbnRlbF9tZW1vcnlfcmVnaW9uLmMKPiBAQCAtMTczLDcgKzE3MywxMiBAQCBpbnQgaW50ZWxf
bWVtb3J5X3JlZ2lvbnNfaHdfcHJvYmUoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUpCj4g
ICAgICAgICAgICAgICAgIGluc3RhbmNlID0gaW50ZWxfcmVnaW9uX21hcFtpXS5pbnN0YW5jZTsK
PiAgICAgICAgICAgICAgICAgc3dpdGNoICh0eXBlKSB7Cj4gICAgICAgICAgICAgICAgIGNhc2Ug
SU5URUxfTUVNT1JZX1NZU1RFTToKPiAtICAgICAgICAgICAgICAgICAgICAgICBtZW0gPSBpOTE1
X2dlbV9zaG1lbV9zZXR1cChpOTE1LCB0eXBlLCBpbnN0YW5jZSk7Cj4gKyAgICAgICAgICAgICAg
ICAgICAgICAgaWYgKElTX0RHRlgoaTkxNSkpCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICBtZW0gPSBpOTE1X2dlbV90dG1fc3lzdGVtX3NldHVwKGk5MTUsIHR5cGUsCj4gKyAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
IGluc3RhbmNlKTsKPiArICAgICAgICAgICAgICAgICAgICAgICBlbHNlCj4gKyAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICBtZW0gPSBpOTE1X2dlbV9zaG1lbV9zZXR1cChpOTE1LCB0eXBl
LAo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgaW5zdGFuY2UpOwo+ICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwo+ICAgICAg
ICAgICAgICAgICBjYXNlIElOVEVMX01FTU9SWV9TVE9MRU5fTE9DQUw6Cj4gICAgICAgICAgICAg
ICAgICAgICAgICAgbWVtID0gaTkxNV9nZW1fc3RvbGVuX2xtZW1fc2V0dXAoaTkxNSwgdHlwZSwg
aW5zdGFuY2UpOwo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9tZW1v
cnlfcmVnaW9uLmggYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9tZW1vcnlfcmVnaW9uLmgK
PiBpbmRleCAyYmU4NDMzZDM3M2EuLmIxYjllNDYxZDUzYiAxMDA2NDQKPiAtLS0gYS9kcml2ZXJz
L2dwdS9kcm0vaTkxNS9pbnRlbF9tZW1vcnlfcmVnaW9uLmgKPiArKysgYi9kcml2ZXJzL2dwdS9k
cm0vaTkxNS9pbnRlbF9tZW1vcnlfcmVnaW9uLmgKPiBAQCAtMTI1LDQgKzEyNSwxMiBAQCBpbnRl
bF9tZW1vcnlfcmVnaW9uX3NldF9uYW1lKHN0cnVjdCBpbnRlbF9tZW1vcnlfcmVnaW9uICptZW0s
Cj4gIGludCBpbnRlbF9tZW1vcnlfcmVnaW9uX3Jlc2VydmUoc3RydWN0IGludGVsX21lbW9yeV9y
ZWdpb24gKm1lbSwKPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc291cmNlX3Np
emVfdCBvZmZzZXQsCj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvdXJjZV9z
aXplX3Qgc2l6ZSk7Cj4gKwo+ICtzdHJ1Y3QgaW50ZWxfbWVtb3J5X3JlZ2lvbiAqCj4gK2k5MTVf
Z2VtX3R0bV9zeXN0ZW1fc2V0dXAoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUsCj4gKyAg
ICAgICAgICAgICAgICAgICAgICAgICB1MTYgdHlwZSwgdTE2IGluc3RhbmNlKTsKPiArc3RydWN0
IGludGVsX21lbW9yeV9yZWdpb24gKgo+ICtpOTE1X2dlbV9zaG1lbV9zZXR1cChzdHJ1Y3QgZHJt
X2k5MTVfcHJpdmF0ZSAqaTkxNSwKPiArICAgICAgICAgICAgICAgICAgICB1MTYgdHlwZSwgdTE2
IGluc3RhbmNlKTsKPiArCj4gICNlbmRpZgo+IC0tCj4gMi4zMS4xCj4KX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KSW50ZWwtZ2Z4IG1haWxpbmcgbGlzdApJ
bnRlbC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Au
b3JnL21haWxtYW4vbGlzdGluZm8vaW50ZWwtZ2Z4Cg==

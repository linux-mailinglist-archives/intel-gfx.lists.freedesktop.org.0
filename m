Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 65527B0FDD
	for <lists+intel-gfx@lfdr.de>; Thu, 12 Sep 2019 15:26:58 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id C0D296ED5D;
	Thu, 12 Sep 2019 13:26:56 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga09.intel.com (mga09.intel.com [134.134.136.24])
 by gabe.freedesktop.org (Postfix) with ESMTPS id C13A76ED5D
 for <intel-gfx@lists.freedesktop.org>; Thu, 12 Sep 2019 13:26:55 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga007.jf.intel.com ([10.7.209.58])
 by orsmga102.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 12 Sep 2019 06:26:54 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.64,492,1559545200"; d="scan'208";a="175962962"
Received: from amanna-mobl.gar.corp.intel.com (HELO [10.66.121.189])
 ([10.66.121.189])
 by orsmga007.jf.intel.com with ESMTP; 12 Sep 2019 06:26:52 -0700
To: Jani Nikula <jani.nikula@intel.com>, intel-gfx@lists.freedesktop.org
References: <20190911191133.23383-1-animesh.manna@intel.com>
 <20190911191133.23383-9-animesh.manna@intel.com> <87muf9zmrd.fsf@intel.com>
From: Animesh Manna <animesh.manna@intel.com>
Message-ID: <7215c864-e867-a2d7-f894-93855cf2e952@intel.com>
Date: Thu, 12 Sep 2019 18:56:51 +0530
User-Agent: Mozilla/5.0 (Windows NT 10.0; WOW64; rv:45.0) Gecko/20100101
 Thunderbird/45.2.0
MIME-Version: 1.0
In-Reply-To: <87muf9zmrd.fsf@intel.com>
Subject: Re: [Intel-gfx] [PATCH v6 08/10] drm/i915/dsb: Enable gamma lut
 programming using DSB.
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

CgpPbiA5LzEyLzIwMTkgNjozNyBQTSwgSmFuaSBOaWt1bGEgd3JvdGU6Cj4gT24gVGh1LCAxMiBT
ZXAgMjAxOSwgQW5pbWVzaCBNYW5uYSA8YW5pbWVzaC5tYW5uYUBpbnRlbC5jb20+IHdyb3RlOgo+
PiBHYW1tYSBsdXQgcHJvZ3JhbW1pbmcgY2FuIGJlIHByb2dyYW1tZWQgdXNpbmcgRFNCCj4+IHdo
ZXJlIGJ1bGsgcmVnaXN0ZXIgcHJvZ3JhbW1pbmcgY2FuIGJlIGRvbmUgdXNpbmcgaW5kZXhlZAo+
PiByZWdpc3RlciB3cml0ZSB3aGljaCB0YWtlcyBudW1iZXIgb2YgZGF0YSBhbmQgdGhlIG1taW8g
b2Zmc2V0Cj4+IHRvIGJlIHdyaXR0ZW4uCj4+Cj4+IEN1cnJlbnRseSBlbmFibGVkIGZvciAxMi1i
aXQgZ2FtbWEgTFVUIHdoaWNoIGlzIGVuYWJsZWQgYnkKPj4gZGVmYXVsdCBhbmQgbGF0ZXIgOC1i
aXQvMTAtYml0IHdpbGwgYmUgZW5hYmxlZCBpbiBmdXR1cmUKPj4gYmFzZWQgb24gbmVlZC4KPj4K
Pj4gdjE6IEluaXRpYWwgdmVyc2lvbi4KPj4gdjI6IERpcmVjdGx5IGNhbGwgZHNiLWFwaSBhdCBj
YWxsc2l0ZXMuIChKYW5pKQo+PiB2MzoKPj4gLSBtb2RpZmllZCB0aGUgY29kZSBhcyBwZXIgc2lu
Z2xlIGRzYiBpbnN0YW5jZSBwZXIgY3J0Yy4gKFNoYXNoYW5rKQo+PiAtIEFkZGVkIGRzYiBnZXQv
cHV0IGNhbGwgaW4gcGxhdGZvcm0gc3BlY2lmaWMgbG9hZF9sdXQgaG9vay4gKEphbmkpCj4+IC0g
cmVtb3ZlZCBkc2IgcG9pbnRlciBmcm9tIGRldl9wcml2LiAoSmFuaSkKPj4gdjQ6IHNpbXBsaWZp
ZWQgY29kZSBieSBkcm9wcGluZyByZWYtY291bnQgaW1wbGVtZW50YXRpb24uIChTaGFzaGFuaykK
Pj4KPj4gQ2M6IEphbmkgTmlrdWxhIDxqYW5pLm5pa3VsYUBpbnRlbC5jb20+Cj4+IENjOiBSb2Ry
aWdvIFZpdmkgPHJvZHJpZ28udml2aUBpbnRlbC5jb20+Cj4+IENjOiBTaGFzaGFuayBTaGFybWEg
PHNoYXNoYW5rLnNoYXJtYUBpbnRlbC5jb20+Cj4+IFNpZ25lZC1vZmYtYnk6IEFuaW1lc2ggTWFu
bmEgPGFuaW1lc2gubWFubmFAaW50ZWwuY29tPgo+PiAtLS0KPj4gICBkcml2ZXJzL2dwdS9kcm0v
aTkxNS9kaXNwbGF5L2ludGVsX2NvbG9yLmMgfCA1NyArKysrKysrKysrKysrLS0tLS0tLS0tCj4+
ICAgMSBmaWxlIGNoYW5nZWQsIDM1IGluc2VydGlvbnMoKyksIDIyIGRlbGV0aW9ucygtKQo+Pgo+
PiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9jb2xvci5j
IGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9jb2xvci5jCj4+IGluZGV4IDMx
ODMwOGRjMTM2Yy4uYjZiOWYwZTUxNjZiIDEwMDY0NAo+PiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0v
aTkxNS9kaXNwbGF5L2ludGVsX2NvbG9yLmMKPj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUv
ZGlzcGxheS9pbnRlbF9jb2xvci5jCj4+IEBAIC02MTEsMTIgKzYxMSwxMyBAQCBzdGF0aWMgdm9p
ZCBiZHdfbG9hZF9sdXRfMTAoc3RydWN0IGludGVsX2NydGMgKmNydGMsCj4+ICAgc3RhdGljIHZv
aWQgaXZiX2xvYWRfbHV0X2V4dF9tYXgoc3RydWN0IGludGVsX2NydGMgKmNydGMpCj4+ICAgewo+
PiAgIAlzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYgPSB0b19pOTE1KGNydGMtPmJh
c2UuZGV2KTsKPj4gKwlzdHJ1Y3QgaW50ZWxfZHNiICpkc2IgPSBpbnRlbF9kc2JfZ2V0KGNydGMp
Owo+IFdoZW4geW91J3ZlIGRvbmUgZW5vdWdoIGtlcm5lbCBwcm9ncmFtbWluZywgeW91IGxlYXJu
IHRvIGV4cGVjdCBnZXQvcHV0Cj4gdG8gYmUgcGFpcmVkLCBhbmQgYXNzdW1lIGl0J3MgYSBidWcg
aWYgdGhpcyBpc24ndCB0aGUgY2FzZS4KQWxyZWFkeSBoYXZlIGRvbmUgaXQgaW4gbXkgcHJldmlv
dXMgdmVyc2lvbiwKaHR0cHM6Ly9wYXRjaHdvcmsuZnJlZWRlc2t0b3Aub3JnL3BhdGNoLzMyOTQ4
MS8/c2VyaWVzPTYzMDEzJnJldj01Cmh0dHBzOi8vcGF0Y2h3b3JrLmZyZWVkZXNrdG9wLm9yZy9w
YXRjaC8zMjk0ODIvP3Nlcmllcz02MzAxMyZyZXY9NQoKQ2FuIHlvdSBwbGVhc2Ugc3VnZ2VzdCBp
ZiBpdCBpcyBvaz8KClJlZ2FyZHMsCkFuaW1lc2gKPgo+IFNvIHllYWgsIEkgZGlkIHNheSBpdCdz
IG9rYXkgbm90IHRvIGhhdmUgcmVmY291bnRpbmcgYXQgZmlyc3QsICpidXQqIHRoZQo+IGV4cGVj
dGF0aW9uIHRoYXQgZ2V0L3B1dCBnbyBpbiBwYWlycyBpcyBzbyBkZWVwbHkgaW5ncmFpbmVkIHRo
YXQgSQo+IGRpZG4ndCBldmVuIHRoaW5rIHRvIHNheSB5b3Ugc2hvdWxkbid0IGhhdmUgdGhpcyBr
aW5kIG9mIGFzeW1tZXRyeS4KPgo+IFNvIHRoaXMgY3JlYXRlcyBhIHByb2JsZW0sIGhvdyBkbyB3
ZSBwYXNzIHRoZSBkc2IgcG9pbnRlciBoZXJlLCBhcwo+IHdpdGhvdXQgcmVmY291bnRpbmcgeW91
IGNhbid0IGFjdHVhbGx5IGhhdmUgdGhlIHB1dCBoZXJlIGFzIHdlbGwsCj4gYmVjYXVzZSB5b3Ug
dGhyb3cgdGhlIHN0dWZmIG91dCBiZWZvcmUgdGhlIGNvbW1pdC4KPgo+IE1heWJlIHRoZSBlYXN5
IGFuc3dlciBpcyB0aGF0IHdlIHNob3VsZCBqdXN0IGRvIHRoZSBnZXQgYW5kIHB1dCBhdAo+IGlu
dGVsX2NydGNfaW5pdCBhbmQgaW50ZWxfY3J0Y19kZXN0cm95LiBPciB3ZSBjb3VsZCBkbyBpdCBh
dCBhdG9taWMKPiBjaGVjayBhbmQgZnJlZS4KPgo+IFZpbGxlLCB3aGljaCBhcHByb2FjaCB3b3Vs
ZCBjb25mbGljdCB3aXRoIHlvdXIgZnV0dXJlIHZibGFuayB3b3JrZXIKPiBzdHVmZiB0aGUgbGVh
c3Q/Cj4KPgo+IEJSLAo+IEphbmkuCj4KPgo+Cj4+ICAgCWVudW0gcGlwZSBwaXBlID0gY3J0Yy0+
cGlwZTsKPj4gICAKPj4gICAJLyogUHJvZ3JhbSB0aGUgbWF4IHJlZ2lzdGVyIHRvIGNsYW1wIHZh
bHVlcyA+IDEuMC4gKi8KPj4gLQlJOTE1X1dSSVRFKFBSRUNfUEFMX0VYVF9HQ19NQVgocGlwZSwg
MCksIDEgPDwgMTYpOwo+PiAtCUk5MTVfV1JJVEUoUFJFQ19QQUxfRVhUX0dDX01BWChwaXBlLCAx
KSwgMSA8PCAxNik7Cj4+IC0JSTkxNV9XUklURShQUkVDX1BBTF9FWFRfR0NfTUFYKHBpcGUsIDIp
LCAxIDw8IDE2KTsKPj4gKwlpbnRlbF9kc2JfcmVnX3dyaXRlKGRzYiwgUFJFQ19QQUxfRVhUX0dD
X01BWChwaXBlLCAwKSwgMSA8PCAxNik7Cj4+ICsJaW50ZWxfZHNiX3JlZ193cml0ZShkc2IsIFBS
RUNfUEFMX0VYVF9HQ19NQVgocGlwZSwgMSksIDEgPDwgMTYpOwo+PiArCWludGVsX2RzYl9yZWdf
d3JpdGUoZHNiLCBQUkVDX1BBTF9FWFRfR0NfTUFYKHBpcGUsIDIpLCAxIDw8IDE2KTsKPj4gICAK
Pj4gICAJLyoKPj4gICAJICogUHJvZ3JhbSB0aGUgZ2MgbWF4IDIgcmVnaXN0ZXIgdG8gY2xhbXAg
dmFsdWVzID4gMS4wLgo+PiBAQCAtNjI0LDkgKzYyNSwxMiBAQCBzdGF0aWMgdm9pZCBpdmJfbG9h
ZF9sdXRfZXh0X21heChzdHJ1Y3QgaW50ZWxfY3J0YyAqY3J0YykKPj4gICAJICogZnJvbSAzLjAg
dG8gNy4wCj4+ICAgCSAqLwo+PiAgIAlpZiAoSU5URUxfR0VOKGRldl9wcml2KSA+PSAxMCB8fCBJ
U19HRU1JTklMQUtFKGRldl9wcml2KSkgewo+PiAtCQlJOTE1X1dSSVRFKFBSRUNfUEFMX0VYVDJf
R0NfTUFYKHBpcGUsIDApLCAxIDw8IDE2KTsKPj4gLQkJSTkxNV9XUklURShQUkVDX1BBTF9FWFQy
X0dDX01BWChwaXBlLCAxKSwgMSA8PCAxNik7Cj4+IC0JCUk5MTVfV1JJVEUoUFJFQ19QQUxfRVhU
Ml9HQ19NQVgocGlwZSwgMiksIDEgPDwgMTYpOwo+PiArCQlpbnRlbF9kc2JfcmVnX3dyaXRlKGRz
YiwgUFJFQ19QQUxfRVhUMl9HQ19NQVgocGlwZSwgMCksCj4+ICsJCQkJICAgIDEgPDwgMTYpOwo+
PiArCQlpbnRlbF9kc2JfcmVnX3dyaXRlKGRzYiwgUFJFQ19QQUxfRVhUMl9HQ19NQVgocGlwZSwg
MSksCj4+ICsJCQkJICAgIDEgPDwgMTYpOwo+PiArCQlpbnRlbF9kc2JfcmVnX3dyaXRlKGRzYiwg
UFJFQ19QQUxfRVhUMl9HQ19NQVgocGlwZSwgMiksCj4+ICsJCQkJICAgIDEgPDwgMTYpOwo+PiAg
IAl9Cj4+ICAgfQo+PiAgIAo+PiBAQCAtNzg3LDIyICs3OTEsMjIgQEAgaWNsX2xvYWRfZ2NtYXgo
Y29uc3Qgc3RydWN0IGludGVsX2NydGNfc3RhdGUgKmNydGNfc3RhdGUsCj4+ICAgCSAgICAgICBj
b25zdCBzdHJ1Y3QgZHJtX2NvbG9yX2x1dCAqY29sb3IpCj4+ICAgewo+PiAgIAlzdHJ1Y3QgaW50
ZWxfY3J0YyAqY3J0YyA9IHRvX2ludGVsX2NydGMoY3J0Y19zdGF0ZS0+YmFzZS5jcnRjKTsKPj4g
LQlzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYgPSB0b19pOTE1KGNydGMtPmJhc2Uu
ZGV2KTsKPj4gKwlzdHJ1Y3QgaW50ZWxfZHNiICpkc2IgPSBpbnRlbF9kc2JfZ2V0KGNydGMpOwo+
PiAgIAllbnVtIHBpcGUgcGlwZSA9IGNydGMtPnBpcGU7Cj4+ICAgCj4+ICAgCS8qIEZpeG1lOiBM
VVQgZW50cmllcyBhcmUgMTYgYml0IG9ubHksIHNvIHdlIGNhbiBwcm9nIDB4RkZGRiBtYXggKi8K
Pj4gLQlJOTE1X1dSSVRFKFBSRUNfUEFMX0dDX01BWChwaXBlLCAwKSwgY29sb3ItPnJlZCk7Cj4+
IC0JSTkxNV9XUklURShQUkVDX1BBTF9HQ19NQVgocGlwZSwgMSksIGNvbG9yLT5ncmVlbik7Cj4+
IC0JSTkxNV9XUklURShQUkVDX1BBTF9HQ19NQVgocGlwZSwgMiksIGNvbG9yLT5ibHVlKTsKPj4g
KwlpbnRlbF9kc2JfcmVnX3dyaXRlKGRzYiwgUFJFQ19QQUxfR0NfTUFYKHBpcGUsIDApLCBjb2xv
ci0+cmVkKTsKPj4gKwlpbnRlbF9kc2JfcmVnX3dyaXRlKGRzYiwgUFJFQ19QQUxfR0NfTUFYKHBp
cGUsIDEpLCBjb2xvci0+Z3JlZW4pOwo+PiArCWludGVsX2RzYl9yZWdfd3JpdGUoZHNiLCBQUkVD
X1BBTF9HQ19NQVgocGlwZSwgMiksIGNvbG9yLT5ibHVlKTsKPj4gICB9Cj4+ICAgCj4+ICAgc3Rh
dGljIHZvaWQKPj4gICBpY2xfcHJvZ3JhbV9nYW1tYV9zdXBlcmZpbmVfc2VnbWVudChjb25zdCBz
dHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqY3J0Y19zdGF0ZSkKPj4gICB7Cj4+ICAgCXN0cnVjdCBp
bnRlbF9jcnRjICpjcnRjID0gdG9faW50ZWxfY3J0YyhjcnRjX3N0YXRlLT5iYXNlLmNydGMpOwo+
PiAtCXN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiA9IHRvX2k5MTUoY3J0Yy0+YmFz
ZS5kZXYpOwo+PiAgIAljb25zdCBzdHJ1Y3QgZHJtX3Byb3BlcnR5X2Jsb2IgKmJsb2IgPSBjcnRj
X3N0YXRlLT5iYXNlLmdhbW1hX2x1dDsKPj4gICAJY29uc3Qgc3RydWN0IGRybV9jb2xvcl9sdXQg
Kmx1dCA9IGJsb2ItPmRhdGE7Cj4+ICsJc3RydWN0IGludGVsX2RzYiAqZHNiID0gaW50ZWxfZHNi
X2dldChjcnRjKTsKPj4gICAJZW51bSBwaXBlIHBpcGUgPSBjcnRjLT5waXBlOwo+PiAgIAl1MzIg
aTsKPj4gICAKPj4gQEAgLTgxMywxNSArODE3LDE2IEBAIGljbF9wcm9ncmFtX2dhbW1hX3N1cGVy
ZmluZV9zZWdtZW50KGNvbnN0IHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpjcnRjX3N0YXRlKQo+
PiAgIAkgKiBTdXBlcmZpbmUgc2VnbWVudCBoYXMgOSBlbnRyaWVzLCBjb3JyZXNwb25kaW5nIHRv
IHZhbHVlcwo+PiAgIAkgKiAwLCAxLyg4ICogMTI4ICogMjU2KSwgMi8oOCAqIDEyOCAqIDI1Nikg
Li4uLiA4Lyg4ICogMTI4ICogMjU2KS4KPj4gICAJICovCj4+IC0JSTkxNV9XUklURShQUkVDX1BB
TF9NVUxUSV9TRUdfSU5ERVgocGlwZSksIFBBTF9QUkVDX0FVVE9fSU5DUkVNRU5UKTsKPj4gKwlp
bnRlbF9kc2JfcmVnX3dyaXRlKGRzYiwgUFJFQ19QQUxfTVVMVElfU0VHX0lOREVYKHBpcGUpLAo+
PiArCQkJICAgIFBBTF9QUkVDX0FVVE9fSU5DUkVNRU5UKTsKPj4gICAKPj4gICAJZm9yIChpID0g
MDsgaSA8IDk7IGkrKykgewo+PiAgIAkJY29uc3Qgc3RydWN0IGRybV9jb2xvcl9sdXQgKmVudHJ5
ID0gJmx1dFtpXTsKPj4gICAKPj4gLQkJSTkxNV9XUklURShQUkVDX1BBTF9NVUxUSV9TRUdfREFU
QShwaXBlKSwKPj4gLQkJCSAgIGlsa19sdXRfMTJwNF9sZHcoZW50cnkpKTsKPj4gLQkJSTkxNV9X
UklURShQUkVDX1BBTF9NVUxUSV9TRUdfREFUQShwaXBlKSwKPj4gLQkJCSAgIGlsa19sdXRfMTJw
NF91ZHcoZW50cnkpKTsKPj4gKwkJaW50ZWxfZHNiX2luZGV4ZWRfcmVnX3dyaXRlKGRzYiwgUFJF
Q19QQUxfTVVMVElfU0VHX0RBVEEocGlwZSksCj4+ICsJCQkJCSAgICBpbGtfbHV0XzEycDRfbGR3
KGVudHJ5KSk7Cj4+ICsJCWludGVsX2RzYl9pbmRleGVkX3JlZ193cml0ZShkc2IsIFBSRUNfUEFM
X01VTFRJX1NFR19EQVRBKHBpcGUpLAo+PiArCQkJCQkgICAgaWxrX2x1dF8xMnA0X3VkdyhlbnRy
eSkpOwo+PiAgIAl9Cj4+ICAgfQo+PiAgIAo+PiBAQCAtODI5LDEwICs4MzQsMTAgQEAgc3RhdGlj
IHZvaWQKPj4gICBpY2xfcHJvZ3JhbV9nYW1tYV9tdWx0aV9zZWdtZW50KGNvbnN0IHN0cnVjdCBp
bnRlbF9jcnRjX3N0YXRlICpjcnRjX3N0YXRlKQo+PiAgIHsKPj4gICAJc3RydWN0IGludGVsX2Ny
dGMgKmNydGMgPSB0b19pbnRlbF9jcnRjKGNydGNfc3RhdGUtPmJhc2UuY3J0Yyk7Cj4+IC0Jc3Ry
dWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2ID0gdG9faTkxNShjcnRjLT5iYXNlLmRldik7
Cj4+ICAgCWNvbnN0IHN0cnVjdCBkcm1fcHJvcGVydHlfYmxvYiAqYmxvYiA9IGNydGNfc3RhdGUt
PmJhc2UuZ2FtbWFfbHV0Owo+PiAgIAljb25zdCBzdHJ1Y3QgZHJtX2NvbG9yX2x1dCAqbHV0ID0g
YmxvYi0+ZGF0YTsKPj4gICAJY29uc3Qgc3RydWN0IGRybV9jb2xvcl9sdXQgKmVudHJ5Owo+PiAr
CXN0cnVjdCBpbnRlbF9kc2IgKmRzYiA9IGludGVsX2RzYl9nZXQoY3J0Yyk7Cj4+ICAgCWVudW0g
cGlwZSBwaXBlID0gY3J0Yy0+cGlwZTsKPj4gICAJdTMyIGk7Cj4+ICAgCj4+IEBAIC04NDcsMTEg
Kzg1MiwxMyBAQCBpY2xfcHJvZ3JhbV9nYW1tYV9tdWx0aV9zZWdtZW50KGNvbnN0IHN0cnVjdCBp
bnRlbF9jcnRjX3N0YXRlICpjcnRjX3N0YXRlKQo+PiAgIAkgKiBQQUxfUFJFQ19JTkRFWFswXSBh
bmQgUEFMX1BSRUNfSU5ERVhbMV0gbWFwIHRvIHNlZzJbMV0sCj4+ICAgCSAqIHdpdGggc2VnMlsw
XSBiZWluZyB1bnVzZWQgYnkgdGhlIGhhcmR3YXJlLgo+PiAgIAkgKi8KPj4gLQlJOTE1X1dSSVRF
KFBSRUNfUEFMX0lOREVYKHBpcGUpLCBQQUxfUFJFQ19BVVRPX0lOQ1JFTUVOVCk7Cj4+ICsJaW50
ZWxfZHNiX3JlZ193cml0ZShkc2IsIFBSRUNfUEFMX0lOREVYKHBpcGUpLCBQQUxfUFJFQ19BVVRP
X0lOQ1JFTUVOVCk7Cj4+ICAgCWZvciAoaSA9IDE7IGkgPCAyNTc7IGkrKykgewo+PiAgIAkJZW50
cnkgPSAmbHV0W2kgKiA4XTsKPj4gLQkJSTkxNV9XUklURShQUkVDX1BBTF9EQVRBKHBpcGUpLCBp
bGtfbHV0XzEycDRfbGR3KGVudHJ5KSk7Cj4+IC0JCUk5MTVfV1JJVEUoUFJFQ19QQUxfREFUQShw
aXBlKSwgaWxrX2x1dF8xMnA0X3VkdyhlbnRyeSkpOwo+PiArCQlpbnRlbF9kc2JfaW5kZXhlZF9y
ZWdfd3JpdGUoZHNiLCBQUkVDX1BBTF9EQVRBKHBpcGUpLAo+PiArCQkJCQkgICAgaWxrX2x1dF8x
MnA0X2xkdyhlbnRyeSkpOwo+PiArCQlpbnRlbF9kc2JfaW5kZXhlZF9yZWdfd3JpdGUoZHNiLCBQ
UkVDX1BBTF9EQVRBKHBpcGUpLAo+PiArCQkJCQkgICAgaWxrX2x1dF8xMnA0X3VkdyhlbnRyeSkp
Owo+PiAgIAl9Cj4+ICAgCj4+ICAgCS8qCj4+IEBAIC04NjgsOCArODc1LDEwIEBAIGljbF9wcm9n
cmFtX2dhbW1hX211bHRpX3NlZ21lbnQoY29uc3Qgc3RydWN0IGludGVsX2NydGNfc3RhdGUgKmNy
dGNfc3RhdGUpCj4+ICAgCSAqLwo+PiAgIAlmb3IgKGkgPSAwOyBpIDwgMjU2OyBpKyspIHsKPj4g
ICAJCWVudHJ5ID0gJmx1dFtpICogOCAqIDEyOF07Cj4+IC0JCUk5MTVfV1JJVEUoUFJFQ19QQUxf
REFUQShwaXBlKSwgaWxrX2x1dF8xMnA0X2xkdyhlbnRyeSkpOwo+PiAtCQlJOTE1X1dSSVRFKFBS
RUNfUEFMX0RBVEEocGlwZSksIGlsa19sdXRfMTJwNF91ZHcoZW50cnkpKTsKPj4gKwkJaW50ZWxf
ZHNiX2luZGV4ZWRfcmVnX3dyaXRlKGRzYiwgUFJFQ19QQUxfREFUQShwaXBlKSwKPj4gKwkJCQkJ
ICAgIGlsa19sdXRfMTJwNF9sZHcoZW50cnkpKTsKPj4gKwkJaW50ZWxfZHNiX2luZGV4ZWRfcmVn
X3dyaXRlKGRzYiwgUFJFQ19QQUxfREFUQShwaXBlKSwKPj4gKwkJCQkJICAgIGlsa19sdXRfMTJw
NF91ZHcoZW50cnkpKTsKPj4gICAJfQo+PiAgIAo+PiAgIAkvKiBUaGUgbGFzdCBlbnRyeSBpbiB0
aGUgTFVUIGlzIHRvIGJlIHByb2dyYW1tZWQgaW4gR0NNQVggKi8KPj4gQEAgLTg4Miw2ICs4OTEs
NyBAQCBzdGF0aWMgdm9pZCBpY2xfbG9hZF9sdXRzKGNvbnN0IHN0cnVjdCBpbnRlbF9jcnRjX3N0
YXRlICpjcnRjX3N0YXRlKQo+PiAgIHsKPj4gICAJY29uc3Qgc3RydWN0IGRybV9wcm9wZXJ0eV9i
bG9iICpnYW1tYV9sdXQgPSBjcnRjX3N0YXRlLT5iYXNlLmdhbW1hX2x1dDsKPj4gICAJc3RydWN0
IGludGVsX2NydGMgKmNydGMgPSB0b19pbnRlbF9jcnRjKGNydGNfc3RhdGUtPmJhc2UuY3J0Yyk7
Cj4+ICsJc3RydWN0IGludGVsX2RzYiAqZHNiID0gaW50ZWxfZHNiX2dldChjcnRjKTsKPj4gICAK
Pj4gICAJaWYgKGNydGNfc3RhdGUtPmJhc2UuZGVnYW1tYV9sdXQpCj4+ICAgCQlnbGtfbG9hZF9k
ZWdhbW1hX2x1dChjcnRjX3N0YXRlKTsKPj4gQEAgLTkwMCw2ICs5MTAsOSBAQCBzdGF0aWMgdm9p
ZCBpY2xfbG9hZF9sdXRzKGNvbnN0IHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpjcnRjX3N0YXRl
KQo+PiAgIAkJYmR3X2xvYWRfbHV0XzEwKGNydGMsIGdhbW1hX2x1dCwgUEFMX1BSRUNfSU5ERVhf
VkFMVUUoMCkpOwo+PiAgIAkJaXZiX2xvYWRfbHV0X2V4dF9tYXgoY3J0Yyk7Cj4+ICAgCX0KPj4g
Kwo+PiArCWludGVsX2RzYl9jb21taXQoZHNiKTsKPj4gKwlpbnRlbF9kc2JfcHV0KGRzYik7Cj4+
ICAgfQo+PiAgIAo+PiAgIHN0YXRpYyB1MzIgY2h2X2NnbV9kZWdhbW1hX2xkdyhjb25zdCBzdHJ1
Y3QgZHJtX2NvbG9yX2x1dCAqY29sb3IpCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fXwpJbnRlbC1nZnggbWFpbGluZyBsaXN0CkludGVsLWdmeEBsaXN0cy5m
cmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0
aW5mby9pbnRlbC1nZng=

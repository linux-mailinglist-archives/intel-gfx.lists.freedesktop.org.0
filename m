Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id BF9D8B70A0
	for <lists+intel-gfx@lfdr.de>; Thu, 19 Sep 2019 03:25:50 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 1B6056F4A9;
	Thu, 19 Sep 2019 01:25:49 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mail-wm1-x343.google.com (mail-wm1-x343.google.com
 [IPv6:2a00:1450:4864:20::343])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 10EB86F4B7
 for <intel-gfx@lists.freedesktop.org>; Thu, 19 Sep 2019 01:25:48 +0000 (UTC)
Received: by mail-wm1-x343.google.com with SMTP id 7so2273027wme.1
 for <intel-gfx@lists.freedesktop.org>; Wed, 18 Sep 2019 18:25:47 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:mime-version:references:in-reply-to:from:date
 :message-id:subject:to:cc:content-transfer-encoding;
 bh=miJ9Q8oSefmkGo/lInZWQ5PD158wcM9VKDP2taWazP8=;
 b=GTspCUuHucm1SJi5vkK4IIm0zlh3lGfHrooM1M6FrzuOhylfrWq9eFr6qtBo2Cu9a7
 I/s9esT5yv2bwOpebB+oqHLOhwrxXQOKxVRyjzxtGja8ZMENaGXb9ZbDZtmo2Js1w1mZ
 B9XjhaJqWYcRJ+X30GaV45lBZjjoiCzMMdJjykPrrEX822rqLSigNJyjdTeS9Sk6sSRW
 /jaCE96O0KOCQpVB+Su7dNW2UCwmGocREtF4Exul2SbG28sC7PzvD8ofSHbxiciTxCYN
 3NTVeac/dLl65lzYU4GXDtowmMq47zU9bCVUI1xue9TCzqJCz85r/YArtnWfy96C+FBd
 rdJQ==
X-Gm-Message-State: APjAAAV7ZlpgjmeM1eSX4oKdYd8MUqebuuXcE8MWNaQarlW7EqwNuFaA
 BQmOHnYxHx9b3Q0ymI1pRDwviOCdGPOdsBZUuWY+dgvu
X-Google-Smtp-Source: APXvYqys2Pa75++hTYZSE8lVjRSy11No68IqWgzjD2fWvRaxcw78c+S9C2Z8i8jFlhWejlqfJcbfSAyMDDiwMl7afk0=
X-Received: by 2002:a05:600c:2308:: with SMTP id 8mr564280wmo.67.1568856346534; 
 Wed, 18 Sep 2019 18:25:46 -0700 (PDT)
MIME-Version: 1.0
References: <20190919000726.267988-1-jose.souza@intel.com>
 <20190919000726.267988-3-jose.souza@intel.com>
In-Reply-To: <20190919000726.267988-3-jose.souza@intel.com>
From: Lucas De Marchi <lucas.de.marchi@gmail.com>
Date: Wed, 18 Sep 2019 18:25:34 -0700
Message-ID: <CAKi4VAJ85F+cQa2f2Mwoozmqh07=4V1eHuL3aRzwQ693GdaDEA@mail.gmail.com>
To: =?UTF-8?Q?Jos=C3=A9_Roberto_de_Souza?= <jose.souza@intel.com>
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=gmail.com; s=20161025;
 h=mime-version:references:in-reply-to:from:date:message-id:subject:to
 :cc:content-transfer-encoding;
 bh=miJ9Q8oSefmkGo/lInZWQ5PD158wcM9VKDP2taWazP8=;
 b=NA+LaKGug4dv/IY+LAL3PqogIPBRU3SRmKio8PcmH9oGV2cMhoCZ56/MDqLdSQvdRY
 a8vFYV+rVg+qrNz/v9uXj3eEkoc0Q+FraGIMd7Y4NkqHbzntq8wzqoRanlwiP9c2B3ir
 QVQ8vS4yZhCyTzpsyhBi6cF2JBT99/98UFxO8oIrGIGW2m8Mr2ZseKVVzAw529BVIjXH
 bOsa0xJ26z8M/47WDpdf+9TsUzEwVeZiclhQgjM5q2TdLw0VjaV84VzUuZ0LsFy9F3lN
 ACawq4U6IzMnESEMn/47ChA5ZT/WZjqJfACubVSam8uTDJIehaWZ5fi78m1APu89rYE/
 6C9g==
Subject: Re: [Intel-gfx] [PATCH v2 02/13] drm/i915/tgl: Finish modular FIA
 support on registers
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: Intel Graphics <intel-gfx@lists.freedesktop.org>,
 Lucas De Marchi <lucas.demarchi@intel.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

T24gV2VkLCBTZXAgMTgsIDIwMTkgYXQgNTowNyBQTSBKb3PDqSBSb2JlcnRvIGRlIFNvdXphCjxq
b3NlLnNvdXphQGludGVsLmNvbT4gd3JvdGU6Cj4KPiBJZiBwbGF0Zm9ybSBzdXBwb3J0cyBhbmQg
aGFzIG1vZHVsYXIgRklBIGlzIGVuYWJsZWQsIHRoZSByZWdpc3RlcnMKPiBiaXRzIGFsc28gY2hh
bmdlLCBleGFtcGxlOiByZWFkaW5nIFRDMyByZWdpc3RlcnMgd2l0aCBtb2R1bGFyIEZJQQo+IGVu
YWJsZWQsIGRyaXZlciBzaG91bGQgcmVhZCBmcm9tIEZJQTIgYnV0IHdpdGggVEMxIGJpdHMgb2Zm
c2V0cy4KPgo+IEl0IGlzIGRlc2NyaWJlZCBpbiBCU3BlYyA1MDIzMSBmb3IgREZMRVhEUFNQLCBv
dGhlciByZWdpc3RlcnMgZG9uJ3QKPiBoYXZlIHRoZSBCU3BlYyBkZXNjcmlwdGlvbiBidXQgdGVz
dGluZyBpbiByZWFsIGhhcmR3YXJlIGhhdmUgcHJvdmVuCj4gdGhhdCBpdCBoYWQgbW92ZWQgZm9y
IGFsbCBvdGhlciByZWdpc3RlcnMgdG9vLgo+Cj4gdjI6Cj4gLSBDYWNoaW5nIGluZGV4IGluIHRj
X3BoeV9maWFfaWR4LCBpbnN0ZWFkIG9mIGNhbGN1bGF0ZSBpdCBlYWNoIHRpbWUKPgo+IENjOiBM
dWNhcyBEZSBNYXJjaGkgPGx1Y2FzLmRlbWFyY2hpQGludGVsLmNvbT4KPiBTaWduZWQtb2ZmLWJ5
OiBKb3PDqSBSb2JlcnRvIGRlIFNvdXphIDxqb3NlLnNvdXphQGludGVsLmNvbT4KPiAtLS0KPiAg
Li4uL2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheV90eXBlcy5oICAgIHwgIDEgKwo+ICBk
cml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX3RjLmMgICAgICAgfCA0NiArKysrKysr
KysrKy0tLS0tLS0tCj4gIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfdGMuaCAg
ICAgICB8ICAxICsKPiAgZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9yZWcuaCAgICAgICAgICAg
ICAgIHwgMjggKysrKystLS0tLS0KPiAgNCBmaWxlcyBjaGFuZ2VkLCA0MyBpbnNlcnRpb25zKCsp
LCAzMyBkZWxldGlvbnMoLSkKPgo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9k
aXNwbGF5L2ludGVsX2Rpc3BsYXlfdHlwZXMuaCBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3Bs
YXkvaW50ZWxfZGlzcGxheV90eXBlcy5oCj4gaW5kZXggZDVjYzRiODEwZDllLi5kMjU4YTQ4Zjc3
ZDMgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNw
bGF5X3R5cGVzLmgKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rp
c3BsYXlfdHlwZXMuaAo+IEBAIC0xMjg1LDYgKzEyODUsNyBAQCBzdHJ1Y3QgaW50ZWxfZGlnaXRh
bF9wb3J0IHsKPiAgICAgICAgIGNoYXIgdGNfcG9ydF9uYW1lWzhdOwo+ICAgICAgICAgZW51bSB0
Y19wb3J0X21vZGUgdGNfbW9kZTsKPiAgICAgICAgIGVudW0gcGh5X2ZpYSB0Y19waHlfZmlhOwo+
ICsgICAgICAgdTggdGNfcGh5X2ZpYV9pZHg7Cj4KPiAgICAgICAgIHZvaWQgKCp3cml0ZV9pbmZv
ZnJhbWUpKHN0cnVjdCBpbnRlbF9lbmNvZGVyICplbmNvZGVyLAo+ICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgY29uc3Qgc3RydWN0IGludGVsX2NydGNfc3RhdGUgKmNydGNfc3RhdGUs
Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfdGMuYyBi
L2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfdGMuYwo+IGluZGV4IDg1NzQzYTQz
YmVlMi4uMjBmYmIwODQ4MzBlIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rp
c3BsYXkvaW50ZWxfdGMuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50
ZWxfdGMuYwo+IEBAIC00NSwxMCArNDUsMTkgQEAgc3RhdGljIGVudW0gcGh5X2ZpYSB0Y19wb3J0
X3RvX2ZpYShzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSwKPiAgICAgICAgIHJldHVybiB0
Y19wb3J0IC8gMjsKPiAgfQo+Cj4gK3N0YXRpYyB1OAo+ICt0Y19wb3J0X3RvX2ZpYV9pZHgoc3Ry
dWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUsIGVudW0gdGNfcG9ydCB0Y19wb3J0KQo+ICt7Cj4g
KyAgICAgICBpZiAoIWhhc19tb2R1bGFyX2ZpYShpOTE1KSkKPiArICAgICAgICAgICAgICAgcmV0
dXJuIHRjX3BvcnQ7Cj4gKwo+ICsgICAgICAgLyogU2VlIHRjX3BvcnRfdG9fZmlhKCkgY29tbWVu
dCAqLwo+ICsgICAgICAgcmV0dXJuIHRjX3BvcnQgJSAyOwo+ICt9Cj4gKwo+ICB1MzIgaW50ZWxf
dGNfcG9ydF9nZXRfbGFuZV9tYXNrKHN0cnVjdCBpbnRlbF9kaWdpdGFsX3BvcnQgKmRpZ19wb3J0
KQo+ICB7Cj4gICAgICAgICBzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSA9IHRvX2k5MTUo
ZGlnX3BvcnQtPmJhc2UuYmFzZS5kZXYpOwo+IC0gICAgICAgZW51bSB0Y19wb3J0IHRjX3BvcnQg
PSBpbnRlbF9wb3J0X3RvX3RjKGk5MTUsIGRpZ19wb3J0LT5iYXNlLnBvcnQpOwo+ICAgICAgICAg
c3RydWN0IGludGVsX3VuY29yZSAqdW5jb3JlID0gJmk5MTUtPnVuY29yZTsKPiAgICAgICAgIHUz
MiBsYW5lX21hc2s7Cj4KPiBAQCAtNTcsOCArNjYsOCBAQCB1MzIgaW50ZWxfdGNfcG9ydF9nZXRf
bGFuZV9tYXNrKHN0cnVjdCBpbnRlbF9kaWdpdGFsX3BvcnQgKmRpZ19wb3J0KQo+Cj4gICAgICAg
ICBXQVJOX09OKGxhbmVfbWFzayA9PSAweGZmZmZmZmZmKTsKPgo+IC0gICAgICAgcmV0dXJuIChs
YW5lX21hc2sgJiBEUF9MQU5FX0FTU0lHTk1FTlRfTUFTSyh0Y19wb3J0KSkgPj4KPiAtICAgICAg
ICAgICAgICBEUF9MQU5FX0FTU0lHTk1FTlRfU0hJRlQodGNfcG9ydCk7Cj4gKyAgICAgICByZXR1
cm4gKGxhbmVfbWFzayAmIERQX0xBTkVfQVNTSUdOTUVOVF9NQVNLKGRpZ19wb3J0LT50Y19waHlf
ZmlhX2lkeCkpID4+Cj4gKyAgICAgICAgICAgICAgRFBfTEFORV9BU1NJR05NRU5UX1NISUZUKGRp
Z19wb3J0LT50Y19waHlfZmlhX2lkeCk7Cj4gIH0KPgo+ICBpbnQgaW50ZWxfdGNfcG9ydF9maWFf
bWF4X2xhbmVfY291bnQoc3RydWN0IGludGVsX2RpZ2l0YWxfcG9ydCAqZGlnX3BvcnQpCj4gQEAg
LTk1LDcgKzEwNCw2IEBAIHZvaWQgaW50ZWxfdGNfcG9ydF9zZXRfZmlhX2xhbmVfY291bnQoc3Ry
dWN0IGludGVsX2RpZ2l0YWxfcG9ydCAqZGlnX3BvcnQsCj4gICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICBpbnQgcmVxdWlyZWRfbGFuZXMpCj4gIHsKPiAgICAgICAgIHN0cnVj
dCBkcm1faTkxNV9wcml2YXRlICppOTE1ID0gdG9faTkxNShkaWdfcG9ydC0+YmFzZS5iYXNlLmRl
dik7Cj4gLSAgICAgICBlbnVtIHRjX3BvcnQgdGNfcG9ydCA9IGludGVsX3BvcnRfdG9fdGMoaTkx
NSwgZGlnX3BvcnQtPmJhc2UucG9ydCk7Cj4gICAgICAgICBib29sIGxhbmVfcmV2ZXJzYWwgPSBk
aWdfcG9ydC0+c2F2ZWRfcG9ydF9iaXRzICYgRERJX0JVRl9QT1JUX1JFVkVSU0FMOwo+ICAgICAg
ICAgc3RydWN0IGludGVsX3VuY29yZSAqdW5jb3JlID0gJmk5MTUtPnVuY29yZTsKPiAgICAgICAg
IHUzMiB2YWw7Cj4gQEAgLTEwNCwxOSArMTEyLDIxIEBAIHZvaWQgaW50ZWxfdGNfcG9ydF9zZXRf
ZmlhX2xhbmVfY291bnQoc3RydWN0IGludGVsX2RpZ2l0YWxfcG9ydCAqZGlnX3BvcnQsCj4KPiAg
ICAgICAgIHZhbCA9IGludGVsX3VuY29yZV9yZWFkKHVuY29yZSwKPiAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgIFBPUlRfVFhfREZMRVhEUE1MRTEoZGlnX3BvcnQtPnRjX3BoeV9maWEp
KTsKPiAtICAgICAgIHZhbCAmPSB+REZMRVhEUE1MRTFfRFBNTEVUQ19NQVNLKHRjX3BvcnQpOwo+
ICsgICAgICAgdmFsICY9IH5ERkxFWERQTUxFMV9EUE1MRVRDX01BU0soZGlnX3BvcnQtPnRjX3Bo
eV9maWFfaWR4KTsKPgo+ICAgICAgICAgc3dpdGNoIChyZXF1aXJlZF9sYW5lcykgewo+ICAgICAg
ICAgY2FzZSAxOgo+IC0gICAgICAgICAgICAgICB2YWwgfD0gbGFuZV9yZXZlcnNhbCA/IERGTEVY
RFBNTEUxX0RQTUxFVENfTUwzKHRjX3BvcnQpIDoKPiAtICAgICAgICAgICAgICAgICAgICAgICBE
RkxFWERQTUxFMV9EUE1MRVRDX01MMCh0Y19wb3J0KTsKPiArICAgICAgICAgICAgICAgdmFsIHw9
IGxhbmVfcmV2ZXJzYWwgPwo+ICsgICAgICAgICAgICAgICAgICAgICAgIERGTEVYRFBNTEUxX0RQ
TUxFVENfTUwzKGRpZ19wb3J0LT50Y19waHlfZmlhX2lkeCkgOgo+ICsgICAgICAgICAgICAgICAg
ICAgICAgIERGTEVYRFBNTEUxX0RQTUxFVENfTUwwKGRpZ19wb3J0LT50Y19waHlfZmlhX2lkeCk7
Cj4gICAgICAgICAgICAgICAgIGJyZWFrOwo+ICAgICAgICAgY2FzZSAyOgo+IC0gICAgICAgICAg
ICAgICB2YWwgfD0gbGFuZV9yZXZlcnNhbCA/IERGTEVYRFBNTEUxX0RQTUxFVENfTUwzXzIodGNf
cG9ydCkgOgo+IC0gICAgICAgICAgICAgICAgICAgICAgIERGTEVYRFBNTEUxX0RQTUxFVENfTUwx
XzAodGNfcG9ydCk7Cj4gKyAgICAgICAgICAgICAgIHZhbCB8PSBsYW5lX3JldmVyc2FsID8KPiAr
ICAgICAgICAgICAgICAgICAgICAgICBERkxFWERQTUxFMV9EUE1MRVRDX01MM18yKGRpZ19wb3J0
LT50Y19waHlfZmlhX2lkeCkgOgo+ICsgICAgICAgICAgICAgICAgICAgICAgIERGTEVYRFBNTEUx
X0RQTUxFVENfTUwxXzAoZGlnX3BvcnQtPnRjX3BoeV9maWFfaWR4KTsKPiAgICAgICAgICAgICAg
ICAgYnJlYWs7Cj4gICAgICAgICBjYXNlIDQ6Cj4gLSAgICAgICAgICAgICAgIHZhbCB8PSBERkxF
WERQTUxFMV9EUE1MRVRDX01MM18wKHRjX3BvcnQpOwo+ICsgICAgICAgICAgICAgICB2YWwgfD0g
REZMRVhEUE1MRTFfRFBNTEVUQ19NTDNfMChkaWdfcG9ydC0+dGNfcGh5X2ZpYV9pZHgpOwo+ICAg
ICAgICAgICAgICAgICBicmVhazsKPiAgICAgICAgIGRlZmF1bHQ6Cj4gICAgICAgICAgICAgICAg
IE1JU1NJTkdfQ0FTRShyZXF1aXJlZF9sYW5lcyk7Cj4gQEAgLTE2NCw5ICsxNzQsOSBAQCBzdGF0
aWMgdTMyIHRjX3BvcnRfbGl2ZV9zdGF0dXNfbWFzayhzdHJ1Y3QgaW50ZWxfZGlnaXRhbF9wb3J0
ICpkaWdfcG9ydCkKPiAgICAgICAgICAgICAgICAgcmV0dXJuIG1hc2s7Cj4gICAgICAgICB9Cj4K
PiAtICAgICAgIGlmICh2YWwgJiBUQ19MSVZFX1NUQVRFX1RCVCh0Y19wb3J0KSkKPiArICAgICAg
IGlmICh2YWwgJiBUQ19MSVZFX1NUQVRFX1RCVChkaWdfcG9ydC0+dGNfcGh5X2ZpYV9pZHgpKQo+
ICAgICAgICAgICAgICAgICBtYXNrIHw9IEJJVChUQ19QT1JUX1RCVF9BTFQpOwo+IC0gICAgICAg
aWYgKHZhbCAmIFRDX0xJVkVfU1RBVEVfVEModGNfcG9ydCkpCj4gKyAgICAgICBpZiAodmFsICYg
VENfTElWRV9TVEFURV9UQyhkaWdfcG9ydC0+dGNfcGh5X2ZpYV9pZHgpKQo+ICAgICAgICAgICAg
ICAgICBtYXNrIHw9IEJJVChUQ19QT1JUX0RQX0FMVCk7Cj4KPiAgICAgICAgIGlmIChpbnRlbF91
bmNvcmVfcmVhZCh1bmNvcmUsIFNERUlTUikgJiBTREVfVENfSE9UUExVR19JQ1AodGNfcG9ydCkp
Cj4gQEAgLTE4Miw3ICsxOTIsNiBAQCBzdGF0aWMgdTMyIHRjX3BvcnRfbGl2ZV9zdGF0dXNfbWFz
ayhzdHJ1Y3QgaW50ZWxfZGlnaXRhbF9wb3J0ICpkaWdfcG9ydCkKPiAgc3RhdGljIGJvb2wgaWNs
X3RjX3BoeV9zdGF0dXNfY29tcGxldGUoc3RydWN0IGludGVsX2RpZ2l0YWxfcG9ydCAqZGlnX3Bv
cnQpCj4gIHsKPiAgICAgICAgIHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICppOTE1ID0gdG9faTkx
NShkaWdfcG9ydC0+YmFzZS5iYXNlLmRldik7Cj4gLSAgICAgICBlbnVtIHRjX3BvcnQgdGNfcG9y
dCA9IGludGVsX3BvcnRfdG9fdGMoaTkxNSwgZGlnX3BvcnQtPmJhc2UucG9ydCk7Cj4gICAgICAg
ICBzdHJ1Y3QgaW50ZWxfdW5jb3JlICp1bmNvcmUgPSAmaTkxNS0+dW5jb3JlOwo+ICAgICAgICAg
dTMyIHZhbDsKPgo+IEBAIC0xOTQsMTQgKzIwMywxMyBAQCBzdGF0aWMgYm9vbCBpY2xfdGNfcGh5
X3N0YXR1c19jb21wbGV0ZShzdHJ1Y3QgaW50ZWxfZGlnaXRhbF9wb3J0ICpkaWdfcG9ydCkKPiAg
ICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwo+ICAgICAgICAgfQo+Cj4gLSAgICAgICByZXR1
cm4gdmFsICYgRFBfUEhZX01PREVfU1RBVFVTX0NPTVBMRVRFRCh0Y19wb3J0KTsKPiArICAgICAg
IHJldHVybiB2YWwgJiBEUF9QSFlfTU9ERV9TVEFUVVNfQ09NUExFVEVEKGRpZ19wb3J0LT50Y19w
aHlfZmlhX2lkeCk7Cj4gIH0KPgo+ICBzdGF0aWMgYm9vbCBpY2xfdGNfcGh5X3NldF9zYWZlX21v
ZGUoc3RydWN0IGludGVsX2RpZ2l0YWxfcG9ydCAqZGlnX3BvcnQsCj4gICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgIGJvb2wgZW5hYmxlKQo+ICB7Cj4gICAgICAgICBzdHJ1Y3Qg
ZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSA9IHRvX2k5MTUoZGlnX3BvcnQtPmJhc2UuYmFzZS5kZXYp
Owo+IC0gICAgICAgZW51bSB0Y19wb3J0IHRjX3BvcnQgPSBpbnRlbF9wb3J0X3RvX3RjKGk5MTUs
IGRpZ19wb3J0LT5iYXNlLnBvcnQpOwo+ICAgICAgICAgc3RydWN0IGludGVsX3VuY29yZSAqdW5j
b3JlID0gJmk5MTUtPnVuY29yZTsKPiAgICAgICAgIHUzMiB2YWw7Cj4KPiBAQCAtMjE1LDkgKzIy
Myw5IEBAIHN0YXRpYyBib29sIGljbF90Y19waHlfc2V0X3NhZmVfbW9kZShzdHJ1Y3QgaW50ZWxf
ZGlnaXRhbF9wb3J0ICpkaWdfcG9ydCwKPiAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwo+
ICAgICAgICAgfQo+Cj4gLSAgICAgICB2YWwgJj0gfkRQX1BIWV9NT0RFX1NUQVRVU19OT1RfU0FG
RSh0Y19wb3J0KTsKPiArICAgICAgIHZhbCAmPSB+RFBfUEhZX01PREVfU1RBVFVTX05PVF9TQUZF
KGRpZ19wb3J0LT50Y19waHlfZmlhX2lkeCk7Cj4gICAgICAgICBpZiAoIWVuYWJsZSkKPiAtICAg
ICAgICAgICAgICAgdmFsIHw9IERQX1BIWV9NT0RFX1NUQVRVU19OT1RfU0FGRSh0Y19wb3J0KTsK
PiArICAgICAgICAgICAgICAgdmFsIHw9IERQX1BIWV9NT0RFX1NUQVRVU19OT1RfU0FGRShkaWdf
cG9ydC0+dGNfcGh5X2ZpYV9pZHgpOwo+Cj4gICAgICAgICBpbnRlbF91bmNvcmVfd3JpdGUodW5j
b3JlLAo+ICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBPUlRfVFhfREZMRVhEUENTU1MoZGln
X3BvcnQtPnRjX3BoeV9maWEpLCB2YWwpOwo+IEBAIC0yMzIsNyArMjQwLDYgQEAgc3RhdGljIGJv
b2wgaWNsX3RjX3BoeV9zZXRfc2FmZV9tb2RlKHN0cnVjdCBpbnRlbF9kaWdpdGFsX3BvcnQgKmRp
Z19wb3J0LAo+ICBzdGF0aWMgYm9vbCBpY2xfdGNfcGh5X2lzX2luX3NhZmVfbW9kZShzdHJ1Y3Qg
aW50ZWxfZGlnaXRhbF9wb3J0ICpkaWdfcG9ydCkKPiAgewo+ICAgICAgICAgc3RydWN0IGRybV9p
OTE1X3ByaXZhdGUgKmk5MTUgPSB0b19pOTE1KGRpZ19wb3J0LT5iYXNlLmJhc2UuZGV2KTsKPiAt
ICAgICAgIGVudW0gdGNfcG9ydCB0Y19wb3J0ID0gaW50ZWxfcG9ydF90b190YyhpOTE1LCBkaWdf
cG9ydC0+YmFzZS5wb3J0KTsKPiAgICAgICAgIHN0cnVjdCBpbnRlbF91bmNvcmUgKnVuY29yZSA9
ICZpOTE1LT51bmNvcmU7Cj4gICAgICAgICB1MzIgdmFsOwo+Cj4gQEAgLTI0NCw3ICsyNTEsNyBA
QCBzdGF0aWMgYm9vbCBpY2xfdGNfcGh5X2lzX2luX3NhZmVfbW9kZShzdHJ1Y3QgaW50ZWxfZGln
aXRhbF9wb3J0ICpkaWdfcG9ydCkKPiAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7Cj4gICAg
ICAgICB9Cj4KPiAtICAgICAgIHJldHVybiAhKHZhbCAmIERQX1BIWV9NT0RFX1NUQVRVU19OT1Rf
U0FGRSh0Y19wb3J0KSk7Cj4gKyAgICAgICByZXR1cm4gISh2YWwgJiBEUF9QSFlfTU9ERV9TVEFU
VVNfTk9UX1NBRkUoZGlnX3BvcnQtPnRjX3BoeV9maWFfaWR4KSk7Cj4gIH0KPgo+ICAvKgo+IEBA
IC01NDEsNCArNTQ4LDUgQEAgdm9pZCBpbnRlbF90Y19wb3J0X2luaXQoc3RydWN0IGludGVsX2Rp
Z2l0YWxfcG9ydCAqZGlnX3BvcnQsIGJvb2wgaXNfbGVnYWN5KQo+ICAgICAgICAgZGlnX3BvcnQt
PnRjX2xlZ2FjeV9wb3J0ID0gaXNfbGVnYWN5Owo+ICAgICAgICAgZGlnX3BvcnQtPnRjX2xpbmtf
cmVmY291bnQgPSAwOwo+ICAgICAgICAgZGlnX3BvcnQtPnRjX3BoeV9maWEgPSB0Y19wb3J0X3Rv
X2ZpYShpOTE1LCB0Y19wb3J0KTsKPiArICAgICAgIGRpZ19wb3J0LT50Y19waHlfZmlhX2lkeCA9
IHRjX3BvcnRfdG9fZmlhX2lkeChpOTE1LCB0Y19wb3J0KTsKCkkgdGhpbmsgd2UgY291bGQgYWN0
dWFsbHkgZW1iZWQgaGVyZSB0Y19wb3J0X3RvX2ZpYSgpIGFuZAp0Y19wb3J0X3RvX2ZpYV9pZHgo
KSB1bmRlciBhIHNpbmdsZSBoYXNfbW9kdWxhcl9maWEoKS4KCj4gIH0KPiBkaWZmIC0tZ2l0IGEv
ZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF90Yy5oIGIvZHJpdmVycy9ncHUvZHJt
L2k5MTUvZGlzcGxheS9pbnRlbF90Yy5oCj4gaW5kZXggNzgzZDc1NTMxNDM1Li45NDRkODRjOGNj
ZTEgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF90Yy5o
Cj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF90Yy5oCj4gQEAgLTEw
LDYgKzEwLDcgQEAKPiAgI2luY2x1ZGUgPGxpbnV4L3R5cGVzLmg+Cj4KPiAgc3RydWN0IGludGVs
X2RpZ2l0YWxfcG9ydDsKPiArc3RydWN0IGRybV9pOTE1X3ByaXZhdGU7Cgpub3QgbmVlZGVkIGFu
eW1vcmUuCgpXaXRoIHRoYXQsIFJldmlld2VkLWJ5OiBMdWNhcyBEZSBNYXJjaGkgPGx1Y2FzLmRl
bWFyY2hpQGludGVsLmNvbT4KCkx1Y2FzIERlIE1hcmNoaQoKPgo+ICBib29sIGludGVsX3RjX3Bv
cnRfY29ubmVjdGVkKHN0cnVjdCBpbnRlbF9kaWdpdGFsX3BvcnQgKmRpZ19wb3J0KTsKPiAgdTMy
IGludGVsX3RjX3BvcnRfZ2V0X2xhbmVfbWFzayhzdHJ1Y3QgaW50ZWxfZGlnaXRhbF9wb3J0ICpk
aWdfcG9ydCk7Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfcmVnLmgg
Yi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3JlZy5oCj4gaW5kZXggYmYzN2VjZWJjODJmLi5l
ZTU2MjY1NzkyNjMgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9yZWcu
aAo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfcmVnLmgKPiBAQCAtMjE2NiwxMyAr
MjE2NiwxMyBAQCBzdGF0aWMgaW5saW5lIGJvb2wgaTkxNV9tbWlvX3JlZ192YWxpZChpOTE1X3Jl
Z190IHJlZykKPiAgI2RlZmluZSBfTU1JT19GSUEoZmlhLCBvZmYpICAgICAgICAgICAgX01NSU8o
X0ZJQShmaWEpICsgKG9mZikpCj4KPiAgLyogSUNMIFBIWSBERkxFWCByZWdpc3RlcnMgKi8KPiAt
I2RlZmluZSBQT1JUX1RYX0RGTEVYRFBNTEUxKGZpYSkgICAgICAgX01NSU9fRklBKChmaWEpLCAg
MHgwMDhDMCkKPiAtI2RlZmluZSAgIERGTEVYRFBNTEUxX0RQTUxFVENfTUFTSyh0Y19wb3J0KSAg
ICAoMHhmIDw8ICg0ICogKHRjX3BvcnQpKSkKPiAtI2RlZmluZSAgIERGTEVYRFBNTEUxX0RQTUxF
VENfTUwwKHRjX3BvcnQpICAgICAoMSA8PCAoNCAqICh0Y19wb3J0KSkpCj4gLSNkZWZpbmUgICBE
RkxFWERQTUxFMV9EUE1MRVRDX01MMV8wKHRjX3BvcnQpICAgKDMgPDwgKDQgKiAodGNfcG9ydCkp
KQo+IC0jZGVmaW5lICAgREZMRVhEUE1MRTFfRFBNTEVUQ19NTDModGNfcG9ydCkgICAgICg4IDw8
ICg0ICogKHRjX3BvcnQpKSkKPiAtI2RlZmluZSAgIERGTEVYRFBNTEUxX0RQTUxFVENfTUwzXzIo
dGNfcG9ydCkgICAoMTIgPDwgKDQgKiAodGNfcG9ydCkpKQo+IC0jZGVmaW5lICAgREZMRVhEUE1M
RTFfRFBNTEVUQ19NTDNfMCh0Y19wb3J0KSAgICgxNSA8PCAoNCAqICh0Y19wb3J0KSkpCj4gKyNk
ZWZpbmUgUE9SVF9UWF9ERkxFWERQTUxFMShmaWEpICAgICAgICAgICAgICAgX01NSU9fRklBKChm
aWEpLCAgMHgwMDhDMCkKPiArI2RlZmluZSAgIERGTEVYRFBNTEUxX0RQTUxFVENfTUFTSyhpZHgp
ICAgICAgICAgICAgICAgICgweGYgPDwgKDQgKiAoaWR4KSkpCj4gKyNkZWZpbmUgICBERkxFWERQ
TUxFMV9EUE1MRVRDX01MMChpZHgpICAgICAgICAgKDEgPDwgKDQgKiAoaWR4KSkpCj4gKyNkZWZp
bmUgICBERkxFWERQTUxFMV9EUE1MRVRDX01MMV8wKGlkeCkgICAgICAgKDMgPDwgKDQgKiAoaWR4
KSkpCj4gKyNkZWZpbmUgICBERkxFWERQTUxFMV9EUE1MRVRDX01MMyhpZHgpICAgICAgICAgKDgg
PDwgKDQgKiAoaWR4KSkpCj4gKyNkZWZpbmUgICBERkxFWERQTUxFMV9EUE1MRVRDX01MM18yKGlk
eCkgICAgICAgKDEyIDw8ICg0ICogKGlkeCkpKQo+ICsjZGVmaW5lICAgREZMRVhEUE1MRTFfRFBN
TEVUQ19NTDNfMChpZHgpICAgICAgICgxNSA8PCAoNCAqIChpZHgpKSkKPgo+ICAvKiBCWFQgUEhZ
IFJlZiByZWdpc3RlcnMgKi8KPiAgI2RlZmluZSBfUE9SVF9SRUZfRFczX0EgICAgICAgICAgICAg
ICAgICAgICAgICAweDE2MjE4Qwo+IEBAIC0xMTY3MSwxNiArMTE2NzEsMTYgQEAgZW51bSBza2xf
cG93ZXJfZ2F0ZSB7Cj4KPiAgI2RlZmluZSBQT1JUX1RYX0RGTEVYRFBTUChmaWEpICAgICAgICAg
ICAgICAgICBfTU1JT19GSUEoKGZpYSksIDB4MDA4QTApCj4gICNkZWZpbmUgICBNT0RVTEFSX0ZJ
QV9NQVNLICAgICAgICAgICAgICAgICAgICAgKDEgPDwgNCkKPiAtI2RlZmluZSAgIFRDX0xJVkVf
U1RBVEVfVEJUKHRjX3BvcnQpICAgICAgICAgICAoMSA8PCAoKHRjX3BvcnQpICogOCArIDYpKQo+
IC0jZGVmaW5lICAgVENfTElWRV9TVEFURV9UQyh0Y19wb3J0KSAgICAgICAgICAgICgxIDw8ICgo
dGNfcG9ydCkgKiA4ICsgNSkpCj4gLSNkZWZpbmUgICBEUF9MQU5FX0FTU0lHTk1FTlRfU0hJRlQo
dGNfcG9ydCkgICAgKCh0Y19wb3J0KSAqIDgpCj4gLSNkZWZpbmUgICBEUF9MQU5FX0FTU0lHTk1F
TlRfTUFTSyh0Y19wb3J0KSAgICAgKDB4ZiA8PCAoKHRjX3BvcnQpICogOCkpCj4gLSNkZWZpbmUg
ICBEUF9MQU5FX0FTU0lHTk1FTlQodGNfcG9ydCwgeCkgICAgICAgKCh4KSA8PCAoKHRjX3BvcnQp
ICogOCkpCj4gKyNkZWZpbmUgICBUQ19MSVZFX1NUQVRFX1RCVChpZHgpICAgICAgICAgICAgICAg
KDEgPDwgKChpZHgpICogOCArIDYpKQo+ICsjZGVmaW5lICAgVENfTElWRV9TVEFURV9UQyhpZHgp
ICAgICAgICAgICAgICAgICAgICAgICAgKDEgPDwgKChpZHgpICogOCArIDUpKQo+ICsjZGVmaW5l
ICAgRFBfTEFORV9BU1NJR05NRU5UX1NISUZUKGlkeCkgICAgICAgICAgICAgICAgKChpZHgpICog
OCkKPiArI2RlZmluZSAgIERQX0xBTkVfQVNTSUdOTUVOVF9NQVNLKGlkeCkgICAgICAgICAoMHhm
IDw8ICgoaWR4KSAqIDgpKQo+ICsjZGVmaW5lICAgRFBfTEFORV9BU1NJR05NRU5UKGlkeCwgeCkg
ICAgICAgICAgICgoeCkgPDwgKChpZHgpICogOCkpCj4KPiAgI2RlZmluZSBQT1JUX1RYX0RGTEVY
RFBQTVMoZmlhKSAgICAgICAgICAgICAgICAgICAgICAgIF9NTUlPX0ZJQSgoZmlhKSwgMHgwMDg5
MCkKPiAtI2RlZmluZSAgIERQX1BIWV9NT0RFX1NUQVRVU19DT01QTEVURUQodGNfcG9ydCkgICAg
ICAgICAgICAgICAgKDEgPDwgKHRjX3BvcnQpKQo+ICsjZGVmaW5lICAgRFBfUEhZX01PREVfU1RB
VFVTX0NPTVBMRVRFRChpZHgpICAgICgxIDw8IChpZHgpKQo+Cj4gICNkZWZpbmUgUE9SVF9UWF9E
RkxFWERQQ1NTUyhmaWEpICAgICAgICAgICAgICAgX01NSU9fRklBKChmaWEpLCAweDAwODk0KQo+
IC0jZGVmaW5lICAgRFBfUEhZX01PREVfU1RBVFVTX05PVF9TQUZFKHRjX3BvcnQpICAgICAgICAg
KDEgPDwgKHRjX3BvcnQpKQo+ICsjZGVmaW5lICAgRFBfUEhZX01PREVfU1RBVFVTX05PVF9TQUZF
KGlkeCkgICAgICgxIDw8IChpZHgpKQo+Cj4gICNlbmRpZiAvKiBfSTkxNV9SRUdfSF8gKi8KPiAt
LQo+IDIuMjMuMAo+Cj4gX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX18KPiBJbnRlbC1nZnggbWFpbGluZyBsaXN0Cj4gSW50ZWwtZ2Z4QGxpc3RzLmZyZWVkZXNr
dG9wLm9yZwo+IGh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8v
aW50ZWwtZ2Z4CgoKCi0tIApMdWNhcyBEZSBNYXJjaGkKX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX18KSW50ZWwtZ2Z4IG1haWxpbmcgbGlzdApJbnRlbC1nZnhA
bGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxt
YW4vbGlzdGluZm8vaW50ZWwtZ2Z4

Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 4C9EC601E3
	for <lists+intel-gfx@lfdr.de>; Fri,  5 Jul 2019 10:01:40 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 98F186E420;
	Fri,  5 Jul 2019 08:01:38 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from fireflyinternet.com (mail.fireflyinternet.com [109.228.58.192])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 125736E417;
 Fri,  5 Jul 2019 08:01:36 +0000 (UTC)
X-Default-Received-SPF: pass (skip=forwardok (res=PASS))
 x-ip-name=78.156.65.138; 
Received: from localhost (unverified [78.156.65.138]) 
 by fireflyinternet.com (Firefly Internet (M1)) with ESMTP (TLS) id
 17137180-1500050 for multiple; Fri, 05 Jul 2019 09:01:34 +0100
MIME-Version: 1.0
To: intel-gfx@lists.freedesktop.org
From: Chris Wilson <chris@chris-wilson.co.uk>
In-Reply-To: <20190702142339.9961-1-chris@chris-wilson.co.uk>
References: <20190702114807.11271-1-chris@chris-wilson.co.uk>
 <20190702142339.9961-1-chris@chris-wilson.co.uk>
Message-ID: <156231369245.21827.13916664555391079769@skylake-alporthouse-com>
User-Agent: alot/0.6
Date: Fri, 05 Jul 2019 09:01:32 +0100
Subject: Re: [Intel-gfx] [PATCH i-g-t] i915/gem_eio: Assert the hanging
 request is correctly identified
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: igt-dev@lists.freedesktop.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

UXVvdGluZyBDaHJpcyBXaWxzb24gKDIwMTktMDctMDIgMTU6MjM6MzkpCj4gV2hlbiBmb3JjaW5n
IGEgcmVzZXQsIGl0IGlzIGNydWNpYWwgdGhhdCB0aGUga2VybmVsIGNvcnJlY3RseSBpZGVudGlm
aWVzCj4gdGhlIGluamVjdGVkIGhhbmcuIFZlcmlmeSB0aGlzIGlzIHRoZSBjYXNlIGZvciByZXNl
dC1zdHJlc3MuCj4gCj4gU2lnbmVkLW9mZi1ieTogQ2hyaXMgV2lsc29uIDxjaHJpc0BjaHJpcy13
aWxzb24uY28udWs+Cj4gLS0tCj4gS2VlcCB0aGUgaWd0X3NwaW5fZnJlZSBhdCB0aGUgZW5kIHRv
IGF2b2lkIGlzc3VlcyB3aGVyZSB3ZSBmYWlsIHRvCj4gYnlwYXNzIHRoZSBndWlsdHkgYmF0Y2gu
CgpQaW5nPwoKPiAtLS0KPiAgdGVzdHMvaTkxNS9nZW1fZWlvLmMgfCAxNyArKysrKysrKystLS0t
LS0tLQo+ICAxIGZpbGUgY2hhbmdlZCwgOSBpbnNlcnRpb25zKCspLCA4IGRlbGV0aW9ucygtKQo+
IAo+IGRpZmYgLS1naXQgYS90ZXN0cy9pOTE1L2dlbV9laW8uYyBiL3Rlc3RzL2k5MTUvZ2VtX2Vp
by5jCj4gaW5kZXggNTM5NmEwNGUyLi5kYzdhZmIwZmQgMTAwNjQ0Cj4gLS0tIGEvdGVzdHMvaTkx
NS9nZW1fZWlvLmMKPiArKysgYi90ZXN0cy9pOTE1L2dlbV9laW8uYwo+IEBAIC0xNzUsNyArMTc1
LDcgQEAgc3RhdGljIGlndF9zcGluX3QgKiBfX3NwaW5fcG9sbChpbnQgZmQsIHVpbnQzMl90IGN0
eCwgdW5zaWduZWQgbG9uZyBmbGFncykKPiAgICAgICAgIHN0cnVjdCBpZ3Rfc3Bpbl9mYWN0b3J5
IG9wdHMgPSB7Cj4gICAgICAgICAgICAgICAgIC5jdHggPSBjdHgsCj4gICAgICAgICAgICAgICAg
IC5lbmdpbmUgPSBmbGFncywKPiAtICAgICAgICAgICAgICAgLmZsYWdzID0gSUdUX1NQSU5fRkFT
VCwKPiArICAgICAgICAgICAgICAgLmZsYWdzID0gSUdUX1NQSU5fRkFTVCB8IElHVF9TUElOX0ZF
TkNFX09VVCwKPiAgICAgICAgIH07Cj4gIAo+ICAgICAgICAgaWYgKGdlbV9jYW5fc3RvcmVfZHdv
cmQoZmQsIG9wdHMuZW5naW5lKSkKPiBAQCAtMjcwLDEyICsyNzAsMTIgQEAgc3RhdGljIHZvaWQg
Y2hlY2tfd2FpdChpbnQgZmQsIHVpbnQzMl90IGJvLCB1bnNpZ25lZCBpbnQgd2FpdCwgaWd0X3N0
YXRzX3QgKnN0KQo+ICAgICAgICAgICAgICAgICBpZ3Rfc3RhdHNfcHVzaChzdCwgaWd0X25zZWNf
ZWxhcHNlZCgmdHMpKTsKPiAgfQo+ICAKPiAtc3RhdGljIHZvaWQgY2hlY2tfd2FpdF9lbGFwc2Vk
KGludCBmZCwgaWd0X3N0YXRzX3QgKnN0KQo+ICtzdGF0aWMgdm9pZCBjaGVja193YWl0X2VsYXBz
ZWQoY29uc3QgY2hhciAqcHJlZml4LCBpbnQgZmQsIGlndF9zdGF0c190ICpzdCkKPiAgewo+ICAg
ICAgICAgZG91YmxlIG1lZCwgbWF4LCBsaW1pdDsKPiAgCj4gLSAgICAgICBpZ3RfaW5mbygiQ29t
cGxldGVkICVkIHJlc2V0cywgd2FrZXVwcyB0b29rICUuM2YrLSUuM2ZtcyAobWluOiUuM2Ztcywg
bWVkaWFuOiUuM2ZtcywgbWF4OiUuM2ZtcylcbiIsCj4gLSAgICAgICAgICAgICAgICBzdC0+bl92
YWx1ZXMsCj4gKyAgICAgICBpZ3RfaW5mbygiJXM6IGNvbXBsZXRlZCAlZCByZXNldHMsIHdha2V1
cHMgdG9vayAlLjNmKy0lLjNmbXMgKG1pbjolLjNmbXMsIG1lZGlhbjolLjNmbXMsIG1heDolLjNm
bXMpXG4iLAo+ICsgICAgICAgICAgICAgICAgcHJlZml4LCBzdC0+bl92YWx1ZXMsCj4gICAgICAg
ICAgICAgICAgICBpZ3Rfc3RhdHNfZ2V0X21lYW4oc3QpKjFlLTYsCj4gICAgICAgICAgICAgICAg
ICBpZ3Rfc3RhdHNfZ2V0X3N0ZF9kZXZpYXRpb24oc3QpKjFlLTYsCj4gICAgICAgICAgICAgICAg
ICBpZ3Rfc3RhdHNfZ2V0X21pbihzdCkqMWUtNiwKPiBAQCAtNzE1LDggKzcxNSw4IEBAIHN0YXRp
YyB2b2lkIHRlc3RfaW5mbGlnaHRfaW50ZXJuYWwoaW50IGZkLCB1bnNpZ25lZCBpbnQgd2FpdCkK
PiAgICAgICAgIGNsb3NlKGZkKTsKPiAgfQo+ICAKPiAtc3RhdGljIHZvaWQgcmVzZXRfc3RyZXNz
KGludCBmZCwKPiAtICAgICAgICAgICAgICAgICAgICAgICAgdWludDMyX3QgY3R4MCwgdW5zaWdu
ZWQgaW50IGVuZ2luZSwKPiArc3RhdGljIHZvaWQgcmVzZXRfc3RyZXNzKGludCBmZCwgdWludDMy
X3QgY3R4MCwKPiArICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hhciAqbmFtZSwgdW5z
aWduZWQgaW50IGVuZ2luZSwKPiAgICAgICAgICAgICAgICAgICAgICAgICAgdW5zaWduZWQgaW50
IGZsYWdzKQo+ICB7Cj4gICAgICAgICBjb25zdCB1aW50MzJfdCBiYmUgPSBNSV9CQVRDSF9CVUZG
RVJfRU5EOwo+IEBAIC03NTksNiArNzU5LDcgQEAgc3RhdGljIHZvaWQgcmVzZXRfc3RyZXNzKGlu
dCBmZCwKPiAgCj4gICAgICAgICAgICAgICAgIC8qIFdlZGdlIGFmdGVyIGEgc21hbGwgZGVsYXku
ICovCj4gICAgICAgICAgICAgICAgIGNoZWNrX3dhaXQoZmQsIG9iai5oYW5kbGUsIDEwMGUzLCAm
c3RhdHMpOwo+ICsgICAgICAgICAgICAgICBpZ3RfYXNzZXJ0X2VxKHN5bmNfZmVuY2Vfc3RhdHVz
KGhhbmctPm91dF9mZW5jZSksIC1FSU8pOwo+ICAKPiAgICAgICAgICAgICAgICAgLyogVW53ZWRn
ZSBieSBmb3JjaW5nIGEgcmVzZXQuICovCj4gICAgICAgICAgICAgICAgIGlndF9hc3NlcnQoaTkx
NV9yZXNldF9jb250cm9sKHRydWUpKTsKPiBAQCAtNzgyLDcgKzc4Myw3IEBAIHN0YXRpYyB2b2lk
IHJlc2V0X3N0cmVzcyhpbnQgZmQsCj4gICAgICAgICAgICAgICAgIGlndF9zcGluX2ZyZWUoZmQs
IGhhbmcpOwo+ICAgICAgICAgICAgICAgICBnZW1fY29udGV4dF9kZXN0cm95KGZkLCBjdHgpOwo+
ICAgICAgICAgfQo+IC0gICAgICAgY2hlY2tfd2FpdF9lbGFwc2VkKGZkLCAmc3RhdHMpOwo+ICsg
ICAgICAgY2hlY2tfd2FpdF9lbGFwc2VkKG5hbWUsIGZkLCAmc3RhdHMpOwo+ICAgICAgICAgaWd0
X3N0YXRzX2ZpbmkoJnN0YXRzKTsKPiAgCj4gICAgICAgICBnZW1fY2xvc2UoZmQsIG9iai5oYW5k
bGUpOwo+IEBAIC03OTcsNyArNzk4LDcgQEAgc3RhdGljIHZvaWQgdGVzdF9yZXNldF9zdHJlc3Mo
aW50IGZkLCB1bnNpZ25lZCBpbnQgZmxhZ3MpCj4gICAgICAgICB1bnNpZ25lZCBpbnQgZW5naW5l
Owo+ICAKPiAgICAgICAgIGZvcl9lYWNoX2VuZ2luZShmZCwgZW5naW5lKQo+IC0gICAgICAgICAg
ICAgICByZXNldF9zdHJlc3MoZmQsIGN0eDAsIGVuZ2luZSwgZmxhZ3MpOwo+ICsgICAgICAgICAg
ICAgICByZXNldF9zdHJlc3MoZmQsIGN0eDAsIGVfXy0+bmFtZSwgZW5naW5lLCBmbGFncyk7Cj4g
IAo+ICAgICAgICAgZ2VtX2NvbnRleHRfZGVzdHJveShmZCwgY3R4MCk7Cj4gIH0KPiAtLSAKPiAy
LjIwLjEKPiAKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18K
SW50ZWwtZ2Z4IG1haWxpbmcgbGlzdApJbnRlbC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0
dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vaW50ZWwtZ2Z4

Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 97F5310CFAF
	for <lists+intel-gfx@lfdr.de>; Thu, 28 Nov 2019 23:08:06 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id DE78E6E0F3;
	Thu, 28 Nov 2019 22:08:04 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from fireflyinternet.com (mail.fireflyinternet.com [109.228.58.192])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 89E846E0F3
 for <intel-gfx@lists.freedesktop.org>; Thu, 28 Nov 2019 22:08:03 +0000 (UTC)
X-Default-Received-SPF: pass (skip=forwardok (res=PASS))
 x-ip-name=78.156.65.138; 
Received: from haswell.alporthouse.com (unverified [78.156.65.138]) 
 by fireflyinternet.com (Firefly Internet (M1)) with ESMTP id 19382968-1500050 
 for <intel-gfx@lists.freedesktop.org>; Thu, 28 Nov 2019 22:08:00 +0000
From: Chris Wilson <chris@chris-wilson.co.uk>
To: intel-gfx@lists.freedesktop.org
Date: Thu, 28 Nov 2019 22:07:59 +0000
Message-Id: <20191128220759.408038-1-chris@chris-wilson.co.uk>
X-Mailer: git-send-email 2.24.0
MIME-Version: 1.0
Subject: [Intel-gfx] [CI] drm/i915/gen7: Re-enable full-ppgtt for ivb, byt,
 hsw
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

QWZ0ZXIgbXVjaCBoYWlyIHB1bGxpbmcsIHJlc29ydCB0byBwcmVhbGxvY2F0aW5nIHRoZSBwcEdU
VCBlbnRyaWVzIG9uCmluaXQgdG8gY2lyY3VtdmVudCB0aGUgYXBwYXJlbnQgbGFjayBvZiBQRCBp
bnZhbGlkYXRlIGZvbGxvd2luZyB0aGUKd3JpdGUgdG8gUFBfRENMViB1cG9uIHN3aXRjaGluZyBt
bSBiZXR3ZWVuIGNvbnRleHRzIChhbmQgaGVyZSB0aGUgc2FtZQpjb250ZXh0IGFmdGVyIGJpbmRp
bmcgbmV3IG9iamVjdHMpLiBIb3dldmVyLCB0aGUgZGV0YWlscyBvZiB0aGF0IFBQX0RDTFYKaW52
YWxpZGF0ZSBhcmUgc3RpbGwgdW5rbm93biwgYW5kIGl0IGFwcGVhcnMgd2UgbmVlZCB0byByZWxv
YWQgdGhlIG1tCnR3aWNlIHRvIGNvdmVyIG92ZXIgYSB0aW1pbmcgaXNzdWUuIFdvcnJ5aW5nLgoK
Rml4ZXM6IDNkYzAwN2ZlOWIyYiAoImRybS9pOTE1L2d0dDogRG93bmdyYWRlIGdlbjcgKGl2Yiwg
Ynl0LCBoc3cpIGJhY2sgdG8gYWxpYXNpbmctcHBndHQiKQpTaWduZWQtb2ZmLWJ5OiBDaHJpcyBX
aWxzb24gPGNocmlzQGNocmlzLXdpbHNvbi5jby51az4KLS0tCiAuLi4vZ3B1L2RybS9pOTE1L2d0
L2ludGVsX3Jpbmdfc3VibWlzc2lvbi5jICAgfCAzNSArKysrKysrKysrLS0tLS0tLS0tCiBkcml2
ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2dlbV9ndHQuYyAgICAgICAgICAgfCAxNCArKysrLS0tLQog
ZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9wY2kuYyAgICAgICAgICAgICAgIHwgIDQgKy0tCiAz
IGZpbGVzIGNoYW5nZWQsIDI4IGluc2VydGlvbnMoKyksIDI1IGRlbGV0aW9ucygtKQoKZGlmZiAt
LWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX3Jpbmdfc3VibWlzc2lvbi5jIGIv
ZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfcmluZ19zdWJtaXNzaW9uLmMKaW5kZXggZjI1
Y2VjY2IzMzVlLi4wNzAxMjdlYmNjOWIgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1
L2d0L2ludGVsX3Jpbmdfc3VibWlzc2lvbi5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0
L2ludGVsX3Jpbmdfc3VibWlzc2lvbi5jCkBAIC0xMzY2LDEzICsxMzY2LDIxIEBAIHN0YXRpYyBp
bnQgbG9hZF9wZF9kaXIoc3RydWN0IGk5MTVfcmVxdWVzdCAqcnEsIGNvbnN0IHN0cnVjdCBpOTE1
X3BwZ3R0ICpwcGd0dCkKIAljb25zdCBzdHJ1Y3QgaW50ZWxfZW5naW5lX2NzICogY29uc3QgZW5n
aW5lID0gcnEtPmVuZ2luZTsKIAl1MzIgKmNzOwogCi0JY3MgPSBpbnRlbF9yaW5nX2JlZ2luKHJx
LCA2KTsKKwljcyA9IGludGVsX3JpbmdfYmVnaW4ocnEsIDEyKTsKIAlpZiAoSVNfRVJSKGNzKSkK
IAkJcmV0dXJuIFBUUl9FUlIoY3MpOwogCi0JKmNzKysgPSBNSV9MT0FEX1JFR0lTVEVSX0lNTSgx
KTsKKwkqY3MrKyA9IE1JX0xPQURfUkVHSVNURVJfSU1NKDIpOwogCSpjcysrID0gaTkxNV9tbWlv
X3JlZ19vZmZzZXQoUklOR19QUF9ESVJfRENMVihlbmdpbmUtPm1taW9fYmFzZSkpOwogCSpjcysr
ID0gUFBfRElSX0RDTFZfMkc7CisJKmNzKysgPSBpOTE1X21taW9fcmVnX29mZnNldChSSU5HX1BQ
X0RJUl9EQ0xWKGVuZ2luZS0+bW1pb19iYXNlKSkgKyA0OworCSpjcysrID0gMDsKKworCSpjcysr
ID0gTUlfU1RPUkVfUkVHSVNURVJfTUVNIHwgTUlfU1JNX0xSTV9HTE9CQUxfR1RUOworCSpjcysr
ID0gaTkxNV9tbWlvX3JlZ19vZmZzZXQoUklOR19QUF9ESVJfRENMVihlbmdpbmUtPm1taW9fYmFz
ZSkpOworCSpjcysrID0gaW50ZWxfZ3Rfc2NyYXRjaF9vZmZzZXQocnEtPmVuZ2luZS0+Z3QsCisJ
CQkJCUlOVEVMX0dUX1NDUkFUQ0hfRklFTERfREVGQVVMVCk7CisJKmNzKysgPSBNSV9OT09QOwog
CiAJKmNzKysgPSBNSV9MT0FEX1JFR0lTVEVSX0lNTSgxKTsKIAkqY3MrKyA9IGk5MTVfbW1pb19y
ZWdfb2Zmc2V0KFJJTkdfUFBfRElSX0JBU0UoZW5naW5lLT5tbWlvX2Jhc2UpKTsKQEAgLTE1Nzks
MzAgKzE1ODcsMjUgQEAgc3RhdGljIGludCBzd2l0Y2hfY29udGV4dChzdHJ1Y3QgaTkxNV9yZXF1
ZXN0ICpycSkKIHsKIAlzdHJ1Y3QgaW50ZWxfY29udGV4dCAqY2UgPSBycS0+aHdfY29udGV4dDsK
IAlzdHJ1Y3QgaTkxNV9hZGRyZXNzX3NwYWNlICp2bSA9IHZtX2FsaWFzKGNlKTsKKwl1MzIgaHdf
ZmxhZ3MgPSAwOwogCWludCByZXQ7CiAKIAlHRU1fQlVHX09OKEhBU19FWEVDTElTVFMocnEtPmk5
MTUpKTsKIAogCWlmICh2bSkgewotCQlyZXQgPSBsb2FkX3BkX2RpcihycSwgaTkxNV92bV90b19w
cGd0dCh2bSkpOwotCQlpZiAocmV0KQotCQkJcmV0dXJuIHJldDsKKwkJaW50IGxvb3BzID0gODsK
KworCQlkbyB7CisJCQlyZXQgPSBsb2FkX3BkX2RpcihycSwgaTkxNV92bV90b19wcGd0dCh2bSkp
OworCQkJaWYgKHJldCkKKwkJCQlyZXR1cm4gcmV0OworCQl9IHdoaWxlICgtLWxvb3BzKTsKIAl9
CiAKIAlpZiAoY2UtPnN0YXRlKSB7Ci0JCXUzMiBod19mbGFnczsKLQogCQlHRU1fQlVHX09OKHJx
LT5lbmdpbmUtPmlkICE9IFJDUzApOwogCi0JCS8qCi0JCSAqIFRoZSBrZXJuZWwgY29udGV4dChz
KSBpcyB0cmVhdGVkIGFzIHB1cmUgc2NyYXRjaCBhbmQgaXMgbm90Ci0JCSAqIGV4cGVjdGVkIHRv
IHJldGFpbiBhbnkgc3RhdGUgKGFzIHdlIHNhY3JpZmljZSBpdCBkdXJpbmcKLQkJICogc3VzcGVu
ZCBhbmQgb24gcmVzdW1lIGl0IG1heSBiZSBjb3JydXB0ZWQpLiBUaGlzIGlzIG9rLAotCQkgKiBh
cyBub3RoaW5nIGFjdHVhbGx5IGV4ZWN1dGVzIHVzaW5nIHRoZSBrZXJuZWwgY29udGV4dDsgaXQK
LQkJICogaXMgcHVyZWx5IHVzZWQgZm9yIGZsdXNoaW5nIHVzZXIgY29udGV4dHMuCi0JCSAqLwot
CQlod19mbGFncyA9IDA7Ci0JCWlmIChpOTE1X2dlbV9jb250ZXh0X2lzX2tlcm5lbChycS0+Z2Vt
X2NvbnRleHQpKQorCQlpZiAoIXJxLT5lbmdpbmUtPmRlZmF1bHRfc3RhdGUpCiAJCQlod19mbGFn
cyA9IE1JX1JFU1RPUkVfSU5ISUJJVDsKIAogCQlyZXQgPSBtaV9zZXRfY29udGV4dChycSwgaHdf
ZmxhZ3MpOwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9nZW1fZ3R0LmMg
Yi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2dlbV9ndHQuYwppbmRleCA2MjM5YTlhZGJmMTQu
LmZiNzJjZWVlYjJiMyAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9nZW1f
Z3R0LmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9nZW1fZ3R0LmMKQEAgLTE2OTIs
NyArMTY5Miw2IEBAIHN0YXRpYyBpbnQgZ2VuNl9hbGxvY192YV9yYW5nZShzdHJ1Y3QgaTkxNV9h
ZGRyZXNzX3NwYWNlICp2bSwKIAlpbnRlbF93YWtlcmVmX3Qgd2FrZXJlZjsKIAl1NjQgZnJvbSA9
IHN0YXJ0OwogCXVuc2lnbmVkIGludCBwZGU7Ci0JYm9vbCBmbHVzaCA9IGZhbHNlOwogCWludCBy
ZXQgPSAwOwogCiAJd2FrZXJlZiA9IGludGVsX3J1bnRpbWVfcG1fZ2V0KCZ2bS0+aTkxNS0+cnVu
dGltZV9wbSk7CkBAIC0xNzE3LDExICsxNzE2LDYgQEAgc3RhdGljIGludCBnZW42X2FsbG9jX3Zh
X3JhbmdlKHN0cnVjdCBpOTE1X2FkZHJlc3Nfc3BhY2UgKnZtLAogCQkJc3Bpbl9sb2NrKCZwZC0+
bG9jayk7CiAJCQlpZiAocGQtPmVudHJ5W3BkZV0gPT0gJnZtLT5zY3JhdGNoWzFdKSB7CiAJCQkJ
cGQtPmVudHJ5W3BkZV0gPSBwdDsKLQkJCQlpZiAoaTkxNV92bWFfaXNfYm91bmQocHBndHQtPnZt
YSwKLQkJCQkJCSAgICAgIEk5MTVfVk1BX0dMT0JBTF9CSU5EKSkgewotCQkJCQlnZW42X3dyaXRl
X3BkZShwcGd0dCwgcGRlLCBwdCk7Ci0JCQkJCWZsdXNoID0gdHJ1ZTsKLQkJCQl9CiAJCQl9IGVs
c2UgewogCQkJCWFsbG9jID0gcHQ7CiAJCQkJcHQgPSBwZC0+ZW50cnlbcGRlXTsKQEAgLTE3MzIs
OCArMTcyNiwxMyBAQCBzdGF0aWMgaW50IGdlbjZfYWxsb2NfdmFfcmFuZ2Uoc3RydWN0IGk5MTVf
YWRkcmVzc19zcGFjZSAqdm0sCiAJfQogCXNwaW5fdW5sb2NrKCZwZC0+bG9jayk7CiAKLQlpZiAo
Zmx1c2gpCisJaWYgKGk5MTVfdm1hX2lzX2JvdW5kKHBwZ3R0LT52bWEsIEk5MTVfVk1BX0dMT0JB
TF9CSU5EKSkgeworCQkvKiBSZXdyaXRlIHRoZW0gYWxsISBBbnl0aGluZyBsZXNzIG1pc3NlcyBh
biBpbnZhbGlkYXRlLiAqLworCQlnZW42X2Zvcl9hbGxfcGRlcyhwdCwgcGQsIHBkZSkKKwkJCWdl
bjZfd3JpdGVfcGRlKHBwZ3R0LCBwZGUsIHB0KTsKKwkJaW9yZWFkMzIocHBndHQtPnBkX2FkZHIg
KyBwZGUgLSAxKTsKIAkJZ2VuNl9nZ3R0X2ludmFsaWRhdGUodm0tPmd0LT5nZ3R0KTsKKwl9CiAK
IAlnb3RvIG91dDsKIApAQCAtMTk5NCw2ICsxOTkzLDcgQEAgc3RhdGljIHN0cnVjdCBpOTE1X3Bw
Z3R0ICpnZW42X3BwZ3R0X2NyZWF0ZShzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSkKIGVy
cl9wZDoKIAlrZnJlZShwcGd0dC0+YmFzZS5wZCk7CiBlcnJfZnJlZToKKwltdXRleF9kZXN0cm95
KCZwcGd0dC0+cGluX211dGV4KTsKIAlrZnJlZShwcGd0dCk7CiAJcmV0dXJuIEVSUl9QVFIoZXJy
KTsKIH0KZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfcGNpLmMgYi9kcml2
ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3BjaS5jCmluZGV4IGRhM2U5YjU3NTJhYy4uYmJhNmI1MGU2
YmViIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3BjaS5jCisrKyBiL2Ry
aXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfcGNpLmMKQEAgLTQzNiw3ICs0MzYsNyBAQCBzdGF0aWMg
Y29uc3Qgc3RydWN0IGludGVsX2RldmljZV9pbmZvIGludGVsX3NhbmR5YnJpZGdlX21fZ3QyX2lu
Zm8gPSB7CiAJLmhhc19yYzYgPSAxLCBcCiAJLmhhc19yYzZwID0gMSwgXAogCS5oYXNfcnBzID0g
dHJ1ZSwgXAotCS5wcGd0dF90eXBlID0gSU5URUxfUFBHVFRfQUxJQVNJTkcsIFwKKwkucHBndHRf
dHlwZSA9IElOVEVMX1BQR1RUX0ZVTEwsIFwKIAkucHBndHRfc2l6ZSA9IDMxLCBcCiAJSVZCX1BJ
UEVfT0ZGU0VUUywgXAogCUlWQl9DVVJTT1JfT0ZGU0VUUywgXApAQCAtNDkzLDcgKzQ5Myw3IEBA
IHN0YXRpYyBjb25zdCBzdHJ1Y3QgaW50ZWxfZGV2aWNlX2luZm8gaW50ZWxfdmFsbGV5dmlld19p
bmZvID0gewogCS5oYXNfcnBzID0gdHJ1ZSwKIAkuZGlzcGxheS5oYXNfZ21jaCA9IDEsCiAJLmRp
c3BsYXkuaGFzX2hvdHBsdWcgPSAxLAotCS5wcGd0dF90eXBlID0gSU5URUxfUFBHVFRfQUxJQVNJ
TkcsCisJLnBwZ3R0X3R5cGUgPSBJTlRFTF9QUEdUVF9GVUxMLAogCS5wcGd0dF9zaXplID0gMzEs
CiAJLmhhc19zbm9vcCA9IHRydWUsCiAJLmhhc19jb2hlcmVudF9nZ3R0ID0gZmFsc2UsCi0tIAoy
LjI0LjAKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCklu
dGVsLWdmeCBtYWlsaW5nIGxpc3QKSW50ZWwtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRw
czovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2ludGVsLWdmeA==

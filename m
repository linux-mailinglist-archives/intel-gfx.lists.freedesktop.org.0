Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 748C6DE8EE
	for <lists+intel-gfx@lfdr.de>; Mon, 21 Oct 2019 12:02:55 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 2F8E789DC9;
	Mon, 21 Oct 2019 10:02:53 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga02.intel.com (mga02.intel.com [134.134.136.20])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 240E189DC9
 for <intel-gfx@lists.freedesktop.org>; Mon, 21 Oct 2019 10:02:47 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga001.jf.intel.com ([10.7.209.18])
 by orsmga101.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 21 Oct 2019 03:02:47 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.67,323,1566889200"; d="scan'208";a="280920270"
Received: from gaia.fi.intel.com ([10.237.72.192])
 by orsmga001.jf.intel.com with ESMTP; 21 Oct 2019 03:02:45 -0700
Received: by gaia.fi.intel.com (Postfix, from userid 1000)
 id 3B7FA5C1E41; Mon, 21 Oct 2019 13:01:59 +0300 (EEST)
From: Mika Kuoppala <mika.kuoppala@linux.intel.com>
To: Chris Wilson <chris@chris-wilson.co.uk>, intel-gfx@lists.freedesktop.org
In-Reply-To: <157165176066.29536.7902079618224993844@skylake-alporthouse-com>
References: <20191021080226.537-1-chris@chris-wilson.co.uk>
 <87pniq8m3p.fsf@gaia.fi.intel.com>
 <157165176066.29536.7902079618224993844@skylake-alporthouse-com>
Date: Mon, 21 Oct 2019 13:01:59 +0300
Message-ID: <87mudu8lig.fsf@gaia.fi.intel.com>
MIME-Version: 1.0
Subject: Re: [Intel-gfx] [PATCH 01/16] drm/i915: Don't set
 queue_priority_hint if we don't kick the submission
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

Q2hyaXMgV2lsc29uIDxjaHJpc0BjaHJpcy13aWxzb24uY28udWs+IHdyaXRlczoKCj4gUXVvdGlu
ZyBNaWthIEt1b3BwYWxhICgyMDE5LTEwLTIxIDEwOjQ5OjE0KQo+PiBDaHJpcyBXaWxzb24gPGNo
cmlzQGNocmlzLXdpbHNvbi5jby51az4gd3JpdGVzOgo+PiAKPj4gPiBJZiB3ZSBjaGFuZ2UgdGhl
IHByaW9yaXR5IG9mIHRoZSBhY3RpdmUgY29udGV4dCwgdGhlbiBpdCBoYXMgbm8gaW1wYWN0Cj4+
ID4gb24gdGhlIGRlY2lzaW9uIG9mIHdoZXRoZXIgdG8gcHJlZW1wdCB0aGUgYWN0aXZlIGNvbnRl
eHQgLS0gd2UgZG9uJ3QKPj4gPiBwcmVlbXB0IHRoZSBjb250ZXh0IHdpdGggaXRzZWxmLiBJbiB0
aGlzIHNpdHVhdGlvbiwgd2UgZWxpZGUgdGhlIHRhc2tsZXQKPj4gPiByZXNjaGVkdWxpbmcgYW5k
IHNob3VsZCAqbm90KiBiZSBtYXJraW5nIHVwIHRoZSBxdWV1ZV9wcmlvcml0eV9oaW50IGFzCj4+
ID4gdGhhdCBtYXkgbWFzayBhIGxhdGVyIHN1Ym1pc3Npb24gd2hlcmUgd2UgZGVjaWRlIHdlIGRv
bid0IGhhdmUgdG8ga2ljawo+PiA+IHRoZSB0YXNrbGV0IGFzIGEgaGlnaGVyIHByaW9yaXR5IHN1
Ym1pc3Npb24gaXMgcGVuZGluZyAoc3BvaWxlciBhbGVydCwKPj4gPiBpdCB3YXMgbm90KS4KPj4g
Pgo+PiA+IFNpZ25lZC1vZmYtYnk6IENocmlzIFdpbHNvbiA8Y2hyaXNAY2hyaXMtd2lsc29uLmNv
LnVrPgo+PiA+IENjOiBUdnJ0a28gVXJzdWxpbiA8dHZydGtvLnVyc3VsaW5AaW50ZWwuY29tPgo+
PiA+IENjOiBNaWthIEt1b3BwYWxhIDxtaWthLmt1b3BwYWxhQGxpbnV4LmludGVsLmNvbT4KPj4g
PiAtLS0KPj4gPiAgZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9zY2hlZHVsZXIuYyB8IDM3ICsr
KysrKysrKysrKysrKystLS0tLS0tLS0tLQo+PiA+ICAxIGZpbGUgY2hhbmdlZCwgMjIgaW5zZXJ0
aW9ucygrKSwgMTUgZGVsZXRpb25zKC0pCj4+ID4KPj4gPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9n
cHUvZHJtL2k5MTUvaTkxNV9zY2hlZHVsZXIuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVf
c2NoZWR1bGVyLmMKPj4gPiBpbmRleCAwY2E0MGY2YmYwOGMuLmQyZWRiNTI3ZGNiOCAxMDA2NDQK
Pj4gPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3NjaGVkdWxlci5jCj4+ID4gKysr
IGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9zY2hlZHVsZXIuYwo+PiA+IEBAIC0xODksMjIg
KzE4OSwzNCBAQCBzdGF0aWMgaW5saW5lIGJvb2wgbmVlZF9wcmVlbXB0KGludCBwcmlvLCBpbnQg
YWN0aXZlKQo+PiA+ICAgICAgIHJldHVybiBwcmlvID49IG1heChJOTE1X1BSSU9SSVRZX05PUk1B
TCwgYWN0aXZlKTsKPj4gPiAgfQo+PiA+ICAKPj4gPiAtc3RhdGljIHZvaWQga2lja19zdWJtaXNz
aW9uKHN0cnVjdCBpbnRlbF9lbmdpbmVfY3MgKmVuZ2luZSwgaW50IHByaW8pCj4+ID4gK3N0YXRp
YyB2b2lkIGtpY2tfc3VibWlzc2lvbihzdHJ1Y3QgaW50ZWxfZW5naW5lX2NzICplbmdpbmUsCj4+
ID4gKyAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzdHJ1Y3QgaTkxNV9yZXF1ZXN0ICpy
cSwKPj4gPiArICAgICAgICAgICAgICAgICAgICAgICAgIGludCBwcmlvKQo+PiA+ICB7Cj4+ID4g
LSAgICAgY29uc3Qgc3RydWN0IGk5MTVfcmVxdWVzdCAqaW5mbGlnaHQgPQo+PiA+IC0gICAgICAg
ICAgICAgZXhlY2xpc3RzX2FjdGl2ZSgmZW5naW5lLT5leGVjbGlzdHMpOwo+PiA+ICsgICAgIGNv
bnN0IHN0cnVjdCBpOTE1X3JlcXVlc3QgKmluZmxpZ2h0Owo+PiA+ICsKPj4gPiArICAgICAvKgo+
PiA+ICsgICAgICAqIFdlIG9ubHkgbmVlZCB0byBraWNrIHRoZSB0YXNrbGV0IG9uY2UgZm9yIHRo
ZSBoaWdoIHByaW9yaXR5Cj4+ID4gKyAgICAgICogbmV3IGNvbnRleHQgd2UgYWRkIGludG8gdGhl
IHF1ZXVlLgo+PiA+ICsgICAgICAqLwo+PiA+ICsgICAgIGlmIChwcmlvIDw9IGVuZ2luZS0+ZXhl
Y2xpc3RzLnF1ZXVlX3ByaW9yaXR5X2hpbnQpCj4+ID4gKyAgICAgICAgICAgICByZXR1cm47Cj4+
ID4gKwo+PiA+ICsgICAgIC8qIE5vdGhpbmcgY3VycmVudGx5IGFjdGl2ZT8gV2UncmUgb3ZlcmR1
ZSBmb3IgYSBzdWJtaXNzaW9uISAqLwo+PiA+ICsgICAgIGluZmxpZ2h0ID0gZXhlY2xpc3RzX2Fj
dGl2ZSgmZW5naW5lLT5leGVjbGlzdHMpOwo+PiA+ICsgICAgIGlmICghaW5mbGlnaHQpCj4+ID4g
KyAgICAgICAgICAgICByZXR1cm47Cj4+ID4gIAo+PiA+ICAgICAgIC8qCj4+ID4gICAgICAgICog
SWYgd2UgYXJlIGFscmVhZHkgdGhlIGN1cnJlbnRseSBleGVjdXRpbmcgY29udGV4dCwgZG9uJ3QK
Pj4gPiAtICAgICAgKiBib3RoZXIgZXZhbHVhdGluZyBpZiB3ZSBzaG91bGQgcHJlZW1wdCBvdXJz
ZWx2ZXMsIG9yIGlmCj4+ID4gLSAgICAgICogd2UgZXhwZWN0IG5vdGhpbmcgdG8gY2hhbmdlIGFz
IGEgcmVzdWx0IG9mIHJ1bm5pbmcgdGhlCj4+ID4gLSAgICAgICogdGFza2xldCwgaS5lLiB3ZSBo
YXZlIG5vdCBjaGFuZ2UgdGhlIHByaW9yaXR5IHF1ZXVlCj4+ID4gLSAgICAgICogc3VmZmljaWVu
dGx5IHRvIG91c3QgdGhlIHJ1bm5pbmcgY29udGV4dC4KPj4gPiArICAgICAgKiBib3RoZXIgZXZh
bHVhdGluZyBpZiB3ZSBzaG91bGQgcHJlZW1wdCBvdXJzZWx2ZXMuCj4+ID4gICAgICAgICovCj4+
ID4gLSAgICAgaWYgKCFpbmZsaWdodCB8fCAhbmVlZF9wcmVlbXB0KHByaW8sIHJxX3ByaW8oaW5m
bGlnaHQpKSkKPj4gPiArICAgICBpZiAoaW5mbGlnaHQtPmh3X2NvbnRleHQgPT0gcnEtPmh3X2Nv
bnRleHQpCj4+IAo+PiBJZiB0aGVyZSBpcyBhIHRhaWwgdXBkYXRlIGF0IHRoaXMgbW9tZW50LCBk
b2VzIHRoZSBoYXJkd2FyZQo+PiB0YWtlIGl0IGludG8gYWNjb3VudCBvciBkbyB3ZSBuZWVkIHRv
IGtpY2s/Cj4KPiBXZSBhcmUgaG9sZGluZyB0aGUgZW5naW5lLT5hY3RpdmUubG9jaywgc28gd2Ug
Y2FuJ3Qgc3VibWl0IGF0IHRoaXMKPiBtb21lbnQuIElmIHdlIGFyZSBpbnNpZGUgcHJvY2Vzc19j
c2IgKHdoaWNoIGlzIG91dHNpZGUgb2YgdGhlIGxvY2spLAo+IHRoZW4gdGhpcyBzdGFsZSB2YWx1
ZSBpZiBvZiBubyBjb25zZXF1ZW5jZSBhcyB3ZSBhcmUgaW5zaWRlIHRoZSB0YXNrbGV0Cj4gYWxy
ZWFkeS4gU28gaWYgd2Ugc3VwcHJlc3MgdGhlIGtpY2ssIHdlIGFyZSBpbnNpZGUgdGhlIHRhc2ts
ZXQgYW5kCj4gZGlkbid0IG5lZWQgdGhlIGtpY2suIFRoZSBvdGhlciByZXN1bHQgb2YgZ2l2aW5n
IGEga2ljayBldmVuIHRob3VnaCB0aGUKPiBIVyBhcyBhYm91dCByZWFkeSwgaXMganVzdCBvbmUg
a2ljayB0b28gbWFueS4gV2UgYXJlIGp1c3QgdHJ5aW5nIHRvCj4gcmVkdWNlIHRoZSBudW1iZXIg
b2YgdW5uZWNlc3NhcnkgdGFza2xldCBleGVjdXRpb25zLCBpZGVhbCBpcyAwIGZhbHNlCj4ga2lj
a3MsIGJ1dCBhbnkgc21hbGwgbnVtYmVyIGlzIGJldHRlciB0aGFuIGtpY2tpbmcgb24gZXZlcnkg
bG9vcCB0aHJvdWdoCj4gdGhlIHByaW9yaXR5IG5vZGUgdXBkYXRlcy4KCk9rLCBjYW4ndCBzdWJt
aXQgbm9yIGNhbid0IGNoYW5nZSBwcmlvLiBNeSBwcmltZSBjb25jZXJuIHdhcyBvbmUKa2ljayB0
b28gbGl0dGxlLgoKUmV2aWV3ZWQtYnk6IE1pa2EgS3VvcHBhbGEgPG1pa2Eua3VvcHBhbGFAbGlu
dXguaW50ZWwuY29tPgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fXwpJbnRlbC1nZnggbWFpbGluZyBsaXN0CkludGVsLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5v
cmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9pbnRlbC1n
Zng=

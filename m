Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 8B4AB26BF5
	for <lists+intel-gfx@lfdr.de>; Wed, 22 May 2019 21:32:11 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 4A63189BE8;
	Wed, 22 May 2019 19:32:09 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga02.intel.com (mga02.intel.com [134.134.136.20])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 46BCC89BD2
 for <intel-gfx@lists.freedesktop.org>; Wed, 22 May 2019 19:32:08 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from fmsmga006.fm.intel.com ([10.253.24.20])
 by orsmga101.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 22 May 2019 12:32:07 -0700
X-ExtLoop1: 1
Received: from irvmail001.ir.intel.com ([163.33.26.43])
 by fmsmga006.fm.intel.com with ESMTP; 22 May 2019 12:32:06 -0700
Received: from mwajdecz-MOBL1.ger.corp.intel.com
 (mwajdecz-mobl1.ger.corp.intel.com [172.28.174.50])
 by irvmail001.ir.intel.com (8.14.3/8.13.6/MailSET/Hub) with ESMTP id
 x4MJW5Gi020993; Wed, 22 May 2019 20:32:05 +0100
From: Michal Wajdeczko <michal.wajdeczko@intel.com>
To: intel-gfx@lists.freedesktop.org
Date: Wed, 22 May 2019 19:31:55 +0000
Message-Id: <20190522193203.23932-2-michal.wajdeczko@intel.com>
X-Mailer: git-send-email 2.10.1.windows.1
In-Reply-To: <20190522193203.23932-1-michal.wajdeczko@intel.com>
References: <20190522193203.23932-1-michal.wajdeczko@intel.com>
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH v2 1/9] drm/i915/selftests: Move some reset
 testcases to separate file
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

aWd0X2dsb2JhbF9yZXNldCBhbmQgaWd0X3dlZGdlZF9yZXNldCB0ZXN0Y2FzZXMgYXJlIGZpcnN0
IGNhbmRpZGF0ZXMuCgpTdWdnZXN0ZWQtYnk6IENocmlzIFdpbHNvbiA8Y2hyaXNAY2hyaXMtd2ls
c29uLmNvLnVrPgpTaWduZWQtb2ZmLWJ5OiBNaWNoYWwgV2FqZGVjemtvIDxtaWNoYWwud2FqZGVj
emtvQGludGVsLmNvbT4KQ2M6IENocmlzIFdpbHNvbiA8Y2hyaXNAY2hyaXMtd2lsc29uLmNvLnVr
PgotLS0KIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX3Jlc2V0LmMgICAgICAgICB8ICA0
ICsKIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L3NlbGZ0ZXN0X2hhbmdjaGVjay5jICB8IDUwIC0t
LS0tLS0tLS0tLQogZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3Qvc2VsZnRlc3RfcmVzZXQuYyAgICAg
IHwgNzYgKysrKysrKysrKysrKysrKysrKwogLi4uL2RybS9pOTE1L3NlbGZ0ZXN0cy9pOTE1X2xp
dmVfc2VsZnRlc3RzLmggIHwgIDEgKwogNCBmaWxlcyBjaGFuZ2VkLCA4MSBpbnNlcnRpb25zKCsp
LCA1MCBkZWxldGlvbnMoLSkKIGNyZWF0ZSBtb2RlIDEwMDY0NCBkcml2ZXJzL2dwdS9kcm0vaTkx
NS9ndC9zZWxmdGVzdF9yZXNldC5jCgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUv
Z3QvaW50ZWxfcmVzZXQuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX3Jlc2V0LmMK
aW5kZXggNDY0MzY5YmM1NWFkLi44YzYwZjc1NTBmOWMgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1
L2RybS9pOTE1L2d0L2ludGVsX3Jlc2V0LmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3Qv
aW50ZWxfcmVzZXQuYwpAQCAtMTM5NCwzICsxMzk0LDcgQEAgdm9pZCBfX2k5MTVfZmluaV93ZWRn
ZShzdHJ1Y3QgaTkxNV93ZWRnZV9tZSAqdykKIAlkZXN0cm95X2RlbGF5ZWRfd29ya19vbl9zdGFj
aygmdy0+d29yayk7CiAJdy0+aTkxNSA9IE5VTEw7CiB9CisKKyNpZiBJU19FTkFCTEVEKENPTkZJ
R19EUk1fSTkxNV9TRUxGVEVTVCkKKyNpbmNsdWRlICJzZWxmdGVzdF9yZXNldC5jIgorI2VuZGlm
CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9zZWxmdGVzdF9oYW5nY2hlY2su
YyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L3NlbGZ0ZXN0X2hhbmdjaGVjay5jCmluZGV4IGRh
YjNkMzBjOWM3My4uYTZlN2Y4NGJiYmU5IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkx
NS9ndC9zZWxmdGVzdF9oYW5nY2hlY2suYworKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9z
ZWxmdGVzdF9oYW5nY2hlY2suYwpAQCAtMzY1LDU0ICszNjUsNiBAQCBzdGF0aWMgaW50IGlndF9o
YW5nX3Nhbml0eWNoZWNrKHZvaWQgKmFyZykKIAlyZXR1cm4gZXJyOwogfQogCi1zdGF0aWMgaW50
IGlndF9nbG9iYWxfcmVzZXQodm9pZCAqYXJnKQotewotCXN0cnVjdCBkcm1faTkxNV9wcml2YXRl
ICppOTE1ID0gYXJnOwotCXVuc2lnbmVkIGludCByZXNldF9jb3VudDsKLQlpbnQgZXJyID0gMDsK
LQotCS8qIENoZWNrIHRoYXQgd2UgY2FuIGlzc3VlIGEgZ2xvYmFsIEdQVSByZXNldCAqLwotCi0J
aWd0X2dsb2JhbF9yZXNldF9sb2NrKGk5MTUpOwotCi0JcmVzZXRfY291bnQgPSBpOTE1X3Jlc2V0
X2NvdW50KCZpOTE1LT5ncHVfZXJyb3IpOwotCi0JaTkxNV9yZXNldChpOTE1LCBBTExfRU5HSU5F
UywgTlVMTCk7Ci0KLQlpZiAoaTkxNV9yZXNldF9jb3VudCgmaTkxNS0+Z3B1X2Vycm9yKSA9PSBy
ZXNldF9jb3VudCkgewotCQlwcl9lcnIoIk5vIEdQVSByZXNldCByZWNvcmRlZCFcbiIpOwotCQll
cnIgPSAtRUlOVkFMOwotCX0KLQotCWlndF9nbG9iYWxfcmVzZXRfdW5sb2NrKGk5MTUpOwotCi0J
aWYgKGk5MTVfcmVzZXRfZmFpbGVkKGk5MTUpKQotCQllcnIgPSAtRUlPOwotCi0JcmV0dXJuIGVy
cjsKLX0KLQotc3RhdGljIGludCBpZ3Rfd2VkZ2VkX3Jlc2V0KHZvaWQgKmFyZykKLXsKLQlzdHJ1
Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSA9IGFyZzsKLQlpbnRlbF93YWtlcmVmX3Qgd2FrZXJl
ZjsKLQotCS8qIENoZWNrIHRoYXQgd2UgY2FuIHJlY292ZXIgYSB3ZWRnZWQgZGV2aWNlIHdpdGgg
YSBHUFUgcmVzZXQgKi8KLQotCWlndF9nbG9iYWxfcmVzZXRfbG9jayhpOTE1KTsKLQl3YWtlcmVm
ID0gaW50ZWxfcnVudGltZV9wbV9nZXQoaTkxNSk7Ci0KLQlpOTE1X2dlbV9zZXRfd2VkZ2VkKGk5
MTUpOwotCi0JR0VNX0JVR19PTighaTkxNV9yZXNldF9mYWlsZWQoaTkxNSkpOwotCWk5MTVfcmVz
ZXQoaTkxNSwgQUxMX0VOR0lORVMsIE5VTEwpOwotCi0JaW50ZWxfcnVudGltZV9wbV9wdXQoaTkx
NSwgd2FrZXJlZik7Ci0JaWd0X2dsb2JhbF9yZXNldF91bmxvY2soaTkxNSk7Ci0KLQlyZXR1cm4g
aTkxNV9yZXNldF9mYWlsZWQoaTkxNSkgPyAtRUlPIDogMDsKLX0KLQogc3RhdGljIGJvb2wgd2Fp
dF9mb3JfaWRsZShzdHJ1Y3QgaW50ZWxfZW5naW5lX2NzICplbmdpbmUpCiB7CiAJcmV0dXJuIHdh
aXRfZm9yKGludGVsX2VuZ2luZV9pc19pZGxlKGVuZ2luZSksIElHVF9JRExFX1RJTUVPVVQpID09
IDA7CkBAIC0xODQ2LDggKzE3OTgsNiBAQCBzdGF0aWMgaW50IGlndF9hdG9taWNfcmVzZXQodm9p
ZCAqYXJnKQogaW50IGludGVsX2hhbmdjaGVja19saXZlX3NlbGZ0ZXN0cyhzdHJ1Y3QgZHJtX2k5
MTVfcHJpdmF0ZSAqaTkxNSkKIHsKIAlzdGF0aWMgY29uc3Qgc3RydWN0IGk5MTVfc3VidGVzdCB0
ZXN0c1tdID0gewotCQlTVUJURVNUKGlndF9nbG9iYWxfcmVzZXQpLCAvKiBhdHRlbXB0IHRvIHJl
Y292ZXIgR1BVIGZpcnN0ICovCi0JCVNVQlRFU1QoaWd0X3dlZGdlZF9yZXNldCksCiAJCVNVQlRF
U1QoaWd0X2hhbmdfc2FuaXR5Y2hlY2spLAogCQlTVUJURVNUKGlndF9yZXNldF9ub3ApLAogCQlT
VUJURVNUKGlndF9yZXNldF9ub3BfZW5naW5lKSwKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2d0L3NlbGZ0ZXN0X3Jlc2V0LmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9zZWxm
dGVzdF9yZXNldC5jCm5ldyBmaWxlIG1vZGUgMTAwNjQ0CmluZGV4IDAwMDAwMDAwMDAwMC4uZWY5
MDEwMWJiODdhCi0tLSAvZGV2L251bGwKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3Qvc2Vs
ZnRlc3RfcmVzZXQuYwpAQCAtMCwwICsxLDc2IEBACisvLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmll
cjogTUlUCisvKgorICogQ29weXJpZ2h0IMKpIDIwMTggSW50ZWwgQ29ycG9yYXRpb24KKyAqLwor
CisjaW5jbHVkZSAiaTkxNV9zZWxmdGVzdC5oIgorI2luY2x1ZGUgInNlbGZ0ZXN0cy9pZ3RfcmVz
ZXQuaCIKKworc3RhdGljIGludCBpZ3RfZ2xvYmFsX3Jlc2V0KHZvaWQgKmFyZykKK3sKKwlzdHJ1
Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSA9IGFyZzsKKwl1bnNpZ25lZCBpbnQgcmVzZXRfY291
bnQ7CisJaW50IGVyciA9IDA7CisKKwkvKiBDaGVjayB0aGF0IHdlIGNhbiBpc3N1ZSBhIGdsb2Jh
bCBHUFUgcmVzZXQgKi8KKworCWlndF9nbG9iYWxfcmVzZXRfbG9jayhpOTE1KTsKKworCXJlc2V0
X2NvdW50ID0gaTkxNV9yZXNldF9jb3VudCgmaTkxNS0+Z3B1X2Vycm9yKTsKKworCWk5MTVfcmVz
ZXQoaTkxNSwgQUxMX0VOR0lORVMsIE5VTEwpOworCisJaWYgKGk5MTVfcmVzZXRfY291bnQoJmk5
MTUtPmdwdV9lcnJvcikgPT0gcmVzZXRfY291bnQpIHsKKwkJcHJfZXJyKCJObyBHUFUgcmVzZXQg
cmVjb3JkZWQhXG4iKTsKKwkJZXJyID0gLUVJTlZBTDsKKwl9CisKKwlpZ3RfZ2xvYmFsX3Jlc2V0
X3VubG9jayhpOTE1KTsKKworCWlmIChpOTE1X3Jlc2V0X2ZhaWxlZChpOTE1KSkKKwkJZXJyID0g
LUVJTzsKKworCXJldHVybiBlcnI7Cit9CisKK3N0YXRpYyBpbnQgaWd0X3dlZGdlZF9yZXNldCh2
b2lkICphcmcpCit7CisJc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUgPSBhcmc7CisJaW50
ZWxfd2FrZXJlZl90IHdha2VyZWY7CisKKwkvKiBDaGVjayB0aGF0IHdlIGNhbiByZWNvdmVyIGEg
d2VkZ2VkIGRldmljZSB3aXRoIGEgR1BVIHJlc2V0ICovCisKKwlpZ3RfZ2xvYmFsX3Jlc2V0X2xv
Y2soaTkxNSk7CisJd2FrZXJlZiA9IGludGVsX3J1bnRpbWVfcG1fZ2V0KGk5MTUpOworCisJaTkx
NV9nZW1fc2V0X3dlZGdlZChpOTE1KTsKKworCUdFTV9CVUdfT04oIWk5MTVfcmVzZXRfZmFpbGVk
KGk5MTUpKTsKKwlpOTE1X3Jlc2V0KGk5MTUsIEFMTF9FTkdJTkVTLCBOVUxMKTsKKworCWludGVs
X3J1bnRpbWVfcG1fcHV0KGk5MTUsIHdha2VyZWYpOworCWlndF9nbG9iYWxfcmVzZXRfdW5sb2Nr
KGk5MTUpOworCisJcmV0dXJuIGk5MTVfcmVzZXRfZmFpbGVkKGk5MTUpID8gLUVJTyA6IDA7Cit9
CisKK2ludCBpbnRlbF9yZXNldF9saXZlX3NlbGZ0ZXN0cyhzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0
ZSAqaTkxNSkKK3sKKwlzdGF0aWMgY29uc3Qgc3RydWN0IGk5MTVfc3VidGVzdCB0ZXN0c1tdID0g
eworCQlTVUJURVNUKGlndF9nbG9iYWxfcmVzZXQpLCAvKiBhdHRlbXB0IHRvIHJlY292ZXIgR1BV
IGZpcnN0ICovCisJCVNVQlRFU1QoaWd0X3dlZGdlZF9yZXNldCksCisJfTsKKwlpbnRlbF93YWtl
cmVmX3Qgd2FrZXJlZjsKKwlpbnQgZXJyID0gMDsKKworCWlmICghaW50ZWxfaGFzX2dwdV9yZXNl
dChpOTE1KSkKKwkJcmV0dXJuIDA7CisKKwlpZiAoaTkxNV90ZXJtaW5hbGx5X3dlZGdlZChpOTE1
KSkKKwkJcmV0dXJuIC1FSU87IC8qIHdlJ3JlIGxvbmcgcGFzdCBob3BlIG9mIGEgc3VjY2Vzc2Z1
bCByZXNldCAqLworCisJd2l0aF9pbnRlbF9ydW50aW1lX3BtKGk5MTUsIHdha2VyZWYpCisJCWVy
ciA9IGk5MTVfc3VidGVzdHModGVzdHMsIGk5MTUpOworCisJcmV0dXJuIGVycjsKK30KZGlmZiAt
LWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L3NlbGZ0ZXN0cy9pOTE1X2xpdmVfc2VsZnRlc3Rz
LmggYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9zZWxmdGVzdHMvaTkxNV9saXZlX3NlbGZ0ZXN0cy5o
CmluZGV4IGE1NGY1OTA3ODhhNC4uYTk1MzEyNWIxNGM0IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dw
dS9kcm0vaTkxNS9zZWxmdGVzdHMvaTkxNV9saXZlX3NlbGZ0ZXN0cy5oCisrKyBiL2RyaXZlcnMv
Z3B1L2RybS9pOTE1L3NlbGZ0ZXN0cy9pOTE1X2xpdmVfc2VsZnRlc3RzLmgKQEAgLTI0LDYgKzI0
LDcgQEAgc2VsZnRlc3QoZ2VtLCBpOTE1X2dlbV9saXZlX3NlbGZ0ZXN0cykKIHNlbGZ0ZXN0KGV2
aWN0LCBpOTE1X2dlbV9ldmljdF9saXZlX3NlbGZ0ZXN0cykKIHNlbGZ0ZXN0KGh1Z2VwYWdlcywg
aTkxNV9nZW1faHVnZV9wYWdlX2xpdmVfc2VsZnRlc3RzKQogc2VsZnRlc3QoY29udGV4dHMsIGk5
MTVfZ2VtX2NvbnRleHRfbGl2ZV9zZWxmdGVzdHMpCitzZWxmdGVzdChyZXNldCwgaW50ZWxfcmVz
ZXRfbGl2ZV9zZWxmdGVzdHMpCiBzZWxmdGVzdChoYW5nY2hlY2ssIGludGVsX2hhbmdjaGVja19s
aXZlX3NlbGZ0ZXN0cykKIHNlbGZ0ZXN0KGV4ZWNsaXN0cywgaW50ZWxfZXhlY2xpc3RzX2xpdmVf
c2VsZnRlc3RzKQogc2VsZnRlc3QoZ3VjLCBpbnRlbF9ndWNfbGl2ZV9zZWxmdGVzdCkKLS0gCjIu
MTkuMgoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KSW50
ZWwtZ2Z4IG1haWxpbmcgbGlzdApJbnRlbC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBz
Oi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vaW50ZWwtZ2Z4

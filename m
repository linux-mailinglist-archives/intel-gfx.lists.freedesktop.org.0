Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 41FF5A3D30
	for <lists+intel-gfx@lfdr.de>; Fri, 30 Aug 2019 19:48:11 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 6B2CB6E3A8;
	Fri, 30 Aug 2019 17:48:09 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga04.intel.com (mga04.intel.com [192.55.52.120])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 637DE6E39E
 for <intel-gfx@lists.freedesktop.org>; Fri, 30 Aug 2019 17:48:01 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga007.jf.intel.com ([10.7.209.58])
 by fmsmga104.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 30 Aug 2019 10:48:01 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.64,447,1559545200"; d="scan'208";a="172306252"
Received: from genxfsim-desktop.iind.intel.com ([10.223.74.120])
 by orsmga007.jf.intel.com with ESMTP; 30 Aug 2019 10:47:58 -0700
From: Anshuman Gupta <anshuman.gupta@intel.com>
To: intel-gfx@lists.freedesktop.org
Date: Fri, 30 Aug 2019 23:14:32 +0530
Message-Id: <20190830174433.22227-7-anshuman.gupta@intel.com>
X-Mailer: git-send-email 2.21.0
In-Reply-To: <20190830174433.22227-1-anshuman.gupta@intel.com>
References: <20190830174433.22227-1-anshuman.gupta@intel.com>
MIME-Version: 1.0
Subject: [Intel-gfx] [RFC 6/7] drm/i915/tgl: switch between dc3co and dc5
 based on display idleness
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: jani.nikula@intel.com
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

REMzQ08gaXMgdXNlZnVsIHBvd2VyIHN0YXRlLCB3aGVuIERNQyBkZXRlY3RzIFBTUjIgaWRsZSBm
cmFtZQp3aGlsZSBhbiBhY3RpdmUgdmlkZW8gcGxheWJhY2ssIHBsYXlpbmcgMzBmcHMgdmlkZW8g
b24gNjBoeiBwYW5lbAppcyB0aGUgY2xhc3NpYyBleGFtcGxlIG9mIHRoaXMgdXNlIGNhc2UuCkRD
NSBhbmQgREM2IHNhdmVzIG1vcmUgcG93ZXIsIGJ1dCBjYW4ndCBiZSBlbnRlcmVkIGR1cmluZyB2
aWRlbwpwbGF5YmFjayBiZWNhdXNlIHRoZXJlIGFyZSBub3QgZW5vdWdoIGlkbGUgZnJhbWVzIGlu
IGEgcm93IHRvIG1lZXQKbW9zdCBQU1IyIHBhbmVsIGRlZXAgc2xlZXAgZW50cnkgcmVxdWlyZW1l
bnQgdHlwaWNhbGx5IDQgZnJhbWVzLgoKSXQgd2lsbCBiZSB3b3J0aHkgdG8gZW5hYmxlIERDM0NP
IGFmdGVyIGNvbXBsZXRpb24gb2YgZWFjaCBmbGlwCmFuZCBzd2l0Y2ggYmFjayB0byBEQzUgd2hl
biBkaXNwbGF5IGlzIGlkbGUsIGFzIGRyaXZlciBkb2Vzbid0CmRpZmZlcmVudGlhdGUgYmV0d2Vl
biB2aWRlbyBwbGF5YmFjayBhbmQgYSBub3JtYWwgZmxpcC4KSXQgaXMgc2FmZXIgdG8gYWxsb3cg
REM1IGFmdGVyIDYgaWRsZSBmcmFtZSwgYXMgUFNSMiByZXF1aXJlcwptaW5pbXVtIDYgaWRsZSBm
cmFtZS4KCnYyOiBjYWxjdWxhdGVkIHMvdyBzdGF0ZSB0byBzd2l0Y2ggb3ZlciBkYzNjbyB3aGVu
IHRoZXJlIGlzIGFuCiAgICB1cGRhdGUuIFtJbXJlXQogICAgdXNlZCBjYW5jZWxfZGVsYXllZF93
b3JrX3N5bmMoKSBpbiBvcmRlciB0byBhdm9pZCBhbnkgcmFjZQogICAgd2l0aCBhbHJlYWR5IHNj
aGVkdWxlZCBkZWxheWVkIHdvcmsuIFtJbXJlXQp2MzogY2FuY2VsX2RlbGF5ZWRfd29ya19zeW5j
KCkgbWF5IGJsb2NrZWQgdGhlIGNvbW1pdCB3b3JrLgogICAgSGVuY2UgZHJvcHBpbmcgaXQsIGRj
NV9pZGxlX3RocmVhZCgpIGNoZWNrcyB0aGUgdmFsaWQgd2FrZXJlZiBiZWZvcmUKICAgIHB1dHRp
bmcgdGhlIHJlZmVyZW5jZSBjb3VudCwgd2hpY2ggYXZvaWRzIGFueSBjaGFuY2VzIG9mIGRyb3Bw
aW5nCiAgICBhIHplcm8gd2FrZXJlZi4gW0ltcmUgKElSQyldCnY0OiB1c2UgZnJvbnRidWZmZXIg
Zmx1c2ggbWVjaGFuaXNtLiBbSW1yZV0KCkNjOiBKYW5pIE5pa3VsYSA8amFuaS5uaWt1bGFAaW50
ZWwuY29tPgpDYzogSW1yZSBEZWFrIDxpbXJlLmRlYWtAaW50ZWwuY29tPgpDYzogQW5pbWVzaCBN
YW5uYSA8YW5pbWVzaC5tYW5uYUBpbnRlbC5jb20+ClNpZ25lZC1vZmYtYnk6IEFuc2h1bWFuIEd1
cHRhIDxhbnNodW1hbi5ndXB0YUBpbnRlbC5jb20+Ci0tLQogZHJpdmVycy9ncHUvZHJtL2k5MTUv
ZGlzcGxheS9pbnRlbF9kaXNwbGF5LmMgIHwgIDIgKwogLi4uL2RybS9pOTE1L2Rpc3BsYXkvaW50
ZWxfZGlzcGxheV9wb3dlci5jICAgIHwgNzUgKysrKysrKysrKysrKysrKysrKwogLi4uL2RybS9p
OTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheV9wb3dlci5oICAgIHwgIDcgKysKIC4uLi9ncHUvZHJt
L2k5MTUvZGlzcGxheS9pbnRlbF9mcm9udGJ1ZmZlci5jICB8ICAxICsKIGRyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2Rpc3BsYXkvaW50ZWxfcHNyLmMgICAgICB8ICAxICsKIGRyaXZlcnMvZ3B1L2RybS9p
OTE1L2k5MTVfZHJ2LmggICAgICAgICAgICAgICB8ICAxICsKIDYgZmlsZXMgY2hhbmdlZCwgODcg
aW5zZXJ0aW9ucygrKQoKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkv
aW50ZWxfZGlzcGxheS5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNw
bGF5LmMKaW5kZXggNTE1NzZkMTQyMTYzLi4wMGM2ZDE4M2U4N2EgMTAwNjQ0Ci0tLSBhL2RyaXZl
cnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheS5jCisrKyBiL2RyaXZlcnMvZ3B1
L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheS5jCkBAIC0xNjEzNiw2ICsxNjEzNiw3IEBA
IGludCBpbnRlbF9tb2Rlc2V0X2luaXQoc3RydWN0IGRybV9kZXZpY2UgKmRldikKIAlpbml0X2xs
aXN0X2hlYWQoJmRldl9wcml2LT5hdG9taWNfaGVscGVyLmZyZWVfbGlzdCk7CiAJSU5JVF9XT1JL
KCZkZXZfcHJpdi0+YXRvbWljX2hlbHBlci5mcmVlX3dvcmssCiAJCSAgaW50ZWxfYXRvbWljX2hl
bHBlcl9mcmVlX3N0YXRlX3dvcmtlcik7CisJSU5JVF9ERUxBWUVEX1dPUksoJmRldl9wcml2LT5j
c3IuaWRsZV93b3JrLCB0Z2xfZGM1X2lkbGVfdGhyZWFkKTsKIAogCWludGVsX2luaXRfcXVpcmtz
KGRldl9wcml2KTsKIApAQCAtMTcwNzcsNiArMTcwNzgsNyBAQCB2b2lkIGludGVsX21vZGVzZXRf
ZHJpdmVyX3JlbW92ZShzdHJ1Y3QgZHJtX2RldmljZSAqZGV2KQogCWZsdXNoX3dvcmtxdWV1ZShk
ZXZfcHJpdi0+bW9kZXNldF93cSk7CiAKIAlmbHVzaF93b3JrKCZkZXZfcHJpdi0+YXRvbWljX2hl
bHBlci5mcmVlX3dvcmspOworCWZsdXNoX2RlbGF5ZWRfd29yaygmZGV2X3ByaXYtPmNzci5pZGxl
X3dvcmspOwogCVdBUk5fT04oIWxsaXN0X2VtcHR5KCZkZXZfcHJpdi0+YXRvbWljX2hlbHBlci5m
cmVlX2xpc3QpKTsKIAogCS8qCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNw
bGF5L2ludGVsX2Rpc3BsYXlfcG93ZXIuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkv
aW50ZWxfZGlzcGxheV9wb3dlci5jCmluZGV4IGZlMGE2ODFkOGM0ZC4uNGZjZDdkNzFkYjY1IDEw
MDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXlfcG93
ZXIuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXlfcG93
ZXIuYwpAQCAtMjAsNiArMjAsNyBAQAogI2luY2x1ZGUgImludGVsX3NpZGViYW5kLmgiCiAjaW5j
bHVkZSAiaW50ZWxfdGMuaCIKICNpbmNsdWRlICJpbnRlbF9wbS5oIgorI2luY2x1ZGUgImludGVs
X3Bzci5oIgogCiBib29sIGludGVsX2Rpc3BsYXlfcG93ZXJfd2VsbF9pc19lbmFibGVkKHN0cnVj
dCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiwKIAkJCQkJIGVudW0gaTkxNV9wb3dlcl93ZWxs
X2lkIHBvd2VyX3dlbGxfaWQpOwpAQCAtNzczLDYgKzc3NCwyNyBAQCBzdGF0aWMgdm9pZCBnZW45
X3NldF9kY19zdGF0ZShzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYsIHUzMiBzdGF0
ZSkKIAlkZXZfcHJpdi0+Y3NyLmRjX3N0YXRlID0gdmFsICYgbWFzazsKIH0KIAorc3RhdGljIHUz
MiBpbnRlbF9nZXRfZnJhbWVfdGltZV91cyhjb25zdCBzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAq
Y3N0YXRlKQoreworCXUzMiBwaXhlbF9yYXRlLCBjcnRjX2h0b3RhbCwgY3J0Y192dG90YWw7CisJ
dTMyIGZyYW1ldGltZV91czsKKworCWlmICghY3N0YXRlIHx8ICFjc3RhdGUtPmJhc2UuYWN0aXZl
KQorCQlyZXR1cm4gMDsKKworCXBpeGVsX3JhdGUgPSBjc3RhdGUtPnBpeGVsX3JhdGU7CisKKwlp
ZiAoV0FSTl9PTihwaXhlbF9yYXRlID09IDApKQorCQlyZXR1cm4gMDsKKworCWNydGNfaHRvdGFs
ID0gY3N0YXRlLT5iYXNlLmFkanVzdGVkX21vZGUuY3J0Y19odG90YWw7CisJY3J0Y192dG90YWwg
PSBjc3RhdGUtPmJhc2UuYWRqdXN0ZWRfbW9kZS5jcnRjX3Z0b3RhbDsKKwlmcmFtZXRpbWVfdXMg
PSBESVZfUk9VTkRfVVAoY3J0Y19odG90YWwgKiBjcnRjX3Z0b3RhbCAqIDEwMDBVTEwsCisJCQkJ
ICAgIHBpeGVsX3JhdGUpOworCisJcmV0dXJuIGZyYW1ldGltZV91czsKK30KKwogdm9pZCB0Z2xf
ZW5hYmxlX3BzcjJfdHJhbnNjb2Rlcl9leGl0bGluZShjb25zdCBzdHJ1Y3QgaW50ZWxfY3J0Y19z
dGF0ZSAqY3N0YXRlKQogewogCXUzMiBsaW5ldGltZV91cywgdmFsLCBleGl0X3NjYW5saW5lczsK
QEAgLTgwMSw2ICs4MjMsNTAgQEAgdm9pZCB0Z2xfZW5hYmxlX3BzcjJfdHJhbnNjb2Rlcl9leGl0
bGluZShjb25zdCBzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqY3N0YXRlKQogCUk5MTVfV1JJVEUo
RVhJVExJTkUoY3N0YXRlLT5jcHVfdHJhbnNjb2RlciksIHZhbCk7CiB9CiAKK3ZvaWQgdGdsX2Rj
M2NvX2ZsdXNoKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiwKKwkJICAgICB1bnNp
Z25lZCBpbnQgZnJvbnRidWZmZXJfYml0cywgZW51bSBmYl9vcF9vcmlnaW4gb3JpZ2luKQorewor
CXN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpjc3RhdGU7CisJdTMyIGRlbGF5OworCXVuc2lnbmVk
IGludCBidXN5X2Zyb250YnVmZmVyX2JpdHM7CisKKwlpZiAoIUlTX1RJR0VSTEFLRShkZXZfcHJp
dikpCisJCXJldHVybjsKKworCWlmIChvcmlnaW4gIT0gT1JJR0lOX0ZMSVApCisJCXJldHVybjsK
KworCWlmICghZGV2X3ByaXYtPmNzci5kYzNjb19jcnRjKQorCQlyZXR1cm47CisKKwljc3RhdGUg
PSB0b19pbnRlbF9jcnRjX3N0YXRlKGRldl9wcml2LT5jc3IuZGMzY29fY3J0Yy0+YmFzZS5zdGF0
ZSk7CisJZnJvbnRidWZmZXJfYml0cyAmPQorCQlJTlRFTF9GUk9OVEJVRkZFUl9BTExfTUFTSyhk
ZXZfcHJpdi0+Y3NyLmRjM2NvX2NydGMtPnBpcGUpOworCWJ1c3lfZnJvbnRidWZmZXJfYml0cyAm
PSB+ZnJvbnRidWZmZXJfYml0czsKKworCW11dGV4X2xvY2soJmRldl9wcml2LT5wc3IubG9jayk7
CisKKwlpZiAoIWRldl9wcml2LT5wc3IucHNyMl9lbmFibGVkIHx8ICFkZXZfcHJpdi0+cHNyLmFj
dGl2ZSkKKwkJZ290byB1bmxvY2s7CisKKwkvKgorCSAqIEF0IGV2ZXJ5IGZsaXAgZnJvbnRidWZm
ZXIgZmx1c2ggZmlyc3QgY2FuY2VsIHRoZSBkZWxheWVkIHdvcmssCisJICogd2hlbiBkZWxheWVk
IHNjaGVkdWxlcyB0aGF0IG1lYW5zIGRpc3BsYXkgaGFzIGJlZW4gaWRsZQorCSAqIGZvciB0aGUg
NiBpZGxlIGZyYW1lLgorCSAqLworCWlmICghYnVzeV9mcm9udGJ1ZmZlcl9iaXRzKSB7CisJCWNh
bmNlbF9kZWxheWVkX3dvcmsoJmRldl9wcml2LT5jc3IuaWRsZV93b3JrKTsKKwkJdGdsX3BzcjJf
ZGVlcF9zbGVlcF9kaXNhYmxlKGRldl9wcml2KTsKKwkJdGdsX3NldF90YXJnZXRfZGNfc3RhdGUo
ZGV2X3ByaXYsIERDX1NUQVRFX0VOX0RDM0NPKTsKKwkJZGVsYXkgPSBEQzVfUkVRX0lETEVfRlJB
TUVTICogaW50ZWxfZ2V0X2ZyYW1lX3RpbWVfdXMoY3N0YXRlKTsKKwkJc2NoZWR1bGVfZGVsYXll
ZF93b3JrKCZkZXZfcHJpdi0+Y3NyLmlkbGVfd29yaywKKwkJCQkgICAgICB1c2Vjc190b19qaWZm
aWVzKGRlbGF5KSk7CisJfQorCit1bmxvY2s6CisJbXV0ZXhfdW5sb2NrKCZkZXZfcHJpdi0+cHNy
LmxvY2spOworfQorCiBzdGF0aWMgYm9vbCB0Z2xfZGMzY29faXNfZWRwX2Nvbm5lY3RlZChzdHJ1
Y3QgaW50ZWxfY3J0Y19zdGF0ZSAgKmNydGNfc3RhdGUpCiB7CiAJc3RydWN0IGRybV9hdG9taWNf
c3RhdGUgKnN0YXRlID0gY3J0Y19zdGF0ZS0+YmFzZS5zdGF0ZTsKQEAgLTg1MSw2ICs5MTcsMTUg
QEAgdm9pZCB0Z2xfZGMzY29fY3J0Y19tb2Rlc2V0X2NoZWNrKHN0cnVjdCBkcm1faTkxNV9wcml2
YXRlICpkZXZfcHJpdiwKIAl9CiB9CiAKK3ZvaWQgdGdsX2RjNV9pZGxlX3RocmVhZChzdHJ1Y3Qg
d29ya19zdHJ1Y3QgKndvcmspCit7CisJc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2
ID0KKwkJY29udGFpbmVyX29mKHdvcmssIHR5cGVvZigqZGV2X3ByaXYpLCBjc3IuaWRsZV93b3Jr
LndvcmspOworCisJdGdsX3NldF90YXJnZXRfZGNfc3RhdGUoZGV2X3ByaXYsIERDX1NUQVRFX0VO
X1VQVE9fREM2KTsKKwl0Z2xfcHNyMl9kZWVwX3NsZWVwX2VuYWJsZShkZXZfcHJpdik7Cit9CisK
IHN0YXRpYyB2b2lkIHRnbF9hbGxvd19kYzNjbyhzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2
X3ByaXYpCiB7CiAJaWYgKCFkZXZfcHJpdi0+cHNyLnNpbmtfcHNyMl9zdXBwb3J0KQpkaWZmIC0t
Z2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5X3Bvd2VyLmgg
Yi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXlfcG93ZXIuaAppbmRl
eCA2M2Y0NzI5Y2Y1ZmMuLjVkYWQ0MGMwNzAxNiAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJt
L2k5MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5X3Bvd2VyLmgKKysrIGIvZHJpdmVycy9ncHUvZHJt
L2k5MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5X3Bvd2VyLmgKQEAgLTksNiArOSw5IEBACiAjaW5j
bHVkZSAiaW50ZWxfZGlzcGxheS5oIgogI2luY2x1ZGUgImludGVsX3J1bnRpbWVfcG0uaCIKICNp
bmNsdWRlICJpOTE1X3JlZy5oIgorI2luY2x1ZGUgImludGVsX2Zyb250YnVmZmVyLmgiCisKKyNk
ZWZpbmUgREM1X1JFUV9JRExFX0ZSQU1FUwk2CiAKIHN0cnVjdCBkcm1faTkxNV9wcml2YXRlOwog
c3RydWN0IGludGVsX2VuY29kZXI7CkBAIC0yNTksMTAgKzI2MiwxNCBAQCB2b2lkIGludGVsX2Rp
c3BsYXlfcG93ZXJfc3VzcGVuZF9sYXRlKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICppOTE1KTsK
IHZvaWQgaW50ZWxfZGlzcGxheV9wb3dlcl9yZXN1bWVfZWFybHkoc3RydWN0IGRybV9pOTE1X3By
aXZhdGUgKmk5MTUpOwogdm9pZCBpbnRlbF9kaXNwbGF5X3Bvd2VyX3N1c3BlbmQoc3RydWN0IGRy
bV9pOTE1X3ByaXZhdGUgKmk5MTUpOwogdm9pZCBpbnRlbF9kaXNwbGF5X3Bvd2VyX3Jlc3VtZShz
dHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSk7CisKIHZvaWQgdGdsX3NldF90YXJnZXRfZGNf
c3RhdGUoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2LCB1MzIgc3RhdGUpOwogdm9p
ZCB0Z2xfZGMzY29fY3J0Y19tb2Rlc2V0X2NoZWNrKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpk
ZXZfcHJpdiwKIAkJCQkgIHN0cnVjdCBpbnRlbF9hdG9taWNfc3RhdGUgKnN0YXRlKTsKIHZvaWQg
dGdsX2VuYWJsZV9wc3IyX3RyYW5zY29kZXJfZXhpdGxpbmUoY29uc3Qgc3RydWN0IGludGVsX2Ny
dGNfc3RhdGUgKmNzdGF0ZSk7Cit2b2lkIHRnbF9kYzVfaWRsZV90aHJlYWQoc3RydWN0IHdvcmtf
c3RydWN0ICp3b3JrKTsKK3ZvaWQgdGdsX2RjM2NvX2ZsdXNoKHN0cnVjdCBkcm1faTkxNV9wcml2
YXRlICpkZXZfcHJpdiwKKwkJICAgICB1bnNpZ25lZCBpbnQgZnJvbnRidWZmZXJfYml0cywgZW51
bSBmYl9vcF9vcmlnaW4gb3JpZ2luKTsKIAogY29uc3QgY2hhciAqCiBpbnRlbF9kaXNwbGF5X3Bv
d2VyX2RvbWFpbl9zdHIoZW51bSBpbnRlbF9kaXNwbGF5X3Bvd2VyX2RvbWFpbiBkb21haW4pOwpk
aWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9mcm9udGJ1ZmZl
ci5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9mcm9udGJ1ZmZlci5jCmlu
ZGV4IDcxOTM3OTc3NGZhNS4uNGZmMWQwMDBkOTk0IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9k
cm0vaTkxNS9kaXNwbGF5L2ludGVsX2Zyb250YnVmZmVyLmMKKysrIGIvZHJpdmVycy9ncHUvZHJt
L2k5MTUvZGlzcGxheS9pbnRlbF9mcm9udGJ1ZmZlci5jCkBAIC05MCw2ICs5MCw3IEBAIHN0YXRp
YyB2b2lkIGZyb250YnVmZmVyX2ZsdXNoKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICppOTE1LAog
CW1pZ2h0X3NsZWVwKCk7CiAJaW50ZWxfZWRwX2RycnNfZmx1c2goaTkxNSwgZnJvbnRidWZmZXJf
Yml0cyk7CiAJaW50ZWxfcHNyX2ZsdXNoKGk5MTUsIGZyb250YnVmZmVyX2JpdHMsIG9yaWdpbik7
CisJdGdsX2RjM2NvX2ZsdXNoKGk5MTUsIGZyb250YnVmZmVyX2JpdHMsIG9yaWdpbik7CiAJaW50
ZWxfZmJjX2ZsdXNoKGk5MTUsIGZyb250YnVmZmVyX2JpdHMsIG9yaWdpbik7CiB9CiAKZGlmZiAt
LWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfcHNyLmMgYi9kcml2ZXJz
L2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX3Bzci5jCmluZGV4IDAwOTg0NjVlZjU3My4uY2Zh
NGYzMDZhZjdlIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVs
X3Bzci5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfcHNyLmMKQEAg
LTU4Myw2ICs1ODMsNyBAQCB2b2lkIHRnbF9wc3IyX2RlZXBfc2xlZXBfZW5hYmxlKHN0cnVjdCBk
cm1faTkxNV9wcml2YXRlICpkZXZfcHJpdikKIAogc3RhdGljIHZvaWQgdGdsX2Rpc2FsbG93X2Rj
M2NvX29uX3BzcjJfZXhpdChzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYpCiB7CisJ
Y2FuY2VsX2RlbGF5ZWRfd29yaygmZGV2X3ByaXYtPmNzci5pZGxlX3dvcmspOwogCS8qIEJlZm9y
ZSBQU1IyIGV4aXQgZGlzYWxsb3cgZGMzY28qLwogCXRnbF9zZXRfdGFyZ2V0X2RjX3N0YXRlKGRl
dl9wcml2LCBEQ19TVEFURV9FTl9VUFRPX0RDNik7CiB9CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dw
dS9kcm0vaTkxNS9pOTE1X2Rydi5oIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kcnYuaApp
bmRleCAzNGU2NTM2MTY2YTguLmFmZWJiZDkxMTNlZiAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUv
ZHJtL2k5MTUvaTkxNV9kcnYuaAorKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2Rydi5o
CkBAIC0zMzcsNiArMzM3LDcgQEAgc3RydWN0IGludGVsX2NzciB7CiAJdTMyIGRjX3N0YXRlOwog
CXUzMiBtYXhfZGNfc3RhdGU7CiAJdTMyIGFsbG93ZWRfZGNfbWFzazsKKwlzdHJ1Y3QgZGVsYXll
ZF93b3JrIGlkbGVfd29yazsKIAlpbnRlbF93YWtlcmVmX3Qgd2FrZXJlZjsKIAkvKiBjYWNoZSB0
aGUgY3J0YyBvbiB3aGljaCBEQzNDTyB3aWxsIGJlIGFsbG93ZWQgKi8KIAlzdHJ1Y3QgaW50ZWxf
Y3J0YyAqZGMzY29fY3J0YzsKLS0gCjIuMjEuMAoKX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX18KSW50ZWwtZ2Z4IG1haWxpbmcgbGlzdApJbnRlbC1nZnhAbGlz
dHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4v
bGlzdGluZm8vaW50ZWwtZ2Z4

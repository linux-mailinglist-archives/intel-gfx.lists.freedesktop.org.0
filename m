Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id A6D7498147
	for <lists+intel-gfx@lfdr.de>; Wed, 21 Aug 2019 19:30:46 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id D3F8C6E362;
	Wed, 21 Aug 2019 17:30:44 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga05.intel.com (mga05.intel.com [192.55.52.43])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 60B876E362
 for <intel-gfx@lists.freedesktop.org>; Wed, 21 Aug 2019 17:30:42 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from fmsmga008.fm.intel.com ([10.253.24.58])
 by fmsmga105.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 21 Aug 2019 10:30:42 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.64,412,1559545200"; d="scan'208";a="178566295"
Received: from stinkbox.fi.intel.com (HELO stinkbox) ([10.237.72.174])
 by fmsmga008.fm.intel.com with SMTP; 21 Aug 2019 10:30:40 -0700
Received: by stinkbox (sSMTP sendmail emulation);
 Wed, 21 Aug 2019 20:30:39 +0300
From: Ville Syrjala <ville.syrjala@linux.intel.com>
To: intel-gfx@lists.freedesktop.org
Date: Wed, 21 Aug 2019 20:30:31 +0300
Message-Id: <20190821173033.24123-3-ville.syrjala@linux.intel.com>
X-Mailer: git-send-email 2.21.0
In-Reply-To: <20190821173033.24123-1-ville.syrjala@linux.intel.com>
References: <20190821173033.24123-1-ville.syrjala@linux.intel.com>
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH 3/5] drm/i915: Use enum pipe consistently
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

RnJvbTogVmlsbGUgU3lyasOkbMOkIDx2aWxsZS5zeXJqYWxhQGxpbnV4LmludGVsLmNvbT4KClJl
cGxhY2UgYWxsICJpbnQgcGlwZSJzIHdpdGggImVudW0gcGlwZSBwaXBlInMgdG8gbWFrZSBpdCBj
bGVhcgp3aGF0IHdlJ3JlIGRlYWxpbmcgd2l0aC4KClNpZ25lZC1vZmYtYnk6IFZpbGxlIFN5cmrD
pGzDpCA8dmlsbGUuc3lyamFsYUBsaW51eC5pbnRlbC5jb20+Ci0tLQogZHJpdmVycy9ncHUvZHJt
L2k5MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5LmMgIHwgNDIgKysrKysrKysrLS0tLS0tLS0tLQog
Li4uL2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheV90eXBlcy5oICAgIHwgIDIgKy0KIGRy
aXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZHZvLmMgICAgICB8ICAyICstCiBkcml2
ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2x2ZHMuYyAgICAgfCAgMiArLQogZHJpdmVy
cy9ncHUvZHJtL2k5MTUvZGlzcGxheS92bHZfZHNpLmMgICAgICAgIHwgIDIgKy0KIGRyaXZlcnMv
Z3B1L2RybS9pOTE1L2k5MTVfZGVidWdmcy5jICAgICAgICAgICB8ICAyICstCiBkcml2ZXJzL2dw
dS9kcm0vaTkxNS9pOTE1X2lycS5jICAgICAgICAgICAgICAgfCAxMSArKy0tLQogZHJpdmVycy9n
cHUvZHJtL2k5MTUvaW50ZWxfcG0uYyAgICAgICAgICAgICAgIHwgIDIgKy0KIDggZmlsZXMgY2hh
bmdlZCwgMzMgaW5zZXJ0aW9ucygrKSwgMzIgZGVsZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEvZHJp
dmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5LmMgYi9kcml2ZXJzL2dwdS9k
cm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXkuYwppbmRleCA3Yjc0ZGYwM2ExZWYuLmVhMjkx
NWRkZTZhYiAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9k
aXNwbGF5LmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5
LmMKQEAgLTQ5MCw3ICs0OTAsNyBAQCBzdGF0aWMgY29uc3Qgc3RydWN0IGludGVsX2xpbWl0IGlu
dGVsX2xpbWl0c19ieHQgPSB7CiAKIC8qIFdBIERpc3BsYXkgIzA4Mjc6IEdlbjk6YWxsICovCiBz
dGF0aWMgdm9pZAotc2tsX3dhXzgyNyhzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYs
IGludCBwaXBlLCBib29sIGVuYWJsZSkKK3NrbF93YV84Mjcoc3RydWN0IGRybV9pOTE1X3ByaXZh
dGUgKmRldl9wcml2LCBlbnVtIHBpcGUgcGlwZSwgYm9vbCBlbmFibGUpCiB7CiAJaWYgKGVuYWJs
ZSkKIAkJSTkxNV9XUklURShDTEtHQVRFX0RJU19QU0wocGlwZSksCkBAIC00NDIxLDcgKzQ0MjEs
NyBAQCBzdGF0aWMgdm9pZCBpbnRlbF9mZGlfbm9ybWFsX3RyYWluKHN0cnVjdCBpbnRlbF9jcnRj
ICpjcnRjKQogewogCXN0cnVjdCBkcm1fZGV2aWNlICpkZXYgPSBjcnRjLT5iYXNlLmRldjsKIAlz
dHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYgPSB0b19pOTE1KGRldik7Ci0JaW50IHBp
cGUgPSBjcnRjLT5waXBlOworCWVudW0gcGlwZSBwaXBlID0gY3J0Yy0+cGlwZTsKIAlpOTE1X3Jl
Z190IHJlZzsKIAl1MzIgdGVtcDsKIApAQCAtNDQ2NCw3ICs0NDY0LDcgQEAgc3RhdGljIHZvaWQg
aXJvbmxha2VfZmRpX2xpbmtfdHJhaW4oc3RydWN0IGludGVsX2NydGMgKmNydGMsCiB7CiAJc3Ry
dWN0IGRybV9kZXZpY2UgKmRldiA9IGNydGMtPmJhc2UuZGV2OwogCXN0cnVjdCBkcm1faTkxNV9w
cml2YXRlICpkZXZfcHJpdiA9IHRvX2k5MTUoZGV2KTsKLQlpbnQgcGlwZSA9IGNydGMtPnBpcGU7
CisJZW51bSBwaXBlIHBpcGUgPSBjcnRjLT5waXBlOwogCWk5MTVfcmVnX3QgcmVnOwogCXUzMiB0
ZW1wLCB0cmllczsKIApAQCAtNDU2NSw3ICs0NTY1LDcgQEAgc3RhdGljIHZvaWQgZ2VuNl9mZGlf
bGlua190cmFpbihzdHJ1Y3QgaW50ZWxfY3J0YyAqY3J0YywKIHsKIAlzdHJ1Y3QgZHJtX2Rldmlj
ZSAqZGV2ID0gY3J0Yy0+YmFzZS5kZXY7CiAJc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9w
cml2ID0gdG9faTkxNShkZXYpOwotCWludCBwaXBlID0gY3J0Yy0+cGlwZTsKKwllbnVtIHBpcGUg
cGlwZSA9IGNydGMtPnBpcGU7CiAJaTkxNV9yZWdfdCByZWc7CiAJdTMyIHRlbXAsIGksIHJldHJ5
OwogCkBAIC00Njk4LDcgKzQ2OTgsNyBAQCBzdGF0aWMgdm9pZCBpdmJfbWFudWFsX2ZkaV9saW5r
X3RyYWluKHN0cnVjdCBpbnRlbF9jcnRjICpjcnRjLAogewogCXN0cnVjdCBkcm1fZGV2aWNlICpk
ZXYgPSBjcnRjLT5iYXNlLmRldjsKIAlzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYg
PSB0b19pOTE1KGRldik7Ci0JaW50IHBpcGUgPSBjcnRjLT5waXBlOworCWVudW0gcGlwZSBwaXBl
ID0gY3J0Yy0+cGlwZTsKIAlpOTE1X3JlZ190IHJlZzsKIAl1MzIgdGVtcCwgaSwgajsKIApAQCAt
NDgxNiw3ICs0ODE2LDcgQEAgc3RhdGljIHZvaWQgaXJvbmxha2VfZmRpX3BsbF9lbmFibGUoY29u
c3Qgc3RydWN0IGludGVsX2NydGNfc3RhdGUgKmNydGNfc3RhdGUpCiB7CiAJc3RydWN0IGludGVs
X2NydGMgKmludGVsX2NydGMgPSB0b19pbnRlbF9jcnRjKGNydGNfc3RhdGUtPmJhc2UuY3J0Yyk7
CiAJc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2ID0gdG9faTkxNShpbnRlbF9jcnRj
LT5iYXNlLmRldik7Ci0JaW50IHBpcGUgPSBpbnRlbF9jcnRjLT5waXBlOworCWVudW0gcGlwZSBw
aXBlID0gaW50ZWxfY3J0Yy0+cGlwZTsKIAlpOTE1X3JlZ190IHJlZzsKIAl1MzIgdGVtcDsKIApA
QCAtNDg1Myw3ICs0ODUzLDcgQEAgc3RhdGljIHZvaWQgaXJvbmxha2VfZmRpX3BsbF9kaXNhYmxl
KHN0cnVjdCBpbnRlbF9jcnRjICppbnRlbF9jcnRjKQogewogCXN0cnVjdCBkcm1fZGV2aWNlICpk
ZXYgPSBpbnRlbF9jcnRjLT5iYXNlLmRldjsKIAlzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2
X3ByaXYgPSB0b19pOTE1KGRldik7Ci0JaW50IHBpcGUgPSBpbnRlbF9jcnRjLT5waXBlOworCWVu
dW0gcGlwZSBwaXBlID0gaW50ZWxfY3J0Yy0+cGlwZTsKIAlpOTE1X3JlZ190IHJlZzsKIAl1MzIg
dGVtcDsKIApAQCAtNDg4NCw3ICs0ODg0LDcgQEAgc3RhdGljIHZvaWQgaXJvbmxha2VfZmRpX2Rp
c2FibGUoc3RydWN0IGRybV9jcnRjICpjcnRjKQogCXN0cnVjdCBkcm1fZGV2aWNlICpkZXYgPSBj
cnRjLT5kZXY7CiAJc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2ID0gdG9faTkxNShk
ZXYpOwogCXN0cnVjdCBpbnRlbF9jcnRjICppbnRlbF9jcnRjID0gdG9faW50ZWxfY3J0YyhjcnRj
KTsKLQlpbnQgcGlwZSA9IGludGVsX2NydGMtPnBpcGU7CisJZW51bSBwaXBlIHBpcGUgPSBpbnRl
bF9jcnRjLT5waXBlOwogCWk5MTVfcmVnX3QgcmVnOwogCXUzMiB0ZW1wOwogCkBAIC01MTk5LDcg
KzUxOTksNyBAQCBzdGF0aWMgdm9pZCBpcm9ubGFrZV9wY2hfZW5hYmxlKGNvbnN0IHN0cnVjdCBp
bnRlbF9hdG9taWNfc3RhdGUgKnN0YXRlLAogCXN0cnVjdCBpbnRlbF9jcnRjICpjcnRjID0gdG9f
aW50ZWxfY3J0YyhjcnRjX3N0YXRlLT5iYXNlLmNydGMpOwogCXN0cnVjdCBkcm1fZGV2aWNlICpk
ZXYgPSBjcnRjLT5iYXNlLmRldjsKIAlzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYg
PSB0b19pOTE1KGRldik7Ci0JaW50IHBpcGUgPSBjcnRjLT5waXBlOworCWVudW0gcGlwZSBwaXBl
ID0gY3J0Yy0+cGlwZTsKIAl1MzIgdGVtcDsKIAogCWFzc2VydF9wY2hfdHJhbnNjb2Rlcl9kaXNh
YmxlZChkZXZfcHJpdiwgcGlwZSk7CkBAIC01Mjk0LDcgKzUyOTQsNyBAQCBzdGF0aWMgdm9pZCBs
cHRfcGNoX2VuYWJsZShjb25zdCBzdHJ1Y3QgaW50ZWxfYXRvbWljX3N0YXRlICpzdGF0ZSwKIAls
cHRfZW5hYmxlX3BjaF90cmFuc2NvZGVyKGRldl9wcml2LCBjcHVfdHJhbnNjb2Rlcik7CiB9CiAK
LXN0YXRpYyB2b2lkIGNwdF92ZXJpZnlfbW9kZXNldChzdHJ1Y3QgZHJtX2RldmljZSAqZGV2LCBp
bnQgcGlwZSkKK3N0YXRpYyB2b2lkIGNwdF92ZXJpZnlfbW9kZXNldChzdHJ1Y3QgZHJtX2Rldmlj
ZSAqZGV2LCBlbnVtIHBpcGUgcGlwZSkKIHsKIAlzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2
X3ByaXYgPSB0b19pOTE1KGRldik7CiAJaTkxNV9yZWdfdCBkc2xyZWcgPSBQSVBFRFNMKHBpcGUp
OwpAQCAtNTYzMyw3ICs1NjMzLDcgQEAgc3RhdGljIHZvaWQgaXJvbmxha2VfcGZpdF9lbmFibGUo
Y29uc3Qgc3RydWN0IGludGVsX2NydGNfc3RhdGUgKmNydGNfc3RhdGUpCiB7CiAJc3RydWN0IGlu
dGVsX2NydGMgKmNydGMgPSB0b19pbnRlbF9jcnRjKGNydGNfc3RhdGUtPmJhc2UuY3J0Yyk7CiAJ
c3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2ID0gdG9faTkxNShjcnRjLT5iYXNlLmRl
dik7Ci0JaW50IHBpcGUgPSBjcnRjLT5waXBlOworCWVudW0gcGlwZSBwaXBlID0gY3J0Yy0+cGlw
ZTsKIAogCWlmIChjcnRjX3N0YXRlLT5wY2hfcGZpdC5lbmFibGVkKSB7CiAJCS8qIEZvcmNlIHVz
ZSBvZiBoYXJkLWNvZGVkIGZpbHRlciBjb2VmZmljaWVudHMKQEAgLTU3NDYsNyArNTc0Niw3IEBA
IGludGVsX3Bvc3RfZW5hYmxlX3ByaW1hcnkoc3RydWN0IGRybV9jcnRjICpjcnRjLAogCXN0cnVj
dCBkcm1fZGV2aWNlICpkZXYgPSBjcnRjLT5kZXY7CiAJc3RydWN0IGRybV9pOTE1X3ByaXZhdGUg
KmRldl9wcml2ID0gdG9faTkxNShkZXYpOwogCXN0cnVjdCBpbnRlbF9jcnRjICppbnRlbF9jcnRj
ID0gdG9faW50ZWxfY3J0YyhjcnRjKTsKLQlpbnQgcGlwZSA9IGludGVsX2NydGMtPnBpcGU7CisJ
ZW51bSBwaXBlIHBpcGUgPSBpbnRlbF9jcnRjLT5waXBlOwogCiAJLyoKIAkgKiBHZW4yIHJlcG9y
dHMgcGlwZSB1bmRlcnJ1bnMgd2hlbmV2ZXIgYWxsIHBsYW5lcyBhcmUgZGlzYWJsZWQuCkBAIC01
NzcwLDcgKzU3NzAsNyBAQCBpbnRlbF9wcmVfZGlzYWJsZV9wcmltYXJ5X25vYXRvbWljKHN0cnVj
dCBkcm1fY3J0YyAqY3J0YykKIAlzdHJ1Y3QgZHJtX2RldmljZSAqZGV2ID0gY3J0Yy0+ZGV2Owog
CXN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiA9IHRvX2k5MTUoZGV2KTsKIAlzdHJ1
Y3QgaW50ZWxfY3J0YyAqaW50ZWxfY3J0YyA9IHRvX2ludGVsX2NydGMoY3J0Yyk7Ci0JaW50IHBp
cGUgPSBpbnRlbF9jcnRjLT5waXBlOworCWVudW0gcGlwZSBwaXBlID0gaW50ZWxfY3J0Yy0+cGlw
ZTsKIAogCS8qCiAJICogR2VuMiByZXBvcnRzIHBpcGUgdW5kZXJydW5zIHdoZW5ldmVyIGFsbCBw
bGFuZXMgYXJlIGRpc2FibGVkLgpAQCAtNjI5Myw3ICs2MjkzLDcgQEAgc3RhdGljIHZvaWQgaXJv
bmxha2VfY3J0Y19lbmFibGUoc3RydWN0IGludGVsX2NydGNfc3RhdGUgKnBpcGVfY29uZmlnLAog
CXN0cnVjdCBkcm1fZGV2aWNlICpkZXYgPSBjcnRjLT5kZXY7CiAJc3RydWN0IGRybV9pOTE1X3By
aXZhdGUgKmRldl9wcml2ID0gdG9faTkxNShkZXYpOwogCXN0cnVjdCBpbnRlbF9jcnRjICppbnRl
bF9jcnRjID0gdG9faW50ZWxfY3J0YyhjcnRjKTsKLQlpbnQgcGlwZSA9IGludGVsX2NydGMtPnBp
cGU7CisJZW51bSBwaXBlIHBpcGUgPSBpbnRlbF9jcnRjLT5waXBlOwogCiAJaWYgKFdBUk5fT04o
aW50ZWxfY3J0Yy0+YWN0aXZlKSkKIAkJcmV0dXJuOwpAQCAtNjQyNiw3ICs2NDI2LDcgQEAgc3Rh
dGljIHZvaWQgaGFzd2VsbF9jcnRjX2VuYWJsZShzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqcGlw
ZV9jb25maWcsCiAJc3RydWN0IGRybV9jcnRjICpjcnRjID0gcGlwZV9jb25maWctPmJhc2UuY3J0
YzsKIAlzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYgPSB0b19pOTE1KGNydGMtPmRl
dik7CiAJc3RydWN0IGludGVsX2NydGMgKmludGVsX2NydGMgPSB0b19pbnRlbF9jcnRjKGNydGMp
OwotCWludCBwaXBlID0gaW50ZWxfY3J0Yy0+cGlwZSwgaHN3X3dvcmthcm91bmRfcGlwZTsKKwll
bnVtIHBpcGUgcGlwZSA9IGludGVsX2NydGMtPnBpcGUsIGhzd193b3JrYXJvdW5kX3BpcGU7CiAJ
ZW51bSB0cmFuc2NvZGVyIGNwdV90cmFuc2NvZGVyID0gcGlwZV9jb25maWctPmNwdV90cmFuc2Nv
ZGVyOwogCWJvb2wgcHNsX2Nsa2dhdGVfd2E7CiAKQEAgLTY1NTIsNyArNjU1Miw3IEBAIHN0YXRp
YyB2b2lkIGlyb25sYWtlX2NydGNfZGlzYWJsZShzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqb2xk
X2NydGNfc3RhdGUsCiAJc3RydWN0IGRybV9kZXZpY2UgKmRldiA9IGNydGMtPmRldjsKIAlzdHJ1
Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYgPSB0b19pOTE1KGRldik7CiAJc3RydWN0IGlu
dGVsX2NydGMgKmludGVsX2NydGMgPSB0b19pbnRlbF9jcnRjKGNydGMpOwotCWludCBwaXBlID0g
aW50ZWxfY3J0Yy0+cGlwZTsKKwllbnVtIHBpcGUgcGlwZSA9IGludGVsX2NydGMtPnBpcGU7CiAK
IAkvKgogCSAqIFNvbWV0aW1lcyBzcHVyaW91cyBDUFUgcGlwZSB1bmRlcnJ1bnMgaGFwcGVuIHdo
ZW4gdGhlCkBAIC02ODM5LDcgKzY4MzksNyBAQCBzdGF0aWMgdm9pZCB2YWxsZXl2aWV3X2NydGNf
ZW5hYmxlKHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpwaXBlX2NvbmZpZywKIAlzdHJ1Y3QgZHJt
X2RldmljZSAqZGV2ID0gY3J0Yy0+ZGV2OwogCXN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZf
cHJpdiA9IHRvX2k5MTUoZGV2KTsKIAlzdHJ1Y3QgaW50ZWxfY3J0YyAqaW50ZWxfY3J0YyA9IHRv
X2ludGVsX2NydGMoY3J0Yyk7Ci0JaW50IHBpcGUgPSBpbnRlbF9jcnRjLT5waXBlOworCWVudW0g
cGlwZSBwaXBlID0gaW50ZWxfY3J0Yy0+cGlwZTsKIAogCWlmIChXQVJOX09OKGludGVsX2NydGMt
PmFjdGl2ZSkpCiAJCXJldHVybjsKQEAgLTY5NzEsNyArNjk3MSw3IEBAIHN0YXRpYyB2b2lkIGk5
eHhfY3J0Y19kaXNhYmxlKHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpvbGRfY3J0Y19zdGF0ZSwK
IAlzdHJ1Y3QgZHJtX2RldmljZSAqZGV2ID0gY3J0Yy0+ZGV2OwogCXN0cnVjdCBkcm1faTkxNV9w
cml2YXRlICpkZXZfcHJpdiA9IHRvX2k5MTUoZGV2KTsKIAlzdHJ1Y3QgaW50ZWxfY3J0YyAqaW50
ZWxfY3J0YyA9IHRvX2ludGVsX2NydGMoY3J0Yyk7Ci0JaW50IHBpcGUgPSBpbnRlbF9jcnRjLT5w
aXBlOworCWVudW0gcGlwZSBwaXBlID0gaW50ZWxfY3J0Yy0+cGlwZTsKIAogCS8qCiAJICogT24g
Z2VuMiBwbGFuZXMgYXJlIGRvdWJsZSBidWZmZXJlZCBidXQgdGhlIHBpcGUgaXNuJ3QsIHNvIHdl
IG11c3QKQEAgLTg1NDMsNyArODU0Myw3IEBAIHN0YXRpYyB2b2lkIHZsdl9jcnRjX2Nsb2NrX2dl
dChzdHJ1Y3QgaW50ZWxfY3J0YyAqY3J0YywKIHsKIAlzdHJ1Y3QgZHJtX2RldmljZSAqZGV2ID0g
Y3J0Yy0+YmFzZS5kZXY7CiAJc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2ID0gdG9f
aTkxNShkZXYpOwotCWludCBwaXBlID0gcGlwZV9jb25maWctPmNwdV90cmFuc2NvZGVyOworCWVu
dW0gcGlwZSBwaXBlID0gY3J0Yy0+cGlwZTsKIAlzdHJ1Y3QgZHBsbCBjbG9jazsKIAl1MzIgbWRp
djsKIAlpbnQgcmVmY2xrID0gMTAwMDAwOwpAQCAtODY1Myw3ICs4NjUzLDcgQEAgc3RhdGljIHZv
aWQgY2h2X2NydGNfY2xvY2tfZ2V0KHN0cnVjdCBpbnRlbF9jcnRjICpjcnRjLAogewogCXN0cnVj
dCBkcm1fZGV2aWNlICpkZXYgPSBjcnRjLT5iYXNlLmRldjsKIAlzdHJ1Y3QgZHJtX2k5MTVfcHJp
dmF0ZSAqZGV2X3ByaXYgPSB0b19pOTE1KGRldik7Ci0JaW50IHBpcGUgPSBwaXBlX2NvbmZpZy0+
Y3B1X3RyYW5zY29kZXI7CisJZW51bSBwaXBlIHBpcGUgPSBjcnRjLT5waXBlOwogCWVudW0gZHBp
b19jaGFubmVsIHBvcnQgPSB2bHZfcGlwZV90b19jaGFubmVsKHBpcGUpOwogCXN0cnVjdCBkcGxs
IGNsb2NrOwogCXUzMiBjbW5fZHcxMywgcGxsX2R3MCwgcGxsX2R3MSwgcGxsX2R3MiwgcGxsX2R3
MzsKQEAgLTExMjY1LDcgKzExMjY1LDcgQEAgc3RhdGljIHZvaWQgaTl4eF9jcnRjX2Nsb2NrX2dl
dChzdHJ1Y3QgaW50ZWxfY3J0YyAqY3J0YywKIHsKIAlzdHJ1Y3QgZHJtX2RldmljZSAqZGV2ID0g
Y3J0Yy0+YmFzZS5kZXY7CiAJc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2ID0gdG9f
aTkxNShkZXYpOwotCWludCBwaXBlID0gcGlwZV9jb25maWctPmNwdV90cmFuc2NvZGVyOworCWVu
dW0gcGlwZSBwaXBlID0gY3J0Yy0+cGlwZTsKIAl1MzIgZHBsbCA9IHBpcGVfY29uZmlnLT5kcGxs
X2h3X3N0YXRlLmRwbGw7CiAJdTMyIGZwOwogCXN0cnVjdCBkcGxsIGNsb2NrOwpkaWZmIC0tZ2l0
IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5X3R5cGVzLmggYi9k
cml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXlfdHlwZXMuaAppbmRleCAx
MjUyMzQ1NjE0M2YuLjk2NTE0ZGNjNzgxMiAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5
MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5X3R5cGVzLmgKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5
MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5X3R5cGVzLmgKQEAgLTE1MDksNyArMTUwOSw3IEBAIGlu
dGVsX3dhaXRfZm9yX3ZibGFuayhzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYsIGVu
dW0gcGlwZSBwaXBlKQogCWRybV93YWl0X29uZV92YmxhbmsoJmRldl9wcml2LT5kcm0sIHBpcGUp
OwogfQogc3RhdGljIGlubGluZSB2b2lkCi1pbnRlbF93YWl0X2Zvcl92YmxhbmtfaWZfYWN0aXZl
KHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiwgaW50IHBpcGUpCitpbnRlbF93YWl0
X2Zvcl92YmxhbmtfaWZfYWN0aXZlKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiwg
ZW51bSBwaXBlIHBpcGUpCiB7CiAJY29uc3Qgc3RydWN0IGludGVsX2NydGMgKmNydGMgPSBpbnRl
bF9nZXRfY3J0Y19mb3JfcGlwZShkZXZfcHJpdiwgcGlwZSk7CiAKZGlmZiAtLWdpdCBhL2RyaXZl
cnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZHZvLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkx
NS9kaXNwbGF5L2ludGVsX2R2by5jCmluZGV4IDkzYmFmMzY2NjkyZS4uMzQxOTNkMDQ1OTdhIDEw
MDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2R2by5jCisrKyBi
L2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZHZvLmMKQEAgLTI4MCw3ICsyODAs
NyBAQCBzdGF0aWMgdm9pZCBpbnRlbF9kdm9fcHJlX2VuYWJsZShzdHJ1Y3QgaW50ZWxfZW5jb2Rl
ciAqZW5jb2RlciwKIAlzdHJ1Y3QgaW50ZWxfY3J0YyAqY3J0YyA9IHRvX2ludGVsX2NydGMocGlw
ZV9jb25maWctPmJhc2UuY3J0Yyk7CiAJY29uc3Qgc3RydWN0IGRybV9kaXNwbGF5X21vZGUgKmFk
anVzdGVkX21vZGUgPSAmcGlwZV9jb25maWctPmJhc2UuYWRqdXN0ZWRfbW9kZTsKIAlzdHJ1Y3Qg
aW50ZWxfZHZvICppbnRlbF9kdm8gPSBlbmNfdG9fZHZvKGVuY29kZXIpOwotCWludCBwaXBlID0g
Y3J0Yy0+cGlwZTsKKwllbnVtIHBpcGUgcGlwZSA9IGNydGMtPnBpcGU7CiAJdTMyIGR2b192YWw7
CiAJaTkxNV9yZWdfdCBkdm9fcmVnID0gaW50ZWxfZHZvLT5kZXYuZHZvX3JlZzsKIAlpOTE1X3Jl
Z190IGR2b19zcmNkaW1fcmVnID0gaW50ZWxfZHZvLT5kZXYuZHZvX3NyY2RpbV9yZWc7CmRpZmYg
LS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2x2ZHMuYyBiL2RyaXZl
cnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfbHZkcy5jCmluZGV4IGI3YzQ1OWE4OTMxYy4u
Yzc4NmFiZGMzMzM2IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2lu
dGVsX2x2ZHMuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2x2ZHMu
YwpAQCAtMjMyLDcgKzIzMiw3IEBAIHN0YXRpYyB2b2lkIGludGVsX3ByZV9lbmFibGVfbHZkcyhz
dHJ1Y3QgaW50ZWxfZW5jb2RlciAqZW5jb2RlciwKIAlzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAq
ZGV2X3ByaXYgPSB0b19pOTE1KGVuY29kZXItPmJhc2UuZGV2KTsKIAlzdHJ1Y3QgaW50ZWxfY3J0
YyAqY3J0YyA9IHRvX2ludGVsX2NydGMocGlwZV9jb25maWctPmJhc2UuY3J0Yyk7CiAJY29uc3Qg
c3RydWN0IGRybV9kaXNwbGF5X21vZGUgKmFkanVzdGVkX21vZGUgPSAmcGlwZV9jb25maWctPmJh
c2UuYWRqdXN0ZWRfbW9kZTsKLQlpbnQgcGlwZSA9IGNydGMtPnBpcGU7CisJZW51bSBwaXBlIHBp
cGUgPSBjcnRjLT5waXBlOwogCXUzMiB0ZW1wOwogCiAJaWYgKEhBU19QQ0hfU1BMSVQoZGV2X3By
aXYpKSB7CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L3Zsdl9kc2ku
YyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvdmx2X2RzaS5jCmluZGV4IGE3MWIyMmJk
ZDk1Yi4uNTAwNjRjZGUwNzI0IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNw
bGF5L3Zsdl9kc2kuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L3Zsdl9kc2ku
YwpAQCAtNzQ5LDcgKzc0OSw3IEBAIHN0YXRpYyB2b2lkIGludGVsX2RzaV9wcmVfZW5hYmxlKHN0
cnVjdCBpbnRlbF9lbmNvZGVyICplbmNvZGVyLAogCXN0cnVjdCBkcm1fY3J0YyAqY3J0YyA9IHBp
cGVfY29uZmlnLT5iYXNlLmNydGM7CiAJc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2
ID0gdG9faTkxNShjcnRjLT5kZXYpOwogCXN0cnVjdCBpbnRlbF9jcnRjICppbnRlbF9jcnRjID0g
dG9faW50ZWxfY3J0YyhjcnRjKTsKLQlpbnQgcGlwZSA9IGludGVsX2NydGMtPnBpcGU7CisJZW51
bSBwaXBlIHBpcGUgPSBpbnRlbF9jcnRjLT5waXBlOwogCWVudW0gcG9ydCBwb3J0OwogCXUzMiB2
YWw7CiAJYm9vbCBnbGtfY29sZF9ib290ID0gZmFsc2U7CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dw
dS9kcm0vaTkxNS9pOTE1X2RlYnVnZnMuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZGVi
dWdmcy5jCmluZGV4IGIzOTIyNmQ3ZjhkMi4uNDg4Mjc2ODUxYjhiIDEwMDY0NAotLS0gYS9kcml2
ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2RlYnVnZnMuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkx
NS9pOTE1X2RlYnVnZnMuYwpAQCAtMzc2LDcgKzM3Niw3IEBAIHN0YXRpYyBpbnQgaTkxNV9nZW1f
b2JqZWN0X2luZm8oc3RydWN0IHNlcV9maWxlICptLCB2b2lkICpkYXRhKQogc3RhdGljIHZvaWQg
Z2VuOF9kaXNwbGF5X2ludGVycnVwdF9pbmZvKHN0cnVjdCBzZXFfZmlsZSAqbSkKIHsKIAlzdHJ1
Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYgPSBub2RlX3RvX2k5MTUobS0+cHJpdmF0ZSk7
Ci0JaW50IHBpcGU7CisJZW51bSBwaXBlIHBpcGU7CiAKIAlmb3JfZWFjaF9waXBlKGRldl9wcml2
LCBwaXBlKSB7CiAJCWVudW0gaW50ZWxfZGlzcGxheV9wb3dlcl9kb21haW4gcG93ZXJfZG9tYWlu
OwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9pcnEuYyBiL2RyaXZlcnMv
Z3B1L2RybS9pOTE1L2k5MTVfaXJxLmMKaW5kZXggZmU2YTg3YTAwNTI3Li42YTgxN2Y3ZDkzNjgg
MTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfaXJxLmMKKysrIGIvZHJpdmVy
cy9ncHUvZHJtL2k5MTUvaTkxNV9pcnEuYwpAQCAtMTcxNiw3ICsxNzE2LDcgQEAgc3RhdGljIHZv
aWQgaTl4eF9waXBlc3RhdF9pcnFfcmVzZXQoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9w
cml2KQogc3RhdGljIHZvaWQgaTl4eF9waXBlc3RhdF9pcnFfYWNrKHN0cnVjdCBkcm1faTkxNV9w
cml2YXRlICpkZXZfcHJpdiwKIAkJCQkgIHUzMiBpaXIsIHUzMiBwaXBlX3N0YXRzW0k5MTVfTUFY
X1BJUEVTXSkKIHsKLQlpbnQgcGlwZTsKKwllbnVtIHBpcGUgcGlwZTsKIAogCXNwaW5fbG9jaygm
ZGV2X3ByaXYtPmlycV9sb2NrKTsKIApAQCAtMTc0MSw2ICsxNzQxLDcgQEAgc3RhdGljIHZvaWQg
aTl4eF9waXBlc3RhdF9pcnFfYWNrKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiwK
IAkJc3RhdHVzX21hc2sgPSBQSVBFX0ZJRk9fVU5ERVJSVU5fU1RBVFVTOwogCiAJCXN3aXRjaCAo
cGlwZSkgeworCQlkZWZhdWx0OgogCQljYXNlIFBJUEVfQToKIAkJCWlpcl9iaXQgPSBJOTE1X0RJ
U1BMQVlfUElQRV9BX0VWRU5UX0lOVEVSUlVQVDsKIAkJCWJyZWFrOwpAQCAtMjEzNiw3ICsyMTM3
LDcgQEAgc3RhdGljIHZvaWQgaWJ4X2hwZF9pcnFfaGFuZGxlcihzdHJ1Y3QgZHJtX2k5MTVfcHJp
dmF0ZSAqZGV2X3ByaXYsCiAKIHN0YXRpYyB2b2lkIGlieF9pcnFfaGFuZGxlcihzdHJ1Y3QgZHJt
X2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYsIHUzMiBwY2hfaWlyKQogewotCWludCBwaXBlOworCWVu
dW0gcGlwZSBwaXBlOwogCXUzMiBob3RwbHVnX3RyaWdnZXIgPSBwY2hfaWlyICYgU0RFX0hPVFBM
VUdfTUFTSzsKIAogCWlieF9ocGRfaXJxX2hhbmRsZXIoZGV2X3ByaXYsIGhvdHBsdWdfdHJpZ2dl
ciwgaHBkX2lieCk7CkBAIC0yMjIyLDcgKzIyMjMsNyBAQCBzdGF0aWMgdm9pZCBjcHRfc2Vycl9p
bnRfaGFuZGxlcihzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYpCiAKIHN0YXRpYyB2
b2lkIGNwdF9pcnFfaGFuZGxlcihzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYsIHUz
MiBwY2hfaWlyKQogewotCWludCBwaXBlOworCWVudW0gcGlwZSBwaXBlOwogCXUzMiBob3RwbHVn
X3RyaWdnZXIgPSBwY2hfaWlyICYgU0RFX0hPVFBMVUdfTUFTS19DUFQ7CiAKIAlpYnhfaHBkX2ly
cV9oYW5kbGVyKGRldl9wcml2LCBob3RwbHVnX3RyaWdnZXIsIGhwZF9jcHQpOwpAQCAtMzI0Niw3
ICszMjQ3LDcgQEAgc3RhdGljIHZvaWQgdmFsbGV5dmlld19pcnFfcmVzZXQoc3RydWN0IGRybV9p
OTE1X3ByaXZhdGUgKmRldl9wcml2KQogc3RhdGljIHZvaWQgZ2VuOF9pcnFfcmVzZXQoc3RydWN0
IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2KQogewogCXN0cnVjdCBpbnRlbF91bmNvcmUgKnVu
Y29yZSA9ICZkZXZfcHJpdi0+dW5jb3JlOwotCWludCBwaXBlOworCWVudW0gcGlwZSBwaXBlOwog
CiAJZ2VuOF9tYXN0ZXJfaW50cl9kaXNhYmxlKGRldl9wcml2LT51bmNvcmUucmVncyk7CiAKQEAg
LTMyNzEsNyArMzI3Miw3IEBAIHN0YXRpYyB2b2lkIGdlbjhfaXJxX3Jlc2V0KHN0cnVjdCBkcm1f
aTkxNV9wcml2YXRlICpkZXZfcHJpdikKIHN0YXRpYyB2b2lkIGdlbjExX2lycV9yZXNldChzdHJ1
Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYpCiB7CiAJc3RydWN0IGludGVsX3VuY29yZSAq
dW5jb3JlID0gJmRldl9wcml2LT51bmNvcmU7Ci0JaW50IHBpcGU7CisJZW51bSBwaXBlIHBpcGU7
CiAKIAlnZW4xMV9tYXN0ZXJfaW50cl9kaXNhYmxlKGRldl9wcml2LT51bmNvcmUucmVncyk7CiAK
ZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX3BtLmMgYi9kcml2ZXJzL2dw
dS9kcm0vaTkxNS9pbnRlbF9wbS5jCmluZGV4IDhkMzkwZGYwMzFhNC4uZDZiZjViNjRkZDMyIDEw
MDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9wbS5jCisrKyBiL2RyaXZlcnMv
Z3B1L2RybS9pOTE1L2ludGVsX3BtLmMKQEAgLTg4NTgsNyArODg1OCw3IEBAIHN0YXRpYyB2b2lk
IGlsa19pbml0X2Nsb2NrX2dhdGluZyhzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYp
CiAKIHN0YXRpYyB2b2lkIGNwdF9pbml0X2Nsb2NrX2dhdGluZyhzdHJ1Y3QgZHJtX2k5MTVfcHJp
dmF0ZSAqZGV2X3ByaXYpCiB7Ci0JaW50IHBpcGU7CisJZW51bSBwaXBlIHBpcGU7CiAJdTMyIHZh
bDsKIAogCS8qCi0tIAoyLjIxLjAKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fCkludGVsLWdmeCBtYWlsaW5nIGxpc3QKSW50ZWwtZ2Z4QGxpc3RzLmZyZWVk
ZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZv
L2ludGVsLWdmeA==

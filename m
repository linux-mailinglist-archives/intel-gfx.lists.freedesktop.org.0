Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id B85B4787CD
	for <lists+intel-gfx@lfdr.de>; Mon, 29 Jul 2019 10:54:14 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 0C39789BF3;
	Mon, 29 Jul 2019 08:54:13 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from fireflyinternet.com (mail.fireflyinternet.com [109.228.58.192])
 by gabe.freedesktop.org (Postfix) with ESMTPS id B642989BF3
 for <intel-gfx@lists.freedesktop.org>; Mon, 29 Jul 2019 08:54:11 +0000 (UTC)
X-Default-Received-SPF: pass (skip=forwardok (res=PASS))
 x-ip-name=78.156.65.138; 
Received: from localhost (unverified [78.156.65.138]) 
 by fireflyinternet.com (Firefly Internet (M1)) with ESMTP (TLS) id
 17694366-1500050 for multiple; Mon, 29 Jul 2019 09:54:05 +0100
MIME-Version: 1.0
From: Chris Wilson <chris@chris-wilson.co.uk>
User-Agent: alot/0.6
To: Tvrtko Ursulin <tvrtko.ursulin@linux.intel.com>,
 intel-gfx@lists.freedesktop.org
References: <20190725131447.27515-1-chris@chris-wilson.co.uk>
 <20190725131447.27515-2-chris@chris-wilson.co.uk>
 <61bdd86d-6465-bcf3-5574-013a7096b73a@linux.intel.com>
In-Reply-To: <61bdd86d-6465-bcf3-5574-013a7096b73a@linux.intel.com>
Message-ID: <156439044497.6902.14013218874564584104@skylake-alporthouse-com>
Date: Mon, 29 Jul 2019 09:54:05 +0100
Subject: Re: [Intel-gfx] [PATCH 2/2] drm/i915: Unshare the idle-barrier from
 other kernel requests
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

UXVvdGluZyBUdnJ0a28gVXJzdWxpbiAoMjAxOS0wNy0yOSAwODo0Njo1OSkKPiAKPiBPbiAyNS8w
Ny8yMDE5IDE0OjE0LCBDaHJpcyBXaWxzb24gd3JvdGU6Cj4gPiArc3RhdGljIGludCBfX2xpdmVf
cmVtb3RlX2NvbnRleHQoc3RydWN0IGludGVsX2VuZ2luZV9jcyAqZW5naW5lLAo+ID4gKyAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgIHN0cnVjdCBpOTE1X2dlbV9jb250ZXh0ICpmaXhtZSkK
PiA+ICt7Cj4gPiArICAgICBzdHJ1Y3QgaW50ZWxfY29udGV4dCAqbG9jYWwsICpyZW1vdGU7Cj4g
PiArICAgICBzdHJ1Y3QgaTkxNV9yZXF1ZXN0ICpycTsKPiA+ICsgICAgIGludCBwYXNzOwo+ID4g
KyAgICAgaW50IGVycjsKPiA+ICsKPiA+ICsgICAgIC8qCj4gPiArICAgICAgKiBDaGVjayB0aGF0
IG91ciBpZGxlIGJhcnJpZXJzIGRvIG5vdCBpbnRlcmZlcmUgd2l0aCBub3JtYWwKPiA+ICsgICAg
ICAqIGFjdGl2aXR5IHRyYWNraW5nLiBJbiBwYXJ0aWN1bGFyLCBjaGVjayB0aGF0IG9wZXJhdGlu
Zwo+ID4gKyAgICAgICogb24gdGhlIGNvbnRleHQgaW1hZ2UgcmVtb3RlbHkgKGludGVsX2NvbnRl
eHRfcHJlcGFyZV9yZW1vdGVfcmVxdWVzdCkKPiA+ICsgICAgICAqIHdoaWNoIGluc2VydHMgZm9y
aWVnbiBmZW5jZXMgaW50byBpbnRlbF9jb250ZXh0LmFjdGl2ZSBhcmUgbm90Cj4gCj4gdHlwbyBp
biBmb3JlaWduCj4gCj4gIm9wZXJhdGluZyAuLi4gYXJlIG5vdCAuLiIgPyBGb3JlaWduIGZlbmNl
cyBhcmUgbm90IGNsb2JiZXJlZD8KCiwgZG9lcyBub3QgY2xvYmJlciB0aGUgYWN0aXZlIHRyYWNr
aW5nLgoKPiAKPiA+ICsgICAgICAqIGNsb2JiZXJlZC4KPiA+ICsgICAgICAqLwo+ID4gKwo+ID4g
KyAgICAgcmVtb3RlID0gaW50ZWxfY29udGV4dF9jcmVhdGUoZml4bWUsIGVuZ2luZSk7Cj4gPiAr
ICAgICBpZiAoIXJlbW90ZSkKPiA+ICsgICAgICAgICAgICAgcmV0dXJuIC1FTk9NRU07Cj4gPiAr
Cj4gPiArICAgICBsb2NhbCA9IGludGVsX2NvbnRleHRfY3JlYXRlKGZpeG1lLCBlbmdpbmUpOwo+
ID4gKyAgICAgaWYgKCFsb2NhbCkgewo+ID4gKyAgICAgICAgICAgICBlcnIgPSAtRU5PTUVNOwo+
ID4gKyAgICAgICAgICAgICBnb3RvIGVycl9yZW1vdGU7Cj4gPiArICAgICB9Cj4gPiArCj4gPiAr
ICAgICBmb3IgKHBhc3MgPSAwOyBwYXNzIDw9IDI7IHBhc3MrKykgewo+ID4gKyAgICAgICAgICAg
ICBlcnIgPSBpbnRlbF9jb250ZXh0X3BpbihyZW1vdGUpOwo+ID4gKyAgICAgICAgICAgICBpZiAo
ZXJyKQo+ID4gKyAgICAgICAgICAgICAgICAgICAgIGdvdG8gZXJyX2xvY2FsOwo+ID4gKwo+ID4g
KyAgICAgICAgICAgICBycSA9IGludGVsX2NvbnRleHRfY3JlYXRlX3JlcXVlc3QobG9jYWwpOwo+
ID4gKyAgICAgICAgICAgICBpZiAoSVNfRVJSKHJxKSkgewo+ID4gKyAgICAgICAgICAgICAgICAg
ICAgIGVyciA9IFBUUl9FUlIocnEpOwo+ID4gKyAgICAgICAgICAgICAgICAgICAgIGdvdG8gZXJy
X3VucGluOwo+ID4gKyAgICAgICAgICAgICB9Cj4gPiArCj4gPiArICAgICAgICAgICAgIGVyciA9
IGludGVsX2NvbnRleHRfcHJlcGFyZV9yZW1vdGVfcmVxdWVzdChyZW1vdGUsIHJxKTsKPiA+ICsg
ICAgICAgICAgICAgaWYgKGVycikgewo+ID4gKyAgICAgICAgICAgICAgICAgICAgIGk5MTVfcmVx
dWVzdF9hZGQocnEpOwo+ID4gKyAgICAgICAgICAgICAgICAgICAgIGdvdG8gZXJyX3VucGluOwo+
ID4gKyAgICAgICAgICAgICB9Cj4gPiArCj4gPiArICAgICAgICAgICAgIGVyciA9IHJlcXVlc3Rf
c3luYyhycSk7Cj4gPiArICAgICAgICAgICAgIGlmIChlcnIpCj4gPiArICAgICAgICAgICAgICAg
ICAgICAgZ290byBlcnJfdW5waW47Cj4gPiArCj4gPiArICAgICAgICAgICAgIGludGVsX2NvbnRl
eHRfdW5waW4ocmVtb3RlKTsKPiA+ICsgICAgICAgICAgICAgZXJyID0gaW50ZWxfY29udGV4dF9w
aW4ocmVtb3RlKTsKPiAKPiB1bnBpbi1waW4gaXMgdG8gdHJpZ2dlciB0cmFuc2ZlciBvZiBpZGxl
IGJhcnJpZXJzIGFuZCBtYXliZSB0cmlnZ2VyIHNvbWUgCj4gYXNzZXJ0cz8KCnVucGluIGlzIHRv
IHRyaWdnZXIgdGhlIGlkbGUtYmFycmllci4gVGhlIHBpbiBpcyBqdXN0IHRoZSBzdGFydCBvZiB0
aGUKbmV4dCBwaGFzZSB3aXRoIGFub3RoZXIgY29udGV4dC4gQXQgZmlyc3QgSSB0cmllZCBkb2lu
ZyB0d28gcmVtb3RlCnJlcXVlc3RzIHdpdGhpbiBvbiBwaW4tcGhhc2UsIGJ1dCB0aGF0IGRvZXNu
J3QgaGl0IHRoZSBidWcuIEl0IG5lZWRlZAp0aGUgaWRsZSBiYXJyaWVyIGluIHRoZSBtaWRkbGUg
b2YgdGhlIHRlc3QsIG5vdCBiZXR3ZWVuIHBhc3Nlcy4KCnYyIHdyYXBwZWQgaXQgd2l0aCBhbm90
aGVyIHN1YnJvdXRpbmUgc28gdGhlIHVucGluLXBpbiBpcyBub3Qgc28KZ2xhcmluZ2x5IG9idmlv
dXMuCgo+ID4gKyAgICAgICAgICAgICBpZiAoZXJyKQo+ID4gKyAgICAgICAgICAgICAgICAgICAg
IGdvdG8gZXJyX2xvY2FsOwo+ID4gKwo+ID4gKyAgICAgICAgICAgICBycSA9IGk5MTVfcmVxdWVz
dF9jcmVhdGUoZW5naW5lLT5rZXJuZWxfY29udGV4dCk7Cj4gCj4gV2h5IGEgcmVxdWVzdCBvbiBr
ZXJuZWwgY29udGV4dCBoZXJlLCBhIHRoaXJkIGNvbnRleHQ/CgpUaGUga2VybmVsX2NvbnRleHQg
aXMgbW9zdCBpbXBvcnRhbnQgc2luY2UgdGhhdCdzIHRoZSBvbmUgdXNlZCBieSB0aGUKaWRsZSBi
YXJyaWVyLiBJIGluY2x1ZGVkIHRoZSBub3JtYWwgY29udGV4dCBhcyB3ZWxsIGZvciBjb21wbGV0
ZW5lc3MgYXMKdGhlIGludGVsX2NvbnRleHRfcHJlcGFyZV9yZW1vdGVfcmVxdWVzdCgpIGludGVy
ZmFjZSBzaG91bGQgbm90IGFzc3VtZQppdCBpcyB3b3JraW5nIGZyb20gdGhlIGtlcm5lbCBjb250
ZXh0LgoKPiA+ICsgICAgICAgICAgICAgaWYgKElTX0VSUihycSkpIHsKPiA+ICsgICAgICAgICAg
ICAgICAgICAgICBlcnIgPSBQVFJfRVJSKHJxKTsKPiA+ICsgICAgICAgICAgICAgICAgICAgICBn
b3RvIGVycl91bnBpbjsKPiA+ICsgICAgICAgICAgICAgfQo+ID4gKwo+ID4gKyAgICAgICAgICAg
ICBlcnIgPSBpbnRlbF9jb250ZXh0X3ByZXBhcmVfcmVtb3RlX3JlcXVlc3QocmVtb3RlLCBycSk7
Cj4gPiArICAgICAgICAgICAgIGlmIChlcnIpIHsKPiA+ICsgICAgICAgICAgICAgICAgICAgICBp
OTE1X3JlcXVlc3RfYWRkKHJxKTsKPiA+ICsgICAgICAgICAgICAgICAgICAgICBnb3RvIGVycl91
bnBpbjsKPiA+ICsgICAgICAgICAgICAgfQo+ID4gKwo+ID4gKyAgICAgICAgICAgICBlcnIgPSBy
ZXF1ZXN0X3N5bmMocnEpOwo+ID4gKyAgICAgICAgICAgICBpZiAoZXJyKQo+ID4gKyAgICAgICAg
ICAgICAgICAgICAgIGdvdG8gZXJyX3VucGluOwo+ID4gKwo+ID4gKyAgICAgICAgICAgICBpbnRl
bF9jb250ZXh0X3VucGluKHJlbW90ZSk7Cj4gPiArCj4gPiArICAgICAgICAgICAgIGlmIChpOTE1
X2FjdGl2ZV9pc19pZGxlKCZyZW1vdGUtPmFjdGl2ZSkpIHsKPiA+ICsgICAgICAgICAgICAgICAg
ICAgICBwcl9lcnIoInJlbW90ZSBjb250ZXh0IGlzIG5vdCBhY3RpdmU7IGV4cGVjdGVkIGlkbGUt
YmFycmllciAocGFzcyAlZClcbiIsIHBhc3MpOwo+ID4gKyAgICAgICAgICAgICAgICAgICAgIGVy
ciA9IC1FSU5WQUw7Cj4gPiArICAgICAgICAgICAgICAgICAgICAgZ290byBlcnJfbG9jYWw7Cj4g
PiArICAgICAgICAgICAgIH0KPiA+ICsgICAgIH0KPiA+ICsKPiA+ICsgICAgIGdvdG8gZXJyX2xv
Y2FsOwo+ID4gKwo+ID4gK2Vycl91bnBpbjoKPiA+ICsgICAgIGludGVsX2NvbnRleHRfdW5waW4o
cmVtb3RlKTsKPiA+ICtlcnJfbG9jYWw6Cj4gPiArICAgICBpbnRlbF9jb250ZXh0X3B1dChsb2Nh
bCk7Cj4gPiArZXJyX3JlbW90ZToKPiA+ICsgICAgIGludGVsX2NvbnRleHRfcHV0KHJlbW90ZSk7
Cj4gPiArICAgICByZXR1cm4gZXJyOwo+ID4gK30KPiA+ICsKPiA+ICtzdGF0aWMgaW50IGxpdmVf
cmVtb3RlX2NvbnRleHQodm9pZCAqYXJnKQo+ID4gK3sKPiA+ICsgICAgIHN0cnVjdCBpbnRlbF9n
dCAqZ3QgPSBhcmc7Cj4gPiArICAgICBzdHJ1Y3QgaW50ZWxfZW5naW5lX2NzICplbmdpbmU7Cj4g
PiArICAgICBzdHJ1Y3QgaTkxNV9nZW1fY29udGV4dCAqZml4bWU7Cj4gPiArICAgICBlbnVtIGlu
dGVsX2VuZ2luZV9pZCBpZDsKPiA+ICsgICAgIHN0cnVjdCBkcm1fZmlsZSAqZmlsZTsKPiA+ICsg
ICAgIGludCBlcnIgPSAwOwo+ID4gKwo+ID4gKyAgICAgZmlsZSA9IG1vY2tfZmlsZShndC0+aTkx
NSk7Cj4gPiArICAgICBpZiAoSVNfRVJSKGZpbGUpKQo+ID4gKyAgICAgICAgICAgICByZXR1cm4g
UFRSX0VSUihmaWxlKTsKPiA+ICsKPiA+ICsgICAgIG11dGV4X2xvY2soJmd0LT5pOTE1LT5kcm0u
c3RydWN0X211dGV4KTsKPiA+ICsKPiA+ICsgICAgIGZpeG1lID0gbGl2ZV9jb250ZXh0KGd0LT5p
OTE1LCBmaWxlKTsKPiA+ICsgICAgIGlmICghZml4bWUpIHsKPiA+ICsgICAgICAgICAgICAgZXJy
ID0gLUVOT01FTTsKPiA+ICsgICAgICAgICAgICAgZ290byB1bmxvY2s7Cj4gPiArICAgICB9Cj4g
PiArCj4gPiArICAgICBmb3JfZWFjaF9lbmdpbmUoZW5naW5lLCBndC0+aTkxNSwgaWQpIHsKPiA+
ICsgICAgICAgICAgICAgZXJyID0gX19saXZlX3JlbW90ZV9jb250ZXh0KGVuZ2luZSwgZml4bWUp
Owo+ID4gKyAgICAgICAgICAgICBpZiAoZXJyKQo+ID4gKyAgICAgICAgICAgICAgICAgICAgIGJy
ZWFrOwo+ID4gKwo+ID4gKyAgICAgICAgICAgICBlcnIgPSBpZ3RfZmx1c2hfdGVzdChndC0+aTkx
NSwgSTkxNV9XQUlUX0xPQ0tFRCk7Cj4gPiArICAgICAgICAgICAgIGlmIChlcnIpCj4gPiArICAg
ICAgICAgICAgICAgICAgICAgYnJlYWs7Cj4gPiArICAgICB9Cj4gPiArCj4gPiArdW5sb2NrOgo+
ID4gKyAgICAgbXV0ZXhfdW5sb2NrKCZndC0+aTkxNS0+ZHJtLnN0cnVjdF9tdXRleCk7Cj4gPiAr
ICAgICBtb2NrX2ZpbGVfZnJlZShndC0+aTkxNSwgZmlsZSk7Cj4gPiArICAgICByZXR1cm4gZXJy
Owo+ID4gK30KPiA+ICsKPiA+ICtpbnQgaW50ZWxfY29udGV4dF9saXZlX3NlbGZ0ZXN0cyhzdHJ1
Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSkKPiA+ICt7Cj4gPiArICAgICBzdGF0aWMgY29uc3Qg
c3RydWN0IGk5MTVfc3VidGVzdCB0ZXN0c1tdID0gewo+ID4gKyAgICAgICAgICAgICBTVUJURVNU
KGxpdmVfYWN0aXZlX2NvbnRleHQpLAo+ID4gKyAgICAgICAgICAgICBTVUJURVNUKGxpdmVfcmVt
b3RlX2NvbnRleHQpLAo+ID4gKyAgICAgfTsKPiA+ICsgICAgIHN0cnVjdCBpbnRlbF9ndCAqZ3Qg
PSAmaTkxNS0+Z3Q7Cj4gPiArCj4gPiArICAgICBpZiAoaW50ZWxfZ3RfaXNfd2VkZ2VkKGd0KSkK
PiA+ICsgICAgICAgICAgICAgcmV0dXJuIDA7Cj4gPiArCj4gPiArICAgICByZXR1cm4gaW50ZWxf
Z3RfbGl2ZV9zdWJ0ZXN0cyh0ZXN0cywgZ3QpOwo+ID4gK30KPiA+IGRpZmYgLS1naXQgYS9kcml2
ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2FjdGl2ZS5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkx
NV9hY3RpdmUuYwo+ID4gaW5kZXggMTNmMzA0YTI5ZmM4Li5lMDRhZmI1MTkyNjQgMTAwNjQ0Cj4g
PiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2FjdGl2ZS5jCj4gPiArKysgYi9kcml2
ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2FjdGl2ZS5jCj4gPiBAQCAtMTg0LDYgKzE4NCw3IEBAIGFj
dGl2ZV9pbnN0YW5jZShzdHJ1Y3QgaTkxNV9hY3RpdmUgKnJlZiwgdTY0IGlkeCkKPiA+ICAgICAg
IHJlZi0+Y2FjaGUgPSBub2RlOwo+ID4gICAgICAgbXV0ZXhfdW5sb2NrKCZyZWYtPm11dGV4KTsK
PiA+ICAgCj4gPiArICAgICBCVUlMRF9CVUdfT04ob2Zmc2V0b2YodHlwZW9mKCpub2RlKSwgYmFz
ZSkpOwo+ID4gICAgICAgcmV0dXJuICZub2RlLT5iYXNlOwo+ID4gICB9Cj4gPiAgIAo+ID4gQEAg
LTIxMiw2ICsyMTMsOCBAQCBpbnQgaTkxNV9hY3RpdmVfcmVmKHN0cnVjdCBpOTE1X2FjdGl2ZSAq
cmVmLAo+ID4gICAgICAgc3RydWN0IGk5MTVfYWN0aXZlX3JlcXVlc3QgKmFjdGl2ZTsKPiA+ICAg
ICAgIGludCBlcnI7Cj4gPiAgIAo+ID4gKyAgICAgR0VNX0JVR19PTighdGltZWxpbmUpOyAvKiBy
ZXNlcnZlZCBmb3IgaWRsZS1iYXJyaWVyICovCj4gPiArCj4gPiAgICAgICAvKiBQcmV2ZW50IHJl
YXBpbmcgaW4gY2FzZSB3ZSBtYWxsb2Mvd2FpdCB3aGlsZSBidWlsZGluZyB0aGUgdHJlZSAqLwo+
ID4gICAgICAgZXJyID0gaTkxNV9hY3RpdmVfYWNxdWlyZShyZWYpOwo+ID4gICAgICAgaWYgKGVy
cikKPiA+IEBAIC0yMjIsNiArMjI1LDcgQEAgaW50IGk5MTVfYWN0aXZlX3JlZihzdHJ1Y3QgaTkx
NV9hY3RpdmUgKnJlZiwKPiA+ICAgICAgICAgICAgICAgZXJyID0gLUVOT01FTTsKPiA+ICAgICAg
ICAgICAgICAgZ290byBvdXQ7Cj4gPiAgICAgICB9Cj4gPiArICAgICBHRU1fQlVHX09OKElTX0VS
UihhY3RpdmUtPnJlcXVlc3QpKTsKPiA+ICAgCj4gPiAgICAgICBpZiAoIWk5MTVfYWN0aXZlX3Jl
cXVlc3RfaXNzZXQoYWN0aXZlKSkKPiA+ICAgICAgICAgICAgICAgYXRvbWljX2luYygmcmVmLT5j
b3VudCk7Cj4gPiBAQCAtMzQyLDYgKzM0NiwzNCBAQCB2b2lkIGk5MTVfYWN0aXZlX2Zpbmkoc3Ry
dWN0IGk5MTVfYWN0aXZlICpyZWYpCj4gPiAgIH0KPiA+ICAgI2VuZGlmCj4gPiAgIAo+ID4gK3N0
YXRpYyBzdHJ1Y3QgYWN0aXZlX25vZGUgKmlkbGVfYmFycmllcihzdHJ1Y3QgaTkxNV9hY3RpdmUg
KnJlZikKPiA+ICt7Cj4gPiArICAgICBzdHJ1Y3QgYWN0aXZlX25vZGUgKmlkbGUgPSBOVUxMOwo+
ID4gKyAgICAgc3RydWN0IHJiX25vZGUgKnJiOwo+ID4gKwo+ID4gKyAgICAgaWYgKFJCX0VNUFRZ
X1JPT1QoJnJlZi0+dHJlZSkpCj4gPiArICAgICAgICAgICAgIHJldHVybiBOVUxMOwo+ID4gKwo+
ID4gKyAgICAgbXV0ZXhfbG9jaygmcmVmLT5tdXRleCk7Cj4gPiArICAgICBmb3IgKHJiID0gcmJf
Zmlyc3QoJnJlZi0+dHJlZSk7IHJiOyByYiA9IHJiX25leHQocmIpKSB7Cj4gPiArICAgICAgICAg
ICAgIHN0cnVjdCBhY3RpdmVfbm9kZSAqbm9kZTsKPiA+ICsKPiA+ICsgICAgICAgICAgICAgbm9k
ZSA9IHJiX2VudHJ5KHJiLCB0eXBlb2YoKm5vZGUpLCBub2RlKTsKPiA+ICsgICAgICAgICAgICAg
aWYgKG5vZGUtPnRpbWVsaW5lKQo+ID4gKyAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwo+ID4g
Kwo+ID4gKyAgICAgICAgICAgICBpZiAoIWk5MTVfYWN0aXZlX3JlcXVlc3RfaXNzZXQoJm5vZGUt
PmJhc2UpKSB7Cj4gPiArICAgICAgICAgICAgICAgICAgICAgR0VNX0JVR19PTighbGlzdF9lbXB0
eSgmbm9kZS0+YmFzZS5saW5rKSk7Cj4gPiArICAgICAgICAgICAgICAgICAgICAgcmJfZXJhc2Uo
cmIsICZyZWYtPnRyZWUpOwo+ID4gKyAgICAgICAgICAgICAgICAgICAgIGlkbGUgPSBub2RlOwo+
ID4gKyAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwo+ID4gKyAgICAgICAgICAgICB9Cj4gCj4g
VW5kZXIgd2hhdCBjaXJjdW1zdGFuY2VzIGRvZXMgdGhlIHdhbGsgY29udGludWU/IFRoZXJlIGNh
biBiZSB0d28gaWRsZSAKPiBiYXJyaWVycyAodGltZWxpbmUgPT0gMCkgaW4gdGhlIHRyZWU/CgpZ
ZXMsIHRoZXJlIGNhbiBiZSBtb3JlIHRoYW4gb25lICh2aXJ0dWFsIGVuZ2luZXMpLiBJdCBzaG91
bGQgYmUgdGhlIGNhc2UKdGhhdCB3aGVuIGk5MTVfYWN0aXZlIGJlY29tZXMgaWRsZSAoYWxsIGlk
bGUgYmFycmllcnMgYXJlIGlkbGUpIHRoYXQgdGhlCnRyZWUgaXMgcmVhcGVkLiBCdXQuLi4gaWYg
d2Ugb3ZlcmxhcCBhY3RpdmUgcGhhc2VzLCB3ZSB3aWxsIGdldCBtdWx0aXBsZQppZGxlIGJhcnJp
ZXJzLCBzb21lIGlkbGUsIHNvbWUgYWN0aXZlLCB3aGljaCB3ZSB3YW50IHRvIHJldXNlIHRvIGF2
b2lkCmhhdmluZyBhIHBvdGVudGlhbGx5IHVuYm91bmRlZCBhbGxvY2F0aW9uLgotQ2hyaXMKX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KSW50ZWwtZ2Z4IG1h
aWxpbmcgbGlzdApJbnRlbC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMu
ZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vaW50ZWwtZ2Z4

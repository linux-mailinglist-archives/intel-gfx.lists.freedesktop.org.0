Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id A228ECBBF1
	for <lists+intel-gfx@lfdr.de>; Fri,  4 Oct 2019 15:40:44 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 8CD206EB89;
	Fri,  4 Oct 2019 13:40:41 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from fireflyinternet.com (mail.fireflyinternet.com [109.228.58.192])
 by gabe.freedesktop.org (Postfix) with ESMTPS id A98116EB80
 for <intel-gfx@lists.freedesktop.org>; Fri,  4 Oct 2019 13:40:38 +0000 (UTC)
X-Default-Received-SPF: pass (skip=forwardok (res=PASS))
 x-ip-name=78.156.65.138; 
Received: from haswell.alporthouse.com (unverified [78.156.65.138]) 
 by fireflyinternet.com (Firefly Internet (M1)) with ESMTP id 18723963-1500050 
 for multiple; Fri, 04 Oct 2019 14:40:20 +0100
From: Chris Wilson <chris@chris-wilson.co.uk>
To: intel-gfx@lists.freedesktop.org
Date: Fri,  4 Oct 2019 14:40:08 +0100
Message-Id: <20191004134015.13204-14-chris@chris-wilson.co.uk>
X-Mailer: git-send-email 2.23.0
In-Reply-To: <20191004134015.13204-1-chris@chris-wilson.co.uk>
References: <20191004134015.13204-1-chris@chris-wilson.co.uk>
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH 13/20] drm/i915: Remove logical HW ID
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

V2l0aCB0aGUgaW50cm9kdWN0aW9uIG9mIGN0eC0+ZW5naW5lc1tdIHdlIGFsbG93IG11bHRpcGxl
IGxvZ2ljYWwKY29udGV4dHMgdG8gYmUgdXNlZCBvbiB0aGUgc2FtZSBlbmdpbmUgKGUuZy4gd2l0
aCB2aXJ0dWFsIGVuZ2luZXMpLgpBY2NvcmRpbmcgdG8gYnNwZWMsIGFhY2ggbG9naWNhbCBjb250
ZXh0IHJlcXVpcmVzIGEgdW5pcXVlIHRhZyBpbiBvcmRlcgpmb3IgY29udGV4dC1zd2l0Y2hpbmcg
dG8gb2NjdXIgY29ycmVjdGx5IGJldHdlZW4gdGhlbS4gW1NpbXBsZQpleHBlcmltZW50cyBzaG93
IHRoYXQgaXQgaXMgbm90IHNvIGVhc3kgdG8gdHJpY2sgdGhlIEhXIGludG8gcGVyZm9ybWluZwph
IGxpdGUtcmVzdG9yZSB3aXRoIG1hdGNoaW5nIGxvZ2ljYWwgSURzLCB0aG91Z2ggbXkgbWVtb3J5
IGZyb20gZWFybHkKQnJvYWR3ZWxsIGV4cGVyaW1lbnRzIGRvIHN1Z2dlc3QgdGhhdCBpdCBzaG91
bGQgYmUgZ2VuZXJhdGluZwpsaXRlLXJlc3RvcmVzLl0KCldlIG9ubHkgbmVlZCB0byBrZWVwIGEg
dW5pcXVlIHRhZyBmb3IgdGhlIGFjdGl2ZSBsaWZldGltZSBvZiB0aGUKY29udGV4dCwgYW5kIGZv
ciBhcyBsb25nIGFzIHdlIG5lZWQgdG8gaWRlbnRpZnkgdGhhdCBjb250ZXh0LiBUaGUgSFcKdXNl
cyB0aGUgdGFnIHRvIGRldGVybWluZSBpZiBpdCBzaG91bGQgdXNlIGEgbGl0ZS1yZXN0b3JlICh3
aHkgbm90IHRoZQpMUkNBPykgYW5kIHBhc3NlcyB0aGUgdGFnIGJhY2sgZm9yIHZhcmlvdXMgc3Rh
dHVzIGlkZW50aWZpZXMuIFRoZSBvbmx5CnN0YXR1cyB3ZSBuZWVkIHRvIHRyYWNrIGlzIGZvciBP
QSwgc28gd2hlbiB1c2luZyBwZXJmLCB3ZSBhc3NpZ24gdGhlCnNwZWNpZmljIGNvbnRleHQgYSB1
bmlxdWUgdGFnLgoKdjI6IENhbGN1bGF0ZSByZXF1aXJlZCBudW1iZXIgb2YgdGFncyB0byBmaWxs
IEVMU1AuCgpGaXhlczogOTc2YjU1ZjBlMWRiICgiZHJtL2k5MTU6IEFsbG93IGEgY29udGV4dCB0
byBkZWZpbmUgaXRzIHNldCBvZiBlbmdpbmVzIikKQnVnemlsbGE6IGh0dHBzOi8vYnVncy5mcmVl
ZGVza3RvcC5vcmcvc2hvd19idWcuY2dpP2lkPTExMTg5NQpTaWduZWQtb2ZmLWJ5OiBDaHJpcyBX
aWxzb24gPGNocmlzQGNocmlzLXdpbHNvbi5jby51az4KQWNrZWQtYnk6IERhbmllbGUgQ2VyYW9s
byBTcHVyaW8gPGRhbmllbGUuY2VyYW9sb3NwdXJpb0BpbnRlbC5jb20+ClJldmlld2VkLWJ5OiBU
dnJ0a28gVXJzdWxpbiA8dHZydGtvLnVyc3VsaW5AaW50ZWwuY29tPgotLS0KIGRyaXZlcnMvZ3B1
L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9jb250ZXh0LmMgICB8IDE1MyAtLS0tLS0tLS0tLS0tLS0t
LS0KIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9jb250ZXh0LmggICB8ICAxNSAt
LQogLi4uL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fY29udGV4dF90eXBlcy5oIHwgIDE4IC0t
LQogLi4uL2RybS9pOTE1L2dlbS9zZWxmdGVzdHMvaTkxNV9nZW1fY29udGV4dC5jIHwgIDEzICst
CiAuLi4vZ3B1L2RybS9pOTE1L2dlbS9zZWxmdGVzdHMvbW9ja19jb250ZXh0LmMgfCAgIDggLQog
ZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfY29udGV4dF90eXBlcy5oIHwgICAxICsKIGRy
aXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2VuZ2luZV90eXBlcy5oICB8ICAgNCArLQogZHJp
dmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfbHJjLmMgICAgICAgICAgIHwgIDMyICsrLS0KIGRy
aXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2xyYy5oICAgICAgICAgICB8ICAgNiArCiBkcml2
ZXJzL2dwdS9kcm0vaTkxNS9ndnQva3ZtZ3QuYyAgICAgICAgICAgICAgfCAgMTcgLS0KIGRyaXZl
cnMvZ3B1L2RybS9pOTE1L2k5MTVfZGVidWdmcy5jICAgICAgICAgICB8ICAgMyAtCiBkcml2ZXJz
L2dwdS9kcm0vaTkxNS9pOTE1X2Rydi5oICAgICAgICAgICAgICAgfCAgMTIgLS0KIGRyaXZlcnMv
Z3B1L2RybS9pOTE1L2k5MTVfZ3B1X2Vycm9yLmMgICAgICAgICB8ICAgNyArLQogZHJpdmVycy9n
cHUvZHJtL2k5MTUvaTkxNV9ncHVfZXJyb3IuaCAgICAgICAgIHwgICAxIC0KIGRyaXZlcnMvZ3B1
L2RybS9pOTE1L2k5MTVfcGVyZi5jICAgICAgICAgICAgICB8ICAyNSArKy0KIGRyaXZlcnMvZ3B1
L2RybS9pOTE1L2k5MTVfdHJhY2UuaCAgICAgICAgICAgICB8ICAzOCArKy0tLQogLi4uL2dwdS9k
cm0vaTkxNS9zZWxmdGVzdHMvaTkxNV9nZW1fZXZpY3QuYyAgIHwgICA0ICstCiBkcml2ZXJzL2dw
dS9kcm0vaTkxNS9zZWxmdGVzdHMvaTkxNV92bWEuYyAgICAgfCAgIDIgKy0KIDE4IGZpbGVzIGNo
YW5nZWQsIDU3IGluc2VydGlvbnMoKyksIDMwMiBkZWxldGlvbnMoLSkKCmRpZmYgLS1naXQgYS9k
cml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fY29udGV4dC5jIGIvZHJpdmVycy9ncHUv
ZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX2NvbnRleHQuYwppbmRleCAwYWI0MTY4ODdmYzIuLmNkNGYz
MjdiMjNiZCAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX2Nv
bnRleHQuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fY29udGV4dC5j
CkBAIC0xNjcsOTcgKzE2Nyw2IEBAIGxvb2t1cF91c2VyX2VuZ2luZShzdHJ1Y3QgaTkxNV9nZW1f
Y29udGV4dCAqY3R4LAogCXJldHVybiBpOTE1X2dlbV9jb250ZXh0X2dldF9lbmdpbmUoY3R4LCBp
ZHgpOwogfQogCi1zdGF0aWMgaW5saW5lIGludCBuZXdfaHdfaWQoc3RydWN0IGRybV9pOTE1X3By
aXZhdGUgKmk5MTUsIGdmcF90IGdmcCkKLXsKLQl1bnNpZ25lZCBpbnQgbWF4OwotCi0JbG9ja2Rl
cF9hc3NlcnRfaGVsZCgmaTkxNS0+Y29udGV4dHMubXV0ZXgpOwotCi0JaWYgKElOVEVMX0dFTihp
OTE1KSA+PSAxMikKLQkJbWF4ID0gR0VOMTJfTUFYX0NPTlRFWFRfSFdfSUQ7Ci0JZWxzZSBpZiAo
SU5URUxfR0VOKGk5MTUpID49IDExKQotCQltYXggPSBHRU4xMV9NQVhfQ09OVEVYVF9IV19JRDsK
LQllbHNlIGlmIChVU0VTX0dVQ19TVUJNSVNTSU9OKGk5MTUpKQotCQkvKgotCQkgKiBXaGVuIHVz
aW5nIEd1QyBpbiBwcm94eSBzdWJtaXNzaW9uLCBHdUMgY29uc3VtZXMgdGhlCi0JCSAqIGhpZ2hl
c3QgYml0IGluIHRoZSBjb250ZXh0IGlkIHRvIGluZGljYXRlIHByb3h5IHN1Ym1pc3Npb24uCi0J
CSAqLwotCQltYXggPSBNQVhfR1VDX0NPTlRFWFRfSFdfSUQ7Ci0JZWxzZQotCQltYXggPSBNQVhf
Q09OVEVYVF9IV19JRDsKLQotCXJldHVybiBpZGFfc2ltcGxlX2dldCgmaTkxNS0+Y29udGV4dHMu
aHdfaWRhLCAwLCBtYXgsIGdmcCk7Ci19Ci0KLXN0YXRpYyBpbnQgc3RlYWxfaHdfaWQoc3RydWN0
IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUpCi17Ci0Jc3RydWN0IGk5MTVfZ2VtX2NvbnRleHQgKmN0
eCwgKmNuOwotCUxJU1RfSEVBRChwaW5uZWQpOwotCWludCBpZCA9IC1FTk9TUEM7Ci0KLQlsb2Nr
ZGVwX2Fzc2VydF9oZWxkKCZpOTE1LT5jb250ZXh0cy5tdXRleCk7Ci0KLQlsaXN0X2Zvcl9lYWNo
X2VudHJ5X3NhZmUoY3R4LCBjbiwKLQkJCQkgJmk5MTUtPmNvbnRleHRzLmh3X2lkX2xpc3QsIGh3
X2lkX2xpbmspIHsKLQkJaWYgKGF0b21pY19yZWFkKCZjdHgtPmh3X2lkX3Bpbl9jb3VudCkpIHsK
LQkJCWxpc3RfbW92ZV90YWlsKCZjdHgtPmh3X2lkX2xpbmssICZwaW5uZWQpOwotCQkJY29udGlu
dWU7Ci0JCX0KLQotCQlHRU1fQlVHX09OKCFjdHgtPmh3X2lkKTsgLyogcGVybWEtcGlubmVkIGtl
cm5lbCBjb250ZXh0ICovCi0JCWxpc3RfZGVsX2luaXQoJmN0eC0+aHdfaWRfbGluayk7Ci0JCWlk
ID0gY3R4LT5od19pZDsKLQkJYnJlYWs7Ci0JfQotCi0JLyoKLQkgKiBSZW1lbWJlciBob3cgZmFy
IHdlIGdvdCB1cCBvbiB0aGUgbGFzdCByZXBvc3Nlc2lvbiBzY2FuLCBzbyB0aGUKLQkgKiBsaXN0
IGlzIGtlcHQgaW4gYSAibGVhc3QgcmVjZW50bHkgc2Nhbm5lZCIgb3JkZXIuCi0JICovCi0JbGlz
dF9zcGxpY2VfdGFpbCgmcGlubmVkLCAmaTkxNS0+Y29udGV4dHMuaHdfaWRfbGlzdCk7Ci0JcmV0
dXJuIGlkOwotfQotCi1zdGF0aWMgaW50IGFzc2lnbl9od19pZChzdHJ1Y3QgZHJtX2k5MTVfcHJp
dmF0ZSAqaTkxNSwgdW5zaWduZWQgaW50ICpvdXQpCi17Ci0JaW50IHJldDsKLQotCWxvY2tkZXBf
YXNzZXJ0X2hlbGQoJmk5MTUtPmNvbnRleHRzLm11dGV4KTsKLQotCS8qCi0JICogV2UgcHJlZmVy
IHRvIHN0ZWFsL3N0YWxsIG91cnNlbHZlcyBhbmQgb3VyIHVzZXJzIG92ZXIgdGhhdCBvZiB0aGUK
LQkgKiBlbnRpcmUgc3lzdGVtLiBUaGF0IG1heSBiZSBhIGxpdHRsZSB1bmZhaXIgdG8gb3VyIHVz
ZXJzLCBhbmQKLQkgKiBldmVuIGh1cnQgaGlnaCBwcmlvcml0eSBjbGllbnRzLiBUaGUgY2hvaWNl
IGlzIHdoZXRoZXIgdG8gb29ta2lsbAotCSAqIHNvbWV0aGluZyBlbHNlLCBvciBzdGVhbCBhIGNv
bnRleHQgaWQuCi0JICovCi0JcmV0ID0gbmV3X2h3X2lkKGk5MTUsIEdGUF9LRVJORUwgfCBfX0dG
UF9SRVRSWV9NQVlGQUlMIHwgX19HRlBfTk9XQVJOKTsKLQlpZiAodW5saWtlbHkocmV0IDwgMCkp
IHsKLQkJcmV0ID0gc3RlYWxfaHdfaWQoaTkxNSk7Ci0JCWlmIChyZXQgPCAwKSAvKiBvbmNlIGFn
YWluIGZvciB0aGUgY29ycmVjdCBlcnJubyBjb2RlICovCi0JCQlyZXQgPSBuZXdfaHdfaWQoaTkx
NSwgR0ZQX0tFUk5FTCk7Ci0JCWlmIChyZXQgPCAwKQotCQkJcmV0dXJuIHJldDsKLQl9Ci0KLQkq
b3V0ID0gcmV0OwotCXJldHVybiAwOwotfQotCi1zdGF0aWMgdm9pZCByZWxlYXNlX2h3X2lkKHN0
cnVjdCBpOTE1X2dlbV9jb250ZXh0ICpjdHgpCi17Ci0Jc3RydWN0IGRybV9pOTE1X3ByaXZhdGUg
Kmk5MTUgPSBjdHgtPmk5MTU7Ci0KLQlpZiAobGlzdF9lbXB0eSgmY3R4LT5od19pZF9saW5rKSkK
LQkJcmV0dXJuOwotCi0JbXV0ZXhfbG9jaygmaTkxNS0+Y29udGV4dHMubXV0ZXgpOwotCWlmICgh
bGlzdF9lbXB0eSgmY3R4LT5od19pZF9saW5rKSkgewotCQlpZGFfc2ltcGxlX3JlbW92ZSgmaTkx
NS0+Y29udGV4dHMuaHdfaWRhLCBjdHgtPmh3X2lkKTsKLQkJbGlzdF9kZWxfaW5pdCgmY3R4LT5o
d19pZF9saW5rKTsKLQl9Ci0JbXV0ZXhfdW5sb2NrKCZpOTE1LT5jb250ZXh0cy5tdXRleCk7Ci19
Ci0KIHN0YXRpYyB2b2lkIF9fZnJlZV9lbmdpbmVzKHN0cnVjdCBpOTE1X2dlbV9lbmdpbmVzICpl
LCB1bnNpZ25lZCBpbnQgY291bnQpCiB7CiAJd2hpbGUgKGNvdW50LS0pIHsKQEAgLTMxMiw4ICsy
MjEsNiBAQCBzdGF0aWMgdm9pZCBpOTE1X2dlbV9jb250ZXh0X2ZyZWUoc3RydWN0IGk5MTVfZ2Vt
X2NvbnRleHQgKmN0eCkKIAlsb2NrZGVwX2Fzc2VydF9oZWxkKCZjdHgtPmk5MTUtPmRybS5zdHJ1
Y3RfbXV0ZXgpOwogCUdFTV9CVUdfT04oIWk5MTVfZ2VtX2NvbnRleHRfaXNfY2xvc2VkKGN0eCkp
OwogCi0JcmVsZWFzZV9od19pZChjdHgpOwotCiAJZnJlZV9lbmdpbmVzKHJjdV9hY2Nlc3NfcG9p
bnRlcihjdHgtPmVuZ2luZXMpKTsKIAltdXRleF9kZXN0cm95KCZjdHgtPmVuZ2luZXNfbXV0ZXgp
OwogCkBAIC0zODYsMTIgKzI5Myw2IEBAIHN0YXRpYyB2b2lkIGNvbnRleHRfY2xvc2Uoc3RydWN0
IGk5MTVfZ2VtX2NvbnRleHQgKmN0eCkKIAogCWN0eC0+ZmlsZV9wcml2ID0gRVJSX1BUUigtRUJB
REYpOwogCi0JLyoKLQkgKiBUaGlzIGNvbnRleHQgd2lsbCBuZXZlciBhZ2FpbiBiZSBhc3Npbmdl
ZCB0byBIVywgc28gd2UgY2FuCi0JICogcmV1c2UgaXRzIElEIGZvciB0aGUgbmV4dCBjb250ZXh0
LgotCSAqLwotCXJlbGVhc2VfaHdfaWQoY3R4KTsKLQogCS8qCiAJICogVGhlIExVVCB1c2VzIHRo
ZSBWTUEgYXMgYSBiYWNrcG9pbnRlciB0byB1bnJlZiB0aGUgb2JqZWN0LAogCSAqIHNvIHdlIG5l
ZWQgdG8gY2xlYXIgdGhlIExVVCBiZWZvcmUgd2UgY2xvc2UgYWxsIHRoZSBWTUEgKGluc2lkZQpA
QCAtNDMwLDcgKzMzMSw2IEBAIF9fY3JlYXRlX2NvbnRleHQoc3RydWN0IGRybV9pOTE1X3ByaXZh
dGUgKmk5MTUpCiAJUkNVX0lOSVRfUE9JTlRFUihjdHgtPmVuZ2luZXMsIGUpOwogCiAJSU5JVF9S
QURJWF9UUkVFKCZjdHgtPmhhbmRsZXNfdm1hLCBHRlBfS0VSTkVMKTsKLQlJTklUX0xJU1RfSEVB
RCgmY3R4LT5od19pZF9saW5rKTsKIAogCS8qIE5COiBNYXJrIGFsbCBzbGljZXMgYXMgbmVlZGlu
ZyBhIHJlbWFwIHNvIHRoYXQgd2hlbiB0aGUgY29udGV4dCBmaXJzdAogCSAqIGxvYWRzIGl0IHdp
bGwgcmVzdG9yZSB3aGF0ZXZlciByZW1hcCBzdGF0ZSBhbHJlYWR5IGV4aXN0cy4gSWYgdGhlcmUK
QEAgLTU4NCwxOCArNDg0LDExIEBAIHN0cnVjdCBpOTE1X2dlbV9jb250ZXh0ICoKIGk5MTVfZ2Vt
X2NvbnRleHRfY3JlYXRlX2tlcm5lbChzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSwgaW50
IHByaW8pCiB7CiAJc3RydWN0IGk5MTVfZ2VtX2NvbnRleHQgKmN0eDsKLQlpbnQgZXJyOwogCiAJ
Y3R4ID0gaTkxNV9nZW1fY3JlYXRlX2NvbnRleHQoaTkxNSwgMCk7CiAJaWYgKElTX0VSUihjdHgp
KQogCQlyZXR1cm4gY3R4OwogCi0JZXJyID0gaTkxNV9nZW1fY29udGV4dF9waW5faHdfaWQoY3R4
KTsKLQlpZiAoZXJyKSB7Ci0JCWRlc3Ryb3lfa2VybmVsX2NvbnRleHQoJmN0eCk7Ci0JCXJldHVy
biBFUlJfUFRSKGVycik7Ci0JfQotCiAJaTkxNV9nZW1fY29udGV4dF9jbGVhcl9iYW5uYWJsZShj
dHgpOwogCWN0eC0+c2NoZWQucHJpb3JpdHkgPSBJOTE1X1VTRVJfUFJJT1JJVFkocHJpbyk7CiAK
QEAgLTYwOSwxMiArNTAyLDYgQEAgc3RhdGljIHZvaWQgaW5pdF9jb250ZXh0cyhzdHJ1Y3QgZHJt
X2k5MTVfcHJpdmF0ZSAqaTkxNSkKIAltdXRleF9pbml0KCZpOTE1LT5jb250ZXh0cy5tdXRleCk7
CiAJSU5JVF9MSVNUX0hFQUQoJmk5MTUtPmNvbnRleHRzLmxpc3QpOwogCi0JLyogVXNpbmcgdGhl
IHNpbXBsZSBpZGEgaW50ZXJmYWNlLCB0aGUgbWF4IGlzIGxpbWl0ZWQgYnkgc2l6ZW9mKGludCkg
Ki8KLQlCVUlMRF9CVUdfT04oTUFYX0NPTlRFWFRfSFdfSUQgPiBJTlRfTUFYKTsKLQlCVUlMRF9C
VUdfT04oR0VOMTFfTUFYX0NPTlRFWFRfSFdfSUQgPiBJTlRfTUFYKTsKLQlpZGFfaW5pdCgmaTkx
NS0+Y29udGV4dHMuaHdfaWRhKTsKLQlJTklUX0xJU1RfSEVBRCgmaTkxNS0+Y29udGV4dHMuaHdf
aWRfbGlzdCk7Ci0KIAlJTklUX1dPUksoJmk5MTUtPmNvbnRleHRzLmZyZWVfd29yaywgY29udGV4
dHNfZnJlZV93b3JrZXIpOwogCWluaXRfbGxpc3RfaGVhZCgmaTkxNS0+Y29udGV4dHMuZnJlZV9s
aXN0KTsKIH0KQEAgLTYzNCwxNSArNTIxLDYgQEAgaW50IGk5MTVfZ2VtX2NvbnRleHRzX2luaXQo
c3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2KQogCQlEUk1fRVJST1IoIkZhaWxlZCB0
byBjcmVhdGUgZGVmYXVsdCBnbG9iYWwgY29udGV4dFxuIik7CiAJCXJldHVybiBQVFJfRVJSKGN0
eCk7CiAJfQotCS8qCi0JICogRm9yIGVhc3kgcmVjb2duaXNhYmxpdHksIHdlIHdhbnQgdGhlIGtl
cm5lbCBjb250ZXh0IHRvIGJlIDAgYW5kIHRoZW4KLQkgKiBhbGwgdXNlciBjb250ZXh0cyB3aWxs
IGhhdmUgbm9uLXplcm8gaHdfaWQuIEtlcm5lbCBjb250ZXh0cyBhcmUKLQkgKiBwZXJtYW5lbnRs
eSBwaW5uZWQsIHNvIHRoYXQgd2UgbmV2ZXIgc3VmZmVyIGEgc3RhbGwgYW5kIGNhbgotCSAqIHVz
ZSB0aGVtIGZyb20gYW55IGFsbG9jYXRpb24gY29udGV4dCAoZS5nLiBmb3IgZXZpY3Rpbmcgb3Ro
ZXIKLQkgKiBjb250ZXh0cyBhbmQgZnJvbSBpbnNpZGUgdGhlIHNocmlua2VyKS4KLQkgKi8KLQlH
RU1fQlVHX09OKGN0eC0+aHdfaWQpOwotCUdFTV9CVUdfT04oIWF0b21pY19yZWFkKCZjdHgtPmh3
X2lkX3Bpbl9jb3VudCkpOwogCWRldl9wcml2LT5rZXJuZWxfY29udGV4dCA9IGN0eDsKIAogCURS
TV9ERUJVR19EUklWRVIoIiVzIGNvbnRleHQgc3VwcG9ydCBpbml0aWFsaXplZFxuIiwKQEAgLTY1
NiwxMCArNTM0LDYgQEAgdm9pZCBpOTE1X2dlbV9jb250ZXh0c19maW5pKHN0cnVjdCBkcm1faTkx
NV9wcml2YXRlICppOTE1KQogCWxvY2tkZXBfYXNzZXJ0X2hlbGQoJmk5MTUtPmRybS5zdHJ1Y3Rf
bXV0ZXgpOwogCiAJZGVzdHJveV9rZXJuZWxfY29udGV4dCgmaTkxNS0+a2VybmVsX2NvbnRleHQp
OwotCi0JLyogTXVzdCBmcmVlIGFsbCBkZWZlcnJlZCBjb250ZXh0cyAodmlhIGZsdXNoX3dvcmtx
dWV1ZSkgZmlyc3QgKi8KLQlHRU1fQlVHX09OKCFsaXN0X2VtcHR5KCZpOTE1LT5jb250ZXh0cy5o
d19pZF9saXN0KSk7Ci0JaWRhX2Rlc3Ryb3koJmk5MTUtPmNvbnRleHRzLmh3X2lkYSk7CiB9CiAK
IHN0YXRpYyBpbnQgY29udGV4dF9pZHJfY2xlYW51cChpbnQgaWQsIHZvaWQgKnAsIHZvaWQgKmRh
dGEpCkBAIC0yMzE2LDMzICsyMTkwLDYgQEAgaW50IGk5MTVfZ2VtX2NvbnRleHRfcmVzZXRfc3Rh
dHNfaW9jdGwoc3RydWN0IGRybV9kZXZpY2UgKmRldiwKIAlyZXR1cm4gcmV0OwogfQogCi1pbnQg
X19pOTE1X2dlbV9jb250ZXh0X3Bpbl9od19pZChzdHJ1Y3QgaTkxNV9nZW1fY29udGV4dCAqY3R4
KQotewotCXN0cnVjdCBkcm1faTkxNV9wcml2YXRlICppOTE1ID0gY3R4LT5pOTE1OwotCWludCBl
cnIgPSAwOwotCi0JbXV0ZXhfbG9jaygmaTkxNS0+Y29udGV4dHMubXV0ZXgpOwotCi0JR0VNX0JV
R19PTihpOTE1X2dlbV9jb250ZXh0X2lzX2Nsb3NlZChjdHgpKTsKLQotCWlmIChsaXN0X2VtcHR5
KCZjdHgtPmh3X2lkX2xpbmspKSB7Ci0JCUdFTV9CVUdfT04oYXRvbWljX3JlYWQoJmN0eC0+aHdf
aWRfcGluX2NvdW50KSk7Ci0KLQkJZXJyID0gYXNzaWduX2h3X2lkKGk5MTUsICZjdHgtPmh3X2lk
KTsKLQkJaWYgKGVycikKLQkJCWdvdG8gb3V0X3VubG9jazsKLQotCQlsaXN0X2FkZF90YWlsKCZj
dHgtPmh3X2lkX2xpbmssICZpOTE1LT5jb250ZXh0cy5od19pZF9saXN0KTsKLQl9Ci0KLQlHRU1f
QlVHX09OKGF0b21pY19yZWFkKCZjdHgtPmh3X2lkX3Bpbl9jb3VudCkgPT0gfjB1KTsKLQlhdG9t
aWNfaW5jKCZjdHgtPmh3X2lkX3Bpbl9jb3VudCk7Ci0KLW91dF91bmxvY2s6Ci0JbXV0ZXhfdW5s
b2NrKCZpOTE1LT5jb250ZXh0cy5tdXRleCk7Ci0JcmV0dXJuIGVycjsKLX0KLQogLyogR0VNIGNv
bnRleHQtZW5naW5lcyBpdGVyYXRvcjogZm9yX2VhY2hfZ2VtX2VuZ2luZSgpICovCiBzdHJ1Y3Qg
aW50ZWxfY29udGV4dCAqCiBpOTE1X2dlbV9lbmdpbmVzX2l0ZXJfbmV4dChzdHJ1Y3QgaTkxNV9n
ZW1fZW5naW5lc19pdGVyICppdCkKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dl
bS9pOTE1X2dlbV9jb250ZXh0LmggYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1f
Y29udGV4dC5oCmluZGV4IDE3Njk3ODYwOGI2Zi4uNTBiYzI3ZDMwYzAzIDEwMDY0NAotLS0gYS9k
cml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fY29udGV4dC5oCisrKyBiL2RyaXZlcnMv
Z3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9jb250ZXh0LmgKQEAgLTExMiwyMSArMTEyLDYgQEAg
aTkxNV9nZW1fY29udGV4dF9jbGVhcl91c2VyX2VuZ2luZXMoc3RydWN0IGk5MTVfZ2VtX2NvbnRl
eHQgKmN0eCkKIAljbGVhcl9iaXQoQ09OVEVYVF9VU0VSX0VOR0lORVMsICZjdHgtPmZsYWdzKTsK
IH0KIAotaW50IF9faTkxNV9nZW1fY29udGV4dF9waW5faHdfaWQoc3RydWN0IGk5MTVfZ2VtX2Nv
bnRleHQgKmN0eCk7Ci1zdGF0aWMgaW5saW5lIGludCBpOTE1X2dlbV9jb250ZXh0X3Bpbl9od19p
ZChzdHJ1Y3QgaTkxNV9nZW1fY29udGV4dCAqY3R4KQotewotCWlmIChhdG9taWNfaW5jX25vdF96
ZXJvKCZjdHgtPmh3X2lkX3Bpbl9jb3VudCkpCi0JCXJldHVybiAwOwotCi0JcmV0dXJuIF9faTkx
NV9nZW1fY29udGV4dF9waW5faHdfaWQoY3R4KTsKLX0KLQotc3RhdGljIGlubGluZSB2b2lkIGk5
MTVfZ2VtX2NvbnRleHRfdW5waW5faHdfaWQoc3RydWN0IGk5MTVfZ2VtX2NvbnRleHQgKmN0eCkK
LXsKLQlHRU1fQlVHX09OKGF0b21pY19yZWFkKCZjdHgtPmh3X2lkX3Bpbl9jb3VudCkgPT0gMHUp
OwotCWF0b21pY19kZWMoJmN0eC0+aHdfaWRfcGluX2NvdW50KTsKLX0KLQogc3RhdGljIGlubGlu
ZSBib29sIGk5MTVfZ2VtX2NvbnRleHRfaXNfa2VybmVsKHN0cnVjdCBpOTE1X2dlbV9jb250ZXh0
ICpjdHgpCiB7CiAJcmV0dXJuICFjdHgtPmZpbGVfcHJpdjsKZGlmZiAtLWdpdCBhL2RyaXZlcnMv
Z3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9jb250ZXh0X3R5cGVzLmggYi9kcml2ZXJzL2dwdS9k
cm0vaTkxNS9nZW0vaTkxNV9nZW1fY29udGV4dF90eXBlcy5oCmluZGV4IDI2MGQ1OWNjM2RlOC4u
ODdiZTI3ODc3ZTIyIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9n
ZW1fY29udGV4dF90eXBlcy5oCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dl
bV9jb250ZXh0X3R5cGVzLmgKQEAgLTE0NywyNCArMTQ3LDYgQEAgc3RydWN0IGk5MTVfZ2VtX2Nv
bnRleHQgewogI2RlZmluZSBDT05URVhUX0ZPUkNFX1NJTkdMRV9TVUJNSVNTSU9OCTIKICNkZWZp
bmUgQ09OVEVYVF9VU0VSX0VOR0lORVMJCTMKIAotCS8qKgotCSAqIEBod19pZDogLSB1bmlxdWUg
aWRlbnRpZmllciBmb3IgdGhlIGNvbnRleHQKLQkgKgotCSAqIFRoZSBoYXJkd2FyZSBuZWVkcyB0
byB1bmlxdWVseSBpZGVudGlmeSB0aGUgY29udGV4dCBmb3IgYSBmZXcKLQkgKiBmdW5jdGlvbnMg
bGlrZSBmYXVsdCByZXBvcnRpbmcsIFBBU0lELCBzY2hlZHVsaW5nLiBUaGUKLQkgKiAmZHJtX2k5
MTVfcHJpdmF0ZS5jb250ZXh0X2h3X2lkYSBpcyB1c2VkIHRvIGFzc2lnbiBhIHVucWl1ZQotCSAq
IGlkIGZvciB0aGUgbGlmZXRpbWUgb2YgdGhlIGNvbnRleHQuCi0JICoKLQkgKiBAaHdfaWRfcGlu
X2NvdW50OiAtIG51bWJlciBvZiB0aW1lcyB0aGlzIGNvbnRleHQgaGFkIGJlZW4gcGlubmVkCi0J
ICogZm9yIHVzZSAoc2hvdWxkIGJlLCBhdCBtb3N0LCBvbmNlIHBlciBlbmdpbmUpLgotCSAqCi0J
ICogQGh3X2lkX2xpbms6IC0gYWxsIGNvbnRleHRzIHdpdGggYW4gYXNzaWduZWQgaWQgYXJlIHRy
YWNrZWQKLQkgKiBmb3IgcG9zc2libGUgcmVwb3NzZXNzaW9uLgotCSAqLwotCXVuc2lnbmVkIGlu
dCBod19pZDsKLQlhdG9taWNfdCBod19pZF9waW5fY291bnQ7Ci0Jc3RydWN0IGxpc3RfaGVhZCBo
d19pZF9saW5rOwotCiAJc3RydWN0IG11dGV4IG11dGV4OwogCiAJc3RydWN0IGk5MTVfc2NoZWRf
YXR0ciBzY2hlZDsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9zZWxmdGVz
dHMvaTkxNV9nZW1fY29udGV4dC5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL3NlbGZ0ZXN0
cy9pOTE1X2dlbV9jb250ZXh0LmMKaW5kZXggMjI4ODc1NzgwOGFlLi4yZmIzMWFkYTJmYTcgMTAw
NjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9zZWxmdGVzdHMvaTkxNV9nZW1fY29u
dGV4dC5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9zZWxmdGVzdHMvaTkxNV9nZW1f
Y29udGV4dC5jCkBAIC02NjAsOSArNjYwLDkgQEAgc3RhdGljIGludCBpZ3RfY3R4X2V4ZWModm9p
ZCAqYXJnKQogCiAJCQllcnIgPSBncHVfZmlsbChjZSwgb2JqLCBkdyk7CiAJCQlpZiAoZXJyKSB7
Ci0JCQkJcHJfZXJyKCJGYWlsZWQgdG8gZmlsbCBkd29yZCAlbHUgWyVsdS8lbHVdIHdpdGggZ3B1
ICglcykgaW4gY3R4ICV1IFtmdWxsLXBwZ3R0PyAlc10sIGVycj0lZFxuIiwKKwkJCQlwcl9lcnIo
IkZhaWxlZCB0byBmaWxsIGR3b3JkICVsdSBbJWx1LyVsdV0gd2l0aCBncHUgKCVzKSBbZnVsbC1w
cGd0dD8gJXNdLCBlcnI9JWRcbiIsCiAJCQkJICAgICAgIG5kd29yZHMsIGR3LCBtYXhfZHdvcmRz
KG9iaiksCi0JCQkJICAgICAgIGVuZ2luZS0+bmFtZSwgY3R4LT5od19pZCwKKwkJCQkgICAgICAg
ZW5naW5lLT5uYW1lLAogCQkJCSAgICAgICB5ZXNubyghIWN0eC0+dm0pLCBlcnIpOwogCQkJCWlu
dGVsX2NvbnRleHRfcHV0KGNlKTsKIAkJCQlrZXJuZWxfY29udGV4dF9jbG9zZShjdHgpOwpAQCAt
Nzk4LDkgKzc5OCw5IEBAIHN0YXRpYyBpbnQgaWd0X3NoYXJlZF9jdHhfZXhlYyh2b2lkICphcmcp
CiAKIAkJCWVyciA9IGdwdV9maWxsKGNlLCBvYmosIGR3KTsKIAkJCWlmIChlcnIpIHsKLQkJCQlw
cl9lcnIoIkZhaWxlZCB0byBmaWxsIGR3b3JkICVsdSBbJWx1LyVsdV0gd2l0aCBncHUgKCVzKSBp
biBjdHggJXUgW2Z1bGwtcHBndHQ/ICVzXSwgZXJyPSVkXG4iLAorCQkJCXByX2VycigiRmFpbGVk
IHRvIGZpbGwgZHdvcmQgJWx1IFslbHUvJWx1XSB3aXRoIGdwdSAoJXMpIFtmdWxsLXBwZ3R0PyAl
c10sIGVycj0lZFxuIiwKIAkJCQkgICAgICAgbmR3b3JkcywgZHcsIG1heF9kd29yZHMob2JqKSwK
LQkJCQkgICAgICAgZW5naW5lLT5uYW1lLCBjdHgtPmh3X2lkLAorCQkJCSAgICAgICBlbmdpbmUt
Pm5hbWUsCiAJCQkJICAgICAgIHllc25vKCEhY3R4LT52bSksIGVycik7CiAJCQkJaW50ZWxfY29u
dGV4dF9wdXQoY2UpOwogCQkJCWtlcm5lbF9jb250ZXh0X2Nsb3NlKGN0eCk7CkBAIC0xMzgyLDEw
ICsxMzgyLDkgQEAgc3RhdGljIGludCBpZ3RfY3R4X3JlYWRvbmx5KHZvaWQgKmFyZykKIAogCQkJ
ZXJyID0gZ3B1X2ZpbGwoY2UsIG9iaiwgZHcpOwogCQkJaWYgKGVycikgewotCQkJCXByX2Vycigi
RmFpbGVkIHRvIGZpbGwgZHdvcmQgJWx1IFslbHUvJWx1XSB3aXRoIGdwdSAoJXMpIGluIGN0eCAl
dSBbZnVsbC1wcGd0dD8gJXNdLCBlcnI9JWRcbiIsCisJCQkJcHJfZXJyKCJGYWlsZWQgdG8gZmls
bCBkd29yZCAlbHUgWyVsdS8lbHVdIHdpdGggZ3B1ICglcykgW2Z1bGwtcHBndHQ/ICVzXSwgZXJy
PSVkXG4iLAogCQkJCSAgICAgICBuZHdvcmRzLCBkdywgbWF4X2R3b3JkcyhvYmopLAotCQkJCSAg
ICAgICBjZS0+ZW5naW5lLT5uYW1lLCBjdHgtPmh3X2lkLAotCQkJCSAgICAgICB5ZXNubyghIWN0
eC0+dm0pLCBlcnIpOworCQkJCSAgICAgICBjZS0+ZW5naW5lLT5uYW1lLCB5ZXNubyghIWN0eC0+
dm0pLCBlcnIpOwogCQkJCWk5MTVfZ2VtX2NvbnRleHRfdW5sb2NrX2VuZ2luZXMoY3R4KTsKIAkJ
CQlnb3RvIG91dF91bmxvY2s7CiAJCQl9CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkx
NS9nZW0vc2VsZnRlc3RzL21vY2tfY29udGV4dC5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2Vt
L3NlbGZ0ZXN0cy9tb2NrX2NvbnRleHQuYwppbmRleCBiZTg5NzRjY2ZmMjQuLjAxMDRmMTZiMTMy
NyAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL3NlbGZ0ZXN0cy9tb2NrX2Nv
bnRleHQuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vc2VsZnRlc3RzL21vY2tfY29u
dGV4dC5jCkBAIC0xMyw3ICsxMyw2IEBAIG1vY2tfY29udGV4dChzdHJ1Y3QgZHJtX2k5MTVfcHJp
dmF0ZSAqaTkxNSwKIHsKIAlzdHJ1Y3QgaTkxNV9nZW1fY29udGV4dCAqY3R4OwogCXN0cnVjdCBp
OTE1X2dlbV9lbmdpbmVzICplOwotCWludCByZXQ7CiAKIAljdHggPSBremFsbG9jKHNpemVvZigq
Y3R4KSwgR0ZQX0tFUk5FTCk7CiAJaWYgKCFjdHgpCkBAIC0zMCwxMyArMjksOCBAQCBtb2NrX2Nv
bnRleHQoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUsCiAJUkNVX0lOSVRfUE9JTlRFUihj
dHgtPmVuZ2luZXMsIGUpOwogCiAJSU5JVF9SQURJWF9UUkVFKCZjdHgtPmhhbmRsZXNfdm1hLCBH
RlBfS0VSTkVMKTsKLQlJTklUX0xJU1RfSEVBRCgmY3R4LT5od19pZF9saW5rKTsKIAltdXRleF9p
bml0KCZjdHgtPm11dGV4KTsKIAotCXJldCA9IGk5MTVfZ2VtX2NvbnRleHRfcGluX2h3X2lkKGN0
eCk7Ci0JaWYgKHJldCA8IDApCi0JCWdvdG8gZXJyX2VuZ2luZXM7Ci0KIAlpZiAobmFtZSkgewog
CQlzdHJ1Y3QgaTkxNV9wcGd0dCAqcHBndHQ7CiAKQEAgLTU0LDggKzQ4LDYgQEAgbW9ja19jb250
ZXh0KHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICppOTE1LAogCiAJcmV0dXJuIGN0eDsKIAotZXJy
X2VuZ2luZXM6Ci0JZnJlZV9lbmdpbmVzKHJjdV9hY2Nlc3NfcG9pbnRlcihjdHgtPmVuZ2luZXMp
KTsKIGVycl9mcmVlOgogCWtmcmVlKGN0eCk7CiAJcmV0dXJuIE5VTEw7CmRpZmYgLS1naXQgYS9k
cml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9jb250ZXh0X3R5cGVzLmggYi9kcml2ZXJzL2dw
dS9kcm0vaTkxNS9ndC9pbnRlbF9jb250ZXh0X3R5cGVzLmgKaW5kZXggYmY5Y2VkZmNjYmYwLi42
OTU5YjA1YWU1ZjggMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2Nv
bnRleHRfdHlwZXMuaAorKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9jb250ZXh0
X3R5cGVzLmgKQEAgLTU4LDYgKzU4LDcgQEAgc3RydWN0IGludGVsX2NvbnRleHQgewogCiAJdTMy
ICpscmNfcmVnX3N0YXRlOwogCXU2NCBscmNfZGVzYzsKKwl1MzIgdGFnOyAvKiBjb29raWUgcGFz
c2VkIHRvIEhXIHRvIHRyYWNrIHRoaXMgY29udGV4dCBvbiBzdWJtaXNzaW9uICovCiAKIAl1bnNp
Z25lZCBpbnQgYWN0aXZlX2NvdW50OyAvKiBwcm90ZWN0ZWQgYnkgdGltZWxpbmUtPm11dGV4ICov
CiAKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2VuZ2luZV90eXBl
cy5oIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZW5naW5lX3R5cGVzLmgKaW5kZXgg
OTQzZjA2NjM4MzdlLi42MTk5MDY0ZjMzMmIgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9p
OTE1L2d0L2ludGVsX2VuZ2luZV90eXBlcy5oCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0
L2ludGVsX2VuZ2luZV90eXBlcy5oCkBAIC0zMDMsMTAgKzMwMywxMiBAQCBzdHJ1Y3QgaW50ZWxf
ZW5naW5lX2NzIHsKIAl1OCB1YWJpX2NsYXNzOwogCXU4IHVhYmlfaW5zdGFuY2U7CiAKKwl1MzIg
dWFiaV9jYXBhYmlsaXRpZXM7CiAJdTMyIGNvbnRleHRfc2l6ZTsKIAl1MzIgbW1pb19iYXNlOwog
Ci0JdTMyIHVhYmlfY2FwYWJpbGl0aWVzOworCXVuc2lnbmVkIGludCBjb250ZXh0X3RhZzsKKyNk
ZWZpbmUgTlVNX0NPTlRFWFRfVEFHIHJvdW5kdXBfcG93X29mX3R3bygyICogRVhFQ0xJU1RfTUFY
X1BPUlRTKQogCiAJc3RydWN0IHJiX25vZGUgdWFiaV9ub2RlOwogCmRpZmYgLS1naXQgYS9kcml2
ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9scmMuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0
L2ludGVsX2xyYy5jCmluZGV4IDNjZmVhMTc1OGZkMi4uNDY4NDM4ZmI0N2FmIDEwMDY0NAotLS0g
YS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9scmMuYworKysgYi9kcml2ZXJzL2dwdS9k
cm0vaTkxNS9ndC9pbnRlbF9scmMuYwpAQCAtNDQwLDEyICs0NDAsOCBAQCBhc3NlcnRfcHJpb3Jp
dHlfcXVldWUoY29uc3Qgc3RydWN0IGk5MTVfcmVxdWVzdCAqcHJldiwKIHN0YXRpYyB1NjQKIGxy
Y19kZXNjcmlwdG9yKHN0cnVjdCBpbnRlbF9jb250ZXh0ICpjZSwgc3RydWN0IGludGVsX2VuZ2lu
ZV9jcyAqZW5naW5lKQogewotCXN0cnVjdCBpOTE1X2dlbV9jb250ZXh0ICpjdHggPSBjZS0+Z2Vt
X2NvbnRleHQ7CiAJdTY0IGRlc2M7CiAKLQlCVUlMRF9CVUdfT04oTUFYX0NPTlRFWFRfSFdfSUQg
PiAoQklUKEdFTjhfQ1RYX0lEX1dJRFRIKSkpOwotCUJVSUxEX0JVR19PTihHRU4xMV9NQVhfQ09O
VEVYVF9IV19JRCA+IChCSVQoR0VOMTFfU1dfQ1RYX0lEX1dJRFRIKSkpOwotCiAJZGVzYyA9IElO
VEVMX0xFR0FDWV8zMkJfQ09OVEVYVDsKIAlpZiAoaTkxNV92bV9pc180bHZsKGNlLT52bSkpCiAJ
CWRlc2MgPSBJTlRFTF9MRUdBQ1lfNjRCX0NPTlRFWFQ7CkBAIC00NjMsMjAgKzQ1OSwxMSBAQCBs
cmNfZGVzY3JpcHRvcihzdHJ1Y3QgaW50ZWxfY29udGV4dCAqY2UsIHN0cnVjdCBpbnRlbF9lbmdp
bmVfY3MgKmVuZ2luZSkKIAkgKiBhbnl0aGluZyBiZWxvdy4KIAkgKi8KIAlpZiAoSU5URUxfR0VO
KGVuZ2luZS0+aTkxNSkgPj0gMTEpIHsKLQkJR0VNX0JVR19PTihjdHgtPmh3X2lkID49IEJJVChH
RU4xMV9TV19DVFhfSURfV0lEVEgpKTsKLQkJZGVzYyB8PSAodTY0KWN0eC0+aHdfaWQgPDwgR0VO
MTFfU1dfQ1RYX0lEX1NISUZUOwotCQkJCQkJCQkvKiBiaXRzIDM3LTQ3ICovCi0KIAkJZGVzYyB8
PSAodTY0KWVuZ2luZS0+aW5zdGFuY2UgPDwgR0VOMTFfRU5HSU5FX0lOU1RBTkNFX1NISUZUOwog
CQkJCQkJCQkvKiBiaXRzIDQ4LTUzICovCiAKLQkJLyogVE9ETzogZGVjaWRlIHdoYXQgdG8gZG8g
d2l0aCBTVyBjb3VudGVyIChiaXRzIDU1LTYwKSAqLwotCiAJCWRlc2MgfD0gKHU2NCllbmdpbmUt
PmNsYXNzIDw8IEdFTjExX0VOR0lORV9DTEFTU19TSElGVDsKIAkJCQkJCQkJLyogYml0cyA2MS02
MyAqLwotCX0gZWxzZSB7Ci0JCUdFTV9CVUdfT04oY3R4LT5od19pZCA+PSBCSVQoR0VOOF9DVFhf
SURfV0lEVEgpKTsKLQkJZGVzYyB8PSAodTY0KWN0eC0+aHdfaWQgPDwgR0VOOF9DVFhfSURfU0hJ
RlQ7CS8qIGJpdHMgMzItNTIgKi8KIAl9CiAKIAlyZXR1cm4gZGVzYzsKQEAgLTk4NSw2ICs5NzIs
MTggQEAgX19leGVjbGlzdHNfc2NoZWR1bGVfaW4oc3RydWN0IGk5MTVfcmVxdWVzdCAqcnEpCiAK
IAlpbnRlbF9jb250ZXh0X2dldChjZSk7CiAKKwlpZiAoY2UtPnRhZykgeworCQkvKiBVc2UgYSBm
aXhlZCB0YWcgZm9yIE9BIGFuZCBmcmllbmRzICovCisJCWNlLT5scmNfZGVzYyB8PSAodTY0KWNl
LT50YWcgPDwgMzI7CisJfSBlbHNlIHsKKwkJLyogV2UgZG9uJ3QgbmVlZCBhIHN0cmljdCBtYXRj
aGluZyB0YWcsIGp1c3QgZGlmZmVyZW50IHZhbHVlcyAqLworCQljZS0+bHJjX2Rlc2MgJj0gfkdF
Tk1BU0tfVUxMKDQ3LCAzNyk7CisJCWNlLT5scmNfZGVzYyB8PQorCQkJKHU2NCkoZW5naW5lLT5j
b250ZXh0X3RhZysrICUgTlVNX0NPTlRFWFRfVEFHKSA8PAorCQkJR0VOMTFfU1dfQ1RYX0lEX1NI
SUZUOworCQlCVUlMRF9CVUdfT04oTlVNX0NPTlRFWFRfVEFHID4gR0VOMTJfTUFYX0NPTlRFWFRf
SFdfSUQpOworCX0KKwogCWludGVsX2d0X3BtX2dldChlbmdpbmUtPmd0KTsKIAlleGVjbGlzdHNf
Y29udGV4dF9zdGF0dXNfY2hhbmdlKHJxLCBJTlRFTF9DT05URVhUX1NDSEVEVUxFX0lOKTsKIAlp
bnRlbF9lbmdpbmVfY29udGV4dF9pbihlbmdpbmUpOwpAQCAtMjExNCw3ICsyMTEzLDYgQEAgc3Rh
dGljIHZvaWQgZXhlY2xpc3RzX2NvbnRleHRfdW5waW4oc3RydWN0IGludGVsX2NvbnRleHQgKmNl
KQogCWNoZWNrX3JlZHpvbmUoKHZvaWQgKiljZS0+bHJjX3JlZ19zdGF0ZSAtIExSQ19TVEFURV9Q
TiAqIFBBR0VfU0laRSwKIAkJICAgICAgY2UtPmVuZ2luZSk7CiAKLQlpOTE1X2dlbV9jb250ZXh0
X3VucGluX2h3X2lkKGNlLT5nZW1fY29udGV4dCk7CiAJaTkxNV9nZW1fb2JqZWN0X3VucGluX21h
cChjZS0+c3RhdGUtPm9iaik7CiAJaW50ZWxfcmluZ19yZXNldChjZS0+cmluZywgY2UtPnJpbmct
PnRhaWwpOwogfQpAQCAtMjE2NCwxOCArMjE2MiwxMiBAQCBfX2V4ZWNsaXN0c19jb250ZXh0X3Bp
bihzdHJ1Y3QgaW50ZWxfY29udGV4dCAqY2UsCiAJCWdvdG8gdW5waW5fYWN0aXZlOwogCX0KIAot
CXJldCA9IGk5MTVfZ2VtX2NvbnRleHRfcGluX2h3X2lkKGNlLT5nZW1fY29udGV4dCk7Ci0JaWYg
KHJldCkKLQkJZ290byB1bnBpbl9tYXA7Ci0KIAljZS0+bHJjX2Rlc2MgPSBscmNfZGVzY3JpcHRv
cihjZSwgZW5naW5lKTsKIAljZS0+bHJjX3JlZ19zdGF0ZSA9IHZhZGRyICsgTFJDX1NUQVRFX1BO
ICogUEFHRV9TSVpFOwogCV9fZXhlY2xpc3RzX3VwZGF0ZV9yZWdfc3RhdGUoY2UsIGVuZ2luZSk7
CiAKIAlyZXR1cm4gMDsKIAotdW5waW5fbWFwOgotCWk5MTVfZ2VtX29iamVjdF91bnBpbl9tYXAo
Y2UtPnN0YXRlLT5vYmopOwogdW5waW5fYWN0aXZlOgogCWludGVsX2NvbnRleHRfYWN0aXZlX3Jl
bGVhc2UoY2UpOwogZXJyOgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50
ZWxfbHJjLmggYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9scmMuaAppbmRleCA2NmFj
NjE2MzYxYzEuLjk5ZGM1NzZhNGUyNSAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUv
Z3QvaW50ZWxfbHJjLmgKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfbHJjLmgK
QEAgLTY2LDYgKzY2LDEyIEBAIHN0cnVjdCBpbnRlbF9lbmdpbmVfY3M7CiAjZGVmaW5lIEdFTjEx
X0NTQl9SRUFEX1BUUl9NQVNLIChHRU4xMV9DU0JfUFRSX01BU0sgPDwgOCkKICNkZWZpbmUgR0VO
MTFfQ1NCX1dSSVRFX1BUUl9NQVNLIChHRU4xMV9DU0JfUFRSX01BU0sgPDwgMCkKIAorI2RlZmlu
ZSBNQVhfQ09OVEVYVF9IV19JRCAoMTw8MjEpIC8qIGV4Y2x1c2l2ZSAqLworI2RlZmluZSBNQVhf
R1VDX0NPTlRFWFRfSFdfSUQgKDEgPDwgMjApIC8qIGV4Y2x1c2l2ZSAqLworI2RlZmluZSBHRU4x
MV9NQVhfQ09OVEVYVF9IV19JRCAoMTw8MTEpIC8qIGV4Y2x1c2l2ZSAqLworLyogaW4gR2VuMTIg
SUQgMHg3RkYgaXMgcmVzZXJ2ZWQgdG8gaW5kaWNhdGUgaWRsZSAqLworI2RlZmluZSBHRU4xMl9N
QVhfQ09OVEVYVF9IV19JRAkoR0VOMTFfTUFYX0NPTlRFWFRfSFdfSUQgLSAxKQorCiBlbnVtIHsK
IAlJTlRFTF9DT05URVhUX1NDSEVEVUxFX0lOID0gMCwKIAlJTlRFTF9DT05URVhUX1NDSEVEVUxF
X09VVCwKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d2dC9rdm1ndC5jIGIvZHJp
dmVycy9ncHUvZHJtL2k5MTUvZ3Z0L2t2bWd0LmMKaW5kZXggMzQzZDc5YzFjYjdlLi4wNGE1YTBk
OTA4MjMgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d2dC9rdm1ndC5jCisrKyBi
L2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d2dC9rdm1ndC5jCkBAIC0xNTY0LDI3ICsxNTY0LDEwIEBA
IHZncHVfaWRfc2hvdyhzdHJ1Y3QgZGV2aWNlICpkZXYsIHN0cnVjdCBkZXZpY2VfYXR0cmlidXRl
ICphdHRyLAogCXJldHVybiBzcHJpbnRmKGJ1ZiwgIlxuIik7CiB9CiAKLXN0YXRpYyBzc2l6ZV90
Ci1od19pZF9zaG93KHN0cnVjdCBkZXZpY2UgKmRldiwgc3RydWN0IGRldmljZV9hdHRyaWJ1dGUg
KmF0dHIsCi0JICAgY2hhciAqYnVmKQotewotCXN0cnVjdCBtZGV2X2RldmljZSAqbWRldiA9IG1k
ZXZfZnJvbV9kZXYoZGV2KTsKLQotCWlmIChtZGV2KSB7Ci0JCXN0cnVjdCBpbnRlbF92Z3B1ICp2
Z3B1ID0gKHN0cnVjdCBpbnRlbF92Z3B1ICopCi0JCQltZGV2X2dldF9kcnZkYXRhKG1kZXYpOwot
CQlyZXR1cm4gc3ByaW50ZihidWYsICIldVxuIiwKLQkJCSAgICAgICB2Z3B1LT5zdWJtaXNzaW9u
LnNoYWRvd1swXS0+Z2VtX2NvbnRleHQtPmh3X2lkKTsKLQl9Ci0JcmV0dXJuIHNwcmludGYoYnVm
LCAiXG4iKTsKLX0KLQogc3RhdGljIERFVklDRV9BVFRSX1JPKHZncHVfaWQpOwotc3RhdGljIERF
VklDRV9BVFRSX1JPKGh3X2lkKTsKIAogc3RhdGljIHN0cnVjdCBhdHRyaWJ1dGUgKmludGVsX3Zn
cHVfYXR0cnNbXSA9IHsKIAkmZGV2X2F0dHJfdmdwdV9pZC5hdHRyLAotCSZkZXZfYXR0cl9od19p
ZC5hdHRyLAogCU5VTEwKIH07CiAKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5
MTVfZGVidWdmcy5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kZWJ1Z2ZzLmMKaW5kZXgg
MmFmYzQxZTQzYjZlLi4wZTkwYWM2MDhlMDcgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9p
OTE1L2k5MTVfZGVidWdmcy5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZGVidWdm
cy5jCkBAIC0xNTkzLDkgKzE1OTMsNiBAQCBzdGF0aWMgaW50IGk5MTVfY29udGV4dF9zdGF0dXMo
c3RydWN0IHNlcV9maWxlICptLCB2b2lkICp1bnVzZWQpCiAJCXN0cnVjdCBpbnRlbF9jb250ZXh0
ICpjZTsKIAogCQlzZXFfcHV0cyhtLCAiSFcgY29udGV4dCAiKTsKLQkJaWYgKCFsaXN0X2VtcHR5
KCZjdHgtPmh3X2lkX2xpbmspKQotCQkJc2VxX3ByaW50ZihtLCAiJXggW3BpbiAldV0iLCBjdHgt
Pmh3X2lkLAotCQkJCSAgIGF0b21pY19yZWFkKCZjdHgtPmh3X2lkX3Bpbl9jb3VudCkpOwogCQlp
ZiAoY3R4LT5waWQpIHsKIAkJCXN0cnVjdCB0YXNrX3N0cnVjdCAqdGFzazsKIApkaWZmIC0tZ2l0
IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kcnYuaCBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1
L2k5MTVfZHJ2LmgKaW5kZXggY2I2M2IyYmQwY2U4Li42YmRjZmZiZjFiOWIgMTAwNjQ0Ci0tLSBh
L2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZHJ2LmgKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5
MTUvaTkxNV9kcnYuaApAQCAtMTU0MSwxOCArMTU0MSw2IEBAIHN0cnVjdCBkcm1faTkxNV9wcml2
YXRlIHsKIAkJc3RydWN0IGxpc3RfaGVhZCBsaXN0OwogCQlzdHJ1Y3QgbGxpc3RfaGVhZCBmcmVl
X2xpc3Q7CiAJCXN0cnVjdCB3b3JrX3N0cnVjdCBmcmVlX3dvcms7Ci0KLQkJLyogVGhlIGh3IHdh
bnRzIHRvIGhhdmUgYSBzdGFibGUgY29udGV4dCBpZGVudGlmaWVyIGZvciB0aGUKLQkJICogbGlm
ZXRpbWUgb2YgdGhlIGNvbnRleHQgKGZvciBPQSwgUEFTSUQsIGZhdWx0cywgZXRjKS4KLQkJICog
VGhpcyBpcyBsaW1pdGVkIGluIGV4ZWNsaXN0cyB0byAyMSBiaXRzLgotCQkgKi8KLQkJc3RydWN0
IGlkYSBod19pZGE7Ci0jZGVmaW5lIE1BWF9DT05URVhUX0hXX0lEICgxPDwyMSkgLyogZXhjbHVz
aXZlICovCi0jZGVmaW5lIE1BWF9HVUNfQ09OVEVYVF9IV19JRCAoMSA8PCAyMCkgLyogZXhjbHVz
aXZlICovCi0jZGVmaW5lIEdFTjExX01BWF9DT05URVhUX0hXX0lEICgxPDwxMSkgLyogZXhjbHVz
aXZlICovCi0vKiBpbiBHZW4xMiBJRCAweDdGRiBpcyByZXNlcnZlZCB0byBpbmRpY2F0ZSBpZGxl
ICovCi0jZGVmaW5lIEdFTjEyX01BWF9DT05URVhUX0hXX0lECShHRU4xMV9NQVhfQ09OVEVYVF9I
V19JRCAtIDEpCi0JCXN0cnVjdCBsaXN0X2hlYWQgaHdfaWRfbGlzdDsKIAl9IGNvbnRleHRzOwog
CiAJdTMyIGZkaV9yeF9jb25maWc7CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9p
OTE1X2dwdV9lcnJvci5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9ncHVfZXJyb3IuYwpp
bmRleCBhMjhlZTc1NGI3YjQuLjVjZjRlZWQ1YWRkOCAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUv
ZHJtL2k5MTUvaTkxNV9ncHVfZXJyb3IuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1
X2dwdV9lcnJvci5jCkBAIC00NzEsOSArNDcxLDkgQEAgc3RhdGljIHZvaWQgZXJyb3JfcHJpbnRf
Y29udGV4dChzdHJ1Y3QgZHJtX2k5MTVfZXJyb3Jfc3RhdGVfYnVmICptLAogCQkJCWNvbnN0IGNo
YXIgKmhlYWRlciwKIAkJCQljb25zdCBzdHJ1Y3QgZHJtX2k5MTVfZXJyb3JfY29udGV4dCAqY3R4
KQogewotCWVycl9wcmludGYobSwgIiVzJXNbJWRdIGh3X2lkICVkLCBwcmlvICVkLCBndWlsdHkg
JWQgYWN0aXZlICVkXG4iLAotCQkgICBoZWFkZXIsIGN0eC0+Y29tbSwgY3R4LT5waWQsIGN0eC0+
aHdfaWQsCi0JCSAgIGN0eC0+c2NoZWRfYXR0ci5wcmlvcml0eSwgY3R4LT5ndWlsdHksIGN0eC0+
YWN0aXZlKTsKKwllcnJfcHJpbnRmKG0sICIlcyVzWyVkXSBwcmlvICVkLCBndWlsdHkgJWQgYWN0
aXZlICVkXG4iLAorCQkgICBoZWFkZXIsIGN0eC0+Y29tbSwgY3R4LT5waWQsIGN0eC0+c2NoZWRf
YXR0ci5wcmlvcml0eSwKKwkJICAgY3R4LT5ndWlsdHksIGN0eC0+YWN0aXZlKTsKIH0KIAogc3Rh
dGljIHZvaWQgZXJyb3JfcHJpbnRfZW5naW5lKHN0cnVjdCBkcm1faTkxNV9lcnJvcl9zdGF0ZV9i
dWYgKm0sCkBAIC0xMjcxLDcgKzEyNzEsNiBAQCBzdGF0aWMgYm9vbCByZWNvcmRfY29udGV4dChz
dHJ1Y3QgZHJtX2k5MTVfZXJyb3JfY29udGV4dCAqZSwKIAkJcmN1X3JlYWRfdW5sb2NrKCk7CiAJ
fQogCi0JZS0+aHdfaWQgPSBjdHgtPmh3X2lkOwogCWUtPnNjaGVkX2F0dHIgPSBjdHgtPnNjaGVk
OwogCWUtPmd1aWx0eSA9IGF0b21pY19yZWFkKCZjdHgtPmd1aWx0eV9jb3VudCk7CiAJZS0+YWN0
aXZlID0gYXRvbWljX3JlYWQoJmN0eC0+YWN0aXZlX2NvdW50KTsKZGlmZiAtLWdpdCBhL2RyaXZl
cnMvZ3B1L2RybS9pOTE1L2k5MTVfZ3B1X2Vycm9yLmggYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9p
OTE1X2dwdV9lcnJvci5oCmluZGV4IDYzY2YzODc0MTFlMC4uN2YxY2QwYjFmZWY3IDEwMDY0NAot
LS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2dwdV9lcnJvci5oCisrKyBiL2RyaXZlcnMv
Z3B1L2RybS9pOTE1L2k5MTVfZ3B1X2Vycm9yLmgKQEAgLTExOSw3ICsxMTksNiBAQCBzdHJ1Y3Qg
aTkxNV9ncHVfc3RhdGUgewogCQlzdHJ1Y3QgZHJtX2k5MTVfZXJyb3JfY29udGV4dCB7CiAJCQlj
aGFyIGNvbW1bVEFTS19DT01NX0xFTl07CiAJCQlwaWRfdCBwaWQ7Ci0JCQl1MzIgaHdfaWQ7CiAJ
CQlpbnQgYWN0aXZlOwogCQkJaW50IGd1aWx0eTsKIAkJCXN0cnVjdCBpOTE1X3NjaGVkX2F0dHIg
c2NoZWRfYXR0cjsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfcGVyZi5j
IGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9wZXJmLmMKaW5kZXggODAwNTU1MDFlY2NiLi5l
Y2ZiYzM3YjczOGIgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfcGVyZi5j
CisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfcGVyZi5jCkBAIC0xMjgzLDIyICsxMjgz
LDE1IEBAIHN0YXRpYyBpbnQgb2FfZ2V0X3JlbmRlcl9jdHhfaWQoc3RydWN0IGk5MTVfcGVyZl9z
dHJlYW0gKnN0cmVhbSkKIAkJfSBlbHNlIHsKIAkJCXN0cmVhbS0+c3BlY2lmaWNfY3R4X2lkX21h
c2sgPQogCQkJCSgxVSA8PCBHRU44X0NUWF9JRF9XSURUSCkgLSAxOwotCQkJc3RyZWFtLT5zcGVj
aWZpY19jdHhfaWQgPQotCQkJCXVwcGVyXzMyX2JpdHMoY2UtPmxyY19kZXNjKTsKLQkJCXN0cmVh
bS0+c3BlY2lmaWNfY3R4X2lkICY9Ci0JCQkJc3RyZWFtLT5zcGVjaWZpY19jdHhfaWRfbWFzazsK
KwkJCXN0cmVhbS0+c3BlY2lmaWNfY3R4X2lkID0gc3RyZWFtLT5zcGVjaWZpY19jdHhfaWRfbWFz
azsKIAkJfQogCQlicmVhazsKIAogCWNhc2UgMTE6CiAJY2FzZSAxMjogewogCQlzdHJlYW0tPnNw
ZWNpZmljX2N0eF9pZF9tYXNrID0KLQkJCSgoMVUgPDwgR0VOMTFfU1dfQ1RYX0lEX1dJRFRIKSAt
IDEpIDw8IChHRU4xMV9TV19DVFhfSURfU0hJRlQgLSAzMikgfAotCQkJKCgxVSA8PCBHRU4xMV9F
TkdJTkVfSU5TVEFOQ0VfV0lEVEgpIC0gMSkgPDwgKEdFTjExX0VOR0lORV9JTlNUQU5DRV9TSElG
VCAtIDMyKSB8Ci0JCQkoKDEgPDwgR0VOMTFfRU5HSU5FX0NMQVNTX1dJRFRIKSAtIDEpIDw8IChH
RU4xMV9FTkdJTkVfQ0xBU1NfU0hJRlQgLSAzMik7Ci0JCXN0cmVhbS0+c3BlY2lmaWNfY3R4X2lk
ID0gdXBwZXJfMzJfYml0cyhjZS0+bHJjX2Rlc2MpOwotCQlzdHJlYW0tPnNwZWNpZmljX2N0eF9p
ZCAmPQotCQkJc3RyZWFtLT5zcGVjaWZpY19jdHhfaWRfbWFzazsKKwkJCSgoMVUgPDwgR0VOMTFf
U1dfQ1RYX0lEX1dJRFRIKSAtIDEpIDw8IChHRU4xMV9TV19DVFhfSURfU0hJRlQgLSAzMik7CisJ
CXN0cmVhbS0+c3BlY2lmaWNfY3R4X2lkID0gc3RyZWFtLT5zcGVjaWZpY19jdHhfaWRfbWFzazsK
IAkJYnJlYWs7CiAJfQogCkBAIC0xMzA2LDYgKzEyOTksOCBAQCBzdGF0aWMgaW50IG9hX2dldF9y
ZW5kZXJfY3R4X2lkKHN0cnVjdCBpOTE1X3BlcmZfc3RyZWFtICpzdHJlYW0pCiAJCU1JU1NJTkdf
Q0FTRShJTlRFTF9HRU4oaTkxNSkpOwogCX0KIAorCWNlLT50YWcgPSBzdHJlYW0tPnNwZWNpZmlj
X2N0eF9pZF9tYXNrOworCiAJRFJNX0RFQlVHX0RSSVZFUigiZmlsdGVyaW5nIG9uIGN0eF9pZD0w
eCV4IGN0eF9pZF9tYXNrPTB4JXhcbiIsCiAJCQkgc3RyZWFtLT5zcGVjaWZpY19jdHhfaWQsCiAJ
CQkgc3RyZWFtLT5zcGVjaWZpY19jdHhfaWRfbWFzayk7CkBAIC0xMzI0LDEyICsxMzE5LDE0IEBA
IHN0YXRpYyB2b2lkIG9hX3B1dF9yZW5kZXJfY3R4X2lkKHN0cnVjdCBpOTE1X3BlcmZfc3RyZWFt
ICpzdHJlYW0pCiB7CiAJc3RydWN0IGludGVsX2NvbnRleHQgKmNlOwogCi0Jc3RyZWFtLT5zcGVj
aWZpY19jdHhfaWQgPSBJTlZBTElEX0NUWF9JRDsKLQlzdHJlYW0tPnNwZWNpZmljX2N0eF9pZF9t
YXNrID0gMDsKLQogCWNlID0gZmV0Y2hfYW5kX3plcm8oJnN0cmVhbS0+cGlubmVkX2N0eCk7Ci0J
aWYgKGNlKQorCWlmIChjZSkgeworCQljZS0+dGFnID0gMDsgLyogcmVjb21wdXRlZCBvbiBuZXh0
IHN1Ym1pc3Npb24gYWZ0ZXIgcGFya2luZyAqLwogCQlpbnRlbF9jb250ZXh0X3VucGluKGNlKTsK
Kwl9CisKKwlzdHJlYW0tPnNwZWNpZmljX2N0eF9pZCA9IElOVkFMSURfQ1RYX0lEOworCXN0cmVh
bS0+c3BlY2lmaWNfY3R4X2lkX21hc2sgPSAwOwogfQogCiBzdGF0aWMgdm9pZApkaWZmIC0tZ2l0
IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV90cmFjZS5oIGIvZHJpdmVycy9ncHUvZHJtL2k5
MTUvaTkxNV90cmFjZS5oCmluZGV4IDI0ZjI5NDRkYTA5ZC4uMWYyY2Y2Y2ZhZmI1IDEwMDY0NAot
LS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3RyYWNlLmgKKysrIGIvZHJpdmVycy9ncHUv
ZHJtL2k5MTUvaTkxNV90cmFjZS5oCkBAIC02NjUsNyArNjY1LDYgQEAgVFJBQ0VfRVZFTlQoaTkx
NV9yZXF1ZXN0X3F1ZXVlLAogCiAJICAgIFRQX1NUUlVDVF9fZW50cnkoCiAJCQkgICAgIF9fZmll
bGQodTMyLCBkZXYpCi0JCQkgICAgIF9fZmllbGQodTMyLCBod19pZCkKIAkJCSAgICAgX19maWVs
ZCh1NjQsIGN0eCkKIAkJCSAgICAgX19maWVsZCh1MTYsIGNsYXNzKQogCQkJICAgICBfX2ZpZWxk
KHUxNiwgaW5zdGFuY2UpCkBAIC02NzUsNyArNjc0LDYgQEAgVFJBQ0VfRVZFTlQoaTkxNV9yZXF1
ZXN0X3F1ZXVlLAogCiAJICAgIFRQX2Zhc3RfYXNzaWduKAogCQkJICAgX19lbnRyeS0+ZGV2ID0g
cnEtPmk5MTUtPmRybS5wcmltYXJ5LT5pbmRleDsKLQkJCSAgIF9fZW50cnktPmh3X2lkID0gcnEt
PmdlbV9jb250ZXh0LT5od19pZDsKIAkJCSAgIF9fZW50cnktPmNsYXNzID0gcnEtPmVuZ2luZS0+
dWFiaV9jbGFzczsKIAkJCSAgIF9fZW50cnktPmluc3RhbmNlID0gcnEtPmVuZ2luZS0+dWFiaV9p
bnN0YW5jZTsKIAkJCSAgIF9fZW50cnktPmN0eCA9IHJxLT5mZW5jZS5jb250ZXh0OwpAQCAtNjgz
LDEwICs2ODEsOSBAQCBUUkFDRV9FVkVOVChpOTE1X3JlcXVlc3RfcXVldWUsCiAJCQkgICBfX2Vu
dHJ5LT5mbGFncyA9IGZsYWdzOwogCQkJICAgKSwKIAotCSAgICBUUF9wcmludGsoImRldj0ldSwg
ZW5naW5lPSV1OiV1LCBod19pZD0ldSwgY3R4PSVsbHUsIHNlcW5vPSV1LCBmbGFncz0weCV4IiwK
KwkgICAgVFBfcHJpbnRrKCJkZXY9JXUsIGVuZ2luZT0ldToldSwgY3R4PSVsbHUsIHNlcW5vPSV1
LCBmbGFncz0weCV4IiwKIAkJICAgICAgX19lbnRyeS0+ZGV2LCBfX2VudHJ5LT5jbGFzcywgX19l
bnRyeS0+aW5zdGFuY2UsCi0JCSAgICAgIF9fZW50cnktPmh3X2lkLCBfX2VudHJ5LT5jdHgsIF9f
ZW50cnktPnNlcW5vLAotCQkgICAgICBfX2VudHJ5LT5mbGFncykKKwkJICAgICAgX19lbnRyeS0+
Y3R4LCBfX2VudHJ5LT5zZXFubywgX19lbnRyeS0+ZmxhZ3MpCiApOwogCiBERUNMQVJFX0VWRU5U
X0NMQVNTKGk5MTVfcmVxdWVzdCwKQEAgLTY5NSw3ICs2OTIsNiBAQCBERUNMQVJFX0VWRU5UX0NM
QVNTKGk5MTVfcmVxdWVzdCwKIAogCSAgICBUUF9TVFJVQ1RfX2VudHJ5KAogCQkJICAgICBfX2Zp
ZWxkKHUzMiwgZGV2KQotCQkJICAgICBfX2ZpZWxkKHUzMiwgaHdfaWQpCiAJCQkgICAgIF9fZmll
bGQodTY0LCBjdHgpCiAJCQkgICAgIF9fZmllbGQodTE2LCBjbGFzcykKIAkJCSAgICAgX19maWVs
ZCh1MTYsIGluc3RhbmNlKQpAQCAtNzA0LDE2ICs3MDAsMTUgQEAgREVDTEFSRV9FVkVOVF9DTEFT
UyhpOTE1X3JlcXVlc3QsCiAKIAkgICAgVFBfZmFzdF9hc3NpZ24oCiAJCQkgICBfX2VudHJ5LT5k
ZXYgPSBycS0+aTkxNS0+ZHJtLnByaW1hcnktPmluZGV4OwotCQkJICAgX19lbnRyeS0+aHdfaWQg
PSBycS0+Z2VtX2NvbnRleHQtPmh3X2lkOwogCQkJICAgX19lbnRyeS0+Y2xhc3MgPSBycS0+ZW5n
aW5lLT51YWJpX2NsYXNzOwogCQkJICAgX19lbnRyeS0+aW5zdGFuY2UgPSBycS0+ZW5naW5lLT51
YWJpX2luc3RhbmNlOwogCQkJICAgX19lbnRyeS0+Y3R4ID0gcnEtPmZlbmNlLmNvbnRleHQ7CiAJ
CQkgICBfX2VudHJ5LT5zZXFubyA9IHJxLT5mZW5jZS5zZXFubzsKIAkJCSAgICksCiAKLQkgICAg
VFBfcHJpbnRrKCJkZXY9JXUsIGVuZ2luZT0ldToldSwgaHdfaWQ9JXUsIGN0eD0lbGx1LCBzZXFu
bz0ldSIsCisJICAgIFRQX3ByaW50aygiZGV2PSV1LCBlbmdpbmU9JXU6JXUsIGN0eD0lbGx1LCBz
ZXFubz0ldSIsCiAJCSAgICAgIF9fZW50cnktPmRldiwgX19lbnRyeS0+Y2xhc3MsIF9fZW50cnkt
Pmluc3RhbmNlLAotCQkgICAgICBfX2VudHJ5LT5od19pZCwgX19lbnRyeS0+Y3R4LCBfX2VudHJ5
LT5zZXFubykKKwkJICAgICAgX19lbnRyeS0+Y3R4LCBfX2VudHJ5LT5zZXFubykKICk7CiAKIERF
RklORV9FVkVOVChpOTE1X3JlcXVlc3QsIGk5MTVfcmVxdWVzdF9hZGQsCkBAIC03MzgsNyArNzMz
LDYgQEAgVFJBQ0VfRVZFTlQoaTkxNV9yZXF1ZXN0X2luLAogCiAJICAgIFRQX1NUUlVDVF9fZW50
cnkoCiAJCQkgICAgIF9fZmllbGQodTMyLCBkZXYpCi0JCQkgICAgIF9fZmllbGQodTMyLCBod19p
ZCkKIAkJCSAgICAgX19maWVsZCh1NjQsIGN0eCkKIAkJCSAgICAgX19maWVsZCh1MTYsIGNsYXNz
KQogCQkJICAgICBfX2ZpZWxkKHUxNiwgaW5zdGFuY2UpCkBAIC03NDksNyArNzQzLDYgQEAgVFJB
Q0VfRVZFTlQoaTkxNV9yZXF1ZXN0X2luLAogCiAJICAgIFRQX2Zhc3RfYXNzaWduKAogCQkJICAg
X19lbnRyeS0+ZGV2ID0gcnEtPmk5MTUtPmRybS5wcmltYXJ5LT5pbmRleDsKLQkJCSAgIF9fZW50
cnktPmh3X2lkID0gcnEtPmdlbV9jb250ZXh0LT5od19pZDsKIAkJCSAgIF9fZW50cnktPmNsYXNz
ID0gcnEtPmVuZ2luZS0+dWFiaV9jbGFzczsKIAkJCSAgIF9fZW50cnktPmluc3RhbmNlID0gcnEt
PmVuZ2luZS0+dWFiaV9pbnN0YW5jZTsKIAkJCSAgIF9fZW50cnktPmN0eCA9IHJxLT5mZW5jZS5j
b250ZXh0OwpAQCAtNzU4LDkgKzc1MSw5IEBAIFRSQUNFX0VWRU5UKGk5MTVfcmVxdWVzdF9pbiwK
IAkJCSAgIF9fZW50cnktPnBvcnQgPSBwb3J0OwogCQkJICAgKSwKIAotCSAgICBUUF9wcmludGso
ImRldj0ldSwgZW5naW5lPSV1OiV1LCBod19pZD0ldSwgY3R4PSVsbHUsIHNlcW5vPSV1LCBwcmlv
PSV1LCBwb3J0PSV1IiwKKwkgICAgVFBfcHJpbnRrKCJkZXY9JXUsIGVuZ2luZT0ldToldSwgY3R4
PSVsbHUsIHNlcW5vPSV1LCBwcmlvPSV1LCBwb3J0PSV1IiwKIAkJICAgICAgX19lbnRyeS0+ZGV2
LCBfX2VudHJ5LT5jbGFzcywgX19lbnRyeS0+aW5zdGFuY2UsCi0JCSAgICAgIF9fZW50cnktPmh3
X2lkLCBfX2VudHJ5LT5jdHgsIF9fZW50cnktPnNlcW5vLAorCQkgICAgICBfX2VudHJ5LT5jdHgs
IF9fZW50cnktPnNlcW5vLAogCQkgICAgICBfX2VudHJ5LT5wcmlvLCBfX2VudHJ5LT5wb3J0KQog
KTsKIApAQCAtNzcwLDcgKzc2Myw2IEBAIFRSQUNFX0VWRU5UKGk5MTVfcmVxdWVzdF9vdXQsCiAK
IAkgICAgVFBfU1RSVUNUX19lbnRyeSgKIAkJCSAgICAgX19maWVsZCh1MzIsIGRldikKLQkJCSAg
ICAgX19maWVsZCh1MzIsIGh3X2lkKQogCQkJICAgICBfX2ZpZWxkKHU2NCwgY3R4KQogCQkJICAg
ICBfX2ZpZWxkKHUxNiwgY2xhc3MpCiAJCQkgICAgIF9fZmllbGQodTE2LCBpbnN0YW5jZSkKQEAg
LTc4MCw3ICs3NzIsNiBAQCBUUkFDRV9FVkVOVChpOTE1X3JlcXVlc3Rfb3V0LAogCiAJICAgIFRQ
X2Zhc3RfYXNzaWduKAogCQkJICAgX19lbnRyeS0+ZGV2ID0gcnEtPmk5MTUtPmRybS5wcmltYXJ5
LT5pbmRleDsKLQkJCSAgIF9fZW50cnktPmh3X2lkID0gcnEtPmdlbV9jb250ZXh0LT5od19pZDsK
IAkJCSAgIF9fZW50cnktPmNsYXNzID0gcnEtPmVuZ2luZS0+dWFiaV9jbGFzczsKIAkJCSAgIF9f
ZW50cnktPmluc3RhbmNlID0gcnEtPmVuZ2luZS0+dWFiaV9pbnN0YW5jZTsKIAkJCSAgIF9fZW50
cnktPmN0eCA9IHJxLT5mZW5jZS5jb250ZXh0OwpAQCAtNzg4LDEwICs3NzksOSBAQCBUUkFDRV9F
VkVOVChpOTE1X3JlcXVlc3Rfb3V0LAogCQkJICAgX19lbnRyeS0+Y29tcGxldGVkID0gaTkxNV9y
ZXF1ZXN0X2NvbXBsZXRlZChycSk7CiAJCQkgICApLAogCi0JCSAgICBUUF9wcmludGsoImRldj0l
dSwgZW5naW5lPSV1OiV1LCBod19pZD0ldSwgY3R4PSVsbHUsIHNlcW5vPSV1LCBjb21wbGV0ZWQ/
PSV1IiwKKwkJICAgIFRQX3ByaW50aygiZGV2PSV1LCBlbmdpbmU9JXU6JXUsIGN0eD0lbGx1LCBz
ZXFubz0ldSwgY29tcGxldGVkPz0ldSIsCiAJCQkgICAgICBfX2VudHJ5LT5kZXYsIF9fZW50cnkt
PmNsYXNzLCBfX2VudHJ5LT5pbnN0YW5jZSwKLQkJCSAgICAgIF9fZW50cnktPmh3X2lkLCBfX2Vu
dHJ5LT5jdHgsIF9fZW50cnktPnNlcW5vLAotCQkJICAgICAgX19lbnRyeS0+Y29tcGxldGVkKQor
CQkJICAgICAgX19lbnRyeS0+Y3R4LCBfX2VudHJ5LT5zZXFubywgX19lbnRyeS0+Y29tcGxldGVk
KQogKTsKIAogI2Vsc2UKQEAgLTgyOSw3ICs4MTksNiBAQCBUUkFDRV9FVkVOVChpOTE1X3JlcXVl
c3Rfd2FpdF9iZWdpbiwKIAogCSAgICBUUF9TVFJVQ1RfX2VudHJ5KAogCQkJICAgICBfX2ZpZWxk
KHUzMiwgZGV2KQotCQkJICAgICBfX2ZpZWxkKHUzMiwgaHdfaWQpCiAJCQkgICAgIF9fZmllbGQo
dTY0LCBjdHgpCiAJCQkgICAgIF9fZmllbGQodTE2LCBjbGFzcykKIAkJCSAgICAgX19maWVsZCh1
MTYsIGluc3RhbmNlKQpAQCAtODQ1LDcgKzgzNCw2IEBAIFRSQUNFX0VWRU5UKGk5MTVfcmVxdWVz
dF93YWl0X2JlZ2luLAogCSAgICAgKi8KIAkgICAgVFBfZmFzdF9hc3NpZ24oCiAJCQkgICBfX2Vu
dHJ5LT5kZXYgPSBycS0+aTkxNS0+ZHJtLnByaW1hcnktPmluZGV4OwotCQkJICAgX19lbnRyeS0+
aHdfaWQgPSBycS0+Z2VtX2NvbnRleHQtPmh3X2lkOwogCQkJICAgX19lbnRyeS0+Y2xhc3MgPSBy
cS0+ZW5naW5lLT51YWJpX2NsYXNzOwogCQkJICAgX19lbnRyeS0+aW5zdGFuY2UgPSBycS0+ZW5n
aW5lLT51YWJpX2luc3RhbmNlOwogCQkJICAgX19lbnRyeS0+Y3R4ID0gcnEtPmZlbmNlLmNvbnRl
eHQ7CkBAIC04NTMsOSArODQxLDkgQEAgVFJBQ0VfRVZFTlQoaTkxNV9yZXF1ZXN0X3dhaXRfYmVn
aW4sCiAJCQkgICBfX2VudHJ5LT5mbGFncyA9IGZsYWdzOwogCQkJICAgKSwKIAotCSAgICBUUF9w
cmludGsoImRldj0ldSwgZW5naW5lPSV1OiV1LCBod19pZD0ldSwgY3R4PSVsbHUsIHNlcW5vPSV1
LCBmbGFncz0weCV4IiwKKwkgICAgVFBfcHJpbnRrKCJkZXY9JXUsIGVuZ2luZT0ldToldSwgY3R4
PSVsbHUsIHNlcW5vPSV1LCBmbGFncz0weCV4IiwKIAkJICAgICAgX19lbnRyeS0+ZGV2LCBfX2Vu
dHJ5LT5jbGFzcywgX19lbnRyeS0+aW5zdGFuY2UsCi0JCSAgICAgIF9fZW50cnktPmh3X2lkLCBf
X2VudHJ5LT5jdHgsIF9fZW50cnktPnNlcW5vLAorCQkgICAgICBfX2VudHJ5LT5jdHgsIF9fZW50
cnktPnNlcW5vLAogCQkgICAgICBfX2VudHJ5LT5mbGFncykKICk7CiAKQEAgLTk1OCwxOSArOTQ2
LDE3IEBAIERFQ0xBUkVfRVZFTlRfQ0xBU1MoaTkxNV9jb250ZXh0LAogCVRQX1NUUlVDVF9fZW50
cnkoCiAJCQlfX2ZpZWxkKHUzMiwgZGV2KQogCQkJX19maWVsZChzdHJ1Y3QgaTkxNV9nZW1fY29u
dGV4dCAqLCBjdHgpCi0JCQlfX2ZpZWxkKHUzMiwgaHdfaWQpCiAJCQlfX2ZpZWxkKHN0cnVjdCBp
OTE1X2FkZHJlc3Nfc3BhY2UgKiwgdm0pCiAJKSwKIAogCVRQX2Zhc3RfYXNzaWduKAogCQkJX19l
bnRyeS0+ZGV2ID0gY3R4LT5pOTE1LT5kcm0ucHJpbWFyeS0+aW5kZXg7CiAJCQlfX2VudHJ5LT5j
dHggPSBjdHg7Ci0JCQlfX2VudHJ5LT5od19pZCA9IGN0eC0+aHdfaWQ7CiAJCQlfX2VudHJ5LT52
bSA9IGN0eC0+dm07CiAJKSwKIAotCVRQX3ByaW50aygiZGV2PSV1LCBjdHg9JXAsIGN0eF92bT0l
cCwgaHdfaWQ9JXUiLAotCQkgIF9fZW50cnktPmRldiwgX19lbnRyeS0+Y3R4LCBfX2VudHJ5LT52
bSwgX19lbnRyeS0+aHdfaWQpCisJVFBfcHJpbnRrKCJkZXY9JXUsIGN0eD0lcCwgY3R4X3ZtPSVw
IiwKKwkJICBfX2VudHJ5LT5kZXYsIF9fZW50cnktPmN0eCwgX19lbnRyeS0+dm0pCiApCiAKIERF
RklORV9FVkVOVChpOTE1X2NvbnRleHQsIGk5MTVfY29udGV4dF9jcmVhdGUsCmRpZmYgLS1naXQg
YS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9zZWxmdGVzdHMvaTkxNV9nZW1fZXZpY3QuYyBiL2RyaXZl
cnMvZ3B1L2RybS9pOTE1L3NlbGZ0ZXN0cy9pOTE1X2dlbV9ldmljdC5jCmluZGV4IDUyZDJkZjg0
MzE0OC4uZjM5ZjAyODJlNzhjIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9zZWxm
dGVzdHMvaTkxNV9nZW1fZXZpY3QuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9zZWxmdGVz
dHMvaTkxNV9nZW1fZXZpY3QuYwpAQCAtNDkxLDggKzQ5MSw4IEBAIHN0YXRpYyBpbnQgaWd0X2V2
aWN0X2NvbnRleHRzKHZvaWQgKmFyZykKIAkJCWlmIChJU19FUlIocnEpKSB7CiAJCQkJLyogV2hl
biBmdWxsLCBmYWlsX2lmX2J1c3kgd2lsbCB0cmlnZ2VyIEVCVVNZICovCiAJCQkJaWYgKFBUUl9F
UlIocnEpICE9IC1FQlVTWSkgewotCQkJCQlwcl9lcnIoIlVuZXhwZWN0ZWQgZXJyb3IgZnJvbSBy
ZXF1ZXN0IGFsbG9jIChjdHggaHcgaWQgJXUsIG9uICVzKTogJWRcbiIsCi0JCQkJCSAgICAgICBj
dHgtPmh3X2lkLCBlbmdpbmUtPm5hbWUsCisJCQkJCXByX2VycigiVW5leHBlY3RlZCBlcnJvciBm
cm9tIHJlcXVlc3QgYWxsb2MgKG9uICVzKTogJWRcbiIsCisJCQkJCSAgICAgICBlbmdpbmUtPm5h
bWUsCiAJCQkJCSAgICAgICAoaW50KVBUUl9FUlIocnEpKTsKIAkJCQkJZXJyID0gUFRSX0VSUihy
cSk7CiAJCQkJfQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvc2VsZnRlc3RzL2k5
MTVfdm1hLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9zZWxmdGVzdHMvaTkxNV92bWEuYwppbmRl
eCAxYzlkYjA4ZjdjMjguLmFjMWZmNTU4ZWI5MCAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJt
L2k5MTUvc2VsZnRlc3RzL2k5MTVfdm1hLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvc2Vs
ZnRlc3RzL2k5MTVfdm1hLmMKQEAgLTE3MCw3ICsxNzAsNyBAQCBzdGF0aWMgaW50IGlndF92bWFf
Y3JlYXRlKHZvaWQgKmFyZykKIAkJfQogCiAJCW5jID0gMDsKLQkJZm9yX2VhY2hfcHJpbWVfbnVt
YmVyKG51bV9jdHgsIE1BWF9DT05URVhUX0hXX0lEKSB7CisJCWZvcl9lYWNoX3ByaW1lX251bWJl
cihudW1fY3R4LCAyICogTlVNX0NPTlRFWFRfVEFHKSB7CiAJCQlmb3IgKDsgbmMgPCBudW1fY3R4
OyBuYysrKSB7CiAJCQkJY3R4ID0gbW9ja19jb250ZXh0KGk5MTUsICJtb2NrIik7CiAJCQkJaWYg
KCFjdHgpCi0tIAoyLjIzLjAKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fCkludGVsLWdmeCBtYWlsaW5nIGxpc3QKSW50ZWwtZ2Z4QGxpc3RzLmZyZWVkZXNr
dG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2lu
dGVsLWdmeA==

Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 8FA5DD3BFC
	for <lists+intel-gfx@lfdr.de>; Fri, 11 Oct 2019 11:12:06 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 58AEF6EBEB;
	Fri, 11 Oct 2019 09:12:04 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga12.intel.com (mga12.intel.com [192.55.52.136])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 3A85E6EBEB
 for <intel-gfx@lists.freedesktop.org>; Fri, 11 Oct 2019 09:12:03 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga003.jf.intel.com ([10.7.209.27])
 by fmsmga106.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 11 Oct 2019 02:12:02 -0700
X-IronPort-AV: E=Sophos;i="5.67,283,1566889200"; d="scan'208";a="197526870"
Received: from hemavenk-mobl1.ger.corp.intel.com (HELO [10.251.81.25])
 ([10.251.81.25])
 by orsmga003-auth.jf.intel.com with ESMTP/TLS/AES256-SHA;
 11 Oct 2019 02:12:01 -0700
To: Chris Wilson <chris@chris-wilson.co.uk>, intel-gfx@lists.freedesktop.org
References: <20191010071434.31195-1-chris@chris-wilson.co.uk>
 <20191010071434.31195-6-chris@chris-wilson.co.uk>
From: Tvrtko Ursulin <tvrtko.ursulin@linux.intel.com>
Organization: Intel Corporation UK Plc
Message-ID: <14c72094-2c4a-cf36-549a-2478cd3343fd@linux.intel.com>
Date: Fri, 11 Oct 2019 10:11:58 +0100
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101
 Thunderbird/60.8.0
MIME-Version: 1.0
In-Reply-To: <20191010071434.31195-6-chris@chris-wilson.co.uk>
Content-Language: en-US
Subject: Re: [Intel-gfx] [PATCH 06/10] drm/i915/gt: Introduce barrier pulses
 along engines
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

Ck9uIDEwLzEwLzIwMTkgMDg6MTQsIENocmlzIFdpbHNvbiB3cm90ZToKPiBUbyBmbHVzaCBpZGxl
IGJhcnJpZXJzLCBhbmQgZXZlbiBpbmZsaWdodCByZXF1ZXN0cywgd2Ugd2FudCB0byBzZW5kIGEK
PiBwcmVlbXB0aXZlICdwdWxzZScgYWxvbmcgYW4gZW5naW5lLiBXZSB1c2UgYSBuby1vcCByZXF1
ZXN0IGFsb25nIHRoZQo+IHBpbm5lZCBrZXJuZWxfY29udGV4dCBhdCBoaWdoIHByaW9yaXR5IHNv
IHRoYXQgaXQgc2hvdWxkIHJ1biBvciBlbHNlCj4ga2ljayBvZmYgdGhlIHN0dWNrIHJlcXVlc3Rz
LiBXZSBjYW4gdXNlIHRoaXMgdG8gZW5zdXJlIGlkbGUgYmFycmllcnMgYXJlCj4gaW1tZWRpYXRl
bHkgZmx1c2hlZCwgYXMgcGFydCBvZiBhIGNvbnRleHQgY2FuY2VsbGF0aW9uIG1lY2hhbmlzbSwg
b3IgYXMKPiBwYXJ0IG9mIGEgaGVhcnRiZWF0IG1lY2hhbmlzbSB0byBkZXRlY3QgYW5kIHJlc2V0
IGEgc3R1Y2sgR1BVLgo+IAo+IFNpZ25lZC1vZmYtYnk6IENocmlzIFdpbHNvbiA8Y2hyaXNAY2hy
aXMtd2lsc29uLmNvLnVrPgo+IC0tLQo+ICAgZHJpdmVycy9ncHUvZHJtL2k5MTUvTWFrZWZpbGUg
ICAgICAgICAgICAgICAgIHwgIDEgKwo+ICAgLi4uL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9lbmdp
bmVfaGVhcnRiZWF0LmMgIHwgNTYgKysrKysrKysrKysrKysrKysrKwo+ICAgLi4uL2dwdS9kcm0v
aTkxNS9ndC9pbnRlbF9lbmdpbmVfaGVhcnRiZWF0LmggIHwgMTQgKysrKysKPiAgIGRyaXZlcnMv
Z3B1L2RybS9pOTE1L2d0L2ludGVsX2VuZ2luZV9wbS5jICAgICB8ICAyICstCj4gICBkcml2ZXJz
L2dwdS9kcm0vaTkxNS9pOTE1X3ByaW9saXN0X3R5cGVzLmggICAgfCAgMSArCj4gICA1IGZpbGVz
IGNoYW5nZWQsIDczIGluc2VydGlvbnMoKyksIDEgZGVsZXRpb24oLSkKPiAgIGNyZWF0ZSBtb2Rl
IDEwMDY0NCBkcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9lbmdpbmVfaGVhcnRiZWF0LmMK
PiAgIGNyZWF0ZSBtb2RlIDEwMDY0NCBkcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9lbmdp
bmVfaGVhcnRiZWF0LmgKPiAKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvTWFr
ZWZpbGUgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9NYWtlZmlsZQo+IGluZGV4IGNkOWExMGJhMjUx
Ni4uY2ZhYjdjODU4NWIzIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L01ha2Vm
aWxlCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvTWFrZWZpbGUKPiBAQCAtNzgsNiArNzgs
NyBAQCBndC15ICs9IFwKPiAgIAlndC9pbnRlbF9icmVhZGNydW1icy5vIFwKPiAgIAlndC9pbnRl
bF9jb250ZXh0Lm8gXAo+ICAgCWd0L2ludGVsX2VuZ2luZV9jcy5vIFwKPiArCWd0L2ludGVsX2Vu
Z2luZV9oZWFydGJlYXQubyBcCj4gICAJZ3QvaW50ZWxfZW5naW5lX3BtLm8gXAo+ICAgCWd0L2lu
dGVsX2VuZ2luZV9wb29sLm8gXAo+ICAgCWd0L2ludGVsX2VuZ2luZV9zeXNmcy5vIFwKPiBkaWZm
IC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZW5naW5lX2hlYXJ0YmVhdC5j
IGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZW5naW5lX2hlYXJ0YmVhdC5jCj4gbmV3
IGZpbGUgbW9kZSAxMDA2NDQKPiBpbmRleCAwMDAwMDAwMDAwMDAuLjJmYzQxM2Y5ZDUwNgo+IC0t
LSAvZGV2L251bGwKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9lbmdpbmVf
aGVhcnRiZWF0LmMKPiBAQCAtMCwwICsxLDU2IEBACj4gKy8qCj4gKyAqIFNQRFgtTGljZW5zZS1J
ZGVudGlmaWVyOiBNSVQKPiArICoKPiArICogQ29weXJpZ2h0IMKpIDIwMTkgSW50ZWwgQ29ycG9y
YXRpb24KPiArICovCj4gKwo+ICsjaW5jbHVkZSAiaTkxNV9yZXF1ZXN0LmgiCj4gKwo+ICsjaW5j
bHVkZSAiaW50ZWxfY29udGV4dC5oIgo+ICsjaW5jbHVkZSAiaW50ZWxfZW5naW5lX2hlYXJ0YmVh
dC5oIgo+ICsjaW5jbHVkZSAiaW50ZWxfZW5naW5lX3BtLmgiCj4gKyNpbmNsdWRlICJpbnRlbF9l
bmdpbmUuaCIKPiArI2luY2x1ZGUgImludGVsX2d0LmgiCj4gKwo+ICtzdGF0aWMgdm9pZCBpZGxl
X3B1bHNlKHN0cnVjdCBpbnRlbF9lbmdpbmVfY3MgKmVuZ2luZSwgc3RydWN0IGk5MTVfcmVxdWVz
dCAqcnEpCj4gK3sKPiArCWVuZ2luZS0+d2FrZXJlZl9zZXJpYWwgPSBSRUFEX09OQ0UoZW5naW5l
LT5zZXJpYWwpICsgMTsKPiArCWk5MTVfcmVxdWVzdF9hZGRfYWN0aXZlX2JhcnJpZXJzKHJxKTsK
CldoeSBkbyB5b3UgbmVlZCBhY3RpdmUgYmFycmllcnMgd2l0aCB0aGUgaWRsZSBwdWxzZT8gSnVz
dCBiZWNhdXNlIGl0IGlzIAphIGhhbmR5IHBvaW50IHRvIHJlbGVhc2UgdGhlIHByZXZpb3VzbHkg
cGlubmVkIGNvbnRleHRzPyBCdXQgdGhleSBtYXkgCmdldCByZXVzZWQgYXMgc29vbiBhcyBpZGxl
IHB1bHNlIGZpbmlzaGVzLCBubz8KClJlZ2FyZHMsCgpUdnJ0a28KCj4gK30KPiArCj4gK2ludCBp
bnRlbF9lbmdpbmVfcHVsc2Uoc3RydWN0IGludGVsX2VuZ2luZV9jcyAqZW5naW5lKQo+ICt7Cj4g
KwlzdHJ1Y3QgaTkxNV9zY2hlZF9hdHRyIGF0dHIgPSB7IC5wcmlvcml0eSA9IEk5MTVfUFJJT1JJ
VFlfQkFSUklFUiB9Owo+ICsJc3RydWN0IGludGVsX2NvbnRleHQgKmNlID0gZW5naW5lLT5rZXJu
ZWxfY29udGV4dDsKPiArCXN0cnVjdCBpOTE1X3JlcXVlc3QgKnJxOwo+ICsJaW50IGVyciA9IDA7
Cj4gKwo+ICsJaWYgKCFpbnRlbF9lbmdpbmVfaGFzX3ByZWVtcHRpb24oZW5naW5lKSkKPiArCQly
ZXR1cm4gLUVOT0RFVjsKPiArCj4gKwlpZiAoIWludGVsX2VuZ2luZV9wbV9nZXRfaWZfYXdha2Uo
ZW5naW5lKSkKPiArCQlyZXR1cm4gMDsKPiArCj4gKwlpZiAobXV0ZXhfbG9ja19pbnRlcnJ1cHRp
YmxlKCZjZS0+dGltZWxpbmUtPm11dGV4KSkKPiArCQlnb3RvIG91dF9ycG07Cj4gKwo+ICsJaW50
ZWxfY29udGV4dF9lbnRlcihjZSk7Cj4gKwlycSA9IF9faTkxNV9yZXF1ZXN0X2NyZWF0ZShjZSwg
R0ZQX05PV0FJVCB8IF9fR0ZQX05PV0FSTik7Cj4gKwlpbnRlbF9jb250ZXh0X2V4aXQoY2UpOwo+
ICsJaWYgKElTX0VSUihycSkpIHsKPiArCQllcnIgPSBQVFJfRVJSKHJxKTsKPiArCQlnb3RvIG91
dF91bmxvY2s7Cj4gKwl9Cj4gKwo+ICsJcnEtPmZsYWdzIHw9IEk5MTVfUkVRVUVTVF9TRU5USU5F
TDsKPiArCWlkbGVfcHVsc2UoZW5naW5lLCBycSk7Cj4gKwo+ICsJX19pOTE1X3JlcXVlc3RfY29t
bWl0KHJxKTsKPiArCV9faTkxNV9yZXF1ZXN0X3F1ZXVlKHJxLCAmYXR0cik7Cj4gKwo+ICtvdXRf
dW5sb2NrOgo+ICsJbXV0ZXhfdW5sb2NrKCZjZS0+dGltZWxpbmUtPm11dGV4KTsKPiArb3V0X3Jw
bToKPiArCWludGVsX2VuZ2luZV9wbV9wdXQoZW5naW5lKTsKPiArCXJldHVybiBlcnI7Cj4gK30K
PiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZW5naW5lX2hlYXJ0
YmVhdC5oIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZW5naW5lX2hlYXJ0YmVhdC5o
Cj4gbmV3IGZpbGUgbW9kZSAxMDA2NDQKPiBpbmRleCAwMDAwMDAwMDAwMDAuLmI5NTA0NTFiNTk5
OAo+IC0tLSAvZGV2L251bGwKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9l
bmdpbmVfaGVhcnRiZWF0LmgKPiBAQCAtMCwwICsxLDE0IEBACj4gKy8qCj4gKyAqIFNQRFgtTGlj
ZW5zZS1JZGVudGlmaWVyOiBNSVQKPiArICoKPiArICogQ29weXJpZ2h0IMKpIDIwMTkgSW50ZWwg
Q29ycG9yYXRpb24KPiArICovCj4gKwo+ICsjaWZuZGVmIElOVEVMX0VOR0lORV9IRUFSVEJFQVRf
SAo+ICsjZGVmaW5lIElOVEVMX0VOR0lORV9IRUFSVEJFQVRfSAo+ICsKPiArc3RydWN0IGludGVs
X2VuZ2luZV9jczsKPiArCj4gK2ludCBpbnRlbF9lbmdpbmVfcHVsc2Uoc3RydWN0IGludGVsX2Vu
Z2luZV9jcyAqZW5naW5lKTsKPiArCj4gKyNlbmRpZiAvKiBJTlRFTF9FTkdJTkVfSEVBUlRCRUFU
X0ggKi8KPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZW5naW5l
X3BtLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9lbmdpbmVfcG0uYwo+IGluZGV4
IDY3ZWI2MTgzNjQ4YS4uN2Q3NjYxMWQ5ZGYxIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2d0L2ludGVsX2VuZ2luZV9wbS5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUv
Z3QvaW50ZWxfZW5naW5lX3BtLmMKPiBAQCAtMTExLDcgKzExMSw3IEBAIHN0YXRpYyBib29sIHN3
aXRjaF90b19rZXJuZWxfY29udGV4dChzdHJ1Y3QgaW50ZWxfZW5naW5lX2NzICplbmdpbmUpCj4g
ICAJaTkxNV9yZXF1ZXN0X2FkZF9hY3RpdmVfYmFycmllcnMocnEpOwo+ICAgCj4gICAJLyogSW5z
dGFsbCBvdXJzZWx2ZXMgYXMgYSBwcmVlbXB0aW9uIGJhcnJpZXIgKi8KPiAtCXJxLT5zY2hlZC5h
dHRyLnByaW9yaXR5ID0gSTkxNV9QUklPUklUWV9VTlBSRUVNUFRBQkxFOwo+ICsJcnEtPnNjaGVk
LmF0dHIucHJpb3JpdHkgPSBJOTE1X1BSSU9SSVRZX0JBUlJJRVI7Cj4gICAJX19pOTE1X3JlcXVl
c3RfY29tbWl0KHJxKTsKPiAgIAo+ICAgCS8qIFJlbGVhc2Ugb3VyIGV4Y2x1c2l2ZSBob2xkIG9u
IHRoZSBlbmdpbmUgKi8KPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9w
cmlvbGlzdF90eXBlcy5oIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9wcmlvbGlzdF90eXBl
cy5oCj4gaW5kZXggMjEwMzdhMmUyMDM4Li5hZThiYjNjYjYyN2UgMTAwNjQ0Cj4gLS0tIGEvZHJp
dmVycy9ncHUvZHJtL2k5MTUvaTkxNV9wcmlvbGlzdF90eXBlcy5oCj4gKysrIGIvZHJpdmVycy9n
cHUvZHJtL2k5MTUvaTkxNV9wcmlvbGlzdF90eXBlcy5oCj4gQEAgLTM5LDYgKzM5LDcgQEAgZW51
bSB7Cj4gICAgKiBhY3RpdmUgcmVxdWVzdC4KPiAgICAqLwo+ICAgI2RlZmluZSBJOTE1X1BSSU9S
SVRZX1VOUFJFRU1QVEFCTEUgSU5UX01BWAo+ICsjZGVmaW5lIEk5MTVfUFJJT1JJVFlfQkFSUklF
UiBJTlRfTUFYCj4gICAKPiAgICNkZWZpbmUgX19OT19QUkVFTVBUSU9OIChJOTE1X1BSSU9SSVRZ
X1dBSVQpCj4gICAKPiAKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX18KSW50ZWwtZ2Z4IG1haWxpbmcgbGlzdApJbnRlbC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Au
b3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vaW50ZWwt
Z2Z4

Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 2C8D5DC034
	for <lists+intel-gfx@lfdr.de>; Fri, 18 Oct 2019 10:45:10 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 8D57A6EAFA;
	Fri, 18 Oct 2019 08:45:08 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mail-oi1-x243.google.com (mail-oi1-x243.google.com
 [IPv6:2607:f8b0:4864:20::243])
 by gabe.freedesktop.org (Postfix) with ESMTPS id E55F96EAFA
 for <intel-gfx@lists.freedesktop.org>; Fri, 18 Oct 2019 08:45:07 +0000 (UTC)
Received: by mail-oi1-x243.google.com with SMTP id k9so4554763oib.7
 for <intel-gfx@lists.freedesktop.org>; Fri, 18 Oct 2019 01:45:07 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:mime-version:references:in-reply-to:from:date
 :message-id:subject:to:cc;
 bh=1da4gws2wKuWiP4a2/zFWLSQA34DAOD5jXxi6L9VQyE=;
 b=kcu9x1l3V8YK95hPub6Z0wX8CLvMtdoFRnlqI/hIfiOpS2Cp9CL8wATgF6Tfp4zyja
 Mo6OFO4MecHaiQ79EnRNXA7dqpxG/rXw5xEYG4syUhVSiNwYz8gVcDiS1Ey5tKoCAE46
 QlXbl+Mu/9Sxz7IplQEHhC2NRnzJXt6SUBvMC6cXNyULhK+h9YWNJ+jJseIugicyhxN9
 IHBStUQps9iWkvTdrmrkjYjqgzrC4drAdV87g8uOkBMz5k6N6nDcvemnWtfTvRgermi0
 rlT+SRP5+gZpfXkmje3XFS8g5rmJvyIulb6E7bhFH+Dejl31E3cRL3GU74oVEhJSIGNa
 jNpA==
X-Gm-Message-State: APjAAAUt6i3ikMBcvPahZ0Cwe3tOrAut8bPbQzFl1mtyHR4s8rbLtuEi
 KF3Cfz41z+ONmSU9ebp1UM+Q1qW3f84Eqvj9bo6qrHTuoWg=
X-Google-Smtp-Source: APXvYqypQwW5hxbth/T+EWby+bycsQ1igRkryoHRPqKNgRv4MC2bGjU4HQ7/x4TcKwrZHl0Wui/IOhgBi3/NTJo3l9U=
X-Received: by 2002:aca:1b10:: with SMTP id b16mr7151118oib.110.1571388306910; 
 Fri, 18 Oct 2019 01:45:06 -0700 (PDT)
MIME-Version: 1.0
References: <20191004134015.13204-1-chris@chris-wilson.co.uk>
 <20191004134015.13204-4-chris@chris-wilson.co.uk>
In-Reply-To: <20191004134015.13204-4-chris@chris-wilson.co.uk>
From: Daniel Vetter <daniel@ffwll.ch>
Date: Fri, 18 Oct 2019 10:44:55 +0200
Message-ID: <CAKMK7uF4dQLHPGU7QmyW1Y8xngiPgzjhUHfGHtw1a8FV3rNHFw@mail.gmail.com>
To: Chris Wilson <chris@chris-wilson.co.uk>
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=ffwll.ch; s=google;
 h=mime-version:references:in-reply-to:from:date:message-id:subject:to
 :cc;
 bh=1da4gws2wKuWiP4a2/zFWLSQA34DAOD5jXxi6L9VQyE=;
 b=P9R4KITwjSJvGvP+9lOwIgZKKEt9bYnFyUjl4ZZTkHUAb5jBvzbUungtYt1EFC1udI
 zJl2mLH3PBhdS8IJ8e7k0C0PI+Tp+psUkgqEgno+8D2ciEtTWSxhXZFGbEbp6fjay5BQ
 9iyM48IQcgZxLFG74/jXHj+oZv3FMX01oCN2M=
Subject: Re: [Intel-gfx] [PATCH 03/20] drm/i915: Pull i915_vma_pin under the
 vm->mutex
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: intel-gfx <intel-gfx@lists.freedesktop.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

T24gRnJpLCBPY3QgNCwgMjAxOSBhdCAzOjQwIFBNIENocmlzIFdpbHNvbiA8Y2hyaXNAY2hyaXMt
d2lsc29uLmNvLnVrPiB3cm90ZToKPiBSZXBsYWNlIHRoZSBzdHJ1Y3RfbXV0ZXggcmVxdWlyZW1l
bnQgZm9yIHBpbm5pbmcgdGhlIGk5MTVfdm1hIHdpdGggdGhlCj4gbG9jYWwgdm0tPm11dGV4IGlu
c3RlYWQuIE5vdGUgdGhhdCB0aGUgdm0tPm11dGV4IGlzIHRhaW50ZWQgYnkgdGhlCj4gc2hyaW5r
ZXIgKHdlIHJlcXVpcmUgdW5iaW5kaW5nIGZyb20gaW5zaWRlIGZzLXJlY2xhaW0pIGFuZCBzbyB3
ZSBjYW5ub3QKPiBhbGxvY2F0ZSB3aGlsZSBob2xkaW5nIHRoYXQgbXV0ZXguIEluc3RlYWQgd2Ug
aGF2ZSB0byBwcmVhbGxvY2F0ZQo+IHdvcmtlcnMgdG8gZG8gYWxsb2NhdGUgYW5kIGFwcGx5IHRo
ZSBQVEUgdXBkYXRlcyBhZnRlciB3ZSBoYXZlIHdlCj4gcmVzZXJ2ZWQgdGhlaXIgc2xvdCBpbiB0
aGUgZHJtX21tICh1c2luZyBmZW5jZXMgdG8gb3JkZXIgdGhlIFBURSB3cml0ZXMKPiB3aXRoIHRo
ZSBHUFUgd29yayBhbmQgd2l0aCBsYXRlciB1bmJpbmQpLgo+Cj4gSW4gYWRkaW5nIHRoZSBhc3lu
Y2hyb25vdXMgdm1hIGJpbmRpbmcsIG9uZSBzdWJ0bGUgcmVxdWlyZW1lbnQgaXMgdG8KPiBhdm9p
ZCBjb3VwbGluZyB0aGUgYmluZGluZyBmZW5jZSBpbnRvIHRoZSBiYWNraW5nIG9iamVjdC0+cmVz
di4gVGhhdCBpcwo+IHRoZSBhc3luY2hyb25vdXMgYmluZGluZyBvbmx5IGFwcGxpZXMgdG8gdGhl
IHZtYSB0aW1lbGluZSBpdHNlbGYgYW5kIG5vdAo+IHRvIHRoZSBwYWdlcyBhcyB0aGF0IGlzIGEg
bW9yZSBnbG9iYWwgdGltZWxpbmUgKHRoZSBiaW5kaW5nIG9mIG9uZSB2bWEKPiBkb2VzIG5vdCBu
ZWVkIHRvIGJlIG9yZGVyZWQgd2l0aCBhbm90aGVyIHZtYSwgbm9yIGRvZXMgdGhlIGltcGxpY2l0
IEdFTQo+IGZlbmNpbmcgZGVwZW5kIG9uIGEgdm1hLCBvbmx5IG9uIHdyaXRlcyB0byB0aGUgYmFj
a2luZyBzdG9yZSkuIEtlZXBpbmcKPiB0aGUgdm1hIGJpbmRpbmcgZGlzdGluY3QgZnJvbSB0aGUg
YmFja2luZyBzdG9yZSB0aW1lbGluZXMgaXMgdmVyaWZpZWQgYnkKPiBhIG51bWJlciBvZiBhc3lu
YyBnZW1fZXhlY19mZW5jZSBhbmQgZ2VtX2V4ZWNfc2NoZWR1bGUgdGVzdHMuIFRoZSB3YXkgd2UK
PiBkbyB0aGlzIGlzIHF1aXRlIHNpbXBsZSwgd2Uga2VlcCB0aGUgZmVuY2UgZm9yIHRoZSB2bWEg
YmluZGluZyBzZXBhcmF0ZQo+IGFuZCBvbmx5IHdhaXQgb24gaXQgYXMgcmVxdWlyZWQsIGFuZCBu
ZXZlciBhZGQgaXQgdG8gdGhlIG9iai0+cmVzdgo+IGl0c2VsZi4KPgo+IEFub3RoZXIgY29uc2Vx
dWVuY2UgaW4gcmVkdWNpbmcgdGhlIGxvY2tpbmcgYXJvdW5kIHRoZSB2bWEgaXMgdGhlCj4gZGVz
dHJ1Y3Rpb24gb2YgdGhlIHZtYSBpcyBubyBsb25nZXIgZ2xvYmFsbHkgc2VyaWFsaXNlZCBieSBz
dHJ1Y3RfbXV0ZXguCj4gQSBuYXR1cmFsIHNvbHV0aW9uIHdvdWxkIGJlIHRvIGFkZCBhIGtyZWYg
dG8gaTkxNV92bWEsIGJ1dCB0aGF0IHJlcXVpcmVzCj4gZGVjb3VwbGluZyB0aGUgcmVmZXJlbmNl
IGN5Y2xlcywgcG9zc2libHkgYnkgaW50cm9kdWNpbmcgYSBuZXcKPiBpOTE1X21tX3BhZ2VzIG9i
amVjdCB0aGF0IGlzIG93biBieSBib3RoIG9iai0+bW0gYW5kIHZtYS0+cGFnZXMuCj4gSG93ZXZl
ciwgd2UgaGF2ZSBub3QgdGFrZW4gdGhhdCByb3V0ZSBkdWUgdG8gdGhlIG92ZXJzaGFkb3dpbmcg
bG1lbS90dG0KPiBkaXNjdXNzaW9ucywgYW5kIGluc3RlYWQgcGxheSBhIHNlcmllcyBvZiBjb21w
bGljYXRlZCBnYW1lcyB3aXRoCj4gdHJ5bG9ja3MgdG8gKGhvcGVmdWxseSkgZW5zdXJlIHRoYXQg
b25seSBvbmUgZGVzdHJ1Y3Rpb24gcGF0aCBpcyBjYWxsZWQhCj4KPiB2MjogQWRkIHNvbWUgY29t
bWVudGFyeSwgYW5kIHNvbWUgaGVscGVycyB0byByZWR1Y2UgcGF0Y2ggY2h1cm4uCj4KPiBTaWdu
ZWQtb2ZmLWJ5OiBDaHJpcyBXaWxzb24gPGNocmlzQGNocmlzLXdpbHNvbi5jby51az4KPiBDYzog
VHZydGtvIFVyc3VsaW4gPHR2cnRrby51cnN1bGluQGludGVsLmNvbT4KPiBSZXZpZXdlZC1ieTog
VHZydGtvIFVyc3VsaW4gPHR2cnRrby51cnN1bGluQGludGVsLmNvbT4KCkhpIENocmlzICYgVHZy
dGtvCgpDdXQgbW9zdCBvZiB0aGUgcGF0Y2gsIGp1c3QgYSBkZXRhaWwgcXVlc3Rpb24gb24gdGhp
cyBiaXQgaW4gdGhlIGZhdWx0IGhhbmRsZXI6Cgo+ICBzdGF0aWMgdW5zaWduZWQgaW50Cj4gZGlm
ZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9tbWFuLmMgYi9kcml2
ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fbW1hbi5jCj4gaW5kZXggZGQwYzI4NDBiYTRk
Li5jMTk0MzFkNjA5ZmMgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5
MTVfZ2VtX21tYW4uYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9t
bWFuLmMKPiBAQCAtMjQ5LDE2ICsyNDksNiBAQCB2bV9mYXVsdF90IGk5MTVfZ2VtX2ZhdWx0KHN0
cnVjdCB2bV9mYXVsdCAqdm1mKQo+ICAgICAgICAgaWYgKHJldCkKPiAgICAgICAgICAgICAgICAg
Z290byBlcnJfcnBtOwo+Cj4gLSAgICAgICByZXQgPSBpOTE1X211dGV4X2xvY2tfaW50ZXJydXB0
aWJsZShkZXYpOwo+IC0gICAgICAgaWYgKHJldCkKPiAtICAgICAgICAgICAgICAgZ290byBlcnJf
cmVzZXQ7CgoKRG9lc24ndCB0aGlzIG9wZW4gdXNlIHRvIHBvc3NpYmx5IHNwdXJpb3VzIGZhaWx1
cmVzIG9uIG9sZCBjcmFwIHdoZXJlCmdndHQgaXMgc3VwZXIgbGltaXRlZD8gV2UgImxlYWsiIHRo
ZSBwaW4gY291bnQgbm93IG91dHNpZGUgb2YgdGhlCm11dGV4IHRoYXQgcHJvdGVjdHMgaXQsIHdo
aWNoIG1lYW5zIG90aGVyIHRocmVhZHMgd29uJ3QgYmUgYmxvY2tlZCBieQpzYWlkIG11dGV4LCBh
bmQgaGVuY2UgY291bGQgbm93IHNlZSBhIGxvdCBvZiB0ZW1wb3JhcmlseSBwaW5uZWQgdm1hCnRo
YXQgcHJldmlvdXNseSB3aGVyZSBhbHdheXMgaGlkZGVuIGJ5IHRoZSBiaWcgbG9jayBhbmQgdGhl
cmVmb3JlCm5ldmVyIHZpc2libGUgb3V0c2lkZSBvZiB0aGUgdGhyZWFkIHRoYXQgZGlkIHRoZSB0
ZW1wb3JhcnkgcGluLiBLaW5kYQpsaWtlIHRoZSBleGVjYnVmIGlzc3VlLgoKTm90ZSBJIG1lYW4g
dGhlIHRlbXBvcmFyeSB2bWEgcGluIGhlcmUsIG5vdCB0aGUgZ2V0X3BhZ2VzIHBpbi4gVGhhdApv
bmUgaXMgaW1vIG9rIHNpbmNlIG1lbW9yeSBpcyBhc3N1bWVkIHRvIGJlIHBsZW50aWZ1bCBhbmQg
bWFuYWdlbWVudAp0aHJvdWdoIHdhdGVybWFya3MgR29vZCBFbm91Z2ggKHByb2JhYmx5IGlzbid0
LCBidXQgd2UgY2FuJ3QgZWFzaWx5CmZpeCBjb3JlIG1tKS4KCk9yIEknbSBJIHRvdGFsbHkgbWlz
c2luZyBzb21ldGhpbmc/IEFkbWl0dGVkbHkgaXQncyBlYXJseSBhbmQgSQpkZWZpbml0ZWx5IGhh
dmVuJ3QgYWNxdWlyZWQgdGhlIGZ1bGwgbmV3IGxvY2tpbmcgbW9kZWwgaW50byBteSBicmFpbgou
Li4KCkNoZWVycywgRGFuaWVsCgo+IC0KPiAtICAgICAgIC8qIEFjY2VzcyB0byBzbm9vcGFibGUg
cGFnZXMgdGhyb3VnaCB0aGUgR1RUIGlzIGluY29oZXJlbnQuICovCj4gLSAgICAgICBpZiAob2Jq
LT5jYWNoZV9sZXZlbCAhPSBJOTE1X0NBQ0hFX05PTkUgJiYgIUhBU19MTEMoaTkxNSkpIHsKPiAt
ICAgICAgICAgICAgICAgcmV0ID0gLUVGQVVMVDsKPiAtICAgICAgICAgICAgICAgZ290byBlcnJf
dW5sb2NrOwo+IC0gICAgICAgfQoKLS0gCkRhbmllbCBWZXR0ZXIKU29mdHdhcmUgRW5naW5lZXIs
IEludGVsIENvcnBvcmF0aW9uCis0MSAoMCkgNzkgMzY1IDU3IDQ4IC0gaHR0cDovL2Jsb2cuZmZ3
bGwuY2gKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KSW50
ZWwtZ2Z4IG1haWxpbmcgbGlzdApJbnRlbC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBz
Oi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vaW50ZWwtZ2Z4

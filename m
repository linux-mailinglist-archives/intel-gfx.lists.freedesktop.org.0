Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 99366907E4
	for <lists+intel-gfx@lfdr.de>; Fri, 16 Aug 2019 20:46:18 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 0A2BB6E97F;
	Fri, 16 Aug 2019 18:46:17 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from fireflyinternet.com (mail.fireflyinternet.com [109.228.58.192])
 by gabe.freedesktop.org (Postfix) with ESMTPS id A03296E97F
 for <intel-gfx@lists.freedesktop.org>; Fri, 16 Aug 2019 18:46:15 +0000 (UTC)
X-Default-Received-SPF: pass (skip=forwardok (res=PASS))
 x-ip-name=78.156.65.138; 
Received: from localhost (unverified [78.156.65.138]) 
 by fireflyinternet.com (Firefly Internet (M1)) with ESMTP (TLS) id
 18166967-1500050 for multiple; Fri, 16 Aug 2019 19:45:53 +0100
MIME-Version: 1.0
To: Daniel Vetter <daniel.vetter@ffwll.ch>,
 Intel Graphics Development <intel-gfx@lists.freedesktop.org>
From: Chris Wilson <chris@chris-wilson.co.uk>
In-Reply-To: <20190816182336.27305-1-daniel.vetter@ffwll.ch>
References: <20190816182336.27305-1-daniel.vetter@ffwll.ch>
Message-ID: <156598115091.11610.18124598988004198693@skylake-alporthouse-com>
User-Agent: alot/0.6
Date: Fri, 16 Aug 2019 19:45:50 +0100
Subject: Re: [Intel-gfx] [PATCH] drm/i915: Switch obj->mm.lock lockdep
 annotations on its head
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: Daniel Vetter <daniel.vetter@intel.com>,
 Daniel Vetter <daniel.vetter@ffwll.ch>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

UXVvdGluZyBEYW5pZWwgVmV0dGVyICgyMDE5LTA4LTE2IDE5OjIzOjM2KQo+IFRoZSB0cm91Ymxl
IHdpdGggaGF2aW5nIGEgcGxhaW4gbmVzdGluZyBmbGFnIGZvciBsb2NrcyB3aGljaCBkbyBub3QK
PiBuYXR1cmFsbHkgbmVzdCAodW5saWtlIGJsb2NrIGRldmljZXMgYW5kIHRoZWlyIHBhcnRpdGlv
bnMsIHdoaWNoIGlzCj4gdGhlIG9yaWdpbmFsIG1vdGl2YXRpb24gZm9yIG5lc3RpbmcgbGV2ZWxz
KSBpcyB0aGF0IGxvY2tkZXAgd2lsbAo+IG5ldmVyIHNwb3QgYSB0cnVlIGRlYWRsb2NrIGlmIHlv
dSBzY3JldyB1cC4KPiAKPiBUaGlzIHBhdGNoIGlzIGFuIGF0dGVtcHQgYXQgdHJ5aW5nIGJldHRl
ciwgYnkgaGlnaGxpZ2h0aW5nIGEgYml0IG1vcmUKPiB0aGUgYWN0dWFsIG5hdHVyZSBvZiB0aGUg
bmVzdGluZyB0aGF0J3MgZ29pbmcgb24uIEVzc2VudGlhbGx5IHdlIGhhdmUKPiB0d28ga2luZHMg
b2Ygb2JqZWN0czoKPiAKPiAtIG9iamVjdHMgd2l0aG91dCBwYWdlcyBhbGxvY2F0ZWQsIHdoaWNo
IGNhbm5vdCBiZSBvbiBhbnkgbHJ1IGFuZCBhcmUKPiAgIGhlbmNlIGluYWNjZXNzaWJsZSB0byB0
aGUgc2hyaW5rZXIuCj4gCj4gLSBvYmplY3RzIHdoaWNoIGhhdmUgcGFnZXMgYWxsb2NhdGVkLCB3
aGljaCBhcmUgb24gYW4gbHJ1LCBhbmQgd2hpY2gKPiAgIHRoZSBzaHJpbmtlciBjYW4gZGVjaWRl
IHRvIHRocm93IG91dC4KPiAKPiBGb3IgdGhlIGZvcm1lciB0eXBlIG9mIG9iamVjdCwgbWVtb3J5
IGFsbGNvYXRpb25zIHdoaWxlIGhvbGRpbmcKPiBvYmotPm1tLmxvY2sgYXJlIHBlcm1pc3NpYmxl
LiBGb3IgdGhlIGxhdHRlciB0aGV5IGFyZSBub3QuIEFuZAo+IGdldC9wdXRfcGFnZXMgdHJhbnNp
dGlvbnMgYmV0d2VlbiB0aGUgdHdvIHR5cGVzIG9mIG9iamVjdHMuCj4gCj4gVGhpcyBpcyBzdGls
bCBub3QgZW50aXJlbHkgZm9vbC1wcm9vZiBzaW5jZSB0aGUgcnVsZXMgbWlnaHQgY2hhbmNlLgo+
IEJ1dCBhcyBsb25nIGFzIHdlIHJ1biBzdWNoIGEgY29kZSBldmVyIGF0IHJ1bnRpbWUgbG9ja2Rl
cCBzaG91bGQgYmUKPiBhYmxlIHRvIG9ic2VydmUgdGhlIGluY29uc2lzdGVuY3kgYW5kIGNvbXBs
YWluIChsaWtlIHdpdGggYW55IG90aGVyCj4gbG9ja2RlcCBjbGFzcyB0aGF0IHdlJ3ZlIHNwbGl0
IHVwIGluIG11bHRpcGxlIGNsYXNzZXMpLiBCdXQgdGhlcmUgYXJlCj4gYSBmZXcgY2xlYXIgYmVu
ZWZpdHM6Cj4gCj4gLSBXZSBjYW4gZHJvcCB0aGUgbmVzdGluZyBmbGFnIHBhcmFtZXRlciBmcm9t
Cj4gICBfX2k5MTVfZ2VtX29iamVjdF9wdXRfcGFnZXMsIGJlY2F1c2UgdGhhdCBmdW5jdGlvbiBi
eSBkZWZpbml0aW9uIGlzCj4gICBuZXZlciBnb2luZyBhbGxvY2F0ZSBtZW1vcnksIGFuZCBjYWxs
aW5nIGl0IG9uIGFuIG9iamVjdCB3aGljaAo+ICAgZG9lc24ndCBoYXZlIGl0cyBwYWdlcyBhbGxv
Y2F0ZWQgd291bGQgYmUgYSBidWcuCj4gCj4gLSBXZSBzdHJpY3RseSBjYXRjaCBtb3JlIGJ1Z3Ms
IHNpbmNlIHRoZXJlJ3Mgbm90IG9ubHkgb25lIHBsYWNlIGluIHRoZQo+ICAgZW50aXJlIHRyZWUg
d2hpY2ggaXMgYW5ub3RhdGVkIHdpdGggdGhlIHNwZWNpYWwgY2xhc3MuIEFsbCB0aGUKPiAgIG90
aGVyIHBsYWNlcyB0aGF0IGhhZCBleHBsaWNpdCBsb2NrZGVwIG5lc3RpbmcgYW5ub3RhdGlvbnMg
d2UncmUgbm93Cj4gICBnb2luZyB0byBsZWF2ZSB1cCB0byBsb2NrZGVwIGFnYWluLgo+IAo+IC0g
U3BlY2lmaWNhbGx5IHRoaXMgY2F0Y2hlcyBzdHVmZiBsaWtlIGNhbGxpbmcgZ2V0X3BhZ2VzIGZy
b20KPiAgIHB1dF9wYWdlcyAod2hpY2ggaXNuJ3QgcmVhbGx5IGEgZ29vZCBpZGVhLCBpZiB3ZSBj
YW4gY2FsbCBwdXRfcGFnZXMKPiAgIHNvIGNvdWxkIHRoZSBzaHJpbmtlcikuIEkndmUgc2VlbiBw
YXRjaGVzIGRvIGV4YWN0bHkgdGhhdC4KPiAKPiBPZiBjb3Vyc2UgSSBmdWxseSBleHBlY3QgQ0kg
d2lsbCBzaG93IG1lIGZvciB0aGUgZm9vbCBJIGFtIHdpdGggdGhpcwo+IG9uZSBoZXJlIDotKQo+
IAo+IHYyOiBUaGVyZSBjYW4gb25seSBiZSBvbmUgKGxvY2tkZXAgb25seSBoYXMgYSBjYWNoZSBm
b3IgdGhlIGZpcnN0Cj4gc3ViY2xhc3MsIG5vdCBmb3IgZGVlcGVyIG9uZXMsIGFuZCB3ZSBkb24n
dCB3YW50IHRvIG1ha2UgdGhlc2UgbG9ja3MKPiBldmVuIHNsb3dlcikuIFN0aWxsIHNlcGFyYXRl
IGVudW1zIGZvciBiZXR0ZXIgZG9jdW1lbnRhdGlvbi4KPiAKPiBSZWFsIGZpeDogZG9uIGZvcmdl
dCBhYm91dCBwaHlzIG9ianMgYW5kIHBpbl9tYXAoKSwgYW5kIGZpeCB0aGUKPiBzaHJpbmtlciB0
byBoYXZlIHRoZSByaWdodCBhbm5vdGF0aW9ucyAuLi4gc2lsbHkgbWUuCj4gCj4gdjM6IEZvcmdv
dCB1c2VydHB0ciB0b28gLi4uCj4gCj4gdjQ6IEltcHJvdmUgY29tbWVudCBmb3IgcGFnZXNfcGlu
X2NvdW50LCBkcm9wIHRoZSBJTVBPUlRBTlQgY29tbWVudAo+IGFuZCBpbnN0ZWFkIHByaW1lIGxv
Y2tkZXAgKENocmlzKS4KPiAKPiBDYzogQ2hyaXMgV2lsc29uIDxjaHJpc0BjaHJpcy13aWxzb24u
Y28udWs+Cj4gQ2M6ICJUYW5nLCBDUSIgPGNxLnRhbmdAaW50ZWwuY29tPgo+IENjOiBUdnJ0a28g
VXJzdWxpbiA8dHZydGtvLnVyc3VsaW5AaW50ZWwuY29tPgo+IENjOiBKb29uYXMgTGFodGluZW4g
PGpvb25hcy5sYWh0aW5lbkBsaW51eC5pbnRlbC5jb20+Cj4gU2lnbmVkLW9mZi1ieTogRGFuaWVs
IFZldHRlciA8ZGFuaWVsLnZldHRlckBpbnRlbC5jb20+Cj4gLS0tCj4gIGRyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2dlbS9pOTE1X2dlbV9vYmplY3QuYyAgICAgICB8IDEzICsrKysrKysrKysrKy0KPiAg
ZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX29iamVjdC5oICAgICAgIHwgMTYgKysr
KysrKysrKysrKy0tLQo+ICBkcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fb2JqZWN0
X3R5cGVzLmggfCAgNiArKysrKy0KPiAgZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2Vt
X3BhZ2VzLmMgICAgICAgIHwgIDkgKysrKy0tLS0tCj4gIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2dl
bS9pOTE1X2dlbV9waHlzLmMgICAgICAgICB8ICAyICstCj4gIGRyaXZlcnMvZ3B1L2RybS9pOTE1
L2dlbS9pOTE1X2dlbV9zaHJpbmtlci5jICAgICB8ICA1ICsrLS0tCj4gIGRyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2dlbS9pOTE1X2dlbV91c2VycHRyLmMgICAgICB8ICA0ICsrLS0KPiAgZHJpdmVycy9n
cHUvZHJtL2k5MTUvZ2VtL3NlbGZ0ZXN0cy9odWdlX3BhZ2VzLmMgIHwgMTIgKysrKysrLS0tLS0t
Cj4gIDggZmlsZXMgY2hhbmdlZCwgNDUgaW5zZXJ0aW9ucygrKSwgMjIgZGVsZXRpb25zKC0pCgpz
dGF0aWMgaW5saW5lIGludCBfX211c3RfY2hlY2sKaTkxNV9nZW1fb2JqZWN0X3Bpbl9wYWdlcyhz
dHJ1Y3QgZHJtX2k5MTVfZ2VtX29iamVjdCAqb2JqKQp7CiAgICAgICAgbWlnaHRfbG9jaygmb2Jq
LT5tbS5sb2NrKTsKCiAgICAgICAgaWYgKGF0b21pY19pbmNfbm90X3plcm8oJm9iai0+bW0ucGFn
ZXNfcGluX2NvdW50KSkKICAgICAgICAgICAgICAgIHJldHVybiAwOwoKICAgICAgICByZXR1cm4g
X19pOTE1X2dlbV9vYmplY3RfZ2V0X3BhZ2VzKG9iaik7Cn0KCmlzIG5vdyB0ZXN0aW5nIHRoZSB3
cm9uZyBsb2NrIGNsYXNzLgoKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2Vt
L2k5MTVfZ2VtX29iamVjdC5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX29i
amVjdC5jCj4gaW5kZXggMzkyOWMzYTZiMjgxLi5kMDEyNThiMTc1ZjUgMTAwNjQ0Cj4gLS0tIGEv
ZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX29iamVjdC5jCj4gKysrIGIvZHJpdmVy
cy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX29iamVjdC5jCj4gQEAgLTIyLDYgKzIyLDggQEAK
PiAgICoKPiAgICovCj4gIAo+ICsjaW5jbHVkZSA8bGludXgvc2NoZWQvbW0uaD4KPiArCj4gICNp
bmNsdWRlICJkaXNwbGF5L2ludGVsX2Zyb250YnVmZmVyLmgiCj4gICNpbmNsdWRlICJndC9pbnRl
bF9ndC5oIgo+ICAjaW5jbHVkZSAiaTkxNV9kcnYuaCIKPiBAQCAtNjEsNiArNjMsMTUgQEAgdm9p
ZCBpOTE1X2dlbV9vYmplY3RfaW5pdChzdHJ1Y3QgZHJtX2k5MTVfZ2VtX29iamVjdCAqb2JqLAo+
ICB7Cj4gICAgICAgICBtdXRleF9pbml0KCZvYmotPm1tLmxvY2spOwo+ICAKPiArICAgICAgIGlm
IChJU19FTkFCTEVEKENPTkZJR19MT0NLREVQKSkgewo+ICsgICAgICAgICAgICAgICBtdXRleF9s
b2NrX25lc3RlZCgmb2JqLT5tbS5sb2NrLCBJOTE1X01NX0dFVF9QQUdFUyk7Cj4gKyAgICAgICAg
ICAgICAgIGZzX3JlY2xhaW1fYWNxdWlyZShHRlBfS0VSTkVMKTsKPiArICAgICAgICAgICAgICAg
bWlnaHRfbG9jaygmb2JqLT5tbS5sb2NrKTsKPiArICAgICAgICAgICAgICAgZnNfcmVjbGFpbV9y
ZWxlYXNlKEdGUF9LRVJORUwpOwo+ICsgICAgICAgICAgICAgICBtdXRleF91bmxvY2soJm9iai0+
bW0ubG9jayk7Cj4gKyAgICAgICB9CgpUaGlzIGlzIHZlcnkgcG93ZXJmdWwgYW5kIHNlbGxzIGEg
bG90IG9mIGNodXJuLgotQ2hyaXMKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX18KSW50ZWwtZ2Z4IG1haWxpbmcgbGlzdApJbnRlbC1nZnhAbGlzdHMuZnJlZWRl
c2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8v
aW50ZWwtZ2Z4

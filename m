Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 83392D9439
	for <lists+intel-gfx@lfdr.de>; Wed, 16 Oct 2019 16:47:51 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 5B91889192;
	Wed, 16 Oct 2019 14:47:49 +0000 (UTC)
X-Original-To: Intel-gfx@lists.freedesktop.org
Delivered-To: Intel-gfx@lists.freedesktop.org
Received: from mga04.intel.com (mga04.intel.com [192.55.52.120])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 67D4A89083
 for <Intel-gfx@lists.freedesktop.org>; Wed, 16 Oct 2019 14:47:48 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga004.jf.intel.com ([10.7.209.38])
 by fmsmga104.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 16 Oct 2019 07:47:47 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.67,304,1566889200"; d="scan'208";a="347443444"
Received: from dwiesing-mobl.ger.corp.intel.com (HELO localhost.localdomain)
 ([10.252.31.172])
 by orsmga004.jf.intel.com with ESMTP; 16 Oct 2019 07:47:46 -0700
From: Tvrtko Ursulin <tvrtko.ursulin@linux.intel.com>
To: Intel-gfx@lists.freedesktop.org
Date: Wed, 16 Oct 2019 15:47:44 +0100
Message-Id: <20191016144744.7073-1-tvrtko.ursulin@linux.intel.com>
X-Mailer: git-send-email 2.20.1
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH] drm/i915: Make for_each_engine_masked work on
 intel_gt
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

RnJvbTogVHZydGtvIFVyc3VsaW4gPHR2cnRrby51cnN1bGluQGludGVsLmNvbT4KCk1lZGl1bSB0
ZXJtIGdvYWwgaXMgdG8gZWxpbWluYXRlIHRoZSBpOTE1LT5lbmdpbmVbXSBhcnJheSBhbmQgdG8g
Z2V0IHRoZXJlCndlIGhhdmUgcmVjZW50bHkgaW50cm9kdWNlZCBlcXVpdmFsZW50IGFycmF5IGlu
IGludGVsX2d0LiBOb3cgd2UgbmVlZCB0bwptaWdyYXRlIHRoZSBjb2RlIGZ1cnRoZXIgdG93YXJk
cyB0aGlzIHN0YXRlLgoKVGhpcyBuZXh0IHN0ZXAgaXMgdG8gZWxpbWluYXRlIHVzYWdlIG9mIGk5
MTUtPmVuZ2luZXNbXSBmcm9tIHRoZQpmb3JfZWFjaF9lbmdpbmVfbWFza2VkIGl0ZXJhdG9yLgoK
Rm9yIHRoaXMgdG8gd29yayB3ZSBhbHNvIG5lZWQgdG8gdXNlIGVuZ2luZS0+aWQgYXMgaW5kZXgg
d2hlbiBwb3B1bGF0aW5nCnRoZSBndC0+ZW5naW5lW10gYXJyYXkgYW5kIGFkanVzdCB0aGUgZGVm
YXVsdCBlbmdpbmUgc2V0IGluZGV4aW5nIHRvIHVzZQplbmdpbmUtPmxlZ2FjeV9pZHggaW5zdGVh
ZCBvZiBhc3N1bWluZyBndC0+ZW5naW5lc1tdIGluZGV4aW5nLgoKU2lnbmVkLW9mZi1ieTogVHZy
dGtvIFVyc3VsaW4gPHR2cnRrby51cnN1bGluQGludGVsLmNvbT4KQ2M6IENocmlzIFdpbHNvbiA8
Y2hyaXNAY2hyaXMtd2lsc29uLmNvLnVrPgotLS0KIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9p
OTE1X2dlbV9jb250ZXh0LmMgfCAgNCArKy0tCiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRl
bF9lbmdpbmVfdXNlci5jIHwgIDQgKystLQogZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxf
Z3QuYyAgICAgICAgICB8ICAyICstCiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9oYW5n
Y2hlY2suYyAgIHwgIDIgKy0KIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX3Jlc2V0LmMg
ICAgICAgfCAxMiArKysrKystLS0tLS0KIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2d2dC9leGVjbGlz
dC5jICAgICAgICAgfCAgNCArKy0tCiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9ndnQvc2NoZWR1bGVy
LmMgICAgICAgIHwgIDIgKy0KIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfYWN0aXZlLmMgICAg
ICAgICAgfCAgNCArKy0tCiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2Rydi5oICAgICAgICAg
ICAgIHwgIDYgKysrLS0tCiA5IGZpbGVzIGNoYW5nZWQsIDIwIGluc2VydGlvbnMoKyksIDIwIGRl
bGV0aW9ucygtKQoKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dl
bV9jb250ZXh0LmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fY29udGV4dC5j
CmluZGV4IDVkODIyMWM3YmE4My4uNGUzMGNiOTc0NjQ4IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dw
dS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fY29udGV4dC5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9p
OTE1L2dlbS9pOTE1X2dlbV9jb250ZXh0LmMKQEAgLTIwOSw4ICsyMDksOCBAQCBzdGF0aWMgc3Ry
dWN0IGk5MTVfZ2VtX2VuZ2luZXMgKmRlZmF1bHRfZW5naW5lcyhzdHJ1Y3QgaTkxNV9nZW1fY29u
dGV4dCAqY3R4KQogCQkJcmV0dXJuIEVSUl9DQVNUKGNlKTsKIAkJfQogCi0JCWUtPmVuZ2luZXNb
aWRdID0gY2U7Ci0JCWUtPm51bV9lbmdpbmVzID0gaWQgKyAxOworCQllLT5lbmdpbmVzW2VuZ2lu
ZS0+bGVnYWN5X2lkeF0gPSBjZTsKKwkJZS0+bnVtX2VuZ2luZXMgPSBlbmdpbmUtPmxlZ2FjeV9p
ZHggKyAxOwogCX0KIAogCXJldHVybiBlOwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5
MTUvZ3QvaW50ZWxfZW5naW5lX3VzZXIuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVs
X2VuZ2luZV91c2VyLmMKaW5kZXggNzdjZDVkZTgzOTMwLi4wOTlhYmFlODYwZWMgMTAwNjQ0Ci0t
LSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2VuZ2luZV91c2VyLmMKKysrIGIvZHJp
dmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZW5naW5lX3VzZXIuYwpAQCAtMTgzLDggKzE4Myw4
IEBAIHN0YXRpYyB2b2lkIGFkZF9sZWdhY3lfcmluZyhzdHJ1Y3QgbGVnYWN5X3JpbmcgKnJpbmcs
CiAJaWYgKHVubGlrZWx5KGlkeCA9PSAtMSkpCiAJCXJldHVybjsKIAotCUdFTV9CVUdfT04oaWR4
ID49IEFSUkFZX1NJWkUocmluZy0+Z3QtPmVuZ2luZSkpOwotCXJpbmctPmd0LT5lbmdpbmVbaWR4
XSA9IGVuZ2luZTsKKwlHRU1fQlVHX09OKGVuZ2luZS0+aWQgPj0gQVJSQVlfU0laRShyaW5nLT5n
dC0+ZW5naW5lKSk7CisJcmluZy0+Z3QtPmVuZ2luZVtlbmdpbmUtPmlkXSA9IGVuZ2luZTsKIAly
aW5nLT5pbnN0YW5jZSsrOwogCiAJZW5naW5lLT5sZWdhY3lfaWR4ID0gaWR4OwpkaWZmIC0tZ2l0
IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZ3QuYyBiL2RyaXZlcnMvZ3B1L2RybS9p
OTE1L2d0L2ludGVsX2d0LmMKaW5kZXggYjM2MTlhMmE1ZDBlLi5jOTliNmIyZjM4YzIgMTAwNjQ0
Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2d0LmMKKysrIGIvZHJpdmVycy9n
cHUvZHJtL2k5MTUvZ3QvaW50ZWxfZ3QuYwpAQCAtMTg2LDcgKzE4Niw3IEBAIGludGVsX2d0X2Ns
ZWFyX2Vycm9yX3JlZ2lzdGVycyhzdHJ1Y3QgaW50ZWxfZ3QgKmd0LAogCQlzdHJ1Y3QgaW50ZWxf
ZW5naW5lX2NzICplbmdpbmU7CiAJCWVudW0gaW50ZWxfZW5naW5lX2lkIGlkOwogCi0JCWZvcl9l
YWNoX2VuZ2luZV9tYXNrZWQoZW5naW5lLCBpOTE1LCBlbmdpbmVfbWFzaywgaWQpCisJCWZvcl9l
YWNoX2VuZ2luZV9tYXNrZWQoZW5naW5lLCBndCwgZW5naW5lX21hc2ssIGlkKQogCQkJZ2VuOF9j
bGVhcl9lbmdpbmVfZXJyb3JfcmVnaXN0ZXIoZW5naW5lKTsKIAl9CiB9CmRpZmYgLS1naXQgYS9k
cml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9oYW5nY2hlY2suYyBiL2RyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2d0L2ludGVsX2hhbmdjaGVjay5jCmluZGV4IGMxNGRiZWIzY2NjMy4uYjJhZjczOTg0
ZjkzIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9oYW5nY2hlY2su
YworKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9oYW5nY2hlY2suYwpAQCAtMjM3
LDcgKzIzNyw3IEBAIHN0YXRpYyB2b2lkIGhhbmdjaGVja19kZWNsYXJlX2hhbmcoc3RydWN0IGlu
dGVsX2d0ICpndCwKIAkJaHVuZyAmPSB+c3R1Y2s7CiAJbGVuID0gc2NucHJpbnRmKG1zZywgc2l6
ZW9mKG1zZyksCiAJCQkiJXMgb24gIiwgc3R1Y2sgPT0gaHVuZyA/ICJubyBwcm9ncmVzcyIgOiAi
aGFuZyIpOwotCWZvcl9lYWNoX2VuZ2luZV9tYXNrZWQoZW5naW5lLCBndC0+aTkxNSwgaHVuZywg
dG1wKQorCWZvcl9lYWNoX2VuZ2luZV9tYXNrZWQoZW5naW5lLCBndCwgaHVuZywgdG1wKQogCQls
ZW4gKz0gc2NucHJpbnRmKG1zZyArIGxlbiwgc2l6ZW9mKG1zZykgLSBsZW4sCiAJCQkJICIlcywg
IiwgZW5naW5lLT5uYW1lKTsKIAltc2dbbGVuLTJdID0gJ1wwJzsKZGlmZiAtLWdpdCBhL2RyaXZl
cnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX3Jlc2V0LmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9n
dC9pbnRlbF9yZXNldC5jCmluZGV4IDc3NDQ1ZDEwMGNhOC4uMGVkZTEwZmMyNGIwIDEwMDY0NAot
LS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9yZXNldC5jCisrKyBiL2RyaXZlcnMv
Z3B1L2RybS9pOTE1L2d0L2ludGVsX3Jlc2V0LmMKQEAgLTI5OCw3ICsyOTgsNyBAQCBzdGF0aWMg
aW50IGdlbjZfcmVzZXRfZW5naW5lcyhzdHJ1Y3QgaW50ZWxfZ3QgKmd0LAogCQlpbnRlbF9lbmdp
bmVfbWFza190IHRtcDsKIAogCQlod19tYXNrID0gMDsKLQkJZm9yX2VhY2hfZW5naW5lX21hc2tl
ZChlbmdpbmUsIGd0LT5pOTE1LCBlbmdpbmVfbWFzaywgdG1wKSB7CisJCWZvcl9lYWNoX2VuZ2lu
ZV9tYXNrZWQoZW5naW5lLCBndCwgZW5naW5lX21hc2ssIHRtcCkgewogCQkJR0VNX0JVR19PTihl
bmdpbmUtPmlkID49IEFSUkFZX1NJWkUoaHdfZW5naW5lX21hc2spKTsKIAkJCWh3X21hc2sgfD0g
aHdfZW5naW5lX21hc2tbZW5naW5lLT5pZF07CiAJCX0KQEAgLTQzMiw3ICs0MzIsNyBAQCBzdGF0
aWMgaW50IGdlbjExX3Jlc2V0X2VuZ2luZXMoc3RydWN0IGludGVsX2d0ICpndCwKIAkJaHdfbWFz
ayA9IEdFTjExX0dSRE9NX0ZVTEw7CiAJfSBlbHNlIHsKIAkJaHdfbWFzayA9IDA7Ci0JCWZvcl9l
YWNoX2VuZ2luZV9tYXNrZWQoZW5naW5lLCBndC0+aTkxNSwgZW5naW5lX21hc2ssIHRtcCkgewor
CQlmb3JfZWFjaF9lbmdpbmVfbWFza2VkKGVuZ2luZSwgZ3QsIGVuZ2luZV9tYXNrLCB0bXApIHsK
IAkJCUdFTV9CVUdfT04oZW5naW5lLT5pZCA+PSBBUlJBWV9TSVpFKGh3X2VuZ2luZV9tYXNrKSk7
CiAJCQlod19tYXNrIHw9IGh3X2VuZ2luZV9tYXNrW2VuZ2luZS0+aWRdOwogCQkJcmV0ID0gZ2Vu
MTFfbG9ja19zZmMoZW5naW5lLCAmaHdfbWFzayk7CkBAIC00NTEsNyArNDUxLDcgQEAgc3RhdGlj
IGludCBnZW4xMV9yZXNldF9lbmdpbmVzKHN0cnVjdCBpbnRlbF9ndCAqZ3QsCiAJICogZXhwaXJh
dGlvbikuCiAJICovCiAJaWYgKGVuZ2luZV9tYXNrICE9IEFMTF9FTkdJTkVTKQotCQlmb3JfZWFj
aF9lbmdpbmVfbWFza2VkKGVuZ2luZSwgZ3QtPmk5MTUsIGVuZ2luZV9tYXNrLCB0bXApCisJCWZv
cl9lYWNoX2VuZ2luZV9tYXNrZWQoZW5naW5lLCBndCwgZW5naW5lX21hc2ssIHRtcCkKIAkJCWdl
bjExX3VubG9ja19zZmMoZW5naW5lKTsKIAogCXJldHVybiByZXQ7CkBAIC01MTAsNyArNTEwLDcg
QEAgc3RhdGljIGludCBnZW44X3Jlc2V0X2VuZ2luZXMoc3RydWN0IGludGVsX2d0ICpndCwKIAlp
bnRlbF9lbmdpbmVfbWFza190IHRtcDsKIAlpbnQgcmV0OwogCi0JZm9yX2VhY2hfZW5naW5lX21h
c2tlZChlbmdpbmUsIGd0LT5pOTE1LCBlbmdpbmVfbWFzaywgdG1wKSB7CisJZm9yX2VhY2hfZW5n
aW5lX21hc2tlZChlbmdpbmUsIGd0LCBlbmdpbmVfbWFzaywgdG1wKSB7CiAJCXJldCA9IGdlbjhf
ZW5naW5lX3Jlc2V0X3ByZXBhcmUoZW5naW5lKTsKIAkJaWYgKHJldCAmJiAhcmVzZXRfbm9uX3Jl
YWR5KQogCQkJZ290byBza2lwX3Jlc2V0OwpAQCAtNTM2LDcgKzUzNiw3IEBAIHN0YXRpYyBpbnQg
Z2VuOF9yZXNldF9lbmdpbmVzKHN0cnVjdCBpbnRlbF9ndCAqZ3QsCiAJCXJldCA9IGdlbjZfcmVz
ZXRfZW5naW5lcyhndCwgZW5naW5lX21hc2ssIHJldHJ5KTsKIAogc2tpcF9yZXNldDoKLQlmb3Jf
ZWFjaF9lbmdpbmVfbWFza2VkKGVuZ2luZSwgZ3QtPmk5MTUsIGVuZ2luZV9tYXNrLCB0bXApCisJ
Zm9yX2VhY2hfZW5naW5lX21hc2tlZChlbmdpbmUsIGd0LCBlbmdpbmVfbWFzaywgdG1wKQogCQln
ZW44X2VuZ2luZV9yZXNldF9jYW5jZWwoZW5naW5lKTsKIAogCXJldHVybiByZXQ7CkBAIC0xMjA2
LDcgKzEyMDYsNyBAQCB2b2lkIGludGVsX2d0X2hhbmRsZV9lcnJvcihzdHJ1Y3QgaW50ZWxfZ3Qg
Kmd0LAogCSAqIHNpbmdsZSByZXNldCBmYWlscy4KIAkgKi8KIAlpZiAoaW50ZWxfaGFzX3Jlc2V0
X2VuZ2luZShndCkgJiYgIWludGVsX2d0X2lzX3dlZGdlZChndCkpIHsKLQkJZm9yX2VhY2hfZW5n
aW5lX21hc2tlZChlbmdpbmUsIGd0LT5pOTE1LCBlbmdpbmVfbWFzaywgdG1wKSB7CisJCWZvcl9l
YWNoX2VuZ2luZV9tYXNrZWQoZW5naW5lLCBndCwgZW5naW5lX21hc2ssIHRtcCkgewogCQkJQlVJ
TERfQlVHX09OKEk5MTVfUkVTRVRfTU9ERVNFVCA+PSBJOTE1X1JFU0VUX0VOR0lORSk7CiAJCQlp
ZiAodGVzdF9hbmRfc2V0X2JpdChJOTE1X1JFU0VUX0VOR0lORSArIGVuZ2luZS0+aWQsCiAJCQkJ
CSAgICAgJmd0LT5yZXNldC5mbGFncykpCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkx
NS9ndnQvZXhlY2xpc3QuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d2dC9leGVjbGlzdC5jCmlu
ZGV4IGYyMWI4ZmI1YjM3ZS4uZDZlN2ExMTg5YmFkIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9k
cm0vaTkxNS9ndnQvZXhlY2xpc3QuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndnQvZXhl
Y2xpc3QuYwpAQCAtNTM0LDcgKzUzNCw3IEBAIHN0YXRpYyB2b2lkIGNsZWFuX2V4ZWNsaXN0KHN0
cnVjdCBpbnRlbF92Z3B1ICp2Z3B1LAogCXN0cnVjdCBpbnRlbF92Z3B1X3N1Ym1pc3Npb24gKnMg
PSAmdmdwdS0+c3VibWlzc2lvbjsKIAlpbnRlbF9lbmdpbmVfbWFza190IHRtcDsKIAotCWZvcl9l
YWNoX2VuZ2luZV9tYXNrZWQoZW5naW5lLCBkZXZfcHJpdiwgZW5naW5lX21hc2ssIHRtcCkgewor
CWZvcl9lYWNoX2VuZ2luZV9tYXNrZWQoZW5naW5lLCAmZGV2X3ByaXYtPmd0LCBlbmdpbmVfbWFz
aywgdG1wKSB7CiAJCWtmcmVlKHMtPnJpbmdfc2Nhbl9idWZmZXJbZW5naW5lLT5pZF0pOwogCQlz
LT5yaW5nX3NjYW5fYnVmZmVyW2VuZ2luZS0+aWRdID0gTlVMTDsKIAkJcy0+cmluZ19zY2FuX2J1
ZmZlcl9zaXplW2VuZ2luZS0+aWRdID0gMDsKQEAgLTU0OCw3ICs1NDgsNyBAQCBzdGF0aWMgdm9p
ZCByZXNldF9leGVjbGlzdChzdHJ1Y3QgaW50ZWxfdmdwdSAqdmdwdSwKIAlzdHJ1Y3QgaW50ZWxf
ZW5naW5lX2NzICplbmdpbmU7CiAJaW50ZWxfZW5naW5lX21hc2tfdCB0bXA7CiAKLQlmb3JfZWFj
aF9lbmdpbmVfbWFza2VkKGVuZ2luZSwgZGV2X3ByaXYsIGVuZ2luZV9tYXNrLCB0bXApCisJZm9y
X2VhY2hfZW5naW5lX21hc2tlZChlbmdpbmUsICZkZXZfcHJpdi0+Z3QsIGVuZ2luZV9tYXNrLCB0
bXApCiAJCWluaXRfdmdwdV9leGVjbGlzdCh2Z3B1LCBlbmdpbmUtPmlkKTsKIH0KIApkaWZmIC0t
Z2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3Z0L3NjaGVkdWxlci5jIGIvZHJpdmVycy9ncHUv
ZHJtL2k5MTUvZ3Z0L3NjaGVkdWxlci5jCmluZGV4IDY4NTBmMWY0MDI0MS4uOWViYjI1MzQ1NThi
IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndnQvc2NoZWR1bGVyLmMKKysrIGIv
ZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3Z0L3NjaGVkdWxlci5jCkBAIC04ODcsNyArODg3LDcgQEAg
dm9pZCBpbnRlbF92Z3B1X2NsZWFuX3dvcmtsb2FkcyhzdHJ1Y3QgaW50ZWxfdmdwdSAqdmdwdSwK
IAlpbnRlbF9lbmdpbmVfbWFza190IHRtcDsKIAogCS8qIGZyZWUgdGhlIHVuc3VibWl0ZWQgd29y
a2xvYWRzIGluIHRoZSBxdWV1ZXMuICovCi0JZm9yX2VhY2hfZW5naW5lX21hc2tlZChlbmdpbmUs
IGRldl9wcml2LCBlbmdpbmVfbWFzaywgdG1wKSB7CisJZm9yX2VhY2hfZW5naW5lX21hc2tlZChl
bmdpbmUsICZkZXZfcHJpdi0+Z3QsIGVuZ2luZV9tYXNrLCB0bXApIHsKIAkJbGlzdF9mb3JfZWFj
aF9lbnRyeV9zYWZlKHBvcywgbiwKIAkJCSZzLT53b3JrbG9hZF9xX2hlYWRbZW5naW5lLT5pZF0s
IGxpc3QpIHsKIAkJCWxpc3RfZGVsX2luaXQoJnBvcy0+bGlzdCk7CmRpZmYgLS1naXQgYS9kcml2
ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2FjdGl2ZS5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkx
NV9hY3RpdmUuYwppbmRleCBhYTM3YzA3MDA0YjkuLjc5MjdiMWEwYzdhNiAxMDA2NDQKLS0tIGEv
ZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9hY3RpdmUuYworKysgYi9kcml2ZXJzL2dwdS9kcm0v
aTkxNS9pOTE1X2FjdGl2ZS5jCkBAIC01OTAsOCArNTkwLDggQEAgc3RhdGljIHN0cnVjdCBhY3Rp
dmVfbm9kZSAqcmV1c2VfaWRsZV9iYXJyaWVyKHN0cnVjdCBpOTE1X2FjdGl2ZSAqcmVmLCB1NjQg
aWR4KQogaW50IGk5MTVfYWN0aXZlX2FjcXVpcmVfcHJlYWxsb2NhdGVfYmFycmllcihzdHJ1Y3Qg
aTkxNV9hY3RpdmUgKnJlZiwKIAkJCQkJICAgIHN0cnVjdCBpbnRlbF9lbmdpbmVfY3MgKmVuZ2lu
ZSkKIHsKLQlzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSA9IGVuZ2luZS0+aTkxNTsKIAlp
bnRlbF9lbmdpbmVfbWFza190IHRtcCwgbWFzayA9IGVuZ2luZS0+bWFzazsKKwlzdHJ1Y3QgaW50
ZWxfZ3QgKmd0ID0gZW5naW5lLT5ndDsKIAlzdHJ1Y3QgbGxpc3Rfbm9kZSAqcG9zLCAqbmV4dDsK
IAlpbnQgZXJyOwogCkBAIC02MDMsNyArNjAzLDcgQEAgaW50IGk5MTVfYWN0aXZlX2FjcXVpcmVf
cHJlYWxsb2NhdGVfYmFycmllcihzdHJ1Y3QgaTkxNV9hY3RpdmUgKnJlZiwKIAkgKiBXZSBjYW4g
dGhlbiB1c2UgdGhlIHByZWFsbG9jYXRlZCBub2RlcyBpbgogCSAqIGk5MTVfYWN0aXZlX2FjcXVp
cmVfYmFycmllcigpCiAJICovCi0JZm9yX2VhY2hfZW5naW5lX21hc2tlZChlbmdpbmUsIGk5MTUs
IG1hc2ssIHRtcCkgeworCWZvcl9lYWNoX2VuZ2luZV9tYXNrZWQoZW5naW5lLCBndCwgbWFzaywg
dG1wKSB7CiAJCXU2NCBpZHggPSBlbmdpbmUtPmtlcm5lbF9jb250ZXh0LT50aW1lbGluZS0+ZmVu
Y2VfY29udGV4dDsKIAkJc3RydWN0IGFjdGl2ZV9ub2RlICpub2RlOwogCmRpZmYgLS1naXQgYS9k
cml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2Rydi5oIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkx
NV9kcnYuaAppbmRleCBmNmFlZTFlMDFhN2YuLjI3OGI1MzZjZTQ0YyAxMDA2NDQKLS0tIGEvZHJp
dmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kcnYuaAorKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9p
OTE1X2Rydi5oCkBAIC0xNDIwLDEwICsxNDIwLDEwIEBAIHN0YXRpYyBpbmxpbmUgc3RydWN0IGRy
bV9pOTE1X3ByaXZhdGUgKnBkZXZfdG9faTkxNShzdHJ1Y3QgcGNpX2RldiAqcGRldikKIAkJZm9y
X2VhY2hfaWYgKChlbmdpbmVfXykgPSAoZGV2X3ByaXZfXyktPmVuZ2luZVsoaWRfXyldKQogCiAv
KiBJdGVyYXRvciBvdmVyIHN1YnNldCBvZiBlbmdpbmVzIHNlbGVjdGVkIGJ5IG1hc2sgKi8KLSNk
ZWZpbmUgZm9yX2VhY2hfZW5naW5lX21hc2tlZChlbmdpbmVfXywgZGV2X3ByaXZfXywgbWFza19f
LCB0bXBfXykgXAotCWZvciAoKHRtcF9fKSA9IChtYXNrX18pICYgSU5URUxfSU5GTyhkZXZfcHJp
dl9fKS0+ZW5naW5lX21hc2s7IFwKKyNkZWZpbmUgZm9yX2VhY2hfZW5naW5lX21hc2tlZChlbmdp
bmVfXywgZ3RfXywgbWFza19fLCB0bXBfXykgXAorCWZvciAoKHRtcF9fKSA9IChtYXNrX18pICYg
SU5URUxfSU5GTygoZ3RfXyktPmk5MTUpLT5lbmdpbmVfbWFzazsgXAogCSAgICAgKHRtcF9fKSA/
IFwKLQkgICAgICgoZW5naW5lX18pID0gKGRldl9wcml2X18pLT5lbmdpbmVbX19tYXNrX25leHRf
Yml0KHRtcF9fKV0pLCAxIDogXAorCSAgICAgKChlbmdpbmVfXykgPSAoZ3RfXyktPmVuZ2luZVtf
X21hc2tfbmV4dF9iaXQodG1wX18pXSksIDEgOiBcCiAJICAgICAwOykKIAogI2RlZmluZSByYl90
b191YWJpX2VuZ2luZShyYikgXAotLSAKMi4yMC4xCgpfX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fXwpJbnRlbC1nZnggbWFpbGluZyBsaXN0CkludGVsLWdmeEBs
aXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1h
bi9saXN0aW5mby9pbnRlbC1nZng=

Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 1B320109DD7
	for <lists+intel-gfx@lfdr.de>; Tue, 26 Nov 2019 13:22:57 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 50E646E314;
	Tue, 26 Nov 2019 12:22:55 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga07.intel.com (mga07.intel.com [134.134.136.100])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 5D53489CDB
 for <intel-gfx@lists.freedesktop.org>; Tue, 26 Nov 2019 12:22:54 +0000 (UTC)
X-Amp-Result: UNKNOWN
X-Amp-Original-Verdict: FILE UNKNOWN
X-Amp-File-Uploaded: False
Received: from orsmga008.jf.intel.com ([10.7.209.65])
 by orsmga105.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 26 Nov 2019 04:22:53 -0800
X-IronPort-AV: E=Sophos;i="5.69,245,1571727600"; d="scan'208";a="202702514"
Received: from ideak-desk.fi.intel.com ([10.237.72.183])
 by orsmga008-auth.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 26 Nov 2019 04:22:52 -0800
Date: Tue, 26 Nov 2019 14:22:48 +0200
From: Imre Deak <imre.deak@intel.com>
To: Chris Wilson <chris@chris-wilson.co.uk>
Message-ID: <20191126122248.GB24821@ideak-desk.fi.intel.com>
References: <20191126100435.2636304-1-chris@chris-wilson.co.uk>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <20191126100435.2636304-1-chris@chris-wilson.co.uk>
User-Agent: Mutt/1.9.4 (2018-02-28)
Subject: Re: [Intel-gfx] [PATCH] drm/i915/gt: Manual rc6 entry upon parking
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Reply-To: imre.deak@intel.com
Cc: intel-gfx@lists.freedesktop.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

SGksCgpPbiBUdWUsIE5vdiAyNiwgMjAxOSBhdCAxMDowNDozNUFNICswMDAwLCBDaHJpcyBXaWxz
b24gd3JvdGU6Cj4gTm93IHRoYXQgd2UgcmFwaWRseSBwYXJrIHRoZSBHVCB3aGVuIHRoZSBHUFUg
aWRsZXMsIHdlIG9mdGVuIGZpbmQKPiBvdXJzZWx2ZXMgaWRsaW5nIGZhc3RlciB0aGFuIHRoZSBS
QzYgcHJvbW90aW9uIHRpbWVyLiBUaHVzIGlmIHdlIHRlbGwKPiB0aGUgR1BVIHRvIGVudGVyIFJD
NiBtYW51YWxseSBhcyB3ZSBwYXJrLCB3ZSBjYW4gZG8gc28gcXVpY2tlciAoYnkKPiBhcm91bmQg
NTBtcywgaGFsZiBhbiBFSSBvbiBhdmVyYWdlKSBhbmQgbWFyZ2luYWxseSBpbmNyZWFzZSBvdXIK
PiBwb3dlcnNhdmluZyBhY3Jvc3MgYWxsIGV4ZWNsaXN0cyBwbGF0Zm9ybXMuCj4gCj4gU2lnbmVk
LW9mZi1ieTogQ2hyaXMgV2lsc29uIDxjaHJpc0BjaHJpcy13aWxzb24uY28udWs+Cj4gQ2M6IEFu
ZGkgU2h5dGkgPGFuZGkuc2h5dGlAaW50ZWwuY29tPgo+IENjOiBNaWthIEt1b3BwYWxhIDxtaWth
Lmt1b3BwYWxhQGxpbnV4LmludGVsLmNvbT4KPiBDYzogSW1yZSBEZWFrIDxpbXJlLmRlYWtAaW50
ZWwuY29tPgoKTG9va3Mgb2s6CkFja2VkLWJ5OiBJbXJlIERlYWsgPGltcmUuZGVha0BpbnRlbC5j
b20+CgpEb2VzIGludGVsX3JjNl9wYXJrKCkgd29yayBvbiBWTFYvQ0hWIHRvbz8gSSBjYW4ndCBz
ZWUgYXQgbGVhc3QgdGhhdAp3ZSdkIGVuYWJsZSBSQzYgb24gdGhvc2Ugd2l0aCBHRU42X1JDX0NU
TF9SQzZfRU5BQkxFLgoKQWxzbyB3aGF0IGlzIHRoZSB2YWx1ZSB3cml0dGVuIHRvIEdFTjZfUkNf
U1RBVEU/IElzIGl0IG9rIHRvIHVzZSB0aGUKc2FtZSB2YWx1ZSBhZnRlciB1bnBhcmsoKT8KCj4g
LS0tCj4gIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2d0X3BtLmMgICAgIHwgIDIgKwo+
ICBkcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9yYzYuYyAgICAgICB8IDUzICsrKysrKysr
KysrKysrKystLS0tLS0tCj4gIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX3JjNi5oICAg
ICAgIHwgIDMgKysKPiAgZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfcmM2X3R5cGVzLmgg
fCAgMiArCj4gIDQgZmlsZXMgY2hhbmdlZCwgNDUgaW5zZXJ0aW9ucygrKSwgMTUgZGVsZXRpb25z
KC0pCj4gCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2d0X3Bt
LmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9ndF9wbS5jCj4gaW5kZXggOWQzMDQ1
MDk2ZTM3Li4yMDAwMDE4YjY0NjQgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUv
Z3QvaW50ZWxfZ3RfcG0uYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2d0
X3BtLmMKPiBAQCAtNjQsNiArNjQsNyBAQCBzdGF0aWMgaW50IF9fZ3RfdW5wYXJrKHN0cnVjdCBp
bnRlbF93YWtlcmVmICp3ZikKPiAgCWlmIChORUVEU19SQzZfQ1RYX0NPUlJVUFRJT05fV0EoaTkx
NSkpCj4gIAkJaW50ZWxfdW5jb3JlX2ZvcmNld2FrZV9nZXQoZ3QtPnVuY29yZSwgRk9SQ0VXQUtF
X0FMTCk7Cj4gIAo+ICsJaW50ZWxfcmM2X3VucGFyaygmZ3QtPnJjNik7Cj4gIAlpbnRlbF9ycHNf
dW5wYXJrKCZndC0+cnBzKTsKPiAgCWk5MTVfcG11X2d0X3VucGFya2VkKGk5MTUpOwo+ICAKPiBA
QCAtODUsNiArODYsNyBAQCBzdGF0aWMgaW50IF9fZ3RfcGFyayhzdHJ1Y3QgaW50ZWxfd2FrZXJl
ZiAqd2YpCj4gIAlpOTE1X3ZtYV9wYXJrZWQoZ3QpOwo+ICAJaTkxNV9wbXVfZ3RfcGFya2VkKGk5
MTUpOwo+ICAJaW50ZWxfcnBzX3BhcmsoJmd0LT5ycHMpOwo+ICsJaW50ZWxfcmM2X3BhcmsoJmd0
LT5yYzYpOwo+ICAKPiAgCS8qIEV2ZXJ5dGhpbmcgc3dpdGNoZWQgb2ZmLCBmbHVzaCBhbnkgcmVz
aWR1YWwgaW50ZXJydXB0IGp1c3QgaW4gY2FzZSAqLwo+ICAJaW50ZWxfc3luY2hyb25pemVfaXJx
KGk5MTUpOwo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9yYzYu
YyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX3JjNi5jCj4gaW5kZXggN2EwYmM2ZGRl
MDA5Li5jNDM3OWM0OWMyMGQgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3Qv
aW50ZWxfcmM2LmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9yYzYuYwo+
IEBAIC05NiwxMCArOTYsMTAgQEAgc3RhdGljIHZvaWQgZ2VuMTFfcmM2X2VuYWJsZShzdHJ1Y3Qg
aW50ZWxfcmM2ICpyYzYpCj4gIAlzZXQodW5jb3JlLCBHRU45X1JFTkRFUl9QR19JRExFX0hZU1RF
UkVTSVMsIDYwKTsKPiAgCj4gIAkvKiAzYTogRW5hYmxlIFJDNiAqLwo+IC0Jc2V0KHVuY29yZSwg
R0VONl9SQ19DT05UUk9MLAo+IC0JICAgIEdFTjZfUkNfQ1RMX0hXX0VOQUJMRSB8Cj4gLQkgICAg
R0VONl9SQ19DVExfUkM2X0VOQUJMRSB8Cj4gLQkgICAgR0VONl9SQ19DVExfRUlfTU9ERSgxKSk7
Cj4gKwlyYzYtPmN0bF9lbmFibGUgPQo+ICsJCUdFTjZfUkNfQ1RMX0hXX0VOQUJMRSB8Cj4gKwkJ
R0VONl9SQ19DVExfUkM2X0VOQUJMRSB8Cj4gKwkJR0VONl9SQ19DVExfRUlfTU9ERSgxKTsKPiAg
Cj4gIAlzZXQodW5jb3JlLCBHRU45X1BHX0VOQUJMRSwKPiAgCSAgICBHRU45X1JFTkRFUl9QR19F
TkFCTEUgfAo+IEBAIC0xNzAsMTAgKzE3MCwxMCBAQCBzdGF0aWMgdm9pZCBnZW45X3JjNl9lbmFi
bGUoc3RydWN0IGludGVsX3JjNiAqcmM2KQo+ICAJZWxzZQo+ICAJCXJjNl9tb2RlID0gR0VONl9S
Q19DVExfRUlfTU9ERSgxKTsKPiAgCj4gLQlzZXQodW5jb3JlLCBHRU42X1JDX0NPTlRST0wsCj4g
LQkgICAgR0VONl9SQ19DVExfSFdfRU5BQkxFIHwKPiAtCSAgICBHRU42X1JDX0NUTF9SQzZfRU5B
QkxFIHwKPiAtCSAgICByYzZfbW9kZSk7Cj4gKwlyYzYtPmN0bF9lbmFibGUgPQo+ICsJCUdFTjZf
UkNfQ1RMX0hXX0VOQUJMRSB8Cj4gKwkJR0VONl9SQ19DVExfUkM2X0VOQUJMRSB8Cj4gKwkJcmM2
X21vZGU7Cj4gIAo+ICAJLyoKPiAgCSAqIFdhUnNEaXNhYmxlQ29hcnNlUG93ZXJHYXRpbmc6c2ts
LGNubAo+IEBAIC0yMDAsMTAgKzIwMCwxMCBAQCBzdGF0aWMgdm9pZCBnZW44X3JjNl9lbmFibGUo
c3RydWN0IGludGVsX3JjNiAqcmM2KQo+ICAJc2V0KHVuY29yZSwgR0VONl9SQzZfVEhSRVNIT0xE
LCA2MjUpOyAvKiA4MDB1cy8xLjI4IGZvciBUTyAqLwo+ICAKPiAgCS8qIDM6IEVuYWJsZSBSQzYg
Ki8KPiAtCXNldCh1bmNvcmUsIEdFTjZfUkNfQ09OVFJPTCwKPiArCXJjNi0+Y3RsX2VuYWJsZSA9
Cj4gIAkgICAgR0VONl9SQ19DVExfSFdfRU5BQkxFIHwKPiAgCSAgICBHRU43X1JDX0NUTF9UT19N
T0RFIHwKPiAtCSAgICBHRU42X1JDX0NUTF9SQzZfRU5BQkxFKTsKPiArCSAgICBHRU42X1JDX0NU
TF9SQzZfRU5BQkxFOwo+ICB9Cj4gIAo+ICBzdGF0aWMgdm9pZCBnZW42X3JjNl9lbmFibGUoc3Ry
dWN0IGludGVsX3JjNiAqcmM2KQo+IEBAIC0yMzksMTAgKzIzOSwxMCBAQCBzdGF0aWMgdm9pZCBn
ZW42X3JjNl9lbmFibGUoc3RydWN0IGludGVsX3JjNiAqcmM2KQo+ICAJCXJjNl9tYXNrIHw9IEdF
TjZfUkNfQ1RMX1JDNnBfRU5BQkxFOwo+ICAJaWYgKEhBU19SQzZwcChpOTE1KSkKPiAgCQlyYzZf
bWFzayB8PSBHRU42X1JDX0NUTF9SQzZwcF9FTkFCTEU7Cj4gLQlzZXQodW5jb3JlLCBHRU42X1JD
X0NPTlRST0wsCj4gKwlyYzYtPmN0bF9lbmFibGUgPQo+ICAJICAgIHJjNl9tYXNrIHwKPiAgCSAg
ICBHRU42X1JDX0NUTF9FSV9NT0RFKDEpIHwKPiAtCSAgICBHRU42X1JDX0NUTF9IV19FTkFCTEUp
Owo+ICsJICAgIEdFTjZfUkNfQ1RMX0hXX0VOQUJMRTsKPiAgCj4gIAlyYzZ2aWRzID0gMDsKPiAg
CXJldCA9IHNhbmR5YnJpZGdlX3Bjb2RlX3JlYWQoaTkxNSwgR0VONl9QQ09ERV9SRUFEX1JDNlZJ
RFMsCj4gQEAgLTM2MCw3ICszNjAsNyBAQCBzdGF0aWMgdm9pZCBjaHZfcmM2X2VuYWJsZShzdHJ1
Y3QgaW50ZWxfcmM2ICpyYzYpCj4gIAkJCSAgICAgICBWTFZfUkVOREVSX1JDNl9DT1VOVF9FTikp
Owo+ICAKPiAgCS8qIDM6IEVuYWJsZSBSQzYgKi8KPiAtCXNldCh1bmNvcmUsIEdFTjZfUkNfQ09O
VFJPTCwgR0VON19SQ19DVExfVE9fTU9ERSk7Cj4gKwlyYzYtPmN0bF9lbmFibGUgPSBHRU43X1JD
X0NUTF9UT19NT0RFOwo+ICB9Cj4gIAo+ICBzdGF0aWMgdm9pZCB2bHZfcmM2X2VuYWJsZShzdHJ1
Y3QgaW50ZWxfcmM2ICpyYzYpCj4gQEAgLTM4Niw4ICszODYsOCBAQCBzdGF0aWMgdm9pZCB2bHZf
cmM2X2VuYWJsZShzdHJ1Y3QgaW50ZWxfcmM2ICpyYzYpCj4gIAkJCSAgICAgICBWTFZfTUVESUFf
UkM2X0NPVU5UX0VOIHwKPiAgCQkJICAgICAgIFZMVl9SRU5ERVJfUkM2X0NPVU5UX0VOKSk7Cj4g
IAo+IC0Jc2V0KHVuY29yZSwgR0VONl9SQ19DT05UUk9MLAo+IC0JICAgIEdFTjdfUkNfQ1RMX1RP
X01PREUgfCBWTFZfUkNfQ1RMX0NUWF9SU1RfUEFSQUxMRUwpOwo+ICsJcmM2LT5jdGxfZW5hYmxl
ID0KPiArCSAgICBHRU43X1JDX0NUTF9UT19NT0RFIHwgVkxWX1JDX0NUTF9DVFhfUlNUX1BBUkFM
TEVMOwo+ICB9Cj4gIAo+ICBzdGF0aWMgYm9vbCBieHRfY2hlY2tfYmlvc19yYzZfc2V0dXAoc3Ry
dWN0IGludGVsX3JjNiAqcmM2KQo+IEBAIC02MzQsNiArNjM0LDI5IEBAIHZvaWQgaW50ZWxfcmM2
X2VuYWJsZShzdHJ1Y3QgaW50ZWxfcmM2ICpyYzYpCj4gIAlyYzYtPmVuYWJsZWQgPSB0cnVlOwo+
ICB9Cj4gIAo+ICt2b2lkIGludGVsX3JjNl91bnBhcmsoc3RydWN0IGludGVsX3JjNiAqcmM2KQo+
ICt7Cj4gKwlzdHJ1Y3QgaW50ZWxfdW5jb3JlICp1bmNvcmUgPSByYzZfdG9fdW5jb3JlKHJjNik7
Cj4gKwo+ICsJaWYgKCFyYzYtPmVuYWJsZWQpCj4gKwkJcmV0dXJuOwo+ICsKPiArCS8qIFJlc3Rv
cmUgSFcgdGltZXJzIGZvciBhdXRvbWF0aWMgUkM2IGVudHJ5IHdoaWxlIGJ1c3kgKi8KPiArCXNl
dCh1bmNvcmUsIEdFTjZfUkNfQ09OVFJPTCwgcmM2LT5jdGxfZW5hYmxlKTsKPiArfQo+ICsKPiAr
dm9pZCBpbnRlbF9yYzZfcGFyayhzdHJ1Y3QgaW50ZWxfcmM2ICpyYzYpCj4gK3sKPiArCXN0cnVj
dCBpbnRlbF91bmNvcmUgKnVuY29yZSA9IHJjNl90b191bmNvcmUocmM2KTsKPiArCj4gKwlpZiAo
IXJjNi0+ZW5hYmxlZCkKPiArCQlyZXR1cm47Cj4gKwo+ICsJLyogVHVybiBvZmYgdGhlIEhXIHRp
bWVycyBhbmQgZ28gZGlyZWN0bHkgdG8gcmM2ICovCj4gKwlzZXQodW5jb3JlLCBHRU42X1JDX0NP
TlRST0wsIEdFTjZfUkNfQ1RMX1JDNl9FTkFCTEUpOwo+ICsJc2V0KHVuY29yZSwgR0VONl9SQ19T
VEFURSwgMHg0IDw8IFJDX1NXX1RBUkdFVF9TVEFURV9TSElGVCk7Cj4gK30KPiArCj4gIHZvaWQg
aW50ZWxfcmM2X2Rpc2FibGUoc3RydWN0IGludGVsX3JjNiAqcmM2KQo+ICB7Cj4gIAlpZiAoIXJj
Ni0+ZW5hYmxlZCkKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxf
cmM2LmggYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9yYzYuaAo+IGluZGV4IDEzNzBm
NjgzNGE0Yy4uMjBkNzQwZmY3ZTU1IDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1
L2d0L2ludGVsX3JjNi5oCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfcmM2
LmgKPiBAQCAtMTUsNiArMTUsOSBAQCBzdHJ1Y3QgaW50ZWxfcmM2Owo+ICB2b2lkIGludGVsX3Jj
Nl9pbml0KHN0cnVjdCBpbnRlbF9yYzYgKnJjNik7Cj4gIHZvaWQgaW50ZWxfcmM2X2Zpbmkoc3Ry
dWN0IGludGVsX3JjNiAqcmM2KTsKPiAgCj4gK3ZvaWQgaW50ZWxfcmM2X3VucGFyayhzdHJ1Y3Qg
aW50ZWxfcmM2ICpyYzYpOwo+ICt2b2lkIGludGVsX3JjNl9wYXJrKHN0cnVjdCBpbnRlbF9yYzYg
KnJjNik7Cj4gKwo+ICB2b2lkIGludGVsX3JjNl9zYW5pdGl6ZShzdHJ1Y3QgaW50ZWxfcmM2ICpy
YzYpOwo+ICB2b2lkIGludGVsX3JjNl9lbmFibGUoc3RydWN0IGludGVsX3JjNiAqcmM2KTsKPiAg
dm9pZCBpbnRlbF9yYzZfZGlzYWJsZShzdHJ1Y3QgaW50ZWxfcmM2ICpyYzYpOwo+IGRpZmYgLS1n
aXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9yYzZfdHlwZXMuaCBiL2RyaXZlcnMv
Z3B1L2RybS9pOTE1L2d0L2ludGVsX3JjNl90eXBlcy5oCj4gaW5kZXggODlhZDU2OTdhOGQ0Li45
ZjNkNTY4MTdjOTcgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxf
cmM2X3R5cGVzLmgKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9yYzZfdHlw
ZXMuaAo+IEBAIC0xOCw2ICsxOCw4IEBAIHN0cnVjdCBpbnRlbF9yYzYgewo+ICAJdTY0IHByZXZf
aHdfcmVzaWRlbmN5WzRdOwo+ICAJdTY0IGN1cl9yZXNpZGVuY3lbNF07Cj4gIAo+ICsJdTMyIGN0
bF9lbmFibGU7Cj4gKwo+ICAJc3RydWN0IGRybV9pOTE1X2dlbV9vYmplY3QgKnBjdHg7Cj4gIAo+
ICAJYm9vbCBzdXBwb3J0ZWQgOiAxOwo+IC0tIAo+IDIuMjQuMAo+IApfX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpJbnRlbC1nZnggbWFpbGluZyBsaXN0Cklu
dGVsLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5v
cmcvbWFpbG1hbi9saXN0aW5mby9pbnRlbC1nZng=

Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 4833D1C2BA6
	for <lists+intel-gfx@lfdr.de>; Sun,  3 May 2020 13:22:21 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 8B3666E217;
	Sun,  3 May 2020 11:22:19 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from fireflyinternet.com (mail.fireflyinternet.com [109.228.58.192])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 0DA626E210
 for <intel-gfx@lists.freedesktop.org>; Sun,  3 May 2020 11:22:17 +0000 (UTC)
X-Default-Received-SPF: pass (skip=forwardok (res=PASS))
 x-ip-name=78.156.65.138; 
Received: from build.alporthouse.com (unverified [78.156.65.138]) 
 by fireflyinternet.com (Firefly Internet (M1)) with ESMTP id 21097495-1500050 
 for multiple; Sun, 03 May 2020 12:21:40 +0100
From: Chris Wilson <chris@chris-wilson.co.uk>
To: intel-gfx@lists.freedesktop.org
Date: Sun,  3 May 2020 12:21:30 +0100
Message-Id: <20200503112132.17899-12-chris@chris-wilson.co.uk>
X-Mailer: git-send-email 2.20.1
In-Reply-To: <20200503112132.17899-1-chris@chris-wilson.co.uk>
References: <20200503112132.17899-1-chris@chris-wilson.co.uk>
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH 12/14] drm/i915: Replace the hardcoded
 I915_FENCE_TIMEOUT
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: Chris Wilson <chris@chris-wilson.co.uk>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

RXhwb3NlIHRoZSBoYXJkY29kZWQgdGltZW91dCBmb3IgdW5zaWduYWxlZCBmb3JlaWduIGZlbmNl
cyBhcyBhIEtjb25maWcKb3B0aW9uLCBwcmltYXJpbHkgdG8gYWxsb3cgYnJhdmUgc3lzdGVtcyB0
byBkaXNhYmxlIHRoZSB0aW1lb3V0IGFuZApzb2xlbHkgcmVseSBvbiBjb3JyZWN0IHNpZ25hbGlu
Zy4KClNpZ25lZC1vZmYtYnk6IENocmlzIFdpbHNvbiA8Y2hyaXNAY2hyaXMtd2lsc29uLmNvLnVr
PgpDYzogSm9vbmFzIExhaHRpbmVuIDxqb29uYXMubGFodGluZW5AbGludXguaW50ZWwuY29tPgot
LS0KIGRyaXZlcnMvZ3B1L2RybS9pOTE1L0tjb25maWcucHJvZmlsZSAgICAgICAgICAgfCAxMiAr
KysrKysrKysrKysKIGRyaXZlcnMvZ3B1L2RybS9pOTE1L01ha2VmaWxlICAgICAgICAgICAgICAg
ICAgfCAgMSArCiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXkuYyAg
IHwgIDUgKysrLS0KIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9jbGZsdXNoLmMg
ICAgfCAgMiArLQogZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX2NsaWVudF9ibHQu
YyB8ICAzICstLQogZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX2ZlbmNlLmMgICAg
ICB8ICA0ICsrLS0KIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfY29uZmlnLmMgICAgICAgICAg
ICAgfCAxNSArKysrKysrKysrKysrKysKIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZHJ2Lmgg
ICAgICAgICAgICAgICAgfCAgMiArLQogZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9yZXF1ZXN0
LmMgICAgICAgICAgICB8ICA4ICsrKystLS0tCiA5IGZpbGVzIGNoYW5nZWQsIDQwIGluc2VydGlv
bnMoKyksIDEyIGRlbGV0aW9ucygtKQogY3JlYXRlIG1vZGUgMTAwNjQ0IGRyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2k5MTVfY29uZmlnLmMKCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9L
Y29uZmlnLnByb2ZpbGUgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9LY29uZmlnLnByb2ZpbGUKaW5k
ZXggMGJmZDI3NmMxOWZlLi4zOTI1YmU2NWQzMTQgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2Ry
bS9pOTE1L0tjb25maWcucHJvZmlsZQorKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9LY29uZmln
LnByb2ZpbGUKQEAgLTEsMyArMSwxNSBAQAorY29uZmlnIERSTV9JOTE1X0ZFTkNFX1RJTUVPVVQK
KwlpbnQgIlRpbWVvdXQgZm9yIHVuc2lnbmFsZWQgZm9yZWlnbiBmZW5jZXMiCisJZGVmYXVsdCAx
MDAwMCAjIG1pbGxpc2Vjb25kcworCWhlbHAKKwkgIFdoZW4gbGlzdGVuaW5nIHRvIGEgZm9yZWln
biBmZW5jZSwgd2UgaW5zdGFsbCBhIHN1cHBsZW1lbnRhcnkgdGltZXIKKwkgIHRvIGVuc3VyZSB0
aGF0IHdlIGFyZSBhbHdheXMgc2lnbmFsZWQgYW5kIG91ciB1c2Vyc3BhY2UgaXMgYWJsZSB0bwor
CSAgbWFrZSBmb3J3YXJkIHByb2dyZXNzLiBUaGlzIHZhbHVlIHNwZWNpZmllcyB0aGUgdGltZW91
dCB1c2VkIGZvciBhbgorCSAgdW5zaWduYWxlZCBmb3JlaWduIGZlbmNlLgorCisJICBNYXkgYmUg
MCB0byBkaXNhYmxlIHRoZSB0aW1lb3V0LCBhbmQgcmVseSBvbiB0aGUgZm9yZWlnbiBmZW5jZSBi
ZWluZworCSAgZXZlbnR1YWxseSBzaWduYWxlZC4KKwogY29uZmlnIERSTV9JOTE1X1VTRVJGQVVM
VF9BVVRPU1VTUEVORAogCWludCAiUnVudGltZSBhdXRvc3VzcGVuZCBkZWxheSBmb3IgdXNlcnNw
YWNlIEdHVFQgbW1hcHMgKG1zKSIKIAlkZWZhdWx0IDI1MCAjIG1pbGxpc2Vjb25kcwpkaWZmIC0t
Z2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvTWFrZWZpbGUgYi9kcml2ZXJzL2dwdS9kcm0vaTkx
NS9NYWtlZmlsZQppbmRleCA1MzU5YzczNmM3ODkuLmIwZGE2ZWE2ZTNmMSAxMDA2NDQKLS0tIGEv
ZHJpdmVycy9ncHUvZHJtL2k5MTUvTWFrZWZpbGUKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUv
TWFrZWZpbGUKQEAgLTM1LDYgKzM1LDcgQEAgc3ViZGlyLWNjZmxhZ3MteSArPSAtSSQoc3JjdHJl
ZSkvJChzcmMpCiAKICMgY29yZSBkcml2ZXIgY29kZQogaTkxNS15ICs9IGk5MTVfZHJ2Lm8gXAor
CSAgaTkxNV9jb25maWcubyBcCiAJICBpOTE1X2lycS5vIFwKIAkgIGk5MTVfZ2V0cGFyYW0ubyBc
CiAJICBpOTE1X3BhcmFtcy5vIFwKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rp
c3BsYXkvaW50ZWxfZGlzcGxheS5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRl
bF9kaXNwbGF5LmMKaW5kZXggMmExN2NmMzhkM2RjLi43YjM1NzhjZmNhY2MgMTAwNjQ0Ci0tLSBh
L2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheS5jCisrKyBiL2RyaXZl
cnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheS5jCkBAIC0xNTgxNSw3ICsxNTgx
NSw3IEBAIGludGVsX3ByZXBhcmVfcGxhbmVfZmIoc3RydWN0IGRybV9wbGFuZSAqX3BsYW5lLAog
CWlmIChuZXdfcGxhbmVfc3RhdGUtPnVhcGkuZmVuY2UpIHsgLyogZXhwbGljaXQgZmVuY2luZyAq
LwogCQlyZXQgPSBpOTE1X3N3X2ZlbmNlX2F3YWl0X2RtYV9mZW5jZSgmc3RhdGUtPmNvbW1pdF9y
ZWFkeSwKIAkJCQkJCSAgICBuZXdfcGxhbmVfc3RhdGUtPnVhcGkuZmVuY2UsCi0JCQkJCQkgICAg
STkxNV9GRU5DRV9USU1FT1VULAorCQkJCQkJICAgIGk5MTVfZmVuY2VfdGltZW91dChkZXZfcHJp
diksCiAJCQkJCQkgICAgR0ZQX0tFUk5FTCk7CiAJCWlmIChyZXQgPCAwKQogCQkJcmV0dXJuIHJl
dDsKQEAgLTE1ODQyLDcgKzE1ODQyLDggQEAgaW50ZWxfcHJlcGFyZV9wbGFuZV9mYihzdHJ1Y3Qg
ZHJtX3BsYW5lICpfcGxhbmUsCiAKIAkJcmV0ID0gaTkxNV9zd19mZW5jZV9hd2FpdF9yZXNlcnZh
dGlvbigmc3RhdGUtPmNvbW1pdF9yZWFkeSwKIAkJCQkJCSAgICAgIG9iai0+YmFzZS5yZXN2LCBO
VUxMLAotCQkJCQkJICAgICAgZmFsc2UsIEk5MTVfRkVOQ0VfVElNRU9VVCwKKwkJCQkJCSAgICAg
IGZhbHNlLAorCQkJCQkJICAgICAgaTkxNV9mZW5jZV90aW1lb3V0KGRldl9wcml2KSwKIAkJCQkJ
CSAgICAgIEdGUF9LRVJORUwpOwogCQlpZiAocmV0IDwgMCkKIAkJCWdvdG8gdW5waW5fZmI7CmRp
ZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fY2xmbHVzaC5jIGIv
ZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX2NsZmx1c2guYwppbmRleCAzNGJlNGMw
ZWU3YzUuLmJjMDIyMzcxNjkwNiAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2Vt
L2k5MTVfZ2VtX2NsZmx1c2guYworKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9n
ZW1fY2xmbHVzaC5jCkBAIC0xMDgsNyArMTA4LDcgQEAgYm9vbCBpOTE1X2dlbV9jbGZsdXNoX29i
amVjdChzdHJ1Y3QgZHJtX2k5MTVfZ2VtX29iamVjdCAqb2JqLAogCWlmIChjbGZsdXNoKSB7CiAJ
CWk5MTVfc3dfZmVuY2VfYXdhaXRfcmVzZXJ2YXRpb24oJmNsZmx1c2gtPmJhc2UuY2hhaW4sCiAJ
CQkJCQlvYmotPmJhc2UucmVzdiwgTlVMTCwgdHJ1ZSwKLQkJCQkJCUk5MTVfRkVOQ0VfVElNRU9V
VCwKKwkJCQkJCWk5MTVfZmVuY2VfdGltZW91dCh0b19pOTE1KG9iai0+YmFzZS5kZXYpKSwKIAkJ
CQkJCUk5MTVfRkVOQ0VfR0ZQKTsKIAkJZG1hX3Jlc3ZfYWRkX2V4Y2xfZmVuY2Uob2JqLT5iYXNl
LnJlc3YsICZjbGZsdXNoLT5iYXNlLmRtYSk7CiAJCWRtYV9mZW5jZV93b3JrX2NvbW1pdCgmY2xm
bHVzaC0+YmFzZSk7CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9n
ZW1fY2xpZW50X2JsdC5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX2NsaWVu
dF9ibHQuYwppbmRleCAzYTE0NmFhMjU5M2IuLmQzYTg2YTRkNWMwNCAxMDA2NDQKLS0tIGEvZHJp
dmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX2NsaWVudF9ibHQuYworKysgYi9kcml2ZXJz
L2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fY2xpZW50X2JsdC5jCkBAIC0yODgsOCArMjg4LDcg
QEAgaW50IGk5MTVfZ2VtX3NjaGVkdWxlX2ZpbGxfcGFnZXNfYmx0KHN0cnVjdCBkcm1faTkxNV9n
ZW1fb2JqZWN0ICpvYmosCiAKIAlpOTE1X2dlbV9vYmplY3RfbG9jayhvYmopOwogCWVyciA9IGk5
MTVfc3dfZmVuY2VfYXdhaXRfcmVzZXJ2YXRpb24oJndvcmstPndhaXQsCi0JCQkJCSAgICAgIG9i
ai0+YmFzZS5yZXN2LCBOVUxMLAotCQkJCQkgICAgICB0cnVlLCBJOTE1X0ZFTkNFX1RJTUVPVVQs
CisJCQkJCSAgICAgIG9iai0+YmFzZS5yZXN2LCBOVUxMLCB0cnVlLCAwLAogCQkJCQkgICAgICBJ
OTE1X0ZFTkNFX0dGUCk7CiAJaWYgKGVyciA8IDApIHsKIAkJZG1hX2ZlbmNlX3NldF9lcnJvcigm
d29yay0+ZG1hLCBlcnIpOwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5
MTVfZ2VtX2ZlbmNlLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fZmVuY2Uu
YwppbmRleCAyZjYxMDBlYzI2MDguLjhhYjg0MmM4MGY5OSAxMDA2NDQKLS0tIGEvZHJpdmVycy9n
cHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX2ZlbmNlLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5
MTUvZ2VtL2k5MTVfZ2VtX2ZlbmNlLmMKQEAgLTcyLDggKzcyLDggQEAgaTkxNV9nZW1fb2JqZWN0
X2xvY2tfZmVuY2Uoc3RydWN0IGRybV9pOTE1X2dlbV9vYmplY3QgKm9iaikKIAkJICAgICAgIDAs
IDApOwogCiAJaWYgKGk5MTVfc3dfZmVuY2VfYXdhaXRfcmVzZXJ2YXRpb24oJnN0dWItPmNoYWlu
LAotCQkJCQkgICAgb2JqLT5iYXNlLnJlc3YsIE5VTEwsCi0JCQkJCSAgICB0cnVlLCBJOTE1X0ZF
TkNFX1RJTUVPVVQsCisJCQkJCSAgICBvYmotPmJhc2UucmVzdiwgTlVMTCwgdHJ1ZSwKKwkJCQkJ
ICAgIGk5MTVfZmVuY2VfdGltZW91dCh0b19pOTE1KG9iai0+YmFzZS5kZXYpKSwKIAkJCQkJICAg
IEk5MTVfRkVOQ0VfR0ZQKSA8IDApCiAJCWdvdG8gZXJyOwogCmRpZmYgLS1naXQgYS9kcml2ZXJz
L2dwdS9kcm0vaTkxNS9pOTE1X2NvbmZpZy5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9j
b25maWcuYwpuZXcgZmlsZSBtb2RlIDEwMDY0NAppbmRleCAwMDAwMDAwMDAwMDAuLmM4NzlkMjYz
NjllMQotLS0gL2Rldi9udWxsCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfY29uZmln
LmMKQEAgLTAsMCArMSwxNSBAQAorLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IE1JVAorLyoK
KyAqIENvcHlyaWdodCDCqSAyMDIwIEludGVsIENvcnBvcmF0aW9uCisgKi8KKworI2luY2x1ZGUg
Imk5MTVfZHJ2LmgiCisKK3Vuc2lnbmVkIGxvbmcgaTkxNV9mZW5jZV90aW1lb3V0KGNvbnN0IHN0
cnVjdCBkcm1faTkxNV9wcml2YXRlICppOTE1KQoreworI2lmIElTX0FDVElWRShDT05GSUdfRFJN
X0k5MTVfRkVOQ0VfVElNRU9VVCkKKwlyZXR1cm4gbXNlY3NfdG9famlmZmllc190aW1lb3V0KENP
TkZJR19EUk1fSTkxNV9GRU5DRV9USU1FT1VUKTsKKyNlbHNlCisJcmV0dXJuIDA7CisjZW5kaWYK
K30KZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZHJ2LmggYi9kcml2ZXJz
L2dwdS9kcm0vaTkxNS9pOTE1X2Rydi5oCmluZGV4IDZhZjY5NTU1NzMzZS4uYmMwZTk2Yzg4ODIx
IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2Rydi5oCisrKyBiL2RyaXZl
cnMvZ3B1L2RybS9pOTE1L2k5MTVfZHJ2LmgKQEAgLTYxNCw4ICs2MTQsOCBAQCBzdHJ1Y3QgaTkx
NV9nZW1fbW0gewogCiAjZGVmaW5lIEk5MTVfSURMRV9FTkdJTkVTX1RJTUVPVVQgKDIwMCkgLyog
aW4gbXMgKi8KIAordW5zaWduZWQgbG9uZyBpOTE1X2ZlbmNlX3RpbWVvdXQoY29uc3Qgc3RydWN0
IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUpOwogI2RlZmluZSBJOTE1X1JFU0VUX1RJTUVPVVQgKDEw
ICogSFopIC8qIDEwcyAqLwotI2RlZmluZSBJOTE1X0ZFTkNFX1RJTUVPVVQgKDEwICogSFopIC8q
IDEwcyAqLwogCiAjZGVmaW5lIEk5MTVfRU5HSU5FX0RFQURfVElNRU9VVCAgKDQgKiBIWikgIC8q
IFNlcW5vLCBoZWFkIGFuZCBzdWJ1bml0cyBkZWFkICovCiAjZGVmaW5lIEk5MTVfU0VRTk9fREVB
RF9USU1FT1VUICAgKDEyICogSFopIC8qIFNlcW5vIGRlYWQgd2l0aCBhY3RpdmUgaGVhZCAqLwpk
aWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9yZXF1ZXN0LmMgYi9kcml2ZXJz
L2dwdS9kcm0vaTkxNS9pOTE1X3JlcXVlc3QuYwppbmRleCAyNDhlZmJjMDEyMjQuLmFjNzgwMjFh
ZTRmMCAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9yZXF1ZXN0LmMKKysr
IGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9yZXF1ZXN0LmMKQEAgLTExMTQsNyArMTExNCw3
IEBAIGk5MTVfcmVxdWVzdF9hd2FpdF9kbWFfZmVuY2Uoc3RydWN0IGk5MTVfcmVxdWVzdCAqcnEs
IHN0cnVjdCBkbWFfZmVuY2UgKmZlbmNlKQogCQkJcmV0ID0gaTkxNV9yZXF1ZXN0X2F3YWl0X3Jl
cXVlc3QocnEsIHRvX3JlcXVlc3QoZmVuY2UpKTsKIAkJZWxzZQogCQkJcmV0ID0gaTkxNV9zd19m
ZW5jZV9hd2FpdF9kbWFfZmVuY2UoJnJxLT5zdWJtaXQsIGZlbmNlLAotCQkJCQkJCSAgICBmZW5j
ZS0+Y29udGV4dCA/IEk5MTVfRkVOQ0VfVElNRU9VVCA6IDAsCisJCQkJCQkJICAgIGZlbmNlLT5j
b250ZXh0ID8gaTkxNV9mZW5jZV90aW1lb3V0KHJxLT5pOTE1KSA6IDAsCiAJCQkJCQkJICAgIEk5
MTVfRkVOQ0VfR0ZQKTsKIAkJaWYgKHJldCA8IDApCiAJCQlyZXR1cm4gcmV0OwpAQCAtMTI0Myw3
ICsxMjQzLDcgQEAgc3RhdGljIHZvaWQgZXhlY3V0aW9uX3Byb3h5X3dvcmsoc3RydWN0IHdvcmtf
c3RydWN0ICp3b3JrKQogCQllbHNlCiAJCQllcnIgPSBpOTE1X3N3X2ZlbmNlX2F3YWl0X2RtYV9m
ZW5jZSgmcnEtPnN1Ym1pdCwKIAkJCQkJCQkgICAgd2FpdC0+ZmVuY2UsCi0JCQkJCQkJICAgIEk5
MTVfRkVOQ0VfVElNRU9VVCwKKwkJCQkJCQkgICAgaTkxNV9mZW5jZV90aW1lb3V0KHJxLT5pOTE1
KSwKIAkJCQkJCQkgICAgR0ZQX0tFUk5FTCk7CiAJCWlmIChlcnIgPCAwKQogCQkJaTkxNV9yZXF1
ZXN0X3NldF9lcnJvcl9vbmNlKHJxLCBlcnIpOwpAQCAtMTM1NywxMSArMTM1NywxMSBAQCBpOTE1
X3JlcXVlc3RfYXdhaXRfZXhlY3V0aW9uKHN0cnVjdCBpOTE1X3JlcXVlc3QgKnJxLAogCQllbHNl
IGlmIChkbWFfZmVuY2VfaXNfcHJveHkoZmVuY2UpKQogCQkJcmV0ID0gX19pOTE1X3JlcXVlc3Rf
YXdhaXRfcHJveHlfZXhlY3V0aW9uKHJxLAogCQkJCQkJCQkgICBmZW5jZSwKLQkJCQkJCQkJICAg
STkxNV9GRU5DRV9USU1FT1VULAorCQkJCQkJCQkgICBpOTE1X2ZlbmNlX3RpbWVvdXQocnEtPmk5
MTUpLAogCQkJCQkJCQkgICBob29rKTsKIAkJZWxzZQogCQkJcmV0ID0gaTkxNV9zd19mZW5jZV9h
d2FpdF9kbWFfZmVuY2UoJnJxLT5zdWJtaXQsIGZlbmNlLAotCQkJCQkJCSAgICBJOTE1X0ZFTkNF
X1RJTUVPVVQsCisJCQkJCQkJICAgIGk5MTVfZmVuY2VfdGltZW91dChycS0+aTkxNSksCiAJCQkJ
CQkJICAgIEdGUF9LRVJORUwpOwogCQlpZiAocmV0IDwgMCkKIAkJCXJldHVybiByZXQ7Ci0tIAoy
LjIwLjEKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCklu
dGVsLWdmeCBtYWlsaW5nIGxpc3QKSW50ZWwtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRw
czovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2ludGVsLWdmeAo=

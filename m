Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id A12FF178E6
	for <lists+intel-gfx@lfdr.de>; Wed,  8 May 2019 13:53:00 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 17DBB88E46;
	Wed,  8 May 2019 11:52:59 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga03.intel.com (mga03.intel.com [134.134.136.65])
 by gabe.freedesktop.org (Postfix) with ESMTPS id CCF6588E46
 for <intel-gfx@lists.freedesktop.org>; Wed,  8 May 2019 11:52:57 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from fmsmga005.fm.intel.com ([10.253.24.32])
 by orsmga103.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 08 May 2019 04:52:57 -0700
X-ExtLoop1: 1
Received: from jzapadkx-mobl1.ger.corp.intel.com (HELO [10.252.0.159])
 ([10.252.0.159])
 by fmsmga005.fm.intel.com with ESMTP; 08 May 2019 04:52:55 -0700
To: Chris Wilson <chris@chris-wilson.co.uk>, intel-gfx@lists.freedesktop.org
References: <20190508080704.24223-8-chris@chris-wilson.co.uk>
 <20190508112546.22617-1-chris@chris-wilson.co.uk>
From: Tvrtko Ursulin <tvrtko.ursulin@linux.intel.com>
Organization: Intel Corporation UK Plc
Message-ID: <6939e4b5-0add-04eb-0699-65dce8f5ed67@linux.intel.com>
Date: Wed, 8 May 2019 12:52:54 +0100
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101
 Thunderbird/60.6.1
MIME-Version: 1.0
In-Reply-To: <20190508112546.22617-1-chris@chris-wilson.co.uk>
Content-Language: en-US
Subject: Re: [Intel-gfx] [PATCH] dma-fence: Refactor signaling for manual
 invocation
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

Ck9uIDA4LzA1LzIwMTkgMTI6MjUsIENocmlzIFdpbHNvbiB3cm90ZToKPiBNb3ZlIHRoZSBkdXBs
aWNhdGVkIGNvZGUgd2l0aGluIGRtYS1mZW5jZS5jIGludG8gdGhlIGhlYWRlciBmb3Igd2lkZXIK
PiByZXVzZS4KCkZvciB0aGlzIG9uZSBJIGFtIG5vdCBzdXJlIHdoZXRoZXIgdG8gZ28gd2l0aCBz
dGF0aWMgaW5saW5lcyBvciAKRVhQT1JUX1NZTUJPTCB0aGUgaGVscGVycy4KCkFsc28geW91J2xs
IG5lZWQgdG8gbWVudGlvbiB0aGF0IGluIHRoZSBzYW1lIHBhdGNoIHlvdSBhcmUgb3B0aW1pemVk
IHRoZSAKd2hvbGUtbGlzdC11bmxpbmsuIFByZXN1bWFibHksIHdoZW4gdGhpcyBnb2VzIHRvIGRy
aS1kZXZlbCBvbmUgZGF5LgoKQnV0IG92ZXJhbGwgaXQgbWFrZXMgc2Vuc2UgdG8gbWUgdG8gYWxs
b3cgY29udHJvbGxlZCBmaW5lIGNvbnRyb2wgb2YgdGhlIApmZW5jZSBzaWduYWxpbmcgZnJvbSBk
bWEtZmVuY2UgY29yZS4KClJlZ2FyZHMsCgpUdnJ0a28KCj4gU2lnbmVkLW9mZi1ieTogQ2hyaXMg
V2lsc29uIDxjaHJpc0BjaHJpcy13aWxzb24uY28udWs+Cj4gLS0tCj4gICBkcml2ZXJzL2RtYS1i
dWYvTWFrZWZpbGUgICAgICAgICAgICAgICAgICAgIHwgIDEwICstCj4gICBkcml2ZXJzL2RtYS1i
dWYvZG1hLWZlbmNlLXRyYWNlLmMgICAgICAgICAgIHwgIDI4ICsrKwo+ICAgZHJpdmVycy9kbWEt
YnVmL2RtYS1mZW5jZS5jICAgICAgICAgICAgICAgICB8ICAzMiArLS0KPiAgIGRyaXZlcnMvZ3B1
L2RybS9pOTE1L2d0L2ludGVsX2JyZWFkY3J1bWJzLmMgfCAgMzAgLS0tCj4gICBpbmNsdWRlL2xp
bnV4L2RtYS1mZW5jZS10eXBlcy5oICAgICAgICAgICAgIHwgMjQ4ICsrKysrKysrKysrKysrKysr
KysKPiAgIGluY2x1ZGUvbGludXgvZG1hLWZlbmNlLmggICAgICAgICAgICAgICAgICAgfCAyNTEg
KysrLS0tLS0tLS0tLS0tLS0tLS0KPiAgIDYgZmlsZXMgY2hhbmdlZCwgMzIxIGluc2VydGlvbnMo
KyksIDI3OCBkZWxldGlvbnMoLSkKPiAgIGNyZWF0ZSBtb2RlIDEwMDY0NCBkcml2ZXJzL2RtYS1i
dWYvZG1hLWZlbmNlLXRyYWNlLmMKPiAgIGNyZWF0ZSBtb2RlIDEwMDY0NCBpbmNsdWRlL2xpbnV4
L2RtYS1mZW5jZS10eXBlcy5oCj4gCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZG1hLWJ1Zi9NYWtl
ZmlsZSBiL2RyaXZlcnMvZG1hLWJ1Zi9NYWtlZmlsZQo+IGluZGV4IDFmMDA2ZTA4M2ViOS4uNTZl
NTc5ODc4ZjI2IDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZG1hLWJ1Zi9NYWtlZmlsZQo+ICsrKyBi
L2RyaXZlcnMvZG1hLWJ1Zi9NYWtlZmlsZQo+IEBAIC0xLDUgKzEsMTEgQEAKPiAtb2JqLXkgOj0g
ZG1hLWJ1Zi5vIGRtYS1mZW5jZS5vIGRtYS1mZW5jZS1hcnJheS5vIGRtYS1mZW5jZS1jaGFpbi5v
IFwKPiAtCSByZXNlcnZhdGlvbi5vIHNlcW5vLWZlbmNlLm8KPiArb2JqLXkgOj0gXAo+ICsJZG1h
LWJ1Zi5vIFwKPiArCWRtYS1mZW5jZS5vIFwKPiArCWRtYS1mZW5jZS1hcnJheS5vIFwKPiArCWRt
YS1mZW5jZS1jaGFpbi5vIFwKPiArCWRtYS1mZW5jZS10cmFjZS5vIFwKPiArCXJlc2VydmF0aW9u
Lm8gXAo+ICsJc2Vxbm8tZmVuY2Uubwo+ICAgb2JqLSQoQ09ORklHX1NZTkNfRklMRSkJCSs9IHN5
bmNfZmlsZS5vCj4gICBvYmotJChDT05GSUdfU1dfU1lOQykJCSs9IHN3X3N5bmMubyBzeW5jX2Rl
YnVnLm8KPiAgIG9iai0kKENPTkZJR19VRE1BQlVGKQkJKz0gdWRtYWJ1Zi5vCj4gZGlmZiAtLWdp
dCBhL2RyaXZlcnMvZG1hLWJ1Zi9kbWEtZmVuY2UtdHJhY2UuYyBiL2RyaXZlcnMvZG1hLWJ1Zi9k
bWEtZmVuY2UtdHJhY2UuYwo+IG5ldyBmaWxlIG1vZGUgMTAwNjQ0Cj4gaW5kZXggMDAwMDAwMDAw
MDAwLi5lYjZmMjgyYmU0YzAKPiAtLS0gL2Rldi9udWxsCj4gKysrIGIvZHJpdmVycy9kbWEtYnVm
L2RtYS1mZW5jZS10cmFjZS5jCj4gQEAgLTAsMCArMSwyOCBAQAo+ICsvKgo+ICsgKiBGZW5jZSBt
ZWNoYW5pc20gZm9yIGRtYS1idWYgYW5kIHRvIGFsbG93IGZvciBhc3luY2hyb25vdXMgZG1hIGFj
Y2Vzcwo+ICsgKgo+ICsgKiBDb3B5cmlnaHQgKEMpIDIwMTIgQ2Fub25pY2FsIEx0ZAo+ICsgKiBD
b3B5cmlnaHQgKEMpIDIwMTIgVGV4YXMgSW5zdHJ1bWVudHMKPiArICoKPiArICogQXV0aG9yczoK
PiArICogUm9iIENsYXJrIDxyb2JkY2xhcmtAZ21haWwuY29tPgo+ICsgKiBNYWFydGVuIExhbmto
b3JzdCA8bWFhcnRlbi5sYW5raG9yc3RAY2Fub25pY2FsLmNvbT4KPiArICoKPiArICogVGhpcyBw
cm9ncmFtIGlzIGZyZWUgc29mdHdhcmU7IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBt
b2RpZnkgaXQKPiArICogdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMg
TGljZW5zZSB2ZXJzaW9uIDIgYXMgcHVibGlzaGVkIGJ5Cj4gKyAqIHRoZSBGcmVlIFNvZnR3YXJl
IEZvdW5kYXRpb24uCj4gKyAqCj4gKyAqIFRoaXMgcHJvZ3JhbSBpcyBkaXN0cmlidXRlZCBpbiB0
aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLCBidXQgV0lUSE9VVAo+ICsgKiBBTlkgV0FS
UkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZiBNRVJDSEFOVEFCSUxJ
VFkgb3IKPiArICogRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlIEdO
VSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvcgo+ICsgKiBtb3JlIGRldGFpbHMuCj4gKyAqLwo+
ICsKPiArI2luY2x1ZGUgPGxpbnV4L2RtYS1mZW5jZS10eXBlcy5oPgo+ICsKPiArI2RlZmluZSBD
UkVBVEVfVFJBQ0VfUE9JTlRTCj4gKyNpbmNsdWRlIDx0cmFjZS9ldmVudHMvZG1hX2ZlbmNlLmg+
Cj4gKwo+ICtFWFBPUlRfVFJBQ0VQT0lOVF9TWU1CT0woZG1hX2ZlbmNlX2VtaXQpOwo+ICtFWFBP
UlRfVFJBQ0VQT0lOVF9TWU1CT0woZG1hX2ZlbmNlX2VuYWJsZV9zaWduYWwpOwo+ICtFWFBPUlRf
VFJBQ0VQT0lOVF9TWU1CT0woZG1hX2ZlbmNlX3NpZ25hbGVkKTsKPiBkaWZmIC0tZ2l0IGEvZHJp
dmVycy9kbWEtYnVmL2RtYS1mZW5jZS5jIGIvZHJpdmVycy9kbWEtYnVmL2RtYS1mZW5jZS5jCj4g
aW5kZXggOWJmMDYwNDI2MTlhLi44MTk2YTE3OWZkYzIgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9k
bWEtYnVmL2RtYS1mZW5jZS5jCj4gKysrIGIvZHJpdmVycy9kbWEtYnVmL2RtYS1mZW5jZS5jCj4g
QEAgLTI0LDEzICsyNCw2IEBACj4gICAjaW5jbHVkZSA8bGludXgvZG1hLWZlbmNlLmg+Cj4gICAj
aW5jbHVkZSA8bGludXgvc2NoZWQvc2lnbmFsLmg+Cj4gICAKPiAtI2RlZmluZSBDUkVBVEVfVFJB
Q0VfUE9JTlRTCj4gLSNpbmNsdWRlIDx0cmFjZS9ldmVudHMvZG1hX2ZlbmNlLmg+Cj4gLQo+IC1F
WFBPUlRfVFJBQ0VQT0lOVF9TWU1CT0woZG1hX2ZlbmNlX2VtaXQpOwo+IC1FWFBPUlRfVFJBQ0VQ
T0lOVF9TWU1CT0woZG1hX2ZlbmNlX2VuYWJsZV9zaWduYWwpOwo+IC1FWFBPUlRfVFJBQ0VQT0lO
VF9TWU1CT0woZG1hX2ZlbmNlX3NpZ25hbGVkKTsKPiAtCj4gICBzdGF0aWMgREVGSU5FX1NQSU5M
T0NLKGRtYV9mZW5jZV9zdHViX2xvY2spOwo+ICAgc3RhdGljIHN0cnVjdCBkbWFfZmVuY2UgZG1h
X2ZlbmNlX3N0dWI7Cj4gICAKPiBAQCAtMTM2LDcgKzEyOSw2IEBAIEVYUE9SVF9TWU1CT0woZG1h
X2ZlbmNlX2NvbnRleHRfYWxsb2MpOwo+ICAgICovCj4gICBpbnQgZG1hX2ZlbmNlX3NpZ25hbF9s
b2NrZWQoc3RydWN0IGRtYV9mZW5jZSAqZmVuY2UpCj4gICB7Cj4gLQlzdHJ1Y3QgZG1hX2ZlbmNl
X2NiICpjdXIsICp0bXA7Cj4gICAJaW50IHJldCA9IDA7Cj4gICAKPiAgIAlsb2NrZGVwX2Fzc2Vy
dF9oZWxkKGZlbmNlLT5sb2NrKTsKPiBAQCAtMTQ0LDcgKzEzNiw3IEBAIGludCBkbWFfZmVuY2Vf
c2lnbmFsX2xvY2tlZChzdHJ1Y3QgZG1hX2ZlbmNlICpmZW5jZSkKPiAgIAlpZiAoV0FSTl9PTigh
ZmVuY2UpKQo+ICAgCQlyZXR1cm4gLUVJTlZBTDsKPiAgIAo+IC0JaWYgKHRlc3RfYW5kX3NldF9i
aXQoRE1BX0ZFTkNFX0ZMQUdfU0lHTkFMRURfQklULCAmZmVuY2UtPmZsYWdzKSkgewo+ICsJaWYg
KCFfX2RtYV9mZW5jZV9zaWduYWwoZmVuY2UpKSB7Cj4gICAJCXJldCA9IC1FSU5WQUw7Cj4gICAK
PiAgIAkJLyoKPiBAQCAtMTUyLDE1ICsxNDQsMTAgQEAgaW50IGRtYV9mZW5jZV9zaWduYWxfbG9j
a2VkKHN0cnVjdCBkbWFfZmVuY2UgKmZlbmNlKQo+ICAgCQkgKiBzdGlsbCBydW4gdGhyb3VnaCBh
bGwgY2FsbGJhY2tzCj4gICAJCSAqLwo+ICAgCX0gZWxzZSB7Cj4gLQkJZmVuY2UtPnRpbWVzdGFt
cCA9IGt0aW1lX2dldCgpOwo+IC0JCXNldF9iaXQoRE1BX0ZFTkNFX0ZMQUdfVElNRVNUQU1QX0JJ
VCwgJmZlbmNlLT5mbGFncyk7Cj4gLQkJdHJhY2VfZG1hX2ZlbmNlX3NpZ25hbGVkKGZlbmNlKTsK
PiArCQlfX2RtYV9mZW5jZV9zaWduYWxfX3RpbWVzdGFtcChmZW5jZSwga3RpbWVfZ2V0KCkpOwo+
ICAgCX0KPiAgIAo+IC0JbGlzdF9mb3JfZWFjaF9lbnRyeV9zYWZlKGN1ciwgdG1wLCAmZmVuY2Ut
PmNiX2xpc3QsIG5vZGUpIHsKPiAtCQlsaXN0X2RlbF9pbml0KCZjdXItPm5vZGUpOwo+IC0JCWN1
ci0+ZnVuYyhmZW5jZSwgY3VyKTsKPiAtCX0KPiArCV9fZG1hX2ZlbmNlX3NpZ25hbF9fbm90aWZ5
KGZlbmNlKTsKPiAgIAlyZXR1cm4gcmV0Owo+ICAgfQo+ICAgRVhQT1JUX1NZTUJPTChkbWFfZmVu
Y2Vfc2lnbmFsX2xvY2tlZCk7Cj4gQEAgLTE4NSwyMSArMTcyLDE0IEBAIGludCBkbWFfZmVuY2Vf
c2lnbmFsKHN0cnVjdCBkbWFfZmVuY2UgKmZlbmNlKQo+ICAgCWlmICghZmVuY2UpCj4gICAJCXJl
dHVybiAtRUlOVkFMOwo+ICAgCj4gLQlpZiAodGVzdF9hbmRfc2V0X2JpdChETUFfRkVOQ0VfRkxB
R19TSUdOQUxFRF9CSVQsICZmZW5jZS0+ZmxhZ3MpKQo+ICsJaWYgKCFfX2RtYV9mZW5jZV9zaWdu
YWwoZmVuY2UpKQo+ICAgCQlyZXR1cm4gLUVJTlZBTDsKPiAgIAo+IC0JZmVuY2UtPnRpbWVzdGFt
cCA9IGt0aW1lX2dldCgpOwo+IC0Jc2V0X2JpdChETUFfRkVOQ0VfRkxBR19USU1FU1RBTVBfQklU
LCAmZmVuY2UtPmZsYWdzKTsKPiAtCXRyYWNlX2RtYV9mZW5jZV9zaWduYWxlZChmZW5jZSk7Cj4g
KwlfX2RtYV9mZW5jZV9zaWduYWxfX3RpbWVzdGFtcChmZW5jZSwga3RpbWVfZ2V0KCkpOwo+ICAg
Cj4gICAJaWYgKHRlc3RfYml0KERNQV9GRU5DRV9GTEFHX0VOQUJMRV9TSUdOQUxfQklULCAmZmVu
Y2UtPmZsYWdzKSkgewo+IC0JCXN0cnVjdCBkbWFfZmVuY2VfY2IgKmN1ciwgKnRtcDsKPiAtCj4g
ICAJCXNwaW5fbG9ja19pcnFzYXZlKGZlbmNlLT5sb2NrLCBmbGFncyk7Cj4gLQkJbGlzdF9mb3Jf
ZWFjaF9lbnRyeV9zYWZlKGN1ciwgdG1wLCAmZmVuY2UtPmNiX2xpc3QsIG5vZGUpIHsKPiAtCQkJ
bGlzdF9kZWxfaW5pdCgmY3VyLT5ub2RlKTsKPiAtCQkJY3VyLT5mdW5jKGZlbmNlLCBjdXIpOwo+
IC0JCX0KPiArCQlfX2RtYV9mZW5jZV9zaWduYWxfX25vdGlmeShmZW5jZSk7Cj4gICAJCXNwaW5f
dW5sb2NrX2lycXJlc3RvcmUoZmVuY2UtPmxvY2ssIGZsYWdzKTsKPiAgIAl9Cj4gICAJcmV0dXJu
IDA7Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2JyZWFkY3J1
bWJzLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9icmVhZGNydW1icy5jCj4gaW5k
ZXggYzA5MmJkZjVmMGJmLi5kMWY4NTcyMTAwYzMgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUv
ZHJtL2k5MTUvZ3QvaW50ZWxfYnJlYWRjcnVtYnMuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9p
OTE1L2d0L2ludGVsX2JyZWFkY3J1bWJzLmMKPiBAQCAtMjMsNyArMjMsNiBAQAo+ICAgICovCj4g
ICAKPiAgICNpbmNsdWRlIDxsaW51eC9rdGhyZWFkLmg+Cj4gLSNpbmNsdWRlIDx0cmFjZS9ldmVu
dHMvZG1hX2ZlbmNlLmg+Cj4gICAjaW5jbHVkZSA8dWFwaS9saW51eC9zY2hlZC90eXBlcy5oPgo+
ICAgCj4gICAjaW5jbHVkZSAiaTkxNV9kcnYuaCIKPiBAQCAtOTcsMzUgKzk2LDYgQEAgY2hlY2tf
c2lnbmFsX29yZGVyKHN0cnVjdCBpbnRlbF9jb250ZXh0ICpjZSwgc3RydWN0IGk5MTVfcmVxdWVz
dCAqcnEpCj4gICAJcmV0dXJuIHRydWU7Cj4gICB9Cj4gICAKPiAtc3RhdGljIGJvb2wKPiAtX19k
bWFfZmVuY2Vfc2lnbmFsKHN0cnVjdCBkbWFfZmVuY2UgKmZlbmNlKQo+IC17Cj4gLQlyZXR1cm4g
IXRlc3RfYW5kX3NldF9iaXQoRE1BX0ZFTkNFX0ZMQUdfU0lHTkFMRURfQklULCAmZmVuY2UtPmZs
YWdzKTsKPiAtfQo+IC0KPiAtc3RhdGljIHZvaWQKPiAtX19kbWFfZmVuY2Vfc2lnbmFsX190aW1l
c3RhbXAoc3RydWN0IGRtYV9mZW5jZSAqZmVuY2UsIGt0aW1lX3QgdGltZXN0YW1wKQo+IC17Cj4g
LQlmZW5jZS0+dGltZXN0YW1wID0gdGltZXN0YW1wOwo+IC0Jc2V0X2JpdChETUFfRkVOQ0VfRkxB
R19USU1FU1RBTVBfQklULCAmZmVuY2UtPmZsYWdzKTsKPiAtCXRyYWNlX2RtYV9mZW5jZV9zaWdu
YWxlZChmZW5jZSk7Cj4gLX0KPiAtCj4gLXN0YXRpYyB2b2lkCj4gLV9fZG1hX2ZlbmNlX3NpZ25h
bF9fbm90aWZ5KHN0cnVjdCBkbWFfZmVuY2UgKmZlbmNlKQo+IC17Cj4gLQlzdHJ1Y3QgZG1hX2Zl
bmNlX2NiICpjdXIsICp0bXA7Cj4gLQo+IC0JbG9ja2RlcF9hc3NlcnRfaGVsZChmZW5jZS0+bG9j
ayk7Cj4gLQlsb2NrZGVwX2Fzc2VydF9pcnFzX2Rpc2FibGVkKCk7Cj4gLQo+IC0JbGlzdF9mb3Jf
ZWFjaF9lbnRyeV9zYWZlKGN1ciwgdG1wLCAmZmVuY2UtPmNiX2xpc3QsIG5vZGUpIHsKPiAtCQlJ
TklUX0xJU1RfSEVBRCgmY3VyLT5ub2RlKTsKPiAtCQljdXItPmZ1bmMoZmVuY2UsIGN1cik7Cj4g
LQl9Cj4gLQlJTklUX0xJU1RfSEVBRCgmZmVuY2UtPmNiX2xpc3QpOwo+IC19Cj4gLQo+ICAgdm9p
ZCBpbnRlbF9lbmdpbmVfYnJlYWRjcnVtYnNfaXJxKHN0cnVjdCBpbnRlbF9lbmdpbmVfY3MgKmVu
Z2luZSkKPiAgIHsKPiAgIAlzdHJ1Y3QgaW50ZWxfYnJlYWRjcnVtYnMgKmIgPSAmZW5naW5lLT5i
cmVhZGNydW1iczsKPiBkaWZmIC0tZ2l0IGEvaW5jbHVkZS9saW51eC9kbWEtZmVuY2UtdHlwZXMu
aCBiL2luY2x1ZGUvbGludXgvZG1hLWZlbmNlLXR5cGVzLmgKPiBuZXcgZmlsZSBtb2RlIDEwMDY0
NAo+IGluZGV4IDAwMDAwMDAwMDAwMC4uMThlNzUxMWMwZWVkCj4gLS0tIC9kZXYvbnVsbAo+ICsr
KyBiL2luY2x1ZGUvbGludXgvZG1hLWZlbmNlLXR5cGVzLmgKPiBAQCAtMCwwICsxLDI0OCBAQAo+
ICsvKgo+ICsgKiBGZW5jZSBtZWNoYW5pc20gZm9yIGRtYS1idWYgdG8gYWxsb3cgZm9yIGFzeW5j
aHJvbm91cyBkbWEgYWNjZXNzCj4gKyAqCj4gKyAqIENvcHlyaWdodCAoQykgMjAxMiBDYW5vbmlj
YWwgTHRkCj4gKyAqIENvcHlyaWdodCAoQykgMjAxMiBUZXhhcyBJbnN0cnVtZW50cwo+ICsgKgo+
ICsgKiBBdXRob3JzOgo+ICsgKiBSb2IgQ2xhcmsgPHJvYmRjbGFya0BnbWFpbC5jb20+Cj4gKyAq
IE1hYXJ0ZW4gTGFua2hvcnN0IDxtYWFydGVuLmxhbmtob3JzdEBjYW5vbmljYWwuY29tPgo+ICsg
Kgo+ICsgKiBUaGlzIHByb2dyYW0gaXMgZnJlZSBzb2Z0d2FyZTsgeW91IGNhbiByZWRpc3RyaWJ1
dGUgaXQgYW5kL29yIG1vZGlmeSBpdAo+ICsgKiB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBH
ZW5lcmFsIFB1YmxpYyBMaWNlbnNlIHZlcnNpb24gMiBhcyBwdWJsaXNoZWQgYnkKPiArICogdGhl
IEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbi4KPiArICoKPiArICogVGhpcyBwcm9ncmFtIGlzIGRp
c3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsIGJ1dCBXSVRIT1VU
Cj4gKyAqIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9m
IE1FUkNIQU5UQUJJTElUWSBvcgo+ICsgKiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9T
RS4gIFNlZSB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yCj4gKyAqIG1vcmUgZGV0
YWlscy4KPiArICovCj4gKwo+ICsjaWZuZGVmIF9fTElOVVhfRE1BX0ZFTkNFX1RZUEVTX0gKPiAr
I2RlZmluZSBfX0xJTlVYX0RNQV9GRU5DRV9UWVBFU19ICj4gKwo+ICsjaW5jbHVkZSA8bGludXgv
a3JlZi5oPgo+ICsjaW5jbHVkZSA8bGludXgva3RpbWUuaD4KPiArCj4gK3N0cnVjdCBkbWFfZmVu
Y2U7Cj4gK3N0cnVjdCBkbWFfZmVuY2Vfb3BzOwo+ICtzdHJ1Y3QgZG1hX2ZlbmNlX2NiOwo+ICsK
PiArLyoqCj4gKyAqIHN0cnVjdCBkbWFfZmVuY2UgLSBzb2Z0d2FyZSBzeW5jaHJvbml6YXRpb24g
cHJpbWl0aXZlCj4gKyAqIEByZWZjb3VudDogcmVmY291bnQgZm9yIHRoaXMgZmVuY2UKPiArICog
QG9wczogZG1hX2ZlbmNlX29wcyBhc3NvY2lhdGVkIHdpdGggdGhpcyBmZW5jZQo+ICsgKiBAcmN1
OiB1c2VkIGZvciByZWxlYXNpbmcgZmVuY2Ugd2l0aCBrZnJlZV9yY3UKPiArICogQGNiX2xpc3Q6
IGxpc3Qgb2YgYWxsIGNhbGxiYWNrcyB0byBjYWxsCj4gKyAqIEBsb2NrOiBzcGluX2xvY2tfaXJx
c2F2ZSB1c2VkIGZvciBsb2NraW5nCj4gKyAqIEBjb250ZXh0OiBleGVjdXRpb24gY29udGV4dCB0
aGlzIGZlbmNlIGJlbG9uZ3MgdG8sIHJldHVybmVkIGJ5Cj4gKyAqICAgICAgICAgICBkbWFfZmVu
Y2VfY29udGV4dF9hbGxvYygpCj4gKyAqIEBzZXFubzogdGhlIHNlcXVlbmNlIG51bWJlciBvZiB0
aGlzIGZlbmNlIGluc2lkZSB0aGUgZXhlY3V0aW9uIGNvbnRleHQsCj4gKyAqIGNhbiBiZSBjb21w
YXJlZCB0byBkZWNpZGUgd2hpY2ggZmVuY2Ugd291bGQgYmUgc2lnbmFsZWQgbGF0ZXIuCj4gKyAq
IEBmbGFnczogQSBtYXNrIG9mIERNQV9GRU5DRV9GTEFHXyogZGVmaW5lZCBiZWxvdwo+ICsgKiBA
dGltZXN0YW1wOiBUaW1lc3RhbXAgd2hlbiB0aGUgZmVuY2Ugd2FzIHNpZ25hbGVkLgo+ICsgKiBA
ZXJyb3I6IE9wdGlvbmFsLCBvbmx5IHZhbGlkIGlmIDwgMCwgbXVzdCBiZSBzZXQgYmVmb3JlIGNh
bGxpbmcKPiArICogZG1hX2ZlbmNlX3NpZ25hbCwgaW5kaWNhdGVzIHRoYXQgdGhlIGZlbmNlIGhh
cyBjb21wbGV0ZWQgd2l0aCBhbiBlcnJvci4KPiArICoKPiArICogdGhlIGZsYWdzIG1lbWJlciBt
dXN0IGJlIG1hbmlwdWxhdGVkIGFuZCByZWFkIHVzaW5nIHRoZSBhcHByb3ByaWF0ZQo+ICsgKiBh
dG9taWMgb3BzIChiaXRfKiksIHNvIHRha2luZyB0aGUgc3BpbmxvY2sgd2lsbCBub3QgYmUgbmVl
ZGVkIG1vc3QKPiArICogb2YgdGhlIHRpbWUuCj4gKyAqCj4gKyAqIERNQV9GRU5DRV9GTEFHX1NJ
R05BTEVEX0JJVCAtIGZlbmNlIGlzIGFscmVhZHkgc2lnbmFsZWQKPiArICogRE1BX0ZFTkNFX0ZM
QUdfVElNRVNUQU1QX0JJVCAtIHRpbWVzdGFtcCByZWNvcmRlZCBmb3IgZmVuY2Ugc2lnbmFsaW5n
Cj4gKyAqIERNQV9GRU5DRV9GTEFHX0VOQUJMRV9TSUdOQUxfQklUIC0gZW5hYmxlX3NpZ25hbGlu
ZyBtaWdodCBoYXZlIGJlZW4gY2FsbGVkCj4gKyAqIERNQV9GRU5DRV9GTEFHX1VTRVJfQklUUyAt
IHN0YXJ0IG9mIHRoZSB1bnVzZWQgYml0cywgY2FuIGJlIHVzZWQgYnkgdGhlCj4gKyAqIGltcGxl
bWVudGVyIG9mIHRoZSBmZW5jZSBmb3IgaXRzIG93biBwdXJwb3Nlcy4gQ2FuIGJlIHVzZWQgaW4g
ZGlmZmVyZW50Cj4gKyAqIHdheXMgYnkgZGlmZmVyZW50IGZlbmNlIGltcGxlbWVudGVycywgc28g
ZG8gbm90IHJlbHkgb24gdGhpcy4KPiArICoKPiArICogU2luY2UgYXRvbWljIGJpdG9wcyBhcmUg
dXNlZCwgdGhpcyBpcyBub3QgZ3VhcmFudGVlZCB0byBiZSB0aGUgY2FzZS4KPiArICogUGFydGlj
dWxhcmx5LCBpZiB0aGUgYml0IHdhcyBzZXQsIGJ1dCBkbWFfZmVuY2Vfc2lnbmFsIHdhcyBjYWxs
ZWQgcmlnaHQKPiArICogYmVmb3JlIHRoaXMgYml0IHdhcyBzZXQsIGl0IHdvdWxkIGhhdmUgYmVl
biBhYmxlIHRvIHNldCB0aGUKPiArICogRE1BX0ZFTkNFX0ZMQUdfU0lHTkFMRURfQklULCBiZWZv
cmUgZW5hYmxlX3NpZ25hbGluZyB3YXMgY2FsbGVkLgo+ICsgKiBBZGRpbmcgYSBjaGVjayBmb3Ig
RE1BX0ZFTkNFX0ZMQUdfU0lHTkFMRURfQklUIGFmdGVyIHNldHRpbmcKPiArICogRE1BX0ZFTkNF
X0ZMQUdfRU5BQkxFX1NJR05BTF9CSVQgY2xvc2VzIHRoaXMgcmFjZSwgYW5kIG1ha2VzIHN1cmUg
dGhhdAo+ICsgKiBhZnRlciBkbWFfZmVuY2Vfc2lnbmFsIHdhcyBjYWxsZWQsIGFueSBlbmFibGVf
c2lnbmFsaW5nIGNhbGwgd2lsbCBoYXZlIGVpdGhlcgo+ICsgKiBiZWVuIGNvbXBsZXRlZCwgb3Ig
bmV2ZXIgY2FsbGVkIGF0IGFsbC4KPiArICovCj4gK3N0cnVjdCBkbWFfZmVuY2Ugewo+ICsJc3Ry
dWN0IGtyZWYgcmVmY291bnQ7Cj4gKwljb25zdCBzdHJ1Y3QgZG1hX2ZlbmNlX29wcyAqb3BzOwo+
ICsJc3RydWN0IHJjdV9oZWFkIHJjdTsKPiArCXN0cnVjdCBsaXN0X2hlYWQgY2JfbGlzdDsKPiAr
CXNwaW5sb2NrX3QgKmxvY2s7Cj4gKwl1NjQgY29udGV4dDsKPiArCXU2NCBzZXFubzsKPiArCXVu
c2lnbmVkIGxvbmcgZmxhZ3M7Cj4gKwlrdGltZV90IHRpbWVzdGFtcDsKPiArCWludCBlcnJvcjsK
PiArfTsKPiArCj4gK2VudW0gZG1hX2ZlbmNlX2ZsYWdfYml0cyB7Cj4gKwlETUFfRkVOQ0VfRkxB
R19TSUdOQUxFRF9CSVQsCj4gKwlETUFfRkVOQ0VfRkxBR19USU1FU1RBTVBfQklULAo+ICsJRE1B
X0ZFTkNFX0ZMQUdfRU5BQkxFX1NJR05BTF9CSVQsCj4gKwlETUFfRkVOQ0VfRkxBR19VU0VSX0JJ
VFMsIC8qIG11c3QgYWx3YXlzIGJlIGxhc3QgbWVtYmVyICovCj4gK307Cj4gKwo+ICt0eXBlZGVm
IHZvaWQgKCpkbWFfZmVuY2VfZnVuY190KShzdHJ1Y3QgZG1hX2ZlbmNlICpmZW5jZSwKPiArCQkJ
CSBzdHJ1Y3QgZG1hX2ZlbmNlX2NiICpjYik7Cj4gKwo+ICsvKioKPiArICogc3RydWN0IGRtYV9m
ZW5jZV9jYiAtIGNhbGxiYWNrIGZvciBkbWFfZmVuY2VfYWRkX2NhbGxiYWNrKCkKPiArICogQG5v
ZGU6IHVzZWQgYnkgZG1hX2ZlbmNlX2FkZF9jYWxsYmFjaygpIHRvIGFwcGVuZCB0aGlzIHN0cnVj
dCB0byBmZW5jZTo6Y2JfbGlzdAo+ICsgKiBAZnVuYzogZG1hX2ZlbmNlX2Z1bmNfdCB0byBjYWxs
Cj4gKyAqCj4gKyAqIFRoaXMgc3RydWN0IHdpbGwgYmUgaW5pdGlhbGl6ZWQgYnkgZG1hX2ZlbmNl
X2FkZF9jYWxsYmFjaygpLCBhZGRpdGlvbmFsCj4gKyAqIGRhdGEgY2FuIGJlIHBhc3NlZCBhbG9u
ZyBieSBlbWJlZGRpbmcgZG1hX2ZlbmNlX2NiIGluIGFub3RoZXIgc3RydWN0Lgo+ICsgKi8KPiAr
c3RydWN0IGRtYV9mZW5jZV9jYiB7Cj4gKwlzdHJ1Y3QgbGlzdF9oZWFkIG5vZGU7Cj4gKwlkbWFf
ZmVuY2VfZnVuY190IGZ1bmM7Cj4gK307Cj4gKwo+ICsvKioKPiArICogc3RydWN0IGRtYV9mZW5j
ZV9vcHMgLSBvcGVyYXRpb25zIGltcGxlbWVudGVkIGZvciBmZW5jZQo+ICsgKgo+ICsgKi8KPiAr
c3RydWN0IGRtYV9mZW5jZV9vcHMgewo+ICsJLyoqCj4gKwkgKiBAdXNlXzY0Yml0X3NlcW5vOgo+
ICsJICoKPiArCSAqIFRydWUgaWYgdGhpcyBkbWFfZmVuY2UgaW1wbGVtZW50YXRpb24gdXNlcyA2
NGJpdCBzZXFubywgZmFsc2UKPiArCSAqIG90aGVyd2lzZS4KPiArCSAqLwo+ICsJYm9vbCB1c2Vf
NjRiaXRfc2Vxbm87Cj4gKwo+ICsJLyoqCj4gKwkgKiBAZ2V0X2RyaXZlcl9uYW1lOgo+ICsJICoK
PiArCSAqIFJldHVybnMgdGhlIGRyaXZlciBuYW1lLiBUaGlzIGlzIGEgY2FsbGJhY2sgdG8gYWxs
b3cgZHJpdmVycyB0bwo+ICsJICogY29tcHV0ZSB0aGUgbmFtZSBhdCBydW50aW1lLCB3aXRob3V0
IGhhdmluZyBpdCB0byBzdG9yZSBwZXJtYW5lbnRseQo+ICsJICogZm9yIGVhY2ggZmVuY2UsIG9y
IGJ1aWxkIGEgY2FjaGUgb2Ygc29tZSBzb3J0Lgo+ICsJICoKPiArCSAqIFRoaXMgY2FsbGJhY2sg
aXMgbWFuZGF0b3J5Lgo+ICsJICovCj4gKwljb25zdCBjaGFyICogKCpnZXRfZHJpdmVyX25hbWUp
KHN0cnVjdCBkbWFfZmVuY2UgKmZlbmNlKTsKPiArCj4gKwkvKioKPiArCSAqIEBnZXRfdGltZWxp
bmVfbmFtZToKPiArCSAqCj4gKwkgKiBSZXR1cm4gdGhlIG5hbWUgb2YgdGhlIGNvbnRleHQgdGhp
cyBmZW5jZSBiZWxvbmdzIHRvLiBUaGlzIGlzIGEKPiArCSAqIGNhbGxiYWNrIHRvIGFsbG93IGRy
aXZlcnMgdG8gY29tcHV0ZSB0aGUgbmFtZSBhdCBydW50aW1lLCB3aXRob3V0Cj4gKwkgKiBoYXZp
bmcgaXQgdG8gc3RvcmUgcGVybWFuZW50bHkgZm9yIGVhY2ggZmVuY2UsIG9yIGJ1aWxkIGEgY2Fj
aGUgb2YKPiArCSAqIHNvbWUgc29ydC4KPiArCSAqCj4gKwkgKiBUaGlzIGNhbGxiYWNrIGlzIG1h
bmRhdG9yeS4KPiArCSAqLwo+ICsJY29uc3QgY2hhciAqICgqZ2V0X3RpbWVsaW5lX25hbWUpKHN0
cnVjdCBkbWFfZmVuY2UgKmZlbmNlKTsKPiArCj4gKwkvKioKPiArCSAqIEBlbmFibGVfc2lnbmFs
aW5nOgo+ICsJICoKPiArCSAqIEVuYWJsZSBzb2Z0d2FyZSBzaWduYWxpbmcgb2YgZmVuY2UuCj4g
KwkgKgo+ICsJICogRm9yIGZlbmNlIGltcGxlbWVudGF0aW9ucyB0aGF0IGhhdmUgdGhlIGNhcGFi
aWxpdHkgZm9yIGh3LT5odwo+ICsJICogc2lnbmFsaW5nLCB0aGV5IGNhbiBpbXBsZW1lbnQgdGhp
cyBvcCB0byBlbmFibGUgdGhlIG5lY2Vzc2FyeQo+ICsJICogaW50ZXJydXB0cywgb3IgaW5zZXJ0
IGNvbW1hbmRzIGludG8gY21kc3RyZWFtLCBldGMsIHRvIGF2b2lkIHRoZXNlCj4gKwkgKiBjb3N0
bHkgb3BlcmF0aW9ucyBmb3IgdGhlIGNvbW1vbiBjYXNlIHdoZXJlIG9ubHkgaHctPmh3Cj4gKwkg
KiBzeW5jaHJvbml6YXRpb24gaXMgcmVxdWlyZWQuICBUaGlzIGlzIGNhbGxlZCBpbiB0aGUgZmly
c3QKPiArCSAqIGRtYV9mZW5jZV93YWl0KCkgb3IgZG1hX2ZlbmNlX2FkZF9jYWxsYmFjaygpIHBh
dGggdG8gbGV0IHRoZSBmZW5jZQo+ICsJICogaW1wbGVtZW50YXRpb24ga25vdyB0aGF0IHRoZXJl
IGlzIGFub3RoZXIgZHJpdmVyIHdhaXRpbmcgb24gdGhlCj4gKwkgKiBzaWduYWwgKGllLiBody0+
c3cgY2FzZSkuCj4gKwkgKgo+ICsJICogVGhpcyBmdW5jdGlvbiBjYW4gYmUgY2FsbGVkIGZyb20g
YXRvbWljIGNvbnRleHQsIGJ1dCBub3QKPiArCSAqIGZyb20gaXJxIGNvbnRleHQsIHNvIG5vcm1h
bCBzcGlubG9ja3MgY2FuIGJlIHVzZWQuCj4gKwkgKgo+ICsJICogQSByZXR1cm4gdmFsdWUgb2Yg
ZmFsc2UgaW5kaWNhdGVzIHRoZSBmZW5jZSBhbHJlYWR5IHBhc3NlZCwKPiArCSAqIG9yIHNvbWUg
ZmFpbHVyZSBvY2N1cnJlZCB0aGF0IG1hZGUgaXQgaW1wb3NzaWJsZSB0byBlbmFibGUKPiArCSAq
IHNpZ25hbGluZy4gVHJ1ZSBpbmRpY2F0ZXMgc3VjY2Vzc2Z1bCBlbmFibGluZy4KPiArCSAqCj4g
KwkgKiAmZG1hX2ZlbmNlLmVycm9yIG1heSBiZSBzZXQgaW4gZW5hYmxlX3NpZ25hbGluZywgYnV0
IG9ubHkgd2hlbiBmYWxzZQo+ICsJICogaXMgcmV0dXJuZWQuCj4gKwkgKgo+ICsJICogU2luY2Ug
bWFueSBpbXBsZW1lbnRhdGlvbnMgY2FuIGNhbGwgZG1hX2ZlbmNlX3NpZ25hbCgpIGV2ZW4gd2hl
biBiZWZvcmUKPiArCSAqIEBlbmFibGVfc2lnbmFsaW5nIGhhcyBiZWVuIGNhbGxlZCB0aGVyZSdz
IGEgcmFjZSB3aW5kb3csIHdoZXJlIHRoZQo+ICsJICogZG1hX2ZlbmNlX3NpZ25hbCgpIG1pZ2h0
IHJlc3VsdCBpbiB0aGUgZmluYWwgZmVuY2UgcmVmZXJlbmNlIGJlaW5nCj4gKwkgKiByZWxlYXNl
ZCBhbmQgaXRzIG1lbW9yeSBmcmVlZC4gVG8gYXZvaWQgdGhpcywgaW1wbGVtZW50YXRpb25zIG9m
IHRoaXMKPiArCSAqIGNhbGxiYWNrIHNob3VsZCBncmFiIHRoZWlyIG93biByZWZlcmVuY2UgdXNp
bmcgZG1hX2ZlbmNlX2dldCgpLCB0byBiZQo+ICsJICogcmVsZWFzZWQgd2hlbiB0aGUgZmVuY2Ug
aXMgc2lnbmFsbGVkICh0aHJvdWdoIGUuZy4gdGhlIGludGVycnVwdAo+ICsJICogaGFuZGxlciku
Cj4gKwkgKgo+ICsJICogVGhpcyBjYWxsYmFjayBpcyBvcHRpb25hbC4gSWYgdGhpcyBjYWxsYmFj
ayBpcyBub3QgcHJlc2VudCwgdGhlbiB0aGUKPiArCSAqIGRyaXZlciBtdXN0IGFsd2F5cyBoYXZl
IHNpZ25hbGluZyBlbmFibGVkLgo+ICsJICovCj4gKwlib29sICgqZW5hYmxlX3NpZ25hbGluZyko
c3RydWN0IGRtYV9mZW5jZSAqZmVuY2UpOwo+ICsKPiArCS8qKgo+ICsJICogQHNpZ25hbGVkOgo+
ICsJICoKPiArCSAqIFBlZWsgd2hldGhlciB0aGUgZmVuY2UgaXMgc2lnbmFsZWQsIGFzIGEgZmFz
dHBhdGggb3B0aW1pemF0aW9uIGZvcgo+ICsJICogZS5nLiBkbWFfZmVuY2Vfd2FpdCgpIG9yIGRt
YV9mZW5jZV9hZGRfY2FsbGJhY2soKS4gTm90ZSB0aGF0IHRoaXMKPiArCSAqIGNhbGxiYWNrIGRv
ZXMgbm90IG5lZWQgdG8gbWFrZSBhbnkgZ3VhcmFudGVlcyBiZXlvbmQgdGhhdCBhIGZlbmNlCj4g
KwkgKiBvbmNlIGluZGljYXRlcyBhcyBzaWduYWxsZWQgbXVzdCBhbHdheXMgcmV0dXJuIHRydWUg
ZnJvbSB0aGlzCj4gKwkgKiBjYWxsYmFjay4gVGhpcyBjYWxsYmFjayBtYXkgcmV0dXJuIGZhbHNl
IGV2ZW4gaWYgdGhlIGZlbmNlIGhhcwo+ICsJICogY29tcGxldGVkIGFscmVhZHksIGluIHRoaXMg
Y2FzZSBpbmZvcm1hdGlvbiBoYXNuJ3QgcHJvcG9nYXRlZCB0aHJvdWcKPiArCSAqIHRoZSBzeXN0
ZW0geWV0LiBTZWUgYWxzbyBkbWFfZmVuY2VfaXNfc2lnbmFsZWQoKS4KPiArCSAqCj4gKwkgKiBN
YXkgc2V0ICZkbWFfZmVuY2UuZXJyb3IgaWYgcmV0dXJuaW5nIHRydWUuCj4gKwkgKgo+ICsJICog
VGhpcyBjYWxsYmFjayBpcyBvcHRpb25hbC4KPiArCSAqLwo+ICsJYm9vbCAoKnNpZ25hbGVkKShz
dHJ1Y3QgZG1hX2ZlbmNlICpmZW5jZSk7Cj4gKwo+ICsJLyoqCj4gKwkgKiBAd2FpdDoKPiArCSAq
Cj4gKwkgKiBDdXN0b20gd2FpdCBpbXBsZW1lbnRhdGlvbiwgZGVmYXVsdHMgdG8gZG1hX2ZlbmNl
X2RlZmF1bHRfd2FpdCgpIGlmCj4gKwkgKiBub3Qgc2V0Lgo+ICsJICoKPiArCSAqIFRoZSBkbWFf
ZmVuY2VfZGVmYXVsdF93YWl0IGltcGxlbWVudGF0aW9uIHNob3VsZCB3b3JrIGZvciBhbnkgZmVu
Y2UsIGFzIGxvbmcKPiArCSAqIGFzIEBlbmFibGVfc2lnbmFsaW5nIHdvcmtzIGNvcnJlY3RseS4g
VGhpcyBob29rIGFsbG93cyBkcml2ZXJzIHRvCj4gKwkgKiBoYXZlIGFuIG9wdGltaXplZCB2ZXJz
aW9uIGZvciB0aGUgY2FzZSB3aGVyZSBhIHByb2Nlc3MgY29udGV4dCBpcwo+ICsJICogYWxyZWFk
eSBhdmFpbGFibGUsIGUuZy4gaWYgQGVuYWJsZV9zaWduYWxpbmcgZm9yIHRoZSBnZW5lcmFsIGNh
c2UKPiArCSAqIG5lZWRzIHRvIHNldCB1cCBhIHdvcmtlciB0aHJlYWQuCj4gKwkgKgo+ICsJICog
TXVzdCByZXR1cm4gLUVSRVNUQVJUU1lTIGlmIHRoZSB3YWl0IGlzIGludHIgPSB0cnVlIGFuZCB0
aGUgd2FpdCB3YXMKPiArCSAqIGludGVycnVwdGVkLCBhbmQgcmVtYWluaW5nIGppZmZpZXMgaWYg
ZmVuY2UgaGFzIHNpZ25hbGVkLCBvciAwIGlmIHdhaXQKPiArCSAqIHRpbWVkIG91dC4gQ2FuIGFs
c28gcmV0dXJuIG90aGVyIGVycm9yIHZhbHVlcyBvbiBjdXN0b20gaW1wbGVtZW50YXRpb25zLAo+
ICsJICogd2hpY2ggc2hvdWxkIGJlIHRyZWF0ZWQgYXMgaWYgdGhlIGZlbmNlIGlzIHNpZ25hbGVk
LiBGb3IgZXhhbXBsZSBhIGhhcmR3YXJlCj4gKwkgKiBsb2NrdXAgY291bGQgYmUgcmVwb3J0ZWQg
bGlrZSB0aGF0Lgo+ICsJICoKPiArCSAqIFRoaXMgY2FsbGJhY2sgaXMgb3B0aW9uYWwuCj4gKwkg
Ki8KPiArCXNpZ25lZCBsb25nICgqd2FpdCkoc3RydWN0IGRtYV9mZW5jZSAqZmVuY2UsCj4gKwkJ
CSAgICBib29sIGludHIsIHNpZ25lZCBsb25nIHRpbWVvdXQpOwo+ICsKPiArCS8qKgo+ICsJICog
QHJlbGVhc2U6Cj4gKwkgKgo+ICsJICogQ2FsbGVkIG9uIGRlc3RydWN0aW9uIG9mIGZlbmNlIHRv
IHJlbGVhc2UgYWRkaXRpb25hbCByZXNvdXJjZXMuCj4gKwkgKiBDYW4gYmUgY2FsbGVkIGZyb20g
aXJxIGNvbnRleHQuICBUaGlzIGNhbGxiYWNrIGlzIG9wdGlvbmFsLiBJZiBpdCBpcwo+ICsJICog
TlVMTCwgdGhlbiBkbWFfZmVuY2VfZnJlZSgpIGlzIGluc3RlYWQgY2FsbGVkIGFzIHRoZSBkZWZh
dWx0Cj4gKwkgKiBpbXBsZW1lbnRhdGlvbi4KPiArCSAqLwo+ICsJdm9pZCAoKnJlbGVhc2UpKHN0
cnVjdCBkbWFfZmVuY2UgKmZlbmNlKTsKPiArCj4gKwkvKioKPiArCSAqIEBmZW5jZV92YWx1ZV9z
dHI6Cj4gKwkgKgo+ICsJICogQ2FsbGJhY2sgdG8gZmlsbCBpbiBmcmVlLWZvcm0gZGVidWcgaW5m
byBzcGVjaWZpYyB0byB0aGlzIGZlbmNlLCBsaWtlCj4gKwkgKiB0aGUgc2VxdWVuY2UgbnVtYmVy
Lgo+ICsJICoKPiArCSAqIFRoaXMgY2FsbGJhY2sgaXMgb3B0aW9uYWwuCj4gKwkgKi8KPiArCXZv
aWQgKCpmZW5jZV92YWx1ZV9zdHIpKHN0cnVjdCBkbWFfZmVuY2UgKmZlbmNlLCBjaGFyICpzdHIs
IGludCBzaXplKTsKPiArCj4gKwkvKioKPiArCSAqIEB0aW1lbGluZV92YWx1ZV9zdHI6Cj4gKwkg
Kgo+ICsJICogRmlsbHMgaW4gdGhlIGN1cnJlbnQgdmFsdWUgb2YgdGhlIHRpbWVsaW5lIGFzIGEg
c3RyaW5nLCBsaWtlIHRoZQo+ICsJICogc2VxdWVuY2UgbnVtYmVyLiBOb3RlIHRoYXQgdGhlIHNw
ZWNpZmljIGZlbmNlIHBhc3NlZCB0byB0aGlzIGZ1bmN0aW9uCj4gKwkgKiBzaG91bGQgbm90IG1h
dHRlciwgZHJpdmVycyBzaG91bGQgb25seSB1c2UgaXQgdG8gbG9vayB1cCB0aGUKPiArCSAqIGNv
cnJlc3BvbmRpbmcgdGltZWxpbmUgc3RydWN0dXJlcy4KPiArCSAqLwo+ICsJdm9pZCAoKnRpbWVs
aW5lX3ZhbHVlX3N0cikoc3RydWN0IGRtYV9mZW5jZSAqZmVuY2UsCj4gKwkJCQkgICBjaGFyICpz
dHIsIGludCBzaXplKTsKPiArfTsKPiArCj4gKyNlbmRpZiAvKiBfX0xJTlVYX0RNQV9GRU5DRV9U
WVBFU19IICovCj4gZGlmZiAtLWdpdCBhL2luY2x1ZGUvbGludXgvZG1hLWZlbmNlLmggYi9pbmNs
dWRlL2xpbnV4L2RtYS1mZW5jZS5oCj4gaW5kZXggOTc0NzE3ZDZhYzBjLi4xNDJlYjY3ZTY5NWYg
MTAwNjQ0Cj4gLS0tIGEvaW5jbHVkZS9saW51eC9kbWEtZmVuY2UuaAo+ICsrKyBiL2luY2x1ZGUv
bGludXgvZG1hLWZlbmNlLmgKPiBAQCAtMjEsNiArMjEsNyBAQAo+ICAgI2lmbmRlZiBfX0xJTlVY
X0RNQV9GRU5DRV9ICj4gICAjZGVmaW5lIF9fTElOVVhfRE1BX0ZFTkNFX0gKPiAgIAo+ICsjaW5j
bHVkZSA8bGludXgvZG1hLWZlbmNlLXR5cGVzLmg+Cj4gICAjaW5jbHVkZSA8bGludXgvZXJyLmg+
Cj4gICAjaW5jbHVkZSA8bGludXgvd2FpdC5oPgo+ICAgI2luY2x1ZGUgPGxpbnV4L2xpc3QuaD4K
PiBAQCAtMzAsMjI2ICszMSw3IEBACj4gICAjaW5jbHVkZSA8bGludXgvcHJpbnRrLmg+Cj4gICAj
aW5jbHVkZSA8bGludXgvcmN1cGRhdGUuaD4KPiAgIAo+IC1zdHJ1Y3QgZG1hX2ZlbmNlOwo+IC1z
dHJ1Y3QgZG1hX2ZlbmNlX29wczsKPiAtc3RydWN0IGRtYV9mZW5jZV9jYjsKPiAtCj4gLS8qKgo+
IC0gKiBzdHJ1Y3QgZG1hX2ZlbmNlIC0gc29mdHdhcmUgc3luY2hyb25pemF0aW9uIHByaW1pdGl2
ZQo+IC0gKiBAcmVmY291bnQ6IHJlZmNvdW50IGZvciB0aGlzIGZlbmNlCj4gLSAqIEBvcHM6IGRt
YV9mZW5jZV9vcHMgYXNzb2NpYXRlZCB3aXRoIHRoaXMgZmVuY2UKPiAtICogQHJjdTogdXNlZCBm
b3IgcmVsZWFzaW5nIGZlbmNlIHdpdGgga2ZyZWVfcmN1Cj4gLSAqIEBjYl9saXN0OiBsaXN0IG9m
IGFsbCBjYWxsYmFja3MgdG8gY2FsbAo+IC0gKiBAbG9jazogc3Bpbl9sb2NrX2lycXNhdmUgdXNl
ZCBmb3IgbG9ja2luZwo+IC0gKiBAY29udGV4dDogZXhlY3V0aW9uIGNvbnRleHQgdGhpcyBmZW5j
ZSBiZWxvbmdzIHRvLCByZXR1cm5lZCBieQo+IC0gKiAgICAgICAgICAgZG1hX2ZlbmNlX2NvbnRl
eHRfYWxsb2MoKQo+IC0gKiBAc2Vxbm86IHRoZSBzZXF1ZW5jZSBudW1iZXIgb2YgdGhpcyBmZW5j
ZSBpbnNpZGUgdGhlIGV4ZWN1dGlvbiBjb250ZXh0LAo+IC0gKiBjYW4gYmUgY29tcGFyZWQgdG8g
ZGVjaWRlIHdoaWNoIGZlbmNlIHdvdWxkIGJlIHNpZ25hbGVkIGxhdGVyLgo+IC0gKiBAZmxhZ3M6
IEEgbWFzayBvZiBETUFfRkVOQ0VfRkxBR18qIGRlZmluZWQgYmVsb3cKPiAtICogQHRpbWVzdGFt
cDogVGltZXN0YW1wIHdoZW4gdGhlIGZlbmNlIHdhcyBzaWduYWxlZC4KPiAtICogQGVycm9yOiBP
cHRpb25hbCwgb25seSB2YWxpZCBpZiA8IDAsIG11c3QgYmUgc2V0IGJlZm9yZSBjYWxsaW5nCj4g
LSAqIGRtYV9mZW5jZV9zaWduYWwsIGluZGljYXRlcyB0aGF0IHRoZSBmZW5jZSBoYXMgY29tcGxl
dGVkIHdpdGggYW4gZXJyb3IuCj4gLSAqCj4gLSAqIHRoZSBmbGFncyBtZW1iZXIgbXVzdCBiZSBt
YW5pcHVsYXRlZCBhbmQgcmVhZCB1c2luZyB0aGUgYXBwcm9wcmlhdGUKPiAtICogYXRvbWljIG9w
cyAoYml0XyopLCBzbyB0YWtpbmcgdGhlIHNwaW5sb2NrIHdpbGwgbm90IGJlIG5lZWRlZCBtb3N0
Cj4gLSAqIG9mIHRoZSB0aW1lLgo+IC0gKgo+IC0gKiBETUFfRkVOQ0VfRkxBR19TSUdOQUxFRF9C
SVQgLSBmZW5jZSBpcyBhbHJlYWR5IHNpZ25hbGVkCj4gLSAqIERNQV9GRU5DRV9GTEFHX1RJTUVT
VEFNUF9CSVQgLSB0aW1lc3RhbXAgcmVjb3JkZWQgZm9yIGZlbmNlIHNpZ25hbGluZwo+IC0gKiBE
TUFfRkVOQ0VfRkxBR19FTkFCTEVfU0lHTkFMX0JJVCAtIGVuYWJsZV9zaWduYWxpbmcgbWlnaHQg
aGF2ZSBiZWVuIGNhbGxlZAo+IC0gKiBETUFfRkVOQ0VfRkxBR19VU0VSX0JJVFMgLSBzdGFydCBv
ZiB0aGUgdW51c2VkIGJpdHMsIGNhbiBiZSB1c2VkIGJ5IHRoZQo+IC0gKiBpbXBsZW1lbnRlciBv
ZiB0aGUgZmVuY2UgZm9yIGl0cyBvd24gcHVycG9zZXMuIENhbiBiZSB1c2VkIGluIGRpZmZlcmVu
dAo+IC0gKiB3YXlzIGJ5IGRpZmZlcmVudCBmZW5jZSBpbXBsZW1lbnRlcnMsIHNvIGRvIG5vdCBy
ZWx5IG9uIHRoaXMuCj4gLSAqCj4gLSAqIFNpbmNlIGF0b21pYyBiaXRvcHMgYXJlIHVzZWQsIHRo
aXMgaXMgbm90IGd1YXJhbnRlZWQgdG8gYmUgdGhlIGNhc2UuCj4gLSAqIFBhcnRpY3VsYXJseSwg
aWYgdGhlIGJpdCB3YXMgc2V0LCBidXQgZG1hX2ZlbmNlX3NpZ25hbCB3YXMgY2FsbGVkIHJpZ2h0
Cj4gLSAqIGJlZm9yZSB0aGlzIGJpdCB3YXMgc2V0LCBpdCB3b3VsZCBoYXZlIGJlZW4gYWJsZSB0
byBzZXQgdGhlCj4gLSAqIERNQV9GRU5DRV9GTEFHX1NJR05BTEVEX0JJVCwgYmVmb3JlIGVuYWJs
ZV9zaWduYWxpbmcgd2FzIGNhbGxlZC4KPiAtICogQWRkaW5nIGEgY2hlY2sgZm9yIERNQV9GRU5D
RV9GTEFHX1NJR05BTEVEX0JJVCBhZnRlciBzZXR0aW5nCj4gLSAqIERNQV9GRU5DRV9GTEFHX0VO
QUJMRV9TSUdOQUxfQklUIGNsb3NlcyB0aGlzIHJhY2UsIGFuZCBtYWtlcyBzdXJlIHRoYXQKPiAt
ICogYWZ0ZXIgZG1hX2ZlbmNlX3NpZ25hbCB3YXMgY2FsbGVkLCBhbnkgZW5hYmxlX3NpZ25hbGlu
ZyBjYWxsIHdpbGwgaGF2ZSBlaXRoZXIKPiAtICogYmVlbiBjb21wbGV0ZWQsIG9yIG5ldmVyIGNh
bGxlZCBhdCBhbGwuCj4gLSAqLwo+IC1zdHJ1Y3QgZG1hX2ZlbmNlIHsKPiAtCXN0cnVjdCBrcmVm
IHJlZmNvdW50Owo+IC0JY29uc3Qgc3RydWN0IGRtYV9mZW5jZV9vcHMgKm9wczsKPiAtCXN0cnVj
dCByY3VfaGVhZCByY3U7Cj4gLQlzdHJ1Y3QgbGlzdF9oZWFkIGNiX2xpc3Q7Cj4gLQlzcGlubG9j
a190ICpsb2NrOwo+IC0JdTY0IGNvbnRleHQ7Cj4gLQl1NjQgc2Vxbm87Cj4gLQl1bnNpZ25lZCBs
b25nIGZsYWdzOwo+IC0Ja3RpbWVfdCB0aW1lc3RhbXA7Cj4gLQlpbnQgZXJyb3I7Cj4gLX07Cj4g
LQo+IC1lbnVtIGRtYV9mZW5jZV9mbGFnX2JpdHMgewo+IC0JRE1BX0ZFTkNFX0ZMQUdfU0lHTkFM
RURfQklULAo+IC0JRE1BX0ZFTkNFX0ZMQUdfVElNRVNUQU1QX0JJVCwKPiAtCURNQV9GRU5DRV9G
TEFHX0VOQUJMRV9TSUdOQUxfQklULAo+IC0JRE1BX0ZFTkNFX0ZMQUdfVVNFUl9CSVRTLCAvKiBt
dXN0IGFsd2F5cyBiZSBsYXN0IG1lbWJlciAqLwo+IC19Owo+IC0KPiAtdHlwZWRlZiB2b2lkICgq
ZG1hX2ZlbmNlX2Z1bmNfdCkoc3RydWN0IGRtYV9mZW5jZSAqZmVuY2UsCj4gLQkJCQkgc3RydWN0
IGRtYV9mZW5jZV9jYiAqY2IpOwo+IC0KPiAtLyoqCj4gLSAqIHN0cnVjdCBkbWFfZmVuY2VfY2Ig
LSBjYWxsYmFjayBmb3IgZG1hX2ZlbmNlX2FkZF9jYWxsYmFjaygpCj4gLSAqIEBub2RlOiB1c2Vk
IGJ5IGRtYV9mZW5jZV9hZGRfY2FsbGJhY2soKSB0byBhcHBlbmQgdGhpcyBzdHJ1Y3QgdG8gZmVu
Y2U6OmNiX2xpc3QKPiAtICogQGZ1bmM6IGRtYV9mZW5jZV9mdW5jX3QgdG8gY2FsbAo+IC0gKgo+
IC0gKiBUaGlzIHN0cnVjdCB3aWxsIGJlIGluaXRpYWxpemVkIGJ5IGRtYV9mZW5jZV9hZGRfY2Fs
bGJhY2soKSwgYWRkaXRpb25hbAo+IC0gKiBkYXRhIGNhbiBiZSBwYXNzZWQgYWxvbmcgYnkgZW1i
ZWRkaW5nIGRtYV9mZW5jZV9jYiBpbiBhbm90aGVyIHN0cnVjdC4KPiAtICovCj4gLXN0cnVjdCBk
bWFfZmVuY2VfY2Igewo+IC0Jc3RydWN0IGxpc3RfaGVhZCBub2RlOwo+IC0JZG1hX2ZlbmNlX2Z1
bmNfdCBmdW5jOwo+IC19Owo+IC0KPiAtLyoqCj4gLSAqIHN0cnVjdCBkbWFfZmVuY2Vfb3BzIC0g
b3BlcmF0aW9ucyBpbXBsZW1lbnRlZCBmb3IgZmVuY2UKPiAtICoKPiAtICovCj4gLXN0cnVjdCBk
bWFfZmVuY2Vfb3BzIHsKPiAtCS8qKgo+IC0JICogQHVzZV82NGJpdF9zZXFubzoKPiAtCSAqCj4g
LQkgKiBUcnVlIGlmIHRoaXMgZG1hX2ZlbmNlIGltcGxlbWVudGF0aW9uIHVzZXMgNjRiaXQgc2Vx
bm8sIGZhbHNlCj4gLQkgKiBvdGhlcndpc2UuCj4gLQkgKi8KPiAtCWJvb2wgdXNlXzY0Yml0X3Nl
cW5vOwo+IC0KPiAtCS8qKgo+IC0JICogQGdldF9kcml2ZXJfbmFtZToKPiAtCSAqCj4gLQkgKiBS
ZXR1cm5zIHRoZSBkcml2ZXIgbmFtZS4gVGhpcyBpcyBhIGNhbGxiYWNrIHRvIGFsbG93IGRyaXZl
cnMgdG8KPiAtCSAqIGNvbXB1dGUgdGhlIG5hbWUgYXQgcnVudGltZSwgd2l0aG91dCBoYXZpbmcg
aXQgdG8gc3RvcmUgcGVybWFuZW50bHkKPiAtCSAqIGZvciBlYWNoIGZlbmNlLCBvciBidWlsZCBh
IGNhY2hlIG9mIHNvbWUgc29ydC4KPiAtCSAqCj4gLQkgKiBUaGlzIGNhbGxiYWNrIGlzIG1hbmRh
dG9yeS4KPiAtCSAqLwo+IC0JY29uc3QgY2hhciAqICgqZ2V0X2RyaXZlcl9uYW1lKShzdHJ1Y3Qg
ZG1hX2ZlbmNlICpmZW5jZSk7Cj4gLQo+IC0JLyoqCj4gLQkgKiBAZ2V0X3RpbWVsaW5lX25hbWU6
Cj4gLQkgKgo+IC0JICogUmV0dXJuIHRoZSBuYW1lIG9mIHRoZSBjb250ZXh0IHRoaXMgZmVuY2Ug
YmVsb25ncyB0by4gVGhpcyBpcyBhCj4gLQkgKiBjYWxsYmFjayB0byBhbGxvdyBkcml2ZXJzIHRv
IGNvbXB1dGUgdGhlIG5hbWUgYXQgcnVudGltZSwgd2l0aG91dAo+IC0JICogaGF2aW5nIGl0IHRv
IHN0b3JlIHBlcm1hbmVudGx5IGZvciBlYWNoIGZlbmNlLCBvciBidWlsZCBhIGNhY2hlIG9mCj4g
LQkgKiBzb21lIHNvcnQuCj4gLQkgKgo+IC0JICogVGhpcyBjYWxsYmFjayBpcyBtYW5kYXRvcnku
Cj4gLQkgKi8KPiAtCWNvbnN0IGNoYXIgKiAoKmdldF90aW1lbGluZV9uYW1lKShzdHJ1Y3QgZG1h
X2ZlbmNlICpmZW5jZSk7Cj4gLQo+IC0JLyoqCj4gLQkgKiBAZW5hYmxlX3NpZ25hbGluZzoKPiAt
CSAqCj4gLQkgKiBFbmFibGUgc29mdHdhcmUgc2lnbmFsaW5nIG9mIGZlbmNlLgo+IC0JICoKPiAt
CSAqIEZvciBmZW5jZSBpbXBsZW1lbnRhdGlvbnMgdGhhdCBoYXZlIHRoZSBjYXBhYmlsaXR5IGZv
ciBody0+aHcKPiAtCSAqIHNpZ25hbGluZywgdGhleSBjYW4gaW1wbGVtZW50IHRoaXMgb3AgdG8g
ZW5hYmxlIHRoZSBuZWNlc3NhcnkKPiAtCSAqIGludGVycnVwdHMsIG9yIGluc2VydCBjb21tYW5k
cyBpbnRvIGNtZHN0cmVhbSwgZXRjLCB0byBhdm9pZCB0aGVzZQo+IC0JICogY29zdGx5IG9wZXJh
dGlvbnMgZm9yIHRoZSBjb21tb24gY2FzZSB3aGVyZSBvbmx5IGh3LT5odwo+IC0JICogc3luY2hy
b25pemF0aW9uIGlzIHJlcXVpcmVkLiAgVGhpcyBpcyBjYWxsZWQgaW4gdGhlIGZpcnN0Cj4gLQkg
KiBkbWFfZmVuY2Vfd2FpdCgpIG9yIGRtYV9mZW5jZV9hZGRfY2FsbGJhY2soKSBwYXRoIHRvIGxl
dCB0aGUgZmVuY2UKPiAtCSAqIGltcGxlbWVudGF0aW9uIGtub3cgdGhhdCB0aGVyZSBpcyBhbm90
aGVyIGRyaXZlciB3YWl0aW5nIG9uIHRoZQo+IC0JICogc2lnbmFsIChpZS4gaHctPnN3IGNhc2Up
Lgo+IC0JICoKPiAtCSAqIFRoaXMgZnVuY3Rpb24gY2FuIGJlIGNhbGxlZCBmcm9tIGF0b21pYyBj
b250ZXh0LCBidXQgbm90Cj4gLQkgKiBmcm9tIGlycSBjb250ZXh0LCBzbyBub3JtYWwgc3Bpbmxv
Y2tzIGNhbiBiZSB1c2VkLgo+IC0JICoKPiAtCSAqIEEgcmV0dXJuIHZhbHVlIG9mIGZhbHNlIGlu
ZGljYXRlcyB0aGUgZmVuY2UgYWxyZWFkeSBwYXNzZWQsCj4gLQkgKiBvciBzb21lIGZhaWx1cmUg
b2NjdXJyZWQgdGhhdCBtYWRlIGl0IGltcG9zc2libGUgdG8gZW5hYmxlCj4gLQkgKiBzaWduYWxp
bmcuIFRydWUgaW5kaWNhdGVzIHN1Y2Nlc3NmdWwgZW5hYmxpbmcuCj4gLQkgKgo+IC0JICogJmRt
YV9mZW5jZS5lcnJvciBtYXkgYmUgc2V0IGluIGVuYWJsZV9zaWduYWxpbmcsIGJ1dCBvbmx5IHdo
ZW4gZmFsc2UKPiAtCSAqIGlzIHJldHVybmVkLgo+IC0JICoKPiAtCSAqIFNpbmNlIG1hbnkgaW1w
bGVtZW50YXRpb25zIGNhbiBjYWxsIGRtYV9mZW5jZV9zaWduYWwoKSBldmVuIHdoZW4gYmVmb3Jl
Cj4gLQkgKiBAZW5hYmxlX3NpZ25hbGluZyBoYXMgYmVlbiBjYWxsZWQgdGhlcmUncyBhIHJhY2Ug
d2luZG93LCB3aGVyZSB0aGUKPiAtCSAqIGRtYV9mZW5jZV9zaWduYWwoKSBtaWdodCByZXN1bHQg
aW4gdGhlIGZpbmFsIGZlbmNlIHJlZmVyZW5jZSBiZWluZwo+IC0JICogcmVsZWFzZWQgYW5kIGl0
cyBtZW1vcnkgZnJlZWQuIFRvIGF2b2lkIHRoaXMsIGltcGxlbWVudGF0aW9ucyBvZiB0aGlzCj4g
LQkgKiBjYWxsYmFjayBzaG91bGQgZ3JhYiB0aGVpciBvd24gcmVmZXJlbmNlIHVzaW5nIGRtYV9m
ZW5jZV9nZXQoKSwgdG8gYmUKPiAtCSAqIHJlbGVhc2VkIHdoZW4gdGhlIGZlbmNlIGlzIHNpZ25h
bGxlZCAodGhyb3VnaCBlLmcuIHRoZSBpbnRlcnJ1cHQKPiAtCSAqIGhhbmRsZXIpLgo+IC0JICoK
PiAtCSAqIFRoaXMgY2FsbGJhY2sgaXMgb3B0aW9uYWwuIElmIHRoaXMgY2FsbGJhY2sgaXMgbm90
IHByZXNlbnQsIHRoZW4gdGhlCj4gLQkgKiBkcml2ZXIgbXVzdCBhbHdheXMgaGF2ZSBzaWduYWxp
bmcgZW5hYmxlZC4KPiAtCSAqLwo+IC0JYm9vbCAoKmVuYWJsZV9zaWduYWxpbmcpKHN0cnVjdCBk
bWFfZmVuY2UgKmZlbmNlKTsKPiAtCj4gLQkvKioKPiAtCSAqIEBzaWduYWxlZDoKPiAtCSAqCj4g
LQkgKiBQZWVrIHdoZXRoZXIgdGhlIGZlbmNlIGlzIHNpZ25hbGVkLCBhcyBhIGZhc3RwYXRoIG9w
dGltaXphdGlvbiBmb3IKPiAtCSAqIGUuZy4gZG1hX2ZlbmNlX3dhaXQoKSBvciBkbWFfZmVuY2Vf
YWRkX2NhbGxiYWNrKCkuIE5vdGUgdGhhdCB0aGlzCj4gLQkgKiBjYWxsYmFjayBkb2VzIG5vdCBu
ZWVkIHRvIG1ha2UgYW55IGd1YXJhbnRlZXMgYmV5b25kIHRoYXQgYSBmZW5jZQo+IC0JICogb25j
ZSBpbmRpY2F0ZXMgYXMgc2lnbmFsbGVkIG11c3QgYWx3YXlzIHJldHVybiB0cnVlIGZyb20gdGhp
cwo+IC0JICogY2FsbGJhY2suIFRoaXMgY2FsbGJhY2sgbWF5IHJldHVybiBmYWxzZSBldmVuIGlm
IHRoZSBmZW5jZSBoYXMKPiAtCSAqIGNvbXBsZXRlZCBhbHJlYWR5LCBpbiB0aGlzIGNhc2UgaW5m
b3JtYXRpb24gaGFzbid0IHByb3BvZ2F0ZWQgdGhyb3VnCj4gLQkgKiB0aGUgc3lzdGVtIHlldC4g
U2VlIGFsc28gZG1hX2ZlbmNlX2lzX3NpZ25hbGVkKCkuCj4gLQkgKgo+IC0JICogTWF5IHNldCAm
ZG1hX2ZlbmNlLmVycm9yIGlmIHJldHVybmluZyB0cnVlLgo+IC0JICoKPiAtCSAqIFRoaXMgY2Fs
bGJhY2sgaXMgb3B0aW9uYWwuCj4gLQkgKi8KPiAtCWJvb2wgKCpzaWduYWxlZCkoc3RydWN0IGRt
YV9mZW5jZSAqZmVuY2UpOwo+IC0KPiAtCS8qKgo+IC0JICogQHdhaXQ6Cj4gLQkgKgo+IC0JICog
Q3VzdG9tIHdhaXQgaW1wbGVtZW50YXRpb24sIGRlZmF1bHRzIHRvIGRtYV9mZW5jZV9kZWZhdWx0
X3dhaXQoKSBpZgo+IC0JICogbm90IHNldC4KPiAtCSAqCj4gLQkgKiBUaGUgZG1hX2ZlbmNlX2Rl
ZmF1bHRfd2FpdCBpbXBsZW1lbnRhdGlvbiBzaG91bGQgd29yayBmb3IgYW55IGZlbmNlLCBhcyBs
b25nCj4gLQkgKiBhcyBAZW5hYmxlX3NpZ25hbGluZyB3b3JrcyBjb3JyZWN0bHkuIFRoaXMgaG9v
ayBhbGxvd3MgZHJpdmVycyB0bwo+IC0JICogaGF2ZSBhbiBvcHRpbWl6ZWQgdmVyc2lvbiBmb3Ig
dGhlIGNhc2Ugd2hlcmUgYSBwcm9jZXNzIGNvbnRleHQgaXMKPiAtCSAqIGFscmVhZHkgYXZhaWxh
YmxlLCBlLmcuIGlmIEBlbmFibGVfc2lnbmFsaW5nIGZvciB0aGUgZ2VuZXJhbCBjYXNlCj4gLQkg
KiBuZWVkcyB0byBzZXQgdXAgYSB3b3JrZXIgdGhyZWFkLgo+IC0JICoKPiAtCSAqIE11c3QgcmV0
dXJuIC1FUkVTVEFSVFNZUyBpZiB0aGUgd2FpdCBpcyBpbnRyID0gdHJ1ZSBhbmQgdGhlIHdhaXQg
d2FzCj4gLQkgKiBpbnRlcnJ1cHRlZCwgYW5kIHJlbWFpbmluZyBqaWZmaWVzIGlmIGZlbmNlIGhh
cyBzaWduYWxlZCwgb3IgMCBpZiB3YWl0Cj4gLQkgKiB0aW1lZCBvdXQuIENhbiBhbHNvIHJldHVy
biBvdGhlciBlcnJvciB2YWx1ZXMgb24gY3VzdG9tIGltcGxlbWVudGF0aW9ucywKPiAtCSAqIHdo
aWNoIHNob3VsZCBiZSB0cmVhdGVkIGFzIGlmIHRoZSBmZW5jZSBpcyBzaWduYWxlZC4gRm9yIGV4
YW1wbGUgYSBoYXJkd2FyZQo+IC0JICogbG9ja3VwIGNvdWxkIGJlIHJlcG9ydGVkIGxpa2UgdGhh
dC4KPiAtCSAqCj4gLQkgKiBUaGlzIGNhbGxiYWNrIGlzIG9wdGlvbmFsLgo+IC0JICovCj4gLQlz
aWduZWQgbG9uZyAoKndhaXQpKHN0cnVjdCBkbWFfZmVuY2UgKmZlbmNlLAo+IC0JCQkgICAgYm9v
bCBpbnRyLCBzaWduZWQgbG9uZyB0aW1lb3V0KTsKPiAtCj4gLQkvKioKPiAtCSAqIEByZWxlYXNl
Ogo+IC0JICoKPiAtCSAqIENhbGxlZCBvbiBkZXN0cnVjdGlvbiBvZiBmZW5jZSB0byByZWxlYXNl
IGFkZGl0aW9uYWwgcmVzb3VyY2VzLgo+IC0JICogQ2FuIGJlIGNhbGxlZCBmcm9tIGlycSBjb250
ZXh0LiAgVGhpcyBjYWxsYmFjayBpcyBvcHRpb25hbC4gSWYgaXQgaXMKPiAtCSAqIE5VTEwsIHRo
ZW4gZG1hX2ZlbmNlX2ZyZWUoKSBpcyBpbnN0ZWFkIGNhbGxlZCBhcyB0aGUgZGVmYXVsdAo+IC0J
ICogaW1wbGVtZW50YXRpb24uCj4gLQkgKi8KPiAtCXZvaWQgKCpyZWxlYXNlKShzdHJ1Y3QgZG1h
X2ZlbmNlICpmZW5jZSk7Cj4gLQo+IC0JLyoqCj4gLQkgKiBAZmVuY2VfdmFsdWVfc3RyOgo+IC0J
ICoKPiAtCSAqIENhbGxiYWNrIHRvIGZpbGwgaW4gZnJlZS1mb3JtIGRlYnVnIGluZm8gc3BlY2lm
aWMgdG8gdGhpcyBmZW5jZSwgbGlrZQo+IC0JICogdGhlIHNlcXVlbmNlIG51bWJlci4KPiAtCSAq
Cj4gLQkgKiBUaGlzIGNhbGxiYWNrIGlzIG9wdGlvbmFsLgo+IC0JICovCj4gLQl2b2lkICgqZmVu
Y2VfdmFsdWVfc3RyKShzdHJ1Y3QgZG1hX2ZlbmNlICpmZW5jZSwgY2hhciAqc3RyLCBpbnQgc2l6
ZSk7Cj4gLQo+IC0JLyoqCj4gLQkgKiBAdGltZWxpbmVfdmFsdWVfc3RyOgo+IC0JICoKPiAtCSAq
IEZpbGxzIGluIHRoZSBjdXJyZW50IHZhbHVlIG9mIHRoZSB0aW1lbGluZSBhcyBhIHN0cmluZywg
bGlrZSB0aGUKPiAtCSAqIHNlcXVlbmNlIG51bWJlci4gTm90ZSB0aGF0IHRoZSBzcGVjaWZpYyBm
ZW5jZSBwYXNzZWQgdG8gdGhpcyBmdW5jdGlvbgo+IC0JICogc2hvdWxkIG5vdCBtYXR0ZXIsIGRy
aXZlcnMgc2hvdWxkIG9ubHkgdXNlIGl0IHRvIGxvb2sgdXAgdGhlCj4gLQkgKiBjb3JyZXNwb25k
aW5nIHRpbWVsaW5lIHN0cnVjdHVyZXMuCj4gLQkgKi8KPiAtCXZvaWQgKCp0aW1lbGluZV92YWx1
ZV9zdHIpKHN0cnVjdCBkbWFfZmVuY2UgKmZlbmNlLAo+IC0JCQkJICAgY2hhciAqc3RyLCBpbnQg
c2l6ZSk7Cj4gLX07Cj4gKyNpbmNsdWRlIDx0cmFjZS9ldmVudHMvZG1hX2ZlbmNlLmg+Cj4gICAK
PiAgIHZvaWQgZG1hX2ZlbmNlX2luaXQoc3RydWN0IGRtYV9mZW5jZSAqZmVuY2UsIGNvbnN0IHN0
cnVjdCBkbWFfZmVuY2Vfb3BzICpvcHMsCj4gICAJCSAgICBzcGlubG9ja190ICpsb2NrLCB1NjQg
Y29udGV4dCwgdTY0IHNlcW5vKTsKPiBAQCAtNTYxLDYgKzM0MywzNSBAQCBzdGF0aWMgaW5saW5l
IHNpZ25lZCBsb25nIGRtYV9mZW5jZV93YWl0KHN0cnVjdCBkbWFfZmVuY2UgKmZlbmNlLCBib29s
IGludHIpCj4gICBzdHJ1Y3QgZG1hX2ZlbmNlICpkbWFfZmVuY2VfZ2V0X3N0dWIodm9pZCk7Cj4g
ICB1NjQgZG1hX2ZlbmNlX2NvbnRleHRfYWxsb2ModW5zaWduZWQgbnVtKTsKPiAgIAo+ICtzdGF0
aWMgaW5saW5lIGJvb2wKPiArX19kbWFfZmVuY2Vfc2lnbmFsKHN0cnVjdCBkbWFfZmVuY2UgKmZl
bmNlKQo+ICt7Cj4gKwlyZXR1cm4gIXRlc3RfYW5kX3NldF9iaXQoRE1BX0ZFTkNFX0ZMQUdfU0lH
TkFMRURfQklULCAmZmVuY2UtPmZsYWdzKTsKPiArfQo+ICsKPiArc3RhdGljIGlubGluZSB2b2lk
Cj4gK19fZG1hX2ZlbmNlX3NpZ25hbF9fdGltZXN0YW1wKHN0cnVjdCBkbWFfZmVuY2UgKmZlbmNl
LCBrdGltZV90IHRpbWVzdGFtcCkKPiArewo+ICsJZmVuY2UtPnRpbWVzdGFtcCA9IHRpbWVzdGFt
cDsKPiArCXNldF9iaXQoRE1BX0ZFTkNFX0ZMQUdfVElNRVNUQU1QX0JJVCwgJmZlbmNlLT5mbGFn
cyk7Cj4gKwl0cmFjZV9kbWFfZmVuY2Vfc2lnbmFsZWQoZmVuY2UpOwo+ICt9Cj4gKwo+ICtzdGF0
aWMgaW5saW5lIHZvaWQKPiArX19kbWFfZmVuY2Vfc2lnbmFsX19ub3RpZnkoc3RydWN0IGRtYV9m
ZW5jZSAqZmVuY2UpCj4gK3sKPiArCXN0cnVjdCBkbWFfZmVuY2VfY2IgKmN1ciwgKnRtcDsKPiAr
Cj4gKwlsb2NrZGVwX2Fzc2VydF9oZWxkKGZlbmNlLT5sb2NrKTsKPiArCWxvY2tkZXBfYXNzZXJ0
X2lycXNfZGlzYWJsZWQoKTsKPiArCj4gKwlsaXN0X2Zvcl9lYWNoX2VudHJ5X3NhZmUoY3VyLCB0
bXAsICZmZW5jZS0+Y2JfbGlzdCwgbm9kZSkgewo+ICsJCUlOSVRfTElTVF9IRUFEKCZjdXItPm5v
ZGUpOwo+ICsJCWN1ci0+ZnVuYyhmZW5jZSwgY3VyKTsKPiArCX0KPiArCUlOSVRfTElTVF9IRUFE
KCZmZW5jZS0+Y2JfbGlzdCk7Cj4gK30KPiArCj4gICAjZGVmaW5lIERNQV9GRU5DRV9UUkFDRShm
LCBmbXQsIGFyZ3MuLi4pIFwKPiAgIAlkbyB7CQkJCQkJCQlcCj4gICAJCXN0cnVjdCBkbWFfZmVu
Y2UgKl9fZmYgPSAoZik7CQkJCVwKPiAKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX18KSW50ZWwtZ2Z4IG1haWxpbmcgbGlzdApJbnRlbC1nZnhAbGlzdHMuZnJl
ZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGlu
Zm8vaW50ZWwtZ2Z4

Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id AA7D6BFA19
	for <lists+intel-gfx@lfdr.de>; Thu, 26 Sep 2019 21:31:32 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 430B56EDF8;
	Thu, 26 Sep 2019 19:31:30 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from fireflyinternet.com (mail.fireflyinternet.com [109.228.58.192])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 770036EDF6
 for <intel-gfx@lists.freedesktop.org>; Thu, 26 Sep 2019 19:31:28 +0000 (UTC)
X-Default-Received-SPF: pass (skip=forwardok (res=PASS))
 x-ip-name=78.156.65.138; 
Received: from localhost (unverified [78.156.65.138]) 
 by fireflyinternet.com (Firefly Internet (M1)) with ESMTP (TLS) id
 18631704-1500050 for multiple; Thu, 26 Sep 2019 20:31:13 +0100
MIME-Version: 1.0
To: Brian Welty <brian.welty@intel.com>, intel-gfx@lists.freedesktop.org
From: Chris Wilson <chris@chris-wilson.co.uk>
In-Reply-To: <eefc229a-107c-2025-c1c0-3e7af20b6738@intel.com>
References: <20190926142538.9386-1-chris@chris-wilson.co.uk>
 <eefc229a-107c-2025-c1c0-3e7af20b6738@intel.com>
Message-ID: <156952626945.26462.10510759782196109628@skylake-alporthouse-com>
User-Agent: alot/0.6
Date: Thu, 26 Sep 2019 20:31:09 +0100
Subject: Re: [Intel-gfx] [PATCH] drm/i915: Delegate our irq handler to a
 thread
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: Clark Williams <williams@redhat.com>,
 Sebastian Andrzej Siewior <bigeasy@linutronix.de>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

UXVvdGluZyBCcmlhbiBXZWx0eSAoMjAxOS0wOS0yNiAxOTo1NzoxNykKPiAKPiBPbiA5LzI2LzIw
MTkgNzoyNSBBTSwgQ2hyaXMgV2lsc29uIHdyb3RlOgo+ID4gTW92aW5nIG91ciBwcmltYXJ5IGly
cSBoYW5kbGVyIHRvIGEgUlQgdGhyZWFkIGluY3VycyBhbiBleHRyYSAxdXMgZGVsYXkKPiA+IGlu
IHByb2Nlc3MgaW50ZXJydXB0cy4gVGhpcyBpcyBtb3N0IG5vdGljZSBpbiB3YWtpbmcgdXAgY2xp
ZW50IHRocmVhZHMsCj4gPiB3aGVyZSBpdCBhZGRzIGFib3V0IDIwJSBvZiBleHRyYSBsYXRlbmN5
LiBJdCBhbHNvIGltcG9zZXMgYSBkZWxheSBpbgo+ID4gZmVlZGluZyB0aGUgR1BVLCBhbiBleHRy
YSAxdXMgYmVmb3JlIHNpZ25hbGluZyBzZWNvbmRhcnkgZW5naW5lcyBhbmQKPiA+IGV4dHJhIGxh
dGVuY3kgaW4gcmVzdWJtaXR0aW5nIHdvcmsgdG8ga2VlcCB0aGUgR1BVIGJ1c3kuIFRoZSBsYXR0
ZXIgY2FzZQo+ID4gaXMgaW5zaWduaWZpY2FudCBhcyB0aGUgbGF0ZW5jeSBoaWRkZW4gYnkgdGhl
IGFjdGl2ZSBHUFUsIGFuZAo+ID4gcHJlZW1wdC10by1idXN5IGVuc3VyZXMgdGhhdCBubyBleHRy
YSBsYXRlbmN5IGlzIGluY3VycmVkIGZvcgo+ID4gcHJlZW1wdGlvbi4KPiA+IAo+ID4gVGhlIGJl
bmVmaXQgaXMgdGhhdCB3ZSByZWR1Y2VkIHRoZSBpbXBhY3Qgb24gdGhlIHJlc3Qgb2YgdGhlIHN5
c3RlbSwgdGhlCj4gPiBjeWNsZXRlc3Qgc2hvd3MgYSByZWR1Y3Rpb24gZnJvbSA1dXMgbWVhbiBs
YXRlbmN5IHRvIDJ1cywgd2l0aCB0aGUKPiA+IG1heGltdW0gb2JzZXJ2ZWQgbGF0ZW5jeSAoaW4g
YSAyIG1pbnV0ZSB3aW5kb3cpIHJlZHVjZWQgYnkgb3ZlciAxNjB1cy4KPiAKPiBIaSBDaHJpcywK
PiAKPiBJJ20gY3VyaW91cyB0byB1bmRlcnN0YW5kIHRoaXMgYSBsaXR0bGUgYmV0dGVyLgo+IElm
IG9ubHkgYmVuZWZpdCBvZiB0aGlzIHBhdGNoIGlzIGltcHJvdmluZyBvdmVyYWxsIHN5c3RlbSBw
ZXJmb3JtYW5jZSwgdGhlbgo+IGNhbiB5b3Ugc2F5IHdoeSBpOTE1IGludGVycnVwdCBoYW5kbGlu
ZyBkb2Vzbid0IGZpdCBpbnRvIHdoYXQgSSB0aG91Z2h0IHdhcwo+IHRoZSBjb21tb24gdXNhZ2Ug
b2YgdGhyZWFkZWQgaW50ZXJydXB0cy4uLgoKVGhlIHdheSBjeWNsaWN0ZXN0IGRldGVybWluZXMg
c3lzdGVtIGltcGFjdCBpcyB2aWEgbGF0ZW5jeSBpbiBkZWxpdmVyeQpvZiBhIHRpbWVyIHRvIHVz
ZXJzcGFjZTsgaXQgb2JzZXJ2ZXMgaXJxLW9mZiB0aW1lLiBXZSB1c2UgdGhhdCBhcyBhCmNvbnZl
bmllbnQgbWV0cmljIHRvIGRldGVybWluZSBob3cgbG9uZyB3ZSBibG9jayB0aGUgc3lzdGVtIHdo
aWxlCnNlcnZpY2luZyB0aGUgZ3B1LgogCj4gVXN1YWxseSB3aXRoIHJlcXVlc3RfdGhyZWFkZWRf
aXJxKCksIEkgdGhvdWdodCB0eXBpY2FsbHkgYm90aCBoYW5kbGVycwo+IGFyZSBzcGVjaWZpZWQg
YW5kIHNvIHlvdSdkIG9ubHkgZmFsbGJhY2sgdG8gdGhlIHRocmVhZGVkIGhhbmRsZXIgd2hlbiB0
aGUKPiBpbnRlcnJ1cHQgY29udGV4dCBoYW5kbGVyIGlzIG92ZXJ3aGVsbWVkPwo+IExpa2Ugc286
Cj4gICAgICAgICB3aGlsZSAoSFcgZXZlbnRzIG5lZWQgc29tZSBhY3Rpb24pIHsKPiAgICAgICAg
ICAgICAgICAgLi4uLiBkbyBzb21ldGhpbmcgLi4uCj4gICAgICAgICAgICAgICAgIGlmICh0b28g
b3ZlcndoZWxtZWQpICAvKiBpZS4gcmVkdWNlIGxvYWQgb24gc3lzdGVtICovCj4gICAgICAgICAg
ICAgICAgICAgICAgICAgcmV0dXJuIElSUV9XQUtFX1RIUkVBRDsKPiAgICAgICAgIH0KPiAgICAg
ICAgIHJldHVybiBJUlFfSEFORExFRDsKPiAKPiBMaWtlbHkgeW91IGNvbnNpZGVyZWQgc29tZXRo
aW5nIGxpa2UgYWJvdmUuCj4gSSdtIGp1c3QgbG9va2luZyB0byB1bmRlcnN0YW5kIHdoeSB1c2lu
ZyBvbmx5IHRocmVhZGVkIGludGVycnVwdCBoYW5kbGVyIGlzIGJlc3QgaW4gdGhpcyBjYXNlLgo+
IChBbHNvIG1heWJlIGRpc2N1c3MgdGhpcyBhIGxpdHRsZSBiaXQgZnVydGhlciBpbiBjb21taXQg
bWVzc2FnZS4uLj8pCgpDb252ZW5pZW5jZS4gVGhlIHByaW1hcnkgbW90aXZhdGlvbiBmb3IgdGhl
IHBhdGNoIHdhcyB0byB0ZXN0ClNlYmFzdGlhbidzIHBhdGNoZXMgaW4gb3VyIENJIHdoaWNoIGFy
ZSB0YXJnZXRpbmcgUFJFRU1QVF9SVCBpc3N1ZXMgYW5kCmhlIG5vdGVkIHRoYXQgd291bGQgYWxz
byBiZSByZXByb2R1Y2VkIGluIGEgdGhyZWFkZWQgaXJxIGhhbmRsZXIuCgpUaGUgbWVhc3VyZW1l
bnRzIEkgZGlkIHdlcmUgdG8gYXNzdWFnZSBteSBvd24gZ3V0IHJlc3BvbnNlIHRoYXQgYQp0aHJl
YWRlZCBpcnEgaGFuZGxlciB3b3VsZCBiZSBkZXZhc3RhdGluZyB0byBvdXIgbGF0ZW5jeSBtZXRy
aWNzCihhbHRob3VnaCBhIDF1cyBleHRyYSBsYXRlbmN5IGlzIHRlcnJpYmxlIGlmIG91ciBnb2Fs
IGhhcHBlbnMgdG8gYmUKc3ViLTF1cyBncHUtPmNsaWVudCBsYXRlbmN5ISkuIChJIHdhcyBjb250
ZW1wbGF0aW5nIGFkZGluZyBJUlFGX05PX1RIUkVBRAp0byBhdm9pZCB0aGUgaXNzdWUuKQoKVGhl
IHByb2JsZW0gSSBmZWVsIHdpdGggdGhlIG92ZXJmbG93IG9mIHByaW1hcnkgdG8gdGhyZWFkIGlz
IHdoYXQgdmFsdWUKZG8geW91IGRlY2lkZSBpcyBhY2NlcHRhYmxlIGxhdGVuY3kgZm9yIHRoZSBy
ZXN0IG9mIHRoZSBzeXN0ZW07IGFuZCB3aHkKYm90aGVyIHRvIGtpY2sgb2ZmIGEgc2Vjb25kIHRo
cmVhZCBpZiBhbGwgaXQgZG9lcyBpcyBzZXJ2aWNlIGEgdGFza2xldCwKd291bGQgd2UgYmUgYmV0
dGVyIHNlcnZlZCBieSBhIGRlZGljYXRlZCB0aHJlYWQgcGVyLXN1Ym1pc3Npb24tdGhyZWFkPwoo
V2hpY2ggbWlnaHQgc291bmQgZmFtaWxpYXIgLS0gaXQgd2hhdCdzIHdlIHVzZWQgYmVmb3JlIHRh
c2tsZXRzLikKCkl0J3MgZGVmaW5pdGVseSBhIHRyYWRlb2ZmOyBvdXIgbGF0ZW5jeSB2ZXJzdXMg
dGhlIHJlc3Qgb2YgdGhlIHN5c3RlbS4KVGhvdWdoIHRoZXJlIHdlcmUgYSBmZXcgYWR2YW50YWdl
cyB0byBoYXZpbmcgYW4gUlQgdGhyZWFkIHNwYXduZWQgZm9yCnRoZSBzb2Z0aXJxICh3aGljaCBJ
IGd1ZXNzIGlzIHdhcyBiZWNhdXNlIFJUIHRocmVhZHMgYXJlIGdyYW50ZWQgYQpmcmVxdWVuY3kg
Ym9vc3QpLCBhbmQgaWYgd2UgY2FuIHJlZHVjZSB0aGUgbnVtYmVyIG9mIGlycS1vZmYgc3Bpbmxv
Y2tzCnRoYXQgbWF5IGhhdmUgbXVjaCBncmVhdGVyIGFkdmFudGFnZXMgYWNyb3NzIHRoZSBkcml2
ZXIgdGhhdCBvdXR3ZWlnaAp0aGUgY29zdCBvZiB0aGUgZXh0cmEgY29udGV4dCBzd2l0Y2ggaW4g
Y2xpZW50IHdha2V1cC4KIAo+IFNvcnJ5IGlmIHRoaXMgd2FzIHBlcmhhcHMgZGlzY3Vzc2VkIGlu
IHJlc3BvbnNlIHRvIFR2cnRrbydzIHF1ZXN0aW9uLgo+IEkgZGlkbid0IHF1aXRlIGZvbGxvdyB0
aGUgZmFzdC9zbG93IHNlcGFyYXRpb24gbWVudGlvbmVkIGluIHRoYXQgdGhyZWFkLgoKT3VyIGlu
dGVycnVwdCBoYW5kbGVycyBhcmUgZWZmZWN0aXZlbHkgc3BsaXQgaW50byAyIHBoYXNlcy4gRmly
c3Qgd2UgcmVhZAp0aGUgbWFzdGVyIGNvbnRyb2wgYW5kIHZhcmlvdXMgSUlSLCBhbmQgYWNrIHRo
ZSBpbnRlcnJ1cHQsIGFmdGVyIHdoaWNoCnRoZSBHUFUgaXMgZnJlZSB0byByYWlzZSBhbiBpbnRl
cnJ1cHQgYWdhaW4uIFRoZW4gd2UgcHJvY2VzcyB0aGUKaW50ZXJydXB0LCBoYW5kbGluZyB0aGUg
dmFyaW91cyBiaXRzIGFzc2VydGVkIGluIHRoZSBJSVIgKHNpZ25hbGluZwpjbGllbnRzLCBmZWVk
aW5nIHRoZSBHUFUgaXRzIG5leHQgY29udGV4dCwgY29tcGxldGluZyB2YmxhbmtzIGV0YykuClRo
ZSBmaXJzdCBhY2sgc2hvdWxkIGJlIGZhc3QgLS0geW91IGNhbiBkZW1vbnN0cmF0ZSB0aGUgaW1w
YWN0IG9mIG5vdApkb2luZyB0aGUgYWNrL2hhbmRsZXIgc3BsaXQsIGJ5IG1lYXN1cmluZyB0aGUg
dGhyb3VnaHB1dCBvbiBtdWx0aXBsZQplbmdpbmVzIChhIGNvbnRleHQtc3dpdGNoIGV2ZW50IG9u
IHRoZSBzZWNvbmQgZW5naW5lIHdpbGwgYmUgbm90aWNlYWJseQpibG9ja2VkIGJ5IHRoZSBpbnRl
cnJ1cHQgaGFuZGxlciBvbiB0aGUgZmlyc3QsIGlmIHlvdSBhcmUgbm90IGNhcmVmdWwpLgooZ2Vu
MTErIGJyZWFrcyB0aGlzIHNwbGl0IGF0bSBhcyB3ZSBoYXZlbid0IHdvcmtlZCBvdXQgaG93IHdl
IGFyZSBtZWFudAp0byBhY2sgdGhlIGJhbmtlZCBHVCBJSVIgeWV0LCBvciBhdCBsZWFzdCBubyBv
bmUgaGFzIHNlZW4gSWNlbGFrZSB0bwptZWFzdXJlIHRoZSBpbXBhY3QpLgotQ2hyaXMKX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KSW50ZWwtZ2Z4IG1haWxp
bmcgbGlzdApJbnRlbC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJl
ZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vaW50ZWwtZ2Z4

Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 96843BC9CC
	for <lists+intel-gfx@lfdr.de>; Tue, 24 Sep 2019 16:07:54 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id C64F16EA42;
	Tue, 24 Sep 2019 14:07:52 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga01.intel.com (mga01.intel.com [192.55.52.88])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 18BC26EA42
 for <intel-gfx@lists.freedesktop.org>; Tue, 24 Sep 2019 14:07:50 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga005.jf.intel.com ([10.7.209.41])
 by fmsmga101.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 24 Sep 2019 07:07:50 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.64,544,1559545200"; d="scan'208";a="364004347"
Received: from genxfsim-shark-bay-client-platform.iind.intel.com
 ([10.223.34.144])
 by orsmga005.jf.intel.com with ESMTP; 24 Sep 2019 07:07:46 -0700
From: Swati Sharma <swati2.sharma@intel.com>
To: intel-gfx@lists.freedesktop.org
Date: Tue, 24 Sep 2019 19:28:20 +0530
Message-Id: <20190924135820.11850-1-swati2.sharma@intel.com>
X-Mailer: git-send-email 2.23.0
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH] Revert "drm/i915/color: Extract icl_read_luts()"
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: jani.nikula@intel.com, daniel.vetter@ffwll.ch, ankit.k.nautiyal@intel.com
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

VGhpcyByZXZlcnRzIGNvbW1pdCA4NGFmNzY0OTE4ODE5NGE3NGNkZDY0MzcyMzVhNWUzYzg2MTA4
ZjBmLgoKVGhpcyBpcyBjYXVzaW5nIHByb2JsZW1zIHdpdGggdGhlIGRpc3BsYXksIGRpc3BsYXlz
IGFyZSBhbGwKYnJpZ2h0IGNvbG9ycy4KClNpZ25lZC1vZmYtYnk6IFN3YXRpIFNoYXJtYSA8c3dh
dGkyLnNoYXJtYUBpbnRlbC5jb20+Ci0tLQogZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9p
bnRlbF9jb2xvci5jIHwgMTI2ICsrKy0tLS0tLS0tLS0tLS0tLS0tLQogZHJpdmVycy9ncHUvZHJt
L2k5MTUvaTkxNV9yZWcuaCAgICAgICAgICAgIHwgICA2IC0KIDIgZmlsZXMgY2hhbmdlZCwgMTUg
aW5zZXJ0aW9ucygrKSwgMTE3IGRlbGV0aW9ucygtKQoKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1
L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfY29sb3IuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rp
c3BsYXkvaW50ZWxfY29sb3IuYwppbmRleCA0MDIxNTExMjhlMWYuLjlhYjM0OTAyNjYzZSAxMDA2
NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9jb2xvci5jCisrKyBi
L2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfY29sb3IuYwpAQCAtMTQyMCw5ICsx
NDIwLDYgQEAgc3RhdGljIGludCBpY2xfY29sb3JfY2hlY2soc3RydWN0IGludGVsX2NydGNfc3Rh
dGUgKmNydGNfc3RhdGUpCiAKIHN0YXRpYyBpbnQgaTl4eF9nYW1tYV9wcmVjaXNpb24oY29uc3Qg
c3RydWN0IGludGVsX2NydGNfc3RhdGUgKmNydGNfc3RhdGUpCiB7Ci0JaWYgKCFjcnRjX3N0YXRl
LT5nYW1tYV9lbmFibGUpCi0JCXJldHVybiAwOwotCiAJc3dpdGNoIChjcnRjX3N0YXRlLT5nYW1t
YV9tb2RlKSB7CiAJY2FzZSBHQU1NQV9NT0RFX01PREVfOEJJVDoKIAkJcmV0dXJuIDg7CkBAIC0x
NDM2LDkgKzE0MzMsNiBAQCBzdGF0aWMgaW50IGk5eHhfZ2FtbWFfcHJlY2lzaW9uKGNvbnN0IHN0
cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpjcnRjX3N0YXRlKQogCiBzdGF0aWMgaW50IGlsa19nYW1t
YV9wcmVjaXNpb24oY29uc3Qgc3RydWN0IGludGVsX2NydGNfc3RhdGUgKmNydGNfc3RhdGUpCiB7
Ci0JaWYgKCFjcnRjX3N0YXRlLT5nYW1tYV9lbmFibGUpCi0JCXJldHVybiAwOwotCiAJaWYgKChj
cnRjX3N0YXRlLT5jc2NfbW9kZSAmIENTQ19QT1NJVElPTl9CRUZPUkVfR0FNTUEpID09IDApCiAJ
CXJldHVybiAwOwogCkBAIC0xNDU1LDkgKzE0NDksNiBAQCBzdGF0aWMgaW50IGlsa19nYW1tYV9w
cmVjaXNpb24oY29uc3Qgc3RydWN0IGludGVsX2NydGNfc3RhdGUgKmNydGNfc3RhdGUpCiAKIHN0
YXRpYyBpbnQgY2h2X2dhbW1hX3ByZWNpc2lvbihjb25zdCBzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0
ZSAqY3J0Y19zdGF0ZSkKIHsKLQlpZiAoIWNydGNfc3RhdGUtPmdhbW1hX2VuYWJsZSkKLQkJcmV0
dXJuIDA7Ci0KIAlpZiAoY3J0Y19zdGF0ZS0+Y2dtX21vZGUgJiBDR01fUElQRV9NT0RFX0dBTU1B
KQogCQlyZXR1cm4gMTA7CiAJZWxzZQpAQCAtMTQ2Niw5ICsxNDU3LDYgQEAgc3RhdGljIGludCBj
aHZfZ2FtbWFfcHJlY2lzaW9uKGNvbnN0IHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpjcnRjX3N0
YXRlKQogCiBzdGF0aWMgaW50IGdsa19nYW1tYV9wcmVjaXNpb24oY29uc3Qgc3RydWN0IGludGVs
X2NydGNfc3RhdGUgKmNydGNfc3RhdGUpCiB7Ci0JaWYgKCFjcnRjX3N0YXRlLT5nYW1tYV9lbmFi
bGUpCi0JCXJldHVybiAwOwotCiAJc3dpdGNoIChjcnRjX3N0YXRlLT5nYW1tYV9tb2RlKSB7CiAJ
Y2FzZSBHQU1NQV9NT0RFX01PREVfOEJJVDoKIAkJcmV0dXJuIDg7CkBAIC0xNDgwLDM5ICsxNDY4
LDIxIEBAIHN0YXRpYyBpbnQgZ2xrX2dhbW1hX3ByZWNpc2lvbihjb25zdCBzdHJ1Y3QgaW50ZWxf
Y3J0Y19zdGF0ZSAqY3J0Y19zdGF0ZSkKIAl9CiB9CiAKLXN0YXRpYyBpbnQgaWNsX2dhbW1hX3By
ZWNpc2lvbihjb25zdCBzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqY3J0Y19zdGF0ZSkKLXsKLQlp
ZiAoKGNydGNfc3RhdGUtPmdhbW1hX21vZGUgJiBQT1NUX0NTQ19HQU1NQV9FTkFCTEUpID09IDAp
Ci0JCXJldHVybiAwOwotCi0Jc3dpdGNoIChjcnRjX3N0YXRlLT5nYW1tYV9tb2RlICYgR0FNTUFf
TU9ERV9NT0RFX01BU0spIHsKLQljYXNlIEdBTU1BX01PREVfTU9ERV84QklUOgotCQlyZXR1cm4g
ODsKLQljYXNlIEdBTU1BX01PREVfTU9ERV8xMEJJVDoKLQkJcmV0dXJuIDEwOwotCWNhc2UgR0FN
TUFfTU9ERV9NT0RFXzEyQklUX01VTFRJX1NFR01FTlRFRDoKLQkJcmV0dXJuIDE2OwotCWRlZmF1
bHQ6Ci0JCU1JU1NJTkdfQ0FTRShjcnRjX3N0YXRlLT5nYW1tYV9tb2RlKTsKLQkJcmV0dXJuIDA7
Ci0JfQotCi19Ci0KIGludCBpbnRlbF9jb2xvcl9nZXRfZ2FtbWFfYml0X3ByZWNpc2lvbihjb25z
dCBzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqY3J0Y19zdGF0ZSkKIHsKIAlzdHJ1Y3QgaW50ZWxf
Y3J0YyAqY3J0YyA9IHRvX2ludGVsX2NydGMoY3J0Y19zdGF0ZS0+YmFzZS5jcnRjKTsKIAlzdHJ1
Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYgPSB0b19pOTE1KGNydGMtPmJhc2UuZGV2KTsK
IAorCWlmICghY3J0Y19zdGF0ZS0+Z2FtbWFfZW5hYmxlKQorCQlyZXR1cm4gMDsKKwogCWlmIChI
QVNfR01DSChkZXZfcHJpdikpIHsKIAkJaWYgKElTX0NIRVJSWVZJRVcoZGV2X3ByaXYpKQogCQkJ
cmV0dXJuIGNodl9nYW1tYV9wcmVjaXNpb24oY3J0Y19zdGF0ZSk7CiAJCWVsc2UKIAkJCXJldHVy
biBpOXh4X2dhbW1hX3ByZWNpc2lvbihjcnRjX3N0YXRlKTsKIAl9IGVsc2UgewotCQlpZiAoSU5U
RUxfR0VOKGRldl9wcml2KSA+PSAxMSkKLQkJCXJldHVybiBpY2xfZ2FtbWFfcHJlY2lzaW9uKGNy
dGNfc3RhdGUpOwotCQllbHNlIGlmIChJU19DQU5OT05MQUtFKGRldl9wcml2KSB8fCBJU19HRU1J
TklMQUtFKGRldl9wcml2KSkKKwkJaWYgKElTX0NBTk5PTkxBS0UoZGV2X3ByaXYpIHx8IElTX0dF
TUlOSUxBS0UoZGV2X3ByaXYpKQogCQkJcmV0dXJuIGdsa19nYW1tYV9wcmVjaXNpb24oY3J0Y19z
dGF0ZSk7CiAJCWVsc2UgaWYgKElTX0lST05MQUtFKGRldl9wcml2KSkKIAkJCXJldHVybiBpbGtf
Z2FtbWFfcHJlY2lzaW9uKGNydGNfc3RhdGUpOwpAQCAtMTU0MywyMCArMTUxMyw2IEBAIHN0YXRp
YyBib29sIGludGVsX2NvbG9yX2x1dF9lbnRyeV9lcXVhbChzdHJ1Y3QgZHJtX2NvbG9yX2x1dCAq
bHV0MSwKIAlyZXR1cm4gdHJ1ZTsKIH0KIAotc3RhdGljIGJvb2wgaW50ZWxfY29sb3JfbHV0X2Vu
dHJ5X211bHRpX2VxdWFsKHN0cnVjdCBkcm1fY29sb3JfbHV0ICpsdXQxLAotCQkJCQkgICAgICBz
dHJ1Y3QgZHJtX2NvbG9yX2x1dCAqbHV0MiwKLQkJCQkJICAgICAgaW50IGx1dF9zaXplLCB1MzIg
ZXJyKQotewotCWludCBpOwotCi0JZm9yIChpID0gMDsgaSA8IDk7IGkrKykgewotCQlpZiAoIWVy
cl9jaGVjaygmbHV0MVtpXSwgJmx1dDJbaV0sIGVycikpCi0JCQlyZXR1cm4gZmFsc2U7Ci0JfQot
Ci0JcmV0dXJuIHRydWU7Ci19Ci0KIGJvb2wgaW50ZWxfY29sb3JfbHV0X2VxdWFsKHN0cnVjdCBk
cm1fcHJvcGVydHlfYmxvYiAqYmxvYjEsCiAJCQkgICBzdHJ1Y3QgZHJtX3Byb3BlcnR5X2Jsb2Ig
KmJsb2IyLAogCQkJICAgdTMyIGdhbW1hX21vZGUsIHUzMiBiaXRfcHJlY2lzaW9uKQpAQCAtMTU3
NSw4ICsxNTMxLDE2IEBAIGJvb2wgaW50ZWxfY29sb3JfbHV0X2VxdWFsKHN0cnVjdCBkcm1fcHJv
cGVydHlfYmxvYiAqYmxvYjEsCiAJbHV0X3NpemUyID0gZHJtX2NvbG9yX2x1dF9zaXplKGJsb2Iy
KTsKIAogCS8qIGNoZWNrIHN3IGFuZCBodyBsdXQgc2l6ZSAqLwotCWlmIChsdXRfc2l6ZTEgIT0g
bHV0X3NpemUyKQotCQlyZXR1cm4gZmFsc2U7CisJc3dpdGNoIChnYW1tYV9tb2RlKSB7CisJY2Fz
ZSBHQU1NQV9NT0RFX01PREVfOEJJVDoKKwljYXNlIEdBTU1BX01PREVfTU9ERV8xMEJJVDoKKwkJ
aWYgKGx1dF9zaXplMSAhPSBsdXRfc2l6ZTIpCisJCQlyZXR1cm4gZmFsc2U7CisJCWJyZWFrOwor
CWRlZmF1bHQ6CisJCU1JU1NJTkdfQ0FTRShnYW1tYV9tb2RlKTsKKwkJCXJldHVybiBmYWxzZTsK
Kwl9CiAKIAlsdXQxID0gYmxvYjEtPmRhdGE7CiAJbHV0MiA9IGJsb2IyLT5kYXRhOwpAQCAtMTU4
NCwxOCArMTU0OCwxMyBAQCBib29sIGludGVsX2NvbG9yX2x1dF9lcXVhbChzdHJ1Y3QgZHJtX3By
b3BlcnR5X2Jsb2IgKmJsb2IxLAogCWVyciA9IDB4ZmZmZiA+PiBiaXRfcHJlY2lzaW9uOwogCiAJ
LyogY2hlY2sgc3cgYW5kIGh3IGx1dCBlbnRyeSB0byBiZSBlcXVhbCAqLwotCXN3aXRjaCAoZ2Ft
bWFfbW9kZSAmIEdBTU1BX01PREVfTU9ERV9NQVNLKSB7CisJc3dpdGNoIChnYW1tYV9tb2RlKSB7
CiAJY2FzZSBHQU1NQV9NT0RFX01PREVfOEJJVDoKIAljYXNlIEdBTU1BX01PREVfTU9ERV8xMEJJ
VDoKIAkJaWYgKCFpbnRlbF9jb2xvcl9sdXRfZW50cnlfZXF1YWwobHV0MSwgbHV0MiwKIAkJCQkJ
CSBsdXRfc2l6ZTIsIGVycikpCiAJCQlyZXR1cm4gZmFsc2U7CiAJCWJyZWFrOwotCWNhc2UgR0FN
TUFfTU9ERV9NT0RFXzEyQklUX01VTFRJX1NFR01FTlRFRDoKLQkJaWYgKCFpbnRlbF9jb2xvcl9s
dXRfZW50cnlfbXVsdGlfZXF1YWwobHV0MSwgbHV0MiwKLQkJCQkJCSAgICAgICBsdXRfc2l6ZTIs
IGVycikpCi0JCQlyZXR1cm4gZmFsc2U7Ci0JCWJyZWFrOwogCWRlZmF1bHQ6CiAJCU1JU1NJTkdf
Q0FTRShnYW1tYV9tb2RlKTsKIAkJCXJldHVybiBmYWxzZTsKQEAgLTE4MzUsNjAgKzE3OTQsNiBA
QCBzdGF0aWMgdm9pZCBnbGtfcmVhZF9sdXRzKHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpjcnRj
X3N0YXRlKQogCQljcnRjX3N0YXRlLT5iYXNlLmdhbW1hX2x1dCA9IGdsa19yZWFkX2x1dF8xMChj
cnRjX3N0YXRlLCBQQUxfUFJFQ19JTkRFWF9WQUxVRSgwKSk7CiB9CiAKLXN0YXRpYyBzdHJ1Y3Qg
ZHJtX3Byb3BlcnR5X2Jsb2IgKgotaWNsX3JlYWRfbHV0X211bHRpX3NlZ21lbnQoY29uc3Qgc3Ry
dWN0IGludGVsX2NydGNfc3RhdGUgKmNydGNfc3RhdGUpCi17Ci0Jc3RydWN0IGludGVsX2NydGMg
KmNydGMgPSB0b19pbnRlbF9jcnRjKGNydGNfc3RhdGUtPmJhc2UuY3J0Yyk7Ci0Jc3RydWN0IGRy
bV9pOTE1X3ByaXZhdGUgKmRldl9wcml2ID0gdG9faTkxNShjcnRjLT5iYXNlLmRldik7Ci0JaW50
IGx1dF9zaXplID0gSU5URUxfSU5GTyhkZXZfcHJpdiktPmNvbG9yLmdhbW1hX2x1dF9zaXplOwot
CWVudW0gcGlwZSBwaXBlID0gY3J0Yy0+cGlwZTsKLQlzdHJ1Y3QgZHJtX3Byb3BlcnR5X2Jsb2Ig
KmJsb2I7Ci0Jc3RydWN0IGRybV9jb2xvcl9sdXQgKmJsb2JfZGF0YTsKLQl1MzIgaSwgdmFsMSwg
dmFsMjsKLQotCWJsb2IgPSBkcm1fcHJvcGVydHlfY3JlYXRlX2Jsb2IoJmRldl9wcml2LT5kcm0s
Ci0JCQkJCXNpemVvZihzdHJ1Y3QgZHJtX2NvbG9yX2x1dCkgKiBsdXRfc2l6ZSwKLQkJCQkJTlVM
TCk7Ci0JaWYgKElTX0VSUihibG9iKSkKLQkJcmV0dXJuIE5VTEw7Ci0KLQlibG9iX2RhdGEgPSBi
bG9iLT5kYXRhOwotCi0JSTkxNV9XUklURShQUkVDX1BBTF9NVUxUSV9TRUdfSU5ERVgocGlwZSks
IFBBTF9QUkVDX0FVVE9fSU5DUkVNRU5UKTsKLQotCWZvciAoaSA9IDA7IGkgPCA5OyBpKyspIHsK
LQkJdmFsMSA9IEk5MTVfUkVBRChQUkVDX1BBTF9NVUxUSV9TRUdfREFUQShwaXBlKSk7Ci0JCXZh
bDIgPSBJOTE1X1JFQUQoUFJFQ19QQUxfTVVMVElfU0VHX0RBVEEocGlwZSkpOwotCi0JCWJsb2Jf
ZGF0YVtpXS5yZWQgPSBSRUdfRklFTERfR0VUKFBBTF9QUkVDX01VTFRJX1NFR19SRURfVURXX01B
U0ssIHZhbDIpIDw8IDYgfAotCQkJCSAgIFJFR19GSUVMRF9HRVQoUEFMX1BSRUNfTVVMVElfU0VH
X1JFRF9MRFdfTUFTSywgdmFsMSk7Ci0JCWJsb2JfZGF0YVtpXS5ncmVlbiA9IFJFR19GSUVMRF9H
RVQoUEFMX1BSRUNfTVVMVElfU0VHX0dSRUVOX1VEV19NQVNLLCB2YWwyKSA8PCA2IHwKLQkJCQkg
ICAgIFJFR19GSUVMRF9HRVQoUEFMX1BSRUNfTVVMVElfU0VHX0dSRUVOX0xEV19NQVNLLCB2YWwx
KTsKLQkJYmxvYl9kYXRhW2ldLmJsdWUgPSBSRUdfRklFTERfR0VUKFBBTF9QUkVDX01VTFRJX1NF
R19CTFVFX1VEV19NQVNLLCB2YWwyKSA8PCA2IHwKLQkJCQkgICAgUkVHX0ZJRUxEX0dFVChQQUxf
UFJFQ19NVUxUSV9TRUdfQkxVRV9MRFdfTUFTSywgdmFsMSk7Ci0JfQotCi0JLyoKLQkgKiBGSVhN
RSByZWFkb3V0cyBmcm9tIFBBTF9QUkVDX0RBVEEgcmVnaXN0ZXIgYXJlbid0IGdpdmluZyBjb3Jy
ZWN0IHZhbHVlcwotCSAqIGluIHRoZSBjYXNlIG9mIGZpbmUgYW5kIGNvYXJzZSBzZWdtZW50cy4g
UmVzdHJpY3RpbmcgcmVhZG91dHMgb25seSBmb3IKLQkgKiBzdXBlciBmaW5lIHNlZ21lbnQgYXMg
b2Ygbm93LgotCSAqLwotCi0JcmV0dXJuIGJsb2I7Ci19Ci0KLXN0YXRpYyB2b2lkIGljbF9yZWFk
X2x1dHMoc3RydWN0IGludGVsX2NydGNfc3RhdGUgKmNydGNfc3RhdGUpCi17Ci0JaWYgKChjcnRj
X3N0YXRlLT5nYW1tYV9tb2RlICYgR0FNTUFfTU9ERV9NT0RFX01BU0spID09Ci0JICAgIEdBTU1B
X01PREVfTU9ERV84QklUKQotCQljcnRjX3N0YXRlLT5iYXNlLmdhbW1hX2x1dCA9IGk5eHhfcmVh
ZF9sdXRfOChjcnRjX3N0YXRlKTsKLQllbHNlIGlmICgoY3J0Y19zdGF0ZS0+Z2FtbWFfbW9kZSAm
IEdBTU1BX01PREVfTU9ERV9NQVNLKSA9PQotCQkgR0FNTUFfTU9ERV9NT0RFXzEyQklUX01VTFRJ
X1NFR01FTlRFRCkKLQkJY3J0Y19zdGF0ZS0+YmFzZS5nYW1tYV9sdXQgPSBpY2xfcmVhZF9sdXRf
bXVsdGlfc2VnbWVudChjcnRjX3N0YXRlKTsKLQllbHNlCi0JCWNydGNfc3RhdGUtPmJhc2UuZ2Ft
bWFfbHV0ID0gZ2xrX3JlYWRfbHV0XzEwKGNydGNfc3RhdGUsIFBBTF9QUkVDX0lOREVYX1ZBTFVF
KDApKTsKLX0KLQogdm9pZCBpbnRlbF9jb2xvcl9pbml0KHN0cnVjdCBpbnRlbF9jcnRjICpjcnRj
KQogewogCXN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiA9IHRvX2k5MTUoY3J0Yy0+
YmFzZS5kZXYpOwpAQCAtMTkzMiw3ICsxODM3LDYgQEAgdm9pZCBpbnRlbF9jb2xvcl9pbml0KHN0
cnVjdCBpbnRlbF9jcnRjICpjcnRjKQogCiAJCWlmIChJTlRFTF9HRU4oZGV2X3ByaXYpID49IDEx
KSB7CiAJCQlkZXZfcHJpdi0+ZGlzcGxheS5sb2FkX2x1dHMgPSBpY2xfbG9hZF9sdXRzOwotCQkJ
ZGV2X3ByaXYtPmRpc3BsYXkucmVhZF9sdXRzID0gaWNsX3JlYWRfbHV0czsKIAkJfSBlbHNlIGlm
IChJU19DQU5OT05MQUtFKGRldl9wcml2KSB8fCBJU19HRU1JTklMQUtFKGRldl9wcml2KSkgewog
CQkJZGV2X3ByaXYtPmRpc3BsYXkubG9hZF9sdXRzID0gZ2xrX2xvYWRfbHV0czsKIAkJCWRldl9w
cml2LT5kaXNwbGF5LnJlYWRfbHV0cyA9IGdsa19yZWFkX2x1dHM7CmRpZmYgLS1naXQgYS9kcml2
ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3JlZy5oIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9y
ZWcuaAppbmRleCBhNjljMTlhYWU1YmIuLjY2MWNiZTRjOTMzYSAxMDA2NDQKLS0tIGEvZHJpdmVy
cy9ncHUvZHJtL2k5MTUvaTkxNV9yZWcuaAorKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1
X3JlZy5oCkBAIC0xMDU3NCwxMiArMTA1NzQsNiBAQCBlbnVtIHNrbF9wb3dlcl9nYXRlIHsKIAog
I2RlZmluZSBfUEFMX1BSRUNfTVVMVElfU0VHX0RBVEFfQQkweDRBNDBDCiAjZGVmaW5lIF9QQUxf
UFJFQ19NVUxUSV9TRUdfREFUQV9CCTB4NEFDMEMKLSNkZWZpbmUgIFBBTF9QUkVDX01VTFRJX1NF
R19SRURfTERXX01BU0sgICBSRUdfR0VOTUFTSygyOSwgMjQpCi0jZGVmaW5lICBQQUxfUFJFQ19N
VUxUSV9TRUdfUkVEX1VEV19NQVNLICAgUkVHX0dFTk1BU0soMjksIDIwKQotI2RlZmluZSAgUEFM
X1BSRUNfTVVMVElfU0VHX0dSRUVOX0xEV19NQVNLIFJFR19HRU5NQVNLKDE5LCAxNCkKLSNkZWZp
bmUgIFBBTF9QUkVDX01VTFRJX1NFR19HUkVFTl9VRFdfTUFTSyBSRUdfR0VOTUFTSygxOSwgMTAp
Ci0jZGVmaW5lICBQQUxfUFJFQ19NVUxUSV9TRUdfQkxVRV9MRFdfTUFTSyAgUkVHX0dFTk1BU0so
OSwgNCkKLSNkZWZpbmUgIFBBTF9QUkVDX01VTFRJX1NFR19CTFVFX1VEV19NQVNLICBSRUdfR0VO
TUFTSyg5LCAwKQogCiAjZGVmaW5lIFBSRUNfUEFMX01VTFRJX1NFR19JTkRFWChwaXBlKQlfTU1J
T19QSVBFKHBpcGUsIFwKIAkJCQkJX1BBTF9QUkVDX01VTFRJX1NFR19JTkRFWF9BLCBcCi0tIAoy
LjIzLjAKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCklu
dGVsLWdmeCBtYWlsaW5nIGxpc3QKSW50ZWwtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRw
czovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2ludGVsLWdmeA==

Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 948BC10B1AA
	for <lists+intel-gfx@lfdr.de>; Wed, 27 Nov 2019 15:53:57 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 8D8826E2E2;
	Wed, 27 Nov 2019 14:53:55 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga12.intel.com (mga12.intel.com [192.55.52.136])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 19CCB6E2E2
 for <intel-gfx@lists.freedesktop.org>; Wed, 27 Nov 2019 14:53:54 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga008.jf.intel.com ([10.7.209.65])
 by fmsmga106.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 27 Nov 2019 06:53:41 -0800
X-IronPort-AV: E=Sophos;i="5.69,249,1571727600"; d="scan'208";a="203096233"
Received: from kjbrenna-mobl1.ger.corp.intel.com (HELO [10.251.83.147])
 ([10.251.83.147])
 by orsmga008-auth.jf.intel.com with ESMTP/TLS/AES256-SHA;
 27 Nov 2019 06:53:40 -0800
To: Chris Wilson <chris@chris-wilson.co.uk>, intel-gfx@lists.freedesktop.org
References: <20191127134527.3438410-1-chris@chris-wilson.co.uk>
From: Tvrtko Ursulin <tvrtko.ursulin@linux.intel.com>
Organization: Intel Corporation UK Plc
Message-ID: <d3b47079-397b-7cfe-5181-3b11d0a984ab@linux.intel.com>
Date: Wed, 27 Nov 2019 14:53:38 +0000
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101
 Thunderbird/60.9.0
MIME-Version: 1.0
In-Reply-To: <20191127134527.3438410-1-chris@chris-wilson.co.uk>
Content-Language: en-US
Subject: Re: [Intel-gfx] [PATCH] drm/i915: Serialise i915_active_fence_set()
 with itself
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

Ck9uIDI3LzExLzIwMTkgMTM6NDUsIENocmlzIFdpbHNvbiB3cm90ZToKPiBUaGUgZXhwZWN0ZWQg
ZG93bnNpZGUgdG8gY29tbWl0IDU4YjRjMWEwN2FkYSAoImRybS9pOTE1OiBSZWR1Y2UgbmVzdGVk
Cj4gcHJlcGFyZV9yZW1vdGVfY29udGV4dCgpIHRvIGEgdHJ5bG9jayIpIHdhcyB0aGF0IGl0IHdv
dWxkIG5lZWQgdG8gcmV0dXJuCj4gLUVBR0FJTiB0byB1c2Vyc3BhY2UgaW4gb3JkZXIgdG8gcmVz
b2x2ZSBwb3RlbnRpYWwgbXV0ZXggaW52ZXJzaW9uLiBTdWNoCj4gYW4gdW5zaWdodGx5IHJvdW5k
IHRyaXAgaXMgdW5uZWNlc3NhcnkgaWYgd2UgY291bGQgYXRvbWljYWxseSBpbnNlcnQgYQo+IGJh
cnJpZXIgaW50byB0aGUgaTkxNV9hY3RpdmVfZmVuY2UsIHNvIG1ha2UgaXQgaGFwcGVuLgo+IAo+
IEN1cnJlbnRseSwgd2UgdXNlIHRoZSB0aW1lbGluZS0+bXV0ZXggKG9yIHNvbWUgb3RoZXIgbmFt
ZWQgb3V0ZXIgbG9jaykKPiB0byBvcmRlciBpbnNlcnRpb24gaW50byB0aGUgaTkxNV9hY3RpdmVf
ZmVuY2UgKGFuZCBzbyBpbmRpdmlkdWFsIG5vZGVzCj4gb2YgaTkxNV9hY3RpdmUpLiBJbnNpZGUg
X19pOTE1X2FjdGl2ZV9mZW5jZV9zZXQsIHdlIG9ubHkgbmVlZCB0aGVuCj4gc2VyaWFsaXNlIHdp
dGggdGhlIGludGVycnVwdCBoYW5kbGVyIGluIG9yZGVyIHRvIGNsYWltIHRoZSB0aW1lbGluZSBm
b3IKPiBvdXJzZWx2ZXMuCj4gCj4gSG93ZXZlciwgaWYgd2UgcmVtb3ZlIHRoZSBvdXRlciBsb2Nr
LCB3ZSBuZWVkIHRvIGVuc3VyZSB0aGUgb3JkZXIgaXMKPiBpbnRhY3QgYmV0d2VlbiBub3Qgb25s
eSBtdWx0aXBsZSB0aHJlYWRzIHRyeWluZyB0byBpbnNlcnQgdGhlbXNlbHZlcwo+IGludG8gdGhl
IHRpbWVsaW5lLCBidXQgYWxzbyB3aXRoIHRoZSBpbnRlcnJ1cHQgaGFuZGxlciBjb21wbGV0aW5n
IHRoZQo+IHByZXZpb3VzIG9jY3VwYW50LiBXZSB1c2UgeGNoZygpIG9uIGluc2VydCBzbyB0aGF0
IHdlIGhhdmUgYW4gb3JkZXJlZAo+IHNlcXVlbmNlIG9mIGluc2VydGlvbnMgKGFuZCBlYWNoIGNh
bGxlciBrbm93cyB0aGUgcHJldmlvdXMgZmVuY2Ugb24KPiB3aGljaCB0byB3YWl0LCBwcmVzZXJ2
aW5nIHRoZSBjaGFpbiBvZiBhbGwgZmVuY2VzIGluIHRoZSB0aW1lbGluZSksIGJ1dAo+IHdlIHRo
ZW4gaGF2ZSB0byBjbXB4Y2hnKCkgaW4gdGhlIGludGVycnVwdCBoYW5kbGVyIHRvIGF2b2lkIG92
ZXJ3cml0aW5nCj4gdGhlIG5ldyBvY2N1cGFudC4gVGhlIG9ubHkgbmFzdHkgc2lkZS1lZmZlY3Qg
aXMgaGF2aW5nIHRvIHRlbXBvcmFyaWx5Cj4gc3RyaXAgb2ZmIHRoZSBSQ1UtYW5ub3RhdGlvbnMg
dG8gYXBwbHkgdGhlIGF0b21pYyBvcGVyYXRpb25zLCBvdGhlcndpc2UKPiB0aGUgcnVsZXMgYXJl
IG11Y2ggbW9yZSBjb252ZW50aW9uYWwhCj4gCj4gRml4ZXM6IDU4YjRjMWEwN2FkYSAoImRybS9p
OTE1OiBSZWR1Y2UgbmVzdGVkIHByZXBhcmVfcmVtb3RlX2NvbnRleHQoKSB0byBhIHRyeWxvY2si
KQo+IFNpZ25lZC1vZmYtYnk6IENocmlzIFdpbHNvbiA8Y2hyaXNAY2hyaXMtd2lsc29uLmNvLnVr
Pgo+IENjOiBUdnJ0a28gVXJzdWxpbiA8dHZydGtvLnVyc3VsaW5AaW50ZWwuY29tPgo+IC0tLQo+
ICAgZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfY29udGV4dC5jICAgICAgIHwgIDE5IC0t
LS0KPiAgIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2VuZ2luZV9wbS5jICAgICB8ICAg
MiArLQo+ICAgZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfdGltZWxpbmUuYyAgICAgIHwg
ICAyICstCj4gICAuLi4vZ3B1L2RybS9pOTE1L2d0L3NlbGZ0ZXN0cy9tb2NrX3RpbWVsaW5lLmMg
fCAgIDIgKy0KPiAgIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfYWN0aXZlLmMgICAgICAgICAg
ICB8IDEwNyArKysrKysrKysrLS0tLS0tLS0KPiAgIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVf
YWN0aXZlLmggICAgICAgICAgICB8ICAxNyArLS0KPiAgIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2k5
MTVfYWN0aXZlX3R5cGVzLmggICAgICB8ICAxNSAtLS0KPiAgIDcgZmlsZXMgY2hhbmdlZCwgNjIg
aW5zZXJ0aW9ucygrKSwgMTAyIGRlbGV0aW9ucygtKQo+IAo+IGRpZmYgLS1naXQgYS9kcml2ZXJz
L2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9jb250ZXh0LmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9n
dC9pbnRlbF9jb250ZXh0LmMKPiBpbmRleCBlZjdiYzQxZmZmZmEuLmI1ZTljMzVlYzZiOCAxMDA2
NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9jb250ZXh0LmMKPiArKysg
Yi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9jb250ZXh0LmMKPiBAQCAtMzEwLDI3ICsz
MTAsOCBAQCBpbnQgaW50ZWxfY29udGV4dF9wcmVwYXJlX3JlbW90ZV9yZXF1ZXN0KHN0cnVjdCBp
bnRlbF9jb250ZXh0ICpjZSwKPiAgIAlHRU1fQlVHX09OKHJxLT5od19jb250ZXh0ID09IGNlKTsK
PiAgIAo+ICAgCWlmIChyY3VfYWNjZXNzX3BvaW50ZXIocnEtPnRpbWVsaW5lKSAhPSB0bCkgeyAv
KiB0aW1lbGluZSBzaGFyaW5nISAqLwo+IC0JCS8qCj4gLQkJICogSWRlYWxseSwgd2UganVzdCB3
YW50IHRvIGluc2VydCBvdXIgZm9yZWlnbiBmZW5jZSBhcwo+IC0JCSAqIGEgYmFycmllciBpbnRv
IHRoZSByZW1vdmUgY29udGV4dCwgc3VjaCB0aGF0IHRoaXMgb3BlcmF0aW9uCj4gLQkJICogb2Nj
dXJzIGFmdGVyIGFsbCBjdXJyZW50IG9wZXJhdGlvbnMgaW4gdGhhdCBjb250ZXh0LCBhbmQKPiAt
CQkgKiBhbGwgZnV0dXJlIG9wZXJhdGlvbnMgbXVzdCBvY2N1ciBhZnRlciB0aGlzLgo+IC0JCSAq
Cj4gLQkJICogQ3VycmVudGx5LCB0aGUgdGltZWxpbmUtPmxhc3RfcmVxdWVzdCB0cmFja2luZyBp
cyBndWFyZGVkCj4gLQkJICogYnkgaXRzIG11dGV4IGFuZCBzbyB3ZSBtdXN0IG9idGFpbiB0aGF0
IHRvIGF0b21pY2FsbHkKPiAtCQkgKiBpbnNlcnQgb3VyIGJhcnJpZXIuIEhvd2V2ZXIsIHNpbmNl
IHdlIGFscmVhZHkgaG9sZCBvdXIKPiAtCQkgKiB0aW1lbGluZS0+bXV0ZXgsIHdlIG11c3QgYmUg
Y2FyZWZ1bCBhZ2FpbnN0IHBvdGVudGlhbAo+IC0JCSAqIGludmVyc2lvbiBpZiB3ZSBhcmUgdGhl
IGtlcm5lbF9jb250ZXh0IGFzIHRoZSByZW1vdGUgY29udGV4dAo+IC0JCSAqIHdpbGwgaXRzZWxm
IHBva2UgYXQgdGhlIGtlcm5lbF9jb250ZXh0IHdoZW4gaXQgbmVlZHMgdG8KPiAtCQkgKiB1bnBp
bi4gRXJnbywgaWYgYWxyZWFkeSBsb2NrZWQsIHdlIGRyb3AgYm90aCBsb2NrcyBhbmQKPiAtCQkg
KiB0cnkgYWdhaW4gKHRocm91Z2ggdGhlIG1hZ2ljIG9mIHVzZXJzcGFjZSByZXBlYXRpbmcgRUFH
QUlOKS4KPiAtCQkgKi8KPiAtCQlpZiAoIW11dGV4X3RyeWxvY2soJnRsLT5tdXRleCkpCj4gLQkJ
CXJldHVybiAtRUFHQUlOOwo+IC0KPiAgIAkJLyogUXVldWUgdGhpcyBzd2l0Y2ggYWZ0ZXIgY3Vy
cmVudCBhY3Rpdml0eSBieSB0aGlzIGNvbnRleHQuICovCj4gICAJCWVyciA9IGk5MTVfYWN0aXZl
X2ZlbmNlX3NldCgmdGwtPmxhc3RfcmVxdWVzdCwgcnEpOwo+IC0JCW11dGV4X3VubG9jaygmdGwt
Pm11dGV4KTsKPiAgIAkJaWYgKGVycikKPiAgIAkJCXJldHVybiBlcnI7Cj4gICAJfQo+IGRpZmYg
LS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9lbmdpbmVfcG0uYyBiL2RyaXZl
cnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2VuZ2luZV9wbS5jCj4gaW5kZXggMGUxYWQ0YTRiZDk3
Li4yMTE4M2FkODczNjggMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50
ZWxfZW5naW5lX3BtLmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9lbmdp
bmVfcG0uYwo+IEBAIC0xODMsNyArMTgzLDcgQEAgc3RhdGljIHZvaWQgY2FsbF9pZGxlX2JhcnJp
ZXJzKHN0cnVjdCBpbnRlbF9lbmdpbmVfY3MgKmVuZ2luZSkKPiAgIAkJCWNvbnRhaW5lcl9vZigo
c3RydWN0IGxpc3RfaGVhZCAqKW5vZGUsCj4gICAJCQkJICAgICB0eXBlb2YoKmNiKSwgbm9kZSk7
Cj4gICAKPiAtCQljYi0+ZnVuYyhOVUxMLCBjYik7Cj4gKwkJY2ItPmZ1bmMoRVJSX1BUUigtRUFH
QUlOKSwgY2IpOwo+ICAgCX0KPiAgIH0KPiAgIAo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9k
cm0vaTkxNS9ndC9pbnRlbF90aW1lbGluZS5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50
ZWxfdGltZWxpbmUuYwo+IGluZGV4IGMxZDI0MTk0NDRmOC4uMDM4ZTA1YTYzMzZjIDEwMDY0NAo+
IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX3RpbWVsaW5lLmMKPiArKysgYi9k
cml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF90aW1lbGluZS5jCj4gQEAgLTI1NCw3ICsyNTQs
NyBAQCBpbnQgaW50ZWxfdGltZWxpbmVfaW5pdChzdHJ1Y3QgaW50ZWxfdGltZWxpbmUgKnRpbWVs
aW5lLAo+ICAgCj4gICAJbXV0ZXhfaW5pdCgmdGltZWxpbmUtPm11dGV4KTsKPiAgIAo+IC0JSU5J
VF9BQ1RJVkVfRkVOQ0UoJnRpbWVsaW5lLT5sYXN0X3JlcXVlc3QsICZ0aW1lbGluZS0+bXV0ZXgp
Owo+ICsJSU5JVF9BQ1RJVkVfRkVOQ0UoJnRpbWVsaW5lLT5sYXN0X3JlcXVlc3QpOwo+ICAgCUlO
SVRfTElTVF9IRUFEKCZ0aW1lbGluZS0+cmVxdWVzdHMpOwo+ICAgCj4gICAJaTkxNV9zeW5jbWFw
X2luaXQoJnRpbWVsaW5lLT5zeW5jKTsKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5
MTUvZ3Qvc2VsZnRlc3RzL21vY2tfdGltZWxpbmUuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0
L3NlbGZ0ZXN0cy9tb2NrX3RpbWVsaW5lLmMKPiBpbmRleCAyYTc3YzA1MWYzNmEuLmFlYjFkMWY2
MTZlOCAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9zZWxmdGVzdHMvbW9j
a190aW1lbGluZS5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3Qvc2VsZnRlc3RzL21v
Y2tfdGltZWxpbmUuYwo+IEBAIC0xNSw3ICsxNSw3IEBAIHZvaWQgbW9ja190aW1lbGluZV9pbml0
KHN0cnVjdCBpbnRlbF90aW1lbGluZSAqdGltZWxpbmUsIHU2NCBjb250ZXh0KQo+ICAgCj4gICAJ
bXV0ZXhfaW5pdCgmdGltZWxpbmUtPm11dGV4KTsKPiAgIAo+IC0JSU5JVF9BQ1RJVkVfRkVOQ0Uo
JnRpbWVsaW5lLT5sYXN0X3JlcXVlc3QsICZ0aW1lbGluZS0+bXV0ZXgpOwo+ICsJSU5JVF9BQ1RJ
VkVfRkVOQ0UoJnRpbWVsaW5lLT5sYXN0X3JlcXVlc3QpOwo+ICAgCUlOSVRfTElTVF9IRUFEKCZ0
aW1lbGluZS0+cmVxdWVzdHMpOwo+ICAgCj4gICAJaTkxNV9zeW5jbWFwX2luaXQoJnRpbWVsaW5l
LT5zeW5jKTsKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9hY3RpdmUu
YyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfYWN0aXZlLmMKPiBpbmRleCBkY2ExNWFjZTg4
ZjYuLmU1ODA5NzI3YWFiMiAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1
X2FjdGl2ZS5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9hY3RpdmUuYwo+IEBA
IC0xODYsMTggKzE4NiwzMyBAQCBhY3RpdmVfcmV0aXJlKHN0cnVjdCBpOTE1X2FjdGl2ZSAqcmVm
KQo+ICAgCV9fYWN0aXZlX3JldGlyZShyZWYpOwo+ICAgfQo+ICAgCj4gK3N0YXRpYyBpbmxpbmUg
c3RydWN0IGRtYV9mZW5jZSAqKgo+ICtfX2FjdGl2ZV9mZW5jZV9zbG90KHN0cnVjdCBpOTE1X2Fj
dGl2ZV9mZW5jZSAqYWN0aXZlKQo+ICt7Cj4gKwlyZXR1cm4gKHN0cnVjdCBkbWFfZmVuY2UgKiog
X19mb3JjZSkmYWN0aXZlLT5mZW5jZTsKPiArfQo+ICsKPiArc3RhdGljIGlubGluZSBib29sCj4g
K2FjdGl2ZV9mZW5jZV9jYihzdHJ1Y3QgZG1hX2ZlbmNlICpmZW5jZSwgc3RydWN0IGRtYV9mZW5j
ZV9jYiAqY2IpCj4gK3sKPiArCXN0cnVjdCBpOTE1X2FjdGl2ZV9mZW5jZSAqYWN0aXZlID0KPiAr
CQljb250YWluZXJfb2YoY2IsIHR5cGVvZigqYWN0aXZlKSwgY2IpOwo+ICsKPiArCXJldHVybiBj
bXB4Y2hnKF9fYWN0aXZlX2ZlbmNlX3Nsb3QoYWN0aXZlKSwgZmVuY2UsIE5VTEwpID09IGZlbmNl
Owo+ICt9Cj4gKwo+ICAgc3RhdGljIHZvaWQKPiAgIG5vZGVfcmV0aXJlKHN0cnVjdCBkbWFfZmVu
Y2UgKmZlbmNlLCBzdHJ1Y3QgZG1hX2ZlbmNlX2NiICpjYikKPiAgIHsKPiAtCWk5MTVfYWN0aXZl
X2ZlbmNlX2NiKGZlbmNlLCBjYik7Cj4gLQlhY3RpdmVfcmV0aXJlKGNvbnRhaW5lcl9vZihjYiwg
c3RydWN0IGFjdGl2ZV9ub2RlLCBiYXNlLmNiKS0+cmVmKTsKPiArCWlmIChhY3RpdmVfZmVuY2Vf
Y2IoZmVuY2UsIGNiKSkKPiArCQlhY3RpdmVfcmV0aXJlKGNvbnRhaW5lcl9vZihjYiwgc3RydWN0
IGFjdGl2ZV9ub2RlLCBiYXNlLmNiKS0+cmVmKTsKPiAgIH0KPiAgIAo+ICAgc3RhdGljIHZvaWQK
PiAgIGV4Y2xfcmV0aXJlKHN0cnVjdCBkbWFfZmVuY2UgKmZlbmNlLCBzdHJ1Y3QgZG1hX2ZlbmNl
X2NiICpjYikKPiAgIHsKPiAtCWk5MTVfYWN0aXZlX2ZlbmNlX2NiKGZlbmNlLCBjYik7Cj4gLQlh
Y3RpdmVfcmV0aXJlKGNvbnRhaW5lcl9vZihjYiwgc3RydWN0IGk5MTVfYWN0aXZlLCBleGNsLmNi
KSk7Cj4gKwlpZiAoYWN0aXZlX2ZlbmNlX2NiKGZlbmNlLCBjYikpCj4gKwkJYWN0aXZlX3JldGly
ZShjb250YWluZXJfb2YoY2IsIHN0cnVjdCBpOTE1X2FjdGl2ZSwgZXhjbC5jYikpOwo+ICAgfQo+
ICAgCj4gICBzdGF0aWMgc3RydWN0IGk5MTVfYWN0aXZlX2ZlbmNlICoKPiBAQCAtMjQ0LDcgKzI1
OSw3IEBAIGFjdGl2ZV9pbnN0YW5jZShzdHJ1Y3QgaTkxNV9hY3RpdmUgKnJlZiwgc3RydWN0IGlu
dGVsX3RpbWVsaW5lICp0bCkKPiAgIAl9Cj4gICAKPiAgIAlub2RlID0gcHJlYWxsb2M7Cj4gLQlf
X2k5MTVfYWN0aXZlX2ZlbmNlX2luaXQoJm5vZGUtPmJhc2UsICZ0bC0+bXV0ZXgsIE5VTEwsIG5v
ZGVfcmV0aXJlKTsKPiArCV9faTkxNV9hY3RpdmVfZmVuY2VfaW5pdCgmbm9kZS0+YmFzZSwgTlVM
TCwgbm9kZV9yZXRpcmUpOwo+ICAgCW5vZGUtPnJlZiA9IHJlZjsKPiAgIAlub2RlLT50aW1lbGlu
ZSA9IGlkeDsKPiAgIAo+IEBAIC0yODEsNyArMjk2LDcgQEAgdm9pZCBfX2k5MTVfYWN0aXZlX2lu
aXQoc3RydWN0IGk5MTVfYWN0aXZlICpyZWYsCj4gICAJaW5pdF9sbGlzdF9oZWFkKCZyZWYtPnBy
ZWFsbG9jYXRlZF9iYXJyaWVycyk7Cj4gICAJYXRvbWljX3NldCgmcmVmLT5jb3VudCwgMCk7Cj4g
ICAJX19tdXRleF9pbml0KCZyZWYtPm11dGV4LCAiaTkxNV9hY3RpdmUiLCBrZXkpOwo+IC0JX19p
OTE1X2FjdGl2ZV9mZW5jZV9pbml0KCZyZWYtPmV4Y2wsICZyZWYtPm11dGV4LCBOVUxMLCBleGNs
X3JldGlyZSk7Cj4gKwlfX2k5MTVfYWN0aXZlX2ZlbmNlX2luaXQoJnJlZi0+ZXhjbCwgTlVMTCwg
ZXhjbF9yZXRpcmUpOwo+ICAgCUlOSVRfV09SSygmcmVmLT53b3JrLCBhY3RpdmVfd29yayk7Cj4g
ICB9Cj4gICAKPiBAQCAtMzc2LDE1ICszOTEsOCBAQCB2b2lkIGk5MTVfYWN0aXZlX3NldF9leGNs
dXNpdmUoc3RydWN0IGk5MTVfYWN0aXZlICpyZWYsIHN0cnVjdCBkbWFfZmVuY2UgKmYpCj4gICAJ
LyogV2UgZXhwZWN0IHRoZSBjYWxsZXIgdG8gbWFuYWdlIHRoZSBleGNsdXNpdmUgdGltZWxpbmUg
b3JkZXJpbmcgKi8KPiAgIAlHRU1fQlVHX09OKGk5MTVfYWN0aXZlX2lzX2lkbGUocmVmKSk7Cj4g
ICAKPiAtCS8qCj4gLQkgKiBBcyB3ZSBkb24ndCBrbm93IHdoaWNoIG11dGV4IHRoZSBjYWxsZXIg
aXMgdXNpbmcsIHdlIHRvbGQgYSBzbWFsbAo+IC0JICogbGllIHRvIHRoZSBkZWJ1ZyBjb2RlIHRo
YXQgaXQgaXMgdXNpbmcgdGhlIGk5MTVfYWN0aXZlLm11dGV4Owo+IC0JICogYW5kIG5vdyB3ZSBt
dXN0IHN0aWNrIHRvIHRoYXQgbGllLgo+IC0JICovCj4gLQltdXRleF9hY3F1aXJlKCZyZWYtPm11
dGV4LmRlcF9tYXAsIDAsIDAsIF9USElTX0lQXyk7Cj4gICAJaWYgKCFfX2k5MTVfYWN0aXZlX2Zl
bmNlX3NldCgmcmVmLT5leGNsLCBmKSkKPiAgIAkJYXRvbWljX2luYygmcmVmLT5jb3VudCk7Cj4g
LQltdXRleF9yZWxlYXNlKCZyZWYtPm11dGV4LmRlcF9tYXAsIDAsIF9USElTX0lQXyk7Cj4gICB9
Cj4gICAKPiAgIGJvb2wgaTkxNV9hY3RpdmVfYWNxdWlyZV9pZl9idXN5KHN0cnVjdCBpOTE1X2Fj
dGl2ZSAqcmVmKQo+IEBAIC02MTUsMTAgKzYyMyw2IEBAIGludCBpOTE1X2FjdGl2ZV9hY3F1aXJl
X3ByZWFsbG9jYXRlX2JhcnJpZXIoc3RydWN0IGk5MTVfYWN0aXZlICpyZWYsCj4gICAJCQkJZ290
byB1bndpbmQ7Cj4gICAJCQl9Cj4gICAKPiAtI2lmIElTX0VOQUJMRUQoQ09ORklHX0RSTV9JOTE1
X0RFQlVHX0dFTSkKPiAtCQkJbm9kZS0+YmFzZS5sb2NrID0KPiAtCQkJCSZlbmdpbmUtPmtlcm5l
bF9jb250ZXh0LT50aW1lbGluZS0+bXV0ZXg7Cj4gLSNlbmRpZgo+ICAgCQkJUkNVX0lOSVRfUE9J
TlRFUihub2RlLT5iYXNlLmZlbmNlLCBOVUxMKTsKPiAgIAkJCW5vZGUtPmJhc2UuY2IuZnVuYyA9
IG5vZGVfcmV0aXJlOwo+ICAgCQkJbm9kZS0+dGltZWxpbmUgPSBpZHg7Cj4gQEAgLTYzOSw2ICs2
NDMsNyBAQCBpbnQgaTkxNV9hY3RpdmVfYWNxdWlyZV9wcmVhbGxvY2F0ZV9iYXJyaWVyKHN0cnVj
dCBpOTE1X2FjdGl2ZSAqcmVmLAo+ICAgCQkJbm9kZS0+YmFzZS5jYi5ub2RlLnByZXYgPSAodm9p
ZCAqKWVuZ2luZTsKPiAgIAkJCWF0b21pY19pbmMoJnJlZi0+Y291bnQpOwo+ICAgCQl9Cj4gKwkJ
R0VNX0JVR19PTihyY3VfYWNjZXNzX3BvaW50ZXIobm9kZS0+YmFzZS5mZW5jZSkgIT0gRVJSX1BU
UigtRUFHQUlOKSk7Cj4gICAKPiAgIAkJR0VNX0JVR19PTihiYXJyaWVyX3RvX2VuZ2luZShub2Rl
KSAhPSBlbmdpbmUpOwo+ICAgCQlsbGlzdF9hZGQoYmFycmllcl90b19sbChub2RlKSwgJnJlZi0+
cHJlYWxsb2NhdGVkX2JhcnJpZXJzKTsKPiBAQCAtNzAyLDYgKzcwNywxMSBAQCB2b2lkIGk5MTVf
YWN0aXZlX2FjcXVpcmVfYmFycmllcihzdHJ1Y3QgaTkxNV9hY3RpdmUgKnJlZikKPiAgIAl9Cj4g
ICB9Cj4gICAKPiArc3RhdGljIHN0cnVjdCBkbWFfZmVuY2UgKipsbF90b19mZW5jZV9zbG90KHN0
cnVjdCBsbGlzdF9ub2RlICpub2RlKQo+ICt7Cj4gKwlyZXR1cm4gX19hY3RpdmVfZmVuY2Vfc2xv
dCgmYmFycmllcl9mcm9tX2xsKG5vZGUpLT5iYXNlKTsKPiArfQo+ICsKPiAgIHZvaWQgaTkxNV9y
ZXF1ZXN0X2FkZF9hY3RpdmVfYmFycmllcnMoc3RydWN0IGk5MTVfcmVxdWVzdCAqcnEpCj4gICB7
Cj4gICAJc3RydWN0IGludGVsX2VuZ2luZV9jcyAqZW5naW5lID0gcnEtPmVuZ2luZTsKPiBAQCAt
NzIxLDE5ICs3MzEsMTMgQEAgdm9pZCBpOTE1X3JlcXVlc3RfYWRkX2FjdGl2ZV9iYXJyaWVycyhz
dHJ1Y3QgaTkxNV9yZXF1ZXN0ICpycSkKPiAgIAkgKi8KPiAgIAlzcGluX2xvY2tfaXJxc2F2ZSgm
cnEtPmxvY2ssIGZsYWdzKTsKPiAgIAlsbGlzdF9mb3JfZWFjaF9zYWZlKG5vZGUsIG5leHQsIG5v
ZGUpIHsKPiAtCQlSQ1VfSU5JVF9QT0lOVEVSKGJhcnJpZXJfZnJvbV9sbChub2RlKS0+YmFzZS5m
ZW5jZSwgJnJxLT5mZW5jZSk7Cj4gLQkJc21wX3dtYigpOyAvKiBzZXJpYWxpc2Ugd2l0aCByZXVz
ZV9pZGxlX2JhcnJpZXIgKi8KPiArCQkvKiBzZXJpYWxpc2Ugd2l0aCByZXVzZV9pZGxlX2JhcnJp
ZXIgKi8KPiArCQlzbXBfc3RvcmVfbWIoKmxsX3RvX2ZlbmNlX3Nsb3Qobm9kZSksICZycS0+ZmVu
Y2UpOwo+ICAgCQlsaXN0X2FkZF90YWlsKChzdHJ1Y3QgbGlzdF9oZWFkICopbm9kZSwgJnJxLT5m
ZW5jZS5jYl9saXN0KTsKPiAgIAl9Cj4gICAJc3Bpbl91bmxvY2tfaXJxcmVzdG9yZSgmcnEtPmxv
Y2ssIGZsYWdzKTsKPiAgIH0KPiAgIAo+IC0jaWYgSVNfRU5BQkxFRChDT05GSUdfRFJNX0k5MTVf
REVCVUdfR0VNKQo+IC0jZGVmaW5lIGFjdGl2ZV9pc19oZWxkKGFjdGl2ZSkgbG9ja2RlcF9pc19o
ZWxkKChhY3RpdmUpLT5sb2NrKQo+IC0jZWxzZQo+IC0jZGVmaW5lIGFjdGl2ZV9pc19oZWxkKGFj
dGl2ZSkgdHJ1ZQo+IC0jZW5kaWYKPiAtCj4gICAvKgo+ICAgICogX19pOTE1X2FjdGl2ZV9mZW5j
ZV9zZXQ6IFVwZGF0ZSB0aGUgbGFzdCBhY3RpdmUgZmVuY2UgYWxvbmcgaXRzIHRpbWVsaW5lCj4g
ICAgKiBAYWN0aXZlOiB0aGUgYWN0aXZlIHRyYWNrZXIKPiBAQCAtNzQ0LDcgKzc0OCw3IEBAIHZv
aWQgaTkxNV9yZXF1ZXN0X2FkZF9hY3RpdmVfYmFycmllcnMoc3RydWN0IGk5MTVfcmVxdWVzdCAq
cnEpCj4gICAgKiBmZW5jZSBvbnRvIHRoaXMgb25lLiBSZXR1cm5zIHRoZSBwcmV2aW91cyBmZW5j
ZSAoaWYgbm90IGFscmVhZHkgY29tcGxldGVkKSwKPiAgICAqIHdoaWNoIHRoZSBjYWxsZXIgbXVz
dCBlbnN1cmUgaXMgZXhlY3V0ZWQgYmVmb3JlIHRoZSBuZXcgZmVuY2UuIFRvIGVuc3VyZQo+ICAg
ICogdGhhdCB0aGUgb3JkZXIgb2YgZmVuY2VzIHdpdGhpbiB0aGUgdGltZWxpbmUgb2YgdGhlIGk5
MTVfYWN0aXZlX2ZlbmNlIGlzCj4gLSAqIG1haW50YWluZWQsIGl0IG11c3QgYmUgbG9ja2VkIGJ5
IHRoZSBjYWxsZXIuCj4gKyAqIHVuZGVyc3Rvb2QsIGl0IHNob3VsZCBiZSBsb2NrZWQgYnkgdGhl
IGNhbGxlci4KPiAgICAqLwo+ICAgc3RydWN0IGRtYV9mZW5jZSAqCj4gICBfX2k5MTVfYWN0aXZl
X2ZlbmNlX3NldChzdHJ1Y3QgaTkxNV9hY3RpdmVfZmVuY2UgKmFjdGl2ZSwKPiBAQCAtNzUzLDM0
ICs3NTcsNDEgQEAgX19pOTE1X2FjdGl2ZV9mZW5jZV9zZXQoc3RydWN0IGk5MTVfYWN0aXZlX2Zl
bmNlICphY3RpdmUsCj4gICAJc3RydWN0IGRtYV9mZW5jZSAqcHJldjsKPiAgIAl1bnNpZ25lZCBs
b25nIGZsYWdzOwo+ICAgCj4gLQkvKiBOQjogbXVzdCBiZSBzZXJpYWxpc2VkIGJ5IGFuIG91dGVy
IHRpbWVsaW5lIG11dGV4IChhY3RpdmUtPmxvY2spICovCj4gLQlzcGluX2xvY2tfaXJxc2F2ZShm
ZW5jZS0+bG9jaywgZmxhZ3MpOwo+ICsJaWYgKGZlbmNlID09IHJjdV9hY2Nlc3NfcG9pbnRlcihh
Y3RpdmUtPmZlbmNlKSkKPiArCQlyZXR1cm4gZmVuY2U7Cj4gKwo+ICAgCUdFTV9CVUdfT04odGVz
dF9iaXQoRE1BX0ZFTkNFX0ZMQUdfU0lHTkFMRURfQklULCAmZmVuY2UtPmZsYWdzKSk7Cj4gICAK
PiAtCXByZXYgPSByY3VfZGVyZWZlcmVuY2VfcHJvdGVjdGVkKGFjdGl2ZS0+ZmVuY2UsIGFjdGl2
ZV9pc19oZWxkKGFjdGl2ZSkpOwo+ICsJLyoKPiArCSAqIENvbnNpZGVyIHRoYXQgd2UgaGF2ZSB0
d28gdGhyZWFkcyBhcnJpdmluZyAoQSBhbmQgQiksIHdpdGgKPiArCSAqIEMgYWxyZWFkeSByZXNp
ZGVudCBhcyB0aGUgYWN0aXZlLT5mZW5jZS4KPiArCSAqCj4gKwkgKiBBIGRvZXMgdGhlIHhjaGcg
Zmlyc3QsIGFuZCBzbyBpdCBzZWVzIEMgb3IgTlVMTCBkZXBlbmRpbmcKPiArCSAqIG9uIHRoZSB0
aW1pbmcgb2YgdGhlIGludGVycnVwdCBoYW5kbGVyLiBJZiBpdCBpcyBOVUxMLCB0aGUKPiArCSAq
IHByZXZpb3VzIGZlbmNlIG11c3QgaGF2ZSBiZWVuIHNpZ25hbGVkIGFuZCB3ZSBrbm93IHRoYXQK
PiArCSAqIHdlIGFyZSBmaXJzdCBvbiB0aGUgdGltZWxpbmUuIElmIGl0IGlzIHN0aWxsIHByZXNl
bnQsCj4gKwkgKiB3ZSBhY3F1aXJlIHRoZSBsb2NrIG9uIHRoYXQgZmVuY2UgYW5kIHNlcmlhbGlz
ZSB3aXRoIHRoZSBpbnRlcnJ1cHQKPiArCSAqIGhhbmRsZXIsIGluIHRoZSBwcm9jZXNzIHJlbW92
aW5nIGl0IGZyb20gYW55IGZ1dHVyZSBpbnRlcnJ1cHQKPiArCSAqIGNhbGxiYWNrLiBBIHdpbGwg
dGhlbiB3YWl0IG9uIEMgYmVmb3JlIGV4ZWN1dGluZyAoaWYgcHJlc2VudCkuCj4gKwkgKgo+ICsJ
ICogQXMgQiBpcyBzZWNvbmQsIGl0IHNlZXMgQSBhcyB0aGUgcHJldmlvdXMgZmVuY2UgYW5kIHNv
IHdhaXRzIGZvcgo+ICsJICogaXQgdG8gY29tcGxldGUgaXRzIHRyYW5zaXRpb24gYW5kIHRha2Vz
IG92ZXIgdGhlIG9jY3VwYW5jeSBmb3IKPiArCSAqIGl0c2VsZiAtLSByZW1lbWJlcmluZyB0aGF0
IGl0IG5lZWRzIHRvIHdhaXQgb24gQSBiZWZvcmUgZXhlY3V0aW5nLgo+ICsJICoKPiArCSAqIE5v
dGUgdGhlIHN0cm9uZyBvcmRlcmluZyBvZiB0aGUgdGltZWxpbmUgYWxzbyBwcm92aWRlcyBjb25z
aXN0ZW50Cj4gKwkgKiBuZXN0aW5nIHJ1bGVzIGZvciB0aGUgZmVuY2UtPmxvY2s7IHRoZSBvdXRl
ciBsb2NrIGlzIGFsd2F5cyB0aGUKPiArCSAqIG9sZGVyIGxvY2suCj4gKwkgKi8KPiArCXNwaW5f
bG9ja19pcnFzYXZlKGZlbmNlLT5sb2NrLCBmbGFncyk7Cj4gKwlwcmV2ID0geGNoZyhfX2FjdGl2
ZV9mZW5jZV9zbG90KGFjdGl2ZSksIGZlbmNlKTsKPiAgIAlpZiAocHJldikgewo+ICAgCQlHRU1f
QlVHX09OKHByZXYgPT0gZmVuY2UpOwo+ICAgCQlzcGluX2xvY2tfbmVzdGVkKHByZXYtPmxvY2ss
IFNJTkdMRV9ERVBUSF9ORVNUSU5HKTsKPiAgIAkJX19saXN0X2RlbF9lbnRyeSgmYWN0aXZlLT5j
Yi5ub2RlKTsKPiAgIAkJc3Bpbl91bmxvY2socHJldi0+bG9jayk7IC8qIHNlcmlhbGlzZSB3aXRo
IHByZXYtPmNiX2xpc3QgKi8KPiAtCj4gLQkJLyoKPiAtCQkgKiBhY3RpdmUtPmZlbmNlIGlzIHJl
c2V0IGJ5IHRoZSBjYWxsYmFjayBmcm9tIGluc2lkZQo+IC0JCSAqIGludGVycnVwdCBjb250ZXh0
LiBXZSBuZWVkIHRvIHNlcmlhbGlzZSBvdXIgbGlzdAo+IC0JCSAqIG1hbmlwdWxhdGlvbiB3aXRo
IHRoZSBmZW5jZS0+bG9jayB0byBwcmV2ZW50IHRoZSBwcmV2Cj4gLQkJICogYmVpbmcgbG9zdCBp
bnNpZGUgYW4gaW50ZXJydXB0IChpdCBjYW4ndCBiZSByZXBsYWNlZCBhcwo+IC0JCSAqIG5vIG90
aGVyIGNhbGxlciBpcyBhbGxvd2VkIHRvIGVudGVyIF9faTkxNV9hY3RpdmVfZmVuY2Vfc2V0Cj4g
LQkJICogYXMgd2UgaG9sZCB0aGUgdGltZWxpbmUgbG9jaykuIEFmdGVyIHNlcmlhbGlzaW5nIHdp
dGgKPiAtCQkgKiB0aGUgY2FsbGJhY2ssIHdlIG5lZWQgdG8gZG91YmxlIGNoZWNrIHdoaWNoIHJh
biBmaXJzdCwKPiAtCQkgKiBvdXIgbGlzdF9kZWwoKSBbZGVjb3VwbGluZyBwcmV2IGZyb20gdGhl
IGNhbGxiYWNrXSBvcgo+IC0JCSAqIHRoZSBjYWxsYmFjay4uLgo+IC0JCSAqLwo+IC0JCXByZXYg
PSByY3VfYWNjZXNzX3BvaW50ZXIoYWN0aXZlLT5mZW5jZSk7Cj4gICAJfQo+IC0KPiAtCXJjdV9h
c3NpZ25fcG9pbnRlcihhY3RpdmUtPmZlbmNlLCBmZW5jZSk7Cj4gKwlHRU1fQlVHX09OKHJjdV9h
Y2Nlc3NfcG9pbnRlcihhY3RpdmUtPmZlbmNlKSAhPSBmZW5jZSk7Cj4gICAJbGlzdF9hZGRfdGFp
bCgmYWN0aXZlLT5jYi5ub2RlLCAmZmVuY2UtPmNiX2xpc3QpOwo+IC0KPiAgIAlzcGluX3VubG9j
a19pcnFyZXN0b3JlKGZlbmNlLT5sb2NrLCBmbGFncyk7Cj4gICAKPiAgIAlyZXR1cm4gcHJldjsK
PiBAQCAtNzkyLDEwICs4MDMsNiBAQCBpbnQgaTkxNV9hY3RpdmVfZmVuY2Vfc2V0KHN0cnVjdCBp
OTE1X2FjdGl2ZV9mZW5jZSAqYWN0aXZlLAo+ICAgCXN0cnVjdCBkbWFfZmVuY2UgKmZlbmNlOwo+
ICAgCWludCBlcnIgPSAwOwo+ICAgCj4gLSNpZiBJU19FTkFCTEVEKENPTkZJR19EUk1fSTkxNV9E
RUJVR19HRU0pCj4gLQlsb2NrZGVwX2Fzc2VydF9oZWxkKGFjdGl2ZS0+bG9jayk7Cj4gLSNlbmRp
Zgo+IC0KPiAgIAkvKiBNdXN0IG1haW50YWluIHRpbWVsaW5lIG9yZGVyaW5nIHdydCBwcmV2aW91
cyBhY3RpdmUgcmVxdWVzdHMgKi8KPiAgIAlyY3VfcmVhZF9sb2NrKCk7Cj4gICAJZmVuY2UgPSBf
X2k5MTVfYWN0aXZlX2ZlbmNlX3NldChhY3RpdmUsICZycS0+ZmVuY2UpOwo+IEBAIC04MTIsNyAr
ODE5LDcgQEAgaW50IGk5MTVfYWN0aXZlX2ZlbmNlX3NldChzdHJ1Y3QgaTkxNV9hY3RpdmVfZmVu
Y2UgKmFjdGl2ZSwKPiAgIAo+ICAgdm9pZCBpOTE1X2FjdGl2ZV9ub29wKHN0cnVjdCBkbWFfZmVu
Y2UgKmZlbmNlLCBzdHJ1Y3QgZG1hX2ZlbmNlX2NiICpjYikKPiAgIHsKPiAtCWk5MTVfYWN0aXZl
X2ZlbmNlX2NiKGZlbmNlLCBjYik7Cj4gKwlhY3RpdmVfZmVuY2VfY2IoZmVuY2UsIGNiKTsKPiAg
IH0KPiAgIAo+ICAgI2lmIElTX0VOQUJMRUQoQ09ORklHX0RSTV9JOTE1X1NFTEZURVNUKQo+IGRp
ZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2FjdGl2ZS5oIGIvZHJpdmVycy9n
cHUvZHJtL2k5MTUvaTkxNV9hY3RpdmUuaAo+IGluZGV4IDVkZDYyMzIzYjkyYS4uMzIwOGNjMmU4
YzFhIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfYWN0aXZlLmgKPiAr
KysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2FjdGl2ZS5oCj4gQEAgLTYxLDE5ICs2MSwx
NSBAQCB2b2lkIGk5MTVfYWN0aXZlX25vb3Aoc3RydWN0IGRtYV9mZW5jZSAqZmVuY2UsIHN0cnVj
dCBkbWFfZmVuY2VfY2IgKmNiKTsKPiAgICAqLwo+ICAgc3RhdGljIGlubGluZSB2b2lkCj4gICBf
X2k5MTVfYWN0aXZlX2ZlbmNlX2luaXQoc3RydWN0IGk5MTVfYWN0aXZlX2ZlbmNlICphY3RpdmUs
Cj4gLQkJCSBzdHJ1Y3QgbXV0ZXggKmxvY2ssCj4gICAJCQkgdm9pZCAqZmVuY2UsCj4gICAJCQkg
ZG1hX2ZlbmNlX2Z1bmNfdCBmbikKPiAgIHsKPiAgIAlSQ1VfSU5JVF9QT0lOVEVSKGFjdGl2ZS0+
ZmVuY2UsIGZlbmNlKTsKPiAgIAlhY3RpdmUtPmNiLmZ1bmMgPSBmbiA/OiBpOTE1X2FjdGl2ZV9u
b29wOwo+IC0jaWYgSVNfRU5BQkxFRChDT05GSUdfRFJNX0k5MTVfREVCVUdfR0VNKQo+IC0JYWN0
aXZlLT5sb2NrID0gbG9jazsKPiAtI2VuZGlmCj4gICB9Cj4gICAKPiAtI2RlZmluZSBJTklUX0FD
VElWRV9GRU5DRShBLCBMT0NLKSBcCj4gLQlfX2k5MTVfYWN0aXZlX2ZlbmNlX2luaXQoKEEpLCAo
TE9DSyksIE5VTEwsIE5VTEwpCj4gKyNkZWZpbmUgSU5JVF9BQ1RJVkVfRkVOQ0UoQSkgXAo+ICsJ
X19pOTE1X2FjdGl2ZV9mZW5jZV9pbml0KChBKSwgTlVMTCwgTlVMTCkKPiAgIAo+ICAgc3RydWN0
IGRtYV9mZW5jZSAqCj4gICBfX2k5MTVfYWN0aXZlX2ZlbmNlX3NldChzdHJ1Y3QgaTkxNV9hY3Rp
dmVfZmVuY2UgKmFjdGl2ZSwKPiBAQCAtMTI3LDE1ICsxMjMsNiBAQCBpOTE1X2FjdGl2ZV9mZW5j
ZV9pc3NldChjb25zdCBzdHJ1Y3QgaTkxNV9hY3RpdmVfZmVuY2UgKmFjdGl2ZSkKPiAgIAlyZXR1
cm4gcmN1X2FjY2Vzc19wb2ludGVyKGFjdGl2ZS0+ZmVuY2UpOwo+ICAgfQo+ICAgCj4gLXN0YXRp
YyBpbmxpbmUgdm9pZAo+IC1pOTE1X2FjdGl2ZV9mZW5jZV9jYihzdHJ1Y3QgZG1hX2ZlbmNlICpm
ZW5jZSwgc3RydWN0IGRtYV9mZW5jZV9jYiAqY2IpCj4gLXsKPiAtCXN0cnVjdCBpOTE1X2FjdGl2
ZV9mZW5jZSAqYWN0aXZlID0KPiAtCQljb250YWluZXJfb2YoY2IsIHR5cGVvZigqYWN0aXZlKSwg
Y2IpOwo+IC0KPiAtCVJDVV9JTklUX1BPSU5URVIoYWN0aXZlLT5mZW5jZSwgTlVMTCk7Cj4gLX0K
PiAtCj4gICAvKgo+ICAgICogR1BVIGFjdGl2aXR5IHRyYWNraW5nCj4gICAgKgo+IGRpZmYgLS1n
aXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2FjdGl2ZV90eXBlcy5oIGIvZHJpdmVycy9n
cHUvZHJtL2k5MTUvaTkxNV9hY3RpdmVfdHlwZXMuaAo+IGluZGV4IDk2YWVkMGVlNzAwYS4uNjM2
MGMzZTRiNzY1IDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfYWN0aXZl
X3R5cGVzLmgKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2FjdGl2ZV90eXBlcy5o
Cj4gQEAgLTIwLDIxICsyMCw2IEBACj4gICBzdHJ1Y3QgaTkxNV9hY3RpdmVfZmVuY2Ugewo+ICAg
CXN0cnVjdCBkbWFfZmVuY2UgX19yY3UgKmZlbmNlOwo+ICAgCXN0cnVjdCBkbWFfZmVuY2VfY2Ig
Y2I7Cj4gLSNpZiBJU19FTkFCTEVEKENPTkZJR19EUk1fSTkxNV9ERUJVR19HRU0pCj4gLQkvKgo+
IC0JICogSW5jb3Jwb3JlYWwhCj4gLQkgKgo+IC0JICogVXBkYXRlcyB0byB0aGUgaTkxNV9hY3Rp
dmVfcmVxdWVzdCBtdXN0IGJlIHNlcmlhbGlzZWQgdW5kZXIgYSBsb2NrCj4gLQkgKiB0byBlbnN1
cmUgdGhhdCB0aGUgdGltZWxpbmUgaXMgb3JkZXJlZC4gTm9ybWFsbHksIHRoaXMgaXMgdGhlCj4g
LQkgKiB0aW1lbGluZS0+bXV0ZXgsIGJ1dCBhbm90aGVyIG11dGV4IG1heSBiZSB1c2VkIHNvIGxv
bmcgYXMgaXQgaXMKPiAtCSAqIGRvbmUgc28gY29uc2lzdGVudGx5Lgo+IC0JICoKPiAtCSAqIEZv
ciBsb2NrZGVwIHRyYWNraW5nIG9mIHRoZSBhYm92ZSwgd2Ugc3RvcmUgdGhlIGxvY2sgd2UgaW50
ZW5kCj4gLQkgKiB0byBhbHdheXMgdXNlIGZvciB1cGRhdGVzIG9mIHRoaXMgaTkxNV9hY3RpdmVf
cmVxdWVzdCBkdXJpbmcKPiAtCSAqIGNvbnN0cnVjdGlvbiBhbmQgYXNzZXJ0IHRoYXQgaXMgaGVs
ZCBvbiBldmVyeSB1cGRhdGUuCj4gLQkgKi8KPiAtCXN0cnVjdCBtdXRleCAqbG9jazsKPiAtI2Vu
ZGlmCj4gICB9Owo+ICAgCj4gICBzdHJ1Y3QgYWN0aXZlX25vZGU7Cj4gCgpJIHRoaW5rIEkgdW5k
ZXJzdGFuZCBpdC4geGNoZyBndWFyYW50ZWVzIG9ubHkgb25lIHRocmVhZC9pcnEgY2FuIGNvbnN1
bWUgCmFjdGl2ZS0+ZmVuY2UgYW5kIGFmdGVyIHRoYXQgaXRzIGVhc3kuCgpSZXZpZXdlZC1ieTog
VHZydGtvIFVyc3VsaW4gPHR2cnRrby51cnN1bGluQGludGVsLmNvbT4KClJlZ2FyZHMsCgpUdnJ0
a28KX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KSW50ZWwt
Z2Z4IG1haWxpbmcgbGlzdApJbnRlbC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8v
bGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vaW50ZWwtZ2Z4

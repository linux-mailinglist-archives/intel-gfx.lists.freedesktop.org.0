Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 5EA9F184CD8
	for <lists+intel-gfx@lfdr.de>; Fri, 13 Mar 2020 17:49:02 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 918CF6EC2A;
	Fri, 13 Mar 2020 16:49:00 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga17.intel.com (mga17.intel.com [192.55.52.151])
 by gabe.freedesktop.org (Postfix) with ESMTPS id ECC8E6EC2A
 for <intel-gfx@lists.freedesktop.org>; Fri, 13 Mar 2020 16:48:59 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from fmsmga007.fm.intel.com ([10.253.24.52])
 by fmsmga107.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 13 Mar 2020 09:48:59 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.70,549,1574150400"; d="scan'208";a="235374106"
Received: from stinkbox.fi.intel.com (HELO stinkbox) ([10.237.72.174])
 by fmsmga007.fm.intel.com with SMTP; 13 Mar 2020 09:48:57 -0700
Received: by stinkbox (sSMTP sendmail emulation);
 Fri, 13 Mar 2020 18:48:56 +0200
From: Ville Syrjala <ville.syrjala@linux.intel.com>
To: intel-gfx@lists.freedesktop.org
Date: Fri, 13 Mar 2020 18:48:26 +0200
Message-Id: <20200313164831.5980-9-ville.syrjala@linux.intel.com>
X-Mailer: git-send-email 2.24.1
In-Reply-To: <20200313164831.5980-1-ville.syrjala@linux.intel.com>
References: <20200313164831.5980-1-ville.syrjala@linux.intel.com>
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH 08/13] drm/i915: Implement port sync for SKL+
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

RnJvbTogVmlsbGUgU3lyasOkbMOkIDx2aWxsZS5zeXJqYWxhQGxpbnV4LmludGVsLmNvbT4KClRy
YW5zY29kZXIgcG9ydCBzeW5jIHdhcyBpbnRyb2R1Y2VkIHRvIHRoZSBoYXJkd2FyZSBpbiBCRFcu
IFdlCmNhbiB0cml2aWFsbHkgZW5hYmxlIGl0IGZvciBTS0wrIHNpbmNlIHRoZSBzYW1lIGNvZGVw
YXRocyBhcmUKYWxyZWFkeSB1c2VkIGZvciBJQ0wrIHBvcnQgc3luYy4gVGhlIG9ubHkgZGlmZmVy
ZW5jZSBpcyB0aGUgYWN0dWFsCmxvY2F0aW9uIG9mIHRoZSBiaXRzIHdlIG5lZWQgdG8gcG9rZS4K
CldlIGxlYXZlIEJEVyBvdXQgKGF0IGxlYXN0IGZvciBub3cpIHNpbmNlIGl0IHVzZXMgZGlmZmVy
ZW50IG1vZGVzZXQKcGF0aHMgdGhhdCBoYXZlbid0IGJlZW4gYWRhcHRlZCBmb3IgcG9ydCBzeW5j
LCBhbmQgSUlSQyB1c2luZyB0aGUKZmVhdHVyZSB3b3VsZCBpbnZvbHZlIHNvbWUgZXh0cmEgd29y
a2Fyb3VuZHMgd2UndmUgbm90IGltcGxlbWVudGVkLgoKUHJlLUJEVyBoYXJkd2FyZSBkb2VzIG5v
dCBzdXBwb3J0IHBvcnQgc3luYyBzbyB3ZSdkIGhhdmUgdG8gdHdlYWsKdGhlIG1vZGVzZXQgc2Vx
dWVuY2UgdG8gc3RhcnQgdGhlIHBpcGVzIGFzIGNsb3NlIHRvZ2V0aGVyIGFzIHBvc3NpYmxlCmFu
ZCBob3BlIGZvciB0aGUgYmVzdC4gU28gZmFyIG5vIG9uZSBoYXMgc2VyaW91c2x5IHRyaWVkIHRv
IGltcGxlbWVudAp0aGF0LgoKQ2xvc2VzOiBodHRwczovL2dpdGxhYi5mcmVlZGVza3RvcC5vcmcv
ZHJtL2ludGVsL2lzc3Vlcy8yNwpTaWduZWQtb2ZmLWJ5OiBWaWxsZSBTeXJqw6Rsw6QgPHZpbGxl
LnN5cmphbGFAbGludXguaW50ZWwuY29tPgotLS0KIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3Bs
YXkvaW50ZWxfZGRpLmMgfCA3MCArKysrKysrKysrKysrKysrKy0tLS0tLS0KIGRyaXZlcnMvZ3B1
L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZHAuYyAgfCAgNiArLQogZHJpdmVycy9ncHUvZHJtL2k5
MTUvaTkxNV9yZWcuaCAgICAgICAgICB8ICAzICsKIDMgZmlsZXMgY2hhbmdlZCwgNTkgaW5zZXJ0
aW9ucygrKSwgMjAgZGVsZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5
MTUvZGlzcGxheS9pbnRlbF9kZGkuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50
ZWxfZGRpLmMKaW5kZXggMGZlYTJlYzJjZGQ4Li45ZTZlYjBlZTViYTQgMTAwNjQ0Ci0tLSBhL2Ry
aXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGRpLmMKKysrIGIvZHJpdmVycy9ncHUv
ZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kZGkuYwpAQCAtMTQ1MCw2ICsxNDUwLDE0IEBAIHZvaWQg
aW50ZWxfZGRpX3NldF9kcF9tc2EoY29uc3Qgc3RydWN0IGludGVsX2NydGNfc3RhdGUgKmNydGNf
c3RhdGUsCiAJaW50ZWxfZGVfd3JpdGUoZGV2X3ByaXYsIFRSQU5TX01TQV9NSVNDKGNwdV90cmFu
c2NvZGVyKSwgdGVtcCk7CiB9CiAKK3N0YXRpYyB1MzIgYmR3X3RyYW5zX3BvcnRfc3luY19tYXN0
ZXJfc2VsZWN0KGVudW0gdHJhbnNjb2RlciBtYXN0ZXJfdHJhbnNjb2RlcikKK3sKKwlpZiAobWFz
dGVyX3RyYW5zY29kZXIgPT0gVFJBTlNDT0RFUl9FRFApCisJCXJldHVybiAwOworCWVsc2UKKwkJ
cmV0dXJuIG1hc3Rlcl90cmFuc2NvZGVyICsgMTsKK30KKwogLyoKICAqIFJldHVybnMgdGhlIFRS
QU5TX0RESV9GVU5DX0NUTCB2YWx1ZSBiYXNlZCBvbiBDUlRDIHN0YXRlLgogICoKQEAgLTE1NTAs
NiArMTU1OCwxNSBAQCBpbnRlbF9kZGlfdHJhbnNjb2Rlcl9mdW5jX3JlZ192YWxfZ2V0KGNvbnN0
IHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpjcnRjX3N0YXRlKQogCQl0ZW1wIHw9IERESV9QT1JU
X1dJRFRIKGNydGNfc3RhdGUtPmxhbmVfY291bnQpOwogCX0KIAorCWlmIChJU19HRU5fUkFOR0Uo
ZGV2X3ByaXYsIDgsIDEwKSAmJgorCSAgICBjcnRjX3N0YXRlLT5tYXN0ZXJfdHJhbnNjb2RlciAh
PSBJTlZBTElEX1RSQU5TQ09ERVIpIHsKKwkJdTggbWFzdGVyX3NlbGVjdCA9CisJCQliZHdfdHJh
bnNfcG9ydF9zeW5jX21hc3Rlcl9zZWxlY3QoY3J0Y19zdGF0ZS0+bWFzdGVyX3RyYW5zY29kZXIp
OworCisJCXRlbXAgfD0gVFJBTlNfRERJX1BPUlRfU1lOQ19FTkFCTEUgfAorCQkJVFJBTlNfRERJ
X1BPUlRfU1lOQ19NQVNURVJfU0VMRUNUKG1hc3Rlcl9zZWxlY3QpOworCX0KKwogCXJldHVybiB0
ZW1wOwogfQogCkBAIC0xNTY1LDEyICsxNTgyLDggQEAgdm9pZCBpbnRlbF9kZGlfZW5hYmxlX3Ry
YW5zY29kZXJfZnVuYyhjb25zdCBzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqY3J0Y19zdGF0ZSkK
IAkJdTMyIGN0bDIgPSAwOwogCiAJCWlmIChtYXN0ZXJfdHJhbnNjb2RlciAhPSBJTlZBTElEX1RS
QU5TQ09ERVIpIHsKLQkJCXU4IG1hc3Rlcl9zZWxlY3Q7Ci0KLQkJCWlmIChtYXN0ZXJfdHJhbnNj
b2RlciA9PSBUUkFOU0NPREVSX0VEUCkKLQkJCQltYXN0ZXJfc2VsZWN0ID0gMDsKLQkJCWVsc2UK
LQkJCQltYXN0ZXJfc2VsZWN0ID0gbWFzdGVyX3RyYW5zY29kZXIgKyAxOworCQkJdTggbWFzdGVy
X3NlbGVjdCA9CisJCQkJYmR3X3RyYW5zX3BvcnRfc3luY19tYXN0ZXJfc2VsZWN0KG1hc3Rlcl90
cmFuc2NvZGVyKTsKIAogCQkJY3RsMiB8PSBQT1JUX1NZTkNfTU9ERV9FTkFCTEUgfAogCQkJCVBP
UlRfU1lOQ19NT0RFX01BU1RFUl9TRUxFQ1QobWFzdGVyX3NlbGVjdCk7CkBAIC0xNjE0LDggKzE2
MjcsMTMgQEAgdm9pZCBpbnRlbF9kZGlfZGlzYWJsZV90cmFuc2NvZGVyX2Z1bmMoY29uc3Qgc3Ry
dWN0IGludGVsX2NydGNfc3RhdGUgKmNydGNfc3RhdGUKIAkJaW50ZWxfZGVfd3JpdGUoZGV2X3By
aXYsIFRSQU5TX0RESV9GVU5DX0NUTDIoY3B1X3RyYW5zY29kZXIpLCAwKTsKIAogCWN0bCA9IGlu
dGVsX2RlX3JlYWQoZGV2X3ByaXYsIFRSQU5TX0RESV9GVU5DX0NUTChjcHVfdHJhbnNjb2Rlcikp
OworCiAJY3RsICY9IH5UUkFOU19ERElfRlVOQ19FTkFCTEU7CiAKKwlpZiAoSVNfR0VOX1JBTkdF
KGRldl9wcml2LCA4LCAxMCkpCisJCWN0bCAmPSB+KFRSQU5TX0RESV9QT1JUX1NZTkNfRU5BQkxF
IHwKKwkJCSBUUkFOU19ERElfUE9SVF9TWU5DX01BU1RFUl9TRUxFQ1RfTUFTSyk7CisKIAlpZiAo
SU5URUxfR0VOKGRldl9wcml2KSA+PSAxMikgewogCQlpZiAoIWludGVsX2RwX21zdF9pc19tYXN0
ZXJfdHJhbnMoY3J0Y19zdGF0ZSkpIHsKIAkJCWN0bCAmPSB+KFRHTF9UUkFOU19ERElfUE9SVF9N
QVNLIHwKQEAgLTE2MjQsNiArMTY0Miw3IEBAIHZvaWQgaW50ZWxfZGRpX2Rpc2FibGVfdHJhbnNj
b2Rlcl9mdW5jKGNvbnN0IHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpjcnRjX3N0YXRlCiAJfSBl
bHNlIHsKIAkJY3RsICY9IH4oVFJBTlNfRERJX1BPUlRfTUFTSyB8IFRSQU5TX0RESV9NT0RFX1NF
TEVDVF9NQVNLKTsKIAl9CisKIAlpbnRlbF9kZV93cml0ZShkZXZfcHJpdiwgVFJBTlNfRERJX0ZV
TkNfQ1RMKGNwdV90cmFuc2NvZGVyKSwgY3RsKTsKIAogCWlmIChkZXZfcHJpdi0+cXVpcmtzICYg
UVVJUktfSU5DUkVBU0VfRERJX0RJU0FCTEVEX1RJTUUgJiYKQEAgLTM4NDIsMTcgKzM4NjEsMjYg
QEAgdm9pZCBpbnRlbF9kZGlfY29tcHV0ZV9taW5fdm9sdGFnZV9sZXZlbChzdHJ1Y3QgZHJtX2k5
MTVfcHJpdmF0ZSAqZGV2X3ByaXYsCiAJCWNydGNfc3RhdGUtPm1pbl92b2x0YWdlX2xldmVsID0g
MjsKIH0KIAotc3RhdGljIGVudW0gdHJhbnNjb2RlciB0cmFuc2NvZGVyX21hc3Rlcl9yZWFkb3V0
KHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiwKLQkJCQkJCSBlbnVtIHRyYW5zY29k
ZXIgY3B1X3RyYW5zY29kZXIpCitzdGF0aWMgZW51bSB0cmFuc2NvZGVyIGJkd190cmFuc2NvZGVy
X21hc3Rlcl9yZWFkb3V0KHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiwKKwkJCQkJ
CSAgICAgZW51bSB0cmFuc2NvZGVyIGNwdV90cmFuc2NvZGVyKQogewotCXUzMiBjdGwyLCBtYXN0
ZXJfc2VsZWN0OworCXUzMiBtYXN0ZXJfc2VsZWN0OwogCi0JY3RsMiA9IGludGVsX2RlX3JlYWQo
ZGV2X3ByaXYsIFRSQU5TX0RESV9GVU5DX0NUTDIoY3B1X3RyYW5zY29kZXIpKTsKKwlpZiAoSU5U
RUxfR0VOKGRldl9wcml2KSA+PSAxMSkgeworCQl1MzIgY3RsMiA9IGludGVsX2RlX3JlYWQoZGV2
X3ByaXYsIFRSQU5TX0RESV9GVU5DX0NUTDIoY3B1X3RyYW5zY29kZXIpKTsKIAotCWlmICgoY3Rs
MiAmIFBPUlRfU1lOQ19NT0RFX0VOQUJMRSkgPT0gMCkKLQkJcmV0dXJuIElOVkFMSURfVFJBTlND
T0RFUjsKKwkJaWYgKChjdGwyICYgUE9SVF9TWU5DX01PREVfRU5BQkxFKSA9PSAwKQorCQkJcmV0
dXJuIElOVkFMSURfVFJBTlNDT0RFUjsKIAotCW1hc3Rlcl9zZWxlY3QgPSBSRUdfRklFTERfR0VU
KFBPUlRfU1lOQ19NT0RFX01BU1RFUl9TRUxFQ1RfTUFTSywgY3RsMik7CisJCW1hc3Rlcl9zZWxl
Y3QgPSBSRUdfRklFTERfR0VUKFBPUlRfU1lOQ19NT0RFX01BU1RFUl9TRUxFQ1RfTUFTSywgY3Rs
Mik7CisJfSBlbHNlIHsKKwkJdTMyIGN0bCA9IGludGVsX2RlX3JlYWQoZGV2X3ByaXYsIFRSQU5T
X0RESV9GVU5DX0NUTChjcHVfdHJhbnNjb2RlcikpOworCisJCWlmICgoY3RsICYgVFJBTlNfRERJ
X1BPUlRfU1lOQ19FTkFCTEUpID09IDApCisJCQlyZXR1cm4gSU5WQUxJRF9UUkFOU0NPREVSOwor
CisJCW1hc3Rlcl9zZWxlY3QgPSBSRUdfRklFTERfR0VUKFRSQU5TX0RESV9QT1JUX1NZTkNfTUFT
VEVSX1NFTEVDVF9NQVNLLCBjdGwpOworCX0KIAogCWlmIChtYXN0ZXJfc2VsZWN0ID09IDApCiAJ
CXJldHVybiBUUkFOU0NPREVSX0VEUDsKQEAgLTM4NjAsNyArMzg4OCw3IEBAIHN0YXRpYyBlbnVt
IHRyYW5zY29kZXIgdHJhbnNjb2Rlcl9tYXN0ZXJfcmVhZG91dChzdHJ1Y3QgZHJtX2k5MTVfcHJp
dmF0ZSAqZGV2X3ByCiAJCXJldHVybiBtYXN0ZXJfc2VsZWN0IC0gMTsKIH0KIAotc3RhdGljIHZv
aWQgaWNsX2dldF90cmFuc19wb3J0X3N5bmNfY29uZmlnKHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRl
ICpjcnRjX3N0YXRlKQorc3RhdGljIHZvaWQgYmR3X2dldF90cmFuc19wb3J0X3N5bmNfY29uZmln
KHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpjcnRjX3N0YXRlKQogewogCXN0cnVjdCBkcm1faTkx
NV9wcml2YXRlICpkZXZfcHJpdiA9IHRvX2k5MTUoY3J0Y19zdGF0ZS0+dWFwaS5jcnRjLT5kZXYp
OwogCXUzMiB0cmFuc2NvZGVycyA9IEJJVChUUkFOU0NPREVSX0EpIHwgQklUKFRSQU5TQ09ERVJf
QikgfApAQCAtMzg2OCw3ICszODk2LDcgQEAgc3RhdGljIHZvaWQgaWNsX2dldF90cmFuc19wb3J0
X3N5bmNfY29uZmlnKHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpjcnRjX3N0YXRlKQogCWVudW0g
dHJhbnNjb2RlciBjcHVfdHJhbnNjb2RlcjsKIAogCWNydGNfc3RhdGUtPm1hc3Rlcl90cmFuc2Nv
ZGVyID0KLQkJdHJhbnNjb2Rlcl9tYXN0ZXJfcmVhZG91dChkZXZfcHJpdiwgY3J0Y19zdGF0ZS0+
Y3B1X3RyYW5zY29kZXIpOworCQliZHdfdHJhbnNjb2Rlcl9tYXN0ZXJfcmVhZG91dChkZXZfcHJp
diwgY3J0Y19zdGF0ZS0+Y3B1X3RyYW5zY29kZXIpOwogCiAJZm9yX2VhY2hfY3B1X3RyYW5zY29k
ZXJfbWFza2VkKGRldl9wcml2LCBjcHVfdHJhbnNjb2RlciwgdHJhbnNjb2RlcnMpIHsKIAkJZW51
bSBpbnRlbF9kaXNwbGF5X3Bvd2VyX2RvbWFpbiBwb3dlcl9kb21haW47CkBAIC0zODgxLDcgKzM5
MDksNyBAQCBzdGF0aWMgdm9pZCBpY2xfZ2V0X3RyYW5zX3BvcnRfc3luY19jb25maWcoc3RydWN0
IGludGVsX2NydGNfc3RhdGUgKmNydGNfc3RhdGUpCiAJCWlmICghdHJhbnNfd2FrZXJlZikKIAkJ
CWNvbnRpbnVlOwogCi0JCWlmICh0cmFuc2NvZGVyX21hc3Rlcl9yZWFkb3V0KGRldl9wcml2LCBj
cHVfdHJhbnNjb2RlcikgPT0KKwkJaWYgKGJkd190cmFuc2NvZGVyX21hc3Rlcl9yZWFkb3V0KGRl
dl9wcml2LCBjcHVfdHJhbnNjb2RlcikgPT0KIAkJICAgIGNydGNfc3RhdGUtPmNwdV90cmFuc2Nv
ZGVyKQogCQkJY3J0Y19zdGF0ZS0+c3luY19tb2RlX3NsYXZlc19tYXNrIHw9IEJJVChjcHVfdHJh
bnNjb2Rlcik7CiAKQEAgLTQwNDUsOCArNDA3Myw4IEBAIHZvaWQgaW50ZWxfZGRpX2dldF9jb25m
aWcoc3RydWN0IGludGVsX2VuY29kZXIgKmVuY29kZXIsCiAJCQkgICAgIEhETUlfSU5GT0ZSQU1F
X1RZUEVfRFJNLAogCQkJICAgICAmcGlwZV9jb25maWctPmluZm9mcmFtZXMuZHJtKTsKIAotCWlm
IChJTlRFTF9HRU4oZGV2X3ByaXYpID49IDExKQotCQlpY2xfZ2V0X3RyYW5zX3BvcnRfc3luY19j
b25maWcocGlwZV9jb25maWcpOworCWlmIChJTlRFTF9HRU4oZGV2X3ByaXYpID49IDgpCisJCWJk
d19nZXRfdHJhbnNfcG9ydF9zeW5jX2NvbmZpZyhwaXBlX2NvbmZpZyk7CiB9CiAKIHN0YXRpYyBl
bnVtIGludGVsX291dHB1dF90eXBlCkBAIC00MTQ4LDcgKzQxNzYsMTEgQEAgaW50ZWxfZGRpX3Bv
cnRfc3luY190cmFuc2NvZGVycyhjb25zdCBzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqcmVmX2Ny
dGNfc3RhdGUsCiAJdTggdHJhbnNjb2RlcnMgPSAwOwogCWludCBpOwogCi0JaWYgKElOVEVMX0dF
TihkZXZfcHJpdikgPCAxMSkKKwkvKgorCSAqIFdlIGRvbid0IGVuYWJsZSBwb3J0IHN5bmMgb24g
QkRXIGR1ZSB0byBtaXNzaW5nIHcvYXMgYW5kCisJICogZHVlIHRvIG5vdCBoYXZpbmcgYWRqdXN0
ZWQgdGhlIG1vZGVzZXQgc2VxdWVuY2UgYXBwcm9wcmlhdGVseS4KKwkgKi8KKwlpZiAoSU5URUxf
R0VOKGRldl9wcml2KSA8IDkpCiAJCXJldHVybiAwOwogCiAJaWYgKCFpbnRlbF9jcnRjX2hhc190
eXBlKHJlZl9jcnRjX3N0YXRlLCBJTlRFTF9PVVRQVVRfRFApKQpkaWZmIC0tZ2l0IGEvZHJpdmVy
cy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kcC5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUv
ZGlzcGxheS9pbnRlbF9kcC5jCmluZGV4IDBhNDE3Y2QyYWYyYi4uODlkNTRmNWZlNjBiIDEwMDY0
NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2RwLmMKKysrIGIvZHJp
dmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kcC5jCkBAIC02NzI0LDcgKzY3MjQsMTEg
QEAgc3RhdGljIGludCBpbnRlbF9kcF9jb25uZWN0b3JfYXRvbWljX2NoZWNrKHN0cnVjdCBkcm1f
Y29ubmVjdG9yICpjb25uLAogCWlmIChyZXQpCiAJCXJldHVybiByZXQ7CiAKLQlpZiAoSU5URUxf
R0VOKGRldl9wcml2KSA8IDExKQorCS8qCisJICogV2UgZG9uJ3QgZW5hYmxlIHBvcnQgc3luYyBv
biBCRFcgZHVlIHRvIG1pc3Npbmcgdy9hcyBhbmQKKwkgKiBkdWUgdG8gbm90IGhhdmluZyBhZGp1
c3RlZCB0aGUgbW9kZXNldCBzZXF1ZW5jZSBhcHByb3ByaWF0ZWx5LgorCSAqLworCWlmIChJTlRF
TF9HRU4oZGV2X3ByaXYpIDwgOSkKIAkJcmV0dXJuIDA7CiAKIAlpZiAoIWludGVsX2Nvbm5lY3Rv
cl9uZWVkc19tb2Rlc2V0KHN0YXRlLCBjb25uKSkKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2k5MTVfcmVnLmggYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3JlZy5oCmluZGV4
IGZjNWMwMGJmZWQ4Ny4uZmRlZTFkYTgwMWJmIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0v
aTkxNS9pOTE1X3JlZy5oCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfcmVnLmgKQEAg
LTk2OTgsOCArOTY5OCwxMSBAQCBlbnVtIHNrbF9wb3dlcl9nYXRlIHsKICNkZWZpbmUgIFRSQU5T
X0RESV9CUENfMTAJCSgxIDw8IDIwKQogI2RlZmluZSAgVFJBTlNfRERJX0JQQ182CQkoMiA8PCAy
MCkKICNkZWZpbmUgIFRSQU5TX0RESV9CUENfMTIJCSgzIDw8IDIwKQorI2RlZmluZSAgVFJBTlNf
RERJX1BPUlRfU1lOQ19NQVNURVJfU0VMRUNUX01BU0sJUkVHX0dFTk1BU0soMTksIDE4KSAvKiBi
ZHctY25sICovCisjZGVmaW5lICBUUkFOU19ERElfUE9SVF9TWU5DX01BU1RFUl9TRUxFQ1QoeCkJ
UkVHX0ZJRUxEX1BSRVAoVFJBTlNfRERJX1BPUlRfU1lOQ19NQVNURVJfU0VMRUNUX01BU0ssICh4
KSkKICNkZWZpbmUgIFRSQU5TX0RESV9QVlNZTkMJCSgxIDw8IDE3KQogI2RlZmluZSAgVFJBTlNf
RERJX1BIU1lOQwkJKDEgPDwgMTYpCisjZGVmaW5lICBUUkFOU19ERElfUE9SVF9TWU5DX0VOQUJM
RQlSRUdfQklUKDE1KSAvKiBiZHctY25sICovCiAjZGVmaW5lICBUUkFOU19ERElfRURQX0lOUFVU
X01BU0sJKDcgPDwgMTIpCiAjZGVmaW5lICBUUkFOU19ERElfRURQX0lOUFVUX0FfT04JKDAgPDwg
MTIpCiAjZGVmaW5lICBUUkFOU19ERElfRURQX0lOUFVUX0FfT05PRkYJKDQgPDwgMTIpCi0tIAoy
LjI0LjEKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCklu
dGVsLWdmeCBtYWlsaW5nIGxpc3QKSW50ZWwtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRw
czovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2ludGVsLWdmeAo=

Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 461BB98269
	for <lists+intel-gfx@lfdr.de>; Wed, 21 Aug 2019 20:11:55 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id BA2956E352;
	Wed, 21 Aug 2019 18:11:53 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from fireflyinternet.com (mail.fireflyinternet.com [109.228.58.192])
 by gabe.freedesktop.org (Postfix) with ESMTPS id B5D746E352
 for <intel-gfx@lists.freedesktop.org>; Wed, 21 Aug 2019 18:11:51 +0000 (UTC)
X-Default-Received-SPF: pass (skip=forwardok (res=PASS))
 x-ip-name=78.156.65.138; 
Received: from localhost (unverified [78.156.65.138]) 
 by fireflyinternet.com (Firefly Internet (M1)) with ESMTP (TLS) id
 18218268-1500050 for multiple; Wed, 21 Aug 2019 19:11:36 +0100
MIME-Version: 1.0
To: Animesh Manna <animesh.manna@intel.com>, intel-gfx@lists.freedesktop.org
From: Chris Wilson <chris@chris-wilson.co.uk>
In-Reply-To: <20190821063236.19705-3-animesh.manna@intel.com>
References: <20190821063236.19705-1-animesh.manna@intel.com>
 <20190821063236.19705-3-animesh.manna@intel.com>
Message-ID: <156641109473.20466.6513229953597684165@skylake-alporthouse-com>
User-Agent: alot/0.6
Date: Wed, 21 Aug 2019 19:11:34 +0100
Subject: Re: [Intel-gfx] [PATCH v2 02/15] drm/i915/dsb: DSB context creation.
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: Michel Thierry <michel.thierry@intel.com>,
 Jani Nikula <jani.nikula@intel.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

UXVvdGluZyBBbmltZXNoIE1hbm5hICgyMDE5LTA4LTIxIDA3OjMyOjIyKQo+IFRoZSBmdW5jdGlv
biB3aWxsIGludGVybmFsbHkgZ2V0IHRoZSBnZW0gYnVmZmVyIGZyb20gZ2xvYmFsIEdUVAo+IHdo
aWNoIGlzIG1hcHBlZCBpbiBjcHUgZG9tYWluIHRvIGZlZWQgdGhlIGRhdGEgKyBvcGNvZGUgZm9y
IERTQiBlbmdpbmUuCj4gCj4gQ2M6IEltcmUgRGVhayA8aW1yZS5kZWFrQGludGVsLmNvbT4KPiBD
YzogTWljaGVsIFRoaWVycnkgPG1pY2hlbC50aGllcnJ5QGludGVsLmNvbT4KPiBDYzogSmFuaSBO
aWt1bGEgPGphbmkubmlrdWxhQGludGVsLmNvbT4KPiBDYzogUm9kcmlnbyBWaXZpIDxyb2RyaWdv
LnZpdmlAaW50ZWwuY29tPgo+IFNpZ25lZC1vZmYtYnk6IEFuaW1lc2ggTWFubmEgPGFuaW1lc2gu
bWFubmFAaW50ZWwuY29tPgo+IC0tLQo+ICBkcml2ZXJzL2dwdS9kcm0vaTkxNS9NYWtlZmlsZSAg
ICAgICAgICAgICAgICAgfCAgMSArCj4gIC4uLi9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3Bs
YXlfdHlwZXMuaCAgICB8ICA0ICsrCj4gIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50
ZWxfZHNiLmMgICAgICB8IDY2ICsrKysrKysrKysrKysrKysrKysKPiAgZHJpdmVycy9ncHUvZHJt
L2k5MTUvZGlzcGxheS9pbnRlbF9kc2IuaCAgICAgIHwgMzEgKysrKysrKysrCj4gIGRyaXZlcnMv
Z3B1L2RybS9pOTE1L2k5MTVfZHJ2LmggICAgICAgICAgICAgICB8ICAxICsKPiAgNSBmaWxlcyBj
aGFuZ2VkLCAxMDMgaW5zZXJ0aW9ucygrKQo+ICBjcmVhdGUgbW9kZSAxMDA2NDQgZHJpdmVycy9n
cHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kc2IuYwo+ICBjcmVhdGUgbW9kZSAxMDA2NDQgZHJp
dmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kc2IuaAo+IAo+IGRpZmYgLS1naXQgYS9k
cml2ZXJzL2dwdS9kcm0vaTkxNS9NYWtlZmlsZSBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L01ha2Vm
aWxlCj4gaW5kZXggNDVhZGQ4MTIwNDhiLi41MjMyYjI2MDc4MjIgMTAwNjQ0Cj4gLS0tIGEvZHJp
dmVycy9ncHUvZHJtL2k5MTUvTWFrZWZpbGUKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9N
YWtlZmlsZQo+IEBAIC0xNzEsNiArMTcxLDcgQEAgaTkxNS15ICs9IFwKPiAgICAgICAgIGRpc3Bs
YXkvaW50ZWxfZGlzcGxheV9wb3dlci5vIFwKPiAgICAgICAgIGRpc3BsYXkvaW50ZWxfZHBpb19w
aHkubyBcCj4gICAgICAgICBkaXNwbGF5L2ludGVsX2RwbGxfbWdyLm8gXAo+ICsgICAgICAgZGlz
cGxheS9pbnRlbF9kc2IubyBcCj4gICAgICAgICBkaXNwbGF5L2ludGVsX2ZiYy5vIFwKPiAgICAg
ICAgIGRpc3BsYXkvaW50ZWxfZmlmb191bmRlcnJ1bi5vIFwKPiAgICAgICAgIGRpc3BsYXkvaW50
ZWxfZnJvbnRidWZmZXIubyBcCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rp
c3BsYXkvaW50ZWxfZGlzcGxheV90eXBlcy5oIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxh
eS9pbnRlbF9kaXNwbGF5X3R5cGVzLmgKPiBpbmRleCA0NDlhYmFlYTYxOWYuLmU2MjQ1MGE3MmRj
MiAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3Bs
YXlfdHlwZXMuaAo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlz
cGxheV90eXBlcy5oCj4gQEAgLTEwMjYsNiArMTAyNiwxMCBAQCBzdHJ1Y3QgaW50ZWxfY3J0YyB7
Cj4gIAo+ICAgICAgICAgLyogc2NhbGVycyBhdmFpbGFibGUgb24gdGhpcyBjcnRjICovCj4gICAg
ICAgICBpbnQgbnVtX3NjYWxlcnM7Cj4gKwo+ICsgICAgICAgLyogcGVyIHBpcGUgRFNCIHJlbGF0
ZWQgaW5mbyAqLwo+ICsgICAgICAgc3RydWN0IGludGVsX2RzYiBkc2JbTUFYX0RTQl9QRVJfUElQ
RV07Cj4gKyAgICAgICBpbnQgZHNiX2luX3VzZTsKPiAgfTsKPiAgCj4gIHN0cnVjdCBpbnRlbF9w
bGFuZSB7Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxf
ZHNiLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2RzYi5jCj4gbmV3IGZp
bGUgbW9kZSAxMDA2NDQKPiBpbmRleCAwMDAwMDAwMDAwMDAuLjZjZGUzYWYzMDY0Mwo+IC0tLSAv
ZGV2L251bGwKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2RzYi5j
Cj4gQEAgLTAsMCArMSw2NiBAQAo+ICsvLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogTUlUCj4g
Ky8qCj4gKyAqIENvcHlyaWdodCDCqSAyMDE5IEludGVsIENvcnBvcmF0aW9uCj4gKyAqCj4gKyAq
Lwo+ICsKPiArI2luY2x1ZGUgIi4uL2k5MTVfZHJ2LmgiCj4gKyNpbmNsdWRlICJpbnRlbF9kaXNw
bGF5X3R5cGVzLmgiCj4gKwo+ICsjZGVmaW5lIERTQl9CVUZfU0laRSAgICAoMiAqIFBBR0VfU0la
RSkKPiArCj4gK3N0cnVjdCBpbnRlbF9kc2IgKgo+ICtpbnRlbF9kc2JfZ2V0KHN0cnVjdCBpbnRl
bF9jcnRjICpjcnRjKQo+ICt7Cj4gKyAgICAgICBzdHJ1Y3QgZHJtX2RldmljZSAqZGV2ID0gY3J0
Yy0+YmFzZS5kZXY7Cj4gKyAgICAgICBzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSA9IHRv
X2k5MTUoZGV2KTsKPiArICAgICAgIHN0cnVjdCBkcm1faTkxNV9nZW1fb2JqZWN0ICpvYmo7Cj4g
KyAgICAgICBzdHJ1Y3QgaTkxNV92bWEgKnZtYTsKPiArICAgICAgIHN0cnVjdCBpbnRlbF9kc2Ig
KmRzYjsKPiArICAgICAgIGludGVsX3dha2VyZWZfdCB3YWtlcmVmOwo+ICsgICAgICAgaW50IGk7
Cj4gKwo+ICsgICAgICAgV0FSTl9PTihjcnRjLT5kc2JfaW5fdXNlID49IE1BWF9EU0JfUEVSX1BJ
UEUpOwo+ICsKPiArICAgICAgIGZvciAoaSA9IDA7IGkgPCBNQVhfRFNCX1BFUl9QSVBFOyBpKysp
IHsKPiArICAgICAgICAgICAgICAgaWYgKCFjcnRjLT5kc2JbaV0uY21kX2J1Zikgewo+ICsgICAg
ICAgICAgICAgICAgICAgICAgIGRzYiA9ICZjcnRjLT5kc2JbaV07Cj4gKyAgICAgICAgICAgICAg
ICAgICAgICAgZHNiLT5pZCA9IGk7Cj4gKyAgICAgICAgICAgICAgIH0KPiArICAgICAgIH0KClRo
YXQgc2VlbXMgb3V0IG9mIHBsYWNlLgoKPiArCj4gKyAgICAgICBkc2IgPSAmY3J0Yy0+ZHNiW2Ny
dGMtPmRzYl9pbl91c2VdOwoKV2hhdCBsb2NrIGd1YXJkcyBkc2JfaW5fdXNlPwoKPiArICAgICAg
IGRzYi0+Y3J0YyA9IGNydGM7Cj4gKyAgICAgICBpZiAoIUhBU19EU0IoaTkxNSkpCj4gKyAgICAg
ICAgICAgICAgIHJldHVybiBkc2I7Cj4gKwo+ICsgICAgICAgd2FrZXJlZiA9IGludGVsX3J1bnRp
bWVfcG1fZ2V0KCZpOTE1LT5ydW50aW1lX3BtKTsKPiArICAgICAgIG11dGV4X2xvY2soJmk5MTUt
PmRybS5zdHJ1Y3RfbXV0ZXgpOwo+ICsKPiArICAgICAgIG9iaiA9IGk5MTVfZ2VtX29iamVjdF9j
cmVhdGVfc2htZW0oaTkxNSwgRFNCX0JVRl9TSVpFKTsKCl9pbnRlcm5hbCBub3Qgc2htZW0sIHlv
dSBuZXZlciBuZWVkIHRvIHN3YXAuCgo+ICsgICAgICAgaWYgKElTX0VSUihvYmopKQo+ICsgICAg
ICAgICAgICAgICBnb3RvIGVycjsKPiArCj4gKyAgICAgICB2bWEgPSBpOTE1X2dlbV9vYmplY3Rf
Z2d0dF9waW4ob2JqLCBOVUxMLCAwLCAwLCBQSU5fTUFQUEFCTEUpOwoKT25seSB0aGlzIChjdXJy
ZW50bHkpIHN0aWxsIHJlcXVpcmVzIHN0cnVjdF9tdXRleAoKRG9lcyBpdCBoYXZlIHRvIG1hcHBh
YmxlPyBJcyB0aGF0IHRoZSBIVyBjb25zdHJhaW50PwoKPiArICAgICAgIGlmIChJU19FUlIodm1h
KSkgewo+ICsgICAgICAgICAgICAgICBEUk1fREVCVUdfS01TKCJWbWEgY3JlYXRpb24gZmFpbGVk
LlxuIik7Cj4gKyAgICAgICAgICAgICAgIGk5MTVfZ2VtX29iamVjdF9wdXQob2JqKTsKPiArICAg
ICAgICAgICAgICAgZ290byBlcnI7Cj4gKyAgICAgICB9Cj4gKwo+ICsgICAgICAgZHNiLT5jbWRf
YnVmID0gaTkxNV9nZW1fb2JqZWN0X3Bpbl9tYXAodm1hLT5vYmosIEk5MTVfTUFQX1dDKTsKCkFy
ZSB5b3Ugc3VyZSB5b3UgV0M/IFlvdSBzcGVuZCBtb3JlIHRpbWUgcmVhZGluZyBpdCBiYWNrIHRo
YW4gd3JpdGluZy4KCj4gKyAgICAgICBpZiAoSVNfRVJSKGRzYi0+Y21kX2J1ZikpIHsKPiArICAg
ICAgICAgICAgICAgRFJNX0RFQlVHX0tNUygiQ29tbWFuZCBidWZmZXIgY3JlYXRpb24gZmFpbGVk
LlxuIik7Cj4gKyAgICAgICAgICAgICAgIGRzYi0+Y21kX2J1ZiA9IE5VTEw7Cj4gKyAgICAgICAg
ICAgICAgIGdvdG8gZXJyOwo+ICsgICAgICAgfQo+ICsgICAgICAgY3J0Yy0+ZHNiX2luX3VzZSsr
Owo+ICsgICAgICAgZHNiLT5jbWRfYnVmX2hlYWQgPSAodWludHB0cl90KWk5MTVfZ2d0dF9vZmZz
ZXQodm1hKTsKClBhcmRvbj8gRG8gbm90IGV2ZW4gcHJldGVuZCBhbiBvZmZzZXQgaW50byB0aGUg
Z2xvYmFsIHZpcnR1YWwgYWRkcmVzcyBvZgp0aGUgR1BVIGlzIGEgQ1BVIHBvaW50ZXIuIEp1c3Qg
ZG9uJ3QgYm90aGVyLCB5b3Ugc3RvcmUgdGhlIHZtYSwgc28geW91CmFscmVhZHkgaGF2ZSB0aGUg
b2Zmc2V0IHN0b3JlZC4KCj4gKyAgICAgICBkc2ItPnZtYSA9IHZtYTsKPiArCj4gKyAgICAgICBt
ZW1zZXQoZHNiLT5jbWRfYnVmLCAwLCBEU0JfQlVGX1NJWkUpOwoKVGhhdCdzIG92ZXJraWxsLgoK
PiArZXJyOgo+ICsgICAgICAgbXV0ZXhfdW5sb2NrKCZpOTE1LT5kcm0uc3RydWN0X211dGV4KTsK
PiArICAgICAgIGludGVsX3J1bnRpbWVfcG1fcHV0KCZpOTE1LT5ydW50aW1lX3BtLCB3YWtlcmVm
KTsKClNvIHdoYXQgZGlkIHlvdSBkbyBoZXJlIHRoYXQgcmVxdWlyZWQgYSB3YWtlcmVmPwoKPiAr
ICAgICAgIHJldHVybiBkc2I7Cj4gK30KCkluY2x1ZGUgdGhlIGNvbXBsaW1lbnRhcnkgdGVhcmRv
d24gcm91dGluZS4gVGhhdCBzaG91bGQgYmUgcGFydCBvZiB0aGUKQVBJIHlvdSBhcmUgcHJlc2Vu
dGluZy4KLUNocmlzCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fCkludGVsLWdmeCBtYWlsaW5nIGxpc3QKSW50ZWwtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9y
ZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2ludGVsLWdm
eA==

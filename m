Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 93D3B5EFA9
	for <lists+intel-gfx@lfdr.de>; Thu,  4 Jul 2019 01:38:06 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id B642B6E21C;
	Wed,  3 Jul 2019 23:38:04 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga01.intel.com (mga01.intel.com [192.55.52.88])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 927426E21C
 for <intel-gfx@lists.freedesktop.org>; Wed,  3 Jul 2019 23:38:03 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga007.jf.intel.com ([10.7.209.58])
 by fmsmga101.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 03 Jul 2019 16:38:03 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.63,448,1557212400"; d="scan'208";a="154899219"
Received: from mdroper-desk.fm.intel.com ([10.105.128.126])
 by orsmga007.jf.intel.com with ESMTP; 03 Jul 2019 16:38:02 -0700
From: Matt Roper <matthew.d.roper@intel.com>
To: intel-gfx@lists.freedesktop.org
Date: Wed,  3 Jul 2019 16:37:34 -0700
Message-Id: <20190703233736.5816-4-matthew.d.roper@intel.com>
X-Mailer: git-send-email 2.17.2
In-Reply-To: <20190703233736.5816-1-matthew.d.roper@intel.com>
References: <20190703233736.5816-1-matthew.d.roper@intel.com>
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH v4 3/5] drm/i915/gen11: Convert combo PHY logic
 to use new 'enum phy' namespace
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

Q29udmVydCB0aGUgY29kZSB0aGF0IG9wZXJhdGVzIGRpcmVjdGx5IG9uIGdlbjExIGNvbWJvIFBI
WSdzIHRvIHVzZSB0aGUKbmV3IG5hbWVzcGFjZS4gIENvbWJvIFBIWSByZWdpc3RlcnMgYXJlIHRo
b3NlIG5hbWVkICJJQ0xfUE9SVF8qIiBwbHVzCklDTF9EUEhZX0NIS04uCgpOb3RlIHRoYXQgYSBs
b3Qgb2YgdGhlIFBIWSBwcm9ncmFtbWluZyBoYXBwZW5zIGluIHRoZSBNSVBJIERTSSBjb2RlLgpG
b3IgY2xhcml0eSBJJ3ZlIGFkZGVkIGEgZm9yX2VhY2hfZHNpX3BoeSgpIHRvIGxvb3Agb3ZlciB0
aGUgcGh5cyB1c2VkCmJ5IERTSS4gIFNpbmNlIERTSSBhbHdheXMgdXNlcyBBICYgQiBvbiBnZW4x
MSwgcG9ydD1waHkgaW4gYWxsIGNhc2VzIHNvCml0IGRvZXNuJ3QgYWN0dWFsbHkgbWF0dGVyIHdo
aWNoIGZvcm0gd2UgdXNlIGluIHRoZSBEU0kgY29kZS4gIEkndmUgdXNlZAp0aGUgcGh5IGl0ZXJh
dG9yIGluIGNvZGUgdGhhdCdzIGV4cGxpY2l0bHkgd29ya2luZyB3aXRoIHRoZSBjb21ibyBQSFks
CmJ1dCBsZWZ0IHRoZSByZXN0IG9mIHRoZSBEU0kgY29kZSB1c2luZyB0aGUgcG9ydCBpdGVyYXRv
ciBhbmQgbmFtZXNwYWNlCnRvIG1pbmltaXplIHBhdGNoIGRlbHRhcy4gIFdlIGNhbiBzd2l0Y2gg
dGhlIHJlc3Qgb2YgdGhlIERTSSBjb2RlIG92ZXIKdG8gdXNlIHBoeSB0ZXJtaW5vbG9neSBsYXRl
ciBpZiB0aGlzIHdpbmRzIHVwIGJlaW5nIHRvbyBjb25mdXNpbmcuCgpDYzogSm9zw6kgUm9iZXJ0
byBkZSBTb3V6YSA8am9zZS5zb3V6YUBpbnRlbC5jb20+ClNpZ25lZC1vZmYtYnk6IE1hdHQgUm9w
ZXIgPG1hdHRoZXcuZC5yb3BlckBpbnRlbC5jb20+Ci0tLQogZHJpdmVycy9ncHUvZHJtL2k5MTUv
ZGlzcGxheS9pY2xfZHNpLmMgICAgICAgIHwgMTI3ICsrKysrKysrLS0tLS0tLS0KIC4uLi9ncHUv
ZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9jb21ib19waHkuYyAgICB8IDE0MyArKysrKysrKystLS0t
LS0tLS0KIC4uLi9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9jb21ib19waHkuaCAgICB8ICAg
MyArLQogZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kZGkuYyAgICAgIHwgIDQ1
ICsrKy0tLQogZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5LmggIHwg
ICA0ICsKIC4uLi9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXlfcG93ZXIuYyAgICB8ICAx
NiArLQogZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kc2kuaCAgICAgIHwgIDEy
ICstCiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3JlZy5oICAgICAgICAgICAgICAgfCAgNzQg
KysrKy0tLS0tCiA4IGZpbGVzIGNoYW5nZWQsIDIxMyBpbnNlcnRpb25zKCspLCAyMTEgZGVsZXRp
b25zKC0pCgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pY2xfZHNp
LmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ljbF9kc2kuYwppbmRleCBmNTc0YWY2
Mjg4OGMuLjU3NTE5NmY4OTJjMiAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlz
cGxheS9pY2xfZHNpLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pY2xfZHNp
LmMKQEAgLTIwMiw2MyArMjAyLDYyIEBAIHN0YXRpYyB2b2lkIGRzaV9wcm9ncmFtX3N3aW5nX2Fu
ZF9kZWVtcGhhc2lzKHN0cnVjdCBpbnRlbF9lbmNvZGVyICplbmNvZGVyKQogewogCXN0cnVjdCBk
cm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiA9IHRvX2k5MTUoZW5jb2Rlci0+YmFzZS5kZXYpOwog
CXN0cnVjdCBpbnRlbF9kc2kgKmludGVsX2RzaSA9IGVuY190b19pbnRlbF9kc2koJmVuY29kZXIt
PmJhc2UpOwotCWVudW0gcG9ydCBwb3J0OworCWVudW0gcGh5IHBoeTsKIAl1MzIgdG1wOwogCWlu
dCBsYW5lOwogCi0JZm9yX2VhY2hfZHNpX3BvcnQocG9ydCwgaW50ZWxfZHNpLT5wb3J0cykgewot
CisJZm9yX2VhY2hfZHNpX3BoeShwaHksIGludGVsX2RzaS0+cGh5cykgewogCQkvKgogCQkgKiBQ
cm9ncmFtIHZvbHRhZ2Ugc3dpbmcgYW5kIHByZS1lbXBoYXNpcyBsZXZlbCB2YWx1ZXMgYXMgcGVy
CiAJCSAqIHRhYmxlIGluIEJTUEVDIHVuZGVyIERESSBidWZmZXIgcHJvZ3JhbWluZwogCQkgKi8K
LQkJdG1wID0gSTkxNV9SRUFEKElDTF9QT1JUX1RYX0RXNV9MTjAocG9ydCkpOworCQl0bXAgPSBJ
OTE1X1JFQUQoSUNMX1BPUlRfVFhfRFc1X0xOMChwaHkpKTsKIAkJdG1wICY9IH4oU0NBTElOR19N
T0RFX1NFTF9NQVNLIHwgUlRFUk1fU0VMRUNUX01BU0spOwogCQl0bXAgfD0gU0NBTElOR19NT0RF
X1NFTCgweDIpOwogCQl0bXAgfD0gVEFQMl9ESVNBQkxFIHwgVEFQM19ESVNBQkxFOwogCQl0bXAg
fD0gUlRFUk1fU0VMRUNUKDB4Nik7Ci0JCUk5MTVfV1JJVEUoSUNMX1BPUlRfVFhfRFc1X0dSUChw
b3J0KSwgdG1wKTsKKwkJSTkxNV9XUklURShJQ0xfUE9SVF9UWF9EVzVfR1JQKHBoeSksIHRtcCk7
CiAKLQkJdG1wID0gSTkxNV9SRUFEKElDTF9QT1JUX1RYX0RXNV9BVVgocG9ydCkpOworCQl0bXAg
PSBJOTE1X1JFQUQoSUNMX1BPUlRfVFhfRFc1X0FVWChwaHkpKTsKIAkJdG1wICY9IH4oU0NBTElO
R19NT0RFX1NFTF9NQVNLIHwgUlRFUk1fU0VMRUNUX01BU0spOwogCQl0bXAgfD0gU0NBTElOR19N
T0RFX1NFTCgweDIpOwogCQl0bXAgfD0gVEFQMl9ESVNBQkxFIHwgVEFQM19ESVNBQkxFOwogCQl0
bXAgfD0gUlRFUk1fU0VMRUNUKDB4Nik7Ci0JCUk5MTVfV1JJVEUoSUNMX1BPUlRfVFhfRFc1X0FV
WChwb3J0KSwgdG1wKTsKKwkJSTkxNV9XUklURShJQ0xfUE9SVF9UWF9EVzVfQVVYKHBoeSksIHRt
cCk7CiAKLQkJdG1wID0gSTkxNV9SRUFEKElDTF9QT1JUX1RYX0RXMl9MTjAocG9ydCkpOworCQl0
bXAgPSBJOTE1X1JFQUQoSUNMX1BPUlRfVFhfRFcyX0xOMChwaHkpKTsKIAkJdG1wICY9IH4oU1dJ
TkdfU0VMX0xPV0VSX01BU0sgfCBTV0lOR19TRUxfVVBQRVJfTUFTSyB8CiAJCQkgUkNPTVBfU0NB
TEFSX01BU0spOwogCQl0bXAgfD0gU1dJTkdfU0VMX1VQUEVSKDB4Mik7CiAJCXRtcCB8PSBTV0lO
R19TRUxfTE9XRVIoMHgyKTsKIAkJdG1wIHw9IFJDT01QX1NDQUxBUigweDk4KTsKLQkJSTkxNV9X
UklURShJQ0xfUE9SVF9UWF9EVzJfR1JQKHBvcnQpLCB0bXApOworCQlJOTE1X1dSSVRFKElDTF9Q
T1JUX1RYX0RXMl9HUlAocGh5KSwgdG1wKTsKIAotCQl0bXAgPSBJOTE1X1JFQUQoSUNMX1BPUlRf
VFhfRFcyX0FVWChwb3J0KSk7CisJCXRtcCA9IEk5MTVfUkVBRChJQ0xfUE9SVF9UWF9EVzJfQVVY
KHBoeSkpOwogCQl0bXAgJj0gfihTV0lOR19TRUxfTE9XRVJfTUFTSyB8IFNXSU5HX1NFTF9VUFBF
Ul9NQVNLIHwKIAkJCSBSQ09NUF9TQ0FMQVJfTUFTSyk7CiAJCXRtcCB8PSBTV0lOR19TRUxfVVBQ
RVIoMHgyKTsKIAkJdG1wIHw9IFNXSU5HX1NFTF9MT1dFUigweDIpOwogCQl0bXAgfD0gUkNPTVBf
U0NBTEFSKDB4OTgpOwotCQlJOTE1X1dSSVRFKElDTF9QT1JUX1RYX0RXMl9BVVgocG9ydCksIHRt
cCk7CisJCUk5MTVfV1JJVEUoSUNMX1BPUlRfVFhfRFcyX0FVWChwaHkpLCB0bXApOwogCi0JCXRt
cCA9IEk5MTVfUkVBRChJQ0xfUE9SVF9UWF9EVzRfQVVYKHBvcnQpKTsKKwkJdG1wID0gSTkxNV9S
RUFEKElDTF9QT1JUX1RYX0RXNF9BVVgocGh5KSk7CiAJCXRtcCAmPSB+KFBPU1RfQ1VSU09SXzFf
TUFTSyB8IFBPU1RfQ1VSU09SXzJfTUFTSyB8CiAJCQkgQ1VSU09SX0NPRUZGX01BU0spOwogCQl0
bXAgfD0gUE9TVF9DVVJTT1JfMSgweDApOwogCQl0bXAgfD0gUE9TVF9DVVJTT1JfMigweDApOwog
CQl0bXAgfD0gQ1VSU09SX0NPRUZGKDB4M2YpOwotCQlJOTE1X1dSSVRFKElDTF9QT1JUX1RYX0RX
NF9BVVgocG9ydCksIHRtcCk7CisJCUk5MTVfV1JJVEUoSUNMX1BPUlRfVFhfRFc0X0FVWChwaHkp
LCB0bXApOwogCiAJCWZvciAobGFuZSA9IDA7IGxhbmUgPD0gMzsgbGFuZSsrKSB7CiAJCQkvKiBC
c3BlYzogbXVzdCBub3QgdXNlIEdSUCByZWdpc3RlciBmb3Igd3JpdGUgKi8KLQkJCXRtcCA9IEk5
MTVfUkVBRChJQ0xfUE9SVF9UWF9EVzRfTE4obGFuZSwgcG9ydCkpOworCQkJdG1wID0gSTkxNV9S
RUFEKElDTF9QT1JUX1RYX0RXNF9MTihsYW5lLCBwaHkpKTsKIAkJCXRtcCAmPSB+KFBPU1RfQ1VS
U09SXzFfTUFTSyB8IFBPU1RfQ1VSU09SXzJfTUFTSyB8CiAJCQkJIENVUlNPUl9DT0VGRl9NQVNL
KTsKIAkJCXRtcCB8PSBQT1NUX0NVUlNPUl8xKDB4MCk7CiAJCQl0bXAgfD0gUE9TVF9DVVJTT1Jf
MigweDApOwogCQkJdG1wIHw9IENVUlNPUl9DT0VGRigweDNmKTsKLQkJCUk5MTVfV1JJVEUoSUNM
X1BPUlRfVFhfRFc0X0xOKGxhbmUsIHBvcnQpLCB0bXApOworCQkJSTkxNV9XUklURShJQ0xfUE9S
VF9UWF9EVzRfTE4obGFuZSwgcGh5KSwgdG1wKTsKIAkJfQogCX0KIH0KQEAgLTM2NCwxMCArMzYz
LDEwIEBAIHN0YXRpYyB2b2lkIGdlbjExX2RzaV9wb3dlcl91cF9sYW5lcyhzdHJ1Y3QgaW50ZWxf
ZW5jb2RlciAqZW5jb2RlcikKIHsKIAlzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYg
PSB0b19pOTE1KGVuY29kZXItPmJhc2UuZGV2KTsKIAlzdHJ1Y3QgaW50ZWxfZHNpICppbnRlbF9k
c2kgPSBlbmNfdG9faW50ZWxfZHNpKCZlbmNvZGVyLT5iYXNlKTsKLQllbnVtIHBvcnQgcG9ydDsK
KwllbnVtIHBoeSBwaHk7CiAKLQlmb3JfZWFjaF9kc2lfcG9ydChwb3J0LCBpbnRlbF9kc2ktPnBv
cnRzKQotCQlpbnRlbF9jb21ib19waHlfcG93ZXJfdXBfbGFuZXMoZGV2X3ByaXYsIHBvcnQsIHRy
dWUsCisJZm9yX2VhY2hfZHNpX3BoeShwaHksIGludGVsX2RzaS0+cGh5cykKKwkJaW50ZWxfY29t
Ym9fcGh5X3Bvd2VyX3VwX2xhbmVzKGRldl9wcml2LCBwaHksIHRydWUsCiAJCQkJCSAgICAgICBp
bnRlbF9kc2ktPmxhbmVfY291bnQsIGZhbHNlKTsKIH0KIApAQCAtMzc1LDQ2ICszNzQsNDYgQEAg
c3RhdGljIHZvaWQgZ2VuMTFfZHNpX2NvbmZpZ19waHlfbGFuZXNfc2VxdWVuY2Uoc3RydWN0IGlu
dGVsX2VuY29kZXIgKmVuY29kZXIpCiB7CiAJc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9w
cml2ID0gdG9faTkxNShlbmNvZGVyLT5iYXNlLmRldik7CiAJc3RydWN0IGludGVsX2RzaSAqaW50
ZWxfZHNpID0gZW5jX3RvX2ludGVsX2RzaSgmZW5jb2Rlci0+YmFzZSk7Ci0JZW51bSBwb3J0IHBv
cnQ7CisJZW51bSBwaHkgcGh5OwogCXUzMiB0bXA7CiAJaW50IGxhbmU7CiAKIAkvKiBTdGVwIDRi
KGkpIHNldCBsb2FkZ2VuIHNlbGVjdCBmb3IgdHJhbnNtaXQgYW5kIGF1eCBsYW5lcyAqLwotCWZv
cl9lYWNoX2RzaV9wb3J0KHBvcnQsIGludGVsX2RzaS0+cG9ydHMpIHsKLQkJdG1wID0gSTkxNV9S
RUFEKElDTF9QT1JUX1RYX0RXNF9BVVgocG9ydCkpOworCWZvcl9lYWNoX2RzaV9waHkocGh5LCBp
bnRlbF9kc2ktPnBoeXMpIHsKKwkJdG1wID0gSTkxNV9SRUFEKElDTF9QT1JUX1RYX0RXNF9BVVgo
cGh5KSk7CiAJCXRtcCAmPSB+TE9BREdFTl9TRUxFQ1Q7Ci0JCUk5MTVfV1JJVEUoSUNMX1BPUlRf
VFhfRFc0X0FVWChwb3J0KSwgdG1wKTsKKwkJSTkxNV9XUklURShJQ0xfUE9SVF9UWF9EVzRfQVVY
KHBoeSksIHRtcCk7CiAJCWZvciAobGFuZSA9IDA7IGxhbmUgPD0gMzsgbGFuZSsrKSB7Ci0JCQl0
bXAgPSBJOTE1X1JFQUQoSUNMX1BPUlRfVFhfRFc0X0xOKGxhbmUsIHBvcnQpKTsKKwkJCXRtcCA9
IEk5MTVfUkVBRChJQ0xfUE9SVF9UWF9EVzRfTE4obGFuZSwgcGh5KSk7CiAJCQl0bXAgJj0gfkxP
QURHRU5fU0VMRUNUOwogCQkJaWYgKGxhbmUgIT0gMikKIAkJCQl0bXAgfD0gTE9BREdFTl9TRUxF
Q1Q7Ci0JCQlJOTE1X1dSSVRFKElDTF9QT1JUX1RYX0RXNF9MTihsYW5lLCBwb3J0KSwgdG1wKTsK
KwkJCUk5MTVfV1JJVEUoSUNMX1BPUlRfVFhfRFc0X0xOKGxhbmUsIHBoeSksIHRtcCk7CiAJCX0K
IAl9CiAKIAkvKiBTdGVwIDRiKGlpKSBzZXQgbGF0ZW5jeSBvcHRpbWl6YXRpb24gZm9yIHRyYW5z
bWl0IGFuZCBhdXggbGFuZXMgKi8KLQlmb3JfZWFjaF9kc2lfcG9ydChwb3J0LCBpbnRlbF9kc2kt
PnBvcnRzKSB7Ci0JCXRtcCA9IEk5MTVfUkVBRChJQ0xfUE9SVF9UWF9EVzJfQVVYKHBvcnQpKTsK
Kwlmb3JfZWFjaF9kc2lfcGh5KHBoeSwgaW50ZWxfZHNpLT5waHlzKSB7CisJCXRtcCA9IEk5MTVf
UkVBRChJQ0xfUE9SVF9UWF9EVzJfQVVYKHBoeSkpOwogCQl0bXAgJj0gfkZSQ19MQVRFTkNZX09Q
VElNX01BU0s7CiAJCXRtcCB8PSBGUkNfTEFURU5DWV9PUFRJTV9WQUwoMHg1KTsKLQkJSTkxNV9X
UklURShJQ0xfUE9SVF9UWF9EVzJfQVVYKHBvcnQpLCB0bXApOwotCQl0bXAgPSBJOTE1X1JFQUQo
SUNMX1BPUlRfVFhfRFcyX0xOMChwb3J0KSk7CisJCUk5MTVfV1JJVEUoSUNMX1BPUlRfVFhfRFcy
X0FVWChwaHkpLCB0bXApOworCQl0bXAgPSBJOTE1X1JFQUQoSUNMX1BPUlRfVFhfRFcyX0xOMChw
aHkpKTsKIAkJdG1wICY9IH5GUkNfTEFURU5DWV9PUFRJTV9NQVNLOwogCQl0bXAgfD0gRlJDX0xB
VEVOQ1lfT1BUSU1fVkFMKDB4NSk7Ci0JCUk5MTVfV1JJVEUoSUNMX1BPUlRfVFhfRFcyX0dSUChw
b3J0KSwgdG1wKTsKKwkJSTkxNV9XUklURShJQ0xfUE9SVF9UWF9EVzJfR1JQKHBoeSksIHRtcCk7
CiAKIAkJLyogRm9yIEVITCBzZXQgbGF0ZW5jeSBvcHRpbWl6YXRpb24gZm9yIFBDU19EVzEgbGFu
ZXMgKi8KIAkJaWYgKElTX0VMS0hBUlRMQUtFKGRldl9wcml2KSkgewotCQkJdG1wID0gSTkxNV9S
RUFEKElDTF9QT1JUX1BDU19EVzFfQVVYKHBvcnQpKTsKKwkJCXRtcCA9IEk5MTVfUkVBRChJQ0xf
UE9SVF9QQ1NfRFcxX0FVWChwaHkpKTsKIAkJCXRtcCAmPSB+TEFURU5DWV9PUFRJTV9NQVNLOwog
CQkJdG1wIHw9IExBVEVOQ1lfT1BUSU1fVkFMKDApOwotCQkJSTkxNV9XUklURShJQ0xfUE9SVF9Q
Q1NfRFcxX0FVWChwb3J0KSwgdG1wKTsKKwkJCUk5MTVfV1JJVEUoSUNMX1BPUlRfUENTX0RXMV9B
VVgocGh5KSwgdG1wKTsKIAotCQkJdG1wID0gSTkxNV9SRUFEKElDTF9QT1JUX1BDU19EVzFfTE4w
KHBvcnQpKTsKKwkJCXRtcCA9IEk5MTVfUkVBRChJQ0xfUE9SVF9QQ1NfRFcxX0xOMChwaHkpKTsK
IAkJCXRtcCAmPSB+TEFURU5DWV9PUFRJTV9NQVNLOwogCQkJdG1wIHw9IExBVEVOQ1lfT1BUSU1f
VkFMKDB4MSk7Ci0JCQlJOTE1X1dSSVRFKElDTF9QT1JUX1BDU19EVzFfR1JQKHBvcnQpLCB0bXAp
OworCQkJSTkxNV9XUklURShJQ0xfUE9SVF9QQ1NfRFcxX0dSUChwaHkpLCB0bXApOwogCQl9CiAJ
fQogCkBAIC00MjUsMTYgKzQyNCwxNiBAQCBzdGF0aWMgdm9pZCBnZW4xMV9kc2lfdm9sdGFnZV9z
d2luZ19wcm9ncmFtX3NlcShzdHJ1Y3QgaW50ZWxfZW5jb2RlciAqZW5jb2RlcikKIAlzdHJ1Y3Qg
ZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYgPSB0b19pOTE1KGVuY29kZXItPmJhc2UuZGV2KTsK
IAlzdHJ1Y3QgaW50ZWxfZHNpICppbnRlbF9kc2kgPSBlbmNfdG9faW50ZWxfZHNpKCZlbmNvZGVy
LT5iYXNlKTsKIAl1MzIgdG1wOwotCWVudW0gcG9ydCBwb3J0OworCWVudW0gcGh5IHBoeTsKIAog
CS8qIGNsZWFyIGNvbW1vbiBrZWVwZXIgZW5hYmxlIGJpdCAqLwotCWZvcl9lYWNoX2RzaV9wb3J0
KHBvcnQsIGludGVsX2RzaS0+cG9ydHMpIHsKLQkJdG1wID0gSTkxNV9SRUFEKElDTF9QT1JUX1BD
U19EVzFfTE4wKHBvcnQpKTsKKwlmb3JfZWFjaF9kc2lfcGh5KHBoeSwgaW50ZWxfZHNpLT5waHlz
KSB7CisJCXRtcCA9IEk5MTVfUkVBRChJQ0xfUE9SVF9QQ1NfRFcxX0xOMChwaHkpKTsKIAkJdG1w
ICY9IH5DT01NT05fS0VFUEVSX0VOOwotCQlJOTE1X1dSSVRFKElDTF9QT1JUX1BDU19EVzFfR1JQ
KHBvcnQpLCB0bXApOwotCQl0bXAgPSBJOTE1X1JFQUQoSUNMX1BPUlRfUENTX0RXMV9BVVgocG9y
dCkpOworCQlJOTE1X1dSSVRFKElDTF9QT1JUX1BDU19EVzFfR1JQKHBoeSksIHRtcCk7CisJCXRt
cCA9IEk5MTVfUkVBRChJQ0xfUE9SVF9QQ1NfRFcxX0FVWChwaHkpKTsKIAkJdG1wICY9IH5DT01N
T05fS0VFUEVSX0VOOwotCQlJOTE1X1dSSVRFKElDTF9QT1JUX1BDU19EVzFfQVVYKHBvcnQpLCB0
bXApOworCQlJOTE1X1dSSVRFKElDTF9QT1JUX1BDU19EVzFfQVVYKHBoeSksIHRtcCk7CiAJfQog
CiAJLyoKQEAgLTQ0MiwzMyArNDQxLDMzIEBAIHN0YXRpYyB2b2lkIGdlbjExX2RzaV92b2x0YWdl
X3N3aW5nX3Byb2dyYW1fc2VxKHN0cnVjdCBpbnRlbF9lbmNvZGVyICplbmNvZGVyKQogCSAqIE5v
dGU6IGxvYWRnZW4gc2VsZWN0IHByb2dyYW0gaXMgZG9uZQogCSAqIGFzIHBhcnQgb2YgbGFuZSBw
aHkgc2VxdWVuY2UgY29uZmlndXJhdGlvbgogCSAqLwotCWZvcl9lYWNoX2RzaV9wb3J0KHBvcnQs
IGludGVsX2RzaS0+cG9ydHMpIHsKLQkJdG1wID0gSTkxNV9SRUFEKElDTF9QT1JUX0NMX0RXNShw
b3J0KSk7CisJZm9yX2VhY2hfZHNpX3BoeShwaHksIGludGVsX2RzaS0+cGh5cykgeworCQl0bXAg
PSBJOTE1X1JFQUQoSUNMX1BPUlRfQ0xfRFc1KHBoeSkpOwogCQl0bXAgfD0gU1VTX0NMT0NLX0NP
TkZJRzsKLQkJSTkxNV9XUklURShJQ0xfUE9SVF9DTF9EVzUocG9ydCksIHRtcCk7CisJCUk5MTVf
V1JJVEUoSUNMX1BPUlRfQ0xfRFc1KHBoeSksIHRtcCk7CiAJfQogCiAJLyogQ2xlYXIgdHJhaW5p
bmcgZW5hYmxlIHRvIGNoYW5nZSBzd2luZyB2YWx1ZXMgKi8KLQlmb3JfZWFjaF9kc2lfcG9ydChw
b3J0LCBpbnRlbF9kc2ktPnBvcnRzKSB7Ci0JCXRtcCA9IEk5MTVfUkVBRChJQ0xfUE9SVF9UWF9E
VzVfTE4wKHBvcnQpKTsKKwlmb3JfZWFjaF9kc2lfcGh5KHBoeSwgaW50ZWxfZHNpLT5waHlzKSB7
CisJCXRtcCA9IEk5MTVfUkVBRChJQ0xfUE9SVF9UWF9EVzVfTE4wKHBoeSkpOwogCQl0bXAgJj0g
flRYX1RSQUlOSU5HX0VOOwotCQlJOTE1X1dSSVRFKElDTF9QT1JUX1RYX0RXNV9HUlAocG9ydCks
IHRtcCk7Ci0JCXRtcCA9IEk5MTVfUkVBRChJQ0xfUE9SVF9UWF9EVzVfQVVYKHBvcnQpKTsKKwkJ
STkxNV9XUklURShJQ0xfUE9SVF9UWF9EVzVfR1JQKHBoeSksIHRtcCk7CisJCXRtcCA9IEk5MTVf
UkVBRChJQ0xfUE9SVF9UWF9EVzVfQVVYKHBoeSkpOwogCQl0bXAgJj0gflRYX1RSQUlOSU5HX0VO
OwotCQlJOTE1X1dSSVRFKElDTF9QT1JUX1RYX0RXNV9BVVgocG9ydCksIHRtcCk7CisJCUk5MTVf
V1JJVEUoSUNMX1BPUlRfVFhfRFc1X0FVWChwaHkpLCB0bXApOwogCX0KIAogCS8qIFByb2dyYW0g
c3dpbmcgYW5kIGRlLWVtcGhhc2lzICovCiAJZHNpX3Byb2dyYW1fc3dpbmdfYW5kX2RlZW1waGFz
aXMoZW5jb2Rlcik7CiAKIAkvKiBTZXQgdHJhaW5pbmcgZW5hYmxlIHRvIHRyaWdnZXIgdXBkYXRl
ICovCi0JZm9yX2VhY2hfZHNpX3BvcnQocG9ydCwgaW50ZWxfZHNpLT5wb3J0cykgewotCQl0bXAg
PSBJOTE1X1JFQUQoSUNMX1BPUlRfVFhfRFc1X0xOMChwb3J0KSk7CisJZm9yX2VhY2hfZHNpX3Bo
eShwaHksIGludGVsX2RzaS0+cGh5cykgeworCQl0bXAgPSBJOTE1X1JFQUQoSUNMX1BPUlRfVFhf
RFc1X0xOMChwaHkpKTsKIAkJdG1wIHw9IFRYX1RSQUlOSU5HX0VOOwotCQlJOTE1X1dSSVRFKElD
TF9QT1JUX1RYX0RXNV9HUlAocG9ydCksIHRtcCk7Ci0JCXRtcCA9IEk5MTVfUkVBRChJQ0xfUE9S
VF9UWF9EVzVfQVVYKHBvcnQpKTsKKwkJSTkxNV9XUklURShJQ0xfUE9SVF9UWF9EVzVfR1JQKHBo
eSksIHRtcCk7CisJCXRtcCA9IEk5MTVfUkVBRChJQ0xfUE9SVF9UWF9EVzVfQVVYKHBoeSkpOwog
CQl0bXAgfD0gVFhfVFJBSU5JTkdfRU47Ci0JCUk5MTVfV1JJVEUoSUNMX1BPUlRfVFhfRFc1X0FV
WChwb3J0KSwgdG1wKTsKKwkJSTkxNV9XUklURShJQ0xfUE9SVF9UWF9EVzVfQVVYKHBoeSksIHRt
cCk7CiAJfQogfQogCkBAIC00OTcsNiArNDk2LDcgQEAgc3RhdGljIHZvaWQgZ2VuMTFfZHNpX3Nl
dHVwX2RwaHlfdGltaW5ncyhzdHJ1Y3QgaW50ZWxfZW5jb2RlciAqZW5jb2RlcikKIAlzdHJ1Y3Qg
aW50ZWxfZHNpICppbnRlbF9kc2kgPSBlbmNfdG9faW50ZWxfZHNpKCZlbmNvZGVyLT5iYXNlKTsK
IAl1MzIgdG1wOwogCWVudW0gcG9ydCBwb3J0OworCWVudW0gcGh5IHBoeTsKIAogCS8qIFByb2dy
YW0gVC1JTklUIG1hc3RlciByZWdpc3RlcnMgKi8KIAlmb3JfZWFjaF9kc2lfcG9ydChwb3J0LCBp
bnRlbF9kc2ktPnBvcnRzKSB7CkBAIC01NDYsMTAgKzU0NiwxMCBAQCBzdGF0aWMgdm9pZCBnZW4x
MV9kc2lfc2V0dXBfZHBoeV90aW1pbmdzKHN0cnVjdCBpbnRlbF9lbmNvZGVyICplbmNvZGVyKQog
CX0KIAogCWlmIChJU19FTEtIQVJUTEFLRShkZXZfcHJpdikpIHsKLQkJZm9yX2VhY2hfZHNpX3Bv
cnQocG9ydCwgaW50ZWxfZHNpLT5wb3J0cykgewotCQkJdG1wID0gSTkxNV9SRUFEKElDTF9EUEhZ
X0NIS04ocG9ydCkpOworCQlmb3JfZWFjaF9kc2lfcGh5KHBoeSwgaW50ZWxfZHNpLT5waHlzKSB7
CisJCQl0bXAgPSBJOTE1X1JFQUQoSUNMX0RQSFlfQ0hLTihwaHkpKTsKIAkJCXRtcCB8PSBJQ0xf
RFBIWV9DSEtOX0FGRV9PVkVSX1BQSV9TVFJBUDsKLQkJCUk5MTVfV1JJVEUoSUNMX0RQSFlfQ0hL
Tihwb3J0KSwgdG1wKTsKKwkJCUk5MTVfV1JJVEUoSUNMX0RQSFlfQ0hLTihwaHkpLCB0bXApOwog
CQl9CiAJfQogfQpAQCAtNTU5LDE1ICs1NTksMTIgQEAgc3RhdGljIHZvaWQgZ2VuMTFfZHNpX2dh
dGVfY2xvY2tzKHN0cnVjdCBpbnRlbF9lbmNvZGVyICplbmNvZGVyKQogCXN0cnVjdCBkcm1faTkx
NV9wcml2YXRlICpkZXZfcHJpdiA9IHRvX2k5MTUoZW5jb2Rlci0+YmFzZS5kZXYpOwogCXN0cnVj
dCBpbnRlbF9kc2kgKmludGVsX2RzaSA9IGVuY190b19pbnRlbF9kc2koJmVuY29kZXItPmJhc2Up
OwogCXUzMiB0bXA7Ci0JZW51bSBwb3J0IHBvcnQ7CiAJZW51bSBwaHkgcGh5OwogCiAJbXV0ZXhf
bG9jaygmZGV2X3ByaXYtPmRwbGxfbG9jayk7CiAJdG1wID0gSTkxNV9SRUFEKERQQ0xLQV9DRkdD
UjBfSUNMKTsKLQlmb3JfZWFjaF9kc2lfcG9ydChwb3J0LCBpbnRlbF9kc2ktPnBvcnRzKSB7Ci0J
CXBoeSA9IGludGVsX3BvcnRfdG9fcGh5KGRldl9wcml2LCBwb3J0KTsKKwlmb3JfZWFjaF9kc2lf
cGh5KHBoeSwgaW50ZWxfZHNpLT5waHlzKQogCQl0bXAgfD0gSUNMX0RQQ0xLQV9DRkdDUjBfRERJ
X0NMS19PRkYocGh5KTsKLQl9CiAKIAlJOTE1X1dSSVRFKERQQ0xLQV9DRkdDUjBfSUNMLCB0bXAp
OwogCW11dGV4X3VubG9jaygmZGV2X3ByaXYtPmRwbGxfbG9jayk7CkBAIC01NzgsMTUgKzU3NSwx
MiBAQCBzdGF0aWMgdm9pZCBnZW4xMV9kc2lfdW5nYXRlX2Nsb2NrcyhzdHJ1Y3QgaW50ZWxfZW5j
b2RlciAqZW5jb2RlcikKIAlzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYgPSB0b19p
OTE1KGVuY29kZXItPmJhc2UuZGV2KTsKIAlzdHJ1Y3QgaW50ZWxfZHNpICppbnRlbF9kc2kgPSBl
bmNfdG9faW50ZWxfZHNpKCZlbmNvZGVyLT5iYXNlKTsKIAl1MzIgdG1wOwotCWVudW0gcG9ydCBw
b3J0OwogCWVudW0gcGh5IHBoeTsKIAogCW11dGV4X2xvY2soJmRldl9wcml2LT5kcGxsX2xvY2sp
OwogCXRtcCA9IEk5MTVfUkVBRChEUENMS0FfQ0ZHQ1IwX0lDTCk7Ci0JZm9yX2VhY2hfZHNpX3Bv
cnQocG9ydCwgaW50ZWxfZHNpLT5wb3J0cykgewotCQlwaHkgPSBpbnRlbF9wb3J0X3RvX3BoeShk
ZXZfcHJpdiwgcG9ydCk7CisJZm9yX2VhY2hfZHNpX3BoeShwaHksIGludGVsX2RzaS0+cGh5cykK
IAkJdG1wICY9IH5JQ0xfRFBDTEtBX0NGR0NSMF9ERElfQ0xLX09GRihwaHkpOwotCX0KIAogCUk5
MTVfV1JJVEUoRFBDTEtBX0NGR0NSMF9JQ0wsIHRtcCk7CiAJbXV0ZXhfdW5sb2NrKCZkZXZfcHJp
di0+ZHBsbF9sb2NrKTsKQEAgLTU5OCwyMiArNTkyLDE5IEBAIHN0YXRpYyB2b2lkIGdlbjExX2Rz
aV9tYXBfcGxsKHN0cnVjdCBpbnRlbF9lbmNvZGVyICplbmNvZGVyLAogCXN0cnVjdCBkcm1faTkx
NV9wcml2YXRlICpkZXZfcHJpdiA9IHRvX2k5MTUoZW5jb2Rlci0+YmFzZS5kZXYpOwogCXN0cnVj
dCBpbnRlbF9kc2kgKmludGVsX2RzaSA9IGVuY190b19pbnRlbF9kc2koJmVuY29kZXItPmJhc2Up
OwogCXN0cnVjdCBpbnRlbF9zaGFyZWRfZHBsbCAqcGxsID0gY3J0Y19zdGF0ZS0+c2hhcmVkX2Rw
bGw7Ci0JZW51bSBwb3J0IHBvcnQ7CiAJZW51bSBwaHkgcGh5OwogCXUzMiB2YWw7CiAKIAltdXRl
eF9sb2NrKCZkZXZfcHJpdi0+ZHBsbF9sb2NrKTsKIAogCXZhbCA9IEk5MTVfUkVBRChEUENMS0Ff
Q0ZHQ1IwX0lDTCk7Ci0JZm9yX2VhY2hfZHNpX3BvcnQocG9ydCwgaW50ZWxfZHNpLT5wb3J0cykg
ewotCQlwaHkgPSBpbnRlbF9wb3J0X3RvX3BoeShkZXZfcHJpdiwgcG9ydCk7CisJZm9yX2VhY2hf
ZHNpX3BoeShwaHksIGludGVsX2RzaS0+cGh5cykgewogCQl2YWwgJj0gfklDTF9EUENMS0FfQ0ZH
Q1IwX0RESV9DTEtfU0VMX01BU0socGh5KTsKIAkJdmFsIHw9IElDTF9EUENMS0FfQ0ZHQ1IwX0RE
SV9DTEtfU0VMKHBsbC0+aW5mby0+aWQsIHBoeSk7CiAJfQogCUk5MTVfV1JJVEUoRFBDTEtBX0NG
R0NSMF9JQ0wsIHZhbCk7CiAKLQlmb3JfZWFjaF9kc2lfcG9ydChwb3J0LCBpbnRlbF9kc2ktPnBv
cnRzKSB7Ci0JCXBoeSA9IGludGVsX3BvcnRfdG9fcGh5KGRldl9wcml2LCBwb3J0KTsKKwlmb3Jf
ZWFjaF9kc2lfcGh5KHBoeSwgaW50ZWxfZHNpLT5waHlzKSB7CiAJCXZhbCAmPSB+SUNMX0RQQ0xL
QV9DRkdDUjBfRERJX0NMS19PRkYocGh5KTsKIAl9CiAJSTkxNV9XUklURShEUENMS0FfQ0ZHQ1Iw
X0lDTCwgdmFsKTsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50
ZWxfY29tYm9fcGh5LmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2NvbWJv
X3BoeS5jCmluZGV4IGQzZDUyNDQ3NjVlNi4uYWM4MjE4YTA0MGFiIDEwMDY0NAotLS0gYS9kcml2
ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2NvbWJvX3BoeS5jCisrKyBiL2RyaXZlcnMv
Z3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfY29tYm9fcGh5LmMKQEAgLTYsMTMgKzYsMTMgQEAK
ICNpbmNsdWRlICJpbnRlbF9jb21ib19waHkuaCIKICNpbmNsdWRlICJpbnRlbF9kcnYuaCIKIAot
I2RlZmluZSBmb3JfZWFjaF9jb21ib19wb3J0KF9fZGV2X3ByaXYsIF9fcG9ydCkgXAotCWZvciAo
KF9fcG9ydCkgPSBQT1JUX0E7IChfX3BvcnQpIDwgSTkxNV9NQVhfUE9SVFM7IChfX3BvcnQpKysp
CVwKLQkJZm9yX2VhY2hfaWYoaW50ZWxfcG9ydF9pc19jb21ib3BoeShfX2Rldl9wcml2LCBfX3Bv
cnQpKQorI2RlZmluZSBmb3JfZWFjaF9jb21ib19waHkoX19kZXZfcHJpdiwgX19waHkpIFwKKwlm
b3IgKChfX3BoeSkgPSBQSFlfQTsgKF9fcGh5KSA8IEk5MTVfTUFYX1BIWVM7IChfX3BoeSkrKykJ
XAorCQlmb3JfZWFjaF9pZihpbnRlbF9waHlfaXNfY29tYm8oX19kZXZfcHJpdiwgX19waHkpKQog
Ci0jZGVmaW5lIGZvcl9lYWNoX2NvbWJvX3BvcnRfcmV2ZXJzZShfX2Rldl9wcml2LCBfX3BvcnQp
IFwKLQlmb3IgKChfX3BvcnQpID0gSTkxNV9NQVhfUE9SVFM7IChfX3BvcnQpLS0gPiBQT1JUX0E7
KSBcCi0JCWZvcl9lYWNoX2lmKGludGVsX3BvcnRfaXNfY29tYm9waHkoX19kZXZfcHJpdiwgX19w
b3J0KSkKKyNkZWZpbmUgZm9yX2VhY2hfY29tYm9fcGh5X3JldmVyc2UoX19kZXZfcHJpdiwgX19w
aHkpIFwKKwlmb3IgKChfX3BoeSkgPSBJOTE1X01BWF9QSFlTOyAoX19waHkpLS0gPiBQSFlfQTsp
IFwKKwkJZm9yX2VhY2hfaWYoaW50ZWxfcGh5X2lzX2NvbWJvKF9fZGV2X3ByaXYsIF9fcGh5KSkK
IAogZW51bSB7CiAJUFJPQ01PTl8wXzg1Vl9ET1RfMCwKQEAgLTM4LDE4ICszOCwxNyBAQCBzdGF0
aWMgY29uc3Qgc3RydWN0IGNubF9wcm9jbW9uIHsKIH07CiAKIC8qCi0gKiBDTkwgaGFzIGp1c3Qg
b25lIHNldCBvZiByZWdpc3RlcnMsIHdoaWxlIElDTCBoYXMgdHdvIHNldHM6IG9uZSBmb3IgcG9y
dCBBIGFuZAotICogdGhlIG90aGVyIGZvciBwb3J0IEIuIFRoZSBDTkwgcmVnaXN0ZXJzIGFyZSBl
cXVpdmFsZW50IHRvIHRoZSBJQ0wgcG9ydCBBCi0gKiByZWdpc3RlcnMsIHRoYXQncyB3aHkgd2Ug
Y2FsbCB0aGUgSUNMIG1hY3JvcyBldmVuIHRob3VnaCB0aGUgZnVuY3Rpb24gaGFzIENOTAotICog
b24gaXRzIG5hbWUuCisgKiBDTkwgaGFzIGp1c3Qgb25lIHNldCBvZiByZWdpc3RlcnMsIHdoaWxl
IGdlbjExIGhhcyBhIHNldCBmb3IgZWFjaCBjb21ibyBQSFkuCisgKiBUaGUgQ05MIHJlZ2lzdGVy
cyBhcmUgZXF1aXZhbGVudCB0byB0aGUgZ2VuMTEgUEhZIEEgcmVnaXN0ZXJzLCB0aGF0J3Mgd2h5
IHdlCisgKiBjYWxsIHRoZSBJQ0wgbWFjcm9zIGV2ZW4gdGhvdWdoIHRoZSBmdW5jdGlvbiBoYXMg
Q05MIG9uIGl0cyBuYW1lLgogICovCiBzdGF0aWMgY29uc3Qgc3RydWN0IGNubF9wcm9jbW9uICoK
LWNubF9nZXRfcHJvY21vbl9yZWZfdmFsdWVzKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZf
cHJpdiwgZW51bSBwb3J0IHBvcnQpCitjbmxfZ2V0X3Byb2Ntb25fcmVmX3ZhbHVlcyhzdHJ1Y3Qg
ZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYsIGVudW0gcGh5IHBoeSkKIHsKIAljb25zdCBzdHJ1
Y3QgY25sX3Byb2Ntb24gKnByb2Ntb247CiAJdTMyIHZhbDsKIAotCXZhbCA9IEk5MTVfUkVBRChJ
Q0xfUE9SVF9DT01QX0RXMyhwb3J0KSk7CisJdmFsID0gSTkxNV9SRUFEKElDTF9QT1JUX0NPTVBf
RFczKHBoeSkpOwogCXN3aXRjaCAodmFsICYgKFBST0NFU1NfSU5GT19NQVNLIHwgVk9MVEFHRV9J
TkZPX01BU0spKSB7CiAJZGVmYXVsdDoKIAkJTUlTU0lOR19DQVNFKHZhbCk7CkBAIC03NSwzMiAr
NzQsMzIgQEAgY25sX2dldF9wcm9jbW9uX3JlZl92YWx1ZXMoc3RydWN0IGRybV9pOTE1X3ByaXZh
dGUgKmRldl9wcml2LCBlbnVtIHBvcnQgcG9ydCkKIH0KIAogc3RhdGljIHZvaWQgY25sX3NldF9w
cm9jbW9uX3JlZl92YWx1ZXMoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2LAotCQkJ
CSAgICAgICBlbnVtIHBvcnQgcG9ydCkKKwkJCQkgICAgICAgZW51bSBwaHkgcGh5KQogewogCWNv
bnN0IHN0cnVjdCBjbmxfcHJvY21vbiAqcHJvY21vbjsKIAl1MzIgdmFsOwogCi0JcHJvY21vbiA9
IGNubF9nZXRfcHJvY21vbl9yZWZfdmFsdWVzKGRldl9wcml2LCBwb3J0KTsKKwlwcm9jbW9uID0g
Y25sX2dldF9wcm9jbW9uX3JlZl92YWx1ZXMoZGV2X3ByaXYsIHBoeSk7CiAKLQl2YWwgPSBJOTE1
X1JFQUQoSUNMX1BPUlRfQ09NUF9EVzEocG9ydCkpOworCXZhbCA9IEk5MTVfUkVBRChJQ0xfUE9S
VF9DT01QX0RXMShwaHkpKTsKIAl2YWwgJj0gfigoMHhmZiA8PCAxNikgfCAweGZmKTsKIAl2YWwg
fD0gcHJvY21vbi0+ZHcxOwotCUk5MTVfV1JJVEUoSUNMX1BPUlRfQ09NUF9EVzEocG9ydCksIHZh
bCk7CisJSTkxNV9XUklURShJQ0xfUE9SVF9DT01QX0RXMShwaHkpLCB2YWwpOwogCi0JSTkxNV9X
UklURShJQ0xfUE9SVF9DT01QX0RXOShwb3J0KSwgcHJvY21vbi0+ZHc5KTsKLQlJOTE1X1dSSVRF
KElDTF9QT1JUX0NPTVBfRFcxMChwb3J0KSwgcHJvY21vbi0+ZHcxMCk7CisJSTkxNV9XUklURShJ
Q0xfUE9SVF9DT01QX0RXOShwaHkpLCBwcm9jbW9uLT5kdzkpOworCUk5MTVfV1JJVEUoSUNMX1BP
UlRfQ09NUF9EVzEwKHBoeSksIHByb2Ntb24tPmR3MTApOwogfQogCiBzdGF0aWMgYm9vbCBjaGVj
a19waHlfcmVnKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiwKLQkJCSAgZW51bSBw
b3J0IHBvcnQsIGk5MTVfcmVnX3QgcmVnLCB1MzIgbWFzaywKKwkJCSAgZW51bSBwaHkgcGh5LCBp
OTE1X3JlZ190IHJlZywgdTMyIG1hc2ssCiAJCQkgIHUzMiBleHBlY3RlZF92YWwpCiB7CiAJdTMy
IHZhbCA9IEk5MTVfUkVBRChyZWcpOwogCiAJaWYgKCh2YWwgJiBtYXNrKSAhPSBleHBlY3RlZF92
YWwpIHsKLQkJRFJNX0RFQlVHX0RSSVZFUigiUG9ydCAlYyBjb21ibyBQSFkgcmVnICUwOHggc3Rh
dGUgbWlzbWF0Y2g6ICIKKwkJRFJNX0RFQlVHX0RSSVZFUigiQ29tYm8gUEhZICVjIHJlZyAlMDh4
IHN0YXRlIG1pc21hdGNoOiAiCiAJCQkJICJjdXJyZW50ICUwOHggbWFzayAlMDh4IGV4cGVjdGVk
ICUwOHhcbiIsCi0JCQkJIHBvcnRfbmFtZShwb3J0KSwKKwkJCQkgcGh5X25hbWUocGh5KSwKIAkJ
CQkgcmVnLnJlZywgdmFsLCBtYXNrLCBleHBlY3RlZF92YWwpOwogCQlyZXR1cm4gZmFsc2U7CiAJ
fQpAQCAtMTA5LDE4ICsxMDgsMTggQEAgc3RhdGljIGJvb2wgY2hlY2tfcGh5X3JlZyhzdHJ1Y3Qg
ZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYsCiB9CiAKIHN0YXRpYyBib29sIGNubF92ZXJpZnlf
cHJvY21vbl9yZWZfdmFsdWVzKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiwKLQkJ
CQkJICBlbnVtIHBvcnQgcG9ydCkKKwkJCQkJICBlbnVtIHBoeSBwaHkpCiB7CiAJY29uc3Qgc3Ry
dWN0IGNubF9wcm9jbW9uICpwcm9jbW9uOwogCWJvb2wgcmV0OwogCi0JcHJvY21vbiA9IGNubF9n
ZXRfcHJvY21vbl9yZWZfdmFsdWVzKGRldl9wcml2LCBwb3J0KTsKKwlwcm9jbW9uID0gY25sX2dl
dF9wcm9jbW9uX3JlZl92YWx1ZXMoZGV2X3ByaXYsIHBoeSk7CiAKLQlyZXQgPSBjaGVja19waHlf
cmVnKGRldl9wcml2LCBwb3J0LCBJQ0xfUE9SVF9DT01QX0RXMShwb3J0KSwKKwlyZXQgPSBjaGVj
a19waHlfcmVnKGRldl9wcml2LCBwaHksIElDTF9QT1JUX0NPTVBfRFcxKHBoeSksCiAJCQkgICAg
KDB4ZmYgPDwgMTYpIHwgMHhmZiwgcHJvY21vbi0+ZHcxKTsKLQlyZXQgJj0gY2hlY2tfcGh5X3Jl
ZyhkZXZfcHJpdiwgcG9ydCwgSUNMX1BPUlRfQ09NUF9EVzkocG9ydCksCisJcmV0ICY9IGNoZWNr
X3BoeV9yZWcoZGV2X3ByaXYsIHBoeSwgSUNMX1BPUlRfQ09NUF9EVzkocGh5KSwKIAkJCSAgICAg
LTFVLCBwcm9jbW9uLT5kdzkpOwotCXJldCAmPSBjaGVja19waHlfcmVnKGRldl9wcml2LCBwb3J0
LCBJQ0xfUE9SVF9DT01QX0RXMTAocG9ydCksCisJcmV0ICY9IGNoZWNrX3BoeV9yZWcoZGV2X3By
aXYsIHBoeSwgSUNMX1BPUlRfQ09NUF9EVzEwKHBoeSksCiAJCQkgICAgIC0xVSwgcHJvY21vbi0+
ZHcxMCk7CiAKIAlyZXR1cm4gcmV0OwpAQCAtMTM0LDE1ICsxMzMsMTUgQEAgc3RhdGljIGJvb2wg
Y25sX2NvbWJvX3BoeV9lbmFibGVkKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdikK
IAogc3RhdGljIGJvb2wgY25sX2NvbWJvX3BoeV92ZXJpZnlfc3RhdGUoc3RydWN0IGRybV9pOTE1
X3ByaXZhdGUgKmRldl9wcml2KQogewotCWVudW0gcG9ydCBwb3J0ID0gUE9SVF9BOworCWVudW0g
cGh5IHBoeSA9IFBIWV9BOwogCWJvb2wgcmV0OwogCiAJaWYgKCFjbmxfY29tYm9fcGh5X2VuYWJs
ZWQoZGV2X3ByaXYpKQogCQlyZXR1cm4gZmFsc2U7CiAKLQlyZXQgPSBjbmxfdmVyaWZ5X3Byb2Nt
b25fcmVmX3ZhbHVlcyhkZXZfcHJpdiwgcG9ydCk7CisJcmV0ID0gY25sX3ZlcmlmeV9wcm9jbW9u
X3JlZl92YWx1ZXMoZGV2X3ByaXYsIHBoeSk7CiAKLQlyZXQgJj0gY2hlY2tfcGh5X3JlZyhkZXZf
cHJpdiwgcG9ydCwgQ05MX1BPUlRfQ0wxQ01fRFc1LAorCXJldCAmPSBjaGVja19waHlfcmVnKGRl
dl9wcml2LCBwaHksIENOTF9QT1JUX0NMMUNNX0RXNSwKIAkJCSAgICAgQ0xfUE9XRVJfRE9XTl9F
TkFCTEUsIENMX1BPV0VSX0RPV05fRU5BQkxFKTsKIAogCXJldHVybiByZXQ7CkBAIC0xNTcsNyAr
MTU2LDcgQEAgc3RhdGljIHZvaWQgY25sX2NvbWJvX3BoeXNfaW5pdChzdHJ1Y3QgZHJtX2k5MTVf
cHJpdmF0ZSAqZGV2X3ByaXYpCiAJSTkxNV9XUklURShDSElDS0VOX01JU0NfMiwgdmFsKTsKIAog
CS8qIER1bW15IFBPUlRfQSB0byBnZXQgdGhlIGNvcnJlY3QgQ05MIHJlZ2lzdGVyIGZyb20gdGhl
IElDTCBtYWNybyAqLwotCWNubF9zZXRfcHJvY21vbl9yZWZfdmFsdWVzKGRldl9wcml2LCBQT1JU
X0EpOworCWNubF9zZXRfcHJvY21vbl9yZWZfdmFsdWVzKGRldl9wcml2LCBQSFlfQSk7CiAKIAl2
YWwgPSBJOTE1X1JFQUQoQ05MX1BPUlRfQ09NUF9EVzApOwogCXZhbCB8PSBDT01QX0lOSVQ7CkBA
IC0xODEsMzkgKzE4MCwzOSBAQCBzdGF0aWMgdm9pZCBjbmxfY29tYm9fcGh5c191bmluaXQoc3Ry
dWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2KQogfQogCiBzdGF0aWMgYm9vbCBpY2xfY29t
Ym9fcGh5X2VuYWJsZWQoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2LAotCQkJCSAg
ZW51bSBwb3J0IHBvcnQpCisJCQkJICBlbnVtIHBoeSBwaHkpCiB7CiAJLyogVGhlIFBIWSBDIGFk
ZGVkIGJ5IEVITCBoYXMgbm8gUEhZX01JU0MgcmVnaXN0ZXIgKi8KLQlpZiAoSVNfRUxLSEFSVExB
S0UoZGV2X3ByaXYpICYmIHBvcnQgPT0gUE9SVF9DKQotCQlyZXR1cm4gSTkxNV9SRUFEKElDTF9Q
T1JUX0NPTVBfRFcwKHBvcnQpKSAmIENPTVBfSU5JVDsKKwlpZiAoSVNfRUxLSEFSVExBS0UoZGV2
X3ByaXYpICYmIHBoeSA9PSBQSFlfQykKKwkJcmV0dXJuIEk5MTVfUkVBRChJQ0xfUE9SVF9DT01Q
X0RXMChwaHkpKSAmIENPTVBfSU5JVDsKIAllbHNlCi0JCXJldHVybiAhKEk5MTVfUkVBRChJQ0xf
UEhZX01JU0MocG9ydCkpICYKKwkJcmV0dXJuICEoSTkxNV9SRUFEKElDTF9QSFlfTUlTQyhwaHkp
KSAmCiAJCQkgSUNMX1BIWV9NSVNDX0RFX0lPX0NPTVBfUFdSX0RPV04pICYmCi0JCQkoSTkxNV9S
RUFEKElDTF9QT1JUX0NPTVBfRFcwKHBvcnQpKSAmIENPTVBfSU5JVCk7CisJCQkoSTkxNV9SRUFE
KElDTF9QT1JUX0NPTVBfRFcwKHBoeSkpICYgQ09NUF9JTklUKTsKIH0KIAogc3RhdGljIGJvb2wg
aWNsX2NvbWJvX3BoeV92ZXJpZnlfc3RhdGUoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9w
cml2LAotCQkJCSAgICAgICBlbnVtIHBvcnQgcG9ydCkKKwkJCQkgICAgICAgZW51bSBwaHkgcGh5
KQogewogCWJvb2wgcmV0OwogCi0JaWYgKCFpY2xfY29tYm9fcGh5X2VuYWJsZWQoZGV2X3ByaXYs
IHBvcnQpKQorCWlmICghaWNsX2NvbWJvX3BoeV9lbmFibGVkKGRldl9wcml2LCBwaHkpKQogCQly
ZXR1cm4gZmFsc2U7CiAKLQlyZXQgPSBjbmxfdmVyaWZ5X3Byb2Ntb25fcmVmX3ZhbHVlcyhkZXZf
cHJpdiwgcG9ydCk7CisJcmV0ID0gY25sX3ZlcmlmeV9wcm9jbW9uX3JlZl92YWx1ZXMoZGV2X3By
aXYsIHBoeSk7CiAKLQlpZiAocG9ydCA9PSBQT1JUX0EpCi0JCXJldCAmPSBjaGVja19waHlfcmVn
KGRldl9wcml2LCBwb3J0LCBJQ0xfUE9SVF9DT01QX0RXOChwb3J0KSwKKwlpZiAocGh5ID09IFBI
WV9BKQorCQlyZXQgJj0gY2hlY2tfcGh5X3JlZyhkZXZfcHJpdiwgcGh5LCBJQ0xfUE9SVF9DT01Q
X0RXOChwaHkpLAogCQkJCSAgICAgSVJFRkdFTiwgSVJFRkdFTik7CiAKLQlyZXQgJj0gY2hlY2tf
cGh5X3JlZyhkZXZfcHJpdiwgcG9ydCwgSUNMX1BPUlRfQ0xfRFc1KHBvcnQpLAorCXJldCAmPSBj
aGVja19waHlfcmVnKGRldl9wcml2LCBwaHksIElDTF9QT1JUX0NMX0RXNShwaHkpLAogCQkJICAg
ICBDTF9QT1dFUl9ET1dOX0VOQUJMRSwgQ0xfUE9XRVJfRE9XTl9FTkFCTEUpOwogCiAJcmV0dXJu
IHJldDsKIH0KIAogdm9pZCBpbnRlbF9jb21ib19waHlfcG93ZXJfdXBfbGFuZXMoc3RydWN0IGRy
bV9pOTE1X3ByaXZhdGUgKmRldl9wcml2LAotCQkJCSAgICBlbnVtIHBvcnQgcG9ydCwgYm9vbCBp
c19kc2ksCisJCQkJICAgIGVudW0gcGh5IHBoeSwgYm9vbCBpc19kc2ksCiAJCQkJICAgIGludCBs
YW5lX2NvdW50LCBib29sIGxhbmVfcmV2ZXJzYWwpCiB7CiAJdTggbGFuZV9tYXNrOwpAQCAtMjU4
LDEwICsyNTcsMTAgQEAgdm9pZCBpbnRlbF9jb21ib19waHlfcG93ZXJfdXBfbGFuZXMoc3RydWN0
IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2LAogCQl9CiAJfQogCi0JdmFsID0gSTkxNV9SRUFE
KElDTF9QT1JUX0NMX0RXMTAocG9ydCkpOworCXZhbCA9IEk5MTVfUkVBRChJQ0xfUE9SVF9DTF9E
VzEwKHBoeSkpOwogCXZhbCAmPSB+UFdSX0RPV05fTE5fTUFTSzsKIAl2YWwgfD0gbGFuZV9tYXNr
IDw8IFBXUl9ET1dOX0xOX1NISUZUOwotCUk5MTVfV1JJVEUoSUNMX1BPUlRfQ0xfRFcxMChwb3J0
KSwgdmFsKTsKKwlJOTE1X1dSSVRFKElDTF9QT1JUX0NMX0RXMTAocGh5KSwgdmFsKTsKIH0KIAog
c3RhdGljIHUzMiBlaGxfY29tYm9fcGh5X2FfbXV4KHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpp
OTE1LCB1MzIgdmFsKQpAQCAtMjkyLDE0ICsyOTEsMTQgQEAgc3RhdGljIHUzMiBlaGxfY29tYm9f
cGh5X2FfbXV4KHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICppOTE1LCB1MzIgdmFsKQogCiBzdGF0
aWMgdm9pZCBpY2xfY29tYm9fcGh5c19pbml0KHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZf
cHJpdikKIHsKLQllbnVtIHBvcnQgcG9ydDsKKwllbnVtIHBoeSBwaHk7CiAKLQlmb3JfZWFjaF9j
b21ib19wb3J0KGRldl9wcml2LCBwb3J0KSB7CisJZm9yX2VhY2hfY29tYm9fcGh5KGRldl9wcml2
LCBwaHkpIHsKIAkJdTMyIHZhbDsKIAotCQlpZiAoaWNsX2NvbWJvX3BoeV92ZXJpZnlfc3RhdGUo
ZGV2X3ByaXYsIHBvcnQpKSB7Ci0JCQlEUk1fREVCVUdfRFJJVkVSKCJQb3J0ICVjIGNvbWJvIFBI
WSBhbHJlYWR5IGVuYWJsZWQsIHdvbid0IHJlcHJvZ3JhbSBpdC5cbiIsCi0JCQkJCSBwb3J0X25h
bWUocG9ydCkpOworCQlpZiAoaWNsX2NvbWJvX3BoeV92ZXJpZnlfc3RhdGUoZGV2X3ByaXYsIHBo
eSkpIHsKKwkJCURSTV9ERUJVR19EUklWRVIoIkNvbWJvIFBIWSAlYyBhbHJlYWR5IGVuYWJsZWQs
IHdvbid0IHJlcHJvZ3JhbSBpdC5cbiIsCisJCQkJCSBwaHlfbmFtZShwaHkpKTsKIAkJCWNvbnRp
bnVlOwogCQl9CiAKQEAgLTMwOCw3ICszMDcsNyBAQCBzdGF0aWMgdm9pZCBpY2xfY29tYm9fcGh5
c19pbml0KHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdikKIAkJICogcmVnaXN0ZXIg
Zm9yIGl0IGFuZCBubyBuZWVkIHRvIHByb2dyYW0gdGhlCiAJCSAqIERFX0lPX0NPTVBfUFdSX0RP
V04gc2V0dGluZyBvbiBQSFkgQy4KIAkJICovCi0JCWlmIChJU19FTEtIQVJUTEFLRShkZXZfcHJp
dikgJiYgcG9ydCA9PSBQT1JUX0MpCisJCWlmIChJU19FTEtIQVJUTEFLRShkZXZfcHJpdikgJiYg
cGh5ID09IFBIWV9DKQogCQkJZ290byBza2lwX3BoeV9taXNjOwogCiAJCS8qCkBAIC0zMTksNTkg
KzMxOCw1OSBAQCBzdGF0aWMgdm9pZCBpY2xfY29tYm9fcGh5c19pbml0KHN0cnVjdCBkcm1faTkx
NV9wcml2YXRlICpkZXZfcHJpdikKIAkJICogYmFzZWQgb24gd2hldGhlciBvdXIgVkJUIGluZGlj
YXRlcyB0aGUgcHJlc2VuY2Ugb2YgYW55CiAJCSAqICJpbnRlcm5hbCIgY2hpbGQgZGV2aWNlcy4K
IAkJICovCi0JCXZhbCA9IEk5MTVfUkVBRChJQ0xfUEhZX01JU0MocG9ydCkpOwotCQlpZiAoSVNf
RUxLSEFSVExBS0UoZGV2X3ByaXYpICYmIHBvcnQgPT0gUE9SVF9BKQorCQl2YWwgPSBJOTE1X1JF
QUQoSUNMX1BIWV9NSVNDKHBoeSkpOworCQlpZiAoSVNfRUxLSEFSVExBS0UoZGV2X3ByaXYpICYm
IHBoeSA9PSBQSFlfQSkKIAkJCXZhbCA9IGVobF9jb21ib19waHlfYV9tdXgoZGV2X3ByaXYsIHZh
bCk7CiAJCXZhbCAmPSB+SUNMX1BIWV9NSVNDX0RFX0lPX0NPTVBfUFdSX0RPV047Ci0JCUk5MTVf
V1JJVEUoSUNMX1BIWV9NSVNDKHBvcnQpLCB2YWwpOworCQlJOTE1X1dSSVRFKElDTF9QSFlfTUlT
QyhwaHkpLCB2YWwpOwogCiBza2lwX3BoeV9taXNjOgotCQljbmxfc2V0X3Byb2Ntb25fcmVmX3Zh
bHVlcyhkZXZfcHJpdiwgcG9ydCk7CisJCWNubF9zZXRfcHJvY21vbl9yZWZfdmFsdWVzKGRldl9w
cml2LCBwaHkpOwogCi0JCWlmIChwb3J0ID09IFBPUlRfQSkgewotCQkJdmFsID0gSTkxNV9SRUFE
KElDTF9QT1JUX0NPTVBfRFc4KHBvcnQpKTsKKwkJaWYgKHBoeSA9PSBQSFlfQSkgeworCQkJdmFs
ID0gSTkxNV9SRUFEKElDTF9QT1JUX0NPTVBfRFc4KHBoeSkpOwogCQkJdmFsIHw9IElSRUZHRU47
Ci0JCQlJOTE1X1dSSVRFKElDTF9QT1JUX0NPTVBfRFc4KHBvcnQpLCB2YWwpOworCQkJSTkxNV9X
UklURShJQ0xfUE9SVF9DT01QX0RXOChwaHkpLCB2YWwpOwogCQl9CiAKLQkJdmFsID0gSTkxNV9S
RUFEKElDTF9QT1JUX0NPTVBfRFcwKHBvcnQpKTsKKwkJdmFsID0gSTkxNV9SRUFEKElDTF9QT1JU
X0NPTVBfRFcwKHBoeSkpOwogCQl2YWwgfD0gQ09NUF9JTklUOwotCQlJOTE1X1dSSVRFKElDTF9Q
T1JUX0NPTVBfRFcwKHBvcnQpLCB2YWwpOworCQlJOTE1X1dSSVRFKElDTF9QT1JUX0NPTVBfRFcw
KHBoeSksIHZhbCk7CiAKLQkJdmFsID0gSTkxNV9SRUFEKElDTF9QT1JUX0NMX0RXNShwb3J0KSk7
CisJCXZhbCA9IEk5MTVfUkVBRChJQ0xfUE9SVF9DTF9EVzUocGh5KSk7CiAJCXZhbCB8PSBDTF9Q
T1dFUl9ET1dOX0VOQUJMRTsKLQkJSTkxNV9XUklURShJQ0xfUE9SVF9DTF9EVzUocG9ydCksIHZh
bCk7CisJCUk5MTVfV1JJVEUoSUNMX1BPUlRfQ0xfRFc1KHBoeSksIHZhbCk7CiAJfQogfQogCiBz
dGF0aWMgdm9pZCBpY2xfY29tYm9fcGh5c191bmluaXQoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUg
KmRldl9wcml2KQogewotCWVudW0gcG9ydCBwb3J0OworCWVudW0gcGh5IHBoeTsKIAotCWZvcl9l
YWNoX2NvbWJvX3BvcnRfcmV2ZXJzZShkZXZfcHJpdiwgcG9ydCkgeworCWZvcl9lYWNoX2NvbWJv
X3BoeV9yZXZlcnNlKGRldl9wcml2LCBwaHkpIHsKIAkJdTMyIHZhbDsKIAotCQlpZiAocG9ydCA9
PSBQT1JUX0EgJiYKLQkJICAgICFpY2xfY29tYm9fcGh5X3ZlcmlmeV9zdGF0ZShkZXZfcHJpdiwg
cG9ydCkpCi0JCQlEUk1fV0FSTigiUG9ydCAlYyBjb21ibyBQSFkgSFcgc3RhdGUgY2hhbmdlZCB1
bmV4cGVjdGVkbHlcbiIsCi0JCQkJIHBvcnRfbmFtZShwb3J0KSk7CisJCWlmIChwaHkgPT0gUEhZ
X0EgJiYKKwkJICAgICFpY2xfY29tYm9fcGh5X3ZlcmlmeV9zdGF0ZShkZXZfcHJpdiwgcGh5KSkK
KwkJCURSTV9XQVJOKCJDb21ibyBQSFkgJWMgSFcgc3RhdGUgY2hhbmdlZCB1bmV4cGVjdGVkbHlc
biIsCisJCQkJIHBoeV9uYW1lKHBoeSkpOwogCiAJCS8qCiAJCSAqIEFsdGhvdWdoIEVITCBhZGRz
IGEgY29tYm8gUEhZIEMsIHRoZXJlJ3Mgbm8gUEhZX01JU0MKIAkJICogcmVnaXN0ZXIgZm9yIGl0
IGFuZCBubyBuZWVkIHRvIHByb2dyYW0gdGhlCiAJCSAqIERFX0lPX0NPTVBfUFdSX0RPV04gc2V0
dGluZyBvbiBQSFkgQy4KIAkJICovCi0JCWlmIChJU19FTEtIQVJUTEFLRShkZXZfcHJpdikgJiYg
cG9ydCA9PSBQT1JUX0MpCisJCWlmIChJU19FTEtIQVJUTEFLRShkZXZfcHJpdikgJiYgcGh5ID09
IFBIWV9DKQogCQkJZ290byBza2lwX3BoeV9taXNjOwogCi0JCXZhbCA9IEk5MTVfUkVBRChJQ0xf
UEhZX01JU0MocG9ydCkpOworCQl2YWwgPSBJOTE1X1JFQUQoSUNMX1BIWV9NSVNDKHBoeSkpOwog
CQl2YWwgfD0gSUNMX1BIWV9NSVNDX0RFX0lPX0NPTVBfUFdSX0RPV047Ci0JCUk5MTVfV1JJVEUo
SUNMX1BIWV9NSVNDKHBvcnQpLCB2YWwpOworCQlJOTE1X1dSSVRFKElDTF9QSFlfTUlTQyhwaHkp
LCB2YWwpOwogCiBza2lwX3BoeV9taXNjOgotCQl2YWwgPSBJOTE1X1JFQUQoSUNMX1BPUlRfQ09N
UF9EVzAocG9ydCkpOworCQl2YWwgPSBJOTE1X1JFQUQoSUNMX1BPUlRfQ09NUF9EVzAocGh5KSk7
CiAJCXZhbCAmPSB+Q09NUF9JTklUOwotCQlJOTE1X1dSSVRFKElDTF9QT1JUX0NPTVBfRFcwKHBv
cnQpLCB2YWwpOworCQlJOTE1X1dSSVRFKElDTF9QT1JUX0NPTVBfRFcwKHBoeSksIHZhbCk7CiAJ
fQogfQogCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Nv
bWJvX3BoeS5oIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9jb21ib19waHku
aAppbmRleCBlNmUxOTVhODNiMTkuLjgwYTEzODZiNGM4NyAxMDA2NDQKLS0tIGEvZHJpdmVycy9n
cHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9jb21ib19waHkuaAorKysgYi9kcml2ZXJzL2dwdS9k
cm0vaTkxNS9kaXNwbGF5L2ludGVsX2NvbWJvX3BoeS5oCkBAIC0xMCwxMSArMTAsMTIgQEAKICNp
bmNsdWRlIDxkcm0vaTkxNV9kcm0uaD4KIAogc3RydWN0IGRybV9pOTE1X3ByaXZhdGU7CitlbnVt
IHBoeTsKIAogdm9pZCBpbnRlbF9jb21ib19waHlfaW5pdChzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0
ZSAqZGV2X3ByaXYpOwogdm9pZCBpbnRlbF9jb21ib19waHlfdW5pbml0KHN0cnVjdCBkcm1faTkx
NV9wcml2YXRlICpkZXZfcHJpdik7CiB2b2lkIGludGVsX2NvbWJvX3BoeV9wb3dlcl91cF9sYW5l
cyhzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYsCi0JCQkJICAgIGVudW0gcG9ydCBw
b3J0LCBib29sIGlzX2RzaSwKKwkJCQkgICAgZW51bSBwaHkgcGh5LCBib29sIGlzX2RzaSwKIAkJ
CQkgICAgaW50IGxhbmVfY291bnQsIGJvb2wgbGFuZV9yZXZlcnNhbCk7CiAKICNlbmRpZiAvKiBf
X0lOVEVMX0NPTUJPX1BIWV9IX18gKi8KZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1
L2Rpc3BsYXkvaW50ZWxfZGRpLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVs
X2RkaS5jCmluZGV4IGE0MGE1MzUyN2Q5OS4uNTBkZDlkNzMxNDU2IDEwMDY0NAotLS0gYS9kcml2
ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2RkaS5jCisrKyBiL2RyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGRpLmMKQEAgLTI0MTQsNyArMjQxNCw3IEBAIHN0YXRpYyB2
b2lkIGNubF9kZGlfdnN3aW5nX3NlcXVlbmNlKHN0cnVjdCBpbnRlbF9lbmNvZGVyICplbmNvZGVy
LAogfQogCiBzdGF0aWMgdm9pZCBpY2xfZGRpX2NvbWJvX3Zzd2luZ19wcm9ncmFtKHN0cnVjdCBk
cm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiwKLQkJCQkJdTMyIGxldmVsLCBlbnVtIHBvcnQgcG9y
dCwgaW50IHR5cGUsCisJCQkJCXUzMiBsZXZlbCwgZW51bSBwaHkgcGh5LCBpbnQgdHlwZSwKIAkJ
CQkJaW50IHJhdGUpCiB7CiAJY29uc3Qgc3RydWN0IGNubF9kZGlfYnVmX3RyYW5zICpkZGlfdHJh
bnNsYXRpb25zID0gTlVMTDsKQEAgLTI0MzIsNDEgKzI0MzIsNDEgQEAgc3RhdGljIHZvaWQgaWNs
X2RkaV9jb21ib192c3dpbmdfcHJvZ3JhbShzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3By
aXYsCiAJfQogCiAJLyogU2V0IFBPUlRfVFhfRFc1ICovCi0JdmFsID0gSTkxNV9SRUFEKElDTF9Q
T1JUX1RYX0RXNV9MTjAocG9ydCkpOworCXZhbCA9IEk5MTVfUkVBRChJQ0xfUE9SVF9UWF9EVzVf
TE4wKHBoeSkpOwogCXZhbCAmPSB+KFNDQUxJTkdfTU9ERV9TRUxfTUFTSyB8IFJURVJNX1NFTEVD
VF9NQVNLIHwKIAkJICBUQVAyX0RJU0FCTEUgfCBUQVAzX0RJU0FCTEUpOwogCXZhbCB8PSBTQ0FM
SU5HX01PREVfU0VMKDB4Mik7CiAJdmFsIHw9IFJURVJNX1NFTEVDVCgweDYpOwogCXZhbCB8PSBU
QVAzX0RJU0FCTEU7Ci0JSTkxNV9XUklURShJQ0xfUE9SVF9UWF9EVzVfR1JQKHBvcnQpLCB2YWwp
OworCUk5MTVfV1JJVEUoSUNMX1BPUlRfVFhfRFc1X0dSUChwaHkpLCB2YWwpOwogCiAJLyogUHJv
Z3JhbSBQT1JUX1RYX0RXMiAqLwotCXZhbCA9IEk5MTVfUkVBRChJQ0xfUE9SVF9UWF9EVzJfTE4w
KHBvcnQpKTsKKwl2YWwgPSBJOTE1X1JFQUQoSUNMX1BPUlRfVFhfRFcyX0xOMChwaHkpKTsKIAl2
YWwgJj0gfihTV0lOR19TRUxfTE9XRVJfTUFTSyB8IFNXSU5HX1NFTF9VUFBFUl9NQVNLIHwKIAkJ
IFJDT01QX1NDQUxBUl9NQVNLKTsKIAl2YWwgfD0gU1dJTkdfU0VMX1VQUEVSKGRkaV90cmFuc2xh
dGlvbnNbbGV2ZWxdLmR3Ml9zd2luZ19zZWwpOwogCXZhbCB8PSBTV0lOR19TRUxfTE9XRVIoZGRp
X3RyYW5zbGF0aW9uc1tsZXZlbF0uZHcyX3N3aW5nX3NlbCk7CiAJLyogUHJvZ3JhbSBSY29tcCBz
Y2FsYXIgZm9yIGV2ZXJ5IHRhYmxlIGVudHJ5ICovCiAJdmFsIHw9IFJDT01QX1NDQUxBUigweDk4
KTsKLQlJOTE1X1dSSVRFKElDTF9QT1JUX1RYX0RXMl9HUlAocG9ydCksIHZhbCk7CisJSTkxNV9X
UklURShJQ0xfUE9SVF9UWF9EVzJfR1JQKHBoeSksIHZhbCk7CiAKIAkvKiBQcm9ncmFtIFBPUlRf
VFhfRFc0ICovCiAJLyogV2UgY2Fubm90IHdyaXRlIHRvIEdSUC4gSXQgd291bGQgb3ZlcndyaXRl
IGluZGl2aWR1YWwgbG9hZGdlbi4gKi8KIAlmb3IgKGxuID0gMDsgbG4gPD0gMzsgbG4rKykgewot
CQl2YWwgPSBJOTE1X1JFQUQoSUNMX1BPUlRfVFhfRFc0X0xOKGxuLCBwb3J0KSk7CisJCXZhbCA9
IEk5MTVfUkVBRChJQ0xfUE9SVF9UWF9EVzRfTE4obG4sIHBoeSkpOwogCQl2YWwgJj0gfihQT1NU
X0NVUlNPUl8xX01BU0sgfCBQT1NUX0NVUlNPUl8yX01BU0sgfAogCQkJIENVUlNPUl9DT0VGRl9N
QVNLKTsKIAkJdmFsIHw9IFBPU1RfQ1VSU09SXzEoZGRpX3RyYW5zbGF0aW9uc1tsZXZlbF0uZHc0
X3Bvc3RfY3Vyc29yXzEpOwogCQl2YWwgfD0gUE9TVF9DVVJTT1JfMihkZGlfdHJhbnNsYXRpb25z
W2xldmVsXS5kdzRfcG9zdF9jdXJzb3JfMik7CiAJCXZhbCB8PSBDVVJTT1JfQ09FRkYoZGRpX3Ry
YW5zbGF0aW9uc1tsZXZlbF0uZHc0X2N1cnNvcl9jb2VmZik7Ci0JCUk5MTVfV1JJVEUoSUNMX1BP
UlRfVFhfRFc0X0xOKGxuLCBwb3J0KSwgdmFsKTsKKwkJSTkxNV9XUklURShJQ0xfUE9SVF9UWF9E
VzRfTE4obG4sIHBoeSksIHZhbCk7CiAJfQogCiAJLyogUHJvZ3JhbSBQT1JUX1RYX0RXNyAqLwot
CXZhbCA9IEk5MTVfUkVBRChJQ0xfUE9SVF9UWF9EVzdfTE4wKHBvcnQpKTsKKwl2YWwgPSBJOTE1
X1JFQUQoSUNMX1BPUlRfVFhfRFc3X0xOMChwaHkpKTsKIAl2YWwgJj0gfk5fU0NBTEFSX01BU0s7
CiAJdmFsIHw9IE5fU0NBTEFSKGRkaV90cmFuc2xhdGlvbnNbbGV2ZWxdLmR3N19uX3NjYWxhcik7
Ci0JSTkxNV9XUklURShJQ0xfUE9SVF9UWF9EVzdfR1JQKHBvcnQpLCB2YWwpOworCUk5MTVfV1JJ
VEUoSUNMX1BPUlRfVFhfRFc3X0dSUChwaHkpLCB2YWwpOwogfQogCiBzdGF0aWMgdm9pZCBpY2xf
Y29tYm9fcGh5X2RkaV92c3dpbmdfc2VxdWVuY2Uoc3RydWN0IGludGVsX2VuY29kZXIgKmVuY29k
ZXIsCkBAIC0yNDc0LDcgKzI0NzQsNyBAQCBzdGF0aWMgdm9pZCBpY2xfY29tYm9fcGh5X2RkaV92
c3dpbmdfc2VxdWVuY2Uoc3RydWN0IGludGVsX2VuY29kZXIgKmVuY29kZXIsCiAJCQkJCSAgICAg
IGVudW0gaW50ZWxfb3V0cHV0X3R5cGUgdHlwZSkKIHsKIAlzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0
ZSAqZGV2X3ByaXYgPSB0b19pOTE1KGVuY29kZXItPmJhc2UuZGV2KTsKLQllbnVtIHBvcnQgcG9y
dCA9IGVuY29kZXItPnBvcnQ7CisJZW51bSBwaHkgcGh5ID0gaW50ZWxfcG9ydF90b19waHkoZGV2
X3ByaXYsIGVuY29kZXItPnBvcnQpOwogCWludCB3aWR0aCA9IDA7CiAJaW50IHJhdGUgPSAwOwog
CXUzMiB2YWw7CkBAIC0yNDk1LDEyICsyNDk1LDEyIEBAIHN0YXRpYyB2b2lkIGljbF9jb21ib19w
aHlfZGRpX3Zzd2luZ19zZXF1ZW5jZShzdHJ1Y3QgaW50ZWxfZW5jb2RlciAqZW5jb2RlciwKIAkg
KiBzZXQgUE9SVF9QQ1NfRFcxIGNtbmtlZXBlcl9lbmFibGUgdG8gMWIsCiAJICogZWxzZSBjbGVh
ciB0byAwYi4KIAkgKi8KLQl2YWwgPSBJOTE1X1JFQUQoSUNMX1BPUlRfUENTX0RXMV9MTjAocG9y
dCkpOworCXZhbCA9IEk5MTVfUkVBRChJQ0xfUE9SVF9QQ1NfRFcxX0xOMChwaHkpKTsKIAlpZiAo
dHlwZSA9PSBJTlRFTF9PVVRQVVRfSERNSSkKIAkJdmFsICY9IH5DT01NT05fS0VFUEVSX0VOOwog
CWVsc2UKIAkJdmFsIHw9IENPTU1PTl9LRUVQRVJfRU47Ci0JSTkxNV9XUklURShJQ0xfUE9SVF9Q
Q1NfRFcxX0dSUChwb3J0KSwgdmFsKTsKKwlJOTE1X1dSSVRFKElDTF9QT1JUX1BDU19EVzFfR1JQ
KHBoeSksIHZhbCk7CiAKIAkvKiAyLiBQcm9ncmFtIGxvYWRnZW4gc2VsZWN0ICovCiAJLyoKQEAg
LTI1MTAsMzMgKzI1MTAsMzMgQEAgc3RhdGljIHZvaWQgaWNsX2NvbWJvX3BoeV9kZGlfdnN3aW5n
X3NlcXVlbmNlKHN0cnVjdCBpbnRlbF9lbmNvZGVyICplbmNvZGVyLAogCSAqID4gNiBHSHogKExO
MD0wLCBMTjE9MCwgTE4yPTAsIExOMz0wKQogCSAqLwogCWZvciAobG4gPSAwOyBsbiA8PSAzOyBs
bisrKSB7Ci0JCXZhbCA9IEk5MTVfUkVBRChJQ0xfUE9SVF9UWF9EVzRfTE4obG4sIHBvcnQpKTsK
KwkJdmFsID0gSTkxNV9SRUFEKElDTF9QT1JUX1RYX0RXNF9MTihsbiwgcGh5KSk7CiAJCXZhbCAm
PSB+TE9BREdFTl9TRUxFQ1Q7CiAKIAkJaWYgKChyYXRlIDw9IDYwMDAwMCAmJiB3aWR0aCA9PSA0
ICYmIGxuID49IDEpIHx8CiAJCSAgICAocmF0ZSA8PSA2MDAwMDAgJiYgd2lkdGggPCA0ICYmIChs
biA9PSAxIHx8IGxuID09IDIpKSkgewogCQkJdmFsIHw9IExPQURHRU5fU0VMRUNUOwogCQl9Ci0J
CUk5MTVfV1JJVEUoSUNMX1BPUlRfVFhfRFc0X0xOKGxuLCBwb3J0KSwgdmFsKTsKKwkJSTkxNV9X
UklURShJQ0xfUE9SVF9UWF9EVzRfTE4obG4sIHBoeSksIHZhbCk7CiAJfQogCiAJLyogMy4gU2V0
IFBPUlRfQ0xfRFc1IFNVUyBDbG9jayBDb25maWcgdG8gMTFiICovCi0JdmFsID0gSTkxNV9SRUFE
KElDTF9QT1JUX0NMX0RXNShwb3J0KSk7CisJdmFsID0gSTkxNV9SRUFEKElDTF9QT1JUX0NMX0RX
NShwaHkpKTsKIAl2YWwgfD0gU1VTX0NMT0NLX0NPTkZJRzsKLQlJOTE1X1dSSVRFKElDTF9QT1JU
X0NMX0RXNShwb3J0KSwgdmFsKTsKKwlJOTE1X1dSSVRFKElDTF9QT1JUX0NMX0RXNShwaHkpLCB2
YWwpOwogCiAJLyogNC4gQ2xlYXIgdHJhaW5pbmcgZW5hYmxlIHRvIGNoYW5nZSBzd2luZyB2YWx1
ZXMgKi8KLQl2YWwgPSBJOTE1X1JFQUQoSUNMX1BPUlRfVFhfRFc1X0xOMChwb3J0KSk7CisJdmFs
ID0gSTkxNV9SRUFEKElDTF9QT1JUX1RYX0RXNV9MTjAocGh5KSk7CiAJdmFsICY9IH5UWF9UUkFJ
TklOR19FTjsKLQlJOTE1X1dSSVRFKElDTF9QT1JUX1RYX0RXNV9HUlAocG9ydCksIHZhbCk7CisJ
STkxNV9XUklURShJQ0xfUE9SVF9UWF9EVzVfR1JQKHBoeSksIHZhbCk7CiAKIAkvKiA1LiBQcm9n
cmFtIHN3aW5nIGFuZCBkZS1lbXBoYXNpcyAqLwotCWljbF9kZGlfY29tYm9fdnN3aW5nX3Byb2dy
YW0oZGV2X3ByaXYsIGxldmVsLCBwb3J0LCB0eXBlLCByYXRlKTsKKwlpY2xfZGRpX2NvbWJvX3Zz
d2luZ19wcm9ncmFtKGRldl9wcml2LCBsZXZlbCwgcGh5LCB0eXBlLCByYXRlKTsKIAogCS8qIDYu
IFNldCB0cmFpbmluZyBlbmFibGUgdG8gdHJpZ2dlciB1cGRhdGUgKi8KLQl2YWwgPSBJOTE1X1JF
QUQoSUNMX1BPUlRfVFhfRFc1X0xOMChwb3J0KSk7CisJdmFsID0gSTkxNV9SRUFEKElDTF9QT1JU
X1RYX0RXNV9MTjAocGh5KSk7CiAJdmFsIHw9IFRYX1RSQUlOSU5HX0VOOwotCUk5MTVfV1JJVEUo
SUNMX1BPUlRfVFhfRFc1X0dSUChwb3J0KSwgdmFsKTsKKwlJOTE1X1dSSVRFKElDTF9QT1JUX1RY
X0RXNV9HUlAocGh5KSwgdmFsKTsKIH0KIAogc3RhdGljIHZvaWQgaWNsX21nX3BoeV9kZGlfdnN3
aW5nX3NlcXVlbmNlKHN0cnVjdCBpbnRlbF9lbmNvZGVyICplbmNvZGVyLApAQCAtMzEyMCw2ICsz
MTIwLDcgQEAgc3RhdGljIHZvaWQgaW50ZWxfZGRpX3ByZV9lbmFibGVfZHAoc3RydWN0IGludGVs
X2VuY29kZXIgKmVuY29kZXIsCiAJc3RydWN0IGludGVsX2RwICppbnRlbF9kcCA9IGVuY190b19p
bnRlbF9kcCgmZW5jb2Rlci0+YmFzZSk7CiAJc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9w
cml2ID0gdG9faTkxNShlbmNvZGVyLT5iYXNlLmRldik7CiAJZW51bSBwb3J0IHBvcnQgPSBlbmNv
ZGVyLT5wb3J0OworCWVudW0gcGh5IHBoeSA9IGludGVsX3BvcnRfdG9fcGh5KGRldl9wcml2LCBw
b3J0KTsKIAlzdHJ1Y3QgaW50ZWxfZGlnaXRhbF9wb3J0ICpkaWdfcG9ydCA9IGVuY190b19kaWdf
cG9ydCgmZW5jb2Rlci0+YmFzZSk7CiAJYm9vbCBpc19tc3QgPSBpbnRlbF9jcnRjX2hhc190eXBl
KGNydGNfc3RhdGUsIElOVEVMX09VVFBVVF9EUF9NU1QpOwogCWludCBsZXZlbCA9IGludGVsX2Rk
aV9kcF9sZXZlbChpbnRlbF9kcCk7CkBAIC0zMTU1LDcgKzMxNTYsNyBAQCBzdGF0aWMgdm9pZCBp
bnRlbF9kZGlfcHJlX2VuYWJsZV9kcChzdHJ1Y3QgaW50ZWxfZW5jb2RlciAqZW5jb2RlciwKIAkJ
Ym9vbCBsYW5lX3JldmVyc2FsID0KIAkJCWRpZ19wb3J0LT5zYXZlZF9wb3J0X2JpdHMgJiBERElf
QlVGX1BPUlRfUkVWRVJTQUw7CiAKLQkJaW50ZWxfY29tYm9fcGh5X3Bvd2VyX3VwX2xhbmVzKGRl
dl9wcml2LCBwb3J0LCBmYWxzZSwKKwkJaW50ZWxfY29tYm9fcGh5X3Bvd2VyX3VwX2xhbmVzKGRl
dl9wcml2LCBwaHksIGZhbHNlLAogCQkJCQkgICAgICAgY3J0Y19zdGF0ZS0+bGFuZV9jb3VudCwK
IAkJCQkJICAgICAgIGxhbmVfcmV2ZXJzYWwpOwogCX0KZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1
L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheS5oIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUv
ZGlzcGxheS9pbnRlbF9kaXNwbGF5LmgKaW5kZXggZDUzMjg1ZmI4ODNmLi44YTRhNTdlZjgyYTIg
MTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheS5o
CisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheS5oCkBAIC0y
NjgsNiArMjY4LDEwIEBAIGVudW0gcGh5IHsKIAlmb3IgKChfX3BvcnQpID0gUE9SVF9BOyAoX19w
b3J0KSA8IEk5MTVfTUFYX1BPUlRTOyAoX19wb3J0KSsrKQlcCiAJCWZvcl9lYWNoX2lmKChfX3Bv
cnRzX21hc2spICYgQklUKF9fcG9ydCkpCiAKKyNkZWZpbmUgZm9yX2VhY2hfcGh5X21hc2tlZChf
X3BoeSwgX19waHlzX21hc2spIFwKKwlmb3IgKChfX3BoeSkgPSBQSFlfQTsgKF9fcGh5KSA8IEk5
MTVfTUFYX1BIWVM7IChfX3BoeSkrKykJXAorCQlmb3JfZWFjaF9pZigoX19waHlzX21hc2spICYg
QklUKF9fcGh5KSkKKwogI2RlZmluZSBmb3JfZWFjaF9jcnRjKGRldiwgY3J0YykgXAogCWxpc3Rf
Zm9yX2VhY2hfZW50cnkoY3J0YywgJihkZXYpLT5tb2RlX2NvbmZpZy5jcnRjX2xpc3QsIGhlYWQp
CiAKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxh
eV9wb3dlci5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5X3Bv
d2VyLmMKaW5kZXggYzE5Yjk1ODQ2MWNhLi42NDYyN2MxMTdjMzEgMTAwNjQ0Ci0tLSBhL2RyaXZl
cnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheV9wb3dlci5jCisrKyBiL2RyaXZl
cnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheV9wb3dlci5jCkBAIC0zOTUsNyAr
Mzk1LDcgQEAgc3RhdGljIHZvaWQgaHN3X3Bvd2VyX3dlbGxfZGlzYWJsZShzdHJ1Y3QgZHJtX2k5
MTVfcHJpdmF0ZSAqZGV2X3ByaXYsCiAJaHN3X3dhaXRfZm9yX3Bvd2VyX3dlbGxfZGlzYWJsZShk
ZXZfcHJpdiwgcG93ZXJfd2VsbCk7CiB9CiAKLSNkZWZpbmUgSUNMX0FVWF9QV19UT19QT1JUKHB3
X2lkeCkJKChwd19pZHgpIC0gSUNMX1BXX0NUTF9JRFhfQVVYX0EpCisjZGVmaW5lIElDTF9BVVhf
UFdfVE9fUEhZKHB3X2lkeCkJKChwd19pZHgpIC0gSUNMX1BXX0NUTF9JRFhfQVVYX0EpCiAKIHN0
YXRpYyB2b2lkCiBpY2xfY29tYm9fcGh5X2F1eF9wb3dlcl93ZWxsX2VuYWJsZShzdHJ1Y3QgZHJt
X2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYsCkBAIC00MDMsMjEgKzQwMywyMSBAQCBpY2xfY29tYm9f
cGh5X2F1eF9wb3dlcl93ZWxsX2VuYWJsZShzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3By
aXYsCiB7CiAJY29uc3Qgc3RydWN0IGk5MTVfcG93ZXJfd2VsbF9yZWdzICpyZWdzID0gcG93ZXJf
d2VsbC0+ZGVzYy0+aHN3LnJlZ3M7CiAJaW50IHB3X2lkeCA9IHBvd2VyX3dlbGwtPmRlc2MtPmhz
dy5pZHg7Ci0JZW51bSBwb3J0IHBvcnQgPSBJQ0xfQVVYX1BXX1RPX1BPUlQocHdfaWR4KTsKKwll
bnVtIHBoeSBwaHkgPSBJQ0xfQVVYX1BXX1RPX1BIWShwd19pZHgpOwogCXUzMiB2YWw7CiAKIAl2
YWwgPSBJOTE1X1JFQUQocmVncy0+ZHJpdmVyKTsKIAlJOTE1X1dSSVRFKHJlZ3MtPmRyaXZlciwg
dmFsIHwgSFNXX1BXUl9XRUxMX0NUTF9SRVEocHdfaWR4KSk7CiAKLQl2YWwgPSBJOTE1X1JFQUQo
SUNMX1BPUlRfQ0xfRFcxMihwb3J0KSk7Ci0JSTkxNV9XUklURShJQ0xfUE9SVF9DTF9EVzEyKHBv
cnQpLCB2YWwgfCBJQ0xfTEFORV9FTkFCTEVfQVVYKTsKKwl2YWwgPSBJOTE1X1JFQUQoSUNMX1BP
UlRfQ0xfRFcxMihwaHkpKTsKKwlJOTE1X1dSSVRFKElDTF9QT1JUX0NMX0RXMTIocGh5KSwgdmFs
IHwgSUNMX0xBTkVfRU5BQkxFX0FVWCk7CiAKIAloc3dfd2FpdF9mb3JfcG93ZXJfd2VsbF9lbmFi
bGUoZGV2X3ByaXYsIHBvd2VyX3dlbGwpOwogCiAJLyogRGlzcGxheSBXQSAjMTE3ODogaWNsICov
CiAJaWYgKElTX0lDRUxBS0UoZGV2X3ByaXYpICYmCiAJICAgIHB3X2lkeCA+PSBJQ0xfUFdfQ1RM
X0lEWF9BVVhfQSAmJiBwd19pZHggPD0gSUNMX1BXX0NUTF9JRFhfQVVYX0IgJiYKLQkgICAgIWlu
dGVsX2Jpb3NfaXNfcG9ydF9lZHAoZGV2X3ByaXYsIHBvcnQpKSB7CisJICAgICFpbnRlbF9iaW9z
X2lzX3BvcnRfZWRwKGRldl9wcml2LCAoZW51bSBwb3J0KXBoeSkpIHsKIAkJdmFsID0gSTkxNV9S
RUFEKElDTF9BVVhfQU5BT1ZSRDEocHdfaWR4KSk7CiAJCXZhbCB8PSBJQ0xfQVVYX0FOQU9WUkQx
X0VOQUJMRSB8IElDTF9BVVhfQU5BT1ZSRDFfTERPX0JZUEFTUzsKIAkJSTkxNV9XUklURShJQ0xf
QVVYX0FOQU9WUkQxKHB3X2lkeCksIHZhbCk7CkBAIC00MzAsMTEgKzQzMCwxMSBAQCBpY2xfY29t
Ym9fcGh5X2F1eF9wb3dlcl93ZWxsX2Rpc2FibGUoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRl
dl9wcml2LAogewogCWNvbnN0IHN0cnVjdCBpOTE1X3Bvd2VyX3dlbGxfcmVncyAqcmVncyA9IHBv
d2VyX3dlbGwtPmRlc2MtPmhzdy5yZWdzOwogCWludCBwd19pZHggPSBwb3dlcl93ZWxsLT5kZXNj
LT5oc3cuaWR4OwotCWVudW0gcG9ydCBwb3J0ID0gSUNMX0FVWF9QV19UT19QT1JUKHB3X2lkeCk7
CisJZW51bSBwaHkgcGh5ID0gSUNMX0FVWF9QV19UT19QSFkocHdfaWR4KTsKIAl1MzIgdmFsOwog
Ci0JdmFsID0gSTkxNV9SRUFEKElDTF9QT1JUX0NMX0RXMTIocG9ydCkpOwotCUk5MTVfV1JJVEUo
SUNMX1BPUlRfQ0xfRFcxMihwb3J0KSwgdmFsICYgfklDTF9MQU5FX0VOQUJMRV9BVVgpOworCXZh
bCA9IEk5MTVfUkVBRChJQ0xfUE9SVF9DTF9EVzEyKHBoeSkpOworCUk5MTVfV1JJVEUoSUNMX1BP
UlRfQ0xfRFcxMihwaHkpLCB2YWwgJiB+SUNMX0xBTkVfRU5BQkxFX0FVWCk7CiAKIAl2YWwgPSBJ
OTE1X1JFQUQocmVncy0+ZHJpdmVyKTsKIAlJOTE1X1dSSVRFKHJlZ3MtPmRyaXZlciwgdmFsICYg
fkhTV19QV1JfV0VMTF9DVExfUkVRKHB3X2lkeCkpOwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUv
ZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kc2kuaCBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3Bs
YXkvaW50ZWxfZHNpLmgKaW5kZXggNmQyMDQzNDYzNmNkLi4xY2QyNGJkNDY1MTggMTAwNjQ0Ci0t
LSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZHNpLmgKKysrIGIvZHJpdmVy
cy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kc2kuaApAQCAtNDksOCArNDksMTEgQEAgc3Ry
dWN0IGludGVsX2RzaSB7CiAKIAlzdHJ1Y3QgaW50ZWxfY29ubmVjdG9yICphdHRhY2hlZF9jb25u
ZWN0b3I7CiAKLQkvKiBiaXQgbWFzayBvZiBwb3J0cyBiZWluZyBkcml2ZW4gKi8KLQl1MTYgcG9y
dHM7CisJLyogYml0IG1hc2sgb2YgcG9ydHMgKHZsdiBkc2kpIG9yIHBoeXMgKGljbCBkc2kpIGJl
aW5nIGRyaXZlbiAqLworCXVuaW9uIHsKKwkJdTE2IHBvcnRzOwkvKiBWTFYgRFNJICovCisJCXUx
NiBwaHlzOwkvKiBJQ0wgRFNJICovCisJfTsKIAogCS8qIGlmIHRydWUsIHVzZSBIUyBtb2RlLCBv
dGhlcndpc2UgTFAgKi8KIAlib29sIGhzOwpAQCAtMTMyLDcgKzEzNSwxMCBAQCBzdGF0aWMgaW5s
aW5lIHN0cnVjdCBpbnRlbF9kc2lfaG9zdCAqdG9faW50ZWxfZHNpX2hvc3Qoc3RydWN0IG1pcGlf
ZHNpX2hvc3QgKmgpCiAJcmV0dXJuIGNvbnRhaW5lcl9vZihoLCBzdHJ1Y3QgaW50ZWxfZHNpX2hv
c3QsIGJhc2UpOwogfQogCi0jZGVmaW5lIGZvcl9lYWNoX2RzaV9wb3J0KF9fcG9ydCwgX19wb3J0
c19tYXNrKSBmb3JfZWFjaF9wb3J0X21hc2tlZChfX3BvcnQsIF9fcG9ydHNfbWFzaykKKyNkZWZp
bmUgZm9yX2VhY2hfZHNpX3BvcnQoX19wb3J0LCBfX3BvcnRzX21hc2spIFwKKwlmb3JfZWFjaF9w
b3J0X21hc2tlZChfX3BvcnQsIF9fcG9ydHNfbWFzaykKKyNkZWZpbmUgZm9yX2VhY2hfZHNpX3Bo
eShfX3BoeSwgX19waHlzX21hc2spIFwKKwlmb3JfZWFjaF9waHlfbWFza2VkKF9fcGh5LCBfX3Bo
eXNfbWFzaykKIAogc3RhdGljIGlubGluZSBzdHJ1Y3QgaW50ZWxfZHNpICplbmNfdG9faW50ZWxf
ZHNpKHN0cnVjdCBkcm1fZW5jb2RlciAqZW5jb2RlcikKIHsKZGlmZiAtLWdpdCBhL2RyaXZlcnMv
Z3B1L2RybS9pOTE1L2k5MTVfcmVnLmggYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3JlZy5o
CmluZGV4IGM5ZTJlMDliNmYwMS4uYjc2NmJhMjIwNDViIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dw
dS9kcm0vaTkxNS9pOTE1X3JlZy5oCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfcmVn
LmgKQEAgLTE3OTQsMjAgKzE3OTQsMjAgQEAgZW51bSBpOTE1X3Bvd2VyX3dlbGxfaWQgewogI2Rl
ZmluZSBfSUNMX0NPTUJPUEhZX0EJCQkweDE2MjAwMAogI2RlZmluZSBfSUNMX0NPTUJPUEhZX0IJ
CQkweDZDMDAwCiAjZGVmaW5lIF9FSExfQ09NQk9QSFlfQwkJCTB4MTYwMDAwCi0jZGVmaW5lIF9J
Q0xfQ09NQk9QSFkocG9ydCkJCV9QSUNLKHBvcnQsIF9JQ0xfQ09NQk9QSFlfQSwgXAorI2RlZmlu
ZSBfSUNMX0NPTUJPUEhZKHBoeSkJCV9QSUNLKHBoeSwgX0lDTF9DT01CT1BIWV9BLCBcCiAJCQkJ
CSAgICAgIF9JQ0xfQ09NQk9QSFlfQiwgXAogCQkJCQkgICAgICBfRUhMX0NPTUJPUEhZX0MpCiAK
IC8qIENOTC9JQ0wgUG9ydCBDTF9EVyByZWdpc3RlcnMgKi8KLSNkZWZpbmUgX0lDTF9QT1JUX0NM
X0RXKGR3LCBwb3J0KQkoX0lDTF9DT01CT1BIWShwb3J0KSArIFwKKyNkZWZpbmUgX0lDTF9QT1JU
X0NMX0RXKGR3LCBwaHkpCShfSUNMX0NPTUJPUEhZKHBoeSkgKyBcCiAJCQkJCSA0ICogKGR3KSkK
IAogI2RlZmluZSBDTkxfUE9SVF9DTDFDTV9EVzUJCV9NTUlPKDB4MTYyMDE0KQotI2RlZmluZSBJ
Q0xfUE9SVF9DTF9EVzUocG9ydCkJCV9NTUlPKF9JQ0xfUE9SVF9DTF9EVyg1LCBwb3J0KSkKKyNk
ZWZpbmUgSUNMX1BPUlRfQ0xfRFc1KHBoeSkJCV9NTUlPKF9JQ0xfUE9SVF9DTF9EVyg1LCBwaHkp
KQogI2RlZmluZSAgIENMX1BPV0VSX0RPV05fRU5BQkxFCQkoMSA8PCA0KQogI2RlZmluZSAgIFNV
U19DTE9DS19DT05GSUcJCSgzIDw8IDApCiAKLSNkZWZpbmUgSUNMX1BPUlRfQ0xfRFcxMChwb3J0
KQkJX01NSU8oX0lDTF9QT1JUX0NMX0RXKDEwLCBwb3J0KSkKKyNkZWZpbmUgSUNMX1BPUlRfQ0xf
RFcxMChwaHkpCQlfTU1JTyhfSUNMX1BPUlRfQ0xfRFcoMTAsIHBoeSkpCiAjZGVmaW5lICBQR19T
RVFfREVMQVlfT1ZFUlJJREVfTUFTSwkoMyA8PCAyNSkKICNkZWZpbmUgIFBHX1NFUV9ERUxBWV9P
VkVSUklERV9TSElGVAkyNQogI2RlZmluZSAgUEdfU0VRX0RFTEFZX09WRVJSSURFX0VOQUJMRQko
MSA8PCAyNCkKQEAgLTE4MjIsMjMgKzE4MjIsMjMgQEAgZW51bSBpOTE1X3Bvd2VyX3dlbGxfaWQg
ewogI2RlZmluZSAgUFdSX0RPV05fTE5fTUFTSwkJKDB4ZiA8PCA0KQogI2RlZmluZSAgUFdSX0RP
V05fTE5fU0hJRlQJCTQKIAotI2RlZmluZSBJQ0xfUE9SVF9DTF9EVzEyKHBvcnQpCQlfTU1JTyhf
SUNMX1BPUlRfQ0xfRFcoMTIsIHBvcnQpKQorI2RlZmluZSBJQ0xfUE9SVF9DTF9EVzEyKHBoeSkJ
CV9NTUlPKF9JQ0xfUE9SVF9DTF9EVygxMiwgcGh5KSkKICNkZWZpbmUgICBJQ0xfTEFORV9FTkFC
TEVfQVVYCQkoMSA8PCAwKQogCiAvKiBDTkwvSUNMIFBvcnQgQ09NUF9EVyByZWdpc3RlcnMgKi8K
ICNkZWZpbmUgX0lDTF9QT1JUX0NPTVAJCQkweDEwMAotI2RlZmluZSBfSUNMX1BPUlRfQ09NUF9E
VyhkdywgcG9ydCkJKF9JQ0xfQ09NQk9QSFkocG9ydCkgKyBcCisjZGVmaW5lIF9JQ0xfUE9SVF9D
T01QX0RXKGR3LCBwaHkpCShfSUNMX0NPTUJPUEhZKHBoeSkgKyBcCiAJCQkJCSBfSUNMX1BPUlRf
Q09NUCArIDQgKiAoZHcpKQogCiAjZGVmaW5lIENOTF9QT1JUX0NPTVBfRFcwCQlfTU1JTygweDE2
MjEwMCkKLSNkZWZpbmUgSUNMX1BPUlRfQ09NUF9EVzAocG9ydCkJCV9NTUlPKF9JQ0xfUE9SVF9D
T01QX0RXKDAsIHBvcnQpKQorI2RlZmluZSBJQ0xfUE9SVF9DT01QX0RXMChwaHkpCQlfTU1JTyhf
SUNMX1BPUlRfQ09NUF9EVygwLCBwaHkpKQogI2RlZmluZSAgIENPTVBfSU5JVAkJCSgxIDw8IDMx
KQogCiAjZGVmaW5lIENOTF9QT1JUX0NPTVBfRFcxCQlfTU1JTygweDE2MjEwNCkKLSNkZWZpbmUg
SUNMX1BPUlRfQ09NUF9EVzEocG9ydCkJCV9NTUlPKF9JQ0xfUE9SVF9DT01QX0RXKDEsIHBvcnQp
KQorI2RlZmluZSBJQ0xfUE9SVF9DT01QX0RXMShwaHkpCQlfTU1JTyhfSUNMX1BPUlRfQ09NUF9E
VygxLCBwaHkpKQogCiAjZGVmaW5lIENOTF9QT1JUX0NPTVBfRFczCQlfTU1JTygweDE2MjEwYykK
LSNkZWZpbmUgSUNMX1BPUlRfQ09NUF9EVzMocG9ydCkJCV9NTUlPKF9JQ0xfUE9SVF9DT01QX0RX
KDMsIHBvcnQpKQorI2RlZmluZSBJQ0xfUE9SVF9DT01QX0RXMyhwaHkpCQlfTU1JTyhfSUNMX1BP
UlRfQ09NUF9EVygzLCBwaHkpKQogI2RlZmluZSAgIFBST0NFU1NfSU5GT19ET1RfMAkJKDAgPDwg
MjYpCiAjZGVmaW5lICAgUFJPQ0VTU19JTkZPX0RPVF8xCQkoMSA8PCAyNikKICNkZWZpbmUgICBQ
Uk9DRVNTX0lORk9fRE9UXzQJCSgyIDw8IDI2KQpAQCAtMTg1MCwxNCArMTg1MCwxNCBAQCBlbnVt
IGk5MTVfcG93ZXJfd2VsbF9pZCB7CiAjZGVmaW5lICAgVk9MVEFHRV9JTkZPX01BU0sJCSgzIDw8
IDI0KQogI2RlZmluZSAgIFZPTFRBR0VfSU5GT19TSElGVAkJMjQKIAotI2RlZmluZSBJQ0xfUE9S
VF9DT01QX0RXOChwb3J0KQkJX01NSU8oX0lDTF9QT1JUX0NPTVBfRFcoOCwgcG9ydCkpCisjZGVm
aW5lIElDTF9QT1JUX0NPTVBfRFc4KHBoeSkJCV9NTUlPKF9JQ0xfUE9SVF9DT01QX0RXKDgsIHBo
eSkpCiAjZGVmaW5lICAgSVJFRkdFTgkJCSgxIDw8IDI0KQogCiAjZGVmaW5lIENOTF9QT1JUX0NP
TVBfRFc5CQlfTU1JTygweDE2MjEyNCkKLSNkZWZpbmUgSUNMX1BPUlRfQ09NUF9EVzkocG9ydCkJ
CV9NTUlPKF9JQ0xfUE9SVF9DT01QX0RXKDksIHBvcnQpKQorI2RlZmluZSBJQ0xfUE9SVF9DT01Q
X0RXOShwaHkpCQlfTU1JTyhfSUNMX1BPUlRfQ09NUF9EVyg5LCBwaHkpKQogCiAjZGVmaW5lIENO
TF9QT1JUX0NPTVBfRFcxMAkJX01NSU8oMHgxNjIxMjgpCi0jZGVmaW5lIElDTF9QT1JUX0NPTVBf
RFcxMChwb3J0KQlfTU1JTyhfSUNMX1BPUlRfQ09NUF9EVygxMCwgcG9ydCkpCisjZGVmaW5lIElD
TF9QT1JUX0NPTVBfRFcxMChwaHkpCQlfTU1JTyhfSUNMX1BPUlRfQ09NUF9EVygxMCwgcGh5KSkK
IAogLyogQ05ML0lDTCBQb3J0IFBDUyByZWdpc3RlcnMgKi8KICNkZWZpbmUgX0NOTF9QT1JUX1BD
U19EVzFfR1JQX0FFCTB4MTYyMzA0CkBAIC0xODcwLDE0ICsxODcwLDE0IEBAIGVudW0gaTkxNV9w
b3dlcl93ZWxsX2lkIHsKICNkZWZpbmUgX0NOTF9QT1JUX1BDU19EVzFfTE4wX0MJCTB4MTYyQzA0
CiAjZGVmaW5lIF9DTkxfUE9SVF9QQ1NfRFcxX0xOMF9ECQkweDE2MkUwNAogI2RlZmluZSBfQ05M
X1BPUlRfUENTX0RXMV9MTjBfRgkJMHgxNjI4MDQKLSNkZWZpbmUgQ05MX1BPUlRfUENTX0RXMV9H
UlAocG9ydCkJX01NSU8oX1BJQ0socG9ydCwgXAorI2RlZmluZSBDTkxfUE9SVF9QQ1NfRFcxX0dS
UChwaHkpCV9NTUlPKF9QSUNLKHBoeSwgXAogCQkJCQkJICAgIF9DTkxfUE9SVF9QQ1NfRFcxX0dS
UF9BRSwgXAogCQkJCQkJICAgIF9DTkxfUE9SVF9QQ1NfRFcxX0dSUF9CLCBcCiAJCQkJCQkgICAg
X0NOTF9QT1JUX1BDU19EVzFfR1JQX0MsIFwKIAkJCQkJCSAgICBfQ05MX1BPUlRfUENTX0RXMV9H
UlBfRCwgXAogCQkJCQkJICAgIF9DTkxfUE9SVF9QQ1NfRFcxX0dSUF9BRSwgXAogCQkJCQkJICAg
IF9DTkxfUE9SVF9QQ1NfRFcxX0dSUF9GKSkKLSNkZWZpbmUgQ05MX1BPUlRfUENTX0RXMV9MTjAo
cG9ydCkJX01NSU8oX1BJQ0socG9ydCwgXAorI2RlZmluZSBDTkxfUE9SVF9QQ1NfRFcxX0xOMChw
aHkpCV9NTUlPKF9QSUNLKHBoeSwgXAogCQkJCQkJICAgIF9DTkxfUE9SVF9QQ1NfRFcxX0xOMF9B
RSwgXAogCQkJCQkJICAgIF9DTkxfUE9SVF9QQ1NfRFcxX0xOMF9CLCBcCiAJCQkJCQkgICAgX0NO
TF9QT1JUX1BDU19EVzFfTE4wX0MsIFwKQEAgLTE4ODgsMTUgKzE4ODgsMTUgQEAgZW51bSBpOTE1
X3Bvd2VyX3dlbGxfaWQgewogI2RlZmluZSBfSUNMX1BPUlRfUENTX0FVWAkJMHgzMDAKICNkZWZp
bmUgX0lDTF9QT1JUX1BDU19HUlAJCTB4NjAwCiAjZGVmaW5lIF9JQ0xfUE9SVF9QQ1NfTE4obG4p
CQkoMHg4MDAgKyAobG4pICogMHgxMDApCi0jZGVmaW5lIF9JQ0xfUE9SVF9QQ1NfRFdfQVVYKGR3
LCBwb3J0KQkoX0lDTF9DT01CT1BIWShwb3J0KSArIFwKKyNkZWZpbmUgX0lDTF9QT1JUX1BDU19E
V19BVVgoZHcsIHBoeSkJKF9JQ0xfQ09NQk9QSFkocGh5KSArIFwKIAkJCQkJIF9JQ0xfUE9SVF9Q
Q1NfQVVYICsgNCAqIChkdykpCi0jZGVmaW5lIF9JQ0xfUE9SVF9QQ1NfRFdfR1JQKGR3LCBwb3J0
KQkoX0lDTF9DT01CT1BIWShwb3J0KSArIFwKKyNkZWZpbmUgX0lDTF9QT1JUX1BDU19EV19HUlAo
ZHcsIHBoeSkJKF9JQ0xfQ09NQk9QSFkocGh5KSArIFwKIAkJCQkJIF9JQ0xfUE9SVF9QQ1NfR1JQ
ICsgNCAqIChkdykpCi0jZGVmaW5lIF9JQ0xfUE9SVF9QQ1NfRFdfTE4oZHcsIGxuLCBwb3J0KSAo
X0lDTF9DT01CT1BIWShwb3J0KSArIFwKKyNkZWZpbmUgX0lDTF9QT1JUX1BDU19EV19MTihkdywg
bG4sIHBoeSkgKF9JQ0xfQ09NQk9QSFkocGh5KSArIFwKIAkJCQkJICBfSUNMX1BPUlRfUENTX0xO
KGxuKSArIDQgKiAoZHcpKQotI2RlZmluZSBJQ0xfUE9SVF9QQ1NfRFcxX0FVWChwb3J0KQlfTU1J
TyhfSUNMX1BPUlRfUENTX0RXX0FVWCgxLCBwb3J0KSkKLSNkZWZpbmUgSUNMX1BPUlRfUENTX0RX
MV9HUlAocG9ydCkJX01NSU8oX0lDTF9QT1JUX1BDU19EV19HUlAoMSwgcG9ydCkpCi0jZGVmaW5l
IElDTF9QT1JUX1BDU19EVzFfTE4wKHBvcnQpCV9NTUlPKF9JQ0xfUE9SVF9QQ1NfRFdfTE4oMSwg
MCwgcG9ydCkpCisjZGVmaW5lIElDTF9QT1JUX1BDU19EVzFfQVVYKHBoeSkJX01NSU8oX0lDTF9Q
T1JUX1BDU19EV19BVVgoMSwgcGh5KSkKKyNkZWZpbmUgSUNMX1BPUlRfUENTX0RXMV9HUlAocGh5
KQlfTU1JTyhfSUNMX1BPUlRfUENTX0RXX0dSUCgxLCBwaHkpKQorI2RlZmluZSBJQ0xfUE9SVF9Q
Q1NfRFcxX0xOMChwaHkpCV9NTUlPKF9JQ0xfUE9SVF9QQ1NfRFdfTE4oMSwgMCwgcGh5KSkKICNk
ZWZpbmUgICBDT01NT05fS0VFUEVSX0VOCQkoMSA8PCAyNikKICNkZWZpbmUgICBMQVRFTkNZX09Q
VElNX01BU0sJCSgweDMgPDwgMikKICNkZWZpbmUgICBMQVRFTkNZX09QVElNX1ZBTCh4KQkJKCh4
KSA8PCAyKQpAQCAtMTkzMywxOCArMTkzMywxOCBAQCBlbnVtIGk5MTVfcG93ZXJfd2VsbF9pZCB7
CiAjZGVmaW5lIF9JQ0xfUE9SVF9UWF9HUlAJCTB4NjgwCiAjZGVmaW5lIF9JQ0xfUE9SVF9UWF9M
TihsbikJCSgweDg4MCArIChsbikgKiAweDEwMCkKIAotI2RlZmluZSBfSUNMX1BPUlRfVFhfRFdf
QVVYKGR3LCBwb3J0KQkoX0lDTF9DT01CT1BIWShwb3J0KSArIFwKKyNkZWZpbmUgX0lDTF9QT1JU
X1RYX0RXX0FVWChkdywgcGh5KQkoX0lDTF9DT01CT1BIWShwaHkpICsgXAogCQkJCQkgX0lDTF9Q
T1JUX1RYX0FVWCArIDQgKiAoZHcpKQotI2RlZmluZSBfSUNMX1BPUlRfVFhfRFdfR1JQKGR3LCBw
b3J0KQkoX0lDTF9DT01CT1BIWShwb3J0KSArIFwKKyNkZWZpbmUgX0lDTF9QT1JUX1RYX0RXX0dS
UChkdywgcGh5KQkoX0lDTF9DT01CT1BIWShwaHkpICsgXAogCQkJCQkgX0lDTF9QT1JUX1RYX0dS
UCArIDQgKiAoZHcpKQotI2RlZmluZSBfSUNMX1BPUlRfVFhfRFdfTE4oZHcsIGxuLCBwb3J0KSAo
X0lDTF9DT01CT1BIWShwb3J0KSArIFwKKyNkZWZpbmUgX0lDTF9QT1JUX1RYX0RXX0xOKGR3LCBs
biwgcGh5KSAoX0lDTF9DT01CT1BIWShwaHkpICsgXAogCQkJCQkgIF9JQ0xfUE9SVF9UWF9MTihs
bikgKyA0ICogKGR3KSkKIAogI2RlZmluZSBDTkxfUE9SVF9UWF9EVzJfR1JQKHBvcnQpCV9NTUlP
KF9DTkxfUE9SVF9UWF9EV19HUlAoMiwgcG9ydCkpCiAjZGVmaW5lIENOTF9QT1JUX1RYX0RXMl9M
TjAocG9ydCkJX01NSU8oX0NOTF9QT1JUX1RYX0RXX0xOMCgyLCBwb3J0KSkKLSNkZWZpbmUgSUNM
X1BPUlRfVFhfRFcyX0FVWChwb3J0KQlfTU1JTyhfSUNMX1BPUlRfVFhfRFdfQVVYKDIsIHBvcnQp
KQotI2RlZmluZSBJQ0xfUE9SVF9UWF9EVzJfR1JQKHBvcnQpCV9NTUlPKF9JQ0xfUE9SVF9UWF9E
V19HUlAoMiwgcG9ydCkpCi0jZGVmaW5lIElDTF9QT1JUX1RYX0RXMl9MTjAocG9ydCkJX01NSU8o
X0lDTF9QT1JUX1RYX0RXX0xOKDIsIDAsIHBvcnQpKQorI2RlZmluZSBJQ0xfUE9SVF9UWF9EVzJf
QVVYKHBoeSkJX01NSU8oX0lDTF9QT1JUX1RYX0RXX0FVWCgyLCBwaHkpKQorI2RlZmluZSBJQ0xf
UE9SVF9UWF9EVzJfR1JQKHBoeSkJX01NSU8oX0lDTF9QT1JUX1RYX0RXX0dSUCgyLCBwaHkpKQor
I2RlZmluZSBJQ0xfUE9SVF9UWF9EVzJfTE4wKHBoeSkJX01NSU8oX0lDTF9QT1JUX1RYX0RXX0xO
KDIsIDAsIHBoeSkpCiAjZGVmaW5lICAgU1dJTkdfU0VMX1VQUEVSKHgpCQkoKCh4KSA+PiAzKSA8
PCAxNSkKICNkZWZpbmUgICBTV0lOR19TRUxfVVBQRVJfTUFTSwkJKDEgPDwgMTUpCiAjZGVmaW5l
ICAgU1dJTkdfU0VMX0xPV0VSKHgpCQkoKCh4KSAmIDB4NykgPDwgMTEpCkBAIC0xOTYxLDEwICsx
OTYxLDEwIEBAIGVudW0gaTkxNV9wb3dlcl93ZWxsX2lkIHsKICNkZWZpbmUgQ05MX1BPUlRfVFhf
RFc0X0xOKGxuLCBwb3J0KSAgIF9NTUlPKF9DTkxfUE9SVF9UWF9EV19MTjAoNCwgKHBvcnQpKSAr
IFwKIAkJCQkJICAgKChsbikgKiAoX0NOTF9QT1JUX1RYX0RXNF9MTjFfQUUgLSBcCiAJCQkJCQkg
ICAgX0NOTF9QT1JUX1RYX0RXNF9MTjBfQUUpKSkKLSNkZWZpbmUgSUNMX1BPUlRfVFhfRFc0X0FV
WChwb3J0KQlfTU1JTyhfSUNMX1BPUlRfVFhfRFdfQVVYKDQsIHBvcnQpKQotI2RlZmluZSBJQ0xf
UE9SVF9UWF9EVzRfR1JQKHBvcnQpCV9NTUlPKF9JQ0xfUE9SVF9UWF9EV19HUlAoNCwgcG9ydCkp
Ci0jZGVmaW5lIElDTF9QT1JUX1RYX0RXNF9MTjAocG9ydCkJX01NSU8oX0lDTF9QT1JUX1RYX0RX
X0xOKDQsIDAsIHBvcnQpKQotI2RlZmluZSBJQ0xfUE9SVF9UWF9EVzRfTE4obG4sIHBvcnQpCV9N
TUlPKF9JQ0xfUE9SVF9UWF9EV19MTig0LCBsbiwgcG9ydCkpCisjZGVmaW5lIElDTF9QT1JUX1RY
X0RXNF9BVVgocGh5KQlfTU1JTyhfSUNMX1BPUlRfVFhfRFdfQVVYKDQsIHBoeSkpCisjZGVmaW5l
IElDTF9QT1JUX1RYX0RXNF9HUlAocGh5KQlfTU1JTyhfSUNMX1BPUlRfVFhfRFdfR1JQKDQsIHBo
eSkpCisjZGVmaW5lIElDTF9QT1JUX1RYX0RXNF9MTjAocGh5KQlfTU1JTyhfSUNMX1BPUlRfVFhf
RFdfTE4oNCwgMCwgcGh5KSkKKyNkZWZpbmUgSUNMX1BPUlRfVFhfRFc0X0xOKGxuLCBwaHkpCV9N
TUlPKF9JQ0xfUE9SVF9UWF9EV19MTig0LCBsbiwgcGh5KSkKICNkZWZpbmUgICBMT0FER0VOX1NF
TEVDVAkJKDEgPDwgMzEpCiAjZGVmaW5lICAgUE9TVF9DVVJTT1JfMSh4KQkJKCh4KSA8PCAxMikK
ICNkZWZpbmUgICBQT1NUX0NVUlNPUl8xX01BU0sJCSgweDNGIDw8IDEyKQpAQCAtMTk3NSw5ICsx
OTc1LDkgQEAgZW51bSBpOTE1X3Bvd2VyX3dlbGxfaWQgewogCiAjZGVmaW5lIENOTF9QT1JUX1RY
X0RXNV9HUlAocG9ydCkJX01NSU8oX0NOTF9QT1JUX1RYX0RXX0dSUCg1LCBwb3J0KSkKICNkZWZp
bmUgQ05MX1BPUlRfVFhfRFc1X0xOMChwb3J0KQlfTU1JTyhfQ05MX1BPUlRfVFhfRFdfTE4wKDUs
IHBvcnQpKQotI2RlZmluZSBJQ0xfUE9SVF9UWF9EVzVfQVVYKHBvcnQpCV9NTUlPKF9JQ0xfUE9S
VF9UWF9EV19BVVgoNSwgcG9ydCkpCi0jZGVmaW5lIElDTF9QT1JUX1RYX0RXNV9HUlAocG9ydCkJ
X01NSU8oX0lDTF9QT1JUX1RYX0RXX0dSUCg1LCBwb3J0KSkKLSNkZWZpbmUgSUNMX1BPUlRfVFhf
RFc1X0xOMChwb3J0KQlfTU1JTyhfSUNMX1BPUlRfVFhfRFdfTE4oNSwgMCwgcG9ydCkpCisjZGVm
aW5lIElDTF9QT1JUX1RYX0RXNV9BVVgocGh5KQlfTU1JTyhfSUNMX1BPUlRfVFhfRFdfQVVYKDUs
IHBoeSkpCisjZGVmaW5lIElDTF9QT1JUX1RYX0RXNV9HUlAocGh5KQlfTU1JTyhfSUNMX1BPUlRf
VFhfRFdfR1JQKDUsIHBoeSkpCisjZGVmaW5lIElDTF9QT1JUX1RYX0RXNV9MTjAocGh5KQlfTU1J
TyhfSUNMX1BPUlRfVFhfRFdfTE4oNSwgMCwgcGh5KSkKICNkZWZpbmUgICBUWF9UUkFJTklOR19F
TgkJKDEgPDwgMzEpCiAjZGVmaW5lICAgVEFQMl9ESVNBQkxFCQkJKDEgPDwgMzApCiAjZGVmaW5l
ICAgVEFQM19ESVNBQkxFCQkJKDEgPDwgMjkpCkBAIC0xOTg4LDEwICsxOTg4LDEwIEBAIGVudW0g
aTkxNV9wb3dlcl93ZWxsX2lkIHsKIAogI2RlZmluZSBDTkxfUE9SVF9UWF9EVzdfR1JQKHBvcnQp
CV9NTUlPKF9DTkxfUE9SVF9UWF9EV19HUlAoNywgKHBvcnQpKSkKICNkZWZpbmUgQ05MX1BPUlRf
VFhfRFc3X0xOMChwb3J0KQlfTU1JTyhfQ05MX1BPUlRfVFhfRFdfTE4wKDcsIChwb3J0KSkpCi0j
ZGVmaW5lIElDTF9QT1JUX1RYX0RXN19BVVgocG9ydCkJX01NSU8oX0lDTF9QT1JUX1RYX0RXX0FV
WCg3LCBwb3J0KSkKLSNkZWZpbmUgSUNMX1BPUlRfVFhfRFc3X0dSUChwb3J0KQlfTU1JTyhfSUNM
X1BPUlRfVFhfRFdfR1JQKDcsIHBvcnQpKQotI2RlZmluZSBJQ0xfUE9SVF9UWF9EVzdfTE4wKHBv
cnQpCV9NTUlPKF9JQ0xfUE9SVF9UWF9EV19MTig3LCAwLCBwb3J0KSkKLSNkZWZpbmUgSUNMX1BP
UlRfVFhfRFc3X0xOKGxuLCBwb3J0KQlfTU1JTyhfSUNMX1BPUlRfVFhfRFdfTE4oNywgbG4sIHBv
cnQpKQorI2RlZmluZSBJQ0xfUE9SVF9UWF9EVzdfQVVYKHBoeSkJX01NSU8oX0lDTF9QT1JUX1RY
X0RXX0FVWCg3LCBwaHkpKQorI2RlZmluZSBJQ0xfUE9SVF9UWF9EVzdfR1JQKHBoeSkJX01NSU8o
X0lDTF9QT1JUX1RYX0RXX0dSUCg3LCBwaHkpKQorI2RlZmluZSBJQ0xfUE9SVF9UWF9EVzdfTE4w
KHBoeSkJX01NSU8oX0lDTF9QT1JUX1RYX0RXX0xOKDcsIDAsIHBoeSkpCisjZGVmaW5lIElDTF9Q
T1JUX1RYX0RXN19MTihsbiwgcGh5KQlfTU1JTyhfSUNMX1BPUlRfVFhfRFdfTE4oNywgbG4sIHBo
eSkpCiAjZGVmaW5lICAgTl9TQ0FMQVIoeCkJCQkoKHgpIDw8IDI0KQogI2RlZmluZSAgIE5fU0NB
TEFSX01BU0sJCQkoMHg3RiA8PCAyNCkKIAotLSAKMi4xNy4yCgpfX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fXwpJbnRlbC1nZnggbWFpbGluZyBsaXN0CkludGVs
LWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcv
bWFpbG1hbi9saXN0aW5mby9pbnRlbC1nZng=

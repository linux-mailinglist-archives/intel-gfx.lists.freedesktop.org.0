Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id E0C54D1A04
	for <lists+intel-gfx@lfdr.de>; Wed,  9 Oct 2019 22:47:00 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 3A8436E326;
	Wed,  9 Oct 2019 20:46:59 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga11.intel.com (mga11.intel.com [192.55.52.93])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 6488E6E326
 for <intel-gfx@lists.freedesktop.org>; Wed,  9 Oct 2019 20:46:58 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from fmsmga006.fm.intel.com ([10.253.24.20])
 by fmsmga102.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 09 Oct 2019 13:46:58 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.67,277,1566889200"; d="scan'208";a="395145678"
Received: from jprisaca-mobl1.ger.corp.intel.com (HELO [10.252.54.254])
 ([10.252.54.254])
 by fmsmga006.fm.intel.com with ESMTP; 09 Oct 2019 13:46:57 -0700
To: Chris Wilson <chris@chris-wilson.co.uk>, intel-gfx@lists.freedesktop.org
References: <20191009203641.15477-1-chris@chris-wilson.co.uk>
From: Lionel Landwerlin <lionel.g.landwerlin@intel.com>
Organization: Intel Corporation (UK) Ltd. - Co. Reg. #1134945 - Pipers Way,
 Swindon SN3 1RJ
Message-ID: <c105543d-f396-cac7-2627-f5ca0ba664c3@intel.com>
Date: Wed, 9 Oct 2019 23:46:56 +0300
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101
 Thunderbird/60.9.0
MIME-Version: 1.0
In-Reply-To: <20191009203641.15477-1-chris@chris-wilson.co.uk>
Content-Language: en-US
Subject: Re: [Intel-gfx] [PATCH 01/11] drm/i915/perf: Disable rc6 only while
 OA is enabled
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

SG1tLi4uIG5vcGUsIHNvcnJ5LgoKV2UnbGwgbG9vc2UgTk9BIGNvbmZpZ3VyYXRpb24gaWYgeW91
IGRvIHRoYXQuCkFuZCB5b3UnbGwgaGF2ZSB0byByZXJ1biB0aGUgb2EgY29uZmlnIEJPIHByaW9y
IHRvIGVuYWJsaW5nLgoKLUxpb25lbAoKT24gMDkvMTAvMjAxOSAyMzozNiwgQ2hyaXMgV2lsc29u
IHdyb3RlOgo+IE1vdmUgcnBtX2dldCBhbmQgZm9yY2V3YWtlX2dldCBpbnRvIHRoZSBwZXJmIGVu
YWJsZSAoYW5kIGNvcnJlc3BvbmRpbmcKPiB0aGUgcHV0cyBpbnRvIHRoZSBkaXNhYmxlKSBzbyB0
aGF0IHdlIG9ubHkgcHJldmVudCBwb3dlcm1hYW5nZW1lbnQgd2hpbGUKPiB3ZSBPQSBpcyBlbmdh
Z2VkLgo+Cj4gU2lnbmVkLW9mZi1ieTogQ2hyaXMgV2lsc29uIDxjaHJpc0BjaHJpcy13aWxzb24u
Y28udWs+Cj4gLS0tCj4gICBkcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3BlcmYuYyAgICAgICB8
IDQ5ICsrKysrKysrKysrKy0tLS0tLS0tLS0tLS0tCj4gICBkcml2ZXJzL2dwdS9kcm0vaTkxNS9p
OTE1X3BlcmZfdHlwZXMuaCB8IDEyICsrKy0tLS0KPiAgIDIgZmlsZXMgY2hhbmdlZCwgMjYgaW5z
ZXJ0aW9ucygrKSwgMzUgZGVsZXRpb25zKC0pCj4KPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUv
ZHJtL2k5MTUvaTkxNV9wZXJmLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3BlcmYuYwo+
IGluZGV4IDVhMzRjYWQ3ZDgyNC4uNmZhNWM5ZGMzOGQzIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMv
Z3B1L2RybS9pOTE1L2k5MTVfcGVyZi5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkx
NV9wZXJmLmMKPiBAQCAtMTM0OCw5ICsxMzQ4LDYgQEAgc3RhdGljIHZvaWQgaTkxNV9vYV9zdHJl
YW1fZGVzdHJveShzdHJ1Y3QgaTkxNV9wZXJmX3N0cmVhbSAqc3RyZWFtKQo+ICAgCj4gICAJZnJl
ZV9vYV9idWZmZXIoc3RyZWFtKTsKPiAgIAo+IC0JaW50ZWxfdW5jb3JlX2ZvcmNld2FrZV9wdXQo
c3RyZWFtLT5ndC0+dW5jb3JlLCBGT1JDRVdBS0VfQUxMKTsKPiAtCWludGVsX3J1bnRpbWVfcG1f
cHV0KHN0cmVhbS0+Z3QtPnVuY29yZS0+cnBtLCBzdHJlYW0tPndha2VyZWYpOwo+IC0KPiAgIAlp
ZiAoc3RyZWFtLT5jdHgpCj4gICAJCW9hX3B1dF9yZW5kZXJfY3R4X2lkKHN0cmVhbSk7Cj4gICAK
PiBAQCAtMjE5MiwyMSArMjE4OSw2IEBAIHN0YXRpYyBpbnQgaTkxNV9vYV9zdHJlYW1faW5pdChz
dHJ1Y3QgaTkxNV9wZXJmX3N0cmVhbSAqc3RyZWFtLAo+ICAgCQlnb3RvIGVycl9jb25maWc7Cj4g
ICAJfQo+ICAgCj4gLQkvKiBQUk0gLSBvYnNlcnZhYmlsaXR5IHBlcmZvcm1hbmNlIGNvdW50ZXJz
Ogo+IC0JICoKPiAtCSAqICAgT0FDT05UUk9MLCBwZXJmb3JtYW5jZSBjb3VudGVyIGVuYWJsZSwg
bm90ZToKPiAtCSAqCj4gLQkgKiAgICJXaGVuIHRoaXMgYml0IGlzIHNldCwgaW4gb3JkZXIgdG8g
aGF2ZSBjb2hlcmVudCBjb3VudHMsCj4gLQkgKiAgIFJDNiBwb3dlciBzdGF0ZSBhbmQgdHJ1bmsg
Y2xvY2sgZ2F0aW5nIG11c3QgYmUgZGlzYWJsZWQuCj4gLQkgKiAgIFRoaXMgY2FuIGJlIGFjaGll
dmVkIGJ5IHByb2dyYW1taW5nIE1NSU8gcmVnaXN0ZXJzIGFzCj4gLQkgKiAgIDB4QTA5ND0wIGFu
ZCAweEEwOTBbMzFdPTEiCj4gLQkgKgo+IC0JICogICBJbiBvdXIgY2FzZSB3ZSBhcmUgZXhwZWN0
aW5nIHRoYXQgdGFraW5nIHBtICsgRk9SQ0VXQUtFCj4gLQkgKiAgIHJlZmVyZW5jZXMgd2lsbCBl
ZmZlY3RpdmVseSBkaXNhYmxlIFJDNi4KPiAtCSAqLwo+IC0Jc3RyZWFtLT53YWtlcmVmID0gaW50
ZWxfcnVudGltZV9wbV9nZXQoc3RyZWFtLT5ndC0+dW5jb3JlLT5ycG0pOwo+IC0JaW50ZWxfdW5j
b3JlX2ZvcmNld2FrZV9nZXQoc3RyZWFtLT5ndC0+dW5jb3JlLCBGT1JDRVdBS0VfQUxMKTsKPiAt
Cj4gICAJcmV0ID0gYWxsb2Nfb2FfYnVmZmVyKHN0cmVhbSk7Cj4gICAJaWYgKHJldCkKPiAgIAkJ
Z290byBlcnJfb2FfYnVmX2FsbG9jOwo+IEBAIC0yMjM3LDkgKzIyMTksNiBAQCBzdGF0aWMgaW50
IGk5MTVfb2Ffc3RyZWFtX2luaXQoc3RydWN0IGk5MTVfcGVyZl9zdHJlYW0gKnN0cmVhbSwKPiAg
IGVycl9vYV9idWZfYWxsb2M6Cj4gICAJcHV0X29hX2NvbmZpZyhzdHJlYW0tPm9hX2NvbmZpZyk7
Cj4gICAKPiAtCWludGVsX3VuY29yZV9mb3JjZXdha2VfcHV0KHN0cmVhbS0+Z3QtPnVuY29yZSwg
Rk9SQ0VXQUtFX0FMTCk7Cj4gLQlpbnRlbF9ydW50aW1lX3BtX3B1dChzdHJlYW0tPmd0LT51bmNv
cmUtPnJwbSwgc3RyZWFtLT53YWtlcmVmKTsKPiAtCj4gICBlcnJfY29uZmlnOgo+ICAgCWlmIChz
dHJlYW0tPmN0eCkKPiAgIAkJb2FfcHV0X3JlbmRlcl9jdHhfaWQoc3RyZWFtKTsKPiBAQCAtMjQ3
Myw4ICsyNDUyLDIxIEBAIHN0YXRpYyB2b2lkIGk5MTVfcGVyZl9lbmFibGVfbG9ja2VkKHN0cnVj
dCBpOTE1X3BlcmZfc3RyZWFtICpzdHJlYW0pCj4gICAJaWYgKHN0cmVhbS0+ZW5hYmxlZCkKPiAg
IAkJcmV0dXJuOwo+ICAgCj4gLQkvKiBBbGxvdyBzdHJlYW0tPm9wcy0+ZW5hYmxlKCkgdG8gcmVm
ZXIgdG8gdGhpcyAqLwo+IC0Jc3RyZWFtLT5lbmFibGVkID0gdHJ1ZTsKPiArCS8qCj4gKwkgKiBQ
Uk0gLSBvYnNlcnZhYmlsaXR5IHBlcmZvcm1hbmNlIGNvdW50ZXJzOgo+ICsJICoKPiArCSAqICAg
T0FDT05UUk9MLCBwZXJmb3JtYW5jZSBjb3VudGVyIGVuYWJsZSwgbm90ZToKPiArCSAqCj4gKwkg
KiAgICJXaGVuIHRoaXMgYml0IGlzIHNldCwgaW4gb3JkZXIgdG8gaGF2ZSBjb2hlcmVudCBjb3Vu
dHMsCj4gKwkgKiAgIFJDNiBwb3dlciBzdGF0ZSBhbmQgdHJ1bmsgY2xvY2sgZ2F0aW5nIG11c3Qg
YmUgZGlzYWJsZWQuCj4gKwkgKiAgIFRoaXMgY2FuIGJlIGFjaGlldmVkIGJ5IHByb2dyYW1taW5n
IE1NSU8gcmVnaXN0ZXJzIGFzCj4gKwkgKiAgIDB4QTA5ND0wIGFuZCAweEEwOTBbMzFdPTEiCj4g
KwkgKgo+ICsJICogICBJbiBvdXIgY2FzZSB3ZSBhcmUgZXhwZWN0aW5nIHRoYXQgdGFraW5nIHBt
ICsgRk9SQ0VXQUtFCj4gKwkgKiAgIHJlZmVyZW5jZXMgd2lsbCBlZmZlY3RpdmVseSBkaXNhYmxl
IFJDNi4KPiArCSAqLwo+ICsJc3RyZWFtLT5lbmFibGVkID0gaW50ZWxfcnVudGltZV9wbV9nZXQo
c3RyZWFtLT5ndC0+dW5jb3JlLT5ycG0pOwo+ICsJaW50ZWxfdW5jb3JlX2ZvcmNld2FrZV9nZXQo
c3RyZWFtLT5ndC0+dW5jb3JlLCBGT1JDRVdBS0VfQUxMKTsKPiAgIAo+ICAgCWlmIChzdHJlYW0t
Pm9wcy0+ZW5hYmxlKQo+ICAgCQlzdHJlYW0tPm9wcy0+ZW5hYmxlKHN0cmVhbSk7Cj4gQEAgLTI0
OTYsMTQgKzI0ODgsMTcgQEAgc3RhdGljIHZvaWQgaTkxNV9wZXJmX2VuYWJsZV9sb2NrZWQoc3Ry
dWN0IGk5MTVfcGVyZl9zdHJlYW0gKnN0cmVhbSkKPiAgICAqLwo+ICAgc3RhdGljIHZvaWQgaTkx
NV9wZXJmX2Rpc2FibGVfbG9ja2VkKHN0cnVjdCBpOTE1X3BlcmZfc3RyZWFtICpzdHJlYW0pCj4g
ICB7Cj4gLQlpZiAoIXN0cmVhbS0+ZW5hYmxlZCkKPiAtCQlyZXR1cm47Cj4gKwlpbnRlbF93YWtl
cmVmX3Qgd2FrZXJlZjsKPiAgIAo+IC0JLyogQWxsb3cgc3RyZWFtLT5vcHMtPmRpc2FibGUoKSB0
byByZWZlciB0byB0aGlzICovCj4gLQlzdHJlYW0tPmVuYWJsZWQgPSBmYWxzZTsKPiArCXdha2Vy
ZWYgPSBmZXRjaF9hbmRfemVybygmc3RyZWFtLT5lbmFibGVkKTsKPiArCWlmICghd2FrZXJlZikK
PiArCQlyZXR1cm47Cj4gICAKPiAgIAlpZiAoc3RyZWFtLT5vcHMtPmRpc2FibGUpCj4gICAJCXN0
cmVhbS0+b3BzLT5kaXNhYmxlKHN0cmVhbSk7Cj4gKwo+ICsJaW50ZWxfdW5jb3JlX2ZvcmNld2Fr
ZV9wdXQoc3RyZWFtLT5ndC0+dW5jb3JlLCBGT1JDRVdBS0VfQUxMKTsKPiArCWludGVsX3J1bnRp
bWVfcG1fcHV0KHN0cmVhbS0+Z3QtPnVuY29yZS0+cnBtLCB3YWtlcmVmKTsKPiAgIH0KPiAgIAo+
ICAgLyoqCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfcGVyZl90eXBl
cy5oIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9wZXJmX3R5cGVzLmgKPiBpbmRleCAyZDE3
MDU5ZDMyZWUuLmVkZmQ2NDczMjcwNCAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkx
NS9pOTE1X3BlcmZfdHlwZXMuaAo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfcGVy
Zl90eXBlcy5oCj4gQEAgLTEzNyw4ICsxMzcsMTEgQEAgc3RydWN0IGk5MTVfcGVyZl9zdHJlYW0g
ewo+ICAgCS8qKgo+ICAgCSAqIEB3YWtlcmVmOiBBcyB3ZSBrZWVwIHRoZSBkZXZpY2UgYXdha2Ug
d2hpbGUgdGhlIHBlcmYgc3RyZWFtIGlzCj4gICAJICogYWN0aXZlLCB3ZSB0cmFjayBvdXIgcnVu
dGltZSBwbSByZWZlcmVuY2UgZm9yIGxhdGVyIHJlbGVhc2UuCj4gKwkgKiBBbHNvIGluZGljYXRl
cyB3aGV0aGVyIHRoZSBzdHJlYW0gaXMgY3VycmVudGx5IGVuYWJsZWQsIGNvbnNpZGVyaW5nCj4g
KwkgKiB3aGV0aGVyIHRoZSBzdHJlYW0gd2FzIG9wZW5lZCBpbiBhIGRpc2FibGVkIHN0YXRlIGFu
ZCBiYXNlZAo+ICsJICogb24gYEk5MTVfUEVSRl9JT0NUTF9FTkFCTEVgIGFuZCBgSTkxNV9QRVJG
X0lPQ1RMX0RJU0FCTEVgIGNhbGxzLgo+ICAgCSAqLwo+IC0JaW50ZWxfd2FrZXJlZl90IHdha2Vy
ZWY7Cj4gKwlpbnRlbF93YWtlcmVmX3QgZW5hYmxlZDsKPiAgIAo+ICAgCS8qKgo+ICAgCSAqIEBz
YW1wbGVfZmxhZ3M6IEZsYWdzIHJlcHJlc2VudGluZyB0aGUgYERSTV9JOTE1X1BFUkZfUFJPUF9T
QU1QTEVfKmAKPiBAQCAtMTYwLDEzICsxNjMsNiBAQCBzdHJ1Y3QgaTkxNV9wZXJmX3N0cmVhbSB7
Cj4gICAJICovCj4gICAJc3RydWN0IGk5MTVfZ2VtX2NvbnRleHQgKmN0eDsKPiAgIAo+IC0JLyoq
Cj4gLQkgKiBAZW5hYmxlZDogV2hldGhlciB0aGUgc3RyZWFtIGlzIGN1cnJlbnRseSBlbmFibGVk
LCBjb25zaWRlcmluZwo+IC0JICogd2hldGhlciB0aGUgc3RyZWFtIHdhcyBvcGVuZWQgaW4gYSBk
aXNhYmxlZCBzdGF0ZSBhbmQgYmFzZWQKPiAtCSAqIG9uIGBJOTE1X1BFUkZfSU9DVExfRU5BQkxF
YCBhbmQgYEk5MTVfUEVSRl9JT0NUTF9ESVNBQkxFYCBjYWxscy4KPiAtCSAqLwo+IC0JYm9vbCBl
bmFibGVkOwo+IC0KPiAgIAkvKioKPiAgIAkgKiBAb3BzOiBUaGUgY2FsbGJhY2tzIHByb3ZpZGlu
ZyB0aGUgaW1wbGVtZW50YXRpb24gb2YgdGhpcyBzcGVjaWZpYwo+ICAgCSAqIHR5cGUgb2YgY29u
ZmlndXJlZCBzdHJlYW0uCgoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX18KSW50ZWwtZ2Z4IG1haWxpbmcgbGlzdApJbnRlbC1nZnhAbGlzdHMuZnJlZWRlc2t0
b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vaW50
ZWwtZ2Z4

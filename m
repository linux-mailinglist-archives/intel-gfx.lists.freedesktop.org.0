Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 18B025EFE8
	for <lists+intel-gfx@lfdr.de>; Thu,  4 Jul 2019 02:05:56 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 6B3C46E21E;
	Thu,  4 Jul 2019 00:05:54 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mail-wm1-x344.google.com (mail-wm1-x344.google.com
 [IPv6:2a00:1450:4864:20::344])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 4313A6E21E
 for <intel-gfx@lists.freedesktop.org>; Thu,  4 Jul 2019 00:05:53 +0000 (UTC)
Received: by mail-wm1-x344.google.com with SMTP id x15so3900973wmj.3
 for <intel-gfx@lists.freedesktop.org>; Wed, 03 Jul 2019 17:05:53 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:mime-version:references:in-reply-to:from:date
 :message-id:subject:to:cc;
 bh=A62BfCY+m/U67rlfPnKjmWKMq2z4e2aqkjksgUF/eGU=;
 b=X+cDOh4I0b3oMYy+Rl5PDMhOSlIEYnQRs2IF5RHjiXTlPHsbjcuAaLeiQlW5Q+N6rA
 XJ+QjNMnQWYBSrBWR72WxLfu/VxqY5Si72c+7X7ZOC3o4CPUfCTMgeMCNPZ2y+MrPwbv
 m5OKz/ZX10Ax8Ftea+UInRG0Okx1oyvZnBs5K3g+3kVFq2V5AOqLE6QyO9vjTjD7bfXA
 qk7qceX7JOX0RpFoLYPNJzSYK1eQTJr+5AUaSLS7eVnXj0N/mSDOxLsaafy+SmMKdWw9
 FvS4L6Lax9JFMefI6cwuCVrSnt3hieJXtsZ7Y3Daok7U2b5ttoAsWFn3GHmmPuFX4gRu
 aKBw==
X-Gm-Message-State: APjAAAWR6cHUJVS2FbWjZHqcG91phHqOMw7W9z65BnaA6djhzua7Vi+m
 b5lSYj5GZQMR9QOzgjO/gv/RCJFMld4+BcOoWKw=
X-Google-Smtp-Source: APXvYqwIWYlzMtLq9aXB/3sGgQxUk0WhNUdGdI/Pth+WHG1FYBQrkgxf3bVhfBkSIcROayIafCUS4atPkWHq2c4quG8=
X-Received: by 2002:a7b:c383:: with SMTP id s3mr9445763wmj.44.1562198751738;
 Wed, 03 Jul 2019 17:05:51 -0700 (PDT)
MIME-Version: 1.0
References: <20190704000000.20019-1-lucas.demarchi@intel.com>
In-Reply-To: <20190704000000.20019-1-lucas.demarchi@intel.com>
From: Lucas De Marchi <lucas.de.marchi@gmail.com>
Date: Wed, 3 Jul 2019 17:05:39 -0700
Message-ID: <CAKi4VAJ1JAzJgB0Bc48_QOe4_27NKN9B0W70JURwzhvBC6x4xw@mail.gmail.com>
To: Lucas De Marchi <lucas.demarchi@intel.com>
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=gmail.com; s=20161025;
 h=mime-version:references:in-reply-to:from:date:message-id:subject:to
 :cc;
 bh=A62BfCY+m/U67rlfPnKjmWKMq2z4e2aqkjksgUF/eGU=;
 b=Zez/9wVCLyrOF0tmz3Bmtr3XOm5aAmz07hTILK5dOOAFvd7fGgqaiP/eYJUj6XwLkT
 CmZn/Ef/Ew/RqXadcOBfmP3ptqkYd+RM2RUOCKc9FLZcHnsJpivmCGRbTANuLsQi89Sz
 MQaRSeJBz7d6Fqd9huc3sLBKYfuQvRgbPdJzupZgNXFoFYAOYF4GQ9EV65wQEO40yelx
 KE+V2Z4rxZs619WAx0rrEjyaWH65jZ73ZqTTm68+UKDm4w4T2WUOK4id9r0BCNtvCUBR
 NJNDdebKbaAZdzTvpelBy2fxz8YhV0T44/13VtnE8ExJNuX+8spSPR7mrKI9QrATvPX2
 QT3g==
Subject: Re: [Intel-gfx] [PATCH 1/4] drm/i915: make new intel_tc.c use
 uncore accessors
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: Intel Graphics <intel-gfx@lists.freedesktop.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

VGhpcyB3ZW50IG91dCB3aXRob3V0IHRoZSBjb3ZlciBhbmQgd2l0aCBhIGJhZCBDQy4gSSB3aWxs
IHJlc2VuZCB0aGlzIHNlcmllcy4KCkx1Y2FzIERlIE1hcmNoaQoKT24gV2VkLCBKdWwgMywgMjAx
OSBhdCA1OjAwIFBNIEx1Y2FzIERlIE1hcmNoaSA8bHVjYXMuZGVtYXJjaGlAaW50ZWwuY29tPiB3
cm90ZToKPgo+IExldCdzIG1ha2UgdGhlIGp1c3QgY3JlYXRlZCBpbnRlbF90Yy5jIGFscmVhZHkg
Zm9sbG93IHRoZSB0cmVuZCBvZiB1c2luZwo+IGk5MTUgaW5zdGVhZCBvZiBkZXZfcHJpdiBhbmQg
Y2FsbGluZyB0aGUgaW50ZWxfdW5jb3JlXyooKSBmdW5jdGlvbnMuCj4KPiBTaWduZWQtb2ZmLWJ5
OiBMdWNhcyBEZSBNYXJjaGkgPGx1Y2FzLmRlbWFyY2hpQGludGVsLmNvbT4KPiAtLS0KPiAgZHJp
dmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF90Yy5jIHwgNTcgKysrKysrKysrKysrKyst
LS0tLS0tLS0tLQo+ICAxIGZpbGUgY2hhbmdlZCwgMzEgaW5zZXJ0aW9ucygrKSwgMjYgZGVsZXRp
b25zKC0pCj4KPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRl
bF90Yy5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF90Yy5jCj4gaW5kZXgg
NTMxMDNhOWFhOGE3Li4xYTlkZDMyZmIwYTUgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJt
L2k5MTUvZGlzcGxheS9pbnRlbF90Yy5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlz
cGxheS9pbnRlbF90Yy5jCj4gQEAgLTI0LDExICsyNCwxMiBAQCBzdGF0aWMgY29uc3QgY2hhciAq
dGNfcG9ydF9tb2RlX25hbWUoZW51bSB0Y19wb3J0X21vZGUgbW9kZSkKPgo+ICB1MzIgaW50ZWxf
dGNfcG9ydF9nZXRfbGFuZV9tYXNrKHN0cnVjdCBpbnRlbF9kaWdpdGFsX3BvcnQgKmRpZ19wb3J0
KQo+ICB7Cj4gLSAgICAgICBzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYgPSB0b19p
OTE1KGRpZ19wb3J0LT5iYXNlLmJhc2UuZGV2KTsKPiAtICAgICAgIGVudW0gdGNfcG9ydCB0Y19w
b3J0ID0gaW50ZWxfcG9ydF90b190YyhkZXZfcHJpdiwgZGlnX3BvcnQtPmJhc2UucG9ydCk7Cj4g
KyAgICAgICBzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSA9IHRvX2k5MTUoZGlnX3BvcnQt
PmJhc2UuYmFzZS5kZXYpOwo+ICsgICAgICAgZW51bSB0Y19wb3J0IHRjX3BvcnQgPSBpbnRlbF9w
b3J0X3RvX3RjKGk5MTUsIGRpZ19wb3J0LT5iYXNlLnBvcnQpOwo+ICsgICAgICAgc3RydWN0IGlu
dGVsX3VuY29yZSAqdW5jb3JlID0gJmk5MTUtPnVuY29yZTsKPiAgICAgICAgIHUzMiBsYW5lX21h
c2s7Cj4KPiAtICAgICAgIGxhbmVfbWFzayA9IEk5MTVfUkVBRChQT1JUX1RYX0RGTEVYRFBTUCk7
Cj4gKyAgICAgICBsYW5lX21hc2sgPSBpbnRlbF91bmNvcmVfcmVhZCh1bmNvcmUsIFBPUlRfVFhf
REZMRVhEUFNQKTsKPgo+ICAgICAgICAgV0FSTl9PTihsYW5lX21hc2sgPT0gMHhmZmZmZmZmZik7
Cj4KPiBAQCAtMzgsNyArMzksNyBAQCB1MzIgaW50ZWxfdGNfcG9ydF9nZXRfbGFuZV9tYXNrKHN0
cnVjdCBpbnRlbF9kaWdpdGFsX3BvcnQgKmRpZ19wb3J0KQo+Cj4gIGludCBpbnRlbF90Y19wb3J0
X2ZpYV9tYXhfbGFuZV9jb3VudChzdHJ1Y3QgaW50ZWxfZGlnaXRhbF9wb3J0ICpkaWdfcG9ydCkK
PiAgewo+IC0gICAgICAgc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2ID0gdG9faTkx
NShkaWdfcG9ydC0+YmFzZS5iYXNlLmRldik7Cj4gKyAgICAgICBzdHJ1Y3QgZHJtX2k5MTVfcHJp
dmF0ZSAqaTkxNSA9IHRvX2k5MTUoZGlnX3BvcnQtPmJhc2UuYmFzZS5kZXYpOwo+ICAgICAgICAg
aW50ZWxfd2FrZXJlZl90IHdha2VyZWY7Cj4gICAgICAgICB1MzIgbGFuZV9tYXNrOwo+Cj4gQEAg
LTQ2LDcgKzQ3LDcgQEAgaW50IGludGVsX3RjX3BvcnRfZmlhX21heF9sYW5lX2NvdW50KHN0cnVj
dCBpbnRlbF9kaWdpdGFsX3BvcnQgKmRpZ19wb3J0KQo+ICAgICAgICAgICAgICAgICByZXR1cm4g
NDsKPgo+ICAgICAgICAgbGFuZV9tYXNrID0gMDsKPiAtICAgICAgIHdpdGhfaW50ZWxfZGlzcGxh
eV9wb3dlcihkZXZfcHJpdiwgUE9XRVJfRE9NQUlOX0RJU1BMQVlfQ09SRSwgd2FrZXJlZikKPiAr
ICAgICAgIHdpdGhfaW50ZWxfZGlzcGxheV9wb3dlcihpOTE1LCBQT1dFUl9ET01BSU5fRElTUExB
WV9DT1JFLCB3YWtlcmVmKQo+ICAgICAgICAgICAgICAgICBsYW5lX21hc2sgPSBpbnRlbF90Y19w
b3J0X2dldF9sYW5lX21hc2soZGlnX3BvcnQpOwo+Cj4gICAgICAgICBzd2l0Y2ggKGxhbmVfbWFz
aykgewo+IEBAIC04OSwxMiArOTAsMTMgQEAgc3RhdGljIHZvaWQgdGNfcG9ydF9maXh1cF9sZWdh
Y3lfZmxhZyhzdHJ1Y3QgaW50ZWxfZGlnaXRhbF9wb3J0ICpkaWdfcG9ydCwKPgo+ICBzdGF0aWMg
dTMyIHRjX3BvcnRfbGl2ZV9zdGF0dXNfbWFzayhzdHJ1Y3QgaW50ZWxfZGlnaXRhbF9wb3J0ICpk
aWdfcG9ydCkKPiAgewo+IC0gICAgICAgc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2
ID0gdG9faTkxNShkaWdfcG9ydC0+YmFzZS5iYXNlLmRldik7Cj4gLSAgICAgICBlbnVtIHRjX3Bv
cnQgdGNfcG9ydCA9IGludGVsX3BvcnRfdG9fdGMoZGV2X3ByaXYsIGRpZ19wb3J0LT5iYXNlLnBv
cnQpOwo+ICsgICAgICAgc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUgPSB0b19pOTE1KGRp
Z19wb3J0LT5iYXNlLmJhc2UuZGV2KTsKPiArICAgICAgIGVudW0gdGNfcG9ydCB0Y19wb3J0ID0g
aW50ZWxfcG9ydF90b190YyhpOTE1LCBkaWdfcG9ydC0+YmFzZS5wb3J0KTsKPiArICAgICAgIHN0
cnVjdCBpbnRlbF91bmNvcmUgKnVuY29yZSA9ICZpOTE1LT51bmNvcmU7Cj4gICAgICAgICB1MzIg
bWFzayA9IDA7Cj4gICAgICAgICB1MzIgdmFsOwo+Cj4gLSAgICAgICB2YWwgPSBJOTE1X1JFQUQo
UE9SVF9UWF9ERkxFWERQU1ApOwo+ICsgICAgICAgdmFsID0gaW50ZWxfdW5jb3JlX3JlYWQodW5j
b3JlLCBQT1JUX1RYX0RGTEVYRFBTUCk7Cj4KPiAgICAgICAgIGlmICh2YWwgPT0gMHhmZmZmZmZm
Zikgewo+ICAgICAgICAgICAgICAgICBEUk1fREVCVUdfS01TKCJQb3J0ICVzOiBQSFkgaW4gVEND
T0xELCBub3RoaW5nIGNvbm5lY3RlZFxuIiwKPiBAQCAtMTA3LDcgKzEwOSw3IEBAIHN0YXRpYyB1
MzIgdGNfcG9ydF9saXZlX3N0YXR1c19tYXNrKHN0cnVjdCBpbnRlbF9kaWdpdGFsX3BvcnQgKmRp
Z19wb3J0KQo+ICAgICAgICAgaWYgKHZhbCAmIFRDX0xJVkVfU1RBVEVfVEModGNfcG9ydCkpCj4g
ICAgICAgICAgICAgICAgIG1hc2sgfD0gQklUKFRDX1BPUlRfRFBfQUxUKTsKPgo+IC0gICAgICAg
aWYgKEk5MTVfUkVBRChTREVJU1IpICYgU0RFX1RDX0hPVFBMVUdfSUNQKHRjX3BvcnQpKQo+ICsg
ICAgICAgaWYgKGludGVsX3VuY29yZV9yZWFkKHVuY29yZSwgU0RFSVNSKSAmIFNERV9UQ19IT1RQ
TFVHX0lDUCh0Y19wb3J0KSkKPiAgICAgICAgICAgICAgICAgbWFzayB8PSBCSVQoVENfUE9SVF9M
RUdBQ1kpOwo+Cj4gICAgICAgICAvKiBUaGUgc2luayBjYW4gYmUgY29ubmVjdGVkIG9ubHkgaW4g
YSBzaW5nbGUgbW9kZS4gKi8KPiBAQCAtMTE5LDExICsxMjEsMTIgQEAgc3RhdGljIHUzMiB0Y19w
b3J0X2xpdmVfc3RhdHVzX21hc2soc3RydWN0IGludGVsX2RpZ2l0YWxfcG9ydCAqZGlnX3BvcnQp
Cj4KPiAgc3RhdGljIGJvb2wgaWNsX3RjX3BoeV9zdGF0dXNfY29tcGxldGUoc3RydWN0IGludGVs
X2RpZ2l0YWxfcG9ydCAqZGlnX3BvcnQpCj4gIHsKPiAtICAgICAgIHN0cnVjdCBkcm1faTkxNV9w
cml2YXRlICpkZXZfcHJpdiA9IHRvX2k5MTUoZGlnX3BvcnQtPmJhc2UuYmFzZS5kZXYpOwo+IC0g
ICAgICAgZW51bSB0Y19wb3J0IHRjX3BvcnQgPSBpbnRlbF9wb3J0X3RvX3RjKGRldl9wcml2LCBk
aWdfcG9ydC0+YmFzZS5wb3J0KTsKPiArICAgICAgIHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpp
OTE1ID0gdG9faTkxNShkaWdfcG9ydC0+YmFzZS5iYXNlLmRldik7Cj4gKyAgICAgICBlbnVtIHRj
X3BvcnQgdGNfcG9ydCA9IGludGVsX3BvcnRfdG9fdGMoaTkxNSwgZGlnX3BvcnQtPmJhc2UucG9y
dCk7Cj4gKyAgICAgICBzdHJ1Y3QgaW50ZWxfdW5jb3JlICp1bmNvcmUgPSAmaTkxNS0+dW5jb3Jl
Owo+ICAgICAgICAgdTMyIHZhbDsKPgo+IC0gICAgICAgdmFsID0gSTkxNV9SRUFEKFBPUlRfVFhf
REZMRVhEUFBNUyk7Cj4gKyAgICAgICB2YWwgPSBpbnRlbF91bmNvcmVfcmVhZCh1bmNvcmUsIFBP
UlRfVFhfREZMRVhEUFBNUyk7Cj4gICAgICAgICBpZiAodmFsID09IDB4ZmZmZmZmZmYpIHsKPiAg
ICAgICAgICAgICAgICAgRFJNX0RFQlVHX0tNUygiUG9ydCAlczogUEhZIGluIFRDQ09MRCwgYXNz
dW1pbmcgbm90IGNvbXBsZXRlXG4iLAo+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRp
Z19wb3J0LT50Y19wb3J0X25hbWUpOwo+IEBAIC0xMzYsMTEgKzEzOSwxMiBAQCBzdGF0aWMgYm9v
bCBpY2xfdGNfcGh5X3N0YXR1c19jb21wbGV0ZShzdHJ1Y3QgaW50ZWxfZGlnaXRhbF9wb3J0ICpk
aWdfcG9ydCkKPiAgc3RhdGljIGJvb2wgaWNsX3RjX3BoeV9zZXRfc2FmZV9tb2RlKHN0cnVjdCBp
bnRlbF9kaWdpdGFsX3BvcnQgKmRpZ19wb3J0LAo+ICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICBib29sIGVuYWJsZSkKPiAgewo+IC0gICAgICAgc3RydWN0IGRybV9pOTE1X3By
aXZhdGUgKmRldl9wcml2ID0gdG9faTkxNShkaWdfcG9ydC0+YmFzZS5iYXNlLmRldik7Cj4gLSAg
ICAgICBlbnVtIHRjX3BvcnQgdGNfcG9ydCA9IGludGVsX3BvcnRfdG9fdGMoZGV2X3ByaXYsIGRp
Z19wb3J0LT5iYXNlLnBvcnQpOwo+ICsgICAgICAgc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5
MTUgPSB0b19pOTE1KGRpZ19wb3J0LT5iYXNlLmJhc2UuZGV2KTsKPiArICAgICAgIGVudW0gdGNf
cG9ydCB0Y19wb3J0ID0gaW50ZWxfcG9ydF90b190YyhpOTE1LCBkaWdfcG9ydC0+YmFzZS5wb3J0
KTsKPiArICAgICAgIHN0cnVjdCBpbnRlbF91bmNvcmUgKnVuY29yZSA9ICZpOTE1LT51bmNvcmU7
Cj4gICAgICAgICB1MzIgdmFsOwo+Cj4gLSAgICAgICB2YWwgPSBJOTE1X1JFQUQoUE9SVF9UWF9E
RkxFWERQQ1NTUyk7Cj4gKyAgICAgICB2YWwgPSBpbnRlbF91bmNvcmVfcmVhZCh1bmNvcmUsIFBP
UlRfVFhfREZMRVhEUENTU1MpOwo+ICAgICAgICAgaWYgKHZhbCA9PSAweGZmZmZmZmZmKSB7Cj4g
ICAgICAgICAgICAgICAgIERSTV9ERUJVR19LTVMoIlBvcnQgJXM6IFBIWSBpbiBUQ0NPTEQsIGNh
bid0IHNldCBzYWZlLW1vZGUgdG8gJXNcbiIsCj4gICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgZGlnX3BvcnQtPnRjX3BvcnRfbmFtZSwKPiBAQCAtMTUzLDcgKzE1Nyw3IEBAIHN0YXRpYyBi
b29sIGljbF90Y19waHlfc2V0X3NhZmVfbW9kZShzdHJ1Y3QgaW50ZWxfZGlnaXRhbF9wb3J0ICpk
aWdfcG9ydCwKPiAgICAgICAgIGlmICghZW5hYmxlKQo+ICAgICAgICAgICAgICAgICB2YWwgfD0g
RFBfUEhZX01PREVfU1RBVFVTX05PVF9TQUZFKHRjX3BvcnQpOwo+Cj4gLSAgICAgICBJOTE1X1dS
SVRFKFBPUlRfVFhfREZMRVhEUENTU1MsIHZhbCk7Cj4gKyAgICAgICBpbnRlbF91bmNvcmVfd3Jp
dGUodW5jb3JlLCBQT1JUX1RYX0RGTEVYRFBDU1NTLCB2YWwpOwo+Cj4gICAgICAgICBpZiAoZW5h
YmxlICYmIHdhaXRfZm9yKCFpY2xfdGNfcGh5X3N0YXR1c19jb21wbGV0ZShkaWdfcG9ydCksIDEw
KSkKPiAgICAgICAgICAgICAgICAgRFJNX0RFQlVHX0tNUygiUG9ydCAlczogUEhZIGNvbXBsZXRl
IGNsZWFyIHRpbWVkIG91dFxuIiwKPiBAQCAtMTY0LDExICsxNjgsMTIgQEAgc3RhdGljIGJvb2wg
aWNsX3RjX3BoeV9zZXRfc2FmZV9tb2RlKHN0cnVjdCBpbnRlbF9kaWdpdGFsX3BvcnQgKmRpZ19w
b3J0LAo+Cj4gIHN0YXRpYyBib29sIGljbF90Y19waHlfaXNfaW5fc2FmZV9tb2RlKHN0cnVjdCBp
bnRlbF9kaWdpdGFsX3BvcnQgKmRpZ19wb3J0KQo+ICB7Cj4gLSAgICAgICBzdHJ1Y3QgZHJtX2k5
MTVfcHJpdmF0ZSAqZGV2X3ByaXYgPSB0b19pOTE1KGRpZ19wb3J0LT5iYXNlLmJhc2UuZGV2KTsK
PiAtICAgICAgIGVudW0gdGNfcG9ydCB0Y19wb3J0ID0gaW50ZWxfcG9ydF90b190YyhkZXZfcHJp
diwgZGlnX3BvcnQtPmJhc2UucG9ydCk7Cj4gKyAgICAgICBzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0
ZSAqaTkxNSA9IHRvX2k5MTUoZGlnX3BvcnQtPmJhc2UuYmFzZS5kZXYpOwo+ICsgICAgICAgZW51
bSB0Y19wb3J0IHRjX3BvcnQgPSBpbnRlbF9wb3J0X3RvX3RjKGk5MTUsIGRpZ19wb3J0LT5iYXNl
LnBvcnQpOwo+ICsgICAgICAgc3RydWN0IGludGVsX3VuY29yZSAqdW5jb3JlID0gJmk5MTUtPnVu
Y29yZTsKPiAgICAgICAgIHUzMiB2YWw7Cj4KPiAtICAgICAgIHZhbCA9IEk5MTVfUkVBRChQT1JU
X1RYX0RGTEVYRFBDU1NTKTsKPiArICAgICAgIHZhbCA9IGludGVsX3VuY29yZV9yZWFkKHVuY29y
ZSwgUE9SVF9UWF9ERkxFWERQQ1NTUyk7Cj4gICAgICAgICBpZiAodmFsID09IDB4ZmZmZmZmZmYp
IHsKPiAgICAgICAgICAgICAgICAgRFJNX0RFQlVHX0tNUygiUG9ydCAlczogUEhZIGluIFRDQ09M
RCwgYXNzdW1lIHNhZmUgbW9kZVxuIiwKPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBk
aWdfcG9ydC0+dGNfcG9ydF9uYW1lKTsKPiBAQCAtMzE3LDExICszMjIsMTEgQEAgaW50ZWxfdGNf
cG9ydF9nZXRfdGFyZ2V0X21vZGUoc3RydWN0IGludGVsX2RpZ2l0YWxfcG9ydCAqZGlnX3BvcnQp
Cj4gIHN0YXRpYyB2b2lkIGludGVsX3RjX3BvcnRfcmVzZXRfbW9kZShzdHJ1Y3QgaW50ZWxfZGln
aXRhbF9wb3J0ICpkaWdfcG9ydCwKPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgaW50IHJlcXVpcmVkX2xhbmVzKQo+ICB7Cj4gLSAgICAgICBzdHJ1Y3QgZHJtX2k5MTVfcHJp
dmF0ZSAqZGV2X3ByaXYgPSB0b19pOTE1KGRpZ19wb3J0LT5iYXNlLmJhc2UuZGV2KTsKPiArICAg
ICAgIHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICppOTE1ID0gdG9faTkxNShkaWdfcG9ydC0+YmFz
ZS5iYXNlLmRldik7Cj4gICAgICAgICBlbnVtIHRjX3BvcnRfbW9kZSBvbGRfdGNfbW9kZSA9IGRp
Z19wb3J0LT50Y19tb2RlOwo+Cj4gLSAgICAgICBpbnRlbF9kaXNwbGF5X3Bvd2VyX2ZsdXNoX3dv
cmsoZGV2X3ByaXYpOwo+IC0gICAgICAgV0FSTl9PTihpbnRlbF9kaXNwbGF5X3Bvd2VyX2lzX2Vu
YWJsZWQoZGV2X3ByaXYsCj4gKyAgICAgICBpbnRlbF9kaXNwbGF5X3Bvd2VyX2ZsdXNoX3dvcmso
aTkxNSk7Cj4gKyAgICAgICBXQVJOX09OKGludGVsX2Rpc3BsYXlfcG93ZXJfaXNfZW5hYmxlZChp
OTE1LAo+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW50
ZWxfYXV4X3Bvd2VyX2RvbWFpbihkaWdfcG9ydCkpKTsKPgo+ICAgICAgICAgaWNsX3RjX3BoeV9k
aXNjb25uZWN0KGRpZ19wb3J0KTsKPiBAQCAtNDA0LDEwICs0MDksMTAgQEAgYm9vbCBpbnRlbF90
Y19wb3J0X2Nvbm5lY3RlZChzdHJ1Y3QgaW50ZWxfZGlnaXRhbF9wb3J0ICpkaWdfcG9ydCkKPiAg
c3RhdGljIHZvaWQgX19pbnRlbF90Y19wb3J0X2xvY2soc3RydWN0IGludGVsX2RpZ2l0YWxfcG9y
dCAqZGlnX3BvcnQsCj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW50IHJlcXVp
cmVkX2xhbmVzKQo+ICB7Cj4gLSAgICAgICBzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3By
aXYgPSB0b19pOTE1KGRpZ19wb3J0LT5iYXNlLmJhc2UuZGV2KTsKPiArICAgICAgIHN0cnVjdCBk
cm1faTkxNV9wcml2YXRlICppOTE1ID0gdG9faTkxNShkaWdfcG9ydC0+YmFzZS5iYXNlLmRldik7
Cj4gICAgICAgICBpbnRlbF93YWtlcmVmX3Qgd2FrZXJlZjsKPgo+IC0gICAgICAgd2FrZXJlZiA9
IGludGVsX2Rpc3BsYXlfcG93ZXJfZ2V0KGRldl9wcml2LCBQT1dFUl9ET01BSU5fRElTUExBWV9D
T1JFKTsKPiArICAgICAgIHdha2VyZWYgPSBpbnRlbF9kaXNwbGF5X3Bvd2VyX2dldChpOTE1LCBQ
T1dFUl9ET01BSU5fRElTUExBWV9DT1JFKTsKPgo+ICAgICAgICAgbXV0ZXhfbG9jaygmZGlnX3Bv
cnQtPnRjX2xvY2spOwo+Cj4gQEAgLTQyNiwxMiArNDMxLDEyIEBAIHZvaWQgaW50ZWxfdGNfcG9y
dF9sb2NrKHN0cnVjdCBpbnRlbF9kaWdpdGFsX3BvcnQgKmRpZ19wb3J0KQo+Cj4gIHZvaWQgaW50
ZWxfdGNfcG9ydF91bmxvY2soc3RydWN0IGludGVsX2RpZ2l0YWxfcG9ydCAqZGlnX3BvcnQpCj4g
IHsKPiAtICAgICAgIHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiA9IHRvX2k5MTUo
ZGlnX3BvcnQtPmJhc2UuYmFzZS5kZXYpOwo+ICsgICAgICAgc3RydWN0IGRybV9pOTE1X3ByaXZh
dGUgKmk5MTUgPSB0b19pOTE1KGRpZ19wb3J0LT5iYXNlLmJhc2UuZGV2KTsKPiAgICAgICAgIGlu
dGVsX3dha2VyZWZfdCB3YWtlcmVmID0gZmV0Y2hfYW5kX3plcm8oJmRpZ19wb3J0LT50Y19sb2Nr
X3dha2VyZWYpOwo+Cj4gICAgICAgICBtdXRleF91bmxvY2soJmRpZ19wb3J0LT50Y19sb2NrKTsK
Pgo+IC0gICAgICAgaW50ZWxfZGlzcGxheV9wb3dlcl9wdXRfYXN5bmMoZGV2X3ByaXYsIFBPV0VS
X0RPTUFJTl9ESVNQTEFZX0NPUkUsCj4gKyAgICAgICBpbnRlbF9kaXNwbGF5X3Bvd2VyX3B1dF9h
c3luYyhpOTE1LCBQT1dFUl9ET01BSU5fRElTUExBWV9DT1JFLAo+ICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgd2FrZXJlZik7Cj4gIH0KPgo+IC0tCj4gMi4yMS4wCj4KPiBf
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwo+IEludGVsLWdm
eCBtYWlsaW5nIGxpc3QKPiBJbnRlbC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCj4gaHR0cHM6
Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9pbnRlbC1nZngKCgoKLS0g
Ckx1Y2FzIERlIE1hcmNoaQpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fXwpJbnRlbC1nZnggbWFpbGluZyBsaXN0CkludGVsLWdmeEBsaXN0cy5mcmVlZGVza3Rv
cC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9pbnRl
bC1nZng=

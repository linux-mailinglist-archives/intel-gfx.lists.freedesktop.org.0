Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 3CCC9395A5A
	for <lists+intel-gfx@lfdr.de>; Mon, 31 May 2021 14:20:27 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id D902A6E902;
	Mon, 31 May 2021 12:20:15 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga12.intel.com (mga12.intel.com [192.55.52.136])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 5BBBD6E8F4;
 Mon, 31 May 2021 12:20:13 +0000 (UTC)
IronPort-SDR: wBZb5Rg3+M2zTpSfYBLi6j4y2nSroqPE6fRZ3ADXvW3OcdsC6pnL+6k5M09Rsj2H1PuPfxsr+s
 AkeTgqLOhTYQ==
X-IronPort-AV: E=McAfee;i="6200,9189,10000"; a="183027490"
X-IronPort-AV: E=Sophos;i="5.83,237,1616482800"; d="scan'208";a="183027490"
Received: from fmsmga003.fm.intel.com ([10.253.24.29])
 by fmsmga106.fm.intel.com with ESMTP/TLS/ECDHE-RSA-AES256-GCM-SHA384;
 31 May 2021 05:20:13 -0700
IronPort-SDR: J59TCZjIK5DxuvVopcgCOTDM31PG2KMAZMi/OtyDyxkif5IEI3Gv5Ggiycfe9UehB+4Trbfie6
 nInTr2ubCzKw==
X-IronPort-AV: E=Sophos;i="5.83,237,1616482800"; d="scan'208";a="473903922"
Received: from fnygreen-mobl1.ger.corp.intel.com (HELO
 thellst-mobl1.intel.com) ([10.249.254.133])
 by fmsmga003-auth.fm.intel.com with ESMTP/TLS/ECDHE-RSA-AES256-GCM-SHA384;
 31 May 2021 05:20:10 -0700
From: =?UTF-8?q?Thomas=20Hellstr=C3=B6m?= <thomas.hellstrom@linux.intel.com>
To: intel-gfx@lists.freedesktop.org,
	dri-devel@lists.freedesktop.org
Date: Mon, 31 May 2021 14:19:32 +0200
Message-Id: <20210531121940.267032-8-thomas.hellstrom@linux.intel.com>
X-Mailer: git-send-email 2.31.1
In-Reply-To: <20210531121940.267032-1-thomas.hellstrom@linux.intel.com>
References: <20210531121940.267032-1-thomas.hellstrom@linux.intel.com>
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH v7 07/15] drm: Add a prefetching memcpy_from_wc
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: =?UTF-8?q?Thomas=20Hellstr=C3=B6m?= <thomas.hellstrom@linux.intel.com>,
 =?UTF-8?q?Christian=20K=C3=B6nig?= <christian.koenig@amd.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

UmVhZGluZyBvdXQgb2Ygd3JpdGUtY29tYmluaW5nIG1hcHBlZCBtZW1vcnkgaXMgdHlwaWNhbGx5
IHZlcnkgc2xvdwpzaW5jZSB0aGUgQ1BVIGRvZXNuJ3QgcHJlZmV0Y2guIEhvd2V2ZXIgc29tZSBh
cmNocyBoYXZlIHNwZWNpYWwKaW5zdHJ1Y3Rpb25zIHRvIGRvIHRoaXMuCgpTbyBhZGQgYSBiZXN0
LWVmZm9ydCBtZW1jcHlfZnJvbV93YyB0YWtpbmcgZG1hLWJ1Zi1tYXAgcG9pbnRlcgphcmd1bWVu
dHMgdGhhdCBhdHRlbXB0cyB0byB1c2UgYSBmYXN0IHByZWZldGNoaW5nIG1lbWNweSBhbmQKb3Ro
ZXJ3aXNlIGZhbGxzIGJhY2sgdG8gb3JkaW5hcnkgbWVtY29waWVzLCB0YWtpbmcgdGhlIGlvbWVt
IHRhZ2dpbmcKaW50byBhY2NvdW50LgoKVGhlIGNvZGUgaXMgbGFyZ2VseSBjb3BpZWQgZnJvbSBp
OTE1X21lbWNweV9mcm9tX3djLgoKQ2M6IERhbmllbCBWZXR0ZXIgPGRhbmllbEBmZndsbC5jaD4K
Q2M6IENocmlzdGlhbiBLw7ZuaWcgPGNocmlzdGlhbi5rb2VuaWdAYW1kLmNvbT4KU3VnZ2VzdGVk
LWJ5OiBEYW5pZWwgVmV0dGVyIDxkYW5pZWxAZmZ3bGwuY2g+ClNpZ25lZC1vZmYtYnk6IFRob21h
cyBIZWxsc3Ryw7ZtIDx0aG9tYXMuaGVsbHN0cm9tQGxpbnV4LmludGVsLmNvbT4KLS0tCnY3Ogot
IFBlcmZvcm0gYSBtZW1jcHkgZXZlbiBpZiB3YXJuaW5nIHdpdGggaW5faW50ZXJydXB0KCkuIFN1
Z2dlc3RlZCBieQogIENocmlzdGlhbiBLw7ZuaWcuCi0gRml4IGNvbXBpbGF0aW9uIGZhaWx1cmUg
b24gIVg4NiAoUmVwb3J0ZWQgYnkga2VybmVsIHRlc3Qgcm9ib3QKICBsa3BAaW50ZWwuY29tKQot
LS0KIERvY3VtZW50YXRpb24vZ3B1L2RybS1tbS5yc3QgfCAgIDIgKy0KIGRyaXZlcnMvZ3B1L2Ry
bS9kcm1fY2FjaGUuYyAgfCAxNDcgKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysK
IGRyaXZlcnMvZ3B1L2RybS9kcm1fZHJ2LmMgICAgfCAgIDIgKwogaW5jbHVkZS9kcm0vZHJtX2Nh
Y2hlLmggICAgICB8ICAgNyArKwogNCBmaWxlcyBjaGFuZ2VkLCAxNTcgaW5zZXJ0aW9ucygrKSwg
MSBkZWxldGlvbigtKQoKZGlmZiAtLWdpdCBhL0RvY3VtZW50YXRpb24vZ3B1L2RybS1tbS5yc3Qg
Yi9Eb2N1bWVudGF0aW9uL2dwdS9kcm0tbW0ucnN0CmluZGV4IDIxYmU2ZGVhZGMxMi4uYzY2MDU4
YzViY2U3IDEwMDY0NAotLS0gYS9Eb2N1bWVudGF0aW9uL2dwdS9kcm0tbW0ucnN0CisrKyBiL0Rv
Y3VtZW50YXRpb24vZ3B1L2RybS1tbS5yc3QKQEAgLTQ2OSw3ICs0NjksNyBAQCBEUk0gTU0gUmFu
Z2UgQWxsb2NhdG9yIEZ1bmN0aW9uIFJlZmVyZW5jZXMKIC4uIGtlcm5lbC1kb2M6OiBkcml2ZXJz
L2dwdS9kcm0vZHJtX21tLmMKICAgIDpleHBvcnQ6CiAKLURSTSBDYWNoZSBIYW5kbGluZworRFJN
IENhY2hlIEhhbmRsaW5nIGFuZCBGYXN0IFdDIG1lbWNweSgpCiA9PT09PT09PT09PT09PT09PT0K
IAogLi4ga2VybmVsLWRvYzo6IGRyaXZlcnMvZ3B1L2RybS9kcm1fY2FjaGUuYwpkaWZmIC0tZ2l0
IGEvZHJpdmVycy9ncHUvZHJtL2RybV9jYWNoZS5jIGIvZHJpdmVycy9ncHUvZHJtL2RybV9jYWNo
ZS5jCmluZGV4IDc5YTUwZWYxMjUwZi4uYjg4N2Q3ZGVjOGI4IDEwMDY0NAotLS0gYS9kcml2ZXJz
L2dwdS9kcm0vZHJtX2NhY2hlLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2RybV9jYWNoZS5jCkBA
IC0yOCw2ICsyOCw3IEBACiAgKiBBdXRob3JzOiBUaG9tYXMgSGVsbHN0csO2bSA8dGhvbWFzLWF0
LXR1bmdzdGVuZ3JhcGhpY3MtZG90LWNvbT4KICAqLwogCisjaW5jbHVkZSA8bGludXgvZG1hLWJ1
Zi1tYXAuaD4KICNpbmNsdWRlIDxsaW51eC9leHBvcnQuaD4KICNpbmNsdWRlIDxsaW51eC9oaWdo
bWVtLmg+CiAjaW5jbHVkZSA8bGludXgvbWVtX2VuY3J5cHQuaD4KQEAgLTM1LDYgKzM2LDkgQEAK
IAogI2luY2x1ZGUgPGRybS9kcm1fY2FjaGUuaD4KIAorLyogQSBzbWFsbCBib3VuY2UgYnVmZmVy
IHRoYXQgZml0cyBvbiB0aGUgc3RhY2suICovCisjZGVmaW5lIE1FTUNQWV9CT1VOQ0VfU0laRSAx
MjgKKwogI2lmIGRlZmluZWQoQ09ORklHX1g4NikKICNpbmNsdWRlIDxhc20vc21wLmg+CiAKQEAg
LTIwOSwzICsyMTMsMTQ2IEBAIGJvb2wgZHJtX25lZWRfc3dpb3RsYihpbnQgZG1hX2JpdHMpCiAJ
cmV0dXJuIG1heF9pb21lbSA+ICgodTY0KTEgPDwgZG1hX2JpdHMpOwogfQogRVhQT1JUX1NZTUJP
TChkcm1fbmVlZF9zd2lvdGxiKTsKKworc3RhdGljIHZvaWQgbWVtY3B5X2ZhbGxiYWNrKHN0cnVj
dCBkbWFfYnVmX21hcCAqZHN0LAorCQkJICAgIGNvbnN0IHN0cnVjdCBkbWFfYnVmX21hcCAqc3Jj
LAorCQkJICAgIHVuc2lnbmVkIGxvbmcgbGVuKQoreworCWlmICghZHN0LT5pc19pb21lbSAmJiAh
c3JjLT5pc19pb21lbSkgeworCQltZW1jcHkoZHN0LT52YWRkciwgc3JjLT52YWRkciwgbGVuKTsK
Kwl9IGVsc2UgaWYgKCFzcmMtPmlzX2lvbWVtKSB7CisJCWRtYV9idWZfbWFwX21lbWNweV90byhk
c3QsIHNyYy0+dmFkZHIsIGxlbik7CisJfSBlbHNlIGlmICghZHN0LT5pc19pb21lbSkgeworCQlt
ZW1jcHlfZnJvbWlvKGRzdC0+dmFkZHIsIHNyYy0+dmFkZHJfaW9tZW0sIGxlbik7CisJfSBlbHNl
IHsKKwkJLyoKKwkJICogQm91bmNlIHNpemUgaXMgbm90IHBlcmZvcm1hbmNlIHR1bmVkLCBidXQg
dXNpbmcgYQorCQkgKiBib3VuY2UgYnVmZmVyIGxpa2UgdGhpcyBpcyBzaWduaWZpY2FudGx5IGZh
c3RlciB0aGFuCisJCSAqIHJlc29ydGluZyB0byBpb3JlYWR4eCgpICsgaW93cml0ZXh4KCkuCisJ
CSAqLworCQljaGFyIGJvdW5jZVtNRU1DUFlfQk9VTkNFX1NJWkVdOworCQl2b2lkIF9faW9tZW0g
Kl9zcmMgPSBzcmMtPnZhZGRyX2lvbWVtOworCQl2b2lkIF9faW9tZW0gKl9kc3QgPSBkc3QtPnZh
ZGRyX2lvbWVtOworCisJCXdoaWxlIChsZW4gPj0gTUVNQ1BZX0JPVU5DRV9TSVpFKSB7CisJCQlt
ZW1jcHlfZnJvbWlvKGJvdW5jZSwgX3NyYywgTUVNQ1BZX0JPVU5DRV9TSVpFKTsKKwkJCW1lbWNw
eV90b2lvKF9kc3QsIGJvdW5jZSwgTUVNQ1BZX0JPVU5DRV9TSVpFKTsKKwkJCV9zcmMgKz0gTUVN
Q1BZX0JPVU5DRV9TSVpFOworCQkJX2RzdCArPSBNRU1DUFlfQk9VTkNFX1NJWkU7CisJCQlsZW4g
LT0gTUVNQ1BZX0JPVU5DRV9TSVpFOworCQl9CisJCWlmIChsZW4pIHsKKwkJCW1lbWNweV9mcm9t
aW8oYm91bmNlLCBfc3JjLCBNRU1DUFlfQk9VTkNFX1NJWkUpOworCQkJbWVtY3B5X3RvaW8oX2Rz
dCwgYm91bmNlLCBNRU1DUFlfQk9VTkNFX1NJWkUpOworCQl9CisJfQorfQorCisjaWZkZWYgQ09O
RklHX1g4NgorCitzdGF0aWMgREVGSU5FX1NUQVRJQ19LRVlfRkFMU0UoaGFzX21vdm50ZHFhKTsK
Kworc3RhdGljIHZvaWQgX19tZW1jcHlfbnRkcWEodm9pZCAqZHN0LCBjb25zdCB2b2lkICpzcmMs
IHVuc2lnbmVkIGxvbmcgbGVuKQoreworCWtlcm5lbF9mcHVfYmVnaW4oKTsKKworCXdoaWxlIChs
ZW4gPj0gNCkgeworCQlhc20oIm1vdm50ZHFhCSglMCksICUleG1tMFxuIgorCQkgICAgIm1vdm50
ZHFhIDE2KCUwKSwgJSV4bW0xXG4iCisJCSAgICAibW92bnRkcWEgMzIoJTApLCAlJXhtbTJcbiIK
KwkJICAgICJtb3ZudGRxYSA0OCglMCksICUleG1tM1xuIgorCQkgICAgIm1vdmFwcyAlJXhtbTAs
ICAgKCUxKVxuIgorCQkgICAgIm1vdmFwcyAlJXhtbTEsIDE2KCUxKVxuIgorCQkgICAgIm1vdmFw
cyAlJXhtbTIsIDMyKCUxKVxuIgorCQkgICAgIm1vdmFwcyAlJXhtbTMsIDQ4KCUxKVxuIgorCQkg
ICAgOjogInIiIChzcmMpLCAiciIgKGRzdCkgOiAibWVtb3J5Iik7CisJCXNyYyArPSA2NDsKKwkJ
ZHN0ICs9IDY0OworCQlsZW4gLT0gNDsKKwl9CisJd2hpbGUgKGxlbi0tKSB7CisJCWFzbSgibW92
bnRkcWEgKCUwKSwgJSV4bW0wXG4iCisJCSAgICAibW92YXBzICUleG1tMCwgKCUxKVxuIgorCQkg
ICAgOjogInIiIChzcmMpLCAiciIgKGRzdCkgOiAibWVtb3J5Iik7CisJCXNyYyArPSAxNjsKKwkJ
ZHN0ICs9IDE2OworCX0KKworCWtlcm5lbF9mcHVfZW5kKCk7Cit9CisKKy8qCisgKiBfX2RybV9t
ZW1jcHlfZnJvbV93YyBjb3BpZXMgQGxlbiBieXRlcyBmcm9tIEBzcmMgdG8gQGRzdCB1c2luZwor
ICogbm9uLXRlbXBvcmFsIGluc3RydWN0aW9ucyB3aGVyZSBhdmFpbGFibGUuIE5vdGUgdGhhdCBh
bGwgYXJndW1lbnRzCisgKiAoQHNyYywgQGRzdCkgbXVzdCBiZSBhbGlnbmVkIHRvIDE2IGJ5dGVz
IGFuZCBAbGVuIG11c3QgYmUgYSBtdWx0aXBsZQorICogb2YgMTYuCisgKi8KK3N0YXRpYyB2b2lk
IF9fZHJtX21lbWNweV9mcm9tX3djKHZvaWQgKmRzdCwgY29uc3Qgdm9pZCAqc3JjLCB1bnNpZ25l
ZCBsb25nIGxlbikKK3sKKwlpZiAodW5saWtlbHkoKCh1bnNpZ25lZCBsb25nKWRzdCB8ICh1bnNp
Z25lZCBsb25nKXNyYyB8IGxlbikgJiAxNSkpCisJCW1lbWNweShkc3QsIHNyYywgbGVuKTsKKwll
bHNlIGlmIChsaWtlbHkobGVuKSkKKwkJX19tZW1jcHlfbnRkcWEoZHN0LCBzcmMsIGxlbiA+PiA0
KTsKK30KKworLyoqCisgKiBkcm1fbWVtY3B5X2Zyb21fd2MgLSBQZXJmb3JtIHRoZSBmYXN0ZXN0
IGF2YWlsYWJsZSBtZW1jcHkgZnJvbSBhIHNvdXJjZQorICogdGhhdCBtYXkgYmUgV0MuCisgKiBA
ZHN0OiBUaGUgZGVzdGluYXRpb24gcG9pbnRlcgorICogQHNyYzogVGhlIHNvdXJjZSBwb2ludGVy
CisgKiBAbGVuOiBUaGUgc2l6ZSBvZiB0aGUgYXJlYSBvIHRyYW5zZmVyIGluIGJ5dGVzCisgKgor
ICogVHJpZXMgYW4gYXJjaCBvcHRpbWl6ZWQgbWVtY3B5IGZvciBwcmVmZXRjaGluZyByZWFkaW5n
IG91dCBvZiBhIFdDIHJlZ2lvbiwKKyAqIGFuZCBpZiBubyBzdWNoIGJlYXN0IGlzIGF2YWlsYWJs
ZSwgZmFsbHMgYmFjayB0byBhIG5vcm1hbCBtZW1jcHkuCisgKi8KK3ZvaWQgZHJtX21lbWNweV9m
cm9tX3djKHN0cnVjdCBkbWFfYnVmX21hcCAqZHN0LAorCQkJY29uc3Qgc3RydWN0IGRtYV9idWZf
bWFwICpzcmMsCisJCQl1bnNpZ25lZCBsb25nIGxlbikKK3sKKwlpZiAoV0FSTl9PTihpbl9pbnRl
cnJ1cHQoKSkpIHsKKwkJbWVtY3B5X2ZhbGxiYWNrKGRzdCwgc3JjLCBsZW4pOworCQlyZXR1cm47
CisJfQorCisJaWYgKHN0YXRpY19icmFuY2hfbGlrZWx5KCZoYXNfbW92bnRkcWEpKSB7CisJCV9f
ZHJtX21lbWNweV9mcm9tX3djKGRzdC0+aXNfaW9tZW0gPworCQkJCSAgICAgKHZvaWQgX19mb3Jj
ZSAqKWRzdC0+dmFkZHJfaW9tZW0gOgorCQkJCSAgICAgZHN0LT52YWRkciwKKwkJCQkgICAgIHNy
Yy0+aXNfaW9tZW0gPworCQkJCSAgICAgKHZvaWQgY29uc3QgX19mb3JjZSAqKXNyYy0+dmFkZHJf
aW9tZW0gOgorCQkJCSAgICAgc3JjLT52YWRkciwKKwkJCQkgICAgIGxlbik7CisJCXJldHVybjsK
Kwl9CisKKwltZW1jcHlfZmFsbGJhY2soZHN0LCBzcmMsIGxlbik7Cit9CitFWFBPUlRfU1lNQk9M
KGRybV9tZW1jcHlfZnJvbV93Yyk7CisKKy8qKgorICogZHJtX21lbWNweV9pbml0X2Vhcmx5IC0g
T25lIHRpbWUgaW5pdGlhbGl6YXRpb24gb2YgdGhlIFdDIG1lbWNweSBjb2RlCisgKi8KK3ZvaWQg
ZHJtX21lbWNweV9pbml0X2Vhcmx5KHZvaWQpCit7CisJLyoKKwkgKiBTb21lIGh5cGVydmlzb3Jz
IChlLmcuIEtWTSkgZG9uJ3Qgc3VwcG9ydCBWRVgtcHJlZml4IGluc3RydWN0aW9ucworCSAqIGVt
dWxhdGlvbi4gU28gZG9uJ3QgZW5hYmxlIG1vdm50ZHFhIGluIGh5cGVydmlzb3IgZ3Vlc3QuCisJ
ICovCisJaWYgKHN0YXRpY19jcHVfaGFzKFg4Nl9GRUFUVVJFX1hNTTRfMSkgJiYKKwkgICAgIWJv
b3RfY3B1X2hhcyhYODZfRkVBVFVSRV9IWVBFUlZJU09SKSkKKwkJc3RhdGljX2JyYW5jaF9lbmFi
bGUoJmhhc19tb3ZudGRxYSk7Cit9CisjZWxzZQordm9pZCBkcm1fbWVtY3B5X2Zyb21fd2Moc3Ry
dWN0IGRtYV9idWZfbWFwICpkc3QsCisJCQljb25zdCBzdHJ1Y3QgZG1hX2J1Zl9tYXAgKnNyYywK
KwkJCXVuc2lnbmVkIGxvbmcgbGVuKQoreworCVdBUk5fT04oaW5faW50ZXJydXB0KCkpOworCisJ
bWVtY3B5X2ZhbGxiYWNrKGRzdCwgc3JjLCBsZW4pOworfQorCit2b2lkIGRybV9tZW1jcHlfaW5p
dF9lYXJseSh2b2lkKQoreworfQorI2VuZGlmIC8qIENPTkZJR19YODYgKi8KZGlmZiAtLWdpdCBh
L2RyaXZlcnMvZ3B1L2RybS9kcm1fZHJ2LmMgYi9kcml2ZXJzL2dwdS9kcm0vZHJtX2Rydi5jCmlu
ZGV4IDNkOGQ2OGE5OGI5NS4uODgwNGVjN2QzMjE1IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9k
cm0vZHJtX2Rydi5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9kcm1fZHJ2LmMKQEAgLTM1LDYgKzM1
LDcgQEAKICNpbmNsdWRlIDxsaW51eC9zbGFiLmg+CiAjaW5jbHVkZSA8bGludXgvc3JjdS5oPgog
CisjaW5jbHVkZSA8ZHJtL2RybV9jYWNoZS5oPgogI2luY2x1ZGUgPGRybS9kcm1fY2xpZW50Lmg+
CiAjaW5jbHVkZSA8ZHJtL2RybV9jb2xvcl9tZ210Lmg+CiAjaW5jbHVkZSA8ZHJtL2RybV9kcnYu
aD4KQEAgLTEwNDEsNiArMTA0Miw3IEBAIHN0YXRpYyBpbnQgX19pbml0IGRybV9jb3JlX2luaXQo
dm9pZCkKIAogCWRybV9jb25uZWN0b3JfaWRhX2luaXQoKTsKIAlpZHJfaW5pdCgmZHJtX21pbm9y
c19pZHIpOworCWRybV9tZW1jcHlfaW5pdF9lYXJseSgpOwogCiAJcmV0ID0gZHJtX3N5c2ZzX2lu
aXQoKTsKIAlpZiAocmV0IDwgMCkgewpkaWZmIC0tZ2l0IGEvaW5jbHVkZS9kcm0vZHJtX2NhY2hl
LmggYi9pbmNsdWRlL2RybS9kcm1fY2FjaGUuaAppbmRleCBlOWFkNDg2M2Q5MTUuLmNjOWRlMTYz
MmRkMyAxMDA2NDQKLS0tIGEvaW5jbHVkZS9kcm0vZHJtX2NhY2hlLmgKKysrIGIvaW5jbHVkZS9k
cm0vZHJtX2NhY2hlLmgKQEAgLTM1LDYgKzM1LDggQEAKIAogI2luY2x1ZGUgPGxpbnV4L3NjYXR0
ZXJsaXN0Lmg+CiAKK3N0cnVjdCBkbWFfYnVmX21hcDsKKwogdm9pZCBkcm1fY2xmbHVzaF9wYWdl
cyhzdHJ1Y3QgcGFnZSAqcGFnZXNbXSwgdW5zaWduZWQgbG9uZyBudW1fcGFnZXMpOwogdm9pZCBk
cm1fY2xmbHVzaF9zZyhzdHJ1Y3Qgc2dfdGFibGUgKnN0KTsKIHZvaWQgZHJtX2NsZmx1c2hfdmly
dF9yYW5nZSh2b2lkICphZGRyLCB1bnNpZ25lZCBsb25nIGxlbmd0aCk7CkBAIC03MCw0ICs3Miw5
IEBAIHN0YXRpYyBpbmxpbmUgYm9vbCBkcm1fYXJjaF9jYW5fd2NfbWVtb3J5KHZvaWQpCiAjZW5k
aWYKIH0KIAordm9pZCBkcm1fbWVtY3B5X2luaXRfZWFybHkodm9pZCk7CisKK3ZvaWQgZHJtX21l
bWNweV9mcm9tX3djKHN0cnVjdCBkbWFfYnVmX21hcCAqZHN0LAorCQkJY29uc3Qgc3RydWN0IGRt
YV9idWZfbWFwICpzcmMsCisJCQl1bnNpZ25lZCBsb25nIGxlbik7CiAjZW5kaWYKLS0gCjIuMzEu
MQoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KSW50ZWwt
Z2Z4IG1haWxpbmcgbGlzdApJbnRlbC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8v
bGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vaW50ZWwtZ2Z4Cg==

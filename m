Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id A462F57297
	for <lists+intel-gfx@lfdr.de>; Wed, 26 Jun 2019 22:28:13 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 4538B6E503;
	Wed, 26 Jun 2019 20:28:11 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga14.intel.com (mga14.intel.com [192.55.52.115])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 68EDF6E503
 for <intel-gfx@lists.freedesktop.org>; Wed, 26 Jun 2019 20:28:10 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga004.jf.intel.com ([10.7.209.38])
 by fmsmga103.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 26 Jun 2019 13:28:09 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.63,421,1557212400"; d="scan'208";a="313542439"
Received: from dceraolo-linux.fm.intel.com (HELO [10.1.27.145]) ([10.1.27.145])
 by orsmga004.jf.intel.com with ESMTP; 26 Jun 2019 13:28:09 -0700
To: =?UTF-8?B?VmlsbGUgU3lyasOkbMOk?= <ville.syrjala@linux.intel.com>
References: <20190624203152.13725-1-daniele.ceraolospurio@intel.com>
 <20190624203152.13725-4-daniele.ceraolospurio@intel.com>
 <20190626184254.GW5942@intel.com>
From: Daniele Ceraolo Spurio <daniele.ceraolospurio@intel.com>
Message-ID: <a9e9a66c-80ac-a68f-b07b-e033d85e5747@intel.com>
Date: Wed, 26 Jun 2019 13:27:57 -0700
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101
 Thunderbird/60.4.0
MIME-Version: 1.0
In-Reply-To: <20190626184254.GW5942@intel.com>
Content-Language: en-US
Subject: Re: [Intel-gfx] [RFC 3/4] drm/i915: introduce display_uncore
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: intel-gfx@lists.freedesktop.org
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

CgpPbiA2LzI2LzE5IDExOjQyIEFNLCBWaWxsZSBTeXJqw6Rsw6Qgd3JvdGU6Cj4gT24gTW9uLCBK
dW4gMjQsIDIwMTkgYXQgMDE6MzE6NTFQTSAtMDcwMCwgRGFuaWVsZSBDZXJhb2xvIFNwdXJpbyB3
cm90ZToKPj4gQSBmb3JjZXdha2UtbGVzcyB1bmNvcmUgdG8gYmUgdXNlZCB0byBkZWNvdXBsZSBH
VCBhY2Nlc3NlcyBmcm9tIGRpc3BsYXkKPj4gb25lcyB0byBhdm9pZCBzZXJpYWxpemluZyB0aGVt
IHdoZW4gdGhlcmUgaXMgbm8gbmVlZC4KPj4KPj4gTmV3IGFjY2Vzc29ycyB0aGF0IGltcGxpY2l0
bHkgdXNlIHRoZSBuZXcgdW5jb3JlIGhhdmUgYWxzbyBiZWVuIGFkZGVkLgo+Pgo+PiBTaWduZWQt
b2ZmLWJ5OiBEYW5pZWxlIENlcmFvbG8gU3B1cmlvIDxkYW5pZWxlLmNlcmFvbG9zcHVyaW9AaW50
ZWwuY29tPgo+PiBDYzogVmlsbGUgU3lyasOkbMOkIDx2aWxsZS5zeXJqYWxhQGxpbnV4LmludGVs
LmNvbT4KPj4gLS0tCj4+ICAgZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kcnYuYyAgICAgfCAx
NyArKysrKysrKy0KPj4gICBkcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2Rydi5oICAgICB8IDU4
ICsrKysrKysrKysrKysrKysrKysrKysrKysrKysrCj4+ICAgZHJpdmVycy9ncHUvZHJtL2k5MTUv
aW50ZWxfdW5jb3JlLmMgfCAgOSArKysrLQo+PiAgIDMgZmlsZXMgY2hhbmdlZCwgODEgaW5zZXJ0
aW9ucygrKSwgMyBkZWxldGlvbnMoLSkKPj4KPj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2k5MTVfZHJ2LmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2Rydi5jCj4+IGlu
ZGV4IDJkNmM2NDNkZGU1MS4uZTIyYzBhNmIzOTkyIDEwMDY0NAo+PiAtLS0gYS9kcml2ZXJzL2dw
dS9kcm0vaTkxNS9pOTE1X2Rydi5jCj4+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVf
ZHJ2LmMKPj4gQEAgLTkwMyw2ICs5MDMsNyBAQCBzdGF0aWMgaW50IGk5MTVfZHJpdmVyX2luaXRf
ZWFybHkoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2KQo+PiAgIAo+PiAgIAlpbnRl
bF91bmNvcmVfbW1pb19kZWJ1Z19pbml0X2Vhcmx5KCZkZXZfcHJpdi0+bW1pb19kZWJ1Zyk7Cj4+
ICAgCWludGVsX3VuY29yZV9pbml0X2Vhcmx5KCZkZXZfcHJpdi0+dW5jb3JlLCBkZXZfcHJpdik7
Cj4+ICsJaW50ZWxfdW5jb3JlX2luaXRfZWFybHkoJmRldl9wcml2LT5kZV91bmNvcmUsIGRldl9w
cml2KTsKPj4gICAKPj4gICAJc3Bpbl9sb2NrX2luaXQoJmRldl9wcml2LT5pcnFfbG9jayk7Cj4+
ICAgCXNwaW5fbG9ja19pbml0KCZkZXZfcHJpdi0+Z3B1X2Vycm9yLmxvY2spOwo+PiBAQCAtMTAw
MSw2ICsxMDAyLDEwIEBAIHN0YXRpYyBpbnQgaTkxNV9kcml2ZXJfaW5pdF9tbWlvKHN0cnVjdCBk
cm1faTkxNV9wcml2YXRlICpkZXZfcHJpdikKPj4gICAJaWYgKHJldCA8IDApCj4+ICAgCQlnb3Rv
IGVycl9icmlkZ2U7Cj4+ICAgCj4+ICsJcmV0ID0gaW50ZWxfdW5jb3JlX2luaXRfbW1pbygmZGV2
X3ByaXYtPmRlX3VuY29yZSk7Cj4+ICsJaWYgKHJldCA8IDApCj4+ICsJCWdvdG8gZXJyX3VuY29y
ZTsKPj4gKwo+PiAgIAkvKiBUcnkgdG8gbWFrZSBzdXJlIE1DSEJBUiBpcyBlbmFibGVkIGJlZm9y
ZSBwb2tpbmcgYXQgaXQgKi8KPj4gICAJaW50ZWxfc2V0dXBfbWNoYmFyKGRldl9wcml2KTsKPj4g
ICAKPj4gQEAgLTEwMTIsMTQgKzEwMTcsMTYgQEAgc3RhdGljIGludCBpOTE1X2RyaXZlcl9pbml0
X21taW8oc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2KQo+PiAgIAo+PiAgIAlyZXQg
PSBpbnRlbF9lbmdpbmVzX2luaXRfbW1pbyhkZXZfcHJpdik7Cj4+ICAgCWlmIChyZXQpCj4+IC0J
CWdvdG8gZXJyX3VuY29yZTsKPj4gKwkJZ290byBlcnJfbWNoYmFyOwo+PiAgIAo+PiAgIAlpOTE1
X2dlbV9pbml0X21taW8oZGV2X3ByaXYpOwo+PiAgIAo+PiAgIAlyZXR1cm4gMDsKPj4gICAKPj4g
LWVycl91bmNvcmU6Cj4+ICtlcnJfbWNoYmFyOgo+PiAgIAlpbnRlbF90ZWFyZG93bl9tY2hiYXIo
ZGV2X3ByaXYpOwo+PiArCWludGVsX3VuY29yZV9maW5pX21taW8oJmRldl9wcml2LT5kZV91bmNv
cmUpOwo+PiArZXJyX3VuY29yZToKPj4gICAJaW50ZWxfdW5jb3JlX2ZpbmlfbW1pbygmZGV2X3By
aXYtPnVuY29yZSk7Cj4+ICAgZXJyX2JyaWRnZToKPj4gICAJcGNpX2Rldl9wdXQoZGV2X3ByaXYt
PmJyaWRnZV9kZXYpOwo+PiBAQCAtMTAzNCw2ICsxMDQxLDcgQEAgc3RhdGljIGludCBpOTE1X2Ry
aXZlcl9pbml0X21taW8oc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2KQo+PiAgIHN0
YXRpYyB2b2lkIGk5MTVfZHJpdmVyX2NsZWFudXBfbW1pbyhzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0
ZSAqZGV2X3ByaXYpCj4+ICAgewo+PiAgIAlpbnRlbF90ZWFyZG93bl9tY2hiYXIoZGV2X3ByaXYp
Owo+PiArCWludGVsX3VuY29yZV9maW5pX21taW8oJmRldl9wcml2LT5kZV91bmNvcmUpOwo+PiAg
IAlpbnRlbF91bmNvcmVfZmluaV9tbWlvKCZkZXZfcHJpdi0+dW5jb3JlKTsKPj4gICAJcGNpX2Rl
dl9wdXQoZGV2X3ByaXYtPmJyaWRnZV9kZXYpOwo+PiAgIH0KPj4gQEAgLTIxNjYsNiArMjE3NCw3
IEBAIHN0YXRpYyBpbnQgaTkxNV9kcm1fc3VzcGVuZF9sYXRlKHN0cnVjdCBkcm1fZGV2aWNlICpk
ZXYsIGJvb2wgaGliZXJuYXRpb24pCj4+ICAgCj4+ICAgCWk5MTVfZ2VtX3N1c3BlbmRfbGF0ZShk
ZXZfcHJpdik7Cj4+ICAgCj4+ICsJaW50ZWxfdW5jb3JlX3N1c3BlbmQoJmRldl9wcml2LT5kZV91
bmNvcmUpOwo+PiAgIAlpbnRlbF91bmNvcmVfc3VzcGVuZCgmZGV2X3ByaXYtPnVuY29yZSk7Cj4+
ICAgCj4+ICAgCWludGVsX3Bvd2VyX2RvbWFpbnNfc3VzcGVuZChkZXZfcHJpdiwKPj4gQEAgLTIz
NjMsNiArMjM3Miw3IEBAIHN0YXRpYyBpbnQgaTkxNV9kcm1fcmVzdW1lX2Vhcmx5KHN0cnVjdCBk
cm1fZGV2aWNlICpkZXYpCj4+ICAgCQkJICByZXQpOwo+PiAgIAo+PiAgIAlpbnRlbF91bmNvcmVf
cmVzdW1lX2Vhcmx5KCZkZXZfcHJpdi0+dW5jb3JlKTsKPj4gKwlpbnRlbF91bmNvcmVfcmVzdW1l
X2Vhcmx5KCZkZXZfcHJpdi0+ZGVfdW5jb3JlKTsKPj4gICAKPj4gICAJaW50ZWxfZ3RfY2hlY2tf
YW5kX2NsZWFyX2ZhdWx0cygmZGV2X3ByaXYtPmd0KTsKPj4gICAKPj4gQEAgLTI5MzcsNiArMjk0
Nyw3IEBAIHN0YXRpYyBpbnQgaW50ZWxfcnVudGltZV9zdXNwZW5kKHN0cnVjdCBkZXZpY2UgKmtk
ZXYpCj4+ICAgCj4+ICAgCWludGVsX3J1bnRpbWVfcG1fZGlzYWJsZV9pbnRlcnJ1cHRzKGRldl9w
cml2KTsKPj4gICAKPj4gKwlpbnRlbF91bmNvcmVfc3VzcGVuZCgmZGV2X3ByaXYtPmRlX3VuY29y
ZSk7Cj4+ICAgCWludGVsX3VuY29yZV9zdXNwZW5kKCZkZXZfcHJpdi0+dW5jb3JlKTsKPj4gICAK
Pj4gICAJcmV0ID0gMDsKPj4gQEAgLTI5NTUsNiArMjk2Niw3IEBAIHN0YXRpYyBpbnQgaW50ZWxf
cnVudGltZV9zdXNwZW5kKHN0cnVjdCBkZXZpY2UgKmtkZXYpCj4+ICAgCWlmIChyZXQpIHsKPj4g
ICAJCURSTV9FUlJPUigiUnVudGltZSBzdXNwZW5kIGZhaWxlZCwgZGlzYWJsaW5nIGl0ICglZClc
biIsIHJldCk7Cj4+ICAgCQlpbnRlbF91bmNvcmVfcnVudGltZV9yZXN1bWUoJmRldl9wcml2LT51
bmNvcmUpOwo+PiArCQlpbnRlbF91bmNvcmVfcnVudGltZV9yZXN1bWUoJmRldl9wcml2LT5kZV91
bmNvcmUpOwo+PiAgIAo+PiAgIAkJaW50ZWxfcnVudGltZV9wbV9lbmFibGVfaW50ZXJydXB0cyhk
ZXZfcHJpdik7Cj4+ICAgCj4+IEBAIC0zMDUzLDYgKzMwNjUsNyBAQCBzdGF0aWMgaW50IGludGVs
X3J1bnRpbWVfcmVzdW1lKHN0cnVjdCBkZXZpY2UgKmtkZXYpCj4+ICAgCX0KPj4gICAKPj4gICAJ
aW50ZWxfdW5jb3JlX3J1bnRpbWVfcmVzdW1lKCZkZXZfcHJpdi0+dW5jb3JlKTsKPj4gKwlpbnRl
bF91bmNvcmVfcnVudGltZV9yZXN1bWUoJmRldl9wcml2LT5kZV91bmNvcmUpOwo+PiAgIAo+PiAg
IAlpbnRlbF9ydW50aW1lX3BtX2VuYWJsZV9pbnRlcnJ1cHRzKGRldl9wcml2KTsKPj4gICAKPj4g
ZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZHJ2LmggYi9kcml2ZXJzL2dw
dS9kcm0vaTkxNS9pOTE1X2Rydi5oCj4+IGluZGV4IGE1M2I2NWQ3ODE1OS4uYzU1NGI3Njk3YmRj
IDEwMDY0NAo+PiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2Rydi5oCj4+ICsrKyBi
L2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZHJ2LmgKPj4gQEAgLTEzNDEsNiArMTM0MSw3IEBA
IHN0cnVjdCBkcm1faTkxNV9wcml2YXRlIHsKPj4gICAJcmVzb3VyY2Vfc2l6ZV90IHN0b2xlbl91
c2FibGVfc2l6ZTsJLyogVG90YWwgc2l6ZSBtaW51cyByZXNlcnZlZCByYW5nZXMgKi8KPj4gICAK
Pj4gICAJc3RydWN0IGludGVsX3VuY29yZSB1bmNvcmU7Cj4+ICsJc3RydWN0IGludGVsX3VuY29y
ZSBkZV91bmNvcmU7Cj4+ICAgCXN0cnVjdCBpbnRlbF91bmNvcmVfbW1pb19kZWJ1ZyBtbWlvX2Rl
YnVnOwo+PiAgIAo+PiAgIAlzdHJ1Y3QgaTkxNV92aXJ0dWFsX2dwdSB2Z3B1Owo+PiBAQCAtMjc0
Niw2ICsyNzQ3LDYzIEBAIGV4dGVybiB2b2lkIGludGVsX2Rpc3BsYXlfcHJpbnRfZXJyb3Jfc3Rh
dGUoc3RydWN0IGRybV9pOTE1X2Vycm9yX3N0YXRlX2J1ZiAqZSwKPj4gICAjZGVmaW5lIEk5MTVf
UkVBRF9GVyhyZWdfXykgX19JOTE1X1JFR19PUChyZWFkX2Z3LCBkZXZfcHJpdiwgKHJlZ19fKSkK
Pj4gICAjZGVmaW5lIEk5MTVfV1JJVEVfRlcocmVnX18sIHZhbF9fKSBfX0k5MTVfUkVHX09QKHdy
aXRlX2Z3LCBkZXZfcHJpdiwgKHJlZ19fKSwgKHZhbF9fKSkKPj4gICAKPj4gKy8qCj4+ICsgKiBU
aGUgZm9sbG93aW5nIGFyZSBtbWlvLWFjY2Vzc29ycyB0aGF0IHVzZSBhbiBpbmRlcGVuZGVudCBs
b2NrIGFuZCBza2lwIGFsbAo+PiArICogdGhlIGZvcmNld2FrZSBsb2dpYywgdG8gYmUgdXNlZCB0
byBhY2Nlc3MgZGlzcGxheSByZWdpc3RlcnMsIHdoaWNoIGFyZQo+PiArICogb3V0c2lkZSB0aGUg
R1QgZm9yY2V3YWtlIHdlbGxzLgo+PiArICovCj4+ICtzdGF0aWMgaW5saW5lIHZvaWQKPj4gK2lu
dGVsX2Fzc2VydF9yZWdpc3Rlcl9pc19kaXNwbGF5KHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpp
OTE1LCBpOTE1X3JlZ190IHJlZykKPj4gK3sKPj4gKyNpZmRlZiBDT05GSUdfRFJNX0k5MTVfREVC
VUdfTU1JTwo+PiArCXUzMiBvZmZzZXQgPSBpOTE1X21taW9fcmVnX29mZnNldChyZWcpOwo+PiAr
CWJvb2wgaXNfZGVfcmVnaXN0ZXI7Cj4+ICsKPj4gKwlpZiAoSU5URUxfR0VOKGk5MTUpID49IDUp
IHsKPj4gKwkJaXNfZGVfcmVnaXN0ZXIgPSBvZmZzZXQgPj0gMHg0MDAwMCAmJgo+PiArCQkJKElO
VEVMX0dFTihpOTE1KSA8IDExIHx8IG9mZnNldCA8IDB4MWMwMDAwKTsKPiAKPiBJIHRoaW5rIHRo
ZSBnZW4xMSsgdGhpbmcgaXMgd3JvbmcuIFRoZXJlIGFyZSBlZy4gUEhZIHJlZ2lzdGVycwo+IGFi
b3ZlIDB4MTYyMDAwLgoKQnV0IHRoYXQncyBzdGlsbCBiZWxvdyAweDFjMDAwMC4gTWVkaWEgZW5n
aW5lcyBzdGFydCBhdCAweDFjMDAwMCwgc28gCndlJ3JlIGJhY2sgaW4gR1QtbGFuZCBhdCBsZWFz
dCB1bnRpbCAweDFkZmZmZi4KCj4gCj4+ICsJfSBlbHNlIHsKPj4gKwkJaXNfZGVfcmVnaXN0ZXIg
PQo+PiArCQkJKG9mZnNldCA+PSAweDUwMDAgJiYgb2Zmc2V0IDw9IDB4NWZmZikgfHwKPj4gKwkJ
CShvZmZzZXQgPj0gMHg2MDAwICYmIG9mZnNldCA8PSAweDZmZmYpIHx8Cj4+ICsJCQkob2Zmc2V0
ID49IDB4YTAwMCAmJiBvZmZzZXQgPD0gMHhhZmZmKSB8fAo+PiArCQkJb2Zmc2V0ID49IDB4MzAw
MDA7Cj4gCj4gSSB0aGluayB0aGUgV0FSTnMgYXJlIGNvbWluZyBmcm9tIHRoZSBtY2hiYXIgcmFu
Z2UgKDB4MTAwMDArIG9uCj4gdGhlc2UgcGxhdGZvcm1zKS4gTm90IHJlYWxseSBzdXJlIGlmIHdl
IHNob3VsZCBkZXNpZ25hdGUgdGhhdAo+IGd0IG9yIGRlLgo+IAo+IFVuZm9ydHVuYXRlbHkgdGhl
IHJlZ2lzdGVyIHJhbmdlcyBkb24ndCBzZWVtIHRvIGZvbGxvdyBtdWNoCj4gb2YgYSBzZW5zaWJs
ZSBwYXR0ZXJuLiBFZy4gd2Ugc2VlbSB0byBoYXZlIGJvdGggZ3QgYW5kIGRlCj4gcmVsYXRlZCBz
dHVmZiBhcm91bmQgdGhlIDB4MTMwMDAwIG1hcmsgOigKPiAKClNob3VsZCBJIGp1c3QgZHJvcCB0
aGUgY2hlY2sgZm9yIG5vdyB0aGVuPyBBbHRlcm5hdGl2ZWx5LCBJIGNvdWxkIGNoYW5nZSAKdG8g
V0FSTiBpZiB3ZSB0cnkgdG8gYWNjZXNzIGEgcmVnaXN0ZXIgdGhhdCBpcyBpbnNpZGUgb25lIG9m
IHRoZSAKZm9yY2V3YWtlIHJhbmdlcyBpZiBDT05GSUdfRFJNX0k5MTVfREVCVUdfTU1JTyBpcyBz
ZXQuCgpEYW5pZWxlCgo+IE1heWJlIHdlIHNob3VsZCB0cnkgc2VwYXJhdGUgb25seSB0aGUgcGlw
ZS9wbGFuZSByZWdpc3RlcnMKPiB3aGljaCBhcmUgcGFydCBvZiB5b3VyIHR5cGljYWwgYXRvbWlj
IGNvbW1pdCB1bmRlciB0aGVpcgo+IG93biBsb2NrLiBDb3VsZCBldmVuIGRvIHBlci1waXBlIGxv
Y2tzIG1heWJlLi4uCj4gCj4+ICsJfQo+PiArCj4+ICsJV0FSTl9PTkNFKCFpc19kZV9yZWdpc3Rl
ciwKPj4gKwkJICAiZGlzcGxheSByZWcgYWNjZXNzIGZ1bmN0aW9uIHVzZWQgZm9yIG5vbi1kaXNw
bGF5IHJlZyAweCUwOHhcbiIsCj4+ICsJCSAgb2Zmc2V0KTsKPj4gKyNlbmRpZgo+PiArfQo+PiAr
Cj4+ICtzdGF0aWMgaW5saW5lIHUzMgo+PiAraW50ZWxfZGVfcmVhZChzdHJ1Y3QgZHJtX2k5MTVf
cHJpdmF0ZSAqaTkxNSwgaTkxNV9yZWdfdCByZWcpCj4+ICt7Cj4+ICsJaW50ZWxfYXNzZXJ0X3Jl
Z2lzdGVyX2lzX2Rpc3BsYXkoaTkxNSwgcmVnKTsKPj4gKwlyZXR1cm4gaW50ZWxfdW5jb3JlX3Jl
YWQoJmk5MTUtPmRlX3VuY29yZSwgcmVnKTsKPj4gK30KPj4gKwo+PiArc3RhdGljIGlubGluZSB2
b2lkCj4+ICtpbnRlbF9kZV9wb3N0aW5nX3JlYWQoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5
MTUsIGk5MTVfcmVnX3QgcmVnKQo+PiArewo+PiArCWludGVsX2Fzc2VydF9yZWdpc3Rlcl9pc19k
aXNwbGF5KGk5MTUsIHJlZyk7Cj4+ICsJaW50ZWxfdW5jb3JlX3Bvc3RpbmdfcmVhZCgmaTkxNS0+
ZGVfdW5jb3JlLCByZWcpOwo+PiArfQo+PiArCj4+ICtzdGF0aWMgaW5saW5lIHZvaWQKPj4gK2lu
dGVsX2RlX3dyaXRlKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICppOTE1LCBpOTE1X3JlZ190IHJl
ZywgdTMyIHZhbCkKPj4gK3sKPj4gKwlpbnRlbF9hc3NlcnRfcmVnaXN0ZXJfaXNfZGlzcGxheShp
OTE1LCByZWcpOwo+PiArCWludGVsX3VuY29yZV93cml0ZSgmaTkxNS0+ZGVfdW5jb3JlLCByZWcs
IHZhbCk7Cj4+ICt9Cj4+ICsKPj4gK3N0YXRpYyBpbmxpbmUgdm9pZAo+PiAraW50ZWxfZGVfcm13
KHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICppOTE1LCBpOTE1X3JlZ190IHJlZywgdTMyIGNsZWFy
LCB1MzIgc2V0KQo+PiArewo+PiArCWludGVsX2Fzc2VydF9yZWdpc3Rlcl9pc19kaXNwbGF5KGk5
MTUsIHJlZyk7Cj4+ICsJaW50ZWxfdW5jb3JlX3JtdygmaTkxNS0+ZGVfdW5jb3JlLCByZWcsIGNs
ZWFyLCBzZXQpOwo+PiArfQo+PiArCj4+ICAgLyogIkJyb2FkY2FzdCBSR0IiIHByb3BlcnR5ICov
Cj4+ICAgI2RlZmluZSBJTlRFTF9CUk9BRENBU1RfUkdCX0FVVE8gMAo+PiAgICNkZWZpbmUgSU5U
RUxfQlJPQURDQVNUX1JHQl9GVUxMIDEKPj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9p
OTE1L2ludGVsX3VuY29yZS5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfdW5jb3JlLmMK
Pj4gaW5kZXggMTkwNWZkOTRkZDNjLi45NGUxNTNhY2IwYWYgMTAwNjQ0Cj4+IC0tLSBhL2RyaXZl
cnMvZ3B1L2RybS9pOTE1L2ludGVsX3VuY29yZS5jCj4+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9p
OTE1L2ludGVsX3VuY29yZS5jCj4+IEBAIC0xNjc0LDYgKzE2NzQsMTIgQEAgc3RhdGljIGludCB1
bmNvcmVfZm9yY2V3YWtlX2luaXQoc3RydWN0IGludGVsX3VuY29yZSAqdW5jb3JlKQo+PiAgIAly
ZXR1cm4gMDsKPj4gICB9Cj4+ICAgCj4+ICtzdGF0aWMgYm9vbAo+PiAraW50ZWxfdW5jb3JlX2lz
X2Rpc3BsYXkoY29uc3Qgc3RydWN0IGludGVsX3VuY29yZSAqdW5jb3JlKQo+PiArewo+PiArCXJl
dHVybiB1bmNvcmUgPT0gJnVuY29yZS0+aTkxNS0+ZGVfdW5jb3JlOwo+PiArfQo+PiArCj4+ICAg
aW50IGludGVsX3VuY29yZV9pbml0X21taW8oc3RydWN0IGludGVsX3VuY29yZSAqdW5jb3JlKQo+
PiAgIHsKPj4gICAJc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUgPSB1bmNvcmUtPmk5MTU7
Cj4+IEBAIC0xNjgzLDcgKzE2ODksOCBAQCBpbnQgaW50ZWxfdW5jb3JlX2luaXRfbW1pbyhzdHJ1
Y3QgaW50ZWxfdW5jb3JlICp1bmNvcmUpCj4+ICAgCWlmIChyZXQpCj4+ICAgCQlyZXR1cm4gcmV0
Owo+PiAgIAo+PiAtCWlmIChJTlRFTF9HRU4oaTkxNSkgPiA1ICYmICFpbnRlbF92Z3B1X2FjdGl2
ZShpOTE1KSkKPj4gKwlpZiAoSU5URUxfR0VOKGk5MTUpID4gNSAmJiAhaW50ZWxfdmdwdV9hY3Rp
dmUoaTkxNSkgJiYKPj4gKwkgICAgIWludGVsX3VuY29yZV9pc19kaXNwbGF5KHVuY29yZSkpCj4+
ICAgCQl1bmNvcmUtPmZsYWdzIHw9IFVOQ09SRV9IQVNfRk9SQ0VXQUtFOwo+PiAgIAo+PiAgIAlp
ZiAoIWludGVsX3VuY29yZV9oYXNfZm9yY2V3YWtlKHVuY29yZSkpIHsKPj4gLS0gCj4+IDIuMjAu
MQo+IApfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpJbnRl
bC1nZnggbWFpbGluZyBsaXN0CkludGVsLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6
Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9pbnRlbC1nZng=

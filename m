Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 9AB979CA15
	for <lists+intel-gfx@lfdr.de>; Mon, 26 Aug 2019 09:22:41 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id B93A06E1D3;
	Mon, 26 Aug 2019 07:22:38 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from fireflyinternet.com (mail.fireflyinternet.com [109.228.58.192])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 28C786E1C0
 for <intel-gfx@lists.freedesktop.org>; Mon, 26 Aug 2019 07:22:15 +0000 (UTC)
X-Default-Received-SPF: pass (skip=forwardok (res=PASS))
 x-ip-name=78.156.65.138; 
Received: from haswell.alporthouse.com (unverified [78.156.65.138]) 
 by fireflyinternet.com (Firefly Internet (M1)) with ESMTP id 18262703-1500050 
 for multiple; Mon, 26 Aug 2019 08:21:56 +0100
From: Chris Wilson <chris@chris-wilson.co.uk>
To: intel-gfx@lists.freedesktop.org
Date: Mon, 26 Aug 2019 08:21:49 +0100
Message-Id: <20190826072149.9447-28-chris@chris-wilson.co.uk>
X-Mailer: git-send-email 2.23.0
In-Reply-To: <20190826072149.9447-1-chris@chris-wilson.co.uk>
References: <20190826072149.9447-1-chris@chris-wilson.co.uk>
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH 28/28] drm/i915: Replace hangcheck by heartbeats
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

UmVwbGFjZSBzYW1wbGluZyB0aGUgZW5naW5lIHN0YXRlIGV2ZXJ5IHNvIG9mdGVuIHdpdGggYSBw
ZXJpb2RpYwpoZWFydGJlYXQgcmVxdWVzdCB0byBtZWFzdXJlIHRoZSBoZWFsdGggb2YgYW4gZW5n
aW5lLiBUaGlzIGlzIGNvdXBsZWQKd2l0aCB0aGUgZm9yY2VkLXByZWVtcHRpb24gdG8gYWxsb3cg
bG9uZyBydW5uaW5nIHJlcXVlc3RzIHRvIHN1cnZpdmUgc28KbG9uZyBhcyB0aGV5IGRvIG5vdCBi
bG9jayBvdGhlciB1c2Vycy4KClNpZ25lZC1vZmYtYnk6IENocmlzIFdpbHNvbiA8Y2hyaXNAY2hy
aXMtd2lsc29uLmNvLnVrPgpDYzogSm9vbmFzIExhaHRpbmVuIDxqb29uYXMubGFodGluZW5AbGlu
dXguaW50ZWwuY29tPgpDYzogVHZydGtvIFVyc3VsaW4gPHR2cnRrby51cnN1bGluQGludGVsLmNv
bT4KQ2M6IEpvbiBCbG9vbWZpZWxkIDxqb24uYmxvb21maWVsZEBpbnRlbC5jb20+Ci0tLQogZHJp
dmVycy9ncHUvZHJtL2k5MTUvS2NvbmZpZy5wcm9maWxlICAgICAgICAgIHwgIDExICsKIGRyaXZl
cnMvZ3B1L2RybS9pOTE1L01ha2VmaWxlICAgICAgICAgICAgICAgICB8ICAgMSAtCiBkcml2ZXJz
L2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXkuYyAgfCAgIDIgKy0KIGRyaXZlcnMv
Z3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9vYmplY3QuaCAgICB8ICAgMSAtCiBkcml2ZXJzL2dw
dS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fcG0uYyAgICAgICAgfCAgIDIgLQogZHJpdmVycy9ncHUv
ZHJtL2k5MTUvZ3QvaW50ZWxfZW5naW5lLmggICAgICAgIHwgIDMyIC0tCiBkcml2ZXJzL2dwdS9k
cm0vaTkxNS9ndC9pbnRlbF9lbmdpbmVfY3MuYyAgICAgfCAgMTAgKy0KIC4uLi9ncHUvZHJtL2k5
MTUvZ3QvaW50ZWxfZW5naW5lX2hlYXJ0YmVhdC5jICB8IDExMyArKysrKy0KIC4uLi9ncHUvZHJt
L2k5MTUvZ3QvaW50ZWxfZW5naW5lX2hlYXJ0YmVhdC5oICB8ICAgNSArCiBkcml2ZXJzL2dwdS9k
cm0vaTkxNS9ndC9pbnRlbF9lbmdpbmVfcG0uYyAgICAgfCAgIDUgKy0KIGRyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2d0L2ludGVsX2VuZ2luZV90eXBlcy5oICB8ICAxNCArLQogZHJpdmVycy9ncHUvZHJt
L2k5MTUvZ3QvaW50ZWxfZ3QuYyAgICAgICAgICAgIHwgICAxIC0KIGRyaXZlcnMvZ3B1L2RybS9p
OTE1L2d0L2ludGVsX2d0LmggICAgICAgICAgICB8ICAgNCAtCiBkcml2ZXJzL2dwdS9kcm0vaTkx
NS9ndC9pbnRlbF9ndF9wbS5jICAgICAgICAgfCAgIDIgLQogZHJpdmVycy9ncHUvZHJtL2k5MTUv
Z3QvaW50ZWxfZ3RfdHlwZXMuaCAgICAgIHwgICA5IC0KIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2d0
L2ludGVsX2hhbmdjaGVjay5jICAgICB8IDM2MSAtLS0tLS0tLS0tLS0tLS0tLS0KIGRyaXZlcnMv
Z3B1L2RybS9pOTE1L2d0L2ludGVsX3Jlc2V0LmMgICAgICAgICB8ICAgMyArLQogZHJpdmVycy9n
cHUvZHJtL2k5MTUvZ3Qvc2VsZnRlc3RfaGFuZ2NoZWNrLmMgIHwgICA0IC0KIGRyaXZlcnMvZ3B1
L2RybS9pOTE1L2k5MTVfZGVidWdmcy5jICAgICAgICAgICB8ICA4NyAtLS0tLQogZHJpdmVycy9n
cHUvZHJtL2k5MTUvaTkxNV9kcnYuYyAgICAgICAgICAgICAgIHwgICAzIC0KIGRyaXZlcnMvZ3B1
L2RybS9pOTE1L2k5MTVfZHJ2LmggICAgICAgICAgICAgICB8ICAgMSAtCiBkcml2ZXJzL2dwdS9k
cm0vaTkxNS9pOTE1X2dldHBhcmFtLmMgICAgICAgICAgfCAgIDMgKy0KIGRyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2k5MTVfZ3B1X2Vycm9yLmMgICAgICAgICB8ICAzMyArLQogZHJpdmVycy9ncHUvZHJt
L2k5MTUvaTkxNV9ncHVfZXJyb3IuaCAgICAgICAgIHwgICAyIC0KIGRyaXZlcnMvZ3B1L2RybS9p
OTE1L2k5MTVfcGFyYW1zLmMgICAgICAgICAgICB8ICAgNiArLQogZHJpdmVycy9ncHUvZHJtL2k5
MTUvaTkxNV9wcmlvbGlzdF90eXBlcy5oICAgIHwgICA2ICsKIDI2IGZpbGVzIGNoYW5nZWQsIDE1
OSBpbnNlcnRpb25zKCspLCA1NjIgZGVsZXRpb25zKC0pCiBkZWxldGUgbW9kZSAxMDA2NDQgZHJp
dmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfaGFuZ2NoZWNrLmMKCmRpZmYgLS1naXQgYS9kcml2
ZXJzL2dwdS9kcm0vaTkxNS9LY29uZmlnLnByb2ZpbGUgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9L
Y29uZmlnLnByb2ZpbGUKaW5kZXggMzE4NGU4NDkxMzMzLi5hYWZiNTdmODQxNjkgMTAwNjQ0Ci0t
LSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L0tjb25maWcucHJvZmlsZQorKysgYi9kcml2ZXJzL2dw
dS9kcm0vaTkxNS9LY29uZmlnLnByb2ZpbGUKQEAgLTM3LDMgKzM3LDE0IEBAIGNvbmZpZyBEUk1f
STkxNV9QUkVFTVBUX1RJTUVPVVQKIAkgIHRvIGV4ZWN1dGUuCiAKIAkgIE1heSBiZSAwIHRvIGRp
c2FibGUgdGhlIHRpbWVvdXQuCisKK2NvbmZpZyBEUk1fSTkxNV9IRUFSVEJFQVRfSU5URVJWQUwK
KwlpbnQgIkludGVydmFsIGJldHdlZW4gaGVhcnRiZWF0IHB1bHNlcyAobXMpIgorCWRlZmF1bHQg
MjUwMCAjIG1pY3Jvc2Vjb25kcworCWhlbHAKKwkgIFdoaWxlIGFjdGl2ZSB0aGUgZHJpdmVyIHVz
ZXMgYSBwZXJpb2RpYyByZXF1ZXN0LCBhIGhlYXJ0YmVhdCwgdG8KKwkgIGNoZWNrIHRoZSB3ZWxs
bmVzcyBvZiB0aGUgR1BVIGFuZCB0byByZWd1bGFybHkgZmx1c2ggc3RhdGUgY2hhbmdlcworCSAg
KGlkbGUgYmFycmllcnMpLgorCisJICBNYXkgYmUgMCB0byBkaXNhYmxlIGhlYXJ0YmVhdHMgYW5k
IHRoZXJlZm9yZSBkaXNhYmxlIGF1dG9tYXRpYyBHUFUKKwkgIGhhbmcgZGV0ZWN0aW9uLgpkaWZm
IC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvTWFrZWZpbGUgYi9kcml2ZXJzL2dwdS9kcm0v
aTkxNS9NYWtlZmlsZQppbmRleCBlYWE3NGUwMDA5ODUuLmQ3Mjg2NzIwZGU4MyAxMDA2NDQKLS0t
IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvTWFrZWZpbGUKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5
MTUvTWFrZWZpbGUKQEAgLTg0LDcgKzg0LDYgQEAgZ3QteSArPSBcCiAJZ3QvaW50ZWxfZ3RfaXJx
Lm8gXAogCWd0L2ludGVsX2d0X3BtLm8gXAogCWd0L2ludGVsX2d0X3BtX2lycS5vIFwKLQlndC9p
bnRlbF9oYW5nY2hlY2subyBcCiAJZ3QvaW50ZWxfbHJjLm8gXAogCWd0L2ludGVsX3JlbmRlcnN0
YXRlLm8gXAogCWd0L2ludGVsX3Jlc2V0Lm8gXApkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJt
L2k5MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5LmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNw
bGF5L2ludGVsX2Rpc3BsYXkuYwppbmRleCA2ZTc0YzMzZjJlYzQuLmUwMDgwMTZkODY0YyAxMDA2
NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5LmMKKysr
IGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5LmMKQEAgLTE0MzA2
LDcgKzE0MzA2LDcgQEAgc3RhdGljIHZvaWQgaW50ZWxfcGxhbmVfdW5waW5fZmIoc3RydWN0IGlu
dGVsX3BsYW5lX3N0YXRlICpvbGRfcGxhbmVfc3RhdGUpCiBzdGF0aWMgdm9pZCBmYl9vYmpfYnVt
cF9yZW5kZXJfcHJpb3JpdHkoc3RydWN0IGRybV9pOTE1X2dlbV9vYmplY3QgKm9iaikKIHsKIAlz
dHJ1Y3QgaTkxNV9zY2hlZF9hdHRyIGF0dHIgPSB7Ci0JCS5wcmlvcml0eSA9IEk5MTVfUFJJT1JJ
VFlfRElTUExBWSwKKwkJLnByaW9yaXR5ID0gSTkxNV9VU0VSX1BSSU9SSVRZKEk5MTVfUFJJT1JJ
VFlfRElTUExBWSksCiAJfTsKIAogCWk5MTVfZ2VtX29iamVjdF93YWl0X3ByaW9yaXR5KG9iaiwg
MCwgJmF0dHIpOwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2Vt
X29iamVjdC5oIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX29iamVjdC5oCmlu
ZGV4IGE3OGFmMjVkY2UzNi4uOTY3YzMwNzM3ZGM1IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9k
cm0vaTkxNS9nZW0vaTkxNV9nZW1fb2JqZWN0LmgKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUv
Z2VtL2k5MTVfZ2VtX29iamVjdC5oCkBAIC00MjksNiArNDI5LDUgQEAgaW50IGk5MTVfZ2VtX29i
amVjdF93YWl0KHN0cnVjdCBkcm1faTkxNV9nZW1fb2JqZWN0ICpvYmosCiBpbnQgaTkxNV9nZW1f
b2JqZWN0X3dhaXRfcHJpb3JpdHkoc3RydWN0IGRybV9pOTE1X2dlbV9vYmplY3QgKm9iaiwKIAkJ
CQkgIHVuc2lnbmVkIGludCBmbGFncywKIAkJCQkgIGNvbnN0IHN0cnVjdCBpOTE1X3NjaGVkX2F0
dHIgKmF0dHIpOwotI2RlZmluZSBJOTE1X1BSSU9SSVRZX0RJU1BMQVkgSTkxNV9VU0VSX1BSSU9S
SVRZKEk5MTVfUFJJT1JJVFlfTUFYKQogCiAjZW5kaWYKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1
L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9wbS5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5
MTVfZ2VtX3BtLmMKaW5kZXggYjQxZjVlNGMwYzY1Li4yOGE4ZjNhYWM0MDIgMTAwNjQ0Ci0tLSBh
L2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9wbS5jCisrKyBiL2RyaXZlcnMvZ3B1
L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9wbS5jCkBAIC0xMjcsOCArMTI3LDYgQEAgdm9pZCBpOTE1
X2dlbV9zdXNwZW5kKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICppOTE1KQogCSAqLwogCXN3aXRj
aF90b19rZXJuZWxfY29udGV4dF9zeW5jKCZpOTE1LT5ndCk7CiAKLQljYW5jZWxfZGVsYXllZF93
b3JrX3N5bmMoJmk5MTUtPmd0LmhhbmdjaGVjay53b3JrKTsKLQogCWk5MTVfZ2VtX2RyYWluX2Zy
ZWVkX29iamVjdHMoaTkxNSk7CiAKIAlpbnRlbF91Y19zdXNwZW5kKCZpOTE1LT5ndC51Yyk7CmRp
ZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9lbmdpbmUuaCBiL2RyaXZl
cnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2VuZ2luZS5oCmluZGV4IGQzYzY5OTNmNGY0Ni4uZGEw
OWVlYTBmYjg2IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9lbmdp
bmUuaAorKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9lbmdpbmUuaApAQCAtODks
MzggKzg5LDYgQEAgc3RydWN0IGRybV9wcmludGVyOwogLyogc2Vxbm8gc2l6ZSBpcyBhY3R1YWxs
eSBvbmx5IGEgdWludDMyLCBidXQgc2luY2Ugd2UgcGxhbiB0byB1c2UgTUlfRkxVU0hfRFcgdG8K
ICAqIGRvIHRoZSB3cml0ZXMsIGFuZCB0aGF0IG11c3QgaGF2ZSBxdyBhbGlnbmVkIG9mZnNldHMs
IHNpbXBseSBwcmV0ZW5kIGl0J3MgOGIuCiAgKi8KLWVudW0gaW50ZWxfZW5naW5lX2hhbmdjaGVj
a19hY3Rpb24gewotCUVOR0lORV9JRExFID0gMCwKLQlFTkdJTkVfV0FJVCwKLQlFTkdJTkVfQUNU
SVZFX1NFUU5PLAotCUVOR0lORV9BQ1RJVkVfSEVBRCwKLQlFTkdJTkVfQUNUSVZFX1NVQlVOSVRT
LAotCUVOR0lORV9XQUlUX0tJQ0ssCi0JRU5HSU5FX0RFQUQsCi19OwotCi1zdGF0aWMgaW5saW5l
IGNvbnN0IGNoYXIgKgotaGFuZ2NoZWNrX2FjdGlvbl90b19zdHIoY29uc3QgZW51bSBpbnRlbF9l
bmdpbmVfaGFuZ2NoZWNrX2FjdGlvbiBhKQotewotCXN3aXRjaCAoYSkgewotCWNhc2UgRU5HSU5F
X0lETEU6Ci0JCXJldHVybiAiaWRsZSI7Ci0JY2FzZSBFTkdJTkVfV0FJVDoKLQkJcmV0dXJuICJ3
YWl0IjsKLQljYXNlIEVOR0lORV9BQ1RJVkVfU0VRTk86Ci0JCXJldHVybiAiYWN0aXZlIHNlcW5v
IjsKLQljYXNlIEVOR0lORV9BQ1RJVkVfSEVBRDoKLQkJcmV0dXJuICJhY3RpdmUgaGVhZCI7Ci0J
Y2FzZSBFTkdJTkVfQUNUSVZFX1NVQlVOSVRTOgotCQlyZXR1cm4gImFjdGl2ZSBzdWJ1bml0cyI7
Ci0JY2FzZSBFTkdJTkVfV0FJVF9LSUNLOgotCQlyZXR1cm4gIndhaXQga2ljayI7Ci0JY2FzZSBF
TkdJTkVfREVBRDoKLQkJcmV0dXJuICJkZWFkIjsKLQl9Ci0KLQlyZXR1cm4gInVua25vd24iOwot
fQogCiBzdGF0aWMgaW5saW5lIHVuc2lnbmVkIGludAogZXhlY2xpc3RzX251bV9wb3J0cyhjb25z
dCBzdHJ1Y3QgaW50ZWxfZW5naW5lX2V4ZWNsaXN0cyAqIGNvbnN0IGV4ZWNsaXN0cykKZGlmZiAt
LWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2VuZ2luZV9jcy5jIGIvZHJpdmVy
cy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZW5naW5lX2NzLmMKaW5kZXggMTcwMDZkNTBiNjNmLi4x
NjQzOWM1NDJhNTIgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2Vu
Z2luZV9jcy5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2VuZ2luZV9jcy5j
CkBAIC01OTcsNyArNTk3LDYgQEAgc3RhdGljIGludCBpbnRlbF9lbmdpbmVfc2V0dXBfY29tbW9u
KHN0cnVjdCBpbnRlbF9lbmdpbmVfY3MgKmVuZ2luZSkKIAlpbnRlbF9lbmdpbmVfaW5pdF9hY3Rp
dmUoZW5naW5lLCBFTkdJTkVfUEhZU0lDQUwpOwogCWludGVsX2VuZ2luZV9pbml0X2JyZWFkY3J1
bWJzKGVuZ2luZSk7CiAJaW50ZWxfZW5naW5lX2luaXRfZXhlY2xpc3RzKGVuZ2luZSk7Ci0JaW50
ZWxfZW5naW5lX2luaXRfaGFuZ2NoZWNrKGVuZ2luZSk7CiAJaW50ZWxfZW5naW5lX2luaXRfY21k
X3BhcnNlcihlbmdpbmUpOwogCWludGVsX2VuZ2luZV9pbml0X19wbShlbmdpbmUpOwogCkBAIC0x
Mzc1LDggKzEzNzQsMTMgQEAgdm9pZCBpbnRlbF9lbmdpbmVfZHVtcChzdHJ1Y3QgaW50ZWxfZW5n
aW5lX2NzICplbmdpbmUsCiAJCWRybV9wcmludGYobSwgIioqKiBXRURHRUQgKioqXG4iKTsKIAog
CWRybV9wcmludGYobSwgIlx0QXdha2U/ICVkXG4iLCBhdG9taWNfcmVhZCgmZW5naW5lLT53YWtl
cmVmLmNvdW50KSk7Ci0JZHJtX3ByaW50ZihtLCAiXHRIYW5nY2hlY2s6ICVkIG1zIGFnb1xuIiwK
LQkJICAgamlmZmllc190b19tc2VjcyhqaWZmaWVzIC0gZW5naW5lLT5oYW5nY2hlY2suYWN0aW9u
X3RpbWVzdGFtcCkpOworCisJcmN1X3JlYWRfbG9jaygpOworCXJxID0gUkVBRF9PTkNFKGVuZ2lu
ZS0+bGFzdF9oZWFydGJlYXQpOworCWlmIChycSkKKwkJZHJtX3ByaW50ZihtLCAiXHRIZWFydGJl
YXQ6ICVkIG1zIGFnb1xuIiwKKwkJCSAgIGppZmZpZXNfdG9fbXNlY3MoamlmZmllcyAtIHJxLT5l
bWl0dGVkX2ppZmZpZXMpKTsKKwlyY3VfcmVhZF91bmxvY2soKTsKIAlkcm1fcHJpbnRmKG0sICJc
dFJlc2V0IGNvdW50OiAlZCAoZ2xvYmFsICVkKVxuIiwKIAkJICAgaTkxNV9yZXNldF9lbmdpbmVf
Y291bnQoZXJyb3IsIGVuZ2luZSksCiAJCSAgIGk5MTVfcmVzZXRfY291bnQoZXJyb3IpKTsKZGlm
ZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2VuZ2luZV9oZWFydGJlYXQu
YyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2VuZ2luZV9oZWFydGJlYXQuYwppbmRl
eCA0M2QxMzcwZWFhN2YuLmQwZmM5NGM3MWVlNyAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJt
L2k5MTUvZ3QvaW50ZWxfZW5naW5lX2hlYXJ0YmVhdC5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9p
OTE1L2d0L2ludGVsX2VuZ2luZV9oZWFydGJlYXQuYwpAQCAtMTEsNiArMTEsMjEgQEAKICNpbmNs
dWRlICJpbnRlbF9lbmdpbmVfcG0uaCIKICNpbmNsdWRlICJpbnRlbF9lbmdpbmUuaCIKICNpbmNs
dWRlICJpbnRlbF9ndC5oIgorI2luY2x1ZGUgImludGVsX3Jlc2V0LmgiCisKKy8qCisgKiBXaGls
ZSB0aGUgZW5naW5lIGlzIGFjdGl2ZSwgd2Ugc2VuZCBhIHBlcmlvZGljIHB1bHNlIGFsb25nIHRo
ZSBlbnRpcmUKKyAqIHRvIGNoZWNrIG9uIGl0cyBoZWFsdGggYW5kIHRvIGZsdXNoIGFueSBpZGxl
LWJhcnJpZXJzLiBJZiB0aGF0IHJlcXVlc3QKKyAqIGlzIHN0dWNrLCBhbmQgd2UgZmFpbCB0byBw
cmVlbXB0IGl0LCB3ZSBkZWNsYXJlIHRoZSBlbmdpbmUgaHVuZyBhbmQKKyAqIGlzc3VlIGEgcmVz
ZXQgLS0gaW4gdGhlIGhvcGUgdGhhdCByZXN0b3JlcyBwcm9ncmVzcy4KKyAqLworCitzdGF0aWMg
bG9uZyBkZWxheSh2b2lkKQoreworCWNvbnN0IGxvbmcgdCA9IG1zZWNzX3RvX2ppZmZpZXMoQ09O
RklHX0RSTV9JOTE1X0hFQVJUQkVBVF9JTlRFUlZBTCk7CisKKwlyZXR1cm4gcm91bmRfamlmZmll
c191cF9yZWxhdGl2ZSh0KTsKK30KIAogc3RhdGljIHZvaWQgaWRsZV9wdWxzZShzdHJ1Y3QgaW50
ZWxfZW5naW5lX2NzICplbmdpbmUsIHN0cnVjdCBpOTE1X3JlcXVlc3QgKnJxKQogewpAQCAtMTgs
NiArMzMsMTAwIEBAIHN0YXRpYyB2b2lkIGlkbGVfcHVsc2Uoc3RydWN0IGludGVsX2VuZ2luZV9j
cyAqZW5naW5lLCBzdHJ1Y3QgaTkxNV9yZXF1ZXN0ICpycSkKIAlpOTE1X3JlcXVlc3RfYWRkX2Fj
dGl2ZV9iYXJyaWVycyhycSk7CiB9CiAKK3N0YXRpYyB2b2lkIGhlYXJ0YmVhdChzdHJ1Y3Qgd29y
a19zdHJ1Y3QgKndyaykKK3sKKwlzdHJ1Y3QgaTkxNV9zY2hlZF9hdHRyIGF0dHIgPSB7CisJCS5w
cmlvcml0eSA9IEk5MTVfVVNFUl9QUklPUklUWShJOTE1X1BSSU9SSVRZX01JTiksCisJfTsKKwlz
dHJ1Y3QgaW50ZWxfZW5naW5lX2NzICplbmdpbmUgPQorCQljb250YWluZXJfb2Yod3JrLCB0eXBl
b2YoKmVuZ2luZSksIGhlYXJ0YmVhdC53b3JrKTsKKwlzdHJ1Y3QgaW50ZWxfY29udGV4dCAqY2Ug
PSBlbmdpbmUtPmtlcm5lbF9jb250ZXh0OworCXN0cnVjdCBpOTE1X3JlcXVlc3QgKnJxOworCisJ
aWYgKCFpbnRlbF9lbmdpbmVfcG1fZ2V0X2lmX2F3YWtlKGVuZ2luZSkpCisJCXJldHVybjsKKwor
CXJxID0gZW5naW5lLT5sYXN0X2hlYXJ0YmVhdDsKKwlpZiAocnEgJiYgaTkxNV9yZXF1ZXN0X2Nv
bXBsZXRlZChycSkpIHsKKwkJaTkxNV9yZXF1ZXN0X3B1dChycSk7CisJCWVuZ2luZS0+bGFzdF9o
ZWFydGJlYXQgPSBOVUxMOworCX0KKworCWlmIChpbnRlbF9ndF9pc193ZWRnZWQoZW5naW5lLT5n
dCkpCisJCWdvdG8gb3V0OworCisJaWYgKGVuZ2luZS0+bGFzdF9oZWFydGJlYXQpIHsKKwkJaWYg
KElTX0VOQUJMRUQoQ09ORklHX0RSTV9JOTE1X0RFQlVHX0dFTSkpIHsKKwkJCXN0cnVjdCBkcm1f
cHJpbnRlciBwID0gZHJtX2RlYnVnX3ByaW50ZXIoX19mdW5jX18pOworCisJCQlpbnRlbF9lbmdp
bmVfZHVtcChlbmdpbmUsICZwLAorCQkJCQkgICIlcyBoZWFydGJlYXQgbm90IHRpY2tpbmdcbiIs
CisJCQkJCSAgZW5naW5lLT5uYW1lKTsKKwkJfQorCisJCWlmIChlbmdpbmUtPnNjaGVkdWxlICYm
CisJCSAgICBycS0+c2NoZWQuYXR0ci5wcmlvcml0eSA8IEk5MTVfUFJJT1JJVFlfQkFSUklFUikg
eworCQkJYXR0ci5wcmlvcml0eSA9CisJCQkJSTkxNV9VU0VSX1BSSU9SSVRZKEk5MTVfUFJJT1JJ
VFlfSEVBUlRCRUFUKTsKKwkJCWlmIChycS0+c2NoZWQuYXR0ci5wcmlvcml0eSA+PSBhdHRyLnBy
aW9yaXR5KQorCQkJCWF0dHIucHJpb3JpdHkgPSBJOTE1X1BSSU9SSVRZX0JBUlJJRVI7CisKKwkJ
CWxvY2FsX2JoX2Rpc2FibGUoKTsKKwkJCWVuZ2luZS0+c2NoZWR1bGUocnEsICZhdHRyKTsKKwkJ
CWxvY2FsX2JoX2VuYWJsZSgpOworCQl9IGVsc2UgeworCQkJaW50ZWxfZ3RfaGFuZGxlX2Vycm9y
KGVuZ2luZS0+Z3QsIGVuZ2luZS0+bWFzaywKKwkJCQkJICAgICAgSTkxNV9FUlJPUl9DQVBUVVJF
LAorCQkJCQkgICAgICAic3RvcHBlZCBoZWFydGJlYXQgb24gJXMiLAorCQkJCQkgICAgICBlbmdp
bmUtPm5hbWUpOworCQl9CisJCWdvdG8gb3V0OworCX0KKworCWlmIChlbmdpbmUtPndha2VyZWZf
c2VyaWFsID09IGVuZ2luZS0+c2VyaWFsKQorCQlnb3RvIG91dDsKKworCW11dGV4X2xvY2soJmNl
LT50aW1lbGluZS0+bXV0ZXgpOworCisJaW50ZWxfY29udGV4dF9lbnRlcihjZSk7CisJcnEgPSBf
X2k5MTVfcmVxdWVzdF9jcmVhdGUoY2UsIEdGUF9OT1dBSVQgfCBfX0dGUF9OT1dBUk4pOworCWlu
dGVsX2NvbnRleHRfZXhpdChjZSk7CisJaWYgKElTX0VSUihycSkpCisJCWdvdG8gdW5sb2NrOwor
CisJaWRsZV9wdWxzZShlbmdpbmUsIHJxKTsKKwlpZiAoaTkxNV9tb2RwYXJhbXMuZW5hYmxlX2hh
bmdjaGVjaykKKwkJZW5naW5lLT5sYXN0X2hlYXJ0YmVhdCA9IGk5MTVfcmVxdWVzdF9nZXQocnEp
OworCisJX19pOTE1X3JlcXVlc3RfY29tbWl0KHJxKTsKKwlfX2k5MTVfcmVxdWVzdF9xdWV1ZShy
cSwgJmF0dHIpOworCit1bmxvY2s6CisJbXV0ZXhfdW5sb2NrKCZjZS0+dGltZWxpbmUtPm11dGV4
KTsKK291dDoKKwlzY2hlZHVsZV9kZWxheWVkX3dvcmsoJmVuZ2luZS0+aGVhcnRiZWF0LCBkZWxh
eSgpKTsKKwlpbnRlbF9lbmdpbmVfcG1fcHV0KGVuZ2luZSk7Cit9CisKK3ZvaWQgaW50ZWxfZW5n
aW5lX3VucGFya19oZWFydGJlYXQoc3RydWN0IGludGVsX2VuZ2luZV9jcyAqZW5naW5lKQorewor
CWlmICghQ09ORklHX0RSTV9JOTE1X0hFQVJUQkVBVF9JTlRFUlZBTCkKKwkJcmV0dXJuOworCisJ
c2NoZWR1bGVfZGVsYXllZF93b3JrKCZlbmdpbmUtPmhlYXJ0YmVhdCwgZGVsYXkoKSk7Cit9CisK
K3ZvaWQgaW50ZWxfZW5naW5lX3BhcmtfaGVhcnRiZWF0KHN0cnVjdCBpbnRlbF9lbmdpbmVfY3Mg
KmVuZ2luZSkKK3sKKwljYW5jZWxfZGVsYXllZF93b3JrKCZlbmdpbmUtPmhlYXJ0YmVhdCk7CisJ
aTkxNV9yZXF1ZXN0X3B1dChmZXRjaF9hbmRfemVybygmZW5naW5lLT5sYXN0X2hlYXJ0YmVhdCkp
OworfQorCit2b2lkIGludGVsX2VuZ2luZV9pbml0X2hlYXJ0YmVhdChzdHJ1Y3QgaW50ZWxfZW5n
aW5lX2NzICplbmdpbmUpCit7CisJSU5JVF9ERUxBWUVEX1dPUksoJmVuZ2luZS0+aGVhcnRiZWF0
LCBoZWFydGJlYXQpOworfQorCiBpbnQgaW50ZWxfZW5naW5lX3B1bHNlKHN0cnVjdCBpbnRlbF9l
bmdpbmVfY3MgKmVuZ2luZSkKIHsKIAlzdHJ1Y3QgaTkxNV9zY2hlZF9hdHRyIGF0dHIgPSB7IC5w
cmlvcml0eSA9IEk5MTVfUFJJT1JJVFlfQkFSUklFUiB9OwpAQCAtMzEsNyArMTQwLDggQEAgaW50
IGludGVsX2VuZ2luZV9wdWxzZShzdHJ1Y3QgaW50ZWxfZW5naW5lX2NzICplbmdpbmUpCiAJaWYg
KCFpbnRlbF9lbmdpbmVfcG1fZ2V0X2lmX2F3YWtlKGVuZ2luZSkpCiAJCXJldHVybiAwOwogCi0J
bXV0ZXhfbG9jaygmY2UtPnRpbWVsaW5lLT5tdXRleCk7CisJaWYgKCFtdXRleF90cnlsb2NrKCZj
ZS0+dGltZWxpbmUtPm11dGV4KSkKKwkJZ290byBvdXRfcnBtOwogCiAJaW50ZWxfY29udGV4dF9l
bnRlcihjZSk7CiAJcnEgPSBfX2k5MTVfcmVxdWVzdF9jcmVhdGUoY2UsIEdGUF9OT1dBSVQgfCBf
X0dGUF9OT1dBUk4pOwpAQCAtNDksNiArMTU5LDcgQEAgaW50IGludGVsX2VuZ2luZV9wdWxzZShz
dHJ1Y3QgaW50ZWxfZW5naW5lX2NzICplbmdpbmUpCiAKIG91dF91bmxvY2s6CiAJbXV0ZXhfdW5s
b2NrKCZjZS0+dGltZWxpbmUtPm11dGV4KTsKK291dF9ycG06CiAJaW50ZWxfZW5naW5lX3BtX3B1
dChlbmdpbmUpOwogCXJldHVybiBlcnI7CiB9CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0v
aTkxNS9ndC9pbnRlbF9lbmdpbmVfaGVhcnRiZWF0LmggYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9n
dC9pbnRlbF9lbmdpbmVfaGVhcnRiZWF0LmgKaW5kZXggYjk1MDQ1MWI1OTk4Li4zOTM5MTAwNDU1
NGQgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2VuZ2luZV9oZWFy
dGJlYXQuaAorKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9lbmdpbmVfaGVhcnRi
ZWF0LmgKQEAgLTksNiArOSwxMSBAQAogCiBzdHJ1Y3QgaW50ZWxfZW5naW5lX2NzOwogCit2b2lk
IGludGVsX2VuZ2luZV9pbml0X2hlYXJ0YmVhdChzdHJ1Y3QgaW50ZWxfZW5naW5lX2NzICplbmdp
bmUpOworCit2b2lkIGludGVsX2VuZ2luZV9wYXJrX2hlYXJ0YmVhdChzdHJ1Y3QgaW50ZWxfZW5n
aW5lX2NzICplbmdpbmUpOwordm9pZCBpbnRlbF9lbmdpbmVfdW5wYXJrX2hlYXJ0YmVhdChzdHJ1
Y3QgaW50ZWxfZW5naW5lX2NzICplbmdpbmUpOworCiBpbnQgaW50ZWxfZW5naW5lX3B1bHNlKHN0
cnVjdCBpbnRlbF9lbmdpbmVfY3MgKmVuZ2luZSk7CiAKICNlbmRpZiAvKiBJTlRFTF9FTkdJTkVf
SEVBUlRCRUFUX0ggKi8KZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVs
X2VuZ2luZV9wbS5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZW5naW5lX3BtLmMK
aW5kZXggMTJhMjYwOGE4ODg5Li41ZTc0YzNiODZhMjEgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1
L2RybS9pOTE1L2d0L2ludGVsX2VuZ2luZV9wbS5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1
L2d0L2ludGVsX2VuZ2luZV9wbS5jCkBAIC03LDYgKzcsNyBAQAogI2luY2x1ZGUgImk5MTVfZHJ2
LmgiCiAKICNpbmNsdWRlICJpbnRlbF9lbmdpbmUuaCIKKyNpbmNsdWRlICJpbnRlbF9lbmdpbmVf
aGVhcnRiZWF0LmgiCiAjaW5jbHVkZSAiaW50ZWxfZW5naW5lX3BtLmgiCiAjaW5jbHVkZSAiaW50
ZWxfZW5naW5lX3Bvb2wuaCIKICNpbmNsdWRlICJpbnRlbF9ndC5oIgpAQCAtMzMsNyArMzQsNyBA
QCBzdGF0aWMgaW50IF9fZW5naW5lX3VucGFyayhzdHJ1Y3QgaW50ZWxfd2FrZXJlZiAqd2YpCiAJ
aWYgKGVuZ2luZS0+dW5wYXJrKQogCQllbmdpbmUtPnVucGFyayhlbmdpbmUpOwogCi0JaW50ZWxf
ZW5naW5lX2luaXRfaGFuZ2NoZWNrKGVuZ2luZSk7CisJaW50ZWxfZW5naW5lX3VucGFya19oZWFy
dGJlYXQoZW5naW5lKTsKIAlyZXR1cm4gMDsKIH0KIApAQCAtMTU3LDYgKzE1OCw3IEBAIHN0YXRp
YyBpbnQgX19lbmdpbmVfcGFyayhzdHJ1Y3QgaW50ZWxfd2FrZXJlZiAqd2YpCiAKIAljYWxsX2lk
bGVfYmFycmllcnMoZW5naW5lKTsgLyogY2xlYW51cCBhZnRlciB3ZWRnaW5nICovCiAKKwlpbnRl
bF9lbmdpbmVfcGFya19oZWFydGJlYXQoZW5naW5lKTsKIAlpbnRlbF9lbmdpbmVfZGlzYXJtX2Jy
ZWFkY3J1bWJzKGVuZ2luZSk7CiAJaW50ZWxfZW5naW5lX3Bvb2xfcGFyaygmZW5naW5lLT5wb29s
KTsKIApAQCAtMTg3LDYgKzE4OSw3IEBAIHZvaWQgaW50ZWxfZW5naW5lX2luaXRfX3BtKHN0cnVj
dCBpbnRlbF9lbmdpbmVfY3MgKmVuZ2luZSkKIAlzdHJ1Y3QgaW50ZWxfcnVudGltZV9wbSAqcnBt
ID0gJmVuZ2luZS0+aTkxNS0+cnVudGltZV9wbTsKIAogCWludGVsX3dha2VyZWZfaW5pdCgmZW5n
aW5lLT53YWtlcmVmLCBycG0sICZ3Zl9vcHMpOworCWludGVsX2VuZ2luZV9pbml0X2hlYXJ0YmVh
dChlbmdpbmUpOwogfQogCiAjaWYgSVNfRU5BQkxFRChDT05GSUdfRFJNX0k5MTVfU0VMRlRFU1Qp
CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9lbmdpbmVfdHlwZXMu
aCBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2VuZ2luZV90eXBlcy5oCmluZGV4IDE1
ZTAyY2I1OGE2Ny4uNTNjNjQ5ZjRjOGU0IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkx
NS9ndC9pbnRlbF9lbmdpbmVfdHlwZXMuaAorKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9p
bnRlbF9lbmdpbmVfdHlwZXMuaApAQCAtMTUsNiArMTUsNyBAQAogI2luY2x1ZGUgPGxpbnV4L3Ji
dHJlZS5oPgogI2luY2x1ZGUgPGxpbnV4L3RpbWVyLmg+CiAjaW5jbHVkZSA8bGludXgvdHlwZXMu
aD4KKyNpbmNsdWRlIDxsaW51eC93b3JrcXVldWUuaD4KIAogI2luY2x1ZGUgImk5MTVfZ2VtLmgi
CiAjaW5jbHVkZSAiaTkxNV9wbXUuaCIKQEAgLTc2LDE0ICs3Nyw2IEBAIHN0cnVjdCBpbnRlbF9p
bnN0ZG9uZSB7CiAJdTMyIHJvd1tJOTE1X01BWF9TTElDRVNdW0k5MTVfTUFYX1NVQlNMSUNFU107
CiB9OwogCi1zdHJ1Y3QgaW50ZWxfZW5naW5lX2hhbmdjaGVjayB7Ci0JdTY0IGFjdGhkOwotCXUz
MiBsYXN0X3Jpbmc7Ci0JdTMyIGxhc3RfaGVhZDsKLQl1bnNpZ25lZCBsb25nIGFjdGlvbl90aW1l
c3RhbXA7Ci0Jc3RydWN0IGludGVsX2luc3Rkb25lIGluc3Rkb25lOwotfTsKLQogc3RydWN0IGlu
dGVsX3JpbmcgewogCXN0cnVjdCBrcmVmIHJlZjsKIAlzdHJ1Y3QgaTkxNV92bWEgKnZtYTsKQEAg
LTMyMyw2ICszMTYsOSBAQCBzdHJ1Y3QgaW50ZWxfZW5naW5lX2NzIHsKIAogCWludGVsX2VuZ2lu
ZV9tYXNrX3Qgc2F0dXJhdGVkOyAvKiBzdWJtaXR0aW5nIHNlbWFwaG9yZXMgdG9vIGxhdGU/ICov
CiAKKwlzdHJ1Y3QgZGVsYXllZF93b3JrIGhlYXJ0YmVhdDsKKwlzdHJ1Y3QgaTkxNV9yZXF1ZXN0
ICpsYXN0X2hlYXJ0YmVhdDsKKwogCXVuc2lnbmVkIGxvbmcgc2VyaWFsOwogCiAJdW5zaWduZWQg
bG9uZyB3YWtlcmVmX3NlcmlhbDsKQEAgLTQ3Myw4ICs0NjksNiBAQCBzdHJ1Y3QgaW50ZWxfZW5n
aW5lX2NzIHsKIAkvKiBzdGF0dXNfbm90aWZpZXI6IGxpc3Qgb2YgY2FsbGJhY2tzIGZvciBjb250
ZXh0LXN3aXRjaCBjaGFuZ2VzICovCiAJc3RydWN0IGF0b21pY19ub3RpZmllcl9oZWFkIGNvbnRl
eHRfc3RhdHVzX25vdGlmaWVyOwogCi0Jc3RydWN0IGludGVsX2VuZ2luZV9oYW5nY2hlY2sgaGFu
Z2NoZWNrOwotCiAjZGVmaW5lIEk5MTVfRU5HSU5FX05FRURTX0NNRF9QQVJTRVIgQklUKDApCiAj
ZGVmaW5lIEk5MTVfRU5HSU5FX1NVUFBPUlRTX1NUQVRTICAgQklUKDEpCiAjZGVmaW5lIEk5MTVf
RU5HSU5FX0hBU19QUkVFTVBUSU9OICAgQklUKDIpCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9k
cm0vaTkxNS9ndC9pbnRlbF9ndC5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZ3Qu
YwppbmRleCBjMmFmZmZiOTQ0NzQuLjIwZjMxODFjOTNiZCAxMDA2NDQKLS0tIGEvZHJpdmVycy9n
cHUvZHJtL2k5MTUvZ3QvaW50ZWxfZ3QuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9p
bnRlbF9ndC5jCkBAIC0xOCw3ICsxOCw2IEBAIHZvaWQgaW50ZWxfZ3RfaW5pdF9lYXJseShzdHJ1
Y3QgaW50ZWxfZ3QgKmd0LCBzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSkKIAlJTklUX0xJ
U1RfSEVBRCgmZ3QtPmNsb3NlZF92bWEpOwogCXNwaW5fbG9ja19pbml0KCZndC0+Y2xvc2VkX2xv
Y2spOwogCi0JaW50ZWxfZ3RfaW5pdF9oYW5nY2hlY2soZ3QpOwogCWludGVsX2d0X2luaXRfcmVz
ZXQoZ3QpOwogCWludGVsX2d0X3BtX2luaXRfZWFybHkoZ3QpOwogCWludGVsX3VjX2luaXRfZWFy
bHkoJmd0LT51Yyk7CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9n
dC5oIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZ3QuaAppbmRleCA0OTIwY2IzNTFm
MTAuLmE0MzkwM2IxY2M2MyAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50
ZWxfZ3QuaAorKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9ndC5oCkBAIC0zOSw4
ICszOSw2IEBAIHZvaWQgaW50ZWxfZ3RfY2xlYXJfZXJyb3JfcmVnaXN0ZXJzKHN0cnVjdCBpbnRl
bF9ndCAqZ3QsCiB2b2lkIGludGVsX2d0X2ZsdXNoX2dndHRfd3JpdGVzKHN0cnVjdCBpbnRlbF9n
dCAqZ3QpOwogdm9pZCBpbnRlbF9ndF9jaGlwc2V0X2ZsdXNoKHN0cnVjdCBpbnRlbF9ndCAqZ3Qp
OwogCi12b2lkIGludGVsX2d0X2luaXRfaGFuZ2NoZWNrKHN0cnVjdCBpbnRlbF9ndCAqZ3QpOwot
CiBpbnQgaW50ZWxfZ3RfaW5pdF9zY3JhdGNoKHN0cnVjdCBpbnRlbF9ndCAqZ3QsIHVuc2lnbmVk
IGludCBzaXplKTsKIHZvaWQgaW50ZWxfZ3RfZmluaV9zY3JhdGNoKHN0cnVjdCBpbnRlbF9ndCAq
Z3QpOwogCkBAIC01NSw2ICs1Myw0IEBAIHN0YXRpYyBpbmxpbmUgYm9vbCBpbnRlbF9ndF9pc193
ZWRnZWQoc3RydWN0IGludGVsX2d0ICpndCkKIAlyZXR1cm4gX19pbnRlbF9yZXNldF9mYWlsZWQo
Jmd0LT5yZXNldCk7CiB9CiAKLXZvaWQgaW50ZWxfZ3RfcXVldWVfaGFuZ2NoZWNrKHN0cnVjdCBp
bnRlbF9ndCAqZ3QpOwotCiAjZW5kaWYgLyogX19JTlRFTF9HVF9IX18gKi8KZGlmZiAtLWdpdCBh
L2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2d0X3BtLmMgYi9kcml2ZXJzL2dwdS9kcm0v
aTkxNS9ndC9pbnRlbF9ndF9wbS5jCmluZGV4IDEzNjNlMDY5ZWM4My4uNDVmYTBhNThjMzg3IDEw
MDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9ndF9wbS5jCisrKyBiL2Ry
aXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2d0X3BtLmMKQEAgLTQ2LDggKzQ2LDYgQEAgc3Rh
dGljIGludCBfX2d0X3VucGFyayhzdHJ1Y3QgaW50ZWxfd2FrZXJlZiAqd2YpCiAKIAlpOTE1X3Bt
dV9ndF91bnBhcmtlZChpOTE1KTsKIAotCWludGVsX2d0X3F1ZXVlX2hhbmdjaGVjayhndCk7Ci0K
IAlwbV9ub3RpZnkoaTkxNSwgSU5URUxfR1RfVU5QQVJLKTsKIAogCXJldHVybiAwOwpkaWZmIC0t
Z2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZ3RfdHlwZXMuaCBiL2RyaXZlcnMv
Z3B1L2RybS9pOTE1L2d0L2ludGVsX2d0X3R5cGVzLmgKaW5kZXggZGMyOTVjMTk2ZDExLi4wZjc5
OTMzNWEwMGEgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2d0X3R5
cGVzLmgKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZ3RfdHlwZXMuaApAQCAt
MjUsMTQgKzI1LDYgQEAgc3RydWN0IGk5MTVfZ2d0dDsKIHN0cnVjdCBpbnRlbF9lbmdpbmVfY3M7
CiBzdHJ1Y3QgaW50ZWxfdW5jb3JlOwogCi1zdHJ1Y3QgaW50ZWxfaGFuZ2NoZWNrIHsKLQkvKiBG
b3IgaGFuZ2NoZWNrIHRpbWVyICovCi0jZGVmaW5lIERSTV9JOTE1X0hBTkdDSEVDS19QRVJJT0Qg
MTUwMCAvKiBpbiBtcyAqLwotI2RlZmluZSBEUk1fSTkxNV9IQU5HQ0hFQ0tfSklGRklFUyBtc2Vj
c190b19qaWZmaWVzKERSTV9JOTE1X0hBTkdDSEVDS19QRVJJT0QpCi0KLQlzdHJ1Y3QgZGVsYXll
ZF93b3JrIHdvcms7Ci19OwotCiBzdHJ1Y3QgaW50ZWxfZ3QgewogCXN0cnVjdCBkcm1faTkxNV9w
cml2YXRlICppOTE1OwogCXN0cnVjdCBpbnRlbF91bmNvcmUgKnVuY29yZTsKQEAgLTU0LDcgKzQ2
LDYgQEAgc3RydWN0IGludGVsX2d0IHsKIAlzdHJ1Y3QgbGlzdF9oZWFkIGNsb3NlZF92bWE7CiAJ
c3BpbmxvY2tfdCBjbG9zZWRfbG9jazsgLyogZ3VhcmRzIHRoZSBsaXN0IG9mIGNsb3NlZF92bWEg
Ki8KIAotCXN0cnVjdCBpbnRlbF9oYW5nY2hlY2sgaGFuZ2NoZWNrOwogCXN0cnVjdCBpbnRlbF9y
ZXNldCByZXNldDsKIAogCS8qKgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3Qv
aW50ZWxfaGFuZ2NoZWNrLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9oYW5nY2hl
Y2suYwpkZWxldGVkIGZpbGUgbW9kZSAxMDA2NDQKaW5kZXggNDBmNjJmNzgwYmU1Li4wMDAwMDAw
MDAwMDAKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfaGFuZ2NoZWNrLmMKKysr
IC9kZXYvbnVsbApAQCAtMSwzNjEgKzAsMCBAQAotLyoKLSAqIENvcHlyaWdodCDCqSAyMDE2IElu
dGVsIENvcnBvcmF0aW9uCi0gKgotICogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJl
ZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEKLSAqIGNvcHkgb2YgdGhpcyBz
b2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgIlNvZnR3YXJl
IiksCi0gKiB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNs
dWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uCi0gKiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9k
aWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwKLSAqIGFuZC9vciBz
ZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9t
IHRoZQotICogU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBm
b2xsb3dpbmcgY29uZGl0aW9uczoKLSAqCi0gKiBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBh
bmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSAoaW5jbHVkaW5nIHRoZSBuZXh0Ci0gKiBwYXJhZ3Jh
cGgpIHNoYWxsIGJlIGluY2x1ZGVkIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlv
bnMgb2YgdGhlCi0gKiBTb2Z0d2FyZS4KLSAqCi0gKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQg
IkFTIElTIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUgotICogSU1Q
TElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJD
SEFOVEFCSUxJVFksCi0gKiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9O
SU5GUklOR0VNRU5ULiAgSU4gTk8gRVZFTlQgU0hBTEwKLSAqIFRIRSBBVVRIT1JTIE9SIENPUFlS
SUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSCi0g
KiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9U
SEVSV0lTRSwgQVJJU0lORwotICogRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBU
SEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUwotICogSU4gVEhFIFNPRlRX
QVJFLgotICoKLSAqLwotCi0jaW5jbHVkZSAiaTkxNV9kcnYuaCIKLSNpbmNsdWRlICJpbnRlbF9l
bmdpbmUuaCIKLSNpbmNsdWRlICJpbnRlbF9ndC5oIgotI2luY2x1ZGUgImludGVsX3Jlc2V0Lmgi
Ci0KLXN0cnVjdCBoYW5nY2hlY2sgewotCXU2NCBhY3RoZDsKLQl1MzIgcmluZzsKLQl1MzIgaGVh
ZDsKLQllbnVtIGludGVsX2VuZ2luZV9oYW5nY2hlY2tfYWN0aW9uIGFjdGlvbjsKLQl1bnNpZ25l
ZCBsb25nIGFjdGlvbl90aW1lc3RhbXA7Ci0JaW50IGRlYWRsb2NrOwotCXN0cnVjdCBpbnRlbF9p
bnN0ZG9uZSBpbnN0ZG9uZTsKLQlib29sIHdlZGdlZDoxOwotCWJvb2wgc3RhbGxlZDoxOwotfTsK
LQotc3RhdGljIGJvb2wgaW5zdGRvbmVfdW5jaGFuZ2VkKHUzMiBjdXJyZW50X2luc3Rkb25lLCB1
MzIgKm9sZF9pbnN0ZG9uZSkKLXsKLQl1MzIgdG1wID0gY3VycmVudF9pbnN0ZG9uZSB8ICpvbGRf
aW5zdGRvbmU7Ci0JYm9vbCB1bmNoYW5nZWQ7Ci0KLQl1bmNoYW5nZWQgPSB0bXAgPT0gKm9sZF9p
bnN0ZG9uZTsKLQkqb2xkX2luc3Rkb25lIHw9IHRtcDsKLQotCXJldHVybiB1bmNoYW5nZWQ7Ci19
Ci0KLXN0YXRpYyBib29sIHN1YnVuaXRzX3N0dWNrKHN0cnVjdCBpbnRlbF9lbmdpbmVfY3MgKmVu
Z2luZSkKLXsKLQlzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYgPSBlbmdpbmUtPmk5
MTU7Ci0JY29uc3Qgc3RydWN0IHNzZXVfZGV2X2luZm8gKnNzZXUgPSAmUlVOVElNRV9JTkZPKGRl
dl9wcml2KS0+c3NldTsKLQlzdHJ1Y3QgaW50ZWxfaW5zdGRvbmUgaW5zdGRvbmU7Ci0Jc3RydWN0
IGludGVsX2luc3Rkb25lICphY2N1X2luc3Rkb25lID0gJmVuZ2luZS0+aGFuZ2NoZWNrLmluc3Rk
b25lOwotCWJvb2wgc3R1Y2s7Ci0JaW50IHNsaWNlOwotCWludCBzdWJzbGljZTsKLQotCWludGVs
X2VuZ2luZV9nZXRfaW5zdGRvbmUoZW5naW5lLCAmaW5zdGRvbmUpOwotCi0JLyogVGhlcmUgbWln
aHQgYmUgdW5zdGFibGUgc3VidW5pdCBzdGF0ZXMgZXZlbiB3aGVuCi0JICogYWN0dWFsIGhlYWQg
aXMgbm90IG1vdmluZy4gRmlsdGVyIG91dCB0aGUgdW5zdGFibGUgb25lcyBieQotCSAqIGFjY3Vt
dWxhdGluZyB0aGUgdW5kb25lIC0+IGRvbmUgdHJhbnNpdGlvbnMgYW5kIG9ubHkKLQkgKiBjb25z
aWRlciB0aG9zZSBhcyBwcm9ncmVzcy4KLQkgKi8KLQlzdHVjayA9IGluc3Rkb25lX3VuY2hhbmdl
ZChpbnN0ZG9uZS5pbnN0ZG9uZSwKLQkJCQkgICAmYWNjdV9pbnN0ZG9uZS0+aW5zdGRvbmUpOwot
CXN0dWNrICY9IGluc3Rkb25lX3VuY2hhbmdlZChpbnN0ZG9uZS5zbGljZV9jb21tb24sCi0JCQkJ
ICAgICZhY2N1X2luc3Rkb25lLT5zbGljZV9jb21tb24pOwotCi0JZm9yX2VhY2hfaW5zdGRvbmVf
c2xpY2Vfc3Vic2xpY2UoZGV2X3ByaXYsIHNzZXUsIHNsaWNlLCBzdWJzbGljZSkgewotCQlzdHVj
ayAmPSBpbnN0ZG9uZV91bmNoYW5nZWQoaW5zdGRvbmUuc2FtcGxlcltzbGljZV1bc3Vic2xpY2Vd
LAotCQkJCQkgICAgJmFjY3VfaW5zdGRvbmUtPnNhbXBsZXJbc2xpY2VdW3N1YnNsaWNlXSk7Ci0J
CXN0dWNrICY9IGluc3Rkb25lX3VuY2hhbmdlZChpbnN0ZG9uZS5yb3dbc2xpY2VdW3N1YnNsaWNl
XSwKLQkJCQkJICAgICZhY2N1X2luc3Rkb25lLT5yb3dbc2xpY2VdW3N1YnNsaWNlXSk7Ci0JfQot
Ci0JcmV0dXJuIHN0dWNrOwotfQotCi1zdGF0aWMgZW51bSBpbnRlbF9lbmdpbmVfaGFuZ2NoZWNr
X2FjdGlvbgotaGVhZF9zdHVjayhzdHJ1Y3QgaW50ZWxfZW5naW5lX2NzICplbmdpbmUsIHU2NCBh
Y3RoZCkKLXsKLQlpZiAoYWN0aGQgIT0gZW5naW5lLT5oYW5nY2hlY2suYWN0aGQpIHsKLQotCQkv
KiBDbGVhciBzdWJ1bml0IHN0YXRlcyBvbiBoZWFkIG1vdmVtZW50ICovCi0JCW1lbXNldCgmZW5n
aW5lLT5oYW5nY2hlY2suaW5zdGRvbmUsIDAsCi0JCSAgICAgICBzaXplb2YoZW5naW5lLT5oYW5n
Y2hlY2suaW5zdGRvbmUpKTsKLQotCQlyZXR1cm4gRU5HSU5FX0FDVElWRV9IRUFEOwotCX0KLQot
CWlmICghc3VidW5pdHNfc3R1Y2soZW5naW5lKSkKLQkJcmV0dXJuIEVOR0lORV9BQ1RJVkVfU1VC
VU5JVFM7Ci0KLQlyZXR1cm4gRU5HSU5FX0RFQUQ7Ci19Ci0KLXN0YXRpYyBlbnVtIGludGVsX2Vu
Z2luZV9oYW5nY2hlY2tfYWN0aW9uCi1lbmdpbmVfc3R1Y2soc3RydWN0IGludGVsX2VuZ2luZV9j
cyAqZW5naW5lLCB1NjQgYWN0aGQpCi17Ci0JZW51bSBpbnRlbF9lbmdpbmVfaGFuZ2NoZWNrX2Fj
dGlvbiBoYTsKLQl1MzIgdG1wOwotCi0JaGEgPSBoZWFkX3N0dWNrKGVuZ2luZSwgYWN0aGQpOwot
CWlmIChoYSAhPSBFTkdJTkVfREVBRCkKLQkJcmV0dXJuIGhhOwotCi0JaWYgKElTX0dFTihlbmdp
bmUtPmk5MTUsIDIpKQotCQlyZXR1cm4gRU5HSU5FX0RFQUQ7Ci0KLQkvKiBJcyB0aGUgY2hpcCBo
YW5naW5nIG9uIGEgV0FJVF9GT1JfRVZFTlQ/Ci0JICogSWYgc28gd2UgY2FuIHNpbXBseSBwb2tl
IHRoZSBSQl9XQUlUIGJpdAotCSAqIGFuZCBicmVhayB0aGUgaGFuZy4gVGhpcyBzaG91bGQgd29y
ayBvbgotCSAqIGFsbCBidXQgdGhlIHNlY29uZCBnZW5lcmF0aW9uIGNoaXBzZXRzLgotCSAqLwot
CXRtcCA9IEVOR0lORV9SRUFEKGVuZ2luZSwgUklOR19DVEwpOwotCWlmICh0bXAgJiBSSU5HX1dB
SVQpIHsKLQkJaW50ZWxfZ3RfaGFuZGxlX2Vycm9yKGVuZ2luZS0+Z3QsIGVuZ2luZS0+bWFzaywg
MCwKLQkJCQkgICAgICAic3R1Y2sgd2FpdCBvbiAlcyIsIGVuZ2luZS0+bmFtZSk7Ci0JCUVOR0lO
RV9XUklURShlbmdpbmUsIFJJTkdfQ1RMLCB0bXApOwotCQlyZXR1cm4gRU5HSU5FX1dBSVRfS0lD
SzsKLQl9Ci0KLQlyZXR1cm4gRU5HSU5FX0RFQUQ7Ci19Ci0KLXN0YXRpYyB2b2lkIGhhbmdjaGVj
a19sb2FkX3NhbXBsZShzdHJ1Y3QgaW50ZWxfZW5naW5lX2NzICplbmdpbmUsCi0JCQkJICBzdHJ1
Y3QgaGFuZ2NoZWNrICpoYykKLXsKLQloYy0+YWN0aGQgPSBpbnRlbF9lbmdpbmVfZ2V0X2FjdGl2
ZV9oZWFkKGVuZ2luZSk7Ci0JaGMtPnJpbmcgPSBFTkdJTkVfUkVBRChlbmdpbmUsIFJJTkdfU1RB
UlQpOwotCWhjLT5oZWFkID0gRU5HSU5FX1JFQUQoZW5naW5lLCBSSU5HX0hFQUQpOwotfQotCi1z
dGF0aWMgdm9pZCBoYW5nY2hlY2tfc3RvcmVfc2FtcGxlKHN0cnVjdCBpbnRlbF9lbmdpbmVfY3Mg
KmVuZ2luZSwKLQkJCQkgICBjb25zdCBzdHJ1Y3QgaGFuZ2NoZWNrICpoYykKLXsKLQllbmdpbmUt
PmhhbmdjaGVjay5hY3RoZCA9IGhjLT5hY3RoZDsKLQllbmdpbmUtPmhhbmdjaGVjay5sYXN0X3Jp
bmcgPSBoYy0+cmluZzsKLQllbmdpbmUtPmhhbmdjaGVjay5sYXN0X2hlYWQgPSBoYy0+aGVhZDsK
LX0KLQotc3RhdGljIGVudW0gaW50ZWxfZW5naW5lX2hhbmdjaGVja19hY3Rpb24KLWhhbmdjaGVj
a19nZXRfYWN0aW9uKHN0cnVjdCBpbnRlbF9lbmdpbmVfY3MgKmVuZ2luZSwKLQkJICAgICBjb25z
dCBzdHJ1Y3QgaGFuZ2NoZWNrICpoYykKLXsKLQlpZiAoaW50ZWxfZW5naW5lX2lzX2lkbGUoZW5n
aW5lKSkKLQkJcmV0dXJuIEVOR0lORV9JRExFOwotCi0JaWYgKGVuZ2luZS0+aGFuZ2NoZWNrLmxh
c3RfcmluZyAhPSBoYy0+cmluZykKLQkJcmV0dXJuIEVOR0lORV9BQ1RJVkVfU0VRTk87Ci0KLQlp
ZiAoZW5naW5lLT5oYW5nY2hlY2subGFzdF9oZWFkICE9IGhjLT5oZWFkKQotCQlyZXR1cm4gRU5H
SU5FX0FDVElWRV9TRVFOTzsKLQotCXJldHVybiBlbmdpbmVfc3R1Y2soZW5naW5lLCBoYy0+YWN0
aGQpOwotfQotCi1zdGF0aWMgdm9pZCBoYW5nY2hlY2tfYWNjdW11bGF0ZV9zYW1wbGUoc3RydWN0
IGludGVsX2VuZ2luZV9jcyAqZW5naW5lLAotCQkJCQlzdHJ1Y3QgaGFuZ2NoZWNrICpoYykKLXsK
LQl1bnNpZ25lZCBsb25nIHRpbWVvdXQgPSBJOTE1X0VOR0lORV9ERUFEX1RJTUVPVVQ7Ci0KLQlo
Yy0+YWN0aW9uID0gaGFuZ2NoZWNrX2dldF9hY3Rpb24oZW5naW5lLCBoYyk7Ci0KLQkvKiBXZSBh
bHdheXMgaW5jcmVtZW50IHRoZSBwcm9ncmVzcwotCSAqIGlmIHRoZSBlbmdpbmUgaXMgYnVzeSBh
bmQgc3RpbGwgcHJvY2Vzc2luZwotCSAqIHRoZSBzYW1lIHJlcXVlc3QsIHNvIHRoYXQgbm8gc2lu
Z2xlIHJlcXVlc3QKLQkgKiBjYW4gcnVuIGluZGVmaW5pdGVseSAoc3VjaCBhcyBhIGNoYWluIG9m
Ci0JICogYmF0Y2hlcykuIFRoZSBvbmx5IHRpbWUgd2UgZG8gbm90IGluY3JlbWVudAotCSAqIHRo
ZSBoYW5nY2hlY2sgc2NvcmUgb24gdGhpcyByaW5nLCBpZiB0aGlzCi0JICogZW5naW5lIGlzIGlu
IGEgbGVnaXRpbWF0ZSB3YWl0IGZvciBhbm90aGVyCi0JICogZW5naW5lLiBJbiB0aGF0IGNhc2Ug
dGhlIHdhaXRpbmcgZW5naW5lIGlzIGEKLQkgKiB2aWN0aW0gYW5kIHdlIHdhbnQgdG8gYmUgc3Vy
ZSB3ZSBjYXRjaCB0aGUKLQkgKiByaWdodCBjdWxwcml0LiBUaGVuIGV2ZXJ5IHRpbWUgd2UgZG8g
a2ljawotCSAqIHRoZSByaW5nLCBtYWtlIGl0IGFzIGEgcHJvZ3Jlc3MgYXMgdGhlIHNlcW5vCi0J
ICogYWR2YW5jZW1lbnQgbWlnaHQgZW5zdXJlIGFuZCBpZiBub3QsIGl0Ci0JICogd2lsbCBjYXRj
aCB0aGUgaGFuZ2luZyBlbmdpbmUuCi0JICovCi0KLQlzd2l0Y2ggKGhjLT5hY3Rpb24pIHsKLQlj
YXNlIEVOR0lORV9JRExFOgotCWNhc2UgRU5HSU5FX0FDVElWRV9TRVFOTzoKLQkJLyogQ2xlYXIg
aGVhZCBhbmQgc3VidW5pdCBzdGF0ZXMgb24gc2Vxbm8gbW92ZW1lbnQgKi8KLQkJaGMtPmFjdGhk
ID0gMDsKLQotCQltZW1zZXQoJmVuZ2luZS0+aGFuZ2NoZWNrLmluc3Rkb25lLCAwLAotCQkgICAg
ICAgc2l6ZW9mKGVuZ2luZS0+aGFuZ2NoZWNrLmluc3Rkb25lKSk7Ci0KLQkJLyogSW50ZW50aW9u
YWwgZmFsbCB0aHJvdWdoICovCi0JY2FzZSBFTkdJTkVfV0FJVF9LSUNLOgotCWNhc2UgRU5HSU5F
X1dBSVQ6Ci0JCWVuZ2luZS0+aGFuZ2NoZWNrLmFjdGlvbl90aW1lc3RhbXAgPSBqaWZmaWVzOwot
CQlicmVhazsKLQotCWNhc2UgRU5HSU5FX0FDVElWRV9IRUFEOgotCWNhc2UgRU5HSU5FX0FDVElW
RV9TVUJVTklUUzoKLQkJLyoKLQkJICogU2Vxbm8gc3R1Y2sgd2l0aCBzdGlsbCBhY3RpdmUgZW5n
aW5lIGdldHMgbGVld2F5LAotCQkgKiBpbiBob3BlcyB0aGF0IGl0IGlzIGp1c3QgYSBsb25nIHNo
YWRlci4KLQkJICovCi0JCXRpbWVvdXQgPSBJOTE1X1NFUU5PX0RFQURfVElNRU9VVDsKLQkJYnJl
YWs7Ci0KLQljYXNlIEVOR0lORV9ERUFEOgotCQlicmVhazsKLQotCWRlZmF1bHQ6Ci0JCU1JU1NJ
TkdfQ0FTRShoYy0+YWN0aW9uKTsKLQl9Ci0KLQloYy0+c3RhbGxlZCA9IHRpbWVfYWZ0ZXIoamlm
ZmllcywKLQkJCQkgZW5naW5lLT5oYW5nY2hlY2suYWN0aW9uX3RpbWVzdGFtcCArIHRpbWVvdXQp
OwotCWhjLT53ZWRnZWQgPSB0aW1lX2FmdGVyKGppZmZpZXMsCi0JCQkJIGVuZ2luZS0+aGFuZ2No
ZWNrLmFjdGlvbl90aW1lc3RhbXAgKwotCQkJCSBJOTE1X0VOR0lORV9XRURHRURfVElNRU9VVCk7
Ci19Ci0KLXN0YXRpYyB2b2lkIGhhbmdjaGVja19kZWNsYXJlX2hhbmcoc3RydWN0IGludGVsX2d0
ICpndCwKLQkJCQkgICBpbnRlbF9lbmdpbmVfbWFza190IGh1bmcsCi0JCQkJICAgaW50ZWxfZW5n
aW5lX21hc2tfdCBzdHVjaykKLXsKLQlzdHJ1Y3QgaW50ZWxfZW5naW5lX2NzICplbmdpbmU7Ci0J
aW50ZWxfZW5naW5lX21hc2tfdCB0bXA7Ci0JY2hhciBtc2dbODBdOwotCWludCBsZW47Ci0KLQkv
KiBJZiBzb21lIHJpbmdzIGh1bmcgYnV0IG90aGVycyB3ZXJlIHN0aWxsIGJ1c3ksIG9ubHkKLQkg
KiBibGFtZSB0aGUgaGFuZ2luZyByaW5ncyBpbiB0aGUgc3lub3BzaXMuCi0JICovCi0JaWYgKHN0
dWNrICE9IGh1bmcpCi0JCWh1bmcgJj0gfnN0dWNrOwotCWxlbiA9IHNjbnByaW50Zihtc2csIHNp
emVvZihtc2cpLAotCQkJIiVzIG9uICIsIHN0dWNrID09IGh1bmcgPyAibm8gcHJvZ3Jlc3MiIDog
ImhhbmciKTsKLQlmb3JfZWFjaF9lbmdpbmVfbWFza2VkKGVuZ2luZSwgZ3QtPmk5MTUsIGh1bmcs
IHRtcCkKLQkJbGVuICs9IHNjbnByaW50Zihtc2cgKyBsZW4sIHNpemVvZihtc2cpIC0gbGVuLAot
CQkJCSAiJXMsICIsIGVuZ2luZS0+bmFtZSk7Ci0JbXNnW2xlbi0yXSA9ICdcMCc7Ci0KLQlyZXR1
cm4gaW50ZWxfZ3RfaGFuZGxlX2Vycm9yKGd0LCBodW5nLCBJOTE1X0VSUk9SX0NBUFRVUkUsICIl
cyIsIG1zZyk7Ci19Ci0KLS8qCi0gKiBUaGlzIGlzIGNhbGxlZCB3aGVuIHRoZSBjaGlwIGhhc24n
dCByZXBvcnRlZCBiYWNrIHdpdGggY29tcGxldGVkCi0gKiBiYXRjaGJ1ZmZlcnMgaW4gYSBsb25n
IHRpbWUuIFdlIGtlZXAgdHJhY2sgcGVyIHJpbmcgc2Vxbm8gcHJvZ3Jlc3MgYW5kCi0gKiBpZiB0
aGVyZSBhcmUgbm8gcHJvZ3Jlc3MsIGhhbmdjaGVjayBzY29yZSBmb3IgdGhhdCByaW5nIGlzIGlu
Y3JlYXNlZC4KLSAqIEZ1cnRoZXIsIGFjdGhkIGlzIGluc3BlY3RlZCB0byBzZWUgaWYgdGhlIHJp
bmcgaXMgc3R1Y2suIE9uIHN0dWNrIGNhc2UKLSAqIHdlIGtpY2sgdGhlIHJpbmcuIElmIHdlIHNl
ZSBubyBwcm9ncmVzcyBvbiB0aHJlZSBzdWJzZXF1ZW50IGNhbGxzCi0gKiB3ZSBhc3N1bWUgY2hp
cCBpcyB3ZWRnZWQgYW5kIHRyeSB0byBmaXggaXQgYnkgcmVzZXR0aW5nIHRoZSBjaGlwLgotICov
Ci1zdGF0aWMgdm9pZCBoYW5nY2hlY2tfZWxhcHNlZChzdHJ1Y3Qgd29ya19zdHJ1Y3QgKndvcmsp
Ci17Ci0Jc3RydWN0IGludGVsX2d0ICpndCA9Ci0JCWNvbnRhaW5lcl9vZih3b3JrLCB0eXBlb2Yo
Kmd0KSwgaGFuZ2NoZWNrLndvcmsud29yayk7Ci0JaW50ZWxfZW5naW5lX21hc2tfdCBodW5nID0g
MCwgc3R1Y2sgPSAwLCB3ZWRnZWQgPSAwOwotCXN0cnVjdCBpbnRlbF9lbmdpbmVfY3MgKmVuZ2lu
ZTsKLQllbnVtIGludGVsX2VuZ2luZV9pZCBpZDsKLQlpbnRlbF93YWtlcmVmX3Qgd2FrZXJlZjsK
LQotCWlmICghaTkxNV9tb2RwYXJhbXMuZW5hYmxlX2hhbmdjaGVjaykKLQkJcmV0dXJuOwotCi0J
aWYgKCFSRUFEX09OQ0UoZ3QtPmF3YWtlKSkKLQkJcmV0dXJuOwotCi0JaWYgKGludGVsX2d0X2lz
X3dlZGdlZChndCkpCi0JCXJldHVybjsKLQotCXdha2VyZWYgPSBpbnRlbF9ydW50aW1lX3BtX2dl
dF9pZl9pbl91c2UoJmd0LT5pOTE1LT5ydW50aW1lX3BtKTsKLQlpZiAoIXdha2VyZWYpCi0JCXJl
dHVybjsKLQotCS8qIEFzIGVuYWJsaW5nIHRoZSBHUFUgcmVxdWlyZXMgZmFpcmx5IGV4dGVuc2l2
ZSBtbWlvIGFjY2VzcywKLQkgKiBwZXJpb2RpY2FsbHkgYXJtIHRoZSBtbWlvIGNoZWNrZXIgdG8g
c2VlIGlmIHdlIGFyZSB0cmlnZ2VyaW5nCi0JICogYW55IGludmFsaWQgYWNjZXNzLgotCSAqLwot
CWludGVsX3VuY29yZV9hcm1fdW5jbGFpbWVkX21taW9fZGV0ZWN0aW9uKGd0LT51bmNvcmUpOwot
Ci0JZm9yX2VhY2hfZW5naW5lKGVuZ2luZSwgZ3QtPmk5MTUsIGlkKSB7Ci0JCXN0cnVjdCBoYW5n
Y2hlY2sgaGM7Ci0KLQkJaW50ZWxfZW5naW5lX3NpZ25hbF9icmVhZGNydW1icyhlbmdpbmUpOwot
Ci0JCWhhbmdjaGVja19sb2FkX3NhbXBsZShlbmdpbmUsICZoYyk7Ci0JCWhhbmdjaGVja19hY2N1
bXVsYXRlX3NhbXBsZShlbmdpbmUsICZoYyk7Ci0JCWhhbmdjaGVja19zdG9yZV9zYW1wbGUoZW5n
aW5lLCAmaGMpOwotCi0JCWlmIChoYy5zdGFsbGVkKSB7Ci0JCQlodW5nIHw9IGVuZ2luZS0+bWFz
azsKLQkJCWlmIChoYy5hY3Rpb24gIT0gRU5HSU5FX0RFQUQpCi0JCQkJc3R1Y2sgfD0gZW5naW5l
LT5tYXNrOwotCQl9Ci0KLQkJaWYgKGhjLndlZGdlZCkKLQkJCXdlZGdlZCB8PSBlbmdpbmUtPm1h
c2s7Ci0JfQotCi0JaWYgKEdFTV9TSE9XX0RFQlVHKCkgJiYgKGh1bmcgfCBzdHVjaykpIHsKLQkJ
c3RydWN0IGRybV9wcmludGVyIHAgPSBkcm1fZGVidWdfcHJpbnRlcigiaGFuZ2NoZWNrIik7Ci0K
LQkJZm9yX2VhY2hfZW5naW5lKGVuZ2luZSwgZ3QtPmk5MTUsIGlkKSB7Ci0JCQlpZiAoaW50ZWxf
ZW5naW5lX2lzX2lkbGUoZW5naW5lKSkKLQkJCQljb250aW51ZTsKLQotCQkJaW50ZWxfZW5naW5l
X2R1bXAoZW5naW5lLCAmcCwgIiVzXG4iLCBlbmdpbmUtPm5hbWUpOwotCQl9Ci0JfQotCi0JaWYg
KHdlZGdlZCkgewotCQlkZXZfZXJyKGd0LT5pOTE1LT5kcm0uZGV2LAotCQkJIkdQVSByZWNvdmVy
eSB0aW1lZCBvdXQsIgotCQkJIiBjYW5jZWxsaW5nIGFsbCBpbi1mbGlnaHQgcmVuZGVyaW5nLlxu
Iik7Ci0JCUdFTV9UUkFDRV9EVU1QKCk7Ci0JCWludGVsX2d0X3NldF93ZWRnZWQoZ3QpOwotCX0K
LQotCWlmIChodW5nKQotCQloYW5nY2hlY2tfZGVjbGFyZV9oYW5nKGd0LCBodW5nLCBzdHVjayk7
Ci0KLQlpbnRlbF9ydW50aW1lX3BtX3B1dCgmZ3QtPmk5MTUtPnJ1bnRpbWVfcG0sIHdha2VyZWYp
OwotCi0JLyogUmVzZXQgdGltZXIgaW4gY2FzZSBHUFUgaGFuZ3Mgd2l0aG91dCBhbm90aGVyIHJl
cXVlc3QgYmVpbmcgYWRkZWQgKi8KLQlpbnRlbF9ndF9xdWV1ZV9oYW5nY2hlY2soZ3QpOwotfQot
Ci12b2lkIGludGVsX2d0X3F1ZXVlX2hhbmdjaGVjayhzdHJ1Y3QgaW50ZWxfZ3QgKmd0KQotewot
CXVuc2lnbmVkIGxvbmcgZGVsYXk7Ci0KLQlpZiAodW5saWtlbHkoIWk5MTVfbW9kcGFyYW1zLmVu
YWJsZV9oYW5nY2hlY2spKQotCQlyZXR1cm47Ci0KLQkvKgotCSAqIERvbid0IGNvbnRpbnVhbGx5
IGRlZmVyIHRoZSBoYW5nY2hlY2sgc28gdGhhdCBpdCBpcyBhbHdheXMgcnVuIGF0Ci0JICogbGVh
c3Qgb25jZSBhZnRlciB3b3JrIGhhcyBiZWVuIHNjaGVkdWxlZCBvbiBhbnkgcmluZy4gT3RoZXJ3
aXNlLAotCSAqIHdlIHdpbGwgaWdub3JlIGEgaHVuZyByaW5nIGlmIGEgc2Vjb25kIHJpbmcgaXMg
a2VwdCBidXN5LgotCSAqLwotCi0JZGVsYXkgPSByb3VuZF9qaWZmaWVzX3VwX3JlbGF0aXZlKERS
TV9JOTE1X0hBTkdDSEVDS19KSUZGSUVTKTsKLQlxdWV1ZV9kZWxheWVkX3dvcmsoc3lzdGVtX2xv
bmdfd3EsICZndC0+aGFuZ2NoZWNrLndvcmssIGRlbGF5KTsKLX0KLQotdm9pZCBpbnRlbF9lbmdp
bmVfaW5pdF9oYW5nY2hlY2soc3RydWN0IGludGVsX2VuZ2luZV9jcyAqZW5naW5lKQotewotCW1l
bXNldCgmZW5naW5lLT5oYW5nY2hlY2ssIDAsIHNpemVvZihlbmdpbmUtPmhhbmdjaGVjaykpOwot
CWVuZ2luZS0+aGFuZ2NoZWNrLmFjdGlvbl90aW1lc3RhbXAgPSBqaWZmaWVzOwotfQotCi12b2lk
IGludGVsX2d0X2luaXRfaGFuZ2NoZWNrKHN0cnVjdCBpbnRlbF9ndCAqZ3QpCi17Ci0JSU5JVF9E
RUxBWUVEX1dPUksoJmd0LT5oYW5nY2hlY2sud29yaywgaGFuZ2NoZWNrX2VsYXBzZWQpOwotfQot
Ci0jaWYgSVNfRU5BQkxFRChDT05GSUdfRFJNX0k5MTVfU0VMRlRFU1QpCi0jaW5jbHVkZSAic2Vs
ZnRlc3RfaGFuZ2NoZWNrLmMiCi0jZW5kaWYKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9p
OTE1L2d0L2ludGVsX3Jlc2V0LmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9yZXNl
dC5jCmluZGV4IDQ4MjVjODJhZWZlZS4uZmViYWIzNjhkOGNmIDEwMDY0NAotLS0gYS9kcml2ZXJz
L2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9yZXNldC5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1
L2d0L2ludGVsX3Jlc2V0LmMKQEAgLTk4Myw4ICs5ODMsNiBAQCB2b2lkIGludGVsX2d0X3Jlc2V0
KHN0cnVjdCBpbnRlbF9ndCAqZ3QsCiAJaWYgKHJldCkKIAkJZ290byB0YWludDsKIAotCWludGVs
X2d0X3F1ZXVlX2hhbmdjaGVjayhndCk7Ci0KIGZpbmlzaDoKIAlyZXNldF9maW5pc2goZ3QsIGF3
YWtlKTsKIHVubG9jazoKQEAgLTEzMTAsNCArMTMwOCw1IEBAIHZvaWQgX19pbnRlbF9maW5pX3dl
ZGdlKHN0cnVjdCBpbnRlbF93ZWRnZV9tZSAqdykKIAogI2lmIElTX0VOQUJMRUQoQ09ORklHX0RS
TV9JOTE1X1NFTEZURVNUKQogI2luY2x1ZGUgInNlbGZ0ZXN0X3Jlc2V0LmMiCisjaW5jbHVkZSAi
c2VsZnRlc3RfaGFuZ2NoZWNrLmMiCiAjZW5kaWYKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2d0L3NlbGZ0ZXN0X2hhbmdjaGVjay5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3Qv
c2VsZnRlc3RfaGFuZ2NoZWNrLmMKaW5kZXggMzVhYjcwM2RhYzM0Li45NTlkZGU4NjRmNGEgMTAw
NjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L3NlbGZ0ZXN0X2hhbmdjaGVjay5jCisr
KyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L3NlbGZ0ZXN0X2hhbmdjaGVjay5jCkBAIC0xNzI4
LDcgKzE3MjgsNiBAQCBpbnQgaW50ZWxfaGFuZ2NoZWNrX2xpdmVfc2VsZnRlc3RzKHN0cnVjdCBk
cm1faTkxNV9wcml2YXRlICppOTE1KQogCX07CiAJc3RydWN0IGludGVsX2d0ICpndCA9ICZpOTE1
LT5ndDsKIAlpbnRlbF93YWtlcmVmX3Qgd2FrZXJlZjsKLQlib29sIHNhdmVkX2hhbmdjaGVjazsK
IAlpbnQgZXJyOwogCiAJaWYgKCFpbnRlbF9oYXNfZ3B1X3Jlc2V0KGd0LT5pOTE1KSkKQEAgLTE3
MzgsMTIgKzE3MzcsOSBAQCBpbnQgaW50ZWxfaGFuZ2NoZWNrX2xpdmVfc2VsZnRlc3RzKHN0cnVj
dCBkcm1faTkxNV9wcml2YXRlICppOTE1KQogCQlyZXR1cm4gLUVJTzsgLyogd2UncmUgbG9uZyBw
YXN0IGhvcGUgb2YgYSBzdWNjZXNzZnVsIHJlc2V0ICovCiAKIAl3YWtlcmVmID0gaW50ZWxfcnVu
dGltZV9wbV9nZXQoJmd0LT5pOTE1LT5ydW50aW1lX3BtKTsKLQlzYXZlZF9oYW5nY2hlY2sgPSBm
ZXRjaF9hbmRfemVybygmaTkxNV9tb2RwYXJhbXMuZW5hYmxlX2hhbmdjaGVjayk7Ci0JZHJhaW5f
ZGVsYXllZF93b3JrKCZndC0+aGFuZ2NoZWNrLndvcmspOyAvKiBmbHVzaCBwYXJhbSAqLwogCiAJ
ZXJyID0gaW50ZWxfZ3RfbGl2ZV9zdWJ0ZXN0cyh0ZXN0cywgZ3QpOwogCi0JaTkxNV9tb2RwYXJh
bXMuZW5hYmxlX2hhbmdjaGVjayA9IHNhdmVkX2hhbmdjaGVjazsKIAlpbnRlbF9ydW50aW1lX3Bt
X3B1dCgmZ3QtPmk5MTUtPnJ1bnRpbWVfcG0sIHdha2VyZWYpOwogCiAJcmV0dXJuIGVycjsKZGlm
ZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZGVidWdmcy5jIGIvZHJpdmVycy9n
cHUvZHJtL2k5MTUvaTkxNV9kZWJ1Z2ZzLmMKaW5kZXggZTYzNjIyNDUzNDdiLi5mNzI2YzY2OWZm
ZmYgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZGVidWdmcy5jCisrKyBi
L2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZGVidWdmcy5jCkBAIC05ODYsOTIgKzk4Niw2IEBA
IHN0YXRpYyBpbnQgaTkxNV9mcmVxdWVuY3lfaW5mbyhzdHJ1Y3Qgc2VxX2ZpbGUgKm0sIHZvaWQg
KnVudXNlZCkKIAlyZXR1cm4gcmV0OwogfQogCi1zdGF0aWMgdm9pZCBpOTE1X2luc3Rkb25lX2lu
Zm8oc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2LAotCQkJICAgICAgIHN0cnVjdCBz
ZXFfZmlsZSAqbSwKLQkJCSAgICAgICBzdHJ1Y3QgaW50ZWxfaW5zdGRvbmUgKmluc3Rkb25lKQot
ewotCWNvbnN0IHN0cnVjdCBzc2V1X2Rldl9pbmZvICpzc2V1ID0gJlJVTlRJTUVfSU5GTyhkZXZf
cHJpdiktPnNzZXU7Ci0JaW50IHNsaWNlOwotCWludCBzdWJzbGljZTsKLQotCXNlcV9wcmludGYo
bSwgIlx0XHRJTlNURE9ORTogMHglMDh4XG4iLAotCQkgICBpbnN0ZG9uZS0+aW5zdGRvbmUpOwot
Ci0JaWYgKElOVEVMX0dFTihkZXZfcHJpdikgPD0gMykKLQkJcmV0dXJuOwotCi0Jc2VxX3ByaW50
ZihtLCAiXHRcdFNDX0lOU1RET05FOiAweCUwOHhcbiIsCi0JCSAgIGluc3Rkb25lLT5zbGljZV9j
b21tb24pOwotCi0JaWYgKElOVEVMX0dFTihkZXZfcHJpdikgPD0gNikKLQkJcmV0dXJuOwotCi0J
Zm9yX2VhY2hfaW5zdGRvbmVfc2xpY2Vfc3Vic2xpY2UoZGV2X3ByaXYsIHNzZXUsIHNsaWNlLCBz
dWJzbGljZSkKLQkJc2VxX3ByaW50ZihtLCAiXHRcdFNBTVBMRVJfSU5TVERPTkVbJWRdWyVkXTog
MHglMDh4XG4iLAotCQkJICAgc2xpY2UsIHN1YnNsaWNlLCBpbnN0ZG9uZS0+c2FtcGxlcltzbGlj
ZV1bc3Vic2xpY2VdKTsKLQotCWZvcl9lYWNoX2luc3Rkb25lX3NsaWNlX3N1YnNsaWNlKGRldl9w
cml2LCBzc2V1LCBzbGljZSwgc3Vic2xpY2UpCi0JCXNlcV9wcmludGYobSwgIlx0XHRST1dfSU5T
VERPTkVbJWRdWyVkXTogMHglMDh4XG4iLAotCQkJICAgc2xpY2UsIHN1YnNsaWNlLCBpbnN0ZG9u
ZS0+cm93W3NsaWNlXVtzdWJzbGljZV0pOwotfQotCi1zdGF0aWMgaW50IGk5MTVfaGFuZ2NoZWNr
X2luZm8oc3RydWN0IHNlcV9maWxlICptLCB2b2lkICp1bnVzZWQpCi17Ci0Jc3RydWN0IGRybV9p
OTE1X3ByaXZhdGUgKmk5MTUgPSBub2RlX3RvX2k5MTUobS0+cHJpdmF0ZSk7Ci0Jc3RydWN0IGlu
dGVsX2d0ICpndCA9ICZpOTE1LT5ndDsKLQlzdHJ1Y3QgaW50ZWxfZW5naW5lX2NzICplbmdpbmU7
Ci0JaW50ZWxfd2FrZXJlZl90IHdha2VyZWY7Ci0JZW51bSBpbnRlbF9lbmdpbmVfaWQgaWQ7Ci0K
LQlzZXFfcHJpbnRmKG0sICJSZXNldCBmbGFnczogJWx4XG4iLCBndC0+cmVzZXQuZmxhZ3MpOwot
CWlmICh0ZXN0X2JpdChJOTE1X1dFREdFRCwgJmd0LT5yZXNldC5mbGFncykpCi0JCXNlcV9wdXRz
KG0sICJcdFdlZGdlZFxuIik7Ci0JaWYgKHRlc3RfYml0KEk5MTVfUkVTRVRfQkFDS09GRiwgJmd0
LT5yZXNldC5mbGFncykpCi0JCXNlcV9wdXRzKG0sICJcdERldmljZSAoZ2xvYmFsKSByZXNldCBp
biBwcm9ncmVzc1xuIik7Ci0KLQlpZiAoIWk5MTVfbW9kcGFyYW1zLmVuYWJsZV9oYW5nY2hlY2sp
IHsKLQkJc2VxX3B1dHMobSwgIkhhbmdjaGVjayBkaXNhYmxlZFxuIik7Ci0JCXJldHVybiAwOwot
CX0KLQotCWlmICh0aW1lcl9wZW5kaW5nKCZndC0+aGFuZ2NoZWNrLndvcmsudGltZXIpKQotCQlz
ZXFfcHJpbnRmKG0sICJIYW5nY2hlY2sgYWN0aXZlLCB0aW1lciBmaXJlcyBpbiAlZG1zXG4iLAot
CQkJICAgamlmZmllc190b19tc2VjcyhndC0+aGFuZ2NoZWNrLndvcmsudGltZXIuZXhwaXJlcyAt
Ci0JCQkJCSAgICBqaWZmaWVzKSk7Ci0JZWxzZSBpZiAoZGVsYXllZF93b3JrX3BlbmRpbmcoJmd0
LT5oYW5nY2hlY2sud29yaykpCi0JCXNlcV9wdXRzKG0sICJIYW5nY2hlY2sgYWN0aXZlLCB3b3Jr
IHBlbmRpbmdcbiIpOwotCWVsc2UKLQkJc2VxX3B1dHMobSwgIkhhbmdjaGVjayBpbmFjdGl2ZVxu
Iik7Ci0KLQlzZXFfcHJpbnRmKG0sICJHVCBhY3RpdmU/ICVzXG4iLCB5ZXNubyhndC0+YXdha2Up
KTsKLQotCXdpdGhfaW50ZWxfcnVudGltZV9wbSgmaTkxNS0+cnVudGltZV9wbSwgd2FrZXJlZikg
ewotCQlmb3JfZWFjaF9lbmdpbmUoZW5naW5lLCBpOTE1LCBpZCkgewotCQkJc3RydWN0IGludGVs
X2luc3Rkb25lIGluc3Rkb25lOwotCi0JCQlzZXFfcHJpbnRmKG0sICIlczogJWQgbXMgYWdvXG4i
LAotCQkJCSAgIGVuZ2luZS0+bmFtZSwKLQkJCQkgICBqaWZmaWVzX3RvX21zZWNzKGppZmZpZXMg
LQotCQkJCQkJICAgIGVuZ2luZS0+aGFuZ2NoZWNrLmFjdGlvbl90aW1lc3RhbXApKTsKLQotCQkJ
c2VxX3ByaW50ZihtLCAiXHRBQ1RIRCA9IDB4JTA4bGx4IFtjdXJyZW50IDB4JTA4bGx4XVxuIiwK
LQkJCQkgICAobG9uZyBsb25nKWVuZ2luZS0+aGFuZ2NoZWNrLmFjdGhkLAotCQkJCSAgIGludGVs
X2VuZ2luZV9nZXRfYWN0aXZlX2hlYWQoZW5naW5lKSk7Ci0KLQkJCWludGVsX2VuZ2luZV9nZXRf
aW5zdGRvbmUoZW5naW5lLCAmaW5zdGRvbmUpOwotCi0JCQlzZXFfcHV0cyhtLCAiXHRpbnN0ZG9u
ZSByZWFkID1cbiIpOwotCQkJaTkxNV9pbnN0ZG9uZV9pbmZvKGk5MTUsIG0sICZpbnN0ZG9uZSk7
Ci0KLQkJCXNlcV9wdXRzKG0sICJcdGluc3Rkb25lIGFjY3UgPVxuIik7Ci0JCQlpOTE1X2luc3Rk
b25lX2luZm8oaTkxNSwgbSwKLQkJCQkJICAgJmVuZ2luZS0+aGFuZ2NoZWNrLmluc3Rkb25lKTsK
LQkJfQotCX0KLQotCXJldHVybiAwOwotfQotCiBzdGF0aWMgaW50IGlyb25sYWtlX2RycGNfaW5m
byhzdHJ1Y3Qgc2VxX2ZpbGUgKm0pCiB7CiAJc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUg
PSBub2RlX3RvX2k5MTUobS0+cHJpdmF0ZSk7CkBAIC00MjkxLDcgKzQyMDUsNiBAQCBzdGF0aWMg
Y29uc3Qgc3RydWN0IGRybV9pbmZvX2xpc3QgaTkxNV9kZWJ1Z2ZzX2xpc3RbXSA9IHsKIAl7Imk5
MTVfZ3VjX3N0YWdlX3Bvb2wiLCBpOTE1X2d1Y19zdGFnZV9wb29sLCAwfSwKIAl7Imk5MTVfaHVj
X2xvYWRfc3RhdHVzIiwgaTkxNV9odWNfbG9hZF9zdGF0dXNfaW5mbywgMH0sCiAJeyJpOTE1X2Zy
ZXF1ZW5jeV9pbmZvIiwgaTkxNV9mcmVxdWVuY3lfaW5mbywgMH0sCi0JeyJpOTE1X2hhbmdjaGVj
a19pbmZvIiwgaTkxNV9oYW5nY2hlY2tfaW5mbywgMH0sCiAJeyJpOTE1X2RycGNfaW5mbyIsIGk5
MTVfZHJwY19pbmZvLCAwfSwKIAl7Imk5MTVfcmluZ19mcmVxX3RhYmxlIiwgaTkxNV9yaW5nX2Zy
ZXFfdGFibGUsIDB9LAogCXsiaTkxNV9mcm9udGJ1ZmZlcl90cmFja2luZyIsIGk5MTVfZnJvbnRi
dWZmZXJfdHJhY2tpbmcsIDB9LApkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkx
NV9kcnYuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZHJ2LmMKaW5kZXggMWM0NTc2YTRh
NWU5Li4wYmM2MjZkYjQ0NjcgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVf
ZHJ2LmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kcnYuYwpAQCAtMTYxOCwxMCAr
MTYxOCw3IEBAIHZvaWQgaTkxNV9kcml2ZXJfcmVtb3ZlKHN0cnVjdCBkcm1faTkxNV9wcml2YXRl
ICppOTE1KQogCiAJaW50ZWxfY3NyX3Vjb2RlX2ZpbmkoaTkxNSk7CiAKLQkvKiBGcmVlIGVycm9y
IHN0YXRlIGFmdGVyIGludGVycnVwdHMgYXJlIGZ1bGx5IGRpc2FibGVkLiAqLwotCWNhbmNlbF9k
ZWxheWVkX3dvcmtfc3luYygmaTkxNS0+Z3QuaGFuZ2NoZWNrLndvcmspOwogCWk5MTVfcmVzZXRf
ZXJyb3Jfc3RhdGUoaTkxNSk7Ci0KIAlpOTE1X2dlbV9kcml2ZXJfcmVtb3ZlKGk5MTUpOwogCiAJ
aW50ZWxfcG93ZXJfZG9tYWluc19kcml2ZXJfcmVtb3ZlKGk5MTUpOwpkaWZmIC0tZ2l0IGEvZHJp
dmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kcnYuaCBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVf
ZHJ2LmgKaW5kZXggODU3NjdiN2NkMDBiLi4zNmViNjc0ZjJkNjYgMTAwNjQ0Ci0tLSBhL2RyaXZl
cnMvZ3B1L2RybS9pOTE1L2k5MTVfZHJ2LmgKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkx
NV9kcnYuaApAQCAtMjIxNCw3ICsyMjE0LDYgQEAgZXh0ZXJuIGNvbnN0IHN0cnVjdCBkZXZfcG1f
b3BzIGk5MTVfcG1fb3BzOwogaW50IGk5MTVfZHJpdmVyX3Byb2JlKHN0cnVjdCBwY2lfZGV2ICpw
ZGV2LCBjb25zdCBzdHJ1Y3QgcGNpX2RldmljZV9pZCAqZW50KTsKIHZvaWQgaTkxNV9kcml2ZXJf
cmVtb3ZlKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICppOTE1KTsKIAotdm9pZCBpbnRlbF9lbmdp
bmVfaW5pdF9oYW5nY2hlY2soc3RydWN0IGludGVsX2VuZ2luZV9jcyAqZW5naW5lKTsKIGludCB2
bHZfZm9yY2VfZ2Z4X2Nsb2NrKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiwgYm9v
bCBvbik7CiAKIHN0YXRpYyBpbmxpbmUgYm9vbCBpbnRlbF9ndnRfYWN0aXZlKHN0cnVjdCBkcm1f
aTkxNV9wcml2YXRlICpkZXZfcHJpdikKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1
L2k5MTVfZ2V0cGFyYW0uYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZ2V0cGFyYW0uYwpp
bmRleCA1ZDkxMDEzNzZhM2QuLmU2YzM1MTA4MDU5MyAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUv
ZHJtL2k5MTUvaTkxNV9nZXRwYXJhbS5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVf
Z2V0cGFyYW0uYwpAQCAtNzgsOCArNzgsNyBAQCBpbnQgaTkxNV9nZXRwYXJhbV9pb2N0bChzdHJ1
Y3QgZHJtX2RldmljZSAqZGV2LCB2b2lkICpkYXRhLAogCQkJcmV0dXJuIC1FTk9ERVY7CiAJCWJy
ZWFrOwogCWNhc2UgSTkxNV9QQVJBTV9IQVNfR1BVX1JFU0VUOgotCQl2YWx1ZSA9IGk5MTVfbW9k
cGFyYW1zLmVuYWJsZV9oYW5nY2hlY2sgJiYKLQkJCWludGVsX2hhc19ncHVfcmVzZXQoaTkxNSk7
CisJCXZhbHVlID0gaW50ZWxfaGFzX2dwdV9yZXNldChpOTE1KTsKIAkJaWYgKHZhbHVlICYmIGlu
dGVsX2hhc19yZXNldF9lbmdpbmUoaTkxNSkpCiAJCQl2YWx1ZSA9IDI7CiAJCWJyZWFrOwpkaWZm
IC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9ncHVfZXJyb3IuYyBiL2RyaXZlcnMv
Z3B1L2RybS9pOTE1L2k5MTVfZ3B1X2Vycm9yLmMKaW5kZXggMmRkNjNhMjYxYjAwLi5mY2FlOTNh
OTc2N2UgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZ3B1X2Vycm9yLmMK
KysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9ncHVfZXJyb3IuYwpAQCAtNTM0LDEwICs1
MzQsNiBAQCBzdGF0aWMgdm9pZCBlcnJvcl9wcmludF9lbmdpbmUoc3RydWN0IGRybV9pOTE1X2Vy
cm9yX3N0YXRlX2J1ZiAqbSwKIAl9CiAJZXJyX3ByaW50ZihtLCAiICByaW5nLT5oZWFkOiAweCUw
OHhcbiIsIGVlLT5jcHVfcmluZ19oZWFkKTsKIAllcnJfcHJpbnRmKG0sICIgIHJpbmctPnRhaWw6
IDB4JTA4eFxuIiwgZWUtPmNwdV9yaW5nX3RhaWwpOwotCWVycl9wcmludGYobSwgIiAgaGFuZ2No
ZWNrIHRpbWVzdGFtcDogJWRtcyAoJWx1JXMpXG4iLAotCQkgICBqaWZmaWVzX3RvX21zZWNzKGVl
LT5oYW5nY2hlY2tfdGltZXN0YW1wIC0gZXBvY2gpLAotCQkgICBlZS0+aGFuZ2NoZWNrX3RpbWVz
dGFtcCwKLQkJICAgZWUtPmhhbmdjaGVja190aW1lc3RhbXAgPT0gZXBvY2ggPyAiOyBlcG9jaCIg
OiAiIik7CiAJZXJyX3ByaW50ZihtLCAiICBlbmdpbmUgcmVzZXQgY291bnQ6ICV1XG4iLCBlZS0+
cmVzZXRfY291bnQpOwogCiAJZm9yIChuID0gMDsgbiA8IGVlLT5udW1fcG9ydHM7IG4rKykgewpA
QCAtNjc2LDExICs2NzIsOCBAQCBzdGF0aWMgdm9pZCBfX2Vycl9wcmludF90b19zZ2woc3RydWN0
IGRybV9pOTE1X2Vycm9yX3N0YXRlX2J1ZiAqbSwKIAl0cyA9IGt0aW1lX3RvX3RpbWVzcGVjNjQo
ZXJyb3ItPnVwdGltZSk7CiAJZXJyX3ByaW50ZihtLCAiVXB0aW1lOiAlbGxkIHMgJWxkIHVzXG4i
LAogCQkgICAoczY0KXRzLnR2X3NlYywgdHMudHZfbnNlYyAvIE5TRUNfUEVSX1VTRUMpOwotCWVy
cl9wcmludGYobSwgIkVwb2NoOiAlbHUgamlmZmllcyAoJXUgSFopXG4iLCBlcnJvci0+ZXBvY2gs
IEhaKTsKLQllcnJfcHJpbnRmKG0sICJDYXB0dXJlOiAlbHUgamlmZmllczsgJWQgbXMgYWdvLCAl
ZCBtcyBhZnRlciBlcG9jaFxuIiwKLQkJICAgZXJyb3ItPmNhcHR1cmUsCi0JCSAgIGppZmZpZXNf
dG9fbXNlY3MoamlmZmllcyAtIGVycm9yLT5jYXB0dXJlKSwKLQkJICAgamlmZmllc190b19tc2Vj
cyhlcnJvci0+Y2FwdHVyZSAtIGVycm9yLT5lcG9jaCkpOworCWVycl9wcmludGYobSwgIkNhcHR1
cmU6ICVsdSBqaWZmaWVzOyAlZCBtcyBhZ29cbiIsCisJCSAgIGVycm9yLT5jYXB0dXJlLCBqaWZm
aWVzX3RvX21zZWNzKGppZmZpZXMgLSBlcnJvci0+Y2FwdHVyZSkpOwogCiAJZm9yIChlZSA9IGVy
cm9yLT5lbmdpbmU7IGVlOyBlZSA9IGVlLT5uZXh0KQogCQllcnJfcHJpbnRmKG0sICJBY3RpdmUg
cHJvY2VzcyAob24gcmluZyAlcyk6ICVzIFslZF1cbiIsCkBAIC03MzYsNyArNzI5LDcgQEAgc3Rh
dGljIHZvaWQgX19lcnJfcHJpbnRfdG9fc2dsKHN0cnVjdCBkcm1faTkxNV9lcnJvcl9zdGF0ZV9i
dWYgKm0sCiAJCWVycl9wcmludGYobSwgIkVSUl9JTlQ6IDB4JTA4eFxuIiwgZXJyb3ItPmVycl9p
bnQpOwogCiAJZm9yIChlZSA9IGVycm9yLT5lbmdpbmU7IGVlOyBlZSA9IGVlLT5uZXh0KQotCQll
cnJvcl9wcmludF9lbmdpbmUobSwgZWUsIGVycm9yLT5lcG9jaCk7CisJCWVycm9yX3ByaW50X2Vu
Z2luZShtLCBlZSwgZXJyb3ItPmNhcHR1cmUpOwogCiAJZm9yIChlZSA9IGVycm9yLT5lbmdpbmU7
IGVlOyBlZSA9IGVlLT5uZXh0KSB7CiAJCWNvbnN0IHN0cnVjdCBkcm1faTkxNV9lcnJvcl9vYmpl
Y3QgKm9iajsKQEAgLTc2NCw3ICs3NTcsNyBAQCBzdGF0aWMgdm9pZCBfX2Vycl9wcmludF90b19z
Z2woc3RydWN0IGRybV9pOTE1X2Vycm9yX3N0YXRlX2J1ZiAqbSwKIAkJCWZvciAoaiA9IDA7IGog
PCBlZS0+bnVtX3JlcXVlc3RzOyBqKyspCiAJCQkJZXJyb3JfcHJpbnRfcmVxdWVzdChtLCAiICIs
CiAJCQkJCQkgICAgJmVlLT5yZXF1ZXN0c1tqXSwKLQkJCQkJCSAgICBlcnJvci0+ZXBvY2gpOwor
CQkJCQkJICAgIGVycm9yLT5jYXB0dXJlKTsKIAkJfQogCiAJCXByaW50X2Vycm9yX29iaihtLCBl
ZS0+ZW5naW5lLCAicmluZ2J1ZmZlciIsIGVlLT5yaW5nYnVmZmVyKTsKQEAgLTExMzcsOCArMTEz
MCw2IEBAIHN0YXRpYyB2b2lkIGVycm9yX3JlY29yZF9lbmdpbmVfcmVnaXN0ZXJzKHN0cnVjdCBp
OTE1X2dwdV9zdGF0ZSAqZXJyb3IsCiAJfQogCiAJZWUtPmlkbGUgPSBpbnRlbF9lbmdpbmVfaXNf
aWRsZShlbmdpbmUpOwotCWlmICghZWUtPmlkbGUpCi0JCWVlLT5oYW5nY2hlY2tfdGltZXN0YW1w
ID0gZW5naW5lLT5oYW5nY2hlY2suYWN0aW9uX3RpbWVzdGFtcDsKIAllZS0+cmVzZXRfY291bnQg
PSBpOTE1X3Jlc2V0X2VuZ2luZV9jb3VudCgmZGV2X3ByaXYtPmdwdV9lcnJvciwKIAkJCQkJCSAg
ZW5naW5lKTsKIApAQCAtMTY0OCwyMCArMTYzOSw2IEBAIHN0YXRpYyB2b2lkIGNhcHR1cmVfcGFy
YW1zKHN0cnVjdCBpOTE1X2dwdV9zdGF0ZSAqZXJyb3IpCiAJaTkxNV9wYXJhbXNfY29weSgmZXJy
b3ItPnBhcmFtcywgJmk5MTVfbW9kcGFyYW1zKTsKIH0KIAotc3RhdGljIHVuc2lnbmVkIGxvbmcg
Y2FwdHVyZV9maW5kX2Vwb2NoKGNvbnN0IHN0cnVjdCBpOTE1X2dwdV9zdGF0ZSAqZXJyb3IpCi17
Ci0JY29uc3Qgc3RydWN0IGRybV9pOTE1X2Vycm9yX2VuZ2luZSAqZWU7Ci0JdW5zaWduZWQgbG9u
ZyBlcG9jaCA9IGVycm9yLT5jYXB0dXJlOwotCi0JZm9yIChlZSA9IGVycm9yLT5lbmdpbmU7IGVl
OyBlZSA9IGVlLT5uZXh0KSB7Ci0JCWlmIChlZS0+aGFuZ2NoZWNrX3RpbWVzdGFtcCAmJgotCQkg
ICAgdGltZV9iZWZvcmUoZWUtPmhhbmdjaGVja190aW1lc3RhbXAsIGVwb2NoKSkKLQkJCWVwb2No
ID0gZWUtPmhhbmdjaGVja190aW1lc3RhbXA7Ci0JfQotCi0JcmV0dXJuIGVwb2NoOwotfQotCiBz
dGF0aWMgdm9pZCBjYXB0dXJlX2ZpbmlzaChzdHJ1Y3QgaTkxNV9ncHVfc3RhdGUgKmVycm9yKQog
ewogCXN0cnVjdCBpOTE1X2dndHQgKmdndHQgPSAmZXJyb3ItPmk5MTUtPmdndHQ7CkBAIC0xNzEz
LDggKzE2OTAsNiBAQCBpOTE1X2NhcHR1cmVfZ3B1X3N0YXRlKHN0cnVjdCBkcm1faTkxNV9wcml2
YXRlICppOTE1KQogCWVycm9yLT5vdmVybGF5ID0gaW50ZWxfb3ZlcmxheV9jYXB0dXJlX2Vycm9y
X3N0YXRlKGk5MTUpOwogCWVycm9yLT5kaXNwbGF5ID0gaW50ZWxfZGlzcGxheV9jYXB0dXJlX2Vy
cm9yX3N0YXRlKGk5MTUpOwogCi0JZXJyb3ItPmVwb2NoID0gY2FwdHVyZV9maW5kX2Vwb2NoKGVy
cm9yKTsKLQogCWNhcHR1cmVfZmluaXNoKGVycm9yKTsKIAljb21wcmVzc19maW5pKCZjb21wcmVz
cyk7CiAKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZ3B1X2Vycm9yLmgg
Yi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2dwdV9lcnJvci5oCmluZGV4IGRmOWY1Nzc2NjYy
Ni4uMGVkMDYxZWUzMzc4IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2dw
dV9lcnJvci5oCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZ3B1X2Vycm9yLmgKQEAg
LTM0LDcgKzM0LDYgQEAgc3RydWN0IGk5MTVfZ3B1X3N0YXRlIHsKIAlrdGltZV90IGJvb3R0aW1l
OwogCWt0aW1lX3QgdXB0aW1lOwogCXVuc2lnbmVkIGxvbmcgY2FwdHVyZTsKLQl1bnNpZ25lZCBs
b25nIGVwb2NoOwogCiAJc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5MTU7CiAKQEAgLTg1LDcg
Kzg0LDYgQEAgc3RydWN0IGk5MTVfZ3B1X3N0YXRlIHsKIAogCQkvKiBTb2Z0d2FyZSB0cmFja2Vk
IHN0YXRlICovCiAJCWJvb2wgaWRsZTsKLQkJdW5zaWduZWQgbG9uZyBoYW5nY2hlY2tfdGltZXN0
YW1wOwogCQlpbnQgbnVtX3JlcXVlc3RzOwogCQl1MzIgcmVzZXRfY291bnQ7CiAKZGlmZiAtLWdp
dCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfcGFyYW1zLmMgYi9kcml2ZXJzL2dwdS9kcm0v
aTkxNS9pOTE1X3BhcmFtcy5jCmluZGV4IDI5NjQ1MmY5ZWZlNC4uZjQ4YjI0OTBlYTQzIDEwMDY0
NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3BhcmFtcy5jCisrKyBiL2RyaXZlcnMv
Z3B1L2RybS9pOTE1L2k5MTVfcGFyYW1zLmMKQEAgLTc4LDkgKzc4LDkgQEAgaTkxNV9wYXJhbV9u
YW1lZChlcnJvcl9jYXB0dXJlLCBib29sLCAwNjAwLAogI2VuZGlmCiAKIGk5MTVfcGFyYW1fbmFt
ZWRfdW5zYWZlKGVuYWJsZV9oYW5nY2hlY2ssIGJvb2wsIDA2MDAsCi0JIlBlcmlvZGljYWxseSBj
aGVjayBHUFUgYWN0aXZpdHkgZm9yIGRldGVjdGluZyBoYW5ncy4gIgotCSJXQVJOSU5HOiBEaXNh
YmxpbmcgdGhpcyBjYW4gY2F1c2Ugc3lzdGVtIHdpZGUgaGFuZ3MuICIKLQkiKGRlZmF1bHQ6IHRy
dWUpIik7CisgICAgICAgIlBlcmlvZGljYWxseSBjaGVjayBHUFUgYWN0aXZpdHkgZm9yIGRldGVj
dGluZyBoYW5ncy4gIgorICAgICAgICJXQVJOSU5HOiBEaXNhYmxpbmcgdGhpcyBjYW4gY2F1c2Ug
c3lzdGVtIHdpZGUgaGFuZ3MuICIKKyAgICAgICAiKGRlZmF1bHQ6IHRydWUpIik7CiAKIGk5MTVf
cGFyYW1fbmFtZWRfdW5zYWZlKGVuYWJsZV9wc3IsIGludCwgMDYwMCwKIAkiRW5hYmxlIFBTUiAi
CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3ByaW9saXN0X3R5cGVzLmgg
Yi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3ByaW9saXN0X3R5cGVzLmgKaW5kZXggYWU4YmIz
Y2I2MjdlLi43MzJhYWQxNDg4ODEgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5
MTVfcHJpb2xpc3RfdHlwZXMuaAorKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3ByaW9s
aXN0X3R5cGVzLmgKQEAgLTE2LDYgKzE2LDEyIEBAIGVudW0gewogCUk5MTVfUFJJT1JJVFlfTUlO
ID0gSTkxNV9DT05URVhUX01JTl9VU0VSX1BSSU9SSVRZIC0gMSwKIAlJOTE1X1BSSU9SSVRZX05P
Uk1BTCA9IEk5MTVfQ09OVEVYVF9ERUZBVUxUX1BSSU9SSVRZLAogCUk5MTVfUFJJT1JJVFlfTUFY
ID0gSTkxNV9DT05URVhUX01BWF9VU0VSX1BSSU9SSVRZICsgMSwKKworCS8qIEEgcHJlZW1wdGl2
ZSBwdWxzZSB1c2VkIHRvIG1vbml0b3IgdGhlIGhlYWx0aCBvZiBlYWNoIGVuZ2luZSAqLworCUk5
MTVfUFJJT1JJVFlfSEVBUlRCRUFULAorCisJLyogSW50ZXJhY3RpdmUgd29ya2xvYWQsIHNjaGVk
dWxlZCBmb3IgaW1tZWRpYXRlIHBhZ2VmbGlwcGluZyAqLworCUk5MTVfUFJJT1JJVFlfRElTUExB
WSwKIH07CiAKICNkZWZpbmUgSTkxNV9VU0VSX1BSSU9SSVRZX1NISUZUIDIKLS0gCjIuMjMuMAoK
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KSW50ZWwtZ2Z4
IG1haWxpbmcgbGlzdApJbnRlbC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlz
dHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vaW50ZWwtZ2Z4

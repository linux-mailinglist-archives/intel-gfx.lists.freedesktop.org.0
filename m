Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 58381105772
	for <lists+intel-gfx@lfdr.de>; Thu, 21 Nov 2019 17:49:30 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 166316F4AC;
	Thu, 21 Nov 2019 16:49:28 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from fireflyinternet.com (mail.fireflyinternet.com [109.228.58.192])
 by gabe.freedesktop.org (Postfix) with ESMTPS id E6B626F4A7
 for <intel-gfx@lists.freedesktop.org>; Thu, 21 Nov 2019 16:49:26 +0000 (UTC)
X-Default-Received-SPF: pass (skip=forwardok (res=PASS))
 x-ip-name=78.156.65.138; 
Received: from localhost (unverified [78.156.65.138]) 
 by fireflyinternet.com (Firefly Internet (M1)) with ESMTP (TLS) id
 19288772-1500050 for multiple; Thu, 21 Nov 2019 16:49:26 +0000
MIME-Version: 1.0
From: Chris Wilson <chris@chris-wilson.co.uk>
User-Agent: alot/0.6
To: Tvrtko Ursulin <tvrtko.ursulin@linux.intel.com>,
 intel-gfx@lists.freedesktop.org
References: <20191121135131.338984-1-chris@chris-wilson.co.uk>
 <12aea9ee-d485-e445-b39a-4e2b41b0a19c@linux.intel.com>
In-Reply-To: <12aea9ee-d485-e445-b39a-4e2b41b0a19c@linux.intel.com>
Message-ID: <157435496206.2524.9976786049320890178@skylake-alporthouse-com>
Date: Thu, 21 Nov 2019 16:49:22 +0000
Subject: Re: [Intel-gfx] [PATCH 1/5] drm/i915: Use a ctor for
 TYPESAFE_BY_RCU i915_request
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

UXVvdGluZyBUdnJ0a28gVXJzdWxpbiAoMjAxOS0xMS0yMSAxNjozMDowOCkKPiAKPiBPbiAyMS8x
MS8yMDE5IDEzOjUxLCBDaHJpcyBXaWxzb24gd3JvdGU6Cj4gPiBBcyB3ZSBzdGFydCBwZWVraW5n
IGludG8gcmVxdWVzdHMgZm9yIGxvbmdlciBhbmQgbG9uZ2VyLCBlLmcuCj4gPiBpbmNvcnBvcmF0
aW5nIHVzZSBvZiBzcGlubG9ja3Mgd2hlbiBvbmx5IHByb3RlY3RlZCBieSBhbgo+ID4gcmN1X3Jl
YWRfbG9jaygpLCB3ZSBuZWVkIHRvIGJlIGNhcmVmdWwgaW4gaG93IHdlIHJlc2V0IHRoZSByZXF1
ZXN0IHdoZW4KPiA+IHJlY3ljbGluZyBhbmQgbmVlZCB0byBwcmVzZXJ2ZSBhbnkgYmFycmllcnMg
dGhhdCBtYXkgc3RpbGwgYmUgaW4gdXNlIGFzCj4gPiB0aGUgcmVxdWVzdCBpcyByZXNldCBmb3Ig
cmV1c2UuCj4gCj4gSG93IGRvIHlvdSB0ZWxsIHdoaWNoIG1lbWJlcnMgc2hvdWxkIGJlIGxlZnQg
dW50b3VjaGVkIG9uIHJlcXVlc3RfY3JlYXRlPwoKQ2hpY2tlbiBlbnRyYWlscy4KCkFzIEkgcmVt
ZW1iZXIgaXQsIHdlIGJhc2ljYWxseSBoYXZlIHRvIGVuc3VyZSB0aGF0IGFueXRoaW5nIHN0YXlz
IGludGFjdAood2hlcmUgaW50YWN0IGNhbiBqdXN0IG1lYW4gd2UgY29udGludWUgdG8gZ2V0IGV4
cGVjdGVkIHJlc3VsdHMsIG5vdApuZWNlc3NhcmlseSBmb3IgdGhlIHNhbWUgcmVhc29uKSB1bnRp
bCBib3RoIHBhcnRpZXMgaGF2ZSBwYXNzZWQgYSBzdHJvbmcKbWVtb3J5IGJhcnJpZXIuIFR5cGlj
YWxseSB0aGF0IGlzIGEgc3VjY2Vzc2Z1bCBrcmVmX2dldCBmb3IgdGhlIHJlYWRlciwKYW5kIGlu
IHRoZSByZXF1ZXN0IGNyZWF0ZSB3ZSBoYXZlIGFuIG1iKCkgaW4gdGhlIG1pZGRsZSBvZiByY3Vz
dGF0ZS4KClRoZSBzaXR1YXRpb25zIHRoYXQgaGF2ZSBiZWVuIHBvcHBpbmcgdXAgbW9zdCByZWNl
bnRseSBhcmUgdXNpbmcKcnEtPmxvY2sgYWNyb3NzIHRoZSByZWN5Y2xpbmcuIFRoZSByZWFkZXIg
d291bGQgYWNxdWlyZSB0aGUgc3BpbmxvY2ssCmJ1dCBpOTE1X3JlcXVlc3RfY3JlYXRlIHdvdWxk
IHRoZW4gY2FsbCBzcGlubG9ja19pbml0IGFuZCBmcm9tIHRoZXJlIGl0CmdvZXMgZG93bmhpbGwu
Cgo+ID4gU2lnbmVkLW9mZi1ieTogQ2hyaXMgV2lsc29uIDxjaHJpc0BjaHJpcy13aWxzb24uY28u
dWs+Cj4gPiBDYzogVHZydGtvIFVyc3VsaW4gPHR2cnRrby51cnN1bGluQGludGVsLmNvbT4KPiA+
IC0tLQo+ID4gICBkcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3JlcXVlc3QuYyAgIHwgMzcgKysr
KysrKysrKysrKysrKysrLS0tLS0tLS0tCj4gPiAgIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVf
c2NoZWR1bGVyLmMgfCAgNiArKysrKwo+ID4gICBkcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3Nj
aGVkdWxlci5oIHwgIDEgKwo+ID4gICBkcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3N3X2ZlbmNl
LmMgIHwgIDggKysrKysrCj4gPiAgIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfc3dfZmVuY2Uu
aCAgfCAgMiArKwo+ID4gICA1IGZpbGVzIGNoYW5nZWQsIDQyIGluc2VydGlvbnMoKyksIDEyIGRl
bGV0aW9ucygtKQo+ID4gCj4gPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkx
NV9yZXF1ZXN0LmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3JlcXVlc3QuYwo+ID4gaW5k
ZXggMDAwMTFmOTUzM2I2Li41ZTViZDdkNTcxMzQgMTAwNjQ0Cj4gPiAtLS0gYS9kcml2ZXJzL2dw
dS9kcm0vaTkxNS9pOTE1X3JlcXVlc3QuYwo+ID4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUv
aTkxNV9yZXF1ZXN0LmMKPiA+IEBAIC0yMTQsNyArMjE0LDcgQEAgc3RhdGljIHZvaWQgcmVtb3Zl
X2Zyb21fZW5naW5lKHN0cnVjdCBpOTE1X3JlcXVlc3QgKnJxKQo+ID4gICAgICAgICAgICAgICBz
cGluX2xvY2soJmVuZ2luZS0+YWN0aXZlLmxvY2spOwo+ID4gICAgICAgICAgICAgICBsb2NrZWQg
PSBlbmdpbmU7Cj4gPiAgICAgICB9Cj4gPiAtICAgICBsaXN0X2RlbCgmcnEtPnNjaGVkLmxpbmsp
Owo+ID4gKyAgICAgbGlzdF9kZWxfaW5pdCgmcnEtPnNjaGVkLmxpbmspOwo+ID4gICAgICAgc3Bp
bl91bmxvY2tfaXJxKCZsb2NrZWQtPmFjdGl2ZS5sb2NrKTsKPiA+ICAgfQo+ID4gICAKPiA+IEBA
IC01ODYsNiArNTg2LDE5IEBAIHJlcXVlc3RfYWxsb2Nfc2xvdyhzdHJ1Y3QgaW50ZWxfdGltZWxp
bmUgKnRsLCBnZnBfdCBnZnApCj4gPiAgICAgICByZXR1cm4ga21lbV9jYWNoZV9hbGxvYyhnbG9i
YWwuc2xhYl9yZXF1ZXN0cywgZ2ZwKTsKPiA+ICAgfQo+ID4gICAKPiA+ICtzdGF0aWMgdm9pZCBf
X2k5MTVfcmVxdWVzdF9jdG9yKHZvaWQgKmFyZykKPiA+ICt7Cj4gPiArICAgICBzdHJ1Y3QgaTkx
NV9yZXF1ZXN0ICpycSA9IGFyZzsKPiA+ICsKPiA+ICsgICAgIHNwaW5fbG9ja19pbml0KCZycS0+
bG9jayk7Cj4gPiArICAgICBpOTE1X3NjaGVkX25vZGVfaW5pdCgmcnEtPnNjaGVkKTsKPiA+ICsg
ICAgIGk5MTVfc3dfZmVuY2VfaW5pdCgmcnEtPnN1Ym1pdCwgc3VibWl0X25vdGlmeSk7Cj4gPiAr
ICAgICBpOTE1X3N3X2ZlbmNlX2luaXQoJnJxLT5zZW1hcGhvcmUsIHNlbWFwaG9yZV9ub3RpZnkp
Owo+ID4gKwo+ID4gKyAgICAgSU5JVF9MSVNUX0hFQUQoJnJxLT5leGVjdXRlX2NiKTsKPiA+ICsg
ICAgIHJxLT5maWxlX3ByaXYgPSBOVUxMOwo+ID4gK30KPiA+ICsKPiA+ICAgc3RydWN0IGk5MTVf
cmVxdWVzdCAqCj4gPiAgIF9faTkxNV9yZXF1ZXN0X2NyZWF0ZShzdHJ1Y3QgaW50ZWxfY29udGV4
dCAqY2UsIGdmcF90IGdmcCkKPiA+ICAgewo+ID4gQEAgLTY1NSwyNCArNjY4LDIwIEBAIF9faTkx
NV9yZXF1ZXN0X2NyZWF0ZShzdHJ1Y3QgaW50ZWxfY29udGV4dCAqY2UsIGdmcF90IGdmcCkKPiA+
ICAgCj4gPiAgICAgICBycS0+cmN1c3RhdGUgPSBnZXRfc3RhdGVfc3luY2hyb25pemVfcmN1KCk7
IC8qIGFjdHMgYXMgc21wX21iKCkgKi8KPiA+ICAgCj4gPiAtICAgICBzcGluX2xvY2tfaW5pdCgm
cnEtPmxvY2spOwo+ID4gICAgICAgZG1hX2ZlbmNlX2luaXQoJnJxLT5mZW5jZSwgJmk5MTVfZmVu
Y2Vfb3BzLCAmcnEtPmxvY2ssCj4gPiAgICAgICAgICAgICAgICAgICAgICB0bC0+ZmVuY2VfY29u
dGV4dCwgc2Vxbm8pOwo+ID4gICAKPiA+ICAgICAgIC8qIFdlIGJ1bXAgdGhlIHJlZiBmb3IgdGhl
IGZlbmNlIGNoYWluICovCj4gPiAtICAgICBpOTE1X3N3X2ZlbmNlX2luaXQoJmk5MTVfcmVxdWVz
dF9nZXQocnEpLT5zdWJtaXQsIHN1Ym1pdF9ub3RpZnkpOwo+ID4gLSAgICAgaTkxNV9zd19mZW5j
ZV9pbml0KCZpOTE1X3JlcXVlc3RfZ2V0KHJxKS0+c2VtYXBob3JlLCBzZW1hcGhvcmVfbm90aWZ5
KTsKPiA+ICsgICAgIGk5MTVfc3dfZmVuY2VfcmVpbml0KCZpOTE1X3JlcXVlc3RfZ2V0KHJxKS0+
c3VibWl0KTsKPiA+ICsgICAgIGk5MTVfc3dfZmVuY2VfcmVpbml0KCZpOTE1X3JlcXVlc3RfZ2V0
KHJxKS0+c2VtYXBob3JlKTsKPiA+ICAgCj4gPiAtICAgICBpOTE1X3NjaGVkX25vZGVfaW5pdCgm
cnEtPnNjaGVkKTsKPiA+ICsgICAgIGk5MTVfc2NoZWRfbm9kZV9yZWluaXQoJnJxLT5zY2hlZCk7
Cj4gPiAgIAo+ID4gICAgICAgLyogTm8gemFsbG9jLCBtdXN0IGNsZWFyIHdoYXQgd2UgbmVlZCBi
eSBoYW5kICovCj4gPiAtICAgICBycS0+ZmlsZV9wcml2ID0gTlVMTDsKPiA+ICAgICAgIHJxLT5i
YXRjaCA9IE5VTEw7Cj4gPiAgICAgICBycS0+Y2FwdHVyZV9saXN0ID0gTlVMTDsKPiA+ICAgICAg
IHJxLT5mbGFncyA9IDA7Cj4gPiAgIAo+ID4gLSAgICAgSU5JVF9MSVNUX0hFQUQoJnJxLT5leGVj
dXRlX2NiKTsKPiAKPiBGb3IgaW5zdGFuY2UgdGhpcyBtZW1iZXIgaXMgbm93IHVudG91Y2hlZC4g
SG93IGRvIHdlIGFzc2VydCBpdCBpcyBpbiB0aGUgCj4gY29ycmVjdCBzdGF0ZSBiZWZvcmUgaXQg
Z2V0cyB1c2VkIHdpdGggdGhlIG5ldyByZXF1ZXN0PyBXaGF0IGlmIGl0IGhhcyAKPiBkYW5nbGlu
ZyBzdGF0ZT8KCldlIGFsd2F5cyBtYWludGFpbiBpdCBpbiB0aGUgY29ycmVjdCBzdGF0ZS4gV2Ug
Y2FuIGFzc2VydCBpdCB0aGF0IGlzCmVtcHR5IGhlcmUuCgo+IFNhbWUgcXVlc3Rpb24gZm9yIHJx
LT5maWxlX3ByaXY/IFdlIGhhdmUgdG8gYmUgc3VyZSBpdCBpcyBub3QgcmVhZCBhbmQgCj4gYWN0
ZWQgdXBvbiBiZWZvcmUgaXQgaXMgc2V0LCByaWdodD8KCkdFTV9CVUdfT04ocnEtPmZpbGVfcHJp
diA9PSBOVUxMKTsKCkkgc2VlIGEgcGF0dGVybiBmb3JtaW5nLgotQ2hyaXMKX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KSW50ZWwtZ2Z4IG1haWxpbmcgbGlz
dApJbnRlbC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0
b3Aub3JnL21haWxtYW4vbGlzdGluZm8vaW50ZWwtZ2Z4

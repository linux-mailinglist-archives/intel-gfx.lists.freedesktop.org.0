Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id CEAE3B40FB
	for <lists+intel-gfx@lfdr.de>; Mon, 16 Sep 2019 21:17:57 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 2F0A96EA48;
	Mon, 16 Sep 2019 19:17:56 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga14.intel.com (mga14.intel.com [192.55.52.115])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 0213C6EA48
 for <intel-gfx@lists.freedesktop.org>; Mon, 16 Sep 2019 19:17:54 +0000 (UTC)
X-Amp-Result: UNKNOWN
X-Amp-Original-Verdict: FILE UNKNOWN
X-Amp-File-Uploaded: False
Received: from orsmga005.jf.intel.com ([10.7.209.41])
 by fmsmga103.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 16 Sep 2019 12:17:54 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.64,513,1559545200"; d="scan'208";a="361621007"
Received: from orsosgc001.ra.intel.com (HELO orsosgc001.amr.corp.intel.com)
 ([10.23.184.150])
 by orsmga005.jf.intel.com with ESMTP; 16 Sep 2019 12:17:54 -0700
Date: Mon, 16 Sep 2019 12:17:54 -0700
From: Umesh Nerlige Ramappa <umesh.nerlige.ramappa@intel.com>
To: Lionel Landwerlin <lionel.g.landwerlin@intel.com>
Message-ID: <20190916191754.GA72596@orsosgc001.amr.corp.intel.com>
References: <20190913230620.15906-1-umesh.nerlige.ramappa@intel.com>
 <20190913230620.15906-3-umesh.nerlige.ramappa@intel.com>
 <814defdf-c6d6-c009-f454-67b2a09b32a1@intel.com>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <814defdf-c6d6-c009-f454-67b2a09b32a1@intel.com>
User-Agent: Mutt/1.12.0 (2019-05-25)
Subject: Re: [Intel-gfx] [PATCH 2/3] drm/i915/perf: Add support for report
 sizes that are not power of 2
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: intel-gfx@lists.freedesktop.org
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

T24gU3VuLCBTZXAgMTUsIDIwMTkgYXQgMDI6MjQ6NDFQTSArMDMwMCwgTGlvbmVsIExhbmR3ZXJs
aW4gd3JvdGU6Cj5PbiAxNC8wOS8yMDE5IDAyOjA2LCBVbWVzaCBOZXJsaWdlIFJhbWFwcGEgd3Jv
dGU6Cj4+T0EgcGVyZiB1bml0IHN1cHBvcnRzIG5vbi1wb3dlciBvZiAyIHJlcG9ydCBzaXplcy4g
RW5hYmxlIHN1cHBvcnQgZm9yCj4+dGhlc2Ugc2l6ZXMgaW4gdGhlIGRyaXZlci4KPj4KPj5TaWdu
ZWQtb2ZmLWJ5OiBVbWVzaCBOZXJsaWdlIFJhbWFwcGEgPHVtZXNoLm5lcmxpZ2UucmFtYXBwYUBp
bnRlbC5jb20+Cj4+LS0tCj4+ICBkcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3BlcmYuYyB8IDU5
ICsrKysrKysrKysrKy0tLS0tLS0tLS0tLS0tLS0tLS0tCj4+ICAxIGZpbGUgY2hhbmdlZCwgMjEg
aW5zZXJ0aW9ucygrKSwgMzggZGVsZXRpb25zKC0pCj4+Cj4+ZGlmZiAtLWdpdCBhL2RyaXZlcnMv
Z3B1L2RybS9pOTE1L2k5MTVfcGVyZi5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9wZXJm
LmMKPj5pbmRleCA1MGI2ZDE1NGZkNDYuLjQ4MmZjYTNkYTdkZSAxMDA2NDQKPj4tLS0gYS9kcml2
ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3BlcmYuYwo+PisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1
L2k5MTVfcGVyZi5jCj4+QEAgLTQ1MCw3ICs0NTAsNyBAQCBzdGF0aWMgYm9vbCBvYV9idWZmZXJf
Y2hlY2tfdW5sb2NrZWQoc3RydWN0IGk5MTVfcGVyZl9zdHJlYW0gKnN0cmVhbSkKPj4gIAl1MzIg
Z3R0X29mZnNldCA9IGk5MTVfZ2d0dF9vZmZzZXQoc3RyZWFtLT5vYV9idWZmZXIudm1hKTsKPj4g
IAlpbnQgcmVwb3J0X3NpemUgPSBzdHJlYW0tPm9hX2J1ZmZlci5mb3JtYXRfc2l6ZTsKPj4gIAl1
bnNpZ25lZCBsb25nIGZsYWdzOwo+Pi0JdTMyIGh3X3RhaWw7Cj4+Kwl1MzIgaHdfdGFpbCwgYWdp
bmdfdGFpbDsKPj4gIAl1NjQgbm93Owo+PiAgCS8qIFdlIGhhdmUgdG8gY29uc2lkZXIgdGhlICh1
bmxpa2VseSkgcG9zc2liaWxpdHkgdGhhdCByZWFkKCkgZXJyb3JzCj4+QEAgLTQ1OSwxNiArNDU5
LDE3IEBAIHN0YXRpYyBib29sIG9hX2J1ZmZlcl9jaGVja191bmxvY2tlZChzdHJ1Y3QgaTkxNV9w
ZXJmX3N0cmVhbSAqc3RyZWFtKQo+PiAgCSAqLwo+PiAgCXNwaW5fbG9ja19pcnFzYXZlKCZzdHJl
YW0tPm9hX2J1ZmZlci5wdHJfbG9jaywgZmxhZ3MpOwo+Pi0JaHdfdGFpbCA9IGRldl9wcml2LT5w
ZXJmLm9wcy5vYV9od190YWlsX3JlYWQoc3RyZWFtKTsKPj4rCWh3X3RhaWwgPSBkZXZfcHJpdi0+
cGVyZi5vcHMub2FfaHdfdGFpbF9yZWFkKHN0cmVhbSkgLSBndHRfb2Zmc2V0Owo+PisJYWdpbmdf
dGFpbCA9IHN0cmVhbS0+b2FfYnVmZmVyLmFnaW5nX3RhaWwgLSBndHRfb2Zmc2V0Owo+PiAgCS8q
IFRoZSB0YWlsIHBvaW50ZXIgaW5jcmVhc2VzIGluIDY0IGJ5dGUgaW5jcmVtZW50cywKPj4gIAkg
KiBub3QgaW4gcmVwb3J0X3NpemUgc3RlcHMuLi4KPj4gIAkgKi8KPj4tCWh3X3RhaWwgJj0gfihy
ZXBvcnRfc2l6ZSAtIDEpOwo+PisJaHdfdGFpbCA9IE9BX1RBS0VOKGh3X3RhaWwsIChPQV9UQUtF
Tihod190YWlsLCBhZ2luZ190YWlsKSAlIHJlcG9ydF9zaXplKSk7Cj4KPgo+SSdtIHN0cnVnZ2xp
bmcgdG8gcGFyc2UgdGhpcyBsaW5lIGFib3ZlIGFuZCBJJ20gbm90IDEwMCUgc3VyZSBpdCdzIGNv
cnJlY3QuCj4KPkNvdWxkIGFkZCBhIGNvbW1lbnQgdG8gZXhwbGFpbiB3aGF0IGlzIGdvaW5nIG9u
PwoKVGhlIGFnaW5nIHRhaWwgaXMgYWx3YXlzIHBvaW50aW5nIHRvIHRoZSBib3VuZGFyeSBvZiBh
IHJlcG9ydCB3aGVyZWFzCnRoZSBod190YWlsIGlzIGFkdmFuY2luZyBpbiA2NCBieXRlIGluY3Jl
bWVudHMuCiAKVGhlIGlubmVybW9zdCBPQV9UQUtFTiBpcyByZXR1cm5pbmcgdGhlIG51bWJlciBv
ZiBieXRlcyBiZXR3ZWVuIHRoZQpod190YWlsIGFuZCB0aGUgYWdpbmdfdGFpbC4gVGhlIG1vZHVs
byBpcyBnZXR0aW5nIHRoZSBzaXplIG9mIHRoZQpwYXJ0aWFsIHJlcG9ydCAoaWYgYW55KS4KClRo
ZSBvdXRlcm1vc3QgT0FfVEFLRU4gaXMgc3VidHJhY3RpbmcgdGhlIHNpemUgb2YgcGFydGlhbCBy
ZXBvcnQgZnJvbQp0aGUgaHdfdGFpbCB0byBnZXQgYSBod190YWlsIHRoYXQgcG9pbnRzIHRvIHRo
ZSBib3VuZGFyeSBvZiB0aGUgbGFzdApmdWxsIHJlcG9ydC4KClRoZSB2YWx1ZSBvZiBod190YWls
IHdvdWxkIGJlIHRoZSBzYW1lIGFzIGZyb20gdGhlIGRlbGV0ZWQgbGluZSBvZiBjb2RlCmFib3Zl
IHRoaXMgbGluZS4KClRoYW5rcywKVW1lc2gKCj4KPgo+VGhhbmtzLAo+Cj4KPi1MaW9uZWwKPgo+
Cj4+ICAJbm93ID0ga3RpbWVfZ2V0X21vbm9fZmFzdF9ucygpOwo+Pi0JaWYgKGh3X3RhaWwgPT0g
c3RyZWFtLT5vYV9idWZmZXIuYWdpbmdfdGFpbCkgewo+PisJaWYgKGh3X3RhaWwgPT0gYWdpbmdf
dGFpbCkgewo+PiAgCQkvKiBJZiB0aGUgSFcgdGFpbCBoYXNuJ3QgbW92ZSBzaW5jZSB0aGUgbGFz
dCBjaGVjayBhbmQgdGhlIEhXCj4+ICAJCSAqIHRhaWwgaGFzIGJlZW4gYWdpbmcgZm9yIGxvbmcg
ZW5vdWdoLCBkZWNsYXJlIGl0IHRoZSBuZXcKPj4gIAkJICogdGFpbC4KPj5AQCAtNDg2LDggKzQ4
Nyw2IEBAIHN0YXRpYyBib29sIG9hX2J1ZmZlcl9jaGVja191bmxvY2tlZChzdHJ1Y3QgaTkxNV9w
ZXJmX3N0cmVhbSAqc3RyZWFtKQo+PiAgCQkgKiBhIHJlYWQoKSBpbiBwcm9ncmVzcy4KPj4gIAkJ
ICovCj4+ICAJCWhlYWQgPSBzdHJlYW0tPm9hX2J1ZmZlci5oZWFkIC0gZ3R0X29mZnNldDsKPj4t
Cj4+LQkJaHdfdGFpbCAtPSBndHRfb2Zmc2V0Owo+PiAgCQl0YWlsID0gaHdfdGFpbDsKPj4gIAkJ
LyogV2FsayB0aGUgc3RyZWFtIGJhY2t3YXJkIHVudGlsIHdlIGZpbmQgYXQgbGVhc3QgMiByZXBv
cnRzCj4+QEAgLTYxMyw3ICs2MTIsMTggQEAgc3RhdGljIGludCBhcHBlbmRfb2Ffc2FtcGxlKHN0
cnVjdCBpOTE1X3BlcmZfc3RyZWFtICpzdHJlYW0sCj4+ICAJYnVmICs9IHNpemVvZihoZWFkZXIp
Owo+PiAgCWlmIChzYW1wbGVfZmxhZ3MgJiBTQU1QTEVfT0FfUkVQT1JUKSB7Cj4+LQkJaWYgKGNv
cHlfdG9fdXNlcihidWYsIHJlcG9ydCwgcmVwb3J0X3NpemUpKQo+PisJCXU4ICpvYV9idWZfZW5k
ID0gc3RyZWFtLT5vYV9idWZmZXIudmFkZHIgKyBPQV9CVUZGRVJfU0laRTsKPj4rCQlpbnQgcmVw
b3J0X3NpemVfcGFydGlhbCA9IG9hX2J1Zl9lbmQgLSByZXBvcnQ7Cj4+Kwo+PisJCWlmIChyZXBv
cnRfc2l6ZV9wYXJ0aWFsIDwgcmVwb3J0X3NpemUpIHsKPj4rCQkJaWYgKGNvcHlfdG9fdXNlcihi
dWYsIHJlcG9ydCwgcmVwb3J0X3NpemVfcGFydGlhbCkpCj4+KwkJCQlyZXR1cm4gLUVGQVVMVDsK
Pj4rCQkJYnVmICs9IHJlcG9ydF9zaXplX3BhcnRpYWw7Cj4+Kwo+PisJCQlpZiAoY29weV90b191
c2VyKGJ1Ziwgc3RyZWFtLT5vYV9idWZmZXIudmFkZHIsCj4+KwkJCQkJcmVwb3J0X3NpemUgLSBy
ZXBvcnRfc2l6ZV9wYXJ0aWFsKSkKPj4rCQkJCXJldHVybiAtRUZBVUxUOwo+PisJCX0gZWxzZSBp
ZiAoY29weV90b191c2VyKGJ1ZiwgcmVwb3J0LCByZXBvcnRfc2l6ZSkpCj4+ICAJCQlyZXR1cm4g
LUVGQVVMVDsKPj4gIAl9Cj4+QEAgLTY4Miw4ICs2OTIsOCBAQCBzdGF0aWMgaW50IGdlbjhfYXBw
ZW5kX29hX3JlcG9ydHMoc3RydWN0IGk5MTVfcGVyZl9zdHJlYW0gKnN0cmVhbSwKPj4gIAkgKiBv
bmx5IGJlIGluY3JlbWVudGVkIGJ5IG11bHRpcGxlcyBvZiB0aGUgcmVwb3J0IHNpemUgKG5vdGFi
bHkgYWxzbwo+PiAgCSAqIGFsbCBhIHBvd2VyIG9mIHR3bykuCj4+ICAJICovCj4+LQlpZiAoV0FS
Tl9PTkNFKGhlYWQgPiBPQV9CVUZGRVJfU0laRSB8fCBoZWFkICUgcmVwb3J0X3NpemUgfHwKPj4t
CQkgICAgICB0YWlsID4gT0FfQlVGRkVSX1NJWkUgfHwgdGFpbCAlIHJlcG9ydF9zaXplLAo+PisJ
aWYgKFdBUk5fT05DRShoZWFkID4gT0FfQlVGRkVSX1NJWkUgfHwKPj4rCQkgICAgICB0YWlsID4g
T0FfQlVGRkVSX1NJWkUsCj4+ICAJCSAgICAgICJJbmNvbnNpc3RlbnQgT0EgYnVmZmVyIHBvaW50
ZXJzOiBoZWFkID0gJXUsIHRhaWwgPSAldVxuIiwKPj4gIAkJICAgICAgaGVhZCwgdGFpbCkpCj4+
ICAJCXJldHVybiAtRUlPOwo+PkBAIC02OTcsMjAgKzcwNyw2IEBAIHN0YXRpYyBpbnQgZ2VuOF9h
cHBlbmRfb2FfcmVwb3J0cyhzdHJ1Y3QgaTkxNV9wZXJmX3N0cmVhbSAqc3RyZWFtLAo+PiAgCQl1
MzIgY3R4X2lkOwo+PiAgCQl1MzIgcmVhc29uOwo+Pi0JCS8qCj4+LQkJICogQWxsIHRoZSByZXBv
cnQgc2l6ZXMgZmFjdG9yIG5lYXRseSBpbnRvIHRoZSBidWZmZXIKPj4tCQkgKiBzaXplIHNvIHdl
IG5ldmVyIGV4cGVjdCB0byBzZWUgYSByZXBvcnQgc3BsaXQKPj4tCQkgKiBiZXR3ZWVuIHRoZSBi
ZWdpbm5pbmcgYW5kIGVuZCBvZiB0aGUgYnVmZmVyLgo+Pi0JCSAqCj4+LQkJICogR2l2ZW4gdGhl
IGluaXRpYWwgYWxpZ25tZW50IGNoZWNrIGEgbWlzYWxpZ25tZW50Cj4+LQkJICogaGVyZSB3b3Vs
ZCBpbXBseSBhIGRyaXZlciBidWcgdGhhdCB3b3VsZCByZXN1bHQKPj4tCQkgKiBpbiBhbiBvdmVy
cnVuLgo+Pi0JCSAqLwo+Pi0JCWlmIChXQVJOX09OKChPQV9CVUZGRVJfU0laRSAtIGhlYWQpIDwg
cmVwb3J0X3NpemUpKSB7Cj4+LQkJCURSTV9FUlJPUigiU3B1cmlvdXMgT0EgaGVhZCBwdHI6IG5v
bi1pbnRlZ3JhbCByZXBvcnQgb2Zmc2V0XG4iKTsKPj4tCQkJYnJlYWs7Cj4+LQkJfQo+Pi0KPj4g
IAkJLyoKPj4gIAkJICogVGhlIHJlYXNvbiBmaWVsZCBpbmNsdWRlcyBmbGFncyBpZGVudGlmeWlu
ZyB3aGF0Cj4+ICAJCSAqIHRyaWdnZXJlZCB0aGlzIHNwZWNpZmljIHJlcG9ydCAobW9zdGx5IHRp
bWVyCj4+QEAgLTk1Niw4ICs5NTIsOCBAQCBzdGF0aWMgaW50IGdlbjdfYXBwZW5kX29hX3JlcG9y
dHMoc3RydWN0IGk5MTVfcGVyZl9zdHJlYW0gKnN0cmVhbSwKPj4gIAkgKiBvbmx5IGJlIGluY3Jl
bWVudGVkIGJ5IG11bHRpcGxlcyBvZiB0aGUgcmVwb3J0IHNpemUgKG5vdGFibHkgYWxzbwo+PiAg
CSAqIGFsbCBhIHBvd2VyIG9mIHR3bykuCj4+ICAJICovCj4+LQlpZiAoV0FSTl9PTkNFKGhlYWQg
PiBPQV9CVUZGRVJfU0laRSB8fCBoZWFkICUgcmVwb3J0X3NpemUgfHwKPj4tCQkgICAgICB0YWls
ID4gT0FfQlVGRkVSX1NJWkUgfHwgdGFpbCAlIHJlcG9ydF9zaXplLAo+PisJaWYgKFdBUk5fT05D
RShoZWFkID4gT0FfQlVGRkVSX1NJWkUgfHwKPj4rCQkgICAgICB0YWlsID4gT0FfQlVGRkVSX1NJ
WkUsCj4+ICAJCSAgICAgICJJbmNvbnNpc3RlbnQgT0EgYnVmZmVyIHBvaW50ZXJzOiBoZWFkID0g
JXUsIHRhaWwgPSAldVxuIiwKPj4gIAkJICAgICAgaGVhZCwgdGFpbCkpCj4+ICAJCXJldHVybiAt
RUlPOwo+PkBAIC05NjksMTkgKzk2NSw2IEBAIHN0YXRpYyBpbnQgZ2VuN19hcHBlbmRfb2FfcmVw
b3J0cyhzdHJ1Y3QgaTkxNV9wZXJmX3N0cmVhbSAqc3RyZWFtLAo+PiAgCQl1OCAqcmVwb3J0ID0g
b2FfYnVmX2Jhc2UgKyBoZWFkOwo+PiAgCQl1MzIgKnJlcG9ydDMyID0gKHZvaWQgKilyZXBvcnQ7
Cj4+LQkJLyogQWxsIHRoZSByZXBvcnQgc2l6ZXMgZmFjdG9yIG5lYXRseSBpbnRvIHRoZSBidWZm
ZXIKPj4tCQkgKiBzaXplIHNvIHdlIG5ldmVyIGV4cGVjdCB0byBzZWUgYSByZXBvcnQgc3BsaXQK
Pj4tCQkgKiBiZXR3ZWVuIHRoZSBiZWdpbm5pbmcgYW5kIGVuZCBvZiB0aGUgYnVmZmVyLgo+Pi0J
CSAqCj4+LQkJICogR2l2ZW4gdGhlIGluaXRpYWwgYWxpZ25tZW50IGNoZWNrIGEgbWlzYWxpZ25t
ZW50Cj4+LQkJICogaGVyZSB3b3VsZCBpbXBseSBhIGRyaXZlciBidWcgdGhhdCB3b3VsZCByZXN1
bHQKPj4tCQkgKiBpbiBhbiBvdmVycnVuLgo+Pi0JCSAqLwo+Pi0JCWlmIChXQVJOX09OKChPQV9C
VUZGRVJfU0laRSAtIGhlYWQpIDwgcmVwb3J0X3NpemUpKSB7Cj4+LQkJCURSTV9FUlJPUigiU3B1
cmlvdXMgT0EgaGVhZCBwdHI6IG5vbi1pbnRlZ3JhbCByZXBvcnQgb2Zmc2V0XG4iKTsKPj4tCQkJ
YnJlYWs7Cj4+LQkJfQo+Pi0KPj4gIAkJLyogVGhlIHJlcG9ydC1JRCBmaWVsZCBmb3IgcGVyaW9k
aWMgc2FtcGxlcyBpbmNsdWRlcwo+PiAgCQkgKiBzb21lIHVuZG9jdW1lbnRlZCBmbGFncyByZWxh
dGVkIHRvIHdoYXQgdHJpZ2dlcmVkCj4+ICAJCSAqIHRoZSByZXBvcnQgYW5kIGlzIG5ldmVyIGV4
cGVjdGVkIHRvIGJlIHplcm8gc28gd2UKPgo+Cl9fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fCkludGVsLWdmeCBtYWlsaW5nIGxpc3QKSW50ZWwtZ2Z4QGxpc3Rz
LmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xp
c3RpbmZvL2ludGVsLWdmeA==

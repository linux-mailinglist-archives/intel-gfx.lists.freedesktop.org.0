Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 2637075B54
	for <lists+intel-gfx@lfdr.de>; Fri, 26 Jul 2019 01:40:15 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id A14F86E83D;
	Thu, 25 Jul 2019 23:40:11 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga02.intel.com (mga02.intel.com [134.134.136.20])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 1F86E6E83B
 for <intel-gfx@lists.freedesktop.org>; Thu, 25 Jul 2019 23:40:10 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga006.jf.intel.com ([10.7.209.51])
 by orsmga101.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 25 Jul 2019 16:40:09 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.64,308,1559545200"; d="scan'208";a="175426850"
Received: from ldmartin-desk1.jf.intel.com (HELO ldmartin-desk1.intel.com)
 ([10.24.9.40])
 by orsmga006.jf.intel.com with ESMTP; 25 Jul 2019 16:40:09 -0700
From: Lucas De Marchi <lucas.demarchi@intel.com>
To: intel-gfx@lists.freedesktop.org
Date: Thu, 25 Jul 2019 16:39:53 -0700
Message-Id: <20190725233954.15501-2-lucas.demarchi@intel.com>
X-Mailer: git-send-email 2.21.0
In-Reply-To: <20190725233954.15501-1-lucas.demarchi@intel.com>
References: <20190725233954.15501-1-lucas.demarchi@intel.com>
MIME-Version: 1.0
Subject: [Intel-gfx] [CI 2/3] drm/i915/tgl: select correct bit for port
 select
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

RnJvbTogTWFoZXNoIEt1bWFyIDxtYWhlc2gxLmt1bWFyQGludGVsLmNvbT4KCkJpdCBkZWZpbml0
aW9ucyBmb3IgcG9ydC1zZWxlY3QgZ290IGNoYW5nZWQgZm9yIFRSQU5TX0NMS19TRUwgJgpUUkFO
U19ERElfRlVOQ19DVEwgcmVnaXN0ZXJzIGluIFRHTC4KCnYyIChMdWNhcyk6CiAgLSBOdWtlIFRS
QU5TX0RESV9QT1JUX05PTkUgc2luY2UgaXQncyAwOiB3ZSBhcmUgYWxyZWFkeSBjbGVhcmluZwog
ICAge1RHTF8sfVRSQU5TX0RESV9QT1JUX01BU0sgKHN1Z2dlc3RlZCBieSBWaWxsZSkKICAtIEFs
c28gY292ZXIgaGFzd2VsbF9nZXRfZGRpX3BvcnRfc3RhdGUoKSBpbiBpbnRlbF9kaXNwbGF5LmMg
dGhhdCB3YXMKICAgIG1pc3NpbmcKICAtIERlZmluZSBtYWNyb3MgdXNpbmcgdGhlIF9TSElGVCBt
YWNyb3Mgc28gd2UgZG9uJ3QgbG9zZSBvdGhlciB1c2VycwoKQ2M6IFZpbGxlIFN5cmrDpGzDpCA8
dmlsbGUuc3lyamFsYUBsaW51eC5pbnRlbC5jb20+ClNpZ25lZC1vZmYtYnk6IE1haGVzaCBLdW1h
ciA8bWFoZXNoMS5rdW1hckBpbnRlbC5jb20+ClNpZ25lZC1vZmYtYnk6IEx1Y2FzIERlIE1hcmNo
aSA8bHVjYXMuZGVtYXJjaGlAaW50ZWwuY29tPgpSZXZpZXdlZC1ieTogQW51c2hhIFNyaXZhdHNh
IDxhbnVzaGEuc3JpdmF0c2FAaW50ZWwuY29tPgpSZXZpZXdlZC1ieTogTWF0dCBBdHdvb2QgPG1h
dHRoZXcucy5hdHdvb2RAaW50ZWwuY29tPgpMaW5rOiBodHRwczovL3BhdGNod29yay5mcmVlZGVz
a3RvcC5vcmcvcGF0Y2gvbXNnaWQvMjAxOTA3MTMwMTA5NDAuMTc3MTEtMy1sdWNhcy5kZW1hcmNo
aUBpbnRlbC5jb20KLS0tCiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2RkaS5j
ICAgICB8IDQ3ICsrKysrKysrKysrKysrKy0tLS0tCiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNw
bGF5L2ludGVsX2Rpc3BsYXkuYyB8ICA2ICsrLQogZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9y
ZWcuaCAgICAgICAgICAgICAgfCAxMSArKystLQogMyBmaWxlcyBjaGFuZ2VkLCA1MCBpbnNlcnRp
b25zKCspLCAxNCBkZWxldGlvbnMoLSkKCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkx
NS9kaXNwbGF5L2ludGVsX2RkaS5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRl
bF9kZGkuYwppbmRleCAxOGJjMGYyNjkwYzkuLmM2ZjM4YzdiMzk3ZCAxMDA2NDQKLS0tIGEvZHJp
dmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kZGkuYworKysgYi9kcml2ZXJzL2dwdS9k
cm0vaTkxNS9kaXNwbGF5L2ludGVsX2RkaS5jCkBAIC0xNzczLDcgKzE3NzMsMTAgQEAgdm9pZCBp
bnRlbF9kZGlfZW5hYmxlX3RyYW5zY29kZXJfZnVuYyhjb25zdCBzdHJ1Y3QgaW50ZWxfY3J0Y19z
dGF0ZSAqY3J0Y19zdGF0ZSkKIAogCS8qIEVuYWJsZSBUUkFOU19ERElfRlVOQ19DVEwgZm9yIHRo
ZSBwaXBlIHRvIHdvcmsgaW4gSERNSSBtb2RlICovCiAJdGVtcCA9IFRSQU5TX0RESV9GVU5DX0VO
QUJMRTsKLQl0ZW1wIHw9IFRSQU5TX0RESV9TRUxFQ1RfUE9SVChwb3J0KTsKKwlpZiAoSU5URUxf
R0VOKGRldl9wcml2KSA+PSAxMikKKwkJdGVtcCB8PSBUR0xfVFJBTlNfRERJX1NFTEVDVF9QT1JU
KHBvcnQpOworCWVsc2UKKwkJdGVtcCB8PSBUUkFOU19ERElfU0VMRUNUX1BPUlQocG9ydCk7CiAK
IAlzd2l0Y2ggKGNydGNfc3RhdGUtPnBpcGVfYnBwKSB7CiAJY2FzZSAxODoKQEAgLTE4NTMsOCAr
MTg1NiwxMyBAQCB2b2lkIGludGVsX2RkaV9kaXNhYmxlX3RyYW5zY29kZXJfZnVuYyhjb25zdCBz
dHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqY3J0Y19zdGF0ZQogCWk5MTVfcmVnX3QgcmVnID0gVFJB
TlNfRERJX0ZVTkNfQ1RMKGNwdV90cmFuc2NvZGVyKTsKIAl1MzIgdmFsID0gSTkxNV9SRUFEKHJl
Zyk7CiAKLQl2YWwgJj0gfihUUkFOU19ERElfRlVOQ19FTkFCTEUgfCBUUkFOU19ERElfUE9SVF9N
QVNLIHwgVFJBTlNfRERJX0RQX1ZDX1BBWUxPQURfQUxMT0MpOwotCXZhbCB8PSBUUkFOU19ERElf
UE9SVF9OT05FOworCWlmIChJTlRFTF9HRU4oZGV2X3ByaXYpID49IDEyKSB7CisJCXZhbCAmPSB+
KFRSQU5TX0RESV9GVU5DX0VOQUJMRSB8IFRHTF9UUkFOU19ERElfUE9SVF9NQVNLIHwKKwkJCSBU
UkFOU19ERElfRFBfVkNfUEFZTE9BRF9BTExPQyk7CisJfSBlbHNlIHsKKwkJdmFsICY9IH4oVFJB
TlNfRERJX0ZVTkNfRU5BQkxFIHwgVFJBTlNfRERJX1BPUlRfTUFTSyB8CisJCQkgVFJBTlNfRERJ
X0RQX1ZDX1BBWUxPQURfQUxMT0MpOworCX0KIAlJOTE1X1dSSVRFKHJlZywgdmFsKTsKIAogCWlm
IChkZXZfcHJpdi0+cXVpcmtzICYgUVVJUktfSU5DUkVBU0VfRERJX0RJU0FCTEVEX1RJTUUgJiYK
QEAgLTIwMDYsMTAgKzIwMTQsMTkgQEAgc3RhdGljIHZvaWQgaW50ZWxfZGRpX2dldF9lbmNvZGVy
X3BpcGVzKHN0cnVjdCBpbnRlbF9lbmNvZGVyICplbmNvZGVyLAogCW1zdF9waXBlX21hc2sgPSAw
OwogCWZvcl9lYWNoX3BpcGUoZGV2X3ByaXYsIHApIHsKIAkJZW51bSB0cmFuc2NvZGVyIGNwdV90
cmFuc2NvZGVyID0gKGVudW0gdHJhbnNjb2RlcilwOworCQl1bnNpZ25lZCBpbnQgcG9ydF9tYXNr
LCBkZGlfc2VsZWN0OworCisJCWlmIChJTlRFTF9HRU4oZGV2X3ByaXYpID49IDEyKSB7CisJCQlw
b3J0X21hc2sgPSBUR0xfVFJBTlNfRERJX1BPUlRfTUFTSzsKKwkJCWRkaV9zZWxlY3QgPSBUR0xf
VFJBTlNfRERJX1NFTEVDVF9QT1JUKHBvcnQpOworCQl9IGVsc2UgeworCQkJcG9ydF9tYXNrID0g
VFJBTlNfRERJX1BPUlRfTUFTSzsKKwkJCWRkaV9zZWxlY3QgPSBUUkFOU19ERElfU0VMRUNUX1BP
UlQocG9ydCk7CisJCX0KIAogCQl0bXAgPSBJOTE1X1JFQUQoVFJBTlNfRERJX0ZVTkNfQ1RMKGNw
dV90cmFuc2NvZGVyKSk7CiAKLQkJaWYgKCh0bXAgJiBUUkFOU19ERElfUE9SVF9NQVNLKSAhPSBU
UkFOU19ERElfU0VMRUNUX1BPUlQocG9ydCkpCisJCWlmICgodG1wICYgcG9ydF9tYXNrKSAhPSBk
ZGlfc2VsZWN0KQogCQkJY29udGludWU7CiAKIAkJaWYgKCh0bXAgJiBUUkFOU19ERElfTU9ERV9T
RUxFQ1RfTUFTSykgPT0KQEAgLTIxMjYsOSArMjE0MywxNCBAQCB2b2lkIGludGVsX2RkaV9lbmFi
bGVfcGlwZV9jbG9jayhjb25zdCBzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqY3J0Y19zdGF0ZSkK
IAllbnVtIHBvcnQgcG9ydCA9IGVuY29kZXItPnBvcnQ7CiAJZW51bSB0cmFuc2NvZGVyIGNwdV90
cmFuc2NvZGVyID0gY3J0Y19zdGF0ZS0+Y3B1X3RyYW5zY29kZXI7CiAKLQlpZiAoY3B1X3RyYW5z
Y29kZXIgIT0gVFJBTlNDT0RFUl9FRFApCi0JCUk5MTVfV1JJVEUoVFJBTlNfQ0xLX1NFTChjcHVf
dHJhbnNjb2RlciksCi0JCQkgICBUUkFOU19DTEtfU0VMX1BPUlQocG9ydCkpOworCWlmIChjcHVf
dHJhbnNjb2RlciAhPSBUUkFOU0NPREVSX0VEUCkgeworCQlpZiAoSU5URUxfR0VOKGRldl9wcml2
KSA+PSAxMikKKwkJCUk5MTVfV1JJVEUoVFJBTlNfQ0xLX1NFTChjcHVfdHJhbnNjb2RlciksCisJ
CQkJICAgVEdMX1RSQU5TX0NMS19TRUxfUE9SVChwb3J0KSk7CisJCWVsc2UKKwkJCUk5MTVfV1JJ
VEUoVFJBTlNfQ0xLX1NFTChjcHVfdHJhbnNjb2RlciksCisJCQkJICAgVFJBTlNfQ0xLX1NFTF9Q
T1JUKHBvcnQpKTsKKwl9CiB9CiAKIHZvaWQgaW50ZWxfZGRpX2Rpc2FibGVfcGlwZV9jbG9jayhj
b25zdCBzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqY3J0Y19zdGF0ZSkKQEAgLTIxMzYsOSArMjE1
OCwxNCBAQCB2b2lkIGludGVsX2RkaV9kaXNhYmxlX3BpcGVfY2xvY2soY29uc3Qgc3RydWN0IGlu
dGVsX2NydGNfc3RhdGUgKmNydGNfc3RhdGUpCiAJc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRl
dl9wcml2ID0gdG9faTkxNShjcnRjX3N0YXRlLT5iYXNlLmNydGMtPmRldik7CiAJZW51bSB0cmFu
c2NvZGVyIGNwdV90cmFuc2NvZGVyID0gY3J0Y19zdGF0ZS0+Y3B1X3RyYW5zY29kZXI7CiAKLQlp
ZiAoY3B1X3RyYW5zY29kZXIgIT0gVFJBTlNDT0RFUl9FRFApCi0JCUk5MTVfV1JJVEUoVFJBTlNf
Q0xLX1NFTChjcHVfdHJhbnNjb2RlciksCi0JCQkgICBUUkFOU19DTEtfU0VMX0RJU0FCTEVEKTsK
KwlpZiAoY3B1X3RyYW5zY29kZXIgIT0gVFJBTlNDT0RFUl9FRFApIHsKKwkJaWYgKElOVEVMX0dF
TihkZXZfcHJpdikgPj0gMTIpCisJCQlJOTE1X1dSSVRFKFRSQU5TX0NMS19TRUwoY3B1X3RyYW5z
Y29kZXIpLAorCQkJCSAgIFRHTF9UUkFOU19DTEtfU0VMX0RJU0FCTEVEKTsKKwkJZWxzZQorCQkJ
STkxNV9XUklURShUUkFOU19DTEtfU0VMKGNwdV90cmFuc2NvZGVyKSwKKwkJCQkgICBUUkFOU19D
TEtfU0VMX0RJU0FCTEVEKTsKKwl9CiB9CiAKIHN0YXRpYyB2b2lkIF9za2xfZGRpX3NldF9pYm9v
c3Qoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2LApkaWZmIC0tZ2l0IGEvZHJpdmVy
cy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5LmMgYi9kcml2ZXJzL2dwdS9kcm0v
aTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXkuYwppbmRleCBlMjViODJkMDdkNGYuLjUxZTRmNjc5
OGE2YiAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNw
bGF5LmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5LmMK
QEAgLTEwMzUzLDcgKzEwMzUzLDExIEBAIHN0YXRpYyB2b2lkIGhhc3dlbGxfZ2V0X2RkaV9wb3J0
X3N0YXRlKHN0cnVjdCBpbnRlbF9jcnRjICpjcnRjLAogCiAJdG1wID0gSTkxNV9SRUFEKFRSQU5T
X0RESV9GVU5DX0NUTChwaXBlX2NvbmZpZy0+Y3B1X3RyYW5zY29kZXIpKTsKIAotCXBvcnQgPSAo
dG1wICYgVFJBTlNfRERJX1BPUlRfTUFTSykgPj4gVFJBTlNfRERJX1BPUlRfU0hJRlQ7CisJaWYg
KElOVEVMX0dFTihkZXZfcHJpdikgPj0gMTIpCisJCXBvcnQgPSAodG1wICYgVEdMX1RSQU5TX0RE
SV9QT1JUX01BU0spID4+CisJCQlUR0xfVFJBTlNfRERJX1BPUlRfU0hJRlQ7CisJZWxzZQorCQlw
b3J0ID0gKHRtcCAmIFRSQU5TX0RESV9QT1JUX01BU0spID4+IFRSQU5TX0RESV9QT1JUX1NISUZU
OwogCiAJaWYgKElOVEVMX0dFTihkZXZfcHJpdikgPj0gMTEpCiAJCWljZWxha2VfZ2V0X2RkaV9w
bGwoZGV2X3ByaXYsIHBvcnQsIHBpcGVfY29uZmlnKTsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1
L2RybS9pOTE1L2k5MTVfcmVnLmggYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3JlZy5oCmlu
ZGV4IDI0ZjJhNTJhMmI0Mi4uMzAzNWE0OGEyNTI3IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9k
cm0vaTkxNS9pOTE1X3JlZy5oCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfcmVnLmgK
QEAgLTkzODQsMTAgKzkzODQsMTIgQEAgZW51bSBza2xfcG93ZXJfZ2F0ZSB7CiAKICNkZWZpbmUg
IFRSQU5TX0RESV9GVU5DX0VOQUJMRQkJKDEgPDwgMzEpCiAvKiBUaG9zZSBiaXRzIGFyZSBpZ25v
cmVkIGJ5IHBpcGUgRURQIHNpbmNlIGl0IGNhbiBvbmx5IGNvbm5lY3QgdG8gRERJIEEgKi8KLSNk
ZWZpbmUgIFRSQU5TX0RESV9QT1JUX01BU0sJCSg3IDw8IDI4KQogI2RlZmluZSAgVFJBTlNfRERJ
X1BPUlRfU0hJRlQJCTI4Ci0jZGVmaW5lICBUUkFOU19ERElfU0VMRUNUX1BPUlQoeCkJKCh4KSA8
PCAyOCkKLSNkZWZpbmUgIFRSQU5TX0RESV9QT1JUX05PTkUJCSgwIDw8IDI4KQorI2RlZmluZSAg
VEdMX1RSQU5TX0RESV9QT1JUX1NISUZUCTI3CisjZGVmaW5lICBUUkFOU19ERElfUE9SVF9NQVNL
CQkoNyA8PCBUUkFOU19ERElfUE9SVF9TSElGVCkKKyNkZWZpbmUgIFRHTF9UUkFOU19ERElfUE9S
VF9NQVNLCSgweGYgPDwgVEdMX1RSQU5TX0RESV9QT1JUX1NISUZUKQorI2RlZmluZSAgVFJBTlNf
RERJX1NFTEVDVF9QT1JUKHgpCSgoeCkgPDwgVFJBTlNfRERJX1BPUlRfU0hJRlQpCisjZGVmaW5l
ICBUR0xfVFJBTlNfRERJX1NFTEVDVF9QT1JUKHgpCSgoKHgpICsgMSkgPDwgVEdMX1RSQU5TX0RE
SV9QT1JUX1NISUZUKQogI2RlZmluZSAgVFJBTlNfRERJX01PREVfU0VMRUNUX01BU0sJKDcgPDwg
MjQpCiAjZGVmaW5lICBUUkFOU19ERElfTU9ERV9TRUxFQ1RfSERNSQkoMCA8PCAyNCkKICNkZWZp
bmUgIFRSQU5TX0RESV9NT0RFX1NFTEVDVF9EVkkJKDEgPDwgMjQpCkBAIC05NTk3LDYgKzk1OTks
OSBAQCBlbnVtIHNrbF9wb3dlcl9nYXRlIHsKIC8qIEZvciBlYWNoIHRyYW5zY29kZXIsIHdlIG5l
ZWQgdG8gc2VsZWN0IHRoZSBjb3JyZXNwb25kaW5nIHBvcnQgY2xvY2sgKi8KICNkZWZpbmUgIFRS
QU5TX0NMS19TRUxfRElTQUJMRUQJCSgweDAgPDwgMjkpCiAjZGVmaW5lICBUUkFOU19DTEtfU0VM
X1BPUlQoeCkJCSgoKHgpICsgMSkgPDwgMjkpCisjZGVmaW5lICBUR0xfVFJBTlNfQ0xLX1NFTF9E
SVNBQkxFRAkoMHgwIDw8IDI4KQorI2RlZmluZSAgVEdMX1RSQU5TX0NMS19TRUxfUE9SVCh4KQko
KCh4KSArIDEpIDw8IDI4KQorCiAKICNkZWZpbmUgQ0RDTEtfRlJFUQkJCV9NTUlPKDB4NDYyMDAp
CiAKLS0gCjIuMjEuMAoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX18KSW50ZWwtZ2Z4IG1haWxpbmcgbGlzdApJbnRlbC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Au
b3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vaW50ZWwt
Z2Z4

Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 6B4B2D277A
	for <lists+intel-gfx@lfdr.de>; Thu, 10 Oct 2019 12:50:12 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 8F9616EAF3;
	Thu, 10 Oct 2019 10:50:10 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga06.intel.com (mga06.intel.com [134.134.136.31])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 391156EAF3
 for <intel-gfx@lists.freedesktop.org>; Thu, 10 Oct 2019 10:50:09 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from fmsmga004.fm.intel.com ([10.253.24.48])
 by orsmga104.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 10 Oct 2019 03:50:08 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.67,279,1566889200"; d="scan'208";a="218982696"
Received: from swatish2-mobl.gar.corp.intel.com (HELO [10.66.99.86])
 ([10.66.99.86])
 by fmsmga004.fm.intel.com with ESMTP; 10 Oct 2019 03:50:04 -0700
To: =?UTF-8?B?VmlsbGUgU3lyasOkbMOk?= <ville.syrjala@linux.intel.com>
References: <20191009065542.27415-1-swati2.sharma@intel.com>
 <20191009065542.27415-4-swati2.sharma@intel.com>
 <20191009141611.GB1208@intel.com>
From: "Sharma, Swati2" <swati2.sharma@intel.com>
Organization: Intel
Message-ID: <a5ee3865-24e2-0f87-24be-577e66e80fe1@intel.com>
Date: Thu, 10 Oct 2019 16:20:04 +0530
User-Agent: Mozilla/5.0 (Windows NT 10.0; WOW64; rv:60.0) Gecko/20100101
 Thunderbird/60.9.0
MIME-Version: 1.0
In-Reply-To: <20191009141611.GB1208@intel.com>
Content-Language: en-US
Subject: Re: [Intel-gfx] [PATCH 3/4] [v5] drm/i915/color: Extract
 icl_read_luts()
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: jani.nikula@intel.com, daniel.vetter@ffwll.ch,
 intel-gfx@lists.freedesktop.org, ankit.k.nautiyal@intel.com
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

T24gMDktT2N0LTE5IDc6NDYgUE0sIFZpbGxlIFN5cmrDpGzDpCB3cm90ZToKPiBPbiBXZWQsIE9j
dCAwOSwgMjAxOSBhdCAxMjoyNTo0MVBNICswNTMwLCBTd2F0aSBTaGFybWEgd3JvdGU6Cj4+IEZv
ciBpY2wrLCBoYXZlIGh3IHJlYWQgb3V0IHRvIGNyZWF0ZSBodyBibG9iIG9mIGdhbW1hCj4+IGx1
dCB2YWx1ZXMuIGljbCsgcGxhdGZvcm1zIHN1cHBvcnRzIG11bHRpIHNlZ21lbnRlZCBnYW1tYQo+
PiBtb2RlIGJ5IGRlZmF1bHQsIGFkZCBodyBsdXQgY3JlYXRpb24gZm9yIHRoaXMgbW9kZS4KPj4K
Pj4gVGhpcyB3aWxsIGJlIHVzZWQgdG8gdmFsaWRhdGUgZ2FtbWEgcHJvZ3JhbW1pbmcgdXNpbmcg
ZHNiCj4+IChkaXNwbGF5IHN0YXRlIGJ1ZmZlcikgd2hpY2ggaXMgYSB0Z2wgc3BlY2lmaWMgZmVh
dHVyZS4KPj4KPj4gTWFqb3IgY2hhbmdlIGRvbmUtcmVtb3ZhbCBvZiByZWFkb3V0cyBvZiBjb2Fy
c2UgYW5kIGZpbmUgc2VnbWVudHMKPj4gYmVjYXVzZSBQQUxfUFJFQ19EQVRBIHJlZ2lzdGVyIGlz
bid0IGdpdmluZyBwcm9wb2VyIHZhbHVlcy4KPj4gU3RhdGUgY2hlY2tlciBsaW1pdGVkIG9ubHkg
dG8gImZpbmUgc2VnbWVudCIKPj4KPj4gdjI6IC1yZWFkb3V0IGNvZGUgZm9yIG11bHRpc2VnbWVu
dGVkIGdhbW1hIGhhcyB0byBjb21lCj4+ICAgICAgIHVwIHdpdGggc29tZSBpbnRlcm1lZGlhdGUg
ZW50cmllcyB0aGF0IGFyZW4ndCBwcmVzZXJ2ZWQKPj4gICAgICAgaW4gaGFyZHdhcmUgKEphbmkg
TikKPj4gICAgICAtbGluZWFyIGludGVycG9sYXRpb24gKFZpbGxlKQo+PiAgICAgIC1tb3ZlZCBj
b21tb24gY29kZSB0byBjaGVjayBnYW1tYV9lbmFibGUgdG8gc3BlY2lmaWMgZnVuY3MsCj4+ICAg
ICAgIHNpbmNlIGljbCBkb2Vzbid0IHN1cHBvcnQgdGhhdAo+PiB2MzogLXVzZSB1MTYgaW5zdGVh
ZCBvZiBfX3UxNiBbSmFuaSBOXQo+PiAgICAgIC11c2VkIHNpbmdsZSBsdXQgW0phbmkgTl0KPj4g
ICAgICAtaW1wcm92ZWQgYW5kIG1vcmUgcmVhZGFibGUgZm9yIGxvb3BzIFtKYW5pIE5dCj4+ICAg
ICAgLXJlYWQgdmFsdWVzIGRpcmVjdGx5IHRvIGFjdHVhbCBsb2NhdGlvbnMgYW5kIHRoZW4gZmls
bCBnYXBzIFtKYW5pIE5dCj4+ICAgICAgLW1vdmVkIGNsZWFuaW5nIHRvIHBhdGNoIDEgW0phbmkg
Tl0KPj4gICAgICAtcmVuYW1lZCBpY2xfcmVhZF9sdXRfbXVsdGlfc2VnKCkgdG8gaWNsX3JlYWRf
bHV0X211bHRpX3NlZ21lbnQgdG8KPj4gICAgICAgbWFrZSBpdCBzaW1pbGFyIHRvIGljbF9sb2Fk
X2x1dHMoKQo+PiAgICAgIC1yZW5hbWVkIGljbF9jb21wdXRlX2ludGVycG9sYXRlZF9nYW1tYV9i
bG9iKCkgdG8KPj4gICAgICAgaWNsX2NvbXB1dGVfaW50ZXJwb2xhdGVkX2dhbW1hX2x1dF92YWx1
ZXMoKSBtb3JlIHNlbnNpYmxlLCBJIGd1ZXNzCj4+IHY0OiAtcmVtb3ZlZCBpbnRlcnBvbGF0ZWQg
ZnVuYyBmb3IgY3JlYXRpbmcgZ2FtbWEgbHV0IHZhbHVlcwo+PiAgICAgIC1yZW1vdmVkIHJlYWRv
dXRzIG9mIGZpbmUgYW5kIGNvYXJzZSBzZWdtZW50cywgZmFpbHVyZSB0byByZWFkIFBBTF9QUkVD
X0RBVEEKPj4gICAgICAgY29ycmVjdGx5Cj4+IHY1OiAtYWRkZWQgZ2FtbWFfZW5hYmxlIGNoZWNr
IGluc2lkZSByZWFkX2x1dHMoKQo+Pgo+PiBTaWduZWQtb2ZmLWJ5OiBTd2F0aSBTaGFybWEgPHN3
YXRpMi5zaGFybWFAaW50ZWwuY29tPgo+PiAtLS0KPj4gICBkcml2ZXJzL2dwdS9kcm0vaTkxNS9k
aXNwbGF5L2ludGVsX2NvbG9yLmMgfCAxMTQgKysrKysrKysrKysrKysrKysrLS0tCj4+ICAgZHJp
dmVycy9ncHUvZHJtL2k5MTUvaTkxNV9yZWcuaCAgICAgICAgICAgIHwgICA2ICsrCj4+ICAgMiBm
aWxlcyBjaGFuZ2VkLCAxMDggaW5zZXJ0aW9ucygrKSwgMTIgZGVsZXRpb25zKC0pCj4+Cj4+IGRp
ZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2NvbG9yLmMgYi9k
cml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2NvbG9yLmMKPj4gaW5kZXggZmE0NGVi
NzNkMDg4Li42MTRlMGFkMzg2Y2EgMTAwNjQ0Cj4+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1
L2Rpc3BsYXkvaW50ZWxfY29sb3IuYwo+PiArKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNw
bGF5L2ludGVsX2NvbG9yLmMKPj4gQEAgLTE0NzcsNiArMTQ3NywyNSBAQCBzdGF0aWMgaW50IGds
a19nYW1tYV9wcmVjaXNpb24oY29uc3Qgc3RydWN0IGludGVsX2NydGNfc3RhdGUgKmNydGNfc3Rh
dGUpCj4+ICAgCX0KPj4gICB9Cj4+ICAgCj4+ICtzdGF0aWMgaW50IGljbF9nYW1tYV9wcmVjaXNp
b24oY29uc3Qgc3RydWN0IGludGVsX2NydGNfc3RhdGUgKmNydGNfc3RhdGUpCj4+ICt7Cj4+ICsJ
aWYgKChjcnRjX3N0YXRlLT5nYW1tYV9tb2RlICYgUE9TVF9DU0NfR0FNTUFfRU5BQkxFKSA9PSAw
KQo+PiArCQlyZXR1cm4gMDsKPj4gKwo+PiArCXN3aXRjaCAoY3J0Y19zdGF0ZS0+Z2FtbWFfbW9k
ZSAmIEdBTU1BX01PREVfTU9ERV9NQVNLKSB7Cj4+ICsJY2FzZSBHQU1NQV9NT0RFX01PREVfOEJJ
VDoKPj4gKwkJcmV0dXJuIDg7Cj4+ICsJY2FzZSBHQU1NQV9NT0RFX01PREVfMTBCSVQ6Cj4+ICsJ
CXJldHVybiAxMDsKPj4gKwljYXNlIEdBTU1BX01PREVfTU9ERV8xMkJJVF9NVUxUSV9TRUdNRU5U
RUQ6Cj4+ICsJCXJldHVybiAxNjsKPj4gKwlkZWZhdWx0Ogo+PiArCQlNSVNTSU5HX0NBU0UoY3J0
Y19zdGF0ZS0+Z2FtbWFfbW9kZSk7Cj4+ICsJCXJldHVybiAwOwo+PiArCX0KPj4gKwo+PiArfQo+
PiArCj4+ICAgaW50IGludGVsX2NvbG9yX2dldF9nYW1tYV9iaXRfcHJlY2lzaW9uKGNvbnN0IHN0
cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpjcnRjX3N0YXRlKQo+PiAgIHsKPj4gICAJc3RydWN0IGlu
dGVsX2NydGMgKmNydGMgPSB0b19pbnRlbF9jcnRjKGNydGNfc3RhdGUtPmJhc2UuY3J0Yyk7Cj4+
IEBAIC0xNDg4LDcgKzE1MDcsOSBAQCBpbnQgaW50ZWxfY29sb3JfZ2V0X2dhbW1hX2JpdF9wcmVj
aXNpb24oY29uc3Qgc3RydWN0IGludGVsX2NydGNfc3RhdGUgKmNydGNfc3RhdAo+PiAgIAkJZWxz
ZQo+PiAgIAkJCXJldHVybiBpOXh4X2dhbW1hX3ByZWNpc2lvbihjcnRjX3N0YXRlKTsKPj4gICAJ
fSBlbHNlIHsKPj4gLQkJaWYgKElTX0NBTk5PTkxBS0UoZGV2X3ByaXYpIHx8IElTX0dFTUlOSUxB
S0UoZGV2X3ByaXYpKQo+PiArCQlpZiAoSU5URUxfR0VOKGRldl9wcml2KSA+PSAxMSkKPj4gKwkJ
CXJldHVybiBpY2xfZ2FtbWFfcHJlY2lzaW9uKGNydGNfc3RhdGUpOwo+PiArCQllbHNlIGlmIChJ
U19DQU5OT05MQUtFKGRldl9wcml2KSB8fCBJU19HRU1JTklMQUtFKGRldl9wcml2KSkKPj4gICAJ
CQlyZXR1cm4gZ2xrX2dhbW1hX3ByZWNpc2lvbihjcnRjX3N0YXRlKTsKPj4gICAJCWVsc2UgaWYg
KElTX0lST05MQUtFKGRldl9wcml2KSkKPj4gICAJCQlyZXR1cm4gaWxrX2dhbW1hX3ByZWNpc2lv
bihjcnRjX3N0YXRlKTsKPj4gQEAgLTE1MTksNiArMTU0MCwyMCBAQCBzdGF0aWMgYm9vbCBpbnRl
bF9jb2xvcl9sdXRfZW50cnlfZXF1YWwoc3RydWN0IGRybV9jb2xvcl9sdXQgKmx1dDEsCj4+ICAg
CXJldHVybiB0cnVlOwo+PiAgIH0KPj4gICAKPj4gK3N0YXRpYyBib29sIGludGVsX2NvbG9yX2x1
dF9lbnRyeV9tdWx0aV9lcXVhbChzdHJ1Y3QgZHJtX2NvbG9yX2x1dCAqbHV0MSwKPj4gKwkJCQkJ
ICAgICAgc3RydWN0IGRybV9jb2xvcl9sdXQgKmx1dDIsCj4+ICsJCQkJCSAgICAgIGludCBsdXRf
c2l6ZSwgdTMyIGVycikKPj4gK3sKPj4gKwlpbnQgaTsKPj4gKwo+PiArCWZvciAoaSA9IDA7IGkg
PCA5OyBpKyspIHsKPj4gKwkJaWYgKCFlcnJfY2hlY2soJmx1dDFbaV0sICZsdXQyW2ldLCBlcnIp
KQo+PiArCQkJcmV0dXJuIGZhbHNlOwo+PiArCX0KPj4gKwo+PiArCXJldHVybiB0cnVlOwo+PiAr
fQo+PiArCj4+ICAgYm9vbCBpbnRlbF9jb2xvcl9sdXRfZXF1YWwoc3RydWN0IGRybV9wcm9wZXJ0
eV9ibG9iICpibG9iMSwKPj4gICAJCQkgICBzdHJ1Y3QgZHJtX3Byb3BlcnR5X2Jsb2IgKmJsb2Iy
LAo+PiAgIAkJCSAgIHUzMiBnYW1tYV9tb2RlLCB1MzIgYml0X3ByZWNpc2lvbikKPj4gQEAgLTE1
MzcsMTYgKzE1NzIsOCBAQCBib29sIGludGVsX2NvbG9yX2x1dF9lcXVhbChzdHJ1Y3QgZHJtX3By
b3BlcnR5X2Jsb2IgKmJsb2IxLAo+PiAgIAlsdXRfc2l6ZTIgPSBkcm1fY29sb3JfbHV0X3NpemUo
YmxvYjIpOwo+PiAgIAo+PiAgIAkvKiBjaGVjayBzdyBhbmQgaHcgbHV0IHNpemUgKi8KPj4gLQlz
d2l0Y2ggKGdhbW1hX21vZGUpIHsKPj4gLQljYXNlIEdBTU1BX01PREVfTU9ERV84QklUOgo+PiAt
CWNhc2UgR0FNTUFfTU9ERV9NT0RFXzEwQklUOgo+PiAtCQlpZiAobHV0X3NpemUxICE9IGx1dF9z
aXplMikKPj4gLQkJCXJldHVybiBmYWxzZTsKPj4gLQkJYnJlYWs7Cj4+IC0JZGVmYXVsdDoKPj4g
LQkJTUlTU0lOR19DQVNFKGdhbW1hX21vZGUpOwo+PiAtCQkJcmV0dXJuIGZhbHNlOwo+PiAtCX0K
Pj4gKwlpZiAobHV0X3NpemUxICE9IGx1dF9zaXplMikKPj4gKwkJcmV0dXJuIGZhbHNlOwo+PiAg
IAo+PiAgIAlsdXQxID0gYmxvYjEtPmRhdGE7Cj4+ICAgCWx1dDIgPSBibG9iMi0+ZGF0YTsKPj4g
QEAgLTE1NTQsMTMgKzE1ODEsMTggQEAgYm9vbCBpbnRlbF9jb2xvcl9sdXRfZXF1YWwoc3RydWN0
IGRybV9wcm9wZXJ0eV9ibG9iICpibG9iMSwKPj4gICAJZXJyID0gMHhmZmZmID4+IGJpdF9wcmVj
aXNpb247Cj4+ICAgCj4+ICAgCS8qIGNoZWNrIHN3IGFuZCBodyBsdXQgZW50cnkgdG8gYmUgZXF1
YWwgKi8KPj4gLQlzd2l0Y2ggKGdhbW1hX21vZGUpIHsKPj4gKwlzd2l0Y2ggKGdhbW1hX21vZGUg
JiBHQU1NQV9NT0RFX01PREVfTUFTSykgewo+PiAgIAljYXNlIEdBTU1BX01PREVfTU9ERV84QklU
Ogo+PiAgIAljYXNlIEdBTU1BX01PREVfTU9ERV8xMEJJVDoKPj4gICAJCWlmICghaW50ZWxfY29s
b3JfbHV0X2VudHJ5X2VxdWFsKGx1dDEsIGx1dDIsCj4+ICAgCQkJCQkJIGx1dF9zaXplMiwgZXJy
KSkKPj4gICAJCQlyZXR1cm4gZmFsc2U7Cj4+ICAgCQlicmVhazsKPj4gKwljYXNlIEdBTU1BX01P
REVfTU9ERV8xMkJJVF9NVUxUSV9TRUdNRU5URUQ6Cj4+ICsJCWlmICghaW50ZWxfY29sb3JfbHV0
X2VudHJ5X211bHRpX2VxdWFsKGx1dDEsIGx1dDIsCj4+ICsJCQkJCQkgICAgICAgbHV0X3NpemUy
LCBlcnIpKQo+IAo+IEkgZG9uJ3QgdGhpbmsgeW91IG5lZWQgYSBuZXcgZnVuY3Rpb24gZm9yIHRo
YXQuIEp1c3QgcGFzcyA5IGFzIHRoZSBzaXplCj4gdG8gaW50ZWxfY29sb3JfbHV0X2VudHJ5X2Vx
dWFsKCkgPwoKSSBoYWQgbWFkZSBhIHNlcGFyYXRlIGZ1bmN0aW9uIGZvciBtdWx0aS1zZWdtZW50
ZWQgZ2FtbWEgc2luY2UgdGhlcmUgCndpbGwgYmUgMyBsb29wcyBmb3IgY29tcGFyaW5nIHN1cGVy
ZmluZSwgZmluZSBhbmQgY291cnNlIHNlZ21lbnRzIHdoaWNoIAp3b250IGdvIHdpdGggaW50ZWxf
bHV0X2VudHJ5X2VxdWFsKCkgc3RydWN0dXJlLgoKUmlnaHQgbm93IHdlIGFyZSBsaW1pdGluZyB0
byBzdXBlcmZpbmUgc2VnbWVudCBvbmx5IGJ1dCBpbiBmdXR1cmUgd2UgCndpbGwgYWRkIGZvciBv
dGhlciBzZWdtZW50cyB0b28gKG9uY2Ugd2UgZ2V0IGZpeCBmcm9tIGgvdykKCkZ1bmMoKSBzaG91
bGQgbG9vayBsaWtlIHRoaXMuIEFjdHVhbGx5IHRoZXJlIGlzIG5vIG5lZWQgdG8gcGFzc2luZyAK
bHV0X3NpemUgb25seSBpbiB0aGlzIGZ1bmN0aW9uIGlmIHdlIGNvbnRpbnVlIHdpdGggdGhpcyBm
dW5jdGlvbiBvbmx5LgoKK3N0YXRpYyBib29sIGludGVsX2NvbG9yX2x1dF9lbnRyeV9tdWx0aV9l
cXVhbChzdHJ1Y3QgZHJtX2NvbG9yX2x1dCAqbHV0MSwKKyAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgIHN0cnVjdCBkcm1fY29sb3JfbHV0ICpsdXQyLAorICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW50IGx1dF9zaXplLCB1MzIg
ZXJyKQoreworICAgICAgIGludCBpOworCisgICAgICAgZm9yIChpID0gMDsgaSA8IDk7IGkrKykg
eworICAgICAgICAgICAgICAgaWYgKCFlcnJfY2hlY2soJmx1dDFbaV0sICZsdXQyW2ldLCBlcnIp
KQorICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CisgICAgICAgfQorCisgICAg
ICAgZm9yIChpID0gMTsgaSA8IDI1NzsgaSsrKSB7CisgICAgICAgICAgICAgICBpZiAoIWVycl9j
aGVjaygmbHV0MVtpICogOF0sICZsdXQyW2kgKiA4XSwgZXJyKSkKKyAgICAgICAgICAgICAgICAg
ICAgICAgcmV0dXJuIGZhbHNlOworICAgICAgIH0KKworICAgICAgIGZvciAoaSA9IDA7IGkgPCAy
NTY7IGkrKykgeworICAgICAgICAgICAgICAgaWYgKCFlcnJfY2hlY2soJmx1dDFbaSAqIDggKiAx
MjhdLCAmbHV0MltpICogOCAqIDEyOF0sIGVycikpCisgICAgICAgICAgICAgICAgICAgICAgIHJl
dHVybiBmYWxzZTsKKyAgICAgICB9CisKKyAgICAgICByZXR1cm4gdHJ1ZTsKK30KKwpQbGVhc2Ug
c3VnZ2VzdC4KCj4gCj4gSG1tLCBzaG91bGQgcHJvYmFibHkgcmVuYW1lIHRoYXQgdG8ganVzdCBp
bnRlbF9jb2xvcl9sdXRfZXF1YWwoKSBzaW5jZQo+IGl0IGNoZWNrcyB0aGUgZW50aXJlIExVVCAo
b3IgYXQgbGVhc3QgdGhlIHNwZWNpZmllZCBzdWJzZXQpIGFuZCBub3QKPiBqdXN0IGEgc2luZ2xl
IGVudHJ5Li4uCgpUaGlzIHdpbGwgYmUgZmluZSBmb3IgdGhpcyBzZWdtZW50IGJ1dCBmb3Igb3Ro
ZXIgdHdvIHNlZ21lbnRzIGl0IHdvbid0IAp3b3JrLiBSaWdodD8KPiAKPj4gKwkJCXJldHVybiBm
YWxzZTsKPj4gKwkJYnJlYWs7Cj4+ICAgCWRlZmF1bHQ6Cj4+ICAgCQlNSVNTSU5HX0NBU0UoZ2Ft
bWFfbW9kZSk7Cj4+ICAgCQkJcmV0dXJuIGZhbHNlOwo+PiBAQCAtMTgxNSw2ICsxODQ3LDYzIEBA
IHN0YXRpYyB2b2lkIGdsa19yZWFkX2x1dHMoc3RydWN0IGludGVsX2NydGNfc3RhdGUgKmNydGNf
c3RhdGUpCj4+ICAgCQljcnRjX3N0YXRlLT5iYXNlLmdhbW1hX2x1dCA9IGdsa19yZWFkX2x1dF8x
MChjcnRjX3N0YXRlLCBQQUxfUFJFQ19JTkRFWF9WQUxVRSgwKSk7Cj4+ICAgfQo+PiAgIAo+PiAr
c3RhdGljIHN0cnVjdCBkcm1fcHJvcGVydHlfYmxvYiAqCj4+ICtpY2xfcmVhZF9sdXRfbXVsdGlf
c2VnbWVudChjb25zdCBzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqY3J0Y19zdGF0ZSkKPj4gK3sK
Pj4gKwlzdHJ1Y3QgaW50ZWxfY3J0YyAqY3J0YyA9IHRvX2ludGVsX2NydGMoY3J0Y19zdGF0ZS0+
YmFzZS5jcnRjKTsKPj4gKwlzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYgPSB0b19p
OTE1KGNydGMtPmJhc2UuZGV2KTsKPj4gKwlpbnQgbHV0X3NpemUgPSBJTlRFTF9JTkZPKGRldl9w
cml2KS0+Y29sb3IuZ2FtbWFfbHV0X3NpemU7Cj4+ICsJZW51bSBwaXBlIHBpcGUgPSBjcnRjLT5w
aXBlOwo+PiArCXN0cnVjdCBkcm1fcHJvcGVydHlfYmxvYiAqYmxvYjsKPj4gKwlzdHJ1Y3QgZHJt
X2NvbG9yX2x1dCAqYmxvYl9kYXRhOwo+PiArCXUzMiBpLCB2YWwxLCB2YWwyOwo+PiArCj4+ICsJ
YmxvYiA9IGRybV9wcm9wZXJ0eV9jcmVhdGVfYmxvYigmZGV2X3ByaXYtPmRybSwKPj4gKwkJCQkJ
c2l6ZW9mKHN0cnVjdCBkcm1fY29sb3JfbHV0KSAqIGx1dF9zaXplLAo+PiArCQkJCQlOVUxMKTsK
Pj4gKwlpZiAoSVNfRVJSKGJsb2IpKQo+PiArCQlyZXR1cm4gTlVMTDsKPj4gKwo+PiArCWJsb2Jf
ZGF0YSA9IGJsb2ItPmRhdGE7Cj4+ICsKPj4gKwlJOTE1X1dSSVRFKFBSRUNfUEFMX01VTFRJX1NF
R19JTkRFWChwaXBlKSwgUEFMX1BSRUNfQVVUT19JTkNSRU1FTlQpOwo+PiArCj4+ICsJZm9yIChp
ID0gMDsgaSA8IDk7IGkrKykgewo+PiArCQl2YWwxID0gSTkxNV9SRUFEKFBSRUNfUEFMX01VTFRJ
X1NFR19EQVRBKHBpcGUpKTsKPj4gKwkJdmFsMiA9IEk5MTVfUkVBRChQUkVDX1BBTF9NVUxUSV9T
RUdfREFUQShwaXBlKSk7Cj4+ICsKPj4gKwkJYmxvYl9kYXRhW2ldLnJlZCA9IFJFR19GSUVMRF9H
RVQoUEFMX1BSRUNfTVVMVElfU0VHX1JFRF9VRFdfTUFTSywgdmFsMikgPDwgNiB8Cj4+ICsJCQkJ
ICAgUkVHX0ZJRUxEX0dFVChQQUxfUFJFQ19NVUxUSV9TRUdfUkVEX0xEV19NQVNLLCB2YWwxKTsK
Pj4gKwkJYmxvYl9kYXRhW2ldLmdyZWVuID0gUkVHX0ZJRUxEX0dFVChQQUxfUFJFQ19NVUxUSV9T
RUdfR1JFRU5fVURXX01BU0ssIHZhbDIpIDw8IDYgfAo+PiArCQkJCSAgICAgUkVHX0ZJRUxEX0dF
VChQQUxfUFJFQ19NVUxUSV9TRUdfR1JFRU5fTERXX01BU0ssIHZhbDEpOwo+PiArCQlibG9iX2Rh
dGFbaV0uYmx1ZSA9IFJFR19GSUVMRF9HRVQoUEFMX1BSRUNfTVVMVElfU0VHX0JMVUVfVURXX01B
U0ssIHZhbDIpIDw8IDYgfAo+PiArCQkJCSAgICBSRUdfRklFTERfR0VUKFBBTF9QUkVDX01VTFRJ
X1NFR19CTFVFX0xEV19NQVNLLCB2YWwxKTsKPj4gKwl9Cj4+ICsKPj4gKwkvKgo+PiArCSAqIEZJ
WE1FIHJlYWRvdXRzIGZyb20gUEFMX1BSRUNfREFUQSByZWdpc3RlciBhcmVuJ3QgZ2l2aW5nIGNv
cnJlY3QgdmFsdWVzCj4+ICsJICogaW4gdGhlIGNhc2Ugb2YgZmluZSBhbmQgY29hcnNlIHNlZ21l
bnRzLiBSZXN0cmljdGluZyByZWFkb3V0cyBvbmx5IGZvcgo+PiArCSAqIHN1cGVyIGZpbmUgc2Vn
bWVudCBhcyBvZiBub3cuCj4+ICsJICovCj4+ICsKPj4gKwlyZXR1cm4gYmxvYjsKPj4gK30KPj4g
Kwo+PiArc3RhdGljIHZvaWQgaWNsX3JlYWRfbHV0cyhzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAq
Y3J0Y19zdGF0ZSkKPj4gK3sKPj4gKwlpZiAoKGNydGNfc3RhdGUtPmdhbW1hX21vZGUgJiBQT1NU
X0NTQ19HQU1NQV9FTkFCTEUpID09IDApCj4+ICsJCXJldHVybjsKPj4gKwo+PiArCWlmICgoY3J0
Y19zdGF0ZS0+Z2FtbWFfbW9kZSAmIEdBTU1BX01PREVfTU9ERV9NQVNLKSA9PQo+PiArCSAgICBH
QU1NQV9NT0RFX01PREVfOEJJVCkKPiAKPiBQbGVhc2UgbWFrZSB0aGlzIGEgc3dpdGNoIHN0YXRl
bWVudC4KPiAKPiBJIHB1c2hlZCBwYXRjaGVzIDEtMiB0byBkaW5xLiBUaGFua3MuCj4gCj4+ICsJ
CWNydGNfc3RhdGUtPmJhc2UuZ2FtbWFfbHV0ID0gaTl4eF9yZWFkX2x1dF84KGNydGNfc3RhdGUp
Owo+PiArCWVsc2UgaWYgKChjcnRjX3N0YXRlLT5nYW1tYV9tb2RlICYgR0FNTUFfTU9ERV9NT0RF
X01BU0spID09Cj4+ICsJCSBHQU1NQV9NT0RFX01PREVfMTJCSVRfTVVMVElfU0VHTUVOVEVEKQo+
PiArCQljcnRjX3N0YXRlLT5iYXNlLmdhbW1hX2x1dCA9IGljbF9yZWFkX2x1dF9tdWx0aV9zZWdt
ZW50KGNydGNfc3RhdGUpOwo+PiArCWVsc2UKPj4gKwkJY3J0Y19zdGF0ZS0+YmFzZS5nYW1tYV9s
dXQgPSBnbGtfcmVhZF9sdXRfMTAoY3J0Y19zdGF0ZSwgUEFMX1BSRUNfSU5ERVhfVkFMVUUoMCkp
Owo+PiArfQo+PiArCj4+ICAgdm9pZCBpbnRlbF9jb2xvcl9pbml0KHN0cnVjdCBpbnRlbF9jcnRj
ICpjcnRjKQo+PiAgIHsKPj4gICAJc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2ID0g
dG9faTkxNShjcnRjLT5iYXNlLmRldik7Cj4+IEBAIC0xODU4LDYgKzE5NDcsNyBAQCB2b2lkIGlu
dGVsX2NvbG9yX2luaXQoc3RydWN0IGludGVsX2NydGMgKmNydGMpCj4+ICAgCj4+ICAgCQlpZiAo
SU5URUxfR0VOKGRldl9wcml2KSA+PSAxMSkgewo+PiAgIAkJCWRldl9wcml2LT5kaXNwbGF5Lmxv
YWRfbHV0cyA9IGljbF9sb2FkX2x1dHM7Cj4+ICsJCQlkZXZfcHJpdi0+ZGlzcGxheS5yZWFkX2x1
dHMgPSBpY2xfcmVhZF9sdXRzOwo+PiAgIAkJfSBlbHNlIGlmIChJU19DQU5OT05MQUtFKGRldl9w
cml2KSB8fCBJU19HRU1JTklMQUtFKGRldl9wcml2KSkgewo+PiAgIAkJCWRldl9wcml2LT5kaXNw
bGF5LmxvYWRfbHV0cyA9IGdsa19sb2FkX2x1dHM7Cj4+ICAgCQkJZGV2X3ByaXYtPmRpc3BsYXku
cmVhZF9sdXRzID0gZ2xrX3JlYWRfbHV0czsKPj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2k5MTVfcmVnLmggYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3JlZy5oCj4+IGlu
ZGV4IDFkYzA2N2ZjNTdhYi4uMDZiNjM5OGI3ZDYyIDEwMDY0NAo+PiAtLS0gYS9kcml2ZXJzL2dw
dS9kcm0vaTkxNS9pOTE1X3JlZy5oCj4+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVf
cmVnLmgKPj4gQEAgLTEwNTg0LDYgKzEwNTg0LDEyIEBAIGVudW0gc2tsX3Bvd2VyX2dhdGUgewo+
PiAgIAo+PiAgICNkZWZpbmUgX1BBTF9QUkVDX01VTFRJX1NFR19EQVRBX0EJMHg0QTQwQwo+PiAg
ICNkZWZpbmUgX1BBTF9QUkVDX01VTFRJX1NFR19EQVRBX0IJMHg0QUMwQwo+PiArI2RlZmluZSAg
UEFMX1BSRUNfTVVMVElfU0VHX1JFRF9MRFdfTUFTSyAgIFJFR19HRU5NQVNLKDI5LCAyNCkKPj4g
KyNkZWZpbmUgIFBBTF9QUkVDX01VTFRJX1NFR19SRURfVURXX01BU0sgICBSRUdfR0VOTUFTSygy
OSwgMjApCj4+ICsjZGVmaW5lICBQQUxfUFJFQ19NVUxUSV9TRUdfR1JFRU5fTERXX01BU0sgUkVH
X0dFTk1BU0soMTksIDE0KQo+PiArI2RlZmluZSAgUEFMX1BSRUNfTVVMVElfU0VHX0dSRUVOX1VE
V19NQVNLIFJFR19HRU5NQVNLKDE5LCAxMCkKPj4gKyNkZWZpbmUgIFBBTF9QUkVDX01VTFRJX1NF
R19CTFVFX0xEV19NQVNLICBSRUdfR0VOTUFTSyg5LCA0KQo+PiArI2RlZmluZSAgUEFMX1BSRUNf
TVVMVElfU0VHX0JMVUVfVURXX01BU0sgIFJFR19HRU5NQVNLKDksIDApCj4+ICAgCj4+ICAgI2Rl
ZmluZSBQUkVDX1BBTF9NVUxUSV9TRUdfSU5ERVgocGlwZSkJX01NSU9fUElQRShwaXBlLCBcCj4+
ICAgCQkJCQlfUEFMX1BSRUNfTVVMVElfU0VHX0lOREVYX0EsIFwKPj4gLS0gCj4+IDIuMjMuMAo+
IAoKCi0tIAp+U3dhdGkgU2hhcm1hCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fCkludGVsLWdmeCBtYWlsaW5nIGxpc3QKSW50ZWwtZ2Z4QGxpc3RzLmZyZWVk
ZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZv
L2ludGVsLWdmeA==

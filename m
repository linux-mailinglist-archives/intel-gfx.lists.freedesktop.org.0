Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id A17D7B735F
	for <lists+intel-gfx@lfdr.de>; Thu, 19 Sep 2019 08:47:14 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 0F2816F716;
	Thu, 19 Sep 2019 06:47:13 +0000 (UTC)
X-Original-To: Intel-GFX@lists.freedesktop.org
Delivered-To: Intel-GFX@lists.freedesktop.org
Received: from mga05.intel.com (mga05.intel.com [192.55.52.43])
 by gabe.freedesktop.org (Postfix) with ESMTPS id AB9446F716
 for <Intel-GFX@lists.freedesktop.org>; Thu, 19 Sep 2019 06:47:11 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga005.jf.intel.com ([10.7.209.41])
 by fmsmga105.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 18 Sep 2019 23:47:11 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.64,522,1559545200"; d="scan'208";a="362426229"
Received: from relo-linux-5.jf.intel.com ([10.165.21.134])
 by orsmga005.jf.intel.com with ESMTP; 18 Sep 2019 23:47:10 -0700
From: John.C.Harrison@Intel.com
To: Intel-GFX@Lists.FreeDesktop.Org
Date: Wed, 18 Sep 2019 23:47:09 -0700
Message-Id: <20190919064710.16559-2-John.C.Harrison@Intel.com>
X-Mailer: git-send-email 2.21.0.5.gaeb582a983
In-Reply-To: <20190919064710.16559-1-John.C.Harrison@Intel.com>
References: <20190919064710.16559-1-John.C.Harrison@Intel.com>
MIME-Version: 1.0
Organization: Intel Corporation (UK) Ltd. - Co. Reg. #1134945 - Pipers Way,
 Swindon SN3 1RJ
Subject: [Intel-gfx] [PATCH 1/2] drm/i915: Engine relative MMIO
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: Chris P Wilson <chris.p.wilson@intel.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

RnJvbTogSm9obiBIYXJyaXNvbiA8Sm9obi5DLkhhcnJpc29uQEludGVsLmNvbT4KCldpdGggdmly
dHVhbCBlbmdpbmVzLCBpdCBpcyBubyBsb25nZXIgcG9zc2libGUgdG8ga25vdyB3aGljaCBzcGVj
aWZpYwpwaHlzaWNhbCBlbmdpbmUgYSBnaXZlbiByZXF1ZXN0IHdpbGwgYmUgZXhlY3V0ZWQgb24g
YXQgdGhlIHRpbWUgdGhhdApyZXF1ZXN0IGlzIGdlbmVyYXRlZC4gVGhpcyBtZWFucyB0aGF0IHRo
ZSByZXF1ZXN0IGl0c2VsZiBtdXN0IGJlIGVuZ2luZQphZ25vc3RpYyAtIGFueSBkaXJlY3QgcmVn
aXN0ZXIgd3JpdGVzIG11c3QgYmUgcmVsYXRpdmUgdG8gdGhlIGVuZ2luZQphbmQgbm90IGFic29s
dXRlIGFkZHJlc3Nlcy4KClRoZSBMUkkgY29tbWFuZCBoYXMgc3VwcG9ydCBmb3IgZW5naW5lIHJl
bGF0aXZlIGFkZHJlc3NpbmcuIEhvd2V2ZXIsCnRoZSBtZWNoYW5pc20gaXMgbm90IHRyYW5zcGFy
ZW50IHRvIHRoZSBkcml2ZXIuIFRoZSBzY2hlbWUgZm9yIEdlbjExCihNSV9MUklfQUREX0NTX01N
SU9fU1RBUlQpIHJlcXVpcmVzIHRoZSBMUkkgYWRkcmVzcyB0byBoYXZlIG5vCmFic29sdXRlIGVu
Z2luZSBiYXNlIGNvbXBvbmVudC4gVGhlIGhhcmR3YXJlIHRoZW4gYWRkcyBvbiB0aGUgY29ycmVj
dAplbmdpbmUgb2Zmc2V0IGF0IGV4ZWN1dGlvbiB0aW1lLgoKRHVlIHRvIHRoZSBub24tdHJpdmlh
bCBhbmQgZGlmZmVyaW5nIHNjaGVtZXMgb24gZGlmZmVyZW50IGhhcmR3YXJlLCBpdAppcyBub3Qg
cG9zc2libGUgdG8gc2ltcGx5IHNldCBhIHJlbWFwIGZsYWcgYW5kIGxldCB0aGUgaGFyZHdhcmUg
Z2V0IG9uCndpdGggaXQuIEluc3RlYWQsIHRoaXMgcGF0Y2ggYWRkcyAnbHJpX2NtZF9tb2RlJyBh
bmQgJ2xyaV9tbWlvX2Jhc2UnCmZpZWxkcyB0byB0aGUgZW5naW5lIHN0cnVjdHVyZS4gVGhlIGZv
cm1lciBzaG91bGQgYmUgT1JkIGluIHdoZW4KY3JlYXRpbmcgYW4gTFJJIGNvbW1hbmQuIFRoZSBs
YXR0ZXIgc2hvdWxkIGJlIHVzZWQgYXMgdGhlIHJlZ2lzdGVyCmJhc2UgYWRkcmVzcyAoYXMgb3Bw
b3NlZCB0byBqdXN0IGVuZ2luZS0+bW1pb19iYXNlKS4gVGhleSBhcmUgc2V0IHBlcgplbmdpbmUg
YWNjb3JkaW5nIHRvIHRoZSBjdXJyZW50bHkgYXZhaWxhYmxlIGhhcmR3YXJlIHNjaGVtZS4KCnYy
OiBGaXggYnVpbGQgYnJlYWsgaW4gR1ZULiBSZW1vdmUgZmxhZ3MgcGFyYW1ldGVyIFtyZXZpZXcg
ZmVlZGJhY2sKZnJvbSBDaHJpcyBXXS4KCnYzOiBGaXggYnVpbGQgYnJlYWsgaW4gc2VsZnRlc3Qu
IFJlYmFzZSB0byBuZXdlciBiYXNlIHRyZWUgYW5kIGZpeAptZXJnZSBjb25mbGljdC4KCnY0OiBN
b3JlIHJlYmFzaW5nLiBSbW92ZWQgcmVsYXRpdmUgYWRkcmVzc2luZyBzdXBwb3J0IGZyb20gR2Vu
Ny05IG9ubHkKY29kZSBwYXRocyBbcmV2aWV3IGZlZWRiYWNrIGZyb20gQ2hyaXMgV10uCgp2NTog
TW9yZSByZWJhc2luZyAobmV3ICdndCcgZGlyZWN0b3J5KS4gRml4IHdoaXRlIHNwYWNlIGlzc3Vl
LiBVc2UKQ09QWSBjbGFzcyByYXRoZXIgdGhhbiBCQ1MwIGlkIGZvciBjaGVja2luZyBhZ2FpbnN0
IEJDUyBlbmdpbmUuCgp2NjogQ2hhbmdlIHRvIE1JX0xSSSBmb3IgZ2VuZXJpYyBjb2RlIGFuZCBf
X01JX0xSSSBmb3IgbGVnYWN5IGNvZGUuCk1JX0xSSSBpcyBub3cgYSBtYWNybyB3cmFwcGVyIGFy
b3VuZCBhbiBlbmdpbmUgZnVuY3Rpb24gcG9pbnRlciB0bwpyZWR1Y2UgcnVudGltZSBjaGVja3Mg
b24gTFJJIHJlbGF0aXZlIHN1cHBvcnQuIFtyZXZpZXcgZmVlZGJhY2sgZnJvbQpUdnJ0a29dCgp2
NzogUmVwbGFjZSBlbmdpbmUgZnVuY3Rpb24gcG9pbnRlciB3aXRoIGEgcGVyIGVuZ2luZSBmbGFn
cyBmaWVsZCB0aGF0CmlzIGFkZGVkIGJ5IGEgY29tbW9uIGZ1bmN0aW9uLiBbRGFuaWVsZV0KCnY4
OiBSZS13cml0ZSBvbiB0b3Agb2YgcGF0Y2ggc2VyaWVzIGJ5IE1pa2EgLSBncmVhdGx5IHNpbXBs
aWZpZWQgdG8Kbm90IGJvdGhlciB3aXRoIGFueSBvZiB0aGUgYWJzdHJhY3Rpb24gb2YgdGhlIHBy
ZXZpb3VzIHZlcnNpb24uCgpCc3BlYzogNDU2MDYKU2lnbmVkLW9mZi1ieTogSm9obiBIYXJyaXNv
biA8Sm9obi5DLkhhcnJpc29uQEludGVsLmNvbT4KQ0M6IFJvZHJpZ28gVml2aSA8cm9kcmlnby52
aXZpQGludGVsLmNvbT4KQ0M6IFR2cnRrbyBVcnN1bGluIDx0dnJ0a28udXJzdWxpbkBpbnRlbC5j
b20+CkNDOiBDaHJpcyBQIFdpbHNvbiA8Y2hyaXMucC53aWxzb25AaW50ZWwuY29tPgpDQzogRGFu
aWVsZSBDZXJhb2xvIFNwdXJpbyA8ZGFuaWVsZS5jZXJhb2xvc3B1cmlvQGludGVsLmNvbT4KLS0t
CiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fY29udGV4dC5jICB8ICA3ICsrLS0K
IGRyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2VuZ2luZV9jcy5jICAgIHwgMjQgKysrKysr
KysrKysrCiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9lbmdpbmVfdHlwZXMuaCB8ICAz
ICsrCiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9ncHVfY29tbWFuZHMuaCB8ICA3ICsr
Ky0KIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2xyYy5jICAgICAgICAgIHwgNDAgKysr
KysrKysrKy0tLS0tLS0tLS0KIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX21vY3MuYyAg
ICAgICAgIHwgIDYgKy0tCiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9yaW5nYnVmZmVy
LmMgICB8IDEyICsrKy0tLQogZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfd29ya2Fyb3Vu
ZHMuYyAgfCAgMiArLQogZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9wZXJmLmMgICAgICAgICAg
ICAgfCAgOCArKystCiA5IGZpbGVzIGNoYW5nZWQsIDc0IGluc2VydGlvbnMoKyksIDM1IGRlbGV0
aW9ucygtKQoKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9j
b250ZXh0LmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fY29udGV4dC5jCmlu
ZGV4IGYxYzBlNWQ5NThmMy4uYTE3YWE3ODAxN2NiIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9k
cm0vaTkxNS9nZW0vaTkxNV9nZW1fY29udGV4dC5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1
L2dlbS9pOTE1X2dlbV9jb250ZXh0LmMKQEAgLTk4MCw3ICs5ODAsNyBAQCBzdGF0aWMgaW50IGVt
aXRfcHBndHRfdXBkYXRlKHN0cnVjdCBpOTE1X3JlcXVlc3QgKnJxLCB2b2lkICpkYXRhKQogewog
CXN0cnVjdCBpOTE1X2FkZHJlc3Nfc3BhY2UgKnZtID0gcnEtPmh3X2NvbnRleHQtPnZtOwogCXN0
cnVjdCBpbnRlbF9lbmdpbmVfY3MgKmVuZ2luZSA9IHJxLT5lbmdpbmU7Ci0JdTMyIGJhc2UgPSBl
bmdpbmUtPm1taW9fYmFzZTsKKwl1MzIgYmFzZSA9IGVuZ2luZS0+bHJpX21taW9fYmFzZTsKIAl1
MzIgKmNzOwogCWludCBpOwogCkBAIC05OTIsNyArOTkyLDcgQEAgc3RhdGljIGludCBlbWl0X3Bw
Z3R0X3VwZGF0ZShzdHJ1Y3QgaTkxNV9yZXF1ZXN0ICpycSwgdm9pZCAqZGF0YSkKIAkJaWYgKElT
X0VSUihjcykpCiAJCQlyZXR1cm4gUFRSX0VSUihjcyk7CiAKLQkJKmNzKysgPSBNSV9MT0FEX1JF
R0lTVEVSX0lNTSgyKTsKKwkJKmNzKysgPSBNSV9MT0FEX1JFR0lTVEVSX0lNTSgyKSB8IGVuZ2lu
ZS0+bHJpX2NtZF9tb2RlOwogCiAJCSpjcysrID0gaTkxNV9tbWlvX3JlZ19vZmZzZXQoR0VOOF9S
SU5HX1BEUF9VRFcoYmFzZSwgMCkpOwogCQkqY3MrKyA9IHVwcGVyXzMyX2JpdHMocGRfZGFkZHIp
OwpAQCAtMTAxNCw3ICsxMDE0LDggQEAgc3RhdGljIGludCBlbWl0X3BwZ3R0X3VwZGF0ZShzdHJ1
Y3QgaTkxNV9yZXF1ZXN0ICpycSwgdm9pZCAqZGF0YSkKIAkJaWYgKElTX0VSUihjcykpCiAJCQly
ZXR1cm4gUFRSX0VSUihjcyk7CiAKLQkJKmNzKysgPSBNSV9MT0FEX1JFR0lTVEVSX0lNTSgyICog
R0VOOF8zTFZMX1BEUEVTKSB8IE1JX0xSSV9GT1JDRV9QT1NURUQ7CisJCSpjcysrID0gTUlfTE9B
RF9SRUdJU1RFUl9JTU0oMiAqIEdFTjhfM0xWTF9QRFBFUykgfAorCQkJTUlfTFJJX0ZPUkNFX1BP
U1RFRCB8IGVuZ2luZS0+bHJpX2NtZF9tb2RlOwogCQlmb3IgKGkgPSBHRU44XzNMVkxfUERQRVM7
IGktLTsgKSB7CiAJCQljb25zdCBkbWFfYWRkcl90IHBkX2RhZGRyID0gaTkxNV9wYWdlX2Rpcl9k
bWFfYWRkcihwcGd0dCwgaSk7CiAKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0
L2ludGVsX2VuZ2luZV9jcy5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZW5naW5l
X2NzLmMKaW5kZXggM2MxNzZiMGY0YjQ1Li42ZTUxMjY5YWIyZWMgMTAwNjQ0Ci0tLSBhL2RyaXZl
cnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2VuZ2luZV9jcy5jCisrKyBiL2RyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2d0L2ludGVsX2VuZ2luZV9jcy5jCkBAIC0yMzYsNiArMjM2LDI4IEBAIHN0YXRpYyB1
MzIgX19lbmdpbmVfbW1pb19iYXNlKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICppOTE1LAogCXJl
dHVybiBiYXNlc1tpXS5iYXNlOwogfQogCitzdGF0aWMgYm9vbCBpOTE1X2VuZ2luZV9oYXNfcmVs
YXRpdmVfbHJpKGNvbnN0IHN0cnVjdCBpbnRlbF9lbmdpbmVfY3MgKmVuZ2luZSkKK3sKKwlpZiAo
SU5URUxfR0VOKGVuZ2luZS0+aTkxNSkgPCAxMSkKKwkJcmV0dXJuIGZhbHNlOworCisJaWYgKGVu
Z2luZS0+Y2xhc3MgPT0gQ09QWV9FTkdJTkVfQ0xBU1MpCisJCXJldHVybiBmYWxzZTsKKworCXJl
dHVybiB0cnVlOworfQorCitzdGF0aWMgdm9pZCBscmlfaW5pdChzdHJ1Y3QgaW50ZWxfZW5naW5l
X2NzICplbmdpbmUpCit7CisJaWYgKGk5MTVfZW5naW5lX2hhc19yZWxhdGl2ZV9scmkoZW5naW5l
KSkgeworCQllbmdpbmUtPmxyaV9jbWRfbW9kZSA9IE1JX0xSSV9BRERfQ1NfTU1JT19TVEFSVF9H
RU4xMTsKKwkJZW5naW5lLT5scmlfbW1pb19iYXNlID0gMDsKKwl9IGVsc2UgeworCQllbmdpbmUt
PmxyaV9jbWRfbW9kZSA9IDA7CisJCWVuZ2luZS0+bHJpX21taW9fYmFzZSA9IGVuZ2luZS0+bW1p
b19iYXNlOworCX0KK30KKwogc3RhdGljIHZvaWQgX19zcHJpbnRfZW5naW5lX25hbWUoc3RydWN0
IGludGVsX2VuZ2luZV9jcyAqZW5naW5lKQogewogCS8qCkBAIC0zMjAsNiArMzQyLDggQEAgc3Rh
dGljIGludCBpbnRlbF9lbmdpbmVfc2V0dXAoc3RydWN0IGludGVsX2d0ICpndCwgZW51bSBpbnRl
bF9lbmdpbmVfaWQgaWQpCiAJLyogTm90aGluZyB0byBkbyBoZXJlLCBleGVjdXRlIGluIG9yZGVy
IG9mIGRlcGVuZGVuY2llcyAqLwogCWVuZ2luZS0+c2NoZWR1bGUgPSBOVUxMOwogCisJbHJpX2lu
aXQoZW5naW5lKTsKKwogCXNlcWxvY2tfaW5pdCgmZW5naW5lLT5zdGF0cy5sb2NrKTsKIAogCUFU
T01JQ19JTklUX05PVElGSUVSX0hFQUQoJmVuZ2luZS0+Y29udGV4dF9zdGF0dXNfbm90aWZpZXIp
OwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZW5naW5lX3R5cGVz
LmggYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9lbmdpbmVfdHlwZXMuaAppbmRleCA5
NDNmMDY2MzgzN2UuLjM4ZjQ4NmY3ZjdlMyAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5
MTUvZ3QvaW50ZWxfZW5naW5lX3R5cGVzLmgKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3Qv
aW50ZWxfZW5naW5lX3R5cGVzLmgKQEAgLTMwNiw2ICszMDYsOSBAQCBzdHJ1Y3QgaW50ZWxfZW5n
aW5lX2NzIHsKIAl1MzIgY29udGV4dF9zaXplOwogCXUzMiBtbWlvX2Jhc2U7CiAKKwl1MzIgbHJp
X21taW9fYmFzZTsKKwl1MzIgbHJpX2NtZF9tb2RlOworCiAJdTMyIHVhYmlfY2FwYWJpbGl0aWVz
OwogCiAJc3RydWN0IHJiX25vZGUgdWFiaV9ub2RlOwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUv
ZHJtL2k5MTUvZ3QvaW50ZWxfZ3B1X2NvbW1hbmRzLmggYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9n
dC9pbnRlbF9ncHVfY29tbWFuZHMuaAppbmRleCBmNzhiMTNkNzRlMTcuLmJmYjUxZDhkN2NlMiAx
MDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZ3B1X2NvbW1hbmRzLmgK
KysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZ3B1X2NvbW1hbmRzLmgKQEAgLTEz
MywxMSArMTMzLDE2IEBACiAgKiAgIHNpbXBseSBpZ25vcmVzIHRoZSByZWdpc3RlciBsb2FkIHVu
ZGVyIGNlcnRhaW4gY29uZGl0aW9ucy4KICAqIC0gT25lIGNhbiBhY3R1YWxseSBsb2FkIGFyYml0
cmFyeSBtYW55IGFyYml0cmFyeSByZWdpc3RlcnM6IFNpbXBseSBpc3N1ZSB4CiAgKiAgIGFkZHJl
c3MvdmFsdWUgcGFpcnMuIERvbid0IG92ZXJkdWUgaXQsIHRob3VnaCwgeCA8PSAyXjQgbXVzdCBo
b2xkIQorICogLSBOZXdlciBoYXJkd2FyZSBzdXBwb3J0cyBlbmdpbmUgcmVsYXRpdmUgYWRkcmVz
c2luZyBidXQgb2xkZXIgaGFyZHdhcmUgZG9lcworICogICBub3QuIFRoaXMgaXMgcmVxdWlyZWQg
Zm9yIGh3IGVuZ2luZSBsb2FkIGJhbGFuY2luZy4gSGVuY2UgdGhlIE1JX0xSSQorICogICBpbnN0
cnVjdGlvbiBpdHNlbGYgaXMgcHJlZml4ZWQgd2l0aCAnX18nIGFuZCBzaG91bGQgb25seSBiZSB1
c2VkIG9uCisgKiAgIGxlZ2FjeSBoYXJkd2FyZSBjb2RlIHBhdGhzLiBHZW5lcmljIGNvZGUgbXVz
dCBhbHdheXMgdXNlIHRoZSBNSV9MUkkKKyAqICAgYW5kIGk5MTVfZ2V0X2xyaV9yZWcoKSBoZWxw
ZXIgZnVuY3Rpb25zIGluc3RlYWQuCiAgKi8KICNkZWZpbmUgTUlfTE9BRF9SRUdJU1RFUl9JTU0o
eCkJTUlfSU5TVFIoMHgyMiwgMiooeCktMSkKIC8qIEdlbjExKy4gYWRkciA9IGJhc2UgKyAoY3R4
X3Jlc3RvcmUgPyBvZmZzZXQgJiBHRU5NQVNLKDEyLDIpIDogb2Zmc2V0KSAqLwotI2RlZmluZSAg
IE1JX0xSSV9DU19NTUlPCQkoMTw8MTkpCiAjZGVmaW5lICAgTUlfTFJJX0ZPUkNFX1BPU1RFRAkJ
KDE8PDEyKQorI2RlZmluZSAgIE1JX0xSSV9BRERfQ1NfTU1JT19TVEFSVF9HRU4xMQlCSVQoMTkp
CiAjZGVmaW5lIE1JX1NUT1JFX1JFR0lTVEVSX01FTSAgICAgICAgTUlfSU5TVFIoMHgyNCwgMSkK
ICNkZWZpbmUgTUlfU1RPUkVfUkVHSVNURVJfTUVNX0dFTjggICBNSV9JTlNUUigweDI0LCAyKQog
I2RlZmluZSAgIE1JX1NSTV9MUk1fR0xPQkFMX0dUVAkJKDE8PDIyKQpkaWZmIC0tZ2l0IGEvZHJp
dmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfbHJjLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9n
dC9pbnRlbF9scmMuYwppbmRleCBhOTkxNjZhMmQyZWIuLmQ1ZWE2ZjdkM2I1YyAxMDA2NDQKLS0t
IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfbHJjLmMKKysrIGIvZHJpdmVycy9ncHUv
ZHJtL2k5MTUvZ3QvaW50ZWxfbHJjLmMKQEAgLTE5ODYsMTEgKzE5ODYsMTIgQEAgc3RydWN0IGxy
aSB7CiAJdTMyIHZhbHVlOwogfTsKIAotc3RhdGljIHUzMiAqZW1pdF9scmkodTMyICpiYXRjaCwg
Y29uc3Qgc3RydWN0IGxyaSAqbHJpLCB1bnNpZ25lZCBpbnQgY291bnQpCitzdGF0aWMgdTMyICpl
bWl0X2xyaShzdHJ1Y3QgaW50ZWxfZW5naW5lX2NzICplbmdpbmUsIHUzMiAqYmF0Y2gsCisJCSAg
ICAgY29uc3Qgc3RydWN0IGxyaSAqbHJpLCB1bnNpZ25lZCBpbnQgY291bnQpCiB7CiAJR0VNX0JV
R19PTighY291bnQgfHwgY291bnQgPiA2Myk7CiAKLQkqYmF0Y2grKyA9IE1JX0xPQURfUkVHSVNU
RVJfSU1NKGNvdW50KTsKKwkqYmF0Y2grKyA9IE1JX0xPQURfUkVHSVNURVJfSU1NKGNvdW50KSB8
IGVuZ2luZS0+bHJpX2NtZF9tb2RlOwogCWRvIHsKIAkJKmJhdGNoKysgPSBpOTE1X21taW9fcmVn
X29mZnNldChscmktPnJlZyk7CiAJCSpiYXRjaCsrID0gbHJpLT52YWx1ZTsKQEAgLTIwMzAsNyAr
MjAzMSw3IEBAIHN0YXRpYyB1MzIgKmdlbjlfaW5pdF9pbmRpcmVjdGN0eF9iYihzdHJ1Y3QgaW50
ZWxfZW5naW5lX2NzICplbmdpbmUsIHUzMiAqYmF0Y2gpCiAJLyogV2FGbHVzaENvaGVyZW50TDND
YWNoZUxpbmVzQXRDb250ZXh0U3dpdGNoOnNrbCxieHQsZ2xrICovCiAJYmF0Y2ggPSBnZW44X2Vt
aXRfZmx1c2hfY29oZXJlbnRsM193YShlbmdpbmUsIGJhdGNoKTsKIAotCWJhdGNoID0gZW1pdF9s
cmkoYmF0Y2gsIGxyaSwgQVJSQVlfU0laRShscmkpKTsKKwliYXRjaCA9IGVtaXRfbHJpKGVuZ2lu
ZSwgYmF0Y2gsIGxyaSwgQVJSQVlfU0laRShscmkpKTsKIAogCS8qIFdhTWVkaWFQb29sU3RhdGVD
bWRJbldBQkI6Ynh0LGdsayAqLwogCWlmIChIQVNfUE9PTEVEX0VVKGVuZ2luZS0+aTkxNSkpIHsK
QEAgLTMxODYsNyArMzE4Nyw3IEBAIHN0YXRpYyB2b2lkIGluaXRfY29tbW9uX3JlZ19zdGF0ZSh1
MzIgKiBjb25zdCByZWdzLAogCQkJCSAgc3RydWN0IGludGVsX2VuZ2luZV9jcyAqZW5naW5lLAog
CQkJCSAgc3RydWN0IGludGVsX3JpbmcgKnJpbmcpCiB7Ci0JY29uc3QgdTMyIGJhc2UgPSBlbmdp
bmUtPm1taW9fYmFzZTsKKwljb25zdCB1MzIgYmFzZSA9IGVuZ2luZS0+bHJpX21taW9fYmFzZTsK
IAogCUNUWF9SRUcocmVncywgQ1RYX0NPTlRFWFRfQ09OVFJPTCwgUklOR19DT05URVhUX0NPTlRS
T0woYmFzZSksCiAJCV9NQVNLRURfQklUX0RJU0FCTEUoQ1RYX0NUUkxfRU5HSU5FX0NUWF9SRVNU
T1JFX0lOSElCSVQpIHwKQEAgLTMyMTEsNyArMzIxMiw3IEBAIHN0YXRpYyB2b2lkIGluaXRfd2Ff
YmJfcmVnX3N0YXRlKHUzMiAqIGNvbnN0IHJlZ3MsCiAJCQkJIHUzMiBwb3NfYmJfcGVyX2N0eCkK
IHsKIAlzdHJ1Y3QgaTkxNV9jdHhfd29ya2Fyb3VuZHMgKiBjb25zdCB3YV9jdHggPSAmZW5naW5l
LT53YV9jdHg7Ci0JY29uc3QgdTMyIGJhc2UgPSBlbmdpbmUtPm1taW9fYmFzZTsKKwljb25zdCB1
MzIgYmFzZSA9IGVuZ2luZS0+bHJpX21taW9fYmFzZTsKIAljb25zdCB1MzIgcG9zX2luZGlyZWN0
X2N0eCA9IHBvc19iYl9wZXJfY3R4ICsgMjsKIAljb25zdCB1MzIgcG9zX2luZGlyZWN0X2N0eF9v
ZmZzZXQgPSBwb3NfaW5kaXJlY3RfY3R4ICsgMjsKIApAQCAtMzIzOSw2ICszMjQwLDcgQEAgc3Rh
dGljIHZvaWQgaW5pdF93YV9iYl9yZWdfc3RhdGUodTMyICogY29uc3QgcmVncywKIH0KIAogc3Rh
dGljIHZvaWQgaW5pdF9wcGd0dF9yZWdfc3RhdGUodTMyICpyZWdzLCB1MzIgYmFzZSwKKwkJCQkg
c3RydWN0IGludGVsX2VuZ2luZV9jcyAqZW5naW5lLAogCQkJCSBzdHJ1Y3QgaTkxNV9wcGd0dCAq
cHBndHQpCiB7CiAJLyogUERQIHZhbHVlcyB3ZWxsIGJlIGFzc2lnbmVkIGxhdGVyIGlmIG5lZWRl
ZCAqLwpAQCAtMzI4MCwxNCArMzI4MiwxMiBAQCBzdGF0aWMgdm9pZCBnZW44X2luaXRfcmVnX3N0
YXRlKHUzMiAqIGNvbnN0IHJlZ3MsCiB7CiAJc3RydWN0IGk5MTVfcHBndHQgKiBjb25zdCBwcGd0
dCA9IHZtX2FsaWFzKGNlLT52bSk7CiAJY29uc3QgYm9vbCByY3MgPSBlbmdpbmUtPmNsYXNzID09
IFJFTkRFUl9DTEFTUzsKLQljb25zdCB1MzIgYmFzZSA9IGVuZ2luZS0+bW1pb19iYXNlOwotCWNv
bnN0IHUzMiBscmlfYmFzZSA9Ci0JCWludGVsX2VuZ2luZV9oYXNfcmVsYXRpdmVfbW1pbyhlbmdp
bmUpID8gTUlfTFJJX0NTX01NSU8gOiAwOworCWNvbnN0IHUzMiBiYXNlID0gZW5naW5lLT5scmlf
bW1pb19iYXNlOwogCiAJcmVnc1tDVFhfTFJJX0hFQURFUl8wXSA9CiAJCU1JX0xPQURfUkVHSVNU
RVJfSU1NKHJjcyA/IDE0IDogMTEpIHwKIAkJTUlfTFJJX0ZPUkNFX1BPU1RFRCB8Ci0JCWxyaV9i
YXNlOworCQllbmdpbmUtPmxyaV9jbWRfbW9kZTsKIAogCWluaXRfY29tbW9uX3JlZ19zdGF0ZShy
ZWdzLCBwcGd0dCwgZW5naW5lLCByaW5nKTsKIAlDVFhfUkVHKHJlZ3MsIENUWF9TRUNPTkRfQkJf
SEVBRF9VLCBSSU5HX1NCQkFERFJfVURXKGJhc2UpLCAwKTsKQEAgLTMyOTksMTUgKzMyOTksMTcg
QEAgc3RhdGljIHZvaWQgZ2VuOF9pbml0X3JlZ19zdGF0ZSh1MzIgKiBjb25zdCByZWdzLAogCXJl
Z3NbQ1RYX0xSSV9IRUFERVJfMV0gPQogCQlNSV9MT0FEX1JFR0lTVEVSX0lNTSg5KSB8CiAJCU1J
X0xSSV9GT1JDRV9QT1NURUQgfAotCQlscmlfYmFzZTsKKwkJZW5naW5lLT5scmlfY21kX21vZGU7
CiAKIAlDVFhfUkVHKHJlZ3MsIENUWF9DVFhfVElNRVNUQU1QLCBSSU5HX0NUWF9USU1FU1RBTVAo
YmFzZSksIDApOwogCi0JaW5pdF9wcGd0dF9yZWdfc3RhdGUocmVncywgYmFzZSwgcHBndHQpOwor
CWluaXRfcHBndHRfcmVnX3N0YXRlKHJlZ3MsIGJhc2UsIGVuZ2luZSwgcHBndHQpOwogCiAJaWYg
KHJjcykgewotCQlyZWdzW0NUWF9MUklfSEVBREVSXzJdID0gTUlfTE9BRF9SRUdJU1RFUl9JTU0o
MSkgfCBscmlfYmFzZTsKLQkJQ1RYX1JFRyhyZWdzLCBDVFhfUl9QV1JfQ0xLX1NUQVRFLCBHRU44
X1JfUFdSX0NMS19TVEFURSwgMCk7CisJCXJlZ3NbQ1RYX0xSSV9IRUFERVJfMl0gPSBNSV9MT0FE
X1JFR0lTVEVSX0lNTSgxKSB8CisJCQkJCSBlbmdpbmUtPmxyaV9jbWRfbW9kZTsKKwkJQ1RYX1JF
RyhyZWdzLCBDVFhfUl9QV1JfQ0xLX1NUQVRFLAorCQkJR0VOOF9SX1BXUl9DTEtfU1RBVEUsIDAp
OwogCX0KIAogCXJlZ3NbQ1RYX0VORF0gPSBNSV9CQVRDSF9CVUZGRVJfRU5EOwpAQCAtMzMyMiwx
NCArMzMyNCwxMiBAQCBzdGF0aWMgdm9pZCBnZW4xMl9pbml0X3JlZ19zdGF0ZSh1MzIgKiBjb25z
dCByZWdzLAogewogCXN0cnVjdCBpOTE1X3BwZ3R0ICogY29uc3QgcHBndHQgPSBpOTE1X3ZtX3Rv
X3BwZ3R0KGNlLT52bSk7CiAJY29uc3QgYm9vbCByY3MgPSBlbmdpbmUtPmNsYXNzID09IFJFTkRF
Ul9DTEFTUzsKLQljb25zdCB1MzIgYmFzZSA9IGVuZ2luZS0+bW1pb19iYXNlOwotCWNvbnN0IHUz
MiBscmlfYmFzZSA9Ci0JCWludGVsX2VuZ2luZV9oYXNfcmVsYXRpdmVfbW1pbyhlbmdpbmUpID8g
TUlfTFJJX0NTX01NSU8gOiAwOworCWNvbnN0IHUzMiBiYXNlID0gZW5naW5lLT5scmlfbW1pb19i
YXNlOwogCiAJcmVnc1tDVFhfTFJJX0hFQURFUl8wXSA9CiAJCU1JX0xPQURfUkVHSVNURVJfSU1N
KHJjcyA/IDExIDogOSkgfAogCQlNSV9MUklfRk9SQ0VfUE9TVEVEIHwKLQkJbHJpX2Jhc2U7CisJ
CWVuZ2luZS0+bHJpX2NtZF9tb2RlOwogCiAJaW5pdF9jb21tb25fcmVnX3N0YXRlKHJlZ3MsIHBw
Z3R0LCBlbmdpbmUsIHJpbmcpOwogCkBAIC0zMzM5LDE1ICszMzM5LDE1IEBAIHN0YXRpYyB2b2lk
IGdlbjEyX2luaXRfcmVnX3N0YXRlKHUzMiAqIGNvbnN0IHJlZ3MsCiAJcmVnc1tDVFhfTFJJX0hF
QURFUl8xXSA9CiAJCU1JX0xPQURfUkVHSVNURVJfSU1NKDkpIHwKIAkJTUlfTFJJX0ZPUkNFX1BP
U1RFRCB8Ci0JCWxyaV9iYXNlOworCQllbmdpbmUtPmxyaV9jbWRfbW9kZTsKIAogCUNUWF9SRUco
cmVncywgQ1RYX0NUWF9USU1FU1RBTVAsIFJJTkdfQ1RYX1RJTUVTVEFNUChiYXNlKSwgMCk7CiAK
LQlpbml0X3BwZ3R0X3JlZ19zdGF0ZShyZWdzLCBiYXNlLCBwcGd0dCk7CisJaW5pdF9wcGd0dF9y
ZWdfc3RhdGUocmVncywgYmFzZSwgZW5naW5lLCBwcGd0dCk7CiAKIAlpZiAocmNzKSB7CiAJCXJl
Z3NbR0VOMTJfQ1RYX0xSSV9IRUFERVJfM10gPQotCQkJTUlfTE9BRF9SRUdJU1RFUl9JTU0oMSkg
fCBscmlfYmFzZTsKKwkJCU1JX0xPQURfUkVHSVNURVJfSU1NKDEpIHwgZW5naW5lLT5scmlfY21k
X21vZGU7CiAJCUNUWF9SRUcocmVncywgQ1RYX1JfUFdSX0NMS19TVEFURSwgR0VOOF9SX1BXUl9D
TEtfU1RBVEUsIDApOwogCiAJCS8qIFRPRE86IG9hX2luaXRfcmVnX3N0YXRlID8gKi8KZGlmZiAt
LWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX21vY3MuYyBiL2RyaXZlcnMvZ3B1
L2RybS9pOTE1L2d0L2ludGVsX21vY3MuYwppbmRleCA3Mjg3MDRiYmJlMTguLjhlOGZlM2RlYjk1
YyAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfbW9jcy5jCisrKyBi
L2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX21vY3MuYwpAQCAtMzY4LDkgKzM2OCw2IEBA
IHN0YXRpYyB1MzIgZ2V0X2VudHJ5X2NvbnRyb2woY29uc3Qgc3RydWN0IGRybV9pOTE1X21vY3Nf
dGFibGUgKnRhYmxlLAogLyoqCiAgKiBpbnRlbF9tb2NzX2luaXRfZW5naW5lKCkgLSBlbWl0IHRo
ZSBtb2NzIGNvbnRyb2wgdGFibGUKICAqIEBlbmdpbmU6CVRoZSBlbmdpbmUgZm9yIHdob20gdG8g
ZW1pdCB0aGUgcmVnaXN0ZXJzLgotICoKLSAqIFRoaXMgZnVuY3Rpb24gc2ltcGx5IGVtaXRzIGEg
TUlfTE9BRF9SRUdJU1RFUl9JTU0gY29tbWFuZCBmb3IgdGhlCi0gKiBnaXZlbiB0YWJsZSBzdGFy
dGluZyBhdCB0aGUgZ2l2ZW4gYWRkcmVzcy4KICAqLwogdm9pZCBpbnRlbF9tb2NzX2luaXRfZW5n
aW5lKHN0cnVjdCBpbnRlbF9lbmdpbmVfY3MgKmVuZ2luZSkKIHsKQEAgLTQ1Niw3ICs0NTMsOCBA
QCBzdGF0aWMgaW50IGVtaXRfbW9jc19jb250cm9sX3RhYmxlKHN0cnVjdCBpOTE1X3JlcXVlc3Qg
KnJxLAogCWlmIChJU19FUlIoY3MpKQogCQlyZXR1cm4gUFRSX0VSUihjcyk7CiAKLQkqY3MrKyA9
IE1JX0xPQURfUkVHSVNURVJfSU1NKHRhYmxlLT5uX2VudHJpZXMpOworCSpjcysrID0gTUlfTE9B
RF9SRUdJU1RFUl9JTU0odGFibGUtPm5fZW50cmllcykgfAorCQlycS0+ZW5naW5lLT5scmlfY21k
X21vZGU7CiAKIAlmb3IgKGluZGV4ID0gMDsgaW5kZXggPCB0YWJsZS0+c2l6ZTsgaW5kZXgrKykg
ewogCQl1MzIgdmFsdWUgPSBnZXRfZW50cnlfY29udHJvbCh0YWJsZSwgaW5kZXgpOwpkaWZmIC0t
Z2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfcmluZ2J1ZmZlci5jIGIvZHJpdmVy
cy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfcmluZ2J1ZmZlci5jCmluZGV4IGEyNWI4NGIxMmVmMS4u
OTQ3Zjc0MTYxZDkxIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9y
aW5nYnVmZmVyLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfcmluZ2J1ZmZl
ci5jCkBAIC0xNTM1LDEyICsxNTM1LDEzIEBAIHN0YXRpYyBpbnQgbG9hZF9wZF9kaXIoc3RydWN0
IGk5MTVfcmVxdWVzdCAqcnEsIGNvbnN0IHN0cnVjdCBpOTE1X3BwZ3R0ICpwcGd0dCkKIAlpZiAo
SVNfRVJSKGNzKSkKIAkJcmV0dXJuIFBUUl9FUlIoY3MpOwogCi0JKmNzKysgPSBNSV9MT0FEX1JF
R0lTVEVSX0lNTSgxKTsKLQkqY3MrKyA9IGk5MTVfbW1pb19yZWdfb2Zmc2V0KFJJTkdfUFBfRElS
X0RDTFYoZW5naW5lLT5tbWlvX2Jhc2UpKTsKKwkvKiBDYW4gdGhlc2Ugbm90IGJlIG1lcmdlZCBp
bnRvIGEgc2luZ2xlIExSST8/PyAqLworCSpjcysrID0gTUlfTE9BRF9SRUdJU1RFUl9JTU0oMSkg
fCBlbmdpbmUtPmxyaV9jbWRfbW9kZTsKKwkqY3MrKyA9IGk5MTVfbW1pb19yZWdfb2Zmc2V0KFJJ
TkdfUFBfRElSX0RDTFYoZW5naW5lLT5scmlfbW1pb19iYXNlKSk7CiAJKmNzKysgPSBQUF9ESVJf
RENMVl8yRzsKIAotCSpjcysrID0gTUlfTE9BRF9SRUdJU1RFUl9JTU0oMSk7Ci0JKmNzKysgPSBp
OTE1X21taW9fcmVnX29mZnNldChSSU5HX1BQX0RJUl9CQVNFKGVuZ2luZS0+bW1pb19iYXNlKSk7
CisJKmNzKysgPSBNSV9MT0FEX1JFR0lTVEVSX0lNTSgxKSB8IGVuZ2luZS0+bHJpX2NtZF9tb2Rl
OworCSpjcysrID0gaTkxNV9tbWlvX3JlZ19vZmZzZXQoUklOR19QUF9ESVJfQkFTRShlbmdpbmUt
PmxyaV9tbWlvX2Jhc2UpKTsKIAkqY3MrKyA9IHB4X2Jhc2UocHBndHQtPnBkKS0+Z2d0dF9vZmZz
ZXQgPDwgMTA7CiAKIAlpbnRlbF9yaW5nX2FkdmFuY2UocnEsIGNzKTsKQEAgLTE3MDgsNyArMTcw
OSw4IEBAIHN0YXRpYyBpbnQgcmVtYXBfbDNfc2xpY2Uoc3RydWN0IGk5MTVfcmVxdWVzdCAqcnEs
IGludCBzbGljZSkKIAkgKiBoZXJlIGJlY2F1c2Ugbm8gb3RoZXIgY29kZSBzaG91bGQgYWNjZXNz
IHRoZXNlIHJlZ2lzdGVycyBvdGhlciB0aGFuCiAJICogYXQgaW5pdGlhbGl6YXRpb24gdGltZS4K
IAkgKi8KLQkqY3MrKyA9IE1JX0xPQURfUkVHSVNURVJfSU1NKEdFTjdfTDNMT0dfU0laRS80KTsK
KwkqY3MrKyA9IE1JX0xPQURfUkVHSVNURVJfSU1NKEdFTjdfTDNMT0dfU0laRSAvIDQpIHwKKwkJ
cnEtPmVuZ2luZS0+bHJpX2NtZF9tb2RlOwogCWZvciAoaSA9IDA7IGkgPCBHRU43X0wzTE9HX1NJ
WkUvNDsgaSsrKSB7CiAJCSpjcysrID0gaTkxNV9tbWlvX3JlZ19vZmZzZXQoR0VON19MM0xPRyhz
bGljZSwgaSkpOwogCQkqY3MrKyA9IHJlbWFwX2luZm9baV07CmRpZmYgLS1naXQgYS9kcml2ZXJz
L2dwdS9kcm0vaTkxNS9ndC9pbnRlbF93b3JrYXJvdW5kcy5jIGIvZHJpdmVycy9ncHUvZHJtL2k5
MTUvZ3QvaW50ZWxfd29ya2Fyb3VuZHMuYwppbmRleCA0MWQwZjc4NmUwNmQuLjg5NWYxMjAwOTIw
OCAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfd29ya2Fyb3VuZHMu
YworKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF93b3JrYXJvdW5kcy5jCkBAIC02
MzMsNyArNjMzLDcgQEAgaW50IGludGVsX2VuZ2luZV9lbWl0X2N0eF93YShzdHJ1Y3QgaTkxNV9y
ZXF1ZXN0ICpycSkKIAlpZiAoSVNfRVJSKGNzKSkKIAkJcmV0dXJuIFBUUl9FUlIoY3MpOwogCi0J
KmNzKysgPSBNSV9MT0FEX1JFR0lTVEVSX0lNTSh3YWwtPmNvdW50KTsKKwkqY3MrKyA9IE1JX0xP
QURfUkVHSVNURVJfSU1NKHdhbC0+Y291bnQpIHwgcnEtPmVuZ2luZS0+bHJpX2NtZF9tb2RlOwog
CWZvciAoaSA9IDAsIHdhID0gd2FsLT5saXN0OyBpIDwgd2FsLT5jb3VudDsgaSsrLCB3YSsrKSB7
CiAJCSpjcysrID0gaTkxNV9tbWlvX3JlZ19vZmZzZXQod2EtPnJlZyk7CiAJCSpjcysrID0gd2Et
PnZhbDsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfcGVyZi5jIGIvZHJp
dmVycy9ncHUvZHJtL2k5MTUvaTkxNV9wZXJmLmMKaW5kZXggYzFiNzY0MjMzNzYxLi44Yjg1Y2Rm
YWRhMjEgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfcGVyZi5jCisrKyBi
L2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfcGVyZi5jCkBAIC0xNjkzLDYgKzE2OTMsMTEgQEAg
Z2VuOF91cGRhdGVfcmVnX3N0YXRlX3VubG9ja2VkKHN0cnVjdCBpOTE1X3BlcmZfc3RyZWFtICpz
dHJlYW0sCiAJfTsKIAlpbnQgaTsKIAorCS8qCisJICogTkI6IFRoZSBMUkkgaW5zdHJ1Y3Rpb24g
aXMgZ2VuZXJhdGVkIGJ5IHRoZSBoYXJkd2FyZS4KKwkgKiBTaG91bGQgd2UgcmVhZCBpdCBpbiBh
bmQgYXNzZXJ0IHRoYXQgdGhlIG9mZnNldCBmbGFnIGlzIHNldD8KKwkgKi8KKwogCUNUWF9SRUco
cmVnX3N0YXRlLCBjdHhfb2FjdHhjdHJsLCBHRU44X09BQ1RYQ09OVFJPTCwKIAkJKHN0cmVhbS0+
cGVyaW9kX2V4cG9uZW50IDw8IEdFTjhfT0FfVElNRVJfUEVSSU9EX1NISUZUKSB8CiAJCShzdHJl
YW0tPnBlcmlvZGljID8gR0VOOF9PQV9USU1FUl9FTkFCTEUgOiAwKSB8CkBAIC0xNzUyLDggKzE3
NTcsOSBAQCBnZW44X2xvYWRfZmxleChzdHJ1Y3QgaTkxNV9yZXF1ZXN0ICpycSwKIAlpZiAoSVNf
RVJSKGNzKSkKIAkJcmV0dXJuIFBUUl9FUlIoY3MpOwogCi0JKmNzKysgPSBNSV9MT0FEX1JFR0lT
VEVSX0lNTShjb3VudCk7CisJKmNzKysgPSBNSV9MT0FEX1JFR0lTVEVSX0lNTShjb3VudCkgfCBy
cS0+ZW5naW5lLT5scmlfY21kX21vZGU7CiAJZG8geworCQkvKiBGSVhNRTogSXMgdGhpcyB0YWJs
ZSBMUkkgcmVtYXAvb2Zmc2V0IGZyaWVuZGx5PyAqLwogCQkqY3MrKyA9IGk5MTVfbW1pb19yZWdf
b2Zmc2V0KGZsZXgtPnJlZyk7CiAJCSpjcysrID0gZmxleC0+dmFsdWU7CiAJfSB3aGlsZSAoZmxl
eCsrLCAtLWNvdW50KTsKLS0gCjIuMjEuMC41LmdhZWI1ODJhOTgzCgpfX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpJbnRlbC1nZnggbWFpbGluZyBsaXN0Cklu
dGVsLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5v
cmcvbWFpbG1hbi9saXN0aW5mby9pbnRlbC1nZng=

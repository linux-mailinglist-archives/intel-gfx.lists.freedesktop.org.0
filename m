Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id EC8B6370E5
	for <lists+intel-gfx@lfdr.de>; Thu,  6 Jun 2019 11:53:26 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 4D1F089804;
	Thu,  6 Jun 2019 09:53:25 +0000 (UTC)
X-Original-To: Intel-gfx@lists.freedesktop.org
Delivered-To: Intel-gfx@lists.freedesktop.org
Received: from fireflyinternet.com (mail.fireflyinternet.com [109.228.58.192])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 8E78789804
 for <Intel-gfx@lists.freedesktop.org>; Thu,  6 Jun 2019 09:53:24 +0000 (UTC)
X-Default-Received-SPF: pass (skip=forwardok (res=PASS))
 x-ip-name=78.156.65.138; 
Received: from localhost (unverified [78.156.65.138]) 
 by fireflyinternet.com (Firefly Internet (M1)) with ESMTP (TLS) id
 16811101-1500050 for multiple; Thu, 06 Jun 2019 10:53:20 +0100
MIME-Version: 1.0
From: Chris Wilson <chris@chris-wilson.co.uk>
User-Agent: alot/0.6
To: Intel-gfx@lists.freedesktop.org,
 Tvrtko Ursulin <tvrtko.ursulin@linux.intel.com>
References: <20190606093639.9372-1-tvrtko.ursulin@linux.intel.com>
 <20190606093639.9372-7-tvrtko.ursulin@linux.intel.com>
In-Reply-To: <20190606093639.9372-7-tvrtko.ursulin@linux.intel.com>
Message-ID: <155981479783.19464.10148831292393058105@skylake-alporthouse-com>
Date: Thu, 06 Jun 2019 10:53:17 +0100
Subject: Re: [Intel-gfx] [PATCH 06/21] drm/i915: Convert some more bits to
 use engine mmio accessors
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

UXVvdGluZyBUdnJ0a28gVXJzdWxpbiAoMjAxOS0wNi0wNiAxMDozNjoyNCkKPiBGcm9tOiBUdnJ0
a28gVXJzdWxpbiA8dHZydGtvLnVyc3VsaW5AaW50ZWwuY29tPgo+IAo+IFJlbW92ZSBhIGNvdXBs
ZSBkZXZfcHJpdiBsb2NhbHMgYXMgYSBjb25zZXF1ZW5jZS4KPiAKPiBTaWduZWQtb2ZmLWJ5OiBU
dnJ0a28gVXJzdWxpbiA8dHZydGtvLnVyc3VsaW5AaW50ZWwuY29tPgo+IC0tLQo+ICBkcml2ZXJz
L2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9scmMuYyAgICAgICAgIHwgMjcgKysrKysrKysrKy0tLS0t
LS0tLS0tCj4gIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZ2VtX2d0dC5jICAgICAgICAgfCAg
NSArKy0tCj4gIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZ3B1X2Vycm9yLmMgICAgICAgfCAg
MiArLQo+ICBkcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3JlZy5oICAgICAgICAgICAgIHwgIDIg
Ky0KPiAgZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfZ3VjX3N1Ym1pc3Npb24uYyB8ICA0ICst
LQo+ICA1IGZpbGVzIGNoYW5nZWQsIDIwIGluc2VydGlvbnMoKyksIDIwIGRlbGV0aW9ucygtKQo+
IAo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9scmMuYyBiL2Ry
aXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2xyYy5jCj4gaW5kZXggZmVkNzA0ODAyYzU3Li5m
MjdiNmMwMDI2MjcgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxf
bHJjLmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9scmMuYwo+IEBAIC0y
MDIxLDMxICsyMDIxLDMwIEBAIHN0YXRpYyBpbnQgaW50ZWxfaW5pdF93b3JrYXJvdW5kX2JiKHN0
cnVjdCBpbnRlbF9lbmdpbmVfY3MgKmVuZ2luZSkKPiAgCj4gIHN0YXRpYyB2b2lkIGVuYWJsZV9l
eGVjbGlzdHMoc3RydWN0IGludGVsX2VuZ2luZV9jcyAqZW5naW5lKQo+ICB7Cj4gLSAgICAgICBz
dHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYgPSBlbmdpbmUtPmk5MTU7Cj4gLQo+ICAg
ICAgICAgaW50ZWxfZW5naW5lX3NldF9od3NwX3dyaXRlbWFzayhlbmdpbmUsIH4wdSk7IC8qIEhX
U1RBTSAqLwo+ICAKPiAtICAgICAgIGlmIChJTlRFTF9HRU4oZGV2X3ByaXYpID49IDExKQo+IC0g
ICAgICAgICAgICAgICBJOTE1X1dSSVRFKFJJTkdfTU9ERV9HRU43KGVuZ2luZSksCj4gLSAgICAg
ICAgICAgICAgICAgICAgICAgICAgX01BU0tFRF9CSVRfRU5BQkxFKEdFTjExX0dGWF9ESVNBQkxF
X0xFR0FDWV9NT0RFKSk7Cj4gKyAgICAgICBpZiAoSU5URUxfR0VOKGVuZ2luZS0+aTkxNSkgPj0g
MTEpCj4gKyAgICAgICAgICAgICAgIEVOR0lORV9XUklURShlbmdpbmUsCj4gKyAgICAgICAgICAg
ICAgICAgICAgICAgICAgICBSSU5HX01PREVfR0VONywKPiArICAgICAgICAgICAgICAgICAgICAg
ICAgICAgIF9NQVNLRURfQklUX0VOQUJMRShHRU4xMV9HRlhfRElTQUJMRV9MRUdBQ1lfTU9ERSkp
Owo+ICAgICAgICAgZWxzZQo+IC0gICAgICAgICAgICAgICBJOTE1X1dSSVRFKFJJTkdfTU9ERV9H
RU43KGVuZ2luZSksCj4gLSAgICAgICAgICAgICAgICAgICAgICAgICAgX01BU0tFRF9CSVRfRU5B
QkxFKEdGWF9SVU5fTElTVF9FTkFCTEUpKTsKPiArICAgICAgICAgICAgICAgRU5HSU5FX1dSSVRF
KGVuZ2luZSwKPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJJTkdfTU9ERV9HRU43LAo+
ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgX01BU0tFRF9CSVRfRU5BQkxFKEdGWF9SVU5f
TElTVF9FTkFCTEUpKTsKPiAgCj4gLSAgICAgICBJOTE1X1dSSVRFKFJJTkdfTUlfTU9ERShlbmdp
bmUtPm1taW9fYmFzZSksCj4gLSAgICAgICAgICAgICAgICAgIF9NQVNLRURfQklUX0RJU0FCTEUo
U1RPUF9SSU5HKSk7Cj4gKyAgICAgICBFTkdJTkVfV1JJVEUoZW5naW5lLCBSSU5HX01JX01PREUs
IF9NQVNLRURfQklUX0RJU0FCTEUoU1RPUF9SSU5HKSk7Cj4gIAo+IC0gICAgICAgSTkxNV9XUklU
RShSSU5HX0hXU19QR0EoZW5naW5lLT5tbWlvX2Jhc2UpLAo+IC0gICAgICAgICAgICAgICAgICBp
OTE1X2dndHRfb2Zmc2V0KGVuZ2luZS0+c3RhdHVzX3BhZ2Uudm1hKSk7Cj4gLSAgICAgICBQT1NU
SU5HX1JFQUQoUklOR19IV1NfUEdBKGVuZ2luZS0+bW1pb19iYXNlKSk7Cj4gKyAgICAgICBFTkdJ
TkVfV1JJVEUoZW5naW5lLAo+ICsgICAgICAgICAgICAgICAgICAgIFJJTkdfSFdTX1BHQSwKPiAr
ICAgICAgICAgICAgICAgICAgICBpOTE1X2dndHRfb2Zmc2V0KGVuZ2luZS0+c3RhdHVzX3BhZ2Uu
dm1hKSk7Cj4gKyAgICAgICBFTkdJTkVfUE9TVElOR19SRUFEKGVuZ2luZSwgUklOR19IV1NfUEdB
KTsKPiAgfQo+ICAKPiAgc3RhdGljIGJvb2wgdW5leHBlY3RlZF9zdGFydGluZ19zdGF0ZShzdHJ1
Y3QgaW50ZWxfZW5naW5lX2NzICplbmdpbmUpCj4gIHsKPiAtICAgICAgIHN0cnVjdCBkcm1faTkx
NV9wcml2YXRlICpkZXZfcHJpdiA9IGVuZ2luZS0+aTkxNTsKPiAgICAgICAgIGJvb2wgdW5leHBl
Y3RlZCA9IGZhbHNlOwo+ICAKPiAtICAgICAgIGlmIChJOTE1X1JFQUQoUklOR19NSV9NT0RFKGVu
Z2luZS0+bW1pb19iYXNlKSkgJiBTVE9QX1JJTkcpIHsKPiArICAgICAgIGlmIChFTkdJTkVfUkVB
RChlbmdpbmUsIFJJTkdfTUlfTU9ERSkgJiBTVE9QX1JJTkcpIHsKPiAgICAgICAgICAgICAgICAg
RFJNX0RFQlVHX0RSSVZFUigiU1RPUF9SSU5HIHN0aWxsIHNldCBpbiBSSU5HX01JX01PREVcbiIp
Owo+ICAgICAgICAgICAgICAgICB1bmV4cGVjdGVkID0gdHJ1ZTsKPiAgICAgICAgIH0KPiBkaWZm
IC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9nZW1fZ3R0LmMgYi9kcml2ZXJzL2dw
dS9kcm0vaTkxNS9pOTE1X2dlbV9ndHQuYwo+IGluZGV4IDBmZTU2OGNmYWJlMC4uM2JhOTcwZjJk
YjI4IDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZ2VtX2d0dC5jCj4g
KysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9nZW1fZ3R0LmMKPiBAQCAtMTcxMyw4ICsx
NzEzLDkgQEAgc3RhdGljIHZvaWQgZ2VuN19wcGd0dF9lbmFibGUoc3RydWN0IGRybV9pOTE1X3By
aXZhdGUgKmRldl9wcml2KQo+ICAKPiAgICAgICAgIGZvcl9lYWNoX2VuZ2luZShlbmdpbmUsIGRl
dl9wcml2LCBpZCkgewo+ICAgICAgICAgICAgICAgICAvKiBHRlhfTU9ERSBpcyBwZXItcmluZyBv
biBnZW43KyAqLwo+IC0gICAgICAgICAgICAgICBJOTE1X1dSSVRFKFJJTkdfTU9ERV9HRU43KGVu
Z2luZSksCj4gLSAgICAgICAgICAgICAgICAgICAgICAgICAgX01BU0tFRF9CSVRfRU5BQkxFKEdG
WF9QUEdUVF9FTkFCTEUpKTsKPiArICAgICAgICAgICAgICAgRU5HSU5FX1dSSVRFKGVuZ2luZSwK
PiArICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJJTkdfTU9ERV9HRU43LAo+ICsgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgX01BU0tFRF9CSVRfRU5BQkxFKEdGWF9QUEdUVF9FTkFCTEUp
KTsKPiAgICAgICAgIH0KPiAgfQo+ICAKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5
MTUvaTkxNV9ncHVfZXJyb3IuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZ3B1X2Vycm9y
LmMKPiBpbmRleCAyZjg1ZGUwMzRkOGYuLjE5M2E5Mzg1N2Q5OSAxMDA2NDQKPiAtLS0gYS9kcml2
ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2dwdV9lcnJvci5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJt
L2k5MTUvaTkxNV9ncHVfZXJyb3IuYwo+IEBAIC0xMjE5LDcgKzEyMTksNyBAQCBzdGF0aWMgdm9p
ZCBlcnJvcl9yZWNvcmRfZW5naW5lX3JlZ2lzdGVycyhzdHJ1Y3QgaTkxNV9ncHVfc3RhdGUgKmVy
cm9yLAo+ICAgICAgICAgaWYgKEhBU19QUEdUVChkZXZfcHJpdikpIHsKPiAgICAgICAgICAgICAg
ICAgaW50IGk7Cj4gIAo+IC0gICAgICAgICAgICAgICBlZS0+dm1faW5mby5nZnhfbW9kZSA9IEk5
MTVfUkVBRChSSU5HX01PREVfR0VONyhlbmdpbmUpKTsKPiArICAgICAgICAgICAgICAgZWUtPnZt
X2luZm8uZ2Z4X21vZGUgPSBFTkdJTkVfUkVBRChlbmdpbmUsIFJJTkdfTU9ERV9HRU43KTsKPiAg
Cj4gICAgICAgICAgICAgICAgIGlmIChJU19HRU4oZGV2X3ByaXYsIDYpKSB7Cj4gICAgICAgICAg
ICAgICAgICAgICAgICAgZWUtPnZtX2luZm8ucHBfZGlyX2Jhc2UgPQo+IGRpZmYgLS1naXQgYS9k
cml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3JlZy5oIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkx
NV9yZWcuaAo+IGluZGV4IDFiOWFlNDhkMWFiZS4uOGE4YjM0YTEzZDJlIDEwMDY0NAo+IC0tLSBh
L2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfcmVnLmgKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0v
aTkxNS9pOTE1X3JlZy5oCj4gQEAgLTI2OTgsNyArMjY5OCw3IEBAIGVudW0gaTkxNV9wb3dlcl93
ZWxsX2lkIHsKPiAgCj4gICNkZWZpbmUgR0ZYX01PREUgICAgICAgX01NSU8oMHgyNTIwKQo+ICAj
ZGVmaW5lIEdGWF9NT0RFX0dFTjcgIF9NTUlPKDB4MjI5YykKPiAtI2RlZmluZSBSSU5HX01PREVf
R0VONyhlbmdpbmUpIF9NTUlPKChlbmdpbmUpLT5tbWlvX2Jhc2UgKyAweDI5YykKPiArI2RlZmlu
ZSBSSU5HX01PREVfR0VONyhiYXNlKSAgIF9NTUlPKChiYXNlKSArIDB4MjljKQo+ICAjZGVmaW5l
ICAgR0ZYX1JVTl9MSVNUX0VOQUJMRSAgICAgICAgICAoMSA8PCAxNSkKPiAgI2RlZmluZSAgIEdG
WF9JTlRFUlJVUFRfU1RFRVJJTkcgICAgICAgKDEgPDwgMTQpCj4gICNkZWZpbmUgICBHRlhfVExC
X0lOVkFMSURBVEVfRVhQTElDSVQgICgxIDw8IDEzKQo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dw
dS9kcm0vaTkxNS9pbnRlbF9ndWNfc3VibWlzc2lvbi5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUv
aW50ZWxfZ3VjX3N1Ym1pc3Npb24uYwo+IGluZGV4IGE0Zjk4Y2NlZjBmZS4uODk1OTJlZjc3OGI4
IDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX2d1Y19zdWJtaXNzaW9u
LmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9ndWNfc3VibWlzc2lvbi5jCj4g
QEAgLTEzMDYsNyArMTMwNiw3IEBAIHN0YXRpYyB2b2lkIGd1Y19pbnRlcnJ1cHRzX2NhcHR1cmUo
c3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2KQo+ICAgICAgICAgICovCj4gICAgICAg
ICBpcnFzID0gX01BU0tFRF9CSVRfRU5BQkxFKEdGWF9JTlRFUlJVUFRfU1RFRVJJTkcpOwo+ICAg
ICAgICAgZm9yX2VhY2hfZW5naW5lKGVuZ2luZSwgZGV2X3ByaXYsIGlkKQo+IC0gICAgICAgICAg
ICAgICBJOTE1X1dSSVRFKFJJTkdfTU9ERV9HRU43KGVuZ2luZSksIGlycXMpOwo+ICsgICAgICAg
ICAgICAgICBFTkdJTkVfV1JJVEUoZW5naW5lLCBSSU5HX01PREVfR0VONywgaXJxcyk7Cj4gIAo+
ICAgICAgICAgLyogcm91dGUgVVNFUl9JTlRFUlJVUFQgdG8gSG9zdCwgYWxsIG90aGVycyBhcmUg
c2VudCB0byBHdUMuICovCj4gICAgICAgICBpcnFzID0gR1RfUkVOREVSX1VTRVJfSU5URVJSVVBU
IDw8IEdFTjhfUkNTX0lSUV9TSElGVCB8Cj4gQEAgLTEzNTMsNyArMTM1Myw3IEBAIHN0YXRpYyB2
b2lkIGd1Y19pbnRlcnJ1cHRzX3JlbGVhc2Uoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9w
cml2KQo+ICAgICAgICAgaXJxcyA9IF9NQVNLRURfRklFTEQoR0ZYX0ZPUldBUkRfVkJMQU5LX01B
U0ssIEdGWF9GT1JXQVJEX1ZCTEFOS19ORVZFUik7Cj4gICAgICAgICBpcnFzIHw9IF9NQVNLRURf
QklUX0RJU0FCTEUoR0ZYX0lOVEVSUlVQVF9TVEVFUklORyk7Cj4gICAgICAgICBmb3JfZWFjaF9l
bmdpbmUoZW5naW5lLCBkZXZfcHJpdiwgaWQpCj4gLSAgICAgICAgICAgICAgIEk5MTVfV1JJVEUo
UklOR19NT0RFX0dFTjcoZW5naW5lKSwgaXJxcyk7Cj4gKyAgICAgICAgICAgICAgIEVOR0lORV9X
UklURShlbmdpbmUsIFJJTkdfTU9ERV9HRU43LCBpcnFzKTsKPiAgCj4gICAgICAgICAvKiByb3V0
ZSBhbGwgR1QgaW50ZXJydXB0cyB0byB0aGUgaG9zdCAqLwo+ICAgICAgICAgSTkxNV9XUklURShH
VUNfQkNTX1JDU19JRVIsIDApOwoKUmV2aWV3ZWQtYnk6IENocmlzIFdpbHNvbiA8Y2hyaXNAY2hy
aXMtd2lsc29uLmNvLnVrPgotQ2hyaXMKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX18KSW50ZWwtZ2Z4IG1haWxpbmcgbGlzdApJbnRlbC1nZnhAbGlzdHMuZnJl
ZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGlu
Zm8vaW50ZWwtZ2Z4

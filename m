Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 81A2FD2D40
	for <lists+intel-gfx@lfdr.de>; Thu, 10 Oct 2019 17:05:29 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id E8C8B6EB6D;
	Thu, 10 Oct 2019 15:05:27 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from fireflyinternet.com (mail.fireflyinternet.com [109.228.58.192])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 476776EB6C
 for <intel-gfx@lists.freedesktop.org>; Thu, 10 Oct 2019 15:05:25 +0000 (UTC)
X-Default-Received-SPF: pass (skip=forwardok (res=PASS))
 x-ip-name=78.156.65.138; 
Received: from haswell.alporthouse.com (unverified [78.156.65.138]) 
 by fireflyinternet.com (Firefly Internet (M1)) with ESMTP id 18792890-1500050 
 for <intel-gfx@lists.freedesktop.org>; Thu, 10 Oct 2019 16:05:21 +0100
From: Chris Wilson <chris@chris-wilson.co.uk>
To: intel-gfx@lists.freedesktop.org
Date: Thu, 10 Oct 2019 16:05:20 +0100
Message-Id: <20191010150520.26488-2-chris@chris-wilson.co.uk>
X-Mailer: git-send-email 2.23.0
In-Reply-To: <20191010150520.26488-1-chris@chris-wilson.co.uk>
References: <20191010150520.26488-1-chris@chris-wilson.co.uk>
MIME-Version: 1.0
Subject: [Intel-gfx] [CI 2/2] drm/i915/perf: Store shortcut to intel_uncore
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

Tm93IHRoYXQgd2UgaGF2ZSB0aGUgZW5naW5lIHN0b3JlZCBpbiBpOTE1X3BlcmYsIHdlIGhhdmUg
YSBtZWFucyBvZgphY2Nlc3NpbmcgaW50ZWxfZ3Qgc2hvdWxkIHdlIHJlcXVpcmUgaXQuIEhvd2V2
ZXIsIHdlIGFyZSBjdXJyZW50bHkgb25seQp1c2luZyB0aGUgaW50ZWxfZ3QgdG8gZmluZCB0aGUg
cmlnaHQgaW50ZWxfdW5jb3JlLCBzbyByZXBsYWNlIG91cgppOTE1X3BlcmYuZ3QgcG9pbnRlciB3
aXRoIHRoZSBtb3JlIHVzZWZ1bCBpOTE1X3BlcmYudW5jb3JlLgoKU2lnbmVkLW9mZi1ieTogQ2hy
aXMgV2lsc29uIDxjaHJpc0BjaHJpcy13aWxzb24uY28udWs+CkNjOiBMaW9uZWwgTGFuZHdlcmxp
biA8bGlvbmVsLmcubGFuZHdlcmxpbkBpbnRlbC5jb20+ClJldmlld2VkLWJ5OiBMaW9uZWwgTGFu
ZHdlcmxpbiA8bGlvbmVsLmcubGFuZHdlcmxpbkBpbnRlbC5jb20+Ci0tLQogZHJpdmVycy9ncHUv
ZHJtL2k5MTUvaTkxNV9wZXJmLmMgICAgICAgfCA0OCArKysrKysrKysrKysrLS0tLS0tLS0tLS0t
LQogZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9wZXJmX3R5cGVzLmggfCAgNCArLS0KIDIgZmls
ZXMgY2hhbmdlZCwgMjYgaW5zZXJ0aW9ucygrKSwgMjYgZGVsZXRpb25zKC0pCgpkaWZmIC0tZ2l0
IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9wZXJmLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkx
NS9pOTE1X3BlcmYuYwppbmRleCAxYTVjNjU5MWI5YmIuLjc3YzNjZWY2NDU0OCAxMDA2NDQKLS0t
IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9wZXJmLmMKKysrIGIvZHJpdmVycy9ncHUvZHJt
L2k5MTUvaTkxNV9wZXJmLmMKQEAgLTQxOSwxNCArNDE5LDE0IEBAIHN0YXRpYyBpbnQgZ2V0X29h
X2NvbmZpZyhzdHJ1Y3QgaTkxNV9wZXJmICpwZXJmLAogCiBzdGF0aWMgdTMyIGdlbjhfb2FfaHdf
dGFpbF9yZWFkKHN0cnVjdCBpOTE1X3BlcmZfc3RyZWFtICpzdHJlYW0pCiB7Ci0Jc3RydWN0IGlu
dGVsX3VuY29yZSAqdW5jb3JlID0gc3RyZWFtLT5ndC0+dW5jb3JlOworCXN0cnVjdCBpbnRlbF91
bmNvcmUgKnVuY29yZSA9IHN0cmVhbS0+dW5jb3JlOwogCiAJcmV0dXJuIGludGVsX3VuY29yZV9y
ZWFkKHVuY29yZSwgR0VOOF9PQVRBSUxQVFIpICYgR0VOOF9PQVRBSUxQVFJfTUFTSzsKIH0KIAog
c3RhdGljIHUzMiBnZW43X29hX2h3X3RhaWxfcmVhZChzdHJ1Y3QgaTkxNV9wZXJmX3N0cmVhbSAq
c3RyZWFtKQogewotCXN0cnVjdCBpbnRlbF91bmNvcmUgKnVuY29yZSA9IHN0cmVhbS0+Z3QtPnVu
Y29yZTsKKwlzdHJ1Y3QgaW50ZWxfdW5jb3JlICp1bmNvcmUgPSBzdHJlYW0tPnVuY29yZTsKIAl1
MzIgb2FzdGF0dXMxID0gaW50ZWxfdW5jb3JlX3JlYWQodW5jb3JlLCBHRU43X09BU1RBVFVTMSk7
CiAKIAlyZXR1cm4gb2FzdGF0dXMxICYgR0VON19PQVNUQVRVUzFfVEFJTF9NQVNLOwpAQCAtNjU2
LDcgKzY1Niw3IEBAIHN0YXRpYyBpbnQgZ2VuOF9hcHBlbmRfb2FfcmVwb3J0cyhzdHJ1Y3QgaTkx
NV9wZXJmX3N0cmVhbSAqc3RyZWFtLAogCQkJCSAgc2l6ZV90IGNvdW50LAogCQkJCSAgc2l6ZV90
ICpvZmZzZXQpCiB7Ci0Jc3RydWN0IGludGVsX3VuY29yZSAqdW5jb3JlID0gc3RyZWFtLT5ndC0+
dW5jb3JlOworCXN0cnVjdCBpbnRlbF91bmNvcmUgKnVuY29yZSA9IHN0cmVhbS0+dW5jb3JlOwog
CWludCByZXBvcnRfc2l6ZSA9IHN0cmVhbS0+b2FfYnVmZmVyLmZvcm1hdF9zaXplOwogCXU4ICpv
YV9idWZfYmFzZSA9IHN0cmVhbS0+b2FfYnVmZmVyLnZhZGRyOwogCXUzMiBndHRfb2Zmc2V0ID0g
aTkxNV9nZ3R0X29mZnNldChzdHJlYW0tPm9hX2J1ZmZlci52bWEpOwpAQCAtODY2LDcgKzg2Niw3
IEBAIHN0YXRpYyBpbnQgZ2VuOF9vYV9yZWFkKHN0cnVjdCBpOTE1X3BlcmZfc3RyZWFtICpzdHJl
YW0sCiAJCQlzaXplX3QgY291bnQsCiAJCQlzaXplX3QgKm9mZnNldCkKIHsKLQlzdHJ1Y3QgaW50
ZWxfdW5jb3JlICp1bmNvcmUgPSBzdHJlYW0tPmd0LT51bmNvcmU7CisJc3RydWN0IGludGVsX3Vu
Y29yZSAqdW5jb3JlID0gc3RyZWFtLT51bmNvcmU7CiAJdTMyIG9hc3RhdHVzOwogCWludCByZXQ7
CiAKQEAgLTk0NSw3ICs5NDUsNyBAQCBzdGF0aWMgaW50IGdlbjdfYXBwZW5kX29hX3JlcG9ydHMo
c3RydWN0IGk5MTVfcGVyZl9zdHJlYW0gKnN0cmVhbSwKIAkJCQkgIHNpemVfdCBjb3VudCwKIAkJ
CQkgIHNpemVfdCAqb2Zmc2V0KQogewotCXN0cnVjdCBpbnRlbF91bmNvcmUgKnVuY29yZSA9IHN0
cmVhbS0+Z3QtPnVuY29yZTsKKwlzdHJ1Y3QgaW50ZWxfdW5jb3JlICp1bmNvcmUgPSBzdHJlYW0t
PnVuY29yZTsKIAlpbnQgcmVwb3J0X3NpemUgPSBzdHJlYW0tPm9hX2J1ZmZlci5mb3JtYXRfc2l6
ZTsKIAl1OCAqb2FfYnVmX2Jhc2UgPSBzdHJlYW0tPm9hX2J1ZmZlci52YWRkcjsKIAl1MzIgZ3R0
X29mZnNldCA9IGk5MTVfZ2d0dF9vZmZzZXQoc3RyZWFtLT5vYV9idWZmZXIudm1hKTsKQEAgLTEw
NzcsNyArMTA3Nyw3IEBAIHN0YXRpYyBpbnQgZ2VuN19vYV9yZWFkKHN0cnVjdCBpOTE1X3BlcmZf
c3RyZWFtICpzdHJlYW0sCiAJCQlzaXplX3QgY291bnQsCiAJCQlzaXplX3QgKm9mZnNldCkKIHsK
LQlzdHJ1Y3QgaW50ZWxfdW5jb3JlICp1bmNvcmUgPSBzdHJlYW0tPmd0LT51bmNvcmU7CisJc3Ry
dWN0IGludGVsX3VuY29yZSAqdW5jb3JlID0gc3RyZWFtLT51bmNvcmU7CiAJdTMyIG9hc3RhdHVz
MTsKIAlpbnQgcmV0OwogCkBAIC0xMzUyLDggKzEzNTIsOCBAQCBzdGF0aWMgdm9pZCBpOTE1X29h
X3N0cmVhbV9kZXN0cm95KHN0cnVjdCBpOTE1X3BlcmZfc3RyZWFtICpzdHJlYW0pCiAKIAlmcmVl
X29hX2J1ZmZlcihzdHJlYW0pOwogCi0JaW50ZWxfdW5jb3JlX2ZvcmNld2FrZV9wdXQoc3RyZWFt
LT5ndC0+dW5jb3JlLCBGT1JDRVdBS0VfQUxMKTsKLQlpbnRlbF9ydW50aW1lX3BtX3B1dChzdHJl
YW0tPmd0LT51bmNvcmUtPnJwbSwgc3RyZWFtLT53YWtlcmVmKTsKKwlpbnRlbF91bmNvcmVfZm9y
Y2V3YWtlX3B1dChzdHJlYW0tPnVuY29yZSwgRk9SQ0VXQUtFX0FMTCk7CisJaW50ZWxfcnVudGlt
ZV9wbV9wdXQoc3RyZWFtLT51bmNvcmUtPnJwbSwgc3RyZWFtLT53YWtlcmVmKTsKIAogCWlmIChz
dHJlYW0tPmN0eCkKIAkJb2FfcHV0X3JlbmRlcl9jdHhfaWQoc3RyZWFtKTsKQEAgLTEzNjgsNyAr
MTM2OCw3IEBAIHN0YXRpYyB2b2lkIGk5MTVfb2Ffc3RyZWFtX2Rlc3Ryb3koc3RydWN0IGk5MTVf
cGVyZl9zdHJlYW0gKnN0cmVhbSkKIAogc3RhdGljIHZvaWQgZ2VuN19pbml0X29hX2J1ZmZlcihz
dHJ1Y3QgaTkxNV9wZXJmX3N0cmVhbSAqc3RyZWFtKQogewotCXN0cnVjdCBpbnRlbF91bmNvcmUg
KnVuY29yZSA9IHN0cmVhbS0+Z3QtPnVuY29yZTsKKwlzdHJ1Y3QgaW50ZWxfdW5jb3JlICp1bmNv
cmUgPSBzdHJlYW0tPnVuY29yZTsKIAl1MzIgZ3R0X29mZnNldCA9IGk5MTVfZ2d0dF9vZmZzZXQo
c3RyZWFtLT5vYV9idWZmZXIudm1hKTsKIAl1bnNpZ25lZCBsb25nIGZsYWdzOwogCkBAIC0xNDE2
LDcgKzE0MTYsNyBAQCBzdGF0aWMgdm9pZCBnZW43X2luaXRfb2FfYnVmZmVyKHN0cnVjdCBpOTE1
X3BlcmZfc3RyZWFtICpzdHJlYW0pCiAKIHN0YXRpYyB2b2lkIGdlbjhfaW5pdF9vYV9idWZmZXIo
c3RydWN0IGk5MTVfcGVyZl9zdHJlYW0gKnN0cmVhbSkKIHsKLQlzdHJ1Y3QgaW50ZWxfdW5jb3Jl
ICp1bmNvcmUgPSBzdHJlYW0tPmd0LT51bmNvcmU7CisJc3RydWN0IGludGVsX3VuY29yZSAqdW5j
b3JlID0gc3RyZWFtLT51bmNvcmU7CiAJdTMyIGd0dF9vZmZzZXQgPSBpOTE1X2dndHRfb2Zmc2V0
KHN0cmVhbS0+b2FfYnVmZmVyLnZtYSk7CiAJdW5zaWduZWQgbG9uZyBmbGFnczsKIApAQCAtMTU2
NSw3ICsxNTY1LDcgQEAgc3RhdGljIHZvaWQgZGVsYXlfYWZ0ZXJfbXV4KHZvaWQpCiAKIHN0YXRp
YyBpbnQgaHN3X2VuYWJsZV9tZXRyaWNfc2V0KHN0cnVjdCBpOTE1X3BlcmZfc3RyZWFtICpzdHJl
YW0pCiB7Ci0Jc3RydWN0IGludGVsX3VuY29yZSAqdW5jb3JlID0gc3RyZWFtLT5ndC0+dW5jb3Jl
OworCXN0cnVjdCBpbnRlbF91bmNvcmUgKnVuY29yZSA9IHN0cmVhbS0+dW5jb3JlOwogCWNvbnN0
IHN0cnVjdCBpOTE1X29hX2NvbmZpZyAqb2FfY29uZmlnID0gc3RyZWFtLT5vYV9jb25maWc7CiAK
IAkvKgpAQCAtMTU5NCw3ICsxNTk0LDcgQEAgc3RhdGljIGludCBoc3dfZW5hYmxlX21ldHJpY19z
ZXQoc3RydWN0IGk5MTVfcGVyZl9zdHJlYW0gKnN0cmVhbSkKIAogc3RhdGljIHZvaWQgaHN3X2Rp
c2FibGVfbWV0cmljX3NldChzdHJ1Y3QgaTkxNV9wZXJmX3N0cmVhbSAqc3RyZWFtKQogewotCXN0
cnVjdCBpbnRlbF91bmNvcmUgKnVuY29yZSA9IHN0cmVhbS0+Z3QtPnVuY29yZTsKKwlzdHJ1Y3Qg
aW50ZWxfdW5jb3JlICp1bmNvcmUgPSBzdHJlYW0tPnVuY29yZTsKIAogCWludGVsX3VuY29yZV9y
bXcodW5jb3JlLCBHRU42X1VDR0NUTDEsCiAJCQkgR0VONl9DU1VOSVRfQ0xPQ0tfR0FURV9ESVNB
QkxFLCAwKTsKQEAgLTE5MTEsNyArMTkxMSw3IEBAIHN0YXRpYyBpbnQgZ2VuOF9jb25maWd1cmVf
YWxsX2NvbnRleHRzKHN0cnVjdCBpOTE1X3BlcmZfc3RyZWFtICpzdHJlYW0sCiAKIHN0YXRpYyBp
bnQgZ2VuOF9lbmFibGVfbWV0cmljX3NldChzdHJ1Y3QgaTkxNV9wZXJmX3N0cmVhbSAqc3RyZWFt
KQogewotCXN0cnVjdCBpbnRlbF91bmNvcmUgKnVuY29yZSA9IHN0cmVhbS0+Z3QtPnVuY29yZTsK
KwlzdHJ1Y3QgaW50ZWxfdW5jb3JlICp1bmNvcmUgPSBzdHJlYW0tPnVuY29yZTsKIAljb25zdCBz
dHJ1Y3QgaTkxNV9vYV9jb25maWcgKm9hX2NvbmZpZyA9IHN0cmVhbS0+b2FfY29uZmlnOwogCWlu
dCByZXQ7CiAKQEAgLTE5NjQsNyArMTk2NCw3IEBAIHN0YXRpYyBpbnQgZ2VuOF9lbmFibGVfbWV0
cmljX3NldChzdHJ1Y3QgaTkxNV9wZXJmX3N0cmVhbSAqc3RyZWFtKQogCiBzdGF0aWMgdm9pZCBn
ZW44X2Rpc2FibGVfbWV0cmljX3NldChzdHJ1Y3QgaTkxNV9wZXJmX3N0cmVhbSAqc3RyZWFtKQog
ewotCXN0cnVjdCBpbnRlbF91bmNvcmUgKnVuY29yZSA9IHN0cmVhbS0+Z3QtPnVuY29yZTsKKwlz
dHJ1Y3QgaW50ZWxfdW5jb3JlICp1bmNvcmUgPSBzdHJlYW0tPnVuY29yZTsKIAogCS8qIFJlc2V0
IGFsbCBjb250ZXh0cycgc2xpY2VzL3N1YnNsaWNlcyBjb25maWd1cmF0aW9ucy4gKi8KIAlnZW44
X2NvbmZpZ3VyZV9hbGxfY29udGV4dHMoc3RyZWFtLCBOVUxMKTsKQEAgLTE5NzQsNyArMTk3NCw3
IEBAIHN0YXRpYyB2b2lkIGdlbjhfZGlzYWJsZV9tZXRyaWNfc2V0KHN0cnVjdCBpOTE1X3BlcmZf
c3RyZWFtICpzdHJlYW0pCiAKIHN0YXRpYyB2b2lkIGdlbjEwX2Rpc2FibGVfbWV0cmljX3NldChz
dHJ1Y3QgaTkxNV9wZXJmX3N0cmVhbSAqc3RyZWFtKQogewotCXN0cnVjdCBpbnRlbF91bmNvcmUg
KnVuY29yZSA9IHN0cmVhbS0+Z3QtPnVuY29yZTsKKwlzdHJ1Y3QgaW50ZWxfdW5jb3JlICp1bmNv
cmUgPSBzdHJlYW0tPnVuY29yZTsKIAogCS8qIFJlc2V0IGFsbCBjb250ZXh0cycgc2xpY2VzL3N1
YnNsaWNlcyBjb25maWd1cmF0aW9ucy4gKi8KIAlnZW44X2NvbmZpZ3VyZV9hbGxfY29udGV4dHMo
c3RyZWFtLCBOVUxMKTsKQEAgLTE5ODUsNyArMTk4NSw3IEBAIHN0YXRpYyB2b2lkIGdlbjEwX2Rp
c2FibGVfbWV0cmljX3NldChzdHJ1Y3QgaTkxNV9wZXJmX3N0cmVhbSAqc3RyZWFtKQogCiBzdGF0
aWMgdm9pZCBnZW43X29hX2VuYWJsZShzdHJ1Y3QgaTkxNV9wZXJmX3N0cmVhbSAqc3RyZWFtKQog
ewotCXN0cnVjdCBpbnRlbF91bmNvcmUgKnVuY29yZSA9IHN0cmVhbS0+Z3QtPnVuY29yZTsKKwlz
dHJ1Y3QgaW50ZWxfdW5jb3JlICp1bmNvcmUgPSBzdHJlYW0tPnVuY29yZTsKIAlzdHJ1Y3QgaTkx
NV9nZW1fY29udGV4dCAqY3R4ID0gc3RyZWFtLT5jdHg7CiAJdTMyIGN0eF9pZCA9IHN0cmVhbS0+
c3BlY2lmaWNfY3R4X2lkOwogCWJvb2wgcGVyaW9kaWMgPSBzdHJlYW0tPnBlcmlvZGljOwpAQCAt
MjAxNSw3ICsyMDE1LDcgQEAgc3RhdGljIHZvaWQgZ2VuN19vYV9lbmFibGUoc3RydWN0IGk5MTVf
cGVyZl9zdHJlYW0gKnN0cmVhbSkKIAogc3RhdGljIHZvaWQgZ2VuOF9vYV9lbmFibGUoc3RydWN0
IGk5MTVfcGVyZl9zdHJlYW0gKnN0cmVhbSkKIHsKLQlzdHJ1Y3QgaW50ZWxfdW5jb3JlICp1bmNv
cmUgPSBzdHJlYW0tPmd0LT51bmNvcmU7CisJc3RydWN0IGludGVsX3VuY29yZSAqdW5jb3JlID0g
c3RyZWFtLT51bmNvcmU7CiAJdTMyIHJlcG9ydF9mb3JtYXQgPSBzdHJlYW0tPm9hX2J1ZmZlci5m
b3JtYXQ7CiAKIAkvKgpAQCAtMjA2MCw3ICsyMDYwLDcgQEAgc3RhdGljIHZvaWQgaTkxNV9vYV9z
dHJlYW1fZW5hYmxlKHN0cnVjdCBpOTE1X3BlcmZfc3RyZWFtICpzdHJlYW0pCiAKIHN0YXRpYyB2
b2lkIGdlbjdfb2FfZGlzYWJsZShzdHJ1Y3QgaTkxNV9wZXJmX3N0cmVhbSAqc3RyZWFtKQogewot
CXN0cnVjdCBpbnRlbF91bmNvcmUgKnVuY29yZSA9IHN0cmVhbS0+Z3QtPnVuY29yZTsKKwlzdHJ1
Y3QgaW50ZWxfdW5jb3JlICp1bmNvcmUgPSBzdHJlYW0tPnVuY29yZTsKIAogCWludGVsX3VuY29y
ZV93cml0ZSh1bmNvcmUsIEdFTjdfT0FDT05UUk9MLCAwKTsKIAlpZiAoaW50ZWxfd2FpdF9mb3Jf
cmVnaXN0ZXIodW5jb3JlLApAQCAtMjA3MSw3ICsyMDcxLDcgQEAgc3RhdGljIHZvaWQgZ2VuN19v
YV9kaXNhYmxlKHN0cnVjdCBpOTE1X3BlcmZfc3RyZWFtICpzdHJlYW0pCiAKIHN0YXRpYyB2b2lk
IGdlbjhfb2FfZGlzYWJsZShzdHJ1Y3QgaTkxNV9wZXJmX3N0cmVhbSAqc3RyZWFtKQogewotCXN0
cnVjdCBpbnRlbF91bmNvcmUgKnVuY29yZSA9IHN0cmVhbS0+Z3QtPnVuY29yZTsKKwlzdHJ1Y3Qg
aW50ZWxfdW5jb3JlICp1bmNvcmUgPSBzdHJlYW0tPnVuY29yZTsKIAogCWludGVsX3VuY29yZV93
cml0ZSh1bmNvcmUsIEdFTjhfT0FDT05UUk9MLCAwKTsKIAlpZiAoaW50ZWxfd2FpdF9mb3JfcmVn
aXN0ZXIodW5jb3JlLApAQCAtMjE3Miw3ICsyMTcyLDcgQEAgc3RhdGljIGludCBpOTE1X29hX3N0
cmVhbV9pbml0KHN0cnVjdCBpOTE1X3BlcmZfc3RyZWFtICpzdHJlYW0sCiAJfQogCiAJc3RyZWFt
LT5lbmdpbmUgPSBwcm9wcy0+ZW5naW5lOwotCXN0cmVhbS0+Z3QgPSBzdHJlYW0tPmVuZ2luZS0+
Z3Q7CisJc3RyZWFtLT51bmNvcmUgPSBzdHJlYW0tPmVuZ2luZS0+Z3QtPnVuY29yZTsKIAogCXN0
cmVhbS0+c2FtcGxlX3NpemUgPSBzaXplb2Yoc3RydWN0IGRybV9pOTE1X3BlcmZfcmVjb3JkX2hl
YWRlcik7CiAKQEAgLTIyMTgsOCArMjIxOCw4IEBAIHN0YXRpYyBpbnQgaTkxNV9vYV9zdHJlYW1f
aW5pdChzdHJ1Y3QgaTkxNV9wZXJmX3N0cmVhbSAqc3RyZWFtLAogCSAqICAgSW4gb3VyIGNhc2Ug
d2UgYXJlIGV4cGVjdGluZyB0aGF0IHRha2luZyBwbSArIEZPUkNFV0FLRQogCSAqICAgcmVmZXJl
bmNlcyB3aWxsIGVmZmVjdGl2ZWx5IGRpc2FibGUgUkM2LgogCSAqLwotCXN0cmVhbS0+d2FrZXJl
ZiA9IGludGVsX3J1bnRpbWVfcG1fZ2V0KHN0cmVhbS0+Z3QtPnVuY29yZS0+cnBtKTsKLQlpbnRl
bF91bmNvcmVfZm9yY2V3YWtlX2dldChzdHJlYW0tPmd0LT51bmNvcmUsIEZPUkNFV0FLRV9BTEwp
OworCXN0cmVhbS0+d2FrZXJlZiA9IGludGVsX3J1bnRpbWVfcG1fZ2V0KHN0cmVhbS0+dW5jb3Jl
LT5ycG0pOworCWludGVsX3VuY29yZV9mb3JjZXdha2VfZ2V0KHN0cmVhbS0+dW5jb3JlLCBGT1JD
RVdBS0VfQUxMKTsKIAogCXJldCA9IGFsbG9jX29hX2J1ZmZlcihzdHJlYW0pOwogCWlmIChyZXQp
CkBAIC0yMjUxLDggKzIyNTEsOCBAQCBzdGF0aWMgaW50IGk5MTVfb2Ffc3RyZWFtX2luaXQoc3Ry
dWN0IGk5MTVfcGVyZl9zdHJlYW0gKnN0cmVhbSwKIGVycl9vYV9idWZfYWxsb2M6CiAJcHV0X29h
X2NvbmZpZyhzdHJlYW0tPm9hX2NvbmZpZyk7CiAKLQlpbnRlbF91bmNvcmVfZm9yY2V3YWtlX3B1
dChzdHJlYW0tPmd0LT51bmNvcmUsIEZPUkNFV0FLRV9BTEwpOwotCWludGVsX3J1bnRpbWVfcG1f
cHV0KHN0cmVhbS0+Z3QtPnVuY29yZS0+cnBtLCBzdHJlYW0tPndha2VyZWYpOworCWludGVsX3Vu
Y29yZV9mb3JjZXdha2VfcHV0KHN0cmVhbS0+dW5jb3JlLCBGT1JDRVdBS0VfQUxMKTsKKwlpbnRl
bF9ydW50aW1lX3BtX3B1dChzdHJlYW0tPnVuY29yZS0+cnBtLCBzdHJlYW0tPndha2VyZWYpOwog
CiBlcnJfY29uZmlnOgogCWlmIChzdHJlYW0tPmN0eCkKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1
L2RybS9pOTE1L2k5MTVfcGVyZl90eXBlcy5oIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9w
ZXJmX3R5cGVzLmgKaW5kZXggODJjZDNiMjk1MDM3Li5hOTFhZTJkMWE1NDMgMTAwNjQ0Ci0tLSBh
L2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfcGVyZl90eXBlcy5oCisrKyBiL2RyaXZlcnMvZ3B1
L2RybS9pOTE1L2k5MTVfcGVyZl90eXBlcy5oCkBAIC0xMzAsOSArMTMwLDkgQEAgc3RydWN0IGk5
MTVfcGVyZl9zdHJlYW0gewogCXN0cnVjdCBpOTE1X3BlcmYgKnBlcmY7CiAKIAkvKioKLQkgKiBA
Z3Q6IGludGVsX2d0IGNvbnRhaW5lcgorCSAqIEB1bmNvcmU6IG1taW8gYWNjZXNzIHBhdGgKIAkg
Ki8KLQlzdHJ1Y3QgaW50ZWxfZ3QgKmd0OworCXN0cnVjdCBpbnRlbF91bmNvcmUgKnVuY29yZTsK
IAogCS8qKgogCSAqIEB3YWtlcmVmOiBBcyB3ZSBrZWVwIHRoZSBkZXZpY2UgYXdha2Ugd2hpbGUg
dGhlIHBlcmYgc3RyZWFtIGlzCi0tIAoyLjIzLjAKCl9fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fCkludGVsLWdmeCBtYWlsaW5nIGxpc3QKSW50ZWwtZ2Z4QGxp
c3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFu
L2xpc3RpbmZvL2ludGVsLWdmeA==

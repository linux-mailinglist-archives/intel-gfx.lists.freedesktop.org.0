Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id D041966775
	for <lists+intel-gfx@lfdr.de>; Fri, 12 Jul 2019 09:07:52 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 29B646E2DE;
	Fri, 12 Jul 2019 07:07:48 +0000 (UTC)
X-Original-To: Intel-GFX@lists.freedesktop.org
Delivered-To: Intel-GFX@lists.freedesktop.org
Received: from mga14.intel.com (mga14.intel.com [192.55.52.115])
 by gabe.freedesktop.org (Postfix) with ESMTPS id C73936E2D4
 for <Intel-GFX@lists.freedesktop.org>; Fri, 12 Jul 2019 07:07:46 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga008.jf.intel.com ([10.7.209.65])
 by fmsmga103.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 12 Jul 2019 00:07:46 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.63,481,1557212400"; d="scan'208";a="160310744"
Received: from relo-linux-5.ra.intel.com ([10.54.133.84])
 by orsmga008.jf.intel.com with ESMTP; 12 Jul 2019 00:07:45 -0700
From: John.C.Harrison@Intel.com
To: Intel-GFX@Lists.FreeDesktop.Org
Date: Fri, 12 Jul 2019 00:07:44 -0700
Message-Id: <20190712070745.35239-3-John.C.Harrison@Intel.com>
X-Mailer: git-send-email 2.21.0.5.gaeb582a983
In-Reply-To: <20190712070745.35239-1-John.C.Harrison@Intel.com>
References: <20190712070745.35239-1-John.C.Harrison@Intel.com>
MIME-Version: 1.0
Organization: Intel Corporation (UK) Ltd. - Co. Reg. #1134945 - Pipers Way,
 Swindon SN3 1RJ
Subject: [Intel-gfx] [PATCH v2 2/3] drm/i915: Implement read-only support in
 whitelist selftest
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

RnJvbTogSm9obiBIYXJyaXNvbiA8Sm9obi5DLkhhcnJpc29uQEludGVsLmNvbT4KCk5ld2VyIGhh
cmR3YXJlIHN1cHBvcnRzIGV4dHJhIGZlYXR1cmUgaW4gdGhlIHdoaXRlbGlzdCByZWdpc3RlcnMu
IFRoaXMKcGF0Y2ggdXBkYXRlcyB0aGUgc2VsZnRlc3QgdG8gdGVzdCB0aGF0IGVudHJpZXMgbWFy
a2VkIGFzIHJlYWQgb25seQphcmUgYWN0dWFsbHkgcmVhZCBvbmx5LgoKdjI6IFJlbW92ZWQgYWxs
IHVzZSBvZiAncnN2ZCcgZm9yIHJlYWQtb25seSByZWdpc3RlcnMgdG8gYXZvaWQKYW1iaWd1b3Vz
IGNvZGUgb3IgZXJyb3IgbWVzc2FnZXMuCgpTaWduZWQtb2ZmLWJ5OiBKb2huIEhhcnJpc29uIDxK
b2huLkMuSGFycmlzb25ASW50ZWwuY29tPgpDQzogVHZydGtvIFVyc3VsaW4gPHR2cnRrby51cnN1
bGluQGludGVsLmNvbT4KLS0tCiAuLi4vZ3B1L2RybS9pOTE1L2d0L3NlbGZ0ZXN0X3dvcmthcm91
bmRzLmMgICAgfCA0OSArKysrKysrKysrKysrLS0tLS0tCiAxIGZpbGUgY2hhbmdlZCwgMzUgaW5z
ZXJ0aW9ucygrKSwgMTQgZGVsZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJt
L2k5MTUvZ3Qvc2VsZnRlc3Rfd29ya2Fyb3VuZHMuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0
L3NlbGZ0ZXN0X3dvcmthcm91bmRzLmMKaW5kZXggNDY2ZGNjODIxNGMzLi5mZDFkNDdiYTRiMTAg
MTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L3NlbGZ0ZXN0X3dvcmthcm91bmRz
LmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3Qvc2VsZnRlc3Rfd29ya2Fyb3VuZHMuYwpA
QCAtNDg1LDEyICs0ODUsMTIgQEAgc3RhdGljIGludCBjaGVja19kaXJ0eV93aGl0ZWxpc3Qoc3Ry
dWN0IGk5MTVfZ2VtX2NvbnRleHQgKmN0eCwKIAkJdTMyIHNybSwgbHJtLCByc3ZkOwogCQl1MzIg
ZXhwZWN0OwogCQlpbnQgaWR4OworCQlib29sIHJvX3JlZzsKIAogCQlpZiAod29fcmVnaXN0ZXIo
ZW5naW5lLCByZWcpKQogCQkJY29udGludWU7CiAKLQkJaWYgKHJvX3JlZ2lzdGVyKHJlZykpCi0J
CQljb250aW51ZTsKKwkJcm9fcmVnID0gcm9fcmVnaXN0ZXIocmVnKTsKIAogCQlzcm0gPSBNSV9T
VE9SRV9SRUdJU1RFUl9NRU07CiAJCWxybSA9IE1JX0xPQURfUkVHSVNURVJfTUVNOwpAQCAtNTkx
LDI0ICs1OTEsMzUgQEAgc3RhdGljIGludCBjaGVja19kaXJ0eV93aGl0ZWxpc3Qoc3RydWN0IGk5
MTVfZ2VtX2NvbnRleHQgKmN0eCwKIAkJfQogCiAJCUdFTV9CVUdfT04odmFsdWVzW0FSUkFZX1NJ
WkUodmFsdWVzKSAtIDFdICE9IDB4ZmZmZmZmZmYpOwotCQlyc3ZkID0gcmVzdWx0c1tBUlJBWV9T
SVpFKHZhbHVlcyldOyAvKiBkZXRlY3Qgd3JpdGUgbWFza2luZyAqLwotCQlpZiAoIXJzdmQpIHsK
LQkJCXByX2VycigiJXM6IFVuYWJsZSB0byB3cml0ZSB0byB3aGl0ZWxpc3RlZCByZWdpc3RlciAl
eFxuIiwKLQkJCSAgICAgICBlbmdpbmUtPm5hbWUsIHJlZyk7Ci0JCQllcnIgPSAtRUlOVkFMOwot
CQkJZ290byBvdXRfdW5waW47CisJCWlmICghcm9fcmVnKSB7CisJCQkvKiBkZXRlY3Qgd3JpdGUg
bWFza2luZyAqLworCQkJcnN2ZCA9IHJlc3VsdHNbQVJSQVlfU0laRSh2YWx1ZXMpXTsKKwkJCWlm
ICghcnN2ZCkgeworCQkJCXByX2VycigiJXM6IFVuYWJsZSB0byB3cml0ZSB0byB3aGl0ZWxpc3Rl
ZCByZWdpc3RlciAleFxuIiwKKwkJCQkgICAgICAgZW5naW5lLT5uYW1lLCByZWcpOworCQkJCWVy
ciA9IC1FSU5WQUw7CisJCQkJZ290byBvdXRfdW5waW47CisJCQl9CiAJCX0KIAogCQlleHBlY3Qg
PSByZXN1bHRzWzBdOwogCQlpZHggPSAxOwogCQlmb3IgKHYgPSAwOyB2IDwgQVJSQVlfU0laRSh2
YWx1ZXMpOyB2KyspIHsKLQkJCWV4cGVjdCA9IHJlZ193cml0ZShleHBlY3QsIHZhbHVlc1t2XSwg
cnN2ZCk7CisJCQlpZiAocm9fcmVnKQorCQkJCWV4cGVjdCA9IHJlc3VsdHNbMF07CisJCQllbHNl
CisJCQkJZXhwZWN0ID0gcmVnX3dyaXRlKGV4cGVjdCwgdmFsdWVzW3ZdLCByc3ZkKTsKKwogCQkJ
aWYgKHJlc3VsdHNbaWR4XSAhPSBleHBlY3QpCiAJCQkJZXJyKys7CiAJCQlpZHgrKzsKIAkJfQog
CQlmb3IgKHYgPSAwOyB2IDwgQVJSQVlfU0laRSh2YWx1ZXMpOyB2KyspIHsKLQkJCWV4cGVjdCA9
IHJlZ193cml0ZShleHBlY3QsIH52YWx1ZXNbdl0sIHJzdmQpOworCQkJaWYgKHJvX3JlZykKKwkJ
CQlleHBlY3QgPSByZXN1bHRzWzBdOworCQkJZWxzZQorCQkJCWV4cGVjdCA9IHJlZ193cml0ZShl
eHBlY3QsIH52YWx1ZXNbdl0sIHJzdmQpOworCiAJCQlpZiAocmVzdWx0c1tpZHhdICE9IGV4cGVj
dCkKIAkJCQllcnIrKzsKIAkJCWlkeCsrOwpAQCAtNjE3LDE1ICs2MjgsMjIgQEAgc3RhdGljIGlu
dCBjaGVja19kaXJ0eV93aGl0ZWxpc3Qoc3RydWN0IGk5MTVfZ2VtX2NvbnRleHQgKmN0eCwKIAkJ
CXByX2VycigiJXM6ICVkIG1pc21hdGNoIGJldHdlZW4gdmFsdWVzIHdyaXR0ZW4gdG8gd2hpdGVs
aXN0ZWQgcmVnaXN0ZXIgWyV4XSwgYW5kIHZhbHVlcyByZWFkIGJhY2shXG4iLAogCQkJICAgICAg
IGVuZ2luZS0+bmFtZSwgZXJyLCByZWcpOwogCi0JCQlwcl9pbmZvKCIlczogV2hpdGVsaXN0ZWQg
cmVnaXN0ZXI6ICV4LCBvcmlnaW5hbCB2YWx1ZSAlMDh4LCByc3ZkICUwOHhcbiIsCi0JCQkJZW5n
aW5lLT5uYW1lLCByZWcsIHJlc3VsdHNbMF0sIHJzdmQpOworCQkJaWYgKHJvX3JlZykKKwkJCQlw
cl9pbmZvKCIlczogV2hpdGVsaXN0ZWQgcmVhZC1vbmx5IHJlZ2lzdGVyOiAleCwgb3JpZ2luYWwg
dmFsdWUgJTA4eFxuIiwKKwkJCQkJZW5naW5lLT5uYW1lLCByZWcsIHJlc3VsdHNbMF0pOworCQkJ
ZWxzZQorCQkJCXByX2luZm8oIiVzOiBXaGl0ZWxpc3RlZCByZWdpc3RlcjogJXgsIG9yaWdpbmFs
IHZhbHVlICUwOHgsIHJzdmQgJTA4eFxuIiwKKwkJCQkJZW5naW5lLT5uYW1lLCByZWcsIHJlc3Vs
dHNbMF0sIHJzdmQpOwogCiAJCQlleHBlY3QgPSByZXN1bHRzWzBdOwogCQkJaWR4ID0gMTsKIAkJ
CWZvciAodiA9IDA7IHYgPCBBUlJBWV9TSVpFKHZhbHVlcyk7IHYrKykgewogCQkJCXUzMiB3ID0g
dmFsdWVzW3ZdOwogCi0JCQkJZXhwZWN0ID0gcmVnX3dyaXRlKGV4cGVjdCwgdywgcnN2ZCk7CisJ
CQkJaWYgKHJvX3JlZykKKwkJCQkJZXhwZWN0ID0gcmVzdWx0c1swXTsKKwkJCQllbHNlCisJCQkJ
CWV4cGVjdCA9IHJlZ193cml0ZShleHBlY3QsIHcsIHJzdmQpOwogCQkJCXByX2luZm8oIldyb3Rl
ICUwOHgsIHJlYWQgJTA4eCwgZXhwZWN0ICUwOHhcbiIsCiAJCQkJCXcsIHJlc3VsdHNbaWR4XSwg
ZXhwZWN0KTsKIAkJCQlpZHgrKzsKQEAgLTYzMyw3ICs2NTEsMTAgQEAgc3RhdGljIGludCBjaGVj
a19kaXJ0eV93aGl0ZWxpc3Qoc3RydWN0IGk5MTVfZ2VtX2NvbnRleHQgKmN0eCwKIAkJCWZvciAo
diA9IDA7IHYgPCBBUlJBWV9TSVpFKHZhbHVlcyk7IHYrKykgewogCQkJCXUzMiB3ID0gfnZhbHVl
c1t2XTsKIAotCQkJCWV4cGVjdCA9IHJlZ193cml0ZShleHBlY3QsIHcsIHJzdmQpOworCQkJCWlm
IChyb19yZWcpCisJCQkJCWV4cGVjdCA9IHJlc3VsdHNbMF07CisJCQkJZWxzZQorCQkJCQlleHBl
Y3QgPSByZWdfd3JpdGUoZXhwZWN0LCB3LCByc3ZkKTsKIAkJCQlwcl9pbmZvKCJXcm90ZSAlMDh4
LCByZWFkICUwOHgsIGV4cGVjdCAlMDh4XG4iLAogCQkJCQl3LCByZXN1bHRzW2lkeF0sIGV4cGVj
dCk7CiAJCQkJaWR4Kys7Ci0tIAoyLjIxLjAuNS5nYWViNTgyYTk4MwoKX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KSW50ZWwtZ2Z4IG1haWxpbmcgbGlzdApJ
bnRlbC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Au
b3JnL21haWxtYW4vbGlzdGluZm8vaW50ZWwtZ2Z4

Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 80B8FBBF41
	for <lists+intel-gfx@lfdr.de>; Tue, 24 Sep 2019 02:02:09 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id A83766E9CE;
	Tue, 24 Sep 2019 00:01:57 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga05.intel.com (mga05.intel.com [192.55.52.43])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 1B7D16E9CE
 for <intel-gfx@lists.freedesktop.org>; Tue, 24 Sep 2019 00:01:56 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from fmsmga005.fm.intel.com ([10.253.24.32])
 by fmsmga105.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 23 Sep 2019 17:01:55 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.64,542,1559545200"; d="scan'208";a="388663973"
Received: from invictus.jf.intel.com ([10.54.75.159])
 by fmsmga005.fm.intel.com with ESMTP; 23 Sep 2019 17:01:54 -0700
From: Radhakrishna Sripada <radhakrishna.sripada@intel.com>
To: intel-gfx@lists.freedesktop.org
Date: Mon, 23 Sep 2019 17:03:28 -0700
Message-Id: <20190924000328.29571-12-radhakrishna.sripada@intel.com>
X-Mailer: git-send-email 2.20.1
In-Reply-To: <20190924000328.29571-1-radhakrishna.sripada@intel.com>
References: <20190924000328.29571-1-radhakrishna.sripada@intel.com>
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH v2 11/11] drm/i915/tgl: Add Clear Color supoort
 for TGL Render Decompression
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: nanley.g.chery@intel.com, dhinakaran.pandiyan@intel.com,
 ville.syrjala@intel.com
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

UmVuZGVyIERlY29tcHJlc3Npb24gaXMgc3VwcG9ydGVkIHdpdGggWS1UaWxlZCBtYWluIHN1cmZh
Y2UuIFRoZSBDQ1MgaXMKbGluZWFyIGFuZCBoYXMgNCBiaXRzIG9mIGRhdGEgZm9yIGVhY2ggbWFp
biBzdXJmYWNlIGNhY2hlIGxpbmUgcGFpciwgYQpyYXRpbyBvZiAxOjI1Ni4gQWRkaXRpb25hbCBD
bGVhciBDb2xvciBpbmZvcm1hdGlvbiBpcyBwYXNzZWQgZnJvbSB0aGUKdXNlci1zcGFjZSB0aHJv
dWdoIGFuIG9mZnNldCBpbiB0aGUgR0VNIEJPLiBBZGQgYSBuZXcgbW9kaWZpZXIgdG8gaWRlbnRp
ZnkKYW5kIHBhcnNlIG5ldyBDbGVhciBDb2xvciBpbmZvcm1hdGlvbiBhbmQgZXh0ZW5kIEdlbjEy
IHJlbmRlciBkZWNvbXByZXNzaW9uCmZ1bmN0aW9uYWxpdHkgdG8gdGhlIG5ld2x5IGFkZGVkIG1v
ZGlmaWVyLgoKdjI6IEZpeCBoYXNfYWxwaGEgZmxhZyBmb3IgbW9kaWZpZXJzLCBvbWl0IENDIG1v
ZGlmaWVyIGR1cmluZyBpbml0aWFsCiAgICBwbGFuZSBjb25maWcoTWF0dCkuIEZpeCBMb29rdXAg
ZXJyb3IuCgpDYzogRGhpbmFrYXJhbiBQYW5kaXlhbiA8ZGhpbmFrYXJhbi5wYW5kaXlhbkBpbnRl
bC5jb20+CkNjOiBWaWxsZSBTeXJqYWxhIDx2aWxsZS5zeXJqYWxhQGludGVsLmNvbT4KQ2M6IFNo
YXNoYW5rIFNoYXJtYSA8c2hhc2hhbmsuc2hhcm1hQGludGVsLmNvbT4KQ2M6IFJhZmFlbCBBbnRv
Z25vbGxpIDxyYWZhZWwuYW50b2dub2xsaUBpbnRlbC5jb20+CkNjOiBNYXR0IFJvcGVyIDxtYXR0
aGV3LmQucm9wZXJAaW50ZWwuY29tPgpDYzogTmFubGV5IEcgQ2hlcnkgPG5hbmxleS5nLmNoZXJ5
QGludGVsLmNvbT4KU2lnbmVkLW9mZi1ieTogUmFkaGFrcmlzaG5hIFNyaXBhZGEgPHJhZGhha3Jp
c2huYS5zcmlwYWRhQGludGVsLmNvbT4KLS0tCiBkcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5
L2ludGVsX2Rpc3BsYXkuYyAgfCAzOCArKysrKysrKysrKysrKysrKysrCiAuLi4vZHJtL2k5MTUv
ZGlzcGxheS9pbnRlbF9kaXNwbGF5X3R5cGVzLmggICAgfCAgMyArKwogZHJpdmVycy9ncHUvZHJt
L2k5MTUvZGlzcGxheS9pbnRlbF9zcHJpdGUuYyAgIHwgMTEgKysrKystCiBkcml2ZXJzL2dwdS9k
cm0vaTkxNS9pOTE1X3JlZy5oICAgICAgICAgICAgICAgfCAxMiArKysrKysKIDQgZmlsZXMgY2hh
bmdlZCwgNjMgaW5zZXJ0aW9ucygrKSwgMSBkZWxldGlvbigtKQoKZGlmZiAtLWdpdCBhL2RyaXZl
cnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheS5jIGIvZHJpdmVycy9ncHUvZHJt
L2k5MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5LmMKaW5kZXggMjFkYjY1MzlkZTY0Li41YzVkYWRj
ZDAyZDEgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlz
cGxheS5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheS5j
CkBAIC0xOTE2LDYgKzE5MTYsNyBAQCBpbnRlbF90aWxlX3dpZHRoX2J5dGVzKGNvbnN0IHN0cnVj
dCBkcm1fZnJhbWVidWZmZXIgKmZiLCBpbnQgY29sb3JfcGxhbmUpCiAJCQlyZXR1cm4gNjQ7CiAJ
CS8qIGZhbGwgdGhyb3VnaCAqLwogCWNhc2UgSTkxNV9GT1JNQVRfTU9EX1lfVElMRURfR0VOMTJf
UkNfQ0NTOgorCWNhc2UgSTkxNV9GT1JNQVRfTU9EX1lfVElMRURfR0VOMTJfUkNfQ0NTX0NDOgog
CQlpZiAoY29sb3JfcGxhbmUgPT0gMSkKIAkJCXJldHVybiA2NDsKIAkJLyogZmFsbCB0aHJvdWdo
ICovCkBAIC0yMDYwLDYgKzIwNjEsNyBAQCBzdGF0aWMgdW5zaWduZWQgaW50IGludGVsX3N1cmZf
YWxpZ25tZW50KGNvbnN0IHN0cnVjdCBkcm1fZnJhbWVidWZmZXIgKmZiLAogCQkJcmV0dXJuIDI1
NiAqIDEwMjQ7CiAJCXJldHVybiAwOwogCWNhc2UgSTkxNV9GT1JNQVRfTU9EX1lfVElMRURfR0VO
MTJfUkNfQ0NTOgorCWNhc2UgSTkxNV9GT1JNQVRfTU9EX1lfVElMRURfR0VOMTJfUkNfQ0NTX0ND
OgogCQlyZXR1cm4gMTYgKiAxMDI0OwogCWNhc2UgSTkxNV9GT1JNQVRfTU9EX1lfVElMRURfQ0NT
OgogCWNhc2UgSTkxNV9GT1JNQVRfTU9EX1lmX1RJTEVEX0NDUzoKQEAgLTIyNjQsNiArMjI2Niw3
IEBAIHN0YXRpYyBib29sIGlzX3N1cmZhY2VfbGluZWFyKHU2NCBtb2RpZmllciwgaW50IGNvbG9y
X3BsYW5lKQogCWNhc2UgRFJNX0ZPUk1BVF9NT0RfTElORUFSOgogCQlyZXR1cm4gdHJ1ZTsKIAlj
YXNlIEk5MTVfRk9STUFUX01PRF9ZX1RJTEVEX0dFTjEyX1JDX0NDUzoKKwljYXNlIEk5MTVfRk9S
TUFUX01PRF9ZX1RJTEVEX0dFTjEyX1JDX0NDU19DQzoKIAkJcmV0dXJuIGNvbG9yX3BsYW5lID09
IDE7CiAJY2FzZSBJOTE1X0ZPUk1BVF9NT0RfWV9USUxFRF9HRU4xMl9NQ19DQ1M6CiAJCXJldHVy
biBjb2xvcl9wbGFuZSA9PSAxIHx8IGNvbG9yX3BsYW5lID09IDM7CkBAIC0yNDU4LDYgKzI0NjEs
NyBAQCBzdGF0aWMgdW5zaWduZWQgaW50IGludGVsX2ZiX21vZGlmaWVyX3RvX3RpbGluZyh1NjQg
ZmJfbW9kaWZpZXIpCiAJY2FzZSBJOTE1X0ZPUk1BVF9NT0RfWV9USUxFRF9DQ1M6CiAJY2FzZSBJ
OTE1X0ZPUk1BVF9NT0RfWV9USUxFRF9HRU4xMl9SQ19DQ1M6CiAJY2FzZSBJOTE1X0ZPUk1BVF9N
T0RfWV9USUxFRF9HRU4xMl9NQ19DQ1M6CisJY2FzZSBJOTE1X0ZPUk1BVF9NT0RfWV9USUxFRF9H
RU4xMl9SQ19DQ1NfQ0M6CiAJCXJldHVybiBJOTE1X1RJTElOR19ZOwogCWRlZmF1bHQ6CiAJCXJl
dHVybiBJOTE1X1RJTElOR19OT05FOwpAQCAtMjUxMSw2ICsyNTE1LDI1IEBAIHN0YXRpYyBjb25z
dCBzdHJ1Y3QgZHJtX2Zvcm1hdF9pbmZvIGdlbjEyX2Njc19mb3JtYXRzW10gPSB7CiAJICAuY3Bw
ID0geyAxLCAxLCAyLCAxfSwgLmhzdWIgPSAyLCAudnN1YiA9IDIsIC5pc195dXYgPSB0cnVlIH0s
CiB9OwogCisvKgorICogR2VuLTEyIGNvbXByZXNzaW9uIHVzZXMgNCBiaXRzIG9mIENDUyBkYXRh
IGZvciBlYWNoIGNhY2hlIGxpbmUgcGFpciBpbiB0aGUKKyAqIG1haW4gc3VyZmFjZS4gQW5kIGVh
Y2ggNjRCIENDUyBjYWNoZSBsaW5lIHJlcHJlc2VudHMgYW4gYXJlYSBvZiA0eDEgWS10aWxlcwor
ICogaW4gdGhlIG1haW4gc3VyZmFjZS4gV2l0aCA0IGJ5dGUgcGl4ZWxzIGFuZCBlYWNoIFktdGls
ZSBoYXZpbmcgZGltZW5zaW9ucyBvZgorICogMzJ4MzIgcGl4ZWxzLCB0aGUgcmF0aW8gdHVybnMg
b3V0IHRvIDFCIGluIHRoZSBDQ1MgZm9yIGV2ZXJ5IDIgeCAzMiBwaXhlbHMgaW4KKyAqIHRoZSBt
YWluIHN1cmZhY2UuIEFkZGl0aW9uYWwgc3VyZmFjZSBpcyB1c2VkIHRvIHBhc3MgdGhlIENsZWFy
IENvbG9yCisgKiBzdHJ1Y3R1cmUgZm9yIHRoZSBkcml2ZXIgdG8gcHJvZ3JhbSB0aGUgREUuCisg
Ki8KK3N0YXRpYyBjb25zdCBzdHJ1Y3QgZHJtX2Zvcm1hdF9pbmZvIGdlbjEyX2Njc19jY19mb3Jt
YXRzW10gPSB7CisJeyAuZm9ybWF0ID0gRFJNX0ZPUk1BVF9YUkdCODg4OCwgLmRlcHRoID0gMjQs
IC5udW1fcGxhbmVzID0gMywKKwkgIC5jcHAgPSB7IDQsIDEsIDAsIH0sIC5oc3ViID0gMiwgLnZz
dWIgPSAzMiwgfSwKKwl7IC5mb3JtYXQgPSBEUk1fRk9STUFUX1hCR1I4ODg4LCAuZGVwdGggPSAy
NCwgLm51bV9wbGFuZXMgPSAzLAorCSAgLmNwcCA9IHsgNCwgMSwgMCwgfSwgLmhzdWIgPSAyLCAu
dnN1YiA9IDMyLCB9LAorCXsgLmZvcm1hdCA9IERSTV9GT1JNQVRfQVJHQjg4ODgsIC5kZXB0aCA9
IDMyLCAubnVtX3BsYW5lcyA9IDMsCisJICAuY3BwID0geyA0LCAxLCAwLCB9LCAuaHN1YiA9IDIs
IC52c3ViID0gMzIsIC5oYXNfYWxwaGEgPSB0cnVlIH0sCisJeyAuZm9ybWF0ID0gRFJNX0ZPUk1B
VF9BQkdSODg4OCwgLmRlcHRoID0gMzIsIC5udW1fcGxhbmVzID0gMywKKwkgIC5jcHAgPSB7IDQs
IDEsIDAsIH0sIC5oc3ViID0gMiwgLnZzdWIgPSAzMiwgLmhhc19hbHBoYSA9IHRydWUgfSwKK307
CisKIHN0YXRpYyBjb25zdCBzdHJ1Y3QgZHJtX2Zvcm1hdF9pbmZvICoKIGxvb2t1cF9mb3JtYXRf
aW5mbyhjb25zdCBzdHJ1Y3QgZHJtX2Zvcm1hdF9pbmZvIGZvcm1hdHNbXSwKIAkJICAgaW50IG51
bV9mb3JtYXRzLCB1MzIgZm9ybWF0KQpAQCAtMjUzOCw2ICsyNTYxLDEwIEBAIGludGVsX2dldF9m
b3JtYXRfaW5mbyhjb25zdCBzdHJ1Y3QgZHJtX21vZGVfZmJfY21kMiAqY21kKQogCQlyZXR1cm4g
bG9va3VwX2Zvcm1hdF9pbmZvKGdlbjEyX2Njc19mb3JtYXRzLAogCQkJCQkgIEFSUkFZX1NJWkUo
Z2VuMTJfY2NzX2Zvcm1hdHMpLAogCQkJCQkgIGNtZC0+cGl4ZWxfZm9ybWF0KTsKKwljYXNlIEk5
MTVfRk9STUFUX01PRF9ZX1RJTEVEX0dFTjEyX1JDX0NDU19DQzoKKwkJcmV0dXJuIGxvb2t1cF9m
b3JtYXRfaW5mbyhnZW4xMl9jY3NfY2NfZm9ybWF0cywKKwkJCQkJICBBUlJBWV9TSVpFKGdlbjEy
X2Njc19jY19mb3JtYXRzKSwKKwkJCQkJICBjbWQtPnBpeGVsX2Zvcm1hdCk7CiAJZGVmYXVsdDoK
IAkJcmV0dXJuIE5VTEw7CiAJfQpAQCAtMjU0Nyw2ICsyNTc0LDcgQEAgYm9vbCBpc19jY3NfbW9k
aWZpZXIodTY0IG1vZGlmaWVyKQogewogCXJldHVybiBtb2RpZmllciA9PSBJOTE1X0ZPUk1BVF9N
T0RfWV9USUxFRF9HRU4xMl9SQ19DQ1MgfHwKIAkgICAgICAgbW9kaWZpZXIgPT0gSTkxNV9GT1JN
QVRfTU9EX1lfVElMRURfR0VOMTJfTUNfQ0NTIHx8CisJICAgICAgIG1vZGlmaWVyID09IEk5MTVf
Rk9STUFUX01PRF9ZX1RJTEVEX0dFTjEyX1JDX0NDU19DQyB8fAogCSAgICAgICBtb2RpZmllciA9
PSBJOTE1X0ZPUk1BVF9NT0RfWV9USUxFRF9DQ1MgfHwKIAkgICAgICAgbW9kaWZpZXIgPT0gSTkx
NV9GT1JNQVRfTU9EX1lmX1RJTEVEX0NDUzsKIH0KQEAgLTQyNzQsNiArNDMwMiw3IEBAIHN0YXRp
YyB1MzIgc2tsX3BsYW5lX2N0bF90aWxpbmcodTY0IGZiX21vZGlmaWVyKQogCWNhc2UgSTkxNV9G
T1JNQVRfTU9EX1lfVElMRUQ6CiAJCXJldHVybiBQTEFORV9DVExfVElMRURfWTsKIAljYXNlIEk5
MTVfRk9STUFUX01PRF9ZX1RJTEVEX0NDUzoKKwljYXNlIEk5MTVfRk9STUFUX01PRF9ZX1RJTEVE
X0dFTjEyX1JDX0NDU19DQzoKIAkJcmV0dXJuIFBMQU5FX0NUTF9USUxFRF9ZIHwgUExBTkVfQ1RM
X1JFTkRFUl9ERUNPTVBSRVNTSU9OX0VOQUJMRTsKIAljYXNlIEk5MTVfRk9STUFUX01PRF9ZX1RJ
TEVEX0dFTjEyX1JDX0NDUzoKIAkJcmV0dXJuIFBMQU5FX0NUTF9USUxFRF9ZIHwKQEAgLTE0NTM5
LDYgKzE0NTY4LDE1IEBAIHN0YXRpYyBpbnQgaW50ZWxfcGxhbmVfcGluX2ZiKHN0cnVjdCBpbnRl
bF9wbGFuZV9zdGF0ZSAqcGxhbmVfc3RhdGUpCiAKIAlwbGFuZV9zdGF0ZS0+dm1hID0gdm1hOwog
CisJaWYgKGZiLT5tb2RpZmllciA9PSBJOTE1X0ZPUk1BVF9NT0RfWV9USUxFRF9HRU4xMl9SQ19D
Q1NfQ0MpIHsKKwkJdTMyICpjY2FkZHIgPSBrbWFwX2F0b21pYyhpOTE1X2dlbV9vYmplY3RfZ2V0
X3BhZ2UoaW50ZWxfZmJfb2JqKGZiKSwKKwkJCQkJCQkJICBmYi0+b2Zmc2V0c1syXSA+PiBQQUdF
X1NISUZUKSk7CisKKwkJcGxhbmVfc3RhdGUtPmNjdmFsID0gKCh1NjQpKihjY2FkZHIgKyBDQ19W
QUxfSElHSEVSX09GRlNFVCkgPDwgMzIpCisJCQkJICAgICB8ICooY2NhZGRyICsgQ0NfVkFMX0xP
V0VSX09GRlNFVCk7CisJCWt1bm1hcF9hdG9taWMoY2NhZGRyKTsKKwl9CisKIAlyZXR1cm4gMDsK
IH0KIApkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNw
bGF5X3R5cGVzLmggYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXlf
dHlwZXMuaAppbmRleCA2MGEwNDBjMzlkOTcuLjU4NzcyYTYyNWYyZSAxMDA2NDQKLS0tIGEvZHJp
dmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5X3R5cGVzLmgKKysrIGIvZHJp
dmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5X3R5cGVzLmgKQEAgLTU3OSw2
ICs1NzksOSBAQCBzdHJ1Y3QgaW50ZWxfcGxhbmVfc3RhdGUgewogCXUzMiBzbGF2ZTsKIAogCXN0
cnVjdCBkcm1faW50ZWxfc3ByaXRlX2NvbG9ya2V5IGNrZXk7CisKKwkvKiBDbGVhciBDb2xvciBW
YWx1ZSAqLworCXU2NCBjY3ZhbDsKIH07CiAKIHN0cnVjdCBpbnRlbF9pbml0aWFsX3BsYW5lX2Nv
bmZpZyB7CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX3Nw
cml0ZS5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9zcHJpdGUuYwppbmRl
eCBhZDI4ZWU5NGM5NjguLmZhZTYyNDg4NzE1NiAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJt
L2k5MTUvZGlzcGxheS9pbnRlbF9zcHJpdGUuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9k
aXNwbGF5L2ludGVsX3Nwcml0ZS5jCkBAIC01NDksNiArNTQ5LDcgQEAgc2tsX3Byb2dyYW1fcGxh
bmUoc3RydWN0IGludGVsX3BsYW5lICpwbGFuZSwKIAl1MzIgcGxhbmVfY29sb3JfY3RsID0gMDsK
IAl1bnNpZ25lZCBsb25nIGlycWZsYWdzOwogCXUzMiBrZXltc2ssIGtleW1heDsKKwl1NjQgY2N2
YWwgPSBwbGFuZV9zdGF0ZS0+Y2N2YWw7CiAKIAlwbGFuZV9jdGwgfD0gc2tsX3BsYW5lX2N0bF9j
cnRjKGNydGNfc3RhdGUpOwogCkBAIC02MDksNiArNjEwLDEwIEBAIHNrbF9wcm9ncmFtX3BsYW5l
KHN0cnVjdCBpbnRlbF9wbGFuZSAqcGxhbmUsCiAJaWYgKGZiLT5mb3JtYXQtPmlzX3l1diAmJiBp
Y2xfaXNfaGRyX3BsYW5lKGRldl9wcml2LCBwbGFuZV9pZCkpCiAJCWljbF9wcm9ncmFtX2lucHV0
X2NzYyhwbGFuZSwgY3J0Y19zdGF0ZSwgcGxhbmVfc3RhdGUpOwogCisJaWYgKGZiLT5tb2RpZmll
ciA9PSBJOTE1X0ZPUk1BVF9NT0RfWV9USUxFRF9HRU4xMl9SQ19DQ1NfQ0MpCisJCWludGVsX3Vu
Y29yZV93cml0ZTY0X2Z3KCZkZXZfcHJpdi0+dW5jb3JlLAorCQkJCQlQTEFORV9DQ19WQUwocGlw
ZSwgcGxhbmVfaWQpLCBjY3ZhbCk7CisKIAlza2xfd3JpdGVfcGxhbmVfd20ocGxhbmUsIGNydGNf
c3RhdGUpOwogCiAJSTkxNV9XUklURV9GVyhQTEFORV9LRVlWQUwocGlwZSwgcGxhbmVfaWQpLCBr
ZXktPm1pbl92YWx1ZSk7CkBAIC0xNzM4LDcgKzE3NDMsOCBAQCBzdGF0aWMgaW50IHNrbF9wbGFu
ZV9jaGVja19mYihjb25zdCBzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqY3J0Y19zdGF0ZSwKIAkg
ICAgIGZiLT5tb2RpZmllciA9PSBJOTE1X0ZPUk1BVF9NT0RfWV9USUxFRF9DQ1MgfHwKIAkgICAg
IGZiLT5tb2RpZmllciA9PSBJOTE1X0ZPUk1BVF9NT0RfWWZfVElMRURfQ0NTIHx8CiAJICAgICBm
Yi0+bW9kaWZpZXIgPT0gSTkxNV9GT1JNQVRfTU9EX1lfVElMRURfR0VOMTJfUkNfQ0NTIHx8Ci0J
ICAgICBmYi0+bW9kaWZpZXIgPT0gSTkxNV9GT1JNQVRfTU9EX1lfVElMRURfR0VOMTJfTUNfQ0NT
KSkgeworCSAgICAgZmItPm1vZGlmaWVyID09IEk5MTVfRk9STUFUX01PRF9ZX1RJTEVEX0dFTjEy
X01DX0NDUyB8fAorCSAgICAgZmItPm1vZGlmaWVyID09IEk5MTVfRk9STUFUX01PRF9ZX1RJTEVE
X0dFTjEyX1JDX0NDU19DQykpIHsKIAkJRFJNX0RFQlVHX0tNUygiWS9ZZiB0aWxpbmcgbm90IHN1
cHBvcnRlZCBpbiBJRi1JRCBtb2RlXG4iKTsKIAkJcmV0dXJuIC1FSU5WQUw7CiAJfQpAQCAtMjE1
Myw2ICsyMTU5LDcgQEAgc3RhdGljIGNvbnN0IHU2NCBza2xfcGxhbmVfZm9ybWF0X21vZGlmaWVy
c19jY3NbXSA9IHsKIHN0YXRpYyBjb25zdCB1NjQgZ2VuMTJfcGxhbmVfZm9ybWF0X21vZGlmaWVy
c19tY19jY3NbXSA9IHsKIAlJOTE1X0ZPUk1BVF9NT0RfWV9USUxFRF9HRU4xMl9NQ19DQ1MsCiAJ
STkxNV9GT1JNQVRfTU9EX1lfVElMRURfR0VOMTJfUkNfQ0NTLAorCUk5MTVfRk9STUFUX01PRF9Z
X1RJTEVEX0dFTjEyX1JDX0NDU19DQywKIAlJOTE1X0ZPUk1BVF9NT0RfWV9USUxFRCwKIAlJOTE1
X0ZPUk1BVF9NT0RfWF9USUxFRCwKIAlEUk1fRk9STUFUX01PRF9MSU5FQVIsCkBAIC0yMTYxLDYg
KzIxNjgsNyBAQCBzdGF0aWMgY29uc3QgdTY0IGdlbjEyX3BsYW5lX2Zvcm1hdF9tb2RpZmllcnNf
bWNfY2NzW10gPSB7CiAKIHN0YXRpYyBjb25zdCB1NjQgZ2VuMTJfcGxhbmVfZm9ybWF0X21vZGlm
aWVyc19yY19jY3NbXSA9IHsKIAlJOTE1X0ZPUk1BVF9NT0RfWV9USUxFRF9HRU4xMl9SQ19DQ1Ms
CisJSTkxNV9GT1JNQVRfTU9EX1lfVElMRURfR0VOMTJfUkNfQ0NTX0NDLAogCUk5MTVfRk9STUFU
X01PRF9ZX1RJTEVELAogCUk5MTVfRk9STUFUX01PRF9YX1RJTEVELAogCURSTV9GT1JNQVRfTU9E
X0xJTkVBUiwKQEAgLTIzMzQsNiArMjM0Miw3IEBAIHN0YXRpYyBib29sIGdlbjEyX3BsYW5lX2Zv
cm1hdF9tb2Rfc3VwcG9ydGVkKHN0cnVjdCBkcm1fcGxhbmUgKl9wbGFuZSwKIAljYXNlIEk5MTVf
Rk9STUFUX01PRF9YX1RJTEVEOgogCWNhc2UgSTkxNV9GT1JNQVRfTU9EX1lfVElMRUQ6CiAJY2Fz
ZSBJOTE1X0ZPUk1BVF9NT0RfWV9USUxFRF9HRU4xMl9SQ19DQ1M6CisJY2FzZSBJOTE1X0ZPUk1B
VF9NT0RfWV9USUxFRF9HRU4xMl9SQ19DQ1NfQ0M6CiAJCWJyZWFrOwogCWRlZmF1bHQ6CiAJCXJl
dHVybiBmYWxzZTsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfcmVnLmgg
Yi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3JlZy5oCmluZGV4IDY1YTFmNTljMzE3MC4uYTY4
Yzc1ZGI1NjUzIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3JlZy5oCisr
KyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfcmVnLmgKQEAgLTY3MjksNiArNjcyOSw4IEBA
IGVudW0gewogI2RlZmluZSBfUExBTkVfS0VZTUFYXzFfQQkJCTB4NzAxYTAKICNkZWZpbmUgX1BM
QU5FX0tFWU1BWF8yX0EJCQkweDcwMmEwCiAjZGVmaW5lICBQTEFORV9LRVlNQVhfQUxQSEEoYSkJ
CQkoKGEpIDw8IDI0KQorI2RlZmluZSBfUExBTkVfQ0NfVkFMXzFfQQkJCTB4NzAxYjQKKyNkZWZp
bmUgX1BMQU5FX0NDX1ZBTF8yX0EJCQkweDcwMmI0CiAjZGVmaW5lIF9QTEFORV9BVVhfRElTVF8x
X0EJCQkweDcwMWMwCiAjZGVmaW5lIF9QTEFORV9BVVhfRElTVF8yX0EJCQkweDcwMmMwCiAjZGVm
aW5lIF9QTEFORV9BVVhfT0ZGU0VUXzFfQQkJCTB4NzAxYzQKQEAgLTY3NjgsNiArNjc3MCwxNiBA
QCBlbnVtIHsKICNkZWZpbmUgX1BMQU5FX05WMTJfQlVGX0NGR18xX0EJCTB4NzAyNzgKICNkZWZp
bmUgX1BMQU5FX05WMTJfQlVGX0NGR18yX0EJCTB4NzAzNzgKIAorI2RlZmluZSBfUExBTkVfQ0Nf
VkFMXzFfQgkJCTB4NzExYjQKKyNkZWZpbmUgX1BMQU5FX0NDX1ZBTF8yX0IJCQkweDcxMmI0Cisj
ZGVmaW5lIF9QTEFORV9DQ19WQUxfMShwaXBlKQlfUElQRShwaXBlLCBfUExBTkVfQ0NfVkFMXzFf
QSwgX1BMQU5FX0NDX1ZBTF8xX0IpCisjZGVmaW5lIF9QTEFORV9DQ19WQUxfMihwaXBlKQlfUElQ
RShwaXBlLCBfUExBTkVfQ0NfVkFMXzJfQSwgX1BMQU5FX0NDX1ZBTF8yX0IpCisjZGVmaW5lIFBM
QU5FX0NDX1ZBTChwaXBlLCBwbGFuZSkJXAorCV9NTUlPX1BMQU5FKHBsYW5lLCBfUExBTkVfQ0Nf
VkFMXzEocGlwZSksIF9QTEFORV9DQ19WQUxfMihwaXBlKSkKKworI2RlZmluZSBDQ19WQUxfTE9X
RVJfT0ZGU0VUCQk0CisjZGVmaW5lIENDX1ZBTF9ISUdIRVJfT0ZGU0VUCQk1CisKIC8qIElucHV0
IENTQyBSZWdpc3RlciBEZWZpbml0aW9ucyAqLwogI2RlZmluZSBfUExBTkVfSU5QVVRfQ1NDX1JZ
X0dZXzFfQQkweDcwMUUwCiAjZGVmaW5lIF9QTEFORV9JTlBVVF9DU0NfUllfR1lfMl9BCTB4NzAy
RTAKLS0gCjIuMjAuMQoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX18KSW50ZWwtZ2Z4IG1haWxpbmcgbGlzdApJbnRlbC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Au
b3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vaW50ZWwt
Z2Z4

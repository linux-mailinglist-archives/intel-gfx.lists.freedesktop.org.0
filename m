Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id EA8438DFF8
	for <lists+intel-gfx@lfdr.de>; Wed, 14 Aug 2019 23:32:23 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 5B17B6E84F;
	Wed, 14 Aug 2019 21:32:22 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga09.intel.com (mga09.intel.com [134.134.136.24])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 6D75F6E84F
 for <intel-gfx@lists.freedesktop.org>; Wed, 14 Aug 2019 21:32:20 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga008.jf.intel.com ([10.7.209.65])
 by orsmga102.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 14 Aug 2019 14:32:19 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.64,386,1559545200"; d="scan'208";a="170913174"
Received: from dceraolo-linux.fm.intel.com (HELO [10.1.27.145]) ([10.1.27.145])
 by orsmga008.jf.intel.com with ESMTP; 14 Aug 2019 14:32:19 -0700
To: Michal Wajdeczko <michal.wajdeczko@intel.com>,
 intel-gfx@lists.freedesktop.org
References: <20190814113821.28700-1-michal.wajdeczko@intel.com>
 <17e08d20-cb6d-1b43-3ed3-9042e231bd8f@intel.com>
 <674d5c43-459c-1b62-7b5a-4753929d7765@intel.com>
 <op.z6i5gtzoxaggs7@mwajdecz-mobl1.ger.corp.intel.com>
From: Daniele Ceraolo Spurio <daniele.ceraolospurio@intel.com>
Message-ID: <f4a80c06-0332-62dd-cb67-f24fb99a33d2@intel.com>
Date: Wed, 14 Aug 2019 14:32:18 -0700
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101
 Thunderbird/60.8.0
MIME-Version: 1.0
In-Reply-To: <op.z6i5gtzoxaggs7@mwajdecz-mobl1.ger.corp.intel.com>
Content-Language: en-US
Subject: Re: [Intel-gfx] [PATCH 1/2] drm/i915/wopcm: Try to use already
 locked WOPCM layout
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

CgpPbiA4LzE0LzE5IDE6NDkgUE0sIE1pY2hhbCBXYWpkZWN6a28gd3JvdGU6Cj4gT24gV2VkLCAx
NCBBdWcgMjAxOSAyMjoxMDo1MSArMDIwMCwgRGFuaWVsZSBDZXJhb2xvIFNwdXJpbyAKPiA8ZGFu
aWVsZS5jZXJhb2xvc3B1cmlvQGludGVsLmNvbT4gd3JvdGU6Cj4gCj4+Cj4+Cj4+IE9uIDgvMTQv
MTkgMTI6NTEgUE0sIERhbmllbGUgQ2VyYW9sbyBTcHVyaW8gd3JvdGU6Cj4+PiDCoCBPbiA4LzE0
LzE5IDQ6MzggQU0sIE1pY2hhbCBXYWpkZWN6a28gd3JvdGU6Cj4+Pj4gSWYgV09QQ00gbGF5b3V0
IGlzIGFscmVhZHkgbG9ja2VkIGluIEhXIHdlIHNob3VsZG4ndCBjb250aW51ZQo+Pj4+IHdpdGgg
b3VyIG93biBwYXJ0aXRpb25pbmcgYXMgaXQgY291bGQgYmUgbGlrZWx5IGRpZmZlcmVudCBhbmQK
Pj4+PiB3ZSB3aWxsIGJlIHVuYWJsZSB0byBlbmZvcmNlIGl0IGFuZCBmYWlsLiBJbnN0ZWFkIHdl
IHNob3VsZCB0cnkKPj4+PiB0byByZXVzZSB3aGF0IGlzIGFscmVhZHkgcHJvZ3JhbW1lZCwgbWF5
YmUgdGhlcmUgd2lsbCBiZSBhIGZpdC4KPj4+Pgo+Pj4+IFRoaXMgc2hvdWxkIGVuYWJsZSB1cyB0
byByZWxvYWQgZHJpdmVyIHdpdGggc2xpZ2h0bHkgZGlmZmVyZW50Cj4+Pj4gSHVDIGZpcm13YXJl
IChvciBldmVuIHdpdGhvdXQgSHVDKSB3aXRob3V0IG5lZWQgdG8gcmVib290Lgo+Pj4+Cj4+Pj4g
U2lnbmVkLW9mZi1ieTogTWljaGFsIFdhamRlY3prbyA8bWljaGFsLndhamRlY3prb0BpbnRlbC5j
b20+Cj4+Pj4gQ2M6IERhbmllbGUgQ2VyYW9sbyBTcHVyaW8gPGRhbmllbGUuY2VyYW9sb3NwdXJp
b0BpbnRlbC5jb20+Cj4+Pj4gQ2M6IENocmlzIFdpbHNvbiA8Y2hyaXNAY2hyaXMtd2lsc29uLmNv
LnVrPgo+Pj4+IENjOiBNaWNoYWwgV2luaWFyc2tpIDxtaWNoYWwud2luaWFyc2tpQGludGVsLmNv
bT4KPj4+PiAtLS0KPj4+PiDCoCBkcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF93b3BjbS5jIHwg
MjkgKysrKysrKysrKysrKysrKysrKysrKysrKysrLS0KPj4+PiDCoCAxIGZpbGUgY2hhbmdlZCwg
MjcgaW5zZXJ0aW9ucygrKSwgMiBkZWxldGlvbnMoLSkKPj4+Pgo+Pj4+IGRpZmYgLS1naXQgYS9k
cml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF93b3BjbS5jIAo+Pj4+IGIvZHJpdmVycy9ncHUvZHJt
L2k5MTUvaW50ZWxfd29wY20uYwo+Pj4+IGluZGV4IDJiZGEyNDIwMDQ5OC4uZTViYzdiOGE0MzNl
IDEwMDY0NAo+Pj4+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX3dvcGNtLmMKPj4+
PiArKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF93b3BjbS5jCj4+Pj4gQEAgLTE1NCw2
ICsxNTQsMjEgQEAgc3RhdGljIGlubGluZSBpbnQgY2hlY2tfaHdfcmVzdHJpY3Rpb24oc3RydWN0
IAo+Pj4+IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUsCj4+Pj4gwqDCoMKgwqDCoCByZXR1cm4gZXJy
Owo+Pj4+IMKgIH0KPj4+PiArc3RhdGljIGJvb2wgX193b3BjbV9yZWdzX2xvY2tlZChzdHJ1Y3Qg
aW50ZWxfdW5jb3JlICp1bmNvcmUsCj4+Pj4gK8KgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDC
oCB1MzIgKmd1Y193b3BjbV9iYXNlLCB1MzIgKmd1Y193b3BjbV9zaXplKQo+Pj4+ICt7Cj4+Pj4g
K8KgwqDCoCB1MzIgcmVnX2Jhc2UgPSBpbnRlbF91bmNvcmVfcmVhZCh1bmNvcmUsIERNQV9HVUNf
V09QQ01fT0ZGU0VUKTsKPj4+PiArwqDCoMKgIHUzMiByZWdfc2l6ZSA9IGludGVsX3VuY29yZV9y
ZWFkKHVuY29yZSwgR1VDX1dPUENNX1NJWkUpOwo+Pj4+ICsKPj4+PiArwqDCoMKgIGlmICghKHJl
Z19zaXplICYgR1VDX1dPUENNX1NJWkVfTE9DS0VEKSB8fAo+Pj4+ICvCoMKgwqDCoMKgwqDCoCAh
KHJlZ19iYXNlICYgR1VDX1dPUENNX09GRlNFVF9WQUxJRCkpCj4+Pj4gK8KgwqDCoMKgwqDCoMKg
IHJldHVybiBmYWxzZTsKPj4+IMKgU2hvdWxkIHdlIGF0IGxlYXN0IFdBUk4gaW4gdGhlIHVubGlr
ZWx5IGNhc2Ugd2hlcmUgb25seSBvbmUgb2YgdGhlIDIgCj4+PiByZWdzIGlzIGxvY2tlZD8KPiAK
PiBJIHdhbnRlZCBqdXN0IHRvIGNvdmVyIHZhbGlkIGNhc2Ugd2hlcmUgYm90aCByZWdzIGFyZSBs
b2NrZWQgc28KPiB3ZSBjYW4gZ3JhYiBiYXNlL3NpemUgYXMgZmluYWwuCj4gCj4gSWYgb25seSBz
aW5nbGUgcmVnIGlzIGxvY2tlZCwgdGhlbiB3ZSBjb250aW51ZSB3aXRoIG91ciBvd24gcGFydGl0
aW9uaW5nCj4gYXMgYmVmb3JlLCBhbmQgZmFpbCBkdXJpbmcgcmVnIHZlcmlmaWNhdGlvbiBpbiB1
Y19pbml0X3dvcGNtKCkgd2hlcmUKPiB3ZSBhbHJlYWR5IGhhdmUgV0FSTnMKPiAKClRoYXQgd29y
a3MKCj4+Pgo+Pj4+ICsKPj4+PiArwqDCoMKgICpndWNfd29wY21fYmFzZSA9IHJlZ19iYXNlICYg
R1VDX1dPUENNX09GRlNFVF9NQVNLOwo+Pj4+ICvCoMKgwqAgKmd1Y193b3BjbV9zaXplID0gcmVn
X3NpemUgJiBHVUNfV09QQ01fU0laRV9NQVNLOwo+Pj4+ICvCoMKgwqAgcmV0dXJuIHRydWU7Cj4+
Pj4gK30KPj4+PiArCj4+Pj4gwqAgLyoqCj4+Pj4gwqDCoCAqIGludGVsX3dvcGNtX2luaXQoKSAt
IEluaXRpYWxpemUgdGhlIFdPUENNIHN0cnVjdHVyZS4KPj4+PiDCoMKgICogQHdvcGNtOiBwb2lu
dGVyIHRvIGludGVsX3dvcGNtLgo+Pj4+IEBAIC0xNjcsOCArMTgyLDkgQEAgc3RhdGljIGlubGlu
ZSBpbnQgY2hlY2tfaHdfcmVzdHJpY3Rpb24oc3RydWN0IAo+Pj4+IGRybV9pOTE1X3ByaXZhdGUg
Kmk5MTUsCj4+Pj4gwqAgdm9pZCBpbnRlbF93b3BjbV9pbml0KHN0cnVjdCBpbnRlbF93b3BjbSAq
d29wY20pCj4+Pj4gwqAgewo+Pj4+IMKgwqDCoMKgwqAgc3RydWN0IGRybV9pOTE1X3ByaXZhdGUg
Kmk5MTUgPSB3b3BjbV90b19pOTE1KHdvcGNtKTsKPj4+PiAtwqDCoMKgIHUzMiBndWNfZndfc2l6
ZSA9IAo+Pj4+IGludGVsX3VjX2Z3X2dldF91cGxvYWRfc2l6ZSgmaTkxNS0+Z3QudWMuZ3VjLmZ3
KTsKPj4+PiAtwqDCoMKgIHUzMiBodWNfZndfc2l6ZSA9IAo+Pj4+IGludGVsX3VjX2Z3X2dldF91
cGxvYWRfc2l6ZSgmaTkxNS0+Z3QudWMuaHVjLmZ3KTsKPj4+PiArwqDCoMKgIHN0cnVjdCBpbnRl
bF9ndCAqZ3QgPSAmaTkxNS0+Z3Q7Cj4+Pj4gK8KgwqDCoCB1MzIgZ3VjX2Z3X3NpemUgPSBpbnRl
bF91Y19md19nZXRfdXBsb2FkX3NpemUoJmd0LT51Yy5ndWMuZncpOwo+Pj4+ICvCoMKgwqAgdTMy
IGh1Y19md19zaXplID0gaW50ZWxfdWNfZndfZ2V0X3VwbG9hZF9zaXplKCZndC0+dWMuaHVjLmZ3
KTsKPj4+PiDCoMKgwqDCoMKgIHUzMiBjdHhfcnN2ZCA9IGNvbnRleHRfcmVzZXJ2ZWRfc2l6ZShp
OTE1KTsKPj4+PiDCoMKgwqDCoMKgIHUzMiBndWNfd29wY21fYmFzZTsKPj4+PiDCoMKgwqDCoMKg
IHUzMiBndWNfd29wY21fc2l6ZTsKPj4+PiBAQCAtMTg1LDYgKzIwMSwxNCBAQCB2b2lkIGludGVs
X3dvcGNtX2luaXQoc3RydWN0IGludGVsX3dvcGNtICp3b3BjbSkKPj4+PiDCoMKgwqDCoMKgIGlm
IChpOTE1X2luamVjdF9wcm9iZV9mYWlsdXJlKGk5MTUpKQo+Pj4+IMKgwqDCoMKgwqDCoMKgwqDC
oCByZXR1cm47Cj4+Pj4gK8KgwqDCoCBpZiAoX193b3BjbV9yZWdzX2xvY2tlZChndC0+dW5jb3Jl
LCAmZ3VjX3dvcGNtX2Jhc2UsIAo+Pj4+ICZndWNfd29wY21fc2l6ZSkpIHsKPj4+PiArwqDCoMKg
wqDCoMKgwqAgRFJNX0RFVl9ERUJVR19EUklWRVIoaTkxNS0+ZHJtLmRldiwKPj4+PiArwqDCoMKg
wqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoCAiR3VDIFdPUENNIGlzIGFscmVhZHkg
bG9ja2VkIFsldUssICV1SylcbiIsCj4+Pj4gK8KgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDC
oMKgwqDCoMKgwqAgZ3VjX3dvcGNtX2Jhc2UgLyBTWl8xSywKPj4+PiArwqDCoMKgwqDCoMKgwqDC
oMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoCBndWNfd29wY21fc2l6ZSAvIFNaXzFLKTsKPj4+PiAr
wqDCoMKgwqDCoMKgwqAgZ290byBjaGVjazsKPj4+PiArwqDCoMKgIH0KPj4+PiArCj4+Pj4gwqDC
oMKgwqDCoCBpZiAoZ3VjX2Z3X3NpemUgPj0gd29wY20tPnNpemUpIHsKPj4+PiDCoMKgwqDCoMKg
wqDCoMKgwqAgRFJNX0VSUk9SKCJHdUMgRlcgKCV1S2lCKSBpcyB0b28gYmlnIHRvIGZpdCBpbiBX
T1BDTS4iLAo+Pj4+IMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoCBndWNfZndfc2l6ZSAv
IDEwMjQpOwo+Pj4+IEBAIC0yMTEsNiArMjM1LDcgQEAgdm9pZCBpbnRlbF93b3BjbV9pbml0KHN0
cnVjdCBpbnRlbF93b3BjbSAqd29wY20pCj4+Pj4gwqDCoMKgwqDCoCBEUk1fREVCVUdfRFJJVkVS
KCJDYWxjdWxhdGVkIEd1QyBXT1BDTSBSZWdpb246IFsldUtpQiwgJXVLaUIpXG4iLAo+Pj4+IMKg
wqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqAgZ3VjX3dvcGNtX2Jhc2UgLyAxMDI0LCBndWNfd29w
Y21fc2l6ZSAvIDEwMjQpOwo+Pj4+ICtjaGVjazoKPj4+IMKgVGhlIGNoZWNrcyBoZXJlIGRvbid0
IHJlYWxseSB2ZXJpZnkgdGhhdCB0aGUgc2l6ZXMgd2UncmUgbG9ja2VkIHdpdGggCj4+PiBhcmUg
ZW5vdWdoIHRvIGZpdCB0aGUgYmluYXJpZXMuIFdlIG5lZWQgdG8gYXQgbGVhc3QgcHJpbnQgYW4g
ZXJyb3IgaW4gCj4+PiB0aGF0IGNhc2Ugc28gd2UgY2FuIGRlYnVnIHdoeSBHdUMvSHVDIGZhaWxz
IHRvIGxvYWQgbGF0ZXIgaWYgdGhlIAo+Pj4gc2l6ZXMgYXJlIG5vdCBvay4KPiAKPiBJJ3ZlIGFk
ZGVkIERSTV9ERVZfREVCVUdfRFJJVkVSKCJHdUMgV09QQ00gaXMgYWxyZWFkeSBsb2NrZWQgWyV1
SywgJXVLKVxuIgo+IGJ1dCBtYXliZSB3ZSBzaG91bGQgcHJvbW90ZSBpdCB0byBkZXZfbm90aWNl
ID8gd2lsbCB0aGF0IHdvcmsgZm9yIHlvdSA/CgpJJ2QgcHJlZmVyIGFuIGVycm9yLWxldmVsIG1l
c3NhZ2UgaWYgaHVjIGRvZXNuJ3QgZml0IHNvIGl0IGp1bXBzIG91dCAKdGhhdCB0aGlzIGlzIHdy
b25nIGFuZCBub3QganVzdCBhbiBpbmZvcm1hdGlvbmFsIG1lc3NhZ2UuIFRoZSBzYW1lIGFzIAp3
aGF0IHdlIGRvIHdpdGggZ3VjIHNpemUgYmVsb3cuCgpEYW5pZWxlCgo+IAo+Pgo+PiBIZXJlIEkg
bWVhbnQgdG8gcmVmZXIgdG8gSHVDIG9ubHksIHNpbmNlIGd1YyBzaXplIGlzIHZlcmlmaWVkIGJl
bG93IAo+PiAoSSdtIHRvbyB1c2VkIHRvIHJlZmVyIHRvIHRoZW0gYXMgYSBwYWlyIDpQICkKPj4K
Pj4gRGFuaWVsZQo+Pgo+Pj4gwqBEYW5pZWxlCj4+Pgo+Pj4+IMKgwqDCoMKgwqAgZ3VjX3dvcGNt
X3JzdmQgPSBHVUNfV09QQ01fUkVTRVJWRUQgKyBHVUNfV09QQ01fU1RBQ0tfUkVTRVJWRUQ7Cj4+
Pj4gwqDCoMKgwqDCoCBpZiAoKGd1Y19md19zaXplICsgZ3VjX3dvcGNtX3JzdmQpID4gZ3VjX3dv
cGNtX3NpemUpIHsKPj4+PiDCoMKgwqDCoMKgwqDCoMKgwqAgRFJNX0VSUk9SKCJOZWVkICV1S2lC
IFdPUENNIGZvciBHdUMsICV1S2lCIGF2YWlsYWJsZS5cbiIsCl9fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fCkludGVsLWdmeCBtYWlsaW5nIGxpc3QKSW50ZWwt
Z2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9t
YWlsbWFuL2xpc3RpbmZvL2ludGVsLWdmeA==

Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id A5092E8C7D
	for <lists+intel-gfx@lfdr.de>; Tue, 29 Oct 2019 17:13:02 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 260526EC45;
	Tue, 29 Oct 2019 16:13:01 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga09.intel.com (mga09.intel.com [134.134.136.24])
 by gabe.freedesktop.org (Postfix) with ESMTPS id A09116EC45
 for <intel-gfx@lists.freedesktop.org>; Tue, 29 Oct 2019 16:12:59 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga004.jf.intel.com ([10.7.209.38])
 by orsmga102.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 29 Oct 2019 09:12:53 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.68,244,1569308400"; d="scan'208";a="351025342"
Received: from gaia.fi.intel.com ([10.237.72.192])
 by orsmga004.jf.intel.com with ESMTP; 29 Oct 2019 09:12:51 -0700
Received: by gaia.fi.intel.com (Postfix, from userid 1000)
 id 3F9135C1E1E; Tue, 29 Oct 2019 18:11:58 +0200 (EET)
From: Mika Kuoppala <mika.kuoppala@linux.intel.com>
To: Chris Wilson <chris@chris-wilson.co.uk>, intel-gfx@lists.freedesktop.org
In-Reply-To: <20191029091632.26281-1-chris@chris-wilson.co.uk>
References: <20191029091632.26281-1-chris@chris-wilson.co.uk>
Date: Tue, 29 Oct 2019 18:11:58 +0200
Message-ID: <877e4nleep.fsf@gaia.fi.intel.com>
MIME-Version: 1.0
Subject: Re: [Intel-gfx] [PATCH] drm/i915/gt: Make timeslice duration
 configurable
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

Q2hyaXMgV2lsc29uIDxjaHJpc0BjaHJpcy13aWxzb24uY28udWs+IHdyaXRlczoKCj4gRXhlY2xp
c3RzIHVzZXMgYSBzY2hlZHVsaW5nIHF1YW50dW0gKGEgdGltZXNsaWNlKSB0byBhbHRlcm5hdGUg
ZXhlY3V0aW9uCj4gYmV0d2VlbiByZWFkeS10by1ydW4gY29udGV4dHMgb2YgZXF1YWwgcHJpb3Jp
dHkuIFRoaXMgZW5zdXJlcyB0aGF0IGFsbAo+IHVzZXJzICh0aG91Z2ggb25seSBpZiB0aGV5IG9m
IGVxdWFsIGltcG9ydGFuY2UpIGhhdmUgdGhlIG9wcG9ydHVuaXR5IHRvCj4gcnVuIGFuZCBwcmV2
ZW50cyBsaXZlbG9ja3Mgd2hlcmUgY29udGV4dHMgbWF5IGhhdmUgaW1wbGljaXQgb3JkZXJpbmcg
ZHVlCj4gdG8gdXNlcnNwYWNlIHNlbWFwaG9yZXMuIEhvd2V2ZXIsIG5vdCBhbGwgd29ya2xvYWRz
IG5lY2Vzc2FyaWx5IGJlbmVmaXQKPiBmcm9tIHRpbWVzbGljaW5nIGFuZCBpbiB0aGUgZXh0cmVt
ZSBzb21lIHN5c2FkbWluIG1heSB3YW50IHRvIGRpc2FibGUgb3IKPiByZWR1Y2UgdGhlIHRpbWVz
bGljaW5nIGdyYW51bGFyaXR5Lgo+Cj4gVGhlIHRpbWVzbGljaW5nIG1lY2hhbmlzbSBjYW4gYmUg
Y29tcGlsZWQgb3V0IHdpdGgKCnMvY29tcGlsZWQvZGlzYWJsZWQKCj4KPiAJLi9zY3JpcHRzL2Nv
bmZpZyAtLXNldC12YWwgRFJNX0k5MTVfVElNRVNMSUNFX0RVUkFUSU9OIDAKPgo+IFNpZ25lZC1v
ZmYtYnk6IENocmlzIFdpbHNvbiA8Y2hyaXNAY2hyaXMtd2lsc29uLmNvLnVrPgo+IENjOiBKb29u
YXMgTGFodGluZW4gPGpvb25hcy5sYWh0aW5lbkBsaW51eC5pbnRlbC5jb20+Cj4gLS0tCj4gIGRy
aXZlcnMvZ3B1L2RybS9pOTE1L0tjb25maWcucHJvZmlsZSAgICAgICAgIHwgMTUgKysrKysrKysK
PiAgZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZW5naW5lLmggICAgICAgfCAgOSArKysr
Kwo+ICBkcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9lbmdpbmVfY3MuYyAgICB8ICAyICsK
PiAgZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZW5naW5lX3R5cGVzLmggfCAgMSArCj4g
IGRyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2xyYy5jICAgICAgICAgIHwgMzkgKysrKysr
KysrKysrKystLS0tLS0KPiAgZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3Qvc2VsZnRlc3RfbHJjLmMg
ICAgICAgfCAxMyArKysrKystCj4gIDYgZmlsZXMgY2hhbmdlZCwgNjUgaW5zZXJ0aW9ucygrKSwg
MTQgZGVsZXRpb25zKC0pCj4KPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvS2Nv
bmZpZy5wcm9maWxlIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvS2NvbmZpZy5wcm9maWxlCj4gaW5k
ZXggOGFiN2FmNWViMzExLi4xNzk5NTM3YTMyMjggMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUv
ZHJtL2k5MTUvS2NvbmZpZy5wcm9maWxlCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvS2Nv
bmZpZy5wcm9maWxlCj4gQEAgLTU5LDMgKzU5LDE4IEBAIGNvbmZpZyBEUk1fSTkxNV9TVE9QX1RJ
TUVPVVQKPiAgCSAgZGFtYWdlIGFzIHRoZSBzeXN0ZW0gaXMgcmVzZXQgaW4gb3JkZXIgdG8gcmVj
b3Zlci4gVGhlIGNvcm9sbGFyeSBpcwo+ICAJICB0aGF0IHRoZSByZXNldCBpdHNlbGYgbWF5IHRh
a2UgbG9uZ2VyIGFuZCBzbyBiZSBtb3JlIGRpc3J1cHRpdmUgdG8KPiAgCSAgaW50ZXJhY3RpdmUg
b3IgbG93IGxhdGVuY3kgd29ya2xvYWRzLgo+ICsKPiArY29uZmlnIERSTV9JOTE1X1RJTUVTTElD
RV9EVVJBVElPTgo+ICsJaW50ICJTY2hlZHVsaW5nIHF1YW50dW0gZm9yIHVzZXJzcGFjZSBiYXRj
aGVzIChtcywgamlmZnkgZ3JhbnVsYXJpdHkpIgo+ICsJZGVmYXVsdCAxICMgbWlsbGlzZWNvbmRz
Cj4gKwloZWxwCj4gKwkgIFdoZW4gdHdvIHVzZXIgYmF0Y2hlcyBvZiBlcXVhbCBwcmlvcml0eSBh
cmUgZXhlY3V0aW5nLCB3ZSB3aWxsCj4gKwkgIGFsdGVybmF0ZSBleGVjdXRpb24gb2YgZWFjaCBi
YXRjaCB0byBlbnN1cmUgZm9yd2FyZCBwcm9ncmVzcyBvZgo+ICsJICBhbGwgdXNlcnMuIFRoaXMg
aXMgbmVjZXNzYXJ5IGluIHNvbWUgY2FzZXMgd2hlcmUgdGhlcmUgbWF5IGJlCj4gKwkgIGFuIGlt
cGxpY2l0IGRlcGVuZGVuY3kgYmV0d2VlbiB0aG9zZSBiYXRjaGVzIHRoYXQgcmVxdWlyZXMKPiAr
CSAgY29uY3VycmVudCBleGVjdXRpb24gaW4gb3JkZXIgZm9yIHRoZW0gdG8gcHJvY2VlZCwgZS5n
LiB0aGV5Cj4gKwkgIGludGVyYWN0IHdpdGggZWFjaCBvdGhlciB2aWEgdXNlcnNwYWNlIHNlbWFw
aG9yZXMuIEVhY2ggY29udGV4dAo+ICsJICBpcyBzY2hlZHVsZWQgZm9yIGV4ZWN1dGlvbiBmb3Ig
dGhlIHRpbWVzbGljZSBkdXJhdGlvbiwgYmVmb3JlCj4gKwkgIHN3aXRjaGluZyB0byB0aGUgbmV4
dCBjb250ZXh0Lgo+ICsKPiArCSAgTWF5IGJlIDAgdG8gZGlzYWJsZSB0aW1lc2xpY2luZy4KPiBk
aWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZW5naW5lLmggYi9kcml2
ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9lbmdpbmUuaAo+IGluZGV4IGM2ODk1OTM4YjYyNi4u
MDU5N2I3N2Y1ODE4IDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVs
X2VuZ2luZS5oCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZW5naW5lLmgK
PiBAQCAtMzM1LDQgKzMzNSwxMyBAQCBpbnRlbF9lbmdpbmVfaGFzX3ByZWVtcHRfcmVzZXQoY29u
c3Qgc3RydWN0IGludGVsX2VuZ2luZV9jcyAqZW5naW5lKQo+ICAJcmV0dXJuIGludGVsX2VuZ2lu
ZV9oYXNfcHJlZW1wdGlvbihlbmdpbmUpOwo+ICB9Cj4gIAo+ICtzdGF0aWMgaW5saW5lIGJvb2wK
PiAraW50ZWxfZW5naW5lX2hhc190aW1lc2xpY2VzKGNvbnN0IHN0cnVjdCBpbnRlbF9lbmdpbmVf
Y3MgKmVuZ2luZSkKPiArewo+ICsJaWYgKCFDT05GSUdfRFJNX0k5MTVfVElNRVNMSUNFX0RVUkFU
SU9OKQo+ICsJCXJldHVybiAwOwpzLzAvZmFsc2U7Cgo+ICsKPiArCXJldHVybiBpbnRlbF9lbmdp
bmVfaGFzX3NlbWFwaG9yZXMoZW5naW5lKTsKPiArfQo+ICsKPiAgI2VuZGlmIC8qIF9JTlRFTF9S
SU5HQlVGRkVSX0hfICovCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2lu
dGVsX2VuZ2luZV9jcy5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZW5naW5lX2Nz
LmMKPiBpbmRleCA5Y2MxZWE2NTE5ZWMuLjJhZmEyZWY5MDQ4MiAxMDA2NDQKPiAtLS0gYS9kcml2
ZXJzL2dwdS9kcm0vaTkxNS9ndC9pbnRlbF9lbmdpbmVfY3MuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1
L2RybS9pOTE1L2d0L2ludGVsX2VuZ2luZV9jcy5jCj4gQEAgLTMxNSw2ICszMTUsOCBAQCBzdGF0
aWMgaW50IGludGVsX2VuZ2luZV9zZXR1cChzdHJ1Y3QgaW50ZWxfZ3QgKmd0LCBlbnVtIGludGVs
X2VuZ2luZV9pZCBpZCkKPiAgCQlDT05GSUdfRFJNX0k5MTVfUFJFRU1QVF9USU1FT1VUOwo+ICAJ
ZW5naW5lLT5wcm9wcy5zdG9wX3RpbWVvdXRfbXMgPQo+ICAJCUNPTkZJR19EUk1fSTkxNV9TVE9Q
X1RJTUVPVVQ7Cj4gKwllbmdpbmUtPnByb3BzLnRpbWVzbGljZV9kdXJhdGlvbl9tcyA9Cj4gKwkJ
Q09ORklHX0RSTV9JOTE1X1RJTUVTTElDRV9EVVJBVElPTjsKPiAgCj4gIAkvKgo+ICAJICogVG8g
YmUgb3ZlcnJpZGRlbiBieSB0aGUgYmFja2VuZCBvbiBzZXR1cC4gSG93ZXZlciB0byBmYWNpbGl0
YXRlCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2VuZ2luZV90
eXBlcy5oIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfZW5naW5lX3R5cGVzLmgKPiBp
bmRleCBlOGVhMTJiOTY3NTUuLmM1ZDEwNDdhNGJjNSAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dw
dS9kcm0vaTkxNS9ndC9pbnRlbF9lbmdpbmVfdHlwZXMuaAo+ICsrKyBiL2RyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2d0L2ludGVsX2VuZ2luZV90eXBlcy5oCj4gQEAgLTUyMyw2ICs1MjMsNyBAQCBzdHJ1
Y3QgaW50ZWxfZW5naW5lX2NzIHsKPiAgCQl1bnNpZ25lZCBsb25nIGhlYXJ0YmVhdF9pbnRlcnZh
bF9tczsKPiAgCQl1bnNpZ25lZCBsb25nIHByZWVtcHRfdGltZW91dF9tczsKPiAgCQl1bnNpZ25l
ZCBsb25nIHN0b3BfdGltZW91dF9tczsKPiArCQl1bnNpZ25lZCBsb25nIHRpbWVzbGljZV9kdXJh
dGlvbl9tczsKPiAgCX0gcHJvcHM7Cj4gIH07Cj4gIAo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dw
dS9kcm0vaTkxNS9ndC9pbnRlbF9scmMuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVs
X2xyYy5jCj4gaW5kZXggMmY0NzRjMWY1YzU0Li42ZmIzZGVmNWJhMTYgMTAwNjQ0Cj4gLS0tIGEv
ZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3QvaW50ZWxfbHJjLmMKPiArKysgYi9kcml2ZXJzL2dwdS9k
cm0vaTkxNS9ndC9pbnRlbF9scmMuYwo+IEBAIC0xNDY3LDcgKzE0NjcsNyBAQCBuZWVkX3RpbWVz
bGljZShzdHJ1Y3QgaW50ZWxfZW5naW5lX2NzICplbmdpbmUsIGNvbnN0IHN0cnVjdCBpOTE1X3Jl
cXVlc3QgKnJxKQo+ICB7Cj4gIAlpbnQgaGludDsKPiAgCj4gLQlpZiAoIWludGVsX2VuZ2luZV9o
YXNfc2VtYXBob3JlcyhlbmdpbmUpKQo+ICsJaWYgKCFpbnRlbF9lbmdpbmVfaGFzX3RpbWVzbGlj
ZXMoZW5naW5lKSkKPiAgCQlyZXR1cm4gZmFsc2U7Cj4gIAo+ICAJaWYgKGxpc3RfaXNfbGFzdCgm
cnEtPnNjaGVkLmxpbmssICZlbmdpbmUtPmFjdGl2ZS5yZXF1ZXN0cykpCj4gQEAgLTE0ODgsMTUg
KzE0ODgsMzIgQEAgc3dpdGNoX3ByaW8oc3RydWN0IGludGVsX2VuZ2luZV9jcyAqZW5naW5lLCBj
b25zdCBzdHJ1Y3QgaTkxNV9yZXF1ZXN0ICpycSkKPiAgCXJldHVybiBycV9wcmlvKGxpc3RfbmV4
dF9lbnRyeShycSwgc2NoZWQubGluaykpOwo+ICB9Cj4gIAo+IC1zdGF0aWMgYm9vbAo+IC1lbmFi
bGVfdGltZXNsaWNlKGNvbnN0IHN0cnVjdCBpbnRlbF9lbmdpbmVfZXhlY2xpc3RzICpleGVjbGlz
dHMpCj4gK3N0YXRpYyBpbmxpbmUgdW5zaWduZWQgbG9uZwo+ICt0aW1lc2xpY2UoY29uc3Qgc3Ry
dWN0IGludGVsX2VuZ2luZV9jcyAqZW5naW5lKQoKY291bGQgYmUgdGltZXNsaWNlX2R1cmF0aW9u
LCBidXQgbm90IGluc2lzdGluZwoKPiArewo+ICsJcmV0dXJuIFJFQURfT05DRShlbmdpbmUtPnBy
b3BzLnRpbWVzbGljZV9kdXJhdGlvbl9tcyk7Cj4gK30KPiArCj4gK3N0YXRpYyB1bnNpZ25lZCBs
b25nCj4gK2FjdGl2ZV90aW1lc2xpY2UoY29uc3Qgc3RydWN0IGludGVsX2VuZ2luZV9jcyAqZW5n
aW5lKQo+ICB7Cj4gLQljb25zdCBzdHJ1Y3QgaTkxNV9yZXF1ZXN0ICpycSA9ICpleGVjbGlzdHMt
PmFjdGl2ZTsKPiArCWNvbnN0IHN0cnVjdCBpOTE1X3JlcXVlc3QgKnJxID0gKmVuZ2luZS0+ZXhl
Y2xpc3RzLmFjdGl2ZTsKPiAgCj4gIAlpZiAoaTkxNV9yZXF1ZXN0X2NvbXBsZXRlZChycSkpCj4g
LQkJcmV0dXJuIGZhbHNlOwo+ICsJCXJldHVybiAwOwo+ICsKPiArCWlmIChlbmdpbmUtPmV4ZWNs
aXN0cy5zd2l0Y2hfcHJpb3JpdHlfaGludCA8IGVmZmVjdGl2ZV9wcmlvKHJxKSkKPiArCQlyZXR1
cm4gMDsKPiArCj4gKwlyZXR1cm4gdGltZXNsaWNlKGVuZ2luZSk7Cj4gK30KPiArCj4gK3N0YXRp
YyB2b2lkIHNldF90aW1lc2xpY2Uoc3RydWN0IGludGVsX2VuZ2luZV9jcyAqZW5naW5lKQo+ICt7
Cj4gKwlpZiAoIWludGVsX2VuZ2luZV9oYXNfdGltZXNsaWNlcyhlbmdpbmUpKQo+ICsJCXJldHVy
bjsKPiAgCj4gLQlyZXR1cm4gZXhlY2xpc3RzLT5zd2l0Y2hfcHJpb3JpdHlfaGludCA+PSBlZmZl
Y3RpdmVfcHJpbyhycSk7Cj4gKwlzZXRfdGltZXJfbXMoJmVuZ2luZS0+ZXhlY2xpc3RzLnRpbWVy
LCBhY3RpdmVfdGltZXNsaWNlKGVuZ2luZSkpOwo+ICB9Cj4gIAo+ICBzdGF0aWMgdm9pZCByZWNv
cmRfcHJlZW1wdGlvbihzdHJ1Y3QgaW50ZWxfZW5naW5lX2V4ZWNsaXN0cyAqZXhlY2xpc3RzKQo+
IEBAIC0xNjY3LDggKzE2ODQsOSBAQCBzdGF0aWMgdm9pZCBleGVjbGlzdHNfZGVxdWV1ZShzdHJ1
Y3QgaW50ZWxfZW5naW5lX2NzICplbmdpbmUpCj4gIAkJCQkgKi8KPiAgCQkJCWlmICghZXhlY2xp
c3RzLT50aW1lci5leHBpcmVzICYmCj4gIAkJCQkgICAgbmVlZF90aW1lc2xpY2UoZW5naW5lLCBs
YXN0KSkKPiAtCQkJCQltb2RfdGltZXIoJmV4ZWNsaXN0cy0+dGltZXIsCj4gLQkJCQkJCSAgamlm
ZmllcyArIDEpOwo+ICsJCQkJCXNldF90aW1lcl9tcygmZXhlY2xpc3RzLT50aW1lciwKPiArCQkJ
CQkJICAgICB0aW1lc2xpY2UoZW5naW5lKSk7CgoKSSB0cmlwcGVkIGludG8gdGhlIGhpZGRlbiBj
YW5jZWxsYXRpb24gaW4gaGVyZS4gTm90IHRoYXQgaXQKd291bGQgaGFwcGVuLiBTdGlsbCB1cHNl
dCBJIGFtIG9mIHRoaXMgc2V0X3RpbWVyX21zKHRpbWVyLCAwKQoKUmV2aWV3ZWQtYnk6IE1pa2Eg
S3VvcHBhbGEgPG1pa2Eua3VvcHBhbGFAbGludXguaW50ZWwuY29tPgoKPiArCj4gIAkJCQlyZXR1
cm47Cj4gIAkJCX0KPiAgCj4gQEAgLTIwOTIsMTAgKzIxMTAsNyBAQCBzdGF0aWMgdm9pZCBwcm9j
ZXNzX2NzYihzdHJ1Y3QgaW50ZWxfZW5naW5lX2NzICplbmdpbmUpCj4gIAkJCQkgICAgICAgZXhl
Y2xpc3RzX251bV9wb3J0cyhleGVjbGlzdHMpICoKPiAgCQkJCSAgICAgICBzaXplb2YoKmV4ZWNs
aXN0cy0+cGVuZGluZykpOwo+ICAKPiAtCQkJaWYgKGVuYWJsZV90aW1lc2xpY2UoZXhlY2xpc3Rz
KSkKPiAtCQkJCW1vZF90aW1lcigmZXhlY2xpc3RzLT50aW1lciwgamlmZmllcyArIDEpOwo+IC0J
CQllbHNlCj4gLQkJCQljYW5jZWxfdGltZXIoJmV4ZWNsaXN0cy0+dGltZXIpOwo+ICsJCQlzZXRf
dGltZXNsaWNlKGVuZ2luZSk7Cj4gIAo+ICAJCQlXUklURV9PTkNFKGV4ZWNsaXN0cy0+cGVuZGlu
Z1swXSwgTlVMTCk7Cj4gIAkJfSBlbHNlIHsKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJt
L2k5MTUvZ3Qvc2VsZnRlc3RfbHJjLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndC9zZWxmdGVz
dF9scmMuYwo+IGluZGV4IDk1MDdkNzUwYWUxNC4uNWVkMjc1ZWYwOTg0IDEwMDY0NAo+IC0tLSBh
L2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L3NlbGZ0ZXN0X2xyYy5jCj4gKysrIGIvZHJpdmVycy9n
cHUvZHJtL2k5MTUvZ3Qvc2VsZnRlc3RfbHJjLmMKPiBAQCAtNDQwLDYgKzQ0MCw4IEBAIHN0YXRp
YyBpbnQgbGl2ZV90aW1lc2xpY2VfcHJlZW1wdCh2b2lkICphcmcpCj4gIAkgKiBuZWVkIHRvIHBy
ZWVtcHQgdGhlIGN1cnJlbnQgdGFzayBhbmQgcmVwbGFjZSBpdCB3aXRoIGFub3RoZXIKPiAgCSAq
IHJlYWR5IHRhc2suCj4gIAkgKi8KPiArCWlmICghQ09ORklHX0RSTV9JOTE1X1RJTUVTTElDRV9E
VVJBVElPTikKPiArCQlyZXR1cm4gMDsKPiAgCj4gIAlvYmogPSBpOTE1X2dlbV9vYmplY3RfY3Jl
YXRlX2ludGVybmFsKGd0LT5pOTE1LCBQQUdFX1NJWkUpOwo+ICAJaWYgKElTX0VSUihvYmopKQo+
IEBAIC01MTQsNiArNTE2LDExIEBAIHN0YXRpYyB2b2lkIHdhaXRfZm9yX3N1Ym1pdChzdHJ1Y3Qg
aW50ZWxfZW5naW5lX2NzICplbmdpbmUsCj4gIAl9IHdoaWxlICghaTkxNV9yZXF1ZXN0X2lzX2Fj
dGl2ZShycSkpOwo+ICB9Cj4gIAo+ICtzdGF0aWMgbG9uZyB0aW1lc2xpY2VfdGhyZXNob2xkKGNv
bnN0IHN0cnVjdCBpbnRlbF9lbmdpbmVfY3MgKmVuZ2luZSkKPiArewo+ICsJcmV0dXJuIDIgKiBt
c2Vjc190b19qaWZmaWVzX3RpbWVvdXQodGltZXNsaWNlKGVuZ2luZSkpICsgMTsKPiArfQo+ICsK
PiAgc3RhdGljIGludCBsaXZlX3RpbWVzbGljZV9xdWV1ZSh2b2lkICphcmcpCj4gIHsKPiAgCXN0
cnVjdCBpbnRlbF9ndCAqZ3QgPSBhcmc7Cj4gQEAgLTUzMSw2ICs1MzgsOCBAQCBzdGF0aWMgaW50
IGxpdmVfdGltZXNsaWNlX3F1ZXVlKHZvaWQgKmFyZykKPiAgCSAqIEVMU1BbMV0gaXMgYWxyZWFk
eSBvY2N1cGllZCwgc28gbXVzdCByZWx5IG9uIHRpbWVzbGljaW5nIHRvCj4gIAkgKiBlamVjdCBF
TFNQWzBdIGluIGZhdm91ciBvZiB0aGUgcXVldWUuKQo+ICAJICovCj4gKwlpZiAoIUNPTkZJR19E
Uk1fSTkxNV9USU1FU0xJQ0VfRFVSQVRJT04pCj4gKwkJcmV0dXJuIDA7Cj4gIAo+ICAJb2JqID0g
aTkxNV9nZW1fb2JqZWN0X2NyZWF0ZV9pbnRlcm5hbChndC0+aTkxNSwgUEFHRV9TSVpFKTsKPiAg
CWlmIChJU19FUlIob2JqKSkKPiBAQCAtNjA4LDggKzYxNyw4IEBAIHN0YXRpYyBpbnQgbGl2ZV90
aW1lc2xpY2VfcXVldWUodm9pZCAqYXJnKQo+ICAJCQllcnIgPSAtRUlOVkFMOwo+ICAJCX0KPiAg
Cj4gLQkJLyogVGltZXNsaWNlIGV2ZXJ5IGppZmZpZSwgc28gd2l0aGluIDIgd2Ugc2hvdWxkIHNp
Z25hbCAqLwo+IC0JCWlmIChpOTE1X3JlcXVlc3Rfd2FpdChycSwgMCwgMykgPCAwKSB7Cj4gKwkJ
LyogVGltZXNsaWNlIGV2ZXJ5IGppZmZ5LCBzbyB3aXRoaW4gMiB3ZSBzaG91bGQgc2lnbmFsICov
Cj4gKwkJaWYgKGk5MTVfcmVxdWVzdF93YWl0KHJxLCAwLCB0aW1lc2xpY2VfdGhyZXNob2xkKGVu
Z2luZSkpIDwgMCkgewo+ICAJCQlzdHJ1Y3QgZHJtX3ByaW50ZXIgcCA9Cj4gIAkJCQlkcm1faW5m
b19wcmludGVyKGd0LT5pOTE1LT5kcm0uZGV2KTsKPiAgCj4gLS0gCj4gMi4yNC4wLnJjMQo+Cj4g
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KPiBJbnRlbC1n
ZnggbWFpbGluZyBsaXN0Cj4gSW50ZWwtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwo+IGh0dHBz
Oi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vaW50ZWwtZ2Z4Cl9fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCkludGVsLWdmeCBtYWls
aW5nIGxpc3QKSW50ZWwtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZy
ZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2ludGVsLWdmeA==

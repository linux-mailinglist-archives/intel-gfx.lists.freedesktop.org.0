Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id BD1A3391849
	for <lists+intel-gfx@lfdr.de>; Wed, 26 May 2021 15:00:53 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id CE8A36ED05;
	Wed, 26 May 2021 13:00:51 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga12.intel.com (mga12.intel.com [192.55.52.136])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 95B3F6ED0B;
 Wed, 26 May 2021 13:00:46 +0000 (UTC)
IronPort-SDR: 7/NvhnjgDQ8FsT9R3JflUO3JvrzzahdaUBFPDSaPYxHl5z0N1nrrL0KgmPdUxbkBFxHRTFOgzy
 meWz5bTEltZQ==
X-IronPort-AV: E=McAfee;i="6200,9189,9996"; a="182101732"
X-IronPort-AV: E=Sophos;i="5.82,331,1613462400"; d="scan'208";a="182101732"
Received: from orsmga005.jf.intel.com ([10.7.209.41])
 by fmsmga106.fm.intel.com with ESMTP/TLS/ECDHE-RSA-AES256-GCM-SHA384;
 26 May 2021 06:00:45 -0700
IronPort-SDR: NkQAqA8dJDAFKsR8wRswk2l5Mk8sf7aolm/6NY5quD1na+qMgp3J+3BNrhJIXPGMtlMsY+4ccn
 TIyldbH1yVxQ==
X-IronPort-AV: E=Sophos;i="5.82,331,1613462400"; d="scan'208";a="614942127"
Received: from mschan-mobl1.amr.corp.intel.com (HELO mwauld-desk1.intel.com)
 ([10.212.100.144])
 by orsmga005-auth.jf.intel.com with ESMTP/TLS/ECDHE-RSA-AES256-GCM-SHA384;
 26 May 2021 06:00:43 -0700
From: Matthew Auld <matthew.auld@intel.com>
To: igt-dev@lists.freedesktop.org
Date: Wed, 26 May 2021 14:00:22 +0100
Message-Id: <20210526130025.249629-6-matthew.auld@intel.com>
X-Mailer: git-send-email 2.26.3
In-Reply-To: <20210526130025.249629-1-matthew.auld@intel.com>
References: <20210526130025.249629-1-matthew.auld@intel.com>
MIME-Version: 1.0
Subject: [Intel-gfx] [PATCH i-g-t v3 6/9] tests/i915/gem_gpgpu_fill: Use
 memory region interface
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: intel-gfx@lists.freedesktop.org,
 Dominik Grzegorzek <dominik.grzegorzek@intel.com>,
 Andrzej Turko <andrzej.turko@linux.intel.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

RnJvbTogQW5kcnplaiBUdXJrbyA8YW5kcnplai50dXJrb0BsaW51eC5pbnRlbC5jb20+CgpDb252
ZXJ0ZWQgdGhlIHRlc3QgZ2VtX2dwZ3B1X2ZpbGwgdG8gdXNlIG1lbW9yeSByZWdpb24gdWFwaS4K
ClNpZ25lZC1vZmYtYnk6IEFuZHJ6ZWogVHVya28gPGFuZHJ6ZWoudHVya29AbGludXguaW50ZWwu
Y29tPgpDYzogWmJpZ25pZXcgS2VtcGN6eW5za2kgPHpiaWduaWV3LmtlbXBjenluc2tpQGludGVs
LmNvbT4KQ2M6IERvbWluaWsgR3J6ZWdvcnplayA8ZG9taW5pay5ncnplZ29yemVrQGludGVsLmNv
bT4KQ2M6IFBldHJpIExhdHZhbGEgPHBldHJpLmxhdHZhbGFAaW50ZWwuY29tPgpTaWduZWQtb2Zm
LWJ5OiBNYXR0aGV3IEF1bGQgPG1hdHRoZXcuYXVsZEBpbnRlbC5jb20+CkFja2VkLWJ5OiBQZXRy
aSBMYXR2YWxhIDxwZXRyaS5sYXR2YWxhQGludGVsLmNvbT4KUmV2aWV3ZWQtYnk6IFpiaWduaWV3
IEtlbXBjennFhHNraSA8emJpZ25pZXcua2VtcGN6eW5za2lAaW50ZWwuY29tPgotLS0KIHRlc3Rz
L2k5MTUvZ2VtX2dwZ3B1X2ZpbGwuYyB8IDQyICsrKysrKysrKysrKysrKysrKysrKysrKysrKysr
Ky0tLS0tLS0KIDEgZmlsZSBjaGFuZ2VkLCAzNCBpbnNlcnRpb25zKCspLCA4IGRlbGV0aW9ucygt
KQoKZGlmZiAtLWdpdCBhL3Rlc3RzL2k5MTUvZ2VtX2dwZ3B1X2ZpbGwuYyBiL3Rlc3RzL2k5MTUv
Z2VtX2dwZ3B1X2ZpbGwuYwppbmRleCA1YjExZmIzNS4uMWZjZDQyZTIgMTAwNjQ0Ci0tLSBhL3Rl
c3RzL2k5MTUvZ2VtX2dwZ3B1X2ZpbGwuYworKysgYi90ZXN0cy9pOTE1L2dlbV9ncGdwdV9maWxs
LmMKQEAgLTQ1LDEzICs0NSwxNCBAQAogI2luY2x1ZGUgImRybS5oIgogI2luY2x1ZGUgImk5MTUv
Z2VtLmgiCiAjaW5jbHVkZSAiaWd0LmgiCisjaW5jbHVkZSAiaWd0X2NvbGxlY3Rpb24uaCIKICNp
bmNsdWRlICJpbnRlbF9idWZvcHMuaCIKKyNpbmNsdWRlICJpOTE1L2ludGVsX21lbW9yeV9yZWdp
b24uaCIKIAogI2RlZmluZSBXSURUSCA2NAogI2RlZmluZSBIRUlHSFQgNjQKICNkZWZpbmUgU1RS
SURFIChXSURUSCkKICNkZWZpbmUgU0laRSAoSEVJR0hUKlNUUklERSkKLQogI2RlZmluZSBDT0xP
Ul9DNAkweGM0CiAjZGVmaW5lIENPTE9SXzRDCTB4NGMKIApAQCAtNjIsMTAgKzYzLDExIEBAIHR5
cGVkZWYgc3RydWN0IHsKIH0gZGF0YV90OwogCiBzdGF0aWMgc3RydWN0IGludGVsX2J1ZiAqCi1j
cmVhdGVfYnVmKGRhdGFfdCAqZGF0YSwgaW50IHdpZHRoLCBpbnQgaGVpZ2h0LCB1aW50OF90IGNv
bG9yKQorY3JlYXRlX2J1ZihkYXRhX3QgKmRhdGEsIGludCB3aWR0aCwgaW50IGhlaWdodCwgdWlu
dDhfdCBjb2xvciwgdWludDMyX3QgcmVnaW9uKQogewogCXN0cnVjdCBpbnRlbF9idWYgKmJ1ZjsK
IAl1aW50OF90ICpwdHI7CisJdWludDMyX3QgaGFuZGxlOwogCWludCBpOwogCiAJYnVmID0gY2Fs
bG9jKDEsIHNpemVvZigqYnVmKSk7CkBAIC03NSw4ICs3NywxMCBAQCBjcmVhdGVfYnVmKGRhdGFf
dCAqZGF0YSwgaW50IHdpZHRoLCBpbnQgaGVpZ2h0LCB1aW50OF90IGNvbG9yKQogCSAqIExlZ2Fj
eSBjb2RlIHVzZXMgMzIgYnBwIGFmdGVyIGJ1ZmZlciBjcmVhdGlvbi4KIAkgKiBMZXQncyBkbyB0
aGUgc2FtZSBkdWUgdG8ga2VlcCBzaGFkZXIgaW50YWN0LgogCSAqLwotCWludGVsX2J1Zl9pbml0
KGRhdGEtPmJvcHMsIGJ1Ziwgd2lkdGgvNCwgaGVpZ2h0LCAzMiwgMCwKLQkJICAgICAgIEk5MTVf
VElMSU5HX05PTkUsIDApOworCWhhbmRsZSA9IGdlbV9jcmVhdGVfaW5fbWVtb3J5X3JlZ2lvbnMo
ZGF0YS0+ZHJtX2ZkLCBTSVpFLCByZWdpb24pOworCWludGVsX2J1Zl9pbml0X3VzaW5nX2hhbmRs
ZShkYXRhLT5ib3BzLCBoYW5kbGUsIGJ1ZiwKKwkJCQkgICAgd2lkdGgvNCwgaGVpZ2h0LCAzMiwg
MCwKKwkJCQkgICAgSTkxNV9USUxJTkdfTk9ORSwgMCk7CiAKIAlwdHIgPSBnZW1fbW1hcF9fY3B1
X2NvaGVyZW50KGRhdGEtPmRybV9mZCwgYnVmLT5oYW5kbGUsIDAsCiAJCQkJICAgICBidWYtPnN1
cmZhY2VbMF0uc2l6ZSwgUFJPVF9XUklURSk7CkBAIC05OSwxNSArMTAzLDE2IEBAIHN0YXRpYyB2
b2lkIGJ1Zl9jaGVjayh1aW50OF90ICpwdHIsIGludCB4LCBpbnQgeSwgdWludDhfdCBjb2xvcikK
IAkJICAgICBjb2xvciwgdmFsLCB4LCB5KTsKIH0KIAotc3RhdGljIHZvaWQgZ3BncHVfZmlsbChk
YXRhX3QgKmRhdGEsIGlndF9maWxsZnVuY190IGZpbGwpCitzdGF0aWMgdm9pZCBncGdwdV9maWxs
KGRhdGFfdCAqZGF0YSwgaWd0X2ZpbGxmdW5jX3QgZmlsbCwgdWludDMyX3QgcmVnaW9uKQogewog
CXN0cnVjdCBpbnRlbF9idWYgKmJ1ZjsKIAl1aW50OF90ICpwdHI7CiAJaW50IGksIGo7CiAKLQli
dWYgPSBjcmVhdGVfYnVmKGRhdGEsIFdJRFRILCBIRUlHSFQsIENPTE9SX0M0KTsKKwlidWYgPSBj
cmVhdGVfYnVmKGRhdGEsIFdJRFRILCBIRUlHSFQsIENPTE9SX0M0LCByZWdpb24pOwogCXB0ciA9
IGdlbV9tbWFwX19kZXZpY2VfY29oZXJlbnQoZGF0YS0+ZHJtX2ZkLCBidWYtPmhhbmRsZSwgMCwK
IAkJCQkJYnVmLT5zdXJmYWNlWzBdLnNpemUsIFBST1RfUkVBRCk7CisKIAlmb3IgKGkgPSAwOyBp
IDwgV0lEVEg7IGkrKykKIAkJZm9yIChqID0gMDsgaiA8IEhFSUdIVDsgaisrKQogCQkJYnVmX2No
ZWNrKHB0ciwgaSwgaiwgQ09MT1JfQzQpOwpAQCAtMTIzLDEwICsxMjgsMTMgQEAgc3RhdGljIHZv
aWQgZ3BncHVfZmlsbChkYXRhX3QgKmRhdGEsIGlndF9maWxsZnVuY190IGZpbGwpCiAKIAltdW5t
YXAocHRyLCBidWYtPnN1cmZhY2VbMF0uc2l6ZSk7CiB9CisKIGlndF9tYWluCiB7CiAJZGF0YV90
IGRhdGEgPSB7MCwgfTsKIAlpZ3RfZmlsbGZ1bmNfdCBmaWxsX2ZuID0gTlVMTDsKKwlzdHJ1Y3Qg
ZHJtX2k5MTVfcXVlcnlfbWVtb3J5X3JlZ2lvbnMgKnJlZ2lvbl9pbmZvOworCXN0cnVjdCBpZ3Rf
Y29sbGVjdGlvbiAqcmVnaW9uX3NldDsKIAogCWlndF9maXh0dXJlIHsKIAkJZGF0YS5kcm1fZmQg
PSBkcm1fb3Blbl9kcml2ZXJfcmVuZGVyKERSSVZFUl9JTlRFTCk7CkBAIC0xMzgsMTIgKzE0Niwz
MCBAQCBpZ3RfbWFpbgogCiAJCWlndF9yZXF1aXJlX2YoZmlsbF9mbiwgIm5vIGdwZ3B1LWZpbGwg
ZnVuY3Rpb25cbiIpOwogCisJCXJlZ2lvbl9pbmZvID0gZ2VtX2dldF9xdWVyeV9tZW1vcnlfcmVn
aW9ucyhkYXRhLmRybV9mZCk7CisJCWlndF9hc3NlcnQocmVnaW9uX2luZm8pOworCisJCXJlZ2lv
bl9zZXQgPSBnZXRfbWVtb3J5X3JlZ2lvbl9zZXQocmVnaW9uX2luZm8sCisJCQkJCQkgICBJOTE1
X1NZU1RFTV9NRU1PUlkpOwogCX0KIAotCWlndF9zdWJ0ZXN0KCJiYXNpYyIpCi0JCWdwZ3B1X2Zp
bGwoJmRhdGEsIGZpbGxfZm4pOworCWlndF9zdWJ0ZXN0X3dpdGhfZHluYW1pYygiYmFzaWMiKSB7
CisJCXN0cnVjdCBpZ3RfY29sbGVjdGlvbiAqcmVnaW9uOworCisJCWZvcl9lYWNoX2NvbWJpbmF0
aW9uKHJlZ2lvbiwgMSwgcmVnaW9uX3NldCkgeworCQkJY2hhciAqbmFtZSA9IG1lbXJlZ2lvbl9k
eW5hbWljX3N1YnRlc3RfbmFtZShyZWdpb24pOworCQkJdWludDMyX3QgaWQgPSBpZ3RfY29sbGVj
dGlvbl9nZXRfdmFsdWUocmVnaW9uLCAwKTsKKworCQkJaWd0X2R5bmFtaWMobmFtZSkKKwkJCQln
cGdwdV9maWxsKCZkYXRhLCBmaWxsX2ZuLCBpZCk7CisKKwkJCWZyZWUobmFtZSk7CisJCX0KKwl9
CiAKIAlpZ3RfZml4dHVyZSB7CisJCWlndF9jb2xsZWN0aW9uX2Rlc3Ryb3kocmVnaW9uX3NldCk7
CisJCWZyZWUocmVnaW9uX2luZm8pOwogCQlidWZfb3BzX2Rlc3Ryb3koZGF0YS5ib3BzKTsKIAl9
CiB9Ci0tIAoyLjI2LjMKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fCkludGVsLWdmeCBtYWlsaW5nIGxpc3QKSW50ZWwtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9w
Lm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2ludGVs
LWdmeAo=

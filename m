Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id B6AA4FBA7C
	for <lists+intel-gfx@lfdr.de>; Wed, 13 Nov 2019 22:14:02 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 0D0816EE6F;
	Wed, 13 Nov 2019 21:14:01 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga07.intel.com (mga07.intel.com [134.134.136.100])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 3000A6EE6C
 for <intel-gfx@lists.freedesktop.org>; Wed, 13 Nov 2019 21:13:59 +0000 (UTC)
X-Amp-Result: UNKNOWN
X-Amp-Original-Verdict: FILE UNKNOWN
X-Amp-File-Uploaded: False
Received: from fmsmga008.fm.intel.com ([10.253.24.58])
 by orsmga105.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 13 Nov 2019 13:13:57 -0800
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.68,301,1569308400"; d="scan'208";a="202860083"
Received: from mdroper-desk1.fm.intel.com (HELO
 mdroper-desk1.amr.corp.intel.com) ([10.1.27.135])
 by fmsmga008.fm.intel.com with ESMTP; 13 Nov 2019 13:13:57 -0800
Date: Wed, 13 Nov 2019 13:15:06 -0800
From: Matt Roper <matthew.d.roper@intel.com>
To: Stanislav Lisovskiy <stanislav.lisovskiy@intel.com>
Message-ID: <20191113211506.GT21445@mdroper-desk1.amr.corp.intel.com>
References: <20191108134500.29212-1-stanislav.lisovskiy@intel.com>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <20191108134500.29212-1-stanislav.lisovskiy@intel.com>
User-Agent: Mutt/1.12.1 (2019-06-15)
Subject: Re: [Intel-gfx] [PATCH v6] drm/i915: Enable second dbuf slice for
 ICL and TGL
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: intel-gfx@lists.freedesktop.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

T24gRnJpLCBOb3YgMDgsIDIwMTkgYXQgMDM6NDU6MDBQTSArMDIwMCwgU3RhbmlzbGF2IExpc292
c2tpeSB3cm90ZToKPiBBbHNvIGltcGxlbWVudGVkIGFsZ29yaXRobSBmb3IgY2hvb3NpbmcgREJ1
ZiBzbGljZSBjb25maWd1cmF0aW9uCj4gYmFzZWQgb24gYWN0aXZlIHBpcGVzLCBwaXBlIHJhdGlv
IGFzIHN0YXRlZCBpbiBCU3BlYyAxMjcxNi4KPiAKPiBOb3cgcGlwZSBhbGxvY2F0aW9uIHN0aWxs
IHN0YXlzIHByb3BvcnRpb25hbCB0byBwaXBlIHdpZHRoIGFzIGJlZm9yZSwKPiBob3dldmVyIHdp
dGhpbiBhbGxvd2VkIERCdWYgc2xpY2UgZm9yIHRoaXMgcGFydGljdWxhciBjb25maWd1cmF0aW9u
Lgo+IAo+IHYyOiBSZW1vdmUgdW5uZWVkZWQgY2hlY2sgZnJvbSBjb21taXQgYXMgZGRiIGVuYWJs
ZWQgc2xpY2VzIG1pZ2h0Cj4gICAgIG5vdyBkaWZmZXIgZnJvbSBodyBzdGF0ZS4KPiAKPiB2Mzog
LSBBZGRlZCBuZXcgZmllbGQgInN1cHBvcnRlZF9zbGljZXMiIHRvIGRkYiB0byBzZXBhcmF0ZSBt
YXgKPiAgICAgICBzdXBwb3J0ZWQgc2xpY2VzIHZzIGN1cnJlbnRseSBlbmFibGVkLCB0byBhdm9p
ZCBjb25mdXNpb24uCj4gICAgIC0gUmVtb3ZlZCBvYnNvbGV0ZSBjb21tZW50cyBhbmQgY29kZSBy
ZWxhdGVkIHRvIERCdWYoTWF0dGhldyBSb3BlcikuCj4gICAgIC0gU29tZSBjb2RlIHN0eWxlIGFu
ZCBsb25nIGxpbmUgcmVtb3ZhbChNYXR0aGV3IFJvcGVyKS4KPiAgICAgLSBBZGRlZCBXQVJOX09O
IHRvIG5ldyBkZGIgcmFuZ2Ugb2Zmc2V0IGNhbGMgZnVuY3Rpb24oTWF0dGhldyBSb3BlcikuCj4g
ICAgIC0gUmVtb3ZlZCBwbGF0Zm9ybSBzcGVjaWZpYyBjYWxsIHRvIGNhbGMgcGlwZSByYXRpbyBm
cm9tIGRkYgo+ICAgICAgIGFsbG9jYXRpb24gZnVuY3Rpb24gYW5kIGZpeGVkIHRoZSByZXR1cm4g
dmFsdWUoTWF0dGhldyBSb3BlcikKPiAgICAgLSBSZWZhY3RvcmVkIERCVUYgc2xpY2UgYWxsb2Nh
dGlvbiB0YWJsZSB0byBpbXByb3ZlIHJlYWRhYmlsaXR5Cj4gICAgIC0gQWRkZWQgREJVRiBzbGlj
ZSBhbGxvY2F0aW9uIGZvciBUR0wgYXMgd2VsbC4KPiAgICAgLSBJQ0woaG93ZXZlciBub3QgVEdM
KSBzZWVtcyB0byB2b2x1bnRhcmlseSBlbmFibGUgc2Vjb25kIERCdWYgc2xpY2UKPiAgICAgICBh
ZnRlciBwbSBzdXNwZW5kL3Jlc3VtZSBjYXVzaW5nIGEgbWlzbWF0Y2ggZmFpbHVyZSwgYmVjYXVz
ZSB3ZQo+ICAgICAgIHVwZGF0ZSBEQnVmIHNsaWNlcyBvbmx5IGlmIHdlIGRvIGEgbW9kZXNldCwg
aG93ZXZlciB0aGlzIGNoZWNrCj4gICAgICAgaXMgZG9uZSBhbHdheXMuIEZpeGVkIGl0IHRvIGJl
IGRvbmUgb25seSB3aGVuIG1vZGVzZXQgZm9yIElDTC4KPiAKPiB2NDogLSBOb3cgZW5hYmxlZCBz
bGljZXMgaXMgbm90IGFjdHVhbGx5IGEgbnVtYmVyLCBidXQgYSBiaXRtYXNrLAo+ICAgICAgIGJl
Y2F1c2Ugd2UgbWlnaHQgbmVlZCB0byBlbmFibGUgc2Vjb25kIHNsaWNlIG9ubHkgYW5kIG51bWJl
cgo+ICAgICAgIG9mIHNsaWNlcyB3b3VsZCBzdGlsbCAxIGFuZCB0aGF0IGN1cnJlbnQgY29kZSBk
b2Vzbid0IGFsbG93Lgo+ICAgICAtIFJlbW92ZSByZWR1bmRhbnQgZHVwbGljYXRlIGNvZGUgdG8g
aGF2ZSBzb21lIHVuaWZpZWQgd2F5IG9mCj4gICAgICAgZW5hYmxpbmcgZGJ1ZiBzbGljZXMgaW5z
dGVhZCBvZiBoYXJkY29kaW5nLgo+IAo+IHY1OiAtIEZpeCBmYWlsaW5nIGdlbjlfYXNzZXJ0X2Ri
dWZfZW5hYmxlZCBhcyBpdCB3YXMgbmFpdmVseSB0aGlua2luZwo+ICAgICAgIHRoYXQgd2UgaGF2
ZSBvbmx5IG9uZSBEQlVGX0NUTCBzbGljZS4gTm93IGFub3RoZXIgdmVyc2lvbiBmb3IKPiAgICAg
ICBnZW4xMSB3aWxsIGNoZWNrIGJvdGggc2xpY2VzIGFzIG9ubHkgc2Vjb25kIG9uZSBjYW4gYmUg
ZW5hYmxlZCwKPiAgICAgICB0byBrZWVwIENJIGhhcHB5Lgo+IAo+IHY2OiAtIFJlbW92ZWQgZW5h
YmxlZCBkYnVmIGFzc2VydGlvbiBjb21wbGV0ZWx5LiBQcmV2aW91cyBjb2RlCj4gICAgICAgd2Fz
IGtlZXBpbmcgZGJ1ZiBlbmFibGVkLCBldmVuKCEpIHdoZW4gX2RidWZfZGlzYWJsZSBpcyBjYWxs
ZWQuCj4gICAgICAgQ3VycmVudGx5IHdlIGVuYWJsZS9kaXNhYmxlIGRidWYgc2xpY2VzIGJhc2Vk
IG9uIHJlcXVyZW1lbnQKPiAgICAgICBzbyBubyBwb2ludCBpbiBhc3NlcnRpbmcgdGhpcyBoZXJl
Lgo+ICAgICAtIFJlbW92ZWQgdW5uZWNlc3NhcnkgbW9kZXNldCBjaGVjayBmcm9tIHZlcmlmeV93
bV9zdGF0ZShNYXR0aGV3IFJvcGVyKQo+ICAgICAtIFNsaWNlcyBpbnRlcnNlY3Rpb24gYWZ0ZXIg
dW5pb24gaXMgc2FtZSBhcyBmaW5hbCByZXN1bHQoTWF0dGhldyBSb3BlcikKPiAgICAgLSBNb3Zl
ZCBEQnVmIHNsaWNlcyB0byBpbnRlbF9kZXZpY2VfaW5mbyhNYXR0aGV3IFJvcGVyKQo+ICAgICAt
IFNvbWUgbWFjcm9zIGFkZGVkKE1hdHRoZXcgUm9wZXIpCj4gICAgIC0gZGRiIHJhbmdlIGlzIG5v
dyBhbHdheXMgbGVzcyBvciBlcXVhbCB0byBkZGIgc2l6ZSAtIG5vIG5lZWQgZm9yIGFkZGl0aW9u
YWwKPiAgICAgICBjaGVja3MocHJldmlvdXNseSBuZWVkZWQgYXMgd2UgaGFkIHNvbWUgYmFuZHdp
ZHRoIGNoZWNrcyBpbiB0aGVyZSB3aGljaAo+ICAgICAgIGNvdWxkICJzdWRkZW5seSIgcmV0dXJu
IGRkYl9zaXplIHNtYWxsZXIgdGhhbiBpdCBpcy4KPiAKPiBTaWduZWQtb2ZmLWJ5OiBTdGFuaXNs
YXYgTGlzb3Zza2l5IDxzdGFuaXNsYXYubGlzb3Zza2l5QGludGVsLmNvbT4KPiBDYzogTWF0dGhl
dyBSb3BlciA8bWF0dGhldy5kLnJvcGVyQGludGVsLmNvbT4KPiBDYzogVmlsbGUgU3lyasOkbMOk
IDx2aWxsZS5zeXJqYWxhQGludGVsLmNvbT4KPiBDYzogSmFtZXMgQXVzbXVzIDxqYW1lcy5hdXNt
dXNAaW50ZWwuY29tPgoKQSBoYW5kZnVsIG9mIGNvbW1lbnRzIGlubGluZSBiZWxvdyBidXQgbW9z
dCBvZiB0aGVtIGFyZSBjb3NtZXRpYywgc28KSSdsbCBsZWF2ZSBpdCB1cCB0byB5b3Ugd2hldGhl
ciB5b3UgYWdyZWUgb3Igbm90LiAgVGhlIG9ubHkgb25lIEkgc2VlCnRoYXQgZG9lc24ndCBhcHBl
YXIgdG8gbWF0Y2ggdGhlIHNwZWMgaXMgb24geW91ciBUR0wgcGlwZSBBK0IgZGJ1Zgphc3NpZ25t
ZW50LgoKT3RoZXJ3aXNlLAoKUmV2aWV3ZWQtYnk6IE1hdHQgUm9wZXIgPG1hdHRoZXcuZC5yb3Bl
ckBpbnRlbC5jb20+CgoKPiAtLS0KPiAgZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRl
bF9kaXNwbGF5LmMgIHwgIDI2ICstCj4gIC4uLi9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3Bs
YXlfcG93ZXIuYyAgICB8ICA5OCArKy0tLQo+ICAuLi4vZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9k
aXNwbGF5X3Bvd2VyLmggICAgfCAgIDIgKwo+ICBkcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2Ry
di5jICAgICAgICAgICAgICAgfCAgIDUgKwo+ICBkcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2Ry
di5oICAgICAgICAgICAgICAgfCAgIDIgKy0KPiAgZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9w
Y2kuYyAgICAgICAgICAgICAgIHwgICA3ICstCj4gIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVf
cmVnLmggICAgICAgICAgICAgICB8ICAgOCArLQo+ICBkcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRl
bF9kZXZpY2VfaW5mby5oICAgICAgfCAgIDEgKwo+ICBkcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRl
bF9wbS5jICAgICAgICAgICAgICAgfCAzODQgKysrKysrKysrKysrKysrKy0tCj4gIDkgZmlsZXMg
Y2hhbmdlZCwgNDI5IGluc2VydGlvbnMoKyksIDEwNCBkZWxldGlvbnMoLSkKPiAKPiBkaWZmIC0t
Z2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5LmMgYi9kcml2
ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXkuYwo+IGluZGV4IDg3NmZjMjU5
NjhiZi4uYmQ3YWZmNjc1MTk4IDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rp
c3BsYXkvaW50ZWxfZGlzcGxheS5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxh
eS9pbnRlbF9kaXNwbGF5LmMKPiBAQCAtMTMzODcsNyArMTMzODcsNyBAQCBzdGF0aWMgdm9pZCB2
ZXJpZnlfd21fc3RhdGUoc3RydWN0IGludGVsX2NydGMgKmNydGMsCj4gIAo+ICAJaWYgKElOVEVM
X0dFTihkZXZfcHJpdikgPj0gMTEgJiYKPiAgCSAgICBody0+ZGRiLmVuYWJsZWRfc2xpY2VzICE9
IHN3X2RkYi0+ZW5hYmxlZF9zbGljZXMpCj4gLQkJRFJNX0VSUk9SKCJtaXNtYXRjaCBpbiBEQlVG
IFNsaWNlcyAoZXhwZWN0ZWQgJXUsIGdvdCAldSlcbiIsCj4gKwkJRFJNX0VSUk9SKCJtaXNtYXRj
aCBpbiBEQlVGIFNsaWNlcyAoZXhwZWN0ZWQgJXgsIGdvdCAleClcbiIsCj4gIAkJCSAgc3dfZGRi
LT5lbmFibGVkX3NsaWNlcywKPiAgCQkJICBody0+ZGRiLmVuYWJsZWRfc2xpY2VzKTsKPiAgCj4g
QEAgLTE0NjE0LDE1ICsxNDYxNCwyNCBAQCBzdGF0aWMgdm9pZCBza2xfY29tbWl0X21vZGVzZXRf
ZW5hYmxlcyhzdHJ1Y3QgaW50ZWxfYXRvbWljX3N0YXRlICpzdGF0ZSkKPiAgCXU4IGh3X2VuYWJs
ZWRfc2xpY2VzID0gZGV2X3ByaXYtPndtLnNrbF9ody5kZGIuZW5hYmxlZF9zbGljZXM7Cj4gIAl1
OCByZXF1aXJlZF9zbGljZXMgPSBzdGF0ZS0+d21fcmVzdWx0cy5kZGIuZW5hYmxlZF9zbGljZXM7
Cj4gIAlzdHJ1Y3Qgc2tsX2RkYl9lbnRyeSBlbnRyaWVzW0k5MTVfTUFYX1BJUEVTXSA9IHt9Owo+
ICsJdTggc2xpY2VzX3VuaW9uID0gaHdfZW5hYmxlZF9zbGljZXMgfCByZXF1aXJlZF9zbGljZXM7
Cj4gKwl1OCBzbGljZXNfaW50ZXJzZWN0aW9uID0gcmVxdWlyZWRfc2xpY2VzOwoKV2UgY2FuIHBy
b2JhYmx5IGp1c3QgZHJvcCB0aGlzIHZhcmlhYmxlIGFuZCB1c2UgcmVxdWlyZWRfc2xpY2VzIGRp
cmVjdGx5CmluIHRoZSBvbmUgcGxhY2UgYmVsb3cuCgo+ICAKPiAgCWZvcl9lYWNoX29sZG5ld19p
bnRlbF9jcnRjX2luX3N0YXRlKHN0YXRlLCBjcnRjLCBvbGRfY3J0Y19zdGF0ZSwgbmV3X2NydGNf
c3RhdGUsIGkpCj4gIAkJLyogaWdub3JlIGFsbG9jYXRpb25zIGZvciBjcnRjJ3MgdGhhdCBoYXZl
IGJlZW4gdHVybmVkIG9mZi4gKi8KPiAgCQlpZiAobmV3X2NydGNfc3RhdGUtPmh3LmFjdGl2ZSkK
PiAgCQkJZW50cmllc1tpXSA9IG9sZF9jcnRjX3N0YXRlLT53bS5za2wuZGRiOwo+ICAKPiAtCS8q
IElmIDJuZCBEQnVmIHNsaWNlIHJlcXVpcmVkLCBlbmFibGUgaXQgaGVyZSAqLwo+IC0JaWYgKElO
VEVMX0dFTihkZXZfcHJpdikgPj0gMTEgJiYgcmVxdWlyZWRfc2xpY2VzID4gaHdfZW5hYmxlZF9z
bGljZXMpCj4gLQkJaWNsX2RidWZfc2xpY2VzX3VwZGF0ZShkZXZfcHJpdiwgcmVxdWlyZWRfc2xp
Y2VzKTsKPiArCURSTV9ERUJVR19LTVMoIkRCdWYgcmVxIHNsaWNlcyAlZCBodyBzbGljZXMgJWRc
biIsCj4gKwkJICAgICAgcmVxdWlyZWRfc2xpY2VzLCBod19lbmFibGVkX3NsaWNlcyk7Cj4gKwo+
ICsJLyoKPiArCSAqIElmIHNvbWUgb3RoZXIgREJ1ZiBzbGljZSByZXF1aXJlZCwgZW5hYmxlIGl0
IGhlcmUsCj4gKwkgKiBhcyBoZXJlIHdlIG9ubHkgYWRkIG1vcmUgc2xpY2VzLCBidXQgbm90IHJl
bW92ZSB0byBwcmV2ZW50Cj4gKwkgKiBpc3N1ZXMgaWYgc29tZWJvZHkgc3RpbGwgdXNlcyB0aG9z
ZS4KPiArCSAqLwo+ICsJaWYgKElOVEVMX0dFTihkZXZfcHJpdikgPj0gMTEgJiYgcmVxdWlyZWRf
c2xpY2VzICE9IGh3X2VuYWJsZWRfc2xpY2VzKQo+ICsJCWljbF9kYnVmX3NsaWNlc191cGRhdGUo
ZGV2X3ByaXYsIHNsaWNlc191bmlvbik7Cj4gIAo+ICAJLyoKPiAgCSAqIFdoZW5ldmVyIHRoZSBu
dW1iZXIgb2YgYWN0aXZlIHBpcGVzIGNoYW5nZXMsIHdlIG5lZWQgdG8gbWFrZSBzdXJlIHdlCj4g
QEAgLTE0NjgxLDkgKzE0NjkwLDEyIEBAIHN0YXRpYyB2b2lkIHNrbF9jb21taXRfbW9kZXNldF9l
bmFibGVzKHN0cnVjdCBpbnRlbF9hdG9taWNfc3RhdGUgKnN0YXRlKQo+ICAJCX0KPiAgCX0gd2hp
bGUgKHByb2dyZXNzKTsKPiAgCj4gLQkvKiBJZiAybmQgREJ1ZiBzbGljZSBpcyBubyBtb3JlIHJl
cXVpcmVkIGRpc2FibGUgaXQgKi8KPiAtCWlmIChJTlRFTF9HRU4oZGV2X3ByaXYpID49IDExICYm
IHJlcXVpcmVkX3NsaWNlcyA8IGh3X2VuYWJsZWRfc2xpY2VzKQo+IC0JCWljbF9kYnVmX3NsaWNl
c191cGRhdGUoZGV2X3ByaXYsIHJlcXVpcmVkX3NsaWNlcyk7Cj4gKwkvKgo+ICsJICogSWYgc29t
ZSBvdGhlciBEQnVmIHNsaWNlIGlzIG5vdCBuZWVkZWQsIGRpc2FibGUgaXQgaGVyZSwKPiArCSAq
IGFzIGhlcmUgd2Ugb25seSByZW1vdmUgc2xpY2VzLCB3aGljaCBhcmUgbm90IG5lZWRlZCBhbnlt
b3JlLgo+ICsJICovCj4gKwlpZiAoSU5URUxfR0VOKGRldl9wcml2KSA+PSAxMSAmJiByZXF1aXJl
ZF9zbGljZXMgIT0gaHdfZW5hYmxlZF9zbGljZXMpCj4gKwkJaWNsX2RidWZfc2xpY2VzX3VwZGF0
ZShkZXZfcHJpdiwgc2xpY2VzX2ludGVyc2VjdGlvbik7Cj4gIH0KPiAgCj4gIHN0YXRpYyB2b2lk
IGludGVsX2F0b21pY19oZWxwZXJfZnJlZV9zdGF0ZShzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAq
ZGV2X3ByaXYpCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50
ZWxfZGlzcGxheV9wb3dlci5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9k
aXNwbGF5X3Bvd2VyLmMKPiBpbmRleCBjZTFiNjRmNGRkNDQuLmY0MDZlZTUzMjliMCAxMDA2NDQK
PiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXlfcG93ZXIu
Ywo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheV9wb3dl
ci5jCj4gQEAgLTEwMzEsMTUgKzEwMzEsNiBAQCBzdGF0aWMgYm9vbCBnZW45X2RjX29mZl9wb3dl
cl93ZWxsX2VuYWJsZWQoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2LAo+ICAJCShJ
OTE1X1JFQUQoRENfU1RBVEVfRU4pICYgRENfU1RBVEVfRU5fVVBUT19EQzVfREM2X01BU0spID09
IDApOwo+ICB9Cj4gIAo+IC1zdGF0aWMgdm9pZCBnZW45X2Fzc2VydF9kYnVmX2VuYWJsZWQoc3Ry
dWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2KQo+IC17Cj4gLQl1MzIgdG1wID0gSTkxNV9S
RUFEKERCVUZfQ1RMKTsKPiAtCj4gLQlXQVJOKCh0bXAgJiAoREJVRl9QT1dFUl9TVEFURSB8IERC
VUZfUE9XRVJfUkVRVUVTVCkpICE9Cj4gLQkgICAgIChEQlVGX1BPV0VSX1NUQVRFIHwgREJVRl9Q
T1dFUl9SRVFVRVNUKSwKPiAtCSAgICAgIlVuZXhwZWN0ZWQgREJ1ZiBwb3dlciBwb3dlciBzdGF0
ZSAoMHglMDh4KVxuIiwgdG1wKTsKPiAtfQo+IC0KPiAgc3RhdGljIHZvaWQgZ2VuOV9kaXNhYmxl
X2RjX3N0YXRlcyhzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYpCj4gIHsKPiAgCXN0
cnVjdCBpbnRlbF9jZGNsa19zdGF0ZSBjZGNsa19zdGF0ZSA9IHt9Owo+IEBAIC0xMDU1LDggKzEw
NDYsNiBAQCBzdGF0aWMgdm9pZCBnZW45X2Rpc2FibGVfZGNfc3RhdGVzKHN0cnVjdCBkcm1faTkx
NV9wcml2YXRlICpkZXZfcHJpdikKPiAgCS8qIENhbid0IHJlYWQgb3V0IHZvbHRhZ2VfbGV2ZWwg
c28gY2FuJ3QgdXNlIGludGVsX2NkY2xrX2NoYW5nZWQoKSAqLwo+ICAJV0FSTl9PTihpbnRlbF9j
ZGNsa19uZWVkc19tb2Rlc2V0KCZkZXZfcHJpdi0+Y2RjbGsuaHcsICZjZGNsa19zdGF0ZSkpOwo+
ICAKPiAtCWdlbjlfYXNzZXJ0X2RidWZfZW5hYmxlZChkZXZfcHJpdik7Cj4gLQo+ICAJaWYgKElT
X0dFTjlfTFAoZGV2X3ByaXYpKQo+ICAJCWJ4dF92ZXJpZnlfZGRpX3BoeV9wb3dlcl93ZWxscyhk
ZXZfcHJpdik7Cj4gIAo+IEBAIC00MjU0LDMxICs0MjQzLDUxIEBAIHN0YXRpYyB2b2lkIGdlbjlf
ZGJ1Zl9kaXNhYmxlKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdikKPiAgCWludGVs
X2RidWZfc2xpY2Vfc2V0KGRldl9wcml2LCBEQlVGX0NUTCwgZmFsc2UpOwo+ICB9Cj4gIAo+IC1z
dGF0aWMgdTggaW50ZWxfZGJ1Zl9tYXhfc2xpY2VzKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpk
ZXZfcHJpdikKPiAraW50IGludGVsX2RidWZfbWF4X3NsaWNlcyhzdHJ1Y3QgZHJtX2k5MTVfcHJp
dmF0ZSAqZGV2X3ByaXYpCj4gIHsKPiAtCWlmIChJTlRFTF9HRU4oZGV2X3ByaXYpIDwgMTEpCj4g
LQkJcmV0dXJuIDE7Cj4gLQlyZXR1cm4gMjsKPiArCXJldHVybiBJTlRFTF9JTkZPKGRldl9wcml2
KS0+c3VwcG9ydGVkX3NsaWNlczsKPiArfQoKSSdkIGJlIGluY2xpbmVkIHRvIGp1c3QgZHJvcCB0
aGlzIGZ1bmN0aW9uIGFuZCBkaXJlY3RseSBhY2Nlc3MgdGhlCmRldmljZSBpbmZvIGF0IHRoZSBj
YWxsc2l0ZXMgb2YgdGhpcyBmdW5jdGlvbi4KCgo+ICsKPiArdm9pZCBpY2xfZGJ1Zl9zbGljZXNf
cmVzdG9yZShzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYpCj4gK3sKPiArCWNvbnN0
IHU4IGh3X2VuYWJsZWRfc2xpY2VzID0gZGV2X3ByaXYtPndtLnNrbF9ody5kZGIuZW5hYmxlZF9z
bGljZXM7Cj4gKwo+ICsJaWNsX2RidWZfc2xpY2VzX3VwZGF0ZShkZXZfcHJpdiwgaHdfZW5hYmxl
ZF9zbGljZXMpOwo+ICB9CgpNaW5vciBuaXRwaWNrOiAgeW91J3JlIHVzaW5nIHRoaXMgZm9yIGEg
bG90IG1vcmUgdGhhbiBqdXN0ICJyZXN0b3JpbmciCm5vdy4gIEl0J3MgbW9yZSBhIG1hdHRlciBv
ZiB5b3UgY29tbWl0dGluZyBzb2Z0d2FyZSBzdGF0ZSBpbnRvIHRoZQpoYXJkd2FyZS4gIEEgbmFt
ZSBsaWtlIGljbF9kYnVmX3NsaWNlc19jb21taXQgb3IgaWNsX3Byb2dyYW1fZGJ1Zl9zbGljZXMK
bWlnaHQgYmUgc2xpZ2h0bHkgbW9yZSBpbnR1aXRpdmU/Cgo+ICAKPiAgdm9pZCBpY2xfZGJ1Zl9z
bGljZXNfdXBkYXRlKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiwKPiAgCQkJICAg
IHU4IHJlcV9zbGljZXMpCj4gIHsKPiAtCWNvbnN0IHU4IGh3X2VuYWJsZWRfc2xpY2VzID0gZGV2
X3ByaXYtPndtLnNrbF9ody5kZGIuZW5hYmxlZF9zbGljZXM7Cj4gLQlib29sIHJldDsKPiArCWJv
b2wgcmV0ID0gdHJ1ZTsKPiArCWludCBpOwo+ICsJaW50IG1heF9zbGljZXMgPSBpbnRlbF9kYnVm
X21heF9zbGljZXMoZGV2X3ByaXYpOwo+ICAKPiAtCWlmIChyZXFfc2xpY2VzID4gaW50ZWxfZGJ1
Zl9tYXhfc2xpY2VzKGRldl9wcml2KSkgewo+ICsJaWYgKGh3ZWlnaHQ4KHJlcV9zbGljZXMpID4g
aW50ZWxfZGJ1Zl9tYXhfc2xpY2VzKGRldl9wcml2KSkgewo+ICAJCURSTV9FUlJPUigiSW52YWxp
ZCBudW1iZXIgb2YgZGJ1ZiBzbGljZXMgcmVxdWVzdGVkXG4iKTsKPiAgCQlyZXR1cm47Cj4gIAl9
Cj4gIAo+IC0JaWYgKHJlcV9zbGljZXMgPT0gaHdfZW5hYmxlZF9zbGljZXMgfHwgcmVxX3NsaWNl
cyA9PSAwKQo+IC0JCXJldHVybjsKPiArCURSTV9ERUJVR19LTVMoIlVwZGF0aW5nIGRidWYgc2xp
Y2VzIHRvICV4XG4iLCByZXFfc2xpY2VzKTsKPiAgCj4gLQlpZiAocmVxX3NsaWNlcyA+IGh3X2Vu
YWJsZWRfc2xpY2VzKQo+IC0JCXJldCA9IGludGVsX2RidWZfc2xpY2Vfc2V0KGRldl9wcml2LCBE
QlVGX0NUTF9TMiwgdHJ1ZSk7Cj4gLQllbHNlCj4gLQkJcmV0ID0gaW50ZWxfZGJ1Zl9zbGljZV9z
ZXQoZGV2X3ByaXYsIERCVUZfQ1RMX1MyLCBmYWxzZSk7Cj4gKwlmb3IgKGkgPSAwOyBpIDwgbWF4
X3NsaWNlczsgaSsrKSB7Cj4gKwkJaW50IHNsaWNlX2JpdCA9IEJJVChpKTsKPiArCQlib29sIHNs
aWNlX3NldCA9IChzbGljZV9iaXQgJiByZXFfc2xpY2VzKSAhPSAwOwo+ICsKPiArCQlzd2l0Y2gg
KHNsaWNlX2JpdCkgewo+ICsJCWNhc2UgREJVRl9TMV9CSVQ6Cj4gKwkJCXJldCA9IHJldCAmJiBp
bnRlbF9kYnVmX3NsaWNlX3NldChkZXZfcHJpdiwKPiArCQkJCQkJCSAgREJVRl9DVExfUzEsCj4g
KwkJCQkJCQkgIHNsaWNlX3NldCk7Cj4gKwkJCWJyZWFrOwo+ICsJCWNhc2UgREJVRl9TMl9CSVQ6
Cj4gKwkJCXJldCA9IHJldCAmJiBpbnRlbF9kYnVmX3NsaWNlX3NldChkZXZfcHJpdiwKPiArCQkJ
CQkJCSAgREJVRl9DVExfUzIsCj4gKwkJCQkJCQkgIHNsaWNlX3NldCk7Cj4gKwkJCWJyZWFrOwo+
ICsJCWRlZmF1bHQ6Cj4gKwkJCU1JU1NJTkdfQ0FTRShzbGljZV9iaXQpOwo+ICsJCX0KPiArCX0K
PiAgCj4gIAlpZiAocmV0KQo+ICAJCWRldl9wcml2LT53bS5za2xfaHcuZGRiLmVuYWJsZWRfc2xp
Y2VzID0gcmVxX3NsaWNlczsKPiBAQCAtNDI4Niw0MCArNDI5NSwyMSBAQCB2b2lkIGljbF9kYnVm
X3NsaWNlc191cGRhdGUoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2LAo+ICAKPiAg
c3RhdGljIHZvaWQgaWNsX2RidWZfZW5hYmxlKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZf
cHJpdikKPiAgewo+IC0JSTkxNV9XUklURShEQlVGX0NUTF9TMSwgSTkxNV9SRUFEKERCVUZfQ1RM
X1MxKSB8IERCVUZfUE9XRVJfUkVRVUVTVCk7Cj4gLQlJOTE1X1dSSVRFKERCVUZfQ1RMX1MyLCBJ
OTE1X1JFQUQoREJVRl9DVExfUzIpIHwgREJVRl9QT1dFUl9SRVFVRVNUKTsKPiAtCVBPU1RJTkdf
UkVBRChEQlVGX0NUTF9TMik7Cj4gLQo+IC0JdWRlbGF5KDEwKTsKPiAtCj4gLQlpZiAoIShJOTE1
X1JFQUQoREJVRl9DVExfUzEpICYgREJVRl9QT1dFUl9TVEFURSkgfHwKPiAtCSAgICAhKEk5MTVf
UkVBRChEQlVGX0NUTF9TMikgJiBEQlVGX1BPV0VSX1NUQVRFKSkKPiAtCQlEUk1fRVJST1IoIkRC
dWYgcG93ZXIgZW5hYmxlIHRpbWVvdXRcbiIpOwo+IC0JZWxzZQo+IC0JCS8qCj4gLQkJICogRklY
TUU6IGZvciBub3cgcHJldGVuZCB0aGF0IHdlIG9ubHkgaGF2ZSAxIHNsaWNlLCBzZWUKPiAtCQkg
KiBpbnRlbF9lbmFibGVkX2RidWZfc2xpY2VzX251bSgpLgo+IC0JCSAqLwo+IC0JCWRldl9wcml2
LT53bS5za2xfaHcuZGRiLmVuYWJsZWRfc2xpY2VzID0gMTsKPiArCS8qCj4gKwkgKiBKdXN0IHBv
d2VyIHVwIDEgc2xpY2UsIHdlIHdpbGwKPiArCSAqIGZpZ3VyZSBvdXQgbGF0ZXIgd2hpY2ggc2xp
Y2VzIHdlIGhhdmUgYW5kIHdoYXQgd2UgbmVlZC4KPiArCSAqLwo+ICsJZGV2X3ByaXYtPndtLnNr
bF9ody5kZGIuZW5hYmxlZF9zbGljZXMgPSBEQlVGX1MxX0JJVDsKPiArCWljbF9kYnVmX3NsaWNl
c19yZXN0b3JlKGRldl9wcml2KTsKPiAgfQo+ICAKPiAgc3RhdGljIHZvaWQgaWNsX2RidWZfZGlz
YWJsZShzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYpCj4gIHsKPiAtCUk5MTVfV1JJ
VEUoREJVRl9DVExfUzEsIEk5MTVfUkVBRChEQlVGX0NUTF9TMSkgJiB+REJVRl9QT1dFUl9SRVFV
RVNUKTsKPiAtCUk5MTVfV1JJVEUoREJVRl9DVExfUzIsIEk5MTVfUkVBRChEQlVGX0NUTF9TMikg
JiB+REJVRl9QT1dFUl9SRVFVRVNUKTsKPiAtCVBPU1RJTkdfUkVBRChEQlVGX0NUTF9TMik7Cj4g
LQo+IC0JdWRlbGF5KDEwKTsKPiAtCj4gLQlpZiAoKEk5MTVfUkVBRChEQlVGX0NUTF9TMSkgJiBE
QlVGX1BPV0VSX1NUQVRFKSB8fAo+IC0JICAgIChJOTE1X1JFQUQoREJVRl9DVExfUzIpICYgREJV
Rl9QT1dFUl9TVEFURSkpCj4gLQkJRFJNX0VSUk9SKCJEQnVmIHBvd2VyIGRpc2FibGUgdGltZW91
dCFcbiIpOwo+IC0JZWxzZQo+IC0JCS8qCj4gLQkJICogRklYTUU6IGZvciBub3cgcHJldGVuZCB0
aGF0IHRoZSBmaXJzdCBzbGljZSBpcyBhbHdheXMKPiAtCQkgKiBlbmFibGVkLCBzZWUgaW50ZWxf
ZW5hYmxlZF9kYnVmX3NsaWNlc19udW0oKS4KPiAtCQkgKi8KPiAtCQlkZXZfcHJpdi0+d20uc2ts
X2h3LmRkYi5lbmFibGVkX3NsaWNlcyA9IDE7Cj4gKwkvKgo+ICsJICogRGlzYWJsZSBhbGwgc2xp
Y2VzCj4gKwkgKi8KPiArCWRldl9wcml2LT53bS5za2xfaHcuZGRiLmVuYWJsZWRfc2xpY2VzID0g
MDsKPiArCWljbF9kYnVmX3NsaWNlc19yZXN0b3JlKGRldl9wcml2KTsKPiAgfQo+ICAKPiAgc3Rh
dGljIHZvaWQgaWNsX21idXNfaW5pdChzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYp
Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxh
eV9wb3dlci5oIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kaXNwbGF5X3Bv
d2VyLmgKPiBpbmRleCAxZGEwNGYzZTBmYjMuLmM1YWZiMzEyOTU3MSAxMDA2NDQKPiAtLS0gYS9k
cml2ZXJzL2dwdS9kcm0vaTkxNS9kaXNwbGF5L2ludGVsX2Rpc3BsYXlfcG93ZXIuaAo+ICsrKyBi
L2RyaXZlcnMvZ3B1L2RybS9pOTE1L2Rpc3BsYXkvaW50ZWxfZGlzcGxheV9wb3dlci5oCj4gQEAg
LTMxMSw4ICszMTEsMTAgQEAgaW50ZWxfZGlzcGxheV9wb3dlcl9wdXRfYXN5bmMoc3RydWN0IGRy
bV9pOTE1X3ByaXZhdGUgKmk5MTUsCj4gIAlmb3IgKCh3ZikgPSBpbnRlbF9kaXNwbGF5X3Bvd2Vy
X2dldCgoaTkxNSksIChkb21haW4pKTsgKHdmKTsgXAo+ICAJICAgICBpbnRlbF9kaXNwbGF5X3Bv
d2VyX3B1dF9hc3luYygoaTkxNSksIChkb21haW4pLCAod2YpKSwgKHdmKSA9IDApCj4gIAo+ICtp
bnQgaW50ZWxfZGJ1Zl9tYXhfc2xpY2VzKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJp
dik7Cj4gIHZvaWQgaWNsX2RidWZfc2xpY2VzX3VwZGF0ZShzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0
ZSAqZGV2X3ByaXYsCj4gIAkJCSAgICB1OCByZXFfc2xpY2VzKTsKPiArdm9pZCBpY2xfZGJ1Zl9z
bGljZXNfcmVzdG9yZShzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYpOwo+ICAKPiAg
dm9pZCBjaHZfcGh5X3Bvd2VyZ2F0ZV9sYW5lcyhzdHJ1Y3QgaW50ZWxfZW5jb2RlciAqZW5jb2Rl
ciwKPiAgCQkJICAgICBib29sIG92ZXJyaWRlLCB1bnNpZ25lZCBpbnQgbWFzayk7Cj4gZGlmZiAt
LWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZHJ2LmMgYi9kcml2ZXJzL2dwdS9kcm0v
aTkxNS9pOTE1X2Rydi5jCj4gaW5kZXggODJlNGU2YmYwOGMzLi4wMzA3YWVjMmM5MjggMTAwNjQ0
Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kcnYuYwo+ICsrKyBiL2RyaXZlcnMv
Z3B1L2RybS9pOTE1L2k5MTVfZHJ2LmMKPiBAQCAtNTEsNiArNTEsNyBAQAo+ICAjaW5jbHVkZSAi
ZGlzcGxheS9pbnRlbF9idy5oIgo+ICAjaW5jbHVkZSAiZGlzcGxheS9pbnRlbF9jZGNsay5oIgo+
ICAjaW5jbHVkZSAiZGlzcGxheS9pbnRlbF9kaXNwbGF5X3R5cGVzLmgiCj4gKyNpbmNsdWRlICJk
aXNwbGF5L2ludGVsX2Rpc3BsYXlfcG93ZXIuaCIKPiAgI2luY2x1ZGUgImRpc3BsYXkvaW50ZWxf
ZHAuaCIKPiAgI2luY2x1ZGUgImRpc3BsYXkvaW50ZWxfZmJkZXYuaCIKPiAgI2luY2x1ZGUgImRp
c3BsYXkvaW50ZWxfaG90cGx1Zy5oIgo+IEBAIC0yNTg4LDYgKzI1ODksMTAgQEAgc3RhdGljIGlu
dCBpbnRlbF9ydW50aW1lX3Jlc3VtZShzdHJ1Y3QgZGV2aWNlICprZGV2KQo+ICAJaWYgKElTX1ZB
TExFWVZJRVcoZGV2X3ByaXYpIHx8IElTX0NIRVJSWVZJRVcoZGV2X3ByaXYpKQo+ICAJCXJldCA9
IHZsdl9yZXN1bWVfcHJlcGFyZShkZXZfcHJpdiwgdHJ1ZSk7Cj4gIAo+ICsJLyogV2VpcmQgaGFj
ayB0byBmaXggSUNMIGhhcmR3YXJlIGJ1ZywgYXMgaXQgcmVzZXRzIERCVUYgc2xpY2VzIHJlZyAq
Lwo+ICsJaWYgKElOVEVMX0dFTihkZXZfcHJpdikgPT0gMTEpCj4gKwkJaWNsX2RidWZfc2xpY2Vz
X3Jlc3RvcmUoZGV2X3ByaXYpOwoKSGFzIGFueW9uZSB0cmllZCB0aGlzIG9uIEVITCB5ZXQ/ICBJ
J20gd29uZGVyaW5nIGlmIHRoaXMgc2hvdWxkIGJlCklTX0lDRUxBS0UoKS4KCj4gKwo+ICAJaW50
ZWxfdW5jb3JlX3J1bnRpbWVfcmVzdW1lKCZkZXZfcHJpdi0+dW5jb3JlKTsKPiAgCj4gIAlpbnRl
bF9ydW50aW1lX3BtX2VuYWJsZV9pbnRlcnJ1cHRzKGRldl9wcml2KTsKPiBkaWZmIC0tZ2l0IGEv
ZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kcnYuaCBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5
MTVfZHJ2LmgKPiBpbmRleCA3ZTBmNjdiYWJlMjAuLmEzOTY5NzdjOWMyZCAxMDA2NDQKPiAtLS0g
YS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X2Rydi5oCj4gKysrIGIvZHJpdmVycy9ncHUvZHJt
L2k5MTUvaTkxNV9kcnYuaAo+IEBAIC04MDQsNyArODA0LDcgQEAgc3RhdGljIGlubGluZSBib29s
IHNrbF9kZGJfZW50cnlfZXF1YWwoY29uc3Qgc3RydWN0IHNrbF9kZGJfZW50cnkgKmUxLAo+ICB9
Cj4gIAo+ICBzdHJ1Y3Qgc2tsX2RkYl9hbGxvY2F0aW9uIHsKPiAtCXU4IGVuYWJsZWRfc2xpY2Vz
OyAvKiBHRU4xMSBoYXMgY29uZmlndXJhYmxlIDIgc2xpY2VzICovCj4gKwl1OCBlbmFibGVkX3Ns
aWNlczsgICAvKiBCaXRtYXNrIG9mIGN1cnJlbnRseSBlbmFibGVkIERCdWYgc2xpY2VzICovCj4g
IH07Cj4gIAo+ICBzdHJ1Y3Qgc2tsX2RkYl92YWx1ZXMgewo+IGRpZmYgLS1naXQgYS9kcml2ZXJz
L2dwdS9kcm0vaTkxNS9pOTE1X3BjaS5jIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9wY2ku
Ywo+IGluZGV4IDFiYjcwMWQzMmE1ZC4uMzljM2RiNGVmN2RhIDEwMDY0NAo+IC0tLSBhL2RyaXZl
cnMvZ3B1L2RybS9pOTE1L2k5MTVfcGNpLmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9p
OTE1X3BjaS5jCj4gQEAgLTYxNCw3ICs2MTQsOCBAQCBzdGF0aWMgY29uc3Qgc3RydWN0IGludGVs
X2RldmljZV9pbmZvIGludGVsX2NoZXJyeXZpZXdfaW5mbyA9IHsKPiAgCS5oYXNfZ3RfdWMgPSAx
LCBcCj4gIAkuZGlzcGxheS5oYXNfaGRjcCA9IDEsIFwKPiAgCS5kaXNwbGF5Lmhhc19pcGMgPSAx
LCBcCj4gLQkuZGRiX3NpemUgPSA4OTYKPiArCS5kZGJfc2l6ZSA9IDg5NiwgXAo+ICsJLnN1cHBv
cnRlZF9zbGljZXMgPSAxCj4gIAo+ICAjZGVmaW5lIFNLTF9QTEFURk9STSBcCj4gIAlHRU45X0ZF
QVRVUkVTLCBcCj4gQEAgLTY4MiwxMiArNjgzLDE0IEBAIHN0YXRpYyBjb25zdCBzdHJ1Y3QgaW50
ZWxfZGV2aWNlX2luZm8gaW50ZWxfYnJveHRvbl9pbmZvID0gewo+ICAJR0VOOV9MUF9GRUFUVVJF
UywKPiAgCVBMQVRGT1JNKElOVEVMX0JST1hUT04pLAo+ICAJLmRkYl9zaXplID0gNTEyLAo+ICsJ
LnN1cHBvcnRlZF9zbGljZXMgPSAxLAoKSWYgeW91IHB1dCB0aGlzIGluIEdFTjlfTFBfRkVBVFVS
RVMgaXQgd2lsbCB0YWtlIGNhcmUgb2YgYm90aCBCWFQgYW5kCkdMSy4KCj4gIH07Cj4gIAo+ICBz
dGF0aWMgY29uc3Qgc3RydWN0IGludGVsX2RldmljZV9pbmZvIGludGVsX2dlbWluaWxha2VfaW5m
byA9IHsKPiAgCUdFTjlfTFBfRkVBVFVSRVMsCj4gIAlQTEFURk9STShJTlRFTF9HRU1JTklMQUtF
KSwKPiAgCS5kZGJfc2l6ZSA9IDEwMjQsCj4gKwkuc3VwcG9ydGVkX3NsaWNlcyA9IDEsCj4gIAlH
TEtfQ09MT1JTLAo+ICB9Owo+ICAKPiBAQCAtNzM3LDYgKzc0MCw3IEBAIHN0YXRpYyBjb25zdCBz
dHJ1Y3QgaW50ZWxfZGV2aWNlX2luZm8gaW50ZWxfY29mZmVlbGFrZV9ndDNfaW5mbyA9IHsKPiAg
CUdFTjlfRkVBVFVSRVMsIFwKPiAgCUdFTigxMCksIFwKPiAgCS5kZGJfc2l6ZSA9IDEwMjQsIFwK
PiArCS5zdXBwb3J0ZWRfc2xpY2VzID0gMSwgXAo+ICAJLmRpc3BsYXkuaGFzX2RzYyA9IDEsIFwK
PiAgCS5oYXNfY29oZXJlbnRfZ2d0dCA9IGZhbHNlLCBcCj4gIAlHTEtfQ09MT1JTCj4gQEAgLTc3
Myw2ICs3NzcsNyBAQCBzdGF0aWMgY29uc3Qgc3RydWN0IGludGVsX2RldmljZV9pbmZvIGludGVs
X2Nhbm5vbmxha2VfaW5mbyA9IHsKPiAgCX0sIFwKPiAgCUdFTigxMSksIFwKPiAgCS5kZGJfc2l6
ZSA9IDIwNDgsIFwKPiArCS5zdXBwb3J0ZWRfc2xpY2VzID0gMiwgXAo+ICAJLmhhc19sb2dpY2Fs
X3JpbmdfZWxzcSA9IDEsIFwKPiAgCS5jb2xvciA9IHsgLmRlZ2FtbWFfbHV0X3NpemUgPSAzMywg
LmdhbW1hX2x1dF9zaXplID0gMjYyMTQ1IH0KPiAgCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1
L2RybS9pOTE1L2k5MTVfcmVnLmggYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pOTE1X3JlZy5oCj4g
aW5kZXggYTYwN2VhNTIwODI5Li5mYmE1NzMxMDYzZDggMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9n
cHUvZHJtL2k5MTUvaTkxNV9yZWcuaAo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVf
cmVnLmgKPiBAQCAtNzczNCw5ICs3NzM0LDExIEBAIGVudW0gewo+ICAjZGVmaW5lIERJU1BfQVJC
X0NUTDIJX01NSU8oMHg0NTAwNCkKPiAgI2RlZmluZSAgRElTUF9EQVRBX1BBUlRJVElPTl81XzYJ
KDEgPDwgNikKPiAgI2RlZmluZSAgRElTUF9JUENfRU5BQkxFCQkoMSA8PCAzKQo+IC0jZGVmaW5l
IERCVUZfQ1RMCV9NTUlPKDB4NDUwMDgpCj4gLSNkZWZpbmUgREJVRl9DVExfUzEJX01NSU8oMHg0
NTAwOCkKPiAtI2RlZmluZSBEQlVGX0NUTF9TMglfTU1JTygweDQ0RkU4KQo+ICsjZGVmaW5lIERC
VUZfUzFfQklUCQkJQklUKDApCj4gKyNkZWZpbmUgREJVRl9TMl9CSVQJCQlCSVQoMSkKPiArI2Rl
ZmluZSBEQlVGX0NUTAkJCV9NTUlPKDB4NDUwMDgpCj4gKyNkZWZpbmUgREJVRl9DVExfUzEJCQlf
TU1JTygweDQ1MDA4KQo+ICsjZGVmaW5lIERCVUZfQ1RMX1MyCQkJX01NSU8oMHg0NEZFOCkKPiAg
I2RlZmluZSAgREJVRl9QT1dFUl9SRVFVRVNUCQkoMSA8PCAzMSkKPiAgI2RlZmluZSAgREJVRl9Q
T1dFUl9TVEFURQkJKDEgPDwgMzApCj4gICNkZWZpbmUgR0VON19NU0dfQ1RMCV9NTUlPKDB4NDUw
MTApCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX2RldmljZV9pbmZv
LmggYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9kZXZpY2VfaW5mby5oCj4gaW5kZXggNGJk
ZjhhNmNmYjQ3Li5iYTM0ZTFhNWM1OTEgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5
MTUvaW50ZWxfZGV2aWNlX2luZm8uaAo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVs
X2RldmljZV9pbmZvLmgKPiBAQCAtMTgwLDYgKzE4MCw3IEBAIHN0cnVjdCBpbnRlbF9kZXZpY2Vf
aW5mbyB7Cj4gIAl9IGRpc3BsYXk7Cj4gIAo+ICAJdTE2IGRkYl9zaXplOyAvKiBpbiBibG9ja3Mg
Ki8KPiArCXU4IHN1cHBvcnRlZF9zbGljZXM7IC8qIG51bWJlciBvZiBEQnVmIHNsaWNlcyAqLwoK
U2luY2Ugc2xpY2Uvc3Vic2xpY2UgdGVybWlub2xvZ3kgaXMgdXNlZCBvbiB0aGUgR1Qgc2lkZSwg
aXQgbWlnaHQgYmUKd29ydGggbmFtaW5nIHRoaXMgImRidWZfc2xpY2VzIiBpbnN0ZWFkIHRvIGF2
b2lkIGFueSBjb25mdXNpb24uCgo+ICAKPiAgCS8qIFJlZ2lzdGVyIG9mZnNldHMgZm9yIHRoZSB2
YXJpb3VzIGRpc3BsYXkgcGlwZXMgYW5kIHRyYW5zY29kZXJzICovCj4gIAlpbnQgcGlwZV9vZmZz
ZXRzW0k5MTVfTUFYX1RSQU5TQ09ERVJTXTsKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJt
L2k5MTUvaW50ZWxfcG0uYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX3BtLmMKPiBpbmRl
eCAyZDM4OWU0MzdlODcuLmI2NjI3Yzg0NWYxYyAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9k
cm0vaTkxNS9pbnRlbF9wbS5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfcG0u
Ywo+IEBAIC0zNTg2LDI0ICszNTg2LDIwIEBAIGJvb2wgaWxrX2Rpc2FibGVfbHBfd20oc3RydWN0
IGRybV9kZXZpY2UgKmRldikKPiAgCXJldHVybiBfaWxrX2Rpc2FibGVfbHBfd20oZGV2X3ByaXYs
IFdNX0RJUlRZX0xQX0FMTCk7Cj4gIH0KPiAgCj4gLXN0YXRpYyB1OCBpbnRlbF9lbmFibGVkX2Ri
dWZfc2xpY2VzX251bShzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYpCj4gK3N0YXRp
YyB1OCBpbnRlbF9lbmFibGVkX2RidWZfc2xpY2VzKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpk
ZXZfcHJpdikKPiAgewo+IC0JdTggZW5hYmxlZF9zbGljZXM7Cj4gLQo+IC0JLyogU2xpY2UgMSB3
aWxsIGFsd2F5cyBiZSBlbmFibGVkICovCj4gLQllbmFibGVkX3NsaWNlcyA9IDE7Cj4gKwl1OCBl
bmFibGVkX3NsaWNlcyA9IDA7Cj4gIAo+ICAJLyogR2VuIHByaW9yIHRvIEdFTjExIGhhdmUgb25s
eSBvbmUgREJ1ZiBzbGljZSAqLwo+ICAJaWYgKElOVEVMX0dFTihkZXZfcHJpdikgPCAxMSkKPiAt
CQlyZXR1cm4gZW5hYmxlZF9zbGljZXM7Cj4gKwkJcmV0dXJuIERCVUZfUzFfQklUOwo+ICAKPiAt
CS8qCj4gLQkgKiBGSVhNRTogZm9yIG5vdyB3ZSdsbCBvbmx5IGV2ZXIgdXNlIDEgc2xpY2U7IHBy
ZXRlbmQgdGhhdCB3ZSBoYXZlCj4gLQkgKiBvbmx5IHRoYXQgMSBzbGljZSBlbmFibGVkIHVudGls
IHdlIGhhdmUgYSBwcm9wZXIgd2F5IGZvciBvbi1kZW1hbmQKPiAtCSAqIHRvZ2dsaW5nIG9mIHRo
ZSBzZWNvbmQgc2xpY2UuCj4gLQkgKi8KPiAtCWlmICgwICYmIEk5MTVfUkVBRChEQlVGX0NUTF9T
MikgJiBEQlVGX1BPV0VSX1NUQVRFKQo+IC0JCWVuYWJsZWRfc2xpY2VzKys7Cj4gKwkvKiBDaGVj
ayBpZiBzZWNvbmQgREJ1ZiBzbGljZSBpcyBlbmFibGVkICovCj4gKwlpZiAoSTkxNV9SRUFEKERC
VUZfQ1RMX1MxKSAmIERCVUZfUE9XRVJfU1RBVEUpCj4gKwkJZW5hYmxlZF9zbGljZXMgfD0gREJV
Rl9TMV9CSVQ7Cj4gKwo+ICsJaWYgKEk5MTVfUkVBRChEQlVGX0NUTF9TMikgJiBEQlVGX1BPV0VS
X1NUQVRFKQo+ICsJCWVuYWJsZWRfc2xpY2VzIHw9IERCVUZfUzJfQklUOwo+ICAKPiAgCXJldHVy
biBlbmFibGVkX3NsaWNlczsKPiAgfQo+IEBAIC0zODEyLDM2ICszODA4LDM4IEBAIHN0YXRpYyB1
MTYgaW50ZWxfZ2V0X2RkYl9zaXplKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiwK
PiAgCQkJICAgICAgY29uc3QgaW50IG51bV9hY3RpdmUsCj4gIAkJCSAgICAgIHN0cnVjdCBza2xf
ZGRiX2FsbG9jYXRpb24gKmRkYikKPiAgewo+IC0JY29uc3Qgc3RydWN0IGRybV9kaXNwbGF5X21v
ZGUgKmFkanVzdGVkX21vZGU7Cj4gLQl1NjQgdG90YWxfZGF0YV9idzsKPiAgCXUxNiBkZGJfc2l6
ZSA9IElOVEVMX0lORk8oZGV2X3ByaXYpLT5kZGJfc2l6ZTsKPiAtCj4gIAlXQVJOX09OKGRkYl9z
aXplID09IDApOwo+ICAKPiAgCWlmIChJTlRFTF9HRU4oZGV2X3ByaXYpIDwgMTEpCj4gIAkJcmV0
dXJuIGRkYl9zaXplIC0gNDsgLyogNCBibG9ja3MgZm9yIGJ5cGFzcyBwYXRoIGFsbG9jYXRpb24g
Ki8KPiAgCj4gLQlhZGp1c3RlZF9tb2RlID0gJmNydGNfc3RhdGUtPmh3LmFkanVzdGVkX21vZGU7
Cj4gLQl0b3RhbF9kYXRhX2J3ID0gdG90YWxfZGF0YV9yYXRlICogZHJtX21vZGVfdnJlZnJlc2go
YWRqdXN0ZWRfbW9kZSk7Cj4gKwlyZXR1cm4gZGRiX3NpemU7Cj4gK30KPiAgCj4gLQkvKgo+IC0J
ICogMTJHQi9zIGlzIG1heGltdW0gQlcgc3VwcG9ydGVkIGJ5IHNpbmdsZSBEQnVmIHNsaWNlLgo+
IC0JICoKPiAtCSAqIEZJWE1FIGRidWYgc2xpY2UgY29kZSBpcyBicm9rZW46Cj4gLQkgKiAtIG11
c3Qgd2FpdCBmb3IgcGxhbmVzIHRvIHN0b3AgdXNpbmcgdGhlIHNsaWNlIGJlZm9yZSBwb3dlcmlu
ZyBpdCBvZmYKPiAtCSAqIC0gcGxhbmUgc3RyYWRkbGluZyBib3RoIHNsaWNlcyBpcyBpbGxlZ2Fs
IGluIG11bHRpLXBpcGUgc2NlbmFyaW9zCj4gLQkgKiAtIHNob3VsZCB2YWxpZGF0ZSB3ZSBzdGF5
IHdpdGhpbiB0aGUgaHcgYmFuZHdpZHRoIGxpbWl0cwo+IC0JICovCj4gLQlpZiAoMCAmJiAobnVt
X2FjdGl2ZSA+IDEgfHwgdG90YWxfZGF0YV9idyA+PSBHQnBzKDEyKSkpIHsKPiAtCQlkZGItPmVu
YWJsZWRfc2xpY2VzID0gMjsKPiAtCX0gZWxzZSB7Cj4gLQkJZGRiLT5lbmFibGVkX3NsaWNlcyA9
IDE7Cj4gLQkJZGRiX3NpemUgLz0gMjsKPiAtCX0KPiArLyoKPiArICogQ2FsY3VsYXRlIGluaXRp
YWwgREJ1ZiBzbGljZSBvZmZzZXQsIGJhc2VkIG9uIHNsaWNlIHNpemUKPiArICogYW5kIG1hc2so
aS5lIGlmIHNsaWNlIHNpemUgaXMgMTAyNCBhbmQgc2Vjb25kIHNsaWNlIGlzIGVuYWJsZWQKPiAr
ICogb2Zmc2V0IHdvdWxkIGJlIDEwMjQpCj4gKyAqLwo+ICtzdGF0aWMgdTMyIHNrbF9nZXRfZmly
c3RfZGJ1Zl9zbGljZV9vZmZzZXQodTMyIGRidWZfc2xpY2VfbWFzaywKPiArCQkJCQkgICB1MzIg
c2xpY2Vfc2l6ZSwgdTMyIGRkYl9zaXplKQo+ICt7Cj4gKwl1MzIgb2Zmc2V0ID0gMDsKPiAgCj4g
LQlyZXR1cm4gZGRiX3NpemU7Cj4gKwlpZiAoIWRidWZfc2xpY2VfbWFzaykKPiArCQlyZXR1cm4g
MDsKPiArCj4gKwlvZmZzZXQgPSAoZmZzKGRidWZfc2xpY2VfbWFzaykgLSAxKSAqIHNsaWNlX3Np
emU7Cj4gKwo+ICsJV0FSTl9PTihvZmZzZXQgPj0gZGRiX3NpemUpOwo+ICsJcmV0dXJuIG9mZnNl
dDsKPiAgfQo+ICAKPiArc3RhdGljIHUzMiBpOTE1X2dldF9hbGxvd2VkX2RidWZfbWFzayhzdHJ1
Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYsCj4gKwkJCQkgICAgICBpbnQgcGlwZSwgdTMy
IGFjdGl2ZV9waXBlcywKPiArCQkJCSAgICAgIGNvbnN0IHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRl
ICpjcnRjX3N0YXRlKTsKPiArCj4gIHN0YXRpYyB2b2lkCj4gIHNrbF9kZGJfZ2V0X3BpcGVfYWxs
b2NhdGlvbl9saW1pdHMoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2LAo+ICAJCQkJ
ICAgY29uc3Qgc3RydWN0IGludGVsX2NydGNfc3RhdGUgKmNydGNfc3RhdGUsCj4gQEAgLTM4NTcs
NyArMzg1NSwxNCBAQCBza2xfZGRiX2dldF9waXBlX2FsbG9jYXRpb25fbGltaXRzKHN0cnVjdCBk
cm1faTkxNV9wcml2YXRlICpkZXZfcHJpdiwKPiAgCXUzMiBwaXBlX3dpZHRoID0gMCwgdG90YWxf
d2lkdGggPSAwLCB3aWR0aF9iZWZvcmVfcGlwZSA9IDA7Cj4gIAllbnVtIHBpcGUgZm9yX3BpcGUg
PSB0b19pbnRlbF9jcnRjKGZvcl9jcnRjKS0+cGlwZTsKPiAgCXUxNiBkZGJfc2l6ZTsKPiArCXUz
MiBkZGJfcmFuZ2Vfc2l6ZTsKPiAgCXUzMiBpOwo+ICsJdTMyIGRidWZfc2xpY2VfbWFzazsKPiAr
CXUzMiBhY3RpdmVfcGlwZXM7Cj4gKwl1MzIgb2Zmc2V0Owo+ICsJdTMyIHNsaWNlX3NpemU7Cj4g
Kwl1MzIgdG90YWxfc2xpY2VfbWFzazsKPiArCXUzMiBzdGFydCwgZW5kOwo+ICAKPiAgCWlmIChX
QVJOX09OKCFzdGF0ZSkgfHwgIWNydGNfc3RhdGUtPmh3LmFjdGl2ZSkgewo+ICAJCWFsbG9jLT5z
dGFydCA9IDA7Cj4gQEAgLTM4NjYsMTQgKzM4NzEsMjMgQEAgc2tsX2RkYl9nZXRfcGlwZV9hbGxv
Y2F0aW9uX2xpbWl0cyhzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYsCj4gIAkJcmV0
dXJuOwo+ICAJfQo+ICAKPiAtCWlmIChpbnRlbF9zdGF0ZS0+YWN0aXZlX3BpcGVfY2hhbmdlcykK
PiArCWlmIChpbnRlbF9zdGF0ZS0+YWN0aXZlX3BpcGVfY2hhbmdlcykgewo+ICAJCSpudW1fYWN0
aXZlID0gaHdlaWdodDgoaW50ZWxfc3RhdGUtPmFjdGl2ZV9waXBlcyk7Cj4gLQllbHNlCj4gKwkJ
YWN0aXZlX3BpcGVzID0gaW50ZWxfc3RhdGUtPmFjdGl2ZV9waXBlczsKPiArCX0gZWxzZSB7Cj4g
IAkJKm51bV9hY3RpdmUgPSBod2VpZ2h0OChkZXZfcHJpdi0+YWN0aXZlX3BpcGVzKTsKPiArCQlh
Y3RpdmVfcGlwZXMgPSBkZXZfcHJpdi0+YWN0aXZlX3BpcGVzOwo+ICsJfQo+ICAKPiAgCWRkYl9z
aXplID0gaW50ZWxfZ2V0X2RkYl9zaXplKGRldl9wcml2LCBjcnRjX3N0YXRlLCB0b3RhbF9kYXRh
X3JhdGUsCj4gIAkJCQkgICAgICAqbnVtX2FjdGl2ZSwgZGRiKTsKPiAgCj4gKwlEUk1fREVCVUdf
S01TKCJHb3QgdG90YWwgZGRiIHNpemUgJWRcbiIsIGRkYl9zaXplKTsKPiArCj4gKwlzbGljZV9z
aXplID0gZGRiX3NpemUgLyBJTlRFTF9JTkZPKGRldl9wcml2KS0+c3VwcG9ydGVkX3NsaWNlczsK
PiArCj4gKwlEUk1fREVCVUdfS01TKCJHb3QgREJ1ZiBzbGljZSBzaXplICVkXG4iLCBzbGljZV9z
aXplKTsKPiArCj4gIAkvKgo+ICAJICogSWYgdGhlIHN0YXRlIGRvZXNuJ3QgY2hhbmdlIHRoZSBh
Y3RpdmUgQ1JUQydzIG9yIHRoZXJlIGlzIG5vCj4gIAkgKiBtb2Rlc2V0IHJlcXVlc3QsIHRoZW4g
dGhlcmUncyBubyBuZWVkIHRvIHJlY2FsY3VsYXRlOwo+IEBAIC0zODkxLDIwICszOTA1LDcwIEBA
IHNrbF9kZGJfZ2V0X3BpcGVfYWxsb2NhdGlvbl9saW1pdHMoc3RydWN0IGRybV9pOTE1X3ByaXZh
dGUgKmRldl9wcml2LAo+ICAJCXJldHVybjsKPiAgCX0KPiAgCj4gKwkvKgo+ICsJICogR2V0IGFs
bG93ZWQgREJ1ZiBzbGljZXMgZm9yIGNvcnJlc3BvbmRlbnQgcGlwZSBhbmQgcGxhdGZvcm0uCj4g
KwkgKi8KPiArCWRidWZfc2xpY2VfbWFzayA9IGk5MTVfZ2V0X2FsbG93ZWRfZGJ1Zl9tYXNrKGRl
dl9wcml2LCBmb3JfcGlwZSwKPiArCQkJCQkJICAgICBhY3RpdmVfcGlwZXMsIGNydGNfc3RhdGUp
Owo+ICsKPiArCURSTV9ERUJVR19LTVMoIkRCdWYgc2xpY2UgbWFzayAleCBwaXBlICVkIGFjdGl2
ZSBwaXBlcyAleFxuIiwKPiArCQkgICAgICBkYnVmX3NsaWNlX21hc2ssCj4gKwkJICAgICAgZm9y
X3BpcGUsIGFjdGl2ZV9waXBlcyk7Cj4gKwo+ICsJLyoKPiArCSAqIEZpZ3VyZSBvdXQgYXQgd2hp
Y2ggREJ1ZiBzbGljZSB3ZSBzdGFydCwgaS5lIGlmIHdlIHN0YXJ0IGF0IERidWYgUzIKPiArCSAq
IGFuZCBzbGljZSBzaXplIGlzIDEwMjQsIHRoZSBvZmZzZXQgd291bGQgYmUgMTAyNAo+ICsJICov
Cj4gKwlvZmZzZXQgPSBza2xfZ2V0X2ZpcnN0X2RidWZfc2xpY2Vfb2Zmc2V0KGRidWZfc2xpY2Vf
bWFzaywKPiArCQkJCQkJIHNsaWNlX3NpemUsIGRkYl9zaXplKTsKPiArCj4gKwkvKgo+ICsJICog
RmlndXJlIG91dCB0b3RhbCBzaXplIG9mIGFsbG93ZWQgREJ1ZiBzbGljZXMsIHdoaWNoIGlzIGJh
c2ljYWxseQo+ICsJICogYSBudW1iZXIgb2YgYWxsb3dlZCBzbGljZXMgZm9yIHRoYXQgcGlwZSBt
dWx0aXBsaWVkIGJ5IHNsaWNlIHNpemUuCj4gKwkgKiBJbnNpZGUgb2YgdGhpcwo+ICsJICogcmFu
Z2UgZGRiIGVudHJpZXMgYXJlIHN0aWxsIGFsbG9jYXRlZCBpbiBwcm9wb3J0aW9uIHRvIGRpc3Bs
YXkgd2lkdGguCj4gKwkgKi8KPiArCWRkYl9yYW5nZV9zaXplID0gaHdlaWdodDgoZGJ1Zl9zbGlj
ZV9tYXNrKSAqIHNsaWNlX3NpemU7Cj4gKwo+ICAJLyoKPiAgCSAqIFdhdGVybWFyay9kZGIgcmVx
dWlyZW1lbnQgaGlnaGx5IGRlcGVuZHMgdXBvbiB3aWR0aCBvZiB0aGUKPiAgCSAqIGZyYW1lYnVm
ZmVyLCBTbyBpbnN0ZWFkIG9mIGFsbG9jYXRpbmcgRERCIGVxdWFsbHkgYW1vbmcgcGlwZXMKPiAg
CSAqIGRpc3RyaWJ1dGUgRERCIGJhc2VkIG9uIHJlc29sdXRpb24vd2lkdGggb2YgdGhlIGRpc3Bs
YXkuCj4gIAkgKi8KPiArCXRvdGFsX3NsaWNlX21hc2sgPSBkYnVmX3NsaWNlX21hc2s7Cj4gIAlm
b3JfZWFjaF9uZXdfaW50ZWxfY3J0Y19pbl9zdGF0ZShpbnRlbF9zdGF0ZSwgY3J0YywgY3J0Y19z
dGF0ZSwgaSkgewo+ICAJCWNvbnN0IHN0cnVjdCBkcm1fZGlzcGxheV9tb2RlICphZGp1c3RlZF9t
b2RlID0KPiAgCQkJJmNydGNfc3RhdGUtPmh3LmFkanVzdGVkX21vZGU7Cj4gIAkJZW51bSBwaXBl
IHBpcGUgPSBjcnRjLT5waXBlOwo+ICAJCWludCBoZGlzcGxheSwgdmRpc3BsYXk7Cj4gKwkJdTMy
IHBpcGVfZGJ1Zl9zbGljZV9tYXNrID0gXAo+ICsJCQlpOTE1X2dldF9hbGxvd2VkX2RidWZfbWFz
ayhkZXZfcHJpdiwKPiArCQkJCQkJcGlwZSwKPiArCQkJCQkJYWN0aXZlX3BpcGVzLAo+ICsJCQkJ
CQljcnRjX3N0YXRlKTsKPiAgCj4gIAkJaWYgKCFjcnRjX3N0YXRlLT5ody5lbmFibGUpCj4gIAkJ
CWNvbnRpbnVlOwo+ICAKPiArCQkvKgo+ICsJCSAqIEFjY29yZGluZyB0byBCU3BlYyBwaXBlIGNh
biBzaGFyZSBvbmUgZGJ1ZiBzbGljZSB3aXRoIGFub3RoZXIKPiArCQkgKiBwaXBlcyBvciBwaXBl
IGNhbiB1c2UgbXVsdGlwbGUgZGJ1ZnMsIGluIGJvdGggY2FzZXMgd2UKPiArCQkgKiBhY2NvdW50
IGZvciBvdGhlciBwaXBlcyBvbmx5IGlmIHRoZXkgaGF2ZSBleGFjdGx5IHNhbWUgbWFzay4KPiAr
CQkgKiBIb3dldmVyIHdlIG5lZWQgdG8gYWNjb3VudCBob3cgbWFueSBzbGljZXMgd2Ugc2hvdWxk
IGVuYWJsZQo+ICsJCSAqIGluIHRvdGFsLgo+ICsJCSAqLwo+ICsJCXRvdGFsX3NsaWNlX21hc2sg
fD0gcGlwZV9kYnVmX3NsaWNlX21hc2s7Cj4gKwo+ICsJCS8qCj4gKwkJICogRG8gbm90IGFjY291
bnQgcGlwZXMgdXNpbmcgb3RoZXIgc2xpY2Ugc2V0cwo+ICsJCSAqIGx1Y2tpbHkgYXMgb2YgY3Vy
cmVudCBCU3BlYyBzbGljZSBzZXRzIGRvIG5vdCBwYXJ0aWFsbHkKPiArCQkgKiBpbnRlcnNlY3Qo
cGlwZXMgc2hhcmUgZWl0aGVyIHNhbWUgb25lIHNsaWNlIG9yIHNhbWUgc2xpY2Ugc2V0Cj4gKwkJ
ICogaS5lIG5vIHBhcnRpYWwgaW50ZXJzZWN0aW9uKSwgc28gaXQgaXMgZW5vdWdoIHRvIGNoZWNr
IGZvcgo+ICsJCSAqIGVxdWFsaXR5IGZvciBub3cuCj4gKwkJICovCj4gKwkJaWYgKGRidWZfc2xp
Y2VfbWFzayAhPSBwaXBlX2RidWZfc2xpY2VfbWFzaykKPiArCQkJY29udGludWU7Cj4gKwo+ICAJ
CWRybV9tb2RlX2dldF9odl90aW1pbmcoYWRqdXN0ZWRfbW9kZSwgJmhkaXNwbGF5LCAmdmRpc3Bs
YXkpOwo+ICAJCXRvdGFsX3dpZHRoICs9IGhkaXNwbGF5Owo+ICAKPiBAQCAtMzkxNCw4ICszOTc4
LDE5IEBAIHNrbF9kZGJfZ2V0X3BpcGVfYWxsb2NhdGlvbl9saW1pdHMoc3RydWN0IGRybV9pOTE1
X3ByaXZhdGUgKmRldl9wcml2LAo+ICAJCQlwaXBlX3dpZHRoID0gaGRpc3BsYXk7Cj4gIAl9Cj4g
IAo+IC0JYWxsb2MtPnN0YXJ0ID0gZGRiX3NpemUgKiB3aWR0aF9iZWZvcmVfcGlwZSAvIHRvdGFs
X3dpZHRoOwo+IC0JYWxsb2MtPmVuZCA9IGRkYl9zaXplICogKHdpZHRoX2JlZm9yZV9waXBlICsg
cGlwZV93aWR0aCkgLyB0b3RhbF93aWR0aDsKPiArCWRkYi0+ZW5hYmxlZF9zbGljZXMgPSB0b3Rh
bF9zbGljZV9tYXNrOwo+ICsKPiArCXN0YXJ0ID0gZGRiX3JhbmdlX3NpemUgKiB3aWR0aF9iZWZv
cmVfcGlwZSAvIHRvdGFsX3dpZHRoOwo+ICsJZW5kID0gZGRiX3JhbmdlX3NpemUgKiAod2lkdGhf
YmVmb3JlX3BpcGUgKyBwaXBlX3dpZHRoKSAvIHRvdGFsX3dpZHRoOwo+ICsKPiArCWFsbG9jLT5z
dGFydCA9IG9mZnNldCArIHN0YXJ0Owo+ICsJYWxsb2MtPmVuZCA9IG9mZnNldCArIGVuZDsKPiAr
Cj4gKwlEUk1fREVCVUdfS01TKCJQaXBlICVkIGRkYiAlZC0lZFxuIiwgZm9yX3BpcGUsCj4gKwkJ
ICAgICAgYWxsb2MtPnN0YXJ0LCBhbGxvYy0+ZW5kKTsKPiArCURSTV9ERUJVR19LTVMoIkVuYWJs
ZWQgZGRiIHNsaWNlcyBtYXNrICV4IG51bSBzdXBwb3J0ZWQgJWRcbiIsCj4gKwkJICAgICAgZGRi
LT5lbmFibGVkX3NsaWNlcywKPiArCQkgICAgICBJTlRFTF9JTkZPKGRldl9wcml2KS0+c3VwcG9y
dGVkX3NsaWNlcyk7Cj4gIH0KPiAgCj4gIHN0YXRpYyBpbnQgc2tsX2NvbXB1dGVfd21fcGFyYW1z
KGNvbnN0IHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpjcnRjX3N0YXRlLAo+IEBAIC00MDM2LDcg
KzQxMTEsOCBAQCB2b2lkIHNrbF9waXBlX2RkYl9nZXRfaHdfc3RhdGUoc3RydWN0IGludGVsX2Ny
dGMgKmNydGMsCj4gIHZvaWQgc2tsX2RkYl9nZXRfaHdfc3RhdGUoc3RydWN0IGRybV9pOTE1X3By
aXZhdGUgKmRldl9wcml2LAo+ICAJCQkgIHN0cnVjdCBza2xfZGRiX2FsbG9jYXRpb24gKmRkYiAv
KiBvdXQgKi8pCj4gIHsKPiAtCWRkYi0+ZW5hYmxlZF9zbGljZXMgPSBpbnRlbF9lbmFibGVkX2Ri
dWZfc2xpY2VzX251bShkZXZfcHJpdik7Cj4gKwlkZGItPmVuYWJsZWRfc2xpY2VzID0gaW50ZWxf
ZW5hYmxlZF9kYnVmX3NsaWNlcyhkZXZfcHJpdik7Cj4gKwlEUk1fREVCVUdfS01TKCJHb3QgaHcg
ZGJ1ZiBzbGljZXMgbWFzayAleFxuIiwgZGRiLT5lbmFibGVkX3NsaWNlcyk7Cj4gIH0KPiAgCj4g
IC8qCj4gQEAgLTQxNjQsNiArNDI0MCwyMzggQEAgc2tsX2dldF90b3RhbF9yZWxhdGl2ZV9kYXRh
X3JhdGUoc3RydWN0IGludGVsX2NydGNfc3RhdGUgKmNydGNfc3RhdGUsCj4gIAlyZXR1cm4gdG90
YWxfZGF0YV9yYXRlOwo+ICB9Cj4gIAo+ICt1aW50X2ZpeGVkXzE2XzE2X3QKPiArc2tsX3BpcGVf
ZG93bnNjYWxlX2Ftb3VudChjb25zdCBzdHJ1Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqY3J0Y19zdGF0
ZSkKClNpbmNlIHRoaXMgaXMgb25seSB1c2VkIG9uIGdlbjExKywgc2hvdWxkIGl0IGJlIG5hbWVk
CmljbF9waXBlX2Rvd25zY2FsZV9hbW91bnQ/Cgo+ICt7Cj4gKwl1MzIgc3JjX3csIHNyY19oLCBk
c3RfdywgZHN0X2g7Cj4gKwl1aW50X2ZpeGVkXzE2XzE2X3QgZnBfd19yYXRpbywgZnBfaF9yYXRp
bzsKPiArCXVpbnRfZml4ZWRfMTZfMTZfdCBkb3duc2NhbGVfaCwgZG93bnNjYWxlX3c7Cj4gKwlj
b25zdCBzdHJ1Y3QgZHJtX2Rpc3BsYXlfbW9kZSAqYWRqdXN0ZWRfbW9kZSA9ICZjcnRjX3N0YXRl
LT5ody5hZGp1c3RlZF9tb2RlOwo+ICsKPiArCXNyY193ID0gY3J0Y19zdGF0ZS0+cGlwZV9zcmNf
dzsKPiArCXNyY19oID0gY3J0Y19zdGF0ZS0+cGlwZV9zcmNfaDsKPiArCWRzdF93ID0gYWRqdXN0
ZWRfbW9kZS0+Y3J0Y19oZGlzcGxheTsKPiArCWRzdF9oID0gYWRqdXN0ZWRfbW9kZS0+Y3J0Y192
ZGlzcGxheTsKPiArCj4gKwlmcF93X3JhdGlvID0gZGl2X2ZpeGVkMTYoc3JjX3csIGRzdF93KTsK
PiArCWZwX2hfcmF0aW8gPSBkaXZfZml4ZWQxNihzcmNfaCwgZHN0X2gpOwo+ICsJZG93bnNjYWxl
X3cgPSBtYXhfZml4ZWQxNihmcF93X3JhdGlvLCB1MzJfdG9fZml4ZWQxNigxKSk7Cj4gKwlkb3du
c2NhbGVfaCA9IG1heF9maXhlZDE2KGZwX2hfcmF0aW8sIHUzMl90b19maXhlZDE2KDEpKTsKPiAr
Cj4gKwlyZXR1cm4gbXVsX2ZpeGVkMTYoZG93bnNjYWxlX3csIGRvd25zY2FsZV9oKTsKPiArfQo+
ICsKPiArdWludF9maXhlZF8xNl8xNl90Cj4gK2ljbF9nZXRfcGlwZV9yYXRpbyhjb25zdCBzdHJ1
Y3QgaW50ZWxfY3J0Y19zdGF0ZSAqY3J0Y19zdGF0ZSkKPiArewo+ICsJc3RydWN0IGRybV9wbGFu
ZSAqcGxhbmU7Cj4gKwljb25zdCBzdHJ1Y3QgZHJtX3BsYW5lX3N0YXRlICpkcm1fcGxhbmVfc3Rh
dGU7Cj4gKwl1aW50X2ZpeGVkXzE2XzE2X3QgcGlwZV9kb3duc2NhbGUsIHBpcGVfcmF0aW87Cj4g
Kwl1aW50X2ZpeGVkXzE2XzE2X3QgbWF4X2Rvd25zY2FsZSA9IHUzMl90b19maXhlZDE2KDEpOwo+
ICsJc3RydWN0IGludGVsX2NydGMgKmNydGMgPSB0b19pbnRlbF9jcnRjKGNydGNfc3RhdGUtPnVh
cGkuY3J0Yyk7Cj4gKwo+ICsJaWYgKCFjcnRjX3N0YXRlLT51YXBpLmVuYWJsZSkKPiArCQlyZXR1
cm4gbWF4X2Rvd25zY2FsZTsKPiArCj4gKwlkcm1fYXRvbWljX2NydGNfc3RhdGVfZm9yX2VhY2hf
cGxhbmVfc3RhdGUocGxhbmUsIGRybV9wbGFuZV9zdGF0ZSwgJmNydGNfc3RhdGUtPnVhcGkpIHsK
PiArCQl1aW50X2ZpeGVkXzE2XzE2X3QgcGxhbmVfZG93bnNjYWxlOwo+ICsJCWNvbnN0IHN0cnVj
dCBpbnRlbF9wbGFuZV9zdGF0ZSAqcGxhbmVfc3RhdGUgPQo+ICsJCQl0b19pbnRlbF9wbGFuZV9z
dGF0ZShkcm1fcGxhbmVfc3RhdGUpOwo+ICsKPiArCQlpZiAoIWludGVsX3dtX3BsYW5lX3Zpc2li
bGUoY3J0Y19zdGF0ZSwgcGxhbmVfc3RhdGUpKQo+ICsJCQljb250aW51ZTsKPiArCj4gKwkJcGxh
bmVfZG93bnNjYWxlID0gc2tsX3BsYW5lX2Rvd25zY2FsZV9hbW91bnQoY3J0Y19zdGF0ZSwgcGxh
bmVfc3RhdGUpOwo+ICsKPiArCQlEUk1fREVCVUdfS01TKCJQbGFuZSAlZCBkb3duc2NhbGUgYW1v
dW50ICVkLiVkXG4iLAo+ICsJCQkgICAgICB0b19pbnRlbF9wbGFuZShwbGFuZSktPmlkLAo+ICsJ
CQkgICAgICBwbGFuZV9kb3duc2NhbGUudmFsID4+IDE2LAo+ICsJCQkgICAgICBwbGFuZV9kb3du
c2NhbGUudmFsICYgMHhmZmZmKTsKPiArCj4gKwkJbWF4X2Rvd25zY2FsZSA9IG1heF9maXhlZDE2
KHBsYW5lX2Rvd25zY2FsZSwgbWF4X2Rvd25zY2FsZSk7Cj4gKwl9Cj4gKwo+ICsKPiArCXBpcGVf
ZG93bnNjYWxlID0gc2tsX3BpcGVfZG93bnNjYWxlX2Ftb3VudChjcnRjX3N0YXRlKTsKPiArCj4g
KwlEUk1fREVCVUdfS01TKCJQaXBlICVkIGRvd25zY2FsZSBhbW91bnQgJWQuJWRcbiIsCj4gKwkJ
ICAgICAgIGNydGMtPnBpcGUsIHBpcGVfZG93bnNjYWxlLnZhbCA+PiAxNiwKPiArCQkgICAgICAg
cGlwZV9kb3duc2NhbGUudmFsICYgMHhmZmZmKTsKPiArCj4gKwlwaXBlX2Rvd25zY2FsZSA9IG11
bF9maXhlZDE2KHBpcGVfZG93bnNjYWxlLCBtYXhfZG93bnNjYWxlKTsKPiArCj4gKwkvKiBDb252
ZXJ0IHJlc3VsdCB0byBwZXJjZW50YWdlICovCj4gKwlwaXBlX3JhdGlvID0gdTMyX3RvX2ZpeGVk
MTYoMTAwICogZGl2X3JvdW5kX3VwX3UzMl9maXhlZDE2KDEsIHBpcGVfZG93bnNjYWxlKSk7CgpJ
IHRoaW5rIHRoZSBtYXRoIGhlcmUgaXMgY29ycmVjdCwgYnV0IGl0IGdldHMgYSBiaXQgY29uZnVz
aW5nIHNpbmNlIHdlCndvcmsgd2l0aCBkaWZmZXJlbnQgdGVybXMgdGhhbiB0aGUgYnNwZWMgc3Rl
cHMgKGUuZy4sIHVzaW5nIG1heCBwbGFuZQpkb3duc2NhbGUgcmF0aGVyIHRoYW4gbWluaW11bSBw
bGFuZSByYXRpbyBhbmQgc3VjaCkuLi5tYXliZSBhIGZldyBleHRyYQpjb21tZW50cyBpbiB0aGlz
IGZ1bmN0aW9uIHdvdWxkIGhlbHAgcmVkdWNlIGNvbmZ1c2lvbj8KCj4gKwo+ICsJRFJNX0RFQlVH
X0tNUygiUGlwZSAlZCByYXRpbyAlZC4lZFxuIiwgY3J0Yy0+cGlwZSwKPiArCQkgICAgICBwaXBl
X3JhdGlvLnZhbCA+PiAxNiwgcGlwZV9yYXRpby52YWwgJiAweGZmZmYpOwo+ICsKPiArCXJldHVy
biBwaXBlX3JhdGlvOwo+ICt9Cj4gKwo+ICtzdHJ1Y3QgZGJ1Zl9zbGljZV9jb25mX2VudHJ5IHsK
PiArCXUzMiBkYnVmX21hc2tbSTkxNV9NQVhfUElQRVNdOwo+ICsJdTMyIGFjdGl2ZV9waXBlczsK
PiArfTsKPiArCj4gKwo+ICsjZGVmaW5lIElDTF9QSVBFX0FfREJVRl9TTElDRVMoREJ1ZjEpICBc
Cj4gKwl7IHsgREJ1ZjEsIDAsIDAsIDAgfSwgQklUKFBJUEVfQSkgfQo+ICsjZGVmaW5lIElDTF9Q
SVBFX0JfREJVRl9TTElDRVMoREJ1ZjEpICBcCj4gKwl7IHsgMCwgREJ1ZjEsIDAsIDAgfSwgQklU
KFBJUEVfQikgfQo+ICsjZGVmaW5lIElDTF9QSVBFX0NfREJVRl9TTElDRVMoREJ1ZjEpICBcCj4g
Kwl7IHsgMCwgMCwgREJ1ZjEsIDAgfSwgQklUKFBJUEVfQykgfQo+ICsjZGVmaW5lIElDTF9QSVBF
X0RfREJVRl9TTElDRVMoREJ1ZjEpICBcCj4gKwl7IHsgMCwgMCwgMCwgREJ1ZjEgfSwgQklUKFBJ
UEVfRCkgfQoKV2UnZCBwcm9iYWJseSB3YW50IHRvIGNhbGwgdGhpcyAoYW5kIHRoZSBvdGhlcnMg
dGhhdCBtZW50aW9uIHBpcGUgRCkKVEdMXyogc2luY2UgdGhleSBhcmVuJ3QgYWN0dWFsbHkgcmVs
ZXZhbnQgdW50aWwgZ2VuMTIuCgo+ICsjZGVmaW5lIElDTF9QSVBFX0FCX0RCVUZfU0xJQ0VTKERC
dWYxLCBEQnVmMikgICBcCj4gKwl7IHsgREJ1ZjEsIERCdWYyLCAwLCAwIH0sIEJJVChQSVBFX0Ep
IHwgQklUKFBJUEVfQikgfQo+ICsjZGVmaW5lIElDTF9QSVBFX0JDX0RCVUZfU0xJQ0VTKERCdWYx
LCBEQnVmMikgICBcCj4gKwl7IHsgMCwgREJ1ZjEsIERCdWYyLCAwIH0sIEJJVChQSVBFX0IpIHwg
QklUKFBJUEVfQykgfQo+ICsjZGVmaW5lIElDTF9QSVBFX0JEX0RCVUZfU0xJQ0VTKERCdWYxLCBE
QnVmMikgICBcCj4gKwl7IHsgMCwgREJ1ZjEsIDAsIERCdWYyIH0sIEJJVChQSVBFX0IpIHwgQklU
KFBJUEVfRCkgfQo+ICsjZGVmaW5lIElDTF9QSVBFX0FDX0RCVUZfU0xJQ0VTKERCdWYxLCBEQnVm
MikgICBcCj4gKwl7IHsgREJ1ZjEsIDAsIERCdWYyLCAwIH0sIEJJVChQSVBFX0EpIHwgQklUKFBJ
UEVfQykgfQo+ICsjZGVmaW5lIElDTF9QSVBFX0FEX0RCVUZfU0xJQ0VTKERCdWYxLCBEQnVmMikg
ICBcCj4gKwl7IHsgREJ1ZjEsIDAsIDAsIERCdWYyIH0sIEJJVChQSVBFX0EpIHwgQklUKFBJUEVf
RCkgfQo+ICsjZGVmaW5lIElDTF9QSVBFX0NEX0RCVUZfU0xJQ0VTKERCdWYxLCBEQnVmMikgICBc
Cj4gKwl7IHsgMCwgMCwgREJ1ZjEsIERCdWYyIH0sIEJJVChQSVBFX0MpIHwgQklUKFBJUEVfRCkg
fQo+ICsjZGVmaW5lIElDTF9QSVBFX0FCQ19EQlVGX1NMSUNFUyhEQnVmMSwgREJ1ZjIsIERCdWYz
KSAgXAo+ICsJeyB7IERCdWYxLCBEQnVmMiwgREJ1ZjMsIDAgfSwgQklUKFBJUEVfQSkgfCBCSVQo
UElQRV9CKSB8IEJJVChQSVBFX0MpIH0KPiArI2RlZmluZSBJQ0xfUElQRV9BQ0RfREJVRl9TTElD
RVMoREJ1ZjEsIERCdWYyLCBEQnVmMykgIFwKPiArCXsgeyBEQnVmMSwgMCwgREJ1ZjIsIERCdWYz
IH0sIEJJVChQSVBFX0EpIHwgQklUKFBJUEVfQykgfCBCSVQoUElQRV9EKSB9Cj4gKyNkZWZpbmUg
SUNMX1BJUEVfQkNEX0RCVUZfU0xJQ0VTKERCdWYxLCBEQnVmMiwgREJ1ZjMpICBcCj4gKwl7IHsg
MCwgREJ1ZjEsIERCdWYyLCBEQnVmMyB9LCBCSVQoUElQRV9CKSB8IEJJVChQSVBFX0MpIHwgQklU
KFBJUEVfRCkgfQo+ICsjZGVmaW5lIElDTF9QSVBFX0FCRF9EQlVGX1NMSUNFUyhEQnVmMSwgREJ1
ZjIsIERCdWYzKSAgXAo+ICsJeyB7IERCdWYxLCBEQnVmMiwgMCwgREJ1ZjMgfSwgQklUKFBJUEVf
QSkgfCBCSVQoUElQRV9CKSB8IEJJVChQSVBFX0QpIH0KPiArI2RlZmluZSBJQ0xfUElQRV9BQkNf
REJVRl9TTElDRVMoREJ1ZjEsIERCdWYyLCBEQnVmMykgIFwKPiArCXsgeyBEQnVmMSwgREJ1ZjIs
IERCdWYzLCAwIH0sIEJJVChQSVBFX0EpIHwgQklUKFBJUEVfQikgfCBCSVQoUElQRV9DKSB9Cj4g
KyNkZWZpbmUgSUNMX1BJUEVfQUJDRF9EQlVGX1NMSUNFUyhEQnVmMSwgREJ1ZjIsIERCdWYzLCBE
QnVmNCkgIFwKPiArCXsgeyBEQnVmMSwgREJ1ZjIsIERCdWYzLCBEQnVmNCB9LCBCSVQoUElQRV9B
KSB8IEJJVChQSVBFX0IpIHwgXAo+ICsJCQkJCSAgQklUKFBJUEVfQykgfCBCSVQoUElQRV9EKSB9
Cj4gKwo+ICsvKgo+ICsgKiBUYWJsZSB0YWtlbiBmcm9tIEJzcGVjIDEyNzE2Cj4gKyAqIFBpcGVz
IGRvIGhhdmUgc29tZSBwcmVmZXJyZWQgREJ1ZiBzbGljZSBhZmZpbml0eSwKPiArICogcGx1cyB0
aGVyZSBhcmUgc29tZSBoYXJkY29kZWQgcmVxdWlyZW1lbnRzIG9uIGhvdwo+ICsgKiB0aG9zZSBz
aG91bGQgYmUgZGlzdHJpYnV0ZWQgZm9yIG11bHRpcGlwZSBzY2VuYXJpb3MuCj4gKyAqIEZvciBt
b3JlIERCdWYgc2xpY2VzIGFsZ29yaXRobSBjYW4gZ2V0IGV2ZW4gbW9yZSBtZXNzeQo+ICsgKiBh
bmQgbGVzcyByZWFkYWJsZSwgc28gZGVjaWRlZCB0byB1c2UgYSB0YWJsZSBhbG1vc3QKPiArICog
YXMgaXMgZnJvbSBCU3BlYyBpdHNlbGYgLSB0aGF0IHdheSBpdCBpcyBhdCBsZWFzdCBlYXNpZXIK
PiArICogdG8gY29tcGFyZSwgY2hhbmdlIGFuZCBjaGVjay4KPiArICovCj4gK3N0cnVjdCBkYnVm
X3NsaWNlX2NvbmZfZW50cnkgaWNsX2FsbG93ZWRfZGJ1ZnNbXSA9IHsKPiAreyB7IDAsIDAsIDAs
IDAgfSwgMCB9LAo+ICtJQ0xfUElQRV9BX0RCVUZfU0xJQ0VTKERCVUZfUzFfQklUIHwgREJVRl9T
Ml9CSVQpLCAgLyogcGlwZSByYXRpbyA8IDg4LjggKi8KPiArSUNMX1BJUEVfQV9EQlVGX1NMSUNF
UyhEQlVGX1MxX0JJVCksICAgICAgICAgICAgICAgIC8qIGZvciBwaXBlIHJhdGlvID49IDg4Ljgg
Ki8KPiArSUNMX1BJUEVfQl9EQlVGX1NMSUNFUyhEQlVGX1MxX0JJVCB8IERCVUZfUzJfQklUKSwg
IC8qIHBpcGUgcmF0aW8gPCA4OC44ICovCj4gK0lDTF9QSVBFX0JfREJVRl9TTElDRVMoREJVRl9T
MV9CSVQpLCAgICAgICAgICAgICAgICAvKiBmb3IgcGlwZSByYXRpbyA+PSA4OC44ICovCj4gK0lD
TF9QSVBFX0NfREJVRl9TTElDRVMoREJVRl9TMV9CSVQgfCBEQlVGX1MyX0JJVCksICAvKiBwaXBl
IHJhdGlvIDwgODguOCAqLwo+ICtJQ0xfUElQRV9DX0RCVUZfU0xJQ0VTKERCVUZfUzJfQklUKSwg
ICAgICAgICAgICAgICAgLyogZm9yIHBpcGUgcmF0aW8gPj0gODguOCAqLwo+ICtJQ0xfUElQRV9B
Ql9EQlVGX1NMSUNFUyhEQlVGX1MxX0JJVCwgREJVRl9TMl9CSVQpLAo+ICtJQ0xfUElQRV9BQ19E
QlVGX1NMSUNFUyhEQlVGX1MxX0JJVCwgREJVRl9TMl9CSVQpLAo+ICtJQ0xfUElQRV9CQ19EQlVG
X1NMSUNFUyhEQlVGX1MxX0JJVCwgREJVRl9TMl9CSVQpLAo+ICtJQ0xfUElQRV9BQkNfREJVRl9T
TElDRVMoREJVRl9TMV9CSVQsIERCVUZfUzFfQklULCBEQlVGX1MyX0JJVCksCj4gK307Cj4gKwo+
ICsvKgo+ICsgKiBUYWJsZSB0YWtlbiBmcm9tIEJzcGVjIDQ5MjU1Cj4gKyAqIFBpcGVzIGRvIGhh
dmUgc29tZSBwcmVmZXJyZWQgREJ1ZiBzbGljZSBhZmZpbml0eSwKPiArICogcGx1cyB0aGVyZSBh
cmUgc29tZSBoYXJkY29kZWQgcmVxdWlyZW1lbnRzIG9uIGhvdwo+ICsgKiB0aG9zZSBzaG91bGQg
YmUgZGlzdHJpYnV0ZWQgZm9yIG11bHRpcGlwZSBzY2VuYXJpb3MuCj4gKyAqIEZvciBtb3JlIERC
dWYgc2xpY2VzIGFsZ29yaXRobSBjYW4gZ2V0IGV2ZW4gbW9yZSBtZXNzeQo+ICsgKiBhbmQgbGVz
cyByZWFkYWJsZSwgc28gZGVjaWRlZCB0byB1c2UgYSB0YWJsZSBhbG1vc3QKPiArICogYXMgaXMg
ZnJvbSBCU3BlYyBpdHNlbGYgLSB0aGF0IHdheSBpdCBpcyBhdCBsZWFzdCBlYXNpZXIKPiArICog
dG8gY29tcGFyZSwgY2hhbmdlIGFuZCBjaGVjay4KPiArICovCj4gK3N0cnVjdCBkYnVmX3NsaWNl
X2NvbmZfZW50cnkgdGdsX2FsbG93ZWRfZGJ1ZnNbXSA9IHsKPiAreyB7IDAsIDAsIDAsIDAgfSwg
MCB9LAo+ICtJQ0xfUElQRV9BX0RCVUZfU0xJQ0VTKERCVUZfUzFfQklUIHwgREJVRl9TMl9CSVQp
LAo+ICtJQ0xfUElQRV9CX0RCVUZfU0xJQ0VTKERCVUZfUzFfQklUIHwgREJVRl9TMl9CSVQpLAo+
ICtJQ0xfUElQRV9DX0RCVUZfU0xJQ0VTKERCVUZfUzFfQklUIHwgREJVRl9TMl9CSVQpLAo+ICtJ
Q0xfUElQRV9EX0RCVUZfU0xJQ0VTKERCVUZfUzFfQklUIHwgREJVRl9TMl9CSVQpLAo+ICtJQ0xf
UElQRV9BQl9EQlVGX1NMSUNFUyhEQlVGX1MxX0JJVCwgREJVRl9TMl9CSVQpLAoKVGhlIGNvbHVt
biBvcmRlciBpbiB0aGUgYnNwZWMgaXMgYml6YXJyZSAoRCwgQywgQSwgQiksIGJ1dCBpc24ndCB0
aGlzCm9uZSBiYWNrd2FyZHM/ICBQaXBlIEEgZ2V0cyBTMiwgcGlwZSBCIGdldHMgUzE/ICBPciBk
byB3ZSB0aGluayB0aGlzIGlzCmEgYnNwZWMgbWlzdGFrZSAoaXQgZG9lcyBzZWVtIHVudXN1YWwp
PwoKPiArSUNMX1BJUEVfQUNfREJVRl9TTElDRVMoREJVRl9TMV9CSVQsIERCVUZfUzJfQklUKSwK
PiArSUNMX1BJUEVfQkNfREJVRl9TTElDRVMoREJVRl9TMV9CSVQsIERCVUZfUzJfQklUKSwKPiAr
SUNMX1BJUEVfQURfREJVRl9TTElDRVMoREJVRl9TMV9CSVQsIERCVUZfUzJfQklUKSwKPiArSUNM
X1BJUEVfQkRfREJVRl9TTElDRVMoREJVRl9TMV9CSVQsIERCVUZfUzJfQklUKSwKPiArSUNMX1BJ
UEVfQ0RfREJVRl9TTElDRVMoREJVRl9TMV9CSVQsIERCVUZfUzJfQklUKSwKPiArSUNMX1BJUEVf
QUJEX0RCVUZfU0xJQ0VTKERCVUZfUzFfQklULCBEQlVGX1MxX0JJVCwgREJVRl9TMl9CSVQpLAo+
ICtJQ0xfUElQRV9BQkNfREJVRl9TTElDRVMoREJVRl9TMV9CSVQsIERCVUZfUzFfQklULCBEQlVG
X1MyX0JJVCksCj4gK0lDTF9QSVBFX0FDRF9EQlVGX1NMSUNFUyhEQlVGX1MxX0JJVCwgREJVRl9T
Ml9CSVQsIERCVUZfUzJfQklUKSwKPiArSUNMX1BJUEVfQkNEX0RCVUZfU0xJQ0VTKERCVUZfUzFf
QklULCBEQlVGX1MyX0JJVCwgREJVRl9TMl9CSVQpLAo+ICtJQ0xfUElQRV9BQkNEX0RCVUZfU0xJ
Q0VTKERCVUZfUzFfQklULCBEQlVGX1MxX0JJVCwgREJVRl9TMl9CSVQsIERCVUZfUzJfQklUKSwK
PiArfTsKPiArCj4gKy8qCj4gKyAqIFRoaXMgZnVuY3Rpb24gZmluZHMgYW4gZW50cnkgd2l0aCBz
YW1lIGVuYWJsZWQgcGlwZSBjb25maWd1cmF0aW9uIGFuZAo+ICsgKiByZXR1cm5zIGNvcnJlc3Bv
bmRlbnQgREJ1ZiBzbGljZSBtYXNrIGFzIHN0YXRlZCBpbiBCU3BlYyBmb3IgcGFydGljdWxhcgo+
ICsgKiBwbGF0Zm9ybS4KPiArICovCj4gK3N0YXRpYyB1MzIgaWNsX2dldF9hbGxvd2VkX2RidWZf
bWFzayhpbnQgcGlwZSwKPiArCQkJCSAgICAgdTMyIGFjdGl2ZV9waXBlcywKPiArCQkJCSAgICAg
Y29uc3Qgc3RydWN0IGludGVsX2NydGNfc3RhdGUgKmNydGNfc3RhdGUpCj4gK3sKPiArCWludCBp
Owo+ICsJdWludF9maXhlZF8xNl8xNl90IHBpcGVfcmF0aW87Cj4gKwo+ICsJLyoKPiArCSAqIENh
bGN1bGF0ZSBwaXBlIHJhdGlvIGFzIHN0YXRlZCBpbiBCU3BlYyAyODY5Mgo+ICsJICovCj4gKwlw
aXBlX3JhdGlvID0gaWNsX2dldF9waXBlX3JhdGlvKGNydGNfc3RhdGUpOwo+ICsKPiArCWZvciAo
aSA9IDA7IGkgPCBBUlJBWV9TSVpFKGljbF9hbGxvd2VkX2RidWZzKTsgaSsrKSB7Cj4gKwkJaWYg
KGljbF9hbGxvd2VkX2RidWZzW2ldLmFjdGl2ZV9waXBlcyA9PSBhY3RpdmVfcGlwZXMpIHsKPiAr
CQkJaWYgKGh3ZWlnaHQzMihhY3RpdmVfcGlwZXMpID09IDEpIHsKPiArCQkJCS8qCj4gKwkJCQkg
KiBBY2NvcmRpbmcgdG8gQlNwZWMgMTI3MTY6IGlmIHJhdGlvID49IDg4LjgKPiArCQkJCSAqIGFs
d2F5cyB1c2Ugc2luZ2xlIGRidWYgc2xpY2UuCj4gKwkJCQkgKi8KPiArCQkJCWlmIChwaXBlX3Jh
dGlvLnZhbCA+PSBkaXZfZml4ZWQxNig4ODgsIDEwKS52YWwpCj4gKwkJCQkJKytpOwo+ICsJCQl9
Cj4gKwkJCXJldHVybiBpY2xfYWxsb3dlZF9kYnVmc1tpXS5kYnVmX21hc2tbcGlwZV07Cj4gKwkJ
fQo+ICsJfQo+ICsJcmV0dXJuIDA7Cj4gK30KPiArCj4gKy8qCj4gKyAqIFRoaXMgZnVuY3Rpb24g
ZmluZHMgYW4gZW50cnkgd2l0aCBzYW1lIGVuYWJsZWQgcGlwZSBjb25maWd1cmF0aW9uIGFuZAo+
ICsgKiByZXR1cm5zIGNvcnJlc3BvbmRlbnQgREJ1ZiBzbGljZSBtYXNrIGFzIHN0YXRlZCBpbiBC
U3BlYyBmb3IgcGFydGljdWxhcgo+ICsgKiBwbGF0Zm9ybS4KPiArICovCj4gK3N0YXRpYyB1MzIg
dGdsX2dldF9hbGxvd2VkX2RidWZfbWFzayhpbnQgcGlwZSwKPiArCQkJCSAgICAgdTMyIGFjdGl2
ZV9waXBlcywKPiArCQkJCSAgICAgY29uc3Qgc3RydWN0IGludGVsX2NydGNfc3RhdGUgKmNydGNf
c3RhdGUpCj4gK3sKPiArCWludCBpOwo+ICsKPiArCWZvciAoaSA9IDA7IGkgPCBBUlJBWV9TSVpF
KHRnbF9hbGxvd2VkX2RidWZzKTsgaSsrKSB7Cj4gKwkJaWYgKHRnbF9hbGxvd2VkX2RidWZzW2ld
LmFjdGl2ZV9waXBlcyA9PSBhY3RpdmVfcGlwZXMpCj4gKwkJCXJldHVybiB0Z2xfYWxsb3dlZF9k
YnVmc1tpXS5kYnVmX21hc2tbcGlwZV07Cj4gKwl9Cj4gKwlyZXR1cm4gMDsKPiArfQo+ICsKPiAr
dTMyIGk5MTVfZ2V0X2FsbG93ZWRfZGJ1Zl9tYXNrKHN0cnVjdCBkcm1faTkxNV9wcml2YXRlICpk
ZXZfcHJpdiwKPiArCQkJCSAgICAgIGludCBwaXBlLCB1MzIgYWN0aXZlX3BpcGVzLAo+ICsJCQkJ
ICAgICAgY29uc3Qgc3RydWN0IGludGVsX2NydGNfc3RhdGUgKmNydGNfc3RhdGUpCj4gK3sKPiAr
CWlmIChJU19HRU4oZGV2X3ByaXYsIDExKSkKPiArCQlyZXR1cm4gaWNsX2dldF9hbGxvd2VkX2Ri
dWZfbWFzayhwaXBlLAo+ICsJCQkJCQkgYWN0aXZlX3BpcGVzLAo+ICsJCQkJCQkgY3J0Y19zdGF0
ZSk7Cj4gKwllbHNlIGlmIChJU19HRU4oZGV2X3ByaXYsIDEyKSkKPiArCQlyZXR1cm4gdGdsX2dl
dF9hbGxvd2VkX2RidWZfbWFzayhwaXBlLAo+ICsJCQkJCQkgYWN0aXZlX3BpcGVzLAo+ICsJCQkJ
CQkgY3J0Y19zdGF0ZSk7Cj4gKwkvKgo+ICsJICogRm9yIGFueXRoaW5nIGVsc2UganVzdCByZXR1
cm4gb25lIHNsaWNlIHlldC4KPiArCSAqIFNob3VsZCBiZSBleHRlbmRlZCBmb3Igb3RoZXIgcGxh
dGZvcm1zLgo+ICsJICovCj4gKwlyZXR1cm4gREJVRl9TMV9CSVQ7Cj4gK30KPiArCj4gIHN0YXRp
YyB1NjQKPiAgaWNsX2dldF90b3RhbF9yZWxhdGl2ZV9kYXRhX3JhdGUoc3RydWN0IGludGVsX2Ny
dGNfc3RhdGUgKmNydGNfc3RhdGUsCj4gIAkJCQkgdTY0ICpwbGFuZV9kYXRhX3JhdGUpCj4gLS0g
Cj4gMi4xNy4xCj4gCgotLSAKTWF0dCBSb3BlcgpHcmFwaGljcyBTb2Z0d2FyZSBFbmdpbmVlcgpW
VFQtT1NHQyBQbGF0Zm9ybSBFbmFibGVtZW50CkludGVsIENvcnBvcmF0aW9uCig5MTYpIDM1Ni0y
Nzk1Cl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCkludGVs
LWdmeCBtYWlsaW5nIGxpc3QKSW50ZWwtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczov
L2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2ludGVsLWdmeA==

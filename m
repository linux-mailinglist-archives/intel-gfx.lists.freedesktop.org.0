Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 05ECA56AAC
	for <lists+intel-gfx@lfdr.de>; Wed, 26 Jun 2019 15:35:20 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 6E7DF6E436;
	Wed, 26 Jun 2019 13:35:18 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga06.intel.com (mga06.intel.com [134.134.136.31])
 by gabe.freedesktop.org (Postfix) with ESMTPS id E5A0A6E436
 for <intel-gfx@lists.freedesktop.org>; Wed, 26 Jun 2019 13:35:16 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga001.jf.intel.com ([10.7.209.18])
 by orsmga104.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 26 Jun 2019 06:35:16 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.63,420,1557212400"; d="scan'208";a="245430138"
Received: from gaia.fi.intel.com ([10.237.72.169])
 by orsmga001.jf.intel.com with ESMTP; 26 Jun 2019 06:35:14 -0700
Received: by gaia.fi.intel.com (Postfix, from userid 1000)
 id 836615C1EAC; Wed, 26 Jun 2019 16:35:01 +0300 (EEST)
From: Mika Kuoppala <mika.kuoppala@linux.intel.com>
To: Chris Wilson <chris@chris-wilson.co.uk>, intel-gfx@lists.freedesktop.org
In-Reply-To: <20190626065303.31624-3-chris@chris-wilson.co.uk>
References: <20190626065303.31624-1-chris@chris-wilson.co.uk>
 <20190626065303.31624-3-chris@chris-wilson.co.uk>
Date: Wed, 26 Jun 2019 16:35:01 +0300
Message-ID: <8736jw5v22.fsf@gaia.fi.intel.com>
MIME-Version: 1.0
Subject: Re: [Intel-gfx] [PATCH 3/6] drm/i915/selftests: Fixup atomic reset
 checking
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

Q2hyaXMgV2lsc29uIDxjaHJpc0BjaHJpcy13aWxzb24uY28udWs+IHdyaXRlczoKCj4gV2UgcmVx
dWlyZSB0aGF0IHRoZSBpbnRlbF9ncHVfcmVzZXQoKSB3YXMgYXRvbWljLCBub3QgdGhlIHdob2xl
IG9mCj4gaTkxNV9yZXNldCgpIHdoaWNoIGlzIGd1YXJkZWQgYnkgYSBtdXRleC4gSG93ZXZlciwg
d2UgZG8gcmVxdWlyZSB0aGF0Cj4gaTkxNV9yZXNldF9lbmdpbmUoKSBpcyBhdG9taWMgZm9yIHVz
ZSBmcm9tIHdpdGhpbiB0aGUgc3VibWlzc2lvbiB0YXNrbGV0Lgo+Cj4gU2lnbmVkLW9mZi1ieTog
Q2hyaXMgV2lsc29uIDxjaHJpc0BjaHJpcy13aWxzb24uY28udWs+Cj4gLS0tCj4gIGRyaXZlcnMv
Z3B1L2RybS9pOTE1L2d0L3NlbGZ0ZXN0X3Jlc2V0LmMgfCA2NSArKysrKysrKysrKysrKysrKysr
KysrKy0KPiAgMSBmaWxlIGNoYW5nZWQsIDYzIGluc2VydGlvbnMoKyksIDIgZGVsZXRpb25zKC0p
Cj4KPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3Qvc2VsZnRlc3RfcmVzZXQu
YyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L3NlbGZ0ZXN0X3Jlc2V0LmMKPiBpbmRleCA2NGMy
YzhhYjY0ZWMuLjY0MWNmM2FlZThkNSAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkx
NS9ndC9zZWxmdGVzdF9yZXNldC5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3Qvc2Vs
ZnRlc3RfcmVzZXQuYwo+IEBAIC03MywxMSArNzMsMTMgQEAgc3RhdGljIGludCBpZ3RfYXRvbWlj
X3Jlc2V0KHZvaWQgKmFyZykKPiAgCWZvciAocCA9IGlndF9hdG9taWNfcGhhc2VzOyBwLT5uYW1l
OyBwKyspIHsKPiAgCQlHRU1fVFJBQ0UoImludGVsX2dwdV9yZXNldCB1bmRlciAlc1xuIiwgcC0+
bmFtZSk7Cj4gIAo+IC0JCXAtPmNyaXRpY2FsX3NlY3Rpb25fYmVnaW4oKTsKPiAgCQlyZXNldF9w
cmVwYXJlKGk5MTUpOwo+ICsJCXAtPmNyaXRpY2FsX3NlY3Rpb25fYmVnaW4oKTsKPiArCj4gIAkJ
ZXJyID0gaW50ZWxfZ3B1X3Jlc2V0KGk5MTUsIEFMTF9FTkdJTkVTKTsKPiAtCQlyZXNldF9maW5p
c2goaTkxNSk7Cj4gKwo+ICAJCXAtPmNyaXRpY2FsX3NlY3Rpb25fZW5kKCk7Cj4gKwkJcmVzZXRf
ZmluaXNoKGk5MTUpOwo+ICAKPiAgCQlpZiAoZXJyKSB7Cj4gIAkJCXByX2VycigiaW50ZWxfZ3B1
X3Jlc2V0IGZhaWxlZCB1bmRlciAlc1xuIiwgcC0+bmFtZSk7Cj4gQEAgLTk1LDEyICs5Nyw3MSBA
QCBzdGF0aWMgaW50IGlndF9hdG9taWNfcmVzZXQodm9pZCAqYXJnKQo+ICAJcmV0dXJuIGVycjsK
PiAgfQo+ICAKPiArc3RhdGljIGludCBpZ3RfYXRvbWljX2VuZ2luZV9yZXNldCh2b2lkICphcmcp
Cj4gK3sKPiArCXN0cnVjdCBkcm1faTkxNV9wcml2YXRlICppOTE1ID0gYXJnOwo+ICsJY29uc3Qg
dHlwZW9mKCppZ3RfYXRvbWljX3BoYXNlcykgKnA7CgpJIGRpZCBhZG1pcmUgdGhlIG5hc3R5bmVz
cyBvZiB0aGlzIGFycmF5LgoKPiArCXN0cnVjdCBpbnRlbF9lbmdpbmVfY3MgKmVuZ2luZTsKPiAr
CWVudW0gaW50ZWxfZW5naW5lX2lkIGlkOwo+ICsJaW50IGVyciA9IDA7Cj4gKwo+ICsJLyogQ2hl
Y2sgdGhhdCB0aGUgcmVzZXRzIGFyZSB1c2FibGUgZnJvbSBhdG9taWMgY29udGV4dCAqLwo+ICsK
PiArCWlmICghaW50ZWxfaGFzX3Jlc2V0X2VuZ2luZShpOTE1KSkKPiArCQlyZXR1cm4gMDsKPiAr
Cj4gKwlpZiAoVVNFU19HVUNfU1VCTUlTU0lPTihpOTE1KSkKPiArCQlyZXR1cm4gMDsKPiArCj4g
KwlpbnRlbF9ndF9wbV9nZXQoJmk5MTUtPmd0KTsKPiArCWlndF9nbG9iYWxfcmVzZXRfbG9jayhp
OTE1KTsKPiArCj4gKwkvKiBGbHVzaCBhbnkgcmVxdWVzdHMgYmVmb3JlIHdlIGdldCBzdGFydGVk
IGFuZCBjaGVjayBiYXNpY3MgKi8KPiArCWlmICghaWd0X2ZvcmNlX3Jlc2V0KGk5MTUpKQo+ICsJ
CWdvdG8gb3V0X3VubG9jazsKCkkgd291bGQgc3RpbGwgZ28gb3V0IHdpdGggZXJyb3IgaWYgdGhl
IHByZXJlcXVpc2l0ZXMKYXJlIG5vdCBtZXQ/CgotTWlrYQoKPiArCj4gKwlmb3JfZWFjaF9lbmdp
bmUoZW5naW5lLCBpOTE1LCBpZCkgewo+ICsJCXRhc2tsZXRfZGlzYWJsZV9ub3N5bmMoJmVuZ2lu
ZS0+ZXhlY2xpc3RzLnRhc2tsZXQpOwo+ICsJCWludGVsX2VuZ2luZV9wbV9nZXQoZW5naW5lKTsK
PiArCj4gKwkJZm9yIChwID0gaWd0X2F0b21pY19waGFzZXM7IHAtPm5hbWU7IHArKykgewo+ICsJ
CQlHRU1fVFJBQ0UoImk5MTVfcmVzZXRfZW5naW5lKCVzKSB1bmRlciAlc1xuIiwKPiArCQkJCSAg
ZW5naW5lLT5uYW1lLCBwLT5uYW1lKTsKPiArCj4gKwkJCXAtPmNyaXRpY2FsX3NlY3Rpb25fYmVn
aW4oKTsKPiArCQkJZXJyID0gaTkxNV9yZXNldF9lbmdpbmUoZW5naW5lLCBOVUxMKTsKPiArCQkJ
cC0+Y3JpdGljYWxfc2VjdGlvbl9lbmQoKTsKPiArCj4gKwkJCWlmIChlcnIpIHsKPiArCQkJCXBy
X2VycigiaTkxNV9yZXNldF9lbmdpbmUoJXMpIGZhaWxlZCB1bmRlciAlc1xuIiwKPiArCQkJCSAg
ICAgICBlbmdpbmUtPm5hbWUsIHAtPm5hbWUpOwo+ICsJCQkJYnJlYWs7Cj4gKwkJCX0KPiArCQl9
Cj4gKwo+ICsJCWludGVsX2VuZ2luZV9wbV9wdXQoZW5naW5lKTsKPiArCQl0YXNrbGV0X2VuYWJs
ZSgmZW5naW5lLT5leGVjbGlzdHMudGFza2xldCk7Cj4gKwkJaWYgKGVycikKPiArCQkJYnJlYWs7
Cj4gKwl9Cj4gKwo+ICsJLyogQXMgd2UgcG9rZSBhcm91bmQgdGhlIGd1dHMsIGRvIGEgZnVsbCBy
ZXNldCBiZWZvcmUgY29udGludWluZy4gKi8KPiArCWlndF9mb3JjZV9yZXNldChpOTE1KTsKPiAr
Cj4gK291dF91bmxvY2s6Cj4gKwlpZ3RfZ2xvYmFsX3Jlc2V0X3VubG9jayhpOTE1KTsKPiArCWlu
dGVsX2d0X3BtX3B1dCgmaTkxNS0+Z3QpOwo+ICsKPiArCXJldHVybiBlcnI7Cj4gK30KPiArCj4g
IGludCBpbnRlbF9yZXNldF9saXZlX3NlbGZ0ZXN0cyhzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAq
aTkxNSkKPiAgewo+ICAJc3RhdGljIGNvbnN0IHN0cnVjdCBpOTE1X3N1YnRlc3QgdGVzdHNbXSA9
IHsKPiAgCQlTVUJURVNUKGlndF9nbG9iYWxfcmVzZXQpLCAvKiBhdHRlbXB0IHRvIHJlY292ZXIg
R1BVIGZpcnN0ICovCj4gIAkJU1VCVEVTVChpZ3Rfd2VkZ2VkX3Jlc2V0KSwKPiAgCQlTVUJURVNU
KGlndF9hdG9taWNfcmVzZXQpLAo+ICsJCVNVQlRFU1QoaWd0X2F0b21pY19lbmdpbmVfcmVzZXQp
LAo+ICAJfTsKPiAgCWludGVsX3dha2VyZWZfdCB3YWtlcmVmOwo+ICAJaW50IGVyciA9IDA7Cj4g
LS0gCj4gMi4yMC4xCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fCkludGVsLWdmeCBtYWlsaW5nIGxpc3QKSW50ZWwtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9y
ZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2ludGVsLWdm
eA==

Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id BF4154EE89E
	for <lists+intel-gfx@lfdr.de>; Fri,  1 Apr 2022 08:45:16 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 0938B10FB88;
	Fri,  1 Apr 2022 06:45:15 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga05.intel.com (mga05.intel.com [192.55.52.43])
 by gabe.freedesktop.org (Postfix) with ESMTPS id AF85A10FB88
 for <intel-gfx@lists.freedesktop.org>; Fri,  1 Apr 2022 06:45:13 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple;
 d=intel.com; i=@intel.com; q=dns/txt; s=Intel;
 t=1648795513; x=1680331513;
 h=from:to:subject:date:message-id:references:in-reply-to:
 content-transfer-encoding:mime-version;
 bh=3beR51sjhlthNNvvBeZhCsHkXT/xsUq/q9u1xmoRf/U=;
 b=QDw5gA20Rul6SKQqepC7TZ5OTG9XLXE4m6AggIqNPYKTnFwJ/SGUcL7i
 GcaJYFbCUD4of6k7wsfnnfrv3cPk5bWDajPbyWHFfLAfgM2L4Szf9EJDK
 Lh7sFPS4yorUqSdUrggDXK6pBT+XGvMi6XHYqFrwRJUABk50r/pH9Vkwt
 Ir4/7/eL5kjxlfydqKvJ29SvvzQsyssPQZhkPIM1UurHxHUUXP/4QXcB1
 jR33auKVRUQ4bigHeqq18dxfDevLUisZsMyzX+yyay3Vu63BgYROtDbZp
 cZzzM0nVk9ZyhscQnE0Q5vE02wfQPQobkwFzcEiinoriI0ifv9Idfl6kM A==;
X-IronPort-AV: E=McAfee;i="6200,9189,10303"; a="346496463"
X-IronPort-AV: E=Sophos;i="5.90,226,1643702400"; d="scan'208";a="346496463"
Received: from fmsmga004.fm.intel.com ([10.253.24.48])
 by fmsmga105.fm.intel.com with ESMTP/TLS/ECDHE-RSA-AES256-GCM-SHA384;
 31 Mar 2022 23:45:13 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.90,226,1643702400"; d="scan'208";a="619211395"
Received: from fmsmsx602.amr.corp.intel.com ([10.18.126.82])
 by fmsmga004.fm.intel.com with ESMTP; 31 Mar 2022 23:45:13 -0700
Received: from bgsmsx602.gar.corp.intel.com (10.109.78.81) by
 fmsmsx602.amr.corp.intel.com (10.18.126.82) with Microsoft SMTP Server
 (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256) id
 15.1.2308.27; Thu, 31 Mar 2022 23:45:12 -0700
Received: from bgsmsx604.gar.corp.intel.com (10.67.234.6) by
 BGSMSX602.gar.corp.intel.com (10.109.78.81) with Microsoft SMTP Server
 (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256) id
 15.1.2308.27; Fri, 1 Apr 2022 12:15:10 +0530
Received: from bgsmsx604.gar.corp.intel.com ([10.67.234.6]) by
 BGSMSX604.gar.corp.intel.com ([10.67.234.6]) with mapi id 15.01.2308.027;
 Fri, 1 Apr 2022 12:15:10 +0530
From: "Shankar, Uma" <uma.shankar@intel.com>
To: Ville Syrjala <ville.syrjala@linux.intel.com>,
 "intel-gfx@lists.freedesktop.org" <intel-gfx@lists.freedesktop.org>
Thread-Topic: [Intel-gfx] [PATCH v2 10/12] drm/i915/dp: Duplicate native HDMI
 TMDS clock limit handling for DP HDMI DFPs
Thread-Index: AQHYPeSQqT4Z9s3Ow0KjvcLK+fA+O6zaqyxA
Date: Fri, 1 Apr 2022 06:45:10 +0000
Message-ID: <165a62400ed5427390b5b81226f7be48@intel.com>
References: <20220322120015.28074-1-ville.syrjala@linux.intel.com>
 <20220322120015.28074-11-ville.syrjala@linux.intel.com>
In-Reply-To: <20220322120015.28074-11-ville.syrjala@linux.intel.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
dlp-product: dlpe-windows
dlp-reaction: no-action
dlp-version: 11.6.401.20
x-originating-ip: [10.223.10.1]
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0
Subject: Re: [Intel-gfx] [PATCH v2 10/12] drm/i915/dp: Duplicate native HDMI
 TMDS clock limit handling for DP HDMI DFPs
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

DQoNCj4gLS0tLS1PcmlnaW5hbCBNZXNzYWdlLS0tLS0NCj4gRnJvbTogSW50ZWwtZ2Z4IDxpbnRl
bC1nZngtYm91bmNlc0BsaXN0cy5mcmVlZGVza3RvcC5vcmc+IE9uIEJlaGFsZiBPZiBWaWxsZSBT
eXJqYWxhDQo+IFNlbnQ6IFR1ZXNkYXksIE1hcmNoIDIyLCAyMDIyIDU6MzAgUE0NCj4gVG86IGlu
dGVsLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcNCj4gU3ViamVjdDogW0ludGVsLWdmeF0gW1BB
VENIIHYyIDEwLzEyXSBkcm0vaTkxNS9kcDogRHVwbGljYXRlIG5hdGl2ZSBIRE1JIFRNRFMNCj4g
Y2xvY2sgbGltaXQgaGFuZGxpbmcgZm9yIERQIEhETUkgREZQcw0KPiANCj4gRnJvbTogVmlsbGUg
U3lyasOkbMOkIDx2aWxsZS5zeXJqYWxhQGxpbnV4LmludGVsLmNvbT4NCj4gDQo+IFdpdGggbmF0
aXZlIEhETUkgd2UgYWxsb3cgdGhlIHVzZXIgdG8gb3ZlcnJpZGUgdGhlIG1vZGUgd2l0aCBzb21l
dGhpbmcgdGhhdCBtYXkNCj4gbm90IHJlc3BlY3QgdGhlIGRvd25zdHJlYW0gKHNpbmssZHVhbC1t
b2RlIGFkYXB0ZXIpIFRNRFMgY2xvY2sgbGltaXRzLiBMZXQncyByZXVzZQ0KPiB0aGUgc2FtZSBs
b2dpYyBmb3IgRFAgSERNSSBERlBzIHNvIHRoYXQgYmVoYXZpb3VyIGlzIG1vcmUgb3IgbGVzcyB1
bmlmb3JtLg0KDQpMb29rcyBHb29kIHRvIG1lLg0KUmV2aWV3ZWQtYnk6IFVtYSBTaGFua2FyIDx1
bWEuc2hhbmthckBpbnRlbC5jb20+DQoNCj4gU2lnbmVkLW9mZi1ieTogVmlsbGUgU3lyasOkbMOk
IDx2aWxsZS5zeXJqYWxhQGxpbnV4LmludGVsLmNvbT4NCj4gLS0tDQo+ICBkcml2ZXJzL2dwdS9k
cm0vaTkxNS9kaXNwbGF5L2ludGVsX2RwLmMgfCA1MSArKysrKysrKysrKysrKysrKystLS0tLS0t
DQo+ICAxIGZpbGUgY2hhbmdlZCwgMzggaW5zZXJ0aW9ucygrKSwgMTMgZGVsZXRpb25zKC0pDQo+
IA0KPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kcC5j
DQo+IGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlzcGxheS9pbnRlbF9kcC5jDQo+IGluZGV4IDNk
YmI2OGZhNGU1MS4uMDUzODUzYTMwNTRlIDEwMDY0NA0KPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0v
aTkxNS9kaXNwbGF5L2ludGVsX2RwLmMNCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZGlz
cGxheS9pbnRlbF9kcC5jDQo+IEBAIC04NzAsMTAgKzg3MCwxNCBAQCBzdGF0aWMgaW50IGludGVs
X2RwX21heF90bWRzX2Nsb2NrKHN0cnVjdCBpbnRlbF9kcA0KPiAqaW50ZWxfZHApDQo+IA0KPiAg
c3RhdGljIGVudW0gZHJtX21vZGVfc3RhdHVzDQo+ICBpbnRlbF9kcF90bWRzX2Nsb2NrX3ZhbGlk
KHN0cnVjdCBpbnRlbF9kcCAqaW50ZWxfZHAsDQo+IC0JCQkgIGludCBjbG9jaywgaW50IGJwYywg
Ym9vbCB5Y2JjcjQyMF9vdXRwdXQpDQo+ICsJCQkgIGludCBjbG9jaywgaW50IGJwYywgYm9vbCB5
Y2JjcjQyMF9vdXRwdXQsDQo+ICsJCQkgIGJvb2wgcmVzcGVjdF9kb3duc3RyZWFtX2xpbWl0cykN
Cj4gIHsNCj4gIAlpbnQgdG1kc19jbG9jaywgbWluX3RtZHNfY2xvY2ssIG1heF90bWRzX2Nsb2Nr
Ow0KPiANCj4gKwlpZiAoIXJlc3BlY3RfZG93bnN0cmVhbV9saW1pdHMpDQo+ICsJCXJldHVybiBN
T0RFX09LOw0KPiArDQo+ICAJdG1kc19jbG9jayA9IGludGVsX2hkbWlfdG1kc19jbG9jayhjbG9j
aywgYnBjLCB5Y2JjcjQyMF9vdXRwdXQpOw0KPiANCj4gIAltaW5fdG1kc19jbG9jayA9IGludGVs
X2RwLT5kZnAubWluX3RtZHNfY2xvY2s7IEBAIC05MjUsNyArOTI5LDcgQEANCj4gaW50ZWxfZHBf
bW9kZV92YWxpZF9kb3duc3RyZWFtKHN0cnVjdCBpbnRlbF9jb25uZWN0b3IgKmNvbm5lY3RvciwN
Cj4gDQo+ICAJLyogQXNzdW1lIDhicGMgZm9yIHRoZSBEUCsrL0hETUkvRFZJIFRNRFMgY2xvY2sg
Y2hlY2sgKi8NCj4gIAlzdGF0dXMgPSBpbnRlbF9kcF90bWRzX2Nsb2NrX3ZhbGlkKGludGVsX2Rw
LCB0YXJnZXRfY2xvY2ssDQo+IC0JCQkJCSAgIDgsIHljYmNyXzQyMF9vbmx5KTsNCj4gKwkJCQkJ
ICAgOCwgeWNiY3JfNDIwX29ubHksIHRydWUpOw0KPiANCj4gIAlpZiAoc3RhdHVzICE9IE1PREVf
T0spIHsNCj4gIAkJaWYgKHljYmNyXzQyMF9vbmx5IHx8DQo+IEBAIC05MzQsNyArOTM4LDcgQEAg
aW50ZWxfZHBfbW9kZV92YWxpZF9kb3duc3RyZWFtKHN0cnVjdCBpbnRlbF9jb25uZWN0b3INCj4g
KmNvbm5lY3RvciwNCj4gIAkJCXJldHVybiBzdGF0dXM7DQo+IA0KPiAgCQlzdGF0dXMgPSBpbnRl
bF9kcF90bWRzX2Nsb2NrX3ZhbGlkKGludGVsX2RwLCB0YXJnZXRfY2xvY2ssDQo+IC0JCQkJCQkg
ICA4LCB0cnVlKTsNCj4gKwkJCQkJCSAgIDgsIHRydWUsIHRydWUpOw0KPiAgCQlpZiAoc3RhdHVz
ICE9IE1PREVfT0spDQo+ICAJCQlyZXR1cm4gc3RhdHVzOw0KPiAgCX0NCj4gQEAgLTExODMsNyAr
MTE4Nyw3IEBAIHN0YXRpYyBib29sIGludGVsX2RwX2lzX3ljYmNyNDIwKHN0cnVjdCBpbnRlbF9k
cCAqaW50ZWxfZHAsDQo+IA0KPiAgc3RhdGljIGludCBpbnRlbF9kcF9oZG1pX2NvbXB1dGVfYnBj
KHN0cnVjdCBpbnRlbF9kcCAqaW50ZWxfZHAsDQo+ICAJCQkJICAgICBjb25zdCBzdHJ1Y3QgaW50
ZWxfY3J0Y19zdGF0ZSAqY3J0Y19zdGF0ZSwNCj4gLQkJCQkgICAgIGludCBicGMpDQo+ICsJCQkJ
ICAgICBpbnQgYnBjLCBib29sIHJlc3BlY3RfZG93bnN0cmVhbV9saW1pdHMpDQo+ICB7DQo+ICAJ
Ym9vbCB5Y2JjcjQyMF9vdXRwdXQgPSBpbnRlbF9kcF9pc195Y2JjcjQyMChpbnRlbF9kcCwgY3J0
Y19zdGF0ZSk7DQo+ICAJaW50IGNsb2NrID0gY3J0Y19zdGF0ZS0+aHcuYWRqdXN0ZWRfbW9kZS5j
cnRjX2Nsb2NrOw0KPiBAQCAtMTE5NSwxMCArMTE5OSwxOSBAQCBzdGF0aWMgaW50IGludGVsX2Rw
X2hkbWlfY29tcHV0ZV9icGMoc3RydWN0IGludGVsX2RwDQo+ICppbnRlbF9kcCwNCj4gIAkgKi8N
Cj4gIAlicGMgPSBtYXgoYnBjLCA4KTsNCj4gDQo+ICsJLyoNCj4gKwkgKiBXZSB3aWxsIG5ldmVy
IGV4Y2VlZCBkb3duc3RyZWFtIFRNRFMgY2xvY2sgbGltaXRzIHdoaWxlDQo+ICsJICogYXR0ZW1w
dGluZyBkZWVwIGNvbG9yLiBJZiB0aGUgdXNlciBpbnNpc3RzIG9uIGZvcmNpbmcgYW4NCj4gKwkg
KiBvdXQgb2Ygc3BlYyBtb2RlIHRoZXkgd2lsbCBoYXZlIHRvIGJlIHNhdGlzZmllZCB3aXRoIDhi
cGMuDQo+ICsJICovDQo+ICsJaWYgKCFyZXNwZWN0X2Rvd25zdHJlYW1fbGltaXRzKQ0KPiArCQli
cGMgPSA4Ow0KPiArDQo+ICAJZm9yICg7IGJwYyA+PSA4OyBicGMgLT0gMikgew0KPiAgCQlpZiAo
aW50ZWxfaGRtaV9icGNfcG9zc2libGUoY3J0Y19zdGF0ZSwgYnBjLA0KPiAgCQkJCQkgICAgaW50
ZWxfZHAtPmhhc19oZG1pX3NpbmssDQo+IHljYmNyNDIwX291dHB1dCkgJiYNCj4gLQkJICAgIGlu
dGVsX2RwX3RtZHNfY2xvY2tfdmFsaWQoaW50ZWxfZHAsIGNsb2NrLCBicGMsIHljYmNyNDIwX291
dHB1dCkNCj4gPT0gTU9ERV9PSykNCj4gKwkJICAgIGludGVsX2RwX3RtZHNfY2xvY2tfdmFsaWQo
aW50ZWxfZHAsIGNsb2NrLCBicGMsIHljYmNyNDIwX291dHB1dCwNCj4gKwkJCQkJICAgICAgcmVz
cGVjdF9kb3duc3RyZWFtX2xpbWl0cykgPT0NCj4gTU9ERV9PSykNCj4gIAkJCXJldHVybiBicGM7
DQo+ICAJfQ0KPiANCj4gQEAgLTEyMDYsNyArMTIxOSw4IEBAIHN0YXRpYyBpbnQgaW50ZWxfZHBf
aGRtaV9jb21wdXRlX2JwYyhzdHJ1Y3QgaW50ZWxfZHANCj4gKmludGVsX2RwLCAgfQ0KPiANCj4g
IHN0YXRpYyBpbnQgaW50ZWxfZHBfbWF4X2JwcChzdHJ1Y3QgaW50ZWxfZHAgKmludGVsX2RwLA0K
PiAtCQkJICAgIGNvbnN0IHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpjcnRjX3N0YXRlKQ0KPiAr
CQkJICAgIGNvbnN0IHN0cnVjdCBpbnRlbF9jcnRjX3N0YXRlICpjcnRjX3N0YXRlLA0KPiArCQkJ
ICAgIGJvb2wgcmVzcGVjdF9kb3duc3RyZWFtX2xpbWl0cykNCj4gIHsNCj4gIAlzdHJ1Y3QgZHJt
X2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYgPSBkcF90b19pOTE1KGludGVsX2RwKTsNCj4gIAlzdHJ1
Y3QgaW50ZWxfY29ubmVjdG9yICppbnRlbF9jb25uZWN0b3IgPSBpbnRlbF9kcC0+YXR0YWNoZWRf
Y29ubmVjdG9yOw0KPiBAQCAtMTIyMCw3ICsxMjM0LDggQEAgc3RhdGljIGludCBpbnRlbF9kcF9t
YXhfYnBwKHN0cnVjdCBpbnRlbF9kcCAqaW50ZWxfZHAsDQo+ICAJaWYgKGludGVsX2RwLT5kZnAu
bWluX3RtZHNfY2xvY2spIHsNCj4gIAkJaW50IG1heF9oZG1pX2JwYzsNCj4gDQo+IC0JCW1heF9o
ZG1pX2JwYyA9IGludGVsX2RwX2hkbWlfY29tcHV0ZV9icGMoaW50ZWxfZHAsIGNydGNfc3RhdGUs
DQo+IGJwYyk7DQo+ICsJCW1heF9oZG1pX2JwYyA9IGludGVsX2RwX2hkbWlfY29tcHV0ZV9icGMo
aW50ZWxfZHAsIGNydGNfc3RhdGUsDQo+IGJwYywNCj4gKw0KPiByZXNwZWN0X2Rvd25zdHJlYW1f
bGltaXRzKTsNCj4gIAkJaWYgKG1heF9oZG1pX2JwYyA8IDApDQo+ICAJCQlyZXR1cm4gMDsNCj4g
DQo+IEBAIC0xNTM5LDcgKzE1NTQsOCBAQCBzdGF0aWMgaW50IGludGVsX2RwX2RzY19jb21wdXRl
X2NvbmZpZyhzdHJ1Y3QgaW50ZWxfZHANCj4gKmludGVsX2RwLCAgc3RhdGljIGludCAgaW50ZWxf
ZHBfY29tcHV0ZV9saW5rX2NvbmZpZyhzdHJ1Y3QgaW50ZWxfZW5jb2RlciAqZW5jb2RlciwNCj4g
IAkJCSAgICAgc3RydWN0IGludGVsX2NydGNfc3RhdGUgKnBpcGVfY29uZmlnLA0KPiAtCQkJICAg
ICBzdHJ1Y3QgZHJtX2Nvbm5lY3Rvcl9zdGF0ZSAqY29ubl9zdGF0ZSkNCj4gKwkJCSAgICAgc3Ry
dWN0IGRybV9jb25uZWN0b3Jfc3RhdGUgKmNvbm5fc3RhdGUsDQo+ICsJCQkgICAgIGJvb2wgcmVz
cGVjdF9kb3duc3RyZWFtX2xpbWl0cykNCj4gIHsNCj4gIAlzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0
ZSAqaTkxNSA9IHRvX2k5MTUoZW5jb2Rlci0+YmFzZS5kZXYpOw0KPiAgCXN0cnVjdCBpbnRlbF9j
cnRjICpjcnRjID0gdG9faW50ZWxfY3J0YyhwaXBlX2NvbmZpZy0+dWFwaS5jcnRjKTsNCj4gQEAg
LTE1NTYsNyArMTU3Miw3IEBAIGludGVsX2RwX2NvbXB1dGVfbGlua19jb25maWcoc3RydWN0IGlu
dGVsX2VuY29kZXINCj4gKmVuY29kZXIsDQo+ICAJbGltaXRzLm1heF9sYW5lX2NvdW50ID0gaW50
ZWxfZHBfbWF4X2xhbmVfY291bnQoaW50ZWxfZHApOw0KPiANCj4gIAlsaW1pdHMubWluX2JwcCA9
IGludGVsX2RwX21pbl9icHAocGlwZV9jb25maWctPm91dHB1dF9mb3JtYXQpOw0KPiAtCWxpbWl0
cy5tYXhfYnBwID0gaW50ZWxfZHBfbWF4X2JwcChpbnRlbF9kcCwgcGlwZV9jb25maWcpOw0KPiAr
CWxpbWl0cy5tYXhfYnBwID0gaW50ZWxfZHBfbWF4X2JwcChpbnRlbF9kcCwgcGlwZV9jb25maWcs
DQo+ICtyZXNwZWN0X2Rvd25zdHJlYW1fbGltaXRzKTsNCj4gDQo+ICAJaWYgKGludGVsX2RwLT51
c2VfbWF4X3BhcmFtcykgew0KPiAgCQkvKg0KPiBAQCAtMTg1MCw3ICsxODY2LDggQEAgc3RhdGlj
IGJvb2wgaW50ZWxfZHBfaGFzX2F1ZGlvKHN0cnVjdCBpbnRlbF9lbmNvZGVyDQo+ICplbmNvZGVy
LCAgc3RhdGljIGludCAgaW50ZWxfZHBfY29tcHV0ZV9vdXRwdXRfZm9ybWF0KHN0cnVjdCBpbnRl
bF9lbmNvZGVyDQo+ICplbmNvZGVyLA0KPiAgCQkJICAgICAgIHN0cnVjdCBpbnRlbF9jcnRjX3N0
YXRlICpjcnRjX3N0YXRlLA0KPiAtCQkJICAgICAgIHN0cnVjdCBkcm1fY29ubmVjdG9yX3N0YXRl
ICpjb25uX3N0YXRlKQ0KPiArCQkJICAgICAgIHN0cnVjdCBkcm1fY29ubmVjdG9yX3N0YXRlICpj
b25uX3N0YXRlLA0KPiArCQkJICAgICAgIGJvb2wgcmVzcGVjdF9kb3duc3RyZWFtX2xpbWl0cykN
Cj4gIHsNCj4gIAlzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSA9IHRvX2k5MTUoZW5jb2Rl
ci0+YmFzZS5kZXYpOw0KPiAgCXN0cnVjdCBpbnRlbF9kcCAqaW50ZWxfZHAgPSBlbmNfdG9faW50
ZWxfZHAoZW5jb2Rlcik7IEBAIC0xODcwLDcgKzE4ODcsOA0KPiBAQCBpbnRlbF9kcF9jb21wdXRl
X291dHB1dF9mb3JtYXQoc3RydWN0IGludGVsX2VuY29kZXIgKmVuY29kZXIsDQo+ICAJCWNydGNf
c3RhdGUtPm91dHB1dF9mb3JtYXQgPSBJTlRFTF9PVVRQVVRfRk9STUFUX1JHQjsNCj4gIAl9DQo+
IA0KPiAtCXJldCA9IGludGVsX2RwX2NvbXB1dGVfbGlua19jb25maWcoZW5jb2RlciwgY3J0Y19z
dGF0ZSwgY29ubl9zdGF0ZSk7DQo+ICsJcmV0ID0gaW50ZWxfZHBfY29tcHV0ZV9saW5rX2NvbmZp
ZyhlbmNvZGVyLCBjcnRjX3N0YXRlLCBjb25uX3N0YXRlLA0KPiArCQkJCQkgICByZXNwZWN0X2Rv
d25zdHJlYW1fbGltaXRzKTsNCj4gIAlpZiAocmV0KSB7DQo+ICAJCWlmIChpbnRlbF9kcF9pc195
Y2JjcjQyMChpbnRlbF9kcCwgY3J0Y19zdGF0ZSkgfHwNCj4gIAkJICAgICFjb25uZWN0b3ItPmJh
c2UueWNiY3JfNDIwX2FsbG93ZWQgfHwgQEAgLTE4NzgsNyArMTg5Niw4DQo+IEBAIGludGVsX2Rw
X2NvbXB1dGVfb3V0cHV0X2Zvcm1hdChzdHJ1Y3QgaW50ZWxfZW5jb2RlciAqZW5jb2RlciwNCj4g
IAkJCXJldHVybiByZXQ7DQo+IA0KPiAgCQljcnRjX3N0YXRlLT5vdXRwdXRfZm9ybWF0ID0gaW50
ZWxfZHBfb3V0cHV0X2Zvcm1hdChjb25uZWN0b3IsDQo+IHRydWUpOw0KPiAtCQlyZXQgPSBpbnRl
bF9kcF9jb21wdXRlX2xpbmtfY29uZmlnKGVuY29kZXIsIGNydGNfc3RhdGUsDQo+IGNvbm5fc3Rh
dGUpOw0KPiArCQlyZXQgPSBpbnRlbF9kcF9jb21wdXRlX2xpbmtfY29uZmlnKGVuY29kZXIsIGNy
dGNfc3RhdGUsDQo+IGNvbm5fc3RhdGUsDQo+ICsJCQkJCQkgICByZXNwZWN0X2Rvd25zdHJlYW1f
bGltaXRzKTsNCj4gIAl9DQo+IA0KPiAgCXJldHVybiByZXQ7DQo+IEBAIC0xOTIyLDcgKzE5NDEs
MTMgQEAgaW50ZWxfZHBfY29tcHV0ZV9jb25maWcoc3RydWN0IGludGVsX2VuY29kZXINCj4gKmVu
Y29kZXIsDQo+ICAJaWYgKGludGVsX2RwX2hkaXNwbGF5X2JhZChkZXZfcHJpdiwgYWRqdXN0ZWRf
bW9kZS0+Y3J0Y19oZGlzcGxheSkpDQo+ICAJCXJldHVybiAtRUlOVkFMOw0KPiANCj4gLQlyZXQg
PSBpbnRlbF9kcF9jb21wdXRlX291dHB1dF9mb3JtYXQoZW5jb2RlciwgcGlwZV9jb25maWcsIGNv
bm5fc3RhdGUpOw0KPiArCS8qDQo+ICsJICogVHJ5IHRvIHJlc3BlY3QgZG93bnN0cmVhbSBUTURT
IGNsb2NrIGxpbWl0cyBmaXJzdCwgaWYNCj4gKwkgKiB0aGF0IGZhaWxzIGFzc3VtZSB0aGUgdXNl
ciBtaWdodCBrbm93IHNvbWV0aGluZyB3ZSBkb24ndC4NCj4gKwkgKi8NCj4gKwlyZXQgPSBpbnRl
bF9kcF9jb21wdXRlX291dHB1dF9mb3JtYXQoZW5jb2RlciwgcGlwZV9jb25maWcsIGNvbm5fc3Rh
dGUsDQo+IHRydWUpOw0KPiArCWlmIChyZXQpDQo+ICsJCXJldCA9IGludGVsX2RwX2NvbXB1dGVf
b3V0cHV0X2Zvcm1hdChlbmNvZGVyLCBwaXBlX2NvbmZpZywNCj4gK2Nvbm5fc3RhdGUsIGZhbHNl
KTsNCj4gIAlpZiAocmV0KQ0KPiAgCQlyZXR1cm4gcmV0Ow0KPiANCj4gLS0NCj4gMi4zNC4xDQoN
Cg==

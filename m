Return-Path: <intel-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gfx@lfdr.de
Delivered-To: lists+intel-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 9FB14109C6E
	for <lists+intel-gfx@lfdr.de>; Tue, 26 Nov 2019 11:41:49 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 4C8BA89A67;
	Tue, 26 Nov 2019 10:41:47 +0000 (UTC)
X-Original-To: intel-gfx@lists.freedesktop.org
Delivered-To: intel-gfx@lists.freedesktop.org
Received: from mga05.intel.com (mga05.intel.com [192.55.52.43])
 by gabe.freedesktop.org (Postfix) with ESMTPS id B476489A67
 for <intel-gfx@lists.freedesktop.org>; Tue, 26 Nov 2019 10:41:46 +0000 (UTC)
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga008.jf.intel.com ([10.7.209.65])
 by fmsmga105.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 26 Nov 2019 02:41:46 -0800
X-IronPort-AV: E=Sophos;i="5.69,245,1571727600"; d="scan'208";a="202680459"
Received: from aburk3x-mobl1.ger.corp.intel.com (HELO [10.252.19.231])
 ([10.252.19.231])
 by orsmga008-auth.jf.intel.com with ESMTP/TLS/AES256-SHA;
 26 Nov 2019 02:41:44 -0800
To: Ankit Navik <ankit.p.navik@intel.com>, intel-gfx@lists.freedesktop.org
References: <1574743899-17638-1-git-send-email-ankit.p.navik@intel.com>
 <1574743899-17638-3-git-send-email-ankit.p.navik@intel.com>
From: Tvrtko Ursulin <tvrtko.ursulin@linux.intel.com>
Organization: Intel Corporation UK Plc
Message-ID: <790066fa-a07b-b615-ea11-9583bbadb6f3@linux.intel.com>
Date: Tue, 26 Nov 2019 10:41:43 +0000
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101
 Thunderbird/60.9.0
MIME-Version: 1.0
In-Reply-To: <1574743899-17638-3-git-send-email-ankit.p.navik@intel.com>
Content-Language: en-US
Subject: Re: [Intel-gfx] [PATCH v6 2/3] drm/i915: set optimum
 eu/slice/sub-slice configuration based on load type
X-BeenThere: intel-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Intel graphics driver community testing & development
 <intel-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gfx>
List-Post: <mailto:intel-gfx@lists.freedesktop.org>
List-Help: <mailto:intel-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gfx>,
 <mailto:intel-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: vipin.anand@intel.com
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: intel-gfx-bounces@lists.freedesktop.org
Sender: "Intel-gfx" <intel-gfx-bounces@lists.freedesktop.org>

Ck9uIDI2LzExLzIwMTkgMDQ6NTEsIEFua2l0IE5hdmlrIHdyb3RlOgo+IFRoaXMgcGF0Y2ggd2ls
bCBzZWxlY3Qgb3B0aW11bSBldS9zbGljZS9zdWItc2xpY2UgY29uZmlndXJhdGlvbiBiYXNlZCBv
bgo+IHR5cGUgb2YgbG9hZCAobG93LCBtZWRpdW0sIGhpZ2gpIGFzIGlucHV0Lgo+IEJhc2VkIG9u
IG91ciByZWFkaW5ncyBhbmQgZXhwZXJpbWVudHMgd2UgaGF2ZSBwcmVkZWZpbmVkIHNldCBvZiBv
cHRpbXVtCj4gY29uZmlndXJhdGlvbiBmb3IgZWFjaCBwbGF0Zm9ybShDSFQsIEtCTCkuCj4gaTkx
NV9nZW1fY29udGV4dF9zZXRfbG9hZF90eXBlIHdpbGwgc2VsZWN0IG9wdGltdW0gY29uZmlndXJh
dGlvbiBmcm9tCj4gcHJlLWRlZmluZWQgb3B0aW11bSBjb25maWd1cmF0aW9uIHRhYmxlKG9wdF9j
b25maWcpLgo+IAo+IEl0IGFsc28gaW50cm9kdWNlIGZsYWcgdXBkYXRlX3JlbmRlcl9jb25maWcg
d2hpY2ggY2FuIHNldCBieSBhbnkgZ292ZXJub3IuCj4gCj4gdjI6Cj4gICAqIE1vdmUgc3RhdGlj
IG9wdGltdW1fY29uZmlnIHRvIGRldmljZSBpbml0IHRpbWUuCj4gICAqIFJlbmFtZSBmdW5jdGlv
biB0byBhcHByb3ByaWF0ZSBuYW1lLCBmaXggZGF0YSB0eXBlcyBhbmQgcGF0Y2ggb3JkZXJpbmcu
Cj4gICAqIFJlbmFtZSBwcmV2X2xvYWRfdHlwZSB0byBwZW5kaW5nX2xvYWRfdHlwZS4gKFR2cnRr
byBVcnN1bGluKQo+IAo+IHYzOgo+ICAgKiBBZGQgc2FmZSBndWFyZCBjaGVjayBpbiBpOTE1X2dl
bV9jb250ZXh0X3NldF9sb2FkX3R5cGUuCj4gICAqIFJlbmFtZSBzdHJ1Y3QgZnJvbSBvcHRpbXVt
X2NvbmZpZyB0byBpOTE1X3NzZXVfb3B0aW11bV9jb25maWcgdG8KPiAgICAgYXZvaWQgbmFtZXNw
YWNlIGNsYXNoZXMuCj4gICAqIFJlZHVjZXMgbWVtY3B5IGZvciBzcGFjZSBlZmZpY2llbnQuCj4g
ICAqIFJlYmFzZS4KPiAgICogSW1wcm92ZWQgY29tbWl0IG1lc3NhZ2UuIChUdnJ0a28gVXJzdWxp
bikKPiAKPiB2NDoKPiAgICogTW92ZSBvcHRpbXVtIGNvbmZpZyB0YWJsZSB0byBmaWxlIHNjb3Bl
LiAoVHZydGtvIFVyc3VsaW4pCj4gCj4gdjU6Cj4gICAqIEFkZHMgb3B0aW1hbCB0YWJsZSBvZiBz
bGljZS9zdWItc2xpY2UvRVUgZm9yIEdlbiA5IEdUMS4KPiAgICogUmViYXNlLgo+IAo+IHY2Ogo+
ICAgKiBSZWJhc2UuCj4gICAqIEZpeCB3YXJuaW5ncy4KPiAKPiBDYzogVmlwaW4gQW5hbmQgPHZp
cGluLmFuYW5kQGludGVsLmNvbT4KPiBTaWduZWQtb2ZmLWJ5OiBBbmtpdCBOYXZpayA8YW5raXQu
cC5uYXZpa0BpbnRlbC5jb20+Cj4gLS0tCj4gICBkcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkx
NV9nZW1fY29udGV4dC5jICAgICAgIHwgMTggKysrKysrKwo+ICAgZHJpdmVycy9ncHUvZHJtL2k5
MTUvZ2VtL2k5MTVfZ2VtX2NvbnRleHQuaCAgICAgICB8ICAyICsKPiAgIGRyaXZlcnMvZ3B1L2Ry
bS9pOTE1L2dlbS9pOTE1X2dlbV9jb250ZXh0X3R5cGVzLmggfCAzMiArKysrKysrKysrKysKPiAg
IGRyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2xyYy5jICAgICAgICAgICAgICAgfCA0MiAr
KysrKysrKysrKysrKy0KPiAgIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZHJ2LmggICAgICAg
ICAgICAgICAgICAgfCAgNSArKwo+ICAgZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfZGV2aWNl
X2luZm8uYyAgICAgICAgICB8IDYyICsrKysrKysrKysrKysrKysrKysrKystCj4gICA2IGZpbGVz
IGNoYW5nZWQsIDE1NyBpbnNlcnRpb25zKCspLCA0IGRlbGV0aW9ucygtKQo+IAo+IGRpZmYgLS1n
aXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fY29udGV4dC5jIGIvZHJpdmVy
cy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX2NvbnRleHQuYwo+IGluZGV4IDgyODhmYjkuLmFj
OTRmOTIgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX2Nv
bnRleHQuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9jb250ZXh0
LmMKPiBAQCAtNzEzLDEwICs3MTMsMjggQEAgaTkxNV9nZW1fY3JlYXRlX2NvbnRleHQoc3RydWN0
IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUsIHVuc2lnbmVkIGludCBmbGFncykKPiAgIAo+ICAgCXRy
YWNlX2k5MTVfY29udGV4dF9jcmVhdGUoY3R4KTsKPiAgIAlhdG9taWNfc2V0KCZjdHgtPnJlcV9j
bnQsIDApOwo+ICsJY3R4LT5zbGljZV9jbnQgPSBod2VpZ2h0OChSVU5USU1FX0lORk8oaTkxNSkt
PnNzZXUuc2xpY2VfbWFzayk7Cj4gKwljdHgtPnN1YnNsaWNlX2NudCA9IGh3ZWlnaHQ4KFJVTlRJ
TUVfSU5GTyhpOTE1KS0+c3NldS5zdWJzbGljZV9tYXNrWzBdKTsKPiArCWN0eC0+ZXVfY250ID0g
UlVOVElNRV9JTkZPKGk5MTUpLT5zc2V1LmV1X3Blcl9zdWJzbGljZTsKCkkgd2FudGVkIHRvIHNh
eSB0aGF0IHlvdSBuZWVkIHRvIHdyYXAgdGhpcyBpbnRvIGEgbmFtZWQgc3RydWN0dXJlIGZyb20g
CndoaWNoIGl0IHdpbGwgYmUgY2xlYXIgdGhlc2UgbWVtYmVycyBhcmUgYWJvdXQgRHluYW1pYyBF
VSBidXQgbGV0IG1lIApmaW5pc2ggdGhlIHJlYWQsIHRoZXJlIG1pZ2h0IGJlIGEgYmV0dGVyIHdh
eS4KCj4gICAKPiAgIAlyZXR1cm4gY3R4Owo+ICAgfQo+ICAgCj4gK3ZvaWQgaTkxNV9nZW1fY29u
dGV4dF9zZXRfbG9hZF90eXBlKHN0cnVjdCBpOTE1X2dlbV9jb250ZXh0ICpjdHgsCj4gKwkJCQkg
ICAgZW51bSBnZW1fbG9hZF90eXBlIHR5cGUpCj4gK3sKPiArCXN0cnVjdCBkcm1faTkxNV9wcml2
YXRlICpkZXZfcHJpdiA9IGN0eC0+aTkxNTsKPiArCj4gKwlpZiAoR0VNX1dBUk5fT04odHlwZSA+
IExPQURfVFlQRV9MQVNUKSkKPiArCQlyZXR1cm47CgogPj0gSSB0aGluaywgb3IgYmFkIHRoaW5n
cyBjYW4gaGFwcGVuLgoKPiArCj4gKwkvKiBDYWxsIG9wdF9jb25maWcgdG8gZ2V0IGNvcnJlY3Qg
Y29uZmlndXJhdGlvbiBmb3IgZXUsc2xpY2Usc3Vic2xpY2UgKi8KPiArCWN0eC0+c2xpY2VfY250
ID0gZGV2X3ByaXYtPm9wdF9jb25maWdbdHlwZV0uc2xpY2U7Cj4gKwljdHgtPnN1YnNsaWNlX2Nu
dCA9IGRldl9wcml2LT5vcHRfY29uZmlnW3R5cGVdLnN1YnNsaWNlOwo+ICsJY3R4LT5ldV9jbnQg
PSBkZXZfcHJpdi0+b3B0X2NvbmZpZ1t0eXBlXS5ldTsKPiArCWN0eC0+cGVuZGluZ19sb2FkX3R5
cGUgPSB0eXBlOwo+ICt9Cj4gKwo+ICAgc3RhdGljIHZvaWQKPiAgIGRlc3Ryb3lfa2VybmVsX2Nv
bnRleHQoc3RydWN0IGk5MTVfZ2VtX2NvbnRleHQgKipjdHhwKQo+ICAgewo+IGRpZmYgLS1naXQg
YS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fY29udGV4dC5oIGIvZHJpdmVycy9n
cHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX2NvbnRleHQuaAo+IGluZGV4IDE4ZTUwYTcuLjg2Nzc0
MjcgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX2NvbnRl
eHQuaAo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9jb250ZXh0LmgK
PiBAQCAtMTc3LDYgKzE3Nyw4IEBAIGludCBpOTE1X2dlbV9jb250ZXh0X3NldHBhcmFtX2lvY3Rs
KHN0cnVjdCBkcm1fZGV2aWNlICpkZXYsIHZvaWQgKmRhdGEsCj4gICAJCQkJICAgIHN0cnVjdCBk
cm1fZmlsZSAqZmlsZV9wcml2KTsKPiAgIGludCBpOTE1X2dlbV9jb250ZXh0X3Jlc2V0X3N0YXRz
X2lvY3RsKHN0cnVjdCBkcm1fZGV2aWNlICpkZXYsIHZvaWQgKmRhdGEsCj4gICAJCQkJICAgICAg
IHN0cnVjdCBkcm1fZmlsZSAqZmlsZSk7Cj4gK3ZvaWQgaTkxNV9nZW1fY29udGV4dF9zZXRfbG9h
ZF90eXBlKHN0cnVjdCBpOTE1X2dlbV9jb250ZXh0ICpjdHgsCj4gKwkJCQllbnVtIGdlbV9sb2Fk
X3R5cGUgdHlwZSk7Cj4gICAKPiAgIHN0cnVjdCBpOTE1X2dlbV9jb250ZXh0ICoKPiAgIGk5MTVf
Z2VtX2NvbnRleHRfY3JlYXRlX2tlcm5lbChzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqaTkxNSwg
aW50IHByaW8pOwo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9n
ZW1fY29udGV4dF90eXBlcy5oIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX2Nv
bnRleHRfdHlwZXMuaAo+IGluZGV4IDM5MzFjMDYuLjY4NDdkNDkgMTAwNjQ0Cj4gLS0tIGEvZHJp
dmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX2NvbnRleHRfdHlwZXMuaAo+ICsrKyBiL2Ry
aXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9jb250ZXh0X3R5cGVzLmgKPiBAQCAtNDAs
NiArNDAsMTkgQEAgc3RydWN0IGk5MTVfZ2VtX2VuZ2luZXNfaXRlciB7Cj4gICAJY29uc3Qgc3Ry
dWN0IGk5MTVfZ2VtX2VuZ2luZXMgKmVuZ2luZXM7Cj4gICB9Owo+ICAgCj4gK2VudW0gZ2VtX2xv
YWRfdHlwZSB7Cj4gKwlMT0FEX1RZUEVfTE9XLAo+ICsJTE9BRF9UWVBFX01FRElVTSwKPiArCUxP
QURfVFlQRV9ISUdILAo+ICsJTE9BRF9UWVBFX0xBU1QKPiArfTsKPiArCj4gK3N0cnVjdCBpOTE1
X3NzZXVfb3B0aW11bV9jb25maWcgewo+ICsJdTggc2xpY2U7Cj4gKwl1OCBzdWJzbGljZTsKPiAr
CXU4IGV1Owo+ICt9Owo+ICsKPiAgIC8qKgo+ICAgICogc3RydWN0IGk5MTVfZ2VtX2NvbnRleHQg
LSBjbGllbnQgc3RhdGUKPiAgICAqCj4gQEAgLTE3Myw2ICsxODYsMjUgQEAgc3RydWN0IGk5MTVf
Z2VtX2NvbnRleHQgewo+ICAgCSAqLwo+ICAgCWF0b21pY190IHJlcV9jbnQ7Cj4gICAKPiArCS8q
KiBzbGljZV9jbnQ6IHVzZWQgdG8gc2V0IHRoZSAjIG9mIHNsaWNlcyB0byBiZSBlbmFibGVkLiAq
Lwo+ICsJdTggc2xpY2VfY250Owo+ICsKPiArCS8qKiBzdWJzbGljZV9jbnQ6IHVzZWQgdG8gc2V0
IHRoZSAjIG9mIHN1YnNsaWNlcyB0byBiZSBlbmFibGVkLiAqLwo+ICsJdTggc3Vic2xpY2VfY250
Owo+ICsKPiArCS8qKiBldV9jbnQ6IHVzZWQgdG8gc2V0IHRoZSAjIG9mIGV1IHRvIGJlIGVuYWJs
ZWQuICovCj4gKwl1OCBldV9jbnQ7Cj4gKwo+ICsJLyoqIGxvYWRfdHlwZTogVGhlIGRlc2lnbmF0
ZWQgbG9hZF90eXBlIChoaWdoL21lZGl1bS9sb3cpIGZvciBhIGdpdmVuCj4gKwkgKiBudW1iZXIg
b2YgcGVuZGluZyBjb21tYW5kcyBpbiB0aGUgY29tbWFuZCBxdWV1ZS4KPiArCSAqLwo+ICsJZW51
bSBnZW1fbG9hZF90eXBlIGxvYWRfdHlwZTsKPiArCj4gKwkvKiogcGVuZGluZ19sb2FkX3R5cGU6
IFRoZSBlYXJsaWVyIGxvYWQgdHlwZSB0aGF0IHRoZSBHUFUgd2FzIGNvbmZpZ3VyZWQKPiArCSAq
IGZvciAoaGlnaC9tZWRpdW0vbG93KS4KPiArCSAqLwo+ICsJZW51bSBnZW1fbG9hZF90eXBlIHBl
bmRpbmdfbG9hZF90eXBlOwo+ICsKPiAgIAkvKioganVtcF93aGl0ZWxpc3Q6IEJpdCBhcnJheSBm
b3IgdHJhY2tpbmcgY21kcyBkdXJpbmcgY21kcGFyc2luZwo+ICAgCSAqICBHdWFyZGVkIGJ5IHN0
cnVjdF9tdXRleAo+ICAgCSAqLwo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9n
dC9pbnRlbF9scmMuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2xyYy5jCj4gaW5k
ZXggNTExZDVhMS4uYzNmMjc5ZSAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9n
dC9pbnRlbF9scmMuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d0L2ludGVsX2xyYy5j
Cj4gQEAgLTI0MzYsNiArMjQzNiwzNiBAQCBzdGF0aWMgdm9pZCBleGVjbGlzdHNfY29udGV4dF91
bnBpbihzdHJ1Y3QgaW50ZWxfY29udGV4dCAqY2UpCj4gICAJaW50ZWxfcmluZ19yZXNldChjZS0+
cmluZywgY2UtPnJpbmctPnRhaWwpOwo+ICAgfQo+ICAgCj4gK3N0YXRpYyB1MzIKPiArZ2V0X2Nv
bnRleHRfcnBjc19jb25maWcoc3RydWN0IGk5MTVfZ2VtX2NvbnRleHQgKmN0eCkKPiArewo+ICsJ
dTMyIHJwY3MgPSAwOwo+ICsJc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2ID0gY3R4
LT5pOTE1Owo+ICsKPiArCWlmIChJTlRFTF9HRU4oZGV2X3ByaXYpIDwgOCkKPiArCQlyZXR1cm4g
MDsKPiArCj4gKwlpZiAoUlVOVElNRV9JTkZPKGRldl9wcml2KS0+c3NldS5oYXNfc2xpY2VfcGcp
IHsKPiArCQlycGNzIHw9IEdFTjhfUlBDU19TX0NOVF9FTkFCTEU7Cj4gKwkJcnBjcyB8PSBjdHgt
PnNsaWNlX2NudCA8PCBHRU44X1JQQ1NfU19DTlRfU0hJRlQ7Cj4gKwkJcnBjcyB8PSBHRU44X1JQ
Q1NfRU5BQkxFOwo+ICsJfQo+ICsKPiArCWlmIChSVU5USU1FX0lORk8oZGV2X3ByaXYpLT5zc2V1
Lmhhc19zdWJzbGljZV9wZykgewo+ICsJCXJwY3MgfD0gR0VOOF9SUENTX1NTX0NOVF9FTkFCTEU7
Cj4gKwkJcnBjcyB8PSBjdHgtPnN1YnNsaWNlX2NudCA8PCBHRU44X1JQQ1NfU1NfQ05UX1NISUZU
Owo+ICsJCXJwY3MgfD0gR0VOOF9SUENTX0VOQUJMRTsKPiArCX0KPiArCj4gKwlpZiAoUlVOVElN
RV9JTkZPKGRldl9wcml2KS0+c3NldS5oYXNfZXVfcGcpIHsKPiArCQlycGNzIHw9IGN0eC0+ZXVf
Y250IDw8IEdFTjhfUlBDU19FVV9NSU5fU0hJRlQ7Cj4gKwkJcnBjcyB8PSBjdHgtPmV1X2NudCA8
PCBHRU44X1JQQ1NfRVVfTUFYX1NISUZUOwo+ICsJCXJwY3MgfD0gR0VOOF9SUENTX0VOQUJMRTsK
PiArCX0KPiArCj4gKwlyZXR1cm4gcnBjczsKPiArfQo+ICsKPiAgIHN0YXRpYyB2b2lkCj4gICBf
X2V4ZWNsaXN0c191cGRhdGVfcmVnX3N0YXRlKGNvbnN0IHN0cnVjdCBpbnRlbF9jb250ZXh0ICpj
ZSwKPiAgIAkJCSAgICAgY29uc3Qgc3RydWN0IGludGVsX2VuZ2luZV9jcyAqZW5naW5lKQo+IEBA
IC0yNDUyLDggKzI0ODIsMTMgQEAgX19leGVjbGlzdHNfdXBkYXRlX3JlZ19zdGF0ZShjb25zdCBz
dHJ1Y3QgaW50ZWxfY29udGV4dCAqY2UsCj4gICAKPiAgIAkvKiBSUENTICovCj4gICAJaWYgKGVu
Z2luZS0+Y2xhc3MgPT0gUkVOREVSX0NMQVNTKSB7Cj4gLQkJcmVnc1tDVFhfUl9QV1JfQ0xLX1NU
QVRFXSA9Cj4gLQkJCWludGVsX3NzZXVfbWFrZV9ycGNzKGVuZ2luZS0+aTkxNSwgJmNlLT5zc2V1
KTsKPiArCQlpZiAoZW5naW5lLT5pOTE1LT5wcmVkaWN0aXZlX2xvYWRfZW5hYmxlKSB7Cj4gKwkJ
CXJlZ3NbQ1RYX1JfUFdSX0NMS19TVEFURV0gPQo+ICsJCQkJZ2V0X2NvbnRleHRfcnBjc19jb25m
aWcoY2UtPmdlbV9jb250ZXh0KTsKCllvdSBjYW5ub3QgZG8gaXQgbGlrZSB0aGlzIGJlY2F1c2Ug
eW91IGJyZWFrIE9BIGFuZCBHZW4xMSB1c2VyIApjb25maWd1cmVkIFNTRVUuCgpZb3UgbmVlZCB0
byBoYXZlIGludGVsX3NzZXVfbWFrZV9ycGNzIGJlbG93IGJlIHRoZSBjZW50cmFsIGRlY2lzaW9u
IAptYWtlciBvbiB3aGF0IGlzIHRoZSBjb3JyZWN0IFNTRVUgY29uZmlnIHRvIGFwcGx5LgoKT3Jk
ZXIgb2YgcHJlY2VkZW5jZSBzaG91bGQgYmU6CgoxLiBPQSBjb21wYXRpYmxlIGNvbmZpZ3VyYXRp
b24KMi4gVXNlciByZXF1ZXN0ZWQgY29uZmlndXJhdGlvbiAodmlhIGNvbnRleHQgc2V0IHBhcmFt
CjMuIER5bmFtaWMgU1NFVSBzdWdnZXN0ZWQgY29uZmlndXJhdGlvbgo0LiBEZWZhdWx0cwoKUGVy
aGFwcyB3ZSBuZWVkIGEgbWFya2VyIG9uIGNlIHNheWluZyB0aGF0IHVzZXIgY29uZmlndXJhdGlv
biBoYXMgYmVlbiAKc2V0IGFuZCB0aGVuIHRoaXMgY29kZSBjYW4gcmVtYWluIGFzIGl0IHdlcmUs
IGp1c3Qgd2hlbiB5b3UgYXJlIGFwcGx5aW5nIApEeW5hbWljIFNTRVUgc2V0dGluZ3MgeW91IGRv
IHNvbWV0aGluZyBsaWtlOgoKICAgaWYgKCFjZS0+dXNlcl9zc2V1X3NldCkKCSAgY2UtPnNzZXUg
PSBtYWtlX2R5bmFtaWNfc3NldSh5b3VyIG9wdGltYWwgY29uZmlnKTsKCkknbGwgZXhwbGFpbiBp
biB0aGUgbmV4dCBwYXRjaCB3aGF0IEkgYW0gdGhpbmtpbmcgaW4gbW9yZSBkZXRhaWwuCgpSZWdh
cmRzLAoKVHZydGtvCgo+ICsJCX0gZWxzZSB7Cj4gKwkJCXJlZ3NbQ1RYX1JfUFdSX0NMS19TVEFU
RV0gPQo+ICsJCQkJaW50ZWxfc3NldV9tYWtlX3JwY3MoZW5naW5lLT5pOTE1LCAmY2UtPnNzZXUp
Owo+ICsJCX0KPiAgIAo+ICAgCQlpOTE1X29hX2luaXRfcmVnX3N0YXRlKGNlLCBlbmdpbmUpOwo+
ICAgCX0KPiBAQCAtMjQ4NSw2ICsyNTIwLDkgQEAgX19leGVjbGlzdHNfY29udGV4dF9waW4oc3Ry
dWN0IGludGVsX2NvbnRleHQgKmNlLAo+ICAgCWNlLT5scmNfcmVnX3N0YXRlID0gdmFkZHIgKyBM
UkNfU1RBVEVfUE4gKiBQQUdFX1NJWkU7Cj4gICAJX19leGVjbGlzdHNfdXBkYXRlX3JlZ19zdGF0
ZShjZSwgZW5naW5lKTsKPiAgIAo+ICsJaWYgKGNlLT5nZW1fY29udGV4dC0+bG9hZF90eXBlICE9
IGNlLT5nZW1fY29udGV4dC0+cGVuZGluZ19sb2FkX3R5cGUpCj4gKwkJY2UtPmdlbV9jb250ZXh0
LT5sb2FkX3R5cGUgPSBjZS0+Z2VtX2NvbnRleHQtPnBlbmRpbmdfbG9hZF90eXBlOwo+ICsKPiAg
IAlyZXR1cm4gMDsKPiAgIAo+ICAgdW5waW5fYWN0aXZlOgo+IGRpZmYgLS1naXQgYS9kcml2ZXJz
L2dwdS9kcm0vaTkxNS9pOTE1X2Rydi5oIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvaTkxNV9kcnYu
aAo+IGluZGV4IGZkYWU1YTkuLjMwNjRkZGYgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJt
L2k5MTUvaTkxNV9kcnYuaAo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2k5MTVfZHJ2LmgK
PiBAQCAtOTk5LDYgKzk5OSwxMSBAQCBzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSB7Cj4gICAJLyog
cHJvdGVjdHMgcGFuZWwgcG93ZXIgc2VxdWVuY2VyIHN0YXRlICovCj4gICAJc3RydWN0IG11dGV4
IHBwc19tdXRleDsKPiAgIAo+ICsJLyogb3B0aW1hbCBzbGljZS9zdWJzbGljZS9FVSBjb25maWdy
YXRpb24gc3RhdGUgKi8KPiArCXN0cnVjdCBpOTE1X3NzZXVfb3B0aW11bV9jb25maWcgKm9wdF9j
b25maWc7Cj4gKwo+ICsJaW50IHByZWRpY3RpdmVfbG9hZF9lbmFibGU7Cj4gKwo+ICAgCXVuc2ln
bmVkIGludCBmc2JfZnJlcSwgbWVtX2ZyZXEsIGlzX2RkcjM7Cj4gICAJdW5zaWduZWQgaW50IHNr
bF9wcmVmZXJyZWRfdmNvX2ZyZXE7Cj4gICAJdW5zaWduZWQgaW50IG1heF9jZGNsa19mcmVxOwo+
IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9pbnRlbF9kZXZpY2VfaW5mby5jIGIv
ZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfZGV2aWNlX2luZm8uYwo+IGluZGV4IGE1YjU3MTMu
LmIzYzJmOTIgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvaW50ZWxfZGV2aWNl
X2luZm8uYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2ludGVsX2RldmljZV9pbmZvLmMK
PiBAQCAtODczLDYgKzg3MywzNCBAQCB2b2lkIGludGVsX2RldmljZV9pbmZvX3N1YnBsYXRmb3Jt
X2luaXQoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUpCj4gICAJUlVOVElNRV9JTkZPKGk5
MTUpLT5wbGF0Zm9ybV9tYXNrW3BpXSB8PSBtYXNrOwo+ICAgfQo+ICAgCj4gKy8qIHN0YXRpYyB0
YWJsZSBvZiBzbGljZS9zdWJzbGljZS9FVSBmb3IgQ2hlcnJ5dmlldyAqLwo+ICtzdGF0aWMgY29u
c3Qgc3RydWN0IGk5MTVfc3NldV9vcHRpbXVtX2NvbmZpZyBjaHZfY29uZmlnW0xPQURfVFlQRV9M
QVNUXSA9IHsKPiArCXsxLCAxLCA0fSwJLyogTG93ICovCj4gKwl7MSwgMSwgNn0sCS8qIE1lZGl1
bSAqLwo+ICsJezEsIDIsIDZ9CS8qIEhpZ2ggKi8KPiArfTsKPiArCj4gKy8qIHN0YXRpYyB0YWJs
ZSBvZiBzbGljZS9zdWJzbGljZS9FVSBmb3IgR0xLIEdUMSAqLwo+ICtzdGF0aWMgY29uc3Qgc3Ry
dWN0IGk5MTVfc3NldV9vcHRpbXVtX2NvbmZpZyBnbGtfZ3QxX2NvbmZpZ1tMT0FEX1RZUEVfTEFT
VF0gPSB7Cj4gKwl7MSwgMiwgMn0sCS8qIExvdyAqLwo+ICsJezEsIDIsIDN9LAkvKiBNZWRpdW0g
Ki8KPiArCXsxLCAyLCA2fQkvKiBIaWdoICovCj4gK307Cj4gKwo+ICsvKiBzdGF0aWMgdGFibGUg
b2Ygc2xpY2Uvc3Vic2xpY2UvRVUgZm9yIEtCTCBHVDIgKi8KPiArc3RhdGljIGNvbnN0IHN0cnVj
dCBpOTE1X3NzZXVfb3B0aW11bV9jb25maWcga2JsX2d0Ml9jb25maWdbTE9BRF9UWVBFX0xBU1Rd
ID0gewo+ICsJezEsIDMsIDJ9LAkvKiBMb3cgKi8KPiArCXsxLCAzLCA0fSwJLyogTWVkaXVtICov
Cj4gKwl7MSwgMywgOH0JLyogSGlnaCAqLwo+ICt9Owo+ICsKPiArLyogc3RhdGljIHRhYmxlIG9m
IHNsaWNlL3N1YnNsaWNlL0VVIGZvciBLQkwgR1QzICovCj4gK3N0YXRpYyBjb25zdCBzdHJ1Y3Qg
aTkxNV9zc2V1X29wdGltdW1fY29uZmlnIGtibF9ndDNfY29uZmlnW0xPQURfVFlQRV9MQVNUXSA9
IHsKPiArCXsyLCAzLCA0fSwJLyogTG93ICovCj4gKwl7MiwgMywgNn0sCS8qIE1lZGl1bSAqLwo+
ICsJezIsIDMsIDh9CS8qIEhpZ2ggKi8KPiArfTsKPiArCj4gICAvKioKPiAgICAqIGludGVsX2Rl
dmljZV9pbmZvX3J1bnRpbWVfaW5pdCAtIGluaXRpYWxpemUgcnVudGltZSBpbmZvCj4gICAgKiBA
ZGV2X3ByaXY6IHRoZSBpOTE1IGRldmljZQo+IEBAIC04OTQsNiArOTIyLDcgQEAgdm9pZCBpbnRl
bF9kZXZpY2VfaW5mb19ydW50aW1lX2luaXQoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9w
cml2KQo+ICAgCXN0cnVjdCBpbnRlbF9kZXZpY2VfaW5mbyAqaW5mbyA9IG1rd3JpdGVfZGV2aWNl
X2luZm8oZGV2X3ByaXYpOwo+ICAgCXN0cnVjdCBpbnRlbF9ydW50aW1lX2luZm8gKnJ1bnRpbWUg
PSBSVU5USU1FX0lORk8oZGV2X3ByaXYpOwo+ICAgCWVudW0gcGlwZSBwaXBlOwo+ICsJc3RydWN0
IGk5MTVfc3NldV9vcHRpbXVtX2NvbmZpZyAqb3B0X2NvbmZpZyA9IE5VTEw7Cj4gICAKPiAgIAlp
ZiAoSU5URUxfR0VOKGRldl9wcml2KSA+PSAxMCkgewo+ICAgCQlmb3JfZWFjaF9waXBlKGRldl9w
cml2LCBwaXBlKQo+IEBAIC05OTksMTIgKzEwMjgsMzggQEAgdm9pZCBpbnRlbF9kZXZpY2VfaW5m
b19ydW50aW1lX2luaXQoc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2KQo+ICAgCS8q
IEluaXRpYWxpemUgc2xpY2Uvc3Vic2xpY2UvRVUgaW5mbyAqLwo+ICAgCWlmIChJU19IQVNXRUxM
KGRldl9wcml2KSkKPiAgIAkJaGFzd2VsbF9zc2V1X2luZm9faW5pdChkZXZfcHJpdik7Cj4gLQll
bHNlIGlmIChJU19DSEVSUllWSUVXKGRldl9wcml2KSkKPiArCWVsc2UgaWYgKElTX0NIRVJSWVZJ
RVcoZGV2X3ByaXYpKSB7Cj4gICAJCWNoZXJyeXZpZXdfc3NldV9pbmZvX2luaXQoZGV2X3ByaXYp
Owo+ICsJCW9wdF9jb25maWcgPSAoc3RydWN0IGk5MTVfc3NldV9vcHRpbXVtX2NvbmZpZyAqKWNo
dl9jb25maWc7Cj4gKwkJQlVJTERfQlVHX09OKEFSUkFZX1NJWkUoY2h2X2NvbmZpZykgIT0gTE9B
RF9UWVBFX0xBU1QpOwo+ICsJfQo+ICAgCWVsc2UgaWYgKElTX0JST0FEV0VMTChkZXZfcHJpdikp
Cj4gICAJCWJyb2Fkd2VsbF9zc2V1X2luZm9faW5pdChkZXZfcHJpdik7Cj4gLQllbHNlIGlmIChJ
U19HRU4oZGV2X3ByaXYsIDkpKQo+ICsJZWxzZSBpZiAoSVNfR0VOKGRldl9wcml2LCA5KSkgewo+
ICAgCQlnZW45X3NzZXVfaW5mb19pbml0KGRldl9wcml2KTsKPiArCj4gKwkJc3dpdGNoIChpbmZv
LT5ndCkgewo+ICsJCWRlZmF1bHQ6IC8qIGZhbGwgdGhyb3VnaCAqLwo+ICsJCWNhc2UgMToKPiAr
CQkJb3B0X2NvbmZpZyA9IChzdHJ1Y3QgaTkxNV9zc2V1X29wdGltdW1fY29uZmlnICopCj4gKwkJ
CQkJCWdsa19ndDFfY29uZmlnOwo+ICsJCQlCVUlMRF9CVUdfT04oQVJSQVlfU0laRShnbGtfZ3Qx
X2NvbmZpZykKPiArCQkJCQkJIT0gTE9BRF9UWVBFX0xBU1QpOwo+ICsJCWJyZWFrOwo+ICsJCWNh
c2UgMjoKPiArCQkJb3B0X2NvbmZpZyA9IChzdHJ1Y3QgaTkxNV9zc2V1X29wdGltdW1fY29uZmln
ICopCj4gKwkJCQkJCWtibF9ndDJfY29uZmlnOwo+ICsJCQlCVUlMRF9CVUdfT04oQVJSQVlfU0la
RShrYmxfZ3QyX2NvbmZpZykKPiArCQkJCQkJIT0gTE9BRF9UWVBFX0xBU1QpOwo+ICsJCWJyZWFr
Owo+ICsJCWNhc2UgMzoKPiArCQkJb3B0X2NvbmZpZyA9IChzdHJ1Y3QgaTkxNV9zc2V1X29wdGlt
dW1fY29uZmlnICopCj4gKwkJCQkJCWtibF9ndDNfY29uZmlnOwo+ICsJCQlCVUlMRF9CVUdfT04o
QVJSQVlfU0laRShrYmxfZ3QzX2NvbmZpZykKPiArCQkJCQkJIT0gTE9BRF9UWVBFX0xBU1QpOwo+
ICsJCWJyZWFrOwo+ICsJCX0KPiArCX0KPiAgIAllbHNlIGlmIChJU19HRU4oZGV2X3ByaXYsIDEw
KSkKPiAgIAkJZ2VuMTBfc3NldV9pbmZvX2luaXQoZGV2X3ByaXYpOwo+ICAgCWVsc2UgaWYgKElT
X0dFTihkZXZfcHJpdiwgMTEpKQo+IEBAIC0xMDE3LDYgKzEwNzIsOSBAQCB2b2lkIGludGVsX2Rl
dmljZV9pbmZvX3J1bnRpbWVfaW5pdChzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYp
Cj4gICAJCWluZm8tPnBwZ3R0X3R5cGUgPSBJTlRFTF9QUEdUVF9OT05FOwo+ICAgCX0KPiAgIAo+
ICsJaWYgKG9wdF9jb25maWcpCj4gKwkJZGV2X3ByaXYtPm9wdF9jb25maWcgPSBvcHRfY29uZmln
Owo+ICsKPiAgIAkvKiBJbml0aWFsaXplIGNvbW1hbmQgc3RyZWFtIHRpbWVzdGFtcCBmcmVxdWVu
Y3kgKi8KPiAgIAlydW50aW1lLT5jc190aW1lc3RhbXBfZnJlcXVlbmN5X2toeiA9IHJlYWRfdGlt
ZXN0YW1wX2ZyZXF1ZW5jeShkZXZfcHJpdik7Cj4gICB9Cj4gCl9fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fCkludGVsLWdmeCBtYWlsaW5nIGxpc3QKSW50ZWwt
Z2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9t
YWlsbWFuL2xpc3RpbmZvL2ludGVsLWdmeA==
